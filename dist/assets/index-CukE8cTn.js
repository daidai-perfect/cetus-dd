const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CollectListBox-CbSrsGVa.js","assets/SingleTokenInfo-L3R1S53Q.js","assets/AddressCopyLink-9NiyIsOZ.js","assets/AddressUnderline-BOZj4VUL.js","assets/CetusTooltip-BMWwC53s.js","assets/useToken-DUMKX95L.js","assets/TokenList-6UYoi29i.js","assets/Loading-DKzecRVH.js","assets/NoData-DIhViwNa.js","assets/useTokenBalance-BddNj3YQ.js","assets/useAccountBalance-CYhYy7u9.js","assets/TokenGoplusCard-DK6ReHXN.js","assets/HTextLabelBox-CLEmTQ3w.js","assets/index-pEJWizB9.js","assets/ConnectButton-CXAwL8S4.js","assets/CetusLayout-C4hJpUD5.js","assets/useDocumentSize-Cd8hLYsP.js","assets/debounce-B-1pwfmP.js","assets/index-GYcRTxhJ.js","assets/useQueryParams-n0W6HC8p.js","assets/swapWidget-DW9whKpC.js","assets/index-FWoG0dQe.js","assets/useFindBestRouting-sQuv-0-3.js","assets/global-CjpIaFuE.js","assets/useGetPoolList-POUx1HUb.js","assets/api-data-utils-eX_2bT4B.js","assets/SwapConfirmBlock-ZHdbJrxR.js","assets/aggregator-B6yaxXR-.js","assets/useTransaction-BC9L5pZ-.js","assets/index-DiJH7D3W.js","assets/CurrentPrice-_UtaJNB6.js","assets/HighlightText-CGV7OKbF.js","assets/TradeConfirmAmountInfo-Bot-jy5Y.js","assets/TradeInputGroup-CZPFUSB4.js","assets/_getAllKeysIn-PDQ8gqNP.js","assets/RefreshButton-DuR1KtVz.js","assets/Slippage-CdCD_Bgc.js","assets/TooltipIcon-BKuTitbA.js","assets/switch-Zf-tl16n.js","assets/Stats-BSZ-rJZF.js","assets/useStatistics-D0mAqk4r.js","assets/index-BwKPDXwv.js","assets/VolumeChart-Cd78lVW8.js","assets/Pagination-slMtdzdK.js","assets/tr-CHVUeJmD.js","assets/YAxis-BpYwJTxG.js","assets/throttle-BEVLz-Fh.js","assets/generateCategoricalChart-C1GzWPXj.js","assets/linear-DYpwdEgO.js","assets/SortDropBlock-DNUuy-sR.js","assets/TableSortTh-D7Ma7Igi.js","assets/index-DhxW3sqD.js","assets/CoinPairInfo-8zE85QJM.js","assets/TvlChart-C3v1hUMW.js","assets/Swap-C9usYmFa.js","assets/LimitPriceChart-Dfki4Iie.js","assets/swap-BkaMmL1a.js","assets/Dca-YDXKRqvz.js","assets/MenuDropBlock-MTTOUPG0.js","assets/circular-progress-CDh-t-If.js","assets/progress.utils-Ccyb7jfC.js","assets/RangeValue-BThn_HyP.js","assets/progress-DTMbcU_D.js","assets/useInsufficientBalanceToast-C1ZVrdH_.js","assets/icon_currentprice@2x-DeObnx8l.js","assets/WarningTokenTipModal-BVgOuAMZ.js","assets/InputBox-DqR7u0A9.js","assets/IconBg-DcXZIecW.js","assets/useRpcListener-BkdWBUrv.js","assets/usePreviousValue-ksfxYIvo.js","assets/Pools-DM-fI4r9.js","assets/usePositionList-CkHWKFPK.js","assets/index-DHx5lXhM.js","assets/PositionListLoading-CwjQw1TT.js","assets/useCurrentPos-Bey-IjFU.js","assets/PriceRange-Dkaec-T6.js","assets/PositionStatus-C_oWv-rK.js","assets/VTextLabelBox-nyxvnta6.js","assets/useBurn-uAFfLwdr.js","assets/useNotifiSubscription-BGIIbmQN.js","assets/useXCetusHelper-BnGoSkj6.js","assets/PositionCurrentPrice-Cd2H6Cdv.js","assets/msafe-oYBkW7LJ.js","assets/Liquidity-79mtmgD4.js","assets/useGetContractPoolInfo-BpBbBnJs.js","assets/liquidity-BcWYoCp4.js","assets/ActionButton-DK54lfKE.js","assets/RangeAlerts-DwbzwqOQ.js","assets/SelectTokenAndFeeConfirm-DnmQaU8M.js","assets/FeeTierSelect-Qll6foLk.js","assets/usePosAdd-BrAzY7ub.js","assets/LockInput-DhZkofNE.js","assets/icon_lock@2x-OdzkPjmc.js","assets/common-DLsN7mf7.js","assets/PositionDetail-BMF4mk_S.js","assets/RemoveBlock-BjulqlR5.js","assets/ExpendItem-CsHmCEqn.js","assets/Farms-CSPIL3lg.js","assets/VaultsAndFarmsTabFilter-DOVWG0V6.js","assets/FarmsTable-C19ygchE.js","assets/CreatePool-iyoavXSd.js","assets/useCreatePoolHelper-2lEgHqRH.js","assets/Limit-d5FmUU1t.js","assets/Swap-BYI9GtwC.js","assets/SelectForLiquidity-C0UBvUWG.js","assets/Vaults-BRH6bES5.js","assets/useGetVaultList-BrL0bV1B.js","assets/XCetus-BoPVzGih.js","assets/VaultsDetailPage-DEmm5wVb.js","assets/TestNotifi-DAZsVUPS.js"])))=>i.map(i=>d[i]);
var Dp=Object.defineProperty;var Yu=a=>{throw TypeError(a)};var Op=(a,s,et)=>s in a?Dp(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et;var Yn=(a,s,et)=>Op(a,typeof s!="symbol"?s+"":s,et),Au=(a,s,et)=>s.has(a)||Yu("Cannot "+et);var jr=(a,s,et)=>(Au(a,s,"read from private field"),et?et.call(a):s.get(a)),_o=(a,s,et)=>s.has(a)?Yu("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),ao=(a,s,et,nt)=>(Au(a,s,"write to private field"),nt?nt.call(a,et):s.set(a,et),et),fo=(a,s,et)=>(Au(a,s,"access private method"),et);var Tl=(a,s,et,nt)=>({set _(at){ao(a,s,at,et)},get _(){return jr(a,s,nt)}});function _mergeNamespaces(a,s){for(var et=0;et<s.length;et++){const nt=s[et];if(typeof nt!="string"&&!Array.isArray(nt)){for(const at in nt)if(at!=="default"&&!(at in a)){const mt=Object.getOwnPropertyDescriptor(nt,at);mt&&Object.defineProperty(a,at,mt.get?mt:{enumerable:!0,get:()=>nt[at]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const at of document.querySelectorAll('link[rel="modulepreload"]'))nt(at);new MutationObserver(at=>{for(const mt of at)if(mt.type==="childList")for(const wt of mt.addedNodes)wt.tagName==="LINK"&&wt.rel==="modulepreload"&&nt(wt)}).observe(document,{childList:!0,subtree:!0});function et(at){const mt={};return at.integrity&&(mt.integrity=at.integrity),at.referrerPolicy&&(mt.referrerPolicy=at.referrerPolicy),at.crossOrigin==="use-credentials"?mt.credentials="include":at.crossOrigin==="anonymous"?mt.credentials="omit":mt.credentials="same-origin",mt}function nt(at){if(at.ep)return;at.ep=!0;const mt=et(at);fetch(at.href,mt)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var s=a.default;if(typeof s=="function"){var et=function nt(){return this instanceof nt?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};et.prototype=s.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(a).forEach(function(nt){var at=Object.getOwnPropertyDescriptor(a,nt);Object.defineProperty(et,nt,at.get?at:{enumerable:!0,get:function(){return a[nt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(a){return a===null||typeof a!="object"?null:(a=z$4&&a[z$4]||a["@@iterator"],typeof a=="function"?a:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$3={};function E$1(a,s,et){this.props=a,this.context=s,this.refs=D$3,this.updater=et||B$2}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,s){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,s,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(a,s,et){this.props=a,this.context=s,this.refs=D$3,this.updater=et||B$2}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$1(H$3,E$1.prototype);H$3.isPureReactComponent=!0;var I$4=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$3(a,s,et){var nt,at={},mt=null,wt=null;if(s!=null)for(nt in s.ref!==void 0&&(wt=s.ref),s.key!==void 0&&(mt=""+s.key),s)J$1.call(s,nt)&&!L$2.hasOwnProperty(nt)&&(at[nt]=s[nt]);var $t=arguments.length-2;if($t===1)at.children=et;else if(1<$t){for(var Ct=Array($t),Dt=0;Dt<$t;Dt++)Ct[Dt]=arguments[Dt+2];at.children=Ct}if(a&&a.defaultProps)for(nt in $t=a.defaultProps,$t)at[nt]===void 0&&(at[nt]=$t[nt]);return{$$typeof:l$2,type:a,key:mt,ref:wt,props:at,_owner:K$2.current}}function N$1(a,s){return{$$typeof:l$2,type:a.type,key:s,ref:a.ref,props:a.props,_owner:a._owner}}function O$4(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$2}function escape$4(a){var s={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(et){return s[et]})}var P$5=/\/+/g;function Q$1(a,s){return typeof a=="object"&&a!==null&&a.key!=null?escape$4(""+a.key):s.toString(36)}function R$2(a,s,et,nt,at){var mt=typeof a;(mt==="undefined"||mt==="boolean")&&(a=null);var wt=!1;if(a===null)wt=!0;else switch(mt){case"string":case"number":wt=!0;break;case"object":switch(a.$$typeof){case l$2:case n$2:wt=!0}}if(wt)return wt=a,at=at(wt),a=nt===""?"."+Q$1(wt,0):nt,I$4(at)?(et="",a!=null&&(et=a.replace(P$5,"$&/")+"/"),R$2(at,s,et,"",function(Dt){return Dt})):at!=null&&(O$4(at)&&(at=N$1(at,et+(!at.key||wt&&wt.key===at.key?"":(""+at.key).replace(P$5,"$&/")+"/")+a)),s.push(at)),1;if(wt=0,nt=nt===""?".":nt+":",I$4(a))for(var $t=0;$t<a.length;$t++){mt=a[$t];var Ct=nt+Q$1(mt,$t);wt+=R$2(mt,s,et,Ct,at)}else if(Ct=A$3(a),typeof Ct=="function")for(a=Ct.call(a),$t=0;!(mt=a.next()).done;)mt=mt.value,Ct=nt+Q$1(mt,$t++),wt+=R$2(mt,s,et,Ct,at);else if(mt==="object")throw s=String(a),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return wt}function S$5(a,s,et){if(a==null)return a;var nt=[],at=0;return R$2(a,nt,"","",function(mt){return s.call(et,mt,at++)}),nt}function T$2(a){if(a._status===-1){var s=a._result;s=s(),s.then(function(et){(a._status===0||a._status===-1)&&(a._status=1,a._result=et)},function(et){(a._status===0||a._status===-1)&&(a._status=2,a._result=et)}),a._status===-1&&(a._status=0,a._result=s)}if(a._status===1)return a._result.default;throw a._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(a,s,et){S$5(a,function(){s.apply(this,arguments)},et)},count:function(a){var s=0;return S$5(a,function(){s++}),s},toArray:function(a){return S$5(a,function(s){return s})||[]},only:function(a){if(!O$4(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$1;react_production_min.cloneElement=function(a,s,et){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var nt=C$1({},a.props),at=a.key,mt=a.ref,wt=a._owner;if(s!=null){if(s.ref!==void 0&&(mt=s.ref,wt=K$2.current),s.key!==void 0&&(at=""+s.key),a.type&&a.type.defaultProps)var $t=a.type.defaultProps;for(Ct in s)J$1.call(s,Ct)&&!L$2.hasOwnProperty(Ct)&&(nt[Ct]=s[Ct]===void 0&&$t!==void 0?$t[Ct]:s[Ct])}var Ct=arguments.length-2;if(Ct===1)nt.children=et;else if(1<Ct){$t=Array(Ct);for(var Dt=0;Dt<Ct;Dt++)$t[Dt]=arguments[Dt+2];nt.children=$t}return{$$typeof:l$2,type:a.type,key:at,ref:mt,props:nt,_owner:wt}};react_production_min.createContext=function(a){return a={$$typeof:u$2,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$2,_context:a},a.Consumer=a};react_production_min.createElement=M$3;react_production_min.createFactory=function(a){var s=M$3.bind(null,a);return s.type=a,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$6,render:a}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(a){return{$$typeof:y$2,_payload:{_status:-1,_result:a},_init:T$2}};react_production_min.memo=function(a,s){return{$$typeof:x$3,type:a,compare:s===void 0?null:s}};react_production_min.startTransition=function(a){var s=V$2.transition;V$2.transition={};try{a()}finally{V$2.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(a,s){return U$2.current.useCallback(a,s)};react_production_min.useContext=function(a){return U$2.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$2.current.useDeferredValue(a)};react_production_min.useEffect=function(a,s){return U$2.current.useEffect(a,s)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(a,s,et){return U$2.current.useImperativeHandle(a,s,et)};react_production_min.useInsertionEffect=function(a,s){return U$2.current.useInsertionEffect(a,s)};react_production_min.useLayoutEffect=function(a,s){return U$2.current.useLayoutEffect(a,s)};react_production_min.useMemo=function(a,s){return U$2.current.useMemo(a,s)};react_production_min.useReducer=function(a,s,et){return U$2.current.useReducer(a,s,et)};react_production_min.useRef=function(a){return U$2.current.useRef(a)};react_production_min.useState=function(a){return U$2.current.useState(a)};react_production_min.useSyncExternalStore=function(a,s,et){return U$2.current.useSyncExternalStore(a,s,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs$2(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$3=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$3(a,s,et){var nt,at={},mt=null,wt=null;et!==void 0&&(mt=""+et),s.key!==void 0&&(mt=""+s.key),s.ref!==void 0&&(wt=s.ref);for(nt in s)m$5.call(s,nt)&&!p$2.hasOwnProperty(nt)&&(at[nt]=s[nt]);if(a&&a.defaultProps)for(nt in s=a.defaultProps,s)at[nt]===void 0&&(at[nt]=s[nt]);return{$$typeof:k$3,type:a,key:mt,ref:wt,props:at,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function s(lr,nr){var Lt=lr.length;lr.push(nr);e:for(;0<Lt;){var or=Lt-1>>>1,gr=lr[or];if(0<at(gr,nr))lr[or]=nr,lr[Lt]=gr,Lt=or;else break e}}function et(lr){return lr.length===0?null:lr[0]}function nt(lr){if(lr.length===0)return null;var nr=lr[0],Lt=lr.pop();if(Lt!==nr){lr[0]=Lt;e:for(var or=0,gr=lr.length,pr=gr>>>1;or<pr;){var _r=2*(or+1)-1,kr=lr[_r],Mr=_r+1,$r=lr[Mr];if(0>at(kr,Lt))Mr<gr&&0>at($r,kr)?(lr[or]=$r,lr[Mr]=Lt,or=Mr):(lr[or]=kr,lr[_r]=Lt,or=_r);else if(Mr<gr&&0>at($r,Lt))lr[or]=$r,lr[Mr]=Lt,or=Mr;else break e}}return nr}function at(lr,nr){var Lt=lr.sortIndex-nr.sortIndex;return Lt!==0?Lt:lr.id-nr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var mt=performance;a.unstable_now=function(){return mt.now()}}else{var wt=Date,$t=wt.now();a.unstable_now=function(){return wt.now()-$t}}var Ct=[],Dt=[],Ft=1,jt=null,Ut=3,tr=!1,ir=!1,sr=!1,ur=typeof setTimeout=="function"?setTimeout:null,fr=typeof clearTimeout=="function"?clearTimeout:null,dr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function hr(lr){for(var nr=et(Dt);nr!==null;){if(nr.callback===null)nt(Dt);else if(nr.startTime<=lr)nt(Dt),nr.sortIndex=nr.expirationTime,s(Ct,nr);else break;nr=et(Dt)}}function vr(lr){if(sr=!1,hr(lr),!ir)if(et(Ct)!==null)ir=!0,rr(yr);else{var nr=et(Dt);nr!==null&&ar(vr,nr.startTime-lr)}}function yr(lr,nr){ir=!1,sr&&(sr=!1,fr(wr),wr=-1),tr=!0;var Lt=Ut;try{for(hr(nr),jt=et(Ct);jt!==null&&(!(jt.expirationTime>nr)||lr&&!cr());){var or=jt.callback;if(typeof or=="function"){jt.callback=null,Ut=jt.priorityLevel;var gr=or(jt.expirationTime<=nr);nr=a.unstable_now(),typeof gr=="function"?jt.callback=gr:jt===et(Ct)&&nt(Ct),hr(nr)}else nt(Ct);jt=et(Ct)}if(jt!==null)var pr=!0;else{var _r=et(Dt);_r!==null&&ar(vr,_r.startTime-nr),pr=!1}return pr}finally{jt=null,Ut=Lt,tr=!1}}var xr=!1,br=null,wr=-1,Sr=5,Cr=-1;function cr(){return!(a.unstable_now()-Cr<Sr)}function Nt(){if(br!==null){var lr=a.unstable_now();Cr=lr;var nr=!0;try{nr=br(!0,lr)}finally{nr?Vt():(xr=!1,br=null)}}else xr=!1}var Vt;if(typeof dr=="function")Vt=function(){dr(Nt)};else if(typeof MessageChannel<"u"){var er=new MessageChannel,Yt=er.port2;er.port1.onmessage=Nt,Vt=function(){Yt.postMessage(null)}}else Vt=function(){ur(Nt,0)};function rr(lr){br=lr,xr||(xr=!0,Vt())}function ar(lr,nr){wr=ur(function(){lr(a.unstable_now())},nr)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(lr){lr.callback=null},a.unstable_continueExecution=function(){ir||tr||(ir=!0,rr(yr))},a.unstable_forceFrameRate=function(lr){0>lr||125<lr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Sr=0<lr?Math.floor(1e3/lr):5},a.unstable_getCurrentPriorityLevel=function(){return Ut},a.unstable_getFirstCallbackNode=function(){return et(Ct)},a.unstable_next=function(lr){switch(Ut){case 1:case 2:case 3:var nr=3;break;default:nr=Ut}var Lt=Ut;Ut=nr;try{return lr()}finally{Ut=Lt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(lr,nr){switch(lr){case 1:case 2:case 3:case 4:case 5:break;default:lr=3}var Lt=Ut;Ut=lr;try{return nr()}finally{Ut=Lt}},a.unstable_scheduleCallback=function(lr,nr,Lt){var or=a.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?or+Lt:or):Lt=or,lr){case 1:var gr=-1;break;case 2:gr=250;break;case 5:gr=1073741823;break;case 4:gr=1e4;break;default:gr=5e3}return gr=Lt+gr,lr={id:Ft++,callback:nr,priorityLevel:lr,startTime:Lt,expirationTime:gr,sortIndex:-1},Lt>or?(lr.sortIndex=Lt,s(Dt,lr),et(Ct)===null&&lr===et(Dt)&&(sr?(fr(wr),wr=-1):sr=!0,ar(vr,Lt-or))):(lr.sortIndex=gr,s(Ct,lr),ir||tr||(ir=!0,rr(yr))),lr},a.unstable_shouldYield=cr,a.unstable_wrapCallback=function(lr){var nr=Ut;return function(){var Lt=Ut;Ut=nr;try{return lr.apply(this,arguments)}finally{Ut=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,et=1;et<arguments.length;et++)s+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,s){ha(a,s),ha(a+"Capture",s)}function ha(a,s){for(ea[a]=s,a=0;a<s.length;a++)da.add(s[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,s,et,nt){if(et!==null&&et.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return nt?!1:et!==null?!et.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,s,et,nt){if(s===null||typeof s>"u"||pa(a,s,et,nt))return!0;if(nt)return!1;if(et!==null)switch(et.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$5(a,s,et,nt,at,mt,wt){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=nt,this.attributeNamespace=at,this.mustUseProperty=et,this.propertyName=a,this.type=s,this.sanitizeURL=mt,this.removeEmptyString=wt}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$3[a]=new v$5(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];z$3[s]=new v$5(s,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$3[a]=new v$5(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$3[a]=new v$5(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$3[a]=new v$5(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$3[a]=new v$5(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$3[a]=new v$5(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$3[a]=new v$5(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$3[a]=new v$5(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(ra,sa);z$3[s]=new v$5(s,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(ra,sa);z$3[s]=new v$5(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(ra,sa);z$3[s]=new v$5(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$3[a]=new v$5(a,1,!1,a.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$3[a]=new v$5(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,s,et,nt){var at=z$3.hasOwnProperty(s)?z$3[s]:null;(at!==null?at.type!==0:nt||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,et,at,nt)&&(et=null),nt||at===null?oa(s)&&(et===null?a.removeAttribute(s):a.setAttribute(s,""+et)):at.mustUseProperty?a[at.propertyName]=et===null?at.type===3?!1:"":et:(s=at.attributeName,nt=at.attributeNamespace,et===null?a.removeAttribute(s):(at=at.type,et=at===3||at===4&&et===!0?"":""+et,nt?a.setAttributeNS(nt,s,et):a.setAttribute(s,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$2=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(et){var s=et.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+a}var Na=!1;function Oa(a,s){if(!a||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Dt){var nt=Dt}Reflect.construct(a,[],s)}else{try{s.call()}catch(Dt){nt=Dt}a.call(s.prototype)}else{try{throw Error()}catch(Dt){nt=Dt}a()}}catch(Dt){if(Dt&&nt&&typeof Dt.stack=="string"){for(var at=Dt.stack.split(`
`),mt=nt.stack.split(`
`),wt=at.length-1,$t=mt.length-1;1<=wt&&0<=$t&&at[wt]!==mt[$t];)$t--;for(;1<=wt&&0<=$t;wt--,$t--)if(at[wt]!==mt[$t]){if(wt!==1||$t!==1)do if(wt--,$t--,0>$t||at[wt]!==mt[$t]){var Ct=`
`+at[wt].replace(" at new "," at ");return a.displayName&&Ct.includes("<anonymous>")&&(Ct=Ct.replace("<anonymous>",a.displayName)),Ct}while(1<=wt&&0<=$t);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return s=a.displayName||null,s!==null?s:Qa(a.type)||"Memo";case Ha:s=a._payload,a=a._init;try{return Qa(a(s))}catch{}}return null}function Ra(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(a){var s=Ta(a)?"checked":"value",et=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),nt=""+a[s];if(!a.hasOwnProperty(s)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var at=et.get,mt=et.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return at.call(this)},set:function(wt){nt=""+wt,mt.call(this,wt)}}),Object.defineProperty(a,s,{enumerable:et.enumerable}),{getValue:function(){return nt},setValue:function(wt){nt=""+wt},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var et=s.getValue(),nt="";return a&&(nt=Ta(a)?a.checked?"true":"false":a.value),a=nt,a!==et?(s.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,s){var et=s.checked;return A$2({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??a._wrapperState.initialChecked})}function Za(a,s){var et=s.defaultValue==null?"":s.defaultValue,nt=s.checked!=null?s.checked:s.defaultChecked;et=Sa(s.value!=null?s.value:et),a._wrapperState={initialChecked:nt,initialValue:et,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(a,s){s=s.checked,s!=null&&ta(a,"checked",s,!1)}function bb(a,s){ab(a,s);var et=Sa(s.value),nt=s.type;if(et!=null)nt==="number"?(et===0&&a.value===""||a.value!=et)&&(a.value=""+et):a.value!==""+et&&(a.value=""+et);else if(nt==="submit"||nt==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?cb(a,s.type,et):s.hasOwnProperty("defaultValue")&&cb(a,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function db(a,s,et){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var nt=s.type;if(!(nt!=="submit"&&nt!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,et||s===a.value||(a.value=s),a.defaultValue=s}et=a.name,et!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,et!==""&&(a.name=et)}function cb(a,s,et){(s!=="number"||Xa(a.ownerDocument)!==a)&&(et==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+et&&(a.defaultValue=""+et))}var eb=Array.isArray;function fb(a,s,et,nt){if(a=a.options,s){s={};for(var at=0;at<et.length;at++)s["$"+et[at]]=!0;for(et=0;et<a.length;et++)at=s.hasOwnProperty("$"+a[et].value),a[et].selected!==at&&(a[et].selected=at),at&&nt&&(a[et].defaultSelected=!0)}else{for(et=""+Sa(et),s=null,at=0;at<a.length;at++){if(a[at].value===et){a[at].selected=!0,nt&&(a[at].defaultSelected=!0);return}s!==null||a[at].disabled||(s=a[at])}s!==null&&(s.selected=!0)}}function gb(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$2({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,s){var et=s.value;if(et==null){if(et=s.children,s=s.defaultValue,et!=null){if(s!=null)throw Error(p$1(92));if(eb(et)){if(1<et.length)throw Error(p$1(93));et=et[0]}s=et}s==null&&(s=""),et=s}a._wrapperState={initialValue:Sa(et)}}function ib(a,s){var et=Sa(s.value),nt=Sa(s.defaultValue);et!=null&&(et=""+et,et!==a.value&&(a.value=et),s.defaultValue==null&&a.defaultValue!==et&&(a.defaultValue=et)),nt!=null&&(a.defaultValue=""+nt)}function jb(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,et,nt,at){MSApp.execUnsafeLocalFunction(function(){return a(s,et,nt,at)})}:a}(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function ob(a,s){if(s){var et=a.firstChild;if(et&&et===a.lastChild&&et.nodeType===3){et.nodeValue=s;return}}a.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),pb[s]=pb[a]})});function rb(a,s,et){return s==null||typeof s=="boolean"||s===""?"":et||typeof s!="number"||s===0||pb.hasOwnProperty(a)&&pb[a]?(""+s).trim():s+"px"}function sb(a,s){a=a.style;for(var et in s)if(s.hasOwnProperty(et)){var nt=et.indexOf("--")===0,at=rb(et,s[et],nt);et==="float"&&(et="cssFloat"),nt?a.setProperty(et,at):a[et]=at}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,s){if(s){if(tb[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p$1(280));var s=a.stateNode;s&&(s=Db(s),yb(a.stateNode,a.type,s))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,s=Ab;if(Ab=zb=null,Bb(a),s)for(a=0;a<s.length;a++)Bb(s[a])}}function Gb(a,s){return a(s)}function Hb(){}var Ib=!1;function Jb(a,s,et){if(Ib)return a(s,et);Ib=!0;try{return Gb(a,s,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,s){var et=a.stateNode;if(et===null)return null;var nt=Db(et);if(nt===null)return null;et=nt[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(a=a.type,nt=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!nt;break e;default:a=!1}if(a)return null;if(et&&typeof et!="function")throw Error(p$1(231,s,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,s,et,nt,at,mt,wt,$t,Ct){var Dt=Array.prototype.slice.call(arguments,3);try{s.apply(et,Dt)}catch(Ft){this.onError(Ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,s,et,nt,at,mt,wt,$t,Ct){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,s,et,nt,at,mt,wt,$t,Ct){if(Tb.apply(this,arguments),Ob){if(Ob){var Dt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=Dt)}}function Vb(a){var s=a,et=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,s.flags&4098&&(et=s.return),a=s.return;while(a)}return s.tag===3?et:null}function Wb(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p$1(188))}function Yb(a){var s=a.alternate;if(!s){if(s=Vb(a),s===null)throw Error(p$1(188));return s!==a?null:a}for(var et=a,nt=s;;){var at=et.return;if(at===null)break;var mt=at.alternate;if(mt===null){if(nt=at.return,nt!==null){et=nt;continue}break}if(at.child===mt.child){for(mt=at.child;mt;){if(mt===et)return Xb(at),a;if(mt===nt)return Xb(at),s;mt=mt.sibling}throw Error(p$1(188))}if(et.return!==nt.return)et=at,nt=mt;else{for(var wt=!1,$t=at.child;$t;){if($t===et){wt=!0,et=at,nt=mt;break}if($t===nt){wt=!0,nt=at,et=mt;break}$t=$t.sibling}if(!wt){for($t=mt.child;$t;){if($t===et){wt=!0,et=mt,nt=at;break}if($t===nt){wt=!0,nt=mt,et=at;break}$t=$t.sibling}if(!wt)throw Error(p$1(189))}}if(et.alternate!==nt)throw Error(p$1(190))}if(et.tag!==3)throw Error(p$1(188));return et.stateNode.current===et?a:s}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=$b(a);if(s!==null)return s;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,s){var et=a.pendingLanes;if(et===0)return 0;var nt=0,at=a.suspendedLanes,mt=a.pingedLanes,wt=et&268435455;if(wt!==0){var $t=wt&~at;$t!==0?nt=tc($t):(mt&=wt,mt!==0&&(nt=tc(mt)))}else wt=et&~at,wt!==0?nt=tc(wt):mt!==0&&(nt=tc(mt));if(nt===0)return 0;if(s!==0&&s!==nt&&!(s&at)&&(at=nt&-nt,mt=s&-s,at>=mt||at===16&&(mt&4194240)!==0))return s;if(nt&4&&(nt|=et&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=nt;0<s;)et=31-oc(s),at=1<<et,nt|=a[et],s&=~at;return nt}function vc(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,s){for(var et=a.suspendedLanes,nt=a.pingedLanes,at=a.expirationTimes,mt=a.pendingLanes;0<mt;){var wt=31-oc(mt),$t=1<<wt,Ct=at[wt];Ct===-1?(!($t&et)||$t&nt)&&(at[wt]=vc($t,s)):Ct<=s&&(a.expiredLanes|=$t),mt&=~$t}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var s=[],et=0;31>et;et++)s.push(a);return s}function Ac(a,s,et){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-oc(s),a[s]=et}function Bc(a,s){var et=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var nt=a.eventTimes;for(a=a.expirationTimes;0<et;){var at=31-oc(et),mt=1<<at;s[at]=0,nt[at]=-1,a[at]=-1,et&=~mt}}function Cc(a,s){var et=a.entangledLanes|=s;for(a=a.entanglements;et;){var nt=31-oc(et),at=1<<nt;at&s|a[nt]&s&&(a[nt]|=s),et&=~at}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,s){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(a,s,et,nt,at,mt){return a===null||a.nativeEvent!==mt?(a={blockedOn:s,domEventName:et,eventSystemFlags:nt,nativeEvent:mt,targetContainers:[at]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),a):(a.eventSystemFlags|=nt,s=a.targetContainers,at!==null&&s.indexOf(at)===-1&&s.push(at),a)}function Uc(a,s,et,nt,at){switch(s){case"focusin":return Lc=Tc(Lc,a,s,et,nt,at),!0;case"dragenter":return Mc=Tc(Mc,a,s,et,nt,at),!0;case"mouseover":return Nc=Tc(Nc,a,s,et,nt,at),!0;case"pointerover":var mt=at.pointerId;return Oc.set(mt,Tc(Oc.get(mt)||null,a,s,et,nt,at)),!0;case"gotpointercapture":return mt=at.pointerId,Pc.set(mt,Tc(Pc.get(mt)||null,a,s,et,nt,at)),!0}return!1}function Vc(a){var s=Wc(a.target);if(s!==null){var et=Vb(s);if(et!==null){if(s=et.tag,s===13){if(s=Wb(et),s!==null){a.blockedOn=s,Ic(a.priority,function(){Gc(et)});return}}else if(s===3&&et.stateNode.current.memoizedState.isDehydrated){a.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var et=Yc(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(et===null){et=a.nativeEvent;var nt=new et.constructor(et.type,et);wb=nt,et.target.dispatchEvent(nt),wb=null}else return s=Cb(et),s!==null&&Fc(s),a.blockedOn=et,!1;s.shift()}return!0}function Zc(a,s,et){Xc(a)&&et.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,s){a.blockedOn===s&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function s(at){return ad(at,a)}if(0<Kc.length){ad(Kc[0],a);for(var et=1;et<Kc.length;et++){var nt=Kc[et];nt.blockedOn===a&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(s),Pc.forEach(s),et=0;et<Qc.length;et++)nt=Qc[et],nt.blockedOn===a&&(nt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,s,et,nt){var at=C,mt=cd.transition;cd.transition=null;try{C=1,fd(a,s,et,nt)}finally{C=at,cd.transition=mt}}function gd(a,s,et,nt){var at=C,mt=cd.transition;cd.transition=null;try{C=4,fd(a,s,et,nt)}finally{C=at,cd.transition=mt}}function fd(a,s,et,nt){if(dd){var at=Yc(a,s,et,nt);if(at===null)hd(a,s,nt,id$3,et),Sc(a,nt);else if(Uc(at,a,s,et,nt))nt.stopPropagation();else if(Sc(a,nt),s&4&&-1<Rc.indexOf(a)){for(;at!==null;){var mt=Cb(at);if(mt!==null&&Ec(mt),mt=Yc(a,s,et,nt),mt===null&&hd(a,s,nt,id$3,et),mt===at)break;at=mt}at!==null&&nt.stopPropagation()}else hd(a,s,nt,null,et)}}var id$3=null;function Yc(a,s,et,nt){if(id$3=null,a=xb(nt),a=Wc(a),a!==null)if(s=Vb(a),s===null)a=null;else if(et=s.tag,et===13){if(a=Wb(s),a!==null)return a;a=null}else if(et===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return id$3=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,s=ld,et=s.length,nt,at="value"in kd?kd.value:kd.textContent,mt=at.length;for(a=0;a<et&&s[a]===at[a];a++);var wt=et-a;for(nt=1;nt<=wt&&s[et-nt]===at[mt-nt];nt++);return md=at.slice(a,1<nt?1-nt:void 0)}function od(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function s(et,nt,at,mt,wt){this._reactName=et,this._targetInst=at,this.type=nt,this.nativeEvent=mt,this.target=wt,this.currentTarget=null;for(var $t in a)a.hasOwnProperty($t)&&(et=a[$t],this[$t]=et?et(mt):mt[$t]);return this.isDefaultPrevented=(mt.defaultPrevented!=null?mt.defaultPrevented:mt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Od[a])?!!s[a]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(a){if(a.key){var s=Md[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$1=!1;function ge$1(a,s){switch(a){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie$2=!1;function je$1(a,s){switch(a){case"compositionend":return he$1(s);case"keypress":return s.which!==32?null:(fe$1=!0,ee$2);case"textInput":return a=s.data,a===ee$2&&fe$1?null:a;default:return null}}function ke$2(a,s){if(ie$2)return a==="compositionend"||!ae$1&&ge$1(a,s)?(a=nd(),md=ld=kd=null,ie$2=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!le$1[a.type]:s==="textarea"}function ne$2(a,s,et,nt){Eb(nt),s=oe$1(s,"onChange"),0<s.length&&(et=new td("onChange","change",null,et,nt),a.push({event:et,listeners:s}))}var pe$1=null,qe=null;function re$2(a){se$1(a,0)}function te(a){var s=ue(a);if(Wa(s))return a}function ve$2(a,s){if(a==="change")return s}var we$1=!1;if(ia){var xe$1;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$2=typeof ze.oninput=="function"}xe$1=ye$2}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe=pe$1=null)}function Be$1(a){if(a.propertyName==="value"&&te(qe)){var s=[];ne$2(s,qe,a,xb(a)),Jb(re$2,s)}}function Ce$1(a,s,et){a==="focusin"?(Ae$2(),pe$1=s,qe=et,pe$1.attachEvent("onpropertychange",Be$1)):a==="focusout"&&Ae$2()}function De$1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee$2(a,s){if(a==="click")return te(s)}function Fe$1(a,s){if(a==="input"||a==="change")return te(s)}function Ge(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(a,s){if(He(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var et=Object.keys(a),nt=Object.keys(s);if(et.length!==nt.length)return!1;for(nt=0;nt<et.length;nt++){var at=et[nt];if(!ja.call(s,at)||!He(a[at],s[at]))return!1}return!0}function Je$1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke$1(a,s){var et=Je$1(a);a=0;for(var nt;et;){if(et.nodeType===3){if(nt=a+et.textContent.length,a<=s&&nt>=s)return{node:et,offset:s-a};a=nt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je$1(et)}}function Le$1(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Le$1(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var a=window,s=Xa();s instanceof a.HTMLIFrameElement;){try{var et=typeof s.contentWindow.location.href=="string"}catch{et=!1}if(et)a=s.contentWindow;else break;s=Xa(a.document)}return s}function Ne(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function Oe(a){var s=Me(),et=a.focusedElem,nt=a.selectionRange;if(s!==et&&et&&et.ownerDocument&&Le$1(et.ownerDocument.documentElement,et)){if(nt!==null&&Ne(et)){if(s=nt.start,a=nt.end,a===void 0&&(a=s),"selectionStart"in et)et.selectionStart=s,et.selectionEnd=Math.min(a,et.value.length);else if(a=(s=et.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var at=et.textContent.length,mt=Math.min(nt.start,at);nt=nt.end===void 0?mt:Math.min(nt.end,at),!a.extend&&mt>nt&&(at=nt,nt=mt,mt=at),at=Ke$1(et,mt);var wt=Ke$1(et,nt);at&&wt&&(a.rangeCount!==1||a.anchorNode!==at.node||a.anchorOffset!==at.offset||a.focusNode!==wt.node||a.focusOffset!==wt.offset)&&(s=s.createRange(),s.setStart(at.node,at.offset),a.removeAllRanges(),mt>nt?(a.addRange(s),a.extend(wt.node,wt.offset)):(s.setEnd(wt.node,wt.offset),a.addRange(s)))}}for(s=[],a=et;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<s.length;et++)a=s[et],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te=!1;function Ue$1(a,s,et){var nt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie$1(Se$1,nt)||(Se$1=nt,nt=oe$1(Re$1,"onSelect"),0<nt.length&&(s=new td("onSelect","select",null,s,et),a.push({event:s,listeners:nt}),s.target=Qe)))}function Ve$1(a,s){var et={};return et[a.toLowerCase()]=s.toLowerCase(),et["Webkit"+a]="webkit"+s,et["Moz"+a]="moz"+s,et}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(a){if(Xe$1[a])return Xe$1[a];if(!We$1[a])return a;var s=We$1[a],et;for(et in s)if(s.hasOwnProperty(et)&&et in Ye)return Xe$1[a]=s[et];return a}var $e$2=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,s){df.set(a,s),fa(s,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,s,et){var nt=a.type||"unknown-event";a.currentTarget=et,Ub(nt,s,void 0,a),a.currentTarget=null}function se$1(a,s){s=(s&4)!==0;for(var et=0;et<a.length;et++){var nt=a[et],at=nt.event;nt=nt.listeners;e:{var mt=void 0;if(s)for(var wt=nt.length-1;0<=wt;wt--){var $t=nt[wt],Ct=$t.instance,Dt=$t.currentTarget;if($t=$t.listener,Ct!==mt&&at.isPropagationStopped())break e;nf(at,$t,Dt),mt=Ct}else for(wt=0;wt<nt.length;wt++){if($t=nt[wt],Ct=$t.instance,Dt=$t.currentTarget,$t=$t.listener,Ct!==mt&&at.isPropagationStopped())break e;nf(at,$t,Dt),mt=Ct}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D$2(a,s){var et=s[of];et===void 0&&(et=s[of]=new Set);var nt=a+"__bubble";et.has(nt)||(pf(s,a,2,!1),et.add(nt))}function qf(a,s,et){var nt=0;s&&(nt|=4),pf(et,a,nt,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,a),qf(et,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(a,s,et,nt){switch(jd(s)){case 1:var at=ed;break;case 4:at=gd;break;default:at=fd}et=at.bind(null,s,et,a),at=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(at=!0),nt?at!==void 0?a.addEventListener(s,et,{capture:!0,passive:at}):a.addEventListener(s,et,!0):at!==void 0?a.addEventListener(s,et,{passive:at}):a.addEventListener(s,et,!1)}function hd(a,s,et,nt,at){var mt=nt;if(!(s&1)&&!(s&2)&&nt!==null)e:for(;;){if(nt===null)return;var wt=nt.tag;if(wt===3||wt===4){var $t=nt.stateNode.containerInfo;if($t===at||$t.nodeType===8&&$t.parentNode===at)break;if(wt===4)for(wt=nt.return;wt!==null;){var Ct=wt.tag;if((Ct===3||Ct===4)&&(Ct=wt.stateNode.containerInfo,Ct===at||Ct.nodeType===8&&Ct.parentNode===at))return;wt=wt.return}for(;$t!==null;){if(wt=Wc($t),wt===null)return;if(Ct=wt.tag,Ct===5||Ct===6){nt=mt=wt;continue e}$t=$t.parentNode}}nt=nt.return}Jb(function(){var Dt=mt,Ft=xb(et),jt=[];e:{var Ut=df.get(a);if(Ut!==void 0){var tr=td,ir=a;switch(a){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":tr=Rd;break;case"focusin":ir="focus",tr=Fd;break;case"focusout":ir="blur",tr=Fd;break;case"beforeblur":case"afterblur":tr=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tr=Vd;break;case $e$2:case af:case bf:tr=Hd;break;case cf:tr=Xd;break;case"scroll":tr=vd;break;case"wheel":tr=Zd;break;case"copy":case"cut":case"paste":tr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tr=Td}var sr=(s&4)!==0,ur=!sr&&a==="scroll",fr=sr?Ut!==null?Ut+"Capture":null:Ut;sr=[];for(var dr=Dt,hr;dr!==null;){hr=dr;var vr=hr.stateNode;if(hr.tag===5&&vr!==null&&(hr=vr,fr!==null&&(vr=Kb(dr,fr),vr!=null&&sr.push(tf(dr,vr,hr)))),ur)break;dr=dr.return}0<sr.length&&(Ut=new tr(Ut,ir,null,et,Ft),jt.push({event:Ut,listeners:sr}))}}if(!(s&7)){e:{if(Ut=a==="mouseover"||a==="pointerover",tr=a==="mouseout"||a==="pointerout",Ut&&et!==wb&&(ir=et.relatedTarget||et.fromElement)&&(Wc(ir)||ir[uf]))break e;if((tr||Ut)&&(Ut=Ft.window===Ft?Ft:(Ut=Ft.ownerDocument)?Ut.defaultView||Ut.parentWindow:window,tr?(ir=et.relatedTarget||et.toElement,tr=Dt,ir=ir?Wc(ir):null,ir!==null&&(ur=Vb(ir),ir!==ur||ir.tag!==5&&ir.tag!==6)&&(ir=null)):(tr=null,ir=Dt),tr!==ir)){if(sr=Bd,vr="onMouseLeave",fr="onMouseEnter",dr="mouse",(a==="pointerout"||a==="pointerover")&&(sr=Td,vr="onPointerLeave",fr="onPointerEnter",dr="pointer"),ur=tr==null?Ut:ue(tr),hr=ir==null?Ut:ue(ir),Ut=new sr(vr,dr+"leave",tr,et,Ft),Ut.target=ur,Ut.relatedTarget=hr,vr=null,Wc(Ft)===Dt&&(sr=new sr(fr,dr+"enter",ir,et,Ft),sr.target=hr,sr.relatedTarget=ur,vr=sr),ur=vr,tr&&ir)t:{for(sr=tr,fr=ir,dr=0,hr=sr;hr;hr=vf(hr))dr++;for(hr=0,vr=fr;vr;vr=vf(vr))hr++;for(;0<dr-hr;)sr=vf(sr),dr--;for(;0<hr-dr;)fr=vf(fr),hr--;for(;dr--;){if(sr===fr||fr!==null&&sr===fr.alternate)break t;sr=vf(sr),fr=vf(fr)}sr=null}else sr=null;tr!==null&&wf(jt,Ut,tr,sr,!1),ir!==null&&ur!==null&&wf(jt,ur,ir,sr,!0)}}e:{if(Ut=Dt?ue(Dt):window,tr=Ut.nodeName&&Ut.nodeName.toLowerCase(),tr==="select"||tr==="input"&&Ut.type==="file")var yr=ve$2;else if(me$1(Ut))if(we$1)yr=Fe$1;else{yr=De$1;var xr=Ce$1}else(tr=Ut.nodeName)&&tr.toLowerCase()==="input"&&(Ut.type==="checkbox"||Ut.type==="radio")&&(yr=Ee$2);if(yr&&(yr=yr(a,Dt))){ne$2(jt,yr,et,Ft);break e}xr&&xr(a,Ut,Dt),a==="focusout"&&(xr=Ut._wrapperState)&&xr.controlled&&Ut.type==="number"&&cb(Ut,"number",Ut.value)}switch(xr=Dt?ue(Dt):window,a){case"focusin":(me$1(xr)||xr.contentEditable==="true")&&(Qe=xr,Re$1=Dt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue$1(jt,et,Ft);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(jt,et,Ft)}var br;if(ae$1)e:{switch(a){case"compositionstart":var wr="onCompositionStart";break e;case"compositionend":wr="onCompositionEnd";break e;case"compositionupdate":wr="onCompositionUpdate";break e}wr=void 0}else ie$2?ge$1(a,et)&&(wr="onCompositionEnd"):a==="keydown"&&et.keyCode===229&&(wr="onCompositionStart");wr&&(de&&et.locale!=="ko"&&(ie$2||wr!=="onCompositionStart"?wr==="onCompositionEnd"&&ie$2&&(br=nd()):(kd=Ft,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),xr=oe$1(Dt,wr),0<xr.length&&(wr=new Ld(wr,a,null,et,Ft),jt.push({event:wr,listeners:xr}),br?wr.data=br:(br=he$1(et),br!==null&&(wr.data=br)))),(br=ce?je$1(a,et):ke$2(a,et))&&(Dt=oe$1(Dt,"onBeforeInput"),0<Dt.length&&(Ft=new Ld("onBeforeInput","beforeinput",null,et,Ft),jt.push({event:Ft,listeners:Dt}),Ft.data=br))}se$1(jt,s)})}function tf(a,s,et){return{instance:a,listener:s,currentTarget:et}}function oe$1(a,s){for(var et=s+"Capture",nt=[];a!==null;){var at=a,mt=at.stateNode;at.tag===5&&mt!==null&&(at=mt,mt=Kb(a,et),mt!=null&&nt.unshift(tf(a,mt,at)),mt=Kb(a,s),mt!=null&&nt.push(tf(a,mt,at))),a=a.return}return nt}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,s,et,nt,at){for(var mt=s._reactName,wt=[];et!==null&&et!==nt;){var $t=et,Ct=$t.alternate,Dt=$t.stateNode;if(Ct!==null&&Ct===nt)break;$t.tag===5&&Dt!==null&&($t=Dt,at?(Ct=Kb(et,mt),Ct!=null&&wt.unshift(tf(et,Ct,$t))):at||(Ct=Kb(et,mt),Ct!=null&&wt.push(tf(et,Ct,$t)))),et=et.return}wt.length!==0&&a.push({event:s,listeners:wt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,s,et){if(s=zf(s),zf(a)!==s&&et)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,s){var et=s,nt=0;do{var at=et.nextSibling;if(a.removeChild(et),at&&at.nodeType===8)if(et=at.data,et==="/$"){if(nt===0){a.removeChild(at),bd(s);return}nt--}else et!=="$"&&et!=="$?"&&et!=="$!"||nt++;et=at}while(et);bd(s)}function Lf(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var et=a.data;if(et==="$"||et==="$!"||et==="$?"){if(s===0)return a;s--}else et==="/$"&&s++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var s=a[Of];if(s)return s;for(var et=a.parentNode;et;){if(s=et[uf]||et[Of]){if(et=s.alternate,s.child!==null||et!==null&&et.child!==null)for(a=Mf(a);a!==null;){if(et=a[Of])return et;a=Mf(a)}return s}a=et,et=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$1(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(a,s){Tf++,Sf[Tf]=a.current,a.current=s}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,s){var et=a.type.contextTypes;if(!et)return Vf;var nt=a.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===s)return nt.__reactInternalMemoizedMaskedChildContext;var at={},mt;for(mt in et)at[mt]=s[mt];return nt&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=at),at}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H$2)}function ag(a,s,et){if(H$2.current!==Vf)throw Error(p$1(168));G$1(H$2,s),G$1(Wf,et)}function bg(a,s,et){var nt=a.stateNode;if(s=s.childContextTypes,typeof nt.getChildContext!="function")return et;nt=nt.getChildContext();for(var at in nt)if(!(at in s))throw Error(p$1(108,Ra(a)||"Unknown",at));return A$2({},et,nt)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,a),G$1(Wf,Wf.current),!0}function dg(a,s,et){var nt=a.stateNode;if(!nt)throw Error(p$1(169));et?(a=bg(a,s,Xf),nt.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H$2),G$1(H$2,a)):E(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,s=C;try{var et=eg;for(C=1;a<et.length;a++){var nt=et[a];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(at){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),at}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,s){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=s}function ug(a,s,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var nt=rg;a=sg;var at=32-oc(nt)-1;nt&=~(1<<at),et+=1;var mt=32-oc(s)+at;if(30<mt){var wt=at-at%5;mt=(nt&(1<<wt)-1).toString(32),nt>>=wt,at-=wt,rg=1<<32-oc(s)+at|et<<at|nt,sg=mt+a}else rg=1<<mt|et<<at|nt,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(a,s){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=s,et.return=a,s=a.deletions,s===null?(a.deletions=[et],a.flags|=16):s.push(et)}function Cg(a,s){switch(a.tag){case 5:var et=a.type;return s=s.nodeType!==1||et.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,xg=a,yg=Lf(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,xg=a,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(et=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:s,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=s,et.return=a,a.child=et,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I$3){var s=yg;if(s){var et=s;if(!Cg(a,s)){if(Dg(a))throw Error(p$1(418));s=Lf(et.nextSibling);var nt=xg;s&&Cg(a,s)?Ag(nt,et):(a.flags=a.flags&-4097|2,I$3=!1,xg=a)}}else{if(Dg(a))throw Error(p$1(418));a.flags=a.flags&-4097|2,I$3=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I$3)return Fg(a),I$3=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!Ef(a.type,a.memoizedProps)),s&&(s=yg)){if(Dg(a))throw Hg(),Error(p$1(418));for(;s;)Ag(a,s),s=Lf(s.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$1(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var et=a.data;if(et==="/$"){if(s===0){yg=Lf(a.nextSibling);break e}s--}else et!=="$"&&et!=="$!"&&et!=="$?"||s++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,s,et){if(a=et.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$1(309));var nt=et.stateNode}if(!nt)throw Error(p$1(147,a));var at=nt,mt=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===mt?s.ref:(s=function(wt){var $t=at.refs;wt===null?delete $t[mt]:$t[mt]=wt},s._stringRef=mt,s)}if(typeof a!="string")throw Error(p$1(284));if(!et._owner)throw Error(p$1(290,a))}return a}function Mg(a,s){throw a=Object.prototype.toString.call(s),Error(p$1(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Ng(a){var s=a._init;return s(a._payload)}function Og(a){function s(fr,dr){if(a){var hr=fr.deletions;hr===null?(fr.deletions=[dr],fr.flags|=16):hr.push(dr)}}function et(fr,dr){if(!a)return null;for(;dr!==null;)s(fr,dr),dr=dr.sibling;return null}function nt(fr,dr){for(fr=new Map;dr!==null;)dr.key!==null?fr.set(dr.key,dr):fr.set(dr.index,dr),dr=dr.sibling;return fr}function at(fr,dr){return fr=Pg(fr,dr),fr.index=0,fr.sibling=null,fr}function mt(fr,dr,hr){return fr.index=hr,a?(hr=fr.alternate,hr!==null?(hr=hr.index,hr<dr?(fr.flags|=2,dr):hr):(fr.flags|=2,dr)):(fr.flags|=1048576,dr)}function wt(fr){return a&&fr.alternate===null&&(fr.flags|=2),fr}function $t(fr,dr,hr,vr){return dr===null||dr.tag!==6?(dr=Qg(hr,fr.mode,vr),dr.return=fr,dr):(dr=at(dr,hr),dr.return=fr,dr)}function Ct(fr,dr,hr,vr){var yr=hr.type;return yr===ya?Ft(fr,dr,hr.props.children,vr,hr.key):dr!==null&&(dr.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===Ha&&Ng(yr)===dr.type)?(vr=at(dr,hr.props),vr.ref=Lg(fr,dr,hr),vr.return=fr,vr):(vr=Rg(hr.type,hr.key,hr.props,null,fr.mode,vr),vr.ref=Lg(fr,dr,hr),vr.return=fr,vr)}function Dt(fr,dr,hr,vr){return dr===null||dr.tag!==4||dr.stateNode.containerInfo!==hr.containerInfo||dr.stateNode.implementation!==hr.implementation?(dr=Sg(hr,fr.mode,vr),dr.return=fr,dr):(dr=at(dr,hr.children||[]),dr.return=fr,dr)}function Ft(fr,dr,hr,vr,yr){return dr===null||dr.tag!==7?(dr=Tg(hr,fr.mode,vr,yr),dr.return=fr,dr):(dr=at(dr,hr),dr.return=fr,dr)}function jt(fr,dr,hr){if(typeof dr=="string"&&dr!==""||typeof dr=="number")return dr=Qg(""+dr,fr.mode,hr),dr.return=fr,dr;if(typeof dr=="object"&&dr!==null){switch(dr.$$typeof){case va:return hr=Rg(dr.type,dr.key,dr.props,null,fr.mode,hr),hr.ref=Lg(fr,null,dr),hr.return=fr,hr;case wa:return dr=Sg(dr,fr.mode,hr),dr.return=fr,dr;case Ha:var vr=dr._init;return jt(fr,vr(dr._payload),hr)}if(eb(dr)||Ka(dr))return dr=Tg(dr,fr.mode,hr,null),dr.return=fr,dr;Mg(fr,dr)}return null}function Ut(fr,dr,hr,vr){var yr=dr!==null?dr.key:null;if(typeof hr=="string"&&hr!==""||typeof hr=="number")return yr!==null?null:$t(fr,dr,""+hr,vr);if(typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case va:return hr.key===yr?Ct(fr,dr,hr,vr):null;case wa:return hr.key===yr?Dt(fr,dr,hr,vr):null;case Ha:return yr=hr._init,Ut(fr,dr,yr(hr._payload),vr)}if(eb(hr)||Ka(hr))return yr!==null?null:Ft(fr,dr,hr,vr,null);Mg(fr,hr)}return null}function tr(fr,dr,hr,vr,yr){if(typeof vr=="string"&&vr!==""||typeof vr=="number")return fr=fr.get(hr)||null,$t(dr,fr,""+vr,yr);if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:return fr=fr.get(vr.key===null?hr:vr.key)||null,Ct(dr,fr,vr,yr);case wa:return fr=fr.get(vr.key===null?hr:vr.key)||null,Dt(dr,fr,vr,yr);case Ha:var xr=vr._init;return tr(fr,dr,hr,xr(vr._payload),yr)}if(eb(vr)||Ka(vr))return fr=fr.get(hr)||null,Ft(dr,fr,vr,yr,null);Mg(dr,vr)}return null}function ir(fr,dr,hr,vr){for(var yr=null,xr=null,br=dr,wr=dr=0,Sr=null;br!==null&&wr<hr.length;wr++){br.index>wr?(Sr=br,br=null):Sr=br.sibling;var Cr=Ut(fr,br,hr[wr],vr);if(Cr===null){br===null&&(br=Sr);break}a&&br&&Cr.alternate===null&&s(fr,br),dr=mt(Cr,dr,wr),xr===null?yr=Cr:xr.sibling=Cr,xr=Cr,br=Sr}if(wr===hr.length)return et(fr,br),I$3&&tg(fr,wr),yr;if(br===null){for(;wr<hr.length;wr++)br=jt(fr,hr[wr],vr),br!==null&&(dr=mt(br,dr,wr),xr===null?yr=br:xr.sibling=br,xr=br);return I$3&&tg(fr,wr),yr}for(br=nt(fr,br);wr<hr.length;wr++)Sr=tr(br,fr,wr,hr[wr],vr),Sr!==null&&(a&&Sr.alternate!==null&&br.delete(Sr.key===null?wr:Sr.key),dr=mt(Sr,dr,wr),xr===null?yr=Sr:xr.sibling=Sr,xr=Sr);return a&&br.forEach(function(cr){return s(fr,cr)}),I$3&&tg(fr,wr),yr}function sr(fr,dr,hr,vr){var yr=Ka(hr);if(typeof yr!="function")throw Error(p$1(150));if(hr=yr.call(hr),hr==null)throw Error(p$1(151));for(var xr=yr=null,br=dr,wr=dr=0,Sr=null,Cr=hr.next();br!==null&&!Cr.done;wr++,Cr=hr.next()){br.index>wr?(Sr=br,br=null):Sr=br.sibling;var cr=Ut(fr,br,Cr.value,vr);if(cr===null){br===null&&(br=Sr);break}a&&br&&cr.alternate===null&&s(fr,br),dr=mt(cr,dr,wr),xr===null?yr=cr:xr.sibling=cr,xr=cr,br=Sr}if(Cr.done)return et(fr,br),I$3&&tg(fr,wr),yr;if(br===null){for(;!Cr.done;wr++,Cr=hr.next())Cr=jt(fr,Cr.value,vr),Cr!==null&&(dr=mt(Cr,dr,wr),xr===null?yr=Cr:xr.sibling=Cr,xr=Cr);return I$3&&tg(fr,wr),yr}for(br=nt(fr,br);!Cr.done;wr++,Cr=hr.next())Cr=tr(br,fr,wr,Cr.value,vr),Cr!==null&&(a&&Cr.alternate!==null&&br.delete(Cr.key===null?wr:Cr.key),dr=mt(Cr,dr,wr),xr===null?yr=Cr:xr.sibling=Cr,xr=Cr);return a&&br.forEach(function(Nt){return s(fr,Nt)}),I$3&&tg(fr,wr),yr}function ur(fr,dr,hr,vr){if(typeof hr=="object"&&hr!==null&&hr.type===ya&&hr.key===null&&(hr=hr.props.children),typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case va:e:{for(var yr=hr.key,xr=dr;xr!==null;){if(xr.key===yr){if(yr=hr.type,yr===ya){if(xr.tag===7){et(fr,xr.sibling),dr=at(xr,hr.props.children),dr.return=fr,fr=dr;break e}}else if(xr.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===Ha&&Ng(yr)===xr.type){et(fr,xr.sibling),dr=at(xr,hr.props),dr.ref=Lg(fr,xr,hr),dr.return=fr,fr=dr;break e}et(fr,xr);break}else s(fr,xr);xr=xr.sibling}hr.type===ya?(dr=Tg(hr.props.children,fr.mode,vr,hr.key),dr.return=fr,fr=dr):(vr=Rg(hr.type,hr.key,hr.props,null,fr.mode,vr),vr.ref=Lg(fr,dr,hr),vr.return=fr,fr=vr)}return wt(fr);case wa:e:{for(xr=hr.key;dr!==null;){if(dr.key===xr)if(dr.tag===4&&dr.stateNode.containerInfo===hr.containerInfo&&dr.stateNode.implementation===hr.implementation){et(fr,dr.sibling),dr=at(dr,hr.children||[]),dr.return=fr,fr=dr;break e}else{et(fr,dr);break}else s(fr,dr);dr=dr.sibling}dr=Sg(hr,fr.mode,vr),dr.return=fr,fr=dr}return wt(fr);case Ha:return xr=hr._init,ur(fr,dr,xr(hr._payload),vr)}if(eb(hr))return ir(fr,dr,hr,vr);if(Ka(hr))return sr(fr,dr,hr,vr);Mg(fr,hr)}return typeof hr=="string"&&hr!==""||typeof hr=="number"?(hr=""+hr,dr!==null&&dr.tag===6?(et(fr,dr.sibling),dr=at(dr,hr),dr.return=fr,fr=dr):(et(fr,dr),dr=Qg(hr,fr.mode,vr),dr.return=fr,fr=dr),wt(fr)):et(fr,dr)}return ur}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var s=Wg.current;E(Wg),a._currentValue=s}function bh(a,s,et){for(;a!==null;){var nt=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,nt!==null&&(nt.childLanes|=s)):nt!==null&&(nt.childLanes&s)!==s&&(nt.childLanes|=s),a===et)break;a=a.return}}function ch(a,s){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&s&&(dh$1=!0),a.firstContext=null)}function eh(a){var s=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return s}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,s,et,nt){var at=s.interleaved;return at===null?(et.next=et,gh(s)):(et.next=at.next,at.next=et),s.interleaved=et,ih(a,nt)}function ih(a,s){a.lanes|=s;var et=a.alternate;for(et!==null&&(et.lanes|=s),et=a,a=a.return;a!==null;)a.childLanes|=s,et=a.alternate,et!==null&&(et.childLanes|=s),et=a,a=a.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(a,s,et){var nt=a.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$1&2){var at=nt.pending;return at===null?s.next=s:(s.next=at.next,at.next=s),nt.pending=s,ih(a,et)}return at=nt.interleaved,at===null?(s.next=s,gh(nt)):(s.next=at.next,at.next=s),nt.interleaved=s,ih(a,et)}function oh(a,s,et){if(s=s.updateQueue,s!==null&&(s=s.shared,(et&4194240)!==0)){var nt=s.lanes;nt&=a.pendingLanes,et|=nt,s.lanes=et,Cc(a,et)}}function ph(a,s){var et=a.updateQueue,nt=a.alternate;if(nt!==null&&(nt=nt.updateQueue,et===nt)){var at=null,mt=null;if(et=et.firstBaseUpdate,et!==null){do{var wt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};mt===null?at=mt=wt:mt=mt.next=wt,et=et.next}while(et!==null);mt===null?at=mt=s:mt=mt.next=s}else at=mt=s;et={baseState:nt.baseState,firstBaseUpdate:at,lastBaseUpdate:mt,shared:nt.shared,effects:nt.effects},a.updateQueue=et;return}a=et.lastBaseUpdate,a===null?et.firstBaseUpdate=s:a.next=s,et.lastBaseUpdate=s}function qh(a,s,et,nt){var at=a.updateQueue;jh=!1;var mt=at.firstBaseUpdate,wt=at.lastBaseUpdate,$t=at.shared.pending;if($t!==null){at.shared.pending=null;var Ct=$t,Dt=Ct.next;Ct.next=null,wt===null?mt=Dt:wt.next=Dt,wt=Ct;var Ft=a.alternate;Ft!==null&&(Ft=Ft.updateQueue,$t=Ft.lastBaseUpdate,$t!==wt&&($t===null?Ft.firstBaseUpdate=Dt:$t.next=Dt,Ft.lastBaseUpdate=Ct))}if(mt!==null){var jt=at.baseState;wt=0,Ft=Dt=Ct=null,$t=mt;do{var Ut=$t.lane,tr=$t.eventTime;if((nt&Ut)===Ut){Ft!==null&&(Ft=Ft.next={eventTime:tr,lane:0,tag:$t.tag,payload:$t.payload,callback:$t.callback,next:null});e:{var ir=a,sr=$t;switch(Ut=s,tr=et,sr.tag){case 1:if(ir=sr.payload,typeof ir=="function"){jt=ir.call(tr,jt,Ut);break e}jt=ir;break e;case 3:ir.flags=ir.flags&-65537|128;case 0:if(ir=sr.payload,Ut=typeof ir=="function"?ir.call(tr,jt,Ut):ir,Ut==null)break e;jt=A$2({},jt,Ut);break e;case 2:jh=!0}}$t.callback!==null&&$t.lane!==0&&(a.flags|=64,Ut=at.effects,Ut===null?at.effects=[$t]:Ut.push($t))}else tr={eventTime:tr,lane:Ut,tag:$t.tag,payload:$t.payload,callback:$t.callback,next:null},Ft===null?(Dt=Ft=tr,Ct=jt):Ft=Ft.next=tr,wt|=Ut;if($t=$t.next,$t===null){if($t=at.shared.pending,$t===null)break;Ut=$t,$t=Ut.next,Ut.next=null,at.lastBaseUpdate=Ut,at.shared.pending=null}}while(!0);if(Ft===null&&(Ct=jt),at.baseState=Ct,at.firstBaseUpdate=Dt,at.lastBaseUpdate=Ft,s=at.shared.interleaved,s!==null){at=s;do wt|=at.lane,at=at.next;while(at!==s)}else mt===null&&(at.shared.lanes=0);rh|=wt,a.lanes=wt,a.memoizedState=jt}}function sh(a,s,et){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var nt=a[s],at=nt.callback;if(at!==null){if(nt.callback=null,nt=et,typeof at!="function")throw Error(p$1(191,at));at.call(nt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p$1(174));return a}function yh(a,s){switch(G$1(wh,s),G$1(vh$1,a),G$1(uh,th),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=lb(s,a)}E(uh),G$1(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(a){xh(wh.current);var s=xh(uh.current),et=lb(s,a.type);s!==et&&(G$1(vh$1,a),G$1(uh,et))}function Bh(a){vh$1.current===a&&(E(uh),E(vh$1))}var L$1=Uf(0);function Ch(a){for(var s=a;s!==null;){if(s.tag===13){var et=s.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N=null,O$3=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$1(321))}function Mh(a,s){if(s===null)return!1;for(var et=0;et<s.length&&et<a.length;et++)if(!He(a[et],s[et]))return!1;return!0}function Nh(a,s,et,nt,at,mt){if(Hh=mt,M$2=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=et(nt,at),Jh){mt=0;do{if(Jh=!1,Kh=0,25<=mt)throw Error(p$1(301));mt+=1,O$3=N=null,s.updateQueue=null,Fh.current=Qh,a=et(nt,at)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O$3=N=M$2=null,Ih=!1,s)throw Error(p$1(300));return a}function Sh(){var a=Kh!==0;return Kh=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$3===null?M$2.memoizedState=O$3=a:O$3=O$3.next=a,O$3}function Uh(){if(N===null){var a=M$2.alternate;a=a!==null?a.memoizedState:null}else a=N.next;var s=O$3===null?M$2.memoizedState:O$3.next;if(s!==null)O$3=s,N=a;else{if(a===null)throw Error(p$1(310));N=a,a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$3===null?M$2.memoizedState=O$3=a:O$3=O$3.next=a}return O$3}function Vh(a,s){return typeof s=="function"?s(a):s}function Wh(a){var s=Uh(),et=s.queue;if(et===null)throw Error(p$1(311));et.lastRenderedReducer=a;var nt=N,at=nt.baseQueue,mt=et.pending;if(mt!==null){if(at!==null){var wt=at.next;at.next=mt.next,mt.next=wt}nt.baseQueue=at=mt,et.pending=null}if(at!==null){mt=at.next,nt=nt.baseState;var $t=wt=null,Ct=null,Dt=mt;do{var Ft=Dt.lane;if((Hh&Ft)===Ft)Ct!==null&&(Ct=Ct.next={lane:0,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null}),nt=Dt.hasEagerState?Dt.eagerState:a(nt,Dt.action);else{var jt={lane:Ft,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null};Ct===null?($t=Ct=jt,wt=nt):Ct=Ct.next=jt,M$2.lanes|=Ft,rh|=Ft}Dt=Dt.next}while(Dt!==null&&Dt!==mt);Ct===null?wt=nt:Ct.next=$t,He(nt,s.memoizedState)||(dh$1=!0),s.memoizedState=nt,s.baseState=wt,s.baseQueue=Ct,et.lastRenderedState=nt}if(a=et.interleaved,a!==null){at=a;do mt=at.lane,M$2.lanes|=mt,rh|=mt,at=at.next;while(at!==a)}else at===null&&(et.lanes=0);return[s.memoizedState,et.dispatch]}function Xh(a){var s=Uh(),et=s.queue;if(et===null)throw Error(p$1(311));et.lastRenderedReducer=a;var nt=et.dispatch,at=et.pending,mt=s.memoizedState;if(at!==null){et.pending=null;var wt=at=at.next;do mt=a(mt,wt.action),wt=wt.next;while(wt!==at);He(mt,s.memoizedState)||(dh$1=!0),s.memoizedState=mt,s.baseQueue===null&&(s.baseState=mt),et.lastRenderedState=mt}return[mt,nt]}function Yh(){}function Zh(a,s){var et=M$2,nt=Uh(),at=s(),mt=!He(nt.memoizedState,at);if(mt&&(nt.memoizedState=at,dh$1=!0),nt=nt.queue,$h(ai.bind(null,et,nt,a),[a]),nt.getSnapshot!==s||mt||O$3!==null&&O$3.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,nt,at,s),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(et,s,at)}return at}function di(a,s,et){a.flags|=16384,a={getSnapshot:s,value:et},s=M$2.updateQueue,s===null?(s={lastEffect:null,stores:null},M$2.updateQueue=s,s.stores=[a]):(et=s.stores,et===null?s.stores=[a]:et.push(a))}function ci(a,s,et,nt){s.value=et,s.getSnapshot=nt,ei(s)&&fi(a)}function ai(a,s,et){return et(function(){ei(s)&&fi(a)})}function ei(a){var s=a.getSnapshot;a=a.value;try{var et=s();return!He(a,et)}catch{return!0}}function fi(a){var s=ih(a,1);s!==null&&gi(s,a,1,-1)}function hi$1(a){var s=Th();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},s.queue=a,a=a.dispatch=ii.bind(null,M$2,a),[s.memoizedState,a]}function bi(a,s,et,nt){return a={tag:a,create:s,destroy:et,deps:nt,next:null},s=M$2.updateQueue,s===null?(s={lastEffect:null,stores:null},M$2.updateQueue=s,s.lastEffect=a.next=a):(et=s.lastEffect,et===null?s.lastEffect=a.next=a:(nt=et.next,et.next=a,a.next=nt,s.lastEffect=a)),a}function ji$1(){return Uh().memoizedState}function ki(a,s,et,nt){var at=Th();M$2.flags|=a,at.memoizedState=bi(1|s,et,void 0,nt===void 0?null:nt)}function li(a,s,et,nt){var at=Uh();nt=nt===void 0?null:nt;var mt=void 0;if(N!==null){var wt=N.memoizedState;if(mt=wt.destroy,nt!==null&&Mh(nt,wt.deps)){at.memoizedState=bi(s,et,mt,nt);return}}M$2.flags|=a,at.memoizedState=bi(1|s,et,mt,nt)}function mi(a,s){return ki(8390656,8,a,s)}function $h(a,s){return li(2048,8,a,s)}function ni(a,s){return li(4,2,a,s)}function oi(a,s){return li(4,4,a,s)}function pi(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function qi$1(a,s,et){return et=et!=null?et.concat([a]):null,li(4,4,pi.bind(null,s,a),et)}function ri(){}function si(a,s){var et=Uh();s=s===void 0?null:s;var nt=et.memoizedState;return nt!==null&&s!==null&&Mh(s,nt[1])?nt[0]:(et.memoizedState=[a,s],a)}function ti(a,s){var et=Uh();s=s===void 0?null:s;var nt=et.memoizedState;return nt!==null&&s!==null&&Mh(s,nt[1])?nt[0]:(a=a(),et.memoizedState=[a,s],a)}function ui(a,s,et){return Hh&21?(He(et,s)||(et=yc(),M$2.lanes|=et,rh|=et,a.baseState=!0),s):(a.baseState&&(a.baseState=!1,dh$1=!0),a.memoizedState=et)}function vi(a,s){var et=C;C=et!==0&&4>et?et:4,a(!0);var nt=Gh.transition;Gh.transition={};try{a(!1),s()}finally{C=et,Gh.transition=nt}}function wi(){return Uh().memoizedState}function xi$1(a,s,et){var nt=yi(a);if(et={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai$1(s,et);else if(et=hh(a,s,et,nt),et!==null){var at=R$1();gi(et,a,nt,at),Bi(et,s,nt)}}function ii(a,s,et){var nt=yi(a),at={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai$1(s,at);else{var mt=a.alternate;if(a.lanes===0&&(mt===null||mt.lanes===0)&&(mt=s.lastRenderedReducer,mt!==null))try{var wt=s.lastRenderedState,$t=mt(wt,et);if(at.hasEagerState=!0,at.eagerState=$t,He($t,wt)){var Ct=s.interleaved;Ct===null?(at.next=at,gh(s)):(at.next=Ct.next,Ct.next=at),s.interleaved=at;return}}catch{}finally{}et=hh(a,s,at,nt),et!==null&&(at=R$1(),gi(et,a,nt,at),Bi(et,s,nt))}}function zi(a){var s=a.alternate;return a===M$2||s!==null&&s===M$2}function Ai$1(a,s){Jh=Ih=!0;var et=a.pending;et===null?s.next=s:(s.next=et.next,et.next=s),a.pending=s}function Bi(a,s,et){if(et&4194240){var nt=s.lanes;nt&=a.pendingLanes,et|=nt,s.lanes=et,Cc(a,et)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,s){return Th().memoizedState=[a,s===void 0?null:s],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,s,et){return et=et!=null?et.concat([a]):null,ki(4194308,4,pi.bind(null,s,a),et)},useLayoutEffect:function(a,s){return ki(4194308,4,a,s)},useInsertionEffect:function(a,s){return ki(4,2,a,s)},useMemo:function(a,s){var et=Th();return s=s===void 0?null:s,a=a(),et.memoizedState=[a,s],a},useReducer:function(a,s,et){var nt=Th();return s=et!==void 0?et(s):s,nt.memoizedState=nt.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},nt.queue=a,a=a.dispatch=xi$1.bind(null,M$2,a),[nt.memoizedState,a]},useRef:function(a){var s=Th();return a={current:a},s.memoizedState=a},useState:hi$1,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi$1(!1),s=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,et){var nt=M$2,at=Th();if(I$3){if(et===void 0)throw Error(p$1(407));et=et()}else{if(et=s(),Q===null)throw Error(p$1(349));Hh&30||di(nt,s,et)}at.memoizedState=et;var mt={value:et,getSnapshot:s};return at.queue=mt,mi(ai.bind(null,nt,mt,a),[a]),nt.flags|=2048,bi(9,ci.bind(null,nt,mt,et,s),void 0,null),et},useId:function(){var a=Th(),s=Q.identifierPrefix;if(I$3){var et=sg,nt=rg;et=(nt&~(1<<32-oc(nt)-1)).toString(32)+et,s=":"+s+"R"+et,et=Kh++,0<et&&(s+="H"+et.toString(32)),s+=":"}else et=Lh++,s=":"+s+"r"+et.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji$1,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return ui(s,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji$1,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return N===null?s.memoizedState=a:ui(s,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,s){if(a&&a.defaultProps){s=A$2({},s),a=a.defaultProps;for(var et in a)s[et]===void 0&&(s[et]=a[et]);return s}return s}function Di$1(a,s,et,nt){s=a.memoizedState,et=et(nt,s),et=et==null?s:A$2({},s,et),a.memoizedState=et,a.lanes===0&&(a.updateQueue.baseState=et)}var Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,s,et){a=a._reactInternals;var nt=R$1(),at=yi(a),mt=mh(nt,at);mt.payload=s,et!=null&&(mt.callback=et),s=nh(a,mt,at),s!==null&&(gi(s,a,at,nt),oh(s,a,at))},enqueueReplaceState:function(a,s,et){a=a._reactInternals;var nt=R$1(),at=yi(a),mt=mh(nt,at);mt.tag=1,mt.payload=s,et!=null&&(mt.callback=et),s=nh(a,mt,at),s!==null&&(gi(s,a,at,nt),oh(s,a,at))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var et=R$1(),nt=yi(a),at=mh(et,nt);at.tag=2,s!=null&&(at.callback=s),s=nh(a,at,nt),s!==null&&(gi(s,a,nt,et),oh(s,a,nt))}};function Fi$1(a,s,et,nt,at,mt,wt){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(nt,mt,wt):s.prototype&&s.prototype.isPureReactComponent?!Ie$1(et,nt)||!Ie$1(at,mt):!0}function Gi(a,s,et){var nt=!1,at=Vf,mt=s.contextType;return typeof mt=="object"&&mt!==null?mt=eh(mt):(at=Zf(s)?Xf:H$2.current,nt=s.contextTypes,mt=(nt=nt!=null)?Yf(a,at):Vf),s=new s(et,mt),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,a.stateNode=s,s._reactInternals=a,nt&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=at,a.__reactInternalMemoizedMaskedChildContext=mt),s}function Hi(a,s,et,nt){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(et,nt),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(et,nt),s.state!==a&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(a,s,et,nt){var at=a.stateNode;at.props=et,at.state=a.memoizedState,at.refs={},kh(a);var mt=s.contextType;typeof mt=="object"&&mt!==null?at.context=eh(mt):(mt=Zf(s)?Xf:H$2.current,at.context=Yf(a,mt)),at.state=a.memoizedState,mt=s.getDerivedStateFromProps,typeof mt=="function"&&(Di$1(a,s,mt,et),at.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(s=at.state,typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount(),s!==at.state&&Ei.enqueueReplaceState(at,at.state,null),qh(a,et,at,nt),at.state=a.memoizedState),typeof at.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,s){try{var et="",nt=s;do et+=Pa(nt),nt=nt.return;while(nt);var at=et}catch(mt){at=`
Error generating stack: `+mt.message+`
`+mt.stack}return{value:a,source:s,stack:at,digest:null}}function Ki(a,s,et){return{value:a,source:null,stack:et??null,digest:s??null}}function Li$1(a,s){try{console.error(s.value)}catch(et){setTimeout(function(){throw et})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(a,s,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var nt=s.value;return et.callback=function(){Oi$1||(Oi$1=!0,Pi=nt),Li$1(a,s)},et}function Qi(a,s,et){et=mh(-1,et),et.tag=3;var nt=a.type.getDerivedStateFromError;if(typeof nt=="function"){var at=s.value;et.payload=function(){return nt(at)},et.callback=function(){Li$1(a,s)}}var mt=a.stateNode;return mt!==null&&typeof mt.componentDidCatch=="function"&&(et.callback=function(){Li$1(a,s),typeof nt!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var wt=s.stack;this.componentDidCatch(s.value,{componentStack:wt!==null?wt:""})}),et}function Si(a,s,et){var nt=a.pingCache;if(nt===null){nt=a.pingCache=new Mi$1;var at=new Set;nt.set(s,at)}else at=nt.get(s),at===void 0&&(at=new Set,nt.set(s,at));at.has(et)||(at.add(et),a=Ti.bind(null,a,s,et),s.then(a,a))}function Ui(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function Vi(a,s,et,nt,at){return a.mode&1?(a.flags|=65536,a.lanes=at,a):(a===s?a.flags|=65536:(a.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(s=mh(-1,1),s.tag=2,nh(et,s,1))),et.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(a,s,et,nt){s.child=a===null?Vg(s,null,et,nt):Ug(s,a.child,et,nt)}function Yi(a,s,et,nt,at){et=et.render;var mt=s.ref;return ch(s,at),nt=Nh(a,s,et,nt,mt,at),et=Sh(),a!==null&&!dh$1?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~at,Zi(a,s,at)):(I$3&&et&&vg(s),s.flags|=1,Xi(a,s,nt,at),s.child)}function $i(a,s,et,nt,at){if(a===null){var mt=et.type;return typeof mt=="function"&&!aj(mt)&&mt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(s.tag=15,s.type=mt,bj(a,s,mt,nt,at)):(a=Rg(et.type,null,nt,s,s.mode,at),a.ref=s.ref,a.return=s,s.child=a)}if(mt=a.child,!(a.lanes&at)){var wt=mt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie$1,et(wt,nt)&&a.ref===s.ref)return Zi(a,s,at)}return s.flags|=1,a=Pg(mt,nt),a.ref=s.ref,a.return=s,s.child=a}function bj(a,s,et,nt,at){if(a!==null){var mt=a.memoizedProps;if(Ie$1(mt,nt)&&a.ref===s.ref)if(dh$1=!1,s.pendingProps=nt=mt,(a.lanes&at)!==0)a.flags&131072&&(dh$1=!0);else return s.lanes=a.lanes,Zi(a,s,at)}return cj(a,s,et,nt,at)}function dj(a,s,et){var nt=s.pendingProps,at=nt.children,mt=a!==null?a.memoizedState:null;if(nt.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=et;else{if(!(et&1073741824))return a=mt!==null?mt.baseLanes|et:et,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,G$1(ej,fj),fj|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=mt!==null?mt.baseLanes:et,G$1(ej,fj),fj|=nt}else mt!==null?(nt=mt.baseLanes|et,s.memoizedState=null):nt=et,G$1(ej,fj),fj|=nt;return Xi(a,s,at,et),s.child}function gj(a,s){var et=s.ref;(a===null&&et!==null||a!==null&&a.ref!==et)&&(s.flags|=512,s.flags|=2097152)}function cj(a,s,et,nt,at){var mt=Zf(et)?Xf:H$2.current;return mt=Yf(s,mt),ch(s,at),et=Nh(a,s,et,nt,mt,at),nt=Sh(),a!==null&&!dh$1?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~at,Zi(a,s,at)):(I$3&&nt&&vg(s),s.flags|=1,Xi(a,s,et,at),s.child)}function hj(a,s,et,nt,at){if(Zf(et)){var mt=!0;cg(s)}else mt=!1;if(ch(s,at),s.stateNode===null)ij(a,s),Gi(s,et,nt),Ii(s,et,nt,at),nt=!0;else if(a===null){var wt=s.stateNode,$t=s.memoizedProps;wt.props=$t;var Ct=wt.context,Dt=et.contextType;typeof Dt=="object"&&Dt!==null?Dt=eh(Dt):(Dt=Zf(et)?Xf:H$2.current,Dt=Yf(s,Dt));var Ft=et.getDerivedStateFromProps,jt=typeof Ft=="function"||typeof wt.getSnapshotBeforeUpdate=="function";jt||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||($t!==nt||Ct!==Dt)&&Hi(s,wt,nt,Dt),jh=!1;var Ut=s.memoizedState;wt.state=Ut,qh(s,nt,wt,at),Ct=s.memoizedState,$t!==nt||Ut!==Ct||Wf.current||jh?(typeof Ft=="function"&&(Di$1(s,et,Ft,nt),Ct=s.memoizedState),($t=jh||Fi$1(s,et,$t,nt,Ut,Ct,Dt))?(jt||typeof wt.UNSAFE_componentWillMount!="function"&&typeof wt.componentWillMount!="function"||(typeof wt.componentWillMount=="function"&&wt.componentWillMount(),typeof wt.UNSAFE_componentWillMount=="function"&&wt.UNSAFE_componentWillMount()),typeof wt.componentDidMount=="function"&&(s.flags|=4194308)):(typeof wt.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=nt,s.memoizedState=Ct),wt.props=nt,wt.state=Ct,wt.context=Dt,nt=$t):(typeof wt.componentDidMount=="function"&&(s.flags|=4194308),nt=!1)}else{wt=s.stateNode,lh(a,s),$t=s.memoizedProps,Dt=s.type===s.elementType?$t:Ci(s.type,$t),wt.props=Dt,jt=s.pendingProps,Ut=wt.context,Ct=et.contextType,typeof Ct=="object"&&Ct!==null?Ct=eh(Ct):(Ct=Zf(et)?Xf:H$2.current,Ct=Yf(s,Ct));var tr=et.getDerivedStateFromProps;(Ft=typeof tr=="function"||typeof wt.getSnapshotBeforeUpdate=="function")||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||($t!==jt||Ut!==Ct)&&Hi(s,wt,nt,Ct),jh=!1,Ut=s.memoizedState,wt.state=Ut,qh(s,nt,wt,at);var ir=s.memoizedState;$t!==jt||Ut!==ir||Wf.current||jh?(typeof tr=="function"&&(Di$1(s,et,tr,nt),ir=s.memoizedState),(Dt=jh||Fi$1(s,et,Dt,nt,Ut,ir,Ct)||!1)?(Ft||typeof wt.UNSAFE_componentWillUpdate!="function"&&typeof wt.componentWillUpdate!="function"||(typeof wt.componentWillUpdate=="function"&&wt.componentWillUpdate(nt,ir,Ct),typeof wt.UNSAFE_componentWillUpdate=="function"&&wt.UNSAFE_componentWillUpdate(nt,ir,Ct)),typeof wt.componentDidUpdate=="function"&&(s.flags|=4),typeof wt.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof wt.componentDidUpdate!="function"||$t===a.memoizedProps&&Ut===a.memoizedState||(s.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||$t===a.memoizedProps&&Ut===a.memoizedState||(s.flags|=1024),s.memoizedProps=nt,s.memoizedState=ir),wt.props=nt,wt.state=ir,wt.context=Ct,nt=Dt):(typeof wt.componentDidUpdate!="function"||$t===a.memoizedProps&&Ut===a.memoizedState||(s.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||$t===a.memoizedProps&&Ut===a.memoizedState||(s.flags|=1024),nt=!1)}return jj(a,s,et,nt,mt,at)}function jj(a,s,et,nt,at,mt){gj(a,s);var wt=(s.flags&128)!==0;if(!nt&&!wt)return at&&dg(s,et,!1),Zi(a,s,mt);nt=s.stateNode,Wi.current=s;var $t=wt&&typeof et.getDerivedStateFromError!="function"?null:nt.render();return s.flags|=1,a!==null&&wt?(s.child=Ug(s,a.child,null,mt),s.child=Ug(s,null,$t,mt)):Xi(a,s,$t,mt),s.memoizedState=nt.state,at&&dg(s,et,!0),s.child}function kj(a){var s=a.stateNode;s.pendingContext?ag(a,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(a,s.context,!1),yh(a,s.containerInfo)}function lj(a,s,et,nt,at){return Ig(),Jg(at),s.flags|=256,Xi(a,s,et,nt),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,s,et){var nt=s.pendingProps,at=L$1.current,mt=!1,wt=(s.flags&128)!==0,$t;if(($t=wt)||($t=a!==null&&a.memoizedState===null?!1:(at&2)!==0),$t?(mt=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(at|=1),G$1(L$1,at&1),a===null)return Eg(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(s.mode&1?a.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(wt=nt.children,a=nt.fallback,mt?(nt=s.mode,mt=s.child,wt={mode:"hidden",children:wt},!(nt&1)&&mt!==null?(mt.childLanes=0,mt.pendingProps=wt):mt=pj(wt,nt,0,null),a=Tg(a,nt,et,null),mt.return=s,a.return=s,mt.sibling=a,s.child=mt,s.child.memoizedState=nj(et),s.memoizedState=mj,a):qj(s,wt));if(at=a.memoizedState,at!==null&&($t=at.dehydrated,$t!==null))return rj(a,s,wt,nt,$t,at,et);if(mt){mt=nt.fallback,wt=s.mode,at=a.child,$t=at.sibling;var Ct={mode:"hidden",children:nt.children};return!(wt&1)&&s.child!==at?(nt=s.child,nt.childLanes=0,nt.pendingProps=Ct,s.deletions=null):(nt=Pg(at,Ct),nt.subtreeFlags=at.subtreeFlags&14680064),$t!==null?mt=Pg($t,mt):(mt=Tg(mt,wt,et,null),mt.flags|=2),mt.return=s,nt.return=s,nt.sibling=mt,s.child=nt,nt=mt,mt=s.child,wt=a.child.memoizedState,wt=wt===null?nj(et):{baseLanes:wt.baseLanes|et,cachePool:null,transitions:wt.transitions},mt.memoizedState=wt,mt.childLanes=a.childLanes&~et,s.memoizedState=mj,nt}return mt=a.child,a=mt.sibling,nt=Pg(mt,{mode:"visible",children:nt.children}),!(s.mode&1)&&(nt.lanes=et),nt.return=s,nt.sibling=null,a!==null&&(et=s.deletions,et===null?(s.deletions=[a],s.flags|=16):et.push(a)),s.child=nt,s.memoizedState=null,nt}function qj(a,s){return s=pj({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function sj(a,s,et,nt){return nt!==null&&Jg(nt),Ug(s,a.child,null,et),a=qj(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function rj(a,s,et,nt,at,mt,wt){if(et)return s.flags&256?(s.flags&=-257,nt=Ki(Error(p$1(422))),sj(a,s,wt,nt)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(mt=nt.fallback,at=s.mode,nt=pj({mode:"visible",children:nt.children},at,0,null),mt=Tg(mt,at,wt,null),mt.flags|=2,nt.return=s,mt.return=s,nt.sibling=mt,s.child=nt,s.mode&1&&Ug(s,a.child,null,wt),s.child.memoizedState=nj(wt),s.memoizedState=mj,mt);if(!(s.mode&1))return sj(a,s,wt,null);if(at.data==="$!"){if(nt=at.nextSibling&&at.nextSibling.dataset,nt)var $t=nt.dgst;return nt=$t,mt=Error(p$1(419)),nt=Ki(mt,nt,void 0),sj(a,s,wt,nt)}if($t=(wt&a.childLanes)!==0,dh$1||$t){if(nt=Q,nt!==null){switch(wt&-wt){case 4:at=2;break;case 16:at=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:at=32;break;case 536870912:at=268435456;break;default:at=0}at=at&(nt.suspendedLanes|wt)?0:at,at!==0&&at!==mt.retryLane&&(mt.retryLane=at,ih(a,at),gi(nt,a,at,-1))}return tj(),nt=Ki(Error(p$1(421))),sj(a,s,wt,nt)}return at.data==="$?"?(s.flags|=128,s.child=a.child,s=uj.bind(null,a),at._reactRetry=s,null):(a=mt.treeContext,yg=Lf(at.nextSibling),xg=s,I$3=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=s),s=qj(s,nt.children),s.flags|=4096,s)}function vj(a,s,et){a.lanes|=s;var nt=a.alternate;nt!==null&&(nt.lanes|=s),bh(a.return,s,et)}function wj(a,s,et,nt,at){var mt=a.memoizedState;mt===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:nt,tail:et,tailMode:at}:(mt.isBackwards=s,mt.rendering=null,mt.renderingStartTime=0,mt.last=nt,mt.tail=et,mt.tailMode=at)}function xj(a,s,et){var nt=s.pendingProps,at=nt.revealOrder,mt=nt.tail;if(Xi(a,s,nt.children,et),nt=L$1.current,nt&2)nt=nt&1|2,s.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,et,s);else if(a.tag===19)vj(a,et,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}nt&=1}if(G$1(L$1,nt),!(s.mode&1))s.memoizedState=null;else switch(at){case"forwards":for(et=s.child,at=null;et!==null;)a=et.alternate,a!==null&&Ch(a)===null&&(at=et),et=et.sibling;et=at,et===null?(at=s.child,s.child=null):(at=et.sibling,et.sibling=null),wj(s,!1,at,et,mt);break;case"backwards":for(et=null,at=s.child,s.child=null;at!==null;){if(a=at.alternate,a!==null&&Ch(a)===null){s.child=at;break}a=at.sibling,at.sibling=et,et=at,at=a}wj(s,!0,et,null,mt);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(a,s){!(s.mode&1)&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function Zi(a,s,et){if(a!==null&&(s.dependencies=a.dependencies),rh|=s.lanes,!(et&s.childLanes))return null;if(a!==null&&s.child!==a.child)throw Error(p$1(153));if(s.child!==null){for(a=s.child,et=Pg(a,a.pendingProps),s.child=et,et.return=s;a.sibling!==null;)a=a.sibling,et=et.sibling=Pg(a,a.pendingProps),et.return=s;et.sibling=null}return s.child}function yj(a,s,et){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var nt=s.type._context,at=s.memoizedProps.value;G$1(Wg,nt._currentValue),nt._currentValue=at;break;case 13:if(nt=s.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(L$1,L$1.current&1),s.flags|=128,null):et&s.child.childLanes?oj(a,s,et):(G$1(L$1,L$1.current&1),a=Zi(a,s,et),a!==null?a.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(nt=(et&s.childLanes)!==0,a.flags&128){if(nt)return xj(a,s,et);s.flags|=128}if(at=s.memoizedState,at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),G$1(L$1,L$1.current),nt)break;return null;case 22:case 23:return s.lanes=0,dj(a,s,et)}return Zi(a,s,et)}var zj,Aj,Bj,Cj;zj=function(a,s){for(var et=s.child;et!==null;){if(et.tag===5||et.tag===6)a.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===s)break;for(;et.sibling===null;){if(et.return===null||et.return===s)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function(a,s,et,nt){var at=a.memoizedProps;if(at!==nt){a=s.stateNode,xh(uh.current);var mt=null;switch(et){case"input":at=Ya(a,at),nt=Ya(a,nt),mt=[];break;case"select":at=A$2({},at,{value:void 0}),nt=A$2({},nt,{value:void 0}),mt=[];break;case"textarea":at=gb(a,at),nt=gb(a,nt),mt=[];break;default:typeof at.onClick!="function"&&typeof nt.onClick=="function"&&(a.onclick=Bf)}ub(et,nt);var wt;et=null;for(Dt in at)if(!nt.hasOwnProperty(Dt)&&at.hasOwnProperty(Dt)&&at[Dt]!=null)if(Dt==="style"){var $t=at[Dt];for(wt in $t)$t.hasOwnProperty(wt)&&(et||(et={}),et[wt]="")}else Dt!=="dangerouslySetInnerHTML"&&Dt!=="children"&&Dt!=="suppressContentEditableWarning"&&Dt!=="suppressHydrationWarning"&&Dt!=="autoFocus"&&(ea.hasOwnProperty(Dt)?mt||(mt=[]):(mt=mt||[]).push(Dt,null));for(Dt in nt){var Ct=nt[Dt];if($t=at!=null?at[Dt]:void 0,nt.hasOwnProperty(Dt)&&Ct!==$t&&(Ct!=null||$t!=null))if(Dt==="style")if($t){for(wt in $t)!$t.hasOwnProperty(wt)||Ct&&Ct.hasOwnProperty(wt)||(et||(et={}),et[wt]="");for(wt in Ct)Ct.hasOwnProperty(wt)&&$t[wt]!==Ct[wt]&&(et||(et={}),et[wt]=Ct[wt])}else et||(mt||(mt=[]),mt.push(Dt,et)),et=Ct;else Dt==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,$t=$t?$t.__html:void 0,Ct!=null&&$t!==Ct&&(mt=mt||[]).push(Dt,Ct)):Dt==="children"?typeof Ct!="string"&&typeof Ct!="number"||(mt=mt||[]).push(Dt,""+Ct):Dt!=="suppressContentEditableWarning"&&Dt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Dt)?(Ct!=null&&Dt==="onScroll"&&D$2("scroll",a),mt||$t===Ct||(mt=[])):(mt=mt||[]).push(Dt,Ct))}et&&(mt=mt||[]).push("style",et);var Dt=mt;(s.updateQueue=Dt)&&(s.flags|=4)}};Cj=function(a,s,et,nt){et!==nt&&(s.flags|=4)};function Dj(a,s){if(!I$3)switch(a.tailMode){case"hidden":s=a.tail;for(var et=null;s!==null;)s.alternate!==null&&(et=s),s=s.sibling;et===null?a.tail=null:et.sibling=null;break;case"collapsed":et=a.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:nt.sibling=null}}function S$4(a){var s=a.alternate!==null&&a.alternate.child===a.child,et=0,nt=0;if(s)for(var at=a.child;at!==null;)et|=at.lanes|at.childLanes,nt|=at.subtreeFlags&14680064,nt|=at.flags&14680064,at.return=a,at=at.sibling;else for(at=a.child;at!==null;)et|=at.lanes|at.childLanes,nt|=at.subtreeFlags,nt|=at.flags,at.return=a,at=at.sibling;return a.subtreeFlags|=nt,a.childLanes=et,s}function Ej(a,s,et){var nt=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(s),null;case 1:return Zf(s.type)&&$f(),S$4(s),null;case 3:return nt=s.stateNode,zh(),E(Wf),E(H$2),Eh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(a===null||a.child===null)&&(Gg(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,s),S$4(s),null;case 5:Bh(s);var at=xh(wh.current);if(et=s.type,a!==null&&s.stateNode!=null)Bj(a,s,et,nt,at),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!nt){if(s.stateNode===null)throw Error(p$1(166));return S$4(s),null}if(a=xh(uh.current),Gg(s)){nt=s.stateNode,et=s.type;var mt=s.memoizedProps;switch(nt[Of]=s,nt[Pf]=mt,a=(s.mode&1)!==0,et){case"dialog":D$2("cancel",nt),D$2("close",nt);break;case"iframe":case"object":case"embed":D$2("load",nt);break;case"video":case"audio":for(at=0;at<lf.length;at++)D$2(lf[at],nt);break;case"source":D$2("error",nt);break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt);break;case"details":D$2("toggle",nt);break;case"input":Za(nt,mt),D$2("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!mt.multiple},D$2("invalid",nt);break;case"textarea":hb(nt,mt),D$2("invalid",nt)}ub(et,mt),at=null;for(var wt in mt)if(mt.hasOwnProperty(wt)){var $t=mt[wt];wt==="children"?typeof $t=="string"?nt.textContent!==$t&&(mt.suppressHydrationWarning!==!0&&Af(nt.textContent,$t,a),at=["children",$t]):typeof $t=="number"&&nt.textContent!==""+$t&&(mt.suppressHydrationWarning!==!0&&Af(nt.textContent,$t,a),at=["children",""+$t]):ea.hasOwnProperty(wt)&&$t!=null&&wt==="onScroll"&&D$2("scroll",nt)}switch(et){case"input":Va(nt),db(nt,mt,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof mt.onClick=="function"&&(nt.onclick=Bf)}nt=at,s.updateQueue=nt,nt!==null&&(s.flags|=4)}else{wt=at.nodeType===9?at:at.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(et)),a==="http://www.w3.org/1999/xhtml"?et==="script"?(a=wt.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof nt.is=="string"?a=wt.createElement(et,{is:nt.is}):(a=wt.createElement(et),et==="select"&&(wt=a,nt.multiple?wt.multiple=!0:nt.size&&(wt.size=nt.size))):a=wt.createElementNS(a,et),a[Of]=s,a[Pf]=nt,zj(a,s,!1,!1),s.stateNode=a;e:{switch(wt=vb(et,nt),et){case"dialog":D$2("cancel",a),D$2("close",a),at=nt;break;case"iframe":case"object":case"embed":D$2("load",a),at=nt;break;case"video":case"audio":for(at=0;at<lf.length;at++)D$2(lf[at],a);at=nt;break;case"source":D$2("error",a),at=nt;break;case"img":case"image":case"link":D$2("error",a),D$2("load",a),at=nt;break;case"details":D$2("toggle",a),at=nt;break;case"input":Za(a,nt),at=Ya(a,nt),D$2("invalid",a);break;case"option":at=nt;break;case"select":a._wrapperState={wasMultiple:!!nt.multiple},at=A$2({},nt,{value:void 0}),D$2("invalid",a);break;case"textarea":hb(a,nt),at=gb(a,nt),D$2("invalid",a);break;default:at=nt}ub(et,at),$t=at;for(mt in $t)if($t.hasOwnProperty(mt)){var Ct=$t[mt];mt==="style"?sb(a,Ct):mt==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,Ct!=null&&nb(a,Ct)):mt==="children"?typeof Ct=="string"?(et!=="textarea"||Ct!=="")&&ob(a,Ct):typeof Ct=="number"&&ob(a,""+Ct):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea.hasOwnProperty(mt)?Ct!=null&&mt==="onScroll"&&D$2("scroll",a):Ct!=null&&ta(a,mt,Ct,wt))}switch(et){case"input":Va(a),db(a,nt,!1);break;case"textarea":Va(a),jb(a);break;case"option":nt.value!=null&&a.setAttribute("value",""+Sa(nt.value));break;case"select":a.multiple=!!nt.multiple,mt=nt.value,mt!=null?fb(a,!!nt.multiple,mt,!1):nt.defaultValue!=null&&fb(a,!!nt.multiple,nt.defaultValue,!0);break;default:typeof at.onClick=="function"&&(a.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S$4(s),null;case 6:if(a&&s.stateNode!=null)Cj(a,s,a.memoizedProps,nt);else{if(typeof nt!="string"&&s.stateNode===null)throw Error(p$1(166));if(et=xh(wh.current),xh(uh.current),Gg(s)){if(nt=s.stateNode,et=s.memoizedProps,nt[Of]=s,(mt=nt.nodeValue!==et)&&(a=xg,a!==null))switch(a.tag){case 3:Af(nt.nodeValue,et,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,et,(a.mode&1)!==0)}mt&&(s.flags|=4)}else nt=(et.nodeType===9?et:et.ownerDocument).createTextNode(nt),nt[Of]=s,s.stateNode=nt}return S$4(s),null;case 13:if(E(L$1),nt=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,mt=!1;else if(mt=Gg(s),nt!==null&&nt.dehydrated!==null){if(a===null){if(!mt)throw Error(p$1(318));if(mt=s.memoizedState,mt=mt!==null?mt.dehydrated:null,!mt)throw Error(p$1(317));mt[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S$4(s),mt=!1}else zg!==null&&(Fj(zg),zg=null),mt=!0;if(!mt)return s.flags&65536?s:null}return s.flags&128?(s.lanes=et,s):(nt=nt!==null,nt!==(a!==null&&a.memoizedState!==null)&&nt&&(s.child.flags|=8192,s.mode&1&&(a===null||L$1.current&1?T$1===0&&(T$1=3):tj())),s.updateQueue!==null&&(s.flags|=4),S$4(s),null);case 4:return zh(),Aj(a,s),a===null&&sf(s.stateNode.containerInfo),S$4(s),null;case 10:return ah(s.type._context),S$4(s),null;case 17:return Zf(s.type)&&$f(),S$4(s),null;case 19:if(E(L$1),mt=s.memoizedState,mt===null)return S$4(s),null;if(nt=(s.flags&128)!==0,wt=mt.rendering,wt===null)if(nt)Dj(mt,!1);else{if(T$1!==0||a!==null&&a.flags&128)for(a=s.child;a!==null;){if(wt=Ch(a),wt!==null){for(s.flags|=128,Dj(mt,!1),nt=wt.updateQueue,nt!==null&&(s.updateQueue=nt,s.flags|=4),s.subtreeFlags=0,nt=et,et=s.child;et!==null;)mt=et,a=nt,mt.flags&=14680066,wt=mt.alternate,wt===null?(mt.childLanes=0,mt.lanes=a,mt.child=null,mt.subtreeFlags=0,mt.memoizedProps=null,mt.memoizedState=null,mt.updateQueue=null,mt.dependencies=null,mt.stateNode=null):(mt.childLanes=wt.childLanes,mt.lanes=wt.lanes,mt.child=wt.child,mt.subtreeFlags=0,mt.deletions=null,mt.memoizedProps=wt.memoizedProps,mt.memoizedState=wt.memoizedState,mt.updateQueue=wt.updateQueue,mt.type=wt.type,a=wt.dependencies,mt.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),et=et.sibling;return G$1(L$1,L$1.current&1|2),s.child}a=a.sibling}mt.tail!==null&&B$1()>Gj&&(s.flags|=128,nt=!0,Dj(mt,!1),s.lanes=4194304)}else{if(!nt)if(a=Ch(wt),a!==null){if(s.flags|=128,nt=!0,et=a.updateQueue,et!==null&&(s.updateQueue=et,s.flags|=4),Dj(mt,!0),mt.tail===null&&mt.tailMode==="hidden"&&!wt.alternate&&!I$3)return S$4(s),null}else 2*B$1()-mt.renderingStartTime>Gj&&et!==1073741824&&(s.flags|=128,nt=!0,Dj(mt,!1),s.lanes=4194304);mt.isBackwards?(wt.sibling=s.child,s.child=wt):(et=mt.last,et!==null?et.sibling=wt:s.child=wt,mt.last=wt)}return mt.tail!==null?(s=mt.tail,mt.rendering=s,mt.tail=s.sibling,mt.renderingStartTime=B$1(),s.sibling=null,et=L$1.current,G$1(L$1,nt?et&1|2:et&1),s):(S$4(s),null);case 22:case 23:return Hj(),nt=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==nt&&(s.flags|=8192),nt&&s.mode&1?fj&1073741824&&(S$4(s),s.subtreeFlags&6&&(s.flags|=8192)):S$4(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(a,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return zh(),E(Wf),E(H$2),Eh(),a=s.flags,a&65536&&!(a&128)?(s.flags=a&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L$1),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return E(L$1),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(a,s){var et=a.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(nt){W$1(a,s,nt)}else et.current=null}function Mj(a,s,et){try{et()}catch(nt){W$1(a,s,nt)}}var Nj=!1;function Oj(a,s){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var et={start:a.selectionStart,end:a.selectionEnd};else e:{et=(et=a.ownerDocument)&&et.defaultView||window;var nt=et.getSelection&&et.getSelection();if(nt&&nt.rangeCount!==0){et=nt.anchorNode;var at=nt.anchorOffset,mt=nt.focusNode;nt=nt.focusOffset;try{et.nodeType,mt.nodeType}catch{et=null;break e}var wt=0,$t=-1,Ct=-1,Dt=0,Ft=0,jt=a,Ut=null;t:for(;;){for(var tr;jt!==et||at!==0&&jt.nodeType!==3||($t=wt+at),jt!==mt||nt!==0&&jt.nodeType!==3||(Ct=wt+nt),jt.nodeType===3&&(wt+=jt.nodeValue.length),(tr=jt.firstChild)!==null;)Ut=jt,jt=tr;for(;;){if(jt===a)break t;if(Ut===et&&++Dt===at&&($t=wt),Ut===mt&&++Ft===nt&&(Ct=wt),(tr=jt.nextSibling)!==null)break;jt=Ut,Ut=jt.parentNode}jt=tr}et=$t===-1||Ct===-1?null:{start:$t,end:Ct}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:a,selectionRange:et},dd=!1,V$1=s;V$1!==null;)if(s=V$1,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,V$1=a;else for(;V$1!==null;){s=V$1;try{var ir=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ir!==null){var sr=ir.memoizedProps,ur=ir.memoizedState,fr=s.stateNode,dr=fr.getSnapshotBeforeUpdate(s.elementType===s.type?sr:Ci(s.type,sr),ur);fr.__reactInternalSnapshotBeforeUpdate=dr}break;case 3:var hr=s.stateNode.containerInfo;hr.nodeType===1?hr.textContent="":hr.nodeType===9&&hr.documentElement&&hr.removeChild(hr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(vr){W$1(s,s.return,vr)}if(a=s.sibling,a!==null){a.return=s.return,V$1=a;break}V$1=s.return}return ir=Nj,Nj=!1,ir}function Pj(a,s,et){var nt=s.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var at=nt=nt.next;do{if((at.tag&a)===a){var mt=at.destroy;at.destroy=void 0,mt!==void 0&&Mj(s,et,mt)}at=at.next}while(at!==nt)}}function Qj(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var et=s=s.next;do{if((et.tag&a)===a){var nt=et.create;et.destroy=nt()}et=et.next}while(et!==s)}}function Rj(a){var s=a.ref;if(s!==null){var et=a.stateNode;switch(a.tag){case 5:a=et;break;default:a=et}typeof s=="function"?s(a):s.current=a}}function Sj(a){var s=a.alternate;s!==null&&(a.alternate=null,Sj(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,s,et){var nt=a.tag;if(nt===5||nt===6)a=a.stateNode,s?et.nodeType===8?et.parentNode.insertBefore(a,s):et.insertBefore(a,s):(et.nodeType===8?(s=et.parentNode,s.insertBefore(a,et)):(s=et,s.appendChild(a)),et=et._reactRootContainer,et!=null||s.onclick!==null||(s.onclick=Bf));else if(nt!==4&&(a=a.child,a!==null))for(Vj(a,s,et),a=a.sibling;a!==null;)Vj(a,s,et),a=a.sibling}function Wj(a,s,et){var nt=a.tag;if(nt===5||nt===6)a=a.stateNode,s?et.insertBefore(a,s):et.appendChild(a);else if(nt!==4&&(a=a.child,a!==null))for(Wj(a,s,et),a=a.sibling;a!==null;)Wj(a,s,et),a=a.sibling}var X=null,Xj=!1;function Yj(a,s,et){for(et=et.child;et!==null;)Zj(a,s,et),et=et.sibling}function Zj(a,s,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Lj(et,s);case 6:var nt=X,at=Xj;X=null,Yj(a,s,et),X=nt,Xj=at,X!==null&&(Xj?(a=X,et=et.stateNode,a.nodeType===8?a.parentNode.removeChild(et):a.removeChild(et)):X.removeChild(et.stateNode));break;case 18:X!==null&&(Xj?(a=X,et=et.stateNode,a.nodeType===8?Kf(a.parentNode,et):a.nodeType===1&&Kf(a,et),bd(a)):Kf(X,et.stateNode));break;case 4:nt=X,at=Xj,X=et.stateNode.containerInfo,Xj=!0,Yj(a,s,et),X=nt,Xj=at;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=et.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){at=nt=nt.next;do{var mt=at,wt=mt.destroy;mt=mt.tag,wt!==void 0&&(mt&2||mt&4)&&Mj(et,s,wt),at=at.next}while(at!==nt)}Yj(a,s,et);break;case 1:if(!U$1&&(Lj(et,s),nt=et.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=et.memoizedProps,nt.state=et.memoizedState,nt.componentWillUnmount()}catch($t){W$1(et,s,$t)}Yj(a,s,et);break;case 21:Yj(a,s,et);break;case 22:et.mode&1?(U$1=(nt=U$1)||et.memoizedState!==null,Yj(a,s,et),U$1=nt):Yj(a,s,et);break;default:Yj(a,s,et)}}function ak(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var et=a.stateNode;et===null&&(et=a.stateNode=new Kj),s.forEach(function(nt){var at=bk.bind(null,a,nt);et.has(nt)||(et.add(nt),nt.then(at,at))})}}function ck(a,s){var et=s.deletions;if(et!==null)for(var nt=0;nt<et.length;nt++){var at=et[nt];try{var mt=a,wt=s,$t=wt;e:for(;$t!==null;){switch($t.tag){case 5:X=$t.stateNode,Xj=!1;break e;case 3:X=$t.stateNode.containerInfo,Xj=!0;break e;case 4:X=$t.stateNode.containerInfo,Xj=!0;break e}$t=$t.return}if(X===null)throw Error(p$1(160));Zj(mt,wt,at),X=null,Xj=!1;var Ct=at.alternate;Ct!==null&&(Ct.return=null),at.return=null}catch(Dt){W$1(at,s,Dt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,a),s=s.sibling}function dk(a,s){var et=a.alternate,nt=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(s,a),ek(a),nt&4){try{Pj(3,a,a.return),Qj(3,a)}catch(sr){W$1(a,a.return,sr)}try{Pj(5,a,a.return)}catch(sr){W$1(a,a.return,sr)}}break;case 1:ck(s,a),ek(a),nt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck(s,a),ek(a),nt&512&&et!==null&&Lj(et,et.return),a.flags&32){var at=a.stateNode;try{ob(at,"")}catch(sr){W$1(a,a.return,sr)}}if(nt&4&&(at=a.stateNode,at!=null)){var mt=a.memoizedProps,wt=et!==null?et.memoizedProps:mt,$t=a.type,Ct=a.updateQueue;if(a.updateQueue=null,Ct!==null)try{$t==="input"&&mt.type==="radio"&&mt.name!=null&&ab(at,mt),vb($t,wt);var Dt=vb($t,mt);for(wt=0;wt<Ct.length;wt+=2){var Ft=Ct[wt],jt=Ct[wt+1];Ft==="style"?sb(at,jt):Ft==="dangerouslySetInnerHTML"?nb(at,jt):Ft==="children"?ob(at,jt):ta(at,Ft,jt,Dt)}switch($t){case"input":bb(at,mt);break;case"textarea":ib(at,mt);break;case"select":var Ut=at._wrapperState.wasMultiple;at._wrapperState.wasMultiple=!!mt.multiple;var tr=mt.value;tr!=null?fb(at,!!mt.multiple,tr,!1):Ut!==!!mt.multiple&&(mt.defaultValue!=null?fb(at,!!mt.multiple,mt.defaultValue,!0):fb(at,!!mt.multiple,mt.multiple?[]:"",!1))}at[Pf]=mt}catch(sr){W$1(a,a.return,sr)}}break;case 6:if(ck(s,a),ek(a),nt&4){if(a.stateNode===null)throw Error(p$1(162));at=a.stateNode,mt=a.memoizedProps;try{at.nodeValue=mt}catch(sr){W$1(a,a.return,sr)}}break;case 3:if(ck(s,a),ek(a),nt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(sr){W$1(a,a.return,sr)}break;case 4:ck(s,a),ek(a);break;case 13:ck(s,a),ek(a),at=a.child,at.flags&8192&&(mt=at.memoizedState!==null,at.stateNode.isHidden=mt,!mt||at.alternate!==null&&at.alternate.memoizedState!==null||(fk=B$1())),nt&4&&ak(a);break;case 22:if(Ft=et!==null&&et.memoizedState!==null,a.mode&1?(U$1=(Dt=U$1)||Ft,ck(s,a),U$1=Dt):ck(s,a),ek(a),nt&8192){if(Dt=a.memoizedState!==null,(a.stateNode.isHidden=Dt)&&!Ft&&a.mode&1)for(V$1=a,Ft=a.child;Ft!==null;){for(jt=V$1=Ft;V$1!==null;){switch(Ut=V$1,tr=Ut.child,Ut.tag){case 0:case 11:case 14:case 15:Pj(4,Ut,Ut.return);break;case 1:Lj(Ut,Ut.return);var ir=Ut.stateNode;if(typeof ir.componentWillUnmount=="function"){nt=Ut,et=Ut.return;try{s=nt,ir.props=s.memoizedProps,ir.state=s.memoizedState,ir.componentWillUnmount()}catch(sr){W$1(nt,et,sr)}}break;case 5:Lj(Ut,Ut.return);break;case 22:if(Ut.memoizedState!==null){gk(jt);continue}}tr!==null?(tr.return=Ut,V$1=tr):gk(jt)}Ft=Ft.sibling}e:for(Ft=null,jt=a;;){if(jt.tag===5){if(Ft===null){Ft=jt;try{at=jt.stateNode,Dt?(mt=at.style,typeof mt.setProperty=="function"?mt.setProperty("display","none","important"):mt.display="none"):($t=jt.stateNode,Ct=jt.memoizedProps.style,wt=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null,$t.style.display=rb("display",wt))}catch(sr){W$1(a,a.return,sr)}}}else if(jt.tag===6){if(Ft===null)try{jt.stateNode.nodeValue=Dt?"":jt.memoizedProps}catch(sr){W$1(a,a.return,sr)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===a)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===a)break e;for(;jt.sibling===null;){if(jt.return===null||jt.return===a)break e;Ft===jt&&(Ft=null),jt=jt.return}Ft===jt&&(Ft=null),jt.sibling.return=jt.return,jt=jt.sibling}}break;case 19:ck(s,a),ek(a),nt&4&&ak(a);break;case 21:break;default:ck(s,a),ek(a)}}function ek(a){var s=a.flags;if(s&2){try{e:{for(var et=a.return;et!==null;){if(Tj(et)){var nt=et;break e}et=et.return}throw Error(p$1(160))}switch(nt.tag){case 5:var at=nt.stateNode;nt.flags&32&&(ob(at,""),nt.flags&=-33);var mt=Uj(a);Wj(a,mt,at);break;case 3:case 4:var wt=nt.stateNode.containerInfo,$t=Uj(a);Vj(a,$t,wt);break;default:throw Error(p$1(161))}}catch(Ct){W$1(a,a.return,Ct)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function hk(a,s,et){V$1=a,ik(a)}function ik(a,s,et){for(var nt=(a.mode&1)!==0;V$1!==null;){var at=V$1,mt=at.child;if(at.tag===22&&nt){var wt=at.memoizedState!==null||Jj;if(!wt){var $t=at.alternate,Ct=$t!==null&&$t.memoizedState!==null||U$1;$t=Jj;var Dt=U$1;if(Jj=wt,(U$1=Ct)&&!Dt)for(V$1=at;V$1!==null;)wt=V$1,Ct=wt.child,wt.tag===22&&wt.memoizedState!==null?jk(at):Ct!==null?(Ct.return=wt,V$1=Ct):jk(at);for(;mt!==null;)V$1=mt,ik(mt),mt=mt.sibling;V$1=at,Jj=$t,U$1=Dt}kk(a)}else at.subtreeFlags&8772&&mt!==null?(mt.return=at,V$1=mt):kk(a)}}function kk(a){for(;V$1!==null;){var s=V$1;if(s.flags&8772){var et=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$1||Qj(5,s);break;case 1:var nt=s.stateNode;if(s.flags&4&&!U$1)if(et===null)nt.componentDidMount();else{var at=s.elementType===s.type?et.memoizedProps:Ci(s.type,et.memoizedProps);nt.componentDidUpdate(at,et.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var mt=s.updateQueue;mt!==null&&sh(s,mt,nt);break;case 3:var wt=s.updateQueue;if(wt!==null){if(et=null,s.child!==null)switch(s.child.tag){case 5:et=s.child.stateNode;break;case 1:et=s.child.stateNode}sh(s,wt,et)}break;case 5:var $t=s.stateNode;if(et===null&&s.flags&4){et=$t;var Ct=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Ct.autoFocus&&et.focus();break;case"img":Ct.src&&(et.src=Ct.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Dt=s.alternate;if(Dt!==null){var Ft=Dt.memoizedState;if(Ft!==null){var jt=Ft.dehydrated;jt!==null&&bd(jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||s.flags&512&&Rj(s)}catch(Ut){W$1(s,s.return,Ut)}}if(s===a){V$1=null;break}if(et=s.sibling,et!==null){et.return=s.return,V$1=et;break}V$1=s.return}}function gk(a){for(;V$1!==null;){var s=V$1;if(s===a){V$1=null;break}var et=s.sibling;if(et!==null){et.return=s.return,V$1=et;break}V$1=s.return}}function jk(a){for(;V$1!==null;){var s=V$1;try{switch(s.tag){case 0:case 11:case 15:var et=s.return;try{Qj(4,s)}catch(Ct){W$1(s,et,Ct)}break;case 1:var nt=s.stateNode;if(typeof nt.componentDidMount=="function"){var at=s.return;try{nt.componentDidMount()}catch(Ct){W$1(s,at,Ct)}}var mt=s.return;try{Rj(s)}catch(Ct){W$1(s,mt,Ct)}break;case 5:var wt=s.return;try{Rj(s)}catch(Ct){W$1(s,wt,Ct)}}}catch(Ct){W$1(s,s.return,Ct)}if(s===a){V$1=null;break}var $t=s.sibling;if($t!==null){$t.return=s.return,V$1=$t;break}V$1=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(a){return a.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,s,et,nt){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(a,et,nt),(!(K$1&2)||a!==Q)&&(a===Q&&(!(K$1&2)&&(qk|=et),T$1===4&&Ck(a,Z$1)),Dk(a,nt),et===1&&K$1===0&&!(s.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(a,s){var et=a.callbackNode;wc(a,s);var nt=uc(a,a===Q?Z$1:0);if(nt===0)et!==null&&bc(et),a.callbackNode=null,a.callbackPriority=0;else if(s=nt&-nt,a.callbackPriority!==s){if(et!=null&&bc(et),s===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K$1&6)&&jg()}),et=null;else{switch(Dc(nt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,a))}a.callbackPriority=s,a.callbackNode=et}}function Gk(a,s){if(Ak=-1,Bk=0,K$1&6)throw Error(p$1(327));var et=a.callbackNode;if(Hk()&&a.callbackNode!==et)return null;var nt=uc(a,a===Q?Z$1:0);if(nt===0)return null;if(nt&30||nt&a.expiredLanes||s)s=Ik(a,nt);else{s=nt;var at=K$1;K$1|=2;var mt=Jk();(Q!==a||Z$1!==s)&&(uk=null,Gj=B$1()+500,Kk(a,s));do try{Lk();break}catch($t){Mk(a,$t)}while(!0);$g(),mk.current=mt,K$1=at,Y$1!==null?s=0:(Q=null,Z$1=0,s=T$1)}if(s!==0){if(s===2&&(at=xc(a),at!==0&&(nt=at,s=Nk(a,at))),s===1)throw et=pk,Kk(a,0),Ck(a,nt),Dk(a,B$1()),et;if(s===6)Ck(a,nt);else{if(at=a.current.alternate,!(nt&30)&&!Ok(at)&&(s=Ik(a,nt),s===2&&(mt=xc(a),mt!==0&&(nt=mt,s=Nk(a,mt))),s===1))throw et=pk,Kk(a,0),Ck(a,nt),Dk(a,B$1()),et;switch(a.finishedWork=at,a.finishedLanes=nt,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,nt),(nt&130023424)===nt&&(s=fk+500-B$1(),10<s)){if(uc(a,0)!==0)break;if(at=a.suspendedLanes,(at&nt)!==nt){R$1(),a.pingedLanes|=a.suspendedLanes&at;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),s);break}Pk(a,tk,uk);break;case 4:if(Ck(a,nt),(nt&4194240)===nt)break;for(s=a.eventTimes,at=-1;0<nt;){var wt=31-oc(nt);mt=1<<wt,wt=s[wt],wt>at&&(at=wt),nt&=~mt}if(nt=at,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*lk(nt/1960))-nt,10<nt){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),nt);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(a,B$1()),a.callbackNode===et?Gk.bind(null,a):null}function Nk(a,s){var et=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,s).flags|=256),a=Ik(a,s),a!==2&&(s=tk,tk=et,s!==null&&Fj(s)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var s=a;;){if(s.flags&16384){var et=s.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var nt=0;nt<et.length;nt++){var at=et[nt],mt=at.getSnapshot;at=at.value;try{if(!He(mt(),at))return!1}catch{return!1}}}if(et=s.child,s.subtreeFlags&16384&&et!==null)et.return=s,s=et;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(a,s){for(s&=~rk,s&=~qk,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var et=31-oc(s),nt=1<<et;a[et]=-1,s&=~nt}}function Ek(a){if(K$1&6)throw Error(p$1(327));Hk();var s=uc(a,0);if(!(s&1))return Dk(a,B$1()),null;var et=Ik(a,s);if(a.tag!==0&&et===2){var nt=xc(a);nt!==0&&(s=nt,et=Nk(a,nt))}if(et===1)throw et=pk,Kk(a,0),Ck(a,s),Dk(a,B$1()),et;if(et===6)throw Error(p$1(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,Pk(a,tk,uk),Dk(a,B$1()),null}function Qk(a,s){var et=K$1;K$1|=1;try{return a(s)}finally{K$1=et,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var s=K$1;K$1|=1;var et=ok.transition,nt=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=nt,ok.transition=et,K$1=s,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(a,s){a.finishedWork=null,a.finishedLanes=0;var et=a.timeoutHandle;if(et!==-1&&(a.timeoutHandle=-1,Gf(et)),Y$1!==null)for(et=Y$1.return;et!==null;){var nt=et;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:zh(),E(Wf),E(H$2),Eh();break;case 5:Bh(nt);break;case 4:zh();break;case 13:E(L$1);break;case 19:E(L$1);break;case 10:ah(nt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q=a,Y$1=a=Pg(a.current,null),Z$1=fj=s,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(et=fh[s],nt=et.interleaved,nt!==null){et.interleaved=null;var at=nt.next,mt=et.pending;if(mt!==null){var wt=mt.next;mt.next=at,nt.next=wt}et.pending=nt}fh=null}return a}function Mk(a,s){do{var et=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nt=M$2.memoizedState;nt!==null;){var at=nt.queue;at!==null&&(at.pending=null),nt=nt.next}Ih=!1}if(Hh=0,O$3=N=M$2=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T$1=1,pk=s,Y$1=null;break}e:{var mt=a,wt=et.return,$t=et,Ct=s;if(s=Z$1,$t.flags|=32768,Ct!==null&&typeof Ct=="object"&&typeof Ct.then=="function"){var Dt=Ct,Ft=$t,jt=Ft.tag;if(!(Ft.mode&1)&&(jt===0||jt===11||jt===15)){var Ut=Ft.alternate;Ut?(Ft.updateQueue=Ut.updateQueue,Ft.memoizedState=Ut.memoizedState,Ft.lanes=Ut.lanes):(Ft.updateQueue=null,Ft.memoizedState=null)}var tr=Ui(wt);if(tr!==null){tr.flags&=-257,Vi(tr,wt,$t,mt,s),tr.mode&1&&Si(mt,Dt,s),s=tr,Ct=Dt;var ir=s.updateQueue;if(ir===null){var sr=new Set;sr.add(Ct),s.updateQueue=sr}else ir.add(Ct);break e}else{if(!(s&1)){Si(mt,Dt,s),tj();break e}Ct=Error(p$1(426))}}else if(I$3&&$t.mode&1){var ur=Ui(wt);if(ur!==null){!(ur.flags&65536)&&(ur.flags|=256),Vi(ur,wt,$t,mt,s),Jg(Ji(Ct,$t));break e}}mt=Ct=Ji(Ct,$t),T$1!==4&&(T$1=2),sk===null?sk=[mt]:sk.push(mt),mt=wt;do{switch(mt.tag){case 3:mt.flags|=65536,s&=-s,mt.lanes|=s;var fr=Ni$1(mt,Ct,s);ph(mt,fr);break e;case 1:$t=Ct;var dr=mt.type,hr=mt.stateNode;if(!(mt.flags&128)&&(typeof dr.getDerivedStateFromError=="function"||hr!==null&&typeof hr.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(hr)))){mt.flags|=65536,s&=-s,mt.lanes|=s;var vr=Qi(mt,$t,s);ph(mt,vr);break e}}mt=mt.return}while(mt!==null)}Sk(et)}catch(yr){s=yr,Y$1===et&&et!==null&&(Y$1=et=et.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik(a,s){var et=K$1;K$1|=2;var nt=Jk();(Q!==a||Z$1!==s)&&(uk=null,Kk(a,s));do try{Tk();break}catch(at){Mk(a,at)}while(!0);if($g(),K$1=et,mk.current=nt,Y$1!==null)throw Error(p$1(261));return Q=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(a){var s=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,s===null?Sk(a):Y$1=s,nk.current=null}function Sk(a){var s=a;do{var et=s.alternate;if(a=s.return,s.flags&32768){if(et=Ij(et,s),et!==null){et.flags&=32767,Y$1=et;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T$1=6,Y$1=null;return}}else if(et=Ej(et,s,fj),et!==null){Y$1=et;return}if(s=s.sibling,s!==null){Y$1=s;return}Y$1=s=a}while(s!==null);T$1===0&&(T$1=5)}function Pk(a,s,et){var nt=C,at=ok.transition;try{ok.transition=null,C=1,Wk(a,s,et,nt)}finally{ok.transition=at,C=nt}return null}function Wk(a,s,et,nt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$1(327));et=a.finishedWork;var at=a.finishedLanes;if(et===null)return null;if(a.finishedWork=null,a.finishedLanes=0,et===a.current)throw Error(p$1(177));a.callbackNode=null,a.callbackPriority=0;var mt=et.lanes|et.childLanes;if(Bc(a,mt),a===Q&&(Y$1=Q=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),mt=(et.flags&15990)!==0,et.subtreeFlags&15990||mt){mt=ok.transition,ok.transition=null;var wt=C;C=1;var $t=K$1;K$1|=4,nk.current=null,Oj(a,et),dk(et,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=et,hk(et),dc(),K$1=$t,C=wt,ok.transition=mt}else a.current=et;if(vk&&(vk=!1,wk=a,xk=at),mt=a.pendingLanes,mt===0&&(Ri$1=null),mc(et.stateNode),Dk(a,B$1()),s!==null)for(nt=a.onRecoverableError,et=0;et<s.length;et++)at=s[et],nt(at.value,{componentStack:at.stack,digest:at.digest});if(Oi$1)throw Oi$1=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),mt=a.pendingLanes,mt&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc(xk),s=ok.transition,et=C;try{if(ok.transition=null,C=16>a?16:a,wk===null)var nt=!1;else{if(a=wk,wk=null,xk=0,K$1&6)throw Error(p$1(331));var at=K$1;for(K$1|=4,V$1=a.current;V$1!==null;){var mt=V$1,wt=mt.child;if(V$1.flags&16){var $t=mt.deletions;if($t!==null){for(var Ct=0;Ct<$t.length;Ct++){var Dt=$t[Ct];for(V$1=Dt;V$1!==null;){var Ft=V$1;switch(Ft.tag){case 0:case 11:case 15:Pj(8,Ft,mt)}var jt=Ft.child;if(jt!==null)jt.return=Ft,V$1=jt;else for(;V$1!==null;){Ft=V$1;var Ut=Ft.sibling,tr=Ft.return;if(Sj(Ft),Ft===Dt){V$1=null;break}if(Ut!==null){Ut.return=tr,V$1=Ut;break}V$1=tr}}}var ir=mt.alternate;if(ir!==null){var sr=ir.child;if(sr!==null){ir.child=null;do{var ur=sr.sibling;sr.sibling=null,sr=ur}while(sr!==null)}}V$1=mt}}if(mt.subtreeFlags&2064&&wt!==null)wt.return=mt,V$1=wt;else e:for(;V$1!==null;){if(mt=V$1,mt.flags&2048)switch(mt.tag){case 0:case 11:case 15:Pj(9,mt,mt.return)}var fr=mt.sibling;if(fr!==null){fr.return=mt.return,V$1=fr;break e}V$1=mt.return}}var dr=a.current;for(V$1=dr;V$1!==null;){wt=V$1;var hr=wt.child;if(wt.subtreeFlags&2064&&hr!==null)hr.return=wt,V$1=hr;else e:for(wt=dr;V$1!==null;){if($t=V$1,$t.flags&2048)try{switch($t.tag){case 0:case 11:case 15:Qj(9,$t)}}catch(yr){W$1($t,$t.return,yr)}if($t===wt){V$1=null;break e}var vr=$t.sibling;if(vr!==null){vr.return=$t.return,V$1=vr;break e}V$1=$t.return}}if(K$1=at,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}nt=!0}return nt}finally{C=et,ok.transition=s}}return!1}function Xk(a,s,et){s=Ji(et,s),s=Ni$1(a,s,1),a=nh(a,s,1),s=R$1(),a!==null&&(Ac(a,1,s),Dk(a,s))}function W$1(a,s,et){if(a.tag===3)Xk(a,a,et);else for(;s!==null;){if(s.tag===3){Xk(s,a,et);break}else if(s.tag===1){var nt=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(nt))){a=Ji(et,a),a=Qi(s,a,1),s=nh(s,a,1),a=R$1(),s!==null&&(Ac(s,1,a),Dk(s,a));break}}s=s.return}}function Ti(a,s,et){var nt=a.pingCache;nt!==null&&nt.delete(s),s=R$1(),a.pingedLanes|=a.suspendedLanes&et,Q===a&&(Z$1&et)===et&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(a,0):rk|=et),Dk(a,s)}function Yk(a,s){s===0&&(a.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var et=R$1();a=ih(a,s),a!==null&&(Ac(a,s,et),Dk(a,et))}function uj(a){var s=a.memoizedState,et=0;s!==null&&(et=s.retryLane),Yk(a,et)}function bk(a,s){var et=0;switch(a.tag){case 13:var nt=a.stateNode,at=a.memoizedState;at!==null&&(et=at.retryLane);break;case 19:nt=a.stateNode;break;default:throw Error(p$1(314))}nt!==null&&nt.delete(s),Yk(a,et)}var Vk;Vk=function(a,s,et){if(a!==null)if(a.memoizedProps!==s.pendingProps||Wf.current)dh$1=!0;else{if(!(a.lanes&et)&&!(s.flags&128))return dh$1=!1,yj(a,s,et);dh$1=!!(a.flags&131072)}else dh$1=!1,I$3&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var nt=s.type;ij(a,s),a=s.pendingProps;var at=Yf(s,H$2.current);ch(s,et),at=Nh(null,s,nt,a,at,et);var mt=Sh();return s.flags|=1,typeof at=="object"&&at!==null&&typeof at.render=="function"&&at.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(nt)?(mt=!0,cg(s)):mt=!1,s.memoizedState=at.state!==null&&at.state!==void 0?at.state:null,kh(s),at.updater=Ei,s.stateNode=at,at._reactInternals=s,Ii(s,nt,a,et),s=jj(null,s,nt,!0,mt,et)):(s.tag=0,I$3&&mt&&vg(s),Xi(null,s,at,et),s=s.child),s;case 16:nt=s.elementType;e:{switch(ij(a,s),a=s.pendingProps,at=nt._init,nt=at(nt._payload),s.type=nt,at=s.tag=Zk(nt),a=Ci(nt,a),at){case 0:s=cj(null,s,nt,a,et);break e;case 1:s=hj(null,s,nt,a,et);break e;case 11:s=Yi(null,s,nt,a,et);break e;case 14:s=$i(null,s,nt,Ci(nt.type,a),et);break e}throw Error(p$1(306,nt,""))}return s;case 0:return nt=s.type,at=s.pendingProps,at=s.elementType===nt?at:Ci(nt,at),cj(a,s,nt,at,et);case 1:return nt=s.type,at=s.pendingProps,at=s.elementType===nt?at:Ci(nt,at),hj(a,s,nt,at,et);case 3:e:{if(kj(s),a===null)throw Error(p$1(387));nt=s.pendingProps,mt=s.memoizedState,at=mt.element,lh(a,s),qh(s,nt,null,et);var wt=s.memoizedState;if(nt=wt.element,mt.isDehydrated)if(mt={element:nt,isDehydrated:!1,cache:wt.cache,pendingSuspenseBoundaries:wt.pendingSuspenseBoundaries,transitions:wt.transitions},s.updateQueue.baseState=mt,s.memoizedState=mt,s.flags&256){at=Ji(Error(p$1(423)),s),s=lj(a,s,nt,et,at);break e}else if(nt!==at){at=Ji(Error(p$1(424)),s),s=lj(a,s,nt,et,at);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I$3=!0,zg=null,et=Vg(s,null,nt,et),s.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),nt===at){s=Zi(a,s,et);break e}Xi(a,s,nt,et)}s=s.child}return s;case 5:return Ah(s),a===null&&Eg(s),nt=s.type,at=s.pendingProps,mt=a!==null?a.memoizedProps:null,wt=at.children,Ef(nt,at)?wt=null:mt!==null&&Ef(nt,mt)&&(s.flags|=32),gj(a,s),Xi(a,s,wt,et),s.child;case 6:return a===null&&Eg(s),null;case 13:return oj(a,s,et);case 4:return yh(s,s.stateNode.containerInfo),nt=s.pendingProps,a===null?s.child=Ug(s,null,nt,et):Xi(a,s,nt,et),s.child;case 11:return nt=s.type,at=s.pendingProps,at=s.elementType===nt?at:Ci(nt,at),Yi(a,s,nt,at,et);case 7:return Xi(a,s,s.pendingProps,et),s.child;case 8:return Xi(a,s,s.pendingProps.children,et),s.child;case 12:return Xi(a,s,s.pendingProps.children,et),s.child;case 10:e:{if(nt=s.type._context,at=s.pendingProps,mt=s.memoizedProps,wt=at.value,G$1(Wg,nt._currentValue),nt._currentValue=wt,mt!==null)if(He(mt.value,wt)){if(mt.children===at.children&&!Wf.current){s=Zi(a,s,et);break e}}else for(mt=s.child,mt!==null&&(mt.return=s);mt!==null;){var $t=mt.dependencies;if($t!==null){wt=mt.child;for(var Ct=$t.firstContext;Ct!==null;){if(Ct.context===nt){if(mt.tag===1){Ct=mh(-1,et&-et),Ct.tag=2;var Dt=mt.updateQueue;if(Dt!==null){Dt=Dt.shared;var Ft=Dt.pending;Ft===null?Ct.next=Ct:(Ct.next=Ft.next,Ft.next=Ct),Dt.pending=Ct}}mt.lanes|=et,Ct=mt.alternate,Ct!==null&&(Ct.lanes|=et),bh(mt.return,et,s),$t.lanes|=et;break}Ct=Ct.next}}else if(mt.tag===10)wt=mt.type===s.type?null:mt.child;else if(mt.tag===18){if(wt=mt.return,wt===null)throw Error(p$1(341));wt.lanes|=et,$t=wt.alternate,$t!==null&&($t.lanes|=et),bh(wt,et,s),wt=mt.sibling}else wt=mt.child;if(wt!==null)wt.return=mt;else for(wt=mt;wt!==null;){if(wt===s){wt=null;break}if(mt=wt.sibling,mt!==null){mt.return=wt.return,wt=mt;break}wt=wt.return}mt=wt}Xi(a,s,at.children,et),s=s.child}return s;case 9:return at=s.type,nt=s.pendingProps.children,ch(s,et),at=eh(at),nt=nt(at),s.flags|=1,Xi(a,s,nt,et),s.child;case 14:return nt=s.type,at=Ci(nt,s.pendingProps),at=Ci(nt.type,at),$i(a,s,nt,at,et);case 15:return bj(a,s,s.type,s.pendingProps,et);case 17:return nt=s.type,at=s.pendingProps,at=s.elementType===nt?at:Ci(nt,at),ij(a,s),s.tag=1,Zf(nt)?(a=!0,cg(s)):a=!1,ch(s,et),Gi(s,nt,at),Ii(s,nt,at,et),jj(null,s,nt,!0,a,et);case 19:return xj(a,s,et);case 22:return dj(a,s,et)}throw Error(p$1(156,s.tag))};function Fk(a,s){return ac(a,s)}function $k(a,s,et,nt){this.tag=a,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,s,et,nt){return new $k(a,s,et,nt)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,s){var et=a.alternate;return et===null?(et=Bg(a.tag,s,a.key,a.mode),et.elementType=a.elementType,et.type=a.type,et.stateNode=a.stateNode,et.alternate=a,a.alternate=et):(et.pendingProps=s,et.type=a.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=a.flags&14680064,et.childLanes=a.childLanes,et.lanes=a.lanes,et.child=a.child,et.memoizedProps=a.memoizedProps,et.memoizedState=a.memoizedState,et.updateQueue=a.updateQueue,s=a.dependencies,et.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},et.sibling=a.sibling,et.index=a.index,et.ref=a.ref,et}function Rg(a,s,et,nt,at,mt){var wt=2;if(nt=a,typeof a=="function")aj(a)&&(wt=1);else if(typeof a=="string")wt=5;else e:switch(a){case ya:return Tg(et.children,at,mt,s);case za:wt=8,at|=8;break;case Aa:return a=Bg(12,et,s,at|2),a.elementType=Aa,a.lanes=mt,a;case Ea:return a=Bg(13,et,s,at),a.elementType=Ea,a.lanes=mt,a;case Fa:return a=Bg(19,et,s,at),a.elementType=Fa,a.lanes=mt,a;case Ia:return pj(et,at,mt,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:wt=10;break e;case Ca:wt=9;break e;case Da:wt=11;break e;case Ga:wt=14;break e;case Ha:wt=16,nt=null;break e}throw Error(p$1(130,a==null?a:typeof a,""))}return s=Bg(wt,et,s,at),s.elementType=a,s.type=nt,s.lanes=mt,s}function Tg(a,s,et,nt){return a=Bg(7,a,nt,s),a.lanes=et,a}function pj(a,s,et,nt){return a=Bg(22,a,nt,s),a.elementType=Ia,a.lanes=et,a.stateNode={isHidden:!1},a}function Qg(a,s,et){return a=Bg(6,a,null,s),a.lanes=et,a}function Sg(a,s,et){return s=Bg(4,a.children!==null?a.children:[],a.key,s),s.lanes=et,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function al(a,s,et,nt,at){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=at,this.mutableSourceEagerHydrationData=null}function bl(a,s,et,nt,at,mt,wt,$t,Ct){return a=new al(a,s,et,$t,Ct),s===1?(s=1,mt===!0&&(s|=8)):s=0,mt=Bg(3,null,null,s),a.current=mt,mt.stateNode=a,mt.memoizedState={element:nt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(mt),a}function cl(a,s,et){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:a,containerInfo:s,implementation:et}}function dl(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p$1(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(a.tag===1){var et=a.type;if(Zf(et))return bg(a,et,s)}return s}function el(a,s,et,nt,at,mt,wt,$t,Ct){return a=bl(et,nt,!0,a,at,mt,wt,$t,Ct),a.context=dl(null),et=a.current,nt=R$1(),at=yi(et),mt=mh(nt,at),mt.callback=s??null,nh(et,mt,at),a.current.lanes=at,Ac(a,at,nt),Dk(a,nt),a}function fl(a,s,et,nt){var at=s.current,mt=R$1(),wt=yi(at);return et=dl(et),s.context===null?s.context=et:s.pendingContext=et,s=mh(mt,wt),s.payload={element:a},nt=nt===void 0?null:nt,nt!==null&&(s.callback=nt),a=nh(at,s,wt),a!==null&&(gi(a,at,wt,mt),oh(a,at,wt)),wt}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var et=a.retryLane;a.retryLane=et!==0&&et<s?et:s}}function il(a,s){hl(a,s),(a=a.alternate)&&hl(a,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(a,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Rk(function(){fl(null,a,null,null)}),s[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var s=Hc();a={blockedOn:null,target:a,priority:s};for(var et=0;et<Qc.length&&s!==0&&s<Qc[et].priority;et++);Qc.splice(et,0,a),et===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,s,et,nt,at){if(at){if(typeof nt=="function"){var mt=nt;nt=function(){var Dt=gl(wt);mt.call(Dt)}}var wt=el(s,nt,a,0,null,!1,!1,"",pl);return a._reactRootContainer=wt,a[uf]=wt.current,sf(a.nodeType===8?a.parentNode:a),Rk(),wt}for(;at=a.lastChild;)a.removeChild(at);if(typeof nt=="function"){var $t=nt;nt=function(){var Dt=gl(Ct);$t.call(Dt)}}var Ct=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=Ct,a[uf]=Ct.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(s,Ct,et,nt)}),Ct}function rl(a,s,et,nt,at){var mt=et._reactRootContainer;if(mt){var wt=mt;if(typeof at=="function"){var $t=at;at=function(){var Ct=gl(wt);$t.call(Ct)}}fl(s,wt,a,at)}else wt=ql(et,s,a,at,nt);return gl(wt)}Ec=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var et=tc(s.pendingLanes);et!==0&&(Cc(s,et|1),Dk(s,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var nt=ih(a,1);if(nt!==null){var at=R$1();gi(nt,a,1,at)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var s=ih(a,134217728);if(s!==null){var et=R$1();gi(s,a,134217728,et)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var s=yi(a),et=ih(a,s);if(et!==null){var nt=R$1();gi(et,a,s,nt)}il(a,s)}};Hc=function(){return C};Ic=function(a,s){var et=C;try{return C=a,s()}finally{C=et}};yb=function(a,s,et){switch(s){case"input":if(bb(a,et),s=et.name,et.type==="radio"&&s!=null){for(et=a;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<et.length;s++){var nt=et[s];if(nt!==a&&nt.form===a.form){var at=Db(nt);if(!at)throw Error(p$1(90));Wa(nt),bb(nt,at)}}}break;case"textarea":ib(a,et);break;case"select":s=et.value,s!=null&&fb(a,!!et.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(a,s){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(a,s,null,et)};reactDom_production_min.createRoot=function(a,s){if(!nl(a))throw Error(p$1(299));var et=!1,nt="",at=kl;return s!=null&&(s.unstable_strictMode===!0&&(et=!0),s.identifierPrefix!==void 0&&(nt=s.identifierPrefix),s.onRecoverableError!==void 0&&(at=s.onRecoverableError)),s=bl(a,1,!1,null,null,et,!1,nt,at),a[uf]=s.current,sf(a.nodeType===8?a.parentNode:a),new ll(s)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(p$1(188)):(a=Object.keys(a).join(","),Error(p$1(268,a)));return a=Zb(s),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,s,et){if(!ol(s))throw Error(p$1(200));return rl(null,a,s,!0,et)};reactDom_production_min.hydrateRoot=function(a,s,et){if(!nl(a))throw Error(p$1(405));var nt=et!=null&&et.hydratedSources||null,at=!1,mt="",wt=kl;if(et!=null&&(et.unstable_strictMode===!0&&(at=!0),et.identifierPrefix!==void 0&&(mt=et.identifierPrefix),et.onRecoverableError!==void 0&&(wt=et.onRecoverableError)),s=el(s,null,a,1,et??null,at,!1,mt,wt),a[uf]=s.current,sf(a),nt)for(a=0;a<nt.length;a++)et=nt[a],at=et._getVersion,at=at(et._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[et,at]:s.mutableSourceEagerHydrationData.push(et,at);return new ml(s)};reactDom_production_min.render=function(a,s,et){if(!ol(s))throw Error(p$1(200));return rl(null,a,s,!1,et)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p$1(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,s,et,nt){if(!ol(et))throw Error(p$1(200));if(a==null||a._reactInternals===void 0)throw Error(p$1(38));return rl(a,s,et,!1,nt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$2(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var m$4=reactDomExports;client$1.createRoot=m$4.createRoot,client$1.hydrateRoot=m$4.hydrateRoot;function setRef(a,s){if(typeof a=="function")return a(s);a!=null&&(a.current=s)}function composeRefs(...a){return s=>{let et=!1;const nt=a.map(at=>{const mt=setRef(at,s);return!et&&typeof mt=="function"&&(et=!0),mt});if(et)return()=>{for(let at=0;at<nt.length;at++){const mt=nt[at];typeof mt=="function"?mt():setRef(a[at],null)}}}}var Slot=reactExports.forwardRef((a,s)=>{const{children:et,...nt}=a,at=reactExports.Children.toArray(et),mt=at.find(isSlottable);if(mt){const wt=mt.props.children,$t=at.map(Ct=>Ct===mt?reactExports.Children.count(wt)>1?reactExports.Children.only(null):reactExports.isValidElement(wt)?wt.props.children:null:Ct);return jsxRuntimeExports.jsx(SlotClone,{...nt,ref:s,children:reactExports.isValidElement(wt)?reactExports.cloneElement(wt,void 0,$t):null})}return jsxRuntimeExports.jsx(SlotClone,{...nt,ref:s,children:et})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((a,s)=>{const{children:et,...nt}=a;if(reactExports.isValidElement(et)){const at=getElementRef$1(et),mt=mergeProps(nt,et.props);return et.type!==reactExports.Fragment&&(mt.ref=s?composeRefs(s,at):at),reactExports.cloneElement(et,mt)}return reactExports.Children.count(et)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:a})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a});function isSlottable(a){return reactExports.isValidElement(a)&&a.type===Slottable}function mergeProps(a,s){const et={...s};for(const nt in s){const at=a[nt],mt=s[nt];/^on[A-Z]/.test(nt)?at&&mt?et[nt]=(...$t)=>{mt(...$t),at(...$t)}:at&&(et[nt]=at):nt==="style"?et[nt]={...at,...mt}:nt==="className"&&(et[nt]=[at,mt].filter(Boolean).join(" "))}return{...a,...et}}function getElementRef$1(a){var nt,at;let s=(nt=Object.getOwnPropertyDescriptor(a.props,"ref"))==null?void 0:nt.get,et=s&&"isReactWarning"in s&&s.isReactWarning;return et?a.ref:(s=(at=Object.getOwnPropertyDescriptor(a,"ref"))==null?void 0:at.get,et=s&&"isReactWarning"in s&&s.isReactWarning,et?a.props.ref:a.props.ref||a.ref)}var extendStatics$1=function(a,s){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,nt){et.__proto__=nt}||function(et,nt){for(var at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&(et[at]=nt[at])},extendStatics$1(a,s)};function __extends$1(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");extendStatics$1(a,s);function et(){this.constructor=a}a.prototype=s===null?Object.create(s):(et.prototype=s.prototype,new et)}var __assign$1=function(){return __assign$1=Object.assign||function(s){for(var et,nt=1,at=arguments.length;nt<at;nt++){et=arguments[nt];for(var mt in et)Object.prototype.hasOwnProperty.call(et,mt)&&(s[mt]=et[mt])}return s},__assign$1.apply(this,arguments)};function __rest$1(a,s){var et={};for(var nt in a)Object.prototype.hasOwnProperty.call(a,nt)&&s.indexOf(nt)<0&&(et[nt]=a[nt]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(a);at<nt.length;at++)s.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(a,nt[at])&&(et[nt[at]]=a[nt[at]]);return et}function __awaiter(a,s,et,nt){function at(mt){return mt instanceof et?mt:new et(function(wt){wt(mt)})}return new(et||(et=Promise))(function(mt,wt){function $t(Ft){try{Dt(nt.next(Ft))}catch(jt){wt(jt)}}function Ct(Ft){try{Dt(nt.throw(Ft))}catch(jt){wt(jt)}}function Dt(Ft){Ft.done?mt(Ft.value):at(Ft.value).then($t,Ct)}Dt((nt=nt.apply(a,s||[])).next())})}function __generator$1(a,s){var et={label:0,sent:function(){if(mt[0]&1)throw mt[1];return mt[1]},trys:[],ops:[]},nt,at,mt,wt=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return wt.next=$t(0),wt.throw=$t(1),wt.return=$t(2),typeof Symbol=="function"&&(wt[Symbol.iterator]=function(){return this}),wt;function $t(Dt){return function(Ft){return Ct([Dt,Ft])}}function Ct(Dt){if(nt)throw new TypeError("Generator is already executing.");for(;wt&&(wt=0,Dt[0]&&(et=0)),et;)try{if(nt=1,at&&(mt=Dt[0]&2?at.return:Dt[0]?at.throw||((mt=at.return)&&mt.call(at),0):at.next)&&!(mt=mt.call(at,Dt[1])).done)return mt;switch(at=0,mt&&(Dt=[Dt[0]&2,mt.value]),Dt[0]){case 0:case 1:mt=Dt;break;case 4:return et.label++,{value:Dt[1],done:!1};case 5:et.label++,at=Dt[1],Dt=[0];continue;case 7:Dt=et.ops.pop(),et.trys.pop();continue;default:if(mt=et.trys,!(mt=mt.length>0&&mt[mt.length-1])&&(Dt[0]===6||Dt[0]===2)){et=0;continue}if(Dt[0]===3&&(!mt||Dt[1]>mt[0]&&Dt[1]<mt[3])){et.label=Dt[1];break}if(Dt[0]===6&&et.label<mt[1]){et.label=mt[1],mt=Dt;break}if(mt&&et.label<mt[2]){et.label=mt[2],et.ops.push(Dt);break}mt[2]&&et.ops.pop(),et.trys.pop();continue}Dt=s.call(a,et)}catch(Ft){Dt=[6,Ft],at=0}finally{nt=mt=0}if(Dt[0]&5)throw Dt[1];return{value:Dt[0]?Dt[1]:void 0,done:!0}}}function __read$3(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var nt=et.call(a),at,mt=[],wt;try{for(;(s===void 0||s-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spreadArray(a,s,et){if(et||arguments.length===2)for(var nt=0,at=s.length,mt;nt<at;nt++)(mt||!(nt in s))&&(mt||(mt=Array.prototype.slice.call(s,0,nt)),mt[nt]=s[nt]);return a.concat(mt||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef$1(a,s){return typeof a=="function"?a(s):a&&(a.current=s),a}function useCallbackRef$1(a,s){var et=reactExports.useState(function(){return{value:a,callback:s,facade:{get current(){return et.value},set current(nt){var at=et.value;at!==nt&&(et.value=nt,et.callback(nt,at))}}}})[0];return et.callback=s,et.facade}var useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs$1(a,s){var et=useCallbackRef$1(null,function(nt){return a.forEach(function(at){return assignRef$1(at,nt)})});return useIsomorphicLayoutEffect$2(function(){var nt=currentValues.get(et);if(nt){var at=new Set(nt),mt=new Set(a),wt=et.current;at.forEach(function($t){mt.has($t)||assignRef$1($t,null)}),mt.forEach(function($t){at.has($t)||assignRef$1($t,wt)})}currentValues.set(et,a)},[a]),et}function ItoI(a){return a}function innerCreateMedium(a,s){s===void 0&&(s=ItoI);var et=[],nt=!1,at={read:function(){if(nt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return et.length?et[et.length-1]:a},useMedium:function(mt){var wt=s(mt,nt);return et.push(wt),function(){et=et.filter(function($t){return $t!==wt})}},assignSyncMedium:function(mt){for(nt=!0;et.length;){var wt=et;et=[],wt.forEach(mt)}et={push:function($t){return mt($t)},filter:function(){return et}}},assignMedium:function(mt){nt=!0;var wt=[];if(et.length){var $t=et;et=[],$t.forEach(mt),wt=et}var Ct=function(){var Ft=wt;wt=[],Ft.forEach(mt)},Dt=function(){return Promise.resolve().then(Ct)};Dt(),et={push:function(Ft){wt.push(Ft),Dt()},filter:function(Ft){return wt=wt.filter(Ft),et}}}};return at}function createMedium(a,s){return s===void 0&&(s=ItoI),innerCreateMedium(a,s)}function createSidecarMedium(a){a===void 0&&(a={});var s=innerCreateMedium(null);return s.options=__assign$1({async:!0,ssr:!1},a),s}var SideCar$1=function(a){var s=a.sideCar,et=__rest$1(a,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var nt=s.read();if(!nt)throw new Error("Sidecar medium not found");return reactExports.createElement(nt,__assign$1({},et))};SideCar$1.isSideCarExport=!0;function exportSidecar(a,s){return a.useMedium(s),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(a,s){var et=reactExports.useRef(null),nt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),at=nt[0],mt=nt[1],wt=a.forwardProps,$t=a.children,Ct=a.className,Dt=a.removeScrollBar,Ft=a.enabled,jt=a.shards,Ut=a.sideCar,tr=a.noIsolation,ir=a.inert,sr=a.allowPinchZoom,ur=a.as,fr=ur===void 0?"div":ur,dr=a.gapMode,hr=__rest$1(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),vr=Ut,yr=useMergeRefs$1([et,s]),xr=__assign$1(__assign$1({},hr),at);return reactExports.createElement(reactExports.Fragment,null,Ft&&reactExports.createElement(vr,{sideCar:effectCar,removeScrollBar:Dt,shards:jt,noIsolation:tr,inert:ir,setCallbacks:mt,allowPinchZoom:!!sr,lockRef:et,gapMode:dr}),wt?reactExports.cloneElement(reactExports.Children.only($t),__assign$1(__assign$1({},xr),{ref:yr})):reactExports.createElement(fr,__assign$1({},xr,{className:Ct,ref:yr}),$t))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var s=getNonce();return s&&a.setAttribute("nonce",s),a}function injectStyles(a,s){a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}function insertStyleTag(a){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(a)}var stylesheetSingleton=function(){var a=0,s=null;return{add:function(et){a==0&&(s=makeStyleTag())&&(injectStyles(s,et),insertStyleTag(s)),a++},remove:function(){a--,!a&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var a=stylesheetSingleton();return function(s,et){reactExports.useEffect(function(){return a.add(s),function(){a.remove()}},[s&&et])}},styleSingleton=function(){var a=styleHookSingleton(),s=function(et){var nt=et.styles,at=et.dynamic;return a(nt,at),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse$3=function(a){return parseInt(a||"",10)||0},getOffset=function(a){var s=window.getComputedStyle(document.body),et=s[a==="padding"?"paddingLeft":"marginLeft"],nt=s[a==="padding"?"paddingTop":"marginTop"],at=s[a==="padding"?"paddingRight":"marginRight"];return[parse$3(et),parse$3(nt),parse$3(at)]},getGapWidth=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return zeroGap;var s=getOffset(a),et=document.documentElement.clientWidth,nt=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,nt-et+s[2]-s[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles$1=function(a,s,et,nt){var at=a.left,mt=a.top,wt=a.right,$t=a.gap;return et===void 0&&(et="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(nt,`;
   padding-right: `).concat($t,"px ").concat(nt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(nt,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(nt,";"),et==="margin"&&`
    padding-left: `.concat(at,`px;
    padding-top: `).concat(mt,`px;
    padding-right: `).concat(wt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat($t,"px ").concat(nt,`;
    `),et==="padding"&&"padding-right: ".concat($t,"px ").concat(nt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat($t,"px ").concat(nt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat($t,"px ").concat(nt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(nt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(nt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat($t,`px;
  }
`)},getCurrentUseCounter=function(){var a=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(a)?a:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var a=getCurrentUseCounter()-1;a<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,a.toString())}},[])},RemoveScrollBar=function(a){var s=a.noRelative,et=a.noImportant,nt=a.gapMode,at=nt===void 0?"margin":nt;useLockAttribute();var mt=reactExports.useMemo(function(){return getGapWidth(at)},[at]);return reactExports.createElement(Style,{styles:getStyles$1(mt,!s,at,et?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(a){return a.tagName==="TEXTAREA"},elementCanBeScrolled=function(a,s){if(!(a instanceof Element))return!1;var et=window.getComputedStyle(a);return et[s]!=="hidden"&&!(et.overflowY===et.overflowX&&!alwaysContainsScroll(a)&&et[s]==="visible")},elementCouldBeVScrolled=function(a){return elementCanBeScrolled(a,"overflowY")},elementCouldBeHScrolled=function(a){return elementCanBeScrolled(a,"overflowX")},locationCouldBeScrolled=function(a,s){var et=s.ownerDocument,nt=s;do{typeof ShadowRoot<"u"&&nt instanceof ShadowRoot&&(nt=nt.host);var at=elementCouldBeScrolled(a,nt);if(at){var mt=getScrollVariables(a,nt),wt=mt[1],$t=mt[2];if(wt>$t)return!0}nt=nt.parentNode}while(nt&&nt!==et.body);return!1},getVScrollVariables=function(a){var s=a.scrollTop,et=a.scrollHeight,nt=a.clientHeight;return[s,et,nt]},getHScrollVariables=function(a){var s=a.scrollLeft,et=a.scrollWidth,nt=a.clientWidth;return[s,et,nt]},elementCouldBeScrolled=function(a,s){return a==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(a,s){return a==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(a,s){return a==="h"&&s==="rtl"?-1:1},handleScroll=function(a,s,et,nt,at){var mt=getDirectionFactor(a,window.getComputedStyle(s).direction),wt=mt*nt,$t=et.target,Ct=s.contains($t),Dt=!1,Ft=wt>0,jt=0,Ut=0;do{var tr=getScrollVariables(a,$t),ir=tr[0],sr=tr[1],ur=tr[2],fr=sr-ur-mt*ir;(ir||fr)&&elementCouldBeScrolled(a,$t)&&(jt+=fr,Ut+=ir),$t instanceof ShadowRoot?$t=$t.host:$t=$t.parentNode}while(!Ct&&$t!==document.body||Ct&&(s.contains($t)||s===$t));return(Ft&&Math.abs(jt)<1||!Ft&&Math.abs(Ut)<1)&&(Dt=!0),Dt},getTouchXY=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(a){return[a.deltaX,a.deltaY]},extractRef$1=function(a){return a&&"current"in a?a.current:a},deltaCompare=function(a,s){return a[0]===s[0]&&a[1]===s[1]},generateStyle=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(a){var s=reactExports.useRef([]),et=reactExports.useRef([0,0]),nt=reactExports.useRef(),at=reactExports.useState(idCounter++)[0],mt=reactExports.useState(styleSingleton)[0],wt=reactExports.useRef(a);reactExports.useEffect(function(){wt.current=a},[a]),reactExports.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(at));var sr=__spreadArray([a.lockRef.current],(a.shards||[]).map(extractRef$1),!0).filter(Boolean);return sr.forEach(function(ur){return ur.classList.add("allow-interactivity-".concat(at))}),function(){document.body.classList.remove("block-interactivity-".concat(at)),sr.forEach(function(ur){return ur.classList.remove("allow-interactivity-".concat(at))})}}},[a.inert,a.lockRef.current,a.shards]);var $t=reactExports.useCallback(function(sr,ur){if("touches"in sr&&sr.touches.length===2||sr.type==="wheel"&&sr.ctrlKey)return!wt.current.allowPinchZoom;var fr=getTouchXY(sr),dr=et.current,hr="deltaX"in sr?sr.deltaX:dr[0]-fr[0],vr="deltaY"in sr?sr.deltaY:dr[1]-fr[1],yr,xr=sr.target,br=Math.abs(hr)>Math.abs(vr)?"h":"v";if("touches"in sr&&br==="h"&&xr.type==="range")return!1;var wr=locationCouldBeScrolled(br,xr);if(!wr)return!0;if(wr?yr=br:(yr=br==="v"?"h":"v",wr=locationCouldBeScrolled(br,xr)),!wr)return!1;if(!nt.current&&"changedTouches"in sr&&(hr||vr)&&(nt.current=yr),!yr)return!0;var Sr=nt.current||yr;return handleScroll(Sr,ur,sr,Sr==="h"?hr:vr)},[]),Ct=reactExports.useCallback(function(sr){var ur=sr;if(!(!lockStack.length||lockStack[lockStack.length-1]!==mt)){var fr="deltaY"in ur?getDeltaXY(ur):getTouchXY(ur),dr=s.current.filter(function(yr){return yr.name===ur.type&&(yr.target===ur.target||ur.target===yr.shadowParent)&&deltaCompare(yr.delta,fr)})[0];if(dr&&dr.should){ur.cancelable&&ur.preventDefault();return}if(!dr){var hr=(wt.current.shards||[]).map(extractRef$1).filter(Boolean).filter(function(yr){return yr.contains(ur.target)}),vr=hr.length>0?$t(ur,hr[0]):!wt.current.noIsolation;vr&&ur.cancelable&&ur.preventDefault()}}},[]),Dt=reactExports.useCallback(function(sr,ur,fr,dr){var hr={name:sr,delta:ur,target:fr,should:dr,shadowParent:getOutermostShadowParent(fr)};s.current.push(hr),setTimeout(function(){s.current=s.current.filter(function(vr){return vr!==hr})},1)},[]),Ft=reactExports.useCallback(function(sr){et.current=getTouchXY(sr),nt.current=void 0},[]),jt=reactExports.useCallback(function(sr){Dt(sr.type,getDeltaXY(sr),sr.target,$t(sr,a.lockRef.current))},[]),Ut=reactExports.useCallback(function(sr){Dt(sr.type,getTouchXY(sr),sr.target,$t(sr,a.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(mt),a.setCallbacks({onScrollCapture:jt,onWheelCapture:jt,onTouchMoveCapture:Ut}),document.addEventListener("wheel",Ct,nonPassive),document.addEventListener("touchmove",Ct,nonPassive),document.addEventListener("touchstart",Ft,nonPassive),function(){lockStack=lockStack.filter(function(sr){return sr!==mt}),document.removeEventListener("wheel",Ct,nonPassive),document.removeEventListener("touchmove",Ct,nonPassive),document.removeEventListener("touchstart",Ft,nonPassive)}},[]);var tr=a.removeScrollBar,ir=a.inert;return reactExports.createElement(reactExports.Fragment,null,ir?reactExports.createElement(mt,{styles:generateStyle(at)}):null,tr?reactExports.createElement(RemoveScrollBar,{gapMode:a.gapMode}):null)}function getOutermostShadowParent(a){for(var s=null;a!==null;)a instanceof ShadowRoot&&(s=a.host,a=a.host),a=a.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(a,s){return reactExports.createElement(RemoveScroll,__assign$1({},a,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(a){if(typeof document>"u")return null;var s=Array.isArray(a)?a[0]:a;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(a){return a&&(a.host||unwrapHost(a.parentNode))},correctTargets=function(a,s){return s.map(function(et){if(a.contains(et))return et;var nt=unwrapHost(et);return nt&&a.contains(nt)?nt:(console.error("aria-hidden",et,"in not contained inside",a,". Doing nothing"),null)}).filter(function(et){return!!et})},applyAttributeToOthers=function(a,s,et,nt){var at=correctTargets(s,Array.isArray(a)?a:[a]);markerMap[et]||(markerMap[et]=new WeakMap);var mt=markerMap[et],wt=[],$t=new Set,Ct=new Set(at),Dt=function(jt){!jt||$t.has(jt)||($t.add(jt),Dt(jt.parentNode))};at.forEach(Dt);var Ft=function(jt){!jt||Ct.has(jt)||Array.prototype.forEach.call(jt.children,function(Ut){if($t.has(Ut))Ft(Ut);else try{var tr=Ut.getAttribute(nt),ir=tr!==null&&tr!=="false",sr=(counterMap.get(Ut)||0)+1,ur=(mt.get(Ut)||0)+1;counterMap.set(Ut,sr),mt.set(Ut,ur),wt.push(Ut),sr===1&&ir&&uncontrolledNodes.set(Ut,!0),ur===1&&Ut.setAttribute(et,"true"),ir||Ut.setAttribute(nt,"true")}catch(fr){console.error("aria-hidden: cannot operate on ",Ut,fr)}})};return Ft(s),$t.clear(),lockCount++,function(){wt.forEach(function(jt){var Ut=counterMap.get(jt)-1,tr=mt.get(jt)-1;counterMap.set(jt,Ut),mt.set(jt,tr),Ut||(uncontrolledNodes.has(jt)||jt.removeAttribute(nt),uncontrolledNodes.delete(jt)),tr||jt.removeAttribute(et)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(a,s,et){et===void 0&&(et="data-aria-hidden");var nt=Array.from(Array.isArray(a)?a:[a]),at=getDefaultParent(a);return at?(nt.push.apply(nt,Array.from(at.querySelectorAll("[aria-live]"))),applyAttributeToOthers(nt,at,et,"aria-hidden")):function(){return null}};function r$4(a){var s,et,nt="";if(typeof a=="string"||typeof a=="number")nt+=a;else if(typeof a=="object")if(Array.isArray(a)){var at=a.length;for(s=0;s<at;s++)a[s]&&(et=r$4(a[s]))&&(nt&&(nt+=" "),nt+=et)}else for(et in a)a[et]&&(nt&&(nt+=" "),nt+=et);return nt}function clsx(){for(var a,s,et=0,nt="",at=arguments.length;et<at;et++)(a=arguments[et])&&(s=r$4(a))&&(nt&&(nt+=" "),nt+=s);return nt}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$6(){}function functionalUpdate(a,s){return typeof a=="function"?a(s):a}function isValidTimeout(a){return typeof a=="number"&&a>=0&&a!==1/0}function timeUntilStale(a,s){return Math.max(a+(s||0)-Date.now(),0)}function resolveStaleTime(a,s){return typeof a=="function"?a(s):a}function resolveEnabled(a,s){return typeof a=="function"?a(s):a}function matchQuery(a,s){const{type:et="all",exact:nt,fetchStatus:at,predicate:mt,queryKey:wt,stale:$t}=a;if(wt){if(nt){if(s.queryHash!==hashQueryKeyByOptions(wt,s.options))return!1}else if(!partialMatchKey(s.queryKey,wt))return!1}if(et!=="all"){const Ct=s.isActive();if(et==="active"&&!Ct||et==="inactive"&&Ct)return!1}return!(typeof $t=="boolean"&&s.isStale()!==$t||at&&at!==s.state.fetchStatus||mt&&!mt(s))}function matchMutation(a,s){const{exact:et,status:nt,predicate:at,mutationKey:mt}=a;if(mt){if(!s.options.mutationKey)return!1;if(et){if(hashKey(s.options.mutationKey)!==hashKey(mt))return!1}else if(!partialMatchKey(s.options.mutationKey,mt))return!1}return!(nt&&s.state.status!==nt||at&&!at(s))}function hashQueryKeyByOptions(a,s){return((s==null?void 0:s.queryKeyHashFn)||hashKey)(a)}function hashKey(a){return JSON.stringify(a,(s,et)=>isPlainObject$1(et)?Object.keys(et).sort().reduce((nt,at)=>(nt[at]=et[at],nt),{}):et)}function partialMatchKey(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?!Object.keys(s).some(et=>!partialMatchKey(a[et],s[et])):!1}function replaceEqualDeep(a,s){if(a===s)return a;const et=isPlainArray(a)&&isPlainArray(s);if(et||isPlainObject$1(a)&&isPlainObject$1(s)){const nt=et?a:Object.keys(a),at=nt.length,mt=et?s:Object.keys(s),wt=mt.length,$t=et?[]:{};let Ct=0;for(let Dt=0;Dt<wt;Dt++){const Ft=et?Dt:mt[Dt];(!et&&nt.includes(Ft)||et)&&a[Ft]===void 0&&s[Ft]===void 0?($t[Ft]=void 0,Ct++):($t[Ft]=replaceEqualDeep(a[Ft],s[Ft]),$t[Ft]===a[Ft]&&a[Ft]!==void 0&&Ct++)}return at===wt&&Ct===at?a:$t}return s}function shallowEqualObjects(a,s){if(!s||Object.keys(a).length!==Object.keys(s).length)return!1;for(const et in a)if(a[et]!==s[et])return!1;return!0}function isPlainArray(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function isPlainObject$1(a){if(!hasObjectPrototype(a))return!1;const s=a.constructor;if(s===void 0)return!0;const et=s.prototype;return!(!hasObjectPrototype(et)||!et.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function hasObjectPrototype(a){return Object.prototype.toString.call(a)==="[object Object]"}function sleep$1(a){return new Promise(s=>{setTimeout(s,a)})}function replaceData(a,s,et){return typeof et.structuralSharing=="function"?et.structuralSharing(a,s):et.structuralSharing!==!1?replaceEqualDeep(a,s):s}function addToEnd(a,s,et=0){const nt=[...a,s];return et&&nt.length>et?nt.slice(1):nt}function addToStart(a,s,et=0){const nt=[s,...a];return et&&nt.length>et?nt.slice(0,-1):nt}var skipToken=Symbol();function ensureQueryFn(a,s){return!a.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!a.queryFn||a.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var Rl,Xs,zl,Xu,FocusManager=(Xu=class extends Subscribable{constructor(){super();_o(this,Rl);_o(this,Xs);_o(this,zl);ao(this,zl,s=>{if(!isServer&&window.addEventListener){const et=()=>s();return window.addEventListener("visibilitychange",et,!1),()=>{window.removeEventListener("visibilitychange",et)}}})}onSubscribe(){jr(this,Xs)||this.setEventListener(jr(this,zl))}onUnsubscribe(){var s;this.hasListeners()||((s=jr(this,Xs))==null||s.call(this),ao(this,Xs,void 0))}setEventListener(s){var et;ao(this,zl,s),(et=jr(this,Xs))==null||et.call(this),ao(this,Xs,s(nt=>{typeof nt=="boolean"?this.setFocused(nt):this.onFocus()}))}setFocused(s){jr(this,Rl)!==s&&(ao(this,Rl,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(et=>{et(s)})}isFocused(){var s;return typeof jr(this,Rl)=="boolean"?jr(this,Rl):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Rl=new WeakMap,Xs=new WeakMap,zl=new WeakMap,Xu),focusManager=new FocusManager,Hl,Zs,Wl,Zu,OnlineManager=(Zu=class extends Subscribable{constructor(){super();_o(this,Hl,!0);_o(this,Zs);_o(this,Wl);ao(this,Wl,s=>{if(!isServer&&window.addEventListener){const et=()=>s(!0),nt=()=>s(!1);return window.addEventListener("online",et,!1),window.addEventListener("offline",nt,!1),()=>{window.removeEventListener("online",et),window.removeEventListener("offline",nt)}}})}onSubscribe(){jr(this,Zs)||this.setEventListener(jr(this,Wl))}onUnsubscribe(){var s;this.hasListeners()||((s=jr(this,Zs))==null||s.call(this),ao(this,Zs,void 0))}setEventListener(s){var et;ao(this,Wl,s),(et=jr(this,Zs))==null||et.call(this),ao(this,Zs,s(this.setOnline.bind(this)))}setOnline(s){jr(this,Hl)!==s&&(ao(this,Hl,s),this.listeners.forEach(nt=>{nt(s)}))}isOnline(){return jr(this,Hl)}},Hl=new WeakMap,Zs=new WeakMap,Wl=new WeakMap,Zu),onlineManager=new OnlineManager;function pendingThenable(){let a,s;const et=new Promise((at,mt)=>{a=at,s=mt});et.status="pending",et.catch(()=>{});function nt(at){Object.assign(et,at),delete et.resolve,delete et.reject}return et.resolve=at=>{nt({status:"fulfilled",value:at}),a(at)},et.reject=at=>{nt({status:"rejected",reason:at}),s(at)},et}function defaultRetryDelay(a){return Math.min(1e3*2**a,3e4)}function canFetch(a){return(a??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(a){super("CancelledError"),this.revert=a==null?void 0:a.revert,this.silent=a==null?void 0:a.silent}};function isCancelledError(a){return a instanceof CancelledError}function createRetryer(a){let s=!1,et=0,nt=!1,at;const mt=pendingThenable(),wt=sr=>{var ur;nt||(Ut(new CancelledError(sr)),(ur=a.abort)==null||ur.call(a))},$t=()=>{s=!0},Ct=()=>{s=!1},Dt=()=>focusManager.isFocused()&&(a.networkMode==="always"||onlineManager.isOnline())&&a.canRun(),Ft=()=>canFetch(a.networkMode)&&a.canRun(),jt=sr=>{var ur;nt||(nt=!0,(ur=a.onSuccess)==null||ur.call(a,sr),at==null||at(),mt.resolve(sr))},Ut=sr=>{var ur;nt||(nt=!0,(ur=a.onError)==null||ur.call(a,sr),at==null||at(),mt.reject(sr))},tr=()=>new Promise(sr=>{var ur;at=fr=>{(nt||Dt())&&sr(fr)},(ur=a.onPause)==null||ur.call(a)}).then(()=>{var sr;at=void 0,nt||(sr=a.onContinue)==null||sr.call(a)}),ir=()=>{if(nt)return;let sr;const ur=et===0?a.initialPromise:void 0;try{sr=ur??a.fn()}catch(fr){sr=Promise.reject(fr)}Promise.resolve(sr).then(jt).catch(fr=>{var xr;if(nt)return;const dr=a.retry??(isServer?0:3),hr=a.retryDelay??defaultRetryDelay,vr=typeof hr=="function"?hr(et,fr):hr,yr=dr===!0||typeof dr=="number"&&et<dr||typeof dr=="function"&&dr(et,fr);if(s||!yr){Ut(fr);return}et++,(xr=a.onFail)==null||xr.call(a,et,fr),sleep$1(vr).then(()=>Dt()?void 0:tr()).then(()=>{s?Ut(fr):ir()})})};return{promise:mt,cancel:wt,continue:()=>(at==null||at(),mt),cancelRetry:$t,continueRetry:Ct,canStart:Ft,start:()=>(Ft()?ir():tr().then(ir),mt)}}function createNotifyManager(){let a=[],s=0,et=$t=>{$t()},nt=$t=>{$t()},at=$t=>setTimeout($t,0);const mt=$t=>{s?a.push($t):at(()=>{et($t)})},wt=()=>{const $t=a;a=[],$t.length&&at(()=>{nt(()=>{$t.forEach(Ct=>{et(Ct)})})})};return{batch:$t=>{let Ct;s++;try{Ct=$t()}finally{s--,s||wt()}return Ct},batchCalls:$t=>(...Ct)=>{mt(()=>{$t(...Ct)})},schedule:mt,setNotifyFunction:$t=>{et=$t},setBatchNotifyFunction:$t=>{nt=$t},setScheduler:$t=>{at=$t}}}var notifyManager=createNotifyManager(),Ml,Qu,Removable=(Qu=class{constructor(){_o(this,Ml)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&ao(this,Ml,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(isServer?1/0:5*60*1e3))}clearGcTimeout(){jr(this,Ml)&&(clearTimeout(jr(this,Ml)),ao(this,Ml,void 0))}},Ml=new WeakMap,Qu),Gl,Kl,Ss,Il,ls,hu,Pl,$s,Ls,Ju,Query=(Ju=class extends Removable{constructor(s){super();_o(this,$s);_o(this,Gl);_o(this,Kl);_o(this,Ss);_o(this,Il);_o(this,ls);_o(this,hu);_o(this,Pl);ao(this,Pl,!1),ao(this,hu,s.defaultOptions),this.setOptions(s.options),this.observers=[],ao(this,Il,s.client),ao(this,Ss,jr(this,Il).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,ao(this,Gl,getDefaultState$1(this.options)),this.state=s.state??jr(this,Gl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=jr(this,ls))==null?void 0:s.promise}setOptions(s){this.options={...jr(this,hu),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&jr(this,Ss).remove(this)}setData(s,et){const nt=replaceData(this.state.data,s,this.options);return fo(this,$s,Ls).call(this,{data:nt,type:"success",dataUpdatedAt:et==null?void 0:et.updatedAt,manual:et==null?void 0:et.manual}),nt}setState(s,et){fo(this,$s,Ls).call(this,{type:"setState",state:s,setStateOptions:et})}cancel(s){var nt,at;const et=(nt=jr(this,ls))==null?void 0:nt.promise;return(at=jr(this,ls))==null||at.cancel(s),et?et.then(noop$6).catch(noop$6):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(jr(this,Gl))}isActive(){return this.observers.some(s=>resolveEnabled(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,s)}onFocus(){var et;const s=this.observers.find(nt=>nt.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(et=jr(this,ls))==null||et.continue()}onOnline(){var et;const s=this.observers.find(nt=>nt.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(et=jr(this,ls))==null||et.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),jr(this,Ss).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(et=>et!==s),this.observers.length||(jr(this,ls)&&(jr(this,Pl)?jr(this,ls).cancel({revert:!0}):jr(this,ls).cancelRetry()),this.scheduleGc()),jr(this,Ss).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fo(this,$s,Ls).call(this,{type:"invalidate"})}fetch(s,et){var Ct,Dt,Ft;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(et!=null&&et.cancelRefetch))this.cancel({silent:!0});else if(jr(this,ls))return jr(this,ls).continueRetry(),jr(this,ls).promise}if(s&&this.setOptions(s),!this.options.queryFn){const jt=this.observers.find(Ut=>Ut.options.queryFn);jt&&this.setOptions(jt.options)}const nt=new AbortController,at=jt=>{Object.defineProperty(jt,"signal",{enumerable:!0,get:()=>(ao(this,Pl,!0),nt.signal)})},mt=()=>{const jt=ensureQueryFn(this.options,et),Ut={client:jr(this,Il),queryKey:this.queryKey,meta:this.meta};return at(Ut),ao(this,Pl,!1),this.options.persister?this.options.persister(jt,Ut,this):jt(Ut)},wt={fetchOptions:et,options:this.options,queryKey:this.queryKey,client:jr(this,Il),state:this.state,fetchFn:mt};at(wt),(Ct=this.options.behavior)==null||Ct.onFetch(wt,this),ao(this,Kl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((Dt=wt.fetchOptions)==null?void 0:Dt.meta))&&fo(this,$s,Ls).call(this,{type:"fetch",meta:(Ft=wt.fetchOptions)==null?void 0:Ft.meta});const $t=jt=>{var Ut,tr,ir,sr;isCancelledError(jt)&&jt.silent||fo(this,$s,Ls).call(this,{type:"error",error:jt}),isCancelledError(jt)||((tr=(Ut=jr(this,Ss).config).onError)==null||tr.call(Ut,jt,this),(sr=(ir=jr(this,Ss).config).onSettled)==null||sr.call(ir,this.state.data,jt,this)),this.scheduleGc()};return ao(this,ls,createRetryer({initialPromise:et==null?void 0:et.initialPromise,fn:wt.fetchFn,abort:nt.abort.bind(nt),onSuccess:jt=>{var Ut,tr,ir,sr;if(jt===void 0){$t(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(jt)}catch(ur){$t(ur);return}(tr=(Ut=jr(this,Ss).config).onSuccess)==null||tr.call(Ut,jt,this),(sr=(ir=jr(this,Ss).config).onSettled)==null||sr.call(ir,jt,this.state.error,this),this.scheduleGc()},onError:$t,onFail:(jt,Ut)=>{fo(this,$s,Ls).call(this,{type:"failed",failureCount:jt,error:Ut})},onPause:()=>{fo(this,$s,Ls).call(this,{type:"pause"})},onContinue:()=>{fo(this,$s,Ls).call(this,{type:"continue"})},retry:wt.options.retry,retryDelay:wt.options.retryDelay,networkMode:wt.options.networkMode,canRun:()=>!0})),jr(this,ls).start()}},Gl=new WeakMap,Kl=new WeakMap,Ss=new WeakMap,Il=new WeakMap,ls=new WeakMap,hu=new WeakMap,Pl=new WeakMap,$s=new WeakSet,Ls=function(s){const et=nt=>{switch(s.type){case"failed":return{...nt,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...nt,fetchStatus:"paused"};case"continue":return{...nt,fetchStatus:"fetching"};case"fetch":return{...nt,...fetchState(nt.data,this.options),fetchMeta:s.meta??null};case"success":return{...nt,data:s.data,dataUpdateCount:nt.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const at=s.error;return isCancelledError(at)&&at.revert&&jr(this,Kl)?{...jr(this,Kl),fetchStatus:"idle"}:{...nt,error:at,errorUpdateCount:nt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:nt.fetchFailureCount+1,fetchFailureReason:at,fetchStatus:"idle",status:"error"};case"invalidate":return{...nt,isInvalidated:!0};case"setState":return{...nt,...s.state}}};this.state=et(this.state),notifyManager.batch(()=>{this.observers.forEach(nt=>{nt.onQueryUpdate()}),jr(this,Ss).notify({query:this,type:"updated",action:s})})},Ju);function fetchState(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,et=s!==void 0,nt=et?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:et?nt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:et?"success":"pending",fetchStatus:"idle"}}var Os,_c,QueryCache=(_c=class extends Subscribable{constructor(s={}){super();_o(this,Os);this.config=s,ao(this,Os,new Map)}build(s,et,nt){const at=et.queryKey,mt=et.queryHash??hashQueryKeyByOptions(at,et);let wt=this.get(mt);return wt||(wt=new Query({client:s,queryKey:at,queryHash:mt,options:s.defaultQueryOptions(et),state:nt,defaultOptions:s.getQueryDefaults(at)}),this.add(wt)),wt}add(s){jr(this,Os).has(s.queryHash)||(jr(this,Os).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const et=jr(this,Os).get(s.queryHash);et&&(s.destroy(),et===s&&jr(this,Os).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return jr(this,Os).get(s)}getAll(){return[...jr(this,Os).values()]}find(s){const et={exact:!0,...s};return this.getAll().find(nt=>matchQuery(et,nt))}findAll(s={}){const et=this.getAll();return Object.keys(s).length>0?et.filter(nt=>matchQuery(s,nt)):et}notify(s){notifyManager.batch(()=>{this.listeners.forEach(et=>{et(s)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Os=new WeakMap,_c),Bs,cs,Dl,Fs,Hs,_d,Mutation=(_d=class extends Removable{constructor(s){super();_o(this,Fs);_o(this,Bs);_o(this,cs);_o(this,Dl);this.mutationId=s.mutationId,ao(this,cs,s.mutationCache),ao(this,Bs,[]),this.state=s.state||getDefaultState(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){jr(this,Bs).includes(s)||(jr(this,Bs).push(s),this.clearGcTimeout(),jr(this,cs).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){ao(this,Bs,jr(this,Bs).filter(et=>et!==s)),this.scheduleGc(),jr(this,cs).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){jr(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():jr(this,cs).remove(this))}continue(){var s;return((s=jr(this,Dl))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr,ir,sr,ur,fr,dr,hr,vr,yr,xr,br;ao(this,Dl,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(wr,Sr)=>{fo(this,Fs,Hs).call(this,{type:"failed",failureCount:wr,error:Sr})},onPause:()=>{fo(this,Fs,Hs).call(this,{type:"pause"})},onContinue:()=>{fo(this,Fs,Hs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>jr(this,cs).canRun(this)}));const et=this.state.status==="pending",nt=!jr(this,Dl).canStart();try{if(!et){fo(this,Fs,Hs).call(this,{type:"pending",variables:s,isPaused:nt}),await((mt=(at=jr(this,cs).config).onMutate)==null?void 0:mt.call(at,s,this));const Sr=await(($t=(wt=this.options).onMutate)==null?void 0:$t.call(wt,s));Sr!==this.state.context&&fo(this,Fs,Hs).call(this,{type:"pending",context:Sr,variables:s,isPaused:nt})}const wr=await jr(this,Dl).start();return await((Dt=(Ct=jr(this,cs).config).onSuccess)==null?void 0:Dt.call(Ct,wr,s,this.state.context,this)),await((jt=(Ft=this.options).onSuccess)==null?void 0:jt.call(Ft,wr,s,this.state.context)),await((tr=(Ut=jr(this,cs).config).onSettled)==null?void 0:tr.call(Ut,wr,null,this.state.variables,this.state.context,this)),await((sr=(ir=this.options).onSettled)==null?void 0:sr.call(ir,wr,null,s,this.state.context)),fo(this,Fs,Hs).call(this,{type:"success",data:wr}),wr}catch(wr){try{throw await((fr=(ur=jr(this,cs).config).onError)==null?void 0:fr.call(ur,wr,s,this.state.context,this)),await((hr=(dr=this.options).onError)==null?void 0:hr.call(dr,wr,s,this.state.context)),await((yr=(vr=jr(this,cs).config).onSettled)==null?void 0:yr.call(vr,void 0,wr,this.state.variables,this.state.context,this)),await((br=(xr=this.options).onSettled)==null?void 0:br.call(xr,void 0,wr,s,this.state.context)),wr}finally{fo(this,Fs,Hs).call(this,{type:"error",error:wr})}}finally{jr(this,cs).runNext(this)}}},Bs=new WeakMap,cs=new WeakMap,Dl=new WeakMap,Fs=new WeakSet,Hs=function(s){const et=nt=>{switch(s.type){case"failed":return{...nt,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...nt,isPaused:!0};case"continue":return{...nt,isPaused:!1};case"pending":return{...nt,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...nt,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...nt,data:void 0,error:s.error,failureCount:nt.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=et(this.state),notifyManager.batch(()=>{jr(this,Bs).forEach(nt=>{nt.onMutationUpdate(s)}),jr(this,cs).notify({mutation:this,type:"updated",action:s})})},_d);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qs,Cs,pu,_f,MutationCache=(_f=class extends Subscribable{constructor(s={}){super();_o(this,qs);_o(this,Cs);_o(this,pu);this.config=s,ao(this,qs,new Set),ao(this,Cs,new Map),ao(this,pu,0)}build(s,et,nt){const at=new Mutation({mutationCache:this,mutationId:++Tl(this,pu)._,options:s.defaultMutationOptions(et),state:nt});return this.add(at),at}add(s){jr(this,qs).add(s);const et=scopeFor(s);if(typeof et=="string"){const nt=jr(this,Cs).get(et);nt?nt.push(s):jr(this,Cs).set(et,[s])}this.notify({type:"added",mutation:s})}remove(s){if(jr(this,qs).delete(s)){const et=scopeFor(s);if(typeof et=="string"){const nt=jr(this,Cs).get(et);if(nt)if(nt.length>1){const at=nt.indexOf(s);at!==-1&&nt.splice(at,1)}else nt[0]===s&&jr(this,Cs).delete(et)}}this.notify({type:"removed",mutation:s})}canRun(s){const et=scopeFor(s);if(typeof et=="string"){const nt=jr(this,Cs).get(et),at=nt==null?void 0:nt.find(mt=>mt.state.status==="pending");return!at||at===s}else return!0}runNext(s){var nt;const et=scopeFor(s);if(typeof et=="string"){const at=(nt=jr(this,Cs).get(et))==null?void 0:nt.find(mt=>mt!==s&&mt.state.isPaused);return(at==null?void 0:at.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{jr(this,qs).forEach(s=>{this.notify({type:"removed",mutation:s})}),jr(this,qs).clear(),jr(this,Cs).clear()})}getAll(){return Array.from(jr(this,qs))}find(s){const et={exact:!0,...s};return this.getAll().find(nt=>matchMutation(et,nt))}findAll(s={}){return this.getAll().filter(et=>matchMutation(s,et))}notify(s){notifyManager.batch(()=>{this.listeners.forEach(et=>{et(s)})})}resumePausedMutations(){const s=this.getAll().filter(et=>et.state.isPaused);return notifyManager.batch(()=>Promise.all(s.map(et=>et.continue().catch(noop$6))))}},qs=new WeakMap,Cs=new WeakMap,pu=new WeakMap,_f);function scopeFor(a){var s;return(s=a.options.scope)==null?void 0:s.id}function infiniteQueryBehavior(a){return{onFetch:(s,et)=>{var Ft,jt,Ut,tr,ir;const nt=s.options,at=(Ut=(jt=(Ft=s.fetchOptions)==null?void 0:Ft.meta)==null?void 0:jt.fetchMore)==null?void 0:Ut.direction,mt=((tr=s.state.data)==null?void 0:tr.pages)||[],wt=((ir=s.state.data)==null?void 0:ir.pageParams)||[];let $t={pages:[],pageParams:[]},Ct=0;const Dt=async()=>{let sr=!1;const ur=hr=>{Object.defineProperty(hr,"signal",{enumerable:!0,get:()=>(s.signal.aborted?sr=!0:s.signal.addEventListener("abort",()=>{sr=!0}),s.signal)})},fr=ensureQueryFn(s.options,s.fetchOptions),dr=async(hr,vr,yr)=>{if(sr)return Promise.reject();if(vr==null&&hr.pages.length)return Promise.resolve(hr);const xr={client:s.client,queryKey:s.queryKey,pageParam:vr,direction:yr?"backward":"forward",meta:s.options.meta};ur(xr);const br=await fr(xr),{maxPages:wr}=s.options,Sr=yr?addToStart:addToEnd;return{pages:Sr(hr.pages,br,wr),pageParams:Sr(hr.pageParams,vr,wr)}};if(at&&mt.length){const hr=at==="backward",vr=hr?getPreviousPageParam:getNextPageParam,yr={pages:mt,pageParams:wt},xr=vr(nt,yr);$t=await dr(yr,xr,hr)}else{const hr=a??mt.length;do{const vr=Ct===0?wt[0]??nt.initialPageParam:getNextPageParam(nt,$t);if(Ct>0&&vr==null)break;$t=await dr($t,vr),Ct++}while(Ct<hr)}return $t};s.options.persister?s.fetchFn=()=>{var sr,ur;return(ur=(sr=s.options).persister)==null?void 0:ur.call(sr,Dt,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},et)}:s.fetchFn=Dt}}}function getNextPageParam(a,{pages:s,pageParams:et}){const nt=s.length-1;return s.length>0?a.getNextPageParam(s[nt],s,et[nt],et):void 0}function getPreviousPageParam(a,{pages:s,pageParams:et}){var nt;return s.length>0?(nt=a.getPreviousPageParam)==null?void 0:nt.call(a,s[0],s,et[0],et):void 0}var rs,Qs,Js,Yl,Xl,yl,Zl,Ql,_h,QueryClient=(_h=class{constructor(a={}){_o(this,rs);_o(this,Qs);_o(this,Js);_o(this,Yl);_o(this,Xl);_o(this,yl);_o(this,Zl);_o(this,Ql);ao(this,rs,a.queryCache||new QueryCache),ao(this,Qs,a.mutationCache||new MutationCache),ao(this,Js,a.defaultOptions||{}),ao(this,Yl,new Map),ao(this,Xl,new Map),ao(this,yl,0)}mount(){Tl(this,yl)._++,jr(this,yl)===1&&(ao(this,Zl,focusManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),jr(this,rs).onFocus())})),ao(this,Ql,onlineManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),jr(this,rs).onOnline())})))}unmount(){var a,s;Tl(this,yl)._--,jr(this,yl)===0&&((a=jr(this,Zl))==null||a.call(this),ao(this,Zl,void 0),(s=jr(this,Ql))==null||s.call(this),ao(this,Ql,void 0))}isFetching(a){return jr(this,rs).findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return jr(this,Qs).findAll({...a,status:"pending"}).length}getQueryData(a){var et;const s=this.defaultQueryOptions({queryKey:a});return(et=jr(this,rs).get(s.queryHash))==null?void 0:et.state.data}ensureQueryData(a){const s=this.defaultQueryOptions(a),et=jr(this,rs).build(this,s),nt=et.state.data;return nt===void 0?this.fetchQuery(a):(a.revalidateIfStale&&et.isStaleByTime(resolveStaleTime(s.staleTime,et))&&this.prefetchQuery(s),Promise.resolve(nt))}getQueriesData(a){return jr(this,rs).findAll(a).map(({queryKey:s,state:et})=>{const nt=et.data;return[s,nt]})}setQueryData(a,s,et){const nt=this.defaultQueryOptions({queryKey:a}),at=jr(this,rs).get(nt.queryHash),mt=at==null?void 0:at.state.data,wt=functionalUpdate(s,mt);if(wt!==void 0)return jr(this,rs).build(this,nt).setData(wt,{...et,manual:!0})}setQueriesData(a,s,et){return notifyManager.batch(()=>jr(this,rs).findAll(a).map(({queryKey:nt})=>[nt,this.setQueryData(nt,s,et)]))}getQueryState(a){var et;const s=this.defaultQueryOptions({queryKey:a});return(et=jr(this,rs).get(s.queryHash))==null?void 0:et.state}removeQueries(a){const s=jr(this,rs);notifyManager.batch(()=>{s.findAll(a).forEach(et=>{s.remove(et)})})}resetQueries(a,s){const et=jr(this,rs);return notifyManager.batch(()=>(et.findAll(a).forEach(nt=>{nt.reset()}),this.refetchQueries({type:"active",...a},s)))}cancelQueries(a,s={}){const et={revert:!0,...s},nt=notifyManager.batch(()=>jr(this,rs).findAll(a).map(at=>at.cancel(et)));return Promise.all(nt).then(noop$6).catch(noop$6)}invalidateQueries(a,s={}){return notifyManager.batch(()=>(jr(this,rs).findAll(a).forEach(et=>{et.invalidate()}),(a==null?void 0:a.refetchType)==="none"?Promise.resolve():this.refetchQueries({...a,type:(a==null?void 0:a.refetchType)??(a==null?void 0:a.type)??"active"},s)))}refetchQueries(a,s={}){const et={...s,cancelRefetch:s.cancelRefetch??!0},nt=notifyManager.batch(()=>jr(this,rs).findAll(a).filter(at=>!at.isDisabled()).map(at=>{let mt=at.fetch(void 0,et);return et.throwOnError||(mt=mt.catch(noop$6)),at.state.fetchStatus==="paused"?Promise.resolve():mt}));return Promise.all(nt).then(noop$6)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const et=jr(this,rs).build(this,s);return et.isStaleByTime(resolveStaleTime(s.staleTime,et))?et.fetch(s):Promise.resolve(et.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(noop$6).catch(noop$6)}fetchInfiniteQuery(a){return a.behavior=infiniteQueryBehavior(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(noop$6).catch(noop$6)}ensureInfiniteQueryData(a){return a.behavior=infiniteQueryBehavior(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return onlineManager.isOnline()?jr(this,Qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return jr(this,rs)}getMutationCache(){return jr(this,Qs)}getDefaultOptions(){return jr(this,Js)}setDefaultOptions(a){ao(this,Js,a)}setQueryDefaults(a,s){jr(this,Yl).set(hashKey(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...jr(this,Yl).values()],et={};return s.forEach(nt=>{partialMatchKey(a,nt.queryKey)&&Object.assign(et,nt.defaultOptions)}),et}setMutationDefaults(a,s){jr(this,Xl).set(hashKey(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...jr(this,Xl).values()],et={};return s.forEach(nt=>{partialMatchKey(a,nt.mutationKey)&&Object.assign(et,nt.defaultOptions)}),et}defaultQueryOptions(a){if(a._defaulted)return a;const s={...jr(this,Js).queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=hashQueryKeyByOptions(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===skipToken&&(s.enabled=!1),s}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...jr(this,Js).mutations,...(a==null?void 0:a.mutationKey)&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){jr(this,rs).clear(),jr(this,Qs).clear()}},rs=new WeakMap,Qs=new WeakMap,Js=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,yl=new WeakMap,Zl=new WeakMap,Ql=new WeakMap,_h),ms,Ko,mu,ds,Ol,Jl,_l,Ns,gu,eu,tu,Bl,Fl,xl,ru,na,du,Tu,Ru,ku,Mu,Iu,Pu,Du,wp,ep,QueryObserver=(ep=class extends Subscribable{constructor(s,et){super();_o(this,na);_o(this,ms);_o(this,Ko);_o(this,mu);_o(this,ds);_o(this,Ol);_o(this,Jl);_o(this,_l);_o(this,Ns);_o(this,gu);_o(this,eu);_o(this,tu);_o(this,Bl);_o(this,Fl);_o(this,xl);_o(this,ru,new Set);this.options=et,ao(this,ms,s),ao(this,Ns,null),ao(this,_l,pendingThenable()),this.options.experimental_prefetchInRender||jr(this,_l).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(et)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(jr(this,Ko).addObserver(this),shouldFetchOnMount(jr(this,Ko),this.options)?fo(this,na,du).call(this):this.updateResult(),fo(this,na,Mu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(jr(this,Ko),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(jr(this,Ko),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fo(this,na,Iu).call(this),fo(this,na,Pu).call(this),jr(this,Ko).removeObserver(this)}setOptions(s,et){const nt=this.options,at=jr(this,Ko);if(this.options=jr(this,ms).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,jr(this,Ko))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");fo(this,na,Du).call(this),jr(this,Ko).setOptions(this.options),nt._defaulted&&!shallowEqualObjects(this.options,nt)&&jr(this,ms).getQueryCache().notify({type:"observerOptionsUpdated",query:jr(this,Ko),observer:this});const mt=this.hasListeners();mt&&shouldFetchOptionally(jr(this,Ko),at,this.options,nt)&&fo(this,na,du).call(this),this.updateResult(et),mt&&(jr(this,Ko)!==at||resolveEnabled(this.options.enabled,jr(this,Ko))!==resolveEnabled(nt.enabled,jr(this,Ko))||resolveStaleTime(this.options.staleTime,jr(this,Ko))!==resolveStaleTime(nt.staleTime,jr(this,Ko)))&&fo(this,na,Tu).call(this);const wt=fo(this,na,Ru).call(this);mt&&(jr(this,Ko)!==at||resolveEnabled(this.options.enabled,jr(this,Ko))!==resolveEnabled(nt.enabled,jr(this,Ko))||wt!==jr(this,xl))&&fo(this,na,ku).call(this,wt)}getOptimisticResult(s){const et=jr(this,ms).getQueryCache().build(jr(this,ms),s),nt=this.createResult(et,s);return shouldAssignObserverCurrentProperties(this,nt)&&(ao(this,ds,nt),ao(this,Jl,this.options),ao(this,Ol,jr(this,Ko).state)),nt}getCurrentResult(){return jr(this,ds)}trackResult(s,et){const nt={};return Object.keys(s).forEach(at=>{Object.defineProperty(nt,at,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(at),et==null||et(at),s[at])})}),nt}trackProp(s){jr(this,ru).add(s)}getCurrentQuery(){return jr(this,Ko)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const et=jr(this,ms).defaultQueryOptions(s),nt=jr(this,ms).getQueryCache().build(jr(this,ms),et);return nt.fetch().then(()=>this.createResult(nt,et))}fetch(s){return fo(this,na,du).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),jr(this,ds)))}createResult(s,et){var wr;const nt=jr(this,Ko),at=this.options,mt=jr(this,ds),wt=jr(this,Ol),$t=jr(this,Jl),Dt=s!==nt?s.state:jr(this,mu),{state:Ft}=s;let jt={...Ft},Ut=!1,tr;if(et._optimisticResults){const Sr=this.hasListeners(),Cr=!Sr&&shouldFetchOnMount(s,et),cr=Sr&&shouldFetchOptionally(s,nt,et,at);(Cr||cr)&&(jt={...jt,...fetchState(Ft.data,s.options)}),et._optimisticResults==="isRestoring"&&(jt.fetchStatus="idle")}let{error:ir,errorUpdatedAt:sr,status:ur}=jt;if(et.select&&jt.data!==void 0)if(mt&&jt.data===(wt==null?void 0:wt.data)&&et.select===jr(this,gu))tr=jr(this,eu);else try{ao(this,gu,et.select),tr=et.select(jt.data),tr=replaceData(mt==null?void 0:mt.data,tr,et),ao(this,eu,tr),ao(this,Ns,null)}catch(Sr){ao(this,Ns,Sr)}else tr=jt.data;if(et.placeholderData!==void 0&&tr===void 0&&ur==="pending"){let Sr;if(mt!=null&&mt.isPlaceholderData&&et.placeholderData===($t==null?void 0:$t.placeholderData))Sr=mt.data;else if(Sr=typeof et.placeholderData=="function"?et.placeholderData((wr=jr(this,tu))==null?void 0:wr.state.data,jr(this,tu)):et.placeholderData,et.select&&Sr!==void 0)try{Sr=et.select(Sr),ao(this,Ns,null)}catch(Cr){ao(this,Ns,Cr)}Sr!==void 0&&(ur="success",tr=replaceData(mt==null?void 0:mt.data,Sr,et),Ut=!0)}jr(this,Ns)&&(ir=jr(this,Ns),tr=jr(this,eu),sr=Date.now(),ur="error");const fr=jt.fetchStatus==="fetching",dr=ur==="pending",hr=ur==="error",vr=dr&&fr,yr=tr!==void 0,br={status:ur,fetchStatus:jt.fetchStatus,isPending:dr,isSuccess:ur==="success",isError:hr,isInitialLoading:vr,isLoading:vr,data:tr,dataUpdatedAt:jt.dataUpdatedAt,error:ir,errorUpdatedAt:sr,failureCount:jt.fetchFailureCount,failureReason:jt.fetchFailureReason,errorUpdateCount:jt.errorUpdateCount,isFetched:jt.dataUpdateCount>0||jt.errorUpdateCount>0,isFetchedAfterMount:jt.dataUpdateCount>Dt.dataUpdateCount||jt.errorUpdateCount>Dt.errorUpdateCount,isFetching:fr,isRefetching:fr&&!dr,isLoadingError:hr&&!yr,isPaused:jt.fetchStatus==="paused",isPlaceholderData:Ut,isRefetchError:hr&&yr,isStale:isStale(s,et),refetch:this.refetch,promise:jr(this,_l)};if(this.options.experimental_prefetchInRender){const Sr=Nt=>{br.status==="error"?Nt.reject(br.error):br.data!==void 0&&Nt.resolve(br.data)},Cr=()=>{const Nt=ao(this,_l,br.promise=pendingThenable());Sr(Nt)},cr=jr(this,_l);switch(cr.status){case"pending":s.queryHash===nt.queryHash&&Sr(cr);break;case"fulfilled":(br.status==="error"||br.data!==cr.value)&&Cr();break;case"rejected":(br.status!=="error"||br.error!==cr.reason)&&Cr();break}}return br}updateResult(s){const et=jr(this,ds),nt=this.createResult(jr(this,Ko),this.options);if(ao(this,Ol,jr(this,Ko).state),ao(this,Jl,this.options),jr(this,Ol).data!==void 0&&ao(this,tu,jr(this,Ko)),shallowEqualObjects(nt,et))return;ao(this,ds,nt);const at={},mt=()=>{if(!et)return!0;const{notifyOnChangeProps:wt}=this.options,$t=typeof wt=="function"?wt():wt;if($t==="all"||!$t&&!jr(this,ru).size)return!0;const Ct=new Set($t??jr(this,ru));return this.options.throwOnError&&Ct.add("error"),Object.keys(jr(this,ds)).some(Dt=>{const Ft=Dt;return jr(this,ds)[Ft]!==et[Ft]&&Ct.has(Ft)})};(s==null?void 0:s.listeners)!==!1&&mt()&&(at.listeners=!0),fo(this,na,wp).call(this,{...at,...s})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fo(this,na,Mu).call(this)}},ms=new WeakMap,Ko=new WeakMap,mu=new WeakMap,ds=new WeakMap,Ol=new WeakMap,Jl=new WeakMap,_l=new WeakMap,Ns=new WeakMap,gu=new WeakMap,eu=new WeakMap,tu=new WeakMap,Bl=new WeakMap,Fl=new WeakMap,xl=new WeakMap,ru=new WeakMap,na=new WeakSet,du=function(s){fo(this,na,Du).call(this);let et=jr(this,Ko).fetch(this.options,s);return s!=null&&s.throwOnError||(et=et.catch(noop$6)),et},Tu=function(){fo(this,na,Iu).call(this);const s=resolveStaleTime(this.options.staleTime,jr(this,Ko));if(isServer||jr(this,ds).isStale||!isValidTimeout(s))return;const nt=timeUntilStale(jr(this,ds).dataUpdatedAt,s)+1;ao(this,Bl,setTimeout(()=>{jr(this,ds).isStale||this.updateResult()},nt))},Ru=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(jr(this,Ko)):this.options.refetchInterval)??!1},ku=function(s){fo(this,na,Pu).call(this),ao(this,xl,s),!(isServer||resolveEnabled(this.options.enabled,jr(this,Ko))===!1||!isValidTimeout(jr(this,xl))||jr(this,xl)===0)&&ao(this,Fl,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&fo(this,na,du).call(this)},jr(this,xl)))},Mu=function(){fo(this,na,Tu).call(this),fo(this,na,ku).call(this,fo(this,na,Ru).call(this))},Iu=function(){jr(this,Bl)&&(clearTimeout(jr(this,Bl)),ao(this,Bl,void 0))},Pu=function(){jr(this,Fl)&&(clearInterval(jr(this,Fl)),ao(this,Fl,void 0))},Du=function(){const s=jr(this,ms).getQueryCache().build(jr(this,ms),this.options);if(s===jr(this,Ko))return;const et=jr(this,Ko);ao(this,Ko,s),ao(this,mu,s.state),this.hasListeners()&&(et==null||et.removeObserver(this),s.addObserver(this))},wp=function(s){notifyManager.batch(()=>{s.listeners&&this.listeners.forEach(et=>{et(jr(this,ds))}),jr(this,ms).getQueryCache().notify({query:jr(this,Ko),type:"observerResultsUpdated"})})},ep);function shouldLoadOnMount(a,s){return resolveEnabled(s.enabled,a)!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&s.retryOnMount===!1)}function shouldFetchOnMount(a,s){return shouldLoadOnMount(a,s)||a.state.data!==void 0&&shouldFetchOn(a,s,s.refetchOnMount)}function shouldFetchOn(a,s,et){if(resolveEnabled(s.enabled,a)!==!1){const nt=typeof et=="function"?et(a):et;return nt==="always"||nt!==!1&&isStale(a,s)}return!1}function shouldFetchOptionally(a,s,et,nt){return(a!==s||resolveEnabled(nt.enabled,a)===!1)&&(!et.suspense||a.state.status!=="error")&&isStale(a,et)}function isStale(a,s){return resolveEnabled(s.enabled,a)!==!1&&a.isStaleByTime(resolveStaleTime(s.staleTime,a))}function shouldAssignObserverCurrentProperties(a,s){return!shallowEqualObjects(a.getCurrentResult(),s)}var wl,Sl,gs,Us,zs,_u,Ou,tp,MutationObserver$1=(tp=class extends Subscribable{constructor(et,nt){super();_o(this,zs);_o(this,wl);_o(this,Sl);_o(this,gs);_o(this,Us);ao(this,wl,et),this.setOptions(nt),this.bindMethods(),fo(this,zs,_u).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(et){var at;const nt=this.options;this.options=jr(this,wl).defaultMutationOptions(et),shallowEqualObjects(this.options,nt)||jr(this,wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:jr(this,gs),observer:this}),nt!=null&&nt.mutationKey&&this.options.mutationKey&&hashKey(nt.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((at=jr(this,gs))==null?void 0:at.state.status)==="pending"&&jr(this,gs).setOptions(this.options)}onUnsubscribe(){var et;this.hasListeners()||(et=jr(this,gs))==null||et.removeObserver(this)}onMutationUpdate(et){fo(this,zs,_u).call(this),fo(this,zs,Ou).call(this,et)}getCurrentResult(){return jr(this,Sl)}reset(){var et;(et=jr(this,gs))==null||et.removeObserver(this),ao(this,gs,void 0),fo(this,zs,_u).call(this),fo(this,zs,Ou).call(this)}mutate(et,nt){var at;return ao(this,Us,nt),(at=jr(this,gs))==null||at.removeObserver(this),ao(this,gs,jr(this,wl).getMutationCache().build(jr(this,wl),this.options)),jr(this,gs).addObserver(this),jr(this,gs).execute(et)}},wl=new WeakMap,Sl=new WeakMap,gs=new WeakMap,Us=new WeakMap,zs=new WeakSet,_u=function(){var nt;const et=((nt=jr(this,gs))==null?void 0:nt.state)??getDefaultState();ao(this,Sl,{...et,isPending:et.status==="pending",isSuccess:et.status==="success",isError:et.status==="error",isIdle:et.status==="idle",mutate:this.mutate,reset:this.reset})},Ou=function(et){notifyManager.batch(()=>{var nt,at,mt,wt,$t,Ct,Dt,Ft;if(jr(this,Us)&&this.hasListeners()){const jt=jr(this,Sl).variables,Ut=jr(this,Sl).context;(et==null?void 0:et.type)==="success"?((at=(nt=jr(this,Us)).onSuccess)==null||at.call(nt,et.data,jt,Ut),(wt=(mt=jr(this,Us)).onSettled)==null||wt.call(mt,et.data,null,jt,Ut)):(et==null?void 0:et.type)==="error"&&((Ct=($t=jr(this,Us)).onError)==null||Ct.call($t,et.error,jt,Ut),(Ft=(Dt=jr(this,Us)).onSettled)==null||Ft.call(Dt,void 0,et.error,jt,Ut))}this.listeners.forEach(jt=>{jt(jr(this,Sl))})})},tp),QueryClientContext=reactExports.createContext(void 0),useQueryClient=a=>{const s=reactExports.useContext(QueryClientContext);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},QueryClientProvider=({client:a,children:s})=>(reactExports.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:a,children:s})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(a,s){return typeof a=="function"?a(...s):!!a}function noop$5(){}var ensurePreventErrorBoundaryRetry=(a,s)=>{(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&(s.isReset()||(a.retryOnMount=!1))},useClearResetErrorBoundary=a=>{reactExports.useEffect(()=>{a.clearReset()},[a])},getHasError=({result:a,errorResetBoundary:s,throwOnError:et,query:nt,suspense:at})=>a.isError&&!s.isReset()&&!a.isFetching&&nt&&(at&&a.data===void 0||shouldThrowError(et,[a.error,nt])),ensureSuspenseTimers=a=>{const s=a.staleTime;a.suspense&&(a.staleTime=typeof s=="function"?(...et)=>Math.max(s(...et),1e3):Math.max(s??1e3,1e3),typeof a.gcTime=="number"&&(a.gcTime=Math.max(a.gcTime,1e3)))},willFetch=(a,s)=>a.isLoading&&a.isFetching&&!s,shouldSuspend=(a,s)=>(a==null?void 0:a.suspense)&&s.isPending,fetchOptimistic=(a,s,et)=>s.fetchOptimistic(a).catch(()=>{et.clearReset()});function useBaseQuery(a,s,et){var jt,Ut,tr,ir,sr;const nt=useQueryClient(),at=useIsRestoring(),mt=useQueryErrorResetBoundary(),wt=nt.defaultQueryOptions(a);(Ut=(jt=nt.getDefaultOptions().queries)==null?void 0:jt._experimental_beforeQuery)==null||Ut.call(jt,wt),wt._optimisticResults=at?"isRestoring":"optimistic",ensureSuspenseTimers(wt),ensurePreventErrorBoundaryRetry(wt,mt),useClearResetErrorBoundary(mt);const $t=!nt.getQueryCache().get(wt.queryHash),[Ct]=reactExports.useState(()=>new s(nt,wt)),Dt=Ct.getOptimisticResult(wt),Ft=!at&&a.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(ur=>{const fr=Ft?Ct.subscribe(notifyManager.batchCalls(ur)):noop$5;return Ct.updateResult(),fr},[Ct,Ft]),()=>Ct.getCurrentResult(),()=>Ct.getCurrentResult()),reactExports.useEffect(()=>{Ct.setOptions(wt,{listeners:!1})},[wt,Ct]),shouldSuspend(wt,Dt))throw fetchOptimistic(wt,Ct,mt);if(getHasError({result:Dt,errorResetBoundary:mt,throwOnError:wt.throwOnError,query:nt.getQueryCache().get(wt.queryHash),suspense:wt.suspense}))throw Dt.error;if((ir=(tr=nt.getDefaultOptions().queries)==null?void 0:tr._experimental_afterQuery)==null||ir.call(tr,wt,Dt),wt.experimental_prefetchInRender&&!isServer&&willFetch(Dt,at)){const ur=$t?fetchOptimistic(wt,Ct,mt):(sr=nt.getQueryCache().get(wt.queryHash))==null?void 0:sr.promise;ur==null||ur.catch(noop$5).finally(()=>{Ct.updateResult()})}return wt.notifyOnChangeProps?Dt:Ct.trackResult(Dt)}function useQuery(a,s){return useBaseQuery(a,QueryObserver)}function useMutation(a,s){const et=useQueryClient(),[nt]=reactExports.useState(()=>new MutationObserver$1(et,a));reactExports.useEffect(()=>{nt.setOptions(a)},[nt,a]);const at=reactExports.useSyncExternalStore(reactExports.useCallback(wt=>nt.subscribe(notifyManager.batchCalls(wt)),[nt]),()=>nt.getCurrentResult(),()=>nt.getCurrentResult()),mt=reactExports.useCallback((wt,$t)=>{nt.mutate(wt,$t).catch(noop$5)},[nt]);if(at.error&&shouldThrowError(nt.options.throwOnError,[at.error]))throw at.error;return{...at,mutate:mt,mutateAsync:at.mutate}}const __vite_import_meta_env__$2={},createStoreImpl=a=>{let s;const et=new Set,nt=(Ft,jt)=>{const Ut=typeof Ft=="function"?Ft(s):Ft;if(!Object.is(Ut,s)){const tr=s;s=jt??(typeof Ut!="object"||Ut===null)?Ut:Object.assign({},s,Ut),et.forEach(ir=>ir(s,tr))}},at=()=>s,Ct={setState:nt,getState:at,getInitialState:()=>Dt,subscribe:Ft=>(et.add(Ft),()=>et.delete(Ft)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),et.clear()}},Dt=s=a(nt,at,Ct);return Ct},createStore$1=a=>a?createStoreImpl(a):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(a,s){var et=s(),nt=useState({inst:{value:et,getSnapshot:s}}),at=nt[0].inst,mt=nt[1];return useLayoutEffect(function(){at.value=et,at.getSnapshot=s,checkIfSnapshotChanged(at)&&mt({inst:at})},[a,et,s]),useEffect$1(function(){return checkIfSnapshotChanged(at)&&mt({inst:at}),a(function(){checkIfSnapshotChanged(at)&&mt({inst:at})})},[a]),useDebugValue$2(et),et}function checkIfSnapshotChanged(a){var s=a.getSnapshot;a=a.value;try{var et=s();return!objectIs$1(a,et)}catch{return!0}}function useSyncExternalStore$1(a,s){return s()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(a,s,et,nt,at){var mt=useRef(null);if(mt.current===null){var wt={hasValue:!1,value:null};mt.current=wt}else wt=mt.current;mt=useMemo(function(){function Ct(tr){if(!Dt){if(Dt=!0,Ft=tr,tr=nt(tr),at!==void 0&&wt.hasValue){var ir=wt.value;if(at(ir,tr))return jt=ir}return jt=tr}if(ir=jt,objectIs(Ft,tr))return ir;var sr=nt(tr);return at!==void 0&&at(ir,sr)?(Ft=tr,ir):(Ft=tr,jt=sr)}var Dt=!1,Ft,jt,Ut=et===void 0?null:et;return[function(){return Ct(s())},Ut===null?void 0:function(){return Ct(Ut())}]},[s,et,nt,at]);var $t=useSyncExternalStore(a,mt[0],mt[1]);return useEffect(function(){wt.hasValue=!0,wt.value=$t},[$t]),useDebugValue$1($t),$t};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs$2(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$1=a=>a;function useStore(a,s=identity$1,et){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&et&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const nt=useSyncExternalStoreWithSelector(a.subscribe,a.getState,a.getServerState||a.getInitialState,s,et);return useDebugValue(nt),nt}const createImpl=a=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof a=="function"?createStore$1(a):a,et=(nt,at)=>useStore(s,nt,at);return Object.assign(et,s),et},create$3=a=>a?createImpl(a):createImpl;var __classPrivateFieldGet$1=function(a,s,et,nt){if(et==="a"&&!nt)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?a!==s||!nt:!s.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?nt:et==="a"?nt.call(a):nt?nt.value:s.get(a)},__classPrivateFieldSet$1=function(a,s,et,nt,at){if(nt==="m")throw new TypeError("Private method is not writable");if(nt==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?a!==s||!at:!s.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nt==="a"?at.call(a,et):at?at.value=et:s.set(a,et),et},_AppReadyEvent_detail;let wallets;const registeredWalletsSet=new Set;function addRegisteredWallet(a){cachedWalletsArray=void 0,registeredWalletsSet.add(a)}function removeRegisteredWallet(a){cachedWalletsArray=void 0,registeredWalletsSet.delete(a)}const listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$6,on}),typeof window>"u"))return wallets;const a=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:s})=>s(a))}catch(s){console.error(`wallet-standard:register-wallet event listener could not be added
`,s)}try{window.dispatchEvent(new AppReadyEvent(a))}catch(s){console.error(`wallet-standard:app-ready event could not be dispatched
`,s)}return wallets}function register(...a){var s;return a=a.filter(et=>!registeredWalletsSet.has(et)),a.length?(a.forEach(et=>addRegisteredWallet(et)),(s=listeners.register)==null||s.forEach(et=>guard$1(()=>et(...a))),function(){var nt;a.forEach(at=>removeRegisteredWallet(at)),(nt=listeners.unregister)==null||nt.forEach(at=>guard$1(()=>at(...a)))}):()=>{}}let cachedWalletsArray;function get$6(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on(a,s){var et;return(et=listeners[a])!=null&&et.push(s)||(listeners[a]=[s]),function(){var at;listeners[a]=(at=listeners[a])==null?void 0:at.filter(mt=>s!==mt)}}function guard$1(a){try{a()}catch(s){console.error(s)}}class AppReadyEvent extends Event{get detail(){return __classPrivateFieldGet$1(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(s){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet$1(this,_AppReadyEvent_detail,s,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;var __classPrivateFieldGet=function(a,s,et,nt){if(et==="a"&&!nt)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?a!==s||!nt:!s.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?nt:et==="a"?nt.call(a):nt?nt.value:s.get(a)},__classPrivateFieldSet=function(a,s,et,nt,at){if(nt==="m")throw new TypeError("Private method is not writable");if(nt==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?a!==s||!at:!s.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nt==="a"?at.call(a,et):at?at.value=et:s.set(a,et),et},_ReadonlyWalletAccount_address,_ReadonlyWalletAccount_publicKey,_ReadonlyWalletAccount_chains,_ReadonlyWalletAccount_features,_ReadonlyWalletAccount_label,_ReadonlyWalletAccount_icon;class ReadonlyWalletAccount{get address(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_address,"f")}get publicKey(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_publicKey,"f").slice()}get chains(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_chains,"f").slice()}get features(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_features,"f").slice()}get label(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_label,"f")}get icon(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_icon,"f")}constructor(s){_ReadonlyWalletAccount_address.set(this,void 0),_ReadonlyWalletAccount_publicKey.set(this,void 0),_ReadonlyWalletAccount_chains.set(this,void 0),_ReadonlyWalletAccount_features.set(this,void 0),_ReadonlyWalletAccount_label.set(this,void 0),_ReadonlyWalletAccount_icon.set(this,void 0),new.target===ReadonlyWalletAccount&&Object.freeze(this),__classPrivateFieldSet(this,_ReadonlyWalletAccount_address,s.address,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_publicKey,s.publicKey.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_chains,s.chains.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_features,s.features.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_label,s.label,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_icon,s.icon,"f")}}_ReadonlyWalletAccount_address=new WeakMap,_ReadonlyWalletAccount_publicKey=new WeakMap,_ReadonlyWalletAccount_chains=new WeakMap,_ReadonlyWalletAccount_features=new WeakMap,_ReadonlyWalletAccount_label=new WeakMap,_ReadonlyWalletAccount_icon=new WeakMap;function base$2(a){if(a.length>=255)throw new TypeError("Alphabet too long");const s=new Uint8Array(256);for(let Dt=0;Dt<s.length;Dt++)s[Dt]=255;for(let Dt=0;Dt<a.length;Dt++){const Ft=a.charAt(Dt),jt=Ft.charCodeAt(0);if(s[jt]!==255)throw new TypeError(Ft+" is ambiguous");s[jt]=Dt}const et=a.length,nt=a.charAt(0),at=Math.log(et)/Math.log(256),mt=Math.log(256)/Math.log(et);function wt(Dt){if(Dt instanceof Uint8Array||(ArrayBuffer.isView(Dt)?Dt=new Uint8Array(Dt.buffer,Dt.byteOffset,Dt.byteLength):Array.isArray(Dt)&&(Dt=Uint8Array.from(Dt))),!(Dt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Dt.length===0)return"";let Ft=0,jt=0,Ut=0;const tr=Dt.length;for(;Ut!==tr&&Dt[Ut]===0;)Ut++,Ft++;const ir=(tr-Ut)*mt+1>>>0,sr=new Uint8Array(ir);for(;Ut!==tr;){let dr=Dt[Ut],hr=0;for(let vr=ir-1;(dr!==0||hr<jt)&&vr!==-1;vr--,hr++)dr+=256*sr[vr]>>>0,sr[vr]=dr%et>>>0,dr=dr/et>>>0;if(dr!==0)throw new Error("Non-zero carry");jt=hr,Ut++}let ur=ir-jt;for(;ur!==ir&&sr[ur]===0;)ur++;let fr=nt.repeat(Ft);for(;ur<ir;++ur)fr+=a.charAt(sr[ur]);return fr}function $t(Dt){if(typeof Dt!="string")throw new TypeError("Expected String");if(Dt.length===0)return new Uint8Array;let Ft=0,jt=0,Ut=0;for(;Dt[Ft]===nt;)jt++,Ft++;const tr=(Dt.length-Ft)*at+1>>>0,ir=new Uint8Array(tr);for(;Dt[Ft];){let dr=s[Dt.charCodeAt(Ft)];if(dr===255)return;let hr=0;for(let vr=tr-1;(dr!==0||hr<Ut)&&vr!==-1;vr--,hr++)dr+=et*ir[vr]>>>0,ir[vr]=dr%256>>>0,dr=dr/256>>>0;if(dr!==0)throw new Error("Non-zero carry");Ut=hr,Ft++}let sr=tr-Ut;for(;sr!==tr&&ir[sr]===0;)sr++;const ur=new Uint8Array(jt+(tr-sr));let fr=jt;for(;sr!==tr;)ur[fr++]=ir[sr++];return ur}function Ct(Dt){const Ft=$t(Dt);if(Ft)return Ft;throw new Error("Non-base"+et+" character")}return{encode:wt,decodeUnsafe:$t,decode:Ct}}var ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const bs58=base$2(ALPHABET$1),toBase58=a=>bs58.encode(a),fromBase58=a=>bs58.decode(a);function fromBase64(a){return Uint8Array.from(atob(a),s=>s.charCodeAt(0))}const CHUNK_SIZE=8192;function toBase64(a){if(a.length<CHUNK_SIZE)return btoa(String.fromCharCode(...a));let s="";for(var et=0;et<a.length;et+=CHUNK_SIZE){const nt=a.slice(et,et+CHUNK_SIZE);s+=String.fromCharCode(...nt)}return btoa(s)}const toB64=toBase64,fromB64=fromBase64;function fromHex(a){var at;const s=a.startsWith("0x")?a.slice(2):a,et=s.length%2===0?s:`0${s}`,nt=((at=et.match(/[0-9a-fA-F]{2}/g))==null?void 0:at.map(mt=>parseInt(mt,16)))??[];if(nt.length!==et.length/2)throw new Error(`Invalid hex string ${a}`);return Uint8Array.from(nt)}function toHex$2(a){return a.reduce((s,et)=>s+et.toString(16).padStart(2,"0"),"")}const toHEX=toHex$2,fromHEX=fromHex;function ulebEncode(a){let s=[],et=0;if(a===0)return[0];for(;a>0;)s[et]=a&127,(a>>=7)&&(s[et]|=128),et+=1;return s}function ulebDecode(a){let s=0,et=0,nt=0;for(;;){let at=a[nt];if(nt+=1,s|=(at&127)<<et,!(at&128))break;et+=7}return{value:s,length:nt}}class BcsReader{constructor(s){this.bytePosition=0,this.dataView=new DataView(s.buffer)}shift(s){return this.bytePosition+=s,this}read8(){let s=this.dataView.getUint8(this.bytePosition);return this.shift(1),s}read16(){let s=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),s}read32(){let s=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),s}read64(){let s=this.read32(),nt=this.read32().toString(16)+s.toString(16).padStart(8,"0");return BigInt("0x"+nt).toString(10)}read128(){let s=BigInt(this.read64()),nt=BigInt(this.read64()).toString(16)+s.toString(16).padStart(16,"0");return BigInt("0x"+nt).toString(10)}read256(){let s=BigInt(this.read128()),nt=BigInt(this.read128()).toString(16)+s.toString(16).padStart(32,"0");return BigInt("0x"+nt).toString(10)}readBytes(s){let et=this.bytePosition+this.dataView.byteOffset,nt=new Uint8Array(this.dataView.buffer,et,s);return this.shift(s),nt}readULEB(){let s=this.bytePosition+this.dataView.byteOffset,et=new Uint8Array(this.dataView.buffer,s),{value:nt,length:at}=ulebDecode(et);return this.shift(at),nt}readVec(s){let et=this.readULEB(),nt=[];for(let at=0;at<et;at++)nt.push(s(this,at,et));return nt}}function encodeStr(a,s){switch(s){case"base58":return toBase58(a);case"base64":return toBase64(a);case"hex":return toHex$2(a);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function splitGenericParameters(a,s=["<",">"]){const[et,nt]=s,at=[];let mt="",wt=0;for(let $t=0;$t<a.length;$t++){const Ct=a[$t];if(Ct===et&&wt++,Ct===nt&&wt--,wt===0&&Ct===","){at.push(mt.trim()),mt="";continue}mt+=Ct}return at.push(mt.trim()),at}class BcsWriter{constructor({initialSize:s=1024,maxSize:et=1/0,allocateSize:nt=1024}={}){this.bytePosition=0,this.size=s,this.maxSize=et,this.allocateSize=nt,this.dataView=new DataView(new ArrayBuffer(s))}ensureSizeOrGrow(s){const et=this.bytePosition+s;if(et>this.size){const nt=Math.min(this.maxSize,this.size+this.allocateSize);if(et>nt)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${et}`);this.size=nt;const at=new ArrayBuffer(this.size);new Uint8Array(at).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(at)}}shift(s){return this.bytePosition+=s,this}write8(s){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(s)),this.shift(1)}write16(s){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(s),!0),this.shift(2)}write32(s){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(s),!0),this.shift(4)}write64(s){return toLittleEndian(BigInt(s),8).forEach(et=>this.write8(et)),this}write128(s){return toLittleEndian(BigInt(s),16).forEach(et=>this.write8(et)),this}write256(s){return toLittleEndian(BigInt(s),32).forEach(et=>this.write8(et)),this}writeULEB(s){return ulebEncode(s).forEach(et=>this.write8(et)),this}writeVec(s,et){return this.writeULEB(s.length),Array.from(s).forEach((nt,at)=>et(this,nt,at,s.length)),this}*[Symbol.iterator](){for(let s=0;s<this.bytePosition;s++)yield this.dataView.getUint8(s);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(s){return encodeStr(this.toBytes(),s)}}function toLittleEndian(a,s){let et=new Uint8Array(s),nt=0;for(;a>0;)et[nt]=Number(a%BigInt(256)),a=a/BigInt(256),nt+=1;return et}var __typeError$6=a=>{throw TypeError(a)},__accessCheck$6=(a,s,et)=>s.has(a)||__typeError$6("Cannot "+et),__privateGet$6=(a,s,et)=>(__accessCheck$6(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$6=(a,s,et)=>s.has(a)?__typeError$6("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$5=(a,s,et,nt)=>(__accessCheck$6(a,s,"write to private field"),s.set(a,et),et),_write,_serialize,_schema,_bytes;const _BcsType=class Sp{constructor(s){__privateAdd$6(this,_write),__privateAdd$6(this,_serialize),this.name=s.name,this.read=s.read,this.serializedSize=s.serializedSize??(()=>null),__privateSet$5(this,_write,s.write),__privateSet$5(this,_serialize,s.serialize??((et,nt)=>{const at=new BcsWriter({initialSize:this.serializedSize(et)??void 0,...nt});return __privateGet$6(this,_write).call(this,et,at),at.toBytes()})),this.validate=s.validate??(()=>{})}write(s,et){this.validate(s),__privateGet$6(this,_write).call(this,s,et)}serialize(s,et){return this.validate(s),new SerializedBcs(this,__privateGet$6(this,_serialize).call(this,s,et))}parse(s){const et=new BcsReader(s);return this.read(et)}fromHex(s){return this.parse(fromHex(s))}fromBase58(s){return this.parse(fromBase58(s))}fromBase64(s){return this.parse(fromBase64(s))}transform({name:s,input:et,output:nt,validate:at}){return new Sp({name:s??this.name,read:mt=>nt?nt(this.read(mt)):this.read(mt),write:(mt,wt)=>__privateGet$6(this,_write).call(this,et?et(mt):mt,wt),serializedSize:mt=>this.serializedSize(et?et(mt):mt),serialize:(mt,wt)=>__privateGet$6(this,_serialize).call(this,et?et(mt):mt,wt),validate:mt=>{at==null||at(mt),this.validate(et?et(mt):mt)}})}};_write=new WeakMap;_serialize=new WeakMap;let BcsType=_BcsType;const SERIALIZED_BCS_BRAND=Symbol.for("@mysten/serialized-bcs");function isSerializedBcs(a){return!!a&&typeof a=="object"&&a[SERIALIZED_BCS_BRAND]===!0}class SerializedBcs{constructor(s,et){__privateAdd$6(this,_schema),__privateAdd$6(this,_bytes),__privateSet$5(this,_schema,s),__privateSet$5(this,_bytes,et)}get[SERIALIZED_BCS_BRAND](){return!0}toBytes(){return __privateGet$6(this,_bytes)}toHex(){return toHex$2(__privateGet$6(this,_bytes))}toBase64(){return toBase64(__privateGet$6(this,_bytes))}toBase58(){return toBase58(__privateGet$6(this,_bytes))}parse(){return __privateGet$6(this,_schema).parse(__privateGet$6(this,_bytes))}}_schema=new WeakMap;_bytes=new WeakMap;function fixedSizeBcsType({size:a,...s}){return new BcsType({...s,serializedSize:()=>a})}function uIntBcsType({readMethod:a,writeMethod:s,...et}){return fixedSizeBcsType({...et,read:nt=>nt[a](),write:(nt,at)=>at[s](nt),validate:nt=>{var at;if(nt<0||nt>et.maxValue)throw new TypeError(`Invalid ${et.name} value: ${nt}. Expected value in range 0-${et.maxValue}`);(at=et.validate)==null||at.call(et,nt)}})}function bigUIntBcsType({readMethod:a,writeMethod:s,...et}){return fixedSizeBcsType({...et,read:nt=>nt[a](),write:(nt,at)=>at[s](BigInt(nt)),validate:nt=>{var mt;const at=BigInt(nt);if(at<0||at>et.maxValue)throw new TypeError(`Invalid ${et.name} value: ${at}. Expected value in range 0-${et.maxValue}`);(mt=et.validate)==null||mt.call(et,at)}})}function dynamicSizeBcsType({serialize:a,...s}){const et=new BcsType({...s,serialize:a,write:(nt,at)=>{for(const mt of et.serialize(nt).toBytes())at.write8(mt)}});return et}function stringLikeBcsType({toBytes:a,fromBytes:s,...et}){return new BcsType({...et,read:nt=>{const at=nt.readULEB(),mt=nt.readBytes(at);return s(mt)},write:(nt,at)=>{const mt=a(nt);at.writeULEB(mt.length);for(let wt=0;wt<mt.length;wt++)at.write8(mt[wt])},serialize:nt=>{const at=a(nt),mt=ulebEncode(at.length),wt=new Uint8Array(mt.length+at.length);return wt.set(mt,0),wt.set(at,mt.length),wt},validate:nt=>{var at;if(typeof nt!="string")throw new TypeError(`Invalid ${et.name} value: ${nt}. Expected string`);(at=et.validate)==null||at.call(et,nt)}})}function lazyBcsType(a){let s=null;function et(){return s||(s=a()),s}return new BcsType({name:"lazy",read:nt=>et().read(nt),serializedSize:nt=>et().serializedSize(nt),write:(nt,at)=>et().write(nt,at),serialize:(nt,at)=>et().serialize(nt,at).toBytes()})}const bcs$1={u8(a){return uIntBcsType({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...a})},u16(a){return uIntBcsType({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...a})},u32(a){return uIntBcsType({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...a})},u64(a){return bigUIntBcsType({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...a})},u128(a){return bigUIntBcsType({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...a})},u256(a){return bigUIntBcsType({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...a})},bool(a){return fixedSizeBcsType({name:"bool",size:1,read:s=>s.read8()===1,write:(s,et)=>et.write8(s?1:0),...a,validate:s=>{var et;if((et=a==null?void 0:a.validate)==null||et.call(a,s),typeof s!="boolean")throw new TypeError(`Expected boolean, found ${typeof s}`)}})},uleb128(a){return dynamicSizeBcsType({name:"uleb128",read:s=>s.readULEB(),serialize:s=>Uint8Array.from(ulebEncode(s)),...a})},bytes(a,s){return fixedSizeBcsType({name:`bytes[${a}]`,size:a,read:et=>et.readBytes(a),write:(et,nt)=>{const at=new Uint8Array(et);for(let mt=0;mt<a;mt++)nt.write8(at[mt]??0)},...s,validate:et=>{var nt;if((nt=s==null?void 0:s.validate)==null||nt.call(s,et),!et||typeof et!="object"||!("length"in et))throw new TypeError(`Expected array, found ${typeof et}`);if(et.length!==a)throw new TypeError(`Expected array of length ${a}, found ${et.length}`)}})},byteVector(a){return new BcsType({name:"bytesVector",read:s=>{const et=s.readULEB();return s.readBytes(et)},write:(s,et)=>{const nt=new Uint8Array(s);et.writeULEB(nt.length);for(let at=0;at<nt.length;at++)et.write8(nt[at]??0)},...a,serializedSize:s=>{const et="length"in s?s.length:null;return et==null?null:ulebEncode(et).length+et},validate:s=>{var et;if((et=a==null?void 0:a.validate)==null||et.call(a,s),!s||typeof s!="object"||!("length"in s))throw new TypeError(`Expected array, found ${typeof s}`)}})},string(a){return stringLikeBcsType({name:"string",toBytes:s=>new TextEncoder().encode(s),fromBytes:s=>new TextDecoder().decode(s),...a})},fixedArray(a,s,et){return new BcsType({name:`${s.name}[${a}]`,read:nt=>{const at=new Array(a);for(let mt=0;mt<a;mt++)at[mt]=s.read(nt);return at},write:(nt,at)=>{for(const mt of nt)s.write(mt,at)},...et,validate:nt=>{var at;if((at=et==null?void 0:et.validate)==null||at.call(et,nt),!nt||typeof nt!="object"||!("length"in nt))throw new TypeError(`Expected array, found ${typeof nt}`);if(nt.length!==a)throw new TypeError(`Expected array of length ${a}, found ${nt.length}`)}})},option(a){return bcs$1.enum(`Option<${a.name}>`,{None:null,Some:a}).transform({input:s=>s==null?{None:!0}:{Some:s},output:s=>s.$kind==="Some"?s.Some:null})},vector(a,s){return new BcsType({name:`vector<${a.name}>`,read:et=>{const nt=et.readULEB(),at=new Array(nt);for(let mt=0;mt<nt;mt++)at[mt]=a.read(et);return at},write:(et,nt)=>{nt.writeULEB(et.length);for(const at of et)a.write(at,nt)},...s,validate:et=>{var nt;if((nt=s==null?void 0:s.validate)==null||nt.call(s,et),!et||typeof et!="object"||!("length"in et))throw new TypeError(`Expected array, found ${typeof et}`)}})},tuple(a,s){return new BcsType({name:`(${a.map(et=>et.name).join(", ")})`,serializedSize:et=>{let nt=0;for(let at=0;at<a.length;at++){const mt=a[at].serializedSize(et[at]);if(mt==null)return null;nt+=mt}return nt},read:et=>{const nt=[];for(const at of a)nt.push(at.read(et));return nt},write:(et,nt)=>{for(let at=0;at<a.length;at++)a[at].write(et[at],nt)},...s,validate:et=>{var nt;if((nt=s==null?void 0:s.validate)==null||nt.call(s,et),!Array.isArray(et))throw new TypeError(`Expected array, found ${typeof et}`);if(et.length!==a.length)throw new TypeError(`Expected array of length ${a.length}, found ${et.length}`)}})},struct(a,s,et){const nt=Object.entries(s);return new BcsType({name:a,serializedSize:at=>{let mt=0;for(const[wt,$t]of nt){const Ct=$t.serializedSize(at[wt]);if(Ct==null)return null;mt+=Ct}return mt},read:at=>{const mt={};for(const[wt,$t]of nt)mt[wt]=$t.read(at);return mt},write:(at,mt)=>{for(const[wt,$t]of nt)$t.write(at[wt],mt)},...et,validate:at=>{var mt;if((mt=et==null?void 0:et.validate)==null||mt.call(et,at),typeof at!="object"||at==null)throw new TypeError(`Expected object, found ${typeof at}`)}})},enum(a,s,et){const nt=Object.entries(s);return new BcsType({name:a,read:at=>{const mt=at.readULEB(),wt=nt[mt];if(!wt)throw new TypeError(`Unknown value ${mt} for enum ${a}`);const[$t,Ct]=wt;return{[$t]:(Ct==null?void 0:Ct.read(at))??!0,$kind:$t}},write:(at,mt)=>{const[wt,$t]=Object.entries(at).filter(([Ct])=>Object.hasOwn(s,Ct))[0];for(let Ct=0;Ct<nt.length;Ct++){const[Dt,Ft]=nt[Ct];if(Dt===wt){mt.writeULEB(Ct),Ft==null||Ft.write($t,mt);return}}},...et,validate:at=>{var $t;if(($t=et==null?void 0:et.validate)==null||$t.call(et,at),typeof at!="object"||at==null)throw new TypeError(`Expected object, found ${typeof at}`);const mt=Object.keys(at).filter(Ct=>at[Ct]!==void 0&&Object.hasOwn(s,Ct));if(mt.length!==1)throw new TypeError(`Expected object with one key, but found ${mt.length} for type ${a}}`);const[wt]=mt;if(!Object.hasOwn(s,wt))throw new TypeError(`Invalid enum variant ${wt}`)}})},map(a,s){return bcs$1.vector(bcs$1.tuple([a,s])).transform({name:`Map<${a.name}, ${s.name}>`,input:et=>[...et.entries()],output:et=>{const nt=new Map;for(const[at,mt]of et)nt.set(at,mt);return nt}})},lazy(a){return lazyBcsType(a)}},TX_DIGEST_LENGTH=32;function isValidTransactionDigest(a){try{return fromBase58(a).length===TX_DIGEST_LENGTH}catch{return!1}}const SUI_ADDRESS_LENGTH=32;function isValidSuiAddress(a){return isHex$2(a)&&getHexByteLength(a)===SUI_ADDRESS_LENGTH}function isValidSuiObjectId(a){return isValidSuiAddress(a)}function parseTypeTag(a){return a.includes("::")?parseStructTag(a):a}function parseStructTag(a){const[s,et]=a.split("::"),nt=a.slice(s.length+et.length+4),at=nt.includes("<")?nt.slice(0,nt.indexOf("<")):nt,mt=nt.includes("<")?splitGenericParameters(nt.slice(nt.indexOf("<")+1,nt.lastIndexOf(">"))).map(wt=>parseTypeTag(wt.trim())):[];return{address:normalizeSuiAddress(s),module:et,name:at,typeParams:mt}}function normalizeStructTag(a){const{address:s,module:et,name:nt,typeParams:at}=typeof a=="string"?parseStructTag(a):a,mt=(at==null?void 0:at.length)>0?`<${at.map(wt=>typeof wt=="string"?wt:normalizeStructTag(wt)).join(",")}>`:"";return`${s}::${et}::${nt}${mt}`}function normalizeSuiAddress(a,s=!1){let et=a.toLowerCase();return!s&&et.startsWith("0x")&&(et=et.slice(2)),`0x${et.padStart(SUI_ADDRESS_LENGTH*2,"0")}`}function normalizeSuiObjectId(a,s=!1){return normalizeSuiAddress(a,s)}function isHex$2(a){return/^(0x|0X)?[a-fA-F0-9]+$/.test(a)&&a.length%2===0}function getHexByteLength(a){return/^(0x|0X)/.test(a)?(a.length-2)/2:a.length/2}const VECTOR_REGEX=/^vector<(.+)>$/,STRUCT_REGEX=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class TypeTagSerializer{static parseFromStr(s,et=!1){if(s==="address")return{address:null};if(s==="bool")return{bool:null};if(s==="u8")return{u8:null};if(s==="u16")return{u16:null};if(s==="u32")return{u32:null};if(s==="u64")return{u64:null};if(s==="u128")return{u128:null};if(s==="u256")return{u256:null};if(s==="signer")return{signer:null};const nt=s.match(VECTOR_REGEX);if(nt)return{vector:TypeTagSerializer.parseFromStr(nt[1],et)};const at=s.match(STRUCT_REGEX);if(at)return{struct:{address:et?normalizeSuiAddress(at[1]):at[1],module:at[2],name:at[3],typeParams:at[5]===void 0?[]:TypeTagSerializer.parseStructTypeArgs(at[5],et)}};throw new Error(`Encountered unexpected token when parsing type args for ${s}`)}static parseStructTypeArgs(s,et=!1){return splitGenericParameters(s).map(nt=>TypeTagSerializer.parseFromStr(nt,et))}static tagToString(s){if("bool"in s)return"bool";if("u8"in s)return"u8";if("u16"in s)return"u16";if("u32"in s)return"u32";if("u64"in s)return"u64";if("u128"in s)return"u128";if("u256"in s)return"u256";if("address"in s)return"address";if("signer"in s)return"signer";if("vector"in s)return`vector<${TypeTagSerializer.tagToString(s.vector)}>`;if("struct"in s){const et=s.struct,nt=et.typeParams.map(TypeTagSerializer.tagToString).join(", ");return`${et.address}::${et.module}::${et.name}${nt?`<${nt}>`:""}`}throw new Error("Invalid TypeTag")}}function unsafe_u64(a){return bcs$1.u64({name:"unsafe_u64",...a}).transform({input:s=>s,output:s=>Number(s)})}function optionEnum(a){return bcs$1.enum("Option",{None:null,Some:a})}const Address=bcs$1.bytes(SUI_ADDRESS_LENGTH).transform({validate:a=>{const s=typeof a=="string"?a:toHex$2(a);if(!s||!isValidSuiAddress(normalizeSuiAddress(s)))throw new Error(`Invalid Sui address ${s}`)},input:a=>typeof a=="string"?fromHex(normalizeSuiAddress(a)):a,output:a=>normalizeSuiAddress(toHex$2(a))}),ObjectDigest=bcs$1.vector(bcs$1.u8()).transform({name:"ObjectDigest",input:a=>fromBase58(a),output:a=>toBase58(new Uint8Array(a)),validate:a=>{if(fromBase58(a).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef=bcs$1.struct("SuiObjectRef",{objectId:Address,version:bcs$1.u64(),digest:ObjectDigest}),SharedObjectRef=bcs$1.struct("SharedObjectRef",{objectId:Address,initialSharedVersion:bcs$1.u64(),mutable:bcs$1.bool()}),ObjectArg$3=bcs$1.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef,SharedObject:SharedObjectRef,Receiving:SuiObjectRef}),CallArg$2=bcs$1.enum("CallArg",{Pure:bcs$1.struct("Pure",{bytes:bcs$1.vector(bcs$1.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})}),Object:ObjectArg$3}),InnerTypeTag=bcs$1.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:bcs$1.lazy(()=>InnerTypeTag),struct:bcs$1.lazy(()=>StructTag$1),u16:null,u32:null,u256:null}),TypeTag$1=InnerTypeTag.transform({input:a=>typeof a=="string"?TypeTagSerializer.parseFromStr(a,!0):a,output:a=>TypeTagSerializer.tagToString(a)}),Argument$2=bcs$1.enum("Argument",{GasCoin:null,Input:bcs$1.u16(),Result:bcs$1.u16(),NestedResult:bcs$1.tuple([bcs$1.u16(),bcs$1.u16()])}),ProgrammableMoveCall$2=bcs$1.struct("ProgrammableMoveCall",{package:Address,module:bcs$1.string(),function:bcs$1.string(),typeArguments:bcs$1.vector(TypeTag$1),arguments:bcs$1.vector(Argument$2)}),Command$2=bcs$1.enum("Command",{MoveCall:ProgrammableMoveCall$2,TransferObjects:bcs$1.struct("TransferObjects",{objects:bcs$1.vector(Argument$2),address:Argument$2}),SplitCoins:bcs$1.struct("SplitCoins",{coin:Argument$2,amounts:bcs$1.vector(Argument$2)}),MergeCoins:bcs$1.struct("MergeCoins",{destination:Argument$2,sources:bcs$1.vector(Argument$2)}),Publish:bcs$1.struct("Publish",{modules:bcs$1.vector(bcs$1.vector(bcs$1.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})),dependencies:bcs$1.vector(Address)}),MakeMoveVec:bcs$1.struct("MakeMoveVec",{type:optionEnum(TypeTag$1).transform({input:a=>a===null?{None:!0}:{Some:a},output:a=>a.Some??null}),elements:bcs$1.vector(Argument$2)}),Upgrade:bcs$1.struct("Upgrade",{modules:bcs$1.vector(bcs$1.vector(bcs$1.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})),dependencies:bcs$1.vector(Address),package:Address,ticket:Argument$2})}),ProgrammableTransaction=bcs$1.struct("ProgrammableTransaction",{inputs:bcs$1.vector(CallArg$2),commands:bcs$1.vector(Command$2)}),TransactionKind=bcs$1.enum("TransactionKind",{ProgrammableTransaction,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration$3=bcs$1.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64()}),StructTag$1=bcs$1.struct("StructTag",{address:Address,module:bcs$1.string(),name:bcs$1.string(),typeParams:bcs$1.vector(InnerTypeTag)}),GasData$2=bcs$1.struct("GasData",{payment:bcs$1.vector(SuiObjectRef),owner:Address,price:bcs$1.u64(),budget:bcs$1.u64()}),TransactionDataV1=bcs$1.struct("TransactionDataV1",{kind:TransactionKind,sender:Address,gasData:GasData$2,expiration:TransactionExpiration$3}),TransactionData$1=bcs$1.enum("TransactionData",{V1:TransactionDataV1}),IntentScope=bcs$1.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion=bcs$1.enum("IntentVersion",{V0:null}),AppId=bcs$1.enum("AppId",{Sui:null}),Intent=bcs$1.struct("Intent",{scope:IntentScope,version:IntentVersion,appId:AppId});function IntentMessage(a){return bcs$1.struct(`IntentMessage<${a.name}>`,{intent:Intent,value:a})}const CompressedSignature=bcs$1.enum("CompressedSignature",{ED25519:bcs$1.fixedArray(64,bcs$1.u8()),Secp256k1:bcs$1.fixedArray(64,bcs$1.u8()),Secp256r1:bcs$1.fixedArray(64,bcs$1.u8()),ZkLogin:bcs$1.vector(bcs$1.u8())}),PublicKey$1=bcs$1.enum("PublicKey",{ED25519:bcs$1.fixedArray(32,bcs$1.u8()),Secp256k1:bcs$1.fixedArray(33,bcs$1.u8()),Secp256r1:bcs$1.fixedArray(33,bcs$1.u8()),ZkLogin:bcs$1.vector(bcs$1.u8())}),MultiSigPkMap=bcs$1.struct("MultiSigPkMap",{pubKey:PublicKey$1,weight:bcs$1.u8()}),MultiSigPublicKey=bcs$1.struct("MultiSigPublicKey",{pk_map:bcs$1.vector(MultiSigPkMap),threshold:bcs$1.u16()}),MultiSig=bcs$1.struct("MultiSig",{sigs:bcs$1.vector(CompressedSignature),bitmap:bcs$1.u16(),multisig_pk:MultiSigPublicKey}),base64String=bcs$1.vector(bcs$1.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))}),SenderSignedTransaction=bcs$1.struct("SenderSignedTransaction",{intentMessage:IntentMessage(TransactionData$1),txSignatures:bcs$1.vector(base64String)}),SenderSignedData=bcs$1.vector(SenderSignedTransaction,{name:"SenderSignedData"}),PasskeyAuthenticator=bcs$1.struct("PasskeyAuthenticator",{authenticatorData:bcs$1.vector(bcs$1.u8()),clientDataJson:bcs$1.string(),userSignature:bcs$1.vector(bcs$1.u8())}),PackageUpgradeError=bcs$1.enum("PackageUpgradeError",{UnableToFetchPackage:bcs$1.struct("UnableToFetchPackage",{packageId:Address}),NotAPackage:bcs$1.struct("NotAPackage",{objectId:Address}),IncompatibleUpgrade:null,DigestDoesNotMatch:bcs$1.struct("DigestDoesNotMatch",{digest:bcs$1.vector(bcs$1.u8())}),UnknownUpgradePolicy:bcs$1.struct("UnknownUpgradePolicy",{policy:bcs$1.u8()}),PackageIDDoesNotMatch:bcs$1.struct("PackageIDDoesNotMatch",{packageId:Address,ticketId:Address})}),ModuleId=bcs$1.struct("ModuleId",{address:Address,name:bcs$1.string()}),MoveLocation=bcs$1.struct("MoveLocation",{module:ModuleId,function:bcs$1.u16(),instruction:bcs$1.u16(),functionName:bcs$1.option(bcs$1.string())}),CommandArgumentError=bcs$1.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:bcs$1.struct("IndexOutOfBounds",{idx:bcs$1.u16()}),SecondaryIndexOutOfBounds:bcs$1.struct("SecondaryIndexOutOfBounds",{resultIdx:bcs$1.u16(),secondaryIdx:bcs$1.u16()}),InvalidResultArity:bcs$1.struct("InvalidResultArity",{resultIdx:bcs$1.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError=bcs$1.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus=bcs$1.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:bcs$1.struct("MoveObjectTooBig",{objectSize:bcs$1.u64(),maxObjectSize:bcs$1.u64()}),MovePackageTooBig:bcs$1.struct("MovePackageTooBig",{objectSize:bcs$1.u64(),maxObjectSize:bcs$1.u64()}),CircularObjectOwnership:bcs$1.struct("CircularObjectOwnership",{object:Address}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:bcs$1.option(MoveLocation),MoveAbort:bcs$1.tuple([MoveLocation,bcs$1.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:bcs$1.struct("CommandArgumentError",{argIdx:bcs$1.u16(),kind:CommandArgumentError}),TypeArgumentError:bcs$1.struct("TypeArgumentError",{argumentIdx:bcs$1.u16(),kind:TypeArgumentError}),UnusedValueWithoutDrop:bcs$1.struct("UnusedValueWithoutDrop",{resultIdx:bcs$1.u16(),secondaryIdx:bcs$1.u16()}),InvalidPublicFunctionReturnType:bcs$1.struct("InvalidPublicFunctionReturnType",{idx:bcs$1.u16()}),InvalidTransferObject:null,EffectsTooLarge:bcs$1.struct("EffectsTooLarge",{currentSize:bcs$1.u64(),maxSize:bcs$1.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:bcs$1.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError}),WrittenObjectsTooLarge:bcs$1.struct("WrittenObjectsTooLarge",{currentSize:bcs$1.u64(),maxSize:bcs$1.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:bcs$1.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:bcs$1.vector(Address)}),AddressDeniedForCoin:bcs$1.struct("AddressDeniedForCoin",{address:Address,coinType:bcs$1.string()}),CoinTypeGlobalPause:bcs$1.struct("CoinTypeGlobalPause",{coinType:bcs$1.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus=bcs$1.enum("ExecutionStatus",{Success:null,Failed:bcs$1.struct("ExecutionFailed",{error:ExecutionFailureStatus,command:bcs$1.option(bcs$1.u64())})}),GasCostSummary=bcs$1.struct("GasCostSummary",{computationCost:bcs$1.u64(),storageCost:bcs$1.u64(),storageRebate:bcs$1.u64(),nonRefundableStorageFee:bcs$1.u64()}),Owner=bcs$1.enum("Owner",{AddressOwner:Address,ObjectOwner:Address,Shared:bcs$1.struct("Shared",{initialSharedVersion:bcs$1.u64()}),Immutable:null}),TransactionEffectsV1=bcs$1.struct("TransactionEffectsV1",{status:ExecutionStatus,executedEpoch:bcs$1.u64(),gasUsed:GasCostSummary,modifiedAtVersions:bcs$1.vector(bcs$1.tuple([Address,bcs$1.u64()])),sharedObjects:bcs$1.vector(SuiObjectRef),transactionDigest:ObjectDigest,created:bcs$1.vector(bcs$1.tuple([SuiObjectRef,Owner])),mutated:bcs$1.vector(bcs$1.tuple([SuiObjectRef,Owner])),unwrapped:bcs$1.vector(bcs$1.tuple([SuiObjectRef,Owner])),deleted:bcs$1.vector(SuiObjectRef),unwrappedThenDeleted:bcs$1.vector(SuiObjectRef),wrapped:bcs$1.vector(SuiObjectRef),gasObject:bcs$1.tuple([SuiObjectRef,Owner]),eventsDigest:bcs$1.option(ObjectDigest),dependencies:bcs$1.vector(ObjectDigest)}),VersionDigest=bcs$1.tuple([bcs$1.u64(),ObjectDigest]),ObjectIn=bcs$1.enum("ObjectIn",{NotExist:null,Exist:bcs$1.tuple([VersionDigest,Owner])}),ObjectOut=bcs$1.enum("ObjectOut",{NotExist:null,ObjectWrite:bcs$1.tuple([ObjectDigest,Owner]),PackageWrite:VersionDigest}),IDOperation=bcs$1.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange=bcs$1.struct("EffectsObjectChange",{inputState:ObjectIn,outputState:ObjectOut,idOperation:IDOperation}),UnchangedSharedKind=bcs$1.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest,MutateDeleted:bcs$1.u64(),ReadDeleted:bcs$1.u64(),Cancelled:bcs$1.u64(),PerEpochConfig:null}),TransactionEffectsV2=bcs$1.struct("TransactionEffectsV2",{status:ExecutionStatus,executedEpoch:bcs$1.u64(),gasUsed:GasCostSummary,transactionDigest:ObjectDigest,gasObjectIndex:bcs$1.option(bcs$1.u32()),eventsDigest:bcs$1.option(ObjectDigest),dependencies:bcs$1.vector(ObjectDigest),lamportVersion:bcs$1.u64(),changedObjects:bcs$1.vector(bcs$1.tuple([Address,EffectsObjectChange])),unchangedSharedObjects:bcs$1.vector(bcs$1.tuple([Address,UnchangedSharedKind])),auxDataDigest:bcs$1.option(ObjectDigest)}),TransactionEffects=bcs$1.enum("TransactionEffects",{V1:TransactionEffectsV1,V2:TransactionEffectsV2});function pureBcsSchemaFromTypeName(a){switch(a){case"u8":return bcs$1.u8();case"u16":return bcs$1.u16();case"u32":return bcs$1.u32();case"u64":return bcs$1.u64();case"u128":return bcs$1.u128();case"u256":return bcs$1.u256();case"bool":return bcs$1.bool();case"string":return bcs$1.string();case"id":case"address":return Address}const s=a.match(/^(vector|option)<(.+)>$/);if(s){const[et,nt]=s.slice(1);return et==="vector"?bcs$1.vector(pureBcsSchemaFromTypeName(nt)):bcs$1.option(pureBcsSchemaFromTypeName(nt))}throw new Error(`Invalid Pure type name: ${a}`)}const suiBcs={...bcs$1,U8:bcs$1.u8(),U16:bcs$1.u16(),U32:bcs$1.u32(),U64:bcs$1.u64(),U128:bcs$1.u128(),U256:bcs$1.u256(),ULEB128:bcs$1.uleb128(),Bool:bcs$1.bool(),String:bcs$1.string(),Address,AppId,Argument:Argument$2,CallArg:CallArg$2,CompressedSignature,GasData:GasData$2,Intent,IntentMessage,IntentScope,IntentVersion,MultiSig,MultiSigPkMap,MultiSigPublicKey,ObjectArg:ObjectArg$3,ObjectDigest,ProgrammableMoveCall:ProgrammableMoveCall$2,ProgrammableTransaction,PublicKey:PublicKey$1,SenderSignedData,SenderSignedTransaction,SharedObjectRef,StructTag:StructTag$1,SuiObjectRef,Command:Command$2,TransactionData:TransactionData$1,TransactionDataV1,TransactionExpiration:TransactionExpiration$3,TransactionKind,TypeTag:TypeTag$1,TransactionEffects,PasskeyAuthenticator},bcs=Object.freeze(Object.defineProperty({__proto__:null,BcsType,TypeTagSerializer,bcs:suiBcs,pureBcsSchemaFromTypeName},Symbol.toStringTag,{value:"Module"})),ELLIPSIS="…";function formatAddress(a){if(a.length<=6)return a;const s=a.startsWith("0x")?2:0;return`0x${a.slice(s,s+4)}${ELLIPSIS}${a.slice(-4)}`}function formatDigest(a){return`${a.slice(0,10)}${ELLIPSIS}`}const SUI_NS_NAME_REGEX=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH=235;function isValidSuiNSName(a){return a.length>MAX_SUI_NS_NAME_LENGTH?!1:a.includes("@")?SUI_NS_NAME_REGEX.test(a):SUI_NS_DOMAIN_REGEX.test(a)}function normalizeSuiNSName(a,s="at"){const et=a.toLowerCase();let nt;if(et.includes("@")){if(!SUI_NS_NAME_REGEX.test(et))throw new Error(`Invalid SuiNS name ${a}`);const[at,mt]=et.split("@");nt=[...at?at.split("."):[],mt]}else{if(!SUI_NS_DOMAIN_REGEX.test(et))throw new Error(`Invalid SuiNS name ${a}`);nt=et.split(".").slice(0,-1)}return s==="dot"?`${nt.join(".")}.sui`:`${nt.slice(0,-1).join(".")}@${nt[nt.length-1]}`}const SUI_DECIMALS=9,MIST_PER_SUI=BigInt(1e9),MOVE_STDLIB_ADDRESS="0x1",SUI_FRAMEWORK_ADDRESS="0x2",SUI_SYSTEM_ADDRESS="0x3",SUI_CLOCK_OBJECT_ID=normalizeSuiObjectId("0x6"),SUI_SYSTEM_MODULE_NAME="sui_system",SUI_TYPE_ARG=`${SUI_FRAMEWORK_ADDRESS}::sui::SUI`,SUI_SYSTEM_STATE_OBJECT_ID=normalizeSuiObjectId("0x5"),NAME_PATTERN=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX=/^\d+$/,MAX_APP_SIZE=64,NAME_SEPARATOR="/",isValidNamedPackage=a=>{const s=a.split(NAME_SEPARATOR);if(s.length<2||s.length>3)return!1;const[et,nt,at]=s;return at!==void 0&&!VERSION_REGEX.test(at)||!isValidSuiNSName(et)?!1:NAME_PATTERN.test(nt)&&nt.length<MAX_APP_SIZE},isValidNamedType=a=>{const s=a.split(/::|<|>|,/);for(const et of s)if(et.includes(NAME_SEPARATOR)&&!isValidNamedPackage(et))return!1;return!0};function anumber(a){if(!Number.isSafeInteger(a)||a<0)throw new Error("positive integer expected, got "+a)}function isBytes$1(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function abytes$1(a,...s){if(!isBytes$1(a))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(a.length))throw new Error("Uint8Array expected of length "+s+", got length="+a.length)}function ahash(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(a.outputLen),anumber(a.blockLen)}function aexists(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function aoutput(a,s){abytes$1(a);const et=s.outputLen;if(a.length<et)throw new Error("digestInto() expects output buffer of length at least "+et)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function u32(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function createView(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(a){return a<<24&4278190080|a<<8&16711680|a>>>8&65280|a>>>24&255}const byteSwapIfBE=isLE?a=>a:a=>byteSwap(a);function byteSwap32(a){for(let s=0;s<a.length;s++)a[s]=byteSwap(a[s])}const hexes$1=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$1(a){abytes$1(a);let s="";for(let et=0;et<a.length;et++)s+=hexes$1[a[et]];return s}function utf8ToBytes(a){if(typeof a!="string")throw new Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array(new TextEncoder().encode(a))}function toBytes(a){return typeof a=="string"&&(a=utf8ToBytes(a)),abytes$1(a),a}let Hash$1=class{clone(){return this._cloneInto()}};function checkOpts(a,s){if(s!==void 0&&{}.toString.call(s)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(a,s)}function wrapConstructor(a){const s=nt=>a().update(toBytes(nt)).digest(),et=a();return s.outputLen=et.outputLen,s.blockLen=et.blockLen,s.create=()=>a(),s}function wrapConstructorWithOpts(a){const s=(nt,at)=>a(at).update(toBytes(nt)).digest(),et=a({});return s.outputLen=et.outputLen,s.blockLen=et.blockLen,s.create=nt=>a(nt),s}function randomBytes(a=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(a));if(crypto$2&&typeof crypto$2.randomBytes=="function")return crypto$2.randomBytes(a);throw new Error("crypto.getRandomValues must be defined")}const SIGMA$1=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class BLAKE extends Hash$1{constructor(s,et,nt={},at,mt,wt){if(super(),this.blockLen=s,this.outputLen=et,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,anumber(s),anumber(et),anumber(at),et<0||et>at)throw new Error("outputLen bigger than keyLen");if(nt.key!==void 0&&(nt.key.length<1||nt.key.length>at))throw new Error("key length must be undefined or 1.."+at);if(nt.salt!==void 0&&nt.salt.length!==mt)throw new Error("salt must be undefined or "+mt);if(nt.personalization!==void 0&&nt.personalization.length!==wt)throw new Error("personalization must be undefined or "+wt);this.buffer=new Uint8Array(s),this.buffer32=u32(this.buffer)}update(s){aexists(this);const{blockLen:et,buffer:nt,buffer32:at}=this;s=toBytes(s);const mt=s.length,wt=s.byteOffset,$t=s.buffer;for(let Ct=0;Ct<mt;){this.pos===et&&(isLE||byteSwap32(at),this.compress(at,0,!1),isLE||byteSwap32(at),this.pos=0);const Dt=Math.min(et-this.pos,mt-Ct),Ft=wt+Ct;if(Dt===et&&!(Ft%4)&&Ct+Dt<mt){const jt=new Uint32Array($t,Ft,Math.floor((mt-Ct)/4));isLE||byteSwap32(jt);for(let Ut=0;Ct+et<mt;Ut+=at.length,Ct+=et)this.length+=et,this.compress(jt,Ut,!1);isLE||byteSwap32(jt);continue}nt.set(s.subarray(Ct,Ct+Dt),this.pos),this.pos+=Dt,this.length+=Dt,Ct+=Dt}return this}digestInto(s){aexists(this),aoutput(s,this);const{pos:et,buffer32:nt}=this;this.finished=!0,this.buffer.subarray(et).fill(0),isLE||byteSwap32(nt),this.compress(nt,0,!0),isLE||byteSwap32(nt);const at=u32(s);this.get().forEach((mt,wt)=>at[wt]=byteSwapIfBE(mt))}digest(){const{buffer:s,outputLen:et}=this;this.digestInto(s);const nt=s.slice(0,et);return this.destroy(),nt}_cloneInto(s){const{buffer:et,length:nt,finished:at,destroyed:mt,outputLen:wt,pos:$t}=this;return s||(s=new this.constructor({dkLen:wt})),s.set(...this.get()),s.length=nt,s.finished=at,s.destroyed=mt,s.outputLen=wt,s.buffer.set(et),s.pos=$t,s}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(a,s=!1){return s?{h:Number(a&U32_MASK64),l:Number(a>>_32n&U32_MASK64)}:{h:Number(a>>_32n&U32_MASK64)|0,l:Number(a&U32_MASK64)|0}}function split(a,s=!1){let et=new Uint32Array(a.length),nt=new Uint32Array(a.length);for(let at=0;at<a.length;at++){const{h:mt,l:wt}=fromBig(a[at],s);[et[at],nt[at]]=[mt,wt]}return[et,nt]}const toBig=(a,s)=>BigInt(a>>>0)<<_32n|BigInt(s>>>0),shrSH=(a,s,et)=>a>>>et,shrSL=(a,s,et)=>a<<32-et|s>>>et,rotrSH=(a,s,et)=>a>>>et|s<<32-et,rotrSL=(a,s,et)=>a<<32-et|s>>>et,rotrBH=(a,s,et)=>a<<64-et|s>>>et-32,rotrBL=(a,s,et)=>a>>>et-32|s<<64-et,rotr32H=(a,s)=>s,rotr32L=(a,s)=>a,rotlSH=(a,s,et)=>a<<et|s>>>32-et,rotlSL=(a,s,et)=>s<<et|a>>>32-et,rotlBH=(a,s,et)=>s<<et-32|a>>>64-et,rotlBL=(a,s,et)=>a<<et-32|s>>>64-et;function add$5(a,s,et,nt){const at=(s>>>0)+(nt>>>0);return{h:a+et+(at/2**32|0)|0,l:at|0}}const add3L=(a,s,et)=>(a>>>0)+(s>>>0)+(et>>>0),add3H=(a,s,et,nt)=>s+et+nt+(a/2**32|0)|0,add4L=(a,s,et,nt)=>(a>>>0)+(s>>>0)+(et>>>0)+(nt>>>0),add4H=(a,s,et,nt,at)=>s+et+nt+at+(a/2**32|0)|0,add5L=(a,s,et,nt,at)=>(a>>>0)+(s>>>0)+(et>>>0)+(nt>>>0)+(at>>>0),add5H=(a,s,et,nt,at,mt)=>s+et+nt+at+mt+(a/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add:add$5,add3L,add3H,add4L,add4H,add5H,add5L},B2B_IV=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),BBUF=new Uint32Array(32);function G1b(a,s,et,nt,at,mt){const wt=at[mt],$t=at[mt+1];let Ct=BBUF[2*a],Dt=BBUF[2*a+1],Ft=BBUF[2*s],jt=BBUF[2*s+1],Ut=BBUF[2*et],tr=BBUF[2*et+1],ir=BBUF[2*nt],sr=BBUF[2*nt+1],ur=u64.add3L(Ct,Ft,wt);Dt=u64.add3H(ur,Dt,jt,$t),Ct=ur|0,{Dh:sr,Dl:ir}={Dh:sr^Dt,Dl:ir^Ct},{Dh:sr,Dl:ir}={Dh:u64.rotr32H(sr,ir),Dl:u64.rotr32L(sr,ir)},{h:tr,l:Ut}=u64.add(tr,Ut,sr,ir),{Bh:jt,Bl:Ft}={Bh:jt^tr,Bl:Ft^Ut},{Bh:jt,Bl:Ft}={Bh:u64.rotrSH(jt,Ft,24),Bl:u64.rotrSL(jt,Ft,24)},BBUF[2*a]=Ct,BBUF[2*a+1]=Dt,BBUF[2*s]=Ft,BBUF[2*s+1]=jt,BBUF[2*et]=Ut,BBUF[2*et+1]=tr,BBUF[2*nt]=ir,BBUF[2*nt+1]=sr}function G2b(a,s,et,nt,at,mt){const wt=at[mt],$t=at[mt+1];let Ct=BBUF[2*a],Dt=BBUF[2*a+1],Ft=BBUF[2*s],jt=BBUF[2*s+1],Ut=BBUF[2*et],tr=BBUF[2*et+1],ir=BBUF[2*nt],sr=BBUF[2*nt+1],ur=u64.add3L(Ct,Ft,wt);Dt=u64.add3H(ur,Dt,jt,$t),Ct=ur|0,{Dh:sr,Dl:ir}={Dh:sr^Dt,Dl:ir^Ct},{Dh:sr,Dl:ir}={Dh:u64.rotrSH(sr,ir,16),Dl:u64.rotrSL(sr,ir,16)},{h:tr,l:Ut}=u64.add(tr,Ut,sr,ir),{Bh:jt,Bl:Ft}={Bh:jt^tr,Bl:Ft^Ut},{Bh:jt,Bl:Ft}={Bh:u64.rotrBH(jt,Ft,63),Bl:u64.rotrBL(jt,Ft,63)},BBUF[2*a]=Ct,BBUF[2*a+1]=Dt,BBUF[2*s]=Ft,BBUF[2*s+1]=jt,BBUF[2*et]=Ut,BBUF[2*et+1]=tr,BBUF[2*nt]=ir,BBUF[2*nt+1]=sr}class BLAKE2b extends BLAKE{constructor(s={}){super(128,s.dkLen===void 0?64:s.dkLen,s,64,16,16),this.v0l=B2B_IV[0]|0,this.v0h=B2B_IV[1]|0,this.v1l=B2B_IV[2]|0,this.v1h=B2B_IV[3]|0,this.v2l=B2B_IV[4]|0,this.v2h=B2B_IV[5]|0,this.v3l=B2B_IV[6]|0,this.v3h=B2B_IV[7]|0,this.v4l=B2B_IV[8]|0,this.v4h=B2B_IV[9]|0,this.v5l=B2B_IV[10]|0,this.v5h=B2B_IV[11]|0,this.v6l=B2B_IV[12]|0,this.v6h=B2B_IV[13]|0,this.v7l=B2B_IV[14]|0,this.v7h=B2B_IV[15]|0;const et=s.key?s.key.length:0;if(this.v0l^=this.outputLen|et<<8|65536|1<<24,s.salt){const nt=u32(toBytes(s.salt));this.v4l^=byteSwapIfBE(nt[0]),this.v4h^=byteSwapIfBE(nt[1]),this.v5l^=byteSwapIfBE(nt[2]),this.v5h^=byteSwapIfBE(nt[3])}if(s.personalization){const nt=u32(toBytes(s.personalization));this.v6l^=byteSwapIfBE(nt[0]),this.v6h^=byteSwapIfBE(nt[1]),this.v7l^=byteSwapIfBE(nt[2]),this.v7h^=byteSwapIfBE(nt[3])}if(s.key){const nt=new Uint8Array(this.blockLen);nt.set(toBytes(s.key)),this.update(nt)}}get(){let{v0l:s,v0h:et,v1l:nt,v1h:at,v2l:mt,v2h:wt,v3l:$t,v3h:Ct,v4l:Dt,v4h:Ft,v5l:jt,v5h:Ut,v6l:tr,v6h:ir,v7l:sr,v7h:ur}=this;return[s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr,ir,sr,ur]}set(s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr,ir,sr,ur){this.v0l=s|0,this.v0h=et|0,this.v1l=nt|0,this.v1h=at|0,this.v2l=mt|0,this.v2h=wt|0,this.v3l=$t|0,this.v3h=Ct|0,this.v4l=Dt|0,this.v4h=Ft|0,this.v5l=jt|0,this.v5h=Ut|0,this.v6l=tr|0,this.v6h=ir|0,this.v7l=sr|0,this.v7h=ur|0}compress(s,et,nt){this.get().forEach((Ct,Dt)=>BBUF[Dt]=Ct),BBUF.set(B2B_IV,16);let{h:at,l:mt}=u64.fromBig(BigInt(this.length));BBUF[24]=B2B_IV[8]^mt,BBUF[25]=B2B_IV[9]^at,nt&&(BBUF[28]=~BBUF[28],BBUF[29]=~BBUF[29]);let wt=0;const $t=SIGMA$1;for(let Ct=0;Ct<12;Ct++)G1b(0,4,8,12,s,et+2*$t[wt++]),G2b(0,4,8,12,s,et+2*$t[wt++]),G1b(1,5,9,13,s,et+2*$t[wt++]),G2b(1,5,9,13,s,et+2*$t[wt++]),G1b(2,6,10,14,s,et+2*$t[wt++]),G2b(2,6,10,14,s,et+2*$t[wt++]),G1b(3,7,11,15,s,et+2*$t[wt++]),G2b(3,7,11,15,s,et+2*$t[wt++]),G1b(0,5,10,15,s,et+2*$t[wt++]),G2b(0,5,10,15,s,et+2*$t[wt++]),G1b(1,6,11,12,s,et+2*$t[wt++]),G2b(1,6,11,12,s,et+2*$t[wt++]),G1b(2,7,8,13,s,et+2*$t[wt++]),G2b(2,7,8,13,s,et+2*$t[wt++]),G1b(3,4,9,14,s,et+2*$t[wt++]),G2b(3,4,9,14,s,et+2*$t[wt++]);this.v0l^=BBUF[0]^BBUF[16],this.v0h^=BBUF[1]^BBUF[17],this.v1l^=BBUF[2]^BBUF[18],this.v1h^=BBUF[3]^BBUF[19],this.v2l^=BBUF[4]^BBUF[20],this.v2h^=BBUF[5]^BBUF[21],this.v3l^=BBUF[6]^BBUF[22],this.v3h^=BBUF[7]^BBUF[23],this.v4l^=BBUF[8]^BBUF[24],this.v4h^=BBUF[9]^BBUF[25],this.v5l^=BBUF[10]^BBUF[26],this.v5h^=BBUF[11]^BBUF[27],this.v6l^=BBUF[12]^BBUF[28],this.v6h^=BBUF[13]^BBUF[29],this.v7l^=BBUF[14]^BBUF[30],this.v7h^=BBUF[15]^BBUF[31],BBUF.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const blake2b$1=wrapConstructorWithOpts(a=>new BLAKE2b(a));function deriveDynamicFieldID(a,s,et){const nt=suiBcs.Address.serialize(a).toBytes(),at=suiBcs.TypeTag.serialize(s).toBytes(),mt=suiBcs.u64().serialize(et.length).toBytes(),wt=blake2b$1.create({dkLen:32});return wt.update(new Uint8Array([240])),wt.update(nt),wt.update(mt),wt.update(et),wt.update(at),`0x${toHex$2(wt.digest().slice(0,32))}`}const utils$7=Object.freeze(Object.defineProperty({__proto__:null,MIST_PER_SUI,MOVE_STDLIB_ADDRESS,SUI_ADDRESS_LENGTH,SUI_CLOCK_OBJECT_ID,SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG,deriveDynamicFieldID,formatAddress,formatDigest,fromB64,fromBase58,fromBase64,fromHEX,fromHex,isValidNamedPackage,isValidNamedType,isValidSuiAddress,isValidSuiNSName,isValidSuiObjectId,isValidTransactionDigest,normalizeStructTag,normalizeSuiAddress,normalizeSuiNSName,normalizeSuiObjectId,parseStructTag,toB64,toBase58,toBase64,toHEX,toHex:toHex$2},Symbol.toStringTag,{value:"Module"})),OBJECT_MODULE_NAME="object",ID_STRUCT_NAME="ID",STD_ASCII_MODULE_NAME="ascii",STD_ASCII_STRUCT_NAME="String",STD_UTF8_MODULE_NAME="string",STD_UTF8_STRUCT_NAME="String",STD_OPTION_MODULE_NAME="option",STD_OPTION_STRUCT_NAME="Option";function isTxContext(a){const s=typeof a.body=="object"&&"datatype"in a.body?a.body.datatype:null;return!!s&&normalizeSuiAddress(s.package)===normalizeSuiAddress("0x2")&&s.module==="tx_context"&&s.type==="TxContext"}function getPureBcsSchema(a){if(typeof a=="string")switch(a){case"address":return suiBcs.Address;case"bool":return suiBcs.Bool;case"u8":return suiBcs.U8;case"u16":return suiBcs.U16;case"u32":return suiBcs.U32;case"u64":return suiBcs.U64;case"u128":return suiBcs.U128;case"u256":return suiBcs.U256;default:throw new Error(`Unknown type signature ${a}`)}if("vector"in a){if(a.vector==="u8")return suiBcs.vector(suiBcs.U8).transform({input:et=>typeof et=="string"?new TextEncoder().encode(et):et,output:et=>et});const s=getPureBcsSchema(a.vector);return s?suiBcs.vector(s):null}if("datatype"in a){const s=normalizeSuiAddress(a.datatype.package);if(s===normalizeSuiAddress(MOVE_STDLIB_ADDRESS)){if(a.datatype.module===STD_ASCII_MODULE_NAME&&a.datatype.type===STD_ASCII_STRUCT_NAME||a.datatype.module===STD_UTF8_MODULE_NAME&&a.datatype.type===STD_UTF8_STRUCT_NAME)return suiBcs.String;if(a.datatype.module===STD_OPTION_MODULE_NAME&&a.datatype.type===STD_OPTION_STRUCT_NAME){const et=getPureBcsSchema(a.datatype.typeParameters[0]);return et?suiBcs.vector(et):null}}if(s===normalizeSuiAddress(SUI_FRAMEWORK_ADDRESS)&&a.datatype.module===OBJECT_MODULE_NAME&&a.datatype.type===ID_STRUCT_NAME)return suiBcs.Address}return null}function normalizedTypeToMoveTypeSignature(a){return typeof a=="object"&&"Reference"in a?{ref:"&",body:normalizedTypeToMoveTypeSignatureBody(a.Reference)}:typeof a=="object"&&"MutableReference"in a?{ref:"&mut",body:normalizedTypeToMoveTypeSignatureBody(a.MutableReference)}:{ref:null,body:normalizedTypeToMoveTypeSignatureBody(a)}}function normalizedTypeToMoveTypeSignatureBody(a){if(typeof a=="string")switch(a){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${a}`)}if("Vector"in a)return{vector:normalizedTypeToMoveTypeSignatureBody(a.Vector)};if("Struct"in a)return{datatype:{package:a.Struct.address,module:a.Struct.module,type:a.Struct.name,typeParameters:a.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody)}};if("TypeParameter"in a)return{typeParameter:a.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(a)}`)}function Pure(a){return{$kind:"Pure",Pure:{bytes:a instanceof Uint8Array?toBase64(a):a.toBase64()}}}const Inputs={Pure,ObjectRef({objectId:a,digest:s,version:et}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:s,version:et,objectId:normalizeSuiAddress(a)}}}},SharedObjectRef({objectId:a,mutable:s,initialSharedVersion:et}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:s,initialSharedVersion:et,objectId:normalizeSuiAddress(a)}}}},ReceivingRef({objectId:a,digest:s,version:et}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:s,version:et,objectId:normalizeSuiAddress(a)}}}}};var UUID_REGEX=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,store$d;function getGlobalConfig(a){return{lang:(a==null?void 0:a.lang)??(store$d==null?void 0:store$d.lang),message:a==null?void 0:a.message,abortEarly:(a==null?void 0:a.abortEarly)??(store$d==null?void 0:store$d.abortEarly),abortPipeEarly:(a==null?void 0:a.abortPipeEarly)??(store$d==null?void 0:store$d.abortPipeEarly)}}var store2;function getGlobalMessage(a){return store2==null?void 0:store2.get(a)}var store3;function getSchemaMessage(a){return store3==null?void 0:store3.get(a)}var store4;function getSpecificMessage(a,s){var et;return(et=store4==null?void 0:store4.get(a))==null?void 0:et.get(s)}function _stringify(a){var et,nt;const s=typeof a;return s==="string"?`"${a}"`:s==="number"||s==="bigint"||s==="boolean"?`${a}`:s==="object"||s==="function"?(a&&((nt=(et=Object.getPrototypeOf(a))==null?void 0:et.constructor)==null?void 0:nt.name))??"null":s}function _addIssue(a,s,et,nt,at){const mt=at&&"input"in at?at.input:et.value,wt=(at==null?void 0:at.expected)??a.expects??null,$t=(at==null?void 0:at.received)??_stringify(mt),Ct={kind:a.kind,type:a.type,input:mt,expected:wt,received:$t,message:`Invalid ${s}: ${wt?`Expected ${wt} but r`:"R"}eceived ${$t}`,requirement:a.requirement,path:at==null?void 0:at.path,issues:at==null?void 0:at.issues,lang:nt.lang,abortEarly:nt.abortEarly,abortPipeEarly:nt.abortPipeEarly},Dt=a.kind==="schema",Ft=(at==null?void 0:at.message)??a.message??getSpecificMessage(a.reference,Ct.lang)??(Dt?getSchemaMessage(Ct.lang):null)??nt.message??getGlobalMessage(Ct.lang);Ft&&(Ct.message=typeof Ft=="function"?Ft(Ct):Ft),Dt&&(et.typed=!1),et.issues?et.issues.push(Ct):et.issues=[Ct]}function _isValidObjectKey(a,s){return Object.hasOwn(a,s)&&s!=="__proto__"&&s!=="prototype"&&s!=="constructor"}var ValiError=class extends Error{constructor(s){super(s[0].message);Yn(this,"issues");this.name="ValiError",this.issues=s}};function check$1(a,s){return{kind:"validation",type:"check",reference:check$1,async:!1,expects:null,requirement:a,message:s,_run(et,nt){return et.typed&&!this.requirement(et.value)&&_addIssue(this,"input",et,nt),et}}}function integer(a){return{kind:"validation",type:"integer",reference:integer,async:!1,expects:null,requirement:Number.isInteger,message:a,_run(s,et){return s.typed&&!this.requirement(s.value)&&_addIssue(this,"integer",s,et),s}}}function transform$2(a){return{kind:"transformation",type:"transform",reference:transform$2,async:!1,operation:a,_run(s){return s.value=this.operation(s.value),s}}}function url(a){return{kind:"validation",type:"url",reference:url,async:!1,expects:null,requirement(s){try{return new URL(s),!0}catch{return!1}},message:a,_run(s,et){return s.typed&&!this.requirement(s.value)&&_addIssue(this,"URL",s,et),s}}}function uuid(a){return{kind:"validation",type:"uuid",reference:uuid,async:!1,expects:null,requirement:UUID_REGEX,message:a,_run(s,et){return s.typed&&!this.requirement.test(s.value)&&_addIssue(this,"UUID",s,et),s}}}function getDefault(a,s,et){return typeof a.default=="function"?a.default(s,et):a.default}function is(a,s){return!a._run({typed:!1,value:s},{abortEarly:!0}).issues}function array(a,s){return{kind:"schema",type:"array",reference:array,expects:"Array",async:!1,item:a,message:s,_run(et,nt){var mt;const at=et.value;if(Array.isArray(at)){et.typed=!0,et.value=[];for(let wt=0;wt<at.length;wt++){const $t=at[wt],Ct=this.item._run({typed:!1,value:$t},nt);if(Ct.issues){const Dt={type:"array",origin:"value",input:at,key:wt,value:$t};for(const Ft of Ct.issues)Ft.path?Ft.path.unshift(Dt):Ft.path=[Dt],(mt=et.issues)==null||mt.push(Ft);if(et.issues||(et.issues=Ct.issues),nt.abortEarly){et.typed=!1;break}}Ct.typed||(et.typed=!1),et.value.push(Ct.value)}}else _addIssue(this,"type",et,nt);return et}}}function bigint(a){return{kind:"schema",type:"bigint",reference:bigint,expects:"bigint",async:!1,message:a,_run(s,et){return typeof s.value=="bigint"?s.typed=!0:_addIssue(this,"type",s,et),s}}}function boolean(a){return{kind:"schema",type:"boolean",reference:boolean,expects:"boolean",async:!1,message:a,_run(s,et){return typeof s.value=="boolean"?s.typed=!0:_addIssue(this,"type",s,et),s}}}function lazy(a){return{kind:"schema",type:"lazy",reference:lazy,expects:"unknown",async:!1,getter:a,_run(s,et){return this.getter(s.value)._run(s,et)}}}function literal(a,s){return{kind:"schema",type:"literal",reference:literal,expects:_stringify(a),async:!1,literal:a,message:s,_run(et,nt){return et.value===this.literal?et.typed=!0:_addIssue(this,"type",et,nt),et}}}function nullable(a,...s){const et={kind:"schema",type:"nullable",reference:nullable,expects:`${a.expects} | null`,async:!1,wrapped:a,_run(nt,at){return nt.value===null&&("default"in this&&(nt.value=getDefault(this,nt,at)),nt.value===null)?(nt.typed=!0,nt):this.wrapped._run(nt,at)}};return 0 in s&&(et.default=s[0]),et}function nullish(a,...s){const et={kind:"schema",type:"nullish",reference:nullish,expects:`${a.expects} | null | undefined`,async:!1,wrapped:a,_run(nt,at){return(nt.value===null||nt.value===void 0)&&("default"in this&&(nt.value=getDefault(this,nt,at)),nt.value===null||nt.value===void 0)?(nt.typed=!0,nt):this.wrapped._run(nt,at)}};return 0 in s&&(et.default=s[0]),et}function number$1(a){return{kind:"schema",type:"number",reference:number$1,expects:"number",async:!1,message:a,_run(s,et){return typeof s.value=="number"&&!isNaN(s.value)?s.typed=!0:_addIssue(this,"type",s,et),s}}}function object$1(a,s){return{kind:"schema",type:"object",reference:object$1,expects:"Object",async:!1,entries:a,message:s,_run(et,nt){var mt;const at=et.value;if(at&&typeof at=="object"){et.typed=!0,et.value={};for(const wt in this.entries){const $t=at[wt],Ct=this.entries[wt]._run({typed:!1,value:$t},nt);if(Ct.issues){const Dt={type:"object",origin:"value",input:at,key:wt,value:$t};for(const Ft of Ct.issues)Ft.path?Ft.path.unshift(Dt):Ft.path=[Dt],(mt=et.issues)==null||mt.push(Ft);if(et.issues||(et.issues=Ct.issues),nt.abortEarly){et.typed=!1;break}}Ct.typed||(et.typed=!1),(Ct.value!==void 0||wt in at)&&(et.value[wt]=Ct.value)}}else _addIssue(this,"type",et,nt);return et}}}function optional(a,...s){const et={kind:"schema",type:"optional",reference:optional,expects:`${a.expects} | undefined`,async:!1,wrapped:a,_run(nt,at){return nt.value===void 0&&("default"in this&&(nt.value=getDefault(this,nt,at)),nt.value===void 0)?(nt.typed=!0,nt):this.wrapped._run(nt,at)}};return 0 in s&&(et.default=s[0]),et}function record(a,s,et){return{kind:"schema",type:"record",reference:record,expects:"Object",async:!1,key:a,value:s,message:et,_run(nt,at){var wt,$t;const mt=nt.value;if(mt&&typeof mt=="object"){nt.typed=!0,nt.value={};for(const Ct in mt)if(_isValidObjectKey(mt,Ct)){const Dt=mt[Ct],Ft=this.key._run({typed:!1,value:Ct},at);if(Ft.issues){const Ut={type:"object",origin:"key",input:mt,key:Ct,value:Dt};for(const tr of Ft.issues)tr.path=[Ut],(wt=nt.issues)==null||wt.push(tr);if(nt.issues||(nt.issues=Ft.issues),at.abortEarly){nt.typed=!1;break}}const jt=this.value._run({typed:!1,value:Dt},at);if(jt.issues){const Ut={type:"object",origin:"value",input:mt,key:Ct,value:Dt};for(const tr of jt.issues)tr.path?tr.path.unshift(Ut):tr.path=[Ut],($t=nt.issues)==null||$t.push(tr);if(nt.issues||(nt.issues=jt.issues),at.abortEarly){nt.typed=!1;break}}(!Ft.typed||!jt.typed)&&(nt.typed=!1),Ft.typed&&(nt.value[Ft.value]=jt.value)}}else _addIssue(this,"type",nt,at);return nt}}}function string(a){return{kind:"schema",type:"string",reference:string,expects:"string",async:!1,message:a,_run(s,et){return typeof s.value=="string"?s.typed=!0:_addIssue(this,"type",s,et),s}}}function tuple(a,s){return{kind:"schema",type:"tuple",reference:tuple,expects:"Array",async:!1,items:a,message:s,_run(et,nt){var mt;const at=et.value;if(Array.isArray(at)){et.typed=!0,et.value=[];for(let wt=0;wt<this.items.length;wt++){const $t=at[wt],Ct=this.items[wt]._run({typed:!1,value:$t},nt);if(Ct.issues){const Dt={type:"array",origin:"value",input:at,key:wt,value:$t};for(const Ft of Ct.issues)Ft.path?Ft.path.unshift(Dt):Ft.path=[Dt],(mt=et.issues)==null||mt.push(Ft);if(et.issues||(et.issues=Ct.issues),nt.abortEarly){et.typed=!1;break}}Ct.typed||(et.typed=!1),et.value.push(Ct.value)}}else _addIssue(this,"type",et,nt);return et}}}function _subIssues(a){let s;if(a)for(const et of a)s?s.push(...et.issues):s=et.issues;return s}function union(a,s){return{kind:"schema",type:"union",reference:union,expects:[...new Set(a.map(et=>et.expects))].join(" | ")||"never",async:!1,options:a,message:s,_run(et,nt){let at,mt,wt;for(const $t of this.options){const Ct=$t._run({typed:!1,value:et.value},nt);if(Ct.typed)if(Ct.issues)mt?mt.push(Ct):mt=[Ct];else{at=Ct;break}else wt?wt.push(Ct):wt=[Ct]}if(at)return at;if(mt){if(mt.length===1)return mt[0];_addIssue(this,"type",et,nt,{issues:_subIssues(mt)}),et.typed=!0}else{if((wt==null?void 0:wt.length)===1)return wt[0];_addIssue(this,"type",et,nt,{issues:_subIssues(wt)})}return et}}}function unknown(){return{kind:"schema",type:"unknown",reference:unknown,expects:"unknown",async:!1,_run(a){return a.typed=!0,a}}}function _discriminators(a,s,et=new Set){for(const nt of s)nt.type==="variant"?_discriminators(a,nt.options,et):et.add(nt.entries[a].expects);return et}function variant(a,s,et){let nt;return{kind:"schema",type:"variant",reference:variant,expects:"Object",async:!1,key:a,options:s,message:et,_run(at,mt){const wt=at.value;if(wt&&typeof wt=="object"){const $t=wt[this.key];if(this.key in wt){let Ct;for(const Dt of this.options)if(Dt.type==="variant"||!Dt.entries[this.key]._run({typed:!1,value:$t},mt).issues){const Ft=Dt._run({typed:!1,value:wt},mt);if(!Ft.issues)return Ft;(!Ct||!Ct.typed&&Ft.typed)&&(Ct=Ft)}if(Ct)return Ct}nt||(nt=[..._discriminators(this.key,this.options)].join(" | ")||"never"),_addIssue(this,"type",at,mt,{input:$t,expected:nt,path:[{type:"object",origin:"value",input:wt,key:this.key,value:$t}]})}else _addIssue(this,"type",at,mt);return at}}}function parse$2(a,s,et){const nt=a._run({typed:!1,value:s},getGlobalConfig(et));if(nt.issues)throw new ValiError(nt.issues);return nt.value}function pipe$4(...a){return{...a[0],pipe:a,_run(s,et){for(let nt=0;nt<a.length;nt++){if(s.issues&&(a[nt].kind==="schema"||a[nt].kind==="transformation")){s.typed=!1;break}(!s.issues||!et.abortEarly&&!et.abortPipeEarly)&&(s=a[nt]._run(s,et))}return s}}}function safeParse(a,s,et){const nt=a._run({typed:!1,value:s},getGlobalConfig(et));return{typed:nt.typed,success:!nt.issues,output:nt.value,issues:nt.issues}}function safeEnum(a){const s=Object.entries(a).map(([et,nt])=>object$1({[et]:nt}));return pipe$4(union(s),transform$2(et=>({...et,$kind:Object.keys(et)[0]})))}const SuiAddress=pipe$4(string(),transform$2(a=>normalizeSuiAddress(a)),check$1(isValidSuiAddress)),ObjectID=SuiAddress,BCSBytes=string(),JsonU64=pipe$4(union([string(),pipe$4(number$1(),integer())]),check$1(a=>{try{return BigInt(a),BigInt(a)>=0&&BigInt(a)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ObjectRef$1=object$1({objectId:SuiAddress,version:JsonU64,digest:string()}),Argument$1=pipe$4(union([object$1({GasCoin:literal(!0)}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("pure"))}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("object"))}),object$1({Result:pipe$4(number$1(),integer())}),object$1({NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])})]),transform$2(a=>({...a,$kind:Object.keys(a)[0]}))),GasData$1=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),OpenMoveTypeSignatureBody=union([literal("address"),literal("bool"),literal("u8"),literal("u16"),literal("u32"),literal("u64"),literal("u128"),literal("u256"),object$1({vector:lazy(()=>OpenMoveTypeSignatureBody)}),object$1({datatype:object$1({package:string(),module:string(),type:string(),typeParameters:array(lazy(()=>OpenMoveTypeSignatureBody))})}),object$1({typeParameter:pipe$4(number$1(),integer())})]),OpenMoveTypeSignature=object$1({ref:nullable(union([literal("&"),literal("&mut")])),body:OpenMoveTypeSignatureBody}),ProgrammableMoveCall$1=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$1),_argumentTypes:optional(nullable(array(OpenMoveTypeSignature)))}),$Intent$1=object$1({name:string(),inputs:record(string(),union([Argument$1,array(Argument$1)])),data:record(string(),unknown())}),Command$1=safeEnum({MoveCall:ProgrammableMoveCall$1,TransferObjects:object$1({objects:array(Argument$1),address:Argument$1}),SplitCoins:object$1({coin:Argument$1,amounts:array(Argument$1)}),MergeCoins:object$1({destination:Argument$1,sources:array(Argument$1)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$1)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$1}),$Intent:$Intent$1}),ObjectArg$2=safeEnum({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$1=safeEnum({Object:ObjectArg$2,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),NormalizedCallArg$1=safeEnum({Object:ObjectArg$2,Pure:object$1({bytes:BCSBytes})}),TransactionExpiration$2=safeEnum({None:literal(!0),Epoch:JsonU64}),TransactionData=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$2),gasData:GasData$1,inputs:array(CallArg$1),commands:array(Command$1)}),Commands={MoveCall(a){const[s,et="",nt=""]="target"in a?a.target.split("::"):[a.package,a.module,a.function];return{$kind:"MoveCall",MoveCall:{package:s,module:et,function:nt,typeArguments:a.typeArguments??[],arguments:a.arguments??[]}}},TransferObjects(a,s){return{$kind:"TransferObjects",TransferObjects:{objects:a.map(et=>parse$2(Argument$1,et)),address:parse$2(Argument$1,s)}}},SplitCoins(a,s){return{$kind:"SplitCoins",SplitCoins:{coin:parse$2(Argument$1,a),amounts:s.map(et=>parse$2(Argument$1,et))}}},MergeCoins(a,s){return{$kind:"MergeCoins",MergeCoins:{destination:parse$2(Argument$1,a),sources:s.map(et=>parse$2(Argument$1,et))}}},Publish({modules:a,dependencies:s}){return{$kind:"Publish",Publish:{modules:a.map(et=>typeof et=="string"?et:toBase64(new Uint8Array(et))),dependencies:s.map(et=>normalizeSuiObjectId(et))}}},Upgrade({modules:a,dependencies:s,package:et,ticket:nt}){return{$kind:"Upgrade",Upgrade:{modules:a.map(at=>typeof at=="string"?at:toBase64(new Uint8Array(at))),dependencies:s.map(at=>normalizeSuiObjectId(at)),package:et,ticket:parse$2(Argument$1,nt)}}},MakeMoveVec({type:a,elements:s}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:a??null,elements:s.map(et=>parse$2(Argument$1,et))}}},Intent({name:a,inputs:s={},data:et={}}){return{$kind:"$Intent",$Intent:{name:a,inputs:Object.fromEntries(Object.entries(s).map(([nt,at])=>[nt,Array.isArray(at)?at.map(mt=>parse$2(Argument$1,mt)):parse$2(Argument$1,at)])),data:et}}}},ObjectRef=object$1({digest:string(),objectId:string(),version:union([pipe$4(number$1(),integer()),string(),bigint()])}),ObjectArg$1=safeEnum({ImmOrOwned:ObjectRef,Shared:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef}),NormalizedCallArg=safeEnum({Object:ObjectArg$1,Pure:array(pipe$4(number$1(),integer()))}),TransactionInput=union([object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:optional(literal("object"))}),object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:literal("pure")})]),TransactionExpiration$1=union([object$1({Epoch:pipe$4(number$1(),integer())}),object$1({None:nullable(literal(!0))})]),StringEncodedBigint=pipe$4(union([number$1(),string(),bigint()]),check$1(a=>{if(!["string","number","bigint"].includes(typeof a))return!1;try{return BigInt(a),!0}catch{return!1}})),TypeTag=union([object$1({bool:nullable(literal(!0))}),object$1({u8:nullable(literal(!0))}),object$1({u64:nullable(literal(!0))}),object$1({u128:nullable(literal(!0))}),object$1({address:nullable(literal(!0))}),object$1({signer:nullable(literal(!0))}),object$1({vector:lazy(()=>TypeTag)}),object$1({struct:lazy(()=>StructTag)}),object$1({u16:nullable(literal(!0))}),object$1({u32:nullable(literal(!0))}),object$1({u256:nullable(literal(!0))})]),StructTag=object$1({address:string(),module:string(),name:string(),typeParams:array(TypeTag)}),GasConfig=object$1({budget:optional(StringEncodedBigint),price:optional(StringEncodedBigint),payment:optional(array(ObjectRef)),owner:optional(string())}),TransactionArgumentTypes=[TransactionInput,object$1({kind:literal("GasCoin")}),object$1({kind:literal("Result"),index:pipe$4(number$1(),integer())}),object$1({kind:literal("NestedResult"),index:pipe$4(number$1(),integer()),resultIndex:pipe$4(number$1(),integer())})],TransactionArgument=union([...TransactionArgumentTypes]),MoveCallTransaction=object$1({kind:literal("MoveCall"),target:pipe$4(string(),check$1(a=>a.split("::").length===3)),typeArguments:array(string()),arguments:array(TransactionArgument)}),TransferObjectsTransaction=object$1({kind:literal("TransferObjects"),objects:array(TransactionArgument),address:TransactionArgument}),SplitCoinsTransaction=object$1({kind:literal("SplitCoins"),coin:TransactionArgument,amounts:array(TransactionArgument)}),MergeCoinsTransaction=object$1({kind:literal("MergeCoins"),destination:TransactionArgument,sources:array(TransactionArgument)}),MakeMoveVecTransaction=object$1({kind:literal("MakeMoveVec"),type:union([object$1({Some:TypeTag}),object$1({None:nullable(literal(!0))})]),objects:array(TransactionArgument)}),PublishTransaction=object$1({kind:literal("Publish"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string())}),UpgradeTransaction=object$1({kind:literal("Upgrade"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string()),packageId:string(),ticket:TransactionArgument}),TransactionTypes=[MoveCallTransaction,TransferObjectsTransaction,SplitCoinsTransaction,MergeCoinsTransaction,PublishTransaction,UpgradeTransaction,MakeMoveVecTransaction],TransactionType=union([...TransactionTypes]);object$1({version:literal(1),sender:optional(string()),expiration:nullish(TransactionExpiration$1),gasConfig:GasConfig,inputs:array(TransactionInput),transactions:array(TransactionType)});function serializeV1TransactionData(a){var et;const s=a.inputs.map((nt,at)=>{if(nt.Object)return{kind:"Input",index:at,value:{Object:nt.Object.ImmOrOwnedObject?{ImmOrOwned:nt.Object.ImmOrOwnedObject}:nt.Object.Receiving?{Receiving:{digest:nt.Object.Receiving.digest,version:nt.Object.Receiving.version,objectId:nt.Object.Receiving.objectId}}:{Shared:{mutable:nt.Object.SharedObject.mutable,initialSharedVersion:nt.Object.SharedObject.initialSharedVersion,objectId:nt.Object.SharedObject.objectId}}},type:"object"};if(nt.Pure)return{kind:"Input",index:at,value:{Pure:Array.from(fromBase64(nt.Pure.bytes))},type:"pure"};if(nt.UnresolvedPure)return{kind:"Input",type:"pure",index:at,value:nt.UnresolvedPure.value};if(nt.UnresolvedObject)return{kind:"Input",type:"object",index:at,value:nt.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:a.sender??void 0,expiration:((et=a.expiration)==null?void 0:et.$kind)==="Epoch"?{Epoch:Number(a.expiration.Epoch)}:a.expiration?{None:!0}:null,gasConfig:{owner:a.gasData.owner??void 0,budget:a.gasData.budget??void 0,price:a.gasData.price??void 0,payment:a.gasData.payment??void 0},inputs:s,transactions:a.commands.map(nt=>{if(nt.MakeMoveVec)return{kind:"MakeMoveVec",type:nt.MakeMoveVec.type===null?{None:!0}:{Some:TypeTagSerializer.parseFromStr(nt.MakeMoveVec.type)},objects:nt.MakeMoveVec.elements.map(at=>convertTransactionArgument(at,s))};if(nt.MergeCoins)return{kind:"MergeCoins",destination:convertTransactionArgument(nt.MergeCoins.destination,s),sources:nt.MergeCoins.sources.map(at=>convertTransactionArgument(at,s))};if(nt.MoveCall)return{kind:"MoveCall",target:`${nt.MoveCall.package}::${nt.MoveCall.module}::${nt.MoveCall.function}`,typeArguments:nt.MoveCall.typeArguments,arguments:nt.MoveCall.arguments.map(at=>convertTransactionArgument(at,s))};if(nt.Publish)return{kind:"Publish",modules:nt.Publish.modules.map(at=>Array.from(fromBase64(at))),dependencies:nt.Publish.dependencies};if(nt.SplitCoins)return{kind:"SplitCoins",coin:convertTransactionArgument(nt.SplitCoins.coin,s),amounts:nt.SplitCoins.amounts.map(at=>convertTransactionArgument(at,s))};if(nt.TransferObjects)return{kind:"TransferObjects",objects:nt.TransferObjects.objects.map(at=>convertTransactionArgument(at,s)),address:convertTransactionArgument(nt.TransferObjects.address,s)};if(nt.Upgrade)return{kind:"Upgrade",modules:nt.Upgrade.modules.map(at=>Array.from(fromBase64(at))),dependencies:nt.Upgrade.dependencies,packageId:nt.Upgrade.package,ticket:convertTransactionArgument(nt.Upgrade.ticket,s)};throw new Error(`Unknown transaction ${Object.keys(nt)}`)})}}function convertTransactionArgument(a,s){if(a.$kind==="GasCoin")return{kind:"GasCoin"};if(a.$kind==="Result")return{kind:"Result",index:a.Result};if(a.$kind==="NestedResult")return{kind:"NestedResult",index:a.NestedResult[0],resultIndex:a.NestedResult[1]};if(a.$kind==="Input")return s[a.Input];throw new Error(`Invalid argument ${Object.keys(a)}`)}function transactionDataFromV1(a){var s,et,nt;return parse$2(TransactionData,{version:2,sender:a.sender??null,expiration:a.expiration?"Epoch"in a.expiration?{Epoch:a.expiration.Epoch}:{None:!0}:null,gasData:{owner:a.gasConfig.owner??null,budget:((s=a.gasConfig.budget)==null?void 0:s.toString())??null,price:((et=a.gasConfig.price)==null?void 0:et.toString())??null,payment:((nt=a.gasConfig.payment)==null?void 0:nt.map(at=>({digest:at.digest,objectId:at.objectId,version:at.version.toString()})))??null},inputs:a.inputs.map(at=>{if(at.kind==="Input"){if(is(NormalizedCallArg,at.value)){const mt=parse$2(NormalizedCallArg,at.value);if(mt.Object){if(mt.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:mt.Object.ImmOrOwned.objectId,version:String(mt.Object.ImmOrOwned.version),digest:mt.Object.ImmOrOwned.digest}}};if(mt.Object.Shared)return{Object:{SharedObject:{mutable:mt.Object.Shared.mutable??null,initialSharedVersion:mt.Object.Shared.initialSharedVersion,objectId:mt.Object.Shared.objectId}}};if(mt.Object.Receiving)return{Object:{Receiving:{digest:mt.Object.Receiving.digest,version:String(mt.Object.Receiving.version),objectId:mt.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:toBase64(new Uint8Array(mt.Pure))}}}return at.type==="object"?{UnresolvedObject:{objectId:at.value}}:{UnresolvedPure:{value:at.value}}}throw new Error("Invalid input")}),commands:a.transactions.map(at=>{switch(at.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in at.type?TypeTagSerializer.tagToString(at.type.Some):null,elements:at.objects.map(mt=>parseV1TransactionArgument(mt))}};case"MergeCoins":return{MergeCoins:{destination:parseV1TransactionArgument(at.destination),sources:at.sources.map(mt=>parseV1TransactionArgument(mt))}};case"MoveCall":{const[mt,wt,$t]=at.target.split("::");return{MoveCall:{package:mt,module:wt,function:$t,typeArguments:at.typeArguments,arguments:at.arguments.map(Ct=>parseV1TransactionArgument(Ct))}}}case"Publish":return{Publish:{modules:at.modules.map(mt=>toBase64(Uint8Array.from(mt))),dependencies:at.dependencies}};case"SplitCoins":return{SplitCoins:{coin:parseV1TransactionArgument(at.coin),amounts:at.amounts.map(mt=>parseV1TransactionArgument(mt))}};case"TransferObjects":return{TransferObjects:{objects:at.objects.map(mt=>parseV1TransactionArgument(mt)),address:parseV1TransactionArgument(at.address)}};case"Upgrade":return{Upgrade:{modules:at.modules.map(mt=>toBase64(Uint8Array.from(mt))),dependencies:at.dependencies,package:at.packageId,ticket:parseV1TransactionArgument(at.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(at)}`)})})}function parseV1TransactionArgument(a){switch(a.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:a.index};case"NestedResult":return{NestedResult:[a.index,a.resultIndex]};case"Input":return{Input:a.index}}}function enumUnion(a){return union(Object.entries(a).map(([s,et])=>object$1({[s]:et})))}const Argument=enumUnion({GasCoin:literal(!0),Input:pipe$4(number$1(),integer()),Result:pipe$4(number$1(),integer()),NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])}),GasData=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),ProgrammableMoveCall=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument)}),$Intent=object$1({name:string(),inputs:record(string(),union([Argument,array(Argument)])),data:record(string(),unknown())}),Command=enumUnion({MoveCall:ProgrammableMoveCall,TransferObjects:object$1({objects:array(Argument),address:Argument}),SplitCoins:object$1({coin:Argument,amounts:array(Argument)}),MergeCoins:object$1({destination:Argument,sources:array(Argument)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument}),$Intent}),ObjectArg=enumUnion({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg=enumUnion({Object:ObjectArg,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),TransactionExpiration=enumUnion({None:literal(!0),Epoch:JsonU64}),SerializedTransactionDataV2=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration),gasData:GasData,inputs:array(CallArg),commands:array(Command)}),MAX_OBJECTS_PER_FETCH=50,GAS_SAFE_OVERHEAD=1000n,MAX_GAS=5e10;async function resolveTransactionData(a,s,et){return await normalizeInputs(a,s),await resolveObjectReferences(a,s),s.onlyTransactionKind||(await setGasPrice(a,s),await setGasBudget(a,s),await setGasPayment(a,s)),await validate$1(a),await et()}async function setGasPrice(a,s){a.gasConfig.price||(a.gasConfig.price=String(await getClient(s).getReferenceGasPrice()))}async function setGasBudget(a,s){if(a.gasConfig.budget)return;const et=await getClient(s).dryRunTransactionBlock({transactionBlock:a.build({overrides:{gasData:{budget:String(MAX_GAS),payment:[]}}})});if(et.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${et.effects.status.error}`,{cause:et});const nt=GAS_SAFE_OVERHEAD*BigInt(a.gasConfig.price||1n),at=BigInt(et.effects.gasUsed.computationCost)+nt,mt=at+BigInt(et.effects.gasUsed.storageCost)-BigInt(et.effects.gasUsed.storageRebate);a.gasConfig.budget=String(mt>at?mt:at)}async function setGasPayment(a,s){if(!a.gasConfig.payment){const nt=(await getClient(s).getCoins({owner:a.gasConfig.owner||a.sender,coinType:SUI_TYPE_ARG})).data.filter(at=>!a.inputs.find(wt=>{var $t;return($t=wt.Object)!=null&&$t.ImmOrOwnedObject?at.coinObjectId===wt.Object.ImmOrOwnedObject.objectId:!1})).map(at=>({objectId:at.coinObjectId,digest:at.digest,version:at.version}));if(!nt.length)throw new Error("No valid gas coins found for the transaction.");a.gasConfig.payment=nt.map(at=>parse$2(ObjectRef$1,at))}}async function resolveObjectReferences(a,s){const et=a.inputs.filter(Ft=>{var jt;return Ft.UnresolvedObject&&!(Ft.UnresolvedObject.version||(jt=Ft.UnresolvedObject)!=null&&jt.initialSharedVersion)}),nt=[...new Set(et.map(Ft=>normalizeSuiObjectId(Ft.UnresolvedObject.objectId)))],at=nt.length?chunk(nt,MAX_OBJECTS_PER_FETCH):[],mt=(await Promise.all(at.map(Ft=>getClient(s).multiGetObjects({ids:Ft,options:{showOwner:!0}})))).flat(),wt=new Map(nt.map((Ft,jt)=>[Ft,mt[jt]])),$t=Array.from(wt).filter(([Ft,jt])=>jt.error).map(([Ft,jt])=>JSON.stringify(jt.error));if($t.length)throw new Error(`The following input objects are invalid: ${$t.join(", ")}`);const Ct=mt.map(Ft=>{if(Ft.error||!Ft.data)throw new Error(`Failed to fetch object: ${Ft.error}`);const jt=Ft.data.owner,Ut=jt&&typeof jt=="object"&&"Shared"in jt?jt.Shared.initial_shared_version:null;return{objectId:Ft.data.objectId,digest:Ft.data.digest,version:Ft.data.version,initialSharedVersion:Ut}}),Dt=new Map(nt.map((Ft,jt)=>[Ft,Ct[jt]]));for(const[Ft,jt]of a.inputs.entries()){if(!jt.UnresolvedObject)continue;let Ut;const tr=normalizeSuiAddress(jt.UnresolvedObject.objectId),ir=Dt.get(tr);jt.UnresolvedObject.initialSharedVersion??(ir==null?void 0:ir.initialSharedVersion)?Ut=Inputs.SharedObjectRef({objectId:tr,initialSharedVersion:jt.UnresolvedObject.initialSharedVersion||(ir==null?void 0:ir.initialSharedVersion),mutable:isUsedAsMutable(a,Ft)}):isUsedAsReceiving(a,Ft)&&(Ut=Inputs.ReceivingRef({objectId:tr,digest:jt.UnresolvedObject.digest??(ir==null?void 0:ir.digest),version:jt.UnresolvedObject.version??(ir==null?void 0:ir.version)})),a.inputs[a.inputs.indexOf(jt)]=Ut??Inputs.ObjectRef({objectId:tr,digest:jt.UnresolvedObject.digest??(ir==null?void 0:ir.digest),version:jt.UnresolvedObject.version??(ir==null?void 0:ir.version)})}}async function normalizeInputs(a,s){const{inputs:et,commands:nt}=a,at=[],mt=new Set;nt.forEach($t=>{if($t.MoveCall){if($t.MoveCall._argumentTypes)return;if($t.MoveCall.arguments.map(Ft=>Ft.$kind==="Input"?a.inputs[Ft.Input]:null).some(Ft=>(Ft==null?void 0:Ft.UnresolvedPure)||(Ft==null?void 0:Ft.UnresolvedObject))){const Ft=`${$t.MoveCall.package}::${$t.MoveCall.module}::${$t.MoveCall.function}`;mt.add(Ft),at.push($t.MoveCall)}}switch($t.$kind){case"SplitCoins":$t.SplitCoins.amounts.forEach(Ct=>{normalizeRawArgument(Ct,suiBcs.U64,a)});break;case"TransferObjects":normalizeRawArgument($t.TransferObjects.address,suiBcs.Address,a);break}});const wt=new Map;if(mt.size>0){const $t=getClient(s);await Promise.all([...mt].map(async Ct=>{const[Dt,Ft,jt]=Ct.split("::"),Ut=await $t.getNormalizedMoveFunction({package:Dt,module:Ft,function:jt});wt.set(Ct,Ut.parameters.map(tr=>normalizedTypeToMoveTypeSignature(tr)))}))}at.length&&await Promise.all(at.map(async $t=>{const Ct=wt.get(`${$t.package}::${$t.module}::${$t.function}`);if(!Ct)return;const Ft=Ct.length>0&&isTxContext(Ct.at(-1))?Ct.slice(0,Ct.length-1):Ct;$t._argumentTypes=Ft})),nt.forEach($t=>{if(!$t.MoveCall)return;const Ct=$t.MoveCall,Dt=`${Ct.package}::${Ct.module}::${Ct.function}`,Ft=Ct._argumentTypes;if(Ft){if(Ft.length!==$t.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${Dt}`);Ft.forEach((jt,Ut)=>{var dr,hr;const tr=Ct.arguments[Ut];if(tr.$kind!=="Input")return;const ir=et[tr.Input];if(!ir.UnresolvedPure&&!ir.UnresolvedObject)return;const sr=((dr=ir.UnresolvedPure)==null?void 0:dr.value)??((hr=ir.UnresolvedObject)==null?void 0:hr.objectId),ur=getPureBcsSchema(jt.body);if(ur){tr.type="pure",et[et.indexOf(ir)]=Inputs.Pure(ur.serialize(sr));return}if(typeof sr!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(sr,null,2)}`);tr.type="object";const fr=ir.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:sr}}:ir;et[tr.Input]=fr})}})}function validate$1(a){a.inputs.forEach((s,et)=>{if(s.$kind!=="Object"&&s.$kind!=="Pure")throw new Error(`Input at index ${et} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(s)}`)})}function normalizeRawArgument(a,s,et){if(a.$kind!=="Input")return;const nt=et.inputs[a.Input];nt.$kind==="UnresolvedPure"&&(et.inputs[a.Input]=Inputs.Pure(s.serialize(nt.UnresolvedPure.value)))}function isUsedAsMutable(a,s){let et=!1;return a.getInputUses(s,(nt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const mt=at.MoveCall.arguments.indexOf(nt);et=at.MoveCall._argumentTypes[mt].ref!=="&"||et}(at.$kind==="MakeMoveVec"||at.$kind==="MergeCoins"||at.$kind==="SplitCoins")&&(et=!0)}),et}function isUsedAsReceiving(a,s){let et=!1;return a.getInputUses(s,(nt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const mt=at.MoveCall.arguments.indexOf(nt);et=isReceivingType(at.MoveCall._argumentTypes[mt])||et}}),et}function isReceivingType(a){return typeof a.body!="object"||!("datatype"in a.body)?!1:a.body.datatype.package==="0x2"&&a.body.datatype.module==="transfer"&&a.body.datatype.type==="Receiving"}function getClient(a){if(!a.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return a.client}function chunk(a,s){return Array.from({length:Math.ceil(a.length/s)},(et,nt)=>a.slice(nt*s,nt*s+s))}function createObjectMethods(a){function s(et){return a(et)}return s.system=()=>s("0x5"),s.clock=()=>s("0x6"),s.random=()=>s("0x8"),s.denyList=()=>s("0x403"),s.option=({type:et,value:nt})=>at=>at.moveCall({typeArguments:[et],target:`0x1::option::${nt===null?"none":"some"}`,arguments:nt===null?[]:[at.object(nt)]}),s}function createPure(a){function s(et,nt){if(typeof et=="string")return a(pureBcsSchemaFromTypeName(et).serialize(nt));if(et instanceof Uint8Array||isSerializedBcs(et))return a(et);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return s.u8=et=>a(suiBcs.U8.serialize(et)),s.u16=et=>a(suiBcs.U16.serialize(et)),s.u32=et=>a(suiBcs.U32.serialize(et)),s.u64=et=>a(suiBcs.U64.serialize(et)),s.u128=et=>a(suiBcs.U128.serialize(et)),s.u256=et=>a(suiBcs.U256.serialize(et)),s.bool=et=>a(suiBcs.Bool.serialize(et)),s.string=et=>a(suiBcs.String.serialize(et)),s.address=et=>a(suiBcs.Address.serialize(et)),s.id=s.address,s.vector=(et,nt)=>a(suiBcs.vector(pureBcsSchemaFromTypeName(et)).serialize(nt)),s.option=(et,nt)=>a(suiBcs.option(pureBcsSchemaFromTypeName(et)).serialize(nt)),s}function hashTypedData(a,s){const et=Array.from(`${a}::`).map(at=>at.charCodeAt(0)),nt=new Uint8Array(et.length+s.length);return nt.set(et),nt.set(s,et.length),blake2b$1(nt,{dkLen:32})}function prepareSuiAddress(a){return normalizeSuiAddress(a).replace("0x","")}class TransactionDataBuilder{constructor(s){this.version=2,this.sender=(s==null?void 0:s.sender)??null,this.expiration=(s==null?void 0:s.expiration)??null,this.inputs=(s==null?void 0:s.inputs)??[],this.commands=(s==null?void 0:s.commands)??[],this.gasData=(s==null?void 0:s.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(s){const nt=suiBcs.TransactionKind.parse(s).ProgrammableTransaction;if(!nt)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:nt.inputs,commands:nt.commands})}static fromBytes(s){const et=suiBcs.TransactionData.parse(s),nt=et==null?void 0:et.V1,at=nt.kind.ProgrammableTransaction;if(!nt||!at)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:nt.sender,expiration:nt.expiration,gasData:nt.gasData,inputs:at.inputs,commands:at.commands})}static restore(s){return s.version===2?new TransactionDataBuilder(parse$2(TransactionData,s)):new TransactionDataBuilder(parse$2(TransactionData,transactionDataFromV1(s)))}static getDigestFromBytes(s){const et=hashTypedData("TransactionData",s);return toBase58(et)}get gasConfig(){return this.gasData}set gasConfig(s){this.gasData=s}build({maxSizeBytes:s=1/0,overrides:et,onlyTransactionKind:nt}={}){const at=this.inputs,mt=this.commands,wt={ProgrammableTransaction:{inputs:at,commands:mt}};if(nt)return suiBcs.TransactionKind.serialize(wt,{maxSize:s}).toBytes();const $t=(et==null?void 0:et.expiration)??this.expiration,Ct=(et==null?void 0:et.sender)??this.sender,Dt={...this.gasData,...et==null?void 0:et.gasConfig,...et==null?void 0:et.gasData};if(!Ct)throw new Error("Missing transaction sender");if(!Dt.budget)throw new Error("Missing gas budget");if(!Dt.payment)throw new Error("Missing gas payment");if(!Dt.price)throw new Error("Missing gas price");const Ft={sender:prepareSuiAddress(Ct),expiration:$t||{None:!0},gasData:{payment:Dt.payment,owner:prepareSuiAddress(this.gasData.owner??Ct),price:BigInt(Dt.price),budget:BigInt(Dt.budget)},kind:{ProgrammableTransaction:{inputs:at,commands:mt}}};return suiBcs.TransactionData.serialize({V1:Ft},{maxSize:s}).toBytes()}addInput(s,et){const nt=this.inputs.length;return this.inputs.push(et),{Input:nt,type:s,$kind:"Input"}}getInputUses(s,et){this.mapArguments((nt,at)=>(nt.$kind==="Input"&&nt.Input===s&&et(nt,at),nt))}mapArguments(s){for(const et of this.commands)switch(et.$kind){case"MoveCall":et.MoveCall.arguments=et.MoveCall.arguments.map(at=>s(at,et));break;case"TransferObjects":et.TransferObjects.objects=et.TransferObjects.objects.map(at=>s(at,et)),et.TransferObjects.address=s(et.TransferObjects.address,et);break;case"SplitCoins":et.SplitCoins.coin=s(et.SplitCoins.coin,et),et.SplitCoins.amounts=et.SplitCoins.amounts.map(at=>s(at,et));break;case"MergeCoins":et.MergeCoins.destination=s(et.MergeCoins.destination,et),et.MergeCoins.sources=et.MergeCoins.sources.map(at=>s(at,et));break;case"MakeMoveVec":et.MakeMoveVec.elements=et.MakeMoveVec.elements.map(at=>s(at,et));break;case"Upgrade":et.Upgrade.ticket=s(et.Upgrade.ticket,et);break;case"$Intent":const nt=et.$Intent.inputs;et.$Intent.inputs={};for(const[at,mt]of Object.entries(nt))et.$Intent.inputs[at]=Array.isArray(mt)?mt.map(wt=>s(wt,et)):s(mt,et);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${et.$kind}`)}}replaceCommand(s,et){if(!Array.isArray(et)){this.commands[s]=et;return}const nt=et.length-1;this.commands.splice(s,1,...et),nt!==0&&this.mapArguments(at=>{switch(at.$kind){case"Result":at.Result>s&&(at.Result+=nt);break;case"NestedResult":at.NestedResult[0]>s&&(at.NestedResult[0]+=nt);break}return at})}getDigest(){const s=this.build({onlyTransactionKind:!1});return TransactionDataBuilder.getDigestFromBytes(s)}snapshot(){return parse$2(TransactionData,this)}}function getIdFromCallArg(a){if(typeof a=="string")return normalizeSuiAddress(a);if(a.Object)return a.Object.ImmOrOwnedObject?normalizeSuiAddress(a.Object.ImmOrOwnedObject.objectId):a.Object.Receiving?normalizeSuiAddress(a.Object.Receiving.objectId):normalizeSuiAddress(a.Object.SharedObject.objectId);if(a.UnresolvedObject)return normalizeSuiAddress(a.UnresolvedObject.objectId)}var __typeError$5=a=>{throw TypeError(a)},__accessCheck$5=(a,s,et)=>s.has(a)||__typeError$5("Cannot "+et),__privateGet$5=(a,s,et)=>(__accessCheck$5(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$5=(a,s,et)=>s.has(a)?__typeError$5("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$4=(a,s,et,nt)=>(__accessCheck$5(a,s,"write to private field"),s.set(a,et),et),__privateMethod$4=(a,s,et)=>(__accessCheck$5(a,s,"access private method"),et),_serializationPlugins,_buildPlugins,_intentResolvers,_data,_Transaction_instances,normalizeTransactionArgument_fn,resolveArgument_fn,prepareBuild_fn,runPlugins_fn;function createTransactionResult(a,s=1/0){const et={$kind:"Result",Result:a},nt=[],at=mt=>nt[mt]??(nt[mt]={$kind:"NestedResult",NestedResult:[a,mt]});return new Proxy(et,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(mt,wt){if(wt in mt)return Reflect.get(mt,wt);if(wt===Symbol.iterator)return function*(){let Ct=0;for(;Ct<s;)yield at(Ct),Ct++};if(typeof wt=="symbol")return;const $t=parseInt(wt,10);if(!(Number.isNaN($t)||$t<0))return at($t)}})}const TRANSACTION_BRAND=Symbol.for("@mysten/transaction");function isTransaction(a){return!!a&&typeof a=="object"&&a[TRANSACTION_BRAND]===!0}const modulePluginRegistry={buildPlugins:new Map,serializationPlugins:new Map},TRANSACTION_REGISTRY_KEY=Symbol.for("@mysten/transaction/registry");function getGlobalPluginRegistry(){try{const a=globalThis;return a[TRANSACTION_REGISTRY_KEY]||(a[TRANSACTION_REGISTRY_KEY]=modulePluginRegistry),a[TRANSACTION_REGISTRY_KEY]}catch{return modulePluginRegistry}}const _Transaction=class Bu{constructor(){__privateAdd$5(this,_Transaction_instances),__privateAdd$5(this,_serializationPlugins),__privateAdd$5(this,_buildPlugins),__privateAdd$5(this,_intentResolvers,new Map),__privateAdd$5(this,_data),this.object=createObjectMethods(et=>{var mt,wt;if(typeof et=="function")return this.object(et(this));if(typeof et=="object"&&is(Argument$1,et))return et;const nt=getIdFromCallArg(et),at=__privateGet$5(this,_data).inputs.find($t=>nt===getIdFromCallArg($t));return(mt=at==null?void 0:at.Object)!=null&&mt.SharedObject&&typeof et=="object"&&((wt=et.Object)!=null&&wt.SharedObject)&&(at.Object.SharedObject.mutable=at.Object.SharedObject.mutable||et.Object.SharedObject.mutable),at?{$kind:"Input",Input:__privateGet$5(this,_data).inputs.indexOf(at),type:"object"}:__privateGet$5(this,_data).addInput("object",typeof et=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:normalizeSuiAddress(et)}}:et)});const s=getGlobalPluginRegistry();__privateSet$4(this,_data,new TransactionDataBuilder),__privateSet$4(this,_buildPlugins,[...s.buildPlugins.values()]),__privateSet$4(this,_serializationPlugins,[...s.serializationPlugins.values()])}static fromKind(s){const et=new Bu;return __privateSet$4(et,_data,TransactionDataBuilder.fromKindBytes(typeof s=="string"?fromBase64(s):s)),et}static from(s){const et=new Bu;return isTransaction(s)?__privateSet$4(et,_data,new TransactionDataBuilder(s.getData())):typeof s!="string"||!s.startsWith("{")?__privateSet$4(et,_data,TransactionDataBuilder.fromBytes(typeof s=="string"?fromBase64(s):s)):__privateSet$4(et,_data,TransactionDataBuilder.restore(JSON.parse(s))),et}static registerGlobalSerializationPlugin(s,et){getGlobalPluginRegistry().serializationPlugins.set(s,et??s)}static unregisterGlobalSerializationPlugin(s){getGlobalPluginRegistry().serializationPlugins.delete(s)}static registerGlobalBuildPlugin(s,et){getGlobalPluginRegistry().buildPlugins.set(s,et??s)}static unregisterGlobalBuildPlugin(s){getGlobalPluginRegistry().buildPlugins.delete(s)}addSerializationPlugin(s){__privateGet$5(this,_serializationPlugins).push(s)}addBuildPlugin(s){__privateGet$5(this,_buildPlugins).push(s)}addIntentResolver(s,et){if(__privateGet$5(this,_intentResolvers).has(s)&&__privateGet$5(this,_intentResolvers).get(s)!==et)throw new Error(`Intent resolver for ${s} already exists`);__privateGet$5(this,_intentResolvers).set(s,et)}setSender(s){__privateGet$5(this,_data).sender=s}setSenderIfNotSet(s){__privateGet$5(this,_data).sender||(__privateGet$5(this,_data).sender=s)}setExpiration(s){__privateGet$5(this,_data).expiration=s?parse$2(TransactionExpiration$2,s):null}setGasPrice(s){__privateGet$5(this,_data).gasConfig.price=String(s)}setGasBudget(s){__privateGet$5(this,_data).gasConfig.budget=String(s)}setGasBudgetIfNotSet(s){__privateGet$5(this,_data).gasData.budget==null&&(__privateGet$5(this,_data).gasConfig.budget=String(s))}setGasOwner(s){__privateGet$5(this,_data).gasConfig.owner=s}setGasPayment(s){__privateGet$5(this,_data).gasConfig.payment=s.map(et=>parse$2(ObjectRef$1,et))}get blockData(){return serializeV1TransactionData(__privateGet$5(this,_data).snapshot())}getData(){return __privateGet$5(this,_data).snapshot()}get[TRANSACTION_BRAND](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure(s=>isSerializedBcs(s)?__privateGet$5(this,_data).addInput("pure",{$kind:"Pure",Pure:{bytes:s.toBase64()}}):__privateGet$5(this,_data).addInput("pure",is(NormalizedCallArg$1,s)?parse$2(NormalizedCallArg$1,s):s instanceof Uint8Array?Inputs.Pure(s):{$kind:"UnresolvedPure",UnresolvedPure:{value:s}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...s){return this.object(Inputs.ObjectRef(...s))}receivingRef(...s){return this.object(Inputs.ReceivingRef(...s))}sharedObjectRef(...s){return this.object(Inputs.SharedObjectRef(...s))}add(s){if(typeof s=="function")return s(this);const et=__privateGet$5(this,_data).commands.push(s);return createTransactionResult(et-1)}splitCoins(s,et){const nt=Commands.SplitCoins(typeof s=="string"?this.object(s):__privateMethod$4(this,_Transaction_instances,resolveArgument_fn).call(this,s),et.map(mt=>typeof mt=="number"||typeof mt=="bigint"||typeof mt=="string"?this.pure.u64(mt):__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,mt))),at=__privateGet$5(this,_data).commands.push(nt);return createTransactionResult(at-1,et.length)}mergeCoins(s,et){return this.add(Commands.MergeCoins(this.object(s),et.map(nt=>this.object(nt))))}publish({modules:s,dependencies:et}){return this.add(Commands.Publish({modules:s,dependencies:et}))}upgrade({modules:s,dependencies:et,package:nt,ticket:at}){return this.add(Commands.Upgrade({modules:s,dependencies:et,package:nt,ticket:this.object(at)}))}moveCall({arguments:s,...et}){return this.add(Commands.MoveCall({...et,arguments:s==null?void 0:s.map(nt=>__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,nt))}))}transferObjects(s,et){return this.add(Commands.TransferObjects(s.map(nt=>this.object(nt)),typeof et=="string"?this.pure.address(et):__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,et)))}makeMoveVec({type:s,elements:et}){return this.add(Commands.MakeMoveVec({type:s,elements:et.map(nt=>this.object(nt))}))}serialize(){return JSON.stringify(serializeV1TransactionData(__privateGet$5(this,_data).snapshot()))}async toJSON(s={}){return await this.prepareForSerialization(s),JSON.stringify(parse$2(SerializedTransactionDataV2,__privateGet$5(this,_data).snapshot()),(et,nt)=>typeof nt=="bigint"?nt.toString():nt,2)}async sign(s){const{signer:et,...nt}=s,at=await this.build(nt);return et.signTransaction(at)}async build(s={}){return await this.prepareForSerialization(s),await __privateMethod$4(this,_Transaction_instances,prepareBuild_fn).call(this,s),__privateGet$5(this,_data).build({onlyTransactionKind:s.onlyTransactionKind})}async getDigest(s={}){return await __privateMethod$4(this,_Transaction_instances,prepareBuild_fn).call(this,s),__privateGet$5(this,_data).getDigest()}async prepareForSerialization(s){var at;const et=new Set;for(const mt of __privateGet$5(this,_data).commands)mt.$Intent&&et.add(mt.$Intent.name);const nt=[...__privateGet$5(this,_serializationPlugins)];for(const mt of et)if(!((at=s.supportedIntents)!=null&&at.includes(mt))){if(!__privateGet$5(this,_intentResolvers).has(mt))throw new Error(`Missing intent resolver for ${mt}`);nt.push(__privateGet$5(this,_intentResolvers).get(mt))}await __privateMethod$4(this,_Transaction_instances,runPlugins_fn).call(this,nt,s)}};_serializationPlugins=new WeakMap;_buildPlugins=new WeakMap;_intentResolvers=new WeakMap;_data=new WeakMap;_Transaction_instances=new WeakSet;normalizeTransactionArgument_fn=function(a){return isSerializedBcs(a)?this.pure(a):__privateMethod$4(this,_Transaction_instances,resolveArgument_fn).call(this,a)};resolveArgument_fn=function(a){return typeof a=="function"?parse$2(Argument$1,a(this)):parse$2(Argument$1,a)};prepareBuild_fn=async function(a){if(!a.onlyTransactionKind&&!__privateGet$5(this,_data).sender)throw new Error("Missing transaction sender");await __privateMethod$4(this,_Transaction_instances,runPlugins_fn).call(this,[...__privateGet$5(this,_buildPlugins),resolveTransactionData],a)};runPlugins_fn=async function(a,s){const et=nt=>{if(nt>=a.length)return()=>{};const at=a[nt];return async()=>{const mt=et(nt+1);let wt=!1,$t=!1;if(await at(__privateGet$5(this,_data),s,async()=>{if(wt)throw new Error(`next() was call multiple times in TransactionPlugin ${nt}`);wt=!0,await mt(),$t=!0}),!wt)throw new Error(`next() was not called in TransactionPlugin ${nt}`);if(!$t)throw new Error(`next() was not awaited in TransactionPlugin ${nt}`)}};await et(0)()};let Transaction=_Transaction;const COIN_WITH_BALANCE="CoinWithBalance",SUI_TYPE=normalizeStructTag("0x2::sui::SUI");function coinWithBalance({type:a=SUI_TYPE,balance:s,useGasCoin:et=!0}){return nt=>{nt.addIntentResolver(COIN_WITH_BALANCE,resolveCoinBalance);const at=a==="gas"?a:normalizeStructTag(a);return nt.add(Commands.Intent({name:COIN_WITH_BALANCE,inputs:{},data:{type:at===SUI_TYPE&&et?"gas":at,balance:BigInt(s)}}))}}const CoinWithBalanceData=object$1({type:string(),balance:bigint()});async function resolveCoinBalance(a,s,et){var Dt,Ft;const nt=new Set,at=new Map;if(!a.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const jt of a.commands)if(jt.$kind==="$Intent"&&jt.$Intent.name===COIN_WITH_BALANCE){const{type:Ut,balance:tr}=parse$2(CoinWithBalanceData,jt.$Intent.data);Ut!=="gas"&&tr>0n&&nt.add(Ut),at.set(Ut,(at.get(Ut)??0n)+tr)}const mt=new Set;for(const jt of a.inputs)(Dt=jt.Object)!=null&&Dt.ImmOrOwnedObject&&mt.add(jt.Object.ImmOrOwnedObject.objectId),(Ft=jt.UnresolvedObject)!=null&&Ft.objectId&&mt.add(jt.UnresolvedObject.objectId);const wt=new Map,$t=getClient(s);await Promise.all([...nt].map(async jt=>{wt.set(jt,await getCoinsOfType({coinType:jt,balance:at.get(jt),client:$t,owner:a.sender,usedIds:mt}))}));const Ct=new Map;Ct.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[jt,Ut]of a.commands.entries()){if(Ut.$kind!=="$Intent"||Ut.$Intent.name!==COIN_WITH_BALANCE)continue;const{type:tr,balance:ir}=Ut.$Intent.data;if(ir===0n){a.replaceCommand(jt,Commands.MoveCall({target:"0x2::coin::zero",typeArguments:[tr]}));continue}const sr=[];if(!Ct.has(tr)){const[ur,...fr]=wt.get(tr).map(dr=>a.addInput("object",Inputs.ObjectRef({objectId:dr.coinObjectId,digest:dr.digest,version:dr.version})));fr.length>0&&sr.push(Commands.MergeCoins(ur,fr)),Ct.set(tr,ur)}sr.push(Commands.SplitCoins(Ct.get(tr),[a.addInput("pure",Inputs.Pure(suiBcs.u64().serialize(ir)))])),a.replaceCommand(jt,sr),a.mapArguments(ur=>ur.$kind==="Result"&&ur.Result===jt?{$kind:"NestedResult",NestedResult:[jt+sr.length-1,0]}:ur)}return et()}async function getCoinsOfType({coinType:a,balance:s,client:et,owner:nt,usedIds:at}){let mt=s;const wt=[];return $t();async function $t(Ct=null){const{data:Dt,hasNextPage:Ft,nextCursor:jt}=await et.getCoins({owner:nt,coinType:a,cursor:Ct}),Ut=Dt.sort((tr,ir)=>Number(BigInt(ir.balance)-BigInt(tr.balance)));for(const tr of Ut){if(at.has(tr.coinObjectId))continue;const ir=BigInt(tr.balance);if(wt.push(tr),mt-=ir,mt<=0)return wt}if(Ft)return $t(jt);throw new Error(`Not enough coins of type ${a} to satisfy requested balance`)}}async function signTransaction(a,s){if(a.features["sui:signTransaction"])return a.features["sui:signTransaction"].signTransaction(s);if(!a.features["sui:signTransactionBlock"])throw new Error(`Provided wallet (${a.name}) does not support the signTransaction feature.`);const{signTransactionBlock:et}=a.features["sui:signTransactionBlock"],nt=Transaction.from(await s.transaction.toJSON()),{transactionBlockBytes:at,signature:mt}=await et({transactionBlock:nt,account:s.account,chain:s.chain});return{bytes:at,signature:mt}}const REQUIRED_FEATURES=["standard:connect","standard:events"];function isWalletWithRequiredFeatureSet(a,s=[]){return[...REQUIRED_FEATURES,...s].every(et=>et in a.features)}const SUI_DEVNET_CHAIN="sui:devnet",SUI_TESTNET_CHAIN="sui:testnet",SUI_LOCALNET_CHAIN="sui:localnet",SUI_MAINNET_CHAIN="sui:mainnet",SUI_CHAINS=[SUI_DEVNET_CHAIN,SUI_TESTNET_CHAIN,SUI_LOCALNET_CHAIN,SUI_MAINNET_CHAIN];function toPrimitive$2(a,s){if(typeof a!="object"||!a)return a;var et=a[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(a,s);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function toPropertyKey$2(a){var s=toPrimitive$2(a,"string");return typeof s=="symbol"?s:String(s)}function _defineProperty$2(a,s,et){return s=toPropertyKey$2(s),s in a?Object.defineProperty(a,s,{value:et,enumerable:!0,configurable:!0,writable:!0}):a[s]=et,a}function ownKeys$2(a,s){var et=Object.keys(a);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(a);s&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(a,at).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread2$b(a){for(var s=1;s<arguments.length;s++){var et=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$2(Object(et),!0).forEach(function(nt){_defineProperty$2(a,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(nt){Object.defineProperty(a,nt,Object.getOwnPropertyDescriptor(et,nt))})}return a}function mapValues(a,s){var et={};for(var nt in a)et[nt]=s(a[nt],nt);return et}var shouldApplyCompound=(a,s,et)=>{for(var nt of Object.keys(a)){var at;if(a[nt]!==((at=s[nt])!==null&&at!==void 0?at:et[nt]))return!1}return!0},createRuntimeFn=a=>{var s=et=>{var nt=a.defaultClassName,at=_objectSpread2$b(_objectSpread2$b({},a.defaultVariants),et);for(var mt in at){var wt,$t=(wt=at[mt])!==null&&wt!==void 0?wt:a.defaultVariants[mt];if($t!=null){var Ct=$t;typeof Ct=="boolean"&&(Ct=Ct===!0?"true":"false");var Dt=a.variantClassNames[mt][Ct];Dt&&(nt+=" "+Dt)}}for(var[Ft,jt]of a.compoundVariants)shouldApplyCompound(Ft,at,a.defaultVariants)&&(nt+=" "+jt);return nt};return s.variants=()=>Object.keys(a.variantClassNames),s.classNames={get base(){return a.defaultClassName.split(" ")[0]},get variants(){return mapValues(a.variantClassNames,et=>mapValues(et,nt=>nt.split(" ")[0]))}},s};const PACKAGE_VERSION="1.21.2",TARGETED_RPC_VERSION="1.43.0",CODE_TO_ERROR_TYPE={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class SuiHTTPTransportError extends Error{}class JsonRpcError extends SuiHTTPTransportError{constructor(s,et){super(s),this.code=et,this.type=CODE_TO_ERROR_TYPE[et]??"ServerError"}}class SuiHTTPStatusError extends SuiHTTPTransportError{constructor(s,et,nt){super(s),this.status=et,this.statusText=nt}}var __typeError$4=a=>{throw TypeError(a)},__accessCheck$4=(a,s,et)=>s.has(a)||__typeError$4("Cannot "+et),__privateGet$4=(a,s,et)=>(__accessCheck$4(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$4=(a,s,et)=>s.has(a)?__typeError$4("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$3=(a,s,et,nt)=>(__accessCheck$4(a,s,"write to private field"),s.set(a,et),et),__privateMethod$3=(a,s,et)=>(__accessCheck$4(a,s,"access private method"),et),__privateWrapper=(a,s,et,nt)=>({set _(at){__privateSet$3(a,s,at)},get _(){return __privateGet$4(a,s,nt)}}),_requestId$1,_disconnects,_webSocket,_connectionPromise,_subscriptions,_pendingRequests,_WebsocketClient_instances,setupWebSocket_fn,reconnect_fn;function getWebsocketUrl(a){const s=new URL(a);return s.protocol=s.protocol.replace("http","ws"),s.toString()}const DEFAULT_CLIENT_OPTIONS={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class WebsocketClient{constructor(s,et={}){if(__privateAdd$4(this,_WebsocketClient_instances),__privateAdd$4(this,_requestId$1,0),__privateAdd$4(this,_disconnects,0),__privateAdd$4(this,_webSocket,null),__privateAdd$4(this,_connectionPromise,null),__privateAdd$4(this,_subscriptions,new Set),__privateAdd$4(this,_pendingRequests,new Map),this.endpoint=s,this.options={...DEFAULT_CLIENT_OPTIONS,...et},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl(this.endpoint))}async makeRequest(s,et){const nt=await __privateMethod$3(this,_WebsocketClient_instances,setupWebSocket_fn).call(this);return new Promise((at,mt)=>{__privateSet$3(this,_requestId$1,__privateGet$4(this,_requestId$1)+1),__privateGet$4(this,_pendingRequests).set(__privateGet$4(this,_requestId$1),{resolve:at,reject:mt,timeout:setTimeout(()=>{__privateGet$4(this,_pendingRequests).delete(__privateGet$4(this,_requestId$1)),mt(new Error(`Request timeout: ${s}`))},this.options.callTimeout)}),nt.send(JSON.stringify({jsonrpc:"2.0",id:__privateGet$4(this,_requestId$1),method:s,params:et}))}).then(({error:at,result:mt})=>{if(at)throw new JsonRpcError(at.message,at.code);return mt})}async subscribe(s){const et=new RpcSubscription(s);return __privateGet$4(this,_subscriptions).add(et),await et.subscribe(this),()=>et.unsubscribe(this)}}_requestId$1=new WeakMap;_disconnects=new WeakMap;_webSocket=new WeakMap;_connectionPromise=new WeakMap;_subscriptions=new WeakMap;_pendingRequests=new WeakMap;_WebsocketClient_instances=new WeakSet;setupWebSocket_fn=function(){return __privateGet$4(this,_connectionPromise)?__privateGet$4(this,_connectionPromise):(__privateSet$3(this,_connectionPromise,new Promise(a=>{var s;(s=__privateGet$4(this,_webSocket))==null||s.close(),__privateSet$3(this,_webSocket,new this.options.WebSocketConstructor(this.endpoint)),__privateGet$4(this,_webSocket).addEventListener("open",()=>{__privateSet$3(this,_disconnects,0),a(__privateGet$4(this,_webSocket))}),__privateGet$4(this,_webSocket).addEventListener("close",()=>{__privateWrapper(this,_disconnects)._++,__privateGet$4(this,_disconnects)<=this.options.maxReconnects&&setTimeout(()=>{__privateMethod$3(this,_WebsocketClient_instances,reconnect_fn).call(this)},this.options.reconnectTimeout)}),__privateGet$4(this,_webSocket).addEventListener("message",({data:et})=>{let nt;try{nt=JSON.parse(et)}catch(at){console.error(new Error(`Failed to parse RPC message: ${et}`,{cause:at}));return}if("id"in nt&&nt.id!=null&&__privateGet$4(this,_pendingRequests).has(nt.id)){const{resolve:at,timeout:mt}=__privateGet$4(this,_pendingRequests).get(nt.id);clearTimeout(mt),at(nt)}else if("params"in nt){const{params:at}=nt;__privateGet$4(this,_subscriptions).forEach(mt=>{mt.subscriptionId===at.subscription&&at.subscription===mt.subscriptionId&&mt.onMessage(at.result)})}})})),__privateGet$4(this,_connectionPromise))};reconnect_fn=async function(){var a;return(a=__privateGet$4(this,_webSocket))==null||a.close(),__privateSet$3(this,_connectionPromise,null),Promise.allSettled([...__privateGet$4(this,_subscriptions)].map(s=>s.subscribe(this)))};class RpcSubscription{constructor(s){this.subscriptionId=null,this.subscribed=!1,this.input=s}onMessage(s){this.subscribed&&this.input.onMessage(s)}async unsubscribe(s){const{subscriptionId:et}=this;return this.subscribed=!1,et==null?!1:(this.subscriptionId=null,s.makeRequest(this.input.unsubscribe,[et]))}async subscribe(s){this.subscriptionId=null,this.subscribed=!0;const et=await s.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=et)}}var __typeError$3=a=>{throw TypeError(a)},__accessCheck$3=(a,s,et)=>s.has(a)||__typeError$3("Cannot "+et),__privateGet$3=(a,s,et)=>(__accessCheck$3(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$3=(a,s,et)=>s.has(a)?__typeError$3("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$2=(a,s,et,nt)=>(__accessCheck$3(a,s,"write to private field"),s.set(a,et),et),__privateMethod$2=(a,s,et)=>(__accessCheck$3(a,s,"access private method"),et),_requestId,_options,_websocketClient,_SuiHTTPTransport_instances,getWebsocketClient_fn;class SuiHTTPTransport{constructor(s){__privateAdd$3(this,_SuiHTTPTransport_instances),__privateAdd$3(this,_requestId,0),__privateAdd$3(this,_options),__privateAdd$3(this,_websocketClient),__privateSet$2(this,_options,s)}fetch(s,et){const nt=__privateGet$3(this,_options).fetch??fetch;if(!nt)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return nt(s,et)}async request(s){var at,mt;__privateSet$2(this,_requestId,__privateGet$3(this,_requestId)+1);const et=await this.fetch(((at=__privateGet$3(this,_options).rpc)==null?void 0:at.url)??__privateGet$3(this,_options).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":PACKAGE_VERSION,"Client-Target-Api-Version":TARGETED_RPC_VERSION,"Client-Request-Method":s.method,...(mt=__privateGet$3(this,_options).rpc)==null?void 0:mt.headers},body:JSON.stringify({jsonrpc:"2.0",id:__privateGet$3(this,_requestId),method:s.method,params:s.params})});if(!et.ok)throw new SuiHTTPStatusError(`Unexpected status code: ${et.status}`,et.status,et.statusText);const nt=await et.json();if("error"in nt&&nt.error!=null)throw new JsonRpcError(nt.error.message,nt.error.code);return nt.result}async subscribe(s){const et=await __privateMethod$2(this,_SuiHTTPTransport_instances,getWebsocketClient_fn).call(this).subscribe(s);return async()=>!!await et()}}_requestId=new WeakMap;_options=new WeakMap;_websocketClient=new WeakMap;_SuiHTTPTransport_instances=new WeakSet;getWebsocketClient_fn=function(){var a;if(!__privateGet$3(this,_websocketClient)){const s=__privateGet$3(this,_options).WebSocketConstructor??WebSocket;if(!s)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");__privateSet$2(this,_websocketClient,new WebsocketClient(((a=__privateGet$3(this,_options).websocket)==null?void 0:a.url)??__privateGet$3(this,_options).url,{WebSocketConstructor:s,...__privateGet$3(this,_options).websocket}))}return __privateGet$3(this,_websocketClient)};function getFullnodeUrl$1(a){switch(a){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${a}`)}}const SUI_CLIENT_BRAND=Symbol.for("@mysten/SuiClient");function isSuiClient(a){return typeof a=="object"&&a!==null&&a[SUI_CLIENT_BRAND]===!0}class SuiClient{get[SUI_CLIENT_BRAND](){return!0}constructor(s){this.transport=s.transport??new SuiHTTPTransport({url:s.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(s){if(!s.owner||!isValidSuiAddress(normalizeSuiAddress(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[s.owner,s.coinType,s.cursor,s.limit]})}async getAllCoins(s){if(!s.owner||!isValidSuiAddress(normalizeSuiAddress(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[s.owner,s.cursor,s.limit]})}async getBalance(s){if(!s.owner||!isValidSuiAddress(normalizeSuiAddress(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[s.owner,s.coinType]})}async getAllBalances(s){if(!s.owner||!isValidSuiAddress(normalizeSuiAddress(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[s.owner]})}async getCoinMetadata(s){return await this.transport.request({method:"suix_getCoinMetadata",params:[s.coinType]})}async getTotalSupply(s){return await this.transport.request({method:"suix_getTotalSupply",params:[s.coinType]})}async call(s,et){return await this.transport.request({method:s,params:et})}async getMoveFunctionArgTypes(s){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[s.package,s.module,s.function]})}async getNormalizedMoveModulesByPackage(s){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[s.package]})}async getNormalizedMoveModule(s){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[s.package,s.module]})}async getNormalizedMoveFunction(s){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[s.package,s.module,s.function]})}async getNormalizedMoveStruct(s){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[s.package,s.module,s.struct]})}async getOwnedObjects(s){if(!s.owner||!isValidSuiAddress(normalizeSuiAddress(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[s.owner,{filter:s.filter,options:s.options},s.cursor,s.limit]})}async getObject(s){if(!s.id||!isValidSuiObjectId(normalizeSuiObjectId(s.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[s.id,s.options]})}async tryGetPastObject(s){return await this.transport.request({method:"sui_tryGetPastObject",params:[s.id,s.version,s.options]})}async multiGetObjects(s){if(s.ids.forEach(nt=>{if(!nt||!isValidSuiObjectId(normalizeSuiObjectId(nt)))throw new Error(`Invalid Sui Object id ${nt}`)}),s.ids.length!==new Set(s.ids).size)throw new Error(`Duplicate object ids in batch call ${s.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[s.ids,s.options]})}async queryTransactionBlocks(s){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:s.filter,options:s.options},s.cursor,s.limit,(s.order||"descending")==="descending"]})}async getTransactionBlock(s){if(!isValidTransactionDigest(s.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[s.digest,s.options]})}async multiGetTransactionBlocks(s){if(s.digests.forEach(nt=>{if(!isValidTransactionDigest(nt))throw new Error(`Invalid Transaction digest ${nt}`)}),s.digests.length!==new Set(s.digests).size)throw new Error(`Duplicate digests in batch call ${s.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[s.digests,s.options]})}async executeTransactionBlock({transactionBlock:s,signature:et,options:nt,requestType:at}){const mt=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof s=="string"?s:toBase64(s),Array.isArray(et)?et:[et],nt]});if(at==="WaitForLocalExecution")try{await this.waitForTransaction({digest:mt.digest})}catch{}return mt}async signAndExecuteTransaction({transaction:s,signer:et,...nt}){let at;s instanceof Uint8Array?at=s:(s.setSenderIfNotSet(et.toSuiAddress()),at=await s.build({client:this}));const{signature:mt,bytes:wt}=await et.signTransaction(at);return this.executeTransactionBlock({transactionBlock:wt,signature:mt,...nt})}async getTotalTransactionBlocks(){const s=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(s)}async getReferenceGasPrice(){const s=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(s)}async getStakes(s){if(!s.owner||!isValidSuiAddress(normalizeSuiAddress(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[s.owner]})}async getStakesByIds(s){return s.stakedSuiIds.forEach(et=>{if(!et||!isValidSuiObjectId(normalizeSuiObjectId(et)))throw new Error(`Invalid Sui Stake id ${et}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[s.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(s){return await this.transport.request({method:"suix_queryEvents",params:[s.query,s.cursor,s.limit,(s.order||"descending")==="descending"]})}async subscribeEvent(s){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[s.filter],onMessage:s.onMessage})}async subscribeTransaction(s){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[s.filter],onMessage:s.onMessage})}async devInspectTransactionBlock(s){var nt;let et;if(isTransaction(s.transactionBlock))s.transactionBlock.setSenderIfNotSet(s.sender),et=toBase64(await s.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof s.transactionBlock=="string")et=s.transactionBlock;else if(s.transactionBlock instanceof Uint8Array)et=toBase64(s.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[s.sender,et,(nt=s.gasPrice)==null?void 0:nt.toString(),s.epoch]})}async dryRunTransactionBlock(s){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof s.transactionBlock=="string"?s.transactionBlock:toBase64(s.transactionBlock)]})}async getDynamicFields(s){if(!s.parentId||!isValidSuiObjectId(normalizeSuiObjectId(s.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[s.parentId,s.cursor,s.limit]})}async getDynamicFieldObject(s){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[s.parentId,s.name]})}async getLatestCheckpointSequenceNumber(){const s=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(s)}async getCheckpoint(s){return await this.transport.request({method:"sui_getCheckpoint",params:[s.id]})}async getCheckpoints(s){return await this.transport.request({method:"sui_getCheckpoints",params:[s.cursor,s==null?void 0:s.limit,s.descendingOrder]})}async getCommitteeInfo(s){return await this.transport.request({method:"suix_getCommitteeInfo",params:[s==null?void 0:s.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(s){return await this.transport.request({method:"suix_getEpochMetrics",params:[s==null?void 0:s.cursor,s==null?void 0:s.limit,s==null?void 0:s.descendingOrder]})}async getAllEpochAddressMetrics(s){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[s==null?void 0:s.descendingOrder]})}async getEpochs(s){return await this.transport.request({method:"suix_getEpochs",params:[s==null?void 0:s.cursor,s==null?void 0:s.limit,s==null?void 0:s.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const s=await this.getCheckpoint({id:"0"}),et=fromBase58(s.digest);return toHex$2(et.slice(0,4))}async resolveNameServiceAddress(s){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[s.name]})}async resolveNameServiceNames({format:s="dot",...et}){const{nextCursor:nt,hasNextPage:at,data:mt}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[et.address,et.cursor,et.limit]});return{hasNextPage:at,nextCursor:nt,data:mt.map(wt=>normalizeSuiNSName(wt,s))}}async getProtocolConfig(s){return await this.transport.request({method:"sui_getProtocolConfig",params:[s==null?void 0:s.version]})}async waitForTransaction({signal:s,timeout:et=60*1e3,pollInterval:nt=2*1e3,...at}){const mt=AbortSignal.timeout(et),wt=new Promise(($t,Ct)=>{mt.addEventListener("abort",()=>Ct(mt.reason))});for(wt.catch(()=>{});!mt.aborted;){s==null||s.throwIfAborted();try{return await this.getTransactionBlock(at)}catch{await Promise.race([new Promise(Ct=>setTimeout(Ct,nt)),wt])}}throw mt.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}function setBigUint64(a,s,et,nt){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,et,nt);const at=BigInt(32),mt=BigInt(4294967295),wt=Number(et>>at&mt),$t=Number(et&mt),Ct=nt?4:0,Dt=nt?0:4;a.setUint32(s+Ct,wt,nt),a.setUint32(s+Dt,$t,nt)}class HashMD extends Hash$1{constructor(s,et,nt,at){super(),this.blockLen=s,this.outputLen=et,this.padOffset=nt,this.isLE=at,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){aexists(this);const{view:et,buffer:nt,blockLen:at}=this;s=toBytes(s);const mt=s.length;for(let wt=0;wt<mt;){const $t=Math.min(at-this.pos,mt-wt);if($t===at){const Ct=createView(s);for(;at<=mt-wt;wt+=at)this.process(Ct,wt);continue}nt.set(s.subarray(wt,wt+$t),this.pos),this.pos+=$t,wt+=$t,this.pos===at&&(this.process(et,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){aexists(this),aoutput(s,this),this.finished=!0;const{buffer:et,view:nt,blockLen:at,isLE:mt}=this;let{pos:wt}=this;et[wt++]=128,this.buffer.subarray(wt).fill(0),this.padOffset>at-wt&&(this.process(nt,0),wt=0);for(let jt=wt;jt<at;jt++)et[jt]=0;setBigUint64(nt,at-8,BigInt(this.length*8),mt),this.process(nt,0);const $t=createView(s),Ct=this.outputLen;if(Ct%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Dt=Ct/4,Ft=this.get();if(Dt>Ft.length)throw new Error("_sha2: outputLen bigger than state");for(let jt=0;jt<Dt;jt++)$t.setUint32(4*jt,Ft[jt],mt)}digest(){const{buffer:s,outputLen:et}=this;this.digestInto(s);const nt=s.slice(0,et);return this.destroy(),nt}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:et,buffer:nt,length:at,finished:mt,destroyed:wt,pos:$t}=this;return s.length=at,s.pos=$t,s.finished=mt,s.destroyed=wt,at%et&&s.buffer.set(nt),s}}class HMAC extends Hash$1{constructor(s,et){super(),this.finished=!1,this.destroyed=!1,ahash(s);const nt=toBytes(et);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const at=this.blockLen,mt=new Uint8Array(at);mt.set(nt.length>at?s.create().update(nt).digest():nt);for(let wt=0;wt<mt.length;wt++)mt[wt]^=54;this.iHash.update(mt),this.oHash=s.create();for(let wt=0;wt<mt.length;wt++)mt[wt]^=106;this.oHash.update(mt),mt.fill(0)}update(s){return aexists(this),this.iHash.update(s),this}digestInto(s){aexists(this),abytes$1(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:et,iHash:nt,finished:at,destroyed:mt,blockLen:wt,outputLen:$t}=this;return s=s,s.finished=at,s.destroyed=mt,s.blockLen=wt,s.outputLen=$t,s.oHash=et._cloneInto(s.oHash),s.iHash=nt._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$2=(a,s,et)=>new HMAC(a,s).update(et).digest();hmac$2.create=(a,s)=>new HMAC(a,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2);function isBytes(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function abytes(a){if(!isBytes(a))throw new Error("Uint8Array expected")}function abool(a,s){if(typeof s!="boolean")throw new Error(a+" boolean expected, got "+s)}const hexes=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function bytesToHex(a){abytes(a);let s="";for(let et=0;et<a.length;et++)s+=hexes[a[et]];return s}function hexToNumber(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return a===""?_0n$3:BigInt("0x"+a)}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(a){if(a>=asciis._0&&a<=asciis._9)return a-asciis._0;if(a>=asciis.A&&a<=asciis.F)return a-(asciis.A-10);if(a>=asciis.a&&a<=asciis.f)return a-(asciis.a-10)}function hexToBytes(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length,et=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const nt=new Uint8Array(et);for(let at=0,mt=0;at<et;at++,mt+=2){const wt=asciiToBase16(a.charCodeAt(mt)),$t=asciiToBase16(a.charCodeAt(mt+1));if(wt===void 0||$t===void 0){const Ct=a[mt]+a[mt+1];throw new Error('hex string expected, got non-hex character "'+Ct+'" at index '+mt)}nt[at]=wt*16+$t}return nt}function bytesToNumberBE(a){return hexToNumber(bytesToHex(a))}function bytesToNumberLE(a){return abytes(a),hexToNumber(bytesToHex(Uint8Array.from(a).reverse()))}function numberToBytesBE(a,s){return hexToBytes(a.toString(16).padStart(s*2,"0"))}function numberToBytesLE(a,s){return numberToBytesBE(a,s).reverse()}function ensureBytes(a,s,et){let nt;if(typeof s=="string")try{nt=hexToBytes(s)}catch(mt){throw new Error(a+" must be hex string or Uint8Array, cause: "+mt)}else if(isBytes(s))nt=Uint8Array.from(s);else throw new Error(a+" must be hex string or Uint8Array");const at=nt.length;if(typeof et=="number"&&at!==et)throw new Error(a+" of length "+et+" expected, got "+at);return nt}function concatBytes(...a){let s=0;for(let nt=0;nt<a.length;nt++){const at=a[nt];abytes(at),s+=at.length}const et=new Uint8Array(s);for(let nt=0,at=0;nt<a.length;nt++){const mt=a[nt];et.set(mt,at),at+=mt.length}return et}const isPosBig=a=>typeof a=="bigint"&&_0n$3<=a;function inRange(a,s,et){return isPosBig(a)&&isPosBig(s)&&isPosBig(et)&&s<=a&&a<et}function aInRange(a,s,et,nt){if(!inRange(s,et,nt))throw new Error("expected valid "+a+": "+et+" <= n < "+nt+", got "+s)}function bitLen(a){let s;for(s=0;a>_0n$3;a>>=_1n$4,s+=1);return s}const bitMask=a=>(_2n$3<<BigInt(a-1))-_1n$4,validatorFns={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||isBytes(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,s)=>s.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function validateObject(a,s,et={}){const nt=(at,mt,wt)=>{const $t=validatorFns[mt];if(typeof $t!="function")throw new Error("invalid validator function");const Ct=a[at];if(!(wt&&Ct===void 0)&&!$t(Ct,a))throw new Error("param "+String(at)+" is invalid. Expected "+mt+", got "+Ct)};for(const[at,mt]of Object.entries(s))nt(at,mt,!1);for(const[at,mt]of Object.entries(et))nt(at,mt,!0);return a}function memoized(a){const s=new WeakMap;return(et,...nt)=>{const at=s.get(et);if(at!==void 0)return at;const mt=a(et,...nt);return s.set(et,mt),mt}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);function mod$2(a,s){const et=a%s;return et>=_0n$2?et:s+et}function pow$3(a,s,et){if(s<_0n$2)throw new Error("invalid exponent, negatives unsupported");if(et<=_0n$2)throw new Error("invalid modulus");if(et===_1n$3)return _0n$2;let nt=_1n$3;for(;s>_0n$2;)s&_1n$3&&(nt=nt*a%et),a=a*a%et,s>>=_1n$3;return nt}function pow2(a,s,et){let nt=a;for(;s-- >_0n$2;)nt*=nt,nt%=et;return nt}function invert(a,s){if(a===_0n$2)throw new Error("invert: expected non-zero number");if(s<=_0n$2)throw new Error("invert: expected positive modulus, got "+s);let et=mod$2(a,s),nt=s,at=_0n$2,mt=_1n$3;for(;et!==_0n$2;){const $t=nt/et,Ct=nt%et,Dt=at-mt*$t;nt=et,et=Ct,at=mt,mt=Dt}if(nt!==_1n$3)throw new Error("invert: does not exist");return mod$2(at,s)}function tonelliShanks(a){const s=(a-_1n$3)/_2n$2;let et,nt,at;for(et=a-_1n$3,nt=0;et%_2n$2===_0n$2;et/=_2n$2,nt++);for(at=_2n$2;at<a&&pow$3(at,s,a)!==a-_1n$3;at++)if(at>1e3)throw new Error("Cannot find square root: likely non-prime P");if(nt===1){const wt=(a+_1n$3)/_4n;return function(Ct,Dt){const Ft=Ct.pow(Dt,wt);if(!Ct.eql(Ct.sqr(Ft),Dt))throw new Error("Cannot find square root");return Ft}}const mt=(et+_1n$3)/_2n$2;return function($t,Ct){if($t.pow(Ct,s)===$t.neg($t.ONE))throw new Error("Cannot find square root");let Dt=nt,Ft=$t.pow($t.mul($t.ONE,at),et),jt=$t.pow(Ct,mt),Ut=$t.pow(Ct,et);for(;!$t.eql(Ut,$t.ONE);){if($t.eql(Ut,$t.ZERO))return $t.ZERO;let tr=1;for(let sr=$t.sqr(Ut);tr<Dt&&!$t.eql(sr,$t.ONE);tr++)sr=$t.sqr(sr);const ir=$t.pow(Ft,_1n$3<<BigInt(Dt-tr-1));Ft=$t.sqr(ir),jt=$t.mul(jt,ir),Ut=$t.mul(Ut,Ft),Dt=tr}return jt}}function FpSqrt(a){if(a%_4n===_3n){const s=(a+_1n$3)/_4n;return function(nt,at){const mt=nt.pow(at,s);if(!nt.eql(nt.sqr(mt),at))throw new Error("Cannot find square root");return mt}}if(a%_8n$2===_5n$1){const s=(a-_5n$1)/_8n$2;return function(nt,at){const mt=nt.mul(at,_2n$2),wt=nt.pow(mt,s),$t=nt.mul(at,wt),Ct=nt.mul(nt.mul($t,_2n$2),wt),Dt=nt.mul($t,nt.sub(Ct,nt.ONE));if(!nt.eql(nt.sqr(Dt),at))throw new Error("Cannot find square root");return Dt}}return tonelliShanks(a)}const isNegativeLE=(a,s)=>(mod$2(a,s)&_1n$3)===_1n$3,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(a){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},et=FIELD_FIELDS.reduce((nt,at)=>(nt[at]="function",nt),s);return validateObject(a,et)}function FpPow(a,s,et){if(et<_0n$2)throw new Error("invalid exponent, negatives unsupported");if(et===_0n$2)return a.ONE;if(et===_1n$3)return s;let nt=a.ONE,at=s;for(;et>_0n$2;)et&_1n$3&&(nt=a.mul(nt,at)),at=a.sqr(at),et>>=_1n$3;return nt}function FpInvertBatch(a,s){const et=new Array(s.length),nt=s.reduce((mt,wt,$t)=>a.is0(wt)?mt:(et[$t]=mt,a.mul(mt,wt)),a.ONE),at=a.inv(nt);return s.reduceRight((mt,wt,$t)=>a.is0(wt)?mt:(et[$t]=a.mul(mt,et[$t]),a.mul(mt,wt)),at),et}function nLength(a,s){const et=s!==void 0?s:a.toString(2).length,nt=Math.ceil(et/8);return{nBitLength:et,nByteLength:nt}}function Field(a,s,et=!1,nt={}){if(a<=_0n$2)throw new Error("invalid field: expected ORDER > 0, got "+a);const{nBitLength:at,nByteLength:mt}=nLength(a,s);if(mt>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let wt;const $t=Object.freeze({ORDER:a,isLE:et,BITS:at,BYTES:mt,MASK:bitMask(at),ZERO:_0n$2,ONE:_1n$3,create:Ct=>mod$2(Ct,a),isValid:Ct=>{if(typeof Ct!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Ct);return _0n$2<=Ct&&Ct<a},is0:Ct=>Ct===_0n$2,isOdd:Ct=>(Ct&_1n$3)===_1n$3,neg:Ct=>mod$2(-Ct,a),eql:(Ct,Dt)=>Ct===Dt,sqr:Ct=>mod$2(Ct*Ct,a),add:(Ct,Dt)=>mod$2(Ct+Dt,a),sub:(Ct,Dt)=>mod$2(Ct-Dt,a),mul:(Ct,Dt)=>mod$2(Ct*Dt,a),pow:(Ct,Dt)=>FpPow($t,Ct,Dt),div:(Ct,Dt)=>mod$2(Ct*invert(Dt,a),a),sqrN:Ct=>Ct*Ct,addN:(Ct,Dt)=>Ct+Dt,subN:(Ct,Dt)=>Ct-Dt,mulN:(Ct,Dt)=>Ct*Dt,inv:Ct=>invert(Ct,a),sqrt:nt.sqrt||(Ct=>(wt||(wt=FpSqrt(a)),wt($t,Ct))),invertBatch:Ct=>FpInvertBatch($t,Ct),cmov:(Ct,Dt,Ft)=>Ft?Dt:Ct,toBytes:Ct=>et?numberToBytesLE(Ct,mt):numberToBytesBE(Ct,mt),fromBytes:Ct=>{if(Ct.length!==mt)throw new Error("Field.fromBytes: expected "+mt+" bytes, got "+Ct.length);return et?bytesToNumberLE(Ct):bytesToNumberBE(Ct)}});return Object.freeze($t)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function constTimeNegate(a,s){const et=s.negate();return a?et:s}function validateW(a,s){if(!Number.isSafeInteger(a)||a<=0||a>s)throw new Error("invalid window size, expected [1.."+s+"], got W="+a)}function calcWOpts(a,s){validateW(a,s);const et=Math.ceil(s/a)+1,nt=2**(a-1);return{windows:et,windowSize:nt}}function validateMSMPoints(a,s){if(!Array.isArray(a))throw new Error("array expected");a.forEach((et,nt)=>{if(!(et instanceof s))throw new Error("invalid point at index "+nt)})}function validateMSMScalars(a,s){if(!Array.isArray(a))throw new Error("array of scalars expected");a.forEach((et,nt)=>{if(!s.isValid(et))throw new Error("invalid scalar at index "+nt)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(a){return pointWindowSizes.get(a)||1}function wNAF(a,s){return{constTimeNegate,hasPrecomputes(et){return getW(et)!==1},unsafeLadder(et,nt,at=a.ZERO){let mt=et;for(;nt>_0n$1;)nt&_1n$2&&(at=at.add(mt)),mt=mt.double(),nt>>=_1n$2;return at},precomputeWindow(et,nt){const{windows:at,windowSize:mt}=calcWOpts(nt,s),wt=[];let $t=et,Ct=$t;for(let Dt=0;Dt<at;Dt++){Ct=$t,wt.push(Ct);for(let Ft=1;Ft<mt;Ft++)Ct=Ct.add($t),wt.push(Ct);$t=Ct.double()}return wt},wNAF(et,nt,at){const{windows:mt,windowSize:wt}=calcWOpts(et,s);let $t=a.ZERO,Ct=a.BASE;const Dt=BigInt(2**et-1),Ft=2**et,jt=BigInt(et);for(let Ut=0;Ut<mt;Ut++){const tr=Ut*wt;let ir=Number(at&Dt);at>>=jt,ir>wt&&(ir-=Ft,at+=_1n$2);const sr=tr,ur=tr+Math.abs(ir)-1,fr=Ut%2!==0,dr=ir<0;ir===0?Ct=Ct.add(constTimeNegate(fr,nt[sr])):$t=$t.add(constTimeNegate(dr,nt[ur]))}return{p:$t,f:Ct}},wNAFUnsafe(et,nt,at,mt=a.ZERO){const{windows:wt,windowSize:$t}=calcWOpts(et,s),Ct=BigInt(2**et-1),Dt=2**et,Ft=BigInt(et);for(let jt=0;jt<wt;jt++){const Ut=jt*$t;if(at===_0n$1)break;let tr=Number(at&Ct);if(at>>=Ft,tr>$t&&(tr-=Dt,at+=_1n$2),tr===0)continue;let ir=nt[Ut+Math.abs(tr)-1];tr<0&&(ir=ir.negate()),mt=mt.add(ir)}return mt},getPrecomputes(et,nt,at){let mt=pointPrecomputes.get(nt);return mt||(mt=this.precomputeWindow(nt,et),et!==1&&pointPrecomputes.set(nt,at(mt))),mt},wNAFCached(et,nt,at){const mt=getW(et);return this.wNAF(mt,this.getPrecomputes(mt,et,at),nt)},wNAFCachedUnsafe(et,nt,at,mt){const wt=getW(et);return wt===1?this.unsafeLadder(et,nt,mt):this.wNAFUnsafe(wt,this.getPrecomputes(wt,et,at),nt,mt)},setWindowSize(et,nt){validateW(nt,s),pointWindowSizes.set(et,nt),pointPrecomputes.delete(et)}}}function pippenger(a,s,et,nt){if(validateMSMPoints(et,a),validateMSMScalars(nt,s),et.length!==nt.length)throw new Error("arrays of points and scalars must have equal length");const at=a.ZERO,mt=bitLen(BigInt(et.length)),wt=mt>12?mt-3:mt>4?mt-2:mt?2:1,$t=(1<<wt)-1,Ct=new Array($t+1).fill(at),Dt=Math.floor((s.BITS-1)/wt)*wt;let Ft=at;for(let jt=Dt;jt>=0;jt-=wt){Ct.fill(at);for(let tr=0;tr<nt.length;tr++){const ir=nt[tr],sr=Number(ir>>BigInt(jt)&BigInt($t));Ct[sr]=Ct[sr].add(et[tr])}let Ut=at;for(let tr=Ct.length-1,ir=at;tr>0;tr--)ir=ir.add(Ct[tr]),Ut=Ut.add(ir);if(Ft=Ft.add(Ut),jt!==0)for(let tr=0;tr<wt;tr++)Ft=Ft.double()}return Ft}function validateBasic(a){return validateField(a.Fp),validateObject(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function messageWithIntent(a,s){return suiBcs.IntentMessage(suiBcs.fixedArray(s.length,suiBcs.u8())).serialize({intent:{scope:{[a]:!0},version:{V0:!0},appId:{Sui:!0}},value:s}).toBytes()}const SIGNATURE_SCHEME_TO_FLAG={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},SIGNATURE_SCHEME_TO_SIZE={ED25519:32,Secp256k1:33,Secp256r1:33},SIGNATURE_FLAG_TO_SCHEME={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};function bytesEqual(a,s){if(a===s)return!0;if(a.length!==s.length)return!1;for(let et=0;et<a.length;et++)if(a[et]!==s[et])return!1;return!0}class PublicKey{equals(s){return bytesEqual(this.toRawBytes(),s.toRawBytes())}toBase64(){return toBase64(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const s=this.toSuiBytes();return toBase64(s)}verifyWithIntent(s,et,nt){const at=messageWithIntent(nt,s),mt=blake2b$1(at,{dkLen:32});return this.verify(mt,et)}verifyPersonalMessage(s,et){return this.verifyWithIntent(suiBcs.vector(suiBcs.u8()).serialize(s).toBytes(),et,"PersonalMessage")}verifyTransaction(s,et){return this.verifyWithIntent(s,et,"TransactionData")}verifyAddress(s){return this.toSuiAddress()===s}toSuiBytes(){const s=this.toRawBytes(),et=new Uint8Array(s.length+1);return et.set([this.flag()]),et.set(s,1),et}toSuiAddress(){return normalizeSuiAddress(bytesToHex$1(blake2b$1(this.toSuiBytes(),{dkLen:32})).slice(0,SUI_ADDRESS_LENGTH*2))}}function parseSerializedKeypairSignature(a){const s=fromBase64(a),et=SIGNATURE_FLAG_TO_SCHEME[s[0]];switch(et){case"ED25519":case"Secp256k1":case"Secp256r1":const nt=SIGNATURE_SCHEME_TO_SIZE[et],at=s.slice(1,s.length-nt),mt=s.slice(1+at.length);return{serializedSignature:a,signatureScheme:et,signature:at,publicKey:mt,bytes:s};default:throw new Error("Unsupported signature scheme")}}function devAssert(a,s){if(!!!a)throw new Error(s)}function isObjectLike$1(a){return typeof a=="object"&&a!==null}function invariant$R(a,s){if(!!!a)throw new Error("Unexpected invariant triggered.")}const LineRegExp=/\r\n|[\n\r]/g;function getLocation(a,s){let et=0,nt=1;for(const at of a.body.matchAll(LineRegExp)){if(typeof at.index=="number"||invariant$R(!1),at.index>=s)break;et=at.index+at[0].length,nt+=1}return{line:nt,column:s+1-et}}function printLocation(a){return printSourceLocation(a.source,getLocation(a.source,a.start))}function printSourceLocation(a,s){const et=a.locationOffset.column-1,nt="".padStart(et)+a.body,at=s.line-1,mt=a.locationOffset.line-1,wt=s.line+mt,$t=s.line===1?et:0,Ct=s.column+$t,Dt=`${a.name}:${wt}:${Ct}
`,Ft=nt.split(/\r\n|[\n\r]/g),jt=Ft[at];if(jt.length>120){const Ut=Math.floor(Ct/80),tr=Ct%80,ir=[];for(let sr=0;sr<jt.length;sr+=80)ir.push(jt.slice(sr,sr+80));return Dt+printPrefixedLines([[`${wt} |`,ir[0]],...ir.slice(1,Ut+1).map(sr=>["|",sr]),["|","^".padStart(tr)],["|",ir[Ut+1]]])}return Dt+printPrefixedLines([[`${wt-1} |`,Ft[at-1]],[`${wt} |`,jt],["|","^".padStart(Ct)],[`${wt+1} |`,Ft[at+1]]])}function printPrefixedLines(a){const s=a.filter(([nt,at])=>at!==void 0),et=Math.max(...s.map(([nt])=>nt.length));return s.map(([nt,at])=>nt.padStart(et)+(at?" "+at:"")).join(`
`)}function toNormalizedOptions(a){const s=a[0];return s==null||"kind"in s||"length"in s?{nodes:s,source:a[1],positions:a[2],path:a[3],originalError:a[4],extensions:a[5]}:s}class GraphQLError extends Error{constructor(s,...et){var nt,at,mt;const{nodes:wt,source:$t,positions:Ct,path:Dt,originalError:Ft,extensions:jt}=toNormalizedOptions(et);super(s),this.name="GraphQLError",this.path=Dt??void 0,this.originalError=Ft??void 0,this.nodes=undefinedIfEmpty(Array.isArray(wt)?wt:wt?[wt]:void 0);const Ut=undefinedIfEmpty((nt=this.nodes)===null||nt===void 0?void 0:nt.map(ir=>ir.loc).filter(ir=>ir!=null));this.source=$t??(Ut==null||(at=Ut[0])===null||at===void 0?void 0:at.source),this.positions=Ct??(Ut==null?void 0:Ut.map(ir=>ir.start)),this.locations=Ct&&$t?Ct.map(ir=>getLocation($t,ir)):Ut==null?void 0:Ut.map(ir=>getLocation(ir.source,ir.start));const tr=isObjectLike$1(Ft==null?void 0:Ft.extensions)?Ft==null?void 0:Ft.extensions:void 0;this.extensions=(mt=jt??tr)!==null&&mt!==void 0?mt:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),Ft!=null&&Ft.stack?Object.defineProperty(this,"stack",{value:Ft.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let s=this.message;if(this.nodes)for(const et of this.nodes)et.loc&&(s+=`

`+printLocation(et.loc));else if(this.source&&this.locations)for(const et of this.locations)s+=`

`+printSourceLocation(this.source,et);return s}toJSON(){const s={message:this.message};return this.locations!=null&&(s.locations=this.locations),this.path!=null&&(s.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(s.extensions=this.extensions),s}}function undefinedIfEmpty(a){return a===void 0||a.length===0?void 0:a}function syntaxError(a,s,et){return new GraphQLError(`Syntax Error: ${et}`,{source:a,positions:[s]})}class Location{constructor(s,et,nt){this.start=s.start,this.end=et.end,this.startToken=s,this.endToken=et,this.source=nt}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Token{constructor(s,et,nt,at,mt,wt){this.kind=s,this.start=et,this.end=nt,this.line=at,this.column=mt,this.value=wt,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kindValues=new Set(Object.keys(QueryDocumentKeys));function isNode(a){const s=a==null?void 0:a.kind;return typeof s=="string"&&kindValues.has(s)}var OperationTypeNode;(function(a){a.QUERY="query",a.MUTATION="mutation",a.SUBSCRIPTION="subscription"})(OperationTypeNode||(OperationTypeNode={}));var DirectiveLocation;(function(a){a.QUERY="QUERY",a.MUTATION="MUTATION",a.SUBSCRIPTION="SUBSCRIPTION",a.FIELD="FIELD",a.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",a.FRAGMENT_SPREAD="FRAGMENT_SPREAD",a.INLINE_FRAGMENT="INLINE_FRAGMENT",a.VARIABLE_DEFINITION="VARIABLE_DEFINITION",a.SCHEMA="SCHEMA",a.SCALAR="SCALAR",a.OBJECT="OBJECT",a.FIELD_DEFINITION="FIELD_DEFINITION",a.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",a.INTERFACE="INTERFACE",a.UNION="UNION",a.ENUM="ENUM",a.ENUM_VALUE="ENUM_VALUE",a.INPUT_OBJECT="INPUT_OBJECT",a.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(DirectiveLocation||(DirectiveLocation={}));var Kind;(function(a){a.NAME="Name",a.DOCUMENT="Document",a.OPERATION_DEFINITION="OperationDefinition",a.VARIABLE_DEFINITION="VariableDefinition",a.SELECTION_SET="SelectionSet",a.FIELD="Field",a.ARGUMENT="Argument",a.FRAGMENT_SPREAD="FragmentSpread",a.INLINE_FRAGMENT="InlineFragment",a.FRAGMENT_DEFINITION="FragmentDefinition",a.VARIABLE="Variable",a.INT="IntValue",a.FLOAT="FloatValue",a.STRING="StringValue",a.BOOLEAN="BooleanValue",a.NULL="NullValue",a.ENUM="EnumValue",a.LIST="ListValue",a.OBJECT="ObjectValue",a.OBJECT_FIELD="ObjectField",a.DIRECTIVE="Directive",a.NAMED_TYPE="NamedType",a.LIST_TYPE="ListType",a.NON_NULL_TYPE="NonNullType",a.SCHEMA_DEFINITION="SchemaDefinition",a.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",a.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",a.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",a.FIELD_DEFINITION="FieldDefinition",a.INPUT_VALUE_DEFINITION="InputValueDefinition",a.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",a.UNION_TYPE_DEFINITION="UnionTypeDefinition",a.ENUM_TYPE_DEFINITION="EnumTypeDefinition",a.ENUM_VALUE_DEFINITION="EnumValueDefinition",a.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",a.DIRECTIVE_DEFINITION="DirectiveDefinition",a.SCHEMA_EXTENSION="SchemaExtension",a.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",a.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",a.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",a.UNION_TYPE_EXTENSION="UnionTypeExtension",a.ENUM_TYPE_EXTENSION="EnumTypeExtension",a.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Kind||(Kind={}));function isWhiteSpace(a){return a===9||a===32}function isDigit(a){return a>=48&&a<=57}function isLetter(a){return a>=97&&a<=122||a>=65&&a<=90}function isNameStart(a){return isLetter(a)||a===95}function isNameContinue(a){return isLetter(a)||isDigit(a)||a===95}function dedentBlockStringLines(a){var s;let et=Number.MAX_SAFE_INTEGER,nt=null,at=-1;for(let wt=0;wt<a.length;++wt){var mt;const $t=a[wt],Ct=leadingWhitespace($t);Ct!==$t.length&&(nt=(mt=nt)!==null&&mt!==void 0?mt:wt,at=wt,wt!==0&&Ct<et&&(et=Ct))}return a.map((wt,$t)=>$t===0?wt:wt.slice(et)).slice((s=nt)!==null&&s!==void 0?s:0,at+1)}function leadingWhitespace(a){let s=0;for(;s<a.length&&isWhiteSpace(a.charCodeAt(s));)++s;return s}function printBlockString(a,s){const et=a.replace(/"""/g,'\\"""'),nt=et.split(/\r\n|[\n\r]/g),at=nt.length===1,mt=nt.length>1&&nt.slice(1).every(tr=>tr.length===0||isWhiteSpace(tr.charCodeAt(0))),wt=et.endsWith('\\"""'),$t=a.endsWith('"')&&!wt,Ct=a.endsWith("\\"),Dt=$t||Ct,Ft=!at||a.length>70||Dt||mt||wt;let jt="";const Ut=at&&isWhiteSpace(a.charCodeAt(0));return(Ft&&!Ut||mt)&&(jt+=`
`),jt+=et,(Ft||Dt)&&(jt+=`
`),'"""'+jt+'"""'}var TokenKind;(function(a){a.SOF="<SOF>",a.EOF="<EOF>",a.BANG="!",a.DOLLAR="$",a.AMP="&",a.PAREN_L="(",a.PAREN_R=")",a.SPREAD="...",a.COLON=":",a.EQUALS="=",a.AT="@",a.BRACKET_L="[",a.BRACKET_R="]",a.BRACE_L="{",a.PIPE="|",a.BRACE_R="}",a.NAME="Name",a.INT="Int",a.FLOAT="Float",a.STRING="String",a.BLOCK_STRING="BlockString",a.COMMENT="Comment"})(TokenKind||(TokenKind={}));class Lexer{constructor(s){const et=new Token(TokenKind.SOF,0,0,0,0);this.source=s,this.lastToken=et,this.token=et,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let s=this.token;if(s.kind!==TokenKind.EOF)do if(s.next)s=s.next;else{const et=readNextToken(this,s.end);s.next=et,et.prev=s,s=et}while(s.kind===TokenKind.COMMENT);return s}}function isPunctuatorTokenKind(a){return a===TokenKind.BANG||a===TokenKind.DOLLAR||a===TokenKind.AMP||a===TokenKind.PAREN_L||a===TokenKind.PAREN_R||a===TokenKind.SPREAD||a===TokenKind.COLON||a===TokenKind.EQUALS||a===TokenKind.AT||a===TokenKind.BRACKET_L||a===TokenKind.BRACKET_R||a===TokenKind.BRACE_L||a===TokenKind.PIPE||a===TokenKind.BRACE_R}function isUnicodeScalarValue(a){return a>=0&&a<=55295||a>=57344&&a<=1114111}function isSupplementaryCodePoint(a,s){return isLeadingSurrogate(a.charCodeAt(s))&&isTrailingSurrogate(a.charCodeAt(s+1))}function isLeadingSurrogate(a){return a>=55296&&a<=56319}function isTrailingSurrogate(a){return a>=56320&&a<=57343}function printCodePointAt(a,s){const et=a.source.body.codePointAt(s);if(et===void 0)return TokenKind.EOF;if(et>=32&&et<=126){const nt=String.fromCodePoint(et);return nt==='"'?`'"'`:`"${nt}"`}return"U+"+et.toString(16).toUpperCase().padStart(4,"0")}function createToken(a,s,et,nt,at){const mt=a.line,wt=1+et-a.lineStart;return new Token(s,et,nt,mt,wt,at)}function readNextToken(a,s){const et=a.source.body,nt=et.length;let at=s;for(;at<nt;){const mt=et.charCodeAt(at);switch(mt){case 65279:case 9:case 32:case 44:++at;continue;case 10:++at,++a.line,a.lineStart=at;continue;case 13:et.charCodeAt(at+1)===10?at+=2:++at,++a.line,a.lineStart=at;continue;case 35:return readComment(a,at);case 33:return createToken(a,TokenKind.BANG,at,at+1);case 36:return createToken(a,TokenKind.DOLLAR,at,at+1);case 38:return createToken(a,TokenKind.AMP,at,at+1);case 40:return createToken(a,TokenKind.PAREN_L,at,at+1);case 41:return createToken(a,TokenKind.PAREN_R,at,at+1);case 46:if(et.charCodeAt(at+1)===46&&et.charCodeAt(at+2)===46)return createToken(a,TokenKind.SPREAD,at,at+3);break;case 58:return createToken(a,TokenKind.COLON,at,at+1);case 61:return createToken(a,TokenKind.EQUALS,at,at+1);case 64:return createToken(a,TokenKind.AT,at,at+1);case 91:return createToken(a,TokenKind.BRACKET_L,at,at+1);case 93:return createToken(a,TokenKind.BRACKET_R,at,at+1);case 123:return createToken(a,TokenKind.BRACE_L,at,at+1);case 124:return createToken(a,TokenKind.PIPE,at,at+1);case 125:return createToken(a,TokenKind.BRACE_R,at,at+1);case 34:return et.charCodeAt(at+1)===34&&et.charCodeAt(at+2)===34?readBlockString(a,at):readString(a,at)}if(isDigit(mt)||mt===45)return readNumber(a,at,mt);if(isNameStart(mt))return readName(a,at);throw syntaxError(a.source,at,mt===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:isUnicodeScalarValue(mt)||isSupplementaryCodePoint(et,at)?`Unexpected character: ${printCodePointAt(a,at)}.`:`Invalid character: ${printCodePointAt(a,at)}.`)}return createToken(a,TokenKind.EOF,nt,nt)}function readComment(a,s){const et=a.source.body,nt=et.length;let at=s+1;for(;at<nt;){const mt=et.charCodeAt(at);if(mt===10||mt===13)break;if(isUnicodeScalarValue(mt))++at;else if(isSupplementaryCodePoint(et,at))at+=2;else break}return createToken(a,TokenKind.COMMENT,s,at,et.slice(s+1,at))}function readNumber(a,s,et){const nt=a.source.body;let at=s,mt=et,wt=!1;if(mt===45&&(mt=nt.charCodeAt(++at)),mt===48){if(mt=nt.charCodeAt(++at),isDigit(mt))throw syntaxError(a.source,at,`Invalid number, unexpected digit after 0: ${printCodePointAt(a,at)}.`)}else at=readDigits(a,at,mt),mt=nt.charCodeAt(at);if(mt===46&&(wt=!0,mt=nt.charCodeAt(++at),at=readDigits(a,at,mt),mt=nt.charCodeAt(at)),(mt===69||mt===101)&&(wt=!0,mt=nt.charCodeAt(++at),(mt===43||mt===45)&&(mt=nt.charCodeAt(++at)),at=readDigits(a,at,mt),mt=nt.charCodeAt(at)),mt===46||isNameStart(mt))throw syntaxError(a.source,at,`Invalid number, expected digit but got: ${printCodePointAt(a,at)}.`);return createToken(a,wt?TokenKind.FLOAT:TokenKind.INT,s,at,nt.slice(s,at))}function readDigits(a,s,et){if(!isDigit(et))throw syntaxError(a.source,s,`Invalid number, expected digit but got: ${printCodePointAt(a,s)}.`);const nt=a.source.body;let at=s+1;for(;isDigit(nt.charCodeAt(at));)++at;return at}function readString(a,s){const et=a.source.body,nt=et.length;let at=s+1,mt=at,wt="";for(;at<nt;){const $t=et.charCodeAt(at);if($t===34)return wt+=et.slice(mt,at),createToken(a,TokenKind.STRING,s,at+1,wt);if($t===92){wt+=et.slice(mt,at);const Ct=et.charCodeAt(at+1)===117?et.charCodeAt(at+2)===123?readEscapedUnicodeVariableWidth(a,at):readEscapedUnicodeFixedWidth(a,at):readEscapedCharacter(a,at);wt+=Ct.value,at+=Ct.size,mt=at;continue}if($t===10||$t===13)break;if(isUnicodeScalarValue($t))++at;else if(isSupplementaryCodePoint(et,at))at+=2;else throw syntaxError(a.source,at,`Invalid character within String: ${printCodePointAt(a,at)}.`)}throw syntaxError(a.source,at,"Unterminated string.")}function readEscapedUnicodeVariableWidth(a,s){const et=a.source.body;let nt=0,at=3;for(;at<12;){const mt=et.charCodeAt(s+at++);if(mt===125){if(at<5||!isUnicodeScalarValue(nt))break;return{value:String.fromCodePoint(nt),size:at}}if(nt=nt<<4|readHexDigit(mt),nt<0)break}throw syntaxError(a.source,s,`Invalid Unicode escape sequence: "${et.slice(s,s+at)}".`)}function readEscapedUnicodeFixedWidth(a,s){const et=a.source.body,nt=read16BitHexCode(et,s+2);if(isUnicodeScalarValue(nt))return{value:String.fromCodePoint(nt),size:6};if(isLeadingSurrogate(nt)&&et.charCodeAt(s+6)===92&&et.charCodeAt(s+7)===117){const at=read16BitHexCode(et,s+8);if(isTrailingSurrogate(at))return{value:String.fromCodePoint(nt,at),size:12}}throw syntaxError(a.source,s,`Invalid Unicode escape sequence: "${et.slice(s,s+6)}".`)}function read16BitHexCode(a,s){return readHexDigit(a.charCodeAt(s))<<12|readHexDigit(a.charCodeAt(s+1))<<8|readHexDigit(a.charCodeAt(s+2))<<4|readHexDigit(a.charCodeAt(s+3))}function readHexDigit(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function readEscapedCharacter(a,s){const et=a.source.body;switch(et.charCodeAt(s+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw syntaxError(a.source,s,`Invalid character escape sequence: "${et.slice(s,s+2)}".`)}function readBlockString(a,s){const et=a.source.body,nt=et.length;let at=a.lineStart,mt=s+3,wt=mt,$t="";const Ct=[];for(;mt<nt;){const Dt=et.charCodeAt(mt);if(Dt===34&&et.charCodeAt(mt+1)===34&&et.charCodeAt(mt+2)===34){$t+=et.slice(wt,mt),Ct.push($t);const Ft=createToken(a,TokenKind.BLOCK_STRING,s,mt+3,dedentBlockStringLines(Ct).join(`
`));return a.line+=Ct.length-1,a.lineStart=at,Ft}if(Dt===92&&et.charCodeAt(mt+1)===34&&et.charCodeAt(mt+2)===34&&et.charCodeAt(mt+3)===34){$t+=et.slice(wt,mt),wt=mt+1,mt+=4;continue}if(Dt===10||Dt===13){$t+=et.slice(wt,mt),Ct.push($t),Dt===13&&et.charCodeAt(mt+1)===10?mt+=2:++mt,$t="",wt=mt,at=mt;continue}if(isUnicodeScalarValue(Dt))++mt;else if(isSupplementaryCodePoint(et,mt))mt+=2;else throw syntaxError(a.source,mt,`Invalid character within String: ${printCodePointAt(a,mt)}.`)}throw syntaxError(a.source,mt,"Unterminated string.")}function readName(a,s){const et=a.source.body,nt=et.length;let at=s+1;for(;at<nt;){const mt=et.charCodeAt(at);if(isNameContinue(mt))++at;else break}return createToken(a,TokenKind.NAME,s,at,et.slice(s,at))}const MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(a){return formatValue(a,[])}function formatValue(a,s){switch(typeof a){case"string":return JSON.stringify(a);case"function":return a.name?`[function ${a.name}]`:"[function]";case"object":return formatObjectValue(a,s);default:return String(a)}}function formatObjectValue(a,s){if(a===null)return"null";if(s.includes(a))return"[Circular]";const et=[...s,a];if(isJSONable(a)){const nt=a.toJSON();if(nt!==a)return typeof nt=="string"?nt:formatValue(nt,et)}else if(Array.isArray(a))return formatArray(a,et);return formatObject(a,et)}function isJSONable(a){return typeof a.toJSON=="function"}function formatObject(a,s){const et=Object.entries(a);return et.length===0?"{}":s.length>MAX_RECURSIVE_DEPTH?"["+getObjectTag(a)+"]":"{ "+et.map(([at,mt])=>at+": "+formatValue(mt,s)).join(", ")+" }"}function formatArray(a,s){if(a.length===0)return"[]";if(s.length>MAX_RECURSIVE_DEPTH)return"[Array]";const et=Math.min(MAX_ARRAY_LENGTH,a.length),nt=a.length-et,at=[];for(let mt=0;mt<et;++mt)at.push(formatValue(a[mt],s));return nt===1?at.push("... 1 more item"):nt>1&&at.push(`... ${nt} more items`),"["+at.join(", ")+"]"}function getObjectTag(a){const s=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if(s==="Object"&&typeof a.constructor=="function"){const et=a.constructor.name;if(typeof et=="string"&&et!=="")return et}return s}const isProduction=globalThis.process&&!0,instanceOf=isProduction?function(s,et){return s instanceof et}:function(s,et){if(s instanceof et)return!0;if(typeof s=="object"&&s!==null){var nt;const at=et.prototype[Symbol.toStringTag],mt=Symbol.toStringTag in s?s[Symbol.toStringTag]:(nt=s.constructor)===null||nt===void 0?void 0:nt.name;if(at===mt){const wt=inspect(s);throw new Error(`Cannot use ${at} "${wt}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Source{constructor(s,et="GraphQL request",nt={line:1,column:1}){typeof s=="string"||devAssert(!1,`Body must be a string. Received: ${inspect(s)}.`),this.body=s,this.name=et,this.locationOffset=nt,this.locationOffset.line>0||devAssert(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function isSource(a){return instanceOf(a,Source)}function parse$1(a,s){const et=new Parser(a,s),nt=et.parseDocument();return Object.defineProperty(nt,"tokenCount",{enumerable:!1,value:et.tokenCount}),nt}class Parser{constructor(s,et={}){const nt=isSource(s)?s:new Source(s);this._lexer=new Lexer(nt),this._options=et,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const s=this.expectToken(TokenKind.NAME);return this.node(s,{kind:Kind.NAME,value:s.value})}parseDocument(){return this.node(this._lexer.token,{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF)})}parseDefinition(){if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();const s=this.peekDescription(),et=s?this._lexer.lookahead():this._lexer.token;if(et.kind===TokenKind.NAME){switch(et.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(s)throw syntaxError(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(et.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(et)}parseOperationDefinition(){const s=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return this.node(s,{kind:Kind.OPERATION_DEFINITION,operation:OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const et=this.parseOperationType();let nt;return this.peek(TokenKind.NAME)&&(nt=this.parseName()),this.node(s,{kind:Kind.OPERATION_DEFINITION,operation:et,name:nt,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const s=this.expectToken(TokenKind.NAME);switch(s.value){case"query":return OperationTypeNode.QUERY;case"mutation":return OperationTypeNode.MUTATION;case"subscription":return OperationTypeNode.SUBSCRIPTION}throw this.unexpected(s)}parseVariableDefinitions(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const s=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),this.node(s,{kind:Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R)})}parseSelection(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){const s=this._lexer.token,et=this.parseName();let nt,at;return this.expectOptionalToken(TokenKind.COLON)?(nt=et,at=this.parseName()):at=et,this.node(s,{kind:Kind.FIELD,alias:nt,name:at,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(s){const et=s?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,et,TokenKind.PAREN_R)}parseArgument(s=!1){const et=this._lexer.token,nt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(et,{kind:Kind.ARGUMENT,name:nt,value:this.parseValueLiteral(s)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const s=this._lexer.token;this.expectToken(TokenKind.SPREAD);const et=this.expectOptionalKeyword("on");return!et&&this.peek(TokenKind.NAME)?this.node(s,{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(s,{kind:Kind.INLINE_FRAGMENT,typeCondition:et?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const s=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(s,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(s,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(s){const et=this._lexer.token;switch(et.kind){case TokenKind.BRACKET_L:return this.parseList(s);case TokenKind.BRACE_L:return this.parseObject(s);case TokenKind.INT:return this.advanceLexer(),this.node(et,{kind:Kind.INT,value:et.value});case TokenKind.FLOAT:return this.advanceLexer(),this.node(et,{kind:Kind.FLOAT,value:et.value});case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this.advanceLexer(),et.value){case"true":return this.node(et,{kind:Kind.BOOLEAN,value:!0});case"false":return this.node(et,{kind:Kind.BOOLEAN,value:!1});case"null":return this.node(et,{kind:Kind.NULL});default:return this.node(et,{kind:Kind.ENUM,value:et.value})}case TokenKind.DOLLAR:if(s)if(this.expectToken(TokenKind.DOLLAR),this._lexer.token.kind===TokenKind.NAME){const nt=this._lexer.token.value;throw syntaxError(this._lexer.source,et.start,`Unexpected variable "$${nt}" in constant value.`)}else throw this.unexpected(et);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const s=this._lexer.token;return this.advanceLexer(),this.node(s,{kind:Kind.STRING,value:s.value,block:s.kind===TokenKind.BLOCK_STRING})}parseList(s){const et=()=>this.parseValueLiteral(s);return this.node(this._lexer.token,{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,et,TokenKind.BRACKET_R)})}parseObject(s){const et=()=>this.parseObjectField(s);return this.node(this._lexer.token,{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,et,TokenKind.BRACE_R)})}parseObjectField(s){const et=this._lexer.token,nt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(et,{kind:Kind.OBJECT_FIELD,name:nt,value:this.parseValueLiteral(s)})}parseDirectives(s){const et=[];for(;this.peek(TokenKind.AT);)et.push(this.parseDirective(s));return et}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(s){const et=this._lexer.token;return this.expectToken(TokenKind.AT),this.node(et,{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(s)})}parseTypeReference(){const s=this._lexer.token;let et;if(this.expectOptionalToken(TokenKind.BRACKET_L)){const nt=this.parseTypeReference();this.expectToken(TokenKind.BRACKET_R),et=this.node(s,{kind:Kind.LIST_TYPE,type:nt})}else et=this.parseNamedType();return this.expectOptionalToken(TokenKind.BANG)?this.node(s,{kind:Kind.NON_NULL_TYPE,type:et}):et}parseNamedType(){return this.node(this._lexer.token,{kind:Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("schema");const nt=this.parseConstDirectives(),at=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return this.node(s,{kind:Kind.SCHEMA_DEFINITION,description:et,directives:nt,operationTypes:at})}parseOperationTypeDefinition(){const s=this._lexer.token,et=this.parseOperationType();this.expectToken(TokenKind.COLON);const nt=this.parseNamedType();return this.node(s,{kind:Kind.OPERATION_TYPE_DEFINITION,operation:et,type:nt})}parseScalarTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("scalar");const nt=this.parseName(),at=this.parseConstDirectives();return this.node(s,{kind:Kind.SCALAR_TYPE_DEFINITION,description:et,name:nt,directives:at})}parseObjectTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("type");const nt=this.parseName(),at=this.parseImplementsInterfaces(),mt=this.parseConstDirectives(),wt=this.parseFieldsDefinition();return this.node(s,{kind:Kind.OBJECT_TYPE_DEFINITION,description:et,name:nt,interfaces:at,directives:mt,fields:wt})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)}parseFieldDefinition(){const s=this._lexer.token,et=this.parseDescription(),nt=this.parseName(),at=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);const mt=this.parseTypeReference(),wt=this.parseConstDirectives();return this.node(s,{kind:Kind.FIELD_DEFINITION,description:et,name:nt,arguments:at,type:mt,directives:wt})}parseArgumentDefs(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)}parseInputValueDef(){const s=this._lexer.token,et=this.parseDescription(),nt=this.parseName();this.expectToken(TokenKind.COLON);const at=this.parseTypeReference();let mt;this.expectOptionalToken(TokenKind.EQUALS)&&(mt=this.parseConstValueLiteral());const wt=this.parseConstDirectives();return this.node(s,{kind:Kind.INPUT_VALUE_DEFINITION,description:et,name:nt,type:at,defaultValue:mt,directives:wt})}parseInterfaceTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("interface");const nt=this.parseName(),at=this.parseImplementsInterfaces(),mt=this.parseConstDirectives(),wt=this.parseFieldsDefinition();return this.node(s,{kind:Kind.INTERFACE_TYPE_DEFINITION,description:et,name:nt,interfaces:at,directives:mt,fields:wt})}parseUnionTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("union");const nt=this.parseName(),at=this.parseConstDirectives(),mt=this.parseUnionMemberTypes();return this.node(s,{kind:Kind.UNION_TYPE_DEFINITION,description:et,name:nt,directives:at,types:mt})}parseUnionMemberTypes(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("enum");const nt=this.parseName(),at=this.parseConstDirectives(),mt=this.parseEnumValuesDefinition();return this.node(s,{kind:Kind.ENUM_TYPE_DEFINITION,description:et,name:nt,directives:at,values:mt})}parseEnumValuesDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)}parseEnumValueDefinition(){const s=this._lexer.token,et=this.parseDescription(),nt=this.parseEnumValueName(),at=this.parseConstDirectives();return this.node(s,{kind:Kind.ENUM_VALUE_DEFINITION,description:et,name:nt,directives:at})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw syntaxError(this._lexer.source,this._lexer.token.start,`${getTokenDesc(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("input");const nt=this.parseName(),at=this.parseConstDirectives(),mt=this.parseInputFieldsDefinition();return this.node(s,{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:et,name:nt,directives:at,fields:mt})}parseInputFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)}parseTypeSystemExtension(){const s=this._lexer.lookahead();if(s.kind===TokenKind.NAME)switch(s.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(s)}parseSchemaExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const et=this.parseConstDirectives(),nt=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(et.length===0&&nt.length===0)throw this.unexpected();return this.node(s,{kind:Kind.SCHEMA_EXTENSION,directives:et,operationTypes:nt})}parseScalarTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const et=this.parseName(),nt=this.parseConstDirectives();if(nt.length===0)throw this.unexpected();return this.node(s,{kind:Kind.SCALAR_TYPE_EXTENSION,name:et,directives:nt})}parseObjectTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const et=this.parseName(),nt=this.parseImplementsInterfaces(),at=this.parseConstDirectives(),mt=this.parseFieldsDefinition();if(nt.length===0&&at.length===0&&mt.length===0)throw this.unexpected();return this.node(s,{kind:Kind.OBJECT_TYPE_EXTENSION,name:et,interfaces:nt,directives:at,fields:mt})}parseInterfaceTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const et=this.parseName(),nt=this.parseImplementsInterfaces(),at=this.parseConstDirectives(),mt=this.parseFieldsDefinition();if(nt.length===0&&at.length===0&&mt.length===0)throw this.unexpected();return this.node(s,{kind:Kind.INTERFACE_TYPE_EXTENSION,name:et,interfaces:nt,directives:at,fields:mt})}parseUnionTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const et=this.parseName(),nt=this.parseConstDirectives(),at=this.parseUnionMemberTypes();if(nt.length===0&&at.length===0)throw this.unexpected();return this.node(s,{kind:Kind.UNION_TYPE_EXTENSION,name:et,directives:nt,types:at})}parseEnumTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const et=this.parseName(),nt=this.parseConstDirectives(),at=this.parseEnumValuesDefinition();if(nt.length===0&&at.length===0)throw this.unexpected();return this.node(s,{kind:Kind.ENUM_TYPE_EXTENSION,name:et,directives:nt,values:at})}parseInputObjectTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const et=this.parseName(),nt=this.parseConstDirectives(),at=this.parseInputFieldsDefinition();if(nt.length===0&&at.length===0)throw this.unexpected();return this.node(s,{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:et,directives:nt,fields:at})}parseDirectiveDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);const nt=this.parseName(),at=this.parseArgumentDefs(),mt=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const wt=this.parseDirectiveLocations();return this.node(s,{kind:Kind.DIRECTIVE_DEFINITION,description:et,name:nt,arguments:at,repeatable:mt,locations:wt})}parseDirectiveLocations(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const s=this._lexer.token,et=this.parseName();if(Object.prototype.hasOwnProperty.call(DirectiveLocation,et.value))return et;throw this.unexpected(s)}node(s,et){return this._options.noLocation!==!0&&(et.loc=new Location(s,this._lexer.lastToken,this._lexer.source)),et}peek(s){return this._lexer.token.kind===s}expectToken(s){const et=this._lexer.token;if(et.kind===s)return this.advanceLexer(),et;throw syntaxError(this._lexer.source,et.start,`Expected ${getTokenKindDesc(s)}, found ${getTokenDesc(et)}.`)}expectOptionalToken(s){return this._lexer.token.kind===s?(this.advanceLexer(),!0):!1}expectKeyword(s){const et=this._lexer.token;if(et.kind===TokenKind.NAME&&et.value===s)this.advanceLexer();else throw syntaxError(this._lexer.source,et.start,`Expected "${s}", found ${getTokenDesc(et)}.`)}expectOptionalKeyword(s){const et=this._lexer.token;return et.kind===TokenKind.NAME&&et.value===s?(this.advanceLexer(),!0):!1}unexpected(s){const et=s??this._lexer.token;return syntaxError(this._lexer.source,et.start,`Unexpected ${getTokenDesc(et)}.`)}any(s,et,nt){this.expectToken(s);const at=[];for(;!this.expectOptionalToken(nt);)at.push(et.call(this));return at}optionalMany(s,et,nt){if(this.expectOptionalToken(s)){const at=[];do at.push(et.call(this));while(!this.expectOptionalToken(nt));return at}return[]}many(s,et,nt){this.expectToken(s);const at=[];do at.push(et.call(this));while(!this.expectOptionalToken(nt));return at}delimitedMany(s,et){this.expectOptionalToken(s);const nt=[];do nt.push(et.call(this));while(this.expectOptionalToken(s));return nt}advanceLexer(){const{maxTokens:s}=this._options,et=this._lexer.advance();if(et.kind!==TokenKind.EOF&&(++this._tokenCounter,s!==void 0&&this._tokenCounter>s))throw syntaxError(this._lexer.source,et.start,`Document contains more that ${s} tokens. Parsing aborted.`)}}function getTokenDesc(a){const s=a.value;return getTokenKindDesc(a.kind)+(s!=null?` "${s}"`:"")}function getTokenKindDesc(a){return isPunctuatorTokenKind(a)?`"${a}"`:a}function printString(a){return`"${a.replace(escapedRegExp,escapedReplacer)}"`}const escapedRegExp=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function escapedReplacer(a){return escapeSequences[a.charCodeAt(0)]}const escapeSequences=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],BREAK=Object.freeze({});function visit(a,s,et=QueryDocumentKeys){const nt=new Map;for(const fr of Object.values(Kind))nt.set(fr,getEnterLeaveForKind(s,fr));let at,mt=Array.isArray(a),wt=[a],$t=-1,Ct=[],Dt=a,Ft,jt;const Ut=[],tr=[];do{$t++;const fr=$t===wt.length,dr=fr&&Ct.length!==0;if(fr){if(Ft=tr.length===0?void 0:Ut[Ut.length-1],Dt=jt,jt=tr.pop(),dr)if(mt){Dt=Dt.slice();let vr=0;for(const[yr,xr]of Ct){const br=yr-vr;xr===null?(Dt.splice(br,1),vr++):Dt[br]=xr}}else{Dt=Object.defineProperties({},Object.getOwnPropertyDescriptors(Dt));for(const[vr,yr]of Ct)Dt[vr]=yr}$t=at.index,wt=at.keys,Ct=at.edits,mt=at.inArray,at=at.prev}else if(jt){if(Ft=mt?$t:wt[$t],Dt=jt[Ft],Dt==null)continue;Ut.push(Ft)}let hr;if(!Array.isArray(Dt)){var ir,sr;isNode(Dt)||devAssert(!1,`Invalid AST Node: ${inspect(Dt)}.`);const vr=fr?(ir=nt.get(Dt.kind))===null||ir===void 0?void 0:ir.leave:(sr=nt.get(Dt.kind))===null||sr===void 0?void 0:sr.enter;if(hr=vr==null?void 0:vr.call(s,Dt,Ft,jt,Ut,tr),hr===BREAK)break;if(hr===!1){if(!fr){Ut.pop();continue}}else if(hr!==void 0&&(Ct.push([Ft,hr]),!fr))if(isNode(hr))Dt=hr;else{Ut.pop();continue}}if(hr===void 0&&dr&&Ct.push([Ft,Dt]),fr)Ut.pop();else{var ur;at={inArray:mt,index:$t,keys:wt,edits:Ct,prev:at},mt=Array.isArray(Dt),wt=mt?Dt:(ur=et[Dt.kind])!==null&&ur!==void 0?ur:[],$t=-1,Ct=[],jt&&tr.push(jt),jt=Dt}}while(at!==void 0);return Ct.length!==0?Ct[Ct.length-1][1]:a}function getEnterLeaveForKind(a,s){const et=a[s];return typeof et=="object"?et:typeof et=="function"?{enter:et,leave:void 0}:{enter:a.enter,leave:a.leave}}function print(a){return visit(a,printDocASTReducer)}const MAX_LINE_LENGTH=80,printDocASTReducer={Name:{leave:a=>a.value},Variable:{leave:a=>"$"+a.name},Document:{leave:a=>join(a.definitions,`

`)},OperationDefinition:{leave(a){const s=wrap$2("(",join(a.variableDefinitions,", "),")"),et=join([a.operation,join([a.name,s]),join(a.directives," ")]," ");return(et==="query"?"":et+" ")+a.selectionSet}},VariableDefinition:{leave:({variable:a,type:s,defaultValue:et,directives:nt})=>a+": "+s+wrap$2(" = ",et)+wrap$2(" ",join(nt," "))},SelectionSet:{leave:({selections:a})=>block(a)},Field:{leave({alias:a,name:s,arguments:et,directives:nt,selectionSet:at}){const mt=wrap$2("",a,": ")+s;let wt=mt+wrap$2("(",join(et,", "),")");return wt.length>MAX_LINE_LENGTH&&(wt=mt+wrap$2(`(
`,indent(join(et,`
`)),`
)`)),join([wt,join(nt," "),at]," ")}},Argument:{leave:({name:a,value:s})=>a+": "+s},FragmentSpread:{leave:({name:a,directives:s})=>"..."+a+wrap$2(" ",join(s," "))},InlineFragment:{leave:({typeCondition:a,directives:s,selectionSet:et})=>join(["...",wrap$2("on ",a),join(s," "),et]," ")},FragmentDefinition:{leave:({name:a,typeCondition:s,variableDefinitions:et,directives:nt,selectionSet:at})=>`fragment ${a}${wrap$2("(",join(et,", "),")")} on ${s} ${wrap$2("",join(nt," ")," ")}`+at},IntValue:{leave:({value:a})=>a},FloatValue:{leave:({value:a})=>a},StringValue:{leave:({value:a,block:s})=>s?printBlockString(a):printString(a)},BooleanValue:{leave:({value:a})=>a?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:a})=>a},ListValue:{leave:({values:a})=>"["+join(a,", ")+"]"},ObjectValue:{leave:({fields:a})=>"{"+join(a,", ")+"}"},ObjectField:{leave:({name:a,value:s})=>a+": "+s},Directive:{leave:({name:a,arguments:s})=>"@"+a+wrap$2("(",join(s,", "),")")},NamedType:{leave:({name:a})=>a},ListType:{leave:({type:a})=>"["+a+"]"},NonNullType:{leave:({type:a})=>a+"!"},SchemaDefinition:{leave:({description:a,directives:s,operationTypes:et})=>wrap$2("",a,`
`)+join(["schema",join(s," "),block(et)]," ")},OperationTypeDefinition:{leave:({operation:a,type:s})=>a+": "+s},ScalarTypeDefinition:{leave:({description:a,name:s,directives:et})=>wrap$2("",a,`
`)+join(["scalar",s,join(et," ")]," ")},ObjectTypeDefinition:{leave:({description:a,name:s,interfaces:et,directives:nt,fields:at})=>wrap$2("",a,`
`)+join(["type",s,wrap$2("implements ",join(et," & ")),join(nt," "),block(at)]," ")},FieldDefinition:{leave:({description:a,name:s,arguments:et,type:nt,directives:at})=>wrap$2("",a,`
`)+s+(hasMultilineItems(et)?wrap$2(`(
`,indent(join(et,`
`)),`
)`):wrap$2("(",join(et,", "),")"))+": "+nt+wrap$2(" ",join(at," "))},InputValueDefinition:{leave:({description:a,name:s,type:et,defaultValue:nt,directives:at})=>wrap$2("",a,`
`)+join([s+": "+et,wrap$2("= ",nt),join(at," ")]," ")},InterfaceTypeDefinition:{leave:({description:a,name:s,interfaces:et,directives:nt,fields:at})=>wrap$2("",a,`
`)+join(["interface",s,wrap$2("implements ",join(et," & ")),join(nt," "),block(at)]," ")},UnionTypeDefinition:{leave:({description:a,name:s,directives:et,types:nt})=>wrap$2("",a,`
`)+join(["union",s,join(et," "),wrap$2("= ",join(nt," | "))]," ")},EnumTypeDefinition:{leave:({description:a,name:s,directives:et,values:nt})=>wrap$2("",a,`
`)+join(["enum",s,join(et," "),block(nt)]," ")},EnumValueDefinition:{leave:({description:a,name:s,directives:et})=>wrap$2("",a,`
`)+join([s,join(et," ")]," ")},InputObjectTypeDefinition:{leave:({description:a,name:s,directives:et,fields:nt})=>wrap$2("",a,`
`)+join(["input",s,join(et," "),block(nt)]," ")},DirectiveDefinition:{leave:({description:a,name:s,arguments:et,repeatable:nt,locations:at})=>wrap$2("",a,`
`)+"directive @"+s+(hasMultilineItems(et)?wrap$2(`(
`,indent(join(et,`
`)),`
)`):wrap$2("(",join(et,", "),")"))+(nt?" repeatable":"")+" on "+join(at," | ")},SchemaExtension:{leave:({directives:a,operationTypes:s})=>join(["extend schema",join(a," "),block(s)]," ")},ScalarTypeExtension:{leave:({name:a,directives:s})=>join(["extend scalar",a,join(s," ")]," ")},ObjectTypeExtension:{leave:({name:a,interfaces:s,directives:et,fields:nt})=>join(["extend type",a,wrap$2("implements ",join(s," & ")),join(et," "),block(nt)]," ")},InterfaceTypeExtension:{leave:({name:a,interfaces:s,directives:et,fields:nt})=>join(["extend interface",a,wrap$2("implements ",join(s," & ")),join(et," "),block(nt)]," ")},UnionTypeExtension:{leave:({name:a,directives:s,types:et})=>join(["extend union",a,join(s," "),wrap$2("= ",join(et," | "))]," ")},EnumTypeExtension:{leave:({name:a,directives:s,values:et})=>join(["extend enum",a,join(s," "),block(et)]," ")},InputObjectTypeExtension:{leave:({name:a,directives:s,fields:et})=>join(["extend input",a,join(s," "),block(et)]," ")}};function join(a,s=""){var et;return(et=a==null?void 0:a.filter(nt=>nt).join(s))!==null&&et!==void 0?et:""}function block(a){return wrap$2(`{
`,indent(join(a,`
`)),`
}`)}function wrap$2(a,s,et=""){return s!=null&&s!==""?a+s+et:""}function indent(a){return wrap$2("  ",a.replace(/\n/g,`
  `))}function hasMultilineItems(a){var s;return(s=a==null?void 0:a.some(et=>et.includes(`
`)))!==null&&s!==void 0?s:!1}function toSerializedSignature({signature:a,signatureScheme:s,publicKey:et}){if(!et)throw new Error("`publicKey` is required");const nt=et.toRawBytes(),at=new Uint8Array(1+a.length+nt.length);return at.set([SIGNATURE_SCHEME_TO_FLAG[s]]),at.set(a,1),at.set(nt,1+a.length),toBase64(at)}function pbkdf2Init(a,s,et,nt){ahash(a);const at=checkOpts({dkLen:32,asyncTick:10},nt),{c:mt,dkLen:wt,asyncTick:$t}=at;if(anumber(mt),anumber(wt),anumber($t),mt<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const Ct=toBytes(s),Dt=toBytes(et),Ft=new Uint8Array(wt),jt=hmac$2.create(a,Ct),Ut=jt._cloneInto().update(Dt);return{c:mt,dkLen:wt,asyncTick:$t,DK:Ft,PRF:jt,PRFSalt:Ut}}function pbkdf2Output(a,s,et,nt,at){return a.destroy(),s.destroy(),nt&&nt.destroy(),at.fill(0),et}function pbkdf2$1(a,s,et,nt){const{c:at,dkLen:mt,DK:wt,PRF:$t,PRFSalt:Ct}=pbkdf2Init(a,s,et,nt);let Dt;const Ft=new Uint8Array(4),jt=createView(Ft),Ut=new Uint8Array($t.outputLen);for(let tr=1,ir=0;ir<mt;tr++,ir+=$t.outputLen){const sr=wt.subarray(ir,ir+$t.outputLen);jt.setInt32(0,tr,!1),(Dt=Ct._cloneInto(Dt)).update(Ft).digestInto(Ut),sr.set(Ut.subarray(0,sr.length));for(let ur=1;ur<at;ur++){$t._cloneInto(Dt).update(Ut).digestInto(Ut);for(let fr=0;fr<sr.length;fr++)sr[fr]^=Ut[fr]}}return pbkdf2Output($t,Ct,wt,Dt,Ut)}const[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:s,Al:et,Bh:nt,Bl:at,Ch:mt,Cl:wt,Dh:$t,Dl:Ct,Eh:Dt,El:Ft,Fh:jt,Fl:Ut,Gh:tr,Gl:ir,Hh:sr,Hl:ur}=this;return[s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr,ir,sr,ur]}set(s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr,ir,sr,ur){this.Ah=s|0,this.Al=et|0,this.Bh=nt|0,this.Bl=at|0,this.Ch=mt|0,this.Cl=wt|0,this.Dh=$t|0,this.Dl=Ct|0,this.Eh=Dt|0,this.El=Ft|0,this.Fh=jt|0,this.Fl=Ut|0,this.Gh=tr|0,this.Gl=ir|0,this.Hh=sr|0,this.Hl=ur|0}process(s,et){for(let hr=0;hr<16;hr++,et+=4)SHA512_W_H[hr]=s.getUint32(et),SHA512_W_L[hr]=s.getUint32(et+=4);for(let hr=16;hr<80;hr++){const vr=SHA512_W_H[hr-15]|0,yr=SHA512_W_L[hr-15]|0,xr=u64.rotrSH(vr,yr,1)^u64.rotrSH(vr,yr,8)^u64.shrSH(vr,yr,7),br=u64.rotrSL(vr,yr,1)^u64.rotrSL(vr,yr,8)^u64.shrSL(vr,yr,7),wr=SHA512_W_H[hr-2]|0,Sr=SHA512_W_L[hr-2]|0,Cr=u64.rotrSH(wr,Sr,19)^u64.rotrBH(wr,Sr,61)^u64.shrSH(wr,Sr,6),cr=u64.rotrSL(wr,Sr,19)^u64.rotrBL(wr,Sr,61)^u64.shrSL(wr,Sr,6),Nt=u64.add4L(br,cr,SHA512_W_L[hr-7],SHA512_W_L[hr-16]),Vt=u64.add4H(Nt,xr,Cr,SHA512_W_H[hr-7],SHA512_W_H[hr-16]);SHA512_W_H[hr]=Vt|0,SHA512_W_L[hr]=Nt|0}let{Ah:nt,Al:at,Bh:mt,Bl:wt,Ch:$t,Cl:Ct,Dh:Dt,Dl:Ft,Eh:jt,El:Ut,Fh:tr,Fl:ir,Gh:sr,Gl:ur,Hh:fr,Hl:dr}=this;for(let hr=0;hr<80;hr++){const vr=u64.rotrSH(jt,Ut,14)^u64.rotrSH(jt,Ut,18)^u64.rotrBH(jt,Ut,41),yr=u64.rotrSL(jt,Ut,14)^u64.rotrSL(jt,Ut,18)^u64.rotrBL(jt,Ut,41),xr=jt&tr^~jt&sr,br=Ut&ir^~Ut&ur,wr=u64.add5L(dr,yr,br,SHA512_Kl[hr],SHA512_W_L[hr]),Sr=u64.add5H(wr,fr,vr,xr,SHA512_Kh[hr],SHA512_W_H[hr]),Cr=wr|0,cr=u64.rotrSH(nt,at,28)^u64.rotrBH(nt,at,34)^u64.rotrBH(nt,at,39),Nt=u64.rotrSL(nt,at,28)^u64.rotrBL(nt,at,34)^u64.rotrBL(nt,at,39),Vt=nt&mt^nt&$t^mt&$t,er=at&wt^at&Ct^wt&Ct;fr=sr|0,dr=ur|0,sr=tr|0,ur=ir|0,tr=jt|0,ir=Ut|0,{h:jt,l:Ut}=u64.add(Dt|0,Ft|0,Sr|0,Cr|0),Dt=$t|0,Ft=Ct|0,$t=mt|0,Ct=wt|0,mt=nt|0,wt=at|0;const Yt=u64.add3L(Cr,Nt,er);nt=u64.add3H(Yt,Sr,cr,Vt),at=Yt|0}({h:nt,l:at}=u64.add(this.Ah|0,this.Al|0,nt|0,at|0)),{h:mt,l:wt}=u64.add(this.Bh|0,this.Bl|0,mt|0,wt|0),{h:$t,l:Ct}=u64.add(this.Ch|0,this.Cl|0,$t|0,Ct|0),{h:Dt,l:Ft}=u64.add(this.Dh|0,this.Dl|0,Dt|0,Ft|0),{h:jt,l:Ut}=u64.add(this.Eh|0,this.El|0,jt|0,Ut|0),{h:tr,l:ir}=u64.add(this.Fh|0,this.Fl|0,tr|0,ir|0),{h:sr,l:ur}=u64.add(this.Gh|0,this.Gl|0,sr|0,ur|0),{h:fr,l:dr}=u64.add(this.Hh|0,this.Hl|0,fr|0,dr|0),this.set(nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr,ir,sr,ur,fr,dr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$3=wrapConstructor(()=>new SHA512);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function nfkd(a){if(typeof a!="string")throw new TypeError("invalid mnemonic type: "+typeof a);return a.normalize("NFKD")}function normalize$5(a){const s=nfkd(a),et=s.split(" ");if(![12,15,18,21,24].includes(et.length))throw new Error("Invalid mnemonic");return{nfkd:s,words:et}}const psalt=a=>nfkd("mnemonic"+a);function mnemonicToSeedSync(a,s=""){return pbkdf2$1(sha512$3,normalize$5(a).nfkd,psalt(s),{c:2048,dkLen:64})}function isValidHardenedPath(a){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(a)}function mnemonicToSeed(a){return mnemonicToSeedSync(a,"")}function mnemonicToSeedHex(a){return toHex$2(mnemonicToSeed(a))}var dist$2={};Object.defineProperty(dist$2,"__esModule",{value:!0});dist$2.bech32m=bech32=dist$2.bech32=void 0;const ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(let a=0;a<ALPHABET.length;a++){const s=ALPHABET.charAt(a);ALPHABET_MAP[s]=a}function polymodStep(a){const s=a>>25;return(a&33554431)<<5^-(s>>0&1)&996825010^-(s>>1&1)&642813549^-(s>>2&1)&513874426^-(s>>3&1)&1027748829^-(s>>4&1)&705979059}function prefixChk(a){let s=1;for(let et=0;et<a.length;++et){const nt=a.charCodeAt(et);if(nt<33||nt>126)return"Invalid prefix ("+a+")";s=polymodStep(s)^nt>>5}s=polymodStep(s);for(let et=0;et<a.length;++et){const nt=a.charCodeAt(et);s=polymodStep(s)^nt&31}return s}function convert$1(a,s,et,nt){let at=0,mt=0;const wt=(1<<et)-1,$t=[];for(let Ct=0;Ct<a.length;++Ct)for(at=at<<s|a[Ct],mt+=s;mt>=et;)mt-=et,$t.push(at>>mt&wt);if(nt)mt>0&&$t.push(at<<et-mt&wt);else{if(mt>=s)return"Excess padding";if(at<<et-mt&wt)return"Non-zero padding"}return $t}function toWords(a){return convert$1(a,8,5,!0)}function fromWordsUnsafe(a){const s=convert$1(a,5,8,!1);if(Array.isArray(s))return s}function fromWords(a){const s=convert$1(a,5,8,!1);if(Array.isArray(s))return s;throw new Error(s)}function getLibraryFromEncoding(a){let s;a==="bech32"?s=1:s=734539939;function et(wt,$t,Ct){if(Ct=Ct||90,wt.length+7+$t.length>Ct)throw new TypeError("Exceeds length limit");wt=wt.toLowerCase();let Dt=prefixChk(wt);if(typeof Dt=="string")throw new Error(Dt);let Ft=wt+"1";for(let jt=0;jt<$t.length;++jt){const Ut=$t[jt];if(Ut>>5)throw new Error("Non 5-bit word");Dt=polymodStep(Dt)^Ut,Ft+=ALPHABET.charAt(Ut)}for(let jt=0;jt<6;++jt)Dt=polymodStep(Dt);Dt^=s;for(let jt=0;jt<6;++jt){const Ut=Dt>>(5-jt)*5&31;Ft+=ALPHABET.charAt(Ut)}return Ft}function nt(wt,$t){if($t=$t||90,wt.length<8)return wt+" too short";if(wt.length>$t)return"Exceeds length limit";const Ct=wt.toLowerCase(),Dt=wt.toUpperCase();if(wt!==Ct&&wt!==Dt)return"Mixed-case string "+wt;wt=Ct;const Ft=wt.lastIndexOf("1");if(Ft===-1)return"No separator character for "+wt;if(Ft===0)return"Missing prefix for "+wt;const jt=wt.slice(0,Ft),Ut=wt.slice(Ft+1);if(Ut.length<6)return"Data too short";let tr=prefixChk(jt);if(typeof tr=="string")return tr;const ir=[];for(let sr=0;sr<Ut.length;++sr){const ur=Ut.charAt(sr),fr=ALPHABET_MAP[ur];if(fr===void 0)return"Unknown character "+ur;tr=polymodStep(tr)^fr,!(sr+6>=Ut.length)&&ir.push(fr)}return tr!==s?"Invalid checksum for "+wt:{prefix:jt,words:ir}}function at(wt,$t){const Ct=nt(wt,$t);if(typeof Ct=="object")return Ct}function mt(wt,$t){const Ct=nt(wt,$t);if(typeof Ct=="object")return Ct;throw new Error(Ct)}return{decodeUnsafe:at,decode:mt,encode:et,toWords,fromWordsUnsafe,fromWords}}var bech32=dist$2.bech32=getLibraryFromEncoding("bech32");dist$2.bech32m=getLibraryFromEncoding("bech32m");const PRIVATE_KEY_SIZE=32,SUI_PRIVATE_KEY_PREFIX="suiprivkey";class Signer{async signWithIntent(s,et){const nt=messageWithIntent(et,s),at=blake2b$1(nt,{dkLen:32});return{signature:toSerializedSignature({signature:await this.sign(at),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:toBase64(s)}}async signTransaction(s){return this.signWithIntent(s,"TransactionData")}async signPersonalMessage(s){const{signature:et}=await this.signWithIntent(bcs$1.vector(bcs$1.u8()).serialize(s).toBytes(),"PersonalMessage");return{bytes:toBase64(s),signature:et}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class Keypair extends Signer{}function decodeSuiPrivateKey(a){const{prefix:s,words:et}=bech32.decode(a);if(s!==SUI_PRIVATE_KEY_PREFIX)throw new Error("invalid private key prefix");const nt=new Uint8Array(bech32.fromWords(et)),at=nt.slice(1);return{schema:SIGNATURE_FLAG_TO_SCHEME[nt[0]],secretKey:at}}function encodeSuiPrivateKey(a,s){if(a.length!==PRIVATE_KEY_SIZE)throw new Error("Invalid bytes length");const et=SIGNATURE_SCHEME_TO_FLAG[s],nt=new Uint8Array(a.length+1);return nt.set([et]),nt.set(a,1),bech32.encode(SUI_PRIVATE_KEY_PREFIX,bech32.toWords(nt))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts(a){const s=validateBasic(a);return validateObject(a,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...s})}function twistedEdwards(a){const s=validateOpts(a),{Fp:et,n:nt,prehash:at,hash:mt,randomBytes:wt,nByteLength:$t,h:Ct}=s,Dt=_2n$1<<BigInt($t*8)-_1n$1,Ft=et.create,jt=Field(s.n,s.nBitLength),Ut=s.uvRatio||((rr,ar)=>{try{return{isValid:!0,value:et.sqrt(rr*et.inv(ar))}}catch{return{isValid:!1,value:_0n}}}),tr=s.adjustScalarBytes||(rr=>rr),ir=s.domain||((rr,ar,lr)=>{if(abool("phflag",lr),ar.length||lr)throw new Error("Contexts/pre-hash are not supported");return rr});function sr(rr,ar){aInRange("coordinate "+rr,ar,_0n,Dt)}function ur(rr){if(!(rr instanceof hr))throw new Error("ExtendedPoint expected")}const fr=memoized((rr,ar)=>{const{ex:lr,ey:nr,ez:Lt}=rr,or=rr.is0();ar==null&&(ar=or?_8n$1:et.inv(Lt));const gr=Ft(lr*ar),pr=Ft(nr*ar),_r=Ft(Lt*ar);if(or)return{x:_0n,y:_1n$1};if(_r!==_1n$1)throw new Error("invZ was invalid");return{x:gr,y:pr}}),dr=memoized(rr=>{const{a:ar,d:lr}=s;if(rr.is0())throw new Error("bad point: ZERO");const{ex:nr,ey:Lt,ez:or,et:gr}=rr,pr=Ft(nr*nr),_r=Ft(Lt*Lt),kr=Ft(or*or),Mr=Ft(kr*kr),$r=Ft(pr*ar),Pr=Ft(kr*Ft($r+_r)),Fr=Ft(Mr+Ft(lr*Ft(pr*_r)));if(Pr!==Fr)throw new Error("bad point: equation left != right (1)");const Tr=Ft(nr*Lt),Rr=Ft(or*gr);if(Tr!==Rr)throw new Error("bad point: equation left != right (2)");return!0});class hr{constructor(ar,lr,nr,Lt){this.ex=ar,this.ey=lr,this.ez=nr,this.et=Lt,sr("x",ar),sr("y",lr),sr("z",nr),sr("t",Lt),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ar){if(ar instanceof hr)throw new Error("extended point not allowed");const{x:lr,y:nr}=ar||{};return sr("x",lr),sr("y",nr),new hr(lr,nr,_1n$1,Ft(lr*nr))}static normalizeZ(ar){const lr=et.invertBatch(ar.map(nr=>nr.ez));return ar.map((nr,Lt)=>nr.toAffine(lr[Lt])).map(hr.fromAffine)}static msm(ar,lr){return pippenger(hr,jt,ar,lr)}_setWindowSize(ar){xr.setWindowSize(this,ar)}assertValidity(){dr(this)}equals(ar){ur(ar);const{ex:lr,ey:nr,ez:Lt}=this,{ex:or,ey:gr,ez:pr}=ar,_r=Ft(lr*pr),kr=Ft(or*Lt),Mr=Ft(nr*pr),$r=Ft(gr*Lt);return _r===kr&&Mr===$r}is0(){return this.equals(hr.ZERO)}negate(){return new hr(Ft(-this.ex),this.ey,this.ez,Ft(-this.et))}double(){const{a:ar}=s,{ex:lr,ey:nr,ez:Lt}=this,or=Ft(lr*lr),gr=Ft(nr*nr),pr=Ft(_2n$1*Ft(Lt*Lt)),_r=Ft(ar*or),kr=lr+nr,Mr=Ft(Ft(kr*kr)-or-gr),$r=_r+gr,Pr=$r-pr,Fr=_r-gr,Tr=Ft(Mr*Pr),Rr=Ft($r*Fr),Er=Ft(Mr*Fr),Or=Ft(Pr*$r);return new hr(Tr,Rr,Or,Er)}add(ar){ur(ar);const{a:lr,d:nr}=s,{ex:Lt,ey:or,ez:gr,et:pr}=this,{ex:_r,ey:kr,ez:Mr,et:$r}=ar;if(lr===BigInt(-1)){const Xr=Ft((or-Lt)*(kr+_r)),zr=Ft((or+Lt)*(kr-_r)),Qr=Ft(zr-Xr);if(Qr===_0n)return this.double();const Qn=Ft(gr*_2n$1*$r),nn=Ft(pr*_2n$1*Mr),$n=nn+Qn,lo=zr+Xr,sn=nn-Qn,Nn=Ft($n*Qr),xo=Ft(lo*sn),Ir=Ft($n*sn),Ar=Ft(Qr*lo);return new hr(Nn,xo,Ar,Ir)}const Pr=Ft(Lt*_r),Fr=Ft(or*kr),Tr=Ft(pr*nr*$r),Rr=Ft(gr*Mr),Er=Ft((Lt+or)*(_r+kr)-Pr-Fr),Or=Rr-Tr,Wr=Rr+Tr,qr=Ft(Fr-lr*Pr),Vr=Ft(Er*Or),Ur=Ft(Wr*qr),Lr=Ft(Er*qr),Br=Ft(Or*Wr);return new hr(Vr,Ur,Br,Lr)}subtract(ar){return this.add(ar.negate())}wNAF(ar){return xr.wNAFCached(this,ar,hr.normalizeZ)}multiply(ar){const lr=ar;aInRange("scalar",lr,_1n$1,nt);const{p:nr,f:Lt}=this.wNAF(lr);return hr.normalizeZ([nr,Lt])[0]}multiplyUnsafe(ar,lr=hr.ZERO){const nr=ar;return aInRange("scalar",nr,_0n,nt),nr===_0n?yr:this.is0()||nr===_1n$1?this:xr.wNAFCachedUnsafe(this,nr,hr.normalizeZ,lr)}isSmallOrder(){return this.multiplyUnsafe(Ct).is0()}isTorsionFree(){return xr.unsafeLadder(this,nt).is0()}toAffine(ar){return fr(this,ar)}clearCofactor(){const{h:ar}=s;return ar===_1n$1?this:this.multiplyUnsafe(ar)}static fromHex(ar,lr=!1){const{d:nr,a:Lt}=s,or=et.BYTES;ar=ensureBytes("pointHex",ar,or),abool("zip215",lr);const gr=ar.slice(),pr=ar[or-1];gr[or-1]=pr&-129;const _r=bytesToNumberLE(gr),kr=lr?Dt:et.ORDER;aInRange("pointHex.y",_r,_0n,kr);const Mr=Ft(_r*_r),$r=Ft(Mr-_1n$1),Pr=Ft(nr*Mr-Lt);let{isValid:Fr,value:Tr}=Ut($r,Pr);if(!Fr)throw new Error("Point.fromHex: invalid y coordinate");const Rr=(Tr&_1n$1)===_1n$1,Er=(pr&128)!==0;if(!lr&&Tr===_0n&&Er)throw new Error("Point.fromHex: x=0 and x_0=1");return Er!==Rr&&(Tr=Ft(-Tr)),hr.fromAffine({x:Tr,y:_r})}static fromPrivateKey(ar){return Sr(ar).point}toRawBytes(){const{x:ar,y:lr}=this.toAffine(),nr=numberToBytesLE(lr,et.BYTES);return nr[nr.length-1]|=ar&_1n$1?128:0,nr}toHex(){return bytesToHex(this.toRawBytes())}}hr.BASE=new hr(s.Gx,s.Gy,_1n$1,Ft(s.Gx*s.Gy)),hr.ZERO=new hr(_0n,_1n$1,_1n$1,_0n);const{BASE:vr,ZERO:yr}=hr,xr=wNAF(hr,$t*8);function br(rr){return mod$2(rr,nt)}function wr(rr){return br(bytesToNumberLE(rr))}function Sr(rr){const ar=et.BYTES;rr=ensureBytes("private key",rr,ar);const lr=ensureBytes("hashed private key",mt(rr),2*ar),nr=tr(lr.slice(0,ar)),Lt=lr.slice(ar,2*ar),or=wr(nr),gr=vr.multiply(or),pr=gr.toRawBytes();return{head:nr,prefix:Lt,scalar:or,point:gr,pointBytes:pr}}function Cr(rr){return Sr(rr).pointBytes}function cr(rr=new Uint8Array,...ar){const lr=concatBytes(...ar);return wr(mt(ir(lr,ensureBytes("context",rr),!!at)))}function Nt(rr,ar,lr={}){rr=ensureBytes("message",rr),at&&(rr=at(rr));const{prefix:nr,scalar:Lt,pointBytes:or}=Sr(ar),gr=cr(lr.context,nr,rr),pr=vr.multiply(gr).toRawBytes(),_r=cr(lr.context,pr,or,rr),kr=br(gr+_r*Lt);aInRange("signature.s",kr,_0n,nt);const Mr=concatBytes(pr,numberToBytesLE(kr,et.BYTES));return ensureBytes("result",Mr,et.BYTES*2)}const Vt=VERIFY_DEFAULT;function er(rr,ar,lr,nr=Vt){const{context:Lt,zip215:or}=nr,gr=et.BYTES;rr=ensureBytes("signature",rr,2*gr),ar=ensureBytes("message",ar),lr=ensureBytes("publicKey",lr,gr),or!==void 0&&abool("zip215",or),at&&(ar=at(ar));const pr=bytesToNumberLE(rr.slice(gr,2*gr));let _r,kr,Mr;try{_r=hr.fromHex(lr,or),kr=hr.fromHex(rr.slice(0,gr),or),Mr=vr.multiplyUnsafe(pr)}catch{return!1}if(!or&&_r.isSmallOrder())return!1;const $r=cr(Lt,kr.toRawBytes(),_r.toRawBytes(),ar);return kr.add(_r.multiplyUnsafe($r)).subtract(Mr).clearCofactor().equals(hr.ZERO)}return vr._setWindowSize(8),{CURVE:s,getPublicKey:Cr,sign:Nt,verify:er,ExtendedPoint:hr,utils:{getExtendedPublicKey:Sr,randomPrivateKey:()=>wt(et.BYTES),precompute(rr=8,ar=hr.BASE){return ar._setWindowSize(rr),ar.multiply(BigInt(3)),ar}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n=BigInt(1),_2n=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(a){const s=BigInt(10),et=BigInt(20),nt=BigInt(40),at=BigInt(80),mt=ED25519_P,$t=a*a%mt*a%mt,Ct=pow2($t,_2n,mt)*$t%mt,Dt=pow2(Ct,_1n,mt)*a%mt,Ft=pow2(Dt,_5n,mt)*Dt%mt,jt=pow2(Ft,s,mt)*Ft%mt,Ut=pow2(jt,et,mt)*jt%mt,tr=pow2(Ut,nt,mt)*Ut%mt,ir=pow2(tr,at,mt)*tr%mt,sr=pow2(ir,at,mt)*tr%mt,ur=pow2(sr,s,mt)*Ft%mt;return{pow_p_5_8:pow2(ur,_2n,mt)*a%mt,b2:$t}}function adjustScalarBytes(a){return a[0]&=248,a[31]&=127,a[31]|=64,a}function uvRatio(a,s){const et=ED25519_P,nt=mod$2(s*s*s,et),at=mod$2(nt*nt*s,et),mt=ed25519_pow_2_252_3(a*at).pow_p_5_8;let wt=mod$2(a*nt*mt,et);const $t=mod$2(s*wt*wt,et),Ct=wt,Dt=mod$2(wt*ED25519_SQRT_M1,et),Ft=$t===a,jt=$t===mod$2(-a,et),Ut=$t===mod$2(-a*ED25519_SQRT_M1,et);return Ft&&(wt=Ct),(jt||Ut)&&(wt=Dt),isNegativeLE(wt,et)&&(wt=mod$2(-wt,et)),{isValid:Ft||jt,value:wt}}const Fp=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$3,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults),ED25519_CURVE="ed25519 seed",HARDENED_OFFSET=2147483648,pathRegex=new RegExp("^m(\\/[0-9]+')+$"),replaceDerive=a=>a.replace("'",""),getMasterKeyFromSeed=a=>{const et=hmac$2.create(sha512$3,ED25519_CURVE).update(fromHex(a)).digest(),nt=et.slice(0,32),at=et.slice(32);return{key:nt,chainCode:at}},CKDPriv=({key:a,chainCode:s},et)=>{const nt=new ArrayBuffer(4);new DataView(nt).setUint32(0,et);const mt=new Uint8Array(1+a.length+nt.byteLength);mt.set(new Uint8Array(1).fill(0)),mt.set(a,1),mt.set(new Uint8Array(nt,0,nt.byteLength),a.length+1);const wt=hmac$2.create(sha512$3,s).update(mt).digest(),$t=wt.slice(0,32),Ct=wt.slice(32);return{key:$t,chainCode:Ct}},isValidPath=a=>pathRegex.test(a)?!a.split("/").slice(1).map(replaceDerive).some(isNaN):!1,derivePath=(a,s,et=HARDENED_OFFSET)=>{if(!isValidPath(a))throw new Error("Invalid derivation path");const{key:nt,chainCode:at}=getMasterKeyFromSeed(s);return a.split("/").slice(1).map(replaceDerive).map(wt=>parseInt(wt,10)).reduce((wt,$t)=>CKDPriv(wt,$t+et),{key:nt,chainCode:at})},PUBLIC_KEY_SIZE=32;class Ed25519PublicKey extends PublicKey{constructor(s){if(super(),typeof s=="string"?this.data=fromBase64(s):s instanceof Uint8Array?this.data=s:this.data=Uint8Array.from(s),this.data.length!==PUBLIC_KEY_SIZE)throw new Error(`Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`)}equals(s){return super.equals(s)}toRawBytes(){return this.data}flag(){return SIGNATURE_SCHEME_TO_FLAG.ED25519}async verify(s,et){let nt;if(typeof et=="string"){const at=parseSerializedKeypairSignature(et);if(at.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!bytesEqual(this.toRawBytes(),at.publicKey))throw new Error("Signature does not match public key");nt=at.signature}else nt=et;return ed25519.verify(nt,s,this.toRawBytes())}}Ed25519PublicKey.SIZE=PUBLIC_KEY_SIZE;const DEFAULT_ED25519_DERIVATION_PATH="m/44'/784'/0'/0'/0'";class Ed25519Keypair extends Keypair{constructor(s){if(super(),s)this.keypair={publicKey:s.publicKey,secretKey:s.secretKey.slice(0,32)};else{const et=ed25519.utils.randomPrivateKey();this.keypair={publicKey:ed25519.getPublicKey(et),secretKey:et}}}getKeyScheme(){return"ED25519"}static generate(){const s=ed25519.utils.randomPrivateKey();return new Ed25519Keypair({publicKey:ed25519.getPublicKey(s),secretKey:s})}static fromSecretKey(s,et){if(typeof s=="string"){const mt=decodeSuiPrivateKey(s);if(mt.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${mt.schema}`);return this.fromSecretKey(mt.secretKey,et)}const nt=s.length;if(nt!==PRIVATE_KEY_SIZE)throw new Error(`Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${nt}.`);const at={publicKey:ed25519.getPublicKey(s),secretKey:s};if(!et||!et.skipValidation){const wt=new TextEncoder().encode("sui validation"),$t=ed25519.sign(wt,s);if(!ed25519.verify($t,wt,at.publicKey))throw new Error("provided secretKey is invalid")}return new Ed25519Keypair(at)}getPublicKey(){return new Ed25519PublicKey(this.keypair.publicKey)}getSecretKey(){return encodeSuiPrivateKey(this.keypair.secretKey.slice(0,PRIVATE_KEY_SIZE),this.getKeyScheme())}async sign(s){return ed25519.sign(s,this.keypair.secretKey)}static deriveKeypair(s,et){if(et==null&&(et=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(et))throw new Error("Invalid derivation path");const{key:nt}=derivePath(et,mnemonicToSeedHex(s));return Ed25519Keypair.fromSecretKey(nt)}static deriveKeypairFromSeed(s,et){if(et==null&&(et=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(et))throw new Error("Invalid derivation path");const{key:nt}=derivePath(et,s);return Ed25519Keypair.fromSecretKey(nt)}}function mitt(a){return{all:a=a||new Map,on:function(s,et){var nt=a.get(s);nt?nt.push(et):a.set(s,[et])},off:function(s,et){var nt=a.get(s);nt&&(et?nt.splice(nt.indexOf(et)>>>0,1):a.set(s,[]))},emit:function(s,et){var nt=a.get(s);nt&&nt.slice().map(function(at){at(et)}),(nt=a.get("*"))&&nt.slice().map(function(at){at(s,et)})}}}function withResolvers(){let a,s;return{promise:new Promise((nt,at)=>{a=nt,s=at}),reject:s,resolve:a}}const StashedRequestData=variant("type",[object$1({type:literal("connect")}),object$1({type:literal("sign-transaction-block"),data:string("`data` is required"),address:string("`address` is required")}),object$1({type:literal("sign-personal-message"),bytes:string("`bytes` is required"),address:string("`address` is required")})]);object$1({id:pipe$4(string("`id` is required"),uuid()),origin:pipe$4(string(),url("`origin` must be a valid URL")),name:optional(string()),payload:StashedRequestData});const StashedResponseData=variant("type",[object$1({type:literal("connect"),address:string()}),object$1({type:literal("sign-transaction-block"),bytes:string(),signature:string()}),object$1({type:literal("sign-personal-message"),bytes:string(),signature:string()})]),StashedResponsePayload=variant("type",[object$1({type:literal("reject")}),object$1({type:literal("resolve"),data:StashedResponseData})]),StashedResponse=object$1({id:pipe$4(string(),uuid()),source:literal("zksend-channel"),payload:StashedResponsePayload});var __typeError$2=a=>{throw TypeError(a)},__accessCheck$2=(a,s,et)=>s.has(a)||__typeError$2("Cannot "+et),__privateGet$2=(a,s,et)=>(__accessCheck$2(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$2=(a,s,et)=>s.has(a)?__typeError$2("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$1=(a,s,et,nt)=>(__accessCheck$2(a,s,"write to private field"),s.set(a,et),et),__privateMethod$1=(a,s,et)=>(__accessCheck$2(a,s,"access private method"),et),_popup,_id,_origin$1,_name$1,_network$1,_promise,_resolve,_reject,_interval,_listener,_StashedPopup_instances,cleanup_fn;const DEFAULT_STASHED_ORIGIN="https://getstashed.com";class StashedPopup{constructor({name:s,network:et,origin:nt=DEFAULT_STASHED_ORIGIN}){__privateAdd$2(this,_StashedPopup_instances),__privateAdd$2(this,_popup),__privateAdd$2(this,_id),__privateAdd$2(this,_origin$1),__privateAdd$2(this,_name$1),__privateAdd$2(this,_network$1),__privateAdd$2(this,_promise),__privateAdd$2(this,_resolve),__privateAdd$2(this,_reject),__privateAdd$2(this,_interval,null),__privateAdd$2(this,_listener,Ct=>{if(Ct.origin!==__privateGet$2(this,_origin$1))return;const{success:Dt,output:Ft}=safeParse(StashedResponse,Ct.data);!Dt||Ft.id!==__privateGet$2(this,_id)||(__privateMethod$1(this,_StashedPopup_instances,cleanup_fn).call(this),Ft.payload.type==="reject"?__privateGet$2(this,_reject).call(this,new Error("User rejected the request")):Ft.payload.type==="resolve"&&__privateGet$2(this,_resolve).call(this,Ft.payload.data))});const at=window.open("about:blank","_blank");if(!at)throw new Error("Failed to open new window");__privateSet$1(this,_popup,at),__privateSet$1(this,_id,crypto.randomUUID()),__privateSet$1(this,_origin$1,nt),__privateSet$1(this,_name$1,s),__privateSet$1(this,_network$1,et);const{promise:mt,resolve:wt,reject:$t}=withResolvers();__privateSet$1(this,_promise,mt),__privateSet$1(this,_resolve,wt),__privateSet$1(this,_reject,$t),__privateSet$1(this,_interval,setInterval(()=>{try{__privateGet$2(this,_popup).closed&&(__privateMethod$1(this,_StashedPopup_instances,cleanup_fn).call(this),$t(new Error("User closed the Stashed window")))}catch{}},1e3))}send({type:s,...et}){return window.addEventListener("message",__privateGet$2(this,_listener)),__privateGet$2(this,_popup).location.assign(`${__privateGet$2(this,_origin$1)}/dapp/${s}?${new URLSearchParams({id:__privateGet$2(this,_id),origin:window.origin,network:__privateGet$2(this,_network$1),name:__privateGet$2(this,_name$1)})}${et?`#${new URLSearchParams(et)}`:""}`),__privateGet$2(this,_promise)}close(){__privateMethod$1(this,_StashedPopup_instances,cleanup_fn).call(this),__privateGet$2(this,_popup).close()}}_popup=new WeakMap;_id=new WeakMap;_origin$1=new WeakMap;_name$1=new WeakMap;_network$1=new WeakMap;_promise=new WeakMap;_resolve=new WeakMap;_reject=new WeakMap;_interval=new WeakMap;_listener=new WeakMap;_StashedPopup_instances=new WeakSet;cleanup_fn=function(){__privateGet$2(this,_interval)&&(clearInterval(__privateGet$2(this,_interval)),__privateSet$1(this,_interval,null)),window.removeEventListener("message",__privateGet$2(this,_listener))};var __typeError$1=a=>{throw TypeError(a)},__accessCheck$1=(a,s,et)=>s.has(a)||__typeError$1("Cannot "+et),__privateGet$1=(a,s,et)=>(__accessCheck$1(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$1=(a,s,et)=>s.has(a)?__typeError$1("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet=(a,s,et,nt)=>(__accessCheck$1(a,s,"write to private field"),s.set(a,et),et),__privateMethod=(a,s,et)=>(__accessCheck$1(a,s,"access private method"),et),_events,_accounts,_origin,_name,_network,_signTransactionBlock,_signTransaction,_signPersonalMessage,_on,_StashedWallet_instances,setAccount_fn,_connect,_disconnect;const STASHED_RECENT_ADDRESS_KEY="stashed:recentAddress",STASHED_WALLET_NAME="Stashed";class StashedWallet{constructor({name:s,network:et,address:nt,origin:at=DEFAULT_STASHED_ORIGIN}){__privateAdd$1(this,_StashedWallet_instances),__privateAdd$1(this,_events),__privateAdd$1(this,_accounts),__privateAdd$1(this,_origin),__privateAdd$1(this,_name),__privateAdd$1(this,_network),__privateAdd$1(this,_signTransactionBlock,async({transactionBlock:mt,account:wt})=>{mt.setSenderIfNotSet(wt.address);const $t=mt.serialize(),Dt=await new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}).send({type:"sign-transaction-block",data:$t,address:wt.address});return{transactionBlockBytes:Dt.bytes,signature:Dt.signature}}),__privateAdd$1(this,_signTransaction,async({transaction:mt,account:wt})=>{const $t=new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}),Ct=Transaction.from(await mt.toJSON());Ct.setSenderIfNotSet(wt.address);const Dt=Ct.serialize(),Ft=await $t.send({type:"sign-transaction-block",data:Dt,address:wt.address});return{bytes:Ft.bytes,signature:Ft.signature}}),__privateAdd$1(this,_signPersonalMessage,async({message:mt,account:wt})=>{const $t=new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}),Ct=toBase64(mt),Dt=await $t.send({type:"sign-personal-message",bytes:Ct,address:wt.address});return{bytes:Ct,signature:Dt.signature}}),__privateAdd$1(this,_on,(mt,wt)=>(__privateGet$1(this,_events).on(mt,wt),()=>__privateGet$1(this,_events).off(mt,wt))),__privateAdd$1(this,_connect,async mt=>{if(mt!=null&&mt.silent){const Ct=localStorage.getItem(STASHED_RECENT_ADDRESS_KEY);return Ct&&__privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this,Ct),{accounts:this.accounts}}const $t=await new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}).send({type:"connect"});if(!("address"in $t))throw new Error("Unexpected response");return __privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this,$t.address),{accounts:this.accounts}}),__privateAdd$1(this,_disconnect,async()=>{localStorage.removeItem(STASHED_RECENT_ADDRESS_KEY),__privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this)}),__privateSet(this,_accounts,[]),__privateSet(this,_events,mitt()),__privateSet(this,_origin,at),__privateSet(this,_name,s),__privateSet(this,_network,et),nt&&__privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this,nt)}get name(){return STASHED_WALLET_NAME}get icon(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjU0IiBoZWlnaHQ9IjU0IiB4PSIxIiB5PSIxIiBmaWxsPSIjNTE5REU5IiByeD0iMjciLz48cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHg9IjEiIHk9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iMjciLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTguMzUzIDM1LjA2NGMuOTIxIDMuNDM4IDQuMzYzIDYuNTUxIDExLjQ4MyA0LjY0NCA2Ljc5NC0xLjgyMSAxMS4wNTItNy40MSA5Ljk0OC0xMS41My0uMzgxLTEuNDIzLTEuNTMtMi4zODctMy4zLTIuMjNsLTE1LjgzMiAxLjMyYy0uOTk3LjA3Ni0xLjQ1NC0uMDg4LTEuNzE4LS43MTYtLjI1Ni0uNTk5LS4xMS0xLjI0MSAxLjA5NC0xLjg1bDEyLjA0OC02LjE4M2MuOTI0LS40NyAxLjUzOS0uNjY2IDIuMTAxLS40NjguMzUyLjEyOC41ODQuNjM4LjM3MSAxLjI2N2wtLjc4MSAyLjMwNmMtLjk1OSAyLjgzIDEuMDk0IDMuNDg4IDIuMjUgMy4xNzggMS43NTEtLjQ2OSAyLjE2My0yLjEzNiAxLjU5OS00LjI0LTEuNDMtNS4zMzctNy4wOS02LjE3LTEyLjIyMy00Ljc5Ni01LjIyMiAxLjQtOS43NDggNS42My04LjM2NiAxMC43ODkuMzI1IDEuMjE1IDEuNDQ0IDIuMTg2IDIuNzQgMi4xNTdsMS45NzgtLjAwNWMuNDA3LS4wMS4yNi4wMjQgMS4wNDYtLjA0MS43ODQtLjA2NSAyLjg4LS4zMjMgMi44OC0uMzIzbDEwLjI4Ni0xLjE2NC4yNjUtLjAzOGMuNjAyLS4xMDMgMS4wNTYuMDUzIDEuNDQuNzE1LjU3Ni45OTEtLjMwMiAxLjczOC0xLjM1MiAyLjYzM2wtLjA4NS4wNzItOS4wNDEgNy43OTJjLTEuNTUgMS4zMzctMi42MzkuODM0LTMuMDItLjU4OWwtMS4zNS01LjA0Yy0uMzM0LTEuMjQ0LTEuNTUtMi4yMjEtMi45NzQtMS44NC0xLjc4LjQ3Ny0xLjkyNCAyLjU1LTEuNDg3IDQuMThaIi8+PC9zdmc+Cg=="}get version(){return"1.0.0"}get chains(){return[SUI_MAINNET_CHAIN]}get accounts(){return __privateGet$1(this,_accounts)}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet$1(this,_connect)},"standard:disconnect":{version:"1.0.0",disconnect:__privateGet$1(this,_disconnect)},"standard:events":{version:"1.0.0",on:__privateGet$1(this,_on)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet$1(this,_signTransactionBlock)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet$1(this,_signTransaction)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet$1(this,_signPersonalMessage)}}}}_events=new WeakMap;_accounts=new WeakMap;_origin=new WeakMap;_name=new WeakMap;_network=new WeakMap;_signTransactionBlock=new WeakMap;_signTransaction=new WeakMap;_signPersonalMessage=new WeakMap;_on=new WeakMap;_StashedWallet_instances=new WeakSet;setAccount_fn=function(a){a?(__privateSet(this,_accounts,[new ReadonlyWalletAccount({address:a,chains:[SUI_MAINNET_CHAIN],features:["sui:signTransactionBlock","sui:signPersonalMessage"],publicKey:new Uint8Array})]),localStorage.setItem(STASHED_RECENT_ADDRESS_KEY,a)):__privateSet(this,_accounts,[]),__privateGet$1(this,_events).emit("change",{accounts:this.accounts})};_connect=new WeakMap;_disconnect=new WeakMap;function registerStashedWallet(a,{origin:s,network:et="mainnet"}={}){const nt=getWallets();let at=null;try{const $t=new URLSearchParams(window.location.search);at=$t.get("stashed_address")||$t.get("zksend_address")}catch{}const mt=new StashedWallet({name:a,network:et,origin:s,address:at}),wt=nt.register(mt);return{wallet:mt,unregister:wt,addressFromRedirect:at}}const __vite_import_meta_env__={};function createJSONStorage(a,s){let et;try{et=a()}catch{return}return{getItem:at=>{var mt;const wt=Ct=>Ct===null?null:JSON.parse(Ct,void 0),$t=(mt=et.getItem(at))!=null?mt:null;return $t instanceof Promise?$t.then(wt):wt($t)},setItem:(at,mt)=>et.setItem(at,JSON.stringify(mt,void 0)),removeItem:at=>et.removeItem(at)}}const toThenable=a=>s=>{try{const et=a(s);return et instanceof Promise?et:{then(nt){return toThenable(nt)(et)},catch(nt){return this}}}catch(et){return{then(nt){return this},catch(nt){return toThenable(nt)(et)}}}},oldImpl=(a,s)=>(et,nt,at)=>{let mt={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:ur=>ur,version:0,merge:(ur,fr)=>({...fr,...ur}),...s},wt=!1;const $t=new Set,Ct=new Set;let Dt;try{Dt=mt.getStorage()}catch{}if(!Dt)return a((...ur)=>{console.warn(`[zustand persist middleware] Unable to update item '${mt.name}', the given storage is currently unavailable.`),et(...ur)},nt,at);const Ft=toThenable(mt.serialize),jt=()=>{const ur=mt.partialize({...nt()});let fr;const dr=Ft({state:ur,version:mt.version}).then(hr=>Dt.setItem(mt.name,hr)).catch(hr=>{fr=hr});if(fr)throw fr;return dr},Ut=at.setState;at.setState=(ur,fr)=>{Ut(ur,fr),jt()};const tr=a((...ur)=>{et(...ur),jt()},nt,at);let ir;const sr=()=>{var ur;if(!Dt)return;wt=!1,$t.forEach(dr=>dr(nt()));const fr=((ur=mt.onRehydrateStorage)==null?void 0:ur.call(mt,nt()))||void 0;return toThenable(Dt.getItem.bind(Dt))(mt.name).then(dr=>{if(dr)return mt.deserialize(dr)}).then(dr=>{if(dr)if(typeof dr.version=="number"&&dr.version!==mt.version){if(mt.migrate)return mt.migrate(dr.state,dr.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return dr.state}).then(dr=>{var hr;return ir=mt.merge(dr,(hr=nt())!=null?hr:tr),et(ir,!0),jt()}).then(()=>{fr==null||fr(ir,void 0),wt=!0,Ct.forEach(dr=>dr(ir))}).catch(dr=>{fr==null||fr(void 0,dr)})};return at.persist={setOptions:ur=>{mt={...mt,...ur},ur.getStorage&&(Dt=ur.getStorage())},clearStorage:()=>{Dt==null||Dt.removeItem(mt.name)},getOptions:()=>mt,rehydrate:()=>sr(),hasHydrated:()=>wt,onHydrate:ur=>($t.add(ur),()=>{$t.delete(ur)}),onFinishHydration:ur=>(Ct.add(ur),()=>{Ct.delete(ur)})},sr(),ir||tr},newImpl=(a,s)=>(et,nt,at)=>{let mt={storage:createJSONStorage(()=>localStorage),partialize:sr=>sr,version:0,merge:(sr,ur)=>({...ur,...sr}),...s},wt=!1;const $t=new Set,Ct=new Set;let Dt=mt.storage;if(!Dt)return a((...sr)=>{console.warn(`[zustand persist middleware] Unable to update item '${mt.name}', the given storage is currently unavailable.`),et(...sr)},nt,at);const Ft=()=>{const sr=mt.partialize({...nt()});return Dt.setItem(mt.name,{state:sr,version:mt.version})},jt=at.setState;at.setState=(sr,ur)=>{jt(sr,ur),Ft()};const Ut=a((...sr)=>{et(...sr),Ft()},nt,at);at.getInitialState=()=>Ut;let tr;const ir=()=>{var sr,ur;if(!Dt)return;wt=!1,$t.forEach(dr=>{var hr;return dr((hr=nt())!=null?hr:Ut)});const fr=((ur=mt.onRehydrateStorage)==null?void 0:ur.call(mt,(sr=nt())!=null?sr:Ut))||void 0;return toThenable(Dt.getItem.bind(Dt))(mt.name).then(dr=>{if(dr)if(typeof dr.version=="number"&&dr.version!==mt.version){if(mt.migrate)return[!0,mt.migrate(dr.state,dr.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,dr.state];return[!1,void 0]}).then(dr=>{var hr;const[vr,yr]=dr;if(tr=mt.merge(yr,(hr=nt())!=null?hr:Ut),et(tr,!0),vr)return Ft()}).then(()=>{fr==null||fr(tr,void 0),tr=nt(),wt=!0,Ct.forEach(dr=>dr(tr))}).catch(dr=>{fr==null||fr(void 0,dr)})};return at.persist={setOptions:sr=>{mt={...mt,...sr},sr.storage&&(Dt=sr.storage)},clearStorage:()=>{Dt==null||Dt.removeItem(mt.name)},getOptions:()=>mt,rehydrate:()=>ir(),hasHydrated:()=>wt,onHydrate:sr=>($t.add(sr),()=>{$t.delete(sr)}),onFinishHydration:sr=>(Ct.add(sr),()=>{Ct.delete(sr)})},mt.skipHydration||ir(),tr||Ut},persistImpl=(a,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(a,s)):newImpl(a,s),persist=persistImpl;function getVarName(a){var s=a.match(/^var\((.*)\)$/);return s?s[1]:a}function get$5(a,s){var et=a;for(var nt of s){if(!(nt in et))throw new Error("Path ".concat(s.join(" -> ")," does not exist in object"));et=et[nt]}return et}function walkObject$1(a,s){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],nt={};for(var at in a){var mt=a[at],wt=[...et,at];typeof mt=="string"||typeof mt=="number"||mt==null?nt[at]=s(mt,wt):typeof mt=="object"&&!Array.isArray(mt)?nt[at]=walkObject$1(mt,s,wt):console.warn('Skipping invalid key "'.concat(wt.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(mt)?"Array":typeof mt,'"'))}return nt}function assignInlineVars(a,s){var et={};if(typeof s=="object"){var nt=a;walkObject$1(s,($t,Ct)=>{if($t!=null){var Dt=get$5(nt,Ct);et[getVarName(Dt)]=String($t)}})}else{var at=a;for(var mt in at){var wt=at[mt];wt!=null&&(et[getVarName(mt)]=wt)}}return Object.defineProperty(et,"toString",{value:function(){return Object.keys(this).map(Ct=>"".concat(Ct,":").concat(this[Ct])).join(";")},writable:!1}),et}/*! https://mths.be/cssesc v3.0.0 by @mathias */var object={},hasOwnProperty$b=object.hasOwnProperty,merge$3=function(s,et){if(!s)return et;var nt={};for(var at in et)nt[at]=hasOwnProperty$b.call(s,at)?s[at]:et[at];return nt},regexAnySingleEscape=/[ -,\.\/:-@\[-\^`\{-~]/,regexSingleEscape=/[ -,\.\/:-@\[\]\^`\{-~]/,regexExcessiveSpaces=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,cssesc=function a(s,et){et=merge$3(et,a.options),et.quotes!="single"&&et.quotes!="double"&&(et.quotes="single");for(var nt=et.quotes=="double"?'"':"'",at=et.isIdentifier,mt=s.charAt(0),wt="",$t=0,Ct=s.length;$t<Ct;){var Dt=s.charAt($t++),Ft=Dt.charCodeAt(),jt=void 0;if(Ft<32||Ft>126){if(Ft>=55296&&Ft<=56319&&$t<Ct){var Ut=s.charCodeAt($t++);(Ut&64512)==56320?Ft=((Ft&1023)<<10)+(Ut&1023)+65536:$t--}jt="\\"+Ft.toString(16).toUpperCase()+" "}else et.escapeEverything?regexAnySingleEscape.test(Dt)?jt="\\"+Dt:jt="\\"+Ft.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(Dt)?jt="\\"+Ft.toString(16).toUpperCase()+" ":Dt=="\\"||!at&&(Dt=='"'&&nt==Dt||Dt=="'"&&nt==Dt)||at&&regexSingleEscape.test(Dt)?jt="\\"+Dt:jt=Dt;wt+=jt}return at&&(/^-[-\d]/.test(wt)?wt="\\-"+wt.slice(1):/\d/.test(mt)&&(wt="\\3"+mt+" "+wt.slice(1))),wt=wt.replace(regexExcessiveSpaces,function(tr,ir,sr){return ir&&ir.length%2?tr:(ir||"")+sr}),!at&&et.wrap?nt+wt+nt:wt};cssesc.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};cssesc.version="3.0.0";var cssesc_1=cssesc;const cssesc$1=getDefaultExportFromCjs$2(cssesc_1);var hasConfiguredAdapter=!1,setAdapterIfNotSet=a=>{hasConfiguredAdapter||setAdapter(a)},setAdapter=a=>{if(!a)throw new Error('No adapter provided when calling "setAdapter"');hasConfiguredAdapter=!0};function ownKeys$1(a,s){var et=Object.keys(a);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(a);s&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(a,at).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread$1(a){for(var s=1;s<arguments.length;s++){var et=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$1(Object(et),!0).forEach(function(nt){_defineProperty$1(a,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(nt){Object.defineProperty(a,nt,Object.getOwnPropertyDescriptor(et,nt))})}return a}function _defineProperty$1(a,s,et){return s=_toPropertyKey(s),s in a?Object.defineProperty(a,s,{value:et,enumerable:!0,configurable:!0,writable:!0}):a[s]=et,a}function _toPropertyKey(a){var s=_toPrimitive(a,"string");return typeof s=="symbol"?s:String(s)}function _toPrimitive(a,s){if(typeof a!="object"||a===null)return a;var et=a[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(a,s);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}createDedent({});function createDedent(a){return s.withOptions=et=>createDedent(_objectSpread$1(_objectSpread$1({},a),et)),s;function s(et,...nt){const at=typeof et=="string"?[et]:et.raw,{escapeSpecialCharacters:mt=Array.isArray(et)}=a;let wt="";for(let Dt=0;Dt<at.length;Dt++){let Ft=at[Dt];mt&&(Ft=Ft.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),wt+=Ft,Dt<nt.length&&(wt+=nt[Dt])}const $t=wt.split(`
`);let Ct=null;for(const Dt of $t){const Ft=Dt.match(/^(\s+)\S+/);if(Ft){const jt=Ft[1].length;Ct?Ct=Math.min(Ct,jt):Ct=jt}}if(Ct!==null){const Dt=Ct;wt=$t.map(Ft=>Ft[0]===" "||Ft[0]==="	"?Ft.slice(Dt):Ft).join(`
`)}return wt=wt.trim(),mt&&(wt=wt.replace(/\\n/g,`
`)),wt}}var simplePseudoMap={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-calendar-picker-indicator":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},simplePseudos=Object.keys(simplePseudoMap);[...simplePseudos];function murmur2(a){for(var s=0,et,nt=0,at=a.length;at>=4;++nt,at-=4)et=a.charCodeAt(nt)&255|(a.charCodeAt(++nt)&255)<<8|(a.charCodeAt(++nt)&255)<<16|(a.charCodeAt(++nt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,s=(et&65535)*1540483477+((et>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(at){case 3:s^=(a.charCodeAt(nt+2)&255)<<16;case 2:s^=(a.charCodeAt(nt+1)&255)<<8;case 1:s^=a.charCodeAt(nt)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}function getDefaultExportFromCjs$1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var browser$f={exports:{}},process=browser$f.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var s=queue.length;s;){for(currentQueue=queue,queue=[];++queueIndex<s;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,s=queue.length}currentQueue=null,draining=!1,runClearTimeout(a)}}process.nextTick=function(a){var s=new Array(arguments.length-1);if(arguments.length>1)for(var et=1;et<arguments.length;et++)s[et-1]=arguments[et];queue.push(new Item$1(a,s)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item$1(a,s){this.fun=a,this.array=s}Item$1.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$4(){}process.on=noop$4;process.addListener=noop$4;process.once=noop$4;process.off=noop$4;process.removeListener=noop$4;process.removeAllListeners=noop$4;process.emit=noop$4;process.prependListener=noop$4;process.prependOnceListener=noop$4;process.listeners=function(a){return[]};process.binding=function(a){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(a){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$f.exports;const process$1=getDefaultExportFromCjs$1(browserExports),perf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned=new Set,PROCESS=typeof process$1=="object"&&process$1?process$1:{},emitWarning=(a,s,et,nt)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(a,s,et,nt):console.error(`[${et}] ${s}: ${a}`)};let AC=globalThis.AbortController,AS=globalThis.AbortSignal;var rp;if(typeof AC>"u"){AS=class{constructor(){Yn(this,"onabort");Yn(this,"_onabort",[]);Yn(this,"reason");Yn(this,"aborted",!1)}addEventListener(nt,at){this._onabort.push(at)}},AC=class{constructor(){Yn(this,"signal",new AS);s()}abort(nt){var at,mt;if(!this.signal.aborted){this.signal.reason=nt,this.signal.aborted=!0;for(const wt of this.signal._onabort)wt(nt);(mt=(at=this.signal).onabort)==null||mt.call(at,nt)}}};let a=((rp=PROCESS.env)==null?void 0:rp.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const s=()=>{a&&(a=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",s))}}const shouldWarn=a=>!warned.has(a),isPosInt=a=>a&&a===Math.floor(a)&&a>0&&isFinite(a),getUintArray=a=>isPosInt(a)?a<=Math.pow(2,8)?Uint8Array:a<=Math.pow(2,16)?Uint16Array:a<=Math.pow(2,32)?Uint32Array:a<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(s){super(s),this.fill(0)}}var js,nu;let Stack$2=(js=class{constructor(s,et){Yn(this,"heap");Yn(this,"length");if(!jr(js,nu))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new et(s),this.length=0}static create(s){const et=getUintArray(s);if(!et)return[];ao(js,nu,!0);const nt=new js(s,et);return ao(js,nu,!1),nt}push(s){this.heap[this.length++]=s}pop(){return this.heap[--this.length]}},nu=new WeakMap,_o(js,nu,!1),js);var np,ip,As,ys,Ts,Rs,iu,ou,os,ks,ns,ba,qo,fs,_s,us,as,Ms,ss,Is,Ps,bs,Ds,El,hs,So,Fu,Nl,Vs,vu,xs,Ep,Ll,au,yu,Ws,Gs,Nu,bu,xu,_a,ju,fu,Ks,Lu;const qu=class qu{constructor(s){_o(this,So);_o(this,As);_o(this,ys);_o(this,Ts);_o(this,Rs);_o(this,iu);_o(this,ou);Yn(this,"ttl");Yn(this,"ttlResolution");Yn(this,"ttlAutopurge");Yn(this,"updateAgeOnGet");Yn(this,"updateAgeOnHas");Yn(this,"allowStale");Yn(this,"noDisposeOnSet");Yn(this,"noUpdateTTL");Yn(this,"maxEntrySize");Yn(this,"sizeCalculation");Yn(this,"noDeleteOnFetchRejection");Yn(this,"noDeleteOnStaleGet");Yn(this,"allowStaleOnFetchAbort");Yn(this,"allowStaleOnFetchRejection");Yn(this,"ignoreFetchAbort");_o(this,os);_o(this,ks);_o(this,ns);_o(this,ba);_o(this,qo);_o(this,fs);_o(this,_s);_o(this,us);_o(this,as);_o(this,Ms);_o(this,ss);_o(this,Is);_o(this,Ps);_o(this,bs);_o(this,Ds);_o(this,El);_o(this,hs);_o(this,Nl,()=>{});_o(this,Vs,()=>{});_o(this,vu,()=>{});_o(this,xs,()=>!1);_o(this,Ll,s=>{});_o(this,au,(s,et,nt)=>{});_o(this,yu,(s,et,nt,at)=>{if(nt||at)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Yn(this,np,"LRUCache");const{max:et=0,ttl:nt,ttlResolution:at=1,ttlAutopurge:mt,updateAgeOnGet:wt,updateAgeOnHas:$t,allowStale:Ct,dispose:Dt,disposeAfter:Ft,noDisposeOnSet:jt,noUpdateTTL:Ut,maxSize:tr=0,maxEntrySize:ir=0,sizeCalculation:sr,fetchMethod:ur,memoMethod:fr,noDeleteOnFetchRejection:dr,noDeleteOnStaleGet:hr,allowStaleOnFetchRejection:vr,allowStaleOnFetchAbort:yr,ignoreFetchAbort:xr}=s;if(et!==0&&!isPosInt(et))throw new TypeError("max option must be a nonnegative integer");const br=et?getUintArray(et):Array;if(!br)throw new Error("invalid max value: "+et);if(ao(this,As,et),ao(this,ys,tr),this.maxEntrySize=ir||jr(this,ys),this.sizeCalculation=sr,this.sizeCalculation){if(!jr(this,ys)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(fr!==void 0&&typeof fr!="function")throw new TypeError("memoMethod must be a function if defined");if(ao(this,ou,fr),ur!==void 0&&typeof ur!="function")throw new TypeError("fetchMethod must be a function if specified");if(ao(this,iu,ur),ao(this,El,!!ur),ao(this,ns,new Map),ao(this,ba,new Array(et).fill(void 0)),ao(this,qo,new Array(et).fill(void 0)),ao(this,fs,new br(et)),ao(this,_s,new br(et)),ao(this,us,0),ao(this,as,0),ao(this,Ms,Stack$2.create(et)),ao(this,os,0),ao(this,ks,0),typeof Dt=="function"&&ao(this,Ts,Dt),typeof Ft=="function"?(ao(this,Rs,Ft),ao(this,ss,[])):(ao(this,Rs,void 0),ao(this,ss,void 0)),ao(this,Ds,!!jr(this,Ts)),ao(this,hs,!!jr(this,Rs)),this.noDisposeOnSet=!!jt,this.noUpdateTTL=!!Ut,this.noDeleteOnFetchRejection=!!dr,this.allowStaleOnFetchRejection=!!vr,this.allowStaleOnFetchAbort=!!yr,this.ignoreFetchAbort=!!xr,this.maxEntrySize!==0){if(jr(this,ys)!==0&&!isPosInt(jr(this,ys)))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");fo(this,So,Ep).call(this)}if(this.allowStale=!!Ct,this.noDeleteOnStaleGet=!!hr,this.updateAgeOnGet=!!wt,this.updateAgeOnHas=!!$t,this.ttlResolution=isPosInt(at)||at===0?at:1,this.ttlAutopurge=!!mt,this.ttl=nt||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");fo(this,So,Fu).call(this)}if(jr(this,As)===0&&this.ttl===0&&jr(this,ys)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!jr(this,As)&&!jr(this,ys)){const wr="LRU_CACHE_UNBOUNDED";shouldWarn(wr)&&(warned.add(wr),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",wr,qu))}}static unsafeExposeInternals(s){return{starts:jr(s,Ps),ttls:jr(s,bs),sizes:jr(s,Is),keyMap:jr(s,ns),keyList:jr(s,ba),valList:jr(s,qo),next:jr(s,fs),prev:jr(s,_s),get head(){return jr(s,us)},get tail(){return jr(s,as)},free:jr(s,Ms),isBackgroundFetch:et=>{var nt;return fo(nt=s,So,_a).call(nt,et)},backgroundFetch:(et,nt,at,mt)=>{var wt;return fo(wt=s,So,xu).call(wt,et,nt,at,mt)},moveToTail:et=>{var nt;return fo(nt=s,So,fu).call(nt,et)},indexes:et=>{var nt;return fo(nt=s,So,Ws).call(nt,et)},rindexes:et=>{var nt;return fo(nt=s,So,Gs).call(nt,et)},isStale:et=>{var nt;return jr(nt=s,xs).call(nt,et)}}}get max(){return jr(this,As)}get maxSize(){return jr(this,ys)}get calculatedSize(){return jr(this,ks)}get size(){return jr(this,os)}get fetchMethod(){return jr(this,iu)}get memoMethod(){return jr(this,ou)}get dispose(){return jr(this,Ts)}get disposeAfter(){return jr(this,Rs)}getRemainingTTL(s){return jr(this,ns).has(s)?1/0:0}*entries(){for(const s of fo(this,So,Ws).call(this))jr(this,qo)[s]!==void 0&&jr(this,ba)[s]!==void 0&&!fo(this,So,_a).call(this,jr(this,qo)[s])&&(yield[jr(this,ba)[s],jr(this,qo)[s]])}*rentries(){for(const s of fo(this,So,Gs).call(this))jr(this,qo)[s]!==void 0&&jr(this,ba)[s]!==void 0&&!fo(this,So,_a).call(this,jr(this,qo)[s])&&(yield[jr(this,ba)[s],jr(this,qo)[s]])}*keys(){for(const s of fo(this,So,Ws).call(this)){const et=jr(this,ba)[s];et!==void 0&&!fo(this,So,_a).call(this,jr(this,qo)[s])&&(yield et)}}*rkeys(){for(const s of fo(this,So,Gs).call(this)){const et=jr(this,ba)[s];et!==void 0&&!fo(this,So,_a).call(this,jr(this,qo)[s])&&(yield et)}}*values(){for(const s of fo(this,So,Ws).call(this))jr(this,qo)[s]!==void 0&&!fo(this,So,_a).call(this,jr(this,qo)[s])&&(yield jr(this,qo)[s])}*rvalues(){for(const s of fo(this,So,Gs).call(this))jr(this,qo)[s]!==void 0&&!fo(this,So,_a).call(this,jr(this,qo)[s])&&(yield jr(this,qo)[s])}[(ip=Symbol.iterator,np=Symbol.toStringTag,ip)](){return this.entries()}find(s,et={}){for(const nt of fo(this,So,Ws).call(this)){const at=jr(this,qo)[nt],mt=fo(this,So,_a).call(this,at)?at.__staleWhileFetching:at;if(mt!==void 0&&s(mt,jr(this,ba)[nt],this))return this.get(jr(this,ba)[nt],et)}}forEach(s,et=this){for(const nt of fo(this,So,Ws).call(this)){const at=jr(this,qo)[nt],mt=fo(this,So,_a).call(this,at)?at.__staleWhileFetching:at;mt!==void 0&&s.call(et,mt,jr(this,ba)[nt],this)}}rforEach(s,et=this){for(const nt of fo(this,So,Gs).call(this)){const at=jr(this,qo)[nt],mt=fo(this,So,_a).call(this,at)?at.__staleWhileFetching:at;mt!==void 0&&s.call(et,mt,jr(this,ba)[nt],this)}}purgeStale(){let s=!1;for(const et of fo(this,So,Gs).call(this,{allowStale:!0}))jr(this,xs).call(this,et)&&(fo(this,So,Ks).call(this,jr(this,ba)[et],"expire"),s=!0);return s}info(s){const et=jr(this,ns).get(s);if(et===void 0)return;const nt=jr(this,qo)[et],at=fo(this,So,_a).call(this,nt)?nt.__staleWhileFetching:nt;if(at===void 0)return;const mt={value:at};if(jr(this,bs)&&jr(this,Ps)){const wt=jr(this,bs)[et],$t=jr(this,Ps)[et];if(wt&&$t){const Ct=wt-(perf.now()-$t);mt.ttl=Ct,mt.start=Date.now()}}return jr(this,Is)&&(mt.size=jr(this,Is)[et]),mt}dump(){const s=[];for(const et of fo(this,So,Ws).call(this,{allowStale:!0})){const nt=jr(this,ba)[et],at=jr(this,qo)[et],mt=fo(this,So,_a).call(this,at)?at.__staleWhileFetching:at;if(mt===void 0||nt===void 0)continue;const wt={value:mt};if(jr(this,bs)&&jr(this,Ps)){wt.ttl=jr(this,bs)[et];const $t=perf.now()-jr(this,Ps)[et];wt.start=Math.floor(Date.now()-$t)}jr(this,Is)&&(wt.size=jr(this,Is)[et]),s.unshift([nt,wt])}return s}load(s){this.clear();for(const[et,nt]of s){if(nt.start){const at=Date.now()-nt.start;nt.start=perf.now()-at}this.set(et,nt.value,nt)}}set(s,et,nt={}){var Ut,tr,ir,sr,ur;if(et===void 0)return this.delete(s),this;const{ttl:at=this.ttl,start:mt,noDisposeOnSet:wt=this.noDisposeOnSet,sizeCalculation:$t=this.sizeCalculation,status:Ct}=nt;let{noUpdateTTL:Dt=this.noUpdateTTL}=nt;const Ft=jr(this,yu).call(this,s,et,nt.size||0,$t);if(this.maxEntrySize&&Ft>this.maxEntrySize)return Ct&&(Ct.set="miss",Ct.maxEntrySizeExceeded=!0),fo(this,So,Ks).call(this,s,"set"),this;let jt=jr(this,os)===0?void 0:jr(this,ns).get(s);if(jt===void 0)jt=jr(this,os)===0?jr(this,as):jr(this,Ms).length!==0?jr(this,Ms).pop():jr(this,os)===jr(this,As)?fo(this,So,bu).call(this,!1):jr(this,os),jr(this,ba)[jt]=s,jr(this,qo)[jt]=et,jr(this,ns).set(s,jt),jr(this,fs)[jr(this,as)]=jt,jr(this,_s)[jt]=jr(this,as),ao(this,as,jt),Tl(this,os)._++,jr(this,au).call(this,jt,Ft,Ct),Ct&&(Ct.set="add"),Dt=!1;else{fo(this,So,fu).call(this,jt);const fr=jr(this,qo)[jt];if(et!==fr){if(jr(this,El)&&fo(this,So,_a).call(this,fr)){fr.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:dr}=fr;dr!==void 0&&!wt&&(jr(this,Ds)&&((Ut=jr(this,Ts))==null||Ut.call(this,dr,s,"set")),jr(this,hs)&&((tr=jr(this,ss))==null||tr.push([dr,s,"set"])))}else wt||(jr(this,Ds)&&((ir=jr(this,Ts))==null||ir.call(this,fr,s,"set")),jr(this,hs)&&((sr=jr(this,ss))==null||sr.push([fr,s,"set"])));if(jr(this,Ll).call(this,jt),jr(this,au).call(this,jt,Ft,Ct),jr(this,qo)[jt]=et,Ct){Ct.set="replace";const dr=fr&&fo(this,So,_a).call(this,fr)?fr.__staleWhileFetching:fr;dr!==void 0&&(Ct.oldValue=dr)}}else Ct&&(Ct.set="update")}if(at!==0&&!jr(this,bs)&&fo(this,So,Fu).call(this),jr(this,bs)&&(Dt||jr(this,vu).call(this,jt,at,mt),Ct&&jr(this,Vs).call(this,Ct,jt)),!wt&&jr(this,hs)&&jr(this,ss)){const fr=jr(this,ss);let dr;for(;dr=fr==null?void 0:fr.shift();)(ur=jr(this,Rs))==null||ur.call(this,...dr)}return this}pop(){var s;try{for(;jr(this,os);){const et=jr(this,qo)[jr(this,us)];if(fo(this,So,bu).call(this,!0),fo(this,So,_a).call(this,et)){if(et.__staleWhileFetching)return et.__staleWhileFetching}else if(et!==void 0)return et}}finally{if(jr(this,hs)&&jr(this,ss)){const et=jr(this,ss);let nt;for(;nt=et==null?void 0:et.shift();)(s=jr(this,Rs))==null||s.call(this,...nt)}}}has(s,et={}){const{updateAgeOnHas:nt=this.updateAgeOnHas,status:at}=et,mt=jr(this,ns).get(s);if(mt!==void 0){const wt=jr(this,qo)[mt];if(fo(this,So,_a).call(this,wt)&&wt.__staleWhileFetching===void 0)return!1;if(jr(this,xs).call(this,mt))at&&(at.has="stale",jr(this,Vs).call(this,at,mt));else return nt&&jr(this,Nl).call(this,mt),at&&(at.has="hit",jr(this,Vs).call(this,at,mt)),!0}else at&&(at.has="miss");return!1}peek(s,et={}){const{allowStale:nt=this.allowStale}=et,at=jr(this,ns).get(s);if(at===void 0||!nt&&jr(this,xs).call(this,at))return;const mt=jr(this,qo)[at];return fo(this,So,_a).call(this,mt)?mt.__staleWhileFetching:mt}async fetch(s,et={}){const{allowStale:nt=this.allowStale,updateAgeOnGet:at=this.updateAgeOnGet,noDeleteOnStaleGet:mt=this.noDeleteOnStaleGet,ttl:wt=this.ttl,noDisposeOnSet:$t=this.noDisposeOnSet,size:Ct=0,sizeCalculation:Dt=this.sizeCalculation,noUpdateTTL:Ft=this.noUpdateTTL,noDeleteOnFetchRejection:jt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ut=this.allowStaleOnFetchRejection,ignoreFetchAbort:tr=this.ignoreFetchAbort,allowStaleOnFetchAbort:ir=this.allowStaleOnFetchAbort,context:sr,forceRefresh:ur=!1,status:fr,signal:dr}=et;if(!jr(this,El))return fr&&(fr.fetch="get"),this.get(s,{allowStale:nt,updateAgeOnGet:at,noDeleteOnStaleGet:mt,status:fr});const hr={allowStale:nt,updateAgeOnGet:at,noDeleteOnStaleGet:mt,ttl:wt,noDisposeOnSet:$t,size:Ct,sizeCalculation:Dt,noUpdateTTL:Ft,noDeleteOnFetchRejection:jt,allowStaleOnFetchRejection:Ut,allowStaleOnFetchAbort:ir,ignoreFetchAbort:tr,status:fr,signal:dr};let vr=jr(this,ns).get(s);if(vr===void 0){fr&&(fr.fetch="miss");const yr=fo(this,So,xu).call(this,s,vr,hr,sr);return yr.__returned=yr}else{const yr=jr(this,qo)[vr];if(fo(this,So,_a).call(this,yr)){const Cr=nt&&yr.__staleWhileFetching!==void 0;return fr&&(fr.fetch="inflight",Cr&&(fr.returnedStale=!0)),Cr?yr.__staleWhileFetching:yr.__returned=yr}const xr=jr(this,xs).call(this,vr);if(!ur&&!xr)return fr&&(fr.fetch="hit"),fo(this,So,fu).call(this,vr),at&&jr(this,Nl).call(this,vr),fr&&jr(this,Vs).call(this,fr,vr),yr;const br=fo(this,So,xu).call(this,s,vr,hr,sr),Sr=br.__staleWhileFetching!==void 0&&nt;return fr&&(fr.fetch=xr?"stale":"refresh",Sr&&xr&&(fr.returnedStale=!0)),Sr?br.__staleWhileFetching:br.__returned=br}}async forceFetch(s,et={}){const nt=await this.fetch(s,et);if(nt===void 0)throw new Error("fetch() returned undefined");return nt}memo(s,et={}){const nt=jr(this,ou);if(!nt)throw new Error("no memoMethod provided to constructor");const{context:at,forceRefresh:mt,...wt}=et,$t=this.get(s,wt);if(!mt&&$t!==void 0)return $t;const Ct=nt(s,$t,{options:wt,context:at});return this.set(s,Ct,wt),Ct}get(s,et={}){const{allowStale:nt=this.allowStale,updateAgeOnGet:at=this.updateAgeOnGet,noDeleteOnStaleGet:mt=this.noDeleteOnStaleGet,status:wt}=et,$t=jr(this,ns).get(s);if($t!==void 0){const Ct=jr(this,qo)[$t],Dt=fo(this,So,_a).call(this,Ct);return wt&&jr(this,Vs).call(this,wt,$t),jr(this,xs).call(this,$t)?(wt&&(wt.get="stale"),Dt?(wt&&nt&&Ct.__staleWhileFetching!==void 0&&(wt.returnedStale=!0),nt?Ct.__staleWhileFetching:void 0):(mt||fo(this,So,Ks).call(this,s,"expire"),wt&&nt&&(wt.returnedStale=!0),nt?Ct:void 0)):(wt&&(wt.get="hit"),Dt?Ct.__staleWhileFetching:(fo(this,So,fu).call(this,$t),at&&jr(this,Nl).call(this,$t),Ct))}else wt&&(wt.get="miss")}delete(s){return fo(this,So,Ks).call(this,s,"delete")}clear(){return fo(this,So,Lu).call(this,"delete")}};As=new WeakMap,ys=new WeakMap,Ts=new WeakMap,Rs=new WeakMap,iu=new WeakMap,ou=new WeakMap,os=new WeakMap,ks=new WeakMap,ns=new WeakMap,ba=new WeakMap,qo=new WeakMap,fs=new WeakMap,_s=new WeakMap,us=new WeakMap,as=new WeakMap,Ms=new WeakMap,ss=new WeakMap,Is=new WeakMap,Ps=new WeakMap,bs=new WeakMap,Ds=new WeakMap,El=new WeakMap,hs=new WeakMap,So=new WeakSet,Fu=function(){const s=new ZeroArray(jr(this,As)),et=new ZeroArray(jr(this,As));ao(this,bs,s),ao(this,Ps,et),ao(this,vu,(mt,wt,$t=perf.now())=>{if(et[mt]=wt!==0?$t:0,s[mt]=wt,wt!==0&&this.ttlAutopurge){const Ct=setTimeout(()=>{jr(this,xs).call(this,mt)&&fo(this,So,Ks).call(this,jr(this,ba)[mt],"expire")},wt+1);Ct.unref&&Ct.unref()}}),ao(this,Nl,mt=>{et[mt]=s[mt]!==0?perf.now():0}),ao(this,Vs,(mt,wt)=>{if(s[wt]){const $t=s[wt],Ct=et[wt];if(!$t||!Ct)return;mt.ttl=$t,mt.start=Ct,mt.now=nt||at();const Dt=mt.now-Ct;mt.remainingTTL=$t-Dt}});let nt=0;const at=()=>{const mt=perf.now();if(this.ttlResolution>0){nt=mt;const wt=setTimeout(()=>nt=0,this.ttlResolution);wt.unref&&wt.unref()}return mt};this.getRemainingTTL=mt=>{const wt=jr(this,ns).get(mt);if(wt===void 0)return 0;const $t=s[wt],Ct=et[wt];if(!$t||!Ct)return 1/0;const Dt=(nt||at())-Ct;return $t-Dt},ao(this,xs,mt=>{const wt=et[mt],$t=s[mt];return!!$t&&!!wt&&(nt||at())-wt>$t})},Nl=new WeakMap,Vs=new WeakMap,vu=new WeakMap,xs=new WeakMap,Ep=function(){const s=new ZeroArray(jr(this,As));ao(this,ks,0),ao(this,Is,s),ao(this,Ll,et=>{ao(this,ks,jr(this,ks)-s[et]),s[et]=0}),ao(this,yu,(et,nt,at,mt)=>{if(fo(this,So,_a).call(this,nt))return 0;if(!isPosInt(at))if(mt){if(typeof mt!="function")throw new TypeError("sizeCalculation must be a function");if(at=mt(nt,et),!isPosInt(at))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return at}),ao(this,au,(et,nt,at)=>{if(s[et]=nt,jr(this,ys)){const mt=jr(this,ys)-s[et];for(;jr(this,ks)>mt;)fo(this,So,bu).call(this,!0)}ao(this,ks,jr(this,ks)+s[et]),at&&(at.entrySize=nt,at.totalCalculatedSize=jr(this,ks))})},Ll=new WeakMap,au=new WeakMap,yu=new WeakMap,Ws=function*({allowStale:s=this.allowStale}={}){if(jr(this,os))for(let et=jr(this,as);!(!fo(this,So,Nu).call(this,et)||((s||!jr(this,xs).call(this,et))&&(yield et),et===jr(this,us)));)et=jr(this,_s)[et]},Gs=function*({allowStale:s=this.allowStale}={}){if(jr(this,os))for(let et=jr(this,us);!(!fo(this,So,Nu).call(this,et)||((s||!jr(this,xs).call(this,et))&&(yield et),et===jr(this,as)));)et=jr(this,fs)[et]},Nu=function(s){return s!==void 0&&jr(this,ns).get(jr(this,ba)[s])===s},bu=function(s){var mt,wt;const et=jr(this,us),nt=jr(this,ba)[et],at=jr(this,qo)[et];return jr(this,El)&&fo(this,So,_a).call(this,at)?at.__abortController.abort(new Error("evicted")):(jr(this,Ds)||jr(this,hs))&&(jr(this,Ds)&&((mt=jr(this,Ts))==null||mt.call(this,at,nt,"evict")),jr(this,hs)&&((wt=jr(this,ss))==null||wt.push([at,nt,"evict"]))),jr(this,Ll).call(this,et),s&&(jr(this,ba)[et]=void 0,jr(this,qo)[et]=void 0,jr(this,Ms).push(et)),jr(this,os)===1?(ao(this,us,ao(this,as,0)),jr(this,Ms).length=0):ao(this,us,jr(this,fs)[et]),jr(this,ns).delete(nt),Tl(this,os)._--,et},xu=function(s,et,nt,at){const mt=et===void 0?void 0:jr(this,qo)[et];if(fo(this,So,_a).call(this,mt))return mt;const wt=new AC,{signal:$t}=nt;$t==null||$t.addEventListener("abort",()=>wt.abort($t.reason),{signal:wt.signal});const Ct={signal:wt.signal,options:nt,context:at},Dt=(sr,ur=!1)=>{const{aborted:fr}=wt.signal,dr=nt.ignoreFetchAbort&&sr!==void 0;if(nt.status&&(fr&&!ur?(nt.status.fetchAborted=!0,nt.status.fetchError=wt.signal.reason,dr&&(nt.status.fetchAbortIgnored=!0)):nt.status.fetchResolved=!0),fr&&!dr&&!ur)return jt(wt.signal.reason);const hr=tr;return jr(this,qo)[et]===tr&&(sr===void 0?hr.__staleWhileFetching?jr(this,qo)[et]=hr.__staleWhileFetching:fo(this,So,Ks).call(this,s,"fetch"):(nt.status&&(nt.status.fetchUpdated=!0),this.set(s,sr,Ct.options))),sr},Ft=sr=>(nt.status&&(nt.status.fetchRejected=!0,nt.status.fetchError=sr),jt(sr)),jt=sr=>{const{aborted:ur}=wt.signal,fr=ur&&nt.allowStaleOnFetchAbort,dr=fr||nt.allowStaleOnFetchRejection,hr=dr||nt.noDeleteOnFetchRejection,vr=tr;if(jr(this,qo)[et]===tr&&(!hr||vr.__staleWhileFetching===void 0?fo(this,So,Ks).call(this,s,"fetch"):fr||(jr(this,qo)[et]=vr.__staleWhileFetching)),dr)return nt.status&&vr.__staleWhileFetching!==void 0&&(nt.status.returnedStale=!0),vr.__staleWhileFetching;if(vr.__returned===vr)throw sr},Ut=(sr,ur)=>{var dr;const fr=(dr=jr(this,iu))==null?void 0:dr.call(this,s,mt,Ct);fr&&fr instanceof Promise&&fr.then(hr=>sr(hr===void 0?void 0:hr),ur),wt.signal.addEventListener("abort",()=>{(!nt.ignoreFetchAbort||nt.allowStaleOnFetchAbort)&&(sr(void 0),nt.allowStaleOnFetchAbort&&(sr=hr=>Dt(hr,!0)))})};nt.status&&(nt.status.fetchDispatched=!0);const tr=new Promise(Ut).then(Dt,Ft),ir=Object.assign(tr,{__abortController:wt,__staleWhileFetching:mt,__returned:void 0});return et===void 0?(this.set(s,ir,{...Ct.options,status:void 0}),et=jr(this,ns).get(s)):jr(this,qo)[et]=ir,ir},_a=function(s){if(!jr(this,El))return!1;const et=s;return!!et&&et instanceof Promise&&et.hasOwnProperty("__staleWhileFetching")&&et.__abortController instanceof AC},ju=function(s,et){jr(this,_s)[et]=s,jr(this,fs)[s]=et},fu=function(s){s!==jr(this,as)&&(s===jr(this,us)?ao(this,us,jr(this,fs)[s]):fo(this,So,ju).call(this,jr(this,_s)[s],jr(this,fs)[s]),fo(this,So,ju).call(this,jr(this,as),s),ao(this,as,s))},Ks=function(s,et){var at,mt,wt,$t;let nt=!1;if(jr(this,os)!==0){const Ct=jr(this,ns).get(s);if(Ct!==void 0)if(nt=!0,jr(this,os)===1)fo(this,So,Lu).call(this,et);else{jr(this,Ll).call(this,Ct);const Dt=jr(this,qo)[Ct];if(fo(this,So,_a).call(this,Dt)?Dt.__abortController.abort(new Error("deleted")):(jr(this,Ds)||jr(this,hs))&&(jr(this,Ds)&&((at=jr(this,Ts))==null||at.call(this,Dt,s,et)),jr(this,hs)&&((mt=jr(this,ss))==null||mt.push([Dt,s,et]))),jr(this,ns).delete(s),jr(this,ba)[Ct]=void 0,jr(this,qo)[Ct]=void 0,Ct===jr(this,as))ao(this,as,jr(this,_s)[Ct]);else if(Ct===jr(this,us))ao(this,us,jr(this,fs)[Ct]);else{const Ft=jr(this,_s)[Ct];jr(this,fs)[Ft]=jr(this,fs)[Ct];const jt=jr(this,fs)[Ct];jr(this,_s)[jt]=jr(this,_s)[Ct]}Tl(this,os)._--,jr(this,Ms).push(Ct)}}if(jr(this,hs)&&((wt=jr(this,ss))!=null&&wt.length)){const Ct=jr(this,ss);let Dt;for(;Dt=Ct==null?void 0:Ct.shift();)($t=jr(this,Rs))==null||$t.call(this,...Dt)}return nt},Lu=function(s){var et,nt,at;for(const mt of fo(this,So,Gs).call(this,{allowStale:!0})){const wt=jr(this,qo)[mt];if(fo(this,So,_a).call(this,wt))wt.__abortController.abort(new Error("deleted"));else{const $t=jr(this,ba)[mt];jr(this,Ds)&&((et=jr(this,Ts))==null||et.call(this,wt,$t,s)),jr(this,hs)&&((nt=jr(this,ss))==null||nt.push([wt,$t,s]))}}if(jr(this,ns).clear(),jr(this,qo).fill(void 0),jr(this,ba).fill(void 0),jr(this,bs)&&jr(this,Ps)&&(jr(this,bs).fill(0),jr(this,Ps).fill(0)),jr(this,Is)&&jr(this,Is).fill(0),ao(this,us,0),ao(this,as,0),jr(this,Ms).length=0,ao(this,ks,0),ao(this,os,0),jr(this,hs)&&jr(this,ss)){const mt=jr(this,ss);let wt;for(;wt=mt==null?void 0:mt.shift();)(at=jr(this,Rs))==null||at.call(this,...wt)}};let LRUCache=qu;var isMergeableObject=function(s){return isNonNullObject(s)&&!isSpecial(s)};function isNonNullObject(a){return!!a&&typeof a=="object"}function isSpecial(a){var s=Object.prototype.toString.call(a);return s==="[object RegExp]"||s==="[object Date]"||isReactElement(a)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(a){return a.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(a){return Array.isArray(a)?[]:{}}function cloneUnlessOtherwiseSpecified(a,s){return s.clone!==!1&&s.isMergeableObject(a)?deepmerge(emptyTarget(a),a,s):a}function defaultArrayMerge(a,s,et){return a.concat(s).map(function(nt){return cloneUnlessOtherwiseSpecified(nt,et)})}function getMergeFunction(a,s){if(!s.customMerge)return deepmerge;var et=s.customMerge(a);return typeof et=="function"?et:deepmerge}function getEnumerableOwnPropertySymbols(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(s){return Object.propertyIsEnumerable.call(a,s)}):[]}function getKeys(a){return Object.keys(a).concat(getEnumerableOwnPropertySymbols(a))}function propertyIsOnObject(a,s){try{return s in a}catch{return!1}}function propertyIsUnsafe(a,s){return propertyIsOnObject(a,s)&&!(Object.hasOwnProperty.call(a,s)&&Object.propertyIsEnumerable.call(a,s))}function mergeObject(a,s,et){var nt={};return et.isMergeableObject(a)&&getKeys(a).forEach(function(at){nt[at]=cloneUnlessOtherwiseSpecified(a[at],et)}),getKeys(s).forEach(function(at){propertyIsUnsafe(a,at)||(propertyIsOnObject(a,at)&&et.isMergeableObject(s[at])?nt[at]=getMergeFunction(at,et)(a[at],s[at],et):nt[at]=cloneUnlessOtherwiseSpecified(s[at],et))}),nt}function deepmerge(a,s,et){et=et||{},et.arrayMerge=et.arrayMerge||defaultArrayMerge,et.isMergeableObject=et.isMergeableObject||isMergeableObject,et.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var nt=Array.isArray(s),at=Array.isArray(a),mt=nt===at;return mt?nt?et.arrayMerge(a,s,et):mergeObject(a,s,et):cloneUnlessOtherwiseSpecified(s,et)}deepmerge.all=function(s,et){if(!Array.isArray(s))throw new Error("first argument should be an array");return s.reduce(function(nt,at){return deepmerge(nt,at,et)},{})};var browserRuntimeAdapter={};setAdapterIfNotSet(browserRuntimeAdapter);var getLastSlashBeforeIndex=(a,s)=>{for(var et=s-1;et>=0;){if(a[et]==="/")return et;et--}return-1},_getDebugFileName=a=>{var s,et=a.lastIndexOf(".css");if(et===-1)return"";var nt=getLastSlashBeforeIndex(a,et);if(s=a.slice(nt+1,et),nt===-1)return s;var at=getLastSlashBeforeIndex(a,nt-1),mt=a.slice(at+1,nt),wt=s!=="index"?s:mt;return wt},memoizedGetDebugFileName=()=>{var a=new LRUCache({max:500});return s=>{var et=a.get(s);if(et)return et;var nt=_getDebugFileName(s);return a.set(s,nt),nt}};memoizedGetDebugFileName();function createGlobalThemeContract(a,s){return walkObject$1(a,(et,nt)=>{var at=typeof s=="function"?s(et,nt):et,mt=typeof at=="string"?at.replace(/^\-\-/,""):null;if(typeof mt!="string"||mt!==cssesc$1(mt,{isIdentifier:!0}))throw new Error('Invalid variable name for "'.concat(nt.join("."),'": ').concat(mt));return"var(--".concat(mt,")")})}var __create$1=Object.create,__defProp$8=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__typeError=a=>{throw TypeError(a)},__esm=(a,s)=>function(){return a&&(s=(0,a[__getOwnPropNames$1(a)[0]])(a=0)),s},__commonJS$1=(a,s)=>function(){return s||(0,a[__getOwnPropNames$1(a)[0]])((s={exports:{}}).exports,s),s.exports},__copyProps$1=(a,s,et,nt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$1(s))!__hasOwnProp$3.call(a,at)&&at!==et&&__defProp$8(a,at,{get:()=>s[at],enumerable:!(nt=__getOwnPropDesc$1(s,at))||nt.enumerable});return a},__toESM$1=(a,s,et)=>(et=a!=null?__create$1(__getProtoOf$1(a)):{},__copyProps$1(!a||!a.__esModule?__defProp$8(et,"default",{value:a,enumerable:!0}):et,a)),__accessCheck=(a,s,et)=>s.has(a)||__typeError("Cannot "+et),__privateGet=(a,s,et)=>(__accessCheck(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd=(a,s,et)=>s.has(a)?__typeError("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),init_StyleMarker_css_ts_vanilla=__esm({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),require_StyleMarker_css=__commonJS$1({"src/components/styling/StyleMarker.css.ts"(){init_StyleMarker_css_ts_vanilla()}}),walletMutationKeys={all:{baseScope:"wallet"},connectWallet:formMutationKeyFn("connect-wallet"),autoconnectWallet:formMutationKeyFn("autoconnect-wallet"),disconnectWallet:formMutationKeyFn("disconnect-wallet"),signPersonalMessage:formMutationKeyFn("sign-personal-message"),signTransaction:formMutationKeyFn("sign-transaction"),signAndExecuteTransaction:formMutationKeyFn("sign-and-execute-transaction"),switchAccount:formMutationKeyFn("switch-account"),reportTransactionEffects:formMutationKeyFn("report-transaction-effects")};function formMutationKeyFn(a){return function(et=[]){return[{...walletMutationKeys.all,baseEntity:a},...et]}}var WalletContext=reactExports.createContext(null);function useWalletStore(a){const s=reactExports.useContext(WalletContext);if(!s)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return useStore(s,a)}function useConnectWallet({mutationKey:a,...s}={}){const et=useWalletStore(at=>at.setWalletConnected),nt=useWalletStore(at=>at.setConnectionStatus);return useMutation({mutationKey:walletMutationKeys.connectWallet(a),mutationFn:async({wallet:at,accountAddress:mt,...wt})=>{try{nt("connecting");const $t=await at.features["standard:connect"].connect(wt),Ct=$t.accounts.filter(Ft=>Ft.chains.some(jt=>jt.split(":")[0]==="sui")),Dt=getSelectedAccount(Ct,mt);return et(at,Ct,Dt,$t.supportedIntents),{accounts:Ct}}catch($t){throw nt("disconnected"),$t}},...s})}function getSelectedAccount(a,s){return a.length===0?null:s?a.find(nt=>nt.address===s)??a[0]:a[0]}function getRegisteredWallets(a,s){const at=getWallets().get().filter(mt=>isWalletWithRequiredFeatureSet(mt)&&(!s||s(mt)));return[...a.map(mt=>at.find(wt=>wt.name===mt)).filter(Boolean),...at.filter(mt=>!a.includes(mt.name))]}function getWalletUniqueIdentifier(a){return(a==null?void 0:a.id)??(a==null?void 0:a.name)}var styleDataAttributeName="data-dapp-kit",styleDataAttributeSelector=`[${styleDataAttributeName}]`,styleDataAttribute={[styleDataAttributeName]:""};__toESM$1(require_StyleMarker_css());var StyleMarker=reactExports.forwardRef(({children:a,...s},et)=>jsxRuntimeExports.jsx(Slot,{ref:et,...s,...styleDataAttribute,children:a}));StyleMarker.displayName="StyleMarker";var headingVariants=createRuntimeFn({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),Heading$1=reactExports.forwardRef(({children:a,className:s,asChild:et=!1,as:nt="h1",size:at,weight:mt,truncate:wt,...$t},Ct)=>jsxRuntimeExports.jsx(Slot,{...$t,ref:Ct,className:clsx(headingVariants({size:at,weight:mt,truncate:wt}),s),children:et?a:jsxRuntimeExports.jsx(nt,{children:a})}));Heading$1.displayName="Heading";var container$1="IconButton_container__s6n7bq0",IconButton=reactExports.forwardRef(({className:a,asChild:s=!1,...et},nt)=>{const at=s?Slot:"button";return jsxRuntimeExports.jsx(at,{...et,className:clsx(container$1,a),ref:nt})});IconButton.displayName="Button";var buttonVariants=createRuntimeFn({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),Button$1=reactExports.forwardRef(({className:a,variant:s,size:et,asChild:nt=!1,...at},mt)=>{const wt=nt?Slot:"button";return jsxRuntimeExports.jsx(wt,{...at,className:clsx(buttonVariants({variant:s,size:et}),a),ref:mt})});Button$1.displayName="Button";var textVariants=createRuntimeFn({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),Text$1=reactExports.forwardRef(({children:a,className:s,asChild:et=!1,as:nt="div",size:at,weight:mt,color:wt,mono:$t,...Ct},Dt)=>jsxRuntimeExports.jsx(Slot,{...Ct,ref:Dt,className:clsx(textVariants({size:at,weight:mt,color:wt,mono:$t}),s),children:et?a:jsxRuntimeExports.jsx(nt,{children:a})}));Text$1.displayName="Text";function useWallets(){return useWalletStore(a=>a.wallets)}function useCurrentAccount(){return useWalletStore(a=>a.currentAccount)}var SuiClientContext=reactExports.createContext(null),DEFAULT_NETWORKS={localnet:{url:getFullnodeUrl$1("localnet")}},DEFAULT_CREATE_CLIENT=function(s,et){return isSuiClient(et)?et:new SuiClient(et)};function SuiClientProvider(a){const{onNetworkChange:s,network:et,children:nt}=a,at=a.networks??DEFAULT_NETWORKS,mt=a.createClient??DEFAULT_CREATE_CLIENT,[wt,$t]=reactExports.useState(a.network??a.defaultNetwork??Object.keys(at)[0]),Ct=a.network??wt,Dt=reactExports.useMemo(()=>mt(Ct,at[Ct]),[mt,Ct,at]),Ft=reactExports.useMemo(()=>({client:Dt,networks:at,network:Ct,config:at[Ct]instanceof SuiClient?null:at[Ct],selectNetwork:jt=>{Ct!==jt&&(!et&&jt!==wt&&$t(jt),s==null||s(jt))}}),[Dt,at,wt,Ct,et,s]);return jsxRuntimeExports.jsx(SuiClientContext.Provider,{value:Ft,children:nt})}function useSuiClientContext(){const a=reactExports.useContext(SuiClientContext);if(!a)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return a}function useSuiClient(){return useSuiClientContext().client}var WalletNotConnectedError=class extends Error{},WalletNoAccountSelectedError=class extends Error{},WalletFeatureNotSupportedError=class extends Error{},WalletAccountNotFoundError=class extends Error{};function useCurrentWallet(){const a=useWalletStore(nt=>nt.currentWallet),s=useWalletStore(nt=>nt.connectionStatus),et=useWalletStore(nt=>nt.supportedIntents);switch(s){case"connecting":return{connectionStatus:s,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:s,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:s,currentWallet:a,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:et}}}function useDisconnectWallet({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),nt=useWalletStore(at=>at.setWalletDisconnected);return useMutation({mutationKey:walletMutationKeys.disconnectWallet(a),mutationFn:async()=>{var at;if(!et)throw new WalletNotConnectedError("No wallet is connected.");try{await((at=et.features["standard:disconnect"])==null?void 0:at.disconnect())}catch(mt){console.error("Failed to disconnect the application from the current wallet.",mt)}nt()},...s})}function useSwitchAccount({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),nt=useWalletStore(at=>at.setAccountSwitched);return useMutation({mutationKey:walletMutationKeys.switchAccount(a),mutationFn:async({account:at})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const mt=et.accounts.find(wt=>wt.address===at.address);if(!mt)throw new WalletAccountNotFoundError(`No account with address ${at.address} is connected to ${et.name}.`);nt(mt)},...s})}function createInMemoryStore(){const a=new Map;return{getItem(s){return a.get(s)},setItem(s,et){a.set(s,et)},removeItem(s){a.delete(s)}}}var SUI_WALLET_NAME="Sui Wallet",DEFAULT_STORAGE=typeof window<"u"&&window.localStorage?localStorage:createInMemoryStore(),DEFAULT_STORAGE_KEY="sui-dapp-kit:wallet-connection-info",SIGN_FEATURES=["sui:signTransaction","sui:signTransactionBlock"],DEFAULT_WALLET_FILTER=a=>SIGN_FEATURES.some(s=>a.features[s]),DEFAULT_PREFERRED_WALLETS=[SUI_WALLET_NAME,STASHED_WALLET_NAME];function useAutoConnectWallet(){const{mutateAsync:a}=useConnectWallet(),s=useWalletStore(Ft=>Ft.autoConnectEnabled),et=useWalletStore(Ft=>Ft.lastConnectedWalletName),nt=useWalletStore(Ft=>Ft.lastConnectedAccountAddress),at=useWallets(),{isConnected:mt}=useCurrentWallet(),[wt,$t]=reactExports.useState(!1);reactExports.useLayoutEffect(()=>{$t(!0)},[]);const{data:Ct,isError:Dt}=useQuery({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:mt,autoConnectEnabled:s,lastConnectedWalletName:et,lastConnectedAccountAddress:nt,walletCount:at.length}],queryFn:async()=>{if(!s)return"disabled";if(!et||!nt||mt)return"attempted";const Ft=at.find(jt=>getWalletUniqueIdentifier(jt)===et);return Ft&&await a({wallet:Ft,accountAddress:nt,silent:!0}),"attempted"},enabled:s,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return s?wt?mt||!et||Dt?"attempted":Ct??"idle":"idle":"disabled"}function useStashedWallet(a){const s=useAutoConnectWallet(),[et,nt]=reactExports.useState(null),[at,mt]=reactExports.useState(null),{mutate:wt}=useConnectWallet();reactExports.useEffect(()=>{!et||!at||s!=="attempted"||(wt({wallet:at,silent:!0}),nt(null))},[et,s,wt,at]),reactExports.useLayoutEffect(()=>{if(!(a!=null&&a.name))return;const{wallet:$t,unregister:Ct,addressFromRedirect:Dt}=registerStashedWallet(a.name,{origin:a.origin,network:a.network});return Dt&&(mt($t),nt(Dt)),Ct},[a==null?void 0:a.name,a==null?void 0:a.origin,a==null?void 0:a.network])}var WALLET_NAME="Unsafe Burner Wallet";function useUnsafeBurnerWallet(a){const s=useSuiClient();reactExports.useEffect(()=>a?registerUnsafeBurnerWallet(s):void 0,[a,s])}function registerUnsafeBurnerWallet(a){var s,et,nt,at,mt,wt,$t;const Ct=getWallets();if(Ct.get().find(tr=>tr.name===WALLET_NAME)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const Ft=new Ed25519Keypair,jt=new ReadonlyWalletAccount({address:Ft.getPublicKey().toSuiAddress(),publicKey:Ft.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class Ut{constructor(){__privateAdd(this,s,()=>()=>{}),__privateAdd(this,et,async()=>({accounts:this.accounts})),__privateAdd(this,nt,async ir=>{const{bytes:sr,signature:ur}=await Ft.signPersonalMessage(ir.message);return{bytes:sr,signature:ur}}),__privateAdd(this,at,async ir=>{const{bytes:sr,signature:ur}=await ir.transactionBlock.sign({client:a,signer:Ft});return{transactionBlockBytes:sr,signature:ur}}),__privateAdd(this,mt,async ir=>{var fr;const{bytes:sr,signature:ur}=await Transaction.from(await ir.transaction.toJSON()).sign({client:a,signer:Ft});return(fr=ir.signal)==null||fr.throwIfAborted(),{bytes:sr,signature:ur}}),__privateAdd(this,wt,async ir=>{const{bytes:sr,signature:ur}=await ir.transactionBlock.sign({client:a,signer:Ft});return a.executeTransactionBlock({signature:ur,transactionBlock:sr,options:ir.options})}),__privateAdd(this,$t,async ir=>{var hr;const{bytes:sr,signature:ur}=await Transaction.from(await ir.transaction.toJSON()).sign({client:a,signer:Ft});(hr=ir.signal)==null||hr.throwIfAborted();const{rawEffects:fr,digest:dr}=await a.executeTransactionBlock({signature:ur,transactionBlock:sr,options:{showRawEffects:!0}});return{bytes:sr,signature:ur,digest:dr,effects:toBase64(new Uint8Array(fr))}})}get version(){return"1.0.0"}get name(){return WALLET_NAME}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return SUI_CHAINS}get accounts(){return[jt]}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet(this,et)},"standard:events":{version:"1.0.0",on:__privateGet(this,s)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet(this,nt)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet(this,at)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:__privateGet(this,wt)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet(this,mt)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:__privateGet(this,$t)}}}}return s=new WeakMap,et=new WeakMap,nt=new WeakMap,at=new WeakMap,mt=new WeakMap,wt=new WeakMap,$t=new WeakMap,Ct.register(new Ut)}function useWalletPropertiesChanged(){const{currentWallet:a}=useCurrentWallet(),s=useWalletStore(et=>et.updateWalletAccounts);reactExports.useEffect(()=>a==null?void 0:a.features["standard:events"].on("change",({accounts:nt})=>{nt&&s(nt)}),[a==null?void 0:a.features,s])}function useWalletsChanged(a,s){const et=useWalletStore(at=>at.setWalletRegistered),nt=useWalletStore(at=>at.setWalletUnregistered);reactExports.useEffect(()=>{const at=getWallets();et(getRegisteredWallets(a,s));const mt=at.on("register",()=>{et(getRegisteredWallets(a,s))}),wt=at.on("unregister",$t=>{nt(getRegisteredWallets(a,s),$t)});return()=>{mt(),wt()}},[a,s,et,nt])}var lightTheme={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function createWalletStore({wallets:a,storage:s,storageKey:et,autoConnectEnabled:nt}){return createStore$1()(persist((at,mt)=>({autoConnectEnabled:nt,wallets:a,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(wt){at(()=>({connectionStatus:wt}))},setWalletConnected(wt,$t,Ct,Dt=[]){at(()=>({accounts:$t,currentWallet:wt,currentAccount:Ct,lastConnectedWalletName:getWalletUniqueIdentifier(wt),lastConnectedAccountAddress:Ct==null?void 0:Ct.address,connectionStatus:"connected",supportedIntents:Dt}))},setWalletDisconnected(){at(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(wt){at(()=>({currentAccount:wt,lastConnectedAccountAddress:wt.address}))},setWalletRegistered(wt){at(()=>({wallets:wt}))},setWalletUnregistered(wt,$t){$t===mt().currentWallet?at(()=>({wallets:wt,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):at(()=>({wallets:wt}))},updateWalletAccounts(wt){const $t=mt().currentAccount;at(()=>({accounts:wt,currentAccount:$t&&wt.find(({address:Ct})=>Ct===$t.address)||wt[0]}))}}),{name:et,storage:createJSONStorage(()=>s),partialize:({lastConnectedWalletName:at,lastConnectedAccountAddress:mt})=>({lastConnectedWalletName:at,lastConnectedAccountAddress:mt})}))}var themeContractValues={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},themeVars=createGlobalThemeContract(themeContractValues,(a,s)=>`dapp-kit-${s.join("-")}`);function InjectedThemeStyles({theme:a}){const s=Array.isArray(a)?getDynamicThemeStyles(a):getStaticThemeStyles(a);return jsxRuntimeExports.jsx("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:s}})}function getDynamicThemeStyles(a){return a.map(({mediaQuery:s,selector:et,variables:nt})=>{const at=getStaticThemeStyles(nt),mt=et?`${et} ${at}`:at;return s?`@media ${s}{${mt}}`:mt}).join(" ")}function getStaticThemeStyles(a){return`${styleDataAttributeSelector} {${cssStringFromTheme(a)}}`}function cssStringFromTheme(a){return Object.entries(assignInlineVars(themeVars,a)).map(([s,et])=>`${s}:${et};`).join("")}function WalletProvider({preferredWallets:a=DEFAULT_PREFERRED_WALLETS,walletFilter:s=DEFAULT_WALLET_FILTER,storage:et=DEFAULT_STORAGE,storageKey:nt=DEFAULT_STORAGE_KEY,enableUnsafeBurner:at=!1,autoConnect:mt=!1,stashedWallet:wt,theme:$t=lightTheme,children:Ct}){const Dt=reactExports.useRef(createWalletStore({autoConnectEnabled:mt,wallets:getRegisteredWallets(a,s),storage:et||createInMemoryStore(),storageKey:nt}));return jsxRuntimeExports.jsx(WalletContext.Provider,{value:Dt.current,children:jsxRuntimeExports.jsxs(WalletConnectionManager,{preferredWallets:a,walletFilter:s,enableUnsafeBurner:at,stashedWallet:wt,children:[$t?jsxRuntimeExports.jsx(InjectedThemeStyles,{theme:$t}):null,Ct]})})}function WalletConnectionManager({preferredWallets:a=DEFAULT_PREFERRED_WALLETS,walletFilter:s=DEFAULT_WALLET_FILTER,enableUnsafeBurner:et=!1,stashedWallet:nt,children:at}){return useWalletsChanged(a,s),useWalletPropertiesChanged(),useStashedWallet(nt),useUnsafeBurnerWallet(et),useAutoConnectWallet(),at}function createNetworkConfig(a){function s(){const{config:at}=useSuiClientContext();if(!at)throw new Error("No network config found");return at}function et(){const{variables:at}=s();return at??{}}function nt(at){return et()[at]}return{networkConfig:a,useNetworkConfig:s,useNetworkVariables:et,useNetworkVariable:nt}}function useReportTransactionEffects({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),nt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.reportTransactionEffects(a),mutationFn:async({effects:at,chain:mt=et==null?void 0:et.chains[0],account:wt=nt})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");if(!wt)throw new WalletNoAccountSelectedError("No wallet account is selected to report transaction effects for");const $t=et.features["sui:reportTransactionEffects"];if($t)return await $t.reportTransactionEffects({effects:Array.isArray(at)?toBase64(new Uint8Array(at)):at,account:wt,chain:mt??(et==null?void 0:et.chains[0])})},...s})}function useSignAndExecuteTransaction({mutationKey:a,execute:s,...et}={}){const{currentWallet:nt,supportedIntents:at}=useCurrentWallet(),mt=useCurrentAccount(),wt=useSuiClient(),{mutate:$t}=useReportTransactionEffects(),Ct=s??(async({bytes:Dt,signature:Ft})=>{const{digest:jt,rawEffects:Ut}=await wt.executeTransactionBlock({transactionBlock:Dt,signature:Ft,options:{showRawEffects:!0}});return{digest:jt,rawEffects:Ut,effects:toBase64(new Uint8Array(Ut)),bytes:Dt,signature:Ft}});return useMutation({mutationKey:walletMutationKeys.signAndExecuteTransaction(a),mutationFn:async({transaction:Dt,...Ft})=>{var fr;if(!nt)throw new WalletNotConnectedError("No wallet is connected.");const jt=Ft.account??mt;if(!jt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");const Ut=Ft.chain??(jt==null?void 0:jt.chains[0]);if(!nt.features["sui:signTransaction"]&&!nt.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{signature:tr,bytes:ir}=await signTransaction(nt,{...Ft,transaction:{async toJSON(){return typeof Dt=="string"?Dt:await Dt.toJSON({supportedIntents:at,client:wt})}},account:jt,chain:Ft.chain??jt.chains[0]}),sr=await Ct({bytes:ir,signature:tr});let ur;if("effects"in sr&&((fr=sr.effects)!=null&&fr.bcs))ur=sr.effects.bcs;else if("rawEffects"in sr)ur=toBase64(new Uint8Array(sr.rawEffects));else throw new Error("Could not parse effects from transaction result.");return $t({effects:ur,account:jt,chain:Ut}),sr},...et})}function useSignPersonalMessage({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),nt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.signPersonalMessage(a),mutationFn:async at=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const mt=at.account??nt;if(!mt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the personal message with.");const wt=et.features["sui:signPersonalMessage"];if(wt)return await wt.signPersonalMessage({...at,account:mt});const $t=et.features["sui:signMessage"];if($t){console.warn("This wallet doesn't support the `signPersonalMessage` feature... falling back to `signMessage`.");const{messageBytes:Ct,signature:Dt}=await $t.signMessage({...at,account:mt});return{bytes:Ct,signature:Dt}}throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signPersonalMessage` feature.")},...s})}function useSignTransaction({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),nt=useCurrentAccount(),at=useSuiClient(),{mutate:mt}=useReportTransactionEffects();return useMutation({mutationKey:walletMutationKeys.signTransaction(a),mutationFn:async({transaction:wt,...$t})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const Ct=$t.account??nt;if(!Ct)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");if(!et.features["sui:signTransaction"]&&!et.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{bytes:Dt,signature:Ft}=await signTransaction(et,{...$t,transaction:{toJSON:async()=>typeof wt=="string"?wt:await wt.toJSON({supportedIntents:[],client:at})},account:Ct,chain:$t.chain??Ct.chains[0]});return{bytes:Dt,signature:Ft,reportTransactionEffects:jt=>{mt({effects:jt,account:Ct,chain:$t.chain??Ct.chains[0]})}}},...s})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(a[nt]=et[nt])}return a},_extends$3.apply(this,arguments)}var Action$1;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(a){a===void 0&&(a={});function s(nt,at){let{pathname:mt,search:wt,hash:$t}=nt.location;return createLocation("",{pathname:mt,search:wt,hash:$t},at.state&&at.state.usr||null,at.state&&at.state.key||"default")}function et(nt,at){return typeof at=="string"?at:createPath(at)}return getUrlBasedHistory(s,et,null,a)}function invariant$Q(a,s){if(a===!1||a===null||typeof a>"u")throw new Error(s)}function warning$4(a,s){if(!a){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,s){return{usr:a.state,key:a.key,idx:s}}function createLocation(a,s,et,nt){return et===void 0&&(et=null),_extends$3({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:et,key:s&&s.key||nt||createKey()})}function createPath(a){let{pathname:s="/",search:et="",hash:nt=""}=a;return et&&et!=="?"&&(s+=et.charAt(0)==="?"?et:"?"+et),nt&&nt!=="#"&&(s+=nt.charAt(0)==="#"?nt:"#"+nt),s}function parsePath(a){let s={};if(a){let et=a.indexOf("#");et>=0&&(s.hash=a.substr(et),a=a.substr(0,et));let nt=a.indexOf("?");nt>=0&&(s.search=a.substr(nt),a=a.substr(0,nt)),a&&(s.pathname=a)}return s}function getUrlBasedHistory(a,s,et,nt){nt===void 0&&(nt={});let{window:at=document.defaultView,v5Compat:mt=!1}=nt,wt=at.history,$t=Action$1.Pop,Ct=null,Dt=Ft();Dt==null&&(Dt=0,wt.replaceState(_extends$3({},wt.state,{idx:Dt}),""));function Ft(){return(wt.state||{idx:null}).idx}function jt(){$t=Action$1.Pop;let ur=Ft(),fr=ur==null?null:ur-Dt;Dt=ur,Ct&&Ct({action:$t,location:sr.location,delta:fr})}function Ut(ur,fr){$t=Action$1.Push;let dr=createLocation(sr.location,ur,fr);Dt=Ft()+1;let hr=getHistoryState(dr,Dt),vr=sr.createHref(dr);try{wt.pushState(hr,"",vr)}catch(yr){if(yr instanceof DOMException&&yr.name==="DataCloneError")throw yr;at.location.assign(vr)}mt&&Ct&&Ct({action:$t,location:sr.location,delta:1})}function tr(ur,fr){$t=Action$1.Replace;let dr=createLocation(sr.location,ur,fr);Dt=Ft();let hr=getHistoryState(dr,Dt),vr=sr.createHref(dr);wt.replaceState(hr,"",vr),mt&&Ct&&Ct({action:$t,location:sr.location,delta:0})}function ir(ur){let fr=at.location.origin!=="null"?at.location.origin:at.location.href,dr=typeof ur=="string"?ur:createPath(ur);return dr=dr.replace(/ $/,"%20"),invariant$Q(fr,"No window.location.(origin|href) available to create URL for href: "+dr),new URL(dr,fr)}let sr={get action(){return $t},get location(){return a(at,wt)},listen(ur){if(Ct)throw new Error("A history only accepts one active listener");return at.addEventListener(PopStateEventType,jt),Ct=ur,()=>{at.removeEventListener(PopStateEventType,jt),Ct=null}},createHref(ur){return s(at,ur)},createURL:ir,encodeLocation(ur){let fr=ir(ur);return{pathname:fr.pathname,search:fr.search,hash:fr.hash}},push:Ut,replace:tr,go(ur){return wt.go(ur)}};return sr}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(a){return a.index===!0}function convertRoutesToDataRoutes(a,s,et,nt){return et===void 0&&(et=[]),nt===void 0&&(nt={}),a.map((at,mt)=>{let wt=[...et,String(mt)],$t=typeof at.id=="string"?at.id:wt.join("-");if(invariant$Q(at.index!==!0||!at.children,"Cannot specify children on an index route"),invariant$Q(!nt[$t],'Found a route id collision on id "'+$t+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(at)){let Ct=_extends$3({},at,s(at),{id:$t});return nt[$t]=Ct,Ct}else{let Ct=_extends$3({},at,s(at),{id:$t,children:void 0});return nt[$t]=Ct,at.children&&(Ct.children=convertRoutesToDataRoutes(at.children,s,wt,nt)),Ct}})}function matchRoutes(a,s,et){return et===void 0&&(et="/"),matchRoutesImpl(a,s,et,!1)}function matchRoutesImpl(a,s,et,nt){let at=typeof s=="string"?parsePath(s):s,mt=stripBasename(at.pathname||"/",et);if(mt==null)return null;let wt=flattenRoutes(a);rankRouteBranches(wt);let $t=null;for(let Ct=0;$t==null&&Ct<wt.length;++Ct){let Dt=decodePath(mt);$t=matchRouteBranch(wt[Ct],Dt,nt)}return $t}function convertRouteMatchToUiMatch(a,s){let{route:et,pathname:nt,params:at}=a;return{id:et.id,pathname:nt,params:at,data:s[et.id],handle:et.handle}}function flattenRoutes(a,s,et,nt){s===void 0&&(s=[]),et===void 0&&(et=[]),nt===void 0&&(nt="");let at=(mt,wt,$t)=>{let Ct={relativePath:$t===void 0?mt.path||"":$t,caseSensitive:mt.caseSensitive===!0,childrenIndex:wt,route:mt};Ct.relativePath.startsWith("/")&&(invariant$Q(Ct.relativePath.startsWith(nt),'Absolute route path "'+Ct.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Ct.relativePath=Ct.relativePath.slice(nt.length));let Dt=joinPaths([nt,Ct.relativePath]),Ft=et.concat(Ct);mt.children&&mt.children.length>0&&(invariant$Q(mt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Dt+'".')),flattenRoutes(mt.children,s,Ft,Dt)),!(mt.path==null&&!mt.index)&&s.push({path:Dt,score:computeScore(Dt,mt.index),routesMeta:Ft})};return a.forEach((mt,wt)=>{var $t;if(mt.path===""||!(($t=mt.path)!=null&&$t.includes("?")))at(mt,wt);else for(let Ct of explodeOptionalSegments(mt.path))at(mt,wt,Ct)}),s}function explodeOptionalSegments(a){let s=a.split("/");if(s.length===0)return[];let[et,...nt]=s,at=et.endsWith("?"),mt=et.replace(/\?$/,"");if(nt.length===0)return at?[mt,""]:[mt];let wt=explodeOptionalSegments(nt.join("/")),$t=[];return $t.push(...wt.map(Ct=>Ct===""?mt:[mt,Ct].join("/"))),at&&$t.push(...wt),$t.map(Ct=>a.startsWith("/")&&Ct===""?"/":Ct)}function rankRouteBranches(a){a.sort((s,et)=>s.score!==et.score?et.score-s.score:compareIndexes(s.routesMeta.map(nt=>nt.childrenIndex),et.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,s){let et=a.split("/"),nt=et.length;return et.some(isSplat)&&(nt+=splatPenalty),s&&(nt+=indexRouteValue),et.filter(at=>!isSplat(at)).reduce((at,mt)=>at+(paramRe.test(mt)?dynamicSegmentValue:mt===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(a,s){return a.length===s.length&&a.slice(0,-1).every((nt,at)=>nt===s[at])?a[a.length-1]-s[s.length-1]:0}function matchRouteBranch(a,s,et){et===void 0&&(et=!1);let{routesMeta:nt}=a,at={},mt="/",wt=[];for(let $t=0;$t<nt.length;++$t){let Ct=nt[$t],Dt=$t===nt.length-1,Ft=mt==="/"?s:s.slice(mt.length)||"/",jt=matchPath({path:Ct.relativePath,caseSensitive:Ct.caseSensitive,end:Dt},Ft),Ut=Ct.route;if(!jt&&Dt&&et&&!nt[nt.length-1].route.index&&(jt=matchPath({path:Ct.relativePath,caseSensitive:Ct.caseSensitive,end:!1},Ft)),!jt)return null;Object.assign(at,jt.params),wt.push({params:at,pathname:joinPaths([mt,jt.pathname]),pathnameBase:normalizePathname(joinPaths([mt,jt.pathnameBase])),route:Ut}),jt.pathnameBase!=="/"&&(mt=joinPaths([mt,jt.pathnameBase]))}return wt}function matchPath(a,s){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[et,nt]=compilePath(a.path,a.caseSensitive,a.end),at=s.match(et);if(!at)return null;let mt=at[0],wt=mt.replace(/(.)\/+$/,"$1"),$t=at.slice(1);return{params:nt.reduce((Dt,Ft,jt)=>{let{paramName:Ut,isOptional:tr}=Ft;if(Ut==="*"){let sr=$t[jt]||"";wt=mt.slice(0,mt.length-sr.length).replace(/(.)\/+$/,"$1")}const ir=$t[jt];return tr&&!ir?Dt[Ut]=void 0:Dt[Ut]=(ir||"").replace(/%2F/g,"/"),Dt},{}),pathname:mt,pathnameBase:wt,pattern:a}}function compilePath(a,s,et){s===void 0&&(s=!1),et===void 0&&(et=!0),warning$4(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let nt=[],at="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(wt,$t,Ct)=>(nt.push({paramName:$t,isOptional:Ct!=null}),Ct?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(nt.push({paramName:"*"}),at+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?at+="\\/*$":a!==""&&a!=="/"&&(at+="(?:(?=\\/|$))"),[new RegExp(at,s?void 0:"i"),nt]}function decodePath(a){try{return a.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning$4(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),a}}function stripBasename(a,s){if(s==="/")return a;if(!a.toLowerCase().startsWith(s.toLowerCase()))return null;let et=s.endsWith("/")?s.length-1:s.length,nt=a.charAt(et);return nt&&nt!=="/"?null:a.slice(et)||"/"}function resolvePath(a,s){s===void 0&&(s="/");let{pathname:et,search:nt="",hash:at=""}=typeof a=="string"?parsePath(a):a;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,s):s,search:normalizeSearch(nt),hash:normalizeHash(at)}}function resolvePathname(a,s){let et=s.replace(/\/+$/,"").split("/");return a.split("/").forEach(at=>{at===".."?et.length>1&&et.pop():at!=="."&&et.push(at)}),et.length>1?et.join("/"):"/"}function getInvalidPathError(a,s,et,nt){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((s,et)=>et===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(a,s){let et=getPathContributingMatches(a);return s?et.map((nt,at)=>at===et.length-1?nt.pathname:nt.pathnameBase):et.map(nt=>nt.pathnameBase)}function resolveTo(a,s,et,nt){nt===void 0&&(nt=!1);let at;typeof a=="string"?at=parsePath(a):(at=_extends$3({},a),invariant$Q(!at.pathname||!at.pathname.includes("?"),getInvalidPathError("?","pathname","search",at)),invariant$Q(!at.pathname||!at.pathname.includes("#"),getInvalidPathError("#","pathname","hash",at)),invariant$Q(!at.search||!at.search.includes("#"),getInvalidPathError("#","search","hash",at)));let mt=a===""||at.pathname==="",wt=mt?"/":at.pathname,$t;if(wt==null)$t=et;else{let jt=s.length-1;if(!nt&&wt.startsWith("..")){let Ut=wt.split("/");for(;Ut[0]==="..";)Ut.shift(),jt-=1;at.pathname=Ut.join("/")}$t=jt>=0?s[jt]:"/"}let Ct=resolvePath(at,$t),Dt=wt&&wt!=="/"&&wt.endsWith("/"),Ft=(mt||wt===".")&&et.endsWith("/");return!Ct.pathname.endsWith("/")&&(Dt||Ft)&&(Ct.pathname+="/"),Ct}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;class ErrorResponseImpl{constructor(s,et,nt,at){at===void 0&&(at=!1),this.status=s,this.statusText=et||"",this.internal=at,nt instanceof Error?(this.data=nt.toString(),this.error=nt):this.data=nt}}function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(a){const s=a.window?a.window:typeof window<"u"?window:void 0,et=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u",nt=!et;invariant$Q(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let at;if(a.mapRouteProperties)at=a.mapRouteProperties;else if(a.detectErrorBoundary){let Hr=a.detectErrorBoundary;at=Yr=>({hasErrorBoundary:Hr(Yr)})}else at=defaultMapRouteProperties;let mt={},wt=convertRoutesToDataRoutes(a.routes,at,void 0,mt),$t,Ct=a.basename||"/",Dt=a.dataStrategy||defaultDataStrategy,Ft=a.patchRoutesOnNavigation,jt=_extends$3({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},a.future),Ut=null,tr=new Set,ir=null,sr=null,ur=null,fr=a.hydrationData!=null,dr=matchRoutes(wt,a.history.location,Ct),hr=!1,vr=null;if(dr==null&&!Ft){let Hr=getInternalRouterError(404,{pathname:a.history.location.pathname}),{matches:Yr,route:Wn}=getShortCircuitMatches(wt);dr=Yr,vr={[Wn.id]:Hr}}dr&&!a.hydrationData&&Io(dr,wt,a.history.location.pathname).active&&(dr=null);let yr;if(dr)if(dr.some(Hr=>Hr.route.lazy))yr=!1;else if(!dr.some(Hr=>Hr.route.loader))yr=!0;else if(jt.v7_partialHydration){let Hr=a.hydrationData?a.hydrationData.loaderData:null,Yr=a.hydrationData?a.hydrationData.errors:null;if(Yr){let Wn=dr.findIndex(rn=>Yr[rn.route.id]!==void 0);yr=dr.slice(0,Wn+1).every(rn=>!shouldLoadRouteOnHydration(rn.route,Hr,Yr))}else yr=dr.every(Wn=>!shouldLoadRouteOnHydration(Wn.route,Hr,Yr))}else yr=a.hydrationData!=null;else if(yr=!1,dr=[],jt.v7_partialHydration){let Hr=Io(null,wt,a.history.location.pathname);Hr.active&&Hr.matches&&(hr=!0,dr=Hr.matches)}let xr,br={historyAction:a.history.action,location:a.history.location,matches:dr,initialized:yr,navigation:IDLE_NAVIGATION,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||vr,fetchers:new Map,blockers:new Map},wr=Action$1.Pop,Sr=!1,Cr,cr=!1,Nt=new Map,Vt=null,er=!1,Yt=!1,rr=[],ar=new Set,lr=new Map,nr=0,Lt=-1,or=new Map,gr=new Set,pr=new Map,_r=new Map,kr=new Set,Mr=new Map,$r=new Map,Pr;function Fr(){if(Ut=a.history.listen(Hr=>{let{action:Yr,location:Wn,delta:rn}=Hr;if(Pr){Pr(),Pr=void 0;return}warning$4($r.size===0||rn!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let dn=Kn({currentLocation:br.location,nextLocation:Wn,historyAction:Yr});if(dn&&rn!=null){let po=new Promise(Ln=>{Pr=Ln});a.history.go(rn*-1),Hn(dn,{state:"blocked",location:Wn,proceed(){Hn(dn,{state:"proceeding",proceed:void 0,reset:void 0,location:Wn}),po.then(()=>a.history.go(rn))},reset(){let Ln=new Map(br.blockers);Ln.set(dn,IDLE_BLOCKER),Er({blockers:Ln})}});return}return Vr(Yr,Wn)}),et){restoreAppliedTransitions(s,Nt);let Hr=()=>persistAppliedTransitions(s,Nt);s.addEventListener("pagehide",Hr),Vt=()=>s.removeEventListener("pagehide",Hr)}return br.initialized||Vr(Action$1.Pop,br.location,{initialHydration:!0}),xr}function Tr(){Ut&&Ut(),Vt&&Vt(),tr.clear(),Cr&&Cr.abort(),br.fetchers.forEach((Hr,Yr)=>Ar(Yr)),br.blockers.forEach((Hr,Yr)=>wo(Yr))}function Rr(Hr){return tr.add(Hr),()=>tr.delete(Hr)}function Er(Hr,Yr){Yr===void 0&&(Yr={}),br=_extends$3({},br,Hr);let Wn=[],rn=[];jt.v7_fetcherPersist&&br.fetchers.forEach((dn,po)=>{dn.state==="idle"&&(kr.has(po)?rn.push(po):Wn.push(po))}),kr.forEach(dn=>{!br.fetchers.has(dn)&&!lr.has(dn)&&rn.push(dn)}),[...tr].forEach(dn=>dn(br,{deletedFetchers:rn,viewTransitionOpts:Yr.viewTransitionOpts,flushSync:Yr.flushSync===!0})),jt.v7_fetcherPersist?(Wn.forEach(dn=>br.fetchers.delete(dn)),rn.forEach(dn=>Ar(dn))):rn.forEach(dn=>kr.delete(dn))}function Or(Hr,Yr,Wn){var rn,dn;let{flushSync:po}=Wn===void 0?{}:Wn,Ln=br.actionData!=null&&br.navigation.formMethod!=null&&isMutationMethod(br.navigation.formMethod)&&br.navigation.state==="loading"&&((rn=Hr.state)==null?void 0:rn._isRedirect)!==!0,Vn;Yr.actionData?Object.keys(Yr.actionData).length>0?Vn=Yr.actionData:Vn=null:Ln?Vn=br.actionData:Vn=null;let uo=Yr.loaderData?mergeLoaderData(br.loaderData,Yr.loaderData,Yr.matches||[],Yr.errors):br.loaderData,pn=br.blockers;pn.size>0&&(pn=new Map(pn),pn.forEach((co,Eo)=>pn.set(Eo,IDLE_BLOCKER)));let zn=Sr===!0||br.navigation.formMethod!=null&&isMutationMethod(br.navigation.formMethod)&&((dn=Hr.state)==null?void 0:dn._isRedirect)!==!0;$t&&(wt=$t,$t=void 0),er||wr===Action$1.Pop||(wr===Action$1.Push?a.history.push(Hr,Hr.state):wr===Action$1.Replace&&a.history.replace(Hr,Hr.state));let go;if(wr===Action$1.Pop){let co=Nt.get(br.location.pathname);co&&co.has(Hr.pathname)?go={currentLocation:br.location,nextLocation:Hr}:Nt.has(Hr.pathname)&&(go={currentLocation:Hr,nextLocation:br.location})}else if(cr){let co=Nt.get(br.location.pathname);co?co.add(Hr.pathname):(co=new Set([Hr.pathname]),Nt.set(br.location.pathname,co)),go={currentLocation:br.location,nextLocation:Hr}}Er(_extends$3({},Yr,{actionData:Vn,loaderData:uo,historyAction:wr,location:Hr,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:io(Hr,Yr.matches||br.matches),preventScrollReset:zn,blockers:pn}),{viewTransitionOpts:go,flushSync:po===!0}),wr=Action$1.Pop,Sr=!1,cr=!1,er=!1,Yt=!1,rr=[]}async function Wr(Hr,Yr){if(typeof Hr=="number"){a.history.go(Hr);return}let Wn=normalizeTo(br.location,br.matches,Ct,jt.v7_prependBasename,Hr,jt.v7_relativeSplatPath,Yr==null?void 0:Yr.fromRouteId,Yr==null?void 0:Yr.relative),{path:rn,submission:dn,error:po}=normalizeNavigateOptions(jt.v7_normalizeFormMethod,!1,Wn,Yr),Ln=br.location,Vn=createLocation(br.location,rn,Yr&&Yr.state);Vn=_extends$3({},Vn,a.history.encodeLocation(Vn));let uo=Yr&&Yr.replace!=null?Yr.replace:void 0,pn=Action$1.Push;uo===!0?pn=Action$1.Replace:uo===!1||dn!=null&&isMutationMethod(dn.formMethod)&&dn.formAction===br.location.pathname+br.location.search&&(pn=Action$1.Replace);let zn=Yr&&"preventScrollReset"in Yr?Yr.preventScrollReset===!0:void 0,go=(Yr&&Yr.flushSync)===!0,co=Kn({currentLocation:Ln,nextLocation:Vn,historyAction:pn});if(co){Hn(co,{state:"blocked",location:Vn,proceed(){Hn(co,{state:"proceeding",proceed:void 0,reset:void 0,location:Vn}),Wr(Hr,Yr)},reset(){let Eo=new Map(br.blockers);Eo.set(co,IDLE_BLOCKER),Er({blockers:Eo})}});return}return await Vr(pn,Vn,{submission:dn,pendingError:po,preventScrollReset:zn,replace:Yr&&Yr.replace,enableViewTransition:Yr&&Yr.viewTransition,flushSync:go})}function qr(){if(sn(),Er({revalidation:"loading"}),br.navigation.state!=="submitting"){if(br.navigation.state==="idle"){Vr(br.historyAction,br.location,{startUninterruptedRevalidation:!0});return}Vr(wr||br.historyAction,br.navigation.location,{overrideNavigation:br.navigation,enableViewTransition:cr===!0})}}async function Vr(Hr,Yr,Wn){Cr&&Cr.abort(),Cr=null,wr=Hr,er=(Wn&&Wn.startUninterruptedRevalidation)===!0,eo(br.location,br.matches),Sr=(Wn&&Wn.preventScrollReset)===!0,cr=(Wn&&Wn.enableViewTransition)===!0;let rn=$t||wt,dn=Wn&&Wn.overrideNavigation,po=Wn!=null&&Wn.initialHydration&&br.matches&&br.matches.length>0&&!hr?br.matches:matchRoutes(rn,Yr,Ct),Ln=(Wn&&Wn.flushSync)===!0;if(po&&br.initialized&&!Yt&&isHashChangeOnly(br.location,Yr)&&!(Wn&&Wn.submission&&isMutationMethod(Wn.submission.formMethod))){Or(Yr,{matches:po},{flushSync:Ln});return}let Vn=Io(po,rn,Yr.pathname);if(Vn.active&&Vn.matches&&(po=Vn.matches),!po){let{error:To,notFoundMatches:Co,route:Mo}=bo(Yr.pathname);Or(Yr,{matches:Co,loaderData:{},errors:{[Mo.id]:To}},{flushSync:Ln});return}Cr=new AbortController;let uo=createClientSideRequest(a.history,Yr,Cr.signal,Wn&&Wn.submission),pn;if(Wn&&Wn.pendingError)pn=[findNearestBoundary(po).route.id,{type:ResultType.error,error:Wn.pendingError}];else if(Wn&&Wn.submission&&isMutationMethod(Wn.submission.formMethod)){let To=await Ur(uo,Yr,Wn.submission,po,Vn.active,{replace:Wn.replace,flushSync:Ln});if(To.shortCircuited)return;if(To.pendingActionResult){let[Co,Mo]=To.pendingActionResult;if(isErrorResult$2(Mo)&&isRouteErrorResponse(Mo.error)&&Mo.error.status===404){Cr=null,Or(Yr,{matches:To.matches,loaderData:{},errors:{[Co]:Mo.error}});return}}po=To.matches||po,pn=To.pendingActionResult,dn=getLoadingNavigation(Yr,Wn.submission),Ln=!1,Vn.active=!1,uo=createClientSideRequest(a.history,uo.url,uo.signal)}let{shortCircuited:zn,matches:go,loaderData:co,errors:Eo}=await Lr(uo,Yr,po,Vn.active,dn,Wn&&Wn.submission,Wn&&Wn.fetcherSubmission,Wn&&Wn.replace,Wn&&Wn.initialHydration===!0,Ln,pn);zn||(Cr=null,Or(Yr,_extends$3({matches:go||po},getActionDataForCommit(pn),{loaderData:co,errors:Eo})))}async function Ur(Hr,Yr,Wn,rn,dn,po){po===void 0&&(po={}),sn();let Ln=getSubmittingNavigation(Yr,Wn);if(Er({navigation:Ln},{flushSync:po.flushSync===!0}),dn){let pn=await _i(rn,Yr.pathname,Hr.signal);if(pn.type==="aborted")return{shortCircuited:!0};if(pn.type==="error"){let zn=findNearestBoundary(pn.partialMatches).route.id;return{matches:pn.partialMatches,pendingActionResult:[zn,{type:ResultType.error,error:pn.error}]}}else if(pn.matches)rn=pn.matches;else{let{notFoundMatches:zn,error:go,route:co}=bo(Yr.pathname);return{matches:zn,pendingActionResult:[co.id,{type:ResultType.error,error:go}]}}}let Vn,uo=getTargetMatch(rn,Yr);if(!uo.route.action&&!uo.route.lazy)Vn={type:ResultType.error,error:getInternalRouterError(405,{method:Hr.method,pathname:Yr.pathname,routeId:uo.route.id})};else if(Vn=(await $n("action",br,Hr,[uo],rn,null))[uo.route.id],Hr.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Vn)){let pn;return po&&po.replace!=null?pn=po.replace:pn=normalizeRedirectLocation(Vn.response.headers.get("Location"),new URL(Hr.url),Ct)===br.location.pathname+br.location.search,await nn(Hr,Vn,!0,{submission:Wn,replace:pn}),{shortCircuited:!0}}if(isDeferredResult(Vn))throw getInternalRouterError(400,{type:"defer-action"});if(isErrorResult$2(Vn)){let pn=findNearestBoundary(rn,uo.route.id);return(po&&po.replace)!==!0&&(wr=Action$1.Push),{matches:rn,pendingActionResult:[pn.route.id,Vn]}}return{matches:rn,pendingActionResult:[uo.route.id,Vn]}}async function Lr(Hr,Yr,Wn,rn,dn,po,Ln,Vn,uo,pn,zn){let go=dn||getLoadingNavigation(Yr,po),co=po||Ln||getSubmissionFromNavigation(go),Eo=!er&&(!jt.v7_partialHydration||!uo);if(rn){if(Eo){let ko=Br(zn);Er(_extends$3({navigation:go},ko!==void 0?{actionData:ko}:{}),{flushSync:pn})}let $o=await _i(Wn,Yr.pathname,Hr.signal);if($o.type==="aborted")return{shortCircuited:!0};if($o.type==="error"){let ko=findNearestBoundary($o.partialMatches).route.id;return{matches:$o.partialMatches,loaderData:{},errors:{[ko]:$o.error}}}else if($o.matches)Wn=$o.matches;else{let{error:ko,notFoundMatches:Lo,route:Ho}=bo(Yr.pathname);return{matches:Lo,loaderData:{},errors:{[Ho.id]:ko}}}}let To=$t||wt,[Co,Mo]=getMatchesToLoad(a.history,br,Wn,co,Yr,jt.v7_partialHydration&&uo===!0,jt.v7_skipActionErrorRevalidation,Yt,rr,ar,kr,pr,gr,To,Ct,zn);if(Jn($o=>!(Wn&&Wn.some(ko=>ko.route.id===$o))||Co&&Co.some(ko=>ko.route.id===$o)),Lt=++nr,Co.length===0&&Mo.length===0){let $o=Un();return Or(Yr,_extends$3({matches:Wn,loaderData:{},errors:zn&&isErrorResult$2(zn[1])?{[zn[0]]:zn[1].error}:null},getActionDataForCommit(zn),$o?{fetchers:new Map(br.fetchers)}:{}),{flushSync:pn}),{shortCircuited:!0}}if(Eo){let $o={};if(!rn){$o.navigation=go;let ko=Br(zn);ko!==void 0&&($o.actionData=ko)}Mo.length>0&&($o.fetchers=Xr(Mo)),Er($o,{flushSync:pn})}Mo.forEach($o=>{Nr($o.key),$o.controller&&lr.set($o.key,$o.controller)});let No=()=>Mo.forEach($o=>Nr($o.key));Cr&&Cr.signal.addEventListener("abort",No);let{loaderResults:zo,fetcherResults:Bo}=await lo(br,Wn,Co,Mo,Hr);if(Hr.signal.aborted)return{shortCircuited:!0};Cr&&Cr.signal.removeEventListener("abort",No),Mo.forEach($o=>lr.delete($o.key));let Po=findRedirect(zo);if(Po)return await nn(Hr,Po.result,!0,{replace:Vn}),{shortCircuited:!0};if(Po=findRedirect(Bo),Po)return gr.add(Po.key),await nn(Hr,Po.result,!0,{replace:Vn}),{shortCircuited:!0};let{loaderData:Wo,errors:Fo}=processLoaderData(br,Wn,zo,zn,Mo,Bo,Mr);Mr.forEach(($o,ko)=>{$o.subscribe(Lo=>{(Lo||$o.done)&&Mr.delete(ko)})}),jt.v7_partialHydration&&uo&&br.errors&&(Fo=_extends$3({},br.errors,Fo));let jo=Un(),Uo=Zr(Lt),Vo=jo||Uo||Mo.length>0;return _extends$3({matches:Wn,loaderData:Wo,errors:Fo},Vo?{fetchers:new Map(br.fetchers)}:{})}function Br(Hr){if(Hr&&!isErrorResult$2(Hr[1]))return{[Hr[0]]:Hr[1].data};if(br.actionData)return Object.keys(br.actionData).length===0?null:br.actionData}function Xr(Hr){return Hr.forEach(Yr=>{let Wn=br.fetchers.get(Yr.key),rn=getLoadingFetcher(void 0,Wn?Wn.data:void 0);br.fetchers.set(Yr.key,rn)}),new Map(br.fetchers)}function zr(Hr,Yr,Wn,rn){if(nt)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Nr(Hr);let dn=(rn&&rn.flushSync)===!0,po=$t||wt,Ln=normalizeTo(br.location,br.matches,Ct,jt.v7_prependBasename,Wn,jt.v7_relativeSplatPath,Yr,rn==null?void 0:rn.relative),Vn=matchRoutes(po,Ln,Ct),uo=Io(Vn,po,Ln);if(uo.active&&uo.matches&&(Vn=uo.matches),!Vn){xo(Hr,Yr,getInternalRouterError(404,{pathname:Ln}),{flushSync:dn});return}let{path:pn,submission:zn,error:go}=normalizeNavigateOptions(jt.v7_normalizeFormMethod,!0,Ln,rn);if(go){xo(Hr,Yr,go,{flushSync:dn});return}let co=getTargetMatch(Vn,pn),Eo=(rn&&rn.preventScrollReset)===!0;if(zn&&isMutationMethod(zn.formMethod)){Qr(Hr,Yr,pn,co,Vn,uo.active,dn,Eo,zn);return}pr.set(Hr,{routeId:Yr,path:pn}),Qn(Hr,Yr,pn,co,Vn,uo.active,dn,Eo,zn)}async function Qr(Hr,Yr,Wn,rn,dn,po,Ln,Vn,uo){sn(),pr.delete(Hr);function pn(Xo){if(!Xo.route.action&&!Xo.route.lazy){let Kr=getInternalRouterError(405,{method:uo.formMethod,pathname:Wn,routeId:Yr});return xo(Hr,Yr,Kr,{flushSync:Ln}),!0}return!1}if(!po&&pn(rn))return;let zn=br.fetchers.get(Hr);Nn(Hr,getSubmittingFetcher(uo,zn),{flushSync:Ln});let go=new AbortController,co=createClientSideRequest(a.history,Wn,go.signal,uo);if(po){let Xo=await _i(dn,new URL(co.url).pathname,co.signal,Hr);if(Xo.type==="aborted")return;if(Xo.type==="error"){xo(Hr,Yr,Xo.error,{flushSync:Ln});return}else if(Xo.matches){if(dn=Xo.matches,rn=getTargetMatch(dn,Wn),pn(rn))return}else{xo(Hr,Yr,getInternalRouterError(404,{pathname:Wn}),{flushSync:Ln});return}}lr.set(Hr,go);let Eo=nr,Co=(await $n("action",br,co,[rn],dn,Hr))[rn.route.id];if(co.signal.aborted){lr.get(Hr)===go&&lr.delete(Hr);return}if(jt.v7_fetcherPersist&&kr.has(Hr)){if(isRedirectResult(Co)||isErrorResult$2(Co)){Nn(Hr,getDoneFetcher(void 0));return}}else{if(isRedirectResult(Co))if(lr.delete(Hr),Lt>Eo){Nn(Hr,getDoneFetcher(void 0));return}else return gr.add(Hr),Nn(Hr,getLoadingFetcher(uo)),nn(co,Co,!1,{fetcherSubmission:uo,preventScrollReset:Vn});if(isErrorResult$2(Co)){xo(Hr,Yr,Co.error);return}}if(isDeferredResult(Co))throw getInternalRouterError(400,{type:"defer-action"});let Mo=br.navigation.location||br.location,No=createClientSideRequest(a.history,Mo,go.signal),zo=$t||wt,Bo=br.navigation.state!=="idle"?matchRoutes(zo,br.navigation.location,Ct):br.matches;invariant$Q(Bo,"Didn't find any matches after fetcher action");let Po=++nr;or.set(Hr,Po);let Wo=getLoadingFetcher(uo,Co.data);br.fetchers.set(Hr,Wo);let[Fo,jo]=getMatchesToLoad(a.history,br,Bo,uo,Mo,!1,jt.v7_skipActionErrorRevalidation,Yt,rr,ar,kr,pr,gr,zo,Ct,[rn.route.id,Co]);jo.filter(Xo=>Xo.key!==Hr).forEach(Xo=>{let Kr=Xo.key,Dn=br.fetchers.get(Kr),Jr=getLoadingFetcher(void 0,Dn?Dn.data:void 0);br.fetchers.set(Kr,Jr),Nr(Kr),Xo.controller&&lr.set(Kr,Xo.controller)}),Er({fetchers:new Map(br.fetchers)});let Uo=()=>jo.forEach(Xo=>Nr(Xo.key));go.signal.addEventListener("abort",Uo);let{loaderResults:Vo,fetcherResults:$o}=await lo(br,Bo,Fo,jo,No);if(go.signal.aborted)return;go.signal.removeEventListener("abort",Uo),or.delete(Hr),lr.delete(Hr),jo.forEach(Xo=>lr.delete(Xo.key));let ko=findRedirect(Vo);if(ko)return nn(No,ko.result,!1,{preventScrollReset:Vn});if(ko=findRedirect($o),ko)return gr.add(ko.key),nn(No,ko.result,!1,{preventScrollReset:Vn});let{loaderData:Lo,errors:Ho}=processLoaderData(br,Bo,Vo,void 0,jo,$o,Mr);if(br.fetchers.has(Hr)){let Xo=getDoneFetcher(Co.data);br.fetchers.set(Hr,Xo)}Zr(Po),br.navigation.state==="loading"&&Po>Lt?(invariant$Q(wr,"Expected pending action"),Cr&&Cr.abort(),Or(br.navigation.location,{matches:Bo,loaderData:Lo,errors:Ho,fetchers:new Map(br.fetchers)})):(Er({errors:Ho,loaderData:mergeLoaderData(br.loaderData,Lo,Bo,Ho),fetchers:new Map(br.fetchers)}),Yt=!1)}async function Qn(Hr,Yr,Wn,rn,dn,po,Ln,Vn,uo){let pn=br.fetchers.get(Hr);Nn(Hr,getLoadingFetcher(uo,pn?pn.data:void 0),{flushSync:Ln});let zn=new AbortController,go=createClientSideRequest(a.history,Wn,zn.signal);if(po){let Co=await _i(dn,new URL(go.url).pathname,go.signal,Hr);if(Co.type==="aborted")return;if(Co.type==="error"){xo(Hr,Yr,Co.error,{flushSync:Ln});return}else if(Co.matches)dn=Co.matches,rn=getTargetMatch(dn,Wn);else{xo(Hr,Yr,getInternalRouterError(404,{pathname:Wn}),{flushSync:Ln});return}}lr.set(Hr,zn);let co=nr,To=(await $n("loader",br,go,[rn],dn,Hr))[rn.route.id];if(isDeferredResult(To)&&(To=await resolveDeferredData(To,go.signal,!0)||To),lr.get(Hr)===zn&&lr.delete(Hr),!go.signal.aborted){if(kr.has(Hr)){Nn(Hr,getDoneFetcher(void 0));return}if(isRedirectResult(To))if(Lt>co){Nn(Hr,getDoneFetcher(void 0));return}else{gr.add(Hr),await nn(go,To,!1,{preventScrollReset:Vn});return}if(isErrorResult$2(To)){xo(Hr,Yr,To.error);return}invariant$Q(!isDeferredResult(To),"Unhandled fetcher deferred data"),Nn(Hr,getDoneFetcher(To.data))}}async function nn(Hr,Yr,Wn,rn){let{submission:dn,fetcherSubmission:po,preventScrollReset:Ln,replace:Vn}=rn===void 0?{}:rn;Yr.response.headers.has("X-Remix-Revalidate")&&(Yt=!0);let uo=Yr.response.headers.get("Location");invariant$Q(uo,"Expected a Location header on the redirect Response"),uo=normalizeRedirectLocation(uo,new URL(Hr.url),Ct);let pn=createLocation(br.location,uo,{_isRedirect:!0});if(et){let Co=!1;if(Yr.response.headers.has("X-Remix-Reload-Document"))Co=!0;else if(ABSOLUTE_URL_REGEX$1.test(uo)){const Mo=a.history.createURL(uo);Co=Mo.origin!==s.location.origin||stripBasename(Mo.pathname,Ct)==null}if(Co){Vn?s.location.replace(uo):s.location.assign(uo);return}}Cr=null;let zn=Vn===!0||Yr.response.headers.has("X-Remix-Replace")?Action$1.Replace:Action$1.Push,{formMethod:go,formAction:co,formEncType:Eo}=br.navigation;!dn&&!po&&go&&co&&Eo&&(dn=getSubmissionFromNavigation(br.navigation));let To=dn||po;if(redirectPreserveMethodStatusCodes.has(Yr.response.status)&&To&&isMutationMethod(To.formMethod))await Vr(zn,pn,{submission:_extends$3({},To,{formAction:uo}),preventScrollReset:Ln||Sr,enableViewTransition:Wn?cr:void 0});else{let Co=getLoadingNavigation(pn,dn);await Vr(zn,pn,{overrideNavigation:Co,fetcherSubmission:po,preventScrollReset:Ln||Sr,enableViewTransition:Wn?cr:void 0})}}async function $n(Hr,Yr,Wn,rn,dn,po){let Ln,Vn={};try{Ln=await callDataStrategyImpl(Dt,Hr,Yr,Wn,rn,dn,po,mt,at)}catch(uo){return rn.forEach(pn=>{Vn[pn.route.id]={type:ResultType.error,error:uo}}),Vn}for(let[uo,pn]of Object.entries(Ln))if(isRedirectDataStrategyResultResult(pn)){let zn=pn.result;Vn[uo]={type:ResultType.redirect,response:normalizeRelativeRoutingRedirectResponse(zn,Wn,uo,dn,Ct,jt.v7_relativeSplatPath)}}else Vn[uo]=await convertDataStrategyResultToDataResult(pn);return Vn}async function lo(Hr,Yr,Wn,rn,dn){let po=Hr.matches,Ln=$n("loader",Hr,dn,Wn,Yr,null),Vn=Promise.all(rn.map(async zn=>{if(zn.matches&&zn.match&&zn.controller){let co=(await $n("loader",Hr,createClientSideRequest(a.history,zn.path,zn.controller.signal),[zn.match],zn.matches,zn.key))[zn.match.route.id];return{[zn.key]:co}}else return Promise.resolve({[zn.key]:{type:ResultType.error,error:getInternalRouterError(404,{pathname:zn.path})}})})),uo=await Ln,pn=(await Vn).reduce((zn,go)=>Object.assign(zn,go),{});return await Promise.all([resolveNavigationDeferredResults(Yr,uo,dn.signal,po,Hr.loaderData),resolveFetcherDeferredResults(Yr,pn,rn)]),{loaderResults:uo,fetcherResults:pn}}function sn(){Yt=!0,rr.push(...Jn()),pr.forEach((Hr,Yr)=>{lr.has(Yr)&&ar.add(Yr),Nr(Yr)})}function Nn(Hr,Yr,Wn){Wn===void 0&&(Wn={}),br.fetchers.set(Hr,Yr),Er({fetchers:new Map(br.fetchers)},{flushSync:(Wn&&Wn.flushSync)===!0})}function xo(Hr,Yr,Wn,rn){rn===void 0&&(rn={});let dn=findNearestBoundary(br.matches,Yr);Ar(Hr),Er({errors:{[dn.route.id]:Wn},fetchers:new Map(br.fetchers)},{flushSync:(rn&&rn.flushSync)===!0})}function Ir(Hr){return _r.set(Hr,(_r.get(Hr)||0)+1),kr.has(Hr)&&kr.delete(Hr),br.fetchers.get(Hr)||IDLE_FETCHER}function Ar(Hr){let Yr=br.fetchers.get(Hr);lr.has(Hr)&&!(Yr&&Yr.state==="loading"&&or.has(Hr))&&Nr(Hr),pr.delete(Hr),or.delete(Hr),gr.delete(Hr),jt.v7_fetcherPersist&&kr.delete(Hr),ar.delete(Hr),br.fetchers.delete(Hr)}function Dr(Hr){let Yr=(_r.get(Hr)||0)-1;Yr<=0?(_r.delete(Hr),kr.add(Hr),jt.v7_fetcherPersist||Ar(Hr)):_r.set(Hr,Yr),Er({fetchers:new Map(br.fetchers)})}function Nr(Hr){let Yr=lr.get(Hr);Yr&&(Yr.abort(),lr.delete(Hr))}function Gr(Hr){for(let Yr of Hr){let Wn=Ir(Yr),rn=getDoneFetcher(Wn.data);br.fetchers.set(Yr,rn)}}function Un(){let Hr=[],Yr=!1;for(let Wn of gr){let rn=br.fetchers.get(Wn);invariant$Q(rn,"Expected fetcher: "+Wn),rn.state==="loading"&&(gr.delete(Wn),Hr.push(Wn),Yr=!0)}return Gr(Hr),Yr}function Zr(Hr){let Yr=[];for(let[Wn,rn]of or)if(rn<Hr){let dn=br.fetchers.get(Wn);invariant$Q(dn,"Expected fetcher: "+Wn),dn.state==="loading"&&(Nr(Wn),or.delete(Wn),Yr.push(Wn))}return Gr(Yr),Yr.length>0}function Cn(Hr,Yr){let Wn=br.blockers.get(Hr)||IDLE_BLOCKER;return $r.get(Hr)!==Yr&&$r.set(Hr,Yr),Wn}function wo(Hr){br.blockers.delete(Hr),$r.delete(Hr)}function Hn(Hr,Yr){let Wn=br.blockers.get(Hr)||IDLE_BLOCKER;invariant$Q(Wn.state==="unblocked"&&Yr.state==="blocked"||Wn.state==="blocked"&&Yr.state==="blocked"||Wn.state==="blocked"&&Yr.state==="proceeding"||Wn.state==="blocked"&&Yr.state==="unblocked"||Wn.state==="proceeding"&&Yr.state==="unblocked","Invalid blocker state transition: "+Wn.state+" -> "+Yr.state);let rn=new Map(br.blockers);rn.set(Hr,Yr),Er({blockers:rn})}function Kn(Hr){let{currentLocation:Yr,nextLocation:Wn,historyAction:rn}=Hr;if($r.size===0)return;$r.size>1&&warning$4(!1,"A router only supports one blocker at a time");let dn=Array.from($r.entries()),[po,Ln]=dn[dn.length-1],Vn=br.blockers.get(po);if(!(Vn&&Vn.state==="proceeding")&&Ln({currentLocation:Yr,nextLocation:Wn,historyAction:rn}))return po}function bo(Hr){let Yr=getInternalRouterError(404,{pathname:Hr}),Wn=$t||wt,{matches:rn,route:dn}=getShortCircuitMatches(Wn);return Jn(),{notFoundMatches:rn,route:dn,error:Yr}}function Jn(Hr){let Yr=[];return Mr.forEach((Wn,rn)=>{(!Hr||Hr(rn))&&(Wn.cancel(),Yr.push(rn),Mr.delete(rn))}),Yr}function no(Hr,Yr,Wn){if(ir=Hr,ur=Yr,sr=Wn||null,!fr&&br.navigation===IDLE_NAVIGATION){fr=!0;let rn=io(br.location,br.matches);rn!=null&&Er({restoreScrollPosition:rn})}return()=>{ir=null,ur=null,sr=null}}function Do(Hr,Yr){return sr&&sr(Hr,Yr.map(rn=>convertRouteMatchToUiMatch(rn,br.loaderData)))||Hr.key}function eo(Hr,Yr){if(ir&&ur){let Wn=Do(Hr,Yr);ir[Wn]=ur()}}function io(Hr,Yr){if(ir){let Wn=Do(Hr,Yr),rn=ir[Wn];if(typeof rn=="number")return rn}return null}function Io(Hr,Yr,Wn){if(Ft)if(Hr){if(Object.keys(Hr[0].params).length>0)return{active:!0,matches:matchRoutesImpl(Yr,Wn,Ct,!0)}}else return{active:!0,matches:matchRoutesImpl(Yr,Wn,Ct,!0)||[]};return{active:!1,matches:null}}async function _i(Hr,Yr,Wn,rn){if(!Ft)return{type:"success",matches:Hr};let dn=Hr;for(;;){let po=$t==null,Ln=$t||wt,Vn=mt;try{await Ft({signal:Wn,path:Yr,matches:dn,fetcherKey:rn,patch:(zn,go)=>{Wn.aborted||patchRoutesImpl(zn,go,Ln,Vn,at)}})}catch(zn){return{type:"error",error:zn,partialMatches:dn}}finally{po&&!Wn.aborted&&(wt=[...wt])}if(Wn.aborted)return{type:"aborted"};let uo=matchRoutes(Ln,Yr,Ct);if(uo)return{type:"success",matches:uo};let pn=matchRoutesImpl(Ln,Yr,Ct,!0);if(!pn||dn.length===pn.length&&dn.every((zn,go)=>zn.route.id===pn[go].route.id))return{type:"success",matches:null};dn=pn}}function ro(Hr){mt={},$t=convertRoutesToDataRoutes(Hr,at,void 0,mt)}function Oo(Hr,Yr){let Wn=$t==null;patchRoutesImpl(Hr,Yr,$t||wt,mt,at),Wn&&(wt=[...wt],Er({}))}return xr={get basename(){return Ct},get future(){return jt},get state(){return br},get routes(){return wt},get window(){return s},initialize:Fr,subscribe:Rr,enableScrollRestoration:no,navigate:Wr,fetch:zr,revalidate:qr,createHref:Hr=>a.history.createHref(Hr),encodeLocation:Hr=>a.history.encodeLocation(Hr),getFetcher:Ir,deleteFetcher:Dr,dispose:Tr,getBlocker:Cn,deleteBlocker:wo,patchRoutes:Oo,_internalFetchControllers:lr,_internalActiveDeferreds:Mr,_internalSetRoutes:ro},xr}function isSubmissionNavigation(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function normalizeTo(a,s,et,nt,at,mt,wt,$t){let Ct,Dt;if(wt){Ct=[];for(let jt of s)if(Ct.push(jt),jt.route.id===wt){Dt=jt;break}}else Ct=s,Dt=s[s.length-1];let Ft=resolveTo(at||".",getResolveToMatches(Ct,mt),stripBasename(a.pathname,et)||a.pathname,$t==="path");if(at==null&&(Ft.search=a.search,Ft.hash=a.hash),(at==null||at===""||at===".")&&Dt){let jt=hasNakedIndexQuery(Ft.search);if(Dt.route.index&&!jt)Ft.search=Ft.search?Ft.search.replace(/^\?/,"?index&"):"?index";else if(!Dt.route.index&&jt){let Ut=new URLSearchParams(Ft.search),tr=Ut.getAll("index");Ut.delete("index"),tr.filter(sr=>sr).forEach(sr=>Ut.append("index",sr));let ir=Ut.toString();Ft.search=ir?"?"+ir:""}}return nt&&et!=="/"&&(Ft.pathname=Ft.pathname==="/"?et:joinPaths([et,Ft.pathname])),createPath(Ft)}function normalizeNavigateOptions(a,s,et,nt){if(!nt||!isSubmissionNavigation(nt))return{path:et};if(nt.formMethod&&!isValidMethod(nt.formMethod))return{path:et,error:getInternalRouterError(405,{method:nt.formMethod})};let at=()=>({path:et,error:getInternalRouterError(400,{type:"invalid-body"})}),mt=nt.formMethod||"get",wt=a?mt.toUpperCase():mt.toLowerCase(),$t=stripHashFromPath(et);if(nt.body!==void 0){if(nt.formEncType==="text/plain"){if(!isMutationMethod(wt))return at();let Ut=typeof nt.body=="string"?nt.body:nt.body instanceof FormData||nt.body instanceof URLSearchParams?Array.from(nt.body.entries()).reduce((tr,ir)=>{let[sr,ur]=ir;return""+tr+sr+"="+ur+`
`},""):String(nt.body);return{path:et,submission:{formMethod:wt,formAction:$t,formEncType:nt.formEncType,formData:void 0,json:void 0,text:Ut}}}else if(nt.formEncType==="application/json"){if(!isMutationMethod(wt))return at();try{let Ut=typeof nt.body=="string"?JSON.parse(nt.body):nt.body;return{path:et,submission:{formMethod:wt,formAction:$t,formEncType:nt.formEncType,formData:void 0,json:Ut,text:void 0}}}catch{return at()}}}invariant$Q(typeof FormData=="function","FormData is not available in this environment");let Ct,Dt;if(nt.formData)Ct=convertFormDataToSearchParams(nt.formData),Dt=nt.formData;else if(nt.body instanceof FormData)Ct=convertFormDataToSearchParams(nt.body),Dt=nt.body;else if(nt.body instanceof URLSearchParams)Ct=nt.body,Dt=convertSearchParamsToFormData(Ct);else if(nt.body==null)Ct=new URLSearchParams,Dt=new FormData;else try{Ct=new URLSearchParams(nt.body),Dt=convertSearchParamsToFormData(Ct)}catch{return at()}let Ft={formMethod:wt,formAction:$t,formEncType:nt&&nt.formEncType||"application/x-www-form-urlencoded",formData:Dt,json:void 0,text:void 0};if(isMutationMethod(Ft.formMethod))return{path:et,submission:Ft};let jt=parsePath(et);return s&&jt.search&&hasNakedIndexQuery(jt.search)&&Ct.append("index",""),jt.search="?"+Ct,{path:createPath(jt),submission:Ft}}function getLoaderMatchesUntilBoundary(a,s,et){et===void 0&&(et=!1);let nt=a.findIndex(at=>at.route.id===s);return nt>=0?a.slice(0,et?nt+1:nt):a}function getMatchesToLoad(a,s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr,ir,sr){let ur=sr?isErrorResult$2(sr[1])?sr[1].error:sr[1].data:void 0,fr=a.createURL(s.location),dr=a.createURL(at),hr=et;mt&&s.errors?hr=getLoaderMatchesUntilBoundary(et,Object.keys(s.errors)[0],!0):sr&&isErrorResult$2(sr[1])&&(hr=getLoaderMatchesUntilBoundary(et,sr[0]));let vr=sr?sr[1].statusCode:void 0,yr=wt&&vr&&vr>=400,xr=hr.filter((wr,Sr)=>{let{route:Cr}=wr;if(Cr.lazy)return!0;if(Cr.loader==null)return!1;if(mt)return shouldLoadRouteOnHydration(Cr,s.loaderData,s.errors);if(isNewLoader(s.loaderData,s.matches[Sr],wr)||Ct.some(Vt=>Vt===wr.route.id))return!0;let cr=s.matches[Sr],Nt=wr;return shouldRevalidateLoader(wr,_extends$3({currentUrl:fr,currentParams:cr.params,nextUrl:dr,nextParams:Nt.params},nt,{actionResult:ur,actionStatus:vr,defaultShouldRevalidate:yr?!1:$t||fr.pathname+fr.search===dr.pathname+dr.search||fr.search!==dr.search||isNewRouteInstance(cr,Nt)}))}),br=[];return jt.forEach((wr,Sr)=>{if(mt||!et.some(er=>er.route.id===wr.routeId)||Ft.has(Sr))return;let Cr=matchRoutes(tr,wr.path,ir);if(!Cr){br.push({key:Sr,routeId:wr.routeId,path:wr.path,matches:null,match:null,controller:null});return}let cr=s.fetchers.get(Sr),Nt=getTargetMatch(Cr,wr.path),Vt=!1;Ut.has(Sr)?Vt=!1:Dt.has(Sr)?(Dt.delete(Sr),Vt=!0):cr&&cr.state!=="idle"&&cr.data===void 0?Vt=$t:Vt=shouldRevalidateLoader(Nt,_extends$3({currentUrl:fr,currentParams:s.matches[s.matches.length-1].params,nextUrl:dr,nextParams:et[et.length-1].params},nt,{actionResult:ur,actionStatus:vr,defaultShouldRevalidate:yr?!1:$t})),Vt&&br.push({key:Sr,routeId:wr.routeId,path:wr.path,matches:Cr,match:Nt,controller:new AbortController})}),[xr,br]}function shouldLoadRouteOnHydration(a,s,et){if(a.lazy)return!0;if(!a.loader)return!1;let nt=s!=null&&s[a.id]!==void 0,at=et!=null&&et[a.id]!==void 0;return!nt&&at?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!nt&&!at}function isNewLoader(a,s,et){let nt=!s||et.route.id!==s.route.id,at=a[et.route.id]===void 0;return nt||at}function isNewRouteInstance(a,s){let et=a.route.path;return a.pathname!==s.pathname||et!=null&&et.endsWith("*")&&a.params["*"]!==s.params["*"]}function shouldRevalidateLoader(a,s){if(a.route.shouldRevalidate){let et=a.route.shouldRevalidate(s);if(typeof et=="boolean")return et}return s.defaultShouldRevalidate}function patchRoutesImpl(a,s,et,nt,at){var mt;let wt;if(a){let Dt=nt[a];invariant$Q(Dt,"No route found to patch children into: routeId = "+a),Dt.children||(Dt.children=[]),wt=Dt.children}else wt=et;let $t=s.filter(Dt=>!wt.some(Ft=>isSameRoute(Dt,Ft))),Ct=convertRoutesToDataRoutes($t,at,[a||"_","patch",String(((mt=wt)==null?void 0:mt.length)||"0")],nt);wt.push(...Ct)}function isSameRoute(a,s){return"id"in a&&"id"in s&&a.id===s.id?!0:a.index===s.index&&a.path===s.path&&a.caseSensitive===s.caseSensitive?(!a.children||a.children.length===0)&&(!s.children||s.children.length===0)?!0:a.children.every((et,nt)=>{var at;return(at=s.children)==null?void 0:at.some(mt=>isSameRoute(et,mt))}):!1}async function loadLazyRouteModule(a,s,et){if(!a.lazy)return;let nt=await a.lazy();if(!a.lazy)return;let at=et[a.id];invariant$Q(at,"No route found in manifest");let mt={};for(let wt in nt){let Ct=at[wt]!==void 0&&wt!=="hasErrorBoundary";warning$4(!Ct,'Route "'+at.id+'" has a static property "'+wt+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+wt+'" will be ignored.')),!Ct&&!immutableRouteKeys.has(wt)&&(mt[wt]=nt[wt])}Object.assign(at,mt),Object.assign(at,_extends$3({},s(at),{lazy:void 0}))}async function defaultDataStrategy(a){let{matches:s}=a,et=s.filter(at=>at.shouldLoad);return(await Promise.all(et.map(at=>at.resolve()))).reduce((at,mt,wt)=>Object.assign(at,{[et[wt].route.id]:mt}),{})}async function callDataStrategyImpl(a,s,et,nt,at,mt,wt,$t,Ct,Dt){let Ft=mt.map(tr=>tr.route.lazy?loadLazyRouteModule(tr.route,Ct,$t):void 0),jt=mt.map((tr,ir)=>{let sr=Ft[ir],ur=at.some(dr=>dr.route.id===tr.route.id);return _extends$3({},tr,{shouldLoad:ur,resolve:async dr=>(dr&&nt.method==="GET"&&(tr.route.lazy||tr.route.loader)&&(ur=!0),ur?callLoaderOrAction(s,nt,tr,sr,dr,Dt):Promise.resolve({type:ResultType.data,result:void 0}))})}),Ut=await a({matches:jt,request:nt,params:mt[0].params,fetcherKey:wt,context:Dt});try{await Promise.all(Ft)}catch{}return Ut}async function callLoaderOrAction(a,s,et,nt,at,mt){let wt,$t,Ct=Dt=>{let Ft,jt=new Promise((ir,sr)=>Ft=sr);$t=()=>Ft(),s.signal.addEventListener("abort",$t);let Ut=ir=>typeof Dt!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+a+'" [routeId: '+et.route.id+"]"))):Dt({request:s,params:et.params,context:mt},...ir!==void 0?[ir]:[]),tr=(async()=>{try{return{type:"data",result:await(at?at(sr=>Ut(sr)):Ut())}}catch(ir){return{type:"error",result:ir}}})();return Promise.race([tr,jt])};try{let Dt=et.route[a];if(nt)if(Dt){let Ft,[jt]=await Promise.all([Ct(Dt).catch(Ut=>{Ft=Ut}),nt]);if(Ft!==void 0)throw Ft;wt=jt}else if(await nt,Dt=et.route[a],Dt)wt=await Ct(Dt);else if(a==="action"){let Ft=new URL(s.url),jt=Ft.pathname+Ft.search;throw getInternalRouterError(405,{method:s.method,pathname:jt,routeId:et.route.id})}else return{type:ResultType.data,result:void 0};else if(Dt)wt=await Ct(Dt);else{let Ft=new URL(s.url),jt=Ft.pathname+Ft.search;throw getInternalRouterError(404,{pathname:jt})}invariant$Q(wt.result!==void 0,"You defined "+(a==="action"?"an action":"a loader")+" for route "+('"'+et.route.id+"\" but didn't return anything from your `"+a+"` ")+"function. Please return a value or `null`.")}catch(Dt){return{type:ResultType.error,result:Dt}}finally{$t&&s.signal.removeEventListener("abort",$t)}return wt}async function convertDataStrategyResultToDataResult(a){let{result:s,type:et}=a;if(isResponse$1(s)){let jt;try{let Ut=s.headers.get("Content-Type");Ut&&/\bapplication\/json\b/.test(Ut)?s.body==null?jt=null:jt=await s.json():jt=await s.text()}catch(Ut){return{type:ResultType.error,error:Ut}}return et===ResultType.error?{type:ResultType.error,error:new ErrorResponseImpl(s.status,s.statusText,jt),statusCode:s.status,headers:s.headers}:{type:ResultType.data,data:jt,statusCode:s.status,headers:s.headers}}if(et===ResultType.error){if(isDataWithResponseInit(s)){var nt,at;if(s.data instanceof Error){var mt,wt;return{type:ResultType.error,error:s.data,statusCode:(mt=s.init)==null?void 0:mt.status,headers:(wt=s.init)!=null&&wt.headers?new Headers(s.init.headers):void 0}}return{type:ResultType.error,error:new ErrorResponseImpl(((nt=s.init)==null?void 0:nt.status)||500,void 0,s.data),statusCode:isRouteErrorResponse(s)?s.status:void 0,headers:(at=s.init)!=null&&at.headers?new Headers(s.init.headers):void 0}}return{type:ResultType.error,error:s,statusCode:isRouteErrorResponse(s)?s.status:void 0}}if(isDeferredData(s)){var $t,Ct;return{type:ResultType.deferred,deferredData:s,statusCode:($t=s.init)==null?void 0:$t.status,headers:((Ct=s.init)==null?void 0:Ct.headers)&&new Headers(s.init.headers)}}if(isDataWithResponseInit(s)){var Dt,Ft;return{type:ResultType.data,data:s.data,statusCode:(Dt=s.init)==null?void 0:Dt.status,headers:(Ft=s.init)!=null&&Ft.headers?new Headers(s.init.headers):void 0}}return{type:ResultType.data,data:s}}function normalizeRelativeRoutingRedirectResponse(a,s,et,nt,at,mt){let wt=a.headers.get("Location");if(invariant$Q(wt,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(wt)){let $t=nt.slice(0,nt.findIndex(Ct=>Ct.route.id===et)+1);wt=normalizeTo(new URL(s.url),$t,at,!0,wt,mt),a.headers.set("Location",wt)}return a}function normalizeRedirectLocation(a,s,et){if(ABSOLUTE_URL_REGEX$1.test(a)){let nt=a,at=nt.startsWith("//")?new URL(s.protocol+nt):new URL(nt),mt=stripBasename(at.pathname,et)!=null;if(at.origin===s.origin&&mt)return at.pathname+at.search+at.hash}return a}function createClientSideRequest(a,s,et,nt){let at=a.createURL(stripHashFromPath(s)).toString(),mt={signal:et};if(nt&&isMutationMethod(nt.formMethod)){let{formMethod:wt,formEncType:$t}=nt;mt.method=wt.toUpperCase(),$t==="application/json"?(mt.headers=new Headers({"Content-Type":$t}),mt.body=JSON.stringify(nt.json)):$t==="text/plain"?mt.body=nt.text:$t==="application/x-www-form-urlencoded"&&nt.formData?mt.body=convertFormDataToSearchParams(nt.formData):mt.body=nt.formData}return new Request(at,mt)}function convertFormDataToSearchParams(a){let s=new URLSearchParams;for(let[et,nt]of a.entries())s.append(et,typeof nt=="string"?nt:nt.name);return s}function convertSearchParamsToFormData(a){let s=new FormData;for(let[et,nt]of a.entries())s.append(et,nt);return s}function processRouteLoaderData(a,s,et,nt,at){let mt={},wt=null,$t,Ct=!1,Dt={},Ft=et&&isErrorResult$2(et[1])?et[1].error:void 0;return a.forEach(jt=>{if(!(jt.route.id in s))return;let Ut=jt.route.id,tr=s[Ut];if(invariant$Q(!isRedirectResult(tr),"Cannot handle redirect results in processLoaderData"),isErrorResult$2(tr)){let ir=tr.error;Ft!==void 0&&(ir=Ft,Ft=void 0),wt=wt||{};{let sr=findNearestBoundary(a,Ut);wt[sr.route.id]==null&&(wt[sr.route.id]=ir)}mt[Ut]=void 0,Ct||(Ct=!0,$t=isRouteErrorResponse(tr.error)?tr.error.status:500),tr.headers&&(Dt[Ut]=tr.headers)}else isDeferredResult(tr)?(nt.set(Ut,tr.deferredData),mt[Ut]=tr.deferredData.data,tr.statusCode!=null&&tr.statusCode!==200&&!Ct&&($t=tr.statusCode),tr.headers&&(Dt[Ut]=tr.headers)):(mt[Ut]=tr.data,tr.statusCode&&tr.statusCode!==200&&!Ct&&($t=tr.statusCode),tr.headers&&(Dt[Ut]=tr.headers))}),Ft!==void 0&&et&&(wt={[et[0]]:Ft},mt[et[0]]=void 0),{loaderData:mt,errors:wt,statusCode:$t||200,loaderHeaders:Dt}}function processLoaderData(a,s,et,nt,at,mt,wt){let{loaderData:$t,errors:Ct}=processRouteLoaderData(s,et,nt,wt);return at.forEach(Dt=>{let{key:Ft,match:jt,controller:Ut}=Dt,tr=mt[Ft];if(invariant$Q(tr,"Did not find corresponding fetcher result"),!(Ut&&Ut.signal.aborted))if(isErrorResult$2(tr)){let ir=findNearestBoundary(a.matches,jt==null?void 0:jt.route.id);Ct&&Ct[ir.route.id]||(Ct=_extends$3({},Ct,{[ir.route.id]:tr.error})),a.fetchers.delete(Ft)}else if(isRedirectResult(tr))invariant$Q(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(tr))invariant$Q(!1,"Unhandled fetcher deferred data");else{let ir=getDoneFetcher(tr.data);a.fetchers.set(Ft,ir)}}),{loaderData:$t,errors:Ct}}function mergeLoaderData(a,s,et,nt){let at=_extends$3({},s);for(let mt of et){let wt=mt.route.id;if(s.hasOwnProperty(wt)?s[wt]!==void 0&&(at[wt]=s[wt]):a[wt]!==void 0&&mt.route.loader&&(at[wt]=a[wt]),nt&&nt.hasOwnProperty(wt))break}return at}function getActionDataForCommit(a){return a?isErrorResult$2(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function findNearestBoundary(a,s){return(s?a.slice(0,a.findIndex(nt=>nt.route.id===s)+1):[...a]).reverse().find(nt=>nt.route.hasErrorBoundary===!0)||a[0]}function getShortCircuitMatches(a){let s=a.length===1?a[0]:a.find(et=>et.index||!et.path||et.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function getInternalRouterError(a,s){let{pathname:et,routeId:nt,method:at,type:mt,message:wt}=s===void 0?{}:s,$t="Unknown Server Error",Ct="Unknown @remix-run/router error";return a===400?($t="Bad Request",at&&et&&nt?Ct="You made a "+at+' request to "'+et+'" but '+('did not provide a `loader` for route "'+nt+'", ')+"so there is no way to handle the request.":mt==="defer-action"?Ct="defer() is not supported in actions":mt==="invalid-body"&&(Ct="Unable to encode submission body")):a===403?($t="Forbidden",Ct='Route "'+nt+'" does not match URL "'+et+'"'):a===404?($t="Not Found",Ct='No route matches URL "'+et+'"'):a===405&&($t="Method Not Allowed",at&&et&&nt?Ct="You made a "+at.toUpperCase()+' request to "'+et+'" but '+('did not provide an `action` for route "'+nt+'", ')+"so there is no way to handle the request.":at&&(Ct='Invalid request method "'+at.toUpperCase()+'"')),new ErrorResponseImpl(a||500,$t,new Error(Ct),!0)}function findRedirect(a){let s=Object.entries(a);for(let et=s.length-1;et>=0;et--){let[nt,at]=s[et];if(isRedirectResult(at))return{key:nt,result:at}}}function stripHashFromPath(a){let s=typeof a=="string"?parsePath(a):a;return createPath(_extends$3({},s,{hash:""}))}function isHashChangeOnly(a,s){return a.pathname!==s.pathname||a.search!==s.search?!1:a.hash===""?s.hash!=="":a.hash===s.hash?!0:s.hash!==""}function isRedirectDataStrategyResultResult(a){return isResponse$1(a.result)&&redirectStatusCodes.has(a.result.status)}function isDeferredResult(a){return a.type===ResultType.deferred}function isErrorResult$2(a){return a.type===ResultType.error}function isRedirectResult(a){return(a&&a.type)===ResultType.redirect}function isDataWithResponseInit(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function isDeferredData(a){let s=a;return s&&typeof s=="object"&&typeof s.data=="object"&&typeof s.subscribe=="function"&&typeof s.cancel=="function"&&typeof s.resolveData=="function"}function isResponse$1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function isValidMethod(a){return validRequestMethods.has(a.toLowerCase())}function isMutationMethod(a){return validMutationMethods.has(a.toLowerCase())}async function resolveNavigationDeferredResults(a,s,et,nt,at){let mt=Object.entries(s);for(let wt=0;wt<mt.length;wt++){let[$t,Ct]=mt[wt],Dt=a.find(Ut=>(Ut==null?void 0:Ut.route.id)===$t);if(!Dt)continue;let Ft=nt.find(Ut=>Ut.route.id===Dt.route.id),jt=Ft!=null&&!isNewRouteInstance(Ft,Dt)&&(at&&at[Dt.route.id])!==void 0;isDeferredResult(Ct)&&jt&&await resolveDeferredData(Ct,et,!1).then(Ut=>{Ut&&(s[$t]=Ut)})}}async function resolveFetcherDeferredResults(a,s,et){for(let nt=0;nt<et.length;nt++){let{key:at,routeId:mt,controller:wt}=et[nt],$t=s[at];a.find(Dt=>(Dt==null?void 0:Dt.route.id)===mt)&&isDeferredResult($t)&&(invariant$Q(wt,"Expected an AbortController for revalidating fetcher deferred result"),await resolveDeferredData($t,wt.signal,!0).then(Dt=>{Dt&&(s[at]=Dt)}))}}async function resolveDeferredData(a,s,et){if(et===void 0&&(et=!1),!await a.deferredData.resolveData(s)){if(et)try{return{type:ResultType.data,data:a.deferredData.unwrappedData}}catch(at){return{type:ResultType.error,error:at}}return{type:ResultType.data,data:a.deferredData.data}}}function hasNakedIndexQuery(a){return new URLSearchParams(a).getAll("index").some(s=>s==="")}function getTargetMatch(a,s){let et=typeof s=="string"?parsePath(s).search:s.search;if(a[a.length-1].route.index&&hasNakedIndexQuery(et||""))return a[a.length-1];let nt=getPathContributingMatches(a);return nt[nt.length-1]}function getSubmissionFromNavigation(a){let{formMethod:s,formAction:et,formEncType:nt,text:at,formData:mt,json:wt}=a;if(!(!s||!et||!nt)){if(at!=null)return{formMethod:s,formAction:et,formEncType:nt,formData:void 0,json:void 0,text:at};if(mt!=null)return{formMethod:s,formAction:et,formEncType:nt,formData:mt,json:void 0,text:void 0};if(wt!==void 0)return{formMethod:s,formAction:et,formEncType:nt,formData:void 0,json:wt,text:void 0}}}function getLoadingNavigation(a,s){return s?{state:"loading",location:a,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(a,s){return{state:"submitting",location:a,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function getLoadingFetcher(a,s){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function getSubmittingFetcher(a,s){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:s?s.data:void 0}}function getDoneFetcher(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function restoreAppliedTransitions(a,s){try{let et=a.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(et){let nt=JSON.parse(et);for(let[at,mt]of Object.entries(nt||{}))mt&&Array.isArray(mt)&&s.set(at,new Set(mt||[]))}}catch{}}function persistAppliedTransitions(a,s){if(s.size>0){let et={};for(let[nt,at]of s)et[nt]=[...at];try{a.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(et))}catch(nt){warning$4(!1,"Failed to save applied view transitions in sessionStorage ("+nt+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(a[nt]=et[nt])}return a},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,s){let{relative:et}=s===void 0?{}:s;useInRouterContext()||invariant$Q(!1);let{basename:nt,navigator:at}=reactExports.useContext(NavigationContext),{hash:mt,pathname:wt,search:$t}=useResolvedPath(a,{relative:et}),Ct=wt;return nt!=="/"&&(Ct=wt==="/"?nt:joinPaths([nt,wt])),at.createHref({pathname:Ct,search:$t,hash:mt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$Q(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$Q(!1);let a=reactExports.useContext(DataRouterContext),{basename:s,future:et,navigator:nt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:mt}=useLocation(),wt=JSON.stringify(getResolveToMatches(at,et.v7_relativeSplatPath)),$t=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{$t.current=!0}),reactExports.useCallback(function(Dt,Ft){if(Ft===void 0&&(Ft={}),!$t.current)return;if(typeof Dt=="number"){nt.go(Dt);return}let jt=resolveTo(Dt,JSON.parse(wt),mt,Ft.relative==="path");a==null&&s!=="/"&&(jt.pathname=jt.pathname==="/"?s:joinPaths([s,jt.pathname])),(Ft.replace?nt.replace:nt.push)(jt,Ft.state,Ft)},[s,nt,wt,mt,a])}const OutletContext=reactExports.createContext(null);function useOutlet(a){let s=reactExports.useContext(RouteContext).outlet;return s&&reactExports.createElement(OutletContext.Provider,{value:a},s)}function useParams(){let{matches:a}=reactExports.useContext(RouteContext),s=a[a.length-1];return s?s.params:{}}function useResolvedPath(a,s){let{relative:et}=s===void 0?{}:s,{future:nt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:mt}=useLocation(),wt=JSON.stringify(getResolveToMatches(at,nt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(wt),mt,et==="path"),[a,wt,mt,et])}function useRoutesImpl(a,s,et,nt){useInRouterContext()||invariant$Q(!1);let{navigator:at,static:mt}=reactExports.useContext(NavigationContext),{matches:wt}=reactExports.useContext(RouteContext),$t=wt[wt.length-1],Ct=$t?$t.params:{};$t&&$t.pathname;let Dt=$t?$t.pathnameBase:"/";$t&&$t.route;let Ft=useLocation(),jt;jt=Ft;let Ut=jt.pathname||"/",tr=Ut;if(Dt!=="/"){let ur=Dt.replace(/^\//,"").split("/");tr="/"+Ut.replace(/^\//,"").split("/").slice(ur.length).join("/")}let ir=!mt&&et&&et.matches&&et.matches.length>0?et.matches:matchRoutes(a,{pathname:tr});return _renderMatches(ir&&ir.map(ur=>Object.assign({},ur,{params:Object.assign({},Ct,ur.params),pathname:joinPaths([Dt,at.encodeLocation?at.encodeLocation(ur.pathname).pathname:ur.pathname]),pathnameBase:ur.pathnameBase==="/"?Dt:joinPaths([Dt,at.encodeLocation?at.encodeLocation(ur.pathnameBase).pathname:ur.pathnameBase])})),wt,et,nt)}function DefaultErrorComponent(){let a=useRouteError(),s=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),et=a instanceof Error?a.stack:null,at={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),et?reactExports.createElement("pre",{style:at},et):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,et){return et.location!==s.location||et.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:et.error,location:et.location,revalidation:s.revalidation||et.revalidation}}componentDidCatch(s,et){console.error("React Router caught the following error during render",s,et)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:s,match:et,children:nt}=a,at=reactExports.useContext(DataRouterContext);return at&&at.static&&at.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(at.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:s},nt)}function _renderMatches(a,s,et,nt){var at;if(s===void 0&&(s=[]),et===void 0&&(et=null),nt===void 0&&(nt=null),a==null){var mt;if(!et)return null;if(et.errors)a=et.matches;else if((mt=nt)!=null&&mt.v7_partialHydration&&s.length===0&&!et.initialized&&et.matches.length>0)a=et.matches;else return null}let wt=a,$t=(at=et)==null?void 0:at.errors;if($t!=null){let Ft=wt.findIndex(jt=>jt.route.id&&($t==null?void 0:$t[jt.route.id])!==void 0);Ft>=0||invariant$Q(!1),wt=wt.slice(0,Math.min(wt.length,Ft+1))}let Ct=!1,Dt=-1;if(et&&nt&&nt.v7_partialHydration)for(let Ft=0;Ft<wt.length;Ft++){let jt=wt[Ft];if((jt.route.HydrateFallback||jt.route.hydrateFallbackElement)&&(Dt=Ft),jt.route.id){let{loaderData:Ut,errors:tr}=et,ir=jt.route.loader&&Ut[jt.route.id]===void 0&&(!tr||tr[jt.route.id]===void 0);if(jt.route.lazy||ir){Ct=!0,Dt>=0?wt=wt.slice(0,Dt+1):wt=[wt[0]];break}}}return wt.reduceRight((Ft,jt,Ut)=>{let tr,ir=!1,sr=null,ur=null;et&&(tr=$t&&jt.route.id?$t[jt.route.id]:void 0,sr=jt.route.errorElement||defaultErrorElement,Ct&&(Dt<0&&Ut===0?(warningOnce("route-fallback"),ir=!0,ur=null):Dt===Ut&&(ir=!0,ur=jt.route.hydrateFallbackElement||null)));let fr=s.concat(wt.slice(0,Ut+1)),dr=()=>{let hr;return tr?hr=sr:ir?hr=ur:jt.route.Component?hr=reactExports.createElement(jt.route.Component,null):jt.route.element?hr=jt.route.element:hr=Ft,reactExports.createElement(RenderedRoute,{match:jt,routeContext:{outlet:Ft,matches:fr,isDataRoute:et!=null},children:hr})};return et&&(jt.route.ErrorBoundary||jt.route.errorElement||Ut===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:sr,error:tr,children:dr(),routeContext:{outlet:null,matches:fr,isDataRoute:!0}}):dr()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext(a){let s=reactExports.useContext(DataRouterContext);return s||invariant$Q(!1),s}function useDataRouterState(a){let s=reactExports.useContext(DataRouterStateContext);return s||invariant$Q(!1),s}function useRouteContext(a){let s=reactExports.useContext(RouteContext);return s||invariant$Q(!1),s}function useCurrentRouteId(a){let s=useRouteContext(),et=s.matches[s.matches.length-1];return et.route.id||invariant$Q(!1),et.route.id}function useRouteError(){var a;let s=reactExports.useContext(RouteErrorContext),et=useDataRouterState(),nt=useCurrentRouteId();return s!==void 0?s:(a=et.errors)==null?void 0:a[nt]}function useNavigateStable(){let{router:a}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{et.current=!0}),reactExports.useCallback(function(at,mt){mt===void 0&&(mt={}),et.current&&(typeof at=="number"?a.navigate(at):a.navigate(at,_extends$2({fromRouteId:s},mt)))},[a,s])}const alreadyWarned$1={};function warningOnce(a,s,et){alreadyWarned$1[a]||(alreadyWarned$1[a]=!0)}function logV6DeprecationWarnings(a,s){a==null||a.v7_startTransition,(a==null?void 0:a.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function Navigate(a){let{to:s,replace:et,state:nt,relative:at}=a;useInRouterContext()||invariant$Q(!1);let{future:mt,static:wt}=reactExports.useContext(NavigationContext),{matches:$t}=reactExports.useContext(RouteContext),{pathname:Ct}=useLocation(),Dt=useNavigate(),Ft=resolveTo(s,getResolveToMatches($t,mt.v7_relativeSplatPath),Ct,at==="path"),jt=JSON.stringify(Ft);return reactExports.useEffect(()=>Dt(JSON.parse(jt),{replace:et,state:nt,relative:at}),[Dt,jt,at,et,nt]),null}function Outlet(a){return useOutlet(a.context)}function Router(a){let{basename:s="/",children:et=null,location:nt,navigationType:at=Action$1.Pop,navigator:mt,static:wt=!1,future:$t}=a;useInRouterContext()&&invariant$Q(!1);let Ct=s.replace(/^\/*/,"/"),Dt=reactExports.useMemo(()=>({basename:Ct,navigator:mt,static:wt,future:_extends$2({v7_relativeSplatPath:!1},$t)}),[Ct,$t,mt,wt]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:Ft="/",search:jt="",hash:Ut="",state:tr=null,key:ir="default"}=nt,sr=reactExports.useMemo(()=>{let ur=stripBasename(Ft,Ct);return ur==null?null:{location:{pathname:ur,search:jt,hash:Ut,state:tr,key:ir},navigationType:at}},[Ct,Ft,jt,Ut,tr,ir,at]);return sr==null?null:reactExports.createElement(NavigationContext.Provider,{value:Dt},reactExports.createElement(LocationContext.Provider,{children:et,value:sr}))}new Promise(()=>{});function mapRouteProperties(a){let s={hasErrorBoundary:a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&Object.assign(s,{element:reactExports.createElement(a.Component),Component:void 0}),a.HydrateFallback&&Object.assign(s,{hydrateFallbackElement:reactExports.createElement(a.HydrateFallback),HydrateFallback:void 0}),a.ErrorBoundary&&Object.assign(s,{errorElement:reactExports.createElement(a.ErrorBoundary),ErrorBoundary:void 0}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(a[nt]=et[nt])}return a},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(a,s){if(a==null)return{};var et={},nt=Object.keys(a),at,mt;for(mt=0;mt<nt.length;mt++)at=nt[mt],!(s.indexOf(at)>=0)&&(et[at]=a[at]);return et}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,s){return a.button===0&&(!s||s==="_self")&&!isModifiedEvent(a)}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}function createBrowserRouter(a,s){return createRouter({basename:void 0,future:_extends$1({},void 0,{v7_prependBasename:!0}),history:createBrowserHistory({window:void 0}),hydrationData:parseHydrationData(),routes:a,mapRouteProperties,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function parseHydrationData(){var a;let s=(a=window)==null?void 0:a.__staticRouterHydrationData;return s&&s.errors&&(s=_extends$1({},s,{errors:deserializeErrors(s.errors)})),s}function deserializeErrors(a){if(!a)return null;let s=Object.entries(a),et={};for(let[nt,at]of s)if(at&&at.__type==="RouteErrorResponse")et[nt]=new ErrorResponseImpl(at.status,at.statusText,at.data,at.internal===!0);else if(at&&at.__type==="Error"){if(at.__subType){let mt=window[at.__subType];if(typeof mt=="function")try{let wt=new mt(at.message);wt.stack="",et[nt]=wt}catch{}}if(et[nt]==null){let mt=new Error(at.message);mt.stack="",et[nt]=mt}}else et[nt]=at;return et}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),FetchersContext=reactExports.createContext(new Map),START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION],FLUSH_SYNC="flushSync",flushSyncImpl=ReactDOM$1[FLUSH_SYNC];function startTransitionSafe(a){startTransitionImpl?startTransitionImpl(a):a()}function flushSyncSafe(a){flushSyncImpl?flushSyncImpl(a):a()}class Deferred{constructor(){this.status="pending",this.promise=new Promise((s,et)=>{this.resolve=nt=>{this.status==="pending"&&(this.status="resolved",s(nt))},this.reject=nt=>{this.status==="pending"&&(this.status="rejected",et(nt))}})}}function RouterProvider(a){let{fallbackElement:s,router:et,future:nt}=a,[at,mt]=reactExports.useState(et.state),[wt,$t]=reactExports.useState(),[Ct,Dt]=reactExports.useState({isTransitioning:!1}),[Ft,jt]=reactExports.useState(),[Ut,tr]=reactExports.useState(),[ir,sr]=reactExports.useState(),ur=reactExports.useRef(new Map),{v7_startTransition:fr}=nt||{},dr=reactExports.useCallback(wr=>{fr?startTransitionSafe(wr):wr()},[fr]),hr=reactExports.useCallback((wr,Sr)=>{let{deletedFetchers:Cr,flushSync:cr,viewTransitionOpts:Nt}=Sr;wr.fetchers.forEach((er,Yt)=>{er.data!==void 0&&ur.current.set(Yt,er.data)}),Cr.forEach(er=>ur.current.delete(er));let Vt=et.window==null||et.window.document==null||typeof et.window.document.startViewTransition!="function";if(!Nt||Vt){cr?flushSyncSafe(()=>mt(wr)):dr(()=>mt(wr));return}if(cr){flushSyncSafe(()=>{Ut&&(Ft&&Ft.resolve(),Ut.skipTransition()),Dt({isTransitioning:!0,flushSync:!0,currentLocation:Nt.currentLocation,nextLocation:Nt.nextLocation})});let er=et.window.document.startViewTransition(()=>{flushSyncSafe(()=>mt(wr))});er.finished.finally(()=>{flushSyncSafe(()=>{jt(void 0),tr(void 0),$t(void 0),Dt({isTransitioning:!1})})}),flushSyncSafe(()=>tr(er));return}Ut?(Ft&&Ft.resolve(),Ut.skipTransition(),sr({state:wr,currentLocation:Nt.currentLocation,nextLocation:Nt.nextLocation})):($t(wr),Dt({isTransitioning:!0,flushSync:!1,currentLocation:Nt.currentLocation,nextLocation:Nt.nextLocation}))},[et.window,Ut,Ft,ur,dr]);reactExports.useLayoutEffect(()=>et.subscribe(hr),[et,hr]),reactExports.useEffect(()=>{Ct.isTransitioning&&!Ct.flushSync&&jt(new Deferred)},[Ct]),reactExports.useEffect(()=>{if(Ft&&wt&&et.window){let wr=wt,Sr=Ft.promise,Cr=et.window.document.startViewTransition(async()=>{dr(()=>mt(wr)),await Sr});Cr.finished.finally(()=>{jt(void 0),tr(void 0),$t(void 0),Dt({isTransitioning:!1})}),tr(Cr)}},[dr,wt,Ft,et.window]),reactExports.useEffect(()=>{Ft&&wt&&at.location.key===wt.location.key&&Ft.resolve()},[Ft,Ut,at.location,wt]),reactExports.useEffect(()=>{!Ct.isTransitioning&&ir&&($t(ir.state),Dt({isTransitioning:!0,flushSync:!1,currentLocation:ir.currentLocation,nextLocation:ir.nextLocation}),sr(void 0))},[Ct.isTransitioning,ir]),reactExports.useEffect(()=>{},[]);let vr=reactExports.useMemo(()=>({createHref:et.createHref,encodeLocation:et.encodeLocation,go:wr=>et.navigate(wr),push:(wr,Sr,Cr)=>et.navigate(wr,{state:Sr,preventScrollReset:Cr==null?void 0:Cr.preventScrollReset}),replace:(wr,Sr,Cr)=>et.navigate(wr,{replace:!0,state:Sr,preventScrollReset:Cr==null?void 0:Cr.preventScrollReset})}),[et]),yr=et.basename||"/",xr=reactExports.useMemo(()=>({router:et,navigator:vr,static:!1,basename:yr}),[et,vr,yr]),br=reactExports.useMemo(()=>({v7_relativeSplatPath:et.future.v7_relativeSplatPath}),[et.future.v7_relativeSplatPath]);return reactExports.useEffect(()=>logV6DeprecationWarnings(nt,et.future),[nt,et.future]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:xr},reactExports.createElement(DataRouterStateContext.Provider,{value:at},reactExports.createElement(FetchersContext.Provider,{value:ur.current},reactExports.createElement(ViewTransitionContext.Provider,{value:Ct},reactExports.createElement(Router,{basename:yr,location:at.location,navigationType:at.historyAction,navigator:vr,future:br},at.initialized||et.future.v7_partialHydration?reactExports.createElement(MemoizedDataRoutes,{routes:et.routes,future:et.future,state:at}):s))))),null)}const MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes(a){let{routes:s,future:et,state:nt}=a;return useRoutesImpl(s,void 0,nt,et)}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function(s,et){let{onClick:nt,relative:at,reloadDocument:mt,replace:wt,state:$t,target:Ct,to:Dt,preventScrollReset:Ft,viewTransition:jt}=s,Ut=_objectWithoutPropertiesLoose$1(s,_excluded$2),{basename:tr}=reactExports.useContext(NavigationContext),ir,sr=!1;if(typeof Dt=="string"&&ABSOLUTE_URL_REGEX.test(Dt)&&(ir=Dt,isBrowser$3))try{let hr=new URL(window.location.href),vr=Dt.startsWith("//")?new URL(hr.protocol+Dt):new URL(Dt),yr=stripBasename(vr.pathname,tr);vr.origin===hr.origin&&yr!=null?Dt=yr+vr.search+vr.hash:sr=!0}catch{}let ur=useHref(Dt,{relative:at}),fr=useLinkClickHandler(Dt,{replace:wt,state:$t,target:Ct,preventScrollReset:Ft,relative:at,viewTransition:jt});function dr(hr){nt&&nt(hr),hr.defaultPrevented||fr(hr)}return reactExports.createElement("a",_extends$1({},Ut,{href:ir||ur,onClick:sr||mt?nt:dr,ref:et,target:Ct}))});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(a,s){let{target:et,replace:nt,state:at,preventScrollReset:mt,relative:wt,viewTransition:$t}=s===void 0?{}:s,Ct=useNavigate(),Dt=useLocation(),Ft=useResolvedPath(a,{relative:wt});return reactExports.useCallback(jt=>{if(shouldProcessLinkClick(jt,et)){jt.preventDefault();let Ut=nt!==void 0?nt:createPath(Dt)===createPath(Ft);Ct(a,{replace:Ut,state:at,preventScrollReset:mt,relative:wt,viewTransition:$t})}},[Dt,Ct,Ft,nt,at,et,a,mt,wt,$t])}const scriptRel="modulepreload",assetsURL=function(a){return"/"+a},seen={},__vitePreload=function(s,et,nt){let at=Promise.resolve();if(et&&et.length>0){document.getElementsByTagName("link");const wt=document.querySelector("meta[property=csp-nonce]"),$t=(wt==null?void 0:wt.nonce)||(wt==null?void 0:wt.getAttribute("nonce"));at=Promise.allSettled(et.map(Ct=>{if(Ct=assetsURL(Ct),Ct in seen)return;seen[Ct]=!0;const Dt=Ct.endsWith(".css"),Ft=Dt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Ct}"]${Ft}`))return;const jt=document.createElement("link");if(jt.rel=Dt?"stylesheet":scriptRel,Dt||(jt.as="script"),jt.crossOrigin="",jt.href=Ct,$t&&jt.setAttribute("nonce",$t),document.head.appendChild(jt),Dt)return new Promise((Ut,tr)=>{jt.addEventListener("load",Ut),jt.addEventListener("error",()=>tr(new Error(`Unable to preload CSS for ${Ct}`)))})}))}function mt(wt){const $t=new Event("vite:preloadError",{cancelable:!0});if($t.payload=wt,window.dispatchEvent($t),!$t.defaultPrevented)throw wt}return at.then(wt=>{for(const $t of wt||[])$t.status==="rejected"&&mt($t.reason);return s().catch(mt)})},GeneralLoading=()=>{const a=reactExports.useRef(null);return reactExports.useEffect(()=>{if(a.current){const s=a.current.style;s.setProperty("--size-loader","50px"),s.setProperty("--size-orbe","10px")}},[]),jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",background:"#161616",position:"relative"},children:jsxRuntimeExports.jsx("div",{ref:a,style:{width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px"},children:jsxRuntimeExports.jsx("img",{src:"/images/img-bg-loading.gif",alt:"icon",style:{width:"100px",height:"100px"}})})})},store$c=(a,s)=>({showConvertModel:!0,phaseDividendInfoMap:{},dividendManager:void 0,XCetusManager:void 0,dividendRewardList:[],lockCetusListLoading:!1,veNFT:void 0,veNFTLoading:!1,lockCetusList:[],owner:"",setVeNFTLoading:et=>{a(()=>({veNFTLoading:et}))},setVeNFT:(et,nt)=>{a(()=>({veNFT:et,owner:nt}))},setLockCetusList:et=>{console.log("🚀 ~ list:",et),a(()=>({lockCetusList:[...et]}))},setLockCetusListLoading:et=>{a(()=>({lockCetusListLoading:et}))},setXCetusManager:et=>{a(()=>({XCetusManager:et}))},setDividendManager:et=>{a(()=>({dividendManager:et}))},setDividendRewardList:et=>{a(()=>({dividendRewardList:et}))},setPhaseDividendInfoMap:et=>{const nt=s().phaseDividendInfoMap;nt[et.phase]=et,a(()=>({phaseDividendInfoMap:{...nt}}))},setShowConvertModel:et=>{a(()=>({showConvertModel:et}))},clearData:()=>{a(()=>({veNFT:void 0,owner:"",lockCetusList:[],lockCetusListLoading:!1,veNFTLoading:!1,dividendRewardList:[]}))}}),useXCetusStore=create$3(persist(store$c,{name:"useXCetusStore",partialize:a=>{const{owner:s,veNFT:et,lockCetusList:nt,XCetusManager:at,dividendManager:mt,phaseDividendInfoMap:wt,showConvertModel:$t}=a;return{owner:s,veNFT:et,lockCetusList:nt,XCetusManager:at,dividendManager:mt,phaseDividendInfoMap:wt,showConvertModel:$t}}}));function useDebounceFunction(a,s=1e3){const et=reactExports.useRef(),nt=reactExports.useCallback((...at)=>{et.current&&clearTimeout(et.current),et.current=setTimeout(()=>{a(...at)},s)},[a,s]);return reactExports.useEffect(()=>()=>{et.current&&clearTimeout(et.current)},[]),nt}function useWindowWidth(){const[a,s]=reactExports.useState(window.innerWidth),et=useDebounceFunction(()=>{s(window.innerWidth)},300);reactExports.useEffect(()=>(window.addEventListener("resize",et),()=>{window.removeEventListener("resize",et)}),[]);const nt=reactExports.useMemo(()=>a<810,[a]);return{windowWidth:a,isApp:nt}}function addDomEvent$1(a,s,et,nt){return a.addEventListener(s,et,nt),()=>{a.removeEventListener(s,et,nt)}}function isHTMLElement$2(a){return a!=null&&typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}function isBrowser$2(){return!!(globalThis!=null&&globalThis.document)}function isHiddenElement(a){return a.parentElement&&isHiddenElement(a.parentElement)?!0:a.hidden}function isContentEditableElement(a){const s=a.getAttribute("contenteditable");return s!=="false"&&s!=null}function isDisabledElement(a){return!!a.getAttribute("disabled")||!!a.getAttribute("aria-disabled")}function getOwnerWindow(a){var s;return((s=getOwnerDocument$2(a))==null?void 0:s.defaultView)??window}function getOwnerDocument$2(a){return isHTMLElement$2(a)?a.ownerDocument:document}function getEventWindow(a){return a.view??window}function getActiveElement$1(a){return getOwnerDocument$2(a).activeElement}function isMouseEvent(a){const s=getEventWindow(a);return typeof s.PointerEvent<"u"&&a instanceof s.PointerEvent?a.pointerType==="mouse":a instanceof s.MouseEvent}function isTouchEvent(a){return!!a.touches}function isMultiTouchEvent(a){return isTouchEvent(a)&&a.touches.length>1}function pointFromTouch(a,s="page"){const et=a.touches[0]||a.changedTouches[0];return{x:et[`${s}X`],y:et[`${s}Y`]}}function pointFromMouse(a,s="page"){return{x:a[`${s}X`],y:a[`${s}Y`]}}function getEventPoint(a,s="page"){return isTouchEvent(a)?pointFromTouch(a,s):pointFromMouse(a,s)}function filter$2(a){return s=>{const et=isMouseEvent(s);(!et||et&&s.button===0)&&a(s)}}function wrap$1(a,s=!1){function et(at){a(at,{point:getEventPoint(at)})}return s?filter$2(et):et}function addPointerEvent$1(a,s,et,nt){return addDomEvent$1(a,s,wrap$1(et,s==="pointerdown"),nt)}function assignAfter(a,...s){if(a==null)throw new TypeError("Cannot convert undefined or null to object");const et={...a};for(const nt of s)if(nt!=null)for(const at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&(at in et&&delete et[at],et[at]=nt[at]);return et}const dataAttr=a=>a?"":void 0,ariaAttr=a=>a?!0:void 0;function isArray$2(a){return Array.isArray(a)}function isObject$3(a){const s=typeof a;return a!=null&&(s==="object"||s==="function")&&!isArray$2(a)}function getLastItem(a){const s=a==null?0:a.length;return s?a[s-1]:void 0}function analyzeCSSValue$1(a){const s=parseFloat(a.toString()),et=a.toString().replace(String(s),"");return{unitless:!et,value:s,unit:et}}function px$1(a){if(a==null)return a;const{unitless:s}=analyzeCSSValue$1(a);return s||typeof a=="number"?`${a}px`:a}const sortByBreakpointValue=(a,s)=>parseInt(a[1],10)>parseInt(s[1],10)?1:-1,sortBps=a=>Object.fromEntries(Object.entries(a).sort(sortByBreakpointValue));function normalize$4(a){const s=sortBps(a);return Object.assign(Object.values(s),s)}function keys$1(a){const s=Object.keys(sortBps(a));return new Set(s)}function subtract$4(a){if(!a)return a;a=px$1(a)??a;const s=-.02;return typeof a=="number"?`${a+s}`:a.replace(/(\d+\.?\d*)/u,et=>`${parseFloat(et)+s}`)}function toMediaQueryString(a,s){const et=["@media screen"];return a&&et.push("and",`(min-width: ${px$1(a)})`),s&&et.push("and",`(max-width: ${px$1(s)})`),et.join(" ")}function analyzeBreakpoints(a){if(!a)return null;a.base=a.base??"0px";const s=normalize$4(a),et=Object.entries(a).sort(sortByBreakpointValue).map(([mt,wt],$t,Ct)=>{let[,Dt]=Ct[$t+1]??[];return Dt=parseFloat(Dt)>0?subtract$4(Dt):void 0,{_minW:subtract$4(wt),breakpoint:mt,minW:wt,maxW:Dt,maxWQuery:toMediaQueryString(null,Dt),minWQuery:toMediaQueryString(wt),minMaxQuery:toMediaQueryString(wt,Dt)}}),nt=keys$1(a),at=Array.from(nt.values());return{keys:nt,normalized:s,isResponsive(mt){const wt=Object.keys(mt);return wt.length>0&&wt.every($t=>nt.has($t))},asObject:sortBps(a),asArray:normalize$4(a),details:et,get(mt){return et.find(wt=>wt.breakpoint===mt)},media:[null,...s.map(mt=>toMediaQueryString(mt)).slice(1)],toArrayValue(mt){if(!isObject$3(mt))throw new Error("toArrayValue: value must be an object");const wt=at.map($t=>mt[$t]??null);for(;getLastItem(wt)===null;)wt.pop();return wt},toObjectValue(mt){if(!Array.isArray(mt))throw new Error("toObjectValue: value must be an array");return mt.reduce((wt,$t,Ct)=>{const Dt=at[Ct];return Dt!=null&&$t!=null&&(wt[Dt]=$t),wt},{})}}}function callAll(...a){return function(...et){a.forEach(nt=>nt==null?void 0:nt(...et))}}function callAllHandlers(...a){return function(et){a.some(nt=>(nt==null||nt(et),et==null?void 0:et.defaultPrevented))}}function getValidChildren(a){return reactExports.Children.toArray(a).filter(s=>reactExports.isValidElement(s))}function compact(a){const s=Object.assign({},a);for(let et in s)s[et]===void 0&&delete s[et];return s}function getErrorMessage(a,s){return`${a} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext(a={}){const{name:s,strict:et=!0,hookName:nt="useContext",providerName:at="Provider",errorMessage:mt,defaultValue:wt}=a,$t=reactExports.createContext(wt);$t.displayName=s;function Ct(){var Ft;const Dt=reactExports.useContext($t);if(!Dt&&et){const jt=new Error(mt??getErrorMessage(nt,at));throw jt.name="ContextError",(Ft=Error.captureStackTrace)==null||Ft.call(Error,jt,Ct),jt}return Dt}return[$t.Provider,Ct,$t]}const cx=(...a)=>a.filter(Boolean).join(" "),hasTabIndex=a=>a.hasAttribute("tabindex"),hasNegativeTabIndex=a=>hasTabIndex(a)&&a.tabIndex===-1;function isFocusable(a){if(!isHTMLElement$2(a)||isHiddenElement(a)||isDisabledElement(a))return!1;const{localName:s}=a;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const nt={a:()=>a.hasAttribute("href"),audio:()=>a.hasAttribute("controls"),video:()=>a.hasAttribute("controls")};return s in nt?nt[s]():isContentEditableElement(a)?!0:hasTabIndex(a)}function isTabbable(a){return a?isHTMLElement$2(a)&&isFocusable(a)&&!hasNegativeTabIndex(a):!1}const focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=a=>a.offsetWidth>0&&a.offsetHeight>0;function getAllFocusable(a){const s=Array.from(a.querySelectorAll(focusableElSelector));return s.unshift(a),s.filter(et=>isFocusable(et)&&isVisible(et))}function get$4(a,s,et,nt){const at=typeof s=="string"?s.split("."):[s];for(nt=0;nt<at.length&&a;nt+=1)a=a[at[nt]];return a===void 0?et:a}const memoize$3=a=>{const s=new WeakMap;return(nt,at,mt,wt)=>{if(typeof nt>"u")return a(nt,at,mt);s.has(nt)||s.set(nt,new Map);const $t=s.get(nt);if($t.has(at))return $t.get(at);const Ct=a(nt,at,mt,wt);return $t.set(at,Ct),Ct}},memoizedGet$1=memoize$3(get$4),interopDefault=a=>a.default||a;function lazyDisclosure(a){const{wasSelected:s,enabled:et,isSelected:nt,mode:at="unmount"}=a;return!!(!et||nt||at==="keepMounted"&&s)}function toNumber(a){const s=parseFloat(a);return typeof s!="number"||Number.isNaN(s)?0:s}function toPrecision(a,s){let et=toNumber(a);const nt=10**(s??10);return et=Math.round(et*nt)/nt,s?et.toFixed(s):et.toString()}function countDecimalPlaces(a){if(!Number.isFinite(a))return 0;let s=1,et=0;for(;Math.round(a*s)/s!==a;)s*=10,et+=1;return et}function valueToPercent(a,s,et){return(a-s)*100/(et-s)}function percentToValue(a,s,et){return(et-s)*a+s}function roundValueToStep(a,s,et){const nt=Math.round((a-s)/et)*et+s,at=countDecimalPlaces(et);return toPrecision(nt,at)}function clampValue(a,s,et){return a==null?a:(et<s&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(a,s),et))}function omit(a,s=[]){const et=Object.assign({},a);for(const nt of s)nt in et&&delete et[nt];return et}function pick(a,s){const et={};for(const nt of s)nt in a&&(et[nt]=a[nt]);return et}function mapResponsive(a,s){return Array.isArray(a)?a.map(et=>et===null?null:s(et)):isObject$3(a)?Object.keys(a).reduce((et,nt)=>(et[nt]=s(a[nt]),et),{}):a!=null?s(a):null}const isFunction$4=a=>typeof a=="function";function runIfFn$1(a,...s){return isFunction$4(a)?a(...s):a}function isScrollParent$1(a){const s=a.ownerDocument.defaultView||window,{overflow:et,overflowX:nt,overflowY:at}=s.getComputedStyle(a);return/auto|scroll|overlay|hidden/.test(et+at+nt)}function getParent(a){return a.localName==="html"?a:a.assignedSlot||a.parentElement||a.ownerDocument.documentElement}function getScrollParent$1(a){return["html","body","#document"].includes(a.localName)?a.ownerDocument.body:isHTMLElement$2(a)&&isScrollParent$1(a)?a:getScrollParent$1(getParent(a))}function splitProps(a,...s){const et=Object.getOwnPropertyDescriptors(a),nt=Object.keys(et),at=wt=>{const $t={};for(let Ct=0;Ct<wt.length;Ct++){const Dt=wt[Ct];et[Dt]&&(Object.defineProperty($t,Dt,et[Dt]),delete et[Dt])}return $t},mt=wt=>at(Array.isArray(wt)?wt:nt.filter(wt));return s.map(mt).concat(at(nt))}function walkObject(a,s,et={}){const{stop:nt,getKey:at}=et;function mt(wt,$t=[]){if(isObject$3(wt)||Array.isArray(wt)){const Ct={};for(const[Dt,Ft]of Object.entries(wt)){const jt=(at==null?void 0:at(Dt))??Dt,Ut=[...$t,jt];if(nt!=null&&nt(wt,Ut))return s(wt,$t);Ct[jt]=mt(Ft,Ut)}return Ct}return s(wt,$t)}return mt(a)}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(a,s){var et=200,nt="__lodash_hash_undefined__",at=800,mt=16,wt=9007199254740991,$t="[object Arguments]",Ct="[object Array]",Dt="[object AsyncFunction]",Ft="[object Boolean]",jt="[object Date]",Ut="[object Error]",tr="[object Function]",ir="[object GeneratorFunction]",sr="[object Map]",ur="[object Number]",fr="[object Null]",dr="[object Object]",hr="[object Proxy]",vr="[object RegExp]",yr="[object Set]",xr="[object String]",br="[object Undefined]",wr="[object WeakMap]",Sr="[object ArrayBuffer]",Cr="[object DataView]",cr="[object Float32Array]",Nt="[object Float64Array]",Vt="[object Int8Array]",er="[object Int16Array]",Yt="[object Int32Array]",rr="[object Uint8Array]",ar="[object Uint8ClampedArray]",lr="[object Uint16Array]",nr="[object Uint32Array]",Lt=/[\\^$.*+?()[\]{}|]/g,or=/^\[object .+?Constructor\]$/,gr=/^(?:0|[1-9]\d*)$/,pr={};pr[cr]=pr[Nt]=pr[Vt]=pr[er]=pr[Yt]=pr[rr]=pr[ar]=pr[lr]=pr[nr]=!0,pr[$t]=pr[Ct]=pr[Sr]=pr[Ft]=pr[Cr]=pr[jt]=pr[Ut]=pr[tr]=pr[sr]=pr[ur]=pr[dr]=pr[vr]=pr[yr]=pr[xr]=pr[wr]=!1;var _r=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,kr=typeof self=="object"&&self&&self.Object===Object&&self,Mr=_r||kr||Function("return this")(),$r=s&&!s.nodeType&&s,Pr=$r&&!0&&a&&!a.nodeType&&a,Fr=Pr&&Pr.exports===$r,Tr=Fr&&_r.process,Rr=function(){try{var an=Pr&&Pr.require&&Pr.require("util").types;return an||Tr&&Tr.binding&&Tr.binding("util")}catch{}}(),Er=Rr&&Rr.isTypedArray;function Or(an,Zn,oo){switch(oo.length){case 0:return an.call(Zn);case 1:return an.call(Zn,oo[0]);case 2:return an.call(Zn,oo[0],oo[1]);case 3:return an.call(Zn,oo[0],oo[1],oo[2])}return an.apply(Zn,oo)}function Wr(an,Zn){for(var oo=-1,Ro=Array(an);++oo<an;)Ro[oo]=Zn(oo);return Ro}function qr(an){return function(Zn){return an(Zn)}}function Vr(an,Zn){return an==null?void 0:an[Zn]}function Ur(an,Zn){return function(oo){return an(Zn(oo))}}var Lr=Array.prototype,Br=Function.prototype,Xr=Object.prototype,zr=Mr["__core-js_shared__"],Qr=Br.toString,Qn=Xr.hasOwnProperty,nn=function(){var an=/[^.]+$/.exec(zr&&zr.keys&&zr.keys.IE_PROTO||"");return an?"Symbol(src)_1."+an:""}(),$n=Xr.toString,lo=Qr.call(Object),sn=RegExp("^"+Qr.call(Qn).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nn=Fr?Mr.Buffer:void 0,xo=Mr.Symbol,Ir=Mr.Uint8Array;Nn&&Nn.allocUnsafe;var Ar=Ur(Object.getPrototypeOf,Object),Dr=Object.create,Nr=Xr.propertyIsEnumerable,Gr=Lr.splice,Un=xo?xo.toStringTag:void 0,Zr=function(){try{var an=mo(Object,"defineProperty");return an({},"",{}),an}catch{}}(),Cn=Nn?Nn.isBuffer:void 0,wo=Math.max,Hn=Date.now,Kn=mo(Mr,"Map"),bo=mo(Object,"create"),Jn=function(){function an(){}return function(Zn){if(!Al(Zn))return{};if(Dr)return Dr(Zn);an.prototype=Zn;var oo=new an;return an.prototype=void 0,oo}}();function no(an){var Zn=-1,oo=an==null?0:an.length;for(this.clear();++Zn<oo;){var Ro=an[Zn];this.set(Ro[0],Ro[1])}}function Do(){this.__data__=bo?bo(null):{},this.size=0}function eo(an){var Zn=this.has(an)&&delete this.__data__[an];return this.size-=Zn?1:0,Zn}function io(an){var Zn=this.__data__;if(bo){var oo=Zn[an];return oo===nt?void 0:oo}return Qn.call(Zn,an)?Zn[an]:void 0}function Io(an){var Zn=this.__data__;return bo?Zn[an]!==void 0:Qn.call(Zn,an)}function _i(an,Zn){var oo=this.__data__;return this.size+=this.has(an)?0:1,oo[an]=bo&&Zn===void 0?nt:Zn,this}no.prototype.clear=Do,no.prototype.delete=eo,no.prototype.get=io,no.prototype.has=Io,no.prototype.set=_i;function ro(an){var Zn=-1,oo=an==null?0:an.length;for(this.clear();++Zn<oo;){var Ro=an[Zn];this.set(Ro[0],Ro[1])}}function Oo(){this.__data__=[],this.size=0}function Hr(an){var Zn=this.__data__,oo=Bo(Zn,an);if(oo<0)return!1;var Ro=Zn.length-1;return oo==Ro?Zn.pop():Gr.call(Zn,oo,1),--this.size,!0}function Yr(an){var Zn=this.__data__,oo=Bo(Zn,an);return oo<0?void 0:Zn[oo][1]}function Wn(an){return Bo(this.__data__,an)>-1}function rn(an,Zn){var oo=this.__data__,Ro=Bo(oo,an);return Ro<0?(++this.size,oo.push([an,Zn])):oo[Ro][1]=Zn,this}ro.prototype.clear=Oo,ro.prototype.delete=Hr,ro.prototype.get=Yr,ro.prototype.has=Wn,ro.prototype.set=rn;function dn(an){var Zn=-1,oo=an==null?0:an.length;for(this.clear();++Zn<oo;){var Ro=an[Zn];this.set(Ro[0],Ro[1])}}function po(){this.size=0,this.__data__={hash:new no,map:new(Kn||ro),string:new no}}function Ln(an){var Zn=ho(this,an).delete(an);return this.size-=Zn?1:0,Zn}function Vn(an){return ho(this,an).get(an)}function uo(an){return ho(this,an).has(an)}function pn(an,Zn){var oo=ho(this,an),Ro=oo.size;return oo.set(an,Zn),this.size+=oo.size==Ro?0:1,this}dn.prototype.clear=po,dn.prototype.delete=Ln,dn.prototype.get=Vn,dn.prototype.has=uo,dn.prototype.set=pn;function zn(an){var Zn=this.__data__=new ro(an);this.size=Zn.size}function go(){this.__data__=new ro,this.size=0}function co(an){var Zn=this.__data__,oo=Zn.delete(an);return this.size=Zn.size,oo}function Eo(an){return this.__data__.get(an)}function To(an){return this.__data__.has(an)}function Co(an,Zn){var oo=this.__data__;if(oo instanceof ro){var Ro=oo.__data__;if(!Kn||Ro.length<et-1)return Ro.push([an,Zn]),this.size=++oo.size,this;oo=this.__data__=new dn(Ro)}return oo.set(an,Zn),this.size=oo.size,this}zn.prototype.clear=go,zn.prototype.delete=co,zn.prototype.get=Eo,zn.prototype.has=To,zn.prototype.set=Co;function Mo(an,Zn){var oo=Vl(an),Ro=!oo&&lu(an),Yo=!oo&&!Ro&&Vu(an),ga=!oo&&!Ro&&!Yo&&Hu(an),xa=oo||Ro||Yo||ga,Jo=xa?Wr(an.length,String):[],$a=Jo.length;for(var Es in an)xa&&(Es=="length"||Yo&&(Es=="offset"||Es=="parent")||ga&&(Es=="buffer"||Es=="byteLength"||Es=="byteOffset")||Ao(Es,$a))||Jo.push(Es);return Jo}function No(an,Zn,oo){(oo!==void 0&&!Ul(an[Zn],oo)||oo===void 0&&!(Zn in an))&&Po(an,Zn,oo)}function zo(an,Zn,oo){var Ro=an[Zn];(!(Qn.call(an,Zn)&&Ul(Ro,oo))||oo===void 0&&!(Zn in an))&&Po(an,Zn,oo)}function Bo(an,Zn){for(var oo=an.length;oo--;)if(Ul(an[oo][0],Zn))return oo;return-1}function Po(an,Zn,oo){Zn=="__proto__"&&Zr?Zr(an,Zn,{configurable:!0,enumerable:!0,value:oo,writable:!0}):an[Zn]=oo}var Wo=so();function Fo(an){return an==null?an===void 0?br:fr:Un&&Un in Object(an)?vo(an):ps(an)}function jo(an){return uu(an)&&Fo(an)==$t}function Uo(an){if(!Al(an)||Qo(an))return!1;var Zn=Eu(an)?sn:or;return Zn.test(Uu(an))}function Vo(an){return uu(an)&&zu(an.length)&&!!pr[Fo(an)]}function $o(an){if(!Al(an))return ts(an);var Zn=es(an),oo=[];for(var Ro in an)Ro=="constructor"&&(Zn||!Qn.call(an,Ro))||oo.push(Ro);return oo}function ko(an,Zn,oo,Ro,Yo){an!==Zn&&Wo(Zn,function(ga,xa){if(Yo||(Yo=new zn),Al(ga))Lo(an,Zn,xa,oo,ko,Ro,Yo);else{var Jo=Ro?Ro(Cl(an,xa),ga,xa+"",an,Zn,Yo):void 0;Jo===void 0&&(Jo=ga),No(an,xa,Jo)}},Wu)}function Lo(an,Zn,oo,Ro,Yo,ga,xa){var Jo=Cl(an,oo),$a=Cl(Zn,oo),Es=xa.get($a);if(Es){No(an,oo,Es);return}var vs=ga?ga(Jo,$a,oo+"",an,Zn,xa):void 0,cu=vs===void 0;if(cu){var $u=Vl($a),Cu=!$u&&Vu($a),Ku=!$u&&!Cu&&Hu($a);vs=$a,$u||Cu||Ku?Vl(Jo)?vs=Jo:Tp(Jo)?vs=Xn(Jo):Cu?(cu=!1,vs=Kr($a)):Ku?(cu=!1,vs=Jr($a)):vs=[]:Rp($a)||lu($a)?(vs=Jo,lu(Jo)?vs=kp(Jo):(!Al(Jo)||Eu(Jo))&&(vs=yo($a))):cu=!1}cu&&(xa.set($a,vs),Yo(vs,$a,Ro,ga,xa),xa.delete($a)),No(an,oo,vs)}function Ho(an,Zn){return wu($l(an,Zn,Gu),an+"")}var Xo=Zr?function(an,Zn){return Zr(an,"toString",{configurable:!0,enumerable:!1,value:Ip(Zn),writable:!0})}:Gu;function Kr(an,Zn){return an.slice()}function Dn(an){var Zn=new an.constructor(an.byteLength);return new Ir(Zn).set(new Ir(an)),Zn}function Jr(an,Zn){var oo=Dn(an.buffer);return new an.constructor(oo,an.byteOffset,an.length)}function Xn(an,Zn){var oo=-1,Ro=an.length;for(Zn||(Zn=Array(Ro));++oo<Ro;)Zn[oo]=an[oo];return Zn}function to(an,Zn,oo,Ro){var Yo=!oo;oo||(oo={});for(var ga=-1,xa=Zn.length;++ga<xa;){var Jo=Zn[ga],$a=void 0;$a===void 0&&($a=an[Jo]),Yo?Po(oo,Jo,$a):zo(oo,Jo,$a)}return oo}function Gn(an){return Ho(function(Zn,oo){var Ro=-1,Yo=oo.length,ga=Yo>1?oo[Yo-1]:void 0,xa=Yo>2?oo[2]:void 0;for(ga=an.length>3&&typeof ga=="function"?(Yo--,ga):void 0,xa&&Go(oo[0],oo[1],xa)&&(ga=Yo<3?void 0:ga,Yo=1),Zn=Object(Zn);++Ro<Yo;){var Jo=oo[Ro];Jo&&an(Zn,Jo,Ro,ga)}return Zn})}function so(an){return function(Zn,oo,Ro){for(var Yo=-1,ga=Object(Zn),xa=Ro(Zn),Jo=xa.length;Jo--;){var $a=xa[++Yo];if(oo(ga[$a],$a,ga)===!1)break}return Zn}}function ho(an,Zn){var oo=an.__data__;return Zo(Zn)?oo[typeof Zn=="string"?"string":"hash"]:oo.map}function mo(an,Zn){var oo=Vr(an,Zn);return Uo(oo)?oo:void 0}function vo(an){var Zn=Qn.call(an,Un),oo=an[Un];try{an[Un]=void 0;var Ro=!0}catch{}var Yo=$n.call(an);return Ro&&(Zn?an[Un]=oo:delete an[Un]),Yo}function yo(an){return typeof an.constructor=="function"&&!es(an)?Jn(Ar(an)):{}}function Ao(an,Zn){var oo=typeof an;return Zn=Zn??wt,!!Zn&&(oo=="number"||oo!="symbol"&&gr.test(an))&&an>-1&&an%1==0&&an<Zn}function Go(an,Zn,oo){if(!Al(oo))return!1;var Ro=typeof Zn;return(Ro=="number"?Su(oo)&&Ao(Zn,oo.length):Ro=="string"&&Zn in oo)?Ul(oo[Zn],an):!1}function Zo(an){var Zn=typeof an;return Zn=="string"||Zn=="number"||Zn=="symbol"||Zn=="boolean"?an!=="__proto__":an===null}function Qo(an){return!!nn&&nn in an}function es(an){var Zn=an&&an.constructor,oo=typeof Zn=="function"&&Zn.prototype||Xr;return an===oo}function ts(an){var Zn=[];if(an!=null)for(var oo in Object(an))Zn.push(oo);return Zn}function ps(an){return $n.call(an)}function $l(an,Zn,oo){return Zn=wo(Zn===void 0?an.length-1:Zn,0),function(){for(var Ro=arguments,Yo=-1,ga=wo(Ro.length-Zn,0),xa=Array(ga);++Yo<ga;)xa[Yo]=Ro[Zn+Yo];Yo=-1;for(var Jo=Array(Zn+1);++Yo<Zn;)Jo[Yo]=Ro[Yo];return Jo[Zn]=oo(xa),Or(an,this,Jo)}}function Cl(an,Zn){if(!(Zn==="constructor"&&typeof an[Zn]=="function")&&Zn!="__proto__")return an[Zn]}var wu=su(Xo);function su(an){var Zn=0,oo=0;return function(){var Ro=Hn(),Yo=mt-(Ro-oo);if(oo=Ro,Yo>0){if(++Zn>=at)return arguments[0]}else Zn=0;return an.apply(void 0,arguments)}}function Uu(an){if(an!=null){try{return Qr.call(an)}catch{}try{return an+""}catch{}}return""}function Ul(an,Zn){return an===Zn||an!==an&&Zn!==Zn}var lu=jo(function(){return arguments}())?jo:function(an){return uu(an)&&Qn.call(an,"callee")&&!Nr.call(an,"callee")},Vl=Array.isArray;function Su(an){return an!=null&&zu(an.length)&&!Eu(an)}function Tp(an){return uu(an)&&Su(an)}var Vu=Cn||Pp;function Eu(an){if(!Al(an))return!1;var Zn=Fo(an);return Zn==tr||Zn==ir||Zn==Dt||Zn==hr}function zu(an){return typeof an=="number"&&an>-1&&an%1==0&&an<=wt}function Al(an){var Zn=typeof an;return an!=null&&(Zn=="object"||Zn=="function")}function uu(an){return an!=null&&typeof an=="object"}function Rp(an){if(!uu(an)||Fo(an)!=dr)return!1;var Zn=Ar(an);if(Zn===null)return!0;var oo=Qn.call(Zn,"constructor")&&Zn.constructor;return typeof oo=="function"&&oo instanceof oo&&Qr.call(oo)==lo}var Hu=Er?qr(Er):Vo;function kp(an){return to(an,Wu(an))}function Wu(an){return Su(an)?Mo(an):$o(an)}var Mp=Gn(function(an,Zn,oo,Ro){ko(an,Zn,oo,Ro)});function Ip(an){return function(){return an}}function Gu(an){return an}function Pp(){return!1}a.exports=Mp})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs$2(lodash_mergewithExports);function useCallbackRef(a,s=[]){const et=reactExports.useRef(a);return reactExports.useEffect(()=>{et.current=a}),reactExports.useCallback((...nt)=>{var at;return(at=et.current)==null?void 0:at.call(et,...nt)},s)}function useEventListener(a,s,et,nt){const at=useCallbackRef(et);return reactExports.useEffect(()=>{const mt=typeof a=="function"?a():a??document;if(!(!et||!mt))return mt.addEventListener(s,at,nt),()=>{mt.removeEventListener(s,at,nt)}},[s,a,nt,at,et]),()=>{const mt=typeof a=="function"?a():a??document;mt==null||mt.removeEventListener(s,at,nt)}}function useAnimationState(a){const{isOpen:s,ref:et}=a,[nt,at]=reactExports.useState(s),[mt,wt]=reactExports.useState(!1);return reactExports.useEffect(()=>{mt||(at(s),wt(!0))},[s,mt,nt]),useEventListener(()=>et.current,"animationend",()=>{at(s)}),{present:!(s?!1:!nt),onComplete(){var Ft;const Ct=getOwnerWindow(et.current),Dt=new Ct.CustomEvent("animationend",{bubbles:!0});(Ft=et.current)==null||Ft.dispatchEvent(Dt)}}}function useControllableState(a){const{value:s,defaultValue:et,onChange:nt,shouldUpdate:at=(Ut,tr)=>Ut!==tr}=a,mt=useCallbackRef(nt),wt=useCallbackRef(at),[$t,Ct]=reactExports.useState(et),Dt=s!==void 0,Ft=Dt?s:$t,jt=useCallbackRef(Ut=>{const ir=typeof Ut=="function"?Ut(Ft):Ut;wt(Ft,ir)&&(Dt||Ct(ir),mt(ir))},[Dt,mt,Ft,wt]);return[Ft,jt]}function useDisclosure(a={}){const{onClose:s,onOpen:et,isOpen:nt,id:at}=a,mt=useCallbackRef(et),wt=useCallbackRef(s),[$t,Ct]=reactExports.useState(a.defaultIsOpen||!1),Dt=nt!==void 0?nt:$t,Ft=nt!==void 0,jt=reactExports.useId(),Ut=at??`disclosure-${jt}`,tr=reactExports.useCallback(()=>{Ft||Ct(!1),wt==null||wt()},[Ft,wt]),ir=reactExports.useCallback(()=>{Ft||Ct(!0),mt==null||mt()},[Ft,mt]),sr=reactExports.useCallback(()=>{Dt?tr():ir()},[Dt,ir,tr]);function ur(dr={}){return{...dr,"aria-expanded":Dt,"aria-controls":Ut,onClick(hr){var vr;(vr=dr.onClick)==null||vr.call(dr,hr),sr()}}}function fr(dr={}){return{...dr,hidden:!Dt,id:Ut}}return{isOpen:Dt,onOpen:ir,onClose:tr,onToggle:sr,isControlled:Ft,getButtonProps:ur,getDisclosureProps:fr}}const useSafeLayoutEffect$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,useUpdateEffect=(a,s)=>{const et=reactExports.useRef(!1),nt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(et.current&&nt.current)return a();nt.current=!0},s),reactExports.useEffect(()=>(et.current=!0,()=>{et.current=!1}),[])};function preventReturnFocus(a){const s=a.current;if(!s)return!1;const et=getActiveElement$1(s);return!et||s.contains(et)?!1:!!isTabbable(et)}function useFocusOnHide(a,s){const{shouldFocus:et,visible:nt,focusRef:at}=s,mt=et&&!nt;useUpdateEffect(()=>{if(!mt||preventReturnFocus(a))return;const wt=(at==null?void 0:at.current)||a.current;let $t;if(wt)return $t=requestAnimationFrame(()=>{wt.focus({preventScroll:!0})}),()=>{cancelAnimationFrame($t)}},[mt,a,at])}const defaultOptions$2={preventScroll:!0,shouldFocus:!1};function useFocusOnShow(a,s=defaultOptions$2){const{focusRef:et,preventScroll:nt,shouldFocus:at,visible:mt}=s,wt=isRefObject$2(a)?a.current:a,$t=at&&mt,Ct=reactExports.useRef($t),Dt=reactExports.useRef(mt);useSafeLayoutEffect$2(()=>{!Dt.current&&mt&&(Ct.current=$t),Dt.current=mt},[mt,$t]);const Ft=reactExports.useCallback(()=>{if(!(!mt||!wt||!Ct.current)&&(Ct.current=!1,!wt.contains(document.activeElement)))if(et!=null&&et.current)requestAnimationFrame(()=>{var jt;(jt=et.current)==null||jt.focus({preventScroll:nt})});else{const jt=getAllFocusable(wt);jt.length>0&&requestAnimationFrame(()=>{jt[0].focus({preventScroll:nt})})}},[mt,nt,wt,et]);useUpdateEffect(()=>{Ft()},[Ft]),useEventListener(wt,"transitionend",Ft)}function isRefObject$2(a){return"current"in a}function isRefObject$1(a){return"current"in a}const isDom=()=>typeof window<"u";function getPlatform(){const a=navigator.userAgentData;return(a==null?void 0:a.platform)??navigator.platform}const vn$1=a=>isDom()&&a.test(navigator.vendor),pt$1=a=>isDom()&&a.test(getPlatform()),isApple=()=>pt$1(/mac|iphone|ipad|ipod/i),isSafari=()=>isApple()&&vn$1(/apple/i);function useFocusOnPointerDown(a){const{ref:s,elements:et,enabled:nt}=a,at=()=>{var mt;return((mt=s.current)==null?void 0:mt.ownerDocument)??document};useEventListener(at,"pointerdown",mt=>{var Dt,Ft;if(!isSafari()||!nt)return;const wt=((Ft=(Dt=mt.composedPath)==null?void 0:Dt.call(mt))==null?void 0:Ft[0])??mt.target,Ct=(et??[s]).some(jt=>{const Ut=isRefObject$1(jt)?jt.current:jt;return(Ut==null?void 0:Ut.contains(wt))||Ut===wt});at().activeElement!==wt&&Ct&&(mt.preventDefault(),wt.focus())})}function useId(a,s){const et=reactExports.useId();return reactExports.useMemo(()=>a||[s,et].filter(Boolean).join("-"),[a,s,et])}function useIds$1(a,...s){const et=useId(a);return reactExports.useMemo(()=>s.map(nt=>`${nt}-${et}`),[et,s])}function useLatestRef(a){const s=reactExports.useRef(null);return s.current=a,s}function assignRef(a,s){if(a!=null){if(typeof a=="function"){a(s);return}try{a.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${a}'`)}}}function mergeRefs(...a){return s=>{a.forEach(et=>{assignRef(et,s)})}}function useMergeRefs(...a){return reactExports.useMemo(()=>mergeRefs(...a),a)}function useOutsideClick(a){const{ref:s,handler:et,enabled:nt=!0}=a,at=useCallbackRef(et),wt=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!nt)return;const $t=jt=>{isValidEvent(jt,s)&&(wt.isPointerDown=!0)},Ct=jt=>{if(wt.ignoreEmulatedMouseEvents){wt.ignoreEmulatedMouseEvents=!1;return}wt.isPointerDown&&et&&isValidEvent(jt,s)&&(wt.isPointerDown=!1,at(jt))},Dt=jt=>{wt.ignoreEmulatedMouseEvents=!0,et&&wt.isPointerDown&&isValidEvent(jt,s)&&(wt.isPointerDown=!1,at(jt))},Ft=getOwnerDocument$1(s.current);return Ft.addEventListener("mousedown",$t,!0),Ft.addEventListener("mouseup",Ct,!0),Ft.addEventListener("touchstart",$t,!0),Ft.addEventListener("touchend",Dt,!0),()=>{Ft.removeEventListener("mousedown",$t,!0),Ft.removeEventListener("mouseup",Ct,!0),Ft.removeEventListener("touchstart",$t,!0),Ft.removeEventListener("touchend",Dt,!0)}},[et,s,at,wt,nt])}function isValidEvent(a,s){var nt,at;const et=((nt=a.composedPath)==null?void 0:nt.call(a)[0])??a.target;return et&&!getOwnerDocument$1(et).contains(et)?!1:!((at=s.current)!=null&&at.contains(et))}function getOwnerDocument$1(a){return(a==null?void 0:a.ownerDocument)??document}function usePrevious(a){const s=reactExports.useRef(void 0);return reactExports.useEffect(()=>{s.current=a},[a]),s.current}function useTimeout(a,s){const et=useCallbackRef(a);reactExports.useEffect(()=>{if(s==null)return;let nt=null;return nt=window.setTimeout(()=>{et()},s),()=>{nt&&window.clearTimeout(nt)}},[s,et])}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?a=>window.requestAnimationFrame(a):a=>setTimeout(()=>a(getCurrentTime()),defaultTimestep);function createRenderStep$1(a){let s=[],et=[],nt=0,at=!1,mt=!1;const wt=new WeakSet,$t={schedule:(Ct,Dt=!1,Ft=!1)=>{const jt=Ft&&at,Ut=jt?s:et;return Dt&&wt.add(Ct),Ut.indexOf(Ct)===-1&&(Ut.push(Ct),jt&&at&&(nt=s.length)),Ct},cancel:Ct=>{const Dt=et.indexOf(Ct);Dt!==-1&&et.splice(Dt,1),wt.delete(Ct)},process:Ct=>{if(at){mt=!0;return}if(at=!0,[s,et]=[et,s],et.length=0,nt=s.length,nt)for(let Dt=0;Dt<nt;Dt++){const Ft=s[Dt];Ft(Ct),wt.has(Ft)&&($t.schedule(Ft),a())}at=!1,mt&&(mt=!1,$t.process(Ct))}};return $t}const maxElapsed$1=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame$1={delta:0,timestamp:0},stepsOrder$1=["read","update","preRender","render","postRender"],steps=stepsOrder$1.reduce((a,s)=>(a[s]=createRenderStep$1(()=>runNextFrame=!0),a),{}),sync=stepsOrder$1.reduce((a,s)=>{const et=steps[s];return a[s]=(nt,at=!1,mt=!1)=>(runNextFrame||startLoop(),et.schedule(nt,at,mt)),a},{}),cancelSync=stepsOrder$1.reduce((a,s)=>(a[s]=steps[s].cancel,a),{});stepsOrder$1.reduce((a,s)=>(a[s]=()=>steps[s].process(frame$1),a),{});const processStep=a=>steps[a].process(frame$1),processFrame=a=>{runNextFrame=!1,frame$1.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(a-frame$1.timestamp,maxElapsed$1),1),frame$1.timestamp=a,isProcessing=!0,stepsOrder$1.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame$1;var __defProp$7=Object.defineProperty,__defNormalProp$7=(a,s,et)=>s in a?__defProp$7(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$4=(a,s,et)=>(__defNormalProp$7(a,typeof s!="symbol"?s+"":s,et),et);class PanEvent{constructor(s,et,nt){if(__publicField$4(this,"history",[]),__publicField$4(this,"startEvent",null),__publicField$4(this,"lastEvent",null),__publicField$4(this,"lastEventInfo",null),__publicField$4(this,"handlers",{}),__publicField$4(this,"removeListeners",()=>{}),__publicField$4(this,"threshold",3),__publicField$4(this,"win"),__publicField$4(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const $t=getPanInfo$1(this.lastEventInfo,this.history),Ct=this.startEvent!==null,Dt=distance$1($t.offset,{x:0,y:0})>=this.threshold;if(!Ct&&!Dt)return;const{timestamp:Ft}=getFrameData();this.history.push({...$t.point,timestamp:Ft});const{onStart:jt,onMove:Ut}=this.handlers;Ct||(jt==null||jt(this.lastEvent,$t),this.startEvent=this.lastEvent),Ut==null||Ut(this.lastEvent,$t)}),__publicField$4(this,"onPointerMove",($t,Ct)=>{this.lastEvent=$t,this.lastEventInfo=Ct,sync.update(this.updatePoint,!0)}),__publicField$4(this,"onPointerUp",($t,Ct)=>{const Dt=getPanInfo$1(Ct,this.history),{onEnd:Ft,onSessionEnd:jt}=this.handlers;jt==null||jt($t,Dt),this.end(),!(!Ft||!this.startEvent)&&(Ft==null||Ft($t,Dt))}),this.win=s.view??window,isMultiTouchEvent(s))return;this.handlers=et,nt&&(this.threshold=nt),s.stopPropagation(),s.preventDefault();const at={point:getEventPoint(s)},{timestamp:mt}=getFrameData();this.history=[{...at.point,timestamp:mt}];const{onSessionStart:wt}=et;wt==null||wt(s,getPanInfo$1(at,this.history)),this.removeListeners=pipe$3(addPointerEvent$1(this.win,"pointermove",this.onPointerMove),addPointerEvent$1(this.win,"pointerup",this.onPointerUp),addPointerEvent$1(this.win,"pointercancel",this.onPointerUp))}updateHandlers(s){this.handlers=s}end(){var s;(s=this.removeListeners)==null||s.call(this),cancelSync.update(this.updatePoint)}}function subtract$3(a,s){return{x:a.x-s.x,y:a.y-s.y}}function getPanInfo$1(a,s){return{point:a.point,delta:subtract$3(a.point,s[s.length-1]),offset:subtract$3(a.point,s[0]),velocity:getVelocity$1(s,.1)}}const toMilliseconds=a=>a*1e3;function getVelocity$1(a,s){if(a.length<2)return{x:0,y:0};let et=a.length-1,nt=null;const at=a[a.length-1];for(;et>=0&&(nt=a[et],!(at.timestamp-nt.timestamp>toMilliseconds(s)));)et--;if(!nt)return{x:0,y:0};const mt=(at.timestamp-nt.timestamp)/1e3;if(mt===0)return{x:0,y:0};const wt={x:(at.x-nt.x)/mt,y:(at.y-nt.y)/mt};return wt.x===1/0&&(wt.x=0),wt.y===1/0&&(wt.y=0),wt}function pipe$3(...a){return s=>a.reduce((et,nt)=>nt(et),s)}function distance1D(a,s){return Math.abs(a-s)}function isPoint(a){return"x"in a&&"y"in a}function distance$1(a,s){if(typeof a=="number"&&typeof s=="number")return distance1D(a,s);if(isPoint(a)&&isPoint(s)){const et=distance1D(a.x,s.x),nt=distance1D(a.y,s.y);return Math.sqrt(et**2+nt**2)}return 0}function usePanEvent(a,s){const{onPan:et,onPanStart:nt,onPanEnd:at,onPanSessionStart:mt,onPanSessionEnd:wt,threshold:$t}=s,Ct=!!(et||nt||at||mt||wt),Dt=reactExports.useRef(null),Ft=useLatestRef({onSessionStart:mt,onSessionEnd:wt,onStart:nt,onMove:et,onEnd(jt,Ut){Dt.current=null,at==null||at(jt,Ut)}});reactExports.useEffect(()=>{var jt;(jt=Dt.current)==null||jt.updateHandlers(Ft.current)}),reactExports.useEffect(()=>{const jt=a.current;if(!jt||!Ct)return;function Ut(tr){Dt.current=new PanEvent(tr,Ft.current,$t)}return addPointerEvent$1(jt,"pointerdown",Ut)},[a,Ct,Ft,$t]),reactExports.useEffect(()=>()=>{var jt;(jt=Dt.current)==null||jt.end(),Dt.current=null},[])}const state$1={open:(a,s)=>`${a}[data-open], ${a}[open], ${a}[data-state=open] ${s}`,closed:(a,s)=>`${a}[data-closed], ${a}[data-state=closed] ${s}`,hover:(a,s)=>`${a}:hover ${s}, ${a}[data-hover] ${s}`,focus:(a,s)=>`${a}:focus ${s}, ${a}[data-focus] ${s}`,focusVisible:(a,s)=>`${a}:focus-visible ${s}`,focusWithin:(a,s)=>`${a}:focus-within ${s}`,active:(a,s)=>`${a}:active ${s}, ${a}[data-active] ${s}`,disabled:(a,s)=>`${a}:disabled ${s}, ${a}[data-disabled] ${s}`,invalid:(a,s)=>`${a}:invalid ${s}, ${a}[data-invalid] ${s}`,checked:(a,s)=>`${a}:checked ${s}, ${a}[data-checked] ${s}`,placeholderShown:(a,s)=>`${a}:placeholder-shown ${s}`},toGroup=a=>merge$2(s=>a(s,"&"),"[role=group]","[data-group]",".group"),toPeer=a=>merge$2(s=>a(s,"~ &"),"[data-peer]",".peer"),merge$2=(a,...s)=>s.map(a).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:toGroup(state$1.open),_groupClosed:toGroup(state$1.closed),_groupHover:toGroup(state$1.hover),_peerHover:toPeer(state$1.hover),_groupFocus:toGroup(state$1.focus),_peerFocus:toPeer(state$1.focus),_groupFocusVisible:toGroup(state$1.focusVisible),_peerFocusVisible:toPeer(state$1.focusVisible),_groupActive:toGroup(state$1.active),_peerActive:toPeer(state$1.active),_groupDisabled:toGroup(state$1.disabled),_peerDisabled:toPeer(state$1.disabled),_groupInvalid:toGroup(state$1.invalid),_peerInvalid:toPeer(state$1.invalid),_groupChecked:toGroup(state$1.checked),_peerChecked:toPeer(state$1.checked),_groupFocusWithin:toGroup(state$1.focusWithin),_peerFocusWithin:toPeer(state$1.focusWithin),_peerPlaceholderShown:toPeer(state$1.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},pseudoPropNames=Object.keys(pseudoSelectors),isImportant=a=>/!(important)?$/.test(a),withoutImportant=a=>typeof a=="string"?a.replace(/!(important)?$/,"").trim():a,tokenToCSSVar=(a,s)=>et=>{const nt=String(s),at=isImportant(nt),mt=withoutImportant(nt),wt=a?`${a}.${mt}`:mt;let $t=isObject$3(et.__cssMap)&&wt in et.__cssMap?et.__cssMap[wt].varRef:s;return $t=withoutImportant($t),at?`${$t} !important`:$t};function createTransform(a){const{scale:s,transform:et,compose:nt}=a;return(mt,wt)=>{const $t=tokenToCSSVar(s,mt)(wt);let Ct=(et==null?void 0:et($t,wt))??$t;return nt&&(Ct=nt(Ct,wt)),Ct}}const pipe$2=(...a)=>s=>a.reduce((et,nt)=>nt(et),s);function toConfig(a,s){return et=>{const nt={property:et,scale:a};return nt.transform=createTransform({scale:a,transform:s}),nt}}const getRtl=({rtl:a,ltr:s})=>et=>et.direction==="rtl"?a:s;function logical(a){const{property:s,scale:et,transform:nt}=a;return{scale:et,property:getRtl(s),transform:et?createTransform({scale:et,compose:nt}):nt}}const transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}const filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(a){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":a,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=a=>a.trim();function parseGradient(a,s){if(a==null||globalSet.has(a))return a;if(!(isCSSFunction(a)||globalSet.has(a)))return`url('${a}')`;const at=/(^[a-z-A-Z]+)\((.*)\)/g.exec(a),mt=at==null?void 0:at[1],wt=at==null?void 0:at[2];if(!mt||!wt)return a;const $t=mt.includes("-gradient")?mt:`${mt}-gradient`,[Ct,...Dt]=wt.split(",").map(trimSpace).filter(Boolean);if((Dt==null?void 0:Dt.length)===0)return a;const Ft=Ct in directionMap?directionMap[Ct]:Ct;Dt.unshift(Ft);const jt=Dt.map(Ut=>{if(valueSet.has(Ut))return Ut;const tr=Ut.indexOf(" "),[ir,sr]=tr!==-1?[Ut.substr(0,tr),Ut.substr(tr+1)]:[Ut],ur=isCSSFunction(sr)?sr:sr&&sr.split(" "),fr=`colors.${ir}`,dr=fr in s.__cssMap?s.__cssMap[fr].varRef:ir;return ur?[dr,...Array.isArray(ur)?ur:[ur]].join(" "):dr});return`${$t}(${jt.join(", ")})`}const isCSSFunction=a=>typeof a=="string"&&a.includes("(")&&a.includes(")"),gradientTransform=(a,s)=>parseGradient(a,s??{});function isCssVar$1(a){return/^var\(--.+\)$/.test(a)}const analyzeCSSValue=a=>{const s=parseFloat(a.toString()),et=a.toString().replace(String(s),"");return{unitless:!et,value:s,unit:et}},wrap=a=>s=>`${a}(${s})`,transformFunctions={filter(a){return a!=="auto"?a:filterTemplate},backdropFilter(a){return a!=="auto"?a:backdropFilterTemplate},ring(a){return getRingTemplate(transformFunctions.px(a))},bgClip(a){return a==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:a}},transform(a){return a==="auto"?getTransformTemplate():a==="auto-gpu"?getTransformGpuTemplate():a},vh(a){return a==="$100vh"?"var(--chakra-vh)":a},px(a){if(a==null)return a;const{unitless:s}=analyzeCSSValue(a);return s||typeof a=="number"?`${a}px`:a},fraction(a){return typeof a!="number"||a>1?a:`${a*100}%`},float(a,s){const et={left:"right",right:"left"};return s.direction==="rtl"?et[a]:a},degree(a){if(isCssVar$1(a)||a==null)return a;const s=typeof a=="string"&&!a.endsWith("deg");return typeof a=="number"||s?`${a}deg`:a},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:a=>wrap("hue-rotate")(transformFunctions.degree(a)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(a){return a==null||isCSSFunction(a)||globalSet.has(a)?a:`url(${a})`},outline(a){const s=String(a)==="0"||String(a)==="none";return a!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:a}},flexDirection(a){const{space:s,divide:et}=flexDirectionTemplate[a]??{},nt={flexDirection:a};return s&&(nt[s]=1),et&&(nt[et]=1),nt}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(a){return{property:a,transform:transformFunctions.degree}},prop(a,s,et){return{property:a,scale:s,...s&&{transform:createTransform({scale:s,transform:et})}}},propT(a,s){return{property:a,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});const border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});const color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke"),accentColor:t$1.colors("accentColor"),textFillColor:t$1.colors("textFillColor")},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});const layout$1={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(a,s)=>{var at,mt;return{[`@media screen and (min-width: ${((mt=(at=s.__breakpoints)==null?void 0:at.get(a))==null?void 0:mt.minW)??a})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(a,s)=>{var at,mt;return{[`@media screen and (max-width: ${((mt=(at=s.__breakpoints)==null?void 0:at.get(a))==null?void 0:mt._minW)??a})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});const filter$1={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function get$3(a,s,et,nt){const at=typeof s=="string"?s.split("."):[s];for(nt=0;nt<at.length&&a;nt+=1)a=a[at[nt]];return a===void 0?et:a}const memoize$2=a=>{const s=new WeakMap;return(nt,at,mt,wt)=>{if(typeof nt>"u")return a(nt,at,mt);s.has(nt)||s.set(nt,new Map);const $t=s.get(nt);if($t.has(at))return $t.get(at);const Ct=a(nt,at,mt,wt);return $t.set(at,Ct),Ct}},memoizedGet=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(a,s,et)=>{const nt={},at=memoizedGet(a,s,{});for(const mt in at)mt in et&&et[mt]!=null||(nt[mt]=at[mt]);return nt},others={srOnly:{transform(a){return a===!0?srOnly:a==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(a,s,et)=>getWithPriority(s,`layerStyles.${a}`,et)},textStyle:{processResult:!0,transform:(a,s,et)=>getWithPriority(s,`textStyles.${a}`,et)},apply:{processResult:!0,transform:(a,s,et)=>getWithPriority(s,a,et)}},position$1={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});const effect$3={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect$3,{shadow:effect$3.boxShadow});const space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});const scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},typography$2={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(a){if(a===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform$1={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},list={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$1,ring,interactivity,grid,others,position$1,effect$3,space,scroll,typography$2,textDecoration,transform$1,list,transition$1);Object.assign({},space,layout$1,flexbox,grid,position$1);const propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=a=>a in styleProps,expandResponsive=a=>s=>{if(!s.__breakpoints)return a;const{isResponsive:et,toArrayValue:nt,media:at}=s.__breakpoints,mt={};for(const wt in a){let $t=runIfFn$1(a[wt],s);if($t==null)continue;if($t=isObject$3($t)&&et($t)?nt($t):$t,!Array.isArray($t)){mt[wt]=$t;continue}const Ct=$t.slice(0,at.length).length;for(let Dt=0;Dt<Ct;Dt+=1){const Ft=at==null?void 0:at[Dt];if(!Ft){mt[wt]=$t[Dt];continue}mt[Ft]=mt[Ft]||{},$t[Dt]!=null&&(mt[Ft][wt]=$t[Dt])}}return mt};function splitByComma(a){const s=[];let et="",nt=!1;for(let at=0;at<a.length;at++){const mt=a[at];mt==="("?(nt=!0,et+=mt):mt===")"?(nt=!1,et+=mt):mt===","&&!nt?(s.push(et),et=""):et+=mt}return et=et.trim(),et&&s.push(et),s}function isCssVar(a){return/^var\(--.+\)$/.test(a)}const isCSSVariableTokenValue=(a,s)=>a.startsWith("--")&&typeof s=="string"&&!isCssVar(s),resolveTokenValue=(a,s)=>{if(s==null)return s;const et=wt=>{var $t,Ct;return(Ct=($t=a.__cssMap)==null?void 0:$t[wt])==null?void 0:Ct.varRef},nt=wt=>et(wt)??wt,[at,mt]=splitByComma(s);return s=et(at)??nt(mt)??nt(s),s};function getCss(a){const{configs:s={},pseudos:et={},theme:nt}=a,at=(mt,wt=!1)=>{var Ft;const $t=runIfFn$1(mt,nt),Ct=expandResponsive($t)(nt);let Dt={};for(let jt in Ct){const Ut=Ct[jt];let tr=runIfFn$1(Ut,nt);jt in et&&(jt=et[jt]),isCSSVariableTokenValue(jt,tr)&&(tr=resolveTokenValue(nt,tr));let ir=s[jt];if(ir===!0&&(ir={property:jt}),isObject$3(tr)){Dt[jt]=Dt[jt]??{},Dt[jt]=mergeWith({},Dt[jt],at(tr,!0));continue}let sr=((Ft=ir==null?void 0:ir.transform)==null?void 0:Ft.call(ir,tr,nt,$t))??tr;sr=ir!=null&&ir.processResult?at(sr,!0):sr;const ur=runIfFn$1(ir==null?void 0:ir.property,nt);if(!wt&&(ir!=null&&ir.static)){const fr=runIfFn$1(ir.static,nt);Dt=mergeWith({},Dt,fr)}if(ur&&Array.isArray(ur)){for(const fr of ur)Dt[fr]=sr;continue}if(ur){ur==="&"&&isObject$3(sr)?Dt=mergeWith({},Dt,sr):Dt[ur]=sr;continue}if(isObject$3(sr)){Dt=mergeWith({},Dt,sr);continue}Dt[jt]=sr}return Dt};return at}const css$2=a=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(a);function defineStyle(a){return a}function defineStyleConfig(a){return a}function createMultiStyleConfigHelpers(a){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:a,...s}}}}function getCSSVar(a,s,et){var nt,at;return((at=(nt=a.__cssMap)==null?void 0:nt[`${s}.${et}`])==null?void 0:at.varRef)??et}function normalize$3(a,s){if(Array.isArray(a))return a;if(isObject$3(a))return s(a);if(a!=null)return[a]}function getNextIndex$1(a,s){for(let et=s+1;et<a.length;et++)if(a[et]!=null)return et;return-1}function createResolver(a){const s=a.__breakpoints;return function(nt,at,mt,wt){var Ut,tr;if(!s)return;const $t={},Ct=normalize$3(mt,s.toArrayValue);if(!Ct)return $t;const Dt=Ct.length,Ft=Dt===1,jt=!!nt.parts;for(let ir=0;ir<Dt;ir++){const sr=s.details[ir],ur=s.details[getNextIndex$1(Ct,ir)],fr=toMediaQueryString(sr.minW,ur==null?void 0:ur._minW),dr=runIfFn$1((Ut=nt[at])==null?void 0:Ut[Ct[ir]],wt);if(dr){if(jt){(tr=nt.parts)==null||tr.forEach(hr=>{mergeWith($t,{[hr]:Ft?dr[hr]:{[fr]:dr[hr]}})});continue}if(!jt){Ft?mergeWith($t,dr):$t[fr]=dr;continue}$t[fr]=dr}}return $t}}function resolveStyleConfig(a){return s=>{const{variant:et,size:nt,theme:at}=s,mt=createResolver(at);return mergeWith({},runIfFn$1(a.baseStyle??{},s),mt(a,"sizes",nt,s),mt(a,"variants",et,s))}}function omitThemingProps(a){return omit(a,["styleConfig","size","variant","colorScheme"])}function resolveReference(a){return isObject$3(a)&&a.reference?a.reference:String(a)}const toExpression=(a,...s)=>s.map(resolveReference).join(` ${a} `).replace(/calc/g,""),add$4=(...a)=>`calc(${toExpression("+",...a)})`,subtract$2=(...a)=>`calc(${toExpression("-",...a)})`,multiply$2=(...a)=>`calc(${toExpression("*",...a)})`,divide$4=(...a)=>`calc(${toExpression("/",...a)})`,negate$1=a=>{const s=resolveReference(a);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$2(s,-1)},calc$1=Object.assign(a=>({add:(...s)=>calc$1(add$4(a,...s)),subtract:(...s)=>calc$1(subtract$2(a,...s)),multiply:(...s)=>calc$1(multiply$2(a,...s)),divide:(...s)=>calc$1(divide$4(a,...s)),negate:()=>calc$1(negate$1(a)),toString:()=>a.toString()}),{add:add$4,subtract:subtract$2,multiply:multiply$2,divide:divide$4,negate:negate$1});function replaceWhiteSpace$1(a,s="-"){return a.replace(/\s+/g,s)}function escape$3(a){const s=replaceWhiteSpace$1(a.toString());return escapeSymbol(escapeDot(s))}function escapeDot(a){return a.includes("\\.")?a:!Number.isInteger(parseFloat(a.toString()))?a.replace(".","\\."):a}function escapeSymbol(a){return a.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(a,s=""){return[s,a].filter(Boolean).join("-")}function toVarReference(a,s){return`var(${a}${s?`, ${s}`:""})`}function toVarDefinition(a,s=""){return escape$3(`--${addPrefix$1(a,s)}`)}function cssVar$1(a,s,et){const nt=toVarDefinition(a,et);return{variable:nt,reference:toVarReference(nt,s)}}function defineCssVars(a,s){const et={};for(const nt of s){if(Array.isArray(nt)){const[at,mt]=nt;et[at]=cssVar$1(`${a}-${at}`,mt);continue}et[nt]=cssVar$1(`${a}-${nt}`)}return et}const tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(a){return pick(a,tokens)}function extractSemanticTokens(a){return a.semanticTokens}function omitVars(a){const{__cssMap:s,__cssVars:et,__breakpoints:nt,...at}=a;return at}function flattenTokens(a){const s=extractTokens(a),et=extractSemanticTokens(a),nt=mt=>pseudoPropNames.includes(mt)||mt==="default",at={};return walkObject(s,(mt,wt)=>{mt!=null&&(at[wt.join(".")]={isSemantic:!1,value:mt})}),walkObject(et,(mt,wt)=>{mt!=null&&(at[wt.join(".")]={isSemantic:!0,value:mt})},{stop:mt=>Object.keys(mt).every(nt)}),at}function tokenToCssVar(a,s){return cssVar$1(String(a).replace(/\./g,"-"),void 0,s)}function createThemeVars(a){var wt;const s=flattenTokens(a),et=(wt=a.config)==null?void 0:wt.cssVarPrefix;let nt={};const at={};function mt($t,Ct){const Ft=[String($t).split(".")[0],Ct].join(".");if(!s[Ft])return Ct;const{reference:Ut}=tokenToCssVar(Ft,et);return Ut}for(const[$t,Ct]of Object.entries(s)){const{isSemantic:Dt,value:Ft}=Ct,{variable:jt,reference:Ut}=tokenToCssVar($t,et);if(!Dt){if($t.startsWith("space")){const ir=$t.split("."),[sr,...ur]=ir,fr=`${sr}.-${ur.join(".")}`,dr=calc$1.negate(Ft),hr=calc$1.negate(Ut);at[fr]={value:dr,var:jt,varRef:hr}}nt[jt]=Ft,at[$t]={value:Ft,var:jt,varRef:Ut};continue}const tr=isObject$3(Ft)?Ft:{default:Ft};nt=mergeWith(nt,Object.entries(tr).reduce((ir,[sr,ur])=>{if(!ur)return ir;const fr=mt($t,`${ur}`);if(sr==="default")return ir[jt]=fr,ir;const dr=(pseudoSelectors==null?void 0:pseudoSelectors[sr])??sr;return ir[dr]={[jt]:fr},ir},{})),at[$t]={value:Ut,var:jt,varRef:Ut}}return{cssVars:nt,cssMap:at}}function toCSSVar(a){const s=omitVars(a),{cssMap:et,cssVars:nt}=createThemeVars(s);return Object.assign(s,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...nt},__cssMap:et,__breakpoints:analyzeBreakpoints(s.breakpoints)}),s}function anatomy(a,s={}){let et=!1;function nt(){if(!et){et=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function at(...Ft){nt();for(const jt of Ft)s[jt]=Ct(jt);return anatomy(a,s)}function mt(...Ft){for(const jt of Ft)jt in s||(s[jt]=Ct(jt));return anatomy(a,s)}function wt(){return Object.fromEntries(Object.entries(s).map(([jt,Ut])=>[jt,Ut.selector]))}function $t(){return Object.fromEntries(Object.entries(s).map(([jt,Ut])=>[jt,Ut.className]))}function Ct(Ft){const tr=`chakra-${(["container","root"].includes(Ft??"")?[a]:[a,Ft]).filter(Boolean).join("__")}`;return{className:tr,selector:`.${tr}`,toString:()=>Ft}}return{parts:at,toPart:Ct,extend:mt,selectors:wt,classnames:$t,get keys(){return Object.keys(s)},__type:{}}}const accordionAnatomy=anatomy("accordion").parts("root","container","button","panel","icon"),alertAnatomy=anatomy("alert").parts("title","description","container","icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container","excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container","separator");anatomy("button").parts();const checkboxAnatomy=anatomy("checkbox").parts("control","icon","container","label");anatomy("progress").parts("track","filledTrack","label");const drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item","groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");const popoverAnatomy=anatomy("popover").parts("content","header","body","footer","popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$4={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon$6={fontSize:"1.25em"},baseStyle$H=definePartsStyle$p({container:baseStyleContainer$4,button:baseStyleButton$1,panel:baseStylePanel,icon:baseStyleIcon$6}),accordionTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$H});function guard(a,s,et){return Math.min(Math.max(a,et),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(a){if(typeof a!="string")throw new ColorError$1(a);if(a.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=a.trim();s=namedColorRegex.test(a)?nameToHex(a):a;const et=reducedHexRegex.exec(s);if(et){const wt=Array.from(et).slice(1);return[...wt.slice(0,3).map($t=>parseInt(r$3($t,2),16)),parseInt(r$3(wt[3]||"f",2),16)/255]}const nt=hexRegex.exec(s);if(nt){const wt=Array.from(nt).slice(1);return[...wt.slice(0,3).map($t=>parseInt($t,16)),parseInt(wt[3]||"ff",16)/255]}const at=rgbaRegex.exec(s);if(at){const wt=Array.from(at).slice(1);return[...wt.slice(0,3).map($t=>parseInt($t,10)),parseFloat(wt[3]||"1")]}const mt=hslaRegex.exec(s);if(mt){const[wt,$t,Ct,Dt]=Array.from(mt).slice(1).map(parseFloat);if(guard(0,100,$t)!==$t)throw new ColorError$1(a);if(guard(0,100,Ct)!==Ct)throw new ColorError$1(a);return[...hslToRgb(wt,$t,Ct),Number.isNaN(Dt)?1:Dt]}throw new ColorError$1(a)}function hash$5(a){let s=5381,et=a.length;for(;et;)s=s*33^a.charCodeAt(--et);return(s>>>0)%2341}const colorToInt=a=>parseInt(a.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((a,s)=>{const et=colorToInt(s.substring(0,3)),nt=colorToInt(s.substring(3)).toString(16);let at="";for(let mt=0;mt<6-nt.length;mt++)at+="0";return a[et]=`${at}${nt}`,a},{});function nameToHex(a){const s=a.toLowerCase().trim(),et=compressedColorMap[hash$5(s)];if(!et)throw new ColorError$1(a);return`#${et}`}const r$3=(a,s)=>Array.from(Array(s)).map(()=>a).join(""),reducedHexRegex=new RegExp(`^#${r$3("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$3("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$3(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=a=>Math.round(a*255),hslToRgb=(a,s,et)=>{let nt=et/100;if(s===0)return[nt,nt,nt].map(roundColor);const at=(a%360+360)%360/60,mt=(1-Math.abs(2*nt-1))*(s/100),wt=mt*(1-Math.abs(at%2-1));let $t=0,Ct=0,Dt=0;at>=0&&at<1?($t=mt,Ct=wt):at>=1&&at<2?($t=wt,Ct=mt):at>=2&&at<3?(Ct=mt,Dt=wt):at>=3&&at<4?(Ct=wt,Dt=mt):at>=4&&at<5?($t=wt,Dt=mt):at>=5&&at<6&&($t=mt,Dt=wt);const Ft=nt-mt/2,jt=$t+Ft,Ut=Ct+Ft,tr=Dt+Ft;return[jt,Ut,tr].map(roundColor)};function rgba$1(a,s,et,nt){return`rgba(${guard(0,255,a).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,et).toFixed()}, ${parseFloat(guard(0,1,nt).toFixed(3))})`}function transparentize$1(a,s){const[et,nt,at,mt]=parseToRgba(a);return rgba$1(et,nt,at,mt-s)}function toHex$1(a){const[s,et,nt,at]=parseToRgba(a);let mt=wt=>{const $t=guard(0,255,wt).toString(16);return $t.length===1?`0${$t}`:$t};return`#${mt(s)}${mt(et)}${mt(nt)}${at<1?mt(Math.round(at*255)):""}`}const isEmptyObject$2=a=>Object.keys(a).length===0;function get$2(a,s,et,nt,at){for(s=s.split?s.split("."):s,nt=0;nt<s.length;nt++)a=a?a[s[nt]]:at;return a===at?et:a}const getColor=(a,s,et)=>{const nt=get$2(a,`colors.${s}`,s);try{return toHex$1(nt),nt}catch{return et??"#000000"}},getBrightness=a=>{const[s,et,nt]=parseToRgba(a);return(s*299+et*587+nt*114)/1e3},tone=a=>s=>{const et=getColor(s,a);return getBrightness(et)<128?"dark":"light"},isDark=a=>s=>tone(a)(s)==="dark",transparentize=(a,s)=>et=>{const nt=getColor(et,a);return transparentize$1(nt,1-s)};function generateStripe(a="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${a} ${a}`}}const randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(a){const s=randomHex();return!a||isEmptyObject$2(a)?s:a.string&&a.colors?randomColorFromList(a.string,a.colors):a.string&&!a.colors?randomColorFromString(a.string):a.colors&&!a.string?randomFromList(a.colors):s}function randomColorFromString(a){let s=0;if(a.length===0)return s.toString();for(let nt=0;nt<a.length;nt+=1)s=a.charCodeAt(nt)+((s<<5)-s),s=s&s;let et="#";for(let nt=0;nt<3;nt+=1){const at=s>>nt*8&255;et+=`00${at.toString(16)}`.substr(-2)}return et}function randomColorFromList(a,s){let et=0;if(a.length===0)return s[0];for(let nt=0;nt<a.length;nt+=1)et=a.charCodeAt(nt)+((et<<5)-et),et=et&et;return et=(et%s.length+s.length)%s.length,s[et]}function randomFromList(a){return a[Math.floor(Math.random()*a.length)]}function mode(a,s){return et=>et.colorMode==="dark"?s:a}function orient$2(a){const{orientation:s,vertical:et,horizontal:nt}=a;return s?s==="vertical"?et:nt:{}}function toRef(a){return isObject$3(a)&&a.reference?a.reference:String(a)}const toExpr=(a,...s)=>s.map(toRef).join(` ${a} `).replace(/calc/g,""),add$3=(...a)=>`calc(${toExpr("+",...a)})`,subtract$1=(...a)=>`calc(${toExpr("-",...a)})`,multiply$1=(...a)=>`calc(${toExpr("*",...a)})`,divide$3=(...a)=>`calc(${toExpr("/",...a)})`,negate=a=>{const s=toRef(a);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc=Object.assign(a=>({add:(...s)=>calc(add$3(a,...s)),subtract:(...s)=>calc(subtract$1(a,...s)),multiply:(...s)=>calc(multiply$1(a,...s)),divide:(...s)=>calc(divide$3(a,...s)),negate:()=>calc(negate(a)),toString:()=>a.toString()}),{add:add$3,subtract:subtract$1,multiply:multiply$1,divide:divide$3,negate});function isDecimal$2(a){return!Number.isInteger(parseFloat(a.toString()))}function replaceWhiteSpace(a,s="-"){return a.replace(/\s+/g,s)}function escape$2(a){const s=replaceWhiteSpace(a.toString());return s.includes("\\.")?a:isDecimal$2(a)?s.replace(".","\\."):a}function addPrefix(a,s=""){return[s,escape$2(a)].filter(Boolean).join("-")}function toVarRef(a,s){return`var(${escape$2(a)}${s?`, ${s}`:""})`}function toVar$1(a,s=""){return`--${addPrefix(a,s)}`}function cssVar(a,s){const et=toVar$1(a,s==null?void 0:s.prefix);return{variable:et,reference:toVarRef(et,getFallback(s==null?void 0:s.fallback))}}function getFallback(a){return a==null?void 0:a.reference}const{definePartsStyle:definePartsStyle$o,defineMultiStyleConfig:defineMultiStyleConfig$o}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg$5=cssVar$1("alert-fg"),$bg$f=cssVar$1("alert-bg"),baseStyle$G=definePartsStyle$o({container:{bg:$bg$f.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(a){const{theme:s,colorScheme:et}=a,nt=transparentize(`${et}.200`,.16)(s);return{light:`colors.${et}.100`,dark:nt}}const variantSubtle$1=definePartsStyle$o(a=>{const{colorScheme:s}=a,et=getBg(a);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:et.dark}}}}),variantLeftAccent=definePartsStyle$o(a=>{const{colorScheme:s}=a,et=getBg(a);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:et.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg$5.reference}}}),variantTopAccent=definePartsStyle$o(a=>{const{colorScheme:s}=a,et=getBg(a);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:et.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg$5.reference}}}),variantSolid$3=definePartsStyle$o(a=>{const{colorScheme:s}=a;return{container:{[$fg$5.variable]:"colors.white",[$bg$f.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:"colors.gray.900",[$bg$f.variable]:`colors.${s}.200`},color:$fg$5.reference}}}),variants$g={subtle:variantSubtle$1,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid$3},alertTheme$1=defineMultiStyleConfig$o({baseStyle:baseStyle$G,variants:variants$g,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},isFunction$3=a=>typeof a=="function";function runIfFn(a,...s){return isFunction$3(a)?a(...s):a}const{definePartsStyle:definePartsStyle$n,defineMultiStyleConfig:defineMultiStyleConfig$n}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border$3=cssVar$1("avatar-border-color"),$bg$e=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size$4=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border$3.reference,[$border$3.variable]:"white",_dark:{[$border$3.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg$e.reference,fontSize:$fs.reference,width:$size$4.reference,height:$size$4.reference,lineHeight:"1",[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"}},baseStyleContainer$3=a=>{const{name:s,theme:et}=a,nt=s?randomColor({string:s}):"colors.gray.400",at=isDark(nt)(et);let mt="white";return at||(mt="gray.800"),{bg:$bg$e.reference,fontSize:$fs.reference,color:mt,borderColor:$border$3.reference,verticalAlign:"top",width:$size$4.reference,height:$size$4.reference,"&:not([data-loaded])":{[$bg$e.variable]:nt},[$border$3.variable]:"colors.white",_dark:{[$border$3.variable]:"colors.gray.800"}}},baseStyleLabel$4={fontSize:$fs.reference,lineHeight:"1"},baseStyle$F=definePartsStyle$n(a=>({badge:runIfFn(baseStyleBadge,a),excessLabel:runIfFn(baseStyleExcessLabel,a),container:runIfFn(baseStyleContainer$3,a),label:baseStyleLabel$4}));function getSize$3(a){const s=a!=="100%"?sizes$m[a]:void 0;return definePartsStyle$n({container:{[$size$4.variable]:s??a,[$fs.variable]:`calc(${s??a} / 2.5)`},excessLabel:{[$size$4.variable]:s??a,[$fs.variable]:`calc(${s??a} / 2.5)`}})}const sizes$l={"2xs":getSize$3(4),xs:getSize$3(6),sm:getSize$3(8),md:getSize$3(12),lg:getSize$3(16),xl:getSize$3(24),"2xl":getSize$3(32),full:getSize$3("100%")},avatarTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$F,sizes:sizes$l,defaultProps:{size:"md"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$E={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$2=a=>{const{colorScheme:s,theme:et}=a,nt=transparentize(`${s}.500`,.6)(et);return{[vars.bg.variable]:`colors.${s}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:nt,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle=a=>{const{colorScheme:s,theme:et}=a,nt=transparentize(`${s}.200`,.16)(et);return{[vars.bg.variable]:`colors.${s}.100`,[vars.color.variable]:`colors.${s}.800`,_dark:{[vars.bg.variable]:nt,[vars.color.variable]:`colors.${s}.200`}}},variantOutline$2=a=>{const{colorScheme:s,theme:et}=a,nt=transparentize(`${s}.200`,.8)(et);return{[vars.color.variable]:`colors.${s}.500`,_dark:{[vars.color.variable]:nt},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$f={solid:variantSolid$2,subtle:variantSubtle,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$E,variants:variants$f,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$D=definePartsStyle$m({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$D}),baseStyle$C={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=a=>{const{colorScheme:s,theme:et}=a;if(s==="gray")return{color:mode("gray.800","whiteAlpha.900")(a),_hover:{bg:mode("gray.100","whiteAlpha.200")(a)},_active:{bg:mode("gray.200","whiteAlpha.300")(a)}};const nt=transparentize(`${s}.200`,.12)(et),at=transparentize(`${s}.200`,.24)(et);return{color:mode(`${s}.600`,`${s}.200`)(a),bg:"transparent",_hover:{bg:mode(`${s}.50`,nt)(a)},_active:{bg:mode(`${s}.100`,at)(a)}}},variantOutline$1=a=>{const{colorScheme:s}=a,et=mode("gray.200","whiteAlpha.300")(a);return{border:"1px solid",borderColor:s==="gray"?et:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn(variantGhost,a)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$1=a=>{const{colorScheme:s}=a;if(s==="gray"){const $t=mode("gray.100","whiteAlpha.200")(a);return{bg:$t,color:mode("gray.800","whiteAlpha.900")(a),_hover:{bg:mode("gray.200","whiteAlpha.300")(a),_disabled:{bg:$t}},_active:{bg:mode("gray.300","whiteAlpha.400")(a)}}}const{bg:et=`${s}.500`,color:nt="white",hoverBg:at=`${s}.600`,activeBg:mt=`${s}.700`}=accessibleColorMap[s]??{},wt=mode(et,`${s}.200`)(a);return{bg:wt,color:mode(nt,"gray.800")(a),_hover:{bg:mode(at,`${s}.300`)(a),_disabled:{bg:wt}},_active:{bg:mode(mt,`${s}.400`)(a)}}},variantLink=a=>{const{colorScheme:s}=a;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(a),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(a)}}},variantUnstyled$2={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$e={ghost:variantGhost,outline:variantOutline$1,solid:variantSolid$1,link:variantLink,unstyled:variantUnstyled$2},sizes$k={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme$1={baseStyle:baseStyle$C,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$l,defineMultiStyleConfig:defineMultiStyleConfig$l}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$d=cssVar$1("card-bg"),$padding$1=cssVar$1("card-padding"),$shadow$3=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$2=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$B=definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-body-bg",backgroundColor:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$2.reference,borderColor:$borderColor.reference},body:{padding:$padding$1.reference,flex:"1 1 0%"},header:{padding:$padding$1.reference},footer:{padding:$padding$1.reference}}),sizes$j={sm:definePartsStyle$l({container:{[$radius.variable]:"radii.base",[$padding$1.variable]:"space.3"}}),md:definePartsStyle$l({container:{[$radius.variable]:"radii.md",[$padding$1.variable]:"space.5"}}),lg:definePartsStyle$l({container:{[$radius.variable]:"radii.xl",[$padding$1.variable]:"space.7"}})},variants$d={elevated:definePartsStyle$l({container:{[$shadow$3.variable]:"shadows.base",_dark:{[$bg$d.variable]:"colors.gray.700"}}}),outline:definePartsStyle$l({container:{[$border$2.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding$1.variable]:0},header:{[$padding$1.variable]:0},footer:{[$padding$1.variable]:0}}},cardTheme$1=defineMultiStyleConfig$l({baseStyle:baseStyle$B,variants:variants$d,sizes:sizes$j,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=a=>{const{colorScheme:s}=a;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(a),borderColor:mode(`${s}.500`,`${s}.200`)(a),color:mode("white","gray.900")(a),_hover:{bg:mode(`${s}.600`,`${s}.300`)(a),borderColor:mode(`${s}.600`,`${s}.300`)(a)},_disabled:{borderColor:mode("gray.200","transparent")(a),bg:mode("gray.200","whiteAlpha.300")(a),color:mode("gray.500","whiteAlpha.500")(a)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(a),borderColor:mode(`${s}.500`,`${s}.200`)(a),color:mode("white","gray.900")(a)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(a),borderColor:mode("gray.100","transparent")(a)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(a)}}},baseStyleContainer$2={_disabled:{cursor:"not-allowed"}},baseStyleLabel$3={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$A=definePartsStyle$k(a=>({icon:baseStyleIcon$5,container:baseStyleContainer$2,control:runIfFn(baseStyleControl$1,a),label:baseStyleLabel$3})),sizes$i={sm:definePartsStyle$k({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$k({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$k({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme$1=defineMultiStyleConfig$k({baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("close-button-size"),$bg$c=cssVar("close-button-bg"),baseStyle$z={w:[$size$2.reference],h:[$size$2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$c.variable]:"colors.blackAlpha.100",_dark:{[$bg$c.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$c.variable]:"colors.blackAlpha.200",_dark:{[$bg$c.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$c.reference},sizes$h={lg:{[$size$2.variable]:"sizes.10",fontSize:"md"},md:{[$size$2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$z,sizes:sizes$h,defaultProps:{size:"md"}},{variants:variants$c,defaultProps}=badgeTheme,baseStyle$y={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$y,variants:variants$c,defaultProps},baseStyle$x={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$x},baseStyle$w={opacity:.6,borderColor:"inherit"},variantSolid={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$b={solid:variantSolid,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$w,variants:variants$b,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$j,defineMultiStyleConfig:defineMultiStyleConfig$j}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$b=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$2(a){return definePartsStyle$j(a==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:a}})}const baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog$1=a=>{const{isFullHeight:s}=a;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$b.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$b.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$b.reference,boxShadow:$bs.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$3={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter$2={px:"6",py:"4"},baseStyle$v=definePartsStyle$j(a=>({overlay:baseStyleOverlay$1,dialogContainer:baseStyleDialogContainer$1,dialog:runIfFn(baseStyleDialog$1,a),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$3,body:baseStyleBody$2,footer:baseStyleFooter$2})),sizes$g={xs:getSize$2("xs"),sm:getSize$2("md"),md:getSize$2("lg"),lg:getSize$2("2xl"),xl:getSize$2("4xl"),full:getSize$2("full")},drawerTheme$1=defineMultiStyleConfig$j({baseStyle:baseStyle$v,sizes:sizes$g,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$u=definePartsStyle$i({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$u}),{definePartsStyle:definePartsStyle$h,defineMultiStyleConfig:defineMultiStyleConfig$h}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$4=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$4.variable]:"colors.red.500",_dark:{[$fg$4.variable]:"colors.red.300"},color:$fg$4.reference},baseStyleHelperText={mt:"2",[$fg$4.variable]:"colors.gray.600",_dark:{[$fg$4.variable]:"colors.whiteAlpha.600"},color:$fg$4.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$t=definePartsStyle$h({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme$1=defineMultiStyleConfig$h({baseStyle:baseStyle$t}),{definePartsStyle:definePartsStyle$g,defineMultiStyleConfig:defineMultiStyleConfig$g}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$3=cssVar$1("form-error-color"),baseStyleText={[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$4={marginEnd:"0.5em",[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference},baseStyle$s=definePartsStyle$g({text:baseStyleText,icon:baseStyleIcon$4}),formErrorTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$s}),baseStyle$r={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$r},baseStyle$q={fontFamily:"heading",fontWeight:"bold"},sizes$f={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme$1={baseStyle:baseStyle$q,sizes:sizes$f,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height$1=cssVar$1("input-height"),$fontSize$1=cssVar$1("input-font-size"),$padding=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$p=definePartsStyle$f({addon:{height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize$1.variable]:"fontSizes.lg",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.12"},md:{[$fontSize$1.variable]:"fontSizes.md",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.10"},sm:{[$fontSize$1.variable]:"fontSizes.sm",[$padding.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.8"},xs:{[$fontSize$1.variable]:"fontSizes.xs",[$padding.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.6"}},sizes$e={lg:definePartsStyle$f({field:size.lg,group:size.lg}),md:definePartsStyle$f({field:size.md,group:size.md}),sm:definePartsStyle$f({field:size.sm,group:size.sm}),xs:definePartsStyle$f({field:size.xs,group:size.xs})};function getDefaults(a){const{focusBorderColor:s,errorBorderColor:et}=a;return{focusBorderColor:s||mode("blue.500","blue.300")(a),errorBorderColor:et||mode("red.500","red.300")(a)}}const variantOutline=definePartsStyle$f(a=>{const{theme:s}=a,{focusBorderColor:et,errorBorderColor:nt}=getDefaults(a);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,nt),boxShadow:`0 0 0 1px ${getColor(s,nt)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,et),boxShadow:`0 0 0 1px ${getColor(s,et)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(a),bg:mode("gray.100","whiteAlpha.300")(a)}}}),variantFilled=definePartsStyle$f(a=>{const{theme:s}=a,{focusBorderColor:et,errorBorderColor:nt}=getDefaults(a);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(a),_hover:{bg:mode("gray.200","whiteAlpha.100")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,nt)},_focusVisible:{bg:"transparent",borderColor:getColor(s,et)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(a)}}}),variantFlushed=definePartsStyle$f(a=>{const{theme:s}=a,{focusBorderColor:et,errorBorderColor:nt}=getDefaults(a);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,nt),boxShadow:`0px 1px 0px 0px ${getColor(s,nt)}`},_focusVisible:{borderColor:getColor(s,et),boxShadow:`0px 1px 0px 0px ${getColor(s,et)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$f({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme$1=defineMultiStyleConfig$f({baseStyle:baseStyle$p,sizes:sizes$e,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),$bg$a=cssVar$1("kbd-bg"),baseStyle$o={[$bg$a.variable]:"colors.gray.100",_dark:{[$bg$a.variable]:"colors.whiteAlpha.100"},bg:$bg$a.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$o},baseStyle$n={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$n},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$m=definePartsStyle$e({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$m}),{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$9=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$9.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$9.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:$bg$9.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$9.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton={transitionProperty:"common",transitionDuration:"normal"},baseStyle$l=definePartsStyle$d({button:baseStyleButton,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme$1=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$8=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer=a=>{const{isCentered:s,scrollBehavior:et}=a;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:et==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog=a=>{const{isCentered:s,scrollBehavior:et}=a;return{borderRadius:"md",color:"inherit",my:s?"auto":"16",mx:s?"auto":void 0,zIndex:"modal",maxH:et==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$8.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$8.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$8.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$1={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$1=a=>{const{scrollBehavior:s}=a;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$1={px:"6",py:"4"},baseStyle$k=definePartsStyle$c(a=>({overlay:baseStyleOverlay,dialogContainer:runIfFn(baseStyleDialogContainer,a),dialog:runIfFn(baseStyleDialog,a),header:baseStyleHeader$1,closeButton:baseStyleCloseButton$2,body:runIfFn(baseStyleBody$1,a),footer:baseStyleFooter$1}));function getSize$1(a){return definePartsStyle$c(a==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:a}})}const sizes$d={xs:getSize$1("xs"),sm:getSize$1("sm"),md:getSize$1("md"),lg:getSize$1("lg"),xl:getSize$1("xl"),"2xl":getSize$1("2xl"),"3xl":getSize$1("3xl"),"4xl":getSize$1("4xl"),"5xl":getSize$1("5xl"),"6xl":getSize$1("6xl"),full:getSize$1("full")},modalTheme$1=defineMultiStyleConfig$c({baseStyle:baseStyle$k,sizes:sizes$d,defaultProps:{size:"md"}}),typography$1={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$7=cssVar("number-input-bg"),$fg$2=cssVar("number-input-color"),$border$1=cssVar("number-input-border-color"),baseStyleRoot$1={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField$1=a=>{var s;return((s=runIfFn(inputTheme$1.baseStyle,a))==null?void 0:s.field)??{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$1.reference,color:$fg$2.reference,bg:$bg$7.reference,[$fg$2.variable]:"colors.chakra-body-text",[$border$1.variable]:"colors.chakra-border-color",_dark:{[$fg$2.variable]:"colors.whiteAlpha.800",[$border$1.variable]:"colors.whiteAlpha.300"},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$j=definePartsStyle$b(a=>({root:baseStyleRoot$1,field:runIfFn(baseStyleField$1,a)??{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}));function getSize(a){var mt,wt;const s=(mt=inputTheme$1.sizes)==null?void 0:mt[a],et={lg:"md",md:"md",sm:"sm",xs:"sm"},nt=((wt=s.field)==null?void 0:wt.fontSize)??"md",at=typography$1.fontSizes[nt];return definePartsStyle$b({field:{...s.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(at).multiply(.75).toString(),_first:{borderTopEndRadius:et[a]},_last:{borderBottomEndRadius:et[a],mt:"-1px",borderTopWidth:1}}})}const sizes$c={xs:getSize("xs"),sm:getSize("sm"),md:getSize("md"),lg:getSize("lg")},numberInputTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$c,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps});var op;const baseStyle$i={...(op=inputTheme$1.baseStyle)==null?void 0:op.field,textAlign:"center"},sizes$b={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var ap;const variants$9={outline:a=>{var s,et;return((et=runIfFn((s=inputTheme$1.variants)==null?void 0:s.outline,a))==null?void 0:et.field)??{}},flushed:a=>{var s,et;return((et=runIfFn((s=inputTheme$1.variants)==null?void 0:s.flushed,a))==null?void 0:et.field)??{}},filled:a=>{var s,et;return((et=runIfFn((s=inputTheme$1.variants)==null?void 0:s.filled,a))==null?void 0:et.field)??{}},unstyled:((ap=inputTheme$1.variants)==null?void 0:ap.unstyled.field)??{}},pinInputTheme={baseStyle:baseStyle$i,sizes:sizes$b,variants:variants$9,defaultProps:inputTheme$1.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg$1=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:"popover"},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg$1.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody={px:3,py:2},baseStyleFooter={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$h=definePartsStyle$a({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader,body:baseStyleBody,footer:baseStyleFooter,closeButton:baseStyleCloseButton$1}),popoverTheme$1=defineMultiStyleConfig$a({baseStyle:baseStyle$h}),{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=a=>{const{colorScheme:s,theme:et,isIndeterminate:nt,hasStripe:at}=a,mt=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(a),wt=mode(`${s}.500`,`${s}.200`)(a),$t=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(et,wt)} 50%,
    transparent 100%
  )`;return{...!nt&&at&&mt,...nt?{bgImage:$t}:{bgColor:wt}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$2=a=>({bg:mode("gray.100","whiteAlpha.300")(a)}),baseStyleFilledTrack$1=a=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(a)}),baseStyle$g=definePartsStyle$9(a=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(a),track:baseStyleTrack$2(a)})),sizes$a={xs:definePartsStyle$9({track:{h:"1"}}),sm:definePartsStyle$9({track:{h:"2"}}),md:definePartsStyle$9({track:{h:"3"}}),lg:definePartsStyle$9({track:{h:"4"}})},progressTheme$1=defineMultiStyleConfig$9({sizes:sizes$a,baseStyle:baseStyle$g,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$8,definePartsStyle:definePartsStyle$8}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=a=>{var et;const s=(et=runIfFn(checkboxTheme$1.baseStyle,a))==null?void 0:et.control;return{...s,borderRadius:"full",_checked:{...s==null?void 0:s._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$f=definePartsStyle$8(a=>{var s,et;return{label:(s=checkboxTheme$1.baseStyle)==null?void 0:s.call(checkboxTheme$1,a).label,container:(et=checkboxTheme$1.baseStyle)==null?void 0:et.call(checkboxTheme$1,a).container,control:baseStyleControl(a)}}),sizes$9={md:definePartsStyle$8({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$8({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$8({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$7,definePartsStyle:definePartsStyle$7}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$6=cssVar$1("select-bg");var sp;const baseStyleField={...(sp=inputTheme$1.baseStyle)==null?void 0:sp.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$6.reference,[$bg$6.variable]:"colors.white",_dark:{[$bg$6.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$6.reference}},baseStyleIcon$1={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$e=definePartsStyle$7({field:baseStyleField,icon:baseStyleIcon$1}),iconSpacing={paddingInlineEnd:"8"};var lp,up,cp,dp,fp,hp,pp,mp;const sizes$8={lg:{...(lp=inputTheme$1.sizes)==null?void 0:lp.lg,field:{...(up=inputTheme$1.sizes)==null?void 0:up.lg.field,...iconSpacing}},md:{...(cp=inputTheme$1.sizes)==null?void 0:cp.md,field:{...(dp=inputTheme$1.sizes)==null?void 0:dp.md.field,...iconSpacing}},sm:{...(fp=inputTheme$1.sizes)==null?void 0:fp.sm,field:{...(hp=inputTheme$1.sizes)==null?void 0:hp.sm.field,...iconSpacing}},xs:{...(pp=inputTheme$1.sizes)==null?void 0:pp.xs,field:{...(mp=inputTheme$1.sizes)==null?void 0:mp.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e,sizes:sizes$8,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps}),$startColor$2=cssVar$1("skeleton-start-color"),$endColor$2=cssVar$1("skeleton-end-color"),baseStyle$d={[$startColor$2.variable]:"colors.gray.100",[$endColor$2.variable]:"colors.gray.400",_dark:{[$startColor$2.variable]:"colors.gray.800",[$endColor$2.variable]:"colors.gray.600"},background:$startColor$2.reference,borderColor:$endColor$2.reference,opacity:.7,borderRadius:"sm"},skeletonTheme$1={baseStyle:baseStyle$d},$bg$5=cssVar$1("skip-link-bg"),baseStyle$c={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$5.variable]:"colors.white",_dark:{[$bg$5.variable]:"colors.gray.700"},bg:$bg$5.reference}},skipLinkTheme={baseStyle:baseStyle$c},{defineMultiStyleConfig:defineMultiStyleConfig$6,definePartsStyle:definePartsStyle$6}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$4=cssVar$1("slider-bg"),baseStyleContainer$1=a=>{const{orientation:s}=a;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient$2({orientation:s,vertical:{h:"100%",px:calc$1($thumbSize.reference).divide(2).toString()},horizontal:{w:"100%",py:calc$1($thumbSize.reference).divide(2).toString()}})}},baseStyleTrack$1=a=>({...orient$2({orientation:a.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$4.variable]:"colors.gray.200",_dark:{[$bg$4.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$4.variable]:"colors.gray.300",_dark:{[$bg$4.variable]:"colors.whiteAlpha.300"}},bg:$bg$4.reference}),baseStyleThumb$1=a=>{const{orientation:s}=a;return{...orient$2({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=a=>{const{colorScheme:s}=a;return{width:"inherit",height:"inherit",[$bg$4.variable]:`colors.${s}.500`,_dark:{[$bg$4.variable]:`colors.${s}.200`},bg:$bg$4.reference}},baseStyle$b=definePartsStyle$6(a=>({container:baseStyleContainer$1(a),track:baseStyleTrack$1(a),thumb:baseStyleThumb$1(a),filledTrack:baseStyleFilledTrack(a)})),sizeLg=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$7={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme$1=defineMultiStyleConfig$6({baseStyle:baseStyle$b,sizes:sizes$7,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$a={width:[$size$1.reference],height:[$size$1.reference]},sizes$6={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$a,sizes:sizes$6,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$5,definePartsStyle:definePartsStyle$5}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$9=definePartsStyle$5({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon}),sizes$5={md:definePartsStyle$5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$9,sizes:sizes$5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$8=definePartsStyle$4(({colorScheme:a})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${a}.500`,_dark:{[$accentColor.variable]:`colors.${a}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size.reference,height:$size.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size.reference} - 8px)`,top:`calc(${$size.reference} + 4px)`,insetStart:`calc(${$size.reference} / 2 - 1px)`}}})),stepperTheme$1=defineMultiStyleConfig$4({baseStyle:baseStyle$8,sizes:{xs:definePartsStyle$4({stepper:{[$size.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$4({stepper:{[$size.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$4({stepper:{[$size.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$4({stepper:{[$size.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$3,definePartsStyle:definePartsStyle$3}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$3=cssVar("switch-bg"),baseStyleTrack=a=>{const{colorScheme:s}=a;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$3.variable]:"colors.gray.300",_dark:{[$bg$3.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$3.variable]:`colors.${s}.500`,_dark:{[$bg$3.variable]:`colors.${s}.200`}},bg:$bg$3.reference}},baseStyleThumb={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$7=definePartsStyle$3(a=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack(a),thumb:baseStyleThumb})),sizes$4={sm:definePartsStyle$3({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$3({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$3({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme$1=defineMultiStyleConfig$3({baseStyle:baseStyle$7,sizes:sizes$4,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$2,definePartsStyle:definePartsStyle$2}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$6=definePartsStyle$2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$2(a=>{const{colorScheme:s}=a;return{th:{color:mode("gray.600","gray.400")(a),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},caption:{color:mode("gray.600","gray.100")(a)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$2(a=>{const{colorScheme:s}=a;return{th:{color:mode("gray.600","gray.400")(a),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},caption:{color:mode("gray.600","gray.100")(a)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a)},td:{background:mode(`${s}.100`,`${s}.700`)(a)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$8={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$3={sm:definePartsStyle$2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme$1=defineMultiStyleConfig$2({baseStyle:baseStyle$6,variants:variants$8,sizes:sizes$3,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$1=cssVar$1("tabs-color"),$bg$2=cssVar$1("tabs-bg"),$border=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$1,definePartsStyle:definePartsStyle$1}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot=a=>{const{orientation:s}=a;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=a=>{const{isFitted:s}=a;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=a=>{const{align:s="start",orientation:et}=a;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:et==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$5=definePartsStyle$1(a=>({root:baseStyleRoot(a),tab:baseStyleTab(a),tablist:baseStyleTablist(a),tabpanel:baseStyleTabpanel})),sizes$2={sm:definePartsStyle$1({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$1({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$1({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$1(a=>{const{colorScheme:s,orientation:et}=a,nt=et==="vertical",at=nt?"borderStart":"borderBottom",mt=nt?"marginStart":"marginBottom";return{tablist:{[at]:"2px solid",borderColor:"inherit"},tab:{[at]:"2px solid",borderColor:"transparent",[mt]:"-2px",_selected:{[$fg$1.variable]:`colors.${s}.600`,_dark:{[$fg$1.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$2.variable]:"colors.gray.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantEnclosed=definePartsStyle$1(a=>{const{colorScheme:s}=a;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border.variable]:"transparent",_selected:{[$fg$1.variable]:`colors.${s}.600`,[$border.variable]:"colors.white",_dark:{[$fg$1.variable]:`colors.${s}.300`,[$border.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border.reference},color:$fg$1.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$1(a=>{const{colorScheme:s}=a;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$2.variable]:"colors.gray.50",_dark:{[$bg$2.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$2.variable]:"colors.white",[$fg$1.variable]:`colors.${s}.600`,_dark:{[$bg$2.variable]:"colors.gray.800",[$fg$1.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$1.reference,bg:$bg$2.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$1(a=>{const{colorScheme:s,theme:et}=a;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(et,`${s}.700`),bg:getColor(et,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$1(a=>{const{colorScheme:s}=a;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$1.variable]:"colors.gray.600",_dark:{[$fg$1.variable]:"inherit"},_selected:{[$fg$1.variable]:"colors.white",[$bg$2.variable]:`colors.${s}.600`,_dark:{[$fg$1.variable]:"colors.gray.800",[$bg$2.variable]:`colors.${s}.300`}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantUnstyled=definePartsStyle$1({}),variants$7={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled},tabsTheme$1=defineMultiStyleConfig$1({baseStyle:baseStyle$5,sizes:sizes$2,variants:variants$7,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig,definePartsStyle}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$1=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$1.variable]:vars.bg.reference,[$shadow.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$1.reference,boxShadow:$shadow.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize.reference,px:$paddingX.reference,_focusVisible:{[$shadow.variable]:"shadows.outline"}},baseStyleLabel={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$4=definePartsStyle({container:baseStyleContainer,label:baseStyleLabel,closeButton:baseStyleCloseButton}),sizes$1={sm:definePartsStyle({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$6={subtle:definePartsStyle(a=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(a)}}),solid:definePartsStyle(a=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(a)}}),outline:definePartsStyle(a=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(a)}})},tagTheme=defineMultiStyleConfig({variants:variants$6,baseStyle:baseStyle$4,sizes:sizes$1,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var gp;const baseStyle$3={...(gp=inputTheme$1.baseStyle)==null?void 0:gp.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var vp;const variants$5={outline:a=>{var s;return((s=inputTheme$1.variants)==null?void 0:s.outline(a).field)??{}},flushed:a=>{var s;return((s=inputTheme$1.variants)==null?void 0:s.flushed(a).field)??{}},filled:a=>{var s;return((s=inputTheme$1.variants)==null?void 0:s.filled(a).field)??{}},unstyled:((vp=inputTheme$1.variants)==null?void 0:vp.unstyled.field)??{}};var yp,_p,bp,xp;const sizes={xs:((yp=inputTheme$1.sizes)==null?void 0:yp.xs.field)??{},sm:((_p=inputTheme$1.sizes)==null?void 0:_p.sm.field)??{},md:((bp=inputTheme$1.sizes)==null?void 0:bp.md.field)??{},lg:((xp=inputTheme$1.sizes)==null?void 0:xp.lg.field)??{}},textareaTheme={baseStyle:baseStyle$3,sizes,variants:variants$5,defaultProps:{size:"md",variant:"outline"}},$bg=cssVar("tooltip-bg"),$fg=cssVar("tooltip-fg"),$arrowBg=cssVar("popper-arrow-bg"),baseStyle$2={bg:$bg.reference,color:$fg.reference,[$bg.variable]:"colors.gray.700",[$fg.variable]:"colors.whiteAlpha.900",_dark:{[$bg.variable]:"colors.gray.300",[$fg.variable]:"colors.gray.900"},[$arrowBg.variable]:$bg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme$1={baseStyle:baseStyle$2},components$1={Accordion:accordionTheme,Alert:alertTheme$1,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme$1,Checkbox:checkboxTheme$1,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme$1,Editable:editableTheme,Form:formTheme$1,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme$1,Input:inputTheme$1,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme$1,Modal:modalTheme$1,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme$1,Progress:progressTheme$1,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme$1,SkipLink:skipLinkTheme,Slider:sliderTheme$1,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme$1,Table:tableTheme$1,Tabs:tabsTheme$1,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme$1,Card:cardTheme$1,Stepper:stepperTheme$1},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},colors$1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},foundations$1={breakpoints:breakpoints$1,zIndices,radii,blur,colors:colors$1,...typography$1,sizes:sizes$m,shadows,space:spacing,borders:borders$1,transition},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles$1={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(a){return isObject$3(a)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(a,s)):!1}const direction="ltr",config$4={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations$1,components:components$1,styles:styles$1,config:config$4};function sheetForTag(a){if(a.sheet)return a.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===a)return document.styleSheets[s]}function createStyleElement(a){var s=document.createElement("style");return s.setAttribute("data-emotion",a.key),a.nonce!==void 0&&s.setAttribute("nonce",a.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function a(et){var nt=this;this._insertTag=function(at){var mt;nt.tags.length===0?nt.insertionPoint?mt=nt.insertionPoint.nextSibling:nt.prepend?mt=nt.container.firstChild:mt=nt.before:mt=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(at,mt),nt.tags.push(at)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var s=a.prototype;return s.hydrate=function(nt){nt.forEach(this._insertTag)},s.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var at=this.tags[this.tags.length-1];if(this.isSpeedy){var mt=sheetForTag(at);try{mt.insertRule(nt,mt.cssRules.length)}catch{}}else at.appendChild(document.createTextNode(nt));this.ctr++},s.flush=function(){this.tags.forEach(function(nt){var at;return(at=nt.parentNode)==null?void 0:at.removeChild(nt)}),this.tags=[],this.ctr=0},a}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$3=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$4(a,s){return charat(a,0)^45?(((s<<2^charat(a,0))<<2^charat(a,1))<<2^charat(a,2))<<2^charat(a,3):0}function trim$1(a){return a.trim()}function match(a,s){return(a=s.exec(a))?a[0]:a}function replace(a,s,et){return a.replace(s,et)}function indexof(a,s){return a.indexOf(s)}function charat(a,s){return a.charCodeAt(s)|0}function substr(a,s,et){return a.slice(s,et)}function strlen(a){return a.length}function sizeof(a){return a.length}function append(a,s){return s.push(a),a}function combine(a,s){return a.map(s).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node$1(a,s,et,nt,at,mt,wt){return{value:a,root:s,parent:et,type:nt,props:at,children:mt,line,column,length:wt,return:""}}function copy(a,s){return assign(node$1("",null,null,"",null,null,0),a,{length:-a.length},s)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(a,s){return substr(characters,a,s)}function token(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(a){return line=column=1,length=strlen(characters=a),position=0,[]}function dealloc(a){return characters="",a}function delimit(a){return trim$1(slice(position-1,delimiter(a===91?a+2:a===40?a+1:a)))}function whitespace(a){for(;(character=peek())&&character<33;)next();return token(a)>2||token(character)>3?"":" "}function escaping(a,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(a,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(a){for(;next();)switch(character){case a:return position;case 34:case 39:a!==34&&a!==39&&delimiter(character);break;case 40:a===41&&delimiter(a);break;case 92:next();break}return position}function commenter(a,s){for(;next()&&a+character!==57;)if(a+character===84&&peek()===47)break;return"/*"+slice(s,position-1)+"*"+from(a===47?a:next())}function identifier(a){for(;!token(peek());)next();return slice(a,position)}function compile(a){return dealloc(parse("",null,null,null,[""],a=alloc(a),0,[0],a))}function parse(a,s,et,nt,at,mt,wt,$t,Ct){for(var Dt=0,Ft=0,jt=wt,Ut=0,tr=0,ir=0,sr=1,ur=1,fr=1,dr=0,hr="",vr=at,yr=mt,xr=nt,br=hr;ur;)switch(ir=dr,dr=next()){case 40:if(ir!=108&&charat(br,jt-1)==58){indexof(br+=replace(delimit(dr),"&","&\f"),"&\f")!=-1&&(fr=-1);break}case 34:case 39:case 91:br+=delimit(dr);break;case 9:case 10:case 13:case 32:br+=whitespace(ir);break;case 92:br+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,et),Ct);break;default:br+="/"}break;case 123*sr:$t[Dt++]=strlen(br)*fr;case 125*sr:case 59:case 0:switch(dr){case 0:case 125:ur=0;case 59+Ft:fr==-1&&(br=replace(br,/\f/g,"")),tr>0&&strlen(br)-jt&&append(tr>32?declaration(br+";",nt,et,jt-1):declaration(replace(br," ","")+";",nt,et,jt-2),Ct);break;case 59:br+=";";default:if(append(xr=ruleset(br,s,et,Dt,Ft,at,$t,hr,vr=[],yr=[],jt),mt),dr===123)if(Ft===0)parse(br,s,xr,xr,vr,mt,jt,$t,yr);else switch(Ut===99&&charat(br,3)===110?100:Ut){case 100:case 108:case 109:case 115:parse(a,xr,xr,nt&&append(ruleset(a,xr,xr,0,0,at,$t,hr,at,vr=[],jt),yr),at,yr,jt,$t,nt?vr:yr);break;default:parse(br,xr,xr,xr,[""],yr,0,$t,yr)}}Dt=Ft=tr=0,sr=fr=1,hr=br="",jt=wt;break;case 58:jt=1+strlen(br),tr=ir;default:if(sr<1){if(dr==123)--sr;else if(dr==125&&sr++==0&&prev()==125)continue}switch(br+=from(dr),dr*sr){case 38:fr=Ft>0?1:(br+="\f",-1);break;case 44:$t[Dt++]=(strlen(br)-1)*fr,fr=1;break;case 64:peek()===45&&(br+=delimit(next())),Ut=peek(),Ft=jt=strlen(hr=br+=identifier(caret())),dr++;break;case 45:ir===45&&strlen(br)==2&&(sr=0)}}return mt}function ruleset(a,s,et,nt,at,mt,wt,$t,Ct,Dt,Ft){for(var jt=at-1,Ut=at===0?mt:[""],tr=sizeof(Ut),ir=0,sr=0,ur=0;ir<nt;++ir)for(var fr=0,dr=substr(a,jt+1,jt=abs$3(sr=wt[ir])),hr=a;fr<tr;++fr)(hr=trim$1(sr>0?Ut[fr]+" "+dr:replace(dr,/&\f/g,Ut[fr])))&&(Ct[ur++]=hr);return node$1(a,s,et,at===0?RULESET:$t,Ct,Dt,Ft)}function comment(a,s,et){return node$1(a,s,et,COMMENT,from(char()),substr(a,2,-2),0)}function declaration(a,s,et,nt){return node$1(a,s,et,DECLARATION,substr(a,0,nt),substr(a,nt+1,-1),nt)}function serialize(a,s){for(var et="",nt=sizeof(a),at=0;at<nt;at++)et+=s(a[at],at,a,s)||"";return et}function stringify$1(a,s,et,nt){switch(a.type){case LAYER:if(a.children.length)break;case IMPORT:case DECLARATION:return a.return=a.return||a.value;case COMMENT:return"";case KEYFRAMES:return a.return=a.value+"{"+serialize(a.children,nt)+"}";case RULESET:a.value=a.props.join(",")}return strlen(et=serialize(a.children,nt))?a.return=a.value+"{"+et+"}":""}function middleware(a){var s=sizeof(a);return function(et,nt,at,mt){for(var wt="",$t=0;$t<s;$t++)wt+=a[$t](et,nt,at,mt)||"";return wt}}function rulesheet(a){return function(s){s.root||(s=s.return)&&a(s)}}var weakMemoize=function(s){var et=new WeakMap;return function(nt){if(et.has(nt))return et.get(nt);var at=s(nt);return et.set(nt,at),at}};function memoize$1(a){var s=Object.create(null);return function(et){return s[et]===void 0&&(s[et]=a(et)),s[et]}}var identifierWithPointTracking=function(s,et,nt){for(var at=0,mt=0;at=mt,mt=peek(),at===38&&mt===12&&(et[nt]=1),!token(mt);)next();return slice(s,position)},toRules=function(s,et){var nt=-1,at=44;do switch(token(at)){case 0:at===38&&peek()===12&&(et[nt]=1),s[nt]+=identifierWithPointTracking(position-1,et,nt);break;case 2:s[nt]+=delimit(at);break;case 4:if(at===44){s[++nt]=peek()===58?"&\f":"",et[nt]=s[nt].length;break}default:s[nt]+=from(at)}while(at=next());return s},getRules=function(s,et){return dealloc(toRules(alloc(s),et))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var et=s.value,nt=s.parent,at=s.column===nt.column&&s.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(s.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!at){fixedElements.set(s,!0);for(var mt=[],wt=getRules(et,mt),$t=nt.props,Ct=0,Dt=0;Ct<wt.length;Ct++)for(var Ft=0;Ft<$t.length;Ft++,Dt++)s.props[Dt]=mt[Ct]?wt[Ct].replace(/&\f/g,$t[Ft]):$t[Ft]+" "+wt[Ct]}}},removeLabel=function(s){if(s.type==="decl"){var et=s.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(a,s){switch(hash$4(a,s)){case 5103:return WEBKIT+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+a+MOZ+a+MS+a+a;case 6828:case 4268:return WEBKIT+a+MS+a+a;case 6165:return WEBKIT+a+MS+"flex-"+a+a;case 5187:return WEBKIT+a+replace(a,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+a;case 5443:return WEBKIT+a+MS+"flex-item-"+replace(a,/flex-|-self/,"")+a;case 4675:return WEBKIT+a+MS+"flex-line-pack"+replace(a,/align-content|flex-|-self/,"")+a;case 5548:return WEBKIT+a+MS+replace(a,"shrink","negative")+a;case 5292:return WEBKIT+a+MS+replace(a,"basis","preferred-size")+a;case 6060:return WEBKIT+"box-"+replace(a,"-grow","")+WEBKIT+a+MS+replace(a,"grow","positive")+a;case 4554:return WEBKIT+replace(a,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+a;case 6187:return replace(replace(replace(a,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),a,"")+a;case 5495:case 3959:return replace(a,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(a,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+a+a;case 4095:case 3583:case 4068:case 2532:return replace(a,/(.+)-inline(.+)/,WEBKIT+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(a)-1-s>6)switch(charat(a,s+1)){case 109:if(charat(a,s+4)!==45)break;case 102:return replace(a,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(a,s+3)==108?"$3":"$2-$3"))+a;case 115:return~indexof(a,"stretch")?prefix(replace(a,"stretch","fill-available"),s)+a:a}break;case 4949:if(charat(a,s+1)!==115)break;case 6444:switch(charat(a,strlen(a)-3-(~indexof(a,"!important")&&10))){case 107:return replace(a,":",":"+WEBKIT)+a;case 101:return replace(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(a,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+a}break;case 5936:switch(charat(a,s+11)){case 114:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return WEBKIT+a+MS+a+a}return a}var prefixer=function(s,et,nt,at){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],at);case RULESET:if(s.length)return combine(s.props,function(mt){switch(match(mt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(mt,/:(read-\w+)/,":"+MOZ+"$1")]})],at);case"::placeholder":return serialize([copy(s,{props:[replace(mt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(mt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(mt,/:(plac\w+)/,MS+"input-$1")]})],at)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var et=s.key;if(et==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(sr){var ur=sr.getAttribute("data-emotion");ur.indexOf(" ")!==-1&&(document.head.appendChild(sr),sr.setAttribute("data-s",""))})}var at=s.stylisPlugins||defaultStylisPlugins,mt={},wt,$t=[];wt=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(sr){for(var ur=sr.getAttribute("data-emotion").split(" "),fr=1;fr<ur.length;fr++)mt[ur[fr]]=!0;$t.push(sr)});var Ct,Dt=[compat,removeLabel];{var Ft,jt=[stringify$1,rulesheet(function(sr){Ft.insert(sr)})],Ut=middleware(Dt.concat(at,jt)),tr=function(ur){return serialize(compile(ur),Ut)};Ct=function(ur,fr,dr,hr){Ft=dr,tr(ur?ur+"{"+fr.styles+"}":fr.styles),hr&&(ir.inserted[fr.name]=!0)}}var ir={key:et,sheet:new StyleSheet({key:et,container:wt,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:mt,registered:{},insert:Ct};return ir.sheet.hydrate($t),ir};function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var nt in et)({}).hasOwnProperty.call(et,nt)&&(a[nt]=et[nt])}return a},_extends.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$1=b$2?Symbol.for("react.element"):60103,d$3=b$2?Symbol.for("react.portal"):60106,e=b$2?Symbol.for("react.fragment"):60107,f=b$2?Symbol.for("react.strict_mode"):60108,g$1=b$2?Symbol.for("react.profiler"):60114,h$1=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l=b$2?Symbol.for("react.async_mode"):60111,m$3=b$2?Symbol.for("react.concurrent_mode"):60111,n=b$2?Symbol.for("react.forward_ref"):60112,p=b$2?Symbol.for("react.suspense"):60113,q$2=b$2?Symbol.for("react.suspense_list"):60120,r$2=b$2?Symbol.for("react.memo"):60115,t=b$2?Symbol.for("react.lazy"):60116,v$4=b$2?Symbol.for("react.block"):60121,w$3=b$2?Symbol.for("react.fundamental"):60117,x$2=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z$2(a){if(typeof a=="object"&&a!==null){var s=a.$$typeof;switch(s){case c$1:switch(a=a.type,a){case l:case m$3:case e:case g$1:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k$2:case n:case t:case r$2:case h$1:return a;default:return s}}case d$3:return s}}}function A$1(a){return z$2(a)===m$3}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$3;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$2;reactIs_production_min.Portal=d$3;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(a){return A$1(a)||z$2(a)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(a){return z$2(a)===k$2};reactIs_production_min.isContextProvider=function(a){return z$2(a)===h$1};reactIs_production_min.isElement=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===c$1};reactIs_production_min.isForwardRef=function(a){return z$2(a)===n};reactIs_production_min.isFragment=function(a){return z$2(a)===e};reactIs_production_min.isLazy=function(a){return z$2(a)===t};reactIs_production_min.isMemo=function(a){return z$2(a)===r$2};reactIs_production_min.isPortal=function(a){return z$2(a)===d$3};reactIs_production_min.isProfiler=function(a){return z$2(a)===g$1};reactIs_production_min.isStrictMode=function(a){return z$2(a)===f};reactIs_production_min.isSuspense=function(a){return z$2(a)===p};reactIs_production_min.isValidElementType=function(a){return typeof a=="string"||typeof a=="function"||a===e||a===m$3||a===g$1||a===f||a===p||a===q$2||typeof a=="object"&&a!==null&&(a.$$typeof===t||a.$$typeof===r$2||a.$$typeof===h$1||a.$$typeof===k$2||a.$$typeof===n||a.$$typeof===w$3||a.$$typeof===x$2||a.$$typeof===y$1||a.$$typeof===v$4)};reactIs_production_min.typeOf=z$2;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(a,s,et){var nt="";return et.split(" ").forEach(function(at){a[at]!==void 0?s.push(a[at]+";"):at&&(nt+=at+" ")}),nt}var registerStyles=function(s,et,nt){var at=s.key+"-"+et.name;(nt===!1||isBrowser$1===!1)&&s.registered[at]===void 0&&(s.registered[at]=et.styles)},insertStyles=function(s,et,nt){registerStyles(s,et,nt);var at=s.key+"-"+et.name;if(s.inserted[et.name]===void 0){var mt=et;do s.insert(et===mt?"."+at:"",mt,s.sheet,!0),mt=mt.next;while(mt!==void 0)}},unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$1(function(a){return isCustomProperty(a)?a:a.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,et){switch(s){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(nt,at,mt){return cursor={name:at,styles:mt,next:cursor},at})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof et=="number"&&et!==0?et+"px":et};function handleInterpolation(a,s,et){if(et==null)return"";var nt=et;if(nt.__emotion_styles!==void 0)return nt;switch(typeof et){case"boolean":return"";case"object":{var at=et;if(at.anim===1)return cursor={name:at.name,styles:at.styles,next:cursor},at.name;var mt=et;if(mt.styles!==void 0){var wt=mt.next;if(wt!==void 0)for(;wt!==void 0;)cursor={name:wt.name,styles:wt.styles,next:cursor},wt=wt.next;var $t=mt.styles+";";return $t}return createStringFromObject(a,s,et)}case"function":{if(a!==void 0){var Ct=cursor,Dt=et(a);return cursor=Ct,handleInterpolation(a,s,Dt)}break}}var Ft=et;if(s==null)return Ft;var jt=s[Ft];return jt!==void 0?jt:Ft}function createStringFromObject(a,s,et){var nt="";if(Array.isArray(et))for(var at=0;at<et.length;at++)nt+=handleInterpolation(a,s,et[at])+";";else for(var mt in et){var wt=et[mt];if(typeof wt!="object"){var $t=wt;s!=null&&s[$t]!==void 0?nt+=mt+"{"+s[$t]+"}":isProcessableValue($t)&&(nt+=processStyleName(mt)+":"+processStyleValue(mt,$t)+";")}else if(Array.isArray(wt)&&typeof wt[0]=="string"&&(s==null||s[wt[0]]===void 0))for(var Ct=0;Ct<wt.length;Ct++)isProcessableValue(wt[Ct])&&(nt+=processStyleName(mt)+":"+processStyleValue(mt,wt[Ct])+";");else{var Dt=handleInterpolation(a,s,wt);switch(mt){case"animation":case"animationName":{nt+=processStyleName(mt)+":"+Dt+";";break}default:nt+=mt+"{"+Dt+"}"}}}return nt}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(a,s,et){if(a.length===1&&typeof a[0]=="object"&&a[0]!==null&&a[0].styles!==void 0)return a[0];var nt=!0,at="";cursor=void 0;var mt=a[0];if(mt==null||mt.raw===void 0)nt=!1,at+=handleInterpolation(et,s,mt);else{var wt=mt;at+=wt[0]}for(var $t=1;$t<a.length;$t++)if(at+=handleInterpolation(et,s,a[$t]),nt){var Ct=mt;at+=Ct[$t]}labelPattern.lastIndex=0;for(var Dt="",Ft;(Ft=labelPattern.exec(at))!==null;)Dt+="-"+Ft[1];var jt=murmur2(at)+Dt;return{name:jt,styles:at,next:cursor}}var syncFallback=function(s){return s()},useInsertionEffect=React$3.useInsertionEffect?React$3.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var __unsafe_useEmotionCache=function(){return reactExports.useContext(EmotionCacheContext)},withEmotionCache=function(s){return reactExports.forwardRef(function(et,nt){var at=reactExports.useContext(EmotionCacheContext);return s(et,at,nt)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(s,et){if(typeof et=="function"){var nt=et(s);return nt}return _extends({},s,et)},createCacheWithTheme=weakMemoize(function(a){return weakMemoize(function(s){return getTheme$1(a,s)})}),ThemeProvider$1=function(s){var et=reactExports.useContext(ThemeContext);return s.theme!==et&&(et=createCacheWithTheme(et)(s.theme)),reactExports.createElement(ThemeContext.Provider,{value:et},s.children)},hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(s,et){var nt={};for(var at in et)hasOwn.call(et,at)&&(nt[at]=et[at]);return nt[typePropName]=s,nt},Insertion$1=function(s){var et=s.cache,nt=s.serialized,at=s.isStringTag;return registerStyles(et,nt,at),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,nt,at)}),null},Emotion=withEmotionCache(function(a,s,et){var nt=a.css;typeof nt=="string"&&s.registered[nt]!==void 0&&(nt=s.registered[nt]);var at=a[typePropName],mt=[nt],wt="";typeof a.className=="string"?wt=getRegisteredStyles(s.registered,mt,a.className):a.className!=null&&(wt=a.className+" ");var $t=serializeStyles(mt,void 0,reactExports.useContext(ThemeContext));wt+=s.key+"-"+$t.name;var Ct={};for(var Dt in a)hasOwn.call(a,Dt)&&Dt!=="css"&&Dt!==typePropName&&(Ct[Dt]=a[Dt]);return Ct.className=wt,et&&(Ct.ref=et),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:s,serialized:$t,isStringTag:typeof at=="string"}),reactExports.createElement(at,Ct))}),Emotion$1=Emotion,jsx=function(s,et){var nt=arguments;if(et==null||!hasOwn.call(et,"css"))return reactExports.createElement.apply(void 0,nt);var at=nt.length,mt=new Array(at);mt[0]=Emotion$1,mt[1]=createEmotionProps(s,et);for(var wt=2;wt<at;wt++)mt[wt]=nt[wt];return reactExports.createElement.apply(null,mt)};(function(a){var s;s||(s=a.JSX||(a.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(a,s){var et=a.styles,nt=serializeStyles([et],void 0,reactExports.useContext(ThemeContext)),at=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var mt=s.key+"-global",wt=new s.sheet.constructor({key:mt,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),$t=!1,Ct=document.querySelector('style[data-emotion="'+mt+" "+nt.name+'"]');return s.sheet.tags.length&&(wt.before=s.sheet.tags[0]),Ct!==null&&($t=!0,Ct.setAttribute("data-emotion",mt),wt.hydrate([Ct])),at.current=[wt,$t],function(){wt.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var mt=at.current,wt=mt[0],$t=mt[1];if($t){mt[1]=!1;return}if(nt.next!==void 0&&insertStyles(s,nt.next,!0),wt.tags.length){var Ct=wt.tags[wt.tags.length-1].nextElementSibling;wt.before=Ct,wt.flush()}s.insert("",nt,wt,!1)},[s,nt.name]),null});function css$1(){for(var a=arguments.length,s=new Array(a),et=0;et<a;et++)s[et]=arguments[et];return serializeStyles(s)}function keyframes$1(){var a=css$1.apply(void 0,arguments),s="animation-"+a.name;return{name:s,styles:"@keyframes "+s+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const a=reactExports.useContext(ColorModeContext);if(a===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return a}const classNames$1={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(a={}){const{preventTransition:s=!0,nonce:et}=a,nt={setDataset:at=>{const mt=s?nt.preventTransition():void 0;document.documentElement.dataset.theme=at,document.documentElement.style.colorScheme=at,mt==null||mt()},setClassName(at){document.body.classList.add(at?classNames$1.dark:classNames$1.light),document.body.classList.remove(at?classNames$1.light:classNames$1.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(at){return nt.query().matches??at==="dark"?"dark":"light"},addListener(at){const mt=nt.query(),wt=$t=>{at($t.matches?"dark":"light")};return typeof mt.addListener=="function"?mt.addListener(wt):mt.addEventListener("change",wt),()=>{typeof mt.removeListener=="function"?mt.removeListener(wt):mt.removeEventListener("change",wt)}},preventTransition(){const at=document.createElement("style");return at.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),et!==void 0&&(at.nonce=et),document.head.appendChild(at),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(at)})})}}};return nt}const STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(a){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let et;try{et=localStorage.getItem(a)||s}catch{}return et||s},set(s){try{localStorage.setItem(a,s)}catch{}}}}const localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$3=()=>{},useSafeLayoutEffect$1=isBrowser$2()?reactExports.useLayoutEffect:reactExports.useEffect;function getTheme(a,s){return a.type==="cookie"&&a.ssr?a.get(s):s}const ColorModeProvider=function(s){const{value:et,children:nt,options:{useSystemColorMode:at,initialColorMode:mt,disableTransitionOnChange:wt}={},colorModeManager:$t=localStorageManager}=s,Ct=__unsafe_useEmotionCache(),Dt=mt==="dark"?"dark":"light",[Ft,jt]=reactExports.useState(()=>getTheme($t,Dt)),[Ut,tr]=reactExports.useState(()=>getTheme($t)),{getSystemTheme:ir,setClassName:sr,setDataset:ur,addListener:fr}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:wt,nonce:Ct==null?void 0:Ct.nonce}),[wt,Ct==null?void 0:Ct.nonce]),dr=mt==="system"&&!Ft?Ut:Ft,hr=reactExports.useCallback(xr=>{const br=xr==="system"?ir():xr;jt(br),sr(br==="dark"),ur(br),$t.set(br)},[$t,ir,sr,ur]);useSafeLayoutEffect$1(()=>{mt==="system"&&tr(ir())},[]),reactExports.useEffect(()=>{const xr=$t.get();if(xr){hr(xr);return}if(mt==="system"){hr("system");return}hr(Dt)},[$t,Dt,mt,hr]);const vr=reactExports.useCallback(()=>{hr(dr==="dark"?"light":"dark")},[dr,hr]);reactExports.useEffect(()=>{if(at)return fr(hr)},[at,fr,hr]);const yr=reactExports.useMemo(()=>({colorMode:et??dr,toggleColorMode:et?noop$3:vr,setColorMode:et?noop$3:hr,forced:et!==void 0}),[dr,vr,hr,et]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:yr,children:nt})};ColorModeProvider.displayName="ColorModeProvider";const css=String.raw,vhPolyfill=css`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:a=""})=>jsxRuntimeExports.jsx(Global,{styles:css`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${a} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${a} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${a} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${a} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${a} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${a} :where(b, strong) {
        font-weight: bold;
      }

      ${a} small {
        font-size: 80%;
      }

      ${a} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${a} sub {
        bottom: -0.25em;
      }

      ${a} sup {
        top: -0.5em;
      }

      ${a} img {
        border-style: none;
      }

      ${a} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${a} :where(button, input) {
        overflow: visible;
      }

      ${a} :where(button, select) {
        text-transform: none;
      }

      ${a} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${a} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${a} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${a} progress {
        vertical-align: baseline;
      }

      ${a} textarea {
        overflow: auto;
      }

      ${a} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${a} input[type="number"]::-webkit-inner-spin-button,
      ${a} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${a} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${a} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${a} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${a} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${a} details {
        display: block;
      }

      ${a} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${a} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${a} button {
        background: transparent;
        padding: 0;
      }

      ${a} fieldset {
        margin: 0;
        padding: 0;
      }

      ${a} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${a} textarea {
        resize: vertical;
      }

      ${a} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${a} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${a} table {
        border-collapse: collapse;
      }

      ${a} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${a} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${a} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${a} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${a} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function ThemeProvider(a){const{cssVarsRoot:s,theme:et,children:nt}=a,at=reactExports.useMemo(()=>toCSSVar(et),[et]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:at,children:[jsxRuntimeExports.jsx(CSSVars,{root:s}),nt]})}function CSSVars({root:a=":host, :root"}){const s=[a,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:et=>({[s]:et.__cssVars})})}createContext({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GlobalStyle(){const{colorMode:a}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:s=>{const et=memoizedGet$1(s,"styles.global"),nt=runIfFn$1(et,{theme:s,colorMode:a});return nt?css$2(nt)(s):void 0}})}const[PortalManagerContextProvider,usePortalManager]=createContext({strict:!1,name:"PortalManagerContext"});function PortalManager(a){const{children:s,zIndex:et}=a;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:et},children:s})}PortalManager.displayName="PortalManager";const EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(a){const{children:s,environment:et,disabled:nt}=a,at=reactExports.useRef(null),mt=reactExports.useMemo(()=>et||{getDocument:()=>{var $t;return(($t=at.current)==null?void 0:$t.ownerDocument)??document},getWindow:()=>{var $t;return(($t=at.current)==null?void 0:$t.ownerDocument.defaultView)??window}},[et]),wt=!nt||!et;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:mt,children:[s,wt&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:at})]})}EnvironmentProvider.displayName="EnvironmentProvider";const Provider=a=>{const{children:s,colorModeManager:et,portalZIndex:nt,resetScope:at,resetCSS:mt=!0,theme:wt={},environment:$t,cssVarsRoot:Ct,disableEnvironment:Dt,disableGlobalStyle:Ft}=a,jt=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:$t,disabled:Dt,children:s});return jsxRuntimeExports.jsx(ThemeProvider,{theme:wt,cssVarsRoot:Ct,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:et,options:wt.config,children:[mt?jsxRuntimeExports.jsx(CSSReset,{scope:at}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!Ft&&jsxRuntimeExports.jsx(GlobalStyle,{}),nt?jsxRuntimeExports.jsx(PortalManager,{zIndex:nt,children:jt}):jt]})})},LayoutGroupContext=reactExports.createContext({});function useConstant(a){const s=reactExports.useRef(null);return s.current===null&&(s.current=a()),s.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const et=this.props.childRef.current;if(et&&s.isPresent&&!this.props.isPresent){const nt=this.props.sizeRef.current;nt.height=et.offsetHeight||0,nt.width=et.offsetWidth||0,nt.top=et.offsetTop,nt.left=et.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:a,isPresent:s}){const et=reactExports.useId(),nt=reactExports.useRef(null),at=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:mt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:wt,height:$t,top:Ct,left:Dt}=at.current;if(s||!nt.current||!wt||!$t)return;nt.current.dataset.motionPopId=et;const Ft=document.createElement("style");return mt&&(Ft.nonce=mt),document.head.appendChild(Ft),Ft.sheet&&Ft.sheet.insertRule(`
          [data-motion-pop-id="${et}"] {
            position: absolute !important;
            width: ${wt}px !important;
            height: ${$t}px !important;
            top: ${Ct}px !important;
            left: ${Dt}px !important;
          }
        `),()=>{document.head.removeChild(Ft)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:nt,sizeRef:at,children:reactExports.cloneElement(a,{ref:nt})})}const PresenceChild=({children:a,initial:s,isPresent:et,onExitComplete:nt,custom:at,presenceAffectsLayout:mt,mode:wt})=>{const $t=useConstant(newChildrenMap),Ct=reactExports.useId(),Dt=reactExports.useCallback(jt=>{$t.set(jt,!0);for(const Ut of $t.values())if(!Ut)return;nt&&nt()},[$t,nt]),Ft=reactExports.useMemo(()=>({id:Ct,initial:s,isPresent:et,custom:at,onExitComplete:Dt,register:jt=>($t.set(jt,!1),()=>$t.delete(jt))}),mt?[Math.random(),Dt]:[et,Dt]);return reactExports.useMemo(()=>{$t.forEach((jt,Ut)=>$t.set(Ut,!1))},[et]),reactExports.useEffect(()=>{!et&&!$t.size&&nt&&nt()},[et]),wt==="popLayout"&&(a=jsxRuntimeExports.jsx(PopChild,{isPresent:et,children:a})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Ft,children:a})};function newChildrenMap(){return new Map}function usePresence(a=!0){const s=reactExports.useContext(PresenceContext);if(s===null)return[!0,null];const{isPresent:et,onExitComplete:nt,register:at}=s,mt=reactExports.useId();reactExports.useEffect(()=>{a&&at(mt)},[a]);const wt=reactExports.useCallback(()=>a&&nt&&nt(mt),[mt,nt,a]);return!et&&nt?[!1,wt]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(a){return a===null?!0:a.isPresent}const getChildKey=a=>a.key||"";function onlyElements(a){const s=[];return reactExports.Children.forEach(a,et=>{reactExports.isValidElement(et)&&s.push(et)}),s}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:a,custom:s,initial:et=!0,onExitComplete:nt,presenceAffectsLayout:at=!0,mode:mt="sync",propagate:wt=!1})=>{const[$t,Ct]=usePresence(wt),Dt=reactExports.useMemo(()=>onlyElements(a),[a]),Ft=wt&&!$t?[]:Dt.map(getChildKey),jt=reactExports.useRef(!0),Ut=reactExports.useRef(Dt),tr=useConstant(()=>new Map),[ir,sr]=reactExports.useState(Dt),[ur,fr]=reactExports.useState(Dt);useIsomorphicLayoutEffect(()=>{jt.current=!1,Ut.current=Dt;for(let vr=0;vr<ur.length;vr++){const yr=getChildKey(ur[vr]);Ft.includes(yr)?tr.delete(yr):tr.get(yr)!==!0&&tr.set(yr,!1)}},[ur,Ft.length,Ft.join("-")]);const dr=[];if(Dt!==ir){let vr=[...Dt];for(let yr=0;yr<ur.length;yr++){const xr=ur[yr],br=getChildKey(xr);Ft.includes(br)||(vr.splice(yr,0,xr),dr.push(xr))}mt==="wait"&&dr.length&&(vr=dr),fr(onlyElements(vr)),sr(Dt);return}const{forceRender:hr}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ur.map(vr=>{const yr=getChildKey(vr),xr=wt&&!$t?!1:Dt===ur||Ft.includes(yr),br=()=>{if(tr.has(yr))tr.set(yr,!0);else return;let wr=!0;tr.forEach(Sr=>{Sr||(wr=!1)}),wr&&(hr==null||hr(),fr(Ut.current),wt&&(Ct==null||Ct()),nt&&nt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:xr,initial:!jt.current||et?void 0:!1,custom:xr?void 0:s,presenceAffectsLayout:at,mode:mt,onExitComplete:xr?void 0:br,children:vr},yr)})})},noop$2=a=>a;let invariant$P=noop$2;function memo(a){let s;return()=>(s===void 0&&(s=a()),s)}const progress=(a,s,et)=>{const nt=s-a;return nt===0?1:(et-a)/nt},secondsToMilliseconds=a=>a*1e3,millisecondsToSeconds=a=>a/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(a){let s=new Set,et=new Set,nt=!1,at=!1;const mt=new WeakSet;let wt={delta:0,timestamp:0,isProcessing:!1};function $t(Dt){mt.has(Dt)&&(Ct.schedule(Dt),a()),Dt(wt)}const Ct={schedule:(Dt,Ft=!1,jt=!1)=>{const tr=jt&&nt?s:et;return Ft&&mt.add(Dt),tr.has(Dt)||tr.add(Dt),Dt},cancel:Dt=>{et.delete(Dt),mt.delete(Dt)},process:Dt=>{if(wt=Dt,nt){at=!0;return}nt=!0,[s,et]=[et,s],s.forEach($t),s.clear(),nt=!1,at&&(at=!1,Ct.process(Dt))}};return Ct}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(a,s){let et=!1,nt=!0;const at={delta:0,timestamp:0,isProcessing:!1},mt=()=>et=!0,wt=stepsOrder.reduce((fr,dr)=>(fr[dr]=createRenderStep(mt),fr),{}),{read:$t,resolveKeyframes:Ct,update:Dt,preRender:Ft,render:jt,postRender:Ut}=wt,tr=()=>{const fr=performance.now();et=!1,at.delta=nt?1e3/60:Math.max(Math.min(fr-at.timestamp,maxElapsed),1),at.timestamp=fr,at.isProcessing=!0,$t.process(at),Ct.process(at),Dt.process(at),Ft.process(at),jt.process(at),Ut.process(at),at.isProcessing=!1,et&&s&&(nt=!1,a(tr))},ir=()=>{et=!0,nt=!0,at.isProcessing||a(tr)};return{schedule:stepsOrder.reduce((fr,dr)=>{const hr=wt[dr];return fr[dr]=(vr,yr=!1,xr=!1)=>(et||ir(),hr.schedule(vr,yr,xr)),fr},{}),cancel:fr=>{for(let dr=0;dr<stepsOrder.length;dr++)wt[stepsOrder[dr]].cancel(fr)},state:at,steps:wt}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const a in featureProps)featureDefinitions[a]={isEnabled:s=>featureProps[a].some(et=>!!s[et])};function loadFeatures(a){for(const s in a)featureDefinitions[s]={...featureDefinitions[s],...a[s]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||validMotionProps.has(a)}let shouldForward=a=>!isValidMotionProp(a);function loadExternalIsValidProp(a){a&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):a(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(a,s,et){const nt={};for(const at in a)at==="values"&&typeof a.values=="object"||(shouldForward(at)||et===!0&&isValidMotionProp(at)||!s&&!isValidMotionProp(at)||a.draggable&&at.startsWith("onDrag"))&&(nt[at]=a[at]);return nt}function createDOMMotionComponentProxy(a){if(typeof Proxy>"u")return a;const s=new Map,et=(...nt)=>a(...nt);return new Proxy(et,{get:(nt,at)=>at==="create"?a:(s.has(at)||s.set(at,a(at)),s.get(at))})}const MotionContext=reactExports.createContext({});function isVariantLabel(a){return typeof a=="string"||Array.isArray(a)}function isAnimationControls(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(a){return isAnimationControls(a.animate)||variantProps.some(s=>isVariantLabel(a[s]))}function isVariantNode(a){return!!(isControllingVariants(a)||a.variants)}function getCurrentTreeVariants(a,s){if(isControllingVariants(a)){const{initial:et,animate:nt}=a;return{initial:et===!1||isVariantLabel(et)?et:void 0,animate:isVariantLabel(nt)?nt:void 0}}return a.inherit!==!1?s:{}}function useCreateMotionContext(a){const{initial:s,animate:et}=getCurrentTreeVariants(a,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:et}),[variantLabelsAsDependency(s),variantLabelsAsDependency(et)])}function variantLabelsAsDependency(a){return Array.isArray(a)?a.join(" "):a}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function useMotionRef(a,s,et){return reactExports.useCallback(nt=>{nt&&a.onMount&&a.onMount(nt),s&&(nt?s.mount(nt):s.unmount()),et&&(typeof et=="function"?et(nt):isRefObject(et)&&(et.current=nt))},[s])}const camelToDash=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(a,s,et,nt,at){var mt,wt;const{visualElement:$t}=reactExports.useContext(MotionContext),Ct=reactExports.useContext(LazyContext),Dt=reactExports.useContext(PresenceContext),Ft=reactExports.useContext(MotionConfigContext).reducedMotion,jt=reactExports.useRef(null);nt=nt||Ct.renderer,!jt.current&&nt&&(jt.current=nt(a,{visualState:s,parent:$t,props:et,presenceContext:Dt,blockInitialAnimation:Dt?Dt.initial===!1:!1,reducedMotionConfig:Ft}));const Ut=jt.current,tr=reactExports.useContext(SwitchLayoutGroupContext);Ut&&!Ut.projection&&at&&(Ut.type==="html"||Ut.type==="svg")&&createProjectionNode$1(jt.current,et,at,tr);const ir=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Ut&&ir.current&&Ut.update(et,Dt)});const sr=et[optimizedAppearDataAttribute],ur=reactExports.useRef(!!sr&&!(!((mt=window.MotionHandoffIsComplete)===null||mt===void 0)&&mt.call(window,sr))&&((wt=window.MotionHasOptimisedAnimation)===null||wt===void 0?void 0:wt.call(window,sr)));return useIsomorphicLayoutEffect(()=>{Ut&&(ir.current=!0,window.MotionIsMounted=!0,Ut.updateFeatures(),microtask.render(Ut.render),ur.current&&Ut.animationState&&Ut.animationState.animateChanges())}),reactExports.useEffect(()=>{Ut&&(!ur.current&&Ut.animationState&&Ut.animationState.animateChanges(),ur.current&&(queueMicrotask(()=>{var fr;(fr=window.MotionHandoffMarkAsComplete)===null||fr===void 0||fr.call(window,sr)}),ur.current=!1))}),Ut}function createProjectionNode$1(a,s,et,nt){const{layoutId:at,layout:mt,drag:wt,dragConstraints:$t,layoutScroll:Ct,layoutRoot:Dt}=s;a.projection=new et(a.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(a.parent)),a.projection.setOptions({layoutId:at,layout:mt,alwaysMeasureLayout:!!wt||$t&&isRefObject($t),visualElement:a,animationType:typeof mt=="string"?mt:"both",initialPromotionConfig:nt,layoutScroll:Ct,layoutRoot:Dt})}function getClosestProjectingNode(a){if(a)return a.options.allowProjection!==!1?a.projection:getClosestProjectingNode(a.parent)}function createRendererMotionComponent({preloadedFeatures:a,createVisualElement:s,useRender:et,useVisualState:nt,Component:at}){var mt,wt;a&&loadFeatures(a);function $t(Dt,Ft){let jt;const Ut={...reactExports.useContext(MotionConfigContext),...Dt,layoutId:useLayoutId(Dt)},{isStatic:tr}=Ut,ir=useCreateMotionContext(Dt),sr=nt(Dt,tr);if(!tr&&isBrowser){useStrictMode();const ur=getProjectionFunctionality(Ut);jt=ur.MeasureLayout,ir.visualElement=useVisualElement(at,sr,Ut,s,ur.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:ir,children:[jt&&ir.visualElement?jsxRuntimeExports.jsx(jt,{visualElement:ir.visualElement,...Ut}):null,et(at,Dt,useMotionRef(sr,ir.visualElement,Ft),sr,tr,ir.visualElement)]})}$t.displayName=`motion.${typeof at=="string"?at:`create(${(wt=(mt=at.displayName)!==null&&mt!==void 0?mt:at.name)!==null&&wt!==void 0?wt:""})`}`;const Ct=reactExports.forwardRef($t);return Ct[motionComponentSymbol]=at,Ct}function useLayoutId({layoutId:a}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&a!==void 0?s+"-"+a:a}function useStrictMode(a,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(a){const{drag:s,layout:et}=featureDefinitions;if(!s&&!et)return{};const nt={...s,...et};return{MeasureLayout:s!=null&&s.isEnabled(a)||et!=null&&et.isEnabled(a)?nt.MeasureLayout:void 0,ProjectionNode:nt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(a){return typeof a!="string"||a.includes("-")?!1:!!(lowercaseSVGElements.indexOf(a)>-1||/[A-Z]/u.test(a))}function getValueState(a){const s=[{},{}];return a==null||a.values.forEach((et,nt)=>{s[0][nt]=et.get(),s[1][nt]=et.getVelocity()}),s}function resolveVariantFromProps(a,s,et,nt){if(typeof s=="function"){const[at,mt]=getValueState(nt);s=s(et!==void 0?et:a.custom,at,mt)}if(typeof s=="string"&&(s=a.variants&&a.variants[s]),typeof s=="function"){const[at,mt]=getValueState(nt);s=s(et!==void 0?et:a.custom,at,mt)}return s}const isKeyframesTarget=a=>Array.isArray(a),isCustomValue=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),resolveFinalValueInKeyframes=a=>isKeyframesTarget(a)?a[a.length-1]||0:a,isMotionValue=a=>!!(a&&a.getVelocity);function resolveMotionValue(a){const s=isMotionValue(a)?a.get():a;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:a,createRenderState:s,onUpdate:et},nt,at,mt){const wt={latestValues:makeLatestValues(nt,at,mt,a),renderState:s()};return et&&(wt.onMount=$t=>et({props:nt,current:$t,...wt}),wt.onUpdate=$t=>et($t)),wt}const makeUseVisualState=a=>(s,et)=>{const nt=reactExports.useContext(MotionContext),at=reactExports.useContext(PresenceContext),mt=()=>makeState(a,s,nt,at);return et?mt():useConstant(mt)};function makeLatestValues(a,s,et,nt){const at={},mt=nt(a,{});for(const Ut in mt)at[Ut]=resolveMotionValue(mt[Ut]);let{initial:wt,animate:$t}=a;const Ct=isControllingVariants(a),Dt=isVariantNode(a);s&&Dt&&!Ct&&a.inherit!==!1&&(wt===void 0&&(wt=s.initial),$t===void 0&&($t=s.animate));let Ft=et?et.initial===!1:!1;Ft=Ft||wt===!1;const jt=Ft?$t:wt;if(jt&&typeof jt!="boolean"&&!isAnimationControls(jt)){const Ut=Array.isArray(jt)?jt:[jt];for(let tr=0;tr<Ut.length;tr++){const ir=resolveVariantFromProps(a,Ut[tr]);if(ir){const{transitionEnd:sr,transition:ur,...fr}=ir;for(const dr in fr){let hr=fr[dr];if(Array.isArray(hr)){const vr=Ft?hr.length-1:0;hr=hr[vr]}hr!==null&&(at[dr]=hr)}for(const dr in sr)at[dr]=sr[dr]}}}return at}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=a=>s=>typeof s=="string"&&s.startsWith(a),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=a=>startsAsVariableToken(a)?singleCssVariableRegex.test(a.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(a,s)=>s&&typeof a=="number"?s.transform(a):a,clamp$4=(a,s,et)=>et>s?s:et<a?a:et,number={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},alpha={...number,transform:a=>clamp$4(0,1,a)},scale$1={...number,default:1},createUnitType=a=>({test:s=>typeof s=="string"&&s.endsWith(a)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${a}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:a=>percent.parse(a)/100,transform:a=>percent.transform(a*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(a,s,et){let nt="",at=!0;for(let mt=0;mt<numTransforms;mt++){const wt=transformPropOrder[mt],$t=a[wt];if($t===void 0)continue;let Ct=!0;if(typeof $t=="number"?Ct=$t===(wt.startsWith("scale")?1:0):Ct=parseFloat($t)===0,!Ct||et){const Dt=getValueAsType($t,numberValueTypes[wt]);if(!Ct){at=!1;const Ft=translateAlias[wt]||wt;nt+=`${Ft}(${Dt}) `}et&&(s[wt]=Dt)}}return nt=nt.trim(),et?nt=et(s,at?"":nt):at&&(nt="none"),nt}function buildHTMLStyles(a,s,et){const{style:nt,vars:at,transformOrigin:mt}=a;let wt=!1,$t=!1;for(const Ct in s){const Dt=s[Ct];if(transformProps.has(Ct)){wt=!0;continue}else if(isCSSVariableName(Ct)){at[Ct]=Dt;continue}else{const Ft=getValueAsType(Dt,numberValueTypes[Ct]);Ct.startsWith("origin")?($t=!0,mt[Ct]=Ft):nt[Ct]=Ft}}if(s.transform||(wt||et?nt.transform=buildTransform(s,a.transform,et):nt.transform&&(nt.transform="none")),$t){const{originX:Ct="50%",originY:Dt="50%",originZ:Ft=0}=mt;nt.transformOrigin=`${Ct} ${Dt} ${Ft}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(a,s,et=1,nt=0,at=!0){a.pathLength=1;const mt=at?dashKeys:camelKeys;a[mt.offset]=px.transform(-nt);const wt=px.transform(s),$t=px.transform(et);a[mt.array]=`${wt} ${$t}`}function calcOrigin$1(a,s,et){return typeof a=="string"?a:px.transform(s+et*a)}function calcSVGTransformOrigin(a,s,et){const nt=calcOrigin$1(s,a.x,a.width),at=calcOrigin$1(et,a.y,a.height);return`${nt} ${at}`}function buildSVGAttrs(a,{attrX:s,attrY:et,attrScale:nt,originX:at,originY:mt,pathLength:wt,pathSpacing:$t=1,pathOffset:Ct=0,...Dt},Ft,jt){if(buildHTMLStyles(a,Dt,jt),Ft){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:Ut,style:tr,dimensions:ir}=a;Ut.transform&&(ir&&(tr.transform=Ut.transform),delete Ut.transform),ir&&(at!==void 0||mt!==void 0||tr.transform)&&(tr.transformOrigin=calcSVGTransformOrigin(ir,at!==void 0?at:.5,mt!==void 0?mt:.5)),s!==void 0&&(Ut.x=s),et!==void 0&&(Ut.y=et),nt!==void 0&&(Ut.scale=nt),wt!==void 0&&buildSVGPath(Ut,wt,$t,Ct,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=a=>typeof a=="string"&&a.toLowerCase()==="svg";function renderHTML(a,{style:s,vars:et},nt,at){Object.assign(a.style,s,at&&at.getProjectionStyles(nt));for(const mt in et)a.style.setProperty(mt,et[mt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(a,s,et,nt){renderHTML(a,s,void 0,nt);for(const at in s.attrs)a.setAttribute(camelCaseAttributes.has(at)?at:camelToDash(at),s.attrs[at])}const scaleCorrectors={};function addScaleCorrector(a){Object.assign(scaleCorrectors,a)}function isForcedMotionValue(a,{layout:s,layoutId:et}){return transformProps.has(a)||a.startsWith("origin")||(s||et!==void 0)&&(!!scaleCorrectors[a]||a==="opacity")}function scrapeMotionValuesFromProps$1(a,s,et){var nt;const{style:at}=a,mt={};for(const wt in at)(isMotionValue(at[wt])||s.style&&isMotionValue(s.style[wt])||isForcedMotionValue(wt,a)||((nt=et==null?void 0:et.getValue(wt))===null||nt===void 0?void 0:nt.liveStyle)!==void 0)&&(mt[wt]=at[wt]);return mt}function scrapeMotionValuesFromProps(a,s,et){const nt=scrapeMotionValuesFromProps$1(a,s,et);for(const at in a)if(isMotionValue(a[at])||isMotionValue(s[at])){const mt=transformPropOrder.indexOf(at)!==-1?"attr"+at.charAt(0).toUpperCase()+at.substring(1):at;nt[mt]=a[at]}return nt}function updateSVGDimensions(a,s){try{s.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:a,prevProps:s,current:et,renderState:nt,latestValues:at})=>{if(!et)return;let mt=!!a.drag;if(!mt){for(const $t in at)if(transformProps.has($t)){mt=!0;break}}if(!mt)return;let wt=!s;if(s)for(let $t=0;$t<layoutProps.length;$t++){const Ct=layoutProps[$t];a[Ct]!==s[Ct]&&(wt=!0)}wt&&frame.read(()=>{updateSVGDimensions(et,nt),frame.render(()=>{buildSVGAttrs(nt,at,isSVGTag(et.tagName),a.transformTemplate),renderSVG(et,nt)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(a,s,et){for(const nt in s)!isMotionValue(s[nt])&&!isForcedMotionValue(nt,et)&&(a[nt]=s[nt])}function useInitialMotionValues({transformTemplate:a},s){return reactExports.useMemo(()=>{const et=createHtmlRenderState();return buildHTMLStyles(et,s,a),Object.assign({},et.vars,et.style)},[s])}function useStyle(a,s){const et=a.style||{},nt={};return copyRawValuesOnly(nt,et,a),Object.assign(nt,useInitialMotionValues(a,s)),nt}function useHTMLProps(a,s){const et={},nt=useStyle(a,s);return a.drag&&a.dragListener!==!1&&(et.draggable=!1,nt.userSelect=nt.WebkitUserSelect=nt.WebkitTouchCallout="none",nt.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(et.tabIndex=0),et.style=nt,et}function useSVGProps(a,s,et,nt){const at=reactExports.useMemo(()=>{const mt=createSvgRenderState();return buildSVGAttrs(mt,s,isSVGTag(nt),a.transformTemplate),{...mt.attrs,style:{...mt.style}}},[s]);if(a.style){const mt={};copyRawValuesOnly(mt,a.style,a),at.style={...mt,...at.style}}return at}function createUseRender(a=!1){return(et,nt,at,{latestValues:mt},wt)=>{const Ct=(isSVGComponent(et)?useSVGProps:useHTMLProps)(nt,mt,wt,et),Dt=filterProps(nt,typeof et=="string",a),Ft=et!==reactExports.Fragment?{...Dt,...Ct,ref:at}:{},{children:jt}=nt,Ut=reactExports.useMemo(()=>isMotionValue(jt)?jt.get():jt,[jt]);return reactExports.createElement(et,{...Ft,children:Ut})}}function createMotionComponentFactory(a,s){return function(nt,{forwardMotionProps:at}={forwardMotionProps:!1}){const wt={...isSVGComponent(nt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:a,useRender:createUseRender(at),createVisualElement:s,Component:nt};return createRendererMotionComponent(wt)}}function shallowCompare(a,s){if(!Array.isArray(s))return!1;const et=s.length;if(et!==a.length)return!1;for(let nt=0;nt<et;nt++)if(s[nt]!==a[nt])return!1;return!0}function resolveVariant(a,s,et){const nt=a.getProps();return resolveVariantFromProps(nt,s,et!==void 0?et:nt.custom,a)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,et){for(let nt=0;nt<this.animations.length;nt++)this.animations[nt][s]=et}attachTimeline(s,et){const nt=this.animations.map(at=>{if(supportsScrollTimeline()&&at.attachTimeline)return at.attachTimeline(s);if(typeof et=="function")return et(at)});return()=>{nt.forEach((at,mt)=>{at&&at(),this.animations[mt].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let et=0;et<this.animations.length;et++)s=Math.max(s,this.animations[et].duration);return s}runAll(s){this.animations.forEach(et=>et[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(s,et){return Promise.all(this.animations).then(s).catch(et)}}function getValueTransition(a,s){return a?a[s]||a.default||a:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(a){let s=0;const et=50;let nt=a.next(s);for(;!nt.done&&s<maxGeneratorDuration;)s+=et,nt=a.next(s);return s>=maxGeneratorDuration?1/0:s}function isGenerator(a){return typeof a=="function"}function attachTimeline(a,s){a.timeline=s,a.onfinish=null}const isBezierDefinition=a=>Array.isArray(a)&&typeof a[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(a,s){const et=memo(a);return()=>{var nt;return(nt=supportsFlags[s])!==null&&nt!==void 0?nt:et()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(a,s,et=10)=>{let nt="";const at=Math.max(Math.round(s/et),2);for(let mt=0;mt<at;mt++)nt+=a(progress(0,at-1,mt))+", ";return`linear(${nt.substring(0,nt.length-2)})`};function isWaapiSupportedEasing(a){return!!(typeof a=="function"&&supportsLinearEasing()||!a||typeof a=="string"&&(a in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(a)||Array.isArray(a)&&a.every(isWaapiSupportedEasing))}const cubicBezierAsString=([a,s,et,nt])=>`cubic-bezier(${a}, ${s}, ${et}, ${nt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(a,s){if(a)return typeof a=="function"&&supportsLinearEasing()?generateLinearEasing(a,s):isBezierDefinition(a)?cubicBezierAsString(a):Array.isArray(a)?a.map(et=>mapEasingToNativeEasing(et,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[a]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(a,s,et){var nt;if(a instanceof Element)return[a];if(typeof a=="string"){let at=document;const mt=(nt=void 0)!==null&&nt!==void 0?nt:at.querySelectorAll(a);return mt?Array.from(mt):[]}return Array.from(a)}function setupGesture(a,s){const et=resolveElements(a),nt=new AbortController,at={passive:!0,...s,signal:nt.signal};return[et,at,()=>nt.abort()]}function filterEvents$1(a){return s=>{s.pointerType==="touch"||isDragActive()||a(s)}}function hover(a,s,et={}){const[nt,at,mt]=setupGesture(a,et),wt=filterEvents$1($t=>{const{target:Ct}=$t,Dt=s($t);if(typeof Dt!="function"||!Ct)return;const Ft=filterEvents$1(jt=>{Dt(jt),Ct.removeEventListener("pointerleave",Ft)});Ct.addEventListener("pointerleave",Ft,at)});return nt.forEach($t=>{$t.addEventListener("pointerenter",wt,at)}),mt}const isNodeOrChild=(a,s)=>s?a===s?!0:isNodeOrChild(a,s.parentElement):!1,isPrimaryPointer=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(a){return focusableElements.has(a.tagName)||a.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(a){return s=>{s.key==="Enter"&&a(s)}}function firePointerEvent(a,s){a.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(a,s)=>{const et=a.currentTarget;if(!et)return;const nt=filterEvents(()=>{if(isPressing.has(et))return;firePointerEvent(et,"down");const at=filterEvents(()=>{firePointerEvent(et,"up")}),mt=()=>firePointerEvent(et,"cancel");et.addEventListener("keyup",at,s),et.addEventListener("blur",mt,s)});et.addEventListener("keydown",nt,s),et.addEventListener("blur",()=>et.removeEventListener("keydown",nt),s)};function isValidPressEvent(a){return isPrimaryPointer(a)&&!isDragActive()}function press(a,s,et={}){const[nt,at,mt]=setupGesture(a,et),wt=$t=>{const Ct=$t.currentTarget;if(!isValidPressEvent($t)||isPressing.has(Ct))return;isPressing.add(Ct);const Dt=s($t),Ft=(tr,ir)=>{window.removeEventListener("pointerup",jt),window.removeEventListener("pointercancel",Ut),!(!isValidPressEvent(tr)||!isPressing.has(Ct))&&(isPressing.delete(Ct),typeof Dt=="function"&&Dt(tr,{success:ir}))},jt=tr=>{Ft(tr,et.useGlobalTarget||isNodeOrChild(Ct,tr.target))},Ut=tr=>{Ft(tr,!1)};window.addEventListener("pointerup",jt,at),window.addEventListener("pointercancel",Ut,at)};return nt.forEach($t=>{!isElementKeyboardAccessible($t)&&$t.getAttribute("tabindex")===null&&($t.tabIndex=0),(et.useGlobalTarget?window:$t).addEventListener("pointerdown",wt,at),$t.addEventListener("focus",Dt=>enableKeyboardPress(Dt,at),at)}),mt}function setDragLock(a){return a==="x"||a==="y"?isDragging[a]?null:(isDragging[a]=!0,()=>{isDragging[a]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:a=>{now=a,queueMicrotask(clearTime)}};function addUniqueItem(a,s){a.indexOf(s)===-1&&a.push(s)}function removeItem(a,s){const et=a.indexOf(s);et>-1&&a.splice(et,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,et,nt){const at=this.subscriptions.length;if(at)if(at===1)this.subscriptions[0](s,et,nt);else for(let mt=0;mt<at;mt++){const wt=this.subscriptions[mt];wt&&wt(s,et,nt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(a,s){return s?a*(1e3/s):0}const MAX_VELOCITY_DELTA=30,isFloat=a=>!isNaN(parseFloat(a));class MotionValue{constructor(s,et={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(nt,at=!0)=>{const mt=time.now();this.updatedAt!==mt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(nt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),at&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=et.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,et){this.events[s]||(this.events[s]=new SubscriptionManager);const nt=this.events[s].add(et);return s==="change"?()=>{nt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:nt}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,et){this.passiveEffect=s,this.stopPassiveEffect=et}set(s,et=!0){!et||!this.passiveEffect?this.updateAndNotify(s,et):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,et,nt){this.set(et),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-nt}jump(s,et=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,et&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const et=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),et)}start(s){return this.stop(),new Promise(et=>{this.hasAnimated=!0,this.animation=s(et),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(a,s){return new MotionValue(a,s)}function setMotionValue(a,s,et){a.hasValue(s)?a.getValue(s).set(et):a.addValue(s,motionValue(et))}function setTarget(a,s){const et=resolveVariant(a,s);let{transitionEnd:nt={},transition:at={},...mt}=et||{};mt={...mt,...nt};for(const wt in mt){const $t=resolveFinalValueInKeyframes(mt[wt]);setMotionValue(a,wt,$t)}}function isWillChangeMotionValue(a){return!!(isMotionValue(a)&&a.add)}function addValueToWillChange(a,s){const et=a.getValue("willChange");if(isWillChangeMotionValue(et))return et.add(s)}function getOptimisedAppearId(a){return a.props[optimizedAppearDataAttribute]}const calcBezier=(a,s,et)=>(((1-3*et+3*s)*a+(3*et-6*s))*a+3*s)*a,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(a,s,et,nt,at){let mt,wt,$t=0;do wt=s+(et-s)/2,mt=calcBezier(wt,nt,at)-a,mt>0?et=wt:s=wt;while(Math.abs(mt)>subdivisionPrecision&&++$t<subdivisionMaxIterations);return wt}function cubicBezier(a,s,et,nt){if(a===s&&et===nt)return noop$2;const at=mt=>binarySubdivide(mt,0,1,a,et);return mt=>mt===0||mt===1?mt:calcBezier(at(mt),s,nt)}const mirrorEasing=a=>s=>s<=.5?a(2*s)/2:(2-a(2*(1-s)))/2,reverseEasing=a=>s=>1-a(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=a=>(a*=2)<1?.5*backIn(a):.5*(2-Math.pow(2,-10*(a-1))),circIn=a=>1-Math.sin(Math.acos(a)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=a=>/^0[^.\s]+$/u.test(a);function isNone(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||isZeroValueString(a):!0}const sanitize=a=>Math.round(a*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(a){return a==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(a,s)=>et=>!!(typeof et=="string"&&singleColorRegex.test(et)&&et.startsWith(a)||s&&!isNullish(et)&&Object.prototype.hasOwnProperty.call(et,s)),splitColor=(a,s,et)=>nt=>{if(typeof nt!="string")return nt;const[at,mt,wt,$t]=nt.match(floatRegex);return{[a]:parseFloat(at),[s]:parseFloat(mt),[et]:parseFloat(wt),alpha:$t!==void 0?parseFloat($t):1}},clampRgbUnit=a=>clamp$4(0,255,a),rgbUnit={...number,transform:a=>Math.round(clampRgbUnit(a))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:a,green:s,blue:et,alpha:nt=1})=>"rgba("+rgbUnit.transform(a)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(et)+", "+sanitize(alpha.transform(nt))+")"};function parseHex(a){let s="",et="",nt="",at="";return a.length>5?(s=a.substring(1,3),et=a.substring(3,5),nt=a.substring(5,7),at=a.substring(7,9)):(s=a.substring(1,2),et=a.substring(2,3),nt=a.substring(3,4),at=a.substring(4,5),s+=s,et+=et,nt+=nt,at+=at),{red:parseInt(s,16),green:parseInt(et,16),blue:parseInt(nt,16),alpha:at?parseInt(at,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:a,saturation:s,lightness:et,alpha:nt=1})=>"hsla("+Math.round(a)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(et))+", "+sanitize(alpha.transform(nt))+")"},color={test:a=>rgba.test(a)||hex.test(a)||hsla.test(a),parse:a=>rgba.test(a)?rgba.parse(a):hsla.test(a)?hsla.parse(a):hex.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?rgba.transform(a):hsla.transform(a)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(a){var s,et;return isNaN(a)&&typeof a=="string"&&(((s=a.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((et=a.match(colorRegex))===null||et===void 0?void 0:et.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(a){const s=a.toString(),et=[],nt={color:[],number:[],var:[]},at=[];let mt=0;const $t=s.replace(complexRegex,Ct=>(color.test(Ct)?(nt.color.push(mt),at.push(COLOR_TOKEN),et.push(color.parse(Ct))):Ct.startsWith(VAR_FUNCTION_TOKEN)?(nt.var.push(mt),at.push(VAR_TOKEN),et.push(Ct)):(nt.number.push(mt),at.push(NUMBER_TOKEN),et.push(parseFloat(Ct))),++mt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:et,split:$t,indexes:nt,types:at}}function parseComplexValue(a){return analyseComplexValue(a).values}function createTransformer(a){const{split:s,types:et}=analyseComplexValue(a),nt=s.length;return at=>{let mt="";for(let wt=0;wt<nt;wt++)if(mt+=s[wt],at[wt]!==void 0){const $t=et[wt];$t===NUMBER_TOKEN?mt+=sanitize(at[wt]):$t===COLOR_TOKEN?mt+=color.transform(at[wt]):mt+=at[wt]}return mt}}const convertNumbersToZero=a=>typeof a=="number"?0:a;function getAnimatableNone$1(a){const s=parseComplexValue(a);return createTransformer(a)(s.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(a){const[s,et]=a.slice(0,-1).split("(");if(s==="drop-shadow")return a;const[nt]=et.match(floatRegex)||[];if(!nt)return a;const at=et.replace(nt,"");let mt=maxDefaults.has(s)?1:0;return nt!==et&&(mt*=100),s+"("+mt+at+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:a=>{const s=a.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):a}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=a=>defaultValueTypes[a];function getAnimatableNone(a,s){let et=getDefaultValueType(a);return et!==filter&&(et=complex),et.getAnimatableNone?et.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(a,s,et){let nt=0,at;for(;nt<a.length&&!at;){const mt=a[nt];typeof mt=="string"&&!invalidTemplates.has(mt)&&analyseComplexValue(mt).values.length&&(at=a[nt]),nt++}if(at&&et)for(const mt of s)a[mt]=getAnimatableNone(et,at)}const isNumOrPxType=a=>a===number||a===px,getPosFromMatrix=(a,s)=>parseFloat(a.split(", ")[s]),getTranslateFromMatrix=(a,s)=>(et,{transform:nt})=>{if(nt==="none"||!nt)return 0;const at=nt.match(/^matrix3d\((.+)\)$/u);if(at)return getPosFromMatrix(at[1],s);{const mt=nt.match(/^matrix\((.+)\)$/u);return mt?getPosFromMatrix(mt[1],a):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(a=>!transformKeys.has(a));function removeNonTranslationalTransform(a){const s=[];return nonTranslationalTransformKeys.forEach(et=>{const nt=a.getValue(et);nt!==void 0&&(s.push([et,nt.get()]),nt.set(et.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:a},{paddingLeft:s="0",paddingRight:et="0"})=>a.max-a.min-parseFloat(s)-parseFloat(et),height:({y:a},{paddingTop:s="0",paddingBottom:et="0"})=>a.max-a.min-parseFloat(s)-parseFloat(et),top:(a,{top:s})=>parseFloat(s),left:(a,{left:s})=>parseFloat(s),bottom:({y:a},{top:s})=>parseFloat(s)+(a.max-a.min),right:({x:a},{left:s})=>parseFloat(s)+(a.max-a.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const a=Array.from(toResolve).filter(nt=>nt.needsMeasurement),s=new Set(a.map(nt=>nt.element)),et=new Map;s.forEach(nt=>{const at=removeNonTranslationalTransform(nt);at.length&&(et.set(nt,at),nt.render())}),a.forEach(nt=>nt.measureInitialState()),s.forEach(nt=>{nt.render();const at=et.get(nt);at&&at.forEach(([mt,wt])=>{var $t;($t=nt.getValue(mt))===null||$t===void 0||$t.set(wt)})}),a.forEach(nt=>nt.measureEndState()),a.forEach(nt=>{nt.suspendedScrollY!==void 0&&window.scrollTo(0,nt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(a=>a.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,et,nt,at,mt,wt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=et,this.name=nt,this.motionValue=at,this.element=mt,this.isAsync=wt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:et,element:nt,motionValue:at}=this;for(let mt=0;mt<s.length;mt++)if(s[mt]===null)if(mt===0){const wt=at==null?void 0:at.get(),$t=s[s.length-1];if(wt!==void 0)s[0]=wt;else if(nt&&et){const Ct=nt.readValue(et,$t);Ct!=null&&(s[0]=Ct)}s[0]===void 0&&(s[0]=$t),at&&wt===void 0&&at.set(s[0])}else s[mt]=s[mt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(a){const s=splitCSSVariableRegex.exec(a);if(!s)return[,];const[,et,nt,at]=s;return[`--${et??nt}`,at]}function getVariableValue(a,s,et=1){const[nt,at]=parseCSSVariable(a);if(!nt)return;const mt=window.getComputedStyle(s).getPropertyValue(nt);if(mt){const wt=mt.trim();return isNumericalString(wt)?parseFloat(wt):wt}return isCSSVariableToken(at)?getVariableValue(at,s,et+1):at}const testValueType=a=>s=>s.test(a),auto$1={test:a=>a==="auto",parse:a=>a},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=a=>dimensionValueTypes.find(testValueType(a));class DOMKeyframesResolver extends KeyframeResolver{constructor(s,et,nt,at,mt){super(s,et,nt,at,mt,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:et,name:nt}=this;if(!et||!et.current)return;super.readKeyframes();for(let Ct=0;Ct<s.length;Ct++){let Dt=s[Ct];if(typeof Dt=="string"&&(Dt=Dt.trim(),isCSSVariableToken(Dt))){const Ft=getVariableValue(Dt,et.current);Ft!==void 0&&(s[Ct]=Ft),Ct===s.length-1&&(this.finalKeyframe=Dt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(nt)||s.length!==2)return;const[at,mt]=s,wt=findDimensionValueType(at),$t=findDimensionValueType(mt);if(wt!==$t)if(isNumOrPxType(wt)&&isNumOrPxType($t))for(let Ct=0;Ct<s.length;Ct++){const Dt=s[Ct];typeof Dt=="string"&&(s[Ct]=parseFloat(Dt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:et}=this,nt=[];for(let at=0;at<s.length;at++)isNone(s[at])&&nt.push(at);nt.length&&makeNoneKeyframesAnimatable(s,nt,et)}measureInitialState(){const{element:s,unresolvedKeyframes:et,name:nt}=this;if(!s||!s.current)return;nt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[nt](s.measureViewportBox(),window.getComputedStyle(s.current)),et[0]=this.measuredOrigin;const at=et[et.length-1];at!==void 0&&s.getValue(nt,at).jump(at,!1)}measureEndState(){var s;const{element:et,name:nt,unresolvedKeyframes:at}=this;if(!et||!et.current)return;const mt=et.getValue(nt);mt&&mt.jump(this.measuredOrigin,!1);const wt=at.length-1,$t=at[wt];at[wt]=positionalValues[nt](et.measureViewportBox(),window.getComputedStyle(et.current)),$t!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=$t),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([Ct,Dt])=>{et.getValue(Ct).set(Dt)}),this.resolveNoneKeyframes()}}const isAnimatable=(a,s)=>s==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(complex.test(a)||a==="0")&&!a.startsWith("url("));function hasKeyframesChanged(a){const s=a[0];if(a.length===1)return!0;for(let et=0;et<a.length;et++)if(a[et]!==s)return!0}function canAnimate(a,s,et,nt){const at=a[0];if(at===null)return!1;if(s==="display"||s==="visibility")return!0;const mt=a[a.length-1],wt=isAnimatable(at,s),$t=isAnimatable(mt,s);return!wt||!$t?!1:hasKeyframesChanged(a)||(et==="spring"||isGenerator(et))&&nt}const isNotNull=a=>a!==null;function getFinalKeyframe(a,{repeat:s,repeatType:et="loop"},nt){const at=a.filter(isNotNull),mt=s&&et!=="loop"&&s%2===1?0:at.length-1;return!mt||nt===void 0?at[mt]:nt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:et=0,type:nt="keyframes",repeat:at=0,repeatDelay:mt=0,repeatType:wt="loop",...$t}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:et,type:nt,repeat:at,repeatDelay:mt,repeatType:wt,...$t},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,et){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:nt,type:at,velocity:mt,delay:wt,onComplete:$t,onUpdate:Ct,isGenerator:Dt}=this.options;if(!Dt&&!canAnimate(s,nt,at,mt))if(wt)this.options.duration=0;else{Ct&&Ct(getFinalKeyframe(s,this.options,et)),$t&&$t(),this.resolveFinishedPromise();return}const Ft=this.initPlayback(s,et);Ft!==!1&&(this._resolved={keyframes:s,finalKeyframe:et,...Ft},this.onPostResolved())}onPostResolved(){}then(s,et){return this.currentFinishedPromise.then(s,et)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const mixNumber$1=(a,s,et)=>a+(s-a)*et;function hueToRgb(a,s,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?a+(s-a)*6*et:et<1/2?s:et<2/3?a+(s-a)*(2/3-et)*6:a}function hslaToRgba({hue:a,saturation:s,lightness:et,alpha:nt}){a/=360,s/=100,et/=100;let at=0,mt=0,wt=0;if(!s)at=mt=wt=et;else{const $t=et<.5?et*(1+s):et+s-et*s,Ct=2*et-$t;at=hueToRgb(Ct,$t,a+1/3),mt=hueToRgb(Ct,$t,a),wt=hueToRgb(Ct,$t,a-1/3)}return{red:Math.round(at*255),green:Math.round(mt*255),blue:Math.round(wt*255),alpha:nt}}function mixImmediate(a,s){return et=>et>0?s:a}const mixLinearColor=(a,s,et)=>{const nt=a*a,at=et*(s*s-nt)+nt;return at<0?0:Math.sqrt(at)},colorTypes=[hex,rgba,hsla],getColorType=a=>colorTypes.find(s=>s.test(a));function asRGBA(a){const s=getColorType(a);if(!s)return!1;let et=s.parse(a);return s===hsla&&(et=hslaToRgba(et)),et}const mixColor=(a,s)=>{const et=asRGBA(a),nt=asRGBA(s);if(!et||!nt)return mixImmediate(a,s);const at={...et};return mt=>(at.red=mixLinearColor(et.red,nt.red,mt),at.green=mixLinearColor(et.green,nt.green,mt),at.blue=mixLinearColor(et.blue,nt.blue,mt),at.alpha=mixNumber$1(et.alpha,nt.alpha,mt),rgba.transform(at))},combineFunctions=(a,s)=>et=>s(a(et)),pipe$1=(...a)=>a.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(a,s){return invisibleValues.has(a)?et=>et<=0?a:s:et=>et>=1?s:a}function mixNumber(a,s){return et=>mixNumber$1(a,s,et)}function getMixer(a){return typeof a=="number"?mixNumber:typeof a=="string"?isCSSVariableToken(a)?mixImmediate:color.test(a)?mixColor:mixComplex:Array.isArray(a)?mixArray:typeof a=="object"?color.test(a)?mixColor:mixObject:mixImmediate}function mixArray(a,s){const et=[...a],nt=et.length,at=a.map((mt,wt)=>getMixer(mt)(mt,s[wt]));return mt=>{for(let wt=0;wt<nt;wt++)et[wt]=at[wt](mt);return et}}function mixObject(a,s){const et={...a,...s},nt={};for(const at in et)a[at]!==void 0&&s[at]!==void 0&&(nt[at]=getMixer(a[at])(a[at],s[at]));return at=>{for(const mt in nt)et[mt]=nt[mt](at);return et}}function matchOrder(a,s){var et;const nt=[],at={color:0,var:0,number:0};for(let mt=0;mt<s.values.length;mt++){const wt=s.types[mt],$t=a.indexes[wt][at[wt]],Ct=(et=a.values[$t])!==null&&et!==void 0?et:0;nt[mt]=Ct,at[wt]++}return nt}const mixComplex=(a,s)=>{const et=complex.createTransformer(s),nt=analyseComplexValue(a),at=analyseComplexValue(s);return nt.indexes.var.length===at.indexes.var.length&&nt.indexes.color.length===at.indexes.color.length&&nt.indexes.number.length>=at.indexes.number.length?invisibleValues.has(a)&&!at.values.length||invisibleValues.has(s)&&!nt.values.length?mixVisibility(a,s):pipe$1(mixArray(matchOrder(nt,at),at.values),et):mixImmediate(a,s)};function mix(a,s,et){return typeof a=="number"&&typeof s=="number"&&typeof et=="number"?mixNumber$1(a,s,et):getMixer(a)(a,s)}const velocitySampleDuration=5;function calcGeneratorVelocity(a,s,et){const nt=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(et-a(nt),s-nt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:a=springDefaults.duration,bounce:s=springDefaults.bounce,velocity:et=springDefaults.velocity,mass:nt=springDefaults.mass}){let at,mt,wt=1-s;wt=clamp$4(springDefaults.minDamping,springDefaults.maxDamping,wt),a=clamp$4(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(a)),wt<1?(at=Dt=>{const Ft=Dt*wt,jt=Ft*a,Ut=Ft-et,tr=calcAngularFreq(Dt,wt),ir=Math.exp(-jt);return safeMin-Ut/tr*ir},mt=Dt=>{const jt=Dt*wt*a,Ut=jt*et+et,tr=Math.pow(wt,2)*Math.pow(Dt,2)*a,ir=Math.exp(-jt),sr=calcAngularFreq(Math.pow(Dt,2),wt);return(-at(Dt)+safeMin>0?-1:1)*((Ut-tr)*ir)/sr}):(at=Dt=>{const Ft=Math.exp(-Dt*a),jt=(Dt-et)*a+1;return-.001+Ft*jt},mt=Dt=>{const Ft=Math.exp(-Dt*a),jt=(et-Dt)*(a*a);return Ft*jt});const $t=5/a,Ct=approximateRoot(at,mt,$t);if(a=secondsToMilliseconds(a),isNaN(Ct))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:a};{const Dt=Math.pow(Ct,2)*nt;return{stiffness:Dt,damping:wt*2*Math.sqrt(nt*Dt),duration:a}}}const rootIterations=12;function approximateRoot(a,s,et){let nt=et;for(let at=1;at<rootIterations;at++)nt=nt-a(nt)/s(nt);return nt}function calcAngularFreq(a,s){return a*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(a,s){return s.some(et=>a[et]!==void 0)}function getSpringOptions(a){let s={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...a};if(!isSpringType(a,physicsKeys)&&isSpringType(a,durationKeys))if(a.visualDuration){const et=a.visualDuration,nt=2*Math.PI/(et*1.2),at=nt*nt,mt=2*clamp$4(.05,1,1-(a.bounce||0))*Math.sqrt(at);s={...s,mass:springDefaults.mass,stiffness:at,damping:mt}}else{const et=findSpring(a);s={...s,...et,mass:springDefaults.mass},s.isResolvedFromDuration=!0}return s}function spring(a=springDefaults.visualDuration,s=springDefaults.bounce){const et=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:s}:a;let{restSpeed:nt,restDelta:at}=et;const mt=et.keyframes[0],wt=et.keyframes[et.keyframes.length-1],$t={done:!1,value:mt},{stiffness:Ct,damping:Dt,mass:Ft,duration:jt,velocity:Ut,isResolvedFromDuration:tr}=getSpringOptions({...et,velocity:-millisecondsToSeconds(et.velocity||0)}),ir=Ut||0,sr=Dt/(2*Math.sqrt(Ct*Ft)),ur=wt-mt,fr=millisecondsToSeconds(Math.sqrt(Ct/Ft)),dr=Math.abs(ur)<5;nt||(nt=dr?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),at||(at=dr?springDefaults.restDelta.granular:springDefaults.restDelta.default);let hr;if(sr<1){const yr=calcAngularFreq(fr,sr);hr=xr=>{const br=Math.exp(-sr*fr*xr);return wt-br*((ir+sr*fr*ur)/yr*Math.sin(yr*xr)+ur*Math.cos(yr*xr))}}else if(sr===1)hr=yr=>wt-Math.exp(-fr*yr)*(ur+(ir+fr*ur)*yr);else{const yr=fr*Math.sqrt(sr*sr-1);hr=xr=>{const br=Math.exp(-sr*fr*xr),wr=Math.min(yr*xr,300);return wt-br*((ir+sr*fr*ur)*Math.sinh(wr)+yr*ur*Math.cosh(wr))/yr}}const vr={calculatedDuration:tr&&jt||null,next:yr=>{const xr=hr(yr);if(tr)$t.done=yr>=jt;else{let br=0;sr<1&&(br=yr===0?secondsToMilliseconds(ir):calcGeneratorVelocity(hr,yr,xr));const wr=Math.abs(br)<=nt,Sr=Math.abs(wt-xr)<=at;$t.done=wr&&Sr}return $t.value=$t.done?wt:xr,$t},toString:()=>{const yr=Math.min(calcGeneratorDuration(vr),maxGeneratorDuration),xr=generateLinearEasing(br=>vr.next(yr*br).value,yr,30);return yr+"ms "+xr}};return vr}function inertia({keyframes:a,velocity:s=0,power:et=.8,timeConstant:nt=325,bounceDamping:at=10,bounceStiffness:mt=500,modifyTarget:wt,min:$t,max:Ct,restDelta:Dt=.5,restSpeed:Ft}){const jt=a[0],Ut={done:!1,value:jt},tr=wr=>$t!==void 0&&wr<$t||Ct!==void 0&&wr>Ct,ir=wr=>$t===void 0?Ct:Ct===void 0||Math.abs($t-wr)<Math.abs(Ct-wr)?$t:Ct;let sr=et*s;const ur=jt+sr,fr=wt===void 0?ur:wt(ur);fr!==ur&&(sr=fr-jt);const dr=wr=>-sr*Math.exp(-wr/nt),hr=wr=>fr+dr(wr),vr=wr=>{const Sr=dr(wr),Cr=hr(wr);Ut.done=Math.abs(Sr)<=Dt,Ut.value=Ut.done?fr:Cr};let yr,xr;const br=wr=>{tr(Ut.value)&&(yr=wr,xr=spring({keyframes:[Ut.value,ir(Ut.value)],velocity:calcGeneratorVelocity(hr,wr,Ut.value),damping:at,stiffness:mt,restDelta:Dt,restSpeed:Ft}))};return br(0),{calculatedDuration:null,next:wr=>{let Sr=!1;return!xr&&yr===void 0&&(Sr=!0,vr(wr),br(wr)),yr!==void 0&&wr>=yr?xr.next(wr-yr):(!Sr&&vr(wr),Ut)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=a=>Array.isArray(a)&&typeof a[0]!="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=a=>{if(isBezierDefinition(a)){invariant$P(a.length===4);const[s,et,nt,at]=a;return cubicBezier(s,et,nt,at)}else if(typeof a=="string")return easingLookup[a];return a};function createMixers(a,s,et){const nt=[],at=et||mix,mt=a.length-1;for(let wt=0;wt<mt;wt++){let $t=at(a[wt],a[wt+1]);if(s){const Ct=Array.isArray(s)?s[wt]||noop$2:s;$t=pipe$1(Ct,$t)}nt.push($t)}return nt}function interpolate(a,s,{clamp:et=!0,ease:nt,mixer:at}={}){const mt=a.length;if(invariant$P(mt===s.length),mt===1)return()=>s[0];if(mt===2&&s[0]===s[1])return()=>s[1];const wt=a[0]===a[1];a[0]>a[mt-1]&&(a=[...a].reverse(),s=[...s].reverse());const $t=createMixers(s,nt,at),Ct=$t.length,Dt=Ft=>{if(wt&&Ft<a[0])return s[0];let jt=0;if(Ct>1)for(;jt<a.length-2&&!(Ft<a[jt+1]);jt++);const Ut=progress(a[jt],a[jt+1],Ft);return $t[jt](Ut)};return et?Ft=>Dt(clamp$4(a[0],a[mt-1],Ft)):Dt}function fillOffset(a,s){const et=a[a.length-1];for(let nt=1;nt<=s;nt++){const at=progress(0,s,nt);a.push(mixNumber$1(et,1,at))}}function defaultOffset(a){const s=[0];return fillOffset(s,a.length-1),s}function convertOffsetToTimes(a,s){return a.map(et=>et*s)}function defaultEasing(a,s){return a.map(()=>s||easeInOut).splice(0,a.length-1)}function keyframes({duration:a=300,keyframes:s,times:et,ease:nt="easeInOut"}){const at=isEasingArray(nt)?nt.map(easingDefinitionToFunction):easingDefinitionToFunction(nt),mt={done:!1,value:s[0]},wt=convertOffsetToTimes(et&&et.length===s.length?et:defaultOffset(s),a),$t=interpolate(wt,s,{ease:Array.isArray(at)?at:defaultEasing(s,at)});return{calculatedDuration:a,next:Ct=>(mt.value=$t(Ct),mt.done=Ct>=a,mt)}}const frameloopDriver=a=>{const s=({timestamp:et})=>a(et);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=a=>a/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Ct}=this.options;Ct&&Ct()};const{name:et,motionValue:nt,element:at,keyframes:mt}=this.options,wt=(at==null?void 0:at.KeyframeResolver)||KeyframeResolver,$t=(Ct,Dt)=>this.onKeyframesResolved(Ct,Dt);this.resolver=new wt(mt,$t,et,nt,at),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:et="keyframes",repeat:nt=0,repeatDelay:at=0,repeatType:mt,velocity:wt=0}=this.options,$t=isGenerator(et)?et:generators[et]||keyframes;let Ct,Dt;$t!==keyframes&&typeof s[0]!="number"&&(Ct=pipe$1(percentToProgress,mix(s[0],s[1])),s=[0,100]);const Ft=$t({...this.options,keyframes:s});mt==="mirror"&&(Dt=$t({...this.options,keyframes:[...s].reverse(),velocity:-wt})),Ft.calculatedDuration===null&&(Ft.calculatedDuration=calcGeneratorDuration(Ft));const{calculatedDuration:jt}=Ft,Ut=jt+at,tr=Ut*(nt+1)-at;return{generator:Ft,mirroredGenerator:Dt,mapPercentToKeyframes:Ct,calculatedDuration:jt,resolvedDuration:Ut,totalDuration:tr}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,et=!1){const{resolved:nt}=this;if(!nt){const{keyframes:wr}=this.options;return{done:!0,value:wr[wr.length-1]}}const{finalKeyframe:at,generator:mt,mirroredGenerator:wt,mapPercentToKeyframes:$t,keyframes:Ct,calculatedDuration:Dt,totalDuration:Ft,resolvedDuration:jt}=nt;if(this.startTime===null)return mt.next(0);const{delay:Ut,repeat:tr,repeatType:ir,repeatDelay:sr,onUpdate:ur}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-Ft/this.speed,this.startTime)),et?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const fr=this.currentTime-Ut*(this.speed>=0?1:-1),dr=this.speed>=0?fr<0:fr>Ft;this.currentTime=Math.max(fr,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Ft);let hr=this.currentTime,vr=mt;if(tr){const wr=Math.min(this.currentTime,Ft)/jt;let Sr=Math.floor(wr),Cr=wr%1;!Cr&&wr>=1&&(Cr=1),Cr===1&&Sr--,Sr=Math.min(Sr,tr+1),!!(Sr%2)&&(ir==="reverse"?(Cr=1-Cr,sr&&(Cr-=sr/jt)):ir==="mirror"&&(vr=wt)),hr=clamp$4(0,1,Cr)*jt}const yr=dr?{done:!1,value:Ct[0]}:vr.next(hr);$t&&(yr.value=$t(yr.value));let{done:xr}=yr;!dr&&Dt!==null&&(xr=this.speed>=0?this.currentTime>=Ft:this.currentTime<=0);const br=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&xr);return br&&at!==void 0&&(yr.value=getFinalKeyframe(Ct,this.options,at)),ur&&ur(yr.value),br&&this.finish(),yr}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const et=this.playbackSpeed!==s;this.playbackSpeed=s,et&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:et,startTime:nt}=this.options;this.driver||(this.driver=s(mt=>this.tick(mt))),et&&et();const at=this.driver.now();this.holdTime!==null?this.startTime=at-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=at):this.startTime=nt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(a,s,et,{delay:nt=0,duration:at=300,repeat:mt=0,repeatType:wt="loop",ease:$t="easeInOut",times:Ct}={}){const Dt={[s]:et};Ct&&(Dt.offset=Ct);const Ft=mapEasingToNativeEasing($t,at);return Array.isArray(Ft)&&(Dt.easing=Ft),a.animate(Dt,{delay:nt,duration:at,easing:Array.isArray(Ft)?"linear":Ft,fill:"both",iterations:mt+1,direction:wt==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(a){return isGenerator(a.type)||a.type==="spring"||!isWaapiSupportedEasing(a.ease)}function pregenerateKeyframes(a,s){const et=new MainThreadAnimation({...s,keyframes:a,repeat:0,delay:0,isGenerator:!0});let nt={done:!1,value:a[0]};const at=[];let mt=0;for(;!nt.done&&mt<maxDuration;)nt=et.sample(mt),at.push(nt.value),mt+=sampleDelta;return{times:void 0,keyframes:at,duration:mt-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(a){return a in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:et,motionValue:nt,element:at,keyframes:mt}=this.options;this.resolver=new DOMKeyframesResolver(mt,(wt,$t)=>this.onKeyframesResolved(wt,$t),et,nt,at),this.resolver.scheduleResolve()}initPlayback(s,et){let{duration:nt=300,times:at,ease:mt,type:wt,motionValue:$t,name:Ct,startTime:Dt}=this.options;if(!$t.owner||!$t.owner.current)return!1;if(typeof mt=="string"&&supportsLinearEasing()&&isUnsupportedEase(mt)&&(mt=unsupportedEasingFunctions[mt]),requiresPregeneratedKeyframes(this.options)){const{onComplete:jt,onUpdate:Ut,motionValue:tr,element:ir,...sr}=this.options,ur=pregenerateKeyframes(s,sr);s=ur.keyframes,s.length===1&&(s[1]=s[0]),nt=ur.duration,at=ur.times,mt=ur.ease,wt="keyframes"}const Ft=startWaapiAnimation($t.owner.current,Ct,s,{...this.options,duration:nt,times:at,ease:mt});return Ft.startTime=Dt??this.calcStartTime(),this.pendingTimeline?(attachTimeline(Ft,this.pendingTimeline),this.pendingTimeline=void 0):Ft.onfinish=()=>{const{onComplete:jt}=this.options;$t.set(getFinalKeyframe(s,this.options,et)),jt&&jt(),this.cancel(),this.resolveFinishedPromise()},{animation:Ft,duration:nt,times:at,type:wt,ease:mt,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:et}=s;return millisecondsToSeconds(et)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:et}=s;return millisecondsToSeconds(et.currentTime||0)}set time(s){const{resolved:et}=this;if(!et)return;const{animation:nt}=et;nt.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:et}=s;return et.playbackRate}set speed(s){const{resolved:et}=this;if(!et)return;const{animation:nt}=et;nt.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:et}=s;return et.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:et}=s;return et.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:et}=this;if(!et)return noop$2;const{animation:nt}=et;attachTimeline(nt,s)}return noop$2}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:et}=s;et.playState==="finished"&&this.updateFinishedPromise(),et.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:et}=s;et.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:et,keyframes:nt,duration:at,type:mt,ease:wt,times:$t}=s;if(et.playState==="idle"||et.playState==="finished")return;if(this.time){const{motionValue:Dt,onUpdate:Ft,onComplete:jt,element:Ut,...tr}=this.options,ir=new MainThreadAnimation({...tr,keyframes:nt,duration:at,type:mt,ease:wt,times:$t,isGenerator:!0}),sr=secondsToMilliseconds(this.time);Dt.setWithVelocity(ir.sample(sr-sampleDelta).value,ir.sample(sr).value,sampleDelta)}const{onStop:Ct}=this.options;Ct&&Ct(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:et,name:nt,repeatDelay:at,repeatType:mt,damping:wt,type:$t}=s;if(!et||!et.owner||!(et.owner.current instanceof HTMLElement))return!1;const{onUpdate:Ct,transformTemplate:Dt}=et.owner.getProps();return supportsWaapi()&&nt&&acceleratedValues.has(nt)&&!Ct&&!Dt&&!at&&mt!=="mirror"&&wt!==0&&$t!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(a,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(a)?a.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:a,delay:s,delayChildren:et,staggerChildren:nt,staggerDirection:at,repeat:mt,repeatType:wt,repeatDelay:$t,from:Ct,elapsed:Dt,...Ft}){return!!Object.keys(Ft).length}const animateMotionValue=(a,s,et,nt={},at,mt)=>wt=>{const $t=getValueTransition(nt,a)||{},Ct=$t.delay||nt.delay||0;let{elapsed:Dt=0}=nt;Dt=Dt-secondsToMilliseconds(Ct);let Ft={keyframes:Array.isArray(et)?et:[null,et],ease:"easeOut",velocity:s.getVelocity(),...$t,delay:-Dt,onUpdate:Ut=>{s.set(Ut),$t.onUpdate&&$t.onUpdate(Ut)},onComplete:()=>{wt(),$t.onComplete&&$t.onComplete()},name:a,motionValue:s,element:mt?void 0:at};isTransitionDefined($t)||(Ft={...Ft,...getDefaultTransition(a,Ft)}),Ft.duration&&(Ft.duration=secondsToMilliseconds(Ft.duration)),Ft.repeatDelay&&(Ft.repeatDelay=secondsToMilliseconds(Ft.repeatDelay)),Ft.from!==void 0&&(Ft.keyframes[0]=Ft.from);let jt=!1;if((Ft.type===!1||Ft.duration===0&&!Ft.repeatDelay)&&(Ft.duration=0,Ft.delay===0&&(jt=!0)),jt&&!mt&&s.get()!==void 0){const Ut=getFinalKeyframe(Ft.keyframes,$t);if(Ut!==void 0)return frame.update(()=>{Ft.onUpdate(Ut),Ft.onComplete()}),new GroupPlaybackControls([])}return!mt&&AcceleratedAnimation.supports(Ft)?new AcceleratedAnimation(Ft):new MainThreadAnimation(Ft)};function shouldBlockAnimation({protectedKeys:a,needsAnimating:s},et){const nt=a.hasOwnProperty(et)&&s[et]!==!0;return s[et]=!1,nt}function animateTarget(a,s,{delay:et=0,transitionOverride:nt,type:at}={}){var mt;let{transition:wt=a.getDefaultTransition(),transitionEnd:$t,...Ct}=s;nt&&(wt=nt);const Dt=[],Ft=at&&a.animationState&&a.animationState.getState()[at];for(const jt in Ct){const Ut=a.getValue(jt,(mt=a.latestValues[jt])!==null&&mt!==void 0?mt:null),tr=Ct[jt];if(tr===void 0||Ft&&shouldBlockAnimation(Ft,jt))continue;const ir={delay:et,...getValueTransition(wt||{},jt)};let sr=!1;if(window.MotionHandoffAnimation){const fr=getOptimisedAppearId(a);if(fr){const dr=window.MotionHandoffAnimation(fr,jt,frame);dr!==null&&(ir.startTime=dr,sr=!0)}}addValueToWillChange(a,jt),Ut.start(animateMotionValue(jt,Ut,tr,a.shouldReduceMotion&&positionalKeys.has(jt)?{type:!1}:ir,a,sr));const ur=Ut.animation;ur&&Dt.push(ur)}return $t&&Promise.all(Dt).then(()=>{frame.update(()=>{$t&&setTarget(a,$t)})}),Dt}function animateVariant(a,s,et={}){var nt;const at=resolveVariant(a,s,et.type==="exit"?(nt=a.presenceContext)===null||nt===void 0?void 0:nt.custom:void 0);let{transition:mt=a.getDefaultTransition()||{}}=at||{};et.transitionOverride&&(mt=et.transitionOverride);const wt=at?()=>Promise.all(animateTarget(a,at,et)):()=>Promise.resolve(),$t=a.variantChildren&&a.variantChildren.size?(Dt=0)=>{const{delayChildren:Ft=0,staggerChildren:jt,staggerDirection:Ut}=mt;return animateChildren(a,s,Ft+Dt,jt,Ut,et)}:()=>Promise.resolve(),{when:Ct}=mt;if(Ct){const[Dt,Ft]=Ct==="beforeChildren"?[wt,$t]:[$t,wt];return Dt().then(()=>Ft())}else return Promise.all([wt(),$t(et.delay)])}function animateChildren(a,s,et=0,nt=0,at=1,mt){const wt=[],$t=(a.variantChildren.size-1)*nt,Ct=at===1?(Dt=0)=>Dt*nt:(Dt=0)=>$t-Dt*nt;return Array.from(a.variantChildren).sort(sortByTreeOrder).forEach((Dt,Ft)=>{Dt.notify("AnimationStart",s),wt.push(animateVariant(Dt,s,{...mt,delay:et+Ct(Ft)}).then(()=>Dt.notify("AnimationComplete",s)))}),Promise.all(wt)}function sortByTreeOrder(a,s){return a.sortNodePosition(s)}function animateVisualElement(a,s,et={}){a.notify("AnimationStart",s);let nt;if(Array.isArray(s)){const at=s.map(mt=>animateVariant(a,mt,et));nt=Promise.all(at)}else if(typeof s=="string")nt=animateVariant(a,s,et);else{const at=typeof s=="function"?resolveVariant(a,s,et.custom):s;nt=Promise.all(animateTarget(a,at,et))}return nt.then(()=>{a.notify("AnimationComplete",s)})}const numVariantProps=variantProps.length;function getVariantContext(a){if(!a)return;if(!a.isControllingVariants){const et=a.parent?getVariantContext(a.parent)||{}:{};return a.props.initial!==void 0&&(et.initial=a.props.initial),et}const s={};for(let et=0;et<numVariantProps;et++){const nt=variantProps[et],at=a.props[nt];(isVariantLabel(at)||at===!1)&&(s[nt]=at)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(a){return s=>Promise.all(s.map(({animation:et,options:nt})=>animateVisualElement(a,et,nt)))}function createAnimationState(a){let s=animateList(a),et=createState(),nt=!0;const at=Ct=>(Dt,Ft)=>{var jt;const Ut=resolveVariant(a,Ft,Ct==="exit"?(jt=a.presenceContext)===null||jt===void 0?void 0:jt.custom:void 0);if(Ut){const{transition:tr,transitionEnd:ir,...sr}=Ut;Dt={...Dt,...sr,...ir}}return Dt};function mt(Ct){s=Ct(a)}function wt(Ct){const{props:Dt}=a,Ft=getVariantContext(a.parent)||{},jt=[],Ut=new Set;let tr={},ir=1/0;for(let ur=0;ur<numAnimationTypes;ur++){const fr=reversePriorityOrder[ur],dr=et[fr],hr=Dt[fr]!==void 0?Dt[fr]:Ft[fr],vr=isVariantLabel(hr),yr=fr===Ct?dr.isActive:null;yr===!1&&(ir=ur);let xr=hr===Ft[fr]&&hr!==Dt[fr]&&vr;if(xr&&nt&&a.manuallyAnimateOnMount&&(xr=!1),dr.protectedKeys={...tr},!dr.isActive&&yr===null||!hr&&!dr.prevProp||isAnimationControls(hr)||typeof hr=="boolean")continue;const br=checkVariantsDidChange(dr.prevProp,hr);let wr=br||fr===Ct&&dr.isActive&&!xr&&vr||ur>ir&&vr,Sr=!1;const Cr=Array.isArray(hr)?hr:[hr];let cr=Cr.reduce(at(fr),{});yr===!1&&(cr={});const{prevResolvedValues:Nt={}}=dr,Vt={...Nt,...cr},er=ar=>{wr=!0,Ut.has(ar)&&(Sr=!0,Ut.delete(ar)),dr.needsAnimating[ar]=!0;const lr=a.getValue(ar);lr&&(lr.liveStyle=!1)};for(const ar in Vt){const lr=cr[ar],nr=Nt[ar];if(tr.hasOwnProperty(ar))continue;let Lt=!1;isKeyframesTarget(lr)&&isKeyframesTarget(nr)?Lt=!shallowCompare(lr,nr):Lt=lr!==nr,Lt?lr!=null?er(ar):Ut.add(ar):lr!==void 0&&Ut.has(ar)?er(ar):dr.protectedKeys[ar]=!0}dr.prevProp=hr,dr.prevResolvedValues=cr,dr.isActive&&(tr={...tr,...cr}),nt&&a.blockInitialAnimation&&(wr=!1),wr&&(!(xr&&br)||Sr)&&jt.push(...Cr.map(ar=>({animation:ar,options:{type:fr}})))}if(Ut.size){const ur={};Ut.forEach(fr=>{const dr=a.getBaseTarget(fr),hr=a.getValue(fr);hr&&(hr.liveStyle=!0),ur[fr]=dr??null}),jt.push({animation:ur})}let sr=!!jt.length;return nt&&(Dt.initial===!1||Dt.initial===Dt.animate)&&!a.manuallyAnimateOnMount&&(sr=!1),nt=!1,sr?s(jt):Promise.resolve()}function $t(Ct,Dt){var Ft;if(et[Ct].isActive===Dt)return Promise.resolve();(Ft=a.variantChildren)===null||Ft===void 0||Ft.forEach(Ut=>{var tr;return(tr=Ut.animationState)===null||tr===void 0?void 0:tr.setActive(Ct,Dt)}),et[Ct].isActive=Dt;const jt=wt(Ct);for(const Ut in et)et[Ut].protectedKeys={};return jt}return{animateChanges:wt,setActive:$t,setAnimateFunction:mt,getState:()=>et,reset:()=>{et=createState(),nt=!0}}}function checkVariantsDidChange(a,s){return typeof s=="string"?s!==a:Array.isArray(s)?!shallowCompare(s,a):!1}function createTypeState(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:et}=this.node.prevProps||{};s!==et&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:et}=this.node.presenceContext,{isPresent:nt}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===nt)return;const at=this.node.animationState.setActive("exit",!s);et&&!s&&at.then(()=>et(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(a,s,et,nt={passive:!0}){return a.addEventListener(s,et,nt),()=>a.removeEventListener(s,et)}function extractEventInfo(a){return{point:{x:a.pageX,y:a.pageY}}}const addPointerInfo=a=>s=>isPrimaryPointer(s)&&a(s,extractEventInfo(s));function addPointerEvent(a,s,et,nt){return addDomEvent(a,s,addPointerInfo(et),nt)}const distance=(a,s)=>Math.abs(a-s);function distance2D(a,s){const et=distance(a.x,s.x),nt=distance(a.y,s.y);return Math.sqrt(et**2+nt**2)}class PanSession{constructor(s,et,{transformPagePoint:nt,contextWindow:at,dragSnapToOrigin:mt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const jt=getPanInfo(this.lastMoveEventInfo,this.history),Ut=this.startEvent!==null,tr=distance2D(jt.offset,{x:0,y:0})>=3;if(!Ut&&!tr)return;const{point:ir}=jt,{timestamp:sr}=frameData;this.history.push({...ir,timestamp:sr});const{onStart:ur,onMove:fr}=this.handlers;Ut||(ur&&ur(this.lastMoveEvent,jt),this.startEvent=this.lastMoveEvent),fr&&fr(this.lastMoveEvent,jt)},this.handlePointerMove=(jt,Ut)=>{this.lastMoveEvent=jt,this.lastMoveEventInfo=transformPoint(Ut,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(jt,Ut)=>{this.end();const{onEnd:tr,onSessionEnd:ir,resumeAnimation:sr}=this.handlers;if(this.dragSnapToOrigin&&sr&&sr(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ur=getPanInfo(jt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Ut,this.transformPagePoint),this.history);this.startEvent&&tr&&tr(jt,ur),ir&&ir(jt,ur)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=mt,this.handlers=et,this.transformPagePoint=nt,this.contextWindow=at||window;const wt=extractEventInfo(s),$t=transformPoint(wt,this.transformPagePoint),{point:Ct}=$t,{timestamp:Dt}=frameData;this.history=[{...Ct,timestamp:Dt}];const{onSessionStart:Ft}=et;Ft&&Ft(s,getPanInfo($t,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(a,s){return s?{point:s(a.point)}:a}function subtractPoint(a,s){return{x:a.x-s.x,y:a.y-s.y}}function getPanInfo({point:a},s){return{point:a,delta:subtractPoint(a,lastDevicePoint(s)),offset:subtractPoint(a,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(a){return a[0]}function lastDevicePoint(a){return a[a.length-1]}function getVelocity(a,s){if(a.length<2)return{x:0,y:0};let et=a.length-1,nt=null;const at=lastDevicePoint(a);for(;et>=0&&(nt=a[et],!(at.timestamp-nt.timestamp>secondsToMilliseconds(s)));)et--;if(!nt)return{x:0,y:0};const mt=millisecondsToSeconds(at.timestamp-nt.timestamp);if(mt===0)return{x:0,y:0};const wt={x:(at.x-nt.x)/mt,y:(at.y-nt.y)/mt};return wt.x===1/0&&(wt.x=0),wt.y===1/0&&(wt.y=0),wt}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(a){return a.max-a.min}function isNear(a,s,et){return Math.abs(a-s)<=et}function calcAxisDelta(a,s,et,nt=.5){a.origin=nt,a.originPoint=mixNumber$1(s.min,s.max,a.origin),a.scale=calcLength(et)/calcLength(s),a.translate=mixNumber$1(et.min,et.max,a.origin)-a.originPoint,(a.scale>=SCALE_MIN&&a.scale<=SCALE_MAX||isNaN(a.scale))&&(a.scale=1),(a.translate>=TRANSLATE_MIN&&a.translate<=TRANSLATE_MAX||isNaN(a.translate))&&(a.translate=0)}function calcBoxDelta(a,s,et,nt){calcAxisDelta(a.x,s.x,et.x,nt?nt.originX:void 0),calcAxisDelta(a.y,s.y,et.y,nt?nt.originY:void 0)}function calcRelativeAxis(a,s,et){a.min=et.min+s.min,a.max=a.min+calcLength(s)}function calcRelativeBox(a,s,et){calcRelativeAxis(a.x,s.x,et.x),calcRelativeAxis(a.y,s.y,et.y)}function calcRelativeAxisPosition(a,s,et){a.min=s.min-et.min,a.max=a.min+calcLength(s)}function calcRelativePosition(a,s,et){calcRelativeAxisPosition(a.x,s.x,et.x),calcRelativeAxisPosition(a.y,s.y,et.y)}function applyConstraints(a,{min:s,max:et},nt){return s!==void 0&&a<s?a=nt?mixNumber$1(s,a,nt.min):Math.max(a,s):et!==void 0&&a>et&&(a=nt?mixNumber$1(et,a,nt.max):Math.min(a,et)),a}function calcRelativeAxisConstraints(a,s,et){return{min:s!==void 0?a.min+s:void 0,max:et!==void 0?a.max+et-(a.max-a.min):void 0}}function calcRelativeConstraints(a,{top:s,left:et,bottom:nt,right:at}){return{x:calcRelativeAxisConstraints(a.x,et,at),y:calcRelativeAxisConstraints(a.y,s,nt)}}function calcViewportAxisConstraints(a,s){let et=s.min-a.min,nt=s.max-a.max;return s.max-s.min<a.max-a.min&&([et,nt]=[nt,et]),{min:et,max:nt}}function calcViewportConstraints(a,s){return{x:calcViewportAxisConstraints(a.x,s.x),y:calcViewportAxisConstraints(a.y,s.y)}}function calcOrigin(a,s){let et=.5;const nt=calcLength(a),at=calcLength(s);return at>nt?et=progress(s.min,s.max-nt,a.min):nt>at&&(et=progress(a.min,a.max-at,s.min)),clamp$4(0,1,et)}function rebaseAxisConstraints(a,s){const et={};return s.min!==void 0&&(et.min=s.min-a.min),s.max!==void 0&&(et.max=s.max-a.min),et}const defaultElastic=.35;function resolveDragElastic(a=defaultElastic){return a===!1?a=0:a===!0&&(a=defaultElastic),{x:resolveAxisElastic(a,"left","right"),y:resolveAxisElastic(a,"top","bottom")}}function resolveAxisElastic(a,s,et){return{min:resolvePointElastic(a,s),max:resolvePointElastic(a,et)}}function resolvePointElastic(a,s){return typeof a=="number"?a:a[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(a){return[a("x"),a("y")]}function convertBoundingBoxToBox({top:a,left:s,right:et,bottom:nt}){return{x:{min:s,max:et},y:{min:a,max:nt}}}function convertBoxToBoundingBox({x:a,y:s}){return{top:s.min,right:a.max,bottom:s.max,left:a.min}}function transformBoxPoints(a,s){if(!s)return a;const et=s({x:a.left,y:a.top}),nt=s({x:a.right,y:a.bottom});return{top:et.y,left:et.x,bottom:nt.y,right:nt.x}}function isIdentityScale(a){return a===void 0||a===1}function hasScale({scale:a,scaleX:s,scaleY:et}){return!isIdentityScale(a)||!isIdentityScale(s)||!isIdentityScale(et)}function hasTransform(a){return hasScale(a)||has2DTranslate(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function has2DTranslate(a){return is2DTranslate(a.x)||is2DTranslate(a.y)}function is2DTranslate(a){return a&&a!=="0%"}function scalePoint(a,s,et){const nt=a-et,at=s*nt;return et+at}function applyPointDelta(a,s,et,nt,at){return at!==void 0&&(a=scalePoint(a,at,nt)),scalePoint(a,et,nt)+s}function applyAxisDelta(a,s=0,et=1,nt,at){a.min=applyPointDelta(a.min,s,et,nt,at),a.max=applyPointDelta(a.max,s,et,nt,at)}function applyBoxDelta(a,{x:s,y:et}){applyAxisDelta(a.x,s.translate,s.scale,s.originPoint),applyAxisDelta(a.y,et.translate,et.scale,et.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(a,s,et,nt=!1){const at=et.length;if(!at)return;s.x=s.y=1;let mt,wt;for(let $t=0;$t<at;$t++){mt=et[$t],wt=mt.projectionDelta;const{visualElement:Ct}=mt.options;Ct&&Ct.props.style&&Ct.props.style.display==="contents"||(nt&&mt.options.layoutScroll&&mt.scroll&&mt!==mt.root&&transformBox(a,{x:-mt.scroll.offset.x,y:-mt.scroll.offset.y}),wt&&(s.x*=wt.x.scale,s.y*=wt.y.scale,applyBoxDelta(a,wt)),nt&&hasTransform(mt.latestValues)&&transformBox(a,mt.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(a,s){a.min=a.min+s,a.max=a.max+s}function transformAxis(a,s,et,nt,at=.5){const mt=mixNumber$1(a.min,a.max,at);applyAxisDelta(a,s,et,mt,nt)}function transformBox(a,s){transformAxis(a.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(a.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(a,s){return convertBoundingBoxToBox(transformBoxPoints(a.getBoundingClientRect(),s))}function measurePageBox(a,s,et){const nt=measureViewportBox(a,et),{scroll:at}=s;return at&&(translateAxis(nt.x,at.offset.x),translateAxis(nt.y,at.offset.y)),nt}const getContextWindow=({current:a})=>a?a.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:et=!1}={}){const{presenceContext:nt}=this.visualElement;if(nt&&nt.isPresent===!1)return;const at=Ft=>{const{dragSnapToOrigin:jt}=this.getProps();jt?this.pauseAnimation():this.stopAnimation(),et&&this.snapToCursor(extractEventInfo(Ft).point)},mt=(Ft,jt)=>{const{drag:Ut,dragPropagation:tr,onDragStart:ir}=this.getProps();if(Ut&&!tr&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(Ut),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ur=>{let fr=this.getAxisMotionValue(ur).get()||0;if(percent.test(fr)){const{projection:dr}=this.visualElement;if(dr&&dr.layout){const hr=dr.layout.layoutBox[ur];hr&&(fr=calcLength(hr)*(parseFloat(fr)/100))}}this.originPoint[ur]=fr}),ir&&frame.postRender(()=>ir(Ft,jt)),addValueToWillChange(this.visualElement,"transform");const{animationState:sr}=this.visualElement;sr&&sr.setActive("whileDrag",!0)},wt=(Ft,jt)=>{const{dragPropagation:Ut,dragDirectionLock:tr,onDirectionLock:ir,onDrag:sr}=this.getProps();if(!Ut&&!this.openDragLock)return;const{offset:ur}=jt;if(tr&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ur),this.currentDirection!==null&&ir&&ir(this.currentDirection);return}this.updateAxis("x",jt.point,ur),this.updateAxis("y",jt.point,ur),this.visualElement.render(),sr&&sr(Ft,jt)},$t=(Ft,jt)=>this.stop(Ft,jt),Ct=()=>eachAxis(Ft=>{var jt;return this.getAnimationState(Ft)==="paused"&&((jt=this.getAxisMotionValue(Ft).animation)===null||jt===void 0?void 0:jt.play())}),{dragSnapToOrigin:Dt}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:at,onStart:mt,onMove:wt,onSessionEnd:$t,resumeAnimation:Ct},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Dt,contextWindow:getContextWindow(this.visualElement)})}stop(s,et){const nt=this.isDragging;if(this.cancel(),!nt)return;const{velocity:at}=et;this.startAnimation(at);const{onDragEnd:mt}=this.getProps();mt&&frame.postRender(()=>mt(s,et))}cancel(){this.isDragging=!1;const{projection:s,animationState:et}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:nt}=this.getProps();!nt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),et&&et.setActive("whileDrag",!1)}updateAxis(s,et,nt){const{drag:at}=this.getProps();if(!nt||!shouldDrag(s,at,this.currentDirection))return;const mt=this.getAxisMotionValue(s);let wt=this.originPoint[s]+nt[s];this.constraints&&this.constraints[s]&&(wt=applyConstraints(wt,this.constraints[s],this.elastic[s])),mt.set(wt)}resolveConstraints(){var s;const{dragConstraints:et,dragElastic:nt}=this.getProps(),at=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,mt=this.constraints;et&&isRefObject(et)?this.constraints||(this.constraints=this.resolveRefConstraints()):et&&at?this.constraints=calcRelativeConstraints(at.layoutBox,et):this.constraints=!1,this.elastic=resolveDragElastic(nt),mt!==this.constraints&&at&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(wt=>{this.constraints!==!1&&this.getAxisMotionValue(wt)&&(this.constraints[wt]=rebaseAxisConstraints(at.layoutBox[wt],this.constraints[wt]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:et}=this.getProps();if(!s||!isRefObject(s))return!1;const nt=s.current,{projection:at}=this.visualElement;if(!at||!at.layout)return!1;const mt=measurePageBox(nt,at.root,this.visualElement.getTransformPagePoint());let wt=calcViewportConstraints(at.layout.layoutBox,mt);if(et){const $t=et(convertBoxToBoundingBox(wt));this.hasMutatedConstraints=!!$t,$t&&(wt=convertBoundingBoxToBox($t))}return wt}startAnimation(s){const{drag:et,dragMomentum:nt,dragElastic:at,dragTransition:mt,dragSnapToOrigin:wt,onDragTransitionEnd:$t}=this.getProps(),Ct=this.constraints||{},Dt=eachAxis(Ft=>{if(!shouldDrag(Ft,et,this.currentDirection))return;let jt=Ct&&Ct[Ft]||{};wt&&(jt={min:0,max:0});const Ut=at?200:1e6,tr=at?40:1e7,ir={type:"inertia",velocity:nt?s[Ft]:0,bounceStiffness:Ut,bounceDamping:tr,timeConstant:750,restDelta:1,restSpeed:10,...mt,...jt};return this.startAxisValueAnimation(Ft,ir)});return Promise.all(Dt).then($t)}startAxisValueAnimation(s,et){const nt=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),nt.start(animateMotionValue(s,nt,0,et,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var et;return(et=this.getAxisMotionValue(s).animation)===null||et===void 0?void 0:et.pause()})}getAnimationState(s){var et;return(et=this.getAxisMotionValue(s).animation)===null||et===void 0?void 0:et.state}getAxisMotionValue(s){const et=`_drag${s.toUpperCase()}`,nt=this.visualElement.getProps(),at=nt[et];return at||this.visualElement.getValue(s,(nt.initial?nt.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(et=>{const{drag:nt}=this.getProps();if(!shouldDrag(et,nt,this.currentDirection))return;const{projection:at}=this.visualElement,mt=this.getAxisMotionValue(et);if(at&&at.layout){const{min:wt,max:$t}=at.layout.layoutBox[et];mt.set(s[et]-mixNumber$1(wt,$t,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:et}=this.getProps(),{projection:nt}=this.visualElement;if(!isRefObject(et)||!nt||!this.constraints)return;this.stopAnimation();const at={x:0,y:0};eachAxis(wt=>{const $t=this.getAxisMotionValue(wt);if($t&&this.constraints!==!1){const Ct=$t.get();at[wt]=calcOrigin({min:Ct,max:Ct},this.constraints[wt])}});const{transformTemplate:mt}=this.visualElement.getProps();this.visualElement.current.style.transform=mt?mt({},""):"none",nt.root&&nt.root.updateScroll(),nt.updateLayout(),this.resolveConstraints(),eachAxis(wt=>{if(!shouldDrag(wt,s,null))return;const $t=this.getAxisMotionValue(wt),{min:Ct,max:Dt}=this.constraints[wt];$t.set(mixNumber$1(Ct,Dt,at[wt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,et=addPointerEvent(s,"pointerdown",Ct=>{const{drag:Dt,dragListener:Ft=!0}=this.getProps();Dt&&Ft&&this.start(Ct)}),nt=()=>{const{dragConstraints:Ct}=this.getProps();isRefObject(Ct)&&Ct.current&&(this.constraints=this.resolveRefConstraints())},{projection:at}=this.visualElement,mt=at.addEventListener("measure",nt);at&&!at.layout&&(at.root&&at.root.updateScroll(),at.updateLayout()),frame.read(nt);const wt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),$t=at.addEventListener("didUpdate",({delta:Ct,hasLayoutChanged:Dt})=>{this.isDragging&&Dt&&(eachAxis(Ft=>{const jt=this.getAxisMotionValue(Ft);jt&&(this.originPoint[Ft]+=Ct[Ft].translate,jt.set(jt.get()+Ct[Ft].translate))}),this.visualElement.render())});return()=>{wt(),et(),mt(),$t&&$t()}}getProps(){const s=this.visualElement.getProps(),{drag:et=!1,dragDirectionLock:nt=!1,dragPropagation:at=!1,dragConstraints:mt=!1,dragElastic:wt=defaultElastic,dragMomentum:$t=!0}=s;return{...s,drag:et,dragDirectionLock:nt,dragPropagation:at,dragConstraints:mt,dragElastic:wt,dragMomentum:$t}}}function shouldDrag(a,s,et){return(s===!0||s===a)&&(et===null||et===a)}function getCurrentDirection(a,s=10){let et=null;return Math.abs(a.y)>s?et="y":Math.abs(a.x)>s&&(et="x"),et}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=a=>(s,et)=>{a&&frame.postRender(()=>a(s,et))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:et,onPan:nt,onPanEnd:at}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(et),onMove:nt,onEnd:(mt,wt)=>{delete this.session,at&&frame.postRender(()=>at(mt,wt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(a,s){return s.max===s.min?0:a/(s.max-s.min)*100}const correctBorderRadius={correct:(a,s)=>{if(!s.target)return a;if(typeof a=="string")if(px.test(a))a=parseFloat(a);else return a;const et=pixelsToPercent(a,s.target.x),nt=pixelsToPercent(a,s.target.y);return`${et}% ${nt}%`}},correctBoxShadow={correct:(a,{treeScale:s,projectionDelta:et})=>{const nt=a,at=complex.parse(a);if(at.length>5)return nt;const mt=complex.createTransformer(a),wt=typeof at[0]!="number"?1:0,$t=et.x.scale*s.x,Ct=et.y.scale*s.y;at[0+wt]/=$t,at[1+wt]/=Ct;const Dt=mixNumber$1($t,Ct,.5);return typeof at[2+wt]=="number"&&(at[2+wt]/=Dt),typeof at[3+wt]=="number"&&(at[3+wt]/=Dt),mt(at)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:et,switchLayoutGroup:nt,layoutId:at}=this.props,{projection:mt}=s;addScaleCorrector(defaultScaleCorrectors),mt&&(et.group&&et.group.add(mt),nt&&nt.register&&at&&nt.register(mt),mt.root.didUpdate(),mt.addEventListener("animationComplete",()=>{this.safeToRemove()}),mt.setOptions({...mt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:et,visualElement:nt,drag:at,isPresent:mt}=this.props,wt=nt.projection;return wt&&(wt.isPresent=mt,at||s.layoutDependency!==et||et===void 0?wt.willUpdate():this.safeToRemove(),s.isPresent!==mt&&(mt?wt.promote():wt.relegate()||frame.postRender(()=>{const $t=wt.getStack();(!$t||!$t.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:et,switchLayoutGroup:nt}=this.props,{projection:at}=s;at&&(at.scheduleCheckAfterUnmount(),et&&et.group&&et.group.remove(at),nt&&nt.deregister&&nt.deregister(at))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(a){const[s,et]=usePresence(),nt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...a,layoutGroup:nt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:et})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(a,s,et){const nt=isMotionValue(a)?a:motionValue(a);return nt.start(animateMotionValue("",nt,s,et)),nt.animation}function isSVGElement(a){return a instanceof SVGElement&&a.tagName!=="svg"}const compareByDepth=(a,s)=>a.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(a,s){const et=time.now(),nt=({timestamp:at})=>{const mt=at-et;mt>=s&&(cancelFrame(nt),a(mt-s))};return frame.read(nt,!0),()=>cancelFrame(nt)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=a=>typeof a=="string"?parseFloat(a):a,isPx=a=>typeof a=="number"||px.test(a);function mixValues(a,s,et,nt,at,mt){at?(a.opacity=mixNumber$1(0,et.opacity!==void 0?et.opacity:1,easeCrossfadeIn(nt)),a.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(nt))):mt&&(a.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,et.opacity!==void 0?et.opacity:1,nt));for(let wt=0;wt<numBorders;wt++){const $t=`border${borders[wt]}Radius`;let Ct=getRadius(s,$t),Dt=getRadius(et,$t);if(Ct===void 0&&Dt===void 0)continue;Ct||(Ct=0),Dt||(Dt=0),Ct===0||Dt===0||isPx(Ct)===isPx(Dt)?(a[$t]=Math.max(mixNumber$1(asNumber(Ct),asNumber(Dt),nt),0),(percent.test(Dt)||percent.test(Ct))&&(a[$t]+="%")):a[$t]=Dt}(s.rotate||et.rotate)&&(a.rotate=mixNumber$1(s.rotate||0,et.rotate||0,nt))}function getRadius(a,s){return a[s]!==void 0?a[s]:a.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(a,s,et){return nt=>nt<a?0:nt>s?1:et(progress(a,s,nt))}function copyAxisInto(a,s){a.min=s.min,a.max=s.max}function copyBoxInto(a,s){copyAxisInto(a.x,s.x),copyAxisInto(a.y,s.y)}function copyAxisDeltaInto(a,s){a.translate=s.translate,a.scale=s.scale,a.originPoint=s.originPoint,a.origin=s.origin}function removePointDelta(a,s,et,nt,at){return a-=s,a=scalePoint(a,1/et,nt),at!==void 0&&(a=scalePoint(a,1/at,nt)),a}function removeAxisDelta(a,s=0,et=1,nt=.5,at,mt=a,wt=a){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(wt.min,wt.max,s/100)-wt.min),typeof s!="number")return;let $t=mixNumber$1(mt.min,mt.max,nt);a===mt&&($t-=s),a.min=removePointDelta(a.min,s,et,$t,at),a.max=removePointDelta(a.max,s,et,$t,at)}function removeAxisTransforms(a,s,[et,nt,at],mt,wt){removeAxisDelta(a,s[et],s[nt],s[at],s.scale,mt,wt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(a,s,et,nt){removeAxisTransforms(a.x,s,xKeys,et?et.x:void 0,nt?nt.x:void 0),removeAxisTransforms(a.y,s,yKeys,et?et.y:void 0,nt?nt.y:void 0)}function isAxisDeltaZero(a){return a.translate===0&&a.scale===1}function isDeltaZero(a){return isAxisDeltaZero(a.x)&&isAxisDeltaZero(a.y)}function axisEquals(a,s){return a.min===s.min&&a.max===s.max}function boxEquals(a,s){return axisEquals(a.x,s.x)&&axisEquals(a.y,s.y)}function axisEqualsRounded(a,s){return Math.round(a.min)===Math.round(s.min)&&Math.round(a.max)===Math.round(s.max)}function boxEqualsRounded(a,s){return axisEqualsRounded(a.x,s.x)&&axisEqualsRounded(a.y,s.y)}function aspectRatio(a){return calcLength(a.x)/calcLength(a.y)}function axisDeltaEquals(a,s){return a.translate===s.translate&&a.scale===s.scale&&a.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const et=this.members[this.members.length-1];et&&this.promote(et)}}relegate(s){const et=this.members.findIndex(at=>s===at);if(et===0)return!1;let nt;for(let at=et;at>=0;at--){const mt=this.members[at];if(mt.isPresent!==!1){nt=mt;break}}return nt?(this.promote(nt),!0):!1}promote(s,et){const nt=this.lead;if(s!==nt&&(this.prevLead=nt,this.lead=s,s.show(),nt)){nt.instance&&nt.scheduleRender(),s.scheduleRender(),s.resumeFrom=nt,et&&(s.resumeFrom.preserveOpacity=!0),nt.snapshot&&(s.snapshot=nt.snapshot,s.snapshot.latestValues=nt.animationValues||nt.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:at}=s.options;at===!1&&nt.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:et,resumingFrom:nt}=s;et.onExitComplete&&et.onExitComplete(),nt&&nt.options.onExitComplete&&nt.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(a,s,et){let nt="";const at=a.x.translate/s.x,mt=a.y.translate/s.y,wt=(et==null?void 0:et.z)||0;if((at||mt||wt)&&(nt=`translate3d(${at}px, ${mt}px, ${wt}px) `),(s.x!==1||s.y!==1)&&(nt+=`scale(${1/s.x}, ${1/s.y}) `),et){const{transformPerspective:Dt,rotate:Ft,rotateX:jt,rotateY:Ut,skewX:tr,skewY:ir}=et;Dt&&(nt=`perspective(${Dt}px) ${nt}`),Ft&&(nt+=`rotate(${Ft}deg) `),jt&&(nt+=`rotateX(${jt}deg) `),Ut&&(nt+=`rotateY(${Ut}deg) `),tr&&(nt+=`skewX(${tr}deg) `),ir&&(nt+=`skewY(${ir}deg) `)}const $t=a.x.scale*s.x,Ct=a.y.scale*s.y;return($t!==1||Ct!==1)&&(nt+=`scale(${$t}, ${Ct})`),nt||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;function resetDistortingTransform(a,s,et,nt){const{latestValues:at}=s;at[a]&&(et[a]=at[a],s.setStaticValue(a,0),nt&&(nt[a]=0))}function cancelTreeOptimisedTransformAnimations(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:s}=a.options;if(!s)return;const et=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(et,"transform")){const{layout:at,layoutId:mt}=a.options;window.MotionCancelOptimisedAnimation(et,"transform",frame,!(at||mt))}const{parent:nt}=a;nt&&!nt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(nt)}function createProjectionNode({attachResizeListener:a,defaultParent:s,measureScroll:et,checkIsScrollRoot:nt,resetTransform:at}){return class{constructor(wt={},$t=s==null?void 0:s()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=wt,this.root=$t?$t.root||$t:this,this.path=$t?[...$t.path,$t]:[],this.parent=$t,this.depth=$t?$t.depth+1:0;for(let Ct=0;Ct<this.path.length;Ct++)this.path[Ct].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(wt,$t){return this.eventHandlers.has(wt)||this.eventHandlers.set(wt,new SubscriptionManager),this.eventHandlers.get(wt).add($t)}notifyListeners(wt,...$t){const Ct=this.eventHandlers.get(wt);Ct&&Ct.notify(...$t)}hasListeners(wt){return this.eventHandlers.has(wt)}mount(wt,$t=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(wt),this.instance=wt;const{layoutId:Ct,layout:Dt,visualElement:Ft}=this.options;if(Ft&&!Ft.current&&Ft.mount(wt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),$t&&(Dt||Ct)&&(this.isLayoutDirty=!0),a){let jt;const Ut=()=>this.root.updateBlockedByResize=!1;a(wt,()=>{this.root.updateBlockedByResize=!0,jt&&jt(),jt=delay(Ut,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Ct&&this.root.registerSharedNode(Ct,this),this.options.animate!==!1&&Ft&&(Ct||Dt)&&this.addEventListener("didUpdate",({delta:jt,hasLayoutChanged:Ut,hasRelativeTargetChanged:tr,layout:ir})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const sr=this.options.transition||Ft.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ur,onLayoutAnimationComplete:fr}=Ft.getProps(),dr=!this.targetLayout||!boxEqualsRounded(this.targetLayout,ir)||tr,hr=!Ut&&tr;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||hr||Ut&&(dr||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(jt,hr);const vr={...getValueTransition(sr,"layout"),onPlay:ur,onComplete:fr};(Ft.shouldReduceMotion||this.options.layoutRoot)&&(vr.delay=0,vr.type=!1),this.startAnimation(vr)}else Ut||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ir})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const wt=this.getStack();wt&&wt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:wt}=this.options;return wt&&wt.getProps().transformTemplate}willUpdate(wt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Ft=0;Ft<this.path.length;Ft++){const jt=this.path[Ft];jt.shouldResetTransform=!0,jt.updateScroll("snapshot"),jt.options.layoutRoot&&jt.willUpdate(!1)}const{layoutId:$t,layout:Ct}=this.options;if($t===void 0&&!Ct)return;const Dt=this.getTransformTemplate();this.prevTransformTemplateValue=Dt?Dt(this.latestValues,""):void 0,this.updateSnapshot(),wt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const $t=time.now();frameData.delta=clamp$4(0,1e3/60,$t-frameData.timestamp),frameData.timestamp=$t,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Ct=0;Ct<this.path.length;Ct++)this.path[Ct].updateScroll();const wt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:$t}=this.options;$t&&$t.notify("LayoutMeasure",this.layout.layoutBox,wt?wt.layoutBox:void 0)}updateScroll(wt="measure"){let $t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===wt&&($t=!1),$t){const Ct=nt(this.instance);this.scroll={animationId:this.root.animationId,phase:wt,isRoot:Ct,offset:et(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Ct}}}resetTransform(){if(!at)return;const wt=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,$t=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Ct=this.getTransformTemplate(),Dt=Ct?Ct(this.latestValues,""):void 0,Ft=Dt!==this.prevTransformTemplateValue;wt&&($t||hasTransform(this.latestValues)||Ft)&&(at(this.instance,Dt),this.shouldResetTransform=!1,this.scheduleRender())}measure(wt=!0){const $t=this.measurePageBox();let Ct=this.removeElementScroll($t);return wt&&(Ct=this.removeTransform(Ct)),roundBox(Ct),{animationId:this.root.animationId,measuredBox:$t,layoutBox:Ct,latestValues:{},source:this.id}}measurePageBox(){var wt;const{visualElement:$t}=this.options;if(!$t)return createBox();const Ct=$t.measureViewportBox();if(!(((wt=this.scroll)===null||wt===void 0?void 0:wt.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Ft}=this.root;Ft&&(translateAxis(Ct.x,Ft.offset.x),translateAxis(Ct.y,Ft.offset.y))}return Ct}removeElementScroll(wt){var $t;const Ct=createBox();if(copyBoxInto(Ct,wt),!(($t=this.scroll)===null||$t===void 0)&&$t.wasRoot)return Ct;for(let Dt=0;Dt<this.path.length;Dt++){const Ft=this.path[Dt],{scroll:jt,options:Ut}=Ft;Ft!==this.root&&jt&&Ut.layoutScroll&&(jt.wasRoot&&copyBoxInto(Ct,wt),translateAxis(Ct.x,jt.offset.x),translateAxis(Ct.y,jt.offset.y))}return Ct}applyTransform(wt,$t=!1){const Ct=createBox();copyBoxInto(Ct,wt);for(let Dt=0;Dt<this.path.length;Dt++){const Ft=this.path[Dt];!$t&&Ft.options.layoutScroll&&Ft.scroll&&Ft!==Ft.root&&transformBox(Ct,{x:-Ft.scroll.offset.x,y:-Ft.scroll.offset.y}),hasTransform(Ft.latestValues)&&transformBox(Ct,Ft.latestValues)}return hasTransform(this.latestValues)&&transformBox(Ct,this.latestValues),Ct}removeTransform(wt){const $t=createBox();copyBoxInto($t,wt);for(let Ct=0;Ct<this.path.length;Ct++){const Dt=this.path[Ct];if(!Dt.instance||!hasTransform(Dt.latestValues))continue;hasScale(Dt.latestValues)&&Dt.updateSnapshot();const Ft=createBox(),jt=Dt.measurePageBox();copyBoxInto(Ft,jt),removeBoxTransforms($t,Dt.latestValues,Dt.snapshot?Dt.snapshot.layoutBox:void 0,Ft)}return hasTransform(this.latestValues)&&removeBoxTransforms($t,this.latestValues),$t}setTargetDelta(wt){this.targetDelta=wt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(wt){this.options={...this.options,...wt,crossfade:wt.crossfade!==void 0?wt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(wt=!1){var $t;const Ct=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Ct.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Ct.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Ct.isSharedProjectionDirty);const Dt=!!this.resumingFrom||this!==Ct;if(!(wt||Dt&&this.isSharedProjectionDirty||this.isProjectionDirty||!(($t=this.parent)===null||$t===void 0)&&$t.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:jt,layoutId:Ut}=this.options;if(!(!this.layout||!(jt||Ut))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const tr=this.getClosestProjectingParent();tr&&tr.layout&&this.animationProgress!==1?(this.relativeParent=tr,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,tr.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const tr=this.getClosestProjectingParent();tr&&!!tr.resumingFrom==!!this.resumingFrom&&!tr.options.layoutScroll&&tr.target&&this.animationProgress!==1?(this.relativeParent=tr,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,tr.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var wt;const $t=this.getLead(),Ct=!!this.resumingFrom||this!==$t;let Dt=!0;if((this.isProjectionDirty||!((wt=this.parent)===null||wt===void 0)&&wt.isProjectionDirty)&&(Dt=!1),Ct&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Dt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Dt=!1),Dt)return;const{layout:Ft,layoutId:jt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Ft||jt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Ut=this.treeScale.x,tr=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Ct),$t.layout&&!$t.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&($t.target=$t.layout.layoutBox,$t.targetWithTransforms=createBox());const{target:ir}=$t;if(!ir){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,ir,this.latestValues),(this.treeScale.x!==Ut||this.treeScale.y!==tr||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ir)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(wt=!0){var $t;if(($t=this.options.visualElement)===null||$t===void 0||$t.scheduleRender(),wt){const Ct=this.getStack();Ct&&Ct.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(wt,$t=!1){const Ct=this.snapshot,Dt=Ct?Ct.latestValues:{},Ft={...this.latestValues},jt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!$t;const Ut=createBox(),tr=Ct?Ct.source:void 0,ir=this.layout?this.layout.source:void 0,sr=tr!==ir,ur=this.getStack(),fr=!ur||ur.members.length<=1,dr=!!(sr&&!fr&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let hr;this.mixTargetDelta=vr=>{const yr=vr/1e3;mixAxisDelta(jt.x,wt.x,yr),mixAxisDelta(jt.y,wt.y,yr),this.setTargetDelta(jt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Ut,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Ut,yr),hr&&boxEquals(this.relativeTarget,hr)&&(this.isProjectionDirty=!1),hr||(hr=createBox()),copyBoxInto(hr,this.relativeTarget)),sr&&(this.animationValues=Ft,mixValues(Ft,Dt,this.latestValues,yr,dr,fr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=yr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(wt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...wt,onUpdate:$t=>{this.mixTargetDelta($t),wt.onUpdate&&wt.onUpdate($t)},onComplete:()=>{wt.onComplete&&wt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const wt=this.getStack();wt&&wt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const wt=this.getLead();let{targetWithTransforms:$t,target:Ct,layout:Dt,latestValues:Ft}=wt;if(!(!$t||!Ct||!Dt)){if(this!==wt&&this.layout&&Dt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Dt.layoutBox)){Ct=this.target||createBox();const jt=calcLength(this.layout.layoutBox.x);Ct.x.min=wt.target.x.min,Ct.x.max=Ct.x.min+jt;const Ut=calcLength(this.layout.layoutBox.y);Ct.y.min=wt.target.y.min,Ct.y.max=Ct.y.min+Ut}copyBoxInto($t,Ct),transformBox($t,Ft),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,$t,Ft)}}registerSharedNode(wt,$t){this.sharedNodes.has(wt)||this.sharedNodes.set(wt,new NodeStack),this.sharedNodes.get(wt).add($t);const Dt=$t.options.initialPromotionConfig;$t.promote({transition:Dt?Dt.transition:void 0,preserveFollowOpacity:Dt&&Dt.shouldPreserveFollowOpacity?Dt.shouldPreserveFollowOpacity($t):void 0})}isLead(){const wt=this.getStack();return wt?wt.lead===this:!0}getLead(){var wt;const{layoutId:$t}=this.options;return $t?((wt=this.getStack())===null||wt===void 0?void 0:wt.lead)||this:this}getPrevLead(){var wt;const{layoutId:$t}=this.options;return $t?(wt=this.getStack())===null||wt===void 0?void 0:wt.prevLead:void 0}getStack(){const{layoutId:wt}=this.options;if(wt)return this.root.sharedNodes.get(wt)}promote({needsReset:wt,transition:$t,preserveFollowOpacity:Ct}={}){const Dt=this.getStack();Dt&&Dt.promote(this,Ct),wt&&(this.projectionDelta=void 0,this.needsReset=!0),$t&&this.setOptions({transition:$t})}relegate(){const wt=this.getStack();return wt?wt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:wt}=this.options;if(!wt)return;let $t=!1;const{latestValues:Ct}=wt;if((Ct.z||Ct.rotate||Ct.rotateX||Ct.rotateY||Ct.rotateZ||Ct.skewX||Ct.skewY)&&($t=!0),!$t)return;const Dt={};Ct.z&&resetDistortingTransform("z",wt,Dt,this.animationValues);for(let Ft=0;Ft<transformAxes.length;Ft++)resetDistortingTransform(`rotate${transformAxes[Ft]}`,wt,Dt,this.animationValues),resetDistortingTransform(`skew${transformAxes[Ft]}`,wt,Dt,this.animationValues);wt.render();for(const Ft in Dt)wt.setStaticValue(Ft,Dt[Ft]),this.animationValues&&(this.animationValues[Ft]=Dt[Ft]);wt.scheduleRender()}getProjectionStyles(wt){var $t,Ct;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Dt={visibility:""},Ft=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Dt.opacity="",Dt.pointerEvents=resolveMotionValue(wt==null?void 0:wt.pointerEvents)||"",Dt.transform=Ft?Ft(this.latestValues,""):"none",Dt;const jt=this.getLead();if(!this.projectionDelta||!this.layout||!jt.target){const sr={};return this.options.layoutId&&(sr.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,sr.pointerEvents=resolveMotionValue(wt==null?void 0:wt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(sr.transform=Ft?Ft({},""):"none",this.hasProjected=!1),sr}const Ut=jt.animationValues||jt.latestValues;this.applyTransformsToTarget(),Dt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Ut),Ft&&(Dt.transform=Ft(Ut,Dt.transform));const{x:tr,y:ir}=this.projectionDelta;Dt.transformOrigin=`${tr.origin*100}% ${ir.origin*100}% 0`,jt.animationValues?Dt.opacity=jt===this?(Ct=($t=Ut.opacity)!==null&&$t!==void 0?$t:this.latestValues.opacity)!==null&&Ct!==void 0?Ct:1:this.preserveOpacity?this.latestValues.opacity:Ut.opacityExit:Dt.opacity=jt===this?Ut.opacity!==void 0?Ut.opacity:"":Ut.opacityExit!==void 0?Ut.opacityExit:0;for(const sr in scaleCorrectors){if(Ut[sr]===void 0)continue;const{correct:ur,applyTo:fr}=scaleCorrectors[sr],dr=Dt.transform==="none"?Ut[sr]:ur(Ut[sr],jt);if(fr){const hr=fr.length;for(let vr=0;vr<hr;vr++)Dt[fr[vr]]=dr}else Dt[sr]=dr}return this.options.layoutId&&(Dt.pointerEvents=jt===this?resolveMotionValue(wt==null?void 0:wt.pointerEvents)||"":"none"),Dt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(wt=>{var $t;return($t=wt.currentAnimation)===null||$t===void 0?void 0:$t.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(a){a.updateLayout()}function notifyLayoutUpdate(a){var s;const et=((s=a.resumeFrom)===null||s===void 0?void 0:s.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&et&&a.hasListeners("didUpdate")){const{layoutBox:nt,measuredBox:at}=a.layout,{animationType:mt}=a.options,wt=et.source!==a.layout.source;mt==="size"?eachAxis(jt=>{const Ut=wt?et.measuredBox[jt]:et.layoutBox[jt],tr=calcLength(Ut);Ut.min=nt[jt].min,Ut.max=Ut.min+tr}):shouldAnimatePositionOnly(mt,et.layoutBox,nt)&&eachAxis(jt=>{const Ut=wt?et.measuredBox[jt]:et.layoutBox[jt],tr=calcLength(nt[jt]);Ut.max=Ut.min+tr,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[jt].max=a.relativeTarget[jt].min+tr)});const $t=createDelta();calcBoxDelta($t,nt,et.layoutBox);const Ct=createDelta();wt?calcBoxDelta(Ct,a.applyTransform(at,!0),et.measuredBox):calcBoxDelta(Ct,nt,et.layoutBox);const Dt=!isDeltaZero($t);let Ft=!1;if(!a.resumeFrom){const jt=a.getClosestProjectingParent();if(jt&&!jt.resumeFrom){const{snapshot:Ut,layout:tr}=jt;if(Ut&&tr){const ir=createBox();calcRelativePosition(ir,et.layoutBox,Ut.layoutBox);const sr=createBox();calcRelativePosition(sr,nt,tr.layoutBox),boxEqualsRounded(ir,sr)||(Ft=!0),jt.options.layoutRoot&&(a.relativeTarget=sr,a.relativeTargetOrigin=ir,a.relativeParent=jt)}}}a.notifyListeners("didUpdate",{layout:nt,snapshot:et,delta:Ct,layoutDelta:$t,hasLayoutChanged:Dt,hasRelativeTargetChanged:Ft})}else if(a.isLead()){const{onExitComplete:nt}=a.options;nt&&nt()}a.options.transition=void 0}function propagateDirtyNodes(a){isDebug&&metrics.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function cleanDirtyNodes(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function clearSnapshot(a){a.clearSnapshot()}function clearMeasurements(a){a.clearMeasurements()}function clearIsLayoutDirty(a){a.isLayoutDirty=!1}function resetTransformStyle(a){const{visualElement:s}=a.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),a.resetTransform()}function finishAnimation(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function resolveTargetDelta(a){a.resolveTargetDelta()}function calcProjection(a){a.calcProjection()}function resetSkewAndRotation(a){a.resetSkewAndRotation()}function removeLeadSnapshots(a){a.removeLeadSnapshot()}function mixAxisDelta(a,s,et){a.translate=mixNumber$1(s.translate,0,et),a.scale=mixNumber$1(s.scale,1,et),a.origin=s.origin,a.originPoint=s.originPoint}function mixAxis(a,s,et,nt){a.min=mixNumber$1(s.min,et.min,nt),a.max=mixNumber$1(s.max,et.max,nt)}function mixBox(a,s,et,nt){mixAxis(a.x,s.x,et.x,nt),mixAxis(a.y,s.y,et.y,nt)}function hasOpacityCrossfade(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(a){a.min=roundPoint(a.min),a.max=roundPoint(a.max)}function roundBox(a){roundAxis(a.x),roundAxis(a.y)}function shouldAnimatePositionOnly(a,s,et){return a==="position"||a==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(et),.2)}function checkNodeWasScrollRoot(a){var s;return a!==a.root&&((s=a.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(a,s)=>addDomEvent(a,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const a=new DocumentProjectionNode({});a.mount(window),a.setOptions({layoutScroll:!0}),rootProjectionNode.current=a}return rootProjectionNode.current},resetTransform:(a,s)=>{a.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(a,s,et){const{props:nt}=a;a.animationState&&nt.whileHover&&a.animationState.setActive("whileHover",et==="Start");const at="onHover"+et,mt=nt[at];mt&&frame.postRender(()=>mt(s,extractEventInfo(s)))}class HoverGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=hover(s,et=>(handleHoverEvent(this.node,et,"Start"),nt=>handleHoverEvent(this.node,nt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(a,s,et){const{props:nt}=a;a.animationState&&nt.whileTap&&a.animationState.setActive("whileTap",et==="Start");const at="onTap"+(et==="End"?"":et),mt=nt[at];mt&&frame.postRender(()=>mt(s,extractEventInfo(s)))}class PressGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=press(s,et=>(handlePressEvent(this.node,et,"Start"),(nt,{success:at})=>handlePressEvent(this.node,nt,at?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=a=>{const s=observerCallbacks.get(a.target);s&&s(a)},fireAllObserverCallbacks=a=>{a.forEach(fireObserverCallback)};function initIntersectionObserver({root:a,...s}){const et=a||document;observers.has(et)||observers.set(et,{});const nt=observers.get(et),at=JSON.stringify(s);return nt[at]||(nt[at]=new IntersectionObserver(fireAllObserverCallbacks,{root:a,...s})),nt[at]}function observeIntersection(a,s,et){const nt=initIntersectionObserver(s);return observerCallbacks.set(a,et),nt.observe(a),()=>{observerCallbacks.delete(a),nt.unobserve(a)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:et,margin:nt,amount:at="some",once:mt}=s,wt={root:et?et.current:void 0,rootMargin:nt,threshold:typeof at=="number"?at:thresholdNames[at]},$t=Ct=>{const{isIntersecting:Dt}=Ct;if(this.isInView===Dt||(this.isInView=Dt,mt&&!Dt&&this.hasEnteredView))return;Dt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Dt);const{onViewportEnter:Ft,onViewportLeave:jt}=this.node.getProps(),Ut=Dt?Ft:jt;Ut&&Ut(Ct)};return observeIntersection(this.node.current,wt,$t)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:et}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,et))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:a={}},{viewport:s={}}={}){return et=>a[et]!==s[et]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=a.matches;a.addListener(s),s()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=a=>valueTypes.find(testValueType(a)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(a,s,et){for(const nt in s){const at=s[nt],mt=et[nt];if(isMotionValue(at))a.addValue(nt,at);else if(isMotionValue(mt))a.addValue(nt,motionValue(at,{owner:a}));else if(mt!==at)if(a.hasValue(nt)){const wt=a.getValue(nt);wt.liveStyle===!0?wt.jump(at):wt.hasAnimated||wt.set(at)}else{const wt=a.getStaticValue(nt);a.addValue(nt,motionValue(wt!==void 0?wt:at,{owner:a}))}}for(const nt in et)s[nt]===void 0&&a.removeValue(nt);return s}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,et,nt){return{}}constructor({parent:s,props:et,presenceContext:nt,reducedMotionConfig:at,blockInitialAnimation:mt,visualState:wt},$t={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const tr=time.now();this.renderScheduledAt<tr&&(this.renderScheduledAt=tr,frame.render(this.render,!1,!0))};const{latestValues:Ct,renderState:Dt,onUpdate:Ft}=wt;this.onUpdate=Ft,this.latestValues=Ct,this.baseTarget={...Ct},this.initialValues=et.initial?{...Ct}:{},this.renderState=Dt,this.parent=s,this.props=et,this.presenceContext=nt,this.depth=s?s.depth+1:0,this.reducedMotionConfig=at,this.options=$t,this.blockInitialAnimation=!!mt,this.isControllingVariants=isControllingVariants(et),this.isVariantNode=isVariantNode(et),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:jt,...Ut}=this.scrapeMotionValuesFromProps(et,{},this);for(const tr in Ut){const ir=Ut[tr];Ct[tr]!==void 0&&isMotionValue(ir)&&ir.set(Ct[tr],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((et,nt)=>this.bindToMotionValue(nt,et)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const et=this.features[s];et&&(et.unmount(),et.isMounted=!1)}this.current=null}bindToMotionValue(s,et){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const nt=transformProps.has(s),at=et.on("change",$t=>{this.latestValues[s]=$t,this.props.onUpdate&&frame.preRender(this.notifyUpdate),nt&&this.projection&&(this.projection.isTransformDirty=!0)}),mt=et.on("renderRequest",this.scheduleRender);let wt;window.MotionCheckAppearSync&&(wt=window.MotionCheckAppearSync(this,s,et)),this.valueSubscriptions.set(s,()=>{at(),mt(),wt&&wt(),et.owner&&et.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const et=featureDefinitions[s];if(!et)continue;const{isEnabled:nt,Feature:at}=et;if(!this.features[s]&&at&&nt(this.props)&&(this.features[s]=new at(this)),this.features[s]){const mt=this.features[s];mt.isMounted?mt.update():(mt.mount(),mt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,et){this.latestValues[s]=et}update(s,et){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=et;for(let nt=0;nt<propEventHandlers.length;nt++){const at=propEventHandlers[nt];this.propEventSubscriptions[at]&&(this.propEventSubscriptions[at](),delete this.propEventSubscriptions[at]);const mt="on"+at,wt=s[mt];wt&&(this.propEventSubscriptions[at]=this.on(at,wt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const et=this.getClosestVariantNode();if(et)return et.variantChildren&&et.variantChildren.add(s),()=>et.variantChildren.delete(s)}addValue(s,et){const nt=this.values.get(s);et!==nt&&(nt&&this.removeValue(s),this.bindToMotionValue(s,et),this.values.set(s,et),this.latestValues[s]=et.get())}removeValue(s){this.values.delete(s);const et=this.valueSubscriptions.get(s);et&&(et(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,et){if(this.props.values&&this.props.values[s])return this.props.values[s];let nt=this.values.get(s);return nt===void 0&&et!==void 0&&(nt=motionValue(et===null?void 0:et,{owner:this}),this.addValue(s,nt)),nt}readValue(s,et){var nt;let at=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(nt=this.getBaseTargetFromProps(this.props,s))!==null&&nt!==void 0?nt:this.readValueFromInstance(this.current,s,this.options);return at!=null&&(typeof at=="string"&&(isNumericalString(at)||isZeroValueString(at))?at=parseFloat(at):!findValueType(at)&&complex.test(et)&&(at=getAnimatableNone(s,et)),this.setBaseTarget(s,isMotionValue(at)?at.get():at)),isMotionValue(at)?at.get():at}setBaseTarget(s,et){this.baseTarget[s]=et}getBaseTarget(s){var et;const{initial:nt}=this.props;let at;if(typeof nt=="string"||typeof nt=="object"){const wt=resolveVariantFromProps(this.props,nt,(et=this.presenceContext)===null||et===void 0?void 0:et.custom);wt&&(at=wt[s])}if(nt&&at!==void 0)return at;const mt=this.getBaseTargetFromProps(this.props,s);return mt!==void 0&&!isMotionValue(mt)?mt:this.initialValues[s]!==void 0&&at===void 0?void 0:this.baseTarget[s]}on(s,et){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(et)}notify(s,...et){this.events[s]&&this.events[s].notify(...et)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,et){return s.compareDocumentPosition(et)&2?1:-1}getBaseTargetFromProps(s,et){return s.style?s.style[et]:void 0}removeValueFromRenderState(s,{vars:et,style:nt}){delete et[s],delete nt[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",et=>{this.current&&(this.current.textContent=`${et}`)}))}}function getComputedStyle$1(a){return window.getComputedStyle(a)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,et){if(transformProps.has(et)){const nt=getDefaultValueType(et);return nt&&nt.default||0}else{const nt=getComputedStyle$1(s),at=(isCSSVariableName(et)?nt.getPropertyValue(et):nt[et])||0;return typeof at=="string"?at.trim():at}}measureInstanceViewportBox(s,{transformPagePoint:et}){return measureViewportBox(s,et)}build(s,et,nt){buildHTMLStyles(s,et,nt.transformTemplate)}scrapeMotionValuesFromProps(s,et,nt){return scrapeMotionValuesFromProps$1(s,et,nt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,et){return s[et]}readValueFromInstance(s,et){if(transformProps.has(et)){const nt=getDefaultValueType(et);return nt&&nt.default||0}return et=camelCaseAttributes.has(et)?et:camelToDash(et),s.getAttribute(et)}scrapeMotionValuesFromProps(s,et,nt){return scrapeMotionValuesFromProps(s,et,nt)}build(s,et,nt){buildSVGAttrs(s,et,this.isSVGTag,nt.transformTemplate)}renderInstance(s,et,nt,at){renderSVG(s,et,nt,at)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(a,s)=>isSVGComponent(a)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:a!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),findById=(a,s)=>a.find(et=>et.id===s);function findToast(a,s){const et=getToastPosition(a,s),nt=et?a[et].findIndex(at=>at.id===s):-1;return{position:et,index:nt}}function getToastPosition(a,s){for(const[et,nt]of Object.entries(a))if(findById(nt,s))return et}function getToastStyle(a){const s=a.includes("right"),et=a.includes("left");let nt="center";return s&&(nt="flex-end"),et&&(nt="flex-start"),{display:"flex",flexDirection:"column",alignItems:nt}}function getToastListStyle(a){const et=a==="top"||a==="bottom"?"0 auto":void 0,nt=a.includes("top")?"env(safe-area-inset-top, 0px)":void 0,at=a.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,mt=a.includes("left")?void 0:"env(safe-area-inset-right, 0px)",wt=a.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:et,top:nt,bottom:at,right:mt,left:wt}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(a){return reactPropsRegex.test(a)||a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,et,nt){var at;if(et){var mt=et.shouldForwardProp;at=s.__emotion_forwardProp&&mt?function(wt){return s.__emotion_forwardProp(wt)&&mt(wt)}:mt}return typeof at!="function"&&nt&&(at=s.__emotion_forwardProp),at},Insertion=function(s){var et=s.cache,nt=s.serialized,at=s.isStringTag;return registerStyles(et,nt,at),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,nt,at)}),null},createStyled=function a(s,et){var nt=s.__emotion_real===s,at=nt&&s.__emotion_base||s,mt,wt;et!==void 0&&(mt=et.label,wt=et.target);var $t=composeShouldForwardProps(s,et,nt),Ct=$t||getDefaultShouldForwardProp(at),Dt=!Ct("as");return function(){var Ft=arguments,jt=nt&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(mt!==void 0&&jt.push("label:"+mt+";"),Ft[0]==null||Ft[0].raw===void 0)jt.push.apply(jt,Ft);else{var Ut=Ft[0];jt.push(Ut[0]);for(var tr=Ft.length,ir=1;ir<tr;ir++)jt.push(Ft[ir],Ut[ir])}var sr=withEmotionCache(function(ur,fr,dr){var hr=Dt&&ur.as||at,vr="",yr=[],xr=ur;if(ur.theme==null){xr={};for(var br in ur)xr[br]=ur[br];xr.theme=reactExports.useContext(ThemeContext)}typeof ur.className=="string"?vr=getRegisteredStyles(fr.registered,yr,ur.className):ur.className!=null&&(vr=ur.className+" ");var wr=serializeStyles(jt.concat(yr),fr.registered,xr);vr+=fr.key+"-"+wr.name,wt!==void 0&&(vr+=" "+wt);var Sr=Dt&&$t===void 0?getDefaultShouldForwardProp(hr):Ct,Cr={};for(var cr in ur)Dt&&cr==="as"||Sr(cr)&&(Cr[cr]=ur[cr]);return Cr.className=vr,dr&&(Cr.ref=dr),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:fr,serialized:wr,isStringTag:typeof hr=="string"}),reactExports.createElement(hr,Cr))});return sr.displayName=mt!==void 0?mt:"Styled("+(typeof at=="string"?at:at.displayName||at.name||"Component")+")",sr.defaultProps=s.defaultProps,sr.__emotion_real=sr,sr.__emotion_base=at,sr.__emotion_styles=jt,sr.__emotion_forwardProp=$t,Object.defineProperty(sr,"toString",{value:function(){return"."+wt}}),sr.withComponent=function(ur,fr){var dr=a(ur,_extends({},et,fr,{shouldForwardProp:composeShouldForwardProps(sr,fr,!0)}));return dr.apply(void 0,jt)},sr}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind(null);tags.forEach(function(a){newStyled[a]=newStyled(a)});const allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(a){return(validHTMLProps.has(a)||!allPropNames.has(a))&&a[0]!=="_"}const emotion_styled=interopDefault(newStyled),toCSSObject=({baseStyle:a})=>s=>{const{theme:et,css:nt,__css:at,sx:mt,...wt}=s,[$t]=splitProps(wt,isStyleProp),Ct=runIfFn$1(a,s),Dt=assignAfter({},at,Ct,compact($t),mt),Ft=css$2(Dt)(s.theme);return nt?[Ft,nt]:Ft};function styled(a,s){const{baseStyle:et,...nt}=s??{};nt.shouldForwardProp||(nt.shouldForwardProp=shouldForwardProp);const at=toCSSObject({baseStyle:et}),mt=emotion_styled(a,nt)(at);return reactExports.forwardRef(function(Ct,Dt){const{children:Ft,...jt}=Ct,{colorMode:Ut,forced:tr}=useColorMode(),ir=tr?Ut:void 0;return reactExports.createElement(mt,{ref:Dt,"data-theme":ir,...jt},Ft)})}function factory(){const a=new Map;return new Proxy(styled,{apply(s,et,nt){return styled(...nt)},get(s,et){return a.has(et)||a.set(et,styled(et)),a.get(et)}})}const chakra=factory(),toastMotionVariants={initial:a=>{const{position:s}=a,et=["top","bottom"].includes(s)?"y":"x";let nt=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(nt=1),{opacity:0,[et]:nt*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(a=>{const{id:s,message:et,onCloseComplete:nt,onRequestRemove:at,requestClose:mt=!1,position:wt="bottom",duration:$t=5e3,containerStyle:Ct,motionVariants:Dt=toastMotionVariants,toastSpacing:Ft="0.5rem"}=a,[jt,Ut]=reactExports.useState($t),tr=useIsPresent();useUpdateEffect(()=>{tr||nt==null||nt()},[tr]),useUpdateEffect(()=>{Ut($t)},[$t]);const ir=()=>Ut(null),sr=()=>Ut($t),ur=()=>{tr&&at()};reactExports.useEffect(()=>{tr&&mt&&at()},[tr,mt,at]),useTimeout(ur,jt);const fr=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:Ft,...Ct}),[Ct,Ft]),dr=reactExports.useMemo(()=>getToastStyle(wt),[wt]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:Dt,initial:"initial",animate:"animate",exit:"exit",onHoverStart:ir,onHoverEnd:sr,custom:{position:wt},style:dr,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:fr,children:runIfFn$1(et,{id:s,onClose:ur})})})});ToastComponent.displayName="ToastComponent";function forwardRef(a){return reactExports.forwardRef(a)}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var et,nt,at;if(Array.isArray(a)){if(et=a.length,et!=s.length)return!1;for(nt=et;nt--!==0;)if(!equal(a[nt],s[nt]))return!1;return!0}var mt;if(hasMap&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(mt=a.entries();!(nt=mt.next()).done;)if(!s.has(nt.value[0]))return!1;for(mt=a.entries();!(nt=mt.next()).done;)if(!equal(nt.value[1],s.get(nt.value[0])))return!1;return!0}if(hasSet&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(mt=a.entries();!(nt=mt.next()).done;)if(!s.has(nt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if(et=a.length,et!=s.length)return!1;for(nt=et;nt--!==0;)if(a[nt]!==s[nt])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof s.valueOf=="function")return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof s.toString=="function")return a.toString()===s.toString();if(at=Object.keys(a),et=at.length,et!==Object.keys(s).length)return!1;for(nt=et;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(s,at[nt]))return!1;if(hasElementType&&a instanceof Element)return!1;for(nt=et;nt--!==0;)if(!((at[nt]==="_owner"||at[nt]==="__v"||at[nt]==="__o")&&a.$$typeof)&&!equal(a[at[nt]],s[at[nt]]))return!1;return!0}return a!==a&&s!==s}var reactFastCompare=function(s,et){try{return equal(s,et)}catch(nt){if((nt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw nt}};const isEqual=getDefaultExportFromCjs$2(reactFastCompare);function useTheme(){const a=reactExports.useContext(ThemeContext);if(!a)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return a}function useChakra(){const a=useColorMode(),s=useTheme();return{...a,theme:s}}function getTokenValue(a,s,et){if(s==null)return s;const nt=at=>{var mt,wt;return(wt=(mt=a.__cssMap)==null?void 0:mt[at])==null?void 0:wt.value};return nt(s)??nt(et)??et}function useToken(a,s,et){const nt=useTheme();return getToken(a,s,et)(nt)}function getToken(a,s,et){const nt=Array.isArray(s)?s:[s],at=Array.isArray(et)?et:[et];return mt=>{const wt=at.filter(Boolean),$t=nt.map((Ct,Dt)=>{const Ft=`${a}.${Ct}`;return getTokenValue(mt,Ft,wt[Dt]??Ct)});return Array.isArray(s)?$t:$t[0]}}function useStyleConfigImpl(a,s={}){const{styleConfig:et,...nt}=s,{theme:at,colorMode:mt}=useChakra(),wt=a?memoizedGet$1(at,`components.${a}`):void 0,$t=et||wt,Ct=mergeWith({theme:at,colorMode:mt},($t==null?void 0:$t.defaultProps)??{},compact(omit(nt,["children"])),(Ft,jt)=>Ft?void 0:jt),Dt=reactExports.useRef({});if($t){const jt=resolveStyleConfig($t)(Ct);isEqual(Dt.current,jt)||(Dt.current=jt)}return Dt.current}function useStyleConfig(a,s={}){return useStyleConfigImpl(a,s)}function useMultiStyleConfig(a,s={}){return useStyleConfigImpl(a,s)}const fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon$1=forwardRef((a,s)=>{const{as:et,viewBox:nt,color:at="currentColor",focusable:mt=!1,children:wt,className:$t,__css:Ct,...Dt}=a,Ft=cx("chakra-icon",$t),jt=useStyleConfig("Icon",a),Ut={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:at,...Ct,...jt},tr={ref:s,focusable:mt,className:Ft,__css:Ut},ir=nt??fallbackIcon.viewBox;if(et&&typeof et!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:et,...tr,...Dt});const sr=wt??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:ir,...tr,...Dt,children:sr})});Icon$1.displayName="Icon";function CheckIcon(a){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(a){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(a){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const spin$1=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner$1=forwardRef((a,s)=>{const et=useStyleConfig("Spinner",a),{label:nt="Loading...",thickness:at="2px",speed:mt="0.45s",emptyColor:wt="transparent",className:$t,...Ct}=omitThemingProps(a),Dt=cx("chakra-spinner",$t),Ft={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:at,borderBottomColor:wt,borderLeftColor:wt,animation:`${spin$1} ${mt} linear infinite`,...et};return jsxRuntimeExports.jsx(chakra.div,{ref:s,__css:Ft,className:Dt,...Ct,children:nt&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:nt})})});Spinner$1.displayName="Spinner";const[AlertProvider,useAlertContext]=createContext({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner$1,colorScheme:"blue"}};function getStatusColorScheme(a){return STATUSES[a].colorScheme}function getStatusIcon(a){return STATUSES[a].icon}const Alert=forwardRef(function(s,et){const{status:nt="info",addRole:at=!0,...mt}=omitThemingProps(s),wt=s.colorScheme??getStatusColorScheme(nt),$t=useMultiStyleConfig("Alert",{...s,colorScheme:wt}),Ct={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...$t.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:nt},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:$t,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":nt,role:at?"alert":void 0,ref:et,...mt,className:cx("chakra-alert",s.className),__css:Ct})})})});Alert.displayName="Alert";function AlertIcon(a){const{status:s}=useAlertContext(),et=getStatusIcon(s),nt=useAlertStyles(),at=s==="loading"?nt.spinner:nt.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":s,...a,className:cx("chakra-alert__icon",a.className),__css:at,children:a.children||jsxRuntimeExports.jsx(et,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";const AlertTitle=forwardRef(function(s,et){const nt=useAlertStyles(),{status:at}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:et,"data-status":at,...s,className:cx("chakra-alert__title",s.className),__css:nt.title})});AlertTitle.displayName="AlertTitle";const AlertDescription=forwardRef(function(s,et){const{status:nt}=useAlertContext(),at=useAlertStyles(),mt={display:"inline",...at.description};return jsxRuntimeExports.jsx(chakra.div,{ref:et,"data-status":nt,...s,className:cx("chakra-alert__desc",s.className),__css:mt})});AlertDescription.displayName="AlertDescription";function CloseIcon(a){return jsxRuntimeExports.jsx(Icon$1,{focusable:"false","aria-hidden":!0,...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const CloseButton=forwardRef(function(s,et){const nt=useStyleConfig("CloseButton",s),{children:at,isDisabled:mt,__css:wt,...$t}=omitThemingProps(s),Ct={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:et,disabled:mt,__css:{...Ct,...nt,...wt},...$t,children:at||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";const Toast$1=a=>{const{status:s,variant:et="solid",id:nt,title:at,isClosable:mt,onClose:wt,description:$t,colorScheme:Ct,icon:Dt}=a,Ft=nt?{root:`toast-${nt}`,title:`toast-${nt}-title`,description:`toast-${nt}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:s,variant:et,id:Ft==null?void 0:Ft.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:Ct,children:[jsxRuntimeExports.jsx(AlertIcon,{children:Dt}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[at&&jsxRuntimeExports.jsx(AlertTitle,{id:Ft==null?void 0:Ft.title,children:at}),$t&&jsxRuntimeExports.jsx(AlertDescription,{id:Ft==null?void 0:Ft.description,display:"block",children:$t})]}),mt&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:wt,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(a={}){const{render:s,toastComponent:et=Toast$1}=a;return at=>typeof s=="function"?s({...at,...a}):jsxRuntimeExports.jsx(et,{...at,...a})}const initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(a){let s=a;const et=new Set,nt=at=>{s=at(s),et.forEach(mt=>mt())};return{getState:()=>s,subscribe:at=>(et.add(at),()=>{nt(()=>a),et.delete(at)}),removeToast:(at,mt)=>{nt(wt=>({...wt,[mt]:wt[mt].filter($t=>$t.id!=at)}))},notify:(at,mt)=>{const wt=createToast(at,mt),{position:$t,id:Ct}=wt;return nt(Dt=>{const jt=$t.includes("top")?[wt,...Dt[$t]??[]]:[...Dt[$t]??[],wt];return{...Dt,[$t]:jt}}),Ct},update:(at,mt)=>{at&&nt(wt=>{const $t={...wt},{position:Ct,index:Dt}=findToast($t,at);return Ct&&Dt!==-1&&($t[Ct][Dt]={...$t[Ct][Dt],...mt,message:createRenderToast(mt)}),$t})},closeAll:({positions:at}={})=>{nt(mt=>(at??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((Ct,Dt)=>(Ct[Dt]=mt[Dt].map(Ft=>({...Ft,requestClose:!0})),Ct),{...mt}))},close:at=>{nt(mt=>{const wt=getToastPosition(mt,at);return wt?{...mt,[wt]:mt[wt].map($t=>$t.id==at?{...$t,requestClose:!0}:$t)}:mt})},isActive:at=>!!findToast(toastStore.getState(),at).position}}let counter=0;function createToast(a,s={}){counter+=1;const et=s.id??counter,nt=s.position??"bottom";return{id:et,message:a,position:nt,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(et),nt),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}const[PortalContextProvider,usePortalContext]=createContext({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=a=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:a.zIndex,top:0,left:0,right:0},children:a.children}),DefaultPortal=a=>{const{appendToParentPortal:s,children:et}=a,[nt,at]=reactExports.useState(null),mt=reactExports.useRef(null),[,wt]=reactExports.useState({});reactExports.useEffect(()=>wt({}),[]);const $t=usePortalContext(),Ct=usePortalManager();useSafeLayoutEffect$2(()=>{if(!nt)return;const Ft=nt.ownerDocument,jt=s?$t??Ft.body:Ft.body;if(!jt)return;mt.current=Ft.createElement("div"),mt.current.className=PORTAL_CLASSNAME,jt.appendChild(mt.current),wt({});const Ut=mt.current;return()=>{jt.contains(Ut)&&jt.removeChild(Ut)}},[nt]);const Dt=Ct!=null&&Ct.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:Ct==null?void 0:Ct.zIndex,children:et}):et;return mt.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:mt.current,children:Dt}),mt.current):jsxRuntimeExports.jsx("span",{ref:Ft=>{Ft&&at(Ft)}})},ContainerPortal=a=>{const{children:s,containerRef:et,appendToParentPortal:nt}=a,at=et.current,mt=at??(typeof window<"u"?document.body:void 0),wt=reactExports.useMemo(()=>{const Ct=at==null?void 0:at.ownerDocument.createElement("div");return Ct&&(Ct.className=PORTAL_CLASSNAME),Ct},[at]),[,$t]=reactExports.useState({});return useSafeLayoutEffect$2(()=>$t({}),[]),useSafeLayoutEffect$2(()=>{if(!(!wt||!mt))return mt.appendChild(wt),()=>{mt.removeChild(wt)}},[wt,mt]),mt&&wt?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:nt?wt:null,children:s}),wt):null};function Portal(a){const s={appendToParentPortal:!0,...a},{containerRef:et,...nt}=s;return et?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:et,...nt}):jsxRuntimeExports.jsx(DefaultPortal,{...nt})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";const[ToastOptionProvider,useToastOptionContext]=createContext({name:"ToastOptionsContext",strict:!1}),ToastProvider=a=>{const s=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:et,component:nt=ToastComponent,portalProps:at,animatePresenceProps:mt}=a,$t=Object.keys(s).map(Ct=>{const Dt=s[Ct];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${Ct}`,id:`chakra-toast-manager-${Ct}`,style:getToastListStyle(Ct),children:jsxRuntimeExports.jsx(AnimatePresence,{...mt,initial:!1,children:Dt.map(Ft=>jsxRuntimeExports.jsx(nt,{motionVariants:et,...Ft},Ft.id))})},Ct)});return jsxRuntimeExports.jsx(Portal,{...at,children:$t})},createProvider=a=>function({children:et,theme:nt=a,toastOptions:at,...mt}){return jsxRuntimeExports.jsxs(Provider,{theme:nt,...mt,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:at==null?void 0:at.defaultOptions,children:et}),jsxRuntimeExports.jsx(ToastProvider,{...at})]})},ChakraProvider=createProvider(theme$1);function sortNodes(a){return a.sort((s,et)=>{const nt=s.compareDocumentPosition(et);if(nt&Node.DOCUMENT_POSITION_FOLLOWING||nt&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(nt&Node.DOCUMENT_POSITION_PRECEDING||nt&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(nt&Node.DOCUMENT_POSITION_DISCONNECTED||nt&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const isElement$2=a=>typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE;function getNextIndex(a,s,et){let nt=a+1;return et&&nt>=s&&(nt=0),nt}function getPrevIndex(a,s,et){let nt=a-1;return et&&nt<0&&(nt=s),nt}const useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,cast$1=a=>a;var __defProp$6=Object.defineProperty,__defNormalProp$6=(a,s,et)=>s in a?__defProp$6(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$3=(a,s,et)=>(__defNormalProp$6(a,typeof s!="symbol"?s+"":s,et),et);class DescendantsManager{constructor(){__publicField$3(this,"descendants",new Map),__publicField$3(this,"register",s=>{if(s!=null)return isElement$2(s)?this.registerNode(s):et=>{this.registerNode(et,s)}}),__publicField$3(this,"unregister",s=>{this.descendants.delete(s);const et=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(et)}),__publicField$3(this,"destroy",()=>{this.descendants.clear()}),__publicField$3(this,"assignIndex",s=>{this.descendants.forEach(et=>{const nt=s.indexOf(et.node);et.index=nt,et.node.dataset.index=et.index.toString()})}),__publicField$3(this,"count",()=>this.descendants.size),__publicField$3(this,"enabledCount",()=>this.enabledValues().length),__publicField$3(this,"values",()=>Array.from(this.descendants.values()).sort((et,nt)=>et.index-nt.index)),__publicField$3(this,"enabledValues",()=>this.values().filter(s=>!s.disabled)),__publicField$3(this,"item",s=>{if(this.count()!==0)return this.values()[s]}),__publicField$3(this,"enabledItem",s=>{if(this.enabledCount()!==0)return this.enabledValues()[s]}),__publicField$3(this,"first",()=>this.item(0)),__publicField$3(this,"firstEnabled",()=>this.enabledItem(0)),__publicField$3(this,"last",()=>this.item(this.descendants.size-1)),__publicField$3(this,"lastEnabled",()=>{const s=this.enabledValues().length-1;return this.enabledItem(s)}),__publicField$3(this,"indexOf",s=>{var et;return s?((et=this.descendants.get(s))==null?void 0:et.index)??-1:-1}),__publicField$3(this,"enabledIndexOf",s=>s==null?-1:this.enabledValues().findIndex(et=>et.node.isSameNode(s))),__publicField$3(this,"next",(s,et=!0)=>{const nt=getNextIndex(s,this.count(),et);return this.item(nt)}),__publicField$3(this,"nextEnabled",(s,et=!0)=>{const nt=this.item(s);if(!nt)return;const at=this.enabledIndexOf(nt.node),mt=getNextIndex(at,this.enabledCount(),et);return this.enabledItem(mt)}),__publicField$3(this,"prev",(s,et=!0)=>{const nt=getPrevIndex(s,this.count()-1,et);return this.item(nt)}),__publicField$3(this,"prevEnabled",(s,et=!0)=>{const nt=this.item(s);if(!nt)return;const at=this.enabledIndexOf(nt.node),mt=getPrevIndex(at,this.enabledCount()-1,et);return this.enabledItem(mt)}),__publicField$3(this,"registerNode",(s,et)=>{if(!s||this.descendants.has(s))return;const nt=Array.from(this.descendants.keys()).concat(s),at=sortNodes(nt);et!=null&&et.disabled&&(et.disabled=!!et.disabled);const mt={node:s,index:-1,...et};this.descendants.set(s,mt),this.assignIndex(at)})}}function createDescendantContext(){const[a,s]=createContext({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[a,s,()=>{const at=reactExports.useRef(new DescendantsManager);return useSafeLayoutEffect(()=>()=>at.current.destroy()),at.current},at=>{const mt=s(),[wt,$t]=reactExports.useState(-1),Ct=reactExports.useRef(null);useSafeLayoutEffect(()=>()=>{Ct.current&&mt.unregister(Ct.current)},[]),useSafeLayoutEffect(()=>{if(!Ct.current)return;const Ft=Number(Ct.current.dataset.index);wt!=Ft&&!Number.isNaN(Ft)&&$t(Ft)});const Dt=cast$1(at?mt.register(at):mt.register);return{descendants:mt,index:wt,enabledIndex:mt.enabledIndexOf(Ct.current),register:mergeRefs(Dt,Ct)}}]}const TRANSITION_EASINGS={easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_VARIANTS={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function getSlideTransition(a){switch((a==null?void 0:a.direction)??"right"){case"right":return TRANSITION_VARIANTS.slideRight;case"left":return TRANSITION_VARIANTS.slideLeft;case"bottom":return TRANSITION_VARIANTS.slideDown;case"top":return TRANSITION_VARIANTS.slideUp;default:return TRANSITION_VARIANTS.slideRight}}const TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(a,s)=>({...a,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(a,s)=>({...a,delay:typeof s=="number"?s:s==null?void 0:s.exit})};function useImage(a){const{loading:s,src:et,srcSet:nt,onLoad:at,onError:mt,crossOrigin:wt,sizes:$t,ignoreFallback:Ct}=a,[Dt,Ft]=reactExports.useState("pending");reactExports.useEffect(()=>{Ft(et?"loading":"pending")},[et]);const jt=reactExports.useRef(null),Ut=reactExports.useCallback(()=>{if(!et)return;tr();const ir=new Image;ir.src=et,wt&&(ir.crossOrigin=wt),nt&&(ir.srcset=nt),$t&&(ir.sizes=$t),s&&(ir.loading=s),ir.onload=sr=>{tr(),Ft("loaded"),at==null||at(sr)},ir.onerror=sr=>{tr(),Ft("failed"),mt==null||mt(sr)},jt.current=ir},[et,wt,nt,$t,at,mt,s]),tr=()=>{jt.current&&(jt.current.onload=null,jt.current.onerror=null,jt.current=null)};return useSafeLayoutEffect$2(()=>{if(!Ct)return Dt==="loading"&&Ut(),()=>{tr()}},[Dt,Ut,Ct]),Ct?"loaded":Dt}const shouldShowFallbackImage=(a,s)=>a!=="loaded"&&s==="beforeLoadOrError"||a==="failed"&&s==="onError",Box=chakra("div");Box.displayName="Box";const[ButtonGroupProvider,useButtonGroup]=createContext({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(a){const{children:s,className:et,...nt}=a,at=reactExports.isValidElement(s)?reactExports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,mt=cx("chakra-button__icon",et);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...nt,className:mt,children:at})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(a){const{label:s,placement:et,spacing:nt="0.5rem",children:at=jsxRuntimeExports.jsx(Spinner$1,{color:"currentColor",width:"1em",height:"1em"}),className:mt,__css:wt,...$t}=a,Ct=cx("chakra-button__spinner",mt),Dt=et==="start"?"marginEnd":"marginStart",Ft=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[Dt]:s?nt:0,fontSize:"1em",lineHeight:"normal",...wt}),[wt,s,Dt,nt]);return jsxRuntimeExports.jsx(chakra.div,{className:Ct,...$t,__css:Ft,children:at})}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(a){const[s,et]=reactExports.useState(!a);return{ref:reactExports.useCallback(mt=>{mt&&et(mt.tagName==="BUTTON")},[]),type:s?"button":void 0}}const Button=forwardRef((a,s)=>{const et=useButtonGroup(),nt=useStyleConfig("Button",{...et,...a}),{isDisabled:at=et==null?void 0:et.isDisabled,isLoading:mt,isActive:wt,children:$t,leftIcon:Ct,rightIcon:Dt,loadingText:Ft,iconSpacing:jt="0.5rem",type:Ut,spinner:tr,spinnerPlacement:ir="start",className:sr,as:ur,shouldWrapChildren:fr,...dr}=omitThemingProps(a),hr=reactExports.useMemo(()=>{const br={...nt==null?void 0:nt._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...nt,...!!et&&{_focus:br}}},[nt,et]),{ref:vr,type:yr}=useButtonType(ur),xr={rightIcon:Dt,leftIcon:Ct,iconSpacing:jt,children:$t,shouldWrapChildren:fr};return jsxRuntimeExports.jsxs(chakra.button,{disabled:at||mt,ref:useMergeRefs(s,vr),as:ur,type:Ut??yr,"data-active":dataAttr(wt),"data-loading":dataAttr(mt),__css:hr,className:cx("chakra-button",sr),...dr,children:[mt&&ir==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:Ft,placement:"start",spacing:jt,children:tr}),mt?Ft||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...xr})}):jsxRuntimeExports.jsx(ButtonContent,{...xr}),mt&&ir==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:Ft,placement:"end",spacing:jt,children:tr})]})});Button.displayName="Button";function ButtonContent(a){const{leftIcon:s,rightIcon:et,children:nt,iconSpacing:at,shouldWrapChildren:mt}=a;return mt?jsxRuntimeExports.jsxs("span",{style:{display:"contents"},children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:at,children:s}),nt,et&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:at,children:et})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:at,children:s}),nt,et&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:at,children:et})]})}const Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";const centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function(s,et){const{axis:nt="both",...at}=s;return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:centerStyles[nt],...at,position:"absolute"})});const[FormControlStylesProvider,useFormControlStyles]=createContext({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext({strict:!1,name:"FormControlContext"});function useFormControlProvider(a){const{id:s,isRequired:et,isInvalid:nt,isDisabled:at,isReadOnly:mt,...wt}=a,$t=reactExports.useId(),Ct=s||`field-${$t}`,Dt=`${Ct}-label`,Ft=`${Ct}-feedback`,jt=`${Ct}-helptext`,[Ut,tr]=reactExports.useState(!1),[ir,sr]=reactExports.useState(!1),[ur,fr]=reactExports.useState(!1),dr=reactExports.useCallback((br={},wr=null)=>({id:jt,...br,ref:mergeRefs(wr,Sr=>{Sr&&sr(!0)})}),[jt]),hr=reactExports.useCallback((br={},wr=null)=>({...br,ref:wr,"data-focus":dataAttr(ur),"data-disabled":dataAttr(at),"data-invalid":dataAttr(nt),"data-readonly":dataAttr(mt),id:br.id!==void 0?br.id:Dt,htmlFor:br.htmlFor!==void 0?br.htmlFor:Ct}),[Ct,at,ur,nt,mt,Dt]),vr=reactExports.useCallback((br={},wr=null)=>({id:Ft,...br,ref:mergeRefs(wr,Sr=>{Sr&&tr(!0)}),"aria-live":"polite"}),[Ft]),yr=reactExports.useCallback((br={},wr=null)=>({...br,...wt,ref:wr,role:"group","data-focus":dataAttr(ur),"data-disabled":dataAttr(at),"data-invalid":dataAttr(nt),"data-readonly":dataAttr(mt)}),[wt,at,ur,nt,mt]),xr=reactExports.useCallback((br={},wr=null)=>({...br,ref:wr,role:"presentation","aria-hidden":!0,children:br.children||"*"}),[]);return{isRequired:!!et,isInvalid:!!nt,isReadOnly:!!mt,isDisabled:!!at,isFocused:!!ur,onFocus:()=>fr(!0),onBlur:()=>fr(!1),hasFeedbackText:Ut,setHasFeedbackText:tr,hasHelpText:ir,setHasHelpText:sr,id:Ct,labelId:Dt,feedbackId:Ft,helpTextId:jt,htmlProps:wt,getHelpTextProps:dr,getErrorMessageProps:vr,getRootProps:yr,getLabelProps:hr,getRequiredIndicatorProps:xr}}const FormControl=forwardRef(function(s,et){const nt=useMultiStyleConfig("Form",s),at=omitThemingProps(s),{getRootProps:mt,htmlProps:wt,...$t}=useFormControlProvider(at),Ct=cx("chakra-form-control",s.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:$t,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:nt,children:jsxRuntimeExports.jsx(chakra.div,{...mt({},et),className:Ct,__css:nt.container})})})});FormControl.displayName="FormControl";const FormHelperText=forwardRef(function(s,et){const nt=useFormControlContext(),at=useFormControlStyles(),mt=cx("chakra-form__helper-text",s.className);return jsxRuntimeExports.jsx(chakra.div,{...nt==null?void 0:nt.getHelpTextProps(s,et),__css:at.helperText,className:mt})});FormHelperText.displayName="FormHelperText";function useFormControl(a){const{isDisabled:s,isInvalid:et,isReadOnly:nt,isRequired:at,...mt}=useFormControlProps(a);return{...mt,disabled:s,readOnly:nt,required:at,"aria-invalid":ariaAttr(et),"aria-required":ariaAttr(at),"aria-readonly":ariaAttr(nt)}}function useFormControlProps(a){const s=useFormControlContext(),{id:et,disabled:nt,readOnly:at,required:mt,isRequired:wt,isInvalid:$t,isReadOnly:Ct,isDisabled:Dt,onFocus:Ft,onBlur:jt,...Ut}=a,tr=a["aria-describedby"]?[a["aria-describedby"]]:[];return s!=null&&s.hasFeedbackText&&(s!=null&&s.isInvalid)&&tr.push(s.feedbackId),s!=null&&s.hasHelpText&&tr.push(s.helpTextId),{...Ut,"aria-describedby":tr.join(" ")||void 0,id:et??(s==null?void 0:s.id),isDisabled:nt??Dt??(s==null?void 0:s.isDisabled),isReadOnly:at??Ct??(s==null?void 0:s.isReadOnly),isRequired:mt??wt??(s==null?void 0:s.isRequired),isInvalid:$t??(s==null?void 0:s.isInvalid),onFocus:callAllHandlers(s==null?void 0:s.onFocus,Ft),onBlur:callAllHandlers(s==null?void 0:s.onBlur,jt)}}const Divider$1=forwardRef(function(s,et){const{borderLeftWidth:nt,borderBottomWidth:at,borderTopWidth:mt,borderRightWidth:wt,borderWidth:$t,borderStyle:Ct,borderColor:Dt,...Ft}=useStyleConfig("Divider",s),{className:jt,orientation:Ut="horizontal",__css:tr,...ir}=omitThemingProps(s),sr={vertical:{borderLeftWidth:nt||wt||$t||"1px",height:"100%"},horizontal:{borderBottomWidth:at||mt||$t||"1px",width:"100%"}};return jsxRuntimeExports.jsx(chakra.hr,{ref:et,"aria-orientation":Ut,...ir,__css:{...Ft,border:"0",borderColor:Dt,borderStyle:Ct,...sr[Ut],...tr},className:cx("chakra-divider",jt)})});Divider$1.displayName="Divider";function isFunction$2(a){return typeof a=="function"}function pipe(...a){return s=>a.reduce((et,nt)=>nt(et),s)}const createExtendTheme=a=>function(...et){let nt=[...et],at=et[et.length-1];return isChakraTheme(at)&&nt.length>1?nt=nt.slice(0,nt.length-1):at=a,pipe(...nt.map(mt=>wt=>isFunction$2(mt)?mt(wt):mergeThemeOverride(wt,mt)))(at)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...a){return mergeWith({},...a,mergeThemeCustomizer)}function mergeThemeCustomizer(a,s,et,nt){if((isFunction$2(a)||isFunction$2(s))&&Object.prototype.hasOwnProperty.call(nt,et))return(...at)=>{const mt=isFunction$2(a)?a(...at):a,wt=isFunction$2(s)?s(...at):s;return mergeWith({},mt,wt,mergeThemeCustomizer)};if(isObject$3(a)&&isArray$2(s)||isArray$2(a)&&isObject$3(s))return s}const Flex=forwardRef(function(s,et){const{direction:nt,align:at,justify:mt,wrap:wt,basis:$t,grow:Ct,shrink:Dt,...Ft}=s,jt={display:"flex",flexDirection:nt,alignItems:at,justifyContent:mt,flexWrap:wt,flexBasis:$t,flexGrow:Ct,flexShrink:Dt};return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:jt,...Ft})});Flex.displayName="Flex";function _objectWithoutPropertiesLoose(a,s){if(a==null)return{};var et={};for(var nt in a)if({}.hasOwnProperty.call(a,nt)){if(s.indexOf(nt)!==-1)continue;et[nt]=a[nt]}return et}var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus",hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},mediumFocus=createMedium({},function(a){var s=a.target,et=a.currentTarget;return{target:s,currentTarget:et}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(s,et){var nt,at=reactExports.useState(),mt=at[0],wt=at[1],$t=reactExports.useRef(),Ct=reactExports.useRef(!1),Dt=reactExports.useRef(null),Ft=reactExports.useState({}),jt=Ft[1],Ut=s.children,tr=s.disabled,ir=tr===void 0?!1:tr,sr=s.noFocusGuards,ur=sr===void 0?!1:sr,fr=s.persistentFocus,dr=fr===void 0?!1:fr,hr=s.crossFrame,vr=hr===void 0?!0:hr,yr=s.autoFocus,xr=yr===void 0?!0:yr;s.allowTextSelection;var br=s.group,wr=s.className,Sr=s.whiteList,Cr=s.hasPositiveIndices,cr=s.shards,Nt=cr===void 0?emptyArray:cr,Vt=s.as,er=Vt===void 0?"div":Vt,Yt=s.lockProps,rr=Yt===void 0?{}:Yt,ar=s.sideCar,lr=s.returnFocus,nr=lr===void 0?!1:lr,Lt=s.focusOptions,or=s.onActivation,gr=s.onDeactivation,pr=reactExports.useState({}),_r=pr[0],kr=reactExports.useCallback(function(Vr){var Ur=Vr.captureFocusRestore;if(!Dt.current){var Lr,Br=(Lr=document)==null?void 0:Lr.activeElement;Dt.current=Br,Br!==document.body&&(Dt.current=Ur(Br))}$t.current&&or&&or($t.current),Ct.current=!0,jt()},[or]),Mr=reactExports.useCallback(function(){Ct.current=!1,gr&&gr($t.current),jt()},[gr]),$r=reactExports.useCallback(function(Vr){var Ur=Dt.current;if(Ur){var Lr=(typeof Ur=="function"?Ur():Ur)||document.body,Br=typeof nr=="function"?nr(Lr):nr;if(Br){var Xr=typeof Br=="object"?Br:void 0;Dt.current=null,Vr?Promise.resolve().then(function(){return Lr.focus(Xr)}):Lr.focus(Xr)}}},[nr]),Pr=reactExports.useCallback(function(Vr){Ct.current&&mediumFocus.useMedium(Vr)},[]),Fr=mediumBlur.useMedium,Tr=reactExports.useCallback(function(Vr){$t.current!==Vr&&($t.current=Vr,wt(Vr))},[]),Rr=_extends((nt={},nt[FOCUS_DISABLED]=ir&&"disabled",nt[FOCUS_GROUP]=br,nt),rr),Er=ur!==!0,Or=Er&&ur!=="tail",Wr=useMergeRefs$1([et,Tr]),qr=reactExports.useMemo(function(){return{observed:$t,shards:Nt,enabled:!ir,active:Ct.current}},[ir,Ct.current,Nt,mt]);return React$2.createElement(reactExports.Fragment,null,Er&&[React$2.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:ir?-1:0,style:hiddenGuard}),Cr?React$2.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:ir?-1:1,style:hiddenGuard}):null],!ir&&React$2.createElement(ar,{id:_r,sideCar:mediumSidecar,observed:mt,disabled:ir,persistentFocus:dr,crossFrame:vr,autoFocus:xr,whiteList:Sr,shards:Nt,onActivation:kr,onDeactivation:Mr,returnFocus:$r,focusOptions:Lt,noFocusGuards:ur}),React$2.createElement(er,_extends({ref:Wr},Rr,{className:wr,onBlur:Fr,onFocus:Pr}),React$2.createElement(focusScope.Provider,{value:qr},Ut)),Or&&React$2.createElement("div",{"data-focus-guard":!0,tabIndex:ir?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(a,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,nt){return et.__proto__=nt,et},_setPrototypeOf(a,s)}function _inheritsLoose(a,s){a.prototype=Object.create(s.prototype),a.prototype.constructor=a,_setPrototypeOf(a,s)}function _typeof$1(a){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(a)}function toPrimitive$1(a,s){if(_typeof$1(a)!="object"||!a)return a;var et=a[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(a,s);if(_typeof$1(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function toPropertyKey$1(a){var s=toPrimitive$1(a,"string");return _typeof$1(s)=="symbol"?s:s+""}function _defineProperty(a,s,et){return(s=toPropertyKey$1(s))in a?Object.defineProperty(a,s,{value:et,enumerable:!0,configurable:!0,writable:!0}):a[s]=et,a}function withSideEffect(a,s){function et(nt){return nt.displayName||nt.name||"Component"}return function(at){var mt=[],wt;function $t(){wt=a(mt.map(function(Dt){return Dt.props})),s(wt)}var Ct=function(Dt){_inheritsLoose(Ft,Dt);function Ft(){return Dt.apply(this,arguments)||this}Ft.peek=function(){return wt};var jt=Ft.prototype;return jt.componentDidMount=function(){mt.push(this),$t()},jt.componentDidUpdate=function(){$t()},jt.componentWillUnmount=function(){var tr=mt.indexOf(this);mt.splice(tr,1),$t()},jt.render=function(){return React$2.createElement(at,this.props)},Ft}(reactExports.PureComponent);return _defineProperty(Ct,"displayName","SideEffect("+et(at)+")"),Ct}}var toArray$1=function(a){for(var s=Array(a.length),et=0;et<a.length;++et)s[et]=a[et];return s},asArray=function(a){return Array.isArray(a)?a:[a]},getFirst=function(a){return Array.isArray(a)?a[0]:a},isElementHidden=function(a){if(a.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(a,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode$1=function(a){return a.parentNode&&a.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?a.parentNode.host:a.parentNode},isTopNode=function(a){return a===document||a&&a.nodeType===Node.DOCUMENT_NODE},isInert=function(a){return a.hasAttribute("inert")},isVisibleUncached=function(a,s){return!a||isTopNode(a)||!isElementHidden(a)&&!isInert(a)&&s(getParentNode$1(a))},isVisibleCached=function(a,s){var et=a.get(s);if(et!==void 0)return et;var nt=isVisibleUncached(s,isVisibleCached.bind(void 0,a));return a.set(s,nt),nt},isAutoFocusAllowedUncached=function(a,s){return a&&!isTopNode(a)?isAutoFocusAllowed(a)?s(getParentNode$1(a)):!1:!0},isAutoFocusAllowedCached=function(a,s){var et=a.get(s);if(et!==void 0)return et;var nt=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,a));return a.set(s,nt),nt},getDataset=function(a){return a.dataset},isHTMLButtonElement=function(a){return a.tagName==="BUTTON"},isHTMLInputElement=function(a){return a.tagName==="INPUT"},isRadioElement=function(a){return isHTMLInputElement(a)&&a.type==="radio"},notHiddenInput=function(a){return!((isHTMLInputElement(a)||isHTMLButtonElement(a))&&(a.type==="hidden"||a.disabled))},isAutoFocusAllowed=function(a){var s=a.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(a){var s;return!!(a&&(!((s=getDataset(a))===null||s===void 0)&&s.focusGuard))},isNotAGuard=function(a){return!isGuard(a)},isDefined=function(a){return!!a},tabSort=function(a,s){var et=Math.max(0,a.tabIndex),nt=Math.max(0,s.tabIndex),at=et-nt,mt=a.index-s.index;if(at){if(!et)return 1;if(!nt)return-1}return at||mt},getTabIndex=function(a){return a.tabIndex<0&&!a.hasAttribute("tabindex")?0:a.tabIndex},orderByTabIndex=function(a,s,et){return toArray$1(a).map(function(nt,at){var mt=getTabIndex(nt);return{node:nt,index:at,tabIndex:et&&mt===-1?(nt.dataset||{}).focusGuard?0:-1:mt}}).filter(function(nt){return!s||nt.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(a,s){return toArray$1((a.shadowRoot||a).children).reduce(function(et,nt){return et.concat(nt.matches(s?queryGuardTabbables:queryTabbables)?[nt]:[],getFocusablesWithShadowDom(nt))},[])},getFocusablesWithIFrame=function(a,s){var et;return a instanceof HTMLIFrameElement&&(!((et=a.contentDocument)===null||et===void 0)&&et.body)?getFocusables([a.contentDocument.body],s):[a]},getFocusables=function(a,s){return a.reduce(function(et,nt){var at,mt=getFocusablesWithShadowDom(nt,s),wt=(at=[]).concat.apply(at,mt.map(function($t){return getFocusablesWithIFrame($t,s)}));return et.concat(wt,nt.parentNode?toArray$1(nt.parentNode.querySelectorAll(queryTabbables)).filter(function($t){return $t===nt}):[])},[])},getParentAutofocusables=function(a){var s=a.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray$1(s).map(function(et){return getFocusables([et])}).reduce(function(et,nt){return et.concat(nt)},[])},filterFocusable=function(a,s){return toArray$1(a).filter(function(et){return isVisibleCached(s,et)}).filter(function(et){return notHiddenInput(et)})},filterAutoFocusable=function(a,s){return s===void 0&&(s=new Map),toArray$1(a).filter(function(et){return isAutoFocusAllowedCached(s,et)})},getTabbableNodes=function(a,s,et){return orderByTabIndex(filterFocusable(getFocusables(a,et),s),!0,et)},getFocusableNodes=function(a,s){return orderByTabIndex(filterFocusable(getFocusables(a),s),!1)},parentAutofocusables=function(a,s){return filterFocusable(getParentAutofocusables(a),s)},contains$2=function(a,s){return a.shadowRoot?contains$2(a.shadowRoot,s):Object.getPrototypeOf(a).contains!==void 0&&Object.getPrototypeOf(a).contains.call(a,s)?!0:toArray$1(a.children).some(function(et){var nt;if(et instanceof HTMLIFrameElement){var at=(nt=et.contentDocument)===null||nt===void 0?void 0:nt.body;return at?contains$2(at,s):!1}return contains$2(et,s)})},filterNested=function(a){for(var s=new Set,et=a.length,nt=0;nt<et;nt+=1)for(var at=nt+1;at<et;at+=1){var mt=a[nt].compareDocumentPosition(a[at]);(mt&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(at),(mt&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(nt)}return a.filter(function(wt,$t){return!s.has($t)})},getTopParent=function(a){return a.parentNode?getTopParent(a.parentNode):a},getAllAffectedNodes=function(a){var s=asArray(a);return s.filter(Boolean).reduce(function(et,nt){var at=nt.getAttribute(FOCUS_GROUP);return et.push.apply(et,at?filterNested(toArray$1(getTopParent(nt).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(at,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[nt]),et},[])},safeProbe=function(a){try{return a()}catch{return}},getActiveElement=function(a){if(a===void 0&&(a=document),!(!a||!a.activeElement)){var s=a.activeElement;return s.shadowRoot?getActiveElement(s.shadowRoot):s instanceof HTMLIFrameElement&&safeProbe(function(){return s.contentWindow.document})?getActiveElement(s.contentWindow.document):s}},focusInFrame=function(a,s){return a===s},focusInsideIframe=function(a,s){return!!toArray$1(a.querySelectorAll("iframe")).some(function(et){return focusInFrame(et,s)})},focusInside=function(a,s){return s===void 0&&(s=getActiveElement(getFirst(a).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(a).some(function(et){return contains$2(et,s)||focusInsideIframe(et,s)})},focusIsHidden=function(a){a===void 0&&(a=document);var s=getActiveElement(a);return s?toArray$1(a.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(et){return contains$2(et,s)}):!1},findSelectedRadio=function(a,s){return s.filter(isRadioElement).filter(function(et){return et.name===a.name}).filter(function(et){return et.checked})[0]||a},correctNode=function(a,s){return isRadioElement(a)&&a.name?findSelectedRadio(a,s):a},correctNodes=function(a){var s=new Set;return a.forEach(function(et){return s.add(correctNode(et,a))}),a.filter(function(et){return s.has(et)})},pickFirstFocus=function(a){return a[0]&&a.length>1?correctNode(a[0],a):a[0]},pickFocusable=function(a,s){return a.indexOf(correctNode(s,a))},NEW_FOCUS="NEW_FOCUS",newFocus=function(a,s,et,nt,at){var mt=a.length,wt=a[0],$t=a[mt-1],Ct=isGuard(nt);if(!(nt&&a.indexOf(nt)>=0)){var Dt=nt!==void 0?et.indexOf(nt):-1,Ft=at?et.indexOf(at):Dt,jt=at?a.indexOf(at):-1;if(Dt===-1)return jt!==-1?jt:NEW_FOCUS;if(jt===-1)return NEW_FOCUS;var Ut=Dt-Ft,tr=et.indexOf(wt),ir=et.indexOf($t),sr=correctNodes(et),ur=nt!==void 0?sr.indexOf(nt):-1,fr=at?sr.indexOf(at):ur,dr=sr.filter(function(wr){return wr.tabIndex>=0}),hr=nt!==void 0?dr.indexOf(nt):-1,vr=at?dr.indexOf(at):hr,yr=hr>=0&&vr>=0?vr-hr:fr-ur;if(!Ut&&jt>=0||s.length===0)return jt;var xr=pickFocusable(a,s[0]),br=pickFocusable(a,s[s.length-1]);if(Dt<=tr&&Ct&&Math.abs(Ut)>1)return br;if(Dt>=ir&&Ct&&Math.abs(Ut)>1)return xr;if(Ut&&Math.abs(yr)>1)return jt;if(Dt<=tr)return br;if(Dt>ir)return xr;if(Ut)return Math.abs(Ut)>1?jt:(mt+jt+Ut)%mt}},findAutoFocused=function(a){return function(s){var et,nt=(et=getDataset(s))===null||et===void 0?void 0:et.autofocus;return s.autofocus||nt!==void 0&&nt!=="false"||a.indexOf(s)>=0}},pickAutofocus=function(a,s,et){var nt=a.map(function(mt){var wt=mt.node;return wt}),at=filterAutoFocusable(nt.filter(findAutoFocused(et)));return at&&at.length?pickFirstFocus(at):pickFirstFocus(filterAutoFocusable(s))},getParents=function(a,s){return s===void 0&&(s=[]),s.push(a),a.parentNode&&getParents(a.parentNode.host||a.parentNode,s),s},getCommonParent=function(a,s){for(var et=getParents(a),nt=getParents(s),at=0;at<et.length;at+=1){var mt=et[at];if(nt.indexOf(mt)>=0)return mt}return!1},getTopCommonParent=function(a,s,et){var nt=asArray(a),at=asArray(s),mt=nt[0],wt=!1;return at.filter(Boolean).forEach(function($t){wt=getCommonParent(wt||$t,$t)||wt,et.filter(Boolean).forEach(function(Ct){var Dt=getCommonParent(mt,Ct);Dt&&(!wt||contains$2(Dt,wt)?wt=Dt:wt=getCommonParent(Dt,wt))})}),wt},allParentAutofocusables=function(a,s){return a.reduce(function(et,nt){return et.concat(parentAutofocusables(nt,s))},[])},reorderNodes=function(a,s){var et=new Map;return s.forEach(function(nt){return et.set(nt.node,nt)}),a.map(function(nt){return et.get(nt)}).filter(isDefined)},focusSolver=function(a,s){var et=getActiveElement(asArray(a).length>0?document:getFirst(a).ownerDocument),nt=getAllAffectedNodes(a).filter(isNotAGuard),at=getTopCommonParent(et||a,a,nt),mt=new Map,wt=getFocusableNodes(nt,mt),$t=wt.filter(function(ir){var sr=ir.node;return isNotAGuard(sr)});if($t[0]){var Ct=getFocusableNodes([at],mt).map(function(ir){var sr=ir.node;return sr}),Dt=reorderNodes(Ct,$t),Ft=Dt.map(function(ir){var sr=ir.node;return sr}),jt=Dt.filter(function(ir){var sr=ir.tabIndex;return sr>=0}).map(function(ir){var sr=ir.node;return sr}),Ut=newFocus(Ft,jt,Ct,et,s);if(Ut===NEW_FOCUS){var tr=pickAutofocus(wt,jt,allParentAutofocusables(nt,mt))||pickAutofocus(wt,Ft,allParentAutofocusables(nt,mt));if(tr)return{node:tr};console.warn("focus-lock: cannot find any node to move focus into");return}return Ut===void 0?Ut:Dt[Ut]}},expandFocusableNodes=function(a){var s=getAllAffectedNodes(a).filter(isNotAGuard),et=getTopCommonParent(a,a,s),nt=orderByTabIndex(getFocusables([et],!0),!0,!0),at=getFocusables(s,!1);return nt.map(function(mt){var wt=mt.node,$t=mt.index;return{node:wt,index:$t,lockItem:at.indexOf(wt)>=0,guard:isGuard(wt)}})},focusOn=function(a,s){a&&("focus"in a&&a.focus(s),"contentWindow"in a&&a.contentWindow&&a.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(a,s,et){et===void 0&&(et={});var nt=focusSolver(a,s);if(!lockDisabled&&nt){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(nt.node,et.focusOptions),guardCount--}};function weakRef(a){if(!a)return null;if(typeof WeakRef>"u")return function(){return a||null};var s=a?new WeakRef(a):null;return function(){return(s==null?void 0:s.deref())||null}}var recordElementLocation=function(a){if(!a)return null;for(var s=[],et=a;et&&et!==document.body;)s.push({current:weakRef(et),parent:weakRef(et.parentElement),left:weakRef(et.previousElementSibling),right:weakRef(et.nextElementSibling)}),et=et.parentElement;return{element:weakRef(a),stack:s,ownerDocument:a.ownerDocument}},restoreFocusTo=function(a){var s,et,nt,at,mt;if(a)for(var wt=a.stack,$t=a.ownerDocument,Ct=new Map,Dt=0,Ft=wt;Dt<Ft.length;Dt++){var jt=Ft[Dt],Ut=(s=jt.parent)===null||s===void 0?void 0:s.call(jt);if(Ut&&$t.contains(Ut)){for(var tr=(et=jt.left)===null||et===void 0?void 0:et.call(jt),ir=jt.current(),sr=Ut.contains(ir)?ir:void 0,ur=(nt=jt.right)===null||nt===void 0?void 0:nt.call(jt),fr=getTabbableNodes([Ut],Ct),dr=(mt=(at=sr??(tr==null?void 0:tr.nextElementSibling))!==null&&at!==void 0?at:ur)!==null&&mt!==void 0?mt:tr;dr;){for(var hr=0,vr=fr;hr<vr.length;hr++){var yr=vr[hr];if(dr!=null&&dr.contains(yr.node))return yr.node}dr=dr.nextElementSibling}if(fr.length)return fr[0].node}}},captureFocusRestore=function(a){var s=recordElementLocation(a);return function(){return restoreFocusTo(s)}},getRelativeFocusable=function(a,s,et){if(!a||!s)return console.error("no element or scope given"),{};var nt=asArray(s);if(nt.every(function(wt){return!contains$2(wt,a)}))return console.error("Active element is not contained in the scope"),{};var at=et?getTabbableNodes(nt,new Map):getFocusableNodes(nt,new Map),mt=at.findIndex(function(wt){var $t=wt.node;return $t===a});if(mt!==-1)return{prev:at[mt-1],next:at[mt+1],first:at[0],last:at[at.length-1]}},getBoundary=function(a,s){var et=s?getTabbableNodes(asArray(a),new Map):getFocusableNodes(asArray(a),new Map);return{first:et[0],last:et[et.length-1]}},defaultOptions$1=function(a){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},a)},moveFocus=function(a,s,et){s===void 0&&(s={});var nt=defaultOptions$1(s),at=getRelativeFocusable(a,nt.scope,nt.onlyTabbable);if(at){var mt=et(at,nt.cycle);mt&&focusOn(mt.node,nt.focusOptions)}},focusNextElement=function(a,s){s===void 0&&(s={}),moveFocus(a,s,function(et,nt){var at=et.next,mt=et.first;return at||nt&&mt})},focusPrevElement=function(a,s){s===void 0&&(s={}),moveFocus(a,s,function(et,nt){var at=et.prev,mt=et.last;return at||nt&&mt})},pickBoundary=function(a,s,et){var nt,at=getBoundary(a,(nt=s.onlyTabbable)!==null&&nt!==void 0?nt:!0),mt=at[et];mt&&focusOn(mt.node,s.focusOptions)},focusFirstElement=function(a,s){s===void 0&&(s={}),pickBoundary(a,s,"first")},focusLastElement=function(a,s){s===void 0&&(s={}),pickBoundary(a,s,"last")};function deferAction(a){setTimeout(a,1)}var extractRef=function(s){return s&&"current"in s?s.current:s},focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function(s,et){lastPortaledElement={observerNode:s,portaledElement:et}},focusIsPortaledPair=function(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(a,s,et,nt){var at=null,mt=a;do{var wt=nt[mt];if(wt.guard)wt.node.dataset.focusAutoGuard&&(at=wt);else if(wt.lockItem){if(mt!==a)return;at=null}else break}while((mt+=et)!==s);at&&(at.node.tabIndex=0)}var focusWasOutside=function(s){return s?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function a(s,et,nt){return et&&(et.host===s&&(!et.activeElement||nt.contains(et.activeElement))||et.parentNode&&a(s,et.parentNode,nt))},withinHost=function(s,et){return et.some(function(nt){return checkInHost(s,nt,nt)})},getNodeFocusables=function(s){return getFocusableNodes(s,new Map)},isNotFocusable=function(s){return!getNodeFocusables([s.parentNode]).some(function(et){return et.node===s})},activateTrap=function(){var s=!1;if(lastActiveTrap){var et=lastActiveTrap,nt=et.observed,at=et.persistentFocus,mt=et.autoFocus,wt=et.shards,$t=et.crossFrame,Ct=et.focusOptions,Dt=et.noFocusGuards,Ft=nt||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&lastActiveFocus!==document.body&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){var jt=tryRestoreFocus();jt&&jt.focus()}var Ut=document&&document.activeElement;if(Ft){var tr=[Ft].concat(wt.map(extractRef).filter(Boolean)),ir=function(){if(!focusWasOutside($t)||!Dt||!lastActiveFocus||windowFocused)return!1;var hr=getNodeFocusables(tr),vr=hr.findIndex(function(yr){var xr=yr.node;return xr===lastActiveFocus});return vr===0||vr===hr.length-1};if((!Ut||focusWhitelisted(Ut))&&(at||ir()||!isFreeFocus()||!lastActiveFocus&&mt)&&(Ft&&!(focusInside(tr)||Ut&&withinHost(Ut,tr)||focusIsPortaledPair(Ut))&&(document&&!lastActiveFocus&&Ut&&!mt?(Ut.blur&&Ut.blur(),document.body.focus()):(s=moveFocusInside(tr,lastActiveFocus,{focusOptions:Ct}),lastPortaledElement={})),lastActiveFocus=document&&document.activeElement,lastActiveFocus!==document.body&&(tryRestoreFocus=captureFocusRestore(lastActiveFocus)),focusWasOutsideWindow=!1),document&&Ut!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var sr=document&&document.activeElement,ur=expandFocusableNodes(tr),fr=ur.map(function(dr){var hr=dr.node;return hr}).indexOf(sr);fr>-1&&(ur.filter(function(dr){var hr=dr.guard,vr=dr.node;return hr&&vr.dataset.focusAutoGuard}).forEach(function(dr){var hr=dr.node;return hr.removeAttribute("tabIndex")}),autoGuard(fr,ur.length,1,ur),autoGuard(fr,-1,-1,ur))}}}return s},onTrap=function(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(s){var et=s.target,nt=s.currentTarget;nt.contains(et)||recordPortal(nt,et)},FocusWatcher=function(){return null},onWindowFocus=function(){windowFocused=!0},onWindowBlur=function(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(a){return a.filter(function(s){var et=s.disabled;return!et})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(a){var s=a.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var et=lastActiveTrap,nt=et&&s&&s.id===et.id;lastActiveTrap=s,et&&!nt&&(et.onDeactivation(),a.filter(function(at){var mt=at.id;return mt===et.id}).length||et.returnFocus(!s)),s?(lastActiveFocus=null,(!nt||et.observed!==s.observed)&&s.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(a){return a(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(s,et){return React$2.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:et},s))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusTrap=FocusLockCombination.default??FocusLockCombination,FocusLock=a=>{const{initialFocusRef:s,finalFocusRef:et,contentRef:nt,restoreFocus:at,children:mt,isDisabled:wt,autoFocus:$t,persistentFocus:Ct,lockFocusAcrossFrames:Dt}=a,Ft=reactExports.useCallback(()=>{s!=null&&s.current?s.current.focus():nt!=null&&nt.current&&getAllFocusable(nt.current).length===0&&requestAnimationFrame(()=>{var ir;(ir=nt.current)==null||ir.focus()})},[s,nt]),jt=reactExports.useCallback(()=>{var tr;(tr=et==null?void 0:et.current)==null||tr.focus()},[et]),Ut=at&&!et;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:Dt,persistentFocus:Ct,autoFocus:$t,disabled:wt,onActivation:Ft,onDeactivation:jt,returnFocus:Ut,children:mt})};FocusLock.displayName="FocusLock";const Grid=forwardRef(function(s,et){const{templateAreas:nt,gap:at,rowGap:mt,columnGap:wt,column:$t,row:Ct,autoFlow:Dt,autoRows:Ft,templateRows:jt,autoColumns:Ut,templateColumns:tr,...ir}=s,sr={display:"grid",gridTemplateAreas:nt,gridGap:at,gridRowGap:mt,gridColumnGap:wt,gridAutoColumns:Ut,gridColumn:$t,gridRow:Ct,gridAutoFlow:Dt,gridAutoRows:Ft,gridTemplateRows:jt,gridTemplateColumns:tr};return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:sr,...ir})});Grid.displayName="Grid";function spanFn(a){return mapResponsive(a,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}const GridItem=forwardRef(function(s,et){const{area:nt,colSpan:at,colStart:mt,colEnd:wt,rowEnd:$t,rowSpan:Ct,rowStart:Dt,...Ft}=s,jt=compact({gridArea:nt,gridColumn:spanFn(at),gridRow:spanFn(Ct),gridColumnStart:mt,gridColumnEnd:wt,gridRowStart:Dt,gridRowEnd:$t});return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:jt,...Ft})});GridItem.displayName="GridItem";const NativeImage=forwardRef(function(s,et){const{htmlWidth:nt,htmlHeight:at,alt:mt,...wt}=s;return jsxRuntimeExports.jsx("img",{width:nt,height:at,ref:et,alt:mt,...wt})});NativeImage.displayName="NativeImage";const Image$1=forwardRef(function(s,et){const{fallbackSrc:nt,fallback:at,src:mt,srcSet:wt,align:$t,fit:Ct,loading:Dt,ignoreFallback:Ft,crossOrigin:jt,fallbackStrategy:Ut="beforeLoadOrError",referrerPolicy:tr,...ir}=s,sr=nt!==void 0||at!==void 0,ur=Dt!=null||Ft||!sr,fr=useImage({...s,crossOrigin:jt,ignoreFallback:ur}),dr=shouldShowFallbackImage(fr,Ut),hr={ref:et,objectFit:Ct,objectPosition:$t,...ur?ir:omit(ir,["onError","onLoad"])};return dr?at||jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,className:"chakra-image__placeholder",src:nt,...hr}):jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,src:mt,srcSet:wt,crossOrigin:jt,loading:Dt,referrerPolicy:tr,className:"chakra-image",...hr})});Image$1.displayName="Image";const Input=forwardRef(function(s,et){const{htmlSize:nt,...at}=s,mt=useMultiStyleConfig("Input",at),wt=omitThemingProps(at),$t=useFormControl(wt),Ct=cx("chakra-input",s.className);return jsxRuntimeExports.jsx(chakra.input,{size:nt,...$t,__css:mt.field,ref:et,className:Ct})});Input.displayName="Input";Input.id="Input";const[InputGroupStylesProvider,useInputGroupStyles]=createContext({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),InputGroup=forwardRef(function(s,et){const nt=useMultiStyleConfig("Input",s),{children:at,className:mt,...wt}=omitThemingProps(s),$t=cx("chakra-input__group",mt),Ct={},Dt=getValidChildren(at),Ft=nt.field;Dt.forEach(Ut=>{nt&&(Ft&&Ut.type.id==="InputLeftElement"&&(Ct.paddingStart=Ft.height??Ft.h),Ft&&Ut.type.id==="InputRightElement"&&(Ct.paddingEnd=Ft.height??Ft.h),Ut.type.id==="InputRightAddon"&&(Ct.borderEndRadius=0),Ut.type.id==="InputLeftAddon"&&(Ct.borderStartRadius=0))});const jt=Dt.map(Ut=>{var ir,sr;const tr=compact({size:((ir=Ut.props)==null?void 0:ir.size)||s.size,variant:((sr=Ut.props)==null?void 0:sr.variant)||s.variant});return Ut.type.id!=="Input"?reactExports.cloneElement(Ut,tr):reactExports.cloneElement(Ut,Object.assign(tr,Ct,Ut.props))});return jsxRuntimeExports.jsx(chakra.div,{className:$t,ref:et,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...nt.group},"data-group":!0,...wt,children:jsxRuntimeExports.jsx(InputGroupStylesProvider,{value:nt,children:jt})})});InputGroup.displayName="InputGroup";const placements$1={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},StyledAddon=chakra("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),InputAddon=forwardRef(function(s,et){const{placement:nt="left",...at}=s,mt=placements$1[nt]??{},wt=useInputGroupStyles();return jsxRuntimeExports.jsx(StyledAddon,{ref:et,...at,__css:{...wt.addon,...mt}})});InputAddon.displayName="InputAddon";const InputLeftAddon=forwardRef(function(s,et){return jsxRuntimeExports.jsx(InputAddon,{ref:et,placement:"left",...s,className:cx("chakra-input__left-addon",s.className)})});InputLeftAddon.displayName="InputLeftAddon";InputLeftAddon.id="InputLeftAddon";const InputRightAddon=forwardRef(function(s,et){return jsxRuntimeExports.jsx(InputAddon,{ref:et,placement:"right",...s,className:cx("chakra-input__right-addon",s.className)})});InputRightAddon.displayName="InputRightAddon";InputRightAddon.id="InputRightAddon";const StyledInputElement=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),InputElement=forwardRef(function(s,et){const{placement:nt="left",...at}=s,mt=useInputGroupStyles(),wt=mt.field,Ct={[nt==="left"?"insetStart":"insetEnd"]:"0",width:(wt==null?void 0:wt.height)??(wt==null?void 0:wt.h),height:(wt==null?void 0:wt.height)??(wt==null?void 0:wt.h),fontSize:wt==null?void 0:wt.fontSize,...mt.element};return jsxRuntimeExports.jsx(StyledInputElement,{ref:et,__css:Ct,...at})});InputElement.id="InputElement";InputElement.displayName="InputElement";const InputLeftElement=forwardRef(function(s,et){const{className:nt,...at}=s,mt=cx("chakra-input__left-element",nt);return jsxRuntimeExports.jsx(InputElement,{ref:et,placement:"left",className:mt,...at})});InputLeftElement.id="InputLeftElement";InputLeftElement.displayName="InputLeftElement";const InputRightElement=forwardRef(function(s,et){const{className:nt,...at}=s,mt=cx("chakra-input__right-element",nt);return jsxRuntimeExports.jsx(InputElement,{ref:et,placement:"right",className:mt,...at})});InputRightElement.id="InputRightElement";InputRightElement.displayName="InputRightElement";const Link=forwardRef(function(s,et){const nt=useStyleConfig("Link",s),{className:at,isExternal:mt,...wt}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.a,{target:mt?"_blank":void 0,rel:mt?"noopener":void 0,ref:et,className:cx("chakra-link",at),...wt,__css:nt})});Link.displayName="Link";function getNextItemFromSearch(a,s,et,nt){if(s==null)return nt;if(!nt)return a.find(wt=>et(wt).toLowerCase().startsWith(s.toLowerCase()));const at=a.filter(mt=>et(mt).toLowerCase().startsWith(s.toLowerCase()));if(at.length>0){let mt;return at.includes(nt)?(mt=at.indexOf(nt)+1,mt===at.length&&(mt=0),at[mt]):(mt=a.indexOf(at[0]),a[mt])}return nt}function isPrintableCharacter(a){const{key:s}=a;return s.length===1||s.length>1&&/[^a-zA-Z0-9]/.test(s)}function useShortcut(a={}){const{timeout:s=300,preventDefault:et=()=>!0}=a,[nt,at]=reactExports.useState([]),mt=reactExports.useRef(void 0),wt=()=>{mt.current&&(clearTimeout(mt.current),mt.current=null)},$t=()=>{wt(),mt.current=setTimeout(()=>{at([]),mt.current=null},s)};reactExports.useEffect(()=>wt,[]);function Ct(Dt){return Ft=>{if(Ft.key==="Backspace"){const jt=[...nt];jt.pop(),at(jt);return}if(isPrintableCharacter(Ft)){const jt=nt.concat(Ft.key);et(Ft)&&(Ft.preventDefault(),Ft.stopPropagation()),at(jt),Dt(jt.join("")),$t()}}}return Ct}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(a,s){return a.concat([s+"-"+start,s+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(a,s){return a.concat([s,s+"-"+start,s+"-"+end])},[]),beforeRead="beforeRead",read$1="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read$1,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(a){return a?(a.nodeName||"").toLowerCase():null}function getWindow(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var s=a.ownerDocument;return s&&s.defaultView||window}return a}function isElement$1(a){var s=getWindow(a).Element;return a instanceof s||a instanceof Element}function isHTMLElement$1(a){var s=getWindow(a).HTMLElement;return a instanceof s||a instanceof HTMLElement}function isShadowRoot(a){if(typeof ShadowRoot>"u")return!1;var s=getWindow(a).ShadowRoot;return a instanceof s||a instanceof ShadowRoot}function applyStyles(a){var s=a.state;Object.keys(s.elements).forEach(function(et){var nt=s.styles[et]||{},at=s.attributes[et]||{},mt=s.elements[et];!isHTMLElement$1(mt)||!getNodeName(mt)||(Object.assign(mt.style,nt),Object.keys(at).forEach(function(wt){var $t=at[wt];$t===!1?mt.removeAttribute(wt):mt.setAttribute(wt,$t===!0?"":$t)}))})}function effect$2(a){var s=a.state,et={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,et.popper),s.styles=et,s.elements.arrow&&Object.assign(s.elements.arrow.style,et.arrow),function(){Object.keys(s.elements).forEach(function(nt){var at=s.elements[nt],mt=s.attributes[nt]||{},wt=Object.keys(s.styles.hasOwnProperty(nt)?s.styles[nt]:et[nt]),$t=wt.reduce(function(Ct,Dt){return Ct[Dt]="",Ct},{});!isHTMLElement$1(at)||!getNodeName(at)||(Object.assign(at.style,$t),Object.keys(mt).forEach(function(Ct){at.removeAttribute(Ct)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(a){return a.split("-")[0]}var max$3=Math.max,min$3=Math.min,round$3=Math.round;function getUAString(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(a,s,et){s===void 0&&(s=!1),et===void 0&&(et=!1);var nt=a.getBoundingClientRect(),at=1,mt=1;s&&isHTMLElement$1(a)&&(at=a.offsetWidth>0&&round$3(nt.width)/a.offsetWidth||1,mt=a.offsetHeight>0&&round$3(nt.height)/a.offsetHeight||1);var wt=isElement$1(a)?getWindow(a):window,$t=wt.visualViewport,Ct=!isLayoutViewport()&&et,Dt=(nt.left+(Ct&&$t?$t.offsetLeft:0))/at,Ft=(nt.top+(Ct&&$t?$t.offsetTop:0))/mt,jt=nt.width/at,Ut=nt.height/mt;return{width:jt,height:Ut,top:Ft,right:Dt+jt,bottom:Ft+Ut,left:Dt,x:Dt,y:Ft}}function getLayoutRect(a){var s=getBoundingClientRect(a),et=a.offsetWidth,nt=a.offsetHeight;return Math.abs(s.width-et)<=1&&(et=s.width),Math.abs(s.height-nt)<=1&&(nt=s.height),{x:a.offsetLeft,y:a.offsetTop,width:et,height:nt}}function contains$1(a,s){var et=s.getRootNode&&s.getRootNode();if(a.contains(s))return!0;if(et&&isShadowRoot(et)){var nt=s;do{if(nt&&a.isSameNode(nt))return!0;nt=nt.parentNode||nt.host}while(nt)}return!1}function getComputedStyle(a){return getWindow(a).getComputedStyle(a)}function isTableElement(a){return["table","td","th"].indexOf(getNodeName(a))>=0}function getDocumentElement(a){return((isElement$1(a)?a.ownerDocument:a.document)||window.document).documentElement}function getParentNode(a){return getNodeName(a)==="html"?a:a.assignedSlot||a.parentNode||(isShadowRoot(a)?a.host:null)||getDocumentElement(a)}function getTrueOffsetParent(a){return!isHTMLElement$1(a)||getComputedStyle(a).position==="fixed"?null:a.offsetParent}function getContainingBlock(a){var s=/firefox/i.test(getUAString()),et=/Trident/i.test(getUAString());if(et&&isHTMLElement$1(a)){var nt=getComputedStyle(a);if(nt.position==="fixed")return null}var at=getParentNode(a);for(isShadowRoot(at)&&(at=at.host);isHTMLElement$1(at)&&["html","body"].indexOf(getNodeName(at))<0;){var mt=getComputedStyle(at);if(mt.transform!=="none"||mt.perspective!=="none"||mt.contain==="paint"||["transform","perspective"].indexOf(mt.willChange)!==-1||s&&mt.willChange==="filter"||s&&mt.filter&&mt.filter!=="none")return at;at=at.parentNode}return null}function getOffsetParent(a){for(var s=getWindow(a),et=getTrueOffsetParent(a);et&&isTableElement(et)&&getComputedStyle(et).position==="static";)et=getTrueOffsetParent(et);return et&&(getNodeName(et)==="html"||getNodeName(et)==="body"&&getComputedStyle(et).position==="static")?s:et||getContainingBlock(a)||s}function getMainAxisFromPlacement(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function within(a,s,et){return max$3(a,min$3(s,et))}function withinMaxClamp(a,s,et){var nt=within(a,s,et);return nt>et?et:nt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(a){return Object.assign({},getFreshSideObject(),a)}function expandToHashMap(a,s){return s.reduce(function(et,nt){return et[nt]=a,et},{})}var toPaddingObject=function(s,et){return s=typeof s=="function"?s(Object.assign({},et.rects,{placement:et.placement})):s,mergePaddingObject(typeof s!="number"?s:expandToHashMap(s,basePlacements))};function arrow(a){var s,et=a.state,nt=a.name,at=a.options,mt=et.elements.arrow,wt=et.modifiersData.popperOffsets,$t=getBasePlacement(et.placement),Ct=getMainAxisFromPlacement($t),Dt=[left,right].indexOf($t)>=0,Ft=Dt?"height":"width";if(!(!mt||!wt)){var jt=toPaddingObject(at.padding,et),Ut=getLayoutRect(mt),tr=Ct==="y"?top:left,ir=Ct==="y"?bottom:right,sr=et.rects.reference[Ft]+et.rects.reference[Ct]-wt[Ct]-et.rects.popper[Ft],ur=wt[Ct]-et.rects.reference[Ct],fr=getOffsetParent(mt),dr=fr?Ct==="y"?fr.clientHeight||0:fr.clientWidth||0:0,hr=sr/2-ur/2,vr=jt[tr],yr=dr-Ut[Ft]-jt[ir],xr=dr/2-Ut[Ft]/2+hr,br=within(vr,xr,yr),wr=Ct;et.modifiersData[nt]=(s={},s[wr]=br,s.centerOffset=br-xr,s)}}function effect$1(a){var s=a.state,et=a.options,nt=et.element,at=nt===void 0?"[data-popper-arrow]":nt;at!=null&&(typeof at=="string"&&(at=s.elements.popper.querySelector(at),!at)||contains$1(s.elements.popper,at)&&(s.elements.arrow=at))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(a){return a.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(a,s){var et=a.x,nt=a.y,at=s.devicePixelRatio||1;return{x:round$3(et*at)/at||0,y:round$3(nt*at)/at||0}}function mapToStyles(a){var s,et=a.popper,nt=a.popperRect,at=a.placement,mt=a.variation,wt=a.offsets,$t=a.position,Ct=a.gpuAcceleration,Dt=a.adaptive,Ft=a.roundOffsets,jt=a.isFixed,Ut=wt.x,tr=Ut===void 0?0:Ut,ir=wt.y,sr=ir===void 0?0:ir,ur=typeof Ft=="function"?Ft({x:tr,y:sr}):{x:tr,y:sr};tr=ur.x,sr=ur.y;var fr=wt.hasOwnProperty("x"),dr=wt.hasOwnProperty("y"),hr=left,vr=top,yr=window;if(Dt){var xr=getOffsetParent(et),br="clientHeight",wr="clientWidth";if(xr===getWindow(et)&&(xr=getDocumentElement(et),getComputedStyle(xr).position!=="static"&&$t==="absolute"&&(br="scrollHeight",wr="scrollWidth")),xr=xr,at===top||(at===left||at===right)&&mt===end){vr=bottom;var Sr=jt&&xr===yr&&yr.visualViewport?yr.visualViewport.height:xr[br];sr-=Sr-nt.height,sr*=Ct?1:-1}if(at===left||(at===top||at===bottom)&&mt===end){hr=right;var Cr=jt&&xr===yr&&yr.visualViewport?yr.visualViewport.width:xr[wr];tr-=Cr-nt.width,tr*=Ct?1:-1}}var cr=Object.assign({position:$t},Dt&&unsetSides),Nt=Ft===!0?roundOffsetsByDPR({x:tr,y:sr},getWindow(et)):{x:tr,y:sr};if(tr=Nt.x,sr=Nt.y,Ct){var Vt;return Object.assign({},cr,(Vt={},Vt[vr]=dr?"0":"",Vt[hr]=fr?"0":"",Vt.transform=(yr.devicePixelRatio||1)<=1?"translate("+tr+"px, "+sr+"px)":"translate3d("+tr+"px, "+sr+"px, 0)",Vt))}return Object.assign({},cr,(s={},s[vr]=dr?sr+"px":"",s[hr]=fr?tr+"px":"",s.transform="",s))}function computeStyles(a){var s=a.state,et=a.options,nt=et.gpuAcceleration,at=nt===void 0?!0:nt,mt=et.adaptive,wt=mt===void 0?!0:mt,$t=et.roundOffsets,Ct=$t===void 0?!0:$t,Dt={placement:getBasePlacement(s.placement),variation:getVariation(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:at,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,mapToStyles(Object.assign({},Dt,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:wt,roundOffsets:Ct})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,mapToStyles(Object.assign({},Dt,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ct})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(a){var s=a.state,et=a.instance,nt=a.options,at=nt.scroll,mt=at===void 0?!0:at,wt=nt.resize,$t=wt===void 0?!0:wt,Ct=getWindow(s.elements.popper),Dt=[].concat(s.scrollParents.reference,s.scrollParents.popper);return mt&&Dt.forEach(function(Ft){Ft.addEventListener("scroll",et.update,passive)}),$t&&Ct.addEventListener("resize",et.update,passive),function(){mt&&Dt.forEach(function(Ft){Ft.removeEventListener("scroll",et.update,passive)}),$t&&Ct.removeEventListener("resize",et.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$3={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,function(s){return hash$3[s]})}var hash$2={start:"end",end:"start"};function getOppositeVariationPlacement(a){return a.replace(/start|end/g,function(s){return hash$2[s]})}function getWindowScroll(a){var s=getWindow(a),et=s.pageXOffset,nt=s.pageYOffset;return{scrollLeft:et,scrollTop:nt}}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getWindowScroll(a).scrollLeft}function getViewportRect(a,s){var et=getWindow(a),nt=getDocumentElement(a),at=et.visualViewport,mt=nt.clientWidth,wt=nt.clientHeight,$t=0,Ct=0;if(at){mt=at.width,wt=at.height;var Dt=isLayoutViewport();(Dt||!Dt&&s==="fixed")&&($t=at.offsetLeft,Ct=at.offsetTop)}return{width:mt,height:wt,x:$t+getWindowScrollBarX(a),y:Ct}}function getDocumentRect(a){var s,et=getDocumentElement(a),nt=getWindowScroll(a),at=(s=a.ownerDocument)==null?void 0:s.body,mt=max$3(et.scrollWidth,et.clientWidth,at?at.scrollWidth:0,at?at.clientWidth:0),wt=max$3(et.scrollHeight,et.clientHeight,at?at.scrollHeight:0,at?at.clientHeight:0),$t=-nt.scrollLeft+getWindowScrollBarX(a),Ct=-nt.scrollTop;return getComputedStyle(at||et).direction==="rtl"&&($t+=max$3(et.clientWidth,at?at.clientWidth:0)-mt),{width:mt,height:wt,x:$t,y:Ct}}function isScrollParent(a){var s=getComputedStyle(a),et=s.overflow,nt=s.overflowX,at=s.overflowY;return/auto|scroll|overlay|hidden/.test(et+at+nt)}function getScrollParent(a){return["html","body","#document"].indexOf(getNodeName(a))>=0?a.ownerDocument.body:isHTMLElement$1(a)&&isScrollParent(a)?a:getScrollParent(getParentNode(a))}function listScrollParents(a,s){var et;s===void 0&&(s=[]);var nt=getScrollParent(a),at=nt===((et=a.ownerDocument)==null?void 0:et.body),mt=getWindow(nt),wt=at?[mt].concat(mt.visualViewport||[],isScrollParent(nt)?nt:[]):nt,$t=s.concat(wt);return at?$t:$t.concat(listScrollParents(getParentNode(wt)))}function rectToClientRect(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function getInnerBoundingClientRect(a,s){var et=getBoundingClientRect(a,!1,s==="fixed");return et.top=et.top+a.clientTop,et.left=et.left+a.clientLeft,et.bottom=et.top+a.clientHeight,et.right=et.left+a.clientWidth,et.width=a.clientWidth,et.height=a.clientHeight,et.x=et.left,et.y=et.top,et}function getClientRectFromMixedType(a,s,et){return s===viewport?rectToClientRect(getViewportRect(a,et)):isElement$1(s)?getInnerBoundingClientRect(s,et):rectToClientRect(getDocumentRect(getDocumentElement(a)))}function getClippingParents(a){var s=listScrollParents(getParentNode(a)),et=["absolute","fixed"].indexOf(getComputedStyle(a).position)>=0,nt=et&&isHTMLElement$1(a)?getOffsetParent(a):a;return isElement$1(nt)?s.filter(function(at){return isElement$1(at)&&contains$1(at,nt)&&getNodeName(at)!=="body"}):[]}function getClippingRect(a,s,et,nt){var at=s==="clippingParents"?getClippingParents(a):[].concat(s),mt=[].concat(at,[et]),wt=mt[0],$t=mt.reduce(function(Ct,Dt){var Ft=getClientRectFromMixedType(a,Dt,nt);return Ct.top=max$3(Ft.top,Ct.top),Ct.right=min$3(Ft.right,Ct.right),Ct.bottom=min$3(Ft.bottom,Ct.bottom),Ct.left=max$3(Ft.left,Ct.left),Ct},getClientRectFromMixedType(a,wt,nt));return $t.width=$t.right-$t.left,$t.height=$t.bottom-$t.top,$t.x=$t.left,$t.y=$t.top,$t}function computeOffsets(a){var s=a.reference,et=a.element,nt=a.placement,at=nt?getBasePlacement(nt):null,mt=nt?getVariation(nt):null,wt=s.x+s.width/2-et.width/2,$t=s.y+s.height/2-et.height/2,Ct;switch(at){case top:Ct={x:wt,y:s.y-et.height};break;case bottom:Ct={x:wt,y:s.y+s.height};break;case right:Ct={x:s.x+s.width,y:$t};break;case left:Ct={x:s.x-et.width,y:$t};break;default:Ct={x:s.x,y:s.y}}var Dt=at?getMainAxisFromPlacement(at):null;if(Dt!=null){var Ft=Dt==="y"?"height":"width";switch(mt){case start:Ct[Dt]=Ct[Dt]-(s[Ft]/2-et[Ft]/2);break;case end:Ct[Dt]=Ct[Dt]+(s[Ft]/2-et[Ft]/2);break}}return Ct}function detectOverflow(a,s){s===void 0&&(s={});var et=s,nt=et.placement,at=nt===void 0?a.placement:nt,mt=et.strategy,wt=mt===void 0?a.strategy:mt,$t=et.boundary,Ct=$t===void 0?clippingParents:$t,Dt=et.rootBoundary,Ft=Dt===void 0?viewport:Dt,jt=et.elementContext,Ut=jt===void 0?popper:jt,tr=et.altBoundary,ir=tr===void 0?!1:tr,sr=et.padding,ur=sr===void 0?0:sr,fr=mergePaddingObject(typeof ur!="number"?ur:expandToHashMap(ur,basePlacements)),dr=Ut===popper?reference:popper,hr=a.rects.popper,vr=a.elements[ir?dr:Ut],yr=getClippingRect(isElement$1(vr)?vr:vr.contextElement||getDocumentElement(a.elements.popper),Ct,Ft,wt),xr=getBoundingClientRect(a.elements.reference),br=computeOffsets({reference:xr,element:hr,placement:at}),wr=rectToClientRect(Object.assign({},hr,br)),Sr=Ut===popper?wr:xr,Cr={top:yr.top-Sr.top+fr.top,bottom:Sr.bottom-yr.bottom+fr.bottom,left:yr.left-Sr.left+fr.left,right:Sr.right-yr.right+fr.right},cr=a.modifiersData.offset;if(Ut===popper&&cr){var Nt=cr[at];Object.keys(Cr).forEach(function(Vt){var er=[right,bottom].indexOf(Vt)>=0?1:-1,Yt=[top,bottom].indexOf(Vt)>=0?"y":"x";Cr[Vt]+=Nt[Yt]*er})}return Cr}function computeAutoPlacement(a,s){s===void 0&&(s={});var et=s,nt=et.placement,at=et.boundary,mt=et.rootBoundary,wt=et.padding,$t=et.flipVariations,Ct=et.allowedAutoPlacements,Dt=Ct===void 0?placements:Ct,Ft=getVariation(nt),jt=Ft?$t?variationPlacements:variationPlacements.filter(function(ir){return getVariation(ir)===Ft}):basePlacements,Ut=jt.filter(function(ir){return Dt.indexOf(ir)>=0});Ut.length===0&&(Ut=jt);var tr=Ut.reduce(function(ir,sr){return ir[sr]=detectOverflow(a,{placement:sr,boundary:at,rootBoundary:mt,padding:wt})[getBasePlacement(sr)],ir},{});return Object.keys(tr).sort(function(ir,sr){return tr[ir]-tr[sr]})}function getExpandedFallbackPlacements(a){if(getBasePlacement(a)===auto)return[];var s=getOppositePlacement(a);return[getOppositeVariationPlacement(a),s,getOppositeVariationPlacement(s)]}function flip(a){var s=a.state,et=a.options,nt=a.name;if(!s.modifiersData[nt]._skip){for(var at=et.mainAxis,mt=at===void 0?!0:at,wt=et.altAxis,$t=wt===void 0?!0:wt,Ct=et.fallbackPlacements,Dt=et.padding,Ft=et.boundary,jt=et.rootBoundary,Ut=et.altBoundary,tr=et.flipVariations,ir=tr===void 0?!0:tr,sr=et.allowedAutoPlacements,ur=s.options.placement,fr=getBasePlacement(ur),dr=fr===ur,hr=Ct||(dr||!ir?[getOppositePlacement(ur)]:getExpandedFallbackPlacements(ur)),vr=[ur].concat(hr).reduce(function(_r,kr){return _r.concat(getBasePlacement(kr)===auto?computeAutoPlacement(s,{placement:kr,boundary:Ft,rootBoundary:jt,padding:Dt,flipVariations:ir,allowedAutoPlacements:sr}):kr)},[]),yr=s.rects.reference,xr=s.rects.popper,br=new Map,wr=!0,Sr=vr[0],Cr=0;Cr<vr.length;Cr++){var cr=vr[Cr],Nt=getBasePlacement(cr),Vt=getVariation(cr)===start,er=[top,bottom].indexOf(Nt)>=0,Yt=er?"width":"height",rr=detectOverflow(s,{placement:cr,boundary:Ft,rootBoundary:jt,altBoundary:Ut,padding:Dt}),ar=er?Vt?right:left:Vt?bottom:top;yr[Yt]>xr[Yt]&&(ar=getOppositePlacement(ar));var lr=getOppositePlacement(ar),nr=[];if(mt&&nr.push(rr[Nt]<=0),$t&&nr.push(rr[ar]<=0,rr[lr]<=0),nr.every(function(_r){return _r})){Sr=cr,wr=!1;break}br.set(cr,nr)}if(wr)for(var Lt=ir?3:1,or=function(kr){var Mr=vr.find(function($r){var Pr=br.get($r);if(Pr)return Pr.slice(0,kr).every(function(Fr){return Fr})});if(Mr)return Sr=Mr,"break"},gr=Lt;gr>0;gr--){var pr=or(gr);if(pr==="break")break}s.placement!==Sr&&(s.modifiersData[nt]._skip=!0,s.placement=Sr,s.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(a,s,et){return et===void 0&&(et={x:0,y:0}),{top:a.top-s.height-et.y,right:a.right-s.width+et.x,bottom:a.bottom-s.height+et.y,left:a.left-s.width-et.x}}function isAnySideFullyClipped(a){return[top,right,bottom,left].some(function(s){return a[s]>=0})}function hide(a){var s=a.state,et=a.name,nt=s.rects.reference,at=s.rects.popper,mt=s.modifiersData.preventOverflow,wt=detectOverflow(s,{elementContext:"reference"}),$t=detectOverflow(s,{altBoundary:!0}),Ct=getSideOffsets(wt,nt),Dt=getSideOffsets($t,at,mt),Ft=isAnySideFullyClipped(Ct),jt=isAnySideFullyClipped(Dt);s.modifiersData[et]={referenceClippingOffsets:Ct,popperEscapeOffsets:Dt,isReferenceHidden:Ft,hasPopperEscaped:jt},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":Ft,"data-popper-escaped":jt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(a,s,et){var nt=getBasePlacement(a),at=[left,top].indexOf(nt)>=0?-1:1,mt=typeof et=="function"?et(Object.assign({},s,{placement:a})):et,wt=mt[0],$t=mt[1];return wt=wt||0,$t=($t||0)*at,[left,right].indexOf(nt)>=0?{x:$t,y:wt}:{x:wt,y:$t}}function offset(a){var s=a.state,et=a.options,nt=a.name,at=et.offset,mt=at===void 0?[0,0]:at,wt=placements.reduce(function(Ft,jt){return Ft[jt]=distanceAndSkiddingToXY(jt,s.rects,mt),Ft},{}),$t=wt[s.placement],Ct=$t.x,Dt=$t.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=Ct,s.modifiersData.popperOffsets.y+=Dt),s.modifiersData[nt]=wt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(a){var s=a.state,et=a.name;s.modifiersData[et]=computeOffsets({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(a){return a==="x"?"y":"x"}function preventOverflow(a){var s=a.state,et=a.options,nt=a.name,at=et.mainAxis,mt=at===void 0?!0:at,wt=et.altAxis,$t=wt===void 0?!1:wt,Ct=et.boundary,Dt=et.rootBoundary,Ft=et.altBoundary,jt=et.padding,Ut=et.tether,tr=Ut===void 0?!0:Ut,ir=et.tetherOffset,sr=ir===void 0?0:ir,ur=detectOverflow(s,{boundary:Ct,rootBoundary:Dt,padding:jt,altBoundary:Ft}),fr=getBasePlacement(s.placement),dr=getVariation(s.placement),hr=!dr,vr=getMainAxisFromPlacement(fr),yr=getAltAxis(vr),xr=s.modifiersData.popperOffsets,br=s.rects.reference,wr=s.rects.popper,Sr=typeof sr=="function"?sr(Object.assign({},s.rects,{placement:s.placement})):sr,Cr=typeof Sr=="number"?{mainAxis:Sr,altAxis:Sr}:Object.assign({mainAxis:0,altAxis:0},Sr),cr=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,Nt={x:0,y:0};if(xr){if(mt){var Vt,er=vr==="y"?top:left,Yt=vr==="y"?bottom:right,rr=vr==="y"?"height":"width",ar=xr[vr],lr=ar+ur[er],nr=ar-ur[Yt],Lt=tr?-wr[rr]/2:0,or=dr===start?br[rr]:wr[rr],gr=dr===start?-wr[rr]:-br[rr],pr=s.elements.arrow,_r=tr&&pr?getLayoutRect(pr):{width:0,height:0},kr=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Mr=kr[er],$r=kr[Yt],Pr=within(0,br[rr],_r[rr]),Fr=hr?br[rr]/2-Lt-Pr-Mr-Cr.mainAxis:or-Pr-Mr-Cr.mainAxis,Tr=hr?-br[rr]/2+Lt+Pr+$r+Cr.mainAxis:gr+Pr+$r+Cr.mainAxis,Rr=s.elements.arrow&&getOffsetParent(s.elements.arrow),Er=Rr?vr==="y"?Rr.clientTop||0:Rr.clientLeft||0:0,Or=(Vt=cr==null?void 0:cr[vr])!=null?Vt:0,Wr=ar+Fr-Or-Er,qr=ar+Tr-Or,Vr=within(tr?min$3(lr,Wr):lr,ar,tr?max$3(nr,qr):nr);xr[vr]=Vr,Nt[vr]=Vr-ar}if($t){var Ur,Lr=vr==="x"?top:left,Br=vr==="x"?bottom:right,Xr=xr[yr],zr=yr==="y"?"height":"width",Qr=Xr+ur[Lr],Qn=Xr-ur[Br],nn=[top,left].indexOf(fr)!==-1,$n=(Ur=cr==null?void 0:cr[yr])!=null?Ur:0,lo=nn?Qr:Xr-br[zr]-wr[zr]-$n+Cr.altAxis,sn=nn?Xr+br[zr]+wr[zr]-$n-Cr.altAxis:Qn,Nn=tr&&nn?withinMaxClamp(lo,Xr,sn):within(tr?lo:Qr,Xr,tr?sn:Qn);xr[yr]=Nn,Nt[yr]=Nn-Xr}s.modifiersData[nt]=Nt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function getNodeScroll(a){return a===getWindow(a)||!isHTMLElement$1(a)?getWindowScroll(a):getHTMLElementScroll(a)}function isElementScaled(a){var s=a.getBoundingClientRect(),et=round$3(s.width)/a.offsetWidth||1,nt=round$3(s.height)/a.offsetHeight||1;return et!==1||nt!==1}function getCompositeRect(a,s,et){et===void 0&&(et=!1);var nt=isHTMLElement$1(s),at=isHTMLElement$1(s)&&isElementScaled(s),mt=getDocumentElement(s),wt=getBoundingClientRect(a,at,et),$t={scrollLeft:0,scrollTop:0},Ct={x:0,y:0};return(nt||!nt&&!et)&&((getNodeName(s)!=="body"||isScrollParent(mt))&&($t=getNodeScroll(s)),isHTMLElement$1(s)?(Ct=getBoundingClientRect(s,!0),Ct.x+=s.clientLeft,Ct.y+=s.clientTop):mt&&(Ct.x=getWindowScrollBarX(mt))),{x:wt.left+$t.scrollLeft-Ct.x,y:wt.top+$t.scrollTop-Ct.y,width:wt.width,height:wt.height}}function order(a){var s=new Map,et=new Set,nt=[];a.forEach(function(mt){s.set(mt.name,mt)});function at(mt){et.add(mt.name);var wt=[].concat(mt.requires||[],mt.requiresIfExists||[]);wt.forEach(function($t){if(!et.has($t)){var Ct=s.get($t);Ct&&at(Ct)}}),nt.push(mt)}return a.forEach(function(mt){et.has(mt.name)||at(mt)}),nt}function orderModifiers(a){var s=order(a);return modifierPhases.reduce(function(et,nt){return et.concat(s.filter(function(at){return at.phase===nt}))},[])}function debounce(a){var s;return function(){return s||(s=new Promise(function(et){Promise.resolve().then(function(){s=void 0,et(a())})})),s}}function mergeByName(a){var s=a.reduce(function(et,nt){var at=et[nt.name];return et[nt.name]=at?Object.assign({},at,nt,{options:Object.assign({},at.options,nt.options),data:Object.assign({},at.data,nt.data)}):nt,et},{});return Object.keys(s).map(function(et){return s[et]})}var DEFAULT_OPTIONS$1={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var a=arguments.length,s=new Array(a),et=0;et<a;et++)s[et]=arguments[et];return!s.some(function(nt){return!(nt&&typeof nt.getBoundingClientRect=="function")})}function popperGenerator(a){a===void 0&&(a={});var s=a,et=s.defaultModifiers,nt=et===void 0?[]:et,at=s.defaultOptions,mt=at===void 0?DEFAULT_OPTIONS$1:at;return function($t,Ct,Dt){Dt===void 0&&(Dt=mt);var Ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$1,mt),modifiersData:{},elements:{reference:$t,popper:Ct},attributes:{},styles:{}},jt=[],Ut=!1,tr={state:Ft,setOptions:function(fr){var dr=typeof fr=="function"?fr(Ft.options):fr;sr(),Ft.options=Object.assign({},mt,Ft.options,dr),Ft.scrollParents={reference:isElement$1($t)?listScrollParents($t):$t.contextElement?listScrollParents($t.contextElement):[],popper:listScrollParents(Ct)};var hr=orderModifiers(mergeByName([].concat(nt,Ft.options.modifiers)));return Ft.orderedModifiers=hr.filter(function(vr){return vr.enabled}),ir(),tr.update()},forceUpdate:function(){if(!Ut){var fr=Ft.elements,dr=fr.reference,hr=fr.popper;if(areValidElements(dr,hr)){Ft.rects={reference:getCompositeRect(dr,getOffsetParent(hr),Ft.options.strategy==="fixed"),popper:getLayoutRect(hr)},Ft.reset=!1,Ft.placement=Ft.options.placement,Ft.orderedModifiers.forEach(function(Cr){return Ft.modifiersData[Cr.name]=Object.assign({},Cr.data)});for(var vr=0;vr<Ft.orderedModifiers.length;vr++){if(Ft.reset===!0){Ft.reset=!1,vr=-1;continue}var yr=Ft.orderedModifiers[vr],xr=yr.fn,br=yr.options,wr=br===void 0?{}:br,Sr=yr.name;typeof xr=="function"&&(Ft=xr({state:Ft,options:wr,name:Sr,instance:tr})||Ft)}}}},update:debounce(function(){return new Promise(function(ur){tr.forceUpdate(),ur(Ft)})}),destroy:function(){sr(),Ut=!0}};if(!areValidElements($t,Ct))return tr;tr.setOptions(Dt).then(function(ur){!Ut&&Dt.onFirstUpdate&&Dt.onFirstUpdate(ur)});function ir(){Ft.orderedModifiers.forEach(function(ur){var fr=ur.name,dr=ur.options,hr=dr===void 0?{}:dr,vr=ur.effect;if(typeof vr=="function"){var yr=vr({state:Ft,name:fr,instance:tr,options:hr}),xr=function(){};jt.push(yr||xr)}})}function sr(){jt.forEach(function(ur){return ur()}),jt=[]}return tr}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const toVar=(a,s)=>({var:a,varRef:s?`var(${a}, ${s})`:`var(${a})`}),cssVars={arrowShadowColor:toVar("--popper-arrow-shadow-color"),arrowSize:toVar("--popper-arrow-size","8px"),arrowSizeHalf:toVar("--popper-arrow-size-half"),arrowBg:toVar("--popper-arrow-bg"),transformOrigin:toVar("--popper-transform-origin"),arrowOffset:toVar("--popper-arrow-offset")};function getBoxShadow(a){if(a.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const transforms={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},toTransformOrigin=a=>transforms[a],defaultEventListeners={scroll:!0,resize:!0};function getEventListenerOptions(a){let s;return typeof a=="object"?s={enabled:!0,options:{...defaultEventListeners,...a}}:s={enabled:a,options:defaultEventListeners},s}const matchWidth={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:a})=>{a.styles.popper.width=`${a.rects.reference.width}px`},effect:({state:a})=>()=>{const s=a.elements.reference;a.elements.popper.style.width=`${s.offsetWidth}px`}},transformOrigin={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:a})=>{setTransformOrigin(a)},effect:({state:a})=>()=>{setTransformOrigin(a)}},setTransformOrigin=a=>{a.elements.popper.style.setProperty(cssVars.transformOrigin.var,toTransformOrigin(a.placement))},positionArrow={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:a})=>{setArrowStyles(a)}},setArrowStyles=a=>{var et;if(!a.placement)return;const s=getArrowStyle$1(a.placement);if((et=a.elements)!=null&&et.arrow&&s){Object.assign(a.elements.arrow.style,{[s.property]:s.value,width:cssVars.arrowSize.varRef,height:cssVars.arrowSize.varRef,zIndex:-1});const nt={[cssVars.arrowSizeHalf.var]:`calc(${cssVars.arrowSize.varRef} / 2 - 1px)`,[cssVars.arrowOffset.var]:`calc(${cssVars.arrowSizeHalf.varRef} * -1)`};for(const at in nt)a.elements.arrow.style.setProperty(at,nt[at])}},getArrowStyle$1=a=>{if(a.startsWith("top"))return{property:"bottom",value:cssVars.arrowOffset.varRef};if(a.startsWith("bottom"))return{property:"top",value:cssVars.arrowOffset.varRef};if(a.startsWith("left"))return{property:"right",value:cssVars.arrowOffset.varRef};if(a.startsWith("right"))return{property:"left",value:cssVars.arrowOffset.varRef}},innerArrow={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:a})=>{setInnerArrowStyles(a)},effect:({state:a})=>()=>{setInnerArrowStyles(a)}},setInnerArrowStyles=a=>{if(!a.elements.arrow)return;const s=a.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!s)return;const et=getBoxShadow(a.placement);et&&s.style.setProperty("--popper-arrow-default-shadow",et),Object.assign(s.style,{transform:"rotate(45deg)",background:cssVars.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},logicals={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},opposites={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function getPopperPlacement(a,s="ltr"){var nt;const et=((nt=logicals[a])==null?void 0:nt[s])||a;return s==="ltr"?et:opposites[a]??et}function usePopper(a={}){const{enabled:s=!0,modifiers:et,placement:nt="bottom",strategy:at="absolute",arrowPadding:mt=8,eventListeners:wt=!0,offset:$t,gutter:Ct=8,flip:Dt=!0,boundary:Ft="clippingParents",preventOverflow:jt=!0,matchWidth:Ut,direction:tr="ltr"}=a,ir=reactExports.useRef(null),sr=reactExports.useRef(null),ur=reactExports.useRef(null),fr=getPopperPlacement(nt,tr),dr=reactExports.useRef(()=>{}),hr=reactExports.useCallback(()=>{var Cr;!s||!ir.current||!sr.current||((Cr=dr.current)==null||Cr.call(dr),ur.current=createPopper(ir.current,sr.current,{placement:fr,modifiers:[innerArrow,positionArrow,transformOrigin,{...matchWidth,enabled:!!Ut},{name:"eventListeners",...getEventListenerOptions(wt)},{name:"arrow",options:{padding:mt}},{name:"offset",options:{offset:$t??[0,Ct]}},{name:"flip",enabled:!!Dt,options:{padding:8}},{name:"preventOverflow",enabled:!!jt,options:{boundary:Ft}},...et??[]],strategy:at}),ur.current.forceUpdate(),dr.current=ur.current.destroy)},[fr,s,et,Ut,wt,mt,$t,Ct,Dt,jt,Ft,at]);reactExports.useEffect(()=>()=>{var Cr;!ir.current&&!sr.current&&((Cr=ur.current)==null||Cr.destroy(),ur.current=null)},[]);const vr=reactExports.useCallback(Cr=>{ir.current=Cr,hr()},[hr]),yr=reactExports.useCallback((Cr={},cr=null)=>({...Cr,ref:mergeRefs(vr,cr)}),[vr]),xr=reactExports.useCallback(Cr=>{sr.current=Cr,hr()},[hr]),br=reactExports.useCallback((Cr={},cr=null)=>({...Cr,ref:mergeRefs(xr,cr),style:{...Cr.style,position:at,minWidth:Ut?void 0:"max-content",inset:"0 auto auto 0"}}),[at,xr,Ut]),wr=reactExports.useCallback((Cr={},cr=null)=>{const{size:Nt,shadowColor:Vt,bg:er,style:Yt,...rr}=Cr;return{...rr,ref:cr,"data-popper-arrow":"",style:getArrowStyle(Cr)}},[]),Sr=reactExports.useCallback((Cr={},cr=null)=>({...Cr,ref:cr,"data-popper-arrow-inner":""}),[]);return{update(){var Cr;(Cr=ur.current)==null||Cr.update()},forceUpdate(){var Cr;(Cr=ur.current)==null||Cr.forceUpdate()},transformOrigin:cssVars.transformOrigin.varRef,referenceRef:vr,popperRef:xr,getPopperProps:br,getArrowProps:wr,getArrowInnerProps:Sr,getReferenceProps:yr}}function getArrowStyle(a){const{size:s,shadowColor:et,bg:nt,style:at}=a,mt={...at,position:"absolute"};return s&&(mt["--popper-arrow-size"]=s),et&&(mt["--popper-arrow-shadow-color"]=et),nt&&(mt["--popper-arrow-bg"]=nt),mt}function useEventListeners(){const a=reactExports.useRef(new Map),s=a.current,et=reactExports.useCallback((at,mt,wt,$t)=>{a.current.set(wt,{type:mt,el:at,options:$t}),at.addEventListener(mt,wt,$t)},[]),nt=reactExports.useCallback((at,mt,wt,$t)=>{at.removeEventListener(mt,wt,$t),a.current.delete(wt)},[]);return reactExports.useEffect(()=>()=>{s.forEach((at,mt)=>{nt(at.el,at.type,mt,at.options)})},[nt,s]),{add:et,remove:nt}}function isValidElement(a){var at,mt;const s=((mt=(at=a.composedPath)==null?void 0:at.call(a))==null?void 0:mt[0])??a.target,{tagName:et,isContentEditable:nt}=s;return et!=="INPUT"&&et!=="TEXTAREA"&&nt!==!0}function useClickable(a={}){const{ref:s,isDisabled:et,isFocusable:nt,clickOnEnter:at=!0,clickOnSpace:mt=!0,onMouseDown:wt,onMouseUp:$t,onClick:Ct,onKeyDown:Dt,onKeyUp:Ft,tabIndex:jt,onMouseOver:Ut,onMouseLeave:tr,...ir}=a,[sr,ur]=reactExports.useState(!0),[fr,dr]=reactExports.useState(!1),hr=useEventListeners(),vr=ar=>{ar&&ar.tagName!=="BUTTON"&&ur(!1)},yr=sr?jt:jt||0,xr=et&&!nt,br=reactExports.useCallback(ar=>{if(et){ar.stopPropagation(),ar.preventDefault();return}ar.currentTarget.focus(),Ct==null||Ct(ar)},[et,Ct]),wr=reactExports.useCallback(ar=>{fr&&isValidElement(ar)&&(ar.preventDefault(),ar.stopPropagation(),dr(!1),hr.remove(document,"keyup",wr,!1))},[fr,hr]),Sr=reactExports.useCallback(ar=>{if(Dt==null||Dt(ar),et||ar.defaultPrevented||ar.metaKey||!isValidElement(ar.nativeEvent)||sr)return;const lr=at&&ar.key==="Enter";mt&&ar.key===" "&&(ar.preventDefault(),dr(!0)),lr&&(ar.preventDefault(),ar.currentTarget.click()),hr.add(document,"keyup",wr,!1)},[et,sr,Dt,at,mt,hr,wr]),Cr=reactExports.useCallback(ar=>{if(Ft==null||Ft(ar),et||ar.defaultPrevented||ar.metaKey||!isValidElement(ar.nativeEvent)||sr)return;mt&&ar.key===" "&&(ar.preventDefault(),dr(!1),ar.currentTarget.click())},[mt,sr,et,Ft]),cr=reactExports.useCallback(ar=>{ar.button===0&&(dr(!1),hr.remove(document,"mouseup",cr,!1))},[hr]),Nt=reactExports.useCallback(ar=>{if(ar.button!==0)return;if(et){ar.stopPropagation(),ar.preventDefault();return}sr||dr(!0),ar.currentTarget.focus({preventScroll:!0}),hr.add(document,"mouseup",cr,!1),wt==null||wt(ar)},[et,sr,wt,hr,cr]),Vt=reactExports.useCallback(ar=>{ar.button===0&&(sr||dr(!1),$t==null||$t(ar))},[$t,sr]),er=reactExports.useCallback(ar=>{if(et){ar.preventDefault();return}Ut==null||Ut(ar)},[et,Ut]),Yt=reactExports.useCallback(ar=>{fr&&(ar.preventDefault(),dr(!1)),tr==null||tr(ar)},[fr,tr]),rr=mergeRefs(s,vr);return sr?{...ir,ref:rr,type:"button","aria-disabled":xr?void 0:et,disabled:xr,onClick:br,onMouseDown:wt,onMouseUp:$t,onKeyUp:Ft,onKeyDown:Dt,onMouseOver:Ut,onMouseLeave:tr}:{...ir,ref:rr,role:"button","data-active":dataAttr(fr),"aria-disabled":et?"true":void 0,tabIndex:xr?void 0:yr,onClick:br,onMouseDown:Nt,onMouseUp:Vt,onKeyUp:Cr,onKeyDown:Sr,onMouseOver:er,onMouseLeave:Yt}}const[MenuDescendantsProvider,useMenuDescendantsContext,useMenuDescendants,useMenuDescendant]=createDescendantContext(),[MenuProvider,useMenuContext]=createContext({strict:!1,name:"MenuContext"});function getOwnerDocument(a){return(a==null?void 0:a.ownerDocument)??document}function isActiveElement(a){return getOwnerDocument(a).activeElement===a}function useMenu(a={}){const{id:s,closeOnSelect:et=!0,closeOnBlur:nt=!0,initialFocusRef:at,autoSelect:mt=!0,isLazy:wt,isOpen:$t,defaultIsOpen:Ct,onClose:Dt,onOpen:Ft,placement:jt="bottom-start",lazyBehavior:Ut="unmount",direction:tr,computePositionOnMount:ir=!1,...sr}=a,ur=reactExports.useRef(null),fr=reactExports.useRef(null),dr=reactExports.useRef(!0),hr=useMenuDescendants(),vr=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var pr;(pr=ur.current)==null||pr.focus({preventScroll:!1})})},[]),yr=reactExports.useCallback(()=>{const pr=setTimeout(()=>{var _r,kr;if(at)(_r=at.current)==null||_r.focus();else if(!hr.count())(kr=ur.current)==null||kr.focus({preventScroll:!1});else{const Mr=hr.firstEnabled();Mr&&er(Mr.index)}});nr.current.add(pr)},[hr,at]),xr=reactExports.useCallback(()=>{const pr=setTimeout(()=>{var _r;if(!hr.count())(_r=ur.current)==null||_r.focus({preventScroll:!1});else{const kr=hr.lastEnabled();kr&&er(kr.index)}});nr.current.add(pr)},[hr]),br=reactExports.useCallback(()=>{Ft==null||Ft(),mt?yr():vr()},[mt,yr,vr,Ft]),{isOpen:wr,onOpen:Sr,onClose:Cr,onToggle:cr}=useDisclosure({isOpen:$t,defaultIsOpen:Ct,onClose:Dt,onOpen:br});useOutsideClick({enabled:wr&&nt,ref:ur,handler:pr=>{var kr,Mr,$r;const _r=((Mr=(kr=pr.composedPath)==null?void 0:kr.call(pr))==null?void 0:Mr[0])??pr.target;($r=fr.current)!=null&&$r.contains(_r)||Cr()}});const Nt=usePopper({...sr,enabled:wr||ir,placement:jt,direction:tr}),[Vt,er]=reactExports.useState(-1);useFocusOnHide(ur,{focusRef:fr,visible:wr,shouldFocus:!0});const Yt=useAnimationState({isOpen:wr,ref:ur}),[rr,ar]=useIds$1(s,"menu-button","menu-list"),lr=reactExports.useCallback(()=>{Sr(),vr()},[Sr,vr]),nr=reactExports.useRef(new Set([]));reactExports.useEffect(()=>{const pr=nr.current;return()=>{pr.forEach(_r=>clearTimeout(_r)),pr.clear()}},[]),useUpdateEffect(()=>{var pr;wr||(er(-1),(pr=ur.current)==null||pr.scrollTo(0,0))},[wr]),useUpdateEffect(()=>{wr&&Vt===-1&&vr()},[Vt,wr]),reactExports.useEffect(()=>{var _r;if(!wr)return;const pr=hr.item(Vt);(_r=pr==null?void 0:pr.node)==null||_r.focus({preventScroll:!dr.current})},[hr,Vt,wr]);const Lt=reactExports.useCallback(()=>{Sr(),yr()},[yr,Sr]),or=reactExports.useCallback(()=>{dr.current=!0,Sr(),xr()},[Sr,xr]),gr=reactExports.useCallback(()=>{var $r,Pr;const pr=getOwnerDocument(ur.current),_r=($r=ur.current)==null?void 0:$r.contains(pr.activeElement);if(!(wr&&!_r))return;const Mr=(Pr=hr.item(Vt))==null?void 0:Pr.node;Mr==null||Mr.focus({preventScroll:!dr.current})},[wr,Vt,hr]);return{openAndFocusMenu:lr,openAndFocusFirstItem:Lt,openAndFocusLastItem:or,onTransitionEnd:gr,unstable__animationState:Yt,descendants:hr,popper:Nt,buttonId:rr,menuId:ar,forceUpdate:Nt.forceUpdate,orientation:"vertical",isOpen:wr,onToggle:cr,onOpen:Sr,onClose:Cr,menuRef:ur,buttonRef:fr,focusedIndex:Vt,closeOnSelect:et,closeOnBlur:nt,autoSelect:mt,setFocusedIndex:er,isLazy:wt,lazyBehavior:Ut,initialFocusRef:at,scrollIntoViewRef:dr}}function useMenuButton(a={},s=null){const et=useMenuContext(),{onToggle:nt,popper:at,openAndFocusFirstItem:mt,openAndFocusLastItem:wt,scrollIntoViewRef:$t}=et,Ct=reactExports.useCallback(Dt=>{const Ft=Dt.key,Ut={Enter:mt,ArrowDown:mt,ArrowUp:wt}[Ft];Ut&&($t.current=!0,Dt.preventDefault(),Dt.stopPropagation(),Ut(Dt))},[mt,wt,$t]);return{...a,ref:mergeRefs(et.buttonRef,s,at.referenceRef),id:et.buttonId,"data-active":dataAttr(et.isOpen),"aria-expanded":et.isOpen,"aria-haspopup":"menu","aria-controls":et.menuId,onClick:callAllHandlers(a.onClick,nt),onKeyDown:callAllHandlers(a.onKeyDown,Ct)}}function isTargetMenuItem(a){var s;return isHTMLElement(a)&&!!((s=a==null?void 0:a.getAttribute("role"))!=null&&s.startsWith("menuitem"))}function useMenuList(a={},s=null){const et=useMenuContext();if(!et)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:nt,setFocusedIndex:at,menuRef:mt,isOpen:wt,onClose:$t,menuId:Ct,isLazy:Dt,lazyBehavior:Ft,scrollIntoViewRef:jt,unstable__animationState:Ut}=et,tr=useMenuDescendantsContext(),ir=useShortcut({preventDefault:dr=>dr.key!==" "&&isTargetMenuItem(dr.target)}),sr=reactExports.useCallback(dr=>{if(!dr.currentTarget.contains(dr.target))return;const hr=dr.key,yr={Tab:br=>br.preventDefault(),Escape:br=>{br.stopPropagation(),$t()},ArrowDown:()=>{jt.current=!0;const br=tr.nextEnabled(nt)??tr.firstEnabled();br&&at(br.index)},ArrowUp:()=>{jt.current=!0;const br=tr.prevEnabled(nt)??tr.firstEnabled();br&&at(br.index)}}[hr];if(yr){dr.preventDefault(),yr(dr);return}const xr=ir(br=>{const wr=getNextItemFromSearch(tr.values(),br,Sr=>{var Cr;return((Cr=Sr==null?void 0:Sr.node)==null?void 0:Cr.textContent)??""},tr.item(nt));if(wr){const Sr=tr.indexOf(wr.node);at(Sr)}});isTargetMenuItem(dr.target)&&xr(dr)},[tr,nt,ir,$t,at,jt]),ur=reactExports.useRef(!1);wt&&(ur.current=!0);const fr=lazyDisclosure({wasSelected:ur.current,enabled:Dt,mode:Ft,isSelected:Ut.present});return{...a,ref:mergeRefs(mt,s),children:fr?a.children:null,tabIndex:-1,role:"menu",id:Ct,style:{...a.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:callAllHandlers(a.onKeyDown,sr)}}function useMenuPositioner(a={}){const{popper:s,isOpen:et}=useMenuContext();return s.getPopperProps({...a,style:{visibility:et?"visible":"hidden",...a.style}})}function useMenuItem(a={},s=null){const{onMouseEnter:et,onMouseMove:nt,onMouseLeave:at,onClick:mt,onFocus:wt,isDisabled:$t,isFocusable:Ct,closeOnSelect:Dt,type:Ft,...jt}=a,Ut=useMenuContext(),{setFocusedIndex:tr,focusedIndex:ir,closeOnSelect:sr,onClose:ur,menuId:fr,scrollIntoViewRef:dr}=Ut,hr=reactExports.useRef(null),vr=`${fr}-menuitem-${reactExports.useId()}`,{index:yr,register:xr}=useMenuDescendant({disabled:$t&&!Ct}),br=reactExports.useCallback(er=>{et==null||et(er),!$t&&(dr.current=!1,tr(yr))},[tr,yr,$t,et,dr]),wr=reactExports.useCallback(er=>{nt==null||nt(er),hr.current&&!isActiveElement(hr.current)&&br(er)},[br,nt]),Sr=reactExports.useCallback(er=>{at==null||at(er),!$t&&tr(-1)},[tr,$t,at]),Cr=reactExports.useCallback(er=>{mt==null||mt(er),isTargetMenuItem(er.currentTarget)&&(Dt??sr)&&ur()},[ur,mt,sr,Dt]),cr=reactExports.useCallback(er=>{wt==null||wt(er),tr(yr)},[tr,wt,yr]),Nt=yr===ir,Vt=useClickable({onClick:Cr,onFocus:cr,onMouseEnter:br,onMouseMove:wr,onMouseLeave:Sr,ref:mergeRefs(xr,hr,s),isDisabled:$t,isFocusable:Ct});return{...jt,...Vt,type:Ft??Vt.type,id:vr,role:"menuitem",tabIndex:Nt?0:-1}}function isHTMLElement(a){if(!isElement(a))return!1;const s=a.ownerDocument.defaultView??window;return a instanceof s.HTMLElement}function isElement(a){return a!=null&&typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}const[MenuStylesProvider,useMenuStyles]=createContext({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Menu=a=>{const{children:s}=a,et=useMultiStyleConfig("Menu",a),nt=omitThemingProps(a),{direction:at}=useTheme(),{descendants:mt,...wt}=useMenu({...nt,direction:at}),$t=reactExports.useMemo(()=>wt,[wt]),{isOpen:Ct,onClose:Dt,forceUpdate:Ft}=$t;return jsxRuntimeExports.jsx(MenuDescendantsProvider,{value:mt,children:jsxRuntimeExports.jsx(MenuProvider,{value:$t,children:jsxRuntimeExports.jsx(MenuStylesProvider,{value:et,children:runIfFn$1(s,{isOpen:Ct,onClose:Dt,forceUpdate:Ft})})})})};Menu.displayName="Menu";const StyledMenuButton=forwardRef((a,s)=>{const et=useMenuStyles();return jsxRuntimeExports.jsx(chakra.button,{ref:s,...a,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...et.button}})}),MenuButton=forwardRef((a,s)=>{const{children:et,as:nt,...at}=a,mt=useMenuButton(at,s),wt=nt||StyledMenuButton;return jsxRuntimeExports.jsx(wt,{...mt,className:cx("chakra-menu__menu-button",a.className),children:jsxRuntimeExports.jsx(chakra.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:a.children})})});MenuButton.displayName="MenuButton";const MenuCommand=forwardRef((a,s)=>{const et=useMenuStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:s,...a,__css:et.command,className:"chakra-menu__command"})});MenuCommand.displayName="MenuCommand";const MenuIcon=a=>{const{className:s,children:et,...nt}=a,at=useMenuStyles(),mt=reactExports.Children.only(et),wt=reactExports.isValidElement(mt)?reactExports.cloneElement(mt,{focusable:"false","aria-hidden":!0,className:cx("chakra-menu__icon",mt.props.className)}):null,$t=cx("chakra-menu__icon-wrapper",s);return jsxRuntimeExports.jsx(chakra.span,{className:$t,...nt,__css:at.icon,children:wt})};MenuIcon.displayName="MenuIcon";const StyledMenuItem=forwardRef((a,s)=>{const{type:et,...nt}=a,at=useMenuStyles(),mt=nt.as||et?et??void 0:"button",wt=reactExports.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...at.item}),[at.item]);return jsxRuntimeExports.jsx(chakra.button,{ref:s,type:mt,...nt,__css:wt})}),MenuItem=forwardRef((a,s)=>{const{icon:et,iconSpacing:nt="0.75rem",command:at,commandSpacing:mt="0.75rem",children:wt,...$t}=a,Ct=useMenuItem($t,s),Ft=et||at?jsxRuntimeExports.jsx("span",{style:{pointerEvents:"none",flex:1},children:wt}):wt;return jsxRuntimeExports.jsxs(StyledMenuItem,{...Ct,className:cx("chakra-menu__menuitem",Ct.className),children:[et&&jsxRuntimeExports.jsx(MenuIcon,{fontSize:"0.8em",marginEnd:nt,children:et}),Ft,at&&jsxRuntimeExports.jsx(MenuCommand,{marginStart:mt,children:at})]})});MenuItem.displayName="MenuItem";const motionVariants={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},MenuTransition=chakra(motion.div),MenuList=forwardRef(function(s,et){var Ut;const{rootProps:nt,motionProps:at,...mt}=s,{isOpen:wt,onTransitionEnd:$t,unstable__animationState:Ct}=useMenuContext(),Dt=useMenuList(mt,et),Ft=useMenuPositioner(nt),jt=useMenuStyles();return jsxRuntimeExports.jsx(chakra.div,{...Ft,__css:{zIndex:s.zIndex??((Ut=jt.list)==null?void 0:Ut.zIndex)},children:jsxRuntimeExports.jsx(MenuTransition,{variants:motionVariants,initial:!1,animate:wt?"enter":"exit",__css:{outline:0,...jt.list},...at,...Dt,className:cx("chakra-menu__menu-list",Dt.className),onUpdate:$t,onAnimationComplete:callAll(Ct.onComplete,Dt.onAnimationComplete)})})});MenuList.displayName="MenuList";var __defProp$5=Object.defineProperty,__defNormalProp$5=(a,s,et)=>s in a?__defProp$5(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$2=(a,s,et)=>(__defNormalProp$5(a,s+"",et),et);class ModalManager{constructor(){__publicField$2(this,"modals"),this.modals=new Set}add(s){return this.modals.add(s),this.modals.size}remove(s){this.modals.delete(s)}isTopModal(s){if(!s)return!1;const et=Array.from(this.modals)[this.modals.size-1];return s===et}}const modalManager=new ModalManager;function useModalManager(a,s){const[et,nt]=reactExports.useState(0);return reactExports.useEffect(()=>{const at=a.current;if(at){if(s){const mt=modalManager.add(at);nt(mt)}return()=>{modalManager.remove(at),nt(0)}}},[s,a]),et}function useModal(a){const{isOpen:s,onClose:et,id:nt,closeOnOverlayClick:at=!0,closeOnEsc:mt=!0,useInert:wt=!0,onOverlayClick:$t,onEsc:Ct}=a,Dt=reactExports.useRef(null),Ft=reactExports.useRef(null),[jt,Ut,tr]=useIds(nt,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(Dt,s&&wt);const ir=useModalManager(Dt,s),sr=reactExports.useRef(null),ur=reactExports.useCallback(Sr=>{sr.current=Sr.target},[]),fr=reactExports.useCallback(Sr=>{Sr.key==="Escape"&&(Sr.stopPropagation(),mt&&(et==null||et()),Ct==null||Ct())},[mt,et,Ct]),[dr,hr]=reactExports.useState(!1),[vr,yr]=reactExports.useState(!1),xr=reactExports.useCallback((Sr={},Cr=null)=>({role:"dialog",...Sr,ref:mergeRefs(Cr,Dt),id:jt,tabIndex:-1,"aria-modal":!0,"aria-labelledby":dr?Ut:void 0,"aria-describedby":vr?tr:void 0,onClick:callAllHandlers(Sr.onClick,cr=>cr.stopPropagation())}),[tr,vr,jt,Ut,dr]),br=reactExports.useCallback(Sr=>{Sr.stopPropagation(),sr.current===Sr.target&&modalManager.isTopModal(Dt.current)&&(at&&(et==null||et()),$t==null||$t())},[et,at,$t]),wr=reactExports.useCallback((Sr={},Cr=null)=>({...Sr,ref:mergeRefs(Cr,Ft),onClick:callAllHandlers(Sr.onClick,br),onKeyDown:callAllHandlers(Sr.onKeyDown,fr),onMouseDown:callAllHandlers(Sr.onMouseDown,ur)}),[fr,ur,br]);return{isOpen:s,onClose:et,headerId:Ut,bodyId:tr,setBodyMounted:yr,setHeaderMounted:hr,dialogRef:Dt,overlayRef:Ft,getDialogProps:xr,getDialogContainerProps:wr,index:ir}}function useAriaHidden(a,s){const et=a.current;reactExports.useEffect(()=>{if(!(!a.current||!s))return hideOthers(a.current)},[s,a,et])}function useIds(a,...s){const et=reactExports.useId(),nt=a||et;return reactExports.useMemo(()=>s.map(at=>`${at}-${nt}`),[nt,s])}const[ModalStylesProvider,useModalStyles]=createContext({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal$1=a=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...a,lockFocusAcrossFrames:a.lockFocusAcrossFrames||!0},{portalProps:et,children:nt,autoFocus:at,trapFocus:mt,initialFocusRef:wt,finalFocusRef:$t,returnFocusOnClose:Ct,blockScrollOnMount:Dt,allowPinchZoom:Ft,preserveScrollBarGap:jt,motionPreset:Ut,lockFocusAcrossFrames:tr,animatePresenceProps:ir,onCloseComplete:sr}=s,ur=useMultiStyleConfig("Modal",s),dr={...useModal(s),autoFocus:at,trapFocus:mt,initialFocusRef:wt,finalFocusRef:$t,returnFocusOnClose:Ct,blockScrollOnMount:Dt,allowPinchZoom:Ft,preserveScrollBarGap:jt,motionPreset:Ut,lockFocusAcrossFrames:tr};return jsxRuntimeExports.jsx(ModalContextProvider,{value:dr,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:ur,children:jsxRuntimeExports.jsx(AnimatePresence,{...ir,onExitComplete:sr,children:dr.isOpen&&jsxRuntimeExports.jsx(Portal,{...et,children:nt})})})})};Modal$1.displayName="Modal";function ModalFocusScope(a){const{autoFocus:s,trapFocus:et,dialogRef:nt,initialFocusRef:at,blockScrollOnMount:mt,allowPinchZoom:wt,finalFocusRef:$t,returnFocusOnClose:Ct,preserveScrollBarGap:Dt,lockFocusAcrossFrames:Ft,isOpen:jt}=useModalContext(),[Ut,tr]=usePresence();reactExports.useEffect(()=>{!Ut&&tr&&setTimeout(tr)},[Ut,tr]);const ir=useModalManager(nt,jt);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:s,isDisabled:!et,initialFocusRef:at,finalFocusRef:$t,restoreFocus:Ct,contentRef:nt,lockFocusAcrossFrames:Ft,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!Dt,allowPinchZoom:wt,enabled:ir===1&&mt,forwardProps:!0,children:a.children})})}const variants$4={initial:({offsetX:a,offsetY:s,transition:et,transitionEnd:nt,delay:at})=>({opacity:0,x:a,y:s,transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,at),transitionEnd:nt==null?void 0:nt.exit}),enter:({transition:a,transitionEnd:s,delay:et})=>({opacity:1,x:0,y:0,transition:(a==null?void 0:a.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:s==null?void 0:s.enter}),exit:({offsetY:a,offsetX:s,transition:et,transitionEnd:nt,reverse:at,delay:mt})=>{const wt={x:s,y:a};return{opacity:0,transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,mt),...at?{...wt,transitionEnd:nt==null?void 0:nt.exit}:{transitionEnd:{...wt,...nt==null?void 0:nt.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$4},SlideFade=reactExports.forwardRef(function(s,et){const{unmountOnExit:nt,in:at,reverse:mt=!0,className:wt,offsetX:$t=0,offsetY:Ct=8,transition:Dt,transitionEnd:Ft,delay:jt,animatePresenceProps:Ut,...tr}=s,ir=nt?at&&nt:!0,sr=at||nt?"enter":"exit",ur={offsetX:$t,offsetY:Ct,reverse:mt,transition:Dt,transitionEnd:Ft,delay:jt};return jsxRuntimeExports.jsx(AnimatePresence,{...Ut,custom:ur,children:ir&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-offset-slide",wt),custom:ur,...slideFadeConfig,animate:sr,...tr})})});SlideFade.displayName="SlideFade";const variants$3={exit:({reverse:a,initialScale:s,transition:et,transitionEnd:nt,delay:at})=>({opacity:0,...a?{scale:s,transitionEnd:nt==null?void 0:nt.exit}:{transitionEnd:{scale:s,...nt==null?void 0:nt.exit}},transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,at)}),enter:({transitionEnd:a,transition:s,delay:et})=>({opacity:1,scale:1,transition:(s==null?void 0:s.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:a==null?void 0:a.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$3},ScaleFade=reactExports.forwardRef(function(s,et){const{unmountOnExit:nt,in:at,reverse:mt=!0,initialScale:wt=.95,className:$t,transition:Ct,transitionEnd:Dt,delay:Ft,animatePresenceProps:jt,...Ut}=s,tr=nt?at&&nt:!0,ir=at||nt?"enter":"exit",sr={initialScale:wt,reverse:mt,transition:Ct,transitionEnd:Dt,delay:Ft};return jsxRuntimeExports.jsx(AnimatePresence,{...jt,custom:sr,children:tr&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-offset-slide",$t),...scaleFadeConfig,animate:ir,custom:sr,...Ut})})});ScaleFade.displayName="ScaleFade";const transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection$1=chakra(motion.section),getMotionProps=a=>transitions[a||"none"],ModalTransition=reactExports.forwardRef((a,s)=>{const{preset:et,motionProps:nt=getMotionProps(et),...at}=a;return jsxRuntimeExports.jsx(MotionSection$1,{ref:s,...nt,...at})});ModalTransition.displayName="ModalTransition";const ModalContent=forwardRef((a,s)=>{const{className:et,children:nt,containerProps:at,motionProps:mt,...wt}=a,{getDialogProps:$t,getDialogContainerProps:Ct}=useModalContext(),Dt=$t(wt,s),Ft=Ct(at),jt=cx("chakra-modal__content",et),Ut=useModalStyles(),tr={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...Ut.dialog},ir={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...Ut.dialogContainer},{motionPreset:sr}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...Ft,className:"chakra-modal__content-container",tabIndex:-1,__css:ir,children:jsxRuntimeExports.jsx(ModalTransition,{preset:sr,motionProps:mt,className:jt,...Dt,__css:tr,children:nt})})})});ModalContent.displayName="ModalContent";const ModalBody=forwardRef((a,s)=>{const{className:et,...nt}=a,{bodyId:at,setBodyMounted:mt}=useModalContext();reactExports.useEffect(()=>(mt(!0),()=>mt(!1)),[mt]);const wt=cx("chakra-modal__body",et),$t=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:wt,id:at,...nt,__css:$t.body})});ModalBody.displayName="ModalBody";const ModalCloseButton=forwardRef((a,s)=>{const{onClick:et,className:nt,...at}=a,{onClose:mt}=useModalContext(),wt=cx("chakra-modal__close-btn",nt),$t=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:s,__css:$t.closeButton,className:wt,onClick:callAllHandlers(et,Ct=>{Ct.stopPropagation(),mt()}),...at})});ModalCloseButton.displayName="ModalCloseButton";const ModalFooter=forwardRef((a,s)=>{const{className:et,...nt}=a,at=cx("chakra-modal__footer",et),mt=useModalStyles(),wt={display:"flex",alignItems:"center",justifyContent:"flex-end",...mt.footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:s,...nt,__css:wt,className:at})});ModalFooter.displayName="ModalFooter";const ModalHeader=forwardRef((a,s)=>{const{className:et,...nt}=a,{headerId:at,setHeaderMounted:mt}=useModalContext();reactExports.useEffect(()=>(mt(!0),()=>mt(!1)),[mt]);const wt=cx("chakra-modal__header",et),$t=useModalStyles(),Ct={flex:0,...$t.header};return jsxRuntimeExports.jsx(chakra.header,{ref:s,className:wt,id:at,...nt,__css:Ct})});ModalHeader.displayName="ModalHeader";const variants$2={enter:({transition:a,transitionEnd:s,delay:et}={})=>({opacity:1,transition:(a==null?void 0:a.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:s==null?void 0:s.enter}),exit:({transition:a,transitionEnd:s,delay:et}={})=>({opacity:0,transition:(a==null?void 0:a.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,et),transitionEnd:s==null?void 0:s.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function(s,et){const{unmountOnExit:nt,in:at,className:mt,transition:wt,transitionEnd:$t,delay:Ct,animatePresenceProps:Dt,...Ft}=s,jt=at||nt?"enter":"exit",Ut=nt?at&&nt:!0,tr={transition:wt,transitionEnd:$t,delay:Ct};return jsxRuntimeExports.jsx(AnimatePresence,{...Dt,custom:tr,children:Ut&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-fade",mt),custom:tr,...fadeConfig,animate:jt,...Ft})})});Fade.displayName="Fade";const MotionDiv$2=chakra(motion.div),ModalOverlay=forwardRef((a,s)=>{const{className:et,transition:nt,motionProps:at,...mt}=a,wt=cx("chakra-modal__overlay",et),Ct={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:Dt}=useModalContext(),jt=at||(Dt==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv$2,{...jt,__css:Ct,ref:s,className:wt,...mt})});ModalOverlay.displayName="ModalOverlay";const[DrawerContextProvider,useDrawerContext]=createContext(),placementMap={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function getDrawerPlacement(a,s){var et;if(a)return((et=placementMap[a])==null?void 0:et[s])??a}function Drawer$1(a){var Dt;const{isOpen:s,onClose:et,placement:nt="right",children:at,...mt}=a,wt=useTheme(),$t=(Dt=wt.components)==null?void 0:Dt.Drawer,Ct=getDrawerPlacement(nt,wt.direction);return jsxRuntimeExports.jsx(DrawerContextProvider,{value:{placement:Ct},children:jsxRuntimeExports.jsx(Modal$1,{isOpen:s,onClose:et,styleConfig:$t,...mt,children:at})})}const defaultTransition={exit:{duration:.15,ease:TRANSITION_EASINGS.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},variants$1={exit:({direction:a,transition:s,transitionEnd:et,delay:nt})=>{const{exit:at}=getSlideTransition({direction:a});return{...at,transition:(s==null?void 0:s.exit)??withDelay.exit(defaultTransition.exit,nt),transitionEnd:et==null?void 0:et.exit}},enter:({direction:a,transitionEnd:s,transition:et,delay:nt})=>{const{enter:at}=getSlideTransition({direction:a});return{...at,transition:(et==null?void 0:et.enter)??withDelay.enter(defaultTransition.enter,nt),transitionEnd:s==null?void 0:s.enter}}},Slide=reactExports.forwardRef(function(s,et){const{direction:nt="right",style:at,unmountOnExit:mt,in:wt,className:$t,transition:Ct,transitionEnd:Dt,delay:Ft,motionProps:jt,animatePresenceProps:Ut,...tr}=s,ir=getSlideTransition({direction:nt}),sr=Object.assign({position:"fixed"},ir.position,at),ur=mt?wt&&mt:!0,fr=wt||mt?"enter":"exit",dr={transitionEnd:Dt,transition:Ct,direction:nt,delay:Ft};return jsxRuntimeExports.jsx(AnimatePresence,{...Ut,custom:dr,children:ur&&jsxRuntimeExports.jsx(motion.div,{...tr,ref:et,initial:"exit",className:cx("chakra-slide",$t),animate:fr,exit:"exit",custom:dr,variants:variants$1,style:sr,...jt})})});Slide.displayName="Slide";const MotionDiv$1=chakra(Slide),DrawerContent=forwardRef((a,s)=>{const{className:et,children:nt,motionProps:at,containerProps:mt,...wt}=a,{getDialogProps:$t,getDialogContainerProps:Ct,isOpen:Dt}=useModalContext(),Ft=$t(wt,s),jt=Ct(mt),Ut=cx("chakra-modal__content",et),tr=useModalStyles(),ir={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...tr.dialog},sr={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...tr.dialogContainer},{placement:ur}=useDrawerContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...jt,className:"chakra-modal__content-container",__css:sr,children:jsxRuntimeExports.jsx(MotionDiv$1,{motionProps:at,direction:ur,in:Dt,className:Ut,...Ft,__css:ir,children:nt})})})});DrawerContent.displayName="DrawerContent";const[PopoverProvider,usePopoverContext]=createContext({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[PopoverStylesProvider,usePopoverStyles]=createContext({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),TRIGGER={click:"click",hover:"hover"};function usePopover(a={}){const{closeOnBlur:s=!0,closeOnEsc:et=!0,initialFocusRef:nt,id:at,returnFocusOnClose:mt=!0,autoFocus:wt=!0,arrowSize:$t,arrowShadowColor:Ct,trigger:Dt=TRIGGER.click,openDelay:Ft=200,closeDelay:jt=200,isLazy:Ut,lazyBehavior:tr="unmount",computePositionOnMount:ir,...sr}=a,{isOpen:ur,onClose:fr,onOpen:dr,onToggle:hr}=useDisclosure(a),[vr,yr]=reactExports.useState(mt);reactExports.useEffect(()=>yr(mt),[mt]);const xr=reactExports.useRef(null),br=reactExports.useRef(null),wr=reactExports.useRef(null),Sr=reactExports.useRef(!1),Cr=reactExports.useRef(!1);ur&&(Cr.current=!0);const[cr,Nt]=reactExports.useState(!1),[Vt,er]=reactExports.useState(!1),Yt=reactExports.useId(),rr=at??Yt,[ar,lr,nr,Lt]=["popover-trigger","popover-content","popover-header","popover-body"].map(Ur=>`${Ur}-${rr}`),{referenceRef:or,getArrowProps:gr,getPopperProps:pr,getArrowInnerProps:_r,forceUpdate:kr}=usePopper({...sr,enabled:ur||!!ir}),Mr=useAnimationState({isOpen:ur,ref:wr});useFocusOnPointerDown({enabled:ur,ref:br}),useFocusOnHide(wr,{focusRef:br,visible:ur,shouldFocus:vr&&Dt===TRIGGER.click}),useFocusOnShow(wr,{focusRef:nt,visible:ur,shouldFocus:wt&&Dt===TRIGGER.click}),useOutsideClick({enabled:ur&&s,ref:wr,handler(Ur){var Br;const Lr=((Br=Ur.composedPath)==null?void 0:Br.call(Ur)[0])??[Ur.target];contains(br.current,Lr)||(Lr&&yr(!isFocusable(Lr)),fr())}});const $r=lazyDisclosure({wasSelected:Cr.current,enabled:Ut,mode:tr,isSelected:Mr.present}),Pr=reactExports.useCallback((Ur={},Lr=null)=>{const Br={...Ur,style:{...Ur.style,transformOrigin:cssVars.transformOrigin.varRef,[cssVars.arrowSize.var]:$t?`${$t}px`:void 0,[cssVars.arrowShadowColor.var]:Ct},ref:mergeRefs(wr,Lr),children:$r?Ur.children:null,id:lr,tabIndex:-1,role:"dialog",onKeyDown:callAllHandlers(Ur.onKeyDown,Xr=>{Xr.nativeEvent.isComposing||et&&Xr.key==="Escape"&&(Xr.preventDefault(),Xr.stopPropagation(),fr())}),onBlur:callAllHandlers(Ur.onBlur,Xr=>{const zr=getRelatedTarget(Xr),Qr=contains(wr.current,zr),Qn=contains(br.current,zr),nn=!Qr&&!Qn;zr&&yr(!isFocusable(zr)),ur&&s&&nn&&fr()}),"aria-labelledby":cr?nr:void 0,"aria-describedby":Vt?Lt:void 0};return Dt===TRIGGER.hover&&(Br.role="tooltip",Br.onMouseEnter=callAllHandlers(Ur.onMouseEnter,()=>{Sr.current=!0}),Br.onMouseLeave=callAllHandlers(Ur.onMouseLeave,Xr=>{Xr.nativeEvent.relatedTarget!==null&&(Sr.current=!1,setTimeout(()=>fr(),jt))})),Br},[$r,lr,cr,nr,Vt,Lt,Dt,et,fr,ur,s,jt,Ct,$t]),Fr=reactExports.useCallback((Ur={},Lr=null)=>pr({...Ur,style:{visibility:ur?"visible":"hidden",...Ur.style}},Lr),[ur,pr]),Tr=reactExports.useCallback((Ur,Lr=null)=>({...Ur,ref:mergeRefs(Lr,xr,or)}),[xr,or]),Rr=reactExports.useRef(void 0),Er=reactExports.useRef(void 0),Or=reactExports.useCallback(Ur=>{xr.current==null&&or(Ur)},[or]),Wr=reactExports.useCallback((Ur={},Lr=null)=>{const Br={...Ur,ref:mergeRefs(br,Lr,Or),id:ar,"aria-haspopup":"dialog","aria-expanded":ur,"aria-controls":lr};return Dt===TRIGGER.click&&(Br.onClick=callAllHandlers(Ur.onClick,hr)),Dt===TRIGGER.hover&&(Br.onFocus=callAllHandlers(Ur.onFocus,()=>{Rr.current===void 0&&dr()}),Br.onBlur=callAllHandlers(Ur.onBlur,Xr=>{const zr=getRelatedTarget(Xr),Qr=!contains(wr.current,zr);ur&&s&&Qr&&fr()}),Br.onKeyDown=callAllHandlers(Ur.onKeyDown,Xr=>{Xr.key==="Escape"&&fr()}),Br.onMouseEnter=callAllHandlers(Ur.onMouseEnter,()=>{Sr.current=!0,Rr.current=window.setTimeout(()=>dr(),Ft)}),Br.onMouseLeave=callAllHandlers(Ur.onMouseLeave,()=>{Sr.current=!1,Rr.current&&(clearTimeout(Rr.current),Rr.current=void 0),Er.current=window.setTimeout(()=>{Sr.current===!1&&fr()},jt)})),Br},[ar,ur,lr,Dt,Or,hr,dr,s,fr,Ft,jt]);reactExports.useEffect(()=>()=>{Rr.current&&clearTimeout(Rr.current),Er.current&&clearTimeout(Er.current)},[]);const qr=reactExports.useCallback((Ur={},Lr=null)=>({...Ur,id:nr,ref:mergeRefs(Lr,Br=>{Nt(!!Br)})}),[nr]),Vr=reactExports.useCallback((Ur={},Lr=null)=>({...Ur,id:Lt,ref:mergeRefs(Lr,Br=>{er(!!Br)})}),[Lt]);return{forceUpdate:kr,isOpen:ur,onAnimationComplete:Mr.onComplete,onClose:fr,getAnchorProps:Tr,getArrowProps:gr,getArrowInnerProps:_r,getPopoverPositionerProps:Fr,getPopoverProps:Pr,getTriggerProps:Wr,getHeaderProps:qr,getBodyProps:Vr}}function contains(a,s){return a===s||(a==null?void 0:a.contains(s))}function getRelatedTarget(a){const s=a.currentTarget.ownerDocument.activeElement;return a.relatedTarget??s}function Popover(a){const s=useMultiStyleConfig("Popover",a),{children:et,...nt}=omitThemingProps(a),at=useTheme(),mt=usePopover({...nt,direction:at.direction});return jsxRuntimeExports.jsx(PopoverProvider,{value:mt,children:jsxRuntimeExports.jsx(PopoverStylesProvider,{value:s,children:runIfFn$1(et,{isOpen:mt.isOpen,onClose:mt.onClose,forceUpdate:mt.forceUpdate})})})}Popover.displayName="Popover";function getElementRef(a){var et;const s=reactExports.version;return typeof s!="string"||s.startsWith("18.")?a==null?void 0:a.ref:(et=a==null?void 0:a.props)==null?void 0:et.ref}const PopoverBody=forwardRef(function(s,et){const{getBodyProps:nt}=usePopoverContext(),at=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.div,{...nt(s,et),className:cx("chakra-popover__body",s.className),__css:at.body})});PopoverBody.displayName="PopoverBody";function mergeVariants(a){if(a)return{enter:{...a.enter,visibility:"visible"},exit:{...a.exit,transitionEnd:{visibility:"hidden"}}}}const scaleFade={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},MotionSection=chakra(motion.section),PopoverTransition=forwardRef(function(s,et){const{variants:nt=scaleFade,...at}=s,{isOpen:mt}=usePopoverContext();return jsxRuntimeExports.jsx(MotionSection,{ref:et,variants:mergeVariants(nt),initial:!1,animate:mt?"enter":"exit",...at})});PopoverTransition.displayName="PopoverTransition";const PopoverContent=forwardRef(function(s,et){const{rootProps:nt,motionProps:at,...mt}=s,{getPopoverProps:wt,getPopoverPositionerProps:$t,onAnimationComplete:Ct}=usePopoverContext(),Dt=usePopoverStyles(),Ft={position:"relative",display:"flex",flexDirection:"column",...Dt.content};return jsxRuntimeExports.jsx(chakra.div,{...$t(nt),__css:Dt.popper,className:"chakra-popover__popper",children:jsxRuntimeExports.jsx(PopoverTransition,{...at,...wt(mt,et),onAnimationComplete:callAll(Ct,mt.onAnimationComplete),className:cx("chakra-popover__content",s.className),__css:Ft})})});PopoverContent.displayName="PopoverContent";function PopoverFooter(a){const s=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.footer,{...a,className:cx("chakra-popover__footer",a.className),__css:s.footer})}PopoverFooter.displayName="PopoverFooter";function PopoverTrigger(a){const s=reactExports.Children.only(a.children),{getTriggerProps:et}=usePopoverContext();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reactExports.cloneElement(s,et(s.props,getElementRef(s)))})}PopoverTrigger.displayName="PopoverTrigger";function useIsFirstRender(){const a=reactExports.useRef(!0);return reactExports.useEffect(()=>{a.current=!1},[]),a.current}const StyledSkeleton=chakra("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),$startColor$1=cssVar$1("skeleton-start-color"),$endColor$1=cssVar$1("skeleton-end-color"),fade=keyframes$1({from:{opacity:0},to:{opacity:1}}),bgFade=keyframes$1({from:{borderColor:$startColor$1.reference,background:$startColor$1.reference},to:{borderColor:$endColor$1.reference,background:$endColor$1.reference}}),Skeleton=forwardRef((a,s)=>{const et={...a,fadeDuration:typeof a.fadeDuration=="number"?a.fadeDuration:.4,speed:typeof a.speed=="number"?a.speed:.8},nt=useStyleConfig("Skeleton",et),at=useIsFirstRender(),{startColor:mt="",endColor:wt="",isLoaded:$t,fadeDuration:Ct,speed:Dt,className:Ft,fitContent:jt,animation:Ut,...tr}=omitThemingProps(et),[ir,sr]=useToken("colors",[mt,wt]),ur=usePrevious($t),fr=cx("chakra-skeleton",Ft),dr={...ir&&{[$startColor$1.variable]:ir},...sr&&{[$endColor$1.variable]:sr}};if($t){const hr=at||ur?"none":`${fade} ${Ct}s`;return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:fr,__css:{animation:hr},...tr})}return jsxRuntimeExports.jsx(StyledSkeleton,{ref:s,className:fr,...tr,__css:{width:jt?"fit-content":void 0,...nt,...dr,_dark:{...nt._dark,...dr},animation:Ut||`${Dt}s linear infinite alternate ${bgFade}`}})});Skeleton.displayName="Skeleton";const SkeletonCircle=({size:a="2rem",...s})=>jsxRuntimeExports.jsx(Skeleton,{borderRadius:"full",boxSize:a,...s});SkeletonCircle.displayName="SkeletonCircle";function getIds(a){return{root:`slider-root-${a}`,getThumb:s=>`slider-thumb-${a}-${s}`,getInput:s=>`slider-input-${a}-${s}`,track:`slider-track-${a}`,innerTrack:`slider-filled-track-${a}`,getMarker:s=>`slider-marker-${a}-${s}`,output:`slider-output-${a}`}}function orient$1(a){const{orientation:s,vertical:et,horizontal:nt}=a;return s==="vertical"?et:nt}function getStyles(a){const{orientation:s,thumbPercents:et,isReversed:nt}=a,at=tr=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...orient$1({orientation:s,vertical:{bottom:`calc(${et[tr]}% - var(--slider-thumb-size) / 2)`},horizontal:{left:`calc(${et[tr]}% - var(--slider-thumb-size) / 2)`}})}),mt={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},wt={position:"absolute",...orient$1({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},$t=et.length===1,Ct=[0,nt?100-et[0]:et[0]],Dt=$t?Ct:et;let Ft=Dt[0];!$t&&nt&&(Ft=100-Ft);const jt=Math.abs(Dt[Dt.length-1]-Dt[0]),Ut={...wt,...orient$1({orientation:s,vertical:nt?{height:`${jt}%`,top:`${Ft}%`}:{height:`${jt}%`,bottom:`${Ft}%`},horizontal:nt?{width:`${jt}%`,right:`${Ft}%`}:{width:`${jt}%`,left:`${Ft}%`}})};return{trackStyle:wt,innerTrackStyle:Ut,rootStyle:mt,getThumbStyle:at}}function getIsReversed(a){const{isReversed:s,direction:et,orientation:nt}=a;return et==="ltr"||nt==="vertical"?s:!s}function useSlider(a){const{min:s=0,max:et=100,onChange:nt,value:at,defaultValue:mt,isReversed:wt,direction:$t="ltr",orientation:Ct="horizontal",id:Dt,isDisabled:Ft,isReadOnly:jt,onChangeStart:Ut,onChangeEnd:tr,step:ir=1,getAriaValueText:sr,"aria-valuetext":ur,"aria-label":fr,"aria-labelledby":dr,name:hr,focusThumbOnChange:vr=!0,...yr}=a,xr=useCallbackRef(Ut),br=useCallbackRef(tr),wr=useCallbackRef(sr),Sr=getIsReversed({isReversed:wt,direction:$t,orientation:Ct}),[Cr,cr]=useControllableState({value:at,defaultValue:mt??getDefaultValue(s,et),onChange:nt}),[Nt,Vt]=reactExports.useState(!1),[er,Yt]=reactExports.useState(!1),rr=!(Ft||jt),ar=(et-s)/10,lr=ir||(et-s)/100,nr=clampValue(Cr,s,et),Lt=et-nr+s,gr=valueToPercent(Sr?Lt:nr,s,et),pr=Ct==="vertical",_r=useLatestRef({min:s,max:et,step:ir,isDisabled:Ft,value:nr,isInteractive:rr,isReversed:Sr,isVertical:pr,eventSource:null,focusThumbOnChange:vr,orientation:Ct}),kr=reactExports.useRef(null),Mr=reactExports.useRef(null),$r=reactExports.useRef(null),Pr=reactExports.useId(),Fr=Dt??Pr,[Tr,Rr]=[`slider-thumb-${Fr}`,`slider-track-${Fr}`],Er=reactExports.useCallback(Ir=>{var Hn;if(!kr.current)return;const Ar=_r.current;Ar.eventSource="pointer";const Dr=kr.current.getBoundingClientRect(),{clientX:Nr,clientY:Gr}=((Hn=Ir.touches)==null?void 0:Hn[0])??Ir,Un=pr?Dr.bottom-Gr:Nr-Dr.left,Zr=pr?Dr.height:Dr.width;let Cn=Un/Zr;Sr&&(Cn=1-Cn);let wo=percentToValue(Cn,Ar.min,Ar.max);return Ar.step&&(wo=parseFloat(roundValueToStep(wo,Ar.min,Ar.step))),wo=clampValue(wo,Ar.min,Ar.max),wo},[pr,Sr,_r]),Or=reactExports.useCallback(Ir=>{const Ar=_r.current;Ar.isInteractive&&(Ir=parseFloat(roundValueToStep(Ir,Ar.min,lr)),Ir=clampValue(Ir,Ar.min,Ar.max),cr(Ir))},[lr,cr,_r]),Wr=reactExports.useMemo(()=>({stepUp(Ir=lr){const Ar=Sr?nr-Ir:nr+Ir;Or(Ar)},stepDown(Ir=lr){const Ar=Sr?nr+Ir:nr-Ir;Or(Ar)},reset(){Or(mt||0)},stepTo(Ir){Or(Ir)}}),[Or,Sr,nr,lr,mt]),qr=reactExports.useCallback(Ir=>{const Ar=_r.current,Nr={ArrowRight:()=>Wr.stepUp(),ArrowUp:()=>Wr.stepUp(),ArrowLeft:()=>Wr.stepDown(),ArrowDown:()=>Wr.stepDown(),PageUp:()=>Wr.stepUp(ar),PageDown:()=>Wr.stepDown(ar),Home:()=>Or(Ar.min),End:()=>Or(Ar.max)}[Ir.key];Nr&&(Ir.preventDefault(),Ir.stopPropagation(),Nr(Ir),Ar.eventSource="keyboard")},[Wr,Or,ar,_r]),Vr=(wr==null?void 0:wr(nr))??ur,{getThumbStyle:Ur,rootStyle:Lr,trackStyle:Br,innerTrackStyle:Xr}=reactExports.useMemo(()=>{const Ir=_r.current;return getStyles({isReversed:Sr,orientation:Ir.orientation,thumbPercents:[gr]})},[Sr,gr,_r]),zr=reactExports.useCallback(()=>{_r.current.focusThumbOnChange&&setTimeout(()=>{var Ar;return(Ar=Mr.current)==null?void 0:Ar.focus()})},[_r]);useUpdateEffect(()=>{const Ir=_r.current;zr(),Ir.eventSource==="keyboard"&&(br==null||br(Ir.value))},[nr,br]);function Qr(Ir){const Ar=Er(Ir);Ar!=null&&Ar!==_r.current.value&&cr(Ar)}usePanEvent($r,{onPanSessionStart(Ir){const Ar=_r.current;Ar.isInteractive&&(Vt(!0),zr(),Qr(Ir),xr==null||xr(Ar.value))},onPanSessionEnd(){const Ir=_r.current;Ir.isInteractive&&(Vt(!1),br==null||br(Ir.value))},onPan(Ir){_r.current.isInteractive&&Qr(Ir)}});const Qn=reactExports.useCallback((Ir={},Ar=null)=>({...Ir,...yr,ref:mergeRefs(Ar,$r),tabIndex:-1,"aria-disabled":ariaAttr(Ft),"data-focused":dataAttr(er),style:{...Ir.style,...Lr}}),[yr,Ft,er,Lr]),nn=reactExports.useCallback((Ir={},Ar=null)=>({...Ir,ref:mergeRefs(Ar,kr),id:Rr,"data-disabled":dataAttr(Ft),style:{...Ir.style,...Br}}),[Ft,Rr,Br]),$n=reactExports.useCallback((Ir={},Ar=null)=>({...Ir,ref:Ar,style:{...Ir.style,...Xr}}),[Xr]),lo=reactExports.useCallback((Ir={},Ar=null)=>({...Ir,ref:mergeRefs(Ar,Mr),role:"slider",tabIndex:rr?0:void 0,id:Tr,"data-active":dataAttr(Nt),"aria-valuetext":Vr,"aria-valuemin":s,"aria-valuemax":et,"aria-valuenow":nr,"aria-orientation":Ct,"aria-disabled":ariaAttr(Ft),"aria-readonly":ariaAttr(jt),"aria-label":fr,"aria-labelledby":fr?void 0:dr,style:{...Ir.style,...Ur(0)},onKeyDown:callAllHandlers(Ir.onKeyDown,qr),onFocus:callAllHandlers(Ir.onFocus,()=>Yt(!0)),onBlur:callAllHandlers(Ir.onBlur,()=>Yt(!1))}),[rr,Tr,Nt,Vr,s,et,nr,Ct,Ft,jt,fr,dr,Ur,qr]),sn=reactExports.useCallback((Ir,Ar=null)=>{const Dr=!(Ir.value<s||Ir.value>et),Nr=nr>=Ir.value,Gr=valueToPercent(Ir.value,s,et),Un={position:"absolute",pointerEvents:"none",...orient({orientation:Ct,vertical:{bottom:Sr?`${100-Gr}%`:`${Gr}%`},horizontal:{left:Sr?`${100-Gr}%`:`${Gr}%`}})};return{...Ir,ref:Ar,role:"presentation","aria-hidden":!0,"data-disabled":dataAttr(Ft),"data-invalid":dataAttr(!Dr),"data-highlighted":dataAttr(Nr),style:{...Ir.style,...Un}}},[Ft,Sr,et,s,Ct,nr]),Nn=reactExports.useCallback((Ir={},Ar=null)=>({...Ir,ref:Ar,type:"hidden",value:nr,name:hr}),[hr,nr]);return{state:{value:nr,isFocused:er,isDragging:Nt},actions:Wr,getRootProps:Qn,getTrackProps:nn,getInnerTrackProps:$n,getThumbProps:lo,getMarkerProps:sn,getInputProps:Nn}}function orient(a){const{orientation:s,vertical:et,horizontal:nt}=a;return s==="vertical"?et:nt}function getDefaultValue(a,s){return s<a?a:a+(s-a)/2}const[SliderProvider,useSliderContext]=createContext({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[SliderStylesProvider,useSliderStyles]=createContext({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),Slider=forwardRef((a,s)=>{const et={...a,orientation:(a==null?void 0:a.orientation)??"horizontal"},nt=useMultiStyleConfig("Slider",et),at=omitThemingProps(et),{direction:mt}=useTheme();at.direction=mt;const{getInputProps:wt,getRootProps:$t,...Ct}=useSlider(at),Dt=$t(),Ft=wt({},s);return jsxRuntimeExports.jsx(SliderProvider,{value:Ct,children:jsxRuntimeExports.jsx(SliderStylesProvider,{value:nt,children:jsxRuntimeExports.jsxs(chakra.div,{...Dt,className:cx("chakra-slider",et.className),__css:nt.container,children:[et.children,jsxRuntimeExports.jsx("input",{...Ft})]})})})});Slider.displayName="Slider";const SliderThumb=forwardRef((a,s)=>{const{getThumbProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__thumb",a.className),__css:nt.thumb})});SliderThumb.displayName="SliderThumb";const SliderTrack=forwardRef((a,s)=>{const{getTrackProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__track",a.className),__css:nt.track})});SliderTrack.displayName="SliderTrack";const SliderFilledTrack=forwardRef((a,s)=>{const{getInnerTrackProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__filled-track",a.className),__css:nt.filledTrack})});SliderFilledTrack.displayName="SliderFilledTrack";const SliderMark=forwardRef((a,s)=>{const{getMarkerProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__marker",a.className),__css:nt.mark})});SliderMark.displayName="SliderMark";const StackItem=a=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...a,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...a.__css}});StackItem.displayName="StackItem";function getDividerStyles(a){const{spacing:s,direction:et}=a,nt={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(et,at=>nt[at])}}const Stack$1=forwardRef((a,s)=>{const{isInline:et,direction:nt,align:at,justify:mt,spacing:wt="0.5rem",wrap:$t,children:Ct,divider:Dt,className:Ft,shouldWrapChildren:jt,...Ut}=a,tr=et?"row":nt??"column",ir=reactExports.useMemo(()=>getDividerStyles({spacing:wt,direction:tr}),[wt,tr]),sr=!!Dt,ur=!jt&&!sr,fr=reactExports.useMemo(()=>{const hr=getValidChildren(Ct);return ur?hr:hr.map((vr,yr)=>{const xr=typeof vr.key<"u"?vr.key:yr,br=yr+1===hr.length,Sr=jt?jsxRuntimeExports.jsx(StackItem,{children:vr},xr):vr;if(!sr)return Sr;const Cr=reactExports.cloneElement(Dt,{__css:ir}),cr=br?null:Cr;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Sr,cr]},xr)})},[Dt,ir,sr,ur,jt,Ct]),dr=cx("chakra-stack",Ft);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:at,justifyContent:mt,flexDirection:tr,flexWrap:$t,gap:sr?void 0:wt,className:dr,...Ut,children:fr})});Stack$1.displayName="Stack";const HStack=forwardRef((a,s)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...a,direction:"row",ref:s}));HStack.displayName="HStack";const VStack=forwardRef((a,s)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...a,direction:"column",ref:s}));VStack.displayName="VStack";const[TagStylesProvider,useTagStyles]=createContext({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Tag=forwardRef((a,s)=>{const et=useMultiStyleConfig("Tag",a),nt=omitThemingProps(a),at={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...et.container};return jsxRuntimeExports.jsx(TagStylesProvider,{value:et,children:jsxRuntimeExports.jsx(chakra.span,{ref:s,...nt,__css:at})})});Tag.displayName="Tag";const TagLabel=forwardRef((a,s)=>{const et=useTagStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:s,noOfLines:1,...a,__css:et.label})});TagLabel.displayName="TagLabel";const TagLeftIcon=forwardRef((a,s)=>jsxRuntimeExports.jsx(Icon$1,{ref:s,verticalAlign:"top",marginEnd:"0.5rem",...a}));TagLeftIcon.displayName="TagLeftIcon";const TagRightIcon=forwardRef((a,s)=>jsxRuntimeExports.jsx(Icon$1,{ref:s,verticalAlign:"top",marginStart:"0.5rem",...a}));TagRightIcon.displayName="TagRightIcon";const TagCloseIcon=a=>jsxRuntimeExports.jsx(Icon$1,{verticalAlign:"inherit",viewBox:"0 0 512 512",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});TagCloseIcon.displayName="TagCloseIcon";const TagCloseButton=forwardRef((a,s)=>{const{isDisabled:et,children:nt,...at}=a,wt={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...useTagStyles().closeButton};return jsxRuntimeExports.jsx(chakra.button,{ref:s,"aria-label":"close",...at,type:"button",disabled:et,__css:wt,children:nt||jsxRuntimeExports.jsx(TagCloseIcon,{})})});TagCloseButton.displayName="TagCloseButton";function getToastPlacement(a,s){const et=a??"bottom",at={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[et];return(at==null?void 0:at[s])??et}function createToastFn(a,s){const et=at=>({...s,...at,position:getToastPlacement((at==null?void 0:at.position)??(s==null?void 0:s.position),a)}),nt=at=>{const mt=et(at),wt=createRenderToast(mt);return toastStore.notify(wt,mt)};return nt.update=(at,mt)=>{toastStore.update(at,et(mt))},nt.promise=(at,mt)=>{const wt=nt({...mt.loading,status:"loading",duration:null});at.then($t=>nt.update(wt,{status:"success",duration:5e3,...runIfFn$1(mt.success,$t)})).catch($t=>nt.update(wt,{status:"error",duration:5e3,...runIfFn$1(mt.error,$t)}))},nt.closeAll=toastStore.closeAll,nt.close=toastStore.close,nt.isActive=toastStore.isActive,nt}function useToast(a){const{theme:s}=useChakra(),et=useToastOptionContext();return reactExports.useMemo(()=>createToastFn(s.direction,{...et,...a}),[a,s.direction,et])}const scale={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},getDoc=a=>{var s;return((s=a.current)==null?void 0:s.ownerDocument)||document},getWin=a=>{var s,et;return((et=(s=a.current)==null?void 0:s.ownerDocument)==null?void 0:et.defaultView)||window};function useTooltip(a={}){const{openDelay:s=0,closeDelay:et=0,closeOnClick:nt=!0,closeOnMouseDown:at,closeOnScroll:mt,closeOnPointerDown:wt=at,closeOnEsc:$t=!0,onOpen:Ct,onClose:Dt,placement:Ft,id:jt,isOpen:Ut,defaultIsOpen:tr,arrowSize:ir=10,arrowShadowColor:sr,arrowPadding:ur,modifiers:fr,isDisabled:dr,gutter:hr,offset:vr,direction:yr,...xr}=a,{isOpen:br,onOpen:wr,onClose:Sr}=useDisclosure({isOpen:Ut,defaultIsOpen:tr,onOpen:Ct,onClose:Dt}),{referenceRef:Cr,getPopperProps:cr,getArrowInnerProps:Nt,getArrowProps:Vt}=usePopper({enabled:br,placement:Ft,arrowPadding:ur,modifiers:fr,gutter:hr,offset:vr,direction:yr}),er=reactExports.useId(),rr=`tooltip-${jt??er}`,ar=reactExports.useRef(null),lr=reactExports.useRef(void 0),nr=reactExports.useCallback(()=>{lr.current&&(clearTimeout(lr.current),lr.current=void 0)},[]),Lt=reactExports.useRef(void 0),or=reactExports.useCallback(()=>{Lt.current&&(clearTimeout(Lt.current),Lt.current=void 0)},[]),gr=reactExports.useCallback(()=>{or(),Sr()},[Sr,or]),pr=useCloseEvent(ar,gr),_r=reactExports.useCallback(()=>{if(!dr&&!lr.current){br&&pr();const Er=getWin(ar);lr.current=Er.setTimeout(wr,s)}},[pr,dr,br,wr,s]),kr=reactExports.useCallback(()=>{nr();const Er=getWin(ar);Lt.current=Er.setTimeout(gr,et)},[et,gr,nr]),Mr=reactExports.useCallback(()=>{br&&nt&&kr()},[nt,kr,br]),$r=reactExports.useCallback(()=>{br&&wt&&kr()},[wt,kr,br]),Pr=reactExports.useCallback(Er=>{br&&Er.key==="Escape"&&kr()},[br,kr]);useEventListener(()=>getDoc(ar),"keydown",$t?Pr:void 0),useEventListener(()=>{if(!mt)return null;const Er=ar.current;if(!Er)return null;const Or=getScrollParent$1(Er);return Or.localName==="body"?getWin(ar):Or},"scroll",()=>{br&&mt&&gr()},{passive:!0,capture:!0}),reactExports.useEffect(()=>{dr&&(nr(),br&&Sr())},[dr,br,Sr,nr]),reactExports.useEffect(()=>()=>{nr(),or()},[nr,or]),useEventListener(()=>ar.current,"pointerleave",kr);const Fr=reactExports.useCallback((Er={},Or=null)=>({...Er,ref:mergeRefs(ar,Or,Cr),onPointerEnter:callAllHandlers(Er.onPointerEnter,qr=>{qr.pointerType!=="touch"&&_r()}),onClick:callAllHandlers(Er.onClick,Mr),onPointerDown:callAllHandlers(Er.onPointerDown,$r),onFocus:callAllHandlers(Er.onFocus,_r),onBlur:callAllHandlers(Er.onBlur,kr),"aria-describedby":br?rr:void 0}),[_r,kr,$r,br,rr,Mr,Cr]),Tr=reactExports.useCallback((Er={},Or=null)=>cr({...Er,style:{...Er.style,[cssVars.arrowSize.var]:ir?`${ir}px`:void 0,[cssVars.arrowShadowColor.var]:sr}},Or),[cr,ir,sr]),Rr=reactExports.useCallback((Er={},Or=null)=>{const Wr={...Er.style,position:"relative",transformOrigin:cssVars.transformOrigin.varRef};return{ref:Or,...xr,...Er,id:rr,role:"tooltip",style:Wr}},[xr,rr]);return{isOpen:br,show:_r,hide:kr,getTriggerProps:Fr,getTooltipProps:Rr,getTooltipPositionerProps:Tr,getArrowProps:Vt,getArrowInnerProps:Nt}}const closeEventName="chakra-ui:close-tooltip";function useCloseEvent(a,s){return reactExports.useEffect(()=>{const et=getDoc(a);return et.addEventListener(closeEventName,s),()=>et.removeEventListener(closeEventName,s)},[s,a]),()=>{const et=getDoc(a),nt=getWin(a);et.dispatchEvent(new nt.CustomEvent(closeEventName))}}const MotionDiv=chakra(motion.div),Tooltip=forwardRef((a,s)=>{const et=useStyleConfig("Tooltip",a),nt=omitThemingProps(a),at=useTheme(),{children:mt,label:wt,shouldWrapChildren:$t,"aria-label":Ct,hasArrow:Dt,bg:Ft,portalProps:jt,background:Ut,backgroundColor:tr,bgColor:ir,motionProps:sr,animatePresenceProps:ur,...fr}=nt,dr=Ut??tr??Ft??ir;if(dr){et.bg=dr;const Cr=getCSSVar(at,"colors",dr);et[cssVars.arrowBg.var]=Cr}const hr=useTooltip({...fr,direction:at.direction}),vr=!reactExports.isValidElement(mt)||$t;let yr;if(vr)yr=jsxRuntimeExports.jsx(chakra.span,{display:"inline-block",tabIndex:0,...hr.getTriggerProps(),children:mt});else{const Cr=reactExports.Children.only(mt);yr=reactExports.cloneElement(Cr,hr.getTriggerProps(Cr.props,getElementRef(Cr)))}const xr=!!Ct,br=hr.getTooltipProps({},s),wr=xr?omit(br,["role","id"]):br,Sr=pick(br,["role","id"]);return wt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[yr,jsxRuntimeExports.jsx(AnimatePresence,{...ur,children:hr.isOpen&&jsxRuntimeExports.jsx(Portal,{...jt,children:jsxRuntimeExports.jsx(chakra.div,{...hr.getTooltipPositionerProps(),__css:{zIndex:et.zIndex,pointerEvents:"none"},children:jsxRuntimeExports.jsxs(MotionDiv,{variants:scale,initial:"exit",animate:"enter",exit:"exit",...sr,...wr,__css:et,children:[wt,xr&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,...Sr,children:Ct}),Dt&&jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:et.bg}})})]})})})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:mt})});Tooltip.displayName="Tooltip";const Heading=forwardRef(function(s,et){const nt=useStyleConfig("Heading",s),{className:at,...mt}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.h2,{ref:et,className:cx("chakra-heading",s.className),...mt,__css:nt})});Heading.displayName="Heading";const Text=forwardRef(function(s,et){const nt=useStyleConfig("Text",s),{className:at,align:mt,decoration:wt,casing:$t,...Ct}=omitThemingProps(s),Dt=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:et,className:cx("chakra-text",s.className),...Dt,...Ct,__css:nt})});Text.displayName="Text";function SwitchChain({chainsList:a,currentChain:s,onChange:et}){const{isApp:nt}=useWindowWidth();return jsxRuntimeExports.jsx(Menu,{isLazy:!0,children:({isOpen:at})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MenuButton,{as:Button,variant:"outline",h:"36px",borderRadius:"8px",p:nt?"6px":"6px 11px",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Image$1,{src:s.icon,w:"20px",h:"20px",borderRadius:"50%"}),!nt&&jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:s.name})]})})})})}const isSuiObjectType=a=>a.split("::").length==3,add0x=a=>{console.log(a,"add0x");let s;return a.startsWith("0x")?s=a:s=`0x${a}`,s},getSuiObjectType=a=>{const s=a.split("::");return s.length==3?`${add0x(s[0])}::${s[1]}::${s[2].toUpperCase()}`.replace(/\s+/g,""):a.toLowerCase()};function suiAddressLongToShort(a){return a.toLocaleLowerCase()=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::sui"?"0x2::sui::SUI":a}const fetchGet=async function(a,s,et=3e4){const nt=[];let at="";if(s){for(const Ct in s){const Dt=`${Ct}=${s[Ct]}`;nt.push(Dt)}const $t=nt.join("&");at=`${a}?${$t}`}else at=a;const mt=new AbortController,wt=setTimeout(()=>{mt.abort()},et);try{const $t=await fetch(at,{signal:mt.signal});if(clearTimeout(wt),!$t.ok)throw new Error("Request failed");const Ct=await $t.json();return(Ct==null?void 0:Ct.data)||Ct}catch($t){throw clearTimeout(wt),$t.name==="AbortError"?new Error("request time out"):$t}},fetchPost=async function(a,s,et=3e4,nt){const at=new AbortController,mt=setTimeout(()=>{at.abort()},et);try{const wt=await fetch(a,{headers:nt,body:JSON.stringify(s),method:"POST",signal:at.signal});if(clearTimeout(mt),!wt.ok)throw new Error("Request failed");return wt.json()}catch(wt){throw clearTimeout(mt),wt.name==="AbortError"?new Error("request time out"):wt}};var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(a){var s=a.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var et=a.indexOf("=");et===-1&&(et=s);var nt=et===s?0:4-et%4;return[et,nt]}function byteLength(a){var s=getLens(a),et=s[0],nt=s[1];return(et+nt)*3/4-nt}function _byteLength(a,s,et){return(s+et)*3/4-et}function toByteArray(a){var s,et=getLens(a),nt=et[0],at=et[1],mt=new Arr(_byteLength(a,nt,at)),wt=0,$t=at>0?nt-4:nt,Ct;for(Ct=0;Ct<$t;Ct+=4)s=revLookup[a.charCodeAt(Ct)]<<18|revLookup[a.charCodeAt(Ct+1)]<<12|revLookup[a.charCodeAt(Ct+2)]<<6|revLookup[a.charCodeAt(Ct+3)],mt[wt++]=s>>16&255,mt[wt++]=s>>8&255,mt[wt++]=s&255;return at===2&&(s=revLookup[a.charCodeAt(Ct)]<<2|revLookup[a.charCodeAt(Ct+1)]>>4,mt[wt++]=s&255),at===1&&(s=revLookup[a.charCodeAt(Ct)]<<10|revLookup[a.charCodeAt(Ct+1)]<<4|revLookup[a.charCodeAt(Ct+2)]>>2,mt[wt++]=s>>8&255,mt[wt++]=s&255),mt}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,s,et){for(var nt,at=[],mt=s;mt<et;mt+=3)nt=(a[mt]<<16&16711680)+(a[mt+1]<<8&65280)+(a[mt+2]&255),at.push(tripletToBase64(nt));return at.join("")}function fromByteArray(a){for(var s,et=a.length,nt=et%3,at=[],mt=16383,wt=0,$t=et-nt;wt<$t;wt+=mt)at.push(encodeChunk(a,wt,wt+mt>$t?$t:wt+mt));return nt===1?(s=a[et-1],at.push(lookup[s>>2]+lookup[s<<4&63]+"==")):nt===2&&(s=(a[et-2]<<8)+a[et-1],at.push(lookup[s>>10]+lookup[s>>4&63]+lookup[s<<2&63]+"=")),at.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,s,et,nt,at){var mt,wt,$t=at*8-nt-1,Ct=(1<<$t)-1,Dt=Ct>>1,Ft=-7,jt=et?at-1:0,Ut=et?-1:1,tr=a[s+jt];for(jt+=Ut,mt=tr&(1<<-Ft)-1,tr>>=-Ft,Ft+=$t;Ft>0;mt=mt*256+a[s+jt],jt+=Ut,Ft-=8);for(wt=mt&(1<<-Ft)-1,mt>>=-Ft,Ft+=nt;Ft>0;wt=wt*256+a[s+jt],jt+=Ut,Ft-=8);if(mt===0)mt=1-Dt;else{if(mt===Ct)return wt?NaN:(tr?-1:1)*(1/0);wt=wt+Math.pow(2,nt),mt=mt-Dt}return(tr?-1:1)*wt*Math.pow(2,mt-nt)};ieee754.write=function(a,s,et,nt,at,mt){var wt,$t,Ct,Dt=mt*8-at-1,Ft=(1<<Dt)-1,jt=Ft>>1,Ut=at===23?Math.pow(2,-24)-Math.pow(2,-77):0,tr=nt?0:mt-1,ir=nt?1:-1,sr=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?($t=isNaN(s)?1:0,wt=Ft):(wt=Math.floor(Math.log(s)/Math.LN2),s*(Ct=Math.pow(2,-wt))<1&&(wt--,Ct*=2),wt+jt>=1?s+=Ut/Ct:s+=Ut*Math.pow(2,1-jt),s*Ct>=2&&(wt++,Ct/=2),wt+jt>=Ft?($t=0,wt=Ft):wt+jt>=1?($t=(s*Ct-1)*Math.pow(2,at),wt=wt+jt):($t=s*Math.pow(2,jt-1)*Math.pow(2,at),wt=0));at>=8;a[et+tr]=$t&255,tr+=ir,$t/=256,at-=8);for(wt=wt<<at|$t,Dt+=at;Dt>0;a[et+tr]=wt&255,tr+=ir,wt/=256,Dt-=8);a[et+tr-ir]|=sr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const s=base64Js,et=ieee754,nt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=Ft,a.SlowBuffer=yr,a.INSPECT_MAX_BYTES=50;const at=2147483647;a.kMaxLength=at;const{Uint8Array:mt,ArrayBuffer:wt,SharedArrayBuffer:$t}=globalThis;Ft.TYPED_ARRAY_SUPPORT=Ct(),!Ft.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ct(){try{const Ir=new mt(1),Ar={foo:function(){return 42}};return Object.setPrototypeOf(Ar,mt.prototype),Object.setPrototypeOf(Ir,Ar),Ir.foo()===42}catch{return!1}}Object.defineProperty(Ft.prototype,"parent",{enumerable:!0,get:function(){if(Ft.isBuffer(this))return this.buffer}}),Object.defineProperty(Ft.prototype,"offset",{enumerable:!0,get:function(){if(Ft.isBuffer(this))return this.byteOffset}});function Dt(Ir){if(Ir>at)throw new RangeError('The value "'+Ir+'" is invalid for option "size"');const Ar=new mt(Ir);return Object.setPrototypeOf(Ar,Ft.prototype),Ar}function Ft(Ir,Ar,Dr){if(typeof Ir=="number"){if(typeof Ar=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ir(Ir)}return jt(Ir,Ar,Dr)}Ft.poolSize=8192;function jt(Ir,Ar,Dr){if(typeof Ir=="string")return sr(Ir,Ar);if(wt.isView(Ir))return fr(Ir);if(Ir==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ir);if($n(Ir,wt)||Ir&&$n(Ir.buffer,wt)||typeof $t<"u"&&($n(Ir,$t)||Ir&&$n(Ir.buffer,$t)))return dr(Ir,Ar,Dr);if(typeof Ir=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Nr=Ir.valueOf&&Ir.valueOf();if(Nr!=null&&Nr!==Ir)return Ft.from(Nr,Ar,Dr);const Gr=hr(Ir);if(Gr)return Gr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ir[Symbol.toPrimitive]=="function")return Ft.from(Ir[Symbol.toPrimitive]("string"),Ar,Dr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ir)}Ft.from=function(Ir,Ar,Dr){return jt(Ir,Ar,Dr)},Object.setPrototypeOf(Ft.prototype,mt.prototype),Object.setPrototypeOf(Ft,mt);function Ut(Ir){if(typeof Ir!="number")throw new TypeError('"size" argument must be of type number');if(Ir<0)throw new RangeError('The value "'+Ir+'" is invalid for option "size"')}function tr(Ir,Ar,Dr){return Ut(Ir),Ir<=0?Dt(Ir):Ar!==void 0?typeof Dr=="string"?Dt(Ir).fill(Ar,Dr):Dt(Ir).fill(Ar):Dt(Ir)}Ft.alloc=function(Ir,Ar,Dr){return tr(Ir,Ar,Dr)};function ir(Ir){return Ut(Ir),Dt(Ir<0?0:vr(Ir)|0)}Ft.allocUnsafe=function(Ir){return ir(Ir)},Ft.allocUnsafeSlow=function(Ir){return ir(Ir)};function sr(Ir,Ar){if((typeof Ar!="string"||Ar==="")&&(Ar="utf8"),!Ft.isEncoding(Ar))throw new TypeError("Unknown encoding: "+Ar);const Dr=xr(Ir,Ar)|0;let Nr=Dt(Dr);const Gr=Nr.write(Ir,Ar);return Gr!==Dr&&(Nr=Nr.slice(0,Gr)),Nr}function ur(Ir){const Ar=Ir.length<0?0:vr(Ir.length)|0,Dr=Dt(Ar);for(let Nr=0;Nr<Ar;Nr+=1)Dr[Nr]=Ir[Nr]&255;return Dr}function fr(Ir){if($n(Ir,mt)){const Ar=new mt(Ir);return dr(Ar.buffer,Ar.byteOffset,Ar.byteLength)}return ur(Ir)}function dr(Ir,Ar,Dr){if(Ar<0||Ir.byteLength<Ar)throw new RangeError('"offset" is outside of buffer bounds');if(Ir.byteLength<Ar+(Dr||0))throw new RangeError('"length" is outside of buffer bounds');let Nr;return Ar===void 0&&Dr===void 0?Nr=new mt(Ir):Dr===void 0?Nr=new mt(Ir,Ar):Nr=new mt(Ir,Ar,Dr),Object.setPrototypeOf(Nr,Ft.prototype),Nr}function hr(Ir){if(Ft.isBuffer(Ir)){const Ar=vr(Ir.length)|0,Dr=Dt(Ar);return Dr.length===0||Ir.copy(Dr,0,0,Ar),Dr}if(Ir.length!==void 0)return typeof Ir.length!="number"||lo(Ir.length)?Dt(0):ur(Ir);if(Ir.type==="Buffer"&&Array.isArray(Ir.data))return ur(Ir.data)}function vr(Ir){if(Ir>=at)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+at.toString(16)+" bytes");return Ir|0}function yr(Ir){return+Ir!=Ir&&(Ir=0),Ft.alloc(+Ir)}Ft.isBuffer=function(Ar){return Ar!=null&&Ar._isBuffer===!0&&Ar!==Ft.prototype},Ft.compare=function(Ar,Dr){if($n(Ar,mt)&&(Ar=Ft.from(Ar,Ar.offset,Ar.byteLength)),$n(Dr,mt)&&(Dr=Ft.from(Dr,Dr.offset,Dr.byteLength)),!Ft.isBuffer(Ar)||!Ft.isBuffer(Dr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ar===Dr)return 0;let Nr=Ar.length,Gr=Dr.length;for(let Un=0,Zr=Math.min(Nr,Gr);Un<Zr;++Un)if(Ar[Un]!==Dr[Un]){Nr=Ar[Un],Gr=Dr[Un];break}return Nr<Gr?-1:Gr<Nr?1:0},Ft.isEncoding=function(Ar){switch(String(Ar).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ft.concat=function(Ar,Dr){if(!Array.isArray(Ar))throw new TypeError('"list" argument must be an Array of Buffers');if(Ar.length===0)return Ft.alloc(0);let Nr;if(Dr===void 0)for(Dr=0,Nr=0;Nr<Ar.length;++Nr)Dr+=Ar[Nr].length;const Gr=Ft.allocUnsafe(Dr);let Un=0;for(Nr=0;Nr<Ar.length;++Nr){let Zr=Ar[Nr];if($n(Zr,mt))Un+Zr.length>Gr.length?(Ft.isBuffer(Zr)||(Zr=Ft.from(Zr)),Zr.copy(Gr,Un)):mt.prototype.set.call(Gr,Zr,Un);else if(Ft.isBuffer(Zr))Zr.copy(Gr,Un);else throw new TypeError('"list" argument must be an Array of Buffers');Un+=Zr.length}return Gr};function xr(Ir,Ar){if(Ft.isBuffer(Ir))return Ir.length;if(wt.isView(Ir)||$n(Ir,wt))return Ir.byteLength;if(typeof Ir!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ir);const Dr=Ir.length,Nr=arguments.length>2&&arguments[2]===!0;if(!Nr&&Dr===0)return 0;let Gr=!1;for(;;)switch(Ar){case"ascii":case"latin1":case"binary":return Dr;case"utf8":case"utf-8":return Xr(Ir).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dr*2;case"hex":return Dr>>>1;case"base64":return Qn(Ir).length;default:if(Gr)return Nr?-1:Xr(Ir).length;Ar=(""+Ar).toLowerCase(),Gr=!0}}Ft.byteLength=xr;function br(Ir,Ar,Dr){let Nr=!1;if((Ar===void 0||Ar<0)&&(Ar=0),Ar>this.length||((Dr===void 0||Dr>this.length)&&(Dr=this.length),Dr<=0)||(Dr>>>=0,Ar>>>=0,Dr<=Ar))return"";for(Ir||(Ir="utf8");;)switch(Ir){case"hex":return gr(this,Ar,Dr);case"utf8":case"utf-8":return ar(this,Ar,Dr);case"ascii":return Lt(this,Ar,Dr);case"latin1":case"binary":return or(this,Ar,Dr);case"base64":return rr(this,Ar,Dr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pr(this,Ar,Dr);default:if(Nr)throw new TypeError("Unknown encoding: "+Ir);Ir=(Ir+"").toLowerCase(),Nr=!0}}Ft.prototype._isBuffer=!0;function wr(Ir,Ar,Dr){const Nr=Ir[Ar];Ir[Ar]=Ir[Dr],Ir[Dr]=Nr}Ft.prototype.swap16=function(){const Ar=this.length;if(Ar%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Dr=0;Dr<Ar;Dr+=2)wr(this,Dr,Dr+1);return this},Ft.prototype.swap32=function(){const Ar=this.length;if(Ar%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Dr=0;Dr<Ar;Dr+=4)wr(this,Dr,Dr+3),wr(this,Dr+1,Dr+2);return this},Ft.prototype.swap64=function(){const Ar=this.length;if(Ar%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Dr=0;Dr<Ar;Dr+=8)wr(this,Dr,Dr+7),wr(this,Dr+1,Dr+6),wr(this,Dr+2,Dr+5),wr(this,Dr+3,Dr+4);return this},Ft.prototype.toString=function(){const Ar=this.length;return Ar===0?"":arguments.length===0?ar(this,0,Ar):br.apply(this,arguments)},Ft.prototype.toLocaleString=Ft.prototype.toString,Ft.prototype.equals=function(Ar){if(!Ft.isBuffer(Ar))throw new TypeError("Argument must be a Buffer");return this===Ar?!0:Ft.compare(this,Ar)===0},Ft.prototype.inspect=function(){let Ar="";const Dr=a.INSPECT_MAX_BYTES;return Ar=this.toString("hex",0,Dr).replace(/(.{2})/g,"$1 ").trim(),this.length>Dr&&(Ar+=" ... "),"<Buffer "+Ar+">"},nt&&(Ft.prototype[nt]=Ft.prototype.inspect),Ft.prototype.compare=function(Ar,Dr,Nr,Gr,Un){if($n(Ar,mt)&&(Ar=Ft.from(Ar,Ar.offset,Ar.byteLength)),!Ft.isBuffer(Ar))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ar);if(Dr===void 0&&(Dr=0),Nr===void 0&&(Nr=Ar?Ar.length:0),Gr===void 0&&(Gr=0),Un===void 0&&(Un=this.length),Dr<0||Nr>Ar.length||Gr<0||Un>this.length)throw new RangeError("out of range index");if(Gr>=Un&&Dr>=Nr)return 0;if(Gr>=Un)return-1;if(Dr>=Nr)return 1;if(Dr>>>=0,Nr>>>=0,Gr>>>=0,Un>>>=0,this===Ar)return 0;let Zr=Un-Gr,Cn=Nr-Dr;const wo=Math.min(Zr,Cn),Hn=this.slice(Gr,Un),Kn=Ar.slice(Dr,Nr);for(let bo=0;bo<wo;++bo)if(Hn[bo]!==Kn[bo]){Zr=Hn[bo],Cn=Kn[bo];break}return Zr<Cn?-1:Cn<Zr?1:0};function Sr(Ir,Ar,Dr,Nr,Gr){if(Ir.length===0)return-1;if(typeof Dr=="string"?(Nr=Dr,Dr=0):Dr>2147483647?Dr=2147483647:Dr<-2147483648&&(Dr=-2147483648),Dr=+Dr,lo(Dr)&&(Dr=Gr?0:Ir.length-1),Dr<0&&(Dr=Ir.length+Dr),Dr>=Ir.length){if(Gr)return-1;Dr=Ir.length-1}else if(Dr<0)if(Gr)Dr=0;else return-1;if(typeof Ar=="string"&&(Ar=Ft.from(Ar,Nr)),Ft.isBuffer(Ar))return Ar.length===0?-1:Cr(Ir,Ar,Dr,Nr,Gr);if(typeof Ar=="number")return Ar=Ar&255,typeof mt.prototype.indexOf=="function"?Gr?mt.prototype.indexOf.call(Ir,Ar,Dr):mt.prototype.lastIndexOf.call(Ir,Ar,Dr):Cr(Ir,[Ar],Dr,Nr,Gr);throw new TypeError("val must be string, number or Buffer")}function Cr(Ir,Ar,Dr,Nr,Gr){let Un=1,Zr=Ir.length,Cn=Ar.length;if(Nr!==void 0&&(Nr=String(Nr).toLowerCase(),Nr==="ucs2"||Nr==="ucs-2"||Nr==="utf16le"||Nr==="utf-16le")){if(Ir.length<2||Ar.length<2)return-1;Un=2,Zr/=2,Cn/=2,Dr/=2}function wo(Kn,bo){return Un===1?Kn[bo]:Kn.readUInt16BE(bo*Un)}let Hn;if(Gr){let Kn=-1;for(Hn=Dr;Hn<Zr;Hn++)if(wo(Ir,Hn)===wo(Ar,Kn===-1?0:Hn-Kn)){if(Kn===-1&&(Kn=Hn),Hn-Kn+1===Cn)return Kn*Un}else Kn!==-1&&(Hn-=Hn-Kn),Kn=-1}else for(Dr+Cn>Zr&&(Dr=Zr-Cn),Hn=Dr;Hn>=0;Hn--){let Kn=!0;for(let bo=0;bo<Cn;bo++)if(wo(Ir,Hn+bo)!==wo(Ar,bo)){Kn=!1;break}if(Kn)return Hn}return-1}Ft.prototype.includes=function(Ar,Dr,Nr){return this.indexOf(Ar,Dr,Nr)!==-1},Ft.prototype.indexOf=function(Ar,Dr,Nr){return Sr(this,Ar,Dr,Nr,!0)},Ft.prototype.lastIndexOf=function(Ar,Dr,Nr){return Sr(this,Ar,Dr,Nr,!1)};function cr(Ir,Ar,Dr,Nr){Dr=Number(Dr)||0;const Gr=Ir.length-Dr;Nr?(Nr=Number(Nr),Nr>Gr&&(Nr=Gr)):Nr=Gr;const Un=Ar.length;Nr>Un/2&&(Nr=Un/2);let Zr;for(Zr=0;Zr<Nr;++Zr){const Cn=parseInt(Ar.substr(Zr*2,2),16);if(lo(Cn))return Zr;Ir[Dr+Zr]=Cn}return Zr}function Nt(Ir,Ar,Dr,Nr){return nn(Xr(Ar,Ir.length-Dr),Ir,Dr,Nr)}function Vt(Ir,Ar,Dr,Nr){return nn(zr(Ar),Ir,Dr,Nr)}function er(Ir,Ar,Dr,Nr){return nn(Qn(Ar),Ir,Dr,Nr)}function Yt(Ir,Ar,Dr,Nr){return nn(Qr(Ar,Ir.length-Dr),Ir,Dr,Nr)}Ft.prototype.write=function(Ar,Dr,Nr,Gr){if(Dr===void 0)Gr="utf8",Nr=this.length,Dr=0;else if(Nr===void 0&&typeof Dr=="string")Gr=Dr,Nr=this.length,Dr=0;else if(isFinite(Dr))Dr=Dr>>>0,isFinite(Nr)?(Nr=Nr>>>0,Gr===void 0&&(Gr="utf8")):(Gr=Nr,Nr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Un=this.length-Dr;if((Nr===void 0||Nr>Un)&&(Nr=Un),Ar.length>0&&(Nr<0||Dr<0)||Dr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Gr||(Gr="utf8");let Zr=!1;for(;;)switch(Gr){case"hex":return cr(this,Ar,Dr,Nr);case"utf8":case"utf-8":return Nt(this,Ar,Dr,Nr);case"ascii":case"latin1":case"binary":return Vt(this,Ar,Dr,Nr);case"base64":return er(this,Ar,Dr,Nr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yt(this,Ar,Dr,Nr);default:if(Zr)throw new TypeError("Unknown encoding: "+Gr);Gr=(""+Gr).toLowerCase(),Zr=!0}},Ft.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function rr(Ir,Ar,Dr){return Ar===0&&Dr===Ir.length?s.fromByteArray(Ir):s.fromByteArray(Ir.slice(Ar,Dr))}function ar(Ir,Ar,Dr){Dr=Math.min(Ir.length,Dr);const Nr=[];let Gr=Ar;for(;Gr<Dr;){const Un=Ir[Gr];let Zr=null,Cn=Un>239?4:Un>223?3:Un>191?2:1;if(Gr+Cn<=Dr){let wo,Hn,Kn,bo;switch(Cn){case 1:Un<128&&(Zr=Un);break;case 2:wo=Ir[Gr+1],(wo&192)===128&&(bo=(Un&31)<<6|wo&63,bo>127&&(Zr=bo));break;case 3:wo=Ir[Gr+1],Hn=Ir[Gr+2],(wo&192)===128&&(Hn&192)===128&&(bo=(Un&15)<<12|(wo&63)<<6|Hn&63,bo>2047&&(bo<55296||bo>57343)&&(Zr=bo));break;case 4:wo=Ir[Gr+1],Hn=Ir[Gr+2],Kn=Ir[Gr+3],(wo&192)===128&&(Hn&192)===128&&(Kn&192)===128&&(bo=(Un&15)<<18|(wo&63)<<12|(Hn&63)<<6|Kn&63,bo>65535&&bo<1114112&&(Zr=bo))}}Zr===null?(Zr=65533,Cn=1):Zr>65535&&(Zr-=65536,Nr.push(Zr>>>10&1023|55296),Zr=56320|Zr&1023),Nr.push(Zr),Gr+=Cn}return nr(Nr)}const lr=4096;function nr(Ir){const Ar=Ir.length;if(Ar<=lr)return String.fromCharCode.apply(String,Ir);let Dr="",Nr=0;for(;Nr<Ar;)Dr+=String.fromCharCode.apply(String,Ir.slice(Nr,Nr+=lr));return Dr}function Lt(Ir,Ar,Dr){let Nr="";Dr=Math.min(Ir.length,Dr);for(let Gr=Ar;Gr<Dr;++Gr)Nr+=String.fromCharCode(Ir[Gr]&127);return Nr}function or(Ir,Ar,Dr){let Nr="";Dr=Math.min(Ir.length,Dr);for(let Gr=Ar;Gr<Dr;++Gr)Nr+=String.fromCharCode(Ir[Gr]);return Nr}function gr(Ir,Ar,Dr){const Nr=Ir.length;(!Ar||Ar<0)&&(Ar=0),(!Dr||Dr<0||Dr>Nr)&&(Dr=Nr);let Gr="";for(let Un=Ar;Un<Dr;++Un)Gr+=sn[Ir[Un]];return Gr}function pr(Ir,Ar,Dr){const Nr=Ir.slice(Ar,Dr);let Gr="";for(let Un=0;Un<Nr.length-1;Un+=2)Gr+=String.fromCharCode(Nr[Un]+Nr[Un+1]*256);return Gr}Ft.prototype.slice=function(Ar,Dr){const Nr=this.length;Ar=~~Ar,Dr=Dr===void 0?Nr:~~Dr,Ar<0?(Ar+=Nr,Ar<0&&(Ar=0)):Ar>Nr&&(Ar=Nr),Dr<0?(Dr+=Nr,Dr<0&&(Dr=0)):Dr>Nr&&(Dr=Nr),Dr<Ar&&(Dr=Ar);const Gr=this.subarray(Ar,Dr);return Object.setPrototypeOf(Gr,Ft.prototype),Gr};function _r(Ir,Ar,Dr){if(Ir%1!==0||Ir<0)throw new RangeError("offset is not uint");if(Ir+Ar>Dr)throw new RangeError("Trying to access beyond buffer length")}Ft.prototype.readUintLE=Ft.prototype.readUIntLE=function(Ar,Dr,Nr){Ar=Ar>>>0,Dr=Dr>>>0,Nr||_r(Ar,Dr,this.length);let Gr=this[Ar],Un=1,Zr=0;for(;++Zr<Dr&&(Un*=256);)Gr+=this[Ar+Zr]*Un;return Gr},Ft.prototype.readUintBE=Ft.prototype.readUIntBE=function(Ar,Dr,Nr){Ar=Ar>>>0,Dr=Dr>>>0,Nr||_r(Ar,Dr,this.length);let Gr=this[Ar+--Dr],Un=1;for(;Dr>0&&(Un*=256);)Gr+=this[Ar+--Dr]*Un;return Gr},Ft.prototype.readUint8=Ft.prototype.readUInt8=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,1,this.length),this[Ar]},Ft.prototype.readUint16LE=Ft.prototype.readUInt16LE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,2,this.length),this[Ar]|this[Ar+1]<<8},Ft.prototype.readUint16BE=Ft.prototype.readUInt16BE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,2,this.length),this[Ar]<<8|this[Ar+1]},Ft.prototype.readUint32LE=Ft.prototype.readUInt32LE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,4,this.length),(this[Ar]|this[Ar+1]<<8|this[Ar+2]<<16)+this[Ar+3]*16777216},Ft.prototype.readUint32BE=Ft.prototype.readUInt32BE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,4,this.length),this[Ar]*16777216+(this[Ar+1]<<16|this[Ar+2]<<8|this[Ar+3])},Ft.prototype.readBigUInt64LE=Nn(function(Ar){Ar=Ar>>>0,Vr(Ar,"offset");const Dr=this[Ar],Nr=this[Ar+7];(Dr===void 0||Nr===void 0)&&Ur(Ar,this.length-8);const Gr=Dr+this[++Ar]*2**8+this[++Ar]*2**16+this[++Ar]*2**24,Un=this[++Ar]+this[++Ar]*2**8+this[++Ar]*2**16+Nr*2**24;return BigInt(Gr)+(BigInt(Un)<<BigInt(32))}),Ft.prototype.readBigUInt64BE=Nn(function(Ar){Ar=Ar>>>0,Vr(Ar,"offset");const Dr=this[Ar],Nr=this[Ar+7];(Dr===void 0||Nr===void 0)&&Ur(Ar,this.length-8);const Gr=Dr*2**24+this[++Ar]*2**16+this[++Ar]*2**8+this[++Ar],Un=this[++Ar]*2**24+this[++Ar]*2**16+this[++Ar]*2**8+Nr;return(BigInt(Gr)<<BigInt(32))+BigInt(Un)}),Ft.prototype.readIntLE=function(Ar,Dr,Nr){Ar=Ar>>>0,Dr=Dr>>>0,Nr||_r(Ar,Dr,this.length);let Gr=this[Ar],Un=1,Zr=0;for(;++Zr<Dr&&(Un*=256);)Gr+=this[Ar+Zr]*Un;return Un*=128,Gr>=Un&&(Gr-=Math.pow(2,8*Dr)),Gr},Ft.prototype.readIntBE=function(Ar,Dr,Nr){Ar=Ar>>>0,Dr=Dr>>>0,Nr||_r(Ar,Dr,this.length);let Gr=Dr,Un=1,Zr=this[Ar+--Gr];for(;Gr>0&&(Un*=256);)Zr+=this[Ar+--Gr]*Un;return Un*=128,Zr>=Un&&(Zr-=Math.pow(2,8*Dr)),Zr},Ft.prototype.readInt8=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,1,this.length),this[Ar]&128?(255-this[Ar]+1)*-1:this[Ar]},Ft.prototype.readInt16LE=function(Ar,Dr){Ar=Ar>>>0,Dr||_r(Ar,2,this.length);const Nr=this[Ar]|this[Ar+1]<<8;return Nr&32768?Nr|4294901760:Nr},Ft.prototype.readInt16BE=function(Ar,Dr){Ar=Ar>>>0,Dr||_r(Ar,2,this.length);const Nr=this[Ar+1]|this[Ar]<<8;return Nr&32768?Nr|4294901760:Nr},Ft.prototype.readInt32LE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,4,this.length),this[Ar]|this[Ar+1]<<8|this[Ar+2]<<16|this[Ar+3]<<24},Ft.prototype.readInt32BE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,4,this.length),this[Ar]<<24|this[Ar+1]<<16|this[Ar+2]<<8|this[Ar+3]},Ft.prototype.readBigInt64LE=Nn(function(Ar){Ar=Ar>>>0,Vr(Ar,"offset");const Dr=this[Ar],Nr=this[Ar+7];(Dr===void 0||Nr===void 0)&&Ur(Ar,this.length-8);const Gr=this[Ar+4]+this[Ar+5]*2**8+this[Ar+6]*2**16+(Nr<<24);return(BigInt(Gr)<<BigInt(32))+BigInt(Dr+this[++Ar]*2**8+this[++Ar]*2**16+this[++Ar]*2**24)}),Ft.prototype.readBigInt64BE=Nn(function(Ar){Ar=Ar>>>0,Vr(Ar,"offset");const Dr=this[Ar],Nr=this[Ar+7];(Dr===void 0||Nr===void 0)&&Ur(Ar,this.length-8);const Gr=(Dr<<24)+this[++Ar]*2**16+this[++Ar]*2**8+this[++Ar];return(BigInt(Gr)<<BigInt(32))+BigInt(this[++Ar]*2**24+this[++Ar]*2**16+this[++Ar]*2**8+Nr)}),Ft.prototype.readFloatLE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,4,this.length),et.read(this,Ar,!0,23,4)},Ft.prototype.readFloatBE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,4,this.length),et.read(this,Ar,!1,23,4)},Ft.prototype.readDoubleLE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,8,this.length),et.read(this,Ar,!0,52,8)},Ft.prototype.readDoubleBE=function(Ar,Dr){return Ar=Ar>>>0,Dr||_r(Ar,8,this.length),et.read(this,Ar,!1,52,8)};function kr(Ir,Ar,Dr,Nr,Gr,Un){if(!Ft.isBuffer(Ir))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ar>Gr||Ar<Un)throw new RangeError('"value" argument is out of bounds');if(Dr+Nr>Ir.length)throw new RangeError("Index out of range")}Ft.prototype.writeUintLE=Ft.prototype.writeUIntLE=function(Ar,Dr,Nr,Gr){if(Ar=+Ar,Dr=Dr>>>0,Nr=Nr>>>0,!Gr){const Cn=Math.pow(2,8*Nr)-1;kr(this,Ar,Dr,Nr,Cn,0)}let Un=1,Zr=0;for(this[Dr]=Ar&255;++Zr<Nr&&(Un*=256);)this[Dr+Zr]=Ar/Un&255;return Dr+Nr},Ft.prototype.writeUintBE=Ft.prototype.writeUIntBE=function(Ar,Dr,Nr,Gr){if(Ar=+Ar,Dr=Dr>>>0,Nr=Nr>>>0,!Gr){const Cn=Math.pow(2,8*Nr)-1;kr(this,Ar,Dr,Nr,Cn,0)}let Un=Nr-1,Zr=1;for(this[Dr+Un]=Ar&255;--Un>=0&&(Zr*=256);)this[Dr+Un]=Ar/Zr&255;return Dr+Nr},Ft.prototype.writeUint8=Ft.prototype.writeUInt8=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,1,255,0),this[Dr]=Ar&255,Dr+1},Ft.prototype.writeUint16LE=Ft.prototype.writeUInt16LE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,2,65535,0),this[Dr]=Ar&255,this[Dr+1]=Ar>>>8,Dr+2},Ft.prototype.writeUint16BE=Ft.prototype.writeUInt16BE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,2,65535,0),this[Dr]=Ar>>>8,this[Dr+1]=Ar&255,Dr+2},Ft.prototype.writeUint32LE=Ft.prototype.writeUInt32LE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,4,4294967295,0),this[Dr+3]=Ar>>>24,this[Dr+2]=Ar>>>16,this[Dr+1]=Ar>>>8,this[Dr]=Ar&255,Dr+4},Ft.prototype.writeUint32BE=Ft.prototype.writeUInt32BE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,4,4294967295,0),this[Dr]=Ar>>>24,this[Dr+1]=Ar>>>16,this[Dr+2]=Ar>>>8,this[Dr+3]=Ar&255,Dr+4};function Mr(Ir,Ar,Dr,Nr,Gr){qr(Ar,Nr,Gr,Ir,Dr,7);let Un=Number(Ar&BigInt(4294967295));Ir[Dr++]=Un,Un=Un>>8,Ir[Dr++]=Un,Un=Un>>8,Ir[Dr++]=Un,Un=Un>>8,Ir[Dr++]=Un;let Zr=Number(Ar>>BigInt(32)&BigInt(4294967295));return Ir[Dr++]=Zr,Zr=Zr>>8,Ir[Dr++]=Zr,Zr=Zr>>8,Ir[Dr++]=Zr,Zr=Zr>>8,Ir[Dr++]=Zr,Dr}function $r(Ir,Ar,Dr,Nr,Gr){qr(Ar,Nr,Gr,Ir,Dr,7);let Un=Number(Ar&BigInt(4294967295));Ir[Dr+7]=Un,Un=Un>>8,Ir[Dr+6]=Un,Un=Un>>8,Ir[Dr+5]=Un,Un=Un>>8,Ir[Dr+4]=Un;let Zr=Number(Ar>>BigInt(32)&BigInt(4294967295));return Ir[Dr+3]=Zr,Zr=Zr>>8,Ir[Dr+2]=Zr,Zr=Zr>>8,Ir[Dr+1]=Zr,Zr=Zr>>8,Ir[Dr]=Zr,Dr+8}Ft.prototype.writeBigUInt64LE=Nn(function(Ar,Dr=0){return Mr(this,Ar,Dr,BigInt(0),BigInt("0xffffffffffffffff"))}),Ft.prototype.writeBigUInt64BE=Nn(function(Ar,Dr=0){return $r(this,Ar,Dr,BigInt(0),BigInt("0xffffffffffffffff"))}),Ft.prototype.writeIntLE=function(Ar,Dr,Nr,Gr){if(Ar=+Ar,Dr=Dr>>>0,!Gr){const wo=Math.pow(2,8*Nr-1);kr(this,Ar,Dr,Nr,wo-1,-wo)}let Un=0,Zr=1,Cn=0;for(this[Dr]=Ar&255;++Un<Nr&&(Zr*=256);)Ar<0&&Cn===0&&this[Dr+Un-1]!==0&&(Cn=1),this[Dr+Un]=(Ar/Zr>>0)-Cn&255;return Dr+Nr},Ft.prototype.writeIntBE=function(Ar,Dr,Nr,Gr){if(Ar=+Ar,Dr=Dr>>>0,!Gr){const wo=Math.pow(2,8*Nr-1);kr(this,Ar,Dr,Nr,wo-1,-wo)}let Un=Nr-1,Zr=1,Cn=0;for(this[Dr+Un]=Ar&255;--Un>=0&&(Zr*=256);)Ar<0&&Cn===0&&this[Dr+Un+1]!==0&&(Cn=1),this[Dr+Un]=(Ar/Zr>>0)-Cn&255;return Dr+Nr},Ft.prototype.writeInt8=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,1,127,-128),Ar<0&&(Ar=255+Ar+1),this[Dr]=Ar&255,Dr+1},Ft.prototype.writeInt16LE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,2,32767,-32768),this[Dr]=Ar&255,this[Dr+1]=Ar>>>8,Dr+2},Ft.prototype.writeInt16BE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,2,32767,-32768),this[Dr]=Ar>>>8,this[Dr+1]=Ar&255,Dr+2},Ft.prototype.writeInt32LE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,4,2147483647,-2147483648),this[Dr]=Ar&255,this[Dr+1]=Ar>>>8,this[Dr+2]=Ar>>>16,this[Dr+3]=Ar>>>24,Dr+4},Ft.prototype.writeInt32BE=function(Ar,Dr,Nr){return Ar=+Ar,Dr=Dr>>>0,Nr||kr(this,Ar,Dr,4,2147483647,-2147483648),Ar<0&&(Ar=4294967295+Ar+1),this[Dr]=Ar>>>24,this[Dr+1]=Ar>>>16,this[Dr+2]=Ar>>>8,this[Dr+3]=Ar&255,Dr+4},Ft.prototype.writeBigInt64LE=Nn(function(Ar,Dr=0){return Mr(this,Ar,Dr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Ft.prototype.writeBigInt64BE=Nn(function(Ar,Dr=0){return $r(this,Ar,Dr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pr(Ir,Ar,Dr,Nr,Gr,Un){if(Dr+Nr>Ir.length)throw new RangeError("Index out of range");if(Dr<0)throw new RangeError("Index out of range")}function Fr(Ir,Ar,Dr,Nr,Gr){return Ar=+Ar,Dr=Dr>>>0,Gr||Pr(Ir,Ar,Dr,4),et.write(Ir,Ar,Dr,Nr,23,4),Dr+4}Ft.prototype.writeFloatLE=function(Ar,Dr,Nr){return Fr(this,Ar,Dr,!0,Nr)},Ft.prototype.writeFloatBE=function(Ar,Dr,Nr){return Fr(this,Ar,Dr,!1,Nr)};function Tr(Ir,Ar,Dr,Nr,Gr){return Ar=+Ar,Dr=Dr>>>0,Gr||Pr(Ir,Ar,Dr,8),et.write(Ir,Ar,Dr,Nr,52,8),Dr+8}Ft.prototype.writeDoubleLE=function(Ar,Dr,Nr){return Tr(this,Ar,Dr,!0,Nr)},Ft.prototype.writeDoubleBE=function(Ar,Dr,Nr){return Tr(this,Ar,Dr,!1,Nr)},Ft.prototype.copy=function(Ar,Dr,Nr,Gr){if(!Ft.isBuffer(Ar))throw new TypeError("argument should be a Buffer");if(Nr||(Nr=0),!Gr&&Gr!==0&&(Gr=this.length),Dr>=Ar.length&&(Dr=Ar.length),Dr||(Dr=0),Gr>0&&Gr<Nr&&(Gr=Nr),Gr===Nr||Ar.length===0||this.length===0)return 0;if(Dr<0)throw new RangeError("targetStart out of bounds");if(Nr<0||Nr>=this.length)throw new RangeError("Index out of range");if(Gr<0)throw new RangeError("sourceEnd out of bounds");Gr>this.length&&(Gr=this.length),Ar.length-Dr<Gr-Nr&&(Gr=Ar.length-Dr+Nr);const Un=Gr-Nr;return this===Ar&&typeof mt.prototype.copyWithin=="function"?this.copyWithin(Dr,Nr,Gr):mt.prototype.set.call(Ar,this.subarray(Nr,Gr),Dr),Un},Ft.prototype.fill=function(Ar,Dr,Nr,Gr){if(typeof Ar=="string"){if(typeof Dr=="string"?(Gr=Dr,Dr=0,Nr=this.length):typeof Nr=="string"&&(Gr=Nr,Nr=this.length),Gr!==void 0&&typeof Gr!="string")throw new TypeError("encoding must be a string");if(typeof Gr=="string"&&!Ft.isEncoding(Gr))throw new TypeError("Unknown encoding: "+Gr);if(Ar.length===1){const Zr=Ar.charCodeAt(0);(Gr==="utf8"&&Zr<128||Gr==="latin1")&&(Ar=Zr)}}else typeof Ar=="number"?Ar=Ar&255:typeof Ar=="boolean"&&(Ar=Number(Ar));if(Dr<0||this.length<Dr||this.length<Nr)throw new RangeError("Out of range index");if(Nr<=Dr)return this;Dr=Dr>>>0,Nr=Nr===void 0?this.length:Nr>>>0,Ar||(Ar=0);let Un;if(typeof Ar=="number")for(Un=Dr;Un<Nr;++Un)this[Un]=Ar;else{const Zr=Ft.isBuffer(Ar)?Ar:Ft.from(Ar,Gr),Cn=Zr.length;if(Cn===0)throw new TypeError('The value "'+Ar+'" is invalid for argument "value"');for(Un=0;Un<Nr-Dr;++Un)this[Un+Dr]=Zr[Un%Cn]}return this};const Rr={};function Er(Ir,Ar,Dr){Rr[Ir]=class extends Dr{constructor(){super(),Object.defineProperty(this,"message",{value:Ar.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ir}]`,this.stack,delete this.name}get code(){return Ir}set code(Gr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Gr,writable:!0})}toString(){return`${this.name} [${Ir}]: ${this.message}`}}}Er("ERR_BUFFER_OUT_OF_BOUNDS",function(Ir){return Ir?`${Ir} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Er("ERR_INVALID_ARG_TYPE",function(Ir,Ar){return`The "${Ir}" argument must be of type number. Received type ${typeof Ar}`},TypeError),Er("ERR_OUT_OF_RANGE",function(Ir,Ar,Dr){let Nr=`The value of "${Ir}" is out of range.`,Gr=Dr;return Number.isInteger(Dr)&&Math.abs(Dr)>2**32?Gr=Or(String(Dr)):typeof Dr=="bigint"&&(Gr=String(Dr),(Dr>BigInt(2)**BigInt(32)||Dr<-(BigInt(2)**BigInt(32)))&&(Gr=Or(Gr)),Gr+="n"),Nr+=` It must be ${Ar}. Received ${Gr}`,Nr},RangeError);function Or(Ir){let Ar="",Dr=Ir.length;const Nr=Ir[0]==="-"?1:0;for(;Dr>=Nr+4;Dr-=3)Ar=`_${Ir.slice(Dr-3,Dr)}${Ar}`;return`${Ir.slice(0,Dr)}${Ar}`}function Wr(Ir,Ar,Dr){Vr(Ar,"offset"),(Ir[Ar]===void 0||Ir[Ar+Dr]===void 0)&&Ur(Ar,Ir.length-(Dr+1))}function qr(Ir,Ar,Dr,Nr,Gr,Un){if(Ir>Dr||Ir<Ar){const Zr=typeof Ar=="bigint"?"n":"";let Cn;throw Ar===0||Ar===BigInt(0)?Cn=`>= 0${Zr} and < 2${Zr} ** ${(Un+1)*8}${Zr}`:Cn=`>= -(2${Zr} ** ${(Un+1)*8-1}${Zr}) and < 2 ** ${(Un+1)*8-1}${Zr}`,new Rr.ERR_OUT_OF_RANGE("value",Cn,Ir)}Wr(Nr,Gr,Un)}function Vr(Ir,Ar){if(typeof Ir!="number")throw new Rr.ERR_INVALID_ARG_TYPE(Ar,"number",Ir)}function Ur(Ir,Ar,Dr){throw Math.floor(Ir)!==Ir?(Vr(Ir,Dr),new Rr.ERR_OUT_OF_RANGE("offset","an integer",Ir)):Ar<0?new Rr.ERR_BUFFER_OUT_OF_BOUNDS:new Rr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Ar}`,Ir)}const Lr=/[^+/0-9A-Za-z-_]/g;function Br(Ir){if(Ir=Ir.split("=")[0],Ir=Ir.trim().replace(Lr,""),Ir.length<2)return"";for(;Ir.length%4!==0;)Ir=Ir+"=";return Ir}function Xr(Ir,Ar){Ar=Ar||1/0;let Dr;const Nr=Ir.length;let Gr=null;const Un=[];for(let Zr=0;Zr<Nr;++Zr){if(Dr=Ir.charCodeAt(Zr),Dr>55295&&Dr<57344){if(!Gr){if(Dr>56319){(Ar-=3)>-1&&Un.push(239,191,189);continue}else if(Zr+1===Nr){(Ar-=3)>-1&&Un.push(239,191,189);continue}Gr=Dr;continue}if(Dr<56320){(Ar-=3)>-1&&Un.push(239,191,189),Gr=Dr;continue}Dr=(Gr-55296<<10|Dr-56320)+65536}else Gr&&(Ar-=3)>-1&&Un.push(239,191,189);if(Gr=null,Dr<128){if((Ar-=1)<0)break;Un.push(Dr)}else if(Dr<2048){if((Ar-=2)<0)break;Un.push(Dr>>6|192,Dr&63|128)}else if(Dr<65536){if((Ar-=3)<0)break;Un.push(Dr>>12|224,Dr>>6&63|128,Dr&63|128)}else if(Dr<1114112){if((Ar-=4)<0)break;Un.push(Dr>>18|240,Dr>>12&63|128,Dr>>6&63|128,Dr&63|128)}else throw new Error("Invalid code point")}return Un}function zr(Ir){const Ar=[];for(let Dr=0;Dr<Ir.length;++Dr)Ar.push(Ir.charCodeAt(Dr)&255);return Ar}function Qr(Ir,Ar){let Dr,Nr,Gr;const Un=[];for(let Zr=0;Zr<Ir.length&&!((Ar-=2)<0);++Zr)Dr=Ir.charCodeAt(Zr),Nr=Dr>>8,Gr=Dr%256,Un.push(Gr),Un.push(Nr);return Un}function Qn(Ir){return s.toByteArray(Br(Ir))}function nn(Ir,Ar,Dr,Nr){let Gr;for(Gr=0;Gr<Nr&&!(Gr+Dr>=Ar.length||Gr>=Ir.length);++Gr)Ar[Gr+Dr]=Ir[Gr];return Gr}function $n(Ir,Ar){return Ir instanceof Ar||Ir!=null&&Ir.constructor!=null&&Ir.constructor.name!=null&&Ir.constructor.name===Ar.name}function lo(Ir){return Ir!==Ir}const sn=function(){const Ir="0123456789abcdef",Ar=new Array(256);for(let Dr=0;Dr<16;++Dr){const Nr=Dr*16;for(let Gr=0;Gr<16;++Gr)Ar[Nr+Gr]=Ir[Dr]+Ir[Gr]}return Ar}();function Nn(Ir){return typeof BigInt>"u"?xo:Ir}function xo(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$1=buffer$1.Buffer,Blob$2=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File$1=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$1=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist$1=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$2,BlobOptions,Buffer:Buffer$1$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$1,default:Buffer$1,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var bn$7={exports:{}};const require$$0$3=getAugmentedNamespace(dist$1);bn$7.exports;(function(a){(function(s,et){function nt(Vt,er){if(!Vt)throw new Error(er||"Assertion failed")}function at(Vt,er){Vt.super_=er;var Yt=function(){};Yt.prototype=er.prototype,Vt.prototype=new Yt,Vt.prototype.constructor=Vt}function mt(Vt,er,Yt){if(mt.isBN(Vt))return Vt;this.negative=0,this.words=null,this.length=0,this.red=null,Vt!==null&&((er==="le"||er==="be")&&(Yt=er,er=10),this._init(Vt||0,er||10,Yt||"be"))}typeof s=="object"?s.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$0$3.Buffer}catch{}mt.isBN=function(er){return er instanceof mt?!0:er!==null&&typeof er=="object"&&er.constructor.wordSize===mt.wordSize&&Array.isArray(er.words)},mt.max=function(er,Yt){return er.cmp(Yt)>0?er:Yt},mt.min=function(er,Yt){return er.cmp(Yt)<0?er:Yt},mt.prototype._init=function(er,Yt,rr){if(typeof er=="number")return this._initNumber(er,Yt,rr);if(typeof er=="object")return this._initArray(er,Yt,rr);Yt==="hex"&&(Yt=16),nt(Yt===(Yt|0)&&Yt>=2&&Yt<=36),er=er.toString().replace(/\s+/g,"");var ar=0;er[0]==="-"&&(ar++,this.negative=1),ar<er.length&&(Yt===16?this._parseHex(er,ar,rr):(this._parseBase(er,Yt,ar),rr==="le"&&this._initArray(this.toArray(),Yt,rr)))},mt.prototype._initNumber=function(er,Yt,rr){er<0&&(this.negative=1,er=-er),er<67108864?(this.words=[er&67108863],this.length=1):er<4503599627370496?(this.words=[er&67108863,er/67108864&67108863],this.length=2):(nt(er<9007199254740992),this.words=[er&67108863,er/67108864&67108863,1],this.length=3),rr==="le"&&this._initArray(this.toArray(),Yt,rr)},mt.prototype._initArray=function(er,Yt,rr){if(nt(typeof er.length=="number"),er.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(er.length/3),this.words=new Array(this.length);for(var ar=0;ar<this.length;ar++)this.words[ar]=0;var lr,nr,Lt=0;if(rr==="be")for(ar=er.length-1,lr=0;ar>=0;ar-=3)nr=er[ar]|er[ar-1]<<8|er[ar-2]<<16,this.words[lr]|=nr<<Lt&67108863,this.words[lr+1]=nr>>>26-Lt&67108863,Lt+=24,Lt>=26&&(Lt-=26,lr++);else if(rr==="le")for(ar=0,lr=0;ar<er.length;ar+=3)nr=er[ar]|er[ar+1]<<8|er[ar+2]<<16,this.words[lr]|=nr<<Lt&67108863,this.words[lr+1]=nr>>>26-Lt&67108863,Lt+=24,Lt>=26&&(Lt-=26,lr++);return this._strip()};function $t(Vt,er){var Yt=Vt.charCodeAt(er);if(Yt>=48&&Yt<=57)return Yt-48;if(Yt>=65&&Yt<=70)return Yt-55;if(Yt>=97&&Yt<=102)return Yt-87;nt(!1,"Invalid character in "+Vt)}function Ct(Vt,er,Yt){var rr=$t(Vt,Yt);return Yt-1>=er&&(rr|=$t(Vt,Yt-1)<<4),rr}mt.prototype._parseHex=function(er,Yt,rr){this.length=Math.ceil((er.length-Yt)/6),this.words=new Array(this.length);for(var ar=0;ar<this.length;ar++)this.words[ar]=0;var lr=0,nr=0,Lt;if(rr==="be")for(ar=er.length-1;ar>=Yt;ar-=2)Lt=Ct(er,Yt,ar)<<lr,this.words[nr]|=Lt&67108863,lr>=18?(lr-=18,nr+=1,this.words[nr]|=Lt>>>26):lr+=8;else{var or=er.length-Yt;for(ar=or%2===0?Yt+1:Yt;ar<er.length;ar+=2)Lt=Ct(er,Yt,ar)<<lr,this.words[nr]|=Lt&67108863,lr>=18?(lr-=18,nr+=1,this.words[nr]|=Lt>>>26):lr+=8}this._strip()};function Dt(Vt,er,Yt,rr){for(var ar=0,lr=0,nr=Math.min(Vt.length,Yt),Lt=er;Lt<nr;Lt++){var or=Vt.charCodeAt(Lt)-48;ar*=rr,or>=49?lr=or-49+10:or>=17?lr=or-17+10:lr=or,nt(or>=0&&lr<rr,"Invalid character"),ar+=lr}return ar}mt.prototype._parseBase=function(er,Yt,rr){this.words=[0],this.length=1;for(var ar=0,lr=1;lr<=67108863;lr*=Yt)ar++;ar--,lr=lr/Yt|0;for(var nr=er.length-rr,Lt=nr%ar,or=Math.min(nr,nr-Lt)+rr,gr=0,pr=rr;pr<or;pr+=ar)gr=Dt(er,pr,pr+ar,Yt),this.imuln(lr),this.words[0]+gr<67108864?this.words[0]+=gr:this._iaddn(gr);if(Lt!==0){var _r=1;for(gr=Dt(er,pr,er.length,Yt),pr=0;pr<Lt;pr++)_r*=Yt;this.imuln(_r),this.words[0]+gr<67108864?this.words[0]+=gr:this._iaddn(gr)}this._strip()},mt.prototype.copy=function(er){er.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)er.words[Yt]=this.words[Yt];er.length=this.length,er.negative=this.negative,er.red=this.red};function Ft(Vt,er){Vt.words=er.words,Vt.length=er.length,Vt.negative=er.negative,Vt.red=er.red}if(mt.prototype._move=function(er){Ft(er,this)},mt.prototype.clone=function(){var er=new mt(null);return this.copy(er),er},mt.prototype._expand=function(er){for(;this.length<er;)this.words[this.length++]=0;return this},mt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{mt.prototype[Symbol.for("nodejs.util.inspect.custom")]=jt}catch{mt.prototype.inspect=jt}else mt.prototype.inspect=jt;function jt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],tr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ir=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(er,Yt){er=er||10,Yt=Yt|0||1;var rr;if(er===16||er==="hex"){rr="";for(var ar=0,lr=0,nr=0;nr<this.length;nr++){var Lt=this.words[nr],or=((Lt<<ar|lr)&16777215).toString(16);lr=Lt>>>24-ar&16777215,ar+=2,ar>=26&&(ar-=26,nr--),lr!==0||nr!==this.length-1?rr=Ut[6-or.length]+or+rr:rr=or+rr}for(lr!==0&&(rr=lr.toString(16)+rr);rr.length%Yt!==0;)rr="0"+rr;return this.negative!==0&&(rr="-"+rr),rr}if(er===(er|0)&&er>=2&&er<=36){var gr=tr[er],pr=ir[er];rr="";var _r=this.clone();for(_r.negative=0;!_r.isZero();){var kr=_r.modrn(pr).toString(er);_r=_r.idivn(pr),_r.isZero()?rr=kr+rr:rr=Ut[gr-kr.length]+kr+rr}for(this.isZero()&&(rr="0"+rr);rr.length%Yt!==0;)rr="0"+rr;return this.negative!==0&&(rr="-"+rr),rr}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var er=this.words[0];return this.length===2?er+=this.words[1]*67108864:this.length===3&&this.words[2]===1?er+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-er:er},mt.prototype.toJSON=function(){return this.toString(16,2)},wt&&(mt.prototype.toBuffer=function(er,Yt){return this.toArrayLike(wt,er,Yt)}),mt.prototype.toArray=function(er,Yt){return this.toArrayLike(Array,er,Yt)};var sr=function(er,Yt){return er.allocUnsafe?er.allocUnsafe(Yt):new er(Yt)};mt.prototype.toArrayLike=function(er,Yt,rr){this._strip();var ar=this.byteLength(),lr=rr||Math.max(1,ar);nt(ar<=lr,"byte array longer than desired length"),nt(lr>0,"Requested array length <= 0");var nr=sr(er,lr),Lt=Yt==="le"?"LE":"BE";return this["_toArrayLike"+Lt](nr,ar),nr},mt.prototype._toArrayLikeLE=function(er,Yt){for(var rr=0,ar=0,lr=0,nr=0;lr<this.length;lr++){var Lt=this.words[lr]<<nr|ar;er[rr++]=Lt&255,rr<er.length&&(er[rr++]=Lt>>8&255),rr<er.length&&(er[rr++]=Lt>>16&255),nr===6?(rr<er.length&&(er[rr++]=Lt>>24&255),ar=0,nr=0):(ar=Lt>>>24,nr+=2)}if(rr<er.length)for(er[rr++]=ar;rr<er.length;)er[rr++]=0},mt.prototype._toArrayLikeBE=function(er,Yt){for(var rr=er.length-1,ar=0,lr=0,nr=0;lr<this.length;lr++){var Lt=this.words[lr]<<nr|ar;er[rr--]=Lt&255,rr>=0&&(er[rr--]=Lt>>8&255),rr>=0&&(er[rr--]=Lt>>16&255),nr===6?(rr>=0&&(er[rr--]=Lt>>24&255),ar=0,nr=0):(ar=Lt>>>24,nr+=2)}if(rr>=0)for(er[rr--]=ar;rr>=0;)er[rr--]=0},Math.clz32?mt.prototype._countBits=function(er){return 32-Math.clz32(er)}:mt.prototype._countBits=function(er){var Yt=er,rr=0;return Yt>=4096&&(rr+=13,Yt>>>=13),Yt>=64&&(rr+=7,Yt>>>=7),Yt>=8&&(rr+=4,Yt>>>=4),Yt>=2&&(rr+=2,Yt>>>=2),rr+Yt},mt.prototype._zeroBits=function(er){if(er===0)return 26;var Yt=er,rr=0;return Yt&8191||(rr+=13,Yt>>>=13),Yt&127||(rr+=7,Yt>>>=7),Yt&15||(rr+=4,Yt>>>=4),Yt&3||(rr+=2,Yt>>>=2),Yt&1||rr++,rr},mt.prototype.bitLength=function(){var er=this.words[this.length-1],Yt=this._countBits(er);return(this.length-1)*26+Yt};function ur(Vt){for(var er=new Array(Vt.bitLength()),Yt=0;Yt<er.length;Yt++){var rr=Yt/26|0,ar=Yt%26;er[Yt]=Vt.words[rr]>>>ar&1}return er}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var er=0,Yt=0;Yt<this.length;Yt++){var rr=this._zeroBits(this.words[Yt]);if(er+=rr,rr!==26)break}return er},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(er){return this.negative!==0?this.abs().inotn(er).iaddn(1):this.clone()},mt.prototype.fromTwos=function(er){return this.testn(er-1)?this.notn(er).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(er){for(;this.length<er.length;)this.words[this.length++]=0;for(var Yt=0;Yt<er.length;Yt++)this.words[Yt]=this.words[Yt]|er.words[Yt];return this._strip()},mt.prototype.ior=function(er){return nt((this.negative|er.negative)===0),this.iuor(er)},mt.prototype.or=function(er){return this.length>er.length?this.clone().ior(er):er.clone().ior(this)},mt.prototype.uor=function(er){return this.length>er.length?this.clone().iuor(er):er.clone().iuor(this)},mt.prototype.iuand=function(er){var Yt;this.length>er.length?Yt=er:Yt=this;for(var rr=0;rr<Yt.length;rr++)this.words[rr]=this.words[rr]&er.words[rr];return this.length=Yt.length,this._strip()},mt.prototype.iand=function(er){return nt((this.negative|er.negative)===0),this.iuand(er)},mt.prototype.and=function(er){return this.length>er.length?this.clone().iand(er):er.clone().iand(this)},mt.prototype.uand=function(er){return this.length>er.length?this.clone().iuand(er):er.clone().iuand(this)},mt.prototype.iuxor=function(er){var Yt,rr;this.length>er.length?(Yt=this,rr=er):(Yt=er,rr=this);for(var ar=0;ar<rr.length;ar++)this.words[ar]=Yt.words[ar]^rr.words[ar];if(this!==Yt)for(;ar<Yt.length;ar++)this.words[ar]=Yt.words[ar];return this.length=Yt.length,this._strip()},mt.prototype.ixor=function(er){return nt((this.negative|er.negative)===0),this.iuxor(er)},mt.prototype.xor=function(er){return this.length>er.length?this.clone().ixor(er):er.clone().ixor(this)},mt.prototype.uxor=function(er){return this.length>er.length?this.clone().iuxor(er):er.clone().iuxor(this)},mt.prototype.inotn=function(er){nt(typeof er=="number"&&er>=0);var Yt=Math.ceil(er/26)|0,rr=er%26;this._expand(Yt),rr>0&&Yt--;for(var ar=0;ar<Yt;ar++)this.words[ar]=~this.words[ar]&67108863;return rr>0&&(this.words[ar]=~this.words[ar]&67108863>>26-rr),this._strip()},mt.prototype.notn=function(er){return this.clone().inotn(er)},mt.prototype.setn=function(er,Yt){nt(typeof er=="number"&&er>=0);var rr=er/26|0,ar=er%26;return this._expand(rr+1),Yt?this.words[rr]=this.words[rr]|1<<ar:this.words[rr]=this.words[rr]&~(1<<ar),this._strip()},mt.prototype.iadd=function(er){var Yt;if(this.negative!==0&&er.negative===0)return this.negative=0,Yt=this.isub(er),this.negative^=1,this._normSign();if(this.negative===0&&er.negative!==0)return er.negative=0,Yt=this.isub(er),er.negative=1,Yt._normSign();var rr,ar;this.length>er.length?(rr=this,ar=er):(rr=er,ar=this);for(var lr=0,nr=0;nr<ar.length;nr++)Yt=(rr.words[nr]|0)+(ar.words[nr]|0)+lr,this.words[nr]=Yt&67108863,lr=Yt>>>26;for(;lr!==0&&nr<rr.length;nr++)Yt=(rr.words[nr]|0)+lr,this.words[nr]=Yt&67108863,lr=Yt>>>26;if(this.length=rr.length,lr!==0)this.words[this.length]=lr,this.length++;else if(rr!==this)for(;nr<rr.length;nr++)this.words[nr]=rr.words[nr];return this},mt.prototype.add=function(er){var Yt;return er.negative!==0&&this.negative===0?(er.negative=0,Yt=this.sub(er),er.negative^=1,Yt):er.negative===0&&this.negative!==0?(this.negative=0,Yt=er.sub(this),this.negative=1,Yt):this.length>er.length?this.clone().iadd(er):er.clone().iadd(this)},mt.prototype.isub=function(er){if(er.negative!==0){er.negative=0;var Yt=this.iadd(er);return er.negative=1,Yt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(er),this.negative=1,this._normSign();var rr=this.cmp(er);if(rr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ar,lr;rr>0?(ar=this,lr=er):(ar=er,lr=this);for(var nr=0,Lt=0;Lt<lr.length;Lt++)Yt=(ar.words[Lt]|0)-(lr.words[Lt]|0)+nr,nr=Yt>>26,this.words[Lt]=Yt&67108863;for(;nr!==0&&Lt<ar.length;Lt++)Yt=(ar.words[Lt]|0)+nr,nr=Yt>>26,this.words[Lt]=Yt&67108863;if(nr===0&&Lt<ar.length&&ar!==this)for(;Lt<ar.length;Lt++)this.words[Lt]=ar.words[Lt];return this.length=Math.max(this.length,Lt),ar!==this&&(this.negative=1),this._strip()},mt.prototype.sub=function(er){return this.clone().isub(er)};function fr(Vt,er,Yt){Yt.negative=er.negative^Vt.negative;var rr=Vt.length+er.length|0;Yt.length=rr,rr=rr-1|0;var ar=Vt.words[0]|0,lr=er.words[0]|0,nr=ar*lr,Lt=nr&67108863,or=nr/67108864|0;Yt.words[0]=Lt;for(var gr=1;gr<rr;gr++){for(var pr=or>>>26,_r=or&67108863,kr=Math.min(gr,er.length-1),Mr=Math.max(0,gr-Vt.length+1);Mr<=kr;Mr++){var $r=gr-Mr|0;ar=Vt.words[$r]|0,lr=er.words[Mr]|0,nr=ar*lr+_r,pr+=nr/67108864|0,_r=nr&67108863}Yt.words[gr]=_r|0,or=pr|0}return or!==0?Yt.words[gr]=or|0:Yt.length--,Yt._strip()}var dr=function(er,Yt,rr){var ar=er.words,lr=Yt.words,nr=rr.words,Lt=0,or,gr,pr,_r=ar[0]|0,kr=_r&8191,Mr=_r>>>13,$r=ar[1]|0,Pr=$r&8191,Fr=$r>>>13,Tr=ar[2]|0,Rr=Tr&8191,Er=Tr>>>13,Or=ar[3]|0,Wr=Or&8191,qr=Or>>>13,Vr=ar[4]|0,Ur=Vr&8191,Lr=Vr>>>13,Br=ar[5]|0,Xr=Br&8191,zr=Br>>>13,Qr=ar[6]|0,Qn=Qr&8191,nn=Qr>>>13,$n=ar[7]|0,lo=$n&8191,sn=$n>>>13,Nn=ar[8]|0,xo=Nn&8191,Ir=Nn>>>13,Ar=ar[9]|0,Dr=Ar&8191,Nr=Ar>>>13,Gr=lr[0]|0,Un=Gr&8191,Zr=Gr>>>13,Cn=lr[1]|0,wo=Cn&8191,Hn=Cn>>>13,Kn=lr[2]|0,bo=Kn&8191,Jn=Kn>>>13,no=lr[3]|0,Do=no&8191,eo=no>>>13,io=lr[4]|0,Io=io&8191,_i=io>>>13,ro=lr[5]|0,Oo=ro&8191,Hr=ro>>>13,Yr=lr[6]|0,Wn=Yr&8191,rn=Yr>>>13,dn=lr[7]|0,po=dn&8191,Ln=dn>>>13,Vn=lr[8]|0,uo=Vn&8191,pn=Vn>>>13,zn=lr[9]|0,go=zn&8191,co=zn>>>13;rr.negative=er.negative^Yt.negative,rr.length=19,or=Math.imul(kr,Un),gr=Math.imul(kr,Zr),gr=gr+Math.imul(Mr,Un)|0,pr=Math.imul(Mr,Zr);var Eo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,or=Math.imul(Pr,Un),gr=Math.imul(Pr,Zr),gr=gr+Math.imul(Fr,Un)|0,pr=Math.imul(Fr,Zr),or=or+Math.imul(kr,wo)|0,gr=gr+Math.imul(kr,Hn)|0,gr=gr+Math.imul(Mr,wo)|0,pr=pr+Math.imul(Mr,Hn)|0;var To=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(To>>>26)|0,To&=67108863,or=Math.imul(Rr,Un),gr=Math.imul(Rr,Zr),gr=gr+Math.imul(Er,Un)|0,pr=Math.imul(Er,Zr),or=or+Math.imul(Pr,wo)|0,gr=gr+Math.imul(Pr,Hn)|0,gr=gr+Math.imul(Fr,wo)|0,pr=pr+Math.imul(Fr,Hn)|0,or=or+Math.imul(kr,bo)|0,gr=gr+Math.imul(kr,Jn)|0,gr=gr+Math.imul(Mr,bo)|0,pr=pr+Math.imul(Mr,Jn)|0;var Co=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Co>>>26)|0,Co&=67108863,or=Math.imul(Wr,Un),gr=Math.imul(Wr,Zr),gr=gr+Math.imul(qr,Un)|0,pr=Math.imul(qr,Zr),or=or+Math.imul(Rr,wo)|0,gr=gr+Math.imul(Rr,Hn)|0,gr=gr+Math.imul(Er,wo)|0,pr=pr+Math.imul(Er,Hn)|0,or=or+Math.imul(Pr,bo)|0,gr=gr+Math.imul(Pr,Jn)|0,gr=gr+Math.imul(Fr,bo)|0,pr=pr+Math.imul(Fr,Jn)|0,or=or+Math.imul(kr,Do)|0,gr=gr+Math.imul(kr,eo)|0,gr=gr+Math.imul(Mr,Do)|0,pr=pr+Math.imul(Mr,eo)|0;var Mo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,or=Math.imul(Ur,Un),gr=Math.imul(Ur,Zr),gr=gr+Math.imul(Lr,Un)|0,pr=Math.imul(Lr,Zr),or=or+Math.imul(Wr,wo)|0,gr=gr+Math.imul(Wr,Hn)|0,gr=gr+Math.imul(qr,wo)|0,pr=pr+Math.imul(qr,Hn)|0,or=or+Math.imul(Rr,bo)|0,gr=gr+Math.imul(Rr,Jn)|0,gr=gr+Math.imul(Er,bo)|0,pr=pr+Math.imul(Er,Jn)|0,or=or+Math.imul(Pr,Do)|0,gr=gr+Math.imul(Pr,eo)|0,gr=gr+Math.imul(Fr,Do)|0,pr=pr+Math.imul(Fr,eo)|0,or=or+Math.imul(kr,Io)|0,gr=gr+Math.imul(kr,_i)|0,gr=gr+Math.imul(Mr,Io)|0,pr=pr+Math.imul(Mr,_i)|0;var No=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(No>>>26)|0,No&=67108863,or=Math.imul(Xr,Un),gr=Math.imul(Xr,Zr),gr=gr+Math.imul(zr,Un)|0,pr=Math.imul(zr,Zr),or=or+Math.imul(Ur,wo)|0,gr=gr+Math.imul(Ur,Hn)|0,gr=gr+Math.imul(Lr,wo)|0,pr=pr+Math.imul(Lr,Hn)|0,or=or+Math.imul(Wr,bo)|0,gr=gr+Math.imul(Wr,Jn)|0,gr=gr+Math.imul(qr,bo)|0,pr=pr+Math.imul(qr,Jn)|0,or=or+Math.imul(Rr,Do)|0,gr=gr+Math.imul(Rr,eo)|0,gr=gr+Math.imul(Er,Do)|0,pr=pr+Math.imul(Er,eo)|0,or=or+Math.imul(Pr,Io)|0,gr=gr+Math.imul(Pr,_i)|0,gr=gr+Math.imul(Fr,Io)|0,pr=pr+Math.imul(Fr,_i)|0,or=or+Math.imul(kr,Oo)|0,gr=gr+Math.imul(kr,Hr)|0,gr=gr+Math.imul(Mr,Oo)|0,pr=pr+Math.imul(Mr,Hr)|0;var zo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(zo>>>26)|0,zo&=67108863,or=Math.imul(Qn,Un),gr=Math.imul(Qn,Zr),gr=gr+Math.imul(nn,Un)|0,pr=Math.imul(nn,Zr),or=or+Math.imul(Xr,wo)|0,gr=gr+Math.imul(Xr,Hn)|0,gr=gr+Math.imul(zr,wo)|0,pr=pr+Math.imul(zr,Hn)|0,or=or+Math.imul(Ur,bo)|0,gr=gr+Math.imul(Ur,Jn)|0,gr=gr+Math.imul(Lr,bo)|0,pr=pr+Math.imul(Lr,Jn)|0,or=or+Math.imul(Wr,Do)|0,gr=gr+Math.imul(Wr,eo)|0,gr=gr+Math.imul(qr,Do)|0,pr=pr+Math.imul(qr,eo)|0,or=or+Math.imul(Rr,Io)|0,gr=gr+Math.imul(Rr,_i)|0,gr=gr+Math.imul(Er,Io)|0,pr=pr+Math.imul(Er,_i)|0,or=or+Math.imul(Pr,Oo)|0,gr=gr+Math.imul(Pr,Hr)|0,gr=gr+Math.imul(Fr,Oo)|0,pr=pr+Math.imul(Fr,Hr)|0,or=or+Math.imul(kr,Wn)|0,gr=gr+Math.imul(kr,rn)|0,gr=gr+Math.imul(Mr,Wn)|0,pr=pr+Math.imul(Mr,rn)|0;var Bo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,or=Math.imul(lo,Un),gr=Math.imul(lo,Zr),gr=gr+Math.imul(sn,Un)|0,pr=Math.imul(sn,Zr),or=or+Math.imul(Qn,wo)|0,gr=gr+Math.imul(Qn,Hn)|0,gr=gr+Math.imul(nn,wo)|0,pr=pr+Math.imul(nn,Hn)|0,or=or+Math.imul(Xr,bo)|0,gr=gr+Math.imul(Xr,Jn)|0,gr=gr+Math.imul(zr,bo)|0,pr=pr+Math.imul(zr,Jn)|0,or=or+Math.imul(Ur,Do)|0,gr=gr+Math.imul(Ur,eo)|0,gr=gr+Math.imul(Lr,Do)|0,pr=pr+Math.imul(Lr,eo)|0,or=or+Math.imul(Wr,Io)|0,gr=gr+Math.imul(Wr,_i)|0,gr=gr+Math.imul(qr,Io)|0,pr=pr+Math.imul(qr,_i)|0,or=or+Math.imul(Rr,Oo)|0,gr=gr+Math.imul(Rr,Hr)|0,gr=gr+Math.imul(Er,Oo)|0,pr=pr+Math.imul(Er,Hr)|0,or=or+Math.imul(Pr,Wn)|0,gr=gr+Math.imul(Pr,rn)|0,gr=gr+Math.imul(Fr,Wn)|0,pr=pr+Math.imul(Fr,rn)|0,or=or+Math.imul(kr,po)|0,gr=gr+Math.imul(kr,Ln)|0,gr=gr+Math.imul(Mr,po)|0,pr=pr+Math.imul(Mr,Ln)|0;var Po=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Po>>>26)|0,Po&=67108863,or=Math.imul(xo,Un),gr=Math.imul(xo,Zr),gr=gr+Math.imul(Ir,Un)|0,pr=Math.imul(Ir,Zr),or=or+Math.imul(lo,wo)|0,gr=gr+Math.imul(lo,Hn)|0,gr=gr+Math.imul(sn,wo)|0,pr=pr+Math.imul(sn,Hn)|0,or=or+Math.imul(Qn,bo)|0,gr=gr+Math.imul(Qn,Jn)|0,gr=gr+Math.imul(nn,bo)|0,pr=pr+Math.imul(nn,Jn)|0,or=or+Math.imul(Xr,Do)|0,gr=gr+Math.imul(Xr,eo)|0,gr=gr+Math.imul(zr,Do)|0,pr=pr+Math.imul(zr,eo)|0,or=or+Math.imul(Ur,Io)|0,gr=gr+Math.imul(Ur,_i)|0,gr=gr+Math.imul(Lr,Io)|0,pr=pr+Math.imul(Lr,_i)|0,or=or+Math.imul(Wr,Oo)|0,gr=gr+Math.imul(Wr,Hr)|0,gr=gr+Math.imul(qr,Oo)|0,pr=pr+Math.imul(qr,Hr)|0,or=or+Math.imul(Rr,Wn)|0,gr=gr+Math.imul(Rr,rn)|0,gr=gr+Math.imul(Er,Wn)|0,pr=pr+Math.imul(Er,rn)|0,or=or+Math.imul(Pr,po)|0,gr=gr+Math.imul(Pr,Ln)|0,gr=gr+Math.imul(Fr,po)|0,pr=pr+Math.imul(Fr,Ln)|0,or=or+Math.imul(kr,uo)|0,gr=gr+Math.imul(kr,pn)|0,gr=gr+Math.imul(Mr,uo)|0,pr=pr+Math.imul(Mr,pn)|0;var Wo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,or=Math.imul(Dr,Un),gr=Math.imul(Dr,Zr),gr=gr+Math.imul(Nr,Un)|0,pr=Math.imul(Nr,Zr),or=or+Math.imul(xo,wo)|0,gr=gr+Math.imul(xo,Hn)|0,gr=gr+Math.imul(Ir,wo)|0,pr=pr+Math.imul(Ir,Hn)|0,or=or+Math.imul(lo,bo)|0,gr=gr+Math.imul(lo,Jn)|0,gr=gr+Math.imul(sn,bo)|0,pr=pr+Math.imul(sn,Jn)|0,or=or+Math.imul(Qn,Do)|0,gr=gr+Math.imul(Qn,eo)|0,gr=gr+Math.imul(nn,Do)|0,pr=pr+Math.imul(nn,eo)|0,or=or+Math.imul(Xr,Io)|0,gr=gr+Math.imul(Xr,_i)|0,gr=gr+Math.imul(zr,Io)|0,pr=pr+Math.imul(zr,_i)|0,or=or+Math.imul(Ur,Oo)|0,gr=gr+Math.imul(Ur,Hr)|0,gr=gr+Math.imul(Lr,Oo)|0,pr=pr+Math.imul(Lr,Hr)|0,or=or+Math.imul(Wr,Wn)|0,gr=gr+Math.imul(Wr,rn)|0,gr=gr+Math.imul(qr,Wn)|0,pr=pr+Math.imul(qr,rn)|0,or=or+Math.imul(Rr,po)|0,gr=gr+Math.imul(Rr,Ln)|0,gr=gr+Math.imul(Er,po)|0,pr=pr+Math.imul(Er,Ln)|0,or=or+Math.imul(Pr,uo)|0,gr=gr+Math.imul(Pr,pn)|0,gr=gr+Math.imul(Fr,uo)|0,pr=pr+Math.imul(Fr,pn)|0,or=or+Math.imul(kr,go)|0,gr=gr+Math.imul(kr,co)|0,gr=gr+Math.imul(Mr,go)|0,pr=pr+Math.imul(Mr,co)|0;var Fo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,or=Math.imul(Dr,wo),gr=Math.imul(Dr,Hn),gr=gr+Math.imul(Nr,wo)|0,pr=Math.imul(Nr,Hn),or=or+Math.imul(xo,bo)|0,gr=gr+Math.imul(xo,Jn)|0,gr=gr+Math.imul(Ir,bo)|0,pr=pr+Math.imul(Ir,Jn)|0,or=or+Math.imul(lo,Do)|0,gr=gr+Math.imul(lo,eo)|0,gr=gr+Math.imul(sn,Do)|0,pr=pr+Math.imul(sn,eo)|0,or=or+Math.imul(Qn,Io)|0,gr=gr+Math.imul(Qn,_i)|0,gr=gr+Math.imul(nn,Io)|0,pr=pr+Math.imul(nn,_i)|0,or=or+Math.imul(Xr,Oo)|0,gr=gr+Math.imul(Xr,Hr)|0,gr=gr+Math.imul(zr,Oo)|0,pr=pr+Math.imul(zr,Hr)|0,or=or+Math.imul(Ur,Wn)|0,gr=gr+Math.imul(Ur,rn)|0,gr=gr+Math.imul(Lr,Wn)|0,pr=pr+Math.imul(Lr,rn)|0,or=or+Math.imul(Wr,po)|0,gr=gr+Math.imul(Wr,Ln)|0,gr=gr+Math.imul(qr,po)|0,pr=pr+Math.imul(qr,Ln)|0,or=or+Math.imul(Rr,uo)|0,gr=gr+Math.imul(Rr,pn)|0,gr=gr+Math.imul(Er,uo)|0,pr=pr+Math.imul(Er,pn)|0,or=or+Math.imul(Pr,go)|0,gr=gr+Math.imul(Pr,co)|0,gr=gr+Math.imul(Fr,go)|0,pr=pr+Math.imul(Fr,co)|0;var jo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(jo>>>26)|0,jo&=67108863,or=Math.imul(Dr,bo),gr=Math.imul(Dr,Jn),gr=gr+Math.imul(Nr,bo)|0,pr=Math.imul(Nr,Jn),or=or+Math.imul(xo,Do)|0,gr=gr+Math.imul(xo,eo)|0,gr=gr+Math.imul(Ir,Do)|0,pr=pr+Math.imul(Ir,eo)|0,or=or+Math.imul(lo,Io)|0,gr=gr+Math.imul(lo,_i)|0,gr=gr+Math.imul(sn,Io)|0,pr=pr+Math.imul(sn,_i)|0,or=or+Math.imul(Qn,Oo)|0,gr=gr+Math.imul(Qn,Hr)|0,gr=gr+Math.imul(nn,Oo)|0,pr=pr+Math.imul(nn,Hr)|0,or=or+Math.imul(Xr,Wn)|0,gr=gr+Math.imul(Xr,rn)|0,gr=gr+Math.imul(zr,Wn)|0,pr=pr+Math.imul(zr,rn)|0,or=or+Math.imul(Ur,po)|0,gr=gr+Math.imul(Ur,Ln)|0,gr=gr+Math.imul(Lr,po)|0,pr=pr+Math.imul(Lr,Ln)|0,or=or+Math.imul(Wr,uo)|0,gr=gr+Math.imul(Wr,pn)|0,gr=gr+Math.imul(qr,uo)|0,pr=pr+Math.imul(qr,pn)|0,or=or+Math.imul(Rr,go)|0,gr=gr+Math.imul(Rr,co)|0,gr=gr+Math.imul(Er,go)|0,pr=pr+Math.imul(Er,co)|0;var Uo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,or=Math.imul(Dr,Do),gr=Math.imul(Dr,eo),gr=gr+Math.imul(Nr,Do)|0,pr=Math.imul(Nr,eo),or=or+Math.imul(xo,Io)|0,gr=gr+Math.imul(xo,_i)|0,gr=gr+Math.imul(Ir,Io)|0,pr=pr+Math.imul(Ir,_i)|0,or=or+Math.imul(lo,Oo)|0,gr=gr+Math.imul(lo,Hr)|0,gr=gr+Math.imul(sn,Oo)|0,pr=pr+Math.imul(sn,Hr)|0,or=or+Math.imul(Qn,Wn)|0,gr=gr+Math.imul(Qn,rn)|0,gr=gr+Math.imul(nn,Wn)|0,pr=pr+Math.imul(nn,rn)|0,or=or+Math.imul(Xr,po)|0,gr=gr+Math.imul(Xr,Ln)|0,gr=gr+Math.imul(zr,po)|0,pr=pr+Math.imul(zr,Ln)|0,or=or+Math.imul(Ur,uo)|0,gr=gr+Math.imul(Ur,pn)|0,gr=gr+Math.imul(Lr,uo)|0,pr=pr+Math.imul(Lr,pn)|0,or=or+Math.imul(Wr,go)|0,gr=gr+Math.imul(Wr,co)|0,gr=gr+Math.imul(qr,go)|0,pr=pr+Math.imul(qr,co)|0;var Vo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,or=Math.imul(Dr,Io),gr=Math.imul(Dr,_i),gr=gr+Math.imul(Nr,Io)|0,pr=Math.imul(Nr,_i),or=or+Math.imul(xo,Oo)|0,gr=gr+Math.imul(xo,Hr)|0,gr=gr+Math.imul(Ir,Oo)|0,pr=pr+Math.imul(Ir,Hr)|0,or=or+Math.imul(lo,Wn)|0,gr=gr+Math.imul(lo,rn)|0,gr=gr+Math.imul(sn,Wn)|0,pr=pr+Math.imul(sn,rn)|0,or=or+Math.imul(Qn,po)|0,gr=gr+Math.imul(Qn,Ln)|0,gr=gr+Math.imul(nn,po)|0,pr=pr+Math.imul(nn,Ln)|0,or=or+Math.imul(Xr,uo)|0,gr=gr+Math.imul(Xr,pn)|0,gr=gr+Math.imul(zr,uo)|0,pr=pr+Math.imul(zr,pn)|0,or=or+Math.imul(Ur,go)|0,gr=gr+Math.imul(Ur,co)|0,gr=gr+Math.imul(Lr,go)|0,pr=pr+Math.imul(Lr,co)|0;var $o=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+($o>>>26)|0,$o&=67108863,or=Math.imul(Dr,Oo),gr=Math.imul(Dr,Hr),gr=gr+Math.imul(Nr,Oo)|0,pr=Math.imul(Nr,Hr),or=or+Math.imul(xo,Wn)|0,gr=gr+Math.imul(xo,rn)|0,gr=gr+Math.imul(Ir,Wn)|0,pr=pr+Math.imul(Ir,rn)|0,or=or+Math.imul(lo,po)|0,gr=gr+Math.imul(lo,Ln)|0,gr=gr+Math.imul(sn,po)|0,pr=pr+Math.imul(sn,Ln)|0,or=or+Math.imul(Qn,uo)|0,gr=gr+Math.imul(Qn,pn)|0,gr=gr+Math.imul(nn,uo)|0,pr=pr+Math.imul(nn,pn)|0,or=or+Math.imul(Xr,go)|0,gr=gr+Math.imul(Xr,co)|0,gr=gr+Math.imul(zr,go)|0,pr=pr+Math.imul(zr,co)|0;var ko=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(ko>>>26)|0,ko&=67108863,or=Math.imul(Dr,Wn),gr=Math.imul(Dr,rn),gr=gr+Math.imul(Nr,Wn)|0,pr=Math.imul(Nr,rn),or=or+Math.imul(xo,po)|0,gr=gr+Math.imul(xo,Ln)|0,gr=gr+Math.imul(Ir,po)|0,pr=pr+Math.imul(Ir,Ln)|0,or=or+Math.imul(lo,uo)|0,gr=gr+Math.imul(lo,pn)|0,gr=gr+Math.imul(sn,uo)|0,pr=pr+Math.imul(sn,pn)|0,or=or+Math.imul(Qn,go)|0,gr=gr+Math.imul(Qn,co)|0,gr=gr+Math.imul(nn,go)|0,pr=pr+Math.imul(nn,co)|0;var Lo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,or=Math.imul(Dr,po),gr=Math.imul(Dr,Ln),gr=gr+Math.imul(Nr,po)|0,pr=Math.imul(Nr,Ln),or=or+Math.imul(xo,uo)|0,gr=gr+Math.imul(xo,pn)|0,gr=gr+Math.imul(Ir,uo)|0,pr=pr+Math.imul(Ir,pn)|0,or=or+Math.imul(lo,go)|0,gr=gr+Math.imul(lo,co)|0,gr=gr+Math.imul(sn,go)|0,pr=pr+Math.imul(sn,co)|0;var Ho=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,or=Math.imul(Dr,uo),gr=Math.imul(Dr,pn),gr=gr+Math.imul(Nr,uo)|0,pr=Math.imul(Nr,pn),or=or+Math.imul(xo,go)|0,gr=gr+Math.imul(xo,co)|0,gr=gr+Math.imul(Ir,go)|0,pr=pr+Math.imul(Ir,co)|0;var Xo=(Lt+or|0)+((gr&8191)<<13)|0;Lt=(pr+(gr>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,or=Math.imul(Dr,go),gr=Math.imul(Dr,co),gr=gr+Math.imul(Nr,go)|0,pr=Math.imul(Nr,co);var Kr=(Lt+or|0)+((gr&8191)<<13)|0;return Lt=(pr+(gr>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,nr[0]=Eo,nr[1]=To,nr[2]=Co,nr[3]=Mo,nr[4]=No,nr[5]=zo,nr[6]=Bo,nr[7]=Po,nr[8]=Wo,nr[9]=Fo,nr[10]=jo,nr[11]=Uo,nr[12]=Vo,nr[13]=$o,nr[14]=ko,nr[15]=Lo,nr[16]=Ho,nr[17]=Xo,nr[18]=Kr,Lt!==0&&(nr[19]=Lt,rr.length++),rr};Math.imul||(dr=fr);function hr(Vt,er,Yt){Yt.negative=er.negative^Vt.negative,Yt.length=Vt.length+er.length;for(var rr=0,ar=0,lr=0;lr<Yt.length-1;lr++){var nr=ar;ar=0;for(var Lt=rr&67108863,or=Math.min(lr,er.length-1),gr=Math.max(0,lr-Vt.length+1);gr<=or;gr++){var pr=lr-gr,_r=Vt.words[pr]|0,kr=er.words[gr]|0,Mr=_r*kr,$r=Mr&67108863;nr=nr+(Mr/67108864|0)|0,$r=$r+Lt|0,Lt=$r&67108863,nr=nr+($r>>>26)|0,ar+=nr>>>26,nr&=67108863}Yt.words[lr]=Lt,rr=nr,nr=ar}return rr!==0?Yt.words[lr]=rr:Yt.length--,Yt._strip()}function vr(Vt,er,Yt){return hr(Vt,er,Yt)}mt.prototype.mulTo=function(er,Yt){var rr,ar=this.length+er.length;return this.length===10&&er.length===10?rr=dr(this,er,Yt):ar<63?rr=fr(this,er,Yt):ar<1024?rr=hr(this,er,Yt):rr=vr(this,er,Yt),rr},mt.prototype.mul=function(er){var Yt=new mt(null);return Yt.words=new Array(this.length+er.length),this.mulTo(er,Yt)},mt.prototype.mulf=function(er){var Yt=new mt(null);return Yt.words=new Array(this.length+er.length),vr(this,er,Yt)},mt.prototype.imul=function(er){return this.clone().mulTo(er,this)},mt.prototype.imuln=function(er){var Yt=er<0;Yt&&(er=-er),nt(typeof er=="number"),nt(er<67108864);for(var rr=0,ar=0;ar<this.length;ar++){var lr=(this.words[ar]|0)*er,nr=(lr&67108863)+(rr&67108863);rr>>=26,rr+=lr/67108864|0,rr+=nr>>>26,this.words[ar]=nr&67108863}return rr!==0&&(this.words[ar]=rr,this.length++),Yt?this.ineg():this},mt.prototype.muln=function(er){return this.clone().imuln(er)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(er){var Yt=ur(er);if(Yt.length===0)return new mt(1);for(var rr=this,ar=0;ar<Yt.length&&Yt[ar]===0;ar++,rr=rr.sqr());if(++ar<Yt.length)for(var lr=rr.sqr();ar<Yt.length;ar++,lr=lr.sqr())Yt[ar]!==0&&(rr=rr.mul(lr));return rr},mt.prototype.iushln=function(er){nt(typeof er=="number"&&er>=0);var Yt=er%26,rr=(er-Yt)/26,ar=67108863>>>26-Yt<<26-Yt,lr;if(Yt!==0){var nr=0;for(lr=0;lr<this.length;lr++){var Lt=this.words[lr]&ar,or=(this.words[lr]|0)-Lt<<Yt;this.words[lr]=or|nr,nr=Lt>>>26-Yt}nr&&(this.words[lr]=nr,this.length++)}if(rr!==0){for(lr=this.length-1;lr>=0;lr--)this.words[lr+rr]=this.words[lr];for(lr=0;lr<rr;lr++)this.words[lr]=0;this.length+=rr}return this._strip()},mt.prototype.ishln=function(er){return nt(this.negative===0),this.iushln(er)},mt.prototype.iushrn=function(er,Yt,rr){nt(typeof er=="number"&&er>=0);var ar;Yt?ar=(Yt-Yt%26)/26:ar=0;var lr=er%26,nr=Math.min((er-lr)/26,this.length),Lt=67108863^67108863>>>lr<<lr,or=rr;if(ar-=nr,ar=Math.max(0,ar),or){for(var gr=0;gr<nr;gr++)or.words[gr]=this.words[gr];or.length=nr}if(nr!==0)if(this.length>nr)for(this.length-=nr,gr=0;gr<this.length;gr++)this.words[gr]=this.words[gr+nr];else this.words[0]=0,this.length=1;var pr=0;for(gr=this.length-1;gr>=0&&(pr!==0||gr>=ar);gr--){var _r=this.words[gr]|0;this.words[gr]=pr<<26-lr|_r>>>lr,pr=_r&Lt}return or&&pr!==0&&(or.words[or.length++]=pr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},mt.prototype.ishrn=function(er,Yt,rr){return nt(this.negative===0),this.iushrn(er,Yt,rr)},mt.prototype.shln=function(er){return this.clone().ishln(er)},mt.prototype.ushln=function(er){return this.clone().iushln(er)},mt.prototype.shrn=function(er){return this.clone().ishrn(er)},mt.prototype.ushrn=function(er){return this.clone().iushrn(er)},mt.prototype.testn=function(er){nt(typeof er=="number"&&er>=0);var Yt=er%26,rr=(er-Yt)/26,ar=1<<Yt;if(this.length<=rr)return!1;var lr=this.words[rr];return!!(lr&ar)},mt.prototype.imaskn=function(er){nt(typeof er=="number"&&er>=0);var Yt=er%26,rr=(er-Yt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=rr)return this;if(Yt!==0&&rr++,this.length=Math.min(rr,this.length),Yt!==0){var ar=67108863^67108863>>>Yt<<Yt;this.words[this.length-1]&=ar}return this._strip()},mt.prototype.maskn=function(er){return this.clone().imaskn(er)},mt.prototype.iaddn=function(er){return nt(typeof er=="number"),nt(er<67108864),er<0?this.isubn(-er):this.negative!==0?this.length===1&&(this.words[0]|0)<=er?(this.words[0]=er-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(er),this.negative=1,this):this._iaddn(er)},mt.prototype._iaddn=function(er){this.words[0]+=er;for(var Yt=0;Yt<this.length&&this.words[Yt]>=67108864;Yt++)this.words[Yt]-=67108864,Yt===this.length-1?this.words[Yt+1]=1:this.words[Yt+1]++;return this.length=Math.max(this.length,Yt+1),this},mt.prototype.isubn=function(er){if(nt(typeof er=="number"),nt(er<67108864),er<0)return this.iaddn(-er);if(this.negative!==0)return this.negative=0,this.iaddn(er),this.negative=1,this;if(this.words[0]-=er,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Yt=0;Yt<this.length&&this.words[Yt]<0;Yt++)this.words[Yt]+=67108864,this.words[Yt+1]-=1;return this._strip()},mt.prototype.addn=function(er){return this.clone().iaddn(er)},mt.prototype.subn=function(er){return this.clone().isubn(er)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(er,Yt,rr){var ar=er.length+rr,lr;this._expand(ar);var nr,Lt=0;for(lr=0;lr<er.length;lr++){nr=(this.words[lr+rr]|0)+Lt;var or=(er.words[lr]|0)*Yt;nr-=or&67108863,Lt=(nr>>26)-(or/67108864|0),this.words[lr+rr]=nr&67108863}for(;lr<this.length-rr;lr++)nr=(this.words[lr+rr]|0)+Lt,Lt=nr>>26,this.words[lr+rr]=nr&67108863;if(Lt===0)return this._strip();for(nt(Lt===-1),Lt=0,lr=0;lr<this.length;lr++)nr=-(this.words[lr]|0)+Lt,Lt=nr>>26,this.words[lr]=nr&67108863;return this.negative=1,this._strip()},mt.prototype._wordDiv=function(er,Yt){var rr=this.length-er.length,ar=this.clone(),lr=er,nr=lr.words[lr.length-1]|0,Lt=this._countBits(nr);rr=26-Lt,rr!==0&&(lr=lr.ushln(rr),ar.iushln(rr),nr=lr.words[lr.length-1]|0);var or=ar.length-lr.length,gr;if(Yt!=="mod"){gr=new mt(null),gr.length=or+1,gr.words=new Array(gr.length);for(var pr=0;pr<gr.length;pr++)gr.words[pr]=0}var _r=ar.clone()._ishlnsubmul(lr,1,or);_r.negative===0&&(ar=_r,gr&&(gr.words[or]=1));for(var kr=or-1;kr>=0;kr--){var Mr=(ar.words[lr.length+kr]|0)*67108864+(ar.words[lr.length+kr-1]|0);for(Mr=Math.min(Mr/nr|0,67108863),ar._ishlnsubmul(lr,Mr,kr);ar.negative!==0;)Mr--,ar.negative=0,ar._ishlnsubmul(lr,1,kr),ar.isZero()||(ar.negative^=1);gr&&(gr.words[kr]=Mr)}return gr&&gr._strip(),ar._strip(),Yt!=="div"&&rr!==0&&ar.iushrn(rr),{div:gr||null,mod:ar}},mt.prototype.divmod=function(er,Yt,rr){if(nt(!er.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var ar,lr,nr;return this.negative!==0&&er.negative===0?(nr=this.neg().divmod(er,Yt),Yt!=="mod"&&(ar=nr.div.neg()),Yt!=="div"&&(lr=nr.mod.neg(),rr&&lr.negative!==0&&lr.iadd(er)),{div:ar,mod:lr}):this.negative===0&&er.negative!==0?(nr=this.divmod(er.neg(),Yt),Yt!=="mod"&&(ar=nr.div.neg()),{div:ar,mod:nr.mod}):this.negative&er.negative?(nr=this.neg().divmod(er.neg(),Yt),Yt!=="div"&&(lr=nr.mod.neg(),rr&&lr.negative!==0&&lr.isub(er)),{div:nr.div,mod:lr}):er.length>this.length||this.cmp(er)<0?{div:new mt(0),mod:this}:er.length===1?Yt==="div"?{div:this.divn(er.words[0]),mod:null}:Yt==="mod"?{div:null,mod:new mt(this.modrn(er.words[0]))}:{div:this.divn(er.words[0]),mod:new mt(this.modrn(er.words[0]))}:this._wordDiv(er,Yt)},mt.prototype.div=function(er){return this.divmod(er,"div",!1).div},mt.prototype.mod=function(er){return this.divmod(er,"mod",!1).mod},mt.prototype.umod=function(er){return this.divmod(er,"mod",!0).mod},mt.prototype.divRound=function(er){var Yt=this.divmod(er);if(Yt.mod.isZero())return Yt.div;var rr=Yt.div.negative!==0?Yt.mod.isub(er):Yt.mod,ar=er.ushrn(1),lr=er.andln(1),nr=rr.cmp(ar);return nr<0||lr===1&&nr===0?Yt.div:Yt.div.negative!==0?Yt.div.isubn(1):Yt.div.iaddn(1)},mt.prototype.modrn=function(er){var Yt=er<0;Yt&&(er=-er),nt(er<=67108863);for(var rr=(1<<26)%er,ar=0,lr=this.length-1;lr>=0;lr--)ar=(rr*ar+(this.words[lr]|0))%er;return Yt?-ar:ar},mt.prototype.modn=function(er){return this.modrn(er)},mt.prototype.idivn=function(er){var Yt=er<0;Yt&&(er=-er),nt(er<=67108863);for(var rr=0,ar=this.length-1;ar>=0;ar--){var lr=(this.words[ar]|0)+rr*67108864;this.words[ar]=lr/er|0,rr=lr%er}return this._strip(),Yt?this.ineg():this},mt.prototype.divn=function(er){return this.clone().idivn(er)},mt.prototype.egcd=function(er){nt(er.negative===0),nt(!er.isZero());var Yt=this,rr=er.clone();Yt.negative!==0?Yt=Yt.umod(er):Yt=Yt.clone();for(var ar=new mt(1),lr=new mt(0),nr=new mt(0),Lt=new mt(1),or=0;Yt.isEven()&&rr.isEven();)Yt.iushrn(1),rr.iushrn(1),++or;for(var gr=rr.clone(),pr=Yt.clone();!Yt.isZero();){for(var _r=0,kr=1;!(Yt.words[0]&kr)&&_r<26;++_r,kr<<=1);if(_r>0)for(Yt.iushrn(_r);_r-- >0;)(ar.isOdd()||lr.isOdd())&&(ar.iadd(gr),lr.isub(pr)),ar.iushrn(1),lr.iushrn(1);for(var Mr=0,$r=1;!(rr.words[0]&$r)&&Mr<26;++Mr,$r<<=1);if(Mr>0)for(rr.iushrn(Mr);Mr-- >0;)(nr.isOdd()||Lt.isOdd())&&(nr.iadd(gr),Lt.isub(pr)),nr.iushrn(1),Lt.iushrn(1);Yt.cmp(rr)>=0?(Yt.isub(rr),ar.isub(nr),lr.isub(Lt)):(rr.isub(Yt),nr.isub(ar),Lt.isub(lr))}return{a:nr,b:Lt,gcd:rr.iushln(or)}},mt.prototype._invmp=function(er){nt(er.negative===0),nt(!er.isZero());var Yt=this,rr=er.clone();Yt.negative!==0?Yt=Yt.umod(er):Yt=Yt.clone();for(var ar=new mt(1),lr=new mt(0),nr=rr.clone();Yt.cmpn(1)>0&&rr.cmpn(1)>0;){for(var Lt=0,or=1;!(Yt.words[0]&or)&&Lt<26;++Lt,or<<=1);if(Lt>0)for(Yt.iushrn(Lt);Lt-- >0;)ar.isOdd()&&ar.iadd(nr),ar.iushrn(1);for(var gr=0,pr=1;!(rr.words[0]&pr)&&gr<26;++gr,pr<<=1);if(gr>0)for(rr.iushrn(gr);gr-- >0;)lr.isOdd()&&lr.iadd(nr),lr.iushrn(1);Yt.cmp(rr)>=0?(Yt.isub(rr),ar.isub(lr)):(rr.isub(Yt),lr.isub(ar))}var _r;return Yt.cmpn(1)===0?_r=ar:_r=lr,_r.cmpn(0)<0&&_r.iadd(er),_r},mt.prototype.gcd=function(er){if(this.isZero())return er.abs();if(er.isZero())return this.abs();var Yt=this.clone(),rr=er.clone();Yt.negative=0,rr.negative=0;for(var ar=0;Yt.isEven()&&rr.isEven();ar++)Yt.iushrn(1),rr.iushrn(1);do{for(;Yt.isEven();)Yt.iushrn(1);for(;rr.isEven();)rr.iushrn(1);var lr=Yt.cmp(rr);if(lr<0){var nr=Yt;Yt=rr,rr=nr}else if(lr===0||rr.cmpn(1)===0)break;Yt.isub(rr)}while(!0);return rr.iushln(ar)},mt.prototype.invm=function(er){return this.egcd(er).a.umod(er)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(er){return this.words[0]&er},mt.prototype.bincn=function(er){nt(typeof er=="number");var Yt=er%26,rr=(er-Yt)/26,ar=1<<Yt;if(this.length<=rr)return this._expand(rr+1),this.words[rr]|=ar,this;for(var lr=ar,nr=rr;lr!==0&&nr<this.length;nr++){var Lt=this.words[nr]|0;Lt+=lr,lr=Lt>>>26,Lt&=67108863,this.words[nr]=Lt}return lr!==0&&(this.words[nr]=lr,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(er){var Yt=er<0;if(this.negative!==0&&!Yt)return-1;if(this.negative===0&&Yt)return 1;this._strip();var rr;if(this.length>1)rr=1;else{Yt&&(er=-er),nt(er<=67108863,"Number is too big");var ar=this.words[0]|0;rr=ar===er?0:ar<er?-1:1}return this.negative!==0?-rr|0:rr},mt.prototype.cmp=function(er){if(this.negative!==0&&er.negative===0)return-1;if(this.negative===0&&er.negative!==0)return 1;var Yt=this.ucmp(er);return this.negative!==0?-Yt|0:Yt},mt.prototype.ucmp=function(er){if(this.length>er.length)return 1;if(this.length<er.length)return-1;for(var Yt=0,rr=this.length-1;rr>=0;rr--){var ar=this.words[rr]|0,lr=er.words[rr]|0;if(ar!==lr){ar<lr?Yt=-1:ar>lr&&(Yt=1);break}}return Yt},mt.prototype.gtn=function(er){return this.cmpn(er)===1},mt.prototype.gt=function(er){return this.cmp(er)===1},mt.prototype.gten=function(er){return this.cmpn(er)>=0},mt.prototype.gte=function(er){return this.cmp(er)>=0},mt.prototype.ltn=function(er){return this.cmpn(er)===-1},mt.prototype.lt=function(er){return this.cmp(er)===-1},mt.prototype.lten=function(er){return this.cmpn(er)<=0},mt.prototype.lte=function(er){return this.cmp(er)<=0},mt.prototype.eqn=function(er){return this.cmpn(er)===0},mt.prototype.eq=function(er){return this.cmp(er)===0},mt.red=function(er){return new cr(er)},mt.prototype.toRed=function(er){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),er.convertTo(this)._forceRed(er)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(er){return this.red=er,this},mt.prototype.forceRed=function(er){return nt(!this.red,"Already a number in reduction context"),this._forceRed(er)},mt.prototype.redAdd=function(er){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,er)},mt.prototype.redIAdd=function(er){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,er)},mt.prototype.redSub=function(er){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,er)},mt.prototype.redISub=function(er){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,er)},mt.prototype.redShl=function(er){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,er)},mt.prototype.redMul=function(er){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,er),this.red.mul(this,er)},mt.prototype.redIMul=function(er){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,er),this.red.imul(this,er)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(er){return nt(this.red&&!er.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,er)};var yr={k256:null,p224:null,p192:null,p25519:null};function xr(Vt,er){this.name=Vt,this.p=new mt(er,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xr.prototype._tmp=function(){var er=new mt(null);return er.words=new Array(Math.ceil(this.n/13)),er},xr.prototype.ireduce=function(er){var Yt=er,rr;do this.split(Yt,this.tmp),Yt=this.imulK(Yt),Yt=Yt.iadd(this.tmp),rr=Yt.bitLength();while(rr>this.n);var ar=rr<this.n?-1:Yt.ucmp(this.p);return ar===0?(Yt.words[0]=0,Yt.length=1):ar>0?Yt.isub(this.p):Yt.strip!==void 0?Yt.strip():Yt._strip(),Yt},xr.prototype.split=function(er,Yt){er.iushrn(this.n,0,Yt)},xr.prototype.imulK=function(er){return er.imul(this.k)};function br(){xr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(br,xr),br.prototype.split=function(er,Yt){for(var rr=4194303,ar=Math.min(er.length,9),lr=0;lr<ar;lr++)Yt.words[lr]=er.words[lr];if(Yt.length=ar,er.length<=9){er.words[0]=0,er.length=1;return}var nr=er.words[9];for(Yt.words[Yt.length++]=nr&rr,lr=10;lr<er.length;lr++){var Lt=er.words[lr]|0;er.words[lr-10]=(Lt&rr)<<4|nr>>>22,nr=Lt}nr>>>=22,er.words[lr-10]=nr,nr===0&&er.length>10?er.length-=10:er.length-=9},br.prototype.imulK=function(er){er.words[er.length]=0,er.words[er.length+1]=0,er.length+=2;for(var Yt=0,rr=0;rr<er.length;rr++){var ar=er.words[rr]|0;Yt+=ar*977,er.words[rr]=Yt&67108863,Yt=ar*64+(Yt/67108864|0)}return er.words[er.length-1]===0&&(er.length--,er.words[er.length-1]===0&&er.length--),er};function wr(){xr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(wr,xr);function Sr(){xr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(Sr,xr);function Cr(){xr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(Cr,xr),Cr.prototype.imulK=function(er){for(var Yt=0,rr=0;rr<er.length;rr++){var ar=(er.words[rr]|0)*19+Yt,lr=ar&67108863;ar>>>=26,er.words[rr]=lr,Yt=ar}return Yt!==0&&(er.words[er.length++]=Yt),er},mt._prime=function(er){if(yr[er])return yr[er];var Yt;if(er==="k256")Yt=new br;else if(er==="p224")Yt=new wr;else if(er==="p192")Yt=new Sr;else if(er==="p25519")Yt=new Cr;else throw new Error("Unknown prime "+er);return yr[er]=Yt,Yt};function cr(Vt){if(typeof Vt=="string"){var er=mt._prime(Vt);this.m=er.p,this.prime=er}else nt(Vt.gtn(1),"modulus must be greater than 1"),this.m=Vt,this.prime=null}cr.prototype._verify1=function(er){nt(er.negative===0,"red works only with positives"),nt(er.red,"red works only with red numbers")},cr.prototype._verify2=function(er,Yt){nt((er.negative|Yt.negative)===0,"red works only with positives"),nt(er.red&&er.red===Yt.red,"red works only with red numbers")},cr.prototype.imod=function(er){return this.prime?this.prime.ireduce(er)._forceRed(this):(Ft(er,er.umod(this.m)._forceRed(this)),er)},cr.prototype.neg=function(er){return er.isZero()?er.clone():this.m.sub(er)._forceRed(this)},cr.prototype.add=function(er,Yt){this._verify2(er,Yt);var rr=er.add(Yt);return rr.cmp(this.m)>=0&&rr.isub(this.m),rr._forceRed(this)},cr.prototype.iadd=function(er,Yt){this._verify2(er,Yt);var rr=er.iadd(Yt);return rr.cmp(this.m)>=0&&rr.isub(this.m),rr},cr.prototype.sub=function(er,Yt){this._verify2(er,Yt);var rr=er.sub(Yt);return rr.cmpn(0)<0&&rr.iadd(this.m),rr._forceRed(this)},cr.prototype.isub=function(er,Yt){this._verify2(er,Yt);var rr=er.isub(Yt);return rr.cmpn(0)<0&&rr.iadd(this.m),rr},cr.prototype.shl=function(er,Yt){return this._verify1(er),this.imod(er.ushln(Yt))},cr.prototype.imul=function(er,Yt){return this._verify2(er,Yt),this.imod(er.imul(Yt))},cr.prototype.mul=function(er,Yt){return this._verify2(er,Yt),this.imod(er.mul(Yt))},cr.prototype.isqr=function(er){return this.imul(er,er.clone())},cr.prototype.sqr=function(er){return this.mul(er,er)},cr.prototype.sqrt=function(er){if(er.isZero())return er.clone();var Yt=this.m.andln(3);if(nt(Yt%2===1),Yt===3){var rr=this.m.add(new mt(1)).iushrn(2);return this.pow(er,rr)}for(var ar=this.m.subn(1),lr=0;!ar.isZero()&&ar.andln(1)===0;)lr++,ar.iushrn(1);nt(!ar.isZero());var nr=new mt(1).toRed(this),Lt=nr.redNeg(),or=this.m.subn(1).iushrn(1),gr=this.m.bitLength();for(gr=new mt(2*gr*gr).toRed(this);this.pow(gr,or).cmp(Lt)!==0;)gr.redIAdd(Lt);for(var pr=this.pow(gr,ar),_r=this.pow(er,ar.addn(1).iushrn(1)),kr=this.pow(er,ar),Mr=lr;kr.cmp(nr)!==0;){for(var $r=kr,Pr=0;$r.cmp(nr)!==0;Pr++)$r=$r.redSqr();nt(Pr<Mr);var Fr=this.pow(pr,new mt(1).iushln(Mr-Pr-1));_r=_r.redMul(Fr),pr=Fr.redSqr(),kr=kr.redMul(pr),Mr=Pr}return _r},cr.prototype.invm=function(er){var Yt=er._invmp(this.m);return Yt.negative!==0?(Yt.negative=0,this.imod(Yt).redNeg()):this.imod(Yt)},cr.prototype.pow=function(er,Yt){if(Yt.isZero())return new mt(1).toRed(this);if(Yt.cmpn(1)===0)return er.clone();var rr=4,ar=new Array(1<<rr);ar[0]=new mt(1).toRed(this),ar[1]=er;for(var lr=2;lr<ar.length;lr++)ar[lr]=this.mul(ar[lr-1],er);var nr=ar[0],Lt=0,or=0,gr=Yt.bitLength()%26;for(gr===0&&(gr=26),lr=Yt.length-1;lr>=0;lr--){for(var pr=Yt.words[lr],_r=gr-1;_r>=0;_r--){var kr=pr>>_r&1;if(nr!==ar[0]&&(nr=this.sqr(nr)),kr===0&&Lt===0){or=0;continue}Lt<<=1,Lt|=kr,or++,!(or!==rr&&(lr!==0||_r!==0))&&(nr=this.mul(nr,ar[Lt]),or=0,Lt=0)}gr=26}return nr},cr.prototype.convertTo=function(er){var Yt=er.umod(this.m);return Yt===er?Yt.clone():Yt},cr.prototype.convertFrom=function(er){var Yt=er.clone();return Yt.red=null,Yt},mt.mont=function(er){return new Nt(er)};function Nt(Vt){cr.call(this,Vt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Nt,cr),Nt.prototype.convertTo=function(er){return this.imod(er.ushln(this.shift))},Nt.prototype.convertFrom=function(er){var Yt=this.imod(er.mul(this.rinv));return Yt.red=null,Yt},Nt.prototype.imul=function(er,Yt){if(er.isZero()||Yt.isZero())return er.words[0]=0,er.length=1,er;var rr=er.imul(Yt),ar=rr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=rr.isub(ar).iushrn(this.shift),nr=lr;return lr.cmp(this.m)>=0?nr=lr.isub(this.m):lr.cmpn(0)<0&&(nr=lr.iadd(this.m)),nr._forceRed(this)},Nt.prototype.mul=function(er,Yt){if(er.isZero()||Yt.isZero())return new mt(0)._forceRed(this);var rr=er.mul(Yt),ar=rr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lr=rr.isub(ar).iushrn(this.shift),nr=lr;return lr.cmp(this.m)>=0?nr=lr.isub(this.m):lr.cmpn(0)<0&&(nr=lr.iadd(this.m)),nr._forceRed(this)},Nt.prototype.invm=function(er){var Yt=this.imod(er._invmp(this.m).mul(this.r2));return Yt._forceRed(this)}})(a,commonjsGlobal$1)})(bn$7);var bnExports=bn$7.exports;const BN=getDefaultExportFromCjs$2(bnExports);/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT$1=9e15,MAX_DIGITS$1=1e9,NUMERALS$1="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI$1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT$1,crypto:!1},inexact$1,quadrant$1,external$1=!0,decimalError$1="[DecimalError] ",invalidArgument$1=decimalError$1+"Invalid argument: ",precisionLimitExceeded$1=decimalError$1+"Precision limit exceeded",cryptoUnavailable$1=decimalError$1+"crypto unavailable",tag$1="[object Decimal]",mathfloor$1=Math.floor,mathpow$1=Math.pow,isBinary$1=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex$1=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal$1=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal$1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE$1=1e7,LOG_BASE$1=7,MAX_SAFE_INTEGER$3=9007199254740991,LN10_PRECISION$1=LN10$1.length-1,PI_PRECISION$1=PI$1.length-1,P$3={toStringTag:tag$1};P$3.absoluteValue=P$3.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),finalise$1(a)};P$3.ceil=function(){return finalise$1(new this.constructor(this),this.e+1,2)};P$3.clampedTo=P$3.clamp=function(a,s){var et,nt=this,at=nt.constructor;if(a=new at(a),s=new at(s),!a.s||!s.s)return new at(NaN);if(a.gt(s))throw Error(invalidArgument$1+s);return et=nt.cmp(a),et<0?a:nt.cmp(s)>0?s:new at(nt)};P$3.comparedTo=P$3.cmp=function(a){var s,et,nt,at,mt=this,wt=mt.d,$t=(a=new mt.constructor(a)).d,Ct=mt.s,Dt=a.s;if(!wt||!$t)return!Ct||!Dt?NaN:Ct!==Dt?Ct:wt===$t?0:!wt^Ct<0?1:-1;if(!wt[0]||!$t[0])return wt[0]?Ct:$t[0]?-Dt:0;if(Ct!==Dt)return Ct;if(mt.e!==a.e)return mt.e>a.e^Ct<0?1:-1;for(nt=wt.length,at=$t.length,s=0,et=nt<at?nt:at;s<et;++s)if(wt[s]!==$t[s])return wt[s]>$t[s]^Ct<0?1:-1;return nt===at?0:nt>at^Ct<0?1:-1};P$3.cosine=P$3.cos=function(){var a,s,et=this,nt=et.constructor;return et.d?et.d[0]?(a=nt.precision,s=nt.rounding,nt.precision=a+Math.max(et.e,et.sd())+LOG_BASE$1,nt.rounding=1,et=cosine$1(nt,toLessThanHalfPi$1(nt,et)),nt.precision=a,nt.rounding=s,finalise$1(quadrant$1==2||quadrant$1==3?et.neg():et,a,s,!0)):new nt(1):new nt(NaN)};P$3.cubeRoot=P$3.cbrt=function(){var a,s,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor;if(!Ft.isFinite()||Ft.isZero())return new jt(Ft);for(external$1=!1,mt=Ft.s*mathpow$1(Ft.s*Ft,1/3),!mt||Math.abs(mt)==1/0?(et=digitsToString$1(Ft.d),a=Ft.e,(mt=(a-et.length+1)%3)&&(et+=mt==1||mt==-2?"0":"00"),mt=mathpow$1(et,1/3),a=mathfloor$1((a+1)/3)-(a%3==(a<0?-1:2)),mt==1/0?et="5e"+a:(et=mt.toExponential(),et=et.slice(0,et.indexOf("e")+1)+a),nt=new jt(et),nt.s=Ft.s):nt=new jt(mt.toString()),wt=(a=jt.precision)+3;;)if($t=nt,Ct=$t.times($t).times($t),Dt=Ct.plus(Ft),nt=divide$2(Dt.plus(Ft).times($t),Dt.plus(Ct),wt+2,1),digitsToString$1($t.d).slice(0,wt)===(et=digitsToString$1(nt.d)).slice(0,wt))if(et=et.slice(wt-3,wt+1),et=="9999"||!at&&et=="4999"){if(!at&&(finalise$1($t,a+1,0),$t.times($t).times($t).eq(Ft))){nt=$t;break}wt+=4,at=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise$1(nt,a+1,1),s=!nt.times(nt).times(nt).eq(Ft));break}return external$1=!0,finalise$1(nt,a,jt.rounding,s)};P$3.decimalPlaces=P$3.dp=function(){var a,s=this.d,et=NaN;if(s){if(a=s.length-1,et=(a-mathfloor$1(this.e/LOG_BASE$1))*LOG_BASE$1,a=s[a],a)for(;a%10==0;a/=10)et--;et<0&&(et=0)}return et};P$3.dividedBy=P$3.div=function(a){return divide$2(this,new this.constructor(a))};P$3.dividedToIntegerBy=P$3.divToInt=function(a){var s=this,et=s.constructor;return finalise$1(divide$2(s,new et(a),0,1,1),et.precision,et.rounding)};P$3.equals=P$3.eq=function(a){return this.cmp(a)===0};P$3.floor=function(){return finalise$1(new this.constructor(this),this.e+1,3)};P$3.greaterThan=P$3.gt=function(a){return this.cmp(a)>0};P$3.greaterThanOrEqualTo=P$3.gte=function(a){var s=this.cmp(a);return s==1||s===0};P$3.hyperbolicCosine=P$3.cosh=function(){var a,s,et,nt,at,mt=this,wt=mt.constructor,$t=new wt(1);if(!mt.isFinite())return new wt(mt.s?1/0:NaN);if(mt.isZero())return $t;et=wt.precision,nt=wt.rounding,wt.precision=et+Math.max(mt.e,mt.sd())+4,wt.rounding=1,at=mt.d.length,at<32?(a=Math.ceil(at/3),s=(1/tinyPow$1(4,a)).toString()):(a=16,s="2.3283064365386962890625e-10"),mt=taylorSeries$1(wt,1,mt.times(s),new wt(1),!0);for(var Ct,Dt=a,Ft=new wt(8);Dt--;)Ct=mt.times(mt),mt=$t.minus(Ct.times(Ft.minus(Ct.times(Ft))));return finalise$1(mt,wt.precision=et,wt.rounding=nt,!0)};P$3.hyperbolicSine=P$3.sinh=function(){var a,s,et,nt,at=this,mt=at.constructor;if(!at.isFinite()||at.isZero())return new mt(at);if(s=mt.precision,et=mt.rounding,mt.precision=s+Math.max(at.e,at.sd())+4,mt.rounding=1,nt=at.d.length,nt<3)at=taylorSeries$1(mt,2,at,at,!0);else{a=1.4*Math.sqrt(nt),a=a>16?16:a|0,at=at.times(1/tinyPow$1(5,a)),at=taylorSeries$1(mt,2,at,at,!0);for(var wt,$t=new mt(5),Ct=new mt(16),Dt=new mt(20);a--;)wt=at.times(at),at=at.times($t.plus(wt.times(Ct.times(wt).plus(Dt))))}return mt.precision=s,mt.rounding=et,finalise$1(at,s,et,!0)};P$3.hyperbolicTangent=P$3.tanh=function(){var a,s,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+7,nt.rounding=1,divide$2(et.sinh(),et.cosh(),nt.precision=a,nt.rounding=s)):new nt(et.s)};P$3.inverseCosine=P$3.acos=function(){var a=this,s=a.constructor,et=a.abs().cmp(1),nt=s.precision,at=s.rounding;return et!==-1?et===0?a.isNeg()?getPi$1(s,nt,at):new s(0):new s(NaN):a.isZero()?getPi$1(s,nt+4,at).times(.5):(s.precision=nt+6,s.rounding=1,a=new s(1).minus(a).div(a.plus(1)).sqrt().atan(),s.precision=nt,s.rounding=at,a.times(2))};P$3.inverseHyperbolicCosine=P$3.acosh=function(){var a,s,et=this,nt=et.constructor;return et.lte(1)?new nt(et.eq(1)?0:NaN):et.isFinite()?(a=nt.precision,s=nt.rounding,nt.precision=a+Math.max(Math.abs(et.e),et.sd())+4,nt.rounding=1,external$1=!1,et=et.times(et).minus(1).sqrt().plus(et),external$1=!0,nt.precision=a,nt.rounding=s,et.ln()):new nt(et)};P$3.inverseHyperbolicSine=P$3.asinh=function(){var a,s,et=this,nt=et.constructor;return!et.isFinite()||et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+2*Math.max(Math.abs(et.e),et.sd())+6,nt.rounding=1,external$1=!1,et=et.times(et).plus(1).sqrt().plus(et),external$1=!0,nt.precision=a,nt.rounding=s,et.ln())};P$3.inverseHyperbolicTangent=P$3.atanh=function(){var a,s,et,nt,at=this,mt=at.constructor;return at.isFinite()?at.e>=0?new mt(at.abs().eq(1)?at.s/0:at.isZero()?at:NaN):(a=mt.precision,s=mt.rounding,nt=at.sd(),Math.max(nt,a)<2*-at.e-1?finalise$1(new mt(at),a,s,!0):(mt.precision=et=nt-at.e,at=divide$2(at.plus(1),new mt(1).minus(at),et+a,1),mt.precision=a+4,mt.rounding=1,at=at.ln(),mt.precision=a,mt.rounding=s,at.times(.5))):new mt(NaN)};P$3.inverseSine=P$3.asin=function(){var a,s,et,nt,at=this,mt=at.constructor;return at.isZero()?new mt(at):(s=at.abs().cmp(1),et=mt.precision,nt=mt.rounding,s!==-1?s===0?(a=getPi$1(mt,et+4,nt).times(.5),a.s=at.s,a):new mt(NaN):(mt.precision=et+6,mt.rounding=1,at=at.div(new mt(1).minus(at.times(at)).sqrt().plus(1)).atan(),mt.precision=et,mt.rounding=nt,at.times(2)))};P$3.inverseTangent=P$3.atan=function(){var a,s,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Ut=Ft.rounding;if(Dt.isFinite()){if(Dt.isZero())return new Ft(Dt);if(Dt.abs().eq(1)&&jt+4<=PI_PRECISION$1)return wt=getPi$1(Ft,jt+4,Ut).times(.25),wt.s=Dt.s,wt}else{if(!Dt.s)return new Ft(NaN);if(jt+4<=PI_PRECISION$1)return wt=getPi$1(Ft,jt+4,Ut).times(.5),wt.s=Dt.s,wt}for(Ft.precision=$t=jt+10,Ft.rounding=1,et=Math.min(28,$t/LOG_BASE$1+2|0),a=et;a;--a)Dt=Dt.div(Dt.times(Dt).plus(1).sqrt().plus(1));for(external$1=!1,s=Math.ceil($t/LOG_BASE$1),nt=1,Ct=Dt.times(Dt),wt=new Ft(Dt),at=Dt;a!==-1;)if(at=at.times(Ct),mt=wt.minus(at.div(nt+=2)),at=at.times(Ct),wt=mt.plus(at.div(nt+=2)),wt.d[s]!==void 0)for(a=s;wt.d[a]===mt.d[a]&&a--;);return et&&(wt=wt.times(2<<et-1)),external$1=!0,finalise$1(wt,Ft.precision=jt,Ft.rounding=Ut,!0)};P$3.isFinite=function(){return!!this.d};P$3.isInteger=P$3.isInt=function(){return!!this.d&&mathfloor$1(this.e/LOG_BASE$1)>this.d.length-2};P$3.isNaN=function(){return!this.s};P$3.isNegative=P$3.isNeg=function(){return this.s<0};P$3.isPositive=P$3.isPos=function(){return this.s>0};P$3.isZero=function(){return!!this.d&&this.d[0]===0};P$3.lessThan=P$3.lt=function(a){return this.cmp(a)<0};P$3.lessThanOrEqualTo=P$3.lte=function(a){return this.cmp(a)<1};P$3.logarithm=P$3.log=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Ut=Ft.rounding,tr=5;if(a==null)a=new Ft(10),s=!0;else{if(a=new Ft(a),et=a.d,a.s<0||!et||!et[0]||a.eq(1))return new Ft(NaN);s=a.eq(10)}if(et=Dt.d,Dt.s<0||!et||!et[0]||Dt.eq(1))return new Ft(et&&!et[0]?-1/0:Dt.s!=1?NaN:et?0:1/0);if(s)if(et.length>1)mt=!0;else{for(at=et[0];at%10===0;)at/=10;mt=at!==1}if(external$1=!1,$t=jt+tr,wt=naturalLogarithm$1(Dt,$t),nt=s?getLn10$1(Ft,$t+10):naturalLogarithm$1(a,$t),Ct=divide$2(wt,nt,$t,1),checkRoundingDigits$1(Ct.d,at=jt,Ut))do if($t+=10,wt=naturalLogarithm$1(Dt,$t),nt=s?getLn10$1(Ft,$t+10):naturalLogarithm$1(a,$t),Ct=divide$2(wt,nt,$t,1),!mt){+digitsToString$1(Ct.d).slice(at+1,at+15)+1==1e14&&(Ct=finalise$1(Ct,jt+1,0));break}while(checkRoundingDigits$1(Ct.d,at+=10,Ut));return external$1=!0,finalise$1(Ct,jt,Ut)};P$3.minus=P$3.sub=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=this,ir=tr.constructor;if(a=new ir(a),!tr.d||!a.d)return!tr.s||!a.s?a=new ir(NaN):tr.d?a.s=-a.s:a=new ir(a.d||tr.s!==a.s?tr:NaN),a;if(tr.s!=a.s)return a.s=-a.s,tr.plus(a);if(Dt=tr.d,Ut=a.d,$t=ir.precision,Ct=ir.rounding,!Dt[0]||!Ut[0]){if(Ut[0])a.s=-a.s;else if(Dt[0])a=new ir(tr);else return new ir(Ct===3?-0:0);return external$1?finalise$1(a,$t,Ct):a}if(et=mathfloor$1(a.e/LOG_BASE$1),Ft=mathfloor$1(tr.e/LOG_BASE$1),Dt=Dt.slice(),mt=Ft-et,mt){for(jt=mt<0,jt?(s=Dt,mt=-mt,wt=Ut.length):(s=Ut,et=Ft,wt=Dt.length),nt=Math.max(Math.ceil($t/LOG_BASE$1),wt)+2,mt>nt&&(mt=nt,s.length=1),s.reverse(),nt=mt;nt--;)s.push(0);s.reverse()}else{for(nt=Dt.length,wt=Ut.length,jt=nt<wt,jt&&(wt=nt),nt=0;nt<wt;nt++)if(Dt[nt]!=Ut[nt]){jt=Dt[nt]<Ut[nt];break}mt=0}for(jt&&(s=Dt,Dt=Ut,Ut=s,a.s=-a.s),wt=Dt.length,nt=Ut.length-wt;nt>0;--nt)Dt[wt++]=0;for(nt=Ut.length;nt>mt;){if(Dt[--nt]<Ut[nt]){for(at=nt;at&&Dt[--at]===0;)Dt[at]=BASE$1-1;--Dt[at],Dt[nt]+=BASE$1}Dt[nt]-=Ut[nt]}for(;Dt[--wt]===0;)Dt.pop();for(;Dt[0]===0;Dt.shift())--et;return Dt[0]?(a.d=Dt,a.e=getBase10Exponent$1(Dt,et),external$1?finalise$1(a,$t,Ct):a):new ir(Ct===3?-0:0)};P$3.modulo=P$3.mod=function(a){var s,et=this,nt=et.constructor;return a=new nt(a),!et.d||!a.s||a.d&&!a.d[0]?new nt(NaN):!a.d||et.d&&!et.d[0]?finalise$1(new nt(et),nt.precision,nt.rounding):(external$1=!1,nt.modulo==9?(s=divide$2(et,a.abs(),0,3,1),s.s*=a.s):s=divide$2(et,a,0,nt.modulo,1),s=s.times(a),external$1=!0,et.minus(s))};P$3.naturalExponential=P$3.exp=function(){return naturalExponential$1(this)};P$3.naturalLogarithm=P$3.ln=function(){return naturalLogarithm$1(this)};P$3.negated=P$3.neg=function(){var a=new this.constructor(this);return a.s=-a.s,finalise$1(a)};P$3.plus=P$3.add=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt=this,Ut=jt.constructor;if(a=new Ut(a),!jt.d||!a.d)return!jt.s||!a.s?a=new Ut(NaN):jt.d||(a=new Ut(a.d||jt.s===a.s?jt:NaN)),a;if(jt.s!=a.s)return a.s=-a.s,jt.minus(a);if(Dt=jt.d,Ft=a.d,$t=Ut.precision,Ct=Ut.rounding,!Dt[0]||!Ft[0])return Ft[0]||(a=new Ut(jt)),external$1?finalise$1(a,$t,Ct):a;if(mt=mathfloor$1(jt.e/LOG_BASE$1),nt=mathfloor$1(a.e/LOG_BASE$1),Dt=Dt.slice(),at=mt-nt,at){for(at<0?(et=Dt,at=-at,wt=Ft.length):(et=Ft,nt=mt,wt=Dt.length),mt=Math.ceil($t/LOG_BASE$1),wt=mt>wt?mt+1:wt+1,at>wt&&(at=wt,et.length=1),et.reverse();at--;)et.push(0);et.reverse()}for(wt=Dt.length,at=Ft.length,wt-at<0&&(at=wt,et=Ft,Ft=Dt,Dt=et),s=0;at;)s=(Dt[--at]=Dt[at]+Ft[at]+s)/BASE$1|0,Dt[at]%=BASE$1;for(s&&(Dt.unshift(s),++nt),wt=Dt.length;Dt[--wt]==0;)Dt.pop();return a.d=Dt,a.e=getBase10Exponent$1(Dt,nt),external$1?finalise$1(a,$t,Ct):a};P$3.precision=P$3.sd=function(a){var s,et=this;if(a!==void 0&&a!==!!a&&a!==1&&a!==0)throw Error(invalidArgument$1+a);return et.d?(s=getPrecision$1(et.d),a&&et.e+1>s&&(s=et.e+1)):s=NaN,s};P$3.round=function(){var a=this,s=a.constructor;return finalise$1(new s(a),a.e+1,s.rounding)};P$3.sine=P$3.sin=function(){var a,s,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+Math.max(et.e,et.sd())+LOG_BASE$1,nt.rounding=1,et=sine$1(nt,toLessThanHalfPi$1(nt,et)),nt.precision=a,nt.rounding=s,finalise$1(quadrant$1>2?et.neg():et,a,s,!0)):new nt(NaN)};P$3.squareRoot=P$3.sqrt=function(){var a,s,et,nt,at,mt,wt=this,$t=wt.d,Ct=wt.e,Dt=wt.s,Ft=wt.constructor;if(Dt!==1||!$t||!$t[0])return new Ft(!Dt||Dt<0&&(!$t||$t[0])?NaN:$t?wt:1/0);for(external$1=!1,Dt=Math.sqrt(+wt),Dt==0||Dt==1/0?(s=digitsToString$1($t),(s.length+Ct)%2==0&&(s+="0"),Dt=Math.sqrt(s),Ct=mathfloor$1((Ct+1)/2)-(Ct<0||Ct%2),Dt==1/0?s="5e"+Ct:(s=Dt.toExponential(),s=s.slice(0,s.indexOf("e")+1)+Ct),nt=new Ft(s)):nt=new Ft(Dt.toString()),et=(Ct=Ft.precision)+3;;)if(mt=nt,nt=mt.plus(divide$2(wt,mt,et+2,1)).times(.5),digitsToString$1(mt.d).slice(0,et)===(s=digitsToString$1(nt.d)).slice(0,et))if(s=s.slice(et-3,et+1),s=="9999"||!at&&s=="4999"){if(!at&&(finalise$1(mt,Ct+1,0),mt.times(mt).eq(wt))){nt=mt;break}et+=4,at=1}else{(!+s||!+s.slice(1)&&s.charAt(0)=="5")&&(finalise$1(nt,Ct+1,1),a=!nt.times(nt).eq(wt));break}return external$1=!0,finalise$1(nt,Ct,Ft.rounding,a)};P$3.tangent=P$3.tan=function(){var a,s,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+10,nt.rounding=1,et=et.sin(),et.s=1,et=divide$2(et,new nt(1).minus(et.times(et)).sqrt(),a+10,0),nt.precision=a,nt.rounding=s,finalise$1(quadrant$1==2||quadrant$1==4?et.neg():et,a,s,!0)):new nt(NaN)};P$3.times=P$3.mul=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor,Ut=Ft.d,tr=(a=new jt(a)).d;if(a.s*=Ft.s,!Ut||!Ut[0]||!tr||!tr[0])return new jt(!a.s||Ut&&!Ut[0]&&!tr||tr&&!tr[0]&&!Ut?NaN:!Ut||!tr?a.s/0:a.s*0);for(et=mathfloor$1(Ft.e/LOG_BASE$1)+mathfloor$1(a.e/LOG_BASE$1),Ct=Ut.length,Dt=tr.length,Ct<Dt&&(mt=Ut,Ut=tr,tr=mt,wt=Ct,Ct=Dt,Dt=wt),mt=[],wt=Ct+Dt,nt=wt;nt--;)mt.push(0);for(nt=Dt;--nt>=0;){for(s=0,at=Ct+nt;at>nt;)$t=mt[at]+tr[nt]*Ut[at-nt-1]+s,mt[at--]=$t%BASE$1|0,s=$t/BASE$1|0;mt[at]=(mt[at]+s)%BASE$1|0}for(;!mt[--wt];)mt.pop();return s?++et:mt.shift(),a.d=mt,a.e=getBase10Exponent$1(mt,et),external$1?finalise$1(a,jt.precision,jt.rounding):a};P$3.toBinary=function(a,s){return toStringBinary$1(this,2,a,s)};P$3.toDecimalPlaces=P$3.toDP=function(a,s){var et=this,nt=et.constructor;return et=new nt(et),a===void 0?et:(checkInt32$1(a,0,MAX_DIGITS$1),s===void 0?s=nt.rounding:checkInt32$1(s,0,8),finalise$1(et,a+et.e+1,s))};P$3.toExponential=function(a,s){var et,nt=this,at=nt.constructor;return a===void 0?et=finiteToString$1(nt,!0):(checkInt32$1(a,0,MAX_DIGITS$1),s===void 0?s=at.rounding:checkInt32$1(s,0,8),nt=finalise$1(new at(nt),a+1,s),et=finiteToString$1(nt,!0,a+1)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$3.toFixed=function(a,s){var et,nt,at=this,mt=at.constructor;return a===void 0?et=finiteToString$1(at):(checkInt32$1(a,0,MAX_DIGITS$1),s===void 0?s=mt.rounding:checkInt32$1(s,0,8),nt=finalise$1(new mt(at),a+at.e+1,s),et=finiteToString$1(nt,!1,a+nt.e+1)),at.isNeg()&&!at.isZero()?"-"+et:et};P$3.toFraction=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=this,ir=tr.d,sr=tr.constructor;if(!ir)return new sr(tr);if(Dt=et=new sr(1),nt=Ct=new sr(0),s=new sr(nt),mt=s.e=getPrecision$1(ir)-tr.e-1,wt=mt%LOG_BASE$1,s.d[0]=mathpow$1(10,wt<0?LOG_BASE$1+wt:wt),a==null)a=mt>0?s:Dt;else{if($t=new sr(a),!$t.isInt()||$t.lt(Dt))throw Error(invalidArgument$1+$t);a=$t.gt(s)?mt>0?s:Dt:$t}for(external$1=!1,$t=new sr(digitsToString$1(ir)),Ft=sr.precision,sr.precision=mt=ir.length*LOG_BASE$1*2;jt=divide$2($t,s,0,1,1),at=et.plus(jt.times(nt)),at.cmp(a)!=1;)et=nt,nt=at,at=Dt,Dt=Ct.plus(jt.times(at)),Ct=at,at=s,s=$t.minus(jt.times(at)),$t=at;return at=divide$2(a.minus(et),nt,0,1,1),Ct=Ct.plus(at.times(Dt)),et=et.plus(at.times(nt)),Ct.s=Dt.s=tr.s,Ut=divide$2(Dt,nt,mt,1).minus(tr).abs().cmp(divide$2(Ct,et,mt,1).minus(tr).abs())<1?[Dt,nt]:[Ct,et],sr.precision=Ft,external$1=!0,Ut};P$3.toHexadecimal=P$3.toHex=function(a,s){return toStringBinary$1(this,16,a,s)};P$3.toNearest=function(a,s){var et=this,nt=et.constructor;if(et=new nt(et),a==null){if(!et.d)return et;a=new nt(1),s=nt.rounding}else{if(a=new nt(a),s===void 0?s=nt.rounding:checkInt32$1(s,0,8),!et.d)return a.s?et:a;if(!a.d)return a.s&&(a.s=et.s),a}return a.d[0]?(external$1=!1,et=divide$2(et,a,0,s,1).times(a),external$1=!0,finalise$1(et)):(a.s=et.s,et=a),et};P$3.toNumber=function(){return+this};P$3.toOctal=function(a,s){return toStringBinary$1(this,8,a,s)};P$3.toPower=P$3.pow=function(a){var s,et,nt,at,mt,wt,$t=this,Ct=$t.constructor,Dt=+(a=new Ct(a));if(!$t.d||!a.d||!$t.d[0]||!a.d[0])return new Ct(mathpow$1(+$t,Dt));if($t=new Ct($t),$t.eq(1))return $t;if(nt=Ct.precision,mt=Ct.rounding,a.eq(1))return finalise$1($t,nt,mt);if(s=mathfloor$1(a.e/LOG_BASE$1),s>=a.d.length-1&&(et=Dt<0?-Dt:Dt)<=MAX_SAFE_INTEGER$3)return at=intPow$1(Ct,$t,et,nt),a.s<0?new Ct(1).div(at):finalise$1(at,nt,mt);if(wt=$t.s,wt<0){if(s<a.d.length-1)return new Ct(NaN);if(a.d[s]&1||(wt=1),$t.e==0&&$t.d[0]==1&&$t.d.length==1)return $t.s=wt,$t}return et=mathpow$1(+$t,Dt),s=et==0||!isFinite(et)?mathfloor$1(Dt*(Math.log("0."+digitsToString$1($t.d))/Math.LN10+$t.e+1)):new Ct(et+"").e,s>Ct.maxE+1||s<Ct.minE-1?new Ct(s>0?wt/0:0):(external$1=!1,Ct.rounding=$t.s=1,et=Math.min(12,(s+"").length),at=naturalExponential$1(a.times(naturalLogarithm$1($t,nt+et)),nt),at.d&&(at=finalise$1(at,nt+5,1),checkRoundingDigits$1(at.d,nt,mt)&&(s=nt+10,at=finalise$1(naturalExponential$1(a.times(naturalLogarithm$1($t,s+et)),s),s+5,1),+digitsToString$1(at.d).slice(nt+1,nt+15)+1==1e14&&(at=finalise$1(at,nt+1,0)))),at.s=wt,external$1=!0,Ct.rounding=mt,finalise$1(at,nt,mt))};P$3.toPrecision=function(a,s){var et,nt=this,at=nt.constructor;return a===void 0?et=finiteToString$1(nt,nt.e<=at.toExpNeg||nt.e>=at.toExpPos):(checkInt32$1(a,1,MAX_DIGITS$1),s===void 0?s=at.rounding:checkInt32$1(s,0,8),nt=finalise$1(new at(nt),a,s),et=finiteToString$1(nt,a<=nt.e||nt.e<=at.toExpNeg,a)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$3.toSignificantDigits=P$3.toSD=function(a,s){var et=this,nt=et.constructor;return a===void 0?(a=nt.precision,s=nt.rounding):(checkInt32$1(a,1,MAX_DIGITS$1),s===void 0?s=nt.rounding:checkInt32$1(s,0,8)),finalise$1(new nt(et),a,s)};P$3.toString=function(){var a=this,s=a.constructor,et=finiteToString$1(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()&&!a.isZero()?"-"+et:et};P$3.truncated=P$3.trunc=function(){return finalise$1(new this.constructor(this),this.e+1,1)};P$3.valueOf=P$3.toJSON=function(){var a=this,s=a.constructor,et=finiteToString$1(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()?"-"+et:et};function digitsToString$1(a){var s,et,nt,at=a.length-1,mt="",wt=a[0];if(at>0){for(mt+=wt,s=1;s<at;s++)nt=a[s]+"",et=LOG_BASE$1-nt.length,et&&(mt+=getZeroString$1(et)),mt+=nt;wt=a[s],nt=wt+"",et=LOG_BASE$1-nt.length,et&&(mt+=getZeroString$1(et))}else if(wt===0)return"0";for(;wt%10===0;)wt/=10;return mt+wt}function checkInt32$1(a,s,et){if(a!==~~a||a<s||a>et)throw Error(invalidArgument$1+a)}function checkRoundingDigits$1(a,s,et,nt){var at,mt,wt,$t;for(mt=a[0];mt>=10;mt/=10)--s;return--s<0?(s+=LOG_BASE$1,at=0):(at=Math.ceil((s+1)/LOG_BASE$1),s%=LOG_BASE$1),mt=mathpow$1(10,LOG_BASE$1-s),$t=a[at]%mt|0,nt==null?s<3?(s==0?$t=$t/100|0:s==1&&($t=$t/10|0),wt=et<4&&$t==99999||et>3&&$t==49999||$t==5e4||$t==0):wt=(et<4&&$t+1==mt||et>3&&$t+1==mt/2)&&(a[at+1]/mt/100|0)==mathpow$1(10,s-2)-1||($t==mt/2||$t==0)&&(a[at+1]/mt/100|0)==0:s<4?(s==0?$t=$t/1e3|0:s==1?$t=$t/100|0:s==2&&($t=$t/10|0),wt=(nt||et<4)&&$t==9999||!nt&&et>3&&$t==4999):wt=((nt||et<4)&&$t+1==mt||!nt&&et>3&&$t+1==mt/2)&&(a[at+1]/mt/1e3|0)==mathpow$1(10,s-3)-1,wt}function convertBase$1(a,s,et){for(var nt,at=[0],mt,wt=0,$t=a.length;wt<$t;){for(mt=at.length;mt--;)at[mt]*=s;for(at[0]+=NUMERALS$1.indexOf(a.charAt(wt++)),nt=0;nt<at.length;nt++)at[nt]>et-1&&(at[nt+1]===void 0&&(at[nt+1]=0),at[nt+1]+=at[nt]/et|0,at[nt]%=et)}return at.reverse()}function cosine$1(a,s){var et,nt,at;if(s.isZero())return s;nt=s.d.length,nt<32?(et=Math.ceil(nt/3),at=(1/tinyPow$1(4,et)).toString()):(et=16,at="2.3283064365386962890625e-10"),a.precision+=et,s=taylorSeries$1(a,1,s.times(at),new a(1));for(var mt=et;mt--;){var wt=s.times(s);s=wt.times(wt).minus(wt).times(8).plus(1)}return a.precision-=et,s}var divide$2=function(){function a(nt,at,mt){var wt,$t=0,Ct=nt.length;for(nt=nt.slice();Ct--;)wt=nt[Ct]*at+$t,nt[Ct]=wt%mt|0,$t=wt/mt|0;return $t&&nt.unshift($t),nt}function s(nt,at,mt,wt){var $t,Ct;if(mt!=wt)Ct=mt>wt?1:-1;else for($t=Ct=0;$t<mt;$t++)if(nt[$t]!=at[$t]){Ct=nt[$t]>at[$t]?1:-1;break}return Ct}function et(nt,at,mt,wt){for(var $t=0;mt--;)nt[mt]-=$t,$t=nt[mt]<at[mt]?1:0,nt[mt]=$t*wt+nt[mt]-at[mt];for(;!nt[0]&&nt.length>1;)nt.shift()}return function(nt,at,mt,wt,$t,Ct){var Dt,Ft,jt,Ut,tr,ir,sr,ur,fr,dr,hr,vr,yr,xr,br,wr,Sr,Cr,cr,Nt,Vt=nt.constructor,er=nt.s==at.s?1:-1,Yt=nt.d,rr=at.d;if(!Yt||!Yt[0]||!rr||!rr[0])return new Vt(!nt.s||!at.s||(Yt?rr&&Yt[0]==rr[0]:!rr)?NaN:Yt&&Yt[0]==0||!rr?er*0:er/0);for(Ct?(tr=1,Ft=nt.e-at.e):(Ct=BASE$1,tr=LOG_BASE$1,Ft=mathfloor$1(nt.e/tr)-mathfloor$1(at.e/tr)),cr=rr.length,Sr=Yt.length,fr=new Vt(er),dr=fr.d=[],jt=0;rr[jt]==(Yt[jt]||0);jt++);if(rr[jt]>(Yt[jt]||0)&&Ft--,mt==null?(xr=mt=Vt.precision,wt=Vt.rounding):$t?xr=mt+(nt.e-at.e)+1:xr=mt,xr<0)dr.push(1),ir=!0;else{if(xr=xr/tr+2|0,jt=0,cr==1){for(Ut=0,rr=rr[0],xr++;(jt<Sr||Ut)&&xr--;jt++)br=Ut*Ct+(Yt[jt]||0),dr[jt]=br/rr|0,Ut=br%rr|0;ir=Ut||jt<Sr}else{for(Ut=Ct/(rr[0]+1)|0,Ut>1&&(rr=a(rr,Ut,Ct),Yt=a(Yt,Ut,Ct),cr=rr.length,Sr=Yt.length),wr=cr,hr=Yt.slice(0,cr),vr=hr.length;vr<cr;)hr[vr++]=0;Nt=rr.slice(),Nt.unshift(0),Cr=rr[0],rr[1]>=Ct/2&&++Cr;do Ut=0,Dt=s(rr,hr,cr,vr),Dt<0?(yr=hr[0],cr!=vr&&(yr=yr*Ct+(hr[1]||0)),Ut=yr/Cr|0,Ut>1?(Ut>=Ct&&(Ut=Ct-1),sr=a(rr,Ut,Ct),ur=sr.length,vr=hr.length,Dt=s(sr,hr,ur,vr),Dt==1&&(Ut--,et(sr,cr<ur?Nt:rr,ur,Ct))):(Ut==0&&(Dt=Ut=1),sr=rr.slice()),ur=sr.length,ur<vr&&sr.unshift(0),et(hr,sr,vr,Ct),Dt==-1&&(vr=hr.length,Dt=s(rr,hr,cr,vr),Dt<1&&(Ut++,et(hr,cr<vr?Nt:rr,vr,Ct))),vr=hr.length):Dt===0&&(Ut++,hr=[0]),dr[jt++]=Ut,Dt&&hr[0]?hr[vr++]=Yt[wr]||0:(hr=[Yt[wr]],vr=1);while((wr++<Sr||hr[0]!==void 0)&&xr--);ir=hr[0]!==void 0}dr[0]||dr.shift()}if(tr==1)fr.e=Ft,inexact$1=ir;else{for(jt=1,Ut=dr[0];Ut>=10;Ut/=10)jt++;fr.e=jt+Ft*tr-1,finalise$1(fr,$t?mt+fr.e+1:mt,wt,ir)}return fr}}();function finalise$1(a,s,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=a.constructor;e:if(s!=null){if(jt=a.d,!jt)return a;for(at=1,$t=jt[0];$t>=10;$t/=10)at++;if(mt=s-at,mt<0)mt+=LOG_BASE$1,wt=s,Ft=jt[Ut=0],Ct=Ft/mathpow$1(10,at-wt-1)%10|0;else if(Ut=Math.ceil((mt+1)/LOG_BASE$1),$t=jt.length,Ut>=$t)if(nt){for(;$t++<=Ut;)jt.push(0);Ft=Ct=0,at=1,mt%=LOG_BASE$1,wt=mt-LOG_BASE$1+1}else break e;else{for(Ft=$t=jt[Ut],at=1;$t>=10;$t/=10)at++;mt%=LOG_BASE$1,wt=mt-LOG_BASE$1+at,Ct=wt<0?0:Ft/mathpow$1(10,at-wt-1)%10|0}if(nt=nt||s<0||jt[Ut+1]!==void 0||(wt<0?Ft:Ft%mathpow$1(10,at-wt-1)),Dt=et<4?(Ct||nt)&&(et==0||et==(a.s<0?3:2)):Ct>5||Ct==5&&(et==4||nt||et==6&&(mt>0?wt>0?Ft/mathpow$1(10,at-wt):0:jt[Ut-1])%10&1||et==(a.s<0?8:7)),s<1||!jt[0])return jt.length=0,Dt?(s-=a.e+1,jt[0]=mathpow$1(10,(LOG_BASE$1-s%LOG_BASE$1)%LOG_BASE$1),a.e=-s||0):jt[0]=a.e=0,a;if(mt==0?(jt.length=Ut,$t=1,Ut--):(jt.length=Ut+1,$t=mathpow$1(10,LOG_BASE$1-mt),jt[Ut]=wt>0?(Ft/mathpow$1(10,at-wt)%mathpow$1(10,wt)|0)*$t:0),Dt)for(;;)if(Ut==0){for(mt=1,wt=jt[0];wt>=10;wt/=10)mt++;for(wt=jt[0]+=$t,$t=1;wt>=10;wt/=10)$t++;mt!=$t&&(a.e++,jt[0]==BASE$1&&(jt[0]=1));break}else{if(jt[Ut]+=$t,jt[Ut]!=BASE$1)break;jt[Ut--]=0,$t=1}for(mt=jt.length;jt[--mt]===0;)jt.pop()}return external$1&&(a.e>tr.maxE?(a.d=null,a.e=NaN):a.e<tr.minE&&(a.e=0,a.d=[0])),a}function finiteToString$1(a,s,et){if(!a.isFinite())return nonFiniteToString$1(a);var nt,at=a.e,mt=digitsToString$1(a.d),wt=mt.length;return s?(et&&(nt=et-wt)>0?mt=mt.charAt(0)+"."+mt.slice(1)+getZeroString$1(nt):wt>1&&(mt=mt.charAt(0)+"."+mt.slice(1)),mt=mt+(a.e<0?"e":"e+")+a.e):at<0?(mt="0."+getZeroString$1(-at-1)+mt,et&&(nt=et-wt)>0&&(mt+=getZeroString$1(nt))):at>=wt?(mt+=getZeroString$1(at+1-wt),et&&(nt=et-at-1)>0&&(mt=mt+"."+getZeroString$1(nt))):((nt=at+1)<wt&&(mt=mt.slice(0,nt)+"."+mt.slice(nt)),et&&(nt=et-wt)>0&&(at+1===wt&&(mt+="."),mt+=getZeroString$1(nt))),mt}function getBase10Exponent$1(a,s){var et=a[0];for(s*=LOG_BASE$1;et>=10;et/=10)s++;return s}function getLn10$1(a,s,et){if(s>LN10_PRECISION$1)throw external$1=!0,et&&(a.precision=et),Error(precisionLimitExceeded$1);return finalise$1(new a(LN10$1),s,1,!0)}function getPi$1(a,s,et){if(s>PI_PRECISION$1)throw Error(precisionLimitExceeded$1);return finalise$1(new a(PI$1),s,et,!0)}function getPrecision$1(a){var s=a.length-1,et=s*LOG_BASE$1+1;if(s=a[s],s){for(;s%10==0;s/=10)et--;for(s=a[0];s>=10;s/=10)et++}return et}function getZeroString$1(a){for(var s="";a--;)s+="0";return s}function intPow$1(a,s,et,nt){var at,mt=new a(1),wt=Math.ceil(nt/LOG_BASE$1+4);for(external$1=!1;;){if(et%2&&(mt=mt.times(s),truncate$1(mt.d,wt)&&(at=!0)),et=mathfloor$1(et/2),et===0){et=mt.d.length-1,at&&mt.d[et]===0&&++mt.d[et];break}s=s.times(s),truncate$1(s.d,wt)}return external$1=!0,mt}function isOdd$1(a){return a.d[a.d.length-1]&1}function maxOrMin$1(a,s,et){for(var nt,at,mt=new a(s[0]),wt=0;++wt<s.length;){if(at=new a(s[wt]),!at.s){mt=at;break}nt=mt.cmp(at),(nt===et||nt===0&&mt.s===et)&&(mt=at)}return mt}function naturalExponential$1(a,s){var et,nt,at,mt,wt,$t,Ct,Dt=0,Ft=0,jt=0,Ut=a.constructor,tr=Ut.rounding,ir=Ut.precision;if(!a.d||!a.d[0]||a.e>17)return new Ut(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(s==null?(external$1=!1,Ct=ir):Ct=s,$t=new Ut(.03125);a.e>-2;)a=a.times($t),jt+=5;for(nt=Math.log(mathpow$1(2,jt))/Math.LN10*2+5|0,Ct+=nt,et=mt=wt=new Ut(1),Ut.precision=Ct;;){if(mt=finalise$1(mt.times(a),Ct,1),et=et.times(++Ft),$t=wt.plus(divide$2(mt,et,Ct,1)),digitsToString$1($t.d).slice(0,Ct)===digitsToString$1(wt.d).slice(0,Ct)){for(at=jt;at--;)wt=finalise$1(wt.times(wt),Ct,1);if(s==null)if(Dt<3&&checkRoundingDigits$1(wt.d,Ct-nt,tr,Dt))Ut.precision=Ct+=10,et=mt=$t=new Ut(1),Ft=0,Dt++;else return finalise$1(wt,Ut.precision=ir,tr,external$1=!0);else return Ut.precision=ir,wt}wt=$t}}function naturalLogarithm$1(a,s){var et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=1,ir=10,sr=a,ur=sr.d,fr=sr.constructor,dr=fr.rounding,hr=fr.precision;if(sr.s<0||!ur||!ur[0]||!sr.e&&ur[0]==1&&ur.length==1)return new fr(ur&&!ur[0]?-1/0:sr.s!=1?NaN:ur?0:sr);if(s==null?(external$1=!1,Ft=hr):Ft=s,fr.precision=Ft+=ir,et=digitsToString$1(ur),nt=et.charAt(0),Math.abs(mt=sr.e)<15e14){for(;nt<7&&nt!=1||nt==1&&et.charAt(1)>3;)sr=sr.times(a),et=digitsToString$1(sr.d),nt=et.charAt(0),tr++;mt=sr.e,nt>1?(sr=new fr("0."+et),mt++):sr=new fr(nt+"."+et.slice(1))}else return Dt=getLn10$1(fr,Ft+2,hr).times(mt+""),sr=naturalLogarithm$1(new fr(nt+"."+et.slice(1)),Ft-ir).plus(Dt),fr.precision=hr,s==null?finalise$1(sr,hr,dr,external$1=!0):sr;for(jt=sr,Ct=wt=sr=divide$2(sr.minus(1),sr.plus(1),Ft,1),Ut=finalise$1(sr.times(sr),Ft,1),at=3;;){if(wt=finalise$1(wt.times(Ut),Ft,1),Dt=Ct.plus(divide$2(wt,new fr(at),Ft,1)),digitsToString$1(Dt.d).slice(0,Ft)===digitsToString$1(Ct.d).slice(0,Ft))if(Ct=Ct.times(2),mt!==0&&(Ct=Ct.plus(getLn10$1(fr,Ft+2,hr).times(mt+""))),Ct=divide$2(Ct,new fr(tr),Ft,1),s==null)if(checkRoundingDigits$1(Ct.d,Ft-ir,dr,$t))fr.precision=Ft+=ir,Dt=wt=sr=divide$2(jt.minus(1),jt.plus(1),Ft,1),Ut=finalise$1(sr.times(sr),Ft,1),at=$t=1;else return finalise$1(Ct,fr.precision=hr,dr,external$1=!0);else return fr.precision=hr,Ct;Ct=Dt,at+=2}}function nonFiniteToString$1(a){return String(a.s*a.s/0)}function parseDecimal$1(a,s){var et,nt,at;for((et=s.indexOf("."))>-1&&(s=s.replace(".","")),(nt=s.search(/e/i))>0?(et<0&&(et=nt),et+=+s.slice(nt+1),s=s.substring(0,nt)):et<0&&(et=s.length),nt=0;s.charCodeAt(nt)===48;nt++);for(at=s.length;s.charCodeAt(at-1)===48;--at);if(s=s.slice(nt,at),s){if(at-=nt,a.e=et=et-nt-1,a.d=[],nt=(et+1)%LOG_BASE$1,et<0&&(nt+=LOG_BASE$1),nt<at){for(nt&&a.d.push(+s.slice(0,nt)),at-=LOG_BASE$1;nt<at;)a.d.push(+s.slice(nt,nt+=LOG_BASE$1));s=s.slice(nt),nt=LOG_BASE$1-s.length}else nt-=at;for(;nt--;)s+="0";a.d.push(+s),external$1&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function parseOther$1(a,s){var et,nt,at,mt,wt,$t,Ct,Dt,Ft;if(s.indexOf("_")>-1){if(s=s.replace(/(\d)_(?=\d)/g,"$1"),isDecimal$1.test(s))return parseDecimal$1(a,s)}else if(s==="Infinity"||s==="NaN")return+s||(a.s=NaN),a.e=NaN,a.d=null,a;if(isHex$1.test(s))et=16,s=s.toLowerCase();else if(isBinary$1.test(s))et=2;else if(isOctal$1.test(s))et=8;else throw Error(invalidArgument$1+s);for(mt=s.search(/p/i),mt>0?(Ct=+s.slice(mt+1),s=s.substring(2,mt)):s=s.slice(2),mt=s.indexOf("."),wt=mt>=0,nt=a.constructor,wt&&(s=s.replace(".",""),$t=s.length,mt=$t-mt,at=intPow$1(nt,new nt(et),mt,mt*2)),Dt=convertBase$1(s,et,BASE$1),Ft=Dt.length-1,mt=Ft;Dt[mt]===0;--mt)Dt.pop();return mt<0?new nt(a.s*0):(a.e=getBase10Exponent$1(Dt,Ft),a.d=Dt,external$1=!1,wt&&(a=divide$2(a,at,$t*4)),Ct&&(a=a.times(Math.abs(Ct)<54?mathpow$1(2,Ct):Decimal$1.pow(2,Ct))),external$1=!0,a)}function sine$1(a,s){var et,nt=s.d.length;if(nt<3)return s.isZero()?s:taylorSeries$1(a,2,s,s);et=1.4*Math.sqrt(nt),et=et>16?16:et|0,s=s.times(1/tinyPow$1(5,et)),s=taylorSeries$1(a,2,s,s);for(var at,mt=new a(5),wt=new a(16),$t=new a(20);et--;)at=s.times(s),s=s.times(mt.plus(at.times(wt.times(at).minus($t))));return s}function taylorSeries$1(a,s,et,nt,at){var mt,wt,$t,Ct,Dt=a.precision,Ft=Math.ceil(Dt/LOG_BASE$1);for(external$1=!1,Ct=et.times(et),$t=new a(nt);;){if(wt=divide$2($t.times(Ct),new a(s++*s++),Dt,1),$t=at?nt.plus(wt):nt.minus(wt),nt=divide$2(wt.times(Ct),new a(s++*s++),Dt,1),wt=$t.plus(nt),wt.d[Ft]!==void 0){for(mt=Ft;wt.d[mt]===$t.d[mt]&&mt--;);if(mt==-1)break}mt=$t,$t=nt,nt=wt,wt=mt}return external$1=!0,wt.d.length=Ft+1,wt}function tinyPow$1(a,s){for(var et=a;--s;)et*=a;return et}function toLessThanHalfPi$1(a,s){var et,nt=s.s<0,at=getPi$1(a,a.precision,1),mt=at.times(.5);if(s=s.abs(),s.lte(mt))return quadrant$1=nt?4:1,s;if(et=s.divToInt(at),et.isZero())quadrant$1=nt?3:2;else{if(s=s.minus(et.times(at)),s.lte(mt))return quadrant$1=isOdd$1(et)?nt?2:3:nt?4:1,s;quadrant$1=isOdd$1(et)?nt?1:4:nt?3:2}return s.minus(at).abs()}function toStringBinary$1(a,s,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=a.constructor,ir=et!==void 0;if(ir?(checkInt32$1(et,1,MAX_DIGITS$1),nt===void 0?nt=tr.rounding:checkInt32$1(nt,0,8)):(et=tr.precision,nt=tr.rounding),!a.isFinite())Ft=nonFiniteToString$1(a);else{for(Ft=finiteToString$1(a),wt=Ft.indexOf("."),ir?(at=2,s==16?et=et*4-3:s==8&&(et=et*3-2)):at=s,wt>=0&&(Ft=Ft.replace(".",""),Ut=new tr(1),Ut.e=Ft.length-wt,Ut.d=convertBase$1(finiteToString$1(Ut),10,at),Ut.e=Ut.d.length),jt=convertBase$1(Ft,10,at),mt=Ct=jt.length;jt[--Ct]==0;)jt.pop();if(!jt[0])Ft=ir?"0p+0":"0";else{if(wt<0?mt--:(a=new tr(a),a.d=jt,a.e=mt,a=divide$2(a,Ut,et,nt,0,at),jt=a.d,mt=a.e,Dt=inexact$1),wt=jt[et],$t=at/2,Dt=Dt||jt[et+1]!==void 0,Dt=nt<4?(wt!==void 0||Dt)&&(nt===0||nt===(a.s<0?3:2)):wt>$t||wt===$t&&(nt===4||Dt||nt===6&&jt[et-1]&1||nt===(a.s<0?8:7)),jt.length=et,Dt)for(;++jt[--et]>at-1;)jt[et]=0,et||(++mt,jt.unshift(1));for(Ct=jt.length;!jt[Ct-1];--Ct);for(wt=0,Ft="";wt<Ct;wt++)Ft+=NUMERALS$1.charAt(jt[wt]);if(ir){if(Ct>1)if(s==16||s==8){for(wt=s==16?4:3,--Ct;Ct%wt;Ct++)Ft+="0";for(jt=convertBase$1(Ft,at,s),Ct=jt.length;!jt[Ct-1];--Ct);for(wt=1,Ft="1.";wt<Ct;wt++)Ft+=NUMERALS$1.charAt(jt[wt])}else Ft=Ft.charAt(0)+"."+Ft.slice(1);Ft=Ft+(mt<0?"p":"p+")+mt}else if(mt<0){for(;++mt;)Ft="0"+Ft;Ft="0."+Ft}else if(++mt>Ct)for(mt-=Ct;mt--;)Ft+="0";else mt<Ct&&(Ft=Ft.slice(0,mt)+"."+Ft.slice(mt))}Ft=(s==16?"0x":s==2?"0b":s==8?"0o":"")+Ft}return a.s<0?"-"+Ft:Ft}function truncate$1(a,s){if(a.length>s)return a.length=s,!0}function abs$2(a){return new this(a).abs()}function acos$1(a){return new this(a).acos()}function acosh$1(a){return new this(a).acosh()}function add$2(a,s){return new this(a).plus(s)}function asin$1(a){return new this(a).asin()}function asinh$1(a){return new this(a).asinh()}function atan$1(a){return new this(a).atan()}function atanh$1(a){return new this(a).atanh()}function atan2$1(a,s){a=new this(a),s=new this(s);var et,nt=this.precision,at=this.rounding,mt=nt+4;return!a.s||!s.s?et=new this(NaN):!a.d&&!s.d?(et=getPi$1(this,mt,1).times(s.s>0?.25:.75),et.s=a.s):!s.d||a.isZero()?(et=s.s<0?getPi$1(this,nt,at):new this(0),et.s=a.s):!a.d||s.isZero()?(et=getPi$1(this,mt,1).times(.5),et.s=a.s):s.s<0?(this.precision=mt,this.rounding=1,et=this.atan(divide$2(a,s,mt,1)),s=getPi$1(this,mt,1),this.precision=nt,this.rounding=at,et=a.s<0?et.minus(s):et.plus(s)):et=this.atan(divide$2(a,s,mt,1)),et}function cbrt$1(a){return new this(a).cbrt()}function ceil$1(a){return finalise$1(a=new this(a),a.e+1,2)}function clamp$3(a,s,et){return new this(a).clamp(s,et)}function config$3(a){if(!a||typeof a!="object")throw Error(decimalError$1+"Object expected");var s,et,nt,at=a.defaults===!0,mt=["precision",1,MAX_DIGITS$1,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT$1,"maxE",0,EXP_LIMIT$1,"minE",-9e15,0,"modulo",0,9];for(s=0;s<mt.length;s+=3)if(et=mt[s],at&&(this[et]=DEFAULTS$1[et]),(nt=a[et])!==void 0)if(mathfloor$1(nt)===nt&&nt>=mt[s+1]&&nt<=mt[s+2])this[et]=nt;else throw Error(invalidArgument$1+et+": "+nt);if(et="crypto",at&&(this[et]=DEFAULTS$1[et]),(nt=a[et])!==void 0)if(nt===!0||nt===!1||nt===0||nt===1)if(nt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[et]=!0;else throw Error(cryptoUnavailable$1);else this[et]=!1;else throw Error(invalidArgument$1+et+": "+nt);return this}function cos$1(a){return new this(a).cos()}function cosh$1(a){return new this(a).cosh()}function clone$2(a){var s,et,nt;function at(mt){var wt,$t,Ct,Dt=this;if(!(Dt instanceof at))return new at(mt);if(Dt.constructor=at,isDecimalInstance$1(mt)){Dt.s=mt.s,external$1?!mt.d||mt.e>at.maxE?(Dt.e=NaN,Dt.d=null):mt.e<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=mt.e,Dt.d=mt.d.slice()):(Dt.e=mt.e,Dt.d=mt.d?mt.d.slice():mt.d);return}if(Ct=typeof mt,Ct==="number"){if(mt===0){Dt.s=1/mt<0?-1:1,Dt.e=0,Dt.d=[0];return}if(mt<0?(mt=-mt,Dt.s=-1):Dt.s=1,mt===~~mt&&mt<1e7){for(wt=0,$t=mt;$t>=10;$t/=10)wt++;external$1?wt>at.maxE?(Dt.e=NaN,Dt.d=null):wt<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=wt,Dt.d=[mt]):(Dt.e=wt,Dt.d=[mt]);return}if(mt*0!==0){mt||(Dt.s=NaN),Dt.e=NaN,Dt.d=null;return}return parseDecimal$1(Dt,mt.toString())}if(Ct==="string")return($t=mt.charCodeAt(0))===45?(mt=mt.slice(1),Dt.s=-1):($t===43&&(mt=mt.slice(1)),Dt.s=1),isDecimal$1.test(mt)?parseDecimal$1(Dt,mt):parseOther$1(Dt,mt);if(Ct==="bigint")return mt<0?(mt=-mt,Dt.s=-1):Dt.s=1,parseDecimal$1(Dt,mt.toString());throw Error(invalidArgument$1+mt)}if(at.prototype=P$3,at.ROUND_UP=0,at.ROUND_DOWN=1,at.ROUND_CEIL=2,at.ROUND_FLOOR=3,at.ROUND_HALF_UP=4,at.ROUND_HALF_DOWN=5,at.ROUND_HALF_EVEN=6,at.ROUND_HALF_CEIL=7,at.ROUND_HALF_FLOOR=8,at.EUCLID=9,at.config=at.set=config$3,at.clone=clone$2,at.isDecimal=isDecimalInstance$1,at.abs=abs$2,at.acos=acos$1,at.acosh=acosh$1,at.add=add$2,at.asin=asin$1,at.asinh=asinh$1,at.atan=atan$1,at.atanh=atanh$1,at.atan2=atan2$1,at.cbrt=cbrt$1,at.ceil=ceil$1,at.clamp=clamp$3,at.cos=cos$1,at.cosh=cosh$1,at.div=div$1,at.exp=exp$1,at.floor=floor$2,at.hypot=hypot$1,at.ln=ln$3,at.log=log$1,at.log10=log10$1,at.log2=log2$1,at.max=max$2,at.min=min$2,at.mod=mod$1,at.mul=mul$1,at.pow=pow$2,at.random=random$1,at.round=round$2,at.sign=sign$3,at.sin=sin$1,at.sinh=sinh$1,at.sqrt=sqrt$1,at.sub=sub$1,at.sum=sum$1,at.tan=tan$1,at.tanh=tanh$1,at.trunc=trunc$1,a===void 0&&(a={}),a&&a.defaults!==!0)for(nt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],s=0;s<nt.length;)a.hasOwnProperty(et=nt[s++])||(a[et]=this[et]);return at.config(a),at}function div$1(a,s){return new this(a).div(s)}function exp$1(a){return new this(a).exp()}function floor$2(a){return finalise$1(a=new this(a),a.e+1,3)}function hypot$1(){var a,s,et=new this(0);for(external$1=!1,a=0;a<arguments.length;)if(s=new this(arguments[a++]),s.d)et.d&&(et=et.plus(s.times(s)));else{if(s.s)return external$1=!0,new this(1/0);et=s}return external$1=!0,et.sqrt()}function isDecimalInstance$1(a){return a instanceof Decimal$1||a&&a.toStringTag===tag$1||!1}function ln$3(a){return new this(a).ln()}function log$1(a,s){return new this(a).log(s)}function log2$1(a){return new this(a).log(2)}function log10$1(a){return new this(a).log(10)}function max$2(){return maxOrMin$1(this,arguments,-1)}function min$2(){return maxOrMin$1(this,arguments,1)}function mod$1(a,s){return new this(a).mod(s)}function mul$1(a,s){return new this(a).mul(s)}function pow$2(a,s){return new this(a).pow(s)}function random$1(a){var s,et,nt,at,mt=0,wt=new this(1),$t=[];if(a===void 0?a=this.precision:checkInt32$1(a,1,MAX_DIGITS$1),nt=Math.ceil(a/LOG_BASE$1),this.crypto)if(crypto.getRandomValues)for(s=crypto.getRandomValues(new Uint32Array(nt));mt<nt;)at=s[mt],at>=429e7?s[mt]=crypto.getRandomValues(new Uint32Array(1))[0]:$t[mt++]=at%1e7;else if(crypto.randomBytes){for(s=crypto.randomBytes(nt*=4);mt<nt;)at=s[mt]+(s[mt+1]<<8)+(s[mt+2]<<16)+((s[mt+3]&127)<<24),at>=214e7?crypto.randomBytes(4).copy(s,mt):($t.push(at%1e7),mt+=4);mt=nt/4}else throw Error(cryptoUnavailable$1);else for(;mt<nt;)$t[mt++]=Math.random()*1e7|0;for(nt=$t[--mt],a%=LOG_BASE$1,nt&&a&&(at=mathpow$1(10,LOG_BASE$1-a),$t[mt]=(nt/at|0)*at);$t[mt]===0;mt--)$t.pop();if(mt<0)et=0,$t=[0];else{for(et=-1;$t[0]===0;et-=LOG_BASE$1)$t.shift();for(nt=1,at=$t[0];at>=10;at/=10)nt++;nt<LOG_BASE$1&&(et-=LOG_BASE$1-nt)}return wt.e=et,wt.d=$t,wt}function round$2(a){return finalise$1(a=new this(a),a.e+1,this.rounding)}function sign$3(a){return a=new this(a),a.d?a.d[0]?a.s:0*a.s:a.s||NaN}function sin$1(a){return new this(a).sin()}function sinh$1(a){return new this(a).sinh()}function sqrt$1(a){return new this(a).sqrt()}function sub$1(a,s){return new this(a).sub(s)}function sum$1(){var a=0,s=arguments,et=new this(s[a]);for(external$1=!1;et.s&&++a<s.length;)et=et.plus(s[a]);return external$1=!0,finalise$1(et,this.precision,this.rounding)}function tan$1(a){return new this(a).tan()}function tanh$1(a){return new this(a).tanh()}function trunc$1(a){return finalise$1(a=new this(a),a.e+1,1)}P$3[Symbol.for("nodejs.util.inspect.custom")]=P$3.toString;P$3[Symbol.toStringTag]="Decimal";var Decimal$1=P$3.constructor=clone$2(DEFAULTS$1);LN10$1=new Decimal$1(LN10$1);PI$1=new Decimal$1(PI$1);var CompareResult;(function(a){a[a.EQUAL=0]="EQUAL",a[a.GREATER=1]="GREATER",a[a.LESS=-1]="LESS"})(CompareResult||(CompareResult={}));var Comparator=function(){function a(s){this.compare=s||a.defaultCompareFunction}return a.defaultCompareFunction=function(s,et){return s===et?CompareResult.EQUAL:s<et?CompareResult.LESS:CompareResult.GREATER},a.prototype.equal=function(s,et){return this.compare(s,et)===CompareResult.EQUAL},a.prototype.lessThan=function(s,et){return this.compare(s,et)===CompareResult.LESS},a.prototype.greaterThan=function(s,et){return this.compare(s,et)===CompareResult.GREATER},a.prototype.lessThanOrEqual=function(s,et){return this.lessThan(s,et)||this.equal(s,et)},a.prototype.greaterThanOrEqual=function(s,et){return this.greaterThan(s,et)||this.equal(s,et)},a.prototype.reverse=function(){var s=this.compare;this.compare=function(et,nt){return s(nt,et)}},a}(),SinglyNode=function(){function a(s){this.value=s,this.next=null}return a}(),DoublyNode=function(){function a(s){this.value=s,this.next=null,this.prev=null}return a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(a,s){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,nt){et.__proto__=nt}||function(et,nt){for(var at in nt)nt.hasOwnProperty(at)&&(et[at]=nt[at])},extendStatics(a,s)};function __extends(a,s){extendStatics(a,s);function et(){this.constructor=a}a.prototype=s===null?Object.create(s):(et.prototype=s.prototype,new et)}function __generator(a,s){var et={label:0,sent:function(){if(mt[0]&1)throw mt[1];return mt[1]},trys:[],ops:[]},nt,at,mt,wt;return wt={next:$t(0),throw:$t(1),return:$t(2)},typeof Symbol=="function"&&(wt[Symbol.iterator]=function(){return this}),wt;function $t(Dt){return function(Ft){return Ct([Dt,Ft])}}function Ct(Dt){if(nt)throw new TypeError("Generator is already executing.");for(;et;)try{if(nt=1,at&&(mt=Dt[0]&2?at.return:Dt[0]?at.throw||((mt=at.return)&&mt.call(at),0):at.next)&&!(mt=mt.call(at,Dt[1])).done)return mt;switch(at=0,mt&&(Dt=[Dt[0]&2,mt.value]),Dt[0]){case 0:case 1:mt=Dt;break;case 4:return et.label++,{value:Dt[1],done:!1};case 5:et.label++,at=Dt[1],Dt=[0];continue;case 7:Dt=et.ops.pop(),et.trys.pop();continue;default:if(mt=et.trys,!(mt=mt.length>0&&mt[mt.length-1])&&(Dt[0]===6||Dt[0]===2)){et=0;continue}if(Dt[0]===3&&(!mt||Dt[1]>mt[0]&&Dt[1]<mt[3])){et.label=Dt[1];break}if(Dt[0]===6&&et.label<mt[1]){et.label=mt[1],mt=Dt;break}if(mt&&et.label<mt[2]){et.label=mt[2],et.ops.push(Dt);break}mt[2]&&et.ops.pop(),et.trys.pop();continue}Dt=s.call(a,et)}catch(Ft){Dt=[6,Ft],at=0}finally{nt=mt=0}if(Dt[0]&5)throw Dt[1];return{value:Dt[0]?Dt[1]:void 0,done:!0}}}function __read$2(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var nt=et.call(a),at,mt=[],wt;try{for(;(s===void 0||s-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spread$2(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(__read$2(arguments[s]));return a}var OBFUSCATED_ERROR="obfuse error occur";function invariant$O(a,s){if(!a)throw new Error("[linked-list] "+(s||OBFUSCATED_ERROR))}var INDEX_NOT_FOUND=-1,List=function(){function a(){for(var s=this,et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];this._head=null,this._tail=null,this._length=0,this.compare=new Comparator,et.length>0&&et.forEach(function(at){s.append(at)})}return Object.defineProperty(a.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"loopLength",{get:function(){var s=!1,et=1;if(!this._head)return 0;for(var nt=this._head,at=this._head;at.next&&at.next.next;)if(at=at.next.next,nt=nt.next,nt===at){s=!0;break}if(s){for(at=at.next;nt!==at;)et++,at=at.next;return et}else return 0},enumerable:!0,configurable:!0}),a.prototype.getNode=function(s){var et=this._length;invariant$O(et>0&&s>=0&&s<et,"[linked-list] index "+s+" out of scope of list, which length is "+et);for(var nt=this._head,at=0;at<s;)nt=nt.next,at++;return nt},a.prototype.get=function(s){var et=this.getNode(s);return et?et.value:null},a.prototype.find=function(s){var et=s.value,nt=s.callback;if(!this._head)return null;for(var at=this._head;at;){if(nt&&nt(at.value)||et!==void 0&&this.compare.equal(at.value,et))return at;at=at.next}return null},a.prototype.indexOf=function(s){if(!this._head)return INDEX_NOT_FOUND;for(var et=this._head,nt=-1;et.next;){if(nt++,this.compare.equal(et.value,s))return nt;et=et.next}return et===this._tail&&this.compare.equal(et.value,s)&&(nt+=1),nt},a.prototype.first=function(s){invariant$O(s>=0,"[linked-list] param 'num' ("+s+") should not less than 0");for(var et=this.iterator(),nt=[],at=Math.min(s,this.length),mt=0;mt<at;mt++){var wt=et.next();nt.push(wt.value)}return nt},a.prototype.toArray=function(){return __spread$2(this)},a.prototype.isEmpty=function(){return this._head===null},a.prototype.iterator=function(){var s;return __generator(this,function(et){switch(et.label){case 0:s=this._head,et.label=1;case 1:return s?[4,s.value]:[3,3];case 2:return et.sent(),s=s.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a}(),SinglyList=function(a){__extends(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return a.apply(this,__spread$2(et))||this}return s.prototype.append=function(et){var nt=new SinglyNode(et);return this._tail?(this._tail.next=nt,this._tail=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.prepend=function(et){var nt=new SinglyNode(et);return this._head?(nt.next=this._head,this._head=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,nt.next=null):this._head=this._tail=null,this._length--,et;for(var at=nt;;){if(this.compare.equal(nt.value,et))return nt.next?at.next=nt.next:(this._tail=at,this._tail.next=null),nt.next=null,this._length--,et;if(nt.next)at=nt,nt=nt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et){if(!this._head.next)this._head=null,this._tail=null;else{for(var nt=this._head;nt.next!==et;)nt=nt.next;nt.next=null,this._tail=nt}return this._length--,et.value}},s.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,nt=et,et=at;this._head=nt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s}(List),AbstractCircleSinglyList=function(a){__extends(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=a.prototype[et].apply(this,nt);return this.cyclization(),mt},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){invariant$O(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(SinglyList);(function(a){__extends(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},s.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s})(AbstractCircleSinglyList);var DoublyList=function(a){__extends(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return a.apply(this,__spread$2(et))||this}return s.prototype.append=function(et){var nt=new DoublyNode(et);return this._tail?(this._tail.next=nt,nt.prev=this._tail,this._tail=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.prepend=function(et){var nt=new DoublyNode(et);return this._head?(nt.next=this._head,this._head.prev=nt,this._head=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,this._head.prev=null,nt.next=nt.prev=null):this._head=this._tail=null,this._length--,et;for(;;){if(this.compare.equal(nt.value,et))return nt.next?(nt.prev.next=nt.next,nt.next.prev=nt.prev,nt.next=nt.prev=null):(nt.prev.next=null,this._tail=nt.prev,nt.next=nt.prev=null),this._length--,nt.value;if(nt.next)nt=nt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(et.next.prev=null,this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et)return this._head.next?(et.prev.next=null,this._tail=et.prev,et.next=et.prev=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,et.prev=at,nt=et,et=at;this._head=nt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s}(List),AbstractCircleDoublyList=function(a){__extends(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=a.prototype[et].apply(this,nt);return this.cyclization(),mt},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){invariant$O(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(DoublyList);(function(a){__extends(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},s.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s})(AbstractCircleDoublyList);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read$1(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var nt=et.call(a),at,mt=[],wt;try{for(;(s===void 0||s-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spread$1(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(__read$1(arguments[s]));return a}var Queue=function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.queue=new(SinglyList.bind.apply(SinglyList,__spread$1([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.queue.isEmpty()},a.prototype.enqueue=function(s){return this.queue.append(s)},a.prototype.dequeue=function(){var s=this.queue.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.queue.toArray()},a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var nt=et.call(a),at,mt=[],wt;try{for(;(s===void 0||s-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spread(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(__read(arguments[s]));return a}var stack=function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.stack=new(SinglyList.bind.apply(SinglyList,__spread([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.stack.isEmpty()},a.prototype.push=function(s){return this.stack.append(s)},a.prototype.pop=function(){var s=this.stack.removeTail();return typeof s<"u"?s:void 0},a.prototype.popBottom=function(){var s=this.stack.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.stack.toArray()},a}(),GraphEdge=function(){function a(s,et,nt){nt===void 0&&(nt=0),this.startVertex=s,this.endVertex=et,this.weight=nt}return a.prototype.getKey=function(){var s=this.startVertex.getKey(),et=this.endVertex.getKey();return s+"_"+et},a.prototype.reverse=function(){var s=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=s,this},a.prototype.clone=function(){return new a(this.startVertex,this.endVertex,this.weight)},a.prototype.toString=function(){return this.getKey()},a}();function invariant$N(a,s,et){if(et===void 0&&(et="cc-graph"),!a)throw new Error((et?"["+et+"]":"")+" Invariant failed: "+s)}function isExist(a,s){s===void 0&&(s=!0);var et=typeof a<"u"&&a!==null;return s?et&&a!=="undefined"&&a!=="null":et}var GraphVertex=function(){function a(s){invariant$N(isExist(s),"Graph vertex must have a value"),this.value=s,this.edges=new Map}return a.prototype.addEdge=function(s){return this.edges.set(s.getKey(),s),this},a.prototype.deleteEdge=function(s){this.edges.delete(s.getKey())},a.prototype.getNeighbors=function(){var s=this,et=this.getEdges(),nt=function(at){return at.startVertex===s?at.endVertex:at.startVertex};return et.map(nt)},a.prototype.getEdges=function(){return Array.from(this.edges.values())},a.prototype.getDegree=function(){return this.getEdges().length},a.prototype.hasEdge=function(s){var et=this.getEdges().find(function(nt){return nt===s});return!!et},a.prototype.hasNeighbor=function(s){var et=this.getEdges().find(function(nt){return nt.startVertex===s||nt.endVertex===s});return!!et},a.prototype.findEdge=function(s){var et=function(at){return at.startVertex===s||at.endVertex===s},nt=this.getEdges().find(et);return nt||null},a.prototype.getKey=function(){return this.value},a.prototype.deleteAllEdges=function(){var s=this;return this.getEdges().forEach(function(et){return s.deleteEdge(et)}),this},a.prototype.toString=function(s){return s?s(this.value):""+this.value},a}();function buildDualStack(a,s,et,nt){if(a){s.push(a),nt.set(a.getKey(),!0);var at=a.getNeighbors().filter(function(mt){return!nt.get(mt.getKey())});et.push(at)}}function cutdownDualStack(a,s,et){var nt=a.pop();nt&&et.set(nt.getKey(),!1),s.pop()}var Graph=function(){function a(s){s===void 0&&(s=!1),this.vertices={},this.edges={},this.isDirected=s}return a.prototype.addVertex=function(s){return this.vertices[s.getKey()]=s,this},a.prototype.getVertexByKey=function(s){return this.vertices[s]},a.prototype.getNeighbors=function(s){return s.getNeighbors()},a.prototype.getAllVertices=function(){return Object.values(this.vertices)},a.prototype.getAllEdges=function(){return Object.values(this.edges)},a.prototype.addEdge=function(s,et){if(et===void 0&&(et=!1),this.edges[s.getKey()]){if(et)return this;invariant$N(!1,"Edge has already been added before")}var nt=this.getVertexByKey(s.startVertex.getKey()),at=this.getVertexByKey(s.endVertex.getKey());if(nt||(this.addVertex(s.startVertex),nt=this.getVertexByKey(s.startVertex.getKey())),at||(this.addVertex(s.endVertex),at=this.getVertexByKey(s.endVertex.getKey())),this.edges[s.getKey()]=s,this.isDirected)nt.addEdge(s);else{nt.addEdge(s);var mt=s.clone();at.addEdge(mt.reverse())}return this},a.prototype.deleteEdge=function(s,et){if(et===void 0&&(et=!1),!this.edges[s.getKey()]){if(et)return this;invariant$N(!1,"Edge not found in graph")}delete this.edges[s.getKey()];var nt=this.getVertexByKey(s.startVertex.getKey()),at=this.getVertexByKey(s.endVertex.getKey());return nt.deleteEdge(s),at.deleteEdge(s),this},a.prototype.findEdge=function(s,et){var nt=this.getVertexByKey(s.getKey());return nt?nt.findEdge(et):null},a.prototype.getWeight=function(){return this.getAllEdges().reduce(function(s,et){return s+et.weight},0)},a.prototype.reverse=function(){var s=this;return this.getAllEdges().forEach(function(et){s.deleteEdge(et),et.reverse(),s.addEdge(et)}),this},a.prototype.getVerticesIndices=function(){var s={};return this.getAllVertices().forEach(function(et,nt){s[et.getKey()]=nt}),s},a.prototype.getAdjacencyMatrix=function(){var s=this,et=this.getAllVertices(),nt=this.getVerticesIndices(),at=Array(et.length).fill(null).map(function(){return Array(et.length).fill(1/0)});return et.forEach(function(mt,wt){mt.getNeighbors().forEach(function($t){var Ct=nt[$t.getKey()],Dt=s.findEdge(mt,$t);Dt&&(at[wt][Ct]=Dt.weight)})}),at},a.prototype.toString=function(){return Object.keys(this.vertices).toString()},a.prototype.bfs=function(s){var et,nt,at;return __generator$1(this,function(mt){switch(mt.label){case 0:et=new Map,nt=new Queue,nt.enqueue(s),mt.label=1;case 1:return nt.isEmpty()?[3,4]:(at=nt.dequeue(),at&&!et.has(at.getKey())?[4,at]:[3,3]);case 2:mt.sent(),et.set(at.getKey(),at),at.getNeighbors().forEach(function(wt){return nt.enqueue(wt)}),mt.label=3;case 3:return[3,1];case 4:return[2]}})},a.prototype.dfs=function(s){var et,nt,at;return __generator$1(this,function(mt){switch(mt.label){case 0:et=new Map,nt=new stack,nt.push(s),mt.label=1;case 1:return nt.isEmpty()?[3,4]:(at=nt.pop(),at&&!et.has(at.getKey())?[4,at]:[3,3]);case 2:mt.sent(),et.set(at.getKey(),at),at.getNeighbors().forEach(function(wt){return nt.push(wt)}),mt.label=3;case 3:return[3,1];case 4:return[2]}})},a.prototype.findAllPath=function(s,et){var nt,at,mt,wt,$t,Ct,Dt;return __generator$1(this,function(Ft){switch(Ft.label){case 0:return nt=[],s!==et?[3,2]:(nt.push(s),[4,nt]);case 1:return Ft.sent(),[2];case 2:at=new Map,mt=new stack,wt=new stack,buildDualStack(s,mt,wt,at),Ft.label=3;case 3:if(mt.isEmpty())return[3,6];if($t=wt.pop(),$t&&$t.length)Ct=$t.shift(),wt.push($t),Ct&&buildDualStack(Ct,mt,wt,at);else return wt.push($t),cutdownDualStack(mt,wt,at),[3,3];return Dt=mt.peek,Dt!==et?[3,5]:[4,mt.toArray()];case 4:Ft.sent(),cutdownDualStack(mt,wt,at),Ft.label=5;case 5:return[3,3];case 6:return[2]}})},a}();const version$2="3.7.7",VERSION$3=version$2,_hasBuffer=typeof Buffer$1=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(a=>{let s={};return a.forEach((et,nt)=>s[et]=nt),s})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):a=>new Uint8Array(Array.prototype.slice.call(a,0)),_mkUriSafe=a=>a.replace(/=/g,"").replace(/[+\/]/g,s=>s=="+"?"-":"_"),_tidyB64=a=>a.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=a=>{let s,et,nt,at,mt="";const wt=a.length%3;for(let $t=0;$t<a.length;){if((et=a.charCodeAt($t++))>255||(nt=a.charCodeAt($t++))>255||(at=a.charCodeAt($t++))>255)throw new TypeError("invalid character found");s=et<<16|nt<<8|at,mt+=b64chs[s>>18&63]+b64chs[s>>12&63]+b64chs[s>>6&63]+b64chs[s&63]}return wt?mt.slice(0,wt-3)+"===".substring(wt):mt},_btoa=typeof btoa=="function"?a=>btoa(a):_hasBuffer?a=>Buffer$1.from(a,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?a=>Buffer$1.from(a).toString("base64"):a=>{let et=[];for(let nt=0,at=a.length;nt<at;nt+=4096)et.push(_fromCC.apply(null,a.subarray(nt,nt+4096)));return _btoa(et.join(""))},fromUint8Array=(a,s=!1)=>s?_mkUriSafe(_fromUint8Array(a)):_fromUint8Array(a),cb_utob=a=>{if(a.length<2){var s=a.charCodeAt(0);return s<128?a:s<2048?_fromCC(192|s>>>6)+_fromCC(128|s&63):_fromCC(224|s>>>12&15)+_fromCC(128|s>>>6&63)+_fromCC(128|s&63)}else{var s=65536+(a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320);return _fromCC(240|s>>>18&7)+_fromCC(128|s>>>12&63)+_fromCC(128|s>>>6&63)+_fromCC(128|s&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=a=>a.replace(re_utob,cb_utob),_encode=_hasBuffer?a=>Buffer$1.from(a,"utf8").toString("base64"):_TE?a=>_fromUint8Array(_TE.encode(a)):a=>_btoa(utob(a)),encode$2=(a,s=!1)=>s?_mkUriSafe(_encode(a)):_encode(a),encodeURI$1=a=>encode$2(a,!0),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=a=>{switch(a.length){case 4:var s=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),et=s-65536;return _fromCC((et>>>10)+55296)+_fromCC((et&1023)+56320);case 3:return _fromCC((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return _fromCC((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},btou=a=>a.replace(re_btou,cb_btou),atobPolyfill=a=>{if(a=a.replace(/\s+/g,""),!b64re.test(a))throw new TypeError("malformed base64.");a+="==".slice(2-(a.length&3));let s,et="",nt,at;for(let mt=0;mt<a.length;)s=b64tab[a.charAt(mt++)]<<18|b64tab[a.charAt(mt++)]<<12|(nt=b64tab[a.charAt(mt++)])<<6|(at=b64tab[a.charAt(mt++)]),et+=nt===64?_fromCC(s>>16&255):at===64?_fromCC(s>>16&255,s>>8&255):_fromCC(s>>16&255,s>>8&255,s&255);return et},_atob=typeof atob=="function"?a=>atob(_tidyB64(a)):_hasBuffer?a=>Buffer$1.from(a,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?a=>_U8Afrom(Buffer$1.from(a,"base64")):a=>_U8Afrom(_atob(a).split("").map(s=>s.charCodeAt(0))),toUint8Array=a=>_toUint8Array(_unURI(a)),_decode=_hasBuffer?a=>Buffer$1.from(a,"base64").toString("utf8"):_TD?a=>_TD.decode(_toUint8Array(a)):a=>btou(_atob(a)),_unURI=a=>_tidyB64(a.replace(/[-_]/g,s=>s=="-"?"+":"/")),decode=a=>_decode(_unURI(a)),isValid=a=>{if(typeof a!="string")return!1;const s=a.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(s)||!/[^\s0-9a-zA-Z\-_]/.test(s)},_noEnum=a=>({value:a,enumerable:!1,writable:!0,configurable:!0}),extendString=function(){const a=(s,et)=>Object.defineProperty(String.prototype,s,_noEnum(et));a("fromBase64",function(){return decode(this)}),a("toBase64",function(s){return encode$2(this,s)}),a("toBase64URI",function(){return encode$2(this,!0)}),a("toBase64URL",function(){return encode$2(this,!0)}),a("toUint8Array",function(){return toUint8Array(this)})},extendUint8Array=function(){const a=(s,et)=>Object.defineProperty(Uint8Array.prototype,s,_noEnum(et));a("toBase64",function(s){return fromUint8Array(this,s)}),a("toBase64URI",function(){return fromUint8Array(this,!0)}),a("toBase64URL",function(){return fromUint8Array(this,!0)})},extendBuiltins=()=>{extendString(),extendUint8Array()},gBase64={version:version$2,VERSION:VERSION$3,atob:_atob,atobPolyfill,btoa:_btoa,btoaPolyfill,fromBase64:decode,toBase64:encode$2,encode:encode$2,encodeURI:encodeURI$1,encodeURL:encodeURI$1,utob,btou,decode,isValid,fromUint8Array,toUint8Array,extendString,extendUint8Array,extendBuiltins};let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let a=0;a<256;++a)byteToHex$1.push((a+256).toString(16).slice(1));function unsafeStringify(a,s=0){return byteToHex$1[a[s+0]]+byteToHex$1[a[s+1]]+byteToHex$1[a[s+2]]+byteToHex$1[a[s+3]]+"-"+byteToHex$1[a[s+4]]+byteToHex$1[a[s+5]]+"-"+byteToHex$1[a[s+6]]+byteToHex$1[a[s+7]]+"-"+byteToHex$1[a[s+8]]+byteToHex$1[a[s+9]]+"-"+byteToHex$1[a[s+10]]+byteToHex$1[a[s+11]]+byteToHex$1[a[s+12]]+byteToHex$1[a[s+13]]+byteToHex$1[a[s+14]]+byteToHex$1[a[s+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4$1(a,s,et){if(native.randomUUID&&!a)return native.randomUUID();a=a||{};const nt=a.random||(a.rng||rng$1)();return nt[6]=nt[6]&15|64,nt[8]=nt[8]&63|128,unsafeStringify(nt)}const global$1=globalThis||void 0||self;function bind(a,s){return function(){return a.apply(s,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(a=>s=>{const et=toString$1.call(s);return a[et]||(a[et]=et.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=a=>(a=a.toLowerCase(),s=>kindOf(s)===a),typeOfTest=a=>s=>typeof s===a,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&isFunction$1(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(a){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(a):s=a&&a.buffer&&isArrayBuffer(a.buffer),s}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=a=>a!==null&&typeof a=="object",isBoolean=a=>a===!0||a===!1,isPlainObject=a=>{if(kindOf(a)!=="object")return!1;const s=getPrototypeOf(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=a=>isObject$2(a)&&isFunction$1(a.pipe),isFormData=a=>{let s;return a&&(typeof FormData=="function"&&a instanceof FormData||isFunction$1(a.append)&&((s=kindOf(a))==="formdata"||s==="object"&&isFunction$1(a.toString)&&a.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest$1,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(a,s,{allOwnKeys:et=!1}={}){if(a===null||typeof a>"u")return;let nt,at;if(typeof a!="object"&&(a=[a]),isArray$1(a))for(nt=0,at=a.length;nt<at;nt++)s.call(null,a[nt],nt,a);else{const mt=et?Object.getOwnPropertyNames(a):Object.keys(a),wt=mt.length;let $t;for(nt=0;nt<wt;nt++)$t=mt[nt],s.call(null,a[$t],$t,a)}}function findKey(a,s){s=s.toLowerCase();const et=Object.keys(a);let nt=et.length,at;for(;nt-- >0;)if(at=et[nt],s===at.toLowerCase())return at;return null}const _global$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined=a=>!isUndefined(a)&&a!==_global$1;function merge$1(){const{caseless:a}=isContextDefined(this)&&this||{},s={},et=(nt,at)=>{const mt=a&&findKey(s,at)||at;isPlainObject(s[mt])&&isPlainObject(nt)?s[mt]=merge$1(s[mt],nt):isPlainObject(nt)?s[mt]=merge$1({},nt):isArray$1(nt)?s[mt]=nt.slice():s[mt]=nt};for(let nt=0,at=arguments.length;nt<at;nt++)arguments[nt]&&forEach$1(arguments[nt],et);return s}const extend=(a,s,et,{allOwnKeys:nt}={})=>(forEach$1(s,(at,mt)=>{et&&isFunction$1(at)?a[mt]=bind(at,et):a[mt]=at},{allOwnKeys:nt}),a),stripBOM=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),inherits=(a,s,et,nt)=>{a.prototype=Object.create(s.prototype,nt),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:s.prototype}),et&&Object.assign(a.prototype,et)},toFlatObject=(a,s,et,nt)=>{let at,mt,wt;const $t={};if(s=s||{},a==null)return s;do{for(at=Object.getOwnPropertyNames(a),mt=at.length;mt-- >0;)wt=at[mt],(!nt||nt(wt,a,s))&&!$t[wt]&&(s[wt]=a[wt],$t[wt]=!0);a=et!==!1&&getPrototypeOf(a)}while(a&&(!et||et(a,s))&&a!==Object.prototype);return s},endsWith=(a,s,et)=>{a=String(a),(et===void 0||et>a.length)&&(et=a.length),et-=s.length;const nt=a.indexOf(s,et);return nt!==-1&&nt===et},toArray=a=>{if(!a)return null;if(isArray$1(a))return a;let s=a.length;if(!isNumber(s))return null;const et=new Array(s);for(;s-- >0;)et[s]=a[s];return et},isTypedArray$2=(a=>s=>a&&s instanceof a)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(a,s)=>{const nt=(a&&a[Symbol.iterator]).call(a);let at;for(;(at=nt.next())&&!at.done;){const mt=at.value;s.call(a,mt[0],mt[1])}},matchAll=(a,s)=>{let et;const nt=[];for(;(et=a.exec(s))!==null;)nt.push(et);return nt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(et,nt,at){return nt.toUpperCase()+at}),hasOwnProperty$a=(({hasOwnProperty:a})=>(s,et)=>a.call(s,et))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(a,s)=>{const et=Object.getOwnPropertyDescriptors(a),nt={};forEach$1(et,(at,mt)=>{let wt;(wt=s(at,mt,a))!==!1&&(nt[mt]=wt||at)}),Object.defineProperties(a,nt)},freezeMethods=a=>{reduceDescriptors(a,(s,et)=>{if(isFunction$1(a)&&["arguments","caller","callee"].indexOf(et)!==-1)return!1;const nt=a[et];if(isFunction$1(nt)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+et+"'")})}})},toObjectSet=(a,s)=>{const et={},nt=at=>{at.forEach(mt=>{et[mt]=!0})};return isArray$1(a)?nt(a):nt(String(a).split(s)),et},noop$1=()=>{},toFiniteNumber=(a,s)=>a!=null&&Number.isFinite(a=+a)?a:s;function isSpecCompliantForm(a){return!!(a&&isFunction$1(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const toJSONObject=a=>{const s=new Array(10),et=(nt,at)=>{if(isObject$2(nt)){if(s.indexOf(nt)>=0)return;if(!("toJSON"in nt)){s[at]=nt;const mt=isArray$1(nt)?[]:{};return forEach$1(nt,(wt,$t)=>{const Ct=et(wt,at+1);!isUndefined(Ct)&&(mt[$t]=Ct)}),s[at]=void 0,mt}}return nt};return et(a,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=a=>a&&(isObject$2(a)||isFunction$1(a))&&isFunction$1(a.then)&&isFunction$1(a.catch),_setImmediate=((a,s)=>a?setImmediate:s?((et,nt)=>(_global$1.addEventListener("message",({source:at,data:mt})=>{at===_global$1&&mt===et&&nt.length&&nt.shift()()},!1),at=>{nt.push(at),_global$1.postMessage(et,"*")}))(`axios@${Math.random()}`,[]):et=>setTimeout(et))(typeof setImmediate=="function",isFunction$1(_global$1.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global$1):typeof process$1<"u"&&process$1.nextTick||_setImmediate,utils$6={isArray:isArray$1,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$2,isPlainObject,isReadableStream,isRequest:isRequest$1,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$2,isFileList,forEach:forEach$1,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$a,hasOwnProp:hasOwnProperty$a,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global$1,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(a,s,et,nt,at){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",s&&(this.code=s),et&&(this.config=et),nt&&(this.request=nt),at&&(this.response=at,this.status=at.status?at.status:null)}utils$6.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$6.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{descriptors[a]={value:a}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(a,s,et,nt,at,mt)=>{const wt=Object.create(prototype$1);return utils$6.toFlatObject(a,wt,function(Ct){return Ct!==Error.prototype},$t=>$t!=="isAxiosError"),AxiosError$1.call(wt,a.message,s,et,nt,at),wt.cause=a,wt.name=a.name,mt&&Object.assign(wt,mt),wt};const httpAdapter=null;function isVisitable(a){return utils$6.isPlainObject(a)||utils$6.isArray(a)}function removeBrackets(a){return utils$6.endsWith(a,"[]")?a.slice(0,-2):a}function renderKey(a,s,et){return a?a.concat(s).map(function(at,mt){return at=removeBrackets(at),!et&&mt?"["+at+"]":at}).join(et?".":""):s}function isFlatArray(a){return utils$6.isArray(a)&&!a.some(isVisitable)}const predicates=utils$6.toFlatObject(utils$6,{},null,function(s){return/^is[A-Z]/.test(s)});function toFormData$1(a,s,et){if(!utils$6.isObject(a))throw new TypeError("target must be an object");s=s||new FormData,et=utils$6.toFlatObject(et,{metaTokens:!0,dots:!1,indexes:!1},!1,function(sr,ur){return!utils$6.isUndefined(ur[sr])});const nt=et.metaTokens,at=et.visitor||Ft,mt=et.dots,wt=et.indexes,Ct=(et.Blob||typeof Blob<"u"&&Blob)&&utils$6.isSpecCompliantForm(s);if(!utils$6.isFunction(at))throw new TypeError("visitor must be a function");function Dt(ir){if(ir===null)return"";if(utils$6.isDate(ir))return ir.toISOString();if(!Ct&&utils$6.isBlob(ir))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$6.isArrayBuffer(ir)||utils$6.isTypedArray(ir)?Ct&&typeof Blob=="function"?new Blob([ir]):Buffer$1.from(ir):ir}function Ft(ir,sr,ur){let fr=ir;if(ir&&!ur&&typeof ir=="object"){if(utils$6.endsWith(sr,"{}"))sr=nt?sr:sr.slice(0,-2),ir=JSON.stringify(ir);else if(utils$6.isArray(ir)&&isFlatArray(ir)||(utils$6.isFileList(ir)||utils$6.endsWith(sr,"[]"))&&(fr=utils$6.toArray(ir)))return sr=removeBrackets(sr),fr.forEach(function(hr,vr){!(utils$6.isUndefined(hr)||hr===null)&&s.append(wt===!0?renderKey([sr],vr,mt):wt===null?sr:sr+"[]",Dt(hr))}),!1}return isVisitable(ir)?!0:(s.append(renderKey(ur,sr,mt),Dt(ir)),!1)}const jt=[],Ut=Object.assign(predicates,{defaultVisitor:Ft,convertValue:Dt,isVisitable});function tr(ir,sr){if(!utils$6.isUndefined(ir)){if(jt.indexOf(ir)!==-1)throw Error("Circular reference detected in "+sr.join("."));jt.push(ir),utils$6.forEach(ir,function(fr,dr){(!(utils$6.isUndefined(fr)||fr===null)&&at.call(s,fr,utils$6.isString(dr)?dr.trim():dr,sr,Ut))===!0&&tr(fr,sr?sr.concat(dr):[dr])}),jt.pop()}}if(!utils$6.isObject(a))throw new TypeError("data must be an object");return tr(a),s}function encode$1(a){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(nt){return s[nt]})}function AxiosURLSearchParams(a,s){this._pairs=[],a&&toFormData$1(a,this,s)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(s,et){this._pairs.push([s,et])};prototype.toString=function(s){const et=s?function(nt){return s.call(this,nt,encode$1)}:encode$1;return this._pairs.map(function(at){return et(at[0])+"="+et(at[1])},"").join("&")};function encode(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(a,s,et){if(!s)return a;const nt=et&&et.encode||encode;utils$6.isFunction(et)&&(et={serialize:et});const at=et&&et.serialize;let mt;if(at?mt=at(s,et):mt=utils$6.isURLSearchParams(s)?s.toString():new AxiosURLSearchParams(s,et).toString(nt),mt){const wt=a.indexOf("#");wt!==-1&&(a=a.slice(0,wt)),a+=(a.indexOf("?")===-1?"?":"&")+mt}return a}class InterceptorManager{constructor(){this.handlers=[]}use(s,et,nt){return this.handlers.push({fulfilled:s,rejected:et,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){utils$6.forEach(this.handlers,function(nt){nt!==null&&s(nt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$5,...platform$1};function toURLEncodedForm(a,s){return toFormData$1(a,new platform.classes.URLSearchParams,Object.assign({visitor:function(et,nt,at,mt){return platform.isNode&&utils$6.isBuffer(et)?(this.append(nt,et.toString("base64")),!1):mt.defaultVisitor.apply(this,arguments)}},s))}function parsePropPath(a){return utils$6.matchAll(/\w+|\[(\w*)]/g,a).map(s=>s[0]==="[]"?"":s[1]||s[0])}function arrayToObject(a){const s={},et=Object.keys(a);let nt;const at=et.length;let mt;for(nt=0;nt<at;nt++)mt=et[nt],s[mt]=a[mt];return s}function formDataToJSON(a){function s(et,nt,at,mt){let wt=et[mt++];if(wt==="__proto__")return!0;const $t=Number.isFinite(+wt),Ct=mt>=et.length;return wt=!wt&&utils$6.isArray(at)?at.length:wt,Ct?(utils$6.hasOwnProp(at,wt)?at[wt]=[at[wt],nt]:at[wt]=nt,!$t):((!at[wt]||!utils$6.isObject(at[wt]))&&(at[wt]=[]),s(et,nt,at[wt],mt)&&utils$6.isArray(at[wt])&&(at[wt]=arrayToObject(at[wt])),!$t)}if(utils$6.isFormData(a)&&utils$6.isFunction(a.entries)){const et={};return utils$6.forEachEntry(a,(nt,at)=>{s(parsePropPath(nt),at,et,0)}),et}return null}function stringifySafely(a,s,et){if(utils$6.isString(a))try{return(s||JSON.parse)(a),utils$6.trim(a)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(et||JSON.stringify)(a)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(s,et){const nt=et.getContentType()||"",at=nt.indexOf("application/json")>-1,mt=utils$6.isObject(s);if(mt&&utils$6.isHTMLForm(s)&&(s=new FormData(s)),utils$6.isFormData(s))return at?JSON.stringify(formDataToJSON(s)):s;if(utils$6.isArrayBuffer(s)||utils$6.isBuffer(s)||utils$6.isStream(s)||utils$6.isFile(s)||utils$6.isBlob(s)||utils$6.isReadableStream(s))return s;if(utils$6.isArrayBufferView(s))return s.buffer;if(utils$6.isURLSearchParams(s))return et.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let $t;if(mt){if(nt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(s,this.formSerializer).toString();if(($t=utils$6.isFileList(s))||nt.indexOf("multipart/form-data")>-1){const Ct=this.env&&this.env.FormData;return toFormData$1($t?{"files[]":s}:s,Ct&&new Ct,this.formSerializer)}}return mt||at?(et.setContentType("application/json",!1),stringifySafely(s)):s}],transformResponse:[function(s){const et=this.transitional||defaults.transitional,nt=et&&et.forcedJSONParsing,at=this.responseType==="json";if(utils$6.isResponse(s)||utils$6.isReadableStream(s))return s;if(s&&utils$6.isString(s)&&(nt&&!this.responseType||at)){const wt=!(et&&et.silentJSONParsing)&&at;try{return JSON.parse(s)}catch($t){if(wt)throw $t.name==="SyntaxError"?AxiosError$1.from($t,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):$t}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$6.forEach(["delete","get","head","post","put","patch"],a=>{defaults.headers[a]={}});const ignoreDuplicateOf=utils$6.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=a=>{const s={};let et,nt,at;return a&&a.split(`
`).forEach(function(wt){at=wt.indexOf(":"),et=wt.substring(0,at).trim().toLowerCase(),nt=wt.substring(at+1).trim(),!(!et||s[et]&&ignoreDuplicateOf[et])&&(et==="set-cookie"?s[et]?s[et].push(nt):s[et]=[nt]:s[et]=s[et]?s[et]+", "+nt:nt)}),s},$internals=Symbol("internals");function normalizeHeader(a){return a&&String(a).trim().toLowerCase()}function normalizeValue(a){return a===!1||a==null?a:utils$6.isArray(a)?a.map(normalizeValue):String(a)}function parseTokens(a){const s=Object.create(null),et=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nt;for(;nt=et.exec(a);)s[nt[1]]=nt[2];return s}const isValidHeaderName=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function matchHeaderValue(a,s,et,nt,at){if(utils$6.isFunction(nt))return nt.call(this,s,et);if(at&&(s=et),!!utils$6.isString(s)){if(utils$6.isString(nt))return s.indexOf(nt)!==-1;if(utils$6.isRegExp(nt))return nt.test(s)}}function formatHeader(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,et,nt)=>et.toUpperCase()+nt)}function buildAccessors(a,s){const et=utils$6.toCamelCase(" "+s);["get","set","has"].forEach(nt=>{Object.defineProperty(a,nt+et,{value:function(at,mt,wt){return this[nt].call(this,s,at,mt,wt)},configurable:!0})})}let AxiosHeaders$1=class{constructor(s){s&&this.set(s)}set(s,et,nt){const at=this;function mt($t,Ct,Dt){const Ft=normalizeHeader(Ct);if(!Ft)throw new Error("header name must be a non-empty string");const jt=utils$6.findKey(at,Ft);(!jt||at[jt]===void 0||Dt===!0||Dt===void 0&&at[jt]!==!1)&&(at[jt||Ct]=normalizeValue($t))}const wt=($t,Ct)=>utils$6.forEach($t,(Dt,Ft)=>mt(Dt,Ft,Ct));if(utils$6.isPlainObject(s)||s instanceof this.constructor)wt(s,et);else if(utils$6.isString(s)&&(s=s.trim())&&!isValidHeaderName(s))wt(parseHeaders(s),et);else if(utils$6.isHeaders(s))for(const[$t,Ct]of s.entries())mt(Ct,$t,nt);else s!=null&&mt(et,s,nt);return this}get(s,et){if(s=normalizeHeader(s),s){const nt=utils$6.findKey(this,s);if(nt){const at=this[nt];if(!et)return at;if(et===!0)return parseTokens(at);if(utils$6.isFunction(et))return et.call(this,at,nt);if(utils$6.isRegExp(et))return et.exec(at);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,et){if(s=normalizeHeader(s),s){const nt=utils$6.findKey(this,s);return!!(nt&&this[nt]!==void 0&&(!et||matchHeaderValue(this,this[nt],nt,et)))}return!1}delete(s,et){const nt=this;let at=!1;function mt(wt){if(wt=normalizeHeader(wt),wt){const $t=utils$6.findKey(nt,wt);$t&&(!et||matchHeaderValue(nt,nt[$t],$t,et))&&(delete nt[$t],at=!0)}}return utils$6.isArray(s)?s.forEach(mt):mt(s),at}clear(s){const et=Object.keys(this);let nt=et.length,at=!1;for(;nt--;){const mt=et[nt];(!s||matchHeaderValue(this,this[mt],mt,s,!0))&&(delete this[mt],at=!0)}return at}normalize(s){const et=this,nt={};return utils$6.forEach(this,(at,mt)=>{const wt=utils$6.findKey(nt,mt);if(wt){et[wt]=normalizeValue(at),delete et[mt];return}const $t=s?formatHeader(mt):String(mt).trim();$t!==mt&&delete et[mt],et[$t]=normalizeValue(at),nt[$t]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const et=Object.create(null);return utils$6.forEach(this,(nt,at)=>{nt!=null&&nt!==!1&&(et[at]=s&&utils$6.isArray(nt)?nt.join(", "):nt)}),et}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,et])=>s+": "+et).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...et){const nt=new this(s);return et.forEach(at=>nt.set(at)),nt}static accessor(s){const nt=(this[$internals]=this[$internals]={accessors:{}}).accessors,at=this.prototype;function mt(wt){const $t=normalizeHeader(wt);nt[$t]||(buildAccessors(at,wt),nt[$t]=!0)}return utils$6.isArray(s)?s.forEach(mt):mt(s),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$6.reduceDescriptors(AxiosHeaders$1.prototype,({value:a},s)=>{let et=s[0].toUpperCase()+s.slice(1);return{get:()=>a,set(nt){this[et]=nt}}});utils$6.freezeMethods(AxiosHeaders$1);function transformData(a,s){const et=this||defaults,nt=s||et,at=AxiosHeaders$1.from(nt.headers);let mt=nt.data;return utils$6.forEach(a,function($t){mt=$t.call(et,mt,at.normalize(),s?s.status:void 0)}),at.normalize(),mt}function isCancel$1(a){return!!(a&&a.__CANCEL__)}function CanceledError$1(a,s,et){AxiosError$1.call(this,a??"canceled",AxiosError$1.ERR_CANCELED,s,et),this.name="CanceledError"}utils$6.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(a,s,et){const nt=et.config.validateStatus;!et.status||!nt||nt(et.status)?a(et):s(new AxiosError$1("Request failed with status code "+et.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(et.status/100)-4],et.config,et.request,et))}function parseProtocol(a){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return s&&s[1]||""}function speedometer(a,s){a=a||10;const et=new Array(a),nt=new Array(a);let at=0,mt=0,wt;return s=s!==void 0?s:1e3,function(Ct){const Dt=Date.now(),Ft=nt[mt];wt||(wt=Dt),et[at]=Ct,nt[at]=Dt;let jt=mt,Ut=0;for(;jt!==at;)Ut+=et[jt++],jt=jt%a;if(at=(at+1)%a,at===mt&&(mt=(mt+1)%a),Dt-wt<s)return;const tr=Ft&&Dt-Ft;return tr?Math.round(Ut*1e3/tr):void 0}}function throttle(a,s){let et=0,nt=1e3/s,at,mt;const wt=(Dt,Ft=Date.now())=>{et=Ft,at=null,mt&&(clearTimeout(mt),mt=null),a.apply(null,Dt)};return[(...Dt)=>{const Ft=Date.now(),jt=Ft-et;jt>=nt?wt(Dt,Ft):(at=Dt,mt||(mt=setTimeout(()=>{mt=null,wt(at)},nt-jt)))},()=>at&&wt(at)]}const progressEventReducer=(a,s,et=3)=>{let nt=0;const at=speedometer(50,250);return throttle(mt=>{const wt=mt.loaded,$t=mt.lengthComputable?mt.total:void 0,Ct=wt-nt,Dt=at(Ct),Ft=wt<=$t;nt=wt;const jt={loaded:wt,total:$t,progress:$t?wt/$t:void 0,bytes:Ct,rate:Dt||void 0,estimated:Dt&&$t&&Ft?($t-wt)/Dt:void 0,event:mt,lengthComputable:$t!=null,[s?"download":"upload"]:!0};a(jt)},et)},progressEventDecorator=(a,s)=>{const et=a!=null;return[nt=>s[0]({lengthComputable:et,total:a,loaded:nt}),s[1]]},asyncDecorator=a=>(...s)=>utils$6.asap(()=>a(...s)),isURLSameOrigin=platform.hasStandardBrowserEnv?((a,s)=>et=>(et=new URL(et,platform.origin),a.protocol===et.protocol&&a.host===et.host&&(s||a.port===et.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(a,s,et,nt,at,mt){const wt=[a+"="+encodeURIComponent(s)];utils$6.isNumber(et)&&wt.push("expires="+new Date(et).toGMTString()),utils$6.isString(nt)&&wt.push("path="+nt),utils$6.isString(at)&&wt.push("domain="+at),mt===!0&&wt.push("secure"),document.cookie=wt.join("; ")},read(a){const s=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function combineURLs(a,s){return s?a.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):a}function buildFullPath(a,s,et){let nt=!isAbsoluteURL(s);return a&&nt||et==!1?combineURLs(a,s):s}const headersToObject=a=>a instanceof AxiosHeaders$1?{...a}:a;function mergeConfig$1(a,s){s=s||{};const et={};function nt(Dt,Ft,jt,Ut){return utils$6.isPlainObject(Dt)&&utils$6.isPlainObject(Ft)?utils$6.merge.call({caseless:Ut},Dt,Ft):utils$6.isPlainObject(Ft)?utils$6.merge({},Ft):utils$6.isArray(Ft)?Ft.slice():Ft}function at(Dt,Ft,jt,Ut){if(utils$6.isUndefined(Ft)){if(!utils$6.isUndefined(Dt))return nt(void 0,Dt,jt,Ut)}else return nt(Dt,Ft,jt,Ut)}function mt(Dt,Ft){if(!utils$6.isUndefined(Ft))return nt(void 0,Ft)}function wt(Dt,Ft){if(utils$6.isUndefined(Ft)){if(!utils$6.isUndefined(Dt))return nt(void 0,Dt)}else return nt(void 0,Ft)}function $t(Dt,Ft,jt){if(jt in s)return nt(Dt,Ft);if(jt in a)return nt(void 0,Dt)}const Ct={url:mt,method:mt,data:mt,baseURL:wt,transformRequest:wt,transformResponse:wt,paramsSerializer:wt,timeout:wt,timeoutMessage:wt,withCredentials:wt,withXSRFToken:wt,adapter:wt,responseType:wt,xsrfCookieName:wt,xsrfHeaderName:wt,onUploadProgress:wt,onDownloadProgress:wt,decompress:wt,maxContentLength:wt,maxBodyLength:wt,beforeRedirect:wt,transport:wt,httpAgent:wt,httpsAgent:wt,cancelToken:wt,socketPath:wt,responseEncoding:wt,validateStatus:$t,headers:(Dt,Ft,jt)=>at(headersToObject(Dt),headersToObject(Ft),jt,!0)};return utils$6.forEach(Object.keys(Object.assign({},a,s)),function(Ft){const jt=Ct[Ft]||at,Ut=jt(a[Ft],s[Ft],Ft);utils$6.isUndefined(Ut)&&jt!==$t||(et[Ft]=Ut)}),et}const resolveConfig=a=>{const s=mergeConfig$1({},a);let{data:et,withXSRFToken:nt,xsrfHeaderName:at,xsrfCookieName:mt,headers:wt,auth:$t}=s;s.headers=wt=AxiosHeaders$1.from(wt),s.url=buildURL(buildFullPath(s.baseURL,s.url),a.params,a.paramsSerializer),$t&&wt.set("Authorization","Basic "+btoa(($t.username||"")+":"+($t.password?unescape(encodeURIComponent($t.password)):"")));let Ct;if(utils$6.isFormData(et)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)wt.setContentType(void 0);else if((Ct=wt.getContentType())!==!1){const[Dt,...Ft]=Ct?Ct.split(";").map(jt=>jt.trim()).filter(Boolean):[];wt.setContentType([Dt||"multipart/form-data",...Ft].join("; "))}}if(platform.hasStandardBrowserEnv&&(nt&&utils$6.isFunction(nt)&&(nt=nt(s)),nt||nt!==!1&&isURLSameOrigin(s.url))){const Dt=at&&mt&&cookies.read(mt);Dt&&wt.set(at,Dt)}return s},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(a){return new Promise(function(et,nt){const at=resolveConfig(a);let mt=at.data;const wt=AxiosHeaders$1.from(at.headers).normalize();let{responseType:$t,onUploadProgress:Ct,onDownloadProgress:Dt}=at,Ft,jt,Ut,tr,ir;function sr(){tr&&tr(),ir&&ir(),at.cancelToken&&at.cancelToken.unsubscribe(Ft),at.signal&&at.signal.removeEventListener("abort",Ft)}let ur=new XMLHttpRequest;ur.open(at.method.toUpperCase(),at.url,!0),ur.timeout=at.timeout;function fr(){if(!ur)return;const hr=AxiosHeaders$1.from("getAllResponseHeaders"in ur&&ur.getAllResponseHeaders()),yr={data:!$t||$t==="text"||$t==="json"?ur.responseText:ur.response,status:ur.status,statusText:ur.statusText,headers:hr,config:a,request:ur};settle(function(br){et(br),sr()},function(br){nt(br),sr()},yr),ur=null}"onloadend"in ur?ur.onloadend=fr:ur.onreadystatechange=function(){!ur||ur.readyState!==4||ur.status===0&&!(ur.responseURL&&ur.responseURL.indexOf("file:")===0)||setTimeout(fr)},ur.onabort=function(){ur&&(nt(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,a,ur)),ur=null)},ur.onerror=function(){nt(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,a,ur)),ur=null},ur.ontimeout=function(){let vr=at.timeout?"timeout of "+at.timeout+"ms exceeded":"timeout exceeded";const yr=at.transitional||transitionalDefaults;at.timeoutErrorMessage&&(vr=at.timeoutErrorMessage),nt(new AxiosError$1(vr,yr.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,a,ur)),ur=null},mt===void 0&&wt.setContentType(null),"setRequestHeader"in ur&&utils$6.forEach(wt.toJSON(),function(vr,yr){ur.setRequestHeader(yr,vr)}),utils$6.isUndefined(at.withCredentials)||(ur.withCredentials=!!at.withCredentials),$t&&$t!=="json"&&(ur.responseType=at.responseType),Dt&&([Ut,ir]=progressEventReducer(Dt,!0),ur.addEventListener("progress",Ut)),Ct&&ur.upload&&([jt,tr]=progressEventReducer(Ct),ur.upload.addEventListener("progress",jt),ur.upload.addEventListener("loadend",tr)),(at.cancelToken||at.signal)&&(Ft=hr=>{ur&&(nt(!hr||hr.type?new CanceledError$1(null,a,ur):hr),ur.abort(),ur=null)},at.cancelToken&&at.cancelToken.subscribe(Ft),at.signal&&(at.signal.aborted?Ft():at.signal.addEventListener("abort",Ft)));const dr=parseProtocol(at.url);if(dr&&platform.protocols.indexOf(dr)===-1){nt(new AxiosError$1("Unsupported protocol "+dr+":",AxiosError$1.ERR_BAD_REQUEST,a));return}ur.send(mt||null)})},composeSignals=(a,s)=>{const{length:et}=a=a?a.filter(Boolean):[];if(s||et){let nt=new AbortController,at;const mt=function(Dt){if(!at){at=!0,$t();const Ft=Dt instanceof Error?Dt:this.reason;nt.abort(Ft instanceof AxiosError$1?Ft:new CanceledError$1(Ft instanceof Error?Ft.message:Ft))}};let wt=s&&setTimeout(()=>{wt=null,mt(new AxiosError$1(`timeout ${s} of ms exceeded`,AxiosError$1.ETIMEDOUT))},s);const $t=()=>{a&&(wt&&clearTimeout(wt),wt=null,a.forEach(Dt=>{Dt.unsubscribe?Dt.unsubscribe(mt):Dt.removeEventListener("abort",mt)}),a=null)};a.forEach(Dt=>Dt.addEventListener("abort",mt));const{signal:Ct}=nt;return Ct.unsubscribe=()=>utils$6.asap($t),Ct}},streamChunk=function*(a,s){let et=a.byteLength;if(et<s){yield a;return}let nt=0,at;for(;nt<et;)at=nt+s,yield a.slice(nt,at),nt=at},readBytes=async function*(a,s){for await(const et of readStream(a))yield*streamChunk(et,s)},readStream=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const s=a.getReader();try{for(;;){const{done:et,value:nt}=await s.read();if(et)break;yield nt}}finally{await s.cancel()}},trackStream=(a,s,et,nt)=>{const at=readBytes(a,s);let mt=0,wt,$t=Ct=>{wt||(wt=!0,nt&&nt(Ct))};return new ReadableStream({async pull(Ct){try{const{done:Dt,value:Ft}=await at.next();if(Dt){$t(),Ct.close();return}let jt=Ft.byteLength;if(et){let Ut=mt+=jt;et(Ut)}Ct.enqueue(new Uint8Array(Ft))}catch(Dt){throw $t(Dt),Dt}},cancel(Ct){return $t(Ct),at.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(a=>s=>a.encode(s))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),test=(a,...s)=>{try{return!!a(...s)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let a=!1;const s=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!s}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$6.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(a=>a.body)};isFetchSupported&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!resolvers[s]&&(resolvers[s]=utils$6.isFunction(a[s])?et=>et[s]():(et,nt)=>{throw new AxiosError$1(`Response type '${s}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,nt)})})})(new Response);const getBodyLength=async a=>{if(a==null)return 0;if(utils$6.isBlob(a))return a.size;if(utils$6.isSpecCompliantForm(a))return(await new Request(platform.origin,{method:"POST",body:a}).arrayBuffer()).byteLength;if(utils$6.isArrayBufferView(a)||utils$6.isArrayBuffer(a))return a.byteLength;if(utils$6.isURLSearchParams(a)&&(a=a+""),utils$6.isString(a))return(await encodeText(a)).byteLength},resolveBodyLength=async(a,s)=>{const et=utils$6.toFiniteNumber(a.getContentLength());return et??getBodyLength(s)},fetchAdapter=isFetchSupported&&(async a=>{let{url:s,method:et,data:nt,signal:at,cancelToken:mt,timeout:wt,onDownloadProgress:$t,onUploadProgress:Ct,responseType:Dt,headers:Ft,withCredentials:jt="same-origin",fetchOptions:Ut}=resolveConfig(a);Dt=Dt?(Dt+"").toLowerCase():"text";let tr=composeSignals([at,mt&&mt.toAbortSignal()],wt),ir;const sr=tr&&tr.unsubscribe&&(()=>{tr.unsubscribe()});let ur;try{if(Ct&&supportsRequestStream&&et!=="get"&&et!=="head"&&(ur=await resolveBodyLength(Ft,nt))!==0){let yr=new Request(s,{method:"POST",body:nt,duplex:"half"}),xr;if(utils$6.isFormData(nt)&&(xr=yr.headers.get("content-type"))&&Ft.setContentType(xr),yr.body){const[br,wr]=progressEventDecorator(ur,progressEventReducer(asyncDecorator(Ct)));nt=trackStream(yr.body,DEFAULT_CHUNK_SIZE,br,wr)}}utils$6.isString(jt)||(jt=jt?"include":"omit");const fr="credentials"in Request.prototype;ir=new Request(s,{...Ut,signal:tr,method:et.toUpperCase(),headers:Ft.normalize().toJSON(),body:nt,duplex:"half",credentials:fr?jt:void 0});let dr=await fetch(ir);const hr=supportsResponseStream&&(Dt==="stream"||Dt==="response");if(supportsResponseStream&&($t||hr&&sr)){const yr={};["status","statusText","headers"].forEach(Sr=>{yr[Sr]=dr[Sr]});const xr=utils$6.toFiniteNumber(dr.headers.get("content-length")),[br,wr]=$t&&progressEventDecorator(xr,progressEventReducer(asyncDecorator($t),!0))||[];dr=new Response(trackStream(dr.body,DEFAULT_CHUNK_SIZE,br,()=>{wr&&wr(),sr&&sr()}),yr)}Dt=Dt||"text";let vr=await resolvers[utils$6.findKey(resolvers,Dt)||"text"](dr,a);return!hr&&sr&&sr(),await new Promise((yr,xr)=>{settle(yr,xr,{data:vr,headers:AxiosHeaders$1.from(dr.headers),status:dr.status,statusText:dr.statusText,config:a,request:ir})})}catch(fr){throw sr&&sr(),fr&&fr.name==="TypeError"&&/fetch/i.test(fr.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,a,ir),{cause:fr.cause||fr}):AxiosError$1.from(fr,fr&&fr.code,a,ir)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$6.forEach(knownAdapters,(a,s)=>{if(a){try{Object.defineProperty(a,"name",{value:s})}catch{}Object.defineProperty(a,"adapterName",{value:s})}});const renderReason=a=>`- ${a}`,isResolvedHandle=a=>utils$6.isFunction(a)||a===null||a===!1,adapters={getAdapter:a=>{a=utils$6.isArray(a)?a:[a];const{length:s}=a;let et,nt;const at={};for(let mt=0;mt<s;mt++){et=a[mt];let wt;if(nt=et,!isResolvedHandle(et)&&(nt=knownAdapters[(wt=String(et)).toLowerCase()],nt===void 0))throw new AxiosError$1(`Unknown adapter '${wt}'`);if(nt)break;at[wt||"#"+mt]=nt}if(!nt){const mt=Object.entries(at).map(([$t,Ct])=>`adapter ${$t} `+(Ct===!1?"is not supported by the environment":"is not available in the build"));let wt=s?mt.length>1?`since :
`+mt.map(renderReason).join(`
`):" "+renderReason(mt[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+wt,"ERR_NOT_SUPPORT")}return nt},adapters:knownAdapters};function throwIfCancellationRequested(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError$1(null,a)}function dispatchRequest(a){return throwIfCancellationRequested(a),a.headers=AxiosHeaders$1.from(a.headers),a.data=transformData.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(a.adapter||defaults.adapter)(a).then(function(nt){return throwIfCancellationRequested(a),nt.data=transformData.call(a,a.transformResponse,nt),nt.headers=AxiosHeaders$1.from(nt.headers),nt},function(nt){return isCancel$1(nt)||(throwIfCancellationRequested(a),nt&&nt.response&&(nt.response.data=transformData.call(a,a.transformResponse,nt.response),nt.response.headers=AxiosHeaders$1.from(nt.response.headers))),Promise.reject(nt)})}const VERSION$2="1.8.1",validators$1={};["object","boolean","number","function","string","symbol"].forEach((a,s)=>{validators$1[a]=function(nt){return typeof nt===a||"a"+(s<1?"n ":" ")+a}});const deprecatedWarnings={};validators$1.transitional=function(s,et,nt){function at(mt,wt){return"[Axios v"+VERSION$2+"] Transitional option '"+mt+"'"+wt+(nt?". "+nt:"")}return(mt,wt,$t)=>{if(s===!1)throw new AxiosError$1(at(wt," has been removed"+(et?" in "+et:"")),AxiosError$1.ERR_DEPRECATED);return et&&!deprecatedWarnings[wt]&&(deprecatedWarnings[wt]=!0,console.warn(at(wt," has been deprecated since v"+et+" and will be removed in the near future"))),s?s(mt,wt,$t):!0}};validators$1.spelling=function(s){return(et,nt)=>(console.warn(`${nt} is likely a misspelling of ${s}`),!0)};function assertOptions(a,s,et){if(typeof a!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const nt=Object.keys(a);let at=nt.length;for(;at-- >0;){const mt=nt[at],wt=s[mt];if(wt){const $t=a[mt],Ct=$t===void 0||wt($t,mt,a);if(Ct!==!0)throw new AxiosError$1("option "+mt+" must be "+Ct,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError$1("Unknown option "+mt,AxiosError$1.ERR_BAD_OPTION)}}const validator$1={assertOptions,validators:validators$1},validators=validator$1.validators;let Axios$1=class{constructor(s){this.defaults=s,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(s,et){try{return await this._request(s,et)}catch(nt){if(nt instanceof Error){let at={};Error.captureStackTrace?Error.captureStackTrace(at):at=new Error;const mt=at.stack?at.stack.replace(/^.+\n/,""):"";try{nt.stack?mt&&!String(nt.stack).endsWith(mt.replace(/^.+\n.+\n/,""))&&(nt.stack+=`
`+mt):nt.stack=mt}catch{}}throw nt}}_request(s,et){typeof s=="string"?(et=et||{},et.url=s):et=s||{},et=mergeConfig$1(this.defaults,et);const{transitional:nt,paramsSerializer:at,headers:mt}=et;nt!==void 0&&validator$1.assertOptions(nt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),at!=null&&(utils$6.isFunction(at)?et.paramsSerializer={serialize:at}:validator$1.assertOptions(at,{encode:validators.function,serialize:validators.function},!0)),et.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?et.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:et.allowAbsoluteUrls=!0),validator$1.assertOptions(et,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),et.method=(et.method||this.defaults.method||"get").toLowerCase();let wt=mt&&utils$6.merge(mt.common,mt[et.method]);mt&&utils$6.forEach(["delete","get","head","post","put","patch","common"],ir=>{delete mt[ir]}),et.headers=AxiosHeaders$1.concat(wt,mt);const $t=[];let Ct=!0;this.interceptors.request.forEach(function(sr){typeof sr.runWhen=="function"&&sr.runWhen(et)===!1||(Ct=Ct&&sr.synchronous,$t.unshift(sr.fulfilled,sr.rejected))});const Dt=[];this.interceptors.response.forEach(function(sr){Dt.push(sr.fulfilled,sr.rejected)});let Ft,jt=0,Ut;if(!Ct){const ir=[dispatchRequest.bind(this),void 0];for(ir.unshift.apply(ir,$t),ir.push.apply(ir,Dt),Ut=ir.length,Ft=Promise.resolve(et);jt<Ut;)Ft=Ft.then(ir[jt++],ir[jt++]);return Ft}Ut=$t.length;let tr=et;for(jt=0;jt<Ut;){const ir=$t[jt++],sr=$t[jt++];try{tr=ir(tr)}catch(ur){sr.call(this,ur);break}}try{Ft=dispatchRequest.call(this,tr)}catch(ir){return Promise.reject(ir)}for(jt=0,Ut=Dt.length;jt<Ut;)Ft=Ft.then(Dt[jt++],Dt[jt++]);return Ft}getUri(s){s=mergeConfig$1(this.defaults,s);const et=buildFullPath(s.baseURL,s.url,s.allowAbsoluteUrls);return buildURL(et,s.params,s.paramsSerializer)}};utils$6.forEach(["delete","get","head","options"],function(s){Axios$1.prototype[s]=function(et,nt){return this.request(mergeConfig$1(nt||{},{method:s,url:et,data:(nt||{}).data}))}});utils$6.forEach(["post","put","patch"],function(s){function et(nt){return function(mt,wt,$t){return this.request(mergeConfig$1($t||{},{method:s,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:mt,data:wt}))}}Axios$1.prototype[s]=et(),Axios$1.prototype[s+"Form"]=et(!0)});let CancelToken$1=class $p{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let et;this.promise=new Promise(function(mt){et=mt});const nt=this;this.promise.then(at=>{if(!nt._listeners)return;let mt=nt._listeners.length;for(;mt-- >0;)nt._listeners[mt](at);nt._listeners=null}),this.promise.then=at=>{let mt;const wt=new Promise($t=>{nt.subscribe($t),mt=$t}).then(at);return wt.cancel=function(){nt.unsubscribe(mt)},wt},s(function(mt,wt,$t){nt.reason||(nt.reason=new CanceledError$1(mt,wt,$t),et(nt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const et=this._listeners.indexOf(s);et!==-1&&this._listeners.splice(et,1)}toAbortSignal(){const s=new AbortController,et=nt=>{s.abort(nt)};return this.subscribe(et),s.signal.unsubscribe=()=>this.unsubscribe(et),s.signal}static source(){let s;return{token:new $p(function(at){s=at}),cancel:s}}};function spread$1(a){return function(et){return a.apply(null,et)}}function isAxiosError$1(a){return utils$6.isObject(a)&&a.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([a,s])=>{HttpStatusCode$1[s]=a});function createInstance(a){const s=new Axios$1(a),et=bind(Axios$1.prototype.request,s);return utils$6.extend(et,Axios$1.prototype,s,{allOwnKeys:!0}),utils$6.extend(et,s,null,{allOwnKeys:!0}),et.create=function(at){return createInstance(mergeConfig$1(a,at))},et}const axios$1=createInstance(defaults);axios$1.Axios=Axios$1;axios$1.CanceledError=CanceledError$1;axios$1.CancelToken=CancelToken$1;axios$1.isCancel=isCancel$1;axios$1.VERSION=VERSION$2;axios$1.toFormData=toFormData$1;axios$1.AxiosError=AxiosError$1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(s){return Promise.all(s)};axios$1.spread=spread$1;axios$1.isAxiosError=isAxiosError$1;axios$1.mergeConfig=mergeConfig$1;axios$1.AxiosHeaders=AxiosHeaders$1;axios$1.formToJSON=a=>formDataToJSON(utils$6.isHTMLForm(a)?new FormData(a):a);axios$1.getAdapter=adapters.getAdapter;axios$1.HttpStatusCode=HttpStatusCode$1;axios$1.default=axios$1;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION:VERSION$1,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios$1,axios=Object.freeze(Object.defineProperty({__proto__:null,Axios,AxiosError,AxiosHeaders,Cancel,CancelToken,CanceledError,HttpStatusCode,VERSION:VERSION$1,all,default:axios$1,formToJSON,getAdapter,isAxiosError,isCancel,mergeConfig,spread,toFormData},Symbol.toStringTag,{value:"Module"}));var __defProp$4=Object.defineProperty,__defNormalProp$4=(a,s,et)=>s in a?__defProp$4(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$1=(a,s,et)=>(__defNormalProp$4(a,s+"",et),et),cacheTime5min=5*60*1e3,cacheTime24h=24*60*60*1e3;function getFutureTime(a){return Date.parse(new Date().toString())+a}var CachedContent=class{constructor(a,s=0){Yn(this,"overdueTime");Yn(this,"value");this.overdueTime=s,this.value=a}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var decimal_default$1=Decimal$1,ClmmpoolsError=class extends Error{constructor(s,et){super(s);Yn(this,"message");Yn(this,"errorCode");this.message=s,this.errorCode=et}static isClmmpoolsErrorCode(s,et){return s instanceof ClmmpoolsError&&s.errorCode===et}},ZERO$1=new BN(0),ONE=new BN(1),TWO$1=new BN(2);TWO$1.pow(new BN(128));var U64_MAX=TWO$1.pow(new BN(64)).sub(ONE),U128_MAX=TWO$1.pow(new BN(128)).sub(ONE),MathUtil=class{static toX64_BN(a){return a.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(a){return a.mul(decimal_default$1.pow(2,64))}static toX64(a){return new BN(a.mul(decimal_default$1.pow(2,64)).floor().toFixed())}static fromX64(a){return new decimal_default$1(a.toString()).mul(decimal_default$1.pow(2,-64))}static fromX64_Decimal(a){return a.mul(decimal_default$1.pow(2,-64))}static fromX64_BN(a){return a.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(a){let s=a.shrn(64);return a.mod(U64_MAX).gt(ZERO$1)&&(s=s.add(ONE)),s}static divRoundUp(a,s){return a.mod(s).eq(ZERO$1)?a.div(s):a.div(s).add(new BN(1))}static subUnderflowU128(a,s){return a.lt(s)?a.sub(s).add(U128_MAX):a.sub(s)}static checkUnsignedSub(a,s){const et=a.sub(s);if(et.isNeg())throw new ClmmpoolsError("Unsigned integer sub overflow","UnsignedIntegerOverflow");return et}static checkMul(a,s,et){const nt=a.mul(s);if(this.isOverflow(nt,et))throw new ClmmpoolsError("Multiplication overflow","MultiplicationOverflow");return nt}static checkMulDivFloor(a,s,et,nt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=a.mul(s).div(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivCeil(a,s,et,nt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=a.mul(s).add(et.sub(ONE)).div(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivRound(a,s,et,nt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=a.mul(s.add(et.shrn(1))).div(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulShiftRight(a,s,et,nt){const at=a.mul(s).div(new BN(2).pow(new BN(et)));if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return at}static checkMulShiftRight64RoundUpIf(a,s,et,nt){const at=a.mul(s),wt=nt&&at.and(U64_MAX).gt(ZERO$1)?at.shrn(64).add(ONE):at.shrn(64);if(this.isOverflow(wt,et))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return wt}static checkMulShiftLeft(a,s,et,nt){const at=a.mul(s).shln(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication shift left overflow","MulShiftLeftOverflow");return at}static checkDivRoundUpIf(a,s,et){if(s.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");return et?this.divRoundUp(a,s):a.div(s)}static isOverflow(a,s){return a.gte(TWO$1.pow(new BN(s)))}static sign(a){return a.testn(127)?1:0}static is_neg(a){return this.sign(a)===1}static abs_u128(a){return a.gt(ZERO$1)?a:this.u128_neg(a.subn(1))}static u128_neg(a){return a.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(a){return this.is_neg(a)?a.abs():this.neg_from(a)}static abs(a){return this.sign(a)===0?a:this.u128_neg(a.sub(new BN(1)))}static neg_from(a){return a.eq(ZERO$1)?a:this.u128_neg(a).add(new BN(1)).or(new BN(1).shln(127))}};function transClmmpoolDataWithoutTicks(a){return{coinA:a.coinTypeA,coinB:a.coinTypeB,currentSqrtPrice:new BN(a.current_sqrt_price),currentTickIndex:a.current_tick_index,feeGrowthGlobalA:new BN(a.fee_growth_global_a),feeGrowthGlobalB:new BN(a.fee_growth_global_b),feeProtocolCoinA:new BN(a.fee_protocol_coin_a),feeProtocolCoinB:new BN(a.fee_protocol_coin_b),feeRate:new BN(a.fee_rate),liquidity:new BN(a.liquidity),tickIndexes:[],tickSpacing:Number(a.tickSpacing),ticks:[],collection_name:""}}var MAX_TICK_INDEX=443636,MIN_TICK_INDEX=-443636,MAX_SQRT_PRICE="79226673515401279992447579055",MIN_SQRT_PRICE="4295048016",FEE_RATE_DENOMINATOR=new BN(1e6),CLOCK_ADDRESS$1="0x0000000000000000000000000000000000000000000000000000000000000006",ClmmPartnerModule="partner",ClmmIntegratePoolModule="pool_script",ClmmIntegratePoolV2Module="pool_script_v2",ClmmIntegratePoolV3Module="pool_script_v3",ClmmIntegrateRouterModule="router",ClmmIntegrateRouterWithPartnerModule="router_with_partner",ClmmFetcherModule="fetcher_script",ClmmExpectSwapModule="expect_swap",ClmmIntegrateUtilsModule="utils",DeepbookCustodianV2Moudle="custodian_v2",DeepbookClobV2Moudle="clob_v2",DeepbookEndpointsV2Moudle="endpoints_v2",ClmmPositionStatus=(a=>(a.Deleted="Deleted",a.Exists="Exists",a.NotExists="NotExists",a))(ClmmPositionStatus||{});function getPackagerConfigs(a){if(a.config===void 0)throw new ClmmpoolsError(`package: ${a.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return a.config}var poolFilterEvenTypes=["RemoveLiquidityEvent","SwapEvent","AddLiquidityEvent"],BIT_PRECISION=14,LOG_B_2_X32="59543866431248",LOG_B_P_ERR_MARGIN_LOWER_X64="184467440737095516",LOG_B_P_ERR_MARGIN_UPPER_X64="15793534762490258745",TICK_BOUND=443636;function signedShiftLeft(a,s,et){const nt=a.toTwos(et).shln(s);return nt.imaskn(et+1),nt.fromTwos(et)}function signedShiftRight(a,s,et){const nt=a.toTwos(et).shrn(s);return nt.imaskn(et-s+1),nt.fromTwos(et-s)}function tickIndexToSqrtPricePositive(a){let s;return a&1?s=new BN("79232123823359799118286999567"):s=new BN("79228162514264337593543950336"),a&2&&(s=signedShiftRight(s.mul(new BN("79236085330515764027303304731")),96,256)),a&4&&(s=signedShiftRight(s.mul(new BN("79244008939048815603706035061")),96,256)),a&8&&(s=signedShiftRight(s.mul(new BN("79259858533276714757314932305")),96,256)),a&16&&(s=signedShiftRight(s.mul(new BN("79291567232598584799939703904")),96,256)),a&32&&(s=signedShiftRight(s.mul(new BN("79355022692464371645785046466")),96,256)),a&64&&(s=signedShiftRight(s.mul(new BN("79482085999252804386437311141")),96,256)),a&128&&(s=signedShiftRight(s.mul(new BN("79736823300114093921829183326")),96,256)),a&256&&(s=signedShiftRight(s.mul(new BN("80248749790819932309965073892")),96,256)),a&512&&(s=signedShiftRight(s.mul(new BN("81282483887344747381513967011")),96,256)),a&1024&&(s=signedShiftRight(s.mul(new BN("83390072131320151908154831281")),96,256)),a&2048&&(s=signedShiftRight(s.mul(new BN("87770609709833776024991924138")),96,256)),a&4096&&(s=signedShiftRight(s.mul(new BN("97234110755111693312479820773")),96,256)),a&8192&&(s=signedShiftRight(s.mul(new BN("119332217159966728226237229890")),96,256)),a&16384&&(s=signedShiftRight(s.mul(new BN("179736315981702064433883588727")),96,256)),a&32768&&(s=signedShiftRight(s.mul(new BN("407748233172238350107850275304")),96,256)),a&65536&&(s=signedShiftRight(s.mul(new BN("2098478828474011932436660412517")),96,256)),a&131072&&(s=signedShiftRight(s.mul(new BN("55581415166113811149459800483533")),96,256)),a&262144&&(s=signedShiftRight(s.mul(new BN("38992368544603139932233054999993551")),96,256)),signedShiftRight(s,32,256)}function tickIndexToSqrtPriceNegative(a){const s=Math.abs(a);let et;return s&1?et=new BN("18445821805675392311"):et=new BN("18446744073709551616"),s&2&&(et=signedShiftRight(et.mul(new BN("18444899583751176498")),64,256)),s&4&&(et=signedShiftRight(et.mul(new BN("18443055278223354162")),64,256)),s&8&&(et=signedShiftRight(et.mul(new BN("18439367220385604838")),64,256)),s&16&&(et=signedShiftRight(et.mul(new BN("18431993317065449817")),64,256)),s&32&&(et=signedShiftRight(et.mul(new BN("18417254355718160513")),64,256)),s&64&&(et=signedShiftRight(et.mul(new BN("18387811781193591352")),64,256)),s&128&&(et=signedShiftRight(et.mul(new BN("18329067761203520168")),64,256)),s&256&&(et=signedShiftRight(et.mul(new BN("18212142134806087854")),64,256)),s&512&&(et=signedShiftRight(et.mul(new BN("17980523815641551639")),64,256)),s&1024&&(et=signedShiftRight(et.mul(new BN("17526086738831147013")),64,256)),s&2048&&(et=signedShiftRight(et.mul(new BN("16651378430235024244")),64,256)),s&4096&&(et=signedShiftRight(et.mul(new BN("15030750278693429944")),64,256)),s&8192&&(et=signedShiftRight(et.mul(new BN("12247334978882834399")),64,256)),s&16384&&(et=signedShiftRight(et.mul(new BN("8131365268884726200")),64,256)),s&32768&&(et=signedShiftRight(et.mul(new BN("3584323654723342297")),64,256)),s&65536&&(et=signedShiftRight(et.mul(new BN("696457651847595233")),64,256)),s&131072&&(et=signedShiftRight(et.mul(new BN("26294789957452057")),64,256)),s&262144&&(et=signedShiftRight(et.mul(new BN("37481735321082")),64,256)),et}var TickMath=class{static priceToSqrtPriceX64(a,s,et){return MathUtil.toX64(a.mul(decimal_default$1.pow(10,et-s)).sqrt())}static sqrtPriceX64ToPrice(a,s,et){return MathUtil.fromX64(a).pow(2).mul(decimal_default$1.pow(10,s-et))}static tickIndexToSqrtPriceX64(a){return a>0?new BN(tickIndexToSqrtPricePositive(a)):new BN(tickIndexToSqrtPriceNegative(a))}static sqrtPriceX64ToTickIndex(a){if(a.gt(new BN(MAX_SQRT_PRICE))||a.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");const s=a.bitLength()-1,et=new BN(s-64),nt=signedShiftLeft(et,32,128);let at=new BN("8000000000000000","hex"),mt=0,wt=new BN(0),$t=s>=64?a.shrn(s-63):a.shln(63-s);for(;at.gt(new BN(0))&&mt<BIT_PRECISION;){$t=$t.mul($t);const ir=$t.shrn(127);$t=$t.shrn(63+ir.toNumber()),wt=wt.add(at.mul(ir)),at=at.shrn(1),mt+=1}const Ct=wt.shrn(32),Ft=nt.add(Ct).mul(new BN(LOG_B_2_X32)),jt=signedShiftRight(Ft.sub(new BN(LOG_B_P_ERR_MARGIN_LOWER_X64)),64,128).toNumber(),Ut=signedShiftRight(Ft.add(new BN(LOG_B_P_ERR_MARGIN_UPPER_X64)),64,128).toNumber();return jt===Ut?jt:TickMath.tickIndexToSqrtPriceX64(Ut).lte(a)?Ut:jt}static tickIndexToPrice(a,s,et){return TickMath.sqrtPriceX64ToPrice(TickMath.tickIndexToSqrtPriceX64(a),s,et)}static priceToTickIndex(a,s,et){return TickMath.sqrtPriceX64ToTickIndex(TickMath.priceToSqrtPriceX64(a,s,et))}static priceToInitializableTickIndex(a,s,et,nt){return TickMath.getInitializableTickIndex(TickMath.priceToTickIndex(a,s,et),nt)}static getInitializableTickIndex(a,s){return a-a%s}static getNextInitializableTickIndex(a,s){return TickMath.getInitializableTickIndex(a,s)+s}static getPrevInitializableTickIndex(a,s){return TickMath.getInitializableTickIndex(a,s)-s}};function getTickDataFromUrlData(a){const s=[];for(const et of a){const nt={objectId:et.objectId,index:Number(asIntN(BigInt(et.index)).toString()),sqrtPrice:et.sqrtPrice,liquidityNet:new BN(BigInt.asIntN(128,BigInt(BigInt(et.liquidityNet.toString()))).toString()),liquidityGross:et.liquidityGross,feeGrowthOutsideA:et.feeGrowthOutsideA,feeGrowthOutsideB:et.feeGrowthOutsideB,rewardersGrowthOutside:[new BN(et.rewardersGrowthOutside[0]),new BN(et.rewardersGrowthOutside[1]),new BN(et.rewardersGrowthOutside[2])]};s.push(nt)}return s}function tickScore(a){return d$2(a).add(d$2(TICK_BOUND))}new BN(365);new BN(24);new BN(3600);new BN(.5);var SwapUtils=class{static getDefaultSqrtPriceLimit(a){return new BN(a?MIN_SQRT_PRICE:MAX_SQRT_PRICE)}static getDefaultOtherAmountThreshold(a){return a?ZERO$1:U64_MAX}};function getNextSqrtPriceAUp(a,s,et,nt){if(et.eq(ZERO$1))return a;const at=MathUtil.checkMulShiftLeft(a,s,64,256),mt=s.shln(64),wt=MathUtil.checkMul(a,et,256);if(!nt&&mt.lte(wt))throw new ClmmpoolsError("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const $t=nt?MathUtil.checkDivRoundUpIf(at,mt.add(wt),!0):MathUtil.checkDivRoundUpIf(at,mt.sub(wt),!0);if($t.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if($t.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return $t}function getNextSqrtPriceBDown(a,s,et,nt){const at=MathUtil.checkDivRoundUpIf(et.shln(64),s,!nt),mt=nt?a.add(at):a.sub(at);if(mt.lt(new BN(MIN_SQRT_PRICE))||mt.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return mt}function getNextSqrtPriceFromInput(a,s,et,nt){return nt?getNextSqrtPriceAUp(a,s,et,!0):getNextSqrtPriceBDown(a,s,et,!0)}function getNextSqrtPriceFromOutput(a,s,et,nt){return nt?getNextSqrtPriceBDown(a,s,et,!1):getNextSqrtPriceAUp(a,s,et,!1)}function getDeltaUpFromInput(a,s,et,nt){const at=a.gt(s)?a.sub(s):s.sub(a);if(et.lte(ZERO$1)||at.eq(ZERO$1))return ZERO$1;let mt;if(nt){const wt=new BN(et).mul(new BN(at)).shln(64),$t=s.mul(a),Ct=wt.div($t);mt=wt.mod($t).eq(ZERO$1)?Ct:Ct.add(ONE)}else{const wt=new BN(et).mul(new BN(at));mt=wt.and(U64_MAX).gt(ZERO$1)?wt.shrn(64).add(ONE):wt.shrn(64)}return mt}function getDeltaDownFromOutput(a,s,et,nt){const at=a.gt(s)?a.sub(s):s.sub(a);if(et.lte(ZERO$1)||at.eq(ZERO$1))return ZERO$1;let mt;if(nt)mt=et.mul(at).shrn(64);else{const wt=et.mul(at).shln(64),$t=s.mul(a);mt=wt.div($t)}return mt}function computeSwapStep(a,s,et,nt,at,mt){if(et===ZERO$1)return{amountIn:ZERO$1,amountOut:ZERO$1,nextSqrtPrice:s,feeAmount:ZERO$1};const wt=a.gte(s);let $t,Ct,Dt,Ft;if(mt){const jt=MathUtil.checkMulDivFloor(nt,MathUtil.checkUnsignedSub(FEE_RATE_DENOMINATOR,at),FEE_RATE_DENOMINATOR,64),Ut=getDeltaUpFromInput(a,s,et,wt);Ut.gt(jt)?($t=jt,Ft=MathUtil.checkUnsignedSub(nt,jt),Dt=getNextSqrtPriceFromInput(a,et,jt,wt)):($t=Ut,Ft=MathUtil.checkMulDivCeil($t,at,FEE_RATE_DENOMINATOR.sub(at),64),Dt=s),Ct=getDeltaDownFromOutput(a,Dt,et,wt)}else{const jt=getDeltaDownFromOutput(a,s,et,wt);jt.gt(nt)?(Ct=nt,Dt=getNextSqrtPriceFromOutput(a,et,nt,wt)):(Ct=jt,Dt=s),$t=getDeltaUpFromInput(a,Dt,et,wt),Ft=MathUtil.checkMulDivCeil($t,at,FEE_RATE_DENOMINATOR.sub(at),64)}return{amountIn:$t,amountOut:Ct,nextSqrtPrice:Dt,feeAmount:Ft}}function computeSwap(a,s,et,nt,at){let mt=et,wt=nt.liquidity,{currentSqrtPrice:$t}=nt;const Ct={amountIn:ZERO$1,amountOut:ZERO$1,feeAmount:ZERO$1,refAmount:ZERO$1,nextSqrtPrice:ZERO$1,crossTickNum:0};let Dt,Ft;const jt=SwapUtils.getDefaultSqrtPriceLimit(a);for(const Ut of at){if(a&&nt.currentTickIndex<Ut.index||!a&&nt.currentTickIndex>=Ut.index||Ut===null)continue;a&&jt.gt(Ut.sqrtPrice)||!a&&jt.lt(Ut.sqrtPrice)?Dt=jt:Dt=Ut.sqrtPrice;const tr=computeSwapStep($t,Dt,wt,mt,nt.feeRate,s);if(tr.amountIn.eq(ZERO$1)||(mt=s?mt.sub(tr.amountIn.add(tr.feeAmount)):mt.sub(tr.amountOut)),Ct.amountIn=Ct.amountIn.add(tr.amountIn),Ct.amountOut=Ct.amountOut.add(tr.amountOut),Ct.feeAmount=Ct.feeAmount.add(tr.feeAmount),tr.nextSqrtPrice.eq(Ut.sqrtPrice)?(Ft=Ut.liquidityNet.mul(new BN(-1)),a?MathUtil.is_neg(Ft)?wt=wt.add(new BN(asUintN(BigInt(Ft.toString()),128))):wt=wt.add(Ft):MathUtil.is_neg(Ft)?wt=wt.sub(new BN(asUintN(BigInt(Ft.toString()),128))):wt=wt.sub(Ft),$t=Ut.sqrtPrice):$t=tr.nextSqrtPrice,Ct.crossTickNum+=1,mt.eq(ZERO$1))break}return Ct.amountIn=Ct.amountIn.add(Ct.feeAmount),Ct.nextSqrtPrice=$t,Ct}function estimateLiquidityForCoinA(a,s,et){const nt=BN.min(a,s),at=BN.max(a,s),mt=MathUtil.fromX64_BN(et.mul(at).mul(nt)),wt=at.sub(nt);return!mt.isZero()&&!wt.isZero()?mt.div(wt):new BN(0)}function estimateLiquidityForCoinB(a,s,et){const nt=BN.min(a,s),mt=BN.max(a,s).sub(nt);return mt.isZero()?new BN(0):et.shln(64).div(mt)}var ClmmPoolUtil=class{static updateFeeRate(a,s,et,nt,at){const mt=MathUtil.checkMulDivCeil(s,new BN(nt),FEE_RATE_DENOMINATOR,64),wt=et===0?ZERO$1:MathUtil.checkMulDivFloor(s,new BN(et),FEE_RATE_DENOMINATOR,64),$t=s.mul(mt).mul(wt);if(at?a.feeProtocolCoinA=a.feeProtocolCoinA.add(mt):a.feeProtocolCoinB=a.feeProtocolCoinB.add(mt),$t.eq(ZERO$1)||a.liquidity.eq(ZERO$1))return{refFee:wt,clmm:a};const Ct=$t.shln(64).div(a.liquidity);return at?a.feeGrowthGlobalA=a.feeGrowthGlobalA.add(Ct):a.feeGrowthGlobalB=a.feeGrowthGlobalB.add(Ct),{refFee:wt,clmm:a}}static getCoinAmountFromLiquidity(a,s,et,nt,at){const mt=new decimal_default$1(a.toString()),wt=new decimal_default$1(s.toString()),$t=new decimal_default$1(et.toString()),Ct=new decimal_default$1(nt.toString());let Dt,Ft;return s.lt(et)?(Dt=MathUtil.toX64_Decimal(mt).mul(Ct.sub($t)).div($t.mul(Ct)),Ft=new decimal_default$1(0)):s.lt(nt)?(Dt=MathUtil.toX64_Decimal(mt).mul(Ct.sub(wt)).div(wt.mul(Ct)),Ft=MathUtil.fromX64_Decimal(mt.mul(wt.sub($t)))):(Dt=new decimal_default$1(0),Ft=MathUtil.fromX64_Decimal(mt.mul(Ct.sub($t)))),at?{coinA:new BN(Dt.ceil().toString()),coinB:new BN(Ft.ceil().toString())}:{coinA:new BN(Dt.floor().toString()),coinB:new BN(Ft.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(a,s,et,nt,at,mt,wt){const $t=TickMath.sqrtPriceX64ToTickIndex(wt),Ct=TickMath.tickIndexToSqrtPriceX64(a),Dt=TickMath.tickIndexToSqrtPriceX64(s);let Ft;if($t<a){if(!nt)throw new ClmmpoolsError("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");Ft=estimateLiquidityForCoinA(Ct,Dt,et)}else if($t>s){if(nt)throw new ClmmpoolsError("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");Ft=estimateLiquidityForCoinB(Dt,Ct,et)}else nt?Ft=estimateLiquidityForCoinA(wt,Dt,et):Ft=estimateLiquidityForCoinB(wt,Ct,et);const jt=ClmmPoolUtil.getCoinAmountFromLiquidity(Ft,wt,Ct,Dt,at),Ut=at?d$2(jt.coinA.toString()).mul(1+mt).toString():d$2(jt.coinA.toString()).mul(1-mt).toString(),tr=at?d$2(jt.coinB.toString()).mul(1+mt).toString():d$2(jt.coinB.toString()).mul(1-mt).toString();return{coinAmountA:jt.coinA,coinAmountB:jt.coinB,tokenMaxA:at?new BN(decimal_default$1.ceil(Ut).toString()):new BN(decimal_default$1.floor(Ut).toString()),tokenMaxB:at?new BN(decimal_default$1.ceil(tr).toString()):new BN(decimal_default$1.floor(tr).toString()),liquidityAmount:Ft,fix_amount_a:nt}}static estimateLiquidityFromcoinAmounts(a,s,et,nt){if(s>et)throw new ClmmpoolsError("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");const at=TickMath.sqrtPriceX64ToTickIndex(a),mt=TickMath.tickIndexToSqrtPriceX64(s),wt=TickMath.tickIndexToSqrtPriceX64(et);if(at<s)return estimateLiquidityForCoinA(mt,wt,nt.coinA);if(at>=et)return estimateLiquidityForCoinB(wt,mt,nt.coinB);const $t=estimateLiquidityForCoinA(a,wt,nt.coinA),Ct=estimateLiquidityForCoinB(a,mt,nt.coinB);return BN.min($t,Ct)}static estCoinAmountsFromTotalAmount(a,s,et,nt,at,mt){const{ratioA:wt,ratioB:$t}=ClmmPoolUtil.calculateDepositRatioFixTokenA(a,s,et),Ct=d$2(nt).mul(wt).div(at),Dt=d$2(nt).mul($t).div(mt);return{amountA:Ct,amountB:Dt}}static calculateDepositRatioFixTokenA(a,s,et){const nt=new BN(1e8),{coinAmountB:at}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a,s,nt,!0,!0,0,et),mt=TickMath.sqrtPriceX64ToPrice(et,0,0),wt=d$2(nt.toString()).mul(mt),$t=wt.add(at.toString()),Ct=wt.div($t),Dt=d$2(at.toString()).div($t);return{ratioA:Ct,ratioB:Dt}}};function removeHexPrefix(a){return a.startsWith("0x")?`${a.slice(2)}`:a}var EQUAL=0,LESS_THAN=1,GREATER_THAN=2;function cmp(a,s){return a===s?EQUAL:a<s?LESS_THAN:GREATER_THAN}function compare(a,s){let et=0;const nt=a.length<=s.length?a.length:s.length,at=cmp(a.length,s.length);for(;et<nt;){const mt=cmp(a.charCodeAt(et),s.charCodeAt(et));if(et+=1,mt!==0)return mt}return at}function isSortedSymbols(a,s){return compare(a,s)===LESS_THAN}function composeType$1(a,...s){const et=Array.isArray(s[s.length-1])?s.pop():[];let at=[a,...s].filter(Boolean).join("::");return et&&et.length&&(at+=`<${et.join(", ")}>`),at}function extractStructTagFromType$1(a){var s;try{let et=a.replace(/\s/g,"");const nt=et.match(/(<.+>)$/),at=(s=nt==null?void 0:nt[0])==null?void 0:s.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){et=et.slice(0,et.indexOf("<"));const Dt={...extractStructTagFromType$1(et),type_arguments:at.map(Ft=>extractStructTagFromType$1(Ft).source_address)};return Dt.type_arguments=Dt.type_arguments.map(Ft=>CoinAssist.isSuiCoin(Ft)?Ft:extractStructTagFromType$1(Ft).source_address),Dt.source_address=composeType$1(Dt.full_address,Dt.type_arguments),Dt}const mt=et.split("::"),$t={full_address:et,address:et===GAS_TYPE_ARG$1||et===GAS_TYPE_ARG_LONG$1?"0x2":normalizeSuiObjectId(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return $t.full_address=`${$t.address}::${$t.module}::${$t.name}`,$t.source_address=composeType$1($t.full_address,$t.type_arguments),$t}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function normalizeCoinType$1(a){return extractStructTagFromType$1(a).source_address}function fixSuiObjectId(a){return a.toLowerCase().startsWith("0x")?normalizeSuiObjectId(a):a}var fixCoinType=(a,s=!0)=>{const et=a.split("::"),nt=et.shift();let at=normalizeSuiObjectId(nt);return s&&(at=removeHexPrefix(at)),`${at}::${et.join("::")}`};function patchFixSuiObjectId(a){for(const s in a){const et=typeof a[s];if(et==="object")patchFixSuiObjectId(a[s]);else if(et==="string"){const nt=a[s];nt&&!nt.includes("::")&&(a[s]=fixSuiObjectId(nt))}}}var COIN_TYPE$1="0x2::coin::Coin",COIN_TYPE_ARG_REGEX$1=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG$1="0x2::sui::SUI",GAS_TYPE_ARG_LONG$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinAssist=class{static getCoinTypeArg(a){const s=a.type.match(COIN_TYPE_ARG_REGEX$1);return s?s[1]:null}static isSUI(a){const s=CoinAssist.getCoinTypeArg(a);return s?CoinAssist.getCoinSymbol(s)==="SUI":!1}static getCoinSymbol(a){return a.substring(a.lastIndexOf(":")+1)}static getBalance(a){return BigInt(a.fields.balance)}static totalBalance(a,s){let et=BigInt(0);return a.forEach(nt=>{s===nt.coinAddress&&(et+=BigInt(nt.balance))}),et}static getID(a){return a.fields.id.id}static getCoinTypeFromArg(a){return`${COIN_TYPE$1}<${a}>`}static getFaucetCoins(a){const{events:s}=a,et=[];return s==null||s.forEach(nt=>{const{type:at}=nt;if(extractStructTagFromType$1(at).name==="InitEvent"){const mt=nt.parsedJson;et.push({transactionModule:nt.transactionModule,suplyID:mt.suplyID,decimals:mt.decimals})}}),et}static getCoinAssets(a,s){const et=[];return s.forEach(nt=>{normalizeCoinType$1(nt.coinAddress)===normalizeCoinType$1(a)&&et.push(nt)}),et}static isSuiCoin(a){return extractStructTagFromType$1(a).full_address===GAS_TYPE_ARG$1}static selectCoinObjectIdGreaterThanOrEqual(a,s,et=[]){const nt=CoinAssist.selectCoinAssetGreaterThanOrEqual(a,s,et),at=nt.selectedCoins.map($t=>$t.coinObjectId),mt=nt.remainingCoins,wt=nt.selectedCoins.map($t=>$t.balance.toString());return{objectArray:at,remainCoins:mt,amountArray:wt}}static selectCoinAssetGreaterThanOrEqual(a,s,et=[]){const nt=CoinAssist.sortByBalance(a.filter(Ct=>!et.includes(Ct.coinObjectId))),at=CoinAssist.calculateTotalBalance(nt);if(at<s)return{selectedCoins:[],remainingCoins:nt};if(at===s)return{selectedCoins:nt,remainingCoins:[]};let mt=BigInt(0);const wt=[],$t=[...nt];for(;mt<at;){const Ct=s-mt,Dt=$t.findIndex(jt=>jt.balance>=Ct);if(Dt!==-1){wt.push($t[Dt]),$t.splice(Dt,1);break}const Ft=$t.pop();Ft.balance>0&&(wt.push(Ft),mt+=Ft.balance)}return{selectedCoins:CoinAssist.sortByBalance(wt),remainingCoins:CoinAssist.sortByBalance($t)}}static sortByBalance(a){return a.sort((s,et)=>s.balance<et.balance?-1:s.balance>et.balance?1:0)}static sortByBalanceDes(a){return a.sort((s,et)=>s.balance>et.balance?-1:s.balance<et.balance?0:1)}static calculateTotalBalance(a){return a.reduce((s,et)=>s+et.balance,BigInt(0))}},Percentage=class{constructor(a,s){Yn(this,"numerator");Yn(this,"denominator");this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=a,this.denominator=s}static fromDecimal(a){return Percentage.fromFraction(a.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(a,s){const et=typeof a=="number"?new BN(a.toString()):a,nt=typeof s=="number"?new BN(s.toString()):s;return new Percentage(et,nt)}};function adjustForSlippage(a,{numerator:s,denominator:et},nt){return nt?a.mul(et.add(s)).div(et):a.mul(et).div(et.add(s))}function adjustForCoinSlippage(a,s,et){return{tokenMaxA:adjustForSlippage(a.coinA,s,et),tokenMaxB:adjustForSlippage(a.coinB,s,et)}}function d$2(a){return Decimal$1.isDecimal(a)?a:new Decimal$1(a===void 0?0:a)}function decimalsMultiplier(a){return d$2(10).pow(d$2(a).abs())}function getSuiObjectData(a){return a.data}function getObjectDeletedResponse(a){if(a.error&&"object_id"in a.error&&"version"in a.error&&"digest"in a.error){const{error:s}=a;return{objectId:s.object_id,version:s.version,digest:s.digest}}}function getObjectNotExistsResponse(a){if(a.error&&"object_id"in a.error&&!("version"in a.error)&&!("digest"in a.error))return a.error.object_id}function getObjectReference(a){if("reference"in a)return a.reference;const s=getSuiObjectData(a);return s?{objectId:s.objectId,version:s.version,digest:s.digest}:getObjectDeletedResponse(a)}function getObjectId(a){var s;return"objectId"in a?a.objectId:((s=getObjectReference(a))==null?void 0:s.objectId)??getObjectNotExistsResponse(a)}function isSuiObjectResponse(a){return a.data!==void 0}function isSuiObjectDataWithContent(a){return a.content!==void 0}function getMoveObject(a){const s="data"in a?getSuiObjectData(a):a;if(!(!s||!isSuiObjectDataWithContent(s)||s.content.dataType!=="moveObject"))return s.content}function getMoveObjectType(a){var s;return(s=getMoveObject(a))==null?void 0:s.type}function getObjectType(a){var et;const s=isSuiObjectResponse(a)?a.data:a;return!(s!=null&&s.type)&&"data"in a?((et=s==null?void 0:s.content)==null?void 0:et.dataType)==="package"?"package":getMoveObjectType(a):s==null?void 0:s.type}function getObjectPreviousTransactionDigest(a){var s;return(s=getSuiObjectData(a))==null?void 0:s.previousTransaction}function getObjectOwner(a){var s;return(s=getSuiObjectData(a))==null?void 0:s.owner}function getObjectDisplay(a){var et;const s=(et=getSuiObjectData(a))==null?void 0:et.display;return s||{data:null,error:null}}function getObjectFields(a){var et;const s=(et=getMoveObject(a))==null?void 0:et.fields;if(s)return"fields"in s?s.fields:s}function toDecimalsAmount(a,s){const et=decimalsMultiplier(d$2(s));return Number(d$2(a).mul(et))}function asUintN(a,s=32){return BigInt.asUintN(s,BigInt(a)).toString()}function asIntN(a,s=32){return Number(BigInt.asIntN(s,BigInt(a)))}function fromDecimalsAmount(a,s){const et=decimalsMultiplier(d$2(s));return Number(d$2(a).div(et))}function buildPoolName(a,s,et){const nt=extractStructTagFromType$1(a).name,at=extractStructTagFromType$1(s).name;return`${nt}-${at}[${et}]`}function buildPool(a){const s=getMoveObjectType(a),et=extractStructTagFromType$1(s),nt=getObjectFields(a);if(nt==null)throw new ClmmpoolsError(`Pool id ${getObjectId(a)} not exists.`,"InvalidPoolObject");const at=[];nt.rewarder_manager.fields.rewarders.forEach(wt=>{const{emissions_per_second:$t}=wt.fields,Ct=MathUtil.fromX64(new BN($t)),Dt=Math.floor(Ct.toNumber()*60*60*24);at.push({emissions_per_second:$t,coinAddress:extractStructTagFromType$1(wt.fields.reward_coin.fields.name).source_address,growth_global:wt.fields.growth_global,emissionsEveryDay:Dt})});const mt={poolAddress:getObjectId(a),poolType:s,coinTypeA:et.type_arguments[0],coinTypeB:et.type_arguments[1],coinAmountA:nt.coin_a,coinAmountB:nt.coin_b,current_sqrt_price:nt.current_sqrt_price,current_tick_index:asIntN(BigInt(nt.current_tick_index.fields.bits)),fee_growth_global_a:nt.fee_growth_global_a,fee_growth_global_b:nt.fee_growth_global_b,fee_protocol_coin_a:nt.fee_protocol_coin_a,fee_protocol_coin_b:nt.fee_protocol_coin_b,fee_rate:nt.fee_rate,is_pause:nt.is_pause,liquidity:nt.liquidity,position_manager:{positions_handle:nt.position_manager.fields.positions.fields.id.id,size:nt.position_manager.fields.positions.fields.size},rewarder_infos:at,rewarder_last_updated_time:nt.rewarder_manager.fields.last_updated_time,tickSpacing:nt.tick_spacing,ticks_handle:nt.tick_manager.fields.ticks.fields.id.id,uri:nt.url,index:Number(nt.index),name:""};return mt.name=buildPoolName(mt.coinTypeA,mt.coinTypeB,mt.tickSpacing),mt}function buildNFT(a){const s=getObjectDisplay(a).data,et={creator:"",description:"",image_url:"",link:"",name:"",project_url:""};return s&&(et.creator=s.creator,et.description=s.description,et.image_url=s.image_url,et.link=s.link,et.name=s.name,et.project_url=s.project_url),et}function buildPosition(a){var wt,$t;if(a.error!=null||(($t=(wt=a.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`Position not exists. Get Position error:${a.error}`,"InvalidPositionObject");let s={creator:"",description:"",image_url:"",link:"",name:"",project_url:""},et={...s,pos_object_id:"",owner:"",type:"",coin_type_a:"",coin_type_b:"",liquidity:"",tick_lower_index:0,tick_upper_index:0,index:0,pool:"",reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"},nt=getObjectFields(a);if(nt){const Ct=getMoveObjectType(a),Dt=getObjectOwner(a);"nft"in nt?(nt=nt.nft.fields,s.description=nt.description,s.name=nt.name,s.link=nt.url):s=buildNFT(a),et={...s,pos_object_id:nt.id.id,owner:Dt.AddressOwner,type:Ct,liquidity:nt.liquidity,coin_type_a:nt.coin_type_a.fields.name,coin_type_b:nt.coin_type_b.fields.name,tick_lower_index:asIntN(BigInt(nt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(nt.tick_upper_index.fields.bits)),index:nt.index,pool:nt.pool,reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"}}const at=getObjectDeletedResponse(a);at&&(et.pos_object_id=at.objectId,et.position_status="Deleted");const mt=getObjectNotExistsResponse(a);return mt&&(et.pos_object_id=mt,et.position_status="NotExists"),et}function buildPositionReward(a){const s={reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0"};a="fields"in a?a.fields:a,a.rewards.forEach((mt,wt)=>{const{amount_owned:$t,growth_inside:Ct}="fields"in mt?mt.fields:mt;wt===0?(s.reward_amount_owed_0=$t,s.reward_growth_inside_0=Ct):wt===1?(s.reward_amount_owed_1=$t,s.reward_growth_inside_1=Ct):wt===2&&(s.reward_amount_owed_2=$t,s.reward_growth_inside_2=Ct)});const et="fields"in a.tick_lower_index?a.tick_lower_index.fields.bits:a.tick_lower_index.bits,nt="fields"in a.tick_upper_index?a.tick_upper_index.fields.bits:a.tick_upper_index.bits;return{liquidity:a.liquidity,tick_lower_index:asIntN(BigInt(et)),tick_upper_index:asIntN(BigInt(nt)),...s,fee_growth_inside_a:a.fee_growth_inside_a,fee_owed_a:a.fee_owned_a,fee_growth_inside_b:a.fee_growth_inside_b,fee_owed_b:a.fee_owned_b,pos_object_id:a.position_id}}function buildTickData(a){var at,mt;if(a.error!=null||((mt=(at=a.data)==null?void 0:at.content)==null?void 0:mt.dataType)!=="moveObject")throw new ClmmpoolsError(`Tick not exists. Get tick data error:${a.error}`,"InvalidTickObject");const et=getObjectFields(a).value.fields.value.fields;return{objectId:getObjectId(a),index:asIntN(BigInt(et.index.fields.bits)),sqrtPrice:new BN(et.sqrt_price),liquidityNet:new BN(et.liquidity_net.fields.bits),liquidityGross:new BN(et.liquidity_gross),feeGrowthOutsideA:new BN(et.fee_growth_outside_a),feeGrowthOutsideB:new BN(et.fee_growth_outside_b),rewardersGrowthOutside:et.rewards_growth_outside}}function buildTickDataByEvent(a){if(!a||!a.index||!a.sqrt_price||!a.liquidity_net||!a.liquidity_gross||!a.fee_growth_outside_a||!a.fee_growth_outside_b)throw new ClmmpoolsError("Invalid tick fields.","InvalidTickFields");const s=asIntN(BigInt(a.index.bits)),et=new BN(a.sqrt_price),nt=new BN(a.liquidity_net.bits),at=new BN(a.liquidity_gross),mt=new BN(a.fee_growth_outside_a),wt=new BN(a.fee_growth_outside_b),$t=a.rewards_growth_outside||[];return{objectId:"",index:s,sqrtPrice:et,liquidityNet:nt,liquidityGross:at,feeGrowthOutsideA:mt,feeGrowthOutsideB:wt,rewardersGrowthOutside:$t}}function buildPositionTransactionInfo(a,s,et){const nt=[],{timestampMs:at,events:mt}=a,wt=["AddLiquidityEvent","RemoveLiquidityEvent","CollectFeeEvent","CollectRewardEvent","CollectRewardV2Event","HarvestEvent"];return mt==null||mt.forEach(($t,Ct)=>{const Dt=extractStructTagFromType$1($t.type).name;if(wt.includes(Dt)){const Ft={txDigest:$t.id.txDigest,packageId:$t.packageId,transactionModule:$t.transactionModule,sender:$t.sender,type:$t.type,timestampMs:at||"0",parsedJson:$t.parsedJson,index:`${s}_${Ct}`};switch(Dt){case"CollectFeeEvent":et.includes(Ft.parsedJson.position)&&(d$2(Ft.parsedJson.amount_a).gt(0)||d$2(Ft.parsedJson.amount_b).gt(0))&&nt.push(Ft);break;case"RemoveLiquidityEvent":case"AddLiquidityEvent":(d$2(Ft.parsedJson.amount_a).gt(0)||d$2(Ft.parsedJson.amount_b).gt(0))&&nt.push(Ft);break;case"CollectRewardEvent":case"HarvestEvent":case"CollectRewardV2Event":(et.includes(Ft.parsedJson.position)||et.includes(Ft.parsedJson.wrapped_position_id))&&d$2(Ft.parsedJson.amount).gt(0)&&nt.push(Ft);break}}}),nt}function buildPoolTransactionInfo(a,s,et,nt){const at=[],{timestampMs:mt,events:wt}=a;return wt==null||wt.forEach(($t,Ct)=>{const{name:Dt,address:Ft}=extractStructTagFromType$1($t.type);if(poolFilterEvenTypes.includes(Dt)&&Ft===et&&nt===$t.parsedJson.pool){const jt={tx:$t.id.txDigest,sender:$t.sender,type:$t.type,block_time:mt||"0",index:`${s}_${Ct}`,parsedJson:$t.parsedJson};at.push(jt)}}),at}var TickUtil=class{static getMinIndex(a){return MIN_TICK_INDEX+Math.abs(MIN_TICK_INDEX)%a}static getMaxIndex(a){return MAX_TICK_INDEX-MAX_TICK_INDEX%a}};function getNearestTickByTick(a,s){const et=Math.abs(a)%s;return a>0?et>s/2?a+s-et:a-et:et>s/2?a-s+et:a+et}function getRewardInTickRange(a,s,et,nt,at,mt){const wt=a.rewarder_infos,$t=[];for(let Ct=0;Ct<wt.length;Ct+=1){let Dt=mt[Ct];s!==null&&(a.current_tick_index<nt?Dt=mt[Ct].sub(new BN(s.rewardersGrowthOutside[Ct])):Dt=s.rewardersGrowthOutside[Ct]);let Ft=new BN(0);et!==null&&(a.current_tick_index>=at?Ft=mt[Ct].sub(new BN(et.rewardersGrowthOutside[Ct])):Ft=et.rewardersGrowthOutside[Ct]);const jt=MathUtil.subUnderflowU128(MathUtil.subUnderflowU128(new BN(mt[Ct]),new BN(Dt)),new BN(Ft));$t.push(jt)}return $t}function findAdjustCoin(a){const s=CoinAssist.isSuiCoin(a.coinTypeA),et=CoinAssist.isSuiCoin(a.coinTypeB);return{isAdjustCoinA:s,isAdjustCoinB:et}}function reverSlippageAmount(a,s){return Decimal$1.ceil(d$2(a).div(1+s)).toString()}var _TransactionUtil=class{static createCollectRewarderAndFeeParams(a,s,et,nt,at,mt){at===void 0&&(at=[...nt]),mt===void 0&&(mt=[...nt]);const wt=normalizeCoinType$1(et.coinTypeA),$t=normalizeCoinType$1(et.coinTypeB);if(et.collect_fee){const Dt=_TransactionUtil.buildCoinForAmount(s,at,BigInt(0),wt,!1);at=Dt.remainCoins;const Ft=_TransactionUtil.buildCoinForAmount(s,mt,BigInt(0),$t,!1);mt=Ft.remainCoins,s=a.Position.createCollectFeePaylod({pool_id:et.pool_id,pos_id:et.pos_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},s,Dt.targetCoin,Ft.targetCoin)}const Ct=[];return et.rewarder_coin_types.forEach(Dt=>{switch(normalizeCoinType$1(Dt)){case wt:Ct.push(_TransactionUtil.buildCoinForAmount(s,at,BigInt(0),Dt,!1).targetCoin);break;case $t:Ct.push(_TransactionUtil.buildCoinForAmount(s,mt,BigInt(0),Dt,!1).targetCoin);break;default:Ct.push(_TransactionUtil.buildCoinForAmount(s,nt,BigInt(0),Dt,!1).targetCoin);break}}),s=a.Rewarder.createCollectRewarderPaylod(et,s,Ct),s}static async adjustTransactionForGas(a,s,et,nt){nt.setSender(a.senderAddress);const at=CoinAssist.selectCoinAssetGreaterThanOrEqual(s,et).selectedCoins;if(at.length===0)throw new ClmmpoolsError("Insufficient balance","InsufficientBalance");const mt=CoinAssist.calculateTotalBalance(s);if(mt-et>1e9)return{fixAmount:et};const wt=await a.fullClient.calculationTxGas(nt);if(CoinAssist.selectCoinAssetGreaterThanOrEqual(s,BigInt(wt),at.map(Ct=>Ct.coinObjectId)).selectedCoins.length===0){const Ct=BigInt(wt)+BigInt(500);if(mt-et<Ct){if(et-=Ct,et<0)throw new ClmmpoolsError("gas Insufficient balance","InsufficientBalance");const Dt=new Transaction;return{fixAmount:et,newTx:Dt}}}return{fixAmount:et}}static async buildAddLiquidityFixTokenForGas(a,s,et,nt,at,mt,wt){at=await _TransactionUtil.buildAddLiquidityFixToken(a,s,et,at,mt,wt);const{isAdjustCoinA:$t}=findAdjustCoin(et),Ct=$t?et.amount_a:et.amount_b,Dt=await _TransactionUtil.adjustTransactionForGas(a,CoinAssist.getCoinAssets($t?et.coinTypeA:et.coinTypeB,s),BigInt(Ct),at),{fixAmount:Ft}=Dt,{newTx:jt}=Dt;if(jt!=null){let Ut,tr;if($t)et.amount_a=Number(Ft),Ut=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeA,s,!1,!0),tr=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0);else return et.amount_b=Number(Ft),Ut=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),tr=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeB,s,!1,!0),et=_TransactionUtil.fixAddLiquidityFixTokenParams(et,nt.slippage,nt.curSqrtPrice),at=await _TransactionUtil.buildAddLiquidityFixTokenArgs(jt,a,s,et,Ut,tr),at}return at}static async buildAddLiquidityFixToken(a,s,et,nt,at,mt){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");nt=nt||new Transaction;let wt,$t;return at==null||mt==null?(wt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(nt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),$t=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(nt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0)):(wt={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},$t={targetCoin:mt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),nt=_TransactionUtil.buildAddLiquidityFixTokenArgs(nt,a,s,et,wt,$t),nt}static buildAddLiquidityFixTokenCoinInput(a,s,et,nt,at,mt,wt=!0,$t=!0){return s?_TransactionUtil.buildCoinForAmountInterval(a,mt,{amountSecond:BigInt(reverSlippageAmount(et,nt)),amountFirst:BigInt(et)},at,wt,$t):_TransactionUtil.buildCoinForAmount(a,mt,BigInt(et),at,wt,$t)}static fixAddLiquidityFixTokenParams(a,s,et){const nt=a.fix_amount_a?a.amount_a:a.amount_b,at=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(Number(a.tick_lower),Number(a.tick_upper),new BN(nt),a.fix_amount_a,!0,s,et);return a.amount_a=a.fix_amount_a?a.amount_a:at.tokenMaxA.toNumber(),a.amount_b=a.fix_amount_a?at.tokenMaxB.toNumber():a.amount_b,a}static buildAddLiquidityFixTokenArgs(a,s,et,nt,at,mt){const wt=[nt.coinTypeA,nt.coinTypeB],$t=nt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:Ct,integrate:Dt}=s.sdkOptions;nt.is_open||(a=_TransactionUtil.createCollectRewarderAndFeeParams(s,a,nt,et,at.remainCoins,mt.remainCoins));const Ft=getPackagerConfigs(Ct),jt=nt.is_open?[a.object(Ft.global_config_id),a.object(nt.pool_id),a.pure.u32(Number(asUintN(BigInt(nt.tick_lower)).toString())),a.pure.u32(Number(asUintN(BigInt(nt.tick_upper)).toString())),at.targetCoin,mt.targetCoin,a.pure.u64(nt.amount_a),a.pure.u64(nt.amount_b),a.pure.bool(nt.fix_amount_a),a.object(CLOCK_ADDRESS$1)]:[a.object(Ft.global_config_id),a.object(nt.pool_id),a.object(nt.pos_id),at.targetCoin,mt.targetCoin,a.pure.u64(nt.amount_a),a.pure.u64(nt.amount_b),a.pure.bool(nt.fix_amount_a),a.object(CLOCK_ADDRESS$1)];return a.moveCall({target:`${Dt.published_at}::${ClmmIntegratePoolV2Module}::${$t}`,typeArguments:wt,arguments:jt}),a}static async buildSwapTransactionForGas(a,s,et,nt){let at=_TransactionUtil.buildSwapTransaction(a,s,et);at.setSender(a.senderAddress);const mt=await _TransactionUtil.adjustTransactionForGas(a,CoinAssist.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:wt,newTx:$t}=mt;if($t!==void 0){$t.setSender(a.senderAddress),s.by_amount_in?s.amount=wt.toString():s.amount_limit=wt.toString(),s=await _TransactionUtil.fixSwapParams(a,s,nt);const Ct=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA),Dt=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB);at=_TransactionUtil.buildSwapTransactionArgs($t,s,a.sdkOptions,Ct,Dt)}return at}static buildSwapTransaction(a,s,et){let nt=new Transaction;nt.setSender(a.senderAddress);const at=_TransactionUtil.buildCoinForAmount(nt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1),mt=_TransactionUtil.buildCoinForAmount(nt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1);return nt=_TransactionUtil.buildSwapTransactionArgs(nt,s,a.sdkOptions,at,mt),nt}static buildSwapTransactionArgs(a,s,et,nt,at){const{clmm_pool:mt,integrate:wt}=et,$t=SwapUtils.getDefaultSqrtPriceLimit(s.a2b),Ct=[s.coinTypeA,s.coinTypeB],{global_config_id:Dt}=getPackagerConfigs(mt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");const Ft=s.swap_partner!==void 0,jt=Ft?s.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":s.a2b?"swap_a2b":"swap_b2a",Ut=Ft?[a.object(Dt),a.object(s.pool_id),a.object(s.swap_partner),nt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128($t.toString()),a.object(CLOCK_ADDRESS$1)]:[a.object(Dt),a.object(s.pool_id),nt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128($t.toString()),a.object(CLOCK_ADDRESS$1)];return a.moveCall({target:`${wt.published_at}::${ClmmIntegratePoolV2Module}::${jt}`,typeArguments:Ct,arguments:Ut}),a}static async buildSwapTransactionWithoutTransferCoinsForGas(a,s,et,nt){let{tx:at,coinABs:mt}=_TransactionUtil.buildSwapTransactionWithoutTransferCoins(a,s,et);at.setSender(a.senderAddress);const wt=await _TransactionUtil.adjustTransactionForGas(a,CoinAssist.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:$t,newTx:Ct}=wt;if(Ct!==void 0){Ct.setSender(a.senderAddress),s.by_amount_in?s.amount=$t.toString():s.amount_limit=$t.toString(),s=await _TransactionUtil.fixSwapParams(a,s,nt);const Dt=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),Ft=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),jt=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(a,Ct,s,a.sdkOptions,Dt,Ft);at=jt.tx,mt=jt.txRes}return{tx:at,coinABs:mt}}static buildSwapTransactionWithoutTransferCoins(a,s,et){const nt=new Transaction;nt.setSender(a.senderAddress);const at=_TransactionUtil.buildCoinForAmount(nt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),mt=_TransactionUtil.buildCoinForAmount(nt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),wt=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(a,nt,s,a.sdkOptions,at,mt);return{tx:wt.tx,coinABs:wt.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(a,s,et,nt,at,mt){const{clmm_pool:wt,integrate:$t}=nt,Ct=SwapUtils.getDefaultSqrtPriceLimit(et.a2b),{global_config_id:Dt}=getPackagerConfigs(wt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");const Ft=et.swap_partner!==void 0,jt=Ft?"swap_with_partner":"swap",Ut=Ft?ClmmIntegrateRouterWithPartnerModule:ClmmIntegrateRouterModule,tr=Ft?[s.object(Dt),s.object(et.pool_id),s.object(et.swap_partner),at.targetCoin,mt.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(Ct.toString()),s.pure.bool(!1),s.object(CLOCK_ADDRESS$1)]:[s.object(Dt),s.object(et.pool_id),at.targetCoin,mt.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(Ct.toString()),s.pure.bool(!1),s.object(CLOCK_ADDRESS$1)],ir=[et.coinTypeA,et.coinTypeB],sr=s.moveCall({target:`${$t.published_at}::${Ut}::${jt}`,typeArguments:ir,arguments:tr});if(et.by_amount_in){const ur=et.a2b?et.coinTypeB:et.coinTypeA,fr=et.a2b?sr[1]:sr[0],dr=Number(et.amount_limit);this.checkCoinThreshold(a,et.by_amount_in,s,fr,dr,ur)}return{tx:s,txRes:sr}}static async fixSwapParams(a,s,et){const{currentPool:nt}=et;try{const at=await a.Swap.preswap({decimalsA:et.decimalsA,decimalsB:et.decimalsB,a2b:s.a2b,byAmountIn:s.by_amount_in,amount:s.amount,pool:nt,currentSqrtPrice:nt.current_sqrt_price,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB}),mt=et.byAmountIn?at.estimatedAmountOut:at.estimatedAmountIn,wt=adjustForSlippage(mt,et.slippage,!et.byAmountIn);s.amount_limit=wt.toString()}catch(at){console.log("fixSwapParams",at)}return s}static async syncBuildCoinInputForAmount(a,s,et,nt,at=!0,mt=!0){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const wt=await a.getOwnerCoinAssets(a.senderAddress,nt);return _TransactionUtil.buildCoinForAmount(s,wt,et,nt,at,mt).targetCoin}static buildCoinForAmount(a,s,et,nt,at=!0,mt=!0){const wt=CoinAssist.getCoinAssets(nt,s);if(et===BigInt(0))return _TransactionUtil.buildZeroValueCoin(s,a,nt,at);const $t=CoinAssist.calculateTotalBalance(wt);if($t<et)throw new ClmmpoolsError(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et} `,"InsufficientBalance");return _TransactionUtil.buildCoin(a,s,wt,et,nt,at,mt)}static buildCoinWithBalance(a,s){return a===BigInt(0)&&CoinAssist.isSuiCoin(s)?coinWithBalance({balance:a,useGasCoin:!1}):coinWithBalance({balance:a,type:s})}static buildVectorCoin(a,s,et,nt,at,mt=!0){if(CoinAssist.isSuiCoin(at)){const jt=a.splitCoins(a.gas,[a.pure.u64(nt)]);return{targetCoin:a.makeMoveVec({elements:[jt]}),remainCoins:s,tragetCoinAmount:nt.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}const{targetCoin:wt,originalSplitedCoin:$t,tragetCoinAmount:Ct,selectedCoinsResult:Dt,coinObjectIds:Ft}=this.buildSpitTargeCoin(a,nt,et,mt);return mt?{targetCoin:a.makeMoveVec({elements:[wt]}),remainCoins:Dt.remainCoins,originalSplitedCoin:$t,tragetCoinAmount:Ct,isMintZeroCoin:!1}:{targetCoin:a.makeMoveVec({elements:Ft.map(jt=>a.object(jt))}),remainCoins:Dt.remainCoins,tragetCoinAmount:Dt.amountArray.reduce((jt,Ut)=>Number(jt)+Number(Ut),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(a,s,et,nt,at=!0){if(CoinAssist.isSuiCoin(nt)){if(et===0n&&s.length>1){const jt=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.object(jt.objectArray[0]),remainCoins:jt.remainCoins,tragetCoinAmount:jt.amountArray[0],isMintZeroCoin:!1}}const Dt=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.splitCoins(a.gas,[a.pure.u64(et)]),remainCoins:Dt.remainCoins,tragetCoinAmount:et.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}const{targetCoin:mt,originalSplitedCoin:wt,tragetCoinAmount:$t,selectedCoinsResult:Ct}=this.buildSpitTargeCoin(a,et,s,at);return{targetCoin:mt,remainCoins:Ct.remainCoins,originalSplitedCoin:wt,tragetCoinAmount:$t,isMintZeroCoin:!1}}static buildSpitTargeCoin(a,s,et,nt){const at=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(et,s),mt=at.amountArray.reduce((tr,ir)=>Number(tr)+Number(ir),0).toString(),wt=at.objectArray,[$t,...Ct]=wt,Dt=a.object($t);let Ft=Dt;const jt=at.amountArray.reduce((tr,ir)=>Number(tr)+Number(ir),0).toString();let Ut;return Ct.length>0&&a.mergeCoins(Dt,Ct.map(tr=>a.object(tr))),nt&&Number(mt)>Number(s)&&(Ft=a.splitCoins(Dt,[a.pure.u64(s)]),Ut=Dt),{originalSplitedCoin:Ut,targetCoin:Ft,tragetCoinAmount:jt,selectedCoinsResult:at,coinObjectIds:wt}}static buildCoin(a,s,et,nt,at,mt=!0,wt=!0){return mt?this.buildVectorCoin(a,s,et,nt,at,wt):this.buildOneCoin(a,et,nt,at,wt)}static buildZeroValueCoin(a,s,et,nt=!0){const at=_TransactionUtil.callMintZeroValueCoin(s,et);let mt;return nt?mt=s.makeMoveVec({elements:[at]}):mt=at,{targetCoin:mt,remainCoins:a,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(a,s,et,nt,at=!0,mt=!0){const wt=CoinAssist.getCoinAssets(nt,s);if(et.amountFirst===BigInt(0))return wt.length>0?_TransactionUtil.buildCoin(a,[...s],[...wt],et.amountFirst,nt,at,mt):_TransactionUtil.buildZeroValueCoin(s,a,nt,at);const $t=CoinAssist.calculateTotalBalance(wt);if($t>=et.amountFirst)return _TransactionUtil.buildCoin(a,[...s],[...wt],et.amountFirst,nt,at,mt);if($t<et.amountSecond)throw new ClmmpoolsError(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et.amountSecond} `,"InsufficientBalance");return _TransactionUtil.buildCoin(a,[...s],[...wt],et.amountSecond,nt,at,mt)}static async buildRouterSwapTransaction(a,s,et,nt,at){let mt=new Transaction;return s.paths.length>1&&(s.partner=""),mt=await this.buildRouterBasePathTx(a,s,et,nt,mt,at),mt}static async buildRouterBasePathTx(a,s,et,nt,at,mt){const wt=s.paths.filter(hr=>hr&&hr.poolAddress),$t=Number(wt.reduce((hr,vr)=>hr.add(vr.amountIn),ZERO$1).toString()),Ct=Number(wt.reduce((hr,vr)=>hr.add(vr.amountOut),ZERO$1).toString()),Dt=Math.round(et?Number(Ct.toString())*(1-s.priceSlippagePoint):Number($t.toString())*(1+s.priceSlippagePoint)),Ft=s.paths[0].coinType[0],jt=s.paths[0].coinType[s.paths[0].coinType.length-1],Ut=_TransactionUtil.buildCoinForAmount(at,nt,BigInt(et?$t:Dt),Ft,!1,!0),tr=Ut.originalSplitedCoin!==void 0,ir=_TransactionUtil.buildCoinForAmount(at,nt,0n,jt,!1),sr=await this.buildRouterBasePathReturnCoins(a,s,et,Ut,ir,at),ur=[],{toCoin:fr,fromCoin:dr}=sr;if(at=sr.tx,ir.isMintZeroCoin?ur.push({coinType:jt,coin:fr}):ir.originalSplitedCoin!==void 0?at.mergeCoins(ir.originalSplitedCoin,[fr]):at.mergeCoins(ir.targetCoin,[fr]),tr){const hr=Ut==null?void 0:Ut.originalSplitedCoin;at.mergeCoins(hr,[dr])}else ur.push({coinType:Ft,coin:dr});for(let hr=0;hr<ur.length;hr++)this.buildTransferCoin(a,at,ur[hr].coin,ur[hr].coinType,mt);return at}static async buildRouterBasePathReturnCoins(a,s,et,nt,at,mt){const{clmm_pool:wt,integrate:$t}=a.sdkOptions,Ct=getPackagerConfigs(wt).global_config_id,Dt=s.paths.filter(hr=>hr&&hr.poolAddress),Ft=Number(Dt.reduce((hr,vr)=>hr.add(vr.amountIn),ZERO$1).toString()),jt=Number(Dt.reduce((hr,vr)=>hr.add(vr.amountOut),ZERO$1).toString()),Ut=Math.round(et?Number(jt.toString())*(1-s.priceSlippagePoint):Number(Ft.toString())*(1+s.priceSlippagePoint)),tr=s.paths[0].coinType[0],ir=s.paths[0].coinType[s.paths[0].coinType.length-1];let sr=nt.targetCoin,ur;at.isMintZeroCoin||at.originalSplitedCoin!==void 0?ur=at.targetCoin:ur=_TransactionUtil.callMintZeroValueCoin(mt,ir);const fr=s.partner==="",dr=fr?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule;for(const hr of Dt)if(hr.poolAddress.length===1){const vr=hr.a2b[0],yr={amount:Number(hr.amountIn.toString()),poolCoinA:hr.a2b[0]?tr:ir,poolCoinB:hr.a2b[0]?ir:tr},xr=fr?"swap":"swap_with_partner",br=vr?sr:ur,wr=vr?ur:sr,Sr=et?hr.amountIn.toString():hr.amountOut.toString(),Cr=SwapUtils.getDefaultSqrtPriceLimit(vr).toString(),cr=fr?[mt.object(Ct),mt.object(hr.poolAddress[0]),br,wr,mt.pure.bool(vr),mt.pure.bool(et),mt.pure.u64(Sr),mt.pure.u128(Cr),mt.pure.bool(!1),mt.object(CLOCK_ADDRESS$1)]:[mt.object(Ct),mt.object(hr.poolAddress[0]),mt.object(s.partner),br,wr,mt.pure.bool(vr),mt.pure.bool(et),mt.pure.u64(Sr),mt.pure.u128(Cr),mt.pure.bool(!1),mt.object(CLOCK_ADDRESS$1)],Nt=[yr.poolCoinA,yr.poolCoinB],Vt=mt.moveCall({target:`${a.sdkOptions.integrate.published_at}::${dr}::${xr}`,typeArguments:Nt,arguments:cr});sr=vr?Vt[0]:Vt[1],ur=vr?Vt[1]:Vt[0]}else{const vr=et?hr.amountIn:hr.rawAmountLimit[0],yr=et?0:hr.amountOut;let xr="";hr.a2b[0]?hr.a2b[1]?xr="swap_ab_bc":xr="swap_ab_cb":hr.a2b[1]?xr="swap_ba_bc":xr="swap_ba_cb",fr||(xr=`${xr}_with_partner`);const br=SwapUtils.getDefaultSqrtPriceLimit(hr.a2b[0]),wr=SwapUtils.getDefaultSqrtPriceLimit(hr.a2b[1]),Sr=fr?[mt.object(Ct),mt.object(hr.poolAddress[0]),mt.object(hr.poolAddress[1]),sr,ur,mt.pure.bool(et),mt.pure.u64(vr.toString()),mt.pure.u64(yr.toString()),mt.pure.u128(br.toString()),mt.pure.u128(wr.toString()),mt.object(CLOCK_ADDRESS$1)]:[mt.object(Ct),mt.object(hr.poolAddress[0]),mt.object(hr.poolAddress[1]),mt.object(s.partner),sr,ur,mt.pure.bool(et),mt.pure.u64(vr.toString()),mt.pure.u64(yr.toString()),mt.pure.u128(br.toString()),mt.pure.u128(wr.toString()),mt.object(CLOCK_ADDRESS$1)],Cr=[hr.coinType[0],hr.coinType[1],hr.coinType[2]],cr=mt.moveCall({target:`${$t.published_at}::${dr}::${xr}`,typeArguments:Cr,arguments:Sr});sr=cr[0],ur=cr[1]}return this.checkCoinThreshold(a,et,mt,ur,Ut,ir),{fromCoin:sr,toCoin:ur,tx:mt}}static async buildAggregatorSwapReturnCoins(a,s,et,nt,at,mt,wt,$t){if($t==null){if(a.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");$t=a.senderAddress}s.splitPaths.length>1&&(at="");let Ct,Dt;const Ft=s.splitPaths.some(jt=>jt.basePaths.some(Ut=>Ut.label==="Deepbook"));if((!s.byAmountIn||s.splitPaths.length===1)&&!Ft){const jt=[];for(const ir of s.splitPaths){const sr=[],ur=[],fr=[],dr=[];for(let vr=0;vr<ir.basePaths.length;vr+=1){const yr=ir.basePaths[vr];sr.push(yr.direction),ur.push(yr.poolAddress),fr.push(new BN(yr.inputAmount.toString())),vr===0?dr.push(yr.fromCoin,yr.toCoin):dr.push(yr.toCoin)}const hr={amountIn:new BN(ir.inputAmount.toString()),amountOut:new BN(ir.outputAmount.toString()),poolAddress:ur,a2b:sr,rawAmountLimit:fr,isExceed:!1,coinType:dr};jt.push(hr)}const Ut={paths:jt,partner:at,priceSlippagePoint:mt},tr=await this.buildRouterBasePathReturnCoins(a,Ut,s.byAmountIn,et,nt,wt);Ct=tr.fromCoin,Dt=tr.toCoin,wt=tr.tx}else{const jt=Math.round(s.outputAmount*(1-mt));Ct=et.targetCoin,nt.isMintZeroCoin||nt.originalSplitedCoin!==void 0?Dt=nt.targetCoin:Dt=_TransactionUtil.callMintZeroValueCoin(wt,s.toCoin);let Ut=!1,tr;if(Ft){const[ir,sr]=DeepbookUtils.createAccountCap($t,a.sdkOptions,wt);wt=sr,tr=ir,Ut=!0}for(let ir=0;ir<s.splitPaths.length;ir+=1){const sr=s.splitPaths[ir];let ur;for(let fr=0;fr<sr.basePaths.length;fr+=1){const dr=sr.basePaths[fr];if(dr.label==="Deepbook")if(fr===0)if(sr.basePaths.length===1){const hr=this.buildDeepbookBasePathTx(a,dr,wt,tr,Ct,Dt,!1);Ct=hr.from,Dt=hr.to}else{ur=_TransactionUtil.callMintZeroValueCoin(wt,dr.toCoin);const hr=this.buildDeepbookBasePathTx(a,dr,wt,tr,Ct,ur,!1);Ct=hr.from,ur=hr.to}else{const hr=this.buildDeepbookBasePathTx(a,dr,wt,tr,ur,Dt,!0);ur=hr.from,Dt=hr.to}if(dr.label==="Cetus")if(fr===0)if(sr.basePaths.length===1){const hr=this.buildClmmBasePathTx(a,dr,wt,s.byAmountIn,Ct,Dt,!1,at);Ct=hr.from,Dt=hr.to}else{ur=_TransactionUtil.callMintZeroValueCoin(wt,dr.toCoin);const hr=this.buildClmmBasePathTx(a,dr,wt,s.byAmountIn,Ct,ur,!1,at);Ct=hr.from,ur=hr.to}else{const hr=this.buildClmmBasePathTx(a,dr,wt,s.byAmountIn,ur,Dt,!0,at);ur=hr.from,Dt=hr.to,wt.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::send_coin`,typeArguments:[dr.fromCoin],arguments:[ur,wt.pure.address($t)]})}}}this.checkCoinThreshold(a,s.byAmountIn,wt,Dt,jt,s.toCoin),Ut&&(wt=DeepbookUtils.deleteAccountCapByObject(tr,a.sdkOptions,wt))}return{fromCoin:Ct,toCoin:Dt,tx:wt}}static async buildAggregatorSwapTransaction(a,s,et,nt,at,mt){let wt=new Transaction;const $t=s.byAmountIn?Math.round(s.outputAmount*(1-at)):Math.round(s.inputAmount*(1+at)),Ct=_TransactionUtil.buildCoinForAmount(wt,et,s.byAmountIn?BigInt(s.inputAmount):BigInt($t),s.fromCoin,!1,!0),Dt=Ct.originalSplitedCoin!=null,Ft=_TransactionUtil.buildCoinForAmount(wt,et,0n,s.toCoin,!1),jt=await this.buildAggregatorSwapReturnCoins(a,s,Ct,Ft,nt,at,wt,mt),{fromCoin:Ut,toCoin:tr}=jt;wt=jt.tx;const ir=[];if(Ft.isMintZeroCoin?ir.push({coinType:s.toCoin,coin:tr}):Ft.originalSplitedCoin!=null?wt.mergeCoins(Ft.originalSplitedCoin,[tr]):wt.mergeCoins(Ft.targetCoin,[tr]),Dt){const sr=Ct.originalSplitedCoin;wt.mergeCoins(sr,[Ut])}else ir.push({coinType:s.fromCoin,coin:Ut});for(let sr=0;sr<ir.length;sr++)this.buildTransferCoin(a,wt,ir[sr].coin,ir[sr].coinType,mt);return wt}static checkCoinThreshold(a,s,et,nt,at,mt){s&&et.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ClmmIntegrateRouterModule}::check_coin_threshold`,typeArguments:[mt],arguments:[nt,et.pure.u64(at)]})}static buildDeepbookBasePathTx(a,s,et,nt,at,mt,wt){const $t=s.direction?at:mt,Ct=s.direction?mt:at,Dt=[et.object(s.poolAddress),nt,et.pure.u64(s.inputAmount),et.pure.u64(0),et.pure.bool(s.direction),$t,Ct,et.pure.bool(wt),et.object(CLOCK_ADDRESS$1)],Ft=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],jt=et.moveCall({target:`${a.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Ft,arguments:Dt});return at=s.direction?jt[0]:jt[1],mt=s.direction?jt[1]:jt[0],{from:at,to:mt,tx:et}}static buildClmmBasePathTx(a,s,et,nt,at,mt,wt,$t){const{clmm_pool:Ct,integrate:Dt}=a.sdkOptions,Ft=getPackagerConfigs(Ct).global_config_id;let jt=s.direction?at:mt,Ut=s.direction?mt:at;const tr=$t==="",ir=tr?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule,sr=tr?"swap":"swap_with_partner",ur=nt?s.inputAmount.toString():s.outputAmount.toString(),fr=SwapUtils.getDefaultSqrtPriceLimit(s.direction),dr=tr?[et.object(Ft),et.object(s.poolAddress),jt,Ut,et.pure.bool(s.direction),et.pure.bool(nt),et.pure.u64(ur),et.pure.u128(fr.toString()),et.pure.bool(wt),et.object(CLOCK_ADDRESS$1)]:[et.object(Ft),et.object(s.poolAddress),et.object($t),jt,Ut,et.pure.bool(s.direction),et.pure.bool(nt),et.pure.u64(ur),et.pure.u128(fr.toString()),et.pure.bool(wt),et.object(CLOCK_ADDRESS$1)],hr=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],vr=et.moveCall({target:`${Dt.published_at}::${ir}::${sr}`,typeArguments:hr,arguments:dr});return jt=vr[0],Ut=vr[1],at=s.direction?jt:Ut,mt=s.direction?Ut:jt,{from:at,to:mt,tx:et}}static buildCoinTypePair(a,s){const et=[];if(a.length===2){const nt=[];nt.push(a[0],a[1]),et.push(nt)}else{const nt=[];nt.push(a[0],a[a.length-1]),et.push(nt);for(let at=1;at<a.length-1;at+=1){if(s[at-1]===0)continue;const mt=[];mt.push(a[0],a[at],a[a.length-1]),et.push(mt)}}return et}static buildTransferCoinToSender(a,s,et,nt){s.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::transfer_coin_to_sender`,typeArguments:[nt],arguments:[et]})}static buildTransferCoin(a,s,et,nt,at){at!=null?s.transferObjects([et],s.pure.address(at)):_TransactionUtil.buildTransferCoinToSender(a,s,et,nt)}},TransactionUtil=_TransactionUtil;__publicField$1(TransactionUtil,"callMintZeroValueCoin",(a,s)=>a.moveCall({target:"0x2::coin::zero",typeArguments:[s]}));function checkInvalidSuiAddress$1(a){return!(!a.startsWith("0x")||a.length!==66)}var FLOAT_SCALING=new BN(1e9),DeepbookUtils=class{static createAccountCap(a,s,et,nt=!1){if(a.length===0)throw Error("this config sdk senderAddress is empty");const{deepbook:at}=s,[mt]=et.moveCall({target:`${at.published_at}::${DeepbookClobV2Moudle}::create_account`,typeArguments:[],arguments:[]});return nt&&et.transferObjects([mt],et.pure.address(a)),[mt,et]}static deleteAccountCap(a,s,et){const{deepbook:nt}=s,at=[et.object(a)];return et.moveCall({target:`${nt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:at}),et}static deleteAccountCapByObject(a,s,et){const{deepbook:nt}=s,at=[a];return et.moveCall({target:`${nt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:at}),et}static async getAccountCap(a,s=!0){const et=await a.fullClient.getOwnedObjectsByPage(a.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:s,showOwner:!0},filter:{MoveModule:{package:a.sdkOptions.deepbook.package_id,module:DeepbookCustodianV2Moudle}}});return et.data.length===0?"":et.data[0].data.objectId}static async getPools(a){const s=a.sdkOptions.deepbook.package_id,et=[];try{(await a.fullClient.queryEventsByPage({MoveEventType:`${s}::clob_v2::PoolCreated`})).data.forEach(at=>{const mt=at.parsedJson;mt&&et.push({poolID:mt.pool_id,tickSize:Number(mt.tick_size),lotSize:Number(mt.lot_size),takerFeeRate:Number(mt.taker_fee_rate),makerRebateRate:Number(mt.maker_rebate_rate),baseAsset:mt.base_asset.name,quoteAsset:mt.quote_asset.name})})}catch(nt){console.log("getPoolImmutables",nt)}return et}static async getPoolAsks(a,s,et,nt){var Ut;const{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:mt}=a.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(s),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(CLOCK_ADDRESS$1)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:Dt,typeArguments:Ct});const jt=(Ut=(await a.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:Ut.filter(tr=>extractStructTagFromType$1(tr.type).name==="BookStatus");if(jt.length===0)return $t;for(let tr=0;tr<jt[0].parsedJson.depths.length;tr++){const ir=jt[0].parsedJson.price[tr],sr=jt[0].parsedJson.depths[tr],ur={price:parseInt(ir,10),quantity:parseInt(sr,10)};$t.push(ur)}return $t}static async getPoolBids(a,s,et,nt){var Ut;const{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:mt}=a.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(s),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(CLOCK_ADDRESS$1)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:Dt,typeArguments:Ct});const jt=(Ut=(await a.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:Ut.filter(tr=>extractStructTagFromType$1(tr.type).name==="BookStatus");if(jt.length===0)return $t;for(let tr=0;tr<jt[0].parsedJson.depths.length;tr++){const ir=jt[0].parsedJson.price[tr],sr=jt[0].parsedJson.depths[tr],ur={price:parseInt(ir,10),quantity:parseInt(sr,10)};$t.push(ur)}return $t}static async preSwap(a,s,et,nt){let at=!1,mt=ZERO$1,wt=new BN(nt),$t=ZERO$1;const Ct=new BN(nt);if(et){let Dt=await this.getPoolBids(a,s.poolID,s.baseAsset,s.quoteAsset);Dt===null&&(at=!0),Dt=Dt.sort((Ft,jt)=>jt.price-Ft.price);for(let Ft=0;Ft<Dt.length;Ft+=1){const jt=new BN(Dt[Ft].quantity),Ut=new BN(Dt[Ft].price),tr=jt.mul(new BN(Ut)).mul(new BN(s.takerFeeRate)).div(FLOAT_SCALING).div(FLOAT_SCALING);if(wt.gt(jt))wt=wt.sub(jt),mt=mt.add(jt.mul(Ut).div(FLOAT_SCALING).sub(tr)),$t=$t.add(tr);else{const ir=wt.mul(new BN(Dt[Ft].price)).div(FLOAT_SCALING),sr=ir.mul(new BN(s.takerFeeRate)).div(FLOAT_SCALING);mt=mt.add(ir.sub(sr)),wt=wt.sub(wt),$t=$t.add(sr)}if(wt.eq(ZERO$1))break}}else{const Dt=await this.getPoolAsks(a,s.poolID,s.baseAsset,s.quoteAsset);Dt===null&&(at=!0);for(let Ft=0;Ft<Dt.length;Ft+=1){const jt=new BN(Dt[Ft].price).mul(new BN(Dt[Ft].quantity)).div(new BN(1e9)),Ut=jt.mul(new BN(s.takerFeeRate)).div(FLOAT_SCALING),tr=jt.add(Ut);if(wt.gt(jt))mt=mt.add(new BN(Dt[Ft].quantity)),wt=wt.sub(tr),$t=$t.add(Ut);else{const ir=new BN(Dt[Ft].quantity).div(new BN(s.lotSize)),sr=tr.div(ir),ur=wt.div(sr);mt=mt.add(ur.muln(s.lotSize)),wt=wt.sub(ur.mul(sr)),$t=$t.add(ur.div(ir).mul(Ut))}if(wt.eq(ZERO$1))break}}return{poolAddress:s.poolID,estimatedAmountIn:Ct.sub(wt).toNumber(),estimatedAmountOut:mt.toNumber(),estimatedFeeAmount:$t,isExceed:at,amount:Number(nt),aToB:et,byAmountIn:!0}}static async simulateSwap(a,s,et,nt,at,mt){var yr;const{deepbook_endpoint_v2:wt}=a.sdkOptions;let $t=new Transaction;const Ct=await this.getAccountCap(a);let Dt;if(Ct===""){const xr=this.createAccountCap(a.senderAddress,a.sdkOptions,$t),br=xr[0];$t=xr[1],Dt=br}else Dt=$t.object(Ct);const Ft=await a.getOwnerCoinAssets(a.senderAddress),jt=TransactionUtil.buildCoinForAmount($t,Ft,BigInt(mt),et,!1),Ut=jt==null?void 0:jt.targetCoin,tr=TransactionUtil.buildCoinForAmount($t,Ft,BigInt(mt),nt,!1),ir=tr==null?void 0:tr.targetCoin,sr=[et,nt],ur=[$t.object(s),Dt,$t.pure.u64(mt),$t.pure.u64(0),$t.pure.bool(at),Ut,ir,$t.object(CLOCK_ADDRESS$1)];$t.moveCall({target:`${wt.published_at}::${DeepbookEndpointsV2Moudle}::swap`,arguments:ur,typeArguments:sr});const{simulationAccount:fr}=a.sdkOptions,hr=(yr=(await a.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:fr.address})).events)==null?void 0:yr.filter(xr=>extractStructTagFromType$1(xr.type).name==="DeepbookSwapEvent");if(hr.length===0)return null;const vr=hr[0].parsedJson;return{poolAddress:vr.pool,estimatedAmountIn:vr.amount_in,estimatedAmountOut:vr.amount_out,aToB:vr.atob}}},RpcModule=class extends SuiClient{async queryEventsByPage(a,s="all"){let et=[],nt=!0;const at=s==="all";let mt=at?null:s.cursor;do{const wt=await this.queryEvents({query:a,cursor:mt,limit:at?null:s.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async queryTransactionBlocksByPage(a,s="all",et="ascending"){let nt=[],at=!0;const mt=s==="all";let wt=mt?null:s.cursor;do{const $t=await this.queryTransactionBlocks({filter:a,cursor:wt,order:et,limit:mt?null:s.limit,options:{showEvents:!0}});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getOwnedObjectsByPage(a,s,et="all"){let nt=[],at=!0;const mt=et==="all";let wt=mt?null:et.cursor;do{const $t=await this.getOwnedObjects({owner:a,...s,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getDynamicFieldsByPage(a,s="all"){let et=[],nt=!0;const at=s==="all";let mt=at?null:s.cursor;do{const wt=await this.getDynamicFields({parentId:a,cursor:mt,limit:at?null:s.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async batchGetObjects(a,s,et=50){let nt=[];try{for(let at=0;at<Math.ceil(a.length/et);at++){const mt=await this.multiGetObjects({ids:a.slice(at*et,et*(at+1)),options:s});nt=[...nt,...mt]}}catch(at){console.log(at)}return nt}async calculationTxGas(a){const{sender:s}=a.blockData;if(s===void 0)throw Error("sdk sender is empty");const et=await this.devInspectTransactionBlock({transactionBlock:a,sender:s}),{gasUsed:nt}=et.effects;return Number(nt.computationCost)+Number(nt.storageCost)-Number(nt.storageRebate)}async sendTransaction(a,s){try{return await this.signAndExecuteTransaction({transaction:s,signer:a,options:{showEffects:!0,showEvents:!0}})}catch(et){console.log("error: ",et)}}async sendSimulationTransaction(a,s,et=!0){try{if(et)return await this.devInspectTransactionBlock({transactionBlock:a,sender:s})}catch(nt){console.log("devInspectTransactionBlock error",nt)}}},PoolModule=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPositionList(a,s="all"){const et={data:[],hasNextPage:!0},nt=await this._sdk.fullClient.getDynamicFieldsByPage(a,s);et.hasNextPage=nt.hasNextPage,et.nextCursor=nt.nextCursor;const at=nt.data.map(wt=>{if(wt.error!=null)throw new ClmmpoolsError(`when getPositionList get position objects error: ${wt.error}, please check the rpc, contracts address config and position id.`,"InvalidConfig");return wt.name.value}),mt=await this._sdk.Position.getSipmlePositionList(at);return et.data=mt,et}async getPoolImmutables(a=[],s=0,et=100,nt=!1){const{package_id:at}=this._sdk.sdkOptions.clmm_pool,mt=`${at}_getInitPoolEvent`,wt=this.getCache(mt,nt),$t=[],Ct=[];if(wt!==void 0&&$t.push(...wt),$t.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${at}::factory::CreatePoolEvent`})).data.forEach(jt=>{const Ut=jt.parsedJson;Ut&&$t.push({poolAddress:Ut.pool_id,tickSpacing:Ut.tick_spacing,coinTypeA:extractStructTagFromType$1(Ut.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(Ut.coin_type_b).full_address})}),this.updateCache(mt,$t,cacheTime24h)}catch(Ft){console.log("getPoolImmutables",Ft)}const Dt=a.length>0;for(let Ft=0;Ft<$t.length;Ft+=1){const jt=$t[Ft];Dt&&!a.includes(jt.poolAddress)||!Dt&&(Ft<s||Ft>=s+et)||Ct.push(jt)}return Ct}async getPools(a=[],s=0,et=100){var wt,$t,Ct;const nt=[];let at=[];a.length>0?at=[...a]:(await this.getPoolImmutables([],s,et,!1)).forEach(Ft=>at.push(Ft.poolAddress));const mt=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(const Dt of mt){if(Dt.error!=null||(($t=(wt=Dt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`getPools error code: ${((Ct=Dt.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Ft=buildPool(Dt);nt.push(Ft);const jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,cacheTime24h)}return nt}async getPoolImmutablesWithPage(a="all",s=!1){const{package_id:et}=this._sdk.sdkOptions.clmm_pool,nt=[],at={data:[],hasNextPage:!1},mt=a==="all",wt=`${et}_getPoolImmutables`;if(mt){const $t=this.getCache(wt,s);$t&&nt.push(...$t)}if(nt.length===0)try{const $t=`${et}::factory::CreatePoolEvent`,Ct=await this._sdk.fullClient.queryEventsByPage({MoveEventType:$t},a);at.hasNextPage=Ct.hasNextPage,at.nextCursor=Ct.nextCursor,Ct.data.forEach(Dt=>{const Ft=Dt.parsedJson;if(Ft){const jt={poolAddress:Ft.pool_id,tickSpacing:Ft.tick_spacing,coinTypeA:extractStructTagFromType$1(Ft.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(Ft.coin_type_b).full_address};nt.push(jt)}})}catch($t){console.log("getPoolImmutables",$t)}return at.data=nt,mt&&this.updateCache(`${et}_getPoolImmutables`,nt,cacheTime24h),at}async getPoolsWithPage(a=[],s="all",et=!1){var wt,$t,Ct;const nt=[];let at=[];a.length>0?at=[...a]:(await this.getPoolImmutablesWithPage(s,et)).data.forEach(Ft=>at.push(Ft.poolAddress));const mt=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(const Dt of mt){if(Dt.error!=null||(($t=(wt=Dt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`getPoolWithPages error code: ${((Ct=Dt.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Ft=buildPool(Dt);nt.push(Ft);const jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,cacheTime24h)}return nt}async getPool(a,s=!0){var wt,$t,Ct;const et=`${a}_getPoolObject`,nt=this.getCache(et,s);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if(at.error!=null||(($t=(wt=at.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`getPool error code: ${((Ct=at.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");const mt=buildPool(at);return this.updateCache(et,mt),mt}async getPoolByCoins(a,s){if(a.length===0)return[];for(let $t=0;$t<a.length;$t++)a[$t]==="0x2::sui::SUI"&&(a[$t]="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI");let et=this._sdk.sdkOptions.statsPoolsUrl;if(!et)throw new ClmmpoolsError("statsPoolsUrl is not set in the sdk options.","StatsPoolsUrlNotSet");et+=`?order_by=-fees&limit=100&has_mining=true&has_farming=true&no_incentives=true&display_all_pools=true&coin_type=${a.join(",")}`;const nt=await fetch(et);let at;try{at=await nt.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${et}].`,"InvalidSwapCountUrl")}const mt=at.data.lp_list;if(!mt||mt.length===0)throw new ClmmpoolsError(`Failed tp [arse response from ${et}].`,"PoolsNotFound");const wt=[];for(const $t of mt)a.includes($t.coin_a_address)&&a.includes($t.coin_b_address)&&(s!=null?$t.fee===s.toString()&&wt.push($t.address):wt.push($t.address));return wt.length>0?await this.getPools(wt):[]}async creatPoolsTransactionPayload(a){for(const et of a)if(isSortedSymbols(normalizeSuiAddress(et.coinTypeA),normalizeSuiAddress(et.coinTypeB))){const nt=et.coinTypeB;et.coinTypeB=et.coinTypeA,et.coinTypeA=nt}return await this.creatPool(a)}async creatPoolTransactionPayload(a){if(isSortedSymbols(normalizeSuiAddress(a.coinTypeA),normalizeSuiAddress(a.coinTypeB))){const s=a.coinTypeB;a.coinTypeB=a.coinTypeA,a.coinTypeA=s;const et=a.metadata_b;a.metadata_b=a.metadata_a,a.metadata_a=et}return await this.createPoolAndAddLiquidity(a)}async createPoolTransactionPayload(a){if(isSortedSymbols(normalizeSuiAddress(a.coinTypeA),normalizeSuiAddress(a.coinTypeB))){const s=a.coinTypeB;a.coinTypeB=a.coinTypeA,a.coinTypeA=s;const et=a.metadata_b;a.metadata_b=a.metadata_a,a.metadata_a=et}return await this.createPoolAndAddLiquidity(a)}async createPoolTransactionRowPayload(a){if(isSortedSymbols(normalizeSuiAddress(a.coinTypeA),normalizeSuiAddress(a.coinTypeB))){const s=a.coinTypeB;a.coinTypeB=a.coinTypeA,a.coinTypeA=s;const et=a.metadata_b;a.metadata_b=a.metadata_a,a.metadata_a=et}return await this.createPoolAndAddLiquidityRow(a)}async getClmmConfigs(a=!1){const{package_id:s}=this._sdk.sdkOptions.clmm_pool,et=`${s}_getInitEvent`,nt=this.getCache(et,a);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:s,options:{showPreviousTransaction:!0}}),mt=getObjectPreviousTransactionDigest(at),wt=(await this._sdk.fullClient.queryEventsByPage({Transaction:mt})).data,$t={pools_id:"",global_config_id:"",global_vault_id:"",admin_cap_id:""};return wt.length>0&&(wt.forEach(Ct=>{const Dt=Ct.parsedJson;if(Ct.type)switch(extractStructTagFromType$1(Ct.type).full_address){case`${s}::config::InitConfigEvent`:$t.global_config_id=Dt.global_config_id,$t.admin_cap_id=Dt.admin_cap_id;break;case`${s}::factory::InitFactoryEvent`:$t.pools_id=Dt.pools_id;break;case`${s}::rewarder::RewarderInitEvent`:$t.global_vault_id=Dt.global_vault_id;break;case`${s}::partner::InitPartnerEvent`:$t.partners_id=Dt.partners_id;break}}),this.updateCache(et,$t,cacheTime24h)),$t}async getSuiTransactionResponse(a,s=!1){const et=`${a}_getSuiTransactionResponse`,nt=this.getCache(et,s);if(nt!==void 0)return nt;let at;try{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(et,at,cacheTime24h),at}async getPoolTransactionList({poolId:a,paginationArgs:s,order:et="descending",fullRpcUrl:nt}){const{fullClient:at,sdkOptions:mt}=this._sdk;let wt;nt?wt=new RpcModule({url:nt}):wt=at;const $t={data:[],hasNextPage:!1},Ct=s,Dt=s.limit||10;do{const Ft=await wt.queryTransactionBlocksByPage({ChangedObject:a},{...Ct,limit:50},et);Ft.data.forEach((jt,Ut)=>{$t.nextCursor=Ft.nextCursor;const tr=buildPoolTransactionInfo(jt,Ut,mt.clmm_pool.package_id,a);$t.data=[...$t.data,...tr]}),$t.hasNextPage=Ft.hasNextPage,$t.nextCursor=Ft.nextCursor,Ct.cursor=Ft.nextCursor}while($t.data.length<Dt&&$t.hasNextPage);return $t.data.length>Dt&&($t.data=$t.data.slice(0,Dt),$t.nextCursor=$t.data[$t.data.length-1].tx),$t}async creatPool(a){const s=new Transaction,{integrate:et,clmm_pool:nt}=this.sdk.sdkOptions,at=getPackagerConfigs(nt),mt=at.global_config_id,wt=at.pools_id;return a.forEach($t=>{const Ct=[s.object(mt),s.object(wt),s.pure.u32($t.tick_spacing),s.pure.u128($t.initialize_sqrt_price),s.pure.string($t.uri),s.object(CLOCK_ADDRESS$1)];s.moveCall({target:`${et.published_at}::${ClmmIntegratePoolModule}::create_pool`,typeArguments:[$t.coinTypeA,$t.coinTypeB],arguments:Ct})}),s}async createPoolAndAddLiquidity(a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const s=new Transaction;s.setSender(this.sdk.senderAddress);const{integrate:et,clmm_pool:nt}=this.sdk.sdkOptions,at=getPackagerConfigs(nt),mt=at.global_config_id,wt=at.pools_id,$t=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),Ct=TransactionUtil.buildCoinForAmount(s,$t,BigInt(a.amount_a),a.coinTypeA,!1,!0),Dt=TransactionUtil.buildCoinForAmount(s,$t,BigInt(a.amount_b),a.coinTypeB,!1,!0),Ft=[s.object(mt),s.object(wt),s.pure.u32(a.tick_spacing),s.pure.u128(a.initialize_sqrt_price),s.pure.string(a.uri),s.pure.u32(Number(asUintN(BigInt(a.tick_lower)).toString())),s.pure.u32(Number(asUintN(BigInt(a.tick_upper)).toString())),Ct.targetCoin,Dt.targetCoin,s.object(a.metadata_a),s.object(a.metadata_b),s.pure.bool(a.fix_amount_a),s.object(CLOCK_ADDRESS$1)];return s.moveCall({target:`${et.published_at}::pool_creator_v2::create_pool_v2`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:Ft}),TransactionUtil.buildTransferCoinToSender(this._sdk,s,Ct.targetCoin,a.coinTypeA),TransactionUtil.buildTransferCoinToSender(this._sdk,s,Dt.targetCoin,a.coinTypeB),s}async createPoolAndAddLiquidityRow(a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const s=new Transaction,{clmm_pool:et}=this.sdk.sdkOptions,nt=getPackagerConfigs(et),at=nt.global_config_id,mt=nt.pools_id,wt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),$t=TransactionUtil.buildCoinForAmount(s,wt,BigInt(a.amount_a),a.coinTypeA,!1,!0),Ct=TransactionUtil.buildCoinForAmount(s,wt,BigInt(a.amount_b),a.coinTypeB,!1,!0),Dt=[s.object(at),s.object(mt),s.pure.u32(a.tick_spacing),s.pure.u128(a.initialize_sqrt_price),s.pure.string(a.uri),s.pure.u32(Number(asUintN(BigInt(a.tick_lower)).toString())),s.pure.u32(Number(asUintN(BigInt(a.tick_upper)).toString())),$t.targetCoin,Ct.targetCoin,s.object(a.metadata_a),s.object(a.metadata_b),s.pure.bool(a.fix_amount_a),s.object(CLOCK_ADDRESS$1)],Ft=s.moveCall({target:`${et.published_at}::pool_creator::create_pool_v2`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:Dt});return{transaction:s,position:Ft[0],coinAObject:Ft[1],coinBObject:Ft[2],coinAType:a.coinTypeA,coinBType:a.coinTypeB}}async fetchTicks(a){let s=[],et=[];for(;;){const at=await this.getTicks({pool_id:a.pool_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,start:et,limit:512});if(s=[...s,...at],at.length<512)break;et=[Number(asUintN(BigInt(at[at.length-1].index)))]}return s}async getTicks(a){var Dt;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,nt=[],at=[a.coinTypeA,a.coinTypeB],mt=new Transaction,wt=mt.makeMoveVec({elements:a.start.map(Ft=>mt.pure.u32(Ft)),type:"u32"}),$t=[mt.object(a.pool_id),wt,mt.pure.u64(a.limit.toString())];if(mt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::fetch_ticks`,arguments:$t,typeArguments:at}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("Invalid simulation account: Configuration requires a valid Sui address. Please check your SDK configuration.","InvalidSimulateAccount");const Ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:et.address});if(Ct.error!=null)throw new ClmmpoolsError(`getTicks error code: ${Ct.error??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return(Dt=Ct.events)==null||Dt.forEach(Ft=>{extractStructTagFromType$1(Ft.type).name==="FetchTicksResultEvent"&&Ft.parsedJson.ticks.forEach(jt=>{nt.push(buildTickDataByEvent(jt))})}),nt}async fetchPositionRewardList(a){var wt;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,nt=[];let at=[];const mt=512;for(;;){const $t=[a.coinTypeA,a.coinTypeB],Ct=new Transaction,Dt=Ct.makeMoveVec({elements:at.map(tr=>Ct.pure.address(tr)),type:void 0}),Ft=[Ct.object(a.pool_id),Dt,Ct.pure.u64(mt)];if(Ct.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::fetch_positions`,arguments:Ft,typeArguments:$t}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const jt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:et.address});if(jt.error!=null)throw new ClmmpoolsError(`fetch position reward error code: ${jt.error??"unknown error"}, please check config and tick object ids`,"InvalidPositionRewardObject");const Ut=[];if((wt=jt==null?void 0:jt.events)==null||wt.forEach(tr=>{extractStructTagFromType$1(tr.type).name==="FetchPositionsEvent"&&tr.parsedJson.positions.forEach(ir=>{const sr=buildPositionReward(ir);Ut.push(sr)})}),nt.push(...Ut),Ut.length<mt)break;at=[Ut[Ut.length-1].pos_object_id]}return nt}async fetchTicksByRpc(a){let s=[],et=null;const nt=50;for(;;){const at=[],mt=await this.sdk.fullClient.getDynamicFields({parentId:a,cursor:et,limit:nt});if(et=mt.nextCursor,mt.data.forEach(wt=>{extractStructTagFromType$1(wt.objectType).module==="skip_list"&&at.push(wt.objectId)}),s=[...s,...await this.getTicksByRpc(at)],!mt.hasNextPage)break}return s}async getTicksByRpc(a){var nt,at,mt;const s=[],et=await this.sdk.fullClient.batchGetObjects(a,{showContent:!0,showType:!0});for(const wt of et){if(wt.error!=null||((at=(nt=wt.data)==null?void 0:nt.content)==null?void 0:at.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${((mt=wt.error)==null?void 0:mt.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");const $t=buildTickData(wt);$t!=null&&s.push($t)}return s}async getTickDataByIndex(a,s){var at,mt;const et={type:"u64",value:asUintN(BigInt(tickScore(s).toString())).toString()},nt=await this.sdk.fullClient.getDynamicFieldObject({parentId:a,name:et});if(nt.error!=null||((mt=(at=nt.data)==null?void 0:at.content)==null?void 0:mt.dataType)!=="moveObject")throw new ClmmpoolsError(`get tick by index: ${s} error: ${nt.error}`,"InvalidTickIndex");return buildTickData(nt)}async getTickDataByObjectId(a){var et,nt,at;const s=await this.sdk.fullClient.getObject({id:a,options:{showContent:!0}});if(s.error!=null||((nt=(et=s.data)==null?void 0:et.content)==null?void 0:nt.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${((at=s.error)==null?void 0:at.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return buildTickData(s)}async getPartnerRefFeeAmount(a,s=!0){var Ct,Dt;const et=await this._sdk.fullClient.batchGetObjects([a],{showOwner:!0,showContent:!0,showDisplay:s,showType:!0});if(((Dt=(Ct=et[0].data)==null?void 0:Ct.content)==null?void 0:Dt.dataType)!=="moveObject")throw new ClmmpoolsError(`get partner by object id: ${a} error: ${et[0].error}`,"NotFoundPartnerObject");const nt=et[0].data.content.fields.balances,at=await this._sdk.fullClient.getDynamicFieldsByPage(nt.fields.id.id),mt=[];at.data.forEach(Ft=>{Ft.objectId!=null&&mt.push(Ft.objectId)});const wt=[];return(await this._sdk.fullClient.batchGetObjects(mt,{showOwner:!0,showContent:!0,showDisplay:s,showType:!0})).forEach(Ft=>{var Ut,tr;if(Ft.error!=null||((tr=(Ut=Ft.data)==null?void 0:Ut.content)==null?void 0:tr.dataType)!=="moveObject")throw new ClmmpoolsError(`get coin by object id: ${Ft.data.objectId} error: ${Ft.error}`,"InvalidParnterRefFeeFields");const jt={coinAddress:Ft.data.content.fields.name,coinObjectId:Ft.data.objectId,balance:BigInt(Ft.data.content.fields.value)};wt.push(jt)}),wt}async claimPartnerRefFeePayload(a,s,et){const nt=new Transaction,{clmm_pool:at}=this.sdk.sdkOptions,{global_config_id:mt}=getPackagerConfigs(at),wt=[et],$t=[nt.object(mt),nt.object(a),nt.object(s)];return nt.moveCall({target:`${at.published_at}::${ClmmPartnerModule}::claim_ref_fee`,arguments:$t,typeArguments:wt}),nt}updateCache(a,s,et=cacheTime5min){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){const et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}},PositionModule=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}buildPositionType(){return`${this._sdk.sdkOptions.clmm_pool.package_id}::position::Position`}async getPositionTransactionList({posId:a,paginationArgs:s="all",order:et="ascending",fullRpcUrl:nt,originPosId:at}){const{fullClient:mt}=this._sdk,wt=[a];at&&wt.push(at);let $t;nt?$t=new RpcModule({url:nt}):$t=mt;const Ct={data:[],hasNextPage:!1};try{const Dt=await $t.queryTransactionBlocksByPage({ChangedObject:a},s,et);return Dt.data.forEach((Ft,jt)=>{const Ut=buildPositionTransactionInfo(Ft,jt,wt);Ct.data=[...Ct.data,...Ut]}),Ct.hasNextPage=Dt.hasNextPage,Ct.nextCursor=Dt.nextCursor,Ct}catch(Dt){console.log("Error in getPositionTransactionList:",Dt)}return Ct}async getPositionList(a,s=[],et=!0){const nt=[],at=await this._sdk.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:et,showOwner:!0},filter:{Package:this._sdk.sdkOptions.clmm_pool.package_id}}),mt=s.length>0;for(const wt of at.data)if(extractStructTagFromType$1(wt.data.type).full_address===this.buildPositionType()){const Ct=buildPosition(wt),Dt=`${Ct.pos_object_id}_getPositionList`;this.updateCache(Dt,Ct,cacheTime24h),mt?s.includes(Ct.pool)&&nt.push(Ct):nt.push(Ct)}return nt}async getPosition(a,s,et=!0,nt=!0){let at=await this.getSimplePosition(s,nt);return et&&(at=await this.updatePositionRewarders(a,at)),at}async getPositionById(a,s=!0,et=!0){const nt=await this.getSimplePosition(a,et);if(s){const at=await this._sdk.Pool.getPool(nt.pool,!1);return await this.updatePositionRewarders(at.position_manager.positions_handle,nt)}return nt}async getSimplePosition(a,s=!0){const et=`${a}_getPositionList`;let nt=this.getSimplePositionByCache(a);if(nt===void 0){const at=await this.sdk.fullClient.getObject({id:a,options:{showContent:!0,showType:!0,showDisplay:s,showOwner:!0}});nt=buildPosition(at),this.updateCache(et,nt,cacheTime24h)}return nt}getSimplePositionByCache(a){const s=`${a}_getPositionList`;return this.getCache(s)}async getSipmlePositionList(a,s=!0){const et=[],nt=[];return a.forEach(at=>{const mt=this.getSimplePositionByCache(at);mt?et.push(mt):nt.push(at)}),nt.length>0&&(await this._sdk.fullClient.batchGetObjects(nt,{showOwner:!0,showContent:!0,showDisplay:s,showType:!0})).forEach(mt=>{if(mt.error==null){const wt=buildPosition(mt);et.push(wt);const $t=`${wt.pos_object_id}_getPositionList`;this.updateCache($t,wt,cacheTime24h)}}),et}async updatePositionRewarders(a,s){const et=await this.getPositionRewarders(a,s.pos_object_id);return{...s,...et}}async getPositionRewarders(a,s){try{const et=await this._sdk.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}}),at=getObjectFields(et.data).value.fields.value;return buildPositionReward(at)}catch(et){console.log(et);return}}async fetchPosFeeAmount(a){var Ct;const{clmm_pool:s,integrate:et,simulationAccount:nt}=this.sdk.sdkOptions,at=new Transaction;for(const Dt of a){const Ft=[Dt.coinTypeA,Dt.coinTypeB],jt=[at.object(getPackagerConfigs(s).global_config_id),at.object(Dt.poolAddress),at.pure.address(Dt.positionId)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft})}if(!checkInvalidSuiAddress$1(nt.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const mt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address});if(mt.error!=null)throw new ClmmpoolsError(`fetch position fee error code: ${mt.error??"unknown error"}, please check config and postion and pool object ids`,"InvalidPoolObject");const wt=(Ct=mt.events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="FetchPositionFeesEvent");if(wt.length===0)return[];const $t=[];for(let Dt=0;Dt<wt.length;Dt+=1){const{parsedJson:Ft}=wt[Dt],jt={feeOwedA:new BN(Ft.fee_owned_a),feeOwedB:new BN(Ft.fee_owned_b),position_id:Ft.position_id};$t.push(jt)}return $t}async batchFetchPositionFees(a){const s=[];for(const nt of a){const at=await this._sdk.Position.getPositionById(nt,!1),mt=await this._sdk.Pool.getPool(at.pool,!1);s.push({poolAddress:mt.poolAddress,positionId:at.pos_object_id,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB})}const et={};if(s.length>0){const nt=await this.fetchPosFeeAmount(s);for(const at of nt)et[at.position_id]=at;return et}return et}async createAddLiquidityFixTokenPayload(a,s,et,nt,at){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const mt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(s){const{isAdjustCoinA:wt,isAdjustCoinB:$t}=findAdjustCoin(a);if(a=a,a.fix_amount_a&&wt||!a.fix_amount_a&&$t)return et=await TransactionUtil.buildAddLiquidityFixTokenForGas(this._sdk,mt,a,s,et,nt,at),et}return TransactionUtil.buildAddLiquidityFixToken(this._sdk,mt,a,et,nt,at)}async createAddLiquidityPayload(a,s,et,nt){const{integrate:at,clmm_pool:mt}=this._sdk.sdkOptions;if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const wt=asUintN(BigInt(a.tick_lower)).toString(),$t=asUintN(BigInt(a.tick_upper)).toString(),Ct=[a.coinTypeA,a.coinTypeB];s=s||new Transaction;const Dt=!isValidSuiObjectId(a.pos_id),Ft=BigInt(a.max_amount_a),jt=BigInt(a.max_amount_b);let Ut,tr;if(et==null||nt==null){const ir=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);Ut=TransactionUtil.buildCoinForAmount(s,ir,Ft,a.coinTypeA,!1,!0),tr=TransactionUtil.buildCoinForAmount(s,ir,jt,a.coinTypeB,!1,!0)}else Ut={targetCoin:et,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},tr={targetCoin:nt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"};if(Dt)s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::open_position_with_liquidity`,typeArguments:Ct,arguments:[s.object(getPackagerConfigs(mt).global_config_id),s.object(a.pool_id),s.pure.u32(Number(wt)),s.pure.u32(Number($t)),Ut.targetCoin,tr.targetCoin,s.pure.u64(a.max_amount_a),s.pure.u64(a.max_amount_b),s.pure.u128(a.delta_liquidity),s.object(CLOCK_ADDRESS$1)]});else{const ir=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);s=TransactionUtil.createCollectRewarderAndFeeParams(this.sdk,s,a,ir,Ut.remainCoins,tr.remainCoins),s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity`,typeArguments:Ct,arguments:[s.object(getPackagerConfigs(mt).global_config_id),s.object(a.pool_id),s.object(a.pos_id),Ut.targetCoin,tr.targetCoin,s.pure.u64(a.max_amount_a),s.pure.u64(a.max_amount_b),s.pure.u128(a.delta_liquidity),s.object(CLOCK_ADDRESS$1)]})}return s}async removeLiquidityTransactionPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:et,integrate:nt}=this.sdk.sdkOptions,at="remove_liquidity";s=s||new Transaction;const mt=[a.coinTypeA,a.coinTypeB],wt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);s=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,s,a,wt);const $t=[s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.pure.u128(a.delta_liquidity),s.pure.u64(a.min_amount_a),s.pure.u64(a.min_amount_b),s.object(CLOCK_ADDRESS$1)];return s.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::${at}`,typeArguments:mt,arguments:$t}),s}async closePositionTransactionPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:et,integrate:nt}=this.sdk.sdkOptions;s=s||new Transaction;const at=[a.coinTypeA,a.coinTypeB],mt=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);return s=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,s,a,mt),s.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::close_position`,typeArguments:at,arguments:[s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.pure.u64(a.min_amount_a),s.pure.u64(a.min_amount_b),s.object(CLOCK_ADDRESS$1)]}),s}openPositionTransactionPayload(a,s){const{clmm_pool:et,integrate:nt}=this.sdk.sdkOptions;s=s||new Transaction;const at=[a.coinTypeA,a.coinTypeB],mt=asUintN(BigInt(a.tick_lower)).toString(),wt=asUintN(BigInt(a.tick_upper)).toString(),$t=[s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_id),s.pure.u32(Number(mt)),s.pure.u32(Number(wt))];return s.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::open_position`,typeArguments:at,arguments:$t}),s}async collectFeeTransactionPayload(a,s,et,nt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");s=s||new Transaction;const at=et||TransactionUtil.buildCoinWithBalance(BigInt(0),a.coinTypeA),mt=nt||TransactionUtil.buildCoinWithBalance(BigInt(0),a.coinTypeB);return this.createCollectFeePaylod(a,s,at,mt),s}createCollectFeePaylod(a,s,et,nt){const{clmm_pool:at,integrate:mt}=this.sdk.sdkOptions,wt=[a.coinTypeA,a.coinTypeB],$t=[s.object(getPackagerConfigs(at).global_config_id),s.object(a.pool_id),s.object(a.pos_id),et,nt];return s.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolV2Module}::collect_fee`,typeArguments:wt,arguments:$t}),s}createCollectFeeNoSendPaylod(a,s,et,nt){const{clmm_pool:at,integrate:mt}=this.sdk.sdkOptions,wt=[a.coinTypeA,a.coinTypeB],$t=[s.object(getPackagerConfigs(at).global_config_id),s.object(a.pool_id),s.object(a.pos_id),et,nt];return s.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolV3Module}::collect_fee`,typeArguments:wt,arguments:$t}),s}async calculateFee(a){const s=await this.collectFeeTransactionPayload(a);if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:s,sender:this.sdk.senderAddress});for(const nt of et.events)if(extractStructTagFromType$1(nt.type).name==="CollectFeeEvent"){const at=nt.parsedJson;return{feeOwedA:at.amount_a,feeOwedB:at.amount_b}}return{feeOwedA:"0",feeOwedB:"0"}}updateCache(a,s,et=cacheTime5min){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){const et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}},RewarderModule=class{constructor(a){Yn(this,"_sdk");Yn(this,"growthGlobal");this._sdk=a,this.growthGlobal=[ZERO$1,ZERO$1,ZERO$1]}get sdk(){return this._sdk}async emissionsEveryDay(a){const et=(await this.sdk.Pool.getPool(a)).rewarder_infos;if(!et)return null;const nt=[];for(const at of et){const mt=MathUtil.fromX64(new BN(at.emissions_per_second));nt.push({emissions:Math.floor(mt.toNumber()*60*60*24),coin_address:at.coinAddress})}return nt}async updatePoolRewarder(a,s){const et=await this.sdk.Pool.getPool(a),nt=et.rewarder_last_updated_time;if(et.rewarder_last_updated_time=s.toString(),Number(et.liquidity)===0||s.eq(new BN(nt)))return et;const at=s.div(new BN(1e3)).sub(new BN(nt)).add(new BN(15)),mt=et.rewarder_infos;for(let wt=0;wt<mt.length;wt+=1){const $t=mt[wt],Ct=MathUtil.checkMulDivFloor(at,new BN($t.emissions_per_second),new BN(et.liquidity),128);this.growthGlobal[wt]=new BN($t.growth_global).add(new BN(Ct))}return et}async posRewardersAmount(a,s,et){const nt=Date.parse(new Date().toString()),at=await this.updatePoolRewarder(a,new BN(nt)),mt=await this.sdk.Position.getPositionRewarders(s,et);if(mt===void 0)return[];const wt=at.ticks_handle,$t=await this.sdk.Pool.getTickDataByIndex(wt,mt.tick_lower_index),Ct=await this.sdk.Pool.getTickDataByIndex(wt,mt.tick_upper_index);return this.posRewardersAmountInternal(at,mt,$t,Ct)}async poolRewardersAmount(a,s){const et=Date.parse(new Date().toString()),nt=await this.updatePoolRewarder(s,new BN(et)),at=await this.sdk.Position.getPositionList(a,[s]),mt=await this.getPoolLowerAndUpperTicks(nt.ticks_handle,at),wt=[ZERO$1,ZERO$1,ZERO$1];for(let $t=0;$t<at.length;$t+=1){const Ct=await this.posRewardersAmountInternal(nt,at[$t],mt[0][$t],mt[1][$t]);for(let Dt=0;Dt<3;Dt+=1)wt[Dt]=wt[Dt].add(Ct[Dt].amount_owed)}return wt}posRewardersAmountInternal(a,s,et,nt){const at=s.tick_lower_index,mt=s.tick_upper_index,wt=getRewardInTickRange(a,et,nt,at,mt,this.growthGlobal),$t=[],Ct=[];if(wt.length>0){let Dt=MathUtil.subUnderflowU128(wt[0],new BN(s.reward_growth_inside_0));Dt.gt(new BN("3402823669209384634633745948738404"))&&(Dt=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(s.liquidity),Dt,64,128);$t.push(wt[0]),Ct.push({amount_owed:new BN(s.reward_amount_owed_0).add(Ft),coin_address:a.rewarder_infos[0].coinAddress})}if(wt.length>1){let Dt=MathUtil.subUnderflowU128(wt[1],new BN(s.reward_growth_inside_1));Dt.gt(new BN("3402823669209384634633745948738404"))&&(Dt=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(s.liquidity),Dt,64,128);$t.push(wt[1]),Ct.push({amount_owed:new BN(s.reward_amount_owed_1).add(Ft),coin_address:a.rewarder_infos[1].coinAddress})}if(wt.length>2){let Dt=MathUtil.subUnderflowU128(wt[2],new BN(s.reward_growth_inside_2));Dt.gt(new BN("3402823669209384634633745948738404"))&&(Dt=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(s.liquidity),Dt,64,128);$t.push(wt[2]),Ct.push({amount_owed:new BN(s.reward_amount_owed_2).add(Ft),coin_address:a.rewarder_infos[2].coinAddress})}return Ct}async batchFetchPositionRewarders(a){const s=[];for(const nt of a){const at=await this._sdk.Position.getPositionById(nt,!1),mt=await this._sdk.Pool.getPool(at.pool,!1);s.push({poolAddress:mt.poolAddress,positionId:at.pos_object_id,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB,rewarderInfo:mt.rewarder_infos})}const et={};if(s.length>0){const nt=await this.fetchPosRewardersAmount(s);for(const at of nt)et[at.positionId]=at.rewarderAmountOwed;return et}return et}async fetchPositionRewarders(a,s){const et={poolAddress:a.poolAddress,positionId:s,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,rewarderInfo:a.rewarder_infos};return(await this.fetchPosRewardersAmount([et]))[0].rewarderAmountOwed}async batchFetchPositionFees(a){const s=[];for(const nt of a){const at=await this._sdk.Position.getPositionById(nt,!1),mt=await this._sdk.Pool.getPool(at.pool,!1);s.push({poolAddress:mt.poolAddress,positionId:at.pos_object_id,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB})}const et={};if(s.length>0){const nt=await this.fetchPosFeeAmount(s);for(const at of nt)et[at.position_id]=at;return et}return et}async fetchPosFeeAmount(a){var Ct;const{clmm_pool:s,integrate:et,simulationAccount:nt}=this.sdk.sdkOptions,at=new Transaction;for(const Dt of a){const Ft=[Dt.coinTypeA,Dt.coinTypeB],jt=[at.object(getPackagerConfigs(s).global_config_id),at.object(Dt.poolAddress),at.pure.address(Dt.positionId)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft})}const wt=(Ct=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address})).events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="FetchPositionFeesEvent");if(wt.length===0)return[];const $t=[];for(let Dt=0;Dt<wt.length;Dt+=1){const{parsedJson:Ft}=wt[Dt],jt={feeOwedA:new BN(Ft.fee_owned_a),feeOwedB:new BN(Ft.fee_owned_b),position_id:Ft.position_id};$t.push(jt)}return $t}async fetchPosRewardersAmount(a){var Ct;const{clmm_pool:s,integrate:et,simulationAccount:nt}=this.sdk.sdkOptions,at=new Transaction;for(const Dt of a){const Ft=[Dt.coinTypeA,Dt.coinTypeB],jt=[at.object(getPackagerConfigs(s).global_config_id),at.object(Dt.poolAddress),at.pure.address(Dt.positionId),at.object(CLOCK_ADDRESS$1)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:jt,typeArguments:Ft})}if(!checkInvalidSuiAddress$1(nt.address))throw new ClmmpoolsError(`this config simulationAccount: ${nt.address} is not set right`,"InvalidSimulateAccount");const mt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address});if(mt.error!=null)throw new ClmmpoolsError(`fetch position rewards error code: ${mt.error??"unknown error"}, please check config and params`,"InvalidConfig");const wt=(Ct=mt.events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="FetchPositionRewardsEvent");if(wt.length===0)return[];if(wt.length!==a.length)throw new ClmmpoolsError("valueData.length !== params.pools.length");const $t=[];for(let Dt=0;Dt<wt.length;Dt+=1){const Ft={poolAddress:a[Dt].poolAddress,positionId:a[Dt].positionId,rewarderAmountOwed:[]};for(let jt=0;jt<a[Dt].rewarderInfo.length;jt+=1)Ft.rewarderAmountOwed.push({amount_owed:new BN(wt[Dt].parsedJson.data[jt]),coin_address:a[Dt].rewarderInfo[jt].coinAddress});$t.push(Ft)}return $t}async fetchPoolRewardersAmount(a,s){const et=await this.sdk.Pool.getPool(s),nt=await this.sdk.Position.getPositionList(a,[s]),at=[];for(const $t of nt)at.push({poolAddress:et.poolAddress,positionId:$t.pos_object_id,rewarderInfo:et.rewarder_infos,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB});const mt=await this.fetchPosRewardersAmount(at),wt=[ZERO$1,ZERO$1,ZERO$1];if(mt!=null)for(const $t of mt)for(let Ct=0;Ct<$t.rewarderAmountOwed.length;Ct+=1)wt[Ct]=wt[Ct].add($t.rewarderAmountOwed[Ct].amount_owed);return wt}async getPoolLowerAndUpperTicks(a,s){const et=[],nt=[];for(const at of s){const mt=await this.sdk.Pool.getTickDataByIndex(a,at.tick_lower_index),wt=await this.sdk.Pool.getTickDataByIndex(a,at.tick_upper_index);et.push(mt),nt.push(wt)}return[et,nt]}async collectRewarderTransactionPayload(a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const s=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);let et=new Transaction;return et=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,et,a,s),et}async batchCollectRewardePayload(a,s,et,nt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const at=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);s=s||new Transaction;const mt={};return a.forEach(wt=>{const $t=normalizeCoinType$1(wt.coinTypeA),Ct=normalizeCoinType$1(wt.coinTypeB);if(wt.collect_fee){let Ft=mt[$t];Ft==null&&(et==null?Ft=TransactionUtil.buildCoinForAmount(s,at,BigInt(0),$t,!1):Ft={targetCoin:et,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},mt[$t]=Ft);let jt=mt[Ct];jt==null&&(nt==null?jt=TransactionUtil.buildCoinForAmount(s,at,BigInt(0),Ct,!1):jt={targetCoin:nt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},mt[Ct]=jt),s=this._sdk.Position.createCollectFeeNoSendPaylod({pool_id:wt.pool_id,pos_id:wt.pos_id,coinTypeA:wt.coinTypeA,coinTypeB:wt.coinTypeB},s,Ft.targetCoin,jt.targetCoin)}const Dt=[];wt.rewarder_coin_types.forEach(Ft=>{const jt=normalizeCoinType$1(Ft);let Ut=mt[Ft];Ut===void 0&&(Ut=TransactionUtil.buildCoinForAmount(s,at,BigInt(0),jt,!1),mt[jt]=Ut),Dt.push(Ut.targetCoin)}),s=this.createCollectRewarderNoSendPaylod(wt,s,Dt)}),Object.keys(mt).forEach(wt=>{const $t=mt[wt];$t.isMintZeroCoin&&TransactionUtil.buildTransferCoin(this.sdk,s,$t.targetCoin,wt,this.sdk.senderAddress)}),s}createCollectRewarderPaylod(a,s,et){const{clmm_pool:nt,integrate:at}=this.sdk.sdkOptions,mt=getPackagerConfigs(nt),wt=[a.coinTypeA,a.coinTypeB];return a.rewarder_coin_types.forEach(($t,Ct)=>{s&&s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::collect_reward`,typeArguments:[...wt,$t],arguments:[s.object(mt.global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.object(mt.global_vault_id),et[Ct],s.object(CLOCK_ADDRESS$1)]})}),s}createCollectRewarderNoSendPaylod(a,s,et){const{clmm_pool:nt,integrate:at}=this.sdk.sdkOptions,mt=getPackagerConfigs(nt),wt=[a.coinTypeA,a.coinTypeB];return a.rewarder_coin_types.forEach(($t,Ct)=>{s&&s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV3Module}::collect_reward`,typeArguments:[...wt,$t],arguments:[s.object(mt.global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.object(mt.global_vault_id),et[Ct],s.object(CLOCK_ADDRESS$1)]})}),s}};function _pairSymbol(a,s){return{pair:`${a}-${s}`,reversePair:`${s}-${a}`}}var RouterModule=class{constructor(a){Yn(this,"graph");Yn(this,"pathProviders");Yn(this,"coinProviders");Yn(this,"_coinAddressMap");Yn(this,"poolAddressMap");Yn(this,"_sdk");this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new Graph(!1),this._coinAddressMap=new Map,this.poolAddressMap=new Map,this._sdk=a,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.preRouterSwapA2B2C=this.preRouterSwapA2B2C.bind(this),this.price=this.price.bind(this),this.getPoolWithTVL=this.getPoolWithTVL.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(a,s){const{pair:et,reversePair:nt}=_pairSymbol(a,s);let at=this.poolAddressMap.get(et);if(at!=null)return{addressMap:at,direction:!0};if(at=this.poolAddressMap.get(nt),at!=null)return{addressMap:at,direction:!1}}setCoinList(){this.coinProviders.coins.forEach(a=>{this._coinAddressMap.set(a.address,a)})}loadGraph(a,s){this.addCoinProvider(a),this.addPathProvider(s),this.setCoinList(),this.pathProviders.forEach(et=>{const{paths:nt}=et;nt.forEach(at=>{const mt=this.graph.getVertexByKey(at.base)??new GraphVertex(at.base),wt=this.graph.getVertexByKey(at.quote)??new GraphVertex(at.quote);this.graph.addEdge(new GraphEdge(mt,wt));const $t=this._coinAddressMap.get(at.base),Ct=this._coinAddressMap.get(at.quote);if($t!=null&&Ct!=null){const Dt=_pairSymbol(at.base,at.quote).pair;this.poolAddressMap.set(Dt,at.addressMap)}})})}addPathProvider(a){for(let s=0;s<a.paths.length;s+=1){const{base:et,quote:nt}=a.paths[s];et.localeCompare(nt)<0&&(a.paths[s].base=nt,a.paths[s].quote=et),et==="0x2::sui::SUI"&&(a.paths[s].base=nt,a.paths[s].quote=et),nt==="0x2::sui::SUI"&&(a.paths[s].base=et,a.paths[s].quote=nt)}return this.pathProviders.push(a),this}addCoinProvider(a){return this.coinProviders=a,this}tokenInfo(a){return this._coinAddressMap.get(a)}getFeeRate(a,s,et){const nt=_pairSymbol(a,s).pair,at=this.poolAddressMap.get(nt);if(at!=null){for(const[$t,Ct]of at.entries())if(Ct===et)return $t*100}const mt=_pairSymbol(a,s).reversePair,wt=this.poolAddressMap.get(mt);if(wt!=null){for(const[$t,Ct]of wt.entries())if(Ct===et)return $t*100}return 0}async price(a,s,et,nt,at,mt,wt){const $t=this.tokenInfo(a),Ct=this.tokenInfo(s);if($t===void 0||Ct===void 0)throw new ClmmpoolsError("From/To coin is undefined","InvalidCoin");const Dt=this.graph.getVertexByKey($t.address),Ft=this.graph.getVertexByKey(Ct.address),jt=this.graph.findAllPath(Dt,Ft),Ut=Array.from(jt);if(Ut.length===0)throw new ClmmpoolsError("No find valid path in coin graph","NotFoundPath");let tr=[];for(let Cr=0;Cr<Ut.length;Cr+=1){const cr=Ut[Cr];if(cr.length>3)continue;const Nt=[],Vt=[],er=[],Yt=[];for(let rr=0;rr<cr.length-1;rr+=1){const ar=cr[rr].value.toString(),lr=cr[rr+1].value.toString(),nr=this.getPoolAddressMapAndDirection(ar,lr),Lt=nr==null?void 0:nr.addressMap,or=nr==null?void 0:nr.direction;Lt!=null&&or!=null&&(Vt.push(or),Nt.push(ar),Nt.push(lr),Lt.forEach(gr=>{rr===0?er.push(gr):Yt.push(gr)}))}for(const rr of er)if(Yt.length>0)for(const ar of Yt){const lr={stepNums:2,poolAB:rr,poolBC:ar,a2b:Vt[0],b2c:Vt[1],amount:et,byAmountIn:nt,coinTypeA:Nt[0],coinTypeB:Nt[1],coinTypeC:Nt[3]};tr.push(lr)}else{const ar={stepNums:1,poolAB:rr,poolBC:void 0,a2b:Vt[0],b2c:void 0,amount:et,byAmountIn:nt,coinTypeA:Nt[0],coinTypeB:Nt[1],coinTypeC:void 0};tr.push(ar)}}const ir=tr.filter(Cr=>Cr.stepNums===1),sr=tr.filter(Cr=>Cr.stepNums!==1);let ur=[];try{ur=await this.getPoolWithTVL()}catch{ur=[]}if(ur.length>0){const Cr=new Map(ur.map(cr=>[cr.poolAddress,cr]));sr.sort((cr,Nt)=>{let Vt=0,er=0;if(Cr.has(cr.poolAB)&&Cr.has(cr.poolBC)){const Yt=Cr.get(cr.poolAB),rr=Cr.get(cr.poolBC);Vt=Math.min(Yt.tvl,rr.tvl)}if(Cr.has(Nt.poolAB)&&Cr.has(Nt.poolBC)){const Yt=Cr.get(Nt.poolAB),rr=Cr.get(Nt.poolBC);er=Math.min(Yt.tvl,rr.tvl)}return er-Vt})}if(tr=[...ir,...sr],tr.length===0){if(wt!=null){const Cr=await this.sdk.Swap.preSwapWithMultiPool(wt),cr={amountIn:new BN(Cr.estimatedAmountIn),amountOut:new BN(Cr.estimatedAmountOut),poolAddress:[Cr.poolAddress],a2b:[Cr.aToB],rawAmountLimit:nt?[Cr.estimatedAmountOut]:[Cr.estimatedAmountIn],isExceed:Cr.isExceed,coinType:[a,s]},Nt={paths:[cr],partner:mt,priceSlippagePoint:at};return{amountIn:new BN(Cr.estimatedAmountIn),amountOut:new BN(Cr.estimatedAmountOut),paths:[cr],a2b:Cr.aToB,b2c:void 0,byAmountIn:nt,isExceed:Cr.isExceed,targetSqrtPrice:[Cr.estimatedEndSqrtPrice],currentSqrtPrice:[Cr.estimatedStartSqrtPrice],coinTypeA:a,coinTypeB:s,coinTypeC:void 0,createTxParams:Nt}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}const fr=await this.preRouterSwapA2B2C(tr.slice(0,16));if(fr==null){if(wt!=null){const cr=await this.sdk.Swap.preSwapWithMultiPool(wt),Nt={amountIn:new BN(cr.estimatedAmountIn),amountOut:new BN(cr.estimatedAmountOut),poolAddress:[cr.poolAddress],a2b:[cr.aToB],rawAmountLimit:nt?[cr.estimatedAmountOut]:[cr.estimatedAmountIn],isExceed:cr.isExceed,coinType:[a,s]},Vt={paths:[Nt],partner:mt,priceSlippagePoint:at};return{amountIn:new BN(cr.estimatedAmountIn),amountOut:new BN(cr.estimatedAmountOut),paths:[Nt],a2b:cr.aToB,b2c:void 0,byAmountIn:nt,isExceed:cr.isExceed,targetSqrtPrice:[cr.estimatedEndSqrtPrice],currentSqrtPrice:[cr.estimatedStartSqrtPrice],coinTypeA:a,coinTypeB:s,coinTypeC:void 0,createTxParams:Vt}}return{amountIn:ZERO$1,amountOut:ZERO$1,paths:[],a2b:!1,b2c:!1,byAmountIn:nt,isExceed:!0,targetSqrtPrice:[],currentSqrtPrice:[],coinTypeA:"",coinTypeB:"",coinTypeC:void 0,createTxParams:void 0}}const dr=fr.index,hr=tr[dr].poolBC!=null?[tr[dr].poolAB,tr[dr].poolBC]:[tr[dr].poolAB],vr=nt?[fr.amountMedium,fr.amountOut]:[fr.amountIn,fr.amountMedium],yr=[];yr.push(tr[dr].a2b),fr.stepNum>1&&yr.push(tr[dr].b2c);const xr=[];xr.push(tr[dr].coinTypeA),xr.push(tr[dr].coinTypeB),fr.stepNum>1&&xr.push(tr[dr].coinTypeC);const br={amountIn:fr.amountIn,amountOut:fr.amountOut,poolAddress:hr,a2b:yr,rawAmountLimit:vr,isExceed:fr.isExceed,coinType:xr},wr={paths:[br],partner:mt,priceSlippagePoint:at};return{amountIn:fr.amountIn,amountOut:fr.amountOut,paths:[br],a2b:tr[dr].a2b,b2c:fr.stepNum>1?tr[dr].b2c:void 0,byAmountIn:nt,isExceed:fr.isExceed,targetSqrtPrice:fr.targetSqrtPrice,currentSqrtPrice:fr.currentSqrtPrice,coinTypeA:tr[dr].coinTypeA,coinTypeB:tr[dr].coinTypeB,coinTypeC:fr.stepNum>1?tr[dr].coinTypeC:void 0,createTxParams:wr}}async priceUseV1(a,s,et,nt,at,mt,wt){if(wt!=null){const $t=await this.sdk.Swap.preSwapWithMultiPool(wt),Ct={amountIn:new BN($t.estimatedAmountIn),amountOut:new BN($t.estimatedAmountOut),poolAddress:[$t.poolAddress],a2b:[$t.aToB],rawAmountLimit:nt?[$t.estimatedAmountOut]:[$t.estimatedAmountIn],isExceed:$t.isExceed,coinType:[a,s]},Dt={paths:[Ct],partner:mt,priceSlippagePoint:at};return{amountIn:new BN($t.estimatedAmountIn),amountOut:new BN($t.estimatedAmountOut),paths:[Ct],a2b:$t.aToB,b2c:void 0,byAmountIn:nt,isExceed:$t.isExceed,targetSqrtPrice:[$t.estimatedEndSqrtPrice],currentSqrtPrice:[$t.estimatedStartSqrtPrice],coinTypeA:a,coinTypeB:s,coinTypeC:void 0,createTxParams:Dt}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}async preRouterSwapA2B2C(a){var jt;if(a.length===0)return null;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,nt=new Transaction;for(const Ut of a)if(Ut.stepNums>1){const tr=[nt.object(Ut.poolAB),nt.object(Ut.poolBC),nt.pure.bool(Ut.a2b),nt.pure.bool(Ut.b2c),nt.pure.bool(Ut.byAmountIn),nt.pure.u64(Ut.amount.toString())],ir=[];Ut.a2b?ir.push(Ut.coinTypeA,Ut.coinTypeB):ir.push(Ut.coinTypeB,Ut.coinTypeA),Ut.b2c?ir.push(Ut.coinTypeB,Ut.coinTypeC):ir.push(Ut.coinTypeC,Ut.coinTypeB),nt.moveCall({target:`${s.published_at}::${ClmmIntegrateRouterModule}::calculate_router_swap_result`,typeArguments:ir,arguments:tr})}else{const tr=[nt.object(Ut.poolAB),nt.pure.bool(Ut.a2b),nt.pure.bool(Ut.byAmountIn),nt.pure.u64(Ut.amount.toString())],ir=Ut.a2b?[Ut.coinTypeA,Ut.coinTypeB]:[Ut.coinTypeB,Ut.coinTypeA];nt.moveCall({target:`${s.published_at}::${ClmmExpectSwapModule}::get_expect_swap_result`,arguments:tr,typeArguments:ir})}if(!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const mt=(jt=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:et.address})).events)==null?void 0:jt.filter(Ut=>extractStructTagFromType$1(Ut.type).name==="CalculatedRouterSwapResultEvent"||extractStructTagFromType$1(Ut.type).name==="ExpectSwapResultEvent");if(mt.length===0)return null;let wt=a[0].byAmountIn?ZERO$1:U64_MAX,$t=0;for(let Ut=0;Ut<mt.length;Ut+=1)if(!mt[Ut].parsedJson.data.is_exceed)if(a[0].byAmountIn){const tr=new BN(mt[Ut].parsedJson.data.amount_out);tr.gt(wt)&&($t=Ut,wt=tr)}else{const tr=a[Ut].stepNums>1?new BN(mt[Ut].parsedJson.data.amount_in):new BN(mt[Ut].parsedJson.data.amount_in).add(new BN(mt[Ut].parsedJson.data.fee_amount));tr.lt(wt)&&($t=Ut,wt=tr)}const Ct=[],Dt=[];return a[$t].stepNums>1?(Dt.push(mt[$t].parsedJson.data.target_sqrt_price_ab,mt[$t].parsedJson.data.target_sqrt_price_cd),Ct.push(mt[$t].parsedJson.data.current_sqrt_price_ab,mt[$t].parsedJson.data.current_sqrt_price_cd)):(Dt.push(mt[$t].parsedJson.data.after_sqrt_price),Ct.push(mt[$t].parsedJson.current_sqrt_price)),{index:$t,amountIn:a[0].byAmountIn?a[$t].amount:wt,amountMedium:mt[$t].parsedJson.data.amount_medium,amountOut:a[0].byAmountIn?wt:a[$t].amount,targetSqrtPrice:Dt,currentSqrtPrice:Ct,isExceed:mt[$t].parsedJson.data.is_exceed,stepNum:a[$t].stepNums}}async getPoolWithTVL(){const a=[],{swapCountUrl:s}=this._sdk.sdkOptions;if(!s)return a;let et;try{et=await fetch(s)}catch{throw new ClmmpoolsError(`Failed to get pool list with liquidity from ${s}.`,"InvalidSwapCountUrl")}let nt;try{nt=await et.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${s}].`,"InvalidSwapCountUrl")}if(nt.code!==200)throw new ClmmpoolsError(`Failed to get pool list from ${s}. Statu code is ${nt.code}.`,"InvalidSwapCountUrl");const{pools:at}=nt.data;for(const mt of at)a.push({poolAddress:mt.swap_account,tvl:Number(mt.tvl_in_usd)});return a}},SwapModule=class{constructor(a){Yn(this,"_sdk");Yn(this,"calculateSingleImpact",(a,s)=>s.minus(a).div(s).mul(100));this._sdk=a}get sdk(){return this._sdk}calculateSwapFee(a){let s=d$2(0);return a.forEach(et=>{const nt=et.basePaths.length;if(nt>0){const at=et.basePaths[0],mt=at.label==="Cetus"?new Decimal$1(at.feeRate).div(10**6):new Decimal$1(at.feeRate).div(10**9),wt=d$2(at.inputAmount).div(10**at.fromDecimal).mul(mt);if(s=s.add(wt),nt>1){const $t=et.basePaths[1],Ct=at.direction?at.currentPrice:new Decimal$1(1).div(at.currentPrice),Dt=$t.direction?$t.currentPrice:new Decimal$1(1).div($t.currentPrice),Ft=$t.label==="Cetus"?new Decimal$1($t.feeRate).div(10**6):new Decimal$1($t.feeRate).div(10**9),Ut=d$2($t.outputAmount).div(10**$t.toDecimal).mul(Ft).div(Ct.mul(Dt));s=s.add(Ut)}}}),s.toString()}calculateSwapPriceImpact(a){let s=d$2(0);return a.forEach(et=>{const nt=et.basePaths.length;if(nt===1){const at=et.basePaths[0],mt=d$2(at.outputAmount).div(10**at.toDecimal),wt=d$2(at.inputAmount).div(10**at.fromDecimal),$t=mt.div(wt),Ct=at.direction?new Decimal$1(at.currentPrice):new Decimal$1(1).div(at.currentPrice);s=s.add(this.calculateSingleImpact($t,Ct))}if(nt===2){const at=et.basePaths[0],mt=et.basePaths[1],wt=at.direction?new Decimal$1(at.currentPrice):new Decimal$1(1).div(at.currentPrice),$t=mt.direction?new Decimal$1(mt.currentPrice):new Decimal$1(1).div(mt.currentPrice),Ct=wt.mul($t),Dt=new Decimal$1(mt.outputAmount).div(10**mt.toDecimal),Ft=new Decimal$1(at.inputAmount).div(10**at.fromDecimal),jt=Dt.div(Ft);s=s.add(this.calculateSingleImpact(jt,Ct))}}),s.toString()}async preSwapWithMultiPool(a){var Dt;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,nt=new Transaction,at=[a.coinTypeA,a.coinTypeB];for(let Ft=0;Ft<a.poolAddresses.length;Ft+=1){const jt=[nt.object(a.poolAddresses[Ft]),nt.pure.bool(a.a2b),nt.pure.bool(a.byAmountIn),nt.pure.u64(a.amount)];nt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:jt,typeArguments:at})}if(!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const mt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:et.address});if(mt.error!=null)throw new ClmmpoolsError(`pre swap with multi pools error code: ${mt.error??"unknown error"}, please check config and params`,"InvalidConfig");const wt=(Dt=mt.events)==null?void 0:Dt.filter(Ft=>extractStructTagFromType$1(Ft.type).name==="CalculatedSwapResultEvent");if(wt.length===0)return null;if(wt.length!==a.poolAddresses.length)throw new ClmmpoolsError("valueData.length !== params.pools.length","ParamsLengthNotEqual");let $t=a.byAmountIn?ZERO$1:U64_MAX,Ct=0;for(let Ft=0;Ft<wt.length;Ft+=1)if(!wt[Ft].parsedJson.data.is_exceed)if(a.byAmountIn){const jt=new BN(wt[Ft].parsedJson.data.amount_out);jt.gt($t)&&(Ct=Ft,$t=jt)}else{const jt=new BN(wt[Ft].parsedJson.data.amount_out);jt.lt($t)&&(Ct=Ft,$t=jt)}return this.transformSwapWithMultiPoolData({poolAddress:a.poolAddresses[Ct],a2b:a.a2b,byAmountIn:a.byAmountIn,amount:a.amount,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB},wt[Ct].parsedJson)}async preswap(a){var Ct;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,nt=new Transaction,at=[a.coinTypeA,a.coinTypeB],mt=[nt.object(a.pool.poolAddress),nt.pure.bool(a.a2b),nt.pure.bool(a.byAmountIn),nt.pure.u64(a.amount)];if(nt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:mt,typeArguments:at}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const wt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:et.address});if(wt.error!=null)throw new ClmmpoolsError(`preswap error code: ${wt.error??"unknown error"}, please check config and params`,"InvalidConfig");const $t=(Ct=wt.events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="CalculatedSwapResultEvent");return $t.length===0?null:this.transformSwapData(a,$t[0].parsedJson.data)}transformSwapData(a,s){const et=s.amount_in&&s.fee_amount?new BN(s.amount_in).add(new BN(s.fee_amount)).toString():"";return{poolAddress:a.pool.poolAddress,currentSqrtPrice:a.currentSqrtPrice,estimatedAmountIn:et,estimatedAmountOut:s.amount_out,estimatedEndSqrtPrice:s.after_sqrt_price,estimatedFeeAmount:s.fee_amount,isExceed:s.is_exceed,amount:a.amount,aToB:a.a2b,byAmountIn:a.byAmountIn}}transformSwapWithMultiPoolData(a,s){const{data:et}=s;console.log("json data. ",et);const nt=et.amount_in&&et.fee_amount?new BN(et.amount_in).add(new BN(et.fee_amount)).toString():"";return{poolAddress:a.poolAddress,estimatedAmountIn:nt,estimatedAmountOut:et.amount_out,estimatedEndSqrtPrice:et.after_sqrt_price,estimatedStartSqrtPrice:et.step_results[0].current_sqrt_price,estimatedFeeAmount:et.fee_amount,isExceed:et.is_exceed,amount:a.amount,aToB:a.a2b,byAmountIn:a.byAmountIn}}calculateRates(a){const{currentPool:s}=a,et=transClmmpoolDataWithoutTicks(s);let nt;a.a2b?nt=a.swapTicks.sort((jt,Ut)=>Ut.index-jt.index):nt=a.swapTicks.sort((jt,Ut)=>jt.index-Ut.index);const at=computeSwap(a.a2b,a.byAmountIn,a.amount,et,nt);let mt=!1;a.byAmountIn?mt=at.amountIn.lt(a.amount):mt=at.amountOut.lt(a.amount);const wt=SwapUtils.getDefaultSqrtPriceLimit(a.a2b);a.a2b&&at.nextSqrtPrice.lt(wt)&&(mt=!0),!a.a2b&&at.nextSqrtPrice.gt(wt)&&(mt=!0);let $t=0;at.crossTickNum>6&&at.crossTickNum<40&&($t=22e3*(at.crossTickNum-6)),at.crossTickNum>40&&(mt=!0);const Ct=TickMath.sqrtPriceX64ToPrice(et.currentSqrtPrice,a.decimalsA,a.decimalsB).toNumber(),Dt=TickMath.sqrtPriceX64ToPrice(at.nextSqrtPrice,a.decimalsA,a.decimalsB).toNumber(),Ft=Math.abs(Ct-Dt)/Ct*100;return{estimatedAmountIn:at.amountIn,estimatedAmountOut:at.amountOut,estimatedEndSqrtPrice:at.nextSqrtPrice,estimatedFeeAmount:at.feeAmount,isExceed:mt,extraComputeLimit:$t,amount:a.amount,aToB:a.a2b,byAmountIn:a.byAmountIn,priceImpactPct:Ft}}async createSwapTransactionPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(s){const{isAdjustCoinA:nt,isAdjustCoinB:at}=findAdjustCoin(a);if(a.a2b&&nt||!a.a2b&&at)return await TransactionUtil.buildSwapTransactionForGas(this._sdk,a,et,s)}return TransactionUtil.buildSwapTransaction(this.sdk,a,et)}async createSwapTransactionWithoutTransferCoinsPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(s){const{isAdjustCoinA:nt,isAdjustCoinB:at}=findAdjustCoin(a);if(a.a2b&&nt||!a.a2b&&at)return await TransactionUtil.buildSwapTransactionWithoutTransferCoinsForGas(this._sdk,a,et,s)}return TransactionUtil.buildSwapTransactionWithoutTransferCoins(this.sdk,a,et)}},TokenModule=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getAllRegisteredTokenList(a=!1){return await this.factchTokenList("",a)}async getOwnerTokenList(a="",s=!1){return await this.factchTokenList(a,s)}async getAllRegisteredPoolList(a=!1){return await this.factchPoolList("",a)}async getOwnerPoolList(a="",s=!1){return await this.factchPoolList(a,s)}async getWarpPoolList(a=!1){return await this.factchWarpPoolList("","",a)}async getOwnerWarpPoolList(a="",s="",et=!1){return await this.factchWarpPoolList(a,s,et)}async getTokenListByCoinTypes(a){const s={},nt=this.getCache("getAllRegisteredTokenList");if(nt!==void 0){const mt=nt;for(const wt of a)for(const $t of mt)if(normalizeCoinType$1(wt)===normalizeCoinType$1($t.address)){s[wt]=$t;continue}}const at=a.filter(mt=>s[mt]===void 0);for(const mt of at){const wt=`${mt}_metadata`,$t=this.getCache(wt);if($t!==void 0)s[mt]=$t;else{const Ct=await this._sdk.fullClient.getCoinMetadata({coinType:mt});if(Ct){const Dt={id:Ct.id,name:Ct.name,symbol:Ct.symbol,official_symbol:Ct.symbol,coingecko_id:"",decimals:Ct.decimals,project_url:"",logo_url:Ct.iconUrl,address:mt};s[mt]=Dt,this.updateCache(wt,Dt,cacheTime24h)}}}return s}async factchTokenList(a="",s=!1){var jt;const{simulationAccount:et,token:nt}=this.sdk.sdkOptions,mt=this.getCache("getAllRegisteredTokenList",s);if(mt!==void 0)return mt;const wt=a.length>0,$t=512;let Ct=0,Dt=[];if(nt===void 0)throw Error("please config token ofsdkOptions");const Ft=getPackagerConfigs(nt);for(;;){const Ut=new Transaction;Ut.moveCall({target:`${nt.published_at}::coin_list::${wt?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:wt?[Ut.pure.address(Ft.coin_registry_id),Ut.pure.address(a),Ut.pure.u64(Ct),Ut.pure.u64($t)]:[Ut.pure.address(Ft.coin_registry_id),Ut.pure.u64(Ct),Ut.pure.u64($t)]});const tr=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Ut,sender:et.address}),ir=[];if((jt=tr.events)==null||jt.forEach(sr=>{extractStructTagFromType$1(sr.type).full_address===`${nt.published_at}::coin_list::FetchCoinListEvent`&&sr.parsedJson.full_list.value_list.forEach(fr=>{ir.push(this.transformData(fr,!1))})}),Dt=[...Dt,...ir],ir.length<$t)break;Ct=Dt.length}return Dt}async factchPoolList(a="",s=!1){var jt;const{simulationAccount:et,token:nt}=this.sdk.sdkOptions,mt=this.getCache("getAllRegisteredPoolList",s);if(mt!==void 0)return mt;let wt=[];const $t=512;let Ct=0;const Dt=a.length>0;if(nt===void 0)throw Error("please config token ofsdkOptions");const Ft=getPackagerConfigs(nt);for(;;){const Ut=new Transaction;if(Ut.moveCall({target:`${nt.published_at}::lp_list::${Dt?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:Dt?[Ut.pure.address(Ft.pool_registry_id),Ut.pure.address(a),Ut.pure.u64(Ct),Ut.pure.u64($t)]:[Ut.pure.address(Ft.pool_registry_id),Ut.pure.u64(Ct),Ut.pure.u64($t)]}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const tr=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Ut,sender:et.address}),ir=[];if((jt=tr.events)==null||jt.forEach(sr=>{extractStructTagFromType$1(sr.type).full_address===`${nt.published_at}::lp_list::FetchPoolListEvent`&&sr.parsedJson.full_list.value_list.forEach(fr=>{ir.push(this.transformData(fr,!0))})}),wt=[...wt,...ir],ir.length<$t)break;Ct=wt.length}return wt}async factchWarpPoolList(a="",s="",et=!1){const nt=await this.factchPoolList(a,et);if(nt.length===0)return[];const at=await this.factchTokenList(s,et),mt=[];for(const wt of nt){for(const $t of at)$t.address===wt.coin_a_address&&(wt.coinA=$t),$t.address===wt.coin_b_address&&(wt.coinB=$t);mt.push(wt)}return mt}async getTokenConfigEvent(a=!1){const s=this._sdk.sdkOptions.token.package_id,et=`${s}_getTokenConfigEvent`,nt=this.getCache(et,a);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:s,options:{showPreviousTransaction:!0}}),mt=getObjectPreviousTransactionDigest(at),wt=await this._sdk.fullClient.queryEventsByPage({Transaction:mt}),$t={coin_registry_id:"",pool_registry_id:"",coin_list_owner:"",pool_list_owner:""};return wt.data.length>0&&wt.data.forEach(Ct=>{const Dt=extractStructTagFromType$1(Ct.type);if(Ct.transactionModule==="coin_list")switch(Dt.name){case"InitListEvent":$t.coin_list_owner=Ct.parsedJson.list_id;break;case"InitRegistryEvent":$t.coin_registry_id=Ct.parsedJson.registry_id;break}else if(Ct.transactionModule==="lp_list")switch(Dt.name){case"InitListEvent<address>":$t.pool_list_owner=Ct.parsedJson.list_id;break;case"InitRegistryEvent<address>":$t.pool_registry_id=Ct.parsedJson.registry_id;break}}),$t.coin_registry_id.length>0&&this.updateCache(et,$t,cacheTime24h),$t}transformData(a,s){const et={...a};if(s)try{et.coin_a_address=extractStructTagFromType$1(et.coin_a_address).full_address,et.coin_b_address=extractStructTagFromType$1(et.coin_b_address).full_address}catch{}else et.address=extractStructTagFromType$1(et.address).full_address;if(a.extensions){const nt=a.extensions.contents;for(const at of nt){const{key:mt}=at;let{value:wt}=at;if(mt==="labels")try{wt=JSON.parse(decodeURIComponent(gBase64.decode(wt)))}catch{}mt==="pyth_id"&&(wt=normalizeSuiObjectId(wt)),et[mt]=wt}delete et.extensions}return et}updateCache(a,s,et=cacheTime5min){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){const et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}},RouterModuleV2=class{constructor(a){Yn(this,"_sdk");this._sdk=a}get sdk(){return this._sdk}calculatePrice(a,s,et,nt,at){const mt=nt?s:et,wt=nt?et:s;return at==="Cetus"?TickMath.sqrtPriceX64ToPrice(a,mt,wt):new Decimal$1(a.toString()).div(new Decimal$1(10).pow(new Decimal$1(wt+9-mt)))}parseJsonResult(a){return{isExceed:a.is_exceed,isTimeout:a.is_timeout,inputAmount:a.input_amount,outputAmount:a.output_amount,fromCoin:a.from_coin,toCoin:a.to_coin,byAmountIn:a.by_amount_in,splitPaths:a.split_paths.map(et=>({pathIndex:et.path_index,lastQuoteOutput:et.last_quote_output,percent:et.percent,basePaths:et.best_path.map(at=>({direction:at.direction,label:at.label,poolAddress:at.provider,fromCoin:at.from_coin,toCoin:at.to_coin,outputAmount:at.output_amount,inputAmount:at.input_amount,feeRate:at.fee_rate,currentSqrtPrice:new BN(at.current_sqrt_price.toString()),afterSqrtPrice:at.label==="Cetus"?new BN(at.after_sqrt_price.toString()):ZERO$1,fromDecimal:at.from_decimal,toDecimal:at.to_decimal,currentPrice:this.calculatePrice(new BN(at.current_sqrt_price.toString()),at.from_decimal,at.to_decimal,at.direction,at.label)})),inputAmount:et.input_amount,outputAmount:et.output_amount}))}}async fetchDataWithAxios(a,s,et){try{const nt={...s,timeout:et},at=await axios$1(a,nt);return at.status===200?this.parseJsonResult(at.data):null}catch(nt){return console.error(nt),null}}async getBestRouter(a,s,et,nt,at,mt,wt,$t,Ct=!1,Dt=!1,Ft=[]){let jt=null,Ut="v2",tr={},ir=this.sdk.sdkOptions.aggregatorUrl;if(Ft.length>0){const sr=new URL(ir);ir=`${sr.protocol}//${sr.hostname}/router_with_lp_changes`,tr={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:a,to:s,amount:et,by_amount_in:nt,order_split:Ct,external_router:Dt,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:Ft})}}else ir=`
      ${ir}?from=${encodeURIComponent(a)}&to=${encodeURIComponent(s)}&amount=${encodeURIComponent(et)}&by_amount_in=${encodeURIComponent(nt)}&order_split=${encodeURIComponent(Ct)}&external_router=${encodeURIComponent(Dt)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(jt=await this.fetchDataWithAxios(ir,tr,6e3),jt==null){const sr=await this.sdk.Router.priceUseV1(a,s,new BN(et),nt,at,mt,$t),ur=[];for(const dr of sr.paths){const hr=[];if(dr.poolAddress.length>1){const yr=this.sdk.Router.tokenInfo(dr.coinType[0]).decimals,xr=this.sdk.Router.tokenInfo(dr.coinType[1]).decimals,br=dr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(sr.currentSqrtPrice[0]),yr,xr):TickMath.sqrtPriceX64ToPrice(new BN(sr.currentSqrtPrice[0]),xr,yr),wr={direction:dr.a2b[0],label:"Cetus",poolAddress:dr.poolAddress[0],fromCoin:dr.coinType[0],toCoin:dr.coinType[1],feeRate:this.sdk.Router.getFeeRate(dr.coinType[0],dr.coinType[1],dr.poolAddress[0]),outputAmount:sr.byAmountIn?dr.rawAmountLimit[0].toString():dr.rawAmountLimit[1].toString(),inputAmount:dr.amountIn.toString(),currentSqrtPrice:sr.currentSqrtPrice[0],currentPrice:br,fromDecimal:yr,toDecimal:xr},Sr=this.sdk.Router.tokenInfo(dr.coinType[1]).decimals,Cr=this.sdk.Router.tokenInfo(dr.coinType[2]).decimals,cr=dr.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN(sr.currentSqrtPrice[1]),Sr,Cr):TickMath.sqrtPriceX64ToPrice(new BN(sr.currentSqrtPrice[1]),Cr,Sr),Nt={direction:dr.a2b[1],label:"Cetus",poolAddress:dr.poolAddress[1],fromCoin:dr.coinType[1],toCoin:dr.coinType[2],feeRate:this.sdk.Router.getFeeRate(dr.coinType[1],dr.coinType[2],dr.poolAddress[1]),outputAmount:dr.amountOut.toString(),inputAmount:sr.byAmountIn?dr.rawAmountLimit[0].toString():dr.rawAmountLimit[1].toString(),currentSqrtPrice:sr.currentSqrtPrice[1],currentPrice:cr,fromDecimal:Sr,toDecimal:Cr};hr.push(wr,Nt)}else{const yr=this.sdk.Router.tokenInfo(dr.coinType[0]).decimals,xr=this.sdk.Router.tokenInfo(dr.coinType[1]).decimals,br=dr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(sr.currentSqrtPrice[0]),yr,xr):TickMath.sqrtPriceX64ToPrice(new BN(sr.currentSqrtPrice[0]),xr,yr),wr={direction:dr.a2b[0],label:"Cetus",poolAddress:dr.poolAddress[0],fromCoin:dr.coinType[0],toCoin:dr.coinType[1],feeRate:this.sdk.Router.getFeeRate(dr.coinType[0],dr.coinType[1],dr.poolAddress[0]),outputAmount:dr.amountOut.toString(),inputAmount:dr.amountIn.toString(),currentSqrtPrice:sr.currentSqrtPrice[0],currentPrice:br,fromDecimal:yr,toDecimal:xr};hr.push(wr)}const vr={percent:Number(dr.amountIn)/Number(sr.amountIn)*100,inputAmount:Number(dr.amountIn.toString()),outputAmount:Number(dr.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:hr};ur.push(vr)}const fr={isExceed:sr.isExceed,isTimeout:!0,inputAmount:Number(sr.amountIn.toString()),outputAmount:Number(sr.amountOut.toString()),fromCoin:sr.coinTypeA,toCoin:sr.coinTypeC!=null?sr.coinTypeC:sr.coinTypeB,byAmountIn:sr.byAmountIn,splitPaths:ur};Ut="v1",jt=fr}return{result:jt,version:Ut}}async getBestRouterByServer(a,s,et,nt,at,mt=!1,wt=!1,$t=[]){let Ct=null,Dt={},Ft=this.sdk.sdkOptions.aggregatorUrl;if($t.length>0){const jt=new URL(Ft);Ft=`${jt.protocol}//${jt.hostname}/router_with_lp_changes`,Dt={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:a,to:s,amount:et,by_amount_in:nt,order_split:mt,external_router:wt,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:$t})}}else Ft=`
      ${Ft}?from=${encodeURIComponent(a)}&to=${encodeURIComponent(s)}&amount=${encodeURIComponent(et)}&by_amount_in=${encodeURIComponent(nt)}&order_split=${encodeURIComponent(mt)}&external_router=${encodeURIComponent(wt)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(Ct=await this.fetchDataWithAxios(Ft,Dt,6e3),Ct==null)throw new ClmmpoolsError("Invalid server response","InvalidServerResponse");return Ct}async getBestRouterByRpc(a,s,et,nt,at,mt,wt){const $t=await this.sdk.Router.priceUseV1(a,s,new BN(et),nt,at,mt,wt),Ct=[];for(const Ft of $t.paths){const jt=[];if(Ft.poolAddress.length>1){const tr=this.sdk.Router.tokenInfo(Ft.coinType[0]).decimals,ir=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,sr=Ft.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),tr,ir):TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),ir,tr),ur={direction:Ft.a2b[0],label:"Cetus",poolAddress:Ft.poolAddress[0],fromCoin:Ft.coinType[0],toCoin:Ft.coinType[1],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[0],Ft.coinType[1],Ft.poolAddress[0]),outputAmount:$t.byAmountIn?Ft.rawAmountLimit[0].toString():Ft.rawAmountLimit[1].toString(),inputAmount:Ft.amountIn.toString(),currentSqrtPrice:$t.currentSqrtPrice[0],currentPrice:sr,fromDecimal:tr,toDecimal:ir},fr=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,dr=this.sdk.Router.tokenInfo(Ft.coinType[2]).decimals,hr=Ft.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[1]),fr,dr):TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[1]),dr,fr),vr={direction:Ft.a2b[1],label:"Cetus",poolAddress:Ft.poolAddress[1],fromCoin:Ft.coinType[1],toCoin:Ft.coinType[2],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[1],Ft.coinType[2],Ft.poolAddress[1]),outputAmount:Ft.amountOut.toString(),inputAmount:$t.byAmountIn?Ft.rawAmountLimit[0].toString():Ft.rawAmountLimit[1].toString(),currentSqrtPrice:$t.currentSqrtPrice[1],currentPrice:hr,fromDecimal:fr,toDecimal:dr};jt.push(ur,vr)}else{const tr=this.sdk.Router.tokenInfo(Ft.coinType[0]).decimals,ir=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,sr=Ft.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),tr,ir):TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),ir,tr),ur={direction:Ft.a2b[0],label:"Cetus",poolAddress:Ft.poolAddress[0],fromCoin:Ft.coinType[0],toCoin:Ft.coinType[1],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[0],Ft.coinType[1],Ft.poolAddress[0]),outputAmount:Ft.amountOut.toString(),inputAmount:Ft.amountIn.toString(),currentSqrtPrice:$t.currentSqrtPrice[0],currentPrice:sr,fromDecimal:tr,toDecimal:ir};jt.push(ur)}const Ut={percent:Number(Ft.amountIn)/Number($t.amountIn)*100,inputAmount:Number(Ft.amountIn.toString()),outputAmount:Number(Ft.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:jt};Ct.push(Ut)}return{isExceed:$t.isExceed,isTimeout:!0,inputAmount:Number($t.amountIn.toString()),outputAmount:Number($t.amountOut.toString()),fromCoin:$t.coinTypeA,toCoin:$t.coinTypeC!=null?$t.coinTypeC:$t.coinTypeB,byAmountIn:$t.byAmountIn,splitPaths:Ct}}},ConfigModule=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}setTokenListCache(a){const{coin_list_handle:s}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),et=`${s}_getCoinConfigs`,nt=this.getCache(et),at=nt?[...nt,...a]:a;this.updateCache(et,at,cacheTime24h)}async getTokenListByCoinTypes(a){const s={},{coin_list_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getCoinConfigs`,at=this.getCache(nt);if(at!==void 0){const wt=at;for(const $t of a)for(const Ct of wt)if(normalizeCoinType$1($t)===normalizeCoinType$1(Ct.address)){s[$t]=Ct;continue}}const mt=a.filter(wt=>s[wt]===void 0);for(const wt of mt){const $t=`${wt}_metadata`,Ct=this.getCache($t);if(Ct!==void 0)s[wt]=Ct;else{const Dt=await this._sdk.fullClient.getCoinMetadata({coinType:wt});if(Dt){const Ft={id:Dt.id,pyth_id:"",name:Dt.name,symbol:Dt.symbol,official_symbol:Dt.symbol,coingecko_id:"",decimals:Dt.decimals,project_url:"",logo_url:Dt.iconUrl,address:wt};s[wt]=Ft,this.updateCache($t,Ft,cacheTime24h)}else console.log(`not found ${wt}`)}}return s}async getCoinConfigs(a=!1,s=!0){const{coin_list_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getCoinConfigs`,at=this.getCache(nt,a);if(at)return at;const wt=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Dt=>Dt.objectId),$t=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}),Ct=[];return $t.forEach(Dt=>{var jt,Ut;if(Dt.error!=null||((Ut=(jt=Dt.data)==null?void 0:jt.content)==null?void 0:Ut.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${Dt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildCoinConfig(Dt,s);this.updateCache(`${et}_${Ft.address}_getCoinConfig`,Ft,cacheTime24h),Ct.push({...Ft})}),this.updateCache(nt,Ct,cacheTime24h),Ct}async getCoinConfig(a,s=!1,et=!0){var Ct,Dt;const{coin_list_handle:nt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${nt}_${a}_getCoinConfig`,mt=this.getCache(at,s);if(mt)return mt;const wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"0x1::type_name::TypeName",value:{name:fixCoinType(a)}}});if(wt.error!=null||((Dt=(Ct=wt.data)==null?void 0:Ct.content)==null?void 0:Dt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfig get object error: ${wt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const $t=this.buildCoinConfig(wt,et);return this.updateCache(at,$t,cacheTime24h),$t}buildCoinConfig(a,s=!0){let et=getObjectFields(a);et=et.value.fields;const nt={...et};return nt.id=getObjectId(a),nt.address=extractStructTagFromType$1(et.coin_type.fields.name).full_address,et.pyth_id&&(nt.pyth_id=normalizeSuiObjectId(et.pyth_id)),this.transformExtensions(nt,et.extension_fields.fields.contents,s),delete nt.coin_type,nt}async getClmmPoolConfigs(a=!1,s=!0){const{clmm_pools_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getClmmPoolConfigs`,at=this.getCache(nt,a);if(at)return at;const wt=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Dt=>Dt.objectId),$t=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}),Ct=[];return $t.forEach(Dt=>{var jt,Ut;if(Dt.error!=null||((Ut=(jt=Dt.data)==null?void 0:jt.content)==null?void 0:Ut.dataType)!=="moveObject")throw new ClmmpoolsError(`when getClmmPoolsConfigs get objects error: ${Dt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildClmmPoolConfig(Dt,s);this.updateCache(`${Ft.pool_address}_getClmmPoolConfig`,Ft,cacheTime24h),Ct.push({...Ft})}),this.updateCache(nt,Ct,cacheTime24h),Ct}async getClmmPoolConfig(a,s=!1,et=!0){const{clmm_pools_handle:nt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${a}_getClmmPoolConfig`,mt=this.getCache(at,s);if(mt)return mt;const wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"address",value:a}}),$t=this.buildClmmPoolConfig(wt,et);return this.updateCache(at,$t,cacheTime24h),$t}buildClmmPoolConfig(a,s=!0){let et=getObjectFields(a);et=et.value.fields;const nt={...et};return nt.id=getObjectId(a),nt.pool_address=normalizeSuiObjectId(et.pool_address),this.transformExtensions(nt,et.extension_fields.fields.contents,s),nt}async getLaunchpadPoolConfigs(a=!1,s=!0){const{launchpad_pools_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getLaunchpadPoolConfigs`,at=this.getCache(nt,a);if(at)return at;const wt=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Dt=>Dt.objectId),$t=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}),Ct=[];return $t.forEach(Dt=>{var jt,Ut;if(Dt.error!=null||((Ut=(jt=Dt.data)==null?void 0:jt.content)==null?void 0:Ut.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${Dt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildLaunchpadPoolConfig(Dt,s);this.updateCache(`${Ft.pool_address}_getLaunchpadPoolConfig`,Ft,cacheTime24h),Ct.push({...Ft})}),this.updateCache(nt,Ct,cacheTime24h),Ct}async getLaunchpadPoolConfig(a,s=!1,et=!0){const{launchpad_pools_handle:nt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${a}_getLaunchpadPoolConfig`,mt=this.getCache(at,s);if(mt)return mt;const wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"address",value:a}}),$t=this.buildLaunchpadPoolConfig(wt,et);return this.updateCache(at,$t,cacheTime24h),$t}buildLaunchpadPoolConfig(a,s=!0){let et=getObjectFields(a);et=et.value.fields;const nt={...et};nt.id=getObjectId(a),nt.pool_address=normalizeSuiObjectId(et.pool_address),this.transformExtensions(nt,et.extension_fields.fields.contents,s);const at=[];et.social_media.fields.contents.forEach(mt=>{at.push({name:mt.fields.value.fields.name,link:mt.fields.value.fields.link})}),nt.social_media=at;try{nt.regulation=decodeURIComponent(gBase64.decode(nt.regulation).replace(/%/g,"%25"))}catch{nt.regulation=gBase64.decode(nt.regulation)}return nt}transformExtensions(a,s,et=!0){const nt=[];for(const at of s){const{key:mt}=at.fields;let{value:wt}=at.fields;if(mt==="labels")try{const $t=decodeURIComponent(gBase64.decode(wt));try{wt=JSON.parse($t)}catch{wt=$t}}catch{}et&&(a[mt]=wt),nt.push({key:mt,value:wt})}delete a.extension_fields,et||(a.extensions=nt)}async getCetusConfig(a=!1){const s=this._sdk.sdkOptions.cetus_config.package_id,et=`${s}_getCetusConfig`,nt=this.getCache(et,a);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:s,options:{showPreviousTransaction:!0}}),mt=getObjectPreviousTransactionDigest(at),wt=await this._sdk.fullClient.queryEventsByPage({Transaction:mt});let $t={coin_list_id:"",launchpad_pools_id:"",clmm_pools_id:"",admin_cap_id:"",global_config_id:"",coin_list_handle:"",launchpad_pools_handle:"",clmm_pools_handle:""};if(wt.data.length>0)for(const Ct of wt.data)switch(extractStructTagFromType$1(Ct.type).name){case"InitCoinListEvent":$t.coin_list_id=Ct.parsedJson.coin_list_id;break;case"InitLaunchpadPoolsEvent":$t.launchpad_pools_id=Ct.parsedJson.launchpad_pools_id;break;case"InitClmmPoolsEvent":$t.clmm_pools_id=Ct.parsedJson.pools_id;break;case"InitConfigEvent":$t.global_config_id=Ct.parsedJson.global_config_id,$t.admin_cap_id=Ct.parsedJson.admin_cap_id;break}return $t=await this.getCetusConfigHandle($t),$t.clmm_pools_id.length>0&&this.updateCache(et,$t,cacheTime24h),$t}async getCetusConfigHandle(a){const s=[a.clmm_pools_id,a.coin_list_id,a.launchpad_pools_id];return(await this._sdk.fullClient.multiGetObjects({ids:s,options:{showContent:!0}})).forEach(nt=>{var wt,$t;if(nt.error!=null||(($t=(wt=nt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCetusConfigHandle get objects error: ${nt.error}, please check the rpc and contracts address config.`,"InvalidConfigHandle");const at=getObjectFields(nt),mt=getObjectType(nt);switch(extractStructTagFromType$1(mt).name){case"ClmmPools":a.clmm_pools_handle=at.pools.fields.id.id;break;case"CoinList":a.coin_list_handle=at.coins.fields.id.id;break;case"LaunchpadPools":a.launchpad_pools_handle=at.pools.fields.id.id;break}}),a}updateCache(a,s,et=cacheTime5min){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){try{const et=this._cache[a];if(!et)return;if(s||!et.isValid()){delete this._cache[a];return}return et.value}catch(et){console.error(`Error accessing cache for key ${a}:`,et);return}}},CetusClmmSDK=class{constructor(a){Yn(this,"_cache",{});Yn(this,"_rpcModule");Yn(this,"_pool");Yn(this,"_position");Yn(this,"_swap");Yn(this,"_rewarder");Yn(this,"_router");Yn(this,"_router_v2");Yn(this,"_token");Yn(this,"_config");Yn(this,"_sdkOptions");Yn(this,"_senderAddress","");this._sdkOptions=a,this._rpcModule=new RpcModule({url:a.fullRpcUrl}),this._swap=new SwapModule(this),this._pool=new PoolModule(this),this._position=new PositionModule(this),this._rewarder=new RewarderModule(this),this._router=new RouterModule(this),this._router_v2=new RouterModuleV2(this),this._token=new TokenModule(this),this._config=new ConfigModule(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a}get Swap(){return this._swap}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Pool(){return this._pool}get Position(){return this._position}get Rewarder(){return this._rewarder}get Router(){return this._router}get RouterV2(){return this._router_v2}get CetusConfig(){return this._config}get Token(){return this._token}async getOwnerCoinAssets(a,s,et=!0){const nt=[];let at=null;const mt=`${this.sdkOptions.fullRpcUrl}_${a}_${s}_getOwnerCoinAssets`,wt=this.getCache(mt,et);if(wt)return wt;for(;;){const $t=await(s?this.fullClient.getCoins({owner:a,coinType:s,cursor:at}):this.fullClient.getAllCoins({owner:a,cursor:at}));if($t.data.forEach(Ct=>{BigInt(Ct.balance)>0&&nt.push({coinAddress:extractStructTagFromType$1(Ct.coinType).source_address,coinObjectId:Ct.coinObjectId,balance:BigInt(Ct.balance)})}),at=$t.nextCursor,!$t.hasNextPage)break}return this.updateCache(mt,nt,30*1e3),nt}async getOwnerCoinBalances(a,s){let et=[];return s?et=[await this.fullClient.getBalance({owner:a,coinType:s})]:et=[...await this.fullClient.getAllBalances({owner:a})],et}updateCache(a,s,et=cacheTime24h){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){const et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}};getFullnodeUrl$1("testnet");var src_default=CetusClmmSDK;function cancelBubble(a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation()}const addressAbridge=(a,s="")=>s=="long"?a&&a.length>40?a.substring(0,40)+"...":a&&a.length<40?a:"":a?a.substring(0,6)+"..."+a.substring(a.length-4):"",sleepTime=async a=>new Promise(s=>{setTimeout(()=>{s(1)},a)});function singleFormat(a){return a.toString().length===1?"0"+a:a}function getYMD(a){const s=a.getFullYear(),et=a.getMonth()+1,nt=a.getDate();return s+"/"+singleFormat(et)+"/"+singleFormat(nt)}function getMD(a){const s=a.getMonth()+1,et=a.getDate();return singleFormat(s)+"/"+singleFormat(et)}function getMDY(a){const s=a.getFullYear(),et=a.getMonth()+1,nt=a.getDate();return singleFormat(et)+"/"+singleFormat(nt)+"/"+new String(s).slice(2,4)}function getHMS(a){const s=a.getHours(),et=a.getMinutes(),nt=a.getSeconds();return singleFormat(s)+":"+singleFormat(et)+":"+singleFormat(nt)}function getHM(a){const s=a.getHours(),et=a.getMinutes();return singleFormat(s)+":"+singleFormat(et)}function getTimeZone(a){const et=new Date(a),nt=et.getTimezoneOffset()+480;return et.setMinutes(et.getMinutes()+nt),et}const timeFormat=(a,s)=>{if(a){const et=getTimeZone(a);switch(s){case"HMS":return getHMS(et);case"MDY":return getMDY(et);case"YMD":return getYMD(et);case"MD":return getMD(et);case"HM":return getHM(et)}}},timeFormatUTC=(a,s)=>{if(a){const et=new Date(a);if(!s)return getYMDUTC(et)+" "+getHMSUTC(et);switch(s){case"HMS":return getHMSUTC(et);case"YMD":return getYMDUTC(et);case"MD":return getMDUTC(et);case"HM":return getHMUTC(et);case"YMDHM":return getYMDUTC(et)+" "+getHMUTC(et);default:return"--"}}};function getYMDUTC(a){const s=a.getUTCFullYear(),et=a.getUTCMonth()+1,nt=a.getUTCDate();return s+"-"+singleFormat(et)+"-"+singleFormat(nt)}function getMDUTC(a){const s=a.getUTCMonth()+1,et=a.getUTCDate();return singleFormat(s)+"/"+singleFormat(et)}function getHMSUTC(a){const s=a.getUTCHours(),et=a.getUTCMinutes(),nt=a.getUTCSeconds();return singleFormat(s)+":"+singleFormat(et)+":"+singleFormat(nt)}function getHMUTC(a){const s=a.getUTCHours(),et=a.getUTCMinutes();return singleFormat(s)+":"+singleFormat(et)}const getTimeDifferenceString=a=>{const s=Math.floor(a/1e3),et=Math.floor(new Date().getTime()/1e3),nt=60,at=60*nt,mt=24*at,wt=30*mt,$t=365*mt,Ct=et-s;if(Ct<nt)return"recently";if(Ct<at){const Dt=Math.floor(Ct/nt);return Dt==1?`${Dt} minute ago`:`${Dt} minutes ago`}else if(Ct<mt){const Dt=Math.floor(Ct/at);return Dt==1?`${Dt} hour ago`:`${Dt} hours ago`}else if(Ct<wt){const Dt=Math.floor(Ct/mt);return Dt==1?`${Dt} day ago`:`${Dt} days ago`}else if(Ct<$t){const Dt=Math.floor(Ct/wt);return Dt==1?`${Dt} mouth ago`:`${Dt} mouths ago`}else{const Dt=Math.floor(Ct/$t);return Dt==1?`${Dt} year ago`:`${Dt} years ago`}};function amountToBN(a,s){if(s===void 0)return new BN(0);if(a===""||d$1(a).equals(0))return new BN(0);const et=d$1(a).mul(Math.pow(10,s)).toString();if(d$1(et).gte(1))return new BN(et);throw Error("amountToBN value lt 1")}function bnToAmount(a,s){return s===void 0?"":d$1(a==null?void 0:a.toString()).div(Math.pow(10,s)).toString()}function parseOwnerBalanceChanges(a,s,et=!1){var $t;const nt=a.balanceChanges,at=($t=a.effects)==null?void 0:$t.gasUsed,mt={};let wt="0";return at&&(wt=d$1(at.computationCost).add(at.storageCost).sub(at.storageRebate).mul(-1).toFixed(0)),nt&&nt.forEach(Ct=>{const Dt=extractStructTagFromType$1(Ct.coinType).full_address;if(Ct.owner.AddressOwner===s){const Ft=CoinAssist.isSuiCoin(Dt);let jt=Ct.amount;Ft&&(jt=et?jt:d$1(jt).sub(wt).toFixed(0));const Ut={coinType:Dt,amount:jt};mt[Dt]=Ut}}),mt}function getBalanceChanges(a,s){if(s){const et=a[extractStructTagFromType$1(s.coin_type).full_address];if(et)return fromDecimalsAmountFix(d$1(et.amount).abs().toFixed(0),s.decimals)}}function coinMetadataToCoinInfo(a,s){return{id:a.id||void 0,logo_url:a.iconUrl||void 0,coin_type:s,decimals:a.decimals,description:a.description,name:a.name,symbol:a.symbol}}function parsePositionIdFromEvent(a){var mt,wt;let s,et;const nt=(mt=a.events)==null?void 0:mt.find($t=>$t.type.includes("pool::OpenPositionEvent"));nt&&(s=nt.parsedJson.position);const at=(wt=a.events)==null?void 0:wt.find($t=>$t.type.includes("pool::DepositEvent"));return at&&(et=at.parsedJson.wrapped_position_id),{posId:s,farmsPosId:et}}const isHexColor=a=>/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/i.test(a),isRgbColor=a=>/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/.test(a),isRgbaColor=a=>/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(a),isColorValue=a=>isHexColor(a)||isRgbColor(a)||isRgbaColor(a),isAvailableObject=a=>!!a&&Object.keys(a).length>0,removeComma=a=>(a+"").replace(/,/g,"");function base64ToUint8Array(a){const s=Buffer$1.from(a,"base64").toString("binary"),et=new Uint8Array(s.length);for(let nt=0;nt<s.length;nt++)et[nt]=s.charCodeAt(nt);return et}Decimal$1.config({precision:256,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-256,toExpPos:256});var dayjs_min={exports:{}};(function(a,s){(function(et,nt){a.exports=nt()})(commonjsGlobal$1,function(){var et=1e3,nt=6e4,at=36e5,mt="millisecond",wt="second",$t="minute",Ct="hour",Dt="day",Ft="week",jt="month",Ut="quarter",tr="year",ir="date",sr="Invalid Date",ur=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,fr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,dr={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(er){var Yt=["th","st","nd","rd"],rr=er%100;return"["+er+(Yt[(rr-20)%10]||Yt[rr]||Yt[0])+"]"}},hr=function(er,Yt,rr){var ar=String(er);return!ar||ar.length>=Yt?er:""+Array(Yt+1-ar.length).join(rr)+er},vr={s:hr,z:function(er){var Yt=-er.utcOffset(),rr=Math.abs(Yt),ar=Math.floor(rr/60),lr=rr%60;return(Yt<=0?"+":"-")+hr(ar,2,"0")+":"+hr(lr,2,"0")},m:function er(Yt,rr){if(Yt.date()<rr.date())return-er(rr,Yt);var ar=12*(rr.year()-Yt.year())+(rr.month()-Yt.month()),lr=Yt.clone().add(ar,jt),nr=rr-lr<0,Lt=Yt.clone().add(ar+(nr?-1:1),jt);return+(-(ar+(rr-lr)/(nr?lr-Lt:Lt-lr))||0)},a:function(er){return er<0?Math.ceil(er)||0:Math.floor(er)},p:function(er){return{M:jt,y:tr,w:Ft,d:Dt,D:ir,h:Ct,m:$t,s:wt,ms:mt,Q:Ut}[er]||String(er||"").toLowerCase().replace(/s$/,"")},u:function(er){return er===void 0}},yr="en",xr={};xr[yr]=dr;var br="$isDayjsObject",wr=function(er){return er instanceof Nt||!(!er||!er[br])},Sr=function er(Yt,rr,ar){var lr;if(!Yt)return yr;if(typeof Yt=="string"){var nr=Yt.toLowerCase();xr[nr]&&(lr=nr),rr&&(xr[nr]=rr,lr=nr);var Lt=Yt.split("-");if(!lr&&Lt.length>1)return er(Lt[0])}else{var or=Yt.name;xr[or]=Yt,lr=or}return!ar&&lr&&(yr=lr),lr||!ar&&yr},Cr=function(er,Yt){if(wr(er))return er.clone();var rr=typeof Yt=="object"?Yt:{};return rr.date=er,rr.args=arguments,new Nt(rr)},cr=vr;cr.l=Sr,cr.i=wr,cr.w=function(er,Yt){return Cr(er,{locale:Yt.$L,utc:Yt.$u,x:Yt.$x,$offset:Yt.$offset})};var Nt=function(){function er(rr){this.$L=Sr(rr.locale,null,!0),this.parse(rr),this.$x=this.$x||rr.x||{},this[br]=!0}var Yt=er.prototype;return Yt.parse=function(rr){this.$d=function(ar){var lr=ar.date,nr=ar.utc;if(lr===null)return new Date(NaN);if(cr.u(lr))return new Date;if(lr instanceof Date)return new Date(lr);if(typeof lr=="string"&&!/Z$/i.test(lr)){var Lt=lr.match(ur);if(Lt){var or=Lt[2]-1||0,gr=(Lt[7]||"0").substring(0,3);return nr?new Date(Date.UTC(Lt[1],or,Lt[3]||1,Lt[4]||0,Lt[5]||0,Lt[6]||0,gr)):new Date(Lt[1],or,Lt[3]||1,Lt[4]||0,Lt[5]||0,Lt[6]||0,gr)}}return new Date(lr)}(rr),this.init()},Yt.init=function(){var rr=this.$d;this.$y=rr.getFullYear(),this.$M=rr.getMonth(),this.$D=rr.getDate(),this.$W=rr.getDay(),this.$H=rr.getHours(),this.$m=rr.getMinutes(),this.$s=rr.getSeconds(),this.$ms=rr.getMilliseconds()},Yt.$utils=function(){return cr},Yt.isValid=function(){return this.$d.toString()!==sr},Yt.isSame=function(rr,ar){var lr=Cr(rr);return this.startOf(ar)<=lr&&lr<=this.endOf(ar)},Yt.isAfter=function(rr,ar){return Cr(rr)<this.startOf(ar)},Yt.isBefore=function(rr,ar){return this.endOf(ar)<Cr(rr)},Yt.$g=function(rr,ar,lr){return cr.u(rr)?this[ar]:this.set(lr,rr)},Yt.unix=function(){return Math.floor(this.valueOf()/1e3)},Yt.valueOf=function(){return this.$d.getTime()},Yt.startOf=function(rr,ar){var lr=this,nr=!!cr.u(ar)||ar,Lt=cr.p(rr),or=function(Fr,Tr){var Rr=cr.w(lr.$u?Date.UTC(lr.$y,Tr,Fr):new Date(lr.$y,Tr,Fr),lr);return nr?Rr:Rr.endOf(Dt)},gr=function(Fr,Tr){return cr.w(lr.toDate()[Fr].apply(lr.toDate("s"),(nr?[0,0,0,0]:[23,59,59,999]).slice(Tr)),lr)},pr=this.$W,_r=this.$M,kr=this.$D,Mr="set"+(this.$u?"UTC":"");switch(Lt){case tr:return nr?or(1,0):or(31,11);case jt:return nr?or(1,_r):or(0,_r+1);case Ft:var $r=this.$locale().weekStart||0,Pr=(pr<$r?pr+7:pr)-$r;return or(nr?kr-Pr:kr+(6-Pr),_r);case Dt:case ir:return gr(Mr+"Hours",0);case Ct:return gr(Mr+"Minutes",1);case $t:return gr(Mr+"Seconds",2);case wt:return gr(Mr+"Milliseconds",3);default:return this.clone()}},Yt.endOf=function(rr){return this.startOf(rr,!1)},Yt.$set=function(rr,ar){var lr,nr=cr.p(rr),Lt="set"+(this.$u?"UTC":""),or=(lr={},lr[Dt]=Lt+"Date",lr[ir]=Lt+"Date",lr[jt]=Lt+"Month",lr[tr]=Lt+"FullYear",lr[Ct]=Lt+"Hours",lr[$t]=Lt+"Minutes",lr[wt]=Lt+"Seconds",lr[mt]=Lt+"Milliseconds",lr)[nr],gr=nr===Dt?this.$D+(ar-this.$W):ar;if(nr===jt||nr===tr){var pr=this.clone().set(ir,1);pr.$d[or](gr),pr.init(),this.$d=pr.set(ir,Math.min(this.$D,pr.daysInMonth())).$d}else or&&this.$d[or](gr);return this.init(),this},Yt.set=function(rr,ar){return this.clone().$set(rr,ar)},Yt.get=function(rr){return this[cr.p(rr)]()},Yt.add=function(rr,ar){var lr,nr=this;rr=Number(rr);var Lt=cr.p(ar),or=function(_r){var kr=Cr(nr);return cr.w(kr.date(kr.date()+Math.round(_r*rr)),nr)};if(Lt===jt)return this.set(jt,this.$M+rr);if(Lt===tr)return this.set(tr,this.$y+rr);if(Lt===Dt)return or(1);if(Lt===Ft)return or(7);var gr=(lr={},lr[$t]=nt,lr[Ct]=at,lr[wt]=et,lr)[Lt]||1,pr=this.$d.getTime()+rr*gr;return cr.w(pr,this)},Yt.subtract=function(rr,ar){return this.add(-1*rr,ar)},Yt.format=function(rr){var ar=this,lr=this.$locale();if(!this.isValid())return lr.invalidDate||sr;var nr=rr||"YYYY-MM-DDTHH:mm:ssZ",Lt=cr.z(this),or=this.$H,gr=this.$m,pr=this.$M,_r=lr.weekdays,kr=lr.months,Mr=lr.meridiem,$r=function(Tr,Rr,Er,Or){return Tr&&(Tr[Rr]||Tr(ar,nr))||Er[Rr].slice(0,Or)},Pr=function(Tr){return cr.s(or%12||12,Tr,"0")},Fr=Mr||function(Tr,Rr,Er){var Or=Tr<12?"AM":"PM";return Er?Or.toLowerCase():Or};return nr.replace(fr,function(Tr,Rr){return Rr||function(Er){switch(Er){case"YY":return String(ar.$y).slice(-2);case"YYYY":return cr.s(ar.$y,4,"0");case"M":return pr+1;case"MM":return cr.s(pr+1,2,"0");case"MMM":return $r(lr.monthsShort,pr,kr,3);case"MMMM":return $r(kr,pr);case"D":return ar.$D;case"DD":return cr.s(ar.$D,2,"0");case"d":return String(ar.$W);case"dd":return $r(lr.weekdaysMin,ar.$W,_r,2);case"ddd":return $r(lr.weekdaysShort,ar.$W,_r,3);case"dddd":return _r[ar.$W];case"H":return String(or);case"HH":return cr.s(or,2,"0");case"h":return Pr(1);case"hh":return Pr(2);case"a":return Fr(or,gr,!0);case"A":return Fr(or,gr,!1);case"m":return String(gr);case"mm":return cr.s(gr,2,"0");case"s":return String(ar.$s);case"ss":return cr.s(ar.$s,2,"0");case"SSS":return cr.s(ar.$ms,3,"0");case"Z":return Lt}return null}(Tr)||Lt.replace(":","")})},Yt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Yt.diff=function(rr,ar,lr){var nr,Lt=this,or=cr.p(ar),gr=Cr(rr),pr=(gr.utcOffset()-this.utcOffset())*nt,_r=this-gr,kr=function(){return cr.m(Lt,gr)};switch(or){case tr:nr=kr()/12;break;case jt:nr=kr();break;case Ut:nr=kr()/3;break;case Ft:nr=(_r-pr)/6048e5;break;case Dt:nr=(_r-pr)/864e5;break;case Ct:nr=_r/at;break;case $t:nr=_r/nt;break;case wt:nr=_r/et;break;default:nr=_r}return lr?nr:cr.a(nr)},Yt.daysInMonth=function(){return this.endOf(jt).$D},Yt.$locale=function(){return xr[this.$L]},Yt.locale=function(rr,ar){if(!rr)return this.$L;var lr=this.clone(),nr=Sr(rr,ar,!0);return nr&&(lr.$L=nr),lr},Yt.clone=function(){return cr.w(this.$d,this)},Yt.toDate=function(){return new Date(this.valueOf())},Yt.toJSON=function(){return this.isValid()?this.toISOString():null},Yt.toISOString=function(){return this.$d.toISOString()},Yt.toString=function(){return this.$d.toUTCString()},er}(),Vt=Nt.prototype;return Cr.prototype=Vt,[["$ms",mt],["$s",wt],["$m",$t],["$H",Ct],["$W",Dt],["$M",jt],["$y",tr],["$D",ir]].forEach(function(er){Vt[er[1]]=function(Yt){return this.$g(Yt,er[0],er[1])}}),Cr.extend=function(er,Yt){return er.$i||(er(Yt,Nt,Cr),er.$i=!0),Cr},Cr.locale=Sr,Cr.isDayjs=wr,Cr.unix=function(er){return Cr(1e3*er)},Cr.en=xr[yr],Cr.Ls=xr,Cr.p={},Cr})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs$2(dayjs_minExports);var duration$1={exports:{}};(function(a,s){(function(et,nt){a.exports=nt()})(commonjsGlobal$1,function(){var et,nt,at=1e3,mt=6e4,wt=36e5,$t=864e5,Ct=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Dt=31536e6,Ft=2628e6,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,Ut={years:Dt,months:Ft,days:$t,hours:wt,minutes:mt,seconds:at,milliseconds:1,weeks:6048e5},tr=function(xr){return xr instanceof vr},ir=function(xr,br,wr){return new vr(xr,wr,br.$l)},sr=function(xr){return nt.p(xr)+"s"},ur=function(xr){return xr<0},fr=function(xr){return ur(xr)?Math.ceil(xr):Math.floor(xr)},dr=function(xr){return Math.abs(xr)},hr=function(xr,br){return xr?ur(xr)?{negative:!0,format:""+dr(xr)+br}:{negative:!1,format:""+xr+br}:{negative:!1,format:""}},vr=function(){function xr(wr,Sr,Cr){var cr=this;if(this.$d={},this.$l=Cr,wr===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Sr)return ir(wr*Ut[sr(Sr)],this);if(typeof wr=="number")return this.$ms=wr,this.parseFromMilliseconds(),this;if(typeof wr=="object")return Object.keys(wr).forEach(function(er){cr.$d[sr(er)]=wr[er]}),this.calMilliseconds(),this;if(typeof wr=="string"){var Nt=wr.match(jt);if(Nt){var Vt=Nt.slice(2).map(function(er){return er!=null?Number(er):0});return this.$d.years=Vt[0],this.$d.months=Vt[1],this.$d.weeks=Vt[2],this.$d.days=Vt[3],this.$d.hours=Vt[4],this.$d.minutes=Vt[5],this.$d.seconds=Vt[6],this.calMilliseconds(),this}}return this}var br=xr.prototype;return br.calMilliseconds=function(){var wr=this;this.$ms=Object.keys(this.$d).reduce(function(Sr,Cr){return Sr+(wr.$d[Cr]||0)*Ut[Cr]},0)},br.parseFromMilliseconds=function(){var wr=this.$ms;this.$d.years=fr(wr/Dt),wr%=Dt,this.$d.months=fr(wr/Ft),wr%=Ft,this.$d.days=fr(wr/$t),wr%=$t,this.$d.hours=fr(wr/wt),wr%=wt,this.$d.minutes=fr(wr/mt),wr%=mt,this.$d.seconds=fr(wr/at),wr%=at,this.$d.milliseconds=wr},br.toISOString=function(){var wr=hr(this.$d.years,"Y"),Sr=hr(this.$d.months,"M"),Cr=+this.$d.days||0;this.$d.weeks&&(Cr+=7*this.$d.weeks);var cr=hr(Cr,"D"),Nt=hr(this.$d.hours,"H"),Vt=hr(this.$d.minutes,"M"),er=this.$d.seconds||0;this.$d.milliseconds&&(er+=this.$d.milliseconds/1e3,er=Math.round(1e3*er)/1e3);var Yt=hr(er,"S"),rr=wr.negative||Sr.negative||cr.negative||Nt.negative||Vt.negative||Yt.negative,ar=Nt.format||Vt.format||Yt.format?"T":"",lr=(rr?"-":"")+"P"+wr.format+Sr.format+cr.format+ar+Nt.format+Vt.format+Yt.format;return lr==="P"||lr==="-P"?"P0D":lr},br.toJSON=function(){return this.toISOString()},br.format=function(wr){var Sr=wr||"YYYY-MM-DDTHH:mm:ss",Cr={Y:this.$d.years,YY:nt.s(this.$d.years,2,"0"),YYYY:nt.s(this.$d.years,4,"0"),M:this.$d.months,MM:nt.s(this.$d.months,2,"0"),D:this.$d.days,DD:nt.s(this.$d.days,2,"0"),H:this.$d.hours,HH:nt.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:nt.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:nt.s(this.$d.seconds,2,"0"),SSS:nt.s(this.$d.milliseconds,3,"0")};return Sr.replace(Ct,function(cr,Nt){return Nt||String(Cr[cr])})},br.as=function(wr){return this.$ms/Ut[sr(wr)]},br.get=function(wr){var Sr=this.$ms,Cr=sr(wr);return Cr==="milliseconds"?Sr%=1e3:Sr=Cr==="weeks"?fr(Sr/Ut[Cr]):this.$d[Cr],Sr||0},br.add=function(wr,Sr,Cr){var cr;return cr=Sr?wr*Ut[sr(Sr)]:tr(wr)?wr.$ms:ir(wr,this).$ms,ir(this.$ms+cr*(Cr?-1:1),this)},br.subtract=function(wr,Sr){return this.add(wr,Sr,!0)},br.locale=function(wr){var Sr=this.clone();return Sr.$l=wr,Sr},br.clone=function(){return ir(this.$ms,this)},br.humanize=function(wr){return et().add(this.$ms,"ms").locale(this.$l).fromNow(!wr)},br.valueOf=function(){return this.asMilliseconds()},br.milliseconds=function(){return this.get("milliseconds")},br.asMilliseconds=function(){return this.as("milliseconds")},br.seconds=function(){return this.get("seconds")},br.asSeconds=function(){return this.as("seconds")},br.minutes=function(){return this.get("minutes")},br.asMinutes=function(){return this.as("minutes")},br.hours=function(){return this.get("hours")},br.asHours=function(){return this.as("hours")},br.days=function(){return this.get("days")},br.asDays=function(){return this.as("days")},br.weeks=function(){return this.get("weeks")},br.asWeeks=function(){return this.as("weeks")},br.months=function(){return this.get("months")},br.asMonths=function(){return this.as("months")},br.years=function(){return this.get("years")},br.asYears=function(){return this.as("years")},xr}(),yr=function(xr,br,wr){return xr.add(br.years()*wr,"y").add(br.months()*wr,"M").add(br.days()*wr,"d").add(br.hours()*wr,"h").add(br.minutes()*wr,"m").add(br.seconds()*wr,"s").add(br.milliseconds()*wr,"ms")};return function(xr,br,wr){et=wr,nt=wr().$utils(),wr.duration=function(cr,Nt){var Vt=wr.locale();return ir(cr,{$l:Vt},Nt)},wr.isDuration=tr;var Sr=br.prototype.add,Cr=br.prototype.subtract;br.prototype.add=function(cr,Nt){return tr(cr)?yr(this,cr,1):Sr.bind(this)(cr,Nt)},br.prototype.subtract=function(cr,Nt){return tr(cr)?yr(this,cr,-1):Cr.bind(this)(cr,Nt)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs$2(durationExports);var relativeTime$1={exports:{}};(function(a,s){(function(et,nt){a.exports=nt()})(commonjsGlobal$1,function(){return function(et,nt,at){et=et||{};var mt=nt.prototype,wt={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $t(Dt,Ft,jt,Ut){return mt.fromToBase(Dt,Ft,jt,Ut)}at.en.relativeTime=wt,mt.fromToBase=function(Dt,Ft,jt,Ut,tr){for(var ir,sr,ur,fr=jt.$locale().relativeTime||wt,dr=et.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],hr=dr.length,vr=0;vr<hr;vr+=1){var yr=dr[vr];yr.d&&(ir=Ut?at(Dt).diff(jt,yr.d,!0):jt.diff(Dt,yr.d,!0));var xr=(et.rounding||Math.round)(Math.abs(ir));if(ur=ir>0,xr<=yr.r||!yr.r){xr<=1&&vr>0&&(yr=dr[vr-1]);var br=fr[yr.l];tr&&(xr=tr(""+xr)),sr=typeof br=="string"?br.replace("%d",xr):br(xr,Ft,yr.l,ur);break}}if(Ft)return sr;var wr=ur?fr.future:fr.past;return typeof wr=="function"?wr(sr):wr.replace("%s",sr)},mt.to=function(Dt,Ft){return $t(Dt,Ft,this,!0)},mt.from=function(Dt,Ft){return $t(Dt,Ft,this)};var Ct=function(Dt){return Dt.$u?at.utc():at()};mt.toNow=function(Dt){return this.to(Ct(this),Dt)},mt.fromNow=function(Dt){return this.from(Ct(this),Dt)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs$2(relativeTimeExports);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var enUS,hasRequiredEnUS;function requireEnUS(){return hasRequiredEnUS||(hasRequiredEnUS=1,enUS={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(a){let s=a%10;return~~(a%100/10)===1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),enUS}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var unformatting,hasRequiredUnformatting;function requireUnformatting(){if(hasRequiredUnformatting)return unformatting;hasRequiredUnformatting=1;const a=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function s(Ct){return Ct.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(Ct,Dt,Ft,jt,Ut,tr,ir){if(!isNaN(+Ct))return+Ct;let sr="",ur=Ct.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(ur!==Ct)return-1*et(ur,Dt,Ft,jt,Ut,tr);for(let xr=0;xr<a.length;xr++){let br=a[xr];if(sr=Ct.replace(RegExp(`([0-9 ])(${br.key})$`),"$1"),sr!==Ct)return et(sr,Dt,Ft,jt,Ut,tr)*br.factor}if(sr=Ct.replace("%",""),sr!==Ct)return et(sr,Dt,Ft,jt,Ut,tr)/100;let fr=parseFloat(Ct);if(isNaN(fr))return;let dr=jt(fr);if(dr&&dr!=="."&&(sr=Ct.replace(new RegExp(`${s(dr)}$`),""),sr!==Ct))return et(sr,Dt,Ft,jt,Ut,tr);let hr={};Object.keys(tr).forEach(xr=>{hr[tr[xr]]=xr});let vr=Object.keys(hr).sort().reverse(),yr=vr.length;for(let xr=0;xr<yr;xr++){let br=vr[xr],wr=hr[br];if(sr=Ct.replace(br,""),sr!==Ct){let Sr;switch(wr){case"thousand":Sr=Math.pow(10,3);break;case"million":Sr=Math.pow(10,6);break;case"billion":Sr=Math.pow(10,9);break;case"trillion":Sr=Math.pow(10,12);break}return et(sr,Dt,Ft,jt,Ut,tr)*Sr}}}function nt(Ct,Dt,Ft){let jt=Ct.replace(Ft,"");return jt=jt.replace(new RegExp(`([0-9])${s(Dt.thousands)}([0-9])`,"g"),"$1$2"),jt=jt.replace(Dt.decimal,"."),jt}function at(Ct,Dt,Ft="",jt,Ut,tr,ir){if(Ct==="")return;if(Ct===Ut)return 0;let sr=nt(Ct,Dt,Ft);return et(sr,Dt,Ft,jt,Ut,tr)}function mt(Ct,Dt){if(!(Ct.indexOf(":")&&Dt.thousands!==":"))return!1;let jt=Ct.split(":");if(jt.length!==3)return!1;let Ut=+jt[0],tr=+jt[1],ir=+jt[2];return!isNaN(Ut)&&!isNaN(tr)&&!isNaN(ir)}function wt(Ct){let Dt=Ct.split(":"),Ft=+Dt[0],jt=+Dt[1];return+Dt[2]+60*jt+3600*Ft}function $t(Ct,Dt){const Ft=requireGlobalState();let jt=Ft.currentDelimiters(),Ut=Ft.currentCurrency().symbol,tr=Ft.currentOrdinal(),ir=Ft.getZeroFormat(),sr=Ft.currentAbbreviations(),ur;if(typeof Ct=="string")mt(Ct,jt)?ur=wt(Ct):ur=at(Ct,jt,Ut,tr,ir,sr);else if(typeof Ct=="number")ur=Ct;else return;if(ur!==void 0)return ur}return unformatting={unformat:$t},unformatting}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var validating$1,hasRequiredValidating;function requireValidating(){if(hasRequiredValidating)return validating$1;hasRequiredValidating=1;let a=requireUnformatting();const s=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,et=["currency","percent","byte","time","ordinal","number"],nt=["trillion","billion","million","thousand"],at=["prefix","infix","postfix"],mt=["sign","parenthesis"],wt={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},Dt={output:{type:"string",validValues:et},base:{type:"string",validValues:["decimal","binary","general"],restriction:(ur,fr)=>fr.output==="byte",message:"`base` must be provided only when the output is `byte`",mandatory:ur=>ur.output==="byte"},characteristic:{type:"number",restriction:ur=>ur>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:nt},average:"boolean",lowPrecision:{type:"boolean",restriction:(ur,fr)=>fr.average===!0,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:at},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:ur=>ur>=0,message:"value must be positive"},{restriction:(ur,fr)=>!fr.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:ur=>ur>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:mt},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(ur,fr)=>fr.output==="percent",message:"`prefixSymbol` can be provided only when the output is `percent`"}},Ft={languageTag:{type:"string",mandatory:!0,restriction:ur=>ur.match(s),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:wt,spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function jt(ur,fr){let dr=Ut(ur),hr=ir(fr);return dr&&hr}function Ut(ur){return a.unformat(ur)!==void 0}function tr(ur,fr,dr,hr=!1){let vr=Object.keys(ur).map(yr=>{if(!fr[yr])return console.error(`${dr} Invalid key: ${yr}`),!1;let xr=ur[yr],br=fr[yr];if(typeof br=="string"&&(br={type:br}),br.type==="format"){if(!tr(xr,Dt,`[Validate ${yr}]`,!0))return!1}else if(typeof xr!==br.type)return console.error(`${dr} ${yr} type mismatched: "${br.type}" expected, "${typeof xr}" provided`),!1;if(br.restrictions&&br.restrictions.length){let wr=br.restrictions.length;for(let Sr=0;Sr<wr;Sr++){let{restriction:Cr,message:cr}=br.restrictions[Sr];if(!Cr(xr,ur))return console.error(`${dr} ${yr} invalid value: ${cr}`),!1}}return br.restriction&&!br.restriction(xr,ur)?(console.error(`${dr} ${yr} invalid value: ${br.message}`),!1):br.validValues&&br.validValues.indexOf(xr)===-1?(console.error(`${dr} ${yr} invalid value: must be among ${JSON.stringify(br.validValues)}, "${xr}" provided`),!1):!(br.children&&!tr(xr,br.children,`[Validate ${yr}]`))});return hr||vr.push(...Object.keys(fr).map(yr=>{let xr=fr[yr];if(typeof xr=="string"&&(xr={type:xr}),xr.mandatory){let br=xr.mandatory;if(typeof br=="function"&&(br=br(ur)),br&&ur[yr]===void 0)return console.error(`${dr} Missing mandatory key "${yr}"`),!1}return!0})),vr.reduce((yr,xr)=>yr&&xr,!0)}function ir(ur){return tr(ur,Dt,"[Validate format]")}function sr(ur){return tr(ur,Ft,"[Validate language]")}return validating$1={validate:jt,validateFormat:ir,validateInput:Ut,validateLanguage:sr},validating$1}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function parsePrefix(a,s){let et=a.match(/^{([^}]*)}/);return et?(s.prefix=et[1],a.slice(et[0].length)):a}function parsePostfix(a,s){let et=a.match(/{([^}]*)}$/);return et?(s.postfix=et[1],a.slice(0,-et[0].length)):a}function parseOutput(a,s){if(a.indexOf("$")!==-1){s.output="currency";return}if(a.indexOf("%")!==-1){s.output="percent";return}if(a.indexOf("bd")!==-1){s.output="byte",s.base="general";return}if(a.indexOf("b")!==-1){s.output="byte",s.base="binary";return}if(a.indexOf("d")!==-1){s.output="byte",s.base="decimal";return}if(a.indexOf(":")!==-1){s.output="time";return}a.indexOf("o")!==-1&&(s.output="ordinal")}function parseThousandSeparated(a,s){a.indexOf(",")!==-1&&(s.thousandSeparated=!0)}function parseSpaceSeparated(a,s){a.indexOf(" ")!==-1&&(s.spaceSeparated=!0,s.spaceSeparatedCurrency=!0,(s.average||s.forceAverage)&&(s.spaceSeparatedAbbreviation=!0))}function parseTotalLength(a,s){let et=a.match(/[1-9]+[0-9]*/);et&&(s.totalLength=+et[0])}function parseCharacteristic(a,s){let nt=a.split(".")[0].match(/0+/);nt&&(s.characteristic=nt[0].length)}function parseMantissa(a,s){let et=a.split(".")[1];if(et){let nt=et.match(/0+/);nt&&(s.mantissa=nt[0].length)}}function parseTrimMantissa(a,s){const et=a.split(".")[1];et&&(s.trimMantissa=et.indexOf("[")!==-1)}function parseAverage(a,s){a.indexOf("a")!==-1&&(s.average=!0)}function parseForceAverage(a,s){a.indexOf("K")!==-1?s.forceAverage="thousand":a.indexOf("M")!==-1?s.forceAverage="million":a.indexOf("B")!==-1?s.forceAverage="billion":a.indexOf("T")!==-1&&(s.forceAverage="trillion")}function parseOptionalMantissa(a,s){a.match(/\[\.]/)?s.optionalMantissa=!0:a.match(/\./)&&(s.optionalMantissa=!1)}function parseOptionalCharacteristic(a,s){if(a.indexOf(".")!==-1){let et=a.split(".")[0];s.optionalCharacteristic=et.indexOf("0")===-1}}function parseNegative(a,s){a.match(/^\+?\([^)]*\)$/)&&(s.negative="parenthesis"),a.match(/^\+?-/)&&(s.negative="sign")}function parseForceSign(a,s){a.match(/^\+/)&&(s.forceSign=!0)}function parseFormat(a,s={}){return typeof a!="string"?a:(a=parsePrefix(a,s),a=parsePostfix(a,s),parseOutput(a,s),parseTotalLength(a,s),parseCharacteristic(a,s),parseOptionalCharacteristic(a,s),parseAverage(a,s),parseForceAverage(a,s),parseMantissa(a,s),parseOptionalMantissa(a,s),parseTrimMantissa(a,s),parseThousandSeparated(a,s),parseSpaceSeparated(a,s),parseNegative(a,s),parseForceSign(a,s),s)}var parsing$2={parseFormat};/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var globalState$2,hasRequiredGlobalState;function requireGlobalState(){if(hasRequiredGlobalState)return globalState$2;hasRequiredGlobalState=1;const a=requireEnUS(),s=requireValidating(),et=parsing$2;let nt={},at,mt={},wt=null,$t={};function Ct(Ft){at=Ft}function Dt(){return mt[at]}return nt.languages=()=>Object.assign({},mt),nt.currentLanguage=()=>at,nt.currentBytes=()=>Dt().bytes||{},nt.currentCurrency=()=>Dt().currency,nt.currentAbbreviations=()=>Dt().abbreviations,nt.currentDelimiters=()=>Dt().delimiters,nt.currentOrdinal=()=>Dt().ordinal,nt.currentDefaults=()=>Object.assign({},Dt().defaults,$t),nt.currentOrdinalDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().ordinalFormat),nt.currentByteDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().byteFormat),nt.currentPercentageDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().percentageFormat),nt.currentCurrencyDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().currencyFormat),nt.currentTimeDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().timeFormat),nt.setDefaults=Ft=>{Ft=et.parseFormat(Ft),s.validateFormat(Ft)&&($t=Ft)},nt.getZeroFormat=()=>wt,nt.setZeroFormat=Ft=>wt=typeof Ft=="string"?Ft:null,nt.hasZeroFormat=()=>wt!==null,nt.languageData=Ft=>{if(Ft){if(mt[Ft])return mt[Ft];throw new Error(`Unknown tag "${Ft}"`)}return Dt()},nt.registerLanguage=(Ft,jt=!1)=>{if(!s.validateLanguage(Ft))throw new Error("Invalid language data");mt[Ft.languageTag]=Ft,jt&&Ct(Ft.languageTag)},nt.setLanguage=(Ft,jt=a.languageTag)=>{if(!mt[Ft]){let Ut=Ft.split("-")[0],tr=Object.keys(mt).find(ir=>ir.split("-")[0]===Ut);if(!mt[tr]){Ct(jt);return}Ct(tr);return}Ct(Ft)},nt.registerLanguage(a),at=a.languageTag,globalState$2=nt,globalState$2}function commonjsRequire$1(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function loadLanguagesInNode(a,s){a.forEach(et=>{let nt;try{nt=commonjsRequire$1(`../languages/${et}`)}catch{console.error(`Unable to load "${et}". No matching language file found.`)}nt&&s.registerLanguage(nt)})}var loading=a=>({loadLanguagesInNode:s=>loadLanguagesInNode(s,a)}),bignumber={exports:{}};(function(a){(function(s){var et,nt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,at=Math.ceil,mt=Math.floor,wt="[BigNumber Error] ",$t=wt+"Number primitive has more than 15 significant digits: ",Ct=1e14,Dt=14,Ft=9007199254740991,jt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ut=1e7,tr=1e9;function ir(xr){var br,wr,Sr,Cr=_r.prototype={constructor:_r,toString:null,valueOf:null},cr=new _r(1),Nt=20,Vt=4,er=-7,Yt=21,rr=-1e7,ar=1e7,lr=!1,nr=1,Lt=0,or={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},gr="0123456789abcdefghijklmnopqrstuvwxyz",pr=!0;function _r(Tr,Rr){var Er,Or,Wr,qr,Vr,Ur,Lr,Br,Xr=this;if(!(Xr instanceof _r))return new _r(Tr,Rr);if(Rr==null){if(Tr&&Tr._isBigNumber===!0){Xr.s=Tr.s,!Tr.c||Tr.e>ar?Xr.c=Xr.e=null:Tr.e<rr?Xr.c=[Xr.e=0]:(Xr.e=Tr.e,Xr.c=Tr.c.slice());return}if((Ur=typeof Tr=="number")&&Tr*0==0){if(Xr.s=1/Tr<0?(Tr=-Tr,-1):1,Tr===~~Tr){for(qr=0,Vr=Tr;Vr>=10;Vr/=10,qr++);qr>ar?Xr.c=Xr.e=null:(Xr.e=qr,Xr.c=[Tr]);return}Br=String(Tr)}else{if(!nt.test(Br=String(Tr)))return Sr(Xr,Br,Ur);Xr.s=Br.charCodeAt(0)==45?(Br=Br.slice(1),-1):1}(qr=Br.indexOf("."))>-1&&(Br=Br.replace(".","")),(Vr=Br.search(/e/i))>0?(qr<0&&(qr=Vr),qr+=+Br.slice(Vr+1),Br=Br.substring(0,Vr)):qr<0&&(qr=Br.length)}else{if(dr(Rr,2,gr.length,"Base"),Rr==10&&pr)return Xr=new _r(Tr),Pr(Xr,Nt+Xr.e+1,Vt);if(Br=String(Tr),Ur=typeof Tr=="number"){if(Tr*0!=0)return Sr(Xr,Br,Ur,Rr);if(Xr.s=1/Tr<0?(Br=Br.slice(1),-1):1,_r.DEBUG&&Br.replace(/^0\.0*|\./,"").length>15)throw Error($t+Tr)}else Xr.s=Br.charCodeAt(0)===45?(Br=Br.slice(1),-1):1;for(Er=gr.slice(0,Rr),qr=Vr=0,Lr=Br.length;Vr<Lr;Vr++)if(Er.indexOf(Or=Br.charAt(Vr))<0){if(Or=="."){if(Vr>qr){qr=Lr;continue}}else if(!Wr&&(Br==Br.toUpperCase()&&(Br=Br.toLowerCase())||Br==Br.toLowerCase()&&(Br=Br.toUpperCase()))){Wr=!0,Vr=-1,qr=0;continue}return Sr(Xr,String(Tr),Ur,Rr)}Ur=!1,Br=wr(Br,Rr,10,Xr.s),(qr=Br.indexOf("."))>-1?Br=Br.replace(".",""):qr=Br.length}for(Vr=0;Br.charCodeAt(Vr)===48;Vr++);for(Lr=Br.length;Br.charCodeAt(--Lr)===48;);if(Br=Br.slice(Vr,++Lr)){if(Lr-=Vr,Ur&&_r.DEBUG&&Lr>15&&(Tr>Ft||Tr!==mt(Tr)))throw Error($t+Xr.s*Tr);if((qr=qr-Vr-1)>ar)Xr.c=Xr.e=null;else if(qr<rr)Xr.c=[Xr.e=0];else{if(Xr.e=qr,Xr.c=[],Vr=(qr+1)%Dt,qr<0&&(Vr+=Dt),Vr<Lr){for(Vr&&Xr.c.push(+Br.slice(0,Vr)),Lr-=Dt;Vr<Lr;)Xr.c.push(+Br.slice(Vr,Vr+=Dt));Vr=Dt-(Br=Br.slice(Vr)).length}else Vr-=Lr;for(;Vr--;Br+="0");Xr.c.push(+Br)}}else Xr.c=[Xr.e=0]}_r.clone=ir,_r.ROUND_UP=0,_r.ROUND_DOWN=1,_r.ROUND_CEIL=2,_r.ROUND_FLOOR=3,_r.ROUND_HALF_UP=4,_r.ROUND_HALF_DOWN=5,_r.ROUND_HALF_EVEN=6,_r.ROUND_HALF_CEIL=7,_r.ROUND_HALF_FLOOR=8,_r.EUCLID=9,_r.config=_r.set=function(Tr){var Rr,Er;if(Tr!=null)if(typeof Tr=="object"){if(Tr.hasOwnProperty(Rr="DECIMAL_PLACES")&&(Er=Tr[Rr],dr(Er,0,tr,Rr),Nt=Er),Tr.hasOwnProperty(Rr="ROUNDING_MODE")&&(Er=Tr[Rr],dr(Er,0,8,Rr),Vt=Er),Tr.hasOwnProperty(Rr="EXPONENTIAL_AT")&&(Er=Tr[Rr],Er&&Er.pop?(dr(Er[0],-1e9,0,Rr),dr(Er[1],0,tr,Rr),er=Er[0],Yt=Er[1]):(dr(Er,-1e9,tr,Rr),er=-(Yt=Er<0?-Er:Er))),Tr.hasOwnProperty(Rr="RANGE"))if(Er=Tr[Rr],Er&&Er.pop)dr(Er[0],-1e9,-1,Rr),dr(Er[1],1,tr,Rr),rr=Er[0],ar=Er[1];else if(dr(Er,-1e9,tr,Rr),Er)rr=-(ar=Er<0?-Er:Er);else throw Error(wt+Rr+" cannot be zero: "+Er);if(Tr.hasOwnProperty(Rr="CRYPTO"))if(Er=Tr[Rr],Er===!!Er)if(Er)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))lr=Er;else throw lr=!Er,Error(wt+"crypto unavailable");else lr=Er;else throw Error(wt+Rr+" not true or false: "+Er);if(Tr.hasOwnProperty(Rr="MODULO_MODE")&&(Er=Tr[Rr],dr(Er,0,9,Rr),nr=Er),Tr.hasOwnProperty(Rr="POW_PRECISION")&&(Er=Tr[Rr],dr(Er,0,tr,Rr),Lt=Er),Tr.hasOwnProperty(Rr="FORMAT"))if(Er=Tr[Rr],typeof Er=="object")or=Er;else throw Error(wt+Rr+" not an object: "+Er);if(Tr.hasOwnProperty(Rr="ALPHABET"))if(Er=Tr[Rr],typeof Er=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Er))pr=Er.slice(0,10)=="0123456789",gr=Er;else throw Error(wt+Rr+" invalid: "+Er)}else throw Error(wt+"Object expected: "+Tr);return{DECIMAL_PLACES:Nt,ROUNDING_MODE:Vt,EXPONENTIAL_AT:[er,Yt],RANGE:[rr,ar],CRYPTO:lr,MODULO_MODE:nr,POW_PRECISION:Lt,FORMAT:or,ALPHABET:gr}},_r.isBigNumber=function(Tr){if(!Tr||Tr._isBigNumber!==!0)return!1;if(!_r.DEBUG)return!0;var Rr,Er,Or=Tr.c,Wr=Tr.e,qr=Tr.s;e:if({}.toString.call(Or)=="[object Array]"){if((qr===1||qr===-1)&&Wr>=-1e9&&Wr<=tr&&Wr===mt(Wr)){if(Or[0]===0){if(Wr===0&&Or.length===1)return!0;break e}if(Rr=(Wr+1)%Dt,Rr<1&&(Rr+=Dt),String(Or[0]).length==Rr){for(Rr=0;Rr<Or.length;Rr++)if(Er=Or[Rr],Er<0||Er>=Ct||Er!==mt(Er))break e;if(Er!==0)return!0}}}else if(Or===null&&Wr===null&&(qr===null||qr===1||qr===-1))return!0;throw Error(wt+"Invalid BigNumber: "+Tr)},_r.maximum=_r.max=function(){return Mr(arguments,-1)},_r.minimum=_r.min=function(){return Mr(arguments,1)},_r.random=function(){var Tr=9007199254740992,Rr=Math.random()*Tr&2097151?function(){return mt(Math.random()*Tr)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Er){var Or,Wr,qr,Vr,Ur,Lr=0,Br=[],Xr=new _r(cr);if(Er==null?Er=Nt:dr(Er,0,tr),Vr=at(Er/Dt),lr)if(crypto.getRandomValues){for(Or=crypto.getRandomValues(new Uint32Array(Vr*=2));Lr<Vr;)Ur=Or[Lr]*131072+(Or[Lr+1]>>>11),Ur>=9e15?(Wr=crypto.getRandomValues(new Uint32Array(2)),Or[Lr]=Wr[0],Or[Lr+1]=Wr[1]):(Br.push(Ur%1e14),Lr+=2);Lr=Vr/2}else if(crypto.randomBytes){for(Or=crypto.randomBytes(Vr*=7);Lr<Vr;)Ur=(Or[Lr]&31)*281474976710656+Or[Lr+1]*1099511627776+Or[Lr+2]*4294967296+Or[Lr+3]*16777216+(Or[Lr+4]<<16)+(Or[Lr+5]<<8)+Or[Lr+6],Ur>=9e15?crypto.randomBytes(7).copy(Or,Lr):(Br.push(Ur%1e14),Lr+=7);Lr=Vr/7}else throw lr=!1,Error(wt+"crypto unavailable");if(!lr)for(;Lr<Vr;)Ur=Rr(),Ur<9e15&&(Br[Lr++]=Ur%1e14);for(Vr=Br[--Lr],Er%=Dt,Vr&&Er&&(Ur=jt[Dt-Er],Br[Lr]=mt(Vr/Ur)*Ur);Br[Lr]===0;Br.pop(),Lr--);if(Lr<0)Br=[qr=0];else{for(qr=-1;Br[0]===0;Br.splice(0,1),qr-=Dt);for(Lr=1,Ur=Br[0];Ur>=10;Ur/=10,Lr++);Lr<Dt&&(qr-=Dt-Lr)}return Xr.e=qr,Xr.c=Br,Xr}}(),_r.sum=function(){for(var Tr=1,Rr=arguments,Er=new _r(Rr[0]);Tr<Rr.length;)Er=Er.plus(Rr[Tr++]);return Er},wr=function(){var Tr="0123456789";function Rr(Er,Or,Wr,qr){for(var Vr,Ur=[0],Lr,Br=0,Xr=Er.length;Br<Xr;){for(Lr=Ur.length;Lr--;Ur[Lr]*=Or);for(Ur[0]+=qr.indexOf(Er.charAt(Br++)),Vr=0;Vr<Ur.length;Vr++)Ur[Vr]>Wr-1&&(Ur[Vr+1]==null&&(Ur[Vr+1]=0),Ur[Vr+1]+=Ur[Vr]/Wr|0,Ur[Vr]%=Wr)}return Ur.reverse()}return function(Er,Or,Wr,qr,Vr){var Ur,Lr,Br,Xr,zr,Qr,Qn,nn,$n=Er.indexOf("."),lo=Nt,sn=Vt;for($n>=0&&(Xr=Lt,Lt=0,Er=Er.replace(".",""),nn=new _r(Or),Qr=nn.pow(Er.length-$n),Lt=Xr,nn.c=Rr(yr(ur(Qr.c),Qr.e,"0"),10,Wr,Tr),nn.e=nn.c.length),Qn=Rr(Er,Or,Wr,Vr?(Ur=gr,Tr):(Ur=Tr,gr)),Br=Xr=Qn.length;Qn[--Xr]==0;Qn.pop());if(!Qn[0])return Ur.charAt(0);if($n<0?--Br:(Qr.c=Qn,Qr.e=Br,Qr.s=qr,Qr=br(Qr,nn,lo,sn,Wr),Qn=Qr.c,zr=Qr.r,Br=Qr.e),Lr=Br+lo+1,$n=Qn[Lr],Xr=Wr/2,zr=zr||Lr<0||Qn[Lr+1]!=null,zr=sn<4?($n!=null||zr)&&(sn==0||sn==(Qr.s<0?3:2)):$n>Xr||$n==Xr&&(sn==4||zr||sn==6&&Qn[Lr-1]&1||sn==(Qr.s<0?8:7)),Lr<1||!Qn[0])Er=zr?yr(Ur.charAt(1),-lo,Ur.charAt(0)):Ur.charAt(0);else{if(Qn.length=Lr,zr)for(--Wr;++Qn[--Lr]>Wr;)Qn[Lr]=0,Lr||(++Br,Qn=[1].concat(Qn));for(Xr=Qn.length;!Qn[--Xr];);for($n=0,Er="";$n<=Xr;Er+=Ur.charAt(Qn[$n++]));Er=yr(Er,Br,Ur.charAt(0))}return Er}}(),br=function(){function Tr(Or,Wr,qr){var Vr,Ur,Lr,Br,Xr=0,zr=Or.length,Qr=Wr%Ut,Qn=Wr/Ut|0;for(Or=Or.slice();zr--;)Lr=Or[zr]%Ut,Br=Or[zr]/Ut|0,Vr=Qn*Lr+Br*Qr,Ur=Qr*Lr+Vr%Ut*Ut+Xr,Xr=(Ur/qr|0)+(Vr/Ut|0)+Qn*Br,Or[zr]=Ur%qr;return Xr&&(Or=[Xr].concat(Or)),Or}function Rr(Or,Wr,qr,Vr){var Ur,Lr;if(qr!=Vr)Lr=qr>Vr?1:-1;else for(Ur=Lr=0;Ur<qr;Ur++)if(Or[Ur]!=Wr[Ur]){Lr=Or[Ur]>Wr[Ur]?1:-1;break}return Lr}function Er(Or,Wr,qr,Vr){for(var Ur=0;qr--;)Or[qr]-=Ur,Ur=Or[qr]<Wr[qr]?1:0,Or[qr]=Ur*Vr+Or[qr]-Wr[qr];for(;!Or[0]&&Or.length>1;Or.splice(0,1));}return function(Or,Wr,qr,Vr,Ur){var Lr,Br,Xr,zr,Qr,Qn,nn,$n,lo,sn,Nn,xo,Ir,Ar,Dr,Nr,Gr,Un=Or.s==Wr.s?1:-1,Zr=Or.c,Cn=Wr.c;if(!Zr||!Zr[0]||!Cn||!Cn[0])return new _r(!Or.s||!Wr.s||(Zr?Cn&&Zr[0]==Cn[0]:!Cn)?NaN:Zr&&Zr[0]==0||!Cn?Un*0:Un/0);for($n=new _r(Un),lo=$n.c=[],Br=Or.e-Wr.e,Un=qr+Br+1,Ur||(Ur=Ct,Br=sr(Or.e/Dt)-sr(Wr.e/Dt),Un=Un/Dt|0),Xr=0;Cn[Xr]==(Zr[Xr]||0);Xr++);if(Cn[Xr]>(Zr[Xr]||0)&&Br--,Un<0)lo.push(1),zr=!0;else{for(Ar=Zr.length,Nr=Cn.length,Xr=0,Un+=2,Qr=mt(Ur/(Cn[0]+1)),Qr>1&&(Cn=Tr(Cn,Qr,Ur),Zr=Tr(Zr,Qr,Ur),Nr=Cn.length,Ar=Zr.length),Ir=Nr,sn=Zr.slice(0,Nr),Nn=sn.length;Nn<Nr;sn[Nn++]=0);Gr=Cn.slice(),Gr=[0].concat(Gr),Dr=Cn[0],Cn[1]>=Ur/2&&Dr++;do{if(Qr=0,Lr=Rr(Cn,sn,Nr,Nn),Lr<0){if(xo=sn[0],Nr!=Nn&&(xo=xo*Ur+(sn[1]||0)),Qr=mt(xo/Dr),Qr>1)for(Qr>=Ur&&(Qr=Ur-1),Qn=Tr(Cn,Qr,Ur),nn=Qn.length,Nn=sn.length;Rr(Qn,sn,nn,Nn)==1;)Qr--,Er(Qn,Nr<nn?Gr:Cn,nn,Ur),nn=Qn.length,Lr=1;else Qr==0&&(Lr=Qr=1),Qn=Cn.slice(),nn=Qn.length;if(nn<Nn&&(Qn=[0].concat(Qn)),Er(sn,Qn,Nn,Ur),Nn=sn.length,Lr==-1)for(;Rr(Cn,sn,Nr,Nn)<1;)Qr++,Er(sn,Nr<Nn?Gr:Cn,Nn,Ur),Nn=sn.length}else Lr===0&&(Qr++,sn=[0]);lo[Xr++]=Qr,sn[0]?sn[Nn++]=Zr[Ir]||0:(sn=[Zr[Ir]],Nn=1)}while((Ir++<Ar||sn[0]!=null)&&Un--);zr=sn[0]!=null,lo[0]||lo.splice(0,1)}if(Ur==Ct){for(Xr=1,Un=lo[0];Un>=10;Un/=10,Xr++);Pr($n,qr+($n.e=Xr+Br*Dt-1)+1,Vr,zr)}else $n.e=Br,$n.r=+zr;return $n}}();function kr(Tr,Rr,Er,Or){var Wr,qr,Vr,Ur,Lr;if(Er==null?Er=Vt:dr(Er,0,8),!Tr.c)return Tr.toString();if(Wr=Tr.c[0],Vr=Tr.e,Rr==null)Lr=ur(Tr.c),Lr=Or==1||Or==2&&(Vr<=er||Vr>=Yt)?vr(Lr,Vr):yr(Lr,Vr,"0");else if(Tr=Pr(new _r(Tr),Rr,Er),qr=Tr.e,Lr=ur(Tr.c),Ur=Lr.length,Or==1||Or==2&&(Rr<=qr||qr<=er)){for(;Ur<Rr;Lr+="0",Ur++);Lr=vr(Lr,qr)}else if(Rr-=Vr,Lr=yr(Lr,qr,"0"),qr+1>Ur){if(--Rr>0)for(Lr+=".";Rr--;Lr+="0");}else if(Rr+=qr-Ur,Rr>0)for(qr+1==Ur&&(Lr+=".");Rr--;Lr+="0");return Tr.s<0&&Wr?"-"+Lr:Lr}function Mr(Tr,Rr){for(var Er,Or,Wr=1,qr=new _r(Tr[0]);Wr<Tr.length;Wr++)Or=new _r(Tr[Wr]),(!Or.s||(Er=fr(qr,Or))===Rr||Er===0&&qr.s===Rr)&&(qr=Or);return qr}function $r(Tr,Rr,Er){for(var Or=1,Wr=Rr.length;!Rr[--Wr];Rr.pop());for(Wr=Rr[0];Wr>=10;Wr/=10,Or++);return(Er=Or+Er*Dt-1)>ar?Tr.c=Tr.e=null:Er<rr?Tr.c=[Tr.e=0]:(Tr.e=Er,Tr.c=Rr),Tr}Sr=function(){var Tr=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Rr=/^([^.]+)\.$/,Er=/^\.([^.]+)$/,Or=/^-?(Infinity|NaN)$/,Wr=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(qr,Vr,Ur,Lr){var Br,Xr=Ur?Vr:Vr.replace(Wr,"");if(Or.test(Xr))qr.s=isNaN(Xr)?null:Xr<0?-1:1;else{if(!Ur&&(Xr=Xr.replace(Tr,function(zr,Qr,Qn){return Br=(Qn=Qn.toLowerCase())=="x"?16:Qn=="b"?2:8,!Lr||Lr==Br?Qr:zr}),Lr&&(Br=Lr,Xr=Xr.replace(Rr,"$1").replace(Er,"0.$1")),Vr!=Xr))return new _r(Xr,Br);if(_r.DEBUG)throw Error(wt+"Not a"+(Lr?" base "+Lr:"")+" number: "+Vr);qr.s=null}qr.c=qr.e=null}}();function Pr(Tr,Rr,Er,Or){var Wr,qr,Vr,Ur,Lr,Br,Xr,zr=Tr.c,Qr=jt;if(zr){e:{for(Wr=1,Ur=zr[0];Ur>=10;Ur/=10,Wr++);if(qr=Rr-Wr,qr<0)qr+=Dt,Vr=Rr,Lr=zr[Br=0],Xr=mt(Lr/Qr[Wr-Vr-1]%10);else if(Br=at((qr+1)/Dt),Br>=zr.length)if(Or){for(;zr.length<=Br;zr.push(0));Lr=Xr=0,Wr=1,qr%=Dt,Vr=qr-Dt+1}else break e;else{for(Lr=Ur=zr[Br],Wr=1;Ur>=10;Ur/=10,Wr++);qr%=Dt,Vr=qr-Dt+Wr,Xr=Vr<0?0:mt(Lr/Qr[Wr-Vr-1]%10)}if(Or=Or||Rr<0||zr[Br+1]!=null||(Vr<0?Lr:Lr%Qr[Wr-Vr-1]),Or=Er<4?(Xr||Or)&&(Er==0||Er==(Tr.s<0?3:2)):Xr>5||Xr==5&&(Er==4||Or||Er==6&&(qr>0?Vr>0?Lr/Qr[Wr-Vr]:0:zr[Br-1])%10&1||Er==(Tr.s<0?8:7)),Rr<1||!zr[0])return zr.length=0,Or?(Rr-=Tr.e+1,zr[0]=Qr[(Dt-Rr%Dt)%Dt],Tr.e=-Rr||0):zr[0]=Tr.e=0,Tr;if(qr==0?(zr.length=Br,Ur=1,Br--):(zr.length=Br+1,Ur=Qr[Dt-qr],zr[Br]=Vr>0?mt(Lr/Qr[Wr-Vr]%Qr[Vr])*Ur:0),Or)for(;;)if(Br==0){for(qr=1,Vr=zr[0];Vr>=10;Vr/=10,qr++);for(Vr=zr[0]+=Ur,Ur=1;Vr>=10;Vr/=10,Ur++);qr!=Ur&&(Tr.e++,zr[0]==Ct&&(zr[0]=1));break}else{if(zr[Br]+=Ur,zr[Br]!=Ct)break;zr[Br--]=0,Ur=1}for(qr=zr.length;zr[--qr]===0;zr.pop());}Tr.e>ar?Tr.c=Tr.e=null:Tr.e<rr&&(Tr.c=[Tr.e=0])}return Tr}function Fr(Tr){var Rr,Er=Tr.e;return Er===null?Tr.toString():(Rr=ur(Tr.c),Rr=Er<=er||Er>=Yt?vr(Rr,Er):yr(Rr,Er,"0"),Tr.s<0?"-"+Rr:Rr)}return Cr.absoluteValue=Cr.abs=function(){var Tr=new _r(this);return Tr.s<0&&(Tr.s=1),Tr},Cr.comparedTo=function(Tr,Rr){return fr(this,new _r(Tr,Rr))},Cr.decimalPlaces=Cr.dp=function(Tr,Rr){var Er,Or,Wr,qr=this;if(Tr!=null)return dr(Tr,0,tr),Rr==null?Rr=Vt:dr(Rr,0,8),Pr(new _r(qr),Tr+qr.e+1,Rr);if(!(Er=qr.c))return null;if(Or=((Wr=Er.length-1)-sr(this.e/Dt))*Dt,Wr=Er[Wr])for(;Wr%10==0;Wr/=10,Or--);return Or<0&&(Or=0),Or},Cr.dividedBy=Cr.div=function(Tr,Rr){return br(this,new _r(Tr,Rr),Nt,Vt)},Cr.dividedToIntegerBy=Cr.idiv=function(Tr,Rr){return br(this,new _r(Tr,Rr),0,1)},Cr.exponentiatedBy=Cr.pow=function(Tr,Rr){var Er,Or,Wr,qr,Vr,Ur,Lr,Br,Xr,zr=this;if(Tr=new _r(Tr),Tr.c&&!Tr.isInteger())throw Error(wt+"Exponent not an integer: "+Fr(Tr));if(Rr!=null&&(Rr=new _r(Rr)),Ur=Tr.e>14,!zr.c||!zr.c[0]||zr.c[0]==1&&!zr.e&&zr.c.length==1||!Tr.c||!Tr.c[0])return Xr=new _r(Math.pow(+Fr(zr),Ur?Tr.s*(2-hr(Tr)):+Fr(Tr))),Rr?Xr.mod(Rr):Xr;if(Lr=Tr.s<0,Rr){if(Rr.c?!Rr.c[0]:!Rr.s)return new _r(NaN);Or=!Lr&&zr.isInteger()&&Rr.isInteger(),Or&&(zr=zr.mod(Rr))}else{if(Tr.e>9&&(zr.e>0||zr.e<-1||(zr.e==0?zr.c[0]>1||Ur&&zr.c[1]>=24e7:zr.c[0]<8e13||Ur&&zr.c[0]<=9999975e7)))return qr=zr.s<0&&hr(Tr)?-0:0,zr.e>-1&&(qr=1/qr),new _r(Lr?1/qr:qr);Lt&&(qr=at(Lt/Dt+2))}for(Ur?(Er=new _r(.5),Lr&&(Tr.s=1),Br=hr(Tr)):(Wr=Math.abs(+Fr(Tr)),Br=Wr%2),Xr=new _r(cr);;){if(Br){if(Xr=Xr.times(zr),!Xr.c)break;qr?Xr.c.length>qr&&(Xr.c.length=qr):Or&&(Xr=Xr.mod(Rr))}if(Wr){if(Wr=mt(Wr/2),Wr===0)break;Br=Wr%2}else if(Tr=Tr.times(Er),Pr(Tr,Tr.e+1,1),Tr.e>14)Br=hr(Tr);else{if(Wr=+Fr(Tr),Wr===0)break;Br=Wr%2}zr=zr.times(zr),qr?zr.c&&zr.c.length>qr&&(zr.c.length=qr):Or&&(zr=zr.mod(Rr))}return Or?Xr:(Lr&&(Xr=cr.div(Xr)),Rr?Xr.mod(Rr):qr?Pr(Xr,Lt,Vt,Vr):Xr)},Cr.integerValue=function(Tr){var Rr=new _r(this);return Tr==null?Tr=Vt:dr(Tr,0,8),Pr(Rr,Rr.e+1,Tr)},Cr.isEqualTo=Cr.eq=function(Tr,Rr){return fr(this,new _r(Tr,Rr))===0},Cr.isFinite=function(){return!!this.c},Cr.isGreaterThan=Cr.gt=function(Tr,Rr){return fr(this,new _r(Tr,Rr))>0},Cr.isGreaterThanOrEqualTo=Cr.gte=function(Tr,Rr){return(Rr=fr(this,new _r(Tr,Rr)))===1||Rr===0},Cr.isInteger=function(){return!!this.c&&sr(this.e/Dt)>this.c.length-2},Cr.isLessThan=Cr.lt=function(Tr,Rr){return fr(this,new _r(Tr,Rr))<0},Cr.isLessThanOrEqualTo=Cr.lte=function(Tr,Rr){return(Rr=fr(this,new _r(Tr,Rr)))===-1||Rr===0},Cr.isNaN=function(){return!this.s},Cr.isNegative=function(){return this.s<0},Cr.isPositive=function(){return this.s>0},Cr.isZero=function(){return!!this.c&&this.c[0]==0},Cr.minus=function(Tr,Rr){var Er,Or,Wr,qr,Vr=this,Ur=Vr.s;if(Tr=new _r(Tr,Rr),Rr=Tr.s,!Ur||!Rr)return new _r(NaN);if(Ur!=Rr)return Tr.s=-Rr,Vr.plus(Tr);var Lr=Vr.e/Dt,Br=Tr.e/Dt,Xr=Vr.c,zr=Tr.c;if(!Lr||!Br){if(!Xr||!zr)return Xr?(Tr.s=-Rr,Tr):new _r(zr?Vr:NaN);if(!Xr[0]||!zr[0])return zr[0]?(Tr.s=-Rr,Tr):new _r(Xr[0]?Vr:Vt==3?-0:0)}if(Lr=sr(Lr),Br=sr(Br),Xr=Xr.slice(),Ur=Lr-Br){for((qr=Ur<0)?(Ur=-Ur,Wr=Xr):(Br=Lr,Wr=zr),Wr.reverse(),Rr=Ur;Rr--;Wr.push(0));Wr.reverse()}else for(Or=(qr=(Ur=Xr.length)<(Rr=zr.length))?Ur:Rr,Ur=Rr=0;Rr<Or;Rr++)if(Xr[Rr]!=zr[Rr]){qr=Xr[Rr]<zr[Rr];break}if(qr&&(Wr=Xr,Xr=zr,zr=Wr,Tr.s=-Tr.s),Rr=(Or=zr.length)-(Er=Xr.length),Rr>0)for(;Rr--;Xr[Er++]=0);for(Rr=Ct-1;Or>Ur;){if(Xr[--Or]<zr[Or]){for(Er=Or;Er&&!Xr[--Er];Xr[Er]=Rr);--Xr[Er],Xr[Or]+=Ct}Xr[Or]-=zr[Or]}for(;Xr[0]==0;Xr.splice(0,1),--Br);return Xr[0]?$r(Tr,Xr,Br):(Tr.s=Vt==3?-1:1,Tr.c=[Tr.e=0],Tr)},Cr.modulo=Cr.mod=function(Tr,Rr){var Er,Or,Wr=this;return Tr=new _r(Tr,Rr),!Wr.c||!Tr.s||Tr.c&&!Tr.c[0]?new _r(NaN):!Tr.c||Wr.c&&!Wr.c[0]?new _r(Wr):(nr==9?(Or=Tr.s,Tr.s=1,Er=br(Wr,Tr,0,3),Tr.s=Or,Er.s*=Or):Er=br(Wr,Tr,0,nr),Tr=Wr.minus(Er.times(Tr)),!Tr.c[0]&&nr==1&&(Tr.s=Wr.s),Tr)},Cr.multipliedBy=Cr.times=function(Tr,Rr){var Er,Or,Wr,qr,Vr,Ur,Lr,Br,Xr,zr,Qr,Qn,nn,$n,lo,sn=this,Nn=sn.c,xo=(Tr=new _r(Tr,Rr)).c;if(!Nn||!xo||!Nn[0]||!xo[0])return!sn.s||!Tr.s||Nn&&!Nn[0]&&!xo||xo&&!xo[0]&&!Nn?Tr.c=Tr.e=Tr.s=null:(Tr.s*=sn.s,!Nn||!xo?Tr.c=Tr.e=null:(Tr.c=[0],Tr.e=0)),Tr;for(Or=sr(sn.e/Dt)+sr(Tr.e/Dt),Tr.s*=sn.s,Lr=Nn.length,zr=xo.length,Lr<zr&&(nn=Nn,Nn=xo,xo=nn,Wr=Lr,Lr=zr,zr=Wr),Wr=Lr+zr,nn=[];Wr--;nn.push(0));for($n=Ct,lo=Ut,Wr=zr;--Wr>=0;){for(Er=0,Qr=xo[Wr]%lo,Qn=xo[Wr]/lo|0,Vr=Lr,qr=Wr+Vr;qr>Wr;)Br=Nn[--Vr]%lo,Xr=Nn[Vr]/lo|0,Ur=Qn*Br+Xr*Qr,Br=Qr*Br+Ur%lo*lo+nn[qr]+Er,Er=(Br/$n|0)+(Ur/lo|0)+Qn*Xr,nn[qr--]=Br%$n;nn[qr]=Er}return Er?++Or:nn.splice(0,1),$r(Tr,nn,Or)},Cr.negated=function(){var Tr=new _r(this);return Tr.s=-Tr.s||null,Tr},Cr.plus=function(Tr,Rr){var Er,Or=this,Wr=Or.s;if(Tr=new _r(Tr,Rr),Rr=Tr.s,!Wr||!Rr)return new _r(NaN);if(Wr!=Rr)return Tr.s=-Rr,Or.minus(Tr);var qr=Or.e/Dt,Vr=Tr.e/Dt,Ur=Or.c,Lr=Tr.c;if(!qr||!Vr){if(!Ur||!Lr)return new _r(Wr/0);if(!Ur[0]||!Lr[0])return Lr[0]?Tr:new _r(Ur[0]?Or:Wr*0)}if(qr=sr(qr),Vr=sr(Vr),Ur=Ur.slice(),Wr=qr-Vr){for(Wr>0?(Vr=qr,Er=Lr):(Wr=-Wr,Er=Ur),Er.reverse();Wr--;Er.push(0));Er.reverse()}for(Wr=Ur.length,Rr=Lr.length,Wr-Rr<0&&(Er=Lr,Lr=Ur,Ur=Er,Rr=Wr),Wr=0;Rr;)Wr=(Ur[--Rr]=Ur[Rr]+Lr[Rr]+Wr)/Ct|0,Ur[Rr]=Ct===Ur[Rr]?0:Ur[Rr]%Ct;return Wr&&(Ur=[Wr].concat(Ur),++Vr),$r(Tr,Ur,Vr)},Cr.precision=Cr.sd=function(Tr,Rr){var Er,Or,Wr,qr=this;if(Tr!=null&&Tr!==!!Tr)return dr(Tr,1,tr),Rr==null?Rr=Vt:dr(Rr,0,8),Pr(new _r(qr),Tr,Rr);if(!(Er=qr.c))return null;if(Wr=Er.length-1,Or=Wr*Dt+1,Wr=Er[Wr]){for(;Wr%10==0;Wr/=10,Or--);for(Wr=Er[0];Wr>=10;Wr/=10,Or++);}return Tr&&qr.e+1>Or&&(Or=qr.e+1),Or},Cr.shiftedBy=function(Tr){return dr(Tr,-9007199254740991,Ft),this.times("1e"+Tr)},Cr.squareRoot=Cr.sqrt=function(){var Tr,Rr,Er,Or,Wr,qr=this,Vr=qr.c,Ur=qr.s,Lr=qr.e,Br=Nt+4,Xr=new _r("0.5");if(Ur!==1||!Vr||!Vr[0])return new _r(!Ur||Ur<0&&(!Vr||Vr[0])?NaN:Vr?qr:1/0);if(Ur=Math.sqrt(+Fr(qr)),Ur==0||Ur==1/0?(Rr=ur(Vr),(Rr.length+Lr)%2==0&&(Rr+="0"),Ur=Math.sqrt(+Rr),Lr=sr((Lr+1)/2)-(Lr<0||Lr%2),Ur==1/0?Rr="5e"+Lr:(Rr=Ur.toExponential(),Rr=Rr.slice(0,Rr.indexOf("e")+1)+Lr),Er=new _r(Rr)):Er=new _r(Ur+""),Er.c[0]){for(Lr=Er.e,Ur=Lr+Br,Ur<3&&(Ur=0);;)if(Wr=Er,Er=Xr.times(Wr.plus(br(qr,Wr,Br,1))),ur(Wr.c).slice(0,Ur)===(Rr=ur(Er.c)).slice(0,Ur))if(Er.e<Lr&&--Ur,Rr=Rr.slice(Ur-3,Ur+1),Rr=="9999"||!Or&&Rr=="4999"){if(!Or&&(Pr(Wr,Wr.e+Nt+2,0),Wr.times(Wr).eq(qr))){Er=Wr;break}Br+=4,Ur+=4,Or=1}else{(!+Rr||!+Rr.slice(1)&&Rr.charAt(0)=="5")&&(Pr(Er,Er.e+Nt+2,1),Tr=!Er.times(Er).eq(qr));break}}return Pr(Er,Er.e+Nt+1,Vt,Tr)},Cr.toExponential=function(Tr,Rr){return Tr!=null&&(dr(Tr,0,tr),Tr++),kr(this,Tr,Rr,1)},Cr.toFixed=function(Tr,Rr){return Tr!=null&&(dr(Tr,0,tr),Tr=Tr+this.e+1),kr(this,Tr,Rr)},Cr.toFormat=function(Tr,Rr,Er){var Or,Wr=this;if(Er==null)Tr!=null&&Rr&&typeof Rr=="object"?(Er=Rr,Rr=null):Tr&&typeof Tr=="object"?(Er=Tr,Tr=Rr=null):Er=or;else if(typeof Er!="object")throw Error(wt+"Argument not an object: "+Er);if(Or=Wr.toFixed(Tr,Rr),Wr.c){var qr,Vr=Or.split("."),Ur=+Er.groupSize,Lr=+Er.secondaryGroupSize,Br=Er.groupSeparator||"",Xr=Vr[0],zr=Vr[1],Qr=Wr.s<0,Qn=Qr?Xr.slice(1):Xr,nn=Qn.length;if(Lr&&(qr=Ur,Ur=Lr,Lr=qr,nn-=qr),Ur>0&&nn>0){for(qr=nn%Ur||Ur,Xr=Qn.substr(0,qr);qr<nn;qr+=Ur)Xr+=Br+Qn.substr(qr,Ur);Lr>0&&(Xr+=Br+Qn.slice(qr)),Qr&&(Xr="-"+Xr)}Or=zr?Xr+(Er.decimalSeparator||"")+((Lr=+Er.fractionGroupSize)?zr.replace(new RegExp("\\d{"+Lr+"}\\B","g"),"$&"+(Er.fractionGroupSeparator||"")):zr):Xr}return(Er.prefix||"")+Or+(Er.suffix||"")},Cr.toFraction=function(Tr){var Rr,Er,Or,Wr,qr,Vr,Ur,Lr,Br,Xr,zr,Qr,Qn=this,nn=Qn.c;if(Tr!=null&&(Ur=new _r(Tr),!Ur.isInteger()&&(Ur.c||Ur.s!==1)||Ur.lt(cr)))throw Error(wt+"Argument "+(Ur.isInteger()?"out of range: ":"not an integer: ")+Fr(Ur));if(!nn)return new _r(Qn);for(Rr=new _r(cr),Br=Er=new _r(cr),Or=Lr=new _r(cr),Qr=ur(nn),qr=Rr.e=Qr.length-Qn.e-1,Rr.c[0]=jt[(Vr=qr%Dt)<0?Dt+Vr:Vr],Tr=!Tr||Ur.comparedTo(Rr)>0?qr>0?Rr:Br:Ur,Vr=ar,ar=1/0,Ur=new _r(Qr),Lr.c[0]=0;Xr=br(Ur,Rr,0,1),Wr=Er.plus(Xr.times(Or)),Wr.comparedTo(Tr)!=1;)Er=Or,Or=Wr,Br=Lr.plus(Xr.times(Wr=Br)),Lr=Wr,Rr=Ur.minus(Xr.times(Wr=Rr)),Ur=Wr;return Wr=br(Tr.minus(Er),Or,0,1),Lr=Lr.plus(Wr.times(Br)),Er=Er.plus(Wr.times(Or)),Lr.s=Br.s=Qn.s,qr=qr*2,zr=br(Br,Or,qr,Vt).minus(Qn).abs().comparedTo(br(Lr,Er,qr,Vt).minus(Qn).abs())<1?[Br,Or]:[Lr,Er],ar=Vr,zr},Cr.toNumber=function(){return+Fr(this)},Cr.toPrecision=function(Tr,Rr){return Tr!=null&&dr(Tr,1,tr),kr(this,Tr,Rr,2)},Cr.toString=function(Tr){var Rr,Er=this,Or=Er.s,Wr=Er.e;return Wr===null?Or?(Rr="Infinity",Or<0&&(Rr="-"+Rr)):Rr="NaN":(Tr==null?Rr=Wr<=er||Wr>=Yt?vr(ur(Er.c),Wr):yr(ur(Er.c),Wr,"0"):Tr===10&&pr?(Er=Pr(new _r(Er),Nt+Wr+1,Vt),Rr=yr(ur(Er.c),Er.e,"0")):(dr(Tr,2,gr.length,"Base"),Rr=wr(yr(ur(Er.c),Wr,"0"),10,Tr,Or,!0)),Or<0&&Er.c[0]&&(Rr="-"+Rr)),Rr},Cr.valueOf=Cr.toJSON=function(){return Fr(this)},Cr._isBigNumber=!0,xr!=null&&_r.set(xr),_r}function sr(xr){var br=xr|0;return xr>0||xr===br?br:br-1}function ur(xr){for(var br,wr,Sr=1,Cr=xr.length,cr=xr[0]+"";Sr<Cr;){for(br=xr[Sr++]+"",wr=Dt-br.length;wr--;br="0"+br);cr+=br}for(Cr=cr.length;cr.charCodeAt(--Cr)===48;);return cr.slice(0,Cr+1||1)}function fr(xr,br){var wr,Sr,Cr=xr.c,cr=br.c,Nt=xr.s,Vt=br.s,er=xr.e,Yt=br.e;if(!Nt||!Vt)return null;if(wr=Cr&&!Cr[0],Sr=cr&&!cr[0],wr||Sr)return wr?Sr?0:-Vt:Nt;if(Nt!=Vt)return Nt;if(wr=Nt<0,Sr=er==Yt,!Cr||!cr)return Sr?0:!Cr^wr?1:-1;if(!Sr)return er>Yt^wr?1:-1;for(Vt=(er=Cr.length)<(Yt=cr.length)?er:Yt,Nt=0;Nt<Vt;Nt++)if(Cr[Nt]!=cr[Nt])return Cr[Nt]>cr[Nt]^wr?1:-1;return er==Yt?0:er>Yt^wr?1:-1}function dr(xr,br,wr,Sr){if(xr<br||xr>wr||xr!==mt(xr))throw Error(wt+(Sr||"Argument")+(typeof xr=="number"?xr<br||xr>wr?" out of range: ":" not an integer: ":" not a primitive number: ")+String(xr))}function hr(xr){var br=xr.c.length-1;return sr(xr.e/Dt)==br&&xr.c[br]%2!=0}function vr(xr,br){return(xr.length>1?xr.charAt(0)+"."+xr.slice(1):xr)+(br<0?"e":"e+")+br}function yr(xr,br,wr){var Sr,Cr;if(br<0){for(Cr=wr+".";++br;Cr+=wr);xr=Cr+xr}else if(Sr=xr.length,++br>Sr){for(Cr=wr,br-=Sr;--br;Cr+=wr);xr+=Cr}else br<Sr&&(xr=xr.slice(0,br)+"."+xr.slice(br));return xr}et=ir(),et.default=et.BigNumber=et,a.exports?a.exports=et:(s||(s=typeof self<"u"&&self?self:window),s.BigNumber=et)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const globalState$1=requireGlobalState(),validating=requireValidating(),parsing$1=parsing$2,BigNumber$1=bignumberExports,powers={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},defaultOptions={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes,decimalSuffixes}=globalState$1.currentBytes(),bytes={general:{scale:1024,suffixes:decimalSuffixes},binary:{scale:1024,suffixes:binarySuffixes},decimal:{scale:1e3,suffixes:decimalSuffixes}};function format$1(a,s={},et){if(typeof s=="string"&&(s=parsing$1.parseFormat(s)),!validating.validateFormat(s))return"ERROR: invalid format";let at=s.prefix||"",mt=s.postfix||"",wt=formatNumbro(a,s,et);return wt=insertPrefix(wt,at),wt=insertPostfix(wt,mt),wt}function formatNumbro(a,s,et){switch(s.output){case"currency":return s=formatOrDefault(s,globalState$1.currentCurrencyDefaultFormat()),formatCurrency$2(a,s,globalState$1);case"percent":return s=formatOrDefault(s,globalState$1.currentPercentageDefaultFormat()),formatPercentage$1(a,s,globalState$1,et);case"byte":return s=formatOrDefault(s,globalState$1.currentByteDefaultFormat()),formatByte(a,s,globalState$1,et);case"time":return s=formatOrDefault(s,globalState$1.currentTimeDefaultFormat()),formatTime(a);case"ordinal":return s=formatOrDefault(s,globalState$1.currentOrdinalDefaultFormat()),formatOrdinal(a,s,globalState$1);case"number":default:return formatNumber$1({instance:a,providedFormat:s})}}function getDecimalByteUnit(a){let s=bytes.decimal;return getFormatByteUnits(a._value,s.suffixes,s.scale).suffix}function getBinaryByteUnit(a){let s=bytes.binary;return getFormatByteUnits(a._value,s.suffixes,s.scale).suffix}function getByteUnit(a){let s=bytes.general;return getFormatByteUnits(a._value,s.suffixes,s.scale).suffix}function getFormatByteUnits(a,s,et){let nt=s[0],at=Math.abs(a);if(at>=et){for(let mt=1;mt<s.length;++mt){let wt=Math.pow(et,mt),$t=Math.pow(et,mt+1);if(at>=wt&&at<$t){nt=s[mt],a=a/wt;break}}nt===s[0]&&(a=a/Math.pow(et,s.length-1),nt=s[s.length-1])}return{value:a,suffix:nt}}function formatByte(a,s,et,nt){let at=s.base||"binary",mt=Object.assign({},defaultOptions,s);const{binarySuffixes:wt,decimalSuffixes:$t}=et.currentBytes();let Dt={general:{scale:1024,suffixes:$t||decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:wt||binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:$t||decimalSuffixes,marker:"d"}}[at],{value:Ft,suffix:jt}=getFormatByteUnits(a._value,Dt.suffixes,Dt.scale);return`${formatNumber$1({instance:nt(Ft),providedFormat:s,state:et,defaults:et.currentByteDefaultFormat()})}${mt.spaceSeparated?" ":""}${jt}`}function formatOrdinal(a,s,et){let nt=et.currentOrdinal(),at=Object.assign({},defaultOptions,s),mt=formatNumber$1({instance:a,providedFormat:s,state:et}),wt=nt(a._value);return`${mt}${at.spaceSeparated?" ":""}${wt}`}function formatTime(a){let s=Math.floor(a._value/60/60),et=Math.floor((a._value-s*60*60)/60),nt=Math.round(a._value-s*60*60-et*60);return`${s}:${et<10?"0":""}${et}:${nt<10?"0":""}${nt}`}function formatPercentage$1(a,s,et,nt){let at=s.prefixSymbol,mt=formatNumber$1({instance:nt(a._value*100),providedFormat:s,state:et}),wt=Object.assign({},defaultOptions,s);return at?`%${wt.spaceSeparated?" ":""}${mt}`:`${mt}${wt.spaceSeparated?" ":""}%`}function formatCurrency$2(a,s,et){const nt=et.currentCurrency();let at=Object.assign({},s),mt=Object.assign({},defaultOptions,at),wt,$t="",Ct=!!mt.totalLength||!!mt.forceAverage||mt.average,Dt=at.currencyPosition||nt.position,Ft=at.currencySymbol||nt.symbol;const jt=mt.spaceSeparatedCurrency!==void 0?mt.spaceSeparatedCurrency:mt.spaceSeparated;at.lowPrecision===void 0&&(at.lowPrecision=!1),jt&&($t=" "),Dt==="infix"&&(wt=$t+Ft+$t);let Ut=formatNumber$1({instance:a,providedFormat:at,state:et,decimalSeparator:wt});return Dt==="prefix"&&(a._value<0&&mt.negative==="sign"?Ut=`-${$t}${Ft}${Ut.slice(1)}`:a._value>0&&mt.forceSign?Ut=`+${$t}${Ft}${Ut.slice(1)}`:Ut=Ft+$t+Ut),(!Dt||Dt==="postfix")&&($t=!mt.spaceSeparatedAbbreviation&&Ct?"":$t,Ut=Ut+$t+Ft),Ut}function computeAverage({value:a,forceAverage:s,lowPrecision:et=!0,abbreviations:nt,spaceSeparated:at=!1,totalLength:mt=0,roundingFunction:wt=Math.round}){let $t="",Ct=Math.abs(a),Dt=-1;if(s&&nt[s]&&powers[s]?($t=nt[s],a=a/powers[s]):Ct>=powers.trillion||et&&wt(Ct/powers.trillion)===1?($t=nt.trillion,a=a/powers.trillion):Ct<powers.trillion&&Ct>=powers.billion||et&&wt(Ct/powers.billion)===1?($t=nt.billion,a=a/powers.billion):Ct<powers.billion&&Ct>=powers.million||et&&wt(Ct/powers.million)===1?($t=nt.million,a=a/powers.million):(Ct<powers.million&&Ct>=powers.thousand||et&&wt(Ct/powers.thousand)===1)&&($t=nt.thousand,a=a/powers.thousand),$t&&($t=(at?" ":"")+$t),mt){let jt=a<0,Ut=a.toString().split(".")[0],tr=jt?Ut.length-1:Ut.length;Dt=Math.max(mt-tr,0)}return{value:a,abbreviation:$t,mantissaPrecision:Dt}}function computeExponential({value:a,characteristicPrecision:s}){let[et,nt]=a.toExponential().split("e"),at=+et;if(!s)return{value:at,abbreviation:`e${nt}`};let mt=1;return mt<s&&(at=at*Math.pow(10,s-mt),nt=+nt-(s-mt),nt=nt>=0?`+${nt}`:nt),{value:at,abbreviation:`e${nt}`}}function zeroes(a){let s="";for(let et=0;et<a;et++)s+="0";return s}function toFixedLarge(a,s){let et=a.toString(),[nt,at]=et.split("e"),[mt,wt=""]=nt.split(".");if(+at>0)et=mt+wt+zeroes(at-wt.length);else{let $t=".";+mt<0?$t=`-0${$t}`:$t=`0${$t}`;let Ct=(zeroes(-at-1)+Math.abs(mt)+wt).substr(0,s);Ct.length<s&&(Ct+=zeroes(s-Ct.length)),et=$t+Ct}return+at>0&&s>0&&(et+=`.${zeroes(s)}`),et}function toFixed(a,s,et=Math.round){return a.toString().indexOf("e")!==-1?toFixedLarge(a,s):new BigNumber$1(et(+`${a}e+${s}`)/Math.pow(10,s)).toFixed(s)}function setMantissaPrecision(a,s,et,nt,at,mt){if(nt===-1)return a;let wt=toFixed(s,nt,mt),[$t,Ct=""]=wt.toString().split(".");if(Ct.match(/^0+$/)&&(et||at))return $t;let Dt=Ct.match(/0+$/);return at&&Dt?`${$t}.${Ct.toString().slice(0,Dt.index)}`:wt.toString()}function setCharacteristicPrecision(a,s,et,nt){let at=a,[mt,wt]=at.toString().split(".");if(mt.match(/^-?0$/)&&et)return wt?`${mt.replace("0","")}.${wt}`:mt.replace("0","");const $t=s<0&&mt.indexOf("-")===0;if($t&&(mt=mt.slice(1),at=at.slice(1)),mt.length<nt){let Ct=nt-mt.length;for(let Dt=0;Dt<Ct;Dt++)at=`0${at}`}return $t&&(at=`-${at}`),at.toString()}function indexesOfGroupSpaces(a,s){let et=[],nt=0;for(let at=a;at>0;at--)nt===s&&(et.unshift(at),nt=0),nt++;return et}function replaceDelimiters(a,s,et,nt,at){let mt=nt.currentDelimiters(),wt=mt.thousands;at=at||mt.decimal;let $t=mt.thousandsSize||3,Ct=a.toString(),Dt=Ct.split(".")[0],Ft=Ct.split(".")[1];const jt=s<0&&Dt.indexOf("-")===0;return et&&(jt&&(Dt=Dt.slice(1)),indexesOfGroupSpaces(Dt.length,$t).forEach((tr,ir)=>{Dt=Dt.slice(0,tr+ir)+wt+Dt.slice(tr+ir)}),jt&&(Dt=`-${Dt}`)),Ft?Ct=Dt+at+Ft:Ct=Dt,Ct}function insertAbbreviation(a,s){return a+s}function insertSign(a,s,et){return s===0?a:+a==0?a.replace("-",""):s>0?`+${a}`:et==="sign"?a:`(${a.replace("-","")})`}function insertPrefix(a,s){return s+a}function insertPostfix(a,s){return a+s}function formatNumber$1({instance:a,providedFormat:s,state:et=globalState$1,decimalSeparator:nt,defaults:at=et.currentDefaults()}){let mt=a._value;if(mt===0&&et.hasZeroFormat())return et.getZeroFormat();if(!isFinite(mt))return mt.toString();let wt=Object.assign({},defaultOptions,at,s),$t=wt.totalLength,Ct=$t?0:wt.characteristic,Dt=wt.optionalCharacteristic,Ft=wt.forceAverage,jt=wt.lowPrecision,Ut=!!$t||!!Ft||wt.average,tr=$t?-1:Ut&&s.mantissa===void 0?0:wt.mantissa,ir=$t?!1:s.optionalMantissa===void 0?tr===-1:wt.optionalMantissa,sr=wt.trimMantissa,ur=wt.thousandSeparated,fr=wt.spaceSeparated,dr=wt.negative,hr=wt.forceSign,vr=wt.exponential,yr=wt.roundingFunction,xr="";if(Ut){let wr=computeAverage({value:mt,forceAverage:Ft,lowPrecision:jt,abbreviations:et.currentAbbreviations(),spaceSeparated:fr,roundingFunction:yr,totalLength:$t});mt=wr.value,xr+=wr.abbreviation,$t&&(tr=wr.mantissaPrecision)}if(vr){let wr=computeExponential({value:mt,characteristicPrecision:Ct});mt=wr.value,xr=wr.abbreviation+xr}let br=setMantissaPrecision(mt.toString(),mt,ir,tr,sr,yr);return br=setCharacteristicPrecision(br,mt,Dt,Ct),br=replaceDelimiters(br,mt,ur,et,nt),(Ut||vr)&&(br=insertAbbreviation(br,xr)),(hr||mt<0)&&(br=insertSign(br,mt,dr)),br}function formatOrDefault(a,s){if(!a)return s;let et=Object.keys(a);return et.length===1&&et[0]==="output"?s:a}var formatting=a=>({format:(...s)=>format$1(...s,a),getByteUnit:(...s)=>getByteUnit(...s,a),getBinaryByteUnit:(...s)=>getBinaryByteUnit(...s,a),getDecimalByteUnit:(...s)=>getDecimalByteUnit(...s,a),formatOrDefault});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const BigNumber=bignumberExports;function add$1(a,s,et){let nt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=nt.plus(at).toNumber(),a}function subtract(a,s,et){let nt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=nt.minus(at).toNumber(),a}function multiply(a,s,et){let nt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=nt.times(at).toNumber(),a}function divide$1(a,s,et){let nt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=nt.dividedBy(at).toNumber(),a}function set(a,s,et){let nt=s;return et.isNumbro(s)&&(nt=s._value),a._value=nt,a}function difference(a,s,et){let nt=et(a._value);return subtract(nt,s,et),Math.abs(nt._value)}var manipulating=a=>({add:(s,et)=>add$1(s,et,a),subtract:(s,et)=>subtract(s,et,a),multiply:(s,et)=>multiply(s,et,a),divide:(s,et)=>divide$1(s,et,a),set:(s,et)=>set(s,et,a),difference:(s,et)=>difference(s,et,a),BigNumber});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const VERSION="2.5.0",globalState=requireGlobalState(),validator=requireValidating(),loader=loading(numbro),unformatter=requireUnformatting();let formatter=formatting(numbro),manipulate=manipulating(numbro);const parsing=parsing$2;class Numbro{constructor(s){this._value=s}clone(){return numbro(this._value)}format(s={}){return formatter.format(this,s)}formatCurrency(s){return typeof s=="string"&&(s=parsing.parseFormat(s)),s=formatter.formatOrDefault(s,globalState.currentCurrencyDefaultFormat()),s.output="currency",formatter.format(this,s)}formatTime(s={}){return s.output="time",formatter.format(this,s)}binaryByteUnits(){return formatter.getBinaryByteUnit(this)}decimalByteUnits(){return formatter.getDecimalByteUnit(this)}byteUnits(){return formatter.getByteUnit(this)}difference(s){return manipulate.difference(this,s)}add(s){return manipulate.add(this,s)}subtract(s){return manipulate.subtract(this,s)}multiply(s){return manipulate.multiply(this,s)}divide(s){return manipulate.divide(this,s)}set(s){return manipulate.set(this,normalizeInput$1(s))}value(){return this._value}valueOf(){return this._value}}function normalizeInput$1(a){let s=a;return numbro.isNumbro(a)?s=a._value:typeof a=="string"?s=numbro.unformat(a):isNaN(a)&&(s=NaN),s}function numbro(a){return new Numbro(normalizeInput$1(a))}numbro.version=VERSION;numbro.isNumbro=function(a){return a instanceof Numbro};numbro.language=globalState.currentLanguage;numbro.registerLanguage=globalState.registerLanguage;numbro.setLanguage=globalState.setLanguage;numbro.languages=globalState.languages;numbro.languageData=globalState.languageData;numbro.zeroFormat=globalState.setZeroFormat;numbro.defaultFormat=globalState.currentDefaults;numbro.setDefaults=globalState.setDefaults;numbro.defaultCurrencyFormat=globalState.currentCurrencyDefaultFormat;numbro.validate=validator.validate;numbro.loadLanguagesInNode=loader.loadLanguagesInNode;numbro.unformat=unformatter.unformat;numbro.BigNumber=manipulate.BigNumber;var numbro_1=numbro,numbro$1=getDefaultExportFromCjs(numbro_1);const d$1=a=>Decimal$1.isDecimal(a)?a:new Decimal$1(typeof a>"u"||a==="undefined"||!a?0:a),addComma=a=>{try{return d$1(a).gt(1)?numbro$1(a).format({thousandSeparated:!0,exponential:!1}):a}catch{return a}},addCommaWithNoMantissa=a=>{try{return d$1(a).gt(1)?numbro$1(a).format({thousandSeparated:!0,mantissa:0}):a}catch{return a}},fixRounding=(a,s)=>d$1(a).toDP(s,Decimal$1.ROUND_HALF_DOWN).toString(),fixNumber=(a,s,et)=>d$1(a).toDP(s,et).toString(),fixDown=(a,s)=>{try{return d$1(a).toDP(s,Decimal$1.ROUND_DOWN).toString()}catch{return String(a)}};function getGtZeroIndex(a){let s=0;if(a)for(;s<a.length;){if(d$1(a[s]).gt(0))return s;s++}return 0}dayjs.extend(relativeTime);dayjs.extend(duration);const formatCurrency$1=(a,s,et,nt)=>{try{if(a===void 0||a==="--")return"$--";const at=formatNumberWithDown(a,s,!0).toString();if(d$1(at).equals(0))return"$0";const mt=at.startsWith("-");let wt=nt?at:addComma(at).toString();return wt.includes("e")&&(wt=nt?at:addCommaWithNoMantissa(at).toString()),!et&&Number(at)<Math.pow(10,-s)?mt?`-$${wt.slice(1)}`:`<$${Math.pow(10,-s).toFixed(s)}`:mt?`-$${wt.slice(1)}`:`$${wt}`}catch(at){return console.log("🚀 ~ formatCurrency ~ error:",at),"$--"}},formatPercentage=(a,s=2,et=!1,nt=!1)=>{if(a===void 0)return"--";if(d$1(a).equals(0))return nt?`< ${Math.pow(10,-s)}%`:"0%";if(!et){if(Number(a)>=0&&Number(a)<=Math.pow(10,-s))return`<${Math.pow(10,-s).toFixed(s)}%`;if(Number(a)<0&&Number(a)*-1<=Math.pow(10,-s))return` < -${Math.pow(10,-s).toFixed(s)}%`}return`${fixDown(a,s)}%`},formatNumber=(a,s,et,nt=Decimal$1.ROUND_HALF_DOWN,at=!1)=>{if(a==="∞")return"∞";if(a!=="0"&&!a||(a=convertScientificToDecimal(a.toString(),s),d$1(a).equals(0)))return"0";if(s!==void 0){const Ft=fixNumber(a,s,nt);if(d$1(Ft).equals(0)){if(at)return Ft}else return et?Ft:addComma(Ft)}const mt=d$1(a).toString(),wt=mt.split("."),$t=wt[0],Ct=wt[1];let Dt;if(d$1($t).gt(0))!Ct||d$1($t.length).gte(9)?Dt=fixNumber(mt,0,nt):d$1($t.length).gte(4)?Dt=fixNumber(mt,2,nt):Dt=fixNumber(mt,4,nt);else{fixNumber(mt,6,nt);const Ft=getGtZeroIndex(Ct);if(Ft<6)Dt=fixNumber(mt,Ft+6,nt);else if(Ft>=6&&Ft<=38)Dt=fixNumber(mt,Ft+4,nt);else return"0"}return et||d$1($t).lt(1)?Dt:addComma(Dt)},formatNumberWithDown=(a,s,et,nt=!1)=>formatNumber(a,s,et,Decimal$1.ROUND_DOWN,nt),formatTickPrice=(a,s,et)=>{const at=d$1(a).toString().split("."),mt=at[0],wt=at[1];if(mt==="0"&&s){const $t=getGtZeroIndex(wt),Ct=s-$t,Dt=Ct<=0?Number($t):s;return Ct<=2?formatNumber(a,Dt+2,et,Decimal$1.ROUND_DOWN):formatNumber(a,s,et,Decimal$1.ROUND_DOWN)}else return formatNumber(a,s,et,Decimal$1.ROUND_DOWN)},formatPrice=(a,s,et)=>{if(a==="∞")return"∞";if(a!=="0"&&!a||d$1(a).equals(0))return"0";if(s!==void 0){const Ct=fixDown(a,s);if(!d$1(Ct).equals(0))return String(et?Ct:addComma(Ct))}const nt=d$1(a).toString(),at=nt.split("."),mt=at[0],wt=at[1];let $t;if(d$1(mt).gt(0))d$1(mt).gt(9)?$t=fixDown(nt,2):$t=fixDown(nt,3);else{const Ct=getGtZeroIndex(wt);$t=fixDown(nt,Ct+3)}return et||d$1(mt).lt(1)?String($t):String(addComma($t))},formatCurrencyWithKMB=(a,s=2)=>{var at;const et=d$1(a||"0");let nt;return et.gte(Math.pow(10,9))?nt=formatCurrency$1(fixRounding((at=et.div(Math.pow(10,9)))==null?void 0:at.toString(),s),s)+"B":nt=formatCurrency$1(a,s),nt},formatDateTime=a=>a?dayjs(a).format("YYYY-MM-DD HH:mm:ss"):"",fixDEAdd=(a,s,et=!0)=>{if(`${a}`=="0")return!parseFloat(s)||!et?"0":"0.".padEnd(s+2,"0");if(!a)return"--";const nt=parseFloat(a),at=a.toString(),mt=nt<0;let wt=at;if(at.toLowerCase().includes("e")){const $t=at.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/);if(!$t)return a.toString();const Ct=$t[1]||"0",Dt=$t[2]||"",Ft=$t[3],jt=parseInt($t[4],10);let Ut="",tr=Dt.substring(jt)||"";if(tr&&(tr=`.${tr}`),Ft!=="-"){for(let ir=0;ir<jt;ir++)Ut+=Dt[ir]||"0";wt=Ct+Ut+tr}else{let ir="0";for(let sr=0;sr<jt;sr++)Ut=(Ct[Ct.length-sr-1]||"0")+Ut;Ct.length>jt&&(ir=Ct.substring(0,Ct.length-jt)),wt=`${ir}.${Ut}${Dt}`}}if(s&&et){let $t=`${wt.split(".")[0]}.`;const Ct=wt.split(".")[1]||"";for(let Dt=0;Dt<s;Dt++)$t+=Ct[Dt]||"0";wt=$t}return`${mt?"-":""}${wt}`};function formatCurrencyInput(a,s=6){try{const et=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${s}})?).*$`);return a.replace(et,"$1")}catch(et){return console.log("🚀 ~ formatCurrencyInput ~ error:",et),""}}const inputValue="abc123.456def",formattedValue=formatCurrencyInput(inputValue,2);console.log(formattedValue);function fromDecimalsAmountFix(a,s){const et=fromDecimalsAmount(a,s);return convertScientificToDecimal(et.toString(),Number(s))}function convertScientificToDecimal(a,s=9){if(a===void 0)return"";const et=a==null?void 0:a.toLowerCase();if(et.includes("e")){if(et.includes("+"))return fixDEAdd(et,s);const[nt,at]=et.split("e");let mt=nt;const wt=Math.abs(parseInt(at,10));let $t="",Ct=mt.length;if(nt.includes(".")){const[Dt,Ft]=nt.split(".");mt=Dt+Ft,Ct=Dt.length}for(let Dt=0;Dt<wt-Ct;Dt++)$t+="0";return`0.${$t}${mt}`.slice(0,s+2)}return a}const removePercentSign=a=>{if(a!=null&&a.includes("%")){const s=a.split("%");return d$1(s==null?void 0:s[0]).equals("0")?"0":d$1(s==null?void 0:s[0]).div(100).toString()}return a};function symbolDataDisplayProcessing(a,s="$",et=2){if(a==="--")return"--";const nt=d$1(10).pow(-et).toString();return d$1(a).gt(0)&&d$1(a).lt(nt)?s==="%"?`<${nt}${s}`:`<${s}${nt}`:s==="%"?`${formatNumberWithDown(a,et)}${s}`:`${s}${formatNumberWithDown(a,et)}`}const TOKEN_MAP_KEY="tokenMap",COLLECT_TOKEN_LIST="collectTokenList",USER_COLLECT_TOKEN_LIST="userCollectTokenList",IMPORT_TOKEN_LIST="importTokenList",LIQUIDITY_TRUST_TOKEN_LIST="liquidityTrustTokenList",IS_WATCH_LIST="isWatchList",IS_ALL_POOLS="isAllPools",IS_INCENTIVIZED_ONLY="isIncentivizedOnly",POOL_FAVORITE_LIST="poolFavoriteList",NOTIFI_SIGNATURE="notifiSignature";function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(a,s){(function(et){a.exports=et()})(function(){return function et(nt,at,mt){function wt(Dt,Ft){if(!at[Dt]){if(!nt[Dt]){var jt=typeof commonjsRequire=="function"&&commonjsRequire;if(!Ft&&jt)return jt(Dt,!0);if($t)return $t(Dt,!0);var Ut=new Error("Cannot find module '"+Dt+"'");throw Ut.code="MODULE_NOT_FOUND",Ut}var tr=at[Dt]={exports:{}};nt[Dt][0].call(tr.exports,function(ir){var sr=nt[Dt][1][ir];return wt(sr||ir)},tr,tr.exports,et,nt,at,mt)}return at[Dt].exports}for(var $t=typeof commonjsRequire=="function"&&commonjsRequire,Ct=0;Ct<mt.length;Ct++)wt(mt[Ct]);return wt}({1:[function(et,nt,at){(function(mt){var wt=mt.MutationObserver||mt.WebKitMutationObserver,$t;if(wt){var Ct=0,Dt=new wt(ir),Ft=mt.document.createTextNode("");Dt.observe(Ft,{characterData:!0}),$t=function(){Ft.data=Ct=++Ct%2}}else if(!mt.setImmediate&&typeof mt.MessageChannel<"u"){var jt=new mt.MessageChannel;jt.port1.onmessage=ir,$t=function(){jt.port2.postMessage(0)}}else"document"in mt&&"onreadystatechange"in mt.document.createElement("script")?$t=function(){var ur=mt.document.createElement("script");ur.onreadystatechange=function(){ir(),ur.onreadystatechange=null,ur.parentNode.removeChild(ur),ur=null},mt.document.documentElement.appendChild(ur)}:$t=function(){setTimeout(ir,0)};var Ut,tr=[];function ir(){Ut=!0;for(var ur,fr,dr=tr.length;dr;){for(fr=tr,tr=[],ur=-1;++ur<dr;)fr[ur]();dr=tr.length}Ut=!1}nt.exports=sr;function sr(ur){tr.push(ur)===1&&!Ut&&$t()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(et,nt,at){var mt=et(1);function wt(){}var $t={},Ct=["REJECTED"],Dt=["FULFILLED"],Ft=["PENDING"];nt.exports=jt;function jt(yr){if(typeof yr!="function")throw new TypeError("resolver must be a function");this.state=Ft,this.queue=[],this.outcome=void 0,yr!==wt&&sr(this,yr)}jt.prototype.catch=function(yr){return this.then(null,yr)},jt.prototype.then=function(yr,xr){if(typeof yr!="function"&&this.state===Dt||typeof xr!="function"&&this.state===Ct)return this;var br=new this.constructor(wt);if(this.state!==Ft){var wr=this.state===Dt?yr:xr;tr(br,wr,this.outcome)}else this.queue.push(new Ut(br,yr,xr));return br};function Ut(yr,xr,br){this.promise=yr,typeof xr=="function"&&(this.onFulfilled=xr,this.callFulfilled=this.otherCallFulfilled),typeof br=="function"&&(this.onRejected=br,this.callRejected=this.otherCallRejected)}Ut.prototype.callFulfilled=function(yr){$t.resolve(this.promise,yr)},Ut.prototype.otherCallFulfilled=function(yr){tr(this.promise,this.onFulfilled,yr)},Ut.prototype.callRejected=function(yr){$t.reject(this.promise,yr)},Ut.prototype.otherCallRejected=function(yr){tr(this.promise,this.onRejected,yr)};function tr(yr,xr,br){mt(function(){var wr;try{wr=xr(br)}catch(Sr){return $t.reject(yr,Sr)}wr===yr?$t.reject(yr,new TypeError("Cannot resolve promise with itself")):$t.resolve(yr,wr)})}$t.resolve=function(yr,xr){var br=ur(ir,xr);if(br.status==="error")return $t.reject(yr,br.value);var wr=br.value;if(wr)sr(yr,wr);else{yr.state=Dt,yr.outcome=xr;for(var Sr=-1,Cr=yr.queue.length;++Sr<Cr;)yr.queue[Sr].callFulfilled(xr)}return yr},$t.reject=function(yr,xr){yr.state=Ct,yr.outcome=xr;for(var br=-1,wr=yr.queue.length;++br<wr;)yr.queue[br].callRejected(xr);return yr};function ir(yr){var xr=yr&&yr.then;if(yr&&(typeof yr=="object"||typeof yr=="function")&&typeof xr=="function")return function(){xr.apply(yr,arguments)}}function sr(yr,xr){var br=!1;function wr(Nt){br||(br=!0,$t.reject(yr,Nt))}function Sr(Nt){br||(br=!0,$t.resolve(yr,Nt))}function Cr(){xr(Sr,wr)}var cr=ur(Cr);cr.status==="error"&&wr(cr.value)}function ur(yr,xr){var br={};try{br.value=yr(xr),br.status="success"}catch(wr){br.status="error",br.value=wr}return br}jt.resolve=fr;function fr(yr){return yr instanceof this?yr:$t.resolve(new this(wt),yr)}jt.reject=dr;function dr(yr){var xr=new this(wt);return $t.reject(xr,yr)}jt.all=hr;function hr(yr){var xr=this;if(Object.prototype.toString.call(yr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var br=yr.length,wr=!1;if(!br)return this.resolve([]);for(var Sr=new Array(br),Cr=0,cr=-1,Nt=new this(wt);++cr<br;)Vt(yr[cr],cr);return Nt;function Vt(er,Yt){xr.resolve(er).then(rr,function(ar){wr||(wr=!0,$t.reject(Nt,ar))});function rr(ar){Sr[Yt]=ar,++Cr===br&&!wr&&(wr=!0,$t.resolve(Nt,Sr))}}}jt.race=vr;function vr(yr){var xr=this;if(Object.prototype.toString.call(yr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var br=yr.length,wr=!1;if(!br)return this.resolve([]);for(var Sr=-1,Cr=new this(wt);++Sr<br;)cr(yr[Sr]);return Cr;function cr(Nt){xr.resolve(Nt).then(function(Vt){wr||(wr=!0,$t.resolve(Cr,Vt))},function(Vt){wr||(wr=!0,$t.reject(Cr,Vt))})}}},{1:1}],3:[function(et,nt,at){(function(mt){typeof mt.Promise!="function"&&(mt.Promise=et(2))}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(et,nt,at){var mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kr){return typeof Kr}:function(Kr){return Kr&&typeof Symbol=="function"&&Kr.constructor===Symbol&&Kr!==Symbol.prototype?"symbol":typeof Kr};function wt(Kr,Dn){if(!(Kr instanceof Dn))throw new TypeError("Cannot call a class as a function")}function $t(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var Ct=$t();function Dt(){try{if(!Ct||!Ct.open)return!1;var Kr=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Dn=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Kr||Dn)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function Ft(Kr,Dn){Kr=Kr||[],Dn=Dn||{};try{return new Blob(Kr,Dn)}catch(Gn){if(Gn.name!=="TypeError")throw Gn;for(var Jr=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Xn=new Jr,to=0;to<Kr.length;to+=1)Xn.append(Kr[to]);return Xn.getBlob(Dn.type)}}typeof Promise>"u"&&et(3);var jt=Promise;function Ut(Kr,Dn){Dn&&Kr.then(function(Jr){Dn(null,Jr)},function(Jr){Dn(Jr)})}function tr(Kr,Dn,Jr){typeof Dn=="function"&&Kr.then(Dn),typeof Jr=="function"&&Kr.catch(Jr)}function ir(Kr){return typeof Kr!="string"&&(console.warn(Kr+" used as a key, but it is not a string."),Kr=String(Kr)),Kr}function sr(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ur="local-forage-detect-blob-support",fr=void 0,dr={},hr=Object.prototype.toString,vr="readonly",yr="readwrite";function xr(Kr){for(var Dn=Kr.length,Jr=new ArrayBuffer(Dn),Xn=new Uint8Array(Jr),to=0;to<Dn;to++)Xn[to]=Kr.charCodeAt(to);return Jr}function br(Kr){return new jt(function(Dn){var Jr=Kr.transaction(ur,yr),Xn=Ft([""]);Jr.objectStore(ur).put(Xn,"key"),Jr.onabort=function(to){to.preventDefault(),to.stopPropagation(),Dn(!1)},Jr.oncomplete=function(){var to=navigator.userAgent.match(/Chrome\/(\d+)/),Gn=navigator.userAgent.match(/Edge\//);Dn(Gn||!to||parseInt(to[1],10)>=43)}}).catch(function(){return!1})}function wr(Kr){return typeof fr=="boolean"?jt.resolve(fr):br(Kr).then(function(Dn){return fr=Dn,fr})}function Sr(Kr){var Dn=dr[Kr.name],Jr={};Jr.promise=new jt(function(Xn,to){Jr.resolve=Xn,Jr.reject=to}),Dn.deferredOperations.push(Jr),Dn.dbReady?Dn.dbReady=Dn.dbReady.then(function(){return Jr.promise}):Dn.dbReady=Jr.promise}function Cr(Kr){var Dn=dr[Kr.name],Jr=Dn.deferredOperations.pop();if(Jr)return Jr.resolve(),Jr.promise}function cr(Kr,Dn){var Jr=dr[Kr.name],Xn=Jr.deferredOperations.pop();if(Xn)return Xn.reject(Dn),Xn.promise}function Nt(Kr,Dn){return new jt(function(Jr,Xn){if(dr[Kr.name]=dr[Kr.name]||gr(),Kr.db)if(Dn)Sr(Kr),Kr.db.close();else return Jr(Kr.db);var to=[Kr.name];Dn&&to.push(Kr.version);var Gn=Ct.open.apply(Ct,to);Dn&&(Gn.onupgradeneeded=function(so){var ho=Gn.result;try{ho.createObjectStore(Kr.storeName),so.oldVersion<=1&&ho.createObjectStore(ur)}catch(mo){if(mo.name==="ConstraintError")console.warn('The database "'+Kr.name+'" has been upgraded from version '+so.oldVersion+" to version "+so.newVersion+', but the storage "'+Kr.storeName+'" already exists.');else throw mo}}),Gn.onerror=function(so){so.preventDefault(),Xn(Gn.error)},Gn.onsuccess=function(){var so=Gn.result;so.onversionchange=function(ho){ho.target.close()},Jr(so),Cr(Kr)}})}function Vt(Kr){return Nt(Kr,!1)}function er(Kr){return Nt(Kr,!0)}function Yt(Kr,Dn){if(!Kr.db)return!0;var Jr=!Kr.db.objectStoreNames.contains(Kr.storeName),Xn=Kr.version<Kr.db.version,to=Kr.version>Kr.db.version;if(Xn&&(Kr.version!==Dn&&console.warn('The database "'+Kr.name+`" can't be downgraded from version `+Kr.db.version+" to version "+Kr.version+"."),Kr.version=Kr.db.version),to||Jr){if(Jr){var Gn=Kr.db.version+1;Gn>Kr.version&&(Kr.version=Gn)}return!0}return!1}function rr(Kr){return new jt(function(Dn,Jr){var Xn=new FileReader;Xn.onerror=Jr,Xn.onloadend=function(to){var Gn=btoa(to.target.result||"");Dn({__local_forage_encoded_blob:!0,data:Gn,type:Kr.type})},Xn.readAsBinaryString(Kr)})}function ar(Kr){var Dn=xr(atob(Kr.data));return Ft([Dn],{type:Kr.type})}function lr(Kr){return Kr&&Kr.__local_forage_encoded_blob}function nr(Kr){var Dn=this,Jr=Dn._initReady().then(function(){var Xn=dr[Dn._dbInfo.name];if(Xn&&Xn.dbReady)return Xn.dbReady});return tr(Jr,Kr,Kr),Jr}function Lt(Kr){Sr(Kr);for(var Dn=dr[Kr.name],Jr=Dn.forages,Xn=0;Xn<Jr.length;Xn++){var to=Jr[Xn];to._dbInfo.db&&(to._dbInfo.db.close(),to._dbInfo.db=null)}return Kr.db=null,Vt(Kr).then(function(Gn){return Kr.db=Gn,Yt(Kr)?er(Kr):Gn}).then(function(Gn){Kr.db=Dn.db=Gn;for(var so=0;so<Jr.length;so++)Jr[so]._dbInfo.db=Gn}).catch(function(Gn){throw cr(Kr,Gn),Gn})}function or(Kr,Dn,Jr,Xn){Xn===void 0&&(Xn=1);try{var to=Kr.db.transaction(Kr.storeName,Dn);Jr(null,to)}catch(Gn){if(Xn>0&&(!Kr.db||Gn.name==="InvalidStateError"||Gn.name==="NotFoundError"))return jt.resolve().then(function(){if(!Kr.db||Gn.name==="NotFoundError"&&!Kr.db.objectStoreNames.contains(Kr.storeName)&&Kr.version<=Kr.db.version)return Kr.db&&(Kr.version=Kr.db.version+1),er(Kr)}).then(function(){return Lt(Kr).then(function(){or(Kr,Dn,Jr,Xn-1)})}).catch(Jr);Jr(Gn)}}function gr(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function pr(Kr){var Dn=this,Jr={db:null};if(Kr)for(var Xn in Kr)Jr[Xn]=Kr[Xn];var to=dr[Jr.name];to||(to=gr(),dr[Jr.name]=to),to.forages.push(Dn),Dn._initReady||(Dn._initReady=Dn.ready,Dn.ready=nr);var Gn=[];function so(){return jt.resolve()}for(var ho=0;ho<to.forages.length;ho++){var mo=to.forages[ho];mo!==Dn&&Gn.push(mo._initReady().catch(so))}var vo=to.forages.slice(0);return jt.all(Gn).then(function(){return Jr.db=to.db,Vt(Jr)}).then(function(yo){return Jr.db=yo,Yt(Jr,Dn._defaultConfig.version)?er(Jr):yo}).then(function(yo){Jr.db=to.db=yo,Dn._dbInfo=Jr;for(var Ao=0;Ao<vo.length;Ao++){var Go=vo[Ao];Go!==Dn&&(Go._dbInfo.db=Jr.db,Go._dbInfo.version=Jr.version)}})}function _r(Kr,Dn){var Jr=this;Kr=ir(Kr);var Xn=new jt(function(to,Gn){Jr.ready().then(function(){or(Jr._dbInfo,vr,function(so,ho){if(so)return Gn(so);try{var mo=ho.objectStore(Jr._dbInfo.storeName),vo=mo.get(Kr);vo.onsuccess=function(){var yo=vo.result;yo===void 0&&(yo=null),lr(yo)&&(yo=ar(yo)),to(yo)},vo.onerror=function(){Gn(vo.error)}}catch(yo){Gn(yo)}})}).catch(Gn)});return Ut(Xn,Dn),Xn}function kr(Kr,Dn){var Jr=this,Xn=new jt(function(to,Gn){Jr.ready().then(function(){or(Jr._dbInfo,vr,function(so,ho){if(so)return Gn(so);try{var mo=ho.objectStore(Jr._dbInfo.storeName),vo=mo.openCursor(),yo=1;vo.onsuccess=function(){var Ao=vo.result;if(Ao){var Go=Ao.value;lr(Go)&&(Go=ar(Go));var Zo=Kr(Go,Ao.key,yo++);Zo!==void 0?to(Zo):Ao.continue()}else to()},vo.onerror=function(){Gn(vo.error)}}catch(Ao){Gn(Ao)}})}).catch(Gn)});return Ut(Xn,Dn),Xn}function Mr(Kr,Dn,Jr){var Xn=this;Kr=ir(Kr);var to=new jt(function(Gn,so){var ho;Xn.ready().then(function(){return ho=Xn._dbInfo,hr.call(Dn)==="[object Blob]"?wr(ho.db).then(function(mo){return mo?Dn:rr(Dn)}):Dn}).then(function(mo){or(Xn._dbInfo,yr,function(vo,yo){if(vo)return so(vo);try{var Ao=yo.objectStore(Xn._dbInfo.storeName);mo===null&&(mo=void 0);var Go=Ao.put(mo,Kr);yo.oncomplete=function(){mo===void 0&&(mo=null),Gn(mo)},yo.onabort=yo.onerror=function(){var Zo=Go.error?Go.error:Go.transaction.error;so(Zo)}}catch(Zo){so(Zo)}})}).catch(so)});return Ut(to,Jr),to}function $r(Kr,Dn){var Jr=this;Kr=ir(Kr);var Xn=new jt(function(to,Gn){Jr.ready().then(function(){or(Jr._dbInfo,yr,function(so,ho){if(so)return Gn(so);try{var mo=ho.objectStore(Jr._dbInfo.storeName),vo=mo.delete(Kr);ho.oncomplete=function(){to()},ho.onerror=function(){Gn(vo.error)},ho.onabort=function(){var yo=vo.error?vo.error:vo.transaction.error;Gn(yo)}}catch(yo){Gn(yo)}})}).catch(Gn)});return Ut(Xn,Dn),Xn}function Pr(Kr){var Dn=this,Jr=new jt(function(Xn,to){Dn.ready().then(function(){or(Dn._dbInfo,yr,function(Gn,so){if(Gn)return to(Gn);try{var ho=so.objectStore(Dn._dbInfo.storeName),mo=ho.clear();so.oncomplete=function(){Xn()},so.onabort=so.onerror=function(){var vo=mo.error?mo.error:mo.transaction.error;to(vo)}}catch(vo){to(vo)}})}).catch(to)});return Ut(Jr,Kr),Jr}function Fr(Kr){var Dn=this,Jr=new jt(function(Xn,to){Dn.ready().then(function(){or(Dn._dbInfo,vr,function(Gn,so){if(Gn)return to(Gn);try{var ho=so.objectStore(Dn._dbInfo.storeName),mo=ho.count();mo.onsuccess=function(){Xn(mo.result)},mo.onerror=function(){to(mo.error)}}catch(vo){to(vo)}})}).catch(to)});return Ut(Jr,Kr),Jr}function Tr(Kr,Dn){var Jr=this,Xn=new jt(function(to,Gn){if(Kr<0){to(null);return}Jr.ready().then(function(){or(Jr._dbInfo,vr,function(so,ho){if(so)return Gn(so);try{var mo=ho.objectStore(Jr._dbInfo.storeName),vo=!1,yo=mo.openKeyCursor();yo.onsuccess=function(){var Ao=yo.result;if(!Ao){to(null);return}Kr===0||vo?to(Ao.key):(vo=!0,Ao.advance(Kr))},yo.onerror=function(){Gn(yo.error)}}catch(Ao){Gn(Ao)}})}).catch(Gn)});return Ut(Xn,Dn),Xn}function Rr(Kr){var Dn=this,Jr=new jt(function(Xn,to){Dn.ready().then(function(){or(Dn._dbInfo,vr,function(Gn,so){if(Gn)return to(Gn);try{var ho=so.objectStore(Dn._dbInfo.storeName),mo=ho.openKeyCursor(),vo=[];mo.onsuccess=function(){var yo=mo.result;if(!yo){Xn(vo);return}vo.push(yo.key),yo.continue()},mo.onerror=function(){to(mo.error)}}catch(yo){to(yo)}})}).catch(to)});return Ut(Jr,Kr),Jr}function Er(Kr,Dn){Dn=sr.apply(this,arguments);var Jr=this.config();Kr=typeof Kr!="function"&&Kr||{},Kr.name||(Kr.name=Kr.name||Jr.name,Kr.storeName=Kr.storeName||Jr.storeName);var Xn=this,to;if(!Kr.name)to=jt.reject("Invalid arguments");else{var Gn=Kr.name===Jr.name&&Xn._dbInfo.db,so=Gn?jt.resolve(Xn._dbInfo.db):Vt(Kr).then(function(ho){var mo=dr[Kr.name],vo=mo.forages;mo.db=ho;for(var yo=0;yo<vo.length;yo++)vo[yo]._dbInfo.db=ho;return ho});Kr.storeName?to=so.then(function(ho){if(ho.objectStoreNames.contains(Kr.storeName)){var mo=ho.version+1;Sr(Kr);var vo=dr[Kr.name],yo=vo.forages;ho.close();for(var Ao=0;Ao<yo.length;Ao++){var Go=yo[Ao];Go._dbInfo.db=null,Go._dbInfo.version=mo}var Zo=new jt(function(Qo,es){var ts=Ct.open(Kr.name,mo);ts.onerror=function(ps){var $l=ts.result;$l.close(),es(ps)},ts.onupgradeneeded=function(){var ps=ts.result;ps.deleteObjectStore(Kr.storeName)},ts.onsuccess=function(){var ps=ts.result;ps.close(),Qo(ps)}});return Zo.then(function(Qo){vo.db=Qo;for(var es=0;es<yo.length;es++){var ts=yo[es];ts._dbInfo.db=Qo,Cr(ts._dbInfo)}}).catch(function(Qo){throw(cr(Kr,Qo)||jt.resolve()).catch(function(){}),Qo})}}):to=so.then(function(ho){Sr(Kr);var mo=dr[Kr.name],vo=mo.forages;ho.close();for(var yo=0;yo<vo.length;yo++){var Ao=vo[yo];Ao._dbInfo.db=null}var Go=new jt(function(Zo,Qo){var es=Ct.deleteDatabase(Kr.name);es.onerror=function(){var ts=es.result;ts&&ts.close(),Qo(es.error)},es.onblocked=function(){console.warn('dropInstance blocked for database "'+Kr.name+'" until all open connections are closed')},es.onsuccess=function(){var ts=es.result;ts&&ts.close(),Zo(ts)}});return Go.then(function(Zo){mo.db=Zo;for(var Qo=0;Qo<vo.length;Qo++){var es=vo[Qo];Cr(es._dbInfo)}}).catch(function(Zo){throw(cr(Kr,Zo)||jt.resolve()).catch(function(){}),Zo})})}return Ut(to,Dn),to}var Or={_driver:"asyncStorage",_initStorage:pr,_support:Dt(),iterate:kr,getItem:_r,setItem:Mr,removeItem:$r,clear:Pr,length:Fr,key:Tr,keys:Rr,dropInstance:Er};function Wr(){return typeof openDatabase=="function"}var qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vr="~~local_forage_type~",Ur=/^~~local_forage_type~([^~]+)~/,Lr="__lfsc__:",Br=Lr.length,Xr="arbf",zr="blob",Qr="si08",Qn="ui08",nn="uic8",$n="si16",lo="si32",sn="ur16",Nn="ui32",xo="fl32",Ir="fl64",Ar=Br+Xr.length,Dr=Object.prototype.toString;function Nr(Kr){var Dn=Kr.length*.75,Jr=Kr.length,Xn,to=0,Gn,so,ho,mo;Kr[Kr.length-1]==="="&&(Dn--,Kr[Kr.length-2]==="="&&Dn--);var vo=new ArrayBuffer(Dn),yo=new Uint8Array(vo);for(Xn=0;Xn<Jr;Xn+=4)Gn=qr.indexOf(Kr[Xn]),so=qr.indexOf(Kr[Xn+1]),ho=qr.indexOf(Kr[Xn+2]),mo=qr.indexOf(Kr[Xn+3]),yo[to++]=Gn<<2|so>>4,yo[to++]=(so&15)<<4|ho>>2,yo[to++]=(ho&3)<<6|mo&63;return vo}function Gr(Kr){var Dn=new Uint8Array(Kr),Jr="",Xn;for(Xn=0;Xn<Dn.length;Xn+=3)Jr+=qr[Dn[Xn]>>2],Jr+=qr[(Dn[Xn]&3)<<4|Dn[Xn+1]>>4],Jr+=qr[(Dn[Xn+1]&15)<<2|Dn[Xn+2]>>6],Jr+=qr[Dn[Xn+2]&63];return Dn.length%3===2?Jr=Jr.substring(0,Jr.length-1)+"=":Dn.length%3===1&&(Jr=Jr.substring(0,Jr.length-2)+"=="),Jr}function Un(Kr,Dn){var Jr="";if(Kr&&(Jr=Dr.call(Kr)),Kr&&(Jr==="[object ArrayBuffer]"||Kr.buffer&&Dr.call(Kr.buffer)==="[object ArrayBuffer]")){var Xn,to=Lr;Kr instanceof ArrayBuffer?(Xn=Kr,to+=Xr):(Xn=Kr.buffer,Jr==="[object Int8Array]"?to+=Qr:Jr==="[object Uint8Array]"?to+=Qn:Jr==="[object Uint8ClampedArray]"?to+=nn:Jr==="[object Int16Array]"?to+=$n:Jr==="[object Uint16Array]"?to+=sn:Jr==="[object Int32Array]"?to+=lo:Jr==="[object Uint32Array]"?to+=Nn:Jr==="[object Float32Array]"?to+=xo:Jr==="[object Float64Array]"?to+=Ir:Dn(new Error("Failed to get type for BinaryArray"))),Dn(to+Gr(Xn))}else if(Jr==="[object Blob]"){var Gn=new FileReader;Gn.onload=function(){var so=Vr+Kr.type+"~"+Gr(this.result);Dn(Lr+zr+so)},Gn.readAsArrayBuffer(Kr)}else try{Dn(JSON.stringify(Kr))}catch(so){console.error("Couldn't convert value into a JSON string: ",Kr),Dn(null,so)}}function Zr(Kr){if(Kr.substring(0,Br)!==Lr)return JSON.parse(Kr);var Dn=Kr.substring(Ar),Jr=Kr.substring(Br,Ar),Xn;if(Jr===zr&&Ur.test(Dn)){var to=Dn.match(Ur);Xn=to[1],Dn=Dn.substring(to[0].length)}var Gn=Nr(Dn);switch(Jr){case Xr:return Gn;case zr:return Ft([Gn],{type:Xn});case Qr:return new Int8Array(Gn);case Qn:return new Uint8Array(Gn);case nn:return new Uint8ClampedArray(Gn);case $n:return new Int16Array(Gn);case sn:return new Uint16Array(Gn);case lo:return new Int32Array(Gn);case Nn:return new Uint32Array(Gn);case xo:return new Float32Array(Gn);case Ir:return new Float64Array(Gn);default:throw new Error("Unkown type: "+Jr)}}var Cn={serialize:Un,deserialize:Zr,stringToBuffer:Nr,bufferToString:Gr};function wo(Kr,Dn,Jr,Xn){Kr.executeSql("CREATE TABLE IF NOT EXISTS "+Dn.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Jr,Xn)}function Hn(Kr){var Dn=this,Jr={db:null};if(Kr)for(var Xn in Kr)Jr[Xn]=typeof Kr[Xn]!="string"?Kr[Xn].toString():Kr[Xn];var to=new jt(function(Gn,so){try{Jr.db=openDatabase(Jr.name,String(Jr.version),Jr.description,Jr.size)}catch(ho){return so(ho)}Jr.db.transaction(function(ho){wo(ho,Jr,function(){Dn._dbInfo=Jr,Gn()},function(mo,vo){so(vo)})},so)});return Jr.serializer=Cn,to}function Kn(Kr,Dn,Jr,Xn,to,Gn){Kr.executeSql(Jr,Xn,to,function(so,ho){ho.code===ho.SYNTAX_ERR?so.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Dn.storeName],function(mo,vo){vo.rows.length?Gn(mo,ho):wo(mo,Dn,function(){mo.executeSql(Jr,Xn,to,Gn)},Gn)},Gn):Gn(so,ho)},Gn)}function bo(Kr,Dn){var Jr=this;Kr=ir(Kr);var Xn=new jt(function(to,Gn){Jr.ready().then(function(){var so=Jr._dbInfo;so.db.transaction(function(ho){Kn(ho,so,"SELECT * FROM "+so.storeName+" WHERE key = ? LIMIT 1",[Kr],function(mo,vo){var yo=vo.rows.length?vo.rows.item(0).value:null;yo&&(yo=so.serializer.deserialize(yo)),to(yo)},function(mo,vo){Gn(vo)})})}).catch(Gn)});return Ut(Xn,Dn),Xn}function Jn(Kr,Dn){var Jr=this,Xn=new jt(function(to,Gn){Jr.ready().then(function(){var so=Jr._dbInfo;so.db.transaction(function(ho){Kn(ho,so,"SELECT * FROM "+so.storeName,[],function(mo,vo){for(var yo=vo.rows,Ao=yo.length,Go=0;Go<Ao;Go++){var Zo=yo.item(Go),Qo=Zo.value;if(Qo&&(Qo=so.serializer.deserialize(Qo)),Qo=Kr(Qo,Zo.key,Go+1),Qo!==void 0){to(Qo);return}}to()},function(mo,vo){Gn(vo)})})}).catch(Gn)});return Ut(Xn,Dn),Xn}function no(Kr,Dn,Jr,Xn){var to=this;Kr=ir(Kr);var Gn=new jt(function(so,ho){to.ready().then(function(){Dn===void 0&&(Dn=null);var mo=Dn,vo=to._dbInfo;vo.serializer.serialize(Dn,function(yo,Ao){Ao?ho(Ao):vo.db.transaction(function(Go){Kn(Go,vo,"INSERT OR REPLACE INTO "+vo.storeName+" (key, value) VALUES (?, ?)",[Kr,yo],function(){so(mo)},function(Zo,Qo){ho(Qo)})},function(Go){if(Go.code===Go.QUOTA_ERR){if(Xn>0){so(no.apply(to,[Kr,mo,Jr,Xn-1]));return}ho(Go)}})})}).catch(ho)});return Ut(Gn,Jr),Gn}function Do(Kr,Dn,Jr){return no.apply(this,[Kr,Dn,Jr,1])}function eo(Kr,Dn){var Jr=this;Kr=ir(Kr);var Xn=new jt(function(to,Gn){Jr.ready().then(function(){var so=Jr._dbInfo;so.db.transaction(function(ho){Kn(ho,so,"DELETE FROM "+so.storeName+" WHERE key = ?",[Kr],function(){to()},function(mo,vo){Gn(vo)})})}).catch(Gn)});return Ut(Xn,Dn),Xn}function io(Kr){var Dn=this,Jr=new jt(function(Xn,to){Dn.ready().then(function(){var Gn=Dn._dbInfo;Gn.db.transaction(function(so){Kn(so,Gn,"DELETE FROM "+Gn.storeName,[],function(){Xn()},function(ho,mo){to(mo)})})}).catch(to)});return Ut(Jr,Kr),Jr}function Io(Kr){var Dn=this,Jr=new jt(function(Xn,to){Dn.ready().then(function(){var Gn=Dn._dbInfo;Gn.db.transaction(function(so){Kn(so,Gn,"SELECT COUNT(key) as c FROM "+Gn.storeName,[],function(ho,mo){var vo=mo.rows.item(0).c;Xn(vo)},function(ho,mo){to(mo)})})}).catch(to)});return Ut(Jr,Kr),Jr}function _i(Kr,Dn){var Jr=this,Xn=new jt(function(to,Gn){Jr.ready().then(function(){var so=Jr._dbInfo;so.db.transaction(function(ho){Kn(ho,so,"SELECT key FROM "+so.storeName+" WHERE id = ? LIMIT 1",[Kr+1],function(mo,vo){var yo=vo.rows.length?vo.rows.item(0).key:null;to(yo)},function(mo,vo){Gn(vo)})})}).catch(Gn)});return Ut(Xn,Dn),Xn}function ro(Kr){var Dn=this,Jr=new jt(function(Xn,to){Dn.ready().then(function(){var Gn=Dn._dbInfo;Gn.db.transaction(function(so){Kn(so,Gn,"SELECT key FROM "+Gn.storeName,[],function(ho,mo){for(var vo=[],yo=0;yo<mo.rows.length;yo++)vo.push(mo.rows.item(yo).key);Xn(vo)},function(ho,mo){to(mo)})})}).catch(to)});return Ut(Jr,Kr),Jr}function Oo(Kr){return new jt(function(Dn,Jr){Kr.transaction(function(Xn){Xn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(to,Gn){for(var so=[],ho=0;ho<Gn.rows.length;ho++)so.push(Gn.rows.item(ho).name);Dn({db:Kr,storeNames:so})},function(to,Gn){Jr(Gn)})},function(Xn){Jr(Xn)})})}function Hr(Kr,Dn){Dn=sr.apply(this,arguments);var Jr=this.config();Kr=typeof Kr!="function"&&Kr||{},Kr.name||(Kr.name=Kr.name||Jr.name,Kr.storeName=Kr.storeName||Jr.storeName);var Xn=this,to;return Kr.name?to=new jt(function(Gn){var so;Kr.name===Jr.name?so=Xn._dbInfo.db:so=openDatabase(Kr.name,"","",0),Kr.storeName?Gn({db:so,storeNames:[Kr.storeName]}):Gn(Oo(so))}).then(function(Gn){return new jt(function(so,ho){Gn.db.transaction(function(mo){function vo(Zo){return new jt(function(Qo,es){mo.executeSql("DROP TABLE IF EXISTS "+Zo,[],function(){Qo()},function(ts,ps){es(ps)})})}for(var yo=[],Ao=0,Go=Gn.storeNames.length;Ao<Go;Ao++)yo.push(vo(Gn.storeNames[Ao]));jt.all(yo).then(function(){so()}).catch(function(Zo){ho(Zo)})},function(mo){ho(mo)})})}):to=jt.reject("Invalid arguments"),Ut(to,Dn),to}var Yr={_driver:"webSQLStorage",_initStorage:Hn,_support:Wr(),iterate:Jn,getItem:bo,setItem:Do,removeItem:eo,clear:io,length:Io,key:_i,keys:ro,dropInstance:Hr};function Wn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function rn(Kr,Dn){var Jr=Kr.name+"/";return Kr.storeName!==Dn.storeName&&(Jr+=Kr.storeName+"/"),Jr}function dn(){var Kr="_localforage_support_test";try{return localStorage.setItem(Kr,!0),localStorage.removeItem(Kr),!1}catch{return!0}}function po(){return!dn()||localStorage.length>0}function Ln(Kr){var Dn=this,Jr={};if(Kr)for(var Xn in Kr)Jr[Xn]=Kr[Xn];return Jr.keyPrefix=rn(Kr,Dn._defaultConfig),po()?(Dn._dbInfo=Jr,Jr.serializer=Cn,jt.resolve()):jt.reject()}function Vn(Kr){var Dn=this,Jr=Dn.ready().then(function(){for(var Xn=Dn._dbInfo.keyPrefix,to=localStorage.length-1;to>=0;to--){var Gn=localStorage.key(to);Gn.indexOf(Xn)===0&&localStorage.removeItem(Gn)}});return Ut(Jr,Kr),Jr}function uo(Kr,Dn){var Jr=this;Kr=ir(Kr);var Xn=Jr.ready().then(function(){var to=Jr._dbInfo,Gn=localStorage.getItem(to.keyPrefix+Kr);return Gn&&(Gn=to.serializer.deserialize(Gn)),Gn});return Ut(Xn,Dn),Xn}function pn(Kr,Dn){var Jr=this,Xn=Jr.ready().then(function(){for(var to=Jr._dbInfo,Gn=to.keyPrefix,so=Gn.length,ho=localStorage.length,mo=1,vo=0;vo<ho;vo++){var yo=localStorage.key(vo);if(yo.indexOf(Gn)===0){var Ao=localStorage.getItem(yo);if(Ao&&(Ao=to.serializer.deserialize(Ao)),Ao=Kr(Ao,yo.substring(so),mo++),Ao!==void 0)return Ao}}});return Ut(Xn,Dn),Xn}function zn(Kr,Dn){var Jr=this,Xn=Jr.ready().then(function(){var to=Jr._dbInfo,Gn;try{Gn=localStorage.key(Kr)}catch{Gn=null}return Gn&&(Gn=Gn.substring(to.keyPrefix.length)),Gn});return Ut(Xn,Dn),Xn}function go(Kr){var Dn=this,Jr=Dn.ready().then(function(){for(var Xn=Dn._dbInfo,to=localStorage.length,Gn=[],so=0;so<to;so++){var ho=localStorage.key(so);ho.indexOf(Xn.keyPrefix)===0&&Gn.push(ho.substring(Xn.keyPrefix.length))}return Gn});return Ut(Jr,Kr),Jr}function co(Kr){var Dn=this,Jr=Dn.keys().then(function(Xn){return Xn.length});return Ut(Jr,Kr),Jr}function Eo(Kr,Dn){var Jr=this;Kr=ir(Kr);var Xn=Jr.ready().then(function(){var to=Jr._dbInfo;localStorage.removeItem(to.keyPrefix+Kr)});return Ut(Xn,Dn),Xn}function To(Kr,Dn,Jr){var Xn=this;Kr=ir(Kr);var to=Xn.ready().then(function(){Dn===void 0&&(Dn=null);var Gn=Dn;return new jt(function(so,ho){var mo=Xn._dbInfo;mo.serializer.serialize(Dn,function(vo,yo){if(yo)ho(yo);else try{localStorage.setItem(mo.keyPrefix+Kr,vo),so(Gn)}catch(Ao){(Ao.name==="QuotaExceededError"||Ao.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ho(Ao),ho(Ao)}})})});return Ut(to,Jr),to}function Co(Kr,Dn){if(Dn=sr.apply(this,arguments),Kr=typeof Kr!="function"&&Kr||{},!Kr.name){var Jr=this.config();Kr.name=Kr.name||Jr.name,Kr.storeName=Kr.storeName||Jr.storeName}var Xn=this,to;return Kr.name?to=new jt(function(Gn){Kr.storeName?Gn(rn(Kr,Xn._defaultConfig)):Gn(Kr.name+"/")}).then(function(Gn){for(var so=localStorage.length-1;so>=0;so--){var ho=localStorage.key(so);ho.indexOf(Gn)===0&&localStorage.removeItem(ho)}}):to=jt.reject("Invalid arguments"),Ut(to,Dn),to}var Mo={_driver:"localStorageWrapper",_initStorage:Ln,_support:Wn(),iterate:pn,getItem:uo,setItem:To,removeItem:Eo,clear:Vn,length:co,key:zn,keys:go,dropInstance:Co},No=function(Dn,Jr){return Dn===Jr||typeof Dn=="number"&&typeof Jr=="number"&&isNaN(Dn)&&isNaN(Jr)},zo=function(Dn,Jr){for(var Xn=Dn.length,to=0;to<Xn;){if(No(Dn[to],Jr))return!0;to++}return!1},Bo=Array.isArray||function(Kr){return Object.prototype.toString.call(Kr)==="[object Array]"},Po={},Wo={},Fo={INDEXEDDB:Or,WEBSQL:Yr,LOCALSTORAGE:Mo},jo=[Fo.INDEXEDDB._driver,Fo.WEBSQL._driver,Fo.LOCALSTORAGE._driver],Uo=["dropInstance"],Vo=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Uo),$o={description:"",driver:jo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ko(Kr,Dn){Kr[Dn]=function(){var Jr=arguments;return Kr.ready().then(function(){return Kr[Dn].apply(Kr,Jr)})}}function Lo(){for(var Kr=1;Kr<arguments.length;Kr++){var Dn=arguments[Kr];if(Dn)for(var Jr in Dn)Dn.hasOwnProperty(Jr)&&(Bo(Dn[Jr])?arguments[0][Jr]=Dn[Jr].slice():arguments[0][Jr]=Dn[Jr])}return arguments[0]}var Ho=function(){function Kr(Dn){wt(this,Kr);for(var Jr in Fo)if(Fo.hasOwnProperty(Jr)){var Xn=Fo[Jr],to=Xn._driver;this[Jr]=to,Po[to]||this.defineDriver(Xn)}this._defaultConfig=Lo({},$o),this._config=Lo({},this._defaultConfig,Dn),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Kr.prototype.config=function(Jr){if((typeof Jr>"u"?"undefined":mt(Jr))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Xn in Jr){if(Xn==="storeName"&&(Jr[Xn]=Jr[Xn].replace(/\W/g,"_")),Xn==="version"&&typeof Jr[Xn]!="number")return new Error("Database version must be a number.");this._config[Xn]=Jr[Xn]}return"driver"in Jr&&Jr.driver?this.setDriver(this._config.driver):!0}else return typeof Jr=="string"?this._config[Jr]:this._config},Kr.prototype.defineDriver=function(Jr,Xn,to){var Gn=new jt(function(so,ho){try{var mo=Jr._driver,vo=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Jr._driver){ho(vo);return}for(var yo=Vo.concat("_initStorage"),Ao=0,Go=yo.length;Ao<Go;Ao++){var Zo=yo[Ao],Qo=!zo(Uo,Zo);if((Qo||Jr[Zo])&&typeof Jr[Zo]!="function"){ho(vo);return}}var es=function(){for(var $l=function(Ul){return function(){var lu=new Error("Method "+Ul+" is not implemented by the current driver"),Vl=jt.reject(lu);return Ut(Vl,arguments[arguments.length-1]),Vl}},Cl=0,wu=Uo.length;Cl<wu;Cl++){var su=Uo[Cl];Jr[su]||(Jr[su]=$l(su))}};es();var ts=function($l){Po[mo]&&console.info("Redefining LocalForage driver: "+mo),Po[mo]=Jr,Wo[mo]=$l,so()};"_support"in Jr?Jr._support&&typeof Jr._support=="function"?Jr._support().then(ts,ho):ts(!!Jr._support):ts(!0)}catch(ps){ho(ps)}});return tr(Gn,Xn,to),Gn},Kr.prototype.driver=function(){return this._driver||null},Kr.prototype.getDriver=function(Jr,Xn,to){var Gn=Po[Jr]?jt.resolve(Po[Jr]):jt.reject(new Error("Driver not found."));return tr(Gn,Xn,to),Gn},Kr.prototype.getSerializer=function(Jr){var Xn=jt.resolve(Cn);return tr(Xn,Jr),Xn},Kr.prototype.ready=function(Jr){var Xn=this,to=Xn._driverSet.then(function(){return Xn._ready===null&&(Xn._ready=Xn._initDriver()),Xn._ready});return tr(to,Jr,Jr),to},Kr.prototype.setDriver=function(Jr,Xn,to){var Gn=this;Bo(Jr)||(Jr=[Jr]);var so=this._getSupportedDrivers(Jr);function ho(){Gn._config.driver=Gn.driver()}function mo(Ao){return Gn._extend(Ao),ho(),Gn._ready=Gn._initStorage(Gn._config),Gn._ready}function vo(Ao){return function(){var Go=0;function Zo(){for(;Go<Ao.length;){var Qo=Ao[Go];return Go++,Gn._dbInfo=null,Gn._ready=null,Gn.getDriver(Qo).then(mo).catch(Zo)}ho();var es=new Error("No available storage method found.");return Gn._driverSet=jt.reject(es),Gn._driverSet}return Zo()}}var yo=this._driverSet!==null?this._driverSet.catch(function(){return jt.resolve()}):jt.resolve();return this._driverSet=yo.then(function(){var Ao=so[0];return Gn._dbInfo=null,Gn._ready=null,Gn.getDriver(Ao).then(function(Go){Gn._driver=Go._driver,ho(),Gn._wrapLibraryMethodsWithReady(),Gn._initDriver=vo(so)})}).catch(function(){ho();var Ao=new Error("No available storage method found.");return Gn._driverSet=jt.reject(Ao),Gn._driverSet}),tr(this._driverSet,Xn,to),this._driverSet},Kr.prototype.supports=function(Jr){return!!Wo[Jr]},Kr.prototype._extend=function(Jr){Lo(this,Jr)},Kr.prototype._getSupportedDrivers=function(Jr){for(var Xn=[],to=0,Gn=Jr.length;to<Gn;to++){var so=Jr[to];this.supports(so)&&Xn.push(so)}return Xn},Kr.prototype._wrapLibraryMethodsWithReady=function(){for(var Jr=0,Xn=Vo.length;Jr<Xn;Jr++)ko(this,Vo[Jr])},Kr.prototype.createInstance=function(Jr){return new Kr(Jr)},Kr}(),Xo=new Ho;nt.exports=Xo},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs$2(localforageExports);localforage.config({name:"CetusSite",storeName:"tokens"});class LocalStorageService{static async setItem(s,et){try{await localforage.setItem(s,et)}catch(nt){console.error(`Failed to set item with key "${s}"`,nt)}}static async getItem(s){try{return await localforage.getItem(s)}catch(et){return console.error(`Failed to get item with key "${s}"`,et),null}}static async removeItem(s){try{await localforage.removeItem(s)}catch(et){console.error(`Failed to remove item with key "${s}"`,et)}}static async clear(){try{await localforage.clear()}catch(s){console.error("Failed to clear storage",s)}}}const textEllipses=(a,s=10)=>a?(a==null?void 0:a.length)>s&&d$1(s).gt(0)?`${a.slice(0,s)}...`:a:"";function Icon(a){const{xlinkHref:s,fontSize:et,svgW:nt,svgH:at,boxW:mt,boxH:wt,variant:$t,svgHover:Ct,svgFill:Dt,onClick:Ft,iconCursor:jt="pointer",isActive:Ut,activeColor:tr,activeHoverColor:ir,...sr}=a,[ur,fr]=reactExports.useState(!1),{isApp:dr}=useWindowWidth(),hr=yr=>{dr&&fr(!0),Ft&&Ft(yr)},vr=reactExports.useMemo(()=>{const yr={base:{box:{w:mt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!ur&&!dr?{svg:{fill:Ut&&ir?ir:Ct||"text_caption"}}:void 0},svg:{fill:Ut&&tr?isColorValue(tr)?tr:`var(--chakra-colors-${tr||"text_paragraph"})`:Dt&&isColorValue(Dt)?Dt:`var(--chakra-colors-${Dt||"text_paragraph"})`,width:nt||et||"20px",height:at||et||"20px"}},gray:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!ur&&!dr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:nt||et||"20px",height:at||et||"20px"}},primary:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!ur&&!dr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:nt||et||"20px",height:at||et||"20px"}},warning:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!ur&&!dr?{svg:{fill:"primary_yellow"}}:void 0},svg:{fill:"var(--chakra-colors-primary_yellow)",width:nt||et||"20px",height:at||et||"20px"}},error:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!ur&&!dr?{svg:{fill:"primary_red"}}:void 0},svg:{fill:"var(--chakra-colors-primary_red)",width:nt||et||"20px",height:at||et||"20px"}},solid:{box:{bg:"checked_bg",w:mt||et||"24px",h:wt||et||"24px",borderRadius:"4px",_hover:!ur&&!dr?{svg:{fill:Ut&&ir?ir:Ct||"text_caption"}}:void 0},svg:{fill:Ut&&tr?isColorValue(tr)?tr:`var(--chakra-colors-${tr||"text_paragraph"})`:Dt&&isColorValue(Dt)?Dt:`var(--chakra-colors-${Dt||"text_paragraph"})`,width:nt||et||"16px",height:at||et||"16px"}},rectangle:{box:{bg:"card_bg",w:mt||et||"28px",h:wt||et||"20px",borderRadius:"8px",_hover:!ur&&!dr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-primary)",width:nt||et||"16px",height:at||et||"16px"}},round:{box:{bg:"card_bg",w:mt||et||"20px",h:wt||et||"20px",borderRadius:"50%",border:"1px",borderStyle:"solid",borderColor:"var(--chakra-colors-border)",background:"var(--chakra-colors-bg_secondary)",_hover:!ur&&!dr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:nt||et||"16px",height:at||et||"16px"}}};return $t?yr[$t]:yr.base},[$t,nt,at,mt,wt,et,Dt,Ct,Ut,tr,ir]);return jsxRuntimeExports.jsx(Center,{cursor:jt,...vr.box,...sr,onClick:hr,children:jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",...vr.svg,children:jsxRuntimeExports.jsx("use",{xlinkHref:s})})})}function BackButton({text:a,onClick:s,...et}){const nt=useNavigate();return jsxRuntimeExports.jsxs(Flex,{w:"73px",h:"32px",align:"center",justifyContent:"center",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",fontWeight:"500",onClick:()=>{s?s():nt(-1)},sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},...et,children:[a!=="Back to DEX"&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_descending",fontSize:"16px",transform:"rotate(90deg)"}),jsxRuntimeExports.jsx(Text,{lineHeight:"1",children:a||"Back"})]})}function CheckBox(a){const{checked:s,width:et,height:nt,borderRadius:at,onClick:mt,cursor:wt="pointer"}=a;return jsxRuntimeExports.jsx(Flex,{align:"center",justifyContent:"center",background:"checked_bg",border:"1px solid",borderColor:"border",cursor:wt,width:et||"20px",height:nt||"20px",borderRadius:at||"4px",onClick:mt,sx:{svg:{fill:"primary !important"}},children:s?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check"}):null})}const store$b=(a,s)=>({collectList:[],collectObj:{},setCollectList:et=>{a(()=>({collectList:et,collectObj:Object.fromEntries(et.map(nt=>[nt.coin_type,nt]))}))},trustedTokenList:[],setTrustedList:et=>{a(()=>({trustedTokenList:et}))},filterTokenLoading:!1,setFilterTokenLoading:et=>{a(()=>({filterTokenLoading:et}))},filterTokenList:[],setFilterTokenList:et=>{a(()=>({filterTokenList:et}))},importTokenList:[],setImportTokenList:et=>{a(()=>({importTokenList:et}))},liquidityTrustTokenList:[],setLiquidityTrustTokenList:et=>{a(()=>({liquidityTrustTokenList:et}))},isShowImportBtn:!1,setShowImportBtn:et=>{a(()=>({isShowImportBtn:et}))},trustedListLabel:[],setTrustedListLabel:et=>{a(()=>({trustedListLabel:et}))},tokenModalOpacity:1,setTokenModalOpacity:et=>{a(()=>({tokenModalOpacity:et}))},userCollectList:[],userCollectObj:{},setUserCollectList:et=>{console.log("🚀🚀🚀 ~ list:",et),a(()=>({userCollectList:et,userCollectObj:Object.fromEntries(et.map(nt=>[nt.coin_type,nt]))}))}}),useTokenSelectStore=create$3(persist(store$b,{name:"useTokenSelectStore",partialize:a=>{const{importTokenList:s,liquidityTrustTokenList:et}=a;return{importTokenList:s,liquidityTrustTokenList:et}}})),APP_ENV="mainnet";function getQueryParam(a){const s=new URLSearchParams(window.location.search);return window.location.host==="app.cetus.zone"?"":s.get(a)}let apiUrl="";try{apiUrl=getQueryParam("apiUrl")||""}catch(a){console.log("🚀 ~ error:",a),apiUrl=""}const baseConfigMainnet={fullRpcUrl:"https://fullnode.mainnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigMainnet={...baseConfigMainnet,cetus_config:{package_id:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",published_at:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",version:void 0,config:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}},clmm_pool:{package_id:"0x1eabed72c53feb3805120a081dc15963c204dc8d091542592abaf7a35689b2fb",published_at:"0xc6faf3703b0e8ba9ed06b7851134bbbe7565eb35ff823fd78432baa4cbeaa12e",version:0,config:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",admin_cap_id:"",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"}},integrate:{package_id:"0x996c4d9480708fb8b92aa7acf819fb0497b5ec8e65ba06601cae2fb6db3312c3",published_at:"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:`${apiUrl||"https://api-sui.cetus.zone"}/router_v2`},burnConfigMainnet={...baseConfigMainnet,burn:{package_id:"0x12d73de9a6bc3cb658ec9dc0fe7de2662be1cea5c76c092fcc3606048cdbac27",published_at:"0xb977b00649d3ab8950bcbbafb01fcf32e2e7718eb3133eff2e48c0cef04b1495",manager_id:"0x1d94aa32518d0cb00f9de6ed60d450c9a2090761f326752ffad06b2e9404f845",clmm_global_config:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",clmm_global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",burn_pool_handle:"0xc9aacf74bd7cc8da8820ae28ca4473b7e01c87be19bc35bf81c9c7311e1b299e"}},peripheryConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"},limit_order:{package_id:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",published_at:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",config:{rate_orders_indexer_id:"0xe7fa62b6fc095ed5659b85c735f4322059e1f4616dcf3343adece6e7eb52bf47",rate_orders_indexer_handle:"0x81a95c812cab1c9cc7a1c10446d93d2d9517097211c72b544f7efed33b540bcc",global_config_id:"0xd3403f23a053b52e5c4ef0c2a8be316120c435ec338f2596647b6befd569fd9c",token_list_handle:"0x644a7f05eff2a1b4c266d7ce849c8494fb068a4e29037c7c523e5eb822389d8d",user_orders_indexer_id:"0x7f851ac19e438f97e78a5335eed4f12766a3a0ae94340bab7956a402f0e6212e",user_orders_indexer_handle:"0x84703679acd2eeaee8de4945be79d029ab94966bc22e0f6cfd696032fd31bbc7"}},frams:{package_id:"0x11ea791d82b5742cc8cab0bf7946035c97d9001d7c3803a93f119753da66f526",published_at:"0x585381670c3d7c1f78caeb6c803f449442659743f4047a01b942da08bbfa19f6",config:{global_config_id:"0x21215f2f6de04b57dd87d9be7bb4e15499aec935e36078e2488f36436d64996e",rewarder_manager_id:"0xe0e155a88c77025056da08db5b1701a91b79edb6167462f768e387c3ed6614d5",rewarder_manager_handle:"0xb32e312cbb3367d6f3d2b4e57c9225e903d29b7b9f612dae2ddf75bdeb26a5aa",admin_cap_id:"0xf10fbf1fea5b7aeaa524b87769461a28c5c977613046360093673991f26d886c"}},dca:{package_id:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",published_at:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",config:{admin_cap_id:"0xbcdd7391245dd8d6118a39bc83e6d9a7cfca899d06cc283c1a4cae41b2508574",global_config_id:"0x5db218756f8486fa2ac26fab590c4be4e439be54e6d932c9a30b20573a5b706a",indexer_id:"0x713f0968d042b48f4ec57e4e21bd7e346d06355f59776faedc9497ca990a9f77",user_indexer_id:"0x0ae365f60f2fa692831f9496c9e49b2440c74f14e8eab6f88dbb418c443b5020",in_coin_whitelist_id:"0x845643253afdfef9c4202e7af5e2de374b7f4766f78694903e8b2c0f83dab3ce",out_coin_whitelist_id:"0xe398b24a2b28f1ffd18394eaa78538d6ec8111dcb5fd919424bd3d42764c19f7"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:""}}}}},MainnetTokens={SUI:{id:"0x9258181f5ceac8dbffb7030890243caed69a9599d2886d957a9cb7656af3bdb3",coin_type:"0x2::sui::SUI",decimals:9,description:"",name:"Sui",symbol:"SUI",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",is_trusted:!0,extensions:{rank:"880"}},CETUS:{id:"0x4c0dce55eff2db5419bbd2d239d1aa22b4a400c01bbb648b058a9883989025da",coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",decimals:9,description:"",name:"Cetus Token",symbol:"CETUS",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",is_trusted:!0},xCETUS:{coin_type:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0},USDC:{id:"0x69b7a7c3c200439c1b5f3b19d7d495d5966d5f08de66c69276152f8db3992ec6",coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",decimals:6,description:"",name:"USDC",symbol:"USDC",logo_url:"https://circle.com/usdc-icon",is_trusted:!0,extensions:{rank:"1000"}}},MainnetCreatePoolQuoteTokens=["0x2::sui::SUI","0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x375f70cf2ae4c00bf37117d0c85a2c71545e6ee05c4a5c7d282cd66a4504b068::usdt::USDT","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS","0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI","0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK","0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT","0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI","0x83556891f4a0f233ce7b05cfe7f957d4020492a34f5405b2cb9377d060bef4bf::spring_sui::SPRING_SUI","0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN","0xaafb102dd0902f5055cadecd687fb5b71ca82ef0e0285d90afde828ec58ca96b::btc::BTC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD"];var lib$3={},SuiPriceServiceConnection$1={},lib$2={},PriceServiceConnection$1={},lib$1={},PriceFeed={};Object.defineProperty(PriceFeed,"__esModule",{value:!0});PriceFeed.Convert=void 0;class Convert{static toPriceFeed(s){return cast(s,r$1("PriceFeed"))}static priceFeedToJson(s){return uncast(s,r$1("PriceFeed"))}static toPrice(s){return cast(s,r$1("Price"))}static priceToJson(s){return uncast(s,r$1("Price"))}static toPriceFeedMetadata(s){return cast(s,r$1("PriceFeedMetadata"))}static priceFeedMetadataToJson(s){return uncast(s,r$1("PriceFeedMetadata"))}}PriceFeed.Convert=Convert;function invalidValue(a,s,et=""){throw Error(et?`Invalid value for key "${et}". Expected type ${JSON.stringify(a)} but got ${JSON.stringify(s)}`:`Invalid value ${JSON.stringify(s)} for type ${JSON.stringify(a)}`)}function jsonToJSProps(a){if(a.jsonToJS===void 0){const s={};a.props.forEach(et=>s[et.json]={key:et.js,typ:et.typ}),a.jsonToJS=s}return a.jsonToJS}function jsToJSONProps(a){if(a.jsToJSON===void 0){const s={};a.props.forEach(et=>s[et.js]={key:et.json,typ:et.typ}),a.jsToJSON=s}return a.jsToJSON}function transform(a,s,et,nt=""){function at(Ft,jt){return typeof Ft==typeof jt?jt:invalidValue(Ft,jt,nt)}function mt(Ft,jt){const Ut=Ft.length;for(let tr=0;tr<Ut;tr++){const ir=Ft[tr];try{return transform(jt,ir,et)}catch{}}return invalidValue(Ft,jt)}function wt(Ft,jt){return Ft.indexOf(jt)!==-1?jt:invalidValue(Ft,jt)}function $t(Ft,jt){return Array.isArray(jt)?jt.map(Ut=>transform(Ut,Ft,et)):invalidValue("array",jt)}function Ct(Ft){if(Ft===null)return null;const jt=new Date(Ft);return isNaN(jt.valueOf())?invalidValue("Date",Ft):jt}function Dt(Ft,jt,Ut){if(Ut===null||typeof Ut!="object"||Array.isArray(Ut))return invalidValue("object",Ut);const tr={};return Object.getOwnPropertyNames(Ft).forEach(ir=>{const sr=Ft[ir],ur=Object.prototype.hasOwnProperty.call(Ut,ir)?Ut[ir]:void 0;tr[sr.key]=transform(ur,sr.typ,et,sr.key)}),Object.getOwnPropertyNames(Ut).forEach(ir=>{Object.prototype.hasOwnProperty.call(Ft,ir)||(tr[ir]=transform(Ut[ir],jt,et,ir))}),tr}if(s==="any")return a;if(s===null)return a===null?a:invalidValue(s,a);if(s===!1)return invalidValue(s,a);for(;typeof s=="object"&&s.ref!==void 0;)s=typeMap[s.ref];return Array.isArray(s)?wt(s,a):typeof s=="object"?s.hasOwnProperty("unionMembers")?mt(s.unionMembers,a):s.hasOwnProperty("arrayItems")?$t(s.arrayItems,a):s.hasOwnProperty("props")?Dt(et(s),s.additional,a):invalidValue(s,a):s===Date&&typeof a!="number"?Ct(a):at(s,a)}function cast(a,s){return transform(a,s,jsonToJSProps)}function uncast(a,s){return transform(a,s,jsToJSONProps)}function u$1(...a){return{unionMembers:a}}function o(a,s){return{props:a,additional:s}}function r$1(a){return{ref:a}}const typeMap={PriceFeed:o([{json:"ema_price",js:"ema_price",typ:r$1("Price")},{json:"id",js:"id",typ:""},{json:"metadata",js:"metadata",typ:u$1(void 0,r$1("PriceFeedMetadata"))},{json:"price",js:"price",typ:r$1("Price")},{json:"vaa",js:"vaa",typ:u$1(void 0,"")}],"any"),Price:o([{json:"conf",js:"conf",typ:""},{json:"expo",js:"expo",typ:0},{json:"price",js:"price",typ:""},{json:"publish_time",js:"publish_time",typ:0}],"any"),PriceFeedMetadata:o([{json:"attestation_time",js:"attestation_time",typ:u$1(void 0,0)},{json:"emitter_chain",js:"emitter_chain",typ:0},{json:"prev_publish_time",js:"prev_publish_time",typ:u$1(void 0,0)},{json:"price_service_receive_time",js:"price_service_receive_time",typ:u$1(void 0,0)},{json:"sequence_number",js:"sequence_number",typ:u$1(void 0,0)},{json:"slot",js:"slot",typ:u$1(void 0,0)}],"any")};var AccumulatorUpdateData={},__importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(AccumulatorUpdateData,"__esModule",{value:!0});AccumulatorUpdateData.parseAccumulatorUpdateData=AccumulatorUpdateData.sliceAccumulatorUpdateData=AccumulatorUpdateData.parseTwapMessage=AccumulatorUpdateData.parsePriceFeedMessage=AccumulatorUpdateData.isAccumulatorUpdateData=void 0;const bn_js_1=__importDefault$3(bnExports),ACCUMULATOR_MAGIC="504e4155",MAJOR_VERSION=1,MINOR_VERSION=0,KECCAK160_HASH_SIZE=20,PRICE_FEED_MESSAGE_VARIANT=0,TWAP_MESSAGE_VARIANT=1;function isAccumulatorUpdateData(a){return a.toString("hex").slice(0,8)===ACCUMULATOR_MAGIC&&a[4]===MAJOR_VERSION&&a[5]===MINOR_VERSION}AccumulatorUpdateData.isAccumulatorUpdateData=isAccumulatorUpdateData;function parsePriceFeedMessage(a){let s=0;if(a.readUInt8(s)!==PRICE_FEED_MESSAGE_VARIANT)throw new Error("Not a price feed message");s+=1;const nt=a.subarray(s,s+32);s+=32;const at=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const mt=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const wt=a.readInt32BE(s);s+=4;const $t=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Ct=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Dt=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Ft=new bn_js_1.default(a.subarray(s,s+8),"be");return s+=8,{feedId:nt,price:at,confidence:mt,exponent:wt,publishTime:$t,prevPublishTime:Ct,emaPrice:Dt,emaConf:Ft}}AccumulatorUpdateData.parsePriceFeedMessage=parsePriceFeedMessage;function parseTwapMessage(a){let s=0;if(a.readUInt8(s)!==TWAP_MESSAGE_VARIANT)throw new Error("Not a twap message");s+=1;const nt=a.subarray(s,s+32);s+=32;const at=new bn_js_1.default(a.subarray(s,s+16),"be");s+=16;const mt=new bn_js_1.default(a.subarray(s,s+16),"be");s+=16;const wt=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const $t=a.readInt32BE(s);s+=4;const Ct=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Dt=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Ft=new bn_js_1.default(a.subarray(s,s+8),"be");return s+=8,{feedId:nt,cumulativePrice:at,cumulativeConf:mt,numDownSlots:wt,exponent:$t,publishTime:Ct,prevPublishTime:Dt,publishSlot:Ft}}AccumulatorUpdateData.parseTwapMessage=parseTwapMessage;function sliceAccumulatorUpdateData(a,s,et){if(!isAccumulatorUpdateData(a))throw new Error("Invalid accumulator message");let nt=6;const at=a.readUint8(nt);nt+=1+at,nt+=1;const mt=a.readUint16BE(nt);nt+=2,nt+=mt;const wt=nt,$t=[],Ct=a.readUInt8(nt);nt+=1;for(let Ft=0;Ft<Ct;Ft++){const jt=nt,Ut=a.readUint16BE(nt);nt+=2,nt+=Ut;const tr=a.readUInt8(nt);nt+=1,nt+=KECCAK160_HASH_SIZE*tr,$t.push(a.subarray(jt,nt))}if(nt!==a.length)throw new Error("Didn't reach the end of the message");const Dt=$t.slice(s,et);return Buffer$1.concat([a.subarray(0,wt),Buffer$1.from([Dt.length]),...$t.slice(s,et)])}AccumulatorUpdateData.sliceAccumulatorUpdateData=sliceAccumulatorUpdateData;function parseAccumulatorUpdateData(a){if(!isAccumulatorUpdateData(a))throw new Error("Invalid accumulator message");let s=6;const et=a.readUint8(s);s+=1+et,s+=1;const nt=a.readUint16BE(s);s+=2;const at=a.subarray(s,s+nt);s+=nt;const mt=a.readUInt8(s),wt=[];s+=1;for(let $t=0;$t<mt;$t++){const Ct=a.readUint16BE(s);s+=2;const Dt=a.subarray(s,s+Ct);s+=Ct;const Ft=a.readUInt8(s);s+=1;const jt=[];for(let Ut=0;Ut<Ft;Ut++)jt.push(Array.from(a.subarray(s,s+KECCAK160_HASH_SIZE))),s+=KECCAK160_HASH_SIZE;wt.push({message:Dt,proof:jt})}if(s!==a.length)throw new Error("Didn't reach the end of the message");return{vaa:at,updates:wt}}AccumulatorUpdateData.parseAccumulatorUpdateData=parseAccumulatorUpdateData;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PriceFeed=a.PriceFeedMetadata=a.Price=a.parseTwapMessage=a.parsePriceFeedMessage=a.parseAccumulatorUpdateData=a.sliceAccumulatorUpdateData=a.isAccumulatorUpdateData=void 0;const s=PriceFeed;var et=AccumulatorUpdateData;Object.defineProperty(a,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return et.isAccumulatorUpdateData}}),Object.defineProperty(a,"sliceAccumulatorUpdateData",{enumerable:!0,get:function(){return et.sliceAccumulatorUpdateData}}),Object.defineProperty(a,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return et.parseAccumulatorUpdateData}}),Object.defineProperty(a,"parsePriceFeedMessage",{enumerable:!0,get:function(){return et.parsePriceFeedMessage}}),Object.defineProperty(a,"parseTwapMessage",{enumerable:!0,get:function(){return et.parseTwapMessage}});class nt{constructor($t){Yn(this,"conf");Yn(this,"expo");Yn(this,"price");Yn(this,"publishTime");this.conf=$t.conf,this.expo=$t.expo,this.price=$t.price,this.publishTime=$t.publishTime}getPriceAsNumberUnchecked(){return Number(this.price)*10**this.expo}getConfAsNumberUnchecked(){return Number(this.conf)*10**this.expo}static fromJson($t){const Ct=s.Convert.toPrice($t);return new nt({conf:Ct.conf,expo:Ct.expo,price:Ct.price,publishTime:Ct.publish_time})}toJson(){const $t={conf:this.conf,expo:this.expo,price:this.price,publish_time:this.publishTime};return s.Convert.priceToJson($t)}}a.Price=nt;class at{constructor($t){Yn(this,"attestationTime");Yn(this,"emitterChain");Yn(this,"priceServiceReceiveTime");Yn(this,"sequenceNumber");Yn(this,"slot");Yn(this,"prevPublishTime");this.attestationTime=$t.attestationTime,this.emitterChain=$t.emitterChain,this.priceServiceReceiveTime=$t.receiveTime,this.sequenceNumber=$t.sequenceNumber,this.slot=$t.slot,this.prevPublishTime=$t.prevPublishTime}static fromJson($t){if($t===void 0)return;const Ct=s.Convert.toPriceFeedMetadata($t);return new at({attestationTime:Ct.attestation_time,emitterChain:Ct.emitter_chain,receiveTime:Ct.price_service_receive_time,sequenceNumber:Ct.sequence_number,slot:Ct.slot,prevPublishTime:Ct.prev_publish_time})}toJson(){const $t={attestation_time:this.attestationTime,emitter_chain:this.emitterChain,price_service_receive_time:this.priceServiceReceiveTime,sequence_number:this.sequenceNumber,slot:this.slot,prev_publish_time:this.prevPublishTime};return s.Convert.priceFeedMetadataToJson($t)}}a.PriceFeedMetadata=at;let mt=class Cp{constructor($t){Yn(this,"emaPrice");Yn(this,"id");Yn(this,"metadata");Yn(this,"vaa");Yn(this,"price");this.emaPrice=$t.emaPrice,this.id=$t.id,this.metadata=$t.metadata,this.vaa=$t.vaa,this.price=$t.price}static fromJson($t){const Ct=s.Convert.toPriceFeed($t);return new Cp({emaPrice:nt.fromJson(Ct.ema_price),id:Ct.id,metadata:at.fromJson(Ct.metadata),vaa:Ct.vaa,price:nt.fromJson(Ct.price)})}toJson(){var Ct;const $t={ema_price:this.emaPrice.toJson(),id:this.id,metadata:(Ct=this.metadata)==null?void 0:Ct.toJson(),price:this.price.toJson()};return s.Convert.priceFeedToJson($t)}getPriceUnchecked(){return this.price}getEmaPriceUnchecked(){return this.emaPrice}getPriceNoOlderThan($t){const Ct=this.getPriceUnchecked(),Dt=Math.floor(Date.now()/1e3);if(!(Math.abs(Dt-Ct.publishTime)>$t))return Ct}getEmaPriceNoOlderThan($t){const Ct=this.getEmaPriceUnchecked(),Dt=Math.floor(Date.now()/1e3);if(!(Math.abs(Dt-Ct.publishTime)>$t))return Ct}getMetadata(){return this.metadata}getVAA(){return this.vaa}};a.PriceFeed=mt})(lib$1);const require$$0$2=getAugmentedNamespace(axios);var axiosRetry$2={exports:{}},cjs={},interopRequireDefault={exports:{}};(function(a){function s(et){return et&&et.__esModule?et:{default:et}}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,regeneratorRuntime$1={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(a){function s(et){"@babel/helpers - typeof";return a.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},a.exports.__esModule=!0,a.exports.default=a.exports,s(et)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}(_typeof)),_typeof.exports}var hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(a){var s=require_typeof().default;function et(){a.exports=et=function(){return at},a.exports.__esModule=!0,a.exports.default=a.exports;var nt,at={},mt=Object.prototype,wt=mt.hasOwnProperty,$t=Object.defineProperty||function(nr,Lt,or){nr[Lt]=or.value},Ct=typeof Symbol=="function"?Symbol:{},Dt=Ct.iterator||"@@iterator",Ft=Ct.asyncIterator||"@@asyncIterator",jt=Ct.toStringTag||"@@toStringTag";function Ut(nr,Lt,or){return Object.defineProperty(nr,Lt,{value:or,enumerable:!0,configurable:!0,writable:!0}),nr[Lt]}try{Ut({},"")}catch{Ut=function(or,gr,pr){return or[gr]=pr}}function tr(nr,Lt,or,gr){var pr=Lt&&Lt.prototype instanceof vr?Lt:vr,_r=Object.create(pr.prototype),kr=new ar(gr||[]);return $t(_r,"_invoke",{value:Vt(nr,or,kr)}),_r}function ir(nr,Lt,or){try{return{type:"normal",arg:nr.call(Lt,or)}}catch(gr){return{type:"throw",arg:gr}}}at.wrap=tr;var sr="suspendedStart",ur="suspendedYield",fr="executing",dr="completed",hr={};function vr(){}function yr(){}function xr(){}var br={};Ut(br,Dt,function(){return this});var wr=Object.getPrototypeOf,Sr=wr&&wr(wr(lr([])));Sr&&Sr!==mt&&wt.call(Sr,Dt)&&(br=Sr);var Cr=xr.prototype=vr.prototype=Object.create(br);function cr(nr){["next","throw","return"].forEach(function(Lt){Ut(nr,Lt,function(or){return this._invoke(Lt,or)})})}function Nt(nr,Lt){function or(pr,_r,kr,Mr){var $r=ir(nr[pr],nr,_r);if($r.type!=="throw"){var Pr=$r.arg,Fr=Pr.value;return Fr&&s(Fr)=="object"&&wt.call(Fr,"__await")?Lt.resolve(Fr.__await).then(function(Tr){or("next",Tr,kr,Mr)},function(Tr){or("throw",Tr,kr,Mr)}):Lt.resolve(Fr).then(function(Tr){Pr.value=Tr,kr(Pr)},function(Tr){return or("throw",Tr,kr,Mr)})}Mr($r.arg)}var gr;$t(this,"_invoke",{value:function(_r,kr){function Mr(){return new Lt(function($r,Pr){or(_r,kr,$r,Pr)})}return gr=gr?gr.then(Mr,Mr):Mr()}})}function Vt(nr,Lt,or){var gr=sr;return function(pr,_r){if(gr===fr)throw Error("Generator is already running");if(gr===dr){if(pr==="throw")throw _r;return{value:nt,done:!0}}for(or.method=pr,or.arg=_r;;){var kr=or.delegate;if(kr){var Mr=er(kr,or);if(Mr){if(Mr===hr)continue;return Mr}}if(or.method==="next")or.sent=or._sent=or.arg;else if(or.method==="throw"){if(gr===sr)throw gr=dr,or.arg;or.dispatchException(or.arg)}else or.method==="return"&&or.abrupt("return",or.arg);gr=fr;var $r=ir(nr,Lt,or);if($r.type==="normal"){if(gr=or.done?dr:ur,$r.arg===hr)continue;return{value:$r.arg,done:or.done}}$r.type==="throw"&&(gr=dr,or.method="throw",or.arg=$r.arg)}}}function er(nr,Lt){var or=Lt.method,gr=nr.iterator[or];if(gr===nt)return Lt.delegate=null,or==="throw"&&nr.iterator.return&&(Lt.method="return",Lt.arg=nt,er(nr,Lt),Lt.method==="throw")||or!=="return"&&(Lt.method="throw",Lt.arg=new TypeError("The iterator does not provide a '"+or+"' method")),hr;var pr=ir(gr,nr.iterator,Lt.arg);if(pr.type==="throw")return Lt.method="throw",Lt.arg=pr.arg,Lt.delegate=null,hr;var _r=pr.arg;return _r?_r.done?(Lt[nr.resultName]=_r.value,Lt.next=nr.nextLoc,Lt.method!=="return"&&(Lt.method="next",Lt.arg=nt),Lt.delegate=null,hr):_r:(Lt.method="throw",Lt.arg=new TypeError("iterator result is not an object"),Lt.delegate=null,hr)}function Yt(nr){var Lt={tryLoc:nr[0]};1 in nr&&(Lt.catchLoc=nr[1]),2 in nr&&(Lt.finallyLoc=nr[2],Lt.afterLoc=nr[3]),this.tryEntries.push(Lt)}function rr(nr){var Lt=nr.completion||{};Lt.type="normal",delete Lt.arg,nr.completion=Lt}function ar(nr){this.tryEntries=[{tryLoc:"root"}],nr.forEach(Yt,this),this.reset(!0)}function lr(nr){if(nr||nr===""){var Lt=nr[Dt];if(Lt)return Lt.call(nr);if(typeof nr.next=="function")return nr;if(!isNaN(nr.length)){var or=-1,gr=function pr(){for(;++or<nr.length;)if(wt.call(nr,or))return pr.value=nr[or],pr.done=!1,pr;return pr.value=nt,pr.done=!0,pr};return gr.next=gr}}throw new TypeError(s(nr)+" is not iterable")}return yr.prototype=xr,$t(Cr,"constructor",{value:xr,configurable:!0}),$t(xr,"constructor",{value:yr,configurable:!0}),yr.displayName=Ut(xr,jt,"GeneratorFunction"),at.isGeneratorFunction=function(nr){var Lt=typeof nr=="function"&&nr.constructor;return!!Lt&&(Lt===yr||(Lt.displayName||Lt.name)==="GeneratorFunction")},at.mark=function(nr){return Object.setPrototypeOf?Object.setPrototypeOf(nr,xr):(nr.__proto__=xr,Ut(nr,jt,"GeneratorFunction")),nr.prototype=Object.create(Cr),nr},at.awrap=function(nr){return{__await:nr}},cr(Nt.prototype),Ut(Nt.prototype,Ft,function(){return this}),at.AsyncIterator=Nt,at.async=function(nr,Lt,or,gr,pr){pr===void 0&&(pr=Promise);var _r=new Nt(tr(nr,Lt,or,gr),pr);return at.isGeneratorFunction(Lt)?_r:_r.next().then(function(kr){return kr.done?kr.value:_r.next()})},cr(Cr),Ut(Cr,jt,"Generator"),Ut(Cr,Dt,function(){return this}),Ut(Cr,"toString",function(){return"[object Generator]"}),at.keys=function(nr){var Lt=Object(nr),or=[];for(var gr in Lt)or.push(gr);return or.reverse(),function pr(){for(;or.length;){var _r=or.pop();if(_r in Lt)return pr.value=_r,pr.done=!1,pr}return pr.done=!0,pr}},at.values=lr,ar.prototype={constructor:ar,reset:function(Lt){if(this.prev=0,this.next=0,this.sent=this._sent=nt,this.done=!1,this.delegate=null,this.method="next",this.arg=nt,this.tryEntries.forEach(rr),!Lt)for(var or in this)or.charAt(0)==="t"&&wt.call(this,or)&&!isNaN(+or.slice(1))&&(this[or]=nt)},stop:function(){this.done=!0;var Lt=this.tryEntries[0].completion;if(Lt.type==="throw")throw Lt.arg;return this.rval},dispatchException:function(Lt){if(this.done)throw Lt;var or=this;function gr(Pr,Fr){return kr.type="throw",kr.arg=Lt,or.next=Pr,Fr&&(or.method="next",or.arg=nt),!!Fr}for(var pr=this.tryEntries.length-1;pr>=0;--pr){var _r=this.tryEntries[pr],kr=_r.completion;if(_r.tryLoc==="root")return gr("end");if(_r.tryLoc<=this.prev){var Mr=wt.call(_r,"catchLoc"),$r=wt.call(_r,"finallyLoc");if(Mr&&$r){if(this.prev<_r.catchLoc)return gr(_r.catchLoc,!0);if(this.prev<_r.finallyLoc)return gr(_r.finallyLoc)}else if(Mr){if(this.prev<_r.catchLoc)return gr(_r.catchLoc,!0)}else{if(!$r)throw Error("try statement without catch or finally");if(this.prev<_r.finallyLoc)return gr(_r.finallyLoc)}}}},abrupt:function(Lt,or){for(var gr=this.tryEntries.length-1;gr>=0;--gr){var pr=this.tryEntries[gr];if(pr.tryLoc<=this.prev&&wt.call(pr,"finallyLoc")&&this.prev<pr.finallyLoc){var _r=pr;break}}_r&&(Lt==="break"||Lt==="continue")&&_r.tryLoc<=or&&or<=_r.finallyLoc&&(_r=null);var kr=_r?_r.completion:{};return kr.type=Lt,kr.arg=or,_r?(this.method="next",this.next=_r.finallyLoc,hr):this.complete(kr)},complete:function(Lt,or){if(Lt.type==="throw")throw Lt.arg;return Lt.type==="break"||Lt.type==="continue"?this.next=Lt.arg:Lt.type==="return"?(this.rval=this.arg=Lt.arg,this.method="return",this.next="end"):Lt.type==="normal"&&or&&(this.next=or),hr},finish:function(Lt){for(var or=this.tryEntries.length-1;or>=0;--or){var gr=this.tryEntries[or];if(gr.finallyLoc===Lt)return this.complete(gr.completion,gr.afterLoc),rr(gr),hr}},catch:function(Lt){for(var or=this.tryEntries.length-1;or>=0;--or){var gr=this.tryEntries[or];if(gr.tryLoc===Lt){var pr=gr.completion;if(pr.type==="throw"){var _r=pr.arg;rr(gr)}return _r}}throw Error("illegal catch attempt")},delegateYield:function(Lt,or,gr){return this.delegate={iterator:lr(Lt),resultName:or,nextLoc:gr},this.method==="next"&&(this.arg=nt),hr}},at}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var a=requireRegeneratorRuntime()();regenerator=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(a){function s(nt,at,mt,wt,$t,Ct,Dt){try{var Ft=nt[Ct](Dt),jt=Ft.value}catch(Ut){return void mt(Ut)}Ft.done?at(jt):Promise.resolve(jt).then(wt,$t)}function et(nt){return function(){var at=this,mt=arguments;return new Promise(function(wt,$t){var Ct=nt.apply(at,mt);function Dt(jt){s(Ct,wt,$t,Dt,Ft,"next",jt)}function Ft(jt){s(Ct,wt,$t,Dt,Ft,"throw",jt)}Dt(void 0)})}}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(asyncToGenerator)),asyncToGenerator.exports}var defineProperty={exports:{}},toPropertyKey={exports:{}},toPrimitive={exports:{}},hasRequiredToPrimitive;function requireToPrimitive(){return hasRequiredToPrimitive||(hasRequiredToPrimitive=1,function(a){var s=require_typeof().default;function et(nt,at){if(s(nt)!="object"||!nt)return nt;var mt=nt[Symbol.toPrimitive];if(mt!==void 0){var wt=mt.call(nt,at||"default");if(s(wt)!="object")return wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(at==="string"?String:Number)(nt)}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(toPrimitive)),toPrimitive.exports}var hasRequiredToPropertyKey;function requireToPropertyKey(){return hasRequiredToPropertyKey||(hasRequiredToPropertyKey=1,function(a){var s=require_typeof().default,et=requireToPrimitive();function nt(at){var mt=et(at,"string");return s(mt)=="symbol"?mt:mt+""}a.exports=nt,a.exports.__esModule=!0,a.exports.default=a.exports}(toPropertyKey)),toPropertyKey.exports}var hasRequiredDefineProperty;function requireDefineProperty(){return hasRequiredDefineProperty||(hasRequiredDefineProperty=1,function(a){var s=requireToPropertyKey();function et(nt,at,mt){return(at=s(at))in nt?Object.defineProperty(nt,at,{value:mt,enumerable:!0,configurable:!0,writable:!0}):nt[at]=mt,nt}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(defineProperty)),defineProperty.exports}var isRetryAllowed,hasRequiredIsRetryAllowed;function requireIsRetryAllowed(){if(hasRequiredIsRetryAllowed)return isRetryAllowed;hasRequiredIsRetryAllowed=1;const a=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return isRetryAllowed=s=>!a.has(s&&s.code),isRetryAllowed}var _interopRequireDefault$t=interopRequireDefaultExports;Object.defineProperty(cjs,"__esModule",{value:!0});cjs.isNetworkError=isNetworkError;cjs.isRetryableError=isRetryableError;cjs.isSafeRequestError=isSafeRequestError;cjs.isIdempotentRequestError=isIdempotentRequestError;cjs.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;cjs.exponentialDelay=exponentialDelay;cjs.default=axiosRetry$1;cjs.DEFAULT_OPTIONS=cjs.namespace=void 0;var _regenerator=_interopRequireDefault$t(requireRegenerator()),_typeof2=_interopRequireDefault$t(require_typeof()),_asyncToGenerator2=_interopRequireDefault$t(requireAsyncToGenerator()),_defineProperty2$6=_interopRequireDefault$t(requireDefineProperty()),_isRetryAllowed=_interopRequireDefault$t(requireIsRetryAllowed());function ownKeys(a,s){var et=Object.keys(a);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(a);s&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(a,at).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread(a){for(var s=1;s<arguments.length;s++){var et=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(et),!0).forEach(function(nt){(0,_defineProperty2$6.default)(a,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(nt){Object.defineProperty(a,nt,Object.getOwnPropertyDescriptor(et,nt))})}return a}var namespace="axios-retry";cjs.namespace=namespace;function isNetworkError(a){var s=["ERR_CANCELED","ECONNABORTED"];return!a.response&&!!a.code&&!s.includes(a.code)&&(0,_isRetryAllowed.default)(a)}var SAFE_HTTP_METHODS=["get","head","options"],IDEMPOTENT_HTTP_METHODS=SAFE_HTTP_METHODS.concat(["put","delete"]);function isRetryableError(a){return a.code!=="ECONNABORTED"&&(!a.response||a.response.status>=500&&a.response.status<=599)}function isSafeRequestError(a){return a.config?isRetryableError(a)&&SAFE_HTTP_METHODS.indexOf(a.config.method)!==-1:!1}function isIdempotentRequestError(a){return a.config?isRetryableError(a)&&IDEMPOTENT_HTTP_METHODS.indexOf(a.config.method)!==-1:!1}function isNetworkOrIdempotentRequestError(a){return isNetworkError(a)||isIdempotentRequestError(a)}function noDelay(){return 0}function exponentialDelay(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,et=Math.pow(2,a)*s,nt=et*.2*Math.random();return et+nt}var DEFAULT_OPTIONS={retries:3,retryCondition:isNetworkOrIdempotentRequestError,retryDelay:noDelay,shouldResetTimeout:!1,onRetry:function(){}};cjs.DEFAULT_OPTIONS=DEFAULT_OPTIONS;function getRequestOptions(a,s){return _objectSpread(_objectSpread(_objectSpread({},DEFAULT_OPTIONS),s),a[namespace])}function getCurrentState(a,s){var et=getRequestOptions(a,s);return et.retryCount=et.retryCount||0,a[namespace]=et,et}function fixConfig(a,s){a.defaults.agent===s.agent&&delete s.agent,a.defaults.httpAgent===s.httpAgent&&delete s.httpAgent,a.defaults.httpsAgent===s.httpsAgent&&delete s.httpsAgent}function shouldRetry(a,s){return _shouldRetry.apply(this,arguments)}function _shouldRetry(){return _shouldRetry=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function a(s,et){var nt,at,mt,wt;return _regenerator.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(nt=s.retries,at=s.retryCondition,mt=s.retryCount<nt&&at(et),(0,_typeof2.default)(mt)!=="object"){Ct.next=13;break}return Ct.prev=3,Ct.next=6,mt;case 6:return wt=Ct.sent,Ct.abrupt("return",wt!==!1);case 10:return Ct.prev=10,Ct.t0=Ct.catch(3),Ct.abrupt("return",!1);case 13:return Ct.abrupt("return",mt);case 14:case"end":return Ct.stop()}},a,null,[[3,10]])})),_shouldRetry.apply(this,arguments)}function axiosRetry$1(a,s){var et=a.interceptors.request.use(function(at){var mt=getCurrentState(at,s);return mt.lastRequestTime=Date.now(),at}),nt=a.interceptors.response.use(null,function(){var at=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function mt(wt){var $t,Ct,Dt,Ft,jt,Ut,tr,ir;return _regenerator.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:if($t=wt.config,$t){ur.next=3;break}return ur.abrupt("return",Promise.reject(wt));case 3:return Ct=getCurrentState($t,s),ur.next=6,shouldRetry(Ct,wt);case 6:if(!ur.sent){ur.next=21;break}if(Ct.retryCount+=1,Dt=Ct.retryDelay,Ft=Ct.shouldResetTimeout,jt=Ct.onRetry,Ut=Dt(Ct.retryCount,wt),fixConfig(a,$t),!(!Ft&&$t.timeout&&Ct.lastRequestTime)){ur.next=17;break}if(tr=Date.now()-Ct.lastRequestTime,ir=$t.timeout-tr-Ut,!(ir<=0)){ur.next=16;break}return ur.abrupt("return",Promise.reject(wt));case 16:$t.timeout=ir;case 17:return $t.transformRequest=[function(fr){return fr}],ur.next=20,jt(Ct.retryCount,wt,$t);case 20:return ur.abrupt("return",new Promise(function(fr){return setTimeout(function(){return fr(a($t))},Ut)}));case 21:return ur.abrupt("return",Promise.reject(wt));case 22:case"end":return ur.stop()}},mt)}));return function(mt){return at.apply(this,arguments)}}());return{requestInterceptorId:et,responseInterceptorId:nt}}axiosRetry$1.isNetworkError=isNetworkError;axiosRetry$1.isSafeRequestError=isSafeRequestError;axiosRetry$1.isIdempotentRequestError=isIdempotentRequestError;axiosRetry$1.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;axiosRetry$1.exponentialDelay=exponentialDelay;axiosRetry$1.isRetryableError=isRetryableError;const axiosRetry=cjs.default;axiosRetry$2.exports=axiosRetry;axiosRetry$2.exports.default=axiosRetry;var axiosRetryExports=axiosRetry$2.exports,ResillientWebSocket={},ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof commonjsGlobal$1<"u"?ws=commonjsGlobal$1.WebSocket||commonjsGlobal$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);var browser$e=ws,__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ResillientWebSocket,"__esModule",{value:!0});ResillientWebSocket.ResilientWebSocket=void 0;const isomorphic_ws_1=__importDefault$2(browser$e),PING_TIMEOUT_DURATION=33e3;class ResilientWebSocket{constructor(s,et){Yn(this,"endpoint");Yn(this,"wsClient");Yn(this,"wsUserClosed");Yn(this,"wsFailedAttempts");Yn(this,"pingTimeout");Yn(this,"logger");Yn(this,"onError");Yn(this,"onMessage");Yn(this,"onReconnect");this.endpoint=s,this.logger=et,this.wsFailedAttempts=0,this.onError=nt=>{var at;(at=this.logger)==null||at.error(nt)},this.wsUserClosed=!0,this.onMessage=()=>{},this.onReconnect=()=>{}}async send(s){var et,nt,at;(et=this.logger)==null||et.info(`Sending ${s}`),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0?(nt=this.logger)==null||nt.error("Couldn't connect to the websocket server. Error callback is called."):(at=this.wsClient)==null||at.send(s)}async startWebSocket(){var s;this.wsClient===void 0&&((s=this.logger)==null||s.info("Creating Web Socket client"),this.wsClient=new isomorphic_ws_1.default(this.endpoint),this.wsUserClosed=!1,this.wsClient.onopen=()=>{this.wsFailedAttempts=0,this.wsClient.on!==void 0&&this.heartbeat()},this.wsClient.onerror=et=>{this.onError(et.error)},this.wsClient.onmessage=et=>{this.onMessage(et.data)},this.wsClient.onclose=async()=>{var et,nt;if(this.pingTimeout!==void 0&&clearInterval(this.pingTimeout),this.wsUserClosed===!1){this.wsFailedAttempts+=1,this.wsClient=void 0;const at=expoBackoff(this.wsFailedAttempts);(et=this.logger)==null||et.error(`Connection closed unexpectedly or because of timeout. Reconnecting after ${at}ms.`),await sleep(at),this.restartUnexpectedClosedWebsocket()}else(nt=this.logger)==null||nt.info("The connection has been closed successfully.")},this.wsClient.on!==void 0&&this.wsClient.on("ping",this.heartbeat.bind(this)))}heartbeat(){var s;(s=this.logger)==null||s.info("Heartbeat"),this.pingTimeout!==void 0&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var et,nt;(et=this.logger)==null||et.warn("Connection timed out. Reconnecting..."),(nt=this.wsClient)==null||nt.terminate(),this.restartUnexpectedClosedWebsocket()},PING_TIMEOUT_DURATION)}async waitForMaybeReadyWebSocket(){let s=0;for(;this.wsClient!==void 0&&this.wsClient.readyState!==this.wsClient.OPEN;)if(s>5e3){this.wsClient.close();return}else s+=10,await sleep(10)}async restartUnexpectedClosedWebsocket(){var s;if(this.wsUserClosed!==!0){if(await this.startWebSocket(),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0){(s=this.logger)==null||s.error("Couldn't reconnect to websocket. Error callback is called.");return}this.onReconnect()}}closeWebSocket(){if(this.wsClient!==void 0){const s=this.wsClient;this.wsClient=void 0,s.close()}this.wsUserClosed=!0}}ResillientWebSocket.ResilientWebSocket=ResilientWebSocket;async function sleep(a){return new Promise(s=>setTimeout(s,a))}function expoBackoff(a){return 2**a*100}var utils$4={};Object.defineProperty(utils$4,"__esModule",{value:!0});utils$4.removeLeading0xIfExists=utils$4.makeWebsocketUrl=void 0;function makeWebsocketUrl(a){const s=new URL("ws",a),et=s.protocol==="https:";return s.protocol=et?"wss:":"ws:",s.toString()}utils$4.makeWebsocketUrl=makeWebsocketUrl;function removeLeading0xIfExists(a){return a.startsWith("0x")?a.substring(2):a}utils$4.removeLeading0xIfExists=removeLeading0xIfExists;var __importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(PriceServiceConnection$1,"__esModule",{value:!0});PriceServiceConnection$1.PriceServiceConnection=void 0;const price_service_sdk_1=lib$1,axios_1$1=__importDefault$1(require$$0$2),axios_retry_1=__importDefault$1(axiosRetryExports),ResillientWebSocket_1=ResillientWebSocket,utils_1$1=utils$4;class PriceServiceConnection{constructor(s,et){Yn(this,"httpClient");Yn(this,"priceFeedCallbacks");Yn(this,"wsClient");Yn(this,"wsEndpoint");Yn(this,"logger");Yn(this,"priceFeedRequestConfig");Yn(this,"onWsError");var nt,at,mt;this.httpClient=axios_1$1.default.create({baseURL:s,timeout:(et==null?void 0:et.timeout)||5e3}),(0,axios_retry_1.default)(this.httpClient,{retries:(et==null?void 0:et.httpRetries)||3,retryDelay:axios_retry_1.default.exponentialDelay}),this.priceFeedRequestConfig={binary:(nt=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:nt.binary,verbose:((at=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:at.verbose)??(et==null?void 0:et.verbose),allowOutOfOrder:(mt=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:mt.allowOutOfOrder},this.priceFeedCallbacks=new Map,this.logger=(et==null?void 0:et.logger)||{trace:()=>{},debug:()=>{},info:()=>{},warn:console.warn,error:console.error},this.onWsError=wt=>{this.logger.error(wt),typeof process$1<"u"&&typeof process$1.exit=="function"?(this.logger.error("Halting the process due to the websocket error"),process$1.exit(1)):this.logger.error("Cannot halt process. Please handle the websocket error.")},this.wsEndpoint=(0,utils_1$1.makeWebsocketUrl)(s)}async getLatestPriceFeeds(s){return s.length===0?[]:(await this.httpClient.get("/api/latest_price_feeds",{params:{ids:s,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}})).data.map(at=>price_service_sdk_1.PriceFeed.fromJson(at))}async getLatestVaas(s){return(await this.httpClient.get("/api/latest_vaas",{params:{ids:s}})).data}async getVaa(s,et){const nt=await this.httpClient.get("/api/get_vaa",{params:{id:s,publish_time:et}});return[nt.data.vaa,nt.data.publishTime]}async getPriceFeed(s,et){const nt=await this.httpClient.get("/api/get_price_feed",{params:{id:s,publish_time:et,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}});return price_service_sdk_1.PriceFeed.fromJson(nt.data)}async getPriceFeedIds(){return(await this.httpClient.get("/api/price_feed_ids")).data}async subscribePriceFeedUpdates(s,et){var mt;this.wsClient===void 0&&await this.startWebSocket(),s=s.map(wt=>(0,utils_1$1.removeLeading0xIfExists)(wt));const nt=[];for(const wt of s)this.priceFeedCallbacks.has(wt)||(this.priceFeedCallbacks.set(wt,new Set),nt.push(wt)),this.priceFeedCallbacks.get(wt).add(et);const at={ids:nt,type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};await((mt=this.wsClient)==null?void 0:mt.send(JSON.stringify(at)))}async unsubscribePriceFeedUpdates(s,et){var mt;this.wsClient===void 0&&await this.startWebSocket(),s=s.map(wt=>(0,utils_1$1.removeLeading0xIfExists)(wt));const nt=[];for(const wt of s)if(this.priceFeedCallbacks.has(wt)){let $t=!1;et===void 0?(this.priceFeedCallbacks.delete(wt),$t=!0):(this.priceFeedCallbacks.get(wt).delete(et),this.priceFeedCallbacks.get(wt).size===0&&(this.priceFeedCallbacks.delete(wt),$t=!0)),$t&&nt.push(wt)}const at={ids:nt,type:"unsubscribe"};await((mt=this.wsClient)==null?void 0:mt.send(JSON.stringify(at))),this.priceFeedCallbacks.size===0&&this.closeWebSocket()}async startWebSocket(){if(this.wsEndpoint===void 0)throw new Error("Websocket endpoint is undefined.");this.wsClient=new ResillientWebSocket_1.ResilientWebSocket(this.wsEndpoint,this.logger),this.wsClient.onError=this.onWsError,this.wsClient.onReconnect=()=>{var s;if(this.priceFeedCallbacks.size>0){const et={ids:Array.from(this.priceFeedCallbacks.keys()),type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};this.logger.info("Resubscribing to existing price feeds."),(s=this.wsClient)==null||s.send(JSON.stringify(et))}},this.wsClient.onMessage=s=>{this.logger.info(`Received message ${s.toString()}`);let et;try{et=JSON.parse(s.toString())}catch(nt){this.logger.error(`Error parsing message ${s.toString()} as JSON.`),this.logger.error(nt),this.onWsError(nt);return}if(et.type==="response")et.status==="error"&&(this.logger.error(`Error response from the websocket server ${et.error}.`),this.onWsError(new Error(et.error)));else if(et.type==="price_update"){let nt;try{nt=price_service_sdk_1.PriceFeed.fromJson(et.price_feed)}catch(at){this.logger.error(`Error parsing price feeds from message ${s.toString()}.`),this.logger.error(at),this.onWsError(at);return}if(this.priceFeedCallbacks.has(nt.id))for(const at of this.priceFeedCallbacks.get(nt.id))at(nt)}else this.logger.warn(`Ignoring unsupported server response ${s.toString()}.`)},await this.wsClient.startWebSocket()}closeWebSocket(){var s;(s=this.wsClient)==null||s.closeWebSocket(),this.wsClient=void 0,this.priceFeedCallbacks.clear()}}PriceServiceConnection$1.PriceServiceConnection=PriceServiceConnection;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.parseAccumulatorUpdateData=a.isAccumulatorUpdateData=a.Price=a.PriceFeed=a.PriceFeedMetadata=a.PriceServiceConnection=void 0;var s=PriceServiceConnection$1;Object.defineProperty(a,"PriceServiceConnection",{enumerable:!0,get:function(){return s.PriceServiceConnection}});var et=lib$1;Object.defineProperty(a,"PriceFeedMetadata",{enumerable:!0,get:function(){return et.PriceFeedMetadata}}),Object.defineProperty(a,"PriceFeed",{enumerable:!0,get:function(){return et.PriceFeed}}),Object.defineProperty(a,"Price",{enumerable:!0,get:function(){return et.Price}}),Object.defineProperty(a,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return et.isAccumulatorUpdateData}}),Object.defineProperty(a,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return et.parseAccumulatorUpdateData}})})(lib$2);Object.defineProperty(SuiPriceServiceConnection$1,"__esModule",{value:!0});SuiPriceServiceConnection$1.SuiPriceServiceConnection=void 0;const price_service_client_1=lib$2,buffer_1$1=require$$0$3;class SuiPriceServiceConnection extends price_service_client_1.PriceServiceConnection{async getPriceFeedsUpdateData(s){return(await this.getLatestVaas(s)).map(nt=>buffer_1$1.Buffer.from(nt,"base64"))}}SuiPriceServiceConnection$1.SuiPriceServiceConnection=SuiPriceServiceConnection;var client={};const require$$0$1=getAugmentedNamespace(utils$7),require$$1$2=getAugmentedNamespace(bcs);Object.defineProperty(client,"__esModule",{value:!0});client.SuiPythClient=void 0;const utils_1=require$$0$1,bcs_1=require$$1$2,buffer_1=require$$0$3,MAX_ARGUMENT_SIZE=16*1024;class SuiPythClient{constructor(s,et,nt){Yn(this,"provider");Yn(this,"pythStateId");Yn(this,"wormholeStateId");Yn(this,"pythPackageId");Yn(this,"wormholePackageId");Yn(this,"priceTableInfo");Yn(this,"priceFeedObjectIdCache",new Map);Yn(this,"baseUpdateFee");this.provider=s,this.pythStateId=et,this.wormholeStateId=nt,this.pythPackageId=void 0,this.wormholePackageId=void 0}async getBaseUpdateFee(){if(this.baseUpdateFee===void 0){const s=await this.provider.getObject({id:this.pythStateId,options:{showContent:!0}});if(!s.data||!s.data.content||s.data.content.dataType!=="moveObject")throw new Error("Unable to fetch pyth state object");this.baseUpdateFee=s.data.content.fields.base_update_fee}return this.baseUpdateFee}async getPackageId(s){const et=await this.provider.getObject({id:s,options:{showContent:!0}}).then(nt=>{var at,mt,wt;if(((mt=(at=nt.data)==null?void 0:at.content)==null?void 0:mt.dataType)=="moveObject")return nt.data.content.fields;throw console.log((wt=nt.data)==null?void 0:wt.content),new Error(`Cannot fetch package id for object ${s}`)});if("upgrade_cap"in et)return et.upgrade_cap.fields.package;throw new Error("upgrade_cap not found")}async verifyVaas(s,et){const nt=await this.getWormholePackageId(),at=[];for(const mt of s){const[wt]=et.moveCall({target:`${nt}::vaa::parse_and_verify`,arguments:[et.object(this.wormholeStateId),et.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(mt),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),et.object(utils_1.SUI_CLOCK_OBJECT_ID)]});at.push(wt)}return at}async updatePriceFeeds(s,et,nt){const at=await this.getPythPackageId();let mt;if(et.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const wt=this.extractVaaBytesFromAccumulatorMessage(et[0]),$t=await this.verifyVaas([wt],s);[mt]=s.moveCall({target:`${at}::pyth::create_authenticated_price_infos_using_accumulator`,arguments:[s.object(this.pythStateId),s.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(et[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),$t[0],s.object(utils_1.SUI_CLOCK_OBJECT_ID)]});const Ct=[],Dt=await this.getBaseUpdateFee(),Ft=s.splitCoins(s.gas,nt.map(()=>s.pure.u64(Dt)));let jt=0;for(const Ut of nt){const tr=await this.getPriceFeedObjectId(Ut);if(!tr)throw new Error(`Price feed ${Ut} not found, please create it first`);Ct.push(tr),[mt]=s.moveCall({target:`${at}::pyth::update_single_price_feed`,arguments:[s.object(this.pythStateId),mt,s.object(tr),Ft[jt],s.object(utils_1.SUI_CLOCK_OBJECT_ID)]}),jt++}return s.moveCall({target:`${at}::hot_potato_vector::destroy`,arguments:[mt],typeArguments:[`${at}::price_info::PriceInfo`]}),Ct}async createPriceFeed(s,et){const nt=await this.getPythPackageId();if(et.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const at=this.extractVaaBytesFromAccumulatorMessage(et[0]),mt=await this.verifyVaas([at],s);s.moveCall({target:`${nt}::pyth::create_price_feeds_using_accumulator`,arguments:[s.object(this.pythStateId),s.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(et[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),mt[0],s.object(utils_1.SUI_CLOCK_OBJECT_ID)]})}async getWormholePackageId(){return this.wormholePackageId||(this.wormholePackageId=await this.getPackageId(this.wormholeStateId)),this.wormholePackageId}async getPythPackageId(){return this.pythPackageId||(this.pythPackageId=await this.getPackageId(this.pythStateId)),this.pythPackageId}async getPriceFeedObjectId(s){const et=s.replace("0x","");if(!this.priceFeedObjectIdCache.has(et)){const{id:nt,fieldType:at}=await this.getPriceTableInfo(),mt=await this.provider.getDynamicFieldObject({parentId:nt,name:{type:`${at}::price_identifier::PriceIdentifier`,value:{bytes:Array.from(buffer_1.Buffer.from(et,"hex"))}}});if(!mt.data||!mt.data.content)return;if(mt.data.content.dataType!=="moveObject")throw new Error("Price feed type mismatch");this.priceFeedObjectIdCache.set(et,mt.data.content.fields.value)}return this.priceFeedObjectIdCache.get(et)}async getPriceTableInfo(){if(this.priceTableInfo===void 0){const s=await this.provider.getDynamicFieldObject({parentId:this.pythStateId,name:{type:"vector<u8>",value:"price_info"}});if(!s.data||!s.data.type)throw new Error("Price Table not found, contract may not be initialized");let et=s.data.type.replace("0x2::table::Table<","");et=et.replace("::price_identifier::PriceIdentifier, 0x2::object::ID>",""),this.priceTableInfo={id:s.data.objectId,fieldType:et}}return this.priceTableInfo}extractVaaBytesFromAccumulatorMessage(s){const nt=7+s.readUint8(6)+1,at=s.readUint16BE(nt),mt=nt+2;return s.subarray(mt,mt+at)}}client.SuiPythClient=SuiPythClient;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PriceFeed=a.Price=a.SuiPythClient=a.SuiPriceServiceConnection=void 0;var s=SuiPriceServiceConnection$1;Object.defineProperty(a,"SuiPriceServiceConnection",{enumerable:!0,get:function(){return s.SuiPriceServiceConnection}});var et=client;Object.defineProperty(a,"SuiPythClient",{enumerable:!0,get:function(){return et.SuiPythClient}});var nt=lib$2;Object.defineProperty(a,"Price",{enumerable:!0,get:function(){return nt.Price}}),Object.defineProperty(a,"PriceFeed",{enumerable:!0,get:function(){return nt.PriceFeed}})})(lib$3);var __create=Object.create,__defProp$3=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(a,s,et)=>s in a?__defProp$3(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__spreadValues$2=(a,s)=>{for(var et in s||(s={}))__hasOwnProp$2.call(s,et)&&__defNormalProp$3(a,et,s[et]);if(__getOwnPropSymbols$2)for(var et of __getOwnPropSymbols$2(s))__propIsEnum$2.call(s,et)&&__defNormalProp$3(a,et,s[et]);return a},__spreadProps$1=(a,s)=>__defProps$1(a,__getOwnPropDescs$1(s)),__require=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(s,et)=>(typeof require<"u"?require:s)[et]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')}),__commonJS=(a,s)=>function(){return s||(0,a[__getOwnPropNames(a)[0]])((s={exports:{}}).exports,s),s.exports},__copyProps=(a,s,et,nt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames(s))!__hasOwnProp$2.call(a,at)&&at!==et&&__defProp$3(a,at,{get:()=>s[at],enumerable:!(nt=__getOwnPropDesc(s,at))||nt.enumerable});return a},__toESM=(a,s,et)=>(et=a!=null?__create(__getProtoOf(a)):{},__copyProps(!a||!a.__esModule?__defProp$3(et,"default",{value:a,enumerable:!0}):et,a)),__async=(a,s,et)=>new Promise((nt,at)=>{var mt=Ct=>{try{$t(et.next(Ct))}catch(Dt){at(Dt)}},wt=Ct=>{try{$t(et.throw(Ct))}catch(Dt){at(Dt)}},$t=Ct=>Ct.done?nt(Ct.value):Promise.resolve(Ct.value).then(mt,wt);$t((et=et.apply(a,s)).next())}),require_bn=__commonJS({"node_modules/bn.js/lib/bn.js"(a,s){(function(et,nt){function at(er,Yt){if(!er)throw new Error(Yt||"Assertion failed")}function mt(er,Yt){er.super_=Yt;var rr=function(){};rr.prototype=Yt.prototype,er.prototype=new rr,er.prototype.constructor=er}function wt(er,Yt,rr){if(wt.isBN(er))return er;this.negative=0,this.words=null,this.length=0,this.red=null,er!==null&&((Yt==="le"||Yt==="be")&&(rr=Yt,Yt=10),this._init(er||0,Yt||10,rr||"be"))}typeof et=="object"?et.exports=wt:nt.BN=wt,wt.BN=wt,wt.wordSize=26;var $t;try{typeof window<"u"&&typeof window.Buffer<"u"?$t=window.Buffer:$t=__require("buffer").Buffer}catch{}wt.isBN=function(Yt){return Yt instanceof wt?!0:Yt!==null&&typeof Yt=="object"&&Yt.constructor.wordSize===wt.wordSize&&Array.isArray(Yt.words)},wt.max=function(Yt,rr){return Yt.cmp(rr)>0?Yt:rr},wt.min=function(Yt,rr){return Yt.cmp(rr)<0?Yt:rr},wt.prototype._init=function(Yt,rr,ar){if(typeof Yt=="number")return this._initNumber(Yt,rr,ar);if(typeof Yt=="object")return this._initArray(Yt,rr,ar);rr==="hex"&&(rr=16),at(rr===(rr|0)&&rr>=2&&rr<=36),Yt=Yt.toString().replace(/\s+/g,"");var lr=0;Yt[0]==="-"&&(lr++,this.negative=1),lr<Yt.length&&(rr===16?this._parseHex(Yt,lr,ar):(this._parseBase(Yt,rr,lr),ar==="le"&&this._initArray(this.toArray(),rr,ar)))},wt.prototype._initNumber=function(Yt,rr,ar){Yt<0&&(this.negative=1,Yt=-Yt),Yt<67108864?(this.words=[Yt&67108863],this.length=1):Yt<4503599627370496?(this.words=[Yt&67108863,Yt/67108864&67108863],this.length=2):(at(Yt<9007199254740992),this.words=[Yt&67108863,Yt/67108864&67108863,1],this.length=3),ar==="le"&&this._initArray(this.toArray(),rr,ar)},wt.prototype._initArray=function(Yt,rr,ar){if(at(typeof Yt.length=="number"),Yt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Yt.length/3),this.words=new Array(this.length);for(var lr=0;lr<this.length;lr++)this.words[lr]=0;var nr,Lt,or=0;if(ar==="be")for(lr=Yt.length-1,nr=0;lr>=0;lr-=3)Lt=Yt[lr]|Yt[lr-1]<<8|Yt[lr-2]<<16,this.words[nr]|=Lt<<or&67108863,this.words[nr+1]=Lt>>>26-or&67108863,or+=24,or>=26&&(or-=26,nr++);else if(ar==="le")for(lr=0,nr=0;lr<Yt.length;lr+=3)Lt=Yt[lr]|Yt[lr+1]<<8|Yt[lr+2]<<16,this.words[nr]|=Lt<<or&67108863,this.words[nr+1]=Lt>>>26-or&67108863,or+=24,or>=26&&(or-=26,nr++);return this._strip()};function Ct(er,Yt){var rr=er.charCodeAt(Yt);if(rr>=48&&rr<=57)return rr-48;if(rr>=65&&rr<=70)return rr-55;if(rr>=97&&rr<=102)return rr-87;at(!1,"Invalid character in "+er)}function Dt(er,Yt,rr){var ar=Ct(er,rr);return rr-1>=Yt&&(ar|=Ct(er,rr-1)<<4),ar}wt.prototype._parseHex=function(Yt,rr,ar){this.length=Math.ceil((Yt.length-rr)/6),this.words=new Array(this.length);for(var lr=0;lr<this.length;lr++)this.words[lr]=0;var nr=0,Lt=0,or;if(ar==="be")for(lr=Yt.length-1;lr>=rr;lr-=2)or=Dt(Yt,rr,lr)<<nr,this.words[Lt]|=or&67108863,nr>=18?(nr-=18,Lt+=1,this.words[Lt]|=or>>>26):nr+=8;else{var gr=Yt.length-rr;for(lr=gr%2===0?rr+1:rr;lr<Yt.length;lr+=2)or=Dt(Yt,rr,lr)<<nr,this.words[Lt]|=or&67108863,nr>=18?(nr-=18,Lt+=1,this.words[Lt]|=or>>>26):nr+=8}this._strip()};function Ft(er,Yt,rr,ar){for(var lr=0,nr=0,Lt=Math.min(er.length,rr),or=Yt;or<Lt;or++){var gr=er.charCodeAt(or)-48;lr*=ar,gr>=49?nr=gr-49+10:gr>=17?nr=gr-17+10:nr=gr,at(gr>=0&&nr<ar,"Invalid character"),lr+=nr}return lr}wt.prototype._parseBase=function(Yt,rr,ar){this.words=[0],this.length=1;for(var lr=0,nr=1;nr<=67108863;nr*=rr)lr++;lr--,nr=nr/rr|0;for(var Lt=Yt.length-ar,or=Lt%lr,gr=Math.min(Lt,Lt-or)+ar,pr=0,_r=ar;_r<gr;_r+=lr)pr=Ft(Yt,_r,_r+lr,rr),this.imuln(nr),this.words[0]+pr<67108864?this.words[0]+=pr:this._iaddn(pr);if(or!==0){var kr=1;for(pr=Ft(Yt,_r,Yt.length,rr),_r=0;_r<or;_r++)kr*=rr;this.imuln(kr),this.words[0]+pr<67108864?this.words[0]+=pr:this._iaddn(pr)}this._strip()},wt.prototype.copy=function(Yt){Yt.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)Yt.words[rr]=this.words[rr];Yt.length=this.length,Yt.negative=this.negative,Yt.red=this.red};function jt(er,Yt){er.words=Yt.words,er.length=Yt.length,er.negative=Yt.negative,er.red=Yt.red}if(wt.prototype._move=function(Yt){jt(Yt,this)},wt.prototype.clone=function(){var Yt=new wt(null);return this.copy(Yt),Yt},wt.prototype._expand=function(Yt){for(;this.length<Yt;)this.words[this.length++]=0;return this},wt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},wt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{wt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ut}catch{wt.prototype.inspect=Ut}else wt.prototype.inspect=Ut;function Ut(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var tr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ir=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],sr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];wt.prototype.toString=function(Yt,rr){Yt=Yt||10,rr=rr|0||1;var ar;if(Yt===16||Yt==="hex"){ar="";for(var lr=0,nr=0,Lt=0;Lt<this.length;Lt++){var or=this.words[Lt],gr=((or<<lr|nr)&16777215).toString(16);nr=or>>>24-lr&16777215,lr+=2,lr>=26&&(lr-=26,Lt--),nr!==0||Lt!==this.length-1?ar=tr[6-gr.length]+gr+ar:ar=gr+ar}for(nr!==0&&(ar=nr.toString(16)+ar);ar.length%rr!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}if(Yt===(Yt|0)&&Yt>=2&&Yt<=36){var pr=ir[Yt],_r=sr[Yt];ar="";var kr=this.clone();for(kr.negative=0;!kr.isZero();){var Mr=kr.modrn(_r).toString(Yt);kr=kr.idivn(_r),kr.isZero()?ar=Mr+ar:ar=tr[pr-Mr.length]+Mr+ar}for(this.isZero()&&(ar="0"+ar);ar.length%rr!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}at(!1,"Base should be between 2 and 36")},wt.prototype.toNumber=function(){var Yt=this.words[0];return this.length===2?Yt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Yt+=4503599627370496+this.words[1]*67108864:this.length>2&&at(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Yt:Yt},wt.prototype.toJSON=function(){return this.toString(16,2)},$t&&(wt.prototype.toBuffer=function(Yt,rr){return this.toArrayLike($t,Yt,rr)}),wt.prototype.toArray=function(Yt,rr){return this.toArrayLike(Array,Yt,rr)};var ur=function(Yt,rr){return Yt.allocUnsafe?Yt.allocUnsafe(rr):new Yt(rr)};wt.prototype.toArrayLike=function(Yt,rr,ar){this._strip();var lr=this.byteLength(),nr=ar||Math.max(1,lr);at(lr<=nr,"byte array longer than desired length"),at(nr>0,"Requested array length <= 0");var Lt=ur(Yt,nr),or=rr==="le"?"LE":"BE";return this["_toArrayLike"+or](Lt,lr),Lt},wt.prototype._toArrayLikeLE=function(Yt,rr){for(var ar=0,lr=0,nr=0,Lt=0;nr<this.length;nr++){var or=this.words[nr]<<Lt|lr;Yt[ar++]=or&255,ar<Yt.length&&(Yt[ar++]=or>>8&255),ar<Yt.length&&(Yt[ar++]=or>>16&255),Lt===6?(ar<Yt.length&&(Yt[ar++]=or>>24&255),lr=0,Lt=0):(lr=or>>>24,Lt+=2)}if(ar<Yt.length)for(Yt[ar++]=lr;ar<Yt.length;)Yt[ar++]=0},wt.prototype._toArrayLikeBE=function(Yt,rr){for(var ar=Yt.length-1,lr=0,nr=0,Lt=0;nr<this.length;nr++){var or=this.words[nr]<<Lt|lr;Yt[ar--]=or&255,ar>=0&&(Yt[ar--]=or>>8&255),ar>=0&&(Yt[ar--]=or>>16&255),Lt===6?(ar>=0&&(Yt[ar--]=or>>24&255),lr=0,Lt=0):(lr=or>>>24,Lt+=2)}if(ar>=0)for(Yt[ar--]=lr;ar>=0;)Yt[ar--]=0},Math.clz32?wt.prototype._countBits=function(Yt){return 32-Math.clz32(Yt)}:wt.prototype._countBits=function(Yt){var rr=Yt,ar=0;return rr>=4096&&(ar+=13,rr>>>=13),rr>=64&&(ar+=7,rr>>>=7),rr>=8&&(ar+=4,rr>>>=4),rr>=2&&(ar+=2,rr>>>=2),ar+rr},wt.prototype._zeroBits=function(Yt){if(Yt===0)return 26;var rr=Yt,ar=0;return rr&8191||(ar+=13,rr>>>=13),rr&127||(ar+=7,rr>>>=7),rr&15||(ar+=4,rr>>>=4),rr&3||(ar+=2,rr>>>=2),rr&1||ar++,ar},wt.prototype.bitLength=function(){var Yt=this.words[this.length-1],rr=this._countBits(Yt);return(this.length-1)*26+rr};function fr(er){for(var Yt=new Array(er.bitLength()),rr=0;rr<Yt.length;rr++){var ar=rr/26|0,lr=rr%26;Yt[rr]=er.words[ar]>>>lr&1}return Yt}wt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Yt=0,rr=0;rr<this.length;rr++){var ar=this._zeroBits(this.words[rr]);if(Yt+=ar,ar!==26)break}return Yt},wt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},wt.prototype.toTwos=function(Yt){return this.negative!==0?this.abs().inotn(Yt).iaddn(1):this.clone()},wt.prototype.fromTwos=function(Yt){return this.testn(Yt-1)?this.notn(Yt).iaddn(1).ineg():this.clone()},wt.prototype.isNeg=function(){return this.negative!==0},wt.prototype.neg=function(){return this.clone().ineg()},wt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},wt.prototype.iuor=function(Yt){for(;this.length<Yt.length;)this.words[this.length++]=0;for(var rr=0;rr<Yt.length;rr++)this.words[rr]=this.words[rr]|Yt.words[rr];return this._strip()},wt.prototype.ior=function(Yt){return at((this.negative|Yt.negative)===0),this.iuor(Yt)},wt.prototype.or=function(Yt){return this.length>Yt.length?this.clone().ior(Yt):Yt.clone().ior(this)},wt.prototype.uor=function(Yt){return this.length>Yt.length?this.clone().iuor(Yt):Yt.clone().iuor(this)},wt.prototype.iuand=function(Yt){var rr;this.length>Yt.length?rr=Yt:rr=this;for(var ar=0;ar<rr.length;ar++)this.words[ar]=this.words[ar]&Yt.words[ar];return this.length=rr.length,this._strip()},wt.prototype.iand=function(Yt){return at((this.negative|Yt.negative)===0),this.iuand(Yt)},wt.prototype.and=function(Yt){return this.length>Yt.length?this.clone().iand(Yt):Yt.clone().iand(this)},wt.prototype.uand=function(Yt){return this.length>Yt.length?this.clone().iuand(Yt):Yt.clone().iuand(this)},wt.prototype.iuxor=function(Yt){var rr,ar;this.length>Yt.length?(rr=this,ar=Yt):(rr=Yt,ar=this);for(var lr=0;lr<ar.length;lr++)this.words[lr]=rr.words[lr]^ar.words[lr];if(this!==rr)for(;lr<rr.length;lr++)this.words[lr]=rr.words[lr];return this.length=rr.length,this._strip()},wt.prototype.ixor=function(Yt){return at((this.negative|Yt.negative)===0),this.iuxor(Yt)},wt.prototype.xor=function(Yt){return this.length>Yt.length?this.clone().ixor(Yt):Yt.clone().ixor(this)},wt.prototype.uxor=function(Yt){return this.length>Yt.length?this.clone().iuxor(Yt):Yt.clone().iuxor(this)},wt.prototype.inotn=function(Yt){at(typeof Yt=="number"&&Yt>=0);var rr=Math.ceil(Yt/26)|0,ar=Yt%26;this._expand(rr),ar>0&&rr--;for(var lr=0;lr<rr;lr++)this.words[lr]=~this.words[lr]&67108863;return ar>0&&(this.words[lr]=~this.words[lr]&67108863>>26-ar),this._strip()},wt.prototype.notn=function(Yt){return this.clone().inotn(Yt)},wt.prototype.setn=function(Yt,rr){at(typeof Yt=="number"&&Yt>=0);var ar=Yt/26|0,lr=Yt%26;return this._expand(ar+1),rr?this.words[ar]=this.words[ar]|1<<lr:this.words[ar]=this.words[ar]&~(1<<lr),this._strip()},wt.prototype.iadd=function(Yt){var rr;if(this.negative!==0&&Yt.negative===0)return this.negative=0,rr=this.isub(Yt),this.negative^=1,this._normSign();if(this.negative===0&&Yt.negative!==0)return Yt.negative=0,rr=this.isub(Yt),Yt.negative=1,rr._normSign();var ar,lr;this.length>Yt.length?(ar=this,lr=Yt):(ar=Yt,lr=this);for(var nr=0,Lt=0;Lt<lr.length;Lt++)rr=(ar.words[Lt]|0)+(lr.words[Lt]|0)+nr,this.words[Lt]=rr&67108863,nr=rr>>>26;for(;nr!==0&&Lt<ar.length;Lt++)rr=(ar.words[Lt]|0)+nr,this.words[Lt]=rr&67108863,nr=rr>>>26;if(this.length=ar.length,nr!==0)this.words[this.length]=nr,this.length++;else if(ar!==this)for(;Lt<ar.length;Lt++)this.words[Lt]=ar.words[Lt];return this},wt.prototype.add=function(Yt){var rr;return Yt.negative!==0&&this.negative===0?(Yt.negative=0,rr=this.sub(Yt),Yt.negative^=1,rr):Yt.negative===0&&this.negative!==0?(this.negative=0,rr=Yt.sub(this),this.negative=1,rr):this.length>Yt.length?this.clone().iadd(Yt):Yt.clone().iadd(this)},wt.prototype.isub=function(Yt){if(Yt.negative!==0){Yt.negative=0;var rr=this.iadd(Yt);return Yt.negative=1,rr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Yt),this.negative=1,this._normSign();var ar=this.cmp(Yt);if(ar===0)return this.negative=0,this.length=1,this.words[0]=0,this;var lr,nr;ar>0?(lr=this,nr=Yt):(lr=Yt,nr=this);for(var Lt=0,or=0;or<nr.length;or++)rr=(lr.words[or]|0)-(nr.words[or]|0)+Lt,Lt=rr>>26,this.words[or]=rr&67108863;for(;Lt!==0&&or<lr.length;or++)rr=(lr.words[or]|0)+Lt,Lt=rr>>26,this.words[or]=rr&67108863;if(Lt===0&&or<lr.length&&lr!==this)for(;or<lr.length;or++)this.words[or]=lr.words[or];return this.length=Math.max(this.length,or),lr!==this&&(this.negative=1),this._strip()},wt.prototype.sub=function(Yt){return this.clone().isub(Yt)};function dr(er,Yt,rr){rr.negative=Yt.negative^er.negative;var ar=er.length+Yt.length|0;rr.length=ar,ar=ar-1|0;var lr=er.words[0]|0,nr=Yt.words[0]|0,Lt=lr*nr,or=Lt&67108863,gr=Lt/67108864|0;rr.words[0]=or;for(var pr=1;pr<ar;pr++){for(var _r=gr>>>26,kr=gr&67108863,Mr=Math.min(pr,Yt.length-1),$r=Math.max(0,pr-er.length+1);$r<=Mr;$r++){var Pr=pr-$r|0;lr=er.words[Pr]|0,nr=Yt.words[$r]|0,Lt=lr*nr+kr,_r+=Lt/67108864|0,kr=Lt&67108863}rr.words[pr]=kr|0,gr=_r|0}return gr!==0?rr.words[pr]=gr|0:rr.length--,rr._strip()}var hr=function(Yt,rr,ar){var lr=Yt.words,nr=rr.words,Lt=ar.words,or=0,gr,pr,_r,kr=lr[0]|0,Mr=kr&8191,$r=kr>>>13,Pr=lr[1]|0,Fr=Pr&8191,Tr=Pr>>>13,Rr=lr[2]|0,Er=Rr&8191,Or=Rr>>>13,Wr=lr[3]|0,qr=Wr&8191,Vr=Wr>>>13,Ur=lr[4]|0,Lr=Ur&8191,Br=Ur>>>13,Xr=lr[5]|0,zr=Xr&8191,Qr=Xr>>>13,Qn=lr[6]|0,nn=Qn&8191,$n=Qn>>>13,lo=lr[7]|0,sn=lo&8191,Nn=lo>>>13,xo=lr[8]|0,Ir=xo&8191,Ar=xo>>>13,Dr=lr[9]|0,Nr=Dr&8191,Gr=Dr>>>13,Un=nr[0]|0,Zr=Un&8191,Cn=Un>>>13,wo=nr[1]|0,Hn=wo&8191,Kn=wo>>>13,bo=nr[2]|0,Jn=bo&8191,no=bo>>>13,Do=nr[3]|0,eo=Do&8191,io=Do>>>13,Io=nr[4]|0,_i=Io&8191,ro=Io>>>13,Oo=nr[5]|0,Hr=Oo&8191,Yr=Oo>>>13,Wn=nr[6]|0,rn=Wn&8191,dn=Wn>>>13,po=nr[7]|0,Ln=po&8191,Vn=po>>>13,uo=nr[8]|0,pn=uo&8191,zn=uo>>>13,go=nr[9]|0,co=go&8191,Eo=go>>>13;ar.negative=Yt.negative^rr.negative,ar.length=19,gr=Math.imul(Mr,Zr),pr=Math.imul(Mr,Cn),pr=pr+Math.imul($r,Zr)|0,_r=Math.imul($r,Cn);var To=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(To>>>26)|0,To&=67108863,gr=Math.imul(Fr,Zr),pr=Math.imul(Fr,Cn),pr=pr+Math.imul(Tr,Zr)|0,_r=Math.imul(Tr,Cn),gr=gr+Math.imul(Mr,Hn)|0,pr=pr+Math.imul(Mr,Kn)|0,pr=pr+Math.imul($r,Hn)|0,_r=_r+Math.imul($r,Kn)|0;var Co=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Co>>>26)|0,Co&=67108863,gr=Math.imul(Er,Zr),pr=Math.imul(Er,Cn),pr=pr+Math.imul(Or,Zr)|0,_r=Math.imul(Or,Cn),gr=gr+Math.imul(Fr,Hn)|0,pr=pr+Math.imul(Fr,Kn)|0,pr=pr+Math.imul(Tr,Hn)|0,_r=_r+Math.imul(Tr,Kn)|0,gr=gr+Math.imul(Mr,Jn)|0,pr=pr+Math.imul(Mr,no)|0,pr=pr+Math.imul($r,Jn)|0,_r=_r+Math.imul($r,no)|0;var Mo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,gr=Math.imul(qr,Zr),pr=Math.imul(qr,Cn),pr=pr+Math.imul(Vr,Zr)|0,_r=Math.imul(Vr,Cn),gr=gr+Math.imul(Er,Hn)|0,pr=pr+Math.imul(Er,Kn)|0,pr=pr+Math.imul(Or,Hn)|0,_r=_r+Math.imul(Or,Kn)|0,gr=gr+Math.imul(Fr,Jn)|0,pr=pr+Math.imul(Fr,no)|0,pr=pr+Math.imul(Tr,Jn)|0,_r=_r+Math.imul(Tr,no)|0,gr=gr+Math.imul(Mr,eo)|0,pr=pr+Math.imul(Mr,io)|0,pr=pr+Math.imul($r,eo)|0,_r=_r+Math.imul($r,io)|0;var No=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(No>>>26)|0,No&=67108863,gr=Math.imul(Lr,Zr),pr=Math.imul(Lr,Cn),pr=pr+Math.imul(Br,Zr)|0,_r=Math.imul(Br,Cn),gr=gr+Math.imul(qr,Hn)|0,pr=pr+Math.imul(qr,Kn)|0,pr=pr+Math.imul(Vr,Hn)|0,_r=_r+Math.imul(Vr,Kn)|0,gr=gr+Math.imul(Er,Jn)|0,pr=pr+Math.imul(Er,no)|0,pr=pr+Math.imul(Or,Jn)|0,_r=_r+Math.imul(Or,no)|0,gr=gr+Math.imul(Fr,eo)|0,pr=pr+Math.imul(Fr,io)|0,pr=pr+Math.imul(Tr,eo)|0,_r=_r+Math.imul(Tr,io)|0,gr=gr+Math.imul(Mr,_i)|0,pr=pr+Math.imul(Mr,ro)|0,pr=pr+Math.imul($r,_i)|0,_r=_r+Math.imul($r,ro)|0;var zo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(zo>>>26)|0,zo&=67108863,gr=Math.imul(zr,Zr),pr=Math.imul(zr,Cn),pr=pr+Math.imul(Qr,Zr)|0,_r=Math.imul(Qr,Cn),gr=gr+Math.imul(Lr,Hn)|0,pr=pr+Math.imul(Lr,Kn)|0,pr=pr+Math.imul(Br,Hn)|0,_r=_r+Math.imul(Br,Kn)|0,gr=gr+Math.imul(qr,Jn)|0,pr=pr+Math.imul(qr,no)|0,pr=pr+Math.imul(Vr,Jn)|0,_r=_r+Math.imul(Vr,no)|0,gr=gr+Math.imul(Er,eo)|0,pr=pr+Math.imul(Er,io)|0,pr=pr+Math.imul(Or,eo)|0,_r=_r+Math.imul(Or,io)|0,gr=gr+Math.imul(Fr,_i)|0,pr=pr+Math.imul(Fr,ro)|0,pr=pr+Math.imul(Tr,_i)|0,_r=_r+Math.imul(Tr,ro)|0,gr=gr+Math.imul(Mr,Hr)|0,pr=pr+Math.imul(Mr,Yr)|0,pr=pr+Math.imul($r,Hr)|0,_r=_r+Math.imul($r,Yr)|0;var Bo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,gr=Math.imul(nn,Zr),pr=Math.imul(nn,Cn),pr=pr+Math.imul($n,Zr)|0,_r=Math.imul($n,Cn),gr=gr+Math.imul(zr,Hn)|0,pr=pr+Math.imul(zr,Kn)|0,pr=pr+Math.imul(Qr,Hn)|0,_r=_r+Math.imul(Qr,Kn)|0,gr=gr+Math.imul(Lr,Jn)|0,pr=pr+Math.imul(Lr,no)|0,pr=pr+Math.imul(Br,Jn)|0,_r=_r+Math.imul(Br,no)|0,gr=gr+Math.imul(qr,eo)|0,pr=pr+Math.imul(qr,io)|0,pr=pr+Math.imul(Vr,eo)|0,_r=_r+Math.imul(Vr,io)|0,gr=gr+Math.imul(Er,_i)|0,pr=pr+Math.imul(Er,ro)|0,pr=pr+Math.imul(Or,_i)|0,_r=_r+Math.imul(Or,ro)|0,gr=gr+Math.imul(Fr,Hr)|0,pr=pr+Math.imul(Fr,Yr)|0,pr=pr+Math.imul(Tr,Hr)|0,_r=_r+Math.imul(Tr,Yr)|0,gr=gr+Math.imul(Mr,rn)|0,pr=pr+Math.imul(Mr,dn)|0,pr=pr+Math.imul($r,rn)|0,_r=_r+Math.imul($r,dn)|0;var Po=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Po>>>26)|0,Po&=67108863,gr=Math.imul(sn,Zr),pr=Math.imul(sn,Cn),pr=pr+Math.imul(Nn,Zr)|0,_r=Math.imul(Nn,Cn),gr=gr+Math.imul(nn,Hn)|0,pr=pr+Math.imul(nn,Kn)|0,pr=pr+Math.imul($n,Hn)|0,_r=_r+Math.imul($n,Kn)|0,gr=gr+Math.imul(zr,Jn)|0,pr=pr+Math.imul(zr,no)|0,pr=pr+Math.imul(Qr,Jn)|0,_r=_r+Math.imul(Qr,no)|0,gr=gr+Math.imul(Lr,eo)|0,pr=pr+Math.imul(Lr,io)|0,pr=pr+Math.imul(Br,eo)|0,_r=_r+Math.imul(Br,io)|0,gr=gr+Math.imul(qr,_i)|0,pr=pr+Math.imul(qr,ro)|0,pr=pr+Math.imul(Vr,_i)|0,_r=_r+Math.imul(Vr,ro)|0,gr=gr+Math.imul(Er,Hr)|0,pr=pr+Math.imul(Er,Yr)|0,pr=pr+Math.imul(Or,Hr)|0,_r=_r+Math.imul(Or,Yr)|0,gr=gr+Math.imul(Fr,rn)|0,pr=pr+Math.imul(Fr,dn)|0,pr=pr+Math.imul(Tr,rn)|0,_r=_r+Math.imul(Tr,dn)|0,gr=gr+Math.imul(Mr,Ln)|0,pr=pr+Math.imul(Mr,Vn)|0,pr=pr+Math.imul($r,Ln)|0,_r=_r+Math.imul($r,Vn)|0;var Wo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,gr=Math.imul(Ir,Zr),pr=Math.imul(Ir,Cn),pr=pr+Math.imul(Ar,Zr)|0,_r=Math.imul(Ar,Cn),gr=gr+Math.imul(sn,Hn)|0,pr=pr+Math.imul(sn,Kn)|0,pr=pr+Math.imul(Nn,Hn)|0,_r=_r+Math.imul(Nn,Kn)|0,gr=gr+Math.imul(nn,Jn)|0,pr=pr+Math.imul(nn,no)|0,pr=pr+Math.imul($n,Jn)|0,_r=_r+Math.imul($n,no)|0,gr=gr+Math.imul(zr,eo)|0,pr=pr+Math.imul(zr,io)|0,pr=pr+Math.imul(Qr,eo)|0,_r=_r+Math.imul(Qr,io)|0,gr=gr+Math.imul(Lr,_i)|0,pr=pr+Math.imul(Lr,ro)|0,pr=pr+Math.imul(Br,_i)|0,_r=_r+Math.imul(Br,ro)|0,gr=gr+Math.imul(qr,Hr)|0,pr=pr+Math.imul(qr,Yr)|0,pr=pr+Math.imul(Vr,Hr)|0,_r=_r+Math.imul(Vr,Yr)|0,gr=gr+Math.imul(Er,rn)|0,pr=pr+Math.imul(Er,dn)|0,pr=pr+Math.imul(Or,rn)|0,_r=_r+Math.imul(Or,dn)|0,gr=gr+Math.imul(Fr,Ln)|0,pr=pr+Math.imul(Fr,Vn)|0,pr=pr+Math.imul(Tr,Ln)|0,_r=_r+Math.imul(Tr,Vn)|0,gr=gr+Math.imul(Mr,pn)|0,pr=pr+Math.imul(Mr,zn)|0,pr=pr+Math.imul($r,pn)|0,_r=_r+Math.imul($r,zn)|0;var Fo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,gr=Math.imul(Nr,Zr),pr=Math.imul(Nr,Cn),pr=pr+Math.imul(Gr,Zr)|0,_r=Math.imul(Gr,Cn),gr=gr+Math.imul(Ir,Hn)|0,pr=pr+Math.imul(Ir,Kn)|0,pr=pr+Math.imul(Ar,Hn)|0,_r=_r+Math.imul(Ar,Kn)|0,gr=gr+Math.imul(sn,Jn)|0,pr=pr+Math.imul(sn,no)|0,pr=pr+Math.imul(Nn,Jn)|0,_r=_r+Math.imul(Nn,no)|0,gr=gr+Math.imul(nn,eo)|0,pr=pr+Math.imul(nn,io)|0,pr=pr+Math.imul($n,eo)|0,_r=_r+Math.imul($n,io)|0,gr=gr+Math.imul(zr,_i)|0,pr=pr+Math.imul(zr,ro)|0,pr=pr+Math.imul(Qr,_i)|0,_r=_r+Math.imul(Qr,ro)|0,gr=gr+Math.imul(Lr,Hr)|0,pr=pr+Math.imul(Lr,Yr)|0,pr=pr+Math.imul(Br,Hr)|0,_r=_r+Math.imul(Br,Yr)|0,gr=gr+Math.imul(qr,rn)|0,pr=pr+Math.imul(qr,dn)|0,pr=pr+Math.imul(Vr,rn)|0,_r=_r+Math.imul(Vr,dn)|0,gr=gr+Math.imul(Er,Ln)|0,pr=pr+Math.imul(Er,Vn)|0,pr=pr+Math.imul(Or,Ln)|0,_r=_r+Math.imul(Or,Vn)|0,gr=gr+Math.imul(Fr,pn)|0,pr=pr+Math.imul(Fr,zn)|0,pr=pr+Math.imul(Tr,pn)|0,_r=_r+Math.imul(Tr,zn)|0,gr=gr+Math.imul(Mr,co)|0,pr=pr+Math.imul(Mr,Eo)|0,pr=pr+Math.imul($r,co)|0,_r=_r+Math.imul($r,Eo)|0;var jo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(jo>>>26)|0,jo&=67108863,gr=Math.imul(Nr,Hn),pr=Math.imul(Nr,Kn),pr=pr+Math.imul(Gr,Hn)|0,_r=Math.imul(Gr,Kn),gr=gr+Math.imul(Ir,Jn)|0,pr=pr+Math.imul(Ir,no)|0,pr=pr+Math.imul(Ar,Jn)|0,_r=_r+Math.imul(Ar,no)|0,gr=gr+Math.imul(sn,eo)|0,pr=pr+Math.imul(sn,io)|0,pr=pr+Math.imul(Nn,eo)|0,_r=_r+Math.imul(Nn,io)|0,gr=gr+Math.imul(nn,_i)|0,pr=pr+Math.imul(nn,ro)|0,pr=pr+Math.imul($n,_i)|0,_r=_r+Math.imul($n,ro)|0,gr=gr+Math.imul(zr,Hr)|0,pr=pr+Math.imul(zr,Yr)|0,pr=pr+Math.imul(Qr,Hr)|0,_r=_r+Math.imul(Qr,Yr)|0,gr=gr+Math.imul(Lr,rn)|0,pr=pr+Math.imul(Lr,dn)|0,pr=pr+Math.imul(Br,rn)|0,_r=_r+Math.imul(Br,dn)|0,gr=gr+Math.imul(qr,Ln)|0,pr=pr+Math.imul(qr,Vn)|0,pr=pr+Math.imul(Vr,Ln)|0,_r=_r+Math.imul(Vr,Vn)|0,gr=gr+Math.imul(Er,pn)|0,pr=pr+Math.imul(Er,zn)|0,pr=pr+Math.imul(Or,pn)|0,_r=_r+Math.imul(Or,zn)|0,gr=gr+Math.imul(Fr,co)|0,pr=pr+Math.imul(Fr,Eo)|0,pr=pr+Math.imul(Tr,co)|0,_r=_r+Math.imul(Tr,Eo)|0;var Uo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,gr=Math.imul(Nr,Jn),pr=Math.imul(Nr,no),pr=pr+Math.imul(Gr,Jn)|0,_r=Math.imul(Gr,no),gr=gr+Math.imul(Ir,eo)|0,pr=pr+Math.imul(Ir,io)|0,pr=pr+Math.imul(Ar,eo)|0,_r=_r+Math.imul(Ar,io)|0,gr=gr+Math.imul(sn,_i)|0,pr=pr+Math.imul(sn,ro)|0,pr=pr+Math.imul(Nn,_i)|0,_r=_r+Math.imul(Nn,ro)|0,gr=gr+Math.imul(nn,Hr)|0,pr=pr+Math.imul(nn,Yr)|0,pr=pr+Math.imul($n,Hr)|0,_r=_r+Math.imul($n,Yr)|0,gr=gr+Math.imul(zr,rn)|0,pr=pr+Math.imul(zr,dn)|0,pr=pr+Math.imul(Qr,rn)|0,_r=_r+Math.imul(Qr,dn)|0,gr=gr+Math.imul(Lr,Ln)|0,pr=pr+Math.imul(Lr,Vn)|0,pr=pr+Math.imul(Br,Ln)|0,_r=_r+Math.imul(Br,Vn)|0,gr=gr+Math.imul(qr,pn)|0,pr=pr+Math.imul(qr,zn)|0,pr=pr+Math.imul(Vr,pn)|0,_r=_r+Math.imul(Vr,zn)|0,gr=gr+Math.imul(Er,co)|0,pr=pr+Math.imul(Er,Eo)|0,pr=pr+Math.imul(Or,co)|0,_r=_r+Math.imul(Or,Eo)|0;var Vo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,gr=Math.imul(Nr,eo),pr=Math.imul(Nr,io),pr=pr+Math.imul(Gr,eo)|0,_r=Math.imul(Gr,io),gr=gr+Math.imul(Ir,_i)|0,pr=pr+Math.imul(Ir,ro)|0,pr=pr+Math.imul(Ar,_i)|0,_r=_r+Math.imul(Ar,ro)|0,gr=gr+Math.imul(sn,Hr)|0,pr=pr+Math.imul(sn,Yr)|0,pr=pr+Math.imul(Nn,Hr)|0,_r=_r+Math.imul(Nn,Yr)|0,gr=gr+Math.imul(nn,rn)|0,pr=pr+Math.imul(nn,dn)|0,pr=pr+Math.imul($n,rn)|0,_r=_r+Math.imul($n,dn)|0,gr=gr+Math.imul(zr,Ln)|0,pr=pr+Math.imul(zr,Vn)|0,pr=pr+Math.imul(Qr,Ln)|0,_r=_r+Math.imul(Qr,Vn)|0,gr=gr+Math.imul(Lr,pn)|0,pr=pr+Math.imul(Lr,zn)|0,pr=pr+Math.imul(Br,pn)|0,_r=_r+Math.imul(Br,zn)|0,gr=gr+Math.imul(qr,co)|0,pr=pr+Math.imul(qr,Eo)|0,pr=pr+Math.imul(Vr,co)|0,_r=_r+Math.imul(Vr,Eo)|0;var $o=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+($o>>>26)|0,$o&=67108863,gr=Math.imul(Nr,_i),pr=Math.imul(Nr,ro),pr=pr+Math.imul(Gr,_i)|0,_r=Math.imul(Gr,ro),gr=gr+Math.imul(Ir,Hr)|0,pr=pr+Math.imul(Ir,Yr)|0,pr=pr+Math.imul(Ar,Hr)|0,_r=_r+Math.imul(Ar,Yr)|0,gr=gr+Math.imul(sn,rn)|0,pr=pr+Math.imul(sn,dn)|0,pr=pr+Math.imul(Nn,rn)|0,_r=_r+Math.imul(Nn,dn)|0,gr=gr+Math.imul(nn,Ln)|0,pr=pr+Math.imul(nn,Vn)|0,pr=pr+Math.imul($n,Ln)|0,_r=_r+Math.imul($n,Vn)|0,gr=gr+Math.imul(zr,pn)|0,pr=pr+Math.imul(zr,zn)|0,pr=pr+Math.imul(Qr,pn)|0,_r=_r+Math.imul(Qr,zn)|0,gr=gr+Math.imul(Lr,co)|0,pr=pr+Math.imul(Lr,Eo)|0,pr=pr+Math.imul(Br,co)|0,_r=_r+Math.imul(Br,Eo)|0;var ko=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(ko>>>26)|0,ko&=67108863,gr=Math.imul(Nr,Hr),pr=Math.imul(Nr,Yr),pr=pr+Math.imul(Gr,Hr)|0,_r=Math.imul(Gr,Yr),gr=gr+Math.imul(Ir,rn)|0,pr=pr+Math.imul(Ir,dn)|0,pr=pr+Math.imul(Ar,rn)|0,_r=_r+Math.imul(Ar,dn)|0,gr=gr+Math.imul(sn,Ln)|0,pr=pr+Math.imul(sn,Vn)|0,pr=pr+Math.imul(Nn,Ln)|0,_r=_r+Math.imul(Nn,Vn)|0,gr=gr+Math.imul(nn,pn)|0,pr=pr+Math.imul(nn,zn)|0,pr=pr+Math.imul($n,pn)|0,_r=_r+Math.imul($n,zn)|0,gr=gr+Math.imul(zr,co)|0,pr=pr+Math.imul(zr,Eo)|0,pr=pr+Math.imul(Qr,co)|0,_r=_r+Math.imul(Qr,Eo)|0;var Lo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,gr=Math.imul(Nr,rn),pr=Math.imul(Nr,dn),pr=pr+Math.imul(Gr,rn)|0,_r=Math.imul(Gr,dn),gr=gr+Math.imul(Ir,Ln)|0,pr=pr+Math.imul(Ir,Vn)|0,pr=pr+Math.imul(Ar,Ln)|0,_r=_r+Math.imul(Ar,Vn)|0,gr=gr+Math.imul(sn,pn)|0,pr=pr+Math.imul(sn,zn)|0,pr=pr+Math.imul(Nn,pn)|0,_r=_r+Math.imul(Nn,zn)|0,gr=gr+Math.imul(nn,co)|0,pr=pr+Math.imul(nn,Eo)|0,pr=pr+Math.imul($n,co)|0,_r=_r+Math.imul($n,Eo)|0;var Ho=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,gr=Math.imul(Nr,Ln),pr=Math.imul(Nr,Vn),pr=pr+Math.imul(Gr,Ln)|0,_r=Math.imul(Gr,Vn),gr=gr+Math.imul(Ir,pn)|0,pr=pr+Math.imul(Ir,zn)|0,pr=pr+Math.imul(Ar,pn)|0,_r=_r+Math.imul(Ar,zn)|0,gr=gr+Math.imul(sn,co)|0,pr=pr+Math.imul(sn,Eo)|0,pr=pr+Math.imul(Nn,co)|0,_r=_r+Math.imul(Nn,Eo)|0;var Xo=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,gr=Math.imul(Nr,pn),pr=Math.imul(Nr,zn),pr=pr+Math.imul(Gr,pn)|0,_r=Math.imul(Gr,zn),gr=gr+Math.imul(Ir,co)|0,pr=pr+Math.imul(Ir,Eo)|0,pr=pr+Math.imul(Ar,co)|0,_r=_r+Math.imul(Ar,Eo)|0;var Kr=(or+gr|0)+((pr&8191)<<13)|0;or=(_r+(pr>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,gr=Math.imul(Nr,co),pr=Math.imul(Nr,Eo),pr=pr+Math.imul(Gr,co)|0,_r=Math.imul(Gr,Eo);var Dn=(or+gr|0)+((pr&8191)<<13)|0;return or=(_r+(pr>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,Lt[0]=To,Lt[1]=Co,Lt[2]=Mo,Lt[3]=No,Lt[4]=zo,Lt[5]=Bo,Lt[6]=Po,Lt[7]=Wo,Lt[8]=Fo,Lt[9]=jo,Lt[10]=Uo,Lt[11]=Vo,Lt[12]=$o,Lt[13]=ko,Lt[14]=Lo,Lt[15]=Ho,Lt[16]=Xo,Lt[17]=Kr,Lt[18]=Dn,or!==0&&(Lt[19]=or,ar.length++),ar};Math.imul||(hr=dr);function vr(er,Yt,rr){rr.negative=Yt.negative^er.negative,rr.length=er.length+Yt.length;for(var ar=0,lr=0,nr=0;nr<rr.length-1;nr++){var Lt=lr;lr=0;for(var or=ar&67108863,gr=Math.min(nr,Yt.length-1),pr=Math.max(0,nr-er.length+1);pr<=gr;pr++){var _r=nr-pr,kr=er.words[_r]|0,Mr=Yt.words[pr]|0,$r=kr*Mr,Pr=$r&67108863;Lt=Lt+($r/67108864|0)|0,Pr=Pr+or|0,or=Pr&67108863,Lt=Lt+(Pr>>>26)|0,lr+=Lt>>>26,Lt&=67108863}rr.words[nr]=or,ar=Lt,Lt=lr}return ar!==0?rr.words[nr]=ar:rr.length--,rr._strip()}function yr(er,Yt,rr){return vr(er,Yt,rr)}wt.prototype.mulTo=function(Yt,rr){var ar,lr=this.length+Yt.length;return this.length===10&&Yt.length===10?ar=hr(this,Yt,rr):lr<63?ar=dr(this,Yt,rr):lr<1024?ar=vr(this,Yt,rr):ar=yr(this,Yt,rr),ar},wt.prototype.mul=function(Yt){var rr=new wt(null);return rr.words=new Array(this.length+Yt.length),this.mulTo(Yt,rr)},wt.prototype.mulf=function(Yt){var rr=new wt(null);return rr.words=new Array(this.length+Yt.length),yr(this,Yt,rr)},wt.prototype.imul=function(Yt){return this.clone().mulTo(Yt,this)},wt.prototype.imuln=function(Yt){var rr=Yt<0;rr&&(Yt=-Yt),at(typeof Yt=="number"),at(Yt<67108864);for(var ar=0,lr=0;lr<this.length;lr++){var nr=(this.words[lr]|0)*Yt,Lt=(nr&67108863)+(ar&67108863);ar>>=26,ar+=nr/67108864|0,ar+=Lt>>>26,this.words[lr]=Lt&67108863}return ar!==0&&(this.words[lr]=ar,this.length++),rr?this.ineg():this},wt.prototype.muln=function(Yt){return this.clone().imuln(Yt)},wt.prototype.sqr=function(){return this.mul(this)},wt.prototype.isqr=function(){return this.imul(this.clone())},wt.prototype.pow=function(Yt){var rr=fr(Yt);if(rr.length===0)return new wt(1);for(var ar=this,lr=0;lr<rr.length&&rr[lr]===0;lr++,ar=ar.sqr());if(++lr<rr.length)for(var nr=ar.sqr();lr<rr.length;lr++,nr=nr.sqr())rr[lr]!==0&&(ar=ar.mul(nr));return ar},wt.prototype.iushln=function(Yt){at(typeof Yt=="number"&&Yt>=0);var rr=Yt%26,ar=(Yt-rr)/26,lr=67108863>>>26-rr<<26-rr,nr;if(rr!==0){var Lt=0;for(nr=0;nr<this.length;nr++){var or=this.words[nr]&lr,gr=(this.words[nr]|0)-or<<rr;this.words[nr]=gr|Lt,Lt=or>>>26-rr}Lt&&(this.words[nr]=Lt,this.length++)}if(ar!==0){for(nr=this.length-1;nr>=0;nr--)this.words[nr+ar]=this.words[nr];for(nr=0;nr<ar;nr++)this.words[nr]=0;this.length+=ar}return this._strip()},wt.prototype.ishln=function(Yt){return at(this.negative===0),this.iushln(Yt)},wt.prototype.iushrn=function(Yt,rr,ar){at(typeof Yt=="number"&&Yt>=0);var lr;rr?lr=(rr-rr%26)/26:lr=0;var nr=Yt%26,Lt=Math.min((Yt-nr)/26,this.length),or=67108863^67108863>>>nr<<nr,gr=ar;if(lr-=Lt,lr=Math.max(0,lr),gr){for(var pr=0;pr<Lt;pr++)gr.words[pr]=this.words[pr];gr.length=Lt}if(Lt!==0)if(this.length>Lt)for(this.length-=Lt,pr=0;pr<this.length;pr++)this.words[pr]=this.words[pr+Lt];else this.words[0]=0,this.length=1;var _r=0;for(pr=this.length-1;pr>=0&&(_r!==0||pr>=lr);pr--){var kr=this.words[pr]|0;this.words[pr]=_r<<26-nr|kr>>>nr,_r=kr&or}return gr&&_r!==0&&(gr.words[gr.length++]=_r),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},wt.prototype.ishrn=function(Yt,rr,ar){return at(this.negative===0),this.iushrn(Yt,rr,ar)},wt.prototype.shln=function(Yt){return this.clone().ishln(Yt)},wt.prototype.ushln=function(Yt){return this.clone().iushln(Yt)},wt.prototype.shrn=function(Yt){return this.clone().ishrn(Yt)},wt.prototype.ushrn=function(Yt){return this.clone().iushrn(Yt)},wt.prototype.testn=function(Yt){at(typeof Yt=="number"&&Yt>=0);var rr=Yt%26,ar=(Yt-rr)/26,lr=1<<rr;if(this.length<=ar)return!1;var nr=this.words[ar];return!!(nr&lr)},wt.prototype.imaskn=function(Yt){at(typeof Yt=="number"&&Yt>=0);var rr=Yt%26,ar=(Yt-rr)/26;if(at(this.negative===0,"imaskn works only with positive numbers"),this.length<=ar)return this;if(rr!==0&&ar++,this.length=Math.min(ar,this.length),rr!==0){var lr=67108863^67108863>>>rr<<rr;this.words[this.length-1]&=lr}return this._strip()},wt.prototype.maskn=function(Yt){return this.clone().imaskn(Yt)},wt.prototype.iaddn=function(Yt){return at(typeof Yt=="number"),at(Yt<67108864),Yt<0?this.isubn(-Yt):this.negative!==0?this.length===1&&(this.words[0]|0)<=Yt?(this.words[0]=Yt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Yt),this.negative=1,this):this._iaddn(Yt)},wt.prototype._iaddn=function(Yt){this.words[0]+=Yt;for(var rr=0;rr<this.length&&this.words[rr]>=67108864;rr++)this.words[rr]-=67108864,rr===this.length-1?this.words[rr+1]=1:this.words[rr+1]++;return this.length=Math.max(this.length,rr+1),this},wt.prototype.isubn=function(Yt){if(at(typeof Yt=="number"),at(Yt<67108864),Yt<0)return this.iaddn(-Yt);if(this.negative!==0)return this.negative=0,this.iaddn(Yt),this.negative=1,this;if(this.words[0]-=Yt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var rr=0;rr<this.length&&this.words[rr]<0;rr++)this.words[rr]+=67108864,this.words[rr+1]-=1;return this._strip()},wt.prototype.addn=function(Yt){return this.clone().iaddn(Yt)},wt.prototype.subn=function(Yt){return this.clone().isubn(Yt)},wt.prototype.iabs=function(){return this.negative=0,this},wt.prototype.abs=function(){return this.clone().iabs()},wt.prototype._ishlnsubmul=function(Yt,rr,ar){var lr=Yt.length+ar,nr;this._expand(lr);var Lt,or=0;for(nr=0;nr<Yt.length;nr++){Lt=(this.words[nr+ar]|0)+or;var gr=(Yt.words[nr]|0)*rr;Lt-=gr&67108863,or=(Lt>>26)-(gr/67108864|0),this.words[nr+ar]=Lt&67108863}for(;nr<this.length-ar;nr++)Lt=(this.words[nr+ar]|0)+or,or=Lt>>26,this.words[nr+ar]=Lt&67108863;if(or===0)return this._strip();for(at(or===-1),or=0,nr=0;nr<this.length;nr++)Lt=-(this.words[nr]|0)+or,or=Lt>>26,this.words[nr]=Lt&67108863;return this.negative=1,this._strip()},wt.prototype._wordDiv=function(Yt,rr){var ar=this.length-Yt.length,lr=this.clone(),nr=Yt,Lt=nr.words[nr.length-1]|0,or=this._countBits(Lt);ar=26-or,ar!==0&&(nr=nr.ushln(ar),lr.iushln(ar),Lt=nr.words[nr.length-1]|0);var gr=lr.length-nr.length,pr;if(rr!=="mod"){pr=new wt(null),pr.length=gr+1,pr.words=new Array(pr.length);for(var _r=0;_r<pr.length;_r++)pr.words[_r]=0}var kr=lr.clone()._ishlnsubmul(nr,1,gr);kr.negative===0&&(lr=kr,pr&&(pr.words[gr]=1));for(var Mr=gr-1;Mr>=0;Mr--){var $r=(lr.words[nr.length+Mr]|0)*67108864+(lr.words[nr.length+Mr-1]|0);for($r=Math.min($r/Lt|0,67108863),lr._ishlnsubmul(nr,$r,Mr);lr.negative!==0;)$r--,lr.negative=0,lr._ishlnsubmul(nr,1,Mr),lr.isZero()||(lr.negative^=1);pr&&(pr.words[Mr]=$r)}return pr&&pr._strip(),lr._strip(),rr!=="div"&&ar!==0&&lr.iushrn(ar),{div:pr||null,mod:lr}},wt.prototype.divmod=function(Yt,rr,ar){if(at(!Yt.isZero()),this.isZero())return{div:new wt(0),mod:new wt(0)};var lr,nr,Lt;return this.negative!==0&&Yt.negative===0?(Lt=this.neg().divmod(Yt,rr),rr!=="mod"&&(lr=Lt.div.neg()),rr!=="div"&&(nr=Lt.mod.neg(),ar&&nr.negative!==0&&nr.iadd(Yt)),{div:lr,mod:nr}):this.negative===0&&Yt.negative!==0?(Lt=this.divmod(Yt.neg(),rr),rr!=="mod"&&(lr=Lt.div.neg()),{div:lr,mod:Lt.mod}):this.negative&Yt.negative?(Lt=this.neg().divmod(Yt.neg(),rr),rr!=="div"&&(nr=Lt.mod.neg(),ar&&nr.negative!==0&&nr.isub(Yt)),{div:Lt.div,mod:nr}):Yt.length>this.length||this.cmp(Yt)<0?{div:new wt(0),mod:this}:Yt.length===1?rr==="div"?{div:this.divn(Yt.words[0]),mod:null}:rr==="mod"?{div:null,mod:new wt(this.modrn(Yt.words[0]))}:{div:this.divn(Yt.words[0]),mod:new wt(this.modrn(Yt.words[0]))}:this._wordDiv(Yt,rr)},wt.prototype.div=function(Yt){return this.divmod(Yt,"div",!1).div},wt.prototype.mod=function(Yt){return this.divmod(Yt,"mod",!1).mod},wt.prototype.umod=function(Yt){return this.divmod(Yt,"mod",!0).mod},wt.prototype.divRound=function(Yt){var rr=this.divmod(Yt);if(rr.mod.isZero())return rr.div;var ar=rr.div.negative!==0?rr.mod.isub(Yt):rr.mod,lr=Yt.ushrn(1),nr=Yt.andln(1),Lt=ar.cmp(lr);return Lt<0||nr===1&&Lt===0?rr.div:rr.div.negative!==0?rr.div.isubn(1):rr.div.iaddn(1)},wt.prototype.modrn=function(Yt){var rr=Yt<0;rr&&(Yt=-Yt),at(Yt<=67108863);for(var ar=(1<<26)%Yt,lr=0,nr=this.length-1;nr>=0;nr--)lr=(ar*lr+(this.words[nr]|0))%Yt;return rr?-lr:lr},wt.prototype.modn=function(Yt){return this.modrn(Yt)},wt.prototype.idivn=function(Yt){var rr=Yt<0;rr&&(Yt=-Yt),at(Yt<=67108863);for(var ar=0,lr=this.length-1;lr>=0;lr--){var nr=(this.words[lr]|0)+ar*67108864;this.words[lr]=nr/Yt|0,ar=nr%Yt}return this._strip(),rr?this.ineg():this},wt.prototype.divn=function(Yt){return this.clone().idivn(Yt)},wt.prototype.egcd=function(Yt){at(Yt.negative===0),at(!Yt.isZero());var rr=this,ar=Yt.clone();rr.negative!==0?rr=rr.umod(Yt):rr=rr.clone();for(var lr=new wt(1),nr=new wt(0),Lt=new wt(0),or=new wt(1),gr=0;rr.isEven()&&ar.isEven();)rr.iushrn(1),ar.iushrn(1),++gr;for(var pr=ar.clone(),_r=rr.clone();!rr.isZero();){for(var kr=0,Mr=1;!(rr.words[0]&Mr)&&kr<26;++kr,Mr<<=1);if(kr>0)for(rr.iushrn(kr);kr-- >0;)(lr.isOdd()||nr.isOdd())&&(lr.iadd(pr),nr.isub(_r)),lr.iushrn(1),nr.iushrn(1);for(var $r=0,Pr=1;!(ar.words[0]&Pr)&&$r<26;++$r,Pr<<=1);if($r>0)for(ar.iushrn($r);$r-- >0;)(Lt.isOdd()||or.isOdd())&&(Lt.iadd(pr),or.isub(_r)),Lt.iushrn(1),or.iushrn(1);rr.cmp(ar)>=0?(rr.isub(ar),lr.isub(Lt),nr.isub(or)):(ar.isub(rr),Lt.isub(lr),or.isub(nr))}return{a:Lt,b:or,gcd:ar.iushln(gr)}},wt.prototype._invmp=function(Yt){at(Yt.negative===0),at(!Yt.isZero());var rr=this,ar=Yt.clone();rr.negative!==0?rr=rr.umod(Yt):rr=rr.clone();for(var lr=new wt(1),nr=new wt(0),Lt=ar.clone();rr.cmpn(1)>0&&ar.cmpn(1)>0;){for(var or=0,gr=1;!(rr.words[0]&gr)&&or<26;++or,gr<<=1);if(or>0)for(rr.iushrn(or);or-- >0;)lr.isOdd()&&lr.iadd(Lt),lr.iushrn(1);for(var pr=0,_r=1;!(ar.words[0]&_r)&&pr<26;++pr,_r<<=1);if(pr>0)for(ar.iushrn(pr);pr-- >0;)nr.isOdd()&&nr.iadd(Lt),nr.iushrn(1);rr.cmp(ar)>=0?(rr.isub(ar),lr.isub(nr)):(ar.isub(rr),nr.isub(lr))}var kr;return rr.cmpn(1)===0?kr=lr:kr=nr,kr.cmpn(0)<0&&kr.iadd(Yt),kr},wt.prototype.gcd=function(Yt){if(this.isZero())return Yt.abs();if(Yt.isZero())return this.abs();var rr=this.clone(),ar=Yt.clone();rr.negative=0,ar.negative=0;for(var lr=0;rr.isEven()&&ar.isEven();lr++)rr.iushrn(1),ar.iushrn(1);do{for(;rr.isEven();)rr.iushrn(1);for(;ar.isEven();)ar.iushrn(1);var nr=rr.cmp(ar);if(nr<0){var Lt=rr;rr=ar,ar=Lt}else if(nr===0||ar.cmpn(1)===0)break;rr.isub(ar)}while(!0);return ar.iushln(lr)},wt.prototype.invm=function(Yt){return this.egcd(Yt).a.umod(Yt)},wt.prototype.isEven=function(){return(this.words[0]&1)===0},wt.prototype.isOdd=function(){return(this.words[0]&1)===1},wt.prototype.andln=function(Yt){return this.words[0]&Yt},wt.prototype.bincn=function(Yt){at(typeof Yt=="number");var rr=Yt%26,ar=(Yt-rr)/26,lr=1<<rr;if(this.length<=ar)return this._expand(ar+1),this.words[ar]|=lr,this;for(var nr=lr,Lt=ar;nr!==0&&Lt<this.length;Lt++){var or=this.words[Lt]|0;or+=nr,nr=or>>>26,or&=67108863,this.words[Lt]=or}return nr!==0&&(this.words[Lt]=nr,this.length++),this},wt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},wt.prototype.cmpn=function(Yt){var rr=Yt<0;if(this.negative!==0&&!rr)return-1;if(this.negative===0&&rr)return 1;this._strip();var ar;if(this.length>1)ar=1;else{rr&&(Yt=-Yt),at(Yt<=67108863,"Number is too big");var lr=this.words[0]|0;ar=lr===Yt?0:lr<Yt?-1:1}return this.negative!==0?-ar|0:ar},wt.prototype.cmp=function(Yt){if(this.negative!==0&&Yt.negative===0)return-1;if(this.negative===0&&Yt.negative!==0)return 1;var rr=this.ucmp(Yt);return this.negative!==0?-rr|0:rr},wt.prototype.ucmp=function(Yt){if(this.length>Yt.length)return 1;if(this.length<Yt.length)return-1;for(var rr=0,ar=this.length-1;ar>=0;ar--){var lr=this.words[ar]|0,nr=Yt.words[ar]|0;if(lr!==nr){lr<nr?rr=-1:lr>nr&&(rr=1);break}}return rr},wt.prototype.gtn=function(Yt){return this.cmpn(Yt)===1},wt.prototype.gt=function(Yt){return this.cmp(Yt)===1},wt.prototype.gten=function(Yt){return this.cmpn(Yt)>=0},wt.prototype.gte=function(Yt){return this.cmp(Yt)>=0},wt.prototype.ltn=function(Yt){return this.cmpn(Yt)===-1},wt.prototype.lt=function(Yt){return this.cmp(Yt)===-1},wt.prototype.lten=function(Yt){return this.cmpn(Yt)<=0},wt.prototype.lte=function(Yt){return this.cmp(Yt)<=0},wt.prototype.eqn=function(Yt){return this.cmpn(Yt)===0},wt.prototype.eq=function(Yt){return this.cmp(Yt)===0},wt.red=function(Yt){return new Nt(Yt)},wt.prototype.toRed=function(Yt){return at(!this.red,"Already a number in reduction context"),at(this.negative===0,"red works only with positives"),Yt.convertTo(this)._forceRed(Yt)},wt.prototype.fromRed=function(){return at(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},wt.prototype._forceRed=function(Yt){return this.red=Yt,this},wt.prototype.forceRed=function(Yt){return at(!this.red,"Already a number in reduction context"),this._forceRed(Yt)},wt.prototype.redAdd=function(Yt){return at(this.red,"redAdd works only with red numbers"),this.red.add(this,Yt)},wt.prototype.redIAdd=function(Yt){return at(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Yt)},wt.prototype.redSub=function(Yt){return at(this.red,"redSub works only with red numbers"),this.red.sub(this,Yt)},wt.prototype.redISub=function(Yt){return at(this.red,"redISub works only with red numbers"),this.red.isub(this,Yt)},wt.prototype.redShl=function(Yt){return at(this.red,"redShl works only with red numbers"),this.red.shl(this,Yt)},wt.prototype.redMul=function(Yt){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,Yt),this.red.mul(this,Yt)},wt.prototype.redIMul=function(Yt){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,Yt),this.red.imul(this,Yt)},wt.prototype.redSqr=function(){return at(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},wt.prototype.redISqr=function(){return at(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},wt.prototype.redSqrt=function(){return at(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},wt.prototype.redInvm=function(){return at(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},wt.prototype.redNeg=function(){return at(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},wt.prototype.redPow=function(Yt){return at(this.red&&!Yt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Yt)};var xr={k256:null,p224:null,p192:null,p25519:null};function br(er,Yt){this.name=er,this.p=new wt(Yt,16),this.n=this.p.bitLength(),this.k=new wt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var Yt=new wt(null);return Yt.words=new Array(Math.ceil(this.n/13)),Yt},br.prototype.ireduce=function(Yt){var rr=Yt,ar;do this.split(rr,this.tmp),rr=this.imulK(rr),rr=rr.iadd(this.tmp),ar=rr.bitLength();while(ar>this.n);var lr=ar<this.n?-1:rr.ucmp(this.p);return lr===0?(rr.words[0]=0,rr.length=1):lr>0?rr.isub(this.p):rr.strip!==void 0?rr.strip():rr._strip(),rr},br.prototype.split=function(Yt,rr){Yt.iushrn(this.n,0,rr)},br.prototype.imulK=function(Yt){return Yt.imul(this.k)};function wr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}mt(wr,br),wr.prototype.split=function(Yt,rr){for(var ar=4194303,lr=Math.min(Yt.length,9),nr=0;nr<lr;nr++)rr.words[nr]=Yt.words[nr];if(rr.length=lr,Yt.length<=9){Yt.words[0]=0,Yt.length=1;return}var Lt=Yt.words[9];for(rr.words[rr.length++]=Lt&ar,nr=10;nr<Yt.length;nr++){var or=Yt.words[nr]|0;Yt.words[nr-10]=(or&ar)<<4|Lt>>>22,Lt=or}Lt>>>=22,Yt.words[nr-10]=Lt,Lt===0&&Yt.length>10?Yt.length-=10:Yt.length-=9},wr.prototype.imulK=function(Yt){Yt.words[Yt.length]=0,Yt.words[Yt.length+1]=0,Yt.length+=2;for(var rr=0,ar=0;ar<Yt.length;ar++){var lr=Yt.words[ar]|0;rr+=lr*977,Yt.words[ar]=rr&67108863,rr=lr*64+(rr/67108864|0)}return Yt.words[Yt.length-1]===0&&(Yt.length--,Yt.words[Yt.length-1]===0&&Yt.length--),Yt};function Sr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}mt(Sr,br);function Cr(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}mt(Cr,br);function cr(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}mt(cr,br),cr.prototype.imulK=function(Yt){for(var rr=0,ar=0;ar<Yt.length;ar++){var lr=(Yt.words[ar]|0)*19+rr,nr=lr&67108863;lr>>>=26,Yt.words[ar]=nr,rr=lr}return rr!==0&&(Yt.words[Yt.length++]=rr),Yt},wt._prime=function(Yt){if(xr[Yt])return xr[Yt];var rr;if(Yt==="k256")rr=new wr;else if(Yt==="p224")rr=new Sr;else if(Yt==="p192")rr=new Cr;else if(Yt==="p25519")rr=new cr;else throw new Error("Unknown prime "+Yt);return xr[Yt]=rr,rr};function Nt(er){if(typeof er=="string"){var Yt=wt._prime(er);this.m=Yt.p,this.prime=Yt}else at(er.gtn(1),"modulus must be greater than 1"),this.m=er,this.prime=null}Nt.prototype._verify1=function(Yt){at(Yt.negative===0,"red works only with positives"),at(Yt.red,"red works only with red numbers")},Nt.prototype._verify2=function(Yt,rr){at((Yt.negative|rr.negative)===0,"red works only with positives"),at(Yt.red&&Yt.red===rr.red,"red works only with red numbers")},Nt.prototype.imod=function(Yt){return this.prime?this.prime.ireduce(Yt)._forceRed(this):(jt(Yt,Yt.umod(this.m)._forceRed(this)),Yt)},Nt.prototype.neg=function(Yt){return Yt.isZero()?Yt.clone():this.m.sub(Yt)._forceRed(this)},Nt.prototype.add=function(Yt,rr){this._verify2(Yt,rr);var ar=Yt.add(rr);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar._forceRed(this)},Nt.prototype.iadd=function(Yt,rr){this._verify2(Yt,rr);var ar=Yt.iadd(rr);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar},Nt.prototype.sub=function(Yt,rr){this._verify2(Yt,rr);var ar=Yt.sub(rr);return ar.cmpn(0)<0&&ar.iadd(this.m),ar._forceRed(this)},Nt.prototype.isub=function(Yt,rr){this._verify2(Yt,rr);var ar=Yt.isub(rr);return ar.cmpn(0)<0&&ar.iadd(this.m),ar},Nt.prototype.shl=function(Yt,rr){return this._verify1(Yt),this.imod(Yt.ushln(rr))},Nt.prototype.imul=function(Yt,rr){return this._verify2(Yt,rr),this.imod(Yt.imul(rr))},Nt.prototype.mul=function(Yt,rr){return this._verify2(Yt,rr),this.imod(Yt.mul(rr))},Nt.prototype.isqr=function(Yt){return this.imul(Yt,Yt.clone())},Nt.prototype.sqr=function(Yt){return this.mul(Yt,Yt)},Nt.prototype.sqrt=function(Yt){if(Yt.isZero())return Yt.clone();var rr=this.m.andln(3);if(at(rr%2===1),rr===3){var ar=this.m.add(new wt(1)).iushrn(2);return this.pow(Yt,ar)}for(var lr=this.m.subn(1),nr=0;!lr.isZero()&&lr.andln(1)===0;)nr++,lr.iushrn(1);at(!lr.isZero());var Lt=new wt(1).toRed(this),or=Lt.redNeg(),gr=this.m.subn(1).iushrn(1),pr=this.m.bitLength();for(pr=new wt(2*pr*pr).toRed(this);this.pow(pr,gr).cmp(or)!==0;)pr.redIAdd(or);for(var _r=this.pow(pr,lr),kr=this.pow(Yt,lr.addn(1).iushrn(1)),Mr=this.pow(Yt,lr),$r=nr;Mr.cmp(Lt)!==0;){for(var Pr=Mr,Fr=0;Pr.cmp(Lt)!==0;Fr++)Pr=Pr.redSqr();at(Fr<$r);var Tr=this.pow(_r,new wt(1).iushln($r-Fr-1));kr=kr.redMul(Tr),_r=Tr.redSqr(),Mr=Mr.redMul(_r),$r=Fr}return kr},Nt.prototype.invm=function(Yt){var rr=Yt._invmp(this.m);return rr.negative!==0?(rr.negative=0,this.imod(rr).redNeg()):this.imod(rr)},Nt.prototype.pow=function(Yt,rr){if(rr.isZero())return new wt(1).toRed(this);if(rr.cmpn(1)===0)return Yt.clone();var ar=4,lr=new Array(1<<ar);lr[0]=new wt(1).toRed(this),lr[1]=Yt;for(var nr=2;nr<lr.length;nr++)lr[nr]=this.mul(lr[nr-1],Yt);var Lt=lr[0],or=0,gr=0,pr=rr.bitLength()%26;for(pr===0&&(pr=26),nr=rr.length-1;nr>=0;nr--){for(var _r=rr.words[nr],kr=pr-1;kr>=0;kr--){var Mr=_r>>kr&1;if(Lt!==lr[0]&&(Lt=this.sqr(Lt)),Mr===0&&or===0){gr=0;continue}or<<=1,or|=Mr,gr++,!(gr!==ar&&(nr!==0||kr!==0))&&(Lt=this.mul(Lt,lr[or]),gr=0,or=0)}pr=26}return Lt},Nt.prototype.convertTo=function(Yt){var rr=Yt.umod(this.m);return rr===Yt?rr.clone():rr},Nt.prototype.convertFrom=function(Yt){var rr=Yt.clone();return rr.red=null,rr},wt.mont=function(Yt){return new Vt(Yt)};function Vt(er){Nt.call(this,er),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new wt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}mt(Vt,Nt),Vt.prototype.convertTo=function(Yt){return this.imod(Yt.ushln(this.shift))},Vt.prototype.convertFrom=function(Yt){var rr=this.imod(Yt.mul(this.rinv));return rr.red=null,rr},Vt.prototype.imul=function(Yt,rr){if(Yt.isZero()||rr.isZero())return Yt.words[0]=0,Yt.length=1,Yt;var ar=Yt.imul(rr),lr=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),nr=ar.isub(lr).iushrn(this.shift),Lt=nr;return nr.cmp(this.m)>=0?Lt=nr.isub(this.m):nr.cmpn(0)<0&&(Lt=nr.iadd(this.m)),Lt._forceRed(this)},Vt.prototype.mul=function(Yt,rr){if(Yt.isZero()||rr.isZero())return new wt(0)._forceRed(this);var ar=Yt.mul(rr),lr=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),nr=ar.isub(lr).iushrn(this.shift),Lt=nr;return nr.cmp(this.m)>=0?Lt=nr.isub(this.m):nr.cmpn(0)<0&&(Lt=nr.iadd(this.m)),Lt._forceRed(this)},Vt.prototype.invm=function(Yt){var rr=this.imod(Yt._invmp(this.m).mul(this.r2));return rr._forceRed(this)}})(typeof s>"u"||s,a)}}),EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER$2=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P$2={toStringTag:tag};P$2.absoluteValue=P$2.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),finalise(a)};P$2.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$2.clampedTo=P$2.clamp=function(a,s){var et,nt=this,at=nt.constructor;if(a=new at(a),s=new at(s),!a.s||!s.s)return new at(NaN);if(a.gt(s))throw Error(invalidArgument+s);return et=nt.cmp(a),et<0?a:nt.cmp(s)>0?s:new at(nt)};P$2.comparedTo=P$2.cmp=function(a){var s,et,nt,at,mt=this,wt=mt.d,$t=(a=new mt.constructor(a)).d,Ct=mt.s,Dt=a.s;if(!wt||!$t)return!Ct||!Dt?NaN:Ct!==Dt?Ct:wt===$t?0:!wt^Ct<0?1:-1;if(!wt[0]||!$t[0])return wt[0]?Ct:$t[0]?-Dt:0;if(Ct!==Dt)return Ct;if(mt.e!==a.e)return mt.e>a.e^Ct<0?1:-1;for(nt=wt.length,at=$t.length,s=0,et=nt<at?nt:at;s<et;++s)if(wt[s]!==$t[s])return wt[s]>$t[s]^Ct<0?1:-1;return nt===at?0:nt>at^Ct<0?1:-1};P$2.cosine=P$2.cos=function(){var a,s,et=this,nt=et.constructor;return et.d?et.d[0]?(a=nt.precision,s=nt.rounding,nt.precision=a+Math.max(et.e,et.sd())+LOG_BASE,nt.rounding=1,et=cosine(nt,toLessThanHalfPi(nt,et)),nt.precision=a,nt.rounding=s,finalise(quadrant==2||quadrant==3?et.neg():et,a,s,!0)):new nt(1):new nt(NaN)};P$2.cubeRoot=P$2.cbrt=function(){var a,s,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor;if(!Ft.isFinite()||Ft.isZero())return new jt(Ft);for(external=!1,mt=Ft.s*mathpow(Ft.s*Ft,1/3),!mt||Math.abs(mt)==1/0?(et=digitsToString(Ft.d),a=Ft.e,(mt=(a-et.length+1)%3)&&(et+=mt==1||mt==-2?"0":"00"),mt=mathpow(et,1/3),a=mathfloor((a+1)/3)-(a%3==(a<0?-1:2)),mt==1/0?et="5e"+a:(et=mt.toExponential(),et=et.slice(0,et.indexOf("e")+1)+a),nt=new jt(et),nt.s=Ft.s):nt=new jt(mt.toString()),wt=(a=jt.precision)+3;;)if($t=nt,Ct=$t.times($t).times($t),Dt=Ct.plus(Ft),nt=divide(Dt.plus(Ft).times($t),Dt.plus(Ct),wt+2,1),digitsToString($t.d).slice(0,wt)===(et=digitsToString(nt.d)).slice(0,wt))if(et=et.slice(wt-3,wt+1),et=="9999"||!at&&et=="4999"){if(!at&&(finalise($t,a+1,0),$t.times($t).times($t).eq(Ft))){nt=$t;break}wt+=4,at=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise(nt,a+1,1),s=!nt.times(nt).times(nt).eq(Ft));break}return external=!0,finalise(nt,a,jt.rounding,s)};P$2.decimalPlaces=P$2.dp=function(){var a,s=this.d,et=NaN;if(s){if(a=s.length-1,et=(a-mathfloor(this.e/LOG_BASE))*LOG_BASE,a=s[a],a)for(;a%10==0;a/=10)et--;et<0&&(et=0)}return et};P$2.dividedBy=P$2.div=function(a){return divide(this,new this.constructor(a))};P$2.dividedToIntegerBy=P$2.divToInt=function(a){var s=this,et=s.constructor;return finalise(divide(s,new et(a),0,1,1),et.precision,et.rounding)};P$2.equals=P$2.eq=function(a){return this.cmp(a)===0};P$2.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$2.greaterThan=P$2.gt=function(a){return this.cmp(a)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(a){var s=this.cmp(a);return s==1||s===0};P$2.hyperbolicCosine=P$2.cosh=function(){var a,s,et,nt,at,mt=this,wt=mt.constructor,$t=new wt(1);if(!mt.isFinite())return new wt(mt.s?1/0:NaN);if(mt.isZero())return $t;et=wt.precision,nt=wt.rounding,wt.precision=et+Math.max(mt.e,mt.sd())+4,wt.rounding=1,at=mt.d.length,at<32?(a=Math.ceil(at/3),s=(1/tinyPow(4,a)).toString()):(a=16,s="2.3283064365386962890625e-10"),mt=taylorSeries(wt,1,mt.times(s),new wt(1),!0);for(var Ct,Dt=a,Ft=new wt(8);Dt--;)Ct=mt.times(mt),mt=$t.minus(Ct.times(Ft.minus(Ct.times(Ft))));return finalise(mt,wt.precision=et,wt.rounding=nt,!0)};P$2.hyperbolicSine=P$2.sinh=function(){var a,s,et,nt,at=this,mt=at.constructor;if(!at.isFinite()||at.isZero())return new mt(at);if(s=mt.precision,et=mt.rounding,mt.precision=s+Math.max(at.e,at.sd())+4,mt.rounding=1,nt=at.d.length,nt<3)at=taylorSeries(mt,2,at,at,!0);else{a=1.4*Math.sqrt(nt),a=a>16?16:a|0,at=at.times(1/tinyPow(5,a)),at=taylorSeries(mt,2,at,at,!0);for(var wt,$t=new mt(5),Ct=new mt(16),Dt=new mt(20);a--;)wt=at.times(at),at=at.times($t.plus(wt.times(Ct.times(wt).plus(Dt))))}return mt.precision=s,mt.rounding=et,finalise(at,s,et,!0)};P$2.hyperbolicTangent=P$2.tanh=function(){var a,s,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+7,nt.rounding=1,divide(et.sinh(),et.cosh(),nt.precision=a,nt.rounding=s)):new nt(et.s)};P$2.inverseCosine=P$2.acos=function(){var a,s=this,et=s.constructor,nt=s.abs().cmp(1),at=et.precision,mt=et.rounding;return nt!==-1?nt===0?s.isNeg()?getPi(et,at,mt):new et(0):new et(NaN):s.isZero()?getPi(et,at+4,mt).times(.5):(et.precision=at+6,et.rounding=1,s=s.asin(),a=getPi(et,at+4,mt).times(.5),et.precision=at,et.rounding=mt,a.minus(s))};P$2.inverseHyperbolicCosine=P$2.acosh=function(){var a,s,et=this,nt=et.constructor;return et.lte(1)?new nt(et.eq(1)?0:NaN):et.isFinite()?(a=nt.precision,s=nt.rounding,nt.precision=a+Math.max(Math.abs(et.e),et.sd())+4,nt.rounding=1,external=!1,et=et.times(et).minus(1).sqrt().plus(et),external=!0,nt.precision=a,nt.rounding=s,et.ln()):new nt(et)};P$2.inverseHyperbolicSine=P$2.asinh=function(){var a,s,et=this,nt=et.constructor;return!et.isFinite()||et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+2*Math.max(Math.abs(et.e),et.sd())+6,nt.rounding=1,external=!1,et=et.times(et).plus(1).sqrt().plus(et),external=!0,nt.precision=a,nt.rounding=s,et.ln())};P$2.inverseHyperbolicTangent=P$2.atanh=function(){var a,s,et,nt,at=this,mt=at.constructor;return at.isFinite()?at.e>=0?new mt(at.abs().eq(1)?at.s/0:at.isZero()?at:NaN):(a=mt.precision,s=mt.rounding,nt=at.sd(),Math.max(nt,a)<2*-at.e-1?finalise(new mt(at),a,s,!0):(mt.precision=et=nt-at.e,at=divide(at.plus(1),new mt(1).minus(at),et+a,1),mt.precision=a+4,mt.rounding=1,at=at.ln(),mt.precision=a,mt.rounding=s,at.times(.5))):new mt(NaN)};P$2.inverseSine=P$2.asin=function(){var a,s,et,nt,at=this,mt=at.constructor;return at.isZero()?new mt(at):(s=at.abs().cmp(1),et=mt.precision,nt=mt.rounding,s!==-1?s===0?(a=getPi(mt,et+4,nt).times(.5),a.s=at.s,a):new mt(NaN):(mt.precision=et+6,mt.rounding=1,at=at.div(new mt(1).minus(at.times(at)).sqrt().plus(1)).atan(),mt.precision=et,mt.rounding=nt,at.times(2)))};P$2.inverseTangent=P$2.atan=function(){var a,s,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Ut=Ft.rounding;if(Dt.isFinite()){if(Dt.isZero())return new Ft(Dt);if(Dt.abs().eq(1)&&jt+4<=PI_PRECISION)return wt=getPi(Ft,jt+4,Ut).times(.25),wt.s=Dt.s,wt}else{if(!Dt.s)return new Ft(NaN);if(jt+4<=PI_PRECISION)return wt=getPi(Ft,jt+4,Ut).times(.5),wt.s=Dt.s,wt}for(Ft.precision=$t=jt+10,Ft.rounding=1,et=Math.min(28,$t/LOG_BASE+2|0),a=et;a;--a)Dt=Dt.div(Dt.times(Dt).plus(1).sqrt().plus(1));for(external=!1,s=Math.ceil($t/LOG_BASE),nt=1,Ct=Dt.times(Dt),wt=new Ft(Dt),at=Dt;a!==-1;)if(at=at.times(Ct),mt=wt.minus(at.div(nt+=2)),at=at.times(Ct),wt=mt.plus(at.div(nt+=2)),wt.d[s]!==void 0)for(a=s;wt.d[a]===mt.d[a]&&a--;);return et&&(wt=wt.times(2<<et-1)),external=!0,finalise(wt,Ft.precision=jt,Ft.rounding=Ut,!0)};P$2.isFinite=function(){return!!this.d};P$2.isInteger=P$2.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$2.isNaN=function(){return!this.s};P$2.isNegative=P$2.isNeg=function(){return this.s<0};P$2.isPositive=P$2.isPos=function(){return this.s>0};P$2.isZero=function(){return!!this.d&&this.d[0]===0};P$2.lessThan=P$2.lt=function(a){return this.cmp(a)<0};P$2.lessThanOrEqualTo=P$2.lte=function(a){return this.cmp(a)<1};P$2.logarithm=P$2.log=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Ut=Ft.rounding,tr=5;if(a==null)a=new Ft(10),s=!0;else{if(a=new Ft(a),et=a.d,a.s<0||!et||!et[0]||a.eq(1))return new Ft(NaN);s=a.eq(10)}if(et=Dt.d,Dt.s<0||!et||!et[0]||Dt.eq(1))return new Ft(et&&!et[0]?-1/0:Dt.s!=1?NaN:et?0:1/0);if(s)if(et.length>1)mt=!0;else{for(at=et[0];at%10===0;)at/=10;mt=at!==1}if(external=!1,$t=jt+tr,wt=naturalLogarithm(Dt,$t),nt=s?getLn10(Ft,$t+10):naturalLogarithm(a,$t),Ct=divide(wt,nt,$t,1),checkRoundingDigits(Ct.d,at=jt,Ut))do if($t+=10,wt=naturalLogarithm(Dt,$t),nt=s?getLn10(Ft,$t+10):naturalLogarithm(a,$t),Ct=divide(wt,nt,$t,1),!mt){+digitsToString(Ct.d).slice(at+1,at+15)+1==1e14&&(Ct=finalise(Ct,jt+1,0));break}while(checkRoundingDigits(Ct.d,at+=10,Ut));return external=!0,finalise(Ct,jt,Ut)};P$2.minus=P$2.sub=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=this,ir=tr.constructor;if(a=new ir(a),!tr.d||!a.d)return!tr.s||!a.s?a=new ir(NaN):tr.d?a.s=-a.s:a=new ir(a.d||tr.s!==a.s?tr:NaN),a;if(tr.s!=a.s)return a.s=-a.s,tr.plus(a);if(Dt=tr.d,Ut=a.d,$t=ir.precision,Ct=ir.rounding,!Dt[0]||!Ut[0]){if(Ut[0])a.s=-a.s;else if(Dt[0])a=new ir(tr);else return new ir(Ct===3?-0:0);return external?finalise(a,$t,Ct):a}if(et=mathfloor(a.e/LOG_BASE),Ft=mathfloor(tr.e/LOG_BASE),Dt=Dt.slice(),mt=Ft-et,mt){for(jt=mt<0,jt?(s=Dt,mt=-mt,wt=Ut.length):(s=Ut,et=Ft,wt=Dt.length),nt=Math.max(Math.ceil($t/LOG_BASE),wt)+2,mt>nt&&(mt=nt,s.length=1),s.reverse(),nt=mt;nt--;)s.push(0);s.reverse()}else{for(nt=Dt.length,wt=Ut.length,jt=nt<wt,jt&&(wt=nt),nt=0;nt<wt;nt++)if(Dt[nt]!=Ut[nt]){jt=Dt[nt]<Ut[nt];break}mt=0}for(jt&&(s=Dt,Dt=Ut,Ut=s,a.s=-a.s),wt=Dt.length,nt=Ut.length-wt;nt>0;--nt)Dt[wt++]=0;for(nt=Ut.length;nt>mt;){if(Dt[--nt]<Ut[nt]){for(at=nt;at&&Dt[--at]===0;)Dt[at]=BASE-1;--Dt[at],Dt[nt]+=BASE}Dt[nt]-=Ut[nt]}for(;Dt[--wt]===0;)Dt.pop();for(;Dt[0]===0;Dt.shift())--et;return Dt[0]?(a.d=Dt,a.e=getBase10Exponent(Dt,et),external?finalise(a,$t,Ct):a):new ir(Ct===3?-0:0)};P$2.modulo=P$2.mod=function(a){var s,et=this,nt=et.constructor;return a=new nt(a),!et.d||!a.s||a.d&&!a.d[0]?new nt(NaN):!a.d||et.d&&!et.d[0]?finalise(new nt(et),nt.precision,nt.rounding):(external=!1,nt.modulo==9?(s=divide(et,a.abs(),0,3,1),s.s*=a.s):s=divide(et,a,0,nt.modulo,1),s=s.times(a),external=!0,et.minus(s))};P$2.naturalExponential=P$2.exp=function(){return naturalExponential(this)};P$2.naturalLogarithm=P$2.ln=function(){return naturalLogarithm(this)};P$2.negated=P$2.neg=function(){var a=new this.constructor(this);return a.s=-a.s,finalise(a)};P$2.plus=P$2.add=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt=this,Ut=jt.constructor;if(a=new Ut(a),!jt.d||!a.d)return!jt.s||!a.s?a=new Ut(NaN):jt.d||(a=new Ut(a.d||jt.s===a.s?jt:NaN)),a;if(jt.s!=a.s)return a.s=-a.s,jt.minus(a);if(Dt=jt.d,Ft=a.d,$t=Ut.precision,Ct=Ut.rounding,!Dt[0]||!Ft[0])return Ft[0]||(a=new Ut(jt)),external?finalise(a,$t,Ct):a;if(mt=mathfloor(jt.e/LOG_BASE),nt=mathfloor(a.e/LOG_BASE),Dt=Dt.slice(),at=mt-nt,at){for(at<0?(et=Dt,at=-at,wt=Ft.length):(et=Ft,nt=mt,wt=Dt.length),mt=Math.ceil($t/LOG_BASE),wt=mt>wt?mt+1:wt+1,at>wt&&(at=wt,et.length=1),et.reverse();at--;)et.push(0);et.reverse()}for(wt=Dt.length,at=Ft.length,wt-at<0&&(at=wt,et=Ft,Ft=Dt,Dt=et),s=0;at;)s=(Dt[--at]=Dt[at]+Ft[at]+s)/BASE|0,Dt[at]%=BASE;for(s&&(Dt.unshift(s),++nt),wt=Dt.length;Dt[--wt]==0;)Dt.pop();return a.d=Dt,a.e=getBase10Exponent(Dt,nt),external?finalise(a,$t,Ct):a};P$2.precision=P$2.sd=function(a){var s,et=this;if(a!==void 0&&a!==!!a&&a!==1&&a!==0)throw Error(invalidArgument+a);return et.d?(s=getPrecision(et.d),a&&et.e+1>s&&(s=et.e+1)):s=NaN,s};P$2.round=function(){var a=this,s=a.constructor;return finalise(new s(a),a.e+1,s.rounding)};P$2.sine=P$2.sin=function(){var a,s,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+Math.max(et.e,et.sd())+LOG_BASE,nt.rounding=1,et=sine(nt,toLessThanHalfPi(nt,et)),nt.precision=a,nt.rounding=s,finalise(quadrant>2?et.neg():et,a,s,!0)):new nt(NaN)};P$2.squareRoot=P$2.sqrt=function(){var a,s,et,nt,at,mt,wt=this,$t=wt.d,Ct=wt.e,Dt=wt.s,Ft=wt.constructor;if(Dt!==1||!$t||!$t[0])return new Ft(!Dt||Dt<0&&(!$t||$t[0])?NaN:$t?wt:1/0);for(external=!1,Dt=Math.sqrt(+wt),Dt==0||Dt==1/0?(s=digitsToString($t),(s.length+Ct)%2==0&&(s+="0"),Dt=Math.sqrt(s),Ct=mathfloor((Ct+1)/2)-(Ct<0||Ct%2),Dt==1/0?s="5e"+Ct:(s=Dt.toExponential(),s=s.slice(0,s.indexOf("e")+1)+Ct),nt=new Ft(s)):nt=new Ft(Dt.toString()),et=(Ct=Ft.precision)+3;;)if(mt=nt,nt=mt.plus(divide(wt,mt,et+2,1)).times(.5),digitsToString(mt.d).slice(0,et)===(s=digitsToString(nt.d)).slice(0,et))if(s=s.slice(et-3,et+1),s=="9999"||!at&&s=="4999"){if(!at&&(finalise(mt,Ct+1,0),mt.times(mt).eq(wt))){nt=mt;break}et+=4,at=1}else{(!+s||!+s.slice(1)&&s.charAt(0)=="5")&&(finalise(nt,Ct+1,1),a=!nt.times(nt).eq(wt));break}return external=!0,finalise(nt,Ct,Ft.rounding,a)};P$2.tangent=P$2.tan=function(){var a,s,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(a=nt.precision,s=nt.rounding,nt.precision=a+10,nt.rounding=1,et=et.sin(),et.s=1,et=divide(et,new nt(1).minus(et.times(et)).sqrt(),a+10,0),nt.precision=a,nt.rounding=s,finalise(quadrant==2||quadrant==4?et.neg():et,a,s,!0)):new nt(NaN)};P$2.times=P$2.mul=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor,Ut=Ft.d,tr=(a=new jt(a)).d;if(a.s*=Ft.s,!Ut||!Ut[0]||!tr||!tr[0])return new jt(!a.s||Ut&&!Ut[0]&&!tr||tr&&!tr[0]&&!Ut?NaN:!Ut||!tr?a.s/0:a.s*0);for(et=mathfloor(Ft.e/LOG_BASE)+mathfloor(a.e/LOG_BASE),Ct=Ut.length,Dt=tr.length,Ct<Dt&&(mt=Ut,Ut=tr,tr=mt,wt=Ct,Ct=Dt,Dt=wt),mt=[],wt=Ct+Dt,nt=wt;nt--;)mt.push(0);for(nt=Dt;--nt>=0;){for(s=0,at=Ct+nt;at>nt;)$t=mt[at]+tr[nt]*Ut[at-nt-1]+s,mt[at--]=$t%BASE|0,s=$t/BASE|0;mt[at]=(mt[at]+s)%BASE|0}for(;!mt[--wt];)mt.pop();return s?++et:mt.shift(),a.d=mt,a.e=getBase10Exponent(mt,et),external?finalise(a,jt.precision,jt.rounding):a};P$2.toBinary=function(a,s){return toStringBinary(this,2,a,s)};P$2.toDecimalPlaces=P$2.toDP=function(a,s){var et=this,nt=et.constructor;return et=new nt(et),a===void 0?et:(checkInt32(a,0,MAX_DIGITS),s===void 0?s=nt.rounding:checkInt32(s,0,8),finalise(et,a+et.e+1,s))};P$2.toExponential=function(a,s){var et,nt=this,at=nt.constructor;return a===void 0?et=finiteToString(nt,!0):(checkInt32(a,0,MAX_DIGITS),s===void 0?s=at.rounding:checkInt32(s,0,8),nt=finalise(new at(nt),a+1,s),et=finiteToString(nt,!0,a+1)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$2.toFixed=function(a,s){var et,nt,at=this,mt=at.constructor;return a===void 0?et=finiteToString(at):(checkInt32(a,0,MAX_DIGITS),s===void 0?s=mt.rounding:checkInt32(s,0,8),nt=finalise(new mt(at),a+at.e+1,s),et=finiteToString(nt,!1,a+nt.e+1)),at.isNeg()&&!at.isZero()?"-"+et:et};P$2.toFraction=function(a){var s,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=this,ir=tr.d,sr=tr.constructor;if(!ir)return new sr(tr);if(Dt=et=new sr(1),nt=Ct=new sr(0),s=new sr(nt),mt=s.e=getPrecision(ir)-tr.e-1,wt=mt%LOG_BASE,s.d[0]=mathpow(10,wt<0?LOG_BASE+wt:wt),a==null)a=mt>0?s:Dt;else{if($t=new sr(a),!$t.isInt()||$t.lt(Dt))throw Error(invalidArgument+$t);a=$t.gt(s)?mt>0?s:Dt:$t}for(external=!1,$t=new sr(digitsToString(ir)),Ft=sr.precision,sr.precision=mt=ir.length*LOG_BASE*2;jt=divide($t,s,0,1,1),at=et.plus(jt.times(nt)),at.cmp(a)!=1;)et=nt,nt=at,at=Dt,Dt=Ct.plus(jt.times(at)),Ct=at,at=s,s=$t.minus(jt.times(at)),$t=at;return at=divide(a.minus(et),nt,0,1,1),Ct=Ct.plus(at.times(Dt)),et=et.plus(at.times(nt)),Ct.s=Dt.s=tr.s,Ut=divide(Dt,nt,mt,1).minus(tr).abs().cmp(divide(Ct,et,mt,1).minus(tr).abs())<1?[Dt,nt]:[Ct,et],sr.precision=Ft,external=!0,Ut};P$2.toHexadecimal=P$2.toHex=function(a,s){return toStringBinary(this,16,a,s)};P$2.toNearest=function(a,s){var et=this,nt=et.constructor;if(et=new nt(et),a==null){if(!et.d)return et;a=new nt(1),s=nt.rounding}else{if(a=new nt(a),s===void 0?s=nt.rounding:checkInt32(s,0,8),!et.d)return a.s?et:a;if(!a.d)return a.s&&(a.s=et.s),a}return a.d[0]?(external=!1,et=divide(et,a,0,s,1).times(a),external=!0,finalise(et)):(a.s=et.s,et=a),et};P$2.toNumber=function(){return+this};P$2.toOctal=function(a,s){return toStringBinary(this,8,a,s)};P$2.toPower=P$2.pow=function(a){var s,et,nt,at,mt,wt,$t=this,Ct=$t.constructor,Dt=+(a=new Ct(a));if(!$t.d||!a.d||!$t.d[0]||!a.d[0])return new Ct(mathpow(+$t,Dt));if($t=new Ct($t),$t.eq(1))return $t;if(nt=Ct.precision,mt=Ct.rounding,a.eq(1))return finalise($t,nt,mt);if(s=mathfloor(a.e/LOG_BASE),s>=a.d.length-1&&(et=Dt<0?-Dt:Dt)<=MAX_SAFE_INTEGER$2)return at=intPow(Ct,$t,et,nt),a.s<0?new Ct(1).div(at):finalise(at,nt,mt);if(wt=$t.s,wt<0){if(s<a.d.length-1)return new Ct(NaN);if(a.d[s]&1||(wt=1),$t.e==0&&$t.d[0]==1&&$t.d.length==1)return $t.s=wt,$t}return et=mathpow(+$t,Dt),s=et==0||!isFinite(et)?mathfloor(Dt*(Math.log("0."+digitsToString($t.d))/Math.LN10+$t.e+1)):new Ct(et+"").e,s>Ct.maxE+1||s<Ct.minE-1?new Ct(s>0?wt/0:0):(external=!1,Ct.rounding=$t.s=1,et=Math.min(12,(s+"").length),at=naturalExponential(a.times(naturalLogarithm($t,nt+et)),nt),at.d&&(at=finalise(at,nt+5,1),checkRoundingDigits(at.d,nt,mt)&&(s=nt+10,at=finalise(naturalExponential(a.times(naturalLogarithm($t,s+et)),s),s+5,1),+digitsToString(at.d).slice(nt+1,nt+15)+1==1e14&&(at=finalise(at,nt+1,0)))),at.s=wt,external=!0,Ct.rounding=mt,finalise(at,nt,mt))};P$2.toPrecision=function(a,s){var et,nt=this,at=nt.constructor;return a===void 0?et=finiteToString(nt,nt.e<=at.toExpNeg||nt.e>=at.toExpPos):(checkInt32(a,1,MAX_DIGITS),s===void 0?s=at.rounding:checkInt32(s,0,8),nt=finalise(new at(nt),a,s),et=finiteToString(nt,a<=nt.e||nt.e<=at.toExpNeg,a)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$2.toSignificantDigits=P$2.toSD=function(a,s){var et=this,nt=et.constructor;return a===void 0?(a=nt.precision,s=nt.rounding):(checkInt32(a,1,MAX_DIGITS),s===void 0?s=nt.rounding:checkInt32(s,0,8)),finalise(new nt(et),a,s)};P$2.toString=function(){var a=this,s=a.constructor,et=finiteToString(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()&&!a.isZero()?"-"+et:et};P$2.truncated=P$2.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$2.valueOf=P$2.toJSON=function(){var a=this,s=a.constructor,et=finiteToString(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()?"-"+et:et};function digitsToString(a){var s,et,nt,at=a.length-1,mt="",wt=a[0];if(at>0){for(mt+=wt,s=1;s<at;s++)nt=a[s]+"",et=LOG_BASE-nt.length,et&&(mt+=getZeroString(et)),mt+=nt;wt=a[s],nt=wt+"",et=LOG_BASE-nt.length,et&&(mt+=getZeroString(et))}else if(wt===0)return"0";for(;wt%10===0;)wt/=10;return mt+wt}function checkInt32(a,s,et){if(a!==~~a||a<s||a>et)throw Error(invalidArgument+a)}function checkRoundingDigits(a,s,et,nt){var at,mt,wt,$t;for(mt=a[0];mt>=10;mt/=10)--s;return--s<0?(s+=LOG_BASE,at=0):(at=Math.ceil((s+1)/LOG_BASE),s%=LOG_BASE),mt=mathpow(10,LOG_BASE-s),$t=a[at]%mt|0,nt==null?s<3?(s==0?$t=$t/100|0:s==1&&($t=$t/10|0),wt=et<4&&$t==99999||et>3&&$t==49999||$t==5e4||$t==0):wt=(et<4&&$t+1==mt||et>3&&$t+1==mt/2)&&(a[at+1]/mt/100|0)==mathpow(10,s-2)-1||($t==mt/2||$t==0)&&(a[at+1]/mt/100|0)==0:s<4?(s==0?$t=$t/1e3|0:s==1?$t=$t/100|0:s==2&&($t=$t/10|0),wt=(nt||et<4)&&$t==9999||!nt&&et>3&&$t==4999):wt=((nt||et<4)&&$t+1==mt||!nt&&et>3&&$t+1==mt/2)&&(a[at+1]/mt/1e3|0)==mathpow(10,s-3)-1,wt}function convertBase(a,s,et){for(var nt,at=[0],mt,wt=0,$t=a.length;wt<$t;){for(mt=at.length;mt--;)at[mt]*=s;for(at[0]+=NUMERALS.indexOf(a.charAt(wt++)),nt=0;nt<at.length;nt++)at[nt]>et-1&&(at[nt+1]===void 0&&(at[nt+1]=0),at[nt+1]+=at[nt]/et|0,at[nt]%=et)}return at.reverse()}function cosine(a,s){var et,nt,at;if(s.isZero())return s;nt=s.d.length,nt<32?(et=Math.ceil(nt/3),at=(1/tinyPow(4,et)).toString()):(et=16,at="2.3283064365386962890625e-10"),a.precision+=et,s=taylorSeries(a,1,s.times(at),new a(1));for(var mt=et;mt--;){var wt=s.times(s);s=wt.times(wt).minus(wt).times(8).plus(1)}return a.precision-=et,s}var divide=function(){function a(nt,at,mt){var wt,$t=0,Ct=nt.length;for(nt=nt.slice();Ct--;)wt=nt[Ct]*at+$t,nt[Ct]=wt%mt|0,$t=wt/mt|0;return $t&&nt.unshift($t),nt}function s(nt,at,mt,wt){var $t,Ct;if(mt!=wt)Ct=mt>wt?1:-1;else for($t=Ct=0;$t<mt;$t++)if(nt[$t]!=at[$t]){Ct=nt[$t]>at[$t]?1:-1;break}return Ct}function et(nt,at,mt,wt){for(var $t=0;mt--;)nt[mt]-=$t,$t=nt[mt]<at[mt]?1:0,nt[mt]=$t*wt+nt[mt]-at[mt];for(;!nt[0]&&nt.length>1;)nt.shift()}return function(nt,at,mt,wt,$t,Ct){var Dt,Ft,jt,Ut,tr,ir,sr,ur,fr,dr,hr,vr,yr,xr,br,wr,Sr,Cr,cr,Nt,Vt=nt.constructor,er=nt.s==at.s?1:-1,Yt=nt.d,rr=at.d;if(!Yt||!Yt[0]||!rr||!rr[0])return new Vt(!nt.s||!at.s||(Yt?rr&&Yt[0]==rr[0]:!rr)?NaN:Yt&&Yt[0]==0||!rr?er*0:er/0);for(Ct?(tr=1,Ft=nt.e-at.e):(Ct=BASE,tr=LOG_BASE,Ft=mathfloor(nt.e/tr)-mathfloor(at.e/tr)),cr=rr.length,Sr=Yt.length,fr=new Vt(er),dr=fr.d=[],jt=0;rr[jt]==(Yt[jt]||0);jt++);if(rr[jt]>(Yt[jt]||0)&&Ft--,mt==null?(xr=mt=Vt.precision,wt=Vt.rounding):$t?xr=mt+(nt.e-at.e)+1:xr=mt,xr<0)dr.push(1),ir=!0;else{if(xr=xr/tr+2|0,jt=0,cr==1){for(Ut=0,rr=rr[0],xr++;(jt<Sr||Ut)&&xr--;jt++)br=Ut*Ct+(Yt[jt]||0),dr[jt]=br/rr|0,Ut=br%rr|0;ir=Ut||jt<Sr}else{for(Ut=Ct/(rr[0]+1)|0,Ut>1&&(rr=a(rr,Ut,Ct),Yt=a(Yt,Ut,Ct),cr=rr.length,Sr=Yt.length),wr=cr,hr=Yt.slice(0,cr),vr=hr.length;vr<cr;)hr[vr++]=0;Nt=rr.slice(),Nt.unshift(0),Cr=rr[0],rr[1]>=Ct/2&&++Cr;do Ut=0,Dt=s(rr,hr,cr,vr),Dt<0?(yr=hr[0],cr!=vr&&(yr=yr*Ct+(hr[1]||0)),Ut=yr/Cr|0,Ut>1?(Ut>=Ct&&(Ut=Ct-1),sr=a(rr,Ut,Ct),ur=sr.length,vr=hr.length,Dt=s(sr,hr,ur,vr),Dt==1&&(Ut--,et(sr,cr<ur?Nt:rr,ur,Ct))):(Ut==0&&(Dt=Ut=1),sr=rr.slice()),ur=sr.length,ur<vr&&sr.unshift(0),et(hr,sr,vr,Ct),Dt==-1&&(vr=hr.length,Dt=s(rr,hr,cr,vr),Dt<1&&(Ut++,et(hr,cr<vr?Nt:rr,vr,Ct))),vr=hr.length):Dt===0&&(Ut++,hr=[0]),dr[jt++]=Ut,Dt&&hr[0]?hr[vr++]=Yt[wr]||0:(hr=[Yt[wr]],vr=1);while((wr++<Sr||hr[0]!==void 0)&&xr--);ir=hr[0]!==void 0}dr[0]||dr.shift()}if(tr==1)fr.e=Ft,inexact=ir;else{for(jt=1,Ut=dr[0];Ut>=10;Ut/=10)jt++;fr.e=jt+Ft*tr-1,finalise(fr,$t?mt+fr.e+1:mt,wt,ir)}return fr}}();function finalise(a,s,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=a.constructor;e:if(s!=null){if(jt=a.d,!jt)return a;for(at=1,$t=jt[0];$t>=10;$t/=10)at++;if(mt=s-at,mt<0)mt+=LOG_BASE,wt=s,Ft=jt[Ut=0],Ct=Ft/mathpow(10,at-wt-1)%10|0;else if(Ut=Math.ceil((mt+1)/LOG_BASE),$t=jt.length,Ut>=$t)if(nt){for(;$t++<=Ut;)jt.push(0);Ft=Ct=0,at=1,mt%=LOG_BASE,wt=mt-LOG_BASE+1}else break e;else{for(Ft=$t=jt[Ut],at=1;$t>=10;$t/=10)at++;mt%=LOG_BASE,wt=mt-LOG_BASE+at,Ct=wt<0?0:Ft/mathpow(10,at-wt-1)%10|0}if(nt=nt||s<0||jt[Ut+1]!==void 0||(wt<0?Ft:Ft%mathpow(10,at-wt-1)),Dt=et<4?(Ct||nt)&&(et==0||et==(a.s<0?3:2)):Ct>5||Ct==5&&(et==4||nt||et==6&&(mt>0?wt>0?Ft/mathpow(10,at-wt):0:jt[Ut-1])%10&1||et==(a.s<0?8:7)),s<1||!jt[0])return jt.length=0,Dt?(s-=a.e+1,jt[0]=mathpow(10,(LOG_BASE-s%LOG_BASE)%LOG_BASE),a.e=-s||0):jt[0]=a.e=0,a;if(mt==0?(jt.length=Ut,$t=1,Ut--):(jt.length=Ut+1,$t=mathpow(10,LOG_BASE-mt),jt[Ut]=wt>0?(Ft/mathpow(10,at-wt)%mathpow(10,wt)|0)*$t:0),Dt)for(;;)if(Ut==0){for(mt=1,wt=jt[0];wt>=10;wt/=10)mt++;for(wt=jt[0]+=$t,$t=1;wt>=10;wt/=10)$t++;mt!=$t&&(a.e++,jt[0]==BASE&&(jt[0]=1));break}else{if(jt[Ut]+=$t,jt[Ut]!=BASE)break;jt[Ut--]=0,$t=1}for(mt=jt.length;jt[--mt]===0;)jt.pop()}return external&&(a.e>tr.maxE?(a.d=null,a.e=NaN):a.e<tr.minE&&(a.e=0,a.d=[0])),a}function finiteToString(a,s,et){if(!a.isFinite())return nonFiniteToString(a);var nt,at=a.e,mt=digitsToString(a.d),wt=mt.length;return s?(et&&(nt=et-wt)>0?mt=mt.charAt(0)+"."+mt.slice(1)+getZeroString(nt):wt>1&&(mt=mt.charAt(0)+"."+mt.slice(1)),mt=mt+(a.e<0?"e":"e+")+a.e):at<0?(mt="0."+getZeroString(-at-1)+mt,et&&(nt=et-wt)>0&&(mt+=getZeroString(nt))):at>=wt?(mt+=getZeroString(at+1-wt),et&&(nt=et-at-1)>0&&(mt=mt+"."+getZeroString(nt))):((nt=at+1)<wt&&(mt=mt.slice(0,nt)+"."+mt.slice(nt)),et&&(nt=et-wt)>0&&(at+1===wt&&(mt+="."),mt+=getZeroString(nt))),mt}function getBase10Exponent(a,s){var et=a[0];for(s*=LOG_BASE;et>=10;et/=10)s++;return s}function getLn10(a,s,et){if(s>LN10_PRECISION)throw external=!0,et&&(a.precision=et),Error(precisionLimitExceeded);return finalise(new a(LN10),s,1,!0)}function getPi(a,s,et){if(s>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new a(PI),s,et,!0)}function getPrecision(a){var s=a.length-1,et=s*LOG_BASE+1;if(s=a[s],s){for(;s%10==0;s/=10)et--;for(s=a[0];s>=10;s/=10)et++}return et}function getZeroString(a){for(var s="";a--;)s+="0";return s}function intPow(a,s,et,nt){var at,mt=new a(1),wt=Math.ceil(nt/LOG_BASE+4);for(external=!1;;){if(et%2&&(mt=mt.times(s),truncate(mt.d,wt)&&(at=!0)),et=mathfloor(et/2),et===0){et=mt.d.length-1,at&&mt.d[et]===0&&++mt.d[et];break}s=s.times(s),truncate(s.d,wt)}return external=!0,mt}function isOdd(a){return a.d[a.d.length-1]&1}function maxOrMin(a,s,et){for(var nt,at=new a(s[0]),mt=0;++mt<s.length;)if(nt=new a(s[mt]),nt.s)at[et](nt)&&(at=nt);else{at=nt;break}return at}function naturalExponential(a,s){var et,nt,at,mt,wt,$t,Ct,Dt=0,Ft=0,jt=0,Ut=a.constructor,tr=Ut.rounding,ir=Ut.precision;if(!a.d||!a.d[0]||a.e>17)return new Ut(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(s==null?(external=!1,Ct=ir):Ct=s,$t=new Ut(.03125);a.e>-2;)a=a.times($t),jt+=5;for(nt=Math.log(mathpow(2,jt))/Math.LN10*2+5|0,Ct+=nt,et=mt=wt=new Ut(1),Ut.precision=Ct;;){if(mt=finalise(mt.times(a),Ct,1),et=et.times(++Ft),$t=wt.plus(divide(mt,et,Ct,1)),digitsToString($t.d).slice(0,Ct)===digitsToString(wt.d).slice(0,Ct)){for(at=jt;at--;)wt=finalise(wt.times(wt),Ct,1);if(s==null)if(Dt<3&&checkRoundingDigits(wt.d,Ct-nt,tr,Dt))Ut.precision=Ct+=10,et=mt=$t=new Ut(1),Ft=0,Dt++;else return finalise(wt,Ut.precision=ir,tr,external=!0);else return Ut.precision=ir,wt}wt=$t}}function naturalLogarithm(a,s){var et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=1,ir=10,sr=a,ur=sr.d,fr=sr.constructor,dr=fr.rounding,hr=fr.precision;if(sr.s<0||!ur||!ur[0]||!sr.e&&ur[0]==1&&ur.length==1)return new fr(ur&&!ur[0]?-1/0:sr.s!=1?NaN:ur?0:sr);if(s==null?(external=!1,Ft=hr):Ft=s,fr.precision=Ft+=ir,et=digitsToString(ur),nt=et.charAt(0),Math.abs(mt=sr.e)<15e14){for(;nt<7&&nt!=1||nt==1&&et.charAt(1)>3;)sr=sr.times(a),et=digitsToString(sr.d),nt=et.charAt(0),tr++;mt=sr.e,nt>1?(sr=new fr("0."+et),mt++):sr=new fr(nt+"."+et.slice(1))}else return Dt=getLn10(fr,Ft+2,hr).times(mt+""),sr=naturalLogarithm(new fr(nt+"."+et.slice(1)),Ft-ir).plus(Dt),fr.precision=hr,s==null?finalise(sr,hr,dr,external=!0):sr;for(jt=sr,Ct=wt=sr=divide(sr.minus(1),sr.plus(1),Ft,1),Ut=finalise(sr.times(sr),Ft,1),at=3;;){if(wt=finalise(wt.times(Ut),Ft,1),Dt=Ct.plus(divide(wt,new fr(at),Ft,1)),digitsToString(Dt.d).slice(0,Ft)===digitsToString(Ct.d).slice(0,Ft))if(Ct=Ct.times(2),mt!==0&&(Ct=Ct.plus(getLn10(fr,Ft+2,hr).times(mt+""))),Ct=divide(Ct,new fr(tr),Ft,1),s==null)if(checkRoundingDigits(Ct.d,Ft-ir,dr,$t))fr.precision=Ft+=ir,Dt=wt=sr=divide(jt.minus(1),jt.plus(1),Ft,1),Ut=finalise(sr.times(sr),Ft,1),at=$t=1;else return finalise(Ct,fr.precision=hr,dr,external=!0);else return fr.precision=hr,Ct;Ct=Dt,at+=2}}function nonFiniteToString(a){return String(a.s*a.s/0)}function parseDecimal(a,s){var et,nt,at;for((et=s.indexOf("."))>-1&&(s=s.replace(".","")),(nt=s.search(/e/i))>0?(et<0&&(et=nt),et+=+s.slice(nt+1),s=s.substring(0,nt)):et<0&&(et=s.length),nt=0;s.charCodeAt(nt)===48;nt++);for(at=s.length;s.charCodeAt(at-1)===48;--at);if(s=s.slice(nt,at),s){if(at-=nt,a.e=et=et-nt-1,a.d=[],nt=(et+1)%LOG_BASE,et<0&&(nt+=LOG_BASE),nt<at){for(nt&&a.d.push(+s.slice(0,nt)),at-=LOG_BASE;nt<at;)a.d.push(+s.slice(nt,nt+=LOG_BASE));s=s.slice(nt),nt=LOG_BASE-s.length}else nt-=at;for(;nt--;)s+="0";a.d.push(+s),external&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function parseOther(a,s){var et,nt,at,mt,wt,$t,Ct,Dt,Ft;if(s.indexOf("_")>-1){if(s=s.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(s))return parseDecimal(a,s)}else if(s==="Infinity"||s==="NaN")return+s||(a.s=NaN),a.e=NaN,a.d=null,a;if(isHex.test(s))et=16,s=s.toLowerCase();else if(isBinary.test(s))et=2;else if(isOctal.test(s))et=8;else throw Error(invalidArgument+s);for(mt=s.search(/p/i),mt>0?(Ct=+s.slice(mt+1),s=s.substring(2,mt)):s=s.slice(2),mt=s.indexOf("."),wt=mt>=0,nt=a.constructor,wt&&(s=s.replace(".",""),$t=s.length,mt=$t-mt,at=intPow(nt,new nt(et),mt,mt*2)),Dt=convertBase(s,et,BASE),Ft=Dt.length-1,mt=Ft;Dt[mt]===0;--mt)Dt.pop();return mt<0?new nt(a.s*0):(a.e=getBase10Exponent(Dt,Ft),a.d=Dt,external=!1,wt&&(a=divide(a,at,$t*4)),Ct&&(a=a.times(Math.abs(Ct)<54?mathpow(2,Ct):Decimal.pow(2,Ct))),external=!0,a)}function sine(a,s){var et,nt=s.d.length;if(nt<3)return s.isZero()?s:taylorSeries(a,2,s,s);et=1.4*Math.sqrt(nt),et=et>16?16:et|0,s=s.times(1/tinyPow(5,et)),s=taylorSeries(a,2,s,s);for(var at,mt=new a(5),wt=new a(16),$t=new a(20);et--;)at=s.times(s),s=s.times(mt.plus(at.times(wt.times(at).minus($t))));return s}function taylorSeries(a,s,et,nt,at){var mt,wt,$t,Ct,Dt=a.precision,Ft=Math.ceil(Dt/LOG_BASE);for(external=!1,Ct=et.times(et),$t=new a(nt);;){if(wt=divide($t.times(Ct),new a(s++*s++),Dt,1),$t=at?nt.plus(wt):nt.minus(wt),nt=divide(wt.times(Ct),new a(s++*s++),Dt,1),wt=$t.plus(nt),wt.d[Ft]!==void 0){for(mt=Ft;wt.d[mt]===$t.d[mt]&&mt--;);if(mt==-1)break}mt=$t,$t=nt,nt=wt,wt=mt}return external=!0,wt.d.length=Ft+1,wt}function tinyPow(a,s){for(var et=a;--s;)et*=a;return et}function toLessThanHalfPi(a,s){var et,nt=s.s<0,at=getPi(a,a.precision,1),mt=at.times(.5);if(s=s.abs(),s.lte(mt))return quadrant=nt?4:1,s;if(et=s.divToInt(at),et.isZero())quadrant=nt?3:2;else{if(s=s.minus(et.times(at)),s.lte(mt))return quadrant=isOdd(et)?nt?2:3:nt?4:1,s;quadrant=isOdd(et)?nt?1:4:nt?3:2}return s.minus(at).abs()}function toStringBinary(a,s,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr=a.constructor,ir=et!==void 0;if(ir?(checkInt32(et,1,MAX_DIGITS),nt===void 0?nt=tr.rounding:checkInt32(nt,0,8)):(et=tr.precision,nt=tr.rounding),!a.isFinite())Ft=nonFiniteToString(a);else{for(Ft=finiteToString(a),wt=Ft.indexOf("."),ir?(at=2,s==16?et=et*4-3:s==8&&(et=et*3-2)):at=s,wt>=0&&(Ft=Ft.replace(".",""),Ut=new tr(1),Ut.e=Ft.length-wt,Ut.d=convertBase(finiteToString(Ut),10,at),Ut.e=Ut.d.length),jt=convertBase(Ft,10,at),mt=Ct=jt.length;jt[--Ct]==0;)jt.pop();if(!jt[0])Ft=ir?"0p+0":"0";else{if(wt<0?mt--:(a=new tr(a),a.d=jt,a.e=mt,a=divide(a,Ut,et,nt,0,at),jt=a.d,mt=a.e,Dt=inexact),wt=jt[et],$t=at/2,Dt=Dt||jt[et+1]!==void 0,Dt=nt<4?(wt!==void 0||Dt)&&(nt===0||nt===(a.s<0?3:2)):wt>$t||wt===$t&&(nt===4||Dt||nt===6&&jt[et-1]&1||nt===(a.s<0?8:7)),jt.length=et,Dt)for(;++jt[--et]>at-1;)jt[et]=0,et||(++mt,jt.unshift(1));for(Ct=jt.length;!jt[Ct-1];--Ct);for(wt=0,Ft="";wt<Ct;wt++)Ft+=NUMERALS.charAt(jt[wt]);if(ir){if(Ct>1)if(s==16||s==8){for(wt=s==16?4:3,--Ct;Ct%wt;Ct++)Ft+="0";for(jt=convertBase(Ft,at,s),Ct=jt.length;!jt[Ct-1];--Ct);for(wt=1,Ft="1.";wt<Ct;wt++)Ft+=NUMERALS.charAt(jt[wt])}else Ft=Ft.charAt(0)+"."+Ft.slice(1);Ft=Ft+(mt<0?"p":"p+")+mt}else if(mt<0){for(;++mt;)Ft="0"+Ft;Ft="0."+Ft}else if(++mt>Ct)for(mt-=Ct;mt--;)Ft+="0";else mt<Ct&&(Ft=Ft.slice(0,mt)+"."+Ft.slice(mt))}Ft=(s==16?"0x":s==2?"0b":s==8?"0o":"")+Ft}return a.s<0?"-"+Ft:Ft}function truncate(a,s){if(a.length>s)return a.length=s,!0}function abs$1(a){return new this(a).abs()}function acos(a){return new this(a).acos()}function acosh(a){return new this(a).acosh()}function add(a,s){return new this(a).plus(s)}function asin(a){return new this(a).asin()}function asinh(a){return new this(a).asinh()}function atan(a){return new this(a).atan()}function atanh(a){return new this(a).atanh()}function atan2(a,s){a=new this(a),s=new this(s);var et,nt=this.precision,at=this.rounding,mt=nt+4;return!a.s||!s.s?et=new this(NaN):!a.d&&!s.d?(et=getPi(this,mt,1).times(s.s>0?.25:.75),et.s=a.s):!s.d||a.isZero()?(et=s.s<0?getPi(this,nt,at):new this(0),et.s=a.s):!a.d||s.isZero()?(et=getPi(this,mt,1).times(.5),et.s=a.s):s.s<0?(this.precision=mt,this.rounding=1,et=this.atan(divide(a,s,mt,1)),s=getPi(this,mt,1),this.precision=nt,this.rounding=at,et=a.s<0?et.minus(s):et.plus(s)):et=this.atan(divide(a,s,mt,1)),et}function cbrt(a){return new this(a).cbrt()}function ceil(a){return finalise(a=new this(a),a.e+1,2)}function clamp$2(a,s,et){return new this(a).clamp(s,et)}function config$2(a){if(!a||typeof a!="object")throw Error(decimalError+"Object expected");var s,et,nt,at=a.defaults===!0,mt=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-9e15,0,"modulo",0,9];for(s=0;s<mt.length;s+=3)if(et=mt[s],at&&(this[et]=DEFAULTS[et]),(nt=a[et])!==void 0)if(mathfloor(nt)===nt&&nt>=mt[s+1]&&nt<=mt[s+2])this[et]=nt;else throw Error(invalidArgument+et+": "+nt);if(et="crypto",at&&(this[et]=DEFAULTS[et]),(nt=a[et])!==void 0)if(nt===!0||nt===!1||nt===0||nt===1)if(nt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[et]=!0;else throw Error(cryptoUnavailable);else this[et]=!1;else throw Error(invalidArgument+et+": "+nt);return this}function cos(a){return new this(a).cos()}function cosh(a){return new this(a).cosh()}function clone$1(a){var s,et,nt;function at(mt){var wt,$t,Ct,Dt=this;if(!(Dt instanceof at))return new at(mt);if(Dt.constructor=at,isDecimalInstance(mt)){Dt.s=mt.s,external?!mt.d||mt.e>at.maxE?(Dt.e=NaN,Dt.d=null):mt.e<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=mt.e,Dt.d=mt.d.slice()):(Dt.e=mt.e,Dt.d=mt.d?mt.d.slice():mt.d);return}if(Ct=typeof mt,Ct==="number"){if(mt===0){Dt.s=1/mt<0?-1:1,Dt.e=0,Dt.d=[0];return}if(mt<0?(mt=-mt,Dt.s=-1):Dt.s=1,mt===~~mt&&mt<1e7){for(wt=0,$t=mt;$t>=10;$t/=10)wt++;external?wt>at.maxE?(Dt.e=NaN,Dt.d=null):wt<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=wt,Dt.d=[mt]):(Dt.e=wt,Dt.d=[mt]);return}else if(mt*0!==0){mt||(Dt.s=NaN),Dt.e=NaN,Dt.d=null;return}return parseDecimal(Dt,mt.toString())}else if(Ct!=="string")throw Error(invalidArgument+mt);return($t=mt.charCodeAt(0))===45?(mt=mt.slice(1),Dt.s=-1):($t===43&&(mt=mt.slice(1)),Dt.s=1),isDecimal.test(mt)?parseDecimal(Dt,mt):parseOther(Dt,mt)}if(at.prototype=P$2,at.ROUND_UP=0,at.ROUND_DOWN=1,at.ROUND_CEIL=2,at.ROUND_FLOOR=3,at.ROUND_HALF_UP=4,at.ROUND_HALF_DOWN=5,at.ROUND_HALF_EVEN=6,at.ROUND_HALF_CEIL=7,at.ROUND_HALF_FLOOR=8,at.EUCLID=9,at.config=at.set=config$2,at.clone=clone$1,at.isDecimal=isDecimalInstance,at.abs=abs$1,at.acos=acos,at.acosh=acosh,at.add=add,at.asin=asin,at.asinh=asinh,at.atan=atan,at.atanh=atanh,at.atan2=atan2,at.cbrt=cbrt,at.ceil=ceil,at.clamp=clamp$2,at.cos=cos,at.cosh=cosh,at.div=div,at.exp=exp,at.floor=floor$1,at.hypot=hypot,at.ln=ln$2,at.log=log,at.log10=log10,at.log2=log2,at.max=max$1,at.min=min$1,at.mod=mod,at.mul=mul,at.pow=pow$1,at.random=random,at.round=round$1,at.sign=sign$2,at.sin=sin,at.sinh=sinh,at.sqrt=sqrt,at.sub=sub,at.sum=sum,at.tan=tan,at.tanh=tanh,at.trunc=trunc,a===void 0&&(a={}),a&&a.defaults!==!0)for(nt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],s=0;s<nt.length;)a.hasOwnProperty(et=nt[s++])||(a[et]=this[et]);return at.config(a),at}function div(a,s){return new this(a).div(s)}function exp(a){return new this(a).exp()}function floor$1(a){return finalise(a=new this(a),a.e+1,3)}function hypot(){var a,s,et=new this(0);for(external=!1,a=0;a<arguments.length;)if(s=new this(arguments[a++]),s.d)et.d&&(et=et.plus(s.times(s)));else{if(s.s)return external=!0,new this(1/0);et=s}return external=!0,et.sqrt()}function isDecimalInstance(a){return a instanceof Decimal||a&&a.toStringTag===tag||!1}function ln$2(a){return new this(a).ln()}function log(a,s){return new this(a).log(s)}function log2(a){return new this(a).log(2)}function log10(a){return new this(a).log(10)}function max$1(){return maxOrMin(this,arguments,"lt")}function min$1(){return maxOrMin(this,arguments,"gt")}function mod(a,s){return new this(a).mod(s)}function mul(a,s){return new this(a).mul(s)}function pow$1(a,s){return new this(a).pow(s)}function random(a){var s,et,nt,at,mt=0,wt=new this(1),$t=[];if(a===void 0?a=this.precision:checkInt32(a,1,MAX_DIGITS),nt=Math.ceil(a/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(s=crypto.getRandomValues(new Uint32Array(nt));mt<nt;)at=s[mt],at>=429e7?s[mt]=crypto.getRandomValues(new Uint32Array(1))[0]:$t[mt++]=at%1e7;else if(crypto.randomBytes){for(s=crypto.randomBytes(nt*=4);mt<nt;)at=s[mt]+(s[mt+1]<<8)+(s[mt+2]<<16)+((s[mt+3]&127)<<24),at>=214e7?crypto.randomBytes(4).copy(s,mt):($t.push(at%1e7),mt+=4);mt=nt/4}else throw Error(cryptoUnavailable);else for(;mt<nt;)$t[mt++]=Math.random()*1e7|0;for(nt=$t[--mt],a%=LOG_BASE,nt&&a&&(at=mathpow(10,LOG_BASE-a),$t[mt]=(nt/at|0)*at);$t[mt]===0;mt--)$t.pop();if(mt<0)et=0,$t=[0];else{for(et=-1;$t[0]===0;et-=LOG_BASE)$t.shift();for(nt=1,at=$t[0];at>=10;at/=10)nt++;nt<LOG_BASE&&(et-=LOG_BASE-nt)}return wt.e=et,wt.d=$t,wt}function round$1(a){return finalise(a=new this(a),a.e+1,this.rounding)}function sign$2(a){return a=new this(a),a.d?a.d[0]?a.s:0*a.s:a.s||NaN}function sin(a){return new this(a).sin()}function sinh(a){return new this(a).sinh()}function sqrt(a){return new this(a).sqrt()}function sub(a,s){return new this(a).sub(s)}function sum(){var a=0,s=arguments,et=new this(s[a]);for(external=!1;et.s&&++a<s.length;)et=et.plus(s[a]);return external=!0,finalise(et,this.precision,this.rounding)}function tan(a){return new this(a).tan()}function tanh(a){return new this(a).tanh()}function trunc(a){return finalise(a=new this(a),a.e+1,1)}P$2[Symbol.for("nodejs.util.inspect.custom")]=P$2.toString;P$2[Symbol.toStringTag]="Decimal";var Decimal=P$2.constructor=clone$1(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);var decimal_default=Decimal,import_bn5=__toESM(require_bn()),import_bn=__toESM(require_bn()),Aftermath=class{constructor(a){if(a!==0)throw new Error("Aftermath only supported on mainnet");this.slippage="900000000000000000",this.poolRegistry="0xfcc774493db2c45c79f688f88d28023a3e7d98e4ee9f48bbf5c7990f651577ae",this.protocolFeeVault="0xf194d9b1bcad972e45a7dd67dd49b3ee1e3357a00a50850c52cd51bb450e13b4",this.treasury="0x28e499dff5e864a2eafe476269a4f5035f1c16f338da7be18b103499abf271ce",this.insuranceFund="0xf0c40d67b078000e18032334c3325c47b9ec9f3d9ae4128be820d54663d14e3b",this.referrealVault="0x35d35b0e5b177593d8c3a801462485572fc30861e6ce96a55af6dc4730709278"}amountLimit(a){return new import_bn.default(a).mul(new import_bn.default(this.slippage)).div(new import_bn.default("1000000000000000000")).toString()}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.aftermathLpSupplyType==null)throw new Error("LP supply type not supported");const jt=[s.object(et.id),s.object(this.poolRegistry),s.object(this.protocolFeeVault),s.object(this.treasury),s.object(this.insuranceFund),s.object(this.referrealVault),s.pure.u64(this.amountLimit(et.amountOut)),s.pure.u64(this.slippage),nt],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::aftermath::${Ct}`,typeArguments:[Dt,Ft,et.extendedDetails.aftermathLpSupplyType],arguments:jt})})}},DEEPBOOK_PACKAGE_ID="0x000000000000000000000000000000000000000000000000000000000000dee9",DeepbookV2=class{constructor(a){if(a!==0)throw new Error("Aftermath only supported on mainnet")}getAccountCap(a,s){return __async(this,null,function*(){let et=50,nt=null;for(;;){const at=a.getOwnedObjects({owner:s,cursor:nt,limit:et,filter:{MoveModule:{package:DEEPBOOK_PACKAGE_ID,module:"custodian_v2"}}});if(at!=null&&at.data!=null){if(at.data.length!==0)return at.data[0].data.objectId;if(at.data.length<50)break}else break}return null})}getOrCreateAccountCap(a,s,et){return __async(this,null,function*(){let nt=yield this.getAccountCap(s,et);return nt!==null?{accountCap:a.object(nt),isCreate:!1}:{accountCap:a.moveCall({target:`${DEEPBOOK_PACKAGE_ID}::clob_v2::create_account`,typeArguments:[],arguments:[]}),isCreate:!0}})}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=yield this.getOrCreateAccountCap(s,a.client,a.signer),Ut=[s.object(et.id),nt,jt.accountCap,s.object(CLOCK_ADDRESS)],tr=getAggregatorV2PublishedAt(a.publishedAtV2(),at),ir=s.moveCall({target:`${tr}::deepbook::${Ct}`,typeArguments:[Dt,Ft],arguments:Ut});return jt.isCreate&&s.transferObjects([jt.accountCap],a.signer),ir})}},KriyaV2=class{constructor(a){if(a!==0)throw new Error("Kriya amm only supported on mainnet")}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[s.object(et.id),nt],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::kriya_amm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},KriyaV3=class{constructor(a){if(a!==0)throw new Error("Kriya clmm only supported on mainnet");this.version="0xf5145a7ac345ca8736cf8c76047d00d6d378f30e81be6f6eb557184d9de93c78"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[s.object(et.id),nt,s.object(this.version),s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::kriya_clmm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},FlowxV2=class{constructor(a){if(a!==0)throw new Error("Flowx only supported on mainnet");this.container="0xb65dcbf63fd3ad5d0ebfbf334780dc9f785eff38a4459e37ab08fa79576ee511"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[s.object(this.container),nt],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::flowx_amm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},FlowxV3=class{constructor(a){if(a!==0)throw new Error("Flowx clmm only supported on mainnet");this.versioned="0x67624a1533b5aff5d0dfcf5e598684350efd38134d2d245f475524c03a64e656",this.poolRegistry="0x27565d24a4cd51127ac90e4074a841bbe356cca7bf5759ddc14a975be1632abc"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[s.object(this.poolRegistry),s.pure.u64(et.feeRate*1e6),nt,s.object(this.versioned),s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::flowx_clmm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},Turbos=class{constructor(a){if(a!==0)throw new Error("Turbos only supported on mainnet");this.versioned="0xf1cf0e81048df168ebeb1b8030fad24b3e0b53ae827c25053fff0779c1445b6f"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.turbosFeeType==null)throw new Error("Turbos fee type not supported");const jt=[s.object(et.id),nt,s.object(CLOCK_ADDRESS),s.object(this.versioned)],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::turbos::${Ct}`,typeArguments:[Dt,Ft,et.extendedDetails.turbosFeeType],arguments:jt})})}},Cetus=class{constructor(a,s){this.globalConfig=a===0?"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f":"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",this.partner=s??(a===0?"0x639b5e433da31739e800cd085f356e64cae222966d0f1b11bd9dc76b322ff58b":"0x1f5fa5c820f40d43fc47815ad06d95e40a1942ff72a732a92e8ef4aa8cde70a5")}flash_swap(a,s,et,nt,at){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["flash_swap_a2b",wt,$t]:["flash_swap_b2a",$t,wt];let jt=nt?et.amountIn:et.amountOut;const Ut=[s.object(this.globalConfig),s.object(et.id),s.object(this.partner),s.pure.u64(jt),s.pure.bool(nt),s.object(CLOCK_ADDRESS)],tr=getAggregatorV2PublishedAt(a.publishedAtV2(),at),ir=s.moveCall({target:`${tr}::cetus::${Ct}`,typeArguments:[Dt,Ft],arguments:Ut});return{targetCoin:ir[0],flashReceipt:ir[1],payAmount:ir[2]}}repay_flash_swap(a,s,et,nt,at,mt){const{direction:wt,from:$t,target:Ct}=et,[Dt,Ft,jt]=wt?["repay_flash_swap_a2b",$t,Ct]:["repay_flash_swap_b2a",Ct,$t],Ut=[s.object(this.globalConfig),s.object(et.id),s.object(this.partner),nt,at],tr=getAggregatorV2PublishedAt(a.publishedAtV2(),mt);return s.moveCall({target:`${tr}::cetus::${Dt}`,typeArguments:[Ft,jt],arguments:Ut})[0]}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[s.object(this.globalConfig),s.object(et.id),s.object(this.partner),nt,s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::cetus::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}};function composeType(a,...s){const et=Array.isArray(s[s.length-1])?s.pop():[];let at=[a,...s].filter(Boolean).join("::");return et&&et.length&&(at+=`<${et.join(", ")}>`),at}function extractStructTagFromType(a){var s;try{let et=a.replace(/\s/g,"");const nt=et.match(/(<.+>)$/),at=(s=nt==null?void 0:nt[0])==null?void 0:s.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){et=et.slice(0,et.indexOf("<"));const Ct=extractStructTagFromType(et),Dt=__spreadProps$1(__spreadValues$2({},Ct),{type_arguments:at.map(Ft=>extractStructTagFromType(Ft).source_address)});return Dt.type_arguments=Dt.type_arguments.map(Ft=>CoinUtils.isSuiCoin(Ft)?Ft:extractStructTagFromType(Ft).source_address),Dt.source_address=composeType(Dt.full_address,Dt.type_arguments),Dt}const mt=et.split("::"),$t={full_address:et,address:et===GAS_TYPE_ARG||et===GAS_TYPE_ARG_LONG?"0x2":normalizeSuiObjectId(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return $t.full_address=`${$t.address}::${$t.module}::${$t.name}`,$t.source_address=composeType($t.full_address,$t.type_arguments),$t}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function normalizeCoinType(a){return extractStructTagFromType(a).source_address}var COIN_TYPE="0x2::coin::Coin",COIN_TYPE_ARG_REGEX=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG="0x2::sui::SUI",GAS_TYPE_ARG_LONG="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinUtils=class Ys{static getCoinTypeArg(s){const et=s.type.match(COIN_TYPE_ARG_REGEX);return et?et[1]:null}static isSUI(s){const et=Ys.getCoinTypeArg(s);return et?Ys.getCoinSymbol(et)==="SUI":!1}static getCoinSymbol(s){return s.substring(s.lastIndexOf(":")+1)}static getBalance(s){return BigInt(s.fields.balance)}static totalBalance(s,et){let nt=BigInt(0);return s.forEach(at=>{et===at.coinAddress&&(nt+=BigInt(at.balance))}),nt}static getID(s){return s.fields.id.id}static getCoinTypeFromArg(s){return`${COIN_TYPE}<${s}>`}static getCoinAssets(s,et){const nt=[];return et.forEach(at=>{normalizeCoinType(at.coinAddress)===normalizeCoinType(s)&&nt.push(at)}),nt}static isSuiCoin(s){return extractStructTagFromType(s).full_address===GAS_TYPE_ARG}static selectCoinObjectIdGreaterThanOrEqual(s,et,nt=[]){const at=Ys.selectCoinAssetGreaterThanOrEqual(s,et,nt),mt=at.selectedCoins.map(Ct=>Ct.coinObjectId),wt=at.remainingCoins,$t=at.selectedCoins.map(Ct=>Ct.balance.toString());return{objectArray:mt,remainCoins:wt,amountArray:$t}}static selectCoinAssetGreaterThanOrEqual(s,et,nt=[]){const at=Ys.sortByBalance(s.filter(Dt=>!nt.includes(Dt.coinObjectId))),mt=Ys.calculateTotalBalance(at);if(mt<et)return{selectedCoins:[],remainingCoins:at};if(mt===et)return{selectedCoins:at,remainingCoins:[]};let wt=BigInt(0);const $t=[],Ct=[...at];for(;wt<mt;){const Dt=et-wt,Ft=Ct.findIndex(Ut=>Ut.balance>=Dt);if(Ft!==-1){$t.push(Ct[Ft]),Ct.splice(Ft,1);break}const jt=Ct.pop();jt.balance>0&&($t.push(jt),wt+=jt.balance)}return{selectedCoins:Ys.sortByBalance($t),remainingCoins:Ys.sortByBalance(Ct)}}static sortByBalance(s){return s.sort((et,nt)=>et.balance<nt.balance?-1:et.balance>nt.balance?1:0)}static sortByBalanceDes(s){return s.sort((et,nt)=>et.balance>nt.balance?-1:et.balance<nt.balance?0:1)}static calculateTotalBalance(s){return s.reduce((et,nt)=>et+nt.balance,BigInt(0))}};function getAggregatorServerErrorMessage(a){switch(a){case 1e4:return"Calculate error";case 10001:return"Input number too large can not fit in target type";case 10002:return"No router";case 10003:return"Insufficient Liquidity";case 10004:return"Target token is detected as a HoneyPot scam";case 10005:return"Too many requests. Please try again later";default:return"Unknown error"}}function completionCoin(a){const s=a.indexOf("::");if(s===-1)return a;const et=a.substring(0,s),nt=a.substring(s);if(!et.startsWith("0x"))return a;const at=et.substring(2);return at.length>64?a:`0x${at.padStart(64,"0")}${nt}`}function compareCoins(a,s){a=completionCoin(a),s=completionCoin(s);const et=Math.min(a.length,s.length);for(let nt=0;nt<et;nt++){if(a[nt]>s[nt])return!0;if(a[nt]<s[nt])return!1}return!0}function mintZeroCoin(a,s){return a.moveCall({target:"0x2::coin::zero",typeArguments:[s]})}function buildInputCoin(a,s,et,nt){const at=CoinUtils.getCoinAssets(nt,s);if(et===BigInt(0))return CoinUtils.isSuiCoin(nt)||at.length===0&&!CoinUtils.isSuiCoin(nt)?{targetCoin:mintZeroCoin(a,nt),isMintZeroCoin:!0,targetCoinAmount:0}:{targetCoin:a.object(at[0].coinObjectId),isMintZeroCoin:!1,targetCoinAmount:Number(at[0].balance.toString())};if(CoinUtils.calculateTotalBalance(at)<et)throw new AggregateError("Insufficient balance when build merge coin, coinType: "+nt,"InsufficientBalance"+nt);if(CoinUtils.isSuiCoin(nt))return{targetCoin:a.splitCoins(a.gas,[a.pure.u64(et.toString())]),isMintZeroCoin:!0,targetCoinAmount:Number(et.toString())};let wt=CoinUtils.sortByBalance(at);wt.slice(0,3).reduce((Ut,tr)=>Ut+tr.balance,BigInt(0))<BigInt(et)&&(wt=CoinUtils.sortByBalanceDes(at));let Ct=CoinUtils.selectCoinObjectIdGreaterThanOrEqual(wt,et);const[Dt,...Ft]=Ct.objectArray;return Ft.length>0&&a.mergeCoins(Dt,Ft.map(Ut=>a.object(Ut))),{targetCoin:a.splitCoins(a.object(Dt),[a.pure.u64(et.toString())]),isMintZeroCoin:!1,targetCoinAmount:Number(et.toString())}}function checkInvalidSuiAddress(a){return!(!a.startsWith("0x")||a.length!==66)}var import_bn4=__toESM(require_bn()),import_bn3=__toESM(require_bn()),import_bn2=__toESM(require_bn()),ZERO=new import_bn2.default(0);new import_bn2.default(1);var TWO=new import_bn2.default(2);TWO.pow(new import_bn2.default(128));var U64_MAX_BN=new import_bn2.default("18446744073709551615"),TEN_POW_NINE=1e9;function CalculateAmountLimit(a,s,et){let nt=ZERO;return s?nt=a.mul(new import_bn3.default(TEN_POW_NINE-et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):nt=a.mul(new import_bn3.default(TEN_POW_NINE+et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),Number(nt.toString())}function CalculateAmountLimitBN(a,s,et){let nt=ZERO;return s?nt=a.mul(new import_bn3.default(TEN_POW_NINE-et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):nt=a.mul(new import_bn3.default(TEN_POW_NINE+et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),nt}function sqrtPriceX64ToPrice(a,s,et){return new decimal_default(a).mul(decimal_default.pow(2,-64)).pow(2).mul(decimal_default.pow(10,s-et))}function swapInPools(a,s,et,nt){return __async(this,null,function*(){var at,mt,wt,$t,Ct;const{from:Dt,target:Ft,amount:jt,byAmountIn:Ut,pools:tr}=s,ir=completionCoin(Dt),sr=completionCoin(Ft),ur=new Transaction,fr=compareCoins(ir,sr),dr=nt===0?"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4":"0x4f920e1ef6318cfba77e20a0538a419a5a504c14230169438b99aba485db40a6",hr=fr?ir:sr,vr=fr?sr:ir,yr=[hr,vr];for(let or=0;or<tr.length;or++){const gr=[ur.object(tr[or]),ur.pure.bool(fr),ur.pure.bool(Ut),ur.pure.u64(jt.toString())];ur.moveCall({target:`${dr}::fetcher_script::calculate_swap_result`,arguments:gr,typeArguments:yr})}if(!checkInvalidSuiAddress(et))throw new AggregateError("Aggregator package not set","InvalidWallet");const xr=yield a.devInspectTransactionBlock({transactionBlock:ur,sender:et});if(xr.error!=null)throw console.log("simulateRes.error",xr.error),new AggregateError("Aggregator package not set","SimulateError");const br=(at=xr.events)==null?void 0:at.filter(or=>or.type.includes("CalculatedSwapResultEvent"));if(br.length===0||br.length!==tr.length)throw new AggregateError("Simulate event result error","simulateEventError");let wr=Ut?ZERO:U64_MAX_BN,Sr=0;for(let or=0;or<br.length;or+=1)if(!br[or].parsedJson.data.is_exceed)if(s.byAmountIn){const gr=new import_bn4.BN(br[or].parsedJson.data.amount_out);gr.gt(wr)&&(Sr=or,wr=gr)}else{const gr=new import_bn4.BN(br[or].parsedJson.data.amount_out);gr.lt(wr)&&(Sr=or,wr=gr)}const Cr=br[Sr].parsedJson.data,cr=Cr.step_results[0].current_sqrt_price,[Nt,Vt]=yield Promise.all([a.getCoinMetadata({coinType:hr}).then(or=>or==null?void 0:or.decimals),a.getCoinMetadata({coinType:vr}).then(or=>or==null?void 0:or.decimals)]);if(Nt==null||Vt==null)throw new AggregateError("Simulate event result error","CannotGetDecimals");const er=sqrtPriceX64ToPrice(cr,Nt,Vt),Yt=Number(Cr.fee_rate)/1e6,rr=new import_bn4.BN((mt=Cr.amount_in)!=null?mt:0),ar=new import_bn4.BN((wt=Cr.fee_amount)!=null?wt:0),lr=rr.add(ar),nr={amountIn:lr,amountOut:new import_bn4.BN(($t=Cr.amount_out)!=null?$t:0),routes:[{path:[{id:tr[Sr],direction:fr,provider:"CETUS",from:ir,target:sr,feeRate:Yt,amountIn:Cr.amount_in,amountOut:Cr.amount_out,extendedDetails:{afterSqrtPrice:Cr.after_sqrt_price}}],amountIn:lr,amountOut:new import_bn4.BN((Ct=Cr.amount_out)!=null?Ct:0),initialPrice:er}],insufficientLiquidity:!1,byAmountIn:s.byAmountIn};return{isExceed:Cr.is_exceed,routeData:nr}})}var Haedal=class{constructor(a){if(a!==0)throw new Error("Haedal only supported on mainnet")}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt}=et,wt=mt?"swap_a2b":"swap_b2a",$t=[s.object(et.id),s.object("0x5"),nt],Ct=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ct}::haedal::${wt}`,typeArguments:[],arguments:$t})})}},Afsui=class{constructor(a){if(a!==0)throw new Error("Afsui only supported on mainnet");this.stakedSuiVault="0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",this.safe="0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",this.referVault="0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",this.validator="0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt}=et;if(!mt)throw new Error("Afsui not support b2a swap");const wt="swap_a2b",$t=[s.object(this.stakedSuiVault),s.object(this.safe),s.object("0x5"),s.object(this.referVault),s.object(this.validator),nt],Ct=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ct}::afsui::${wt}`,typeArguments:[],arguments:$t})})}},Volo=class{constructor(a){if(a!==0)throw new Error("Volo only supported on mainnet");this.nativePool="0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",this.metadata="0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt}=et;if(!mt)throw new Error("Volo not support b2a swap");const wt="swap_a2b",$t=[s.object(this.nativePool),s.object(this.metadata),s.object("0x5"),nt],Ct=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ct}::volo::${wt}`,typeArguments:[],arguments:$t})})}},Bluemove=class{constructor(a){if(a!==0)throw new Error("Bluemove only supported on mainnet");this.dexInfo="0x3f2d9f724f4a1ce5e71676448dc452be9a6243dac9c5b975a588c8c867066e92"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[s.object(this.dexInfo),nt],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Ut}::bluemove::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},DeepbookV3=class{constructor(a){this.deepbookV3Config=a===0?"0xe4099d0cda04f3aa80028fac91a9b3dbe50d08f2ff42aa2c29473926e34ca48c":"0xe19b5d072346cae83a037d4e3c8492068a74410a74e5830b3a68012db38296aa"}swap(a,s,et,nt,at,mt){return __async(this,null,function*(){const{direction:wt,from:$t,target:Ct}=et,[Dt,Ft,jt]=wt?["swap_a2b",$t,Ct]:["swap_b2a",Ct,$t];let Ut;mt?Ut=mt:Ut=mintZeroCoin(s,a.deepbookv3DeepFeeType());const tr=[s.object(this.deepbookV3Config),s.object(et.id),nt,Ut,s.object(CLOCK_ADDRESS)],ir=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${ir}::deepbookv3::${Dt}`,typeArguments:[Ft,jt],arguments:tr})})}},Scallop=class{constructor(a){if(a!==0)throw new Error("Scallop only supported on mainnet");this.version=a===0?"0x07871c4b3c847a0f674510d4978d5cf6f960452795e8ff6f189fd2088a3f6ac7":"0x0",this.market=a===0?"0xa757975255146dc9686aa823b7838b507f315d704f428cbadad2f4ea061939d9":"0x0"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",wt,$t];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.scallopScoinTreasury==null)throw new Error("Scallop coin treasury not supported");const jt=[s.object(this.version),s.object(this.market),s.object(et.extendedDetails.scallopScoinTreasury),nt,s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${Ut}::scallop::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},Suilend=class{constructor(a){if(a!==0)throw new Error("Suilend only supported on mainnet");this.sui_system_state=a===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt]=mt?["swap_a2b",$t]:["swap_b2a",wt],Ft=[s.object(et.id),s.object(this.sui_system_state),nt],jt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${jt}::suilend::${Ct}`,typeArguments:[Dt],arguments:Ft})})}},Bluefin=class{constructor(a){if(a!==0)throw new Error("Bluefin only supported on mainnet");this.globalConfig="0x03db251ba509a8d5d8777b6338836082335d93eecbdd09a11e190a1cff51c352"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[s.object(this.globalConfig),s.object(et.id),nt,s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${Ut}::bluefin::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},HaedalPmm=class{constructor(a,s){if(a===1)throw new Error("HaedalPmm is not supported on testnet");this.pythPriceIDs=s}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];let jt,Ut;if(et.extendedDetails==null)throw new Error("Extended details not supported haedal pmm");if(!et.extendedDetails.haedalPmmBasePriceSeed||!et.extendedDetails.haedalPmmQuotePriceSeed)throw new Error("Base price seed or quote price seed not supported");jt=et.extendedDetails.haedalPmmBasePriceSeed,Ut=et.extendedDetails.haedalPmmQuotePriceSeed;const tr=this.pythPriceIDs.get(jt),ir=this.pythPriceIDs.get(Ut);if(!tr||!ir)throw new Error("Base price info object id or quote price info object id not found");const sr=[s.object(et.id),s.object(tr),s.object(ir),nt,s.object(CLOCK_ADDRESS)],ur=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${ur}::haedalpmm::${Ct}`,typeArguments:[Dt,Ft],arguments:sr})})}},Alphafi=class{constructor(a){if(a!==0)throw new Error("Alphafi only supported on mainnet");this.sui_system_state=a===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt]=mt?["swap_a2b",$t]:["swap_b2a",wt],Ft=[s.object(et.id),s.object(this.sui_system_state),nt],jt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${jt}::alphafi::${Ct}`,typeArguments:[Dt],arguments:Ft})})}},Steamm=class{constructor(a){if(a!==0)throw new Error("Steamm only supported on mainnet")}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.steammBankA==null)throw new Error("Steamm bank a type not supported");if(et.extendedDetails.steammBankB==null)throw new Error("Steamm bank b type not supported");if(et.extendedDetails.steammLendingMarket==null)throw new Error("Steamm lending market not supported");if(et.extendedDetails.steammLendingMarketType==null)throw new Error("Steamm lending market type not supported");if(et.extendedDetails.steammBCoinAType==null)throw new Error("Steamm b coin a type not supported");if(et.extendedDetails.steammBCoinBType==null)throw new Error("Steamm b coin b type not supported");if(et.extendedDetails.steammLPToken==null)throw new Error("Steamm lp token not supported");const jt=[s.object(et.id),s.object(et.extendedDetails.steammBankA),s.object(et.extendedDetails.steammBankB),s.object(et.extendedDetails.steammLendingMarket),nt,s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${Ut}::steammfe::${Ct}`,typeArguments:[et.extendedDetails.steammLendingMarketType,Dt,Ft,et.extendedDetails.steammBCoinAType,et.extendedDetails.steammBCoinBType,et.extendedDetails.steammLPToken],arguments:jt})})}},SUPER_SUI_TYPE="0x790f258062909e3a0ffc78b3c53ac2f62d7084c3bab95644bdeb05add7250001::super_sui::SUPER_SUI",MUSD_TYPE="0xe44df51c0b21a27ab915fa1fe2ca610cd3eaa6d9666fe5e62b988bf7f0bd8722::musd::MUSD",METH_TYPE="0xccd628c2334c5ed33e6c47d6c21bb664f8b6307b2ac32c2462a61f69a31ebcee::meth::METH",Metastable=class{constructor(a,s){if(a!==0)throw new Error("Metastable only supported on mainnet");this.versionID="0x4696559327b35ff2ab26904e7426a1646312e9c836d5c6cff6709a5ccc30915c",this.pythPriceIDs=s}swap(a,s,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft,jt]=mt?["swap_a2b","create_deposit_cap",wt,$t]:["swap_b2a","create_withdraw_cap",$t,wt];let Ut="",tr="pyth",ir="";if(et.extendedDetails==null)throw new Error("Extended details not supported metastable");if(!et.extendedDetails.metastableCreateCapPkgId||!et.extendedDetails.metastableCreateCapModule||!et.extendedDetails.metastableRegistryId||!et.extendedDetails.metastableWhitelistedAppId)throw new Error("CreateCapPkgId or CreateCapModule or RegistryId or WhitelistedAppId or CreateCapAllTypeParams not supported");Ut=et.extendedDetails.metastableCreateCapPkgId,tr=et.extendedDetails.metastableCreateCapModule,ir=et.extendedDetails.metastableWhitelistedAppId;const sr=[jt];et.extendedDetails.metastableCreateCapAllTypeParams&&sr.push(Ft);const ur=[s.object(ir),s.object(et.id)];switch(jt){case SUPER_SUI_TYPE:{if(!et.extendedDetails.metastableRegistryId)throw new Error("Not found registry id for super sui");ur.push(s.object(et.extendedDetails.metastableRegistryId));break}case MUSD_TYPE:{if(et.extendedDetails.metastablePriceSeed!=null){const yr=this.pythPriceIDs.get(et.extendedDetails.metastablePriceSeed);if(yr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastablePriceSeed);ur.push(s.object(yr))}if(et.extendedDetails.metastableETHPriceSeed!=null){const yr=this.pythPriceIDs.get(et.extendedDetails.metastableETHPriceSeed);if(yr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastableETHPriceSeed);ur.push(s.object(yr))}ur.push(s.object(CLOCK_ADDRESS));break}case METH_TYPE:{if(et.extendedDetails.metastablePriceSeed!=null){const yr=this.pythPriceIDs.get(et.extendedDetails.metastablePriceSeed);if(yr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastablePriceSeed);ur.push(s.object(yr))}if(et.extendedDetails.metastableETHPriceSeed!=null){const yr=this.pythPriceIDs.get(et.extendedDetails.metastableETHPriceSeed);if(yr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastableETHPriceSeed);ur.push(s.object(yr))}ur.push(s.object(CLOCK_ADDRESS));break}default:throw new Error("Invalid Metacoin: "+jt)}const fr=s.moveCall({target:`${Ut}::${tr}::${Dt}`,typeArguments:sr,arguments:ur}),dr=[s.object(et.id),s.object(this.versionID),fr,nt],hr=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${hr}::metastable::${Ct}`,typeArguments:[Ft,jt],arguments:dr})})}},CETUS="CETUS",DEEPBOOKV2="DEEPBOOK",KRIYA="KRIYA",FLOWXV2="FLOWX",FLOWXV3="FLOWXV3",KRIYAV3="KRIYAV3",TURBOS="TURBOS",AFTERMATH="AFTERMATH",HAEDAL="HAEDAL",VOLO="VOLO",AFSUI="AFSUI",BLUEMOVE="BLUEMOVE",DEEPBOOKV3="DEEPBOOKV3",SCALLOP="SCALLOP",SUILEND="SUILEND",BLUEFIN="BLUEFIN",HAEDALPMM="HAEDALPMM",ALPHAFI="ALPHAFI",SPRINGSUI="SPRINGSUI",STEAMM="STEAMM",METASTABLE="METASTABLE",DEFAULT_ENDPOINT="https://api-sui.cetus.zone/router_v2";function isBuilderRouterSwapParams(a){return Array.isArray(a.routers)}function isBuilderFastRouterSwapParams(a){return Array.isArray(a.routers)}var _AggregatorClient=class Ap{constructor(s,et,nt,at){this.endpoint=s?processEndpoint(s):DEFAULT_ENDPOINT,this.client=nt||new SuiClient({url:getFullnodeUrl$1("mainnet")}),this.signer=et||"",this.env=at||0,this.allCoins=new Map;const mt=Ap.CONFIG[this.env];this.pythConnections=mt.connections,this.pythClient=new lib$3.SuiPythClient(this.client,mt.pythStateId,mt.wormholeStateId)}getCoins(s,et=!0){return __async(this,null,function*(){if(this.signer==="")throw new Error("Signer is required, but not provided.");let nt=null,at=50;if(!et){const wt=this.allCoins.get(s);if(wt)return wt}const mt=[];for(;;)try{const wt=yield this.client.getCoins({owner:this.signer,coinType:s,cursor:nt,limit:at});for(const $t of wt.data)mt.push({coinAddress:extractStructTagFromType($t.coinType).source_address,coinObjectId:$t.coinObjectId,balance:BigInt($t.balance)});if(wt.data.length<at)break;nt=wt.data[at-1].coinObjectId}catch(wt){console.error("getCoins error:",wt);break}return this.allCoins.set(s,mt),mt})}findRouters(s){return __async(this,null,function*(){return getRouterResult(this.endpoint,s)})}expectInputSwap(s,et,nt,at,mt,wt,$t,Ct){return __async(this,null,function*(){if(nt.length===0)throw new Error("No router found");const Dt=nt.map(ur=>ur.amountIn.toString()),Ft=nt[0].path[0].from,jt=nt[0].path[nt[0].path.length-1].target,Ut=s.splitCoins(et,Dt),tr=[];for(let ur=0;ur<nt.length;ur++){if(nt[ur].path.length===0)throw new Error("Empty path");let fr=Ut[ur];for(const dr of nt[ur].path)fr=yield this.newDex(dr.provider,mt,wt).swap(this,s,dr,fr,Ct,$t);tr.push(fr)}const ir=getAggregatorV2PublishedAt(this.publishedAtV2(),Ct);return this.transferOrDestoryCoin(s,et,Ft,this.publishedAtV2()),this.checkCoinThresholdAndMergeCoin(s,tr,jt,at,ir)})}expectOutputSwap(s,et,nt,at,mt){return __async(this,null,function*(){const wt=[],$t=[],Ct=[],Dt=new Cetus(this.env,at),Ft=getAggregatorV2PublishedAt(this.publishedAtV2(),mt);for(let Ut=0;Ut<nt.length;Ut++){const tr=nt[Ut];for(let sr=tr.path.length-1;sr>=0;sr--){const ur=tr.path[sr],fr=Dt.flash_swap(this,s,ur,!1);wt.unshift(fr.targetCoin),$t.unshift(fr.flashReceipt)}let ir=et;for(let sr=0;sr<tr.path.length;sr++){const ur=tr.path[sr],fr=Dt.repay_flash_swap(this,s,ur,ir,$t[sr]);ir=wt[sr],sr===0?et=fr:this.transferOrDestoryCoin(s,fr,ur.from,Ft),sr===tr.path.length-1&&Ct.push(ir)}}const jt=nt[0].path[0].from;if(this.transferOrDestoryCoin(s,et,jt,Ft),Ct.length>1){const Ut=s.makeMoveVec({elements:Ct.slice(1)});s.moveCall({target:`${SUI_FRAMEWORK_ADDRESS}::pay::join_vec`,typeArguments:[nt[0].path[nt[0].path.length-1].target],arguments:[Ct[0],Ut]})}return Ct[0]})}swapInPools(s){return __async(this,null,function*(){let et;try{et=yield swapInPools(this.client,s,this.signer,this.env)}catch(nt){return console.error("swapInPools error:",nt),null}return et})}routerSwap(s){return __async(this,null,function*(){const{routers:et,inputCoin:nt,slippage:at,txb:mt,partner:wt,deepbookv3DeepFee:$t}=s,Ct=Array.isArray(et)?et:et.routes,Dt=isBuilderRouterSwapParams(s)?s.byAmountIn:s.routers.byAmountIn,Ft=Ct.reduce((hr,vr)=>hr.add(vr.amountIn),new import_bn5.default(0)),jt=Ct.reduce((hr,vr)=>hr.add(vr.amountOut),new import_bn5.default(0)),Ut=CalculateAmountLimitBN(Dt?jt:Ft,Dt,at),tr=isBuilderRouterSwapParams(s)?void 0:s.routers.packages,ir=getAggregatorV2PublishedAt(this.publishedAtV2(),tr),sr=findPythPriceIDs(Ct),ur=sr.length>0?yield this.updatePythPriceIDs(sr,mt):new Map;if(Dt)return yield this.expectInputSwap(mt,nt,Ct,Ut,ur,wt,$t,tr);const fr=mt.splitCoins(nt,[Ut.toString()]);return this.transferOrDestoryCoin(mt,nt,Ct[0].path[0].from,ir),yield this.expectOutputSwap(mt,fr[0],Ct,wt)})}fastRouterSwap(s){return __async(this,null,function*(){const{routers:et,slippage:nt,txb:at,partner:mt,refreshAllCoins:wt,payDeepFeeAmount:$t}=s,Ct=Array.isArray(et)?et:et.routes,Dt=Ct[0].path[0].from;let Ft=yield this.getCoins(Dt,wt);const jt=Ct[0].path[Ct[0].path.length-1].target,Ut=Ct.reduce((yr,xr)=>yr.add(xr.amountIn),new import_bn5.default(0)),tr=Ct.reduce((yr,xr)=>yr.add(xr.amountOut),new import_bn5.default(0)),ir=isBuilderFastRouterSwapParams(s)?s.byAmountIn:s.routers.byAmountIn,sr=CalculateAmountLimit(ir?tr:Ut,ir,nt),fr=buildInputCoin(at,Ft,BigInt((ir?Ut:sr).toString()),Dt);let dr;if($t&&$t>0){let yr=yield this.getCoins(this.deepbookv3DeepFeeType());dr=buildInputCoin(at,yr,BigInt($t),this.deepbookv3DeepFeeType()).targetCoin}const hr=isBuilderFastRouterSwapParams(s)?{routers:Ct,inputCoin:fr.targetCoin,slippage:nt,byAmountIn:ir,txb:at,partner:mt,deepbookv3DeepFee:dr}:{routers:s.routers,inputCoin:fr.targetCoin,slippage:nt,byAmountIn:ir,txb:at,partner:mt,deepbookv3DeepFee:dr},vr=yield this.routerSwap(hr);if(CoinUtils.isSuiCoin(jt))at.mergeCoins(at.gas,[vr]);else{let yr=yield this.getCoins(jt,wt);const xr=buildInputCoin(at,yr,BigInt(0),jt),br=isBuilderFastRouterSwapParams(s)?void 0:s.routers.packages,wr=getAggregatorV2PublishedAt(this.publishedAtV2(),br);at.mergeCoins(xr.targetCoin,[vr]),xr.isMintZeroCoin&&this.transferOrDestoryCoin(at,xr.targetCoin,jt,wr)}})}publishedAtV2(){return this.env===0?"0x3864c7c59a4889fec05d1aae4bc9dba5a0e0940594b424fbed44cb3f6ac4c032":"0x52eae33adeb44de55cfb3f281d4cc9e02d976181c0952f5323648b5717b33934"}publishedAtV2Extend(){return this.env===0?"0xf57be4b9f9036034b1c5484d299d8fb68d5f43862d6afe8886d67db293dfc4bc":"0xabb6a81c8a216828e317719e06125de5bb2cb0fe8f9916ff8c023ca5be224c78"}deepbookv3DeepFeeType(){return this.env===0?"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":"0x36dbef866a1d62bf7328989a10fb2f07d769f4ee587c0de4a0a256e57e0a58a8::deep::DEEP"}transferOrDestoryCoin(s,et,nt,at){s.moveCall({target:`${at}::utils::transfer_or_destroy_coin`,typeArguments:[nt],arguments:[et]})}checkCoinThresholdAndMergeCoin(s,et,nt,at,mt){let wt=et[0];if(et.length>1){let $t=s.makeMoveVec({elements:et.slice(1)});s.moveCall({target:`${SUI_FRAMEWORK_ADDRESS}::pay::join_vec`,typeArguments:[nt],arguments:[et[0],$t]}),wt=et[0]}return s.moveCall({target:`${mt}::utils::check_coin_threshold`,typeArguments:[nt],arguments:[wt,s.pure.u64(at.toString())]}),wt}newDex(s,et,nt){switch(s){case CETUS:return new Cetus(this.env,nt);case DEEPBOOKV2:return new DeepbookV2(this.env);case DEEPBOOKV3:return new DeepbookV3(this.env);case KRIYA:return new KriyaV2(this.env);case KRIYAV3:return new KriyaV3(this.env);case FLOWXV2:return new FlowxV2(this.env);case FLOWXV3:return new FlowxV3(this.env);case TURBOS:return new Turbos(this.env);case AFTERMATH:return new Aftermath(this.env);case HAEDAL:return new Haedal(this.env);case AFSUI:return new Afsui(this.env);case VOLO:return new Volo(this.env);case BLUEMOVE:return new Bluemove(this.env);case SCALLOP:return new Scallop(this.env);case SUILEND:return new Suilend(this.env);case SPRINGSUI:return new Suilend(this.env);case BLUEFIN:return new Bluefin(this.env);case HAEDALPMM:return new HaedalPmm(this.env,et);case ALPHAFI:return new Alphafi(this.env);case STEAMM:return new Steamm(this.env);case METASTABLE:return new Metastable(this.env,et);default:throw new Error(`Unsupported dex ${s}`)}}signAndExecuteTransaction(s,et){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:s,signer:et,options:{showEffects:!0,showEvents:!0,showInput:!0,showBalanceChanges:!0}})})}devInspectTransactionBlock(s){return __async(this,null,function*(){return yield this.client.devInspectTransactionBlock({transactionBlock:s,sender:this.signer})})}sendTransaction(s,et){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:s,signer:et})})}getDeepbookV3Config(){return __async(this,null,function*(){const s=yield getDeepbookV3Config(this.endpoint);return s?s.data:null})}updatePythPriceIDs(s,et){return __async(this,null,function*(){let nt=null,at=null;for(const $t of this.pythConnections)try{nt=yield $t.getPriceFeedsUpdateData(s);break}catch(Ct){at=Ct,console.log("Error: ",Ct);continue}if(nt==null)throw new Error(`No pyth price seeds update data found: ${at==null?void 0:at.message}`);let mt=[];try{mt=yield this.pythClient.updatePriceFeeds(et,nt,s)}catch($t){throw new Error(`Failed to update price feeds: ${$t}`)}let wt=new Map;for(let $t=0;$t<s.length;$t++)wt.set(s[$t],mt[$t]);return wt})}};_AggregatorClient.CONFIG={1:{connections:[new lib$3.SuiPriceServiceConnection("https://hermes-beta.pyth.network")],wormholeStateId:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",pythStateId:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c"},0:{connections:[new lib$3.SuiPriceServiceConnection("https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com/219cf7a8-6d75-432d-a648-d487a6dd5dc3/hermes",{timeout:3e3}),new lib$3.SuiPriceServiceConnection("https://hermes.pyth.network",{timeout:3e3})],wormholeStateId:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pythStateId:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}};var AggregatorClient21=_AggregatorClient;function findPythPriceIDs(a){const s=new Set;for(const et of a)for(const nt of et.path)nt.provider===HAEDALPMM&&nt.extendedDetails&&nt.extendedDetails.haedalPmmBasePriceSeed&&nt.extendedDetails.haedalPmmQuotePriceSeed&&(s.add(nt.extendedDetails.haedalPmmBasePriceSeed),s.add(nt.extendedDetails.haedalPmmQuotePriceSeed)),nt.provider===METASTABLE&&(nt.extendedDetails&&nt.extendedDetails.metastablePriceSeed&&s.add(nt.extendedDetails.metastablePriceSeed),nt.extendedDetails&&nt.extendedDetails.metastableETHPriceSeed&&s.add(nt.extendedDetails.metastableETHPriceSeed));return Array.from(s)}function parseRouterResponse(a,s){let et=0;for(const mt of a.routes)for(const wt of mt.path)wt.extended_details&&wt.extended_details.deepbookv3_deep_fee&&(et+=Number(wt.extended_details.deepbookv3_deep_fee));let nt;if(a.packages!=null){nt=new Map;for(const[mt,wt]of Object.entries(a.packages))nt.set(mt,wt)}return{amountIn:new import_bn5.default(a.amount_in.toString()),amountOut:new import_bn5.default(a.amount_out.toString()),byAmountIn:s,insufficientLiquidity:!1,routes:a.routes.map(mt=>({path:mt.path.map(wt=>{var $t,Ct,Dt,Ft,jt,Ut,tr,ir,sr,ur,fr,dr,hr,vr,yr,xr,br,wr,Sr,Cr,cr;let Nt;wt.provider===AFTERMATH&&(Nt=wt.extended_details.aftermath_pool_flatness===0?"v2":"v3");let Vt;return(wt.provider===TURBOS||wt.provider===AFTERMATH||wt.provider===CETUS||wt.provider===DEEPBOOKV3||wt.provider===SCALLOP||wt.provider===HAEDALPMM||wt.provider===STEAMM||wt.provider===METASTABLE)&&(Vt={aftermathLpSupplyType:($t=wt.extended_details)==null?void 0:$t.aftermath_lp_supply_type,turbosFeeType:(Ct=wt.extended_details)==null?void 0:Ct.turbos_fee_type,afterSqrtPrice:(Dt=wt.extended_details)==null?void 0:Dt.after_sqrt_price,deepbookv3DeepFee:(Ft=wt.extended_details)==null?void 0:Ft.deepbookv3_deep_fee,scallopScoinTreasury:(jt=wt.extended_details)==null?void 0:jt.scallop_scoin_treasury,haedalPmmBasePriceSeed:(Ut=wt.extended_details)==null?void 0:Ut.haedal_pmm_base_price_seed,haedalPmmQuotePriceSeed:(tr=wt.extended_details)==null?void 0:tr.haedal_pmm_quote_price_seed,steammBankA:(ir=wt.extended_details)==null?void 0:ir.steamm_bank_a,steammBankB:(sr=wt.extended_details)==null?void 0:sr.steamm_bank_b,steammLendingMarket:(ur=wt.extended_details)==null?void 0:ur.steamm_lending_market,steammLendingMarketType:(fr=wt.extended_details)==null?void 0:fr.steamm_lending_market_type,steammBCoinAType:(dr=wt.extended_details)==null?void 0:dr.steamm_btoken_a_type,steammBCoinBType:(hr=wt.extended_details)==null?void 0:hr.steamm_btoken_b_type,steammLPToken:(vr=wt.extended_details)==null?void 0:vr.steamm_lp_token_type,metastablePriceSeed:(yr=wt.extended_details)==null?void 0:yr.metastable_price_seed,metastableETHPriceSeed:(xr=wt.extended_details)==null?void 0:xr.metastable_eth_price_seed,metastableWhitelistedAppId:(br=wt.extended_details)==null?void 0:br.metastable_whitelisted_app_id,metastableCreateCapPkgId:(wr=wt.extended_details)==null?void 0:wr.metastable_create_cap_pkg_id,metastableCreateCapModule:(Sr=wt.extended_details)==null?void 0:Sr.metastable_create_cap_module,metastableCreateCapAllTypeParams:(Cr=wt.extended_details)==null?void 0:Cr.metastable_create_cap_all_type_params,metastableRegistryId:(cr=wt.extended_details)==null?void 0:cr.metastable_registry_id}),{id:wt.id,direction:wt.direction,provider:wt.provider,from:wt.from,target:wt.target,feeRate:wt.fee_rate,amountIn:wt.amount_in,amountOut:wt.amount_out,extendedDetails:Vt,version:Nt}}),amountIn:new import_bn5.default(mt.amount_in.toString()),amountOut:new import_bn5.default(mt.amount_out.toString()),initialPrice:new decimal_default(mt.initial_price.toString())})),totalDeepFee:et,packages:nt}}var CLOCK_ADDRESS=SUI_CLOCK_OBJECT_ID,AGGREGATOR_V2="aggregator_v2",AGGREGATOR_V2_EXTEND="aggregator_v2_extend";function getAggregatorV2PublishedAt(a,s){var et;return s instanceof Map&&(et=s.get(AGGREGATOR_V2))!=null?et:a}function getAggregatorV2ExtendPublishedAt(a,s){var et;return s instanceof Map&&(et=s.get(AGGREGATOR_V2_EXTEND))!=null?et:a}__toESM(require_bn());var dealWithFastRouterSwapParamsForMsafe=a=>{var s,et,nt;return __spreadProps$1(__spreadValues$2({},a),{amountIn:(s=a==null?void 0:a.amountIn)==null?void 0:s.toString(),amountOut:(et=a==null?void 0:a.amountIn)==null?void 0:et.toString(),routes:(nt=a==null?void 0:a.routes)==null?void 0:nt.map(mt=>{var wt,$t,Ct;return __spreadProps$1(__spreadValues$2({},mt),{amountIn:(wt=mt==null?void 0:mt.amountIn)==null?void 0:wt.toString(),amountOut:($t=mt==null?void 0:mt.amountOut)==null?void 0:$t.toString(),initialPrice:(Ct=mt==null?void 0:mt.initialPrice)==null?void 0:Ct.toString()})})})};function processEndpoint(a){return a.endsWith("/find_routes")?a.replace("/find_routes",""):a}var SDK_VERSION=1000332;function getRouterResult(a,s){return __async(this,null,function*(){let et;if(s.liquidityChanges&&s.liquidityChanges.length>0?et=yield postRouterWithLiquidityChanges(a,s):et=yield getRouter(a,s),!et)return null;if(!et.ok){let mt=10001;return et.status===429&&(mt=10005),{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:s.byAmountIn,insufficientLiquidity:!1,error:{code:mt,msg:getAggregatorServerErrorMessage(mt)}}}const nt=yield et.json(),at=nt.msg==="liquidity is not enough";return nt.msg&&nt.msg.indexOf("HoneyPot scam")>-1?{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:s.byAmountIn,insufficientLiquidity:at,error:{code:10004,msg:getAggregatorServerErrorMessage(10004)}}:nt.data!=null?parseRouterResponse(nt.data,s.byAmountIn):{amountIn:ZERO,amountOut:ZERO,routes:[],insufficientLiquidity:at,byAmountIn:s.byAmountIn,error:{code:10003,msg:getAggregatorServerErrorMessage(10003)}}})}function getRouter(a,s){return __async(this,null,function*(){try{const{from:et,target:nt,amount:at,byAmountIn:mt,depth:wt,splitAlgorithm:$t,splitFactor:Ct,splitCount:Dt,providers:Ft}=s,jt=completionCoin(et),Ut=completionCoin(nt);let tr=`${a}/find_routes?from=${jt}&target=${Ut}&amount=${at.toString()}&by_amount_in=${mt}`;return wt&&(tr+=`&depth=${wt}`),$t&&(tr+=`&split_algorithm=${$t}`),Ct&&(tr+=`&split_factor=${Ct}`),Dt&&(tr+=`&split_count=${Dt}`),Ft&&Ft.length>0&&(tr+=`&providers=${Ft.join(",")}`),tr+=`&v=${SDK_VERSION}`,yield fetch(tr)}catch(et){return console.error(et),null}})}function postRouterWithLiquidityChanges(a,s){return __async(this,null,function*(){const{from:et,target:nt,amount:at,byAmountIn:mt,depth:wt,splitAlgorithm:$t,splitFactor:Ct,splitCount:Dt,providers:Ft,liquidityChanges:jt}=s,Ut=completionCoin(et),tr=completionCoin(nt),ir=`${a}/find_routes`,sr=Ft==null?void 0:Ft.join(","),ur={from:Ut,target:tr,amount:Number(at.toString()),by_amount_in:mt,depth:wt,split_algorithm:$t,split_factor:Ct,split_count:Dt,providers:sr,liquidity_changes:jt.map(fr=>({pool:fr.poolID,tick_lower:fr.ticklower,tick_upper:fr.tickUpper,delta_liquidity:fr.deltaLiquidity})),v:SDK_VERSION};try{return yield fetch(ir,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ur)})}catch(fr){return console.error("Error:",fr),null}})}function getDeepbookV3Config(a){return __async(this,null,function*(){const s=`${a}/deepbookv3_config`;try{return(yield fetch(s)).json()}catch(et){return console.error("Error:",et),null}})}var Env=(a=>(a[a.Mainnet=0]="Mainnet",a[a.Testnet=1]="Testnet",a))(Env||{});const vaultsConfigMainnet={...baseConfigMainnet,vaults:{package_id:"0xd3453d9be7e35efe222f78a810bb3af1859fd1600926afced8b4936d825c9a05",published_at:"0x1ed1fef522ccea98a4fbd954543d5019238ec89282fbdea9a753e0a17e96fc28",config:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d",published_at:"0xaabf0856070391df81fad9240049d69c5a51c3d376cc0885eeedd516526cc79b",version:1,config:{staking_id:"0x47b224762220393057ebf4f70501b6e657c3e56684737568439a04f80849b2ca",coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI"}},volo:{package_id:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",published_at:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",version:1,config:{native_pool:"0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",vsui_metadata:"0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60",coin_type:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT"}},aftermath:{package_id:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",published_at:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",version:1,config:{staked_sui_vault:"0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",referral_vault:"0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",safe:"0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",validator_address:"0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2",coin_type:"0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI"}}}},frams:peripheryConfigMainnet.frams,aggregator:{endPoint:clmmConfigMainnet.aggregatorUrl+"/find_routes",fullNodeurl:clmmConfigMainnet.fullRpcUrl,walletAddress:clmmConfigMainnet.simulationAccount.address,env:Env.Mainnet},clmm_pool:clmmConfigMainnet.clmm_pool,integrate:clmmConfigMainnet.integrate},xCetusConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"}},baseConfigTestnet={fullRpcUrl:"https://sui-testnet-endpoint.blockvision.org",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigTestnet={...baseConfigTestnet,cetus_config:{package_id:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",published_at:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",version:void 0,config:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}},clmm_pool:{package_id:"0x0c7ae833c220aa73a3643a0d508afa4ac5d50d97312ea4584e35f9eb21b9df12",published_at:"0x85e61285a10efc6602ab00df70a0c06357c384ef4c5633ecf73016df1500c704",version:0,config:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",admin_cap_id:"0xd0accadc3d0b27f0cfaebe8e546968ac7874b9a9f5964669b4c9a7e1dcf80a28",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea"}},integrate:{package_id:"0x2918cf39850de6d5d94d8196dc878c8c722cd79db659318e00bff57fbb4e2ede",published_at:"0x19dd42e05fa6c9988a60d30686ee3feb776672b5547e328d6dab16563da65293",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:"https://api-sui.devcetus.com/router_v2"},burnConfigTestnet={...baseConfigTestnet,burn:{package_id:"0x3b494006831b046481c8046910106e2dfbe0d1fa9bc01e41783fb3ff6534ed3a",published_at:"0xaf89f8215c5b07eaac8b77c7745ce62f94cb76ef4bcb854e283f644c519ef43e",manager_id:"0xd04529ef15b7dad6699ee905daca0698858cab49724b2b2a1fc6b1ebc5e474ef",clmm_global_config:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",clmm_global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",burn_pool_handle:"0x20262dac8853ab8f63c98e0b17bfb1c758efc33d0092ac3c5f204dfb7ba81ac5"}},peripheryConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"},limit_order:{package_id:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",published_at:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",config:{rate_orders_indexer_id:"0xeaa7dc3a4b70c14b434aed2cef0bdd272a781c630ea3c54c25fa53c72fb3cf96",rate_orders_indexer_handle:"0x62eea7ce7be125e6b43fac6158d0ac8a6b0f263446d4631ad5a3629d82fef2ed",global_config_id:"0xd4d98f126233057b3a01f17adfb5bc77d7bdb0332fe982ab44c6c7a2f66443dc",token_list_handle:"0x81233cdf2165f013a57c3ab180b079e0f411483ba7f80dd6fbcb74426d2045f9",user_orders_indexer_id:"0x18ff28ae25ea50c703a0dfcc49653cc7dd7035207e26c8f86fa9e4aea49037d0",user_orders_indexer_handle:"0xbe3301b85fb0fc99deacb68c31d971837ae23a65c38680cf79a6b8562518b4c7"}},frams:{package_id:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",published_at:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",config:{global_config_id:"0x499132a4baf342a0fe9528a3666a77b2aece3be129f4a3ada469fef4b9c34fb4",rewarder_manager_id:"0x960c7800e301fd1e47b79037927b426db57b643bd2934f7069d81c2dae092230",rewarder_manager_handle:"0x1274149371876b60742cd02071a09f2aa72ffee75b76fdfc45724d98f18ea5b5",admin_cap_id:"0x110175e641c1ea8f9287f4fd59cb6a1fb97a3f3ec595aa30d0e6ed93ac4caa0c"}},dca:{package_id:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",published_at:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",config:{admin_cap_id:"0xf54334a5cf41874d151cc610f7575f2b9ca8aab32103be3ed87f07f73388dcf2",global_config_id:"0xdac150723df0b51c1407ea942036d7f9d4e3b064ff35a4136dd31ffb397497e0",indexer_id:"0xacd0ab94883a8785c5258388618b6252f0c2e9384b23f91fc23f6c8ef44d445c",user_indexer_id:"0xc4ca05342746468383922650a3137bd3efc49d4c7a37431ed11a94c08dbfb677",in_coin_whitelist_id:"0xe72cdb8a0777bbcb5105b7045b90f5fdc8c7b946d48fd4cec0607d201a45a9b7",out_coin_whitelist_id:"0xbe67538ca0e4683fef704b374d034f5a4f79cdc756ea47cec82df55b37d4ff0a"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:"::afsui::AFSUI"}}}}},TestnetTokens={SUI:{decimals:9,name:"Sui",symbol:"SUI",description:"",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",id:"0x587c29de216efd4219573e08a1f6964d4fa7cb714518c2c8a0f29abfa264327d",coin_type:"0x2::sui::SUI",is_trusted:!0},CETUS:{decimals:9,name:"Cetus Token",symbol:"CETUS",description:"CETUS is the native token of Cetus Protocol.",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",id:"0xf5dd74cd76c4bb4b0c6ac1b1388982a64f2cd089278d453e2067038fe50cbc1d",coin_type:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7::cetus::CETUS",is_trusted:!0},xCETUS:{coin_type:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0}},TestnetCreatePoolQuoteTokens=["0x2::sui::SUI","0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::cetus::CETUS"],vaultsConfigTestnet={...baseConfigTestnet,vaults:{package_id:"",published_at:""},frams:peripheryConfigTestnet.frams,aggregator:{endPoint:clmmConfigTestnet.aggregatorUrl,fullNodeurl:clmmConfigTestnet.fullRpcUrl,walletAddress:clmmConfigTestnet.simulationAccount.address,env:Env.Mainnet},clmm_pool:clmmConfigTestnet.clmm_pool,integrate:clmmConfigTestnet.integrate},xCetusConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"}},envConfigs={mainnet:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:apiUrl||"https://api-sui.cetus.zone",notifi_api:"https://api.notifi.network/gql",clmm_sdk_options:clmmConfigMainnet,periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens},pre:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:"https://api-sui-cloudfront.cetus.zone",notifi_api:"https://api.notifi.network/gql",clmm_sdk_options:{...clmmConfigMainnet,aggregatorUrl:"https://api-sui-cloudfront.cetus.zone/router_v2"},periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens},testnet:{env:"testnet",cetus_clmm_site:"https://cetus-cmm-app-testnet.netlify.app",cetus_api:"https://api-sui.devcetus.com",notifi_api:"https://api.notifi.network/gql",clmm_sdk_options:clmmConfigTestnet,periphery_sdk_options:peripheryConfigTestnet,burn_sdk_options:burnConfigTestnet,sui_coin:TestnetTokens.SUI,cetus_coin:TestnetTokens.CETUS,clmm_swap:{from_coin:TestnetTokens.CETUS,to_coin:TestnetTokens.SUI},vaults_sdk_options:vaultsConfigTestnet,xcetus_sdk_options:xCetusConfigTestnet,x_cetus_coin:TestnetTokens.xCETUS,create_pool_quote_coin_list:TestnetCreatePoolQuoteTokens}},envConfigs$1=envConfigs[APP_ENV];function useGetTokenSource(){const{trustedTokenList:a,importTokenList:s,liquidityTrustTokenList:et}=useTokenSelectStore();return{getTokenSource:wt=>{console.log("🚀🚀🚀 ~ file: useGetTokenSource.ts:8 ~ getTokenSource ~ tokensInfo:",wt);const $t=[],Ct=new Set([...a.map(Dt=>Dt.coin_type),...s.map(Dt=>Dt.coin_type)]);console.log("🚀 ~ getTokenSource ~ tokenTypesSet:",Ct);for(const Dt of wt)Ct.has(suiAddressLongToShort(add0x(Dt.coin_type)))||$t.push(Dt);return $t},getTrustTokenSource:wt=>{const $t=[],Ct=new Set([...a.map(Dt=>Dt.coin_type),...s.map(Dt=>Dt.coin_type),...et.map(Dt=>Dt.coin_type)]);for(const Dt of wt)Ct.has(suiAddressLongToShort(add0x(Dt.coin_type||(Dt==null?void 0:Dt.address)||"")))||$t.push(Dt);return $t},getShowCoinTag:wt=>{if(console.log(wt,"getShowCoinTag"),fixCoinType(wt)===fixCoinType(envConfigs$1.x_cetus_coin.coin_type))return!1;const $t=Array.from(new Set([...a.map(Ct=>Ct.coin_type),...s.map(Ct=>Ct.coin_type)]));return!(($t==null?void 0:$t.length)>0&&($t!=null&&$t.includes(suiAddressLongToShort(add0x(wt)))))}}}const IconTipsTriangle="/images/token-warning@2x.png",placeholderImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAQcklEQVR4Ac07C3BUVZb33vfp7nQSgiEhYYYgESEj40oZjERH/MxAnFEGQQYUZILRGix1y3V3q3bZqd2trZpZqram1rJ2tMZZiUGFAURQ4romiALjmlkFB2eGEVyMEAQSEiSQ9O+9fvfuOfe923Q66aQ7dDS3q/vcd9+553fPOffzXlMyxqX4hc1Vls9p4Iao5nm8Mp5HSoSfmsIUGjcJRfbMIoJa1CFRbhlh2k3CrJ3F6EG/rTWee3DlkbEUUQqQawYTX3ppVTxInoxN4rPjVxAfAf0kDwG/WEM4RKGUEiEEQYgF0ITxJY2ZPfSwHiJPnV+9etMQ3S6rKWcGmPTcq+XWxOhzVhlfGJ8oQGkoSlnFJcUAAlSk8EHoort1bPMaXGN5lzoao5O1muf9a3vW3nvGRbq8XyXaqKlMebG5IpTXtzF6JZ/PfYINSyjFADDUoCA0eiN+SVvXINIuKKF3qQzKLMr9x9n+YLig/vSPF3UMy3OEm6M2ALgqLd6y5fnwVXyNCJChFZcKU2GcoyGtlx6FuD7MYuQDjemHhNC7mLggR5HTCeWUxic7JD6HG6QGDDmbTxSzrCtEELRPKyOLEB74jDWdu+++hyFslJlGUHng7bTEB6INvPrGC6/O65tmt1iTeKGKWxfDGy7OhL+Tduq9ZLMZ9j19uuGekwMpZHY1pfG1qVZe7Il4EV8ZLSNlYGZgIK3qEXDrZje5GOgw67oevPd3mVG+hJW1AUpf3vpI+GrxjAOj7qmrIpZQhwr/CdbG+sz67tWLj11ic/m1kpden8ELrI2RabyWaIO9QkNv+D/9sbMPLPtVNtyyMsDkra809s8iawjjXj9lAhjxk+TTYLdY1bFm+cFsBMgWt6JpW3WomG6KVpCZhCg5XCqUMBE8Qpq6VvyoIVO6GRmg+oAwvji9sy00zalWKrsMBPF1sW69kzzU9eNlzZkyzQXelM2vLbImORtik3mJoqeCw39CO1gxZUntwbnUVvfSwRENgMp39OzoiJWJsgFZG5JO8BjdfWbpkrp0xL+K9sk7drZEruILYDZxZ0/PCj7IQRXFSytGMsLQ2TtJ8tOnX2+zy2kZo5CBgAdCZjNR8Alb/3Urj2J2wQAUHNHWs7gGczBmSfxlxC6jZadA9iRVhqwOa4CpW3c1RqeRalRcKg+E9X5m5x81lp1acc9Ph6T4NTSiLPlH2TI9BEMDJlDyxipI9dStzY3DiZQ2BK78TfMjfVXiWYHUvKKHme1v1+Z0PPCDP6u28QQrXn7zmmilcyieB6sJKFJwUAA85NHj99815OwwpAfM2PLmvHCleAbmeHR86VK6o4n8z/X7xqvyqDDKhjKirDIc0HOhhKc7z6BOiJNaBhkAV3jhUtEiTMZcV5ImEAXt+vr2Vd/fkUpgvF2jjCgrGEAagaED+xiTOmGiTCmDGiq3v7khdBVpkHjeOj3vBG39/J7v5yTbz9y2pyZO4/cIH68RGisV1PEJjerUZr3MEqepTd+JGUUvnlp647kUWbO6nL7rv1vC3+QLZRzgzAAl2E4b25f94CH3yv0dYICq37Rd2VfZ+5ljgNdjQeP10O4TC+4sddFH94tTae/J1v+0J4il9kRRgHbFkroXSuyLOBG+bnbcd8H4+6Mr7tjmYmf/O233W2djk0SJUpLGCJ/YUTD98PLvdChqA0IgHux/QRiUuRMJ/moi0E0HWEx1zBRevW33yp7w7guRaaTeLiIFFBwTJ2z5wRjFD0L4qqkWJKDWZDK972p7y1Vv7P4thmWm/JLxUHYIBJnHZS6HsI75IxuTcRKEv/Xq/vL+qdEvhA7B42H4z7Kjn935varkDtnUZ2/f+9cXKuxfEH1oBbw1S2K3m0obhUOcwBn6x2N3LfiL1PuZXF/91ttHwiV8lsJlccLzv/B/85N755/BtoQHCM1+juhgepnzYfS5JvIuslWqY7Zw1ta9t/dNc35BNfR0dy7BnS3W5Q4XR9yrJzzOa8PEJZOXB2EneO23tu/5WbYyIL4fdGACZgVcwCE/g8El6OqVhAGsK8hC5YoI8zq1tj8uv2NUGxt0WV4qXgd+lKEFgB5+UQAFk+uJ+x4u9pFf7IF1+MRK2d8oobOBqAPqInl44WaDroqGNMC1r7y3igeZLyEc7OeDjlmvkLKF1726/x/sQoz3S/GtaCPUYESCZ/S2CZ/7/nLSZ+bcwuPaT/292peEo0uC4wNMrmMbDwr/ddvfW56tLIjvt7QHkSfSQWM6Qeq79pV90rt1RIDT2ielc4KzYsz5e1nnR4tvGvV+PjaBPCGVl2kes72XaoA4A+MWHGf1Hy+/5SXk7RX0tH+dtWffWasIsrbKTIAv6ygUFJg6lwDIelb4eOktn1a17uu0ilm5O9OAQfPok0Brk/SAeFDMxpjDDI3QF9ZfRoajKTVv/2+xU0QnSWvLpQjGM9JF21OS36ntTFE+wSZw3vgXxFOeI3uAPAjx42gkkcwSnTKs+EJsM+YepIPQBp2xK6vefqDKKdB8ig06qBHW/yNDuoPQ7Ivxh3HIL9FT4sOkaml81qKb07qxYeu70BM176PqCGVd6P2DGGbYYEZ9T+O0rsKAg86oOxOG1QCjLnMk+r+vn4U+vL/mZIZ0B6E5wfxfFp7QH8w/pW0PnGPHjQizlQK+C/TYKxQegKQpIo/f7I4QIKD7w0gpKHMHZ6fSdB2xGXUy+2kIB0Z6GAdgOA260Fk1k5GPvAQxI9rREakNg/CHuutCcLvJ+0rM2uYDVZbD7xe287FsSPNj+cXPpHAw3ljQj2BGkRCMKLSY9m9pumbUjLo5QQ6nWi59WPNU67DyqyTczTJyrozTP2VELQuktkVz8fHWPw/XZe6uD/89VMwrKYehUVkQvQCFBeg/T08eWHbD74ejMdI9nWuHIQNUKzyui0omfLRERSlaH7aSHyqErwreuPPAP0ZK+V8BfxmK0k1lunIj1rA1J9hv/PBy5dFs9gHqqkKSmFqJDkskHzapAiIcUvWvAtb810cbw6V8NSjtPtrA0XcdUoYkCCzyusnj7y29ftjwyURWqZsAD1PIBjV1ouHy1ysQb36f2aUuxxLiarHmrY/ejxTzeaiwikulPPLW4owHv6SPv7/4+iFPc7KVD3ULEczBrsaCMU2nGuiPqwNsBuubNC43CbJhDH/mtfz+gFVMr8cHWirmVcJDqEdppKBPq9t393W/zZUYqFtykoVzCKpj4kOGsiiYK45p6Nz8xh/+KTTRcZXH0fDYq4QX6NU+KY36bty1uKovDYlRN8NaAAzudsddtq7B4yzHSwIogBXVy+H2qJfBmUhm5Yu/w5GQkqDRPYnAE/D8YdP/3HXt6kzoZIuDulEShwnV7QkPuCAK4hT0dz/SPQxtcraEs8G/tfmTRTzA8uQuD4yQgFDP+5K1jJXyKCMF3dwlPww18NMc5jDmUAsb5VeGA5+TjUJZ4zJxp4x7GAU5JXnQtDWrvG723VnTy6KDcPgceeokp0IIhjixdCPOuh2Bz+HBQvDljN6QBc2sUSHpTlErT+yssr8ZoYeGWyZnzWiIDtSgNW4SdG/qFu1msPBp12Dk8St3gxr99hB9c9hE8y+FnAo95K3hEnpMC+yEZrte5+qqC61d17h2kApxB3LG0eAmHfWWMxPpNc4+CPSTShcXfQ4zEmRjTrN+uSETfsk43NRmUbkQcqcBqfvC5s+r+kvif5ZPVyU2FfkX6bTWuhmj3hEmMx0v9YUtx6b2F/ATcpTdmUfk9xjXsNZF04+YMRZTbgnOAZMRe2K8CJ4rOVAn1E3paVoshrrLIzHDZocdgyd2SY5JVgLjv80Vc0Xn7uaeb0Ty+xJr+ksB4GIELO3h5rqK1xR+LiHqJDdZEHH4cp5hk8NIH3aHcAji6E956UhOTXaAlv3w3ZMz8F4uC2fRYNwniuM+Ir+2V0eIXzgLxUVYzgvqYvnhHQdQ3D0Wg2M/x3wKGUkDvFE3dZNhURkGOE3gCVGc8425lqQACMqZBgRBYSQvD8qFiStOrtkSC3RJuD8EAaw5YqgzMpIGwIrfYq3JAsX8tPaultOJsECcyy4+d/GT7sEIYdpls0glgDrYAVarpj+EvhhtVXgJA5j+wFo4O4fXrnBssBmSoc6llRRyLiCuAlUiSoW5oJ9KQ+qAp2rg2cgbpmFu8sBahZcwwI75JWf8UbbftZTrnpaPzry35dQihXz50Jd40qP4KIgCqofSl8/HpYCyW342UxkaBxZ13HFnSWLLnzAAdvH7J9aDD3DVAb0garINuRII0q2Me3c0UBzwNsw53ifXISBlT4w+GJhrHHVM1sddEiW1LNl9dkPY7zRgEwSBPCvIg/yw87uT65LQRl39kRBpAz2Xe4Ele7paIj6ReAaIAgcirHHngtKHkoUfZAA8qlq8r7vX1gS8BwyzBsQNPOEUeRG2fvv3Jo2bN8OSlUitL3u75+chP193aXULD4UdevH1W0uKcJmXjD8gBPAGIgRsrQ4e6cN7GuieYAU4R4yYfN2Kd3qWJncej3WUMWqKdTiVQyaTwQWvFnPUKVV5lH+QAbBx64Li3wUd/TGNum9byVgFN4jpbMuqt/uuQZzxWFA2lBFHEZWXD9YpE/mO+RjqNJTMQxoAEbfcfsWvIPabXC9w05QD/2CJmM6h8egJK945vzRsxA/BatJQSRZlRx223F6U9lR5UA5ItdLydy8ciGnePgGxMSdAbsxztPWbbyscFzlh5d6LPw8zZx2Kliw//IHl4LZbJ8xNbkutp/UAhVh0W2Gtj7NOdClpWeQB8RXWxLqVe/taFN7XBVEGlAWHRYYqyIfQz7XOovmFtSPJNcBi6ZB/IoTRv7+/LUrEwKUxuILBRXfAMR9q+q6/OV3/sWhfs+fioohGNsCj5xJFHyMfj/gDVDsYvCWv9tc0B6/LK+IIH9jb3xhjdA3HA3VZcEYBzwC+JiefGpyu2nhHcFTvFbn0Rv6tfydU7TC6KcbETJyyB/TA0OS06cXbgg0D2oe5GEhgGER1a827oUcijDwjX+fBcPCOtLz7wk9oW4Hhr3/2JprTZwuPvi9m9NmRjVFCwK09xV37SxEglnlAkMeabg+mTXhKh2SYtQGw88PvWfMijtNiC1KYbADwBLlwwreMDSE6dUI3BwK+p5+toaM6Xnv0AzE1EoE/TRGyEly9LHXE0d3R7eFU52JA0+qe/4455FSXrHBqfVQGQCIoTMN+6/kYERASQ68nJDNYWIEhQhoRR+H57580h3zo9xuHoE9XXpDITUk4RMpjlEymUXsOvAd0A4TYtx1CZ8UJHNenunmSBvBUk8PuoqlxvvnV/m0uSQbyxGFR0X8uvjFGyHzO4eB5mKJGDKEsKRGEM436N+lQZJTHg4fhHwL2Fxbr9U/Pph1D4WbaNmoPSGXwk/2inAvnOYuLhfAA2of3lcCeuoMzhooZhLIDYKo2t2XArw7vSxqEtsLjtLW/nk+l9wxAGMVFzgyQzPvRNrHKtvmTNiezwZV96dx4JAPBcgPCR8R0Sg6bJnvq2Vqa+wOaZMHHov74+6LKiZMGSGTVEPeV4P0lkMNNgBrMJHIAIG7gRRV4c0EQS6OkG1rbIbEd1HTS+Mub6JGxkEvR/H/1GixGG+ou8QAAAABJRU5ErkJggg==";function SingleCoinImage(a){const{coinType:s,variant:et,imageUrl:nt,w:at,h:mt,p:wt,showTag:$t=!1,showTagWidth:Ct,showTagHeight:Dt,borderColor:Ft,imageStyle:jt={},imgBoxStyle:Ut={},...tr}=a,ir=reactExports.useMemo(()=>{const hr={default:{box:{border:"none",w:at||"32px",h:mt||"32px"}},border:{box:{bg:"checked_bg",border:"1px",borderColor:Ft||"border",borderRadius:"100%",w:at||"46px",h:at||"46px",p:wt||"5px"}}};return et?hr[et]:hr.default},[et,at,Ft,wt]),{getShowCoinTag:sr}=useGetTokenSource(),{trustedTokenList:ur,importTokenList:fr}=useTokenSelectStore(),dr=reactExports.useMemo(()=>s&&(ur==null?void 0:ur.length)>0?sr(s):!1,[s,ur,fr]);return jsxRuntimeExports.jsxs(Flex,{display:"flex",position:"relative",children:[jsxRuntimeExports.jsx(Center,{...ir.box,...Ut,...tr,children:jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:nt,fallbackSrc:placeholderImg,borderRadius:"100%",w:"100%",h:"100%",...jt,minW:jt.w||"unset",minH:jt.h||"unset"})}),dr&&jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:IconTipsTriangle,fallbackSrc:placeholderImg,w:Ct||"16px",h:Dt||"16px",right:et==="border"?"1px":"-3px",style:{position:"absolute",bottom:"0px"}})]})}function CoinPairImage(a){const{coinAIconUrl:s,coinBIconUrl:et,coinACoinType:nt,coinBCoinType:at,ml:mt,showATag:wt,showBTag:$t,...Ct}=a;return jsxRuntimeExports.jsxs(HStack,{gap:"0px",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:s,...Ct,showTag:wt,coinType:nt}),jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et,...Ct,ml:mt||"0px",showTag:$t,coinType:at})]})}const formatCurrency=a=>{try{return a.startsWith("-")?`-$${a.slice(1)}`:`$${a}`}catch(s){return console.log("🚀 ~ formatCurrency ~ error:",s),"$--"}};function Comma({value:a,currency:s}){const et=(s?formatCurrency(a+""):a)+"",nt=(et+"").indexOf("$"),at=nt>-1?(addComma(et.slice(nt+1))+"").split(","):(addComma(et)+"").split(","),mt=at.length;return jsxRuntimeExports.jsxs(Box,{as:"span",children:[nt>-1&&et.slice(0,nt+1),at.map((wt,$t)=>jsxRuntimeExports.jsxs(Box,{as:"span",children:[wt,$t<mt-1&&jsxRuntimeExports.jsx(Box,{as:"span",className:"delimiter",children:","})]},`${wt}-${$t}`))]})}const store$a=(a,s)=>({currentCrypto:"",setCurrentCrypto:et=>{a(()=>({currentCrypto:et}))},isShowAlchemyCrypto:!1,setIsShowAlchemyCrypto:et=>{a(()=>({isShowAlchemyCrypto:et}))},isShowKodoCrypto:!1,setIsShowKodoCrypto:et=>{a(()=>({isShowKodoCrypto:et}))}}),useCryptoStore=create$3(store$a),store$9=(a,s)=>({globalLoading:!0,setGlobalLoading:et=>{a(()=>({globalLoading:et}))},isScrollTop:!1,setIsScrollTop:et=>{a(()=>({isScrollTop:et}))}});create$3(store$9);const store$8=(a,s)=>({notifiAlerts:[],setNotifiAlerts:et=>{a(()=>({notifiAlerts:et}))},notifiSourceGroups:[],setNotifiSourceGroups:et=>{a(()=>({notifiSourceGroups:et}))},notifiSources:[],setNotifiSources:et=>{a(()=>({notifiSources:et}))},isChecked:!1,setIsChecked:et=>{a(()=>({isChecked:et}))},isShowNotifi:!1,setIsShowNotifi:et=>{a(()=>({isShowNotifi:et}))},notifiSubscriptionLoading:!1,setNotifiSubscriptionLoading:et=>{a(()=>({notifiSubscriptionLoading:et}))},notifiLoginLoading:!1,setNotifiLoginLoading:et=>{a(()=>({notifiLoginLoading:et}))},notifiClient:{},setNotifiClient:et=>{a(()=>({notifiClient:et}))},notifiStatus:"",setNotifiStatus:et=>{a(()=>({notifiStatus:et}))},defaultTargetGroup:[],setDefaultTargetGroup:et=>{a(()=>({defaultTargetGroup:et}))},notifiAccountAddress:"",setNotifiAccountAddress:et=>{a(()=>({notifiAccountAddress:et}))},emailTarget:{},setEmailTarget:et=>{a(()=>({emailTarget:et}))},telegramTarget:{},setTelegramTarget:et=>{a(()=>({telegramTarget:et}))},smsTarget:{},setSmsTarget:et=>{a(()=>({smsTarget:et}))}}),useNotifiStore=create$3(store$8);LocalStorageService.getItem(NOTIFI_SIGNATURE).then(a=>{});const useToastStore=create$3((a,s)=>({toastId:0,accumulateToastId:()=>{const et=s().toastId+1;return a(()=>({toastId:et})),et}})),store$7=(a,s)=>({requestTokenList:[],addRequestTokenList:et=>{a(()=>({requestTokenList:[...s().requestTokenList,et]}))},setToken:et=>{const{tokenMap:nt,requestTokenList:at}=s(),mt=new Map(nt);mt.set(extractStructTagFromType$1(et.coin_type).full_address,et);const wt=at.filter($t=>$t!==et.coin_type);a(()=>({tokenMap:mt,requestTokenList:[...wt]})),LocalStorageService.setItem(TOKEN_MAP_KEY,mt)},tokenMap:new Map,setTokenMap:et=>{a(()=>({tokenMap:et})),LocalStorageService.setItem(TOKEN_MAP_KEY,et)}}),useTokenStore=create$3(store$7);LocalStorageService.getItem(TOKEN_MAP_KEY).then(a=>{console.log("🚀 ~ file: token.ts:57 ~ savedTokenMap:",a),a!==null&&useTokenStore.getState().setTokenMap(a)});const store$6=(a,s)=>({isLoading:!1,ownerAddress:void 0,tokenBalanceObj:{},setTokenBalanceObj:(et,nt)=>{const{tokenBalanceObj:at,ownerAddress:mt}=s();a(nt!==mt?()=>({tokenBalanceObj:{...et},ownerAddress:nt}):()=>({tokenBalanceObj:{...at,...et},ownerAddress:nt}))},setIsLoading:et=>{a(()=>({isLoading:et}))},clearData:()=>{a(()=>({tokenBalanceObj:{},ownerAddress:void 0}))}}),useTokenBalanceStore=create$3(persist(store$6,{name:"useTokenBalanceStore",version:1}));var x$1=24*60*60*1e3;function T(a){return Date.parse(new Date().toString())+a}var b$1=class{constructor(s,et=0){Yn(this,"overdueTime");Yn(this,"value");this.overdueTime=et,this.value=s}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};function S$3(a,s=32){return Number(BigInt.asIntN(s,BigInt(a)))}var D$1="0x2::coin::Coin",v$3=/^0x2::coin::Coin<(.+)>$/,P$1="0x2::sui::SUI",j$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",u=class{static getCoinTypeArg(a){let s=a.type.match(v$3);return s?s[1]:null}static isSUI(a){let s=u.getCoinTypeArg(a);return s?u.getCoinSymbol(s)==="SUI":!1}static getCoinSymbol(a){return a.substring(a.lastIndexOf(":")+1)}static getBalance(a){return BigInt(a.fields.balance)}static totalBalance(a,s){let et=BigInt(0);return a.forEach(nt=>{s===nt.coinAddress&&(et+=BigInt(nt.balance))}),et}static getID(a){return a.fields.id.id}static getCoinTypeFromArg(a){return`${D$1}<${a}>`}static getFaucetCoins(a){let{events:s}=a,et=[];return s==null||s.forEach(nt=>{let{type:at}=nt;if(d(at).name==="InitEvent"){let mt=nt.parsedJson;et.push({transactionModule:nt.transactionModule,suplyID:mt.suplyID,decimals:mt.decimals})}}),et}static getCoinAssets(a,s){let et=[];return s.forEach(nt=>{A(nt.coinAddress)===A(a)&&et.push(nt)}),et}static isSuiCoin(a){return d(a).full_address===P$1}static selectCoinObjectIdGreaterThanOrEqual(a,s,et=[]){let nt=u.selectCoinAssetGreaterThanOrEqual(a,s,et),at=nt.selectedCoins.map($t=>$t.coinObjectId),mt=nt.remainingCoins,wt=nt.selectedCoins.map($t=>$t.balance.toString());return{objectArray:at,remainCoins:mt,amountArray:wt}}static selectCoinAssetGreaterThanOrEqual(a,s,et=[]){let nt=u.sortByBalance(a.filter(Ct=>!et.includes(Ct.coinObjectId))),at=u.calculateTotalBalance(nt);if(at<s)return{selectedCoins:[],remainingCoins:nt};if(at===s)return{selectedCoins:nt,remainingCoins:[]};let mt=BigInt(0),wt=[],$t=[...nt];for(;mt<at;){let Ct=s-mt,Dt=$t.findIndex(jt=>jt.balance>=Ct);if(Dt!==-1){wt.push($t[Dt]),$t.splice(Dt,1);break}let Ft=$t.pop();Ft.balance>0&&(wt.push(Ft),mt+=Ft.balance)}return{selectedCoins:u.sortByBalance(wt),remainingCoins:u.sortByBalance($t)}}static sortByBalance(a){return a.sort((s,et)=>s.balance<et.balance?-1:s.balance>et.balance?1:0)}static sortByBalanceDes(a){return a.sort((s,et)=>s.balance>et.balance?-1:s.balance<et.balance?0:1)}static calculateTotalBalance(a){return a.reduce((s,et)=>s+et.balance,BigInt(0))}};function k$1(a){return a.startsWith("0x")?`${a.slice(2)}`:a}function I$2(a,...s){let et=Array.isArray(s[s.length-1])?s.pop():[],nt=[a,...s].filter(Boolean).join("::");return et&&et.length&&(nt+=`<${et.join(", ")}>`),nt}function d(a){var s,et;try{let nt=a.replace(/\s/g,""),at=(et=(s=nt.match(/(<.+>)$/))==null?void 0:s[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){nt=nt.slice(0,nt.indexOf("<"));let $t={...d(nt),type_arguments:at.map(Ct=>d(Ct).source_address)};return $t.type_arguments=$t.type_arguments.map(Ct=>u.isSuiCoin(Ct)?Ct:d(Ct).source_address),$t.source_address=I$2($t.full_address,$t.type_arguments),$t}let mt=nt.split("::"),wt={full_address:nt,address:nt===P$1||nt===j$1?"0x2":normalizeSuiObjectId(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return wt.full_address=`${wt.address}::${wt.module}::${wt.name}`,wt.source_address=I$2(wt.full_address,wt.type_arguments),wt}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function A(a){return d(a).source_address}function L(a){return a.toLowerCase().startsWith("0x")?normalizeSuiObjectId(a):a}var ee$1=(a,s=!0)=>{let et=a.split("::"),nt=et.shift(),at=normalizeSuiObjectId(nt);return s&&(at=k$1(at)),`${at}::${et.join("::")}`};function O$2(a){for(let s in a){let et=typeof a[s];if(et==="object")O$2(a[s]);else if(et==="string"){let nt=a[s];nt&&!nt.includes("::")&&(a[s]=L(nt))}}}var g=class{static buildBurnPositionNFT(a){var nt;let s=a.position.fields,et=`Cetus Burned LP | Pool${(nt=s.name.split("Pool"))==null?void 0:nt[1]}`;return{id:a.id.id,url:s.url,pool_id:s.pool,coinTypeA:d(s.coin_type_a.fields.name).full_address,coinTypeB:d(s.coin_type_b.fields.name).full_address,description:s.description,name:et,liquidity:s.liquidity,clmm_position_id:s.id.id,clmm_pool_id:s.pool,tick_lower_index:S$3(BigInt(s.tick_lower_index.fields.bits)),tick_upper_index:S$3(BigInt(s.tick_upper_index.fields.bits)),index:s.index,is_lp_burn:!0}}},w$2="0x0000000000000000000000000000000000000000000000000000000000000006",h=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getHaveBurnPoolList(){var a,s,et,nt,at,mt,wt,$t;try{let{package_id:Ct,manager_id:Dt}=this._sdk.sdkOptions.burn,Ft=await this._sdk.fullClient.getObject({id:Dt,options:{showType:!0,showContent:!0}});console.log("🚀 ~ file: burnModule.ts:32 ~ BurnModule ~ getHaveBurnPoolList ~ object:",Ft);let jt=(mt=(at=(nt=(et=(s=(a=Ft==null?void 0:Ft.data)==null?void 0:a.content)==null?void 0:s.fields)==null?void 0:et.position)==null?void 0:nt.fields)==null?void 0:at.id)==null?void 0:mt.id;return($t=(wt=await this._sdk.fullClient.getDynamicFieldsByPage(jt))==null?void 0:wt.data)==null?void 0:$t.map(Ut=>{var tr;return(tr=Ut==null?void 0:Ut.name)==null?void 0:tr.value})}catch(Ct){return console.log("getHaveBurnPoolList ~ error:",Ct),[]}}async getPositionHandle(a){let{burn_pool_handle:s}=this._sdk.sdkOptions.burn,et=`getPosHandle_${a}`,nt=this._sdk.getCache(et);return nt||(nt=(await this._sdk.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:a}})).data.content.fields.value.fields.id.id,nt&&this._sdk.updateCache(et,nt),nt)}async getPoolBurnPositionList(a){var s,et,nt;try{let at=await this.getPositionHandle(a);if(at===void 0)throw Error("Not found posHandle");let mt=(et=(s=await this._sdk.fullClient.getDynamicFieldsByPage(at))==null?void 0:s.data)==null?void 0:et.map(wt=>wt.objectId);if(mt.length>0){let wt=(await this._sdk.fullClient.batchGetObjects(mt,{showContent:!0})).map($t=>$t.data.content.fields.value.fields.burned_position_id);return(nt=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}))==null?void 0:nt.map($t=>{var Ct,Dt;return g.buildBurnPositionNFT((Dt=(Ct=$t==null?void 0:$t.data)==null?void 0:Ct.content)==null?void 0:Dt.fields)})}return[]}catch(at){return console.log("getPoolBurnPositionList ~ error:",at),[]}}async getBurnPositionList(a){var et,nt;let{package_id:s}=this._sdk.sdkOptions.burn;return(nt=(et=await this._sdk.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showOwner:!0,showDisplay:!0},filter:{MatchAny:[{StructType:`${s}::lp_burn::CetusLPBurnProof`}]}}))==null?void 0:et.data)==null?void 0:nt.map(at=>{var mt,wt;return g.buildBurnPositionNFT((wt=(mt=at==null?void 0:at.data)==null?void 0:mt.content)==null?void 0:wt.fields)})}async getBurnPositon(a){var et,nt,at,mt;let s=await this._sdk.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}});return(nt=(et=s==null?void 0:s.data)==null?void 0:et.content)!=null&&nt.fields?g.buildBurnPositionNFT((mt=(at=s==null?void 0:s.data)==null?void 0:at.content)==null?void 0:mt.fields):null}createBurnPayload(a,s){s=s||new Transaction;let et=typeof a.pos=="string"?s.object(a.pos):a.pos,{published_at:nt,manager_id:at}=this._sdk.sdkOptions.burn,mt=`${nt}::lp_burn::burn`;return s.moveCall({target:mt,arguments:[s.object(at),s.object(a.pool),et],typeArguments:[a.coinTypeA,a.coinTypeB]}),s}createBurnLPV2Payload(a,s){s=s||new Transaction;let et=typeof a=="string"?s.object(a):a,{published_at:nt,manager_id:at}=this._sdk.sdkOptions.burn,mt=`${nt}::lp_burn::burn_lp_v2`,[wt]=s.moveCall({target:mt,arguments:[s.object(at),et],typeArguments:[]});return wt}createCollectFeePaylaod(a,s){s=s||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at}=this._sdk.sdkOptions.burn,mt=`${et}::lp_burn::collect_fee`,wt=s.moveCall({target:mt,arguments:[s.object(nt),s.object(at),s.object(a.pool),s.object(a.pos)],typeArguments:[a.coinTypeA,a.coinTypeB]});return s.transferObjects([wt[0]],s.pure.address(a.account)),s.transferObjects([wt[1]],s.pure.address(a.account)),s}crateCollectRewardPayload(a,s){var $t,Ct;s=s||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at,clmm_global_vault_id:mt}=this._sdk.sdkOptions.burn,wt=`${et}::lp_burn::collect_reward`;for(let Dt=0;Dt<(($t=a.rewarderCoinTypes)==null?void 0:$t.length);Dt++){let Ft=(Ct=a.rewarderCoinTypes)==null?void 0:Ct[Dt],jt=s.moveCall({target:wt,arguments:[s.object(nt),s.object(at),s.object(a.pool),s.object(a.pos),s.object(mt),s.object(w$2)],typeArguments:[a.coinTypeA,a.coinTypeB,Ft]});s.transferObjects([jt],s.pure.address(a.account))}return s}createCollectFeesPaylaod(a,s){s=s||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at}=this._sdk.sdkOptions.burn,mt=`${et}::lp_burn::collect_fee`;for(let wt=0;wt<a.length;wt++){let $t=a[wt],Ct=s.moveCall({target:mt,arguments:[s.object(nt),s.object(at),s.object($t.pool),s.object($t.pos)],typeArguments:[$t.coinTypeA,$t.coinTypeB]});s.transferObjects([Ct[0]],s.pure.address($t.account)),s.transferObjects([Ct[1]],s.pure.address($t.account))}return s}crateCollectRewardsPayload(a,s){var $t,Ct;s=s||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at,clmm_global_vault_id:mt}=this._sdk.sdkOptions.burn,wt=`${et}::lp_burn::collect_reward`;for(let Dt=0;Dt<a.length;Dt++){let Ft=a[Dt];for(let jt=0;jt<(($t=Ft.rewarderCoinTypes)==null?void 0:$t.length);jt++){let Ut=(Ct=Ft.rewarderCoinTypes)==null?void 0:Ct[jt],tr=s.moveCall({target:wt,arguments:[s.object(nt),s.object(at),s.object(Ft.pool),s.object(Ft.pos),s.object(mt),s.object(w$2)],typeArguments:[Ft.coinTypeA,Ft.coinTypeB,Ut]});s.transferObjects([tr],s.pure.address(Ft.account))}}return s}},y=class extends SuiClient{async queryEventsByPage(a,s="all"){let et=[],nt=!0,at=s==="all",mt=at?null:s.cursor;do{let wt=await this.queryEvents({query:a,cursor:mt,limit:at?null:s.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async getOwnedObjectsByPage(a,s,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.getOwnedObjects({owner:a,...s,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getDynamicFieldsByPage(a,s="all"){let et=[],nt=!0,at=s==="all",mt=at?null:s.cursor;do{let wt=await this.getDynamicFields({parentId:a,cursor:mt,limit:at?null:s.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async batchGetObjects(a,s,et=50){let nt=[];try{for(let at=0;at<Math.ceil(a.length/et);at++){let mt=await this.multiGetObjects({ids:a.slice(at*et,et*(at+1)),options:s});nt=[...nt,...mt]}}catch(at){console.log(at)}return nt}async calculationTxGas(a){let{sender:s}=a.blockData;if(s===void 0)throw Error("sdk sender is empty");let et=await this.devInspectTransactionBlock({transactionBlock:a,sender:s}),{gasUsed:nt}=et.effects;return Number(nt.computationCost)+Number(nt.storageCost)-Number(nt.storageRebate)}async sendTransaction(a,s){try{return await this.signAndExecuteTransaction({transaction:s,signer:a,options:{showEffects:!0,showEvents:!0}})}catch(et){console.log("error: ",et)}}async sendSimulationTransaction(a,s,et=!0){try{if(et)return await this.devInspectTransactionBlock({transactionBlock:a,sender:s})}catch(nt){console.log("devInspectTransactionBlock error",nt)}}},_$1=class{constructor(s){Yn(this,"_cache",{});Yn(this,"_rpcModule");Yn(this,"_sdkOptions");Yn(this,"_senderAddress","");Yn(this,"_burn");this._sdkOptions=s,this._rpcModule=new y({url:s.fullRpcUrl}),this._burn=new h(this),O$2(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(s){this._senderAddress=s}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Burn(){return this._burn}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(s,et,nt=!0){let at=[],mt=null,wt=`${this.sdkOptions.fullRpcUrl}_${s}_${et}_getOwnerCoinAssets`,$t=this.getCache(wt,nt);if($t)return $t;for(;;){let Ct=await(et?this.fullClient.getCoins({owner:s,coinType:et,cursor:mt}):this.fullClient.getAllCoins({owner:s,cursor:mt}));if(Ct.data.forEach(Dt=>{BigInt(Dt.balance)>0&&at.push({coinAddress:d(Dt.coinType).source_address,coinObjectId:Dt.coinObjectId,balance:BigInt(Dt.balance)})}),mt=Ct.nextCursor,!Ct.hasNextPage)break}return this.updateCache(wt,at,30*1e3),at}async getOwnerCoinBalances(s,et){let nt=[];return et?nt=[await this.fullClient.getBalance({owner:s,coinType:et})]:nt=[...await this.fullClient.getAllBalances({owner:s})],nt}updateCache(s,et,nt=x$1){let at=this._cache[s];at?(at.overdueTime=T(nt),at.value=et):at=new b$1(et,T(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[s]}};const store$5=(a,s)=>({coinPriceObj:{},setPriceObj:et=>{const nt=s().coinPriceObj;a({coinPriceObj:{...nt,...et}})},clearPriceObj:et=>{const nt=s().coinPriceObj;et.forEach(at=>{delete nt[d(at).full_address]}),a({coinPriceObj:{...nt}})}}),useTokenPriceStore=create$3(store$5),useTransactionStore=create$3((a,s)=>({manualCloseIdList:[],transactionModalVisible:!1,transactionData:void 0,setTransactionModalVisible:et=>{a(()=>({transactionModalVisible:et}))},setTransactionData:et=>{a(()=>({transactionData:et}))},setManualCloseId:et=>{a(nt=>({manualCloseIdList:[...nt.manualCloseIdList,et]}))}})),useAccountStore=create$3((a,s)=>({addressChangeVersion:0,accounts:[],currentAccount:void 0,isOpenWalletModal:!1,saveCurrentAccount:et=>{var mt;const nt=(mt=s().currentAccount)==null?void 0:mt.address,at=s().addressChangeVersion;nt&&et&&nt!==et.address?a({currentAccount:et,addressChangeVersion:at+1}):a({currentAccount:et})},saveAccounts:et=>{a({accounts:et})},onWalletModal:et=>{a({isOpenWalletModal:et})}})),store$4=(a,s)=>({isInitLoading:!1,clmmSdk:new CetusClmmSDK(envConfigs$1.clmm_sdk_options),aggregatorSDK:new AggregatorClient21(envConfigs$1.clmm_sdk_options.aggregatorUrl,envConfigs$1.clmm_sdk_options.simulationAccount.address,new SuiClient({url:envConfigs$1.clmm_sdk_options.fullRpcUrl}),envConfigs$1.env==="testnet"?Env.Testnet:Env.Mainnet),setClmmSdk:et=>{a(()=>({clmmSdk:et}))},setAggregatorSDK:et=>{a(()=>({aggregatorSDK:et}))},setIsInitLoading:et=>{a(()=>({isInitLoading:et}))}}),useClmmSDKStore=create$3(store$4),store$3=(a,s)=>({domains:[envConfigs$1.cetus_api],unhealthyDomains:[],currentDomain:envConfigs$1.cetus_api,setCurrentDomain:et=>{a(()=>({currentDomain:et}))},setUnhealthyDomains:et=>{a(()=>({unhealthyDomains:[...s().unhealthyDomains,et]}))}}),useGlobalApiDomainStore=create$3(store$3),defaultMainnetNodes=[{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"BlockVision 2",link:"https://cetus-mainnet-endpoint.blockvision.org"},{name:"Suiet",link:"https://mainnet.suiet.app:443"},{name:"Blast",link:"https://sui-mainnet.blastapi.io/5e2b3e4f-dc83-432b-86d1-70fb73e88187"},{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"Triton",link:"https://cetus-suimain-e31f.mainnet.sui.rpcpool.com"},{name:"Custom",link:""}],defaultMainnetExplorers=[{name:"SuiVision",link:"https://suivision.xyz",img:"/images/img_suivision@2x.png"},{name:"Suiscan",link:"https://suiscan.xyz/mainnet",img:"/images/img_suiscan@2x.png"}],defaultNodes=defaultMainnetNodes,defaultNode=defaultMainnetNodes[0],defaultExplorers=defaultMainnetExplorers,defaultExplorer=defaultMainnetExplorers[0],suiWalletList=[{name:"Sui Wallet",walletName:"Sui Wallet",url:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",icon:"sui-wallet-icon"},{name:"Phantom",walletName:"Phantom",url:"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa",icon:"phantom"},{name:"OKX",walletName:"OKX Wallet",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"okx"},{name:"Suiet",walletName:"Suiet",url:"https://chrome.google.com/webstore/detail/suiet-sui-wallet/khpkpbbcccdmmclmpigdgddabeilkdpd",icon:"suiet-icon"},{name:"Binance",walletName:"Binance Wallet",url:"https://chromewebstore.google.com/detail/%E5%B8%81%E5%AE%89%E9%93%BE%E9%92%B1%E5%8C%85/fhbohimaelbohpjbbldcngcnapndodjp?hl=zh-CN&utm_source=ext_sidebar",icon:"binance"},{name:"Stashed",walletName:"Stashed",url:"https://getstashed.com",icon:"stashed"},{name:"Bybit Wallet",walletName:"Bybit Wallet",url:"https://chromewebstore.google.com/search/Bybit%20Wallet?hl=zh-CN&utm_source=ext_sidebar",icon:"bybit"},{name:"Gate",walletName:"Gate Wallet",url:"https://chromewebstore.google.com/detail/gate-wallet/cpmkedoipcpimgecpmgpldfpohjplkpp",icon:"gate"},{name:"Bitget Wallet",walletName:"Bitget Wallet",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",icon:"bitget"},{name:"SuiMetaMaskSnap",walletName:"Sui MetaMask Snap",url:"https://suisnap.com",icon:"metamask"},{name:"Surf",walletName:"Surf Wallet",url:"https://chrome.google.com/webstore/detail/surf-wallet/emeeapjkbcbpbpgaagfchmcgglmebnen",icon:"surf"},{name:"Coin98",walletName:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",icon:"coin98"},{name:"MSafe",walletName:"MSafe Wallet",url:"https://sui.m-safe.io/",icon:"msafe"},{name:"OneKey",walletName:"OneKey Wallet",url:"https://chromewebstore.google.com/detail/onekey/jnmbobjmhlngoefaiojfljckilhhlhcj",icon:"onekey"},{name:"TokenPocket",walletName:"TokenPocket Wallet",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",icon:"tokenpocket"},{name:"Nightly",walletName:"Nightly",url:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa",icon:"nightly"},{name:"Martian",walletName:"Martian Sui Wallet",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",icon:"martian"},{name:"Fewcha",walletName:"Fewcha Move Wallet",url:"https://fewcha.app/",icon:"fewcha"},{name:"SafePal",walletName:"SafePal",url:"https://chrome.google.com/webstore/detail/safepal-extension-wallet/lgmpcpglpngdoalbgeoldeajfclnhafa",icon:"safepal"},{name:"Math",walletName:"MathWallet",url:"https://mathwallet.org/",icon:"math"}],store$2=(a,s)=>({rpcSpeed:{},currentExplorer:defaultExplorer,explorerList:[...defaultExplorers],currentNode:{...defaultNode},nodes:[...defaultNodes],switchNode:et=>{a(()=>({currentNode:et}))},switchExplorer:et=>{a(()=>({currentExplorer:et}))},setNodeList:et=>{a(()=>({nodes:[...et]}))},setRpcSpeed:et=>{a(()=>({rpcSpeed:et}))}}),useRpcConfigStore=create$3(persist(store$2,{name:"useRpcConfigStore",version:4})),store$1=(a,s)=>({deepbookV3Config:null,providers:["CETUS"],isBuyCryptoConfirm:!1,setIsBuyCryptoConfirm:et=>{a(()=>({isBuyCryptoConfirm:et}))},isTerm:!1,setIsTerm:et=>{a(()=>({isTerm:et}))},setProviders:et=>{a(()=>({providers:et}))},setDeepbookV3Config:et=>{a(()=>({deepbookV3Config:et}))}}),useWebConfigStore=create$3(persist(store$1,{name:"useWebConfigStore",version:3}));function useGlobalToast(){const{accumulateToastId:a}=useToastStore(),s=useToast({position:"top-right",duration:5e3,containerStyle:{maxW:"660px"}}),et=Ft=>Ft||`toast${a()}`;return{closeToast:Ft=>{s.close(Ft)},successTsToast:Ft=>{const{transactionId:jt}=Ft,Ut=et(jt);return s({id:Ut,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Ut,status:"success",onClose:()=>s.close(Ut)})}),Ut},failedTsToast:Ft=>{const{transactionId:jt}=Ft,Ut=et(jt);return s({id:Ut,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Ut,status:"rejected",onClose:()=>s.close(Ut)})}),Ut},submittedTsToast:Ft=>{const{transactionId:jt}=Ft,Ut=et(jt);return s({id:Ut,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Ut,status:"submitted",onClose:()=>s.close(Ut)})}),Ut},closeAllToast:()=>{s.closeAll()},customToast:Ft=>{const jt=et();return s({id:jt,render:()=>jsxRuntimeExports.jsx(CustomToast,{onClose:()=>s.close(jt),children:Ft})}),jt},showCommonToast:(Ft,jt="success",Ut)=>{const tr=et(),ir={getShowInfo:()=>({toastTitleText:Ft,toastDescriptionContent:Ut})};return s({id:tr,render:()=>jsxRuntimeExports.jsx(Toast,{...ir,transactionId:tr,status:jt,onClose:()=>s.close(tr)})}),tr}}}function Drawer({title:a,isOpen:s,onClose:et,children:nt,cancelText:at,okText:mt,onSubmit:wt,footer:$t=!1,placement:Ct,size:Dt}){return jsxRuntimeExports.jsxs(Drawer$1,{isOpen:s,placement:Ct||"right",onClose:et,size:Dt||"md",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(DrawerContent,{h:"100dvh !important",minH:"calc(100vh - 80px) !important",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{children:a}),jsxRuntimeExports.jsx(ModalBody,{children:nt}),jsxRuntimeExports.jsx(ModalFooter,{children:typeof $t!="boolean"?$t:$t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",mr:3,onClick:et,children:at}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:wt,children:mt})]})})]})]})}const TextWrap=({children:a,haveTooltip:s=!0,...et})=>{const nt=reactExports.useRef(null),[at,mt]=reactExports.useState(!1),wt=()=>{const Ct=nt.current;Ct&&Ct.scrollWidth>Ct.clientWidth?mt(!0):mt(!1)},{isApp:$t}=useWindowWidth();return jsxRuntimeExports.jsx(Box,{w:"100%",onClick:Ct=>cancelBubble(Ct),children:$t?jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"wrap",wordBreak:"break-all",textAlign:"right",...et,children:a}):at&&s?jsxRuntimeExports.jsx(Tooltip,{placement:"top",label:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:a}),children:jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:nt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseLeave:()=>mt(!1),tabIndex:0,...et,children:a})}):jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:nt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseEnter:wt,tabIndex:0,...et,children:a})})},SingleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"130px"})]})]}),SingleTokenInfoH5=({data:a})=>{const{loading:s,imageUrl:et,symbol:nt,name:at}=a;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s?jsxRuntimeExports.jsx(SingleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et,w:"24px",h:"24px"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:{md:"0",lg:"0.5rem"},children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",children:nt}),jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:at})]})]})})},DoubleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsx(Box,{ml:"-8px",children:jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"})}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"60px"})]})]}),PairTokenInfo=({data:a,fee:s,loading:et})=>{var nt,at,mt,wt;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et?jsxRuntimeExports.jsx(DoubleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{gap:"0px",w:"100%",children:[jsxRuntimeExports.jsx(CoinPairImage,{w:"40px",variant:"border",coinAIconUrl:(nt=a[0])==null?void 0:nt.imageUrl,coinBIconUrl:(at=a[1])==null?void 0:at.imageUrl}),jsxRuntimeExports.jsx(VStack,{gap:"0px",ml:"8px",align:"flex-start",children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(mt=a[0])==null?void 0:mt.symbol}),jsxRuntimeExports.jsx(Text,{color:"text_caption",children:"-"}),jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(wt=a[1])==null?void 0:wt.symbol})]})})]})})};var HandleEventType=(a=>(a.Add="add",a.Edit="edit",a.Delete="delete",a))(HandleEventType||{}),H5MapTableCells=(a=>(a.Regular="regular",a.Double="double",a.Divider="divider",a.Action="action",a.Cos="cos",a))(H5MapTableCells||{}),TitleEnum=(a=>(a.SingleToken="SingleToken",a.ST="ST",a.DoubleToken="DoubleToken",a.DT="DT",a))(TitleEnum||{});const handleElement=({value:a})=>{let s,et;if(reactExports.isValidElement(a)||typeof a=="string"||typeof a=="number")s=a;else if(typeof a=="function")s=a();else if(typeof a=="object"&&a!==null){const{text:nt,render:at}=a;if("color"in a&&(et=a.color),nt)s=nt;else if(at)s=handleElement({value:at});else throw new Error("You must select one of text or render to assign a valid value.")}else throw new Error("A valid value is required here.");return[s,et]},renderNode=a=>handleElement({value:a})[0];function transColumns2H5(a,s,et){return a.map(nt=>({type:H5MapTableCells.Cos,label:nt.title,showLabel:nt==null?void 0:nt.showLabel,key:nt.key,hidden:nt.hidden?typeof nt.hidden=="function"?nt.hidden(s):nt.hidden:!1,value:typeof nt.render=="function"?nt.render(s,et):nt.render||s[nt.key]}))}const Regular=({value:a,...s})=>{let et="text_caption";"color"in s&&(et=s.color);const[nt,at]=handleElement({value:a});return et=at||et,jsxRuntimeExports.jsx(Text,{color:et,children:nt})},Action=({value:a,onChange:s,btn:et,...nt})=>{if(!a){const{text:$t,color:Ct="primary",bg_color:Dt="bg_secondary"}=et;return jsxRuntimeExports.jsx(Button,{w:"60px",h:"20px",borderRadius:"4px",color:Ct,bgColor:Dt,size:"xs",onClick:(...Ft)=>s==null?void 0:s(HandleEventType.Add,...Ft),children:$t})}let at="text_caption";"color"in nt&&(at=nt.color||at);const[mt,wt]=handleElement({value:a});return at=wt||at,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:at,children:mt}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",onClick:(...$t)=>s==null?void 0:s(HandleEventType.Edit,...$t)}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",onClick:(...$t)=>s==null?void 0:s(HandleEventType.Delete,...$t)})]})},Divider=({value:a})=>{let s="text_caption",et="text_paragraph";const[nt,at]=handleElement({value:a[0]}),[mt,wt]=handleElement({value:a[1]});return s=at||s,et=wt||et,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:s,children:nt}),jsxRuntimeExports.jsxs(Text,{color:et,children:["/ ",mt]})]})},Double=({value:a,onChange:s})=>{var Ct;let et="text_caption",nt="text_paragraph";const[at,mt]=handleElement({value:a[0]}),[wt,$t]=handleElement({value:a[1]});return et=mt||et,nt=$t||nt,jsxRuntimeExports.jsxs(VStack,{gap:"0.2em",alignItems:"flex-end",children:[jsxRuntimeExports.jsxs(HStack,{h:"12px",children:[jsxRuntimeExports.jsx(Text,{color:et,children:at}),typeof a[0]=="object"&&((Ct=a[0])==null?void 0:Ct.editable)&&jsxRuntimeExports.jsx(Icon,{onClick:(...Dt)=>s==null?void 0:s(HandleEventType.Edit,...Dt),xlinkHref:"#icon-icon_edit"})]}),jsxRuntimeExports.jsx(Text,{h:"12px",color:nt,children:wt})]})},Cos=({value:a})=>typeof a=="function"?a():jsxRuntimeExports.jsx(Box,{fontFamily:"Inter",fontSize:"14px",color:"text_caption",children:a});function useTextColor({isLong:a}){const s=reactExports.useMemo(()=>a?"primary":"primary_red",[a]),et=reactExports.useMemo(()=>a?"primary_opacity.10":"primary_red_opacity.10",[a]);return{color:s,bg:et}}const ItemsMap={[H5MapTableCells.Regular]:Regular,[H5MapTableCells.Action]:Action,[H5MapTableCells.Divider]:Divider,[H5MapTableCells.Double]:Double,[H5MapTableCells.Cos]:Cos},TitleMap={[TitleEnum.SingleToken]:SingleTokenInfoH5,[TitleEnum.ST]:SingleTokenInfoH5,[TitleEnum.DoubleToken]:PairTokenInfo,[TitleEnum.DT]:PairTokenInfo},Title=({data:a})=>{if(!a)return null;const{type:s,...et}=a,nt=TitleMap[s];return jsxRuntimeExports.jsx(nt,{...et})},Bottom=({data:a})=>{if(typeof a=="function")return a();if(reactExports.isValidElement(a))return a;if(typeof a=="object"&&(a!=null&&a.data)&&Array.isArray(a==null?void 0:a.data)){const{style:s,data:et}=a;return jsxRuntimeExports.jsx(HStack,{w:"100%",justifyContent:"space-between",...s,children:et.map(nt=>{const{text:at,render:mt,...wt}=nt;return jsxRuntimeExports.jsx(Button,{...wt,children:renderNode({text:at,render:mt})},nt.key||nt.text)})})}if(typeof a=="object"){const{text:s,render:et,...nt}=a;return jsxRuntimeExports.jsx(Button,{...nt,children:renderNode({text:s,render:et})})}return null};function H5MapTableItem({data:a,children:s,loading:et,skeletonLength:nt=5,itemHeight:at="40px",style:mt,title:wt,bottom:$t,onClick:Ct}){const Dt=new Array(nt).fill(0);return jsxRuntimeExports.jsxs(VStack,{gap:"0.5em",...mt,onClick:Ct,children:[s,jsxRuntimeExports.jsx(Title,{data:wt}),et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Dt==null?void 0:Dt.map((Ft,jt)=>jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",flexBasis:at,children:[jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"}),jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"})]},jt))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a==null?void 0:a.map(Ft=>{const{label:jt,type:Ut,key:tr,showLabel:ir=!0,hidden:sr=!1,...ur}=Ft,fr=ItemsMap[Ut];return jsxRuntimeExports.jsx(React$2.Fragment,{children:!sr&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:sr?"-8px":"0",flexBasis:at,children:[ir&&jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Box,{children:renderNode(jt)}),typeof jt=="object"&&(jt==null?void 0:jt.tooltip)&&jsxRuntimeExports.jsx(Tooltip,{label:renderNode(jt==null?void 0:jt.tooltip),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_tips",cursor:"help"})})]}),jsxRuntimeExports.jsx(fr,{...ur})]},tr||(jt==null?void 0:jt.toString()))},tr||(jt==null?void 0:jt.toString()))})}),jsxRuntimeExports.jsx(Bottom,{data:$t})]})}const Logo=({name:a,logo:s,multiple:et,isLong:nt})=>{const{color:at,bg:mt}=useTextColor({isLong:nt});return jsxRuntimeExports.jsxs(HStack,{flexBasis:"32px",gap:"8px",children:[jsxRuntimeExports.jsx(Box,{flexBasis:"32px",children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"50%",src:s})}),jsxRuntimeExports.jsxs(VStack,{gap:"2px",alignItems:"flex-start",children:[jsxRuntimeExports.jsx(Text,{flexBasis:"14px",color:"text_caption",children:a}),jsxRuntimeExports.jsx(Tag,{flexBasis:"16px",color:at,bgColor:mt,children:`${et}x ${nt?"Long":"Short"}`})]})]})};H5MapTableItem.Logo=Logo;function Modal({title:a="",isOpen:s,showOverlay:et=!0,closeable:nt=!0,isCentered:at=!0,onClose:mt,children:wt,footer:$t,okText:Ct="OK",cancelText:Dt="Cancel",onOk:Ft,onCancel:jt}){return jsxRuntimeExports.jsxs(Modal$1,{isOpen:s,onClose:mt,isCentered:at,children:[et&&jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:a}),nt&&jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:wt}),$t||($t===null?null:jsxRuntimeExports.jsxs(ModalFooter,{children:[jsxRuntimeExports.jsx(Button,{mr:3,onClick:jt,variant:"outline",children:Dt}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:Ft,children:Ct})]}))]})]})}function __rest(a,s){var et={};for(var nt in a)Object.prototype.hasOwnProperty.call(a,nt)&&s.indexOf(nt)<0&&(et[nt]=a[nt]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(a);at<nt.length;at++)s.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(a,nt[at])&&(et[nt[at]]=a[nt[at]]);return et}var SourceType;(function(a){a.event="event",a.props="prop"})(SourceType||(SourceType={}));function noop(){}function memoizeOnce(a){var s,et=void 0;return function(){for(var nt=[],at=arguments.length;at--;)nt[at]=arguments[at];return s&&nt.length===s.length&&nt.every(function(mt,wt){return mt===s[wt]})||(s=nt,et=a.apply(void 0,nt)),et}}function charIsNumber(a){return!!(a||"").match(/\d/)}function isNil(a){return a==null}function isNanValue(a){return typeof a=="number"&&isNaN(a)}function isNotValidValue(a){return isNil(a)||isNanValue(a)||typeof a=="number"&&!isFinite(a)}function escapeRegExp(a){return a.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(a){switch(a){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(a,s,et){var nt=getThousandsGroupRegex(et),at=a.search(/[1-9]/);return at=at===-1?a.length:at,a.substring(0,at)+a.substring(at,a.length).replace(nt,"$1"+s)}function usePersistentCallback(a){var s=reactExports.useRef(a);s.current=a;var et=reactExports.useRef(function(){for(var nt=[],at=arguments.length;at--;)nt[at]=arguments[at];return s.current.apply(s,nt)});return et.current}function splitDecimal(a,s){s===void 0&&(s=!0);var et=a[0]==="-",nt=et&&s;a=a.replace("-","");var at=a.split("."),mt=at[0],wt=at[1]||"";return{beforeDecimal:mt,afterDecimal:wt,hasNegation:et,addNegation:nt}}function fixLeadingZero(a){if(!a)return a;var s=a[0]==="-";s&&(a=a.substring(1,a.length));var et=a.split("."),nt=et[0].replace(/^0+/,"")||"0",at=et[1]||"";return(s?"-":"")+nt+(at?"."+at:"")}function limitToScale(a,s,et){for(var nt="",at=et?"0":"",mt=0;mt<=s-1;mt++)nt+=a[mt]||at;return nt}function repeat(a,s){return Array(s+1).join(a)}function toNumericString(a){var s=a+"",et=s[0]==="-"?"-":"";et&&(s=s.substring(1));var nt=s.split(/[eE]/g),at=nt[0],mt=nt[1];if(mt=Number(mt),!mt)return et+at;at=at.replace(".","");var wt=1+mt,$t=at.length;return wt<0?at="0."+repeat("0",Math.abs(wt))+at:wt>=$t?at=at+repeat("0",wt-$t):at=(at.substring(0,wt)||"0")+"."+at.substring(wt),et+at}function roundToPrecision(a,s,et){if(["","-"].indexOf(a)!==-1)return a;var nt=(a.indexOf(".")!==-1||et)&&s,at=splitDecimal(a),mt=at.beforeDecimal,wt=at.afterDecimal,$t=at.hasNegation,Ct=parseFloat("0."+(wt||"0")),Dt=wt.length<=s?"0."+wt:Ct.toFixed(s),Ft=Dt.split("."),jt=mt;mt&&Number(Ft[0])&&(jt=mt.split("").reverse().reduce(function(sr,ur,fr){return sr.length>fr?(Number(sr[0])+Number(ur)).toString()+sr.substring(1,sr.length):ur+sr},Ft[0]));var Ut=limitToScale(Ft[1]||"",s,et),tr=$t?"-":"",ir=nt?".":"";return""+tr+jt+ir+Ut}function setCaretPosition(a,s){if(a.value=a.value,a!==null){if(a.createTextRange){var et=a.createTextRange();return et.move("character",s),et.select(),!0}return a.selectionStart||a.selectionStart===0?(a.focus(),a.setSelectionRange(s,s),!0):(a.focus(),!1)}}var findChangeRange=memoizeOnce(function(a,s){for(var et=0,nt=0,at=a.length,mt=s.length;a[et]===s[et]&&et<at;)et++;for(;a[at-1-nt]===s[mt-1-nt]&&mt-nt>et&&at-nt>et;)nt++;return{from:{start:et,end:at-nt},to:{start:et,end:mt-nt}}}),findChangedRangeFromCaretPositions=function(a,s){var et=Math.min(a.selectionStart,s);return{from:{start:et,end:a.selectionEnd},to:{start:et,end:s}}};function clamp$1(a,s,et){return Math.min(Math.max(a,s),et)}function geInputCaretPosition(a){return Math.max(a.selectionStart,a.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(a){return{from:{start:0,end:0},to:{start:0,end:a.length},lastValue:""}}function defaultIsCharacterSame(a){var s=a.currentValue,et=a.formattedValue,nt=a.currentValueIndex,at=a.formattedValueIndex;return s[nt]===et[at]}function getCaretPosition(a,s,et,nt,at,mt,wt){wt===void 0&&(wt=defaultIsCharacterSame);var $t=at.findIndex(function(vr){return vr}),Ct=a.slice(0,$t);!s&&!et.startsWith(Ct)&&(s=Ct,et=Ct+et,nt=nt+Ct.length);for(var Dt=et.length,Ft=a.length,jt={},Ut=new Array(Dt),tr=0;tr<Dt;tr++){Ut[tr]=-1;for(var ir=0,sr=Ft;ir<sr;ir++){var ur=wt({currentValue:et,lastValue:s,formattedValue:a,currentValueIndex:tr,formattedValueIndex:ir});if(ur&&jt[ir]!==!0){Ut[tr]=ir,jt[ir]=!0;break}}}for(var fr=nt;fr<Dt&&(Ut[fr]===-1||!mt(et[fr]));)fr++;var dr=fr===Dt||Ut[fr]===-1?Ft:Ut[fr];for(fr=nt-1;fr>0&&Ut[fr]===-1;)fr--;var hr=fr===-1||Ut[fr]===-1?0:Ut[fr]+1;return hr>dr?dr:nt-hr<dr-nt?hr:dr}function getCaretPosInBoundary(a,s,et,nt){var at=a.length;if(s=clamp$1(s,0,at),nt==="left"){for(;s>=0&&!et[s];)s--;s===-1&&(s=et.indexOf(!0))}else{for(;s<=at&&!et[s];)s++;s>at&&(s=et.lastIndexOf(!0))}return s===-1&&(s=at),s}function caretUnknownFormatBoundary(a){for(var s=Array.from({length:a.length+1}).map(function(){return!0}),et=0,nt=s.length;et<nt;et++)s[et]=!!(charIsNumber(a[et])||charIsNumber(a[et-1]));return s}function useInternalValues(a,s,et,nt,at,mt){mt===void 0&&(mt=noop);var wt=usePersistentCallback(function(ir,sr){var ur,fr;return isNotValidValue(ir)?(fr="",ur=""):typeof ir=="number"||sr?(fr=typeof ir=="number"?toNumericString(ir):ir,ur=nt(fr)):(fr=at(ir,void 0),ur=nt(fr)),{formattedValue:ur,numAsString:fr}}),$t=reactExports.useState(function(){return wt(isNil(a)?s:a,et)}),Ct=$t[0],Dt=$t[1],Ft=function(ir,sr){ir.formattedValue!==Ct.formattedValue&&Dt({formattedValue:ir.formattedValue,numAsString:ir.value}),mt(ir,sr)},jt=a,Ut=et;isNil(a)&&(jt=Ct.numAsString,Ut=!0);var tr=wt(jt,Ut);return reactExports.useMemo(function(){Dt(tr)},[tr.formattedValue]),[Ct,Ft]}function defaultRemoveFormatting(a){return a.replace(/[^0-9]/g,"")}function defaultFormat(a){return a}function NumberFormatBase(a){var s=a.type;s===void 0&&(s="text");var et=a.displayType;et===void 0&&(et="input");var nt=a.customInput,at=a.renderText,mt=a.getInputRef,wt=a.format;wt===void 0&&(wt=defaultFormat);var $t=a.removeFormatting;$t===void 0&&($t=defaultRemoveFormatting);var Ct=a.defaultValue,Dt=a.valueIsNumericString,Ft=a.onValueChange,jt=a.isAllowed,Ut=a.onChange;Ut===void 0&&(Ut=noop);var tr=a.onKeyDown;tr===void 0&&(tr=noop);var ir=a.onMouseUp;ir===void 0&&(ir=noop);var sr=a.onFocus;sr===void 0&&(sr=noop);var ur=a.onBlur;ur===void 0&&(ur=noop);var fr=a.value,dr=a.getCaretBoundary;dr===void 0&&(dr=caretUnknownFormatBoundary);var hr=a.isValidInputCharacter;hr===void 0&&(hr=charIsNumber);var vr=a.isCharacterSame,yr=__rest(a,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),xr=useInternalValues(fr,Ct,!!Dt,wt,$t,Ft),br=xr[0],wr=br.formattedValue,Sr=br.numAsString,Cr=xr[1],cr=reactExports.useRef(),Nt=reactExports.useRef({formattedValue:wr,numAsString:Sr}),Vt=function(Ur,Lr){Nt.current={formattedValue:Ur.formattedValue,numAsString:Ur.value},Cr(Ur,Lr)},er=reactExports.useState(!1),Yt=er[0],rr=er[1],ar=reactExports.useRef(null),lr=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return rr(!0),function(){clearTimeout(lr.current.setCaretTimeout),clearTimeout(lr.current.focusTimeout)}},[]);var nr=wt,Lt=function(Ur,Lr){var Br=parseFloat(Lr);return{formattedValue:Ur,value:Lr,floatValue:isNaN(Br)?void 0:Br}},or=function(Ur,Lr,Br){Ur.selectionStart===0&&Ur.selectionEnd===Ur.value.length||(setCaretPosition(Ur,Lr),lr.current.setCaretTimeout=setTimeout(function(){Ur.value===Br&&Ur.selectionStart!==Lr&&setCaretPosition(Ur,Lr)},0))},gr=function(Ur,Lr,Br){return getCaretPosInBoundary(Ur,Lr,dr(Ur),Br)},pr=function(Ur,Lr,Br){var Xr=dr(Lr),zr=getCaretPosition(Lr,wr,Ur,Br,Xr,hr,vr);return zr=getCaretPosInBoundary(Lr,zr,Xr),zr},_r=function(Ur){var Lr=Ur.formattedValue;Lr===void 0&&(Lr="");var Br=Ur.input,Xr=Ur.source,zr=Ur.event,Qr=Ur.numAsString,Qn;if(Br){var nn=Ur.inputValue||Br.value,$n=geInputCaretPosition(Br);Br.value=Lr,Qn=pr(nn,Lr,$n),Qn!==void 0&&or(Br,Qn,Lr)}Lr!==wr&&Vt(Lt(Lr,Qr),{event:zr,source:Xr})};reactExports.useEffect(function(){var Ur=Nt.current,Lr=Ur.formattedValue,Br=Ur.numAsString;(wr!==Lr||Sr!==Br)&&Vt(Lt(wr,Sr),{event:void 0,source:SourceType.props})},[wr,Sr]);var kr=ar.current?geInputCaretPosition(ar.current):void 0,Mr=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;Mr(function(){var Ur=ar.current;if(wr!==Nt.current.formattedValue&&Ur){var Lr=pr(Nt.current.formattedValue,wr,kr);Ur.value=wr,or(Ur,Lr,wr)}},[wr]);var $r=function(Ur,Lr,Br){var Xr=Lr.target,zr=cr.current?findChangedRangeFromCaretPositions(cr.current,Xr.selectionEnd):findChangeRange(wr,Ur),Qr=Object.assign(Object.assign({},zr),{lastValue:wr}),Qn=$t(Ur,Qr),nn=nr(Qn);if(Qn=$t(nn,void 0),jt&&!jt(Lt(nn,Qn))){var $n=Lr.target,lo=geInputCaretPosition($n),sn=pr(Ur,wr,lo);return $n.value=wr,or($n,sn,wr),!1}return _r({formattedValue:nn,numAsString:Qn,inputValue:Ur,event:Lr,source:Br,input:Lr.target}),!0},Pr=function(Ur,Lr){Lr===void 0&&(Lr=0);var Br=Ur.selectionStart,Xr=Ur.selectionEnd;cr.current={selectionStart:Br,selectionEnd:Xr+Lr}},Fr=function(Ur){var Lr=Ur.target,Br=Lr.value,Xr=$r(Br,Ur,SourceType.event);Xr&&Ut(Ur),cr.current=void 0},Tr=function(Ur){var Lr=Ur.target,Br=Ur.key,Xr=Lr.selectionStart,zr=Lr.selectionEnd,Qr=Lr.value;Qr===void 0&&(Qr="");var Qn;Br==="ArrowLeft"||Br==="Backspace"?Qn=Math.max(Xr-1,0):Br==="ArrowRight"?Qn=Math.min(Xr+1,Qr.length):Br==="Delete"&&(Qn=Xr);var nn=0;Br==="Delete"&&Xr===zr&&(nn=1);var $n=Br==="ArrowLeft"||Br==="ArrowRight";if(Qn===void 0||Xr!==zr&&!$n){tr(Ur),Pr(Lr,nn);return}var lo=Qn;if($n){var sn=Br==="ArrowLeft"?"left":"right";lo=gr(Qr,Qn,sn),lo!==Qn&&Ur.preventDefault()}else Br==="Delete"&&!hr(Qr[Qn])?lo=gr(Qr,Qn,"right"):Br==="Backspace"&&!hr(Qr[Qn])&&(lo=gr(Qr,Qn,"left"));lo!==Qn&&or(Lr,lo,Qr),tr(Ur),Pr(Lr,nn)},Rr=function(Ur){var Lr=Ur.target,Br=function(){var Xr=Lr.selectionStart,zr=Lr.selectionEnd,Qr=Lr.value;if(Qr===void 0&&(Qr=""),Xr===zr){var Qn=gr(Qr,Xr);Qn!==Xr&&or(Lr,Qn,Qr)}};Br(),requestAnimationFrame(function(){Br()}),ir(Ur),Pr(Lr)},Er=function(Ur){Ur.persist&&Ur.persist();var Lr=Ur.target,Br=Ur.currentTarget;ar.current=Lr,lr.current.focusTimeout=setTimeout(function(){var Xr=Lr.selectionStart,zr=Lr.selectionEnd,Qr=Lr.value;Qr===void 0&&(Qr="");var Qn=gr(Qr,Xr);Qn!==Xr&&!(Xr===0&&zr===Qr.length)&&or(Lr,Qn,Qr),sr(Object.assign(Object.assign({},Ur),{currentTarget:Br}))},0)},Or=function(Ur){ar.current=null,clearTimeout(lr.current.focusTimeout),clearTimeout(lr.current.setCaretTimeout),ur(Ur)},Wr=Yt&&addInputMode()?"numeric":void 0,qr=Object.assign({inputMode:Wr},yr,{type:s,value:wr,onChange:Fr,onKeyDown:Tr,onMouseUp:Rr,onFocus:Er,onBlur:Or});if(et==="text")return at?React$2.createElement(React$2.Fragment,null,at(wr,yr)||null):React$2.createElement("span",Object.assign({},yr,{ref:mt}),wr);if(nt){var Vr=nt;return React$2.createElement(Vr,Object.assign({},qr,{ref:mt}))}return React$2.createElement("input",Object.assign({},qr,{ref:mt}))}function format(a,s){var et=s.decimalScale,nt=s.fixedDecimalScale,at=s.prefix;at===void 0&&(at="");var mt=s.suffix;mt===void 0&&(mt="");var wt=s.allowNegative,$t=s.thousandsGroupStyle;if($t===void 0&&($t="thousand"),a===""||a==="-")return a;var Ct=getSeparators(s),Dt=Ct.thousandSeparator,Ft=Ct.decimalSeparator,jt=et!==0&&a.indexOf(".")!==-1||et&&nt,Ut=splitDecimal(a,wt),tr=Ut.beforeDecimal,ir=Ut.afterDecimal,sr=Ut.addNegation;return et!==void 0&&(ir=limitToScale(ir,et,!!nt)),Dt&&(tr=applyThousandSeparator(tr,Dt,$t)),at&&(tr=at+tr),mt&&(ir=ir+mt),sr&&(tr="-"+tr),a=tr+(jt&&Ft||"")+ir,a}function getSeparators(a){var s=a.decimalSeparator;s===void 0&&(s=".");var et=a.thousandSeparator,nt=a.allowedDecimalSeparators;return et===!0&&(et=","),nt||(nt=[s,"."]),{decimalSeparator:s,thousandSeparator:et,allowedDecimalSeparators:nt}}function handleNegation(a,s){a===void 0&&(a="");var et=new RegExp("(-)"),nt=new RegExp("(-)(.)*(-)"),at=et.test(a),mt=nt.test(a);return a=a.replace(/-/g,""),at&&!mt&&s&&(a="-"+a),a}function getNumberRegex(a,s){return new RegExp("(^-)|[0-9]|"+escapeRegExp(a),"g")}function isNumericString(a,s,et){return a===""?!0:!(s!=null&&s.match(/\d/))&&!(et!=null&&et.match(/\d/))&&typeof a=="string"&&!isNaN(Number(a))}function removeFormatting(a,s,et){var nt;s===void 0&&(s=getDefaultChangeMeta(a));var at=et.allowNegative,mt=et.prefix;mt===void 0&&(mt="");var wt=et.suffix;wt===void 0&&(wt="");var $t=et.decimalScale,Ct=s.from,Dt=s.to,Ft=Dt.start,jt=Dt.end,Ut=getSeparators(et),tr=Ut.allowedDecimalSeparators,ir=Ut.decimalSeparator,sr=a[jt]===ir;if(charIsNumber(a)&&(a===mt||a===wt)&&s.lastValue==="")return a;if(jt-Ft===1&&tr.indexOf(a[Ft])!==-1){var ur=$t===0?"":ir;a=a.substring(0,Ft)+ur+a.substring(Ft+1,a.length)}var fr=function(ar,lr,nr){var Lt=!1,or=!1;mt.startsWith("-")?Lt=!1:ar.startsWith("--")?(Lt=!1,or=!0):wt.startsWith("-")&&ar.length===wt.length?Lt=!1:ar[0]==="-"&&(Lt=!0);var gr=Lt?1:0;return or&&(gr=2),gr&&(ar=ar.substring(gr),lr-=gr,nr-=gr),{value:ar,start:lr,end:nr,hasNegation:Lt}},dr=fr(a,Ft,jt),hr=dr.hasNegation;nt=dr,a=nt.value,Ft=nt.start,jt=nt.end;var vr=fr(s.lastValue,Ct.start,Ct.end),yr=vr.start,xr=vr.end,br=vr.value,wr=a.substring(Ft,jt);a.length&&br.length&&(yr>br.length-wt.length||xr<mt.length)&&!(wr&&wt.startsWith(wr))&&(a=br);var Sr=0;a.startsWith(mt)?Sr+=mt.length:Ft<mt.length&&(Sr=Ft),a=a.substring(Sr),jt-=Sr;var Cr=a.length,cr=a.length-wt.length;a.endsWith(wt)?Cr=cr:(jt>cr||jt>a.length-wt.length)&&(Cr=jt),a=a.substring(0,Cr),a=handleNegation(hr?"-"+a:a,at),a=(a.match(getNumberRegex(ir))||[]).join("");var Nt=a.indexOf(ir);a=a.replace(new RegExp(escapeRegExp(ir),"g"),function(ar,lr){return lr===Nt?".":""});var Vt=splitDecimal(a,at),er=Vt.beforeDecimal,Yt=Vt.afterDecimal,rr=Vt.addNegation;return Dt.end-Dt.start<Ct.end-Ct.start&&er===""&&sr&&!parseFloat(Yt)&&(a=rr?"-":""),a}function getCaretBoundary(a,s){var et=s.prefix;et===void 0&&(et="");var nt=s.suffix;nt===void 0&&(nt="");var at=Array.from({length:a.length+1}).map(function(){return!0}),mt=a[0]==="-";at.fill(!1,0,et.length+(mt?1:0));var wt=a.length;return at.fill(!1,wt-nt.length+1,wt+1),at}function validateAndUpdateProps(a){var s=getSeparators(a),et=s.thousandSeparator,nt=s.decimalSeparator,at=a.prefix;at===void 0&&(at="");var mt=a.allowNegative;if(mt===void 0&&(mt=!0),et===nt)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+et+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+nt+` (default value for decimalSeparator is .)
     `);return at.startsWith("-")&&mt&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+at+`
      allowNegative: `+mt+`
    `),mt=!1),Object.assign(Object.assign({},a),{allowNegative:mt})}function useNumericFormat(a){a=validateAndUpdateProps(a),a.decimalSeparator,a.allowedDecimalSeparators,a.thousandsGroupStyle;var s=a.suffix,et=a.allowNegative,nt=a.allowLeadingZeros,at=a.onKeyDown;at===void 0&&(at=noop);var mt=a.onBlur;mt===void 0&&(mt=noop);var wt=a.thousandSeparator,$t=a.decimalScale,Ct=a.fixedDecimalScale,Dt=a.prefix;Dt===void 0&&(Dt="");var Ft=a.defaultValue,jt=a.value,Ut=a.valueIsNumericString,tr=a.onValueChange,ir=__rest(a,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),sr=getSeparators(a),ur=sr.decimalSeparator,fr=sr.allowedDecimalSeparators,dr=function(rr){return format(rr,a)},hr=function(rr,ar){return removeFormatting(rr,ar,a)},vr=isNil(jt)?Ft:jt,yr=Ut??isNumericString(vr,Dt,s);isNil(jt)?isNil(Ft)||(yr=yr||typeof Ft=="number"):yr=yr||typeof jt=="number";var xr=function(rr){return isNotValidValue(rr)?rr:(typeof rr=="number"&&(rr=toNumericString(rr)),yr&&typeof $t=="number"?roundToPrecision(rr,$t,!!Ct):rr)},br=useInternalValues(xr(jt),xr(Ft),!!yr,dr,hr,tr),wr=br[0],Sr=wr.numAsString,Cr=wr.formattedValue,cr=br[1],Nt=function(rr){var ar=rr.target,lr=rr.key,nr=ar.selectionStart,Lt=ar.selectionEnd,or=ar.value;if(or===void 0&&(or=""),(lr==="Backspace"||lr==="Delete")&&Lt<Dt.length){rr.preventDefault();return}if(nr!==Lt){at(rr);return}lr==="Backspace"&&or[0]==="-"&&nr===Dt.length+1&&et&&setCaretPosition(ar,1),$t&&Ct&&(lr==="Backspace"&&or[nr-1]===ur?(setCaretPosition(ar,nr-1),rr.preventDefault()):lr==="Delete"&&or[nr]===ur&&rr.preventDefault()),fr!=null&&fr.includes(lr)&&or[nr]===ur&&setCaretPosition(ar,nr+1);var gr=wt===!0?",":wt;lr==="Backspace"&&or[nr-1]===gr&&setCaretPosition(ar,nr-1),lr==="Delete"&&or[nr]===gr&&setCaretPosition(ar,nr+1),at(rr)},Vt=function(rr){var ar=Sr;if(ar.match(/\d/g)||(ar=""),nt||(ar=fixLeadingZero(ar)),Ct&&$t&&(ar=roundToPrecision(ar,$t,Ct)),ar!==Sr){var lr=format(ar,a);cr({formattedValue:lr,value:ar,floatValue:parseFloat(ar)},{event:rr,source:SourceType.event})}mt(rr)},er=function(rr){return rr===ur?!0:charIsNumber(rr)},Yt=function(rr){var ar=rr.currentValue,lr=rr.lastValue,nr=rr.formattedValue,Lt=rr.currentValueIndex,or=rr.formattedValueIndex,gr=ar[Lt],pr=nr[or],_r=findChangeRange(lr,ar),kr=_r.to,Mr=function($r){return hr($r).indexOf(".")+Dt.length};return jt===0&&Ct&&$t&&ar[kr.start]===ur&&Mr(ar)<Lt&&Mr(nr)>or?!1:Lt>=kr.start&&Lt<kr.end&&fr&&fr.includes(gr)&&pr===ur?!0:gr===pr};return Object.assign(Object.assign({},ir),{value:Cr,valueIsNumericString:!1,isValidInputCharacter:er,isCharacterSame:Yt,onValueChange:cr,format:dr,removeFormatting:hr,getCaretBoundary:function(rr){return getCaretBoundary(rr,a)},onKeyDown:Nt,onBlur:Vt})}function NumericFormat(a){var s=useNumericFormat(a);return React$2.createElement(NumberFormatBase,Object.assign({},s))}function NumericFormatInput(a){const{value:s,decimals:et,placeholder:nt,style:at,onChange:mt,maxValue:wt,minValue:$t=0,inputAllowed:Ct=!0,prefix:Dt,...Ft}=a,jt=Ut=>{var ir;const tr=(ir=Ut==null?void 0:Ut.target)==null?void 0:ir.value;if(tr){if(tr.startsWith(".")){mt(tr.slice(1,tr.length));return}try{if(d$1(tr).eq(0)){mt("0");return}}catch(ur){console.log("🚀 ~ handleChange ~ error:",ur)}let sr=tr.replace(/^0+$/,"0").replace(/^0+(?!\.\d+$)/g,"").replace(/,/g,"")||"";if(sr.startsWith("-")){mt("");return}Dt&&(sr=sr.replace(Dt,"")),wt!==void 0&&d$1(sr).gt(wt)?sr=wt.toString():$t!==void 0&&d$1(sr).lt($t)&&(sr=$t.toString()),mt(String(sr))}else mt("")};return jsxRuntimeExports.jsx(NumericFormat,{value:s,disabled:!Ct,placeholder:nt,decimalScale:et,prefix:Dt,allowLeadingZeros:!0,thousandSeparator:",",onMouseDown:Ut=>{cancelBubble(Ut)},isAllowed:Ut=>!Ut.value.startsWith("-"),onChange:jt,...Ft,style:{...at,cursor:Ct?"text":"not-allowed",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontFeatureSettings:"tnum",fontVariant:"tabular-nums"}})}const GhostLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA6RJREFUWEfNl2von2MYxz/fbdnCvBA1ipKMcopFEXOYGCWxYmi1N8KmyCEph/bCqRSWkawZy8ihkY1lSu3NbHthYjO1lReIlpkmYw5fz7Wu5+/e7//8fr9nz2juV7/fdd/X9/re132dHtFx2Z4AzEn1ZyX92gVKw5Rsj5H0V+8526cAs1O+WNLnw7Ca9gcSsH0yMBdYK+mlEsD26cCslC2R9GnP/pXAScAySVv6kRtGYCZwUSovlLS+BhpEwPapwIw8u07Se10JTAbuSuUfgQcl7Y7//QjYPgi4DTiseJ6vOhFIQzcDZybAcknvpvx44NaUPydpa8rDYxekfJOk1wfFRpsgPAKYB4wDdki6Nw2NKZ7nozpQbYfHJgJ/AM9I2tGKQLr0DCDebFNPQE0DrgXWSFo8CND29cCJwEpJH/fgHFMFZQTvF7XH9nggUg2IKB+bCmuBpZK2FUE3oU2uJ9b4ylO7Ct2IhwuBE1IWaf10eG3kCWzHW9dvF+d+rxRekfRBl/wujEf8TC0uF1sbJa2MH3vFgO1zgRuAwxMg3nF2UyFqQ8p23Pym4uxOYLWkzbVsVBDaHg9EEbkM2CBpQRtjTWfyOa4GJgGfAOslhWdH1tAs6Gq8rd6BJ2D7YOC0zPOa+E8ZKKOaUNub9aRfXPQoIDpovQL7W9meX6XgcQ3AL0t6o4vBXh3bUV/OasD64X9B4MA+wb/h4v3B6JsFtsdK+nN/wNvoNhWiiNQYRK6rhorPgPu6ErEd+K8CEYTRa56S9EvfQmT7YuAW4Mji0ExJ37e5TUP0H1KV4m+AaHax4vcDkt4cVYptR5+fXoBEyYxBY1kX47WO7egFjwBR4uv1oqTb40/djqMNR3eKoSPW6jT+XQE0TlI0p4HLdmBMkvR1oXss8HDVD65K2TZJMVH90w1tnwOcB6yStKG0YjsGzHuAtyU9NoiB7aXZ+++XtKgHJ/AjvmJYWb4XgX6gtqOEvlW5MYbN7ZIujbPZ6epW+0K07Mgc4EsgastvwPmlJ5psDG1Gth8HYiSL9ZqkJ5LA2cCSlM+StC7ldwN3pnyFpHIeGMVh2HfBlKqJPJ9a24FrJP2chi6PtMq9OyS9n/K4fcTQ0bk3Q9Kafh4eRiDePepBrIckrSgCq5FAkoghpB5k3qnSuB7f99kDEZiPVrNijN0xmo8s230JJIknqwn7ivhIkbSqkwf6KaWBS4pbzpX04aDz/wWBQ2NqTuAb69jYVxJ/A8eXcdbPzepuAAAAAElFTkSuQmCC",PrimaryLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAbKADAAQAAAABAAAAbAAAAAD529oeAAAJzUlEQVR4Ae1dz4sURxj9undNVkLMikSIoJ5zCYSQy6oQFQNBE5ND9p6jxvwAYf+IgBCj0WPu5pCYuJeMPwLqXiQEctmzK6wgSH4RNHHdzns1U2PP7MzO7E5V12uYRu2enpn6Xr3X1V399fuczGq+XPit2P70sR0tMjuCruyxwnZZhr9cClvG9jK2lrLCGhNTNn/ytex3915N/8lqitvO/1J8sLpqnxSFHUAfJofsx0qW2c08t3On3si+G/I7Uh+rnWDn7hT7CrMvINTMKExCuAV0fu6TN7Pbo7RT9XdrI9ilopi4/4udsVX7LChJuZ195Q07PZtlT4O2G6mxWgj2za/F9F8rdgnXJF6nwi+ZNbZN2uxHr2d/hG88bIvygrXEWoBYr4bteldrmS1CtBl10fIu2FIveRpsjay4YrHXOCAYizGlSOgCIy2Yu2bFOg12EeFeIpaL2es9kX2yp0TOBlcLu5WCpzyz/aqzR9kRxql7CrEYM2XsQX2WFIw3xaPeZw3q+HrvMzYxrPeZVO9JCsYMRipCfFwFDB5LeS13DWNu8MljewCQw6abyv0Jub2yZcp2quUe5UbYk3/tmIBYFH6yhSXkQTByW3KCYcjHyWZsgiolLB6+nGAAttuDE1grYXF06AnG51kqixKWFid6gvmHjwqiKWFRFQz3QLhv1ViUsHhG5EYYLvT3PbjUayUsngs5wVoeDI8v7brpB0mLoSu6nmAwzHRhTPlSCYvjQU4wXMCuplSoHJtOq/JrhW05wbY8b1dAzIoAOSu0xQng6IAgJxhzd7SidaBM8IIY1PKIpEFOMAcKvsEEGnWEpHexY4fIC8xcNZev7hS3Uz0To2fx0zezfYrMSI4wEoUjaS4VYSljD+qzrGDOUwGT56AOBH8fMVX9HOyrrGAER0cuhlp1U2vEcjEZXHSRFoz2aTpyIdpidP6aRtJZdcu2tGAUiU5cOnKjjrSmVVve9Us+ZGeJBFdexsUQTTZqI5gXb1xu5Jmo2Xpc0FczwTxcZ4uD0wqnCpp3duPxZ6+S2XtIKjeYp1RMN/m+DLPe8CnxxJViuz21oyQIdcV7kNGmB8P7MJaxbxn7lkiQTdj8xWP1rikehsTyZ27eLbb/a6i55gFUoOaa3HirAWuuzdVdL4G/xvNm8wf2boyfoQX7+EfYp+nIzewAUkZDmTyR4lkB6JsZ8nJfv1vPmuKyGOttX7uHmuunm+Mnn7Bzh3cPx89AwU5dRhUJa4ptxJpiswXcQ8ydP16vmuL1ROJ71+8W+/As6AscmCPVXGMgLGAUzB3auz4/fQXjNPrnH+wMhApaU4yAZ996rz41xf0EK8DPtSU7g5KooPyg1Ons4T12OutTc91TsM9vFNP//W3QLI4LF6fKxnMv2uyXB/VrinsJduP3YvrJX3Frrrdss9mD29fys0awllgLECtqmSpEW4RoM3UTjWKt/GkLOPPE5cdscfIlm+kWrSM1xdNga2RFBcOjlgcEYzFmr6NYcR9PgxxZscVy/OCAcLG6+OkQzF2zIp0GewnAUy5j9npPcR+vWZhcVFesgVguZomM9imRs0H8zyJJaooxxParzx7dbDBRzfUkaq797LE9wjh1LwlZ6WbK2MN21E3dh/1w4M+VYzvB3E3xiPdZo2DkPR4xjNJGzO/ypnjk+6xRAOIez2FAG04wl8EYpcEA31XA0K8bLoPR782K9nsMGXOD2ao9wARgqHRTLHxMYxW57VTLPTI3+Ng0+Jky25nnq3YstVg8CIiBWGIdEJtt95Hp8EMs4KjCaeoA1pSweKiYRlc3jfdB+6yJhdcwpTpeJSxN2gohfoAlbz3P6qNptbuVsJR67p/1lXYl29zFESYFKBkV/QL7h4/93q9yP7DkuAfCH41FCUubEaGaayhV4PHLuKa4LU7vDZmaa8C7n9OD0Rtn9XuVsJR6L8MPMC1z0rFUApd0UwlLm4hMhx/YCJZyZBiutsEl3sA1rLrChyH7Ckwy/ODy1chXc7vCtNCQ+KN9zGGALS5agE02vNV0+KEtLne5O1jRNtmfcF8DBrU8IjvnfIMi/BCLy9bTNxiO+c21pIChH3L6Bvu9V9V+jwGnxeZy8jJqihM9EwOIhQvHNWuKPT8/3S1uJ3smBs/i23ub/LgRRlDYSFZTnDK2F2TQmibPQZ+J9X45dlsweipwpFdeU8yY6n4OCkFPBU2esUTp1y5jej8HP9MWjC/oyMVsrbKpNWMxJmPXYaEjF/dClfHDWC5miZwOwVjfS0cuiIxeU8wYjKVeU1ziymifpiMXZ4X4/CCGi9Vl2e4QjODoxKUjN+ZIY9t1dP2SHzpx6ciNOtLATy/XL+PjYOm90JE7LobozQ33ShVDlGGOy43KbKzdlik36oY2LujrZqTztUxBXycsM9ri6G5qGWZ2tx7r+6fWrmQW37mHi2ODeUrFdFN3n0K+pi2O7iZca1gyS49Kr5JZV3PNPGW0ktmQnQrZ1tEL8A3mdhQ/bnPE11wjY+MOIJDWrrnGf6fXmFq1+fmTG6spDok1RFt9Jx0hGo/ZxqGLqCku3K8gHUCcYU2wfCpxEzej566fGK6mOGYfNtN27QQ7eLHYh1NNkJprzJHnbpxYv6Z4M6TG/E5tBPvwUjHx8GGcmuIdO+z0t7Pj33EOdqC9/00x/cfjuDXF01M2+/1Ha2uKg3UiUEPyI8yJ9cgW0N/YZbyL01ttRl20NampQAdCkGZ4GnQjK75YxPsqYzFmEPCRGpEWjNcsTDCqK0ZALBczEtkhmpU9JXI2iBKkWyE6udE2kJzerzp71B1hmLpvlOhgn08Ze0AnJAXjTXEqfwn5YmxiGMBdkrclBWtlMJIQ4oMqYPBYymu5axhzg/+gphggh003lfsTcnvlBdQUq+Ue5UbYo0znd5xbWEIeBCO3JScYrh/VTeMH0KeExUNVFEymzhmCyWCRFUypzlkJi6xgOKr902uPMdlaCYsnQe6UiGdU4ElkUcLSokROMJyGZGqKlbD4Q1hOMKU6ZyUssoLhqF7y4FKvlbB4LuRGGDLlMjXFdFp5olTWcoJtLXR+x5m2OBWhPA45wVq5u/Q117DDqeURKZqcYA4UfIP+iEq1pncxVez14spl6z3YgxfS1lzfOKlZcy05wpxoMHl68Spfp4w9oLOygtFTkaqmWNXPQS1lBSM4OnKjVjoySHlB5aOLWd4nti17DfM8jY2knonmWnqEESKduHTkRh1pGFl1cP2SD3nBvGgv77B3YlzT2CbbVrdokwcu8qfEJsxn/47LjZ5xUautcUFfreR6Bpa2OLqb8NTzCP66mmv/pBinj2bJLGqusd1gnlIx3fSsN4O3/geTqWMhW4ldAwAAAABJRU5ErkJggg==",spin=keyframes$1`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`,imageMap={primary:PrimaryLoading,ghost:GhostLoading};function Spinner({size:a="20px",variant:s="primary",wrapStyle:et={}}){return jsxRuntimeExports.jsx(Center,{w:"100%",h:"100%",...et,children:jsxRuntimeExports.jsx(Image$1,{boxSize:a,src:imageMap[s],alt:"Loading",animation:`${spin} 1s linear infinite`})})}const alertTheme={baseStyle:{zIndex:999999,button:{color:"orange"},container:{zIndex:999999,bg:"none"},icon:{color:"text_paragraph"},spinner:{color:"text_paragraph"},title:{color:"text_caption",fontSize:"md"},description:{color:"text_paragraph",fontSize:"sm"}},variants:{subtle:{}},defaultProps:{variant:"subtle"}},baseStyle$1={fontWeight:"normal",borderRadius:"12px",fontFamily:"Inter",minW:"unset !important",_focusVisible:{boxShadow:"none",outline:"none"}},variants={solid:{bg:"primary",minW:"unset !important",_hover:{bg:{base:"",lg:"primary_hover"},_disabled:{bg:"primary_disabled",color:"primary_gray"}},_active:{bg:"primary_hover"},_disabled:{opacity:1,bg:"primary_disabled",color:"primary_gray",_hover:{bg:"unset",color:"unset",opacity:1}},color:"block_color"},outline:{bg:"button_outline_bg",border:"1px solid ",borderColor:"border !important",color:"primary",minW:"unset !important",_hover:{borderColor:"border",bg:{base:"",lg:"button_outline_hov_bg"},color:{base:"",lg:"primary"}},_active:{borderColor:"border",bg:"button_outline_hov_bg",color:"primary"},_disabled:{opacity:1,bg:"button_outline_disabled_bg",color:"primary_gray",border:"1px solid",borderColor:"border",_hover:{opacity:1,color:"primary_gray",bg:"button_outline_disabled_bg !important"}}},ghost:{bg:"button_ghost_bg !important",borderRadius:"8px",border:"1px solid",borderColor:"border !important",color:"primary_gray",minW:"unset !important",_hover:{border:{base:"",lg:"1px solid"},borderColor:{base:"",lg:"border !important"},bg:{base:"",lg:"button_ghost_hov_bg !important"},color:"primary_gray"},_active:{border:"1px solid",borderColor:"border !important",bg:"button_ghost_hov_bg !important",color:"primary_gray"},_disabled:{opacity:1,border:"1px solid",borderColor:"border !important",bg:"button_ghost_disabled_bg !important",color:"primary_gray",_hover:{opacity:1,bg:"button_ghost_disabled_bg !important",color:"primary_gray"}}}},buttonTheme={baseStyle:baseStyle$1,variants,defaultProps:{size:"md",variant:"solid"},sizes:{lg:{fontWeight:"550",height:"48px"},md:{fontWeight:"400"}}},cardTheme={baseStyle:{container:{borderRadius:"16px",paddingLeft:"16px",paddingRight:"16px",paddingTop:"20px",paddingBottom:"20px"},body:{color:"text_paragraph",padding:"0px,0px,0px,0px"},header:{color:"text_caption"},footer:{}},variants:{filled:{container:{bg:"card_bg"}},outline:{container:{bg:"card_bg"}}},defaultProps:{variant:"filled"}},checkboxTheme={baseStyle:{icon:{},container:{},control:{bg:"checked_bg",border:"0px",borderRadius:"4px",color:"primary",_hover:{bg:"checked_bg",color:"primary"},_checked:{bg:"checked_bg",color:"primary"}},label:{color:"text_caption",_checked:{color:"primary"}}}},drawerTheme={baseStyle:{overlay:{bg:"block_color_opacity.80",backdropFilter:"blur(10px)"},dialogContainer:{padding:{md:"0 8px",lg:"0px"}},dialog:{bg:"block_color_opacity.93",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)"},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},baseStyle={fontFamily:"Inter"},formTheme={baseStyle},headingTheme={baseStyle:{fontFamily:"Inter",color:"text_caption"}},inputTheme={baseStyle:{addon:{"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},field:{fontFamily:"Inter","::placeholder":{color:"text_paragraph"},_light:{"::placeholder":{color:"text_paragraph"}}}},variants:{unstyled:{field:{color:"text_caption",fontSize:"2xl",_disabled:{color:"text_paragraph",opacity:1}},"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},outline:{field:{bg:"bg_secondary",color:"text_caption",border:"1px",borderColor:"border",borderRadius:"16px",fontSize:"2xl",height:"52px",width:"100%",_hover:{borderColor:"border",bg:"bg_secondary"},"::placeholder":{color:"text_paragraph"},_focusVisible:{borderColor:"primary",boxShadow:"0px 1px 0px 0px primary"}},addon:{height:"100%"}}},defaultProps:{variant:"unstyled"}},menuTheme={baseStyle:{button:{bg:"bg_secondary",color:"text_paragraph"},list:{bg:"bg_secondary",p:"16px",borderRadius:"12px",backdropFilter:"blur(20px)",border:"1px solid",borderColor:"border",boxShadow:"unset !important"},item:{bg:"none",color:"text_paragraph",fontSize:"sm"},groupTitle:{},icon:{},command:{},divider:{}}},modalTheme={baseStyle:{overlay:{bg:"rgba(0,0,0,0.8)"},dialogContainer:{top:"28px",bottom:"28px",overflowY:"scroll",padding:{base:"0 8px 56px",lg:"0px 0 56px"}},dialog:{bg:"background",border:"1px solid",borderColor:"border",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)",transition:{duration:.1}},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},popoverTheme={baseStyle:{popper:{bg:"transparent",color:"text_paragraph",borderRadius:"0px",border:"0px solid",borderColor:"border",_focus:{outline:"none !important",boxShadow:"unset !important"}},content:{bg:"bg_secondary",border:"1px solid",borderColor:"border",borderRadius:"8px",_focus:{outline:"unset",boxShadow:"unset !important"}},header:{color:"text_caption",fontSize:"12px"},body:{color:"text_paragraph",borderRadius:"8px"},footer:{color:"text_paragraph"},closeButton:{color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"}}}},progressTheme={baseStyle:{track:{borderRadius:"8px",bg:"transparent",border:"0px",borderColor:"none"},filledTrack:{bg:"process_bg",borderRadius:"8px"}},defaultProps:{}},$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),skeletonTheme={baseStyle:{[$startColor.variable]:"var(--chakra-colors-loading_gradient_start)",[$endColor.variable]:"var(--chakra-colors-loading_gradient_end)",background:"background",width:"96px",height:"16px",borderRadius:"4px",opacity:"0.5"}},sliderTheme={baseStyle:{container:{},track:{bg:"bg_four",h:"4px",borderRadius:"4px"},thumb:{w:"12px",h:"12px",bg:"primary",borderRadius:"10px",border:"1px",borderColor:"bg_four",position:"relative",_before:{content:"''",width:"6px",height:"6px",borderRadius:"100%",background:"bg_four",position:"absolute",left:"50%",top:"50%",marginLeft:"-3px",marginTop:"-3px"},_focusVisible:{boxShadow:"sm"}},filledTrack:{bg:"primary"}},defaultProps:{colorScheme:"primary"}},stepperTheme={baseStyle:{stepper:{},title:{fontSize:"14px",color:"text_caption",opacity:.5,"&[data-status=complete]":{color:"primary",opacity:1},"&[data-status=active]":{color:"primary",opacity:1}},description:{},number:{},step:{minH:"66px",display:"flex",justifyContent:"flex-start",alignItems:"center"},icon:{},indicator:{w:"28px",h:"28px",borderRadius:"8px","&[data-status=complete]":{bg:"none",borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=active]":{borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=incomplete]":{bg:"none",borderWidth:"1px",borderColor:"border",color:"#FFCA680"}},separator:{marginTop:"14px","&[data-orientation=vertical]":{w:"1px",h:"32px",bg:"primary",maxH:"auto"}}}},switchTheme={baseStyle:{thumb:{w:"14px",h:"14px",borderRadius:"7px",bg:"switch_thumb",_checked:{bg:"switch_thumb"}},track:{align:"center",w:"28px",h:"14px",bg:"switch_inactive_bg",p:"1px",border:"1px solid",borderRadius:"9px",borderColor:"border !important",_checked:{bg:"switch_active_bg"},_focusVisible:{boxShadow:"unset !important"}}}},tableTheme={baseStyle:{fontFamily:"Inter"},sizes:{sm:{th:{fontSize:"12px"},td:{fontSize:"14px"}}},variants:{unstyled:{table:{},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",textTransform:"none",fontSize:"14px",p:"8px !important",_first:{pl:"16px !important"},_last:{textAlign:"right",pr:"16px !important"}},tbody:{tr:{td:{textAlign:"right",color:"text_caption",fontFamily:"Inter",p:"8px !important",_first:{pl:"16px !important",textAlign:"left",borderRadius:"12px 0 0 12px"},_last:{pr:"16px !important",borderRadius:"0 12px  12px 0"}},_hover:{bg:"primary_opacity.10",borderRadius:"12px",backdropFilter:"blur(10px)"}}}},simple:{table:{borderCollapse:"separate",borderSpacing:"0px 4px"},th:{fontFamily:"Inter",textTransform:"none",fontSize:"14px",fontWeight:"400",borderBottom:"0px",padding:"0px"},tr:{_last:{td:{border:"none"}}},td:{fontFamily:"Inter",borderColor:"border",padding:"16px 0px"}},simple_list:{table:{borderCollapse:"separate",borderSpacing:"0px 0px"},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",fontSize:"14px",textTransform:"none",textAlign:"right",padding:"12px 8px",_first:{pl:"16px",textAlign:"left"},_last:{textAlign:"right",pr:"16px"}},tbody:{tr:{td:{fontFamily:"Inter",bg:"bg_secondary",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"border",textAlign:"right",padding:"16px 8px",_first:{pl:"16px",borderRadius:"16px 0 0 16px",borderLeft:"1px solid",borderColor:"border",textAlign:"left"},_last:{pr:"16px",borderRadius:"0 16px  16px 0",borderRight:"1px solid",borderColor:"border"}},_hover:{bg:"primary_opacity.10",borderRadius:"16px",backdropFilter:"blur(10px)"}}}},striped:{table:{},th:{fontFamily:"Inter",color:"text_paragraph",textTransform:"none",padding:"16px",border:"none"},td:{fontFamily:"Inter",color:"text_caption",border:"none !important",padding:"16px"}}},defaultProps:{variant:"unstyled"}},tabsTheme={variants:{}},textTheme={baseStyle:{fontSize:"sm",color:"text_paragraph",fontFamily:"Inter"}},tooltipTheme={baseStyle:{bg:"bg_secondary",color:"text_paragraph",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"9px 12px",fontSize:"12px",boxShadow:"unset"}},components={Button:buttonTheme,Switch:switchTheme,Input:inputTheme,Text:textTheme,Heading:headingTheme,Checkbox:checkboxTheme,Progress:progressTheme,Slider:sliderTheme,Card:cardTheme,Menu:menuTheme,Modal:modalTheme,Tooltip:tooltipTheme,Popover:popoverTheme,Stepper:stepperTheme,Skeleton:skeletonTheme,Table:tableTheme,Alert:alertTheme,Drawer:drawerTheme,FormControl:formTheme,Tabs:tabsTheme},typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},foundations={typography},colors={background:"#161616",bg_primary:"#161616",bg_secondary:"#0F0F0F",bg_third:"#191919",bg_four:"#202224",bg_fifth:"#1A1D21",bg_six:"#191B1E",bg_seven:"#171717",menu_item_bg:"#181818",menu_item_hover_bg:"#1f1f1f",block_color:"#000000",text_caption:"#FFFFFF",text_paragraph:"#909CA4",text_highlight:"#72C1F7",top_coin_address_text:"#86FFE4",primary:"#75C8FF",primary_gray:"#7F98A7",primary_green:"#68FFD8",primary_yellow:"#FFCA68",primary_red:"#FF5073",primary_blue:"#62AADB",light_coral:"#AE6161",quote_green:"#027658",text_green:"#AAFFC9",primary_hover:"#8DD2FF",primary_disabled:"#25303A",button_outline_bg:"#0F0F0F",button_outline_hov_bg:"rgba(114,193,247,0.1)",button_outline_disabled_bg:"#25303A",button_ghost_bg:"#1A1C25",button_ghost_hov_bg:"#242733",button_ghost_disabled_bg:"#25303A",switch_active_bg:"#72C1F7",switch_inactive_bg:"#768691",switch_thumb:"#FFFFFF",border:"#2A3238",button_outline_border:"#00334C",input_error_border:"#FC8181",h5_route_border:"#8BABBE",h5_router_percentage_bg:"#22333D",token_inactive_border:"#2b3239",token_active_border:"#4F86AB",trade_input_border_light:"#344E61",checked_bg:"#1A1C25",process_bg:"#3C60F7",process_bg_value:"#2CDAB0",card_bg:"#192128",card_bg_hover:"#1D262E",form_card_bg:"#1D1F21",input_bg:"#141414",input_disabled:"#121719",launch_title:"#C3F8E6",scroll_header_bg:"linear-gradient( 270deg, #003D4C 0%, #170033 100%)",scroll_header_border:"linear-gradient( 270deg, #005B99 0%, #480077 100%)",ranking_table_bg:"linear-gradient( 0deg, #151A29 0%, #0F0F0F 100%)",market_table_bg:"linear-gradient( 0deg, #152429 0%, #0F0F0F 100%)",status_text:"linear-gradient(to left, #4CB6FF 0%, #7CFFD0 100%)",ranking_list_h5_bg:"linear-gradient( 180deg, #0F0F0F 100%, #151A29 0%)",trade_icon_shadow:"inset 0px 0px 6px 0px rgba(255,255,255,0.2)",bubble_bg_created:"#003254",bubble_bg_complete:"linear-gradient( 270deg, #055C45 0%, #002E73 100%)",bubble_bg_buy:"#006147",bubble_bg_sell:"#46121C",plus_mode_color:"linear-gradient(90deg, #c7f9d4, #eff7d0 48%, #f8beff)",beta_tag_color:"linear-gradient( 90deg, #C6F9D4 5%, #FFFDB3 30%, #D5ECFA 66%, #FBD7FF 87%, #F7B8FF 100%)",beta_tag_border_color:"linear-gradient(90deg, rgba(198, 249, 212, 1), rgba(255, 253, 179, 1), rgba(213, 236, 250, 1), rgba(251, 215, 255, 1), rgba(247, 184, 255, 1)) 1 1",circle_progress_color:"#72C1F7",circle_progress_track_color:"#333333",crop_slider_tracker:"#1F272D",status_tag_bg:"#313336",progress_track:"linear-gradient( 270deg, #22A5FF 0%, #7CFFD0 100%)",skeleton_light:"linear-gradient( 270deg, #606060 0%, #313131 100%)",pending_yield_bg:"#192128",position_status_bg:"rgba(118, 200, 255, 0.1)",position_farms_bg:"rgba(203, 150, 255, 0.2)",position_farms_color:"rgba(203, 150, 255, 1)",modal_bg:"rgba(32, 32, 32, 0.8)",primary_opacity:{10:"rgba(117,200,255,0.1)",50:"rgba(117,200,255,0.5)",60:"rgba(117,200,255,0.6)"},primary_green_opacity:{10:"rgba(104,255,216,0.1)"},primary_yellow_opacity:{10:"rgba(255,202,104,0.1)"},primary_red_bg:"rgba(63, 35, 40,0.8)",primary_red_opacity:{10:"rgba(255,80,115,0.1)"},text_paragraph_opacity:{20:"rgba(144,156,164,0.2)"},text_highlight_opacity:{10:"rgba(114,193,247,0.1)",20:"rgba(114,193,247,0.2)",30:"rgba(114,193,247,0.3)"},block_color_opacity:{4:"rgba(0,0,0,0.04)",10:"rgba(0,0,0,0.1)",50:"rgba(0,0,0,0.5)",93:"rgba(0,0,0,0.93)",80:"rgba(0,0,0,0.8)"},white_color_opacity:{10:"rgba(255,255,255,0.1)",50:"rgba(255,255,255,0.5)",80:"rgba(255,255,255,0.8)"},frosted_glass:{1:"rgba(59,59,59,0.1)",5:"rgba(218,218,218,0.05)"},swap_bg_primary:"#1B242C",swap_bg_secondary:"#161A1E",swap_card_bg:"#161A1E",swap_card_bg_2:"rgba(114, 193, 247, 0.05)",swap_border:"rgba(114, 193, 247, 0.2)"},styles={global:{"@font-face":{fontFamily:"Inter",fontWeight:"normal",fontStyle:"normal",fontDisplay:"swap"},"html body":{width:"100%",background:"background",fontFamily:"Inter"},body:{lineHeight:1},label:{fontFamily:"Inter"},button:{fontFamily:"Inter",_focusVisible:{boxShadow:"none",outline:"none"}},input:{fontFamily:"Inter",caretColor:"var(--chakra-colors-text_caption) !important"},".recharts-cartesian-axis-line":{display:"none"},".recharts-sector:focus":{outline:"none !important"},".recharts-cartesian-axis-ticks":{marginTop:"4px"},".chakra-input__right-element":{height:"100% !important"},".chakra-toast__inner":{button:{color:"text_paragraph",_hover:{color:"text_caption"}}},".exchange":{w:"40px",h:"44px",cursor:"pointer",bgSize:"100% auto",bgRepeat:"no-repeat",bgPosition:"center center",mt:"-20px",mb:"-2px",zIndex:9},".swap-exchange":{bgImage:'url("/images/btn_swap@2x.png")',_hover:{bgImage:'url("/images/btn_swap_hov@2x.png")'}},".liquidity-add":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add_hov@2x.png")'}},".position-img":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add@2x.png")'}},".confirm-order-img":{w:"30px",h:"33px",bgImage:'url("/images/btn_down@2x.png")',_hover:{bgImage:'url("/images/btn_down@2x.png")'}},".aprTooltip_btn":{display:"flex",alignItems:"center"},".delimiter":{fontFamily:"Inter",fontWeight:"normal"},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},".loading_animation":{animation:"rotate 1s linear infinite"},".price-historical-selection":{display:"none !important"},".price-historical-y-axis text":{display:"none"},".price-historical-y-axis line":{display:"none"},".price-historical-y-axis path":{display:"none"},".price-historical-x-axis line":{display:"none"},".price-historical-x-axis path":{display:"none"}}},config$1={initialColorMode:"dark",useSystemColorMode:!1},textStyles={caption:{fontWeight:400,lineHeight:"100%",color:"text_caption",fontFamily:"Inter"},paragraph:{fontWeight:400,lineHeight:"100%",color:"text_paragraph",fontFamily:"Inter"}},breakpoints={base:"0px",md:"500px",lg:"810px",xl:"1200px","2xl":"2500px"},theme=extendTheme({config:config$1,styles,textStyles,breakpoints,...foundations,components,semanticTokens:{colors}});function Block({children:a,...s}){return jsxRuntimeExports.jsx(Box,{as:"div",w:"100%",borderRadius:"20px",border:"1px solid",borderColor:"border",bg:"bg_secondary",p:"20px 16px",...s,children:a})}var depsEqual=function(a,s){return a===void 0&&(a=[]),s===void 0&&(s=[]),isEqual(a,s)},createDeepCompareEffect=function(a){return function(s,et){var nt=reactExports.useRef(),at=reactExports.useRef(0);(et===void 0||!depsEqual(et,nt.current))&&(at.current+=1),nt.current=et,a(s,[at.current])}};const useDeepCompareEffect=createDeepCompareEffect(reactExports.useEffect);function TokenAvatar({coin_type:a,size:s="38px",src:et,is_trusted:nt=!0,variant:at,style:mt={}}){return jsxRuntimeExports.jsx(Box,{w:s,h:s,minW:s,minH:s,maxW:s,maxH:s,borderRadius:"50%",children:jsxRuntimeExports.jsx(SingleCoinImage,{variant:at,imageUrl:et,w:s,h:s,borderRadius:"50%",coinType:a,p:"4px",imgBoxStyle:mt})})}const TokenSelectModal$1=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0));function CoinSelect$1({value:a,onSelect:s,loading:et,currentCoinKey:nt,whiteTokenList:at,tokenStyle:mt={},tokenSize:wt="38px",symbolStyle:$t={},wrapStyle:Ct={},isShowLabelTab:Dt=!0,isShowCollectListBox:Ft=!0,isShowTokenListTab:jt=!0,disabled:Ut=!1,openSelectTokenModal:tr,selectModalCallback:ir}){const{isOpen:sr,onOpen:ur,onClose:fr}=useDisclosure(),[dr,hr]=reactExports.useState(!1),{pathname:vr}=useLocation();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{w:"100%",variant:"unstyled",display:"flex",alignItems:"center",gap:"8px",onClick:()=>{tr?tr():ur(),ir&&ir(!0)},cursor:"pointer",onMouseEnter:()=>hr(!0),onMouseLeave:()=>hr(!1),isDisabled:Ut,...Ct,children:[et?jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SkeletonCircle,{w:wt,h:wt}),jsxRuntimeExports.jsx(Skeleton,{h:$t.fontSize||"16px"})]}):a?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TokenAvatar,{variant:"border",src:(a==null?void 0:a.logo_url)||"",is_trusted:a==null?void 0:a.is_trusted,coin_type:a==null?void 0:a.coin_type,size:wt,style:dr?{...mt,borderColor:"token_active_border",boxShadow:"0px 0px 6px 0px #0067AD"}:mt}),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",...$t,children:textEllipses((a==null?void 0:a.symbol)||"",10)})]}):jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",fontWeight:"600",children:"Select a token"}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",svgFill:dr?"text_caption":"text_paragraph"})]}),jsxRuntimeExports.jsx(TokenSelectModal$1,{tokenInfo:a,lastSelectedToken:(a==null?void 0:a.coin_type)||"",isOpen:sr,currentCoinKey:nt,whiteTokenList:at,isShowLabelTab:Dt,isShowTokenListTab:jt&&vr!=="/dca",isShowCollectListBox:Ft&&vr!=="/dca",onSelectToken:yr=>{s(yr)},onClose:()=>{fr(),ir&&ir(!1)}})]})}const CoinSelect$2=reactExports.memo(CoinSelect$1),CoinSelect$3=Object.freeze(Object.defineProperty({__proto__:null,default:CoinSelect$2},Symbol.toStringTag,{value:"Module"}));var cryptoJs={exports:{}},core={exports:{}},cryptoBrowserify={},browser$d={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(a,s){var et=require$$0$3,nt=et.Buffer;function at(wt,$t){for(var Ct in wt)$t[Ct]=wt[Ct]}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?a.exports=et:(at(et,s),s.Buffer=mt);function mt(wt,$t,Ct){return nt(wt,$t,Ct)}mt.prototype=Object.create(nt.prototype),at(nt,mt),mt.from=function(wt,$t,Ct){if(typeof wt=="number")throw new TypeError("Argument must not be a number");return nt(wt,$t,Ct)},mt.alloc=function(wt,$t,Ct){if(typeof wt!="number")throw new TypeError("Argument must be a number");var Dt=nt(wt);return $t!==void 0?typeof Ct=="string"?Dt.fill($t,Ct):Dt.fill($t):Dt.fill(0),Dt},mt.allocUnsafe=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return nt(wt)},mt.allocUnsafeSlow=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(wt)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$d.exports;hasRequiredBrowser$b=1;var a=65536,s=4294967295;function et(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var nt=requireSafeBuffer$1().Buffer,at=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;at&&at.getRandomValues?browser$d.exports=mt:browser$d.exports=et;function mt(wt,$t){if(wt>s)throw new RangeError("requested too many random bytes");var Ct=nt.allocUnsafe(wt);if(wt>0)if(wt>a)for(var Dt=0;Dt<wt;Dt+=a)at.getRandomValues(Ct.slice(Dt,Dt+a));else at.getRandomValues(Ct);return typeof $t=="function"?process$1.nextTick(function(){$t(null,Ct)}):Ct}return browser$d.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(s,et){et&&(s.super_=et,s.prototype=Object.create(et.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(s,et){if(et){s.super_=et;var nt=function(){};nt.prototype=et.prototype,s.prototype=new nt,s.prototype.constructor=s}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var a=typeof Reflect=="object"?Reflect:null,s=a&&typeof a.apply=="function"?a.apply:function(yr,xr,br){return Function.prototype.apply.call(yr,xr,br)},et;a&&typeof a.ownKeys=="function"?et=a.ownKeys:Object.getOwnPropertySymbols?et=function(yr){return Object.getOwnPropertyNames(yr).concat(Object.getOwnPropertySymbols(yr))}:et=function(yr){return Object.getOwnPropertyNames(yr)};function nt(vr){console&&console.warn&&console.warn(vr)}var at=Number.isNaN||function(yr){return yr!==yr};function mt(){mt.init.call(this)}events.exports=mt,events.exports.once=fr,mt.EventEmitter=mt,mt.prototype._events=void 0,mt.prototype._eventsCount=0,mt.prototype._maxListeners=void 0;var wt=10;function $t(vr){if(typeof vr!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof vr)}Object.defineProperty(mt,"defaultMaxListeners",{enumerable:!0,get:function(){return wt},set:function(vr){if(typeof vr!="number"||vr<0||at(vr))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+vr+".");wt=vr}}),mt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},mt.prototype.setMaxListeners=function(yr){if(typeof yr!="number"||yr<0||at(yr))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+yr+".");return this._maxListeners=yr,this};function Ct(vr){return vr._maxListeners===void 0?mt.defaultMaxListeners:vr._maxListeners}mt.prototype.getMaxListeners=function(){return Ct(this)},mt.prototype.emit=function(yr){for(var xr=[],br=1;br<arguments.length;br++)xr.push(arguments[br]);var wr=yr==="error",Sr=this._events;if(Sr!==void 0)wr=wr&&Sr.error===void 0;else if(!wr)return!1;if(wr){var Cr;if(xr.length>0&&(Cr=xr[0]),Cr instanceof Error)throw Cr;var cr=new Error("Unhandled error."+(Cr?" ("+Cr.message+")":""));throw cr.context=Cr,cr}var Nt=Sr[yr];if(Nt===void 0)return!1;if(typeof Nt=="function")s(Nt,this,xr);else for(var Vt=Nt.length,er=ir(Nt,Vt),br=0;br<Vt;++br)s(er[br],this,xr);return!0};function Dt(vr,yr,xr,br){var wr,Sr,Cr;if($t(xr),Sr=vr._events,Sr===void 0?(Sr=vr._events=Object.create(null),vr._eventsCount=0):(Sr.newListener!==void 0&&(vr.emit("newListener",yr,xr.listener?xr.listener:xr),Sr=vr._events),Cr=Sr[yr]),Cr===void 0)Cr=Sr[yr]=xr,++vr._eventsCount;else if(typeof Cr=="function"?Cr=Sr[yr]=br?[xr,Cr]:[Cr,xr]:br?Cr.unshift(xr):Cr.push(xr),wr=Ct(vr),wr>0&&Cr.length>wr&&!Cr.warned){Cr.warned=!0;var cr=new Error("Possible EventEmitter memory leak detected. "+Cr.length+" "+String(yr)+" listeners added. Use emitter.setMaxListeners() to increase limit");cr.name="MaxListenersExceededWarning",cr.emitter=vr,cr.type=yr,cr.count=Cr.length,nt(cr)}return vr}mt.prototype.addListener=function(yr,xr){return Dt(this,yr,xr,!1)},mt.prototype.on=mt.prototype.addListener,mt.prototype.prependListener=function(yr,xr){return Dt(this,yr,xr,!0)};function Ft(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jt(vr,yr,xr){var br={fired:!1,wrapFn:void 0,target:vr,type:yr,listener:xr},wr=Ft.bind(br);return wr.listener=xr,br.wrapFn=wr,wr}mt.prototype.once=function(yr,xr){return $t(xr),this.on(yr,jt(this,yr,xr)),this},mt.prototype.prependOnceListener=function(yr,xr){return $t(xr),this.prependListener(yr,jt(this,yr,xr)),this},mt.prototype.removeListener=function(yr,xr){var br,wr,Sr,Cr,cr;if($t(xr),wr=this._events,wr===void 0)return this;if(br=wr[yr],br===void 0)return this;if(br===xr||br.listener===xr)--this._eventsCount===0?this._events=Object.create(null):(delete wr[yr],wr.removeListener&&this.emit("removeListener",yr,br.listener||xr));else if(typeof br!="function"){for(Sr=-1,Cr=br.length-1;Cr>=0;Cr--)if(br[Cr]===xr||br[Cr].listener===xr){cr=br[Cr].listener,Sr=Cr;break}if(Sr<0)return this;Sr===0?br.shift():sr(br,Sr),br.length===1&&(wr[yr]=br[0]),wr.removeListener!==void 0&&this.emit("removeListener",yr,cr||xr)}return this},mt.prototype.off=mt.prototype.removeListener,mt.prototype.removeAllListeners=function(yr){var xr,br,wr;if(br=this._events,br===void 0)return this;if(br.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):br[yr]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete br[yr]),this;if(arguments.length===0){var Sr=Object.keys(br),Cr;for(wr=0;wr<Sr.length;++wr)Cr=Sr[wr],Cr!=="removeListener"&&this.removeAllListeners(Cr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(xr=br[yr],typeof xr=="function")this.removeListener(yr,xr);else if(xr!==void 0)for(wr=xr.length-1;wr>=0;wr--)this.removeListener(yr,xr[wr]);return this};function Ut(vr,yr,xr){var br=vr._events;if(br===void 0)return[];var wr=br[yr];return wr===void 0?[]:typeof wr=="function"?xr?[wr.listener||wr]:[wr]:xr?ur(wr):ir(wr,wr.length)}mt.prototype.listeners=function(yr){return Ut(this,yr,!0)},mt.prototype.rawListeners=function(yr){return Ut(this,yr,!1)},mt.listenerCount=function(vr,yr){return typeof vr.listenerCount=="function"?vr.listenerCount(yr):tr.call(vr,yr)},mt.prototype.listenerCount=tr;function tr(vr){var yr=this._events;if(yr!==void 0){var xr=yr[vr];if(typeof xr=="function")return 1;if(xr!==void 0)return xr.length}return 0}mt.prototype.eventNames=function(){return this._eventsCount>0?et(this._events):[]};function ir(vr,yr){for(var xr=new Array(yr),br=0;br<yr;++br)xr[br]=vr[br];return xr}function sr(vr,yr){for(;yr+1<vr.length;yr++)vr[yr]=vr[yr+1];vr.pop()}function ur(vr){for(var yr=new Array(vr.length),xr=0;xr<yr.length;++xr)yr[xr]=vr[xr].listener||vr[xr];return yr}function fr(vr,yr){return new Promise(function(xr,br){function wr(Cr){vr.removeListener(yr,Sr),br(Cr)}function Sr(){typeof vr.removeListener=="function"&&vr.removeListener("error",wr),xr([].slice.call(arguments))}hr(vr,yr,Sr,{once:!0}),yr!=="error"&&dr(vr,wr,{once:!0})})}function dr(vr,yr,xr){typeof vr.on=="function"&&hr(vr,"error",yr,xr)}function hr(vr,yr,xr,br){if(typeof vr.on=="function")br.once?vr.once(yr,xr):vr.on(yr,xr);else if(typeof vr.addEventListener=="function")vr.addEventListener(yr,function wr(Sr){br.once&&vr.removeEventListener(yr,wr),xr(Sr)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof vr)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$4={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},et=Symbol("test"),nt=Object(et);if(typeof et=="string"||Object.prototype.toString.call(et)!=="[object Symbol]"||Object.prototype.toString.call(nt)!=="[object Symbol]")return!1;var at=42;s[et]=at;for(var mt in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var wt=Object.getOwnPropertySymbols(s);if(wt.length!==1||wt[0]!==et||!Object.prototype.propertyIsEnumerable.call(s,et))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var $t=Object.getOwnPropertyDescriptor(s,et);if($t.value!==at||$t.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var a=requireShams$1();return shams=function(){return a()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(s){return s!==s}),_isNaN}var sign$1,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$1;hasRequiredSign$1=1;var a=require_isNaN();return sign$1=function(et){return a(et)||et===0?et:et<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var a=requireGOPD();if(a)try{a([],"length")}catch{a=null}return gopd=a,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var a=Object.defineProperty||!1;if(a)try{a({},"a",{value:1})}catch{a=!1}return esDefineProperty=a,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var a=typeof Symbol<"u"&&Symbol,s=requireShams$1();return hasSymbols=function(){return typeof a!="function"||typeof Symbol!="function"||typeof a("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:s()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var a=requireEsObjectAtoms();return Object_getPrototypeOf=a.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var a="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,et=Math.max,nt="[object Function]",at=function(Ct,Dt){for(var Ft=[],jt=0;jt<Ct.length;jt+=1)Ft[jt]=Ct[jt];for(var Ut=0;Ut<Dt.length;Ut+=1)Ft[Ut+Ct.length]=Dt[Ut];return Ft},mt=function(Ct,Dt){for(var Ft=[],jt=Dt,Ut=0;jt<Ct.length;jt+=1,Ut+=1)Ft[Ut]=Ct[jt];return Ft},wt=function($t,Ct){for(var Dt="",Ft=0;Ft<$t.length;Ft+=1)Dt+=$t[Ft],Ft+1<$t.length&&(Dt+=Ct);return Dt};return implementation=function(Ct){var Dt=this;if(typeof Dt!="function"||s.apply(Dt)!==nt)throw new TypeError(a+Dt);for(var Ft=mt(arguments,1),jt,Ut=function(){if(this instanceof jt){var fr=Dt.apply(this,at(Ft,arguments));return Object(fr)===fr?fr:this}return Dt.apply(Ct,at(Ft,arguments))},tr=et(0,Dt.length-Ft.length),ir=[],sr=0;sr<tr;sr++)ir[sr]="$"+sr;if(jt=Function("binder","return function ("+wt(ir,",")+"){ return binder.apply(this,arguments); }")(Ut),Dt.prototype){var ur=function(){};ur.prototype=Dt.prototype,jt.prototype=new ur,ur.prototype=null}return jt},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var a=requireImplementation();return functionBind=Function.prototype.bind||a,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var a=requireFunctionBind(),s=requireFunctionApply(),et=requireFunctionCall(),nt=requireReflectApply();return actualApply=nt||a.call(et,s),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var a=requireFunctionBind(),s=requireType(),et=requireFunctionCall(),nt=requireActualApply();return callBindApplyHelpers=function(mt){if(mt.length<1||typeof mt[0]!="function")throw new s("a function is required");return nt(a,et,mt)},callBindApplyHelpers}var get$1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$1;hasRequiredGet=1;var a=requireCallBindApplyHelpers(),s=requireGopd(),et;try{et=[].__proto__===Array.prototype}catch(wt){if(!wt||typeof wt!="object"||!("code"in wt)||wt.code!=="ERR_PROTO_ACCESS")throw wt}var nt=!!et&&s&&s(Object.prototype,"__proto__"),at=Object,mt=at.getPrototypeOf;return get$1=nt&&typeof nt.get=="function"?a([nt.get]):typeof mt=="function"?function($t){return mt($t==null?$t:at($t))}:!1,get$1}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var a=requireReflect_getPrototypeOf(),s=requireObject_getPrototypeOf(),et=requireGet();return getProto=a?function(at){return a(at)}:s?function(at){if(!at||typeof at!="object"&&typeof at!="function")throw new TypeError("getProto: not an object");return s(at)}:et?function(at){return et(at)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var a=Function.prototype.call,s=Object.prototype.hasOwnProperty,et=requireFunctionBind();return hasown=et.call(a,s),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var a,s=requireEsObjectAtoms(),et=requireEsErrors(),nt=require_eval(),at=requireRange(),mt=requireRef(),wt=requireSyntax(),$t=requireType(),Ct=requireUri(),Dt=requireAbs(),Ft=requireFloor(),jt=requireMax(),Ut=requireMin(),tr=requirePow(),ir=requireRound(),sr=requireSign$1(),ur=Function,fr=function(Fr){try{return ur('"use strict"; return ('+Fr+").constructor;")()}catch{}},dr=requireGopd(),hr=requireEsDefineProperty(),vr=function(){throw new $t},yr=dr?function(){try{return arguments.callee,vr}catch{try{return dr(arguments,"callee").get}catch{return vr}}}():vr,xr=requireHasSymbols()(),br=requireGetProto(),wr=requireObject_getPrototypeOf(),Sr=requireReflect_getPrototypeOf(),Cr=requireFunctionApply(),cr=requireFunctionCall(),Nt={},Vt=typeof Uint8Array>"u"||!br?a:br(Uint8Array),er={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?a:ArrayBuffer,"%ArrayIteratorPrototype%":xr&&br?br([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":Nt,"%AsyncGenerator%":Nt,"%AsyncGeneratorFunction%":Nt,"%AsyncIteratorPrototype%":Nt,"%Atomics%":typeof Atomics>"u"?a:Atomics,"%BigInt%":typeof BigInt>"u"?a:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?a:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":et,"%eval%":eval,"%EvalError%":nt,"%Float16Array%":typeof Float16Array>"u"?a:Float16Array,"%Float32Array%":typeof Float32Array>"u"?a:Float32Array,"%Float64Array%":typeof Float64Array>"u"?a:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?a:FinalizationRegistry,"%Function%":ur,"%GeneratorFunction%":Nt,"%Int8Array%":typeof Int8Array>"u"?a:Int8Array,"%Int16Array%":typeof Int16Array>"u"?a:Int16Array,"%Int32Array%":typeof Int32Array>"u"?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xr&&br?br(br([][Symbol.iterator]())):a,"%JSON%":typeof JSON=="object"?JSON:a,"%Map%":typeof Map>"u"?a:Map,"%MapIteratorPrototype%":typeof Map>"u"||!xr||!br?a:br(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":s,"%Object.getOwnPropertyDescriptor%":dr,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?a:Promise,"%Proxy%":typeof Proxy>"u"?a:Proxy,"%RangeError%":at,"%ReferenceError%":mt,"%Reflect%":typeof Reflect>"u"?a:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?a:Set,"%SetIteratorPrototype%":typeof Set>"u"||!xr||!br?a:br(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xr&&br?br(""[Symbol.iterator]()):a,"%Symbol%":xr?Symbol:a,"%SyntaxError%":wt,"%ThrowTypeError%":yr,"%TypedArray%":Vt,"%TypeError%":$t,"%Uint8Array%":typeof Uint8Array>"u"?a:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?a:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?a:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?a:Uint32Array,"%URIError%":Ct,"%WeakMap%":typeof WeakMap>"u"?a:WeakMap,"%WeakRef%":typeof WeakRef>"u"?a:WeakRef,"%WeakSet%":typeof WeakSet>"u"?a:WeakSet,"%Function.prototype.call%":cr,"%Function.prototype.apply%":Cr,"%Object.defineProperty%":hr,"%Object.getPrototypeOf%":wr,"%Math.abs%":Dt,"%Math.floor%":Ft,"%Math.max%":jt,"%Math.min%":Ut,"%Math.pow%":tr,"%Math.round%":ir,"%Math.sign%":sr,"%Reflect.getPrototypeOf%":Sr};if(br)try{null.error}catch(Fr){var Yt=br(br(Fr));er["%Error.prototype%"]=Yt}var rr=function Fr(Tr){var Rr;if(Tr==="%AsyncFunction%")Rr=fr("async function () {}");else if(Tr==="%GeneratorFunction%")Rr=fr("function* () {}");else if(Tr==="%AsyncGeneratorFunction%")Rr=fr("async function* () {}");else if(Tr==="%AsyncGenerator%"){var Er=Fr("%AsyncGeneratorFunction%");Er&&(Rr=Er.prototype)}else if(Tr==="%AsyncIteratorPrototype%"){var Or=Fr("%AsyncGenerator%");Or&&br&&(Rr=br(Or.prototype))}return er[Tr]=Rr,Rr},ar={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lr=requireFunctionBind(),nr=requireHasown(),Lt=lr.call(cr,Array.prototype.concat),or=lr.call(Cr,Array.prototype.splice),gr=lr.call(cr,String.prototype.replace),pr=lr.call(cr,String.prototype.slice),_r=lr.call(cr,RegExp.prototype.exec),kr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Mr=/\\(\\)?/g,$r=function(Tr){var Rr=pr(Tr,0,1),Er=pr(Tr,-1);if(Rr==="%"&&Er!=="%")throw new wt("invalid intrinsic syntax, expected closing `%`");if(Er==="%"&&Rr!=="%")throw new wt("invalid intrinsic syntax, expected opening `%`");var Or=[];return gr(Tr,kr,function(Wr,qr,Vr,Ur){Or[Or.length]=Vr?gr(Ur,Mr,"$1"):qr||Wr}),Or},Pr=function(Tr,Rr){var Er=Tr,Or;if(nr(ar,Er)&&(Or=ar[Er],Er="%"+Or[0]+"%"),nr(er,Er)){var Wr=er[Er];if(Wr===Nt&&(Wr=rr(Er)),typeof Wr>"u"&&!Rr)throw new $t("intrinsic "+Tr+" exists, but is not available. Please file an issue!");return{alias:Or,name:Er,value:Wr}}throw new wt("intrinsic "+Tr+" does not exist!")};return getIntrinsic=function(Tr,Rr){if(typeof Tr!="string"||Tr.length===0)throw new $t("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Rr!="boolean")throw new $t('"allowMissing" argument must be a boolean');if(_r(/^%?[^%]*%?$/,Tr)===null)throw new wt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Er=$r(Tr),Or=Er.length>0?Er[0]:"",Wr=Pr("%"+Or+"%",Rr),qr=Wr.name,Vr=Wr.value,Ur=!1,Lr=Wr.alias;Lr&&(Or=Lr[0],or(Er,Lt([0,1],Lr)));for(var Br=1,Xr=!0;Br<Er.length;Br+=1){var zr=Er[Br],Qr=pr(zr,0,1),Qn=pr(zr,-1);if((Qr==='"'||Qr==="'"||Qr==="`"||Qn==='"'||Qn==="'"||Qn==="`")&&Qr!==Qn)throw new wt("property names with quotes must have matching quotes");if((zr==="constructor"||!Xr)&&(Ur=!0),Or+="."+zr,qr="%"+Or+"%",nr(er,qr))Vr=er[qr];else if(Vr!=null){if(!(zr in Vr)){if(!Rr)throw new $t("base intrinsic for "+Tr+" exists, but the property is not available.");return}if(dr&&Br+1>=Er.length){var nn=dr(Vr,zr);Xr=!!nn,Xr&&"get"in nn&&!("originalValue"in nn.get)?Vr=nn.get:Vr=Vr[zr]}else Xr=nr(Vr,zr),Vr=Vr[zr];Xr&&!Ur&&(er[qr]=Vr)}}return Vr},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var a=requireGetIntrinsic(),s=requireCallBindApplyHelpers(),et=s([a("%String.prototype.indexOf%")]);return callBound=function(at,mt){var wt=a(at,!!mt);return typeof wt=="function"&&et(at,".prototype.")>-1?s([wt]):wt},callBound}var isArguments$1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$1;hasRequiredIsArguments=1;var a=requireShams()(),s=requireCallBound(),et=s("Object.prototype.toString"),nt=function($t){return a&&$t&&typeof $t=="object"&&Symbol.toStringTag in $t?!1:et($t)==="[object Arguments]"},at=function($t){return nt($t)?!0:$t!==null&&typeof $t=="object"&&"length"in $t&&typeof $t.length=="number"&&$t.length>=0&&et($t)!=="[object Array]"&&"callee"in $t&&et($t.callee)==="[object Function]"},mt=function(){return nt(arguments)}();return nt.isLegacyArguments=at,isArguments$1=mt?nt:at,isArguments$1}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var a=requireCallBound(),s=requireShams()(),et=requireHasown(),nt=requireGopd(),at;if(s){var mt=a("RegExp.prototype.exec"),wt={},$t=function(){throw wt},Ct={toString:$t,valueOf:$t};typeof Symbol.toPrimitive=="symbol"&&(Ct[Symbol.toPrimitive]=$t),at=function(Ut){if(!Ut||typeof Ut!="object")return!1;var tr=nt(Ut,"lastIndex"),ir=tr&&et(tr,"value");if(!ir)return!1;try{mt(Ut,Ct)}catch(sr){return sr===wt}}}else{var Dt=a("Object.prototype.toString"),Ft="[object RegExp]";at=function(Ut){return!Ut||typeof Ut!="object"&&typeof Ut!="function"?!1:Dt(Ut)===Ft}}return isRegex=at,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var a=requireCallBound(),s=requireIsRegex(),et=a("RegExp.prototype.exec"),nt=requireType();return safeRegexTest=function(mt){if(!s(mt))throw new nt("`regex` must be a RegExp");return function($t){return et(mt,$t)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var a=requireCallBound(),s=requireSafeRegexTest(),et=s(/^\s*(?:function)?\*/),nt=requireShams()(),at=requireGetProto(),mt=a("Object.prototype.toString"),wt=a("Function.prototype.toString"),$t=function(){if(!nt)return!1;try{return Function("return function*() {}")()}catch{}},Ct;return isGeneratorFunction=function(Ft){if(typeof Ft!="function")return!1;if(et(wt(Ft)))return!0;if(!nt){var jt=mt(Ft);return jt==="[object GeneratorFunction]"}if(!at)return!1;if(typeof Ct>"u"){var Ut=$t();Ct=Ut?at(Ut):!1}return at(Ft)===Ct},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var a=Function.prototype.toString,s=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,et,nt;if(typeof s=="function"&&typeof Object.defineProperty=="function")try{et=Object.defineProperty({},"length",{get:function(){throw nt}}),nt={},s(function(){throw 42},null,et)}catch(dr){dr!==nt&&(s=null)}else s=null;var at=/^\s*class\b/,mt=function(hr){try{var vr=a.call(hr);return at.test(vr)}catch{return!1}},wt=function(hr){try{return mt(hr)?!1:(a.call(hr),!0)}catch{return!1}},$t=Object.prototype.toString,Ct="[object Object]",Dt="[object Function]",Ft="[object GeneratorFunction]",jt="[object HTMLAllCollection]",Ut="[object HTML document.all class]",tr="[object HTMLCollection]",ir=typeof Symbol=="function"&&!!Symbol.toStringTag,sr=!(0 in[,]),ur=function(){return!1};if(typeof document=="object"){var fr=document.all;$t.call(fr)===$t.call(document.all)&&(ur=function(hr){if((sr||!hr)&&(typeof hr>"u"||typeof hr=="object"))try{var vr=$t.call(hr);return(vr===jt||vr===Ut||vr===tr||vr===Ct)&&hr("")==null}catch{}return!1})}return isCallable=s?function(hr){if(ur(hr))return!0;if(!hr||typeof hr!="function"&&typeof hr!="object")return!1;try{s(hr,null,et)}catch(vr){if(vr!==nt)return!1}return!mt(hr)&&wt(hr)}:function(hr){if(ur(hr))return!0;if(!hr||typeof hr!="function"&&typeof hr!="object")return!1;if(ir)return wt(hr);if(mt(hr))return!1;var vr=$t.call(hr);return vr!==Dt&&vr!==Ft&&!/^\[object HTML/.test(vr)?!1:wt(hr)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var a=requireIsCallable(),s=Object.prototype.toString,et=Object.prototype.hasOwnProperty,nt=function(Ct,Dt,Ft){for(var jt=0,Ut=Ct.length;jt<Ut;jt++)et.call(Ct,jt)&&(Ft==null?Dt(Ct[jt],jt,Ct):Dt.call(Ft,Ct[jt],jt,Ct))},at=function(Ct,Dt,Ft){for(var jt=0,Ut=Ct.length;jt<Ut;jt++)Ft==null?Dt(Ct.charAt(jt),jt,Ct):Dt.call(Ft,Ct.charAt(jt),jt,Ct)},mt=function(Ct,Dt,Ft){for(var jt in Ct)et.call(Ct,jt)&&(Ft==null?Dt(Ct[jt],jt,Ct):Dt.call(Ft,Ct[jt],jt,Ct))};function wt($t){return s.call($t)==="[object Array]"}return forEach=function(Ct,Dt,Ft){if(!a(Dt))throw new TypeError("iterator must be a function");var jt;arguments.length>=3&&(jt=Ft),wt(Ct)?nt(Ct,Dt,jt):typeof Ct=="string"?at(Ct,Dt,jt):mt(Ct,Dt,jt)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var a=requirePossibleTypedArrayNames(),s=typeof globalThis>"u"?commonjsGlobal$1:globalThis;return availableTypedArrays=function(){for(var nt=[],at=0;at<a.length;at++)typeof s[a[at]]=="function"&&(nt[nt.length]=a[at]);return nt},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var a=requireEsDefineProperty(),s=requireSyntax(),et=requireType(),nt=requireGopd();return defineDataProperty=function(mt,wt,$t){if(!mt||typeof mt!="object"&&typeof mt!="function")throw new et("`obj` must be an object or a function`");if(typeof wt!="string"&&typeof wt!="symbol")throw new et("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new et("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new et("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new et("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new et("`loose`, if provided, must be a boolean");var Ct=arguments.length>3?arguments[3]:null,Dt=arguments.length>4?arguments[4]:null,Ft=arguments.length>5?arguments[5]:null,jt=arguments.length>6?arguments[6]:!1,Ut=!!nt&&nt(mt,wt);if(a)a(mt,wt,{configurable:Ft===null&&Ut?Ut.configurable:!Ft,enumerable:Ct===null&&Ut?Ut.enumerable:!Ct,value:$t,writable:Dt===null&&Ut?Ut.writable:!Dt});else if(jt||!Ct&&!Dt&&!Ft)mt[wt]=$t;else throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var a=requireEsDefineProperty(),s=function(){return!!a};return s.hasArrayLengthDefineBug=function(){if(!a)return null;try{return a([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=s,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var a=requireGetIntrinsic(),s=requireDefineDataProperty(),et=requireHasPropertyDescriptors()(),nt=requireGopd(),at=requireType(),mt=a("%Math.floor%");return setFunctionLength=function($t,Ct){if(typeof $t!="function")throw new at("`fn` is not a function");if(typeof Ct!="number"||Ct<0||Ct>4294967295||mt(Ct)!==Ct)throw new at("`length` must be a positive 32-bit integer");var Dt=arguments.length>2&&!!arguments[2],Ft=!0,jt=!0;if("length"in $t&&nt){var Ut=nt($t,"length");Ut&&!Ut.configurable&&(Ft=!1),Ut&&!Ut.writable&&(jt=!1)}return(Ft||jt||!Dt)&&(et?s($t,"length",Ct,!0,!0):s($t,"length",Ct)),$t},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var a=requireFunctionBind(),s=requireFunctionApply(),et=requireActualApply();return applyBind=function(){return et(a,s,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(a){var s=requireSetFunctionLength(),et=requireEsDefineProperty(),nt=requireCallBindApplyHelpers(),at=requireApplyBind();a.exports=function(wt){var $t=nt(arguments),Ct=wt.length-(arguments.length-1);return s($t,1+(Ct>0?Ct:0),!0)},et?et(a.exports,"apply",{value:at}):a.exports.apply=at}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var a=requireForEach(),s=requireAvailableTypedArrays(),et=requireCallBind(),nt=requireCallBound(),at=requireGopd(),mt=nt("Object.prototype.toString"),wt=requireShams()(),$t=typeof globalThis>"u"?commonjsGlobal$1:globalThis,Ct=s(),Dt=nt("String.prototype.slice"),Ft=Object.getPrototypeOf,jt=nt("Array.prototype.indexOf",!0)||function(ur,fr){for(var dr=0;dr<ur.length;dr+=1)if(ur[dr]===fr)return dr;return-1},Ut={__proto__:null};wt&&at&&Ft?a(Ct,function(sr){var ur=new $t[sr];if(Symbol.toStringTag in ur){var fr=Ft(ur),dr=at(fr,Symbol.toStringTag);if(!dr){var hr=Ft(fr);dr=at(hr,Symbol.toStringTag)}Ut["$"+sr]=et(dr.get)}}):a(Ct,function(sr){var ur=new $t[sr],fr=ur.slice||ur.set;fr&&(Ut["$"+sr]=et(fr))});var tr=function(ur){var fr=!1;return a(Ut,function(dr,hr){if(!fr)try{"$"+dr(ur)===hr&&(fr=Dt(hr,1))}catch{}}),fr},ir=function(ur){var fr=!1;return a(Ut,function(dr,hr){if(!fr)try{dr(ur),fr=Dt(hr,1)}catch{}}),fr};return whichTypedArray=function(ur){if(!ur||typeof ur!="object")return!1;if(!wt){var fr=Dt(mt(ur),8,-1);return jt(Ct,fr)>-1?fr:fr!=="Object"?!1:ir(ur)}return at?tr(ur):null},whichTypedArray}var isTypedArray$1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$1;hasRequiredIsTypedArray=1;var a=requireWhichTypedArray();return isTypedArray$1=function(et){return!!a(et)},isTypedArray$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(a){var s=requireIsArguments(),et=requireIsGeneratorFunction(),nt=requireWhichTypedArray(),at=requireIsTypedArray();function mt(Br){return Br.call.bind(Br)}var wt=typeof BigInt<"u",$t=typeof Symbol<"u",Ct=mt(Object.prototype.toString),Dt=mt(Number.prototype.valueOf),Ft=mt(String.prototype.valueOf),jt=mt(Boolean.prototype.valueOf);if(wt)var Ut=mt(BigInt.prototype.valueOf);if($t)var tr=mt(Symbol.prototype.valueOf);function ir(Br,Xr){if(typeof Br!="object")return!1;try{return Xr(Br),!0}catch{return!1}}a.isArgumentsObject=s,a.isGeneratorFunction=et,a.isTypedArray=at;function sr(Br){return typeof Promise<"u"&&Br instanceof Promise||Br!==null&&typeof Br=="object"&&typeof Br.then=="function"&&typeof Br.catch=="function"}a.isPromise=sr;function ur(Br){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Br):at(Br)||pr(Br)}a.isArrayBufferView=ur;function fr(Br){return nt(Br)==="Uint8Array"}a.isUint8Array=fr;function dr(Br){return nt(Br)==="Uint8ClampedArray"}a.isUint8ClampedArray=dr;function hr(Br){return nt(Br)==="Uint16Array"}a.isUint16Array=hr;function vr(Br){return nt(Br)==="Uint32Array"}a.isUint32Array=vr;function yr(Br){return nt(Br)==="Int8Array"}a.isInt8Array=yr;function xr(Br){return nt(Br)==="Int16Array"}a.isInt16Array=xr;function br(Br){return nt(Br)==="Int32Array"}a.isInt32Array=br;function wr(Br){return nt(Br)==="Float32Array"}a.isFloat32Array=wr;function Sr(Br){return nt(Br)==="Float64Array"}a.isFloat64Array=Sr;function Cr(Br){return nt(Br)==="BigInt64Array"}a.isBigInt64Array=Cr;function cr(Br){return nt(Br)==="BigUint64Array"}a.isBigUint64Array=cr;function Nt(Br){return Ct(Br)==="[object Map]"}Nt.working=typeof Map<"u"&&Nt(new Map);function Vt(Br){return typeof Map>"u"?!1:Nt.working?Nt(Br):Br instanceof Map}a.isMap=Vt;function er(Br){return Ct(Br)==="[object Set]"}er.working=typeof Set<"u"&&er(new Set);function Yt(Br){return typeof Set>"u"?!1:er.working?er(Br):Br instanceof Set}a.isSet=Yt;function rr(Br){return Ct(Br)==="[object WeakMap]"}rr.working=typeof WeakMap<"u"&&rr(new WeakMap);function ar(Br){return typeof WeakMap>"u"?!1:rr.working?rr(Br):Br instanceof WeakMap}a.isWeakMap=ar;function lr(Br){return Ct(Br)==="[object WeakSet]"}lr.working=typeof WeakSet<"u"&&lr(new WeakSet);function nr(Br){return lr(Br)}a.isWeakSet=nr;function Lt(Br){return Ct(Br)==="[object ArrayBuffer]"}Lt.working=typeof ArrayBuffer<"u"&&Lt(new ArrayBuffer);function or(Br){return typeof ArrayBuffer>"u"?!1:Lt.working?Lt(Br):Br instanceof ArrayBuffer}a.isArrayBuffer=or;function gr(Br){return Ct(Br)==="[object DataView]"}gr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&gr(new DataView(new ArrayBuffer(1),0,1));function pr(Br){return typeof DataView>"u"?!1:gr.working?gr(Br):Br instanceof DataView}a.isDataView=pr;var _r=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function kr(Br){return Ct(Br)==="[object SharedArrayBuffer]"}function Mr(Br){return typeof _r>"u"?!1:(typeof kr.working>"u"&&(kr.working=kr(new _r)),kr.working?kr(Br):Br instanceof _r)}a.isSharedArrayBuffer=Mr;function $r(Br){return Ct(Br)==="[object AsyncFunction]"}a.isAsyncFunction=$r;function Pr(Br){return Ct(Br)==="[object Map Iterator]"}a.isMapIterator=Pr;function Fr(Br){return Ct(Br)==="[object Set Iterator]"}a.isSetIterator=Fr;function Tr(Br){return Ct(Br)==="[object Generator]"}a.isGeneratorObject=Tr;function Rr(Br){return Ct(Br)==="[object WebAssembly.Module]"}a.isWebAssemblyCompiledModule=Rr;function Er(Br){return ir(Br,Dt)}a.isNumberObject=Er;function Or(Br){return ir(Br,Ft)}a.isStringObject=Or;function Wr(Br){return ir(Br,jt)}a.isBooleanObject=Wr;function qr(Br){return wt&&ir(Br,Ut)}a.isBigIntObject=qr;function Vr(Br){return $t&&ir(Br,tr)}a.isSymbolObject=Vr;function Ur(Br){return Er(Br)||Or(Br)||Wr(Br)||qr(Br)||Vr(Br)}a.isBoxedPrimitive=Ur;function Lr(Br){return typeof Uint8Array<"u"&&(or(Br)||Mr(Br))}a.isAnyArrayBuffer=Lr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Br){Object.defineProperty(a,Br,{enumerable:!1,value:function(){throw new Error(Br+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(a){var s={},et=Object.getOwnPropertyDescriptors||function(_r){for(var kr=Object.keys(_r),Mr={},$r=0;$r<kr.length;$r++)Mr[kr[$r]]=Object.getOwnPropertyDescriptor(_r,kr[$r]);return Mr},nt=/%[sdj%]/g;a.format=function(pr){if(!xr(pr)){for(var _r=[],kr=0;kr<arguments.length;kr++)_r.push($t(arguments[kr]));return _r.join(" ")}for(var kr=1,Mr=arguments,$r=Mr.length,Pr=String(pr).replace(nt,function(Tr){if(Tr==="%%")return"%";if(kr>=$r)return Tr;switch(Tr){case"%s":return String(Mr[kr++]);case"%d":return Number(Mr[kr++]);case"%j":try{return JSON.stringify(Mr[kr++])}catch{return"[Circular]"}default:return Tr}}),Fr=Mr[kr];kr<$r;Fr=Mr[++kr])hr(Fr)||!Cr(Fr)?Pr+=" "+Fr:Pr+=" "+$t(Fr);return Pr},a.deprecate=function(pr,_r){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return pr;if(typeof process$1>"u")return function(){return a.deprecate(pr,_r).apply(this,arguments)};var kr=!1;function Mr(){if(!kr){if(process$1.throwDeprecation)throw new Error(_r);process$1.traceDeprecation?console.trace(_r):console.error(_r),kr=!0}return pr.apply(this,arguments)}return Mr};var at={},mt=/^$/;if(s.NODE_DEBUG){var wt=s.NODE_DEBUG;wt=wt.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),mt=new RegExp("^"+wt+"$","i")}a.debuglog=function(pr){if(pr=pr.toUpperCase(),!at[pr])if(mt.test(pr)){var _r=process$1.pid;at[pr]=function(){var kr=a.format.apply(a,arguments);console.error("%s %d: %s",pr,_r,kr)}}else at[pr]=function(){};return at[pr]};function $t(pr,_r){var kr={seen:[],stylize:Dt};return arguments.length>=3&&(kr.depth=arguments[2]),arguments.length>=4&&(kr.colors=arguments[3]),dr(_r)?kr.showHidden=_r:_r&&a._extend(kr,_r),wr(kr.showHidden)&&(kr.showHidden=!1),wr(kr.depth)&&(kr.depth=2),wr(kr.colors)&&(kr.colors=!1),wr(kr.customInspect)&&(kr.customInspect=!0),kr.colors&&(kr.stylize=Ct),jt(kr,pr,kr.depth)}a.inspect=$t,$t.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$t.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Ct(pr,_r){var kr=$t.styles[_r];return kr?"\x1B["+$t.colors[kr][0]+"m"+pr+"\x1B["+$t.colors[kr][1]+"m":pr}function Dt(pr,_r){return pr}function Ft(pr){var _r={};return pr.forEach(function(kr,Mr){_r[kr]=!0}),_r}function jt(pr,_r,kr){if(pr.customInspect&&_r&&Vt(_r.inspect)&&_r.inspect!==a.inspect&&!(_r.constructor&&_r.constructor.prototype===_r)){var Mr=_r.inspect(kr,pr);return xr(Mr)||(Mr=jt(pr,Mr,kr)),Mr}var $r=Ut(pr,_r);if($r)return $r;var Pr=Object.keys(_r),Fr=Ft(Pr);if(pr.showHidden&&(Pr=Object.getOwnPropertyNames(_r)),Nt(_r)&&(Pr.indexOf("message")>=0||Pr.indexOf("description")>=0))return tr(_r);if(Pr.length===0){if(Vt(_r)){var Tr=_r.name?": "+_r.name:"";return pr.stylize("[Function"+Tr+"]","special")}if(Sr(_r))return pr.stylize(RegExp.prototype.toString.call(_r),"regexp");if(cr(_r))return pr.stylize(Date.prototype.toString.call(_r),"date");if(Nt(_r))return tr(_r)}var Rr="",Er=!1,Or=["{","}"];if(fr(_r)&&(Er=!0,Or=["[","]"]),Vt(_r)){var Wr=_r.name?": "+_r.name:"";Rr=" [Function"+Wr+"]"}if(Sr(_r)&&(Rr=" "+RegExp.prototype.toString.call(_r)),cr(_r)&&(Rr=" "+Date.prototype.toUTCString.call(_r)),Nt(_r)&&(Rr=" "+tr(_r)),Pr.length===0&&(!Er||_r.length==0))return Or[0]+Rr+Or[1];if(kr<0)return Sr(_r)?pr.stylize(RegExp.prototype.toString.call(_r),"regexp"):pr.stylize("[Object]","special");pr.seen.push(_r);var qr;return Er?qr=ir(pr,_r,kr,Fr,Pr):qr=Pr.map(function(Vr){return sr(pr,_r,kr,Fr,Vr,Er)}),pr.seen.pop(),ur(qr,Rr,Or)}function Ut(pr,_r){if(wr(_r))return pr.stylize("undefined","undefined");if(xr(_r)){var kr="'"+JSON.stringify(_r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pr.stylize(kr,"string")}if(yr(_r))return pr.stylize(""+_r,"number");if(dr(_r))return pr.stylize(""+_r,"boolean");if(hr(_r))return pr.stylize("null","null")}function tr(pr){return"["+Error.prototype.toString.call(pr)+"]"}function ir(pr,_r,kr,Mr,$r){for(var Pr=[],Fr=0,Tr=_r.length;Fr<Tr;++Fr)nr(_r,String(Fr))?Pr.push(sr(pr,_r,kr,Mr,String(Fr),!0)):Pr.push("");return $r.forEach(function(Rr){Rr.match(/^\d+$/)||Pr.push(sr(pr,_r,kr,Mr,Rr,!0))}),Pr}function sr(pr,_r,kr,Mr,$r,Pr){var Fr,Tr,Rr;if(Rr=Object.getOwnPropertyDescriptor(_r,$r)||{value:_r[$r]},Rr.get?Rr.set?Tr=pr.stylize("[Getter/Setter]","special"):Tr=pr.stylize("[Getter]","special"):Rr.set&&(Tr=pr.stylize("[Setter]","special")),nr(Mr,$r)||(Fr="["+$r+"]"),Tr||(pr.seen.indexOf(Rr.value)<0?(hr(kr)?Tr=jt(pr,Rr.value,null):Tr=jt(pr,Rr.value,kr-1),Tr.indexOf(`
`)>-1&&(Pr?Tr=Tr.split(`
`).map(function(Er){return"  "+Er}).join(`
`).slice(2):Tr=`
`+Tr.split(`
`).map(function(Er){return"   "+Er}).join(`
`))):Tr=pr.stylize("[Circular]","special")),wr(Fr)){if(Pr&&$r.match(/^\d+$/))return Tr;Fr=JSON.stringify(""+$r),Fr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Fr=Fr.slice(1,-1),Fr=pr.stylize(Fr,"name")):(Fr=Fr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Fr=pr.stylize(Fr,"string"))}return Fr+": "+Tr}function ur(pr,_r,kr){var Mr=pr.reduce(function($r,Pr){return Pr.indexOf(`
`)>=0,$r+Pr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Mr>60?kr[0]+(_r===""?"":_r+`
 `)+" "+pr.join(`,
  `)+" "+kr[1]:kr[0]+_r+" "+pr.join(", ")+" "+kr[1]}a.types=requireTypes();function fr(pr){return Array.isArray(pr)}a.isArray=fr;function dr(pr){return typeof pr=="boolean"}a.isBoolean=dr;function hr(pr){return pr===null}a.isNull=hr;function vr(pr){return pr==null}a.isNullOrUndefined=vr;function yr(pr){return typeof pr=="number"}a.isNumber=yr;function xr(pr){return typeof pr=="string"}a.isString=xr;function br(pr){return typeof pr=="symbol"}a.isSymbol=br;function wr(pr){return pr===void 0}a.isUndefined=wr;function Sr(pr){return Cr(pr)&&Yt(pr)==="[object RegExp]"}a.isRegExp=Sr,a.types.isRegExp=Sr;function Cr(pr){return typeof pr=="object"&&pr!==null}a.isObject=Cr;function cr(pr){return Cr(pr)&&Yt(pr)==="[object Date]"}a.isDate=cr,a.types.isDate=cr;function Nt(pr){return Cr(pr)&&(Yt(pr)==="[object Error]"||pr instanceof Error)}a.isError=Nt,a.types.isNativeError=Nt;function Vt(pr){return typeof pr=="function"}a.isFunction=Vt;function er(pr){return pr===null||typeof pr=="boolean"||typeof pr=="number"||typeof pr=="string"||typeof pr=="symbol"||typeof pr>"u"}a.isPrimitive=er,a.isBuffer=requireIsBufferBrowser();function Yt(pr){return Object.prototype.toString.call(pr)}function rr(pr){return pr<10?"0"+pr.toString(10):pr.toString(10)}var ar=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lr(){var pr=new Date,_r=[rr(pr.getHours()),rr(pr.getMinutes()),rr(pr.getSeconds())].join(":");return[pr.getDate(),ar[pr.getMonth()],_r].join(" ")}a.log=function(){console.log("%s - %s",lr(),a.format.apply(a,arguments))},a.inherits=requireInherits_browser(),a._extend=function(pr,_r){if(!_r||!Cr(_r))return pr;for(var kr=Object.keys(_r),Mr=kr.length;Mr--;)pr[kr[Mr]]=_r[kr[Mr]];return pr};function nr(pr,_r){return Object.prototype.hasOwnProperty.call(pr,_r)}var Lt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;a.promisify=function(_r){if(typeof _r!="function")throw new TypeError('The "original" argument must be of type Function');if(Lt&&_r[Lt]){var kr=_r[Lt];if(typeof kr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(kr,Lt,{value:kr,enumerable:!1,writable:!1,configurable:!0}),kr}function kr(){for(var Mr,$r,Pr=new Promise(function(Rr,Er){Mr=Rr,$r=Er}),Fr=[],Tr=0;Tr<arguments.length;Tr++)Fr.push(arguments[Tr]);Fr.push(function(Rr,Er){Rr?$r(Rr):Mr(Er)});try{_r.apply(this,Fr)}catch(Rr){$r(Rr)}return Pr}return Object.setPrototypeOf(kr,Object.getPrototypeOf(_r)),Lt&&Object.defineProperty(kr,Lt,{value:kr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(kr,et(_r))},a.promisify.custom=Lt;function or(pr,_r){if(!pr){var kr=new Error("Promise was rejected with a falsy value");kr.reason=pr,pr=kr}return _r(pr)}function gr(pr){if(typeof pr!="function")throw new TypeError('The "original" argument must be of type Function');function _r(){for(var kr=[],Mr=0;Mr<arguments.length;Mr++)kr.push(arguments[Mr]);var $r=kr.pop();if(typeof $r!="function")throw new TypeError("The last argument must be of type Function");var Pr=this,Fr=function(){return $r.apply(Pr,arguments)};pr.apply(this,kr).then(function(Tr){process$1.nextTick(Fr.bind(null,null,Tr))},function(Tr){process$1.nextTick(or.bind(null,Tr,Fr))})}return Object.setPrototypeOf(_r,Object.getPrototypeOf(pr)),Object.defineProperties(_r,et(pr)),_r}a.callbackify=gr}(util$4)),util$4}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function a(ir,sr){var ur=Object.keys(ir);if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(ir);sr&&(fr=fr.filter(function(dr){return Object.getOwnPropertyDescriptor(ir,dr).enumerable})),ur.push.apply(ur,fr)}return ur}function s(ir){for(var sr=1;sr<arguments.length;sr++){var ur=arguments[sr]!=null?arguments[sr]:{};sr%2?a(Object(ur),!0).forEach(function(fr){et(ir,fr,ur[fr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ir,Object.getOwnPropertyDescriptors(ur)):a(Object(ur)).forEach(function(fr){Object.defineProperty(ir,fr,Object.getOwnPropertyDescriptor(ur,fr))})}return ir}function et(ir,sr,ur){return sr=wt(sr),sr in ir?Object.defineProperty(ir,sr,{value:ur,enumerable:!0,configurable:!0,writable:!0}):ir[sr]=ur,ir}function nt(ir,sr){if(!(ir instanceof sr))throw new TypeError("Cannot call a class as a function")}function at(ir,sr){for(var ur=0;ur<sr.length;ur++){var fr=sr[ur];fr.enumerable=fr.enumerable||!1,fr.configurable=!0,"value"in fr&&(fr.writable=!0),Object.defineProperty(ir,wt(fr.key),fr)}}function mt(ir,sr,ur){return sr&&at(ir.prototype,sr),Object.defineProperty(ir,"prototype",{writable:!1}),ir}function wt(ir){var sr=$t(ir,"string");return typeof sr=="symbol"?sr:String(sr)}function $t(ir,sr){if(typeof ir!="object"||ir===null)return ir;var ur=ir[Symbol.toPrimitive];if(ur!==void 0){var fr=ur.call(ir,sr);if(typeof fr!="object")return fr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ir)}var Ct=require$$0$3,Dt=Ct.Buffer,Ft=requireUtil$1(),jt=Ft.inspect,Ut=jt&&jt.custom||"inspect";function tr(ir,sr,ur){Dt.prototype.copy.call(ir,sr,ur)}return buffer_list=function(){function ir(){nt(this,ir),this.head=null,this.tail=null,this.length=0}return mt(ir,[{key:"push",value:function(ur){var fr={data:ur,next:null};this.length>0?this.tail.next=fr:this.head=fr,this.tail=fr,++this.length}},{key:"unshift",value:function(ur){var fr={data:ur,next:this.head};this.length===0&&(this.tail=fr),this.head=fr,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ur=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ur}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ur){if(this.length===0)return"";for(var fr=this.head,dr=""+fr.data;fr=fr.next;)dr+=ur+fr.data;return dr}},{key:"concat",value:function(ur){if(this.length===0)return Dt.alloc(0);for(var fr=Dt.allocUnsafe(ur>>>0),dr=this.head,hr=0;dr;)tr(dr.data,fr,hr),hr+=dr.data.length,dr=dr.next;return fr}},{key:"consume",value:function(ur,fr){var dr;return ur<this.head.data.length?(dr=this.head.data.slice(0,ur),this.head.data=this.head.data.slice(ur)):ur===this.head.data.length?dr=this.shift():dr=fr?this._getString(ur):this._getBuffer(ur),dr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ur){var fr=this.head,dr=1,hr=fr.data;for(ur-=hr.length;fr=fr.next;){var vr=fr.data,yr=ur>vr.length?vr.length:ur;if(yr===vr.length?hr+=vr:hr+=vr.slice(0,ur),ur-=yr,ur===0){yr===vr.length?(++dr,fr.next?this.head=fr.next:this.head=this.tail=null):(this.head=fr,fr.data=vr.slice(yr));break}++dr}return this.length-=dr,hr}},{key:"_getBuffer",value:function(ur){var fr=Dt.allocUnsafe(ur),dr=this.head,hr=1;for(dr.data.copy(fr),ur-=dr.data.length;dr=dr.next;){var vr=dr.data,yr=ur>vr.length?vr.length:ur;if(vr.copy(fr,fr.length-ur,0,yr),ur-=yr,ur===0){yr===vr.length?(++hr,dr.next?this.head=dr.next:this.head=this.tail=null):(this.head=dr,dr.data=vr.slice(yr));break}++hr}return this.length-=hr,fr}},{key:Ut,value:function(ur,fr){return jt(this,s(s({},fr),{},{depth:0,customInspect:!1}))}}]),ir}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function a(wt,$t){var Ct=this,Dt=this._readableState&&this._readableState.destroyed,Ft=this._writableState&&this._writableState.destroyed;return Dt||Ft?($t?$t(wt):wt&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(at,this,wt)):process$1.nextTick(at,this,wt)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(wt||null,function(jt){!$t&&jt?Ct._writableState?Ct._writableState.errorEmitted?process$1.nextTick(et,Ct):(Ct._writableState.errorEmitted=!0,process$1.nextTick(s,Ct,jt)):process$1.nextTick(s,Ct,jt):$t?(process$1.nextTick(et,Ct),$t(jt)):process$1.nextTick(et,Ct)}),this)}function s(wt,$t){at(wt,$t),et(wt)}function et(wt){wt._writableState&&!wt._writableState.emitClose||wt._readableState&&!wt._readableState.emitClose||wt.emit("close")}function nt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function at(wt,$t){wt.emit("error",$t)}function mt(wt,$t){var Ct=wt._readableState,Dt=wt._writableState;Ct&&Ct.autoDestroy||Dt&&Dt.autoDestroy?wt.destroy($t):wt.emit("error",$t)}return destroy_1$1={destroy:a,undestroy:nt,errorOrDestroy:mt},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function a($t,Ct){$t.prototype=Object.create(Ct.prototype),$t.prototype.constructor=$t,$t.__proto__=Ct}var s={};function et($t,Ct,Dt){Dt||(Dt=Error);function Ft(Ut,tr,ir){return typeof Ct=="string"?Ct:Ct(Ut,tr,ir)}var jt=function(Ut){a(tr,Ut);function tr(ir,sr,ur){return Ut.call(this,Ft(ir,sr,ur))||this}return tr}(Dt);jt.prototype.name=Dt.name,jt.prototype.code=$t,s[$t]=jt}function nt($t,Ct){if(Array.isArray($t)){var Dt=$t.length;return $t=$t.map(function(Ft){return String(Ft)}),Dt>2?"one of ".concat(Ct," ").concat($t.slice(0,Dt-1).join(", "),", or ")+$t[Dt-1]:Dt===2?"one of ".concat(Ct," ").concat($t[0]," or ").concat($t[1]):"of ".concat(Ct," ").concat($t[0])}else return"of ".concat(Ct," ").concat(String($t))}function at($t,Ct,Dt){return $t.substr(0,Ct.length)===Ct}function mt($t,Ct,Dt){return(Dt===void 0||Dt>$t.length)&&(Dt=$t.length),$t.substring(Dt-Ct.length,Dt)===Ct}function wt($t,Ct,Dt){return typeof Dt!="number"&&(Dt=0),Dt+Ct.length>$t.length?!1:$t.indexOf(Ct,Dt)!==-1}return et("ERR_INVALID_OPT_VALUE",function($t,Ct){return'The value "'+Ct+'" is invalid for option "'+$t+'"'},TypeError),et("ERR_INVALID_ARG_TYPE",function($t,Ct,Dt){var Ft;typeof Ct=="string"&&at(Ct,"not ")?(Ft="must not be",Ct=Ct.replace(/^not /,"")):Ft="must be";var jt;if(mt($t," argument"))jt="The ".concat($t," ").concat(Ft," ").concat(nt(Ct,"type"));else{var Ut=wt($t,".")?"property":"argument";jt='The "'.concat($t,'" ').concat(Ut," ").concat(Ft," ").concat(nt(Ct,"type"))}return jt+=". Received type ".concat(typeof Dt),jt},TypeError),et("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),et("ERR_METHOD_NOT_IMPLEMENTED",function($t){return"The "+$t+" method is not implemented"}),et("ERR_STREAM_PREMATURE_CLOSE","Premature close"),et("ERR_STREAM_DESTROYED",function($t){return"Cannot call "+$t+" after a stream was destroyed"}),et("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),et("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),et("ERR_STREAM_WRITE_AFTER_END","write after end"),et("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),et("ERR_UNKNOWN_ENCODING",function($t){return"Unknown encoding: "+$t},TypeError),et("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=s,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var a=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function s(nt,at,mt){return nt.highWaterMark!=null?nt.highWaterMark:at?nt[mt]:null}function et(nt,at,mt,wt){var $t=s(at,wt,mt);if($t!=null){if(!(isFinite($t)&&Math.floor($t)===$t)||$t<0){var Ct=wt?mt:"highWaterMark";throw new a(Ct,$t)}return Math.floor($t)}return nt.objectMode?16:16*1024}return state={getHighWaterMark:et},state}var browser$c,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$c;hasRequiredBrowser$a=1,browser$c=a;function a(et,nt){if(s("noDeprecation"))return et;var at=!1;function mt(){if(!at){if(s("throwDeprecation"))throw new Error(nt);s("traceDeprecation")?console.trace(nt):console.warn(nt),at=!0}return et.apply(this,arguments)}return mt}function s(et){try{if(!commonjsGlobal$1.localStorage)return!1}catch{return!1}var nt=commonjsGlobal$1.localStorage[et];return nt==null?!1:String(nt).toLowerCase()==="true"}return browser$c}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=wr;function a(Mr){var $r=this;this.next=null,this.entry=null,this.finish=function(){kr($r,Mr)}}var s;wr.WritableState=xr;var et={deprecate:requireBrowser$a()},nt=requireStreamBrowser$1(),at=require$$0$3.Buffer,mt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function wt(Mr){return at.from(Mr)}function $t(Mr){return at.isBuffer(Mr)||Mr instanceof mt}var Ct=requireDestroy$1(),Dt=requireState(),Ft=Dt.getHighWaterMark,jt=requireErrorsBrowser().codes,Ut=jt.ERR_INVALID_ARG_TYPE,tr=jt.ERR_METHOD_NOT_IMPLEMENTED,ir=jt.ERR_MULTIPLE_CALLBACK,sr=jt.ERR_STREAM_CANNOT_PIPE,ur=jt.ERR_STREAM_DESTROYED,fr=jt.ERR_STREAM_NULL_VALUES,dr=jt.ERR_STREAM_WRITE_AFTER_END,hr=jt.ERR_UNKNOWN_ENCODING,vr=Ct.errorOrDestroy;requireInherits_browser()(wr,nt);function yr(){}function xr(Mr,$r,Pr){s=s||require_stream_duplex$1(),Mr=Mr||{},typeof Pr!="boolean"&&(Pr=$r instanceof s),this.objectMode=!!Mr.objectMode,Pr&&(this.objectMode=this.objectMode||!!Mr.writableObjectMode),this.highWaterMark=Ft(this,Mr,"writableHighWaterMark",Pr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Fr=Mr.decodeStrings===!1;this.decodeStrings=!Fr,this.defaultEncoding=Mr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Tr){rr($r,Tr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Mr.emitClose!==!1,this.autoDestroy=!!Mr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}xr.prototype.getBuffer=function(){for(var $r=this.bufferedRequest,Pr=[];$r;)Pr.push($r),$r=$r.next;return Pr},function(){try{Object.defineProperty(xr.prototype,"buffer",{get:et.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var br;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(br=Function.prototype[Symbol.hasInstance],Object.defineProperty(wr,Symbol.hasInstance,{value:function($r){return br.call(this,$r)?!0:this!==wr?!1:$r&&$r._writableState instanceof xr}})):br=function($r){return $r instanceof this};function wr(Mr){s=s||require_stream_duplex$1();var $r=this instanceof s;if(!$r&&!br.call(wr,this))return new wr(Mr);this._writableState=new xr(Mr,this,$r),this.writable=!0,Mr&&(typeof Mr.write=="function"&&(this._write=Mr.write),typeof Mr.writev=="function"&&(this._writev=Mr.writev),typeof Mr.destroy=="function"&&(this._destroy=Mr.destroy),typeof Mr.final=="function"&&(this._final=Mr.final)),nt.call(this)}wr.prototype.pipe=function(){vr(this,new sr)};function Sr(Mr,$r){var Pr=new dr;vr(Mr,Pr),process$1.nextTick($r,Pr)}function Cr(Mr,$r,Pr,Fr){var Tr;return Pr===null?Tr=new fr:typeof Pr!="string"&&!$r.objectMode&&(Tr=new Ut("chunk",["string","Buffer"],Pr)),Tr?(vr(Mr,Tr),process$1.nextTick(Fr,Tr),!1):!0}wr.prototype.write=function(Mr,$r,Pr){var Fr=this._writableState,Tr=!1,Rr=!Fr.objectMode&&$t(Mr);return Rr&&!at.isBuffer(Mr)&&(Mr=wt(Mr)),typeof $r=="function"&&(Pr=$r,$r=null),Rr?$r="buffer":$r||($r=Fr.defaultEncoding),typeof Pr!="function"&&(Pr=yr),Fr.ending?Sr(this,Pr):(Rr||Cr(this,Fr,Mr,Pr))&&(Fr.pendingcb++,Tr=Nt(this,Fr,Rr,Mr,$r,Pr)),Tr},wr.prototype.cork=function(){this._writableState.corked++},wr.prototype.uncork=function(){var Mr=this._writableState;Mr.corked&&(Mr.corked--,!Mr.writing&&!Mr.corked&&!Mr.bufferProcessing&&Mr.bufferedRequest&&nr(this,Mr))},wr.prototype.setDefaultEncoding=function($r){if(typeof $r=="string"&&($r=$r.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($r+"").toLowerCase())>-1))throw new hr($r);return this._writableState.defaultEncoding=$r,this},Object.defineProperty(wr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function cr(Mr,$r,Pr){return!Mr.objectMode&&Mr.decodeStrings!==!1&&typeof $r=="string"&&($r=at.from($r,Pr)),$r}Object.defineProperty(wr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Nt(Mr,$r,Pr,Fr,Tr,Rr){if(!Pr){var Er=cr($r,Fr,Tr);Fr!==Er&&(Pr=!0,Tr="buffer",Fr=Er)}var Or=$r.objectMode?1:Fr.length;$r.length+=Or;var Wr=$r.length<$r.highWaterMark;if(Wr||($r.needDrain=!0),$r.writing||$r.corked){var qr=$r.lastBufferedRequest;$r.lastBufferedRequest={chunk:Fr,encoding:Tr,isBuf:Pr,callback:Rr,next:null},qr?qr.next=$r.lastBufferedRequest:$r.bufferedRequest=$r.lastBufferedRequest,$r.bufferedRequestCount+=1}else Vt(Mr,$r,!1,Or,Fr,Tr,Rr);return Wr}function Vt(Mr,$r,Pr,Fr,Tr,Rr,Er){$r.writelen=Fr,$r.writecb=Er,$r.writing=!0,$r.sync=!0,$r.destroyed?$r.onwrite(new ur("write")):Pr?Mr._writev(Tr,$r.onwrite):Mr._write(Tr,Rr,$r.onwrite),$r.sync=!1}function er(Mr,$r,Pr,Fr,Tr){--$r.pendingcb,Pr?(process$1.nextTick(Tr,Fr),process$1.nextTick(pr,Mr,$r),Mr._writableState.errorEmitted=!0,vr(Mr,Fr)):(Tr(Fr),Mr._writableState.errorEmitted=!0,vr(Mr,Fr),pr(Mr,$r))}function Yt(Mr){Mr.writing=!1,Mr.writecb=null,Mr.length-=Mr.writelen,Mr.writelen=0}function rr(Mr,$r){var Pr=Mr._writableState,Fr=Pr.sync,Tr=Pr.writecb;if(typeof Tr!="function")throw new ir;if(Yt(Pr),$r)er(Mr,Pr,Fr,$r,Tr);else{var Rr=Lt(Pr)||Mr.destroyed;!Rr&&!Pr.corked&&!Pr.bufferProcessing&&Pr.bufferedRequest&&nr(Mr,Pr),Fr?process$1.nextTick(ar,Mr,Pr,Rr,Tr):ar(Mr,Pr,Rr,Tr)}}function ar(Mr,$r,Pr,Fr){Pr||lr(Mr,$r),$r.pendingcb--,Fr(),pr(Mr,$r)}function lr(Mr,$r){$r.length===0&&$r.needDrain&&($r.needDrain=!1,Mr.emit("drain"))}function nr(Mr,$r){$r.bufferProcessing=!0;var Pr=$r.bufferedRequest;if(Mr._writev&&Pr&&Pr.next){var Fr=$r.bufferedRequestCount,Tr=new Array(Fr),Rr=$r.corkedRequestsFree;Rr.entry=Pr;for(var Er=0,Or=!0;Pr;)Tr[Er]=Pr,Pr.isBuf||(Or=!1),Pr=Pr.next,Er+=1;Tr.allBuffers=Or,Vt(Mr,$r,!0,$r.length,Tr,"",Rr.finish),$r.pendingcb++,$r.lastBufferedRequest=null,Rr.next?($r.corkedRequestsFree=Rr.next,Rr.next=null):$r.corkedRequestsFree=new a($r),$r.bufferedRequestCount=0}else{for(;Pr;){var Wr=Pr.chunk,qr=Pr.encoding,Vr=Pr.callback,Ur=$r.objectMode?1:Wr.length;if(Vt(Mr,$r,!1,Ur,Wr,qr,Vr),Pr=Pr.next,$r.bufferedRequestCount--,$r.writing)break}Pr===null&&($r.lastBufferedRequest=null)}$r.bufferedRequest=Pr,$r.bufferProcessing=!1}wr.prototype._write=function(Mr,$r,Pr){Pr(new tr("_write()"))},wr.prototype._writev=null,wr.prototype.end=function(Mr,$r,Pr){var Fr=this._writableState;return typeof Mr=="function"?(Pr=Mr,Mr=null,$r=null):typeof $r=="function"&&(Pr=$r,$r=null),Mr!=null&&this.write(Mr,$r),Fr.corked&&(Fr.corked=1,this.uncork()),Fr.ending||_r(this,Fr,Pr),this},Object.defineProperty(wr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Lt(Mr){return Mr.ending&&Mr.length===0&&Mr.bufferedRequest===null&&!Mr.finished&&!Mr.writing}function or(Mr,$r){Mr._final(function(Pr){$r.pendingcb--,Pr&&vr(Mr,Pr),$r.prefinished=!0,Mr.emit("prefinish"),pr(Mr,$r)})}function gr(Mr,$r){!$r.prefinished&&!$r.finalCalled&&(typeof Mr._final=="function"&&!$r.destroyed?($r.pendingcb++,$r.finalCalled=!0,process$1.nextTick(or,Mr,$r)):($r.prefinished=!0,Mr.emit("prefinish")))}function pr(Mr,$r){var Pr=Lt($r);if(Pr&&(gr(Mr,$r),$r.pendingcb===0&&($r.finished=!0,Mr.emit("finish"),$r.autoDestroy))){var Fr=Mr._readableState;(!Fr||Fr.autoDestroy&&Fr.endEmitted)&&Mr.destroy()}return Pr}function _r(Mr,$r,Pr){$r.ending=!0,pr(Mr,$r),Pr&&($r.finished?process$1.nextTick(Pr):Mr.once("finish",Pr)),$r.ended=!0,Mr.writable=!1}function kr(Mr,$r,Pr){var Fr=Mr.entry;for(Mr.entry=null;Fr;){var Tr=Fr.callback;$r.pendingcb--,Tr(Pr),Fr=Fr.next}$r.corkedRequestsFree.next=Mr}return Object.defineProperty(wr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($r){this._writableState&&(this._writableState.destroyed=$r)}}),wr.prototype.destroy=Ct.destroy,wr.prototype._undestroy=Ct.undestroy,wr.prototype._destroy=function(Mr,$r){$r(Mr)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var a=Object.keys||function(Dt){var Ft=[];for(var jt in Dt)Ft.push(jt);return Ft};_stream_duplex$1=wt;var s=require_stream_readable$1(),et=require_stream_writable$1();requireInherits_browser()(wt,s);for(var nt=a(et.prototype),at=0;at<nt.length;at++){var mt=nt[at];wt.prototype[mt]||(wt.prototype[mt]=et.prototype[mt])}function wt(Dt){if(!(this instanceof wt))return new wt(Dt);s.call(this,Dt),et.call(this,Dt),this.allowHalfOpen=!0,Dt&&(Dt.readable===!1&&(this.readable=!1),Dt.writable===!1&&(this.writable=!1),Dt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",$t)))}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(wt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(wt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $t(){this._writableState.ended||process$1.nextTick(Ct,this)}function Ct(Dt){Dt.end()}return Object.defineProperty(wt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Ft){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Ft,this._writableState.destroyed=Ft)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var a=requireSafeBuffer$1().Buffer,s=a.isEncoding||function(fr){switch(fr=""+fr,fr&&fr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function et(fr){if(!fr)return"utf8";for(var dr;;)switch(fr){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return fr;default:if(dr)return;fr=(""+fr).toLowerCase(),dr=!0}}function nt(fr){var dr=et(fr);if(typeof dr!="string"&&(a.isEncoding===s||!s(fr)))throw new Error("Unknown encoding: "+fr);return dr||fr}string_decoder.StringDecoder=at;function at(fr){this.encoding=nt(fr);var dr;switch(this.encoding){case"utf16le":this.text=jt,this.end=Ut,dr=4;break;case"utf8":this.fillLast=Ct,dr=4;break;case"base64":this.text=tr,this.end=ir,dr=3;break;default:this.write=sr,this.end=ur;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(dr)}at.prototype.write=function(fr){if(fr.length===0)return"";var dr,hr;if(this.lastNeed){if(dr=this.fillLast(fr),dr===void 0)return"";hr=this.lastNeed,this.lastNeed=0}else hr=0;return hr<fr.length?dr?dr+this.text(fr,hr):this.text(fr,hr):dr||""},at.prototype.end=Ft,at.prototype.text=Dt,at.prototype.fillLast=function(fr){if(this.lastNeed<=fr.length)return fr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);fr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,fr.length),this.lastNeed-=fr.length};function mt(fr){return fr<=127?0:fr>>5===6?2:fr>>4===14?3:fr>>3===30?4:fr>>6===2?-1:-2}function wt(fr,dr,hr){var vr=dr.length-1;if(vr<hr)return 0;var yr=mt(dr[vr]);return yr>=0?(yr>0&&(fr.lastNeed=yr-1),yr):--vr<hr||yr===-2?0:(yr=mt(dr[vr]),yr>=0?(yr>0&&(fr.lastNeed=yr-2),yr):--vr<hr||yr===-2?0:(yr=mt(dr[vr]),yr>=0?(yr>0&&(yr===2?yr=0:fr.lastNeed=yr-3),yr):0))}function $t(fr,dr,hr){if((dr[0]&192)!==128)return fr.lastNeed=0,"�";if(fr.lastNeed>1&&dr.length>1){if((dr[1]&192)!==128)return fr.lastNeed=1,"�";if(fr.lastNeed>2&&dr.length>2&&(dr[2]&192)!==128)return fr.lastNeed=2,"�"}}function Ct(fr){var dr=this.lastTotal-this.lastNeed,hr=$t(this,fr);if(hr!==void 0)return hr;if(this.lastNeed<=fr.length)return fr.copy(this.lastChar,dr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);fr.copy(this.lastChar,dr,0,fr.length),this.lastNeed-=fr.length}function Dt(fr,dr){var hr=wt(this,fr,dr);if(!this.lastNeed)return fr.toString("utf8",dr);this.lastTotal=hr;var vr=fr.length-(hr-this.lastNeed);return fr.copy(this.lastChar,0,vr),fr.toString("utf8",dr,vr)}function Ft(fr){var dr=fr&&fr.length?this.write(fr):"";return this.lastNeed?dr+"�":dr}function jt(fr,dr){if((fr.length-dr)%2===0){var hr=fr.toString("utf16le",dr);if(hr){var vr=hr.charCodeAt(hr.length-1);if(vr>=55296&&vr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=fr[fr.length-2],this.lastChar[1]=fr[fr.length-1],hr.slice(0,-1)}return hr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=fr[fr.length-1],fr.toString("utf16le",dr,fr.length-1)}function Ut(fr){var dr=fr&&fr.length?this.write(fr):"";if(this.lastNeed){var hr=this.lastTotal-this.lastNeed;return dr+this.lastChar.toString("utf16le",0,hr)}return dr}function tr(fr,dr){var hr=(fr.length-dr)%3;return hr===0?fr.toString("base64",dr):(this.lastNeed=3-hr,this.lastTotal=3,hr===1?this.lastChar[0]=fr[fr.length-1]:(this.lastChar[0]=fr[fr.length-2],this.lastChar[1]=fr[fr.length-1]),fr.toString("base64",dr,fr.length-hr))}function ir(fr){var dr=fr&&fr.length?this.write(fr):"";return this.lastNeed?dr+this.lastChar.toString("base64",0,3-this.lastNeed):dr}function sr(fr){return fr.toString(this.encoding)}function ur(fr){return fr&&fr.length?this.write(fr):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var a=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function s(mt){var wt=!1;return function(){if(!wt){wt=!0;for(var $t=arguments.length,Ct=new Array($t),Dt=0;Dt<$t;Dt++)Ct[Dt]=arguments[Dt];mt.apply(this,Ct)}}}function et(){}function nt(mt){return mt.setHeader&&typeof mt.abort=="function"}function at(mt,wt,$t){if(typeof wt=="function")return at(mt,null,wt);wt||(wt={}),$t=s($t||et);var Ct=wt.readable||wt.readable!==!1&&mt.readable,Dt=wt.writable||wt.writable!==!1&&mt.writable,Ft=function(){mt.writable||Ut()},jt=mt._writableState&&mt._writableState.finished,Ut=function(){Dt=!1,jt=!0,Ct||$t.call(mt)},tr=mt._readableState&&mt._readableState.endEmitted,ir=function(){Ct=!1,tr=!0,Dt||$t.call(mt)},sr=function(hr){$t.call(mt,hr)},ur=function(){var hr;if(Ct&&!tr)return(!mt._readableState||!mt._readableState.ended)&&(hr=new a),$t.call(mt,hr);if(Dt&&!jt)return(!mt._writableState||!mt._writableState.ended)&&(hr=new a),$t.call(mt,hr)},fr=function(){mt.req.on("finish",Ut)};return nt(mt)?(mt.on("complete",Ut),mt.on("abort",ur),mt.req?fr():mt.on("request",fr)):Dt&&!mt._writableState&&(mt.on("end",Ft),mt.on("close",Ft)),mt.on("end",ir),mt.on("finish",Ut),wt.error!==!1&&mt.on("error",sr),mt.on("close",ur),function(){mt.removeListener("complete",Ut),mt.removeListener("abort",ur),mt.removeListener("request",fr),mt.req&&mt.req.removeListener("finish",Ut),mt.removeListener("end",Ft),mt.removeListener("close",Ft),mt.removeListener("finish",Ut),mt.removeListener("end",ir),mt.removeListener("error",sr),mt.removeListener("close",ur)}}return endOfStream=at,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var a;function s(hr,vr,yr){return vr=et(vr),vr in hr?Object.defineProperty(hr,vr,{value:yr,enumerable:!0,configurable:!0,writable:!0}):hr[vr]=yr,hr}function et(hr){var vr=nt(hr,"string");return typeof vr=="symbol"?vr:String(vr)}function nt(hr,vr){if(typeof hr!="object"||hr===null)return hr;var yr=hr[Symbol.toPrimitive];if(yr!==void 0){var xr=yr.call(hr,vr);if(typeof xr!="object")return xr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vr==="string"?String:Number)(hr)}var at=requireEndOfStream(),mt=Symbol("lastResolve"),wt=Symbol("lastReject"),$t=Symbol("error"),Ct=Symbol("ended"),Dt=Symbol("lastPromise"),Ft=Symbol("handlePromise"),jt=Symbol("stream");function Ut(hr,vr){return{value:hr,done:vr}}function tr(hr){var vr=hr[mt];if(vr!==null){var yr=hr[jt].read();yr!==null&&(hr[Dt]=null,hr[mt]=null,hr[wt]=null,vr(Ut(yr,!1)))}}function ir(hr){process$1.nextTick(tr,hr)}function sr(hr,vr){return function(yr,xr){hr.then(function(){if(vr[Ct]){yr(Ut(void 0,!0));return}vr[Ft](yr,xr)},xr)}}var ur=Object.getPrototypeOf(function(){}),fr=Object.setPrototypeOf((a={get stream(){return this[jt]},next:function(){var vr=this,yr=this[$t];if(yr!==null)return Promise.reject(yr);if(this[Ct])return Promise.resolve(Ut(void 0,!0));if(this[jt].destroyed)return new Promise(function(Sr,Cr){process$1.nextTick(function(){vr[$t]?Cr(vr[$t]):Sr(Ut(void 0,!0))})});var xr=this[Dt],br;if(xr)br=new Promise(sr(xr,this));else{var wr=this[jt].read();if(wr!==null)return Promise.resolve(Ut(wr,!1));br=new Promise(this[Ft])}return this[Dt]=br,br}},s(a,Symbol.asyncIterator,function(){return this}),s(a,"return",function(){var vr=this;return new Promise(function(yr,xr){vr[jt].destroy(null,function(br){if(br){xr(br);return}yr(Ut(void 0,!0))})})}),a),ur),dr=function(vr){var yr,xr=Object.create(fr,(yr={},s(yr,jt,{value:vr,writable:!0}),s(yr,mt,{value:null,writable:!0}),s(yr,wt,{value:null,writable:!0}),s(yr,$t,{value:null,writable:!0}),s(yr,Ct,{value:vr._readableState.endEmitted,writable:!0}),s(yr,Ft,{value:function(wr,Sr){var Cr=xr[jt].read();Cr?(xr[Dt]=null,xr[mt]=null,xr[wt]=null,wr(Ut(Cr,!1))):(xr[mt]=wr,xr[wt]=Sr)},writable:!0}),yr));return xr[Dt]=null,at(vr,function(br){if(br&&br.code!=="ERR_STREAM_PREMATURE_CLOSE"){var wr=xr[wt];wr!==null&&(xr[Dt]=null,xr[mt]=null,xr[wt]=null,wr(br)),xr[$t]=br;return}var Sr=xr[mt];Sr!==null&&(xr[Dt]=null,xr[mt]=null,xr[wt]=null,Sr(Ut(void 0,!0))),xr[Ct]=!0}),vr.on("readable",ir.bind(null,xr)),xr};return async_iterator=dr,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Sr;var a;Sr.ReadableState=wr,requireEvents().EventEmitter;var s=function(Er,Or){return Er.listeners(Or).length},et=requireStreamBrowser$1(),nt=require$$0$3.Buffer,at=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function mt(Rr){return nt.from(Rr)}function wt(Rr){return nt.isBuffer(Rr)||Rr instanceof at}var $t=requireUtil$1(),Ct;$t&&$t.debuglog?Ct=$t.debuglog("stream"):Ct=function(){};var Dt=requireBuffer_list(),Ft=requireDestroy$1(),jt=requireState(),Ut=jt.getHighWaterMark,tr=requireErrorsBrowser().codes,ir=tr.ERR_INVALID_ARG_TYPE,sr=tr.ERR_STREAM_PUSH_AFTER_EOF,ur=tr.ERR_METHOD_NOT_IMPLEMENTED,fr=tr.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,dr,hr,vr;requireInherits_browser()(Sr,et);var yr=Ft.errorOrDestroy,xr=["error","close","destroy","pause","resume"];function br(Rr,Er,Or){if(typeof Rr.prependListener=="function")return Rr.prependListener(Er,Or);!Rr._events||!Rr._events[Er]?Rr.on(Er,Or):Array.isArray(Rr._events[Er])?Rr._events[Er].unshift(Or):Rr._events[Er]=[Or,Rr._events[Er]]}function wr(Rr,Er,Or){a=a||require_stream_duplex$1(),Rr=Rr||{},typeof Or!="boolean"&&(Or=Er instanceof a),this.objectMode=!!Rr.objectMode,Or&&(this.objectMode=this.objectMode||!!Rr.readableObjectMode),this.highWaterMark=Ut(this,Rr,"readableHighWaterMark",Or),this.buffer=new Dt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Rr.emitClose!==!1,this.autoDestroy=!!Rr.autoDestroy,this.destroyed=!1,this.defaultEncoding=Rr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Rr.encoding&&(dr||(dr=requireString_decoder().StringDecoder),this.decoder=new dr(Rr.encoding),this.encoding=Rr.encoding)}function Sr(Rr){if(a=a||require_stream_duplex$1(),!(this instanceof Sr))return new Sr(Rr);var Er=this instanceof a;this._readableState=new wr(Rr,this,Er),this.readable=!0,Rr&&(typeof Rr.read=="function"&&(this._read=Rr.read),typeof Rr.destroy=="function"&&(this._destroy=Rr.destroy)),et.call(this)}Object.defineProperty(Sr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Er){this._readableState&&(this._readableState.destroyed=Er)}}),Sr.prototype.destroy=Ft.destroy,Sr.prototype._undestroy=Ft.undestroy,Sr.prototype._destroy=function(Rr,Er){Er(Rr)},Sr.prototype.push=function(Rr,Er){var Or=this._readableState,Wr;return Or.objectMode?Wr=!0:typeof Rr=="string"&&(Er=Er||Or.defaultEncoding,Er!==Or.encoding&&(Rr=nt.from(Rr,Er),Er=""),Wr=!0),Cr(this,Rr,Er,!1,Wr)},Sr.prototype.unshift=function(Rr){return Cr(this,Rr,null,!0,!1)};function Cr(Rr,Er,Or,Wr,qr){Ct("readableAddChunk",Er);var Vr=Rr._readableState;if(Er===null)Vr.reading=!1,rr(Rr,Vr);else{var Ur;if(qr||(Ur=Nt(Vr,Er)),Ur)yr(Rr,Ur);else if(Vr.objectMode||Er&&Er.length>0)if(typeof Er!="string"&&!Vr.objectMode&&Object.getPrototypeOf(Er)!==nt.prototype&&(Er=mt(Er)),Wr)Vr.endEmitted?yr(Rr,new fr):cr(Rr,Vr,Er,!0);else if(Vr.ended)yr(Rr,new sr);else{if(Vr.destroyed)return!1;Vr.reading=!1,Vr.decoder&&!Or?(Er=Vr.decoder.write(Er),Vr.objectMode||Er.length!==0?cr(Rr,Vr,Er,!1):nr(Rr,Vr)):cr(Rr,Vr,Er,!1)}else Wr||(Vr.reading=!1,nr(Rr,Vr))}return!Vr.ended&&(Vr.length<Vr.highWaterMark||Vr.length===0)}function cr(Rr,Er,Or,Wr){Er.flowing&&Er.length===0&&!Er.sync?(Er.awaitDrain=0,Rr.emit("data",Or)):(Er.length+=Er.objectMode?1:Or.length,Wr?Er.buffer.unshift(Or):Er.buffer.push(Or),Er.needReadable&&ar(Rr)),nr(Rr,Er)}function Nt(Rr,Er){var Or;return!wt(Er)&&typeof Er!="string"&&Er!==void 0&&!Rr.objectMode&&(Or=new ir("chunk",["string","Buffer","Uint8Array"],Er)),Or}Sr.prototype.isPaused=function(){return this._readableState.flowing===!1},Sr.prototype.setEncoding=function(Rr){dr||(dr=requireString_decoder().StringDecoder);var Er=new dr(Rr);this._readableState.decoder=Er,this._readableState.encoding=this._readableState.decoder.encoding;for(var Or=this._readableState.buffer.head,Wr="";Or!==null;)Wr+=Er.write(Or.data),Or=Or.next;return this._readableState.buffer.clear(),Wr!==""&&this._readableState.buffer.push(Wr),this._readableState.length=Wr.length,this};var Vt=1073741824;function er(Rr){return Rr>=Vt?Rr=Vt:(Rr--,Rr|=Rr>>>1,Rr|=Rr>>>2,Rr|=Rr>>>4,Rr|=Rr>>>8,Rr|=Rr>>>16,Rr++),Rr}function Yt(Rr,Er){return Rr<=0||Er.length===0&&Er.ended?0:Er.objectMode?1:Rr!==Rr?Er.flowing&&Er.length?Er.buffer.head.data.length:Er.length:(Rr>Er.highWaterMark&&(Er.highWaterMark=er(Rr)),Rr<=Er.length?Rr:Er.ended?Er.length:(Er.needReadable=!0,0))}Sr.prototype.read=function(Rr){Ct("read",Rr),Rr=parseInt(Rr,10);var Er=this._readableState,Or=Rr;if(Rr!==0&&(Er.emittedReadable=!1),Rr===0&&Er.needReadable&&((Er.highWaterMark!==0?Er.length>=Er.highWaterMark:Er.length>0)||Er.ended))return Ct("read: emitReadable",Er.length,Er.ended),Er.length===0&&Er.ended?Pr(this):ar(this),null;if(Rr=Yt(Rr,Er),Rr===0&&Er.ended)return Er.length===0&&Pr(this),null;var Wr=Er.needReadable;Ct("need readable",Wr),(Er.length===0||Er.length-Rr<Er.highWaterMark)&&(Wr=!0,Ct("length less than watermark",Wr)),Er.ended||Er.reading?(Wr=!1,Ct("reading or ended",Wr)):Wr&&(Ct("do read"),Er.reading=!0,Er.sync=!0,Er.length===0&&(Er.needReadable=!0),this._read(Er.highWaterMark),Er.sync=!1,Er.reading||(Rr=Yt(Or,Er)));var qr;return Rr>0?qr=$r(Rr,Er):qr=null,qr===null?(Er.needReadable=Er.length<=Er.highWaterMark,Rr=0):(Er.length-=Rr,Er.awaitDrain=0),Er.length===0&&(Er.ended||(Er.needReadable=!0),Or!==Rr&&Er.ended&&Pr(this)),qr!==null&&this.emit("data",qr),qr};function rr(Rr,Er){if(Ct("onEofChunk"),!Er.ended){if(Er.decoder){var Or=Er.decoder.end();Or&&Or.length&&(Er.buffer.push(Or),Er.length+=Er.objectMode?1:Or.length)}Er.ended=!0,Er.sync?ar(Rr):(Er.needReadable=!1,Er.emittedReadable||(Er.emittedReadable=!0,lr(Rr)))}}function ar(Rr){var Er=Rr._readableState;Ct("emitReadable",Er.needReadable,Er.emittedReadable),Er.needReadable=!1,Er.emittedReadable||(Ct("emitReadable",Er.flowing),Er.emittedReadable=!0,process$1.nextTick(lr,Rr))}function lr(Rr){var Er=Rr._readableState;Ct("emitReadable_",Er.destroyed,Er.length,Er.ended),!Er.destroyed&&(Er.length||Er.ended)&&(Rr.emit("readable"),Er.emittedReadable=!1),Er.needReadable=!Er.flowing&&!Er.ended&&Er.length<=Er.highWaterMark,Mr(Rr)}function nr(Rr,Er){Er.readingMore||(Er.readingMore=!0,process$1.nextTick(Lt,Rr,Er))}function Lt(Rr,Er){for(;!Er.reading&&!Er.ended&&(Er.length<Er.highWaterMark||Er.flowing&&Er.length===0);){var Or=Er.length;if(Ct("maybeReadMore read 0"),Rr.read(0),Or===Er.length)break}Er.readingMore=!1}Sr.prototype._read=function(Rr){yr(this,new ur("_read()"))},Sr.prototype.pipe=function(Rr,Er){var Or=this,Wr=this._readableState;switch(Wr.pipesCount){case 0:Wr.pipes=Rr;break;case 1:Wr.pipes=[Wr.pipes,Rr];break;default:Wr.pipes.push(Rr);break}Wr.pipesCount+=1,Ct("pipe count=%d opts=%j",Wr.pipesCount,Er);var qr=(!Er||Er.end!==!1)&&Rr!==process$1.stdout&&Rr!==process$1.stderr,Vr=qr?Lr:lo;Wr.endEmitted?process$1.nextTick(Vr):Or.once("end",Vr),Rr.on("unpipe",Ur);function Ur(sn,Nn){Ct("onunpipe"),sn===Or&&Nn&&Nn.hasUnpiped===!1&&(Nn.hasUnpiped=!0,zr())}function Lr(){Ct("onend"),Rr.end()}var Br=or(Or);Rr.on("drain",Br);var Xr=!1;function zr(){Ct("cleanup"),Rr.removeListener("close",nn),Rr.removeListener("finish",$n),Rr.removeListener("drain",Br),Rr.removeListener("error",Qn),Rr.removeListener("unpipe",Ur),Or.removeListener("end",Lr),Or.removeListener("end",lo),Or.removeListener("data",Qr),Xr=!0,Wr.awaitDrain&&(!Rr._writableState||Rr._writableState.needDrain)&&Br()}Or.on("data",Qr);function Qr(sn){Ct("ondata");var Nn=Rr.write(sn);Ct("dest.write",Nn),Nn===!1&&((Wr.pipesCount===1&&Wr.pipes===Rr||Wr.pipesCount>1&&Tr(Wr.pipes,Rr)!==-1)&&!Xr&&(Ct("false write response, pause",Wr.awaitDrain),Wr.awaitDrain++),Or.pause())}function Qn(sn){Ct("onerror",sn),lo(),Rr.removeListener("error",Qn),s(Rr,"error")===0&&yr(Rr,sn)}br(Rr,"error",Qn);function nn(){Rr.removeListener("finish",$n),lo()}Rr.once("close",nn);function $n(){Ct("onfinish"),Rr.removeListener("close",nn),lo()}Rr.once("finish",$n);function lo(){Ct("unpipe"),Or.unpipe(Rr)}return Rr.emit("pipe",Or),Wr.flowing||(Ct("pipe resume"),Or.resume()),Rr};function or(Rr){return function(){var Or=Rr._readableState;Ct("pipeOnDrain",Or.awaitDrain),Or.awaitDrain&&Or.awaitDrain--,Or.awaitDrain===0&&s(Rr,"data")&&(Or.flowing=!0,Mr(Rr))}}Sr.prototype.unpipe=function(Rr){var Er=this._readableState,Or={hasUnpiped:!1};if(Er.pipesCount===0)return this;if(Er.pipesCount===1)return Rr&&Rr!==Er.pipes?this:(Rr||(Rr=Er.pipes),Er.pipes=null,Er.pipesCount=0,Er.flowing=!1,Rr&&Rr.emit("unpipe",this,Or),this);if(!Rr){var Wr=Er.pipes,qr=Er.pipesCount;Er.pipes=null,Er.pipesCount=0,Er.flowing=!1;for(var Vr=0;Vr<qr;Vr++)Wr[Vr].emit("unpipe",this,{hasUnpiped:!1});return this}var Ur=Tr(Er.pipes,Rr);return Ur===-1?this:(Er.pipes.splice(Ur,1),Er.pipesCount-=1,Er.pipesCount===1&&(Er.pipes=Er.pipes[0]),Rr.emit("unpipe",this,Or),this)},Sr.prototype.on=function(Rr,Er){var Or=et.prototype.on.call(this,Rr,Er),Wr=this._readableState;return Rr==="data"?(Wr.readableListening=this.listenerCount("readable")>0,Wr.flowing!==!1&&this.resume()):Rr==="readable"&&!Wr.endEmitted&&!Wr.readableListening&&(Wr.readableListening=Wr.needReadable=!0,Wr.flowing=!1,Wr.emittedReadable=!1,Ct("on readable",Wr.length,Wr.reading),Wr.length?ar(this):Wr.reading||process$1.nextTick(pr,this)),Or},Sr.prototype.addListener=Sr.prototype.on,Sr.prototype.removeListener=function(Rr,Er){var Or=et.prototype.removeListener.call(this,Rr,Er);return Rr==="readable"&&process$1.nextTick(gr,this),Or},Sr.prototype.removeAllListeners=function(Rr){var Er=et.prototype.removeAllListeners.apply(this,arguments);return(Rr==="readable"||Rr===void 0)&&process$1.nextTick(gr,this),Er};function gr(Rr){var Er=Rr._readableState;Er.readableListening=Rr.listenerCount("readable")>0,Er.resumeScheduled&&!Er.paused?Er.flowing=!0:Rr.listenerCount("data")>0&&Rr.resume()}function pr(Rr){Ct("readable nexttick read 0"),Rr.read(0)}Sr.prototype.resume=function(){var Rr=this._readableState;return Rr.flowing||(Ct("resume"),Rr.flowing=!Rr.readableListening,_r(this,Rr)),Rr.paused=!1,this};function _r(Rr,Er){Er.resumeScheduled||(Er.resumeScheduled=!0,process$1.nextTick(kr,Rr,Er))}function kr(Rr,Er){Ct("resume",Er.reading),Er.reading||Rr.read(0),Er.resumeScheduled=!1,Rr.emit("resume"),Mr(Rr),Er.flowing&&!Er.reading&&Rr.read(0)}Sr.prototype.pause=function(){return Ct("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ct("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Mr(Rr){var Er=Rr._readableState;for(Ct("flow",Er.flowing);Er.flowing&&Rr.read()!==null;);}Sr.prototype.wrap=function(Rr){var Er=this,Or=this._readableState,Wr=!1;Rr.on("end",function(){if(Ct("wrapped end"),Or.decoder&&!Or.ended){var Ur=Or.decoder.end();Ur&&Ur.length&&Er.push(Ur)}Er.push(null)}),Rr.on("data",function(Ur){if(Ct("wrapped data"),Or.decoder&&(Ur=Or.decoder.write(Ur)),!(Or.objectMode&&Ur==null)&&!(!Or.objectMode&&(!Ur||!Ur.length))){var Lr=Er.push(Ur);Lr||(Wr=!0,Rr.pause())}});for(var qr in Rr)this[qr]===void 0&&typeof Rr[qr]=="function"&&(this[qr]=function(Lr){return function(){return Rr[Lr].apply(Rr,arguments)}}(qr));for(var Vr=0;Vr<xr.length;Vr++)Rr.on(xr[Vr],this.emit.bind(this,xr[Vr]));return this._read=function(Ur){Ct("wrapped _read",Ur),Wr&&(Wr=!1,Rr.resume())},this},typeof Symbol=="function"&&(Sr.prototype[Symbol.asyncIterator]=function(){return hr===void 0&&(hr=requireAsync_iterator()),hr(this)}),Object.defineProperty(Sr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Sr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Sr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Er){this._readableState&&(this._readableState.flowing=Er)}}),Sr._fromList=$r,Object.defineProperty(Sr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $r(Rr,Er){if(Er.length===0)return null;var Or;return Er.objectMode?Or=Er.buffer.shift():!Rr||Rr>=Er.length?(Er.decoder?Or=Er.buffer.join(""):Er.buffer.length===1?Or=Er.buffer.first():Or=Er.buffer.concat(Er.length),Er.buffer.clear()):Or=Er.buffer.consume(Rr,Er.decoder),Or}function Pr(Rr){var Er=Rr._readableState;Ct("endReadable",Er.endEmitted),Er.endEmitted||(Er.ended=!0,process$1.nextTick(Fr,Er,Rr))}function Fr(Rr,Er){if(Ct("endReadableNT",Rr.endEmitted,Rr.length),!Rr.endEmitted&&Rr.length===0&&(Rr.endEmitted=!0,Er.readable=!1,Er.emit("end"),Rr.autoDestroy)){var Or=Er._writableState;(!Or||Or.autoDestroy&&Or.finished)&&Er.destroy()}}typeof Symbol=="function"&&(Sr.from=function(Rr,Er){return vr===void 0&&(vr=requireFromBrowser()),vr(Sr,Rr,Er)});function Tr(Rr,Er){for(var Or=0,Wr=Rr.length;Or<Wr;Or++)if(Rr[Or]===Er)return Or;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=$t;var a=requireErrorsBrowser().codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,et=a.ERR_MULTIPLE_CALLBACK,nt=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,at=a.ERR_TRANSFORM_WITH_LENGTH_0,mt=require_stream_duplex$1();requireInherits_browser()($t,mt);function wt(Ft,jt){var Ut=this._transformState;Ut.transforming=!1;var tr=Ut.writecb;if(tr===null)return this.emit("error",new et);Ut.writechunk=null,Ut.writecb=null,jt!=null&&this.push(jt),tr(Ft);var ir=this._readableState;ir.reading=!1,(ir.needReadable||ir.length<ir.highWaterMark)&&this._read(ir.highWaterMark)}function $t(Ft){if(!(this instanceof $t))return new $t(Ft);mt.call(this,Ft),this._transformState={afterTransform:wt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Ft&&(typeof Ft.transform=="function"&&(this._transform=Ft.transform),typeof Ft.flush=="function"&&(this._flush=Ft.flush)),this.on("prefinish",Ct)}function Ct(){var Ft=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(jt,Ut){Dt(Ft,jt,Ut)}):Dt(this,null,null)}$t.prototype.push=function(Ft,jt){return this._transformState.needTransform=!1,mt.prototype.push.call(this,Ft,jt)},$t.prototype._transform=function(Ft,jt,Ut){Ut(new s("_transform()"))},$t.prototype._write=function(Ft,jt,Ut){var tr=this._transformState;if(tr.writecb=Ut,tr.writechunk=Ft,tr.writeencoding=jt,!tr.transforming){var ir=this._readableState;(tr.needTransform||ir.needReadable||ir.length<ir.highWaterMark)&&this._read(ir.highWaterMark)}},$t.prototype._read=function(Ft){var jt=this._transformState;jt.writechunk!==null&&!jt.transforming?(jt.transforming=!0,this._transform(jt.writechunk,jt.writeencoding,jt.afterTransform)):jt.needTransform=!0},$t.prototype._destroy=function(Ft,jt){mt.prototype._destroy.call(this,Ft,function(Ut){jt(Ut)})};function Dt(Ft,jt,Ut){if(jt)return Ft.emit("error",jt);if(Ut!=null&&Ft.push(Ut),Ft._writableState.length)throw new at;if(Ft._transformState.transforming)throw new nt;return Ft.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=s;var a=require_stream_transform$1();requireInherits_browser()(s,a);function s(et){if(!(this instanceof s))return new s(et);a.call(this,et)}return s.prototype._transform=function(et,nt,at){at(null,et)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var a;function s(Ut){var tr=!1;return function(){tr||(tr=!0,Ut.apply(void 0,arguments))}}var et=requireErrorsBrowser().codes,nt=et.ERR_MISSING_ARGS,at=et.ERR_STREAM_DESTROYED;function mt(Ut){if(Ut)throw Ut}function wt(Ut){return Ut.setHeader&&typeof Ut.abort=="function"}function $t(Ut,tr,ir,sr){sr=s(sr);var ur=!1;Ut.on("close",function(){ur=!0}),a===void 0&&(a=requireEndOfStream()),a(Ut,{readable:tr,writable:ir},function(dr){if(dr)return sr(dr);ur=!0,sr()});var fr=!1;return function(dr){if(!ur&&!fr){if(fr=!0,wt(Ut))return Ut.abort();if(typeof Ut.destroy=="function")return Ut.destroy();sr(dr||new at("pipe"))}}}function Ct(Ut){Ut()}function Dt(Ut,tr){return Ut.pipe(tr)}function Ft(Ut){return!Ut.length||typeof Ut[Ut.length-1]!="function"?mt:Ut.pop()}function jt(){for(var Ut=arguments.length,tr=new Array(Ut),ir=0;ir<Ut;ir++)tr[ir]=arguments[ir];var sr=Ft(tr);if(Array.isArray(tr[0])&&(tr=tr[0]),tr.length<2)throw new nt("streams");var ur,fr=tr.map(function(dr,hr){var vr=hr<tr.length-1,yr=hr>0;return $t(dr,vr,yr,function(xr){ur||(ur=xr),xr&&fr.forEach(Ct),!vr&&(fr.forEach(Ct),sr(ur))})});return tr.reduce(Dt)}return pipeline_1=jt,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=et;var a=requireEvents().EventEmitter,s=requireInherits_browser();s(et,a),et.Readable=require_stream_readable$1(),et.Writable=require_stream_writable$1(),et.Duplex=require_stream_duplex$1(),et.Transform=require_stream_transform$1(),et.PassThrough=require_stream_passthrough$1(),et.finished=requireEndOfStream(),et.pipeline=requirePipeline(),et.Stream=et;function et(){a.call(this)}return et.prototype.pipe=function(nt,at){var mt=this;function wt(tr){nt.writable&&nt.write(tr)===!1&&mt.pause&&mt.pause()}mt.on("data",wt);function $t(){mt.readable&&mt.resume&&mt.resume()}nt.on("drain",$t),!nt._isStdio&&(!at||at.end!==!1)&&(mt.on("end",Dt),mt.on("close",Ft));var Ct=!1;function Dt(){Ct||(Ct=!0,nt.end())}function Ft(){Ct||(Ct=!0,typeof nt.destroy=="function"&&nt.destroy())}function jt(tr){if(Ut(),a.listenerCount(this,"error")===0)throw tr}mt.on("error",jt),nt.on("error",jt);function Ut(){mt.removeListener("data",wt),nt.removeListener("drain",$t),mt.removeListener("end",Dt),mt.removeListener("close",Ft),mt.removeListener("error",jt),nt.removeListener("error",jt),mt.removeListener("end",Ut),mt.removeListener("close",Ut),nt.removeListener("close",Ut)}return mt.on("end",Ut),mt.on("close",Ut),nt.on("close",Ut),nt.emit("pipe",mt),nt},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var a=requireSafeBuffer$1().Buffer,s=requireStreamBrowserify().Transform,et=requireInherits_browser();function nt($t){s.call(this),this._block=a.allocUnsafe($t),this._blockSize=$t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}et(nt,s),nt.prototype._transform=function($t,Ct,Dt){var Ft=null;try{this.update($t,Ct)}catch(jt){Ft=jt}Dt(Ft)},nt.prototype._flush=function($t){var Ct=null;try{this.push(this.digest())}catch(Dt){Ct=Dt}$t(Ct)};var at=typeof Uint8Array<"u",mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(a.prototype instanceof Uint8Array||a.TYPED_ARRAY_SUPPORT);function wt($t,Ct){if($t instanceof a)return $t;if(typeof $t=="string")return a.from($t,Ct);if(mt&&ArrayBuffer.isView($t)){if($t.byteLength===0)return a.alloc(0);var Dt=a.from($t.buffer,$t.byteOffset,$t.byteLength);if(Dt.byteLength===$t.byteLength)return Dt}if(at&&$t instanceof Uint8Array||a.isBuffer($t)&&$t.constructor&&typeof $t.constructor.isBuffer=="function"&&$t.constructor.isBuffer($t))return a.from($t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return nt.prototype.update=function($t,Ct){if(this._finalized)throw new Error("Digest already called");$t=wt($t,Ct);for(var Dt=this._block,Ft=0;this._blockOffset+$t.length-Ft>=this._blockSize;){for(var jt=this._blockOffset;jt<this._blockSize;)Dt[jt++]=$t[Ft++];this._update(),this._blockOffset=0}for(;Ft<$t.length;)Dt[this._blockOffset++]=$t[Ft++];for(var Ut=0,tr=$t.length*8;tr>0;++Ut)this._length[Ut]+=tr,tr=this._length[Ut]/4294967296|0,tr>0&&(this._length[Ut]-=4294967296*tr);return this},nt.prototype._update=function(){throw new Error("_update is not implemented")},nt.prototype.digest=function($t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Ct=this._digest();$t!==void 0&&(Ct=Ct.toString($t)),this._block.fill(0),this._blockOffset=0;for(var Dt=0;Dt<4;++Dt)this._length[Dt]=0;return Ct},nt.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=nt,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var a=requireInherits_browser(),s=requireHashBase(),et=requireSafeBuffer$1().Buffer,nt=new Array(16);function at(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}a(at,s),at.prototype._update=function(){for(var Ft=nt,jt=0;jt<16;++jt)Ft[jt]=this._block.readInt32LE(jt*4);var Ut=this._a,tr=this._b,ir=this._c,sr=this._d;Ut=wt(Ut,tr,ir,sr,Ft[0],3614090360,7),sr=wt(sr,Ut,tr,ir,Ft[1],3905402710,12),ir=wt(ir,sr,Ut,tr,Ft[2],606105819,17),tr=wt(tr,ir,sr,Ut,Ft[3],3250441966,22),Ut=wt(Ut,tr,ir,sr,Ft[4],4118548399,7),sr=wt(sr,Ut,tr,ir,Ft[5],1200080426,12),ir=wt(ir,sr,Ut,tr,Ft[6],2821735955,17),tr=wt(tr,ir,sr,Ut,Ft[7],4249261313,22),Ut=wt(Ut,tr,ir,sr,Ft[8],1770035416,7),sr=wt(sr,Ut,tr,ir,Ft[9],2336552879,12),ir=wt(ir,sr,Ut,tr,Ft[10],4294925233,17),tr=wt(tr,ir,sr,Ut,Ft[11],2304563134,22),Ut=wt(Ut,tr,ir,sr,Ft[12],1804603682,7),sr=wt(sr,Ut,tr,ir,Ft[13],4254626195,12),ir=wt(ir,sr,Ut,tr,Ft[14],2792965006,17),tr=wt(tr,ir,sr,Ut,Ft[15],1236535329,22),Ut=$t(Ut,tr,ir,sr,Ft[1],4129170786,5),sr=$t(sr,Ut,tr,ir,Ft[6],3225465664,9),ir=$t(ir,sr,Ut,tr,Ft[11],643717713,14),tr=$t(tr,ir,sr,Ut,Ft[0],3921069994,20),Ut=$t(Ut,tr,ir,sr,Ft[5],3593408605,5),sr=$t(sr,Ut,tr,ir,Ft[10],38016083,9),ir=$t(ir,sr,Ut,tr,Ft[15],3634488961,14),tr=$t(tr,ir,sr,Ut,Ft[4],3889429448,20),Ut=$t(Ut,tr,ir,sr,Ft[9],568446438,5),sr=$t(sr,Ut,tr,ir,Ft[14],3275163606,9),ir=$t(ir,sr,Ut,tr,Ft[3],4107603335,14),tr=$t(tr,ir,sr,Ut,Ft[8],1163531501,20),Ut=$t(Ut,tr,ir,sr,Ft[13],2850285829,5),sr=$t(sr,Ut,tr,ir,Ft[2],4243563512,9),ir=$t(ir,sr,Ut,tr,Ft[7],1735328473,14),tr=$t(tr,ir,sr,Ut,Ft[12],2368359562,20),Ut=Ct(Ut,tr,ir,sr,Ft[5],4294588738,4),sr=Ct(sr,Ut,tr,ir,Ft[8],2272392833,11),ir=Ct(ir,sr,Ut,tr,Ft[11],1839030562,16),tr=Ct(tr,ir,sr,Ut,Ft[14],4259657740,23),Ut=Ct(Ut,tr,ir,sr,Ft[1],2763975236,4),sr=Ct(sr,Ut,tr,ir,Ft[4],1272893353,11),ir=Ct(ir,sr,Ut,tr,Ft[7],4139469664,16),tr=Ct(tr,ir,sr,Ut,Ft[10],3200236656,23),Ut=Ct(Ut,tr,ir,sr,Ft[13],681279174,4),sr=Ct(sr,Ut,tr,ir,Ft[0],3936430074,11),ir=Ct(ir,sr,Ut,tr,Ft[3],3572445317,16),tr=Ct(tr,ir,sr,Ut,Ft[6],76029189,23),Ut=Ct(Ut,tr,ir,sr,Ft[9],3654602809,4),sr=Ct(sr,Ut,tr,ir,Ft[12],3873151461,11),ir=Ct(ir,sr,Ut,tr,Ft[15],530742520,16),tr=Ct(tr,ir,sr,Ut,Ft[2],3299628645,23),Ut=Dt(Ut,tr,ir,sr,Ft[0],4096336452,6),sr=Dt(sr,Ut,tr,ir,Ft[7],1126891415,10),ir=Dt(ir,sr,Ut,tr,Ft[14],2878612391,15),tr=Dt(tr,ir,sr,Ut,Ft[5],4237533241,21),Ut=Dt(Ut,tr,ir,sr,Ft[12],1700485571,6),sr=Dt(sr,Ut,tr,ir,Ft[3],2399980690,10),ir=Dt(ir,sr,Ut,tr,Ft[10],4293915773,15),tr=Dt(tr,ir,sr,Ut,Ft[1],2240044497,21),Ut=Dt(Ut,tr,ir,sr,Ft[8],1873313359,6),sr=Dt(sr,Ut,tr,ir,Ft[15],4264355552,10),ir=Dt(ir,sr,Ut,tr,Ft[6],2734768916,15),tr=Dt(tr,ir,sr,Ut,Ft[13],1309151649,21),Ut=Dt(Ut,tr,ir,sr,Ft[4],4149444226,6),sr=Dt(sr,Ut,tr,ir,Ft[11],3174756917,10),ir=Dt(ir,sr,Ut,tr,Ft[2],718787259,15),tr=Dt(tr,ir,sr,Ut,Ft[9],3951481745,21),this._a=this._a+Ut|0,this._b=this._b+tr|0,this._c=this._c+ir|0,this._d=this._d+sr|0},at.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Ft=et.allocUnsafe(16);return Ft.writeInt32LE(this._a,0),Ft.writeInt32LE(this._b,4),Ft.writeInt32LE(this._c,8),Ft.writeInt32LE(this._d,12),Ft};function mt(Ft,jt){return Ft<<jt|Ft>>>32-jt}function wt(Ft,jt,Ut,tr,ir,sr,ur){return mt(Ft+(jt&Ut|~jt&tr)+ir+sr|0,ur)+jt|0}function $t(Ft,jt,Ut,tr,ir,sr,ur){return mt(Ft+(jt&tr|Ut&~tr)+ir+sr|0,ur)+jt|0}function Ct(Ft,jt,Ut,tr,ir,sr,ur){return mt(Ft+(jt^Ut^tr)+ir+sr|0,ur)+jt|0}function Dt(Ft,jt,Ut,tr,ir,sr,ur){return mt(Ft+(Ut^(jt|~tr))+ir+sr|0,ur)+jt|0}return md5_js=at,md5_js}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var a=require$$0$3.Buffer,s=requireInherits_browser(),et=requireHashBase(),nt=new Array(16),at=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],wt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],$t=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ct=[0,1518500249,1859775393,2400959708,2840853838],Dt=[1352829926,1548603684,1836072691,2053994217,0];function Ft(){et.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}s(Ft,et),Ft.prototype._update=function(){for(var fr=nt,dr=0;dr<16;++dr)fr[dr]=this._block.readInt32LE(dr*4);for(var hr=this._a|0,vr=this._b|0,yr=this._c|0,xr=this._d|0,br=this._e|0,wr=this._a|0,Sr=this._b|0,Cr=this._c|0,cr=this._d|0,Nt=this._e|0,Vt=0;Vt<80;Vt+=1){var er,Yt;Vt<16?(er=Ut(hr,vr,yr,xr,br,fr[at[Vt]],Ct[0],wt[Vt]),Yt=ur(wr,Sr,Cr,cr,Nt,fr[mt[Vt]],Dt[0],$t[Vt])):Vt<32?(er=tr(hr,vr,yr,xr,br,fr[at[Vt]],Ct[1],wt[Vt]),Yt=sr(wr,Sr,Cr,cr,Nt,fr[mt[Vt]],Dt[1],$t[Vt])):Vt<48?(er=ir(hr,vr,yr,xr,br,fr[at[Vt]],Ct[2],wt[Vt]),Yt=ir(wr,Sr,Cr,cr,Nt,fr[mt[Vt]],Dt[2],$t[Vt])):Vt<64?(er=sr(hr,vr,yr,xr,br,fr[at[Vt]],Ct[3],wt[Vt]),Yt=tr(wr,Sr,Cr,cr,Nt,fr[mt[Vt]],Dt[3],$t[Vt])):(er=ur(hr,vr,yr,xr,br,fr[at[Vt]],Ct[4],wt[Vt]),Yt=Ut(wr,Sr,Cr,cr,Nt,fr[mt[Vt]],Dt[4],$t[Vt])),hr=br,br=xr,xr=jt(yr,10),yr=vr,vr=er,wr=Nt,Nt=cr,cr=jt(Cr,10),Cr=Sr,Sr=Yt}var rr=this._b+yr+cr|0;this._b=this._c+xr+Nt|0,this._c=this._d+br+wr|0,this._d=this._e+hr+Sr|0,this._e=this._a+vr+Cr|0,this._a=rr},Ft.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var fr=a.alloc?a.alloc(20):new a(20);return fr.writeInt32LE(this._a,0),fr.writeInt32LE(this._b,4),fr.writeInt32LE(this._c,8),fr.writeInt32LE(this._d,12),fr.writeInt32LE(this._e,16),fr};function jt(fr,dr){return fr<<dr|fr>>>32-dr}function Ut(fr,dr,hr,vr,yr,xr,br,wr){return jt(fr+(dr^hr^vr)+xr+br|0,wr)+yr|0}function tr(fr,dr,hr,vr,yr,xr,br,wr){return jt(fr+(dr&hr|~dr&vr)+xr+br|0,wr)+yr|0}function ir(fr,dr,hr,vr,yr,xr,br,wr){return jt(fr+((dr|~hr)^vr)+xr+br|0,wr)+yr|0}function sr(fr,dr,hr,vr,yr,xr,br,wr){return jt(fr+(dr&vr|hr&~vr)+xr+br|0,wr)+yr|0}function ur(fr,dr,hr,vr,yr,xr,br,wr){return jt(fr+(dr^(hr|~vr))+xr+br|0,wr)+yr|0}return ripemd160$1=Ft,ripemd160$1}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var a=requireSafeBuffer$1().Buffer;function s(et,nt){this._block=a.alloc(et),this._finalSize=nt,this._blockSize=et,this._len=0}return s.prototype.update=function(et,nt){typeof et=="string"&&(nt=nt||"utf8",et=a.from(et,nt));for(var at=this._block,mt=this._blockSize,wt=et.length,$t=this._len,Ct=0;Ct<wt;){for(var Dt=$t%mt,Ft=Math.min(wt-Ct,mt-Dt),jt=0;jt<Ft;jt++)at[Dt+jt]=et[Ct+jt];$t+=Ft,Ct+=Ft,$t%mt===0&&this._update(at)}return this._len+=wt,this},s.prototype.digest=function(et){var nt=this._len%this._blockSize;this._block[nt]=128,this._block.fill(0,nt+1),nt>=this._finalSize&&(this._update(this._block),this._block.fill(0));var at=this._len*8;if(at<=4294967295)this._block.writeUInt32BE(at,this._blockSize-4);else{var mt=(at&4294967295)>>>0,wt=(at-mt)/4294967296;this._block.writeUInt32BE(wt,this._blockSize-8),this._block.writeUInt32BE(mt,this._blockSize-4)}this._update(this._block);var $t=this._hash();return et?$t.toString(et):$t},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=s,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1518500249,1859775393,-1894007588,-899497514],at=new Array(80);function mt(){this.init(),this._w=at,s.call(this,64,56)}a(mt,s),mt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function wt(Dt){return Dt<<5|Dt>>>27}function $t(Dt){return Dt<<30|Dt>>>2}function Ct(Dt,Ft,jt,Ut){return Dt===0?Ft&jt|~Ft&Ut:Dt===2?Ft&jt|Ft&Ut|jt&Ut:Ft^jt^Ut}return mt.prototype._update=function(Dt){for(var Ft=this._w,jt=this._a|0,Ut=this._b|0,tr=this._c|0,ir=this._d|0,sr=this._e|0,ur=0;ur<16;++ur)Ft[ur]=Dt.readInt32BE(ur*4);for(;ur<80;++ur)Ft[ur]=Ft[ur-3]^Ft[ur-8]^Ft[ur-14]^Ft[ur-16];for(var fr=0;fr<80;++fr){var dr=~~(fr/20),hr=wt(jt)+Ct(dr,Ut,tr,ir)+sr+Ft[fr]+nt[dr]|0;sr=ir,ir=tr,tr=$t(Ut),Ut=jt,jt=hr}this._a=jt+this._a|0,this._b=Ut+this._b|0,this._c=tr+this._c|0,this._d=ir+this._d|0,this._e=sr+this._e|0},mt.prototype._hash=function(){var Dt=et.allocUnsafe(20);return Dt.writeInt32BE(this._a|0,0),Dt.writeInt32BE(this._b|0,4),Dt.writeInt32BE(this._c|0,8),Dt.writeInt32BE(this._d|0,12),Dt.writeInt32BE(this._e|0,16),Dt},sha$1=mt,sha$1}var sha1$1,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1518500249,1859775393,-1894007588,-899497514],at=new Array(80);function mt(){this.init(),this._w=at,s.call(this,64,56)}a(mt,s),mt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function wt(Ft){return Ft<<1|Ft>>>31}function $t(Ft){return Ft<<5|Ft>>>27}function Ct(Ft){return Ft<<30|Ft>>>2}function Dt(Ft,jt,Ut,tr){return Ft===0?jt&Ut|~jt&tr:Ft===2?jt&Ut|jt&tr|Ut&tr:jt^Ut^tr}return mt.prototype._update=function(Ft){for(var jt=this._w,Ut=this._a|0,tr=this._b|0,ir=this._c|0,sr=this._d|0,ur=this._e|0,fr=0;fr<16;++fr)jt[fr]=Ft.readInt32BE(fr*4);for(;fr<80;++fr)jt[fr]=wt(jt[fr-3]^jt[fr-8]^jt[fr-14]^jt[fr-16]);for(var dr=0;dr<80;++dr){var hr=~~(dr/20),vr=$t(Ut)+Dt(hr,tr,ir,sr)+ur+jt[dr]+nt[hr]|0;ur=sr,sr=ir,ir=Ct(tr),tr=Ut,Ut=vr}this._a=Ut+this._a|0,this._b=tr+this._b|0,this._c=ir+this._c|0,this._d=sr+this._d|0,this._e=ur+this._e|0},mt.prototype._hash=function(){var Ft=et.allocUnsafe(20);return Ft.writeInt32BE(this._a|0,0),Ft.writeInt32BE(this._b|0,4),Ft.writeInt32BE(this._c|0,8),Ft.writeInt32BE(this._d|0,12),Ft.writeInt32BE(this._e|0,16),Ft},sha1$1=mt,sha1$1}var sha256$2,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$2;hasRequiredSha256$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],at=new Array(64);function mt(){this.init(),this._w=at,s.call(this,64,56)}a(mt,s),mt.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function wt(Ut,tr,ir){return ir^Ut&(tr^ir)}function $t(Ut,tr,ir){return Ut&tr|ir&(Ut|tr)}function Ct(Ut){return(Ut>>>2|Ut<<30)^(Ut>>>13|Ut<<19)^(Ut>>>22|Ut<<10)}function Dt(Ut){return(Ut>>>6|Ut<<26)^(Ut>>>11|Ut<<21)^(Ut>>>25|Ut<<7)}function Ft(Ut){return(Ut>>>7|Ut<<25)^(Ut>>>18|Ut<<14)^Ut>>>3}function jt(Ut){return(Ut>>>17|Ut<<15)^(Ut>>>19|Ut<<13)^Ut>>>10}return mt.prototype._update=function(Ut){for(var tr=this._w,ir=this._a|0,sr=this._b|0,ur=this._c|0,fr=this._d|0,dr=this._e|0,hr=this._f|0,vr=this._g|0,yr=this._h|0,xr=0;xr<16;++xr)tr[xr]=Ut.readInt32BE(xr*4);for(;xr<64;++xr)tr[xr]=jt(tr[xr-2])+tr[xr-7]+Ft(tr[xr-15])+tr[xr-16]|0;for(var br=0;br<64;++br){var wr=yr+Dt(dr)+wt(dr,hr,vr)+nt[br]+tr[br]|0,Sr=Ct(ir)+$t(ir,sr,ur)|0;yr=vr,vr=hr,hr=dr,dr=fr+wr|0,fr=ur,ur=sr,sr=ir,ir=wr+Sr|0}this._a=ir+this._a|0,this._b=sr+this._b|0,this._c=ur+this._c|0,this._d=fr+this._d|0,this._e=dr+this._e|0,this._f=hr+this._f|0,this._g=vr+this._g|0,this._h=yr+this._h|0},mt.prototype._hash=function(){var Ut=et.allocUnsafe(32);return Ut.writeInt32BE(this._a,0),Ut.writeInt32BE(this._b,4),Ut.writeInt32BE(this._c,8),Ut.writeInt32BE(this._d,12),Ut.writeInt32BE(this._e,16),Ut.writeInt32BE(this._f,20),Ut.writeInt32BE(this._g,24),Ut.writeInt32BE(this._h,28),Ut},sha256$2=mt,sha256$2}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var a=requireInherits_browser(),s=requireSha256$1(),et=requireHash$1(),nt=requireSafeBuffer$1().Buffer,at=new Array(64);function mt(){this.init(),this._w=at,et.call(this,64,56)}return a(mt,s),mt.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},mt.prototype._hash=function(){var wt=nt.allocUnsafe(28);return wt.writeInt32BE(this._a,0),wt.writeInt32BE(this._b,4),wt.writeInt32BE(this._c,8),wt.writeInt32BE(this._d,12),wt.writeInt32BE(this._e,16),wt.writeInt32BE(this._f,20),wt.writeInt32BE(this._g,24),wt},sha224$2=mt,sha224$2}var sha512$2,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$2;hasRequiredSha512$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],at=new Array(160);function mt(){this.init(),this._w=at,s.call(this,128,112)}a(mt,s),mt.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function wt(sr,ur,fr){return fr^sr&(ur^fr)}function $t(sr,ur,fr){return sr&ur|fr&(sr|ur)}function Ct(sr,ur){return(sr>>>28|ur<<4)^(ur>>>2|sr<<30)^(ur>>>7|sr<<25)}function Dt(sr,ur){return(sr>>>14|ur<<18)^(sr>>>18|ur<<14)^(ur>>>9|sr<<23)}function Ft(sr,ur){return(sr>>>1|ur<<31)^(sr>>>8|ur<<24)^sr>>>7}function jt(sr,ur){return(sr>>>1|ur<<31)^(sr>>>8|ur<<24)^(sr>>>7|ur<<25)}function Ut(sr,ur){return(sr>>>19|ur<<13)^(ur>>>29|sr<<3)^sr>>>6}function tr(sr,ur){return(sr>>>19|ur<<13)^(ur>>>29|sr<<3)^(sr>>>6|ur<<26)}function ir(sr,ur){return sr>>>0<ur>>>0?1:0}return mt.prototype._update=function(sr){for(var ur=this._w,fr=this._ah|0,dr=this._bh|0,hr=this._ch|0,vr=this._dh|0,yr=this._eh|0,xr=this._fh|0,br=this._gh|0,wr=this._hh|0,Sr=this._al|0,Cr=this._bl|0,cr=this._cl|0,Nt=this._dl|0,Vt=this._el|0,er=this._fl|0,Yt=this._gl|0,rr=this._hl|0,ar=0;ar<32;ar+=2)ur[ar]=sr.readInt32BE(ar*4),ur[ar+1]=sr.readInt32BE(ar*4+4);for(;ar<160;ar+=2){var lr=ur[ar-30],nr=ur[ar-15*2+1],Lt=Ft(lr,nr),or=jt(nr,lr);lr=ur[ar-2*2],nr=ur[ar-2*2+1];var gr=Ut(lr,nr),pr=tr(nr,lr),_r=ur[ar-7*2],kr=ur[ar-7*2+1],Mr=ur[ar-16*2],$r=ur[ar-16*2+1],Pr=or+kr|0,Fr=Lt+_r+ir(Pr,or)|0;Pr=Pr+pr|0,Fr=Fr+gr+ir(Pr,pr)|0,Pr=Pr+$r|0,Fr=Fr+Mr+ir(Pr,$r)|0,ur[ar]=Fr,ur[ar+1]=Pr}for(var Tr=0;Tr<160;Tr+=2){Fr=ur[Tr],Pr=ur[Tr+1];var Rr=$t(fr,dr,hr),Er=$t(Sr,Cr,cr),Or=Ct(fr,Sr),Wr=Ct(Sr,fr),qr=Dt(yr,Vt),Vr=Dt(Vt,yr),Ur=nt[Tr],Lr=nt[Tr+1],Br=wt(yr,xr,br),Xr=wt(Vt,er,Yt),zr=rr+Vr|0,Qr=wr+qr+ir(zr,rr)|0;zr=zr+Xr|0,Qr=Qr+Br+ir(zr,Xr)|0,zr=zr+Lr|0,Qr=Qr+Ur+ir(zr,Lr)|0,zr=zr+Pr|0,Qr=Qr+Fr+ir(zr,Pr)|0;var Qn=Wr+Er|0,nn=Or+Rr+ir(Qn,Wr)|0;wr=br,rr=Yt,br=xr,Yt=er,xr=yr,er=Vt,Vt=Nt+zr|0,yr=vr+Qr+ir(Vt,Nt)|0,vr=hr,Nt=cr,hr=dr,cr=Cr,dr=fr,Cr=Sr,Sr=zr+Qn|0,fr=Qr+nn+ir(Sr,zr)|0}this._al=this._al+Sr|0,this._bl=this._bl+Cr|0,this._cl=this._cl+cr|0,this._dl=this._dl+Nt|0,this._el=this._el+Vt|0,this._fl=this._fl+er|0,this._gl=this._gl+Yt|0,this._hl=this._hl+rr|0,this._ah=this._ah+fr+ir(this._al,Sr)|0,this._bh=this._bh+dr+ir(this._bl,Cr)|0,this._ch=this._ch+hr+ir(this._cl,cr)|0,this._dh=this._dh+vr+ir(this._dl,Nt)|0,this._eh=this._eh+yr+ir(this._el,Vt)|0,this._fh=this._fh+xr+ir(this._fl,er)|0,this._gh=this._gh+br+ir(this._gl,Yt)|0,this._hh=this._hh+wr+ir(this._hl,rr)|0},mt.prototype._hash=function(){var sr=et.allocUnsafe(64);function ur(fr,dr,hr){sr.writeInt32BE(fr,hr),sr.writeInt32BE(dr,hr+4)}return ur(this._ah,this._al,0),ur(this._bh,this._bl,8),ur(this._ch,this._cl,16),ur(this._dh,this._dl,24),ur(this._eh,this._el,32),ur(this._fh,this._fl,40),ur(this._gh,this._gl,48),ur(this._hh,this._hl,56),sr},sha512$2=mt,sha512$2}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var a=requireInherits_browser(),s=requireSha512$1(),et=requireHash$1(),nt=requireSafeBuffer$1().Buffer,at=new Array(160);function mt(){this.init(),this._w=at,et.call(this,128,112)}return a(mt,s),mt.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},mt.prototype._hash=function(){var wt=nt.allocUnsafe(48);function $t(Ct,Dt,Ft){wt.writeInt32BE(Ct,Ft),wt.writeInt32BE(Dt,Ft+4)}return $t(this._ah,this._al,0),$t(this._bh,this._bl,8),$t(this._ch,this._cl,16),$t(this._dh,this._dl,24),$t(this._eh,this._el,32),$t(this._fh,this._fl,40),wt},sha384$2=mt,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var a=sha_js.exports=function(et){et=et.toLowerCase();var nt=a[et];if(!nt)throw new Error(et+" is not supported (we accept pull requests)");return new nt};return a.sha=requireSha$1(),a.sha1=requireSha1$1(),a.sha224=requireSha224$1(),a.sha256=requireSha256$1(),a.sha384=requireSha384$1(),a.sha512=requireSha512$1(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var a=requireSafeBuffer$1().Buffer,s=requireStreamBrowserify().Transform,et=requireString_decoder().StringDecoder,nt=requireInherits_browser();function at(Ct){s.call(this),this.hashMode=typeof Ct=="string",this.hashMode?this[Ct]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}nt(at,s);var mt=typeof Uint8Array<"u",wt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(a.prototype instanceof Uint8Array||a.TYPED_ARRAY_SUPPORT);function $t(Ct,Dt){if(Ct instanceof a)return Ct;if(typeof Ct=="string")return a.from(Ct,Dt);if(wt&&ArrayBuffer.isView(Ct)){if(Ct.byteLength===0)return a.alloc(0);var Ft=a.from(Ct.buffer,Ct.byteOffset,Ct.byteLength);if(Ft.byteLength===Ct.byteLength)return Ft}if(mt&&Ct instanceof Uint8Array||a.isBuffer(Ct)&&Ct.constructor&&typeof Ct.constructor.isBuffer=="function"&&Ct.constructor.isBuffer(Ct))return a.from(Ct);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return at.prototype.update=function(Ct,Dt,Ft){var jt=$t(Ct,Dt),Ut=this._update(jt);return this.hashMode?this:(Ft&&(Ut=this._toString(Ut,Ft)),Ut)},at.prototype.setAutoPadding=function(){},at.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},at.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},at.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},at.prototype._transform=function(Ct,Dt,Ft){var jt;try{this.hashMode?this._update(Ct):this.push(this._update(Ct))}catch(Ut){jt=Ut}finally{Ft(jt)}},at.prototype._flush=function(Ct){var Dt;try{this.push(this.__final())}catch(Ft){Dt=Ft}Ct(Dt)},at.prototype._finalOrDigest=function(Ct){var Dt=this.__final()||a.alloc(0);return Ct&&(Dt=this._toString(Dt,Ct,!0)),Dt},at.prototype._toString=function(Ct,Dt,Ft){if(this._decoder||(this._decoder=new et(Dt),this._encoding=Dt),this._encoding!==Dt)throw new Error("can’t switch encodings");var jt=this._decoder.write(Ct);return Ft&&(jt+=this._decoder.end()),jt},cipherBase=at,cipherBase}var browser$b,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$b;hasRequiredBrowser$9=1;var a=requireInherits_browser(),s=requireMd5_js(),et=requireRipemd160$1(),nt=requireSha_js(),at=requireCipherBase();function mt(wt){at.call(this,"digest"),this._hash=wt}return a(mt,at),mt.prototype._update=function(wt){this._hash.update(wt)},mt.prototype._final=function(){return this._hash.digest()},browser$b=function($t){return $t=$t.toLowerCase(),$t==="md5"?new s:$t==="rmd160"||$t==="ripemd160"?new et:new mt(nt($t))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var a=requireInherits_browser(),s=requireSafeBuffer$1().Buffer,et=requireCipherBase(),nt=s.alloc(128),at=64;function mt(wt,$t){et.call(this,"digest"),typeof $t=="string"&&($t=s.from($t)),this._alg=wt,this._key=$t,$t.length>at?$t=wt($t):$t.length<at&&($t=s.concat([$t,nt],at));for(var Ct=this._ipad=s.allocUnsafe(at),Dt=this._opad=s.allocUnsafe(at),Ft=0;Ft<at;Ft++)Ct[Ft]=$t[Ft]^54,Dt[Ft]=$t[Ft]^92;this._hash=[Ct]}return a(mt,et),mt.prototype._update=function(wt){this._hash.push(wt)},mt.prototype._final=function(){var wt=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,wt]))},legacy=mt,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var a=requireMd5_js();return md5$1=function(s){return new a().update(s).digest()},md5$1}var browser$a,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a;hasRequiredBrowser$8=1;var a=requireInherits_browser(),s=requireLegacy(),et=requireCipherBase(),nt=requireSafeBuffer$1().Buffer,at=requireMd5$1(),mt=requireRipemd160$1(),wt=requireSha_js(),$t=nt.alloc(128);function Ct(Dt,Ft){et.call(this,"digest"),typeof Ft=="string"&&(Ft=nt.from(Ft));var jt=Dt==="sha512"||Dt==="sha384"?128:64;if(this._alg=Dt,this._key=Ft,Ft.length>jt){var Ut=Dt==="rmd160"?new mt:wt(Dt);Ft=Ut.update(Ft).digest()}else Ft.length<jt&&(Ft=nt.concat([Ft,$t],jt));for(var tr=this._ipad=nt.allocUnsafe(jt),ir=this._opad=nt.allocUnsafe(jt),sr=0;sr<jt;sr++)tr[sr]=Ft[sr]^54,ir[sr]=Ft[sr]^92;this._hash=Dt==="rmd160"?new mt:wt(Dt),this._hash.update(tr)}return a(Ct,et),Ct.prototype._update=function(Dt){this._hash.update(Dt)},Ct.prototype._final=function(){var Dt=this._hash.digest(),Ft=this._alg==="rmd160"?new mt:wt(this._alg);return Ft.update(this._opad).update(Dt).digest()},browser$a=function(Ft,jt){return Ft=Ft.toLowerCase(),Ft==="rmd160"||Ft==="ripemd160"?new Ct("rmd160",jt):Ft==="md5"?new s(at,jt):new Ct(Ft,jt)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224:sha224$1,sha384:sha384$1,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var a=Math.pow(2,30)-1;return precondition=function(s,et){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof et!="number")throw new TypeError("Key length not a number");if(et<0||et>a||et!==et)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var a;if(commonjsGlobal$1.process&&commonjsGlobal$1.process.browser)a="utf-8";else if(commonjsGlobal$1.process&&commonjsGlobal$1.process.version){var s=parseInt(process$1.version.split(".")[0].slice(1),10);a=s>=6?"utf-8":"binary"}else a="utf-8";return defaultEncoding_1=a,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var a=requireSafeBuffer$1().Buffer;return toBuffer=function(s,et,nt){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,et);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(nt+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var a=requireMd5$1(),s=requireRipemd160$1(),et=requireSha_js(),nt=requireSafeBuffer$1().Buffer,at=requirePrecondition(),mt=requireDefaultEncoding(),wt=requireToBuffer(),$t=nt.alloc(128),Ct={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Dt(Ut,tr,ir){var sr=Ft(Ut),ur=Ut==="sha512"||Ut==="sha384"?128:64;tr.length>ur?tr=sr(tr):tr.length<ur&&(tr=nt.concat([tr,$t],ur));for(var fr=nt.allocUnsafe(ur+Ct[Ut]),dr=nt.allocUnsafe(ur+Ct[Ut]),hr=0;hr<ur;hr++)fr[hr]=tr[hr]^54,dr[hr]=tr[hr]^92;var vr=nt.allocUnsafe(ur+ir+4);fr.copy(vr,0,0,ur),this.ipad1=vr,this.ipad2=fr,this.opad=dr,this.alg=Ut,this.blocksize=ur,this.hash=sr,this.size=Ct[Ut]}Dt.prototype.run=function(Ut,tr){Ut.copy(tr,this.blocksize);var ir=this.hash(tr);return ir.copy(this.opad,this.blocksize),this.hash(this.opad)};function Ft(Ut){function tr(sr){return et(Ut).update(sr).digest()}function ir(sr){return new s().update(sr).digest()}return Ut==="rmd160"||Ut==="ripemd160"?ir:Ut==="md5"?a:tr}function jt(Ut,tr,ir,sr,ur){at(ir,sr),Ut=wt(Ut,mt,"Password"),tr=wt(tr,mt,"Salt"),ur=ur||"sha1";var fr=new Dt(ur,Ut,tr.length),dr=nt.allocUnsafe(sr),hr=nt.allocUnsafe(tr.length+4);tr.copy(hr,0,0,tr.length);for(var vr=0,yr=Ct[ur],xr=Math.ceil(sr/yr),br=1;br<=xr;br++){hr.writeUInt32BE(br,tr.length);for(var wr=fr.run(hr,fr.ipad1),Sr=wr,Cr=1;Cr<ir;Cr++){Sr=fr.run(Sr,fr.ipad2);for(var cr=0;cr<yr;cr++)wr[cr]^=Sr[cr]}wr.copy(dr,vr),vr+=yr}return dr}return syncBrowser=jt,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var a=requireSafeBuffer$1().Buffer,s=requirePrecondition(),et=requireDefaultEncoding(),nt=requireSyncBrowser(),at=requireToBuffer(),mt,wt=commonjsGlobal$1.crypto&&commonjsGlobal$1.crypto.subtle,$t={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Ct=[];function Dt(ir){if(commonjsGlobal$1.process&&!commonjsGlobal$1.process.browser||!wt||!wt.importKey||!wt.deriveBits)return Promise.resolve(!1);if(Ct[ir]!==void 0)return Ct[ir];mt=mt||a.alloc(8);var sr=Ut(mt,mt,10,128,ir).then(function(){return!0}).catch(function(){return!1});return Ct[ir]=sr,sr}var Ft;function jt(){return Ft||(commonjsGlobal$1.process&&commonjsGlobal$1.process.nextTick?Ft=commonjsGlobal$1.process.nextTick:commonjsGlobal$1.queueMicrotask?Ft=commonjsGlobal$1.queueMicrotask:commonjsGlobal$1.setImmediate?Ft=commonjsGlobal$1.setImmediate:Ft=commonjsGlobal$1.setTimeout,Ft)}function Ut(ir,sr,ur,fr,dr){return wt.importKey("raw",ir,{name:"PBKDF2"},!1,["deriveBits"]).then(function(hr){return wt.deriveBits({name:"PBKDF2",salt:sr,iterations:ur,hash:{name:dr}},hr,fr<<3)}).then(function(hr){return a.from(hr)})}function tr(ir,sr){ir.then(function(ur){jt()(function(){sr(null,ur)})},function(ur){jt()(function(){sr(ur)})})}return async=function(ir,sr,ur,fr,dr,hr){typeof dr=="function"&&(hr=dr,dr=void 0),dr=dr||"sha1";var vr=$t[dr.toLowerCase()];if(!vr||typeof commonjsGlobal$1.Promise!="function"){jt()(function(){var yr;try{yr=nt(ir,sr,ur,fr,dr)}catch(xr){return hr(xr)}hr(null,yr)});return}if(s(ur,fr),ir=at(ir,et,"Password"),sr=at(sr,et,"Salt"),typeof hr!="function")throw new Error("No callback provided to pbkdf2");tr(Dt(vr).then(function(yr){return yr?Ut(ir,sr,ur,fr,vr):nt(ir,sr,ur,fr,dr)}),hr)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(at,mt){var wt=at[0+mt]<<24|at[1+mt]<<16|at[2+mt]<<8|at[3+mt];return wt>>>0},utils$3.writeUInt32BE=function(at,mt,wt){at[0+wt]=mt>>>24,at[1+wt]=mt>>>16&255,at[2+wt]=mt>>>8&255,at[3+wt]=mt&255},utils$3.ip=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=6;Ft>=0;Ft-=2){for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=mt>>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=at>>>jt+Ft&1}for(var Ft=6;Ft>=0;Ft-=2){for(var jt=1;jt<=25;jt+=8)Dt<<=1,Dt|=mt>>>jt+Ft&1;for(var jt=1;jt<=25;jt+=8)Dt<<=1,Dt|=at>>>jt+Ft&1}wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.rip=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=0;Ft<4;Ft++)for(var jt=24;jt>=0;jt-=8)Ct<<=1,Ct|=mt>>>jt+Ft&1,Ct<<=1,Ct|=at>>>jt+Ft&1;for(var Ft=4;Ft<8;Ft++)for(var jt=24;jt>=0;jt-=8)Dt<<=1,Dt|=mt>>>jt+Ft&1,Dt<<=1,Dt|=at>>>jt+Ft&1;wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.pc1=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=7;Ft>=5;Ft--){for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=mt>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=at>>jt+Ft&1}for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=mt>>jt+Ft&1;for(var Ft=1;Ft<=3;Ft++){for(var jt=0;jt<=24;jt+=8)Dt<<=1,Dt|=mt>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)Dt<<=1,Dt|=at>>jt+Ft&1}for(var jt=0;jt<=24;jt+=8)Dt<<=1,Dt|=at>>jt+Ft&1;wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.r28shl=function(at,mt){return at<<mt&268435455|at>>>28-mt};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=a.length>>>1,jt=0;jt<Ft;jt++)Ct<<=1,Ct|=at>>>a[jt]&1;for(var jt=Ft;jt<a.length;jt++)Dt<<=1,Dt|=mt>>>a[jt]&1;wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.expand=function(at,mt,wt){var $t=0,Ct=0;$t=(at&1)<<5|at>>>27;for(var Dt=23;Dt>=15;Dt-=4)$t<<=6,$t|=at>>>Dt&63;for(var Dt=11;Dt>=3;Dt-=4)Ct|=at>>>Dt&63,Ct<<=6;Ct|=(at&31)<<1|at>>>31,mt[wt+0]=$t>>>0,mt[wt+1]=Ct>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(at,mt){for(var wt=0,$t=0;$t<4;$t++){var Ct=at>>>18-$t*6&63,Dt=s[$t*64+Ct];wt<<=4,wt|=Dt}for(var $t=0;$t<4;$t++){var Ct=mt>>>18-$t*6&63,Dt=s[4*64+$t*64+Ct];wt<<=4,wt|=Dt}return wt>>>0};var et=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(at){for(var mt=0,wt=0;wt<et.length;wt++)mt<<=1,mt|=at>>>et[wt]&1;return mt>>>0},utils$3.padSplit=function(at,mt,wt){for(var $t=at.toString(2);$t.length<mt;)$t="0"+$t;for(var Ct=[],Dt=0;Dt<mt;Dt+=wt)Ct.push($t.slice(Dt,Dt+wt));return Ct.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=a;function a(s,et){if(!s)throw new Error(et||"Assertion failed")}return a.equal=function(et,nt,at){if(et!=nt)throw new Error(at||"Assertion failed: "+et+" != "+nt)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var a=requireMinimalisticAssert();function s(et){this.options=et,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=et.padding!==!1}return cipher=s,s.prototype._init=function(){},s.prototype.update=function(nt){return nt.length===0?[]:this.type==="decrypt"?this._updateDecrypt(nt):this._updateEncrypt(nt)},s.prototype._buffer=function(nt,at){for(var mt=Math.min(this.buffer.length-this.bufferOff,nt.length-at),wt=0;wt<mt;wt++)this.buffer[this.bufferOff+wt]=nt[at+wt];return this.bufferOff+=mt,mt},s.prototype._flushBuffer=function(nt,at){return this._update(this.buffer,0,nt,at),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(nt){var at=0,mt=0,wt=(this.bufferOff+nt.length)/this.blockSize|0,$t=new Array(wt*this.blockSize);this.bufferOff!==0&&(at+=this._buffer(nt,at),this.bufferOff===this.buffer.length&&(mt+=this._flushBuffer($t,mt)));for(var Ct=nt.length-(nt.length-at)%this.blockSize;at<Ct;at+=this.blockSize)this._update(nt,at,$t,mt),mt+=this.blockSize;for(;at<nt.length;at++,this.bufferOff++)this.buffer[this.bufferOff]=nt[at];return $t},s.prototype._updateDecrypt=function(nt){for(var at=0,mt=0,wt=Math.ceil((this.bufferOff+nt.length)/this.blockSize)-1,$t=new Array(wt*this.blockSize);wt>0;wt--)at+=this._buffer(nt,at),mt+=this._flushBuffer($t,mt);return at+=this._buffer(nt,at),$t},s.prototype.final=function(nt){var at;nt&&(at=this.update(nt));var mt;return this.type==="encrypt"?mt=this._finalEncrypt():mt=this._finalDecrypt(),at?at.concat(mt):mt},s.prototype._pad=function(nt,at){if(at===0)return!1;for(;at<nt.length;)nt[at++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var nt=new Array(this.blockSize);return this._update(this.buffer,0,nt,0),nt},s.prototype._unpad=function(nt){return nt},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var nt=new Array(this.blockSize);return this._flushBuffer(nt,0),this._unpad(nt)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var a=requireMinimalisticAssert(),s=requireInherits_browser(),et=requireUtils$3(),nt=requireCipher();function at(){this.tmp=new Array(2),this.keys=null}function mt($t){nt.call(this,$t);var Ct=new at;this._desState=Ct,this.deriveKeys(Ct,$t.key)}s(mt,nt),des=mt,mt.create=function(Ct){return new mt(Ct)};var wt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return mt.prototype.deriveKeys=function(Ct,Dt){Ct.keys=new Array(16*2),a.equal(Dt.length,this.blockSize,"Invalid key length");var Ft=et.readUInt32BE(Dt,0),jt=et.readUInt32BE(Dt,4);et.pc1(Ft,jt,Ct.tmp,0),Ft=Ct.tmp[0],jt=Ct.tmp[1];for(var Ut=0;Ut<Ct.keys.length;Ut+=2){var tr=wt[Ut>>>1];Ft=et.r28shl(Ft,tr),jt=et.r28shl(jt,tr),et.pc2(Ft,jt,Ct.keys,Ut)}},mt.prototype._update=function(Ct,Dt,Ft,jt){var Ut=this._desState,tr=et.readUInt32BE(Ct,Dt),ir=et.readUInt32BE(Ct,Dt+4);et.ip(tr,ir,Ut.tmp,0),tr=Ut.tmp[0],ir=Ut.tmp[1],this.type==="encrypt"?this._encrypt(Ut,tr,ir,Ut.tmp,0):this._decrypt(Ut,tr,ir,Ut.tmp,0),tr=Ut.tmp[0],ir=Ut.tmp[1],et.writeUInt32BE(Ft,tr,jt),et.writeUInt32BE(Ft,ir,jt+4)},mt.prototype._pad=function(Ct,Dt){if(this.padding===!1)return!1;for(var Ft=Ct.length-Dt,jt=Dt;jt<Ct.length;jt++)Ct[jt]=Ft;return!0},mt.prototype._unpad=function(Ct){if(this.padding===!1)return Ct;for(var Dt=Ct[Ct.length-1],Ft=Ct.length-Dt;Ft<Ct.length;Ft++)a.equal(Ct[Ft],Dt);return Ct.slice(0,Ct.length-Dt)},mt.prototype._encrypt=function(Ct,Dt,Ft,jt,Ut){for(var tr=Dt,ir=Ft,sr=0;sr<Ct.keys.length;sr+=2){var ur=Ct.keys[sr],fr=Ct.keys[sr+1];et.expand(ir,Ct.tmp,0),ur^=Ct.tmp[0],fr^=Ct.tmp[1];var dr=et.substitute(ur,fr),hr=et.permute(dr),vr=ir;ir=(tr^hr)>>>0,tr=vr}et.rip(ir,tr,jt,Ut)},mt.prototype._decrypt=function(Ct,Dt,Ft,jt,Ut){for(var tr=Ft,ir=Dt,sr=Ct.keys.length-2;sr>=0;sr-=2){var ur=Ct.keys[sr],fr=Ct.keys[sr+1];et.expand(tr,Ct.tmp,0),ur^=Ct.tmp[0],fr^=Ct.tmp[1];var dr=et.substitute(ur,fr),hr=et.permute(dr),vr=tr;tr=(ir^hr)>>>0,ir=vr}et.rip(tr,ir,jt,Ut)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var a=requireMinimalisticAssert(),s=requireInherits_browser(),et={};function nt(mt){a.equal(mt.length,8,"Invalid IV length"),this.iv=new Array(8);for(var wt=0;wt<this.iv.length;wt++)this.iv[wt]=mt[wt]}function at(mt){function wt(Ft){mt.call(this,Ft),this._cbcInit()}s(wt,mt);for(var $t=Object.keys(et),Ct=0;Ct<$t.length;Ct++){var Dt=$t[Ct];wt.prototype[Dt]=et[Dt]}return wt.create=function(jt){return new wt(jt)},wt}return cbc$1.instantiate=at,et._cbcInit=function(){var wt=new nt(this.options.iv);this._cbcState=wt},et._update=function(wt,$t,Ct,Dt){var Ft=this._cbcState,jt=this.constructor.super_.prototype,Ut=Ft.iv;if(this.type==="encrypt"){for(var tr=0;tr<this.blockSize;tr++)Ut[tr]^=wt[$t+tr];jt._update.call(this,Ut,0,Ct,Dt);for(var tr=0;tr<this.blockSize;tr++)Ut[tr]=Ct[Dt+tr]}else{jt._update.call(this,wt,$t,Ct,Dt);for(var tr=0;tr<this.blockSize;tr++)Ct[Dt+tr]^=Ut[tr];for(var tr=0;tr<this.blockSize;tr++)Ut[tr]=wt[$t+tr]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var a=requireMinimalisticAssert(),s=requireInherits_browser(),et=requireCipher(),nt=requireDes$1();function at(wt,$t){a.equal($t.length,24,"Invalid key length");var Ct=$t.slice(0,8),Dt=$t.slice(8,16),Ft=$t.slice(16,24);wt==="encrypt"?this.ciphers=[nt.create({type:"encrypt",key:Ct}),nt.create({type:"decrypt",key:Dt}),nt.create({type:"encrypt",key:Ft})]:this.ciphers=[nt.create({type:"decrypt",key:Ft}),nt.create({type:"encrypt",key:Dt}),nt.create({type:"decrypt",key:Ct})]}function mt(wt){et.call(this,wt);var $t=new at(this.type,this.options.key);this._edeState=$t}return s(mt,et),ede=mt,mt.create=function($t){return new mt($t)},mt.prototype._update=function($t,Ct,Dt,Ft){var jt=this._edeState;jt.ciphers[0]._update($t,Ct,Dt,Ft),jt.ciphers[1]._update(Dt,Ft,Dt,Ft),jt.ciphers[2]._update(Dt,Ft,Dt,Ft)},mt.prototype._pad=nt.prototype._pad,mt.prototype._unpad=nt.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var a=requireCipherBase(),s=requireDes(),et=requireInherits_browser(),nt=requireSafeBuffer$1().Buffer,at={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};at.des=at["des-cbc"],at.des3=at["des-ede3-cbc"],browserifyDes=mt,et(mt,a);function mt(wt){a.call(this);var $t=wt.mode.toLowerCase(),Ct=at[$t],Dt;wt.decrypt?Dt="decrypt":Dt="encrypt";var Ft=wt.key;nt.isBuffer(Ft)||(Ft=nt.from(Ft)),($t==="des-ede"||$t==="des-ede-cbc")&&(Ft=nt.concat([Ft,Ft.slice(0,8)]));var jt=wt.iv;nt.isBuffer(jt)||(jt=nt.from(jt)),this._des=Ct.create({key:Ft,iv:jt,type:Dt})}return mt.prototype._update=function(wt){return nt.from(this._des.update(wt))},mt.prototype._final=function(){return nt.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(a,s){return a._cipher.encryptBlock(s)},ecb.decrypt=function(a,s){return a._cipher.decryptBlock(s)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(s,et){for(var nt=Math.min(s.length,et.length),at=new Buffer$1(nt),mt=0;mt<nt;++mt)at[mt]=s[mt]^et[mt];return at}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var a=requireBufferXor();return cbc.encrypt=function(s,et){var nt=a(et,s._prev);return s._prev=s._cipher.encryptBlock(nt),s._prev},cbc.decrypt=function(s,et){var nt=s._prev;s._prev=et;var at=s._cipher.decryptBlock(et);return a(at,nt)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var a=requireSafeBuffer$1().Buffer,s=requireBufferXor();function et(nt,at,mt){var wt=at.length,$t=s(at,nt._cache);return nt._cache=nt._cache.slice(wt),nt._prev=a.concat([nt._prev,mt?at:$t]),$t}return cfb.encrypt=function(nt,at,mt){for(var wt=a.allocUnsafe(0),$t;at.length;)if(nt._cache.length===0&&(nt._cache=nt._cipher.encryptBlock(nt._prev),nt._prev=a.allocUnsafe(0)),nt._cache.length<=at.length)$t=nt._cache.length,wt=a.concat([wt,et(nt,at.slice(0,$t),mt)]),at=at.slice($t);else{wt=a.concat([wt,et(nt,at,mt)]);break}return wt},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var a=requireSafeBuffer$1().Buffer;function s(et,nt,at){var mt=et._cipher.encryptBlock(et._prev),wt=mt[0]^nt;return et._prev=a.concat([et._prev.slice(1),a.from([at?nt:wt])]),wt}return cfb8.encrypt=function(et,nt,at){for(var mt=nt.length,wt=a.allocUnsafe(mt),$t=-1;++$t<mt;)wt[$t]=s(et,nt[$t],at);return wt},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var a=requireSafeBuffer$1().Buffer;function s(nt,at,mt){for(var wt,$t=-1,Ct=8,Dt=0,Ft,jt;++$t<Ct;)wt=nt._cipher.encryptBlock(nt._prev),Ft=at&1<<7-$t?128:0,jt=wt[0]^Ft,Dt+=(jt&128)>>$t%8,nt._prev=et(nt._prev,mt?Ft:jt);return Dt}function et(nt,at){var mt=nt.length,wt=-1,$t=a.allocUnsafe(nt.length);for(nt=a.concat([nt,a.from([at])]);++wt<mt;)$t[wt]=nt[wt]<<1|nt[wt+1]>>7;return $t}return cfb1.encrypt=function(nt,at,mt){for(var wt=at.length,$t=a.allocUnsafe(wt),Ct=-1;++Ct<wt;)$t[Ct]=s(nt,at[Ct],mt);return $t},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var a=requireBufferXor();function s(et){return et._prev=et._cipher.encryptBlock(et._prev),et._prev}return ofb.encrypt=function(et,nt){for(;et._cache.length<nt.length;)et._cache=Buffer$1.concat([et._cache,s(et)]);var at=et._cache.slice(0,nt.length);return et._cache=et._cache.slice(nt.length),a(nt,at)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function a(s){for(var et=s.length,nt;et--;)if(nt=s.readUInt8(et),nt===255)s.writeUInt8(0,et);else{nt++,s.writeUInt8(nt,et);break}}return incr32_1=a,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var a=requireBufferXor(),s=requireSafeBuffer$1().Buffer,et=requireIncr32();function nt(mt){var wt=mt._cipher.encryptBlockRaw(mt._prev);return et(mt._prev),wt}var at=16;return ctr.encrypt=function(mt,wt){var $t=Math.ceil(wt.length/at),Ct=mt._cache.length;mt._cache=s.concat([mt._cache,s.allocUnsafe($t*at)]);for(var Dt=0;Dt<$t;Dt++){var Ft=nt(mt),jt=Ct+Dt*at;mt._cache.writeUInt32BE(Ft[0],jt+0),mt._cache.writeUInt32BE(Ft[1],jt+4),mt._cache.writeUInt32BE(Ft[2],jt+8),mt._cache.writeUInt32BE(Ft[3],jt+12)}var Ut=mt._cache.slice(0,wt.length);return mt._cache=mt._cache.slice(wt.length),a(wt,Ut)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var a={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},s=require$$2;for(var et in s)s[et].module=a[s[et].mode];return modes_1=s,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var a=requireSafeBuffer$1().Buffer;function s($t){a.isBuffer($t)||($t=a.from($t));for(var Ct=$t.length/4|0,Dt=new Array(Ct),Ft=0;Ft<Ct;Ft++)Dt[Ft]=$t.readUInt32BE(Ft*4);return Dt}function et($t){for(var Ct=0;Ct<$t.length;$t++)$t[Ct]=0}function nt($t,Ct,Dt,Ft,jt){for(var Ut=Dt[0],tr=Dt[1],ir=Dt[2],sr=Dt[3],ur=$t[0]^Ct[0],fr=$t[1]^Ct[1],dr=$t[2]^Ct[2],hr=$t[3]^Ct[3],vr,yr,xr,br,wr=4,Sr=1;Sr<jt;Sr++)vr=Ut[ur>>>24]^tr[fr>>>16&255]^ir[dr>>>8&255]^sr[hr&255]^Ct[wr++],yr=Ut[fr>>>24]^tr[dr>>>16&255]^ir[hr>>>8&255]^sr[ur&255]^Ct[wr++],xr=Ut[dr>>>24]^tr[hr>>>16&255]^ir[ur>>>8&255]^sr[fr&255]^Ct[wr++],br=Ut[hr>>>24]^tr[ur>>>16&255]^ir[fr>>>8&255]^sr[dr&255]^Ct[wr++],ur=vr,fr=yr,dr=xr,hr=br;return vr=(Ft[ur>>>24]<<24|Ft[fr>>>16&255]<<16|Ft[dr>>>8&255]<<8|Ft[hr&255])^Ct[wr++],yr=(Ft[fr>>>24]<<24|Ft[dr>>>16&255]<<16|Ft[hr>>>8&255]<<8|Ft[ur&255])^Ct[wr++],xr=(Ft[dr>>>24]<<24|Ft[hr>>>16&255]<<16|Ft[ur>>>8&255]<<8|Ft[fr&255])^Ct[wr++],br=(Ft[hr>>>24]<<24|Ft[ur>>>16&255]<<16|Ft[fr>>>8&255]<<8|Ft[dr&255])^Ct[wr++],vr=vr>>>0,yr=yr>>>0,xr=xr>>>0,br=br>>>0,[vr,yr,xr,br]}var at=[0,1,2,4,8,16,32,64,128,27,54],mt=function(){for(var $t=new Array(256),Ct=0;Ct<256;Ct++)Ct<128?$t[Ct]=Ct<<1:$t[Ct]=Ct<<1^283;for(var Dt=[],Ft=[],jt=[[],[],[],[]],Ut=[[],[],[],[]],tr=0,ir=0,sr=0;sr<256;++sr){var ur=ir^ir<<1^ir<<2^ir<<3^ir<<4;ur=ur>>>8^ur&255^99,Dt[tr]=ur,Ft[ur]=tr;var fr=$t[tr],dr=$t[fr],hr=$t[dr],vr=$t[ur]*257^ur*16843008;jt[0][tr]=vr<<24|vr>>>8,jt[1][tr]=vr<<16|vr>>>16,jt[2][tr]=vr<<8|vr>>>24,jt[3][tr]=vr,vr=hr*16843009^dr*65537^fr*257^tr*16843008,Ut[0][ur]=vr<<24|vr>>>8,Ut[1][ur]=vr<<16|vr>>>16,Ut[2][ur]=vr<<8|vr>>>24,Ut[3][ur]=vr,tr===0?tr=ir=1:(tr=fr^$t[$t[$t[hr^fr]]],ir^=$t[$t[ir]])}return{SBOX:Dt,INV_SBOX:Ft,SUB_MIX:jt,INV_SUB_MIX:Ut}}();function wt($t){this._key=s($t),this._reset()}return wt.blockSize=4*4,wt.keySize=256/8,wt.prototype.blockSize=wt.blockSize,wt.prototype.keySize=wt.keySize,wt.prototype._reset=function(){for(var $t=this._key,Ct=$t.length,Dt=Ct+6,Ft=(Dt+1)*4,jt=[],Ut=0;Ut<Ct;Ut++)jt[Ut]=$t[Ut];for(Ut=Ct;Ut<Ft;Ut++){var tr=jt[Ut-1];Ut%Ct===0?(tr=tr<<8|tr>>>24,tr=mt.SBOX[tr>>>24]<<24|mt.SBOX[tr>>>16&255]<<16|mt.SBOX[tr>>>8&255]<<8|mt.SBOX[tr&255],tr^=at[Ut/Ct|0]<<24):Ct>6&&Ut%Ct===4&&(tr=mt.SBOX[tr>>>24]<<24|mt.SBOX[tr>>>16&255]<<16|mt.SBOX[tr>>>8&255]<<8|mt.SBOX[tr&255]),jt[Ut]=jt[Ut-Ct]^tr}for(var ir=[],sr=0;sr<Ft;sr++){var ur=Ft-sr,fr=jt[ur-(sr%4?0:4)];sr<4||ur<=4?ir[sr]=fr:ir[sr]=mt.INV_SUB_MIX[0][mt.SBOX[fr>>>24]]^mt.INV_SUB_MIX[1][mt.SBOX[fr>>>16&255]]^mt.INV_SUB_MIX[2][mt.SBOX[fr>>>8&255]]^mt.INV_SUB_MIX[3][mt.SBOX[fr&255]]}this._nRounds=Dt,this._keySchedule=jt,this._invKeySchedule=ir},wt.prototype.encryptBlockRaw=function($t){return $t=s($t),nt($t,this._keySchedule,mt.SUB_MIX,mt.SBOX,this._nRounds)},wt.prototype.encryptBlock=function($t){var Ct=this.encryptBlockRaw($t),Dt=a.allocUnsafe(16);return Dt.writeUInt32BE(Ct[0],0),Dt.writeUInt32BE(Ct[1],4),Dt.writeUInt32BE(Ct[2],8),Dt.writeUInt32BE(Ct[3],12),Dt},wt.prototype.decryptBlock=function($t){$t=s($t);var Ct=$t[1];$t[1]=$t[3],$t[3]=Ct;var Dt=nt($t,this._invKeySchedule,mt.INV_SUB_MIX,mt.INV_SBOX,this._nRounds),Ft=a.allocUnsafe(16);return Ft.writeUInt32BE(Dt[0],0),Ft.writeUInt32BE(Dt[3],4),Ft.writeUInt32BE(Dt[2],8),Ft.writeUInt32BE(Dt[1],12),Ft},wt.prototype.scrub=function(){et(this._keySchedule),et(this._invKeySchedule),et(this._key)},aes$1.AES=wt,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var a=requireSafeBuffer$1().Buffer,s=a.alloc(16,0);function et(mt){return[mt.readUInt32BE(0),mt.readUInt32BE(4),mt.readUInt32BE(8),mt.readUInt32BE(12)]}function nt(mt){var wt=a.allocUnsafe(16);return wt.writeUInt32BE(mt[0]>>>0,0),wt.writeUInt32BE(mt[1]>>>0,4),wt.writeUInt32BE(mt[2]>>>0,8),wt.writeUInt32BE(mt[3]>>>0,12),wt}function at(mt){this.h=mt,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}return at.prototype.ghash=function(mt){for(var wt=-1;++wt<mt.length;)this.state[wt]^=mt[wt];this._multiply()},at.prototype._multiply=function(){for(var mt=et(this.h),wt=[0,0,0,0],$t,Ct,Dt,Ft=-1;++Ft<128;){for(Ct=(this.state[~~(Ft/8)]&1<<7-Ft%8)!==0,Ct&&(wt[0]^=mt[0],wt[1]^=mt[1],wt[2]^=mt[2],wt[3]^=mt[3]),Dt=(mt[3]&1)!==0,$t=3;$t>0;$t--)mt[$t]=mt[$t]>>>1|(mt[$t-1]&1)<<31;mt[0]=mt[0]>>>1,Dt&&(mt[0]=mt[0]^225<<24)}this.state=nt(wt)},at.prototype.update=function(mt){this.cache=a.concat([this.cache,mt]);for(var wt;this.cache.length>=16;)wt=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(wt)},at.prototype.final=function(mt,wt){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(nt([0,mt,0,wt])),this.state},ghash=at,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var a=requireAes$1(),s=requireSafeBuffer$1().Buffer,et=requireCipherBase(),nt=requireInherits_browser(),at=requireGhash(),mt=requireBufferXor(),wt=requireIncr32();function $t(Ft,jt){var Ut=0;Ft.length!==jt.length&&Ut++;for(var tr=Math.min(Ft.length,jt.length),ir=0;ir<tr;++ir)Ut+=Ft[ir]^jt[ir];return Ut}function Ct(Ft,jt,Ut){if(jt.length===12)return Ft._finID=s.concat([jt,s.from([0,0,0,1])]),s.concat([jt,s.from([0,0,0,2])]);var tr=new at(Ut),ir=jt.length,sr=ir%16;tr.update(jt),sr&&(sr=16-sr,tr.update(s.alloc(sr,0))),tr.update(s.alloc(8,0));var ur=ir*8,fr=s.alloc(8);fr.writeUIntBE(ur,0,8),tr.update(fr),Ft._finID=tr.state;var dr=s.from(Ft._finID);return wt(dr),dr}function Dt(Ft,jt,Ut,tr){et.call(this);var ir=s.alloc(4,0);this._cipher=new a.AES(jt);var sr=this._cipher.encryptBlock(ir);this._ghash=new at(sr),Ut=Ct(this,Ut,sr),this._prev=s.from(Ut),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=tr,this._alen=0,this._len=0,this._mode=Ft,this._authTag=null,this._called=!1}return nt(Dt,et),Dt.prototype._update=function(Ft){if(!this._called&&this._alen){var jt=16-this._alen%16;jt<16&&(jt=s.alloc(jt,0),this._ghash.update(jt))}this._called=!0;var Ut=this._mode.encrypt(this,Ft);return this._decrypt?this._ghash.update(Ft):this._ghash.update(Ut),this._len+=Ft.length,Ut},Dt.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Ft=mt(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&$t(Ft,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Ft,this._cipher.scrub()},Dt.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Dt.prototype.setAuthTag=function(jt){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=jt},Dt.prototype.setAAD=function(jt){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(jt),this._alen+=jt.length},authCipher=Dt,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var a=requireAes$1(),s=requireSafeBuffer$1().Buffer,et=requireCipherBase(),nt=requireInherits_browser();function at(mt,wt,$t,Ct){et.call(this),this._cipher=new a.AES(wt),this._prev=s.from($t),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=Ct,this._mode=mt}return nt(at,et),at.prototype._update=function(mt){return this._mode.encrypt(this,mt,this._decrypt)},at.prototype._final=function(){this._cipher.scrub()},streamCipher=at,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var a=requireSafeBuffer$1().Buffer,s=requireMd5_js();function et(nt,at,mt,wt){if(a.isBuffer(nt)||(nt=a.from(nt,"binary")),at&&(a.isBuffer(at)||(at=a.from(at,"binary")),at.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var $t=mt/8,Ct=a.alloc($t),Dt=a.alloc(wt||0),Ft=a.alloc(0);$t>0||wt>0;){var jt=new s;jt.update(Ft),jt.update(nt),at&&jt.update(at),Ft=jt.digest();var Ut=0;if($t>0){var tr=Ct.length-$t;Ut=Math.min($t,Ft.length),Ft.copy(Ct,tr,0,Ut),$t-=Ut}if(Ut<Ft.length&&wt>0){var ir=Dt.length-wt,sr=Math.min(wt,Ft.length-Ut);Ft.copy(Dt,ir,Ut,Ut+sr),wt-=sr}}return Ft.fill(0),{key:Ct,iv:Dt}}return evp_bytestokey=et,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var a=requireModes$1(),s=requireAuthCipher(),et=requireSafeBuffer$1().Buffer,nt=requireStreamCipher(),at=requireCipherBase(),mt=requireAes$1(),wt=requireEvp_bytestokey(),$t=requireInherits_browser();function Ct(tr,ir,sr){at.call(this),this._cache=new Ft,this._cipher=new mt.AES(ir),this._prev=et.from(sr),this._mode=tr,this._autopadding=!0}$t(Ct,at),Ct.prototype._update=function(tr){this._cache.add(tr);for(var ir,sr,ur=[];ir=this._cache.get();)sr=this._mode.encrypt(this,ir),ur.push(sr);return et.concat(ur)};var Dt=et.alloc(16,16);Ct.prototype._final=function(){var tr=this._cache.flush();if(this._autopadding)return tr=this._mode.encrypt(this,tr),this._cipher.scrub(),tr;if(!tr.equals(Dt))throw this._cipher.scrub(),new Error("data not multiple of block length")},Ct.prototype.setAutoPadding=function(tr){return this._autopadding=!!tr,this};function Ft(){this.cache=et.allocUnsafe(0)}Ft.prototype.add=function(tr){this.cache=et.concat([this.cache,tr])},Ft.prototype.get=function(){if(this.cache.length>15){var tr=this.cache.slice(0,16);return this.cache=this.cache.slice(16),tr}return null},Ft.prototype.flush=function(){for(var tr=16-this.cache.length,ir=et.allocUnsafe(tr),sr=-1;++sr<tr;)ir.writeUInt8(tr,sr);return et.concat([this.cache,ir])};function jt(tr,ir,sr){var ur=a[tr.toLowerCase()];if(!ur)throw new TypeError("invalid suite type");if(typeof ir=="string"&&(ir=et.from(ir)),ir.length!==ur.key/8)throw new TypeError("invalid key length "+ir.length);if(typeof sr=="string"&&(sr=et.from(sr)),ur.mode!=="GCM"&&sr.length!==ur.iv)throw new TypeError("invalid iv length "+sr.length);return ur.type==="stream"?new nt(ur.module,ir,sr):ur.type==="auth"?new s(ur.module,ir,sr):new Ct(ur.module,ir,sr)}function Ut(tr,ir){var sr=a[tr.toLowerCase()];if(!sr)throw new TypeError("invalid suite type");var ur=wt(ir,!1,sr.key,sr.iv);return jt(tr,ur.key,ur.iv)}return encrypter.createCipheriv=jt,encrypter.createCipher=Ut,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var a=requireAuthCipher(),s=requireSafeBuffer$1().Buffer,et=requireModes$1(),nt=requireStreamCipher(),at=requireCipherBase(),mt=requireAes$1(),wt=requireEvp_bytestokey(),$t=requireInherits_browser();function Ct(tr,ir,sr){at.call(this),this._cache=new Dt,this._last=void 0,this._cipher=new mt.AES(ir),this._prev=s.from(sr),this._mode=tr,this._autopadding=!0}$t(Ct,at),Ct.prototype._update=function(tr){this._cache.add(tr);for(var ir,sr,ur=[];ir=this._cache.get(this._autopadding);)sr=this._mode.decrypt(this,ir),ur.push(sr);return s.concat(ur)},Ct.prototype._final=function(){var tr=this._cache.flush();if(this._autopadding)return Ft(this._mode.decrypt(this,tr));if(tr)throw new Error("data not multiple of block length")},Ct.prototype.setAutoPadding=function(tr){return this._autopadding=!!tr,this};function Dt(){this.cache=s.allocUnsafe(0)}Dt.prototype.add=function(tr){this.cache=s.concat([this.cache,tr])},Dt.prototype.get=function(tr){var ir;if(tr){if(this.cache.length>16)return ir=this.cache.slice(0,16),this.cache=this.cache.slice(16),ir}else if(this.cache.length>=16)return ir=this.cache.slice(0,16),this.cache=this.cache.slice(16),ir;return null},Dt.prototype.flush=function(){if(this.cache.length)return this.cache};function Ft(tr){var ir=tr[15];if(ir<1||ir>16)throw new Error("unable to decrypt data");for(var sr=-1;++sr<ir;)if(tr[sr+(16-ir)]!==ir)throw new Error("unable to decrypt data");if(ir!==16)return tr.slice(0,16-ir)}function jt(tr,ir,sr){var ur=et[tr.toLowerCase()];if(!ur)throw new TypeError("invalid suite type");if(typeof sr=="string"&&(sr=s.from(sr)),ur.mode!=="GCM"&&sr.length!==ur.iv)throw new TypeError("invalid iv length "+sr.length);if(typeof ir=="string"&&(ir=s.from(ir)),ir.length!==ur.key/8)throw new TypeError("invalid key length "+ir.length);return ur.type==="stream"?new nt(ur.module,ir,sr,!0):ur.type==="auth"?new a(ur.module,ir,sr,!0):new Ct(ur.module,ir,sr)}function Ut(tr,ir){var sr=et[tr.toLowerCase()];if(!sr)throw new TypeError("invalid suite type");var ur=wt(ir,!1,sr.key,sr.iv);return jt(tr,ur.key,ur.iv)}return decrypter.createDecipher=Ut,decrypter.createDecipheriv=jt,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$7;hasRequiredBrowser$6=1;var a=requireEncrypter(),s=requireDecrypter(),et=require$$2;function nt(){return Object.keys(et)}return browser$7.createCipher=browser$7.Cipher=a.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=a.createCipheriv,browser$7.createDecipher=browser$7.Decipher=s.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=s.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=nt,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(a){a["des-ecb"]={key:8,iv:0},a["des-cbc"]=a.des={key:8,iv:8},a["des-ede3-cbc"]=a.des3={key:24,iv:8},a["des-ede3"]={key:24,iv:0},a["des-ede-cbc"]={key:16,iv:8},a["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$8;hasRequiredBrowser$5=1;var a=requireBrowserifyDes(),s=requireBrowser$6(),et=requireModes$1(),nt=requireModes(),at=requireEvp_bytestokey();function mt(Ft,jt){Ft=Ft.toLowerCase();var Ut,tr;if(et[Ft])Ut=et[Ft].key,tr=et[Ft].iv;else if(nt[Ft])Ut=nt[Ft].key*8,tr=nt[Ft].iv;else throw new TypeError("invalid suite type");var ir=at(jt,!1,Ut,tr);return $t(Ft,ir.key,ir.iv)}function wt(Ft,jt){Ft=Ft.toLowerCase();var Ut,tr;if(et[Ft])Ut=et[Ft].key,tr=et[Ft].iv;else if(nt[Ft])Ut=nt[Ft].key*8,tr=nt[Ft].iv;else throw new TypeError("invalid suite type");var ir=at(jt,!1,Ut,tr);return Ct(Ft,ir.key,ir.iv)}function $t(Ft,jt,Ut){if(Ft=Ft.toLowerCase(),et[Ft])return s.createCipheriv(Ft,jt,Ut);if(nt[Ft])return new a({key:jt,iv:Ut,mode:Ft});throw new TypeError("invalid suite type")}function Ct(Ft,jt,Ut){if(Ft=Ft.toLowerCase(),et[Ft])return s.createDecipheriv(Ft,jt,Ut);if(nt[Ft])return new a({key:jt,iv:Ut,mode:Ft,decrypt:!0});throw new TypeError("invalid suite type")}function Dt(){return Object.keys(nt).concat(s.getCiphers())}return browser$8.createCipher=browser$8.Cipher=mt,browser$8.createCipheriv=browser$8.Cipheriv=$t,browser$8.createDecipher=browser$8.Decipher=wt,browser$8.createDecipheriv=browser$8.Decipheriv=Ct,browser$8.listCiphers=browser$8.getCiphers=Dt,browser$8}var browser$6={},bn$6={exports:{}};bn$6.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(a){(function(s,et){function nt(cr,Nt){if(!cr)throw new Error(Nt||"Assertion failed")}function at(cr,Nt){cr.super_=Nt;var Vt=function(){};Vt.prototype=Nt.prototype,cr.prototype=new Vt,cr.prototype.constructor=cr}function mt(cr,Nt,Vt){if(mt.isBN(cr))return cr;this.negative=0,this.words=null,this.length=0,this.red=null,cr!==null&&((Nt==="le"||Nt==="be")&&(Vt=Nt,Nt=10),this._init(cr||0,Nt||10,Vt||"be"))}typeof s=="object"?s.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$0$3.Buffer}catch{}mt.isBN=function(Nt){return Nt instanceof mt?!0:Nt!==null&&typeof Nt=="object"&&Nt.constructor.wordSize===mt.wordSize&&Array.isArray(Nt.words)},mt.max=function(Nt,Vt){return Nt.cmp(Vt)>0?Nt:Vt},mt.min=function(Nt,Vt){return Nt.cmp(Vt)<0?Nt:Vt},mt.prototype._init=function(Nt,Vt,er){if(typeof Nt=="number")return this._initNumber(Nt,Vt,er);if(typeof Nt=="object")return this._initArray(Nt,Vt,er);Vt==="hex"&&(Vt=16),nt(Vt===(Vt|0)&&Vt>=2&&Vt<=36),Nt=Nt.toString().replace(/\s+/g,"");var Yt=0;Nt[0]==="-"&&(Yt++,this.negative=1),Yt<Nt.length&&(Vt===16?this._parseHex(Nt,Yt,er):(this._parseBase(Nt,Vt,Yt),er==="le"&&this._initArray(this.toArray(),Vt,er)))},mt.prototype._initNumber=function(Nt,Vt,er){Nt<0&&(this.negative=1,Nt=-Nt),Nt<67108864?(this.words=[Nt&67108863],this.length=1):Nt<4503599627370496?(this.words=[Nt&67108863,Nt/67108864&67108863],this.length=2):(nt(Nt<9007199254740992),this.words=[Nt&67108863,Nt/67108864&67108863,1],this.length=3),er==="le"&&this._initArray(this.toArray(),Vt,er)},mt.prototype._initArray=function(Nt,Vt,er){if(nt(typeof Nt.length=="number"),Nt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Nt.length/3),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr,ar,lr=0;if(er==="be")for(Yt=Nt.length-1,rr=0;Yt>=0;Yt-=3)ar=Nt[Yt]|Nt[Yt-1]<<8|Nt[Yt-2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);else if(er==="le")for(Yt=0,rr=0;Yt<Nt.length;Yt+=3)ar=Nt[Yt]|Nt[Yt+1]<<8|Nt[Yt+2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);return this.strip()};function $t(cr,Nt){var Vt=cr.charCodeAt(Nt);return Vt>=65&&Vt<=70?Vt-55:Vt>=97&&Vt<=102?Vt-87:Vt-48&15}function Ct(cr,Nt,Vt){var er=$t(cr,Vt);return Vt-1>=Nt&&(er|=$t(cr,Vt-1)<<4),er}mt.prototype._parseHex=function(Nt,Vt,er){this.length=Math.ceil((Nt.length-Vt)/6),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr=0,ar=0,lr;if(er==="be")for(Yt=Nt.length-1;Yt>=Vt;Yt-=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8;else{var nr=Nt.length-Vt;for(Yt=nr%2===0?Vt+1:Vt;Yt<Nt.length;Yt+=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8}this.strip()};function Dt(cr,Nt,Vt,er){for(var Yt=0,rr=Math.min(cr.length,Vt),ar=Nt;ar<rr;ar++){var lr=cr.charCodeAt(ar)-48;Yt*=er,lr>=49?Yt+=lr-49+10:lr>=17?Yt+=lr-17+10:Yt+=lr}return Yt}mt.prototype._parseBase=function(Nt,Vt,er){this.words=[0],this.length=1;for(var Yt=0,rr=1;rr<=67108863;rr*=Vt)Yt++;Yt--,rr=rr/Vt|0;for(var ar=Nt.length-er,lr=ar%Yt,nr=Math.min(ar,ar-lr)+er,Lt=0,or=er;or<nr;or+=Yt)Lt=Dt(Nt,or,or+Yt,Vt),this.imuln(rr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt);if(lr!==0){var gr=1;for(Lt=Dt(Nt,or,Nt.length,Vt),or=0;or<lr;or++)gr*=Vt;this.imuln(gr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt)}this.strip()},mt.prototype.copy=function(Nt){Nt.words=new Array(this.length);for(var Vt=0;Vt<this.length;Vt++)Nt.words[Vt]=this.words[Vt];Nt.length=this.length,Nt.negative=this.negative,Nt.red=this.red},mt.prototype.clone=function(){var Nt=new mt(null);return this.copy(Nt),Nt},mt.prototype._expand=function(Nt){for(;this.length<Nt;)this.words[this.length++]=0;return this},mt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},mt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(Nt,Vt){Nt=Nt||10,Vt=Vt|0||1;var er;if(Nt===16||Nt==="hex"){er="";for(var Yt=0,rr=0,ar=0;ar<this.length;ar++){var lr=this.words[ar],nr=((lr<<Yt|rr)&16777215).toString(16);rr=lr>>>24-Yt&16777215,Yt+=2,Yt>=26&&(Yt-=26,ar--),rr!==0||ar!==this.length-1?er=Ft[6-nr.length]+nr+er:er=nr+er}for(rr!==0&&(er=rr.toString(16)+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}if(Nt===(Nt|0)&&Nt>=2&&Nt<=36){var Lt=jt[Nt],or=Ut[Nt];er="";var gr=this.clone();for(gr.negative=0;!gr.isZero();){var pr=gr.modn(or).toString(Nt);gr=gr.idivn(or),gr.isZero()?er=pr+er:er=Ft[Lt-pr.length]+pr+er}for(this.isZero()&&(er="0"+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var Nt=this.words[0];return this.length===2?Nt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Nt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Nt:Nt},mt.prototype.toJSON=function(){return this.toString(16)},mt.prototype.toBuffer=function(Nt,Vt){return nt(typeof wt<"u"),this.toArrayLike(wt,Nt,Vt)},mt.prototype.toArray=function(Nt,Vt){return this.toArrayLike(Array,Nt,Vt)},mt.prototype.toArrayLike=function(Nt,Vt,er){var Yt=this.byteLength(),rr=er||Math.max(1,Yt);nt(Yt<=rr,"byte array longer than desired length"),nt(rr>0,"Requested array length <= 0"),this.strip();var ar=Vt==="le",lr=new Nt(rr),nr,Lt,or=this.clone();if(ar){for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[Lt]=nr;for(;Lt<rr;Lt++)lr[Lt]=0}else{for(Lt=0;Lt<rr-Yt;Lt++)lr[Lt]=0;for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[rr-Lt-1]=nr}return lr},Math.clz32?mt.prototype._countBits=function(Nt){return 32-Math.clz32(Nt)}:mt.prototype._countBits=function(Nt){var Vt=Nt,er=0;return Vt>=4096&&(er+=13,Vt>>>=13),Vt>=64&&(er+=7,Vt>>>=7),Vt>=8&&(er+=4,Vt>>>=4),Vt>=2&&(er+=2,Vt>>>=2),er+Vt},mt.prototype._zeroBits=function(Nt){if(Nt===0)return 26;var Vt=Nt,er=0;return Vt&8191||(er+=13,Vt>>>=13),Vt&127||(er+=7,Vt>>>=7),Vt&15||(er+=4,Vt>>>=4),Vt&3||(er+=2,Vt>>>=2),Vt&1||er++,er},mt.prototype.bitLength=function(){var Nt=this.words[this.length-1],Vt=this._countBits(Nt);return(this.length-1)*26+Vt};function tr(cr){for(var Nt=new Array(cr.bitLength()),Vt=0;Vt<Nt.length;Vt++){var er=Vt/26|0,Yt=Vt%26;Nt[Vt]=(cr.words[er]&1<<Yt)>>>Yt}return Nt}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Nt=0,Vt=0;Vt<this.length;Vt++){var er=this._zeroBits(this.words[Vt]);if(Nt+=er,er!==26)break}return Nt},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(Nt){return this.negative!==0?this.abs().inotn(Nt).iaddn(1):this.clone()},mt.prototype.fromTwos=function(Nt){return this.testn(Nt-1)?this.notn(Nt).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(Nt){for(;this.length<Nt.length;)this.words[this.length++]=0;for(var Vt=0;Vt<Nt.length;Vt++)this.words[Vt]=this.words[Vt]|Nt.words[Vt];return this.strip()},mt.prototype.ior=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuor(Nt)},mt.prototype.or=function(Nt){return this.length>Nt.length?this.clone().ior(Nt):Nt.clone().ior(this)},mt.prototype.uor=function(Nt){return this.length>Nt.length?this.clone().iuor(Nt):Nt.clone().iuor(this)},mt.prototype.iuand=function(Nt){var Vt;this.length>Nt.length?Vt=Nt:Vt=this;for(var er=0;er<Vt.length;er++)this.words[er]=this.words[er]&Nt.words[er];return this.length=Vt.length,this.strip()},mt.prototype.iand=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuand(Nt)},mt.prototype.and=function(Nt){return this.length>Nt.length?this.clone().iand(Nt):Nt.clone().iand(this)},mt.prototype.uand=function(Nt){return this.length>Nt.length?this.clone().iuand(Nt):Nt.clone().iuand(this)},mt.prototype.iuxor=function(Nt){var Vt,er;this.length>Nt.length?(Vt=this,er=Nt):(Vt=Nt,er=this);for(var Yt=0;Yt<er.length;Yt++)this.words[Yt]=Vt.words[Yt]^er.words[Yt];if(this!==Vt)for(;Yt<Vt.length;Yt++)this.words[Yt]=Vt.words[Yt];return this.length=Vt.length,this.strip()},mt.prototype.ixor=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuxor(Nt)},mt.prototype.xor=function(Nt){return this.length>Nt.length?this.clone().ixor(Nt):Nt.clone().ixor(this)},mt.prototype.uxor=function(Nt){return this.length>Nt.length?this.clone().iuxor(Nt):Nt.clone().iuxor(this)},mt.prototype.inotn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Math.ceil(Nt/26)|0,er=Nt%26;this._expand(Vt),er>0&&Vt--;for(var Yt=0;Yt<Vt;Yt++)this.words[Yt]=~this.words[Yt]&67108863;return er>0&&(this.words[Yt]=~this.words[Yt]&67108863>>26-er),this.strip()},mt.prototype.notn=function(Nt){return this.clone().inotn(Nt)},mt.prototype.setn=function(Nt,Vt){nt(typeof Nt=="number"&&Nt>=0);var er=Nt/26|0,Yt=Nt%26;return this._expand(er+1),Vt?this.words[er]=this.words[er]|1<<Yt:this.words[er]=this.words[er]&~(1<<Yt),this.strip()},mt.prototype.iadd=function(Nt){var Vt;if(this.negative!==0&&Nt.negative===0)return this.negative=0,Vt=this.isub(Nt),this.negative^=1,this._normSign();if(this.negative===0&&Nt.negative!==0)return Nt.negative=0,Vt=this.isub(Nt),Nt.negative=1,Vt._normSign();var er,Yt;this.length>Nt.length?(er=this,Yt=Nt):(er=Nt,Yt=this);for(var rr=0,ar=0;ar<Yt.length;ar++)Vt=(er.words[ar]|0)+(Yt.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;for(;rr!==0&&ar<er.length;ar++)Vt=(er.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;if(this.length=er.length,rr!==0)this.words[this.length]=rr,this.length++;else if(er!==this)for(;ar<er.length;ar++)this.words[ar]=er.words[ar];return this},mt.prototype.add=function(Nt){var Vt;return Nt.negative!==0&&this.negative===0?(Nt.negative=0,Vt=this.sub(Nt),Nt.negative^=1,Vt):Nt.negative===0&&this.negative!==0?(this.negative=0,Vt=Nt.sub(this),this.negative=1,Vt):this.length>Nt.length?this.clone().iadd(Nt):Nt.clone().iadd(this)},mt.prototype.isub=function(Nt){if(Nt.negative!==0){Nt.negative=0;var Vt=this.iadd(Nt);return Nt.negative=1,Vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Nt),this.negative=1,this._normSign();var er=this.cmp(Nt);if(er===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yt,rr;er>0?(Yt=this,rr=Nt):(Yt=Nt,rr=this);for(var ar=0,lr=0;lr<rr.length;lr++)Vt=(Yt.words[lr]|0)-(rr.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;for(;ar!==0&&lr<Yt.length;lr++)Vt=(Yt.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;if(ar===0&&lr<Yt.length&&Yt!==this)for(;lr<Yt.length;lr++)this.words[lr]=Yt.words[lr];return this.length=Math.max(this.length,lr),Yt!==this&&(this.negative=1),this.strip()},mt.prototype.sub=function(Nt){return this.clone().isub(Nt)};function ir(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative;var er=cr.length+Nt.length|0;Vt.length=er,er=er-1|0;var Yt=cr.words[0]|0,rr=Nt.words[0]|0,ar=Yt*rr,lr=ar&67108863,nr=ar/67108864|0;Vt.words[0]=lr;for(var Lt=1;Lt<er;Lt++){for(var or=nr>>>26,gr=nr&67108863,pr=Math.min(Lt,Nt.length-1),_r=Math.max(0,Lt-cr.length+1);_r<=pr;_r++){var kr=Lt-_r|0;Yt=cr.words[kr]|0,rr=Nt.words[_r]|0,ar=Yt*rr+gr,or+=ar/67108864|0,gr=ar&67108863}Vt.words[Lt]=gr|0,nr=or|0}return nr!==0?Vt.words[Lt]=nr|0:Vt.length--,Vt.strip()}var sr=function(Nt,Vt,er){var Yt=Nt.words,rr=Vt.words,ar=er.words,lr=0,nr,Lt,or,gr=Yt[0]|0,pr=gr&8191,_r=gr>>>13,kr=Yt[1]|0,Mr=kr&8191,$r=kr>>>13,Pr=Yt[2]|0,Fr=Pr&8191,Tr=Pr>>>13,Rr=Yt[3]|0,Er=Rr&8191,Or=Rr>>>13,Wr=Yt[4]|0,qr=Wr&8191,Vr=Wr>>>13,Ur=Yt[5]|0,Lr=Ur&8191,Br=Ur>>>13,Xr=Yt[6]|0,zr=Xr&8191,Qr=Xr>>>13,Qn=Yt[7]|0,nn=Qn&8191,$n=Qn>>>13,lo=Yt[8]|0,sn=lo&8191,Nn=lo>>>13,xo=Yt[9]|0,Ir=xo&8191,Ar=xo>>>13,Dr=rr[0]|0,Nr=Dr&8191,Gr=Dr>>>13,Un=rr[1]|0,Zr=Un&8191,Cn=Un>>>13,wo=rr[2]|0,Hn=wo&8191,Kn=wo>>>13,bo=rr[3]|0,Jn=bo&8191,no=bo>>>13,Do=rr[4]|0,eo=Do&8191,io=Do>>>13,Io=rr[5]|0,_i=Io&8191,ro=Io>>>13,Oo=rr[6]|0,Hr=Oo&8191,Yr=Oo>>>13,Wn=rr[7]|0,rn=Wn&8191,dn=Wn>>>13,po=rr[8]|0,Ln=po&8191,Vn=po>>>13,uo=rr[9]|0,pn=uo&8191,zn=uo>>>13;er.negative=Nt.negative^Vt.negative,er.length=19,nr=Math.imul(pr,Nr),Lt=Math.imul(pr,Gr),Lt=Lt+Math.imul(_r,Nr)|0,or=Math.imul(_r,Gr);var go=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(go>>>26)|0,go&=67108863,nr=Math.imul(Mr,Nr),Lt=Math.imul(Mr,Gr),Lt=Lt+Math.imul($r,Nr)|0,or=Math.imul($r,Gr),nr=nr+Math.imul(pr,Zr)|0,Lt=Lt+Math.imul(pr,Cn)|0,Lt=Lt+Math.imul(_r,Zr)|0,or=or+Math.imul(_r,Cn)|0;var co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(co>>>26)|0,co&=67108863,nr=Math.imul(Fr,Nr),Lt=Math.imul(Fr,Gr),Lt=Lt+Math.imul(Tr,Nr)|0,or=Math.imul(Tr,Gr),nr=nr+Math.imul(Mr,Zr)|0,Lt=Lt+Math.imul(Mr,Cn)|0,Lt=Lt+Math.imul($r,Zr)|0,or=or+Math.imul($r,Cn)|0,nr=nr+Math.imul(pr,Hn)|0,Lt=Lt+Math.imul(pr,Kn)|0,Lt=Lt+Math.imul(_r,Hn)|0,or=or+Math.imul(_r,Kn)|0;var Eo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,nr=Math.imul(Er,Nr),Lt=Math.imul(Er,Gr),Lt=Lt+Math.imul(Or,Nr)|0,or=Math.imul(Or,Gr),nr=nr+Math.imul(Fr,Zr)|0,Lt=Lt+Math.imul(Fr,Cn)|0,Lt=Lt+Math.imul(Tr,Zr)|0,or=or+Math.imul(Tr,Cn)|0,nr=nr+Math.imul(Mr,Hn)|0,Lt=Lt+Math.imul(Mr,Kn)|0,Lt=Lt+Math.imul($r,Hn)|0,or=or+Math.imul($r,Kn)|0,nr=nr+Math.imul(pr,Jn)|0,Lt=Lt+Math.imul(pr,no)|0,Lt=Lt+Math.imul(_r,Jn)|0,or=or+Math.imul(_r,no)|0;var To=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(To>>>26)|0,To&=67108863,nr=Math.imul(qr,Nr),Lt=Math.imul(qr,Gr),Lt=Lt+Math.imul(Vr,Nr)|0,or=Math.imul(Vr,Gr),nr=nr+Math.imul(Er,Zr)|0,Lt=Lt+Math.imul(Er,Cn)|0,Lt=Lt+Math.imul(Or,Zr)|0,or=or+Math.imul(Or,Cn)|0,nr=nr+Math.imul(Fr,Hn)|0,Lt=Lt+Math.imul(Fr,Kn)|0,Lt=Lt+Math.imul(Tr,Hn)|0,or=or+Math.imul(Tr,Kn)|0,nr=nr+Math.imul(Mr,Jn)|0,Lt=Lt+Math.imul(Mr,no)|0,Lt=Lt+Math.imul($r,Jn)|0,or=or+Math.imul($r,no)|0,nr=nr+Math.imul(pr,eo)|0,Lt=Lt+Math.imul(pr,io)|0,Lt=Lt+Math.imul(_r,eo)|0,or=or+Math.imul(_r,io)|0;var Co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Co>>>26)|0,Co&=67108863,nr=Math.imul(Lr,Nr),Lt=Math.imul(Lr,Gr),Lt=Lt+Math.imul(Br,Nr)|0,or=Math.imul(Br,Gr),nr=nr+Math.imul(qr,Zr)|0,Lt=Lt+Math.imul(qr,Cn)|0,Lt=Lt+Math.imul(Vr,Zr)|0,or=or+Math.imul(Vr,Cn)|0,nr=nr+Math.imul(Er,Hn)|0,Lt=Lt+Math.imul(Er,Kn)|0,Lt=Lt+Math.imul(Or,Hn)|0,or=or+Math.imul(Or,Kn)|0,nr=nr+Math.imul(Fr,Jn)|0,Lt=Lt+Math.imul(Fr,no)|0,Lt=Lt+Math.imul(Tr,Jn)|0,or=or+Math.imul(Tr,no)|0,nr=nr+Math.imul(Mr,eo)|0,Lt=Lt+Math.imul(Mr,io)|0,Lt=Lt+Math.imul($r,eo)|0,or=or+Math.imul($r,io)|0,nr=nr+Math.imul(pr,_i)|0,Lt=Lt+Math.imul(pr,ro)|0,Lt=Lt+Math.imul(_r,_i)|0,or=or+Math.imul(_r,ro)|0;var Mo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,nr=Math.imul(zr,Nr),Lt=Math.imul(zr,Gr),Lt=Lt+Math.imul(Qr,Nr)|0,or=Math.imul(Qr,Gr),nr=nr+Math.imul(Lr,Zr)|0,Lt=Lt+Math.imul(Lr,Cn)|0,Lt=Lt+Math.imul(Br,Zr)|0,or=or+Math.imul(Br,Cn)|0,nr=nr+Math.imul(qr,Hn)|0,Lt=Lt+Math.imul(qr,Kn)|0,Lt=Lt+Math.imul(Vr,Hn)|0,or=or+Math.imul(Vr,Kn)|0,nr=nr+Math.imul(Er,Jn)|0,Lt=Lt+Math.imul(Er,no)|0,Lt=Lt+Math.imul(Or,Jn)|0,or=or+Math.imul(Or,no)|0,nr=nr+Math.imul(Fr,eo)|0,Lt=Lt+Math.imul(Fr,io)|0,Lt=Lt+Math.imul(Tr,eo)|0,or=or+Math.imul(Tr,io)|0,nr=nr+Math.imul(Mr,_i)|0,Lt=Lt+Math.imul(Mr,ro)|0,Lt=Lt+Math.imul($r,_i)|0,or=or+Math.imul($r,ro)|0,nr=nr+Math.imul(pr,Hr)|0,Lt=Lt+Math.imul(pr,Yr)|0,Lt=Lt+Math.imul(_r,Hr)|0,or=or+Math.imul(_r,Yr)|0;var No=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(No>>>26)|0,No&=67108863,nr=Math.imul(nn,Nr),Lt=Math.imul(nn,Gr),Lt=Lt+Math.imul($n,Nr)|0,or=Math.imul($n,Gr),nr=nr+Math.imul(zr,Zr)|0,Lt=Lt+Math.imul(zr,Cn)|0,Lt=Lt+Math.imul(Qr,Zr)|0,or=or+Math.imul(Qr,Cn)|0,nr=nr+Math.imul(Lr,Hn)|0,Lt=Lt+Math.imul(Lr,Kn)|0,Lt=Lt+Math.imul(Br,Hn)|0,or=or+Math.imul(Br,Kn)|0,nr=nr+Math.imul(qr,Jn)|0,Lt=Lt+Math.imul(qr,no)|0,Lt=Lt+Math.imul(Vr,Jn)|0,or=or+Math.imul(Vr,no)|0,nr=nr+Math.imul(Er,eo)|0,Lt=Lt+Math.imul(Er,io)|0,Lt=Lt+Math.imul(Or,eo)|0,or=or+Math.imul(Or,io)|0,nr=nr+Math.imul(Fr,_i)|0,Lt=Lt+Math.imul(Fr,ro)|0,Lt=Lt+Math.imul(Tr,_i)|0,or=or+Math.imul(Tr,ro)|0,nr=nr+Math.imul(Mr,Hr)|0,Lt=Lt+Math.imul(Mr,Yr)|0,Lt=Lt+Math.imul($r,Hr)|0,or=or+Math.imul($r,Yr)|0,nr=nr+Math.imul(pr,rn)|0,Lt=Lt+Math.imul(pr,dn)|0,Lt=Lt+Math.imul(_r,rn)|0,or=or+Math.imul(_r,dn)|0;var zo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(zo>>>26)|0,zo&=67108863,nr=Math.imul(sn,Nr),Lt=Math.imul(sn,Gr),Lt=Lt+Math.imul(Nn,Nr)|0,or=Math.imul(Nn,Gr),nr=nr+Math.imul(nn,Zr)|0,Lt=Lt+Math.imul(nn,Cn)|0,Lt=Lt+Math.imul($n,Zr)|0,or=or+Math.imul($n,Cn)|0,nr=nr+Math.imul(zr,Hn)|0,Lt=Lt+Math.imul(zr,Kn)|0,Lt=Lt+Math.imul(Qr,Hn)|0,or=or+Math.imul(Qr,Kn)|0,nr=nr+Math.imul(Lr,Jn)|0,Lt=Lt+Math.imul(Lr,no)|0,Lt=Lt+Math.imul(Br,Jn)|0,or=or+Math.imul(Br,no)|0,nr=nr+Math.imul(qr,eo)|0,Lt=Lt+Math.imul(qr,io)|0,Lt=Lt+Math.imul(Vr,eo)|0,or=or+Math.imul(Vr,io)|0,nr=nr+Math.imul(Er,_i)|0,Lt=Lt+Math.imul(Er,ro)|0,Lt=Lt+Math.imul(Or,_i)|0,or=or+Math.imul(Or,ro)|0,nr=nr+Math.imul(Fr,Hr)|0,Lt=Lt+Math.imul(Fr,Yr)|0,Lt=Lt+Math.imul(Tr,Hr)|0,or=or+Math.imul(Tr,Yr)|0,nr=nr+Math.imul(Mr,rn)|0,Lt=Lt+Math.imul(Mr,dn)|0,Lt=Lt+Math.imul($r,rn)|0,or=or+Math.imul($r,dn)|0,nr=nr+Math.imul(pr,Ln)|0,Lt=Lt+Math.imul(pr,Vn)|0,Lt=Lt+Math.imul(_r,Ln)|0,or=or+Math.imul(_r,Vn)|0;var Bo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,nr=Math.imul(Ir,Nr),Lt=Math.imul(Ir,Gr),Lt=Lt+Math.imul(Ar,Nr)|0,or=Math.imul(Ar,Gr),nr=nr+Math.imul(sn,Zr)|0,Lt=Lt+Math.imul(sn,Cn)|0,Lt=Lt+Math.imul(Nn,Zr)|0,or=or+Math.imul(Nn,Cn)|0,nr=nr+Math.imul(nn,Hn)|0,Lt=Lt+Math.imul(nn,Kn)|0,Lt=Lt+Math.imul($n,Hn)|0,or=or+Math.imul($n,Kn)|0,nr=nr+Math.imul(zr,Jn)|0,Lt=Lt+Math.imul(zr,no)|0,Lt=Lt+Math.imul(Qr,Jn)|0,or=or+Math.imul(Qr,no)|0,nr=nr+Math.imul(Lr,eo)|0,Lt=Lt+Math.imul(Lr,io)|0,Lt=Lt+Math.imul(Br,eo)|0,or=or+Math.imul(Br,io)|0,nr=nr+Math.imul(qr,_i)|0,Lt=Lt+Math.imul(qr,ro)|0,Lt=Lt+Math.imul(Vr,_i)|0,or=or+Math.imul(Vr,ro)|0,nr=nr+Math.imul(Er,Hr)|0,Lt=Lt+Math.imul(Er,Yr)|0,Lt=Lt+Math.imul(Or,Hr)|0,or=or+Math.imul(Or,Yr)|0,nr=nr+Math.imul(Fr,rn)|0,Lt=Lt+Math.imul(Fr,dn)|0,Lt=Lt+Math.imul(Tr,rn)|0,or=or+Math.imul(Tr,dn)|0,nr=nr+Math.imul(Mr,Ln)|0,Lt=Lt+Math.imul(Mr,Vn)|0,Lt=Lt+Math.imul($r,Ln)|0,or=or+Math.imul($r,Vn)|0,nr=nr+Math.imul(pr,pn)|0,Lt=Lt+Math.imul(pr,zn)|0,Lt=Lt+Math.imul(_r,pn)|0,or=or+Math.imul(_r,zn)|0;var Po=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Po>>>26)|0,Po&=67108863,nr=Math.imul(Ir,Zr),Lt=Math.imul(Ir,Cn),Lt=Lt+Math.imul(Ar,Zr)|0,or=Math.imul(Ar,Cn),nr=nr+Math.imul(sn,Hn)|0,Lt=Lt+Math.imul(sn,Kn)|0,Lt=Lt+Math.imul(Nn,Hn)|0,or=or+Math.imul(Nn,Kn)|0,nr=nr+Math.imul(nn,Jn)|0,Lt=Lt+Math.imul(nn,no)|0,Lt=Lt+Math.imul($n,Jn)|0,or=or+Math.imul($n,no)|0,nr=nr+Math.imul(zr,eo)|0,Lt=Lt+Math.imul(zr,io)|0,Lt=Lt+Math.imul(Qr,eo)|0,or=or+Math.imul(Qr,io)|0,nr=nr+Math.imul(Lr,_i)|0,Lt=Lt+Math.imul(Lr,ro)|0,Lt=Lt+Math.imul(Br,_i)|0,or=or+Math.imul(Br,ro)|0,nr=nr+Math.imul(qr,Hr)|0,Lt=Lt+Math.imul(qr,Yr)|0,Lt=Lt+Math.imul(Vr,Hr)|0,or=or+Math.imul(Vr,Yr)|0,nr=nr+Math.imul(Er,rn)|0,Lt=Lt+Math.imul(Er,dn)|0,Lt=Lt+Math.imul(Or,rn)|0,or=or+Math.imul(Or,dn)|0,nr=nr+Math.imul(Fr,Ln)|0,Lt=Lt+Math.imul(Fr,Vn)|0,Lt=Lt+Math.imul(Tr,Ln)|0,or=or+Math.imul(Tr,Vn)|0,nr=nr+Math.imul(Mr,pn)|0,Lt=Lt+Math.imul(Mr,zn)|0,Lt=Lt+Math.imul($r,pn)|0,or=or+Math.imul($r,zn)|0;var Wo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,nr=Math.imul(Ir,Hn),Lt=Math.imul(Ir,Kn),Lt=Lt+Math.imul(Ar,Hn)|0,or=Math.imul(Ar,Kn),nr=nr+Math.imul(sn,Jn)|0,Lt=Lt+Math.imul(sn,no)|0,Lt=Lt+Math.imul(Nn,Jn)|0,or=or+Math.imul(Nn,no)|0,nr=nr+Math.imul(nn,eo)|0,Lt=Lt+Math.imul(nn,io)|0,Lt=Lt+Math.imul($n,eo)|0,or=or+Math.imul($n,io)|0,nr=nr+Math.imul(zr,_i)|0,Lt=Lt+Math.imul(zr,ro)|0,Lt=Lt+Math.imul(Qr,_i)|0,or=or+Math.imul(Qr,ro)|0,nr=nr+Math.imul(Lr,Hr)|0,Lt=Lt+Math.imul(Lr,Yr)|0,Lt=Lt+Math.imul(Br,Hr)|0,or=or+Math.imul(Br,Yr)|0,nr=nr+Math.imul(qr,rn)|0,Lt=Lt+Math.imul(qr,dn)|0,Lt=Lt+Math.imul(Vr,rn)|0,or=or+Math.imul(Vr,dn)|0,nr=nr+Math.imul(Er,Ln)|0,Lt=Lt+Math.imul(Er,Vn)|0,Lt=Lt+Math.imul(Or,Ln)|0,or=or+Math.imul(Or,Vn)|0,nr=nr+Math.imul(Fr,pn)|0,Lt=Lt+Math.imul(Fr,zn)|0,Lt=Lt+Math.imul(Tr,pn)|0,or=or+Math.imul(Tr,zn)|0;var Fo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,nr=Math.imul(Ir,Jn),Lt=Math.imul(Ir,no),Lt=Lt+Math.imul(Ar,Jn)|0,or=Math.imul(Ar,no),nr=nr+Math.imul(sn,eo)|0,Lt=Lt+Math.imul(sn,io)|0,Lt=Lt+Math.imul(Nn,eo)|0,or=or+Math.imul(Nn,io)|0,nr=nr+Math.imul(nn,_i)|0,Lt=Lt+Math.imul(nn,ro)|0,Lt=Lt+Math.imul($n,_i)|0,or=or+Math.imul($n,ro)|0,nr=nr+Math.imul(zr,Hr)|0,Lt=Lt+Math.imul(zr,Yr)|0,Lt=Lt+Math.imul(Qr,Hr)|0,or=or+Math.imul(Qr,Yr)|0,nr=nr+Math.imul(Lr,rn)|0,Lt=Lt+Math.imul(Lr,dn)|0,Lt=Lt+Math.imul(Br,rn)|0,or=or+Math.imul(Br,dn)|0,nr=nr+Math.imul(qr,Ln)|0,Lt=Lt+Math.imul(qr,Vn)|0,Lt=Lt+Math.imul(Vr,Ln)|0,or=or+Math.imul(Vr,Vn)|0,nr=nr+Math.imul(Er,pn)|0,Lt=Lt+Math.imul(Er,zn)|0,Lt=Lt+Math.imul(Or,pn)|0,or=or+Math.imul(Or,zn)|0;var jo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(jo>>>26)|0,jo&=67108863,nr=Math.imul(Ir,eo),Lt=Math.imul(Ir,io),Lt=Lt+Math.imul(Ar,eo)|0,or=Math.imul(Ar,io),nr=nr+Math.imul(sn,_i)|0,Lt=Lt+Math.imul(sn,ro)|0,Lt=Lt+Math.imul(Nn,_i)|0,or=or+Math.imul(Nn,ro)|0,nr=nr+Math.imul(nn,Hr)|0,Lt=Lt+Math.imul(nn,Yr)|0,Lt=Lt+Math.imul($n,Hr)|0,or=or+Math.imul($n,Yr)|0,nr=nr+Math.imul(zr,rn)|0,Lt=Lt+Math.imul(zr,dn)|0,Lt=Lt+Math.imul(Qr,rn)|0,or=or+Math.imul(Qr,dn)|0,nr=nr+Math.imul(Lr,Ln)|0,Lt=Lt+Math.imul(Lr,Vn)|0,Lt=Lt+Math.imul(Br,Ln)|0,or=or+Math.imul(Br,Vn)|0,nr=nr+Math.imul(qr,pn)|0,Lt=Lt+Math.imul(qr,zn)|0,Lt=Lt+Math.imul(Vr,pn)|0,or=or+Math.imul(Vr,zn)|0;var Uo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,nr=Math.imul(Ir,_i),Lt=Math.imul(Ir,ro),Lt=Lt+Math.imul(Ar,_i)|0,or=Math.imul(Ar,ro),nr=nr+Math.imul(sn,Hr)|0,Lt=Lt+Math.imul(sn,Yr)|0,Lt=Lt+Math.imul(Nn,Hr)|0,or=or+Math.imul(Nn,Yr)|0,nr=nr+Math.imul(nn,rn)|0,Lt=Lt+Math.imul(nn,dn)|0,Lt=Lt+Math.imul($n,rn)|0,or=or+Math.imul($n,dn)|0,nr=nr+Math.imul(zr,Ln)|0,Lt=Lt+Math.imul(zr,Vn)|0,Lt=Lt+Math.imul(Qr,Ln)|0,or=or+Math.imul(Qr,Vn)|0,nr=nr+Math.imul(Lr,pn)|0,Lt=Lt+Math.imul(Lr,zn)|0,Lt=Lt+Math.imul(Br,pn)|0,or=or+Math.imul(Br,zn)|0;var Vo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,nr=Math.imul(Ir,Hr),Lt=Math.imul(Ir,Yr),Lt=Lt+Math.imul(Ar,Hr)|0,or=Math.imul(Ar,Yr),nr=nr+Math.imul(sn,rn)|0,Lt=Lt+Math.imul(sn,dn)|0,Lt=Lt+Math.imul(Nn,rn)|0,or=or+Math.imul(Nn,dn)|0,nr=nr+Math.imul(nn,Ln)|0,Lt=Lt+Math.imul(nn,Vn)|0,Lt=Lt+Math.imul($n,Ln)|0,or=or+Math.imul($n,Vn)|0,nr=nr+Math.imul(zr,pn)|0,Lt=Lt+Math.imul(zr,zn)|0,Lt=Lt+Math.imul(Qr,pn)|0,or=or+Math.imul(Qr,zn)|0;var $o=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+($o>>>26)|0,$o&=67108863,nr=Math.imul(Ir,rn),Lt=Math.imul(Ir,dn),Lt=Lt+Math.imul(Ar,rn)|0,or=Math.imul(Ar,dn),nr=nr+Math.imul(sn,Ln)|0,Lt=Lt+Math.imul(sn,Vn)|0,Lt=Lt+Math.imul(Nn,Ln)|0,or=or+Math.imul(Nn,Vn)|0,nr=nr+Math.imul(nn,pn)|0,Lt=Lt+Math.imul(nn,zn)|0,Lt=Lt+Math.imul($n,pn)|0,or=or+Math.imul($n,zn)|0;var ko=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(ko>>>26)|0,ko&=67108863,nr=Math.imul(Ir,Ln),Lt=Math.imul(Ir,Vn),Lt=Lt+Math.imul(Ar,Ln)|0,or=Math.imul(Ar,Vn),nr=nr+Math.imul(sn,pn)|0,Lt=Lt+Math.imul(sn,zn)|0,Lt=Lt+Math.imul(Nn,pn)|0,or=or+Math.imul(Nn,zn)|0;var Lo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,nr=Math.imul(Ir,pn),Lt=Math.imul(Ir,zn),Lt=Lt+Math.imul(Ar,pn)|0,or=Math.imul(Ar,zn);var Ho=(lr+nr|0)+((Lt&8191)<<13)|0;return lr=(or+(Lt>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ar[0]=go,ar[1]=co,ar[2]=Eo,ar[3]=To,ar[4]=Co,ar[5]=Mo,ar[6]=No,ar[7]=zo,ar[8]=Bo,ar[9]=Po,ar[10]=Wo,ar[11]=Fo,ar[12]=jo,ar[13]=Uo,ar[14]=Vo,ar[15]=$o,ar[16]=ko,ar[17]=Lo,ar[18]=Ho,lr!==0&&(ar[19]=lr,er.length++),er};Math.imul||(sr=ir);function ur(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative,Vt.length=cr.length+Nt.length;for(var er=0,Yt=0,rr=0;rr<Vt.length-1;rr++){var ar=Yt;Yt=0;for(var lr=er&67108863,nr=Math.min(rr,Nt.length-1),Lt=Math.max(0,rr-cr.length+1);Lt<=nr;Lt++){var or=rr-Lt,gr=cr.words[or]|0,pr=Nt.words[Lt]|0,_r=gr*pr,kr=_r&67108863;ar=ar+(_r/67108864|0)|0,kr=kr+lr|0,lr=kr&67108863,ar=ar+(kr>>>26)|0,Yt+=ar>>>26,ar&=67108863}Vt.words[rr]=lr,er=ar,ar=Yt}return er!==0?Vt.words[rr]=er:Vt.length--,Vt.strip()}function fr(cr,Nt,Vt){var er=new dr;return er.mulp(cr,Nt,Vt)}mt.prototype.mulTo=function(Nt,Vt){var er,Yt=this.length+Nt.length;return this.length===10&&Nt.length===10?er=sr(this,Nt,Vt):Yt<63?er=ir(this,Nt,Vt):Yt<1024?er=ur(this,Nt,Vt):er=fr(this,Nt,Vt),er};function dr(cr,Nt){this.x=cr,this.y=Nt}dr.prototype.makeRBT=function(Nt){for(var Vt=new Array(Nt),er=mt.prototype._countBits(Nt)-1,Yt=0;Yt<Nt;Yt++)Vt[Yt]=this.revBin(Yt,er,Nt);return Vt},dr.prototype.revBin=function(Nt,Vt,er){if(Nt===0||Nt===er-1)return Nt;for(var Yt=0,rr=0;rr<Vt;rr++)Yt|=(Nt&1)<<Vt-rr-1,Nt>>=1;return Yt},dr.prototype.permute=function(Nt,Vt,er,Yt,rr,ar){for(var lr=0;lr<ar;lr++)Yt[lr]=Vt[Nt[lr]],rr[lr]=er[Nt[lr]]},dr.prototype.transform=function(Nt,Vt,er,Yt,rr,ar){this.permute(ar,Nt,Vt,er,Yt,rr);for(var lr=1;lr<rr;lr<<=1)for(var nr=lr<<1,Lt=Math.cos(2*Math.PI/nr),or=Math.sin(2*Math.PI/nr),gr=0;gr<rr;gr+=nr)for(var pr=Lt,_r=or,kr=0;kr<lr;kr++){var Mr=er[gr+kr],$r=Yt[gr+kr],Pr=er[gr+kr+lr],Fr=Yt[gr+kr+lr],Tr=pr*Pr-_r*Fr;Fr=pr*Fr+_r*Pr,Pr=Tr,er[gr+kr]=Mr+Pr,Yt[gr+kr]=$r+Fr,er[gr+kr+lr]=Mr-Pr,Yt[gr+kr+lr]=$r-Fr,kr!==nr&&(Tr=Lt*pr-or*_r,_r=Lt*_r+or*pr,pr=Tr)}},dr.prototype.guessLen13b=function(Nt,Vt){var er=Math.max(Vt,Nt)|1,Yt=er&1,rr=0;for(er=er/2|0;er;er=er>>>1)rr++;return 1<<rr+1+Yt},dr.prototype.conjugate=function(Nt,Vt,er){if(!(er<=1))for(var Yt=0;Yt<er/2;Yt++){var rr=Nt[Yt];Nt[Yt]=Nt[er-Yt-1],Nt[er-Yt-1]=rr,rr=Vt[Yt],Vt[Yt]=-Vt[er-Yt-1],Vt[er-Yt-1]=-rr}},dr.prototype.normalize13b=function(Nt,Vt){for(var er=0,Yt=0;Yt<Vt/2;Yt++){var rr=Math.round(Nt[2*Yt+1]/Vt)*8192+Math.round(Nt[2*Yt]/Vt)+er;Nt[Yt]=rr&67108863,rr<67108864?er=0:er=rr/67108864|0}return Nt},dr.prototype.convert13b=function(Nt,Vt,er,Yt){for(var rr=0,ar=0;ar<Vt;ar++)rr=rr+(Nt[ar]|0),er[2*ar]=rr&8191,rr=rr>>>13,er[2*ar+1]=rr&8191,rr=rr>>>13;for(ar=2*Vt;ar<Yt;++ar)er[ar]=0;nt(rr===0),nt((rr&-8192)===0)},dr.prototype.stub=function(Nt){for(var Vt=new Array(Nt),er=0;er<Nt;er++)Vt[er]=0;return Vt},dr.prototype.mulp=function(Nt,Vt,er){var Yt=2*this.guessLen13b(Nt.length,Vt.length),rr=this.makeRBT(Yt),ar=this.stub(Yt),lr=new Array(Yt),nr=new Array(Yt),Lt=new Array(Yt),or=new Array(Yt),gr=new Array(Yt),pr=new Array(Yt),_r=er.words;_r.length=Yt,this.convert13b(Nt.words,Nt.length,lr,Yt),this.convert13b(Vt.words,Vt.length,or,Yt),this.transform(lr,ar,nr,Lt,Yt,rr),this.transform(or,ar,gr,pr,Yt,rr);for(var kr=0;kr<Yt;kr++){var Mr=nr[kr]*gr[kr]-Lt[kr]*pr[kr];Lt[kr]=nr[kr]*pr[kr]+Lt[kr]*gr[kr],nr[kr]=Mr}return this.conjugate(nr,Lt,Yt),this.transform(nr,Lt,_r,ar,Yt,rr),this.conjugate(_r,ar,Yt),this.normalize13b(_r,Yt),er.negative=Nt.negative^Vt.negative,er.length=Nt.length+Vt.length,er.strip()},mt.prototype.mul=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),this.mulTo(Nt,Vt)},mt.prototype.mulf=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),fr(this,Nt,Vt)},mt.prototype.imul=function(Nt){return this.clone().mulTo(Nt,this)},mt.prototype.imuln=function(Nt){nt(typeof Nt=="number"),nt(Nt<67108864);for(var Vt=0,er=0;er<this.length;er++){var Yt=(this.words[er]|0)*Nt,rr=(Yt&67108863)+(Vt&67108863);Vt>>=26,Vt+=Yt/67108864|0,Vt+=rr>>>26,this.words[er]=rr&67108863}return Vt!==0&&(this.words[er]=Vt,this.length++),this},mt.prototype.muln=function(Nt){return this.clone().imuln(Nt)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(Nt){var Vt=tr(Nt);if(Vt.length===0)return new mt(1);for(var er=this,Yt=0;Yt<Vt.length&&Vt[Yt]===0;Yt++,er=er.sqr());if(++Yt<Vt.length)for(var rr=er.sqr();Yt<Vt.length;Yt++,rr=rr.sqr())Vt[Yt]!==0&&(er=er.mul(rr));return er},mt.prototype.iushln=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=67108863>>>26-Vt<<26-Vt,rr;if(Vt!==0){var ar=0;for(rr=0;rr<this.length;rr++){var lr=this.words[rr]&Yt,nr=(this.words[rr]|0)-lr<<Vt;this.words[rr]=nr|ar,ar=lr>>>26-Vt}ar&&(this.words[rr]=ar,this.length++)}if(er!==0){for(rr=this.length-1;rr>=0;rr--)this.words[rr+er]=this.words[rr];for(rr=0;rr<er;rr++)this.words[rr]=0;this.length+=er}return this.strip()},mt.prototype.ishln=function(Nt){return nt(this.negative===0),this.iushln(Nt)},mt.prototype.iushrn=function(Nt,Vt,er){nt(typeof Nt=="number"&&Nt>=0);var Yt;Vt?Yt=(Vt-Vt%26)/26:Yt=0;var rr=Nt%26,ar=Math.min((Nt-rr)/26,this.length),lr=67108863^67108863>>>rr<<rr,nr=er;if(Yt-=ar,Yt=Math.max(0,Yt),nr){for(var Lt=0;Lt<ar;Lt++)nr.words[Lt]=this.words[Lt];nr.length=ar}if(ar!==0)if(this.length>ar)for(this.length-=ar,Lt=0;Lt<this.length;Lt++)this.words[Lt]=this.words[Lt+ar];else this.words[0]=0,this.length=1;var or=0;for(Lt=this.length-1;Lt>=0&&(or!==0||Lt>=Yt);Lt--){var gr=this.words[Lt]|0;this.words[Lt]=or<<26-rr|gr>>>rr,or=gr&lr}return nr&&or!==0&&(nr.words[nr.length++]=or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},mt.prototype.ishrn=function(Nt,Vt,er){return nt(this.negative===0),this.iushrn(Nt,Vt,er)},mt.prototype.shln=function(Nt){return this.clone().ishln(Nt)},mt.prototype.ushln=function(Nt){return this.clone().iushln(Nt)},mt.prototype.shrn=function(Nt){return this.clone().ishrn(Nt)},mt.prototype.ushrn=function(Nt){return this.clone().iushrn(Nt)},mt.prototype.testn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return!1;var rr=this.words[er];return!!(rr&Yt)},mt.prototype.imaskn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=er)return this;if(Vt!==0&&er++,this.length=Math.min(er,this.length),Vt!==0){var Yt=67108863^67108863>>>Vt<<Vt;this.words[this.length-1]&=Yt}return this.strip()},mt.prototype.maskn=function(Nt){return this.clone().imaskn(Nt)},mt.prototype.iaddn=function(Nt){return nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0?this.isubn(-Nt):this.negative!==0?this.length===1&&(this.words[0]|0)<Nt?(this.words[0]=Nt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Nt),this.negative=1,this):this._iaddn(Nt)},mt.prototype._iaddn=function(Nt){this.words[0]+=Nt;for(var Vt=0;Vt<this.length&&this.words[Vt]>=67108864;Vt++)this.words[Vt]-=67108864,Vt===this.length-1?this.words[Vt+1]=1:this.words[Vt+1]++;return this.length=Math.max(this.length,Vt+1),this},mt.prototype.isubn=function(Nt){if(nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0)return this.iaddn(-Nt);if(this.negative!==0)return this.negative=0,this.iaddn(Nt),this.negative=1,this;if(this.words[0]-=Nt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Vt=0;Vt<this.length&&this.words[Vt]<0;Vt++)this.words[Vt]+=67108864,this.words[Vt+1]-=1;return this.strip()},mt.prototype.addn=function(Nt){return this.clone().iaddn(Nt)},mt.prototype.subn=function(Nt){return this.clone().isubn(Nt)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(Nt,Vt,er){var Yt=Nt.length+er,rr;this._expand(Yt);var ar,lr=0;for(rr=0;rr<Nt.length;rr++){ar=(this.words[rr+er]|0)+lr;var nr=(Nt.words[rr]|0)*Vt;ar-=nr&67108863,lr=(ar>>26)-(nr/67108864|0),this.words[rr+er]=ar&67108863}for(;rr<this.length-er;rr++)ar=(this.words[rr+er]|0)+lr,lr=ar>>26,this.words[rr+er]=ar&67108863;if(lr===0)return this.strip();for(nt(lr===-1),lr=0,rr=0;rr<this.length;rr++)ar=-(this.words[rr]|0)+lr,lr=ar>>26,this.words[rr]=ar&67108863;return this.negative=1,this.strip()},mt.prototype._wordDiv=function(Nt,Vt){var er=this.length-Nt.length,Yt=this.clone(),rr=Nt,ar=rr.words[rr.length-1]|0,lr=this._countBits(ar);er=26-lr,er!==0&&(rr=rr.ushln(er),Yt.iushln(er),ar=rr.words[rr.length-1]|0);var nr=Yt.length-rr.length,Lt;if(Vt!=="mod"){Lt=new mt(null),Lt.length=nr+1,Lt.words=new Array(Lt.length);for(var or=0;or<Lt.length;or++)Lt.words[or]=0}var gr=Yt.clone()._ishlnsubmul(rr,1,nr);gr.negative===0&&(Yt=gr,Lt&&(Lt.words[nr]=1));for(var pr=nr-1;pr>=0;pr--){var _r=(Yt.words[rr.length+pr]|0)*67108864+(Yt.words[rr.length+pr-1]|0);for(_r=Math.min(_r/ar|0,67108863),Yt._ishlnsubmul(rr,_r,pr);Yt.negative!==0;)_r--,Yt.negative=0,Yt._ishlnsubmul(rr,1,pr),Yt.isZero()||(Yt.negative^=1);Lt&&(Lt.words[pr]=_r)}return Lt&&Lt.strip(),Yt.strip(),Vt!=="div"&&er!==0&&Yt.iushrn(er),{div:Lt||null,mod:Yt}},mt.prototype.divmod=function(Nt,Vt,er){if(nt(!Nt.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var Yt,rr,ar;return this.negative!==0&&Nt.negative===0?(ar=this.neg().divmod(Nt,Vt),Vt!=="mod"&&(Yt=ar.div.neg()),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.iadd(Nt)),{div:Yt,mod:rr}):this.negative===0&&Nt.negative!==0?(ar=this.divmod(Nt.neg(),Vt),Vt!=="mod"&&(Yt=ar.div.neg()),{div:Yt,mod:ar.mod}):this.negative&Nt.negative?(ar=this.neg().divmod(Nt.neg(),Vt),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.isub(Nt)),{div:ar.div,mod:rr}):Nt.length>this.length||this.cmp(Nt)<0?{div:new mt(0),mod:this}:Nt.length===1?Vt==="div"?{div:this.divn(Nt.words[0]),mod:null}:Vt==="mod"?{div:null,mod:new mt(this.modn(Nt.words[0]))}:{div:this.divn(Nt.words[0]),mod:new mt(this.modn(Nt.words[0]))}:this._wordDiv(Nt,Vt)},mt.prototype.div=function(Nt){return this.divmod(Nt,"div",!1).div},mt.prototype.mod=function(Nt){return this.divmod(Nt,"mod",!1).mod},mt.prototype.umod=function(Nt){return this.divmod(Nt,"mod",!0).mod},mt.prototype.divRound=function(Nt){var Vt=this.divmod(Nt);if(Vt.mod.isZero())return Vt.div;var er=Vt.div.negative!==0?Vt.mod.isub(Nt):Vt.mod,Yt=Nt.ushrn(1),rr=Nt.andln(1),ar=er.cmp(Yt);return ar<0||rr===1&&ar===0?Vt.div:Vt.div.negative!==0?Vt.div.isubn(1):Vt.div.iaddn(1)},mt.prototype.modn=function(Nt){nt(Nt<=67108863);for(var Vt=(1<<26)%Nt,er=0,Yt=this.length-1;Yt>=0;Yt--)er=(Vt*er+(this.words[Yt]|0))%Nt;return er},mt.prototype.idivn=function(Nt){nt(Nt<=67108863);for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=(this.words[er]|0)+Vt*67108864;this.words[er]=Yt/Nt|0,Vt=Yt%Nt}return this.strip()},mt.prototype.divn=function(Nt){return this.clone().idivn(Nt)},mt.prototype.egcd=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=new mt(0),lr=new mt(1),nr=0;Vt.isEven()&&er.isEven();)Vt.iushrn(1),er.iushrn(1),++nr;for(var Lt=er.clone(),or=Vt.clone();!Vt.isZero();){for(var gr=0,pr=1;!(Vt.words[0]&pr)&&gr<26;++gr,pr<<=1);if(gr>0)for(Vt.iushrn(gr);gr-- >0;)(Yt.isOdd()||rr.isOdd())&&(Yt.iadd(Lt),rr.isub(or)),Yt.iushrn(1),rr.iushrn(1);for(var _r=0,kr=1;!(er.words[0]&kr)&&_r<26;++_r,kr<<=1);if(_r>0)for(er.iushrn(_r);_r-- >0;)(ar.isOdd()||lr.isOdd())&&(ar.iadd(Lt),lr.isub(or)),ar.iushrn(1),lr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(ar),rr.isub(lr)):(er.isub(Vt),ar.isub(Yt),lr.isub(rr))}return{a:ar,b:lr,gcd:er.iushln(nr)}},mt.prototype._invmp=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=er.clone();Vt.cmpn(1)>0&&er.cmpn(1)>0;){for(var lr=0,nr=1;!(Vt.words[0]&nr)&&lr<26;++lr,nr<<=1);if(lr>0)for(Vt.iushrn(lr);lr-- >0;)Yt.isOdd()&&Yt.iadd(ar),Yt.iushrn(1);for(var Lt=0,or=1;!(er.words[0]&or)&&Lt<26;++Lt,or<<=1);if(Lt>0)for(er.iushrn(Lt);Lt-- >0;)rr.isOdd()&&rr.iadd(ar),rr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(rr)):(er.isub(Vt),rr.isub(Yt))}var gr;return Vt.cmpn(1)===0?gr=Yt:gr=rr,gr.cmpn(0)<0&&gr.iadd(Nt),gr},mt.prototype.gcd=function(Nt){if(this.isZero())return Nt.abs();if(Nt.isZero())return this.abs();var Vt=this.clone(),er=Nt.clone();Vt.negative=0,er.negative=0;for(var Yt=0;Vt.isEven()&&er.isEven();Yt++)Vt.iushrn(1),er.iushrn(1);do{for(;Vt.isEven();)Vt.iushrn(1);for(;er.isEven();)er.iushrn(1);var rr=Vt.cmp(er);if(rr<0){var ar=Vt;Vt=er,er=ar}else if(rr===0||er.cmpn(1)===0)break;Vt.isub(er)}while(!0);return er.iushln(Yt)},mt.prototype.invm=function(Nt){return this.egcd(Nt).a.umod(Nt)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(Nt){return this.words[0]&Nt},mt.prototype.bincn=function(Nt){nt(typeof Nt=="number");var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return this._expand(er+1),this.words[er]|=Yt,this;for(var rr=Yt,ar=er;rr!==0&&ar<this.length;ar++){var lr=this.words[ar]|0;lr+=rr,rr=lr>>>26,lr&=67108863,this.words[ar]=lr}return rr!==0&&(this.words[ar]=rr,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(Nt){var Vt=Nt<0;if(this.negative!==0&&!Vt)return-1;if(this.negative===0&&Vt)return 1;this.strip();var er;if(this.length>1)er=1;else{Vt&&(Nt=-Nt),nt(Nt<=67108863,"Number is too big");var Yt=this.words[0]|0;er=Yt===Nt?0:Yt<Nt?-1:1}return this.negative!==0?-er|0:er},mt.prototype.cmp=function(Nt){if(this.negative!==0&&Nt.negative===0)return-1;if(this.negative===0&&Nt.negative!==0)return 1;var Vt=this.ucmp(Nt);return this.negative!==0?-Vt|0:Vt},mt.prototype.ucmp=function(Nt){if(this.length>Nt.length)return 1;if(this.length<Nt.length)return-1;for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=this.words[er]|0,rr=Nt.words[er]|0;if(Yt!==rr){Yt<rr?Vt=-1:Yt>rr&&(Vt=1);break}}return Vt},mt.prototype.gtn=function(Nt){return this.cmpn(Nt)===1},mt.prototype.gt=function(Nt){return this.cmp(Nt)===1},mt.prototype.gten=function(Nt){return this.cmpn(Nt)>=0},mt.prototype.gte=function(Nt){return this.cmp(Nt)>=0},mt.prototype.ltn=function(Nt){return this.cmpn(Nt)===-1},mt.prototype.lt=function(Nt){return this.cmp(Nt)===-1},mt.prototype.lten=function(Nt){return this.cmpn(Nt)<=0},mt.prototype.lte=function(Nt){return this.cmp(Nt)<=0},mt.prototype.eqn=function(Nt){return this.cmpn(Nt)===0},mt.prototype.eq=function(Nt){return this.cmp(Nt)===0},mt.red=function(Nt){return new Sr(Nt)},mt.prototype.toRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),Nt.convertTo(this)._forceRed(Nt)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(Nt){return this.red=Nt,this},mt.prototype.forceRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(Nt)},mt.prototype.redAdd=function(Nt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,Nt)},mt.prototype.redIAdd=function(Nt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Nt)},mt.prototype.redSub=function(Nt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,Nt)},mt.prototype.redISub=function(Nt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,Nt)},mt.prototype.redShl=function(Nt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,Nt)},mt.prototype.redMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.mul(this,Nt)},mt.prototype.redIMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.imul(this,Nt)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(Nt){return nt(this.red&&!Nt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Nt)};var hr={k256:null,p224:null,p192:null,p25519:null};function vr(cr,Nt){this.name=cr,this.p=new mt(Nt,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vr.prototype._tmp=function(){var Nt=new mt(null);return Nt.words=new Array(Math.ceil(this.n/13)),Nt},vr.prototype.ireduce=function(Nt){var Vt=Nt,er;do this.split(Vt,this.tmp),Vt=this.imulK(Vt),Vt=Vt.iadd(this.tmp),er=Vt.bitLength();while(er>this.n);var Yt=er<this.n?-1:Vt.ucmp(this.p);return Yt===0?(Vt.words[0]=0,Vt.length=1):Yt>0?Vt.isub(this.p):Vt.strip!==void 0?Vt.strip():Vt._strip(),Vt},vr.prototype.split=function(Nt,Vt){Nt.iushrn(this.n,0,Vt)},vr.prototype.imulK=function(Nt){return Nt.imul(this.k)};function yr(){vr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(yr,vr),yr.prototype.split=function(Nt,Vt){for(var er=4194303,Yt=Math.min(Nt.length,9),rr=0;rr<Yt;rr++)Vt.words[rr]=Nt.words[rr];if(Vt.length=Yt,Nt.length<=9){Nt.words[0]=0,Nt.length=1;return}var ar=Nt.words[9];for(Vt.words[Vt.length++]=ar&er,rr=10;rr<Nt.length;rr++){var lr=Nt.words[rr]|0;Nt.words[rr-10]=(lr&er)<<4|ar>>>22,ar=lr}ar>>>=22,Nt.words[rr-10]=ar,ar===0&&Nt.length>10?Nt.length-=10:Nt.length-=9},yr.prototype.imulK=function(Nt){Nt.words[Nt.length]=0,Nt.words[Nt.length+1]=0,Nt.length+=2;for(var Vt=0,er=0;er<Nt.length;er++){var Yt=Nt.words[er]|0;Vt+=Yt*977,Nt.words[er]=Vt&67108863,Vt=Yt*64+(Vt/67108864|0)}return Nt.words[Nt.length-1]===0&&(Nt.length--,Nt.words[Nt.length-1]===0&&Nt.length--),Nt};function xr(){vr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(xr,vr);function br(){vr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(br,vr);function wr(){vr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(wr,vr),wr.prototype.imulK=function(Nt){for(var Vt=0,er=0;er<Nt.length;er++){var Yt=(Nt.words[er]|0)*19+Vt,rr=Yt&67108863;Yt>>>=26,Nt.words[er]=rr,Vt=Yt}return Vt!==0&&(Nt.words[Nt.length++]=Vt),Nt},mt._prime=function(Nt){if(hr[Nt])return hr[Nt];var Vt;if(Nt==="k256")Vt=new yr;else if(Nt==="p224")Vt=new xr;else if(Nt==="p192")Vt=new br;else if(Nt==="p25519")Vt=new wr;else throw new Error("Unknown prime "+Nt);return hr[Nt]=Vt,Vt};function Sr(cr){if(typeof cr=="string"){var Nt=mt._prime(cr);this.m=Nt.p,this.prime=Nt}else nt(cr.gtn(1),"modulus must be greater than 1"),this.m=cr,this.prime=null}Sr.prototype._verify1=function(Nt){nt(Nt.negative===0,"red works only with positives"),nt(Nt.red,"red works only with red numbers")},Sr.prototype._verify2=function(Nt,Vt){nt((Nt.negative|Vt.negative)===0,"red works only with positives"),nt(Nt.red&&Nt.red===Vt.red,"red works only with red numbers")},Sr.prototype.imod=function(Nt){return this.prime?this.prime.ireduce(Nt)._forceRed(this):Nt.umod(this.m)._forceRed(this)},Sr.prototype.neg=function(Nt){return Nt.isZero()?Nt.clone():this.m.sub(Nt)._forceRed(this)},Sr.prototype.add=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.add(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er._forceRed(this)},Sr.prototype.iadd=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.iadd(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er},Sr.prototype.sub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.sub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er._forceRed(this)},Sr.prototype.isub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.isub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er},Sr.prototype.shl=function(Nt,Vt){return this._verify1(Nt),this.imod(Nt.ushln(Vt))},Sr.prototype.imul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.imul(Vt))},Sr.prototype.mul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.mul(Vt))},Sr.prototype.isqr=function(Nt){return this.imul(Nt,Nt.clone())},Sr.prototype.sqr=function(Nt){return this.mul(Nt,Nt)},Sr.prototype.sqrt=function(Nt){if(Nt.isZero())return Nt.clone();var Vt=this.m.andln(3);if(nt(Vt%2===1),Vt===3){var er=this.m.add(new mt(1)).iushrn(2);return this.pow(Nt,er)}for(var Yt=this.m.subn(1),rr=0;!Yt.isZero()&&Yt.andln(1)===0;)rr++,Yt.iushrn(1);nt(!Yt.isZero());var ar=new mt(1).toRed(this),lr=ar.redNeg(),nr=this.m.subn(1).iushrn(1),Lt=this.m.bitLength();for(Lt=new mt(2*Lt*Lt).toRed(this);this.pow(Lt,nr).cmp(lr)!==0;)Lt.redIAdd(lr);for(var or=this.pow(Lt,Yt),gr=this.pow(Nt,Yt.addn(1).iushrn(1)),pr=this.pow(Nt,Yt),_r=rr;pr.cmp(ar)!==0;){for(var kr=pr,Mr=0;kr.cmp(ar)!==0;Mr++)kr=kr.redSqr();nt(Mr<_r);var $r=this.pow(or,new mt(1).iushln(_r-Mr-1));gr=gr.redMul($r),or=$r.redSqr(),pr=pr.redMul(or),_r=Mr}return gr},Sr.prototype.invm=function(Nt){var Vt=Nt._invmp(this.m);return Vt.negative!==0?(Vt.negative=0,this.imod(Vt).redNeg()):this.imod(Vt)},Sr.prototype.pow=function(Nt,Vt){if(Vt.isZero())return new mt(1).toRed(this);if(Vt.cmpn(1)===0)return Nt.clone();var er=4,Yt=new Array(1<<er);Yt[0]=new mt(1).toRed(this),Yt[1]=Nt;for(var rr=2;rr<Yt.length;rr++)Yt[rr]=this.mul(Yt[rr-1],Nt);var ar=Yt[0],lr=0,nr=0,Lt=Vt.bitLength()%26;for(Lt===0&&(Lt=26),rr=Vt.length-1;rr>=0;rr--){for(var or=Vt.words[rr],gr=Lt-1;gr>=0;gr--){var pr=or>>gr&1;if(ar!==Yt[0]&&(ar=this.sqr(ar)),pr===0&&lr===0){nr=0;continue}lr<<=1,lr|=pr,nr++,!(nr!==er&&(rr!==0||gr!==0))&&(ar=this.mul(ar,Yt[lr]),nr=0,lr=0)}Lt=26}return ar},Sr.prototype.convertTo=function(Nt){var Vt=Nt.umod(this.m);return Vt===Nt?Vt.clone():Vt},Sr.prototype.convertFrom=function(Nt){var Vt=Nt.clone();return Vt.red=null,Vt},mt.mont=function(Nt){return new Cr(Nt)};function Cr(cr){Sr.call(this,cr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Cr,Sr),Cr.prototype.convertTo=function(Nt){return this.imod(Nt.ushln(this.shift))},Cr.prototype.convertFrom=function(Nt){var Vt=this.imod(Nt.mul(this.rinv));return Vt.red=null,Vt},Cr.prototype.imul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return Nt.words[0]=0,Nt.length=1,Nt;var er=Nt.imul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.mul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return new mt(0)._forceRed(this);var er=Nt.mul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.invm=function(Nt){var Vt=this.imod(Nt._invmp(this.m).mul(this.r2));return Vt._forceRed(this)}})(a,commonjsGlobal$1)}(bn$6)),bn$6.exports}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(a){(function(s,et){function nt(cr,Nt){if(!cr)throw new Error(Nt||"Assertion failed")}function at(cr,Nt){cr.super_=Nt;var Vt=function(){};Vt.prototype=Nt.prototype,cr.prototype=new Vt,cr.prototype.constructor=cr}function mt(cr,Nt,Vt){if(mt.isBN(cr))return cr;this.negative=0,this.words=null,this.length=0,this.red=null,cr!==null&&((Nt==="le"||Nt==="be")&&(Vt=Nt,Nt=10),this._init(cr||0,Nt||10,Vt||"be"))}typeof s=="object"?s.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$0$3.Buffer}catch{}mt.isBN=function(Nt){return Nt instanceof mt?!0:Nt!==null&&typeof Nt=="object"&&Nt.constructor.wordSize===mt.wordSize&&Array.isArray(Nt.words)},mt.max=function(Nt,Vt){return Nt.cmp(Vt)>0?Nt:Vt},mt.min=function(Nt,Vt){return Nt.cmp(Vt)<0?Nt:Vt},mt.prototype._init=function(Nt,Vt,er){if(typeof Nt=="number")return this._initNumber(Nt,Vt,er);if(typeof Nt=="object")return this._initArray(Nt,Vt,er);Vt==="hex"&&(Vt=16),nt(Vt===(Vt|0)&&Vt>=2&&Vt<=36),Nt=Nt.toString().replace(/\s+/g,"");var Yt=0;Nt[0]==="-"&&(Yt++,this.negative=1),Yt<Nt.length&&(Vt===16?this._parseHex(Nt,Yt,er):(this._parseBase(Nt,Vt,Yt),er==="le"&&this._initArray(this.toArray(),Vt,er)))},mt.prototype._initNumber=function(Nt,Vt,er){Nt<0&&(this.negative=1,Nt=-Nt),Nt<67108864?(this.words=[Nt&67108863],this.length=1):Nt<4503599627370496?(this.words=[Nt&67108863,Nt/67108864&67108863],this.length=2):(nt(Nt<9007199254740992),this.words=[Nt&67108863,Nt/67108864&67108863,1],this.length=3),er==="le"&&this._initArray(this.toArray(),Vt,er)},mt.prototype._initArray=function(Nt,Vt,er){if(nt(typeof Nt.length=="number"),Nt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Nt.length/3),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr,ar,lr=0;if(er==="be")for(Yt=Nt.length-1,rr=0;Yt>=0;Yt-=3)ar=Nt[Yt]|Nt[Yt-1]<<8|Nt[Yt-2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);else if(er==="le")for(Yt=0,rr=0;Yt<Nt.length;Yt+=3)ar=Nt[Yt]|Nt[Yt+1]<<8|Nt[Yt+2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);return this.strip()};function $t(cr,Nt){var Vt=cr.charCodeAt(Nt);return Vt>=65&&Vt<=70?Vt-55:Vt>=97&&Vt<=102?Vt-87:Vt-48&15}function Ct(cr,Nt,Vt){var er=$t(cr,Vt);return Vt-1>=Nt&&(er|=$t(cr,Vt-1)<<4),er}mt.prototype._parseHex=function(Nt,Vt,er){this.length=Math.ceil((Nt.length-Vt)/6),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr=0,ar=0,lr;if(er==="be")for(Yt=Nt.length-1;Yt>=Vt;Yt-=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8;else{var nr=Nt.length-Vt;for(Yt=nr%2===0?Vt+1:Vt;Yt<Nt.length;Yt+=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8}this.strip()};function Dt(cr,Nt,Vt,er){for(var Yt=0,rr=Math.min(cr.length,Vt),ar=Nt;ar<rr;ar++){var lr=cr.charCodeAt(ar)-48;Yt*=er,lr>=49?Yt+=lr-49+10:lr>=17?Yt+=lr-17+10:Yt+=lr}return Yt}mt.prototype._parseBase=function(Nt,Vt,er){this.words=[0],this.length=1;for(var Yt=0,rr=1;rr<=67108863;rr*=Vt)Yt++;Yt--,rr=rr/Vt|0;for(var ar=Nt.length-er,lr=ar%Yt,nr=Math.min(ar,ar-lr)+er,Lt=0,or=er;or<nr;or+=Yt)Lt=Dt(Nt,or,or+Yt,Vt),this.imuln(rr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt);if(lr!==0){var gr=1;for(Lt=Dt(Nt,or,Nt.length,Vt),or=0;or<lr;or++)gr*=Vt;this.imuln(gr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt)}this.strip()},mt.prototype.copy=function(Nt){Nt.words=new Array(this.length);for(var Vt=0;Vt<this.length;Vt++)Nt.words[Vt]=this.words[Vt];Nt.length=this.length,Nt.negative=this.negative,Nt.red=this.red},mt.prototype.clone=function(){var Nt=new mt(null);return this.copy(Nt),Nt},mt.prototype._expand=function(Nt){for(;this.length<Nt;)this.words[this.length++]=0;return this},mt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},mt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(Nt,Vt){Nt=Nt||10,Vt=Vt|0||1;var er;if(Nt===16||Nt==="hex"){er="";for(var Yt=0,rr=0,ar=0;ar<this.length;ar++){var lr=this.words[ar],nr=((lr<<Yt|rr)&16777215).toString(16);rr=lr>>>24-Yt&16777215,Yt+=2,Yt>=26&&(Yt-=26,ar--),rr!==0||ar!==this.length-1?er=Ft[6-nr.length]+nr+er:er=nr+er}for(rr!==0&&(er=rr.toString(16)+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}if(Nt===(Nt|0)&&Nt>=2&&Nt<=36){var Lt=jt[Nt],or=Ut[Nt];er="";var gr=this.clone();for(gr.negative=0;!gr.isZero();){var pr=gr.modn(or).toString(Nt);gr=gr.idivn(or),gr.isZero()?er=pr+er:er=Ft[Lt-pr.length]+pr+er}for(this.isZero()&&(er="0"+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var Nt=this.words[0];return this.length===2?Nt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Nt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Nt:Nt},mt.prototype.toJSON=function(){return this.toString(16)},mt.prototype.toBuffer=function(Nt,Vt){return nt(typeof wt<"u"),this.toArrayLike(wt,Nt,Vt)},mt.prototype.toArray=function(Nt,Vt){return this.toArrayLike(Array,Nt,Vt)},mt.prototype.toArrayLike=function(Nt,Vt,er){var Yt=this.byteLength(),rr=er||Math.max(1,Yt);nt(Yt<=rr,"byte array longer than desired length"),nt(rr>0,"Requested array length <= 0"),this.strip();var ar=Vt==="le",lr=new Nt(rr),nr,Lt,or=this.clone();if(ar){for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[Lt]=nr;for(;Lt<rr;Lt++)lr[Lt]=0}else{for(Lt=0;Lt<rr-Yt;Lt++)lr[Lt]=0;for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[rr-Lt-1]=nr}return lr},Math.clz32?mt.prototype._countBits=function(Nt){return 32-Math.clz32(Nt)}:mt.prototype._countBits=function(Nt){var Vt=Nt,er=0;return Vt>=4096&&(er+=13,Vt>>>=13),Vt>=64&&(er+=7,Vt>>>=7),Vt>=8&&(er+=4,Vt>>>=4),Vt>=2&&(er+=2,Vt>>>=2),er+Vt},mt.prototype._zeroBits=function(Nt){if(Nt===0)return 26;var Vt=Nt,er=0;return Vt&8191||(er+=13,Vt>>>=13),Vt&127||(er+=7,Vt>>>=7),Vt&15||(er+=4,Vt>>>=4),Vt&3||(er+=2,Vt>>>=2),Vt&1||er++,er},mt.prototype.bitLength=function(){var Nt=this.words[this.length-1],Vt=this._countBits(Nt);return(this.length-1)*26+Vt};function tr(cr){for(var Nt=new Array(cr.bitLength()),Vt=0;Vt<Nt.length;Vt++){var er=Vt/26|0,Yt=Vt%26;Nt[Vt]=(cr.words[er]&1<<Yt)>>>Yt}return Nt}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Nt=0,Vt=0;Vt<this.length;Vt++){var er=this._zeroBits(this.words[Vt]);if(Nt+=er,er!==26)break}return Nt},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(Nt){return this.negative!==0?this.abs().inotn(Nt).iaddn(1):this.clone()},mt.prototype.fromTwos=function(Nt){return this.testn(Nt-1)?this.notn(Nt).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(Nt){for(;this.length<Nt.length;)this.words[this.length++]=0;for(var Vt=0;Vt<Nt.length;Vt++)this.words[Vt]=this.words[Vt]|Nt.words[Vt];return this.strip()},mt.prototype.ior=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuor(Nt)},mt.prototype.or=function(Nt){return this.length>Nt.length?this.clone().ior(Nt):Nt.clone().ior(this)},mt.prototype.uor=function(Nt){return this.length>Nt.length?this.clone().iuor(Nt):Nt.clone().iuor(this)},mt.prototype.iuand=function(Nt){var Vt;this.length>Nt.length?Vt=Nt:Vt=this;for(var er=0;er<Vt.length;er++)this.words[er]=this.words[er]&Nt.words[er];return this.length=Vt.length,this.strip()},mt.prototype.iand=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuand(Nt)},mt.prototype.and=function(Nt){return this.length>Nt.length?this.clone().iand(Nt):Nt.clone().iand(this)},mt.prototype.uand=function(Nt){return this.length>Nt.length?this.clone().iuand(Nt):Nt.clone().iuand(this)},mt.prototype.iuxor=function(Nt){var Vt,er;this.length>Nt.length?(Vt=this,er=Nt):(Vt=Nt,er=this);for(var Yt=0;Yt<er.length;Yt++)this.words[Yt]=Vt.words[Yt]^er.words[Yt];if(this!==Vt)for(;Yt<Vt.length;Yt++)this.words[Yt]=Vt.words[Yt];return this.length=Vt.length,this.strip()},mt.prototype.ixor=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuxor(Nt)},mt.prototype.xor=function(Nt){return this.length>Nt.length?this.clone().ixor(Nt):Nt.clone().ixor(this)},mt.prototype.uxor=function(Nt){return this.length>Nt.length?this.clone().iuxor(Nt):Nt.clone().iuxor(this)},mt.prototype.inotn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Math.ceil(Nt/26)|0,er=Nt%26;this._expand(Vt),er>0&&Vt--;for(var Yt=0;Yt<Vt;Yt++)this.words[Yt]=~this.words[Yt]&67108863;return er>0&&(this.words[Yt]=~this.words[Yt]&67108863>>26-er),this.strip()},mt.prototype.notn=function(Nt){return this.clone().inotn(Nt)},mt.prototype.setn=function(Nt,Vt){nt(typeof Nt=="number"&&Nt>=0);var er=Nt/26|0,Yt=Nt%26;return this._expand(er+1),Vt?this.words[er]=this.words[er]|1<<Yt:this.words[er]=this.words[er]&~(1<<Yt),this.strip()},mt.prototype.iadd=function(Nt){var Vt;if(this.negative!==0&&Nt.negative===0)return this.negative=0,Vt=this.isub(Nt),this.negative^=1,this._normSign();if(this.negative===0&&Nt.negative!==0)return Nt.negative=0,Vt=this.isub(Nt),Nt.negative=1,Vt._normSign();var er,Yt;this.length>Nt.length?(er=this,Yt=Nt):(er=Nt,Yt=this);for(var rr=0,ar=0;ar<Yt.length;ar++)Vt=(er.words[ar]|0)+(Yt.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;for(;rr!==0&&ar<er.length;ar++)Vt=(er.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;if(this.length=er.length,rr!==0)this.words[this.length]=rr,this.length++;else if(er!==this)for(;ar<er.length;ar++)this.words[ar]=er.words[ar];return this},mt.prototype.add=function(Nt){var Vt;return Nt.negative!==0&&this.negative===0?(Nt.negative=0,Vt=this.sub(Nt),Nt.negative^=1,Vt):Nt.negative===0&&this.negative!==0?(this.negative=0,Vt=Nt.sub(this),this.negative=1,Vt):this.length>Nt.length?this.clone().iadd(Nt):Nt.clone().iadd(this)},mt.prototype.isub=function(Nt){if(Nt.negative!==0){Nt.negative=0;var Vt=this.iadd(Nt);return Nt.negative=1,Vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Nt),this.negative=1,this._normSign();var er=this.cmp(Nt);if(er===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yt,rr;er>0?(Yt=this,rr=Nt):(Yt=Nt,rr=this);for(var ar=0,lr=0;lr<rr.length;lr++)Vt=(Yt.words[lr]|0)-(rr.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;for(;ar!==0&&lr<Yt.length;lr++)Vt=(Yt.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;if(ar===0&&lr<Yt.length&&Yt!==this)for(;lr<Yt.length;lr++)this.words[lr]=Yt.words[lr];return this.length=Math.max(this.length,lr),Yt!==this&&(this.negative=1),this.strip()},mt.prototype.sub=function(Nt){return this.clone().isub(Nt)};function ir(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative;var er=cr.length+Nt.length|0;Vt.length=er,er=er-1|0;var Yt=cr.words[0]|0,rr=Nt.words[0]|0,ar=Yt*rr,lr=ar&67108863,nr=ar/67108864|0;Vt.words[0]=lr;for(var Lt=1;Lt<er;Lt++){for(var or=nr>>>26,gr=nr&67108863,pr=Math.min(Lt,Nt.length-1),_r=Math.max(0,Lt-cr.length+1);_r<=pr;_r++){var kr=Lt-_r|0;Yt=cr.words[kr]|0,rr=Nt.words[_r]|0,ar=Yt*rr+gr,or+=ar/67108864|0,gr=ar&67108863}Vt.words[Lt]=gr|0,nr=or|0}return nr!==0?Vt.words[Lt]=nr|0:Vt.length--,Vt.strip()}var sr=function(Nt,Vt,er){var Yt=Nt.words,rr=Vt.words,ar=er.words,lr=0,nr,Lt,or,gr=Yt[0]|0,pr=gr&8191,_r=gr>>>13,kr=Yt[1]|0,Mr=kr&8191,$r=kr>>>13,Pr=Yt[2]|0,Fr=Pr&8191,Tr=Pr>>>13,Rr=Yt[3]|0,Er=Rr&8191,Or=Rr>>>13,Wr=Yt[4]|0,qr=Wr&8191,Vr=Wr>>>13,Ur=Yt[5]|0,Lr=Ur&8191,Br=Ur>>>13,Xr=Yt[6]|0,zr=Xr&8191,Qr=Xr>>>13,Qn=Yt[7]|0,nn=Qn&8191,$n=Qn>>>13,lo=Yt[8]|0,sn=lo&8191,Nn=lo>>>13,xo=Yt[9]|0,Ir=xo&8191,Ar=xo>>>13,Dr=rr[0]|0,Nr=Dr&8191,Gr=Dr>>>13,Un=rr[1]|0,Zr=Un&8191,Cn=Un>>>13,wo=rr[2]|0,Hn=wo&8191,Kn=wo>>>13,bo=rr[3]|0,Jn=bo&8191,no=bo>>>13,Do=rr[4]|0,eo=Do&8191,io=Do>>>13,Io=rr[5]|0,_i=Io&8191,ro=Io>>>13,Oo=rr[6]|0,Hr=Oo&8191,Yr=Oo>>>13,Wn=rr[7]|0,rn=Wn&8191,dn=Wn>>>13,po=rr[8]|0,Ln=po&8191,Vn=po>>>13,uo=rr[9]|0,pn=uo&8191,zn=uo>>>13;er.negative=Nt.negative^Vt.negative,er.length=19,nr=Math.imul(pr,Nr),Lt=Math.imul(pr,Gr),Lt=Lt+Math.imul(_r,Nr)|0,or=Math.imul(_r,Gr);var go=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(go>>>26)|0,go&=67108863,nr=Math.imul(Mr,Nr),Lt=Math.imul(Mr,Gr),Lt=Lt+Math.imul($r,Nr)|0,or=Math.imul($r,Gr),nr=nr+Math.imul(pr,Zr)|0,Lt=Lt+Math.imul(pr,Cn)|0,Lt=Lt+Math.imul(_r,Zr)|0,or=or+Math.imul(_r,Cn)|0;var co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(co>>>26)|0,co&=67108863,nr=Math.imul(Fr,Nr),Lt=Math.imul(Fr,Gr),Lt=Lt+Math.imul(Tr,Nr)|0,or=Math.imul(Tr,Gr),nr=nr+Math.imul(Mr,Zr)|0,Lt=Lt+Math.imul(Mr,Cn)|0,Lt=Lt+Math.imul($r,Zr)|0,or=or+Math.imul($r,Cn)|0,nr=nr+Math.imul(pr,Hn)|0,Lt=Lt+Math.imul(pr,Kn)|0,Lt=Lt+Math.imul(_r,Hn)|0,or=or+Math.imul(_r,Kn)|0;var Eo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,nr=Math.imul(Er,Nr),Lt=Math.imul(Er,Gr),Lt=Lt+Math.imul(Or,Nr)|0,or=Math.imul(Or,Gr),nr=nr+Math.imul(Fr,Zr)|0,Lt=Lt+Math.imul(Fr,Cn)|0,Lt=Lt+Math.imul(Tr,Zr)|0,or=or+Math.imul(Tr,Cn)|0,nr=nr+Math.imul(Mr,Hn)|0,Lt=Lt+Math.imul(Mr,Kn)|0,Lt=Lt+Math.imul($r,Hn)|0,or=or+Math.imul($r,Kn)|0,nr=nr+Math.imul(pr,Jn)|0,Lt=Lt+Math.imul(pr,no)|0,Lt=Lt+Math.imul(_r,Jn)|0,or=or+Math.imul(_r,no)|0;var To=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(To>>>26)|0,To&=67108863,nr=Math.imul(qr,Nr),Lt=Math.imul(qr,Gr),Lt=Lt+Math.imul(Vr,Nr)|0,or=Math.imul(Vr,Gr),nr=nr+Math.imul(Er,Zr)|0,Lt=Lt+Math.imul(Er,Cn)|0,Lt=Lt+Math.imul(Or,Zr)|0,or=or+Math.imul(Or,Cn)|0,nr=nr+Math.imul(Fr,Hn)|0,Lt=Lt+Math.imul(Fr,Kn)|0,Lt=Lt+Math.imul(Tr,Hn)|0,or=or+Math.imul(Tr,Kn)|0,nr=nr+Math.imul(Mr,Jn)|0,Lt=Lt+Math.imul(Mr,no)|0,Lt=Lt+Math.imul($r,Jn)|0,or=or+Math.imul($r,no)|0,nr=nr+Math.imul(pr,eo)|0,Lt=Lt+Math.imul(pr,io)|0,Lt=Lt+Math.imul(_r,eo)|0,or=or+Math.imul(_r,io)|0;var Co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Co>>>26)|0,Co&=67108863,nr=Math.imul(Lr,Nr),Lt=Math.imul(Lr,Gr),Lt=Lt+Math.imul(Br,Nr)|0,or=Math.imul(Br,Gr),nr=nr+Math.imul(qr,Zr)|0,Lt=Lt+Math.imul(qr,Cn)|0,Lt=Lt+Math.imul(Vr,Zr)|0,or=or+Math.imul(Vr,Cn)|0,nr=nr+Math.imul(Er,Hn)|0,Lt=Lt+Math.imul(Er,Kn)|0,Lt=Lt+Math.imul(Or,Hn)|0,or=or+Math.imul(Or,Kn)|0,nr=nr+Math.imul(Fr,Jn)|0,Lt=Lt+Math.imul(Fr,no)|0,Lt=Lt+Math.imul(Tr,Jn)|0,or=or+Math.imul(Tr,no)|0,nr=nr+Math.imul(Mr,eo)|0,Lt=Lt+Math.imul(Mr,io)|0,Lt=Lt+Math.imul($r,eo)|0,or=or+Math.imul($r,io)|0,nr=nr+Math.imul(pr,_i)|0,Lt=Lt+Math.imul(pr,ro)|0,Lt=Lt+Math.imul(_r,_i)|0,or=or+Math.imul(_r,ro)|0;var Mo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,nr=Math.imul(zr,Nr),Lt=Math.imul(zr,Gr),Lt=Lt+Math.imul(Qr,Nr)|0,or=Math.imul(Qr,Gr),nr=nr+Math.imul(Lr,Zr)|0,Lt=Lt+Math.imul(Lr,Cn)|0,Lt=Lt+Math.imul(Br,Zr)|0,or=or+Math.imul(Br,Cn)|0,nr=nr+Math.imul(qr,Hn)|0,Lt=Lt+Math.imul(qr,Kn)|0,Lt=Lt+Math.imul(Vr,Hn)|0,or=or+Math.imul(Vr,Kn)|0,nr=nr+Math.imul(Er,Jn)|0,Lt=Lt+Math.imul(Er,no)|0,Lt=Lt+Math.imul(Or,Jn)|0,or=or+Math.imul(Or,no)|0,nr=nr+Math.imul(Fr,eo)|0,Lt=Lt+Math.imul(Fr,io)|0,Lt=Lt+Math.imul(Tr,eo)|0,or=or+Math.imul(Tr,io)|0,nr=nr+Math.imul(Mr,_i)|0,Lt=Lt+Math.imul(Mr,ro)|0,Lt=Lt+Math.imul($r,_i)|0,or=or+Math.imul($r,ro)|0,nr=nr+Math.imul(pr,Hr)|0,Lt=Lt+Math.imul(pr,Yr)|0,Lt=Lt+Math.imul(_r,Hr)|0,or=or+Math.imul(_r,Yr)|0;var No=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(No>>>26)|0,No&=67108863,nr=Math.imul(nn,Nr),Lt=Math.imul(nn,Gr),Lt=Lt+Math.imul($n,Nr)|0,or=Math.imul($n,Gr),nr=nr+Math.imul(zr,Zr)|0,Lt=Lt+Math.imul(zr,Cn)|0,Lt=Lt+Math.imul(Qr,Zr)|0,or=or+Math.imul(Qr,Cn)|0,nr=nr+Math.imul(Lr,Hn)|0,Lt=Lt+Math.imul(Lr,Kn)|0,Lt=Lt+Math.imul(Br,Hn)|0,or=or+Math.imul(Br,Kn)|0,nr=nr+Math.imul(qr,Jn)|0,Lt=Lt+Math.imul(qr,no)|0,Lt=Lt+Math.imul(Vr,Jn)|0,or=or+Math.imul(Vr,no)|0,nr=nr+Math.imul(Er,eo)|0,Lt=Lt+Math.imul(Er,io)|0,Lt=Lt+Math.imul(Or,eo)|0,or=or+Math.imul(Or,io)|0,nr=nr+Math.imul(Fr,_i)|0,Lt=Lt+Math.imul(Fr,ro)|0,Lt=Lt+Math.imul(Tr,_i)|0,or=or+Math.imul(Tr,ro)|0,nr=nr+Math.imul(Mr,Hr)|0,Lt=Lt+Math.imul(Mr,Yr)|0,Lt=Lt+Math.imul($r,Hr)|0,or=or+Math.imul($r,Yr)|0,nr=nr+Math.imul(pr,rn)|0,Lt=Lt+Math.imul(pr,dn)|0,Lt=Lt+Math.imul(_r,rn)|0,or=or+Math.imul(_r,dn)|0;var zo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(zo>>>26)|0,zo&=67108863,nr=Math.imul(sn,Nr),Lt=Math.imul(sn,Gr),Lt=Lt+Math.imul(Nn,Nr)|0,or=Math.imul(Nn,Gr),nr=nr+Math.imul(nn,Zr)|0,Lt=Lt+Math.imul(nn,Cn)|0,Lt=Lt+Math.imul($n,Zr)|0,or=or+Math.imul($n,Cn)|0,nr=nr+Math.imul(zr,Hn)|0,Lt=Lt+Math.imul(zr,Kn)|0,Lt=Lt+Math.imul(Qr,Hn)|0,or=or+Math.imul(Qr,Kn)|0,nr=nr+Math.imul(Lr,Jn)|0,Lt=Lt+Math.imul(Lr,no)|0,Lt=Lt+Math.imul(Br,Jn)|0,or=or+Math.imul(Br,no)|0,nr=nr+Math.imul(qr,eo)|0,Lt=Lt+Math.imul(qr,io)|0,Lt=Lt+Math.imul(Vr,eo)|0,or=or+Math.imul(Vr,io)|0,nr=nr+Math.imul(Er,_i)|0,Lt=Lt+Math.imul(Er,ro)|0,Lt=Lt+Math.imul(Or,_i)|0,or=or+Math.imul(Or,ro)|0,nr=nr+Math.imul(Fr,Hr)|0,Lt=Lt+Math.imul(Fr,Yr)|0,Lt=Lt+Math.imul(Tr,Hr)|0,or=or+Math.imul(Tr,Yr)|0,nr=nr+Math.imul(Mr,rn)|0,Lt=Lt+Math.imul(Mr,dn)|0,Lt=Lt+Math.imul($r,rn)|0,or=or+Math.imul($r,dn)|0,nr=nr+Math.imul(pr,Ln)|0,Lt=Lt+Math.imul(pr,Vn)|0,Lt=Lt+Math.imul(_r,Ln)|0,or=or+Math.imul(_r,Vn)|0;var Bo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,nr=Math.imul(Ir,Nr),Lt=Math.imul(Ir,Gr),Lt=Lt+Math.imul(Ar,Nr)|0,or=Math.imul(Ar,Gr),nr=nr+Math.imul(sn,Zr)|0,Lt=Lt+Math.imul(sn,Cn)|0,Lt=Lt+Math.imul(Nn,Zr)|0,or=or+Math.imul(Nn,Cn)|0,nr=nr+Math.imul(nn,Hn)|0,Lt=Lt+Math.imul(nn,Kn)|0,Lt=Lt+Math.imul($n,Hn)|0,or=or+Math.imul($n,Kn)|0,nr=nr+Math.imul(zr,Jn)|0,Lt=Lt+Math.imul(zr,no)|0,Lt=Lt+Math.imul(Qr,Jn)|0,or=or+Math.imul(Qr,no)|0,nr=nr+Math.imul(Lr,eo)|0,Lt=Lt+Math.imul(Lr,io)|0,Lt=Lt+Math.imul(Br,eo)|0,or=or+Math.imul(Br,io)|0,nr=nr+Math.imul(qr,_i)|0,Lt=Lt+Math.imul(qr,ro)|0,Lt=Lt+Math.imul(Vr,_i)|0,or=or+Math.imul(Vr,ro)|0,nr=nr+Math.imul(Er,Hr)|0,Lt=Lt+Math.imul(Er,Yr)|0,Lt=Lt+Math.imul(Or,Hr)|0,or=or+Math.imul(Or,Yr)|0,nr=nr+Math.imul(Fr,rn)|0,Lt=Lt+Math.imul(Fr,dn)|0,Lt=Lt+Math.imul(Tr,rn)|0,or=or+Math.imul(Tr,dn)|0,nr=nr+Math.imul(Mr,Ln)|0,Lt=Lt+Math.imul(Mr,Vn)|0,Lt=Lt+Math.imul($r,Ln)|0,or=or+Math.imul($r,Vn)|0,nr=nr+Math.imul(pr,pn)|0,Lt=Lt+Math.imul(pr,zn)|0,Lt=Lt+Math.imul(_r,pn)|0,or=or+Math.imul(_r,zn)|0;var Po=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Po>>>26)|0,Po&=67108863,nr=Math.imul(Ir,Zr),Lt=Math.imul(Ir,Cn),Lt=Lt+Math.imul(Ar,Zr)|0,or=Math.imul(Ar,Cn),nr=nr+Math.imul(sn,Hn)|0,Lt=Lt+Math.imul(sn,Kn)|0,Lt=Lt+Math.imul(Nn,Hn)|0,or=or+Math.imul(Nn,Kn)|0,nr=nr+Math.imul(nn,Jn)|0,Lt=Lt+Math.imul(nn,no)|0,Lt=Lt+Math.imul($n,Jn)|0,or=or+Math.imul($n,no)|0,nr=nr+Math.imul(zr,eo)|0,Lt=Lt+Math.imul(zr,io)|0,Lt=Lt+Math.imul(Qr,eo)|0,or=or+Math.imul(Qr,io)|0,nr=nr+Math.imul(Lr,_i)|0,Lt=Lt+Math.imul(Lr,ro)|0,Lt=Lt+Math.imul(Br,_i)|0,or=or+Math.imul(Br,ro)|0,nr=nr+Math.imul(qr,Hr)|0,Lt=Lt+Math.imul(qr,Yr)|0,Lt=Lt+Math.imul(Vr,Hr)|0,or=or+Math.imul(Vr,Yr)|0,nr=nr+Math.imul(Er,rn)|0,Lt=Lt+Math.imul(Er,dn)|0,Lt=Lt+Math.imul(Or,rn)|0,or=or+Math.imul(Or,dn)|0,nr=nr+Math.imul(Fr,Ln)|0,Lt=Lt+Math.imul(Fr,Vn)|0,Lt=Lt+Math.imul(Tr,Ln)|0,or=or+Math.imul(Tr,Vn)|0,nr=nr+Math.imul(Mr,pn)|0,Lt=Lt+Math.imul(Mr,zn)|0,Lt=Lt+Math.imul($r,pn)|0,or=or+Math.imul($r,zn)|0;var Wo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,nr=Math.imul(Ir,Hn),Lt=Math.imul(Ir,Kn),Lt=Lt+Math.imul(Ar,Hn)|0,or=Math.imul(Ar,Kn),nr=nr+Math.imul(sn,Jn)|0,Lt=Lt+Math.imul(sn,no)|0,Lt=Lt+Math.imul(Nn,Jn)|0,or=or+Math.imul(Nn,no)|0,nr=nr+Math.imul(nn,eo)|0,Lt=Lt+Math.imul(nn,io)|0,Lt=Lt+Math.imul($n,eo)|0,or=or+Math.imul($n,io)|0,nr=nr+Math.imul(zr,_i)|0,Lt=Lt+Math.imul(zr,ro)|0,Lt=Lt+Math.imul(Qr,_i)|0,or=or+Math.imul(Qr,ro)|0,nr=nr+Math.imul(Lr,Hr)|0,Lt=Lt+Math.imul(Lr,Yr)|0,Lt=Lt+Math.imul(Br,Hr)|0,or=or+Math.imul(Br,Yr)|0,nr=nr+Math.imul(qr,rn)|0,Lt=Lt+Math.imul(qr,dn)|0,Lt=Lt+Math.imul(Vr,rn)|0,or=or+Math.imul(Vr,dn)|0,nr=nr+Math.imul(Er,Ln)|0,Lt=Lt+Math.imul(Er,Vn)|0,Lt=Lt+Math.imul(Or,Ln)|0,or=or+Math.imul(Or,Vn)|0,nr=nr+Math.imul(Fr,pn)|0,Lt=Lt+Math.imul(Fr,zn)|0,Lt=Lt+Math.imul(Tr,pn)|0,or=or+Math.imul(Tr,zn)|0;var Fo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,nr=Math.imul(Ir,Jn),Lt=Math.imul(Ir,no),Lt=Lt+Math.imul(Ar,Jn)|0,or=Math.imul(Ar,no),nr=nr+Math.imul(sn,eo)|0,Lt=Lt+Math.imul(sn,io)|0,Lt=Lt+Math.imul(Nn,eo)|0,or=or+Math.imul(Nn,io)|0,nr=nr+Math.imul(nn,_i)|0,Lt=Lt+Math.imul(nn,ro)|0,Lt=Lt+Math.imul($n,_i)|0,or=or+Math.imul($n,ro)|0,nr=nr+Math.imul(zr,Hr)|0,Lt=Lt+Math.imul(zr,Yr)|0,Lt=Lt+Math.imul(Qr,Hr)|0,or=or+Math.imul(Qr,Yr)|0,nr=nr+Math.imul(Lr,rn)|0,Lt=Lt+Math.imul(Lr,dn)|0,Lt=Lt+Math.imul(Br,rn)|0,or=or+Math.imul(Br,dn)|0,nr=nr+Math.imul(qr,Ln)|0,Lt=Lt+Math.imul(qr,Vn)|0,Lt=Lt+Math.imul(Vr,Ln)|0,or=or+Math.imul(Vr,Vn)|0,nr=nr+Math.imul(Er,pn)|0,Lt=Lt+Math.imul(Er,zn)|0,Lt=Lt+Math.imul(Or,pn)|0,or=or+Math.imul(Or,zn)|0;var jo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(jo>>>26)|0,jo&=67108863,nr=Math.imul(Ir,eo),Lt=Math.imul(Ir,io),Lt=Lt+Math.imul(Ar,eo)|0,or=Math.imul(Ar,io),nr=nr+Math.imul(sn,_i)|0,Lt=Lt+Math.imul(sn,ro)|0,Lt=Lt+Math.imul(Nn,_i)|0,or=or+Math.imul(Nn,ro)|0,nr=nr+Math.imul(nn,Hr)|0,Lt=Lt+Math.imul(nn,Yr)|0,Lt=Lt+Math.imul($n,Hr)|0,or=or+Math.imul($n,Yr)|0,nr=nr+Math.imul(zr,rn)|0,Lt=Lt+Math.imul(zr,dn)|0,Lt=Lt+Math.imul(Qr,rn)|0,or=or+Math.imul(Qr,dn)|0,nr=nr+Math.imul(Lr,Ln)|0,Lt=Lt+Math.imul(Lr,Vn)|0,Lt=Lt+Math.imul(Br,Ln)|0,or=or+Math.imul(Br,Vn)|0,nr=nr+Math.imul(qr,pn)|0,Lt=Lt+Math.imul(qr,zn)|0,Lt=Lt+Math.imul(Vr,pn)|0,or=or+Math.imul(Vr,zn)|0;var Uo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,nr=Math.imul(Ir,_i),Lt=Math.imul(Ir,ro),Lt=Lt+Math.imul(Ar,_i)|0,or=Math.imul(Ar,ro),nr=nr+Math.imul(sn,Hr)|0,Lt=Lt+Math.imul(sn,Yr)|0,Lt=Lt+Math.imul(Nn,Hr)|0,or=or+Math.imul(Nn,Yr)|0,nr=nr+Math.imul(nn,rn)|0,Lt=Lt+Math.imul(nn,dn)|0,Lt=Lt+Math.imul($n,rn)|0,or=or+Math.imul($n,dn)|0,nr=nr+Math.imul(zr,Ln)|0,Lt=Lt+Math.imul(zr,Vn)|0,Lt=Lt+Math.imul(Qr,Ln)|0,or=or+Math.imul(Qr,Vn)|0,nr=nr+Math.imul(Lr,pn)|0,Lt=Lt+Math.imul(Lr,zn)|0,Lt=Lt+Math.imul(Br,pn)|0,or=or+Math.imul(Br,zn)|0;var Vo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,nr=Math.imul(Ir,Hr),Lt=Math.imul(Ir,Yr),Lt=Lt+Math.imul(Ar,Hr)|0,or=Math.imul(Ar,Yr),nr=nr+Math.imul(sn,rn)|0,Lt=Lt+Math.imul(sn,dn)|0,Lt=Lt+Math.imul(Nn,rn)|0,or=or+Math.imul(Nn,dn)|0,nr=nr+Math.imul(nn,Ln)|0,Lt=Lt+Math.imul(nn,Vn)|0,Lt=Lt+Math.imul($n,Ln)|0,or=or+Math.imul($n,Vn)|0,nr=nr+Math.imul(zr,pn)|0,Lt=Lt+Math.imul(zr,zn)|0,Lt=Lt+Math.imul(Qr,pn)|0,or=or+Math.imul(Qr,zn)|0;var $o=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+($o>>>26)|0,$o&=67108863,nr=Math.imul(Ir,rn),Lt=Math.imul(Ir,dn),Lt=Lt+Math.imul(Ar,rn)|0,or=Math.imul(Ar,dn),nr=nr+Math.imul(sn,Ln)|0,Lt=Lt+Math.imul(sn,Vn)|0,Lt=Lt+Math.imul(Nn,Ln)|0,or=or+Math.imul(Nn,Vn)|0,nr=nr+Math.imul(nn,pn)|0,Lt=Lt+Math.imul(nn,zn)|0,Lt=Lt+Math.imul($n,pn)|0,or=or+Math.imul($n,zn)|0;var ko=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(ko>>>26)|0,ko&=67108863,nr=Math.imul(Ir,Ln),Lt=Math.imul(Ir,Vn),Lt=Lt+Math.imul(Ar,Ln)|0,or=Math.imul(Ar,Vn),nr=nr+Math.imul(sn,pn)|0,Lt=Lt+Math.imul(sn,zn)|0,Lt=Lt+Math.imul(Nn,pn)|0,or=or+Math.imul(Nn,zn)|0;var Lo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,nr=Math.imul(Ir,pn),Lt=Math.imul(Ir,zn),Lt=Lt+Math.imul(Ar,pn)|0,or=Math.imul(Ar,zn);var Ho=(lr+nr|0)+((Lt&8191)<<13)|0;return lr=(or+(Lt>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ar[0]=go,ar[1]=co,ar[2]=Eo,ar[3]=To,ar[4]=Co,ar[5]=Mo,ar[6]=No,ar[7]=zo,ar[8]=Bo,ar[9]=Po,ar[10]=Wo,ar[11]=Fo,ar[12]=jo,ar[13]=Uo,ar[14]=Vo,ar[15]=$o,ar[16]=ko,ar[17]=Lo,ar[18]=Ho,lr!==0&&(ar[19]=lr,er.length++),er};Math.imul||(sr=ir);function ur(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative,Vt.length=cr.length+Nt.length;for(var er=0,Yt=0,rr=0;rr<Vt.length-1;rr++){var ar=Yt;Yt=0;for(var lr=er&67108863,nr=Math.min(rr,Nt.length-1),Lt=Math.max(0,rr-cr.length+1);Lt<=nr;Lt++){var or=rr-Lt,gr=cr.words[or]|0,pr=Nt.words[Lt]|0,_r=gr*pr,kr=_r&67108863;ar=ar+(_r/67108864|0)|0,kr=kr+lr|0,lr=kr&67108863,ar=ar+(kr>>>26)|0,Yt+=ar>>>26,ar&=67108863}Vt.words[rr]=lr,er=ar,ar=Yt}return er!==0?Vt.words[rr]=er:Vt.length--,Vt.strip()}function fr(cr,Nt,Vt){var er=new dr;return er.mulp(cr,Nt,Vt)}mt.prototype.mulTo=function(Nt,Vt){var er,Yt=this.length+Nt.length;return this.length===10&&Nt.length===10?er=sr(this,Nt,Vt):Yt<63?er=ir(this,Nt,Vt):Yt<1024?er=ur(this,Nt,Vt):er=fr(this,Nt,Vt),er};function dr(cr,Nt){this.x=cr,this.y=Nt}dr.prototype.makeRBT=function(Nt){for(var Vt=new Array(Nt),er=mt.prototype._countBits(Nt)-1,Yt=0;Yt<Nt;Yt++)Vt[Yt]=this.revBin(Yt,er,Nt);return Vt},dr.prototype.revBin=function(Nt,Vt,er){if(Nt===0||Nt===er-1)return Nt;for(var Yt=0,rr=0;rr<Vt;rr++)Yt|=(Nt&1)<<Vt-rr-1,Nt>>=1;return Yt},dr.prototype.permute=function(Nt,Vt,er,Yt,rr,ar){for(var lr=0;lr<ar;lr++)Yt[lr]=Vt[Nt[lr]],rr[lr]=er[Nt[lr]]},dr.prototype.transform=function(Nt,Vt,er,Yt,rr,ar){this.permute(ar,Nt,Vt,er,Yt,rr);for(var lr=1;lr<rr;lr<<=1)for(var nr=lr<<1,Lt=Math.cos(2*Math.PI/nr),or=Math.sin(2*Math.PI/nr),gr=0;gr<rr;gr+=nr)for(var pr=Lt,_r=or,kr=0;kr<lr;kr++){var Mr=er[gr+kr],$r=Yt[gr+kr],Pr=er[gr+kr+lr],Fr=Yt[gr+kr+lr],Tr=pr*Pr-_r*Fr;Fr=pr*Fr+_r*Pr,Pr=Tr,er[gr+kr]=Mr+Pr,Yt[gr+kr]=$r+Fr,er[gr+kr+lr]=Mr-Pr,Yt[gr+kr+lr]=$r-Fr,kr!==nr&&(Tr=Lt*pr-or*_r,_r=Lt*_r+or*pr,pr=Tr)}},dr.prototype.guessLen13b=function(Nt,Vt){var er=Math.max(Vt,Nt)|1,Yt=er&1,rr=0;for(er=er/2|0;er;er=er>>>1)rr++;return 1<<rr+1+Yt},dr.prototype.conjugate=function(Nt,Vt,er){if(!(er<=1))for(var Yt=0;Yt<er/2;Yt++){var rr=Nt[Yt];Nt[Yt]=Nt[er-Yt-1],Nt[er-Yt-1]=rr,rr=Vt[Yt],Vt[Yt]=-Vt[er-Yt-1],Vt[er-Yt-1]=-rr}},dr.prototype.normalize13b=function(Nt,Vt){for(var er=0,Yt=0;Yt<Vt/2;Yt++){var rr=Math.round(Nt[2*Yt+1]/Vt)*8192+Math.round(Nt[2*Yt]/Vt)+er;Nt[Yt]=rr&67108863,rr<67108864?er=0:er=rr/67108864|0}return Nt},dr.prototype.convert13b=function(Nt,Vt,er,Yt){for(var rr=0,ar=0;ar<Vt;ar++)rr=rr+(Nt[ar]|0),er[2*ar]=rr&8191,rr=rr>>>13,er[2*ar+1]=rr&8191,rr=rr>>>13;for(ar=2*Vt;ar<Yt;++ar)er[ar]=0;nt(rr===0),nt((rr&-8192)===0)},dr.prototype.stub=function(Nt){for(var Vt=new Array(Nt),er=0;er<Nt;er++)Vt[er]=0;return Vt},dr.prototype.mulp=function(Nt,Vt,er){var Yt=2*this.guessLen13b(Nt.length,Vt.length),rr=this.makeRBT(Yt),ar=this.stub(Yt),lr=new Array(Yt),nr=new Array(Yt),Lt=new Array(Yt),or=new Array(Yt),gr=new Array(Yt),pr=new Array(Yt),_r=er.words;_r.length=Yt,this.convert13b(Nt.words,Nt.length,lr,Yt),this.convert13b(Vt.words,Vt.length,or,Yt),this.transform(lr,ar,nr,Lt,Yt,rr),this.transform(or,ar,gr,pr,Yt,rr);for(var kr=0;kr<Yt;kr++){var Mr=nr[kr]*gr[kr]-Lt[kr]*pr[kr];Lt[kr]=nr[kr]*pr[kr]+Lt[kr]*gr[kr],nr[kr]=Mr}return this.conjugate(nr,Lt,Yt),this.transform(nr,Lt,_r,ar,Yt,rr),this.conjugate(_r,ar,Yt),this.normalize13b(_r,Yt),er.negative=Nt.negative^Vt.negative,er.length=Nt.length+Vt.length,er.strip()},mt.prototype.mul=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),this.mulTo(Nt,Vt)},mt.prototype.mulf=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),fr(this,Nt,Vt)},mt.prototype.imul=function(Nt){return this.clone().mulTo(Nt,this)},mt.prototype.imuln=function(Nt){nt(typeof Nt=="number"),nt(Nt<67108864);for(var Vt=0,er=0;er<this.length;er++){var Yt=(this.words[er]|0)*Nt,rr=(Yt&67108863)+(Vt&67108863);Vt>>=26,Vt+=Yt/67108864|0,Vt+=rr>>>26,this.words[er]=rr&67108863}return Vt!==0&&(this.words[er]=Vt,this.length++),this},mt.prototype.muln=function(Nt){return this.clone().imuln(Nt)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(Nt){var Vt=tr(Nt);if(Vt.length===0)return new mt(1);for(var er=this,Yt=0;Yt<Vt.length&&Vt[Yt]===0;Yt++,er=er.sqr());if(++Yt<Vt.length)for(var rr=er.sqr();Yt<Vt.length;Yt++,rr=rr.sqr())Vt[Yt]!==0&&(er=er.mul(rr));return er},mt.prototype.iushln=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=67108863>>>26-Vt<<26-Vt,rr;if(Vt!==0){var ar=0;for(rr=0;rr<this.length;rr++){var lr=this.words[rr]&Yt,nr=(this.words[rr]|0)-lr<<Vt;this.words[rr]=nr|ar,ar=lr>>>26-Vt}ar&&(this.words[rr]=ar,this.length++)}if(er!==0){for(rr=this.length-1;rr>=0;rr--)this.words[rr+er]=this.words[rr];for(rr=0;rr<er;rr++)this.words[rr]=0;this.length+=er}return this.strip()},mt.prototype.ishln=function(Nt){return nt(this.negative===0),this.iushln(Nt)},mt.prototype.iushrn=function(Nt,Vt,er){nt(typeof Nt=="number"&&Nt>=0);var Yt;Vt?Yt=(Vt-Vt%26)/26:Yt=0;var rr=Nt%26,ar=Math.min((Nt-rr)/26,this.length),lr=67108863^67108863>>>rr<<rr,nr=er;if(Yt-=ar,Yt=Math.max(0,Yt),nr){for(var Lt=0;Lt<ar;Lt++)nr.words[Lt]=this.words[Lt];nr.length=ar}if(ar!==0)if(this.length>ar)for(this.length-=ar,Lt=0;Lt<this.length;Lt++)this.words[Lt]=this.words[Lt+ar];else this.words[0]=0,this.length=1;var or=0;for(Lt=this.length-1;Lt>=0&&(or!==0||Lt>=Yt);Lt--){var gr=this.words[Lt]|0;this.words[Lt]=or<<26-rr|gr>>>rr,or=gr&lr}return nr&&or!==0&&(nr.words[nr.length++]=or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},mt.prototype.ishrn=function(Nt,Vt,er){return nt(this.negative===0),this.iushrn(Nt,Vt,er)},mt.prototype.shln=function(Nt){return this.clone().ishln(Nt)},mt.prototype.ushln=function(Nt){return this.clone().iushln(Nt)},mt.prototype.shrn=function(Nt){return this.clone().ishrn(Nt)},mt.prototype.ushrn=function(Nt){return this.clone().iushrn(Nt)},mt.prototype.testn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return!1;var rr=this.words[er];return!!(rr&Yt)},mt.prototype.imaskn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=er)return this;if(Vt!==0&&er++,this.length=Math.min(er,this.length),Vt!==0){var Yt=67108863^67108863>>>Vt<<Vt;this.words[this.length-1]&=Yt}return this.strip()},mt.prototype.maskn=function(Nt){return this.clone().imaskn(Nt)},mt.prototype.iaddn=function(Nt){return nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0?this.isubn(-Nt):this.negative!==0?this.length===1&&(this.words[0]|0)<Nt?(this.words[0]=Nt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Nt),this.negative=1,this):this._iaddn(Nt)},mt.prototype._iaddn=function(Nt){this.words[0]+=Nt;for(var Vt=0;Vt<this.length&&this.words[Vt]>=67108864;Vt++)this.words[Vt]-=67108864,Vt===this.length-1?this.words[Vt+1]=1:this.words[Vt+1]++;return this.length=Math.max(this.length,Vt+1),this},mt.prototype.isubn=function(Nt){if(nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0)return this.iaddn(-Nt);if(this.negative!==0)return this.negative=0,this.iaddn(Nt),this.negative=1,this;if(this.words[0]-=Nt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Vt=0;Vt<this.length&&this.words[Vt]<0;Vt++)this.words[Vt]+=67108864,this.words[Vt+1]-=1;return this.strip()},mt.prototype.addn=function(Nt){return this.clone().iaddn(Nt)},mt.prototype.subn=function(Nt){return this.clone().isubn(Nt)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(Nt,Vt,er){var Yt=Nt.length+er,rr;this._expand(Yt);var ar,lr=0;for(rr=0;rr<Nt.length;rr++){ar=(this.words[rr+er]|0)+lr;var nr=(Nt.words[rr]|0)*Vt;ar-=nr&67108863,lr=(ar>>26)-(nr/67108864|0),this.words[rr+er]=ar&67108863}for(;rr<this.length-er;rr++)ar=(this.words[rr+er]|0)+lr,lr=ar>>26,this.words[rr+er]=ar&67108863;if(lr===0)return this.strip();for(nt(lr===-1),lr=0,rr=0;rr<this.length;rr++)ar=-(this.words[rr]|0)+lr,lr=ar>>26,this.words[rr]=ar&67108863;return this.negative=1,this.strip()},mt.prototype._wordDiv=function(Nt,Vt){var er=this.length-Nt.length,Yt=this.clone(),rr=Nt,ar=rr.words[rr.length-1]|0,lr=this._countBits(ar);er=26-lr,er!==0&&(rr=rr.ushln(er),Yt.iushln(er),ar=rr.words[rr.length-1]|0);var nr=Yt.length-rr.length,Lt;if(Vt!=="mod"){Lt=new mt(null),Lt.length=nr+1,Lt.words=new Array(Lt.length);for(var or=0;or<Lt.length;or++)Lt.words[or]=0}var gr=Yt.clone()._ishlnsubmul(rr,1,nr);gr.negative===0&&(Yt=gr,Lt&&(Lt.words[nr]=1));for(var pr=nr-1;pr>=0;pr--){var _r=(Yt.words[rr.length+pr]|0)*67108864+(Yt.words[rr.length+pr-1]|0);for(_r=Math.min(_r/ar|0,67108863),Yt._ishlnsubmul(rr,_r,pr);Yt.negative!==0;)_r--,Yt.negative=0,Yt._ishlnsubmul(rr,1,pr),Yt.isZero()||(Yt.negative^=1);Lt&&(Lt.words[pr]=_r)}return Lt&&Lt.strip(),Yt.strip(),Vt!=="div"&&er!==0&&Yt.iushrn(er),{div:Lt||null,mod:Yt}},mt.prototype.divmod=function(Nt,Vt,er){if(nt(!Nt.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var Yt,rr,ar;return this.negative!==0&&Nt.negative===0?(ar=this.neg().divmod(Nt,Vt),Vt!=="mod"&&(Yt=ar.div.neg()),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.iadd(Nt)),{div:Yt,mod:rr}):this.negative===0&&Nt.negative!==0?(ar=this.divmod(Nt.neg(),Vt),Vt!=="mod"&&(Yt=ar.div.neg()),{div:Yt,mod:ar.mod}):this.negative&Nt.negative?(ar=this.neg().divmod(Nt.neg(),Vt),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.isub(Nt)),{div:ar.div,mod:rr}):Nt.length>this.length||this.cmp(Nt)<0?{div:new mt(0),mod:this}:Nt.length===1?Vt==="div"?{div:this.divn(Nt.words[0]),mod:null}:Vt==="mod"?{div:null,mod:new mt(this.modn(Nt.words[0]))}:{div:this.divn(Nt.words[0]),mod:new mt(this.modn(Nt.words[0]))}:this._wordDiv(Nt,Vt)},mt.prototype.div=function(Nt){return this.divmod(Nt,"div",!1).div},mt.prototype.mod=function(Nt){return this.divmod(Nt,"mod",!1).mod},mt.prototype.umod=function(Nt){return this.divmod(Nt,"mod",!0).mod},mt.prototype.divRound=function(Nt){var Vt=this.divmod(Nt);if(Vt.mod.isZero())return Vt.div;var er=Vt.div.negative!==0?Vt.mod.isub(Nt):Vt.mod,Yt=Nt.ushrn(1),rr=Nt.andln(1),ar=er.cmp(Yt);return ar<0||rr===1&&ar===0?Vt.div:Vt.div.negative!==0?Vt.div.isubn(1):Vt.div.iaddn(1)},mt.prototype.modn=function(Nt){nt(Nt<=67108863);for(var Vt=(1<<26)%Nt,er=0,Yt=this.length-1;Yt>=0;Yt--)er=(Vt*er+(this.words[Yt]|0))%Nt;return er},mt.prototype.idivn=function(Nt){nt(Nt<=67108863);for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=(this.words[er]|0)+Vt*67108864;this.words[er]=Yt/Nt|0,Vt=Yt%Nt}return this.strip()},mt.prototype.divn=function(Nt){return this.clone().idivn(Nt)},mt.prototype.egcd=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=new mt(0),lr=new mt(1),nr=0;Vt.isEven()&&er.isEven();)Vt.iushrn(1),er.iushrn(1),++nr;for(var Lt=er.clone(),or=Vt.clone();!Vt.isZero();){for(var gr=0,pr=1;!(Vt.words[0]&pr)&&gr<26;++gr,pr<<=1);if(gr>0)for(Vt.iushrn(gr);gr-- >0;)(Yt.isOdd()||rr.isOdd())&&(Yt.iadd(Lt),rr.isub(or)),Yt.iushrn(1),rr.iushrn(1);for(var _r=0,kr=1;!(er.words[0]&kr)&&_r<26;++_r,kr<<=1);if(_r>0)for(er.iushrn(_r);_r-- >0;)(ar.isOdd()||lr.isOdd())&&(ar.iadd(Lt),lr.isub(or)),ar.iushrn(1),lr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(ar),rr.isub(lr)):(er.isub(Vt),ar.isub(Yt),lr.isub(rr))}return{a:ar,b:lr,gcd:er.iushln(nr)}},mt.prototype._invmp=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=er.clone();Vt.cmpn(1)>0&&er.cmpn(1)>0;){for(var lr=0,nr=1;!(Vt.words[0]&nr)&&lr<26;++lr,nr<<=1);if(lr>0)for(Vt.iushrn(lr);lr-- >0;)Yt.isOdd()&&Yt.iadd(ar),Yt.iushrn(1);for(var Lt=0,or=1;!(er.words[0]&or)&&Lt<26;++Lt,or<<=1);if(Lt>0)for(er.iushrn(Lt);Lt-- >0;)rr.isOdd()&&rr.iadd(ar),rr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(rr)):(er.isub(Vt),rr.isub(Yt))}var gr;return Vt.cmpn(1)===0?gr=Yt:gr=rr,gr.cmpn(0)<0&&gr.iadd(Nt),gr},mt.prototype.gcd=function(Nt){if(this.isZero())return Nt.abs();if(Nt.isZero())return this.abs();var Vt=this.clone(),er=Nt.clone();Vt.negative=0,er.negative=0;for(var Yt=0;Vt.isEven()&&er.isEven();Yt++)Vt.iushrn(1),er.iushrn(1);do{for(;Vt.isEven();)Vt.iushrn(1);for(;er.isEven();)er.iushrn(1);var rr=Vt.cmp(er);if(rr<0){var ar=Vt;Vt=er,er=ar}else if(rr===0||er.cmpn(1)===0)break;Vt.isub(er)}while(!0);return er.iushln(Yt)},mt.prototype.invm=function(Nt){return this.egcd(Nt).a.umod(Nt)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(Nt){return this.words[0]&Nt},mt.prototype.bincn=function(Nt){nt(typeof Nt=="number");var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return this._expand(er+1),this.words[er]|=Yt,this;for(var rr=Yt,ar=er;rr!==0&&ar<this.length;ar++){var lr=this.words[ar]|0;lr+=rr,rr=lr>>>26,lr&=67108863,this.words[ar]=lr}return rr!==0&&(this.words[ar]=rr,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(Nt){var Vt=Nt<0;if(this.negative!==0&&!Vt)return-1;if(this.negative===0&&Vt)return 1;this.strip();var er;if(this.length>1)er=1;else{Vt&&(Nt=-Nt),nt(Nt<=67108863,"Number is too big");var Yt=this.words[0]|0;er=Yt===Nt?0:Yt<Nt?-1:1}return this.negative!==0?-er|0:er},mt.prototype.cmp=function(Nt){if(this.negative!==0&&Nt.negative===0)return-1;if(this.negative===0&&Nt.negative!==0)return 1;var Vt=this.ucmp(Nt);return this.negative!==0?-Vt|0:Vt},mt.prototype.ucmp=function(Nt){if(this.length>Nt.length)return 1;if(this.length<Nt.length)return-1;for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=this.words[er]|0,rr=Nt.words[er]|0;if(Yt!==rr){Yt<rr?Vt=-1:Yt>rr&&(Vt=1);break}}return Vt},mt.prototype.gtn=function(Nt){return this.cmpn(Nt)===1},mt.prototype.gt=function(Nt){return this.cmp(Nt)===1},mt.prototype.gten=function(Nt){return this.cmpn(Nt)>=0},mt.prototype.gte=function(Nt){return this.cmp(Nt)>=0},mt.prototype.ltn=function(Nt){return this.cmpn(Nt)===-1},mt.prototype.lt=function(Nt){return this.cmp(Nt)===-1},mt.prototype.lten=function(Nt){return this.cmpn(Nt)<=0},mt.prototype.lte=function(Nt){return this.cmp(Nt)<=0},mt.prototype.eqn=function(Nt){return this.cmpn(Nt)===0},mt.prototype.eq=function(Nt){return this.cmp(Nt)===0},mt.red=function(Nt){return new Sr(Nt)},mt.prototype.toRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),Nt.convertTo(this)._forceRed(Nt)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(Nt){return this.red=Nt,this},mt.prototype.forceRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(Nt)},mt.prototype.redAdd=function(Nt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,Nt)},mt.prototype.redIAdd=function(Nt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Nt)},mt.prototype.redSub=function(Nt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,Nt)},mt.prototype.redISub=function(Nt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,Nt)},mt.prototype.redShl=function(Nt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,Nt)},mt.prototype.redMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.mul(this,Nt)},mt.prototype.redIMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.imul(this,Nt)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(Nt){return nt(this.red&&!Nt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Nt)};var hr={k256:null,p224:null,p192:null,p25519:null};function vr(cr,Nt){this.name=cr,this.p=new mt(Nt,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vr.prototype._tmp=function(){var Nt=new mt(null);return Nt.words=new Array(Math.ceil(this.n/13)),Nt},vr.prototype.ireduce=function(Nt){var Vt=Nt,er;do this.split(Vt,this.tmp),Vt=this.imulK(Vt),Vt=Vt.iadd(this.tmp),er=Vt.bitLength();while(er>this.n);var Yt=er<this.n?-1:Vt.ucmp(this.p);return Yt===0?(Vt.words[0]=0,Vt.length=1):Yt>0?Vt.isub(this.p):Vt.strip!==void 0?Vt.strip():Vt._strip(),Vt},vr.prototype.split=function(Nt,Vt){Nt.iushrn(this.n,0,Vt)},vr.prototype.imulK=function(Nt){return Nt.imul(this.k)};function yr(){vr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(yr,vr),yr.prototype.split=function(Nt,Vt){for(var er=4194303,Yt=Math.min(Nt.length,9),rr=0;rr<Yt;rr++)Vt.words[rr]=Nt.words[rr];if(Vt.length=Yt,Nt.length<=9){Nt.words[0]=0,Nt.length=1;return}var ar=Nt.words[9];for(Vt.words[Vt.length++]=ar&er,rr=10;rr<Nt.length;rr++){var lr=Nt.words[rr]|0;Nt.words[rr-10]=(lr&er)<<4|ar>>>22,ar=lr}ar>>>=22,Nt.words[rr-10]=ar,ar===0&&Nt.length>10?Nt.length-=10:Nt.length-=9},yr.prototype.imulK=function(Nt){Nt.words[Nt.length]=0,Nt.words[Nt.length+1]=0,Nt.length+=2;for(var Vt=0,er=0;er<Nt.length;er++){var Yt=Nt.words[er]|0;Vt+=Yt*977,Nt.words[er]=Vt&67108863,Vt=Yt*64+(Vt/67108864|0)}return Nt.words[Nt.length-1]===0&&(Nt.length--,Nt.words[Nt.length-1]===0&&Nt.length--),Nt};function xr(){vr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(xr,vr);function br(){vr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(br,vr);function wr(){vr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(wr,vr),wr.prototype.imulK=function(Nt){for(var Vt=0,er=0;er<Nt.length;er++){var Yt=(Nt.words[er]|0)*19+Vt,rr=Yt&67108863;Yt>>>=26,Nt.words[er]=rr,Vt=Yt}return Vt!==0&&(Nt.words[Nt.length++]=Vt),Nt},mt._prime=function(Nt){if(hr[Nt])return hr[Nt];var Vt;if(Nt==="k256")Vt=new yr;else if(Nt==="p224")Vt=new xr;else if(Nt==="p192")Vt=new br;else if(Nt==="p25519")Vt=new wr;else throw new Error("Unknown prime "+Nt);return hr[Nt]=Vt,Vt};function Sr(cr){if(typeof cr=="string"){var Nt=mt._prime(cr);this.m=Nt.p,this.prime=Nt}else nt(cr.gtn(1),"modulus must be greater than 1"),this.m=cr,this.prime=null}Sr.prototype._verify1=function(Nt){nt(Nt.negative===0,"red works only with positives"),nt(Nt.red,"red works only with red numbers")},Sr.prototype._verify2=function(Nt,Vt){nt((Nt.negative|Vt.negative)===0,"red works only with positives"),nt(Nt.red&&Nt.red===Vt.red,"red works only with red numbers")},Sr.prototype.imod=function(Nt){return this.prime?this.prime.ireduce(Nt)._forceRed(this):Nt.umod(this.m)._forceRed(this)},Sr.prototype.neg=function(Nt){return Nt.isZero()?Nt.clone():this.m.sub(Nt)._forceRed(this)},Sr.prototype.add=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.add(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er._forceRed(this)},Sr.prototype.iadd=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.iadd(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er},Sr.prototype.sub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.sub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er._forceRed(this)},Sr.prototype.isub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.isub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er},Sr.prototype.shl=function(Nt,Vt){return this._verify1(Nt),this.imod(Nt.ushln(Vt))},Sr.prototype.imul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.imul(Vt))},Sr.prototype.mul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.mul(Vt))},Sr.prototype.isqr=function(Nt){return this.imul(Nt,Nt.clone())},Sr.prototype.sqr=function(Nt){return this.mul(Nt,Nt)},Sr.prototype.sqrt=function(Nt){if(Nt.isZero())return Nt.clone();var Vt=this.m.andln(3);if(nt(Vt%2===1),Vt===3){var er=this.m.add(new mt(1)).iushrn(2);return this.pow(Nt,er)}for(var Yt=this.m.subn(1),rr=0;!Yt.isZero()&&Yt.andln(1)===0;)rr++,Yt.iushrn(1);nt(!Yt.isZero());var ar=new mt(1).toRed(this),lr=ar.redNeg(),nr=this.m.subn(1).iushrn(1),Lt=this.m.bitLength();for(Lt=new mt(2*Lt*Lt).toRed(this);this.pow(Lt,nr).cmp(lr)!==0;)Lt.redIAdd(lr);for(var or=this.pow(Lt,Yt),gr=this.pow(Nt,Yt.addn(1).iushrn(1)),pr=this.pow(Nt,Yt),_r=rr;pr.cmp(ar)!==0;){for(var kr=pr,Mr=0;kr.cmp(ar)!==0;Mr++)kr=kr.redSqr();nt(Mr<_r);var $r=this.pow(or,new mt(1).iushln(_r-Mr-1));gr=gr.redMul($r),or=$r.redSqr(),pr=pr.redMul(or),_r=Mr}return gr},Sr.prototype.invm=function(Nt){var Vt=Nt._invmp(this.m);return Vt.negative!==0?(Vt.negative=0,this.imod(Vt).redNeg()):this.imod(Vt)},Sr.prototype.pow=function(Nt,Vt){if(Vt.isZero())return new mt(1).toRed(this);if(Vt.cmpn(1)===0)return Nt.clone();var er=4,Yt=new Array(1<<er);Yt[0]=new mt(1).toRed(this),Yt[1]=Nt;for(var rr=2;rr<Yt.length;rr++)Yt[rr]=this.mul(Yt[rr-1],Nt);var ar=Yt[0],lr=0,nr=0,Lt=Vt.bitLength()%26;for(Lt===0&&(Lt=26),rr=Vt.length-1;rr>=0;rr--){for(var or=Vt.words[rr],gr=Lt-1;gr>=0;gr--){var pr=or>>gr&1;if(ar!==Yt[0]&&(ar=this.sqr(ar)),pr===0&&lr===0){nr=0;continue}lr<<=1,lr|=pr,nr++,!(nr!==er&&(rr!==0||gr!==0))&&(ar=this.mul(ar,Yt[lr]),nr=0,lr=0)}Lt=26}return ar},Sr.prototype.convertTo=function(Nt){var Vt=Nt.umod(this.m);return Vt===Nt?Vt.clone():Vt},Sr.prototype.convertFrom=function(Nt){var Vt=Nt.clone();return Vt.red=null,Vt},mt.mont=function(Nt){return new Cr(Nt)};function Cr(cr){Sr.call(this,cr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Cr,Sr),Cr.prototype.convertTo=function(Nt){return this.imod(Nt.ushln(this.shift))},Cr.prototype.convertFrom=function(Nt){var Vt=this.imod(Nt.mul(this.rinv));return Vt.red=null,Vt},Cr.prototype.imul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return Nt.words[0]=0,Nt.length=1,Nt;var er=Nt.imul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.mul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return new mt(0)._forceRed(this);var er=Nt.mul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.invm=function(Nt){var Vt=this.imod(Nt._invmp(this.m).mul(this.r2));return Vt._forceRed(this)}})(a,commonjsGlobal$1)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var a;brorand.exports=function(at){return a||(a=new s(null)),a.generate(at)};function s(nt){this.rand=nt}if(brorand.exports.Rand=s,s.prototype.generate=function(at){return this._rand(at)},s.prototype._rand=function(at){if(this.rand.getBytes)return this.rand.getBytes(at);for(var mt=new Uint8Array(at),wt=0;wt<mt.length;wt++)mt[wt]=this.rand.getByte();return mt},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(at){var mt=new Uint8Array(at);return self.crypto.getRandomValues(mt),mt}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(at){var mt=new Uint8Array(at);return self.msCrypto.getRandomValues(mt),mt}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var et=requireCryptoBrowserify();if(typeof et.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(at){return et.randomBytes(at)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var a=requireBn$4(),s=requireBrorand();function et(nt){this.rand=nt||new s.Rand}return mr=et,et.create=function(at){return new et(at)},et.prototype._randbelow=function(at){var mt=at.bitLength(),wt=Math.ceil(mt/8);do var $t=new a(this.rand.generate(wt));while($t.cmp(at)>=0);return $t},et.prototype._randrange=function(at,mt){var wt=mt.sub(at);return at.add(this._randbelow(wt))},et.prototype.test=function(at,mt,wt){var $t=at.bitLength(),Ct=a.mont(at),Dt=new a(1).toRed(Ct);mt||(mt=Math.max(1,$t/48|0));for(var Ft=at.subn(1),jt=0;!Ft.testn(jt);jt++);for(var Ut=at.shrn(jt),tr=Ft.toRed(Ct),ir=!0;mt>0;mt--){var sr=this._randrange(new a(2),Ft);wt&&wt(sr);var ur=sr.toRed(Ct).redPow(Ut);if(!(ur.cmp(Dt)===0||ur.cmp(tr)===0)){for(var fr=1;fr<jt;fr++){if(ur=ur.redSqr(),ur.cmp(Dt)===0)return!1;if(ur.cmp(tr)===0)break}if(fr===jt)return!1}}return ir},et.prototype.getDivisor=function(at,mt){var wt=at.bitLength(),$t=a.mont(at),Ct=new a(1).toRed($t);mt||(mt=Math.max(1,wt/48|0));for(var Dt=at.subn(1),Ft=0;!Dt.testn(Ft);Ft++);for(var jt=at.shrn(Ft),Ut=Dt.toRed($t);mt>0;mt--){var tr=this._randrange(new a(2),Dt),ir=at.gcd(tr);if(ir.cmpn(1)!==0)return ir;var sr=tr.toRed($t).redPow(jt);if(!(sr.cmp(Ct)===0||sr.cmp(Ut)===0)){for(var ur=1;ur<Ft;ur++){if(sr=sr.redSqr(),sr.cmp(Ct)===0)return sr.fromRed().subn(1).gcd(at);if(sr.cmp(Ut)===0)break}if(ur===Ft)return sr=sr.redSqr(),sr.fromRed().subn(1).gcd(at)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var a=requireBrowser$b();generatePrime=ur,ur.simpleSieve=ir,ur.fermatTest=sr;var s=requireBn$5(),et=new s(24),nt=requireMr(),at=new nt,mt=new s(1),wt=new s(2),$t=new s(5);new s(16),new s(8);var Ct=new s(10),Dt=new s(3);new s(7);var Ft=new s(11),jt=new s(4);new s(12);var Ut=null;function tr(){if(Ut!==null)return Ut;var fr=1048576,dr=[];dr[0]=2;for(var hr=1,vr=3;vr<fr;vr+=2){for(var yr=Math.ceil(Math.sqrt(vr)),xr=0;xr<hr&&dr[xr]<=yr&&vr%dr[xr]!==0;xr++);hr!==xr&&dr[xr]<=yr||(dr[hr++]=vr)}return Ut=dr,dr}function ir(fr){for(var dr=tr(),hr=0;hr<dr.length;hr++)if(fr.modn(dr[hr])===0)return fr.cmpn(dr[hr])===0;return!0}function sr(fr){var dr=s.mont(fr);return wt.toRed(dr).redPow(fr.subn(1)).fromRed().cmpn(1)===0}function ur(fr,dr){if(fr<16)return dr===2||dr===5?new s([140,123]):new s([140,39]);dr=new s(dr);for(var hr,vr;;){for(hr=new s(a(Math.ceil(fr/8)));hr.bitLength()>fr;)hr.ishrn(1);if(hr.isEven()&&hr.iadd(mt),hr.testn(1)||hr.iadd(wt),dr.cmp(wt)){if(!dr.cmp($t))for(;hr.mod(Ct).cmp(Dt);)hr.iadd(jt)}else for(;hr.mod(et).cmp(Ft);)hr.iadd(jt);if(vr=hr.shrn(1),ir(vr)&&ir(hr)&&sr(vr)&&sr(hr)&&at.test(vr)&&at.test(hr))return hr}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var a=requireBn$5(),s=requireMr(),et=new s,nt=new a(24),at=new a(11),mt=new a(10),wt=new a(3),$t=new a(7),Ct=requireGeneratePrime(),Dt=requireBrowser$b();dh=ir;function Ft(ur,fr){return fr=fr||"utf8",Buffer$1.isBuffer(ur)||(ur=new Buffer$1(ur,fr)),this._pub=new a(ur),this}function jt(ur,fr){return fr=fr||"utf8",Buffer$1.isBuffer(ur)||(ur=new Buffer$1(ur,fr)),this._priv=new a(ur),this}var Ut={};function tr(ur,fr){var dr=fr.toString("hex"),hr=[dr,ur.toString(16)].join("_");if(hr in Ut)return Ut[hr];var vr=0;if(ur.isEven()||!Ct.simpleSieve||!Ct.fermatTest(ur)||!et.test(ur))return vr+=1,dr==="02"||dr==="05"?vr+=8:vr+=4,Ut[hr]=vr,vr;et.test(ur.shrn(1))||(vr+=2);var yr;switch(dr){case"02":ur.mod(nt).cmp(at)&&(vr+=8);break;case"05":yr=ur.mod(mt),yr.cmp(wt)&&yr.cmp($t)&&(vr+=8);break;default:vr+=4}return Ut[hr]=vr,vr}function ir(ur,fr,dr){this.setGenerator(fr),this.__prime=new a(ur),this._prime=a.mont(this.__prime),this._primeLen=ur.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,dr?(this.setPublicKey=Ft,this.setPrivateKey=jt):this._primeCode=8}Object.defineProperty(ir.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=tr(this.__prime,this.__gen)),this._primeCode}}),ir.prototype.generateKeys=function(){return this._priv||(this._priv=new a(Dt(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ir.prototype.computeSecret=function(ur){ur=new a(ur),ur=ur.toRed(this._prime);var fr=ur.redPow(this._priv).fromRed(),dr=new Buffer$1(fr.toArray()),hr=this.getPrime();if(dr.length<hr.length){var vr=new Buffer$1(hr.length-dr.length);vr.fill(0),dr=Buffer$1.concat([vr,dr])}return dr},ir.prototype.getPublicKey=function(fr){return sr(this._pub,fr)},ir.prototype.getPrivateKey=function(fr){return sr(this._priv,fr)},ir.prototype.getPrime=function(ur){return sr(this.__prime,ur)},ir.prototype.getGenerator=function(ur){return sr(this._gen,ur)},ir.prototype.setGenerator=function(ur,fr){return fr=fr||"utf8",Buffer$1.isBuffer(ur)||(ur=new Buffer$1(ur,fr)),this.__gen=ur,this._gen=new a(ur),this};function sr(ur,fr){var dr=new Buffer$1(ur.toArray());return fr?dr.toString(fr):dr}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$6;hasRequiredBrowser$4=1;var a=requireGeneratePrime(),s=require$$1$1,et=requireDh();function nt(wt){var $t=new Buffer$1(s[wt].prime,"hex"),Ct=new Buffer$1(s[wt].gen,"hex");return new et($t,Ct)}var at={binary:!0,hex:!0,base64:!0};function mt(wt,$t,Ct,Dt){return Buffer$1.isBuffer($t)||at[$t]===void 0?mt(wt,"binary",$t,Ct):($t=$t||"binary",Dt=Dt||"binary",Ct=Ct||new Buffer$1([2]),Buffer$1.isBuffer(Ct)||(Ct=new Buffer$1(Ct,Dt)),typeof wt=="number"?new et(a(wt,Ct),Ct,!0):(Buffer$1.isBuffer(wt)||(wt=new Buffer$1(wt,$t)),new et(wt,Ct,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=nt,browser$6.createDiffieHellman=browser$6.DiffieHellman=mt,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:a}:processNextickArgs.exports=process$1;function a(s,et,nt,at){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var mt=arguments.length,wt,$t;switch(mt){case 0:case 1:return process$1.nextTick(s);case 2:return process$1.nextTick(function(){s.call(null,et)});case 3:return process$1.nextTick(function(){s.call(null,et,nt)});case 4:return process$1.nextTick(function(){s.call(null,et,nt,at)});default:for(wt=new Array(mt-1),$t=0;$t<wt.length;)wt[$t++]=arguments[$t];return process$1.nextTick(function(){s.apply(null,wt)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var a={}.toString;return isarray=Array.isArray||function(s){return a.call(s)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(a,s){var et=require$$0$3,nt=et.Buffer;function at(wt,$t){for(var Ct in wt)$t[Ct]=wt[Ct]}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?a.exports=et:(at(et,s),s.Buffer=mt);function mt(wt,$t,Ct){return nt(wt,$t,Ct)}at(nt,mt),mt.from=function(wt,$t,Ct){if(typeof wt=="number")throw new TypeError("Argument must not be a number");return nt(wt,$t,Ct)},mt.alloc=function(wt,$t,Ct){if(typeof wt!="number")throw new TypeError("Argument must be a number");var Dt=nt(wt);return $t!==void 0?typeof Ct=="string"?Dt.fill($t,Ct):Dt.fill($t):Dt.fill(0),Dt},mt.allocUnsafe=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return nt(wt)},mt.allocUnsafeSlow=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(wt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$3={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$3;hasRequiredUtil=1;function a(sr){return Array.isArray?Array.isArray(sr):ir(sr)==="[object Array]"}util$3.isArray=a;function s(sr){return typeof sr=="boolean"}util$3.isBoolean=s;function et(sr){return sr===null}util$3.isNull=et;function nt(sr){return sr==null}util$3.isNullOrUndefined=nt;function at(sr){return typeof sr=="number"}util$3.isNumber=at;function mt(sr){return typeof sr=="string"}util$3.isString=mt;function wt(sr){return typeof sr=="symbol"}util$3.isSymbol=wt;function $t(sr){return sr===void 0}util$3.isUndefined=$t;function Ct(sr){return ir(sr)==="[object RegExp]"}util$3.isRegExp=Ct;function Dt(sr){return typeof sr=="object"&&sr!==null}util$3.isObject=Dt;function Ft(sr){return ir(sr)==="[object Date]"}util$3.isDate=Ft;function jt(sr){return ir(sr)==="[object Error]"||sr instanceof Error}util$3.isError=jt;function Ut(sr){return typeof sr=="function"}util$3.isFunction=Ut;function tr(sr){return sr===null||typeof sr=="boolean"||typeof sr=="number"||typeof sr=="string"||typeof sr=="symbol"||typeof sr>"u"}util$3.isPrimitive=tr,util$3.isBuffer=require$$0$3.Buffer.isBuffer;function ir(sr){return Object.prototype.toString.call(sr)}return util$3}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(a){function s(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}var et=requireSafeBuffer().Buffer,nt=requireUtil$1();function at(mt,wt,$t){mt.copy(wt,$t)}a.exports=function(){function mt(){s(this,mt),this.head=null,this.tail=null,this.length=0}return mt.prototype.push=function($t){var Ct={data:$t,next:null};this.length>0?this.tail.next=Ct:this.head=Ct,this.tail=Ct,++this.length},mt.prototype.unshift=function($t){var Ct={data:$t,next:this.head};this.length===0&&(this.tail=Ct),this.head=Ct,++this.length},mt.prototype.shift=function(){if(this.length!==0){var $t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$t}},mt.prototype.clear=function(){this.head=this.tail=null,this.length=0},mt.prototype.join=function($t){if(this.length===0)return"";for(var Ct=this.head,Dt=""+Ct.data;Ct=Ct.next;)Dt+=$t+Ct.data;return Dt},mt.prototype.concat=function($t){if(this.length===0)return et.alloc(0);for(var Ct=et.allocUnsafe($t>>>0),Dt=this.head,Ft=0;Dt;)at(Dt.data,Ct,Ft),Ft+=Dt.data.length,Dt=Dt.next;return Ct},mt}(),nt&&nt.inspect&&nt.inspect.custom&&(a.exports.prototype[nt.inspect.custom]=function(){var mt=nt.inspect({length:this.length});return this.constructor.name+" "+mt})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var a=requireProcessNextickArgs();function s(at,mt){var wt=this,$t=this._readableState&&this._readableState.destroyed,Ct=this._writableState&&this._writableState.destroyed;return $t||Ct?(mt?mt(at):at&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(nt,this,at)):a.nextTick(nt,this,at)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(at||null,function(Dt){!mt&&Dt?wt._writableState?wt._writableState.errorEmitted||(wt._writableState.errorEmitted=!0,a.nextTick(nt,wt,Dt)):a.nextTick(nt,wt,Dt):mt&&mt(Dt)}),this)}function et(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function nt(at,mt){at.emit("error",mt)}return destroy_1={destroy:s,undestroy:et},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var a=requireProcessNextickArgs();_stream_writable=sr;function s(ar){var lr=this;this.next=null,this.entry=null,this.finish=function(){rr(lr,ar)}}var et=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:a.nextTick,nt;sr.WritableState=tr;var at=Object.create(requireUtil());at.inherits=requireInherits_browser();var mt={deprecate:requireBrowser$a()},wt=requireStreamBrowser(),$t=requireSafeBuffer().Buffer,Ct=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Dt(ar){return $t.from(ar)}function Ft(ar){return $t.isBuffer(ar)||ar instanceof Ct}var jt=requireDestroy();at.inherits(sr,wt);function Ut(){}function tr(ar,lr){nt=nt||require_stream_duplex(),ar=ar||{};var nr=lr instanceof nt;this.objectMode=!!ar.objectMode,nr&&(this.objectMode=this.objectMode||!!ar.writableObjectMode);var Lt=ar.highWaterMark,or=ar.writableHighWaterMark,gr=this.objectMode?16:16*1024;Lt||Lt===0?this.highWaterMark=Lt:nr&&(or||or===0)?this.highWaterMark=or:this.highWaterMark=gr,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var pr=ar.decodeStrings===!1;this.decodeStrings=!pr,this.defaultEncoding=ar.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_r){br(lr,_r)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}tr.prototype.getBuffer=function(){for(var lr=this.bufferedRequest,nr=[];lr;)nr.push(lr),lr=lr.next;return nr},function(){try{Object.defineProperty(tr.prototype,"buffer",{get:mt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ir;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ir=Function.prototype[Symbol.hasInstance],Object.defineProperty(sr,Symbol.hasInstance,{value:function(ar){return ir.call(this,ar)?!0:this!==sr?!1:ar&&ar._writableState instanceof tr}})):ir=function(ar){return ar instanceof this};function sr(ar){if(nt=nt||require_stream_duplex(),!ir.call(sr,this)&&!(this instanceof nt))return new sr(ar);this._writableState=new tr(ar,this),this.writable=!0,ar&&(typeof ar.write=="function"&&(this._write=ar.write),typeof ar.writev=="function"&&(this._writev=ar.writev),typeof ar.destroy=="function"&&(this._destroy=ar.destroy),typeof ar.final=="function"&&(this._final=ar.final)),wt.call(this)}sr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function ur(ar,lr){var nr=new Error("write after end");ar.emit("error",nr),a.nextTick(lr,nr)}function fr(ar,lr,nr,Lt){var or=!0,gr=!1;return nr===null?gr=new TypeError("May not write null values to stream"):typeof nr!="string"&&nr!==void 0&&!lr.objectMode&&(gr=new TypeError("Invalid non-string/buffer chunk")),gr&&(ar.emit("error",gr),a.nextTick(Lt,gr),or=!1),or}sr.prototype.write=function(ar,lr,nr){var Lt=this._writableState,or=!1,gr=!Lt.objectMode&&Ft(ar);return gr&&!$t.isBuffer(ar)&&(ar=Dt(ar)),typeof lr=="function"&&(nr=lr,lr=null),gr?lr="buffer":lr||(lr=Lt.defaultEncoding),typeof nr!="function"&&(nr=Ut),Lt.ended?ur(this,nr):(gr||fr(this,Lt,ar,nr))&&(Lt.pendingcb++,or=hr(this,Lt,gr,ar,lr,nr)),or},sr.prototype.cork=function(){var ar=this._writableState;ar.corked++},sr.prototype.uncork=function(){var ar=this._writableState;ar.corked&&(ar.corked--,!ar.writing&&!ar.corked&&!ar.bufferProcessing&&ar.bufferedRequest&&Cr(this,ar))},sr.prototype.setDefaultEncoding=function(lr){if(typeof lr=="string"&&(lr=lr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((lr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+lr);return this._writableState.defaultEncoding=lr,this};function dr(ar,lr,nr){return!ar.objectMode&&ar.decodeStrings!==!1&&typeof lr=="string"&&(lr=$t.from(lr,nr)),lr}Object.defineProperty(sr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function hr(ar,lr,nr,Lt,or,gr){if(!nr){var pr=dr(lr,Lt,or);Lt!==pr&&(nr=!0,or="buffer",Lt=pr)}var _r=lr.objectMode?1:Lt.length;lr.length+=_r;var kr=lr.length<lr.highWaterMark;if(kr||(lr.needDrain=!0),lr.writing||lr.corked){var Mr=lr.lastBufferedRequest;lr.lastBufferedRequest={chunk:Lt,encoding:or,isBuf:nr,callback:gr,next:null},Mr?Mr.next=lr.lastBufferedRequest:lr.bufferedRequest=lr.lastBufferedRequest,lr.bufferedRequestCount+=1}else vr(ar,lr,!1,_r,Lt,or,gr);return kr}function vr(ar,lr,nr,Lt,or,gr,pr){lr.writelen=Lt,lr.writecb=pr,lr.writing=!0,lr.sync=!0,nr?ar._writev(or,lr.onwrite):ar._write(or,gr,lr.onwrite),lr.sync=!1}function yr(ar,lr,nr,Lt,or){--lr.pendingcb,nr?(a.nextTick(or,Lt),a.nextTick(er,ar,lr),ar._writableState.errorEmitted=!0,ar.emit("error",Lt)):(or(Lt),ar._writableState.errorEmitted=!0,ar.emit("error",Lt),er(ar,lr))}function xr(ar){ar.writing=!1,ar.writecb=null,ar.length-=ar.writelen,ar.writelen=0}function br(ar,lr){var nr=ar._writableState,Lt=nr.sync,or=nr.writecb;if(xr(nr),lr)yr(ar,nr,Lt,lr,or);else{var gr=cr(nr);!gr&&!nr.corked&&!nr.bufferProcessing&&nr.bufferedRequest&&Cr(ar,nr),Lt?et(wr,ar,nr,gr,or):wr(ar,nr,gr,or)}}function wr(ar,lr,nr,Lt){nr||Sr(ar,lr),lr.pendingcb--,Lt(),er(ar,lr)}function Sr(ar,lr){lr.length===0&&lr.needDrain&&(lr.needDrain=!1,ar.emit("drain"))}function Cr(ar,lr){lr.bufferProcessing=!0;var nr=lr.bufferedRequest;if(ar._writev&&nr&&nr.next){var Lt=lr.bufferedRequestCount,or=new Array(Lt),gr=lr.corkedRequestsFree;gr.entry=nr;for(var pr=0,_r=!0;nr;)or[pr]=nr,nr.isBuf||(_r=!1),nr=nr.next,pr+=1;or.allBuffers=_r,vr(ar,lr,!0,lr.length,or,"",gr.finish),lr.pendingcb++,lr.lastBufferedRequest=null,gr.next?(lr.corkedRequestsFree=gr.next,gr.next=null):lr.corkedRequestsFree=new s(lr),lr.bufferedRequestCount=0}else{for(;nr;){var kr=nr.chunk,Mr=nr.encoding,$r=nr.callback,Pr=lr.objectMode?1:kr.length;if(vr(ar,lr,!1,Pr,kr,Mr,$r),nr=nr.next,lr.bufferedRequestCount--,lr.writing)break}nr===null&&(lr.lastBufferedRequest=null)}lr.bufferedRequest=nr,lr.bufferProcessing=!1}sr.prototype._write=function(ar,lr,nr){nr(new Error("_write() is not implemented"))},sr.prototype._writev=null,sr.prototype.end=function(ar,lr,nr){var Lt=this._writableState;typeof ar=="function"?(nr=ar,ar=null,lr=null):typeof lr=="function"&&(nr=lr,lr=null),ar!=null&&this.write(ar,lr),Lt.corked&&(Lt.corked=1,this.uncork()),Lt.ending||Yt(this,Lt,nr)};function cr(ar){return ar.ending&&ar.length===0&&ar.bufferedRequest===null&&!ar.finished&&!ar.writing}function Nt(ar,lr){ar._final(function(nr){lr.pendingcb--,nr&&ar.emit("error",nr),lr.prefinished=!0,ar.emit("prefinish"),er(ar,lr)})}function Vt(ar,lr){!lr.prefinished&&!lr.finalCalled&&(typeof ar._final=="function"?(lr.pendingcb++,lr.finalCalled=!0,a.nextTick(Nt,ar,lr)):(lr.prefinished=!0,ar.emit("prefinish")))}function er(ar,lr){var nr=cr(lr);return nr&&(Vt(ar,lr),lr.pendingcb===0&&(lr.finished=!0,ar.emit("finish"))),nr}function Yt(ar,lr,nr){lr.ending=!0,er(ar,lr),nr&&(lr.finished?a.nextTick(nr):ar.once("finish",nr)),lr.ended=!0,ar.writable=!1}function rr(ar,lr,nr){var Lt=ar.entry;for(ar.entry=null;Lt;){var or=Lt.callback;lr.pendingcb--,or(nr),Lt=Lt.next}lr.corkedRequestsFree.next=ar}return Object.defineProperty(sr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ar){this._writableState&&(this._writableState.destroyed=ar)}}),sr.prototype.destroy=jt.destroy,sr.prototype._undestroy=jt.undestroy,sr.prototype._destroy=function(ar,lr){this.end(),lr(ar)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var a=requireProcessNextickArgs(),s=Object.keys||function(jt){var Ut=[];for(var tr in jt)Ut.push(tr);return Ut};_stream_duplex=Ct;var et=Object.create(requireUtil());et.inherits=requireInherits_browser();var nt=require_stream_readable(),at=require_stream_writable();et.inherits(Ct,nt);for(var mt=s(at.prototype),wt=0;wt<mt.length;wt++){var $t=mt[wt];Ct.prototype[$t]||(Ct.prototype[$t]=at.prototype[$t])}function Ct(jt){if(!(this instanceof Ct))return new Ct(jt);nt.call(this,jt),at.call(this,jt),jt&&jt.readable===!1&&(this.readable=!1),jt&&jt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,jt&&jt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Dt)}Object.defineProperty(Ct.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Dt(){this.allowHalfOpen||this._writableState.ended||a.nextTick(Ft,this)}function Ft(jt){jt.end()}return Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(jt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=jt,this._writableState.destroyed=jt)}}),Ct.prototype._destroy=function(jt,Ut){this.push(null),this.end(),a.nextTick(Ut,jt)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var a=requireProcessNextickArgs();_stream_readable=dr;var s=requireIsarray(),et;dr.ReadableState=fr,requireEvents().EventEmitter;var nt=function($r,Pr){return $r.listeners(Pr).length},at=requireStreamBrowser(),mt=requireSafeBuffer().Buffer,wt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function $t($r){return mt.from($r)}function Ct($r){return mt.isBuffer($r)||$r instanceof wt}var Dt=Object.create(requireUtil());Dt.inherits=requireInherits_browser();var Ft=requireUtil$1(),jt=void 0;Ft&&Ft.debuglog?jt=Ft.debuglog("stream"):jt=function(){};var Ut=requireBufferList(),tr=requireDestroy(),ir;Dt.inherits(dr,at);var sr=["error","close","destroy","pause","resume"];function ur($r,Pr,Fr){if(typeof $r.prependListener=="function")return $r.prependListener(Pr,Fr);!$r._events||!$r._events[Pr]?$r.on(Pr,Fr):s($r._events[Pr])?$r._events[Pr].unshift(Fr):$r._events[Pr]=[Fr,$r._events[Pr]]}function fr($r,Pr){et=et||require_stream_duplex(),$r=$r||{};var Fr=Pr instanceof et;this.objectMode=!!$r.objectMode,Fr&&(this.objectMode=this.objectMode||!!$r.readableObjectMode);var Tr=$r.highWaterMark,Rr=$r.readableHighWaterMark,Er=this.objectMode?16:16*1024;Tr||Tr===0?this.highWaterMark=Tr:Fr&&(Rr||Rr===0)?this.highWaterMark=Rr:this.highWaterMark=Er,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Ut,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$r.encoding&&(ir||(ir=requireString_decoder().StringDecoder),this.decoder=new ir($r.encoding),this.encoding=$r.encoding)}function dr($r){if(et=et||require_stream_duplex(),!(this instanceof dr))return new dr($r);this._readableState=new fr($r,this),this.readable=!0,$r&&(typeof $r.read=="function"&&(this._read=$r.read),typeof $r.destroy=="function"&&(this._destroy=$r.destroy)),at.call(this)}Object.defineProperty(dr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($r){this._readableState&&(this._readableState.destroyed=$r)}}),dr.prototype.destroy=tr.destroy,dr.prototype._undestroy=tr.undestroy,dr.prototype._destroy=function($r,Pr){this.push(null),Pr($r)},dr.prototype.push=function($r,Pr){var Fr=this._readableState,Tr;return Fr.objectMode?Tr=!0:typeof $r=="string"&&(Pr=Pr||Fr.defaultEncoding,Pr!==Fr.encoding&&($r=mt.from($r,Pr),Pr=""),Tr=!0),hr(this,$r,Pr,!1,Tr)},dr.prototype.unshift=function($r){return hr(this,$r,null,!0,!1)};function hr($r,Pr,Fr,Tr,Rr){var Er=$r._readableState;if(Pr===null)Er.reading=!1,Cr($r,Er);else{var Or;Rr||(Or=yr(Er,Pr)),Or?$r.emit("error",Or):Er.objectMode||Pr&&Pr.length>0?(typeof Pr!="string"&&!Er.objectMode&&Object.getPrototypeOf(Pr)!==mt.prototype&&(Pr=$t(Pr)),Tr?Er.endEmitted?$r.emit("error",new Error("stream.unshift() after end event")):vr($r,Er,Pr,!0):Er.ended?$r.emit("error",new Error("stream.push() after EOF")):(Er.reading=!1,Er.decoder&&!Fr?(Pr=Er.decoder.write(Pr),Er.objectMode||Pr.length!==0?vr($r,Er,Pr,!1):Vt($r,Er)):vr($r,Er,Pr,!1))):Tr||(Er.reading=!1)}return xr(Er)}function vr($r,Pr,Fr,Tr){Pr.flowing&&Pr.length===0&&!Pr.sync?($r.emit("data",Fr),$r.read(0)):(Pr.length+=Pr.objectMode?1:Fr.length,Tr?Pr.buffer.unshift(Fr):Pr.buffer.push(Fr),Pr.needReadable&&cr($r)),Vt($r,Pr)}function yr($r,Pr){var Fr;return!Ct(Pr)&&typeof Pr!="string"&&Pr!==void 0&&!$r.objectMode&&(Fr=new TypeError("Invalid non-string/buffer chunk")),Fr}function xr($r){return!$r.ended&&($r.needReadable||$r.length<$r.highWaterMark||$r.length===0)}dr.prototype.isPaused=function(){return this._readableState.flowing===!1},dr.prototype.setEncoding=function($r){return ir||(ir=requireString_decoder().StringDecoder),this._readableState.decoder=new ir($r),this._readableState.encoding=$r,this};var br=8388608;function wr($r){return $r>=br?$r=br:($r--,$r|=$r>>>1,$r|=$r>>>2,$r|=$r>>>4,$r|=$r>>>8,$r|=$r>>>16,$r++),$r}function Sr($r,Pr){return $r<=0||Pr.length===0&&Pr.ended?0:Pr.objectMode?1:$r!==$r?Pr.flowing&&Pr.length?Pr.buffer.head.data.length:Pr.length:($r>Pr.highWaterMark&&(Pr.highWaterMark=wr($r)),$r<=Pr.length?$r:Pr.ended?Pr.length:(Pr.needReadable=!0,0))}dr.prototype.read=function($r){jt("read",$r),$r=parseInt($r,10);var Pr=this._readableState,Fr=$r;if($r!==0&&(Pr.emittedReadable=!1),$r===0&&Pr.needReadable&&(Pr.length>=Pr.highWaterMark||Pr.ended))return jt("read: emitReadable",Pr.length,Pr.ended),Pr.length===0&&Pr.ended?_r(this):cr(this),null;if($r=Sr($r,Pr),$r===0&&Pr.ended)return Pr.length===0&&_r(this),null;var Tr=Pr.needReadable;jt("need readable",Tr),(Pr.length===0||Pr.length-$r<Pr.highWaterMark)&&(Tr=!0,jt("length less than watermark",Tr)),Pr.ended||Pr.reading?(Tr=!1,jt("reading or ended",Tr)):Tr&&(jt("do read"),Pr.reading=!0,Pr.sync=!0,Pr.length===0&&(Pr.needReadable=!0),this._read(Pr.highWaterMark),Pr.sync=!1,Pr.reading||($r=Sr(Fr,Pr)));var Rr;return $r>0?Rr=Lt($r,Pr):Rr=null,Rr===null?(Pr.needReadable=!0,$r=0):Pr.length-=$r,Pr.length===0&&(Pr.ended||(Pr.needReadable=!0),Fr!==$r&&Pr.ended&&_r(this)),Rr!==null&&this.emit("data",Rr),Rr};function Cr($r,Pr){if(!Pr.ended){if(Pr.decoder){var Fr=Pr.decoder.end();Fr&&Fr.length&&(Pr.buffer.push(Fr),Pr.length+=Pr.objectMode?1:Fr.length)}Pr.ended=!0,cr($r)}}function cr($r){var Pr=$r._readableState;Pr.needReadable=!1,Pr.emittedReadable||(jt("emitReadable",Pr.flowing),Pr.emittedReadable=!0,Pr.sync?a.nextTick(Nt,$r):Nt($r))}function Nt($r){jt("emit readable"),$r.emit("readable"),nr($r)}function Vt($r,Pr){Pr.readingMore||(Pr.readingMore=!0,a.nextTick(er,$r,Pr))}function er($r,Pr){for(var Fr=Pr.length;!Pr.reading&&!Pr.flowing&&!Pr.ended&&Pr.length<Pr.highWaterMark&&(jt("maybeReadMore read 0"),$r.read(0),Fr!==Pr.length);)Fr=Pr.length;Pr.readingMore=!1}dr.prototype._read=function($r){this.emit("error",new Error("_read() is not implemented"))},dr.prototype.pipe=function($r,Pr){var Fr=this,Tr=this._readableState;switch(Tr.pipesCount){case 0:Tr.pipes=$r;break;case 1:Tr.pipes=[Tr.pipes,$r];break;default:Tr.pipes.push($r);break}Tr.pipesCount+=1,jt("pipe count=%d opts=%j",Tr.pipesCount,Pr);var Rr=(!Pr||Pr.end!==!1)&&$r!==process$1.stdout&&$r!==process$1.stderr,Er=Rr?Wr:Qn;Tr.endEmitted?a.nextTick(Er):Fr.once("end",Er),$r.on("unpipe",Or);function Or(nn,$n){jt("onunpipe"),nn===Fr&&$n&&$n.hasUnpiped===!1&&($n.hasUnpiped=!0,Ur())}function Wr(){jt("onend"),$r.end()}var qr=Yt(Fr);$r.on("drain",qr);var Vr=!1;function Ur(){jt("cleanup"),$r.removeListener("close",zr),$r.removeListener("finish",Qr),$r.removeListener("drain",qr),$r.removeListener("error",Xr),$r.removeListener("unpipe",Or),Fr.removeListener("end",Wr),Fr.removeListener("end",Qn),Fr.removeListener("data",Br),Vr=!0,Tr.awaitDrain&&(!$r._writableState||$r._writableState.needDrain)&&qr()}var Lr=!1;Fr.on("data",Br);function Br(nn){jt("ondata"),Lr=!1;var $n=$r.write(nn);$n===!1&&!Lr&&((Tr.pipesCount===1&&Tr.pipes===$r||Tr.pipesCount>1&&Mr(Tr.pipes,$r)!==-1)&&!Vr&&(jt("false write response, pause",Tr.awaitDrain),Tr.awaitDrain++,Lr=!0),Fr.pause())}function Xr(nn){jt("onerror",nn),Qn(),$r.removeListener("error",Xr),nt($r,"error")===0&&$r.emit("error",nn)}ur($r,"error",Xr);function zr(){$r.removeListener("finish",Qr),Qn()}$r.once("close",zr);function Qr(){jt("onfinish"),$r.removeListener("close",zr),Qn()}$r.once("finish",Qr);function Qn(){jt("unpipe"),Fr.unpipe($r)}return $r.emit("pipe",Fr),Tr.flowing||(jt("pipe resume"),Fr.resume()),$r};function Yt($r){return function(){var Pr=$r._readableState;jt("pipeOnDrain",Pr.awaitDrain),Pr.awaitDrain&&Pr.awaitDrain--,Pr.awaitDrain===0&&nt($r,"data")&&(Pr.flowing=!0,nr($r))}}dr.prototype.unpipe=function($r){var Pr=this._readableState,Fr={hasUnpiped:!1};if(Pr.pipesCount===0)return this;if(Pr.pipesCount===1)return $r&&$r!==Pr.pipes?this:($r||($r=Pr.pipes),Pr.pipes=null,Pr.pipesCount=0,Pr.flowing=!1,$r&&$r.emit("unpipe",this,Fr),this);if(!$r){var Tr=Pr.pipes,Rr=Pr.pipesCount;Pr.pipes=null,Pr.pipesCount=0,Pr.flowing=!1;for(var Er=0;Er<Rr;Er++)Tr[Er].emit("unpipe",this,{hasUnpiped:!1});return this}var Or=Mr(Pr.pipes,$r);return Or===-1?this:(Pr.pipes.splice(Or,1),Pr.pipesCount-=1,Pr.pipesCount===1&&(Pr.pipes=Pr.pipes[0]),$r.emit("unpipe",this,Fr),this)},dr.prototype.on=function($r,Pr){var Fr=at.prototype.on.call(this,$r,Pr);if($r==="data")this._readableState.flowing!==!1&&this.resume();else if($r==="readable"){var Tr=this._readableState;!Tr.endEmitted&&!Tr.readableListening&&(Tr.readableListening=Tr.needReadable=!0,Tr.emittedReadable=!1,Tr.reading?Tr.length&&cr(this):a.nextTick(rr,this))}return Fr},dr.prototype.addListener=dr.prototype.on;function rr($r){jt("readable nexttick read 0"),$r.read(0)}dr.prototype.resume=function(){var $r=this._readableState;return $r.flowing||(jt("resume"),$r.flowing=!0,ar(this,$r)),this};function ar($r,Pr){Pr.resumeScheduled||(Pr.resumeScheduled=!0,a.nextTick(lr,$r,Pr))}function lr($r,Pr){Pr.reading||(jt("resume read 0"),$r.read(0)),Pr.resumeScheduled=!1,Pr.awaitDrain=0,$r.emit("resume"),nr($r),Pr.flowing&&!Pr.reading&&$r.read(0)}dr.prototype.pause=function(){return jt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(jt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function nr($r){var Pr=$r._readableState;for(jt("flow",Pr.flowing);Pr.flowing&&$r.read()!==null;);}dr.prototype.wrap=function($r){var Pr=this,Fr=this._readableState,Tr=!1;$r.on("end",function(){if(jt("wrapped end"),Fr.decoder&&!Fr.ended){var Or=Fr.decoder.end();Or&&Or.length&&Pr.push(Or)}Pr.push(null)}),$r.on("data",function(Or){if(jt("wrapped data"),Fr.decoder&&(Or=Fr.decoder.write(Or)),!(Fr.objectMode&&Or==null)&&!(!Fr.objectMode&&(!Or||!Or.length))){var Wr=Pr.push(Or);Wr||(Tr=!0,$r.pause())}});for(var Rr in $r)this[Rr]===void 0&&typeof $r[Rr]=="function"&&(this[Rr]=function(Or){return function(){return $r[Or].apply($r,arguments)}}(Rr));for(var Er=0;Er<sr.length;Er++)$r.on(sr[Er],this.emit.bind(this,sr[Er]));return this._read=function(Or){jt("wrapped _read",Or),Tr&&(Tr=!1,$r.resume())},this},Object.defineProperty(dr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),dr._fromList=Lt;function Lt($r,Pr){if(Pr.length===0)return null;var Fr;return Pr.objectMode?Fr=Pr.buffer.shift():!$r||$r>=Pr.length?(Pr.decoder?Fr=Pr.buffer.join(""):Pr.buffer.length===1?Fr=Pr.buffer.head.data:Fr=Pr.buffer.concat(Pr.length),Pr.buffer.clear()):Fr=or($r,Pr.buffer,Pr.decoder),Fr}function or($r,Pr,Fr){var Tr;return $r<Pr.head.data.length?(Tr=Pr.head.data.slice(0,$r),Pr.head.data=Pr.head.data.slice($r)):$r===Pr.head.data.length?Tr=Pr.shift():Tr=Fr?gr($r,Pr):pr($r,Pr),Tr}function gr($r,Pr){var Fr=Pr.head,Tr=1,Rr=Fr.data;for($r-=Rr.length;Fr=Fr.next;){var Er=Fr.data,Or=$r>Er.length?Er.length:$r;if(Or===Er.length?Rr+=Er:Rr+=Er.slice(0,$r),$r-=Or,$r===0){Or===Er.length?(++Tr,Fr.next?Pr.head=Fr.next:Pr.head=Pr.tail=null):(Pr.head=Fr,Fr.data=Er.slice(Or));break}++Tr}return Pr.length-=Tr,Rr}function pr($r,Pr){var Fr=mt.allocUnsafe($r),Tr=Pr.head,Rr=1;for(Tr.data.copy(Fr),$r-=Tr.data.length;Tr=Tr.next;){var Er=Tr.data,Or=$r>Er.length?Er.length:$r;if(Er.copy(Fr,Fr.length-$r,0,Or),$r-=Or,$r===0){Or===Er.length?(++Rr,Tr.next?Pr.head=Tr.next:Pr.head=Pr.tail=null):(Pr.head=Tr,Tr.data=Er.slice(Or));break}++Rr}return Pr.length-=Rr,Fr}function _r($r){var Pr=$r._readableState;if(Pr.length>0)throw new Error('"endReadable()" called on non-empty stream');Pr.endEmitted||(Pr.ended=!0,a.nextTick(kr,Pr,$r))}function kr($r,Pr){!$r.endEmitted&&$r.length===0&&($r.endEmitted=!0,Pr.readable=!1,Pr.emit("end"))}function Mr($r,Pr){for(var Fr=0,Tr=$r.length;Fr<Tr;Fr++)if($r[Fr]===Pr)return Fr;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=nt;var a=require_stream_duplex(),s=Object.create(requireUtil());s.inherits=requireInherits_browser(),s.inherits(nt,a);function et(wt,$t){var Ct=this._transformState;Ct.transforming=!1;var Dt=Ct.writecb;if(!Dt)return this.emit("error",new Error("write callback called multiple times"));Ct.writechunk=null,Ct.writecb=null,$t!=null&&this.push($t),Dt(wt);var Ft=this._readableState;Ft.reading=!1,(Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}function nt(wt){if(!(this instanceof nt))return new nt(wt);a.call(this,wt),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,wt&&(typeof wt.transform=="function"&&(this._transform=wt.transform),typeof wt.flush=="function"&&(this._flush=wt.flush)),this.on("prefinish",at)}function at(){var wt=this;typeof this._flush=="function"?this._flush(function($t,Ct){mt(wt,$t,Ct)}):mt(this,null,null)}nt.prototype.push=function(wt,$t){return this._transformState.needTransform=!1,a.prototype.push.call(this,wt,$t)},nt.prototype._transform=function(wt,$t,Ct){throw new Error("_transform() is not implemented")},nt.prototype._write=function(wt,$t,Ct){var Dt=this._transformState;if(Dt.writecb=Ct,Dt.writechunk=wt,Dt.writeencoding=$t,!Dt.transforming){var Ft=this._readableState;(Dt.needTransform||Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}},nt.prototype._read=function(wt){var $t=this._transformState;$t.writechunk!==null&&$t.writecb&&!$t.transforming?($t.transforming=!0,this._transform($t.writechunk,$t.writeencoding,$t.afterTransform)):$t.needTransform=!0},nt.prototype._destroy=function(wt,$t){var Ct=this;a.prototype._destroy.call(this,wt,function(Dt){$t(Dt),Ct.emit("close")})};function mt(wt,$t,Ct){if($t)return wt.emit("error",$t);if(Ct!=null&&wt.push(Ct),wt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(wt._transformState.transforming)throw new Error("Calling transform done when still transforming");return wt.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=et;var a=require_stream_transform(),s=Object.create(requireUtil());s.inherits=requireInherits_browser(),s.inherits(et,a);function et(nt){if(!(this instanceof et))return new et(nt);a.call(this,nt)}return et.prototype._transform=function(nt,at,mt){mt(null,nt)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(a,s){s=a.exports=require_stream_readable(),s.Stream=s,s.Readable=s,s.Writable=require_stream_writable(),s.Duplex=require_stream_duplex(),s.Transform=require_stream_transform(),s.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var a=bnExports,s=requireBrowser$b(),et=requireSafeBuffer$1().Buffer;function nt(wt){var $t=wt.modulus.byteLength(),Ct;do Ct=new a(s($t));while(Ct.cmp(wt.modulus)>=0||!Ct.umod(wt.prime1)||!Ct.umod(wt.prime2));return Ct}function at(wt){var $t=nt(wt),Ct=$t.toRed(a.mont(wt.modulus)).redPow(new a(wt.publicExponent)).fromRed();return{blinder:Ct,unblinder:$t.invm(wt.modulus)}}function mt(wt,$t){var Ct=at($t),Dt=$t.modulus.byteLength(),Ft=new a(wt).mul(Ct.blinder).umod($t.modulus),jt=Ft.toRed(a.mont($t.prime1)),Ut=Ft.toRed(a.mont($t.prime2)),tr=$t.coefficient,ir=$t.prime1,sr=$t.prime2,ur=jt.redPow($t.exponent1).fromRed(),fr=Ut.redPow($t.exponent2).fromRed(),dr=ur.isub(fr).imul(tr).umod(ir).imul(sr);return fr.iadd(dr).imul(Ct.unblinder).umod($t.modulus).toArrayLike(et,"be",Dt)}return mt.getr=nt,browserifyRsa=mt,browserifyRsa}var elliptic={};const version$1="6.6.1",require$$0={version:version$1};var utils$2={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(a){(function(s,et){function nt(cr,Nt){if(!cr)throw new Error(Nt||"Assertion failed")}function at(cr,Nt){cr.super_=Nt;var Vt=function(){};Vt.prototype=Nt.prototype,cr.prototype=new Vt,cr.prototype.constructor=cr}function mt(cr,Nt,Vt){if(mt.isBN(cr))return cr;this.negative=0,this.words=null,this.length=0,this.red=null,cr!==null&&((Nt==="le"||Nt==="be")&&(Vt=Nt,Nt=10),this._init(cr||0,Nt||10,Vt||"be"))}typeof s=="object"?s.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$0$3.Buffer}catch{}mt.isBN=function(Nt){return Nt instanceof mt?!0:Nt!==null&&typeof Nt=="object"&&Nt.constructor.wordSize===mt.wordSize&&Array.isArray(Nt.words)},mt.max=function(Nt,Vt){return Nt.cmp(Vt)>0?Nt:Vt},mt.min=function(Nt,Vt){return Nt.cmp(Vt)<0?Nt:Vt},mt.prototype._init=function(Nt,Vt,er){if(typeof Nt=="number")return this._initNumber(Nt,Vt,er);if(typeof Nt=="object")return this._initArray(Nt,Vt,er);Vt==="hex"&&(Vt=16),nt(Vt===(Vt|0)&&Vt>=2&&Vt<=36),Nt=Nt.toString().replace(/\s+/g,"");var Yt=0;Nt[0]==="-"&&(Yt++,this.negative=1),Yt<Nt.length&&(Vt===16?this._parseHex(Nt,Yt,er):(this._parseBase(Nt,Vt,Yt),er==="le"&&this._initArray(this.toArray(),Vt,er)))},mt.prototype._initNumber=function(Nt,Vt,er){Nt<0&&(this.negative=1,Nt=-Nt),Nt<67108864?(this.words=[Nt&67108863],this.length=1):Nt<4503599627370496?(this.words=[Nt&67108863,Nt/67108864&67108863],this.length=2):(nt(Nt<9007199254740992),this.words=[Nt&67108863,Nt/67108864&67108863,1],this.length=3),er==="le"&&this._initArray(this.toArray(),Vt,er)},mt.prototype._initArray=function(Nt,Vt,er){if(nt(typeof Nt.length=="number"),Nt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Nt.length/3),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr,ar,lr=0;if(er==="be")for(Yt=Nt.length-1,rr=0;Yt>=0;Yt-=3)ar=Nt[Yt]|Nt[Yt-1]<<8|Nt[Yt-2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);else if(er==="le")for(Yt=0,rr=0;Yt<Nt.length;Yt+=3)ar=Nt[Yt]|Nt[Yt+1]<<8|Nt[Yt+2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);return this.strip()};function $t(cr,Nt){var Vt=cr.charCodeAt(Nt);return Vt>=65&&Vt<=70?Vt-55:Vt>=97&&Vt<=102?Vt-87:Vt-48&15}function Ct(cr,Nt,Vt){var er=$t(cr,Vt);return Vt-1>=Nt&&(er|=$t(cr,Vt-1)<<4),er}mt.prototype._parseHex=function(Nt,Vt,er){this.length=Math.ceil((Nt.length-Vt)/6),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr=0,ar=0,lr;if(er==="be")for(Yt=Nt.length-1;Yt>=Vt;Yt-=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8;else{var nr=Nt.length-Vt;for(Yt=nr%2===0?Vt+1:Vt;Yt<Nt.length;Yt+=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8}this.strip()};function Dt(cr,Nt,Vt,er){for(var Yt=0,rr=Math.min(cr.length,Vt),ar=Nt;ar<rr;ar++){var lr=cr.charCodeAt(ar)-48;Yt*=er,lr>=49?Yt+=lr-49+10:lr>=17?Yt+=lr-17+10:Yt+=lr}return Yt}mt.prototype._parseBase=function(Nt,Vt,er){this.words=[0],this.length=1;for(var Yt=0,rr=1;rr<=67108863;rr*=Vt)Yt++;Yt--,rr=rr/Vt|0;for(var ar=Nt.length-er,lr=ar%Yt,nr=Math.min(ar,ar-lr)+er,Lt=0,or=er;or<nr;or+=Yt)Lt=Dt(Nt,or,or+Yt,Vt),this.imuln(rr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt);if(lr!==0){var gr=1;for(Lt=Dt(Nt,or,Nt.length,Vt),or=0;or<lr;or++)gr*=Vt;this.imuln(gr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt)}this.strip()},mt.prototype.copy=function(Nt){Nt.words=new Array(this.length);for(var Vt=0;Vt<this.length;Vt++)Nt.words[Vt]=this.words[Vt];Nt.length=this.length,Nt.negative=this.negative,Nt.red=this.red},mt.prototype.clone=function(){var Nt=new mt(null);return this.copy(Nt),Nt},mt.prototype._expand=function(Nt){for(;this.length<Nt;)this.words[this.length++]=0;return this},mt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},mt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(Nt,Vt){Nt=Nt||10,Vt=Vt|0||1;var er;if(Nt===16||Nt==="hex"){er="";for(var Yt=0,rr=0,ar=0;ar<this.length;ar++){var lr=this.words[ar],nr=((lr<<Yt|rr)&16777215).toString(16);rr=lr>>>24-Yt&16777215,Yt+=2,Yt>=26&&(Yt-=26,ar--),rr!==0||ar!==this.length-1?er=Ft[6-nr.length]+nr+er:er=nr+er}for(rr!==0&&(er=rr.toString(16)+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}if(Nt===(Nt|0)&&Nt>=2&&Nt<=36){var Lt=jt[Nt],or=Ut[Nt];er="";var gr=this.clone();for(gr.negative=0;!gr.isZero();){var pr=gr.modn(or).toString(Nt);gr=gr.idivn(or),gr.isZero()?er=pr+er:er=Ft[Lt-pr.length]+pr+er}for(this.isZero()&&(er="0"+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var Nt=this.words[0];return this.length===2?Nt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Nt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Nt:Nt},mt.prototype.toJSON=function(){return this.toString(16)},mt.prototype.toBuffer=function(Nt,Vt){return nt(typeof wt<"u"),this.toArrayLike(wt,Nt,Vt)},mt.prototype.toArray=function(Nt,Vt){return this.toArrayLike(Array,Nt,Vt)},mt.prototype.toArrayLike=function(Nt,Vt,er){var Yt=this.byteLength(),rr=er||Math.max(1,Yt);nt(Yt<=rr,"byte array longer than desired length"),nt(rr>0,"Requested array length <= 0"),this.strip();var ar=Vt==="le",lr=new Nt(rr),nr,Lt,or=this.clone();if(ar){for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[Lt]=nr;for(;Lt<rr;Lt++)lr[Lt]=0}else{for(Lt=0;Lt<rr-Yt;Lt++)lr[Lt]=0;for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[rr-Lt-1]=nr}return lr},Math.clz32?mt.prototype._countBits=function(Nt){return 32-Math.clz32(Nt)}:mt.prototype._countBits=function(Nt){var Vt=Nt,er=0;return Vt>=4096&&(er+=13,Vt>>>=13),Vt>=64&&(er+=7,Vt>>>=7),Vt>=8&&(er+=4,Vt>>>=4),Vt>=2&&(er+=2,Vt>>>=2),er+Vt},mt.prototype._zeroBits=function(Nt){if(Nt===0)return 26;var Vt=Nt,er=0;return Vt&8191||(er+=13,Vt>>>=13),Vt&127||(er+=7,Vt>>>=7),Vt&15||(er+=4,Vt>>>=4),Vt&3||(er+=2,Vt>>>=2),Vt&1||er++,er},mt.prototype.bitLength=function(){var Nt=this.words[this.length-1],Vt=this._countBits(Nt);return(this.length-1)*26+Vt};function tr(cr){for(var Nt=new Array(cr.bitLength()),Vt=0;Vt<Nt.length;Vt++){var er=Vt/26|0,Yt=Vt%26;Nt[Vt]=(cr.words[er]&1<<Yt)>>>Yt}return Nt}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Nt=0,Vt=0;Vt<this.length;Vt++){var er=this._zeroBits(this.words[Vt]);if(Nt+=er,er!==26)break}return Nt},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(Nt){return this.negative!==0?this.abs().inotn(Nt).iaddn(1):this.clone()},mt.prototype.fromTwos=function(Nt){return this.testn(Nt-1)?this.notn(Nt).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(Nt){for(;this.length<Nt.length;)this.words[this.length++]=0;for(var Vt=0;Vt<Nt.length;Vt++)this.words[Vt]=this.words[Vt]|Nt.words[Vt];return this.strip()},mt.prototype.ior=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuor(Nt)},mt.prototype.or=function(Nt){return this.length>Nt.length?this.clone().ior(Nt):Nt.clone().ior(this)},mt.prototype.uor=function(Nt){return this.length>Nt.length?this.clone().iuor(Nt):Nt.clone().iuor(this)},mt.prototype.iuand=function(Nt){var Vt;this.length>Nt.length?Vt=Nt:Vt=this;for(var er=0;er<Vt.length;er++)this.words[er]=this.words[er]&Nt.words[er];return this.length=Vt.length,this.strip()},mt.prototype.iand=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuand(Nt)},mt.prototype.and=function(Nt){return this.length>Nt.length?this.clone().iand(Nt):Nt.clone().iand(this)},mt.prototype.uand=function(Nt){return this.length>Nt.length?this.clone().iuand(Nt):Nt.clone().iuand(this)},mt.prototype.iuxor=function(Nt){var Vt,er;this.length>Nt.length?(Vt=this,er=Nt):(Vt=Nt,er=this);for(var Yt=0;Yt<er.length;Yt++)this.words[Yt]=Vt.words[Yt]^er.words[Yt];if(this!==Vt)for(;Yt<Vt.length;Yt++)this.words[Yt]=Vt.words[Yt];return this.length=Vt.length,this.strip()},mt.prototype.ixor=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuxor(Nt)},mt.prototype.xor=function(Nt){return this.length>Nt.length?this.clone().ixor(Nt):Nt.clone().ixor(this)},mt.prototype.uxor=function(Nt){return this.length>Nt.length?this.clone().iuxor(Nt):Nt.clone().iuxor(this)},mt.prototype.inotn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Math.ceil(Nt/26)|0,er=Nt%26;this._expand(Vt),er>0&&Vt--;for(var Yt=0;Yt<Vt;Yt++)this.words[Yt]=~this.words[Yt]&67108863;return er>0&&(this.words[Yt]=~this.words[Yt]&67108863>>26-er),this.strip()},mt.prototype.notn=function(Nt){return this.clone().inotn(Nt)},mt.prototype.setn=function(Nt,Vt){nt(typeof Nt=="number"&&Nt>=0);var er=Nt/26|0,Yt=Nt%26;return this._expand(er+1),Vt?this.words[er]=this.words[er]|1<<Yt:this.words[er]=this.words[er]&~(1<<Yt),this.strip()},mt.prototype.iadd=function(Nt){var Vt;if(this.negative!==0&&Nt.negative===0)return this.negative=0,Vt=this.isub(Nt),this.negative^=1,this._normSign();if(this.negative===0&&Nt.negative!==0)return Nt.negative=0,Vt=this.isub(Nt),Nt.negative=1,Vt._normSign();var er,Yt;this.length>Nt.length?(er=this,Yt=Nt):(er=Nt,Yt=this);for(var rr=0,ar=0;ar<Yt.length;ar++)Vt=(er.words[ar]|0)+(Yt.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;for(;rr!==0&&ar<er.length;ar++)Vt=(er.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;if(this.length=er.length,rr!==0)this.words[this.length]=rr,this.length++;else if(er!==this)for(;ar<er.length;ar++)this.words[ar]=er.words[ar];return this},mt.prototype.add=function(Nt){var Vt;return Nt.negative!==0&&this.negative===0?(Nt.negative=0,Vt=this.sub(Nt),Nt.negative^=1,Vt):Nt.negative===0&&this.negative!==0?(this.negative=0,Vt=Nt.sub(this),this.negative=1,Vt):this.length>Nt.length?this.clone().iadd(Nt):Nt.clone().iadd(this)},mt.prototype.isub=function(Nt){if(Nt.negative!==0){Nt.negative=0;var Vt=this.iadd(Nt);return Nt.negative=1,Vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Nt),this.negative=1,this._normSign();var er=this.cmp(Nt);if(er===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yt,rr;er>0?(Yt=this,rr=Nt):(Yt=Nt,rr=this);for(var ar=0,lr=0;lr<rr.length;lr++)Vt=(Yt.words[lr]|0)-(rr.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;for(;ar!==0&&lr<Yt.length;lr++)Vt=(Yt.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;if(ar===0&&lr<Yt.length&&Yt!==this)for(;lr<Yt.length;lr++)this.words[lr]=Yt.words[lr];return this.length=Math.max(this.length,lr),Yt!==this&&(this.negative=1),this.strip()},mt.prototype.sub=function(Nt){return this.clone().isub(Nt)};function ir(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative;var er=cr.length+Nt.length|0;Vt.length=er,er=er-1|0;var Yt=cr.words[0]|0,rr=Nt.words[0]|0,ar=Yt*rr,lr=ar&67108863,nr=ar/67108864|0;Vt.words[0]=lr;for(var Lt=1;Lt<er;Lt++){for(var or=nr>>>26,gr=nr&67108863,pr=Math.min(Lt,Nt.length-1),_r=Math.max(0,Lt-cr.length+1);_r<=pr;_r++){var kr=Lt-_r|0;Yt=cr.words[kr]|0,rr=Nt.words[_r]|0,ar=Yt*rr+gr,or+=ar/67108864|0,gr=ar&67108863}Vt.words[Lt]=gr|0,nr=or|0}return nr!==0?Vt.words[Lt]=nr|0:Vt.length--,Vt.strip()}var sr=function(Nt,Vt,er){var Yt=Nt.words,rr=Vt.words,ar=er.words,lr=0,nr,Lt,or,gr=Yt[0]|0,pr=gr&8191,_r=gr>>>13,kr=Yt[1]|0,Mr=kr&8191,$r=kr>>>13,Pr=Yt[2]|0,Fr=Pr&8191,Tr=Pr>>>13,Rr=Yt[3]|0,Er=Rr&8191,Or=Rr>>>13,Wr=Yt[4]|0,qr=Wr&8191,Vr=Wr>>>13,Ur=Yt[5]|0,Lr=Ur&8191,Br=Ur>>>13,Xr=Yt[6]|0,zr=Xr&8191,Qr=Xr>>>13,Qn=Yt[7]|0,nn=Qn&8191,$n=Qn>>>13,lo=Yt[8]|0,sn=lo&8191,Nn=lo>>>13,xo=Yt[9]|0,Ir=xo&8191,Ar=xo>>>13,Dr=rr[0]|0,Nr=Dr&8191,Gr=Dr>>>13,Un=rr[1]|0,Zr=Un&8191,Cn=Un>>>13,wo=rr[2]|0,Hn=wo&8191,Kn=wo>>>13,bo=rr[3]|0,Jn=bo&8191,no=bo>>>13,Do=rr[4]|0,eo=Do&8191,io=Do>>>13,Io=rr[5]|0,_i=Io&8191,ro=Io>>>13,Oo=rr[6]|0,Hr=Oo&8191,Yr=Oo>>>13,Wn=rr[7]|0,rn=Wn&8191,dn=Wn>>>13,po=rr[8]|0,Ln=po&8191,Vn=po>>>13,uo=rr[9]|0,pn=uo&8191,zn=uo>>>13;er.negative=Nt.negative^Vt.negative,er.length=19,nr=Math.imul(pr,Nr),Lt=Math.imul(pr,Gr),Lt=Lt+Math.imul(_r,Nr)|0,or=Math.imul(_r,Gr);var go=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(go>>>26)|0,go&=67108863,nr=Math.imul(Mr,Nr),Lt=Math.imul(Mr,Gr),Lt=Lt+Math.imul($r,Nr)|0,or=Math.imul($r,Gr),nr=nr+Math.imul(pr,Zr)|0,Lt=Lt+Math.imul(pr,Cn)|0,Lt=Lt+Math.imul(_r,Zr)|0,or=or+Math.imul(_r,Cn)|0;var co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(co>>>26)|0,co&=67108863,nr=Math.imul(Fr,Nr),Lt=Math.imul(Fr,Gr),Lt=Lt+Math.imul(Tr,Nr)|0,or=Math.imul(Tr,Gr),nr=nr+Math.imul(Mr,Zr)|0,Lt=Lt+Math.imul(Mr,Cn)|0,Lt=Lt+Math.imul($r,Zr)|0,or=or+Math.imul($r,Cn)|0,nr=nr+Math.imul(pr,Hn)|0,Lt=Lt+Math.imul(pr,Kn)|0,Lt=Lt+Math.imul(_r,Hn)|0,or=or+Math.imul(_r,Kn)|0;var Eo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,nr=Math.imul(Er,Nr),Lt=Math.imul(Er,Gr),Lt=Lt+Math.imul(Or,Nr)|0,or=Math.imul(Or,Gr),nr=nr+Math.imul(Fr,Zr)|0,Lt=Lt+Math.imul(Fr,Cn)|0,Lt=Lt+Math.imul(Tr,Zr)|0,or=or+Math.imul(Tr,Cn)|0,nr=nr+Math.imul(Mr,Hn)|0,Lt=Lt+Math.imul(Mr,Kn)|0,Lt=Lt+Math.imul($r,Hn)|0,or=or+Math.imul($r,Kn)|0,nr=nr+Math.imul(pr,Jn)|0,Lt=Lt+Math.imul(pr,no)|0,Lt=Lt+Math.imul(_r,Jn)|0,or=or+Math.imul(_r,no)|0;var To=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(To>>>26)|0,To&=67108863,nr=Math.imul(qr,Nr),Lt=Math.imul(qr,Gr),Lt=Lt+Math.imul(Vr,Nr)|0,or=Math.imul(Vr,Gr),nr=nr+Math.imul(Er,Zr)|0,Lt=Lt+Math.imul(Er,Cn)|0,Lt=Lt+Math.imul(Or,Zr)|0,or=or+Math.imul(Or,Cn)|0,nr=nr+Math.imul(Fr,Hn)|0,Lt=Lt+Math.imul(Fr,Kn)|0,Lt=Lt+Math.imul(Tr,Hn)|0,or=or+Math.imul(Tr,Kn)|0,nr=nr+Math.imul(Mr,Jn)|0,Lt=Lt+Math.imul(Mr,no)|0,Lt=Lt+Math.imul($r,Jn)|0,or=or+Math.imul($r,no)|0,nr=nr+Math.imul(pr,eo)|0,Lt=Lt+Math.imul(pr,io)|0,Lt=Lt+Math.imul(_r,eo)|0,or=or+Math.imul(_r,io)|0;var Co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Co>>>26)|0,Co&=67108863,nr=Math.imul(Lr,Nr),Lt=Math.imul(Lr,Gr),Lt=Lt+Math.imul(Br,Nr)|0,or=Math.imul(Br,Gr),nr=nr+Math.imul(qr,Zr)|0,Lt=Lt+Math.imul(qr,Cn)|0,Lt=Lt+Math.imul(Vr,Zr)|0,or=or+Math.imul(Vr,Cn)|0,nr=nr+Math.imul(Er,Hn)|0,Lt=Lt+Math.imul(Er,Kn)|0,Lt=Lt+Math.imul(Or,Hn)|0,or=or+Math.imul(Or,Kn)|0,nr=nr+Math.imul(Fr,Jn)|0,Lt=Lt+Math.imul(Fr,no)|0,Lt=Lt+Math.imul(Tr,Jn)|0,or=or+Math.imul(Tr,no)|0,nr=nr+Math.imul(Mr,eo)|0,Lt=Lt+Math.imul(Mr,io)|0,Lt=Lt+Math.imul($r,eo)|0,or=or+Math.imul($r,io)|0,nr=nr+Math.imul(pr,_i)|0,Lt=Lt+Math.imul(pr,ro)|0,Lt=Lt+Math.imul(_r,_i)|0,or=or+Math.imul(_r,ro)|0;var Mo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,nr=Math.imul(zr,Nr),Lt=Math.imul(zr,Gr),Lt=Lt+Math.imul(Qr,Nr)|0,or=Math.imul(Qr,Gr),nr=nr+Math.imul(Lr,Zr)|0,Lt=Lt+Math.imul(Lr,Cn)|0,Lt=Lt+Math.imul(Br,Zr)|0,or=or+Math.imul(Br,Cn)|0,nr=nr+Math.imul(qr,Hn)|0,Lt=Lt+Math.imul(qr,Kn)|0,Lt=Lt+Math.imul(Vr,Hn)|0,or=or+Math.imul(Vr,Kn)|0,nr=nr+Math.imul(Er,Jn)|0,Lt=Lt+Math.imul(Er,no)|0,Lt=Lt+Math.imul(Or,Jn)|0,or=or+Math.imul(Or,no)|0,nr=nr+Math.imul(Fr,eo)|0,Lt=Lt+Math.imul(Fr,io)|0,Lt=Lt+Math.imul(Tr,eo)|0,or=or+Math.imul(Tr,io)|0,nr=nr+Math.imul(Mr,_i)|0,Lt=Lt+Math.imul(Mr,ro)|0,Lt=Lt+Math.imul($r,_i)|0,or=or+Math.imul($r,ro)|0,nr=nr+Math.imul(pr,Hr)|0,Lt=Lt+Math.imul(pr,Yr)|0,Lt=Lt+Math.imul(_r,Hr)|0,or=or+Math.imul(_r,Yr)|0;var No=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(No>>>26)|0,No&=67108863,nr=Math.imul(nn,Nr),Lt=Math.imul(nn,Gr),Lt=Lt+Math.imul($n,Nr)|0,or=Math.imul($n,Gr),nr=nr+Math.imul(zr,Zr)|0,Lt=Lt+Math.imul(zr,Cn)|0,Lt=Lt+Math.imul(Qr,Zr)|0,or=or+Math.imul(Qr,Cn)|0,nr=nr+Math.imul(Lr,Hn)|0,Lt=Lt+Math.imul(Lr,Kn)|0,Lt=Lt+Math.imul(Br,Hn)|0,or=or+Math.imul(Br,Kn)|0,nr=nr+Math.imul(qr,Jn)|0,Lt=Lt+Math.imul(qr,no)|0,Lt=Lt+Math.imul(Vr,Jn)|0,or=or+Math.imul(Vr,no)|0,nr=nr+Math.imul(Er,eo)|0,Lt=Lt+Math.imul(Er,io)|0,Lt=Lt+Math.imul(Or,eo)|0,or=or+Math.imul(Or,io)|0,nr=nr+Math.imul(Fr,_i)|0,Lt=Lt+Math.imul(Fr,ro)|0,Lt=Lt+Math.imul(Tr,_i)|0,or=or+Math.imul(Tr,ro)|0,nr=nr+Math.imul(Mr,Hr)|0,Lt=Lt+Math.imul(Mr,Yr)|0,Lt=Lt+Math.imul($r,Hr)|0,or=or+Math.imul($r,Yr)|0,nr=nr+Math.imul(pr,rn)|0,Lt=Lt+Math.imul(pr,dn)|0,Lt=Lt+Math.imul(_r,rn)|0,or=or+Math.imul(_r,dn)|0;var zo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(zo>>>26)|0,zo&=67108863,nr=Math.imul(sn,Nr),Lt=Math.imul(sn,Gr),Lt=Lt+Math.imul(Nn,Nr)|0,or=Math.imul(Nn,Gr),nr=nr+Math.imul(nn,Zr)|0,Lt=Lt+Math.imul(nn,Cn)|0,Lt=Lt+Math.imul($n,Zr)|0,or=or+Math.imul($n,Cn)|0,nr=nr+Math.imul(zr,Hn)|0,Lt=Lt+Math.imul(zr,Kn)|0,Lt=Lt+Math.imul(Qr,Hn)|0,or=or+Math.imul(Qr,Kn)|0,nr=nr+Math.imul(Lr,Jn)|0,Lt=Lt+Math.imul(Lr,no)|0,Lt=Lt+Math.imul(Br,Jn)|0,or=or+Math.imul(Br,no)|0,nr=nr+Math.imul(qr,eo)|0,Lt=Lt+Math.imul(qr,io)|0,Lt=Lt+Math.imul(Vr,eo)|0,or=or+Math.imul(Vr,io)|0,nr=nr+Math.imul(Er,_i)|0,Lt=Lt+Math.imul(Er,ro)|0,Lt=Lt+Math.imul(Or,_i)|0,or=or+Math.imul(Or,ro)|0,nr=nr+Math.imul(Fr,Hr)|0,Lt=Lt+Math.imul(Fr,Yr)|0,Lt=Lt+Math.imul(Tr,Hr)|0,or=or+Math.imul(Tr,Yr)|0,nr=nr+Math.imul(Mr,rn)|0,Lt=Lt+Math.imul(Mr,dn)|0,Lt=Lt+Math.imul($r,rn)|0,or=or+Math.imul($r,dn)|0,nr=nr+Math.imul(pr,Ln)|0,Lt=Lt+Math.imul(pr,Vn)|0,Lt=Lt+Math.imul(_r,Ln)|0,or=or+Math.imul(_r,Vn)|0;var Bo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,nr=Math.imul(Ir,Nr),Lt=Math.imul(Ir,Gr),Lt=Lt+Math.imul(Ar,Nr)|0,or=Math.imul(Ar,Gr),nr=nr+Math.imul(sn,Zr)|0,Lt=Lt+Math.imul(sn,Cn)|0,Lt=Lt+Math.imul(Nn,Zr)|0,or=or+Math.imul(Nn,Cn)|0,nr=nr+Math.imul(nn,Hn)|0,Lt=Lt+Math.imul(nn,Kn)|0,Lt=Lt+Math.imul($n,Hn)|0,or=or+Math.imul($n,Kn)|0,nr=nr+Math.imul(zr,Jn)|0,Lt=Lt+Math.imul(zr,no)|0,Lt=Lt+Math.imul(Qr,Jn)|0,or=or+Math.imul(Qr,no)|0,nr=nr+Math.imul(Lr,eo)|0,Lt=Lt+Math.imul(Lr,io)|0,Lt=Lt+Math.imul(Br,eo)|0,or=or+Math.imul(Br,io)|0,nr=nr+Math.imul(qr,_i)|0,Lt=Lt+Math.imul(qr,ro)|0,Lt=Lt+Math.imul(Vr,_i)|0,or=or+Math.imul(Vr,ro)|0,nr=nr+Math.imul(Er,Hr)|0,Lt=Lt+Math.imul(Er,Yr)|0,Lt=Lt+Math.imul(Or,Hr)|0,or=or+Math.imul(Or,Yr)|0,nr=nr+Math.imul(Fr,rn)|0,Lt=Lt+Math.imul(Fr,dn)|0,Lt=Lt+Math.imul(Tr,rn)|0,or=or+Math.imul(Tr,dn)|0,nr=nr+Math.imul(Mr,Ln)|0,Lt=Lt+Math.imul(Mr,Vn)|0,Lt=Lt+Math.imul($r,Ln)|0,or=or+Math.imul($r,Vn)|0,nr=nr+Math.imul(pr,pn)|0,Lt=Lt+Math.imul(pr,zn)|0,Lt=Lt+Math.imul(_r,pn)|0,or=or+Math.imul(_r,zn)|0;var Po=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Po>>>26)|0,Po&=67108863,nr=Math.imul(Ir,Zr),Lt=Math.imul(Ir,Cn),Lt=Lt+Math.imul(Ar,Zr)|0,or=Math.imul(Ar,Cn),nr=nr+Math.imul(sn,Hn)|0,Lt=Lt+Math.imul(sn,Kn)|0,Lt=Lt+Math.imul(Nn,Hn)|0,or=or+Math.imul(Nn,Kn)|0,nr=nr+Math.imul(nn,Jn)|0,Lt=Lt+Math.imul(nn,no)|0,Lt=Lt+Math.imul($n,Jn)|0,or=or+Math.imul($n,no)|0,nr=nr+Math.imul(zr,eo)|0,Lt=Lt+Math.imul(zr,io)|0,Lt=Lt+Math.imul(Qr,eo)|0,or=or+Math.imul(Qr,io)|0,nr=nr+Math.imul(Lr,_i)|0,Lt=Lt+Math.imul(Lr,ro)|0,Lt=Lt+Math.imul(Br,_i)|0,or=or+Math.imul(Br,ro)|0,nr=nr+Math.imul(qr,Hr)|0,Lt=Lt+Math.imul(qr,Yr)|0,Lt=Lt+Math.imul(Vr,Hr)|0,or=or+Math.imul(Vr,Yr)|0,nr=nr+Math.imul(Er,rn)|0,Lt=Lt+Math.imul(Er,dn)|0,Lt=Lt+Math.imul(Or,rn)|0,or=or+Math.imul(Or,dn)|0,nr=nr+Math.imul(Fr,Ln)|0,Lt=Lt+Math.imul(Fr,Vn)|0,Lt=Lt+Math.imul(Tr,Ln)|0,or=or+Math.imul(Tr,Vn)|0,nr=nr+Math.imul(Mr,pn)|0,Lt=Lt+Math.imul(Mr,zn)|0,Lt=Lt+Math.imul($r,pn)|0,or=or+Math.imul($r,zn)|0;var Wo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,nr=Math.imul(Ir,Hn),Lt=Math.imul(Ir,Kn),Lt=Lt+Math.imul(Ar,Hn)|0,or=Math.imul(Ar,Kn),nr=nr+Math.imul(sn,Jn)|0,Lt=Lt+Math.imul(sn,no)|0,Lt=Lt+Math.imul(Nn,Jn)|0,or=or+Math.imul(Nn,no)|0,nr=nr+Math.imul(nn,eo)|0,Lt=Lt+Math.imul(nn,io)|0,Lt=Lt+Math.imul($n,eo)|0,or=or+Math.imul($n,io)|0,nr=nr+Math.imul(zr,_i)|0,Lt=Lt+Math.imul(zr,ro)|0,Lt=Lt+Math.imul(Qr,_i)|0,or=or+Math.imul(Qr,ro)|0,nr=nr+Math.imul(Lr,Hr)|0,Lt=Lt+Math.imul(Lr,Yr)|0,Lt=Lt+Math.imul(Br,Hr)|0,or=or+Math.imul(Br,Yr)|0,nr=nr+Math.imul(qr,rn)|0,Lt=Lt+Math.imul(qr,dn)|0,Lt=Lt+Math.imul(Vr,rn)|0,or=or+Math.imul(Vr,dn)|0,nr=nr+Math.imul(Er,Ln)|0,Lt=Lt+Math.imul(Er,Vn)|0,Lt=Lt+Math.imul(Or,Ln)|0,or=or+Math.imul(Or,Vn)|0,nr=nr+Math.imul(Fr,pn)|0,Lt=Lt+Math.imul(Fr,zn)|0,Lt=Lt+Math.imul(Tr,pn)|0,or=or+Math.imul(Tr,zn)|0;var Fo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,nr=Math.imul(Ir,Jn),Lt=Math.imul(Ir,no),Lt=Lt+Math.imul(Ar,Jn)|0,or=Math.imul(Ar,no),nr=nr+Math.imul(sn,eo)|0,Lt=Lt+Math.imul(sn,io)|0,Lt=Lt+Math.imul(Nn,eo)|0,or=or+Math.imul(Nn,io)|0,nr=nr+Math.imul(nn,_i)|0,Lt=Lt+Math.imul(nn,ro)|0,Lt=Lt+Math.imul($n,_i)|0,or=or+Math.imul($n,ro)|0,nr=nr+Math.imul(zr,Hr)|0,Lt=Lt+Math.imul(zr,Yr)|0,Lt=Lt+Math.imul(Qr,Hr)|0,or=or+Math.imul(Qr,Yr)|0,nr=nr+Math.imul(Lr,rn)|0,Lt=Lt+Math.imul(Lr,dn)|0,Lt=Lt+Math.imul(Br,rn)|0,or=or+Math.imul(Br,dn)|0,nr=nr+Math.imul(qr,Ln)|0,Lt=Lt+Math.imul(qr,Vn)|0,Lt=Lt+Math.imul(Vr,Ln)|0,or=or+Math.imul(Vr,Vn)|0,nr=nr+Math.imul(Er,pn)|0,Lt=Lt+Math.imul(Er,zn)|0,Lt=Lt+Math.imul(Or,pn)|0,or=or+Math.imul(Or,zn)|0;var jo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(jo>>>26)|0,jo&=67108863,nr=Math.imul(Ir,eo),Lt=Math.imul(Ir,io),Lt=Lt+Math.imul(Ar,eo)|0,or=Math.imul(Ar,io),nr=nr+Math.imul(sn,_i)|0,Lt=Lt+Math.imul(sn,ro)|0,Lt=Lt+Math.imul(Nn,_i)|0,or=or+Math.imul(Nn,ro)|0,nr=nr+Math.imul(nn,Hr)|0,Lt=Lt+Math.imul(nn,Yr)|0,Lt=Lt+Math.imul($n,Hr)|0,or=or+Math.imul($n,Yr)|0,nr=nr+Math.imul(zr,rn)|0,Lt=Lt+Math.imul(zr,dn)|0,Lt=Lt+Math.imul(Qr,rn)|0,or=or+Math.imul(Qr,dn)|0,nr=nr+Math.imul(Lr,Ln)|0,Lt=Lt+Math.imul(Lr,Vn)|0,Lt=Lt+Math.imul(Br,Ln)|0,or=or+Math.imul(Br,Vn)|0,nr=nr+Math.imul(qr,pn)|0,Lt=Lt+Math.imul(qr,zn)|0,Lt=Lt+Math.imul(Vr,pn)|0,or=or+Math.imul(Vr,zn)|0;var Uo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,nr=Math.imul(Ir,_i),Lt=Math.imul(Ir,ro),Lt=Lt+Math.imul(Ar,_i)|0,or=Math.imul(Ar,ro),nr=nr+Math.imul(sn,Hr)|0,Lt=Lt+Math.imul(sn,Yr)|0,Lt=Lt+Math.imul(Nn,Hr)|0,or=or+Math.imul(Nn,Yr)|0,nr=nr+Math.imul(nn,rn)|0,Lt=Lt+Math.imul(nn,dn)|0,Lt=Lt+Math.imul($n,rn)|0,or=or+Math.imul($n,dn)|0,nr=nr+Math.imul(zr,Ln)|0,Lt=Lt+Math.imul(zr,Vn)|0,Lt=Lt+Math.imul(Qr,Ln)|0,or=or+Math.imul(Qr,Vn)|0,nr=nr+Math.imul(Lr,pn)|0,Lt=Lt+Math.imul(Lr,zn)|0,Lt=Lt+Math.imul(Br,pn)|0,or=or+Math.imul(Br,zn)|0;var Vo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,nr=Math.imul(Ir,Hr),Lt=Math.imul(Ir,Yr),Lt=Lt+Math.imul(Ar,Hr)|0,or=Math.imul(Ar,Yr),nr=nr+Math.imul(sn,rn)|0,Lt=Lt+Math.imul(sn,dn)|0,Lt=Lt+Math.imul(Nn,rn)|0,or=or+Math.imul(Nn,dn)|0,nr=nr+Math.imul(nn,Ln)|0,Lt=Lt+Math.imul(nn,Vn)|0,Lt=Lt+Math.imul($n,Ln)|0,or=or+Math.imul($n,Vn)|0,nr=nr+Math.imul(zr,pn)|0,Lt=Lt+Math.imul(zr,zn)|0,Lt=Lt+Math.imul(Qr,pn)|0,or=or+Math.imul(Qr,zn)|0;var $o=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+($o>>>26)|0,$o&=67108863,nr=Math.imul(Ir,rn),Lt=Math.imul(Ir,dn),Lt=Lt+Math.imul(Ar,rn)|0,or=Math.imul(Ar,dn),nr=nr+Math.imul(sn,Ln)|0,Lt=Lt+Math.imul(sn,Vn)|0,Lt=Lt+Math.imul(Nn,Ln)|0,or=or+Math.imul(Nn,Vn)|0,nr=nr+Math.imul(nn,pn)|0,Lt=Lt+Math.imul(nn,zn)|0,Lt=Lt+Math.imul($n,pn)|0,or=or+Math.imul($n,zn)|0;var ko=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(ko>>>26)|0,ko&=67108863,nr=Math.imul(Ir,Ln),Lt=Math.imul(Ir,Vn),Lt=Lt+Math.imul(Ar,Ln)|0,or=Math.imul(Ar,Vn),nr=nr+Math.imul(sn,pn)|0,Lt=Lt+Math.imul(sn,zn)|0,Lt=Lt+Math.imul(Nn,pn)|0,or=or+Math.imul(Nn,zn)|0;var Lo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,nr=Math.imul(Ir,pn),Lt=Math.imul(Ir,zn),Lt=Lt+Math.imul(Ar,pn)|0,or=Math.imul(Ar,zn);var Ho=(lr+nr|0)+((Lt&8191)<<13)|0;return lr=(or+(Lt>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ar[0]=go,ar[1]=co,ar[2]=Eo,ar[3]=To,ar[4]=Co,ar[5]=Mo,ar[6]=No,ar[7]=zo,ar[8]=Bo,ar[9]=Po,ar[10]=Wo,ar[11]=Fo,ar[12]=jo,ar[13]=Uo,ar[14]=Vo,ar[15]=$o,ar[16]=ko,ar[17]=Lo,ar[18]=Ho,lr!==0&&(ar[19]=lr,er.length++),er};Math.imul||(sr=ir);function ur(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative,Vt.length=cr.length+Nt.length;for(var er=0,Yt=0,rr=0;rr<Vt.length-1;rr++){var ar=Yt;Yt=0;for(var lr=er&67108863,nr=Math.min(rr,Nt.length-1),Lt=Math.max(0,rr-cr.length+1);Lt<=nr;Lt++){var or=rr-Lt,gr=cr.words[or]|0,pr=Nt.words[Lt]|0,_r=gr*pr,kr=_r&67108863;ar=ar+(_r/67108864|0)|0,kr=kr+lr|0,lr=kr&67108863,ar=ar+(kr>>>26)|0,Yt+=ar>>>26,ar&=67108863}Vt.words[rr]=lr,er=ar,ar=Yt}return er!==0?Vt.words[rr]=er:Vt.length--,Vt.strip()}function fr(cr,Nt,Vt){var er=new dr;return er.mulp(cr,Nt,Vt)}mt.prototype.mulTo=function(Nt,Vt){var er,Yt=this.length+Nt.length;return this.length===10&&Nt.length===10?er=sr(this,Nt,Vt):Yt<63?er=ir(this,Nt,Vt):Yt<1024?er=ur(this,Nt,Vt):er=fr(this,Nt,Vt),er};function dr(cr,Nt){this.x=cr,this.y=Nt}dr.prototype.makeRBT=function(Nt){for(var Vt=new Array(Nt),er=mt.prototype._countBits(Nt)-1,Yt=0;Yt<Nt;Yt++)Vt[Yt]=this.revBin(Yt,er,Nt);return Vt},dr.prototype.revBin=function(Nt,Vt,er){if(Nt===0||Nt===er-1)return Nt;for(var Yt=0,rr=0;rr<Vt;rr++)Yt|=(Nt&1)<<Vt-rr-1,Nt>>=1;return Yt},dr.prototype.permute=function(Nt,Vt,er,Yt,rr,ar){for(var lr=0;lr<ar;lr++)Yt[lr]=Vt[Nt[lr]],rr[lr]=er[Nt[lr]]},dr.prototype.transform=function(Nt,Vt,er,Yt,rr,ar){this.permute(ar,Nt,Vt,er,Yt,rr);for(var lr=1;lr<rr;lr<<=1)for(var nr=lr<<1,Lt=Math.cos(2*Math.PI/nr),or=Math.sin(2*Math.PI/nr),gr=0;gr<rr;gr+=nr)for(var pr=Lt,_r=or,kr=0;kr<lr;kr++){var Mr=er[gr+kr],$r=Yt[gr+kr],Pr=er[gr+kr+lr],Fr=Yt[gr+kr+lr],Tr=pr*Pr-_r*Fr;Fr=pr*Fr+_r*Pr,Pr=Tr,er[gr+kr]=Mr+Pr,Yt[gr+kr]=$r+Fr,er[gr+kr+lr]=Mr-Pr,Yt[gr+kr+lr]=$r-Fr,kr!==nr&&(Tr=Lt*pr-or*_r,_r=Lt*_r+or*pr,pr=Tr)}},dr.prototype.guessLen13b=function(Nt,Vt){var er=Math.max(Vt,Nt)|1,Yt=er&1,rr=0;for(er=er/2|0;er;er=er>>>1)rr++;return 1<<rr+1+Yt},dr.prototype.conjugate=function(Nt,Vt,er){if(!(er<=1))for(var Yt=0;Yt<er/2;Yt++){var rr=Nt[Yt];Nt[Yt]=Nt[er-Yt-1],Nt[er-Yt-1]=rr,rr=Vt[Yt],Vt[Yt]=-Vt[er-Yt-1],Vt[er-Yt-1]=-rr}},dr.prototype.normalize13b=function(Nt,Vt){for(var er=0,Yt=0;Yt<Vt/2;Yt++){var rr=Math.round(Nt[2*Yt+1]/Vt)*8192+Math.round(Nt[2*Yt]/Vt)+er;Nt[Yt]=rr&67108863,rr<67108864?er=0:er=rr/67108864|0}return Nt},dr.prototype.convert13b=function(Nt,Vt,er,Yt){for(var rr=0,ar=0;ar<Vt;ar++)rr=rr+(Nt[ar]|0),er[2*ar]=rr&8191,rr=rr>>>13,er[2*ar+1]=rr&8191,rr=rr>>>13;for(ar=2*Vt;ar<Yt;++ar)er[ar]=0;nt(rr===0),nt((rr&-8192)===0)},dr.prototype.stub=function(Nt){for(var Vt=new Array(Nt),er=0;er<Nt;er++)Vt[er]=0;return Vt},dr.prototype.mulp=function(Nt,Vt,er){var Yt=2*this.guessLen13b(Nt.length,Vt.length),rr=this.makeRBT(Yt),ar=this.stub(Yt),lr=new Array(Yt),nr=new Array(Yt),Lt=new Array(Yt),or=new Array(Yt),gr=new Array(Yt),pr=new Array(Yt),_r=er.words;_r.length=Yt,this.convert13b(Nt.words,Nt.length,lr,Yt),this.convert13b(Vt.words,Vt.length,or,Yt),this.transform(lr,ar,nr,Lt,Yt,rr),this.transform(or,ar,gr,pr,Yt,rr);for(var kr=0;kr<Yt;kr++){var Mr=nr[kr]*gr[kr]-Lt[kr]*pr[kr];Lt[kr]=nr[kr]*pr[kr]+Lt[kr]*gr[kr],nr[kr]=Mr}return this.conjugate(nr,Lt,Yt),this.transform(nr,Lt,_r,ar,Yt,rr),this.conjugate(_r,ar,Yt),this.normalize13b(_r,Yt),er.negative=Nt.negative^Vt.negative,er.length=Nt.length+Vt.length,er.strip()},mt.prototype.mul=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),this.mulTo(Nt,Vt)},mt.prototype.mulf=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),fr(this,Nt,Vt)},mt.prototype.imul=function(Nt){return this.clone().mulTo(Nt,this)},mt.prototype.imuln=function(Nt){nt(typeof Nt=="number"),nt(Nt<67108864);for(var Vt=0,er=0;er<this.length;er++){var Yt=(this.words[er]|0)*Nt,rr=(Yt&67108863)+(Vt&67108863);Vt>>=26,Vt+=Yt/67108864|0,Vt+=rr>>>26,this.words[er]=rr&67108863}return Vt!==0&&(this.words[er]=Vt,this.length++),this},mt.prototype.muln=function(Nt){return this.clone().imuln(Nt)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(Nt){var Vt=tr(Nt);if(Vt.length===0)return new mt(1);for(var er=this,Yt=0;Yt<Vt.length&&Vt[Yt]===0;Yt++,er=er.sqr());if(++Yt<Vt.length)for(var rr=er.sqr();Yt<Vt.length;Yt++,rr=rr.sqr())Vt[Yt]!==0&&(er=er.mul(rr));return er},mt.prototype.iushln=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=67108863>>>26-Vt<<26-Vt,rr;if(Vt!==0){var ar=0;for(rr=0;rr<this.length;rr++){var lr=this.words[rr]&Yt,nr=(this.words[rr]|0)-lr<<Vt;this.words[rr]=nr|ar,ar=lr>>>26-Vt}ar&&(this.words[rr]=ar,this.length++)}if(er!==0){for(rr=this.length-1;rr>=0;rr--)this.words[rr+er]=this.words[rr];for(rr=0;rr<er;rr++)this.words[rr]=0;this.length+=er}return this.strip()},mt.prototype.ishln=function(Nt){return nt(this.negative===0),this.iushln(Nt)},mt.prototype.iushrn=function(Nt,Vt,er){nt(typeof Nt=="number"&&Nt>=0);var Yt;Vt?Yt=(Vt-Vt%26)/26:Yt=0;var rr=Nt%26,ar=Math.min((Nt-rr)/26,this.length),lr=67108863^67108863>>>rr<<rr,nr=er;if(Yt-=ar,Yt=Math.max(0,Yt),nr){for(var Lt=0;Lt<ar;Lt++)nr.words[Lt]=this.words[Lt];nr.length=ar}if(ar!==0)if(this.length>ar)for(this.length-=ar,Lt=0;Lt<this.length;Lt++)this.words[Lt]=this.words[Lt+ar];else this.words[0]=0,this.length=1;var or=0;for(Lt=this.length-1;Lt>=0&&(or!==0||Lt>=Yt);Lt--){var gr=this.words[Lt]|0;this.words[Lt]=or<<26-rr|gr>>>rr,or=gr&lr}return nr&&or!==0&&(nr.words[nr.length++]=or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},mt.prototype.ishrn=function(Nt,Vt,er){return nt(this.negative===0),this.iushrn(Nt,Vt,er)},mt.prototype.shln=function(Nt){return this.clone().ishln(Nt)},mt.prototype.ushln=function(Nt){return this.clone().iushln(Nt)},mt.prototype.shrn=function(Nt){return this.clone().ishrn(Nt)},mt.prototype.ushrn=function(Nt){return this.clone().iushrn(Nt)},mt.prototype.testn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return!1;var rr=this.words[er];return!!(rr&Yt)},mt.prototype.imaskn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=er)return this;if(Vt!==0&&er++,this.length=Math.min(er,this.length),Vt!==0){var Yt=67108863^67108863>>>Vt<<Vt;this.words[this.length-1]&=Yt}return this.strip()},mt.prototype.maskn=function(Nt){return this.clone().imaskn(Nt)},mt.prototype.iaddn=function(Nt){return nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0?this.isubn(-Nt):this.negative!==0?this.length===1&&(this.words[0]|0)<Nt?(this.words[0]=Nt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Nt),this.negative=1,this):this._iaddn(Nt)},mt.prototype._iaddn=function(Nt){this.words[0]+=Nt;for(var Vt=0;Vt<this.length&&this.words[Vt]>=67108864;Vt++)this.words[Vt]-=67108864,Vt===this.length-1?this.words[Vt+1]=1:this.words[Vt+1]++;return this.length=Math.max(this.length,Vt+1),this},mt.prototype.isubn=function(Nt){if(nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0)return this.iaddn(-Nt);if(this.negative!==0)return this.negative=0,this.iaddn(Nt),this.negative=1,this;if(this.words[0]-=Nt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Vt=0;Vt<this.length&&this.words[Vt]<0;Vt++)this.words[Vt]+=67108864,this.words[Vt+1]-=1;return this.strip()},mt.prototype.addn=function(Nt){return this.clone().iaddn(Nt)},mt.prototype.subn=function(Nt){return this.clone().isubn(Nt)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(Nt,Vt,er){var Yt=Nt.length+er,rr;this._expand(Yt);var ar,lr=0;for(rr=0;rr<Nt.length;rr++){ar=(this.words[rr+er]|0)+lr;var nr=(Nt.words[rr]|0)*Vt;ar-=nr&67108863,lr=(ar>>26)-(nr/67108864|0),this.words[rr+er]=ar&67108863}for(;rr<this.length-er;rr++)ar=(this.words[rr+er]|0)+lr,lr=ar>>26,this.words[rr+er]=ar&67108863;if(lr===0)return this.strip();for(nt(lr===-1),lr=0,rr=0;rr<this.length;rr++)ar=-(this.words[rr]|0)+lr,lr=ar>>26,this.words[rr]=ar&67108863;return this.negative=1,this.strip()},mt.prototype._wordDiv=function(Nt,Vt){var er=this.length-Nt.length,Yt=this.clone(),rr=Nt,ar=rr.words[rr.length-1]|0,lr=this._countBits(ar);er=26-lr,er!==0&&(rr=rr.ushln(er),Yt.iushln(er),ar=rr.words[rr.length-1]|0);var nr=Yt.length-rr.length,Lt;if(Vt!=="mod"){Lt=new mt(null),Lt.length=nr+1,Lt.words=new Array(Lt.length);for(var or=0;or<Lt.length;or++)Lt.words[or]=0}var gr=Yt.clone()._ishlnsubmul(rr,1,nr);gr.negative===0&&(Yt=gr,Lt&&(Lt.words[nr]=1));for(var pr=nr-1;pr>=0;pr--){var _r=(Yt.words[rr.length+pr]|0)*67108864+(Yt.words[rr.length+pr-1]|0);for(_r=Math.min(_r/ar|0,67108863),Yt._ishlnsubmul(rr,_r,pr);Yt.negative!==0;)_r--,Yt.negative=0,Yt._ishlnsubmul(rr,1,pr),Yt.isZero()||(Yt.negative^=1);Lt&&(Lt.words[pr]=_r)}return Lt&&Lt.strip(),Yt.strip(),Vt!=="div"&&er!==0&&Yt.iushrn(er),{div:Lt||null,mod:Yt}},mt.prototype.divmod=function(Nt,Vt,er){if(nt(!Nt.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var Yt,rr,ar;return this.negative!==0&&Nt.negative===0?(ar=this.neg().divmod(Nt,Vt),Vt!=="mod"&&(Yt=ar.div.neg()),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.iadd(Nt)),{div:Yt,mod:rr}):this.negative===0&&Nt.negative!==0?(ar=this.divmod(Nt.neg(),Vt),Vt!=="mod"&&(Yt=ar.div.neg()),{div:Yt,mod:ar.mod}):this.negative&Nt.negative?(ar=this.neg().divmod(Nt.neg(),Vt),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.isub(Nt)),{div:ar.div,mod:rr}):Nt.length>this.length||this.cmp(Nt)<0?{div:new mt(0),mod:this}:Nt.length===1?Vt==="div"?{div:this.divn(Nt.words[0]),mod:null}:Vt==="mod"?{div:null,mod:new mt(this.modn(Nt.words[0]))}:{div:this.divn(Nt.words[0]),mod:new mt(this.modn(Nt.words[0]))}:this._wordDiv(Nt,Vt)},mt.prototype.div=function(Nt){return this.divmod(Nt,"div",!1).div},mt.prototype.mod=function(Nt){return this.divmod(Nt,"mod",!1).mod},mt.prototype.umod=function(Nt){return this.divmod(Nt,"mod",!0).mod},mt.prototype.divRound=function(Nt){var Vt=this.divmod(Nt);if(Vt.mod.isZero())return Vt.div;var er=Vt.div.negative!==0?Vt.mod.isub(Nt):Vt.mod,Yt=Nt.ushrn(1),rr=Nt.andln(1),ar=er.cmp(Yt);return ar<0||rr===1&&ar===0?Vt.div:Vt.div.negative!==0?Vt.div.isubn(1):Vt.div.iaddn(1)},mt.prototype.modn=function(Nt){nt(Nt<=67108863);for(var Vt=(1<<26)%Nt,er=0,Yt=this.length-1;Yt>=0;Yt--)er=(Vt*er+(this.words[Yt]|0))%Nt;return er},mt.prototype.idivn=function(Nt){nt(Nt<=67108863);for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=(this.words[er]|0)+Vt*67108864;this.words[er]=Yt/Nt|0,Vt=Yt%Nt}return this.strip()},mt.prototype.divn=function(Nt){return this.clone().idivn(Nt)},mt.prototype.egcd=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=new mt(0),lr=new mt(1),nr=0;Vt.isEven()&&er.isEven();)Vt.iushrn(1),er.iushrn(1),++nr;for(var Lt=er.clone(),or=Vt.clone();!Vt.isZero();){for(var gr=0,pr=1;!(Vt.words[0]&pr)&&gr<26;++gr,pr<<=1);if(gr>0)for(Vt.iushrn(gr);gr-- >0;)(Yt.isOdd()||rr.isOdd())&&(Yt.iadd(Lt),rr.isub(or)),Yt.iushrn(1),rr.iushrn(1);for(var _r=0,kr=1;!(er.words[0]&kr)&&_r<26;++_r,kr<<=1);if(_r>0)for(er.iushrn(_r);_r-- >0;)(ar.isOdd()||lr.isOdd())&&(ar.iadd(Lt),lr.isub(or)),ar.iushrn(1),lr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(ar),rr.isub(lr)):(er.isub(Vt),ar.isub(Yt),lr.isub(rr))}return{a:ar,b:lr,gcd:er.iushln(nr)}},mt.prototype._invmp=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=er.clone();Vt.cmpn(1)>0&&er.cmpn(1)>0;){for(var lr=0,nr=1;!(Vt.words[0]&nr)&&lr<26;++lr,nr<<=1);if(lr>0)for(Vt.iushrn(lr);lr-- >0;)Yt.isOdd()&&Yt.iadd(ar),Yt.iushrn(1);for(var Lt=0,or=1;!(er.words[0]&or)&&Lt<26;++Lt,or<<=1);if(Lt>0)for(er.iushrn(Lt);Lt-- >0;)rr.isOdd()&&rr.iadd(ar),rr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(rr)):(er.isub(Vt),rr.isub(Yt))}var gr;return Vt.cmpn(1)===0?gr=Yt:gr=rr,gr.cmpn(0)<0&&gr.iadd(Nt),gr},mt.prototype.gcd=function(Nt){if(this.isZero())return Nt.abs();if(Nt.isZero())return this.abs();var Vt=this.clone(),er=Nt.clone();Vt.negative=0,er.negative=0;for(var Yt=0;Vt.isEven()&&er.isEven();Yt++)Vt.iushrn(1),er.iushrn(1);do{for(;Vt.isEven();)Vt.iushrn(1);for(;er.isEven();)er.iushrn(1);var rr=Vt.cmp(er);if(rr<0){var ar=Vt;Vt=er,er=ar}else if(rr===0||er.cmpn(1)===0)break;Vt.isub(er)}while(!0);return er.iushln(Yt)},mt.prototype.invm=function(Nt){return this.egcd(Nt).a.umod(Nt)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(Nt){return this.words[0]&Nt},mt.prototype.bincn=function(Nt){nt(typeof Nt=="number");var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return this._expand(er+1),this.words[er]|=Yt,this;for(var rr=Yt,ar=er;rr!==0&&ar<this.length;ar++){var lr=this.words[ar]|0;lr+=rr,rr=lr>>>26,lr&=67108863,this.words[ar]=lr}return rr!==0&&(this.words[ar]=rr,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(Nt){var Vt=Nt<0;if(this.negative!==0&&!Vt)return-1;if(this.negative===0&&Vt)return 1;this.strip();var er;if(this.length>1)er=1;else{Vt&&(Nt=-Nt),nt(Nt<=67108863,"Number is too big");var Yt=this.words[0]|0;er=Yt===Nt?0:Yt<Nt?-1:1}return this.negative!==0?-er|0:er},mt.prototype.cmp=function(Nt){if(this.negative!==0&&Nt.negative===0)return-1;if(this.negative===0&&Nt.negative!==0)return 1;var Vt=this.ucmp(Nt);return this.negative!==0?-Vt|0:Vt},mt.prototype.ucmp=function(Nt){if(this.length>Nt.length)return 1;if(this.length<Nt.length)return-1;for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=this.words[er]|0,rr=Nt.words[er]|0;if(Yt!==rr){Yt<rr?Vt=-1:Yt>rr&&(Vt=1);break}}return Vt},mt.prototype.gtn=function(Nt){return this.cmpn(Nt)===1},mt.prototype.gt=function(Nt){return this.cmp(Nt)===1},mt.prototype.gten=function(Nt){return this.cmpn(Nt)>=0},mt.prototype.gte=function(Nt){return this.cmp(Nt)>=0},mt.prototype.ltn=function(Nt){return this.cmpn(Nt)===-1},mt.prototype.lt=function(Nt){return this.cmp(Nt)===-1},mt.prototype.lten=function(Nt){return this.cmpn(Nt)<=0},mt.prototype.lte=function(Nt){return this.cmp(Nt)<=0},mt.prototype.eqn=function(Nt){return this.cmpn(Nt)===0},mt.prototype.eq=function(Nt){return this.cmp(Nt)===0},mt.red=function(Nt){return new Sr(Nt)},mt.prototype.toRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),Nt.convertTo(this)._forceRed(Nt)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(Nt){return this.red=Nt,this},mt.prototype.forceRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(Nt)},mt.prototype.redAdd=function(Nt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,Nt)},mt.prototype.redIAdd=function(Nt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Nt)},mt.prototype.redSub=function(Nt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,Nt)},mt.prototype.redISub=function(Nt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,Nt)},mt.prototype.redShl=function(Nt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,Nt)},mt.prototype.redMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.mul(this,Nt)},mt.prototype.redIMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.imul(this,Nt)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(Nt){return nt(this.red&&!Nt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Nt)};var hr={k256:null,p224:null,p192:null,p25519:null};function vr(cr,Nt){this.name=cr,this.p=new mt(Nt,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vr.prototype._tmp=function(){var Nt=new mt(null);return Nt.words=new Array(Math.ceil(this.n/13)),Nt},vr.prototype.ireduce=function(Nt){var Vt=Nt,er;do this.split(Vt,this.tmp),Vt=this.imulK(Vt),Vt=Vt.iadd(this.tmp),er=Vt.bitLength();while(er>this.n);var Yt=er<this.n?-1:Vt.ucmp(this.p);return Yt===0?(Vt.words[0]=0,Vt.length=1):Yt>0?Vt.isub(this.p):Vt.strip!==void 0?Vt.strip():Vt._strip(),Vt},vr.prototype.split=function(Nt,Vt){Nt.iushrn(this.n,0,Vt)},vr.prototype.imulK=function(Nt){return Nt.imul(this.k)};function yr(){vr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(yr,vr),yr.prototype.split=function(Nt,Vt){for(var er=4194303,Yt=Math.min(Nt.length,9),rr=0;rr<Yt;rr++)Vt.words[rr]=Nt.words[rr];if(Vt.length=Yt,Nt.length<=9){Nt.words[0]=0,Nt.length=1;return}var ar=Nt.words[9];for(Vt.words[Vt.length++]=ar&er,rr=10;rr<Nt.length;rr++){var lr=Nt.words[rr]|0;Nt.words[rr-10]=(lr&er)<<4|ar>>>22,ar=lr}ar>>>=22,Nt.words[rr-10]=ar,ar===0&&Nt.length>10?Nt.length-=10:Nt.length-=9},yr.prototype.imulK=function(Nt){Nt.words[Nt.length]=0,Nt.words[Nt.length+1]=0,Nt.length+=2;for(var Vt=0,er=0;er<Nt.length;er++){var Yt=Nt.words[er]|0;Vt+=Yt*977,Nt.words[er]=Vt&67108863,Vt=Yt*64+(Vt/67108864|0)}return Nt.words[Nt.length-1]===0&&(Nt.length--,Nt.words[Nt.length-1]===0&&Nt.length--),Nt};function xr(){vr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(xr,vr);function br(){vr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(br,vr);function wr(){vr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(wr,vr),wr.prototype.imulK=function(Nt){for(var Vt=0,er=0;er<Nt.length;er++){var Yt=(Nt.words[er]|0)*19+Vt,rr=Yt&67108863;Yt>>>=26,Nt.words[er]=rr,Vt=Yt}return Vt!==0&&(Nt.words[Nt.length++]=Vt),Nt},mt._prime=function(Nt){if(hr[Nt])return hr[Nt];var Vt;if(Nt==="k256")Vt=new yr;else if(Nt==="p224")Vt=new xr;else if(Nt==="p192")Vt=new br;else if(Nt==="p25519")Vt=new wr;else throw new Error("Unknown prime "+Nt);return hr[Nt]=Vt,Vt};function Sr(cr){if(typeof cr=="string"){var Nt=mt._prime(cr);this.m=Nt.p,this.prime=Nt}else nt(cr.gtn(1),"modulus must be greater than 1"),this.m=cr,this.prime=null}Sr.prototype._verify1=function(Nt){nt(Nt.negative===0,"red works only with positives"),nt(Nt.red,"red works only with red numbers")},Sr.prototype._verify2=function(Nt,Vt){nt((Nt.negative|Vt.negative)===0,"red works only with positives"),nt(Nt.red&&Nt.red===Vt.red,"red works only with red numbers")},Sr.prototype.imod=function(Nt){return this.prime?this.prime.ireduce(Nt)._forceRed(this):Nt.umod(this.m)._forceRed(this)},Sr.prototype.neg=function(Nt){return Nt.isZero()?Nt.clone():this.m.sub(Nt)._forceRed(this)},Sr.prototype.add=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.add(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er._forceRed(this)},Sr.prototype.iadd=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.iadd(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er},Sr.prototype.sub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.sub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er._forceRed(this)},Sr.prototype.isub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.isub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er},Sr.prototype.shl=function(Nt,Vt){return this._verify1(Nt),this.imod(Nt.ushln(Vt))},Sr.prototype.imul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.imul(Vt))},Sr.prototype.mul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.mul(Vt))},Sr.prototype.isqr=function(Nt){return this.imul(Nt,Nt.clone())},Sr.prototype.sqr=function(Nt){return this.mul(Nt,Nt)},Sr.prototype.sqrt=function(Nt){if(Nt.isZero())return Nt.clone();var Vt=this.m.andln(3);if(nt(Vt%2===1),Vt===3){var er=this.m.add(new mt(1)).iushrn(2);return this.pow(Nt,er)}for(var Yt=this.m.subn(1),rr=0;!Yt.isZero()&&Yt.andln(1)===0;)rr++,Yt.iushrn(1);nt(!Yt.isZero());var ar=new mt(1).toRed(this),lr=ar.redNeg(),nr=this.m.subn(1).iushrn(1),Lt=this.m.bitLength();for(Lt=new mt(2*Lt*Lt).toRed(this);this.pow(Lt,nr).cmp(lr)!==0;)Lt.redIAdd(lr);for(var or=this.pow(Lt,Yt),gr=this.pow(Nt,Yt.addn(1).iushrn(1)),pr=this.pow(Nt,Yt),_r=rr;pr.cmp(ar)!==0;){for(var kr=pr,Mr=0;kr.cmp(ar)!==0;Mr++)kr=kr.redSqr();nt(Mr<_r);var $r=this.pow(or,new mt(1).iushln(_r-Mr-1));gr=gr.redMul($r),or=$r.redSqr(),pr=pr.redMul(or),_r=Mr}return gr},Sr.prototype.invm=function(Nt){var Vt=Nt._invmp(this.m);return Vt.negative!==0?(Vt.negative=0,this.imod(Vt).redNeg()):this.imod(Vt)},Sr.prototype.pow=function(Nt,Vt){if(Vt.isZero())return new mt(1).toRed(this);if(Vt.cmpn(1)===0)return Nt.clone();var er=4,Yt=new Array(1<<er);Yt[0]=new mt(1).toRed(this),Yt[1]=Nt;for(var rr=2;rr<Yt.length;rr++)Yt[rr]=this.mul(Yt[rr-1],Nt);var ar=Yt[0],lr=0,nr=0,Lt=Vt.bitLength()%26;for(Lt===0&&(Lt=26),rr=Vt.length-1;rr>=0;rr--){for(var or=Vt.words[rr],gr=Lt-1;gr>=0;gr--){var pr=or>>gr&1;if(ar!==Yt[0]&&(ar=this.sqr(ar)),pr===0&&lr===0){nr=0;continue}lr<<=1,lr|=pr,nr++,!(nr!==er&&(rr!==0||gr!==0))&&(ar=this.mul(ar,Yt[lr]),nr=0,lr=0)}Lt=26}return ar},Sr.prototype.convertTo=function(Nt){var Vt=Nt.umod(this.m);return Vt===Nt?Vt.clone():Vt},Sr.prototype.convertFrom=function(Nt){var Vt=Nt.clone();return Vt.red=null,Vt},mt.mont=function(Nt){return new Cr(Nt)};function Cr(cr){Sr.call(this,cr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Cr,Sr),Cr.prototype.convertTo=function(Nt){return this.imod(Nt.ushln(this.shift))},Cr.prototype.convertFrom=function(Nt){var Vt=this.imod(Nt.mul(this.rinv));return Vt.red=null,Vt},Cr.prototype.imul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return Nt.words[0]=0,Nt.length=1,Nt;var er=Nt.imul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.mul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return new mt(0)._forceRed(this);var er=Nt.mul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.invm=function(Nt){var Vt=this.imod(Nt._invmp(this.m).mul(this.r2));return Vt._forceRed(this)}})(a,commonjsGlobal$1)}(bn$4)),bn$4.exports}var utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(a){var s=a;function et(mt,wt){if(Array.isArray(mt))return mt.slice();if(!mt)return[];var $t=[];if(typeof mt!="string"){for(var Ct=0;Ct<mt.length;Ct++)$t[Ct]=mt[Ct]|0;return $t}if(wt==="hex"){mt=mt.replace(/[^a-z0-9]+/ig,""),mt.length%2!==0&&(mt="0"+mt);for(var Ct=0;Ct<mt.length;Ct+=2)$t.push(parseInt(mt[Ct]+mt[Ct+1],16))}else for(var Ct=0;Ct<mt.length;Ct++){var Dt=mt.charCodeAt(Ct),Ft=Dt>>8,jt=Dt&255;Ft?$t.push(Ft,jt):$t.push(jt)}return $t}s.toArray=et;function nt(mt){return mt.length===1?"0"+mt:mt}s.zero2=nt;function at(mt){for(var wt="",$t=0;$t<mt.length;$t++)wt+=nt(mt[$t].toString(16));return wt}s.toHex=at,s.encode=function(wt,$t){return $t==="hex"?at(wt):wt}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(a){var s=a,et=requireBn$3(),nt=requireMinimalisticAssert(),at=requireUtils$2();s.assert=nt,s.toArray=at.toArray,s.zero2=at.zero2,s.toHex=at.toHex,s.encode=at.encode;function mt(Ft,jt,Ut){var tr=new Array(Math.max(Ft.bitLength(),Ut)+1),ir;for(ir=0;ir<tr.length;ir+=1)tr[ir]=0;var sr=1<<jt+1,ur=Ft.clone();for(ir=0;ir<tr.length;ir++){var fr,dr=ur.andln(sr-1);ur.isOdd()?(dr>(sr>>1)-1?fr=(sr>>1)-dr:fr=dr,ur.isubn(fr)):fr=0,tr[ir]=fr,ur.iushrn(1)}return tr}s.getNAF=mt;function wt(Ft,jt){var Ut=[[],[]];Ft=Ft.clone(),jt=jt.clone();for(var tr=0,ir=0,sr;Ft.cmpn(-tr)>0||jt.cmpn(-ir)>0;){var ur=Ft.andln(3)+tr&3,fr=jt.andln(3)+ir&3;ur===3&&(ur=-1),fr===3&&(fr=-1);var dr;ur&1?(sr=Ft.andln(7)+tr&7,(sr===3||sr===5)&&fr===2?dr=-ur:dr=ur):dr=0,Ut[0].push(dr);var hr;fr&1?(sr=jt.andln(7)+ir&7,(sr===3||sr===5)&&ur===2?hr=-fr:hr=fr):hr=0,Ut[1].push(hr),2*tr===dr+1&&(tr=1-tr),2*ir===hr+1&&(ir=1-ir),Ft.iushrn(1),jt.iushrn(1)}return Ut}s.getJSF=wt;function $t(Ft,jt,Ut){var tr="_"+jt;Ft.prototype[jt]=function(){return this[tr]!==void 0?this[tr]:this[tr]=Ut.call(this)}}s.cachedProperty=$t;function Ct(Ft){return typeof Ft=="string"?s.toArray(Ft,"hex"):Ft}s.parseBytes=Ct;function Dt(Ft){return new et(Ft,"hex","le")}s.intFromLE=Dt}(utils$2)),utils$2}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var a=requireBn$3(),s=requireUtils$1(),et=s.getNAF,nt=s.getJSF,at=s.assert;function mt($t,Ct){this.type=$t,this.p=new a(Ct.p,16),this.red=Ct.prime?a.red(Ct.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=Ct.n&&new a(Ct.n,16),this.g=Ct.g&&this.pointFromJSON(Ct.g,Ct.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Dt=this.n&&this.p.div(this.n);!Dt||Dt.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=mt,mt.prototype.point=function(){throw new Error("Not implemented")},mt.prototype.validate=function(){throw new Error("Not implemented")},mt.prototype._fixedNafMul=function(Ct,Dt){at(Ct.precomputed);var Ft=Ct._getDoubles(),jt=et(Dt,1,this._bitLength),Ut=(1<<Ft.step+1)-(Ft.step%2===0?2:1);Ut/=3;var tr=[],ir,sr;for(ir=0;ir<jt.length;ir+=Ft.step){sr=0;for(var ur=ir+Ft.step-1;ur>=ir;ur--)sr=(sr<<1)+jt[ur];tr.push(sr)}for(var fr=this.jpoint(null,null,null),dr=this.jpoint(null,null,null),hr=Ut;hr>0;hr--){for(ir=0;ir<tr.length;ir++)sr=tr[ir],sr===hr?dr=dr.mixedAdd(Ft.points[ir]):sr===-hr&&(dr=dr.mixedAdd(Ft.points[ir].neg()));fr=fr.add(dr)}return fr.toP()},mt.prototype._wnafMul=function(Ct,Dt){var Ft=4,jt=Ct._getNAFPoints(Ft);Ft=jt.wnd;for(var Ut=jt.points,tr=et(Dt,Ft,this._bitLength),ir=this.jpoint(null,null,null),sr=tr.length-1;sr>=0;sr--){for(var ur=0;sr>=0&&tr[sr]===0;sr--)ur++;if(sr>=0&&ur++,ir=ir.dblp(ur),sr<0)break;var fr=tr[sr];at(fr!==0),Ct.type==="affine"?fr>0?ir=ir.mixedAdd(Ut[fr-1>>1]):ir=ir.mixedAdd(Ut[-fr-1>>1].neg()):fr>0?ir=ir.add(Ut[fr-1>>1]):ir=ir.add(Ut[-fr-1>>1].neg())}return Ct.type==="affine"?ir.toP():ir},mt.prototype._wnafMulAdd=function(Ct,Dt,Ft,jt,Ut){var tr=this._wnafT1,ir=this._wnafT2,sr=this._wnafT3,ur=0,fr,dr,hr;for(fr=0;fr<jt;fr++){hr=Dt[fr];var vr=hr._getNAFPoints(Ct);tr[fr]=vr.wnd,ir[fr]=vr.points}for(fr=jt-1;fr>=1;fr-=2){var yr=fr-1,xr=fr;if(tr[yr]!==1||tr[xr]!==1){sr[yr]=et(Ft[yr],tr[yr],this._bitLength),sr[xr]=et(Ft[xr],tr[xr],this._bitLength),ur=Math.max(sr[yr].length,ur),ur=Math.max(sr[xr].length,ur);continue}var br=[Dt[yr],null,null,Dt[xr]];Dt[yr].y.cmp(Dt[xr].y)===0?(br[1]=Dt[yr].add(Dt[xr]),br[2]=Dt[yr].toJ().mixedAdd(Dt[xr].neg())):Dt[yr].y.cmp(Dt[xr].y.redNeg())===0?(br[1]=Dt[yr].toJ().mixedAdd(Dt[xr]),br[2]=Dt[yr].add(Dt[xr].neg())):(br[1]=Dt[yr].toJ().mixedAdd(Dt[xr]),br[2]=Dt[yr].toJ().mixedAdd(Dt[xr].neg()));var wr=[-3,-1,-5,-7,0,7,5,1,3],Sr=nt(Ft[yr],Ft[xr]);for(ur=Math.max(Sr[0].length,ur),sr[yr]=new Array(ur),sr[xr]=new Array(ur),dr=0;dr<ur;dr++){var Cr=Sr[0][dr]|0,cr=Sr[1][dr]|0;sr[yr][dr]=wr[(Cr+1)*3+(cr+1)],sr[xr][dr]=0,ir[yr]=br}}var Nt=this.jpoint(null,null,null),Vt=this._wnafT4;for(fr=ur;fr>=0;fr--){for(var er=0;fr>=0;){var Yt=!0;for(dr=0;dr<jt;dr++)Vt[dr]=sr[dr][fr]|0,Vt[dr]!==0&&(Yt=!1);if(!Yt)break;er++,fr--}if(fr>=0&&er++,Nt=Nt.dblp(er),fr<0)break;for(dr=0;dr<jt;dr++){var rr=Vt[dr];rr!==0&&(rr>0?hr=ir[dr][rr-1>>1]:rr<0&&(hr=ir[dr][-rr-1>>1].neg()),hr.type==="affine"?Nt=Nt.mixedAdd(hr):Nt=Nt.add(hr))}}for(fr=0;fr<jt;fr++)ir[fr]=null;return Ut?Nt:Nt.toP()};function wt($t,Ct){this.curve=$t,this.type=Ct,this.precomputed=null}return mt.BasePoint=wt,wt.prototype.eq=function(){throw new Error("Not implemented")},wt.prototype.validate=function(){return this.curve.validate(this)},mt.prototype.decodePoint=function(Ct,Dt){Ct=s.toArray(Ct,Dt);var Ft=this.p.byteLength();if((Ct[0]===4||Ct[0]===6||Ct[0]===7)&&Ct.length-1===2*Ft){Ct[0]===6?at(Ct[Ct.length-1]%2===0):Ct[0]===7&&at(Ct[Ct.length-1]%2===1);var jt=this.point(Ct.slice(1,1+Ft),Ct.slice(1+Ft,1+2*Ft));return jt}else if((Ct[0]===2||Ct[0]===3)&&Ct.length-1===Ft)return this.pointFromX(Ct.slice(1,1+Ft),Ct[0]===3);throw new Error("Unknown point format")},wt.prototype.encodeCompressed=function(Ct){return this.encode(Ct,!0)},wt.prototype._encode=function(Ct){var Dt=this.curve.p.byteLength(),Ft=this.getX().toArray("be",Dt);return Ct?[this.getY().isEven()?2:3].concat(Ft):[4].concat(Ft,this.getY().toArray("be",Dt))},wt.prototype.encode=function(Ct,Dt){return s.encode(this._encode(Dt),Ct)},wt.prototype.precompute=function(Ct){if(this.precomputed)return this;var Dt={doubles:null,naf:null,beta:null};return Dt.naf=this._getNAFPoints(8),Dt.doubles=this._getDoubles(4,Ct),Dt.beta=this._getBeta(),this.precomputed=Dt,this},wt.prototype._hasDoubles=function(Ct){if(!this.precomputed)return!1;var Dt=this.precomputed.doubles;return Dt?Dt.points.length>=Math.ceil((Ct.bitLength()+1)/Dt.step):!1},wt.prototype._getDoubles=function(Ct,Dt){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Ft=[this],jt=this,Ut=0;Ut<Dt;Ut+=Ct){for(var tr=0;tr<Ct;tr++)jt=jt.dbl();Ft.push(jt)}return{step:Ct,points:Ft}},wt.prototype._getNAFPoints=function(Ct){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Dt=[this],Ft=(1<<Ct)-1,jt=Ft===1?null:this.dbl(),Ut=1;Ut<Ft;Ut++)Dt[Ut]=Dt[Ut-1].add(jt);return{wnd:Ct,points:Dt}},wt.prototype._getBeta=function(){return null},wt.prototype.dblp=function(Ct){for(var Dt=this,Ft=0;Ft<Ct;Ft++)Dt=Dt.dbl();return Dt},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var a=requireUtils$1(),s=requireBn$3(),et=requireInherits_browser(),nt=requireBase$1(),at=a.assert;function mt(Ct){nt.call(this,"short",Ct),this.a=new s(Ct.a,16).toRed(this.red),this.b=new s(Ct.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Ct),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}et(mt,nt),short=mt,mt.prototype._getEndomorphism=function(Dt){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Ft,jt;if(Dt.beta)Ft=new s(Dt.beta,16).toRed(this.red);else{var Ut=this._getEndoRoots(this.p);Ft=Ut[0].cmp(Ut[1])<0?Ut[0]:Ut[1],Ft=Ft.toRed(this.red)}if(Dt.lambda)jt=new s(Dt.lambda,16);else{var tr=this._getEndoRoots(this.n);this.g.mul(tr[0]).x.cmp(this.g.x.redMul(Ft))===0?jt=tr[0]:(jt=tr[1],at(this.g.mul(jt).x.cmp(this.g.x.redMul(Ft))===0))}var ir;return Dt.basis?ir=Dt.basis.map(function(sr){return{a:new s(sr.a,16),b:new s(sr.b,16)}}):ir=this._getEndoBasis(jt),{beta:Ft,lambda:jt,basis:ir}}},mt.prototype._getEndoRoots=function(Dt){var Ft=Dt===this.p?this.red:s.mont(Dt),jt=new s(2).toRed(Ft).redInvm(),Ut=jt.redNeg(),tr=new s(3).toRed(Ft).redNeg().redSqrt().redMul(jt),ir=Ut.redAdd(tr).fromRed(),sr=Ut.redSub(tr).fromRed();return[ir,sr]},mt.prototype._getEndoBasis=function(Dt){for(var Ft=this.n.ushrn(Math.floor(this.n.bitLength()/2)),jt=Dt,Ut=this.n.clone(),tr=new s(1),ir=new s(0),sr=new s(0),ur=new s(1),fr,dr,hr,vr,yr,xr,br,wr=0,Sr,Cr;jt.cmpn(0)!==0;){var cr=Ut.div(jt);Sr=Ut.sub(cr.mul(jt)),Cr=sr.sub(cr.mul(tr));var Nt=ur.sub(cr.mul(ir));if(!hr&&Sr.cmp(Ft)<0)fr=br.neg(),dr=tr,hr=Sr.neg(),vr=Cr;else if(hr&&++wr===2)break;br=Sr,Ut=jt,jt=Sr,sr=tr,tr=Cr,ur=ir,ir=Nt}yr=Sr.neg(),xr=Cr;var Vt=hr.sqr().add(vr.sqr()),er=yr.sqr().add(xr.sqr());return er.cmp(Vt)>=0&&(yr=fr,xr=dr),hr.negative&&(hr=hr.neg(),vr=vr.neg()),yr.negative&&(yr=yr.neg(),xr=xr.neg()),[{a:hr,b:vr},{a:yr,b:xr}]},mt.prototype._endoSplit=function(Dt){var Ft=this.endo.basis,jt=Ft[0],Ut=Ft[1],tr=Ut.b.mul(Dt).divRound(this.n),ir=jt.b.neg().mul(Dt).divRound(this.n),sr=tr.mul(jt.a),ur=ir.mul(Ut.a),fr=tr.mul(jt.b),dr=ir.mul(Ut.b),hr=Dt.sub(sr).sub(ur),vr=fr.add(dr).neg();return{k1:hr,k2:vr}},mt.prototype.pointFromX=function(Dt,Ft){Dt=new s(Dt,16),Dt.red||(Dt=Dt.toRed(this.red));var jt=Dt.redSqr().redMul(Dt).redIAdd(Dt.redMul(this.a)).redIAdd(this.b),Ut=jt.redSqrt();if(Ut.redSqr().redSub(jt).cmp(this.zero)!==0)throw new Error("invalid point");var tr=Ut.fromRed().isOdd();return(Ft&&!tr||!Ft&&tr)&&(Ut=Ut.redNeg()),this.point(Dt,Ut)},mt.prototype.validate=function(Dt){if(Dt.inf)return!0;var Ft=Dt.x,jt=Dt.y,Ut=this.a.redMul(Ft),tr=Ft.redSqr().redMul(Ft).redIAdd(Ut).redIAdd(this.b);return jt.redSqr().redISub(tr).cmpn(0)===0},mt.prototype._endoWnafMulAdd=function(Dt,Ft,jt){for(var Ut=this._endoWnafT1,tr=this._endoWnafT2,ir=0;ir<Dt.length;ir++){var sr=this._endoSplit(Ft[ir]),ur=Dt[ir],fr=ur._getBeta();sr.k1.negative&&(sr.k1.ineg(),ur=ur.neg(!0)),sr.k2.negative&&(sr.k2.ineg(),fr=fr.neg(!0)),Ut[ir*2]=ur,Ut[ir*2+1]=fr,tr[ir*2]=sr.k1,tr[ir*2+1]=sr.k2}for(var dr=this._wnafMulAdd(1,Ut,tr,ir*2,jt),hr=0;hr<ir*2;hr++)Ut[hr]=null,tr[hr]=null;return dr};function wt(Ct,Dt,Ft,jt){nt.BasePoint.call(this,Ct,"affine"),Dt===null&&Ft===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(Dt,16),this.y=new s(Ft,16),jt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}et(wt,nt.BasePoint),mt.prototype.point=function(Dt,Ft,jt){return new wt(this,Dt,Ft,jt)},mt.prototype.pointFromJSON=function(Dt,Ft){return wt.fromJSON(this,Dt,Ft)},wt.prototype._getBeta=function(){if(this.curve.endo){var Dt=this.precomputed;if(Dt&&Dt.beta)return Dt.beta;var Ft=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Dt){var jt=this.curve,Ut=function(tr){return jt.point(tr.x.redMul(jt.endo.beta),tr.y)};Dt.beta=Ft,Ft.precomputed={beta:null,naf:Dt.naf&&{wnd:Dt.naf.wnd,points:Dt.naf.points.map(Ut)},doubles:Dt.doubles&&{step:Dt.doubles.step,points:Dt.doubles.points.map(Ut)}}}return Ft}},wt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},wt.fromJSON=function(Dt,Ft,jt){typeof Ft=="string"&&(Ft=JSON.parse(Ft));var Ut=Dt.point(Ft[0],Ft[1],jt);if(!Ft[2])return Ut;function tr(sr){return Dt.point(sr[0],sr[1],jt)}var ir=Ft[2];return Ut.precomputed={beta:null,doubles:ir.doubles&&{step:ir.doubles.step,points:[Ut].concat(ir.doubles.points.map(tr))},naf:ir.naf&&{wnd:ir.naf.wnd,points:[Ut].concat(ir.naf.points.map(tr))}},Ut},wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},wt.prototype.isInfinity=function(){return this.inf},wt.prototype.add=function(Dt){if(this.inf)return Dt;if(Dt.inf)return this;if(this.eq(Dt))return this.dbl();if(this.neg().eq(Dt))return this.curve.point(null,null);if(this.x.cmp(Dt.x)===0)return this.curve.point(null,null);var Ft=this.y.redSub(Dt.y);Ft.cmpn(0)!==0&&(Ft=Ft.redMul(this.x.redSub(Dt.x).redInvm()));var jt=Ft.redSqr().redISub(this.x).redISub(Dt.x),Ut=Ft.redMul(this.x.redSub(jt)).redISub(this.y);return this.curve.point(jt,Ut)},wt.prototype.dbl=function(){if(this.inf)return this;var Dt=this.y.redAdd(this.y);if(Dt.cmpn(0)===0)return this.curve.point(null,null);var Ft=this.curve.a,jt=this.x.redSqr(),Ut=Dt.redInvm(),tr=jt.redAdd(jt).redIAdd(jt).redIAdd(Ft).redMul(Ut),ir=tr.redSqr().redISub(this.x.redAdd(this.x)),sr=tr.redMul(this.x.redSub(ir)).redISub(this.y);return this.curve.point(ir,sr)},wt.prototype.getX=function(){return this.x.fromRed()},wt.prototype.getY=function(){return this.y.fromRed()},wt.prototype.mul=function(Dt){return Dt=new s(Dt,16),this.isInfinity()?this:this._hasDoubles(Dt)?this.curve._fixedNafMul(this,Dt):this.curve.endo?this.curve._endoWnafMulAdd([this],[Dt]):this.curve._wnafMul(this,Dt)},wt.prototype.mulAdd=function(Dt,Ft,jt){var Ut=[this,Ft],tr=[Dt,jt];return this.curve.endo?this.curve._endoWnafMulAdd(Ut,tr):this.curve._wnafMulAdd(1,Ut,tr,2)},wt.prototype.jmulAdd=function(Dt,Ft,jt){var Ut=[this,Ft],tr=[Dt,jt];return this.curve.endo?this.curve._endoWnafMulAdd(Ut,tr,!0):this.curve._wnafMulAdd(1,Ut,tr,2,!0)},wt.prototype.eq=function(Dt){return this===Dt||this.inf===Dt.inf&&(this.inf||this.x.cmp(Dt.x)===0&&this.y.cmp(Dt.y)===0)},wt.prototype.neg=function(Dt){if(this.inf)return this;var Ft=this.curve.point(this.x,this.y.redNeg());if(Dt&&this.precomputed){var jt=this.precomputed,Ut=function(tr){return tr.neg()};Ft.precomputed={naf:jt.naf&&{wnd:jt.naf.wnd,points:jt.naf.points.map(Ut)},doubles:jt.doubles&&{step:jt.doubles.step,points:jt.doubles.points.map(Ut)}}}return Ft},wt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Dt=this.curve.jpoint(this.x,this.y,this.curve.one);return Dt};function $t(Ct,Dt,Ft,jt){nt.BasePoint.call(this,Ct,"jacobian"),Dt===null&&Ft===null&&jt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(Dt,16),this.y=new s(Ft,16),this.z=new s(jt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return et($t,nt.BasePoint),mt.prototype.jpoint=function(Dt,Ft,jt){return new $t(this,Dt,Ft,jt)},$t.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Dt=this.z.redInvm(),Ft=Dt.redSqr(),jt=this.x.redMul(Ft),Ut=this.y.redMul(Ft).redMul(Dt);return this.curve.point(jt,Ut)},$t.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},$t.prototype.add=function(Dt){if(this.isInfinity())return Dt;if(Dt.isInfinity())return this;var Ft=Dt.z.redSqr(),jt=this.z.redSqr(),Ut=this.x.redMul(Ft),tr=Dt.x.redMul(jt),ir=this.y.redMul(Ft.redMul(Dt.z)),sr=Dt.y.redMul(jt.redMul(this.z)),ur=Ut.redSub(tr),fr=ir.redSub(sr);if(ur.cmpn(0)===0)return fr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var dr=ur.redSqr(),hr=dr.redMul(ur),vr=Ut.redMul(dr),yr=fr.redSqr().redIAdd(hr).redISub(vr).redISub(vr),xr=fr.redMul(vr.redISub(yr)).redISub(ir.redMul(hr)),br=this.z.redMul(Dt.z).redMul(ur);return this.curve.jpoint(yr,xr,br)},$t.prototype.mixedAdd=function(Dt){if(this.isInfinity())return Dt.toJ();if(Dt.isInfinity())return this;var Ft=this.z.redSqr(),jt=this.x,Ut=Dt.x.redMul(Ft),tr=this.y,ir=Dt.y.redMul(Ft).redMul(this.z),sr=jt.redSub(Ut),ur=tr.redSub(ir);if(sr.cmpn(0)===0)return ur.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var fr=sr.redSqr(),dr=fr.redMul(sr),hr=jt.redMul(fr),vr=ur.redSqr().redIAdd(dr).redISub(hr).redISub(hr),yr=ur.redMul(hr.redISub(vr)).redISub(tr.redMul(dr)),xr=this.z.redMul(sr);return this.curve.jpoint(vr,yr,xr)},$t.prototype.dblp=function(Dt){if(Dt===0)return this;if(this.isInfinity())return this;if(!Dt)return this.dbl();var Ft;if(this.curve.zeroA||this.curve.threeA){var jt=this;for(Ft=0;Ft<Dt;Ft++)jt=jt.dbl();return jt}var Ut=this.curve.a,tr=this.curve.tinv,ir=this.x,sr=this.y,ur=this.z,fr=ur.redSqr().redSqr(),dr=sr.redAdd(sr);for(Ft=0;Ft<Dt;Ft++){var hr=ir.redSqr(),vr=dr.redSqr(),yr=vr.redSqr(),xr=hr.redAdd(hr).redIAdd(hr).redIAdd(Ut.redMul(fr)),br=ir.redMul(vr),wr=xr.redSqr().redISub(br.redAdd(br)),Sr=br.redISub(wr),Cr=xr.redMul(Sr);Cr=Cr.redIAdd(Cr).redISub(yr);var cr=dr.redMul(ur);Ft+1<Dt&&(fr=fr.redMul(yr)),ir=wr,ur=cr,dr=Cr}return this.curve.jpoint(ir,dr.redMul(tr),ur)},$t.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},$t.prototype._zeroDbl=function(){var Dt,Ft,jt;if(this.zOne){var Ut=this.x.redSqr(),tr=this.y.redSqr(),ir=tr.redSqr(),sr=this.x.redAdd(tr).redSqr().redISub(Ut).redISub(ir);sr=sr.redIAdd(sr);var ur=Ut.redAdd(Ut).redIAdd(Ut),fr=ur.redSqr().redISub(sr).redISub(sr),dr=ir.redIAdd(ir);dr=dr.redIAdd(dr),dr=dr.redIAdd(dr),Dt=fr,Ft=ur.redMul(sr.redISub(fr)).redISub(dr),jt=this.y.redAdd(this.y)}else{var hr=this.x.redSqr(),vr=this.y.redSqr(),yr=vr.redSqr(),xr=this.x.redAdd(vr).redSqr().redISub(hr).redISub(yr);xr=xr.redIAdd(xr);var br=hr.redAdd(hr).redIAdd(hr),wr=br.redSqr(),Sr=yr.redIAdd(yr);Sr=Sr.redIAdd(Sr),Sr=Sr.redIAdd(Sr),Dt=wr.redISub(xr).redISub(xr),Ft=br.redMul(xr.redISub(Dt)).redISub(Sr),jt=this.y.redMul(this.z),jt=jt.redIAdd(jt)}return this.curve.jpoint(Dt,Ft,jt)},$t.prototype._threeDbl=function(){var Dt,Ft,jt;if(this.zOne){var Ut=this.x.redSqr(),tr=this.y.redSqr(),ir=tr.redSqr(),sr=this.x.redAdd(tr).redSqr().redISub(Ut).redISub(ir);sr=sr.redIAdd(sr);var ur=Ut.redAdd(Ut).redIAdd(Ut).redIAdd(this.curve.a),fr=ur.redSqr().redISub(sr).redISub(sr);Dt=fr;var dr=ir.redIAdd(ir);dr=dr.redIAdd(dr),dr=dr.redIAdd(dr),Ft=ur.redMul(sr.redISub(fr)).redISub(dr),jt=this.y.redAdd(this.y)}else{var hr=this.z.redSqr(),vr=this.y.redSqr(),yr=this.x.redMul(vr),xr=this.x.redSub(hr).redMul(this.x.redAdd(hr));xr=xr.redAdd(xr).redIAdd(xr);var br=yr.redIAdd(yr);br=br.redIAdd(br);var wr=br.redAdd(br);Dt=xr.redSqr().redISub(wr),jt=this.y.redAdd(this.z).redSqr().redISub(vr).redISub(hr);var Sr=vr.redSqr();Sr=Sr.redIAdd(Sr),Sr=Sr.redIAdd(Sr),Sr=Sr.redIAdd(Sr),Ft=xr.redMul(br.redISub(Dt)).redISub(Sr)}return this.curve.jpoint(Dt,Ft,jt)},$t.prototype._dbl=function(){var Dt=this.curve.a,Ft=this.x,jt=this.y,Ut=this.z,tr=Ut.redSqr().redSqr(),ir=Ft.redSqr(),sr=jt.redSqr(),ur=ir.redAdd(ir).redIAdd(ir).redIAdd(Dt.redMul(tr)),fr=Ft.redAdd(Ft);fr=fr.redIAdd(fr);var dr=fr.redMul(sr),hr=ur.redSqr().redISub(dr.redAdd(dr)),vr=dr.redISub(hr),yr=sr.redSqr();yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),yr=yr.redIAdd(yr);var xr=ur.redMul(vr).redISub(yr),br=jt.redAdd(jt).redMul(Ut);return this.curve.jpoint(hr,xr,br)},$t.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Dt=this.x.redSqr(),Ft=this.y.redSqr(),jt=this.z.redSqr(),Ut=Ft.redSqr(),tr=Dt.redAdd(Dt).redIAdd(Dt),ir=tr.redSqr(),sr=this.x.redAdd(Ft).redSqr().redISub(Dt).redISub(Ut);sr=sr.redIAdd(sr),sr=sr.redAdd(sr).redIAdd(sr),sr=sr.redISub(ir);var ur=sr.redSqr(),fr=Ut.redIAdd(Ut);fr=fr.redIAdd(fr),fr=fr.redIAdd(fr),fr=fr.redIAdd(fr);var dr=tr.redIAdd(sr).redSqr().redISub(ir).redISub(ur).redISub(fr),hr=Ft.redMul(dr);hr=hr.redIAdd(hr),hr=hr.redIAdd(hr);var vr=this.x.redMul(ur).redISub(hr);vr=vr.redIAdd(vr),vr=vr.redIAdd(vr);var yr=this.y.redMul(dr.redMul(fr.redISub(dr)).redISub(sr.redMul(ur)));yr=yr.redIAdd(yr),yr=yr.redIAdd(yr),yr=yr.redIAdd(yr);var xr=this.z.redAdd(sr).redSqr().redISub(jt).redISub(ur);return this.curve.jpoint(vr,yr,xr)},$t.prototype.mul=function(Dt,Ft){return Dt=new s(Dt,Ft),this.curve._wnafMul(this,Dt)},$t.prototype.eq=function(Dt){if(Dt.type==="affine")return this.eq(Dt.toJ());if(this===Dt)return!0;var Ft=this.z.redSqr(),jt=Dt.z.redSqr();if(this.x.redMul(jt).redISub(Dt.x.redMul(Ft)).cmpn(0)!==0)return!1;var Ut=Ft.redMul(this.z),tr=jt.redMul(Dt.z);return this.y.redMul(tr).redISub(Dt.y.redMul(Ut)).cmpn(0)===0},$t.prototype.eqXToP=function(Dt){var Ft=this.z.redSqr(),jt=Dt.toRed(this.curve.red).redMul(Ft);if(this.x.cmp(jt)===0)return!0;for(var Ut=Dt.clone(),tr=this.curve.redN.redMul(Ft);;){if(Ut.iadd(this.curve.n),Ut.cmp(this.curve.p)>=0)return!1;if(jt.redIAdd(tr),this.x.cmp(jt)===0)return!0}},$t.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},$t.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var a=requireBn$3(),s=requireInherits_browser(),et=requireBase$1(),nt=requireUtils$1();function at(wt){et.call(this,"mont",wt),this.a=new a(wt.a,16).toRed(this.red),this.b=new a(wt.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}s(at,et),mont=at,at.prototype.validate=function($t){var Ct=$t.normalize().x,Dt=Ct.redSqr(),Ft=Dt.redMul(Ct).redAdd(Dt.redMul(this.a)).redAdd(Ct),jt=Ft.redSqrt();return jt.redSqr().cmp(Ft)===0};function mt(wt,$t,Ct){et.BasePoint.call(this,wt,"projective"),$t===null&&Ct===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a($t,16),this.z=new a(Ct,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return s(mt,et.BasePoint),at.prototype.decodePoint=function($t,Ct){return this.point(nt.toArray($t,Ct),1)},at.prototype.point=function($t,Ct){return new mt(this,$t,Ct)},at.prototype.pointFromJSON=function($t){return mt.fromJSON(this,$t)},mt.prototype.precompute=function(){},mt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},mt.fromJSON=function($t,Ct){return new mt($t,Ct[0],Ct[1]||$t.one)},mt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},mt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},mt.prototype.dbl=function(){var $t=this.x.redAdd(this.z),Ct=$t.redSqr(),Dt=this.x.redSub(this.z),Ft=Dt.redSqr(),jt=Ct.redSub(Ft),Ut=Ct.redMul(Ft),tr=jt.redMul(Ft.redAdd(this.curve.a24.redMul(jt)));return this.curve.point(Ut,tr)},mt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},mt.prototype.diffAdd=function($t,Ct){var Dt=this.x.redAdd(this.z),Ft=this.x.redSub(this.z),jt=$t.x.redAdd($t.z),Ut=$t.x.redSub($t.z),tr=Ut.redMul(Dt),ir=jt.redMul(Ft),sr=Ct.z.redMul(tr.redAdd(ir).redSqr()),ur=Ct.x.redMul(tr.redISub(ir).redSqr());return this.curve.point(sr,ur)},mt.prototype.mul=function($t){for(var Ct=$t.clone(),Dt=this,Ft=this.curve.point(null,null),jt=this,Ut=[];Ct.cmpn(0)!==0;Ct.iushrn(1))Ut.push(Ct.andln(1));for(var tr=Ut.length-1;tr>=0;tr--)Ut[tr]===0?(Dt=Dt.diffAdd(Ft,jt),Ft=Ft.dbl()):(Ft=Dt.diffAdd(Ft,jt),Dt=Dt.dbl());return Ft},mt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},mt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},mt.prototype.eq=function($t){return this.getX().cmp($t.getX())===0},mt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},mt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var a=requireUtils$1(),s=requireBn$3(),et=requireInherits_browser(),nt=requireBase$1(),at=a.assert;function mt($t){this.twisted=($t.a|0)!==1,this.mOneA=this.twisted&&($t.a|0)===-1,this.extended=this.mOneA,nt.call(this,"edwards",$t),this.a=new s($t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s($t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s($t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),at(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=($t.c|0)===1}et(mt,nt),edwards=mt,mt.prototype._mulA=function(Ct){return this.mOneA?Ct.redNeg():this.a.redMul(Ct)},mt.prototype._mulC=function(Ct){return this.oneC?Ct:this.c.redMul(Ct)},mt.prototype.jpoint=function(Ct,Dt,Ft,jt){return this.point(Ct,Dt,Ft,jt)},mt.prototype.pointFromX=function(Ct,Dt){Ct=new s(Ct,16),Ct.red||(Ct=Ct.toRed(this.red));var Ft=Ct.redSqr(),jt=this.c2.redSub(this.a.redMul(Ft)),Ut=this.one.redSub(this.c2.redMul(this.d).redMul(Ft)),tr=jt.redMul(Ut.redInvm()),ir=tr.redSqrt();if(ir.redSqr().redSub(tr).cmp(this.zero)!==0)throw new Error("invalid point");var sr=ir.fromRed().isOdd();return(Dt&&!sr||!Dt&&sr)&&(ir=ir.redNeg()),this.point(Ct,ir)},mt.prototype.pointFromY=function(Ct,Dt){Ct=new s(Ct,16),Ct.red||(Ct=Ct.toRed(this.red));var Ft=Ct.redSqr(),jt=Ft.redSub(this.c2),Ut=Ft.redMul(this.d).redMul(this.c2).redSub(this.a),tr=jt.redMul(Ut.redInvm());if(tr.cmp(this.zero)===0){if(Dt)throw new Error("invalid point");return this.point(this.zero,Ct)}var ir=tr.redSqrt();if(ir.redSqr().redSub(tr).cmp(this.zero)!==0)throw new Error("invalid point");return ir.fromRed().isOdd()!==Dt&&(ir=ir.redNeg()),this.point(ir,Ct)},mt.prototype.validate=function(Ct){if(Ct.isInfinity())return!0;Ct.normalize();var Dt=Ct.x.redSqr(),Ft=Ct.y.redSqr(),jt=Dt.redMul(this.a).redAdd(Ft),Ut=this.c2.redMul(this.one.redAdd(this.d.redMul(Dt).redMul(Ft)));return jt.cmp(Ut)===0};function wt($t,Ct,Dt,Ft,jt){nt.BasePoint.call(this,$t,"projective"),Ct===null&&Dt===null&&Ft===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(Ct,16),this.y=new s(Dt,16),this.z=Ft?new s(Ft,16):this.curve.one,this.t=jt&&new s(jt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return et(wt,nt.BasePoint),mt.prototype.pointFromJSON=function(Ct){return wt.fromJSON(this,Ct)},mt.prototype.point=function(Ct,Dt,Ft,jt){return new wt(this,Ct,Dt,Ft,jt)},wt.fromJSON=function(Ct,Dt){return new wt(Ct,Dt[0],Dt[1],Dt[2])},wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},wt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},wt.prototype._extDbl=function(){var Ct=this.x.redSqr(),Dt=this.y.redSqr(),Ft=this.z.redSqr();Ft=Ft.redIAdd(Ft);var jt=this.curve._mulA(Ct),Ut=this.x.redAdd(this.y).redSqr().redISub(Ct).redISub(Dt),tr=jt.redAdd(Dt),ir=tr.redSub(Ft),sr=jt.redSub(Dt),ur=Ut.redMul(ir),fr=tr.redMul(sr),dr=Ut.redMul(sr),hr=ir.redMul(tr);return this.curve.point(ur,fr,hr,dr)},wt.prototype._projDbl=function(){var Ct=this.x.redAdd(this.y).redSqr(),Dt=this.x.redSqr(),Ft=this.y.redSqr(),jt,Ut,tr,ir,sr,ur;if(this.curve.twisted){ir=this.curve._mulA(Dt);var fr=ir.redAdd(Ft);this.zOne?(jt=Ct.redSub(Dt).redSub(Ft).redMul(fr.redSub(this.curve.two)),Ut=fr.redMul(ir.redSub(Ft)),tr=fr.redSqr().redSub(fr).redSub(fr)):(sr=this.z.redSqr(),ur=fr.redSub(sr).redISub(sr),jt=Ct.redSub(Dt).redISub(Ft).redMul(ur),Ut=fr.redMul(ir.redSub(Ft)),tr=fr.redMul(ur))}else ir=Dt.redAdd(Ft),sr=this.curve._mulC(this.z).redSqr(),ur=ir.redSub(sr).redSub(sr),jt=this.curve._mulC(Ct.redISub(ir)).redMul(ur),Ut=this.curve._mulC(ir).redMul(Dt.redISub(Ft)),tr=ir.redMul(ur);return this.curve.point(jt,Ut,tr)},wt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},wt.prototype._extAdd=function(Ct){var Dt=this.y.redSub(this.x).redMul(Ct.y.redSub(Ct.x)),Ft=this.y.redAdd(this.x).redMul(Ct.y.redAdd(Ct.x)),jt=this.t.redMul(this.curve.dd).redMul(Ct.t),Ut=this.z.redMul(Ct.z.redAdd(Ct.z)),tr=Ft.redSub(Dt),ir=Ut.redSub(jt),sr=Ut.redAdd(jt),ur=Ft.redAdd(Dt),fr=tr.redMul(ir),dr=sr.redMul(ur),hr=tr.redMul(ur),vr=ir.redMul(sr);return this.curve.point(fr,dr,vr,hr)},wt.prototype._projAdd=function(Ct){var Dt=this.z.redMul(Ct.z),Ft=Dt.redSqr(),jt=this.x.redMul(Ct.x),Ut=this.y.redMul(Ct.y),tr=this.curve.d.redMul(jt).redMul(Ut),ir=Ft.redSub(tr),sr=Ft.redAdd(tr),ur=this.x.redAdd(this.y).redMul(Ct.x.redAdd(Ct.y)).redISub(jt).redISub(Ut),fr=Dt.redMul(ir).redMul(ur),dr,hr;return this.curve.twisted?(dr=Dt.redMul(sr).redMul(Ut.redSub(this.curve._mulA(jt))),hr=ir.redMul(sr)):(dr=Dt.redMul(sr).redMul(Ut.redSub(jt)),hr=this.curve._mulC(ir).redMul(sr)),this.curve.point(fr,dr,hr)},wt.prototype.add=function(Ct){return this.isInfinity()?Ct:Ct.isInfinity()?this:this.curve.extended?this._extAdd(Ct):this._projAdd(Ct)},wt.prototype.mul=function(Ct){return this._hasDoubles(Ct)?this.curve._fixedNafMul(this,Ct):this.curve._wnafMul(this,Ct)},wt.prototype.mulAdd=function(Ct,Dt,Ft){return this.curve._wnafMulAdd(1,[this,Dt],[Ct,Ft],2,!1)},wt.prototype.jmulAdd=function(Ct,Dt,Ft){return this.curve._wnafMulAdd(1,[this,Dt],[Ct,Ft],2,!0)},wt.prototype.normalize=function(){if(this.zOne)return this;var Ct=this.z.redInvm();return this.x=this.x.redMul(Ct),this.y=this.y.redMul(Ct),this.t&&(this.t=this.t.redMul(Ct)),this.z=this.curve.one,this.zOne=!0,this},wt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},wt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},wt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},wt.prototype.eq=function(Ct){return this===Ct||this.getX().cmp(Ct.getX())===0&&this.getY().cmp(Ct.getY())===0},wt.prototype.eqXToP=function(Ct){var Dt=Ct.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Dt)===0)return!0;for(var Ft=Ct.clone(),jt=this.curve.redN.redMul(this.z);;){if(Ft.iadd(this.curve.n),Ft.cmp(this.curve.p)>=0)return!1;if(Dt.redIAdd(jt),this.x.cmp(Dt)===0)return!0}},wt.prototype.toP=wt.prototype.normalize,wt.prototype.mixedAdd=wt.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(a){var s=a;s.base=requireBase$1(),s.short=requireShort(),s.mont=requireMont(),s.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var a=requireMinimalisticAssert(),s=requireInherits_browser();utils.inherits=s;function et(Nt,Vt){return(Nt.charCodeAt(Vt)&64512)!==55296||Vt<0||Vt+1>=Nt.length?!1:(Nt.charCodeAt(Vt+1)&64512)===56320}function nt(Nt,Vt){if(Array.isArray(Nt))return Nt.slice();if(!Nt)return[];var er=[];if(typeof Nt=="string")if(Vt){if(Vt==="hex")for(Nt=Nt.replace(/[^a-z0-9]+/ig,""),Nt.length%2!==0&&(Nt="0"+Nt),rr=0;rr<Nt.length;rr+=2)er.push(parseInt(Nt[rr]+Nt[rr+1],16))}else for(var Yt=0,rr=0;rr<Nt.length;rr++){var ar=Nt.charCodeAt(rr);ar<128?er[Yt++]=ar:ar<2048?(er[Yt++]=ar>>6|192,er[Yt++]=ar&63|128):et(Nt,rr)?(ar=65536+((ar&1023)<<10)+(Nt.charCodeAt(++rr)&1023),er[Yt++]=ar>>18|240,er[Yt++]=ar>>12&63|128,er[Yt++]=ar>>6&63|128,er[Yt++]=ar&63|128):(er[Yt++]=ar>>12|224,er[Yt++]=ar>>6&63|128,er[Yt++]=ar&63|128)}else for(rr=0;rr<Nt.length;rr++)er[rr]=Nt[rr]|0;return er}utils.toArray=nt;function at(Nt){for(var Vt="",er=0;er<Nt.length;er++)Vt+=$t(Nt[er].toString(16));return Vt}utils.toHex=at;function mt(Nt){var Vt=Nt>>>24|Nt>>>8&65280|Nt<<8&16711680|(Nt&255)<<24;return Vt>>>0}utils.htonl=mt;function wt(Nt,Vt){for(var er="",Yt=0;Yt<Nt.length;Yt++){var rr=Nt[Yt];Vt==="little"&&(rr=mt(rr)),er+=Ct(rr.toString(16))}return er}utils.toHex32=wt;function $t(Nt){return Nt.length===1?"0"+Nt:Nt}utils.zero2=$t;function Ct(Nt){return Nt.length===7?"0"+Nt:Nt.length===6?"00"+Nt:Nt.length===5?"000"+Nt:Nt.length===4?"0000"+Nt:Nt.length===3?"00000"+Nt:Nt.length===2?"000000"+Nt:Nt.length===1?"0000000"+Nt:Nt}utils.zero8=Ct;function Dt(Nt,Vt,er,Yt){var rr=er-Vt;a(rr%4===0);for(var ar=new Array(rr/4),lr=0,nr=Vt;lr<ar.length;lr++,nr+=4){var Lt;Yt==="big"?Lt=Nt[nr]<<24|Nt[nr+1]<<16|Nt[nr+2]<<8|Nt[nr+3]:Lt=Nt[nr+3]<<24|Nt[nr+2]<<16|Nt[nr+1]<<8|Nt[nr],ar[lr]=Lt>>>0}return ar}utils.join32=Dt;function Ft(Nt,Vt){for(var er=new Array(Nt.length*4),Yt=0,rr=0;Yt<Nt.length;Yt++,rr+=4){var ar=Nt[Yt];Vt==="big"?(er[rr]=ar>>>24,er[rr+1]=ar>>>16&255,er[rr+2]=ar>>>8&255,er[rr+3]=ar&255):(er[rr+3]=ar>>>24,er[rr+2]=ar>>>16&255,er[rr+1]=ar>>>8&255,er[rr]=ar&255)}return er}utils.split32=Ft;function jt(Nt,Vt){return Nt>>>Vt|Nt<<32-Vt}utils.rotr32=jt;function Ut(Nt,Vt){return Nt<<Vt|Nt>>>32-Vt}utils.rotl32=Ut;function tr(Nt,Vt){return Nt+Vt>>>0}utils.sum32=tr;function ir(Nt,Vt,er){return Nt+Vt+er>>>0}utils.sum32_3=ir;function sr(Nt,Vt,er,Yt){return Nt+Vt+er+Yt>>>0}utils.sum32_4=sr;function ur(Nt,Vt,er,Yt,rr){return Nt+Vt+er+Yt+rr>>>0}utils.sum32_5=ur;function fr(Nt,Vt,er,Yt){var rr=Nt[Vt],ar=Nt[Vt+1],lr=Yt+ar>>>0,nr=(lr<Yt?1:0)+er+rr;Nt[Vt]=nr>>>0,Nt[Vt+1]=lr}utils.sum64=fr;function dr(Nt,Vt,er,Yt){var rr=Vt+Yt>>>0,ar=(rr<Vt?1:0)+Nt+er;return ar>>>0}utils.sum64_hi=dr;function hr(Nt,Vt,er,Yt){var rr=Vt+Yt;return rr>>>0}utils.sum64_lo=hr;function vr(Nt,Vt,er,Yt,rr,ar,lr,nr){var Lt=0,or=Vt;or=or+Yt>>>0,Lt+=or<Vt?1:0,or=or+ar>>>0,Lt+=or<ar?1:0,or=or+nr>>>0,Lt+=or<nr?1:0;var gr=Nt+er+rr+lr+Lt;return gr>>>0}utils.sum64_4_hi=vr;function yr(Nt,Vt,er,Yt,rr,ar,lr,nr){var Lt=Vt+Yt+ar+nr;return Lt>>>0}utils.sum64_4_lo=yr;function xr(Nt,Vt,er,Yt,rr,ar,lr,nr,Lt,or){var gr=0,pr=Vt;pr=pr+Yt>>>0,gr+=pr<Vt?1:0,pr=pr+ar>>>0,gr+=pr<ar?1:0,pr=pr+nr>>>0,gr+=pr<nr?1:0,pr=pr+or>>>0,gr+=pr<or?1:0;var _r=Nt+er+rr+lr+Lt+gr;return _r>>>0}utils.sum64_5_hi=xr;function br(Nt,Vt,er,Yt,rr,ar,lr,nr,Lt,or){var gr=Vt+Yt+ar+nr+or;return gr>>>0}utils.sum64_5_lo=br;function wr(Nt,Vt,er){var Yt=Vt<<32-er|Nt>>>er;return Yt>>>0}utils.rotr64_hi=wr;function Sr(Nt,Vt,er){var Yt=Nt<<32-er|Vt>>>er;return Yt>>>0}utils.rotr64_lo=Sr;function Cr(Nt,Vt,er){return Nt>>>er}utils.shr64_hi=Cr;function cr(Nt,Vt,er){var Yt=Nt<<32-er|Vt>>>er;return Yt>>>0}return utils.shr64_lo=cr,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var a=requireUtils(),s=requireMinimalisticAssert();function et(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=et,et.prototype.update=function(at,mt){if(at=a.toArray(at,mt),this.pending?this.pending=this.pending.concat(at):this.pending=at,this.pendingTotal+=at.length,this.pending.length>=this._delta8){at=this.pending;var wt=at.length%this._delta8;this.pending=at.slice(at.length-wt,at.length),this.pending.length===0&&(this.pending=null),at=a.join32(at,0,at.length-wt,this.endian);for(var $t=0;$t<at.length;$t+=this._delta32)this._update(at,$t,$t+this._delta32)}return this},et.prototype.digest=function(at){return this.update(this._pad()),s(this.pending===null),this._digest(at)},et.prototype._pad=function(){var at=this.pendingTotal,mt=this._delta8,wt=mt-(at+this.padLength)%mt,$t=new Array(wt+this.padLength);$t[0]=128;for(var Ct=1;Ct<wt;Ct++)$t[Ct]=0;if(at<<=3,this.endian==="big"){for(var Dt=8;Dt<this.padLength;Dt++)$t[Ct++]=0;$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=at>>>24&255,$t[Ct++]=at>>>16&255,$t[Ct++]=at>>>8&255,$t[Ct++]=at&255}else for($t[Ct++]=at&255,$t[Ct++]=at>>>8&255,$t[Ct++]=at>>>16&255,$t[Ct++]=at>>>24&255,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,Dt=8;Dt<this.padLength;Dt++)$t[Ct++]=0;return $t},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var a=requireUtils(),s=a.rotr32;function et(Ft,jt,Ut,tr){if(Ft===0)return nt(jt,Ut,tr);if(Ft===1||Ft===3)return mt(jt,Ut,tr);if(Ft===2)return at(jt,Ut,tr)}common.ft_1=et;function nt(Ft,jt,Ut){return Ft&jt^~Ft&Ut}common.ch32=nt;function at(Ft,jt,Ut){return Ft&jt^Ft&Ut^jt&Ut}common.maj32=at;function mt(Ft,jt,Ut){return Ft^jt^Ut}common.p32=mt;function wt(Ft){return s(Ft,2)^s(Ft,13)^s(Ft,22)}common.s0_256=wt;function $t(Ft){return s(Ft,6)^s(Ft,11)^s(Ft,25)}common.s1_256=$t;function Ct(Ft){return s(Ft,7)^s(Ft,18)^Ft>>>3}common.g0_256=Ct;function Dt(Ft){return s(Ft,17)^s(Ft,19)^Ft>>>10}return common.g1_256=Dt,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var a=requireUtils(),s=requireCommon$1(),et=requireCommon(),nt=a.rotl32,at=a.sum32,mt=a.sum32_5,wt=et.ft_1,$t=s.BlockHash,Ct=[1518500249,1859775393,2400959708,3395469782];function Dt(){if(!(this instanceof Dt))return new Dt;$t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return a.inherits(Dt,$t),_1=Dt,Dt.blockSize=512,Dt.outSize=160,Dt.hmacStrength=80,Dt.padLength=64,Dt.prototype._update=function(jt,Ut){for(var tr=this.W,ir=0;ir<16;ir++)tr[ir]=jt[Ut+ir];for(;ir<tr.length;ir++)tr[ir]=nt(tr[ir-3]^tr[ir-8]^tr[ir-14]^tr[ir-16],1);var sr=this.h[0],ur=this.h[1],fr=this.h[2],dr=this.h[3],hr=this.h[4];for(ir=0;ir<tr.length;ir++){var vr=~~(ir/20),yr=mt(nt(sr,5),wt(vr,ur,fr,dr),hr,tr[ir],Ct[vr]);hr=dr,dr=fr,fr=nt(ur,30),ur=sr,sr=yr}this.h[0]=at(this.h[0],sr),this.h[1]=at(this.h[1],ur),this.h[2]=at(this.h[2],fr),this.h[3]=at(this.h[3],dr),this.h[4]=at(this.h[4],hr)},Dt.prototype._digest=function(jt){return jt==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var a=requireUtils(),s=requireCommon$1(),et=requireCommon(),nt=requireMinimalisticAssert(),at=a.sum32,mt=a.sum32_4,wt=a.sum32_5,$t=et.ch32,Ct=et.maj32,Dt=et.s0_256,Ft=et.s1_256,jt=et.g0_256,Ut=et.g1_256,tr=s.BlockHash,ir=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sr(){if(!(this instanceof sr))return new sr;tr.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ir,this.W=new Array(64)}return a.inherits(sr,tr),_256=sr,sr.blockSize=512,sr.outSize=256,sr.hmacStrength=192,sr.padLength=64,sr.prototype._update=function(fr,dr){for(var hr=this.W,vr=0;vr<16;vr++)hr[vr]=fr[dr+vr];for(;vr<hr.length;vr++)hr[vr]=mt(Ut(hr[vr-2]),hr[vr-7],jt(hr[vr-15]),hr[vr-16]);var yr=this.h[0],xr=this.h[1],br=this.h[2],wr=this.h[3],Sr=this.h[4],Cr=this.h[5],cr=this.h[6],Nt=this.h[7];for(nt(this.k.length===hr.length),vr=0;vr<hr.length;vr++){var Vt=wt(Nt,Ft(Sr),$t(Sr,Cr,cr),this.k[vr],hr[vr]),er=at(Dt(yr),Ct(yr,xr,br));Nt=cr,cr=Cr,Cr=Sr,Sr=at(wr,Vt),wr=br,br=xr,xr=yr,yr=at(Vt,er)}this.h[0]=at(this.h[0],yr),this.h[1]=at(this.h[1],xr),this.h[2]=at(this.h[2],br),this.h[3]=at(this.h[3],wr),this.h[4]=at(this.h[4],Sr),this.h[5]=at(this.h[5],Cr),this.h[6]=at(this.h[6],cr),this.h[7]=at(this.h[7],Nt)},sr.prototype._digest=function(fr){return fr==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var a=requireUtils(),s=require_256();function et(){if(!(this instanceof et))return new et;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return a.inherits(et,s),_224=et,et.blockSize=512,et.outSize=224,et.hmacStrength=192,et.padLength=64,et.prototype._digest=function(at){return at==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var a=requireUtils(),s=requireCommon$1(),et=requireMinimalisticAssert(),nt=a.rotr64_hi,at=a.rotr64_lo,mt=a.shr64_hi,wt=a.shr64_lo,$t=a.sum64,Ct=a.sum64_hi,Dt=a.sum64_lo,Ft=a.sum64_4_hi,jt=a.sum64_4_lo,Ut=a.sum64_5_hi,tr=a.sum64_5_lo,ir=s.BlockHash,sr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ur(){if(!(this instanceof ur))return new ur;ir.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sr,this.W=new Array(160)}a.inherits(ur,ir),_512=ur,ur.blockSize=1024,ur.outSize=512,ur.hmacStrength=192,ur.padLength=128,ur.prototype._prepareBlock=function(er,Yt){for(var rr=this.W,ar=0;ar<32;ar++)rr[ar]=er[Yt+ar];for(;ar<rr.length;ar+=2){var lr=cr(rr[ar-4],rr[ar-3]),nr=Nt(rr[ar-4],rr[ar-3]),Lt=rr[ar-14],or=rr[ar-13],gr=Sr(rr[ar-30],rr[ar-29]),pr=Cr(rr[ar-30],rr[ar-29]),_r=rr[ar-32],kr=rr[ar-31];rr[ar]=Ft(lr,nr,Lt,or,gr,pr,_r,kr),rr[ar+1]=jt(lr,nr,Lt,or,gr,pr,_r,kr)}},ur.prototype._update=function(er,Yt){this._prepareBlock(er,Yt);var rr=this.W,ar=this.h[0],lr=this.h[1],nr=this.h[2],Lt=this.h[3],or=this.h[4],gr=this.h[5],pr=this.h[6],_r=this.h[7],kr=this.h[8],Mr=this.h[9],$r=this.h[10],Pr=this.h[11],Fr=this.h[12],Tr=this.h[13],Rr=this.h[14],Er=this.h[15];et(this.k.length===rr.length);for(var Or=0;Or<rr.length;Or+=2){var Wr=Rr,qr=Er,Vr=br(kr,Mr),Ur=wr(kr,Mr),Lr=fr(kr,Mr,$r,Pr,Fr),Br=dr(kr,Mr,$r,Pr,Fr,Tr),Xr=this.k[Or],zr=this.k[Or+1],Qr=rr[Or],Qn=rr[Or+1],nn=Ut(Wr,qr,Vr,Ur,Lr,Br,Xr,zr,Qr,Qn),$n=tr(Wr,qr,Vr,Ur,Lr,Br,Xr,zr,Qr,Qn);Wr=yr(ar,lr),qr=xr(ar,lr),Vr=hr(ar,lr,nr,Lt,or),Ur=vr(ar,lr,nr,Lt,or,gr);var lo=Ct(Wr,qr,Vr,Ur),sn=Dt(Wr,qr,Vr,Ur);Rr=Fr,Er=Tr,Fr=$r,Tr=Pr,$r=kr,Pr=Mr,kr=Ct(pr,_r,nn,$n),Mr=Dt(_r,_r,nn,$n),pr=or,_r=gr,or=nr,gr=Lt,nr=ar,Lt=lr,ar=Ct(nn,$n,lo,sn),lr=Dt(nn,$n,lo,sn)}$t(this.h,0,ar,lr),$t(this.h,2,nr,Lt),$t(this.h,4,or,gr),$t(this.h,6,pr,_r),$t(this.h,8,kr,Mr),$t(this.h,10,$r,Pr),$t(this.h,12,Fr,Tr),$t(this.h,14,Rr,Er)},ur.prototype._digest=function(er){return er==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")};function fr(Vt,er,Yt,rr,ar){var lr=Vt&Yt^~Vt&ar;return lr<0&&(lr+=4294967296),lr}function dr(Vt,er,Yt,rr,ar,lr){var nr=er&rr^~er&lr;return nr<0&&(nr+=4294967296),nr}function hr(Vt,er,Yt,rr,ar){var lr=Vt&Yt^Vt&ar^Yt&ar;return lr<0&&(lr+=4294967296),lr}function vr(Vt,er,Yt,rr,ar,lr){var nr=er&rr^er&lr^rr&lr;return nr<0&&(nr+=4294967296),nr}function yr(Vt,er){var Yt=nt(Vt,er,28),rr=nt(er,Vt,2),ar=nt(er,Vt,7),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}function xr(Vt,er){var Yt=at(Vt,er,28),rr=at(er,Vt,2),ar=at(er,Vt,7),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}function br(Vt,er){var Yt=nt(Vt,er,14),rr=nt(Vt,er,18),ar=nt(er,Vt,9),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}function wr(Vt,er){var Yt=at(Vt,er,14),rr=at(Vt,er,18),ar=at(er,Vt,9),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}function Sr(Vt,er){var Yt=nt(Vt,er,1),rr=nt(Vt,er,8),ar=mt(Vt,er,7),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}function Cr(Vt,er){var Yt=at(Vt,er,1),rr=at(Vt,er,8),ar=wt(Vt,er,7),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}function cr(Vt,er){var Yt=nt(Vt,er,19),rr=nt(er,Vt,29),ar=mt(Vt,er,6),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}function Nt(Vt,er){var Yt=at(Vt,er,19),rr=at(er,Vt,29),ar=wt(Vt,er,6),lr=Yt^rr^ar;return lr<0&&(lr+=4294967296),lr}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var a=requireUtils(),s=require_512();function et(){if(!(this instanceof et))return new et;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return a.inherits(et,s),_384=et,et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(at){return at==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var a=requireUtils(),s=requireCommon$1(),et=a.rotl32,nt=a.sum32,at=a.sum32_3,mt=a.sum32_4,wt=s.BlockHash;function $t(){if(!(this instanceof $t))return new $t;wt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a.inherits($t,wt),ripemd.ripemd160=$t,$t.blockSize=512,$t.outSize=160,$t.hmacStrength=192,$t.padLength=64,$t.prototype._update=function(ur,fr){for(var dr=this.h[0],hr=this.h[1],vr=this.h[2],yr=this.h[3],xr=this.h[4],br=dr,wr=hr,Sr=vr,Cr=yr,cr=xr,Nt=0;Nt<80;Nt++){var Vt=nt(et(mt(dr,Ct(Nt,hr,vr,yr),ur[jt[Nt]+fr],Dt(Nt)),tr[Nt]),xr);dr=xr,xr=yr,yr=et(vr,10),vr=hr,hr=Vt,Vt=nt(et(mt(br,Ct(79-Nt,wr,Sr,Cr),ur[Ut[Nt]+fr],Ft(Nt)),ir[Nt]),cr),br=cr,cr=Cr,Cr=et(Sr,10),Sr=wr,wr=Vt}Vt=at(this.h[1],vr,Cr),this.h[1]=at(this.h[2],yr,cr),this.h[2]=at(this.h[3],xr,br),this.h[3]=at(this.h[4],dr,wr),this.h[4]=at(this.h[0],hr,Sr),this.h[0]=Vt},$t.prototype._digest=function(ur){return ur==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};function Ct(sr,ur,fr,dr){return sr<=15?ur^fr^dr:sr<=31?ur&fr|~ur&dr:sr<=47?(ur|~fr)^dr:sr<=63?ur&dr|fr&~dr:ur^(fr|~dr)}function Dt(sr){return sr<=15?0:sr<=31?1518500249:sr<=47?1859775393:sr<=63?2400959708:2840853838}function Ft(sr){return sr<=15?1352829926:sr<=31?1548603684:sr<=47?1836072691:sr<=63?2053994217:0}var jt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ut=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],tr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ir=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var a=requireUtils(),s=requireMinimalisticAssert();function et(nt,at,mt){if(!(this instanceof et))return new et(nt,at,mt);this.Hash=nt,this.blockSize=nt.blockSize/8,this.outSize=nt.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(at,mt))}return hmac$1=et,et.prototype._init=function(at){at.length>this.blockSize&&(at=new this.Hash().update(at).digest()),s(at.length<=this.blockSize);for(var mt=at.length;mt<this.blockSize;mt++)at.push(0);for(mt=0;mt<at.length;mt++)at[mt]^=54;for(this.inner=new this.Hash().update(at),mt=0;mt<at.length;mt++)at[mt]^=106;this.outer=new this.Hash().update(at)},et.prototype.update=function(at,mt){return this.inner.update(at,mt),this},et.prototype.digest=function(at){return this.outer.update(this.inner.digest()),this.outer.digest(at)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(a){var s=a;s.utils=requireUtils(),s.common=requireCommon$1(),s.sha=requireSha(),s.ripemd=requireRipemd(),s.hmac=requireHmac$1(),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(a){var s=a,et=requireHash(),nt=requireCurve(),at=requireUtils$1(),mt=at.assert;function wt(Dt){Dt.type==="short"?this.curve=new nt.short(Dt):Dt.type==="edwards"?this.curve=new nt.edwards(Dt):this.curve=new nt.mont(Dt),this.g=this.curve.g,this.n=this.curve.n,this.hash=Dt.hash,mt(this.g.validate(),"Invalid curve"),mt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}s.PresetCurve=wt;function $t(Dt,Ft){Object.defineProperty(s,Dt,{configurable:!0,enumerable:!0,get:function(){var jt=new wt(Ft);return Object.defineProperty(s,Dt,{configurable:!0,enumerable:!0,value:jt}),jt}})}$t("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:et.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),$t("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:et.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),$t("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:et.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),$t("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:et.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),$t("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:et.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),$t("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["9"]}),$t("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ct;try{Ct=requireSecp256k1()}catch{Ct=void 0}$t("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:et.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ct]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var a=requireHash(),s=requireUtils$2(),et=requireMinimalisticAssert();function nt(at){if(!(this instanceof nt))return new nt(at);this.hash=at.hash,this.predResist=!!at.predResist,this.outLen=this.hash.outSize,this.minEntropy=at.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var mt=s.toArray(at.entropy,at.entropyEnc||"hex"),wt=s.toArray(at.nonce,at.nonceEnc||"hex"),$t=s.toArray(at.pers,at.persEnc||"hex");et(mt.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(mt,wt,$t)}return hmacDrbg=nt,nt.prototype._init=function(mt,wt,$t){var Ct=mt.concat(wt).concat($t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Dt=0;Dt<this.V.length;Dt++)this.K[Dt]=0,this.V[Dt]=1;this._update(Ct),this._reseed=1,this.reseedInterval=281474976710656},nt.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},nt.prototype._update=function(mt){var wt=this._hmac().update(this.V).update([0]);mt&&(wt=wt.update(mt)),this.K=wt.digest(),this.V=this._hmac().update(this.V).digest(),mt&&(this.K=this._hmac().update(this.V).update([1]).update(mt).digest(),this.V=this._hmac().update(this.V).digest())},nt.prototype.reseed=function(mt,wt,$t,Ct){typeof wt!="string"&&(Ct=$t,$t=wt,wt=null),mt=s.toArray(mt,wt),$t=s.toArray($t,Ct),et(mt.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(mt.concat($t||[])),this._reseed=1},nt.prototype.generate=function(mt,wt,$t,Ct){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof wt!="string"&&(Ct=$t,$t=wt,wt=null),$t&&($t=s.toArray($t,Ct||"hex"),this._update($t));for(var Dt=[];Dt.length<mt;)this.V=this._hmac().update(this.V).digest(),Dt=Dt.concat(this.V);var Ft=Dt.slice(0,mt);return this._update($t),this._reseed++,s.encode(Ft,wt)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var a=requireBn$3(),s=requireUtils$1(),et=s.assert;function nt(at,mt){this.ec=at,this.priv=null,this.pub=null,mt.priv&&this._importPrivate(mt.priv,mt.privEnc),mt.pub&&this._importPublic(mt.pub,mt.pubEnc)}return key$1=nt,nt.fromPublic=function(mt,wt,$t){return wt instanceof nt?wt:new nt(mt,{pub:wt,pubEnc:$t})},nt.fromPrivate=function(mt,wt,$t){return wt instanceof nt?wt:new nt(mt,{priv:wt,privEnc:$t})},nt.prototype.validate=function(){var mt=this.getPublic();return mt.isInfinity()?{result:!1,reason:"Invalid public key"}:mt.validate()?mt.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},nt.prototype.getPublic=function(mt,wt){return typeof mt=="string"&&(wt=mt,mt=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),wt?this.pub.encode(wt,mt):this.pub},nt.prototype.getPrivate=function(mt){return mt==="hex"?this.priv.toString(16,2):this.priv},nt.prototype._importPrivate=function(mt,wt){this.priv=new a(mt,wt||16),this.priv=this.priv.umod(this.ec.curve.n)},nt.prototype._importPublic=function(mt,wt){if(mt.x||mt.y){this.ec.curve.type==="mont"?et(mt.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&et(mt.x&&mt.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(mt.x,mt.y);return}this.pub=this.ec.curve.decodePoint(mt,wt)},nt.prototype.derive=function(mt){return mt.validate()||et(mt.validate(),"public point not validated"),mt.mul(this.priv).getX()},nt.prototype.sign=function(mt,wt,$t){return this.ec.sign(mt,this,wt,$t)},nt.prototype.verify=function(mt,wt,$t){return this.ec.verify(mt,wt,this,void 0,$t)},nt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var a=requireBn$3(),s=requireUtils$1(),et=s.assert;function nt(Ct,Dt){if(Ct instanceof nt)return Ct;this._importDER(Ct,Dt)||(et(Ct.r&&Ct.s,"Signature without r or s"),this.r=new a(Ct.r,16),this.s=new a(Ct.s,16),Ct.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Ct.recoveryParam)}signature$1=nt;function at(){this.place=0}function mt(Ct,Dt){var Ft=Ct[Dt.place++];if(!(Ft&128))return Ft;var jt=Ft&15;if(jt===0||jt>4||Ct[Dt.place]===0)return!1;for(var Ut=0,tr=0,ir=Dt.place;tr<jt;tr++,ir++)Ut<<=8,Ut|=Ct[ir],Ut>>>=0;return Ut<=127?!1:(Dt.place=ir,Ut)}function wt(Ct){for(var Dt=0,Ft=Ct.length-1;!Ct[Dt]&&!(Ct[Dt+1]&128)&&Dt<Ft;)Dt++;return Dt===0?Ct:Ct.slice(Dt)}nt.prototype._importDER=function(Dt,Ft){Dt=s.toArray(Dt,Ft);var jt=new at;if(Dt[jt.place++]!==48)return!1;var Ut=mt(Dt,jt);if(Ut===!1||Ut+jt.place!==Dt.length||Dt[jt.place++]!==2)return!1;var tr=mt(Dt,jt);if(tr===!1||Dt[jt.place]&128)return!1;var ir=Dt.slice(jt.place,tr+jt.place);if(jt.place+=tr,Dt[jt.place++]!==2)return!1;var sr=mt(Dt,jt);if(sr===!1||Dt.length!==sr+jt.place||Dt[jt.place]&128)return!1;var ur=Dt.slice(jt.place,sr+jt.place);if(ir[0]===0)if(ir[1]&128)ir=ir.slice(1);else return!1;if(ur[0]===0)if(ur[1]&128)ur=ur.slice(1);else return!1;return this.r=new a(ir),this.s=new a(ur),this.recoveryParam=null,!0};function $t(Ct,Dt){if(Dt<128){Ct.push(Dt);return}var Ft=1+(Math.log(Dt)/Math.LN2>>>3);for(Ct.push(Ft|128);--Ft;)Ct.push(Dt>>>(Ft<<3)&255);Ct.push(Dt)}return nt.prototype.toDER=function(Dt){var Ft=this.r.toArray(),jt=this.s.toArray();for(Ft[0]&128&&(Ft=[0].concat(Ft)),jt[0]&128&&(jt=[0].concat(jt)),Ft=wt(Ft),jt=wt(jt);!jt[0]&&!(jt[1]&128);)jt=jt.slice(1);var Ut=[2];$t(Ut,Ft.length),Ut=Ut.concat(Ft),Ut.push(2),$t(Ut,jt.length);var tr=Ut.concat(jt),ir=[48];return $t(ir,tr.length),ir=ir.concat(tr),s.encode(ir,Dt)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var a=requireBn$3(),s=requireHmacDrbg(),et=requireUtils$1(),nt=requireCurves(),at=requireBrorand(),mt=et.assert,wt=requireKey$1(),$t=requireSignature$1();function Ct(Dt){if(!(this instanceof Ct))return new Ct(Dt);typeof Dt=="string"&&(mt(Object.prototype.hasOwnProperty.call(nt,Dt),"Unknown curve "+Dt),Dt=nt[Dt]),Dt instanceof nt.PresetCurve&&(Dt={curve:Dt}),this.curve=Dt.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Dt.curve.g,this.g.precompute(Dt.curve.n.bitLength()+1),this.hash=Dt.hash||Dt.curve.hash}return ec=Ct,Ct.prototype.keyPair=function(Ft){return new wt(this,Ft)},Ct.prototype.keyFromPrivate=function(Ft,jt){return wt.fromPrivate(this,Ft,jt)},Ct.prototype.keyFromPublic=function(Ft,jt){return wt.fromPublic(this,Ft,jt)},Ct.prototype.genKeyPair=function(Ft){Ft||(Ft={});for(var jt=new s({hash:this.hash,pers:Ft.pers,persEnc:Ft.persEnc||"utf8",entropy:Ft.entropy||at(this.hash.hmacStrength),entropyEnc:Ft.entropy&&Ft.entropyEnc||"utf8",nonce:this.n.toArray()}),Ut=this.n.byteLength(),tr=this.n.sub(new a(2));;){var ir=new a(jt.generate(Ut));if(!(ir.cmp(tr)>0))return ir.iaddn(1),this.keyFromPrivate(ir)}},Ct.prototype._truncateToN=function(Ft,jt,Ut){var tr;if(a.isBN(Ft)||typeof Ft=="number")Ft=new a(Ft,16),tr=Ft.byteLength();else if(typeof Ft=="object")tr=Ft.length,Ft=new a(Ft,16);else{var ir=Ft.toString();tr=ir.length+1>>>1,Ft=new a(ir,16)}typeof Ut!="number"&&(Ut=tr*8);var sr=Ut-this.n.bitLength();return sr>0&&(Ft=Ft.ushrn(sr)),!jt&&Ft.cmp(this.n)>=0?Ft.sub(this.n):Ft},Ct.prototype.sign=function(Ft,jt,Ut,tr){if(typeof Ut=="object"&&(tr=Ut,Ut=null),tr||(tr={}),typeof Ft!="string"&&typeof Ft!="number"&&!a.isBN(Ft)){mt(typeof Ft=="object"&&Ft&&typeof Ft.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),mt(Ft.length>>>0===Ft.length);for(var ir=0;ir<Ft.length;ir++)mt((Ft[ir]&255)===Ft[ir])}jt=this.keyFromPrivate(jt,Ut),Ft=this._truncateToN(Ft,!1,tr.msgBitLength),mt(!Ft.isNeg(),"Can not sign a negative message");var sr=this.n.byteLength(),ur=jt.getPrivate().toArray("be",sr),fr=Ft.toArray("be",sr);mt(new a(fr).eq(Ft),"Can not sign message");for(var dr=new s({hash:this.hash,entropy:ur,nonce:fr,pers:tr.pers,persEnc:tr.persEnc||"utf8"}),hr=this.n.sub(new a(1)),vr=0;;vr++){var yr=tr.k?tr.k(vr):new a(dr.generate(this.n.byteLength()));if(yr=this._truncateToN(yr,!0),!(yr.cmpn(1)<=0||yr.cmp(hr)>=0)){var xr=this.g.mul(yr);if(!xr.isInfinity()){var br=xr.getX(),wr=br.umod(this.n);if(wr.cmpn(0)!==0){var Sr=yr.invm(this.n).mul(wr.mul(jt.getPrivate()).iadd(Ft));if(Sr=Sr.umod(this.n),Sr.cmpn(0)!==0){var Cr=(xr.getY().isOdd()?1:0)|(br.cmp(wr)!==0?2:0);return tr.canonical&&Sr.cmp(this.nh)>0&&(Sr=this.n.sub(Sr),Cr^=1),new $t({r:wr,s:Sr,recoveryParam:Cr})}}}}}},Ct.prototype.verify=function(Ft,jt,Ut,tr,ir){ir||(ir={}),Ft=this._truncateToN(Ft,!1,ir.msgBitLength),Ut=this.keyFromPublic(Ut,tr),jt=new $t(jt,"hex");var sr=jt.r,ur=jt.s;if(sr.cmpn(1)<0||sr.cmp(this.n)>=0||ur.cmpn(1)<0||ur.cmp(this.n)>=0)return!1;var fr=ur.invm(this.n),dr=fr.mul(Ft).umod(this.n),hr=fr.mul(sr).umod(this.n),vr;return this.curve._maxwellTrick?(vr=this.g.jmulAdd(dr,Ut.getPublic(),hr),vr.isInfinity()?!1:vr.eqXToP(sr)):(vr=this.g.mulAdd(dr,Ut.getPublic(),hr),vr.isInfinity()?!1:vr.getX().umod(this.n).cmp(sr)===0)},Ct.prototype.recoverPubKey=function(Dt,Ft,jt,Ut){mt((3&jt)===jt,"The recovery param is more than two bits"),Ft=new $t(Ft,Ut);var tr=this.n,ir=new a(Dt),sr=Ft.r,ur=Ft.s,fr=jt&1,dr=jt>>1;if(sr.cmp(this.curve.p.umod(this.curve.n))>=0&&dr)throw new Error("Unable to find sencond key candinate");dr?sr=this.curve.pointFromX(sr.add(this.curve.n),fr):sr=this.curve.pointFromX(sr,fr);var hr=Ft.r.invm(tr),vr=tr.sub(ir).mul(hr).umod(tr),yr=ur.mul(hr).umod(tr);return this.g.mulAdd(vr,sr,yr)},Ct.prototype.getKeyRecoveryParam=function(Dt,Ft,jt,Ut){if(Ft=new $t(Ft,Ut),Ft.recoveryParam!==null)return Ft.recoveryParam;for(var tr=0;tr<4;tr++){var ir;try{ir=this.recoverPubKey(Dt,Ft,tr)}catch{continue}if(ir.eq(jt))return tr}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var a=requireUtils$1(),s=a.assert,et=a.parseBytes,nt=a.cachedProperty;function at(mt,wt){this.eddsa=mt,this._secret=et(wt.secret),mt.isPoint(wt.pub)?this._pub=wt.pub:this._pubBytes=et(wt.pub)}return at.fromPublic=function(wt,$t){return $t instanceof at?$t:new at(wt,{pub:$t})},at.fromSecret=function(wt,$t){return $t instanceof at?$t:new at(wt,{secret:$t})},at.prototype.secret=function(){return this._secret},nt(at,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),nt(at,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),nt(at,"privBytes",function(){var wt=this.eddsa,$t=this.hash(),Ct=wt.encodingLength-1,Dt=$t.slice(0,wt.encodingLength);return Dt[0]&=248,Dt[Ct]&=127,Dt[Ct]|=64,Dt}),nt(at,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),nt(at,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),nt(at,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),at.prototype.sign=function(wt){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(wt,this)},at.prototype.verify=function(wt,$t){return this.eddsa.verify(wt,$t,this)},at.prototype.getSecret=function(wt){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),wt)},at.prototype.getPublic=function(wt){return a.encode(this.pubBytes(),wt)},key=at,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var a=requireBn$3(),s=requireUtils$1(),et=s.assert,nt=s.cachedProperty,at=s.parseBytes;function mt(wt,$t){this.eddsa=wt,typeof $t!="object"&&($t=at($t)),Array.isArray($t)&&(et($t.length===wt.encodingLength*2,"Signature has invalid size"),$t={R:$t.slice(0,wt.encodingLength),S:$t.slice(wt.encodingLength)}),et($t.R&&$t.S,"Signature without R or S"),wt.isPoint($t.R)&&(this._R=$t.R),$t.S instanceof a&&(this._S=$t.S),this._Rencoded=Array.isArray($t.R)?$t.R:$t.Rencoded,this._Sencoded=Array.isArray($t.S)?$t.S:$t.Sencoded}return nt(mt,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),nt(mt,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),nt(mt,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),nt(mt,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),mt.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},mt.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},signature=mt,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var a=requireHash(),s=requireCurves(),et=requireUtils$1(),nt=et.assert,at=et.parseBytes,mt=requireKey(),wt=requireSignature();function $t(Ct){if(nt(Ct==="ed25519","only tested with ed25519 so far"),!(this instanceof $t))return new $t(Ct);Ct=s[Ct].curve,this.curve=Ct,this.g=Ct.g,this.g.precompute(Ct.n.bitLength()+1),this.pointClass=Ct.point().constructor,this.encodingLength=Math.ceil(Ct.n.bitLength()/8),this.hash=a.sha512}return eddsa=$t,$t.prototype.sign=function(Dt,Ft){Dt=at(Dt);var jt=this.keyFromSecret(Ft),Ut=this.hashInt(jt.messagePrefix(),Dt),tr=this.g.mul(Ut),ir=this.encodePoint(tr),sr=this.hashInt(ir,jt.pubBytes(),Dt).mul(jt.priv()),ur=Ut.add(sr).umod(this.curve.n);return this.makeSignature({R:tr,S:ur,Rencoded:ir})},$t.prototype.verify=function(Dt,Ft,jt){if(Dt=at(Dt),Ft=this.makeSignature(Ft),Ft.S().gte(Ft.eddsa.curve.n)||Ft.S().isNeg())return!1;var Ut=this.keyFromPublic(jt),tr=this.hashInt(Ft.Rencoded(),Ut.pubBytes(),Dt),ir=this.g.mul(Ft.S()),sr=Ft.R().add(Ut.pub().mul(tr));return sr.eq(ir)},$t.prototype.hashInt=function(){for(var Dt=this.hash(),Ft=0;Ft<arguments.length;Ft++)Dt.update(arguments[Ft]);return et.intFromLE(Dt.digest()).umod(this.curve.n)},$t.prototype.keyFromPublic=function(Dt){return mt.fromPublic(this,Dt)},$t.prototype.keyFromSecret=function(Dt){return mt.fromSecret(this,Dt)},$t.prototype.makeSignature=function(Dt){return Dt instanceof wt?Dt:new wt(this,Dt)},$t.prototype.encodePoint=function(Dt){var Ft=Dt.getY().toArray("le",this.encodingLength);return Ft[this.encodingLength-1]|=Dt.getX().isOdd()?128:0,Ft},$t.prototype.decodePoint=function(Dt){Dt=et.parseBytes(Dt);var Ft=Dt.length-1,jt=Dt.slice(0,Ft).concat(Dt[Ft]&-129),Ut=(Dt[Ft]&128)!==0,tr=et.intFromLE(jt);return this.curve.pointFromY(tr,Ut)},$t.prototype.encodeInt=function(Dt){return Dt.toArray("le",this.encodingLength)},$t.prototype.decodeInt=function(Dt){return et.intFromLE(Dt)},$t.prototype.isPoint=function(Dt){return Dt instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(a){var s=a;s.version=require$$0.version,s.utils=requireUtils$1(),s.rand=requireBrorand(),s.curve=requireCurve(),s.curves=requireCurves(),s.ec=requireEc(),s.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(a){(function(s,et){function nt(cr,Nt){if(!cr)throw new Error(Nt||"Assertion failed")}function at(cr,Nt){cr.super_=Nt;var Vt=function(){};Vt.prototype=Nt.prototype,cr.prototype=new Vt,cr.prototype.constructor=cr}function mt(cr,Nt,Vt){if(mt.isBN(cr))return cr;this.negative=0,this.words=null,this.length=0,this.red=null,cr!==null&&((Nt==="le"||Nt==="be")&&(Vt=Nt,Nt=10),this._init(cr||0,Nt||10,Vt||"be"))}typeof s=="object"?s.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$0$3.Buffer}catch{}mt.isBN=function(Nt){return Nt instanceof mt?!0:Nt!==null&&typeof Nt=="object"&&Nt.constructor.wordSize===mt.wordSize&&Array.isArray(Nt.words)},mt.max=function(Nt,Vt){return Nt.cmp(Vt)>0?Nt:Vt},mt.min=function(Nt,Vt){return Nt.cmp(Vt)<0?Nt:Vt},mt.prototype._init=function(Nt,Vt,er){if(typeof Nt=="number")return this._initNumber(Nt,Vt,er);if(typeof Nt=="object")return this._initArray(Nt,Vt,er);Vt==="hex"&&(Vt=16),nt(Vt===(Vt|0)&&Vt>=2&&Vt<=36),Nt=Nt.toString().replace(/\s+/g,"");var Yt=0;Nt[0]==="-"&&(Yt++,this.negative=1),Yt<Nt.length&&(Vt===16?this._parseHex(Nt,Yt,er):(this._parseBase(Nt,Vt,Yt),er==="le"&&this._initArray(this.toArray(),Vt,er)))},mt.prototype._initNumber=function(Nt,Vt,er){Nt<0&&(this.negative=1,Nt=-Nt),Nt<67108864?(this.words=[Nt&67108863],this.length=1):Nt<4503599627370496?(this.words=[Nt&67108863,Nt/67108864&67108863],this.length=2):(nt(Nt<9007199254740992),this.words=[Nt&67108863,Nt/67108864&67108863,1],this.length=3),er==="le"&&this._initArray(this.toArray(),Vt,er)},mt.prototype._initArray=function(Nt,Vt,er){if(nt(typeof Nt.length=="number"),Nt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Nt.length/3),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr,ar,lr=0;if(er==="be")for(Yt=Nt.length-1,rr=0;Yt>=0;Yt-=3)ar=Nt[Yt]|Nt[Yt-1]<<8|Nt[Yt-2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);else if(er==="le")for(Yt=0,rr=0;Yt<Nt.length;Yt+=3)ar=Nt[Yt]|Nt[Yt+1]<<8|Nt[Yt+2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);return this.strip()};function $t(cr,Nt){var Vt=cr.charCodeAt(Nt);return Vt>=65&&Vt<=70?Vt-55:Vt>=97&&Vt<=102?Vt-87:Vt-48&15}function Ct(cr,Nt,Vt){var er=$t(cr,Vt);return Vt-1>=Nt&&(er|=$t(cr,Vt-1)<<4),er}mt.prototype._parseHex=function(Nt,Vt,er){this.length=Math.ceil((Nt.length-Vt)/6),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr=0,ar=0,lr;if(er==="be")for(Yt=Nt.length-1;Yt>=Vt;Yt-=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8;else{var nr=Nt.length-Vt;for(Yt=nr%2===0?Vt+1:Vt;Yt<Nt.length;Yt+=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8}this.strip()};function Dt(cr,Nt,Vt,er){for(var Yt=0,rr=Math.min(cr.length,Vt),ar=Nt;ar<rr;ar++){var lr=cr.charCodeAt(ar)-48;Yt*=er,lr>=49?Yt+=lr-49+10:lr>=17?Yt+=lr-17+10:Yt+=lr}return Yt}mt.prototype._parseBase=function(Nt,Vt,er){this.words=[0],this.length=1;for(var Yt=0,rr=1;rr<=67108863;rr*=Vt)Yt++;Yt--,rr=rr/Vt|0;for(var ar=Nt.length-er,lr=ar%Yt,nr=Math.min(ar,ar-lr)+er,Lt=0,or=er;or<nr;or+=Yt)Lt=Dt(Nt,or,or+Yt,Vt),this.imuln(rr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt);if(lr!==0){var gr=1;for(Lt=Dt(Nt,or,Nt.length,Vt),or=0;or<lr;or++)gr*=Vt;this.imuln(gr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt)}this.strip()},mt.prototype.copy=function(Nt){Nt.words=new Array(this.length);for(var Vt=0;Vt<this.length;Vt++)Nt.words[Vt]=this.words[Vt];Nt.length=this.length,Nt.negative=this.negative,Nt.red=this.red},mt.prototype.clone=function(){var Nt=new mt(null);return this.copy(Nt),Nt},mt.prototype._expand=function(Nt){for(;this.length<Nt;)this.words[this.length++]=0;return this},mt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},mt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(Nt,Vt){Nt=Nt||10,Vt=Vt|0||1;var er;if(Nt===16||Nt==="hex"){er="";for(var Yt=0,rr=0,ar=0;ar<this.length;ar++){var lr=this.words[ar],nr=((lr<<Yt|rr)&16777215).toString(16);rr=lr>>>24-Yt&16777215,Yt+=2,Yt>=26&&(Yt-=26,ar--),rr!==0||ar!==this.length-1?er=Ft[6-nr.length]+nr+er:er=nr+er}for(rr!==0&&(er=rr.toString(16)+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}if(Nt===(Nt|0)&&Nt>=2&&Nt<=36){var Lt=jt[Nt],or=Ut[Nt];er="";var gr=this.clone();for(gr.negative=0;!gr.isZero();){var pr=gr.modn(or).toString(Nt);gr=gr.idivn(or),gr.isZero()?er=pr+er:er=Ft[Lt-pr.length]+pr+er}for(this.isZero()&&(er="0"+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var Nt=this.words[0];return this.length===2?Nt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Nt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Nt:Nt},mt.prototype.toJSON=function(){return this.toString(16)},mt.prototype.toBuffer=function(Nt,Vt){return nt(typeof wt<"u"),this.toArrayLike(wt,Nt,Vt)},mt.prototype.toArray=function(Nt,Vt){return this.toArrayLike(Array,Nt,Vt)},mt.prototype.toArrayLike=function(Nt,Vt,er){var Yt=this.byteLength(),rr=er||Math.max(1,Yt);nt(Yt<=rr,"byte array longer than desired length"),nt(rr>0,"Requested array length <= 0"),this.strip();var ar=Vt==="le",lr=new Nt(rr),nr,Lt,or=this.clone();if(ar){for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[Lt]=nr;for(;Lt<rr;Lt++)lr[Lt]=0}else{for(Lt=0;Lt<rr-Yt;Lt++)lr[Lt]=0;for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[rr-Lt-1]=nr}return lr},Math.clz32?mt.prototype._countBits=function(Nt){return 32-Math.clz32(Nt)}:mt.prototype._countBits=function(Nt){var Vt=Nt,er=0;return Vt>=4096&&(er+=13,Vt>>>=13),Vt>=64&&(er+=7,Vt>>>=7),Vt>=8&&(er+=4,Vt>>>=4),Vt>=2&&(er+=2,Vt>>>=2),er+Vt},mt.prototype._zeroBits=function(Nt){if(Nt===0)return 26;var Vt=Nt,er=0;return Vt&8191||(er+=13,Vt>>>=13),Vt&127||(er+=7,Vt>>>=7),Vt&15||(er+=4,Vt>>>=4),Vt&3||(er+=2,Vt>>>=2),Vt&1||er++,er},mt.prototype.bitLength=function(){var Nt=this.words[this.length-1],Vt=this._countBits(Nt);return(this.length-1)*26+Vt};function tr(cr){for(var Nt=new Array(cr.bitLength()),Vt=0;Vt<Nt.length;Vt++){var er=Vt/26|0,Yt=Vt%26;Nt[Vt]=(cr.words[er]&1<<Yt)>>>Yt}return Nt}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Nt=0,Vt=0;Vt<this.length;Vt++){var er=this._zeroBits(this.words[Vt]);if(Nt+=er,er!==26)break}return Nt},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(Nt){return this.negative!==0?this.abs().inotn(Nt).iaddn(1):this.clone()},mt.prototype.fromTwos=function(Nt){return this.testn(Nt-1)?this.notn(Nt).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(Nt){for(;this.length<Nt.length;)this.words[this.length++]=0;for(var Vt=0;Vt<Nt.length;Vt++)this.words[Vt]=this.words[Vt]|Nt.words[Vt];return this.strip()},mt.prototype.ior=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuor(Nt)},mt.prototype.or=function(Nt){return this.length>Nt.length?this.clone().ior(Nt):Nt.clone().ior(this)},mt.prototype.uor=function(Nt){return this.length>Nt.length?this.clone().iuor(Nt):Nt.clone().iuor(this)},mt.prototype.iuand=function(Nt){var Vt;this.length>Nt.length?Vt=Nt:Vt=this;for(var er=0;er<Vt.length;er++)this.words[er]=this.words[er]&Nt.words[er];return this.length=Vt.length,this.strip()},mt.prototype.iand=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuand(Nt)},mt.prototype.and=function(Nt){return this.length>Nt.length?this.clone().iand(Nt):Nt.clone().iand(this)},mt.prototype.uand=function(Nt){return this.length>Nt.length?this.clone().iuand(Nt):Nt.clone().iuand(this)},mt.prototype.iuxor=function(Nt){var Vt,er;this.length>Nt.length?(Vt=this,er=Nt):(Vt=Nt,er=this);for(var Yt=0;Yt<er.length;Yt++)this.words[Yt]=Vt.words[Yt]^er.words[Yt];if(this!==Vt)for(;Yt<Vt.length;Yt++)this.words[Yt]=Vt.words[Yt];return this.length=Vt.length,this.strip()},mt.prototype.ixor=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuxor(Nt)},mt.prototype.xor=function(Nt){return this.length>Nt.length?this.clone().ixor(Nt):Nt.clone().ixor(this)},mt.prototype.uxor=function(Nt){return this.length>Nt.length?this.clone().iuxor(Nt):Nt.clone().iuxor(this)},mt.prototype.inotn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Math.ceil(Nt/26)|0,er=Nt%26;this._expand(Vt),er>0&&Vt--;for(var Yt=0;Yt<Vt;Yt++)this.words[Yt]=~this.words[Yt]&67108863;return er>0&&(this.words[Yt]=~this.words[Yt]&67108863>>26-er),this.strip()},mt.prototype.notn=function(Nt){return this.clone().inotn(Nt)},mt.prototype.setn=function(Nt,Vt){nt(typeof Nt=="number"&&Nt>=0);var er=Nt/26|0,Yt=Nt%26;return this._expand(er+1),Vt?this.words[er]=this.words[er]|1<<Yt:this.words[er]=this.words[er]&~(1<<Yt),this.strip()},mt.prototype.iadd=function(Nt){var Vt;if(this.negative!==0&&Nt.negative===0)return this.negative=0,Vt=this.isub(Nt),this.negative^=1,this._normSign();if(this.negative===0&&Nt.negative!==0)return Nt.negative=0,Vt=this.isub(Nt),Nt.negative=1,Vt._normSign();var er,Yt;this.length>Nt.length?(er=this,Yt=Nt):(er=Nt,Yt=this);for(var rr=0,ar=0;ar<Yt.length;ar++)Vt=(er.words[ar]|0)+(Yt.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;for(;rr!==0&&ar<er.length;ar++)Vt=(er.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;if(this.length=er.length,rr!==0)this.words[this.length]=rr,this.length++;else if(er!==this)for(;ar<er.length;ar++)this.words[ar]=er.words[ar];return this},mt.prototype.add=function(Nt){var Vt;return Nt.negative!==0&&this.negative===0?(Nt.negative=0,Vt=this.sub(Nt),Nt.negative^=1,Vt):Nt.negative===0&&this.negative!==0?(this.negative=0,Vt=Nt.sub(this),this.negative=1,Vt):this.length>Nt.length?this.clone().iadd(Nt):Nt.clone().iadd(this)},mt.prototype.isub=function(Nt){if(Nt.negative!==0){Nt.negative=0;var Vt=this.iadd(Nt);return Nt.negative=1,Vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Nt),this.negative=1,this._normSign();var er=this.cmp(Nt);if(er===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yt,rr;er>0?(Yt=this,rr=Nt):(Yt=Nt,rr=this);for(var ar=0,lr=0;lr<rr.length;lr++)Vt=(Yt.words[lr]|0)-(rr.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;for(;ar!==0&&lr<Yt.length;lr++)Vt=(Yt.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;if(ar===0&&lr<Yt.length&&Yt!==this)for(;lr<Yt.length;lr++)this.words[lr]=Yt.words[lr];return this.length=Math.max(this.length,lr),Yt!==this&&(this.negative=1),this.strip()},mt.prototype.sub=function(Nt){return this.clone().isub(Nt)};function ir(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative;var er=cr.length+Nt.length|0;Vt.length=er,er=er-1|0;var Yt=cr.words[0]|0,rr=Nt.words[0]|0,ar=Yt*rr,lr=ar&67108863,nr=ar/67108864|0;Vt.words[0]=lr;for(var Lt=1;Lt<er;Lt++){for(var or=nr>>>26,gr=nr&67108863,pr=Math.min(Lt,Nt.length-1),_r=Math.max(0,Lt-cr.length+1);_r<=pr;_r++){var kr=Lt-_r|0;Yt=cr.words[kr]|0,rr=Nt.words[_r]|0,ar=Yt*rr+gr,or+=ar/67108864|0,gr=ar&67108863}Vt.words[Lt]=gr|0,nr=or|0}return nr!==0?Vt.words[Lt]=nr|0:Vt.length--,Vt.strip()}var sr=function(Nt,Vt,er){var Yt=Nt.words,rr=Vt.words,ar=er.words,lr=0,nr,Lt,or,gr=Yt[0]|0,pr=gr&8191,_r=gr>>>13,kr=Yt[1]|0,Mr=kr&8191,$r=kr>>>13,Pr=Yt[2]|0,Fr=Pr&8191,Tr=Pr>>>13,Rr=Yt[3]|0,Er=Rr&8191,Or=Rr>>>13,Wr=Yt[4]|0,qr=Wr&8191,Vr=Wr>>>13,Ur=Yt[5]|0,Lr=Ur&8191,Br=Ur>>>13,Xr=Yt[6]|0,zr=Xr&8191,Qr=Xr>>>13,Qn=Yt[7]|0,nn=Qn&8191,$n=Qn>>>13,lo=Yt[8]|0,sn=lo&8191,Nn=lo>>>13,xo=Yt[9]|0,Ir=xo&8191,Ar=xo>>>13,Dr=rr[0]|0,Nr=Dr&8191,Gr=Dr>>>13,Un=rr[1]|0,Zr=Un&8191,Cn=Un>>>13,wo=rr[2]|0,Hn=wo&8191,Kn=wo>>>13,bo=rr[3]|0,Jn=bo&8191,no=bo>>>13,Do=rr[4]|0,eo=Do&8191,io=Do>>>13,Io=rr[5]|0,_i=Io&8191,ro=Io>>>13,Oo=rr[6]|0,Hr=Oo&8191,Yr=Oo>>>13,Wn=rr[7]|0,rn=Wn&8191,dn=Wn>>>13,po=rr[8]|0,Ln=po&8191,Vn=po>>>13,uo=rr[9]|0,pn=uo&8191,zn=uo>>>13;er.negative=Nt.negative^Vt.negative,er.length=19,nr=Math.imul(pr,Nr),Lt=Math.imul(pr,Gr),Lt=Lt+Math.imul(_r,Nr)|0,or=Math.imul(_r,Gr);var go=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(go>>>26)|0,go&=67108863,nr=Math.imul(Mr,Nr),Lt=Math.imul(Mr,Gr),Lt=Lt+Math.imul($r,Nr)|0,or=Math.imul($r,Gr),nr=nr+Math.imul(pr,Zr)|0,Lt=Lt+Math.imul(pr,Cn)|0,Lt=Lt+Math.imul(_r,Zr)|0,or=or+Math.imul(_r,Cn)|0;var co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(co>>>26)|0,co&=67108863,nr=Math.imul(Fr,Nr),Lt=Math.imul(Fr,Gr),Lt=Lt+Math.imul(Tr,Nr)|0,or=Math.imul(Tr,Gr),nr=nr+Math.imul(Mr,Zr)|0,Lt=Lt+Math.imul(Mr,Cn)|0,Lt=Lt+Math.imul($r,Zr)|0,or=or+Math.imul($r,Cn)|0,nr=nr+Math.imul(pr,Hn)|0,Lt=Lt+Math.imul(pr,Kn)|0,Lt=Lt+Math.imul(_r,Hn)|0,or=or+Math.imul(_r,Kn)|0;var Eo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,nr=Math.imul(Er,Nr),Lt=Math.imul(Er,Gr),Lt=Lt+Math.imul(Or,Nr)|0,or=Math.imul(Or,Gr),nr=nr+Math.imul(Fr,Zr)|0,Lt=Lt+Math.imul(Fr,Cn)|0,Lt=Lt+Math.imul(Tr,Zr)|0,or=or+Math.imul(Tr,Cn)|0,nr=nr+Math.imul(Mr,Hn)|0,Lt=Lt+Math.imul(Mr,Kn)|0,Lt=Lt+Math.imul($r,Hn)|0,or=or+Math.imul($r,Kn)|0,nr=nr+Math.imul(pr,Jn)|0,Lt=Lt+Math.imul(pr,no)|0,Lt=Lt+Math.imul(_r,Jn)|0,or=or+Math.imul(_r,no)|0;var To=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(To>>>26)|0,To&=67108863,nr=Math.imul(qr,Nr),Lt=Math.imul(qr,Gr),Lt=Lt+Math.imul(Vr,Nr)|0,or=Math.imul(Vr,Gr),nr=nr+Math.imul(Er,Zr)|0,Lt=Lt+Math.imul(Er,Cn)|0,Lt=Lt+Math.imul(Or,Zr)|0,or=or+Math.imul(Or,Cn)|0,nr=nr+Math.imul(Fr,Hn)|0,Lt=Lt+Math.imul(Fr,Kn)|0,Lt=Lt+Math.imul(Tr,Hn)|0,or=or+Math.imul(Tr,Kn)|0,nr=nr+Math.imul(Mr,Jn)|0,Lt=Lt+Math.imul(Mr,no)|0,Lt=Lt+Math.imul($r,Jn)|0,or=or+Math.imul($r,no)|0,nr=nr+Math.imul(pr,eo)|0,Lt=Lt+Math.imul(pr,io)|0,Lt=Lt+Math.imul(_r,eo)|0,or=or+Math.imul(_r,io)|0;var Co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Co>>>26)|0,Co&=67108863,nr=Math.imul(Lr,Nr),Lt=Math.imul(Lr,Gr),Lt=Lt+Math.imul(Br,Nr)|0,or=Math.imul(Br,Gr),nr=nr+Math.imul(qr,Zr)|0,Lt=Lt+Math.imul(qr,Cn)|0,Lt=Lt+Math.imul(Vr,Zr)|0,or=or+Math.imul(Vr,Cn)|0,nr=nr+Math.imul(Er,Hn)|0,Lt=Lt+Math.imul(Er,Kn)|0,Lt=Lt+Math.imul(Or,Hn)|0,or=or+Math.imul(Or,Kn)|0,nr=nr+Math.imul(Fr,Jn)|0,Lt=Lt+Math.imul(Fr,no)|0,Lt=Lt+Math.imul(Tr,Jn)|0,or=or+Math.imul(Tr,no)|0,nr=nr+Math.imul(Mr,eo)|0,Lt=Lt+Math.imul(Mr,io)|0,Lt=Lt+Math.imul($r,eo)|0,or=or+Math.imul($r,io)|0,nr=nr+Math.imul(pr,_i)|0,Lt=Lt+Math.imul(pr,ro)|0,Lt=Lt+Math.imul(_r,_i)|0,or=or+Math.imul(_r,ro)|0;var Mo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,nr=Math.imul(zr,Nr),Lt=Math.imul(zr,Gr),Lt=Lt+Math.imul(Qr,Nr)|0,or=Math.imul(Qr,Gr),nr=nr+Math.imul(Lr,Zr)|0,Lt=Lt+Math.imul(Lr,Cn)|0,Lt=Lt+Math.imul(Br,Zr)|0,or=or+Math.imul(Br,Cn)|0,nr=nr+Math.imul(qr,Hn)|0,Lt=Lt+Math.imul(qr,Kn)|0,Lt=Lt+Math.imul(Vr,Hn)|0,or=or+Math.imul(Vr,Kn)|0,nr=nr+Math.imul(Er,Jn)|0,Lt=Lt+Math.imul(Er,no)|0,Lt=Lt+Math.imul(Or,Jn)|0,or=or+Math.imul(Or,no)|0,nr=nr+Math.imul(Fr,eo)|0,Lt=Lt+Math.imul(Fr,io)|0,Lt=Lt+Math.imul(Tr,eo)|0,or=or+Math.imul(Tr,io)|0,nr=nr+Math.imul(Mr,_i)|0,Lt=Lt+Math.imul(Mr,ro)|0,Lt=Lt+Math.imul($r,_i)|0,or=or+Math.imul($r,ro)|0,nr=nr+Math.imul(pr,Hr)|0,Lt=Lt+Math.imul(pr,Yr)|0,Lt=Lt+Math.imul(_r,Hr)|0,or=or+Math.imul(_r,Yr)|0;var No=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(No>>>26)|0,No&=67108863,nr=Math.imul(nn,Nr),Lt=Math.imul(nn,Gr),Lt=Lt+Math.imul($n,Nr)|0,or=Math.imul($n,Gr),nr=nr+Math.imul(zr,Zr)|0,Lt=Lt+Math.imul(zr,Cn)|0,Lt=Lt+Math.imul(Qr,Zr)|0,or=or+Math.imul(Qr,Cn)|0,nr=nr+Math.imul(Lr,Hn)|0,Lt=Lt+Math.imul(Lr,Kn)|0,Lt=Lt+Math.imul(Br,Hn)|0,or=or+Math.imul(Br,Kn)|0,nr=nr+Math.imul(qr,Jn)|0,Lt=Lt+Math.imul(qr,no)|0,Lt=Lt+Math.imul(Vr,Jn)|0,or=or+Math.imul(Vr,no)|0,nr=nr+Math.imul(Er,eo)|0,Lt=Lt+Math.imul(Er,io)|0,Lt=Lt+Math.imul(Or,eo)|0,or=or+Math.imul(Or,io)|0,nr=nr+Math.imul(Fr,_i)|0,Lt=Lt+Math.imul(Fr,ro)|0,Lt=Lt+Math.imul(Tr,_i)|0,or=or+Math.imul(Tr,ro)|0,nr=nr+Math.imul(Mr,Hr)|0,Lt=Lt+Math.imul(Mr,Yr)|0,Lt=Lt+Math.imul($r,Hr)|0,or=or+Math.imul($r,Yr)|0,nr=nr+Math.imul(pr,rn)|0,Lt=Lt+Math.imul(pr,dn)|0,Lt=Lt+Math.imul(_r,rn)|0,or=or+Math.imul(_r,dn)|0;var zo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(zo>>>26)|0,zo&=67108863,nr=Math.imul(sn,Nr),Lt=Math.imul(sn,Gr),Lt=Lt+Math.imul(Nn,Nr)|0,or=Math.imul(Nn,Gr),nr=nr+Math.imul(nn,Zr)|0,Lt=Lt+Math.imul(nn,Cn)|0,Lt=Lt+Math.imul($n,Zr)|0,or=or+Math.imul($n,Cn)|0,nr=nr+Math.imul(zr,Hn)|0,Lt=Lt+Math.imul(zr,Kn)|0,Lt=Lt+Math.imul(Qr,Hn)|0,or=or+Math.imul(Qr,Kn)|0,nr=nr+Math.imul(Lr,Jn)|0,Lt=Lt+Math.imul(Lr,no)|0,Lt=Lt+Math.imul(Br,Jn)|0,or=or+Math.imul(Br,no)|0,nr=nr+Math.imul(qr,eo)|0,Lt=Lt+Math.imul(qr,io)|0,Lt=Lt+Math.imul(Vr,eo)|0,or=or+Math.imul(Vr,io)|0,nr=nr+Math.imul(Er,_i)|0,Lt=Lt+Math.imul(Er,ro)|0,Lt=Lt+Math.imul(Or,_i)|0,or=or+Math.imul(Or,ro)|0,nr=nr+Math.imul(Fr,Hr)|0,Lt=Lt+Math.imul(Fr,Yr)|0,Lt=Lt+Math.imul(Tr,Hr)|0,or=or+Math.imul(Tr,Yr)|0,nr=nr+Math.imul(Mr,rn)|0,Lt=Lt+Math.imul(Mr,dn)|0,Lt=Lt+Math.imul($r,rn)|0,or=or+Math.imul($r,dn)|0,nr=nr+Math.imul(pr,Ln)|0,Lt=Lt+Math.imul(pr,Vn)|0,Lt=Lt+Math.imul(_r,Ln)|0,or=or+Math.imul(_r,Vn)|0;var Bo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,nr=Math.imul(Ir,Nr),Lt=Math.imul(Ir,Gr),Lt=Lt+Math.imul(Ar,Nr)|0,or=Math.imul(Ar,Gr),nr=nr+Math.imul(sn,Zr)|0,Lt=Lt+Math.imul(sn,Cn)|0,Lt=Lt+Math.imul(Nn,Zr)|0,or=or+Math.imul(Nn,Cn)|0,nr=nr+Math.imul(nn,Hn)|0,Lt=Lt+Math.imul(nn,Kn)|0,Lt=Lt+Math.imul($n,Hn)|0,or=or+Math.imul($n,Kn)|0,nr=nr+Math.imul(zr,Jn)|0,Lt=Lt+Math.imul(zr,no)|0,Lt=Lt+Math.imul(Qr,Jn)|0,or=or+Math.imul(Qr,no)|0,nr=nr+Math.imul(Lr,eo)|0,Lt=Lt+Math.imul(Lr,io)|0,Lt=Lt+Math.imul(Br,eo)|0,or=or+Math.imul(Br,io)|0,nr=nr+Math.imul(qr,_i)|0,Lt=Lt+Math.imul(qr,ro)|0,Lt=Lt+Math.imul(Vr,_i)|0,or=or+Math.imul(Vr,ro)|0,nr=nr+Math.imul(Er,Hr)|0,Lt=Lt+Math.imul(Er,Yr)|0,Lt=Lt+Math.imul(Or,Hr)|0,or=or+Math.imul(Or,Yr)|0,nr=nr+Math.imul(Fr,rn)|0,Lt=Lt+Math.imul(Fr,dn)|0,Lt=Lt+Math.imul(Tr,rn)|0,or=or+Math.imul(Tr,dn)|0,nr=nr+Math.imul(Mr,Ln)|0,Lt=Lt+Math.imul(Mr,Vn)|0,Lt=Lt+Math.imul($r,Ln)|0,or=or+Math.imul($r,Vn)|0,nr=nr+Math.imul(pr,pn)|0,Lt=Lt+Math.imul(pr,zn)|0,Lt=Lt+Math.imul(_r,pn)|0,or=or+Math.imul(_r,zn)|0;var Po=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Po>>>26)|0,Po&=67108863,nr=Math.imul(Ir,Zr),Lt=Math.imul(Ir,Cn),Lt=Lt+Math.imul(Ar,Zr)|0,or=Math.imul(Ar,Cn),nr=nr+Math.imul(sn,Hn)|0,Lt=Lt+Math.imul(sn,Kn)|0,Lt=Lt+Math.imul(Nn,Hn)|0,or=or+Math.imul(Nn,Kn)|0,nr=nr+Math.imul(nn,Jn)|0,Lt=Lt+Math.imul(nn,no)|0,Lt=Lt+Math.imul($n,Jn)|0,or=or+Math.imul($n,no)|0,nr=nr+Math.imul(zr,eo)|0,Lt=Lt+Math.imul(zr,io)|0,Lt=Lt+Math.imul(Qr,eo)|0,or=or+Math.imul(Qr,io)|0,nr=nr+Math.imul(Lr,_i)|0,Lt=Lt+Math.imul(Lr,ro)|0,Lt=Lt+Math.imul(Br,_i)|0,or=or+Math.imul(Br,ro)|0,nr=nr+Math.imul(qr,Hr)|0,Lt=Lt+Math.imul(qr,Yr)|0,Lt=Lt+Math.imul(Vr,Hr)|0,or=or+Math.imul(Vr,Yr)|0,nr=nr+Math.imul(Er,rn)|0,Lt=Lt+Math.imul(Er,dn)|0,Lt=Lt+Math.imul(Or,rn)|0,or=or+Math.imul(Or,dn)|0,nr=nr+Math.imul(Fr,Ln)|0,Lt=Lt+Math.imul(Fr,Vn)|0,Lt=Lt+Math.imul(Tr,Ln)|0,or=or+Math.imul(Tr,Vn)|0,nr=nr+Math.imul(Mr,pn)|0,Lt=Lt+Math.imul(Mr,zn)|0,Lt=Lt+Math.imul($r,pn)|0,or=or+Math.imul($r,zn)|0;var Wo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,nr=Math.imul(Ir,Hn),Lt=Math.imul(Ir,Kn),Lt=Lt+Math.imul(Ar,Hn)|0,or=Math.imul(Ar,Kn),nr=nr+Math.imul(sn,Jn)|0,Lt=Lt+Math.imul(sn,no)|0,Lt=Lt+Math.imul(Nn,Jn)|0,or=or+Math.imul(Nn,no)|0,nr=nr+Math.imul(nn,eo)|0,Lt=Lt+Math.imul(nn,io)|0,Lt=Lt+Math.imul($n,eo)|0,or=or+Math.imul($n,io)|0,nr=nr+Math.imul(zr,_i)|0,Lt=Lt+Math.imul(zr,ro)|0,Lt=Lt+Math.imul(Qr,_i)|0,or=or+Math.imul(Qr,ro)|0,nr=nr+Math.imul(Lr,Hr)|0,Lt=Lt+Math.imul(Lr,Yr)|0,Lt=Lt+Math.imul(Br,Hr)|0,or=or+Math.imul(Br,Yr)|0,nr=nr+Math.imul(qr,rn)|0,Lt=Lt+Math.imul(qr,dn)|0,Lt=Lt+Math.imul(Vr,rn)|0,or=or+Math.imul(Vr,dn)|0,nr=nr+Math.imul(Er,Ln)|0,Lt=Lt+Math.imul(Er,Vn)|0,Lt=Lt+Math.imul(Or,Ln)|0,or=or+Math.imul(Or,Vn)|0,nr=nr+Math.imul(Fr,pn)|0,Lt=Lt+Math.imul(Fr,zn)|0,Lt=Lt+Math.imul(Tr,pn)|0,or=or+Math.imul(Tr,zn)|0;var Fo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,nr=Math.imul(Ir,Jn),Lt=Math.imul(Ir,no),Lt=Lt+Math.imul(Ar,Jn)|0,or=Math.imul(Ar,no),nr=nr+Math.imul(sn,eo)|0,Lt=Lt+Math.imul(sn,io)|0,Lt=Lt+Math.imul(Nn,eo)|0,or=or+Math.imul(Nn,io)|0,nr=nr+Math.imul(nn,_i)|0,Lt=Lt+Math.imul(nn,ro)|0,Lt=Lt+Math.imul($n,_i)|0,or=or+Math.imul($n,ro)|0,nr=nr+Math.imul(zr,Hr)|0,Lt=Lt+Math.imul(zr,Yr)|0,Lt=Lt+Math.imul(Qr,Hr)|0,or=or+Math.imul(Qr,Yr)|0,nr=nr+Math.imul(Lr,rn)|0,Lt=Lt+Math.imul(Lr,dn)|0,Lt=Lt+Math.imul(Br,rn)|0,or=or+Math.imul(Br,dn)|0,nr=nr+Math.imul(qr,Ln)|0,Lt=Lt+Math.imul(qr,Vn)|0,Lt=Lt+Math.imul(Vr,Ln)|0,or=or+Math.imul(Vr,Vn)|0,nr=nr+Math.imul(Er,pn)|0,Lt=Lt+Math.imul(Er,zn)|0,Lt=Lt+Math.imul(Or,pn)|0,or=or+Math.imul(Or,zn)|0;var jo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(jo>>>26)|0,jo&=67108863,nr=Math.imul(Ir,eo),Lt=Math.imul(Ir,io),Lt=Lt+Math.imul(Ar,eo)|0,or=Math.imul(Ar,io),nr=nr+Math.imul(sn,_i)|0,Lt=Lt+Math.imul(sn,ro)|0,Lt=Lt+Math.imul(Nn,_i)|0,or=or+Math.imul(Nn,ro)|0,nr=nr+Math.imul(nn,Hr)|0,Lt=Lt+Math.imul(nn,Yr)|0,Lt=Lt+Math.imul($n,Hr)|0,or=or+Math.imul($n,Yr)|0,nr=nr+Math.imul(zr,rn)|0,Lt=Lt+Math.imul(zr,dn)|0,Lt=Lt+Math.imul(Qr,rn)|0,or=or+Math.imul(Qr,dn)|0,nr=nr+Math.imul(Lr,Ln)|0,Lt=Lt+Math.imul(Lr,Vn)|0,Lt=Lt+Math.imul(Br,Ln)|0,or=or+Math.imul(Br,Vn)|0,nr=nr+Math.imul(qr,pn)|0,Lt=Lt+Math.imul(qr,zn)|0,Lt=Lt+Math.imul(Vr,pn)|0,or=or+Math.imul(Vr,zn)|0;var Uo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,nr=Math.imul(Ir,_i),Lt=Math.imul(Ir,ro),Lt=Lt+Math.imul(Ar,_i)|0,or=Math.imul(Ar,ro),nr=nr+Math.imul(sn,Hr)|0,Lt=Lt+Math.imul(sn,Yr)|0,Lt=Lt+Math.imul(Nn,Hr)|0,or=or+Math.imul(Nn,Yr)|0,nr=nr+Math.imul(nn,rn)|0,Lt=Lt+Math.imul(nn,dn)|0,Lt=Lt+Math.imul($n,rn)|0,or=or+Math.imul($n,dn)|0,nr=nr+Math.imul(zr,Ln)|0,Lt=Lt+Math.imul(zr,Vn)|0,Lt=Lt+Math.imul(Qr,Ln)|0,or=or+Math.imul(Qr,Vn)|0,nr=nr+Math.imul(Lr,pn)|0,Lt=Lt+Math.imul(Lr,zn)|0,Lt=Lt+Math.imul(Br,pn)|0,or=or+Math.imul(Br,zn)|0;var Vo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,nr=Math.imul(Ir,Hr),Lt=Math.imul(Ir,Yr),Lt=Lt+Math.imul(Ar,Hr)|0,or=Math.imul(Ar,Yr),nr=nr+Math.imul(sn,rn)|0,Lt=Lt+Math.imul(sn,dn)|0,Lt=Lt+Math.imul(Nn,rn)|0,or=or+Math.imul(Nn,dn)|0,nr=nr+Math.imul(nn,Ln)|0,Lt=Lt+Math.imul(nn,Vn)|0,Lt=Lt+Math.imul($n,Ln)|0,or=or+Math.imul($n,Vn)|0,nr=nr+Math.imul(zr,pn)|0,Lt=Lt+Math.imul(zr,zn)|0,Lt=Lt+Math.imul(Qr,pn)|0,or=or+Math.imul(Qr,zn)|0;var $o=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+($o>>>26)|0,$o&=67108863,nr=Math.imul(Ir,rn),Lt=Math.imul(Ir,dn),Lt=Lt+Math.imul(Ar,rn)|0,or=Math.imul(Ar,dn),nr=nr+Math.imul(sn,Ln)|0,Lt=Lt+Math.imul(sn,Vn)|0,Lt=Lt+Math.imul(Nn,Ln)|0,or=or+Math.imul(Nn,Vn)|0,nr=nr+Math.imul(nn,pn)|0,Lt=Lt+Math.imul(nn,zn)|0,Lt=Lt+Math.imul($n,pn)|0,or=or+Math.imul($n,zn)|0;var ko=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(ko>>>26)|0,ko&=67108863,nr=Math.imul(Ir,Ln),Lt=Math.imul(Ir,Vn),Lt=Lt+Math.imul(Ar,Ln)|0,or=Math.imul(Ar,Vn),nr=nr+Math.imul(sn,pn)|0,Lt=Lt+Math.imul(sn,zn)|0,Lt=Lt+Math.imul(Nn,pn)|0,or=or+Math.imul(Nn,zn)|0;var Lo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,nr=Math.imul(Ir,pn),Lt=Math.imul(Ir,zn),Lt=Lt+Math.imul(Ar,pn)|0,or=Math.imul(Ar,zn);var Ho=(lr+nr|0)+((Lt&8191)<<13)|0;return lr=(or+(Lt>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ar[0]=go,ar[1]=co,ar[2]=Eo,ar[3]=To,ar[4]=Co,ar[5]=Mo,ar[6]=No,ar[7]=zo,ar[8]=Bo,ar[9]=Po,ar[10]=Wo,ar[11]=Fo,ar[12]=jo,ar[13]=Uo,ar[14]=Vo,ar[15]=$o,ar[16]=ko,ar[17]=Lo,ar[18]=Ho,lr!==0&&(ar[19]=lr,er.length++),er};Math.imul||(sr=ir);function ur(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative,Vt.length=cr.length+Nt.length;for(var er=0,Yt=0,rr=0;rr<Vt.length-1;rr++){var ar=Yt;Yt=0;for(var lr=er&67108863,nr=Math.min(rr,Nt.length-1),Lt=Math.max(0,rr-cr.length+1);Lt<=nr;Lt++){var or=rr-Lt,gr=cr.words[or]|0,pr=Nt.words[Lt]|0,_r=gr*pr,kr=_r&67108863;ar=ar+(_r/67108864|0)|0,kr=kr+lr|0,lr=kr&67108863,ar=ar+(kr>>>26)|0,Yt+=ar>>>26,ar&=67108863}Vt.words[rr]=lr,er=ar,ar=Yt}return er!==0?Vt.words[rr]=er:Vt.length--,Vt.strip()}function fr(cr,Nt,Vt){var er=new dr;return er.mulp(cr,Nt,Vt)}mt.prototype.mulTo=function(Nt,Vt){var er,Yt=this.length+Nt.length;return this.length===10&&Nt.length===10?er=sr(this,Nt,Vt):Yt<63?er=ir(this,Nt,Vt):Yt<1024?er=ur(this,Nt,Vt):er=fr(this,Nt,Vt),er};function dr(cr,Nt){this.x=cr,this.y=Nt}dr.prototype.makeRBT=function(Nt){for(var Vt=new Array(Nt),er=mt.prototype._countBits(Nt)-1,Yt=0;Yt<Nt;Yt++)Vt[Yt]=this.revBin(Yt,er,Nt);return Vt},dr.prototype.revBin=function(Nt,Vt,er){if(Nt===0||Nt===er-1)return Nt;for(var Yt=0,rr=0;rr<Vt;rr++)Yt|=(Nt&1)<<Vt-rr-1,Nt>>=1;return Yt},dr.prototype.permute=function(Nt,Vt,er,Yt,rr,ar){for(var lr=0;lr<ar;lr++)Yt[lr]=Vt[Nt[lr]],rr[lr]=er[Nt[lr]]},dr.prototype.transform=function(Nt,Vt,er,Yt,rr,ar){this.permute(ar,Nt,Vt,er,Yt,rr);for(var lr=1;lr<rr;lr<<=1)for(var nr=lr<<1,Lt=Math.cos(2*Math.PI/nr),or=Math.sin(2*Math.PI/nr),gr=0;gr<rr;gr+=nr)for(var pr=Lt,_r=or,kr=0;kr<lr;kr++){var Mr=er[gr+kr],$r=Yt[gr+kr],Pr=er[gr+kr+lr],Fr=Yt[gr+kr+lr],Tr=pr*Pr-_r*Fr;Fr=pr*Fr+_r*Pr,Pr=Tr,er[gr+kr]=Mr+Pr,Yt[gr+kr]=$r+Fr,er[gr+kr+lr]=Mr-Pr,Yt[gr+kr+lr]=$r-Fr,kr!==nr&&(Tr=Lt*pr-or*_r,_r=Lt*_r+or*pr,pr=Tr)}},dr.prototype.guessLen13b=function(Nt,Vt){var er=Math.max(Vt,Nt)|1,Yt=er&1,rr=0;for(er=er/2|0;er;er=er>>>1)rr++;return 1<<rr+1+Yt},dr.prototype.conjugate=function(Nt,Vt,er){if(!(er<=1))for(var Yt=0;Yt<er/2;Yt++){var rr=Nt[Yt];Nt[Yt]=Nt[er-Yt-1],Nt[er-Yt-1]=rr,rr=Vt[Yt],Vt[Yt]=-Vt[er-Yt-1],Vt[er-Yt-1]=-rr}},dr.prototype.normalize13b=function(Nt,Vt){for(var er=0,Yt=0;Yt<Vt/2;Yt++){var rr=Math.round(Nt[2*Yt+1]/Vt)*8192+Math.round(Nt[2*Yt]/Vt)+er;Nt[Yt]=rr&67108863,rr<67108864?er=0:er=rr/67108864|0}return Nt},dr.prototype.convert13b=function(Nt,Vt,er,Yt){for(var rr=0,ar=0;ar<Vt;ar++)rr=rr+(Nt[ar]|0),er[2*ar]=rr&8191,rr=rr>>>13,er[2*ar+1]=rr&8191,rr=rr>>>13;for(ar=2*Vt;ar<Yt;++ar)er[ar]=0;nt(rr===0),nt((rr&-8192)===0)},dr.prototype.stub=function(Nt){for(var Vt=new Array(Nt),er=0;er<Nt;er++)Vt[er]=0;return Vt},dr.prototype.mulp=function(Nt,Vt,er){var Yt=2*this.guessLen13b(Nt.length,Vt.length),rr=this.makeRBT(Yt),ar=this.stub(Yt),lr=new Array(Yt),nr=new Array(Yt),Lt=new Array(Yt),or=new Array(Yt),gr=new Array(Yt),pr=new Array(Yt),_r=er.words;_r.length=Yt,this.convert13b(Nt.words,Nt.length,lr,Yt),this.convert13b(Vt.words,Vt.length,or,Yt),this.transform(lr,ar,nr,Lt,Yt,rr),this.transform(or,ar,gr,pr,Yt,rr);for(var kr=0;kr<Yt;kr++){var Mr=nr[kr]*gr[kr]-Lt[kr]*pr[kr];Lt[kr]=nr[kr]*pr[kr]+Lt[kr]*gr[kr],nr[kr]=Mr}return this.conjugate(nr,Lt,Yt),this.transform(nr,Lt,_r,ar,Yt,rr),this.conjugate(_r,ar,Yt),this.normalize13b(_r,Yt),er.negative=Nt.negative^Vt.negative,er.length=Nt.length+Vt.length,er.strip()},mt.prototype.mul=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),this.mulTo(Nt,Vt)},mt.prototype.mulf=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),fr(this,Nt,Vt)},mt.prototype.imul=function(Nt){return this.clone().mulTo(Nt,this)},mt.prototype.imuln=function(Nt){nt(typeof Nt=="number"),nt(Nt<67108864);for(var Vt=0,er=0;er<this.length;er++){var Yt=(this.words[er]|0)*Nt,rr=(Yt&67108863)+(Vt&67108863);Vt>>=26,Vt+=Yt/67108864|0,Vt+=rr>>>26,this.words[er]=rr&67108863}return Vt!==0&&(this.words[er]=Vt,this.length++),this},mt.prototype.muln=function(Nt){return this.clone().imuln(Nt)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(Nt){var Vt=tr(Nt);if(Vt.length===0)return new mt(1);for(var er=this,Yt=0;Yt<Vt.length&&Vt[Yt]===0;Yt++,er=er.sqr());if(++Yt<Vt.length)for(var rr=er.sqr();Yt<Vt.length;Yt++,rr=rr.sqr())Vt[Yt]!==0&&(er=er.mul(rr));return er},mt.prototype.iushln=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=67108863>>>26-Vt<<26-Vt,rr;if(Vt!==0){var ar=0;for(rr=0;rr<this.length;rr++){var lr=this.words[rr]&Yt,nr=(this.words[rr]|0)-lr<<Vt;this.words[rr]=nr|ar,ar=lr>>>26-Vt}ar&&(this.words[rr]=ar,this.length++)}if(er!==0){for(rr=this.length-1;rr>=0;rr--)this.words[rr+er]=this.words[rr];for(rr=0;rr<er;rr++)this.words[rr]=0;this.length+=er}return this.strip()},mt.prototype.ishln=function(Nt){return nt(this.negative===0),this.iushln(Nt)},mt.prototype.iushrn=function(Nt,Vt,er){nt(typeof Nt=="number"&&Nt>=0);var Yt;Vt?Yt=(Vt-Vt%26)/26:Yt=0;var rr=Nt%26,ar=Math.min((Nt-rr)/26,this.length),lr=67108863^67108863>>>rr<<rr,nr=er;if(Yt-=ar,Yt=Math.max(0,Yt),nr){for(var Lt=0;Lt<ar;Lt++)nr.words[Lt]=this.words[Lt];nr.length=ar}if(ar!==0)if(this.length>ar)for(this.length-=ar,Lt=0;Lt<this.length;Lt++)this.words[Lt]=this.words[Lt+ar];else this.words[0]=0,this.length=1;var or=0;for(Lt=this.length-1;Lt>=0&&(or!==0||Lt>=Yt);Lt--){var gr=this.words[Lt]|0;this.words[Lt]=or<<26-rr|gr>>>rr,or=gr&lr}return nr&&or!==0&&(nr.words[nr.length++]=or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},mt.prototype.ishrn=function(Nt,Vt,er){return nt(this.negative===0),this.iushrn(Nt,Vt,er)},mt.prototype.shln=function(Nt){return this.clone().ishln(Nt)},mt.prototype.ushln=function(Nt){return this.clone().iushln(Nt)},mt.prototype.shrn=function(Nt){return this.clone().ishrn(Nt)},mt.prototype.ushrn=function(Nt){return this.clone().iushrn(Nt)},mt.prototype.testn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return!1;var rr=this.words[er];return!!(rr&Yt)},mt.prototype.imaskn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=er)return this;if(Vt!==0&&er++,this.length=Math.min(er,this.length),Vt!==0){var Yt=67108863^67108863>>>Vt<<Vt;this.words[this.length-1]&=Yt}return this.strip()},mt.prototype.maskn=function(Nt){return this.clone().imaskn(Nt)},mt.prototype.iaddn=function(Nt){return nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0?this.isubn(-Nt):this.negative!==0?this.length===1&&(this.words[0]|0)<Nt?(this.words[0]=Nt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Nt),this.negative=1,this):this._iaddn(Nt)},mt.prototype._iaddn=function(Nt){this.words[0]+=Nt;for(var Vt=0;Vt<this.length&&this.words[Vt]>=67108864;Vt++)this.words[Vt]-=67108864,Vt===this.length-1?this.words[Vt+1]=1:this.words[Vt+1]++;return this.length=Math.max(this.length,Vt+1),this},mt.prototype.isubn=function(Nt){if(nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0)return this.iaddn(-Nt);if(this.negative!==0)return this.negative=0,this.iaddn(Nt),this.negative=1,this;if(this.words[0]-=Nt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Vt=0;Vt<this.length&&this.words[Vt]<0;Vt++)this.words[Vt]+=67108864,this.words[Vt+1]-=1;return this.strip()},mt.prototype.addn=function(Nt){return this.clone().iaddn(Nt)},mt.prototype.subn=function(Nt){return this.clone().isubn(Nt)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(Nt,Vt,er){var Yt=Nt.length+er,rr;this._expand(Yt);var ar,lr=0;for(rr=0;rr<Nt.length;rr++){ar=(this.words[rr+er]|0)+lr;var nr=(Nt.words[rr]|0)*Vt;ar-=nr&67108863,lr=(ar>>26)-(nr/67108864|0),this.words[rr+er]=ar&67108863}for(;rr<this.length-er;rr++)ar=(this.words[rr+er]|0)+lr,lr=ar>>26,this.words[rr+er]=ar&67108863;if(lr===0)return this.strip();for(nt(lr===-1),lr=0,rr=0;rr<this.length;rr++)ar=-(this.words[rr]|0)+lr,lr=ar>>26,this.words[rr]=ar&67108863;return this.negative=1,this.strip()},mt.prototype._wordDiv=function(Nt,Vt){var er=this.length-Nt.length,Yt=this.clone(),rr=Nt,ar=rr.words[rr.length-1]|0,lr=this._countBits(ar);er=26-lr,er!==0&&(rr=rr.ushln(er),Yt.iushln(er),ar=rr.words[rr.length-1]|0);var nr=Yt.length-rr.length,Lt;if(Vt!=="mod"){Lt=new mt(null),Lt.length=nr+1,Lt.words=new Array(Lt.length);for(var or=0;or<Lt.length;or++)Lt.words[or]=0}var gr=Yt.clone()._ishlnsubmul(rr,1,nr);gr.negative===0&&(Yt=gr,Lt&&(Lt.words[nr]=1));for(var pr=nr-1;pr>=0;pr--){var _r=(Yt.words[rr.length+pr]|0)*67108864+(Yt.words[rr.length+pr-1]|0);for(_r=Math.min(_r/ar|0,67108863),Yt._ishlnsubmul(rr,_r,pr);Yt.negative!==0;)_r--,Yt.negative=0,Yt._ishlnsubmul(rr,1,pr),Yt.isZero()||(Yt.negative^=1);Lt&&(Lt.words[pr]=_r)}return Lt&&Lt.strip(),Yt.strip(),Vt!=="div"&&er!==0&&Yt.iushrn(er),{div:Lt||null,mod:Yt}},mt.prototype.divmod=function(Nt,Vt,er){if(nt(!Nt.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var Yt,rr,ar;return this.negative!==0&&Nt.negative===0?(ar=this.neg().divmod(Nt,Vt),Vt!=="mod"&&(Yt=ar.div.neg()),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.iadd(Nt)),{div:Yt,mod:rr}):this.negative===0&&Nt.negative!==0?(ar=this.divmod(Nt.neg(),Vt),Vt!=="mod"&&(Yt=ar.div.neg()),{div:Yt,mod:ar.mod}):this.negative&Nt.negative?(ar=this.neg().divmod(Nt.neg(),Vt),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.isub(Nt)),{div:ar.div,mod:rr}):Nt.length>this.length||this.cmp(Nt)<0?{div:new mt(0),mod:this}:Nt.length===1?Vt==="div"?{div:this.divn(Nt.words[0]),mod:null}:Vt==="mod"?{div:null,mod:new mt(this.modn(Nt.words[0]))}:{div:this.divn(Nt.words[0]),mod:new mt(this.modn(Nt.words[0]))}:this._wordDiv(Nt,Vt)},mt.prototype.div=function(Nt){return this.divmod(Nt,"div",!1).div},mt.prototype.mod=function(Nt){return this.divmod(Nt,"mod",!1).mod},mt.prototype.umod=function(Nt){return this.divmod(Nt,"mod",!0).mod},mt.prototype.divRound=function(Nt){var Vt=this.divmod(Nt);if(Vt.mod.isZero())return Vt.div;var er=Vt.div.negative!==0?Vt.mod.isub(Nt):Vt.mod,Yt=Nt.ushrn(1),rr=Nt.andln(1),ar=er.cmp(Yt);return ar<0||rr===1&&ar===0?Vt.div:Vt.div.negative!==0?Vt.div.isubn(1):Vt.div.iaddn(1)},mt.prototype.modn=function(Nt){nt(Nt<=67108863);for(var Vt=(1<<26)%Nt,er=0,Yt=this.length-1;Yt>=0;Yt--)er=(Vt*er+(this.words[Yt]|0))%Nt;return er},mt.prototype.idivn=function(Nt){nt(Nt<=67108863);for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=(this.words[er]|0)+Vt*67108864;this.words[er]=Yt/Nt|0,Vt=Yt%Nt}return this.strip()},mt.prototype.divn=function(Nt){return this.clone().idivn(Nt)},mt.prototype.egcd=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=new mt(0),lr=new mt(1),nr=0;Vt.isEven()&&er.isEven();)Vt.iushrn(1),er.iushrn(1),++nr;for(var Lt=er.clone(),or=Vt.clone();!Vt.isZero();){for(var gr=0,pr=1;!(Vt.words[0]&pr)&&gr<26;++gr,pr<<=1);if(gr>0)for(Vt.iushrn(gr);gr-- >0;)(Yt.isOdd()||rr.isOdd())&&(Yt.iadd(Lt),rr.isub(or)),Yt.iushrn(1),rr.iushrn(1);for(var _r=0,kr=1;!(er.words[0]&kr)&&_r<26;++_r,kr<<=1);if(_r>0)for(er.iushrn(_r);_r-- >0;)(ar.isOdd()||lr.isOdd())&&(ar.iadd(Lt),lr.isub(or)),ar.iushrn(1),lr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(ar),rr.isub(lr)):(er.isub(Vt),ar.isub(Yt),lr.isub(rr))}return{a:ar,b:lr,gcd:er.iushln(nr)}},mt.prototype._invmp=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=er.clone();Vt.cmpn(1)>0&&er.cmpn(1)>0;){for(var lr=0,nr=1;!(Vt.words[0]&nr)&&lr<26;++lr,nr<<=1);if(lr>0)for(Vt.iushrn(lr);lr-- >0;)Yt.isOdd()&&Yt.iadd(ar),Yt.iushrn(1);for(var Lt=0,or=1;!(er.words[0]&or)&&Lt<26;++Lt,or<<=1);if(Lt>0)for(er.iushrn(Lt);Lt-- >0;)rr.isOdd()&&rr.iadd(ar),rr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(rr)):(er.isub(Vt),rr.isub(Yt))}var gr;return Vt.cmpn(1)===0?gr=Yt:gr=rr,gr.cmpn(0)<0&&gr.iadd(Nt),gr},mt.prototype.gcd=function(Nt){if(this.isZero())return Nt.abs();if(Nt.isZero())return this.abs();var Vt=this.clone(),er=Nt.clone();Vt.negative=0,er.negative=0;for(var Yt=0;Vt.isEven()&&er.isEven();Yt++)Vt.iushrn(1),er.iushrn(1);do{for(;Vt.isEven();)Vt.iushrn(1);for(;er.isEven();)er.iushrn(1);var rr=Vt.cmp(er);if(rr<0){var ar=Vt;Vt=er,er=ar}else if(rr===0||er.cmpn(1)===0)break;Vt.isub(er)}while(!0);return er.iushln(Yt)},mt.prototype.invm=function(Nt){return this.egcd(Nt).a.umod(Nt)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(Nt){return this.words[0]&Nt},mt.prototype.bincn=function(Nt){nt(typeof Nt=="number");var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return this._expand(er+1),this.words[er]|=Yt,this;for(var rr=Yt,ar=er;rr!==0&&ar<this.length;ar++){var lr=this.words[ar]|0;lr+=rr,rr=lr>>>26,lr&=67108863,this.words[ar]=lr}return rr!==0&&(this.words[ar]=rr,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(Nt){var Vt=Nt<0;if(this.negative!==0&&!Vt)return-1;if(this.negative===0&&Vt)return 1;this.strip();var er;if(this.length>1)er=1;else{Vt&&(Nt=-Nt),nt(Nt<=67108863,"Number is too big");var Yt=this.words[0]|0;er=Yt===Nt?0:Yt<Nt?-1:1}return this.negative!==0?-er|0:er},mt.prototype.cmp=function(Nt){if(this.negative!==0&&Nt.negative===0)return-1;if(this.negative===0&&Nt.negative!==0)return 1;var Vt=this.ucmp(Nt);return this.negative!==0?-Vt|0:Vt},mt.prototype.ucmp=function(Nt){if(this.length>Nt.length)return 1;if(this.length<Nt.length)return-1;for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=this.words[er]|0,rr=Nt.words[er]|0;if(Yt!==rr){Yt<rr?Vt=-1:Yt>rr&&(Vt=1);break}}return Vt},mt.prototype.gtn=function(Nt){return this.cmpn(Nt)===1},mt.prototype.gt=function(Nt){return this.cmp(Nt)===1},mt.prototype.gten=function(Nt){return this.cmpn(Nt)>=0},mt.prototype.gte=function(Nt){return this.cmp(Nt)>=0},mt.prototype.ltn=function(Nt){return this.cmpn(Nt)===-1},mt.prototype.lt=function(Nt){return this.cmp(Nt)===-1},mt.prototype.lten=function(Nt){return this.cmpn(Nt)<=0},mt.prototype.lte=function(Nt){return this.cmp(Nt)<=0},mt.prototype.eqn=function(Nt){return this.cmpn(Nt)===0},mt.prototype.eq=function(Nt){return this.cmp(Nt)===0},mt.red=function(Nt){return new Sr(Nt)},mt.prototype.toRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),Nt.convertTo(this)._forceRed(Nt)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(Nt){return this.red=Nt,this},mt.prototype.forceRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(Nt)},mt.prototype.redAdd=function(Nt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,Nt)},mt.prototype.redIAdd=function(Nt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Nt)},mt.prototype.redSub=function(Nt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,Nt)},mt.prototype.redISub=function(Nt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,Nt)},mt.prototype.redShl=function(Nt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,Nt)},mt.prototype.redMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.mul(this,Nt)},mt.prototype.redIMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.imul(this,Nt)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(Nt){return nt(this.red&&!Nt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Nt)};var hr={k256:null,p224:null,p192:null,p25519:null};function vr(cr,Nt){this.name=cr,this.p=new mt(Nt,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vr.prototype._tmp=function(){var Nt=new mt(null);return Nt.words=new Array(Math.ceil(this.n/13)),Nt},vr.prototype.ireduce=function(Nt){var Vt=Nt,er;do this.split(Vt,this.tmp),Vt=this.imulK(Vt),Vt=Vt.iadd(this.tmp),er=Vt.bitLength();while(er>this.n);var Yt=er<this.n?-1:Vt.ucmp(this.p);return Yt===0?(Vt.words[0]=0,Vt.length=1):Yt>0?Vt.isub(this.p):Vt.strip!==void 0?Vt.strip():Vt._strip(),Vt},vr.prototype.split=function(Nt,Vt){Nt.iushrn(this.n,0,Vt)},vr.prototype.imulK=function(Nt){return Nt.imul(this.k)};function yr(){vr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(yr,vr),yr.prototype.split=function(Nt,Vt){for(var er=4194303,Yt=Math.min(Nt.length,9),rr=0;rr<Yt;rr++)Vt.words[rr]=Nt.words[rr];if(Vt.length=Yt,Nt.length<=9){Nt.words[0]=0,Nt.length=1;return}var ar=Nt.words[9];for(Vt.words[Vt.length++]=ar&er,rr=10;rr<Nt.length;rr++){var lr=Nt.words[rr]|0;Nt.words[rr-10]=(lr&er)<<4|ar>>>22,ar=lr}ar>>>=22,Nt.words[rr-10]=ar,ar===0&&Nt.length>10?Nt.length-=10:Nt.length-=9},yr.prototype.imulK=function(Nt){Nt.words[Nt.length]=0,Nt.words[Nt.length+1]=0,Nt.length+=2;for(var Vt=0,er=0;er<Nt.length;er++){var Yt=Nt.words[er]|0;Vt+=Yt*977,Nt.words[er]=Vt&67108863,Vt=Yt*64+(Vt/67108864|0)}return Nt.words[Nt.length-1]===0&&(Nt.length--,Nt.words[Nt.length-1]===0&&Nt.length--),Nt};function xr(){vr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(xr,vr);function br(){vr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(br,vr);function wr(){vr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(wr,vr),wr.prototype.imulK=function(Nt){for(var Vt=0,er=0;er<Nt.length;er++){var Yt=(Nt.words[er]|0)*19+Vt,rr=Yt&67108863;Yt>>>=26,Nt.words[er]=rr,Vt=Yt}return Vt!==0&&(Nt.words[Nt.length++]=Vt),Nt},mt._prime=function(Nt){if(hr[Nt])return hr[Nt];var Vt;if(Nt==="k256")Vt=new yr;else if(Nt==="p224")Vt=new xr;else if(Nt==="p192")Vt=new br;else if(Nt==="p25519")Vt=new wr;else throw new Error("Unknown prime "+Nt);return hr[Nt]=Vt,Vt};function Sr(cr){if(typeof cr=="string"){var Nt=mt._prime(cr);this.m=Nt.p,this.prime=Nt}else nt(cr.gtn(1),"modulus must be greater than 1"),this.m=cr,this.prime=null}Sr.prototype._verify1=function(Nt){nt(Nt.negative===0,"red works only with positives"),nt(Nt.red,"red works only with red numbers")},Sr.prototype._verify2=function(Nt,Vt){nt((Nt.negative|Vt.negative)===0,"red works only with positives"),nt(Nt.red&&Nt.red===Vt.red,"red works only with red numbers")},Sr.prototype.imod=function(Nt){return this.prime?this.prime.ireduce(Nt)._forceRed(this):Nt.umod(this.m)._forceRed(this)},Sr.prototype.neg=function(Nt){return Nt.isZero()?Nt.clone():this.m.sub(Nt)._forceRed(this)},Sr.prototype.add=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.add(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er._forceRed(this)},Sr.prototype.iadd=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.iadd(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er},Sr.prototype.sub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.sub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er._forceRed(this)},Sr.prototype.isub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.isub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er},Sr.prototype.shl=function(Nt,Vt){return this._verify1(Nt),this.imod(Nt.ushln(Vt))},Sr.prototype.imul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.imul(Vt))},Sr.prototype.mul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.mul(Vt))},Sr.prototype.isqr=function(Nt){return this.imul(Nt,Nt.clone())},Sr.prototype.sqr=function(Nt){return this.mul(Nt,Nt)},Sr.prototype.sqrt=function(Nt){if(Nt.isZero())return Nt.clone();var Vt=this.m.andln(3);if(nt(Vt%2===1),Vt===3){var er=this.m.add(new mt(1)).iushrn(2);return this.pow(Nt,er)}for(var Yt=this.m.subn(1),rr=0;!Yt.isZero()&&Yt.andln(1)===0;)rr++,Yt.iushrn(1);nt(!Yt.isZero());var ar=new mt(1).toRed(this),lr=ar.redNeg(),nr=this.m.subn(1).iushrn(1),Lt=this.m.bitLength();for(Lt=new mt(2*Lt*Lt).toRed(this);this.pow(Lt,nr).cmp(lr)!==0;)Lt.redIAdd(lr);for(var or=this.pow(Lt,Yt),gr=this.pow(Nt,Yt.addn(1).iushrn(1)),pr=this.pow(Nt,Yt),_r=rr;pr.cmp(ar)!==0;){for(var kr=pr,Mr=0;kr.cmp(ar)!==0;Mr++)kr=kr.redSqr();nt(Mr<_r);var $r=this.pow(or,new mt(1).iushln(_r-Mr-1));gr=gr.redMul($r),or=$r.redSqr(),pr=pr.redMul(or),_r=Mr}return gr},Sr.prototype.invm=function(Nt){var Vt=Nt._invmp(this.m);return Vt.negative!==0?(Vt.negative=0,this.imod(Vt).redNeg()):this.imod(Vt)},Sr.prototype.pow=function(Nt,Vt){if(Vt.isZero())return new mt(1).toRed(this);if(Vt.cmpn(1)===0)return Nt.clone();var er=4,Yt=new Array(1<<er);Yt[0]=new mt(1).toRed(this),Yt[1]=Nt;for(var rr=2;rr<Yt.length;rr++)Yt[rr]=this.mul(Yt[rr-1],Nt);var ar=Yt[0],lr=0,nr=0,Lt=Vt.bitLength()%26;for(Lt===0&&(Lt=26),rr=Vt.length-1;rr>=0;rr--){for(var or=Vt.words[rr],gr=Lt-1;gr>=0;gr--){var pr=or>>gr&1;if(ar!==Yt[0]&&(ar=this.sqr(ar)),pr===0&&lr===0){nr=0;continue}lr<<=1,lr|=pr,nr++,!(nr!==er&&(rr!==0||gr!==0))&&(ar=this.mul(ar,Yt[lr]),nr=0,lr=0)}Lt=26}return ar},Sr.prototype.convertTo=function(Nt){var Vt=Nt.umod(this.m);return Vt===Nt?Vt.clone():Vt},Sr.prototype.convertFrom=function(Nt){var Vt=Nt.clone();return Vt.red=null,Vt},mt.mont=function(Nt){return new Cr(Nt)};function Cr(cr){Sr.call(this,cr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Cr,Sr),Cr.prototype.convertTo=function(Nt){return this.imod(Nt.ushln(this.shift))},Cr.prototype.convertFrom=function(Nt){var Vt=this.imod(Nt.mul(this.rinv));return Vt.red=null,Vt},Cr.prototype.imul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return Nt.words[0]=0,Nt.length=1,Nt;var er=Nt.imul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.mul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return new mt(0)._forceRed(this);var er=Nt.mul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.invm=function(Nt){var Vt=this.imod(Nt._invmp(this.m).mul(this.r2));return Vt._forceRed(this)}})(a,commonjsGlobal$1)}(bn$3)),bn$3.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(a,s){if(a.indexOf)return a.indexOf(s);for(var et=0;et<a.length;et++)if(a[et]===s)return et;return-1},Object_keys=function(a){if(Object.keys)return Object.keys(a);var s=[];for(var et in a)s.push(et);return s},forEach=function(a,s){if(a.forEach)return a.forEach(s);for(var et=0;et<a.length;et++)s(a[et],et,a)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(a,s,et){Object.defineProperty(a,s,{writable:!0,enumerable:!1,configurable:!0,value:et})}}catch{return function(s,et,nt){s[et]=nt}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(s){if(!(this instanceof Script))return new Script(s);this.code=s};Script.prototype.runInContext=function(a){if(!(a instanceof Context))throw new TypeError("needs a 'context' argument.");var s=document.createElement("iframe");s.style||(s.style={}),s.style.display="none",document.body.appendChild(s);var et=s.contentWindow,nt=et.eval,at=et.execScript;!nt&&at&&(at.call(et,"null"),nt=et.eval),forEach(Object_keys(a),function($t){et[$t]=a[$t]}),forEach(globals,function($t){a[$t]&&(et[$t]=a[$t])});var mt=Object_keys(et),wt=nt.call(et,this.code);return forEach(Object_keys(et),function($t){($t in a||indexOf(mt,$t)===-1)&&(a[$t]=et[$t])}),forEach(globals,function($t){$t in a||defineProp(a,$t,et[$t])}),document.body.removeChild(s),wt},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(a){var s=Script.createContext(a),et=this.runInContext(s);return a&&forEach(Object_keys(s),function(nt){a[nt]=s[nt]}),et},forEach(Object_keys(Script.prototype),function(a){exports[a]=Script[a]=function(s){var et=Script(s);return et[a].apply(et,[].slice.call(arguments,1))}}),exports.isContext=function(a){return a instanceof Context},exports.createScript=function(a){return exports.Script(a)},exports.createContext=Script.createContext=function(a){var s=new Context;return typeof a=="object"&&forEach(Object_keys(a),function(et){s[et]=a[et]}),s}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(a){var s=requireAsn1$1(),et=requireInherits_browser(),nt=a;nt.define=function(wt,$t){return new at(wt,$t)};function at(mt,wt){this.name=mt,this.body=wt,this.decoders={},this.encoders={}}at.prototype._createNamed=function(wt){var $t;try{$t=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{$t=function(Dt){this._initNamed(Dt)}}return et($t,wt),$t.prototype._initNamed=function(Dt){wt.call(this,Dt)},new $t(this)},at.prototype._getDecoder=function(wt){return wt=wt||"der",this.decoders.hasOwnProperty(wt)||(this.decoders[wt]=this._createNamed(s.decoders[wt])),this.decoders[wt]},at.prototype.decode=function(wt,$t,Ct){return this._getDecoder($t).decode(wt,Ct)},at.prototype._getEncoder=function(wt){return wt=wt||"der",this.encoders.hasOwnProperty(wt)||(this.encoders[wt]=this._createNamed(s.encoders[wt])),this.encoders[wt]},at.prototype.encode=function(wt,$t,Ct){return this._getEncoder($t).encode(wt,Ct)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var a=requireInherits_browser();function s(nt){this._reporterState={obj:null,path:[],options:nt||{},errors:[]}}reporter.Reporter=s,s.prototype.isError=function(at){return at instanceof et},s.prototype.save=function(){var at=this._reporterState;return{obj:at.obj,pathLen:at.path.length}},s.prototype.restore=function(at){var mt=this._reporterState;mt.obj=at.obj,mt.path=mt.path.slice(0,at.pathLen)},s.prototype.enterKey=function(at){return this._reporterState.path.push(at)},s.prototype.exitKey=function(at){var mt=this._reporterState;mt.path=mt.path.slice(0,at-1)},s.prototype.leaveKey=function(at,mt,wt){var $t=this._reporterState;this.exitKey(at),$t.obj!==null&&($t.obj[mt]=wt)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){var at=this._reporterState,mt=at.obj;return at.obj={},mt},s.prototype.leaveObject=function(at){var mt=this._reporterState,wt=mt.obj;return mt.obj=at,wt},s.prototype.error=function(at){var mt,wt=this._reporterState,$t=at instanceof et;if($t?mt=at:mt=new et(wt.path.map(function(Ct){return"["+JSON.stringify(Ct)+"]"}).join(""),at.message||at,at.stack),!wt.options.partial)throw mt;return $t||wt.errors.push(mt),mt},s.prototype.wrapResult=function(at){var mt=this._reporterState;return mt.options.partial?{result:this.isError(at)?null:at,errors:mt.errors}:at};function et(nt,at){this.path=nt,this.rethrow(at)}return a(et,Error),et.prototype.rethrow=function(at){if(this.message=at+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,et),!this.stack)try{throw new Error(this.message)}catch(mt){this.stack=mt.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var a=requireInherits_browser(),s=requireBase().Reporter,et=require$$0$3.Buffer;function nt(mt,wt){if(s.call(this,wt),!et.isBuffer(mt)){this.error("Input not Buffer");return}this.base=mt,this.offset=0,this.length=mt.length}a(nt,s),buffer.DecoderBuffer=nt,nt.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},nt.prototype.restore=function(wt){var $t=new nt(this.base);return $t.offset=wt.offset,$t.length=this.offset,this.offset=wt.offset,s.prototype.restore.call(this,wt.reporter),$t},nt.prototype.isEmpty=function(){return this.offset===this.length},nt.prototype.readUInt8=function(wt){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(wt||"DecoderBuffer overrun")},nt.prototype.skip=function(wt,$t){if(!(this.offset+wt<=this.length))return this.error($t||"DecoderBuffer overrun");var Ct=new nt(this.base);return Ct._reporterState=this._reporterState,Ct.offset=this.offset,Ct.length=this.offset+wt,this.offset+=wt,Ct},nt.prototype.raw=function(wt){return this.base.slice(wt?wt.offset:this.offset,this.length)};function at(mt,wt){if(Array.isArray(mt))this.length=0,this.value=mt.map(function($t){return $t instanceof at||($t=new at($t,wt)),this.length+=$t.length,$t},this);else if(typeof mt=="number"){if(!(0<=mt&&mt<=255))return wt.error("non-byte EncoderBuffer value");this.value=mt,this.length=1}else if(typeof mt=="string")this.value=mt,this.length=et.byteLength(mt);else if(et.isBuffer(mt))this.value=mt,this.length=mt.length;else return wt.error("Unsupported type: "+typeof mt)}return buffer.EncoderBuffer=at,at.prototype.join=function(wt,$t){return wt||(wt=new et(this.length)),$t||($t=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Ct){Ct.join(wt,$t),$t+=Ct.length}):(typeof this.value=="number"?wt[$t]=this.value:typeof this.value=="string"?wt.write(this.value,$t):et.isBuffer(this.value)&&this.value.copy(wt,$t),$t+=this.length)),wt},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var a=requireBase().Reporter,s=requireBase().EncoderBuffer,et=requireBase().DecoderBuffer,nt=requireMinimalisticAssert(),at=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],mt=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(at),wt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function $t(Dt,Ft){var jt={};this._baseState=jt,jt.enc=Dt,jt.parent=Ft||null,jt.children=null,jt.tag=null,jt.args=null,jt.reverseArgs=null,jt.choice=null,jt.optional=!1,jt.any=!1,jt.obj=!1,jt.use=null,jt.useDecoder=null,jt.key=null,jt.default=null,jt.explicit=null,jt.implicit=null,jt.contains=null,jt.parent||(jt.children=[],this._wrap())}node=$t;var Ct=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return $t.prototype.clone=function(){var Ft=this._baseState,jt={};Ct.forEach(function(tr){jt[tr]=Ft[tr]});var Ut=new this.constructor(jt.parent);return Ut._baseState=jt,Ut},$t.prototype._wrap=function(){var Ft=this._baseState;mt.forEach(function(jt){this[jt]=function(){var tr=new this.constructor(this);return Ft.children.push(tr),tr[jt].apply(tr,arguments)}},this)},$t.prototype._init=function(Ft){var jt=this._baseState;nt(jt.parent===null),Ft.call(this),jt.children=jt.children.filter(function(Ut){return Ut._baseState.parent===this},this),nt.equal(jt.children.length,1,"Root node can have only one child")},$t.prototype._useArgs=function(Ft){var jt=this._baseState,Ut=Ft.filter(function(tr){return tr instanceof this.constructor},this);Ft=Ft.filter(function(tr){return!(tr instanceof this.constructor)},this),Ut.length!==0&&(nt(jt.children===null),jt.children=Ut,Ut.forEach(function(tr){tr._baseState.parent=this},this)),Ft.length!==0&&(nt(jt.args===null),jt.args=Ft,jt.reverseArgs=Ft.map(function(tr){if(typeof tr!="object"||tr.constructor!==Object)return tr;var ir={};return Object.keys(tr).forEach(function(sr){sr==(sr|0)&&(sr|=0);var ur=tr[sr];ir[ur]=sr}),ir}))},wt.forEach(function(Dt){$t.prototype[Dt]=function(){var jt=this._baseState;throw new Error(Dt+" not implemented for encoding: "+jt.enc)}}),at.forEach(function(Dt){$t.prototype[Dt]=function(){var jt=this._baseState,Ut=Array.prototype.slice.call(arguments);return nt(jt.tag===null),jt.tag=Dt,this._useArgs(Ut),this}}),$t.prototype.use=function(Ft){nt(Ft);var jt=this._baseState;return nt(jt.use===null),jt.use=Ft,this},$t.prototype.optional=function(){var Ft=this._baseState;return Ft.optional=!0,this},$t.prototype.def=function(Ft){var jt=this._baseState;return nt(jt.default===null),jt.default=Ft,jt.optional=!0,this},$t.prototype.explicit=function(Ft){var jt=this._baseState;return nt(jt.explicit===null&&jt.implicit===null),jt.explicit=Ft,this},$t.prototype.implicit=function(Ft){var jt=this._baseState;return nt(jt.explicit===null&&jt.implicit===null),jt.implicit=Ft,this},$t.prototype.obj=function(){var Ft=this._baseState,jt=Array.prototype.slice.call(arguments);return Ft.obj=!0,jt.length!==0&&this._useArgs(jt),this},$t.prototype.key=function(Ft){var jt=this._baseState;return nt(jt.key===null),jt.key=Ft,this},$t.prototype.any=function(){var Ft=this._baseState;return Ft.any=!0,this},$t.prototype.choice=function(Ft){var jt=this._baseState;return nt(jt.choice===null),jt.choice=Ft,this._useArgs(Object.keys(Ft).map(function(Ut){return Ft[Ut]})),this},$t.prototype.contains=function(Ft){var jt=this._baseState;return nt(jt.use===null),jt.contains=Ft,this},$t.prototype._decode=function(Ft,jt){var Ut=this._baseState;if(Ut.parent===null)return Ft.wrapResult(Ut.children[0]._decode(Ft,jt));var tr=Ut.default,ir=!0,sr=null;if(Ut.key!==null&&(sr=Ft.enterKey(Ut.key)),Ut.optional){var ur=null;if(Ut.explicit!==null?ur=Ut.explicit:Ut.implicit!==null?ur=Ut.implicit:Ut.tag!==null&&(ur=Ut.tag),ur===null&&!Ut.any){var fr=Ft.save();try{Ut.choice===null?this._decodeGeneric(Ut.tag,Ft,jt):this._decodeChoice(Ft,jt),ir=!0}catch{ir=!1}Ft.restore(fr)}else if(ir=this._peekTag(Ft,ur,Ut.any),Ft.isError(ir))return ir}var dr;if(Ut.obj&&ir&&(dr=Ft.enterObject()),ir){if(Ut.explicit!==null){var hr=this._decodeTag(Ft,Ut.explicit);if(Ft.isError(hr))return hr;Ft=hr}var vr=Ft.offset;if(Ut.use===null&&Ut.choice===null){if(Ut.any)var fr=Ft.save();var yr=this._decodeTag(Ft,Ut.implicit!==null?Ut.implicit:Ut.tag,Ut.any);if(Ft.isError(yr))return yr;Ut.any?tr=Ft.raw(fr):Ft=yr}if(jt&&jt.track&&Ut.tag!==null&&jt.track(Ft.path(),vr,Ft.length,"tagged"),jt&&jt.track&&Ut.tag!==null&&jt.track(Ft.path(),Ft.offset,Ft.length,"content"),Ut.any?tr=tr:Ut.choice===null?tr=this._decodeGeneric(Ut.tag,Ft,jt):tr=this._decodeChoice(Ft,jt),Ft.isError(tr))return tr;if(!Ut.any&&Ut.choice===null&&Ut.children!==null&&Ut.children.forEach(function(wr){wr._decode(Ft,jt)}),Ut.contains&&(Ut.tag==="octstr"||Ut.tag==="bitstr")){var xr=new et(tr);tr=this._getUse(Ut.contains,Ft._reporterState.obj)._decode(xr,jt)}}return Ut.obj&&ir&&(tr=Ft.leaveObject(dr)),Ut.key!==null&&(tr!==null||ir===!0)?Ft.leaveKey(sr,Ut.key,tr):sr!==null&&Ft.exitKey(sr),tr},$t.prototype._decodeGeneric=function(Ft,jt,Ut){var tr=this._baseState;return Ft==="seq"||Ft==="set"?null:Ft==="seqof"||Ft==="setof"?this._decodeList(jt,Ft,tr.args[0],Ut):/str$/.test(Ft)?this._decodeStr(jt,Ft,Ut):Ft==="objid"&&tr.args?this._decodeObjid(jt,tr.args[0],tr.args[1],Ut):Ft==="objid"?this._decodeObjid(jt,null,null,Ut):Ft==="gentime"||Ft==="utctime"?this._decodeTime(jt,Ft,Ut):Ft==="null_"?this._decodeNull(jt,Ut):Ft==="bool"?this._decodeBool(jt,Ut):Ft==="objDesc"?this._decodeStr(jt,Ft,Ut):Ft==="int"||Ft==="enum"?this._decodeInt(jt,tr.args&&tr.args[0],Ut):tr.use!==null?this._getUse(tr.use,jt._reporterState.obj)._decode(jt,Ut):jt.error("unknown tag: "+Ft)},$t.prototype._getUse=function(Ft,jt){var Ut=this._baseState;return Ut.useDecoder=this._use(Ft,jt),nt(Ut.useDecoder._baseState.parent===null),Ut.useDecoder=Ut.useDecoder._baseState.children[0],Ut.implicit!==Ut.useDecoder._baseState.implicit&&(Ut.useDecoder=Ut.useDecoder.clone(),Ut.useDecoder._baseState.implicit=Ut.implicit),Ut.useDecoder},$t.prototype._decodeChoice=function(Ft,jt){var Ut=this._baseState,tr=null,ir=!1;return Object.keys(Ut.choice).some(function(sr){var ur=Ft.save(),fr=Ut.choice[sr];try{var dr=fr._decode(Ft,jt);if(Ft.isError(dr))return!1;tr={type:sr,value:dr},ir=!0}catch{return Ft.restore(ur),!1}return!0},this),ir?tr:Ft.error("Choice not matched")},$t.prototype._createEncoderBuffer=function(Ft){return new s(Ft,this.reporter)},$t.prototype._encode=function(Ft,jt,Ut){var tr=this._baseState;if(!(tr.default!==null&&tr.default===Ft)){var ir=this._encodeValue(Ft,jt,Ut);if(ir!==void 0&&!this._skipDefault(ir,jt,Ut))return ir}},$t.prototype._encodeValue=function(Ft,jt,Ut){var tr=this._baseState;if(tr.parent===null)return tr.children[0]._encode(Ft,jt||new a);var fr=null;if(this.reporter=jt,tr.optional&&Ft===void 0)if(tr.default!==null)Ft=tr.default;else return;var ir=null,sr=!1;if(tr.any)fr=this._createEncoderBuffer(Ft);else if(tr.choice)fr=this._encodeChoice(Ft,jt);else if(tr.contains)ir=this._getUse(tr.contains,Ut)._encode(Ft,jt),sr=!0;else if(tr.children)ir=tr.children.map(function(vr){if(vr._baseState.tag==="null_")return vr._encode(null,jt,Ft);if(vr._baseState.key===null)return jt.error("Child should have a key");var yr=jt.enterKey(vr._baseState.key);if(typeof Ft!="object")return jt.error("Child expected, but input is not object");var xr=vr._encode(Ft[vr._baseState.key],jt,Ft);return jt.leaveKey(yr),xr},this).filter(function(vr){return vr}),ir=this._createEncoderBuffer(ir);else if(tr.tag==="seqof"||tr.tag==="setof"){if(!(tr.args&&tr.args.length===1))return jt.error("Too many args for : "+tr.tag);if(!Array.isArray(Ft))return jt.error("seqof/setof, but data is not Array");var ur=this.clone();ur._baseState.implicit=null,ir=this._createEncoderBuffer(Ft.map(function(vr){var yr=this._baseState;return this._getUse(yr.args[0],Ft)._encode(vr,jt)},ur))}else tr.use!==null?fr=this._getUse(tr.use,Ut)._encode(Ft,jt):(ir=this._encodePrimitive(tr.tag,Ft),sr=!0);var fr;if(!tr.any&&tr.choice===null){var dr=tr.implicit!==null?tr.implicit:tr.tag,hr=tr.implicit===null?"universal":"context";dr===null?tr.use===null&&jt.error("Tag could be omitted only for .use()"):tr.use===null&&(fr=this._encodeComposite(dr,sr,hr,ir))}return tr.explicit!==null&&(fr=this._encodeComposite(tr.explicit,!1,"context",fr)),fr},$t.prototype._encodeChoice=function(Ft,jt){var Ut=this._baseState,tr=Ut.choice[Ft.type];return tr||nt(!1,Ft.type+" not found in "+JSON.stringify(Object.keys(Ut.choice))),tr._encode(Ft.value,jt)},$t.prototype._encodePrimitive=function(Ft,jt){var Ut=this._baseState;if(/str$/.test(Ft))return this._encodeStr(jt,Ft);if(Ft==="objid"&&Ut.args)return this._encodeObjid(jt,Ut.reverseArgs[0],Ut.args[1]);if(Ft==="objid")return this._encodeObjid(jt,null,null);if(Ft==="gentime"||Ft==="utctime")return this._encodeTime(jt,Ft);if(Ft==="null_")return this._encodeNull();if(Ft==="int"||Ft==="enum")return this._encodeInt(jt,Ut.args&&Ut.reverseArgs[0]);if(Ft==="bool")return this._encodeBool(jt);if(Ft==="objDesc")return this._encodeStr(jt,Ft);throw new Error("Unsupported tag: "+Ft)},$t.prototype._isNumstr=function(Ft){return/^[0-9 ]*$/.test(Ft)},$t.prototype._isPrintstr=function(Ft){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(Ft)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(a){var s=a;s.Reporter=requireReporter().Reporter,s.DecoderBuffer=requireBuffer().DecoderBuffer,s.EncoderBuffer=requireBuffer().EncoderBuffer,s.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(a){var s=requireConstants();a.tagClass={0:"universal",1:"application",2:"context",3:"private"},a.tagClassByName=s._reverse(a.tagClass),a.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},a.tagByName=s._reverse(a.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(a){var s=a;s._reverse=function(nt){var at={};return Object.keys(nt).forEach(function(mt){(mt|0)==mt&&(mt=mt|0);var wt=nt[mt];at[wt]=mt}),at},s.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var a=requireInherits_browser(),s=requireAsn1$1(),et=s.base,nt=s.bignum,at=s.constants.der;function mt(Dt){this.enc="der",this.name=Dt.name,this.entity=Dt,this.tree=new wt,this.tree._init(Dt.body)}der_1$1=mt,mt.prototype.decode=function(Ft,jt){return Ft instanceof et.DecoderBuffer||(Ft=new et.DecoderBuffer(Ft,jt)),this.tree._decode(Ft,jt)};function wt(Dt){et.Node.call(this,"der",Dt)}a(wt,et.Node),wt.prototype._peekTag=function(Ft,jt,Ut){if(Ft.isEmpty())return!1;var tr=Ft.save(),ir=$t(Ft,'Failed to peek tag: "'+jt+'"');return Ft.isError(ir)?ir:(Ft.restore(tr),ir.tag===jt||ir.tagStr===jt||ir.tagStr+"of"===jt||Ut)},wt.prototype._decodeTag=function(Ft,jt,Ut){var tr=$t(Ft,'Failed to decode tag of "'+jt+'"');if(Ft.isError(tr))return tr;var ir=Ct(Ft,tr.primitive,'Failed to get length of "'+jt+'"');if(Ft.isError(ir))return ir;if(!Ut&&tr.tag!==jt&&tr.tagStr!==jt&&tr.tagStr+"of"!==jt)return Ft.error('Failed to match tag: "'+jt+'"');if(tr.primitive||ir!==null)return Ft.skip(ir,'Failed to match body of: "'+jt+'"');var sr=Ft.save(),ur=this._skipUntilEnd(Ft,'Failed to skip indefinite length body: "'+this.tag+'"');return Ft.isError(ur)?ur:(ir=Ft.offset-sr.offset,Ft.restore(sr),Ft.skip(ir,'Failed to match body of: "'+jt+'"'))},wt.prototype._skipUntilEnd=function(Ft,jt){for(;;){var Ut=$t(Ft,jt);if(Ft.isError(Ut))return Ut;var tr=Ct(Ft,Ut.primitive,jt);if(Ft.isError(tr))return tr;var ir;if(Ut.primitive||tr!==null?ir=Ft.skip(tr):ir=this._skipUntilEnd(Ft,jt),Ft.isError(ir))return ir;if(Ut.tagStr==="end")break}},wt.prototype._decodeList=function(Ft,jt,Ut,tr){for(var ir=[];!Ft.isEmpty();){var sr=this._peekTag(Ft,"end");if(Ft.isError(sr))return sr;var ur=Ut.decode(Ft,"der",tr);if(Ft.isError(ur)&&sr)break;ir.push(ur)}return ir},wt.prototype._decodeStr=function(Ft,jt){if(jt==="bitstr"){var Ut=Ft.readUInt8();return Ft.isError(Ut)?Ut:{unused:Ut,data:Ft.raw()}}else if(jt==="bmpstr"){var tr=Ft.raw();if(tr.length%2===1)return Ft.error("Decoding of string type: bmpstr length mismatch");for(var ir="",sr=0;sr<tr.length/2;sr++)ir+=String.fromCharCode(tr.readUInt16BE(sr*2));return ir}else if(jt==="numstr"){var ur=Ft.raw().toString("ascii");return this._isNumstr(ur)?ur:Ft.error("Decoding of string type: numstr unsupported characters")}else{if(jt==="octstr")return Ft.raw();if(jt==="objDesc")return Ft.raw();if(jt==="printstr"){var fr=Ft.raw().toString("ascii");return this._isPrintstr(fr)?fr:Ft.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(jt)?Ft.raw().toString():Ft.error("Decoding of string type: "+jt+" unsupported")}},wt.prototype._decodeObjid=function(Ft,jt,Ut){for(var tr,ir=[],sr=0;!Ft.isEmpty();){var ur=Ft.readUInt8();sr<<=7,sr|=ur&127,ur&128||(ir.push(sr),sr=0)}ur&128&&ir.push(sr);var fr=ir[0]/40|0,dr=ir[0]%40;if(Ut?tr=ir:tr=[fr,dr].concat(ir.slice(1)),jt){var hr=jt[tr.join(" ")];hr===void 0&&(hr=jt[tr.join(".")]),hr!==void 0&&(tr=hr)}return tr},wt.prototype._decodeTime=function(Ft,jt){var Ut=Ft.raw().toString();if(jt==="gentime")var tr=Ut.slice(0,4)|0,ir=Ut.slice(4,6)|0,sr=Ut.slice(6,8)|0,ur=Ut.slice(8,10)|0,fr=Ut.slice(10,12)|0,dr=Ut.slice(12,14)|0;else if(jt==="utctime"){var tr=Ut.slice(0,2)|0,ir=Ut.slice(2,4)|0,sr=Ut.slice(4,6)|0,ur=Ut.slice(6,8)|0,fr=Ut.slice(8,10)|0,dr=Ut.slice(10,12)|0;tr<70?tr=2e3+tr:tr=1900+tr}else return Ft.error("Decoding "+jt+" time is not supported yet");return Date.UTC(tr,ir-1,sr,ur,fr,dr,0)},wt.prototype._decodeNull=function(Ft){return null},wt.prototype._decodeBool=function(Ft){var jt=Ft.readUInt8();return Ft.isError(jt)?jt:jt!==0},wt.prototype._decodeInt=function(Ft,jt){var Ut=Ft.raw(),tr=new nt(Ut);return jt&&(tr=jt[tr.toString(10)]||tr),tr},wt.prototype._use=function(Ft,jt){return typeof Ft=="function"&&(Ft=Ft(jt)),Ft._getDecoder("der").tree};function $t(Dt,Ft){var jt=Dt.readUInt8(Ft);if(Dt.isError(jt))return jt;var Ut=at.tagClass[jt>>6],tr=(jt&32)===0;if((jt&31)===31){var ir=jt;for(jt=0;(ir&128)===128;){if(ir=Dt.readUInt8(Ft),Dt.isError(ir))return ir;jt<<=7,jt|=ir&127}}else jt&=31;var sr=at.tag[jt];return{cls:Ut,primitive:tr,tag:jt,tagStr:sr}}function Ct(Dt,Ft,jt){var Ut=Dt.readUInt8(jt);if(Dt.isError(Ut))return Ut;if(!Ft&&Ut===128)return null;if(!(Ut&128))return Ut;var tr=Ut&127;if(tr>4)return Dt.error("length octect is too long");Ut=0;for(var ir=0;ir<tr;ir++){Ut<<=8;var sr=Dt.readUInt8(jt);if(Dt.isError(sr))return sr;Ut|=sr}return Ut}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var a=requireInherits_browser(),s=require$$0$3.Buffer,et=requireDer$1();function nt(at){et.call(this,at),this.enc="pem"}return a(nt,et),pem$1=nt,nt.prototype.decode=function(mt,wt){for(var $t=mt.toString().split(/[\r\n]+/g),Ct=wt.label.toUpperCase(),Dt=/^-----(BEGIN|END) ([^-]+)-----$/,Ft=-1,jt=-1,Ut=0;Ut<$t.length;Ut++){var tr=$t[Ut].match(Dt);if(tr!==null&&tr[2]===Ct)if(Ft===-1){if(tr[1]!=="BEGIN")break;Ft=Ut}else{if(tr[1]!=="END")break;jt=Ut;break}}if(Ft===-1||jt===-1)throw new Error("PEM section not found for: "+Ct);var ir=$t.slice(Ft+1,jt).join("");ir.replace(/[^a-z0-9\+\/=]+/gi,"");var sr=new s(ir,"base64");return et.prototype.decode.call(this,sr,wt)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(a){var s=a;s.der=requireDer$1(),s.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var a=requireInherits_browser(),s=require$$0$3.Buffer,et=requireAsn1$1(),nt=et.base,at=et.constants.der;function mt(Dt){this.enc="der",this.name=Dt.name,this.entity=Dt,this.tree=new wt,this.tree._init(Dt.body)}der_1=mt,mt.prototype.encode=function(Ft,jt){return this.tree._encode(Ft,jt).join()};function wt(Dt){nt.Node.call(this,"der",Dt)}a(wt,nt.Node),wt.prototype._encodeComposite=function(Ft,jt,Ut,tr){var ir=Ct(Ft,jt,Ut,this.reporter);if(tr.length<128){var fr=new s(2);return fr[0]=ir,fr[1]=tr.length,this._createEncoderBuffer([fr,tr])}for(var sr=1,ur=tr.length;ur>=256;ur>>=8)sr++;var fr=new s(2+sr);fr[0]=ir,fr[1]=128|sr;for(var ur=1+sr,dr=tr.length;dr>0;ur--,dr>>=8)fr[ur]=dr&255;return this._createEncoderBuffer([fr,tr])},wt.prototype._encodeStr=function(Ft,jt){if(jt==="bitstr")return this._createEncoderBuffer([Ft.unused|0,Ft.data]);if(jt==="bmpstr"){for(var Ut=new s(Ft.length*2),tr=0;tr<Ft.length;tr++)Ut.writeUInt16BE(Ft.charCodeAt(tr),tr*2);return this._createEncoderBuffer(Ut)}else return jt==="numstr"?this._isNumstr(Ft)?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: numstr supports only digits and space"):jt==="printstr"?this._isPrintstr(Ft)?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(jt)?this._createEncoderBuffer(Ft):jt==="objDesc"?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: "+jt+" unsupported")},wt.prototype._encodeObjid=function(Ft,jt,Ut){if(typeof Ft=="string"){if(!jt)return this.reporter.error("string objid given, but no values map found");if(!jt.hasOwnProperty(Ft))return this.reporter.error("objid not found in values map");Ft=jt[Ft].split(/[\s\.]+/g);for(var tr=0;tr<Ft.length;tr++)Ft[tr]|=0}else if(Array.isArray(Ft)){Ft=Ft.slice();for(var tr=0;tr<Ft.length;tr++)Ft[tr]|=0}if(!Array.isArray(Ft))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(Ft));if(!Ut){if(Ft[1]>=40)return this.reporter.error("Second objid identifier OOB");Ft.splice(0,2,Ft[0]*40+Ft[1])}for(var ir=0,tr=0;tr<Ft.length;tr++){var sr=Ft[tr];for(ir++;sr>=128;sr>>=7)ir++}for(var ur=new s(ir),fr=ur.length-1,tr=Ft.length-1;tr>=0;tr--){var sr=Ft[tr];for(ur[fr--]=sr&127;(sr>>=7)>0;)ur[fr--]=128|sr&127}return this._createEncoderBuffer(ur)};function $t(Dt){return Dt<10?"0"+Dt:Dt}wt.prototype._encodeTime=function(Ft,jt){var Ut,tr=new Date(Ft);return jt==="gentime"?Ut=[$t(tr.getFullYear()),$t(tr.getUTCMonth()+1),$t(tr.getUTCDate()),$t(tr.getUTCHours()),$t(tr.getUTCMinutes()),$t(tr.getUTCSeconds()),"Z"].join(""):jt==="utctime"?Ut=[$t(tr.getFullYear()%100),$t(tr.getUTCMonth()+1),$t(tr.getUTCDate()),$t(tr.getUTCHours()),$t(tr.getUTCMinutes()),$t(tr.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+jt+" time is not supported yet"),this._encodeStr(Ut,"octstr")},wt.prototype._encodeNull=function(){return this._createEncoderBuffer("")},wt.prototype._encodeInt=function(Ft,jt){if(typeof Ft=="string"){if(!jt)return this.reporter.error("String int or enum given, but no values map");if(!jt.hasOwnProperty(Ft))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(Ft));Ft=jt[Ft]}if(typeof Ft!="number"&&!s.isBuffer(Ft)){var Ut=Ft.toArray();!Ft.sign&&Ut[0]&128&&Ut.unshift(0),Ft=new s(Ut)}if(s.isBuffer(Ft)){var tr=Ft.length;Ft.length===0&&tr++;var sr=new s(tr);return Ft.copy(sr),Ft.length===0&&(sr[0]=0),this._createEncoderBuffer(sr)}if(Ft<128)return this._createEncoderBuffer(Ft);if(Ft<256)return this._createEncoderBuffer([0,Ft]);for(var tr=1,ir=Ft;ir>=256;ir>>=8)tr++;for(var sr=new Array(tr),ir=sr.length-1;ir>=0;ir--)sr[ir]=Ft&255,Ft>>=8;return sr[0]&128&&sr.unshift(0),this._createEncoderBuffer(new s(sr))},wt.prototype._encodeBool=function(Ft){return this._createEncoderBuffer(Ft?255:0)},wt.prototype._use=function(Ft,jt){return typeof Ft=="function"&&(Ft=Ft(jt)),Ft._getEncoder("der").tree},wt.prototype._skipDefault=function(Ft,jt,Ut){var tr=this._baseState,ir;if(tr.default===null)return!1;var sr=Ft.join();if(tr.defaultBuffer===void 0&&(tr.defaultBuffer=this._encodeValue(tr.default,jt,Ut).join()),sr.length!==tr.defaultBuffer.length)return!1;for(ir=0;ir<sr.length;ir++)if(sr[ir]!==tr.defaultBuffer[ir])return!1;return!0};function Ct(Dt,Ft,jt,Ut){var tr;if(Dt==="seqof"?Dt="seq":Dt==="setof"&&(Dt="set"),at.tagByName.hasOwnProperty(Dt))tr=at.tagByName[Dt];else if(typeof Dt=="number"&&(Dt|0)===Dt)tr=Dt;else return Ut.error("Unknown tag: "+Dt);return tr>=31?Ut.error("Multi-octet tag encoding unsupported"):(Ft||(tr|=32),tr|=at.tagClassByName[jt||"universal"]<<6,tr)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var a=requireInherits_browser(),s=requireDer();function et(nt){s.call(this,nt),this.enc="pem"}return a(et,s),pem=et,et.prototype.encode=function(at,mt){for(var wt=s.prototype.encode.call(this,at),$t=wt.toString("base64"),Ct=["-----BEGIN "+mt.label+"-----"],Dt=0;Dt<$t.length;Dt+=64)Ct.push($t.slice(Dt,Dt+64));return Ct.push("-----END "+mt.label+"-----"),Ct.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(a){var s=a;s.der=requireDer(),s.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(a){var s=a;s.bignum=requireBn$2(),s.define=requireApi().define,s.base=requireBase(),s.constants=requireConstants(),s.decoders=requireDecoders(),s.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var a=requireAsn1$1(),s=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),et=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),nt=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),at=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nt),this.key("subjectPublicKey").bitstr())}),mt=a.define("RelativeDistinguishedName",function(){this.setof(et)}),wt=a.define("RDNSequence",function(){this.seqof(mt)}),$t=a.define("Name",function(){this.choice({rdnSequence:this.use(wt)})}),Ct=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),Dt=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Ft=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(nt),this.key("issuer").use($t),this.key("validity").use(Ct),this.key("subject").use($t),this.key("subjectPublicKeyInfo").use(at),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Dt).optional())}),jt=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Ft),this.key("signatureAlgorithm").use(nt),this.key("signatureValue").bitstr())});return certificate=jt,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var a=requireAsn1$1();asn1$1.certificate=requireCertificate();var s=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=s;var et=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=et;var nt=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),at=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nt),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=at;var mt=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(nt),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=mt;var wt=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=wt;var $t=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=$t,asn1$1.DSAparam=a.define("DSAparam",function(){this.int()});var Ct=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Dt=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Ct),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Dt,asn1$1.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,et=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,nt=requireEvp_bytestokey(),at=requireBrowser$6(),mt=requireSafeBuffer$1().Buffer;return fixProc=function(wt,$t){var Ct=wt.toString(),Dt=Ct.match(a),Ft;if(Dt){var Ut="aes"+Dt[1],tr=mt.from(Dt[2],"hex"),ir=mt.from(Dt[3].replace(/[\r\n]/g,""),"base64"),sr=nt($t,tr.slice(0,8),parseInt(Dt[1],10)).key,ur=[],fr=at.createDecipheriv(Ut,sr,tr);ur.push(fr.update(ir)),ur.push(fr.final()),Ft=mt.concat(ur)}else{var jt=Ct.match(et);Ft=mt.from(jt[2].replace(/[\r\n]/g,""),"base64")}var dr=Ct.match(s)[1];return{tag:dr,data:Ft}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var a=requireAsn1(),s=require$$1,et=requireFixProc(),nt=requireBrowser$6(),at=requireBrowser$7(),mt=requireSafeBuffer$1().Buffer;function wt(Ct,Dt){var Ft=Ct.algorithm.decrypt.kde.kdeparams.salt,jt=parseInt(Ct.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Ut=s[Ct.algorithm.decrypt.cipher.algo.join(".")],tr=Ct.algorithm.decrypt.cipher.iv,ir=Ct.subjectPrivateKey,sr=parseInt(Ut.split("-")[1],10)/8,ur=at.pbkdf2Sync(Dt,Ft,jt,sr,"sha1"),fr=nt.createDecipheriv(Ut,ur,tr),dr=[];return dr.push(fr.update(ir)),dr.push(fr.final()),mt.concat(dr)}function $t(Ct){var Dt;typeof Ct=="object"&&!mt.isBuffer(Ct)&&(Dt=Ct.passphrase,Ct=Ct.key),typeof Ct=="string"&&(Ct=mt.from(Ct));var Ft=et(Ct,Dt),jt=Ft.tag,Ut=Ft.data,tr,ir;switch(jt){case"CERTIFICATE":ir=a.certificate.decode(Ut,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ir||(ir=a.PublicKey.decode(Ut,"der")),tr=ir.algorithm.algorithm.join("."),tr){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(ir.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ir.subjectPrivateKey=ir.subjectPublicKey,{type:"ec",data:ir};case"1.2.840.10040.4.1":return ir.algorithm.params.pub_key=a.DSAparam.decode(ir.subjectPublicKey.data,"der"),{type:"dsa",data:ir.algorithm.params};default:throw new Error("unknown key id "+tr)}case"ENCRYPTED PRIVATE KEY":Ut=a.EncryptedPrivateKey.decode(Ut,"der"),Ut=wt(Ut,Dt);case"PRIVATE KEY":switch(ir=a.PrivateKey.decode(Ut,"der"),tr=ir.algorithm.algorithm.join("."),tr){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(ir.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ir.algorithm.curve,privateKey:a.ECPrivateKey.decode(ir.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ir.algorithm.params.priv_key=a.DSAparam.decode(ir.subjectPrivateKey,"der"),{type:"dsa",params:ir.algorithm.params};default:throw new Error("unknown key id "+tr)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(Ut,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(Ut,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(Ut,"der")};case"EC PRIVATE KEY":return Ut=a.ECPrivateKey.decode(Ut,"der"),{curve:Ut.parameters.value,privateKey:Ut.privateKey};default:throw new Error("unknown key type "+jt)}}return $t.signature=a.signature,parseAsn1=$t,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var a=requireSafeBuffer$1().Buffer,s=requireBrowser$8(),et=requireBrowserifyRsa(),nt=requireElliptic().ec,at=bnExports,mt=requireParseAsn1(),wt=require$$4,$t=1;function Ct(fr,dr,hr,vr,yr){var xr=mt(dr);if(xr.curve){if(vr!=="ecdsa"&&vr!=="ecdsa/rsa")throw new Error("wrong private key type");return Dt(fr,xr)}else if(xr.type==="dsa"){if(vr!=="dsa")throw new Error("wrong private key type");return Ft(fr,xr,hr)}if(vr!=="rsa"&&vr!=="ecdsa/rsa")throw new Error("wrong private key type");if(dr.padding!==void 0&&dr.padding!==$t)throw new Error("illegal or unsupported padding mode");fr=a.concat([yr,fr]);for(var br=xr.modulus.byteLength(),wr=[0,1];fr.length+wr.length+1<br;)wr.push(255);wr.push(0);for(var Sr=-1;++Sr<fr.length;)wr.push(fr[Sr]);var Cr=et(wr,xr);return Cr}function Dt(fr,dr){var hr=wt[dr.curve.join(".")];if(!hr)throw new Error("unknown curve "+dr.curve.join("."));var vr=new nt(hr),yr=vr.keyFromPrivate(dr.privateKey),xr=yr.sign(fr);return a.from(xr.toDER())}function Ft(fr,dr,hr){for(var vr=dr.params.priv_key,yr=dr.params.p,xr=dr.params.q,br=dr.params.g,wr=new at(0),Sr,Cr=tr(fr,xr).mod(xr),cr=!1,Nt=Ut(vr,xr,fr,hr);cr===!1;)Sr=sr(xr,Nt,hr),wr=ur(br,Sr,yr,xr),cr=Sr.invm(xr).imul(Cr.add(vr.mul(wr))).mod(xr),cr.cmpn(0)===0&&(cr=!1,wr=new at(0));return jt(wr,cr)}function jt(fr,dr){fr=fr.toArray(),dr=dr.toArray(),fr[0]&128&&(fr=[0].concat(fr)),dr[0]&128&&(dr=[0].concat(dr));var hr=fr.length+dr.length+4,vr=[48,hr,2,fr.length];return vr=vr.concat(fr,[2,dr.length],dr),a.from(vr)}function Ut(fr,dr,hr,vr){if(fr=a.from(fr.toArray()),fr.length<dr.byteLength()){var yr=a.alloc(dr.byteLength()-fr.length);fr=a.concat([yr,fr])}var xr=hr.length,br=ir(hr,dr),wr=a.alloc(xr);wr.fill(1);var Sr=a.alloc(xr);return Sr=s(vr,Sr).update(wr).update(a.from([0])).update(fr).update(br).digest(),wr=s(vr,Sr).update(wr).digest(),Sr=s(vr,Sr).update(wr).update(a.from([1])).update(fr).update(br).digest(),wr=s(vr,Sr).update(wr).digest(),{k:Sr,v:wr}}function tr(fr,dr){var hr=new at(fr),vr=(fr.length<<3)-dr.bitLength();return vr>0&&hr.ishrn(vr),hr}function ir(fr,dr){fr=tr(fr,dr),fr=fr.mod(dr);var hr=a.from(fr.toArray());if(hr.length<dr.byteLength()){var vr=a.alloc(dr.byteLength()-hr.length);hr=a.concat([vr,hr])}return hr}function sr(fr,dr,hr){var vr,yr;do{for(vr=a.alloc(0);vr.length*8<fr.bitLength();)dr.v=s(hr,dr.k).update(dr.v).digest(),vr=a.concat([vr,dr.v]);yr=tr(vr,fr),dr.k=s(hr,dr.k).update(dr.v).update(a.from([0])).digest(),dr.v=s(hr,dr.k).update(dr.v).digest()}while(yr.cmp(fr)!==-1);return yr}function ur(fr,dr,hr,vr){return fr.toRed(at.mont(hr)).redPow(dr).fromRed().mod(vr)}return sign.exports=Ct,sign.exports.getKey=Ut,sign.exports.makeKey=sr,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var a=requireSafeBuffer$1().Buffer,s=bnExports,et=requireElliptic().ec,nt=requireParseAsn1(),at=require$$4;function mt(Dt,Ft,jt,Ut,tr){var ir=nt(jt);if(ir.type==="ec"){if(Ut!=="ecdsa"&&Ut!=="ecdsa/rsa")throw new Error("wrong public key type");return wt(Dt,Ft,ir)}else if(ir.type==="dsa"){if(Ut!=="dsa")throw new Error("wrong public key type");return $t(Dt,Ft,ir)}if(Ut!=="rsa"&&Ut!=="ecdsa/rsa")throw new Error("wrong public key type");Ft=a.concat([tr,Ft]);for(var sr=ir.modulus.byteLength(),ur=[1],fr=0;Ft.length+ur.length+2<sr;)ur.push(255),fr+=1;ur.push(0);for(var dr=-1;++dr<Ft.length;)ur.push(Ft[dr]);ur=a.from(ur);var hr=s.mont(ir.modulus);Dt=new s(Dt).toRed(hr),Dt=Dt.redPow(new s(ir.publicExponent)),Dt=a.from(Dt.fromRed().toArray());var vr=fr<8?1:0;for(sr=Math.min(Dt.length,ur.length),Dt.length!==ur.length&&(vr=1),dr=-1;++dr<sr;)vr|=Dt[dr]^ur[dr];return vr===0}function wt(Dt,Ft,jt){var Ut=at[jt.data.algorithm.curve.join(".")];if(!Ut)throw new Error("unknown curve "+jt.data.algorithm.curve.join("."));var tr=new et(Ut),ir=jt.data.subjectPrivateKey.data;return tr.verify(Ft,Dt,ir)}function $t(Dt,Ft,jt){var Ut=jt.data.p,tr=jt.data.q,ir=jt.data.g,sr=jt.data.pub_key,ur=nt.signature.decode(Dt,"der"),fr=ur.s,dr=ur.r;Ct(fr,tr),Ct(dr,tr);var hr=s.mont(Ut),vr=fr.invm(tr),yr=ir.toRed(hr).redPow(new s(Ft).mul(vr).mod(tr)).fromRed().mul(sr.toRed(hr).redPow(dr.mul(vr).mod(tr)).fromRed()).mod(Ut).mod(tr);return yr.cmp(dr)===0}function Ct(Dt,Ft){if(Dt.cmpn(0)<=0)throw new Error("invalid sig");if(Dt.cmp(Ft)>=0)throw new Error("invalid sig")}return verify_1=mt,verify_1}var browser$5,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$5;hasRequiredBrowser$3=1;var a=requireSafeBuffer$1().Buffer,s=requireBrowser$9(),et=requireReadableBrowser(),nt=requireInherits_browser(),at=requireSign(),mt=requireVerify(),wt=require$$6;Object.keys(wt).forEach(function(jt){wt[jt].id=a.from(wt[jt].id,"hex"),wt[jt.toLowerCase()]=wt[jt]});function $t(jt){et.Writable.call(this);var Ut=wt[jt];if(!Ut)throw new Error("Unknown message digest");this._hashType=Ut.hash,this._hash=s(Ut.hash),this._tag=Ut.id,this._signType=Ut.sign}nt($t,et.Writable),$t.prototype._write=function(Ut,tr,ir){this._hash.update(Ut),ir()},$t.prototype.update=function(Ut,tr){return this._hash.update(typeof Ut=="string"?a.from(Ut,tr):Ut),this},$t.prototype.sign=function(Ut,tr){this.end();var ir=this._hash.digest(),sr=at(ir,Ut,this._hashType,this._signType,this._tag);return tr?sr.toString(tr):sr};function Ct(jt){et.Writable.call(this);var Ut=wt[jt];if(!Ut)throw new Error("Unknown message digest");this._hash=s(Ut.hash),this._tag=Ut.id,this._signType=Ut.sign}nt(Ct,et.Writable),Ct.prototype._write=function(Ut,tr,ir){this._hash.update(Ut),ir()},Ct.prototype.update=function(Ut,tr){return this._hash.update(typeof Ut=="string"?a.from(Ut,tr):Ut),this},Ct.prototype.verify=function(Ut,tr,ir){var sr=typeof tr=="string"?a.from(tr,ir):tr;this.end();var ur=this._hash.digest();return mt(sr,ur,Ut,this._signType,this._tag)};function Dt(jt){return new $t(jt)}function Ft(jt){return new Ct(jt)}return browser$5={Sign:Dt,Verify:Ft,createSign:Dt,createVerify:Ft},browser$5}var bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(a){(function(s,et){function nt(cr,Nt){if(!cr)throw new Error(Nt||"Assertion failed")}function at(cr,Nt){cr.super_=Nt;var Vt=function(){};Vt.prototype=Nt.prototype,cr.prototype=new Vt,cr.prototype.constructor=cr}function mt(cr,Nt,Vt){if(mt.isBN(cr))return cr;this.negative=0,this.words=null,this.length=0,this.red=null,cr!==null&&((Nt==="le"||Nt==="be")&&(Vt=Nt,Nt=10),this._init(cr||0,Nt||10,Vt||"be"))}typeof s=="object"?s.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$0$3.Buffer}catch{}mt.isBN=function(Nt){return Nt instanceof mt?!0:Nt!==null&&typeof Nt=="object"&&Nt.constructor.wordSize===mt.wordSize&&Array.isArray(Nt.words)},mt.max=function(Nt,Vt){return Nt.cmp(Vt)>0?Nt:Vt},mt.min=function(Nt,Vt){return Nt.cmp(Vt)<0?Nt:Vt},mt.prototype._init=function(Nt,Vt,er){if(typeof Nt=="number")return this._initNumber(Nt,Vt,er);if(typeof Nt=="object")return this._initArray(Nt,Vt,er);Vt==="hex"&&(Vt=16),nt(Vt===(Vt|0)&&Vt>=2&&Vt<=36),Nt=Nt.toString().replace(/\s+/g,"");var Yt=0;Nt[0]==="-"&&(Yt++,this.negative=1),Yt<Nt.length&&(Vt===16?this._parseHex(Nt,Yt,er):(this._parseBase(Nt,Vt,Yt),er==="le"&&this._initArray(this.toArray(),Vt,er)))},mt.prototype._initNumber=function(Nt,Vt,er){Nt<0&&(this.negative=1,Nt=-Nt),Nt<67108864?(this.words=[Nt&67108863],this.length=1):Nt<4503599627370496?(this.words=[Nt&67108863,Nt/67108864&67108863],this.length=2):(nt(Nt<9007199254740992),this.words=[Nt&67108863,Nt/67108864&67108863,1],this.length=3),er==="le"&&this._initArray(this.toArray(),Vt,er)},mt.prototype._initArray=function(Nt,Vt,er){if(nt(typeof Nt.length=="number"),Nt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Nt.length/3),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr,ar,lr=0;if(er==="be")for(Yt=Nt.length-1,rr=0;Yt>=0;Yt-=3)ar=Nt[Yt]|Nt[Yt-1]<<8|Nt[Yt-2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);else if(er==="le")for(Yt=0,rr=0;Yt<Nt.length;Yt+=3)ar=Nt[Yt]|Nt[Yt+1]<<8|Nt[Yt+2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);return this.strip()};function $t(cr,Nt){var Vt=cr.charCodeAt(Nt);return Vt>=65&&Vt<=70?Vt-55:Vt>=97&&Vt<=102?Vt-87:Vt-48&15}function Ct(cr,Nt,Vt){var er=$t(cr,Vt);return Vt-1>=Nt&&(er|=$t(cr,Vt-1)<<4),er}mt.prototype._parseHex=function(Nt,Vt,er){this.length=Math.ceil((Nt.length-Vt)/6),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr=0,ar=0,lr;if(er==="be")for(Yt=Nt.length-1;Yt>=Vt;Yt-=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8;else{var nr=Nt.length-Vt;for(Yt=nr%2===0?Vt+1:Vt;Yt<Nt.length;Yt+=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8}this.strip()};function Dt(cr,Nt,Vt,er){for(var Yt=0,rr=Math.min(cr.length,Vt),ar=Nt;ar<rr;ar++){var lr=cr.charCodeAt(ar)-48;Yt*=er,lr>=49?Yt+=lr-49+10:lr>=17?Yt+=lr-17+10:Yt+=lr}return Yt}mt.prototype._parseBase=function(Nt,Vt,er){this.words=[0],this.length=1;for(var Yt=0,rr=1;rr<=67108863;rr*=Vt)Yt++;Yt--,rr=rr/Vt|0;for(var ar=Nt.length-er,lr=ar%Yt,nr=Math.min(ar,ar-lr)+er,Lt=0,or=er;or<nr;or+=Yt)Lt=Dt(Nt,or,or+Yt,Vt),this.imuln(rr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt);if(lr!==0){var gr=1;for(Lt=Dt(Nt,or,Nt.length,Vt),or=0;or<lr;or++)gr*=Vt;this.imuln(gr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt)}this.strip()},mt.prototype.copy=function(Nt){Nt.words=new Array(this.length);for(var Vt=0;Vt<this.length;Vt++)Nt.words[Vt]=this.words[Vt];Nt.length=this.length,Nt.negative=this.negative,Nt.red=this.red},mt.prototype.clone=function(){var Nt=new mt(null);return this.copy(Nt),Nt},mt.prototype._expand=function(Nt){for(;this.length<Nt;)this.words[this.length++]=0;return this},mt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},mt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(Nt,Vt){Nt=Nt||10,Vt=Vt|0||1;var er;if(Nt===16||Nt==="hex"){er="";for(var Yt=0,rr=0,ar=0;ar<this.length;ar++){var lr=this.words[ar],nr=((lr<<Yt|rr)&16777215).toString(16);rr=lr>>>24-Yt&16777215,Yt+=2,Yt>=26&&(Yt-=26,ar--),rr!==0||ar!==this.length-1?er=Ft[6-nr.length]+nr+er:er=nr+er}for(rr!==0&&(er=rr.toString(16)+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}if(Nt===(Nt|0)&&Nt>=2&&Nt<=36){var Lt=jt[Nt],or=Ut[Nt];er="";var gr=this.clone();for(gr.negative=0;!gr.isZero();){var pr=gr.modn(or).toString(Nt);gr=gr.idivn(or),gr.isZero()?er=pr+er:er=Ft[Lt-pr.length]+pr+er}for(this.isZero()&&(er="0"+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var Nt=this.words[0];return this.length===2?Nt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Nt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Nt:Nt},mt.prototype.toJSON=function(){return this.toString(16)},mt.prototype.toBuffer=function(Nt,Vt){return nt(typeof wt<"u"),this.toArrayLike(wt,Nt,Vt)},mt.prototype.toArray=function(Nt,Vt){return this.toArrayLike(Array,Nt,Vt)},mt.prototype.toArrayLike=function(Nt,Vt,er){var Yt=this.byteLength(),rr=er||Math.max(1,Yt);nt(Yt<=rr,"byte array longer than desired length"),nt(rr>0,"Requested array length <= 0"),this.strip();var ar=Vt==="le",lr=new Nt(rr),nr,Lt,or=this.clone();if(ar){for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[Lt]=nr;for(;Lt<rr;Lt++)lr[Lt]=0}else{for(Lt=0;Lt<rr-Yt;Lt++)lr[Lt]=0;for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[rr-Lt-1]=nr}return lr},Math.clz32?mt.prototype._countBits=function(Nt){return 32-Math.clz32(Nt)}:mt.prototype._countBits=function(Nt){var Vt=Nt,er=0;return Vt>=4096&&(er+=13,Vt>>>=13),Vt>=64&&(er+=7,Vt>>>=7),Vt>=8&&(er+=4,Vt>>>=4),Vt>=2&&(er+=2,Vt>>>=2),er+Vt},mt.prototype._zeroBits=function(Nt){if(Nt===0)return 26;var Vt=Nt,er=0;return Vt&8191||(er+=13,Vt>>>=13),Vt&127||(er+=7,Vt>>>=7),Vt&15||(er+=4,Vt>>>=4),Vt&3||(er+=2,Vt>>>=2),Vt&1||er++,er},mt.prototype.bitLength=function(){var Nt=this.words[this.length-1],Vt=this._countBits(Nt);return(this.length-1)*26+Vt};function tr(cr){for(var Nt=new Array(cr.bitLength()),Vt=0;Vt<Nt.length;Vt++){var er=Vt/26|0,Yt=Vt%26;Nt[Vt]=(cr.words[er]&1<<Yt)>>>Yt}return Nt}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Nt=0,Vt=0;Vt<this.length;Vt++){var er=this._zeroBits(this.words[Vt]);if(Nt+=er,er!==26)break}return Nt},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(Nt){return this.negative!==0?this.abs().inotn(Nt).iaddn(1):this.clone()},mt.prototype.fromTwos=function(Nt){return this.testn(Nt-1)?this.notn(Nt).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(Nt){for(;this.length<Nt.length;)this.words[this.length++]=0;for(var Vt=0;Vt<Nt.length;Vt++)this.words[Vt]=this.words[Vt]|Nt.words[Vt];return this.strip()},mt.prototype.ior=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuor(Nt)},mt.prototype.or=function(Nt){return this.length>Nt.length?this.clone().ior(Nt):Nt.clone().ior(this)},mt.prototype.uor=function(Nt){return this.length>Nt.length?this.clone().iuor(Nt):Nt.clone().iuor(this)},mt.prototype.iuand=function(Nt){var Vt;this.length>Nt.length?Vt=Nt:Vt=this;for(var er=0;er<Vt.length;er++)this.words[er]=this.words[er]&Nt.words[er];return this.length=Vt.length,this.strip()},mt.prototype.iand=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuand(Nt)},mt.prototype.and=function(Nt){return this.length>Nt.length?this.clone().iand(Nt):Nt.clone().iand(this)},mt.prototype.uand=function(Nt){return this.length>Nt.length?this.clone().iuand(Nt):Nt.clone().iuand(this)},mt.prototype.iuxor=function(Nt){var Vt,er;this.length>Nt.length?(Vt=this,er=Nt):(Vt=Nt,er=this);for(var Yt=0;Yt<er.length;Yt++)this.words[Yt]=Vt.words[Yt]^er.words[Yt];if(this!==Vt)for(;Yt<Vt.length;Yt++)this.words[Yt]=Vt.words[Yt];return this.length=Vt.length,this.strip()},mt.prototype.ixor=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuxor(Nt)},mt.prototype.xor=function(Nt){return this.length>Nt.length?this.clone().ixor(Nt):Nt.clone().ixor(this)},mt.prototype.uxor=function(Nt){return this.length>Nt.length?this.clone().iuxor(Nt):Nt.clone().iuxor(this)},mt.prototype.inotn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Math.ceil(Nt/26)|0,er=Nt%26;this._expand(Vt),er>0&&Vt--;for(var Yt=0;Yt<Vt;Yt++)this.words[Yt]=~this.words[Yt]&67108863;return er>0&&(this.words[Yt]=~this.words[Yt]&67108863>>26-er),this.strip()},mt.prototype.notn=function(Nt){return this.clone().inotn(Nt)},mt.prototype.setn=function(Nt,Vt){nt(typeof Nt=="number"&&Nt>=0);var er=Nt/26|0,Yt=Nt%26;return this._expand(er+1),Vt?this.words[er]=this.words[er]|1<<Yt:this.words[er]=this.words[er]&~(1<<Yt),this.strip()},mt.prototype.iadd=function(Nt){var Vt;if(this.negative!==0&&Nt.negative===0)return this.negative=0,Vt=this.isub(Nt),this.negative^=1,this._normSign();if(this.negative===0&&Nt.negative!==0)return Nt.negative=0,Vt=this.isub(Nt),Nt.negative=1,Vt._normSign();var er,Yt;this.length>Nt.length?(er=this,Yt=Nt):(er=Nt,Yt=this);for(var rr=0,ar=0;ar<Yt.length;ar++)Vt=(er.words[ar]|0)+(Yt.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;for(;rr!==0&&ar<er.length;ar++)Vt=(er.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;if(this.length=er.length,rr!==0)this.words[this.length]=rr,this.length++;else if(er!==this)for(;ar<er.length;ar++)this.words[ar]=er.words[ar];return this},mt.prototype.add=function(Nt){var Vt;return Nt.negative!==0&&this.negative===0?(Nt.negative=0,Vt=this.sub(Nt),Nt.negative^=1,Vt):Nt.negative===0&&this.negative!==0?(this.negative=0,Vt=Nt.sub(this),this.negative=1,Vt):this.length>Nt.length?this.clone().iadd(Nt):Nt.clone().iadd(this)},mt.prototype.isub=function(Nt){if(Nt.negative!==0){Nt.negative=0;var Vt=this.iadd(Nt);return Nt.negative=1,Vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Nt),this.negative=1,this._normSign();var er=this.cmp(Nt);if(er===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yt,rr;er>0?(Yt=this,rr=Nt):(Yt=Nt,rr=this);for(var ar=0,lr=0;lr<rr.length;lr++)Vt=(Yt.words[lr]|0)-(rr.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;for(;ar!==0&&lr<Yt.length;lr++)Vt=(Yt.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;if(ar===0&&lr<Yt.length&&Yt!==this)for(;lr<Yt.length;lr++)this.words[lr]=Yt.words[lr];return this.length=Math.max(this.length,lr),Yt!==this&&(this.negative=1),this.strip()},mt.prototype.sub=function(Nt){return this.clone().isub(Nt)};function ir(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative;var er=cr.length+Nt.length|0;Vt.length=er,er=er-1|0;var Yt=cr.words[0]|0,rr=Nt.words[0]|0,ar=Yt*rr,lr=ar&67108863,nr=ar/67108864|0;Vt.words[0]=lr;for(var Lt=1;Lt<er;Lt++){for(var or=nr>>>26,gr=nr&67108863,pr=Math.min(Lt,Nt.length-1),_r=Math.max(0,Lt-cr.length+1);_r<=pr;_r++){var kr=Lt-_r|0;Yt=cr.words[kr]|0,rr=Nt.words[_r]|0,ar=Yt*rr+gr,or+=ar/67108864|0,gr=ar&67108863}Vt.words[Lt]=gr|0,nr=or|0}return nr!==0?Vt.words[Lt]=nr|0:Vt.length--,Vt.strip()}var sr=function(Nt,Vt,er){var Yt=Nt.words,rr=Vt.words,ar=er.words,lr=0,nr,Lt,or,gr=Yt[0]|0,pr=gr&8191,_r=gr>>>13,kr=Yt[1]|0,Mr=kr&8191,$r=kr>>>13,Pr=Yt[2]|0,Fr=Pr&8191,Tr=Pr>>>13,Rr=Yt[3]|0,Er=Rr&8191,Or=Rr>>>13,Wr=Yt[4]|0,qr=Wr&8191,Vr=Wr>>>13,Ur=Yt[5]|0,Lr=Ur&8191,Br=Ur>>>13,Xr=Yt[6]|0,zr=Xr&8191,Qr=Xr>>>13,Qn=Yt[7]|0,nn=Qn&8191,$n=Qn>>>13,lo=Yt[8]|0,sn=lo&8191,Nn=lo>>>13,xo=Yt[9]|0,Ir=xo&8191,Ar=xo>>>13,Dr=rr[0]|0,Nr=Dr&8191,Gr=Dr>>>13,Un=rr[1]|0,Zr=Un&8191,Cn=Un>>>13,wo=rr[2]|0,Hn=wo&8191,Kn=wo>>>13,bo=rr[3]|0,Jn=bo&8191,no=bo>>>13,Do=rr[4]|0,eo=Do&8191,io=Do>>>13,Io=rr[5]|0,_i=Io&8191,ro=Io>>>13,Oo=rr[6]|0,Hr=Oo&8191,Yr=Oo>>>13,Wn=rr[7]|0,rn=Wn&8191,dn=Wn>>>13,po=rr[8]|0,Ln=po&8191,Vn=po>>>13,uo=rr[9]|0,pn=uo&8191,zn=uo>>>13;er.negative=Nt.negative^Vt.negative,er.length=19,nr=Math.imul(pr,Nr),Lt=Math.imul(pr,Gr),Lt=Lt+Math.imul(_r,Nr)|0,or=Math.imul(_r,Gr);var go=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(go>>>26)|0,go&=67108863,nr=Math.imul(Mr,Nr),Lt=Math.imul(Mr,Gr),Lt=Lt+Math.imul($r,Nr)|0,or=Math.imul($r,Gr),nr=nr+Math.imul(pr,Zr)|0,Lt=Lt+Math.imul(pr,Cn)|0,Lt=Lt+Math.imul(_r,Zr)|0,or=or+Math.imul(_r,Cn)|0;var co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(co>>>26)|0,co&=67108863,nr=Math.imul(Fr,Nr),Lt=Math.imul(Fr,Gr),Lt=Lt+Math.imul(Tr,Nr)|0,or=Math.imul(Tr,Gr),nr=nr+Math.imul(Mr,Zr)|0,Lt=Lt+Math.imul(Mr,Cn)|0,Lt=Lt+Math.imul($r,Zr)|0,or=or+Math.imul($r,Cn)|0,nr=nr+Math.imul(pr,Hn)|0,Lt=Lt+Math.imul(pr,Kn)|0,Lt=Lt+Math.imul(_r,Hn)|0,or=or+Math.imul(_r,Kn)|0;var Eo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,nr=Math.imul(Er,Nr),Lt=Math.imul(Er,Gr),Lt=Lt+Math.imul(Or,Nr)|0,or=Math.imul(Or,Gr),nr=nr+Math.imul(Fr,Zr)|0,Lt=Lt+Math.imul(Fr,Cn)|0,Lt=Lt+Math.imul(Tr,Zr)|0,or=or+Math.imul(Tr,Cn)|0,nr=nr+Math.imul(Mr,Hn)|0,Lt=Lt+Math.imul(Mr,Kn)|0,Lt=Lt+Math.imul($r,Hn)|0,or=or+Math.imul($r,Kn)|0,nr=nr+Math.imul(pr,Jn)|0,Lt=Lt+Math.imul(pr,no)|0,Lt=Lt+Math.imul(_r,Jn)|0,or=or+Math.imul(_r,no)|0;var To=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(To>>>26)|0,To&=67108863,nr=Math.imul(qr,Nr),Lt=Math.imul(qr,Gr),Lt=Lt+Math.imul(Vr,Nr)|0,or=Math.imul(Vr,Gr),nr=nr+Math.imul(Er,Zr)|0,Lt=Lt+Math.imul(Er,Cn)|0,Lt=Lt+Math.imul(Or,Zr)|0,or=or+Math.imul(Or,Cn)|0,nr=nr+Math.imul(Fr,Hn)|0,Lt=Lt+Math.imul(Fr,Kn)|0,Lt=Lt+Math.imul(Tr,Hn)|0,or=or+Math.imul(Tr,Kn)|0,nr=nr+Math.imul(Mr,Jn)|0,Lt=Lt+Math.imul(Mr,no)|0,Lt=Lt+Math.imul($r,Jn)|0,or=or+Math.imul($r,no)|0,nr=nr+Math.imul(pr,eo)|0,Lt=Lt+Math.imul(pr,io)|0,Lt=Lt+Math.imul(_r,eo)|0,or=or+Math.imul(_r,io)|0;var Co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Co>>>26)|0,Co&=67108863,nr=Math.imul(Lr,Nr),Lt=Math.imul(Lr,Gr),Lt=Lt+Math.imul(Br,Nr)|0,or=Math.imul(Br,Gr),nr=nr+Math.imul(qr,Zr)|0,Lt=Lt+Math.imul(qr,Cn)|0,Lt=Lt+Math.imul(Vr,Zr)|0,or=or+Math.imul(Vr,Cn)|0,nr=nr+Math.imul(Er,Hn)|0,Lt=Lt+Math.imul(Er,Kn)|0,Lt=Lt+Math.imul(Or,Hn)|0,or=or+Math.imul(Or,Kn)|0,nr=nr+Math.imul(Fr,Jn)|0,Lt=Lt+Math.imul(Fr,no)|0,Lt=Lt+Math.imul(Tr,Jn)|0,or=or+Math.imul(Tr,no)|0,nr=nr+Math.imul(Mr,eo)|0,Lt=Lt+Math.imul(Mr,io)|0,Lt=Lt+Math.imul($r,eo)|0,or=or+Math.imul($r,io)|0,nr=nr+Math.imul(pr,_i)|0,Lt=Lt+Math.imul(pr,ro)|0,Lt=Lt+Math.imul(_r,_i)|0,or=or+Math.imul(_r,ro)|0;var Mo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,nr=Math.imul(zr,Nr),Lt=Math.imul(zr,Gr),Lt=Lt+Math.imul(Qr,Nr)|0,or=Math.imul(Qr,Gr),nr=nr+Math.imul(Lr,Zr)|0,Lt=Lt+Math.imul(Lr,Cn)|0,Lt=Lt+Math.imul(Br,Zr)|0,or=or+Math.imul(Br,Cn)|0,nr=nr+Math.imul(qr,Hn)|0,Lt=Lt+Math.imul(qr,Kn)|0,Lt=Lt+Math.imul(Vr,Hn)|0,or=or+Math.imul(Vr,Kn)|0,nr=nr+Math.imul(Er,Jn)|0,Lt=Lt+Math.imul(Er,no)|0,Lt=Lt+Math.imul(Or,Jn)|0,or=or+Math.imul(Or,no)|0,nr=nr+Math.imul(Fr,eo)|0,Lt=Lt+Math.imul(Fr,io)|0,Lt=Lt+Math.imul(Tr,eo)|0,or=or+Math.imul(Tr,io)|0,nr=nr+Math.imul(Mr,_i)|0,Lt=Lt+Math.imul(Mr,ro)|0,Lt=Lt+Math.imul($r,_i)|0,or=or+Math.imul($r,ro)|0,nr=nr+Math.imul(pr,Hr)|0,Lt=Lt+Math.imul(pr,Yr)|0,Lt=Lt+Math.imul(_r,Hr)|0,or=or+Math.imul(_r,Yr)|0;var No=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(No>>>26)|0,No&=67108863,nr=Math.imul(nn,Nr),Lt=Math.imul(nn,Gr),Lt=Lt+Math.imul($n,Nr)|0,or=Math.imul($n,Gr),nr=nr+Math.imul(zr,Zr)|0,Lt=Lt+Math.imul(zr,Cn)|0,Lt=Lt+Math.imul(Qr,Zr)|0,or=or+Math.imul(Qr,Cn)|0,nr=nr+Math.imul(Lr,Hn)|0,Lt=Lt+Math.imul(Lr,Kn)|0,Lt=Lt+Math.imul(Br,Hn)|0,or=or+Math.imul(Br,Kn)|0,nr=nr+Math.imul(qr,Jn)|0,Lt=Lt+Math.imul(qr,no)|0,Lt=Lt+Math.imul(Vr,Jn)|0,or=or+Math.imul(Vr,no)|0,nr=nr+Math.imul(Er,eo)|0,Lt=Lt+Math.imul(Er,io)|0,Lt=Lt+Math.imul(Or,eo)|0,or=or+Math.imul(Or,io)|0,nr=nr+Math.imul(Fr,_i)|0,Lt=Lt+Math.imul(Fr,ro)|0,Lt=Lt+Math.imul(Tr,_i)|0,or=or+Math.imul(Tr,ro)|0,nr=nr+Math.imul(Mr,Hr)|0,Lt=Lt+Math.imul(Mr,Yr)|0,Lt=Lt+Math.imul($r,Hr)|0,or=or+Math.imul($r,Yr)|0,nr=nr+Math.imul(pr,rn)|0,Lt=Lt+Math.imul(pr,dn)|0,Lt=Lt+Math.imul(_r,rn)|0,or=or+Math.imul(_r,dn)|0;var zo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(zo>>>26)|0,zo&=67108863,nr=Math.imul(sn,Nr),Lt=Math.imul(sn,Gr),Lt=Lt+Math.imul(Nn,Nr)|0,or=Math.imul(Nn,Gr),nr=nr+Math.imul(nn,Zr)|0,Lt=Lt+Math.imul(nn,Cn)|0,Lt=Lt+Math.imul($n,Zr)|0,or=or+Math.imul($n,Cn)|0,nr=nr+Math.imul(zr,Hn)|0,Lt=Lt+Math.imul(zr,Kn)|0,Lt=Lt+Math.imul(Qr,Hn)|0,or=or+Math.imul(Qr,Kn)|0,nr=nr+Math.imul(Lr,Jn)|0,Lt=Lt+Math.imul(Lr,no)|0,Lt=Lt+Math.imul(Br,Jn)|0,or=or+Math.imul(Br,no)|0,nr=nr+Math.imul(qr,eo)|0,Lt=Lt+Math.imul(qr,io)|0,Lt=Lt+Math.imul(Vr,eo)|0,or=or+Math.imul(Vr,io)|0,nr=nr+Math.imul(Er,_i)|0,Lt=Lt+Math.imul(Er,ro)|0,Lt=Lt+Math.imul(Or,_i)|0,or=or+Math.imul(Or,ro)|0,nr=nr+Math.imul(Fr,Hr)|0,Lt=Lt+Math.imul(Fr,Yr)|0,Lt=Lt+Math.imul(Tr,Hr)|0,or=or+Math.imul(Tr,Yr)|0,nr=nr+Math.imul(Mr,rn)|0,Lt=Lt+Math.imul(Mr,dn)|0,Lt=Lt+Math.imul($r,rn)|0,or=or+Math.imul($r,dn)|0,nr=nr+Math.imul(pr,Ln)|0,Lt=Lt+Math.imul(pr,Vn)|0,Lt=Lt+Math.imul(_r,Ln)|0,or=or+Math.imul(_r,Vn)|0;var Bo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,nr=Math.imul(Ir,Nr),Lt=Math.imul(Ir,Gr),Lt=Lt+Math.imul(Ar,Nr)|0,or=Math.imul(Ar,Gr),nr=nr+Math.imul(sn,Zr)|0,Lt=Lt+Math.imul(sn,Cn)|0,Lt=Lt+Math.imul(Nn,Zr)|0,or=or+Math.imul(Nn,Cn)|0,nr=nr+Math.imul(nn,Hn)|0,Lt=Lt+Math.imul(nn,Kn)|0,Lt=Lt+Math.imul($n,Hn)|0,or=or+Math.imul($n,Kn)|0,nr=nr+Math.imul(zr,Jn)|0,Lt=Lt+Math.imul(zr,no)|0,Lt=Lt+Math.imul(Qr,Jn)|0,or=or+Math.imul(Qr,no)|0,nr=nr+Math.imul(Lr,eo)|0,Lt=Lt+Math.imul(Lr,io)|0,Lt=Lt+Math.imul(Br,eo)|0,or=or+Math.imul(Br,io)|0,nr=nr+Math.imul(qr,_i)|0,Lt=Lt+Math.imul(qr,ro)|0,Lt=Lt+Math.imul(Vr,_i)|0,or=or+Math.imul(Vr,ro)|0,nr=nr+Math.imul(Er,Hr)|0,Lt=Lt+Math.imul(Er,Yr)|0,Lt=Lt+Math.imul(Or,Hr)|0,or=or+Math.imul(Or,Yr)|0,nr=nr+Math.imul(Fr,rn)|0,Lt=Lt+Math.imul(Fr,dn)|0,Lt=Lt+Math.imul(Tr,rn)|0,or=or+Math.imul(Tr,dn)|0,nr=nr+Math.imul(Mr,Ln)|0,Lt=Lt+Math.imul(Mr,Vn)|0,Lt=Lt+Math.imul($r,Ln)|0,or=or+Math.imul($r,Vn)|0,nr=nr+Math.imul(pr,pn)|0,Lt=Lt+Math.imul(pr,zn)|0,Lt=Lt+Math.imul(_r,pn)|0,or=or+Math.imul(_r,zn)|0;var Po=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Po>>>26)|0,Po&=67108863,nr=Math.imul(Ir,Zr),Lt=Math.imul(Ir,Cn),Lt=Lt+Math.imul(Ar,Zr)|0,or=Math.imul(Ar,Cn),nr=nr+Math.imul(sn,Hn)|0,Lt=Lt+Math.imul(sn,Kn)|0,Lt=Lt+Math.imul(Nn,Hn)|0,or=or+Math.imul(Nn,Kn)|0,nr=nr+Math.imul(nn,Jn)|0,Lt=Lt+Math.imul(nn,no)|0,Lt=Lt+Math.imul($n,Jn)|0,or=or+Math.imul($n,no)|0,nr=nr+Math.imul(zr,eo)|0,Lt=Lt+Math.imul(zr,io)|0,Lt=Lt+Math.imul(Qr,eo)|0,or=or+Math.imul(Qr,io)|0,nr=nr+Math.imul(Lr,_i)|0,Lt=Lt+Math.imul(Lr,ro)|0,Lt=Lt+Math.imul(Br,_i)|0,or=or+Math.imul(Br,ro)|0,nr=nr+Math.imul(qr,Hr)|0,Lt=Lt+Math.imul(qr,Yr)|0,Lt=Lt+Math.imul(Vr,Hr)|0,or=or+Math.imul(Vr,Yr)|0,nr=nr+Math.imul(Er,rn)|0,Lt=Lt+Math.imul(Er,dn)|0,Lt=Lt+Math.imul(Or,rn)|0,or=or+Math.imul(Or,dn)|0,nr=nr+Math.imul(Fr,Ln)|0,Lt=Lt+Math.imul(Fr,Vn)|0,Lt=Lt+Math.imul(Tr,Ln)|0,or=or+Math.imul(Tr,Vn)|0,nr=nr+Math.imul(Mr,pn)|0,Lt=Lt+Math.imul(Mr,zn)|0,Lt=Lt+Math.imul($r,pn)|0,or=or+Math.imul($r,zn)|0;var Wo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,nr=Math.imul(Ir,Hn),Lt=Math.imul(Ir,Kn),Lt=Lt+Math.imul(Ar,Hn)|0,or=Math.imul(Ar,Kn),nr=nr+Math.imul(sn,Jn)|0,Lt=Lt+Math.imul(sn,no)|0,Lt=Lt+Math.imul(Nn,Jn)|0,or=or+Math.imul(Nn,no)|0,nr=nr+Math.imul(nn,eo)|0,Lt=Lt+Math.imul(nn,io)|0,Lt=Lt+Math.imul($n,eo)|0,or=or+Math.imul($n,io)|0,nr=nr+Math.imul(zr,_i)|0,Lt=Lt+Math.imul(zr,ro)|0,Lt=Lt+Math.imul(Qr,_i)|0,or=or+Math.imul(Qr,ro)|0,nr=nr+Math.imul(Lr,Hr)|0,Lt=Lt+Math.imul(Lr,Yr)|0,Lt=Lt+Math.imul(Br,Hr)|0,or=or+Math.imul(Br,Yr)|0,nr=nr+Math.imul(qr,rn)|0,Lt=Lt+Math.imul(qr,dn)|0,Lt=Lt+Math.imul(Vr,rn)|0,or=or+Math.imul(Vr,dn)|0,nr=nr+Math.imul(Er,Ln)|0,Lt=Lt+Math.imul(Er,Vn)|0,Lt=Lt+Math.imul(Or,Ln)|0,or=or+Math.imul(Or,Vn)|0,nr=nr+Math.imul(Fr,pn)|0,Lt=Lt+Math.imul(Fr,zn)|0,Lt=Lt+Math.imul(Tr,pn)|0,or=or+Math.imul(Tr,zn)|0;var Fo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,nr=Math.imul(Ir,Jn),Lt=Math.imul(Ir,no),Lt=Lt+Math.imul(Ar,Jn)|0,or=Math.imul(Ar,no),nr=nr+Math.imul(sn,eo)|0,Lt=Lt+Math.imul(sn,io)|0,Lt=Lt+Math.imul(Nn,eo)|0,or=or+Math.imul(Nn,io)|0,nr=nr+Math.imul(nn,_i)|0,Lt=Lt+Math.imul(nn,ro)|0,Lt=Lt+Math.imul($n,_i)|0,or=or+Math.imul($n,ro)|0,nr=nr+Math.imul(zr,Hr)|0,Lt=Lt+Math.imul(zr,Yr)|0,Lt=Lt+Math.imul(Qr,Hr)|0,or=or+Math.imul(Qr,Yr)|0,nr=nr+Math.imul(Lr,rn)|0,Lt=Lt+Math.imul(Lr,dn)|0,Lt=Lt+Math.imul(Br,rn)|0,or=or+Math.imul(Br,dn)|0,nr=nr+Math.imul(qr,Ln)|0,Lt=Lt+Math.imul(qr,Vn)|0,Lt=Lt+Math.imul(Vr,Ln)|0,or=or+Math.imul(Vr,Vn)|0,nr=nr+Math.imul(Er,pn)|0,Lt=Lt+Math.imul(Er,zn)|0,Lt=Lt+Math.imul(Or,pn)|0,or=or+Math.imul(Or,zn)|0;var jo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(jo>>>26)|0,jo&=67108863,nr=Math.imul(Ir,eo),Lt=Math.imul(Ir,io),Lt=Lt+Math.imul(Ar,eo)|0,or=Math.imul(Ar,io),nr=nr+Math.imul(sn,_i)|0,Lt=Lt+Math.imul(sn,ro)|0,Lt=Lt+Math.imul(Nn,_i)|0,or=or+Math.imul(Nn,ro)|0,nr=nr+Math.imul(nn,Hr)|0,Lt=Lt+Math.imul(nn,Yr)|0,Lt=Lt+Math.imul($n,Hr)|0,or=or+Math.imul($n,Yr)|0,nr=nr+Math.imul(zr,rn)|0,Lt=Lt+Math.imul(zr,dn)|0,Lt=Lt+Math.imul(Qr,rn)|0,or=or+Math.imul(Qr,dn)|0,nr=nr+Math.imul(Lr,Ln)|0,Lt=Lt+Math.imul(Lr,Vn)|0,Lt=Lt+Math.imul(Br,Ln)|0,or=or+Math.imul(Br,Vn)|0,nr=nr+Math.imul(qr,pn)|0,Lt=Lt+Math.imul(qr,zn)|0,Lt=Lt+Math.imul(Vr,pn)|0,or=or+Math.imul(Vr,zn)|0;var Uo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,nr=Math.imul(Ir,_i),Lt=Math.imul(Ir,ro),Lt=Lt+Math.imul(Ar,_i)|0,or=Math.imul(Ar,ro),nr=nr+Math.imul(sn,Hr)|0,Lt=Lt+Math.imul(sn,Yr)|0,Lt=Lt+Math.imul(Nn,Hr)|0,or=or+Math.imul(Nn,Yr)|0,nr=nr+Math.imul(nn,rn)|0,Lt=Lt+Math.imul(nn,dn)|0,Lt=Lt+Math.imul($n,rn)|0,or=or+Math.imul($n,dn)|0,nr=nr+Math.imul(zr,Ln)|0,Lt=Lt+Math.imul(zr,Vn)|0,Lt=Lt+Math.imul(Qr,Ln)|0,or=or+Math.imul(Qr,Vn)|0,nr=nr+Math.imul(Lr,pn)|0,Lt=Lt+Math.imul(Lr,zn)|0,Lt=Lt+Math.imul(Br,pn)|0,or=or+Math.imul(Br,zn)|0;var Vo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,nr=Math.imul(Ir,Hr),Lt=Math.imul(Ir,Yr),Lt=Lt+Math.imul(Ar,Hr)|0,or=Math.imul(Ar,Yr),nr=nr+Math.imul(sn,rn)|0,Lt=Lt+Math.imul(sn,dn)|0,Lt=Lt+Math.imul(Nn,rn)|0,or=or+Math.imul(Nn,dn)|0,nr=nr+Math.imul(nn,Ln)|0,Lt=Lt+Math.imul(nn,Vn)|0,Lt=Lt+Math.imul($n,Ln)|0,or=or+Math.imul($n,Vn)|0,nr=nr+Math.imul(zr,pn)|0,Lt=Lt+Math.imul(zr,zn)|0,Lt=Lt+Math.imul(Qr,pn)|0,or=or+Math.imul(Qr,zn)|0;var $o=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+($o>>>26)|0,$o&=67108863,nr=Math.imul(Ir,rn),Lt=Math.imul(Ir,dn),Lt=Lt+Math.imul(Ar,rn)|0,or=Math.imul(Ar,dn),nr=nr+Math.imul(sn,Ln)|0,Lt=Lt+Math.imul(sn,Vn)|0,Lt=Lt+Math.imul(Nn,Ln)|0,or=or+Math.imul(Nn,Vn)|0,nr=nr+Math.imul(nn,pn)|0,Lt=Lt+Math.imul(nn,zn)|0,Lt=Lt+Math.imul($n,pn)|0,or=or+Math.imul($n,zn)|0;var ko=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(ko>>>26)|0,ko&=67108863,nr=Math.imul(Ir,Ln),Lt=Math.imul(Ir,Vn),Lt=Lt+Math.imul(Ar,Ln)|0,or=Math.imul(Ar,Vn),nr=nr+Math.imul(sn,pn)|0,Lt=Lt+Math.imul(sn,zn)|0,Lt=Lt+Math.imul(Nn,pn)|0,or=or+Math.imul(Nn,zn)|0;var Lo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,nr=Math.imul(Ir,pn),Lt=Math.imul(Ir,zn),Lt=Lt+Math.imul(Ar,pn)|0,or=Math.imul(Ar,zn);var Ho=(lr+nr|0)+((Lt&8191)<<13)|0;return lr=(or+(Lt>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ar[0]=go,ar[1]=co,ar[2]=Eo,ar[3]=To,ar[4]=Co,ar[5]=Mo,ar[6]=No,ar[7]=zo,ar[8]=Bo,ar[9]=Po,ar[10]=Wo,ar[11]=Fo,ar[12]=jo,ar[13]=Uo,ar[14]=Vo,ar[15]=$o,ar[16]=ko,ar[17]=Lo,ar[18]=Ho,lr!==0&&(ar[19]=lr,er.length++),er};Math.imul||(sr=ir);function ur(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative,Vt.length=cr.length+Nt.length;for(var er=0,Yt=0,rr=0;rr<Vt.length-1;rr++){var ar=Yt;Yt=0;for(var lr=er&67108863,nr=Math.min(rr,Nt.length-1),Lt=Math.max(0,rr-cr.length+1);Lt<=nr;Lt++){var or=rr-Lt,gr=cr.words[or]|0,pr=Nt.words[Lt]|0,_r=gr*pr,kr=_r&67108863;ar=ar+(_r/67108864|0)|0,kr=kr+lr|0,lr=kr&67108863,ar=ar+(kr>>>26)|0,Yt+=ar>>>26,ar&=67108863}Vt.words[rr]=lr,er=ar,ar=Yt}return er!==0?Vt.words[rr]=er:Vt.length--,Vt.strip()}function fr(cr,Nt,Vt){var er=new dr;return er.mulp(cr,Nt,Vt)}mt.prototype.mulTo=function(Nt,Vt){var er,Yt=this.length+Nt.length;return this.length===10&&Nt.length===10?er=sr(this,Nt,Vt):Yt<63?er=ir(this,Nt,Vt):Yt<1024?er=ur(this,Nt,Vt):er=fr(this,Nt,Vt),er};function dr(cr,Nt){this.x=cr,this.y=Nt}dr.prototype.makeRBT=function(Nt){for(var Vt=new Array(Nt),er=mt.prototype._countBits(Nt)-1,Yt=0;Yt<Nt;Yt++)Vt[Yt]=this.revBin(Yt,er,Nt);return Vt},dr.prototype.revBin=function(Nt,Vt,er){if(Nt===0||Nt===er-1)return Nt;for(var Yt=0,rr=0;rr<Vt;rr++)Yt|=(Nt&1)<<Vt-rr-1,Nt>>=1;return Yt},dr.prototype.permute=function(Nt,Vt,er,Yt,rr,ar){for(var lr=0;lr<ar;lr++)Yt[lr]=Vt[Nt[lr]],rr[lr]=er[Nt[lr]]},dr.prototype.transform=function(Nt,Vt,er,Yt,rr,ar){this.permute(ar,Nt,Vt,er,Yt,rr);for(var lr=1;lr<rr;lr<<=1)for(var nr=lr<<1,Lt=Math.cos(2*Math.PI/nr),or=Math.sin(2*Math.PI/nr),gr=0;gr<rr;gr+=nr)for(var pr=Lt,_r=or,kr=0;kr<lr;kr++){var Mr=er[gr+kr],$r=Yt[gr+kr],Pr=er[gr+kr+lr],Fr=Yt[gr+kr+lr],Tr=pr*Pr-_r*Fr;Fr=pr*Fr+_r*Pr,Pr=Tr,er[gr+kr]=Mr+Pr,Yt[gr+kr]=$r+Fr,er[gr+kr+lr]=Mr-Pr,Yt[gr+kr+lr]=$r-Fr,kr!==nr&&(Tr=Lt*pr-or*_r,_r=Lt*_r+or*pr,pr=Tr)}},dr.prototype.guessLen13b=function(Nt,Vt){var er=Math.max(Vt,Nt)|1,Yt=er&1,rr=0;for(er=er/2|0;er;er=er>>>1)rr++;return 1<<rr+1+Yt},dr.prototype.conjugate=function(Nt,Vt,er){if(!(er<=1))for(var Yt=0;Yt<er/2;Yt++){var rr=Nt[Yt];Nt[Yt]=Nt[er-Yt-1],Nt[er-Yt-1]=rr,rr=Vt[Yt],Vt[Yt]=-Vt[er-Yt-1],Vt[er-Yt-1]=-rr}},dr.prototype.normalize13b=function(Nt,Vt){for(var er=0,Yt=0;Yt<Vt/2;Yt++){var rr=Math.round(Nt[2*Yt+1]/Vt)*8192+Math.round(Nt[2*Yt]/Vt)+er;Nt[Yt]=rr&67108863,rr<67108864?er=0:er=rr/67108864|0}return Nt},dr.prototype.convert13b=function(Nt,Vt,er,Yt){for(var rr=0,ar=0;ar<Vt;ar++)rr=rr+(Nt[ar]|0),er[2*ar]=rr&8191,rr=rr>>>13,er[2*ar+1]=rr&8191,rr=rr>>>13;for(ar=2*Vt;ar<Yt;++ar)er[ar]=0;nt(rr===0),nt((rr&-8192)===0)},dr.prototype.stub=function(Nt){for(var Vt=new Array(Nt),er=0;er<Nt;er++)Vt[er]=0;return Vt},dr.prototype.mulp=function(Nt,Vt,er){var Yt=2*this.guessLen13b(Nt.length,Vt.length),rr=this.makeRBT(Yt),ar=this.stub(Yt),lr=new Array(Yt),nr=new Array(Yt),Lt=new Array(Yt),or=new Array(Yt),gr=new Array(Yt),pr=new Array(Yt),_r=er.words;_r.length=Yt,this.convert13b(Nt.words,Nt.length,lr,Yt),this.convert13b(Vt.words,Vt.length,or,Yt),this.transform(lr,ar,nr,Lt,Yt,rr),this.transform(or,ar,gr,pr,Yt,rr);for(var kr=0;kr<Yt;kr++){var Mr=nr[kr]*gr[kr]-Lt[kr]*pr[kr];Lt[kr]=nr[kr]*pr[kr]+Lt[kr]*gr[kr],nr[kr]=Mr}return this.conjugate(nr,Lt,Yt),this.transform(nr,Lt,_r,ar,Yt,rr),this.conjugate(_r,ar,Yt),this.normalize13b(_r,Yt),er.negative=Nt.negative^Vt.negative,er.length=Nt.length+Vt.length,er.strip()},mt.prototype.mul=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),this.mulTo(Nt,Vt)},mt.prototype.mulf=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),fr(this,Nt,Vt)},mt.prototype.imul=function(Nt){return this.clone().mulTo(Nt,this)},mt.prototype.imuln=function(Nt){nt(typeof Nt=="number"),nt(Nt<67108864);for(var Vt=0,er=0;er<this.length;er++){var Yt=(this.words[er]|0)*Nt,rr=(Yt&67108863)+(Vt&67108863);Vt>>=26,Vt+=Yt/67108864|0,Vt+=rr>>>26,this.words[er]=rr&67108863}return Vt!==0&&(this.words[er]=Vt,this.length++),this},mt.prototype.muln=function(Nt){return this.clone().imuln(Nt)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(Nt){var Vt=tr(Nt);if(Vt.length===0)return new mt(1);for(var er=this,Yt=0;Yt<Vt.length&&Vt[Yt]===0;Yt++,er=er.sqr());if(++Yt<Vt.length)for(var rr=er.sqr();Yt<Vt.length;Yt++,rr=rr.sqr())Vt[Yt]!==0&&(er=er.mul(rr));return er},mt.prototype.iushln=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=67108863>>>26-Vt<<26-Vt,rr;if(Vt!==0){var ar=0;for(rr=0;rr<this.length;rr++){var lr=this.words[rr]&Yt,nr=(this.words[rr]|0)-lr<<Vt;this.words[rr]=nr|ar,ar=lr>>>26-Vt}ar&&(this.words[rr]=ar,this.length++)}if(er!==0){for(rr=this.length-1;rr>=0;rr--)this.words[rr+er]=this.words[rr];for(rr=0;rr<er;rr++)this.words[rr]=0;this.length+=er}return this.strip()},mt.prototype.ishln=function(Nt){return nt(this.negative===0),this.iushln(Nt)},mt.prototype.iushrn=function(Nt,Vt,er){nt(typeof Nt=="number"&&Nt>=0);var Yt;Vt?Yt=(Vt-Vt%26)/26:Yt=0;var rr=Nt%26,ar=Math.min((Nt-rr)/26,this.length),lr=67108863^67108863>>>rr<<rr,nr=er;if(Yt-=ar,Yt=Math.max(0,Yt),nr){for(var Lt=0;Lt<ar;Lt++)nr.words[Lt]=this.words[Lt];nr.length=ar}if(ar!==0)if(this.length>ar)for(this.length-=ar,Lt=0;Lt<this.length;Lt++)this.words[Lt]=this.words[Lt+ar];else this.words[0]=0,this.length=1;var or=0;for(Lt=this.length-1;Lt>=0&&(or!==0||Lt>=Yt);Lt--){var gr=this.words[Lt]|0;this.words[Lt]=or<<26-rr|gr>>>rr,or=gr&lr}return nr&&or!==0&&(nr.words[nr.length++]=or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},mt.prototype.ishrn=function(Nt,Vt,er){return nt(this.negative===0),this.iushrn(Nt,Vt,er)},mt.prototype.shln=function(Nt){return this.clone().ishln(Nt)},mt.prototype.ushln=function(Nt){return this.clone().iushln(Nt)},mt.prototype.shrn=function(Nt){return this.clone().ishrn(Nt)},mt.prototype.ushrn=function(Nt){return this.clone().iushrn(Nt)},mt.prototype.testn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return!1;var rr=this.words[er];return!!(rr&Yt)},mt.prototype.imaskn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=er)return this;if(Vt!==0&&er++,this.length=Math.min(er,this.length),Vt!==0){var Yt=67108863^67108863>>>Vt<<Vt;this.words[this.length-1]&=Yt}return this.strip()},mt.prototype.maskn=function(Nt){return this.clone().imaskn(Nt)},mt.prototype.iaddn=function(Nt){return nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0?this.isubn(-Nt):this.negative!==0?this.length===1&&(this.words[0]|0)<Nt?(this.words[0]=Nt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Nt),this.negative=1,this):this._iaddn(Nt)},mt.prototype._iaddn=function(Nt){this.words[0]+=Nt;for(var Vt=0;Vt<this.length&&this.words[Vt]>=67108864;Vt++)this.words[Vt]-=67108864,Vt===this.length-1?this.words[Vt+1]=1:this.words[Vt+1]++;return this.length=Math.max(this.length,Vt+1),this},mt.prototype.isubn=function(Nt){if(nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0)return this.iaddn(-Nt);if(this.negative!==0)return this.negative=0,this.iaddn(Nt),this.negative=1,this;if(this.words[0]-=Nt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Vt=0;Vt<this.length&&this.words[Vt]<0;Vt++)this.words[Vt]+=67108864,this.words[Vt+1]-=1;return this.strip()},mt.prototype.addn=function(Nt){return this.clone().iaddn(Nt)},mt.prototype.subn=function(Nt){return this.clone().isubn(Nt)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(Nt,Vt,er){var Yt=Nt.length+er,rr;this._expand(Yt);var ar,lr=0;for(rr=0;rr<Nt.length;rr++){ar=(this.words[rr+er]|0)+lr;var nr=(Nt.words[rr]|0)*Vt;ar-=nr&67108863,lr=(ar>>26)-(nr/67108864|0),this.words[rr+er]=ar&67108863}for(;rr<this.length-er;rr++)ar=(this.words[rr+er]|0)+lr,lr=ar>>26,this.words[rr+er]=ar&67108863;if(lr===0)return this.strip();for(nt(lr===-1),lr=0,rr=0;rr<this.length;rr++)ar=-(this.words[rr]|0)+lr,lr=ar>>26,this.words[rr]=ar&67108863;return this.negative=1,this.strip()},mt.prototype._wordDiv=function(Nt,Vt){var er=this.length-Nt.length,Yt=this.clone(),rr=Nt,ar=rr.words[rr.length-1]|0,lr=this._countBits(ar);er=26-lr,er!==0&&(rr=rr.ushln(er),Yt.iushln(er),ar=rr.words[rr.length-1]|0);var nr=Yt.length-rr.length,Lt;if(Vt!=="mod"){Lt=new mt(null),Lt.length=nr+1,Lt.words=new Array(Lt.length);for(var or=0;or<Lt.length;or++)Lt.words[or]=0}var gr=Yt.clone()._ishlnsubmul(rr,1,nr);gr.negative===0&&(Yt=gr,Lt&&(Lt.words[nr]=1));for(var pr=nr-1;pr>=0;pr--){var _r=(Yt.words[rr.length+pr]|0)*67108864+(Yt.words[rr.length+pr-1]|0);for(_r=Math.min(_r/ar|0,67108863),Yt._ishlnsubmul(rr,_r,pr);Yt.negative!==0;)_r--,Yt.negative=0,Yt._ishlnsubmul(rr,1,pr),Yt.isZero()||(Yt.negative^=1);Lt&&(Lt.words[pr]=_r)}return Lt&&Lt.strip(),Yt.strip(),Vt!=="div"&&er!==0&&Yt.iushrn(er),{div:Lt||null,mod:Yt}},mt.prototype.divmod=function(Nt,Vt,er){if(nt(!Nt.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var Yt,rr,ar;return this.negative!==0&&Nt.negative===0?(ar=this.neg().divmod(Nt,Vt),Vt!=="mod"&&(Yt=ar.div.neg()),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.iadd(Nt)),{div:Yt,mod:rr}):this.negative===0&&Nt.negative!==0?(ar=this.divmod(Nt.neg(),Vt),Vt!=="mod"&&(Yt=ar.div.neg()),{div:Yt,mod:ar.mod}):this.negative&Nt.negative?(ar=this.neg().divmod(Nt.neg(),Vt),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.isub(Nt)),{div:ar.div,mod:rr}):Nt.length>this.length||this.cmp(Nt)<0?{div:new mt(0),mod:this}:Nt.length===1?Vt==="div"?{div:this.divn(Nt.words[0]),mod:null}:Vt==="mod"?{div:null,mod:new mt(this.modn(Nt.words[0]))}:{div:this.divn(Nt.words[0]),mod:new mt(this.modn(Nt.words[0]))}:this._wordDiv(Nt,Vt)},mt.prototype.div=function(Nt){return this.divmod(Nt,"div",!1).div},mt.prototype.mod=function(Nt){return this.divmod(Nt,"mod",!1).mod},mt.prototype.umod=function(Nt){return this.divmod(Nt,"mod",!0).mod},mt.prototype.divRound=function(Nt){var Vt=this.divmod(Nt);if(Vt.mod.isZero())return Vt.div;var er=Vt.div.negative!==0?Vt.mod.isub(Nt):Vt.mod,Yt=Nt.ushrn(1),rr=Nt.andln(1),ar=er.cmp(Yt);return ar<0||rr===1&&ar===0?Vt.div:Vt.div.negative!==0?Vt.div.isubn(1):Vt.div.iaddn(1)},mt.prototype.modn=function(Nt){nt(Nt<=67108863);for(var Vt=(1<<26)%Nt,er=0,Yt=this.length-1;Yt>=0;Yt--)er=(Vt*er+(this.words[Yt]|0))%Nt;return er},mt.prototype.idivn=function(Nt){nt(Nt<=67108863);for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=(this.words[er]|0)+Vt*67108864;this.words[er]=Yt/Nt|0,Vt=Yt%Nt}return this.strip()},mt.prototype.divn=function(Nt){return this.clone().idivn(Nt)},mt.prototype.egcd=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=new mt(0),lr=new mt(1),nr=0;Vt.isEven()&&er.isEven();)Vt.iushrn(1),er.iushrn(1),++nr;for(var Lt=er.clone(),or=Vt.clone();!Vt.isZero();){for(var gr=0,pr=1;!(Vt.words[0]&pr)&&gr<26;++gr,pr<<=1);if(gr>0)for(Vt.iushrn(gr);gr-- >0;)(Yt.isOdd()||rr.isOdd())&&(Yt.iadd(Lt),rr.isub(or)),Yt.iushrn(1),rr.iushrn(1);for(var _r=0,kr=1;!(er.words[0]&kr)&&_r<26;++_r,kr<<=1);if(_r>0)for(er.iushrn(_r);_r-- >0;)(ar.isOdd()||lr.isOdd())&&(ar.iadd(Lt),lr.isub(or)),ar.iushrn(1),lr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(ar),rr.isub(lr)):(er.isub(Vt),ar.isub(Yt),lr.isub(rr))}return{a:ar,b:lr,gcd:er.iushln(nr)}},mt.prototype._invmp=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=er.clone();Vt.cmpn(1)>0&&er.cmpn(1)>0;){for(var lr=0,nr=1;!(Vt.words[0]&nr)&&lr<26;++lr,nr<<=1);if(lr>0)for(Vt.iushrn(lr);lr-- >0;)Yt.isOdd()&&Yt.iadd(ar),Yt.iushrn(1);for(var Lt=0,or=1;!(er.words[0]&or)&&Lt<26;++Lt,or<<=1);if(Lt>0)for(er.iushrn(Lt);Lt-- >0;)rr.isOdd()&&rr.iadd(ar),rr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(rr)):(er.isub(Vt),rr.isub(Yt))}var gr;return Vt.cmpn(1)===0?gr=Yt:gr=rr,gr.cmpn(0)<0&&gr.iadd(Nt),gr},mt.prototype.gcd=function(Nt){if(this.isZero())return Nt.abs();if(Nt.isZero())return this.abs();var Vt=this.clone(),er=Nt.clone();Vt.negative=0,er.negative=0;for(var Yt=0;Vt.isEven()&&er.isEven();Yt++)Vt.iushrn(1),er.iushrn(1);do{for(;Vt.isEven();)Vt.iushrn(1);for(;er.isEven();)er.iushrn(1);var rr=Vt.cmp(er);if(rr<0){var ar=Vt;Vt=er,er=ar}else if(rr===0||er.cmpn(1)===0)break;Vt.isub(er)}while(!0);return er.iushln(Yt)},mt.prototype.invm=function(Nt){return this.egcd(Nt).a.umod(Nt)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(Nt){return this.words[0]&Nt},mt.prototype.bincn=function(Nt){nt(typeof Nt=="number");var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return this._expand(er+1),this.words[er]|=Yt,this;for(var rr=Yt,ar=er;rr!==0&&ar<this.length;ar++){var lr=this.words[ar]|0;lr+=rr,rr=lr>>>26,lr&=67108863,this.words[ar]=lr}return rr!==0&&(this.words[ar]=rr,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(Nt){var Vt=Nt<0;if(this.negative!==0&&!Vt)return-1;if(this.negative===0&&Vt)return 1;this.strip();var er;if(this.length>1)er=1;else{Vt&&(Nt=-Nt),nt(Nt<=67108863,"Number is too big");var Yt=this.words[0]|0;er=Yt===Nt?0:Yt<Nt?-1:1}return this.negative!==0?-er|0:er},mt.prototype.cmp=function(Nt){if(this.negative!==0&&Nt.negative===0)return-1;if(this.negative===0&&Nt.negative!==0)return 1;var Vt=this.ucmp(Nt);return this.negative!==0?-Vt|0:Vt},mt.prototype.ucmp=function(Nt){if(this.length>Nt.length)return 1;if(this.length<Nt.length)return-1;for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=this.words[er]|0,rr=Nt.words[er]|0;if(Yt!==rr){Yt<rr?Vt=-1:Yt>rr&&(Vt=1);break}}return Vt},mt.prototype.gtn=function(Nt){return this.cmpn(Nt)===1},mt.prototype.gt=function(Nt){return this.cmp(Nt)===1},mt.prototype.gten=function(Nt){return this.cmpn(Nt)>=0},mt.prototype.gte=function(Nt){return this.cmp(Nt)>=0},mt.prototype.ltn=function(Nt){return this.cmpn(Nt)===-1},mt.prototype.lt=function(Nt){return this.cmp(Nt)===-1},mt.prototype.lten=function(Nt){return this.cmpn(Nt)<=0},mt.prototype.lte=function(Nt){return this.cmp(Nt)<=0},mt.prototype.eqn=function(Nt){return this.cmpn(Nt)===0},mt.prototype.eq=function(Nt){return this.cmp(Nt)===0},mt.red=function(Nt){return new Sr(Nt)},mt.prototype.toRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),Nt.convertTo(this)._forceRed(Nt)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(Nt){return this.red=Nt,this},mt.prototype.forceRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(Nt)},mt.prototype.redAdd=function(Nt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,Nt)},mt.prototype.redIAdd=function(Nt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Nt)},mt.prototype.redSub=function(Nt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,Nt)},mt.prototype.redISub=function(Nt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,Nt)},mt.prototype.redShl=function(Nt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,Nt)},mt.prototype.redMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.mul(this,Nt)},mt.prototype.redIMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.imul(this,Nt)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(Nt){return nt(this.red&&!Nt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Nt)};var hr={k256:null,p224:null,p192:null,p25519:null};function vr(cr,Nt){this.name=cr,this.p=new mt(Nt,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vr.prototype._tmp=function(){var Nt=new mt(null);return Nt.words=new Array(Math.ceil(this.n/13)),Nt},vr.prototype.ireduce=function(Nt){var Vt=Nt,er;do this.split(Vt,this.tmp),Vt=this.imulK(Vt),Vt=Vt.iadd(this.tmp),er=Vt.bitLength();while(er>this.n);var Yt=er<this.n?-1:Vt.ucmp(this.p);return Yt===0?(Vt.words[0]=0,Vt.length=1):Yt>0?Vt.isub(this.p):Vt.strip!==void 0?Vt.strip():Vt._strip(),Vt},vr.prototype.split=function(Nt,Vt){Nt.iushrn(this.n,0,Vt)},vr.prototype.imulK=function(Nt){return Nt.imul(this.k)};function yr(){vr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(yr,vr),yr.prototype.split=function(Nt,Vt){for(var er=4194303,Yt=Math.min(Nt.length,9),rr=0;rr<Yt;rr++)Vt.words[rr]=Nt.words[rr];if(Vt.length=Yt,Nt.length<=9){Nt.words[0]=0,Nt.length=1;return}var ar=Nt.words[9];for(Vt.words[Vt.length++]=ar&er,rr=10;rr<Nt.length;rr++){var lr=Nt.words[rr]|0;Nt.words[rr-10]=(lr&er)<<4|ar>>>22,ar=lr}ar>>>=22,Nt.words[rr-10]=ar,ar===0&&Nt.length>10?Nt.length-=10:Nt.length-=9},yr.prototype.imulK=function(Nt){Nt.words[Nt.length]=0,Nt.words[Nt.length+1]=0,Nt.length+=2;for(var Vt=0,er=0;er<Nt.length;er++){var Yt=Nt.words[er]|0;Vt+=Yt*977,Nt.words[er]=Vt&67108863,Vt=Yt*64+(Vt/67108864|0)}return Nt.words[Nt.length-1]===0&&(Nt.length--,Nt.words[Nt.length-1]===0&&Nt.length--),Nt};function xr(){vr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(xr,vr);function br(){vr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(br,vr);function wr(){vr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(wr,vr),wr.prototype.imulK=function(Nt){for(var Vt=0,er=0;er<Nt.length;er++){var Yt=(Nt.words[er]|0)*19+Vt,rr=Yt&67108863;Yt>>>=26,Nt.words[er]=rr,Vt=Yt}return Vt!==0&&(Nt.words[Nt.length++]=Vt),Nt},mt._prime=function(Nt){if(hr[Nt])return hr[Nt];var Vt;if(Nt==="k256")Vt=new yr;else if(Nt==="p224")Vt=new xr;else if(Nt==="p192")Vt=new br;else if(Nt==="p25519")Vt=new wr;else throw new Error("Unknown prime "+Nt);return hr[Nt]=Vt,Vt};function Sr(cr){if(typeof cr=="string"){var Nt=mt._prime(cr);this.m=Nt.p,this.prime=Nt}else nt(cr.gtn(1),"modulus must be greater than 1"),this.m=cr,this.prime=null}Sr.prototype._verify1=function(Nt){nt(Nt.negative===0,"red works only with positives"),nt(Nt.red,"red works only with red numbers")},Sr.prototype._verify2=function(Nt,Vt){nt((Nt.negative|Vt.negative)===0,"red works only with positives"),nt(Nt.red&&Nt.red===Vt.red,"red works only with red numbers")},Sr.prototype.imod=function(Nt){return this.prime?this.prime.ireduce(Nt)._forceRed(this):Nt.umod(this.m)._forceRed(this)},Sr.prototype.neg=function(Nt){return Nt.isZero()?Nt.clone():this.m.sub(Nt)._forceRed(this)},Sr.prototype.add=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.add(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er._forceRed(this)},Sr.prototype.iadd=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.iadd(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er},Sr.prototype.sub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.sub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er._forceRed(this)},Sr.prototype.isub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.isub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er},Sr.prototype.shl=function(Nt,Vt){return this._verify1(Nt),this.imod(Nt.ushln(Vt))},Sr.prototype.imul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.imul(Vt))},Sr.prototype.mul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.mul(Vt))},Sr.prototype.isqr=function(Nt){return this.imul(Nt,Nt.clone())},Sr.prototype.sqr=function(Nt){return this.mul(Nt,Nt)},Sr.prototype.sqrt=function(Nt){if(Nt.isZero())return Nt.clone();var Vt=this.m.andln(3);if(nt(Vt%2===1),Vt===3){var er=this.m.add(new mt(1)).iushrn(2);return this.pow(Nt,er)}for(var Yt=this.m.subn(1),rr=0;!Yt.isZero()&&Yt.andln(1)===0;)rr++,Yt.iushrn(1);nt(!Yt.isZero());var ar=new mt(1).toRed(this),lr=ar.redNeg(),nr=this.m.subn(1).iushrn(1),Lt=this.m.bitLength();for(Lt=new mt(2*Lt*Lt).toRed(this);this.pow(Lt,nr).cmp(lr)!==0;)Lt.redIAdd(lr);for(var or=this.pow(Lt,Yt),gr=this.pow(Nt,Yt.addn(1).iushrn(1)),pr=this.pow(Nt,Yt),_r=rr;pr.cmp(ar)!==0;){for(var kr=pr,Mr=0;kr.cmp(ar)!==0;Mr++)kr=kr.redSqr();nt(Mr<_r);var $r=this.pow(or,new mt(1).iushln(_r-Mr-1));gr=gr.redMul($r),or=$r.redSqr(),pr=pr.redMul(or),_r=Mr}return gr},Sr.prototype.invm=function(Nt){var Vt=Nt._invmp(this.m);return Vt.negative!==0?(Vt.negative=0,this.imod(Vt).redNeg()):this.imod(Vt)},Sr.prototype.pow=function(Nt,Vt){if(Vt.isZero())return new mt(1).toRed(this);if(Vt.cmpn(1)===0)return Nt.clone();var er=4,Yt=new Array(1<<er);Yt[0]=new mt(1).toRed(this),Yt[1]=Nt;for(var rr=2;rr<Yt.length;rr++)Yt[rr]=this.mul(Yt[rr-1],Nt);var ar=Yt[0],lr=0,nr=0,Lt=Vt.bitLength()%26;for(Lt===0&&(Lt=26),rr=Vt.length-1;rr>=0;rr--){for(var or=Vt.words[rr],gr=Lt-1;gr>=0;gr--){var pr=or>>gr&1;if(ar!==Yt[0]&&(ar=this.sqr(ar)),pr===0&&lr===0){nr=0;continue}lr<<=1,lr|=pr,nr++,!(nr!==er&&(rr!==0||gr!==0))&&(ar=this.mul(ar,Yt[lr]),nr=0,lr=0)}Lt=26}return ar},Sr.prototype.convertTo=function(Nt){var Vt=Nt.umod(this.m);return Vt===Nt?Vt.clone():Vt},Sr.prototype.convertFrom=function(Nt){var Vt=Nt.clone();return Vt.red=null,Vt},mt.mont=function(Nt){return new Cr(Nt)};function Cr(cr){Sr.call(this,cr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Cr,Sr),Cr.prototype.convertTo=function(Nt){return this.imod(Nt.ushln(this.shift))},Cr.prototype.convertFrom=function(Nt){var Vt=this.imod(Nt.mul(this.rinv));return Vt.red=null,Vt},Cr.prototype.imul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return Nt.words[0]=0,Nt.length=1,Nt;var er=Nt.imul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.mul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return new mt(0)._forceRed(this);var er=Nt.mul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.invm=function(Nt){var Vt=this.imod(Nt._invmp(this.m).mul(this.r2));return Vt._forceRed(this)}})(a,commonjsGlobal$1)}(bn$2)),bn$2.exports}var browser$4,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var a=requireElliptic(),s=requireBn$1();browser$4=function(wt){return new nt(wt)};var et={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};et.p224=et.secp224r1,et.p256=et.secp256r1=et.prime256v1,et.p192=et.secp192r1=et.prime192v1,et.p384=et.secp384r1,et.p521=et.secp521r1;function nt(mt){this.curveType=et[mt],this.curveType||(this.curveType={name:mt}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}nt.prototype.generateKeys=function(mt,wt){return this.keys=this.curve.genKeyPair(),this.getPublicKey(mt,wt)},nt.prototype.computeSecret=function(mt,wt,$t){wt=wt||"utf8",Buffer$1.isBuffer(mt)||(mt=new Buffer$1(mt,wt));var Ct=this.curve.keyFromPublic(mt).getPublic(),Dt=Ct.mul(this.keys.getPrivate()).getX();return at(Dt,$t,this.curveType.byteLength)},nt.prototype.getPublicKey=function(mt,wt){var $t=this.keys.getPublic(wt==="compressed",!0);return wt==="hybrid"&&($t[$t.length-1]%2?$t[0]=7:$t[0]=6),at($t,mt)},nt.prototype.getPrivateKey=function(mt){return at(this.keys.getPrivate(),mt)},nt.prototype.setPublicKey=function(mt,wt){return wt=wt||"utf8",Buffer$1.isBuffer(mt)||(mt=new Buffer$1(mt,wt)),this.keys._importPublic(mt),this},nt.prototype.setPrivateKey=function(mt,wt){wt=wt||"utf8",Buffer$1.isBuffer(mt)||(mt=new Buffer$1(mt,wt));var $t=new s(mt);return $t=$t.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate($t),this};function at(mt,wt,$t){Array.isArray(mt)||(mt=mt.toArray());var Ct=new Buffer$1(mt);if($t&&Ct.length<$t){var Dt=new Buffer$1($t-Ct.length);Dt.fill(0),Ct=Buffer$1.concat([Dt,Ct])}return wt?Ct.toString(wt):Ct}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var a=requireBrowser$9(),s=requireSafeBuffer$1().Buffer;mgf=function(nt,at){for(var mt=s.alloc(0),wt=0,$t;mt.length<at;)$t=et(wt++),mt=s.concat([mt,a("sha1").update(nt).update($t).digest()]);return mt.slice(0,at)};function et(nt){var at=s.allocUnsafe(4);return at.writeUInt32BE(nt,0),at}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(s,et){for(var nt=s.length,at=-1;++at<nt;)s[at]^=et[at];return s}),xor}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(a){(function(s,et){function nt(cr,Nt){if(!cr)throw new Error(Nt||"Assertion failed")}function at(cr,Nt){cr.super_=Nt;var Vt=function(){};Vt.prototype=Nt.prototype,cr.prototype=new Vt,cr.prototype.constructor=cr}function mt(cr,Nt,Vt){if(mt.isBN(cr))return cr;this.negative=0,this.words=null,this.length=0,this.red=null,cr!==null&&((Nt==="le"||Nt==="be")&&(Vt=Nt,Nt=10),this._init(cr||0,Nt||10,Vt||"be"))}typeof s=="object"?s.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$0$3.Buffer}catch{}mt.isBN=function(Nt){return Nt instanceof mt?!0:Nt!==null&&typeof Nt=="object"&&Nt.constructor.wordSize===mt.wordSize&&Array.isArray(Nt.words)},mt.max=function(Nt,Vt){return Nt.cmp(Vt)>0?Nt:Vt},mt.min=function(Nt,Vt){return Nt.cmp(Vt)<0?Nt:Vt},mt.prototype._init=function(Nt,Vt,er){if(typeof Nt=="number")return this._initNumber(Nt,Vt,er);if(typeof Nt=="object")return this._initArray(Nt,Vt,er);Vt==="hex"&&(Vt=16),nt(Vt===(Vt|0)&&Vt>=2&&Vt<=36),Nt=Nt.toString().replace(/\s+/g,"");var Yt=0;Nt[0]==="-"&&(Yt++,this.negative=1),Yt<Nt.length&&(Vt===16?this._parseHex(Nt,Yt,er):(this._parseBase(Nt,Vt,Yt),er==="le"&&this._initArray(this.toArray(),Vt,er)))},mt.prototype._initNumber=function(Nt,Vt,er){Nt<0&&(this.negative=1,Nt=-Nt),Nt<67108864?(this.words=[Nt&67108863],this.length=1):Nt<4503599627370496?(this.words=[Nt&67108863,Nt/67108864&67108863],this.length=2):(nt(Nt<9007199254740992),this.words=[Nt&67108863,Nt/67108864&67108863,1],this.length=3),er==="le"&&this._initArray(this.toArray(),Vt,er)},mt.prototype._initArray=function(Nt,Vt,er){if(nt(typeof Nt.length=="number"),Nt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Nt.length/3),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr,ar,lr=0;if(er==="be")for(Yt=Nt.length-1,rr=0;Yt>=0;Yt-=3)ar=Nt[Yt]|Nt[Yt-1]<<8|Nt[Yt-2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);else if(er==="le")for(Yt=0,rr=0;Yt<Nt.length;Yt+=3)ar=Nt[Yt]|Nt[Yt+1]<<8|Nt[Yt+2]<<16,this.words[rr]|=ar<<lr&67108863,this.words[rr+1]=ar>>>26-lr&67108863,lr+=24,lr>=26&&(lr-=26,rr++);return this.strip()};function $t(cr,Nt){var Vt=cr.charCodeAt(Nt);return Vt>=65&&Vt<=70?Vt-55:Vt>=97&&Vt<=102?Vt-87:Vt-48&15}function Ct(cr,Nt,Vt){var er=$t(cr,Vt);return Vt-1>=Nt&&(er|=$t(cr,Vt-1)<<4),er}mt.prototype._parseHex=function(Nt,Vt,er){this.length=Math.ceil((Nt.length-Vt)/6),this.words=new Array(this.length);for(var Yt=0;Yt<this.length;Yt++)this.words[Yt]=0;var rr=0,ar=0,lr;if(er==="be")for(Yt=Nt.length-1;Yt>=Vt;Yt-=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8;else{var nr=Nt.length-Vt;for(Yt=nr%2===0?Vt+1:Vt;Yt<Nt.length;Yt+=2)lr=Ct(Nt,Vt,Yt)<<rr,this.words[ar]|=lr&67108863,rr>=18?(rr-=18,ar+=1,this.words[ar]|=lr>>>26):rr+=8}this.strip()};function Dt(cr,Nt,Vt,er){for(var Yt=0,rr=Math.min(cr.length,Vt),ar=Nt;ar<rr;ar++){var lr=cr.charCodeAt(ar)-48;Yt*=er,lr>=49?Yt+=lr-49+10:lr>=17?Yt+=lr-17+10:Yt+=lr}return Yt}mt.prototype._parseBase=function(Nt,Vt,er){this.words=[0],this.length=1;for(var Yt=0,rr=1;rr<=67108863;rr*=Vt)Yt++;Yt--,rr=rr/Vt|0;for(var ar=Nt.length-er,lr=ar%Yt,nr=Math.min(ar,ar-lr)+er,Lt=0,or=er;or<nr;or+=Yt)Lt=Dt(Nt,or,or+Yt,Vt),this.imuln(rr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt);if(lr!==0){var gr=1;for(Lt=Dt(Nt,or,Nt.length,Vt),or=0;or<lr;or++)gr*=Vt;this.imuln(gr),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt)}this.strip()},mt.prototype.copy=function(Nt){Nt.words=new Array(this.length);for(var Vt=0;Vt<this.length;Vt++)Nt.words[Vt]=this.words[Vt];Nt.length=this.length,Nt.negative=this.negative,Nt.red=this.red},mt.prototype.clone=function(){var Nt=new mt(null);return this.copy(Nt),Nt},mt.prototype._expand=function(Nt){for(;this.length<Nt;)this.words[this.length++]=0;return this},mt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},mt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(Nt,Vt){Nt=Nt||10,Vt=Vt|0||1;var er;if(Nt===16||Nt==="hex"){er="";for(var Yt=0,rr=0,ar=0;ar<this.length;ar++){var lr=this.words[ar],nr=((lr<<Yt|rr)&16777215).toString(16);rr=lr>>>24-Yt&16777215,Yt+=2,Yt>=26&&(Yt-=26,ar--),rr!==0||ar!==this.length-1?er=Ft[6-nr.length]+nr+er:er=nr+er}for(rr!==0&&(er=rr.toString(16)+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}if(Nt===(Nt|0)&&Nt>=2&&Nt<=36){var Lt=jt[Nt],or=Ut[Nt];er="";var gr=this.clone();for(gr.negative=0;!gr.isZero();){var pr=gr.modn(or).toString(Nt);gr=gr.idivn(or),gr.isZero()?er=pr+er:er=Ft[Lt-pr.length]+pr+er}for(this.isZero()&&(er="0"+er);er.length%Vt!==0;)er="0"+er;return this.negative!==0&&(er="-"+er),er}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var Nt=this.words[0];return this.length===2?Nt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Nt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Nt:Nt},mt.prototype.toJSON=function(){return this.toString(16)},mt.prototype.toBuffer=function(Nt,Vt){return nt(typeof wt<"u"),this.toArrayLike(wt,Nt,Vt)},mt.prototype.toArray=function(Nt,Vt){return this.toArrayLike(Array,Nt,Vt)},mt.prototype.toArrayLike=function(Nt,Vt,er){var Yt=this.byteLength(),rr=er||Math.max(1,Yt);nt(Yt<=rr,"byte array longer than desired length"),nt(rr>0,"Requested array length <= 0"),this.strip();var ar=Vt==="le",lr=new Nt(rr),nr,Lt,or=this.clone();if(ar){for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[Lt]=nr;for(;Lt<rr;Lt++)lr[Lt]=0}else{for(Lt=0;Lt<rr-Yt;Lt++)lr[Lt]=0;for(Lt=0;!or.isZero();Lt++)nr=or.andln(255),or.iushrn(8),lr[rr-Lt-1]=nr}return lr},Math.clz32?mt.prototype._countBits=function(Nt){return 32-Math.clz32(Nt)}:mt.prototype._countBits=function(Nt){var Vt=Nt,er=0;return Vt>=4096&&(er+=13,Vt>>>=13),Vt>=64&&(er+=7,Vt>>>=7),Vt>=8&&(er+=4,Vt>>>=4),Vt>=2&&(er+=2,Vt>>>=2),er+Vt},mt.prototype._zeroBits=function(Nt){if(Nt===0)return 26;var Vt=Nt,er=0;return Vt&8191||(er+=13,Vt>>>=13),Vt&127||(er+=7,Vt>>>=7),Vt&15||(er+=4,Vt>>>=4),Vt&3||(er+=2,Vt>>>=2),Vt&1||er++,er},mt.prototype.bitLength=function(){var Nt=this.words[this.length-1],Vt=this._countBits(Nt);return(this.length-1)*26+Vt};function tr(cr){for(var Nt=new Array(cr.bitLength()),Vt=0;Vt<Nt.length;Vt++){var er=Vt/26|0,Yt=Vt%26;Nt[Vt]=(cr.words[er]&1<<Yt)>>>Yt}return Nt}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Nt=0,Vt=0;Vt<this.length;Vt++){var er=this._zeroBits(this.words[Vt]);if(Nt+=er,er!==26)break}return Nt},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(Nt){return this.negative!==0?this.abs().inotn(Nt).iaddn(1):this.clone()},mt.prototype.fromTwos=function(Nt){return this.testn(Nt-1)?this.notn(Nt).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(Nt){for(;this.length<Nt.length;)this.words[this.length++]=0;for(var Vt=0;Vt<Nt.length;Vt++)this.words[Vt]=this.words[Vt]|Nt.words[Vt];return this.strip()},mt.prototype.ior=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuor(Nt)},mt.prototype.or=function(Nt){return this.length>Nt.length?this.clone().ior(Nt):Nt.clone().ior(this)},mt.prototype.uor=function(Nt){return this.length>Nt.length?this.clone().iuor(Nt):Nt.clone().iuor(this)},mt.prototype.iuand=function(Nt){var Vt;this.length>Nt.length?Vt=Nt:Vt=this;for(var er=0;er<Vt.length;er++)this.words[er]=this.words[er]&Nt.words[er];return this.length=Vt.length,this.strip()},mt.prototype.iand=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuand(Nt)},mt.prototype.and=function(Nt){return this.length>Nt.length?this.clone().iand(Nt):Nt.clone().iand(this)},mt.prototype.uand=function(Nt){return this.length>Nt.length?this.clone().iuand(Nt):Nt.clone().iuand(this)},mt.prototype.iuxor=function(Nt){var Vt,er;this.length>Nt.length?(Vt=this,er=Nt):(Vt=Nt,er=this);for(var Yt=0;Yt<er.length;Yt++)this.words[Yt]=Vt.words[Yt]^er.words[Yt];if(this!==Vt)for(;Yt<Vt.length;Yt++)this.words[Yt]=Vt.words[Yt];return this.length=Vt.length,this.strip()},mt.prototype.ixor=function(Nt){return nt((this.negative|Nt.negative)===0),this.iuxor(Nt)},mt.prototype.xor=function(Nt){return this.length>Nt.length?this.clone().ixor(Nt):Nt.clone().ixor(this)},mt.prototype.uxor=function(Nt){return this.length>Nt.length?this.clone().iuxor(Nt):Nt.clone().iuxor(this)},mt.prototype.inotn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Math.ceil(Nt/26)|0,er=Nt%26;this._expand(Vt),er>0&&Vt--;for(var Yt=0;Yt<Vt;Yt++)this.words[Yt]=~this.words[Yt]&67108863;return er>0&&(this.words[Yt]=~this.words[Yt]&67108863>>26-er),this.strip()},mt.prototype.notn=function(Nt){return this.clone().inotn(Nt)},mt.prototype.setn=function(Nt,Vt){nt(typeof Nt=="number"&&Nt>=0);var er=Nt/26|0,Yt=Nt%26;return this._expand(er+1),Vt?this.words[er]=this.words[er]|1<<Yt:this.words[er]=this.words[er]&~(1<<Yt),this.strip()},mt.prototype.iadd=function(Nt){var Vt;if(this.negative!==0&&Nt.negative===0)return this.negative=0,Vt=this.isub(Nt),this.negative^=1,this._normSign();if(this.negative===0&&Nt.negative!==0)return Nt.negative=0,Vt=this.isub(Nt),Nt.negative=1,Vt._normSign();var er,Yt;this.length>Nt.length?(er=this,Yt=Nt):(er=Nt,Yt=this);for(var rr=0,ar=0;ar<Yt.length;ar++)Vt=(er.words[ar]|0)+(Yt.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;for(;rr!==0&&ar<er.length;ar++)Vt=(er.words[ar]|0)+rr,this.words[ar]=Vt&67108863,rr=Vt>>>26;if(this.length=er.length,rr!==0)this.words[this.length]=rr,this.length++;else if(er!==this)for(;ar<er.length;ar++)this.words[ar]=er.words[ar];return this},mt.prototype.add=function(Nt){var Vt;return Nt.negative!==0&&this.negative===0?(Nt.negative=0,Vt=this.sub(Nt),Nt.negative^=1,Vt):Nt.negative===0&&this.negative!==0?(this.negative=0,Vt=Nt.sub(this),this.negative=1,Vt):this.length>Nt.length?this.clone().iadd(Nt):Nt.clone().iadd(this)},mt.prototype.isub=function(Nt){if(Nt.negative!==0){Nt.negative=0;var Vt=this.iadd(Nt);return Nt.negative=1,Vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Nt),this.negative=1,this._normSign();var er=this.cmp(Nt);if(er===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yt,rr;er>0?(Yt=this,rr=Nt):(Yt=Nt,rr=this);for(var ar=0,lr=0;lr<rr.length;lr++)Vt=(Yt.words[lr]|0)-(rr.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;for(;ar!==0&&lr<Yt.length;lr++)Vt=(Yt.words[lr]|0)+ar,ar=Vt>>26,this.words[lr]=Vt&67108863;if(ar===0&&lr<Yt.length&&Yt!==this)for(;lr<Yt.length;lr++)this.words[lr]=Yt.words[lr];return this.length=Math.max(this.length,lr),Yt!==this&&(this.negative=1),this.strip()},mt.prototype.sub=function(Nt){return this.clone().isub(Nt)};function ir(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative;var er=cr.length+Nt.length|0;Vt.length=er,er=er-1|0;var Yt=cr.words[0]|0,rr=Nt.words[0]|0,ar=Yt*rr,lr=ar&67108863,nr=ar/67108864|0;Vt.words[0]=lr;for(var Lt=1;Lt<er;Lt++){for(var or=nr>>>26,gr=nr&67108863,pr=Math.min(Lt,Nt.length-1),_r=Math.max(0,Lt-cr.length+1);_r<=pr;_r++){var kr=Lt-_r|0;Yt=cr.words[kr]|0,rr=Nt.words[_r]|0,ar=Yt*rr+gr,or+=ar/67108864|0,gr=ar&67108863}Vt.words[Lt]=gr|0,nr=or|0}return nr!==0?Vt.words[Lt]=nr|0:Vt.length--,Vt.strip()}var sr=function(Nt,Vt,er){var Yt=Nt.words,rr=Vt.words,ar=er.words,lr=0,nr,Lt,or,gr=Yt[0]|0,pr=gr&8191,_r=gr>>>13,kr=Yt[1]|0,Mr=kr&8191,$r=kr>>>13,Pr=Yt[2]|0,Fr=Pr&8191,Tr=Pr>>>13,Rr=Yt[3]|0,Er=Rr&8191,Or=Rr>>>13,Wr=Yt[4]|0,qr=Wr&8191,Vr=Wr>>>13,Ur=Yt[5]|0,Lr=Ur&8191,Br=Ur>>>13,Xr=Yt[6]|0,zr=Xr&8191,Qr=Xr>>>13,Qn=Yt[7]|0,nn=Qn&8191,$n=Qn>>>13,lo=Yt[8]|0,sn=lo&8191,Nn=lo>>>13,xo=Yt[9]|0,Ir=xo&8191,Ar=xo>>>13,Dr=rr[0]|0,Nr=Dr&8191,Gr=Dr>>>13,Un=rr[1]|0,Zr=Un&8191,Cn=Un>>>13,wo=rr[2]|0,Hn=wo&8191,Kn=wo>>>13,bo=rr[3]|0,Jn=bo&8191,no=bo>>>13,Do=rr[4]|0,eo=Do&8191,io=Do>>>13,Io=rr[5]|0,_i=Io&8191,ro=Io>>>13,Oo=rr[6]|0,Hr=Oo&8191,Yr=Oo>>>13,Wn=rr[7]|0,rn=Wn&8191,dn=Wn>>>13,po=rr[8]|0,Ln=po&8191,Vn=po>>>13,uo=rr[9]|0,pn=uo&8191,zn=uo>>>13;er.negative=Nt.negative^Vt.negative,er.length=19,nr=Math.imul(pr,Nr),Lt=Math.imul(pr,Gr),Lt=Lt+Math.imul(_r,Nr)|0,or=Math.imul(_r,Gr);var go=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(go>>>26)|0,go&=67108863,nr=Math.imul(Mr,Nr),Lt=Math.imul(Mr,Gr),Lt=Lt+Math.imul($r,Nr)|0,or=Math.imul($r,Gr),nr=nr+Math.imul(pr,Zr)|0,Lt=Lt+Math.imul(pr,Cn)|0,Lt=Lt+Math.imul(_r,Zr)|0,or=or+Math.imul(_r,Cn)|0;var co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(co>>>26)|0,co&=67108863,nr=Math.imul(Fr,Nr),Lt=Math.imul(Fr,Gr),Lt=Lt+Math.imul(Tr,Nr)|0,or=Math.imul(Tr,Gr),nr=nr+Math.imul(Mr,Zr)|0,Lt=Lt+Math.imul(Mr,Cn)|0,Lt=Lt+Math.imul($r,Zr)|0,or=or+Math.imul($r,Cn)|0,nr=nr+Math.imul(pr,Hn)|0,Lt=Lt+Math.imul(pr,Kn)|0,Lt=Lt+Math.imul(_r,Hn)|0,or=or+Math.imul(_r,Kn)|0;var Eo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,nr=Math.imul(Er,Nr),Lt=Math.imul(Er,Gr),Lt=Lt+Math.imul(Or,Nr)|0,or=Math.imul(Or,Gr),nr=nr+Math.imul(Fr,Zr)|0,Lt=Lt+Math.imul(Fr,Cn)|0,Lt=Lt+Math.imul(Tr,Zr)|0,or=or+Math.imul(Tr,Cn)|0,nr=nr+Math.imul(Mr,Hn)|0,Lt=Lt+Math.imul(Mr,Kn)|0,Lt=Lt+Math.imul($r,Hn)|0,or=or+Math.imul($r,Kn)|0,nr=nr+Math.imul(pr,Jn)|0,Lt=Lt+Math.imul(pr,no)|0,Lt=Lt+Math.imul(_r,Jn)|0,or=or+Math.imul(_r,no)|0;var To=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(To>>>26)|0,To&=67108863,nr=Math.imul(qr,Nr),Lt=Math.imul(qr,Gr),Lt=Lt+Math.imul(Vr,Nr)|0,or=Math.imul(Vr,Gr),nr=nr+Math.imul(Er,Zr)|0,Lt=Lt+Math.imul(Er,Cn)|0,Lt=Lt+Math.imul(Or,Zr)|0,or=or+Math.imul(Or,Cn)|0,nr=nr+Math.imul(Fr,Hn)|0,Lt=Lt+Math.imul(Fr,Kn)|0,Lt=Lt+Math.imul(Tr,Hn)|0,or=or+Math.imul(Tr,Kn)|0,nr=nr+Math.imul(Mr,Jn)|0,Lt=Lt+Math.imul(Mr,no)|0,Lt=Lt+Math.imul($r,Jn)|0,or=or+Math.imul($r,no)|0,nr=nr+Math.imul(pr,eo)|0,Lt=Lt+Math.imul(pr,io)|0,Lt=Lt+Math.imul(_r,eo)|0,or=or+Math.imul(_r,io)|0;var Co=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Co>>>26)|0,Co&=67108863,nr=Math.imul(Lr,Nr),Lt=Math.imul(Lr,Gr),Lt=Lt+Math.imul(Br,Nr)|0,or=Math.imul(Br,Gr),nr=nr+Math.imul(qr,Zr)|0,Lt=Lt+Math.imul(qr,Cn)|0,Lt=Lt+Math.imul(Vr,Zr)|0,or=or+Math.imul(Vr,Cn)|0,nr=nr+Math.imul(Er,Hn)|0,Lt=Lt+Math.imul(Er,Kn)|0,Lt=Lt+Math.imul(Or,Hn)|0,or=or+Math.imul(Or,Kn)|0,nr=nr+Math.imul(Fr,Jn)|0,Lt=Lt+Math.imul(Fr,no)|0,Lt=Lt+Math.imul(Tr,Jn)|0,or=or+Math.imul(Tr,no)|0,nr=nr+Math.imul(Mr,eo)|0,Lt=Lt+Math.imul(Mr,io)|0,Lt=Lt+Math.imul($r,eo)|0,or=or+Math.imul($r,io)|0,nr=nr+Math.imul(pr,_i)|0,Lt=Lt+Math.imul(pr,ro)|0,Lt=Lt+Math.imul(_r,_i)|0,or=or+Math.imul(_r,ro)|0;var Mo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,nr=Math.imul(zr,Nr),Lt=Math.imul(zr,Gr),Lt=Lt+Math.imul(Qr,Nr)|0,or=Math.imul(Qr,Gr),nr=nr+Math.imul(Lr,Zr)|0,Lt=Lt+Math.imul(Lr,Cn)|0,Lt=Lt+Math.imul(Br,Zr)|0,or=or+Math.imul(Br,Cn)|0,nr=nr+Math.imul(qr,Hn)|0,Lt=Lt+Math.imul(qr,Kn)|0,Lt=Lt+Math.imul(Vr,Hn)|0,or=or+Math.imul(Vr,Kn)|0,nr=nr+Math.imul(Er,Jn)|0,Lt=Lt+Math.imul(Er,no)|0,Lt=Lt+Math.imul(Or,Jn)|0,or=or+Math.imul(Or,no)|0,nr=nr+Math.imul(Fr,eo)|0,Lt=Lt+Math.imul(Fr,io)|0,Lt=Lt+Math.imul(Tr,eo)|0,or=or+Math.imul(Tr,io)|0,nr=nr+Math.imul(Mr,_i)|0,Lt=Lt+Math.imul(Mr,ro)|0,Lt=Lt+Math.imul($r,_i)|0,or=or+Math.imul($r,ro)|0,nr=nr+Math.imul(pr,Hr)|0,Lt=Lt+Math.imul(pr,Yr)|0,Lt=Lt+Math.imul(_r,Hr)|0,or=or+Math.imul(_r,Yr)|0;var No=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(No>>>26)|0,No&=67108863,nr=Math.imul(nn,Nr),Lt=Math.imul(nn,Gr),Lt=Lt+Math.imul($n,Nr)|0,or=Math.imul($n,Gr),nr=nr+Math.imul(zr,Zr)|0,Lt=Lt+Math.imul(zr,Cn)|0,Lt=Lt+Math.imul(Qr,Zr)|0,or=or+Math.imul(Qr,Cn)|0,nr=nr+Math.imul(Lr,Hn)|0,Lt=Lt+Math.imul(Lr,Kn)|0,Lt=Lt+Math.imul(Br,Hn)|0,or=or+Math.imul(Br,Kn)|0,nr=nr+Math.imul(qr,Jn)|0,Lt=Lt+Math.imul(qr,no)|0,Lt=Lt+Math.imul(Vr,Jn)|0,or=or+Math.imul(Vr,no)|0,nr=nr+Math.imul(Er,eo)|0,Lt=Lt+Math.imul(Er,io)|0,Lt=Lt+Math.imul(Or,eo)|0,or=or+Math.imul(Or,io)|0,nr=nr+Math.imul(Fr,_i)|0,Lt=Lt+Math.imul(Fr,ro)|0,Lt=Lt+Math.imul(Tr,_i)|0,or=or+Math.imul(Tr,ro)|0,nr=nr+Math.imul(Mr,Hr)|0,Lt=Lt+Math.imul(Mr,Yr)|0,Lt=Lt+Math.imul($r,Hr)|0,or=or+Math.imul($r,Yr)|0,nr=nr+Math.imul(pr,rn)|0,Lt=Lt+Math.imul(pr,dn)|0,Lt=Lt+Math.imul(_r,rn)|0,or=or+Math.imul(_r,dn)|0;var zo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(zo>>>26)|0,zo&=67108863,nr=Math.imul(sn,Nr),Lt=Math.imul(sn,Gr),Lt=Lt+Math.imul(Nn,Nr)|0,or=Math.imul(Nn,Gr),nr=nr+Math.imul(nn,Zr)|0,Lt=Lt+Math.imul(nn,Cn)|0,Lt=Lt+Math.imul($n,Zr)|0,or=or+Math.imul($n,Cn)|0,nr=nr+Math.imul(zr,Hn)|0,Lt=Lt+Math.imul(zr,Kn)|0,Lt=Lt+Math.imul(Qr,Hn)|0,or=or+Math.imul(Qr,Kn)|0,nr=nr+Math.imul(Lr,Jn)|0,Lt=Lt+Math.imul(Lr,no)|0,Lt=Lt+Math.imul(Br,Jn)|0,or=or+Math.imul(Br,no)|0,nr=nr+Math.imul(qr,eo)|0,Lt=Lt+Math.imul(qr,io)|0,Lt=Lt+Math.imul(Vr,eo)|0,or=or+Math.imul(Vr,io)|0,nr=nr+Math.imul(Er,_i)|0,Lt=Lt+Math.imul(Er,ro)|0,Lt=Lt+Math.imul(Or,_i)|0,or=or+Math.imul(Or,ro)|0,nr=nr+Math.imul(Fr,Hr)|0,Lt=Lt+Math.imul(Fr,Yr)|0,Lt=Lt+Math.imul(Tr,Hr)|0,or=or+Math.imul(Tr,Yr)|0,nr=nr+Math.imul(Mr,rn)|0,Lt=Lt+Math.imul(Mr,dn)|0,Lt=Lt+Math.imul($r,rn)|0,or=or+Math.imul($r,dn)|0,nr=nr+Math.imul(pr,Ln)|0,Lt=Lt+Math.imul(pr,Vn)|0,Lt=Lt+Math.imul(_r,Ln)|0,or=or+Math.imul(_r,Vn)|0;var Bo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,nr=Math.imul(Ir,Nr),Lt=Math.imul(Ir,Gr),Lt=Lt+Math.imul(Ar,Nr)|0,or=Math.imul(Ar,Gr),nr=nr+Math.imul(sn,Zr)|0,Lt=Lt+Math.imul(sn,Cn)|0,Lt=Lt+Math.imul(Nn,Zr)|0,or=or+Math.imul(Nn,Cn)|0,nr=nr+Math.imul(nn,Hn)|0,Lt=Lt+Math.imul(nn,Kn)|0,Lt=Lt+Math.imul($n,Hn)|0,or=or+Math.imul($n,Kn)|0,nr=nr+Math.imul(zr,Jn)|0,Lt=Lt+Math.imul(zr,no)|0,Lt=Lt+Math.imul(Qr,Jn)|0,or=or+Math.imul(Qr,no)|0,nr=nr+Math.imul(Lr,eo)|0,Lt=Lt+Math.imul(Lr,io)|0,Lt=Lt+Math.imul(Br,eo)|0,or=or+Math.imul(Br,io)|0,nr=nr+Math.imul(qr,_i)|0,Lt=Lt+Math.imul(qr,ro)|0,Lt=Lt+Math.imul(Vr,_i)|0,or=or+Math.imul(Vr,ro)|0,nr=nr+Math.imul(Er,Hr)|0,Lt=Lt+Math.imul(Er,Yr)|0,Lt=Lt+Math.imul(Or,Hr)|0,or=or+Math.imul(Or,Yr)|0,nr=nr+Math.imul(Fr,rn)|0,Lt=Lt+Math.imul(Fr,dn)|0,Lt=Lt+Math.imul(Tr,rn)|0,or=or+Math.imul(Tr,dn)|0,nr=nr+Math.imul(Mr,Ln)|0,Lt=Lt+Math.imul(Mr,Vn)|0,Lt=Lt+Math.imul($r,Ln)|0,or=or+Math.imul($r,Vn)|0,nr=nr+Math.imul(pr,pn)|0,Lt=Lt+Math.imul(pr,zn)|0,Lt=Lt+Math.imul(_r,pn)|0,or=or+Math.imul(_r,zn)|0;var Po=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Po>>>26)|0,Po&=67108863,nr=Math.imul(Ir,Zr),Lt=Math.imul(Ir,Cn),Lt=Lt+Math.imul(Ar,Zr)|0,or=Math.imul(Ar,Cn),nr=nr+Math.imul(sn,Hn)|0,Lt=Lt+Math.imul(sn,Kn)|0,Lt=Lt+Math.imul(Nn,Hn)|0,or=or+Math.imul(Nn,Kn)|0,nr=nr+Math.imul(nn,Jn)|0,Lt=Lt+Math.imul(nn,no)|0,Lt=Lt+Math.imul($n,Jn)|0,or=or+Math.imul($n,no)|0,nr=nr+Math.imul(zr,eo)|0,Lt=Lt+Math.imul(zr,io)|0,Lt=Lt+Math.imul(Qr,eo)|0,or=or+Math.imul(Qr,io)|0,nr=nr+Math.imul(Lr,_i)|0,Lt=Lt+Math.imul(Lr,ro)|0,Lt=Lt+Math.imul(Br,_i)|0,or=or+Math.imul(Br,ro)|0,nr=nr+Math.imul(qr,Hr)|0,Lt=Lt+Math.imul(qr,Yr)|0,Lt=Lt+Math.imul(Vr,Hr)|0,or=or+Math.imul(Vr,Yr)|0,nr=nr+Math.imul(Er,rn)|0,Lt=Lt+Math.imul(Er,dn)|0,Lt=Lt+Math.imul(Or,rn)|0,or=or+Math.imul(Or,dn)|0,nr=nr+Math.imul(Fr,Ln)|0,Lt=Lt+Math.imul(Fr,Vn)|0,Lt=Lt+Math.imul(Tr,Ln)|0,or=or+Math.imul(Tr,Vn)|0,nr=nr+Math.imul(Mr,pn)|0,Lt=Lt+Math.imul(Mr,zn)|0,Lt=Lt+Math.imul($r,pn)|0,or=or+Math.imul($r,zn)|0;var Wo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,nr=Math.imul(Ir,Hn),Lt=Math.imul(Ir,Kn),Lt=Lt+Math.imul(Ar,Hn)|0,or=Math.imul(Ar,Kn),nr=nr+Math.imul(sn,Jn)|0,Lt=Lt+Math.imul(sn,no)|0,Lt=Lt+Math.imul(Nn,Jn)|0,or=or+Math.imul(Nn,no)|0,nr=nr+Math.imul(nn,eo)|0,Lt=Lt+Math.imul(nn,io)|0,Lt=Lt+Math.imul($n,eo)|0,or=or+Math.imul($n,io)|0,nr=nr+Math.imul(zr,_i)|0,Lt=Lt+Math.imul(zr,ro)|0,Lt=Lt+Math.imul(Qr,_i)|0,or=or+Math.imul(Qr,ro)|0,nr=nr+Math.imul(Lr,Hr)|0,Lt=Lt+Math.imul(Lr,Yr)|0,Lt=Lt+Math.imul(Br,Hr)|0,or=or+Math.imul(Br,Yr)|0,nr=nr+Math.imul(qr,rn)|0,Lt=Lt+Math.imul(qr,dn)|0,Lt=Lt+Math.imul(Vr,rn)|0,or=or+Math.imul(Vr,dn)|0,nr=nr+Math.imul(Er,Ln)|0,Lt=Lt+Math.imul(Er,Vn)|0,Lt=Lt+Math.imul(Or,Ln)|0,or=or+Math.imul(Or,Vn)|0,nr=nr+Math.imul(Fr,pn)|0,Lt=Lt+Math.imul(Fr,zn)|0,Lt=Lt+Math.imul(Tr,pn)|0,or=or+Math.imul(Tr,zn)|0;var Fo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,nr=Math.imul(Ir,Jn),Lt=Math.imul(Ir,no),Lt=Lt+Math.imul(Ar,Jn)|0,or=Math.imul(Ar,no),nr=nr+Math.imul(sn,eo)|0,Lt=Lt+Math.imul(sn,io)|0,Lt=Lt+Math.imul(Nn,eo)|0,or=or+Math.imul(Nn,io)|0,nr=nr+Math.imul(nn,_i)|0,Lt=Lt+Math.imul(nn,ro)|0,Lt=Lt+Math.imul($n,_i)|0,or=or+Math.imul($n,ro)|0,nr=nr+Math.imul(zr,Hr)|0,Lt=Lt+Math.imul(zr,Yr)|0,Lt=Lt+Math.imul(Qr,Hr)|0,or=or+Math.imul(Qr,Yr)|0,nr=nr+Math.imul(Lr,rn)|0,Lt=Lt+Math.imul(Lr,dn)|0,Lt=Lt+Math.imul(Br,rn)|0,or=or+Math.imul(Br,dn)|0,nr=nr+Math.imul(qr,Ln)|0,Lt=Lt+Math.imul(qr,Vn)|0,Lt=Lt+Math.imul(Vr,Ln)|0,or=or+Math.imul(Vr,Vn)|0,nr=nr+Math.imul(Er,pn)|0,Lt=Lt+Math.imul(Er,zn)|0,Lt=Lt+Math.imul(Or,pn)|0,or=or+Math.imul(Or,zn)|0;var jo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(jo>>>26)|0,jo&=67108863,nr=Math.imul(Ir,eo),Lt=Math.imul(Ir,io),Lt=Lt+Math.imul(Ar,eo)|0,or=Math.imul(Ar,io),nr=nr+Math.imul(sn,_i)|0,Lt=Lt+Math.imul(sn,ro)|0,Lt=Lt+Math.imul(Nn,_i)|0,or=or+Math.imul(Nn,ro)|0,nr=nr+Math.imul(nn,Hr)|0,Lt=Lt+Math.imul(nn,Yr)|0,Lt=Lt+Math.imul($n,Hr)|0,or=or+Math.imul($n,Yr)|0,nr=nr+Math.imul(zr,rn)|0,Lt=Lt+Math.imul(zr,dn)|0,Lt=Lt+Math.imul(Qr,rn)|0,or=or+Math.imul(Qr,dn)|0,nr=nr+Math.imul(Lr,Ln)|0,Lt=Lt+Math.imul(Lr,Vn)|0,Lt=Lt+Math.imul(Br,Ln)|0,or=or+Math.imul(Br,Vn)|0,nr=nr+Math.imul(qr,pn)|0,Lt=Lt+Math.imul(qr,zn)|0,Lt=Lt+Math.imul(Vr,pn)|0,or=or+Math.imul(Vr,zn)|0;var Uo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,nr=Math.imul(Ir,_i),Lt=Math.imul(Ir,ro),Lt=Lt+Math.imul(Ar,_i)|0,or=Math.imul(Ar,ro),nr=nr+Math.imul(sn,Hr)|0,Lt=Lt+Math.imul(sn,Yr)|0,Lt=Lt+Math.imul(Nn,Hr)|0,or=or+Math.imul(Nn,Yr)|0,nr=nr+Math.imul(nn,rn)|0,Lt=Lt+Math.imul(nn,dn)|0,Lt=Lt+Math.imul($n,rn)|0,or=or+Math.imul($n,dn)|0,nr=nr+Math.imul(zr,Ln)|0,Lt=Lt+Math.imul(zr,Vn)|0,Lt=Lt+Math.imul(Qr,Ln)|0,or=or+Math.imul(Qr,Vn)|0,nr=nr+Math.imul(Lr,pn)|0,Lt=Lt+Math.imul(Lr,zn)|0,Lt=Lt+Math.imul(Br,pn)|0,or=or+Math.imul(Br,zn)|0;var Vo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,nr=Math.imul(Ir,Hr),Lt=Math.imul(Ir,Yr),Lt=Lt+Math.imul(Ar,Hr)|0,or=Math.imul(Ar,Yr),nr=nr+Math.imul(sn,rn)|0,Lt=Lt+Math.imul(sn,dn)|0,Lt=Lt+Math.imul(Nn,rn)|0,or=or+Math.imul(Nn,dn)|0,nr=nr+Math.imul(nn,Ln)|0,Lt=Lt+Math.imul(nn,Vn)|0,Lt=Lt+Math.imul($n,Ln)|0,or=or+Math.imul($n,Vn)|0,nr=nr+Math.imul(zr,pn)|0,Lt=Lt+Math.imul(zr,zn)|0,Lt=Lt+Math.imul(Qr,pn)|0,or=or+Math.imul(Qr,zn)|0;var $o=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+($o>>>26)|0,$o&=67108863,nr=Math.imul(Ir,rn),Lt=Math.imul(Ir,dn),Lt=Lt+Math.imul(Ar,rn)|0,or=Math.imul(Ar,dn),nr=nr+Math.imul(sn,Ln)|0,Lt=Lt+Math.imul(sn,Vn)|0,Lt=Lt+Math.imul(Nn,Ln)|0,or=or+Math.imul(Nn,Vn)|0,nr=nr+Math.imul(nn,pn)|0,Lt=Lt+Math.imul(nn,zn)|0,Lt=Lt+Math.imul($n,pn)|0,or=or+Math.imul($n,zn)|0;var ko=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(ko>>>26)|0,ko&=67108863,nr=Math.imul(Ir,Ln),Lt=Math.imul(Ir,Vn),Lt=Lt+Math.imul(Ar,Ln)|0,or=Math.imul(Ar,Vn),nr=nr+Math.imul(sn,pn)|0,Lt=Lt+Math.imul(sn,zn)|0,Lt=Lt+Math.imul(Nn,pn)|0,or=or+Math.imul(Nn,zn)|0;var Lo=(lr+nr|0)+((Lt&8191)<<13)|0;lr=(or+(Lt>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,nr=Math.imul(Ir,pn),Lt=Math.imul(Ir,zn),Lt=Lt+Math.imul(Ar,pn)|0,or=Math.imul(Ar,zn);var Ho=(lr+nr|0)+((Lt&8191)<<13)|0;return lr=(or+(Lt>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ar[0]=go,ar[1]=co,ar[2]=Eo,ar[3]=To,ar[4]=Co,ar[5]=Mo,ar[6]=No,ar[7]=zo,ar[8]=Bo,ar[9]=Po,ar[10]=Wo,ar[11]=Fo,ar[12]=jo,ar[13]=Uo,ar[14]=Vo,ar[15]=$o,ar[16]=ko,ar[17]=Lo,ar[18]=Ho,lr!==0&&(ar[19]=lr,er.length++),er};Math.imul||(sr=ir);function ur(cr,Nt,Vt){Vt.negative=Nt.negative^cr.negative,Vt.length=cr.length+Nt.length;for(var er=0,Yt=0,rr=0;rr<Vt.length-1;rr++){var ar=Yt;Yt=0;for(var lr=er&67108863,nr=Math.min(rr,Nt.length-1),Lt=Math.max(0,rr-cr.length+1);Lt<=nr;Lt++){var or=rr-Lt,gr=cr.words[or]|0,pr=Nt.words[Lt]|0,_r=gr*pr,kr=_r&67108863;ar=ar+(_r/67108864|0)|0,kr=kr+lr|0,lr=kr&67108863,ar=ar+(kr>>>26)|0,Yt+=ar>>>26,ar&=67108863}Vt.words[rr]=lr,er=ar,ar=Yt}return er!==0?Vt.words[rr]=er:Vt.length--,Vt.strip()}function fr(cr,Nt,Vt){var er=new dr;return er.mulp(cr,Nt,Vt)}mt.prototype.mulTo=function(Nt,Vt){var er,Yt=this.length+Nt.length;return this.length===10&&Nt.length===10?er=sr(this,Nt,Vt):Yt<63?er=ir(this,Nt,Vt):Yt<1024?er=ur(this,Nt,Vt):er=fr(this,Nt,Vt),er};function dr(cr,Nt){this.x=cr,this.y=Nt}dr.prototype.makeRBT=function(Nt){for(var Vt=new Array(Nt),er=mt.prototype._countBits(Nt)-1,Yt=0;Yt<Nt;Yt++)Vt[Yt]=this.revBin(Yt,er,Nt);return Vt},dr.prototype.revBin=function(Nt,Vt,er){if(Nt===0||Nt===er-1)return Nt;for(var Yt=0,rr=0;rr<Vt;rr++)Yt|=(Nt&1)<<Vt-rr-1,Nt>>=1;return Yt},dr.prototype.permute=function(Nt,Vt,er,Yt,rr,ar){for(var lr=0;lr<ar;lr++)Yt[lr]=Vt[Nt[lr]],rr[lr]=er[Nt[lr]]},dr.prototype.transform=function(Nt,Vt,er,Yt,rr,ar){this.permute(ar,Nt,Vt,er,Yt,rr);for(var lr=1;lr<rr;lr<<=1)for(var nr=lr<<1,Lt=Math.cos(2*Math.PI/nr),or=Math.sin(2*Math.PI/nr),gr=0;gr<rr;gr+=nr)for(var pr=Lt,_r=or,kr=0;kr<lr;kr++){var Mr=er[gr+kr],$r=Yt[gr+kr],Pr=er[gr+kr+lr],Fr=Yt[gr+kr+lr],Tr=pr*Pr-_r*Fr;Fr=pr*Fr+_r*Pr,Pr=Tr,er[gr+kr]=Mr+Pr,Yt[gr+kr]=$r+Fr,er[gr+kr+lr]=Mr-Pr,Yt[gr+kr+lr]=$r-Fr,kr!==nr&&(Tr=Lt*pr-or*_r,_r=Lt*_r+or*pr,pr=Tr)}},dr.prototype.guessLen13b=function(Nt,Vt){var er=Math.max(Vt,Nt)|1,Yt=er&1,rr=0;for(er=er/2|0;er;er=er>>>1)rr++;return 1<<rr+1+Yt},dr.prototype.conjugate=function(Nt,Vt,er){if(!(er<=1))for(var Yt=0;Yt<er/2;Yt++){var rr=Nt[Yt];Nt[Yt]=Nt[er-Yt-1],Nt[er-Yt-1]=rr,rr=Vt[Yt],Vt[Yt]=-Vt[er-Yt-1],Vt[er-Yt-1]=-rr}},dr.prototype.normalize13b=function(Nt,Vt){for(var er=0,Yt=0;Yt<Vt/2;Yt++){var rr=Math.round(Nt[2*Yt+1]/Vt)*8192+Math.round(Nt[2*Yt]/Vt)+er;Nt[Yt]=rr&67108863,rr<67108864?er=0:er=rr/67108864|0}return Nt},dr.prototype.convert13b=function(Nt,Vt,er,Yt){for(var rr=0,ar=0;ar<Vt;ar++)rr=rr+(Nt[ar]|0),er[2*ar]=rr&8191,rr=rr>>>13,er[2*ar+1]=rr&8191,rr=rr>>>13;for(ar=2*Vt;ar<Yt;++ar)er[ar]=0;nt(rr===0),nt((rr&-8192)===0)},dr.prototype.stub=function(Nt){for(var Vt=new Array(Nt),er=0;er<Nt;er++)Vt[er]=0;return Vt},dr.prototype.mulp=function(Nt,Vt,er){var Yt=2*this.guessLen13b(Nt.length,Vt.length),rr=this.makeRBT(Yt),ar=this.stub(Yt),lr=new Array(Yt),nr=new Array(Yt),Lt=new Array(Yt),or=new Array(Yt),gr=new Array(Yt),pr=new Array(Yt),_r=er.words;_r.length=Yt,this.convert13b(Nt.words,Nt.length,lr,Yt),this.convert13b(Vt.words,Vt.length,or,Yt),this.transform(lr,ar,nr,Lt,Yt,rr),this.transform(or,ar,gr,pr,Yt,rr);for(var kr=0;kr<Yt;kr++){var Mr=nr[kr]*gr[kr]-Lt[kr]*pr[kr];Lt[kr]=nr[kr]*pr[kr]+Lt[kr]*gr[kr],nr[kr]=Mr}return this.conjugate(nr,Lt,Yt),this.transform(nr,Lt,_r,ar,Yt,rr),this.conjugate(_r,ar,Yt),this.normalize13b(_r,Yt),er.negative=Nt.negative^Vt.negative,er.length=Nt.length+Vt.length,er.strip()},mt.prototype.mul=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),this.mulTo(Nt,Vt)},mt.prototype.mulf=function(Nt){var Vt=new mt(null);return Vt.words=new Array(this.length+Nt.length),fr(this,Nt,Vt)},mt.prototype.imul=function(Nt){return this.clone().mulTo(Nt,this)},mt.prototype.imuln=function(Nt){nt(typeof Nt=="number"),nt(Nt<67108864);for(var Vt=0,er=0;er<this.length;er++){var Yt=(this.words[er]|0)*Nt,rr=(Yt&67108863)+(Vt&67108863);Vt>>=26,Vt+=Yt/67108864|0,Vt+=rr>>>26,this.words[er]=rr&67108863}return Vt!==0&&(this.words[er]=Vt,this.length++),this},mt.prototype.muln=function(Nt){return this.clone().imuln(Nt)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(Nt){var Vt=tr(Nt);if(Vt.length===0)return new mt(1);for(var er=this,Yt=0;Yt<Vt.length&&Vt[Yt]===0;Yt++,er=er.sqr());if(++Yt<Vt.length)for(var rr=er.sqr();Yt<Vt.length;Yt++,rr=rr.sqr())Vt[Yt]!==0&&(er=er.mul(rr));return er},mt.prototype.iushln=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=67108863>>>26-Vt<<26-Vt,rr;if(Vt!==0){var ar=0;for(rr=0;rr<this.length;rr++){var lr=this.words[rr]&Yt,nr=(this.words[rr]|0)-lr<<Vt;this.words[rr]=nr|ar,ar=lr>>>26-Vt}ar&&(this.words[rr]=ar,this.length++)}if(er!==0){for(rr=this.length-1;rr>=0;rr--)this.words[rr+er]=this.words[rr];for(rr=0;rr<er;rr++)this.words[rr]=0;this.length+=er}return this.strip()},mt.prototype.ishln=function(Nt){return nt(this.negative===0),this.iushln(Nt)},mt.prototype.iushrn=function(Nt,Vt,er){nt(typeof Nt=="number"&&Nt>=0);var Yt;Vt?Yt=(Vt-Vt%26)/26:Yt=0;var rr=Nt%26,ar=Math.min((Nt-rr)/26,this.length),lr=67108863^67108863>>>rr<<rr,nr=er;if(Yt-=ar,Yt=Math.max(0,Yt),nr){for(var Lt=0;Lt<ar;Lt++)nr.words[Lt]=this.words[Lt];nr.length=ar}if(ar!==0)if(this.length>ar)for(this.length-=ar,Lt=0;Lt<this.length;Lt++)this.words[Lt]=this.words[Lt+ar];else this.words[0]=0,this.length=1;var or=0;for(Lt=this.length-1;Lt>=0&&(or!==0||Lt>=Yt);Lt--){var gr=this.words[Lt]|0;this.words[Lt]=or<<26-rr|gr>>>rr,or=gr&lr}return nr&&or!==0&&(nr.words[nr.length++]=or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},mt.prototype.ishrn=function(Nt,Vt,er){return nt(this.negative===0),this.iushrn(Nt,Vt,er)},mt.prototype.shln=function(Nt){return this.clone().ishln(Nt)},mt.prototype.ushln=function(Nt){return this.clone().iushln(Nt)},mt.prototype.shrn=function(Nt){return this.clone().ishrn(Nt)},mt.prototype.ushrn=function(Nt){return this.clone().iushrn(Nt)},mt.prototype.testn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return!1;var rr=this.words[er];return!!(rr&Yt)},mt.prototype.imaskn=function(Nt){nt(typeof Nt=="number"&&Nt>=0);var Vt=Nt%26,er=(Nt-Vt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=er)return this;if(Vt!==0&&er++,this.length=Math.min(er,this.length),Vt!==0){var Yt=67108863^67108863>>>Vt<<Vt;this.words[this.length-1]&=Yt}return this.strip()},mt.prototype.maskn=function(Nt){return this.clone().imaskn(Nt)},mt.prototype.iaddn=function(Nt){return nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0?this.isubn(-Nt):this.negative!==0?this.length===1&&(this.words[0]|0)<Nt?(this.words[0]=Nt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Nt),this.negative=1,this):this._iaddn(Nt)},mt.prototype._iaddn=function(Nt){this.words[0]+=Nt;for(var Vt=0;Vt<this.length&&this.words[Vt]>=67108864;Vt++)this.words[Vt]-=67108864,Vt===this.length-1?this.words[Vt+1]=1:this.words[Vt+1]++;return this.length=Math.max(this.length,Vt+1),this},mt.prototype.isubn=function(Nt){if(nt(typeof Nt=="number"),nt(Nt<67108864),Nt<0)return this.iaddn(-Nt);if(this.negative!==0)return this.negative=0,this.iaddn(Nt),this.negative=1,this;if(this.words[0]-=Nt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Vt=0;Vt<this.length&&this.words[Vt]<0;Vt++)this.words[Vt]+=67108864,this.words[Vt+1]-=1;return this.strip()},mt.prototype.addn=function(Nt){return this.clone().iaddn(Nt)},mt.prototype.subn=function(Nt){return this.clone().isubn(Nt)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(Nt,Vt,er){var Yt=Nt.length+er,rr;this._expand(Yt);var ar,lr=0;for(rr=0;rr<Nt.length;rr++){ar=(this.words[rr+er]|0)+lr;var nr=(Nt.words[rr]|0)*Vt;ar-=nr&67108863,lr=(ar>>26)-(nr/67108864|0),this.words[rr+er]=ar&67108863}for(;rr<this.length-er;rr++)ar=(this.words[rr+er]|0)+lr,lr=ar>>26,this.words[rr+er]=ar&67108863;if(lr===0)return this.strip();for(nt(lr===-1),lr=0,rr=0;rr<this.length;rr++)ar=-(this.words[rr]|0)+lr,lr=ar>>26,this.words[rr]=ar&67108863;return this.negative=1,this.strip()},mt.prototype._wordDiv=function(Nt,Vt){var er=this.length-Nt.length,Yt=this.clone(),rr=Nt,ar=rr.words[rr.length-1]|0,lr=this._countBits(ar);er=26-lr,er!==0&&(rr=rr.ushln(er),Yt.iushln(er),ar=rr.words[rr.length-1]|0);var nr=Yt.length-rr.length,Lt;if(Vt!=="mod"){Lt=new mt(null),Lt.length=nr+1,Lt.words=new Array(Lt.length);for(var or=0;or<Lt.length;or++)Lt.words[or]=0}var gr=Yt.clone()._ishlnsubmul(rr,1,nr);gr.negative===0&&(Yt=gr,Lt&&(Lt.words[nr]=1));for(var pr=nr-1;pr>=0;pr--){var _r=(Yt.words[rr.length+pr]|0)*67108864+(Yt.words[rr.length+pr-1]|0);for(_r=Math.min(_r/ar|0,67108863),Yt._ishlnsubmul(rr,_r,pr);Yt.negative!==0;)_r--,Yt.negative=0,Yt._ishlnsubmul(rr,1,pr),Yt.isZero()||(Yt.negative^=1);Lt&&(Lt.words[pr]=_r)}return Lt&&Lt.strip(),Yt.strip(),Vt!=="div"&&er!==0&&Yt.iushrn(er),{div:Lt||null,mod:Yt}},mt.prototype.divmod=function(Nt,Vt,er){if(nt(!Nt.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var Yt,rr,ar;return this.negative!==0&&Nt.negative===0?(ar=this.neg().divmod(Nt,Vt),Vt!=="mod"&&(Yt=ar.div.neg()),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.iadd(Nt)),{div:Yt,mod:rr}):this.negative===0&&Nt.negative!==0?(ar=this.divmod(Nt.neg(),Vt),Vt!=="mod"&&(Yt=ar.div.neg()),{div:Yt,mod:ar.mod}):this.negative&Nt.negative?(ar=this.neg().divmod(Nt.neg(),Vt),Vt!=="div"&&(rr=ar.mod.neg(),er&&rr.negative!==0&&rr.isub(Nt)),{div:ar.div,mod:rr}):Nt.length>this.length||this.cmp(Nt)<0?{div:new mt(0),mod:this}:Nt.length===1?Vt==="div"?{div:this.divn(Nt.words[0]),mod:null}:Vt==="mod"?{div:null,mod:new mt(this.modn(Nt.words[0]))}:{div:this.divn(Nt.words[0]),mod:new mt(this.modn(Nt.words[0]))}:this._wordDiv(Nt,Vt)},mt.prototype.div=function(Nt){return this.divmod(Nt,"div",!1).div},mt.prototype.mod=function(Nt){return this.divmod(Nt,"mod",!1).mod},mt.prototype.umod=function(Nt){return this.divmod(Nt,"mod",!0).mod},mt.prototype.divRound=function(Nt){var Vt=this.divmod(Nt);if(Vt.mod.isZero())return Vt.div;var er=Vt.div.negative!==0?Vt.mod.isub(Nt):Vt.mod,Yt=Nt.ushrn(1),rr=Nt.andln(1),ar=er.cmp(Yt);return ar<0||rr===1&&ar===0?Vt.div:Vt.div.negative!==0?Vt.div.isubn(1):Vt.div.iaddn(1)},mt.prototype.modn=function(Nt){nt(Nt<=67108863);for(var Vt=(1<<26)%Nt,er=0,Yt=this.length-1;Yt>=0;Yt--)er=(Vt*er+(this.words[Yt]|0))%Nt;return er},mt.prototype.idivn=function(Nt){nt(Nt<=67108863);for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=(this.words[er]|0)+Vt*67108864;this.words[er]=Yt/Nt|0,Vt=Yt%Nt}return this.strip()},mt.prototype.divn=function(Nt){return this.clone().idivn(Nt)},mt.prototype.egcd=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=new mt(0),lr=new mt(1),nr=0;Vt.isEven()&&er.isEven();)Vt.iushrn(1),er.iushrn(1),++nr;for(var Lt=er.clone(),or=Vt.clone();!Vt.isZero();){for(var gr=0,pr=1;!(Vt.words[0]&pr)&&gr<26;++gr,pr<<=1);if(gr>0)for(Vt.iushrn(gr);gr-- >0;)(Yt.isOdd()||rr.isOdd())&&(Yt.iadd(Lt),rr.isub(or)),Yt.iushrn(1),rr.iushrn(1);for(var _r=0,kr=1;!(er.words[0]&kr)&&_r<26;++_r,kr<<=1);if(_r>0)for(er.iushrn(_r);_r-- >0;)(ar.isOdd()||lr.isOdd())&&(ar.iadd(Lt),lr.isub(or)),ar.iushrn(1),lr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(ar),rr.isub(lr)):(er.isub(Vt),ar.isub(Yt),lr.isub(rr))}return{a:ar,b:lr,gcd:er.iushln(nr)}},mt.prototype._invmp=function(Nt){nt(Nt.negative===0),nt(!Nt.isZero());var Vt=this,er=Nt.clone();Vt.negative!==0?Vt=Vt.umod(Nt):Vt=Vt.clone();for(var Yt=new mt(1),rr=new mt(0),ar=er.clone();Vt.cmpn(1)>0&&er.cmpn(1)>0;){for(var lr=0,nr=1;!(Vt.words[0]&nr)&&lr<26;++lr,nr<<=1);if(lr>0)for(Vt.iushrn(lr);lr-- >0;)Yt.isOdd()&&Yt.iadd(ar),Yt.iushrn(1);for(var Lt=0,or=1;!(er.words[0]&or)&&Lt<26;++Lt,or<<=1);if(Lt>0)for(er.iushrn(Lt);Lt-- >0;)rr.isOdd()&&rr.iadd(ar),rr.iushrn(1);Vt.cmp(er)>=0?(Vt.isub(er),Yt.isub(rr)):(er.isub(Vt),rr.isub(Yt))}var gr;return Vt.cmpn(1)===0?gr=Yt:gr=rr,gr.cmpn(0)<0&&gr.iadd(Nt),gr},mt.prototype.gcd=function(Nt){if(this.isZero())return Nt.abs();if(Nt.isZero())return this.abs();var Vt=this.clone(),er=Nt.clone();Vt.negative=0,er.negative=0;for(var Yt=0;Vt.isEven()&&er.isEven();Yt++)Vt.iushrn(1),er.iushrn(1);do{for(;Vt.isEven();)Vt.iushrn(1);for(;er.isEven();)er.iushrn(1);var rr=Vt.cmp(er);if(rr<0){var ar=Vt;Vt=er,er=ar}else if(rr===0||er.cmpn(1)===0)break;Vt.isub(er)}while(!0);return er.iushln(Yt)},mt.prototype.invm=function(Nt){return this.egcd(Nt).a.umod(Nt)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(Nt){return this.words[0]&Nt},mt.prototype.bincn=function(Nt){nt(typeof Nt=="number");var Vt=Nt%26,er=(Nt-Vt)/26,Yt=1<<Vt;if(this.length<=er)return this._expand(er+1),this.words[er]|=Yt,this;for(var rr=Yt,ar=er;rr!==0&&ar<this.length;ar++){var lr=this.words[ar]|0;lr+=rr,rr=lr>>>26,lr&=67108863,this.words[ar]=lr}return rr!==0&&(this.words[ar]=rr,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(Nt){var Vt=Nt<0;if(this.negative!==0&&!Vt)return-1;if(this.negative===0&&Vt)return 1;this.strip();var er;if(this.length>1)er=1;else{Vt&&(Nt=-Nt),nt(Nt<=67108863,"Number is too big");var Yt=this.words[0]|0;er=Yt===Nt?0:Yt<Nt?-1:1}return this.negative!==0?-er|0:er},mt.prototype.cmp=function(Nt){if(this.negative!==0&&Nt.negative===0)return-1;if(this.negative===0&&Nt.negative!==0)return 1;var Vt=this.ucmp(Nt);return this.negative!==0?-Vt|0:Vt},mt.prototype.ucmp=function(Nt){if(this.length>Nt.length)return 1;if(this.length<Nt.length)return-1;for(var Vt=0,er=this.length-1;er>=0;er--){var Yt=this.words[er]|0,rr=Nt.words[er]|0;if(Yt!==rr){Yt<rr?Vt=-1:Yt>rr&&(Vt=1);break}}return Vt},mt.prototype.gtn=function(Nt){return this.cmpn(Nt)===1},mt.prototype.gt=function(Nt){return this.cmp(Nt)===1},mt.prototype.gten=function(Nt){return this.cmpn(Nt)>=0},mt.prototype.gte=function(Nt){return this.cmp(Nt)>=0},mt.prototype.ltn=function(Nt){return this.cmpn(Nt)===-1},mt.prototype.lt=function(Nt){return this.cmp(Nt)===-1},mt.prototype.lten=function(Nt){return this.cmpn(Nt)<=0},mt.prototype.lte=function(Nt){return this.cmp(Nt)<=0},mt.prototype.eqn=function(Nt){return this.cmpn(Nt)===0},mt.prototype.eq=function(Nt){return this.cmp(Nt)===0},mt.red=function(Nt){return new Sr(Nt)},mt.prototype.toRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),Nt.convertTo(this)._forceRed(Nt)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(Nt){return this.red=Nt,this},mt.prototype.forceRed=function(Nt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(Nt)},mt.prototype.redAdd=function(Nt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,Nt)},mt.prototype.redIAdd=function(Nt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Nt)},mt.prototype.redSub=function(Nt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,Nt)},mt.prototype.redISub=function(Nt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,Nt)},mt.prototype.redShl=function(Nt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,Nt)},mt.prototype.redMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.mul(this,Nt)},mt.prototype.redIMul=function(Nt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Nt),this.red.imul(this,Nt)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(Nt){return nt(this.red&&!Nt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Nt)};var hr={k256:null,p224:null,p192:null,p25519:null};function vr(cr,Nt){this.name=cr,this.p=new mt(Nt,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vr.prototype._tmp=function(){var Nt=new mt(null);return Nt.words=new Array(Math.ceil(this.n/13)),Nt},vr.prototype.ireduce=function(Nt){var Vt=Nt,er;do this.split(Vt,this.tmp),Vt=this.imulK(Vt),Vt=Vt.iadd(this.tmp),er=Vt.bitLength();while(er>this.n);var Yt=er<this.n?-1:Vt.ucmp(this.p);return Yt===0?(Vt.words[0]=0,Vt.length=1):Yt>0?Vt.isub(this.p):Vt.strip!==void 0?Vt.strip():Vt._strip(),Vt},vr.prototype.split=function(Nt,Vt){Nt.iushrn(this.n,0,Vt)},vr.prototype.imulK=function(Nt){return Nt.imul(this.k)};function yr(){vr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(yr,vr),yr.prototype.split=function(Nt,Vt){for(var er=4194303,Yt=Math.min(Nt.length,9),rr=0;rr<Yt;rr++)Vt.words[rr]=Nt.words[rr];if(Vt.length=Yt,Nt.length<=9){Nt.words[0]=0,Nt.length=1;return}var ar=Nt.words[9];for(Vt.words[Vt.length++]=ar&er,rr=10;rr<Nt.length;rr++){var lr=Nt.words[rr]|0;Nt.words[rr-10]=(lr&er)<<4|ar>>>22,ar=lr}ar>>>=22,Nt.words[rr-10]=ar,ar===0&&Nt.length>10?Nt.length-=10:Nt.length-=9},yr.prototype.imulK=function(Nt){Nt.words[Nt.length]=0,Nt.words[Nt.length+1]=0,Nt.length+=2;for(var Vt=0,er=0;er<Nt.length;er++){var Yt=Nt.words[er]|0;Vt+=Yt*977,Nt.words[er]=Vt&67108863,Vt=Yt*64+(Vt/67108864|0)}return Nt.words[Nt.length-1]===0&&(Nt.length--,Nt.words[Nt.length-1]===0&&Nt.length--),Nt};function xr(){vr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(xr,vr);function br(){vr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(br,vr);function wr(){vr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(wr,vr),wr.prototype.imulK=function(Nt){for(var Vt=0,er=0;er<Nt.length;er++){var Yt=(Nt.words[er]|0)*19+Vt,rr=Yt&67108863;Yt>>>=26,Nt.words[er]=rr,Vt=Yt}return Vt!==0&&(Nt.words[Nt.length++]=Vt),Nt},mt._prime=function(Nt){if(hr[Nt])return hr[Nt];var Vt;if(Nt==="k256")Vt=new yr;else if(Nt==="p224")Vt=new xr;else if(Nt==="p192")Vt=new br;else if(Nt==="p25519")Vt=new wr;else throw new Error("Unknown prime "+Nt);return hr[Nt]=Vt,Vt};function Sr(cr){if(typeof cr=="string"){var Nt=mt._prime(cr);this.m=Nt.p,this.prime=Nt}else nt(cr.gtn(1),"modulus must be greater than 1"),this.m=cr,this.prime=null}Sr.prototype._verify1=function(Nt){nt(Nt.negative===0,"red works only with positives"),nt(Nt.red,"red works only with red numbers")},Sr.prototype._verify2=function(Nt,Vt){nt((Nt.negative|Vt.negative)===0,"red works only with positives"),nt(Nt.red&&Nt.red===Vt.red,"red works only with red numbers")},Sr.prototype.imod=function(Nt){return this.prime?this.prime.ireduce(Nt)._forceRed(this):Nt.umod(this.m)._forceRed(this)},Sr.prototype.neg=function(Nt){return Nt.isZero()?Nt.clone():this.m.sub(Nt)._forceRed(this)},Sr.prototype.add=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.add(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er._forceRed(this)},Sr.prototype.iadd=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.iadd(Vt);return er.cmp(this.m)>=0&&er.isub(this.m),er},Sr.prototype.sub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.sub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er._forceRed(this)},Sr.prototype.isub=function(Nt,Vt){this._verify2(Nt,Vt);var er=Nt.isub(Vt);return er.cmpn(0)<0&&er.iadd(this.m),er},Sr.prototype.shl=function(Nt,Vt){return this._verify1(Nt),this.imod(Nt.ushln(Vt))},Sr.prototype.imul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.imul(Vt))},Sr.prototype.mul=function(Nt,Vt){return this._verify2(Nt,Vt),this.imod(Nt.mul(Vt))},Sr.prototype.isqr=function(Nt){return this.imul(Nt,Nt.clone())},Sr.prototype.sqr=function(Nt){return this.mul(Nt,Nt)},Sr.prototype.sqrt=function(Nt){if(Nt.isZero())return Nt.clone();var Vt=this.m.andln(3);if(nt(Vt%2===1),Vt===3){var er=this.m.add(new mt(1)).iushrn(2);return this.pow(Nt,er)}for(var Yt=this.m.subn(1),rr=0;!Yt.isZero()&&Yt.andln(1)===0;)rr++,Yt.iushrn(1);nt(!Yt.isZero());var ar=new mt(1).toRed(this),lr=ar.redNeg(),nr=this.m.subn(1).iushrn(1),Lt=this.m.bitLength();for(Lt=new mt(2*Lt*Lt).toRed(this);this.pow(Lt,nr).cmp(lr)!==0;)Lt.redIAdd(lr);for(var or=this.pow(Lt,Yt),gr=this.pow(Nt,Yt.addn(1).iushrn(1)),pr=this.pow(Nt,Yt),_r=rr;pr.cmp(ar)!==0;){for(var kr=pr,Mr=0;kr.cmp(ar)!==0;Mr++)kr=kr.redSqr();nt(Mr<_r);var $r=this.pow(or,new mt(1).iushln(_r-Mr-1));gr=gr.redMul($r),or=$r.redSqr(),pr=pr.redMul(or),_r=Mr}return gr},Sr.prototype.invm=function(Nt){var Vt=Nt._invmp(this.m);return Vt.negative!==0?(Vt.negative=0,this.imod(Vt).redNeg()):this.imod(Vt)},Sr.prototype.pow=function(Nt,Vt){if(Vt.isZero())return new mt(1).toRed(this);if(Vt.cmpn(1)===0)return Nt.clone();var er=4,Yt=new Array(1<<er);Yt[0]=new mt(1).toRed(this),Yt[1]=Nt;for(var rr=2;rr<Yt.length;rr++)Yt[rr]=this.mul(Yt[rr-1],Nt);var ar=Yt[0],lr=0,nr=0,Lt=Vt.bitLength()%26;for(Lt===0&&(Lt=26),rr=Vt.length-1;rr>=0;rr--){for(var or=Vt.words[rr],gr=Lt-1;gr>=0;gr--){var pr=or>>gr&1;if(ar!==Yt[0]&&(ar=this.sqr(ar)),pr===0&&lr===0){nr=0;continue}lr<<=1,lr|=pr,nr++,!(nr!==er&&(rr!==0||gr!==0))&&(ar=this.mul(ar,Yt[lr]),nr=0,lr=0)}Lt=26}return ar},Sr.prototype.convertTo=function(Nt){var Vt=Nt.umod(this.m);return Vt===Nt?Vt.clone():Vt},Sr.prototype.convertFrom=function(Nt){var Vt=Nt.clone();return Vt.red=null,Vt},mt.mont=function(Nt){return new Cr(Nt)};function Cr(cr){Sr.call(this,cr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Cr,Sr),Cr.prototype.convertTo=function(Nt){return this.imod(Nt.ushln(this.shift))},Cr.prototype.convertFrom=function(Nt){var Vt=this.imod(Nt.mul(this.rinv));return Vt.red=null,Vt},Cr.prototype.imul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return Nt.words[0]=0,Nt.length=1,Nt;var er=Nt.imul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.mul=function(Nt,Vt){if(Nt.isZero()||Vt.isZero())return new mt(0)._forceRed(this);var er=Nt.mul(Vt),Yt=er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rr=er.isub(Yt).iushrn(this.shift),ar=rr;return rr.cmp(this.m)>=0?ar=rr.isub(this.m):rr.cmpn(0)<0&&(ar=rr.iadd(this.m)),ar._forceRed(this)},Cr.prototype.invm=function(Nt){var Vt=this.imod(Nt._invmp(this.m).mul(this.r2));return Vt._forceRed(this)}})(a,commonjsGlobal$1)}(bn$1)),bn$1.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var a=requireBn(),s=requireSafeBuffer$1().Buffer;function et(nt,at){return s.from(nt.toRed(a.mont(at.modulus)).redPow(new a(at.publicExponent)).fromRed().toArray())}return withPublic_1=et,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var a=requireParseAsn1(),s=requireBrowser$b(),et=requireBrowser$9(),nt=requireMgf(),at=requireXor(),mt=requireBn(),wt=requireWithPublic(),$t=requireBrowserifyRsa(),Ct=requireSafeBuffer$1().Buffer;publicEncrypt=function(tr,ir,sr){var ur;tr.padding?ur=tr.padding:sr?ur=1:ur=4;var fr=a(tr),dr;if(ur===4)dr=Dt(fr,ir);else if(ur===1)dr=Ft(fr,ir,sr);else if(ur===3){if(dr=new mt(ir),dr.cmp(fr.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return sr?$t(dr,fr):wt(dr,fr)};function Dt(Ut,tr){var ir=Ut.modulus.byteLength(),sr=tr.length,ur=et("sha1").update(Ct.alloc(0)).digest(),fr=ur.length,dr=2*fr;if(sr>ir-dr-2)throw new Error("message too long");var hr=Ct.alloc(ir-sr-dr-2),vr=ir-fr-1,yr=s(fr),xr=at(Ct.concat([ur,hr,Ct.alloc(1,1),tr],vr),nt(yr,vr)),br=at(yr,nt(xr,fr));return new mt(Ct.concat([Ct.alloc(1),br,xr],ir))}function Ft(Ut,tr,ir){var sr=tr.length,ur=Ut.modulus.byteLength();if(sr>ur-11)throw new Error("message too long");var fr;return ir?fr=Ct.alloc(ur-sr-3,255):fr=jt(ur-sr-3),new mt(Ct.concat([Ct.from([0,ir?1:2]),fr,Ct.alloc(1),tr],ur))}function jt(Ut){for(var tr=Ct.allocUnsafe(Ut),ir=0,sr=s(Ut*2),ur=0,fr;ir<Ut;)ur===sr.length&&(sr=s(Ut*2),ur=0),fr=sr[ur++],fr&&(tr[ir++]=fr);return tr}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var a=requireParseAsn1(),s=requireMgf(),et=requireXor(),nt=requireBn(),at=requireBrowserifyRsa(),mt=requireBrowser$9(),wt=requireWithPublic(),$t=requireSafeBuffer$1().Buffer;privateDecrypt=function(Ut,tr,ir){var sr;Ut.padding?sr=Ut.padding:ir?sr=1:sr=4;var ur=a(Ut),fr=ur.modulus.byteLength();if(tr.length>fr||new nt(tr).cmp(ur.modulus)>=0)throw new Error("decryption error");var dr;ir?dr=wt(new nt(tr),ur):dr=at(tr,ur);var hr=$t.alloc(fr-dr.length);if(dr=$t.concat([hr,dr],fr),sr===4)return Ct(ur,dr);if(sr===1)return Dt(ur,dr,ir);if(sr===3)return dr;throw new Error("unknown padding")};function Ct(jt,Ut){var tr=jt.modulus.byteLength(),ir=mt("sha1").update($t.alloc(0)).digest(),sr=ir.length;if(Ut[0]!==0)throw new Error("decryption error");var ur=Ut.slice(1,sr+1),fr=Ut.slice(sr+1),dr=et(ur,s(fr,sr)),hr=et(fr,s(dr,tr-sr-1));if(Ft(ir,hr.slice(0,sr)))throw new Error("decryption error");for(var vr=sr;hr[vr]===0;)vr++;if(hr[vr++]!==1)throw new Error("decryption error");return hr.slice(vr)}function Dt(jt,Ut,tr){for(var ir=Ut.slice(0,2),sr=2,ur=0;Ut[sr++]!==0;)if(sr>=Ut.length){ur++;break}var fr=Ut.slice(2,sr-1);if((ir.toString("hex")!=="0002"&&!tr||ir.toString("hex")!=="0001"&&tr)&&ur++,fr.length<8&&ur++,ur)throw new Error("decryption error");return Ut.slice(sr)}function Ft(jt,Ut){jt=$t.from(jt),Ut=$t.from(Ut);var tr=0,ir=jt.length;jt.length!==Ut.length&&(tr++,ir=Math.min(jt.length,Ut.length));for(var sr=-1;++sr<ir;)tr+=jt[sr]^Ut[sr];return tr}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(a){a.publicEncrypt=requirePublicEncrypt(),a.privateDecrypt=requirePrivateDecrypt(),a.privateEncrypt=function(et,nt){return a.publicEncrypt(et,nt,!0)},a.publicDecrypt=function(et,nt){return a.privateDecrypt(et,nt,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=requireSafeBuffer$1(),et=requireBrowser$b(),nt=s.Buffer,at=s.kMaxLength,mt=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto,wt=Math.pow(2,32)-1;function $t(Ut,tr){if(typeof Ut!="number"||Ut!==Ut)throw new TypeError("offset must be a number");if(Ut>wt||Ut<0)throw new TypeError("offset must be a uint32");if(Ut>at||Ut>tr)throw new RangeError("offset out of range")}function Ct(Ut,tr,ir){if(typeof Ut!="number"||Ut!==Ut)throw new TypeError("size must be a number");if(Ut>wt||Ut<0)throw new TypeError("size must be a uint32");if(Ut+tr>ir||Ut>at)throw new RangeError("buffer too small")}mt&&mt.getRandomValues||!process$1.browser?(browser$2.randomFill=Dt,browser$2.randomFillSync=jt):(browser$2.randomFill=a,browser$2.randomFillSync=a);function Dt(Ut,tr,ir,sr){if(!nt.isBuffer(Ut)&&!(Ut instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof tr=="function")sr=tr,tr=0,ir=Ut.length;else if(typeof ir=="function")sr=ir,ir=Ut.length-tr;else if(typeof sr!="function")throw new TypeError('"cb" argument must be a function');return $t(tr,Ut.length),Ct(ir,tr,Ut.length),Ft(Ut,tr,ir,sr)}function Ft(Ut,tr,ir,sr){if(process$1.browser){var ur=Ut.buffer,fr=new Uint8Array(ur,tr,ir);if(mt.getRandomValues(fr),sr){process$1.nextTick(function(){sr(null,Ut)});return}return Ut}if(sr){et(ir,function(hr,vr){if(hr)return sr(hr);vr.copy(Ut,tr),sr(null,Ut)});return}var dr=et(ir);return dr.copy(Ut,tr),Ut}function jt(Ut,tr,ir){if(typeof tr>"u"&&(tr=0),!nt.isBuffer(Ut)&&!(Ut instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return $t(tr,Ut.length),ir===void 0&&(ir=Ut.length-tr),Ct(ir,tr,Ut.length),Ft(Ut,tr,ir)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var a=requireAlgos(),s=Object.keys(a),et=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);cryptoBrowserify.getHashes=function(){return et};var nt=requireBrowser$7();cryptoBrowserify.pbkdf2=nt.pbkdf2,cryptoBrowserify.pbkdf2Sync=nt.pbkdf2Sync;var at=requireBrowser$5();cryptoBrowserify.Cipher=at.Cipher,cryptoBrowserify.createCipher=at.createCipher,cryptoBrowserify.Cipheriv=at.Cipheriv,cryptoBrowserify.createCipheriv=at.createCipheriv,cryptoBrowserify.Decipher=at.Decipher,cryptoBrowserify.createDecipher=at.createDecipher,cryptoBrowserify.Decipheriv=at.Decipheriv,cryptoBrowserify.createDecipheriv=at.createDecipheriv,cryptoBrowserify.getCiphers=at.getCiphers,cryptoBrowserify.listCiphers=at.listCiphers;var mt=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=mt.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=mt.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=mt.getDiffieHellman,cryptoBrowserify.createDiffieHellman=mt.createDiffieHellman,cryptoBrowserify.DiffieHellman=mt.DiffieHellman;var wt=requireBrowser$3();cryptoBrowserify.createSign=wt.createSign,cryptoBrowserify.Sign=wt.Sign,cryptoBrowserify.createVerify=wt.createVerify,cryptoBrowserify.Verify=wt.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var $t=requireBrowser$1();cryptoBrowserify.publicEncrypt=$t.publicEncrypt,cryptoBrowserify.privateEncrypt=$t.privateEncrypt,cryptoBrowserify.publicDecrypt=$t.publicDecrypt,cryptoBrowserify.privateDecrypt=$t.privateDecrypt;var Ct=requireBrowser();return cryptoBrowserify.randomFill=Ct.randomFill,cryptoBrowserify.randomFillSync=Ct.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(a,s){(function(et,nt){a.exports=nt()})(commonjsGlobal$1,function(){var et=et||function(nt,at){var mt;if(typeof window<"u"&&window.crypto&&(mt=window.crypto),typeof self<"u"&&self.crypto&&(mt=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(mt=globalThis.crypto),!mt&&typeof window<"u"&&window.msCrypto&&(mt=window.msCrypto),!mt&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(mt=commonjsGlobal$1.crypto),!mt&&typeof commonjsRequire=="function")try{mt=requireCryptoBrowserify()}catch{}var wt=function(){if(mt){if(typeof mt.getRandomValues=="function")try{return mt.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof mt.randomBytes=="function")try{return mt.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},$t=Object.create||function(){function dr(){}return function(hr){var vr;return dr.prototype=hr,vr=new dr,dr.prototype=null,vr}}(),Ct={},Dt=Ct.lib={},Ft=Dt.Base=function(){return{extend:function(dr){var hr=$t(this);return dr&&hr.mixIn(dr),(!hr.hasOwnProperty("init")||this.init===hr.init)&&(hr.init=function(){hr.$super.init.apply(this,arguments)}),hr.init.prototype=hr,hr.$super=this,hr},create:function(){var dr=this.extend();return dr.init.apply(dr,arguments),dr},init:function(){},mixIn:function(dr){for(var hr in dr)dr.hasOwnProperty(hr)&&(this[hr]=dr[hr]);dr.hasOwnProperty("toString")&&(this.toString=dr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),jt=Dt.WordArray=Ft.extend({init:function(dr,hr){dr=this.words=dr||[],hr!=at?this.sigBytes=hr:this.sigBytes=dr.length*4},toString:function(dr){return(dr||tr).stringify(this)},concat:function(dr){var hr=this.words,vr=dr.words,yr=this.sigBytes,xr=dr.sigBytes;if(this.clamp(),yr%4)for(var br=0;br<xr;br++){var wr=vr[br>>>2]>>>24-br%4*8&255;hr[yr+br>>>2]|=wr<<24-(yr+br)%4*8}else for(var Sr=0;Sr<xr;Sr+=4)hr[yr+Sr>>>2]=vr[Sr>>>2];return this.sigBytes+=xr,this},clamp:function(){var dr=this.words,hr=this.sigBytes;dr[hr>>>2]&=4294967295<<32-hr%4*8,dr.length=nt.ceil(hr/4)},clone:function(){var dr=Ft.clone.call(this);return dr.words=this.words.slice(0),dr},random:function(dr){for(var hr=[],vr=0;vr<dr;vr+=4)hr.push(wt());return new jt.init(hr,dr)}}),Ut=Ct.enc={},tr=Ut.Hex={stringify:function(dr){for(var hr=dr.words,vr=dr.sigBytes,yr=[],xr=0;xr<vr;xr++){var br=hr[xr>>>2]>>>24-xr%4*8&255;yr.push((br>>>4).toString(16)),yr.push((br&15).toString(16))}return yr.join("")},parse:function(dr){for(var hr=dr.length,vr=[],yr=0;yr<hr;yr+=2)vr[yr>>>3]|=parseInt(dr.substr(yr,2),16)<<24-yr%8*4;return new jt.init(vr,hr/2)}},ir=Ut.Latin1={stringify:function(dr){for(var hr=dr.words,vr=dr.sigBytes,yr=[],xr=0;xr<vr;xr++){var br=hr[xr>>>2]>>>24-xr%4*8&255;yr.push(String.fromCharCode(br))}return yr.join("")},parse:function(dr){for(var hr=dr.length,vr=[],yr=0;yr<hr;yr++)vr[yr>>>2]|=(dr.charCodeAt(yr)&255)<<24-yr%4*8;return new jt.init(vr,hr)}},sr=Ut.Utf8={stringify:function(dr){try{return decodeURIComponent(escape(ir.stringify(dr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(dr){return ir.parse(unescape(encodeURIComponent(dr)))}},ur=Dt.BufferedBlockAlgorithm=Ft.extend({reset:function(){this._data=new jt.init,this._nDataBytes=0},_append:function(dr){typeof dr=="string"&&(dr=sr.parse(dr)),this._data.concat(dr),this._nDataBytes+=dr.sigBytes},_process:function(dr){var hr,vr=this._data,yr=vr.words,xr=vr.sigBytes,br=this.blockSize,wr=br*4,Sr=xr/wr;dr?Sr=nt.ceil(Sr):Sr=nt.max((Sr|0)-this._minBufferSize,0);var Cr=Sr*br,cr=nt.min(Cr*4,xr);if(Cr){for(var Nt=0;Nt<Cr;Nt+=br)this._doProcessBlock(yr,Nt);hr=yr.splice(0,Cr),vr.sigBytes-=cr}return new jt.init(hr,cr)},clone:function(){var dr=Ft.clone.call(this);return dr._data=this._data.clone(),dr},_minBufferSize:0});Dt.Hasher=ur.extend({cfg:Ft.extend(),init:function(dr){this.cfg=this.cfg.extend(dr),this.reset()},reset:function(){ur.reset.call(this),this._doReset()},update:function(dr){return this._append(dr),this._process(),this},finalize:function(dr){dr&&this._append(dr);var hr=this._doFinalize();return hr},blockSize:16,_createHelper:function(dr){return function(hr,vr){return new dr.init(vr).finalize(hr)}},_createHmacHelper:function(dr){return function(hr,vr){return new fr.HMAC.init(dr,vr).finalize(hr)}}});var fr=Ct.algo={};return Ct}(Math);return et})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.Base,$t=mt.WordArray,Ct=at.x64={};Ct.Word=wt.extend({init:function(Dt,Ft){this.high=Dt,this.low=Ft}}),Ct.WordArray=wt.extend({init:function(Dt,Ft){Dt=this.words=Dt||[],Ft!=nt?this.sigBytes=Ft:this.sigBytes=Dt.length*8},toX32:function(){for(var Dt=this.words,Ft=Dt.length,jt=[],Ut=0;Ut<Ft;Ut++){var tr=Dt[Ut];jt.push(tr.high),jt.push(tr.low)}return $t.create(jt,this.sigBytes)},clone:function(){for(var Dt=wt.clone.call(this),Ft=Dt.words=this.words.slice(0),jt=Ft.length,Ut=0;Ut<jt;Ut++)Ft[Ut]=Ft[Ut].clone();return Dt}})}(),et})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){if(typeof ArrayBuffer=="function"){var nt=et,at=nt.lib,mt=at.WordArray,wt=mt.init,$t=mt.init=function(Ct){if(Ct instanceof ArrayBuffer&&(Ct=new Uint8Array(Ct)),(Ct instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Ct instanceof Uint8ClampedArray||Ct instanceof Int16Array||Ct instanceof Uint16Array||Ct instanceof Int32Array||Ct instanceof Uint32Array||Ct instanceof Float32Array||Ct instanceof Float64Array)&&(Ct=new Uint8Array(Ct.buffer,Ct.byteOffset,Ct.byteLength)),Ct instanceof Uint8Array){for(var Dt=Ct.byteLength,Ft=[],jt=0;jt<Dt;jt++)Ft[jt>>>2]|=Ct[jt]<<24-jt%4*8;wt.call(this,Ft,Dt)}else wt.apply(this,arguments)};$t.prototype=mt}}(),et.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.enc;wt.Utf16=wt.Utf16BE={stringify:function(Ct){for(var Dt=Ct.words,Ft=Ct.sigBytes,jt=[],Ut=0;Ut<Ft;Ut+=2){var tr=Dt[Ut>>>2]>>>16-Ut%4*8&65535;jt.push(String.fromCharCode(tr))}return jt.join("")},parse:function(Ct){for(var Dt=Ct.length,Ft=[],jt=0;jt<Dt;jt++)Ft[jt>>>1]|=Ct.charCodeAt(jt)<<16-jt%2*16;return mt.create(Ft,Dt*2)}},wt.Utf16LE={stringify:function(Ct){for(var Dt=Ct.words,Ft=Ct.sigBytes,jt=[],Ut=0;Ut<Ft;Ut+=2){var tr=$t(Dt[Ut>>>2]>>>16-Ut%4*8&65535);jt.push(String.fromCharCode(tr))}return jt.join("")},parse:function(Ct){for(var Dt=Ct.length,Ft=[],jt=0;jt<Dt;jt++)Ft[jt>>>1]|=$t(Ct.charCodeAt(jt)<<16-jt%2*16);return mt.create(Ft,Dt*2)}};function $t(Ct){return Ct<<8&4278255360|Ct>>>8&16711935}}(),et.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.enc;wt.Base64={stringify:function(Ct){var Dt=Ct.words,Ft=Ct.sigBytes,jt=this._map;Ct.clamp();for(var Ut=[],tr=0;tr<Ft;tr+=3)for(var ir=Dt[tr>>>2]>>>24-tr%4*8&255,sr=Dt[tr+1>>>2]>>>24-(tr+1)%4*8&255,ur=Dt[tr+2>>>2]>>>24-(tr+2)%4*8&255,fr=ir<<16|sr<<8|ur,dr=0;dr<4&&tr+dr*.75<Ft;dr++)Ut.push(jt.charAt(fr>>>6*(3-dr)&63));var hr=jt.charAt(64);if(hr)for(;Ut.length%4;)Ut.push(hr);return Ut.join("")},parse:function(Ct){var Dt=Ct.length,Ft=this._map,jt=this._reverseMap;if(!jt){jt=this._reverseMap=[];for(var Ut=0;Ut<Ft.length;Ut++)jt[Ft.charCodeAt(Ut)]=Ut}var tr=Ft.charAt(64);if(tr){var ir=Ct.indexOf(tr);ir!==-1&&(Dt=ir)}return $t(Ct,Dt,jt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function $t(Ct,Dt,Ft){for(var jt=[],Ut=0,tr=0;tr<Dt;tr++)if(tr%4){var ir=Ft[Ct.charCodeAt(tr-1)]<<tr%4*2,sr=Ft[Ct.charCodeAt(tr)]>>>6-tr%4*2,ur=ir|sr;jt[Ut>>>2]|=ur<<24-Ut%4*8,Ut++}return mt.create(jt,Ut)}}(),et.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.enc;wt.Base64url={stringify:function(Ct,Dt){Dt===void 0&&(Dt=!0);var Ft=Ct.words,jt=Ct.sigBytes,Ut=Dt?this._safe_map:this._map;Ct.clamp();for(var tr=[],ir=0;ir<jt;ir+=3)for(var sr=Ft[ir>>>2]>>>24-ir%4*8&255,ur=Ft[ir+1>>>2]>>>24-(ir+1)%4*8&255,fr=Ft[ir+2>>>2]>>>24-(ir+2)%4*8&255,dr=sr<<16|ur<<8|fr,hr=0;hr<4&&ir+hr*.75<jt;hr++)tr.push(Ut.charAt(dr>>>6*(3-hr)&63));var vr=Ut.charAt(64);if(vr)for(;tr.length%4;)tr.push(vr);return tr.join("")},parse:function(Ct,Dt){Dt===void 0&&(Dt=!0);var Ft=Ct.length,jt=Dt?this._safe_map:this._map,Ut=this._reverseMap;if(!Ut){Ut=this._reverseMap=[];for(var tr=0;tr<jt.length;tr++)Ut[jt.charCodeAt(tr)]=tr}var ir=jt.charAt(64);if(ir){var sr=Ct.indexOf(ir);sr!==-1&&(Ft=sr)}return $t(Ct,Ft,Ut)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function $t(Ct,Dt,Ft){for(var jt=[],Ut=0,tr=0;tr<Dt;tr++)if(tr%4){var ir=Ft[Ct.charCodeAt(tr-1)]<<tr%4*2,sr=Ft[Ct.charCodeAt(tr)]>>>6-tr%4*2,ur=ir|sr;jt[Ut>>>2]|=ur<<24-Ut%4*8,Ut++}return mt.create(jt,Ut)}}(),et.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.algo,Dt=[];(function(){for(var sr=0;sr<64;sr++)Dt[sr]=nt.abs(nt.sin(sr+1))*4294967296|0})();var Ft=Ct.MD5=$t.extend({_doReset:function(){this._hash=new wt.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(sr,ur){for(var fr=0;fr<16;fr++){var dr=ur+fr,hr=sr[dr];sr[dr]=(hr<<8|hr>>>24)&16711935|(hr<<24|hr>>>8)&4278255360}var vr=this._hash.words,yr=sr[ur+0],xr=sr[ur+1],br=sr[ur+2],wr=sr[ur+3],Sr=sr[ur+4],Cr=sr[ur+5],cr=sr[ur+6],Nt=sr[ur+7],Vt=sr[ur+8],er=sr[ur+9],Yt=sr[ur+10],rr=sr[ur+11],ar=sr[ur+12],lr=sr[ur+13],nr=sr[ur+14],Lt=sr[ur+15],or=vr[0],gr=vr[1],pr=vr[2],_r=vr[3];or=jt(or,gr,pr,_r,yr,7,Dt[0]),_r=jt(_r,or,gr,pr,xr,12,Dt[1]),pr=jt(pr,_r,or,gr,br,17,Dt[2]),gr=jt(gr,pr,_r,or,wr,22,Dt[3]),or=jt(or,gr,pr,_r,Sr,7,Dt[4]),_r=jt(_r,or,gr,pr,Cr,12,Dt[5]),pr=jt(pr,_r,or,gr,cr,17,Dt[6]),gr=jt(gr,pr,_r,or,Nt,22,Dt[7]),or=jt(or,gr,pr,_r,Vt,7,Dt[8]),_r=jt(_r,or,gr,pr,er,12,Dt[9]),pr=jt(pr,_r,or,gr,Yt,17,Dt[10]),gr=jt(gr,pr,_r,or,rr,22,Dt[11]),or=jt(or,gr,pr,_r,ar,7,Dt[12]),_r=jt(_r,or,gr,pr,lr,12,Dt[13]),pr=jt(pr,_r,or,gr,nr,17,Dt[14]),gr=jt(gr,pr,_r,or,Lt,22,Dt[15]),or=Ut(or,gr,pr,_r,xr,5,Dt[16]),_r=Ut(_r,or,gr,pr,cr,9,Dt[17]),pr=Ut(pr,_r,or,gr,rr,14,Dt[18]),gr=Ut(gr,pr,_r,or,yr,20,Dt[19]),or=Ut(or,gr,pr,_r,Cr,5,Dt[20]),_r=Ut(_r,or,gr,pr,Yt,9,Dt[21]),pr=Ut(pr,_r,or,gr,Lt,14,Dt[22]),gr=Ut(gr,pr,_r,or,Sr,20,Dt[23]),or=Ut(or,gr,pr,_r,er,5,Dt[24]),_r=Ut(_r,or,gr,pr,nr,9,Dt[25]),pr=Ut(pr,_r,or,gr,wr,14,Dt[26]),gr=Ut(gr,pr,_r,or,Vt,20,Dt[27]),or=Ut(or,gr,pr,_r,lr,5,Dt[28]),_r=Ut(_r,or,gr,pr,br,9,Dt[29]),pr=Ut(pr,_r,or,gr,Nt,14,Dt[30]),gr=Ut(gr,pr,_r,or,ar,20,Dt[31]),or=tr(or,gr,pr,_r,Cr,4,Dt[32]),_r=tr(_r,or,gr,pr,Vt,11,Dt[33]),pr=tr(pr,_r,or,gr,rr,16,Dt[34]),gr=tr(gr,pr,_r,or,nr,23,Dt[35]),or=tr(or,gr,pr,_r,xr,4,Dt[36]),_r=tr(_r,or,gr,pr,Sr,11,Dt[37]),pr=tr(pr,_r,or,gr,Nt,16,Dt[38]),gr=tr(gr,pr,_r,or,Yt,23,Dt[39]),or=tr(or,gr,pr,_r,lr,4,Dt[40]),_r=tr(_r,or,gr,pr,yr,11,Dt[41]),pr=tr(pr,_r,or,gr,wr,16,Dt[42]),gr=tr(gr,pr,_r,or,cr,23,Dt[43]),or=tr(or,gr,pr,_r,er,4,Dt[44]),_r=tr(_r,or,gr,pr,ar,11,Dt[45]),pr=tr(pr,_r,or,gr,Lt,16,Dt[46]),gr=tr(gr,pr,_r,or,br,23,Dt[47]),or=ir(or,gr,pr,_r,yr,6,Dt[48]),_r=ir(_r,or,gr,pr,Nt,10,Dt[49]),pr=ir(pr,_r,or,gr,nr,15,Dt[50]),gr=ir(gr,pr,_r,or,Cr,21,Dt[51]),or=ir(or,gr,pr,_r,ar,6,Dt[52]),_r=ir(_r,or,gr,pr,wr,10,Dt[53]),pr=ir(pr,_r,or,gr,Yt,15,Dt[54]),gr=ir(gr,pr,_r,or,xr,21,Dt[55]),or=ir(or,gr,pr,_r,Vt,6,Dt[56]),_r=ir(_r,or,gr,pr,Lt,10,Dt[57]),pr=ir(pr,_r,or,gr,cr,15,Dt[58]),gr=ir(gr,pr,_r,or,lr,21,Dt[59]),or=ir(or,gr,pr,_r,Sr,6,Dt[60]),_r=ir(_r,or,gr,pr,rr,10,Dt[61]),pr=ir(pr,_r,or,gr,br,15,Dt[62]),gr=ir(gr,pr,_r,or,er,21,Dt[63]),vr[0]=vr[0]+or|0,vr[1]=vr[1]+gr|0,vr[2]=vr[2]+pr|0,vr[3]=vr[3]+_r|0},_doFinalize:function(){var sr=this._data,ur=sr.words,fr=this._nDataBytes*8,dr=sr.sigBytes*8;ur[dr>>>5]|=128<<24-dr%32;var hr=nt.floor(fr/4294967296),vr=fr;ur[(dr+64>>>9<<4)+15]=(hr<<8|hr>>>24)&16711935|(hr<<24|hr>>>8)&4278255360,ur[(dr+64>>>9<<4)+14]=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360,sr.sigBytes=(ur.length+1)*4,this._process();for(var yr=this._hash,xr=yr.words,br=0;br<4;br++){var wr=xr[br];xr[br]=(wr<<8|wr>>>24)&16711935|(wr<<24|wr>>>8)&4278255360}return yr},clone:function(){var sr=$t.clone.call(this);return sr._hash=this._hash.clone(),sr}});function jt(sr,ur,fr,dr,hr,vr,yr){var xr=sr+(ur&fr|~ur&dr)+hr+yr;return(xr<<vr|xr>>>32-vr)+ur}function Ut(sr,ur,fr,dr,hr,vr,yr){var xr=sr+(ur&dr|fr&~dr)+hr+yr;return(xr<<vr|xr>>>32-vr)+ur}function tr(sr,ur,fr,dr,hr,vr,yr){var xr=sr+(ur^fr^dr)+hr+yr;return(xr<<vr|xr>>>32-vr)+ur}function ir(sr,ur,fr,dr,hr,vr,yr){var xr=sr+(fr^(ur|~dr))+hr+yr;return(xr<<vr|xr>>>32-vr)+ur}at.MD5=$t._createHelper(Ft),at.HmacMD5=$t._createHmacHelper(Ft)}(Math),et.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=at.Hasher,$t=nt.algo,Ct=[],Dt=$t.SHA1=wt.extend({_doReset:function(){this._hash=new mt.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ft,jt){for(var Ut=this._hash.words,tr=Ut[0],ir=Ut[1],sr=Ut[2],ur=Ut[3],fr=Ut[4],dr=0;dr<80;dr++){if(dr<16)Ct[dr]=Ft[jt+dr]|0;else{var hr=Ct[dr-3]^Ct[dr-8]^Ct[dr-14]^Ct[dr-16];Ct[dr]=hr<<1|hr>>>31}var vr=(tr<<5|tr>>>27)+fr+Ct[dr];dr<20?vr+=(ir&sr|~ir&ur)+1518500249:dr<40?vr+=(ir^sr^ur)+1859775393:dr<60?vr+=(ir&sr|ir&ur|sr&ur)-1894007588:vr+=(ir^sr^ur)-899497514,fr=ur,ur=sr,sr=ir<<30|ir>>>2,ir=tr,tr=vr}Ut[0]=Ut[0]+tr|0,Ut[1]=Ut[1]+ir|0,Ut[2]=Ut[2]+sr|0,Ut[3]=Ut[3]+ur|0,Ut[4]=Ut[4]+fr|0},_doFinalize:function(){var Ft=this._data,jt=Ft.words,Ut=this._nDataBytes*8,tr=Ft.sigBytes*8;return jt[tr>>>5]|=128<<24-tr%32,jt[(tr+64>>>9<<4)+14]=Math.floor(Ut/4294967296),jt[(tr+64>>>9<<4)+15]=Ut,Ft.sigBytes=jt.length*4,this._process(),this._hash},clone:function(){var Ft=wt.clone.call(this);return Ft._hash=this._hash.clone(),Ft}});nt.SHA1=wt._createHelper(Dt),nt.HmacSHA1=wt._createHmacHelper(Dt)}(),et.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.algo,Dt=[],Ft=[];(function(){function tr(fr){for(var dr=nt.sqrt(fr),hr=2;hr<=dr;hr++)if(!(fr%hr))return!1;return!0}function ir(fr){return(fr-(fr|0))*4294967296|0}for(var sr=2,ur=0;ur<64;)tr(sr)&&(ur<8&&(Dt[ur]=ir(nt.pow(sr,1/2))),Ft[ur]=ir(nt.pow(sr,1/3)),ur++),sr++})();var jt=[],Ut=Ct.SHA256=$t.extend({_doReset:function(){this._hash=new wt.init(Dt.slice(0))},_doProcessBlock:function(tr,ir){for(var sr=this._hash.words,ur=sr[0],fr=sr[1],dr=sr[2],hr=sr[3],vr=sr[4],yr=sr[5],xr=sr[6],br=sr[7],wr=0;wr<64;wr++){if(wr<16)jt[wr]=tr[ir+wr]|0;else{var Sr=jt[wr-15],Cr=(Sr<<25|Sr>>>7)^(Sr<<14|Sr>>>18)^Sr>>>3,cr=jt[wr-2],Nt=(cr<<15|cr>>>17)^(cr<<13|cr>>>19)^cr>>>10;jt[wr]=Cr+jt[wr-7]+Nt+jt[wr-16]}var Vt=vr&yr^~vr&xr,er=ur&fr^ur&dr^fr&dr,Yt=(ur<<30|ur>>>2)^(ur<<19|ur>>>13)^(ur<<10|ur>>>22),rr=(vr<<26|vr>>>6)^(vr<<21|vr>>>11)^(vr<<7|vr>>>25),ar=br+rr+Vt+Ft[wr]+jt[wr],lr=Yt+er;br=xr,xr=yr,yr=vr,vr=hr+ar|0,hr=dr,dr=fr,fr=ur,ur=ar+lr|0}sr[0]=sr[0]+ur|0,sr[1]=sr[1]+fr|0,sr[2]=sr[2]+dr|0,sr[3]=sr[3]+hr|0,sr[4]=sr[4]+vr|0,sr[5]=sr[5]+yr|0,sr[6]=sr[6]+xr|0,sr[7]=sr[7]+br|0},_doFinalize:function(){var tr=this._data,ir=tr.words,sr=this._nDataBytes*8,ur=tr.sigBytes*8;return ir[ur>>>5]|=128<<24-ur%32,ir[(ur+64>>>9<<4)+14]=nt.floor(sr/4294967296),ir[(ur+64>>>9<<4)+15]=sr,tr.sigBytes=ir.length*4,this._process(),this._hash},clone:function(){var tr=$t.clone.call(this);return tr._hash=this._hash.clone(),tr}});at.SHA256=$t._createHelper(Ut),at.HmacSHA256=$t._createHmacHelper(Ut)}(Math),et.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireSha256())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.algo,$t=wt.SHA256,Ct=wt.SHA224=$t.extend({_doReset:function(){this._hash=new mt.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Dt=$t._doFinalize.call(this);return Dt.sigBytes-=4,Dt}});nt.SHA224=$t._createHelper(Ct),nt.HmacSHA224=$t._createHmacHelper(Ct)}(),et.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.Hasher,wt=nt.x64,$t=wt.Word,Ct=wt.WordArray,Dt=nt.algo;function Ft(){return $t.create.apply($t,arguments)}var jt=[Ft(1116352408,3609767458),Ft(1899447441,602891725),Ft(3049323471,3964484399),Ft(3921009573,2173295548),Ft(961987163,4081628472),Ft(1508970993,3053834265),Ft(2453635748,2937671579),Ft(2870763221,3664609560),Ft(3624381080,2734883394),Ft(310598401,1164996542),Ft(607225278,1323610764),Ft(1426881987,3590304994),Ft(1925078388,4068182383),Ft(2162078206,991336113),Ft(2614888103,633803317),Ft(3248222580,3479774868),Ft(3835390401,2666613458),Ft(4022224774,944711139),Ft(264347078,2341262773),Ft(604807628,2007800933),Ft(770255983,1495990901),Ft(1249150122,1856431235),Ft(1555081692,3175218132),Ft(1996064986,2198950837),Ft(2554220882,3999719339),Ft(2821834349,766784016),Ft(2952996808,2566594879),Ft(3210313671,3203337956),Ft(3336571891,1034457026),Ft(3584528711,2466948901),Ft(113926993,3758326383),Ft(338241895,168717936),Ft(666307205,1188179964),Ft(773529912,1546045734),Ft(1294757372,1522805485),Ft(1396182291,2643833823),Ft(1695183700,2343527390),Ft(1986661051,1014477480),Ft(2177026350,1206759142),Ft(2456956037,344077627),Ft(2730485921,1290863460),Ft(2820302411,3158454273),Ft(3259730800,3505952657),Ft(3345764771,106217008),Ft(3516065817,3606008344),Ft(3600352804,1432725776),Ft(4094571909,1467031594),Ft(275423344,851169720),Ft(430227734,3100823752),Ft(506948616,1363258195),Ft(659060556,3750685593),Ft(883997877,3785050280),Ft(958139571,3318307427),Ft(1322822218,3812723403),Ft(1537002063,2003034995),Ft(1747873779,3602036899),Ft(1955562222,1575990012),Ft(2024104815,1125592928),Ft(2227730452,2716904306),Ft(2361852424,442776044),Ft(2428436474,593698344),Ft(2756734187,3733110249),Ft(3204031479,2999351573),Ft(3329325298,3815920427),Ft(3391569614,3928383900),Ft(3515267271,566280711),Ft(3940187606,3454069534),Ft(4118630271,4000239992),Ft(116418474,1914138554),Ft(174292421,2731055270),Ft(289380356,3203993006),Ft(460393269,320620315),Ft(685471733,587496836),Ft(852142971,1086792851),Ft(1017036298,365543100),Ft(1126000580,2618297676),Ft(1288033470,3409855158),Ft(1501505948,4234509866),Ft(1607167915,987167468),Ft(1816402316,1246189591)],Ut=[];(function(){for(var ir=0;ir<80;ir++)Ut[ir]=Ft()})();var tr=Dt.SHA512=mt.extend({_doReset:function(){this._hash=new Ct.init([new $t.init(1779033703,4089235720),new $t.init(3144134277,2227873595),new $t.init(1013904242,4271175723),new $t.init(2773480762,1595750129),new $t.init(1359893119,2917565137),new $t.init(2600822924,725511199),new $t.init(528734635,4215389547),new $t.init(1541459225,327033209)])},_doProcessBlock:function(ir,sr){for(var ur=this._hash.words,fr=ur[0],dr=ur[1],hr=ur[2],vr=ur[3],yr=ur[4],xr=ur[5],br=ur[6],wr=ur[7],Sr=fr.high,Cr=fr.low,cr=dr.high,Nt=dr.low,Vt=hr.high,er=hr.low,Yt=vr.high,rr=vr.low,ar=yr.high,lr=yr.low,nr=xr.high,Lt=xr.low,or=br.high,gr=br.low,pr=wr.high,_r=wr.low,kr=Sr,Mr=Cr,$r=cr,Pr=Nt,Fr=Vt,Tr=er,Rr=Yt,Er=rr,Or=ar,Wr=lr,qr=nr,Vr=Lt,Ur=or,Lr=gr,Br=pr,Xr=_r,zr=0;zr<80;zr++){var Qr,Qn,nn=Ut[zr];if(zr<16)Qn=nn.high=ir[sr+zr*2]|0,Qr=nn.low=ir[sr+zr*2+1]|0;else{var $n=Ut[zr-15],lo=$n.high,sn=$n.low,Nn=(lo>>>1|sn<<31)^(lo>>>8|sn<<24)^lo>>>7,xo=(sn>>>1|lo<<31)^(sn>>>8|lo<<24)^(sn>>>7|lo<<25),Ir=Ut[zr-2],Ar=Ir.high,Dr=Ir.low,Nr=(Ar>>>19|Dr<<13)^(Ar<<3|Dr>>>29)^Ar>>>6,Gr=(Dr>>>19|Ar<<13)^(Dr<<3|Ar>>>29)^(Dr>>>6|Ar<<26),Un=Ut[zr-7],Zr=Un.high,Cn=Un.low,wo=Ut[zr-16],Hn=wo.high,Kn=wo.low;Qr=xo+Cn,Qn=Nn+Zr+(Qr>>>0<xo>>>0?1:0),Qr=Qr+Gr,Qn=Qn+Nr+(Qr>>>0<Gr>>>0?1:0),Qr=Qr+Kn,Qn=Qn+Hn+(Qr>>>0<Kn>>>0?1:0),nn.high=Qn,nn.low=Qr}var bo=Or&qr^~Or&Ur,Jn=Wr&Vr^~Wr&Lr,no=kr&$r^kr&Fr^$r&Fr,Do=Mr&Pr^Mr&Tr^Pr&Tr,eo=(kr>>>28|Mr<<4)^(kr<<30|Mr>>>2)^(kr<<25|Mr>>>7),io=(Mr>>>28|kr<<4)^(Mr<<30|kr>>>2)^(Mr<<25|kr>>>7),Io=(Or>>>14|Wr<<18)^(Or>>>18|Wr<<14)^(Or<<23|Wr>>>9),_i=(Wr>>>14|Or<<18)^(Wr>>>18|Or<<14)^(Wr<<23|Or>>>9),ro=jt[zr],Oo=ro.high,Hr=ro.low,Yr=Xr+_i,Wn=Br+Io+(Yr>>>0<Xr>>>0?1:0),Yr=Yr+Jn,Wn=Wn+bo+(Yr>>>0<Jn>>>0?1:0),Yr=Yr+Hr,Wn=Wn+Oo+(Yr>>>0<Hr>>>0?1:0),Yr=Yr+Qr,Wn=Wn+Qn+(Yr>>>0<Qr>>>0?1:0),rn=io+Do,dn=eo+no+(rn>>>0<io>>>0?1:0);Br=Ur,Xr=Lr,Ur=qr,Lr=Vr,qr=Or,Vr=Wr,Wr=Er+Yr|0,Or=Rr+Wn+(Wr>>>0<Er>>>0?1:0)|0,Rr=Fr,Er=Tr,Fr=$r,Tr=Pr,$r=kr,Pr=Mr,Mr=Yr+rn|0,kr=Wn+dn+(Mr>>>0<Yr>>>0?1:0)|0}Cr=fr.low=Cr+Mr,fr.high=Sr+kr+(Cr>>>0<Mr>>>0?1:0),Nt=dr.low=Nt+Pr,dr.high=cr+$r+(Nt>>>0<Pr>>>0?1:0),er=hr.low=er+Tr,hr.high=Vt+Fr+(er>>>0<Tr>>>0?1:0),rr=vr.low=rr+Er,vr.high=Yt+Rr+(rr>>>0<Er>>>0?1:0),lr=yr.low=lr+Wr,yr.high=ar+Or+(lr>>>0<Wr>>>0?1:0),Lt=xr.low=Lt+Vr,xr.high=nr+qr+(Lt>>>0<Vr>>>0?1:0),gr=br.low=gr+Lr,br.high=or+Ur+(gr>>>0<Lr>>>0?1:0),_r=wr.low=_r+Xr,wr.high=pr+Br+(_r>>>0<Xr>>>0?1:0)},_doFinalize:function(){var ir=this._data,sr=ir.words,ur=this._nDataBytes*8,fr=ir.sigBytes*8;sr[fr>>>5]|=128<<24-fr%32,sr[(fr+128>>>10<<5)+30]=Math.floor(ur/4294967296),sr[(fr+128>>>10<<5)+31]=ur,ir.sigBytes=sr.length*4,this._process();var dr=this._hash.toX32();return dr},clone:function(){var ir=mt.clone.call(this);return ir._hash=this._hash.clone(),ir},blockSize:1024/32});nt.SHA512=mt._createHelper(tr),nt.HmacSHA512=mt._createHmacHelper(tr)}(),et.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.x64,mt=at.Word,wt=at.WordArray,$t=nt.algo,Ct=$t.SHA512,Dt=$t.SHA384=Ct.extend({_doReset:function(){this._hash=new wt.init([new mt.init(3418070365,3238371032),new mt.init(1654270250,914150663),new mt.init(2438529370,812702999),new mt.init(355462360,4144912697),new mt.init(1731405415,4290775857),new mt.init(2394180231,1750603025),new mt.init(3675008525,1694076839),new mt.init(1203062813,3204075428)])},_doFinalize:function(){var Ft=Ct._doFinalize.call(this);return Ft.sigBytes-=16,Ft}});nt.SHA384=Ct._createHelper(Dt),nt.HmacSHA384=Ct._createHmacHelper(Dt)}(),et.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.x64,Dt=Ct.Word,Ft=at.algo,jt=[],Ut=[],tr=[];(function(){for(var ur=1,fr=0,dr=0;dr<24;dr++){jt[ur+5*fr]=(dr+1)*(dr+2)/2%64;var hr=fr%5,vr=(2*ur+3*fr)%5;ur=hr,fr=vr}for(var ur=0;ur<5;ur++)for(var fr=0;fr<5;fr++)Ut[ur+5*fr]=fr+(2*ur+3*fr)%5*5;for(var yr=1,xr=0;xr<24;xr++){for(var br=0,wr=0,Sr=0;Sr<7;Sr++){if(yr&1){var Cr=(1<<Sr)-1;Cr<32?wr^=1<<Cr:br^=1<<Cr-32}yr&128?yr=yr<<1^113:yr<<=1}tr[xr]=Dt.create(br,wr)}})();var ir=[];(function(){for(var ur=0;ur<25;ur++)ir[ur]=Dt.create()})();var sr=Ft.SHA3=$t.extend({cfg:$t.cfg.extend({outputLength:512}),_doReset:function(){for(var ur=this._state=[],fr=0;fr<25;fr++)ur[fr]=new Dt.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(ur,fr){for(var dr=this._state,hr=this.blockSize/2,vr=0;vr<hr;vr++){var yr=ur[fr+2*vr],xr=ur[fr+2*vr+1];yr=(yr<<8|yr>>>24)&16711935|(yr<<24|yr>>>8)&4278255360,xr=(xr<<8|xr>>>24)&16711935|(xr<<24|xr>>>8)&4278255360;var br=dr[vr];br.high^=xr,br.low^=yr}for(var wr=0;wr<24;wr++){for(var Sr=0;Sr<5;Sr++){for(var Cr=0,cr=0,Nt=0;Nt<5;Nt++){var br=dr[Sr+5*Nt];Cr^=br.high,cr^=br.low}var Vt=ir[Sr];Vt.high=Cr,Vt.low=cr}for(var Sr=0;Sr<5;Sr++)for(var er=ir[(Sr+4)%5],Yt=ir[(Sr+1)%5],rr=Yt.high,ar=Yt.low,Cr=er.high^(rr<<1|ar>>>31),cr=er.low^(ar<<1|rr>>>31),Nt=0;Nt<5;Nt++){var br=dr[Sr+5*Nt];br.high^=Cr,br.low^=cr}for(var lr=1;lr<25;lr++){var Cr,cr,br=dr[lr],nr=br.high,Lt=br.low,or=jt[lr];or<32?(Cr=nr<<or|Lt>>>32-or,cr=Lt<<or|nr>>>32-or):(Cr=Lt<<or-32|nr>>>64-or,cr=nr<<or-32|Lt>>>64-or);var gr=ir[Ut[lr]];gr.high=Cr,gr.low=cr}var pr=ir[0],_r=dr[0];pr.high=_r.high,pr.low=_r.low;for(var Sr=0;Sr<5;Sr++)for(var Nt=0;Nt<5;Nt++){var lr=Sr+5*Nt,br=dr[lr],kr=ir[lr],Mr=ir[(Sr+1)%5+5*Nt],$r=ir[(Sr+2)%5+5*Nt];br.high=kr.high^~Mr.high&$r.high,br.low=kr.low^~Mr.low&$r.low}var br=dr[0],Pr=tr[wr];br.high^=Pr.high,br.low^=Pr.low}},_doFinalize:function(){var ur=this._data,fr=ur.words;this._nDataBytes*8;var dr=ur.sigBytes*8,hr=this.blockSize*32;fr[dr>>>5]|=1<<24-dr%32,fr[(nt.ceil((dr+1)/hr)*hr>>>5)-1]|=128,ur.sigBytes=fr.length*4,this._process();for(var vr=this._state,yr=this.cfg.outputLength/8,xr=yr/8,br=[],wr=0;wr<xr;wr++){var Sr=vr[wr],Cr=Sr.high,cr=Sr.low;Cr=(Cr<<8|Cr>>>24)&16711935|(Cr<<24|Cr>>>8)&4278255360,cr=(cr<<8|cr>>>24)&16711935|(cr<<24|cr>>>8)&4278255360,br.push(cr),br.push(Cr)}return new wt.init(br,yr)},clone:function(){for(var ur=$t.clone.call(this),fr=ur._state=this._state.slice(0),dr=0;dr<25;dr++)fr[dr]=fr[dr].clone();return ur}});at.SHA3=$t._createHelper(sr),at.HmacSHA3=$t._createHmacHelper(sr)}(Math),et.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.algo,Dt=wt.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Ft=wt.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),jt=wt.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Ut=wt.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),tr=wt.create([0,1518500249,1859775393,2400959708,2840853838]),ir=wt.create([1352829926,1548603684,1836072691,2053994217,0]),sr=Ct.RIPEMD160=$t.extend({_doReset:function(){this._hash=wt.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(xr,br){for(var wr=0;wr<16;wr++){var Sr=br+wr,Cr=xr[Sr];xr[Sr]=(Cr<<8|Cr>>>24)&16711935|(Cr<<24|Cr>>>8)&4278255360}var cr=this._hash.words,Nt=tr.words,Vt=ir.words,er=Dt.words,Yt=Ft.words,rr=jt.words,ar=Ut.words,lr,nr,Lt,or,gr,pr,_r,kr,Mr,$r;pr=lr=cr[0],_r=nr=cr[1],kr=Lt=cr[2],Mr=or=cr[3],$r=gr=cr[4];for(var Pr,wr=0;wr<80;wr+=1)Pr=lr+xr[br+er[wr]]|0,wr<16?Pr+=ur(nr,Lt,or)+Nt[0]:wr<32?Pr+=fr(nr,Lt,or)+Nt[1]:wr<48?Pr+=dr(nr,Lt,or)+Nt[2]:wr<64?Pr+=hr(nr,Lt,or)+Nt[3]:Pr+=vr(nr,Lt,or)+Nt[4],Pr=Pr|0,Pr=yr(Pr,rr[wr]),Pr=Pr+gr|0,lr=gr,gr=or,or=yr(Lt,10),Lt=nr,nr=Pr,Pr=pr+xr[br+Yt[wr]]|0,wr<16?Pr+=vr(_r,kr,Mr)+Vt[0]:wr<32?Pr+=hr(_r,kr,Mr)+Vt[1]:wr<48?Pr+=dr(_r,kr,Mr)+Vt[2]:wr<64?Pr+=fr(_r,kr,Mr)+Vt[3]:Pr+=ur(_r,kr,Mr)+Vt[4],Pr=Pr|0,Pr=yr(Pr,ar[wr]),Pr=Pr+$r|0,pr=$r,$r=Mr,Mr=yr(kr,10),kr=_r,_r=Pr;Pr=cr[1]+Lt+Mr|0,cr[1]=cr[2]+or+$r|0,cr[2]=cr[3]+gr+pr|0,cr[3]=cr[4]+lr+_r|0,cr[4]=cr[0]+nr+kr|0,cr[0]=Pr},_doFinalize:function(){var xr=this._data,br=xr.words,wr=this._nDataBytes*8,Sr=xr.sigBytes*8;br[Sr>>>5]|=128<<24-Sr%32,br[(Sr+64>>>9<<4)+14]=(wr<<8|wr>>>24)&16711935|(wr<<24|wr>>>8)&4278255360,xr.sigBytes=(br.length+1)*4,this._process();for(var Cr=this._hash,cr=Cr.words,Nt=0;Nt<5;Nt++){var Vt=cr[Nt];cr[Nt]=(Vt<<8|Vt>>>24)&16711935|(Vt<<24|Vt>>>8)&4278255360}return Cr},clone:function(){var xr=$t.clone.call(this);return xr._hash=this._hash.clone(),xr}});function ur(xr,br,wr){return xr^br^wr}function fr(xr,br,wr){return xr&br|~xr&wr}function dr(xr,br,wr){return(xr|~br)^wr}function hr(xr,br,wr){return xr&wr|br&~wr}function vr(xr,br,wr){return xr^(br|~wr)}function yr(xr,br){return xr<<br|xr>>>32-br}at.RIPEMD160=$t._createHelper(sr),at.HmacRIPEMD160=$t._createHmacHelper(sr)}(),et.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(a,s){(function(et,nt){a.exports=nt(requireCore())})(commonjsGlobal$1,function(et){(function(){var nt=et,at=nt.lib,mt=at.Base,wt=nt.enc,$t=wt.Utf8,Ct=nt.algo;Ct.HMAC=mt.extend({init:function(Dt,Ft){Dt=this._hasher=new Dt.init,typeof Ft=="string"&&(Ft=$t.parse(Ft));var jt=Dt.blockSize,Ut=jt*4;Ft.sigBytes>Ut&&(Ft=Dt.finalize(Ft)),Ft.clamp();for(var tr=this._oKey=Ft.clone(),ir=this._iKey=Ft.clone(),sr=tr.words,ur=ir.words,fr=0;fr<jt;fr++)sr[fr]^=1549556828,ur[fr]^=909522486;tr.sigBytes=ir.sigBytes=Ut,this.reset()},reset:function(){var Dt=this._hasher;Dt.reset(),Dt.update(this._iKey)},update:function(Dt){return this._hasher.update(Dt),this},finalize:function(Dt){var Ft=this._hasher,jt=Ft.finalize(Dt);Ft.reset();var Ut=Ft.finalize(this._oKey.clone().concat(jt));return Ut}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.Base,wt=at.WordArray,$t=nt.algo,Ct=$t.SHA256,Dt=$t.HMAC,Ft=$t.PBKDF2=mt.extend({cfg:mt.extend({keySize:128/32,hasher:Ct,iterations:25e4}),init:function(jt){this.cfg=this.cfg.extend(jt)},compute:function(jt,Ut){for(var tr=this.cfg,ir=Dt.create(tr.hasher,jt),sr=wt.create(),ur=wt.create([1]),fr=sr.words,dr=ur.words,hr=tr.keySize,vr=tr.iterations;fr.length<hr;){var yr=ir.update(Ut).finalize(ur);ir.reset();for(var xr=yr.words,br=xr.length,wr=yr,Sr=1;Sr<vr;Sr++){wr=ir.finalize(wr),ir.reset();for(var Cr=wr.words,cr=0;cr<br;cr++)xr[cr]^=Cr[cr]}sr.concat(yr),dr[0]++}return sr.sigBytes=hr*4,sr}});nt.PBKDF2=function(jt,Ut,tr){return Ft.create(tr).compute(jt,Ut)}}(),et.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.Base,wt=at.WordArray,$t=nt.algo,Ct=$t.MD5,Dt=$t.EvpKDF=mt.extend({cfg:mt.extend({keySize:128/32,hasher:Ct,iterations:1}),init:function(Ft){this.cfg=this.cfg.extend(Ft)},compute:function(Ft,jt){for(var Ut,tr=this.cfg,ir=tr.hasher.create(),sr=wt.create(),ur=sr.words,fr=tr.keySize,dr=tr.iterations;ur.length<fr;){Ut&&ir.update(Ut),Ut=ir.update(Ft).finalize(jt),ir.reset();for(var hr=1;hr<dr;hr++)Ut=ir.finalize(Ut),ir.reset();sr.concat(Ut)}return sr.sigBytes=fr*4,sr}});nt.EvpKDF=function(Ft,jt,Ut){return Dt.create(Ut).compute(Ft,jt)}}(),et.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(et){et.lib.Cipher||function(nt){var at=et,mt=at.lib,wt=mt.Base,$t=mt.WordArray,Ct=mt.BufferedBlockAlgorithm,Dt=at.enc;Dt.Utf8;var Ft=Dt.Base64,jt=at.algo,Ut=jt.EvpKDF,tr=mt.Cipher=Ct.extend({cfg:wt.extend(),createEncryptor:function(Cr,cr){return this.create(this._ENC_XFORM_MODE,Cr,cr)},createDecryptor:function(Cr,cr){return this.create(this._DEC_XFORM_MODE,Cr,cr)},init:function(Cr,cr,Nt){this.cfg=this.cfg.extend(Nt),this._xformMode=Cr,this._key=cr,this.reset()},reset:function(){Ct.reset.call(this),this._doReset()},process:function(Cr){return this._append(Cr),this._process()},finalize:function(Cr){Cr&&this._append(Cr);var cr=this._doFinalize();return cr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Cr(cr){return typeof cr=="string"?Sr:xr}return function(cr){return{encrypt:function(Nt,Vt,er){return Cr(Vt).encrypt(cr,Nt,Vt,er)},decrypt:function(Nt,Vt,er){return Cr(Vt).decrypt(cr,Nt,Vt,er)}}}}()});mt.StreamCipher=tr.extend({_doFinalize:function(){var Cr=this._process(!0);return Cr},blockSize:1});var ir=at.mode={},sr=mt.BlockCipherMode=wt.extend({createEncryptor:function(Cr,cr){return this.Encryptor.create(Cr,cr)},createDecryptor:function(Cr,cr){return this.Decryptor.create(Cr,cr)},init:function(Cr,cr){this._cipher=Cr,this._iv=cr}}),ur=ir.CBC=function(){var Cr=sr.extend();Cr.Encryptor=Cr.extend({processBlock:function(Nt,Vt){var er=this._cipher,Yt=er.blockSize;cr.call(this,Nt,Vt,Yt),er.encryptBlock(Nt,Vt),this._prevBlock=Nt.slice(Vt,Vt+Yt)}}),Cr.Decryptor=Cr.extend({processBlock:function(Nt,Vt){var er=this._cipher,Yt=er.blockSize,rr=Nt.slice(Vt,Vt+Yt);er.decryptBlock(Nt,Vt),cr.call(this,Nt,Vt,Yt),this._prevBlock=rr}});function cr(Nt,Vt,er){var Yt,rr=this._iv;rr?(Yt=rr,this._iv=nt):Yt=this._prevBlock;for(var ar=0;ar<er;ar++)Nt[Vt+ar]^=Yt[ar]}return Cr}(),fr=at.pad={},dr=fr.Pkcs7={pad:function(Cr,cr){for(var Nt=cr*4,Vt=Nt-Cr.sigBytes%Nt,er=Vt<<24|Vt<<16|Vt<<8|Vt,Yt=[],rr=0;rr<Vt;rr+=4)Yt.push(er);var ar=$t.create(Yt,Vt);Cr.concat(ar)},unpad:function(Cr){var cr=Cr.words[Cr.sigBytes-1>>>2]&255;Cr.sigBytes-=cr}};mt.BlockCipher=tr.extend({cfg:tr.cfg.extend({mode:ur,padding:dr}),reset:function(){var Cr;tr.reset.call(this);var cr=this.cfg,Nt=cr.iv,Vt=cr.mode;this._xformMode==this._ENC_XFORM_MODE?Cr=Vt.createEncryptor:(Cr=Vt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Cr?this._mode.init(this,Nt&&Nt.words):(this._mode=Cr.call(Vt,this,Nt&&Nt.words),this._mode.__creator=Cr)},_doProcessBlock:function(Cr,cr){this._mode.processBlock(Cr,cr)},_doFinalize:function(){var Cr,cr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(cr.pad(this._data,this.blockSize),Cr=this._process(!0)):(Cr=this._process(!0),cr.unpad(Cr)),Cr},blockSize:128/32});var hr=mt.CipherParams=wt.extend({init:function(Cr){this.mixIn(Cr)},toString:function(Cr){return(Cr||this.formatter).stringify(this)}}),vr=at.format={},yr=vr.OpenSSL={stringify:function(Cr){var cr,Nt=Cr.ciphertext,Vt=Cr.salt;return Vt?cr=$t.create([1398893684,1701076831]).concat(Vt).concat(Nt):cr=Nt,cr.toString(Ft)},parse:function(Cr){var cr,Nt=Ft.parse(Cr),Vt=Nt.words;return Vt[0]==1398893684&&Vt[1]==1701076831&&(cr=$t.create(Vt.slice(2,4)),Vt.splice(0,4),Nt.sigBytes-=16),hr.create({ciphertext:Nt,salt:cr})}},xr=mt.SerializableCipher=wt.extend({cfg:wt.extend({format:yr}),encrypt:function(Cr,cr,Nt,Vt){Vt=this.cfg.extend(Vt);var er=Cr.createEncryptor(Nt,Vt),Yt=er.finalize(cr),rr=er.cfg;return hr.create({ciphertext:Yt,key:Nt,iv:rr.iv,algorithm:Cr,mode:rr.mode,padding:rr.padding,blockSize:Cr.blockSize,formatter:Vt.format})},decrypt:function(Cr,cr,Nt,Vt){Vt=this.cfg.extend(Vt),cr=this._parse(cr,Vt.format);var er=Cr.createDecryptor(Nt,Vt).finalize(cr.ciphertext);return er},_parse:function(Cr,cr){return typeof Cr=="string"?cr.parse(Cr,this):Cr}}),br=at.kdf={},wr=br.OpenSSL={execute:function(Cr,cr,Nt,Vt,er){if(Vt||(Vt=$t.random(64/8)),er)var Yt=Ut.create({keySize:cr+Nt,hasher:er}).compute(Cr,Vt);else var Yt=Ut.create({keySize:cr+Nt}).compute(Cr,Vt);var rr=$t.create(Yt.words.slice(cr),Nt*4);return Yt.sigBytes=cr*4,hr.create({key:Yt,iv:rr,salt:Vt})}},Sr=mt.PasswordBasedCipher=xr.extend({cfg:xr.cfg.extend({kdf:wr}),encrypt:function(Cr,cr,Nt,Vt){Vt=this.cfg.extend(Vt);var er=Vt.kdf.execute(Nt,Cr.keySize,Cr.ivSize,Vt.salt,Vt.hasher);Vt.iv=er.iv;var Yt=xr.encrypt.call(this,Cr,cr,er.key,Vt);return Yt.mixIn(er),Yt},decrypt:function(Cr,cr,Nt,Vt){Vt=this.cfg.extend(Vt),cr=this._parse(cr,Vt.format);var er=Vt.kdf.execute(Nt,Cr.keySize,Cr.ivSize,cr.salt,Vt.hasher);Vt.iv=er.iv;var Yt=xr.decrypt.call(this,Cr,cr,er.key,Vt);return Yt}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.CFB=function(){var nt=et.lib.BlockCipherMode.extend();nt.Encryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize;at.call(this,mt,wt,Ct,$t),this._prevBlock=mt.slice(wt,wt+Ct)}}),nt.Decryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize,Dt=mt.slice(wt,wt+Ct);at.call(this,mt,wt,Ct,$t),this._prevBlock=Dt}});function at(mt,wt,$t,Ct){var Dt,Ft=this._iv;Ft?(Dt=Ft.slice(0),this._iv=void 0):Dt=this._prevBlock,Ct.encryptBlock(Dt,0);for(var jt=0;jt<$t;jt++)mt[wt+jt]^=Dt[jt]}return nt}(),et.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.CTR=function(){var nt=et.lib.BlockCipherMode.extend(),at=nt.Encryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize,Dt=this._iv,Ft=this._counter;Dt&&(Ft=this._counter=Dt.slice(0),this._iv=void 0);var jt=Ft.slice(0);$t.encryptBlock(jt,0),Ft[Ct-1]=Ft[Ct-1]+1|0;for(var Ut=0;Ut<Ct;Ut++)mt[wt+Ut]^=jt[Ut]}});return nt.Decryptor=at,nt}(),et.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return et.mode.CTRGladman=function(){var nt=et.lib.BlockCipherMode.extend();function at($t){if(($t>>24&255)===255){var Ct=$t>>16&255,Dt=$t>>8&255,Ft=$t&255;Ct===255?(Ct=0,Dt===255?(Dt=0,Ft===255?Ft=0:++Ft):++Dt):++Ct,$t=0,$t+=Ct<<16,$t+=Dt<<8,$t+=Ft}else $t+=1<<24;return $t}function mt($t){return($t[0]=at($t[0]))===0&&($t[1]=at($t[1])),$t}var wt=nt.Encryptor=nt.extend({processBlock:function($t,Ct){var Dt=this._cipher,Ft=Dt.blockSize,jt=this._iv,Ut=this._counter;jt&&(Ut=this._counter=jt.slice(0),this._iv=void 0),mt(Ut);var tr=Ut.slice(0);Dt.encryptBlock(tr,0);for(var ir=0;ir<Ft;ir++)$t[Ct+ir]^=tr[ir]}});return nt.Decryptor=wt,nt}(),et.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.OFB=function(){var nt=et.lib.BlockCipherMode.extend(),at=nt.Encryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize,Dt=this._iv,Ft=this._keystream;Dt&&(Ft=this._keystream=Dt.slice(0),this._iv=void 0),$t.encryptBlock(Ft,0);for(var jt=0;jt<Ct;jt++)mt[wt+jt]^=Ft[jt]}});return nt.Decryptor=at,nt}(),et.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.ECB=function(){var nt=et.lib.BlockCipherMode.extend();return nt.Encryptor=nt.extend({processBlock:function(at,mt){this._cipher.encryptBlock(at,mt)}}),nt.Decryptor=nt.extend({processBlock:function(at,mt){this._cipher.decryptBlock(at,mt)}}),nt}(),et.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.AnsiX923={pad:function(nt,at){var mt=nt.sigBytes,wt=at*4,$t=wt-mt%wt,Ct=mt+$t-1;nt.clamp(),nt.words[Ct>>>2]|=$t<<24-Ct%4*8,nt.sigBytes+=$t},unpad:function(nt){var at=nt.words[nt.sigBytes-1>>>2]&255;nt.sigBytes-=at}},et.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.Iso10126={pad:function(nt,at){var mt=at*4,wt=mt-nt.sigBytes%mt;nt.concat(et.lib.WordArray.random(wt-1)).concat(et.lib.WordArray.create([wt<<24],1))},unpad:function(nt){var at=nt.words[nt.sigBytes-1>>>2]&255;nt.sigBytes-=at}},et.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.Iso97971={pad:function(nt,at){nt.concat(et.lib.WordArray.create([2147483648],1)),et.pad.ZeroPadding.pad(nt,at)},unpad:function(nt){et.pad.ZeroPadding.unpad(nt),nt.sigBytes--}},et.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.ZeroPadding={pad:function(nt,at){var mt=at*4;nt.clamp(),nt.sigBytes+=mt-(nt.sigBytes%mt||mt)},unpad:function(nt){for(var at=nt.words,mt=nt.sigBytes-1,mt=nt.sigBytes-1;mt>=0;mt--)if(at[mt>>>2]>>>24-mt%4*8&255){nt.sigBytes=mt+1;break}}},et.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.NoPadding={pad:function(){},unpad:function(){}},et.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.CipherParams,$t=at.enc,Ct=$t.Hex,Dt=at.format;Dt.Hex={stringify:function(Ft){return Ft.ciphertext.toString(Ct)},parse:function(Ft){var jt=Ct.parse(Ft);return wt.create({ciphertext:jt})}}}(),et.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.BlockCipher,wt=nt.algo,$t=[],Ct=[],Dt=[],Ft=[],jt=[],Ut=[],tr=[],ir=[],sr=[],ur=[];(function(){for(var hr=[],vr=0;vr<256;vr++)vr<128?hr[vr]=vr<<1:hr[vr]=vr<<1^283;for(var yr=0,xr=0,vr=0;vr<256;vr++){var br=xr^xr<<1^xr<<2^xr<<3^xr<<4;br=br>>>8^br&255^99,$t[yr]=br,Ct[br]=yr;var wr=hr[yr],Sr=hr[wr],Cr=hr[Sr],cr=hr[br]*257^br*16843008;Dt[yr]=cr<<24|cr>>>8,Ft[yr]=cr<<16|cr>>>16,jt[yr]=cr<<8|cr>>>24,Ut[yr]=cr;var cr=Cr*16843009^Sr*65537^wr*257^yr*16843008;tr[br]=cr<<24|cr>>>8,ir[br]=cr<<16|cr>>>16,sr[br]=cr<<8|cr>>>24,ur[br]=cr,yr?(yr=wr^hr[hr[hr[Cr^wr]]],xr^=hr[hr[xr]]):yr=xr=1}})();var fr=[0,1,2,4,8,16,32,64,128,27,54],dr=wt.AES=mt.extend({_doReset:function(){var hr;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var vr=this._keyPriorReset=this._key,yr=vr.words,xr=vr.sigBytes/4,br=this._nRounds=xr+6,wr=(br+1)*4,Sr=this._keySchedule=[],Cr=0;Cr<wr;Cr++)Cr<xr?Sr[Cr]=yr[Cr]:(hr=Sr[Cr-1],Cr%xr?xr>6&&Cr%xr==4&&(hr=$t[hr>>>24]<<24|$t[hr>>>16&255]<<16|$t[hr>>>8&255]<<8|$t[hr&255]):(hr=hr<<8|hr>>>24,hr=$t[hr>>>24]<<24|$t[hr>>>16&255]<<16|$t[hr>>>8&255]<<8|$t[hr&255],hr^=fr[Cr/xr|0]<<24),Sr[Cr]=Sr[Cr-xr]^hr);for(var cr=this._invKeySchedule=[],Nt=0;Nt<wr;Nt++){var Cr=wr-Nt;if(Nt%4)var hr=Sr[Cr];else var hr=Sr[Cr-4];Nt<4||Cr<=4?cr[Nt]=hr:cr[Nt]=tr[$t[hr>>>24]]^ir[$t[hr>>>16&255]]^sr[$t[hr>>>8&255]]^ur[$t[hr&255]]}}},encryptBlock:function(hr,vr){this._doCryptBlock(hr,vr,this._keySchedule,Dt,Ft,jt,Ut,$t)},decryptBlock:function(hr,vr){var yr=hr[vr+1];hr[vr+1]=hr[vr+3],hr[vr+3]=yr,this._doCryptBlock(hr,vr,this._invKeySchedule,tr,ir,sr,ur,Ct);var yr=hr[vr+1];hr[vr+1]=hr[vr+3],hr[vr+3]=yr},_doCryptBlock:function(hr,vr,yr,xr,br,wr,Sr,Cr){for(var cr=this._nRounds,Nt=hr[vr]^yr[0],Vt=hr[vr+1]^yr[1],er=hr[vr+2]^yr[2],Yt=hr[vr+3]^yr[3],rr=4,ar=1;ar<cr;ar++){var lr=xr[Nt>>>24]^br[Vt>>>16&255]^wr[er>>>8&255]^Sr[Yt&255]^yr[rr++],nr=xr[Vt>>>24]^br[er>>>16&255]^wr[Yt>>>8&255]^Sr[Nt&255]^yr[rr++],Lt=xr[er>>>24]^br[Yt>>>16&255]^wr[Nt>>>8&255]^Sr[Vt&255]^yr[rr++],or=xr[Yt>>>24]^br[Nt>>>16&255]^wr[Vt>>>8&255]^Sr[er&255]^yr[rr++];Nt=lr,Vt=nr,er=Lt,Yt=or}var lr=(Cr[Nt>>>24]<<24|Cr[Vt>>>16&255]<<16|Cr[er>>>8&255]<<8|Cr[Yt&255])^yr[rr++],nr=(Cr[Vt>>>24]<<24|Cr[er>>>16&255]<<16|Cr[Yt>>>8&255]<<8|Cr[Nt&255])^yr[rr++],Lt=(Cr[er>>>24]<<24|Cr[Yt>>>16&255]<<16|Cr[Nt>>>8&255]<<8|Cr[Vt&255])^yr[rr++],or=(Cr[Yt>>>24]<<24|Cr[Nt>>>16&255]<<16|Cr[Vt>>>8&255]<<8|Cr[er&255])^yr[rr++];hr[vr]=lr,hr[vr+1]=nr,hr[vr+2]=Lt,hr[vr+3]=or},keySize:256/32});nt.AES=mt._createHelper(dr)}(),et.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=at.BlockCipher,$t=nt.algo,Ct=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Dt=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Ft=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],jt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Ut=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],tr=$t.DES=wt.extend({_doReset:function(){for(var fr=this._key,dr=fr.words,hr=[],vr=0;vr<56;vr++){var yr=Ct[vr]-1;hr[vr]=dr[yr>>>5]>>>31-yr%32&1}for(var xr=this._subKeys=[],br=0;br<16;br++){for(var wr=xr[br]=[],Sr=Ft[br],vr=0;vr<24;vr++)wr[vr/6|0]|=hr[(Dt[vr]-1+Sr)%28]<<31-vr%6,wr[4+(vr/6|0)]|=hr[28+(Dt[vr+24]-1+Sr)%28]<<31-vr%6;wr[0]=wr[0]<<1|wr[0]>>>31;for(var vr=1;vr<7;vr++)wr[vr]=wr[vr]>>>(vr-1)*4+3;wr[7]=wr[7]<<5|wr[7]>>>27}for(var Cr=this._invSubKeys=[],vr=0;vr<16;vr++)Cr[vr]=xr[15-vr]},encryptBlock:function(fr,dr){this._doCryptBlock(fr,dr,this._subKeys)},decryptBlock:function(fr,dr){this._doCryptBlock(fr,dr,this._invSubKeys)},_doCryptBlock:function(fr,dr,hr){this._lBlock=fr[dr],this._rBlock=fr[dr+1],ir.call(this,4,252645135),ir.call(this,16,65535),sr.call(this,2,858993459),sr.call(this,8,16711935),ir.call(this,1,1431655765);for(var vr=0;vr<16;vr++){for(var yr=hr[vr],xr=this._lBlock,br=this._rBlock,wr=0,Sr=0;Sr<8;Sr++)wr|=jt[Sr][((br^yr[Sr])&Ut[Sr])>>>0];this._lBlock=br,this._rBlock=xr^wr}var Cr=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Cr,ir.call(this,1,1431655765),sr.call(this,8,16711935),sr.call(this,2,858993459),ir.call(this,16,65535),ir.call(this,4,252645135),fr[dr]=this._lBlock,fr[dr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function ir(fr,dr){var hr=(this._lBlock>>>fr^this._rBlock)&dr;this._rBlock^=hr,this._lBlock^=hr<<fr}function sr(fr,dr){var hr=(this._rBlock>>>fr^this._lBlock)&dr;this._lBlock^=hr,this._rBlock^=hr<<fr}nt.DES=wt._createHelper(tr);var ur=$t.TripleDES=wt.extend({_doReset:function(){var fr=this._key,dr=fr.words;if(dr.length!==2&&dr.length!==4&&dr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var hr=dr.slice(0,2),vr=dr.length<4?dr.slice(0,2):dr.slice(2,4),yr=dr.length<6?dr.slice(0,2):dr.slice(4,6);this._des1=tr.createEncryptor(mt.create(hr)),this._des2=tr.createEncryptor(mt.create(vr)),this._des3=tr.createEncryptor(mt.create(yr))},encryptBlock:function(fr,dr){this._des1.encryptBlock(fr,dr),this._des2.decryptBlock(fr,dr),this._des3.encryptBlock(fr,dr)},decryptBlock:function(fr,dr){this._des3.decryptBlock(fr,dr),this._des2.encryptBlock(fr,dr),this._des1.decryptBlock(fr,dr)},keySize:192/32,ivSize:64/32,blockSize:64/32});nt.TripleDES=wt._createHelper(ur)}(),et.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.StreamCipher,wt=nt.algo,$t=wt.RC4=mt.extend({_doReset:function(){for(var Ft=this._key,jt=Ft.words,Ut=Ft.sigBytes,tr=this._S=[],ir=0;ir<256;ir++)tr[ir]=ir;for(var ir=0,sr=0;ir<256;ir++){var ur=ir%Ut,fr=jt[ur>>>2]>>>24-ur%4*8&255;sr=(sr+tr[ir]+fr)%256;var dr=tr[ir];tr[ir]=tr[sr],tr[sr]=dr}this._i=this._j=0},_doProcessBlock:function(Ft,jt){Ft[jt]^=Ct.call(this)},keySize:256/32,ivSize:0});function Ct(){for(var Ft=this._S,jt=this._i,Ut=this._j,tr=0,ir=0;ir<4;ir++){jt=(jt+1)%256,Ut=(Ut+Ft[jt])%256;var sr=Ft[jt];Ft[jt]=Ft[Ut],Ft[Ut]=sr,tr|=Ft[(Ft[jt]+Ft[Ut])%256]<<24-ir*8}return this._i=jt,this._j=Ut,tr}nt.RC4=mt._createHelper($t);var Dt=wt.RC4Drop=$t.extend({cfg:$t.cfg.extend({drop:192}),_doReset:function(){$t._doReset.call(this);for(var Ft=this.cfg.drop;Ft>0;Ft--)Ct.call(this)}});nt.RC4Drop=mt._createHelper(Dt)}(),et.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.StreamCipher,wt=nt.algo,$t=[],Ct=[],Dt=[],Ft=wt.Rabbit=mt.extend({_doReset:function(){for(var Ut=this._key.words,tr=this.cfg.iv,ir=0;ir<4;ir++)Ut[ir]=(Ut[ir]<<8|Ut[ir]>>>24)&16711935|(Ut[ir]<<24|Ut[ir]>>>8)&4278255360;var sr=this._X=[Ut[0],Ut[3]<<16|Ut[2]>>>16,Ut[1],Ut[0]<<16|Ut[3]>>>16,Ut[2],Ut[1]<<16|Ut[0]>>>16,Ut[3],Ut[2]<<16|Ut[1]>>>16],ur=this._C=[Ut[2]<<16|Ut[2]>>>16,Ut[0]&4294901760|Ut[1]&65535,Ut[3]<<16|Ut[3]>>>16,Ut[1]&4294901760|Ut[2]&65535,Ut[0]<<16|Ut[0]>>>16,Ut[2]&4294901760|Ut[3]&65535,Ut[1]<<16|Ut[1]>>>16,Ut[3]&4294901760|Ut[0]&65535];this._b=0;for(var ir=0;ir<4;ir++)jt.call(this);for(var ir=0;ir<8;ir++)ur[ir]^=sr[ir+4&7];if(tr){var fr=tr.words,dr=fr[0],hr=fr[1],vr=(dr<<8|dr>>>24)&16711935|(dr<<24|dr>>>8)&4278255360,yr=(hr<<8|hr>>>24)&16711935|(hr<<24|hr>>>8)&4278255360,xr=vr>>>16|yr&4294901760,br=yr<<16|vr&65535;ur[0]^=vr,ur[1]^=xr,ur[2]^=yr,ur[3]^=br,ur[4]^=vr,ur[5]^=xr,ur[6]^=yr,ur[7]^=br;for(var ir=0;ir<4;ir++)jt.call(this)}},_doProcessBlock:function(Ut,tr){var ir=this._X;jt.call(this),$t[0]=ir[0]^ir[5]>>>16^ir[3]<<16,$t[1]=ir[2]^ir[7]>>>16^ir[5]<<16,$t[2]=ir[4]^ir[1]>>>16^ir[7]<<16,$t[3]=ir[6]^ir[3]>>>16^ir[1]<<16;for(var sr=0;sr<4;sr++)$t[sr]=($t[sr]<<8|$t[sr]>>>24)&16711935|($t[sr]<<24|$t[sr]>>>8)&4278255360,Ut[tr+sr]^=$t[sr]},blockSize:128/32,ivSize:64/32});function jt(){for(var Ut=this._X,tr=this._C,ir=0;ir<8;ir++)Ct[ir]=tr[ir];tr[0]=tr[0]+1295307597+this._b|0,tr[1]=tr[1]+3545052371+(tr[0]>>>0<Ct[0]>>>0?1:0)|0,tr[2]=tr[2]+886263092+(tr[1]>>>0<Ct[1]>>>0?1:0)|0,tr[3]=tr[3]+1295307597+(tr[2]>>>0<Ct[2]>>>0?1:0)|0,tr[4]=tr[4]+3545052371+(tr[3]>>>0<Ct[3]>>>0?1:0)|0,tr[5]=tr[5]+886263092+(tr[4]>>>0<Ct[4]>>>0?1:0)|0,tr[6]=tr[6]+1295307597+(tr[5]>>>0<Ct[5]>>>0?1:0)|0,tr[7]=tr[7]+3545052371+(tr[6]>>>0<Ct[6]>>>0?1:0)|0,this._b=tr[7]>>>0<Ct[7]>>>0?1:0;for(var ir=0;ir<8;ir++){var sr=Ut[ir]+tr[ir],ur=sr&65535,fr=sr>>>16,dr=((ur*ur>>>17)+ur*fr>>>15)+fr*fr,hr=((sr&4294901760)*sr|0)+((sr&65535)*sr|0);Dt[ir]=dr^hr}Ut[0]=Dt[0]+(Dt[7]<<16|Dt[7]>>>16)+(Dt[6]<<16|Dt[6]>>>16)|0,Ut[1]=Dt[1]+(Dt[0]<<8|Dt[0]>>>24)+Dt[7]|0,Ut[2]=Dt[2]+(Dt[1]<<16|Dt[1]>>>16)+(Dt[0]<<16|Dt[0]>>>16)|0,Ut[3]=Dt[3]+(Dt[2]<<8|Dt[2]>>>24)+Dt[1]|0,Ut[4]=Dt[4]+(Dt[3]<<16|Dt[3]>>>16)+(Dt[2]<<16|Dt[2]>>>16)|0,Ut[5]=Dt[5]+(Dt[4]<<8|Dt[4]>>>24)+Dt[3]|0,Ut[6]=Dt[6]+(Dt[5]<<16|Dt[5]>>>16)+(Dt[4]<<16|Dt[4]>>>16)|0,Ut[7]=Dt[7]+(Dt[6]<<8|Dt[6]>>>24)+Dt[5]|0}nt.Rabbit=mt._createHelper(Ft)}(),et.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.StreamCipher,wt=nt.algo,$t=[],Ct=[],Dt=[],Ft=wt.RabbitLegacy=mt.extend({_doReset:function(){var Ut=this._key.words,tr=this.cfg.iv,ir=this._X=[Ut[0],Ut[3]<<16|Ut[2]>>>16,Ut[1],Ut[0]<<16|Ut[3]>>>16,Ut[2],Ut[1]<<16|Ut[0]>>>16,Ut[3],Ut[2]<<16|Ut[1]>>>16],sr=this._C=[Ut[2]<<16|Ut[2]>>>16,Ut[0]&4294901760|Ut[1]&65535,Ut[3]<<16|Ut[3]>>>16,Ut[1]&4294901760|Ut[2]&65535,Ut[0]<<16|Ut[0]>>>16,Ut[2]&4294901760|Ut[3]&65535,Ut[1]<<16|Ut[1]>>>16,Ut[3]&4294901760|Ut[0]&65535];this._b=0;for(var ur=0;ur<4;ur++)jt.call(this);for(var ur=0;ur<8;ur++)sr[ur]^=ir[ur+4&7];if(tr){var fr=tr.words,dr=fr[0],hr=fr[1],vr=(dr<<8|dr>>>24)&16711935|(dr<<24|dr>>>8)&4278255360,yr=(hr<<8|hr>>>24)&16711935|(hr<<24|hr>>>8)&4278255360,xr=vr>>>16|yr&4294901760,br=yr<<16|vr&65535;sr[0]^=vr,sr[1]^=xr,sr[2]^=yr,sr[3]^=br,sr[4]^=vr,sr[5]^=xr,sr[6]^=yr,sr[7]^=br;for(var ur=0;ur<4;ur++)jt.call(this)}},_doProcessBlock:function(Ut,tr){var ir=this._X;jt.call(this),$t[0]=ir[0]^ir[5]>>>16^ir[3]<<16,$t[1]=ir[2]^ir[7]>>>16^ir[5]<<16,$t[2]=ir[4]^ir[1]>>>16^ir[7]<<16,$t[3]=ir[6]^ir[3]>>>16^ir[1]<<16;for(var sr=0;sr<4;sr++)$t[sr]=($t[sr]<<8|$t[sr]>>>24)&16711935|($t[sr]<<24|$t[sr]>>>8)&4278255360,Ut[tr+sr]^=$t[sr]},blockSize:128/32,ivSize:64/32});function jt(){for(var Ut=this._X,tr=this._C,ir=0;ir<8;ir++)Ct[ir]=tr[ir];tr[0]=tr[0]+1295307597+this._b|0,tr[1]=tr[1]+3545052371+(tr[0]>>>0<Ct[0]>>>0?1:0)|0,tr[2]=tr[2]+886263092+(tr[1]>>>0<Ct[1]>>>0?1:0)|0,tr[3]=tr[3]+1295307597+(tr[2]>>>0<Ct[2]>>>0?1:0)|0,tr[4]=tr[4]+3545052371+(tr[3]>>>0<Ct[3]>>>0?1:0)|0,tr[5]=tr[5]+886263092+(tr[4]>>>0<Ct[4]>>>0?1:0)|0,tr[6]=tr[6]+1295307597+(tr[5]>>>0<Ct[5]>>>0?1:0)|0,tr[7]=tr[7]+3545052371+(tr[6]>>>0<Ct[6]>>>0?1:0)|0,this._b=tr[7]>>>0<Ct[7]>>>0?1:0;for(var ir=0;ir<8;ir++){var sr=Ut[ir]+tr[ir],ur=sr&65535,fr=sr>>>16,dr=((ur*ur>>>17)+ur*fr>>>15)+fr*fr,hr=((sr&4294901760)*sr|0)+((sr&65535)*sr|0);Dt[ir]=dr^hr}Ut[0]=Dt[0]+(Dt[7]<<16|Dt[7]>>>16)+(Dt[6]<<16|Dt[6]>>>16)|0,Ut[1]=Dt[1]+(Dt[0]<<8|Dt[0]>>>24)+Dt[7]|0,Ut[2]=Dt[2]+(Dt[1]<<16|Dt[1]>>>16)+(Dt[0]<<16|Dt[0]>>>16)|0,Ut[3]=Dt[3]+(Dt[2]<<8|Dt[2]>>>24)+Dt[1]|0,Ut[4]=Dt[4]+(Dt[3]<<16|Dt[3]>>>16)+(Dt[2]<<16|Dt[2]>>>16)|0,Ut[5]=Dt[5]+(Dt[4]<<8|Dt[4]>>>24)+Dt[3]|0,Ut[6]=Dt[6]+(Dt[5]<<16|Dt[5]>>>16)+(Dt[4]<<16|Dt[4]>>>16)|0,Ut[7]=Dt[7]+(Dt[6]<<8|Dt[6]>>>24)+Dt[5]|0}nt.RabbitLegacy=mt._createHelper(Ft)}(),et.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.BlockCipher,wt=nt.algo;const $t=16,Ct=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Dt=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Ft={pbox:[],sbox:[]};function jt(ur,fr){let dr=fr>>24&255,hr=fr>>16&255,vr=fr>>8&255,yr=fr&255,xr=ur.sbox[0][dr]+ur.sbox[1][hr];return xr=xr^ur.sbox[2][vr],xr=xr+ur.sbox[3][yr],xr}function Ut(ur,fr,dr){let hr=fr,vr=dr,yr;for(let xr=0;xr<$t;++xr)hr=hr^ur.pbox[xr],vr=jt(ur,hr)^vr,yr=hr,hr=vr,vr=yr;return yr=hr,hr=vr,vr=yr,vr=vr^ur.pbox[$t],hr=hr^ur.pbox[$t+1],{left:hr,right:vr}}function tr(ur,fr,dr){let hr=fr,vr=dr,yr;for(let xr=$t+1;xr>1;--xr)hr=hr^ur.pbox[xr],vr=jt(ur,hr)^vr,yr=hr,hr=vr,vr=yr;return yr=hr,hr=vr,vr=yr,vr=vr^ur.pbox[1],hr=hr^ur.pbox[0],{left:hr,right:vr}}function ir(ur,fr,dr){for(let br=0;br<4;br++){ur.sbox[br]=[];for(let wr=0;wr<256;wr++)ur.sbox[br][wr]=Dt[br][wr]}let hr=0;for(let br=0;br<$t+2;br++)ur.pbox[br]=Ct[br]^fr[hr],hr++,hr>=dr&&(hr=0);let vr=0,yr=0,xr=0;for(let br=0;br<$t+2;br+=2)xr=Ut(ur,vr,yr),vr=xr.left,yr=xr.right,ur.pbox[br]=vr,ur.pbox[br+1]=yr;for(let br=0;br<4;br++)for(let wr=0;wr<256;wr+=2)xr=Ut(ur,vr,yr),vr=xr.left,yr=xr.right,ur.sbox[br][wr]=vr,ur.sbox[br][wr+1]=yr;return!0}var sr=wt.Blowfish=mt.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var ur=this._keyPriorReset=this._key,fr=ur.words,dr=ur.sigBytes/4;ir(Ft,fr,dr)}},encryptBlock:function(ur,fr){var dr=Ut(Ft,ur[fr],ur[fr+1]);ur[fr]=dr.left,ur[fr+1]=dr.right},decryptBlock:function(ur,fr){var dr=tr(Ft,ur[fr],ur[fr+1]);ur[fr]=dr.left,ur[fr+1]=dr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});nt.Blowfish=mt._createHelper(sr)}(),et.Blowfish})}(blowfish)),blowfish.exports}(function(a,s){(function(et,nt,at){a.exports=nt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(et){return et})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const crypto$1=getDefaultExportFromCjs$2(cryptoJsExports);var __defProp$2=Object.defineProperty,__defNormalProp$2=(a,s,et)=>s in a?__defProp$2(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__name=(a,s)=>__defProp$2(a,"name",{value:s,configurable:!0}),__publicField=(a,s,et)=>(__defNormalProp$2(a,typeof s!="symbol"?s+"":s,et),et),DEFAULT_HOST="https://pay.coinbase.com",generateOnRampURL=__name(({host:a=DEFAULT_HOST,...s})=>{const et=new URL(a);if(et.pathname="/buy/select-asset",s.destinationWallets&&s.addresses)throw new Error("Only one of destinationWallets or addresses can be provided");if(!s.destinationWallets&&!s.addresses)throw new Error("One of destinationWallets or addresses must be provided");return Object.keys(s).forEach(nt=>{const at=s[nt];at!==void 0&&(["string","number","boolean"].includes(typeof at)?et.searchParams.append(nt,at.toString()):et.searchParams.append(nt,JSON.stringify(at)))}),et.searchParams.sort(),et.toString()},"generateOnRampURL"),EMBEDDED_IFRAME_ID="cbpay-embedded-onramp",createEmbeddedContent=__name(({url:a,width:s="100%",height:et="100%",position:nt="fixed",top:at="0px"})=>{const mt=document.createElement("iframe");return mt.style.border="unset",mt.style.borderWidth="0",mt.style.width=s.toString(),mt.style.height=et.toString(),mt.style.position=nt,mt.style.top=at,mt.id=EMBEDDED_IFRAME_ID,mt.src=a,mt},"createEmbeddedContent"),MessageCodes;(function(a){a.LaunchEmbedded="launch_embedded",a.AppReady="app_ready",a.AppParams="app_params",a.SigninSuccess="signin_success",a.Success="success",a.Exit="exit",a.Event="event",a.Error="error",a.PixelReady="pixel_ready",a.OnAppParamsNonce="on_app_params_nonce"})(MessageCodes||(MessageCodes={}));var onBroadcastedPostMessage=__name((a,{onMessage:s,shouldUnsubscribe:et=!0,allowedOrigin:nt,onValidateOrigin:at=__name(()=>Promise.resolve(!0),"onValidateOrigin")})=>{const mt=__name(wt=>{const{eventName:$t,data:Ct}=parsePostMessage(wt.data),Dt=!nt||wt.origin===nt;$t===a&&(async()=>Dt&&await at(wt.origin)&&(s(Ct),et&&window.removeEventListener("message",mt)))()},"onMessage");return window.addEventListener("message",mt),()=>{window.removeEventListener("message",mt)}},"onBroadcastedPostMessage"),broadcastPostMessage=__name((a,s,{allowedOrigin:et="*",data:nt}={})=>{const at=formatPostMessage(s,nt);a.postMessage(at,et)},"broadcastPostMessage"),parsePostMessage=__name(a=>{try{return JSON.parse(a)}catch{return{eventName:a}}},"parsePostMessage"),formatPostMessage=__name((a,s)=>s?JSON.stringify({eventName:a,data:s}):a,"formatPostMessage"),generateOffRampURL=__name(({host:a=DEFAULT_HOST,...s})=>{const et=new URL(a);return et.pathname="/v3/sell/input",Object.keys(s).forEach(nt=>{const at=s[nt];at!==void 0&&(["string","number","boolean"].includes(typeof at)?et.searchParams.append(nt,at.toString()):et.searchParams.append(nt,JSON.stringify(at)))}),et.searchParams.sort(),et.toString()},"generateOffRampURL"),PopupSizes={signin:{width:460,height:730},widget:{width:430,height:600}},CoinbasePixel=class{constructor({host:a=DEFAULT_HOST,appId:s,appParams:et,debug:nt,theme:at}){__publicField(this,"debug"),__publicField(this,"host"),__publicField(this,"appId"),__publicField(this,"eventStreamListeners",{}),__publicField(this,"unsubs",[]),__publicField(this,"appParams"),__publicField(this,"removeEventListener"),__publicField(this,"theme"),__publicField(this,"openExperience",__name(mt=>{var jt,Ut,tr,ir;this.log("Attempting to open experience"),this.setupExperienceListeners(mt);const{experienceLoggedIn:wt,experienceLoggedOut:$t,embeddedContentStyles:Ct}=mt,Dt=$t||wt;let Ft="";if(mt.path==="/v3/sell"?Ft=generateOffRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}):Ft=generateOnRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}),this.log("Opening experience",{experience:Dt}),Dt==="embedded"){this.log("DEPRECATION WARNING: Two factor authentication does not work in an iframe, so the embedded experience should not be used. It will be removed in a future release");const sr=__name(()=>{var fr;const ur=createEmbeddedContent({url:Ft,...Ct});Ct!=null&&Ct.target?(fr=document.querySelector(Ct==null?void 0:Ct.target))==null||fr.replaceChildren(ur):document.body.appendChild(ur)},"openEmbeddedExperience");this.startDirectSignin(sr)}else Dt==="popup"&&((Ut=(jt=window.chrome)==null?void 0:jt.windows)!=null&&Ut.create)?window.chrome.windows.create({url:Ft,setSelfAsOpener:!0,type:"popup",focused:!0,width:PopupSizes.signin.width,height:PopupSizes.signin.height,left:window.screenLeft-PopupSizes.signin.width-10,top:window.screenTop},sr=>{const ur=__name(()=>{sr!=null&&sr.id&&(chrome.windows.update(sr.id,{width:PopupSizes.widget.width,height:PopupSizes.widget.height,left:window.screenLeft-PopupSizes.widget.width-10,top:window.screenTop}),this.removeEventStreamListener("open",ur))},"onOpenCallback");this.addEventStreamListener("open",ur)}):Dt==="new_tab"&&((ir=(tr=window.chrome)==null?void 0:tr.tabs)!=null&&ir.create)?window.chrome.tabs.create({url:Ft}):openWindow(Ft,Dt)},"openExperience")),__publicField(this,"endExperience",__name(()=>{var mt;(mt=document.getElementById(EMBEDDED_IFRAME_ID))==null||mt.remove()},"endExperience")),__publicField(this,"destroy",__name(()=>{this.unsubs.forEach(mt=>mt())},"destroy")),__publicField(this,"setupExperienceListeners",__name(({onSuccess:mt,onExit:wt,onEvent:$t,onRequestedUrl:Ct})=>{this.removeEventListener&&this.removeEventListener(),this.removeEventListener=this.onMessage("event",{shouldUnsubscribe:!1,onMessage:Dt=>{var jt;const Ft=Dt;(jt=this.eventStreamListeners[Ft.eventName])==null||jt.forEach(Ut=>Ut==null?void 0:Ut()),Ft.eventName==="success"&&(mt==null||mt()),Ft.eventName==="exit"&&(wt==null||wt(Ft.error)),Ft.eventName==="request_open_url"&&(Ct==null||Ct(Ft.url)),$t==null||$t(Dt)}})},"setupExperienceListeners")),__publicField(this,"startDirectSignin",__name(mt=>{const wt=new URLSearchParams;wt.set("appId",this.appId),wt.set("type","direct");const $t=`${this.host}/signin?${wt.toString()}`,Ct=openWindow($t,"popup");this.onMessage("signin_success",{onMessage:()=>{Ct==null||Ct.close(),mt()}})},"startDirectSignin")),__publicField(this,"addEventStreamListener",__name((mt,wt)=>{var $t;this.eventStreamListeners[mt]?($t=this.eventStreamListeners[mt])==null||$t.push(wt):this.eventStreamListeners[mt]=[wt]},"addEventStreamListener")),__publicField(this,"removeEventStreamListener",__name((mt,wt)=>{var $t;if(this.eventStreamListeners[mt]){const Ct=($t=this.eventStreamListeners[mt])==null?void 0:$t.filter(Dt=>Dt!==wt);this.eventStreamListeners[mt]=Ct}},"removeEventStreamListener")),__publicField(this,"onMessage",__name((...mt)=>{const wt=onBroadcastedPostMessage(mt[0],{allowedOrigin:this.host,...mt[1]});return this.unsubs.push(wt),wt},"onMessage")),__publicField(this,"log",__name((...mt)=>{this.debug&&console.log("[CBPAY]",...mt)},"log")),this.host=a,this.appId=s,this.appParams=et,this.debug=nt||!1,this.theme=at}};__name(CoinbasePixel,"CoinbasePixel");function openWindow(a,s){return window.open(a,"Coinbase",s==="popup"?`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, height=${PopupSizes.signin.height},width=${PopupSizes.signin.width}`:void 0)}__name(openWindow,"openWindow");var widgetRoutes={buy:"/buy",checkout:"/checkout",sell:"/v3/sell"},CBPayInstance=class{constructor(a){if(__publicField(this,"pixel"),__publicField(this,"options"),__publicField(this,"open",__name(()=>{const{widget:s,experienceLoggedIn:et,experienceLoggedOut:nt,embeddedContentStyles:at,onExit:mt,onSuccess:wt,onEvent:$t,onRequestedUrl:Ct,closeOnSuccess:Dt,closeOnExit:Ft}=this.options;this.pixel.openExperience({path:widgetRoutes[s],experienceLoggedIn:et,experienceLoggedOut:nt,embeddedContentStyles:at,onExit:()=>{mt==null||mt(),Ft&&this.pixel.endExperience()},onSuccess:()=>{wt==null||wt(),Dt&&this.pixel.endExperience()},onRequestedUrl:Ct,onEvent:$t})},"open")),__publicField(this,"destroy",__name(()=>{this.pixel.destroy()},"destroy")),this.options=a,this.pixel=new CoinbasePixel({...a,appParams:{widget:a.widget,...a.appParams}}),a.target){const s=document.querySelector(a.target);s&&s.addEventListener("click",this.open)}}};__name(CBPayInstance,"CBPayInstance");function broadcastEvent(a,s){broadcastPostMessage(a,"event",{data:s})}__name(broadcastEvent,"broadcastEvent");function CustomToast(a){const{children:s,onClose:et}=a;return jsxRuntimeExports.jsxs(HStack,{w:"440px",bg:"background",border:"2px",borderColor:"border",borderRadius:"12px",p:"16px",position:"relative",gap:"16px",sx:{"@media screen and (max-width: 810px)":{w:"unset",minW:"330px",p:"16px"}},children:[jsxRuntimeExports.jsx(VStack,{w:"100%",alignItems:"start",children:s}),jsxRuntimeExports.jsx(Center,{onClick:et,position:"absolute",right:"16px",top:"16px",children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}const img_nodata_error="/assets/img_nodata@2x-BiWQ6WZn.png";function Notfound$1(){return jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsxs(Flex,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"background",direction:"column",left:"50%",top:"0px",transform:"translateX(-50%)",children:[jsxRuntimeExports.jsx(Text,{fontSize:"20px",mb:"-50px",textColor:"text_caption",children:"Oops..."}),jsxRuntimeExports.jsx(Image$1,{w:"350px",h:"529px",src:img_nodata_error}),jsxRuntimeExports.jsx(Text,{fontSize:{md:"32px",lg:"60px"},textColor:"primary",mt:"-80px",children:"Something Error"}),jsxRuntimeExports.jsx(Button,{mt:"40px",w:"200px",onClick:()=>window.location.reload(),children:"Refresh"})]})})}const MAX_RETRY_COUNT=1;class ErrorBoundary extends React$2.Component{constructor(s){super(s),this.state={showErrorComponent:!1,hasError:!1,retryCount:0}}getRetryCountFromURL(){const s=new URLSearchParams(window.location.search);return parseInt(s.get("retryCount")||"0",10)}updateRetryCountInURL(s){const et=new URLSearchParams(window.location.search);et.set("retryCount",s.toString()),window.history.replaceState(null,"",`${window.location.pathname}?${et.toString()}`)}static getDerivedStateFromError(s){return{hasError:!0,showErrorComponent:!1}}componentDidCatch(s,et){if(console.error("Error caught in Error Boundary: ",s,et),s&&String(s).includes("Failed to fetch dynamically imported module")){const at=this.getRetryCountFromURL();if(at<MAX_RETRY_COUNT){const mt=at+1;this.updateRetryCountInURL(mt),console.log(`Retrying... (${mt}/${MAX_RETRY_COUNT})`),window.location.reload()}else console.error("Max retry count reached. Showing fallback UI."),this.setState({showErrorComponent:!0,hasError:!0})}else this.setState({showErrorComponent:!0,hasError:!0})}render(){return this.state.hasError?this.state.showErrorComponent?jsxRuntimeExports.jsx(Notfound$1,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):this.props.children}}function NavLink(a){const{children:s,link:et,type:nt="reactRouterLink",isActive:at,fontSize:mt,...wt}=a,$t={fontFamily:"Inter",color:at?"text_caption":"text_paragraph",fontSize:mt||"15px",cursor:"pointer",height:"24px",lineHeight:"24px",_hover:{color:"text_caption"}};return nt==="reactRouterLink"?jsxRuntimeExports.jsx(Link,{as:Link$1,to:et,...$t,...wt,children:s}):nt==="_blank"?jsxRuntimeExports.jsx(Link,{href:et,target:"_blank",...$t,...wt,children:s}):jsxRuntimeExports.jsx(Box,{as:"a",...$t,...wt,children:s})}function useTokenPrice(){const{coinPriceObj:a,setPriceObj:s,clearPriceObj:et}=useTokenPriceStore(),nt=async Ct=>{try{const Dt=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/market_price`,Ft=await fetchGet(Dt,{base_symbol_address_pair:Ct.map(Ut=>fixCoinType(Ut,!1))});console.log("🚀 ~ file: useRates.ts:8 ~ fetchRates ~ res:",Ft);const jt=Ft.prices;if(jt){const Ut={};jt.forEach(tr=>{Ut[extractStructTagFromType$1(tr.base_symbol).full_address]=tr}),s(Ut)}return jt}catch(Dt){return console.log("🚀 ~ file: useRates.ts:21 ~ fetchRates ~ error:",Dt),et(Ct),null}},at=reactExports.useCallback(Ct=>{if(!Ct)return;const Dt=a[extractStructTagFromType$1(Ct).full_address];if(Dt)return Dt},[a]),mt=reactExports.useCallback((Ct,Dt,Ft)=>{const jt=Number(Dt)==0||!Ft?"0":Ft;if(Dt&&Ct&&+Dt){const Ut=at(Ct);if(Ut)return d$2(Dt).mul(Ut.price).toString()}return jt},[a]),wt=reactExports.useCallback((Ct,Dt,Ft)=>{const jt=Number(Dt)==0||!Ft?"0":Ft;if(Dt&&Ct&&+Dt){const Ut=at(Ct);if(Ut)return d$2(Dt).div(Ut.price).toString()}return jt},[a]);return{getTokenAmountValue:mt,getTokenAmount:wt,getTokenPrice:at,fetchTokenPrices:nt,getPriceKline:async(Ct,Dt)=>{var Ut;const Ft=Ct==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":Ct,jt=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/coin/kline?coin_address=${Ft}&interval=day&market=${Dt}`;try{const tr=await fetchGet(jt),ir=Math.min(...tr.list.map(sr=>Number(sr==null?void 0:sr.price)));return{price:((Ut=tr==null?void 0:tr.list)==null?void 0:Ut.reverse().map(sr=>({...sr,value:d$2(sr==null?void 0:sr.price).minus(ir).toString()})))||[],daily_rate:tr==null?void 0:tr.daily_rate.replace("%","")}}catch{return{price:[],daily_rate:""}}}}}var freeGlobal=typeof global$1=="object"&&global$1&&global$1.Object===Object&&global$1,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(a){var s=hasOwnProperty$9.call(a,symToStringTag$1),et=a[symToStringTag$1];try{a[symToStringTag$1]=void 0;var nt=!0}catch{}var at=nativeObjectToString$1.call(a);return nt&&(s?a[symToStringTag$1]=et:delete a[symToStringTag$1]),at}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(a){return nativeObjectToString.call(a)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(a){return a==null?a===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(a)?getRawTag(a):objectToString(a)}function isObjectLike(a){return a!=null&&typeof a=="object"}var symbolTag$1="[object Symbol]";function isSymbol(a){return typeof a=="symbol"||isObjectLike(a)&&baseGetTag(a)==symbolTag$1}function arrayMap(a,s){for(var et=-1,nt=a==null?0:a.length,at=Array(nt);++et<nt;)at[et]=s(a[et],et,a);return at}var isArray=Array.isArray,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(a){if(typeof a=="string")return a;if(isArray(a))return arrayMap(a,baseToString)+"";if(isSymbol(a))return symbolToString?symbolToString.call(a):"";var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function isObject$1(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}function identity(a){return a}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(a){if(!isObject$1(a))return!1;var s=baseGetTag(a);return s==funcTag$1||s==genTag||s==asyncTag||s==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var a=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function isMasked(a){return!!maskSrcKey&&maskSrcKey in a}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(a){if(a!=null){try{return funcToString$1.call(a)}catch{}try{return a+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(a){if(!isObject$1(a)||isMasked(a))return!1;var s=isFunction(a)?reIsNative:reIsHostCtor;return s.test(toSource(a))}function getValue$1(a,s){return a==null?void 0:a[s]}function getNative(a,s){var et=getValue$1(a,s);return baseIsNative(et)?et:void 0}var WeakMap$1=getNative(root,"WeakMap"),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(a,s){var et=typeof a;return s=s??MAX_SAFE_INTEGER$1,!!s&&(et=="number"||et!="symbol"&&reIsUint.test(a))&&a>-1&&a%1==0&&a<s}function eq$1(a,s){return a===s||a!==a&&s!==s}var MAX_SAFE_INTEGER=9007199254740991;function isLength(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=MAX_SAFE_INTEGER}function isArrayLike(a){return a!=null&&isLength(a.length)&&!isFunction(a)}var objectProto$8=Object.prototype;function isPrototype(a){var s=a&&a.constructor,et=typeof s=="function"&&s.prototype||objectProto$8;return a===et}function baseTimes(a,s){for(var et=-1,nt=Array(a);++et<a;)nt[et]=s(et);return nt}var argsTag$2="[object Arguments]";function baseIsArguments(a){return isObjectLike(a)&&baseGetTag(a)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(a){return isObjectLike(a)&&hasOwnProperty$7.call(a,"callee")&&!propertyIsEnumerable$1.call(a,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[baseGetTag(a)]}function baseUnary(a){return function(s){return a(s)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var a=freeModule&&freeModule.require&&freeModule.require("util").types;return a||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(a,s){var et=isArray(a),nt=!et&&isArguments(a),at=!et&&!nt&&isBuffer(a),mt=!et&&!nt&&!at&&isTypedArray(a),wt=et||nt||at||mt,$t=wt?baseTimes(a.length,String):[],Ct=$t.length;for(var Dt in a)(s||hasOwnProperty$6.call(a,Dt))&&!(wt&&(Dt=="length"||at&&(Dt=="offset"||Dt=="parent")||mt&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||isIndex(Dt,Ct)))&&$t.push(Dt);return $t}function overArg(a,s){return function(et){return a(s(et))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(a){if(!isPrototype(a))return nativeKeys(a);var s=[];for(var et in Object(a))hasOwnProperty$5.call(a,et)&&et!="constructor"&&s.push(et);return s}function keys(a){return isArrayLike(a)?arrayLikeKeys(a):baseKeys(a)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(a,s){if(isArray(a))return!1;var et=typeof a;return et=="number"||et=="symbol"||et=="boolean"||a==null||isSymbol(a)?!0:reIsPlainProp.test(a)||!reIsDeepProp.test(a)||s!=null&&a in Object(s)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(a){var s=this.__data__;if(nativeCreate){var et=s[a];return et===HASH_UNDEFINED$2?void 0:et}return hasOwnProperty$4.call(s,a)?s[a]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(a){var s=this.__data__;return nativeCreate?s[a]!==void 0:hasOwnProperty$3.call(s,a)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(a,s){var et=this.__data__;return this.size+=this.has(a)?0:1,et[a]=nativeCreate&&s===void 0?HASH_UNDEFINED$1:s,this}function Hash(a){var s=-1,et=a==null?0:a.length;for(this.clear();++s<et;){var nt=a[s];this.set(nt[0],nt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(a,s){for(var et=a.length;et--;)if(eq$1(a[et][0],s))return et;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(a){var s=this.__data__,et=assocIndexOf(s,a);if(et<0)return!1;var nt=s.length-1;return et==nt?s.pop():splice.call(s,et,1),--this.size,!0}function listCacheGet(a){var s=this.__data__,et=assocIndexOf(s,a);return et<0?void 0:s[et][1]}function listCacheHas(a){return assocIndexOf(this.__data__,a)>-1}function listCacheSet(a,s){var et=this.__data__,nt=assocIndexOf(et,a);return nt<0?(++this.size,et.push([a,s])):et[nt][1]=s,this}function ListCache(a){var s=-1,et=a==null?0:a.length;for(this.clear();++s<et;){var nt=a[s];this.set(nt[0],nt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function getMapData(a,s){var et=a.__data__;return isKeyable(s)?et[typeof s=="string"?"string":"hash"]:et.map}function mapCacheDelete(a){var s=getMapData(this,a).delete(a);return this.size-=s?1:0,s}function mapCacheGet(a){return getMapData(this,a).get(a)}function mapCacheHas(a){return getMapData(this,a).has(a)}function mapCacheSet(a,s){var et=getMapData(this,a),nt=et.size;return et.set(a,s),this.size+=et.size==nt?0:1,this}function MapCache(a){var s=-1,et=a==null?0:a.length;for(this.clear();++s<et;){var nt=a[s];this.set(nt[0],nt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var et=function(){var nt=arguments,at=s?s.apply(this,nt):nt[0],mt=et.cache;if(mt.has(at))return mt.get(at);var wt=a.apply(this,nt);return et.cache=mt.set(at,wt)||mt,wt};return et.cache=new(memoize.Cache||MapCache),et}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(a){var s=memoize(a,function(nt){return et.size===MAX_MEMOIZE_SIZE&&et.clear(),nt}),et=s.cache;return s}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(rePropName,function(et,nt,at,mt){s.push(at?mt.replace(reEscapeChar,"$1"):nt||et)}),s});function toString(a){return a==null?"":baseToString(a)}function castPath(a,s){return isArray(a)?a:isKey(a,s)?[a]:stringToPath(toString(a))}function toKey(a){if(typeof a=="string"||isSymbol(a))return a;var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function baseGet(a,s){s=castPath(s,a);for(var et=0,nt=s.length;a!=null&&et<nt;)a=a[toKey(s[et++])];return et&&et==nt?a:void 0}function get(a,s,et){var nt=a==null?void 0:baseGet(a,s);return nt===void 0?et:nt}function arrayPush(a,s){for(var et=-1,nt=s.length,at=a.length;++et<nt;)a[at+et]=s[et];return a}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(a){var s=this.__data__,et=s.delete(a);return this.size=s.size,et}function stackGet(a){return this.__data__.get(a)}function stackHas(a){return this.__data__.has(a)}var LARGE_ARRAY_SIZE=200;function stackSet(a,s){var et=this.__data__;if(et instanceof ListCache){var nt=et.__data__;if(!Map$1||nt.length<LARGE_ARRAY_SIZE-1)return nt.push([a,s]),this.size=++et.size,this;et=this.__data__=new MapCache(nt)}return et.set(a,s),this.size=et.size,this}function Stack(a){var s=this.__data__=new ListCache(a);this.size=s.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(a,s){for(var et=-1,nt=a==null?0:a.length,at=0,mt=[];++et<nt;){var wt=a[et];s(wt,et,a)&&(mt[at++]=wt)}return mt}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(a){return a==null?[]:(a=Object(a),arrayFilter(nativeGetSymbols(a),function(s){return propertyIsEnumerable.call(a,s)}))}:stubArray;function baseGetAllKeys(a,s,et){var nt=s(a);return isArray(a)?nt:arrayPush(nt,et(a))}function getAllKeys(a){return baseGetAllKeys(a,keys,getSymbols)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(a){var s=baseGetTag(a),et=s==objectTag$1?a.constructor:void 0,nt=et?toSource(et):"";if(nt)switch(nt){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return s});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(a){return this.__data__.set(a,HASH_UNDEFINED),this}function setCacheHas(a){return this.__data__.has(a)}function SetCache(a){var s=-1,et=a==null?0:a.length;for(this.__data__=new MapCache;++s<et;)this.add(a[s])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(a,s){for(var et=-1,nt=a==null?0:a.length;++et<nt;)if(s(a[et],et,a))return!0;return!1}function cacheHas(a,s){return a.has(s)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(a,s,et,nt,at,mt){var wt=et&COMPARE_PARTIAL_FLAG$5,$t=a.length,Ct=s.length;if($t!=Ct&&!(wt&&Ct>$t))return!1;var Dt=mt.get(a),Ft=mt.get(s);if(Dt&&Ft)return Dt==s&&Ft==a;var jt=-1,Ut=!0,tr=et&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(mt.set(a,s),mt.set(s,a);++jt<$t;){var ir=a[jt],sr=s[jt];if(nt)var ur=wt?nt(sr,ir,jt,s,a,mt):nt(ir,sr,jt,a,s,mt);if(ur!==void 0){if(ur)continue;Ut=!1;break}if(tr){if(!arraySome(s,function(fr,dr){if(!cacheHas(tr,dr)&&(ir===fr||at(ir,fr,et,nt,mt)))return tr.push(dr)})){Ut=!1;break}}else if(!(ir===sr||at(ir,sr,et,nt,mt))){Ut=!1;break}}return mt.delete(a),mt.delete(s),Ut}function mapToArray(a){var s=-1,et=Array(a.size);return a.forEach(function(nt,at){et[++s]=[at,nt]}),et}function setToArray(a){var s=-1,et=Array(a.size);return a.forEach(function(nt){et[++s]=nt}),et}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(a,s,et,nt,at,mt,wt){switch(et){case dataViewTag:if(a.byteLength!=s.byteLength||a.byteOffset!=s.byteOffset)return!1;a=a.buffer,s=s.buffer;case arrayBufferTag:return!(a.byteLength!=s.byteLength||!mt(new Uint8Array$1(a),new Uint8Array$1(s)));case boolTag:case dateTag:case numberTag:return eq$1(+a,+s);case errorTag:return a.name==s.name&&a.message==s.message;case regexpTag:case stringTag:return a==s+"";case mapTag:var $t=mapToArray;case setTag:var Ct=nt&COMPARE_PARTIAL_FLAG$4;if($t||($t=setToArray),a.size!=s.size&&!Ct)return!1;var Dt=wt.get(a);if(Dt)return Dt==s;nt|=COMPARE_UNORDERED_FLAG$2,wt.set(a,s);var Ft=equalArrays($t(a),$t(s),nt,at,mt,wt);return wt.delete(a),Ft;case symbolTag:if(symbolValueOf)return symbolValueOf.call(a)==symbolValueOf.call(s)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(a,s,et,nt,at,mt){var wt=et&COMPARE_PARTIAL_FLAG$3,$t=getAllKeys(a),Ct=$t.length,Dt=getAllKeys(s),Ft=Dt.length;if(Ct!=Ft&&!wt)return!1;for(var jt=Ct;jt--;){var Ut=$t[jt];if(!(wt?Ut in s:hasOwnProperty$2.call(s,Ut)))return!1}var tr=mt.get(a),ir=mt.get(s);if(tr&&ir)return tr==s&&ir==a;var sr=!0;mt.set(a,s),mt.set(s,a);for(var ur=wt;++jt<Ct;){Ut=$t[jt];var fr=a[Ut],dr=s[Ut];if(nt)var hr=wt?nt(dr,fr,Ut,s,a,mt):nt(fr,dr,Ut,a,s,mt);if(!(hr===void 0?fr===dr||at(fr,dr,et,nt,mt):hr)){sr=!1;break}ur||(ur=Ut=="constructor")}if(sr&&!ur){var vr=a.constructor,yr=s.constructor;vr!=yr&&"constructor"in a&&"constructor"in s&&!(typeof vr=="function"&&vr instanceof vr&&typeof yr=="function"&&yr instanceof yr)&&(sr=!1)}return mt.delete(a),mt.delete(s),sr}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(a,s,et,nt,at,mt){var wt=isArray(a),$t=isArray(s),Ct=wt?arrayTag:getTag(a),Dt=$t?arrayTag:getTag(s);Ct=Ct==argsTag?objectTag:Ct,Dt=Dt==argsTag?objectTag:Dt;var Ft=Ct==objectTag,jt=Dt==objectTag,Ut=Ct==Dt;if(Ut&&isBuffer(a)){if(!isBuffer(s))return!1;wt=!0,Ft=!1}if(Ut&&!Ft)return mt||(mt=new Stack),wt||isTypedArray(a)?equalArrays(a,s,et,nt,at,mt):equalByTag(a,s,Ct,et,nt,at,mt);if(!(et&COMPARE_PARTIAL_FLAG$2)){var tr=Ft&&hasOwnProperty$1.call(a,"__wrapped__"),ir=jt&&hasOwnProperty$1.call(s,"__wrapped__");if(tr||ir){var sr=tr?a.value():a,ur=ir?s.value():s;return mt||(mt=new Stack),at(sr,ur,et,nt,mt)}}return Ut?(mt||(mt=new Stack),equalObjects(a,s,et,nt,at,mt)):!1}function baseIsEqual(a,s,et,nt,at){return a===s?!0:a==null||s==null||!isObjectLike(a)&&!isObjectLike(s)?a!==a&&s!==s:baseIsEqualDeep(a,s,et,nt,baseIsEqual,at)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(a,s,et,nt){var at=et.length,mt=at;if(a==null)return!mt;for(a=Object(a);at--;){var wt=et[at];if(wt[2]?wt[1]!==a[wt[0]]:!(wt[0]in a))return!1}for(;++at<mt;){wt=et[at];var $t=wt[0],Ct=a[$t],Dt=wt[1];if(wt[2]){if(Ct===void 0&&!($t in a))return!1}else{var Ft=new Stack,jt;if(!(jt===void 0?baseIsEqual(Dt,Ct,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,nt,Ft):jt))return!1}}return!0}function isStrictComparable(a){return a===a&&!isObject$1(a)}function getMatchData(a){for(var s=keys(a),et=s.length;et--;){var nt=s[et],at=a[nt];s[et]=[nt,at,isStrictComparable(at)]}return s}function matchesStrictComparable(a,s){return function(et){return et==null?!1:et[a]===s&&(s!==void 0||a in Object(et))}}function baseMatches(a){var s=getMatchData(a);return s.length==1&&s[0][2]?matchesStrictComparable(s[0][0],s[0][1]):function(et){return et===a||baseIsMatch(et,a,s)}}function baseHasIn(a,s){return a!=null&&s in Object(a)}function hasPath(a,s,et){s=castPath(s,a);for(var nt=-1,at=s.length,mt=!1;++nt<at;){var wt=toKey(s[nt]);if(!(mt=a!=null&&et(a,wt)))break;a=a[wt]}return mt||++nt!=at?mt:(at=a==null?0:a.length,!!at&&isLength(at)&&isIndex(wt,at)&&(isArray(a)||isArguments(a)))}function hasIn(a,s){return a!=null&&hasPath(a,s,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(a,s){return isKey(a)&&isStrictComparable(s)?matchesStrictComparable(toKey(a),s):function(et){var nt=get(et,a);return nt===void 0&&nt===s?hasIn(et,a):baseIsEqual(s,nt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(a){return function(s){return s==null?void 0:s[a]}}function basePropertyDeep(a){return function(s){return baseGet(s,a)}}function property(a){return isKey(a)?baseProperty(toKey(a)):basePropertyDeep(a)}function baseIteratee(a){return typeof a=="function"?a:a==null?identity:typeof a=="object"?isArray(a)?baseMatchesProperty(a[0],a[1]):baseMatches(a):property(a)}function createBaseFor(a){return function(s,et,nt){for(var at=-1,mt=Object(s),wt=nt(s),$t=wt.length;$t--;){var Ct=wt[++at];if(et(mt[Ct],Ct,mt)===!1)break}return s}}var baseFor=createBaseFor();function baseForOwn(a,s){return a&&baseFor(a,s,keys)}function createBaseEach(a,s){return function(et,nt){if(et==null)return et;if(!isArrayLike(et))return a(et,nt);for(var at=et.length,mt=-1,wt=Object(et);++mt<at&&nt(wt[mt],mt,wt)!==!1;);return et}}var baseEach=createBaseEach(baseForOwn);function baseMap(a,s){var et=-1,nt=isArrayLike(a)?Array(a.length):[];return baseEach(a,function(at,mt,wt){nt[++et]=s(at,mt,wt)}),nt}function baseSortBy(a,s){var et=a.length;for(a.sort(s);et--;)a[et]=a[et].value;return a}function compareAscending(a,s){if(a!==s){var et=a!==void 0,nt=a===null,at=a===a,mt=isSymbol(a),wt=s!==void 0,$t=s===null,Ct=s===s,Dt=isSymbol(s);if(!$t&&!Dt&&!mt&&a>s||mt&&wt&&Ct&&!$t&&!Dt||nt&&wt&&Ct||!et&&Ct||!at)return 1;if(!nt&&!mt&&!Dt&&a<s||Dt&&et&&at&&!nt&&!mt||$t&&et&&at||!wt&&at||!Ct)return-1}return 0}function compareMultiple(a,s,et){for(var nt=-1,at=a.criteria,mt=s.criteria,wt=at.length,$t=et.length;++nt<wt;){var Ct=compareAscending(at[nt],mt[nt]);if(Ct){if(nt>=$t)return Ct;var Dt=et[nt];return Ct*(Dt=="desc"?-1:1)}}return a.index-s.index}function baseOrderBy(a,s,et){s.length?s=arrayMap(s,function(mt){return isArray(mt)?function(wt){return baseGet(wt,mt.length===1?mt[0]:mt)}:mt}):s=[identity];var nt=-1;s=arrayMap(s,baseUnary(baseIteratee));var at=baseMap(a,function(mt,wt,$t){var Ct=arrayMap(s,function(Dt){return Dt(mt)});return{criteria:Ct,index:++nt,value:mt}});return baseSortBy(at,function(mt,wt){return compareMultiple(mt,wt,et)})}function orderBy(a,s,et,nt){return a==null?[]:(isArray(s)||(s=s==null?[]:[s]),et=et,isArray(et)||(et=et==null?[]:[et]),baseOrderBy(a,s,et))}function useTokenSelect(){const{tokenMap:a}=useTokenStore(),{setCollectList:s,collectList:et,setTrustedList:nt,setFilterTokenLoading:at,setFilterTokenList:mt,importTokenList:wt,setImportTokenList:$t,liquidityTrustTokenList:Ct,setLiquidityTrustTokenList:Dt,setShowImportBtn:Ft,trustedTokenList:jt,setTrustedListLabel:Ut,setUserCollectList:tr,userCollectList:ir}=useTokenSelectStore(),{tokenBalanceObj:sr}=useTokenBalanceStore(),{currentAccount:ur}=useAccountStore(),{getTokenPrice:fr}=useTokenPrice(),{clmmSdk:dr}=useClmmSDKStore(),{showCommonToast:hr}=useGlobalToast(),vr=async()=>{const or=jt.filter(Mr=>Mr.suggested_priority&&Mr.suggested_priority[0]),pr=or.sort((Mr,$r)=>Number($r.suggested_priority[0])-Number(Mr.suggested_priority[0]));LocalStorageService.setItem(COLLECT_TOKEN_LIST,pr);const _r=[...or,...pr],kr=[...new Map(_r.map(Mr=>[extractStructTagFromType$1((Mr==null?void 0:Mr.coin_type)||(Mr==null?void 0:Mr.address)).full_address||(Mr==null?void 0:Mr.address),Mr])).values()];s(kr)},yr=async()=>{const or=await LocalStorageService.getItem(USER_COLLECT_TOKEN_LIST)||[];tr(or)},xr=or=>{const gr=ir.filter(pr=>pr.coin_type!==or.coin_type);tr(gr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,gr),hr("Removed","success")},br=or=>{const gr=or.map(_r=>_r.coin_type),pr=ir.filter(_r=>!gr.includes(_r.coin_type));tr(pr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,pr)},wr=or=>{const gr=[...ir,or];tr(gr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,gr),hr("Added","success")},Sr=async()=>{const or=await LocalStorageService.getItem(IMPORT_TOKEN_LIST);or&&$t(or)},Cr=or=>{const gr=[...wt,...or];$t(gr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,gr),hr("Imported","success")},cr=or=>{const gr=or.map(_r=>_r.coin_type),pr=wt.filter(_r=>!gr.includes(_r.coin_type));$t(pr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,pr),br(or),hr((or==null?void 0:or.length)==(wt==null?void 0:wt.length)?"Cleared":"Removed","success")},Nt=()=>{const or=jt.map(pr=>pr.coin_type),gr=wt.filter(pr=>!or.includes(pr.coin_type));$t(gr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,gr)},Vt=or=>{const gr=[...Ct,...or];console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:100 ~ addImportTokenList ~ list:",gr),Dt(gr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,gr)},er=or=>{const gr=or.map(_r=>_r.coin_type),pr=Ct.filter(_r=>!gr.includes(_r.coin_type));Dt(pr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,pr)},Yt=(or,gr)=>sr[or]&&(ur!=null&&ur.address)?bnToAmount(sr[or].totalBalance,gr):0,rr=(or,gr,pr=!0)=>{const _r=gr&&gr.toLocaleLowerCase(),kr=or.map($r=>{var Or;let Pr=0,Fr=0;$r.symbol.toLowerCase()===_r||$r.name.toLowerCase()===_r||$r.coin_type.toLowerCase()===_r?(Pr=1e3,Fr=2):$r.symbol.toLowerCase().indexOf(_r)>-1?(Pr=100,Fr=0):$r.name.toLowerCase().indexOf(_r)>-1?(Pr=10,Fr=0):$r.coin_type.toLowerCase().indexOf(_r)>-1?(Pr=1,Fr=0):$r.coin_type.toLowerCase()=="0x2::sui::sui"&&(Fr=1);const Tr=pr&&Yt(extractStructTagFromType$1($r.coin_type).full_address,$r.decimals)||0,Rr=pr&&((Or=fr($r.coin_type))==null?void 0:Or.price)||void 0,Er=Array.isArray($r==null?void 0:$r.coin_priority)?Number($r.coin_priority[0])||0:Number($r==null?void 0:$r.coin_priority)||0;return{...$r,coin_priority_sort:Er,mark:Pr,sort:Fr,balance:Tr,price:Rr,balanceUSD:Rr?d$1(Tr).mul(d$1(Rr)).toNumber():"0"}});return orderBy(kr,["sort","mark","balanceUSD","balance","coin_priority_sort","symbol"],["desc","desc","desc","desc","desc","asc"])},ar=()=>{const or=[],gr=[],pr=[{label:"All",value:"All"},{label:"Native",value:"Native"}];console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:199 ~ getDefaultTokenList ~ tokenMap.values():",a.values());for(const Mr of a.values())Mr.is_trusted&&Mr.coin_type!=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"&&(or.push(Mr),Mr.labels&&Mr.labels[0]&&gr.push({label:Mr.labels[0],value:Mr.labels[0]}));const _r=rr(or,"");console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:211 ~ getDefaultTokenList ~ result:",or),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:221 ~ getDefaultTokenList ~ sortResult:",_r),nt(_r);const kr=Array.from(new Set(gr.map(Mr=>Mr.label))).map(Mr=>gr.find($r=>$r.label===Mr));Ut(pr.concat(kr)),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:194 ~ getDefaultTokenList ~ trustedListLabel.concat(Array.from(new Set(labelList))):",pr.concat(Array.from(new Set(gr))))},lr=async(or,gr,pr,_r=!0,kr=!0)=>{let Mr=!1;Ft(!1);const $r=getSuiObjectType(or),Pr=isSuiObjectType(or)?suiAddressLongToShort(extractStructTagFromType$1(suiAddressLongToShort(or).toLowerCase()).full_address).toLocaleLowerCase():or.toLowerCase(),Fr=gr.filter(Or=>{var Wr;return Or.symbol.toLowerCase().indexOf(Pr)!==-1||Or.coin_type.toLowerCase().indexOf(Pr)!==-1||Or.name.toLowerCase().indexOf(Pr)!==-1||(Or==null?void 0:Or.coin_type)&&((Wr=Or==null?void 0:Or.coin_type)==null?void 0:Wr.toLowerCase().indexOf(Pr))!==-1}),Tr=pr.filter(Or=>Or.symbol.toLowerCase().indexOf(Pr)!==-1||Or.coin_type.toLowerCase().indexOf(Pr)!==-1||Or.name.toLowerCase().indexOf(Pr)!==-1);let Rr=Fr.concat(Tr);if(Rr&&Rr.length==0&&$r.split("::").length==3&&kr)try{const Or=await dr.CetusConfig.getTokenListByCoinTypes([$r]);if(Or[$r])Rr=[{...Or[$r],is_trusted:!1,coin_type:extractStructTagFromType$1($r).full_address,description:""}],Mr=!0;else{const{data:Wr}=await fetch(`/data/hop-coin-info.json?timestamp=${new Date().getTime()}`).then(Vr=>Vr.json()),qr=Wr[$r];Wr&&qr&&(Rr=[{...qr,is_trusted:!1,logo_url:qr.iconUrl,coin_type:extractStructTagFromType$1($r).full_address}],Mr=!0)}}catch(Or){console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:90 ~ filterTokenList ~ error:",Or)}const Er=rr(Rr,$r);mt(Er),Ft(_r?Mr:!1),at(!1),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:238 ~ filterTokenListFun ~ filterTokenListFun:",Er)},nr=(or,gr)=>{const pr=gr.filter(kr=>or=="Native"?!kr.labels||kr.labels.length==0||kr.labels=="Native":kr.labels&&kr.labels.length>0&&kr.labels[0].toLowerCase()==or.toLowerCase());console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:279 ~ filterTokenWithLabel ~ result:",pr);const _r=rr(pr,"");mt(_r)},Lt=(or,gr,pr)=>{let _r=gr.findIndex(kr=>kr.coin_type.toLowerCase()==or.toLowerCase());return _r>=0?"Default":(_r=pr.findIndex(kr=>kr.coin_type.toLowerCase()==or.toLowerCase()),_r>=0?"Imported":"Default")};return reactExports.useEffect(()=>()=>{Ft(!1)},[]),{getCollectList:vr,getDefaultTokenList:ar,filterTokenListFun:lr,filterTokenWithLabel:nr,getImportTokenList:Sr,addImportTokenList:Cr,delImportTokenList:cr,addLiquidityTrustTokenList:Vt,removeLiquidityTrustTokenList:er,updateImportTokenList:Nt,sortWithTokenList:rr,getTabByAddress:Lt,getUserCollectList:yr,delUserCollectTokens:br,addUserCollectToken:wr,delUserCollectToken:xr}}function useExplorer(){const{currentExplorer:a}=useRpcConfigStore();return{getExplorerUrl:(et,nt="account",at=a)=>{const mt=at.name.toLocaleLowerCase().indexOf("suivision")>-1?"SuiVision":at.name.toLocaleLowerCase().indexOf("suiscan")>-1?"Suiscan":"";let wt;return mt=="SuiVision"?wt=`${at.link}/${getSuiVisionKey(nt)}/${et}`:wt=`${at.link}/${getSuiscanKey(nt)}/${et}`,wt}}}const getSuiscanKey=a=>{switch(a){case"account":return"address";case"token":return"object";case"tx":return"tx";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},getSuiVisionKey=a=>{switch(a){case"account":return"account";case"token":return"object";case"tx":return"txblock";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},useFetch=()=>{const{domains:a,currentDomain:s,setCurrentDomain:et,setUnhealthyDomains:nt,unhealthyDomains:at}=useGlobalApiDomainStore(),mt=()=>{const $t=a.length;if($t>1&&at.length<$t-1){nt(s);const Ct=a.indexOf(s);let Dt="";return Ct!==$t-1?Dt=a[Ct+1]:Dt=a[0],Dt}return""},wt=async($t,Ct,Dt,Ft)=>{console.log("🚀 ~ file: useFetch.ts:30 ~ fetchByApi ~ params:",{path:$t,type:Ct,options:Dt,domain:Ft||s});try{return Ct==="GET"?await fetchGet(`${Ft||s}${$t}`,Dt):await fetchPost(`${Ft||s}${$t}`,Dt)}catch(jt){console.log("🚀 ~ file: useFetch.ts:41 ~ fetchByApi ~ error:",jt);const Ut=mt();if(Ut)return et(Ut),wt($t,Ct,Dt,Ut);throw jt}};return{fetchByApi:wt}};function useGetTokens(){const{fetchByApi:a}=useFetch(),{setTokenMap:s}=useTokenStore(),{setTrustedList:et}=useTokenSelectStore();return{getTokens:async()=>{var $t;const at=await a("/v2/sui/coins_info","GET");console.log("🚀 ~ file: useGetTokens.ts:8 ~ getTokens ~ res:",at);const mt=($t=at==null?void 0:at.list)==null?void 0:$t.reduce((Ct,Dt)=>(Ct.set(Dt.coin_type,Dt),Ct),new Map);mt&&(mt.set("0x2::sui::SUI",{...mt.get("0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"),coin_type:"0x2::sui::SUI"}),s(mt));const wt=[];for(const[Ct,Dt]of mt)Dt.is_trusted&&wt.push(Dt);et(wt)}}}const ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(a){let s;if(a instanceof Uint8Array)s=a;else if(typeof a=="string")s=new TextEncoder().encode(a);else throw new Error(ERROR_MSG_INPUT);return s}function toHex(a){return Array.prototype.map.call(a,function(s){return(s<16?"0":"")+s.toString(16)}).join("")}function uint32ToHex(a){return(4294967296+a).toString(16).substring(1)}function debugPrint(a,s,et){let nt=`
`+a+" = ";for(let at=0;at<s.length;at+=2){if(et===32)nt+=uint32ToHex(s[at]).toUpperCase(),nt+=" ",nt+=uint32ToHex(s[at+1]).toUpperCase();else if(et===64)nt+=uint32ToHex(s[at+1]).toUpperCase(),nt+=uint32ToHex(s[at]).toUpperCase();else throw new Error("Invalid size "+et);at%6===4?nt+=`
`+new Array(a.length+4).join(" "):at<s.length-2&&(nt+=" ")}console.log(nt)}function testSpeed(a,s,et){let nt=new Date().getTime();const at=new Uint8Array(s);for(let wt=0;wt<s;wt++)at[wt]=wt%256;const mt=new Date().getTime();console.log("Generated random input in "+(mt-nt)+"ms"),nt=mt;for(let wt=0;wt<et;wt++){const $t=a(at),Ct=new Date().getTime(),Dt=Ct-nt;nt=Ct,console.log("Hashed in "+Dt+"ms: "+$t.substring(0,20)+"..."),console.log(Math.round(s/(1<<20)/(Dt/1e3)*100)/100+" MB PER SECOND")}}var util$2={normalizeInput,toHex,debugPrint,testSpeed};const util$1=util$2;function ADD64AA(a,s,et){const nt=a[s]+a[et];let at=a[s+1]+a[et+1];nt>=4294967296&&at++,a[s]=nt,a[s+1]=at}function ADD64AC(a,s,et,nt){let at=a[s]+et;et<0&&(at+=4294967296);let mt=a[s+1]+nt;at>=4294967296&&mt++,a[s]=at,a[s+1]=mt}function B2B_GET32(a,s){return a[s]^a[s+1]<<8^a[s+2]<<16^a[s+3]<<24}function B2B_G(a,s,et,nt,at,mt){const wt=m$2[at],$t=m$2[at+1],Ct=m$2[mt],Dt=m$2[mt+1];ADD64AA(v$2,a,s),ADD64AC(v$2,a,wt,$t);let Ft=v$2[nt]^v$2[a],jt=v$2[nt+1]^v$2[a+1];v$2[nt]=jt,v$2[nt+1]=Ft,ADD64AA(v$2,et,nt),Ft=v$2[s]^v$2[et],jt=v$2[s+1]^v$2[et+1],v$2[s]=Ft>>>24^jt<<8,v$2[s+1]=jt>>>24^Ft<<8,ADD64AA(v$2,a,s),ADD64AC(v$2,a,Ct,Dt),Ft=v$2[nt]^v$2[a],jt=v$2[nt+1]^v$2[a+1],v$2[nt]=Ft>>>16^jt<<16,v$2[nt+1]=jt>>>16^Ft<<16,ADD64AA(v$2,et,nt),Ft=v$2[s]^v$2[et],jt=v$2[s+1]^v$2[et+1],v$2[s]=jt>>>31^Ft<<1,v$2[s+1]=Ft>>>31^jt<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(a){return a*2})),v$2=new Uint32Array(32),m$2=new Uint32Array(32);function blake2bCompress(a,s){let et=0;for(et=0;et<16;et++)v$2[et]=a.h[et],v$2[et+16]=BLAKE2B_IV32[et];for(v$2[24]=v$2[24]^a.t,v$2[25]=v$2[25]^a.t/4294967296,s&&(v$2[28]=~v$2[28],v$2[29]=~v$2[29]),et=0;et<32;et++)m$2[et]=B2B_GET32(a.b,4*et);for(et=0;et<12;et++)B2B_G(0,8,16,24,SIGMA82[et*16+0],SIGMA82[et*16+1]),B2B_G(2,10,18,26,SIGMA82[et*16+2],SIGMA82[et*16+3]),B2B_G(4,12,20,28,SIGMA82[et*16+4],SIGMA82[et*16+5]),B2B_G(6,14,22,30,SIGMA82[et*16+6],SIGMA82[et*16+7]),B2B_G(0,10,20,30,SIGMA82[et*16+8],SIGMA82[et*16+9]),B2B_G(2,12,22,24,SIGMA82[et*16+10],SIGMA82[et*16+11]),B2B_G(4,14,16,26,SIGMA82[et*16+12],SIGMA82[et*16+13]),B2B_G(6,8,18,28,SIGMA82[et*16+14],SIGMA82[et*16+15]);for(et=0;et<16;et++)a.h[et]=a.h[et]^v$2[et]^v$2[et+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(a,s,et,nt){if(a===0||a>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(s&&s.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(et&&et.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(nt&&nt.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const at={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:a};parameterBlock.fill(0),parameterBlock[0]=a,s&&(parameterBlock[1]=s.length),parameterBlock[2]=1,parameterBlock[3]=1,et&&parameterBlock.set(et,32),nt&&parameterBlock.set(nt,48);for(let mt=0;mt<16;mt++)at.h[mt]=BLAKE2B_IV32[mt]^B2B_GET32(parameterBlock,mt*4);return s&&(blake2bUpdate(at,s),at.c=128),at}function blake2bUpdate(a,s){for(let et=0;et<s.length;et++)a.c===128&&(a.t+=a.c,blake2bCompress(a,!1),a.c=0),a.b[a.c++]=s[et]}function blake2bFinal(a){for(a.t+=a.c;a.c<128;)a.b[a.c++]=0;blake2bCompress(a,!0);const s=new Uint8Array(a.outlen);for(let et=0;et<a.outlen;et++)s[et]=a.h[et>>2]>>8*(et&3);return s}function blake2b(a,s,et,nt,at){et=et||64,a=util$1.normalizeInput(a),nt&&(nt=util$1.normalizeInput(nt)),at&&(at=util$1.normalizeInput(at));const mt=blake2bInit(et,s,nt,at);return blake2bUpdate(mt,a),blake2bFinal(mt)}function blake2bHex(a,s,et,nt,at){const mt=blake2b(a,s,et,nt,at);return util$1.toHex(mt)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util=util$2;function B2S_GET32(a,s){return a[s]^a[s+1]<<8^a[s+2]<<16^a[s+3]<<24}function B2S_G(a,s,et,nt,at,mt){v$1[a]=v$1[a]+v$1[s]+at,v$1[nt]=ROTR32(v$1[nt]^v$1[a],16),v$1[et]=v$1[et]+v$1[nt],v$1[s]=ROTR32(v$1[s]^v$1[et],12),v$1[a]=v$1[a]+v$1[s]+mt,v$1[nt]=ROTR32(v$1[nt]^v$1[a],8),v$1[et]=v$1[et]+v$1[nt],v$1[s]=ROTR32(v$1[s]^v$1[et],7)}function ROTR32(a,s){return a>>>s^a<<32-s}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$1=new Uint32Array(16),m$1=new Uint32Array(16);function blake2sCompress(a,s){let et=0;for(et=0;et<8;et++)v$1[et]=a.h[et],v$1[et+8]=BLAKE2S_IV[et];for(v$1[12]^=a.t,v$1[13]^=a.t/4294967296,s&&(v$1[14]=~v$1[14]),et=0;et<16;et++)m$1[et]=B2S_GET32(a.b,4*et);for(et=0;et<10;et++)B2S_G(0,4,8,12,m$1[SIGMA[et*16+0]],m$1[SIGMA[et*16+1]]),B2S_G(1,5,9,13,m$1[SIGMA[et*16+2]],m$1[SIGMA[et*16+3]]),B2S_G(2,6,10,14,m$1[SIGMA[et*16+4]],m$1[SIGMA[et*16+5]]),B2S_G(3,7,11,15,m$1[SIGMA[et*16+6]],m$1[SIGMA[et*16+7]]),B2S_G(0,5,10,15,m$1[SIGMA[et*16+8]],m$1[SIGMA[et*16+9]]),B2S_G(1,6,11,12,m$1[SIGMA[et*16+10]],m$1[SIGMA[et*16+11]]),B2S_G(2,7,8,13,m$1[SIGMA[et*16+12]],m$1[SIGMA[et*16+13]]),B2S_G(3,4,9,14,m$1[SIGMA[et*16+14]],m$1[SIGMA[et*16+15]]);for(et=0;et<8;et++)a.h[et]^=v$1[et]^v$1[et+8]}function blake2sInit(a,s){if(!(a>0&&a<=32))throw new Error("Incorrect output length, should be in [1, 32]");const et=s?s.length:0;if(s&&!(et>0&&et<=32))throw new Error("Incorrect key length, should be in [1, 32]");const nt={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:a};return nt.h[0]^=16842752^et<<8^a,et>0&&(blake2sUpdate(nt,s),nt.c=64),nt}function blake2sUpdate(a,s){for(let et=0;et<s.length;et++)a.c===64&&(a.t+=a.c,blake2sCompress(a,!1),a.c=0),a.b[a.c++]=s[et]}function blake2sFinal(a){for(a.t+=a.c;a.c<64;)a.b[a.c++]=0;blake2sCompress(a,!0);const s=new Uint8Array(a.outlen);for(let et=0;et<a.outlen;et++)s[et]=a.h[et>>2]>>8*(et&3)&255;return s}function blake2s(a,s,et){et=et||32,a=util.normalizeInput(a);const nt=blake2sInit(et,s);return blake2sUpdate(nt,a),blake2sFinal(nt)}function blake2sHex(a,s,et){const nt=blake2s(a,s,et);return util.toHex(nt)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal},dt$1="router",pe=1e4,ie$1=class{static buildPoolImmutables(s){let{fields:et}=s.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(et.clmm_pool_id).address,booster_type:extractStructTagFromType$1(et.booster_type.fields.name).source_address,pool_id:extractStructTagFromType$1(et.pool_id).address,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).source_address}}static buildPoolState(s){let et=getObjectFields(s),nt=[];return et.config.fields.contents.forEach(at=>{nt.push({lock_day:Number(at.fields.key),multiplier:Number(d$2(at.fields.value).div(pe))})}),{basic_percent:Number(d$2(et.basic_percent).div(pe)),balances:{balances_handle:et.balances.fields.id.id,size:et.balances.fields.size},config:nt,lock_positions:{lock_positions_handle:et.lock_positions.fields.id.id,size:et.lock_positions.fields.size},is_open:et.is_open,index:Number(et.index),pool_id:getObjectId(s)}}static buildLockNFT(s){let et=extractStructTagFromType$1(getObjectId(s)).address;return{lock_clmm_position:buildPosition(s),locked_nft_id:et}}static buildLockPositionInfo(s){let et=getObjectFields(s),{value:nt}=et.value.fields;return{type:nt.type,position_id:nt.fields.position_id,start_time:Number(nt.fields.start_time),lock_period:Number(nt.fields.lock_period),end_time:Number(nt.fields.end_time),growth_rewarder:nt.fields.growth_rewarder,rewarder_owned:nt.fields.rewarder_owned,is_settled:nt.fields.is_settled}}static isLocked(s){return s.end_time>Date.parse(new Date().toString())/1e3}},ut=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPoolImmutables(a=!1){var mt;let{booster:s}=this._sdk.sdkOptions,et=`${s.package_id}_getPoolImmutables`,nt=this.getCache(et,a),at=[];if(nt!==void 0)at.push(...nt);else{let wt=[];(mt=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(s).booster_pool_handle)).data)==null||mt.forEach(Ct=>{wt.push(Ct.objectId)});let $t=await this._sdk.ClmmSDK.fullClient.batchGetObjects(wt,{showContent:!0});for(let Ct of $t){let Dt=getObjectFields(Ct);if(Dt){let Ft=ie$1.buildPoolImmutables(Dt);this.updateCache(`${Ft.pool_id}_getPoolImmutable`,Ft,cacheTime24h),at.push(Ft)}}}return this.updateCache(et,at,cacheTime24h),at}async getPoolImmutable(a){let{booster:s}=this._sdk.sdkOptions,et=`${a}_getPoolImmutable`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(s).booster_pool_handle,name:{type:"0x2::object::ID",value:a}}),mt=getObjectFields(at),wt=ie$1.buildPoolImmutables(mt);return this.updateCache(et,wt,cacheTime24h),wt}async getPools(){let a=[],s=(await this.getPoolImmutables()).map(nt=>nt.pool_id),et=await this._sdk.ClmmSDK.fullClient.batchGetObjects(s,{showType:!0,showContent:!0});for(let nt of et){let at=ie$1.buildPoolState(nt);if(at){let mt={...await this.getPoolImmutable(at.pool_id),...at};a.push(mt);let wt=`${mt.pool_id}_getPoolObject`;this.updateCache(wt,mt,cacheTime24h)}}return a}async getPool(a,s=!0){let et=`${a}_getPoolObject`,nt=this.getCache(et,s),at=await this.getPoolImmutable(a);if(nt!==void 0)return{...at,...nt};let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}}),wt=ie$1.buildPoolState(mt),$t={...at,...wt};return this.updateCache(et,$t,cacheTime24h),$t}async getPoolHandleId(a){let s=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0}}),et=getObjectFields(s);return et?et.list.fields.id.id:""}async getBoosterInitConfigs(){var nt;let{package_id:a}=this.sdk.sdkOptions.booster,s=(nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitEvent`}))==null?void 0:nt.data,et={booster_config_id:"",booster_pool_handle:""};return s.length>0&&s.forEach(at=>{let mt=at.parsedJson;mt&&(et.booster_config_id=mt.config_id)}),et.booster_pool_handle=await this.getPoolHandleId(et.booster_config_id),et}async getOwnerBoosterPositions(a,s,et){let{booster:nt}=this.sdk.sdkOptions,at=[],mt=[],wt=`${nt.package_id}::lock_nft::LockNFT<${this._sdk.ClmmSDK.Position.buildPositionType()}>`,$t=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showOwner:!0},filter:{StructType:wt}});for(let Dt of $t.data)if(extractStructTagFromType$1(getMoveObjectType(Dt)).source_address===wt&&Dt.data){let Ft=ie$1.buildLockNFT(Dt);this.updateCache(`${Ft.locked_nft_id}_getBoosterPositionById`,Ft,cacheTime24h),Ft&&(s===void 0||s===Ft.lock_clmm_position.pool)&&at.push(Ft)}let Ct=await this.getLockPositionInfos(et,at.map(Dt=>Dt.locked_nft_id));for(let Dt of at)for(let Ft of Ct)if(Dt.lock_clmm_position.pos_object_id===Ft.position_id){mt.push({...Dt,...Ft});break}return mt}async getBoosterPosition(a,s){let et=`${s}_getBoosterPositionById`,nt=this.getCache(et),at;if(nt!==void 0)at=nt;else{let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showOwner:!0}});at=ie$1.buildLockNFT(wt),this.updateCache(et,at,cacheTime24h)}let mt=await this.getLockPositionInfo(a,s);return{...at,...mt}}async getLockPositionInfos(a,s=[]){var mt;let et=await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(a),nt=[],at=[];return(mt=et.data)==null||mt.forEach(wt=>{s.length>0?s.includes(wt.name.value)&&nt.push(wt.objectId):nt.push(wt.objectId)}),nt.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(nt,{showContent:!0})).forEach(wt=>{let $t=ie$1.buildLockPositionInfo(wt);$t&&at.push($t)}),at}async getLockPositionInfo(a,s){let et=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}});return ie$1.buildLockPositionInfo(et)}calculateXCetusRewarder(a,s,et){let nt=s.basic_percent,at="0";a.forEach(wt=>{wt.coin_address===s.booster_type&&(at=wt.amount_owed.toString())}),et.is_settled||s.config.forEach(wt=>{wt.lock_day===et.lock_period&&(nt=wt.multiplier)});let mt=d$2(at).sub(et.growth_rewarder).mul(nt);return d$2(et.rewarder_owned).add(mt).toString()}lockPositionPayload(a){let{booster:s}=this.sdk.sdkOptions,{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${s.published_at}::${dt$1}::lock_position`,typeArguments:[a.booster_type,a.coinTypeA,a.coinTypeB],arguments:[nt.object(getPackagerConfigs(s).booster_config_id),nt.object(getPackagerConfigs(et).global_config_id),nt.object(a.booster_pool_id),nt.object(a.clmm_pool_id),nt.object(a.clmm_position_id),nt.pure.u16(a.lock_day),nt.object(CLOCK_ADDRESS$1)]}),nt}canceLockPositionPayload(a){let{booster:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${dt$1}::cancel_lock`,typeArguments:[a.booster_type],arguments:[et.object(getPackagerConfigs(s).booster_config_id),et.object(a.booster_pool_id),et.object(a.lock_nft_id),et.object(CLOCK_ADDRESS$1)]}),et}redeemPayload(a){let{booster:s,xcetus:et}=this.sdk.sdkOptions,{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,mt=getPackagerConfigs(et);return at.moveCall({target:`${s.published_at}::${dt$1}::redeem`,typeArguments:[a.booster_type,a.coinTypeA,a.coinTypeB],arguments:[at.object(getPackagerConfigs(s).booster_config_id),at.object(getPackagerConfigs(nt).global_config_id),at.object(a.booster_pool_id),at.object(a.lock_nft_id),at.object(a.clmm_pool_id),at.object(mt.lock_manager_id),at.object(mt.xcetus_manager_id),at.object(a.ve_nft_id),at.object(CLOCK_ADDRESS$1)]}),at}updateCache(a,s,et=cacheTime5min){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){let et=this._cache[a];if(!s&&(et!=null&&et.isValid()))return et.value;delete this._cache[a]}},K="router",lt$1=1e9,hi=(a=>(a.Upcoming="Upcoming",a.Live="Live",a.Settle="Settle",a.Ended="Ended",a.Failed="Failed",a.Canceled="Canceled",a))(hi||{}),S$2=class{static priceRealToFix(s,et,nt){let at=d$2(et-nt).toNumber();return Number(d$2(s).div(d$2(10).pow(d$2(at))).toString())}static priceFixToReal(s,et,nt){let at=d$2(et-nt).toNumber();return Number(d$2(s).mul(d$2(10).pow(d$2(at))).toString())}static raiseTotalAmount(s,et,nt){let at=d$2(et-nt).abs().toNumber();return et>nt?Number(d$2(s.total_supply).mul(s.current_price).div(d$2(10).pow(d$2(at))).toString()):Number(d$2(s.total_supply).mul(s.current_price).mul(d$2(10).pow(d$2(at))).toString())}static buildLaunchPadPool(s){let et=getMoveObjectType(s),nt=extractStructTagFromType$1(et),at=getObjectFields(s),mt={coin_type_sale:nt.type_arguments[0],coin_type_raise:nt.type_arguments[1],pool_address:normalizeSuiObjectId(getObjectId(s)),is_settle:at.is_settle,current_price:d$2(at.initialize_price).div(d$2(lt$1)).toString(),price:at.initialize_price,min_price:"0",max_price:"0",sale_coin_amount:at.sale_coin,raise_coin_amount:at.raise_coin,total_purchase_amount:at.reality_raise_total,total_supply:at.sale_total,min_purchase:at.min_purchase,max_purchase:at.max_purchase,complete_raise_limit:at.least_raise_amount,softcap:at.softcap,max_raise_amount:at.hardcap,sale_decimals:0,raise_decimals:0,liquidity_injection_ratio:Number(at.liquidity_rate)/1e4,is_cancel:at.is_cancel,duration_summary:{start_time:Number(at.duration_manager.fields.start_time),end_time:0,settle_end_time:0,purchase_duration:Number(at.duration_manager.fields.activity_duration),settle_duration:Number(at.duration_manager.fields.settle_duration),lock_up_duration:Number(at.duration_manager.fields.locked_duration)},white_summary:{white_handle:at.white_list.fields.users.fields.id.id,protection_hard_cap:at.white_list.fields.hard_cap_total,protection_limit_used:at.white_list.fields.purchase_total,size:Number(at.white_list.fields.users.fields.size)},unused_sale:at.unused_sale,harvest_raise:at.harvest_raise,tick_spacing:Number(at.tick_spacing),owner:at.recipient,purchase_summary:{purchase_handle:at.purchase_list.fields.id.id,size:Number(at.purchase_list.fields.size)},pool_status:"Failed"};return S$2.updatePoolStatus(mt),mt}static updatePoolStatus(s){let et=Number(d$2(Date.now()/1e3).toFixed(0)),{duration_summary:nt}=s,at=nt.start_time+nt.purchase_duration,mt=at+nt.settle_duration;if(nt.end_time=at,nt.settle_end_time=mt,s.is_settle)s.pool_status="Ended";else if(s.is_cancel)s.pool_status="Canceled";else if(et<nt.start_time)s.pool_status="Upcoming";else if(et>nt.start_time&&et<at)s.pool_status="Live";else if(et>at&&et<mt){let wt=s.raise_coin_amount;Number(wt)<Number(s.complete_raise_limit)?s.pool_status="Failed":s.pool_status="Settle"}return s}static async calculatePoolPrice(s,et){let nt=await s.ClmmSDK.CetusConfig.getTokenListByCoinTypes([et.coin_type_sale,et.coin_type_raise]),at=nt[et.coin_type_sale].decimals,mt=nt[et.coin_type_raise].decimals;et.min_price=this.priceFixToReal(Number(d$2(et.softcap).div(d$2(et.total_supply))),at,mt).toString(),et.max_price=this.priceFixToReal(Number(d$2(et.max_raise_amount).div(d$2(et.total_supply))),at,mt).toString(),et.current_price=this.priceFixToReal(Number(et.current_price),at,mt).toString(),et.sale_decimals=at,et.raise_decimals=mt}static async getWithdrawRaise(s){return s.pool_status==="Ended"?s.harvest_raise:"0"}static async getWithdrawSale(s){return s.pool_status==="Ended"?s.unused_sale:s.sale_coin_amount}static async getHistoryWithdrawRaise(s,et){if(et.pool_status==="Ended"){if(d$2(et.harvest_raise).equals(d$2(0))){let at=await s.Launchpad.getSettleEvent(et.pool_address);at&&(et.harvest_raise=at.unused_raise)}let nt=bnExports.min(new BN(et.total_purchase_amount),new BN(et.max_raise_amount));return d$2(nt.toString()).mul(1-et.liquidity_injection_ratio).toString()}return"0"}static async getHistoryWithdrawSale(s,et){if(et.pool_status==="Ended"){let nt=await s.Launchpad.getSettleEvent(et.pool_address);return nt&&(et.unused_sale=nt.unused_sale),et.unused_sale}return"0"}static async getOverrecruitReverseAmount(s,et){let nt=await s.Launchpad.getPurchaseMarks(s.ClmmSDK.senderAddress,[et.pool_address],!1);if(nt.length>0){let at=nt[0].purchased_raise_amount,mt=(await s.Launchpad.getPurchaseAmount(et.white_summary.white_handle,s.ClmmSDK.senderAddress)).safe_purchased_amount,{protection_limit_used:wt}=et.white_summary;return d$2(at).sub(mt).div(d$2(et.total_purchase_amount).sub(wt)).mul(d$2(et.total_purchase_amount).sub(et.max_raise_amount)).toString()}return"0"}static async getCanPurchaseAmount(s,et){let nt=await S$2.getOverrecruitReverseAmount(s,et),at=await s.Launchpad.getPurchaseMarks(s.ClmmSDK.senderAddress,[et.pool_address],!1);if(at){let mt=at[0].purchased_raise_amount;d$2(mt).sub(nt).div(et.current_price)}return"0"}},_t$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s=[],et=0,nt=100,at=!1){var jt;let{package_id:mt}=this._sdk.sdkOptions.launchpad;if(mt===void 0)throw Error("sdk.sdkOptions.launchpad is undefined");let wt=`${mt}_getPoolImmutables`,$t=this.getCache(wt,at),Ct=[],Dt=[];if($t!==void 0&&Ct.push(...$t),Ct.length===0)try{((jt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${mt}::factory::CreatePoolEvent`}))==null?void 0:jt.data).forEach(Ut=>{let tr=Ut.parsedJson;tr&&Ct.push({pool_address:tr.pool_id,coin_type_sale:extractStructTagFromType$1(tr.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(tr.raise_coin.name).full_address})}),this.updateCache(wt,Ct,cacheTime24h)}catch(Ut){console.log("getPoolImmutables",Ut)}let Ft=s.length>0;for(let Ut=0;Ut<Ct.length;Ut+=1){let tr=Ct[Ut];if(!(Ft&&!s.includes(tr.pool_address))){if(!Ft){let ir=Ut;if(ir<et||ir>=et+nt)continue}Dt.push(tr)}}return Dt}async getPoolImmutablesWithPage(s="all",et=!1){let{package_id:nt}=this._sdk.sdkOptions.launchpad,at=`${nt}_getPoolImmutables`,mt=[],wt={data:[],hasNextPage:!1},$t=s==="all";if($t){let Ct=this.getCache(at,et);Ct&&mt.push(...Ct)}if(mt.length===0)try{let Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt}::factory::CreatePoolEvent`},s);wt.hasNextPage=Ct.hasNextPage,wt.nextCursor=Ct.nextCursor,Ct.data.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&mt.push({pool_address:Ft.pool_id,coin_type_sale:extractStructTagFromType$1(Ft.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(Ft.raise_coin.name).full_address})})}catch(Ct){console.log("getPoolImmutables",Ct)}return wt.data=mt,$t&&this.updateCache(at,mt,cacheTime24h),wt}async getPools(s=[],et=0,nt=100){let at=[],mt=[];s.length>0?mt=[...s]:(await this.getPoolImmutables([],et,nt,!1)).forEach($t=>{mt.push($t.pool_address)});let wt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt,{showType:!0,showContent:!0});for(let $t of wt){let Ct=S$2.buildLaunchPadPool($t);await S$2.calculatePoolPrice(this._sdk,Ct),at.push(Ct);let Dt=`${Ct.pool_address}_getPoolObject`;this.updateCache(Dt,Ct,cacheTime24h)}return at}async getPool(s,et=!0){let nt=`${s}_getPoolObject`,at=this.getCache(nt,et);if(at!==void 0){let $t=at;return S$2.updatePoolStatus($t),$t}let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),wt=S$2.buildLaunchPadPool(mt);return await S$2.calculatePoolPrice(this._sdk,wt),this.updateCache(nt,wt),wt}async getInitConfig(s=!1){var Dt;let et=this._sdk.sdkOptions.launchpad.package_id,nt=`${et}_getInitEvent`,at=this.getCache(nt,s);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),wt=getObjectPreviousTransactionDigest(mt),$t=(Dt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:wt}))==null?void 0:Dt.data,Ct={pools_id:"",admin_cap_id:"",config_cap_id:""};return $t.length>0&&($t.forEach(Ft=>{let jt=Ft.parsedJson;if(jt)switch(extractStructTagFromType$1(Ft.type).full_address){case`${et}::config::InitConfigEvent`:Ct.admin_cap_id=jt.admin_cap_id,Ct.config_cap_id=jt.config_cap_id;break;case`${et}::factory::InitFactoryEvent`:Ct.pools_id=jt.pools_id;break}}),this.updateCache(nt,Ct,cacheTime24h)),Ct}async getLockNFT(s,et=!1){let nt=`${s}_getLockNFT`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!mt.error)return buildPosition(mt)}async getLockNFTList(s){var mt;let{package_id:et}=this._sdk.ClmmSDK.sdkOptions.clmm_pool,{sdkOptions:nt}=this._sdk,at=[];try{let wt=(mt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt.launchpad.package_id}::lock::LockNFTEvent`}))==null?void 0:mt.data;for(let $t of wt){let Ct=$t.parsedJson;if(Ct){let Dt={locked_time:Number(Ct.locked_time),end_lock_time:Number(Ct.end_lock_time),nft_type:Ct.nft_type_name.name,lock_nft_id:Ct.lock_nft_id,recipient:Ct.recipient};if(s===Dt.recipient&&`${et}`===extractStructTagFromType$1(Dt.nft_type).address){let Ft=await this.getLockNFT(Dt.lock_nft_id);if(Ft){let jt=extractStructTagFromType$1(Ft.coin_type_a).full_address,Ut=extractStructTagFromType$1(Ft.coin_type_b).full_address;at.push({...Ft,coin_type_a:jt,coin_type_b:Ut,...Dt})}}}}return at}catch(wt){return console.log("getLockNFTList:",wt),[]}}async creatPoolTransactionPayload(s){let{launchpad:et}=this.sdk.sdkOptions,nt=getPackagerConfigs(et);if(this.assertLuanchpadConfig(),this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let at=S$2.priceRealToFix(Number(s.initialize_price),s.sale_decimals,s.raise_decimals),mt=new Transaction,wt=d$2(s.total_supply).add(d$2(s.total_supply).mul(d$2(s.liquidity_rate))).toNumber(),$t=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,mt,BigInt(wt),s.coin_type_sale),Ct=[mt.object(nt.admin_cap_id),mt.object(nt.config_cap_id),mt.object(nt.pools_id),mt.object(normalizeSuiAddress(s.recipient)),mt.pure.u128((at*lt$1).toString()),$t,mt.pure.u64(s.total_supply.toString()),mt.pure.u64(s.min_purchase.toString()),mt.pure.u64(s.max_purchase.toString()),mt.pure.u64(s.least_raise_amount.toString()),mt.pure.u64(s.hardcap.toString()),mt.pure.u64((s.liquidity_rate*1e3).toString()),mt.pure.u64(s.start_time.toString()),mt.pure.u64(s.activity_duration.toString()),mt.pure.u64(s.settle_duration.toString()),mt.pure.u64(s.locked_duration.toString()),mt.pure.u32(s.tick_spacing),mt.object(CLOCK_ADDRESS$1)],Dt=[s.coin_type_sale,s.coin_type_raise];return mt.moveCall({target:`${et.published_at}::${K}::create_launch_pool`,typeArguments:Dt,arguments:Ct}),mt}async creatPurchasePayload(s){let{launchpad:et}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let nt=new Transaction,at=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,nt,BigInt(s.purchase_amount),s.coin_type_raise),mt=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[s.pool_address],!1))[0],wt=[s.coin_type_sale,s.coin_type_raise],$t;return mt?$t=[nt.object(s.pool_address),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(mt.id),at,nt.pure.u64(s.purchase_amount.toString()),nt.object(CLOCK_ADDRESS$1)]:$t=[nt.object(s.pool_address),nt.object(getPackagerConfigs(et).config_cap_id),at,nt.pure.u64(s.purchase_amount.toString()),nt.object(CLOCK_ADDRESS$1)],nt.moveCall({target:`${et.published_at}::${K}::${mt===void 0?"create_and_purchase":"purchase"}`,typeArguments:wt,arguments:$t}),nt}async creatClaimPayload(s){let{launchpad:et}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let nt=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[s.pool_address],!1))[0],at=new Transaction,mt=[s.coin_type_sale,s.coin_type_raise],wt=[at.object(s.pool_address),at.object(getPackagerConfigs(et).config_cap_id),at.object(nt==null?void 0:nt.id),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${K}::claim`,typeArguments:mt,arguments:wt}),at}async creatSettlePayload(s){let{launchpad:et}=this.sdk.sdkOptions,{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");this.assertLuanchpadConfig();let at=getPackagerConfigs(nt),{clmm_args:mt}=s,wt=new Transaction;wt.setSender(this.sdk.ClmmSDK.senderAddress);let $t=[s.coin_type_sale,s.coin_type_raise];if(mt){let Ct=mt.opposite?TickMath.priceToSqrtPriceX64(d$2(1).div(mt.current_price),mt.raise_decimals,mt.sale_decimals).toString():TickMath.priceToSqrtPriceX64(d$2(mt.current_price),mt.sale_decimals,mt.raise_decimals).toString(),Dt=BigInt(Ct)<BigInt(mt.clmm_sqrt_price),Ft=mt.opposite?Dt?s.coin_type_raise:s.coin_type_sale:Dt?s.coin_type_sale:s.coin_type_raise,jt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,Ft),Ut=CoinAssist.calculateTotalBalance(jt);CoinAssist.isSuiCoin(Ft)&&(Ut-=BigInt(2e8));let tr=TransactionUtil.buildCoinForAmount(wt,jt,Ut,Ft).targetCoin,ir=mt.opposite?Dt?"settle_with_reverse_clmm_only_with_a":"settle_with_reverse_clmm_only_with_b":Dt?"settle_only_with_a":"settle_only_with_b",sr=[wt.object(s.pool_address),wt.object(getPackagerConfigs(et).config_cap_id),wt.object(mt.clmm_pool_address),wt.object(at.global_config_id),wt.pure.u128(Ct),tr,wt.object(CLOCK_ADDRESS$1)];wt.moveCall({target:`${et.published_at}::${K}::${ir}`,typeArguments:$t,arguments:sr})}else wt.moveCall({target:`${et.published_at}::${K}::settle`,typeArguments:$t,arguments:[wt.object(s.pool_address),wt.object(getPackagerConfigs(et).config_cap_id),wt.object(CLOCK_ADDRESS$1)]});return wt}creatWithdrawPayload(s){let{launchpad:et}=this.sdk.sdkOptions,nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],mt=[nt.object(s.pool_address),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(CLOCK_ADDRESS$1)];return s.sale_amount>BigInt(0)&&nt.moveCall({target:`${et.published_at}::${K}::withdraw_sale`,typeArguments:at,arguments:mt}),s.raise_amount>BigInt(0)&&nt.moveCall({target:`${et.published_at}::${K}::withdraw_raise`,typeArguments:at,arguments:mt}),nt}addUserToWhitelisPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.user_addrs.forEach(mt=>{let wt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(s.pool_address),nt.object(mt),nt.pure.u64(s.safe_limit_amount),nt.object(CLOCK_ADDRESS$1)];nt.moveCall({target:`${et.published_at}::${K}::add_user_to_whitelist`,typeArguments:at,arguments:wt})}),nt}updateWhitelistCapPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.safe_limit_amount>0&&nt.moveCall({target:`${et.published_at}::${K}::update_whitelist_member_safe_limit_amount`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(s.pool_address),nt.pure.address(s.white_list_member),nt.pure.u64(s.safe_limit_amount),nt.object(CLOCK_ADDRESS$1)]}),s.hard_cap_total>0&&nt.moveCall({target:`${et.published_at}::${K}::update_whitelist_hard_cap_total`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(s.pool_address),nt.pure.u64(s.hard_cap_total),nt.object(CLOCK_ADDRESS$1)]}),nt}creatRemoveWhitelistPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.user_addrs.forEach(mt=>{let wt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(s.pool_address),nt.object(mt),nt.object(CLOCK_ADDRESS$1)];nt.moveCall({target:`${et.published_at}::${K}::remove_user_from_whitelist`,typeArguments:at,arguments:wt})}),nt}creatCancelPoolPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(s.pool_address),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${K}::cancel`,typeArguments:at,arguments:mt}),nt}updateRecipientPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(s.pool_address),nt.object(s.new_recipient),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${K}::update_recipient_address`,typeArguments:at,arguments:mt}),nt}updatePoolDuractionPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(s.pool_address),nt.pure.u64(s.activity_duration),nt.pure.u64(s.settle_duration),nt.pure.u64(s.lock_duration),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${K}::update_pool_duration`,typeArguments:at,arguments:mt}),nt}creatUnlockNftPayload(s){let{launchpad:et}=this.sdk.sdkOptions;if(getPackagerConfigs(et)===void 0)throw Error("getPackagerConfigs(launchpad)  is null");let nt=new Transaction,at=[s.nft_type],mt=[nt.object(s.lock_nft),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::lock::unlock_nft`,typeArguments:at,arguments:mt}),nt}async isAdminCap(s){let{launchpad:et}=this._sdk.sdkOptions;if(getPackagerConfigs(et)===void 0)throw Error("launchpad config is empty");let nt=`${s}_isAdminCap`,at=this.getCache(nt);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(et).admin_cap_id,options:{showType:!0,showOwner:!0}}),wt=getObjectType(mt),$t=getObjectOwner(mt),Ct=!1;return $t&&wt&&extractStructTagFromType$1(wt).source_address===`${et.package_id}::config::AdminCap`&&(Ct=normalizeSuiAddress($t.AddressOwner)===normalizeSuiAddress(s)),this.updateCache(nt,Ct,cacheTime24h),Ct}async isWhiteListUser(s,et){let nt={type:"address",value:et};try{let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:nt});return!!(at&&at.data)}catch{return!1}}async getPurchaseAmount(s,et){var at;let nt={type:"address",value:et};try{let mt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:nt}),wt=getObjectFields(mt);if(wt)return(at=wt==null?void 0:wt.value)==null?void 0:at.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getPurchaseMarks(s,et=[],nt=!0){let{launchpad:at}=this._sdk.sdkOptions,mt=`${et}_getPurchaseMark`,wt=this.getCache(mt,nt);if(!nt&&wt!==void 0)return wt;let $t=null,Ct=[];for(;;){let Dt=await this._sdk.ClmmSDK.fullClient.getOwnedObjects({owner:s,options:{showType:!0,showContent:!0,showDisplay:!0},cursor:$t});for(let Ft of Dt.data){let{fields:jt}=Ft.data.content;if(extractStructTagFromType$1(getMoveObjectType(Ft)).source_address===`${at.package_id}::pool::PurchaseMark`){console.log("fields: ",jt);let Ut={id:jt.id.id,pool_id:extractStructTagFromType$1(jt.pool_id).address,purchased_raise_amount:jt.purchase_total,obtain_sale_amount:jt.obtain_sale_amount,used_raise_amount:jt.used_raise_amount};et.length>0?et.includes(Ut.pool_id)&&Ct.push(Ut):Ct.push(Ut)}}if(Dt.hasNextPage)$t=Dt.nextCursor;else break}return this.updateCache(mt,Ct,cacheTime24h),Ct}async getSettleEvent(s){let{launchpad:et}=this._sdk.sdkOptions,nt=`${s}_getPurchaseMark`,at=this.getCache(nt);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et.package_id}::pool::SettleEvent`});for(let wt of mt.data){let $t=wt.parsedJson;if(s===normalizeSuiObjectId($t.pool_id)){let Ct={pool_id:$t.pool_id,settle_price:$t.settle_price,unused_sale:$t.unused_sale,unused_raise:$t.unused_raise,white_purchase_total:$t.white_purchase_total};return this.updateCache(nt,Ct,cacheTime24h),Ct}}}buildLaunchpadCoinType(s,et){return composeType$1(this._sdk.sdkOptions.launchpad.package_id,"pool","PoolLiquidityCoin",[s,et])}assertLuanchpadConfig(){let{launchpad:s}=this.sdk.sdkOptions;if(getPackagerConfigs(s)===void 0)throw Error("sdk getPackagerConfigs(launchpad) is null")}updateCache(s,et,nt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[s]}},ne$1=class{static buildPoolImmutables(s){let{fields:et}=s.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(et.clmm_pool_id).address,bonus_type:extractStructTagFromType$1(et.bonus_type.fields.name).source_address,pool_id:extractStructTagFromType$1(et.pool_id).address,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).source_address}}static buildPoolState(s){let et=getObjectFields(s),nt=[];return et.config.fields.contents.forEach(at=>{nt.push({rate:Number(d$2(at.fields.key).div(pe)),multiplier:Number(d$2(at.fields.value).div(pe))})}),{balance:et.balance,config:nt,is_open:et.is_open,index:Number(et.index),start_time:Number(et.start_time),interval_day:Number(et.interval_day),minimum_percent_to_reward:Number(d$2(et.minimum_percent_to_reward).div(pe)),rewarders:{rewarder_handle:et.rewarders.fields.id.id,size:Number(et.rewarders.fields.size)},whale_nfts:{whale_nfts_handle:et.whale_nfts.fields.id.id,size:Number(et.whale_nfts.fields.size)},points:{point_handle:et.points.fields.id.id,size:Number(et.points.fields.size)}}}static buildMarkerPositions(s){let{contents:et}=s.value.fields.value.fields,nt=[],at=s.id.id;return et.forEach(mt=>{let{key:wt,value:$t}=mt.fields,Ct={id:wt,period_id:at,bonus_num:$t.fields.bonus_num,point:$t.fields.point,is_burn:$t.fields.is_burn,point_after_multiplier:$t.fields.point_after_multiplier,percent:Number(d$2($t.fields.percent).div(pe)),fee_share_rate:0,is_redeemed:$t.fields.is_redeemed};nt.push(Ct)}),nt}static buildPoolBonusInfo(s){let{fields:et,type:nt}=s.value.fields.value;return{type:nt,time:Number(et.time),settle_time:Number(et.settle_time),settled_num:et.settled_num,is_settled:et.is_settled,basis_bonus:et.basis_bonus,total_bonus:et.total_bonus,is_vacant:et.is_vacant,redeemed_num:et.redeemed_num}}static getBonusPercent(s,et){let nt=0;for(let at of s)et>=at.rate&&at.rate>nt&&(nt=at.multiplier);return nt}},Ht$1="router",gt$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s=!1){var wt;let{maker_bonus:et}=this._sdk.sdkOptions,nt=`${et.package_id}_getPoolImmutables`,at=this.getCache(nt,s),mt=[];if(at!==void 0)mt.push(...at);else{let $t=[];(wt=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(et).maker_pool_handle)).data)==null||wt.forEach(Dt=>{$t.push(Dt.objectId)});let Ct=await this._sdk.ClmmSDK.fullClient.batchGetObjects($t,{showContent:!0});for(let Dt of Ct){let Ft=getObjectFields(Dt);Ft&&mt.push(ne$1.buildPoolImmutables(Ft))}}return mt}async getPoolImmutable(s){let{maker_bonus:et}=this._sdk.sdkOptions,nt=`${et.package_id}_getPoolImmutables`,at=this.getCache(nt);if(at!==void 0){let $t=at.filter(Ct=>s===Ct.pool_id);if($t.length>0)return $t[0]}let mt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(et).maker_pool_handle,name:{type:"0x2::object::ID",value:s}}),wt=getObjectFields(mt);return ne$1.buildPoolImmutables(wt)}async getPools(){let s=[],et=await this.getPoolImmutables(),nt=et.map(wt=>wt.pool_id),at=await this._sdk.ClmmSDK.fullClient.batchGetObjects(nt,{showType:!0,showContent:!0}),mt=0;for(let wt of at){let $t=ne$1.buildPoolState(wt);if($t){let Ct={...et[mt],...$t};s.push(Ct);let Dt=`${Ct.pool_id}_getPoolObject`;this.updateCache(Dt,Ct,cacheTime24h)}mt+=1}return s}async getPool(s,et=!0){let nt=`${s}_getPoolObject`,at=this.getCache(nt,et),mt=await this.getPoolImmutable(s);if(at!==void 0)return at;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),$t=ne$1.buildPoolState(wt),Ct={...mt,...$t};return this.updateCache(nt,Ct,cacheTime24h),Ct}async getPoolHandleId(s){let et=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),nt=getObjectFields(et);return nt?nt.list.fields.id.id:""}async getMakerPoolPeriods(s,et=!1){let nt=[],at=`${s.pool_id}_getMakerPoolPeriods`,mt=this.getCache(at,et);return mt!==void 0?mt:((await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(s.whale_nfts.whale_nfts_handle)).data.forEach(wt=>{let $t={id:wt.objectId,start_time:0,end_time:0,period:Number(wt.name.value)};$t.start_time=Number(d$2(s.start_time).add(d$2(s.interval_day).mul(24*3600).mul($t.period)).toFixed(0,Decimal$1.ROUND_DOWN)),$t.end_time=Number(d$2($t.start_time).add(d$2(s.interval_day).mul(24*3600)).toFixed(0,Decimal$1.ROUND_DOWN)),nt.push($t)}),this.updateCache(at,nt,cacheTime24h),nt)}async getMakerBonusInitConfigs(){var at;let{package_id:s}=this.sdk.sdkOptions.maker_bonus,et=(at=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::config::InitEvent`}))==null?void 0:at.data,nt={maker_config_id:"",maker_pool_handle:""};return et.length>0&&et.forEach(mt=>{let wt=mt.parsedJson;wt&&(nt.maker_config_id=wt.config_id)}),nt.maker_pool_handle=await this.getPoolHandleId(nt.maker_config_id),nt}async getPoolMarkerPositionList(s,et,nt=!1){let at={},mt=[];nt||et.forEach(wt=>{let $t=`${s}_${wt.period}_getPoolMarkerPositionList`,Ct=this.getCache($t);Ct!==void 0?at[wt.period]=Ct:(at[wt.period]=[],mt.push(wt))});try{mt.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt.map($t=>$t.id),{showContent:!0})).forEach($t=>{let Ct=getObjectFields($t),Dt=ne$1.buildMarkerPositions(Ct);if(Dt.length>0){let{period_id:Ft}=Dt[0],jt=et.filter(Ut=>Ut.id===Ft)[0];at[jt.period]=Dt}});let wt=[];for(let $t in at)at[$t].forEach(Ct=>{wt.push(Ct)});if(wt.length>0){let $t=await this._sdk.ClmmSDK.Position.getSipmlePositionList(wt.map(Ct=>Ct.id));for(let Ct of wt)for(let Dt of $t)if(Ct.id===Dt.pos_object_id){Ct.clmm_position=Dt;break}}}catch(wt){console.log(wt)}for(let wt in at){let $t=`${s}_${wt}_getPoolMarkerPositionList`;this.updateCache($t,at[wt],cacheTime24h)}return at}async updateXCetusRewarderAndFee(s,et,nt){let at=await this.calculateTotalPointsAfterMultiper(s,nt);for(let mt of et)await this.calculateXCetusRewarder(s,mt,nt.period,at);return et}async calculateXCetusRewarder(s,et,nt,at){let mt=await this.getPoolBonusInfo(s.rewarders.rewarder_handle,nt),{fee_share_rate:wt}=this.calculateFeeShareRate(s,et,at),$t=d$2(wt).mul(mt.total_bonus);return et.is_redeemed?et.bonus_num="0":et.bonus_num=$t.toString(),et.bonus_num}calculateFeeShareRate(s,et,nt){let at=ne$1.getBonusPercent(s.config,et.percent),mt=d$2(et.point).mul(at),wt=d$2(mt).div(nt);return et.point_after_multiplier=mt.toString(),et.fee_share_rate=Number(wt),{fee_share_rate:Number(wt),points_after_multiper:mt.toString()}}async calculateTotalPointsAfterMultiper(s,et){let nt=await this.getPoolMarkerPositionList(s.whale_nfts.whale_nfts_handle,[et]),at=d$2(0),mt=nt[et.period];for(let wt of mt){let $t=ne$1.getBonusPercent(s.config,wt.percent),Ct=d$2(wt.point).mul($t);at=at.add(Ct)}return at.toString()}async calculateAllXCetusRewarder(s){let et=this._sdk.ClmmSDK.senderAddress,nt=d$2(0),at=[];for(let mt of s){let wt=await this._sdk.MakerModule.getMakerPoolPeriods(mt),$t=await this._sdk.MakerModule.getPoolMarkerPositionList(mt.whale_nfts.whale_nfts_handle,wt),Ct=[];for(let Dt of wt){let Ft=$t[Dt.period].filter(jt=>{var Ut;return et.length===0?!1:((Ut=jt.clmm_position)==null?void 0:Ut.owner)===et});Ft.length>0&&(await this._sdk.MakerModule.updateXCetusRewarderAndFee(mt,Ft,Dt),Ft.forEach(jt=>{var Ut;((Ut=jt.clmm_position)==null?void 0:Ut.position_status)===ClmmPositionStatus.Exists&&d$2(jt.bonus_num).greaterThan(0)&&(nt=nt.add(jt.bonus_num),Ct.includes(jt.clmm_position.pos_object_id)||Ct.push(jt.clmm_position.pos_object_id))}))}at.push({bonus_type:mt.bonus_type,pool_id:mt.pool_id,nft_ids:Ct})}return{claimtotal:nt,claimRecord:at}}async getPoolBonusInfo(s,et,nt=!1){let at=`${s}_${et}_getPoolBonusInfo`,mt=this.getCache(at,nt);if(mt!==void 0)return mt;let wt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"u64",value:et.toString()}}),$t=getObjectFields(wt),Ct=ne$1.buildPoolBonusInfo($t);return this.updateCache(at,Ct,cacheTime5min),Ct}claimPayload(s){let{maker_bonus:et,xcetus:nt}=this.sdk.sdkOptions,at=new Transaction;return at.moveCall({target:`${et.published_at}::${Ht$1}::claim`,typeArguments:[s.bonus_type],arguments:[at.object(getPackagerConfigs(et).maker_config_id),at.object(s.market_pool_id),at.object(s.position_nft_id),at.pure.u8(s.phase),at.object(getPackagerConfigs(nt).lock_manager_id),at.object(getPackagerConfigs(nt).xcetus_manager_id),at.object(s.ve_nft_id)]}),at}claimAllPayload(s){let{maker_bonus:et,xcetus:nt}=this.sdk.sdkOptions,at=new Transaction;return s.whale_nfts.forEach(mt=>{mt.nft_ids.forEach(wt=>{at.moveCall({target:`${et.published_at}::${Ht$1}::claim_all`,typeArguments:[mt.bonus_type],arguments:[at.object(getPackagerConfigs(et).maker_config_id),at.object(mt.pool_id),at.object(wt),at.object(getPackagerConfigs(nt).lock_manager_id),at.object(getPackagerConfigs(nt).xcetus_manager_id),at.object(s.ve_nft_id)]})})}),at}updateCache(s,et,nt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[s]}},ve$1="router",tt="router",Se=24*3600,Re=1e3,U=1e11,z$1={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},W=class{static buildVeNFTDividendInfo(a){let s={id:a.id.id,ve_nft_id:a.name,rewards:[]};return a.value.fields.value.fields.dividends.fields.contents.forEach(et=>{let nt=[];et.fields.value.fields.contents.forEach(at=>{nt.push({coin_type:extractStructTagFromType$1(at.fields.key.fields.name).source_address,amount:at.fields.value})}),s.rewards.push({period:Number(et.fields.key),rewards:nt,vesrion:"v1"})}),s}static buildDividendManager(a){let s={id:a.id.id,dividends:{id:a.dividends.fields.id.id,size:a.dividends.fields.size},venft_dividends:{id:a.venft_dividends.fields.id.id,size:a.venft_dividends.fields.size},bonus_types:[],start_time:Number(a.start_time),interval_day:Number(a.interval_day),balances:{id:a.balances.fields.id.id,size:a.balances.fields.size},is_open:a.is_open};return a.bonus_types.forEach(et=>{s.bonus_types.push(extractStructTagFromType$1(et.fields.name).source_address)}),s}static buildLockUpManager(a){return{id:a.id.id,balance:a.balance,treasury_manager:a.treasury_manager,extra_treasury:a.extra_treasury,lock_infos:{lock_handle_id:a.lock_infos.fields.id.id,size:Number(a.lock_infos.fields.size)},type_name:normalizeCoinType$1(a.type_name.fields.name),min_lock_day:Number(a.min_lock_day),max_lock_day:Number(a.max_lock_day),package_version:Number(a.package_version),max_percent_numerator:Number(a.max_percent_numerator),min_percent_numerator:Number(a.min_percent_numerator)}}static buildLockCetus(a){let s=a.fields,et={id:s.id.id,type:extractStructTagFromType$1(a.type).source_address,locked_start_time:Number(s.locked_start_time),locked_until_time:Number(s.locked_until_time),cetus_amount:s.balance,xcetus_amount:"0",lock_day:0};return et.lock_day=(et.locked_until_time-et.locked_start_time)/Se,et}static getAvailableXCetus(a,s){let et=d$2(0);return s.forEach(nt=>{et=et.add(nt.xcetus_amount)}),d$2(a.xcetus_balance).sub(et).toString()}static getWaitUnLockCetuss(a){return a.filter(s=>!W.isLocked(s))}static getLockingCetuss(a){return a.filter(s=>W.isLocked(s))}static isLocked(a){return a.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(a,s){let et=new Set;return a==null||a.forEach(nt=>{nt.rewards.forEach(at=>{d$2(at.amount).gt(0)&&et.add(at.coin_type)})}),s==null||s.forEach(nt=>{nt.rewards.forEach(at=>{d$2(at.amount).gt(0)&&et.add(at.coin_type)})}),Array.from(et)}static buildDividendRewardTypeListV2(a){let s={};return a==null||a.forEach(et=>{et.vesrion==="v2"&&et.rewards.forEach(nt=>{s[nt.coin_type]||(s[nt.coin_type]=[]),s[nt.coin_type].push(et.period)})}),s}static getNextStartTime(a){let s=Date.now()/1e3,{start_time:et,interval_day:nt}=a,at=Math.ceil((s-et)/(nt*Se));return et+at*nt*Se}},yt$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getOwnerVeNFT(s,et=!0){let{xcetus:nt}=this.sdk.sdkOptions,at=`${s}_getLockUpManagerEvent`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let wt,$t=`${nt.package_id}::xcetus::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:$t}})).data.forEach(Ct=>{let Dt=extractStructTagFromType$1(getMoveObjectType(Ct)).source_address;if(Dt===$t&&Ct.data&&Ct.data.content){let{fields:Ft}=Ct.data.content;wt={...buildNFT(Ct),id:Ft.id.id,index:Ft.index,type:Dt,xcetus_balance:Ft.xcetus_balance},this.updateCache(at,wt,cacheTime24h)}}),wt}async getOwnerLockCetuss(s){let{xcetus:et}=this.sdk.sdkOptions,nt=[],at=`${et.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,mt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0},filter:{StructType:at}});for(let wt of mt.data)if(extractStructTagFromType$1(getMoveObjectType(wt)).source_address===at&&wt.data){let $t=W.buildLockCetus(wt.data.content);$t.xcetus_amount=await this.getXCetusAmount($t.id),nt.push($t)}return nt}async getLockCetus(s){var nt;let et=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});if((nt=et.data)!=null&&nt.content){let at=W.buildLockCetus(et.data.content);return at.xcetus_amount=await this.getXCetusAmount(at.id),at}}async getOwnerCetusCoins(s){return await this._sdk.ClmmSDK.getOwnerCoinAssets(s,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${ve$1}::mint_venft`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).xcetus_manager_id)]}),et}async convertPayload(s,et){let{xcetus:nt}=this.sdk.sdkOptions;et=et||new Transaction;let at=this.buileCetusCoinType(),mt=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,et,BigInt(s.amount),at);return s.venft_id===void 0?et.moveCall({target:`${nt.published_at}::${ve$1}::mint_and_convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xcetus_manager_id),mt,et.pure.u64(s.amount)]}):et.moveCall({target:`${nt.published_at}::${ve$1}::convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xcetus_manager_id),mt,et.pure.u64(s.amount),et.object(s.venft_id)]}),et}redeemLockPayload(s){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${ve$1}::redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(s.venft_id),nt.pure.u64(s.amount),nt.pure.u64(s.lock_day),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemPayload(s){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${ve$1}::redeem`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(s.venft_id),nt.object(s.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemDividendPayload(s,et){let{xcetus:nt,xcetus_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.forEach(wt=>{mt.moveCall({target:`${nt.published_at}::${tt}::redeem`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(s)]})}),mt}redeemDividendV2Payload(s,et,nt){let{xcetus_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.filter(wt=>nt.includes(wt)).length>0&&(mt=this.redeemDividendXTokenPayload(s,mt)),et.forEach(wt=>{nt.includes(wt)||mt.moveCall({target:`${at.published_at}::${tt}::redeem_v2`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(s),mt.object(CLOCK_ADDRESS$1)]})}),mt}redeemDividendV3Payload(s,et){let{xcetus_dividends:nt}=this.sdk.sdkOptions,at=new Transaction,mt=W.buildDividendRewardTypeList(et),wt=W.buildDividendRewardTypeListV2(et);return mt.forEach($t=>{at.moveCall({target:`${nt.published_at}::${tt}::redeem_v3`,typeArguments:[$t],arguments:[at.object(getPackagerConfigs(nt).dividend_manager_id),at.object(getPackagerConfigs(nt).venft_dividends_id),at.makeMoveVec({elements:wt[$t].map(Ct=>at.pure.u64(Ct)),type:"u64"}),at.object(s),at.object(CLOCK_ADDRESS$1)]})}),at}redeemDividendXTokenPayload(s,et){let{xcetus_dividends:nt,xcetus:at}=this.sdk.sdkOptions,{xcetus_manager_id:mt,lock_manager_id:wt}=getPackagerConfigs(at),{dividend_manager_id:$t}=getPackagerConfigs(nt);return et=et===void 0?new Transaction:et,et.moveCall({target:`${nt.published_at}::${tt}::redeem_xtoken`,typeArguments:[],arguments:[et.object(wt),et.object(mt),et.object($t),et.object(s),et.object(CLOCK_ADDRESS$1)]}),et}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(s=this._sdk.sdkOptions.xcetus.package_id,et="xcetus",nt="XCETUS"){return`${s}::${et}::${nt}`}cancelRedeemPayload(s){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${ve$1}::cancel_redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(s.venft_id),nt.object(s.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}async getInitConfigs(){var $t,Ct;let{package_id:s}=this.sdk.sdkOptions.xcetus,et=`${s}_getInitFactoryEvent`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=($t=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::xcetus::InitEvent`}))==null?void 0:$t.data,mt={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};at.length>0&&at.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.xcetus_manager_id=Ft.xcetus_manager)});let wt=(Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::locking::InitializeEvent`}))==null?void 0:Ct.data;return wt.length>0&&wt.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.lock_manager_id=Ft.lock_manager)}),mt.lock_manager_id.length>0&&(mt.lock_handle_id=(await this.getLockUpManager(mt.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(et,mt,cacheTime24h),mt}async getLockUpManager(s=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,et=!1){let nt=`${s}_getLockUpManager`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this.sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),wt=W.buildLockUpManager(getObjectFields(mt));return this.updateCache(nt,wt,cacheTime24h),wt}async getDividendConfigs(){var Ft,jt,Ut;let{package_id:s}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:et,venft_dividends_id:nt}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),at=`${s}_getDividendManagerEvent`,mt=this.getCache(at);if(mt!==void 0)return mt;let wt=(Ft=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::dividend::InitEvent`}))==null?void 0:Ft.data,$t=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),Ct={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};wt.length>0&&wt.forEach(tr=>{let ir=tr.parsedJson;ir&&(Ct.dividend_manager_id=ir.manager_id,Ct.dividend_admin_id=ir.admin_id,Ct.dividend_settle_id=ir.settle_id,this.updateCache(at,Ct,cacheTime24h))}),$t&&$t.data&&$t.data.content&&(Ct.venft_dividends_id=(Ut=(jt=$t.data.content)==null?void 0:jt.fields)==null?void 0:Ut.value,this.updateCache(at,Ct,cacheTime24h));let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:nt,options:{showContent:!0}});return Ct.venft_dividends_id_v2=Dt.data.content.fields.venft_dividends.fields.id.id,Ct}async getDividendManager(s=!1){let{dividend_manager_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),nt=`${et}_getDividendManager`,at=this.getCache(nt,s);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t=W.buildDividendManager(wt);return this.updateCache(nt,$t,cacheTime24h),$t}async getXcetusManager(s=!0){let{xcetus_manager_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),nt=`${et}_getXcetusManager`,at=this.getCache(nt,s);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t={id:wt.id.id,index:Number(wt.index),has_venft:{handle:wt.has_venft.fields.id.id,size:wt.has_venft.fields.size},nfts:{handle:wt.nfts.fields.id.id,size:wt.nfts.fields.size},total_locked:wt.total_locked,treasury:wt.treasury.fields.total_supply.fields.value};return this.updateCache(nt,$t),$t}async getVeNFTDividendInfoV2(s){let{xcetus_dividends:et}=this._sdk.sdkOptions,{dividend_manager_id:nt,venft_dividends_id:at}=getPackagerConfigs(et),mt=new Transaction;mt.moveCall({target:`${et.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[mt.object(nt),mt.object(at),mt.object(s)]});let wt=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:this._sdk.ClmmSDK.senderAddress}),{contents:$t}=wt.events[0].parsedJson.info,Ct={id:"",ve_nft_id:s,rewards:[]};return $t.forEach(Dt=>{let Ft=[],jt=Dt.key,{contents:Ut}=Dt.value;Ut.forEach(tr=>{Ft.push({coin_type:extractStructTagFromType$1(tr.key.name).source_address,amount:tr.value})}),Ct.rewards.push({period:Number(jt),rewards:Ft,vesrion:Number(jt)>66?"v2":"v1"})}),Ct}async getVeNFTDividendInfo(s,et,nt){let at,mt={id:"",ve_nft_id:nt,rewards:[]};try{at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:nt}});let $t=getObjectFields(at);mt=W.buildVeNFTDividendInfo($t)}catch{at=void 0}let wt=[];try{let $t=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:nt}}),Ct=getObjectFields($t).value.fields.value.fields.dividends.fields.id.id,Dt=null,Ft=50,jt=[];for(;;){let Ut=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:Ct,cursor:Dt,limit:Ft});if(Ut.data.forEach(tr=>{jt.push(tr.objectId)}),Dt=Ut.nextCursor,Dt===null||Ut.data.length<Ft)break}(await this._sdk.ClmmSDK.fullClient.batchGetObjects(jt,{showType:!0,showContent:!0})).forEach(Ut=>{wt.push({period:Number(Ut.data.content.fields.name),vesrion:"v2",rewards:Ut.data.content.fields.value.fields.contents.map(tr=>({coin_type:extractStructTagFromType$1(tr.fields.key.fields.name).source_address,amount:tr.fields.value}))})})}catch($t){console.log("error:",$t)}return{...mt,rewards:[...mt.rewards,...wt]}}redeemNum(s,et){if(BigInt(s)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=d$2(U).mul(d$2(z$1.max_lock_day).sub(d$2(et))).mul(d$2(z$1.max_percent_numerator).sub(d$2(z$1.min_percent_numerator))).div(d$2(z$1.max_lock_day).sub(d$2(z$1.min_lock_day))),at=d$2(U).mul(d$2(z$1.max_percent_numerator)).sub(nt).div(d$2(Re)).div(U);return{amountOut:d$2(at).mul(d$2(s)).round().toString(),percent:at.toString()}}reverseRedeemNum(s,et){if(BigInt(s)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=d$2(U).mul(d$2(z$1.max_lock_day).sub(d$2(et))).mul(d$2(z$1.max_percent_numerator).sub(d$2(z$1.min_percent_numerator))).div(d$2(z$1.max_lock_day).sub(d$2(z$1.min_lock_day))),at=d$2(U).mul(d$2(z$1.max_percent_numerator)).sub(nt).div(d$2(Re)).div(U);return{amountOut:d$2(s).div(at).toFixed(0,Decimal$1.ROUND_UP),percent:at.toString()}}async getXCetusAmount(s){let{lock_handle_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),nt=`${s}_getXCetusAmount`,at=this.getCache(nt);if(at!==void 0)return at;try{let mt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:s}}),wt=getObjectFields(mt);if(wt){let{xcetus_amount:$t}=wt.value.fields.value.fields;return this.updateCache(nt,$t,cacheTime24h),$t}}catch{}return"0"}async getVeNftAmount(s,et){try{let nt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(nt);if(at){let{lock_amount:mt,xcetus_amount:wt}=at.value.fields.value.fields;return{lock_amount:mt,xcetus_amount:wt}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(s,et=!1){let nt=(await this.getDividendManager()).dividends.id,at=`${nt}_${s}_getPhaseDividendInfo`,mt=this._sdk.getCache(at,et);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"u64",value:s}}),$t=getObjectFields(wt),Ct=$t.value.fields.value.fields,Dt=Ct.redeemed_num.fields.contents.map(tr=>({name:tr.fields.key.fields.name,value:tr.fields.value})),Ft=Ct.bonus_types.map(tr=>tr.fields.name),jt=Ct.bonus.fields.contents.map(tr=>({name:tr.fields.key.fields.name,value:tr.fields.value})),Ut={id:getObjectId(wt),phase:$t.name,settled_num:Ct.settled_num,register_time:Ct.register_time,redeemed_num:Dt,is_settled:Ct.is_settled,bonus_types:Ft,bonus:jt,phase_end_time:""};return this.updateCache(at,Ut),Ut}catch{}}updateCache(s,et,nt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[s]}},ji="factory",H$1="oversubscribe_pool",bt=1e6,ye$1=1e18,Oi=(a=>(a.Upcoming="Upcoming",a.Live="Live",a.Ended="Ended",a.Failed="Failed",a.Canceled="Canceled",a))(Oi||{}),je="router",kt$1="router",it$1="router",Ai=(a=>(a.BOTH="both",a.LEFT="left",a.Right="right",a))(Ai||{}),Di=(a=>(a[a.CURVE=3]="CURVE",a[a.BID_ASK=4]="BID_ASK",a))(Di||{}),Gt$1={curve:{strategy:3,both_side:{div_width:10,ratios:[.333333,.266666,.2,.133333,.066666]},one_side:{div_width:5,ratios:[.333333,.266666,.2,.133333,.066666]}},bidAsk:{strategy:4,both_side:{div_width:10,ratios:[.172413793,.137931034,.103448276,.068965517,.034482759,.068965517,.103448276,.137931034,.172413793]},one_side:{div_width:5,ratios:[.066666667,.13333333,.2,.266666667,.333333333]}}};function xi(a){return"master_address"in a}var Li="router",Fi="vaults",Mi=1e4,Ri=(a=>(a.STATUS_RUNNING="STATUS_RUNNING",a.STATUS_REBALANCING="STATUS_REBALANCING",a))(Ri||{}),qi=(a=>(a.Haedal="Haedal",a.Volo="Volo",a.Aftermath="aftermath",a))(qi||{}),Ni=(a=>(a.Running="Running",a.PartialCompleted="PartialCompleted",a.Completed="Completed",a.Cancelled="Cancelled",a))(Ni||{}),O$1=class{static buildIdoPoolImmutables(s){return{pool_address:normalizeSuiObjectId(s.pool_id),coin_type_sale:extractStructTagFromType$1(s.sale_coin_type.name).full_address,coin_type_raise:extractStructTagFromType$1(s.raise_coin_type.name).full_address,tick_spacing:Number(s.tick_spacing),total_supply:s.total_supply,min_purchase:s.min_purchase_amount,max_purchase:s.max_purchase_amount}}static buildIdoPool(s){let et=getMoveObjectType(s),nt=extractStructTagFromType$1(et),at=getObjectFields(s),mt={pool_address:normalizeSuiObjectId(at.id.id),coin_type_sale:nt.type_arguments[0],coin_type_raise:nt.type_arguments[1],tick_spacing:Number(at.tick_spacing),total_supply:at.total_supply,min_purchase:at.min_purchase_amount,max_purchase:at.max_purchase_amount},wt={start_time:Number(at.duration_manager.fields.start_time),lock_up_duration:Number(at.duration_manager.fields.lock_up_duration),purchase_duration:Number(at.duration_manager.fields.purchase_duration),end_time:0};wt.end_time=wt.start_time+wt.purchase_duration;let $t={complete_raise_limit:at.complete_raise_limit,liquidity_injection_ratio:d$2(at.liquidity_injection_ratio).div(bt).toNumber(),current_sqrt_price_min:at.current_sqrt_price_min,current_sqrt_price_max:at.current_sqrt_price_max,owner:at.owner,sale_coin_amount:at.sale_coin,raise_coin_amount:at.raise_coin,price:at.price,current_price:at.price,duration_summary:wt,is_cancelled:at.is_cancelled,is_liquidity_injected:at.is_liquidity_injected,liquidity_used_raise_amount:at.liquidity_used_raise_amount,liquidity_used_sale_amount:at.liquidity_used_sale_amount,purchase_summary:{size:Number(at.purchase_manager.fields.purchases.fields.size),purchase_handle:at.purchase_manager.fields.purchases.fields.id.id},total_purchase_amount:at.total_purchase_amount,white_summary:{white_list_id:at.white_list.fields.id.id,protection_limit_used:at.white_list.fields.protection_limit_used,protection_hard_cap:at.white_list.fields.protection_hard_cap,white_handle:at.white_list.fields.addresses.fields.id.id,size:Number(at.white_list.fields.addresses.fields.size)},pool_status:"Upcoming",max_raise_amount:"",sale_decimals:0,raise_decimals:0,is_withdrawn:at.is_withdrawn};return O$1.updatePoolStatus($t),{...mt,...$t}}static is_init_period(s){return Number(d$2(Date.now()/1e3).toFixed(0))<s.start_time}static is_purchase_period(s){let et=Number(d$2(Date.now()/1e3).toFixed(0));return et>=s.start_time&&et<=s.start_time+s.purchase_duration}static is_claim_period(s){let et=Number(d$2(Date.now()/1e3).toFixed(0)),nt=s.start_time+s.purchase_duration;return et>nt}static is_can_inject_liquidity(s){return!s.is_cancelled&&s.liquidity_injection_ratio!==0&&O$1.is_claim_period(s.duration_summary)&&!s.is_liquidity_injected}static is_can_withdraw(s){return s.is_withdrawn?!1:O$1.is_sale_failed(s)?!0:(s.liquidity_injection_ratio===0||s.is_liquidity_injected)&&O$1.is_claim_period(s.duration_summary)}static is_sale_failed(s){return!!(s.is_cancelled||O$1.is_claim_period(s.duration_summary)&&d$2(s.total_purchase_amount).lessThan(s.complete_raise_limit))}static buildPurchaseInfo(s){return{...s.value.fields.value.fields,owner:s.name}}static calculateRedeemAmount(s,et){let nt,at;if(O$1.is_sale_failed(s))nt="0",at="0";else if(et.is_redeemed)nt=et.obtained_sale_amount,at=et.used_raise_amount;else if(d$2(s.total_purchase_amount).lessThanOrEqualTo(s.max_raise_amount))nt=d$2(et.purchased_raise_amount).mul(ye$1).div(s.price).toString(),at=et.purchased_raise_amount;else{let wt=O$1.redeemForSaleOversubcribeV2(s,et);nt=wt.user_obtained_sale_amount,at=wt.user_used_raise_amount_ceil}nt=Decimal$1.floor(nt);let mt=Decimal$1.floor(d$2(et.purchased_raise_amount).sub(at).toString());return{obtained_sale_amount:nt,refunded_raise_amount:mt}}static calculateWithdrawAmount(s){let et,nt,at=d$2(s.total_supply).mul(s.liquidity_injection_ratio);if(O$1.is_sale_failed(s))et="0",nt=d$2(at).add(s.total_supply);else{let{max_raise_amount:mt}=s;d$2(s.total_purchase_amount).greaterThanOrEqualTo(mt)?(et=d$2(mt).sub(s.liquidity_used_raise_amount).toString(),nt="0"):(et=d$2(s.total_purchase_amount).sub(s.liquidity_used_raise_amount),nt=d$2(s.total_supply).add(at).sub(s.liquidity_used_sale_amount).sub(O$1.get_sold_amount(s)))}return{obtained_raise_amount:Decimal$1.floor(et).toString(),refunded_sale_amount:Decimal$1.ceil(nt).toString()}}static get_sold_amount(s){return d$2(s.total_purchase_amount).greaterThanOrEqualTo(s.max_raise_amount)?s.total_supply:d$2(s.total_purchase_amount).mul(ye$1).div(s.price)}static redeemForSaleOversubcribe(s,et){let nt=et.protection_raise_amount,at=d$2(et.purchased_raise_amount).sub(nt),mt=s.max_raise_amount,{protection_limit_used:wt}=s.white_summary,$t=d$2(mt).sub(wt),Ct=d$2(s.total_purchase_amount).sub(wt),Dt=Decimal$1.ceil(at.mul($t).div(Ct).add(nt)),Ft=Decimal$1.floor(at.mul($t).div(Ct).add(nt));return{user_obtained_sale_amount:Decimal$1.floor(d$2(s.total_supply).mul(Ft).div(mt)),user_used_raise_amount_ceil:Dt}}static redeemForSaleOversubcribeV2(s,et){let nt=et.protection_raise_amount,at=d$2(et.purchased_raise_amount).sub(nt),mt=s.max_raise_amount,{protection_limit_used:wt}=s.white_summary,$t=d$2(mt).sub(wt),Ct=d$2(s.total_purchase_amount).sub(wt),Dt=d$2(nt).mul(Ct).add(d$2(at).mul($t)).mul(ye$1).div(d$2(Ct).mul(s.price)),Ft=Decimal$1.ceil(Dt.mul(s.price).div(ye$1));return{user_obtained_sale_amount:Dt,user_used_raise_amount_ceil:Ft}}static raiseTotalAmount(s){let et=d$2(s.sale_decimals-s.raise_decimals).abs().toNumber();return s.sale_decimals>s.raise_decimals?d$2(s.total_supply).mul(s.current_price).div(d$2(10).pow(d$2(et))).toString():d$2(s.total_supply).mul(s.current_price).mul(d$2(10).pow(d$2(et))).toString()}static updatePoolStatus(s){let et=Number(d$2(Date.now()/1e3).toFixed(0)),nt=s.duration_summary,at=nt.start_time+nt.purchase_duration;s.is_cancelled?s.pool_status="Canceled":et<nt.start_time?s.pool_status="Upcoming":et>nt.start_time&&et<at?s.pool_status="Live":d$2(s.total_purchase_amount).lessThan(s.complete_raise_limit)?s.pool_status="Failed":s.pool_status="Ended"}static async calculatePoolUiPrice(s,et){let nt=await s.ClmmSDK.CetusConfig.getTokenListByCoinTypes([et.coin_type_sale,et.coin_type_raise]),at=nt[et.coin_type_sale].decimals,mt=nt[et.coin_type_raise].decimals;et.current_price=S$2.priceFixToReal(Number(d$2(et.price).div(d$2(ye$1)).toString()),at,mt).toString(),et.sale_decimals=at,et.raise_decimals=mt,et.max_raise_amount=this.raiseTotalAmount(et)}},ln$1=(a=>(a.V1="1",a.V2="2",a))(ln$1||{}),re$1=class{static buildVeNFTDividendInfo(s){let et={id:s.id.id,ve_nft_id:s.name,rewards:[]};return s.value.fields.value.fields.dividends.fields.contents.forEach(nt=>{let at=[];nt.fields.value.fields.contents.forEach(mt=>{at.push({coin_type:extractStructTagFromType$1(mt.fields.key.fields.name).source_address,amount:mt.fields.value})}),et.rewards.push({period:Number(nt.fields.key),rewards:at})}),et}static buildDividendManager(s){let et={id:s.id.id,dividends:{id:s.dividends.fields.id.id,size:s.dividends.fields.size},venft_dividends:{id:s.venft_dividends.fields.id.id,size:s.venft_dividends.fields.size},bonus_types:[],start_time:Number(s.start_time),interval_day:Number(s.interval_day),balances:{id:s.balances.fields.id.id,size:s.balances.fields.size},is_open:s.is_open};return s.bonus_types.forEach(nt=>{et.bonus_types.push(extractStructTagFromType$1(nt.fields.name).source_address)}),et}static buildLockUpManager(s){return{id:s.id.id,balance:s.balance,treasury_manager:s.treasury_manager,extra_treasury:s.extra_treasury,lock_infos:{lock_handle_id:s.lock_infos.fields.id.id,size:Number(s.lock_infos.fields.size)},type_name:normalizeCoinType$1(s.type_name.fields.name),min_lock_day:Number(s.min_lock_day),max_lock_day:Number(s.max_lock_day),package_version:Number(s.package_version),max_percent_numerator:Number(s.max_percent_numerator),min_percent_numerator:Number(s.min_percent_numerator)}}static buildLockToken(s){let et=s.fields,nt={id:et.id.id,type:extractStructTagFromType$1(s.type).source_address,locked_start_time:Number(et.locked_start_time),locked_until_time:Number(et.locked_until_time),token_amount:et.balance,xtoken_amount:"0",lock_day:0};return nt.lock_day=(nt.locked_until_time-nt.locked_start_time)/Se,nt}static getAvailableXToken(s,et){let nt=d$2(0);return et.forEach(at=>{nt=nt.add(at.xtoken_amount)}),d$2(s.xtoken_balance).sub(nt).toString()}static getWaitUnLockTokens(s){return s.filter(et=>!re$1.isLocked(et))}static getLockingTokens(s){return s.filter(et=>re$1.isLocked(et))}static buildDividendRewardTypeList(s){let et=new Set;return s.forEach(nt=>{nt.rewards.forEach(at=>{et.add(at.coin_type)})}),Array.from(et)}static isLocked(s){return s.locked_until_time>Date.parse(new Date().toString())/1e3}static getNextStartTime(s,et=Se){let nt=Date.now()/1e3,{start_time:at,interval_day:mt}=s,wt=Math.ceil((nt-at)/(mt*et));return at+wt*mt*et}},J=class{static getDefaultStrategyConfig(a){let s;switch(a){case 4:s=Gt$1.bidAsk;break;default:s=Gt$1.curve;break}return s}static geTickIndexRange(a,s,et,nt){let at,mt;switch(a=TickMath.getInitializableTickIndex(a,s),nt){case"left":a>0?(mt=d$2(a).sub(s).toNumber(),at=d$2(a).mul(d$2(1).add(et)).toDecimalPlaces(0).toNumber()):(mt=d$2(a).sub(s).toNumber(),at=d$2(a).mul(d$2(1).sub(et)).toDecimalPlaces(0).toNumber());break;case"right":a>0?(mt=d$2(a).mul(d$2(1).add(et)).toDecimalPlaces(0).toNumber(),at=d$2(a).add(s).toNumber()):(mt=d$2(a).mul(d$2(1).sub(et)).toDecimalPlaces(0).toNumber(),at=d$2(a).add(s).toNumber());break;default:a>0?(at=d$2(a).mul(d$2(1).sub(et)).toDecimalPlaces(0).toNumber(),mt=d$2(a).mul(d$2(1).add(et)).toDecimalPlaces(0).toNumber()):(at=d$2(a).mul(d$2(1).add(et)).toDecimalPlaces(0).toNumber(),mt=d$2(a).mul(d$2(1).sub(et)).toDecimalPlaces(0).toNumber());break}if(at=TickMath.getInitializableTickIndex(at,s),mt=TickMath.getInitializableTickIndex(mt,s),at<MIN_TICK_INDEX)throw Error("Tick lower value is below the minimum allowed value.");if(mt>MAX_TICK_INDEX)throw Error("Tick upper value is above the maximum allowed value.");return{tick_lower:at,tick_upper:mt}}static getCreateLiquidityBins(a,s){let et=[];switch(s){case 4:et=J.getCreateBidAskLiquidityBins(a);break;default:et=J.getCreateCurveLiquidityBins(a);break}return et}static getCreateBidAskLiquidityBins(a){let s=d$2(Math.floor(d$2(a.tick_upper).sub(a.tick_lower).div(a.div_width).toNumber())).abs(),et=[],nt=a.ratios,at,mt;for(let wt=0;wt<nt.length;wt++){let $t,Ct;a.tick_upper<=a.curr_tick?(Ct=d$2(a.tick_upper).sub(s.mul(wt)).toNumber(),$t=d$2(Ct).sub(s).toNumber()):a.tick_lower>=a.curr_tick?($t=d$2(a.tick_lower).add(s.mul(wt)).toNumber(),Ct=d$2(a.tick_lower).add(s.mul(wt+1)).toNumber()):wt===4?($t=d$2(a.tick_lower).add(s.mul(wt)).toNumber(),Ct=d$2($t).add(s.mul(2)).toNumber()):wt>4?($t=d$2(a.tick_lower).add(s.mul(wt+1)).toNumber(),Ct=d$2($t).add(s).toNumber()):($t=d$2(a.tick_lower).add(s.mul(wt)).toNumber(),Ct=d$2($t).add(s).toNumber()),at=TickMath.getInitializableTickIndex($t,a.tick_spacing),mt=TickMath.getInitializableTickIndex(Ct,a.tick_spacing),et.push({tick_lower:at,tick_upper:mt,ratio:nt[wt],liquidity:"0"})}return et}static getCreateCurveLiquidityBins(a){let s=d$2(Math.floor(d$2(a.tick_upper).sub(a.tick_lower).div(a.div_width).toNumber())).abs(),et=[],nt=a.ratios;for(let at=0;at<nt.length;at++){let mt,wt;a.tick_upper<=a.curr_tick?(wt=a.tick_upper,mt=d$2(a.tick_upper).sub(s.mul(at+1)).toNumber()):a.tick_lower>=a.curr_tick?(mt=a.tick_lower,wt=d$2(mt).add(s.mul(at+1)).toNumber()):(mt=d$2(a.curr_tick).sub(s.mul(at+1)).toNumber(),wt=d$2(a.curr_tick).add(s.mul(at+1)).toNumber()),et.push({tick_lower:TickMath.getInitializableTickIndex(mt,a.tick_spacing),tick_upper:TickMath.getInitializableTickIndex(wt,a.tick_spacing),ratio:nt[at],liquidity:"0"})}return et}static calculateAddLiquidityInputs(a){let s=new BN(TickMath.tickIndexToSqrtPriceX64(a.curr_tick)),et=J.calculateCoinRatios(a.curr_tick,a.liquidity_bins),nt=a.liquidity_bins.map((at,mt)=>{let wt=et[mt],$t=d$2(a.coin_amount).mul(a.fix_amount_a?wt.coinRatioA:wt.coinRatioB).toFixed(0).toString();try{return{...ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(at.tick_lower,at.tick_upper,new BN($t),a.fix_amount_a,!0,a.slippage,s),...at}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!a.fix_amount_a,...at}}});return J.fixLiquidityInputs(s,a.slippage,nt,!0)}static fixLiquidityInputs(a,s,et,nt){let at=et.filter(wt=>wt.liquidityAmount.gt(ZERO$1));if(at.length===0)return[];let mt=at[0];return et.map(wt=>{if(wt.liquidityAmount.eq(ZERO$1)){let $t=d$2(mt.liquidityAmount.toString()).mul(wt.ratio).div(mt.ratio).toFixed(0),Ct=TickMath.tickIndexToSqrtPriceX64(wt.tick_lower),Dt=TickMath.tickIndexToSqrtPriceX64(wt.tick_upper),Ft=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN($t.toString()),a,Ct,Dt,!1);return{coinAmountA:Ft.coinA,coinAmountB:Ft.coinB,liquidityAmount:new BN($t.toString()),fix_amount_a:wt.fix_amount_a,...adjustForCoinSlippage(Ft,Percentage.fromDecimal(d$2(s).mul(100)),nt)}}return wt})}static calculateCoinRatios(a,s){let et=new BN(TickMath.tickIndexToSqrtPriceX64(a)),nt=[],at=d$2(0),mt=d$2(0),wt=s.map(Dt=>{let Ft=d$2(toDecimalsAmount(100,6).toString()).mul(Dt.ratio).toFixed(0).toString(),jt=TickMath.tickIndexToSqrtPriceX64(Dt.tick_lower),Ut=TickMath.tickIndexToSqrtPriceX64(Dt.tick_upper),tr=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Ft),et,jt,Ut,!0);return at=at.add(tr.coinA.toString()),mt=mt.add(tr.coinB.toString()),{...tr,liquidity:Ft}}),$t=[],Ct=[];return wt.forEach((Dt,Ft)=>{let jt={coinRatioA:at.eq(d$2(0))?0:d$2(Dt.coinA.toString()).div(at).toNumber(),coinRatioB:mt.eq(d$2(0))?0:d$2(Dt.coinB.toString()).div(mt).toNumber(),liquiditys:Dt.liquidity,tick_lower:s[Ft].tick_lower,tick_upper:s[Ft].tick_upper};nt.push(jt),$t.push(at.eq(d$2(0))?0:d$2(Dt.coinA.toString()).div(at).toNumber()),Ct.push(mt.eq(d$2(0))?0:d$2(Dt.coinB.toString()).div(mt).toNumber())}),nt}static calculateCloseMasterLiquidityInputs(a){let s=new BN(TickMath.tickIndexToSqrtPriceX64(a.curr_tick));return a.positions.map(et=>{let nt=new BN(et.liquidity),at=TickMath.tickIndexToSqrtPriceX64(et.tick_lower_index),mt=TickMath.tickIndexToSqrtPriceX64(et.tick_upper_index),wt=ClmmPoolUtil.getCoinAmountFromLiquidity(nt,s,at,mt,!1),$t=Percentage.fromDecimal(d$2(a.slippage).mul(100)),{tokenMaxA:Ct,tokenMaxB:Dt}=adjustForCoinSlippage(wt,$t,!1);return{coinAmountA:wt.coinA,coinAmountB:wt.coinB,tokenMaxA:Ct,tokenMaxB:Dt,liquidityAmount:nt,fix_amount_a:!1}})}static calculateRemoveMasterLiquidityInputs(a){let s=new BN(TickMath.tickIndexToSqrtPriceX64(a.curr_tick)),{fix_token:et}=a;if(et){let nt=a.positions.map((wt,$t)=>({tick_lower:wt.tick_lower_index,tick_upper:wt.tick_upper_index,ratio:a.ratios[$t]})),at=J.calculateCoinRatios(a.curr_tick,nt),mt=a.positions.map((wt,$t)=>{let Ct=at[$t],Dt=d$2(et.coin_amount).mul(et.fix_amount_a?Ct.coinRatioA:Ct.coinRatioB).toFixed(0).toString();try{let Ft=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(wt.tick_lower_index,wt.tick_upper_index,new BN(Dt),et.fix_amount_a,!1,a.slippage,s);return{...Ft,tick_lower:wt.tick_lower_index,tick_upper:wt.tick_upper_index,liquidity:Ft.liquidityAmount.toString(),ratio:a.ratios[$t]}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!et.fix_amount_a,tick_lower:wt.tick_lower_index,tick_upper:wt.tick_upper_index,liquidity:"0",ratio:a.ratios[$t]}}});return J.fixLiquidityInputs(s,a.slippage,mt,!1)}return a.positions.map((nt,at)=>{let mt=a.ratios[at],wt=d$2(a.liquidity).mul(mt).toFixed(0);d$2(wt).greaterThan(nt.liquidity)&&(wt=nt.liquidity);let $t=TickMath.tickIndexToSqrtPriceX64(nt.tick_lower_index),Ct=TickMath.tickIndexToSqrtPriceX64(nt.tick_upper_index),Dt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(wt),s,$t,Ct,!1),Ft=Percentage.fromDecimal(d$2(a.slippage).mul(100)),{tokenMaxA:jt,tokenMaxB:Ut}=adjustForCoinSlippage(Dt,Ft,!1);return{coinAmountA:Dt.coinA,coinAmountB:Dt.coinB,tokenMaxA:jt,tokenMaxB:Ut,liquidityAmount:new BN(wt),fix_amount_a:!1}})}static buildMasterPosition(a){return{coin_type_a:extractStructTagFromType$1(a.coin_type_a.fields.name).full_address,coin_type_b:extractStructTagFromType$1(a.coin_type_b.fields.name).full_address,description:a.description,id:a.id.id,index:a.index,liquidity:a.liquidity,name:a.name,pool:a.pool,tick_lower_index:asIntN(BigInt(a.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(a.tick_upper_index.fields.bits)),url:a.url}}static buildMasterNFT(a){let s=getObjectFields(a);if(s){let et={id:s.id.id,pool_id:s.pool_id,index:Number(s.index),strategy:Number(s.strategy),tick_lower_index:asIntN(BigInt(s.tick_lower_index)),tick_upper_index:asIntN(BigInt(s.tick_upper_index)),positions:[],...buildNFT(a)};return et.positions=s.positions.map(nt=>J.buildMasterPosition(nt.fields)),et}}},q$1=class{static generateNextTickRange(s,et,nt){let at=s-et/2,mt=s+et/2;return{new_tick_lower:q$1.getValidTickIndex(at,nt),new_tick_upper:q$1.getValidTickIndex(mt,nt)}}static calculateDepositRatio(s,et,nt){let at=TickMath.sqrtPriceX64ToTickIndex(nt);if(at<s)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if(at>et)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let mt=new BN(1e8),{coinAmountB:wt}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(s,et,mt,!0,!0,0,nt),$t=TickMath.sqrtPriceX64ToPrice(nt,0,0),Ct=d$2(mt.toString()).mul($t),Dt=Ct.add(wt.toString()),Ft=Ct.div(Dt),jt=d$2(wt.toString()).div(Dt);return{ratioA:Ft,ratioB:jt}}static getValidTickIndex(s,et){if(s%et===0)return s;let nt;if(s>0?nt=s-s%et+et:s<0?nt=s+Math.abs(s)%et-et:nt=s,nt%et!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(nt)<Math.abs(s))throw new Error("Assertion failed: res.abs() >= tickIndex");return nt}static get_lp_amount_by_liquidity(s,et){return s.total_supply==="0"?"0":d$2(s.total_supply).mul(et).div(s.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(s,et){return s.total_supply==="0"?"0":d$2(et).mul(s.liquidity).div(s.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(s,et){return d$2(et).mul(s.protocol_fee_rate).div(Mi).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(s){let et=s.clmm_postion.fields;return{id:s.id.id,url:et.url,pool_id:s.pool_id,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).full_address,description:et.description,name:et.name,liquidity:et.liquidity,clmm_position_id:et.id.id,clmm_pool_id:et.pool,tick_lower_index:asIntN(BigInt(et.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(et.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(s){let et=getObjectFields(s),nt=getObjectType(s),{positions:at}=et;if(et&&at.length>0){let mt=q$1.buildFramsPositionNFT(at[0].fields);return{id:et.id.id,pool_id:et.pool,protocol_fee_rate:et.protocol_fee_rate,is_pause:et.is_pause,harvest_assets:{harvest_assets_handle:et.harvest_assets.fields.id.id,size:Number(et.harvest_assets.fields.size)},lp_token_type:extractStructTagFromType$1(nt).type_arguments[0],total_supply:et.lp_token_treasury.fields.total_supply.fields.value,liquidity:et.liquidity,max_quota:et.max_quota,status:et.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:et.quota_based_type.fields.name,position:mt}}}static async getSuiCoin(s,et,nt){let at=await s.ClmmSDK.getOwnerCoinAssets(s.getVerifySenderAddress(),GAS_TYPE_ARG$1);nt=nt||new Transaction;let mt;if(et>95e10){let[wt,...$t]=at;$t.length>0&&nt.mergeCoins(nt.object(wt.coinObjectId),$t.map(Ct=>nt.object(Ct.coinObjectId))),mt=nt.splitCoins(nt.object(wt.coinObjectId),[et])}else mt=TransactionUtil.buildCoinForAmount(nt,at,BigInt(et),GAS_TYPE_ARG$1,!1,!0).targetCoin;return mt}},Ae$1=class{static calculatePositionShare(s,et,nt,at,mt,wt,$t){if(et<=mt||s>=wt)return"0";let Ct=0;s<mt?Ct=mt:Ct=s;let Dt=0;et<wt?Dt=et:Dt=wt;let Ft=TickMath.tickIndexToSqrtPriceX64(Ct),jt=TickMath.tickIndexToSqrtPriceX64(Dt),{coinA:Ut,coinB:tr}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(nt),new BN($t),Ft,jt,!0);return d$2(Ut.toString()).mul(at).div(1e12).add(tr.toString()).toString()}static buildFramsPool(s){let et=getObjectFields(s);if(et)try{let nt=[];return et.rewarders.forEach(at=>{nt.push({reward_coin:extractStructTagFromType$1(at.fields.name).full_address,last_reward_time:"",emission_per_second:"",total_allocate_point:"",allocate_point:""})}),{id:et.id.id,clmm_pool_id:et.clmm_pool_id,effective_tick_lower:asIntN(BigInt(et.effective_tick_lower.fields.bits)),effective_tick_upper:asIntN(BigInt(et.effective_tick_upper.fields.bits)),total_share:et.total_share,rewarders:nt,positions:{positions_handle:et.positions.fields.id.id,size:et.positions.fields.size},sqrt_price:et.sqrt_price}}catch(nt){console.log(nt)}}static buildFramsPositionNFT(s){let et=getObjectFields(s);if(et){let nt=et.clmm_postion.fields;return{id:et.id.id,url:nt.url,pool_id:et.pool_id,coinTypeA:extractStructTagFromType$1(nt.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(nt.coin_type_b.fields.name).full_address,description:nt.description,name:nt.name,liquidity:nt.liquidity,clmm_position_id:nt.id.id,clmm_pool_id:nt.pool,tick_lower_index:asIntN(BigInt(nt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(nt.tick_upper_index.fields.bits)),rewards:[]}}}},ke$1=class{static buildOrderLimitEvent(s,et){let{events:nt}=s,at=[];return nt&&nt.forEach(mt=>{let wt=extractStructTagFromType$1(mt.type).name;if(et.includes(wt)){let $t={digest:s.digest,type:wt,timestampMs:s.timestampMs,parsedJson:mt.parsedJson};at.push($t)}}),at}static buildLimitOrderInfo(s){let et=getObjectFields(s),nt=getObjectType(s);if(et&&nt)try{let at=extractStructTagFromType$1(nt),mt={pay_coin_type:at.type_arguments[0],target_coin_type:at.type_arguments[1],canceled_ts:et.canceled_ts==="18446744073709551615"?0:Number(et.canceled_ts),id:et.id.id,obtained_amount:et.obtained_amount,owner:et.owner,rate:et.rate,rate_order_indexer_id:et.rate_order_indexer_id,expire_ts:Number(et.expire_ts),total_pay_amount:et.total_pay_amount,pay_balance:et.pay_balance,target_balance:et.target_balance,claimed_amount:et.claimed_amount,status:"Running",created_ts:Number(et.created_ts)};return mt.canceled_ts===0?(mt.status="Running",d$2(mt.pay_balance).eq(0)?mt.status="Completed":d$2(mt.pay_balance).lessThan(mt.total_pay_amount)&&(mt.status="PartialCompleted")):mt.status="Cancelled",mt}catch(at){console.log(at)}}static rateToPrice(s,et,nt){let at=18+et-nt;return d$2(10**at).div(s).toString()}static priceToRate(s,et,nt){let at=18+et-nt;return d$2(10).pow(at).div(d$2(s)).toFixed(0).toString()}},Ee$1=class{static async getExchangeRateForStake(s,et,nt){let{vaults:at}=s.sdkOptions,{haedal:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the haedal config is undefined");let{simulationAccount:wt}=s.ClmmSDK.sdkOptions,{staking_id:$t}=getPackagerConfigs(mt);try{let Ct=new Transaction;et?await this.requestStake(s,nt||1e9,Ct):Ct.moveCall({target:`${mt.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[Ct.object($t)]});let Dt=await s.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:et?s.ClmmSDK.senderAddress:wt.address});if(et){let jt=Dt.events.find(ir=>ir.type.includes("UserStaked")),{sui_amount:Ut,st_amount:tr}=jt.parsedJson;return d$2(Ut).div(tr).toString()}let Ft=Dt.results[0].returnValues[0][0];return d$2(suiBcs.u64().parse(Uint8Array.from(Ft))).div(1e6).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(s,et,nt){var wt,$t;let{vaults:at}=s.sdkOptions;nt=nt||new Transaction;let mt=await q$1.getSuiCoin(s,et,nt);return nt.moveCall({target:`${($t=(wt=at.config)==null?void 0:wt.haedal)==null?void 0:$t.published_at}::interface::request_stake`,typeArguments:[],arguments:[nt.object(normalizeSuiObjectId("0x5")),nt.object(at.config.haedal.config.staking_id),mt,nt.pure.address(normalizeSuiObjectId("0x0"))]}),nt}static requestStakeCoin(s,et,nt){let{haedal:at}=s.sdkOptions.vaults.config;return et.moveCall({target:`${at.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[et.object(normalizeSuiObjectId("0x5")),et.object(at.config.staking_id),nt,et.pure.address(normalizeSuiObjectId("0x0"))]})}},$e$1=class{static async getExchangeRateForStake(s,et,nt){let{vaults:at}=s.sdkOptions,{volo:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the volo config is undefined");let{simulationAccount:wt}=s.ClmmSDK.sdkOptions,{native_pool:$t,vsui_metadata:Ct}=getPackagerConfigs(mt);try{let Dt=new Transaction;et?await this.requestStake(s,nt||1e9,Dt):Dt.moveCall({target:`${mt.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[Dt.object($t),Dt.object(Ct)]});let Ft=await s.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Dt,sender:et?s.ClmmSDK.senderAddress:wt.address});if(et){let tr=Ft.events.find(ur=>ur.type.includes("StakedEvent")),{cert_amount:ir,sui_amount:sr}=tr.parsedJson;return d$2(sr).div(ir).toString()}let jt=Ft.results[0].returnValues[0][0],Ut=d$2(suiBcs.u256().parse(Uint8Array.from(jt))).div("1000000000000000000").toNumber();return d$2(1).div(Ut).toString()}catch(Dt){console.log("getExchangeRateForHaedal",Dt)}return"0"}static async requestStake(s,et,nt){let{vaults:at}=s.sdkOptions,{volo:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the volo config is undefined");nt=nt||new Transaction;let{native_pool:wt,vsui_metadata:$t}=getPackagerConfigs(mt),Ct=await q$1.getSuiCoin(s,et,nt);return nt.moveCall({target:`${mt.published_at}::native_pool::stake`,typeArguments:[],arguments:[nt.object(wt),nt.object($t),nt.object(normalizeSuiObjectId("0x5")),Ct]}),nt}static requestStakeCoin(s,et,nt){let{vaults:at}=s.sdkOptions,{volo:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the volo config is undefined");et=et||new Transaction;let{native_pool:wt,vsui_metadata:$t}=getPackagerConfigs(mt);return et.moveCall({target:`${mt.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[et.object(wt),et.object($t),et.object(normalizeSuiObjectId("0x5")),nt]})}},Ue=class{static async getExchangeRateForStake(a,s,et){let{vaults:nt}=a.sdkOptions,{aftermath:at}=getPackagerConfigs(nt);if(at===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:mt}=a.ClmmSDK.sdkOptions,{staked_sui_vault:wt,safe:$t}=getPackagerConfigs(at);try{let Ct=new Transaction;s?await this.requestStake(a,et||1e9,Ct):Ct.moveCall({target:`${at.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[Ct.object(wt),Ct.object($t)]});let Dt=await a.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:s?a.ClmmSDK.senderAddress:mt.address});if(s){let jt=Dt.events.find(ir=>ir.type.includes("StakedEvent")),{afsui_amount:Ut,sui_amount:tr}=jt.parsedJson;return d$2(tr).div(Ut).toString()}let Ft=Dt.results[0].returnValues[0][0];return d$2(suiBcs.u128().parse(Uint8Array.from(Ft))).div(1e18).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(a,s,et){let{vaults:nt}=a.sdkOptions,{aftermath:at}=getPackagerConfigs(nt);if(at===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=getPackagerConfigs(at),Dt=await q$1.getSuiCoin(a,s,et);return et.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[et.object(mt),et.object($t),et.object(normalizeSuiObjectId("0x5")),et.object(wt),Dt,et.pure.address(normalizeSuiObjectId(Ct))]}),et}static requestStakeCoin(a,s,et){let{vaults:nt}=a.sdkOptions,{aftermath:at}=getPackagerConfigs(nt);if(at===void 0)throw Error("the aftermath config is undefined");s=s||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=getPackagerConfigs(at);return s.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[s.object(mt),s.object($t),s.object(normalizeSuiObjectId("0x5")),s.object(wt),et,s.pure.address(normalizeSuiObjectId(Ct))]})}},St$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s="all",et=!1){let{package_id:nt}=this._sdk.sdkOptions.ido,at=`${nt}_getPoolImmutables`,mt=this.getCache(at,et),wt={data:[],hasNextPage:!1},$t=[];if(mt!==void 0&&$t.push(...mt),$t.length===0)try{let Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt}::oversubscribe_pool::CreatePoolEvent`},s);Ct.data.forEach(Dt=>{let Ft=Dt.parsedJson;if(Ft){let jt=O$1.buildIdoPoolImmutables(Ft);$t.push(jt)}}),wt.hasNextPage=Ct.hasNextPage,wt.nextCursor=Ct.nextCursor,this.updateCache(at,$t,cacheTime24h)}catch(Ct){console.log("getPoolImmutables",Ct)}return wt.data=$t,wt}async getPools(s=[],et=!1){let nt=[],at=[];s.length>0?at=[...s]:(await this.getPoolImmutables("all",et)).data.forEach(wt=>{at.push(wt.pool_address)});let mt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(at,{showType:!0,showContent:!0});for(let wt of mt){let $t=O$1.buildIdoPool(wt);await O$1.calculatePoolUiPrice(this._sdk,$t),nt.push($t);let Ct=`${$t.pool_address}_getPoolObject`;this.updateCache(Ct,$t,cacheTime24h)}return nt}async getPool(s,et=!0){let nt=`${s}_getPoolObject`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),wt=O$1.buildIdoPool(mt);return await O$1.calculatePoolUiPrice(this._sdk,wt),this.updateCache(nt,wt),wt}async getIdoConfigs(s=!1){var Dt;let{package_id:et}=this._sdk.sdkOptions.ido,nt=`${et}_getInitEvent`,at=this.getCache(nt,s);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),wt=getObjectPreviousTransactionDigest(mt),$t=(Dt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:wt}))==null?void 0:Dt.data,Ct={pools_id:"",admin_cap_id:"",package_version_id:""};return $t.length>0&&($t.forEach(Ft=>{let jt=Ft.parsedJson;if(jt)switch(extractStructTagFromType$1(Ft.type).full_address){case`${et}::config::InitConfigEvent`:Ct.admin_cap_id=jt.admin_cap_id,Ct.package_version_id=jt.package_version_id;break;case`${et}::factory::InitFactoryEvent`:Ct.pools_id=jt.pools_id;break}}),this.updateCache(nt,Ct,cacheTime24h)),Ct}async getPurchaseInfo(s,et,nt=!0){let at=`${s}_${et}_getPurchaseInfo`,mt=this.getCache(at,nt);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"address",value:et}}),$t=O$1.buildPurchaseInfo(getObjectFields(wt));return this.updateCache(at,$t,cacheTime5min),$t}catch{return}}async getLockNFT(s,et=!1){let nt=`${s}_getLockNFT`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!mt.error)return buildPosition(mt)}async getLockNFTList(s){var mt;let{clmm_pool:et}=this._sdk.ClmmSDK.sdkOptions,{ido:nt}=this._sdk.sdkOptions,at=[];try{let wt=(mt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{filter:{StructType:`${nt.package_id}::lock::LockedNFT<${et.package_id}::position::Position>`},options:{showContent:!0}}))==null?void 0:mt.data;for(let $t of wt){let Ct=getObjectFields($t);if(Ct){let Dt=Ct.nft.fields,Ft={locked_at:Number(Ct.locked_at),lock_duration:Number(Ct.lock_duration),lock_nft_id:Ct.id.id,type:Ct.nft.type,...Dt};Ft.end_lock_time=Ft.locked_at+Ft.lock_duration,Ft.coin_type_a=extractStructTagFromType$1(Dt.coin_type_a.fields.name).full_address,Ft.coin_type_b=extractStructTagFromType$1(Dt.coin_type_b.fields.name).full_address,Ft.id=Dt.id.id,Ft.tick_lower_index=asIntN(BigInt(Dt.tick_lower_index.fields.bits)),Ft.tick_upper_index=asIntN(BigInt(Dt.tick_upper_index.fields.bits)),at.push(Ft)}}return at}catch(wt){return console.log("getLockNFTList:",wt),[]}}async creatPool(s){let{ido:et}=this.sdk.sdkOptions;isSortedSymbols(normalizeSuiAddress(s.coin_type_sale),normalizeSuiAddress(s.coin_type_raise))&&(s.price_min=d$2(1).div(s.price_max).toNumber(),s.price_max=d$2(1).div(s.price_min).toNumber());let nt=S$2.priceRealToFix(Number(s.price),s.sale_decimals,s.raise_decimals),at=TickMath.priceToSqrtPriceX64(d$2(s.price_min),s.sale_decimals,s.raise_decimals).toString(),mt=TickMath.priceToSqrtPriceX64(d$2(s.price_max),s.sale_decimals,s.raise_decimals).toString(),wt=new Transaction,$t=d$2(s.total_supply).add(d$2(s.total_supply).mul(d$2(s.liquidity_injection_ratio))).toNumber(),Ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,s.coin_type_sale),Dt=TransactionUtil.buildCoinForAmount(wt,Ct,BigInt($t),s.coin_type_sale,!1),Ft=[wt.object(getPackagerConfigs(et).admin_cap_id),wt.object(getPackagerConfigs(et).package_version_id),wt.object(getPackagerConfigs(et).pools_id),wt.object(normalizeSuiAddress(s.owner)),wt.pure.u128(d$2(nt).mul(ye$1).toString()),wt.pure.u64(s.total_supply),wt.pure.u64(s.complete_raise_limit),wt.pure.u64(s.min_purchase_amount),wt.pure.u64(s.max_purchase_amount),wt.pure.u64(s.start_time),wt.pure.u64(s.purchase_duration),wt.pure.u64(s.lock_up_duration),wt.pure.u64((s.liquidity_injection_ratio*bt).toString()),wt.pure.u128(at),wt.pure.u128(mt),wt.pure.u32(s.tick_spacing),Dt.targetCoin,wt.pure.u64(s.protection_hard_cap.toString()),wt.object(CLOCK_ADDRESS$1)],jt=[s.coin_type_sale,s.coin_type_raise];return wt.moveCall({target:`${et.published_at}::${ji}::create_oversubscribe_pool`,typeArguments:jt,arguments:Ft}),wt}async creatPurchasePayload(s){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=await this.getPurchaseInfo(s.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1),mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,s.coin_type_raise),wt=TransactionUtil.buildCoinForAmount(nt,mt,BigInt(s.raise_amount),s.coin_type_raise,!1),$t=[s.coin_type_sale,s.coin_type_raise],Ct,Dt;return at?(Dt="purchase",Ct=[nt.object(getPackagerConfigs(et).package_version_id),nt.object(s.pool_address),nt.object(at.purchase_certificate_id),nt.pure.u64(s.raise_amount.toString()),wt.targetCoin,nt.object(CLOCK_ADDRESS$1)]):(Dt="create_certificate_and_purchase",Ct=[nt.object(getPackagerConfigs(et).package_version_id),nt.object(s.pool_address),nt.pure.u64(s.raise_amount.toString()),wt.targetCoin,nt.object(CLOCK_ADDRESS$1)]),nt.moveCall({target:`${et.published_at}::${H$1}::${Dt}`,typeArguments:$t,arguments:Ct}),nt}async redeemPayload(s){let{ido:et}=this.sdk.sdkOptions,nt=await this.getPurchaseInfo(s.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1);if(nt===void 0)throw Error("get purchase certificate fail");let at=new Transaction,mt=[s.coin_type_sale,s.coin_type_raise],wt=[at.object(getPackagerConfigs(et).package_version_id),at.object(s.pool_address),at.object(nt.purchase_certificate_id),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${H$1}::redeem`,typeArguments:mt,arguments:wt}),at}injectLiquidityPayload(s){let{ido:et}=this.sdk.sdkOptions,{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,mt=[s.coin_type_sale,s.coin_type_raise],wt=s.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",$t=[at.object(getPackagerConfigs(et).package_version_id),at.object(s.pool_address),at.object(getPackagerConfigs(nt).global_config_id),at.object(s.clmm_pool_address),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${H$1}::${wt}`,typeArguments:mt,arguments:$t}),at}unPauseInjectLiquidity(s){let{ido:et}=this.sdk.sdkOptions,{integrate:nt,clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions,mt=new Transaction;mt.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::unpause_pool`,typeArguments:[s.coin_type_a,s.coin_type_b],arguments:[mt.object(getPackagerConfigs(at).global_config_id),mt.object(s.clmm_pool_address)]});let wt=[s.coin_type_sale,s.coin_type_raise],$t=s.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",Ct=[mt.object(getPackagerConfigs(et).package_version_id),mt.object(s.pool_address),mt.object(getPackagerConfigs(at).global_config_id),mt.object(s.clmm_pool_address),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${et.published_at}::${H$1}::${$t}`,typeArguments:wt,arguments:Ct}),mt}async findClmmPoolForLiquidity(s){let et=null,nt=!1,at=await this.sdk.ClmmSDK.Pool.getPoolImmutables();for(let mt of at){if(mt.coinTypeA===s.coin_type_sale&&mt.coinTypeB===s.coin_type_raise&&Number(mt.tickSpacing)===s.tick_spacing){et=await this._sdk.ClmmSDK.Pool.getPool(mt.poolAddress);break}if(mt.coinTypeA===s.coin_type_raise&&mt.coinTypeB===s.coin_type_sale&&Number(mt.tickSpacing)===s.tick_spacing){et=await this._sdk.ClmmSDK.Pool.getPool(mt.poolAddress),nt=!0;break}}return et&&(d$2(et.current_sqrt_price).lessThanOrEqualTo(s.current_sqrt_price_min)||d$2(et.current_sqrt_price).greaterThanOrEqualTo(s.current_sqrt_price_max))?{is_reverse:nt,clmmPool:null}:{is_reverse:nt,clmmPool:et}}withdrawPayload(s){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).package_version_id),nt.object(s.pool_address),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${H$1}::withdraw`,typeArguments:at,arguments:mt}),nt}updateWhitelistCapPayload(s){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.add_whites&&s.add_whites.addresses.length>0&&nt.moveCall({target:`${et.published_at}::${H$1}::add_white_listed_addresses`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(s.pool_address),nt.makeMoveVec({type:"address",elements:s.add_whites.addresses.map(mt=>nt.pure.address(normalizeSuiObjectId(mt)))}),nt.pure.u64(s.add_whites.protection_limit),nt.object(CLOCK_ADDRESS$1)]}),s.remove_whites&&s.remove_whites.length>0&&nt.moveCall({target:`${et.published_at}::${H$1}::remove_white_listed_addresses`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(s.pool_address),nt.makeMoveVec({type:"address",elements:s.remove_whites.map(mt=>nt.pure.address(normalizeSuiObjectId(mt)))}),nt.object(CLOCK_ADDRESS$1)]}),s.update_whites&&s.update_whites.forEach(mt=>{nt.moveCall({target:`${et.published_at}::${H$1}::update_white_listed_address`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(s.pool_address),nt.object(mt.address),nt.pure.u64(mt.protection_limit),nt.object(CLOCK_ADDRESS$1)]})}),nt}creatCancelPoolPayload(s){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(s.pool_address),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${H$1}::cancel`,typeArguments:at,arguments:mt}),nt}updatePoolOwnerPayload(s,et){let{ido:nt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[s.coin_type_sale,s.coin_type_raise],mt=[et.object(getPackagerConfigs(nt).admin_cap_id),et.object(getPackagerConfigs(nt).package_version_id),et.object(s.pool_address),et.object(s.new_owner),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${nt.published_at}::${H$1}::update_pool_owner`,typeArguments:at,arguments:mt}),et}updatePoolDuractionPayload(s,et){let{ido:nt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[s.coin_type_sale,s.coin_type_raise],mt=[et.object(getPackagerConfigs(nt).admin_cap_id),et.object(getPackagerConfigs(nt).package_version_id),et.object(s.pool_address),et.pure.u64(s.start_time),et.pure.u64(s.purchase_duration),et.pure.u64(s.lock_duration),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${nt.published_at}::${H$1}::update_pool_duration`,typeArguments:at,arguments:mt}),et}updateProtectionHardCapPayload(s,et){let{ido:nt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[s.coin_type_sale,s.coin_type_raise],mt=[et.object(getPackagerConfigs(nt).admin_cap_id),et.object(getPackagerConfigs(nt).package_version_id),et.object(s.pool_address),et.pure.u64(s.protection_hard_cap),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${nt.published_at}::${H$1}::update_protection_hard_cap`,typeArguments:at,arguments:mt}),et}unlockNftPayload(s){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[s.nft_type],mt=[nt.object(s.lock_nft_id),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::lock::unlock_nft`,typeArguments:at,arguments:mt}),nt}async isAdminCap(s){let{ido:et}=this._sdk.sdkOptions,nt=`${et.package_id}_${s}_isAdminCap`,at=this.getCache(nt);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(et).admin_cap_id,options:{showType:!0,showOwner:!0}});console.log(mt);let wt=getObjectType(mt),$t=getObjectOwner(mt),Ct=!1;return $t&&wt&&extractStructTagFromType$1(wt).source_address===`${et.package_id}::config::AdminCap`&&(Ct=normalizeSuiAddress($t.AddressOwner)===normalizeSuiAddress(s)),this.updateCache(nt,Ct,cacheTime24h),Ct}async getWhiteProtectionLimit(s,et,nt=!0){let at=`${s}_${et}_getWhiteProtectionLimit`,mt=this._sdk.getCache(at,nt);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"address",value:et}});if(wt&&wt.data){let $t=getObjectFields(wt);return this._sdk.updateCache(at,$t.value),$t.value}return}catch{return}}async getWhiteList(s,et){var at;let nt={type:"address",value:et};try{let mt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:nt}),wt=getObjectFields(mt);if(console.log(wt),wt)return(at=wt==null?void 0:wt.value)==null?void 0:at.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getAdminAddress(){let{ido:s}=this._sdk.sdkOptions,et=`${getPackagerConfigs(s).admin_cap_id}_getAdminAddress`,nt=this.getCache(et);if(nt)return nt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(s).admin_cap_id,options:{showType:!0,showOwner:!0}}),mt=getObjectType(at),wt=getObjectOwner(at);if(wt&&mt&&extractStructTagFromType$1(mt).source_address===`${s.package_id}::config::AdminCap`){let $t=normalizeSuiAddress(wt.AddressOwner);return this.updateCache(et,$t,cacheTime24h),$t}return""}updateCache(s,et,nt=cacheTime24h){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[s]}},It$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getOwnerVeNFT(s,et=!0){let{xtoken:nt}=this.sdk.sdkOptions,at=`${s}_getLockUpManagerEvent`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let wt,$t=`${nt.package_id}::xtoken::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:$t}})).data.forEach(Ct=>{let Dt=extractStructTagFromType$1(getMoveObjectType(Ct)).source_address;if(Dt===$t&&Ct.data&&Ct.data.content){let{fields:Ft}=Ct.data.content;wt={...buildNFT(Ct),id:Ft.id.id,index:Ft.index,type:Dt,xtoken_balance:Ft.xtoken_balance},this.updateCache(at,wt,cacheTime24h)}}),wt}async getOwnerLockTokens(s){let{xtoken:et}=this.sdk.sdkOptions,nt=[],at=`${et.package_id}::lock_coin::LockedCoin<${this.buileTokenCoinType()}>`,mt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0},filter:{StructType:at}});for(let wt of mt.data)if(extractStructTagFromType$1(getMoveObjectType(wt)).source_address===at&&wt.data){let $t=re$1.buildLockToken(wt.data.content),Ct=await this.getLockXToken($t.id);Ct&&($t.xtoken_amount=Ct.xtoken_amount),nt.push($t)}return nt}async getLockToken(s){var nt;let et=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});if((nt=et.data)!=null&&nt.content){let at=re$1.buildLockToken(et.data.content),mt=await this.getLockXToken(at.id);return mt&&(at.xtoken_amount=mt.xtoken_amount),at}}async getOwnerTokenCoins(s){return await this._sdk.ClmmSDK.getOwnerCoinAssets(s,this.buileTokenCoinType())}mintVeNFTPayload(){let{xtoken:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${je}::mint_venft`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).xtoken_manager_id)]}),et}async convertPayload(s,et){let{xtoken:nt}=this.sdk.sdkOptions;et=et||new Transaction;let at=this.buileTokenCoinType(),mt=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,et,BigInt(s.amount),at);return s.venft_id===void 0?et.moveCall({target:`${nt.published_at}::${je}::mint_and_convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xtoken_manager_id),mt,et.pure.u64(s.amount)]}):et.moveCall({target:`${nt.published_at}::${je}::convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xtoken_manager_id),mt,et.pure.u64(s.amount),et.object(s.venft_id)]}),et}redeemLockPayload(s){let{xtoken:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${je}::redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xtoken_manager_id),nt.object(s.venft_id),nt.pure.u64(s.amount),nt.pure.u64(s.lock_day),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemPayload(s){let{xtoken:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${je}::redeem`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xtoken_manager_id),nt.object(s.venft_id),nt.object(s.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemDividendPayload(s,et){let{xtoken_dividends:nt}=this.sdk.sdkOptions,at=new Transaction;return et.forEach(mt=>{at.moveCall({target:`${nt.published_at}::${kt$1}::redeem`,typeArguments:[mt],arguments:[at.object(getPackagerConfigs(nt).dividend_manager_id),at.object(s)]})}),at}redeemDividendV2Payload(s,et,nt){let{xtoken_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.filter(wt=>nt.includes(wt)).length>0&&(mt=this.redeemDividendXTokenPayload(s,mt)),et.forEach(wt=>{nt.includes(wt)||mt.moveCall({target:`${at.published_at}::${kt$1}::redeem_v2`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(s),mt.object(CLOCK_ADDRESS$1)]})}),mt}redeemDividendXTokenPayload(s,et){let{xtoken_dividends:nt,xtoken:at}=this.sdk.sdkOptions,{xtoken_manager_id:mt,lock_manager_id:wt}=getPackagerConfigs(at),{dividend_manager_id:$t}=getPackagerConfigs(nt);return et=et===void 0?new Transaction:et,et.moveCall({target:`${nt.published_at}::${kt$1}::redeem_xtoken`,typeArguments:[],arguments:[et.object(wt),et.object(mt),et.object($t),et.object(s),et.object(CLOCK_ADDRESS$1)]}),et}buileTokenCoinType(){return`${this.sdk.sdkOptions.token_faucet.package_id}::token::TOKEN`}buileXTokenCoinType(s=this._sdk.sdkOptions.xtoken.package_id,et="xtoken",nt="XTOKEN"){return`${s}::${et}::${nt}`}cancelRedeemPayload(s){let{xtoken:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${je}::cancel_redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xtoken_manager_id),nt.object(s.venft_id),nt.object(s.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}async getInitConfigs(){var $t,Ct;let{package_id:s}=this.sdk.sdkOptions.xtoken,et=`${s}_getInitFactoryEvent`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=($t=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::xtoken::InitEvent`}))==null?void 0:$t.data,mt={xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""};at.length>0&&at.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.xtoken_manager_id=Ft.xtoken_manager)});let wt=(Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::locking::InitializeEvent`}))==null?void 0:Ct.data;return wt.length>0&&wt.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.lock_manager_id=Ft.lock_manager)}),mt.lock_handle_id=(await this.getLockUpManager(mt.lock_manager_id)).lock_infos.lock_handle_id,this.updateCache(et,mt,cacheTime24h),mt}async getLockUpManager(s=getPackagerConfigs(this.sdk.sdkOptions.xtoken).lock_manager_id,et=!1){let nt=`${s}_getLockUpManagerEvent`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this.sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),wt=re$1.buildLockUpManager(getObjectFields(mt));return this.updateCache(nt,wt,cacheTime24h),wt}async getLockInfoHandle(s){let et=`${s}_getLockInfoHandle`,nt=this.getCache(et);if(nt!==void 0)return nt;let at="",mt=await this.sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),wt=getObjectFields(mt);return wt&&(at=wt.lock_infos.fields.id.id,this.updateCache(et,at,cacheTime24h)),at}async getDividendConfigs(){var wt;let{package_id:s}=this.sdk.sdkOptions.xtoken_dividends,et=`${s}_getDividendManagerEvent`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=(wt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::dividend::InitEvent`}))==null?void 0:wt.data,mt={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""};return at.length>0&&at.forEach($t=>{let Ct=$t.parsedJson;Ct&&(mt.dividend_manager_id=Ct.manager_id,mt.dividend_admin_id=Ct.admin_id,mt.dividend_settle_id=Ct.settle_id,this.updateCache(et,mt,cacheTime24h))}),mt}async getDividendManager(s=!1){let{dividend_manager_id:et}=getPackagerConfigs(this.sdk.sdkOptions.xtoken_dividends),nt=`${et}_getDividendManager`,at=this.getCache(nt,s);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t=re$1.buildDividendManager(wt);return this.updateCache(nt,$t,cacheTime24h),$t}async getXcetusManager(s=!0){let{xtoken_manager_id:et}=getPackagerConfigs(this.sdk.sdkOptions.xtoken),nt=`${et}_getXcetusManager`,at=this.getCache(nt,s);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t={id:wt.id.id,index:Number(wt.index),has_venft:{handle:wt.has_venft.fields.id.id,size:wt.has_venft.fields.size},nfts:{handle:wt.nfts.fields.id.id,size:wt.nfts.fields.size},total_locked:wt.total_locked,treasury:wt.treasury.fields.total_supply.fields.value};return this.updateCache(nt,$t),$t}async getVeNFTDividendInfo(s,et){try{let nt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(nt);return re$1.buildVeNFTDividendInfo(at)}catch{return}}async redeemNum(s,et){if(BigInt(s)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=await this.getLockUpManager(),at=d$2(U).mul(d$2(nt.max_lock_day).sub(d$2(et))).mul(d$2(nt.max_percent_numerator).sub(d$2(nt.min_percent_numerator))).div(d$2(nt.max_lock_day).sub(d$2(nt.min_lock_day))),mt=d$2(U).mul(d$2(nt.max_percent_numerator)).sub(at).div(d$2(Re)).div(U);return{amountOut:d$2(mt).mul(d$2(s)).round().toString(),percent:mt.toString()}}async reverseRedeemNum(s,et){if(BigInt(s)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=await this.getLockUpManager(),at=d$2(U).mul(d$2(nt.max_lock_day).sub(d$2(et))).mul(d$2(nt.max_percent_numerator).sub(d$2(nt.min_percent_numerator))).div(d$2(nt.max_lock_day).sub(d$2(nt.min_lock_day))),mt=d$2(U).mul(d$2(nt.max_percent_numerator)).sub(at).div(d$2(Re)).div(U);return{amountOut:d$2(s).div(mt).toFixed(0,Decimal$1.ROUND_UP),percent:mt.toString()}}async getLockXToken(s){let{lock_handle_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xtoken),nt=`${s}_getXTokenAmount`,at=this.getCache(nt);if(at)return at;try{let mt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:s}}),wt=getObjectFields(mt);if(wt){let $t=wt.value.fields.value.fields;return this.updateCache(nt,$t,cacheTime24h),$t}}catch{}}async getVeNftAmount(s,et){try{let nt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(nt);if(at){let{lock_amount:mt,xtoken_amount:wt}=at.value.fields.value.fields;return{lock_amount:mt,xtoken_amount:wt}}}catch{}return{lock_amount:"0",xtoken_amount:"0"}}async getPhaseDividendInfo(s,et=!1){let nt=(await this.getDividendManager()).dividends.id,at=`${nt}_${s}_getPhaseDividendInfo`,mt=this._sdk.getCache(at,et);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"u64",value:s}}),$t=getObjectFields(wt),Ct=$t.value.fields.value.fields,Dt=Ct.redeemed_num.fields.contents.map(tr=>({name:tr.fields.key.fields.name,value:tr.fields.value})),Ft=Ct.bonus_types.map(tr=>tr.fields.name),jt=Ct.bonus.fields.contents.map(tr=>({name:tr.fields.key.fields.name,value:tr.fields.value})),Ut={id:getObjectId(wt),phase:$t.name,settled_num:Ct.settled_num,register_time:Ct.register_time,redeemed_num:Dt,is_settled:Ct.is_settled,bonus_types:Ft,bonus:jt,phase_end_time:""};return this.updateCache(at,Ut),Ut}catch{}}updateCache(s,et,nt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[s]}},Ot$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async addMasterLiquidity(s){var ur,fr;let{liquidity_stratefy:et}=this._sdk.sdkOptions,{clmm_pool:nt}=this._sdk.ClmmSDK.sdkOptions,at=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),mt=d$2(0),wt=d$2(0),$t=[],Ct=[],Dt=[],Ft=[],jt=[];s.liquidity_bins.forEach((dr,hr)=>{let vr=s.amounts_a[hr],yr=s.amounts_b[hr],xr=s.bins_fix_amount_a[hr];mt=mt.add(vr),wt=wt.add(yr),$t.push(vr),Ct.push(yr),Dt.push(asUintN(BigInt(dr.tick_lower)).toString()),Ft.push(asUintN(BigInt(dr.tick_upper)).toString()),jt.push(xr)});let Ut=[s.coinTypeA,s.coinTypeB],tr=new Transaction,ir=(ur=TransactionUtil.buildAddLiquidityFixTokenCoinInput(tr,!s.fix_amount_a,mt.toString(),s.slippage,s.coinTypeA,at,!1))==null?void 0:ur.targetCoin,sr=(fr=TransactionUtil.buildAddLiquidityFixTokenCoinInput(tr,s.fix_amount_a,wt.toString(),s.slippage,s.coinTypeB,at,!1))==null?void 0:fr.targetCoin;return xi(s)?tr.moveCall({target:`${et.published_at}::router::increase_liquidity`,typeArguments:Ut,arguments:[tr.object(getPackagerConfigs(et).master_manger_id),tr.object(s.master_address),tr.object(getPackagerConfigs(nt).global_config_id),tr.object(s.pool_address),ir,sr,tr.makeMoveVec({elements:$t.map(dr=>tr.pure.u64(dr))}),tr.makeMoveVec({elements:Ct.map(dr=>tr.pure.u64(dr))}),tr.makeMoveVec({elements:jt.map(dr=>tr.pure.bool(dr))}),tr.object(CLOCK_ADDRESS$1)]}):tr.moveCall({target:`${et.published_at}::router::create_master_liquidity`,typeArguments:Ut,arguments:[tr.object(getPackagerConfigs(et).master_manger_id),tr.object(getPackagerConfigs(nt).global_config_id),tr.object(s.pool_address),ir,sr,tr.makeMoveVec({elements:Dt.map(dr=>tr.pure.u32(Number(dr)))}),tr.makeMoveVec({elements:Ft.map(dr=>tr.pure.u32(Number(dr)))}),tr.makeMoveVec({elements:$t.map(dr=>tr.pure.u64(dr))}),tr.makeMoveVec({elements:Ct.map(dr=>tr.pure.u64(dr))}),tr.makeMoveVec({elements:jt.map(dr=>tr.pure.bool(dr))}),tr.pure.u8(s.strategy),tr.pure.u32(Number(asUintN(BigInt(s.tick_lower)).toString())),tr.pure.u32(Number(asUintN(BigInt(s.tick_upper)).toString())),tr.object(CLOCK_ADDRESS$1)]}),tr}buildMasterNFTType(){return`${this._sdk.sdkOptions.liquidity_stratefy.package_id}::master_liquidity::MasterLiquidity`}async getMasterNFTList(s,et=[]){let nt=[],at=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0},filter:{Package:this._sdk.sdkOptions.liquidity_stratefy.package_id}}),mt=et.length>0;for(let wt of at.data)if(extractStructTagFromType$1(wt.data.type).full_address===this.buildMasterNFTType()){let $t=J.buildMasterNFT(wt);if($t){let Ct=`${$t.id}_masterNFT`;this.updateCache(Ct,$t,cacheTime24h),mt?et.includes($t.pool_id)&&nt.push($t):nt.push($t)}}return nt}async getMasterNFT(s,et=!1){let nt="$masterId}_masterNFT",at=this.getCache(nt,et);if(at)return at;try{let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(extractStructTagFromType$1(mt.data.type).full_address===this.buildMasterNFTType()){let wt=J.buildMasterNFT(mt);return wt&&this.updateCache(nt,wt,cacheTime24h),wt}}catch(mt){console.log(mt)}}async fetchMasterPositionInfos(s){var $t;let et={},{clmm_pool:nt,integrate:at,simulationAccount:mt}=this.sdk.ClmmSDK.sdkOptions,wt=new Transaction;return s.forEach(Ct=>{Ct.position_ids.forEach(Dt=>{let Ft=[Ct.coinTypeA,Ct.coinTypeB],jt=[wt.object(getPackagerConfigs(nt).global_config_id),wt.object(Ct.pool_id),wt.object(Dt)];wt.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft}),wt.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:[...jt,wt.object(CLOCK_ADDRESS$1)],typeArguments:Ft})})}),($t=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:mt.address})).events)==null||$t.forEach(Ct=>{let{parsedJson:Dt}=Ct,{position_id:Ft}=Dt,jt=et[Ft];switch(jt===void 0&&(jt={position_id:Ft,feeOwedA:"0",feeOwedB:"0",rewarders:[]},et[Ft]=jt),extractStructTagFromType$1(Ct.type).name){case"FetchPositionFeesEvent":jt.feeOwedA=Dt.fee_owned_a,jt.feeOwedB=Dt.fee_owned_b;break;case"FetchPositionRewardsEvent":jt.rewarders=Dt.data;break}}),et}async getLiquidityStrategyConfigs(s=!1){let{package_id:et}=this._sdk.sdkOptions.liquidity_stratefy,nt=`${et}_getLiquidityStrategyConfigst`,at=this.getCache(nt,s);if(at!==void 0)return at;let mt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::master_liquidity::MasterLiquidityManagerCreatedEvent`})).data,wt={master_manger_id:"",master_liquidity_handle:""};if(mt.length>0){for(let $t of mt){let Ct=$t.parsedJson;wt.master_manger_id=Ct.id;let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:Ct.id,options:{showContent:!0}}),Ft=getObjectFields(Dt);wt.master_liquidity_handle=Ft.position_maps.fields.id.id;break}this.updateCache(nt,wt,cacheTime24h)}return wt}removeMasterLiquidity(s){let{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:nt}=this.sdk.sdkOptions,at=new Transaction,mt=[s.coinTypeA,s.coinTypeB];this.collectReward({coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collect_fee:!1,rewarder_coin_types:s.rewarder_coin_types,master_address:s.master_address,pool_address:s.pool_address},at);let wt=[at.object(getPackagerConfigs(nt).master_manger_id),at.object(s.pool_address),at.object(s.master_address),at.object(getPackagerConfigs(et).global_config_id),at.makeMoveVec({elements:s.delta_liquidities.map($t=>at.pure.u128($t))}),at.makeMoveVec({elements:s.min_amounts_a.map($t=>at.pure.u64($t))}),at.makeMoveVec({elements:s.min_amounts_a.map($t=>at.pure.u64($t))}),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${nt.published_at}::${it$1}::remove_liquidity`,typeArguments:mt,arguments:wt}),at}closeMasterLiquidity(s){let{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:nt}=this.sdk.sdkOptions,at=new Transaction,mt=[s.coinTypeA,s.coinTypeB];return this.collectReward({coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collect_fee:!1,rewarder_coin_types:s.rewarder_coin_types,master_address:s.master_address,pool_address:s.pool_address},at),at.moveCall({target:`${nt.published_at}::${it$1}::close_master_liquidity`,typeArguments:mt,arguments:[at.object(getPackagerConfigs(nt).master_manger_id),at.object(s.master_address),at.object(getPackagerConfigs(et).global_config_id),at.object(s.pool_address),at.makeMoveVec({elements:s.min_amounts_a.map(wt=>at.pure.u64(wt))}),at.makeMoveVec({elements:s.min_amounts_a.map(wt=>at.pure.u64(wt))}),at.object(CLOCK_ADDRESS$1)]}),at}collectFee(s,et){let{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:at}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let mt=[s.coinTypeA,s.coinTypeB],wt=[et.object(getPackagerConfigs(at).master_manger_id),et.object(s.master_address),et.object(getPackagerConfigs(nt).global_config_id),et.object(s.pool_address)];return et.moveCall({target:`${at.published_at}::${it$1}::collect_fee`,typeArguments:mt,arguments:wt}),et}collectReward(s,et){let{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:at}=this.sdk.sdkOptions;return et=et===void 0?new Transaction:et,s.collect_fee&&this.collectFee({...s},et),s.rewarder_coin_types.forEach(mt=>{let wt=[s.coinTypeA,s.coinTypeB,mt];if(et){let $t=[et.object(getPackagerConfigs(at).master_manger_id),et.object(s.master_address),et.object(getPackagerConfigs(nt).global_config_id),et.object(s.pool_address),et.object(getPackagerConfigs(nt).global_vault_id),et.object(CLOCK_ADDRESS$1)];et.moveCall({target:`${at.published_at}::${it$1}::collect_reward`,typeArguments:wt,arguments:$t})}}),et}updateCache(s,et,nt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[s]}},xt$2=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}buildCoinInput(s,et,nt,at,mt){let{selectedCoins:wt,remainingCoins:$t}=CoinAssist.selectCoinAssetGreaterThanOrEqual(et,BigInt(at)),Ct=CoinAssist.calculateTotalBalance(wt);if(Ct<BigInt(at))throw new Error(`The amount(${Ct}) is Insufficient balance for ${nt} , expect ${at} `);let Dt=Ct-BigInt(at),Ft;if(CoinAssist.isSuiCoin(nt))Ft=s.splitCoins(s.gas,[s.pure.u64(at)]);else{let[jt,...Ut]=wt.map(tr=>tr.coinObjectId);Ft=s.object(jt),Ut.length>0?mt?s.mergeCoins(Ft,[...Ut.map(tr=>s.object(tr)),mt]):s.mergeCoins(Ft,[...Ut.map(tr=>s.object(tr))]):mt&&s.mergeCoins(Ft,[mt])}return{selectedUnusedAmount:Dt,coinInput:Ft,remainingCoins:$t}}async deposit(s){var Ut,tr;let{vaults:et,frams:nt}=this._sdk.sdkOptions,{clmm_pool:at}=this._sdk.ClmmSDK.sdkOptions,mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress()),wt=new Transaction,$t,Ct;if(s.swapParams){let ir=await this.handleDepositSwap(s,wt,mt);$t=ir.primaryCoinAInputs,Ct=ir.primaryCoinBInputs}else $t=(Ut=TransactionUtil.buildAddLiquidityFixTokenCoinInput(wt,!s.fix_amount_a,s.amount_a,s.slippage,s.coinTypeA,mt,!1))==null?void 0:Ut.targetCoin,Ct=(tr=TransactionUtil.buildAddLiquidityFixTokenCoinInput(wt,s.fix_amount_a,s.amount_b,s.slippage,s.coinTypeB,mt,!1))==null?void 0:tr.targetCoin;let Dt=getPackagerConfigs(et),Ft=getPackagerConfigs(nt),jt=getPackagerConfigs(at);return wt.moveCall({target:`${et.published_at}::${Li}::deposit`,typeArguments:[s.coinTypeA,s.coinTypeB,s.lp_token_type],arguments:[wt.object(Dt.vaults_manager_id),wt.object(s.vault_id),wt.object(Ft.rewarder_manager_id),wt.object(Ft.global_config_id),wt.object(s.farming_pool),wt.object(jt.global_config_id),wt.object(s.clmm_pool),$t,Ct,wt.pure.u64(s.amount_a),wt.pure.u64(s.amount_b),wt.pure.bool(s.fix_amount_a),wt.object(CLOCK_ADDRESS$1)]}),wt}async handleDepositSwap(s,et,nt){let{clmm_pool:at,integrate:mt}=this._sdk.ClmmSDK.sdkOptions,{swap_amount:wt,a2b:$t,route_obj:Ct,stakeProtocol:Dt}=s.swapParams,Ft=$t?s.coinTypeA:s.coinTypeB,jt=TransactionUtil.buildCoinForAmount(et,nt,BigInt(wt),Ft,!1),Ut=BigInt(jt.tragetCoinAmount)-BigInt(wt),tr=[];if(Dt){let dr=this.requestStakeCoin(Dt,et,jt.targetCoin),hr=TransactionUtil.buildCoinForAmount(et,jt.remainCoins,BigInt(0),Ft,!1).targetCoin;tr=$t?[hr,dr]:[dr,hr]}else if(Ct){let dr=TransactionUtil.buildCoinForAmount(et,nt,0n,$t?s.coinTypeB:s.coinTypeA,!1),hr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,Ct,jt,dr,"",s.slippage,et);tr=$t?[hr.fromCoin,hr.toCoin]:[hr.toCoin,hr.fromCoin],!dr.isMintZeroCoin&&dr.originalSplitedCoin===void 0&&et.transferObjects([dr.targetCoin],et.pure.address(this._sdk.getVerifySenderAddress()))}else{let dr=TransactionUtil.buildCoinForAmount(et,nt,0n,$t?s.coinTypeB:s.coinTypeA,!1),hr=SwapUtils.getDefaultSqrtPriceLimit($t).toString();tr=et.moveCall({target:`${mt.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(getPackagerConfigs(at).global_config_id),et.object(s.clmm_pool),$t?jt.targetCoin:dr.targetCoin,$t?dr.targetCoin:jt.targetCoin,et.pure.bool($t),et.pure.bool(!0),et.pure.u64(wt),et.pure.u128(hr),et.pure.bool(!1),et.object(CLOCK_ADDRESS$1)]})}let ir,sr,ur=tr[0],fr=tr[1];if($t){let dr=BigInt(s.amount_a)-Ut;CoinAssist.isSuiCoin(Ft)?(et.transferObjects([ur],et.pure.address(this._sdk.getVerifySenderAddress())),ir=et.splitCoins(et.gas,[et.pure.u64(s.amount_a)])):dr>0n?ir=this.buildCoinInput(et,jt.remainCoins,Ft,dr,ur).coinInput:ir=ur,sr=fr}else{ir=ur;let dr=BigInt(s.amount_b)-Ut;CoinAssist.isSuiCoin(Ft)?(et.transferObjects([fr],et.pure.address(this._sdk.getVerifySenderAddress())),sr=et.splitCoins(et.gas,[et.pure.u64(s.amount_b)])):dr>0n?sr=this.buildCoinInput(et,jt.remainCoins,Ft,dr,fr).coinInput:sr=fr}return{primaryCoinAInputs:ir,primaryCoinBInputs:sr}}async remove(s){let{vaults:et,frams:nt}=this.sdk.sdkOptions,{clmm_pool:at,integrate:mt}=this._sdk.ClmmSDK.sdkOptions,wt=new Transaction,$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress(),s.lp_token_type),Ct=TransactionUtil.buildCoinForAmount(wt,$t,BigInt(s.lp_token_amount),s.lp_token_type,!1).targetCoin,Dt=getPackagerConfigs(et),Ft=getPackagerConfigs(nt),jt=getPackagerConfigs(at),Ut=[s.coinTypeA,s.coinTypeB,s.lp_token_type],tr=wt.moveCall({target:`${et.published_at}::${Fi}::remove`,typeArguments:Ut,arguments:[wt.object(Dt.vaults_manager_id),wt.object(s.vault_id),wt.object(Ft.rewarder_manager_id),wt.object(Ft.global_config_id),wt.object(s.farming_pool),wt.object(jt.global_config_id),wt.object(s.clmm_pool),Ct,wt.pure.u64(s.lp_token_amount),wt.pure.u64(s.min_amount_a),wt.pure.u64(s.min_amount_b),wt.object(CLOCK_ADDRESS$1)]}),ir=tr[0],sr=tr[1];if(s.swapParams){let{a2b:ur,swap_amount:fr,route_obj:dr}=s.swapParams;if(dr){let hr={targetCoin:ur?ir:sr,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},vr={targetCoin:ur?sr:ir,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},yr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,dr,hr,vr,"",s.slippage,wt),xr=ur?[yr.fromCoin,yr.toCoin]:[yr.toCoin,yr.fromCoin];ur?wt.mergeCoins(xr[1],[sr]):wt.mergeCoins(xr[0],[ir]),wt.transferObjects([...xr],wt.pure.address(this._sdk.getVerifySenderAddress()))}else{let hr=SwapUtils.getDefaultSqrtPriceLimit(ur).toString(),vr=wt.moveCall({target:`${mt.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[wt.object(getPackagerConfigs(at).global_config_id),wt.object(s.clmm_pool),ir,sr,wt.pure.bool(ur),wt.pure.bool(!0),wt.pure.u64(fr),wt.pure.u128(hr),wt.pure.bool(!0),wt.object(CLOCK_ADDRESS$1)]});wt.transferObjects([vr[0],vr[1]],wt.pure.address(this._sdk.getVerifySenderAddress()))}}else wt.transferObjects([ir,sr],wt.pure.address(this._sdk.getVerifySenderAddress()));return wt}async getVaultList(s="all"){let{vaults:et}=this._sdk.sdkOptions,nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et.package_id}::vaults::CreateEvent`},s),at=nt.data.map($t=>$t.parsedJson.id),mt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(at,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),wt=[];return mt.forEach($t=>{let Ct=q$1.buildPool($t);Ct&&(Ct.stake_protocol=this.findStakeProtocol(Ct.position.coinTypeA,Ct.position.coinTypeB),this.savePoolToCache(Ct),wt.push(Ct))}),nt.data=wt,nt}findStakeProtocol(s,et){let{haedal:nt,volo:at,aftermath:mt}=getPackagerConfigs(this._sdk.sdkOptions.vaults),wt=extractStructTagFromType$1(s).full_address,$t=extractStructTagFromType$1(et).full_address;if(CoinAssist.isSuiCoin(wt)||CoinAssist.isSuiCoin($t)){if(nt){let Ct=extractStructTagFromType$1(getPackagerConfigs(nt).coin_type).full_address;if(wt===Ct||$t===Ct)return"Haedal"}if(at){let Ct=extractStructTagFromType$1(getPackagerConfigs(at).coin_type).full_address;if(wt===Ct||$t===Ct)return"Volo"}if(mt){let Ct=extractStructTagFromType$1(getPackagerConfigs(mt).coin_type).full_address;if(wt===Ct||$t===Ct)return"aftermath"}}}savePoolToCache(s){let et=`${s.id}_mirrorPool`;this.updateCache(et,s,cacheTime24h)}readPoolFromCache(s,et=!1){let nt=`${s}_mirrorPool`;return this.getCache(nt,et)}async calculateMaxAvailable(s){var sr;let{integrate:et,simulationAccount:nt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,mt=TickMath.tickIndexToSqrtPriceX64(s.lowerTick),wt=TickMath.tickIndexToSqrtPriceX64(s.upperTick),$t=new BN(s.curSqrtPrice),Ct=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(s.input_amount),$t,mt,wt,!1),Dt=[s.coinTypeA,s.coinTypeB];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[at.object(s.clmm_pool),at.pure.bool(!0),at.pure.bool(!0),at.pure.u64(Ct.coinA.toString())],typeArguments:Dt}),at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[at.object(s.clmm_pool),at.pure.bool(!1),at.pure.bool(!0),at.pure.u64(Ct.coinB.toString())],typeArguments:Dt});let Ft=(sr=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address})).events)==null?void 0:sr.filter(ur=>extractStructTagFromType$1(ur.type).name==="CalculatedSwapResultEvent");if(Ft.length===0)return null;let jt=Ft[0].parsedJson.data,Ut=Ft[1].parsedJson.data,tr=d$2(Ct.coinB.toString()).add(jt.amount_out),ir=d$2(Ct.coinA.toString()).add(Ut.amount_out);return{maxAmountB:tr,maxAmountA:ir}}async calculateRemoveSwapAmount(s,et){let nt=q$1.calculateDepositRatio(s.lowerTick,s.upperTick,new BN(s.curSqrtPrice)),at=s.fix_amount_a?nt.ratioA:nt.ratioB,mt=d$2(s.receive_amount).mul(at),wt,$t;if(s.removeLiquidity){let ur=TickMath.tickIndexToSqrtPriceX64(s.lowerTick),fr=TickMath.tickIndexToSqrtPriceX64(s.upperTick),dr=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(s.removeLiquidity),new BN(s.curSqrtPrice),ur,fr,!1);$t=s.removeLiquidity,wt=s.fix_amount_a?dr.coinB.toString():dr.coinA.toString(),mt=s.fix_amount_a?d$2(dr.coinA.toString()):d$2(dr.coinB.toString())}else{let ur=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(s.lowerTick,s.upperTick,new BN(mt.toFixed(0)),s.fix_amount_a,!1,.2,new BN(s.curSqrtPrice));$t=ur.liquidityAmount.toString(),wt=s.fix_amount_a?ur.coinAmountB.toString():ur.coinAmountA.toString()}let Ct=!s.fix_amount_a,Dt=await this.clmmPreSwap(s.clmm_pool,s.curSqrtPrice,Ct,d$2(wt),s.coinTypeA,s.coinTypeB,!0,s.priceSplitPoint,s.use_route,[{pool_id:s.clmm_pool,tick_lower:s.lowerTick,tick_upper:s.upperTick,delta_liquidity:Number($t),is_increase:!1}]),Ft=mt.add(Dt.amount_out),jt=d$2(s.receive_amount),Ut=jt.sub(Ft);if((!s.removeLiquidity||s.removeLiquidity&&et)&&Ut.abs().greaterThan(jt.mul(.01))){let ur=Ft.lessThan(jt),fr,dr;et?ur?(fr=d$2($t),dr=et.right):(fr=et.left,dr=d$2($t)):(fr=d$2(ur?$t:0),dr=d$2(ur?s.maxLiquidity:$t));let hr=d$2(fr).add(dr).div(2).toFixed(0);if(!et||et&&et.count<15&&fr<dr)return await this.calculateRemoveSwapAmount({...s,removeLiquidity:hr},{left:fr,right:dr,count:et?et.count+1:0})}let tr=Dt.amount_in&&Dt.fee_amount?new BN(Dt.amount_in).add(new BN(Dt.fee_amount)).toString():Dt.amount_in,ir=Dt.amount_out,{is_exceed:sr}=Dt;return{swapInAmount:tr,swapOutAmount:ir,liquidity:$t,is_exceed:sr,routeObj:Dt.route_obj,request_id:s.request_id}}async calculateStakeDepositFixSui(s){let et=s.inputSuiAmount.mul(s.remainRate),nt=s.inputSuiAmount.sub(s.swapSuiAmount),at=s.exchangeRate?s.exchangeRate:await this.getExchangeRateForStake(s.stakeProtocol,s.shouldRequestStake,Number(s.swapSuiAmount.toFixed(0))),mt=s.swapSuiAmount.div(at).toFixed(0),wt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(s.lowerTick,s.upperTick,new BN(mt.toString()),!s.fixCoinA,!0,0,new BN(s.curSqrtPrice)),$t=s.fixCoinA?wt.coinAmountA.toString():wt.coinAmountB.toString(),Ct=d$2(nt).sub($t);return Ct.greaterThanOrEqualTo(0)&&Ct.lessThanOrEqualTo(et)||s.rebalanceCount>12||s.leftSuiAmount.greaterThanOrEqualTo(s.rightSuiAmount)?{swapInAmount:s.swapSuiAmount.toFixed(0),swapOutAmount:mt,afterSqrtPrice:s.curSqrtPrice,fixAmountA:!s.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:s.stakeProtocol}:Ct.lessThan(0)?await this.calculateStakeDepositFixSui({...s,rightSuiAmount:s.swapSuiAmount,swapSuiAmount:s.swapSuiAmount.add(s.leftSuiAmount).div(2),exchangeRate:at,rebalanceCount:s.rebalanceCount+1}):Ct.greaterThan(et)?await this.calculateStakeDepositFixSui({...s,leftSuiAmount:s.swapSuiAmount,swapSuiAmount:s.swapSuiAmount.add(s.rightSuiAmount).div(2),exchangeRate:at,rebalanceCount:s.rebalanceCount+1}):null}async calculateDepositSwapAmount(s,et=!1){let nt=TickMath.sqrtPriceX64ToTickIndex(new BN(s.curSqrtPrice)),{ratioA:at,ratioB:mt}=q$1.calculateDepositRatio(s.lowerTick,s.upperTick,new BN(s.curSqrtPrice)),wt=d$2(s.input_amount).mul(s.fix_amount_a?at:mt),$t=d$2(s.input_amount).sub(wt),Ct=s.fix_amount_a;if($t.toFixed(0)==="0")return null;if(s.stakeProtocol){if(CoinAssist.isSuiCoin(s.coinTypeA)&&s.fix_amount_a||CoinAssist.isSuiCoin(s.coinTypeB)&&!s.fix_amount_a){let xr=await this.calculateStakeDepositFixSui({inputSuiAmount:d$2(s.input_amount),swapSuiAmount:$t,lowerTick:s.lowerTick,upperTick:s.upperTick,curSqrtPrice:s.curSqrtPrice,remainRate:s.remainRate?s.remainRate:.01,fixCoinA:s.fix_amount_a,rebalanceCount:0,shouldRequestStake:s.shouldRequestStake,leftSuiAmount:Ct?new Decimal$1($t.toFixed(0)):new Decimal$1(0),rightSuiAmount:Ct?new Decimal$1(s.input_amount):new Decimal$1($t.toFixed(0)),stakeProtocol:s.stakeProtocol});return xr?{...xr,request_id:s.request_id}:null}throw Error("Only support fix sui")}let Dt=nt<s.lowerTick||nt>s.upperTick,Ft={clmm_pool:s.clmm_pool,curSqrtPrice:s.curSqrtPrice,a2b:Ct,amount_a:Ct?new Decimal$1(s.input_amount):new Decimal$1(0),amount_b:Ct?new Decimal$1(0):new Decimal$1(s.input_amount),amount_left:Ct?new Decimal$1($t.toFixed(0)):new Decimal$1(0),amount_right:Ct?new Decimal$1(s.input_amount):new Decimal$1($t.toFixed(0)),lowerTick:s.lowerTick,upperTick:s.upperTick,tick_spacing:2,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,useRoute:s.use_route,remainRate:s.remainRate?s.remainRate:.01,priceSplitPoint:s.priceSplitPoint},jt=et&&nt<=s.upperTick,Ut=jt?await this.calculateRebalance(Ft):await this.clmmPreSwap(s.clmm_pool,s.curSqrtPrice,Ct,$t,s.coinTypeA,s.coinTypeB,!0,s.priceSplitPoint,s.use_route),tr=Ut.after_sqrt_price,ir=TickMath.sqrtPriceX64ToTickIndex(new BN(tr)),sr=ir<s.lowerTick||ir>s.upperTick;if(Dt!==sr&&!jt&&ir<=s.upperTick){let{ratioA:xr,ratioB:br}=q$1.calculateDepositRatio(s.lowerTick,s.upperTick,new BN(tr));$t=d$2(s.input_amount).sub(d$2(s.input_amount).mul(s.fix_amount_a?xr:br)),Ft.amount_left=Ct?new Decimal$1($t.toFixed(0)):new Decimal$1(0),Ft.amount_right=Ct?new Decimal$1(s.input_amount):new Decimal$1($t.toFixed(0)),Ut=await this.calculateRebalance(Ft),tr=Ut.after_sqrt_price,TickMath.sqrtPriceX64ToTickIndex(new BN(tr))}let{ratioA:ur,ratioB:fr}=q$1.calculateDepositRatio(s.lowerTick,s.upperTick,new BN(tr)),dr=fr.div(ur).sub(mt.div(at)).greaterThan("0"),hr=Ut.amount_in&&Ut.fee_amount?new BN(Ut.amount_in).add(new BN(Ut.fee_amount)).toString():Ut.amount_in,vr=Ut.amount_out,{is_exceed:yr}=Ut;if(ir<s.lowerTick)dr=!0;else if(ir>s.upperTick)dr=!1;else{let xr=dr===Ct?new BN(d$2(s.input_amount).sub(hr).toString()):new BN(vr),br=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(s.lowerTick,s.upperTick,xr,dr,!0,0,new BN(tr)),wr=br.coinAmountA,Sr=br.coinAmountB;d$2(s.fix_amount_a?wr.toString():Sr.toString()).add(hr).greaterThanOrEqualTo(s.input_amount)&&(dr=!dr)}return{swapInAmount:hr,swapOutAmount:vr,afterSqrtPrice:tr,is_exceed:yr,fixAmountA:dr,routeObj:Ut.route_obj,request_id:s.request_id,use_Haedal_stake:!1}}async calculateHaedalDepositSwapAmount(s){TickMath.sqrtPriceX64ToTickIndex(new BN(s.curSqrtPrice));let{ratioA:et,ratioB:nt}=q$1.calculateDepositRatio(s.lowerTick,s.upperTick,new BN(s.curSqrtPrice)),at=d$2(s.input_amount).mul(s.fix_amount_a?et:nt),mt=d$2(s.input_amount).sub(at),wt=s.fix_amount_a;if(mt.toFixed(0)==="0")return null;if(s.stakeProtocol){if(CoinAssist.isSuiCoin(s.coinTypeA)&&s.fix_amount_a||CoinAssist.isSuiCoin(s.coinTypeB)&&!s.fix_amount_a){let $t=await this.calculateStakeDepositFixSui({inputSuiAmount:d$2(s.input_amount),swapSuiAmount:mt,lowerTick:s.lowerTick,upperTick:s.upperTick,curSqrtPrice:s.curSqrtPrice,remainRate:s.remainRate?s.remainRate:.01,fixCoinA:s.fix_amount_a,rebalanceCount:0,shouldRequestStake:s.shouldRequestStake,leftSuiAmount:wt?new Decimal$1(mt.toFixed(0)):new Decimal$1(0),rightSuiAmount:wt?new Decimal$1(s.input_amount):new Decimal$1(mt.toFixed(0)),stakeProtocol:s.stakeProtocol});return $t?{...$t,request_id:s.request_id}:null}throw Error("Only support fix sui")}return null}async calculateRebalance(s){let{clmm_pool:et,a2b:nt,curSqrtPrice:at,amount_a:mt,amount_b:wt,lowerTick:$t,upperTick:Ct,amount_left:Dt,amount_right:Ft,coinTypeA:jt,coinTypeB:Ut,useRoute:tr,priceSplitPoint:ir,remainRate:sr}=s,ur=async(fr,dr,hr)=>{let vr=fr.plus(dr).div(2),yr=await this.clmmPreSwap(et,at,nt,vr,jt,Ut,!0,ir,tr);if(yr.amount_out==="0")return yr;if(yr.after_sqrt_price||(yr.after_sqrt_price=s.curSqrtPrice),yr.is_exceed)return dr=vr,ur(fr,dr);let xr=nt?mt.sub(yr.amount_in):mt.add(yr.amount_out),br=nt?wt.add(yr.amount_out):wt.sub(yr.amount_in);TickMath.sqrtPriceX64ToTickIndex(new BN(yr.after_sqrt_price));let wr=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts($t,Ct,new BN(xr.toString()),!0,!0,1,new BN(yr.after_sqrt_price)),Sr=new Decimal$1(wr.coinAmountA.toString()),Cr=new Decimal$1(wr.coinAmountB.toString());if(Sr.toString()!==xr.toString())throw new Error("usedA does not match afterA");if(br.lessThan(Cr))nt?fr=vr:dr=vr;else{nt?dr=vr:fr=vr;let cr=br.sub(Cr);if(br.mul(sr).sub(cr).greaterThanOrEqualTo(0))return{...yr,remainingB:cr}}return fr.greaterThan(dr)||dr.sub(fr).lessThan(10)?yr:ur(fr,dr)};return Dt.greaterThanOrEqualTo(Ft)?ur(new Decimal$1(0),Dt):ur(Dt,Ft)}async clmmPreSwap(s,et,nt,at,mt,wt,$t,Ct,Dt,Ft){var fr;if(Dt)try{let dr=await this._sdk.ClmmSDK.RouterV2.getBestRouter(nt?mt:wt,nt?wt:mt,Number(at.toFixed(0)),$t,Ct,"",void 0,void 0,!0,!1,Ft);if(!dr.result)throw new Error("route unavailable");let{result:hr}=dr,vr=et;return hr.splitPaths.forEach(yr=>{let xr=yr.basePaths.find(br=>br.poolAddress.toLowerCase()===s.toLowerCase());xr&&(vr=xr.afterSqrtPrice.toString())}),{amount_in:hr.inputAmount.toString(),amount_out:hr.outputAmount.toString(),after_sqrt_price:vr,is_exceed:hr.isExceed,route_obj:hr}}catch{throw new Error("route unavailable")}let{integrate:jt,simulationAccount:Ut}=this.sdk.ClmmSDK.sdkOptions,tr=new Transaction,ir=[mt,wt],sr=[tr.object(s),tr.pure.bool(nt),tr.pure.bool($t),tr.pure.u64(at.toFixed(0))];tr.moveCall({target:`${jt.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:sr,typeArguments:ir});let ur=(fr=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:tr,sender:Ut.address})).events)==null?void 0:fr.filter(dr=>extractStructTagFromType$1(dr.type).name==="CalculatedSwapResultEvent");return ur.length===0?null:ur[0].parsedJson.data}async getVault(s,et=!1){let nt=this.readPoolFromCache(s,et);if(nt)return nt;try{let at=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),mt=q$1.buildPool(at);if(mt)return mt.stake_protocol=this.findStakeProtocol(mt.position.coinTypeA,mt.position.coinTypeB),this.savePoolToCache(mt),mt}catch(at){console.log(at)}}async getVaultsConfigs(s=!1){let{package_id:et}=this._sdk.sdkOptions.vaults,nt=`${et}_getMirrorPoolConfigs`,at=this.getCache(nt,s);if(at!==void 0)return at;let mt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::vaults::InitEvent`})).data,wt={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(mt.length>0){for(let $t of mt){let Ct=$t.parsedJson;wt.admin_cap_id=Ct.admin_cap_id,wt.vaults_manager_id=Ct.manager_id;let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:wt.vaults_manager_id,options:{showContent:!0}}),Ft=getObjectFields(Dt);wt.vaults_pool_handle=Ft.vault_to_pool_maps.fields.id.id;break}this.updateCache(nt,wt,cacheTime24h)}return wt}async getExchangeRateForStake(s,et,nt){return s==="Haedal"?await Ee$1.getExchangeRateForStake(this._sdk,et,nt):s==="Volo"?await $e$1.getExchangeRateForStake(this._sdk,et,nt):s==="aftermath"?await Ue.getExchangeRateForStake(this._sdk,et,nt):"0"}requestStakeCoin(s,et,nt){if(s==="Haedal")return Ee$1.requestStakeCoin(this._sdk,et,nt);if(s==="Volo")return $e$1.requestStakeCoin(this._sdk,et,nt);if(s==="aftermath")return Ue.requestStakeCoin(this._sdk,et,nt)}async requestStake(s,et,nt){if(s==="Haedal")return await Ee$1.requestStake(this._sdk,et,nt);if(s==="Volo")return await $e$1.requestStake(this._sdk,et,nt);if(s==="aftermath")return await Ue.requestStake(this._sdk,et,nt)}updateCache(s,et,nt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[s]}},Mt=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getLimitOrderTokenList(){let{limit_order:a}=this._sdk.sdkOptions,{token_list_handle:s}=getPackagerConfigs(a),{fullClient:et}=this._sdk.ClmmSDK,nt=(await et.getDynamicFieldsByPage(s)).data.map(at=>at.objectId);return(await et.batchGetObjects(nt,{showContent:!0})).map(at=>{let{fields:mt}=at.data.content;return{coin_type:extractStructTagFromType$1(mt.name.fields.name).full_address,min_trade_amount:Number(mt.value)}})}async getLimitOrderPoolList(){let{limit_order:a}=this._sdk.sdkOptions,{rate_orders_indexer_handle:s}=getPackagerConfigs(a),{fullClient:et}=this._sdk.ClmmSDK,nt=(await et.getDynamicFieldsByPage(s)).data.map(at=>at.objectId);return(await et.batchGetObjects(nt,{showContent:!0})).map(at=>{let{fields:mt}=at.data.content.fields.value,wt={pay_coin_type:extractStructTagFromType$1(mt.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(mt.target_coin.fields.name).full_address,indexer_id:mt.indexer_id,indexer_key:mt.indexer_key};return this._sdk.updateCache(`${wt.pay_coin_type}_${wt.target_coin_type}`,wt.indexer_id),wt})}async getLimitOrderPool(a,s){let{limit_order:et}=this._sdk.sdkOptions,{rate_orders_indexer_handle:nt}=getPackagerConfigs(et),{fullClient:at}=this._sdk.ClmmSDK;try{let mt=await at.getDynamicFieldObject({parentId:nt,name:{type:"0x2::object::ID",value:this.buildPoolKey(fixCoinType(a,!0),fixCoinType(s,!0))}}),{fields:wt}=getObjectFields(mt).value,$t={pay_coin_type:extractStructTagFromType$1(wt.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(wt.target_coin.fields.name).full_address,indexer_id:wt.indexer_id,indexer_key:wt.indexer_key};return this._sdk.updateCache(`${$t.pay_coin_type}_${$t.target_coin_type}`,$t.indexer_id),$t}catch(mt){console.log("🚀🚀🚀 ~ file: LimitOrderModule.ts:122 ~ LimitOrderModule ~ getLimitOrderPool ~ error:",mt)}}async getPoolIndexerId(a,s){let et=this._sdk.getCache(`${a}_${s}`);try{if(et===void 0){let nt=await this.getLimitOrderPool(a,s);if(nt)return nt.indexer_id}}catch{}return et}async getOwnerLimitOrderList(a,s){let{fullClient:et}=this._sdk.ClmmSDK,nt={data:[],hasNextPage:!1};try{let at=await this.getUserIndexerHandle(a);if(!at)return nt;let mt=await et.getDynamicFieldsByPage(at,s);nt.hasNextPage=mt.hasNextPage,nt.nextCursor=mt.nextCursor;let wt=mt.data.map(Ct=>Ct.name.value),$t=(await et.batchGetObjects(wt,{showContent:!0})).map(Ct=>ke$1.buildLimitOrderInfo(Ct)).filter(Ct=>Ct!==void 0);nt.data=$t}catch(at){console.log("Error in getOwnerLimitOrderList:",at)}return nt}async getLimitOrderConfigs(){let{package_id:a}=this._sdk.sdkOptions.limit_order,s={rate_orders_indexer_id:"",rate_orders_indexer_handle:"",global_config_id:"",token_list_handle:"",user_orders_indexer_id:"",user_orders_indexer_handle:""},et=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::limit_order::InitEvent`})).data;if(et.length>0){let at=et[0].parsedJson;s.rate_orders_indexer_id=at.rate_orders_indexer_id,s.user_orders_indexer_id=at.user_orders_indexer_id;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s.rate_orders_indexer_id,options:{showContent:!0}});s.rate_orders_indexer_handle=getObjectFields(mt).list.fields.id.id;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:s.user_orders_indexer_id,options:{showContent:!0}});s.user_orders_indexer_handle=getObjectFields(wt).indexer.fields.id.id}let nt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitFactoryEvent`})).data;if(nt.length>0){let at=nt[0].parsedJson;s.global_config_id=at.global_config_id;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s.global_config_id,options:{showContent:!0}}),wt=getObjectFields(mt);s.token_list_handle=wt.token_white_list.fields.id.id}return s}async getLimitOrder(a){let{fullClient:s}=this._sdk.ClmmSDK;try{let et=await s.getObject({id:a,options:{showContent:!0}});return ke$1.buildLimitOrderInfo(et)}catch(et){console.log("Error in getLimitOrder:",et);return}}async getLimitOrderLogs(a){let{fullClient:s}=this._sdk.ClmmSDK;try{let et=await s.queryTransactionBlocks({filter:{ChangedObject:a},options:{showEvents:!0}}),nt=[];return et.data.forEach(at=>{nt.push(...ke$1.buildOrderLimitEvent(at,["OrderPlacedEvent","OrderCanceledEvent","FlashLoanEvent"]))}),nt}catch(et){return console.log("Error in getLimitOrderLogs:",et),[]}}async getLimitOrderClaimLogs(a){let{fullClient:s}=this._sdk.ClmmSDK;try{let et=await s.queryTransactionBlocks({filter:{ChangedObject:a},options:{showEvents:!0}}),nt=[];return et.data.forEach(at=>{nt.push(...ke$1.buildOrderLimitEvent(at,["ClaimTargetCoinEvent"]))}),nt}catch(et){return console.log("Error in getLimitOrderLogs:",et),[]}}buildRateOrdersIndexerType(a){let{limit_order:s}=this._sdk.sdkOptions;return composeType$1(`${s.package_id}::limit_order::RateOrdersIndexer`,[a.pay_coin_type,a.target_coin_type])}buildPoolKey(a,s){let et=Buffer$1.from(a,"ascii"),nt=Buffer$1.from(s,"ascii"),at=Buffer$1.concat([et,nt]),mt=blakejs.blake2b(at,void 0,32);return`0x${Buffer$1.from(mt).toString("hex")}`}async placeLimitOrder(a){let{limit_order:s}=this._sdk.sdkOptions,{user_orders_indexer_id:et,global_config_id:nt,rate_orders_indexer_id:at}=getPackagerConfigs(s),mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,a.pay_coin_type),wt=new Transaction,$t=await this.getPoolIndexerId(a.pay_coin_type,a.target_coin_type),Ct=TransactionUtil.buildCoinForAmount(wt,mt,BigInt(a.pay_coin_amount),a.pay_coin_type,!1,!0);return wt.moveCall({target:`${s.published_at}::limit_order::${$t===void 0?"create_indexer_and_place_limit_order":"place_limit_order"}`,typeArguments:[a.pay_coin_type,a.target_coin_type],arguments:[wt.object(nt),$t===void 0?wt.object(at):wt.object($t),wt.object(et),Ct.targetCoin,wt.pure.u128(ke$1.priceToRate(a.price,a.pay_decimal,a.target_decimal)),wt.pure.u64(a.expired_ts),wt.object(CLOCK_ADDRESS$1)]}),wt}async claimTargetCoin(a){let{limit_order:s}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(s),nt=new Transaction;return nt.moveCall({target:`${s.published_at}::limit_order::claim_target_coin`,typeArguments:[a.pay_coin_type,a.target_coin_type],arguments:[nt.object(et),nt.object(a.order_id)]}),nt}async cancelOrdersByOwner(a){let{limit_order:s}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(s),nt=new Transaction,at={};for(let mt=0;mt<a.length;mt++){let wt=a[mt],$t=await this.getPoolIndexerId(wt.pay_coin_type,wt.target_coin_type);if($t===void 0)throw Error("not found indexerId");at[wt.order_id]=$t}return a.forEach(mt=>{nt.moveCall({target:`${s.published_at}::limit_order::cancel_order_by_owner`,typeArguments:[mt.pay_coin_type,mt.target_coin_type],arguments:[nt.object(et),nt.object(at[mt.order_id]),nt.object(mt.order_id),nt.object(CLOCK_ADDRESS$1)]})}),nt}async getUserIndexerHandle(a){let{fullClient:s}=this._sdk.ClmmSDK,{limit_order:et}=this._sdk.sdkOptions,nt=this.getUserIndexerHandleByCache(a);if(nt===void 0){let at=new Transaction;at.moveCall({target:`${et.published_at}::limit_order::get_orders_indexer_by_owner`,typeArguments:[],arguments:[at.pure.address(a),at.object(getPackagerConfigs(et).user_orders_indexer_id)]}),nt=(await s.devInspectTransactionBlock({transactionBlock:at,sender:this._sdk.ClmmSDK.sdkOptions.simulationAccount.address})).events[0].parsedJson.orders_table_id,nt&&this.saveUserIndexerHandleByCache(a,nt)}return nt}getUserIndexerHandleByCache(a){let s=`getUserIndexerHandleByCache_${a}`;return this.getCache(s)}saveUserIndexerHandleByCache(a,s){let et=`getUserIndexerHandleByCache_${a}`;return this.updateCache(et,s)}updateCache(a,s,et=cacheTime24h){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){let et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}},Rt$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getFramsPoolList(s="all"){let{package_id:et}=this._sdk.sdkOptions.frams,nt={data:[],hasNextPage:!1};try{let at=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::pool::CreatePoolEvent`},s),mt=at.data.map(wt=>wt.parsedJson.pool_id);if(nt.hasNextPage=at.hasNextPage,nt.nextCursor=at.nextCursor,mt.length>0){let wt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt,{showType:!0,showContent:!0});for(let $t of wt){let Ct=Ae$1.buildFramsPool($t);Ct&&(Ct.rewarders=await this.getFramsRewarderConfig(Ct.clmm_pool_id,Ct.rewarders.map(Dt=>Dt.reward_coin)),nt.data.push(Ct),this.updateCache(Ct.id,Ct))}}}catch(at){console.log("getFramsPoolList error ",at)}return nt}async getFramsPool(s,et=!1){let nt=this.getCache(s,et);if(nt)return nt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}}),mt=Ae$1.buildFramsPool(at.data);return mt&&(mt.rewarders=await this.getFramsRewarderConfig(mt.clmm_pool_id,mt.rewarders.map(wt=>wt.reward_coin)),this.updateCache(mt.id,mt)),mt}async getFramsRewarderConfig(s,et,nt=!1){let{frams:at}=this._sdk.sdkOptions,mt=[];for(let wt of et){let $t=`getFramsRewarderConfig_${wt}_${s}`,Ct=this.getCache($t,nt);if(Ct)mt.push(Ct);else try{let Dt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(at).rewarder_manager_handle,name:{type:"0x1::type_name::TypeName",value:removeHexPrefix(wt)}}),{fields:Ft}=Dt.data.content.fields.value.fields.value,jt={reward_coin:wt,last_reward_time:Ft.last_reward_time,emission_per_second:Ft.emission_per_second,total_allocate_point:Ft.total_allocate_point,allocate_point:""},Ut=Ft.pools.fields.id.id,tr=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:Ut,name:{type:"0x2::object::ID",value:s}}),{allocate_point:ir}=tr.data.content.fields.value.fields.value.fields;jt.allocate_point=ir,this.updateCache($t,jt),mt.push(jt)}catch(Dt){console.log(Dt)}}return mt}async getOwnedFramsPositionNFTList(s,et=[],nt=!1,at="all"){let{package_id:mt}=this._sdk.sdkOptions.frams,wt={data:[],hasNextPage:!1},$t={},Ct=[],Dt=et.length>0,Ft=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{filter:{StructType:`${mt}::pool::WrappedPositionNFT`},options:{showContent:!0}},at);wt.hasNextPage=Ft.hasNextPage,wt.nextCursor=Ft.nextCursor;for(let jt of Ft.data){let Ut=Ae$1.buildFramsPositionNFT(jt);if(Ut)if(Dt){if(et.includes(Ut.pool_id)){Ct.push(Ut);let tr=$t[Ut.pool_id];tr?tr.push(Ut):tr=[Ut],$t[Ut.pool_id]=tr}}else Ct.push(Ut)}if(nt&&Ct.length>0){let jt=await this.calculateFarmingRewards(Ct.map(Ut=>({pool_id:Ut.pool_id,position_nft_id:Ut.id,clmm_pool_id:Ut.clmm_pool_id})));Dt?($t={},Ct.forEach(Ut=>{jt[Ut.id]&&(Ut.rewards=jt[Ut.id]);let tr=$t[Ut.pool_id];tr?tr.push(Ut):tr=[Ut],$t[Ut.pool_id]=tr})):Ct.forEach(Ut=>{jt[Ut.id]&&(Ut.rewards=jt[Ut.id])})}return Dt?$t:(wt.data=Ct,wt)}async getFramsPositionNFT(s,et=!0){let nt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),at=Ae$1.buildFramsPositionNFT(nt);if(et&&at){let mt=await this.calculateFarmingRewards([{pool_id:at.pool_id,position_nft_id:at.id}]);mt[at.id]&&(at.rewards=mt[at.id])}return at}async calculateFarmingRewards(s){var $t,Ct;let{frams:et}=this._sdk.sdkOptions,nt=new Transaction,{rewarder_manager_id:at,global_config_id:mt}=getPackagerConfigs(et);s.forEach(Dt=>{nt.moveCall({target:`${et.published_at}::router::accumulated_position_rewards`,typeArguments:[],arguments:[nt.object(mt),nt.object(at),nt.object(Dt.pool_id),nt.pure.address(Dt.position_nft_id),nt.object(CLOCK_ADDRESS$1)]})});let wt={};try{let Dt=(Ct=($t=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:this.sdk.ClmmSDK.senderAddress}))==null?void 0:$t.events)==null?void 0:Ct.filter(Ft=>extractStructTagFromType$1(Ft.type).name==="AccumulatedPositionRewardsEvent");if(Dt&&Dt.length>0)for(let Ft=0;Ft<Dt.length;Ft+=1){let{parsedJson:jt}=Dt[Ft],Ut=[];jt.rewards.contents.forEach(tr=>{Ut.push({rewarder_type:extractStructTagFromType$1(tr.key.name).full_address,rewarder_amount:tr.value})}),wt[jt.wrapped_position_id]=Ut}}catch(Dt){console.log(Dt)}return wt}depositPayload(s,et){let{frams:nt}=this.sdk.sdkOptions;et=et||new Transaction;let{global_config_id:at,rewarder_manager_id:mt}=getPackagerConfigs(nt);return et.moveCall({target:`${nt.published_at}::router::deposit`,typeArguments:[],arguments:[et.object(at),et.object(mt),et.object(s.pool_id),et.object(s.clmm_position_id),et.object(CLOCK_ADDRESS$1)]}),et}async withdrawPayload(s,et){let{frams:nt}=this.sdk.sdkOptions,{global_config_id:at,rewarder_manager_id:mt}=getPackagerConfigs(nt);return et=et||new Transaction,et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id},et),et.moveCall({target:`${nt.published_at}::router::withdraw`,typeArguments:[],arguments:[et.object(at),et.object(mt),et.object(s.pool_id),et.object(s.position_nft_id),et.object(CLOCK_ADDRESS$1)]}),et}async batchHarvestPayload(s,et){et=et||new Transaction;for(let nt of s)await this.harvestPayload(nt,et);return et}async batchHarvestAndClmmFeePayload(s,et){if(!checkInvalidSuiAddress$1(this._sdk.ClmmSDK.senderAddress))throw new Error("this config sdk senderAddress is not set right");let nt=new Transaction,at={},mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,null);for(let Dt of et)this.collectClmmFeeInternal(Dt,at,nt,mt),this.collectClmmRewardInternal(Dt,at,nt,mt);let{frams:wt}=this.sdk.sdkOptions,{global_config_id:$t,rewarder_manager_id:Ct}=getPackagerConfigs(wt);for(let Dt of s){let Ft=await this.getFramsPool(Dt.pool_id,!1);if(Ft===void 0)throw Error(`not found ${Dt.pool_id}`);Dt.collect_fee&&this.collectFeeInternal(Dt,at,nt,mt),Dt.clmm_rewarder_types.length>0&&await this.collectRewardInternal(Dt,at,nt,mt),Dt.collect_frams_rewarder&&Ft.rewarders.forEach(jt=>{nt&&nt.moveCall({target:`${wt.published_at}::router::harvest`,typeArguments:[jt.reward_coin],arguments:[nt.object($t),nt.object(Ct),nt.object(Dt.pool_id),nt.object(Dt.position_nft_id),nt.object(CLOCK_ADDRESS$1)]})})}return Object.keys(at).forEach(Dt=>{let Ft=at[Dt],{originalSplitedCoin:jt}=Ft;(Ft.isMintZeroCoin||jt&&(jt==null?void 0:jt.$kind)==="GasCoin")&&TransactionUtil.buildTransferCoin(this._sdk.ClmmSDK,nt,Ft.targetCoin,Dt,this._sdk.ClmmSDK.senderAddress)}),nt}async collectRewardInternal(s,et,nt,at){let mt=[];s.clmm_rewarder_types.forEach(wt=>{let $t=normalizeCoinType$1(wt),Ct=et[wt];Ct===void 0&&(Ct=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),$t,!1),et[$t]=Ct),mt.push(Ct.targetCoin)}),await this.collectClmmRewardNoSendPayload(s,nt)}collectFeeInternal(s,et,nt,at){let{frams:mt}=this.sdk.sdkOptions,{global_config_id:wt}=getPackagerConfigs(mt),{clmm_pool:$t,integrate:Ct}=this.sdk.ClmmSDK.sdkOptions,Dt=getPackagerConfigs($t),Ft=normalizeCoinType$1(s.coinTypeA),jt=normalizeCoinType$1(s.coinTypeB),Ut=et[Ft];Ut===void 0&&(Ut=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),Ft,!1),et[Ft]=Ut);let tr=et[jt];tr===void 0&&(tr=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),jt,!1),et[jt]=tr),nt.moveCall({target:`${Ct.published_at}::stable_farming::collect_fee`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[nt.object(wt),nt.object(Dt.global_config_id),nt.object(s.clmm_pool_id),nt.object(s.position_nft_id),Ut.targetCoin,tr.targetCoin]})}collectClmmRewardInternal(s,et,nt,at){let mt=[];s.rewarder_coin_types.forEach(wt=>{let $t=normalizeCoinType$1(wt),Ct=et[wt];Ct===void 0&&(Ct=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),$t,!1),et[$t]=Ct),mt.push(Ct.targetCoin)}),this._sdk.ClmmSDK.Rewarder.createCollectRewarderNoSendPaylod(s,nt,mt)}collectClmmFeeInternal(s,et,nt,at){if(s.collect_fee){let mt=normalizeCoinType$1(s.coinTypeA),wt=normalizeCoinType$1(s.coinTypeB),$t=et[mt];$t===void 0&&($t=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),mt,!1),et[mt]=$t);let Ct=et[wt];Ct===void 0&&(Ct=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),wt,!1),et[wt]=Ct),this._sdk.ClmmSDK.Position.createCollectFeeNoSendPaylod({pool_id:s.pool_id,pos_id:s.pos_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB},nt,$t.targetCoin,Ct.targetCoin)}}async harvestPayload(s,et){let{frams:nt}=this.sdk.sdkOptions;et=et||new Transaction;let at=await this.getFramsPool(s.pool_id,!1);if(at===void 0)throw Error(`not found ${s.pool_id}`);let{global_config_id:mt,rewarder_manager_id:wt}=getPackagerConfigs(nt);if("collect_fee"in s&&(s.collect_fee||s.clmm_rewarder_types.length>0)){let $t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,$t)}return at.rewarders.forEach($t=>{et&&et.moveCall({target:`${nt.published_at}::router::harvest`,typeArguments:[$t.reward_coin],arguments:[et.object(mt),et.object(wt),et.object(s.pool_id),et.object(s.position_nft_id),et.object(CLOCK_ADDRESS$1)]})}),et}async claimFeeAndClmmReward(s){let et=new Transaction,nt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);return await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,nt),et}async openPositionAddLiquidityStakePaylod(s){let et=new Transaction,{clmm_pool:nt,integrate:at}=this._sdk.ClmmSDK.sdkOptions,mt=getPackagerConfigs(nt),wt=et.moveCall({target:`${nt.published_at}::pool::open_position`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(s.clmm_pool_id),et.pure.u32(Number(asUintN(BigInt(s.tick_lower)).toString())),et.pure.u32(Number(asUintN(BigInt(s.tick_upper)).toString()))]}),$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Ct=TransactionUtil.buildCoinForAmount(et,$t,BigInt(s.amount_a),s.coinTypeA,!1),Dt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(s.amount_b),s.coinTypeB,!1);et.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity_by_fix_coin`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(s.clmm_pool_id),wt,Ct.targetCoin,Dt.targetCoin,et.pure.u64(s.amount_a.toString()),et.pure.u64(s.amount_b.toString()),et.pure.bool(s.fix_amount_a),et.object(CLOCK_ADDRESS$1)]});let{frams:Ft}=this.sdk.sdkOptions,{global_config_id:jt,rewarder_manager_id:Ut}=getPackagerConfigs(Ft);return et.moveCall({target:`${Ft.published_at}::router::deposit`,typeArguments:[],arguments:[et.object(jt),et.object(Ut),et.object(s.pool_id),wt,et.object(CLOCK_ADDRESS$1)]}),et}async addLiquidityPayload(s,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at),$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Ct=TransactionUtil.buildCoinForAmount(et,$t,BigInt(s.amount_limit_a),s.coinTypeA,!1),Dt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(s.amount_limit_b),s.coinTypeB,!1);if(s.collect_rewarder&&(et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id,clmm_pool_id:s.clmm_pool_id},et)),s.collect_fee||s.clmm_rewarder_types.length>0){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,Ft,Ct.remainCoins,Dt.remainCoins)}return et.moveCall({target:`${nt.published_at}::router::add_liquidity`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(mt.rewarder_manager_id),et.object(s.pool_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),Ct.targetCoin,Dt.targetCoin,et.pure.u64(s.amount_limit_a),et.pure.u64(s.amount_limit_b),et.pure.u128(s.delta_liquidity),et.object(CLOCK_ADDRESS$1)]}),et}async addLiquidityFixCoinPayload(s,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at),$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Ct=TransactionUtil.buildCoinForAmount(et,$t,BigInt(s.amount_a),s.coinTypeA,!1),Dt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(s.amount_b),s.coinTypeB,!1);if(s.collect_rewarder&&(et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id,clmm_pool_id:s.clmm_pool_id},et)),s.collect_fee||s.clmm_rewarder_types.length>0){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,Ft,Ct.remainCoins,Dt.remainCoins)}return et.moveCall({target:`${nt.published_at}::router::add_liquidity_fix_coin`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(mt.rewarder_manager_id),et.object(s.pool_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),Ct.targetCoin,Dt.targetCoin,et.pure.u64(s.amount_a.toString()),et.pure.u64(s.amount_b.toString()),et.pure.bool(s.fix_amount_a),et.object(CLOCK_ADDRESS$1)]}),et}async removeLiquidityPayload(s,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at);if(s.collect_rewarder&&(!s.unstake||s.close_position)&&(et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id,clmm_pool_id:s.clmm_pool_id},et)),s.clmm_rewarder_types.length>0){let $t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:!1,clmm_rewarder_types:s.clmm_rewarder_types},et,$t)}if(s.close_position){if(s.clmm_position_id===void 0)throw Error("close_position need clmm_position_id");et.moveCall({target:`${nt.published_at}::router::close_position`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(mt.rewarder_manager_id),et.object(s.pool_id),et.object(wt.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.pure.u64(s.min_amount_a),et.pure.u64(s.min_amount_b),et.object(CLOCK_ADDRESS$1)]})}else et.moveCall({target:`${nt.published_at}::router::remove_liquidity`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(mt.rewarder_manager_id),et.object(s.pool_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.pure.u128(s.delta_liquidity),et.pure.u64(s.min_amount_a),et.pure.u64(s.min_amount_b),et.object(CLOCK_ADDRESS$1)]}),s.unstake&&this.withdrawPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id});return et}async buildCollectRewarderAndFeeParams(s,et,nt,at,mt){at===void 0&&(at=[...nt]),mt===void 0&&(mt=[...nt]);let wt=normalizeCoinType$1(s.coinTypeA),$t=normalizeCoinType$1(s.coinTypeB);s.collectFee&&this.collectFeePayload({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB},et);let Ct=[];return s.clmm_rewarder_types.forEach(Dt=>{switch(normalizeCoinType$1(Dt)){case wt:Ct.push(TransactionUtil.buildCoinForAmount(et,at,BigInt(0),Dt,!1).targetCoin);break;case $t:Ct.push(TransactionUtil.buildCoinForAmount(et,mt,BigInt(0),Dt,!1).targetCoin);break;default:Ct.push(TransactionUtil.buildCoinForAmount(et,nt,BigInt(0),Dt,!1).targetCoin);break}}),this.collectClmmRewardPayload({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,clmm_rewarder_types:s.clmm_rewarder_types,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,reward_coins:Ct},et),et}collectFeePayload(s,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at);return et.moveCall({target:`${nt.published_at}::router::collect_fee`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id)]}),et}async collectClmmRewardPayload(s,et){var Ct;let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=s.reward_coins;if(s.clmm_rewarder_types.length>0&&mt===void 0){mt=[];let Dt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);s.clmm_rewarder_types.forEach(Ft=>{mt.push(TransactionUtil.buildCoinForAmount(et,Dt,BigInt(0),Ft,!1).targetCoin)})}let wt=getPackagerConfigs(nt),$t=getPackagerConfigs(at);return(Ct=s.clmm_rewarder_types)==null||Ct.forEach((Dt,Ft)=>{et&&et.moveCall({target:`${nt.published_at}::router::collect_clmm_reward`,typeArguments:[Dt,s.coinTypeA,s.coinTypeB],arguments:[et.object(wt.global_config_id),et.object($t.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.object($t.global_vault_id),mt[Ft],et.object(CLOCK_ADDRESS$1)]})}),et}async collectClmmRewardNoSendPayload(s,et){var Dt;let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at,integrate:mt}=this.sdk.ClmmSDK.sdkOptions,wt=s.reward_coins;if(s.clmm_rewarder_types.length>0&&wt===void 0){wt=[];let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);s.clmm_rewarder_types.forEach(jt=>{wt.push(TransactionUtil.buildCoinForAmount(et,Ft,BigInt(0),jt,!1).targetCoin)})}let $t=getPackagerConfigs(nt),Ct=getPackagerConfigs(at);return(Dt=s.clmm_rewarder_types)==null||Dt.forEach((Ft,jt)=>{et&&et.moveCall({target:`${mt.published_at}::stable_farming::collect_clmm_reward`,typeArguments:[Ft,s.coinTypeA,s.coinTypeB],arguments:[et.object($t.global_config_id),et.object(Ct.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.object(Ct.global_vault_id),wt[jt],et.object(CLOCK_ADDRESS$1)]})}),et}async getFrarmsConfigs(){let{package_id:s}=this._sdk.sdkOptions.frams,et={global_config_id:"",rewarder_manager_id:"",rewarder_manager_handle:""},nt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::config::InitConfigEvent`})).data;if(nt.length>0){let mt=nt[0].parsedJson;et.global_config_id=mt.global_config_id,et.admin_cap_id=mt.admin_cap_id}let at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::rewarder::InitRewarderManagerEvent`})).data;if(at.length>0){let mt=at[0].parsedJson;et.rewarder_manager_id=mt.id;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:et.rewarder_manager_id,options:{showContent:!0}});et.rewarder_manager_handle=wt.data.content.fields.rewarders.fields.id.id}return et}updateCache(s,et,nt=cacheTime24h){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[s]}},ct=class{static buildDcaOrderList(a){let{parsedJson:s}=a;if(s&&s.order_id)return{created_at:s.created_at,cycle_count:s.cycle_count,cycle_frequency:s.cycle_frequency,in_coin:extractStructTagFromType$1(s.in_coin.name).full_address,in_deposited:s.in_deposited,order_id:s.order_id,out_coin:extractStructTagFromType$1(s.out_coin.name).full_address,per_cycle_in_amount_limit:s.per_cycle_in_amount_limit,per_cycle_max_out_amount:s.per_cycle_max_out_amount,per_cycle_min_out_amount:s.per_cycle_min_out_amount}}static buildDcaGlobalConfig(a){if(a&&a.id.id)return{min_cycle_count:a.min_cycle_count,min_cycle_frequency:a.min_cycle_frequency,whitelist_mode:a.whitelist_mode}}static buildOrderHistoryList(a,s){let{events:et}=a,nt=[];return et&&et.forEach(at=>{let mt=extractStructTagFromType$1(at.type).name;if(s.includes(mt)){let wt={digest:a.digest,type:mt,timestampMs:a.timestampMs,parsedJson:at.parsedJson};nt.push(wt)}}),nt}},Bt$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async dcaOpenOrderPayload(s){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt,indexer_id:at}=getPackagerConfigs(et),mt=new Transaction,wt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,s.in_coin_type),$t=TransactionUtil.buildCoinForAmount(mt,wt,BigInt(s.in_coin_amount),s.in_coin_type,!1,!0);return mt.moveCall({target:`${et.published_at}::order::open_order`,typeArguments:[s.in_coin_type,s.out_coin_type],arguments:[mt.object(nt),$t.targetCoin,mt.pure.u64(s.cycle_frequency),mt.pure.u64(s.cycle_count),mt.pure.u64(s.per_cycle_min_out_amount),mt.pure.u64(s.per_cycle_max_out_amount),mt.pure.u64(s.per_cycle_in_amount_limit),mt.pure.u64(s.fee_rate),mt.pure.u64(s.timestamp),mt.pure.string(s.signature),mt.object(CLOCK_ADDRESS$1),mt.object(at)]}),mt}dcaCloseOrderPayload(s){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt,indexer_id:at}=getPackagerConfigs(et),mt=new Transaction;return s.forEach(wt=>{let $t=mt.moveCall({target:`${et.published_at}::order::cancle_order`,typeArguments:[wt.in_coin_type,wt.out_coin_type],arguments:[mt.object(nt),mt.object(wt.order_id),mt.object(at),mt.object(CLOCK_ADDRESS$1)]});mt.transferObjects([$t[0],$t[1]],mt.pure.address(this._sdk.getVerifySenderAddress()))}),mt}async getDcaOrders(s){let et={data:[],hasNextPage:!1},{dca:nt}=this._sdk.sdkOptions,{user_indexer_id:at}=getPackagerConfigs(nt);try{let mt,wt=this.getCache(`${s}_dca_table_id`);if(wt)mt=wt;else{let Ut=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:at,name:{type:"address",value:s}});mt=getObjectFields(Ut).value.fields.id.id,this.updateCache(`${s}_dca_table_id`,mt)}let $t=null,Ct=50,Dt=[];for(;;){let Ut=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:mt,cursor:$t,limit:Ct});if(Ut.data.forEach(tr=>{Dt.push(tr.name.value)}),$t=Ut.nextCursor,$t===null||Ut.data.length<Ct)break}let Ft=[],jt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(Dt,{showType:!0,showContent:!0});for(let Ut=0;Ut<jt.length;Ut++){let tr=jt[Ut],ir=extractStructTagFromType$1(tr.data.type),sr=ir.type_arguments[0],ur=ir.type_arguments[1];Ft.push({in_coin_type:sr,out_coin_type:ur,...tr.data.content.fields,id:tr.data.content.fields.id.id,version:tr.data.version})}return et.data=Ft,et}catch{return et}}async withdraw(s){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt}=getPackagerConfigs(et),at=new Transaction,mt=at.moveCall({target:`${et.published_at}::order::withdraw`,typeArguments:[s.in_coin_type,s.out_coin_type],arguments:[at.object(nt),at.object(s.order_id),at.object(CLOCK_ADDRESS$1)]});return at.transferObjects([mt[0]],at.pure.address(this._sdk.getVerifySenderAddress())),at}async withdrawAll(s){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt}=getPackagerConfigs(et),at=new Transaction;for(let mt=0;mt<s.length;mt++){let wt=at.moveCall({target:`${et.published_at}::order::withdraw`,typeArguments:[s[mt].in_coin_type,s[mt].out_coin_type],arguments:[at.object(nt),at.object(s[mt].order_id),at.object(CLOCK_ADDRESS$1)]});at.transferObjects([wt[0]],at.pure.address(this._sdk.getVerifySenderAddress()))}return at}async getDcaOrdersMakeDeal(s){let et=this.getCache(`${s}_tx`),nt=[],at=null,mt=50;for(;;){let Ct=await this._sdk.ClmmSDK.fullClient.queryTransactionBlocks({filter:{ChangedObject:s},limit:mt});if(Ct.data.forEach(Dt=>{nt.push(Dt.digest)}),at=Ct.nextCursor,at===null||Ct.data.length<mt)break}if(this.updateCache(`${s}_tx`,nt),et&&et.length===nt.length)return this.getCache(`${s}_history_list`);let wt=await this._sdk.ClmmSDK.fullClient.multiGetTransactionBlocks({digests:nt,options:{showInput:!0,showEffects:!0,showEvents:!0}}),$t=[];return wt.forEach(Ct=>{$t.push(...ct.buildOrderHistoryList(Ct,["MakeDealEvent"]))}),this.updateCache(`${s}_history_list`,$t),$t}async getDcaCoinWhiteList(s){let{in_coin_whitelist_id:et,out_coin_whitelist_id:nt}=getPackagerConfigs(this._sdk.sdkOptions.dca),at=[],mt=[];if(s===1||s===3){let wt=null,$t=50;for(;;){let Ct=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:et,cursor:wt,limit:$t});if(Ct.data.forEach(Dt=>{at.push(extractStructTagFromType$1(Dt.name.value.name).full_address)}),wt=Ct.nextCursor,wt===null||Ct.data.length<$t)break}}if(s===2||s===3){let wt=null,$t=50;for(;;){let Ct=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:nt,cursor:wt,limit:$t});if(Ct.data.forEach(Dt=>{mt.push(extractStructTagFromType$1(Dt.name.value.name).full_address)}),wt=Ct.nextCursor,wt===null||Ct.data.length<$t)break}}return{inCoinList:at,outCoinList:mt}}async getDcaGlobalConfig(){let{global_config_id:s}=getPackagerConfigs(this._sdk.sdkOptions.dca),et=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});return ct.buildDcaGlobalConfig(et.data.content.fields)}async getDcaConfigs(){var mt;let{package_id:s}=this._sdk.sdkOptions.dca,et={admin_cap_id:"",global_config_id:"",indexer_id:"",user_indexer_id:"",in_coin_whitelist_id:"",out_coin_whitelist_id:""},nt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::config::InitEvent`})).data,at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::order::InitEvent`})).data;if(nt&&nt.length>0){let{parsedJson:wt}=nt[0];et.admin_cap_id=wt.admin_cap_id,et.global_config_id=wt.global_config_id}if(at&&at.length>0){let{parsedJson:wt}=at[0];et.indexer_id=wt.indexer_id;let $t=await this._sdk.ClmmSDK.fullClient.getObject({id:wt.indexer_id,options:{showType:!0,showContent:!0}});et.user_indexer_id=(mt=$t.data)==null?void 0:mt.content.fields.user_orders.fields.id.id}if(et.global_config_id){let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:et.global_config_id,options:{showType:!0,showContent:!0}});et.in_coin_whitelist_id=wt.data.content.fields.in_coin_whitelist.fields.id.id,et.out_coin_whitelist_id=wt.data.content.fields.out_coin_whitelist.fields.id.id}return et}updateCache(s,et,nt=cacheTime24h){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[s]}},Et=class{constructor(a,s){Yn(this,"_cache",{});Yn(this,"_sdkOptions");Yn(this,"_launchpad");Yn(this,"_ido");Yn(this,"_xcetusModule");Yn(this,"_xtokenModule");Yn(this,"_boosterModule");Yn(this,"_makerModule");Yn(this,"_clmmSDK");Yn(this,"_liquidityStrategy");Yn(this,"_vaults");Yn(this,"_limitOrder");Yn(this,"_farmsModule");Yn(this,"_dcaModule");this._sdkOptions=a,this._clmmSDK=s,this._launchpad=new _t$1(this),this._ido=new St$1(this),this._xcetusModule=new yt$1(this),this._xtokenModule=new It$1(this),this._boosterModule=new ut(this),this._makerModule=new gt$1(this),this._vaults=new xt$2(this),this._limitOrder=new Mt(this),this._farmsModule=new Rt$1(this),this._dcaModule=new Bt$1(this),this._liquidityStrategy=new Ot$1(this),patchFixSuiObjectId(this._sdkOptions)}get ClmmSDK(){return this._clmmSDK}get sdkOptions(){return this._sdkOptions}get Launchpad(){return this._launchpad}get Ido(){return this._ido}get XToken(){return this._xtokenModule}get XCetusModule(){return this._xcetusModule}get BoosterModule(){return this._boosterModule}get MakerModule(){return this._makerModule}get LiquidityStrategy(){return this._liquidityStrategy}get Vaults(){return this._vaults}get LimitOrder(){return this._limitOrder}get Farms(){return this._farmsModule}get Dca(){return this._dcaModule}getVerifySenderAddress(){let{senderAddress:a}=this.ClmmSDK;if(a.length===0||!isValidSuiAddress(a))throw Error("this clmm config sdk senderAddess is illegal");return a}updateCache(a,s,et=cacheTime24h){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){let et=this._cache[a];if(!s&&(et!=null&&et.isValid()))return et.value;delete this._cache[a]}},m_=Et,b="router",D="router",O=24*3600,I$1=1e3,k=1e11,_={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},m=class{static buildVeNFTDividendInfo(a){let s={id:a.id.id,ve_nft_id:a.name,rewards:[]};return a.value.fields.value.fields.dividends.fields.contents.forEach(et=>{let nt=[];et.fields.value.fields.contents.forEach(at=>{let mt=at.fields.value;d$2(mt).gt(0)&&nt.push({coin_type:extractStructTagFromType$1(at.fields.key.fields.name).source_address,amount:mt})}),nt.length>0&&s.rewards.push({period:Number(et.fields.key),rewards:nt,vesrion:"v1"})}),s}static buildDividendManager(a){let s={id:a.id.id,dividends:{id:a.dividends.fields.id.id,size:a.dividends.fields.size},venft_dividends:{id:a.venft_dividends.fields.id.id,size:a.venft_dividends.fields.size},bonus_types:[],start_time:Number(a.start_time),interval_day:Number(a.interval_day),balances:{id:a.balances.fields.id.id,size:a.balances.fields.size},is_open:a.is_open};return a.bonus_types.forEach(et=>{s.bonus_types.push(extractStructTagFromType$1(et.fields.name).source_address)}),s}static buildLockUpManager(a){return{id:a.id.id,balance:a.balance,treasury_manager:a.treasury_manager,extra_treasury:a.extra_treasury,lock_infos:{lock_handle_id:a.lock_infos.fields.id.id,size:Number(a.lock_infos.fields.size)},type_name:normalizeCoinType$1(a.type_name.fields.name),min_lock_day:Number(a.min_lock_day),max_lock_day:Number(a.max_lock_day),package_version:Number(a.package_version),max_percent_numerator:Number(a.max_percent_numerator),min_percent_numerator:Number(a.min_percent_numerator)}}static buildLockCetus(a){let s=a.fields,et={id:s.id.id,type:extractStructTagFromType$1(a.type).source_address,locked_start_time:Number(s.locked_start_time),locked_until_time:Number(s.locked_until_time),cetus_amount:s.balance,xcetus_amount:"0",lock_day:0};return et.lock_day=(et.locked_until_time-et.locked_start_time)/O,et}static getAvailableXCetus(a,s){let et=d$2(0);return s.forEach(nt=>{et=et.add(nt.xcetus_amount)}),d$2(a.xcetus_balance).sub(et).toString()}static getWaitUnLockCetuss(a){return a.filter(s=>!m.isLocked(s))}static getLockingCetuss(a){return a.filter(s=>m.isLocked(s))}static isLocked(a){return a.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(a,s){let et=new Set;return a==null||a.forEach(nt=>{nt.rewards.forEach(at=>{et.add(at.coin_type)})}),s==null||s.forEach(nt=>{nt.rewards.forEach(at=>{et.add(at.coin_type)})}),Array.from(et)}static buildDividendRewardTypeListV2(a){let s={};return a==null||a.forEach(et=>{et.vesrion==="v2"&&et.rewards.forEach(nt=>{s[nt.coin_type]||(s[nt.coin_type]=[]),s[nt.coin_type].push(et.period)})}),s}static getNextStartTime(a){let s=Date.now()/1e3,{start_time:et,interval_day:nt}=a,at=Math.ceil((s-et)/(nt*O));return et+at*nt*O}},w$1=class{constructor(s){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getOwnerVeNFT(s,et=!0){let{xcetus:nt}=this.sdk.sdkOptions,at=`${s}_getLockUpManagerEvent`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let wt,$t=`${nt.package_id}::xcetus::VeNFT`;return(await this._sdk.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:$t}})).data.forEach(Ct=>{let Dt=extractStructTagFromType$1(getMoveObjectType(Ct)).source_address;if(Dt===$t&&Ct.data&&Ct.data.content){let{fields:Ft}=Ct.data.content;wt={...buildNFT(Ct),id:Ft.id.id,index:Ft.index,type:Dt,xcetus_balance:Ft.xcetus_balance},this.updateCache(at,wt,cacheTime24h)}}),wt}async getOwnerRedeemLockList(s){let{xcetus:et}=this.sdk.sdkOptions,nt=[],at=`${et.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,mt=await this._sdk.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0},filter:{StructType:at}});for(let wt of mt.data)if(extractStructTagFromType$1(getMoveObjectType(wt)).source_address===at&&wt.data){let $t=m.buildLockCetus(wt.data.content);$t.xcetus_amount=await this.getXCetusAmount($t.id),nt.push($t)}return nt}async getLockCetus(s){var nt;let et=await this._sdk.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});if((nt=et.data)!=null&&nt.content){let at=m.buildLockCetus(et.data.content);return at.xcetus_amount=await this.getXCetusAmount(at.id),at}}async getOwnerCetusCoins(s){return await this._sdk.getOwnerCoinAssets(s,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${b}::mint_venft`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).xcetus_manager_id)]}),et}convertPayload(s,et){let{xcetus:nt}=this.sdk.sdkOptions;et=et||new Transaction;let at=this.buileCetusCoinType();if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");et.setSender(this._sdk.senderAddress);let mt=TransactionUtil.buildCoinWithBalance(BigInt(s.amount),at);return s.venft_id===void 0?et.moveCall({target:`${nt.published_at}::${b}::mint_and_convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xcetus_manager_id),et.makeMoveVec({elements:[mt]}),et.pure.u64(s.amount)]}):et.moveCall({target:`${nt.published_at}::${b}::convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xcetus_manager_id),et.makeMoveVec({elements:[mt]}),et.pure.u64(s.amount),et.object(s.venft_id)]}),et}redeemLockPayload(s){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${b}::redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(s.venft_id),nt.pure.u64(s.amount),nt.pure.u64(s.lock_day),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemPayload(s){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${b}::redeem`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(s.venft_id),nt.object(s.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemDividendPayload(s,et){let{xcetus:nt,xcetus_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.forEach(wt=>{mt.moveCall({target:`${nt.published_at}::${D}::redeem`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(s)]})}),mt}redeemDividendV2Payload(s,et,nt){let{xcetus_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.filter(wt=>nt.includes(wt)).length>0&&(mt=this.redeemDividendXTokenPayload(s,mt)),et.forEach(wt=>{nt.includes(wt)||mt.moveCall({target:`${at.published_at}::${D}::redeem_v2`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(s),mt.object(CLOCK_ADDRESS$1)]})}),mt}redeemDividendV3Payload(s,et){let{xcetus_dividends:nt}=this.sdk.sdkOptions,at=new Transaction,mt=m.buildDividendRewardTypeList(et),wt=m.buildDividendRewardTypeListV2(et),$t=extractStructTagFromType$1(this.buileXTokenCoinType()).full_address;return mt.find(Ct=>extractStructTagFromType$1(Ct).full_address===$t)!==void 0&&this.redeemDividendXTokenPayload(s,at),mt.forEach(Ct=>{at.moveCall({target:`${nt.published_at}::${D}::redeem_v3`,typeArguments:[Ct],arguments:[at.object(getPackagerConfigs(nt).dividend_manager_id),at.object(getPackagerConfigs(nt).venft_dividends_id),at.makeMoveVec({elements:wt[Ct].map(Dt=>at.pure.u64(Dt)),type:"u64"}),at.object(s),at.object(CLOCK_ADDRESS$1)]})}),at}redeemDividendXTokenPayload(s,et){let{xcetus_dividends:nt,xcetus:at}=this.sdk.sdkOptions,{xcetus_manager_id:mt,lock_manager_id:wt}=getPackagerConfigs(at),{dividend_manager_id:$t}=getPackagerConfigs(nt);return et=et===void 0?new Transaction:et,et.moveCall({target:`${nt.published_at}::${D}::redeem_xtoken`,typeArguments:[],arguments:[et.object(wt),et.object(mt),et.object($t),et.object(s),et.object(CLOCK_ADDRESS$1)]}),et}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(s=this._sdk.sdkOptions.xcetus.package_id,et="xcetus",nt="XCETUS"){return`${s}::${et}::${nt}`}cancelRedeemPayload(s){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${b}::cancel_redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(s.venft_id),nt.object(s.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}async getInitConfigs(){var $t,Ct;let{package_id:s}=this.sdk.sdkOptions.xcetus,et=`${s}_getInitFactoryEvent`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=($t=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::xcetus::InitEvent`}))==null?void 0:$t.data,mt={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};at.length>0&&at.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.xcetus_manager_id=Ft.xcetus_manager)});let wt=(Ct=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::locking::InitializeEvent`}))==null?void 0:Ct.data;return wt.length>0&&wt.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.lock_manager_id=Ft.lock_manager)}),mt.lock_manager_id.length>0&&(mt.lock_handle_id=(await this.getLockUpManager(mt.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(et,mt,cacheTime24h),mt}async getLockUpManager(s=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,et=!1){let nt=`${s}_getLockUpManager`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this.sdk.fullClient.getObject({id:s,options:{showContent:!0}}),wt=m.buildLockUpManager(getObjectFields(mt));return this.updateCache(nt,wt,cacheTime24h),wt}async getDividendConfigs(){var Ft,jt,Ut;let{package_id:s}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:et,venft_dividends_id:nt}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),at=`${s}_getDividendManagerEvent`,mt=this.getCache(at);if(mt!==void 0)return mt;let wt=(Ft=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::dividend::InitEvent`}))==null?void 0:Ft.data,$t=await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),Ct={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};wt.length>0&&wt.forEach(tr=>{let ir=tr.parsedJson;ir&&(Ct.dividend_manager_id=ir.manager_id,Ct.dividend_admin_id=ir.admin_id,Ct.dividend_settle_id=ir.settle_id,this.updateCache(at,Ct,cacheTime24h))}),$t&&$t.data&&$t.data.content&&(Ct.venft_dividends_id=(Ut=(jt=$t.data.content)==null?void 0:jt.fields)==null?void 0:Ut.value,this.updateCache(at,Ct,cacheTime24h));let Dt=await this._sdk.fullClient.getObject({id:nt,options:{showContent:!0}});return Ct.venft_dividends_id_v2=Dt.data.content.fields.venft_dividends.fields.id.id,Ct}async getDividendManager(s=!1){let{dividend_manager_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),nt=`${et}_getDividendManager`,at=this.getCache(nt,s);if(at!==void 0)return at;let mt=await this._sdk.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t=m.buildDividendManager(wt);return this.updateCache(nt,$t,cacheTime24h),$t}async getXcetusManager(s=!0){let{xcetus_manager_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),nt=`${et}_getXcetusManager`,at=this.getCache(nt,s);if(at)return at;let mt=await this._sdk.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t={id:wt.id.id,index:Number(wt.index),has_venft:{handle:wt.has_venft.fields.id.id,size:wt.has_venft.fields.size},nfts:{handle:wt.nfts.fields.id.id,size:wt.nfts.fields.size},total_locked:wt.total_locked,treasury:wt.treasury.fields.total_supply.fields.value};return this.updateCache(nt,$t),$t}async fetchDividendInfo(s){let{xcetus_dividends:et}=this._sdk.sdkOptions,{dividend_manager_id:nt,venft_dividends_id:at}=getPackagerConfigs(et),mt=new Transaction;mt.moveCall({target:`${et.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[mt.object(nt),mt.object(at),mt.object(s)]});let wt=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:this._sdk.senderAddress}),{contents:$t}=wt.events[0].parsedJson.info,Ct={id:"",ve_nft_id:s,rewards:[]};return $t.forEach(Dt=>{let Ft=[],jt=Dt.key,{contents:Ut}=Dt.value;Ut.forEach(tr=>{d$2(tr.value).gt(0)&&Ft.push({coin_type:extractStructTagFromType$1(tr.key.name).source_address,amount:tr.value})}),Ft.length>0&&Ct.rewards.push({period:Number(jt),rewards:Ft,vesrion:Number(jt)>66?"v2":"v1"})}),Ct}async getVeNFTDividendInfo(s){try{return await this.fetchDividendInfo(s)}catch{return await this.getVeNFTDividendInfoV2(s)}}async getVeNFTDividendInfoV2(s){let{xcetus_dividends:et}=this._sdk.sdkOptions,{venft_dividends_id_v2:nt}=getPackagerConfigs(et),at={id:"",ve_nft_id:s,rewards:[]},mt=[];try{let wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"0x2::object::ID",value:s}}),$t=getObjectFields(wt).value.fields.value.fields.dividends.fields.id.id,Ct=null,Dt=50,Ft=[];for(;;){let jt=await this._sdk.fullClient.getDynamicFields({parentId:$t,cursor:Ct,limit:Dt});if(jt.data.forEach(Ut=>{Ft.push(Ut.objectId)}),Ct=jt.nextCursor,Ct===null||jt.data.length<Dt)break}(await this._sdk.fullClient.batchGetObjects(Ft,{showType:!0,showContent:!0})).forEach(jt=>{mt.push({period:Number(jt.data.content.fields.name),vesrion:"v2",rewards:jt.data.content.fields.value.fields.contents.map(Ut=>({coin_type:extractStructTagFromType$1(Ut.fields.key.fields.name).source_address,amount:Ut.fields.value}))})})}catch(wt){console.log(wt)}return{...at,rewards:[...mt]}}async getVeNFTDividendInfoV1(s){let{xcetus_dividends:et}=this._sdk.sdkOptions,{venft_dividends_id:nt}=getPackagerConfigs(et),at={id:"",ve_nft_id:s,rewards:[]};try{let mt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"0x2::object::ID",value:s}}),wt=getObjectFields(mt);at=m.buildVeNFTDividendInfo(wt)}catch(mt){console.log("🚀 ~ file: xcetusModule.ts:839 ~ XCetusModule ~ error:",mt)}return at}redeemNum(s,et){if(BigInt(s)===BigInt(0))return{amount_out:"0",percent:"0"};let nt=d$2(k).mul(d$2(_.max_lock_day).sub(d$2(et))).mul(d$2(_.max_percent_numerator).sub(d$2(_.min_percent_numerator))).div(d$2(_.max_lock_day).sub(d$2(_.min_lock_day))),at=d$2(k).mul(d$2(_.max_percent_numerator)).sub(nt).div(d$2(I$1)).div(k);return{amount_out:d$2(at).mul(d$2(s)).round().toString(),percent:at.toString()}}reverseRedeemNum(s,et){if(BigInt(s)===BigInt(0))return{amount_out:"0",percent:"0"};let nt=d$2(k).mul(d$2(_.max_lock_day).sub(d$2(et))).mul(d$2(_.max_percent_numerator).sub(d$2(_.min_percent_numerator))).div(d$2(_.max_lock_day).sub(d$2(_.min_lock_day))),at=d$2(k).mul(d$2(_.max_percent_numerator)).sub(nt).div(d$2(I$1)).div(k);return{amount_out:d$2(s).div(at).toFixed(0,Decimal$1.ROUND_UP),percent:at.toString()}}async getXCetusAmount(s){let{lock_handle_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),nt=`${s}_getXCetusAmount`,at=this.getCache(nt);if(at!==void 0)return at;try{let mt=await this.sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:s}}),wt=getObjectFields(mt);if(wt){let{xcetus_amount:$t}=wt.value.fields.value.fields;return this.updateCache(nt,$t,cacheTime24h),$t}}catch{}return"0"}async getVeNftAmount(s,et){try{let nt=await this.sdk.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(nt);if(at){let{lock_amount:mt,xcetus_amount:wt}=at.value.fields.value.fields;return{lock_amount:mt,xcetus_amount:wt}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(s,et=!1){let nt=(await this.getDividendManager()).dividends.id,at=`${nt}_${s}_getPhaseDividendInfo`,mt=this._sdk.getCache(at,et);if(mt)return mt;try{let wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"u64",value:s}}),$t=getObjectFields(wt),Ct=$t.value.fields.value.fields,Dt=Ct.redeemed_num.fields.contents.map(tr=>({name:tr.fields.key.fields.name,value:tr.fields.value})),Ft=Ct.bonus_types.map(tr=>tr.fields.name),jt=Ct.bonus.fields.contents.map(tr=>({name:tr.fields.key.fields.name,value:tr.fields.value})),Ut={id:getObjectId(wt),phase:$t.name,settled_num:Ct.settled_num,register_time:Ct.register_time,redeemed_num:Dt,is_settled:Ct.is_settled,bonus_types:Ft,bonus:jt,phase_end_time:""};return this.updateCache(at,Ut),Ut}catch{}}updateCache(s,et,nt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[s]=at}getCache(s,et=!1){let nt=this._cache[s];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[s]}},S$1=class extends SuiClient{async queryEventsByPage(s,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.queryEvents({query:s,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getOwnedObjectsByPage(s,et,nt="all"){let at=[],mt=!0,wt=nt==="all",$t=wt?null:nt.cursor;do{let Ct=await this.getOwnedObjects({owner:s,...et,cursor:$t,limit:wt?null:nt.limit});Ct.data?(at=[...at,...Ct.data],mt=Ct.hasNextPage,$t=Ct.nextCursor):mt=!1}while(wt&&mt);return{data:at,nextCursor:$t,hasNextPage:mt}}async getDynamicFieldsByPage(s,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.getDynamicFields({parentId:s,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async batchGetObjects(s,et,nt=50){let at=[];try{for(let mt=0;mt<Math.ceil(s.length/nt);mt++){let wt=await this.multiGetObjects({ids:s.slice(mt*nt,nt*(mt+1)),options:et});at=[...at,...wt]}}catch(mt){console.log(mt)}return at}async calculationTxGas(s){let{sender:et}=s.blockData;if(et===void 0)throw Error("sdk sender is empty");let nt=await this.devInspectTransactionBlock({transactionBlock:s,sender:et}),{gasUsed:at}=nt.effects;return Number(at.computationCost)+Number(at.storageCost)-Number(at.storageRebate)}async sendTransaction(s,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:s,options:{showEffects:!0,showEvents:!0}})}catch(nt){console.log("error: ",nt)}}async sendSimulationTransaction(s,et,nt=!0){try{if(nt)return await this.devInspectTransactionBlock({transactionBlock:s,sender:et})}catch(at){console.log("devInspectTransactionBlock error",at)}}},j=class{constructor(a){Yn(this,"_cache",{});Yn(this,"_rpcModule");Yn(this,"_xcetusModule");Yn(this,"_sdkOptions");Yn(this,"_senderAddress","");this._sdkOptions=a,this._rpcModule=new S$1({url:a.fullRpcUrl}),this._xcetusModule=new w$1(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get XCetusModule(){return this._xcetusModule}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(a,s,et=!0){let nt=[],at=null,mt=`${this.sdkOptions.fullRpcUrl}_${a}_${s}_getOwnerCoinAssets`,wt=this.getCache(mt,et);if(wt)return wt;for(;;){let $t=await(s?this.fullClient.getCoins({owner:a,coinType:s,cursor:at}):this.fullClient.getAllCoins({owner:a,cursor:at}));if($t.data.forEach(Ct=>{BigInt(Ct.balance)>0&&nt.push({coinAddress:extractStructTagFromType$1(Ct.coinType).source_address,coinObjectId:Ct.coinObjectId,balance:BigInt(Ct.balance)})}),at=$t.nextCursor,!$t.hasNextPage)break}return this.updateCache(mt,nt,30*1e3),nt}async getOwnerCoinBalances(a,s){let et=[];return s?et=[await this.fullClient.getBalance({owner:a,coinType:s})]:et=[...await this.fullClient.getAllBalances({owner:a})],et}updateCache(a,s,et=cacheTime24h){let nt=this._cache[a];nt?(nt.overdueTime=getFutureTime(et),nt.value=s):nt=new CachedContent(s,getFutureTime(et)),this._cache[a]=nt}getCache(a,s=!1){let et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}},xt$1=j,re;(function(a){a[a.EQUAL=0]="EQUAL",a[a.GREATER=1]="GREATER",a[a.LESS=-1]="LESS"})(re||(re={}));var Gt=function(){function a(s){this.compare=s||a.defaultCompareFunction}return a.defaultCompareFunction=function(s,et){return s===et?re.EQUAL:s<et?re.LESS:re.GREATER},a.prototype.equal=function(s,et){return this.compare(s,et)===re.EQUAL},a.prototype.lessThan=function(s,et){return this.compare(s,et)===re.LESS},a.prototype.greaterThan=function(s,et){return this.compare(s,et)===re.GREATER},a.prototype.lessThanOrEqual=function(s,et){return this.lessThan(s,et)||this.equal(s,et)},a.prototype.greaterThanOrEqual=function(s,et){return this.greaterThan(s,et)||this.equal(s,et)},a.prototype.reverse=function(){var s=this.compare;this.compare=function(et,nt){return s(nt,et)}},a}(),ot=Gt,it=function(){function a(s){this.value=s,this.next=null}return a}(),rt=function(){function a(s){this.value=s,this.next=null,this.prev=null}return a}(),Le=function(a,s){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,nt){et.__proto__=nt}||function(et,nt){for(var at in nt)nt.hasOwnProperty(at)&&(et[at]=nt[at])},Le(a,s)};function fe(a,s){Le(a,s);function et(){this.constructor=a}a.prototype=s===null?Object.create(s):(et.prototype=s.prototype,new et)}function he(a,s){var et={label:0,sent:function(){if(mt[0]&1)throw mt[1];return mt[1]},trys:[],ops:[]},nt,at,mt,wt;return wt={next:$t(0),throw:$t(1),return:$t(2)},typeof Symbol=="function"&&(wt[Symbol.iterator]=function(){return this}),wt;function $t(Dt){return function(Ft){return Ct([Dt,Ft])}}function Ct(Dt){if(nt)throw new TypeError("Generator is already executing.");for(;et;)try{if(nt=1,at&&(mt=Dt[0]&2?at.return:Dt[0]?at.throw||((mt=at.return)&&mt.call(at),0):at.next)&&!(mt=mt.call(at,Dt[1])).done)return mt;switch(at=0,mt&&(Dt=[Dt[0]&2,mt.value]),Dt[0]){case 0:case 1:mt=Dt;break;case 4:return et.label++,{value:Dt[1],done:!1};case 5:et.label++,at=Dt[1],Dt=[0];continue;case 7:Dt=et.ops.pop(),et.trys.pop();continue;default:if(mt=et.trys,!(mt=mt.length>0&&mt[mt.length-1])&&(Dt[0]===6||Dt[0]===2)){et=0;continue}if(Dt[0]===3&&(!mt||Dt[1]>mt[0]&&Dt[1]<mt[3])){et.label=Dt[1];break}if(Dt[0]===6&&et.label<mt[1]){et.label=mt[1],mt=Dt;break}if(mt&&et.label<mt[2]){et.label=mt[2],et.ops.push(Dt);break}mt[2]&&et.ops.pop(),et.trys.pop();continue}Dt=s.call(a,et)}catch(Ft){Dt=[6,Ft],at=0}finally{nt=mt=0}if(Dt[0]&5)throw Dt[1];return{value:Dt[0]?Dt[1]:void 0,done:!0}}}function Kt(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var nt=et.call(a),at,mt=[],wt;try{for(;(s===void 0||s-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function H(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(Kt(arguments[s]));return a}var Xt="obfuse error occur";function ke(a,s){if(!a)throw new Error("[linked-list] "+(s||Xt))}var Wt=-1,st=function(){function a(){for(var s=this,et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];this._head=null,this._tail=null,this._length=0,this.compare=new ot,et.length>0&&et.forEach(function(at){s.append(at)})}return Object.defineProperty(a.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"loopLength",{get:function(){var s=!1,et=1;if(!this._head)return 0;for(var nt=this._head,at=this._head;at.next&&at.next.next;)if(at=at.next.next,nt=nt.next,nt===at){s=!0;break}if(s){for(at=at.next;nt!==at;)et++,at=at.next;return et}else return 0},enumerable:!0,configurable:!0}),a.prototype.getNode=function(s){var et=this._length;ke(et>0&&s>=0&&s<et,"[linked-list] index "+s+" out of scope of list, which length is "+et);for(var nt=this._head,at=0;at<s;)nt=nt.next,at++;return nt},a.prototype.get=function(s){var et=this.getNode(s);return et?et.value:null},a.prototype.find=function(s){var et=s.value,nt=s.callback;if(!this._head)return null;for(var at=this._head;at;){if(nt&&nt(at.value)||et!==void 0&&this.compare.equal(at.value,et))return at;at=at.next}return null},a.prototype.indexOf=function(s){if(!this._head)return Wt;for(var et=this._head,nt=-1;et.next;){if(nt++,this.compare.equal(et.value,s))return nt;et=et.next}return et===this._tail&&this.compare.equal(et.value,s)&&(nt+=1),nt},a.prototype.first=function(s){ke(s>=0,"[linked-list] param 'num' ("+s+") should not less than 0");for(var et=this.iterator(),nt=[],at=Math.min(s,this.length),mt=0;mt<at;mt++){var wt=et.next();nt.push(wt.value)}return nt},a.prototype.toArray=function(){return H(this)},a.prototype.isEmpty=function(){return this._head===null},a.prototype.iterator=function(){var s;return he(this,function(et){switch(et.label){case 0:s=this._head,et.label=1;case 1:return s?[4,s.value]:[3,3];case 2:return et.sent(),s=s.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a}(),le=function(a){fe(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return a.apply(this,H(et))||this}return s.prototype.append=function(et){var nt=new it(et);return this._tail?(this._tail.next=nt,this._tail=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.prepend=function(et){var nt=new it(et);return this._head?(nt.next=this._head,this._head=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,nt.next=null):this._head=this._tail=null,this._length--,et;for(var at=nt;;){if(this.compare.equal(nt.value,et))return nt.next?at.next=nt.next:(this._tail=at,this._tail.next=null),nt.next=null,this._length--,et;if(nt.next)at=nt,nt=nt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et){if(!this._head.next)this._head=null,this._tail=null;else{for(var nt=this._head;nt.next!==et;)nt=nt.next;nt.next=null,this._tail=nt}return this._length--,et.value}},s.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,nt=et,et=at;this._head=nt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s}(st),Jt=function(a){fe(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=a.prototype[et].apply(this,nt);return this.cyclization(),mt},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){ke(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(le);(function(a){fe(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},s.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s})(Jt);var zt=function(a){fe(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return a.apply(this,H(et))||this}return s.prototype.append=function(et){var nt=new rt(et);return this._tail?(this._tail.next=nt,nt.prev=this._tail,this._tail=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.prepend=function(et){var nt=new rt(et);return this._head?(nt.next=this._head,this._head.prev=nt,this._head=nt):this._head=this._tail=nt,this._length++,!0},s.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,this._head.prev=null,nt.next=nt.prev=null):this._head=this._tail=null,this._length--,et;for(;;){if(this.compare.equal(nt.value,et))return nt.next?(nt.prev.next=nt.next,nt.next.prev=nt.prev,nt.next=nt.prev=null):(nt.prev.next=null,this._tail=nt.prev,nt.next=nt.prev=null),this._length--,nt.value;if(nt.next)nt=nt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(et.next.prev=null,this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et)return this._head.next?(et.prev.next=null,this._tail=et.prev,et.next=et.prev=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,et.prev=at,nt=et,et=at;this._head=nt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s}(st),Ht=function(a){fe(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=a.prototype[et].apply(this,nt);return this.cyclization(),mt},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){ke(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(zt);(function(a){fe(s,a);function s(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},s.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s})(Ht);function Zt(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var nt=et.call(a),at,mt=[],wt;try{for(;(s===void 0||s-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function Qt(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(Zt(arguments[s]));return a}(function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.queue=new(le.bind.apply(le,Qt([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.queue.isEmpty()},a.prototype.enqueue=function(s){return this.queue.append(s)},a.prototype.dequeue=function(){var s=this.queue.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.queue.toArray()},a})();function en(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var nt=et.call(a),at,mt=[],wt;try{for(;(s===void 0||s-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function tn(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(en(arguments[s]));return a}(function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.stack=new(le.bind.apply(le,tn([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.stack.isEmpty()},a.prototype.push=function(s){return this.stack.append(s)},a.prototype.pop=function(){var s=this.stack.removeTail();return typeof s<"u"?s:void 0},a.prototype.popBottom=function(){var s=this.stack.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.stack.toArray()},a})();var cn=Object.defineProperty,un=(a,s,et)=>s in a?cn(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,ln=(a,s,et)=>(un(a,s+"",et),et),yt=5*60*1e3,ee=24*60*60*1e3;function oe(a){return Date.parse(new Date().toString())+a}var _e=class{constructor(a,s=0){Yn(this,"overdueTime");Yn(this,"value");this.overdueTime=s,this.value=a}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var V=Decimal$1,R=class extends Error{constructor(s,et){super(s);Yn(this,"message");Yn(this,"errorCode");this.message=s,this.errorCode=et}static isClmmpoolsErrorCode(s,et){return s instanceof R&&s.errorCode===et}},F=new BN(0),ge=new BN(1),Be=new BN(2);Be.pow(new BN(128));var Ke=Be.pow(new BN(64)).sub(ge),fn=Be.pow(new BN(128)).sub(ge),Y=class{static toX64_BN(a){return a.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(a){return a.mul(V.pow(2,64))}static toX64(a){return new BN(a.mul(V.pow(2,64)).floor().toFixed())}static fromX64(a){return new V(a.toString()).mul(V.pow(2,-64))}static fromX64_Decimal(a){return a.mul(V.pow(2,-64))}static fromX64_BN(a){return a.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(a){let s=a.shrn(64);return a.mod(Ke).gt(F)&&(s=s.add(ge)),s}static divRoundUp(a,s){return a.mod(s).eq(F)?a.div(s):a.div(s).add(new BN(1))}static subUnderflowU128(a,s){return a.lt(s)?a.sub(s).add(fn):a.sub(s)}static checkUnsignedSub(a,s){let et=a.sub(s);if(et.isNeg())throw new R("Unsigned integer sub overflow","UnsignedIntegerOverflow");return et}static checkMul(a,s,et){let nt=a.mul(s);if(this.isOverflow(nt,et))throw new R("Multiplication overflow","MultiplicationOverflow");return nt}static checkMulDivFloor(a,s,et,nt){if(et.eq(F))throw new R("Devide by zero","DivideByZero");let at=a.mul(s).div(et);if(this.isOverflow(at,nt))throw new R("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivCeil(a,s,et,nt){if(et.eq(F))throw new R("Devide by zero","DivideByZero");let at=a.mul(s).add(et.sub(ge)).div(et);if(this.isOverflow(at,nt))throw new R("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivRound(a,s,et,nt){if(et.eq(F))throw new R("Devide by zero","DivideByZero");let at=a.mul(s.add(et.shrn(1))).div(et);if(this.isOverflow(at,nt))throw new R("Multiplication div overflow","MulDivOverflow");return at}static checkMulShiftRight(a,s,et,nt){let at=a.mul(s).div(new BN(2).pow(new BN(et)));if(this.isOverflow(at,nt))throw new R("Multiplication shift right overflow","MulShiftRightOverflow");return at}static checkMulShiftRight64RoundUpIf(a,s,et,nt){let at=a.mul(s),mt=nt&&at.and(Ke).gt(F)?at.shrn(64).add(ge):at.shrn(64);if(this.isOverflow(mt,et))throw new R("Multiplication shift right overflow","MulShiftRightOverflow");return mt}static checkMulShiftLeft(a,s,et,nt){let at=a.mul(s).shln(et);if(this.isOverflow(at,nt))throw new R("Multiplication shift left overflow","MulShiftLeftOverflow");return at}static checkDivRoundUpIf(a,s,et){if(s.eq(F))throw new R("Devide by zero","DivideByZero");return et?this.divRoundUp(a,s):a.div(s)}static isOverflow(a,s){return a.gte(Be.pow(new BN(s)))}static sign(a){return a.testn(127)?1:0}static is_neg(a){return this.sign(a)===1}static abs_u128(a){return a.gt(F)?a:this.u128_neg(a.subn(1))}static u128_neg(a){return a.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(a){return this.is_neg(a)?a.abs():this.neg_from(a)}static abs(a){return this.sign(a)===0?a:this.u128_neg(a.sub(new BN(1)))}static neg_from(a){return a.eq(F)?a:this.u128_neg(a).add(new BN(1)).or(new BN(1).shln(127))}},At="79226673515401279992447579055",vt="4295048016",lt=new BN(1e6),G="0x0000000000000000000000000000000000000000000000000000000000000006",dt="pool_script_v2",Pe="router",$e="router_with_partner",ft="utils",Ve="custodian_v2",mn="clob_v2",_n="endpoints_v2";function q(a){if(a.config===void 0)throw new R(`package: ${a.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return a.config}var hn=14,gn="59543866431248",bn="184467440737095516",wn="15793534762490258745";function yn(a,s,et){let nt=a.toTwos(et).shln(s);return nt.imaskn(et+1),nt.fromTwos(et)}function S(a,s,et){let nt=a.toTwos(et).shrn(s);return nt.imaskn(et-s+1),nt.fromTwos(et-s)}function An(a){let s;return a&1?s=new BN("79232123823359799118286999567"):s=new BN("79228162514264337593543950336"),a&2&&(s=S(s.mul(new BN("79236085330515764027303304731")),96,256)),a&4&&(s=S(s.mul(new BN("79244008939048815603706035061")),96,256)),a&8&&(s=S(s.mul(new BN("79259858533276714757314932305")),96,256)),a&16&&(s=S(s.mul(new BN("79291567232598584799939703904")),96,256)),a&32&&(s=S(s.mul(new BN("79355022692464371645785046466")),96,256)),a&64&&(s=S(s.mul(new BN("79482085999252804386437311141")),96,256)),a&128&&(s=S(s.mul(new BN("79736823300114093921829183326")),96,256)),a&256&&(s=S(s.mul(new BN("80248749790819932309965073892")),96,256)),a&512&&(s=S(s.mul(new BN("81282483887344747381513967011")),96,256)),a&1024&&(s=S(s.mul(new BN("83390072131320151908154831281")),96,256)),a&2048&&(s=S(s.mul(new BN("87770609709833776024991924138")),96,256)),a&4096&&(s=S(s.mul(new BN("97234110755111693312479820773")),96,256)),a&8192&&(s=S(s.mul(new BN("119332217159966728226237229890")),96,256)),a&16384&&(s=S(s.mul(new BN("179736315981702064433883588727")),96,256)),a&32768&&(s=S(s.mul(new BN("407748233172238350107850275304")),96,256)),a&65536&&(s=S(s.mul(new BN("2098478828474011932436660412517")),96,256)),a&131072&&(s=S(s.mul(new BN("55581415166113811149459800483533")),96,256)),a&262144&&(s=S(s.mul(new BN("38992368544603139932233054999993551")),96,256)),S(s,32,256)}function vn(a){let s=Math.abs(a),et;return s&1?et=new BN("18445821805675392311"):et=new BN("18446744073709551616"),s&2&&(et=S(et.mul(new BN("18444899583751176498")),64,256)),s&4&&(et=S(et.mul(new BN("18443055278223354162")),64,256)),s&8&&(et=S(et.mul(new BN("18439367220385604838")),64,256)),s&16&&(et=S(et.mul(new BN("18431993317065449817")),64,256)),s&32&&(et=S(et.mul(new BN("18417254355718160513")),64,256)),s&64&&(et=S(et.mul(new BN("18387811781193591352")),64,256)),s&128&&(et=S(et.mul(new BN("18329067761203520168")),64,256)),s&256&&(et=S(et.mul(new BN("18212142134806087854")),64,256)),s&512&&(et=S(et.mul(new BN("17980523815641551639")),64,256)),s&1024&&(et=S(et.mul(new BN("17526086738831147013")),64,256)),s&2048&&(et=S(et.mul(new BN("16651378430235024244")),64,256)),s&4096&&(et=S(et.mul(new BN("15030750278693429944")),64,256)),s&8192&&(et=S(et.mul(new BN("12247334978882834399")),64,256)),s&16384&&(et=S(et.mul(new BN("8131365268884726200")),64,256)),s&32768&&(et=S(et.mul(new BN("3584323654723342297")),64,256)),s&65536&&(et=S(et.mul(new BN("696457651847595233")),64,256)),s&131072&&(et=S(et.mul(new BN("26294789957452057")),64,256)),s&262144&&(et=S(et.mul(new BN("37481735321082")),64,256)),et}var x=class{static priceToSqrtPriceX64(a,s,et){return Y.toX64(a.mul(V.pow(10,et-s)).sqrt())}static sqrtPriceX64ToPrice(a,s,et){return Y.fromX64(a).pow(2).mul(V.pow(10,s-et))}static tickIndexToSqrtPriceX64(a){return a>0?new BN(An(a)):new BN(vn(a))}static sqrtPriceX64ToTickIndex(a){if(a.gt(new BN(At))||a.lt(new BN(vt)))throw new R("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");let s=a.bitLength()-1,et=new BN(s-64),nt=yn(et,32,128),at=new BN("8000000000000000","hex"),mt=0,wt=new BN(0),$t=s>=64?a.shrn(s-63):a.shln(63-s);for(;at.gt(new BN(0))&&mt<hn;){$t=$t.mul($t);let Ut=$t.shrn(127);$t=$t.shrn(63+Ut.toNumber()),wt=wt.add(at.mul(Ut)),at=at.shrn(1),mt+=1}let Ct=wt.shrn(32),Dt=nt.add(Ct).mul(new BN(gn)),Ft=S(Dt.sub(new BN(bn)),64,128).toNumber(),jt=S(Dt.add(new BN(wn)),64,128).toNumber();return Ft===jt?Ft:x.tickIndexToSqrtPriceX64(jt).lte(a)?jt:Ft}static tickIndexToPrice(a,s,et){return x.sqrtPriceX64ToPrice(x.tickIndexToSqrtPriceX64(a),s,et)}static priceToTickIndex(a,s,et){return x.sqrtPriceX64ToTickIndex(x.priceToSqrtPriceX64(a,s,et))}static priceToInitializableTickIndex(a,s,et,nt){return x.getInitializableTickIndex(x.priceToTickIndex(a,s,et),nt)}static getInitializableTickIndex(a,s){return a-a%s}static getNextInitializableTickIndex(a,s){return x.getInitializableTickIndex(a,s)+s}static getPrevInitializableTickIndex(a,s){return x.getInitializableTickIndex(a,s)-s}};new BN(365);new BN(24);new BN(3600);new BN(.5);var ne=class{static getDefaultSqrtPriceLimit(a){return new BN(a?vt:At)}static getDefaultOtherAmountThreshold(a){return a?F:Ke}};function Ie(a,s,et){let nt=BN.min(a,s),at=BN.max(a,s),mt=Y.fromX64_BN(et.mul(at).mul(nt)),wt=at.sub(nt);return!mt.isZero()&&!wt.isZero()?mt.div(wt):new BN(0)}function xe(a,s,et){let nt=BN.min(a,s),at=BN.max(a,s).sub(nt);return at.isZero()?new BN(0):et.shln(64).div(at)}var M$1=class{static updateFeeRate(s,et,nt,at,mt){let wt=Y.checkMulDivCeil(et,new BN(at),lt,64),$t=nt===0?F:Y.checkMulDivFloor(et,new BN(nt),lt,64),Ct=et.mul(wt).mul($t);if(mt?s.feeProtocolCoinA=s.feeProtocolCoinA.add(wt):s.feeProtocolCoinB=s.feeProtocolCoinB.add(wt),Ct.eq(F)||s.liquidity.eq(F))return{refFee:$t,clmm:s};let Dt=Ct.shln(64).div(s.liquidity);return mt?s.feeGrowthGlobalA=s.feeGrowthGlobalA.add(Dt):s.feeGrowthGlobalB=s.feeGrowthGlobalB.add(Dt),{refFee:$t,clmm:s}}static getCoinAmountFromLiquidity(s,et,nt,at,mt){let wt=new V(s.toString()),$t=new V(et.toString()),Ct=new V(nt.toString()),Dt=new V(at.toString()),Ft,jt;return et.lt(nt)?(Ft=Y.toX64_Decimal(wt).mul(Dt.sub(Ct)).div(Ct.mul(Dt)),jt=new V(0)):et.lt(at)?(Ft=Y.toX64_Decimal(wt).mul(Dt.sub($t)).div($t.mul(Dt)),jt=Y.fromX64_Decimal(wt.mul($t.sub(Ct)))):(Ft=new V(0),jt=Y.fromX64_Decimal(wt.mul(Dt.sub(Ct)))),mt?{coinA:new BN(Ft.ceil().toString()),coinB:new BN(jt.ceil().toString())}:{coinA:new BN(Ft.floor().toString()),coinB:new BN(jt.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(s,et,nt,at,mt,wt,$t){let Ct=x.sqrtPriceX64ToTickIndex($t),Dt=x.tickIndexToSqrtPriceX64(s),Ft=x.tickIndexToSqrtPriceX64(et),jt;if(Ct<s){if(!at)throw new R("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");jt=Ie(Dt,Ft,nt)}else if(Ct>et){if(at)throw new R("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");jt=xe(Ft,Dt,nt)}else at?jt=Ie($t,Ft,nt):jt=xe($t,Dt,nt);let Ut=M$1.getCoinAmountFromLiquidity(jt,$t,Dt,Ft,mt),tr=mt?w(Ut.coinA.toString()).mul(1+wt).toString():w(Ut.coinA.toString()).mul(1-wt).toString(),ir=mt?w(Ut.coinB.toString()).mul(1+wt).toString():w(Ut.coinB.toString()).mul(1-wt).toString();return{coinAmountA:Ut.coinA,coinAmountB:Ut.coinB,tokenMaxA:mt?new BN(V.ceil(tr).toString()):new BN(V.floor(tr).toString()),tokenMaxB:mt?new BN(V.ceil(ir).toString()):new BN(V.floor(ir).toString()),liquidityAmount:jt,fix_amount_a:at}}static estimateLiquidityFromcoinAmounts(s,et,nt,at){if(et>nt)throw new R("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");let mt=x.sqrtPriceX64ToTickIndex(s),wt=x.tickIndexToSqrtPriceX64(et),$t=x.tickIndexToSqrtPriceX64(nt);if(mt<et)return Ie(wt,$t,at.coinA);if(mt>=nt)return xe($t,wt,at.coinB);let Ct=Ie(s,$t,at.coinA),Dt=xe(s,wt,at.coinB);return BN.min(Ct,Dt)}static estCoinAmountsFromTotalAmount(s,et,nt,at,mt,wt){let{ratioA:$t,ratioB:Ct}=M$1.calculateDepositRatioFixTokenA(s,et,nt),Dt=w(at).mul($t).div(mt),Ft=w(at).mul(Ct).div(wt);return{amountA:Dt,amountB:Ft}}static calculateDepositRatioFixTokenA(s,et,nt){let at=new BN(1e8),{coinAmountB:mt}=M$1.estLiquidityAndcoinAmountFromOneAmounts(s,et,at,!0,!0,0,nt),wt=x.sqrtPriceX64ToPrice(nt,0,0),$t=w(at.toString()).mul(wt),Ct=$t.add(mt.toString()),Dt=$t.div(Ct),Ft=w(mt.toString()).div(Ct);return{ratioA:Dt,ratioB:Ft}}};function pt(a,...s){let et=Array.isArray(s[s.length-1])?s.pop():[],nt=[a,...s].filter(Boolean).join("::");return et&&et.length&&(nt+=`<${et.join(", ")}>`),nt}function P(a){var s,et;try{let nt=a.replace(/\s/g,""),at=(et=(s=nt.match(/(<.+>)$/))==null?void 0:s[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){nt=nt.slice(0,nt.indexOf("<"));let $t={...P(nt),type_arguments:at.map(Ct=>P(Ct).source_address)};return $t.type_arguments=$t.type_arguments.map(Ct=>I.isSuiCoin(Ct)?Ct:P(Ct).source_address),$t.source_address=pt($t.full_address,$t.type_arguments),$t}let mt=nt.split("::"),wt={full_address:nt,address:nt===we||nt===Pn?"0x2":normalizeSuiObjectId(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return wt.full_address=`${wt.address}::${wt.module}::${wt.name}`,wt.source_address=pt(wt.full_address,wt.type_arguments),wt}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function be(a){return P(a).source_address}function Tn(a){return a.toLowerCase().startsWith("0x")?normalizeSuiObjectId(a):a}function Xe(a){for(let s in a){let et=typeof a[s];if(et==="object")Xe(a[s]);else if(et==="string"){let nt=a[s];nt&&!nt.includes("::")&&(a[s]=Tn(nt))}}}var kn="0x2::coin::Coin",Sn=/^0x2::coin::Coin<(.+)>$/,we="0x2::sui::SUI",Pn="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",I=class{static getCoinTypeArg(a){let s=a.type.match(Sn);return s?s[1]:null}static isSUI(a){let s=I.getCoinTypeArg(a);return s?I.getCoinSymbol(s)==="SUI":!1}static getCoinSymbol(a){return a.substring(a.lastIndexOf(":")+1)}static getBalance(a){return BigInt(a.fields.balance)}static totalBalance(a,s){let et=BigInt(0);return a.forEach(nt=>{s===nt.coinAddress&&(et+=BigInt(nt.balance))}),et}static getID(a){return a.fields.id.id}static getCoinTypeFromArg(a){return`${kn}<${a}>`}static getFaucetCoins(a){let{events:s}=a,et=[];return s==null||s.forEach(nt=>{let{type:at}=nt;if(P(at).name==="InitEvent"){let mt=nt.parsedJson;et.push({transactionModule:nt.transactionModule,suplyID:mt.suplyID,decimals:mt.decimals})}}),et}static getCoinAssets(a,s){let et=[];return s.forEach(nt=>{be(nt.coinAddress)===be(a)&&et.push(nt)}),et}static isSuiCoin(a){return P(a).full_address===we}static selectCoinObjectIdGreaterThanOrEqual(a,s,et=[]){let nt=I.selectCoinAssetGreaterThanOrEqual(a,s,et),at=nt.selectedCoins.map($t=>$t.coinObjectId),mt=nt.remainingCoins,wt=nt.selectedCoins.map($t=>$t.balance.toString());return{objectArray:at,remainCoins:mt,amountArray:wt}}static selectCoinAssetGreaterThanOrEqual(a,s,et=[]){let nt=I.sortByBalance(a.filter(Ct=>!et.includes(Ct.coinObjectId))),at=I.calculateTotalBalance(nt);if(at<s)return{selectedCoins:[],remainingCoins:nt};if(at===s)return{selectedCoins:nt,remainingCoins:[]};let mt=BigInt(0),wt=[],$t=[...nt];for(;mt<at;){let Ct=s-mt,Dt=$t.findIndex(jt=>jt.balance>=Ct);if(Dt!==-1){wt.push($t[Dt]),$t.splice(Dt,1);break}let Ft=$t.pop();Ft.balance>0&&(wt.push(Ft),mt+=Ft.balance)}return{selectedCoins:I.sortByBalance(wt),remainingCoins:I.sortByBalance($t)}}static sortByBalance(a){return a.sort((s,et)=>s.balance<et.balance?-1:s.balance>et.balance?1:0)}static sortByBalanceDes(a){return a.sort((s,et)=>s.balance>et.balance?-1:s.balance<et.balance?0:1)}static calculateTotalBalance(a){return a.reduce((s,et)=>s+et.balance,BigInt(0))}};function In(a,{numerator:s,denominator:et},nt){return nt?a.mul(et.add(s)).div(et):a.mul(et).div(et.add(s))}function w(a){return Decimal$1.isDecimal(a)?a:new Decimal$1(a===void 0?0:a)}function Tt(a){return a.data}function xn(a){if(a.error&&"object_id"in a.error&&"version"in a.error&&"digest"in a.error){let{error:s}=a;return{objectId:s.object_id,version:s.version,digest:s.digest}}}function On(a){if(a.error&&"object_id"in a.error&&!("version"in a.error)&&!("digest"in a.error))return a.error.object_id}function Bn(a){if("reference"in a)return a.reference;let s=Tt(a);return s?{objectId:s.objectId,version:s.version,digest:s.digest}:xn(a)}function _t(a){var s;return"objectId"in a?a.objectId:((s=Bn(a))==null?void 0:s.objectId)??On(a)}function Rn(a){return a.data!==void 0}function qn(a){return a.content!==void 0}function kt(a){let s="data"in a?Tt(a):a;if(!(!s||!qn(s)||s.content.dataType!=="moveObject"))return s.content}function St(a){var s;return(s=kt(a))==null?void 0:s.type}function Pt(a){var et;let s=Rn(a)?a.data:a;return!(s!=null&&s.type)&&"data"in a?((et=s==null?void 0:s.content)==null?void 0:et.dataType)==="package"?"package":St(a):s==null?void 0:s.type}function se(a){var et;let s=(et=kt(a))==null?void 0:et.fields;if(s)return"fields"in s?s.fields:s}function ht(a,s=32){return BigInt.asUintN(s,BigInt(a)).toString()}function ie(a,s=32){return Number(BigInt.asIntN(s,BigInt(a)))}function jn(a,s,et){let nt=P(a).name,at=P(s).name;return`${nt}-${at}[${et}]`}function We(a){let s=St(a),et=P(s),nt=se(a);if(nt==null)throw new R(`Pool id ${_t(a)} not exists.`,"InvalidPoolObject");let at=[];nt.rewarder_manager.fields.rewarders.forEach(wt=>{let{emissions_per_second:$t}=wt.fields,Ct=Y.fromX64(new BN($t)),Dt=Math.floor(Ct.toNumber()*60*60*24);at.push({emissions_per_second:$t,coinAddress:P(wt.fields.reward_coin.fields.name).source_address,growth_global:wt.fields.growth_global,emissionsEveryDay:Dt})});let mt={poolAddress:_t(a),poolType:s,coinTypeA:et.type_arguments[0],coinTypeB:et.type_arguments[1],coinAmountA:nt.coin_a,coinAmountB:nt.coin_b,current_sqrt_price:nt.current_sqrt_price,current_tick_index:ie(BigInt(nt.current_tick_index.fields.bits)),fee_growth_global_a:nt.fee_growth_global_a,fee_growth_global_b:nt.fee_growth_global_b,fee_protocol_coin_a:nt.fee_protocol_coin_a,fee_protocol_coin_b:nt.fee_protocol_coin_b,fee_rate:nt.fee_rate,is_pause:nt.is_pause,liquidity:nt.liquidity,position_manager:{positions_handle:nt.position_manager.fields.positions.fields.id.id,size:nt.position_manager.fields.positions.fields.size},rewarder_infos:at,rewarder_last_updated_time:nt.rewarder_manager.fields.last_updated_time,tickSpacing:nt.tick_spacing,ticks_handle:nt.tick_manager.fields.ticks.fields.id.id,uri:nt.url,index:Number(nt.index),name:""};return mt.name=jn(mt.coinTypeA,mt.coinTypeB,mt.tickSpacing),mt}function Fn(a){let s=I.isSuiCoin(a.coinTypeA),et=I.isSuiCoin(a.coinTypeB);return{isAdjustCoinA:s,isAdjustCoinB:et}}function En(a,s){return Decimal$1.ceil(w(a).div(1+s)).toString()}var v=class{static createCollectRewarderAndFeeParams(a,s,et,nt,at,mt){at===void 0&&(at=[...nt]),mt===void 0&&(mt=[...nt]);let wt=be(et.coinTypeA),$t=be(et.coinTypeB);if(et.collect_fee){let Dt=v.buildCoinForAmount(s,at,BigInt(0),wt,!1);at=Dt.remainCoins;let Ft=v.buildCoinForAmount(s,mt,BigInt(0),$t,!1);mt=Ft.remainCoins,s=a.Position.createCollectFeePaylod({pool_id:et.pool_id,pos_id:et.pos_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},s,Dt.targetCoin,Ft.targetCoin)}let Ct=[];return et.rewarder_coin_types.forEach(Dt=>{switch(be(Dt)){case wt:Ct.push(v.buildCoinForAmount(s,at,BigInt(0),Dt,!1).targetCoin);break;case $t:Ct.push(v.buildCoinForAmount(s,mt,BigInt(0),Dt,!1).targetCoin);break;default:Ct.push(v.buildCoinForAmount(s,nt,BigInt(0),Dt,!1).targetCoin);break}}),s=a.Rewarder.createCollectRewarderPaylod(et,s,Ct),s}static async adjustTransactionForGas(a,s,et,nt){nt.setSender(a.senderAddress);let at=I.selectCoinAssetGreaterThanOrEqual(s,et).selectedCoins;if(at.length===0)throw new R("Insufficient balance","InsufficientBalance");let mt=I.calculateTotalBalance(s);if(mt-et>1e9)return{fixAmount:et};let wt=await a.fullClient.calculationTxGas(nt);if(I.selectCoinAssetGreaterThanOrEqual(s,BigInt(wt),at.map($t=>$t.coinObjectId)).selectedCoins.length===0){let $t=BigInt(wt)+BigInt(500);if(mt-et<$t){if(et-=$t,et<0)throw new R("gas Insufficient balance","InsufficientBalance");let Ct=new Transaction;return{fixAmount:et,newTx:Ct}}}return{fixAmount:et}}static async buildAddLiquidityFixTokenForGas(a,s,et,nt,at,mt,wt){at=await v.buildAddLiquidityFixToken(a,s,et,at,mt,wt);let{isAdjustCoinA:$t}=Fn(et),Ct=$t?et.amount_a:et.amount_b,Dt=await v.adjustTransactionForGas(a,I.getCoinAssets($t?et.coinTypeA:et.coinTypeB,s),BigInt(Ct),at),{fixAmount:Ft}=Dt,{newTx:jt}=Dt;if(jt!=null){let Ut,tr;if($t)et.amount_a=Number(Ft),Ut=v.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeA,s,!1,!0),tr=v.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0);else return et.amount_b=Number(Ft),Ut=v.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),tr=v.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeB,s,!1,!0),et=v.fixAddLiquidityFixTokenParams(et,nt.slippage,nt.curSqrtPrice),at=await v.buildAddLiquidityFixTokenArgs(jt,a,s,et,Ut,tr),at}return at}static async buildAddLiquidityFixToken(a,s,et,nt,at,mt){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");nt=nt||new Transaction;let wt,$t;return at==null||mt==null?(wt=v.buildAddLiquidityFixTokenCoinInput(nt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),$t=v.buildAddLiquidityFixTokenCoinInput(nt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0)):(wt={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},$t={targetCoin:mt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),nt=v.buildAddLiquidityFixTokenArgs(nt,a,s,et,wt,$t),nt}static buildAddLiquidityFixTokenCoinInput(a,s,et,nt,at,mt,wt=!0,$t=!0){return s?v.buildCoinForAmountInterval(a,mt,{amountSecond:BigInt(En(et,nt)),amountFirst:BigInt(et)},at,wt,$t):v.buildCoinForAmount(a,mt,BigInt(et),at,wt,$t)}static fixAddLiquidityFixTokenParams(a,s,et){let nt=a.fix_amount_a?a.amount_a:a.amount_b,at=M$1.estLiquidityAndcoinAmountFromOneAmounts(Number(a.tick_lower),Number(a.tick_upper),new BN(nt),a.fix_amount_a,!0,s,et);return a.amount_a=a.fix_amount_a?a.amount_a:at.tokenMaxA.toNumber(),a.amount_b=a.fix_amount_a?at.tokenMaxB.toNumber():a.amount_b,a}static buildAddLiquidityFixTokenArgs(a,s,et,nt,at,mt){let wt=[nt.coinTypeA,nt.coinTypeB],$t=nt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:Ct,integrate:Dt}=s.sdkOptions;nt.is_open||(a=v.createCollectRewarderAndFeeParams(s,a,nt,et,at.remainCoins,mt.remainCoins));let Ft=q(Ct),jt=nt.is_open?[a.object(Ft.global_config_id),a.object(nt.pool_id),a.pure.u32(Number(ht(BigInt(nt.tick_lower)).toString())),a.pure.u32(Number(ht(BigInt(nt.tick_upper)).toString())),at.targetCoin,mt.targetCoin,a.pure.u64(nt.amount_a),a.pure.u64(nt.amount_b),a.pure.bool(nt.fix_amount_a),a.object(G)]:[a.object(Ft.global_config_id),a.object(nt.pool_id),a.object(nt.pos_id),at.targetCoin,mt.targetCoin,a.pure.u64(nt.amount_a),a.pure.u64(nt.amount_b),a.pure.bool(nt.fix_amount_a),a.object(G)];return a.moveCall({target:`${Dt.published_at}::${dt}::${$t}`,typeArguments:wt,arguments:jt}),a}static async buildSwapTransactionForGas(a,s,et,nt){let at=v.buildSwapTransaction(a,s,et);at.setSender(a.senderAddress);let mt=await v.adjustTransactionForGas(a,I.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:wt,newTx:$t}=mt;if($t!==void 0){$t.setSender(a.senderAddress),s.by_amount_in?s.amount=wt.toString():s.amount_limit=wt.toString(),s=await v.fixSwapParams(a,s,nt);let Ct=v.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA),Dt=v.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB);at=v.buildSwapTransactionArgs($t,s,a.sdkOptions,Ct,Dt)}return at}static buildSwapTransaction(a,s,et){let nt=new Transaction;nt.setSender(a.senderAddress);let at=v.buildCoinForAmount(nt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1),mt=v.buildCoinForAmount(nt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1);return nt=v.buildSwapTransactionArgs(nt,s,a.sdkOptions,at,mt),nt}static buildSwapTransactionArgs(a,s,et,nt,at){let{clmm_pool:mt,integrate:wt}=et,$t=ne.getDefaultSqrtPriceLimit(s.a2b),Ct=[s.coinTypeA,s.coinTypeB],{global_config_id:Dt}=q(mt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");let Ft=s.swap_partner!==void 0,jt=Ft?s.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":s.a2b?"swap_a2b":"swap_b2a",Ut=Ft?[a.object(Dt),a.object(s.pool_id),a.object(s.swap_partner),nt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128($t.toString()),a.object(G)]:[a.object(Dt),a.object(s.pool_id),nt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128($t.toString()),a.object(G)];return a.moveCall({target:`${wt.published_at}::${dt}::${jt}`,typeArguments:Ct,arguments:Ut}),a}static async buildSwapTransactionWithoutTransferCoinsForGas(a,s,et,nt){let{tx:at,coinABs:mt}=v.buildSwapTransactionWithoutTransferCoins(a,s,et);at.setSender(a.senderAddress);let wt=await v.adjustTransactionForGas(a,I.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:$t,newTx:Ct}=wt;if(Ct!==void 0){Ct.setSender(a.senderAddress),s.by_amount_in?s.amount=$t.toString():s.amount_limit=$t.toString(),s=await v.fixSwapParams(a,s,nt);let Dt=v.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),Ft=v.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),jt=v.buildSwapTransactionWithoutTransferCoinArgs(a,Ct,s,a.sdkOptions,Dt,Ft);at=jt.tx,mt=jt.txRes}return{tx:at,coinABs:mt}}static buildSwapTransactionWithoutTransferCoins(a,s,et){let nt=new Transaction;nt.setSender(a.senderAddress);let at=v.buildCoinForAmount(nt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),mt=v.buildCoinForAmount(nt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),wt=v.buildSwapTransactionWithoutTransferCoinArgs(a,nt,s,a.sdkOptions,at,mt);return{tx:wt.tx,coinABs:wt.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(a,s,et,nt,at,mt){let{clmm_pool:wt,integrate:$t}=nt,Ct=ne.getDefaultSqrtPriceLimit(et.a2b),{global_config_id:Dt}=q(wt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");let Ft=et.swap_partner!==void 0,jt=Ft?"swap_with_partner":"swap",Ut=Ft?$e:Pe,tr=Ft?[s.object(Dt),s.object(et.pool_id),s.object(et.swap_partner),at.targetCoin,mt.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(Ct.toString()),s.pure.bool(!1),s.object(G)]:[s.object(Dt),s.object(et.pool_id),at.targetCoin,mt.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(Ct.toString()),s.pure.bool(!1),s.object(G)],ir=[et.coinTypeA,et.coinTypeB],sr=s.moveCall({target:`${$t.published_at}::${Ut}::${jt}`,typeArguments:ir,arguments:tr});if(et.by_amount_in){let ur=et.a2b?et.coinTypeB:et.coinTypeA,fr=et.a2b?sr[1]:sr[0],dr=Number(et.amount_limit);this.checkCoinThreshold(a,et.by_amount_in,s,fr,dr,ur)}return{tx:s,txRes:sr}}static async fixSwapParams(a,s,et){let{currentPool:nt}=et;try{let at=await a.Swap.preswap({decimalsA:et.decimalsA,decimalsB:et.decimalsB,a2b:s.a2b,byAmountIn:s.by_amount_in,amount:s.amount,pool:nt,currentSqrtPrice:nt.current_sqrt_price,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB}),mt=et.byAmountIn?at.estimatedAmountOut:at.estimatedAmountIn,wt=In(mt,et.slippage,!et.byAmountIn);s.amount_limit=wt.toString()}catch(at){console.log("fixSwapParams",at)}return s}static async syncBuildCoinInputForAmount(a,s,et,nt,at=!0,mt=!0){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let wt=await a.getOwnerCoinAssets(a.senderAddress,nt);return v.buildCoinForAmount(s,wt,et,nt,at,mt).targetCoin}static buildCoinForAmount(a,s,et,nt,at=!0,mt=!0){let wt=I.getCoinAssets(nt,s);if(et===BigInt(0))return v.buildZeroValueCoin(s,a,nt,at);let $t=I.calculateTotalBalance(wt);if($t<et)throw new R(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et} `,"InsufficientBalance");return v.buildCoin(a,s,wt,et,nt,at,mt)}static buildVectorCoin(a,s,et,nt,at,mt=!0){if(I.isSuiCoin(at)){let jt=a.splitCoins(a.gas,[a.pure.u64(nt)]);return{targetCoin:a.makeMoveVec({elements:[jt]}),remainCoins:s,tragetCoinAmount:nt.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}let{targetCoin:wt,originalSplitedCoin:$t,tragetCoinAmount:Ct,selectedCoinsResult:Dt,coinObjectIds:Ft}=this.buildSpitTargeCoin(a,nt,et,mt);return mt?{targetCoin:a.makeMoveVec({elements:[wt]}),remainCoins:Dt.remainCoins,originalSplitedCoin:$t,tragetCoinAmount:Ct,isMintZeroCoin:!1}:{targetCoin:a.makeMoveVec({elements:Ft.map(jt=>a.object(jt))}),remainCoins:Dt.remainCoins,tragetCoinAmount:Dt.amountArray.reduce((jt,Ut)=>Number(jt)+Number(Ut),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(a,s,et,nt,at=!0){if(I.isSuiCoin(nt)){if(et===0n&&s.length>1){let Ft=I.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.object(Ft.objectArray[0]),remainCoins:Ft.remainCoins,tragetCoinAmount:Ft.amountArray[0],isMintZeroCoin:!1}}let Dt=I.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.splitCoins(a.gas,[a.pure.u64(et)]),remainCoins:Dt.remainCoins,tragetCoinAmount:et.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}let{targetCoin:mt,originalSplitedCoin:wt,tragetCoinAmount:$t,selectedCoinsResult:Ct}=this.buildSpitTargeCoin(a,et,s,at);return{targetCoin:mt,remainCoins:Ct.remainCoins,originalSplitedCoin:wt,tragetCoinAmount:$t,isMintZeroCoin:!1}}static buildSpitTargeCoin(a,s,et,nt){let at=I.selectCoinObjectIdGreaterThanOrEqual(et,s),mt=at.amountArray.reduce((tr,ir)=>Number(tr)+Number(ir),0).toString(),wt=at.objectArray,[$t,...Ct]=wt,Dt=a.object($t),Ft=Dt,jt=at.amountArray.reduce((tr,ir)=>Number(tr)+Number(ir),0).toString(),Ut;return Ct.length>0&&a.mergeCoins(Dt,Ct.map(tr=>a.object(tr))),nt&&Number(mt)>Number(s)&&(Ft=a.splitCoins(Dt,[a.pure.u64(s)]),Ut=Dt),{originalSplitedCoin:Ut,targetCoin:Ft,tragetCoinAmount:jt,selectedCoinsResult:at,coinObjectIds:wt}}static buildCoin(a,s,et,nt,at,mt=!0,wt=!0){return mt?this.buildVectorCoin(a,s,et,nt,at,wt):this.buildOneCoin(a,et,nt,at,wt)}static buildZeroValueCoin(a,s,et,nt=!0){let at=v.callMintZeroValueCoin(s,et),mt;return nt?mt=s.makeMoveVec({elements:[at]}):mt=at,{targetCoin:mt,remainCoins:a,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(a,s,et,nt,at=!0,mt=!0){let wt=I.getCoinAssets(nt,s);if(et.amountFirst===BigInt(0))return wt.length>0?v.buildCoin(a,[...s],[...wt],et.amountFirst,nt,at,mt):v.buildZeroValueCoin(s,a,nt,at);let $t=I.calculateTotalBalance(wt);if($t>=et.amountFirst)return v.buildCoin(a,[...s],[...wt],et.amountFirst,nt,at,mt);if($t<et.amountSecond)throw new R(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et.amountSecond} `,"InsufficientBalance");return v.buildCoin(a,[...s],[...wt],et.amountSecond,nt,at,mt)}static async buildRouterSwapTransaction(a,s,et,nt,at){let mt=new Transaction;return s.paths.length>1&&(s.partner=""),mt=await this.buildRouterBasePathTx(a,s,et,nt,mt,at),mt}static async buildRouterBasePathTx(a,s,et,nt,at,mt){let wt=s.paths.filter(hr=>hr&&hr.poolAddress),$t=Number(wt.reduce((hr,vr)=>hr.add(vr.amountIn),F).toString()),Ct=Number(wt.reduce((hr,vr)=>hr.add(vr.amountOut),F).toString()),Dt=Math.round(et?Number(Ct.toString())*(1-s.priceSlippagePoint):Number($t.toString())*(1+s.priceSlippagePoint)),Ft=s.paths[0].coinType[0],jt=s.paths[0].coinType[s.paths[0].coinType.length-1],Ut=v.buildCoinForAmount(at,nt,BigInt(et?$t:Dt),Ft,!1,!0),tr=Ut.originalSplitedCoin!==void 0,ir=v.buildCoinForAmount(at,nt,0n,jt,!1),sr=await this.buildRouterBasePathReturnCoins(a,s,et,Ut,ir,at),ur=[],{toCoin:fr,fromCoin:dr}=sr;if(at=sr.tx,ir.isMintZeroCoin?ur.push({coinType:jt,coin:fr}):ir.originalSplitedCoin!==void 0?at.mergeCoins(ir.originalSplitedCoin,[fr]):at.mergeCoins(ir.targetCoin,[fr]),tr){let hr=Ut==null?void 0:Ut.originalSplitedCoin;at.mergeCoins(hr,[dr])}else ur.push({coinType:Ft,coin:dr});for(let hr=0;hr<ur.length;hr++)this.buildTransferCoin(a,at,ur[hr].coin,ur[hr].coinType,mt);return at}static async buildRouterBasePathReturnCoins(a,s,et,nt,at,mt){let{clmm_pool:wt,integrate:$t}=a.sdkOptions,Ct=q(wt).global_config_id,Dt=s.paths.filter(hr=>hr&&hr.poolAddress),Ft=Number(Dt.reduce((hr,vr)=>hr.add(vr.amountIn),F).toString()),jt=Number(Dt.reduce((hr,vr)=>hr.add(vr.amountOut),F).toString()),Ut=Math.round(et?Number(jt.toString())*(1-s.priceSlippagePoint):Number(Ft.toString())*(1+s.priceSlippagePoint)),tr=s.paths[0].coinType[0],ir=s.paths[0].coinType[s.paths[0].coinType.length-1],sr=nt.targetCoin,ur;at.isMintZeroCoin||at.originalSplitedCoin!==void 0?ur=at.targetCoin:ur=v.callMintZeroValueCoin(mt,ir);let fr=s.partner==="",dr=fr?Pe:$e;for(let hr of Dt)if(hr.poolAddress.length===1){let vr=hr.a2b[0],yr={amount:Number(hr.amountIn.toString()),poolCoinA:hr.a2b[0]?tr:ir,poolCoinB:hr.a2b[0]?ir:tr},xr=fr?"swap":"swap_with_partner",br=vr?sr:ur,wr=vr?ur:sr,Sr=et?hr.amountIn.toString():hr.amountOut.toString(),Cr=ne.getDefaultSqrtPriceLimit(vr).toString(),cr=fr?[mt.object(Ct),mt.object(hr.poolAddress[0]),br,wr,mt.pure.bool(vr),mt.pure.bool(et),mt.pure.u64(Sr),mt.pure.u128(Cr),mt.pure.bool(!1),mt.object(G)]:[mt.object(Ct),mt.object(hr.poolAddress[0]),mt.object(s.partner),br,wr,mt.pure.bool(vr),mt.pure.bool(et),mt.pure.u64(Sr),mt.pure.u128(Cr),mt.pure.bool(!1),mt.object(G)],Nt=[yr.poolCoinA,yr.poolCoinB],Vt=mt.moveCall({target:`${a.sdkOptions.integrate.published_at}::${dr}::${xr}`,typeArguments:Nt,arguments:cr});sr=vr?Vt[0]:Vt[1],ur=vr?Vt[1]:Vt[0]}else{let vr=et?hr.amountIn:hr.rawAmountLimit[0],yr=et?0:hr.amountOut,xr="";hr.a2b[0]?hr.a2b[1]?xr="swap_ab_bc":xr="swap_ab_cb":hr.a2b[1]?xr="swap_ba_bc":xr="swap_ba_cb",fr||(xr=`${xr}_with_partner`);let br=ne.getDefaultSqrtPriceLimit(hr.a2b[0]),wr=ne.getDefaultSqrtPriceLimit(hr.a2b[1]),Sr=fr?[mt.object(Ct),mt.object(hr.poolAddress[0]),mt.object(hr.poolAddress[1]),sr,ur,mt.pure.bool(et),mt.pure.u64(vr.toString()),mt.pure.u64(yr.toString()),mt.pure.u128(br.toString()),mt.pure.u128(wr.toString()),mt.object(G)]:[mt.object(Ct),mt.object(hr.poolAddress[0]),mt.object(hr.poolAddress[1]),mt.object(s.partner),sr,ur,mt.pure.bool(et),mt.pure.u64(vr.toString()),mt.pure.u64(yr.toString()),mt.pure.u128(br.toString()),mt.pure.u128(wr.toString()),mt.object(G)],Cr=[hr.coinType[0],hr.coinType[1],hr.coinType[2]],cr=mt.moveCall({target:`${$t.published_at}::${dr}::${xr}`,typeArguments:Cr,arguments:Sr});sr=cr[0],ur=cr[1]}return this.checkCoinThreshold(a,et,mt,ur,Ut,ir),{fromCoin:sr,toCoin:ur,tx:mt}}static async buildAggregatorSwapReturnCoins(a,s,et,nt,at,mt,wt,$t){if($t==null){if(a.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");$t=a.senderAddress}s.splitPaths.length>1&&(at="");let Ct,Dt,Ft=s.splitPaths.some(jt=>jt.basePaths.some(Ut=>Ut.label==="Deepbook"));if((!s.byAmountIn||s.splitPaths.length===1)&&!Ft){let jt=[];for(let ir of s.splitPaths){let sr=[],ur=[],fr=[],dr=[];for(let vr=0;vr<ir.basePaths.length;vr+=1){let yr=ir.basePaths[vr];sr.push(yr.direction),ur.push(yr.poolAddress),fr.push(new BN(yr.inputAmount.toString())),vr===0?dr.push(yr.fromCoin,yr.toCoin):dr.push(yr.toCoin)}let hr={amountIn:new BN(ir.inputAmount.toString()),amountOut:new BN(ir.outputAmount.toString()),poolAddress:ur,a2b:sr,rawAmountLimit:fr,isExceed:!1,coinType:dr};jt.push(hr)}let Ut={paths:jt,partner:at,priceSlippagePoint:mt},tr=await this.buildRouterBasePathReturnCoins(a,Ut,s.byAmountIn,et,nt,wt);Ct=tr.fromCoin,Dt=tr.toCoin,wt=tr.tx}else{let jt=Math.round(s.outputAmount*(1-mt));Ct=et.targetCoin,nt.isMintZeroCoin||nt.originalSplitedCoin!==void 0?Dt=nt.targetCoin:Dt=v.callMintZeroValueCoin(wt,s.toCoin);let Ut=!1,tr;if(Ft){let[ir,sr]=gt.createAccountCap($t,a.sdkOptions,wt);wt=sr,tr=ir,Ut=!0}for(let ir=0;ir<s.splitPaths.length;ir+=1){let sr=s.splitPaths[ir],ur;for(let fr=0;fr<sr.basePaths.length;fr+=1){let dr=sr.basePaths[fr];if(dr.label==="Deepbook")if(fr===0)if(sr.basePaths.length===1){let hr=this.buildDeepbookBasePathTx(a,dr,wt,tr,Ct,Dt,!1);Ct=hr.from,Dt=hr.to}else{ur=v.callMintZeroValueCoin(wt,dr.toCoin);let hr=this.buildDeepbookBasePathTx(a,dr,wt,tr,Ct,ur,!1);Ct=hr.from,ur=hr.to}else{let hr=this.buildDeepbookBasePathTx(a,dr,wt,tr,ur,Dt,!0);ur=hr.from,Dt=hr.to}if(dr.label==="Cetus")if(fr===0)if(sr.basePaths.length===1){let hr=this.buildClmmBasePathTx(a,dr,wt,s.byAmountIn,Ct,Dt,!1,at);Ct=hr.from,Dt=hr.to}else{ur=v.callMintZeroValueCoin(wt,dr.toCoin);let hr=this.buildClmmBasePathTx(a,dr,wt,s.byAmountIn,Ct,ur,!1,at);Ct=hr.from,ur=hr.to}else{let hr=this.buildClmmBasePathTx(a,dr,wt,s.byAmountIn,ur,Dt,!0,at);ur=hr.from,Dt=hr.to,wt.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ft}::send_coin`,typeArguments:[dr.fromCoin],arguments:[ur,wt.pure.address($t)]})}}}this.checkCoinThreshold(a,s.byAmountIn,wt,Dt,jt,s.toCoin),Ut&&(wt=gt.deleteAccountCapByObject(tr,a.sdkOptions,wt))}return{fromCoin:Ct,toCoin:Dt,tx:wt}}static async buildAggregatorSwapTransaction(a,s,et,nt,at,mt){let wt=new Transaction,$t=s.byAmountIn?Math.round(s.outputAmount*(1-at)):Math.round(s.inputAmount*(1+at)),Ct=v.buildCoinForAmount(wt,et,s.byAmountIn?BigInt(s.inputAmount):BigInt($t),s.fromCoin,!1,!0),Dt=Ct.originalSplitedCoin!=null,Ft=v.buildCoinForAmount(wt,et,0n,s.toCoin,!1),jt=await this.buildAggregatorSwapReturnCoins(a,s,Ct,Ft,nt,at,wt,mt),{fromCoin:Ut,toCoin:tr}=jt;wt=jt.tx;let ir=[];if(Ft.isMintZeroCoin?ir.push({coinType:s.toCoin,coin:tr}):Ft.originalSplitedCoin!=null?wt.mergeCoins(Ft.originalSplitedCoin,[tr]):wt.mergeCoins(Ft.targetCoin,[tr]),Dt){let sr=Ct.originalSplitedCoin;wt.mergeCoins(sr,[Ut])}else ir.push({coinType:s.fromCoin,coin:Ut});for(let sr=0;sr<ir.length;sr++)this.buildTransferCoin(a,wt,ir[sr].coin,ir[sr].coinType,mt);return wt}static checkCoinThreshold(a,s,et,nt,at,mt){s&&et.moveCall({target:`${a.sdkOptions.integrate.published_at}::${Pe}::check_coin_threshold`,typeArguments:[mt],arguments:[nt,et.pure.u64(at)]})}static buildDeepbookBasePathTx(a,s,et,nt,at,mt,wt){let $t=s.direction?at:mt,Ct=s.direction?mt:at,Dt=[et.object(s.poolAddress),nt,et.pure.u64(s.inputAmount),et.pure.u64(0),et.pure.bool(s.direction),$t,Ct,et.pure.bool(wt),et.object(G)],Ft=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],jt=et.moveCall({target:`${a.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Ft,arguments:Dt});return at=s.direction?jt[0]:jt[1],mt=s.direction?jt[1]:jt[0],{from:at,to:mt,tx:et}}static buildClmmBasePathTx(a,s,et,nt,at,mt,wt,$t){let{clmm_pool:Ct,integrate:Dt}=a.sdkOptions,Ft=q(Ct).global_config_id,jt=s.direction?at:mt,Ut=s.direction?mt:at,tr=$t==="",ir=tr?Pe:$e,sr=tr?"swap":"swap_with_partner",ur=nt?s.inputAmount.toString():s.outputAmount.toString(),fr=ne.getDefaultSqrtPriceLimit(s.direction),dr=tr?[et.object(Ft),et.object(s.poolAddress),jt,Ut,et.pure.bool(s.direction),et.pure.bool(nt),et.pure.u64(ur),et.pure.u128(fr.toString()),et.pure.bool(wt),et.object(G)]:[et.object(Ft),et.object(s.poolAddress),et.object($t),jt,Ut,et.pure.bool(s.direction),et.pure.bool(nt),et.pure.u64(ur),et.pure.u128(fr.toString()),et.pure.bool(wt),et.object(G)],hr=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],vr=et.moveCall({target:`${Dt.published_at}::${ir}::${sr}`,typeArguments:hr,arguments:dr});return jt=vr[0],Ut=vr[1],at=s.direction?jt:Ut,mt=s.direction?Ut:jt,{from:at,to:mt,tx:et}}static buildCoinTypePair(a,s){let et=[];if(a.length===2){let nt=[];nt.push(a[0],a[1]),et.push(nt)}else{let nt=[];nt.push(a[0],a[a.length-1]),et.push(nt);for(let at=1;at<a.length-1;at+=1){if(s[at-1]===0)continue;let mt=[];mt.push(a[0],a[at],a[a.length-1]),et.push(mt)}}return et}static buildTransferCoinToSender(a,s,et,nt){s.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ft}::transfer_coin_to_sender`,typeArguments:[nt],arguments:[et]})}static buildTransferCoin(a,s,et,nt,at){at!=null?s.transferObjects([et],s.pure.address(at)):v.buildTransferCoinToSender(a,s,et,nt)}},z=v;ln(z,"callMintZeroValueCoin",(a,s)=>a.moveCall({target:"0x2::coin::zero",typeArguments:[s]}));var me=new BN(1e9),gt=class{static createAccountCap(a,s,et,nt=!1){if(a.length===0)throw Error("this config sdk senderAddress is empty");let{deepbook:at}=s,[mt]=et.moveCall({target:`${at.published_at}::${mn}::create_account`,typeArguments:[],arguments:[]});return nt&&et.transferObjects([mt],et.pure.address(a)),[mt,et]}static deleteAccountCap(a,s,et){let{deepbook:nt}=s,at=[et.object(a)];return et.moveCall({target:`${nt.published_at}::${Ve}::delete_account_cap`,typeArguments:[],arguments:at}),et}static deleteAccountCapByObject(a,s,et){let{deepbook:nt}=s,at=[a];return et.moveCall({target:`${nt.published_at}::${Ve}::delete_account_cap`,typeArguments:[],arguments:at}),et}static async getAccountCap(a,s=!0){let et=await a.fullClient.getOwnedObjectsByPage(a.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:s,showOwner:!0},filter:{MoveModule:{package:a.sdkOptions.deepbook.package_id,module:Ve}}});return et.data.length===0?"":et.data[0].data.objectId}static async getPools(a){let s=a.sdkOptions.deepbook.package_id,et=[];try{(await a.fullClient.queryEventsByPage({MoveEventType:`${s}::clob_v2::PoolCreated`})).data.forEach(nt=>{let at=nt.parsedJson;at&&et.push({poolID:at.pool_id,tickSize:Number(at.tick_size),lotSize:Number(at.lot_size),takerFeeRate:Number(at.taker_fee_rate),makerRebateRate:Number(at.maker_rebate_rate),baseAsset:at.base_asset.name,quoteAsset:at.quote_asset.name})})}catch(nt){console.log("getPoolImmutables",nt)}return et}static async getPoolAsks(a,s,et,nt){var jt;let{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:mt}=a.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(s),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(G)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:Dt,typeArguments:Ct});let Ft=(jt=(await a.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:jt.filter(Ut=>P(Ut.type).name==="BookStatus");if(Ft.length===0)return $t;for(let Ut=0;Ut<Ft[0].parsedJson.depths.length;Ut++){let tr=Ft[0].parsedJson.price[Ut],ir=Ft[0].parsedJson.depths[Ut],sr={price:parseInt(tr,10),quantity:parseInt(ir,10)};$t.push(sr)}return $t}static async getPoolBids(a,s,et,nt){var jt;let{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:mt}=a.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(s),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(G)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:Dt,typeArguments:Ct});let Ft=(jt=(await a.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:jt.filter(Ut=>P(Ut.type).name==="BookStatus");if(Ft.length===0)return $t;for(let Ut=0;Ut<Ft[0].parsedJson.depths.length;Ut++){let tr=Ft[0].parsedJson.price[Ut],ir=Ft[0].parsedJson.depths[Ut],sr={price:parseInt(tr,10),quantity:parseInt(ir,10)};$t.push(sr)}return $t}static async preSwap(a,s,et,nt){let at=!1,mt=F,wt=new BN(nt),$t=F,Ct=new BN(nt);if(et){let Dt=await this.getPoolBids(a,s.poolID,s.baseAsset,s.quoteAsset);Dt===null&&(at=!0),Dt=Dt.sort((Ft,jt)=>jt.price-Ft.price);for(let Ft=0;Ft<Dt.length;Ft+=1){let jt=new BN(Dt[Ft].quantity),Ut=new BN(Dt[Ft].price),tr=jt.mul(new BN(Ut)).mul(new BN(s.takerFeeRate)).div(me).div(me);if(wt.gt(jt))wt=wt.sub(jt),mt=mt.add(jt.mul(Ut).div(me).sub(tr)),$t=$t.add(tr);else{let ir=wt.mul(new BN(Dt[Ft].price)).div(me),sr=ir.mul(new BN(s.takerFeeRate)).div(me);mt=mt.add(ir.sub(sr)),wt=wt.sub(wt),$t=$t.add(sr)}if(wt.eq(F))break}}else{let Dt=await this.getPoolAsks(a,s.poolID,s.baseAsset,s.quoteAsset);Dt===null&&(at=!0);for(let Ft=0;Ft<Dt.length;Ft+=1){let jt=new BN(Dt[Ft].price).mul(new BN(Dt[Ft].quantity)).div(new BN(1e9)),Ut=jt.mul(new BN(s.takerFeeRate)).div(me),tr=jt.add(Ut);if(wt.gt(jt))mt=mt.add(new BN(Dt[Ft].quantity)),wt=wt.sub(tr),$t=$t.add(Ut);else{let ir=new BN(Dt[Ft].quantity).div(new BN(s.lotSize)),sr=tr.div(ir),ur=wt.div(sr);mt=mt.add(ur.muln(s.lotSize)),wt=wt.sub(ur.mul(sr)),$t=$t.add(ur.div(ir).mul(Ut))}if(wt.eq(F))break}}return{poolAddress:s.poolID,estimatedAmountIn:Ct.sub(wt).toNumber(),estimatedAmountOut:mt.toNumber(),estimatedFeeAmount:$t,isExceed:at,amount:Number(nt),aToB:et,byAmountIn:!0}}static async simulateSwap(a,s,et,nt,at,mt){var dr,hr,vr;let{deepbook_endpoint_v2:wt}=a.sdkOptions,$t=new Transaction,Ct=await this.getAccountCap(a),Dt;if(Ct===""){let yr=this.createAccountCap(a.senderAddress,a.sdkOptions,$t),xr=yr[0];$t=yr[1],Dt=xr}else Dt=$t.object(Ct);let Ft=await a.getOwnerCoinAssets(a.senderAddress),jt=(dr=z.buildCoinForAmount($t,Ft,BigInt(mt),et,!1))==null?void 0:dr.targetCoin,Ut=(hr=z.buildCoinForAmount($t,Ft,BigInt(mt),nt,!1))==null?void 0:hr.targetCoin,tr=[et,nt],ir=[$t.object(s),Dt,$t.pure.u64(mt),$t.pure.u64(0),$t.pure.bool(at),jt,Ut,$t.object(G)];$t.moveCall({target:`${wt.published_at}::${_n}::swap`,arguments:ir,typeArguments:tr});let{simulationAccount:sr}=a.sdkOptions,ur=(vr=(await a.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:sr.address})).events)==null?void 0:vr.filter(yr=>P(yr.type).name==="DeepbookSwapEvent");if(ur.length===0)return null;let fr=ur[0].parsedJson;return{poolAddress:fr.pool,estimatedAmountIn:fr.amount_in,estimatedAmountOut:fr.amount_out,aToB:fr.atob}}};getFullnodeUrl$1("mainnet");getFullnodeUrl$1("testnet");var It="router",xt="vaults",Ot=1e4,Bt=(a=>(a.STATUS_RUNNING="STATUS_RUNNING",a.STATUS_REBALANCING="STATUS_REBALANCING",a))(Bt||{}),Mn=(a=>(a.Haedal="Haedal",a.Volo="Volo",a.Aftermath="aftermath",a))(Mn||{}),Rt=(a=>(a.Cetus="Cetus",a.Haedal="Haedal",a.Volo="Volo",a.Aftermath="aftermath",a))(Rt||{}),qt=(a=>(a.Both="both",a.OneSide="oneSide",a))(qt||{}),Z=class extends Error{constructor(s,et){super(s);Yn(this,"message");Yn(this,"errorCode");this.message=s,this.errorCode=et}static isClmmpoolsErrorCode(s,et){return s instanceof Z&&s.errorCode===et}},ye="0x0000000000000000000000000000000000000000000000000000000000000006",Je="router";function $(a){if(a.config===void 0)throw new Z(`package: ${a.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return a.config}var B=class{static generateNextTickRange(a,s,et){let nt=a-s/2,at=a+s/2;return{new_tick_lower:B.getValidTickIndex(nt,et),new_tick_upper:B.getValidTickIndex(at,et)}}static calculateDepositRatio(a,s,et){let nt=x.sqrtPriceX64ToTickIndex(et);if(nt<a)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if(nt>s)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let at=new BN(1e8),{coinAmountB:mt}=M$1.estLiquidityAndcoinAmountFromOneAmounts(a,s,at,!0,!0,0,et),wt=x.sqrtPriceX64ToPrice(et,0,0),$t=w(at.toString()).mul(wt),Ct=$t.add(mt.toString()),Dt=$t.div(Ct),Ft=w(mt.toString()).div(Ct);return{ratioA:Dt,ratioB:Ft}}static getValidTickIndex(a,s){if(a%s===0)return a;let et;if(a>0?et=a-a%s+s:a<0?et=a+Math.abs(a)%s-s:et=a,et%s!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(et)<Math.abs(a))throw new Error("Assertion failed: res.abs() >= tickIndex");return et}static get_lp_amount_by_liquidity(a,s){return a.total_supply==="0"?"0":w(a.total_supply).mul(s).div(a.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(a,s){return a.total_supply==="0"?"0":w(s).mul(a.liquidity).div(a.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(a,s){return w(s).mul(a.protocol_fee_rate).div(Ot).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(a){let s=a.clmm_postion.fields;return{id:a.id.id,url:s.url,pool_id:a.pool_id,coinTypeA:P(s.coin_type_a.fields.name).full_address,coinTypeB:P(s.coin_type_b.fields.name).full_address,description:s.description,name:s.name,liquidity:s.liquidity,clmm_position_id:s.id.id,clmm_pool_id:s.pool,tick_lower_index:ie(BigInt(s.tick_lower_index.fields.bits)),tick_upper_index:ie(BigInt(s.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(a){let s=se(a),et=Pt(a),{positions:nt}=s;if(s&&nt.length>0){let at=B.buildFramsPositionNFT(nt[0].fields);return{id:s.id.id,pool_id:s.pool,protocol_fee_rate:s.protocol_fee_rate,is_pause:s.is_pause,harvest_assets:{harvest_assets_handle:s.harvest_assets.fields.id.id,size:Number(s.harvest_assets.fields.size)},lp_token_type:P(et).type_arguments[0],total_supply:s.lp_token_treasury.fields.total_supply.fields.value,liquidity:s.liquidity,max_quota:s.max_quota,status:s.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:s.quota_based_type.fields.name,position:at}}}static async getSuiCoin(a,s,et){let nt=await a.getOwnerCoinAssets(a.getVerifySenderAddress(),we);et=et||new Transaction;let at;if(s>95e10){let[mt,...wt]=nt;wt.length>0&&et.mergeCoins(et.object(mt.coinObjectId),wt.map($t=>et.object($t.coinObjectId))),at=et.splitCoins(et.object(mt.coinObjectId),[s])}else at=z.buildCoinForAmount(et,nt,BigInt(s),we,!1,!0).targetCoin;return at}},Ae=class{static async getExchangeRateForStake(a,s,et){let{vaults:nt}=a.sdkOptions,{haedal:at}=q(nt);if(at===void 0)throw Error("the haedal config is undefined");let{simulationAccount:mt}=a.sdkOptions,{staking_id:wt}=q(at);try{let $t=new Transaction;s?await this.requestStake(a,et||1e9,$t):$t.moveCall({target:`${at.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[$t.object(wt)]});let Ct=await a.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:s?a.senderAddress:mt.address});if(s){let Ft=Ct.events.find(tr=>tr.type.includes("UserStaked")),{sui_amount:jt,st_amount:Ut}=Ft.parsedJson;return w(jt).div(Ut).toString()}let Dt=Ct.results[0].returnValues[0][0];return w(suiBcs.u64().parse(Uint8Array.from(Dt))).div(1e6).toString()}catch($t){console.log("getExchangeRateForHaedal",$t)}return"0"}static async requestStake(a,s,et){var mt,wt;let{vaults:nt}=a.sdkOptions;et=et||new Transaction;let at=await B.getSuiCoin(a,s,et);return et.moveCall({target:`${(wt=(mt=nt.config)==null?void 0:mt.haedal)==null?void 0:wt.published_at}::interface::request_stake`,typeArguments:[],arguments:[et.object(normalizeSuiObjectId("0x5")),et.object(nt.config.haedal.config.staking_id),at,et.pure.address(normalizeSuiObjectId("0x0"))]}),et}static requestStakeCoin(a,s,et){let{haedal:nt}=a.sdkOptions.vaults.config;return s.moveCall({target:`${nt.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[s.object(normalizeSuiObjectId("0x5")),s.object(nt.config.staking_id),et,s.pure.address(normalizeSuiObjectId("0x0"))]})}},ve=class{static async getExchangeRateForStake(a,s,et){let{vaults:nt}=a.sdkOptions,{volo:at}=q(nt);if(at===void 0)throw Error("the volo config is undefined");let{simulationAccount:mt}=a.sdkOptions,{native_pool:wt,vsui_metadata:$t}=q(at);try{let Ct=new Transaction;s?await this.requestStake(a,et||1e9,Ct):Ct.moveCall({target:`${at.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[Ct.object(wt),Ct.object($t)]});let Dt=await a.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:s?a.senderAddress:mt.address});if(s){let Ut=Dt.events.find(sr=>sr.type.includes("StakedEvent")),{cert_amount:tr,sui_amount:ir}=Ut.parsedJson;return w(ir).div(tr).toString()}let Ft=Dt.results[0].returnValues[0][0],jt=w(suiBcs.u256().parse(Uint8Array.from(Ft))).div("1000000000000000000").toNumber();return w(1).div(jt).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(a,s,et){let{vaults:nt}=a.sdkOptions,{volo:at}=q(nt);if(at===void 0)throw Error("the volo config is undefined");et=et||new Transaction;let{native_pool:mt,vsui_metadata:wt}=q(at),$t=await B.getSuiCoin(a,s,et);return et.moveCall({target:`${at.published_at}::native_pool::stake`,typeArguments:[],arguments:[et.object(mt),et.object(wt),et.object(normalizeSuiObjectId("0x5")),$t]}),et}static requestStakeCoin(a,s,et){let{vaults:nt}=a.sdkOptions,{volo:at}=q(nt);if(at===void 0)throw Error("the volo config is undefined");s=s||new Transaction;let{native_pool:mt,vsui_metadata:wt}=q(at);return s.moveCall({target:`${at.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[s.object(mt),s.object(wt),s.object(normalizeSuiObjectId("0x5")),et]})}},Ce=class{static async getExchangeRateForStake(a,s,et){let{vaults:nt}=a.sdkOptions,{aftermath:at}=q(nt);if(at===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:mt}=a.sdkOptions,{staked_sui_vault:wt,safe:$t}=q(at);try{let Ct=new Transaction;s?await this.requestStake(a,et||1e9,Ct):Ct.moveCall({target:`${at.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[Ct.object(wt),Ct.object($t)]});let Dt=await a.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:s?a.senderAddress:mt.address});if(s){let jt=Dt.events.find(ir=>ir.type.includes("StakedEvent")),{afsui_amount:Ut,sui_amount:tr}=jt.parsedJson;return w(tr).div(Ut).toString()}let Ft=Dt.results[0].returnValues[0][0];return w(suiBcs.u128().parse(Uint8Array.from(Ft))).div(1e18).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(a,s,et){let{vaults:nt}=a.sdkOptions,{aftermath:at}=q(nt);if(at===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=q(at),Dt=await B.getSuiCoin(a,s,et);return et.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[et.object(mt),et.object($t),et.object(normalizeSuiObjectId("0x5")),et.object(wt),Dt,et.pure.address(normalizeSuiObjectId(Ct))]}),et}static requestStakeCoin(a,s,et){let{vaults:nt}=a.sdkOptions,{aftermath:at}=q(nt);if(at===void 0)throw Error("the aftermath config is undefined");s=s||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=q(at);return s.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[s.object(mt),s.object($t),s.object(normalizeSuiObjectId("0x5")),s.object(wt),et,s.pure.address(normalizeSuiObjectId(Ct))]})}},De=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});Yn(this,"getOwnerVaultsBalance",async a=>{let{data:s}=await this.getVaultList(),et=[];for(let nt=0;nt<s.length;nt++){let at=s[nt],mt=await this._sdk.fullClient.getBalance({owner:a,coinType:at.lp_token_type}),wt=await this._sdk.Pool.getPool(at.pool_id,!0),$t=B.get_share_liquidity_by_amount(at,mt.totalBalance),{tick_lower_index:Ct,tick_upper_index:Dt,coinTypeA:Ft,coinTypeB:jt}=at.position,Ut=x.tickIndexToSqrtPriceX64(Ct),tr=x.tickIndexToSqrtPriceX64(Dt),ir=M$1.getCoinAmountFromLiquidity(new bnExports.BN($t),new bnExports.BN(wt.current_sqrt_price),Ut,tr,!0);et.push({vault_id:s[nt].id,clmm_pool_id:at.pool_id,owner:a,lp_token_type:at.lp_token_type,lp_token_balance:mt.totalBalance,liquidity:$t,tick_lower_index:Ct,tick_upper_index:Dt,amount_a:ir.coinA.toString(),amount_b:ir.coinB.toString(),coin_type_a:Ft,coin_type_b:jt})}return et});this._sdk=a}get sdk(){return this._sdk}async calculateDepositAmount(a,s=!1,et=!1){return a.side==="both"?await this.calculateAmountFromBoth(a,!0):await this.calculateDepositAmountFromOneSide(a,s,et)}async calculateWithdrawAmount(a){if(a.side==="both"){if(a.is_ft_input)return{...await this.estLiquidityAmountFromFtAmount({...a,input_ft_amount:a.input_amount}),request_id:a.input_amount,burn_ft_amount:a.input_amount,side:a.side};let nt=await this.calculateAmountFromBoth(a,!1);return{...nt,request_id:a.input_amount,burn_ft_amount:nt.ft_amount,side:a.side}}let{vault:s}=await this.getVaultAndPool(a.vault_id),et=B.get_share_liquidity_by_amount(s,a.max_ft_amount);return await this.calculateWithdrawAmountFromOneSide({fix_amount_a:a.fix_amount_a,vault_id:a.vault_id,receive_amount:a.is_ft_input?"0":a.input_amount,slippage:a.slippage,maxLiquidity:et,removeLiquidity:a.is_ft_input?B.get_share_liquidity_by_amount(s,a.input_amount):void 0},!0)}async calculateWithdrawAmountFromOneSide(a,s,et){try{let{vault_id:nt,removeLiquidity:at,maxLiquidity:mt}=a,{vault:wt,pool:$t}=await this.getVaultAndPool(nt),{position:Ct}=wt,Dt=Ct.tick_lower_index,Ft=Ct.tick_upper_index,jt=at===mt,Ut=B.calculateDepositRatio(Dt,Ft,new bnExports.BN($t.current_sqrt_price)),tr=a.fix_amount_a?Ut.ratioA:Ut.ratioB,ir=w(a.receive_amount).mul(tr),sr,ur;if(at){let cr=x.tickIndexToSqrtPriceX64(Dt),Nt=x.tickIndexToSqrtPriceX64(Ft),Vt=M$1.getCoinAmountFromLiquidity(new bnExports.BN(at),new bnExports.BN($t.current_sqrt_price),cr,Nt,!1);ur=at,sr=a.fix_amount_a?Vt.coinB.toString():Vt.coinA.toString(),ir=a.fix_amount_a?w(Vt.coinA.toString()):w(Vt.coinB.toString())}else{let cr=M$1.estLiquidityAndcoinAmountFromOneAmounts(Dt,Ft,new bnExports.BN(ir.toFixed(0)),a.fix_amount_a,!1,a.slippage,new bnExports.BN($t.current_sqrt_price));ur=cr.liquidityAmount.toString(),sr=a.fix_amount_a?cr.coinAmountB.toString():cr.coinAmountA.toString()}let fr=!a.fix_amount_a,dr=await this.findRouters($t.poolAddress,$t.current_sqrt_price.toString(),a.fix_amount_a?$t.coinTypeB:$t.coinTypeA,a.fix_amount_a?$t.coinTypeA:$t.coinTypeB,w(sr),!0,[$t.poolAddress],{poolID:$t.poolAddress,ticklower:Dt,tickUpper:Ft,deltaLiquidity:Number(ur)}),hr=ir.add(dr.amount_out),vr=w(a.receive_amount),yr=vr.sub(hr);if(!jt&&(!a.removeLiquidity||a.removeLiquidity&&et)&&yr.abs().greaterThan(vr.mul(.01))){let cr=hr.lessThan(vr),Nt,Vt;et?cr?(Nt=w(ur),Vt=et.right):(Nt=et.left,Vt=w(ur)):(Nt=w(cr?ur:0),Vt=w(cr?a.maxLiquidity:ur));let er=w(Nt).add(Vt).div(2).toFixed(0);if(!et||et&&et.count<15&&Nt<Vt)return await this.calculateWithdrawAmountFromOneSide({...a,removeLiquidity:er},s,{left:Nt,right:Vt,count:et?et.count+1:0})}let xr=dr.amount_in&&dr.fee_amount?new bnExports.BN(dr.amount_in).add(new bnExports.BN(dr.fee_amount)).toString():dr.amount_in,br=dr.amount_out,{is_exceed:wr}=dr,Sr=B.get_lp_amount_by_liquidity(wt,ur.toString());return{side:"oneSide",...await this.estLiquidityAmountFromFtAmount({vault_id:nt,input_ft_amount:Sr,slippage:a.slippage}),burn_ft_amount:Sr,request_id:a.receive_amount,swap_result:{swap_in_amount:xr,swap_out_amount:br,a2b:fr,is_exceed:wr,sui_stake_protocol:"Cetus",route_obj:dr.route_obj}}}catch(nt){if(s&&(String(nt)==="Error: route unavailable"||String(nt)==="Error: router timeout"))return await this.calculateWithdrawAmountFromOneSide(a,!1);throw nt}}async calculateDepositAmountFromOneSide(a,s,et=!1,nt=!0,at=5,mt=.02){try{let{vault_id:wt,input_amount:$t,fix_amount_a:Ct,slippage:Dt}=a,{vault:Ft,pool:jt}=await this.getVaultAndPool(wt),{position:Ut}=Ft,tr=Ut.tick_lower_index,ir=Ut.tick_upper_index,sr=x.sqrtPriceX64ToTickIndex(new bnExports.BN(jt.current_sqrt_price)),{ratioA:ur,ratioB:fr}=B.calculateDepositRatio(tr,ir,new bnExports.BN(jt.current_sqrt_price)),dr=w($t).mul(Ct?ur:fr),hr=w($t).sub(dr),vr=Ct;if(hr.toFixed(0)==="0")return await this.calculateAmountFromBoth(a,!0);let yr,xr,br,wr,Sr,Cr=this.findSuiStakeProtocol(Ut.coinTypeA,Ut.coinTypeB,Ct);if(Cr!=="Cetus")yr=await this.calculateStakeDepositFixSui({inputSuiAmount:w(a.input_amount),swapSuiAmount:hr,lowerTick:tr,upperTick:ir,curSqrtPrice:jt.current_sqrt_price.toString(),remainRate:.01,fixCoinA:a.fix_amount_a,rebalanceCount:0,shouldRequestStake:s,leftSuiAmount:vr?new Decimal$1(hr.toFixed(0)):new Decimal$1(0),rightSuiAmount:vr?new Decimal$1(a.input_amount):new Decimal$1(hr.toFixed(0)),stakeProtocol:Cr}),xr=jt.current_sqrt_price.toString(),br=yr.fixAmountA,wr=yr.swapInAmount,Sr=yr.swapOutAmount;else{yr=await this.findRouters(jt.poolAddress,jt.current_sqrt_price.toString(),vr?jt.coinTypeA:jt.coinTypeB,vr?jt.coinTypeB:jt.coinTypeA,hr,!0,[jt.poolAddress]);let rr=this.paresSwapData(yr,a.input_amount,a.fix_amount_a,vr,tr,ir,ur,fr),ar=w(a.input_amount).mul(mt);if(w(a.input_amount).sub(rr.preAmountTotal).gt(ar)){let lr={clmm_pool:jt.poolAddress,curSqrtPrice:jt.current_sqrt_price.toString(),a2b:vr,amount_a:w(vr?$t:0),amount_b:w(vr?0:a.input_amount),amount_left:w(vr?hr.toFixed(0):0),amount_right:w(vr?$t:hr.toFixed(0)),lowerTick:tr,upperTick:ir,tick_spacing:2,coinTypeA:Ut.coinTypeA,coinTypeB:Ut.coinTypeB,remainRate:.02,priceSplitPoint:Dt,useRoute:nt,maxLoopLimit:at};yr=et&&sr<=ir?await this.calculateRebalance(lr):await this.findRouters(jt.poolAddress,jt.current_sqrt_price.toString(),vr?jt.coinTypeA:jt.coinTypeB,vr?jt.coinTypeB:jt.coinTypeA,hr,!0,[jt.poolAddress])}xr=yr.after_sqrt_price,rr=this.paresSwapData(yr,a.input_amount,a.fix_amount_a,vr,tr,ir,ur,fr),br=rr.fixAmountA,wr=rr.swapInAmount,Sr=rr.swapOutAmount,xr=rr.afterSqrtPrice}let cr=br===Ct?w($t).sub(wr).toFixed(0):Sr,Nt=M$1.estLiquidityAndcoinAmountFromOneAmounts(tr,ir,new bnExports.BN(cr),br,!0,Dt,new bnExports.BN(xr)),Vt=Nt.coinAmountA.toString(),er=Nt.coinAmountB.toString(),Yt=B.get_lp_amount_by_liquidity(Ft,Nt.liquidityAmount.toString());return{request_id:a.input_amount,side:"oneSide",amount_a:Vt,amount_b:er,amount_limit_a:Nt.tokenMaxA.toString(),amount_limit_b:Nt.tokenMaxB.toString(),ft_amount:Yt,fix_amount_a:br,swap_result:{swap_in_amount:wr,swap_out_amount:Sr,a2b:Ct,sui_stake_protocol:Cr,route_obj:yr.route_obj,is_exceed:yr.is_exceed,afterSqrtPrice:xr}}}catch(wt){if(nt&&(String(wt)==="Error: route unavailable"||String(wt)==="Error: router timeout"))return await this.calculateDepositAmountFromOneSide(a,s,!1);throw wt}}paresSwapData(a,s,et,nt,at,mt,wt,$t){let Ct=a.after_sqrt_price,Dt=x.sqrtPriceX64ToTickIndex(new bnExports.BN(Ct)),{ratioA:Ft,ratioB:jt}=B.calculateDepositRatio(at,mt,new bnExports.BN(Ct)),Ut=jt.div(Ft).sub($t.div(wt)).greaterThan("0"),tr=a.amount_in&&a.fee_amount?new bnExports.BN(a.amount_in).add(new bnExports.BN(a.fee_amount)).toString():a.amount_in,ir=a.amount_out,sr=Ut===nt?new bnExports.BN(w(s).sub(tr).toString()):new bnExports.BN(ir),ur=w(s);if(Dt<at)Ut=!0;else if(Dt>mt)Ut=!1;else{let fr=M$1.estLiquidityAndcoinAmountFromOneAmounts(at,mt,sr,Ut,!0,0,new bnExports.BN(Ct)),dr=fr.coinAmountA,hr=fr.coinAmountB;ur=w(et?dr.toString():hr.toString()).add(tr),ur.greaterThanOrEqualTo(s)&&(Ut=!Ut)}return{preAmountTotal:ur,fixAmountA:Ut,swapInAmount:tr,swapOutAmount:ir,afterSqrtPrice:Ct}}async calculateStakeDepositFixSui(a){let s=a.inputSuiAmount.mul(a.remainRate),et=a.inputSuiAmount.sub(a.swapSuiAmount),nt;a.shouldRequestStake?nt=await this.getExchangeRateForStake(a.stakeProtocol,a.shouldRequestStake,Number(a.swapSuiAmount.toFixed(0))):nt=a.exchangeRate?a.exchangeRate:await this.getExchangeRateForStake(a.stakeProtocol,a.shouldRequestStake,Number(a.swapSuiAmount.toFixed(0)));let at=a.swapSuiAmount.div(nt).toFixed(0,Decimal$1.ROUND_DOWN),mt=M$1.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,new bnExports.BN(at.toString()),!a.fixCoinA,!0,0,new bnExports.BN(a.curSqrtPrice)),wt=a.fixCoinA?mt.coinAmountA.toString():mt.coinAmountB.toString(),$t=w(et).sub(wt);return $t.greaterThanOrEqualTo(0)&&$t.lessThanOrEqualTo(s)||a.rebalanceCount>12||a.leftSuiAmount.greaterThanOrEqualTo(a.rightSuiAmount)?{swapInAmount:a.swapSuiAmount.toFixed(0),swapOutAmount:at,afterSqrtPrice:a.curSqrtPrice,fixAmountA:!a.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:a.stakeProtocol}:$t.lessThan(0)?await this.calculateStakeDepositFixSui({...a,rightSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.leftSuiAmount).div(2),exchangeRate:nt,rebalanceCount:a.rebalanceCount+1}):$t.greaterThan(s)?await this.calculateStakeDepositFixSui({...a,leftSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.rightSuiAmount).div(2),exchangeRate:nt,rebalanceCount:a.rebalanceCount+1}):null}async getExchangeRateForStake(a,s,et){return a==="Haedal"?await Ae.getExchangeRateForStake(this._sdk,s,et):a==="Volo"?await ve.getExchangeRateForStake(this._sdk,s,et):a==="aftermath"?await Ce.getExchangeRateForStake(this._sdk,s,et):"0"}async findRouters(a,s,et,nt,at,mt,wt,$t,Ct=!1){var tr,ir;let{aggregator:Dt}=this._sdk.sdkOptions,Ft=`${Dt.walletAddress}_getAggregatorClient`,jt=this.getCache(Ft,Ct),Ut;if(jt!==void 0)Ut=jt;else{let sr=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});Ut=new AggregatorClient21(Dt.endPoint,Dt.walletAddress,sr,Dt.env)}try{let sr={from:et,target:nt,amount:new bnExports.BN(at.toFixed(0).toString()),byAmountIn:mt,depth:3,providers:Dt.providers};$t&&$t.poolID&&(sr.liquidityChanges=[$t]);let ur=await Ut.findRouters(sr);if(((tr=ur==null?void 0:ur.error)==null?void 0:tr.code)===10001)return{...ur,is_exceed:ur.insufficientLiquidity};if(ur!=null&&ur.insufficientLiquidity)return{...ur,is_exceed:ur.insufficientLiquidity};if(!(ur!=null&&ur.routes)||((ir=ur==null?void 0:ur.routes)==null?void 0:ir.length)===0)throw Error("Aggregator no router");let fr=s;return ur.routes.forEach(dr=>{let hr=dr.path.find(vr=>vr.id.toLowerCase()===a.toLowerCase());hr&&hr.extendedDetails&&hr.extendedDetails.afterSqrtPrice&&(fr=String(hr.extendedDetails.afterSqrtPrice))}),{amount_in:ur.amountIn.toString(),amount_out:ur.amountOut.toString(),is_exceed:ur.insufficientLiquidity,after_sqrt_price:fr,route_obj:ur,byAmountIn:!0,liquidity:$t==null?void 0:$t.deltaLiquidity,originRes:ur}}catch{try{if(wt){let sr=await Ut.swapInPools({from:et,target:nt,amount:new bnExports.BN(at.toFixed(0).toString()),byAmountIn:mt,pools:wt});if(sr){let ur=s;return sr.routeData.routes.forEach(fr=>{let dr=fr.path.find(hr=>hr.id.toLowerCase()===a.toLowerCase());dr&&(ur=String(dr.extendedDetails.afterSqrtPrice))}),{amount_in:sr.routeData.amountIn.toString(),amount_out:sr.routeData.amountOut.toString(),is_exceed:sr.isExceed,after_sqrt_price:ur,route_obj:sr.routeData,byAmountIn:!0,liquidity:$t==null?void 0:$t.deltaLiquidity,originRes:sr}}return null}return null}catch{return null}}}async calculateRebalance(a){let{clmm_pool:s,a2b:et,curSqrtPrice:nt,amount_a:at,amount_b:mt,lowerTick:wt,upperTick:$t,amount_left:Ct,amount_right:Dt,coinTypeA:Ft,coinTypeB:jt,useRoute:Ut,priceSplitPoint:tr,remainRate:ir,maxLoopLimit:sr=5}=a,ur=async(fr,dr,hr)=>{let vr=fr.plus(dr).div(2),yr=await this.findRouters(s,nt,Ft,jt,vr,et,[s]);if(yr.amount_out==="0")return yr;if(yr.after_sqrt_price||(yr.after_sqrt_price=a.curSqrtPrice),yr.is_exceed)return dr=vr,ur(fr,dr,hr+1);let xr=et?at.sub(yr.amount_in):at.add(yr.amount_out),br=et?mt.add(yr.amount_out):mt.sub(yr.amount_in),wr=M$1.estLiquidityAndcoinAmountFromOneAmounts(wt,$t,new bnExports.BN(xr.toString()),!0,!0,1,new bnExports.BN(yr.after_sqrt_price)),Sr=new Decimal$1(wr.coinAmountA.toString()),Cr=new Decimal$1(wr.coinAmountB.toString());if(Sr.toString()!==xr.toString())throw new Error("usedA does not match afterA");if(br.lessThan(Cr))et?fr=vr:dr=vr;else{et?dr=vr:fr=vr;let cr=br.sub(Cr);if(br.mul(ir).sub(cr).greaterThanOrEqualTo(0)||hr>=sr)return{...yr,remainingB:cr}}return fr.greaterThan(dr)||dr.sub(fr).lessThan(10)?yr:ur(fr,dr,hr+1)};return Ct.greaterThanOrEqualTo(Dt)?ur(new Decimal$1(0),Ct,0):ur(Ct,Dt,0)}async calculateAmountFromBoth(a,s){let{vault_id:et,input_amount:nt,fix_amount_a:at,slippage:mt}=a,{vault:wt,pool:$t}=await this.getVaultAndPool(et),{position:Ct}=wt,Dt=Ct.tick_lower_index,Ft=Ct.tick_upper_index,jt=M$1.estLiquidityAndcoinAmountFromOneAmounts(Dt,Ft,new bnExports.BN(nt),at,s,mt,new bnExports.BN($t.current_sqrt_price)),Ut=B.get_lp_amount_by_liquidity(wt,jt.liquidityAmount.toString());return{request_id:a.input_amount,amount_a:jt.coinAmountA.toString(),amount_b:jt.coinAmountB.toString(),amount_limit_a:jt.tokenMaxA.toString(),amount_limit_b:jt.tokenMaxB.toString(),ft_amount:Ut,fix_amount_a:at,side:"both"}}async estLiquidityAmountFromFtAmount(a){let{vault_id:s,input_ft_amount:et,slippage:nt}=a,{vault:at,pool:mt}=await this.getVaultAndPool(s),{position:wt}=at,$t=wt.tick_lower_index,Ct=wt.tick_upper_index,Dt=x.tickIndexToSqrtPriceX64($t),Ft=x.tickIndexToSqrtPriceX64(Ct),jt=new bnExports.BN(et),Ut=B.get_share_liquidity_by_amount(at,jt.toString()),tr=new bnExports.BN(mt.current_sqrt_price),ir=M$1.getCoinAmountFromLiquidity(new bnExports.BN(Ut),tr,Dt,Ft,!1),sr=w(ir.coinA.toString()).mul(w(1-nt)),ur=w(ir.coinB.toString()).mul(w(1-nt));return{amount_a:ir.coinA.toString(),amount_b:ir.coinB.toString(),amount_limit_a:sr.toFixed(0),amount_limit_b:ur.toFixed(0)}}async deposit(a){let{vault_id:s}=a,{vault:et,pool:nt}=await this.getVaultAndPool(s,!0),at=await this.calculateDepositAmount(a,!0,!0),mt=new Transaction,wt,$t;if(a.side==="oneSide"&&at.swap_result){let Ft=await this.handleDepositSwap({...at,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,slippage:a.slippage,clmm_pool:nt.poolAddress},mt);wt=Ft.primaryCoinAInputs,$t=Ft.primaryCoinBInputs}let{amount_a:Ct,amount_b:Dt}=at;return a.side==="oneSide"&&a.fix_amount_a&&(Ct=w(at.amount_a).mul(w(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString(),Dt=w(at.amount_b).mul(w(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString()),await this.depositInternal({coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,lp_token_type:et.lp_token_type,farming_pool:et.position.pool_id,clmm_pool:nt.poolAddress,primaryCoinAInputs:wt,primaryCoinBInputs:$t,vault_id:s,slippage:a.slippage,amount_a:at.fix_amount_a?Ct:at.amount_limit_a,amount_b:at.fix_amount_a?at.amount_limit_b:Dt,fix_amount_a:at.fix_amount_a},mt),mt}async handleDepositSwap(a,s){let et=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress),{clmm_pool:nt,integrate:at}=this._sdk.sdkOptions,{swap_in_amount:mt,a2b:wt,sui_stake_protocol:$t,route_obj:Ct}=a.swap_result,Dt=wt?a.coinTypeA:a.coinTypeB,Ft=z.buildCoinForAmount(s,et,BigInt(mt),Dt,!1,!0),jt=BigInt(Ft.tragetCoinAmount)-BigInt(mt),Ut=[];if($t!=="Cetus"){let fr=this.requestStakeCoin($t,s,Ft.targetCoin),dr=z.buildCoinForAmount(s,Ft.remainCoins,BigInt(0),Dt,!1).targetCoin;Ut=wt?[dr,fr]:[fr,dr]}else if(Ct){let fr={routers:Ct,inputCoin:Ft.targetCoin,slippage:a.slippage,txb:s,partner:a.partner},{aggregator:dr}=this._sdk.sdkOptions,hr=`${dr.walletAddress}_getAggregatorClient`,vr=this.getCache(hr,!1),yr;if(vr!==void 0)yr=vr;else{let br=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});yr=new AggregatorClient21(dr.endPoint,dr.walletAddress,br,dr.env)}let xr=await yr.routerSwap(fr);Ut=wt?[Ft.originalSplitedCoin,xr]:[xr,Ft.originalSplitedCoin]}else{let fr=z.buildCoinForAmount(s,et,0n,wt?a.coinTypeB:a.coinTypeA,!1),dr=ne.getDefaultSqrtPriceLimit(wt).toString();Ut=s.moveCall({target:`${at.published_at}::${Je}::swap`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[s.object($(nt).global_config_id),s.object(a.clmm_pool),wt?Ft.targetCoin:fr.targetCoin,wt?fr.targetCoin:Ft.targetCoin,s.pure.bool(wt),s.pure.bool(!0),s.pure.u64(mt),s.pure.u128(dr),s.pure.bool(!1),s.object(ye)]})}let tr,ir,sr=Ut[0],ur=Ut[1];if(wt){let fr=BigInt(a.amount_a)-jt;I.isSuiCoin(Dt)?(Ct||s.transferObjects([sr],s.pure.address(this._sdk.getVerifySenderAddress())),tr=s.splitCoins(s.gas,[s.pure.u64(a.amount_a)])):fr>0n?tr=this.buildCoinInput(s,Ft.remainCoins,Dt,fr,sr).coinInput:tr=sr,ir=ur}else{tr=sr;let fr=BigInt(a.amount_b)-jt;I.isSuiCoin(Dt)?(Ct||s.transferObjects([ur],s.pure.address(this._sdk.getVerifySenderAddress())),ir=s.splitCoins(s.gas,[s.pure.u64(a.amount_b)])):fr>0n?ir=this.buildCoinInput(s,Ft.remainCoins,Dt,fr,ur).coinInput:ir=ur}return{primaryCoinAInputs:tr,primaryCoinBInputs:ir}}requestStakeCoin(a,s,et){if(a==="Haedal")return Ae.requestStakeCoin(this._sdk,s,et);if(a==="Volo")return ve.requestStakeCoin(this._sdk,s,et);if(a==="aftermath")return Ce.requestStakeCoin(this._sdk,s,et)}async depositInternal(a,s){var Ft,jt;let{vaults:et,frams:nt,clmm_pool:at}=this._sdk.sdkOptions,mt=$(et),wt=$(nt),$t=$(at),{primaryCoinAInputs:Ct,primaryCoinBInputs:Dt}=a;if(Ct===void 0||Dt===void 0){let Ut=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress);Ct=(Ft=z.buildAddLiquidityFixTokenCoinInput(s,!a.fix_amount_a,a.amount_a,a.slippage,a.coinTypeA,Ut,!1))==null?void 0:Ft.targetCoin,Dt=(jt=z.buildAddLiquidityFixTokenCoinInput(s,a.fix_amount_a,a.amount_b,a.slippage,a.coinTypeB,Ut,!1))==null?void 0:jt.targetCoin}s.moveCall({target:`${et.published_at}::${It}::deposit`,typeArguments:[a.coinTypeA,a.coinTypeB,a.lp_token_type],arguments:[s.object(mt.vaults_manager_id),s.object(a.vault_id),s.object(wt.rewarder_manager_id),s.object(wt.global_config_id),s.object(a.farming_pool),s.object($t.global_config_id),s.object(a.clmm_pool),Ct,Dt,s.pure.u64(a.amount_a),s.pure.u64(a.amount_b),s.pure.bool(a.fix_amount_a),s.object(ye)]})}async withdraw(a){let s="is_ft_input"in a,{vault:et,pool:nt}=await this.getVaultAndPool(a.vault_id,!0),at=new Transaction,mt,wt,$t,Ct;if(s)Ct=await this._sdk.Vaults.calculateWithdrawAmount({...a,side:"oneSide"}),wt=Ct.amount_limit_a,$t=Ct.amount_limit_b,mt=a.is_ft_input?a.input_amount:Ct.burn_ft_amount;else{let{vault_id:jt,ft_amount:Ut,slippage:tr}=a;mt=Ut;let ir=await this.estLiquidityAmountFromFtAmount({vault_id:jt,input_ft_amount:Ut,slippage:tr});wt=ir.amount_limit_a,$t=ir.amount_limit_b}let{reciveCoinA:Dt,reciveCoinB:Ft}=await this.withdrawInternal({coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,lp_token_type:et.lp_token_type,farming_pool:et.position.pool_id,clmm_pool:nt.poolAddress,min_amount_a:wt,min_amount_b:$t,vault_id:a.vault_id,ft_amount:mt},at);if(s&&Ct){let{a2b:jt,swap_in_amount:Ut,route_obj:tr}=Ct.swap_result;if(tr){let ir={targetCoin:jt?Dt:Ft},sr={routers:tr,inputCoin:ir.targetCoin,slippage:a.slippage,txb:at,partner:a.partner},{aggregator:ur}=this._sdk.sdkOptions,fr=`${ur.walletAddress}_getAggregatorClient`,dr=this.getCache(fr,!1),hr;if(dr!==void 0)hr=dr;else{let xr=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});hr=new AggregatorClient21(ur.endPoint,ur.walletAddress,xr,ur.env)}let vr=await hr.routerSwap(sr),yr=jt?[ir.targetCoin,vr]:[vr,ir.targetCoin];jt?at.mergeCoins(yr[1],[Ft]):at.mergeCoins(yr[0],[Dt]),at.transferObjects([vr],at.pure.address(this._sdk.getVerifySenderAddress()))}else{let{clmm_pool:ir,integrate:sr}=this._sdk.sdkOptions,ur=ne.getDefaultSqrtPriceLimit(jt).toString(),fr=at.moveCall({target:`${sr.published_at}::${Je}::swap`,typeArguments:[nt.coinTypeA,nt.coinTypeB],arguments:[at.object($(ir).global_config_id),at.object(nt.poolAddress),Dt,Ft,at.pure.bool(jt),at.pure.bool(!0),at.pure.u64(Ut),at.pure.u128(ur),at.pure.bool(!0),at.object(ye)]});at.transferObjects([fr[0],fr[1]],at.pure.address(this._sdk.senderAddress))}}else at.transferObjects([Dt,Ft],at.pure.address(this._sdk.senderAddress));return at}async withdrawInternal(a,s){let{vaults:et,frams:nt,clmm_pool:at}=this._sdk.sdkOptions,mt=$(et),wt=$(nt),$t=$(at),{primaryCoinInputs:Ct}=a;if(Ct===void 0){let jt=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,a.lp_token_type);Ct=z.buildCoinForAmount(s,jt,BigInt(a.ft_amount),a.lp_token_type,!1,!0).targetCoin}let Dt=[a.coinTypeA,a.coinTypeB,a.lp_token_type],Ft=s.moveCall({target:`${et.published_at}::${xt}::remove`,typeArguments:Dt,arguments:[s.object(mt.vaults_manager_id),s.object(a.vault_id),s.object(wt.rewarder_manager_id),s.object(wt.global_config_id),s.object(a.farming_pool),s.object($t.global_config_id),s.object(a.clmm_pool),Ct,s.pure.u64(a.ft_amount),s.pure.u64(a.min_amount_a),s.pure.u64(a.min_amount_b),s.object(ye)]});return s.transferObjects([Ct],s.pure.address(this._sdk.senderAddress)),{reciveCoinA:Ft[0],reciveCoinB:Ft[1]}}async getVaultAndPool(a,s=!1){let et=await this.sdk.Vaults.getVault(a);if(et===void 0)throw new Error("please check config and vault id");let nt=await this._sdk.Pool.getPool(et.pool_id,s);return{vault:et,pool:nt}}async getVaultList(a="all"){let{vaults_pool_handle:s}=$(this._sdk.sdkOptions.vaults),et=await this._sdk.fullClient.getDynamicFields({parentId:s}),nt=et.data.map(wt=>wt.name.value),at=await this._sdk.fullClient.batchGetObjects(nt,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),mt=[];return at.forEach(wt=>{let $t=B.buildPool(wt);$t&&($t.stake_protocol=this.findStakeProtocol($t.position.coinTypeA,$t.position.coinTypeB),this.savePoolToCache($t),mt.push($t))}),et.data=mt,et}findStakeProtocol(a,s){let{haedal:et,volo:nt,aftermath:at}=$(this._sdk.sdkOptions.vaults),mt=P(a).full_address,wt=P(s).full_address;if(I.isSuiCoin(mt)||I.isSuiCoin(wt)){if(et){let $t=P($(et).coin_type).full_address;if(mt===$t||wt===$t)return"Haedal"}if(nt){let $t=P($(nt).coin_type).full_address;if(mt===$t||wt===$t)return"Volo"}if(at){let $t=P($(at).coin_type).full_address;if(mt===$t||wt===$t)return"aftermath"}}}async getVault(a,s=!1){let et=this.readPoolFromCache(a,s);if(et)return et;try{let nt=await this._sdk.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),at=B.buildPool(nt);if(at)return this.savePoolToCache(at),at}catch(nt){console.log(nt)}}savePoolToCache(a){let s=`${a.id}_mirrorPool`;this.updateCache(s,a,ee)}readPoolFromCache(a,s=!1){let et=`${a}_mirrorPool`;return this.getCache(et,s)}findSuiStakeProtocol(a,s,et){let{haedal:nt,volo:at,aftermath:mt}=$(this._sdk.sdkOptions.vaults),wt=P(a).full_address,$t=P(s).full_address;if(I.isSuiCoin(wt)&&et||I.isSuiCoin($t)&&!et){if(nt){let Ct=P($(nt).coin_type).full_address;if(wt===Ct||$t===Ct)return"Haedal"}if(at){let Ct=P($(at).coin_type).full_address;if(wt===Ct||$t===Ct)return"Volo"}if(mt){let Ct=P($(mt).coin_type).full_address;if(wt===Ct||$t===Ct)return"aftermath"}}return"Cetus"}buildCoinInput(a,s,et,nt,at){let{selectedCoins:mt,remainingCoins:wt}=I.selectCoinAssetGreaterThanOrEqual(s,BigInt(nt)),$t=I.calculateTotalBalance(mt);if($t<BigInt(nt))throw new Error(`The amount(${$t}) is Insufficient balance for ${et} , expect ${nt} `);let Ct=$t-BigInt(nt),Dt;if(I.isSuiCoin(et))Dt=a.splitCoins(a.gas,[a.pure.u64(nt)]);else{let[Ft,...jt]=mt.map(Ut=>Ut.coinObjectId);Dt=a.object(Ft),jt.length>0?at?a.mergeCoins(Dt,[...jt.map(Ut=>a.object(Ut)),at]):a.mergeCoins(Dt,[...jt.map(Ut=>a.object(Ut))]):at&&a.mergeCoins(Dt,[at])}return{selectedUnusedAmount:Ct,coinInput:Dt,remainingCoins:wt}}async getVaultsConfigs(a=!1){let{package_id:s}=this._sdk.sdkOptions.vaults,et=`${s}_getMirrorPoolConfigs`,nt=this.getCache(et,a);if(nt!==void 0)return nt;let at=(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::vaults::InitEvent`})).data,mt={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(at.length>0){for(let wt of at){let $t=wt.parsedJson;mt.admin_cap_id=$t.admin_cap_id,mt.vaults_manager_id=$t.manager_id;let Ct=await this._sdk.fullClient.getObject({id:mt.vaults_manager_id,options:{showContent:!0}}),Dt=se(Ct);mt.vaults_pool_handle=Dt.vault_to_pool_maps.fields.id.id;break}this.updateCache(et,mt,ee)}return mt}updateCache(a,s,et=ee){let nt=this._cache[a];nt?(nt.overdueTime=oe(et),nt.value=s):nt=new _e(s,oe(et)),this._cache[a]=nt}getCache(a,s=!1){let et=this._cache[a];if(!s&&(et!=null&&et.isValid()))return et.value;delete this._cache[a]}},Fe=class{constructor(a){Yn(this,"_sdk");Yn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPoolImmutables(a=[],s=0,et=100,nt=!1){let{package_id:at}=this._sdk.sdkOptions.clmm_pool,mt=`${at}_getInitPoolEvent`,wt=this.getCache(mt,nt),$t=[],Ct=[];if(wt!==void 0&&$t.push(...wt),$t.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${at}::factory::CreatePoolEvent`})).data.forEach(Ft=>{let jt=Ft.parsedJson;jt&&$t.push({poolAddress:jt.pool_id,tickSpacing:jt.tick_spacing,coinTypeA:P(jt.coin_type_a).full_address,coinTypeB:P(jt.coin_type_b).full_address})}),this.updateCache(mt,$t,ee)}catch(Ft){console.log("getPoolImmutables",Ft)}let Dt=a.length>0;for(let Ft=0;Ft<$t.length;Ft+=1){let jt=$t[Ft];Dt&&!a.includes(jt.poolAddress)||!Dt&&(Ft<s||Ft>=s+et)||Ct.push(jt)}return Ct}async getPools(a=[],s=0,et=100){var wt,$t,Ct;let nt=[],at=[];a.length>0?at=[...a]:(await this.getPoolImmutables([],s,et,!1)).forEach(Dt=>at.push(Dt.poolAddress));let mt=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(let Dt of mt){if(Dt.error!=null||(($t=(wt=Dt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new Z(`getPools error code: ${((Ct=Dt.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");let Ft=We(Dt);nt.push(Ft);let jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,ee)}return nt}async getPool(a,s=!0){var wt,$t,Ct;let et=`${a}_getPoolObject`,nt=this.getCache(et,s);if(nt!==void 0)return nt;let at=await this._sdk.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if(at.error!=null||(($t=(wt=at.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new Z(`getPool error code: ${((Ct=at.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");let mt=We(at);return this.updateCache(et,mt),mt}async getSuiTransactionResponse(a,s=!1){let et=`${a}_getSuiTransactionResponse`,nt=this.getCache(et,s);if(nt!==void 0)return nt;let at;try{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(et,at,ee),at}updateCache(a,s,et=yt){let nt=this._cache[a];nt?(nt.overdueTime=oe(et),nt.value=s):nt=new _e(s,oe(et)),this._cache[a]=nt}getCache(a,s=!1){let et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}},Ee=class extends SuiClient{async queryEventsByPage(a,s="all"){let et=[],nt=!0,at=s==="all",mt=at?null:s.cursor;do{let wt=await this.queryEvents({query:a,cursor:mt,limit:at?null:s.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async getOwnedObjectsByPage(a,s,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.getOwnedObjects({owner:a,...s,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getDynamicFieldsByPage(a,s="all"){let et=[],nt=!0,at=s==="all",mt=at?null:s.cursor;do{let wt=await this.getDynamicFields({parentId:a,cursor:mt,limit:at?null:s.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async batchGetObjects(a,s,et=50){let nt=[];try{for(let at=0;at<Math.ceil(a.length/et);at++){let mt=await this.multiGetObjects({ids:a.slice(at*et,et*(at+1)),options:s});nt=[...nt,...mt]}}catch(at){console.log(at)}return nt}async calculationTxGas(a){let{sender:s}=a.blockData;if(s===void 0)throw Error("sdk sender is empty");let et=await this.devInspectTransactionBlock({transactionBlock:a,sender:s}),{gasUsed:nt}=et.effects;return Number(nt.computationCost)+Number(nt.storageCost)-Number(nt.storageRebate)}async sendTransaction(a,s){try{return await this.signAndExecuteTransaction({transaction:s,signer:a,options:{showEffects:!0,showEvents:!0}})}catch(et){console.log("error: ",et)}}async sendSimulationTransaction(a,s,et=!0){try{if(et)return await this.devInspectTransactionBlock({transactionBlock:a,sender:s})}catch(nt){console.log("devInspectTransactionBlock error",nt)}}},ae=class{constructor(a){Yn(this,"_cache",{});Yn(this,"_rpcModule");Yn(this,"_vaults");Yn(this,"_sdkOptions");Yn(this,"_senderAddress","");Yn(this,"_pool");this._sdkOptions=a,this._rpcModule=new Ee({url:a.fullRpcUrl}),this._vaults=new De(this),this._pool=new Fe(this),Xe(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Vaults(){return this._vaults}get Pool(){return this._pool}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(a,s,et=!0){let nt=[],at=null,mt=`${this.sdkOptions.fullRpcUrl}_${a}_${s}_getOwnerCoinAssets`,wt=this.getCache(mt,et);if(wt)return wt;for(;;){let $t=await(s?this.fullClient.getCoins({owner:a,coinType:s,cursor:at}):this.fullClient.getAllCoins({owner:a,cursor:at}));if($t.data.forEach(Ct=>{BigInt(Ct.balance)>0&&nt.push({coinAddress:P(Ct.coinType).source_address,coinObjectId:Ct.coinObjectId,balance:BigInt(Ct.balance)})}),at=$t.nextCursor,!$t.hasNextPage)break}return this.updateCache(mt,nt,30*1e3),nt}async getOwnerCoinBalances(a,s){let et=[];return s?et=[await this.fullClient.getBalance({owner:a,coinType:s})]:et=[...await this.fullClient.getAllBalances({owner:a})],et}updateCache(a,s,et=ee){let nt=this._cache[a];nt?(nt.overdueTime=oe(et),nt.value=s):nt=new _e(s,oe(et)),this._cache[a]=nt}getCache(a,s=!1){let et=this._cache[a],nt=et==null?void 0:et.isValid();if(!s&&nt)return et.value;nt||delete this._cache[a]}};getFullnodeUrl$1("mainnet"),Env.Mainnet;getFullnodeUrl$1("testnet"),Env.Mainnet;/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

ss-linked-list/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-queue/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-stack/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/const store=(a,s)=>({peripherySdk:new Et(envConfigs$1.periphery_sdk_options,new src_default(envConfigs$1.clmm_sdk_options)),setPeripherySdk:et=>{a(()=>({peripherySdk:et}))},burnSdk:new _$1(envConfigs$1.burn_sdk_options),setBurnSdk:et=>{a(()=>({burnSdk:et}))},vaultsSdk:new ae(envConfigs$1.vaults_sdk_options),setVaultsSDK:et=>{a(()=>({vaultsSdk:et}))},xCetusSdk:new xt$1(envConfigs$1.xcetus_sdk_options),setXCetusSdk:et=>{a(()=>({xCetusSdk:et}))}}),usePeripherySDKStore=create$3(store);function useInterval({interval:a,callback:s}){const et=reactExports.useRef(),nt=reactExports.useRef(null);reactExports.useEffect(()=>{et.current=s},[s]);const at=reactExports.useCallback(()=>{nt.current&&clearInterval(nt.current),a>0&&(nt.current=setInterval(()=>{et.current&&et.current(Date.now())},a))},[a]),mt=reactExports.useCallback(()=>{nt.current&&(clearInterval(nt.current),nt.current=null)},[]);return reactExports.useEffect(()=>(at(),()=>mt()),[]),{startTimer:at,stopTimer:mt}}function useSigner(){const{clmmSdk:a}=useClmmSDKStore(),{currentAccount:s}=useAccountStore(),{mutateAsync:et}=useSignTransaction(),{mutate:nt}=useSignPersonalMessage(),{mutate:at}=useSignAndExecuteTransaction({execute:async({bytes:Ft,signature:jt})=>await wt(Ft,jt)}),mt=reactExports.useMemo(()=>envConfigs$1.env==="mainnet"?"sui:mainnet":"sui:testnet",[s]),wt=async(Ft,jt,Ut=!1)=>{var ir,sr;if(Ut){const ur=await a.fullClient.devInspectTransactionBlock({transactionBlock:Transaction.from(fromBase64(Ft)),sender:s.address});if(console.log("devInspectTransactionBlock:",ur),!ur||((ir=ur.effects)==null?void 0:ir.status.status)==="failure")throw Error((sr=ur.effects)==null?void 0:sr.status.error)}return await a.fullClient.executeTransactionBlock({transactionBlock:Ft,signature:jt,options:{showEvents:!0,showRawEffects:!0,showEffects:!0,showBalanceChanges:!0,showObjectChanges:!0,showInput:!0}})};return{signAndExecuteTransactionBlock:async(Ft,jt=!1)=>{var tr,ir;let Ut;if(typeof Ft=="string"?Ut=Transaction.from(Ft):Ut=Ft,console.log("chain: ",{chain:mt,transactionBlock:Ft}),jt){const sr=await a.fullClient.devInspectTransactionBlock({transactionBlock:Ft,sender:s.address});if(console.log("devInspectTransactionBlock:",sr),!sr||((tr=sr.effects)==null?void 0:tr.status.status)==="failure")throw Error((ir=sr.effects)==null?void 0:ir.status.error)}return Ut.setGasBudget(1e8),console.log("🚀 ~ file: useSigner.ts:71 ~ signTransactionBlock ~ transactionBlock:",Ft),new Promise((sr,ur)=>{at({transaction:Ut,chain:mt},{onSuccess:fr=>{console.log(" signAndExecuteTransactionBlock  executed transaction",fr),sr(fr)},onError:fr=>{console.error("signAndExecuteTransactionBlock transaction failed",fr),ur(fr)}})})},signTransactionBlock:async Ft=>(console.log("🚀🚀🚀 ~ file: useSigner.ts:74 ~ signTransactionBlock ~ transactionBlock:",Ft instanceof Uint8Array,Ft),Ft instanceof Uint8Array&&(Ft=Transaction.from(Ft)),typeof Ft=="string"&&(Ft=Transaction.from(fromBase64(Ft))),console.log("🚀 ~ file: useSigner.ts:105 ~ signTransactionBlock ~ transactionBlock:",{transactionBlock:Ft,chain:mt}),new Promise((jt,Ut)=>{et({transaction:Ft,chain:mt},{onSuccess:tr=>{console.log("signTransactionBlock result",tr),jt(tr)},onError:tr=>{console.error("signTransactionBlock failed",tr),Ut(tr)},onSettled:(tr,ir,sr,ur)=>{}})})),executeTransactionBlock:wt,signUserMessage:async Ft=>(console.log("🚀🚀🚀 ~ useSigner.ts:167 ~ signUserMessage ~ message:",Ft),console.log("🚀🚀🚀 ~ useSigner.ts:167 ~ returnnewPromise ~ currentAccount:",s),new Promise((jt,Ut)=>{nt({message:Ft},{onSuccess:tr=>{console.log("signUserMessage result",tr),jt(tr)},onError:tr=>{console.error("signUserMessage failed",tr),Ut(tr)},onSettled:(tr,ir,sr,ur)=>{}})}))}}var c=class{constructor(){Yn(this,"_listeners",{})}on(a,s,et=0){this._listeners[a]||(this._listeners[a]=[]),s._priority=et,this._listeners[a].indexOf(s)===-1&&(this._listeners[a].push(s),this._listeners[a].length>1&&this._listeners[a].sort(this.listenerSorter))}listenerSorter(a,s){return a._priority-s._priority}off(a,s){if(this._listeners[a]===void 0)return;if(s===void 0){delete this._listeners[a];return}let et=this._listeners[a].indexOf(s);-1<et&&this._listeners[a].splice(et,1)}trigger(a,s={}){if(typeof a=="string"&&(a={type:a,data:typeof s=="object"&&s!==null?s:{}}),typeof this._listeners[a.type]<"u")for(let et=this._listeners[a.type].length-1;et>=0;et--)this._listeners[a.type][et](a)}destroy(){this._listeners={}}},r=class extends c{constructor(s=Math.random()*100|0){super();Yn(this,"id");Yn(this,"connected");Yn(this,"connecting");Yn(this,"isChild");Yn(this,"debug");Yn(this,"supported");Yn(this,"origin");Yn(this,"_sendLater");Yn(this,"iframe");this.id=`BELLHOP:${s}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(s){if(this.target===s.source){if(this.logDebugMessage(!0,s),s.data!=="connected"){let et=s.data;if(typeof et=="string")try{et=JSON.parse(et)}catch(nt){console.warn("Bellhop error: ",nt)}this.connected&&typeof et=="object"&&et.type&&this.trigger(et);return}this.onConnectionReceived(s.data)}}onConnectionReceived(s){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(s,this.origin)}for(let et=0;et<this._sendLater.length;et++){let{type:nt,data:at}=this._sendLater[et];this.send(nt,at)}this._sendLater.length=0,this.trigger("connected")}connect(s,et="*"){var nt;this.connecting||(this.disconnect(),this.connecting=!0,s instanceof HTMLIFrameElement&&(this.iframe=s),this.isChild=s===void 0,this.supported=!0,this.isChild&&(this.supported=window!=s),this.origin=et,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):(nt=this.target)==null||nt.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(s,et={}){var at;if(typeof s!="string")throw"The event type must be a string";let nt={type:s,data:et};this.logDebugMessage(!1,nt),this.connecting?this._sendLater.push(nt):(at=this.target)==null||at.postMessage(JSON.stringify(nt,(mt,wt)=>typeof wt=="bigint"?wt.toString():wt),this.origin)}fetch(s,et,nt={},at=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let mt=wt=>{at&&this.off(wt.type,mt),et(wt)};this.on(s,mt),this.send(s,nt)}respond(s,et={},nt=!1){let at=this,mt=async function(wt){nt&&at.off(wt,mt),typeof et=="function"?at.send(wt.type,await et()):at.send(wt.type,et)};this.on(s,mt)}logDebugMessage(s=!1,et){this.debug&&typeof this.debug=="function"?console.log({isChild:this.isChild,received:s,message:et}):this.debug&&console.log(`Bellhop Instance (${this.isChild?"Child":"Parent"}) ${s?"Received":"Sent"}`,et)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){var s;return this.isChild?window.parent:(s=this.iframe)==null?void 0:s.contentWindow}},M=class{constructor(a,s,et){Yn(this,"accounts",[]);Yn(this,"currentAccount");Yn(this,"bellhop",new r);Yn(this,"walletMessageListener");Yn(this,"onAccountChangeListner");Yn(this,"version","1.0.0");Yn(this,"name","MSafe Wallet");Yn(this,"icon","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ3IiBoZWlnaHQ9IjE3MCIgdmlld0JveD0iMCAwIDI0NyAxNzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAyLjU5MyAyMy4wMTNDMTA3LjQ5OSAyNi4wNTU4IDExMC43OTQgMzAuODc4NSAxNDAuOTEyIDc5LjEwMzlDMTcyLjQxOSAxMjkuNTUyIDE3My44NjQgMTMyLjExNCAxNzMuODY0IDEzNy41MzZDMTczLjg2NCAxNDIuNDUxIDE3My4zNCAxNDMuNzI1IDE2OS45MTcgMTQ3LjExMkMxNjYuNDc2IDE1MC41MTggMTY1LjIyMiAxNTEuMDE5IDE2MC4xMzggMTUxLjAxOUMxNTUuNTg0IDE1MS4wMTkgMTUzLjUzNiAxNTAuMzc4IDE1MC43OTcgMTQ4LjA5N0MxNDguODY4IDE0Ni40OTEgMTM5Ljg2MiAxMzMuMTc1IDEzMC43ODUgMTE4LjUwOEMxMDMuNzE5IDc0Ljc3NDEgOTAuMDYxIDUzLjE2NzYgODkuNzI2NyA1My41NTQ5Qzg2LjY2ODUgNTcuMTAzMyA3OC42NjEgNzIuMzY1NiA3OC42NjEgNzQuNjQ0M0M3OC42NjEgNzYuNTM4IDg0LjQ0NjMgODcuMzAwNCA5My43MjA1IDEwMi42NThDMTAyLjAwMyAxMTYuMzc0IDEwOS41OTQgMTI5LjUyNCAxMTAuNTg5IDEzMS44ODFDMTE0LjQ2NCAxNDEuMDYyIDEwNy43NTQgMTUxLjAxOSA5Ny42ODc3IDE1MS4wMTlDOTQuODQwOSAxNTEuMDE5IDkxLjIxNTEgMTUwLjE3OCA4OS42MzAzIDE0OS4xNTFDODguMDQ1NSAxNDguMTIyIDgwLjk3OTUgMTM3Ljc4IDczLjkyODcgMTI2LjE2OUM2Ni44Nzc4IDExNC41NTYgNjAuNjc0NSAxMDUuMDU1IDYwLjE0MjggMTA1LjA1NUM1OS42MTEgMTA1LjA1NSA1My42OTMzIDExNC4yMzQgNDYuOTkzMSAxMjUuNDUyQzQwLjI5MjkgMTM2LjY2OSAzMy43MjYyIDE0Ni44MTUgMzIuNDAxNSAxNDcuOTk1QzMxLjA3NjcgMTQ5LjE3NiAyNy43MDYzIDE1MC4zOTYgMjQuOTEyOSAxNTAuNzA5QzE1LjgzODQgMTUxLjcyMSA5IDE0NS44NzggOSAxMzcuMTFDOSAxMzIuODQyIDkuMDQ4NzYgMTMyLjc1MiA0My41MzU2IDc0LjAyOTVDNTcuODI1NCA0OS42OTczIDcxLjIyMTIgMjguMDc5MyA3My4zMDQxIDI1Ljk4OTFDODEuMDc3MSAxOC4xODc5IDkyLjg4IDE2Ljk4OTQgMTAyLjU5MyAyMy4wMTNaTTE2Ni45MDEgMjMuMDIzM0MxNzAuMzA4IDI2LjQ4MjEgMjMzLjQ5OSAxMjcuMTE2IDIzNS40NDcgMTMyLjE4NUMyMzguMjU4IDEzOS41MDQgMjM1LjI3NyAxNDYuMzEyIDIyNy42NjUgMTQ5Ljk2QzIyMy41NDcgMTUxLjkzMyAyMjIuMDczIDE1Mi4xMSAyMTguMjQ1IDE1MS4wODlDMjE1Ljc0OSAxNTAuNDI0IDIxMi44NjYgMTQ4Ljk2IDIxMS44MzggMTQ3LjgzNUMyMTAuODA5IDE0Ni43MSAxOTQuNzk2IDEyMS41IDE3Ni4yNTMgOTEuODExOEMxNDAuMDU0IDMzLjg1NyAxNDAuMDQ0IDMzLjgzNTIgMTQ0LjI3NCAyNS43Mzk4QzE0OC4yNjMgMTguMTAxNyAxNjAuNTk0IDE2LjYyMjggMTY2LjkwMSAyMy4wMjMzWiIgZmlsbD0iIzQ4QjVBNyIvPgo8L3N2Zz4K");Yn(this,"chains",[SUI_MAINNET_CHAIN,SUI_TESTNET_CHAIN]);Yn(this,"features",{"standard:connect":{version:"1.0.0",connect:async()=>{this.bellhop.send("connect");let a=await this.fetch("account");return this.accounts=a,a.length>0&&(this.currentAccount=a[0]),{accounts:a}}},"standard:events":{version:"1.0.0",on:a=>()=>{}},"sui:signMessage":{version:"1.0.0",signMessage:async()=>{throw new Error("No impl")}},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:async()=>{throw new Error("No impl")}},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:async a=>this.proposeIntention(a)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:async a=>this.proposeIntention(a)}});this.appName=a,this.clientUrl=s,this.network=et,this.bellhop.connect(),this.bellhop.on("walletMessage",async nt=>{this.walletMessageListener&&this.walletMessageListener.onMessage(nt.data)}),this.bellhop.on("accountChange",async nt=>{this.currentAccount=nt.data,this.onAccountChangeListner&&this.onAccountChangeListner.onAccountChange(this.currentAccount)})}setWalletMessageListener(a){this.walletMessageListener=a}setOnAccountChangeListener(a){this.onAccountChangeListner=a}static inMSafeWallet(){return typeof window<"u"&&typeof document<"u"&&typeof parent<"u"&&typeof parent.window<"u"&&parent.window!==window}async proposeIntention(a){if(!this.currentAccount)throw new Error("Wallet not connected");let s=a.transactionBlock.serialize();this.bellhop.send("proposeIntention",{application:this.appName,...a,transactionBlockSerialize:s,clientUrl:this.clientUrl,network:this.network,account:this.currentAccount,isTransaction:!0});let et;return this.bellhop.on("cancel",async()=>{et&&et("User canceled")}),new Promise((nt,at)=>{et=at})}async fetch(a){return new Promise(s=>{this.bellhop.fetch(a,et=>{s(et.data)})})}},dist={},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(dist,"__esModule",{value:!0});var executeAuction_1=dist.executeAuction=executeAuction;const axios_1=__importDefault(require$$0$2),RPC_URL="https://rpc.getshio.com",DEFAULT_MAX_DELAY=500,AUCTION_DELAY=300;function executeAuction(a,s,et=DEFAULT_MAX_DELAY){const nt={jsonrpc:"2.0",method:"shio_executeAuction",params:[a,s],id:1};return new Promise((at,mt)=>{setTimeout(at,et),axios_1.default.post(RPC_URL,nt,{headers:{"Content-Type":"application/json"},timeout:et}).then(wt=>{console.log("Shio executeAuction response:",wt.data),setTimeout(at,AUCTION_DELAY)}).catch(mt)})}dist.default={executeAuction};const isMenuActive=(a,s)=>s.startsWith(a.path)||!!a.children&&a.children.some(et=>isMenuActive(et,s)),getCroppedImg=(a,s,et,nt="image/jpeg")=>new Promise((at,mt)=>{const wt=new Image;wt.src=a,wt.crossOrigin="anonymous",wt.onload=()=>{const $t=document.createElement("canvas"),Ct=$t.getContext("2d");$t.width=s.width,$t.height=s.height,Ct.drawImage(wt,s.x,s.y,s.width,s.height,0,0,s.width,s.height),$t.toDataURL(nt),$t.toBlob(Dt=>{if(Dt){const Ft=new File([Dt],et,{type:nt});at(Ft)}},nt)},wt.onerror=$t=>{mt($t)}}),calcNumber=a=>typeof a=="string"&&a.includes("px")?parseInt(a.replace("px","")):a.toString(),replaceFilename=(a,s)=>{const et=new Blob([a],{type:a.type});return new File([et],s,{type:a.type,lastModified:a.lastModified})},ExcludeCNCharRegex=/^[^\u4e00-\u9fa5]+$/,ExcludeSpecialCharRegex=/^[a-zA-Z0-9\s]+$/,SymbolExcludeSpecialCharRegex=/^[a-zA-Z0-9_]+$/,SymbolLimitRegex=/^[A-Z][A-Za-z_0-9]*$/,BlankSpaceRegex=/\s/,WebSiteUrlRegex=/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/,XUrlRegex=/^(https?:\/\/)?(www\.)?x\.com\/([a-zA-Z0-9_\/\-]*)$/,DiscordRegex=/^(https?:\/\/)?(www\.)?discord\.com(\/[a-zA-Z0-9_\/\-]*)?$/,TelegramRegex=/^(https?:\/\/)?(www\.)?(t\.me|telegram\.org)(\/[a-zA-Z0-9_\-]*)?$/;function SelectTab(a){const{type:s,tabList:et,currentTab:nt,isActive:at,handleChangeTab:mt,wrapStyle:wt={h:"60px",p:"8px"},itemStyle:$t={fontSize:"14px"},...Ct}=a,{isApp:Dt}=useWindowWidth(),Ft=jt=>at?at(nt,jt):nt===(jt.key||jt.label);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s==="outlineTab"&&jsxRuntimeExports.jsx(Flex,{bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",...wt,children:et==null?void 0:et.map(jt=>{const Ut=Ft(jt);return jsxRuntimeExports.jsxs(Flex,{borderRadius:"4px",align:"center",justify:"center",cursor:"pointer",bg:Ut?"card_bg":"none",onClick:()=>mt(jt),...$t,children:[jt.imgInfo&&(jt!=null&&jt.isToken?jsxRuntimeExports.jsx(SingleCoinImage,{...jt.imgInfo,imageUrl:jt.imgInfo.src}):jsxRuntimeExports.jsx(Image$1,{...jt.imgInfo,src:jt.imgInfo.src})),jt.beforeIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ut})}):jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ut})),jsxRuntimeExports.jsx(Text,{fontSize:$t.fontSize,whiteSpace:"nowrap",color:Ut?"primary":"primary_gray",_hover:{color:Dt?"none":"primary"},children:jt!=null&&jt.isToken?textEllipses(jt.label,10):jt.label}),(jt==null?void 0:jt.num)!==""&&((jt==null?void 0:jt.num)||Number(jt==null?void 0:jt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:jt==null?void 0:jt.num}),jt.afterIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ut})}):jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ut}))]},(jt==null?void 0:jt.key)||jt.label)})}),s==="borderTab"&&jsxRuntimeExports.jsx(Flex,{borderRadius:"12px",bg:"bg_secondary",border:"1px solid",borderColor:"border",...wt,children:et==null?void 0:et.map(jt=>jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"center",cursor:"pointer",onClick:()=>mt(jt),...$t,...Ct,children:[jt.imgInfo&&jsxRuntimeExports.jsx(Image$1,{...jt.imgInfo,src:jt.imgInfo.src,mr:"8px"}),jt.beforeIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ft(jt)})}):jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ft(jt)})),jsxRuntimeExports.jsx(Text,{color:(at?at(nt,jt):nt==(jt.key||jt.label))?"primary":"primary_gray",fontSize:$t.fontSize,h:$t.fontSize,lineHeight:$t.fontSize,position:"relative",sx:Object.assign({_hover:{color:"primary"},_before:(at?at(nt,jt):nt==(jt.key||jt.label))?{content:"''",width:"20px",height:"2px",background:"primary",position:"absolute",left:"calc(50% - 10px)",bottom:-d$1(calcNumber(wt.h)).minus(calcNumber($t.fontSize||"14px")).div(2).toString()+"px"}:{}},($t==null?void 0:$t.sx)||{}),children:jt.label}),(jt==null?void 0:jt.num)!==""&&((jt==null?void 0:jt.num)||Number(jt==null?void 0:jt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:jt==null?void 0:jt.num}),jt.afterIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ft(jt)})}):jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ft(jt)})),(jt==null?void 0:jt.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-30px",top:"10px",h:"12px"})]},(jt==null?void 0:jt.key)||jt.label))})]})}const TooltipCon=({children:a,tooltip:s})=>jsxRuntimeExports.jsx(Tooltip,{label:jsxRuntimeExports.jsx(Text,{fontSize:"12px",lineHeight:"20px",children:s}),"aria-label":"Yield",placement:"bottom-end",children:jsxRuntimeExports.jsx("button",{onClick:et=>cancelBubble(et),children:a})});function SearchInput({inputValue:a,changeInputValue:s,isFrom:et="",inputFontSize:nt="sm",isWidget:at=!1}){const mt=reactExports.useRef(null),{isApp:wt}=useWindowWidth();return reactExports.useEffect(()=>{wt||mt.current.focus()},[wt]),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{_hover:{bg:at?"swap_bg_secondary":"bg_secondary"},bg:at?"swap_bg_secondary":"bg_secondary",ref:mt,borderRadius:"8px",h:"36px",border:"none",variant:"outline",value:a,onChange:$t=>{s($t.target.value)},fontWeight:"500",textAlign:"left",fontSize:nt,placeholder:"Search by token or address",pr:et=="pools"?"22px":{base:"28px",md:"28px",lg:"28px"},pl:et=="pools"?"8px":{md:"12px",lg:"16px"}}),jsxRuntimeExports.jsx(InputRightElement,{children:a?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",position:"absolute",top:"8px",right:et=="pools"?"4px":"8px",onClick:$t=>{$t.stopPropagation(),s("")}}):null})]})}var _populated=!1,_ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile;function _populate(){if(!_populated){_populated=!0;var a=navigator.userAgent,s=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),et=/(Mac OS X)|(Windows)|(Linux)/.exec(a);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(a),_ipad=/\b(iP[ao]d)/.exec(a),_android=/Android/i.exec(a),_native=/FBAN\/\w+;/i.exec(a),_mobile=/Mobile/i.exec(a),_win64=!!/Win64/.exec(a),s){_ie=s[1]?parseFloat(s[1]):s[5]?parseFloat(s[5]):NaN,_ie&&document&&document.documentMode&&(_ie=document.documentMode);var nt=/(?:Trident\/(\d+.\d+))/.exec(a);_ie_real_version=nt?parseFloat(nt[1])+4:_ie,_firefox=s[2]?parseFloat(s[2]):NaN,_opera=s[3]?parseFloat(s[3]):NaN,_webkit=s[4]?parseFloat(s[4]):NaN,_webkit?(s=/(?:Chrome\/(\d+\.\d+))/.exec(a),_chrome=s&&s[1]?parseFloat(s[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if(et){if(et[1]){var at=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);_osx=at?parseFloat(at[1].replace("_",".")):!0}else _osx=!1;_windows=!!et[2],_linux=!!et[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED$1={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED$1.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED$1.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}},UserAgent_DEPRECATED_1=UserAgent_DEPRECATED$1,canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),ExecutionEnvironment$1={canUseDOM},ExecutionEnvironment_1=ExecutionEnvironment$1,ExecutionEnvironment=ExecutionEnvironment_1,useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function isEventSupported$1(a,s){if(!ExecutionEnvironment.canUseDOM||s&&!("addEventListener"in document))return!1;var et="on"+a,nt=et in document;if(!nt){var at=document.createElement("div");at.setAttribute(et,"return;"),nt=typeof at[et]=="function"}return!nt&&useHasFeature&&a==="wheel"&&(nt=document.implementation.hasFeature("Events.wheel","3.0")),nt}var isEventSupported_1=isEventSupported$1,UserAgent_DEPRECATED=UserAgent_DEPRECATED_1,isEventSupported=isEventSupported_1,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel$2(a){var s=0,et=0,nt=0,at=0;return"detail"in a&&(et=a.detail),"wheelDelta"in a&&(et=-a.wheelDelta/120),"wheelDeltaY"in a&&(et=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(s=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(s=et,et=0),nt=s*PIXEL_STEP,at=et*PIXEL_STEP,"deltaY"in a&&(at=a.deltaY),"deltaX"in a&&(nt=a.deltaX),(nt||at)&&a.deltaMode&&(a.deltaMode==1?(nt*=LINE_HEIGHT,at*=LINE_HEIGHT):(nt*=PAGE_HEIGHT,at*=PAGE_HEIGHT)),nt&&!s&&(s=nt<1?-1:1),at&&!et&&(et=at<1?-1:1),{spinX:s,spinY:et,pixelX:nt,pixelY:at}}normalizeWheel$2.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"};var normalizeWheel_1=normalizeWheel$2,normalizeWheel=normalizeWheel_1;const normalizeWheel$1=getDefaultExportFromCjs$2(normalizeWheel);function getCropSize(a,s,et,nt,at,mt){mt===void 0&&(mt=0);var wt=rotateSize(a,s,mt),$t=wt.width,Ct=wt.height,Dt=Math.min($t,et),Ft=Math.min(Ct,nt);return Dt>Ft*at?{width:Ft*at,height:Ft}:{width:Dt,height:Dt/at}}function getMediaZoom(a){return a.width>a.height?a.width/a.naturalWidth:a.height/a.naturalHeight}function restrictPosition(a,s,et,nt,at){at===void 0&&(at=0);var mt=rotateSize(s.width,s.height,at),wt=mt.width,$t=mt.height;return{x:restrictPositionCoord(a.x,wt,et.width,nt),y:restrictPositionCoord(a.y,$t,et.height,nt)}}function restrictPositionCoord(a,s,et,nt){var at=s*nt/2-et/2;return clamp(a,-at,at)}function getDistanceBetweenPoints(a,s){return Math.sqrt(Math.pow(a.y-s.y,2)+Math.pow(a.x-s.x,2))}function getRotationBetweenPoints(a,s){return Math.atan2(s.y-a.y,s.x-a.x)*180/Math.PI}function computeCroppedArea(a,s,et,nt,at,mt,wt){mt===void 0&&(mt=0),wt===void 0&&(wt=!0);var $t=wt?limitArea:noOp,Ct=rotateSize(s.width,s.height,mt),Dt=rotateSize(s.naturalWidth,s.naturalHeight,mt),Ft={x:$t(100,((Ct.width-et.width/at)/2-a.x/at)/Ct.width*100),y:$t(100,((Ct.height-et.height/at)/2-a.y/at)/Ct.height*100),width:$t(100,et.width/Ct.width*100/at),height:$t(100,et.height/Ct.height*100/at)},jt=Math.round($t(Dt.width,Ft.width*Dt.width/100)),Ut=Math.round($t(Dt.height,Ft.height*Dt.height/100)),tr=Dt.width>=Dt.height*nt,ir=tr?{width:Math.round(Ut*nt),height:Ut}:{width:jt,height:Math.round(jt/nt)},sr=__assign$1(__assign$1({},ir),{x:Math.round($t(Dt.width-ir.width,Ft.x*Dt.width/100)),y:Math.round($t(Dt.height-ir.height,Ft.y*Dt.height/100))});return{croppedAreaPercentages:Ft,croppedAreaPixels:sr}}function limitArea(a,s){return Math.min(a,Math.max(0,s))}function noOp(a,s){return s}function getInitialCropFromCroppedAreaPercentages(a,s,et,nt,at,mt){var wt=rotateSize(s.width,s.height,et),$t=clamp(nt.width/wt.width*(100/a.width),at,mt),Ct={x:$t*wt.width/2-nt.width/2-wt.width*$t*(a.x/100),y:$t*wt.height/2-nt.height/2-wt.height*$t*(a.y/100)};return{crop:Ct,zoom:$t}}function getZoomFromCroppedAreaPixels(a,s,et){var nt=getMediaZoom(s);return et.height>et.width?et.height/(a.height*nt):et.width/(a.width*nt)}function getInitialCropFromCroppedAreaPixels(a,s,et,nt,at,mt){et===void 0&&(et=0);var wt=rotateSize(s.naturalWidth,s.naturalHeight,et),$t=clamp(getZoomFromCroppedAreaPixels(a,s,nt),at,mt),Ct=nt.height>nt.width?nt.height/a.height:nt.width/a.width,Dt={x:((wt.width-a.width)/2-a.x)*Ct,y:((wt.height-a.height)/2-a.y)*Ct};return{crop:Dt,zoom:$t}}function getCenter(a,s){return{x:(s.x+a.x)/2,y:(s.y+a.y)/2}}function getRadianAngle(a){return a*Math.PI/180}function rotateSize(a,s,et){var nt=getRadianAngle(et);return{width:Math.abs(Math.cos(nt)*a)+Math.abs(Math.sin(nt)*s),height:Math.abs(Math.sin(nt)*a)+Math.abs(Math.cos(nt)*s)}}function clamp(a,s,et){return Math.min(Math.max(a,s),et)}function classNames(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return a.filter(function(et){return typeof et=="string"&&et.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=function(a){__extends$1(s,a);function s(){var et=a!==null&&a.apply(this,arguments)||this;return et.cropperRef=reactExports.createRef(),et.imageRef=reactExports.createRef(),et.videoRef=reactExports.createRef(),et.containerPosition={x:0,y:0},et.containerRef=null,et.styleRef=null,et.containerRect=null,et.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},et.dragStartPosition={x:0,y:0},et.dragStartCrop={x:0,y:0},et.gestureZoomStart=0,et.gestureRotationStart=0,et.isTouching=!1,et.lastPinchDistance=0,et.lastPinchRotation=0,et.rafDragTimeout=null,et.rafPinchTimeout=null,et.wheelTimer=null,et.currentDoc=typeof document<"u"?document:null,et.currentWindow=typeof window<"u"?window:null,et.resizeObserver=null,et.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},et.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!et.containerRef)){var nt=!0;et.resizeObserver=new window.ResizeObserver(function(at){if(nt){nt=!1;return}et.computeSizes()}),et.resizeObserver.observe(et.containerRef)}},et.preventZoomSafari=function(nt){return nt.preventDefault()},et.cleanEvents=function(){et.currentDoc&&(et.currentDoc.removeEventListener("mousemove",et.onMouseMove),et.currentDoc.removeEventListener("mouseup",et.onDragStopped),et.currentDoc.removeEventListener("touchmove",et.onTouchMove),et.currentDoc.removeEventListener("touchend",et.onDragStopped),et.currentDoc.removeEventListener("gesturemove",et.onGestureMove),et.currentDoc.removeEventListener("gestureend",et.onGestureEnd),et.currentDoc.removeEventListener("scroll",et.onScroll))},et.clearScrollEvent=function(){et.containerRef&&et.containerRef.removeEventListener("wheel",et.onWheel),et.wheelTimer&&clearTimeout(et.wheelTimer)},et.onMediaLoad=function(){var nt=et.computeSizes();nt&&(et.emitCropData(),et.setInitialCrop(nt)),et.props.onMediaLoaded&&et.props.onMediaLoaded(et.mediaSize)},et.setInitialCrop=function(nt){if(et.props.initialCroppedAreaPercentages){var at=getInitialCropFromCroppedAreaPercentages(et.props.initialCroppedAreaPercentages,et.mediaSize,et.props.rotation,nt,et.props.minZoom,et.props.maxZoom),mt=at.crop,wt=at.zoom;et.props.onCropChange(mt),et.props.onZoomChange&&et.props.onZoomChange(wt)}else if(et.props.initialCroppedAreaPixels){var $t=getInitialCropFromCroppedAreaPixels(et.props.initialCroppedAreaPixels,et.mediaSize,et.props.rotation,nt,et.props.minZoom,et.props.maxZoom),mt=$t.crop,wt=$t.zoom;et.props.onCropChange(mt),et.props.onZoomChange&&et.props.onZoomChange(wt)}},et.computeSizes=function(){var nt,at,mt,wt,$t,Ct,Dt=et.imageRef.current||et.videoRef.current;if(Dt&&et.containerRef){et.containerRect=et.containerRef.getBoundingClientRect(),et.saveContainerPosition();var Ft=et.containerRect.width/et.containerRect.height,jt=((nt=et.imageRef.current)===null||nt===void 0?void 0:nt.naturalWidth)||((at=et.videoRef.current)===null||at===void 0?void 0:at.videoWidth)||0,Ut=((mt=et.imageRef.current)===null||mt===void 0?void 0:mt.naturalHeight)||((wt=et.videoRef.current)===null||wt===void 0?void 0:wt.videoHeight)||0,tr=Dt.offsetWidth<jt||Dt.offsetHeight<Ut,ir=jt/Ut,sr=void 0;if(tr)switch(et.state.mediaObjectFit){default:case"contain":sr=Ft>ir?{width:et.containerRect.height*ir,height:et.containerRect.height}:{width:et.containerRect.width,height:et.containerRect.width/ir};break;case"horizontal-cover":sr={width:et.containerRect.width,height:et.containerRect.width/ir};break;case"vertical-cover":sr={width:et.containerRect.height*ir,height:et.containerRect.height};break}else sr={width:Dt.offsetWidth,height:Dt.offsetHeight};et.mediaSize=__assign$1(__assign$1({},sr),{naturalWidth:jt,naturalHeight:Ut}),et.props.setMediaSize&&et.props.setMediaSize(et.mediaSize);var ur=et.props.cropSize?et.props.cropSize:getCropSize(et.mediaSize.width,et.mediaSize.height,et.containerRect.width,et.containerRect.height,et.props.aspect,et.props.rotation);return((($t=et.state.cropSize)===null||$t===void 0?void 0:$t.height)!==ur.height||((Ct=et.state.cropSize)===null||Ct===void 0?void 0:Ct.width)!==ur.width)&&et.props.onCropSizeChange&&et.props.onCropSizeChange(ur),et.setState({cropSize:ur},et.recomputeCropPosition),et.props.setCropSize&&et.props.setCropSize(ur),ur}},et.saveContainerPosition=function(){if(et.containerRef){var nt=et.containerRef.getBoundingClientRect();et.containerPosition={x:nt.left,y:nt.top}}},et.onMouseDown=function(nt){et.currentDoc&&(nt.preventDefault(),et.currentDoc.addEventListener("mousemove",et.onMouseMove),et.currentDoc.addEventListener("mouseup",et.onDragStopped),et.saveContainerPosition(),et.onDragStart(s.getMousePoint(nt)))},et.onMouseMove=function(nt){return et.onDrag(s.getMousePoint(nt))},et.onScroll=function(nt){et.currentDoc&&(nt.preventDefault(),et.saveContainerPosition())},et.onTouchStart=function(nt){et.currentDoc&&(et.isTouching=!0,!(et.props.onTouchRequest&&!et.props.onTouchRequest(nt))&&(et.currentDoc.addEventListener("touchmove",et.onTouchMove,{passive:!1}),et.currentDoc.addEventListener("touchend",et.onDragStopped),et.saveContainerPosition(),nt.touches.length===2?et.onPinchStart(nt):nt.touches.length===1&&et.onDragStart(s.getTouchPoint(nt.touches[0]))))},et.onTouchMove=function(nt){nt.preventDefault(),nt.touches.length===2?et.onPinchMove(nt):nt.touches.length===1&&et.onDrag(s.getTouchPoint(nt.touches[0]))},et.onGestureStart=function(nt){et.currentDoc&&(nt.preventDefault(),et.currentDoc.addEventListener("gesturechange",et.onGestureMove),et.currentDoc.addEventListener("gestureend",et.onGestureEnd),et.gestureZoomStart=et.props.zoom,et.gestureRotationStart=et.props.rotation)},et.onGestureMove=function(nt){if(nt.preventDefault(),!et.isTouching){var at=s.getMousePoint(nt),mt=et.gestureZoomStart-1+nt.scale;if(et.setNewZoom(mt,at,{shouldUpdatePosition:!0}),et.props.onRotationChange){var wt=et.gestureRotationStart+nt.rotation;et.props.onRotationChange(wt)}}},et.onGestureEnd=function(nt){et.cleanEvents()},et.onDragStart=function(nt){var at,mt,wt=nt.x,$t=nt.y;et.dragStartPosition={x:wt,y:$t},et.dragStartCrop=__assign$1({},et.props.crop),(mt=(at=et.props).onInteractionStart)===null||mt===void 0||mt.call(at)},et.onDrag=function(nt){var at=nt.x,mt=nt.y;et.currentWindow&&(et.rafDragTimeout&&et.currentWindow.cancelAnimationFrame(et.rafDragTimeout),et.rafDragTimeout=et.currentWindow.requestAnimationFrame(function(){if(et.state.cropSize&&!(at===void 0||mt===void 0)){var wt=at-et.dragStartPosition.x,$t=mt-et.dragStartPosition.y,Ct={x:et.dragStartCrop.x+wt,y:et.dragStartCrop.y+$t},Dt=et.props.restrictPosition?restrictPosition(Ct,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):Ct;et.props.onCropChange(Dt)}}))},et.onDragStopped=function(){var nt,at;et.isTouching=!1,et.cleanEvents(),et.emitCropData(),(at=(nt=et.props).onInteractionEnd)===null||at===void 0||at.call(nt)},et.onWheel=function(nt){if(et.currentWindow&&!(et.props.onWheelRequest&&!et.props.onWheelRequest(nt))){nt.preventDefault();var at=s.getMousePoint(nt),mt=normalizeWheel$1(nt).pixelY,wt=et.props.zoom-mt*et.props.zoomSpeed/200;et.setNewZoom(wt,at,{shouldUpdatePosition:!0}),et.state.hasWheelJustStarted||et.setState({hasWheelJustStarted:!0},function(){var $t,Ct;return(Ct=($t=et.props).onInteractionStart)===null||Ct===void 0?void 0:Ct.call($t)}),et.wheelTimer&&clearTimeout(et.wheelTimer),et.wheelTimer=et.currentWindow.setTimeout(function(){return et.setState({hasWheelJustStarted:!1},function(){var $t,Ct;return(Ct=($t=et.props).onInteractionEnd)===null||Ct===void 0?void 0:Ct.call($t)})},250)}},et.getPointOnContainer=function(nt,at){var mt=nt.x,wt=nt.y;if(!et.containerRect)throw new Error("The Cropper is not mounted");return{x:et.containerRect.width/2-(mt-at.x),y:et.containerRect.height/2-(wt-at.y)}},et.getPointOnMedia=function(nt){var at=nt.x,mt=nt.y,wt=et.props,$t=wt.crop,Ct=wt.zoom;return{x:(at+$t.x)/Ct,y:(mt+$t.y)/Ct}},et.setNewZoom=function(nt,at,mt){var wt=mt===void 0?{}:mt,$t=wt.shouldUpdatePosition,Ct=$t===void 0?!0:$t;if(!(!et.state.cropSize||!et.props.onZoomChange)){var Dt=clamp(nt,et.props.minZoom,et.props.maxZoom);if(Ct){var Ft=et.getPointOnContainer(at,et.containerPosition),jt=et.getPointOnMedia(Ft),Ut={x:jt.x*Dt-Ft.x,y:jt.y*Dt-Ft.y},tr=et.props.restrictPosition?restrictPosition(Ut,et.mediaSize,et.state.cropSize,Dt,et.props.rotation):Ut;et.props.onCropChange(tr)}et.props.onZoomChange(Dt)}},et.getCropData=function(){if(!et.state.cropSize)return null;var nt=et.props.restrictPosition?restrictPosition(et.props.crop,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):et.props.crop;return computeCroppedArea(nt,et.mediaSize,et.state.cropSize,et.getAspect(),et.props.zoom,et.props.rotation,et.props.restrictPosition)},et.emitCropData=function(){var nt=et.getCropData();if(nt){var at=nt.croppedAreaPercentages,mt=nt.croppedAreaPixels;et.props.onCropComplete&&et.props.onCropComplete(at,mt),et.props.onCropAreaChange&&et.props.onCropAreaChange(at,mt)}},et.emitCropAreaChange=function(){var nt=et.getCropData();if(nt){var at=nt.croppedAreaPercentages,mt=nt.croppedAreaPixels;et.props.onCropAreaChange&&et.props.onCropAreaChange(at,mt)}},et.recomputeCropPosition=function(){if(et.state.cropSize){var nt=et.props.restrictPosition?restrictPosition(et.props.crop,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):et.props.crop;et.props.onCropChange(nt),et.emitCropData()}},et.onKeyDown=function(nt){var at,mt,wt=et.props,$t=wt.crop,Ct=wt.onCropChange,Dt=wt.keyboardStep,Ft=wt.zoom,jt=wt.rotation,Ut=Dt;if(et.state.cropSize){nt.shiftKey&&(Ut*=.2);var tr=__assign$1({},$t);switch(nt.key){case"ArrowUp":tr.y-=Ut,nt.preventDefault();break;case"ArrowDown":tr.y+=Ut,nt.preventDefault();break;case"ArrowLeft":tr.x-=Ut,nt.preventDefault();break;case"ArrowRight":tr.x+=Ut,nt.preventDefault();break;default:return}et.props.restrictPosition&&(tr=restrictPosition(tr,et.mediaSize,et.state.cropSize,Ft,jt)),nt.repeat||(mt=(at=et.props).onInteractionStart)===null||mt===void 0||mt.call(at),Ct(tr)}},et.onKeyUp=function(nt){var at,mt;switch(nt.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":nt.preventDefault();break;default:return}et.emitCropData(),(mt=(at=et.props).onInteractionEnd)===null||mt===void 0||mt.call(at)},et}return s.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},s.prototype.componentWillUnmount=function(){var et,nt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(et=this.resizeObserver)===null||et===void 0||et.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((nt=this.styleRef.parentNode)===null||nt===void 0||nt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},s.prototype.componentDidUpdate=function(et){var nt,at,mt,wt,$t,Ct,Dt,Ft,jt;et.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):et.aspect!==this.props.aspect?this.computeSizes():et.objectFit!==this.props.objectFit?this.computeSizes():et.zoom!==this.props.zoom?this.recomputeCropPosition():((nt=et.cropSize)===null||nt===void 0?void 0:nt.height)!==((at=this.props.cropSize)===null||at===void 0?void 0:at.height)||((mt=et.cropSize)===null||mt===void 0?void 0:mt.width)!==((wt=this.props.cropSize)===null||wt===void 0?void 0:wt.width)?this.computeSizes():((($t=et.crop)===null||$t===void 0?void 0:$t.x)!==((Ct=this.props.crop)===null||Ct===void 0?void 0:Ct.x)||((Dt=et.crop)===null||Dt===void 0?void 0:Dt.y)!==((Ft=this.props.crop)===null||Ft===void 0?void 0:Ft.y))&&this.emitCropAreaChange(),et.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),et.video!==this.props.video&&((jt=this.videoRef.current)===null||jt===void 0||jt.load());var Ut=this.getObjectFit();Ut!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:Ut},this.computeSizes)},s.prototype.getAspect=function(){var et=this.props,nt=et.cropSize,at=et.aspect;return nt?nt.width/nt.height:at},s.prototype.getObjectFit=function(){var et,nt,at,mt;if(this.props.objectFit==="cover"){var wt=this.imageRef.current||this.videoRef.current;if(wt&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var $t=this.containerRect.width/this.containerRect.height,Ct=((et=this.imageRef.current)===null||et===void 0?void 0:et.naturalWidth)||((nt=this.videoRef.current)===null||nt===void 0?void 0:nt.videoWidth)||0,Dt=((at=this.imageRef.current)===null||at===void 0?void 0:at.naturalHeight)||((mt=this.videoRef.current)===null||mt===void 0?void 0:mt.videoHeight)||0,Ft=Ct/Dt;return Ft<$t?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},s.prototype.onPinchStart=function(et){var nt=s.getTouchPoint(et.touches[0]),at=s.getTouchPoint(et.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(nt,at),this.lastPinchRotation=getRotationBetweenPoints(nt,at),this.onDragStart(getCenter(nt,at))},s.prototype.onPinchMove=function(et){var nt=this;if(!(!this.currentDoc||!this.currentWindow)){var at=s.getTouchPoint(et.touches[0]),mt=s.getTouchPoint(et.touches[1]),wt=getCenter(at,mt);this.onDrag(wt),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var $t=getDistanceBetweenPoints(at,mt),Ct=nt.props.zoom*($t/nt.lastPinchDistance);nt.setNewZoom(Ct,wt,{shouldUpdatePosition:!1}),nt.lastPinchDistance=$t;var Dt=getRotationBetweenPoints(at,mt),Ft=nt.props.rotation+(Dt-nt.lastPinchRotation);nt.props.onRotationChange&&nt.props.onRotationChange(Ft),nt.lastPinchRotation=Dt})}},s.prototype.render=function(){var et=this,nt,at=this.props,mt=at.image,wt=at.video,$t=at.mediaProps,Ct=at.cropperProps,Dt=at.transform,Ft=at.crop,jt=Ft.x,Ut=Ft.y,tr=at.rotation,ir=at.zoom,sr=at.cropShape,ur=at.showGrid,fr=at.style,dr=fr.containerStyle,hr=fr.cropAreaStyle,vr=fr.mediaStyle,yr=at.classes,xr=yr.containerClassName,br=yr.cropAreaClassName,wr=yr.mediaClassName,Sr=(nt=this.state.mediaObjectFit)!==null&&nt!==void 0?nt:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(cr){return et.containerRef=cr},"data-testid":"container",style:dr,className:classNames("reactEasyCrop_Container",xr)},mt?reactExports.createElement("img",__assign$1({alt:"",className:classNames("reactEasyCrop_Image",Sr==="contain"&&"reactEasyCrop_Contain",Sr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Sr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",wr)},$t,{src:mt,ref:this.imageRef,style:__assign$1(__assign$1({},vr),{transform:Dt||"translate(".concat(jt,"px, ").concat(Ut,"px) rotate(").concat(tr,"deg) scale(").concat(ir,")")}),onLoad:this.onMediaLoad})):wt&&reactExports.createElement("video",__assign$1({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",Sr==="contain"&&"reactEasyCrop_Contain",Sr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Sr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",wr)},$t,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign$1(__assign$1({},vr),{transform:Dt||"translate(".concat(jt,"px, ").concat(Ut,"px) rotate(").concat(tr,"deg) scale(").concat(ir,")")}),controls:!1}),(Array.isArray(wt)?wt:[{src:wt}]).map(function(Cr){return reactExports.createElement("source",__assign$1({key:Cr.src},Cr))})),this.state.cropSize&&reactExports.createElement("div",__assign$1({ref:this.cropperRef,style:__assign$1(__assign$1({},hr),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",sr==="round"&&"reactEasyCrop_CropAreaRound",ur&&"reactEasyCrop_CropAreaGrid",br)},Ct)))},s.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},s.getMousePoint=function(et){return{x:Number(et.clientX),y:Number(et.clientY)}},s.getTouchPoint=function(et){return{x:Number(et.clientX),y:Number(et.clientY)}},s}(reactExports.Component);function CropImage({src:a,dataUrl:s,file:et,open:nt,onClose:at,onCancel:mt,onOk:wt}){const[$t,Ct]=reactExports.useState({x:0,y:0}),[Dt,Ft]=reactExports.useState(1),[jt,Ut]=reactExports.useState(!1),[tr,ir]=reactExports.useState(null),sr=async(fr,dr)=>{ir({croppedArea:fr,croppedAreaPixels:dr})},ur=async()=>{Ut(!0);try{const fr=await getCroppedImg(s,tr.croppedAreaPixels,et.name,et.type);await wt(fr)}catch(fr){console.error(fr)}finally{Ut(!1)}};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:nt,onClose:at,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",color:"text_caption",fontSize:"16px",children:"Edit file"}),jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",children:"Crop and zoom on your image."})]})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Box,{position:"relative",h:"280px",w:"100%",mb:"12px",children:jsxRuntimeExports.jsx(Cropper,{image:a,crop:$t,zoom:Dt,aspect:1,showGrid:!1,onCropChange:Ct,onCropComplete:sr,onZoomChange:Ft,style:{cropAreaStyle:{border:"2px solid #76C8FF"}}})}),jsxRuntimeExports.jsxs(HStack,{p:"0px 60px",gap:"24px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomin",fontSize:"20px",svgFill:Dt-.2<.1?"primary_disabled":"text_paragraph",svgHover:Dt-.2<.1?"primary_disabled":"text_caption",onClick:()=>{Dt-.2>=0&&Ft(Dt-.2)}}),jsxRuntimeExports.jsxs(Slider,{"aria-label":"slider-ex-1",min:.1,max:3,step:.2,value:Dt,onChange:fr=>Ft(fr),children:[jsxRuntimeExports.jsx(SliderTrack,{h:"4px",bg:"crop_slider_tracker",children:jsxRuntimeExports.jsx(SliderFilledTrack,{})}),jsxRuntimeExports.jsx(SliderThumb,{boxSize:"4"})]}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:"20px",svgFill:Dt+.2>3?"primary_disabled":"text_paragraph",svgHover:Dt+.2>3?"primary_disabled":"text_caption",onClick:()=>{Dt+.2<=3&&Ft(Dt+.2)}})]})]}),jsxRuntimeExports.jsxs(ModalFooter,{justifyContent:"space-between",gap:"16px",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:mt||at,flex:"1",fontSize:"14px",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{flex:"1",fontSize:"14px",onClick:ur,isLoading:jt,children:"Save"})]})]})]})}function ImageViewer({src:a,open:s,onClose:et}){const[nt,at]=reactExports.useState(1);return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:et,colorScheme:"blackAlpha",size:"full",isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:"transparent",backdropFilter:"blur(6px)",backgroundColor:"rgba(0, 0, 0, 0.1)",children:[jsxRuntimeExports.jsx(ModalCloseButton,{size:"lg"}),jsxRuntimeExports.jsxs(ModalBody,{display:"flex",justifyContent:"center",alignItems:"center",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(Image$1,{src:a,transform:`scale(${nt})`,w:"100%"})}),jsxRuntimeExports.jsxs(HStack,{position:"absolute",bottom:"100px",left:"calc(50% - 44px)",w:"88px",justify:"space-between",children:[jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomin",cursor:"pointer",onClick:()=>at(nt-.2)}),jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomout",cursor:"pointer",onClick:()=>at(nt+.2)})]})]})]})]})}const TokenPlaceholder="/images/token_placeholder.png",btnStyle={w:{base:"32px",lg:"28px"},h:{base:"32px",lg:"28px"},bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"3px",display:{base:"block",lg:"none"},cursor:"pointer"};function PreView({src:a,editable:s,onEdit:et,onDelete:nt,file:at}){const[mt,wt]=reactExports.useState(!1),[$t,Ct]=reactExports.useState(!1),Dt=async Ft=>{et&&await et({origin:at,cropped:Ft}),wt(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{display:{base:"flex",lg:"block"},position:{base:"static",lg:"relative"},_hover:{div:{display:"flex"}},children:[jsxRuntimeExports.jsx(Image$1,{src:a,fallbackSrc:TokenPlaceholder,alt:"preview",objectFit:"cover",w:{base:"200px",lg:"160px"},h:{base:"200px",lg:"160px"},borderRadius:"12px"}),jsxRuntimeExports.jsxs(Stack$1,{flexDir:{base:"column",lg:"row"},position:{base:"static",lg:"absolute"},justify:{base:"space-between",lg:"center"},ml:{base:"20px",lg:"0"},w:"100%",gap:"12px",bottom:"8px",children:[s&&jsxRuntimeExports.jsx(Tooltip,{label:"Edit file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),wt(!mt)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Preview file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),Ct(!$t)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Remove file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),nt(at)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_del",fontSize:{base:"24px",lg:"20px"}})})})]})]}),$t&&jsxRuntimeExports.jsx(ImageViewer,{src:a,open:$t,onClose:()=>Ct(!1)}),mt&&jsxRuntimeExports.jsx(CropImage,{src:a,dataUrl:at.dataUrl,file:at,open:mt,onClose:()=>wt(!1),onOk:Dt})]})}const CollectListBox=reactExports.lazy(()=>__vitePreload(()=>import("./CollectListBox-CbSrsGVa.js"),__vite__mapDeps([0,1,2,3,4,5]))),TokenList=reactExports.lazy(()=>__vitePreload(()=>import("./TokenList-6UYoi29i.js"),__vite__mapDeps([6,7,8,4,1,2,3,5,9,10,11,12,13])));function TokenSelectCard(a){const{isWidget:s=!1,isOpen:et,onClose:nt,onSelectToken:at,haveImport:mt,lastSelectedToken:wt,isDisableSelectTokenItem:$t=!1,isDcaSelect:Ct,whiteTokenList:Dt,isShowCollectListBox:Ft=!0,isShowHotList:jt=!0,isShowTokenListTab:Ut=!0,isShowLabelTab:tr=!0,tokenListMaxHeight:ir,noDataHaveImg:sr=!0,noClickImportItem:ur=!1,bg:fr,onGoplusTokenClick:dr}=a,{filterTokenListFun:hr,filterTokenWithLabel:vr,getImportTokenList:yr,delImportTokenList:xr,updateImportTokenList:br,sortWithTokenList:wr}=useTokenSelect(),{setFilterTokenLoading:Sr,setShowImportBtn:Cr,importTokenList:cr,filterTokenLoading:Nt,filterTokenList:Vt,trustedTokenList:er,setTokenModalOpacity:Yt,userCollectList:rr}=useTokenSelectStore(),[ar,lr]=reactExports.useState(""),nr=zr=>{const Qr=zr.replace(/[^[a-zA-Z0-9\s]+$/g,"");lr(Qr),Qr&&(Sr(!0),Lt(Qr))},Lt=useDebounceFunction(zr=>{Dt&&Dt.length>0?hr(zr,Dt,[],!1,!1):hr(zr,er,cr,mt)},300),or=zr=>{console.log($t,wt,zr.coin_type,"selectToken"),$t?wt!==zr.coin_type&&(at(zr),nt()):(at(zr),nt())},gr=[{label:"Watchlist",value:"Watchlist"},{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],pr=[{label:"All",value:"All"},{label:"Wormhole",value:"Wormhole"}],[_r,kr]=reactExports.useState("Default"),[Mr,$r]=reactExports.useState("All"),{getCollectList:Pr,getDefaultTokenList:Fr,getTabByAddress:Tr,getUserCollectList:Rr}=useTokenSelect(),{tokenMap:Er}=useTokenStore(),[Or,Wr]=reactExports.useState(!1);reactExports.useEffect(()=>{Wr(!0)},[]),reactExports.useEffect(()=>{Or&&Er&&Er.size>0&&Fr(),Or&&(yr(),Rr())},[Er,Or]),reactExports.useEffect(()=>{er.length>0&&Pr()},[er]);const[qr,Vr]=reactExports.useState(!1),Ur=!qr&&(er==null?void 0:er.length)>0&&(cr==null?void 0:cr.length)>0;reactExports.useEffect(()=>{Ur&&(br(),Vr(!0))},[Ur]),reactExports.useEffect(()=>{Yt(1),et||(console.log("🚀🚀🚀 ~ file: index.tsx:164 ~ useEffect ~ tab22222"),kr("Default"),$r("All"),lr(""),Cr(!1))},[et]);const{coinPriceObj:Lr}=useTokenPriceStore(),{currentAccount:Br}=useAccountStore(),Xr=reactExports.useMemo(()=>Nt?[]:ar?Vt:Dt&&Dt.length>0?wr(Mr!=="All"?Vt:Dt,wt):_r=="Default"?wr(Mr!=="All"?Vt:er,wt):_r=="Imported"?wr(cr,wt):wr(rr,wt),[ar,Vt,Nt,Mr,_r,cr,Dt,er,Lr,Br==null?void 0:Br.address,rr]);return reactExports.useEffect(()=>{console.log("🚀🚀🚀 ~ TokenSelectCard ~ tokenList:",Xr)},[Xr]),reactExports.useEffect(()=>{if(wt&&er&&er.length>0){const zr=Tr(wt,er,cr);console.log("🚀🚀🚀 ~ file: index.tsx:164 ~ useEffect ~ tab:",zr),kr(zr)}},[wt,er,cr]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{p:"0px 16px",children:[jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(SearchInput,{isWidget:s,inputValue:ar,changeInputValue:zr=>nr(zr)})}),jt?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",width:{base:"100%",lg:"428px"},flexWrap:"wrap",justifyContent:"space-between",children:[...Array(12)].map((zr,Qr)=>jsxRuntimeExports.jsx(Skeleton,{width:"94px",height:"16px",margin:"0 8px 8px 0"},Qr))}),children:jsxRuntimeExports.jsx(CollectListBox,{onSelectToken:zr=>or(zr)})}):null,!ar&&Ut?jsxRuntimeExports.jsx(SelectTab,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"395px"},h:"34px",bg:"none",border:"none",marginTop:jt?"":"12px"},itemStyle:{marginRight:"40px",fontSize:"14px"},tabList:gr,currentTab:_r,handleChangeTab:zr=>{kr(zr.value),Sr(!0),setTimeout(()=>{Sr(!1)},300)}}):null,!ar&&_r=="Default"&&tr?jsxRuntimeExports.jsx(SelectTab,{type:"outlineTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:s?"swap_bg_secondary":"bg_secondary",padding:"4px",marginTop:"12px"},itemStyle:{w:`${100/pr.length}%`,fontSize:"14px",borderRadius:"8px"},tabList:pr,currentTab:Mr,handleChangeTab:zr=>{$r(zr.value),vr(zr.value,Ct?Dt:er)}}):null,_r=="Imported"&&cr&&cr.length>0&&!ar?jsxRuntimeExports.jsxs(Flex,{p:"16px 0 0",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Text,{children:[cr&&cr.length," Custom Tokens"]}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",_hover:{color:"text_caption"},onClick:()=>{xr(cr)},children:"Clear All"})]}):null]}),jsxRuntimeExports.jsx(Box,{p:"0px",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",flexDirection:"column",children:[...Array(5)].map((zr,Qr)=>jsxRuntimeExports.jsxs(HStack,{gap:"0",height:"64px",padding:"0 16px",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",ml:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"100px"}),jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"150px"})]})]},Qr))}),children:jsxRuntimeExports.jsx(TokenList,{onGoplusTokenClick:dr,tokenList:Xr,keyword:ar,currentLabel:Mr,currentTab:_r,lastSelectedToken:wt,isDisableSelectTokenItem:$t,isShowCollectListBox:Ft,isShowTokenListTab:Ut,tokenListMaxHeight:ir,noDataHaveImg:sr,noClickImportItem:ur,bg:fr,onSelectToken:zr=>or(zr),onClose:nt})})})]})}function TokenSelectModal(a){const{isApp:s}=useWindowWidth(),{isOpen:et,onClose:nt}=a,{tokenModalOpacity:at}=useTokenSelectStore(),[mt,wt]=reactExports.useState("400px"),$t=()=>{const Dt=window.innerHeight-380;wt(`${Dt}px`)};return reactExports.useEffect(()=>($t(),window.addEventListener("resize",$t),()=>{window.removeEventListener("resize",$t)}),[]),jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:et,onClose:nt,isCentered:!0,motionPreset:"none",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:s?"80%":"462px",opacity:at,transition:"opacity 0.3s",children:[jsxRuntimeExports.jsx(ModalHeader,{p:"18px 16px",children:jsxRuntimeExports.jsx(Heading,{fontWeight:"500",fontSize:"16px",children:"Select a token"})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"0",textAlign:"center",overflow:"hidden",children:jsxRuntimeExports.jsx(TokenSelectCard,{...a,tokenListMaxHeight:mt})})]})]})}const index=reactExports.memo(TokenSelectModal),index$1=Object.freeze(Object.defineProperty({__proto__:null,default:index},Symbol.toStringTag,{value:"Module"})),CoinSelect=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>CoinSelect$3),void 0)),TradeInput=reactExports.forwardRef(function a({title:s,value:et,amountValue:nt,onFocusChange:at,onChange:mt,placeholder:wt="0.0",balance:$t,selectable:Ct,onTokenChange:Dt,token:Ft,half:jt=!0,max:Ut=!0,loading:tr,inputAllowed:ir=!0,hideSelf:sr=!1,needRemainBalance:ur=!0,balanceLabel:fr,wrapStyle:dr={},calculateAvailableLoading:hr=!1,currentCoinKey:vr,whiteTokenList:yr,isWidget:xr=!1,isDcaTo:br=!1,inputTabOptions:wr,openSelectTokenModal:Sr},Cr){const{type:cr="borderTab",tabList:Nt=[],currentTab:Vt="",handleChangeTab:er=()=>{},wrapStyle:Yt={h:"60px",p:"8px"},itemStyle:rr={fontSize:"14px"}}=wr||{},ar=reactExports.useRef(null),[lr,nr]=reactExports.useState(!1),{currentAccount:Lt}=useAccountStore(),or=()=>{const pr=d$1($t||0).div(2);et&&pr.eq(et)||mt==null||mt(formatNumberWithDown(pr.toString(),Ft==null?void 0:Ft.decimals,!0,!0).toString(),!1,!0)},gr=()=>{const pr=d$1($t||0),_r=CoinAssist.isSuiCoin((Ft==null?void 0:Ft.coin_type)||""),kr=_r&&ur?.05:0;let Mr=pr;_r&&d$1(pr).gt(kr)&&(Mr=Mr.sub(kr)),!(et&&d$1(Mr).eq(et))&&d$1(Mr).gte(0)&&(mt==null||mt(Mr.toString()||"0",!0,!1))};return reactExports.useImperativeHandle(Cr,()=>({focused:lr}),[lr]),sr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsxs(Box,{ref:ar,w:"100%",onFocus:()=>{nr(!0)},onBlur:()=>{nr(!1)},borderRadius:"16px",p:{base:"16px 8px",lg:"16px"},h:"122px",border:"1px solid",backgroundColor:ir?"bg_secondary":"card_bg",...dr,borderColor:lr?"token_active_border":dr!=null&&dr.borderColor?dr==null?void 0:dr.borderColor:"border",boxShadow:lr?"0px 0px 6px 0px #0067AD":"",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",justify:"space-between",children:[s&&jsxRuntimeExports.jsx(Text,{color:"text_paragraph",fontSize:"13px",fontWeight:"500",h:"16px",mb:br?"0px":"4px",textAlign:"left",children:s}),jsxRuntimeExports.jsx(HStack,{mt:"-16px",mr:{base:"0",lg:"-8px"},children:wr&&Nt&&(Nt==null?void 0:Nt.length)>0&&jsxRuntimeExports.jsx(SelectTab,{type:cr,tabList:Nt,currentTab:Vt,handleChangeTab:pr=>er(pr),wrapStyle:Yt,itemStyle:rr})})]}),jsxRuntimeExports.jsxs(VStack,{gap:br?"0px":"8px",flexDirection:br?"column-reverse":"column",children:[jsxRuntimeExports.jsxs(InputGroup,{h:"38px",fontFamily:"Inter",justifyContent:br?"center":"space-between",gap:"12px",children:[!br&&jsxRuntimeExports.jsx(Skeleton,{isLoaded:!tr,height:"38px",width:"calc(100% - 8px)",borderRadius:"8px",children:jsxRuntimeExports.jsx(NumericFormatInput,{value:convertScientificToDecimal(et,9),onChange:pr=>{mt==null||mt(pr,d$1(pr).eq($t||"0"))},decimals:Ft==null?void 0:Ft.decimals,placeholder:wt,inputAllowed:ir,onFocus:()=>{at&&at(!0)},onBlur:()=>{at&&at(!1)},style:{width:"calc(100% - 8px)",background:"none",whiteSpace:"nowrap",opacity:1,outline:"none",color:"var(--chakra-colors-text_caption)",fontSize:xr?"24px":"28px",height:"38px",lineHeight:"38px",touchAction:"manipulation",transition:"all 0.3s",fontWeight:"500"}})}),jsxRuntimeExports.jsx(InputRightAddon,{w:br?"100%":"unset",children:Ct?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Skeleton,{h:"20px",w:"100px",borderRadius:"8px"}),children:jsxRuntimeExports.jsx(CoinSelect,{openSelectTokenModal:Sr,selectModalCallback:pr=>{nr(!!pr)},currentCoinKey:vr,whiteTokenList:yr,value:Ft,onSelect:Dt})}):jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:Ft==null?void 0:Ft.logo_url,w:"28px",h:"28px",coinType:Ft==null?void 0:Ft.coin_type},(Ft==null?void 0:Ft.symbol)+"Icon"),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",children:textEllipses((Ft==null?void 0:Ft.symbol)||"",10)})]})})]}),jsxRuntimeExports.jsxs(HStack,{justify:"space-between",w:"100%",mt:br&&Lt?"-20px":0,children:[jsxRuntimeExports.jsx(Text,{width:"50%",flex:"0",fontWeight:"500",children:nt&&+nt?`${formatCurrencyWithKMB(nt,2)}`:null}),!!Lt&&jsxRuntimeExports.jsxs(HStack,{justify:"flex-end",gap:"8px",children:[jsxRuntimeExports.jsx(Skeleton,{isLoaded:!hr,children:jsxRuntimeExports.jsxs(HStack,{gap:"4px",children:[fr?jsxRuntimeExports.jsx(Text,{children:fr}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_wallet",svgHover:"text_paragraph",cursor:"default"}),jsxRuntimeExports.jsx(Text,{children:!$t||$t==="0"?"0.0":formatNumberWithDown($t)})]})}),jt&&jsxRuntimeExports.jsx(Button,{onClick:or,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:xr?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"HALF"}),Ut&&jsxRuntimeExports.jsx(Button,{onClick:gr,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:xr?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"MAX"})]})]})]})]})}),uploadFilePath="/api/v1/upload";function useFileUpload(){const[a,s]=reactExports.useState(!1);return{doUploadFile:async nt=>{const at=new FormData;at.append("file",nt);try{s(!0);const mt=`${envConfigs$1.pump_api.api_primary_domain}${uploadFilePath}`,wt=await fetch(mt,{method:"POST",body:at});if(!wt.ok){const{error:Ct}=await wt.json();throw Ct?new Error(Ct):new Error("Upload failed")}const $t=await wt.json();return console.log("🚀 ~ file: useFileUpload.tsx:26 ~ doUploadFile ~ result:",$t),$t}catch(mt){throw console.log("🚀 ~ file: useFileUpload.tsx:29 ~ doUploadFile ~ error:",mt.message),new Error(mt.message)}finally{s(!1)}},uploadLoading:a}}const Upload=reactExports.forwardRef(function a({w:s="160px",h:et="160px",loading:nt,borderRadius:at="12px",children:mt,accept:wt="image/png, image/jpeg",multiple:$t=!1,fileSize:Ct,field:Dt,form:Ft,onChange:jt,onSuccess:Ut,onError:tr,onDelete:ir,...sr},ur){const fr=reactExports.useRef(null),{uploadLoading:dr,doUploadFile:hr}=useFileUpload(),vr=async cr=>{if(cr)return await hr(cr)},[yr,xr]=reactExports.useState([]),br=async cr=>{var Nt;try{if((Nt=cr.target.files)!=null&&Nt.length){const Vt=cr.target.files[0],er=Vt.name.slice(Vt.name.lastIndexOf(".")+1),Yt=`cetus_pump_${dayjs().unix()}.${er}`,rr=replaceFilename(Vt,Yt);if(Ct){const nr=Ct.split("MB")[0];if(rr.size>Number(nr)*1024*1024)throw new Error("file size is over limit")}const ar=await vr(rr);if(ar!=null&&ar.error)throw new Error(ar==null?void 0:ar.error);ar!=null&&ar.url&&(Ut==null||Ut());const lr=new FileReader;lr.readAsDataURL(rr),lr.onload=nr=>{var Lt,or;if(nr.type==="load")if($t){const gr=[...yr,{name:Yt,type:rr.type,size:rr.size,lastModified:rr.lastModified,dataUrl:(Lt=nr.target)==null?void 0:Lt.result,fileUrl:ar==null?void 0:ar.url,sig:ar==null?void 0:ar.sig}];xr(gr)}else{const gr=[{name:Yt,type:rr.type,size:rr.size,lastModified:rr.lastModified,dataUrl:(or=nr.target)==null?void 0:or.result,fileUrl:ar==null?void 0:ar.url,sig:ar==null?void 0:ar.sig}];xr(gr)}}}}catch(Vt){console.log(Vt.message,"(error as unknown as Error).message"),tr==null||tr(Vt.message)}finally{Ft==null||Ft.setFieldTouched(Dt.name,!0)}};useDeepCompareEffect(()=>{var cr;yr&&(jt==null||jt(yr),Dt.name&&((cr=Ft==null?void 0:Ft.setFieldValue)==null||cr.call(Ft,Dt.name,yr)))},[yr]);const wr=async cr=>{const Nt=await vr(cr.cropped),Vt=new FileReader;Vt.readAsDataURL(cr.cropped),Vt.onload=er=>{var Yt;if(er.type==="load")if($t){const rr=yr.map(ar=>{var lr;return ar.name===cr.cropped.name?{...ar,size:cr.cropped.size,lastModified:cr.cropped.lastModified,dataUrl:(lr=er.target)==null?void 0:lr.result,fileUrl:Nt==null?void 0:Nt.url,sig:Nt==null?void 0:Nt.sig}:ar});xr(rr)}else{const rr=[{name:cr.cropped.name,type:cr.cropped.type,size:cr.cropped.size,lastModified:cr.cropped.lastModified,dataUrl:(Yt=er.target)==null?void 0:Yt.result,fileUrl:Nt==null?void 0:Nt.url,sig:Nt==null?void 0:Nt.sig}];xr(rr)}}},Sr=cr=>{ir==null||ir(),xr(yr.filter(Nt=>Nt.name!==cr.name)),fr.current&&(fr.current.value="")},Cr=()=>{xr([]),fr.current&&(fr.current.value="")};return reactExports.useImperativeHandle(ur,()=>({handleClear:Cr}),[fr.current]),jsxRuntimeExports.jsxs(Box,{w:s,h:et,borderRadius:at,onClick:()=>{var cr;return(cr=fr.current)==null?void 0:cr.click()},...sr,cursor:"pointer",children:[nt||dr?jsxRuntimeExports.jsx(Spinner,{}):yr.length?yr==null?void 0:yr.map((cr,Nt)=>cr.type.startsWith("image")?jsxRuntimeExports.jsx(PreView,{editable:!0,src:cr.fileUrl,file:cr,onEdit:wr,onDelete:Sr},cr.sig||Nt):jsxRuntimeExports.jsx(Box,{as:"a",target:"_blank",download:cr.fileUrl,children:cr.name},cr.sig||Nt)):mt,jsxRuntimeExports.jsx(Input,{ref:fr,id:"file",name:"file",type:"file",display:"none",accept:wt,multiple:$t,onChange:br})]})});function ToastDescription(a){const{status:s="confirmation",tx:et,info:nt}=a,{getExplorerUrl:at}=useExplorer(),mt=nt==null?void 0:nt.toastDescriptionContent;return s==="submitted"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[mt&&(typeof mt=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:mt()}):jsxRuntimeExports.jsx(DescriptionText,{text:mt})),!mt&&et&&jsxRuntimeExports.jsxs(Box,{as:"div",children:[jsxRuntimeExports.jsx(DescriptionText,{text:"Confirmation is in progress. Check your transaction on",as:"span"}),"  ",jsxRuntimeExports.jsx(Link,{href:at(et,"tx"),target:"_blank",color:"primary_green",fontSize:"sm",textDecoration:"none",children:"here"})]})]}):s==="rejected"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[mt&&(typeof mt=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:mt()}):jsxRuntimeExports.jsx(DescriptionText,{text:mt})),!mt&&jsxRuntimeExports.jsx(DescriptionText,{text:"Something went wrong"})]}):s==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:mt&&(typeof mt=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:mt()}):jsxRuntimeExports.jsx(DescriptionText,{text:mt}))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function DescriptionText(a){const{text:s,children:et,...nt}=a;return et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et}):jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",...nt,children:jsxRuntimeExports.jsx(Comma,{value:s||""})})}function ToastTitle(a){const{status:s="confirmation",info:et}=a;return s==="submitted"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[jsxRuntimeExports.jsx(Spinner$1,{w:"20px",h:"20px"}),jsxRuntimeExports.jsx(TitleText,{text:"Transaction in progress"})]})}):s==="rejected"?jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",gap:"0px",align:"flex-start",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),"(",jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(TitleText,{text:(et==null?void 0:et.toastTitleText)||"Transaction failed",color:"primary_red"})}),")"]}):s==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[et!=null&&et.iconUrl?jsxRuntimeExports.jsx(Image$1,{src:et.iconUrl,h:"20px",alt:"icon",borderRadius:"4px"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check",svgFill:"primary"}),jsxRuntimeExports.jsx(TitleText,{text:(et==null?void 0:et.toastTitleText)||"Transaction Successful"})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function TitleText(a){const{text:s,color:et="text_caption"}=a;return jsxRuntimeExports.jsx(Heading,{fontSize:"14px",lineHeight:"20px",fontWeight:"400",color:et,whiteSpace:{base:"pre-wrap",lg:"wrap"},children:s})}function Toast(a){const{status:s="confirmation",link:et,tx:nt,getShowInfo:at,actionType:mt,executeTime:wt,linkLabel:$t="View transaction",onClose:Ct}=a,{getExplorerUrl:Dt}=useExplorer(),Ft=reactExports.useMemo(()=>{if(at)return at(s)},[s]);return jsxRuntimeExports.jsxs(HStack,{w:{base:"calc(100vw - 16px)",lg:"fit-content"},minW:{base:"calc(100vw - 16px)",lg:"360px"},maxW:{base:"calc(100vw - 16px)",lg:"420px"},bg:"background",border:"1px",borderColor:"border",borderRadius:"12px",p:"16px",gap:"16px",justify:"space-between",alignItems:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{alignItems:"start",children:[jsxRuntimeExports.jsx(ToastTitle,{info:Ft,status:s}),((Ft==null?void 0:Ft.toastDescriptionContent)||nt)&&jsxRuntimeExports.jsx(ToastDescription,{info:Ft,status:s,tx:nt}),s!=="submitted"&&et&&jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),s!=="submitted"&&!et&&nt&&jsxRuntimeExports.jsxs(HStack,{children:[mt==="swap"&&wt&&wt>0?jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:`Txn finalized in ${d$2(wt).div(1e3).toString()}s! View Transaction`}):jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),defaultExplorers.map(jt=>jsxRuntimeExports.jsx(Image$1,{onClick:Ut=>{window.open(Dt(nt,"tx",jt),"_blank")},cursor:"pointer",src:jt.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"},jt.name))]})]}),jsxRuntimeExports.jsx(Center,{onClick:Ct,children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}function useGetNotifiTargetGroups(){const{notifiClient:a}=useNotifiStore(),{setDefaultTargetGroup:s,setEmailTarget:et,setTelegramTarget:nt,setSmsTarget:at,setNotifiLoginLoading:mt}=useNotifiStore(),wt=Dt=>{Dt.emailTargets&&Dt.emailTargets.length>0&&et(Dt.emailTargets.slice(-1)[0]),Dt.telegramTargets&&(Dt==null?void 0:Dt.telegramTargets.length)>0&&nt(Dt.telegramTargets.slice(-1)[0]),Dt.smsTargets&&(Dt==null?void 0:Dt.smsTargets.length)>0&&at(Dt.smsTargets.slice(-1)[0])};return{getNotifiTargetGroups:async Dt=>{try{const Ft=Dt?await Dt.getTargetGroups():await a.getTargetGroups();if(console.log("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:8 ~ getNotifiTargetGroups ~ targetGroup:",Ft),(Ft==null?void 0:Ft.length)>0){const jt=Ft[0];console.log("🚀🚀🚀 ~ First target group:",jt),wt(jt)}return s(Ft),Ft}catch(Ft){return console.error("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:20 ~ getNotifiTargetGroups ~ error:",Ft),{}}},ensureTargetGroup:async Dt=>{try{mt(!0);const Ft={...Dt},jt=await a.ensureTargetGroup({name:"Default",...Ft});jt!=null&&jt.id&&wt(jt),s([jt]),mt(!1)}catch(Ft){mt(!1),console.error("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:45 ~ ensureTargetGroup ~ error:",Ft)}}}}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(a){return typeof a=="string"&&REGEX.test(a)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=(byteToHex[a[s+0]]+byteToHex[a[s+1]]+byteToHex[a[s+2]]+byteToHex[a[s+3]]+"-"+byteToHex[a[s+4]]+byteToHex[a[s+5]]+"-"+byteToHex[a[s+6]]+byteToHex[a[s+7]]+"-"+byteToHex[a[s+8]]+byteToHex[a[s+9]]+"-"+byteToHex[a[s+10]]+byteToHex[a[s+11]]+byteToHex[a[s+12]]+byteToHex[a[s+13]]+byteToHex[a[s+14]]+byteToHex[a[s+15]]).toLowerCase();if(!validate(et))throw TypeError("Stringified UUID is invalid");return et}function v4(a,s,et){a=a||{};var nt=a.random||(a.rng||rng)();return nt[6]=nt[6]&15|64,nt[8]=nt[8]&63|128,stringify(nt)}const defaultJsonSerializer=JSON,uppercase=a=>a.toUpperCase(),HeadersInstanceToPlainObject=a=>{const s={};return a.forEach((et,nt)=>{s[nt]=et}),s},parseRequestArgs=(a,s,et)=>a.document?a:{document:a,variables:s,requestHeaders:et,signal:void 0},parseRawRequestArgs=(a,s,et)=>a.query?a:{query:a,variables:s,requestHeaders:et,signal:void 0},parseBatchRequestArgs=(a,s)=>a.documents?a:{documents:a,requestHeaders:s,signal:void 0},extractOperationName=a=>{var nt,at;let s;const et=a.definitions.filter(mt=>mt.kind==="OperationDefinition");return et.length===1&&(s=(at=(nt=et[0])==null?void 0:nt.name)==null?void 0:at.value),s},resolveRequestDocument=a=>{if(typeof a=="string"){let et;try{const nt=parse$1(a);et=extractOperationName(nt)}catch{}return{query:a,operationName:et}}const s=extractOperationName(a);return{query:print(a),operationName:s}};class ClientError extends Error{constructor(s,et){const nt=`${ClientError.extractMessage(s)}: ${JSON.stringify({response:s,request:et})}`;super(nt),Object.setPrototypeOf(this,ClientError.prototype),this.response=s,this.request=et,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ClientError)}static extractMessage(s){var et,nt;return((nt=(et=s.errors)==null?void 0:et[0])==null?void 0:nt.message)??`GraphQL Error (Code: ${s.status})`}}var browserPonyfill={exports:{}};(function(a,s){var et=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1,nt=function(){function mt(){this.fetch=!1,this.DOMException=et.DOMException}return mt.prototype=et,new mt}();(function(mt){(function(wt){var $t=typeof mt<"u"&&mt||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1||{},Ct={searchParams:"URLSearchParams"in $t,iterable:"Symbol"in $t&&"iterator"in Symbol,blob:"FileReader"in $t&&"Blob"in $t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in $t,arrayBuffer:"ArrayBuffer"in $t};function Dt(Yt){return Yt&&DataView.prototype.isPrototypeOf(Yt)}if(Ct.arrayBuffer)var Ft=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],jt=ArrayBuffer.isView||function(Yt){return Yt&&Ft.indexOf(Object.prototype.toString.call(Yt))>-1};function Ut(Yt){if(typeof Yt!="string"&&(Yt=String(Yt)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(Yt)||Yt==="")throw new TypeError('Invalid character in header field name: "'+Yt+'"');return Yt.toLowerCase()}function tr(Yt){return typeof Yt!="string"&&(Yt=String(Yt)),Yt}function ir(Yt){var rr={next:function(){var ar=Yt.shift();return{done:ar===void 0,value:ar}}};return Ct.iterable&&(rr[Symbol.iterator]=function(){return rr}),rr}function sr(Yt){this.map={},Yt instanceof sr?Yt.forEach(function(rr,ar){this.append(ar,rr)},this):Array.isArray(Yt)?Yt.forEach(function(rr){if(rr.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+rr.length);this.append(rr[0],rr[1])},this):Yt&&Object.getOwnPropertyNames(Yt).forEach(function(rr){this.append(rr,Yt[rr])},this)}sr.prototype.append=function(Yt,rr){Yt=Ut(Yt),rr=tr(rr);var ar=this.map[Yt];this.map[Yt]=ar?ar+", "+rr:rr},sr.prototype.delete=function(Yt){delete this.map[Ut(Yt)]},sr.prototype.get=function(Yt){return Yt=Ut(Yt),this.has(Yt)?this.map[Yt]:null},sr.prototype.has=function(Yt){return this.map.hasOwnProperty(Ut(Yt))},sr.prototype.set=function(Yt,rr){this.map[Ut(Yt)]=tr(rr)},sr.prototype.forEach=function(Yt,rr){for(var ar in this.map)this.map.hasOwnProperty(ar)&&Yt.call(rr,this.map[ar],ar,this)},sr.prototype.keys=function(){var Yt=[];return this.forEach(function(rr,ar){Yt.push(ar)}),ir(Yt)},sr.prototype.values=function(){var Yt=[];return this.forEach(function(rr){Yt.push(rr)}),ir(Yt)},sr.prototype.entries=function(){var Yt=[];return this.forEach(function(rr,ar){Yt.push([ar,rr])}),ir(Yt)},Ct.iterable&&(sr.prototype[Symbol.iterator]=sr.prototype.entries);function ur(Yt){if(!Yt._noBody){if(Yt.bodyUsed)return Promise.reject(new TypeError("Already read"));Yt.bodyUsed=!0}}function fr(Yt){return new Promise(function(rr,ar){Yt.onload=function(){rr(Yt.result)},Yt.onerror=function(){ar(Yt.error)}})}function dr(Yt){var rr=new FileReader,ar=fr(rr);return rr.readAsArrayBuffer(Yt),ar}function hr(Yt){var rr=new FileReader,ar=fr(rr),lr=/charset=([A-Za-z0-9_-]+)/.exec(Yt.type),nr=lr?lr[1]:"utf-8";return rr.readAsText(Yt,nr),ar}function vr(Yt){for(var rr=new Uint8Array(Yt),ar=new Array(rr.length),lr=0;lr<rr.length;lr++)ar[lr]=String.fromCharCode(rr[lr]);return ar.join("")}function yr(Yt){if(Yt.slice)return Yt.slice(0);var rr=new Uint8Array(Yt.byteLength);return rr.set(new Uint8Array(Yt)),rr.buffer}function xr(){return this.bodyUsed=!1,this._initBody=function(Yt){this.bodyUsed=this.bodyUsed,this._bodyInit=Yt,Yt?typeof Yt=="string"?this._bodyText=Yt:Ct.blob&&Blob.prototype.isPrototypeOf(Yt)?this._bodyBlob=Yt:Ct.formData&&FormData.prototype.isPrototypeOf(Yt)?this._bodyFormData=Yt:Ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(Yt)?this._bodyText=Yt.toString():Ct.arrayBuffer&&Ct.blob&&Dt(Yt)?(this._bodyArrayBuffer=yr(Yt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ct.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Yt)||jt(Yt))?this._bodyArrayBuffer=yr(Yt):this._bodyText=Yt=Object.prototype.toString.call(Yt):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof Yt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(Yt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ct.blob&&(this.blob=function(){var Yt=ur(this);if(Yt)return Yt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var Yt=ur(this);return Yt||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Ct.blob)return this.blob().then(dr);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var Yt=ur(this);if(Yt)return Yt;if(this._bodyBlob)return hr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(vr(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ct.formData&&(this.formData=function(){return this.text().then(Cr)}),this.json=function(){return this.text().then(JSON.parse)},this}var br=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function wr(Yt){var rr=Yt.toUpperCase();return br.indexOf(rr)>-1?rr:Yt}function Sr(Yt,rr){if(!(this instanceof Sr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');rr=rr||{};var ar=rr.body;if(Yt instanceof Sr){if(Yt.bodyUsed)throw new TypeError("Already read");this.url=Yt.url,this.credentials=Yt.credentials,rr.headers||(this.headers=new sr(Yt.headers)),this.method=Yt.method,this.mode=Yt.mode,this.signal=Yt.signal,!ar&&Yt._bodyInit!=null&&(ar=Yt._bodyInit,Yt.bodyUsed=!0)}else this.url=String(Yt);if(this.credentials=rr.credentials||this.credentials||"same-origin",(rr.headers||!this.headers)&&(this.headers=new sr(rr.headers)),this.method=wr(rr.method||this.method||"GET"),this.mode=rr.mode||this.mode||null,this.signal=rr.signal||this.signal||function(){if("AbortController"in $t){var Lt=new AbortController;return Lt.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ar)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ar),(this.method==="GET"||this.method==="HEAD")&&(rr.cache==="no-store"||rr.cache==="no-cache")){var lr=/([?&])_=[^&]*/;if(lr.test(this.url))this.url=this.url.replace(lr,"$1_="+new Date().getTime());else{var nr=/\?/;this.url+=(nr.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Sr.prototype.clone=function(){return new Sr(this,{body:this._bodyInit})};function Cr(Yt){var rr=new FormData;return Yt.trim().split("&").forEach(function(ar){if(ar){var lr=ar.split("="),nr=lr.shift().replace(/\+/g," "),Lt=lr.join("=").replace(/\+/g," ");rr.append(decodeURIComponent(nr),decodeURIComponent(Lt))}}),rr}function cr(Yt){var rr=new sr,ar=Yt.replace(/\r?\n[\t ]+/g," ");return ar.split("\r").map(function(lr){return lr.indexOf(`
`)===0?lr.substr(1,lr.length):lr}).forEach(function(lr){var nr=lr.split(":"),Lt=nr.shift().trim();if(Lt){var or=nr.join(":").trim();try{rr.append(Lt,or)}catch(gr){console.warn("Response "+gr.message)}}}),rr}xr.call(Sr.prototype);function Nt(Yt,rr){if(!(this instanceof Nt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(rr||(rr={}),this.type="default",this.status=rr.status===void 0?200:rr.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=rr.statusText===void 0?"":""+rr.statusText,this.headers=new sr(rr.headers),this.url=rr.url||"",this._initBody(Yt)}xr.call(Nt.prototype),Nt.prototype.clone=function(){return new Nt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new sr(this.headers),url:this.url})},Nt.error=function(){var Yt=new Nt(null,{status:200,statusText:""});return Yt.ok=!1,Yt.status=0,Yt.type="error",Yt};var Vt=[301,302,303,307,308];Nt.redirect=function(Yt,rr){if(Vt.indexOf(rr)===-1)throw new RangeError("Invalid status code");return new Nt(null,{status:rr,headers:{location:Yt}})},wt.DOMException=$t.DOMException;try{new wt.DOMException}catch{wt.DOMException=function(rr,ar){this.message=rr,this.name=ar;var lr=Error(rr);this.stack=lr.stack},wt.DOMException.prototype=Object.create(Error.prototype),wt.DOMException.prototype.constructor=wt.DOMException}function er(Yt,rr){return new Promise(function(ar,lr){var nr=new Sr(Yt,rr);if(nr.signal&&nr.signal.aborted)return lr(new wt.DOMException("Aborted","AbortError"));var Lt=new XMLHttpRequest;function or(){Lt.abort()}Lt.onload=function(){var _r={statusText:Lt.statusText,headers:cr(Lt.getAllResponseHeaders()||"")};nr.url.indexOf("file://")===0&&(Lt.status<200||Lt.status>599)?_r.status=200:_r.status=Lt.status,_r.url="responseURL"in Lt?Lt.responseURL:_r.headers.get("X-Request-URL");var kr="response"in Lt?Lt.response:Lt.responseText;setTimeout(function(){ar(new Nt(kr,_r))},0)},Lt.onerror=function(){setTimeout(function(){lr(new TypeError("Network request failed"))},0)},Lt.ontimeout=function(){setTimeout(function(){lr(new TypeError("Network request timed out"))},0)},Lt.onabort=function(){setTimeout(function(){lr(new wt.DOMException("Aborted","AbortError"))},0)};function gr(_r){try{return _r===""&&$t.location.href?$t.location.href:_r}catch{return _r}}if(Lt.open(nr.method,gr(nr.url),!0),nr.credentials==="include"?Lt.withCredentials=!0:nr.credentials==="omit"&&(Lt.withCredentials=!1),"responseType"in Lt&&(Ct.blob?Lt.responseType="blob":Ct.arrayBuffer&&(Lt.responseType="arraybuffer")),rr&&typeof rr.headers=="object"&&!(rr.headers instanceof sr||$t.Headers&&rr.headers instanceof $t.Headers)){var pr=[];Object.getOwnPropertyNames(rr.headers).forEach(function(_r){pr.push(Ut(_r)),Lt.setRequestHeader(_r,tr(rr.headers[_r]))}),nr.headers.forEach(function(_r,kr){pr.indexOf(kr)===-1&&Lt.setRequestHeader(kr,_r)})}else nr.headers.forEach(function(_r,kr){Lt.setRequestHeader(kr,_r)});nr.signal&&(nr.signal.addEventListener("abort",or),Lt.onreadystatechange=function(){Lt.readyState===4&&nr.signal.removeEventListener("abort",or)}),Lt.send(typeof nr._bodyInit>"u"?null:nr._bodyInit)})}return er.polyfill=!0,$t.fetch||($t.fetch=er,$t.Headers=sr,$t.Request=Sr,$t.Response=Nt),wt.Headers=sr,wt.Request=Sr,wt.Response=Nt,wt.fetch=er,Object.defineProperty(wt,"__esModule",{value:!0}),wt})({})})(nt),nt.fetch.ponyfill=!0,delete nt.fetch.polyfill;var at=et.fetch?et:nt;s=at.fetch,s.default=at.fetch,s.fetch=at.fetch,s.Headers=at.Headers,s.Request=at.Request,s.Response=at.Response,a.exports=s})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const crossFetch=getDefaultExportFromCjs$2(browserPonyfillExports),CrossFetch=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]),resolveHeaders=a=>{let s={};return a&&(typeof Headers<"u"&&a instanceof Headers||CrossFetch&&browserPonyfillExports.Headers&&a instanceof browserPonyfillExports.Headers?s=HeadersInstanceToPlainObject(a):Array.isArray(a)?a.forEach(([et,nt])=>{et&&nt!==void 0&&(s[et]=nt)}):s=a),s},cleanQuery=a=>a.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),buildRequestConfig=a=>{if(!Array.isArray(a.query)){const nt=a,at=[`query=${encodeURIComponent(cleanQuery(nt.query))}`];return a.variables&&at.push(`variables=${encodeURIComponent(nt.jsonSerializer.stringify(nt.variables))}`),nt.operationName&&at.push(`operationName=${encodeURIComponent(nt.operationName)}`),at.join("&")}if(typeof a.variables<"u"&&!Array.isArray(a.variables))throw new Error("Cannot create query with given variable type, array expected");const s=a,et=a.query.reduce((nt,at,mt)=>(nt.push({query:cleanQuery(at),variables:s.variables?s.jsonSerializer.stringify(s.variables[mt]):void 0}),nt),[]);return`query=${encodeURIComponent(s.jsonSerializer.stringify(et))}`},createHttpMethodFetcher=a=>async s=>{const{url:et,query:nt,variables:at,operationName:mt,fetch:wt,fetchOptions:$t,middleware:Ct}=s,Dt={...s.headers};let Ft="",jt;a==="POST"?(jt=createRequestBody(nt,at,mt,$t.jsonSerializer),typeof jt=="string"&&(Dt["Content-Type"]="application/json")):Ft=buildRequestConfig({query:nt,variables:at,operationName:mt,jsonSerializer:$t.jsonSerializer??defaultJsonSerializer});const Ut={method:a,headers:Dt,body:jt,...$t};let tr=et,ir=Ut;if(Ct){const sr=await Promise.resolve(Ct({...Ut,url:et,operationName:mt,variables:at})),{url:ur,...fr}=sr;tr=ur,ir=fr}return Ft&&(tr=`${tr}?${Ft}`),await wt(tr,ir)};class GraphQLClient{constructor(s,et={}){this.url=s,this.requestConfig=et,this.rawRequest=async(...nt)=>{const[at,mt,wt]=nt,$t=parseRawRequestArgs(at,mt,wt),{headers:Ct,fetch:Dt=crossFetch,method:Ft="POST",requestMiddleware:jt,responseMiddleware:Ut,...tr}=this.requestConfig,{url:ir}=this;$t.signal!==void 0&&(tr.signal=$t.signal);const{operationName:sr}=resolveRequestDocument($t.query);return makeRequest({url:ir,query:$t.query,variables:$t.variables,headers:{...resolveHeaders(callOrIdentity(Ct)),...resolveHeaders($t.requestHeaders)},operationName:sr,fetch:Dt,method:Ft,fetchOptions:tr,middleware:jt}).then(ur=>(Ut&&Ut(ur),ur)).catch(ur=>{throw Ut&&Ut(ur),ur})}}async request(s,...et){const[nt,at]=et,mt=parseRequestArgs(s,nt,at),{headers:wt,fetch:$t=crossFetch,method:Ct="POST",requestMiddleware:Dt,responseMiddleware:Ft,...jt}=this.requestConfig,{url:Ut}=this;mt.signal!==void 0&&(jt.signal=mt.signal);const{query:tr,operationName:ir}=resolveRequestDocument(mt.document);return makeRequest({url:Ut,query:tr,variables:mt.variables,headers:{...resolveHeaders(callOrIdentity(wt)),...resolveHeaders(mt.requestHeaders)},operationName:ir,fetch:$t,method:Ct,fetchOptions:jt,middleware:Dt}).then(sr=>(Ft&&Ft(sr),sr.data)).catch(sr=>{throw Ft&&Ft(sr),sr})}batchRequests(s,et){const nt=parseBatchRequestArgs(s,et),{headers:at,...mt}=this.requestConfig;nt.signal!==void 0&&(mt.signal=nt.signal);const wt=nt.documents.map(({document:Ct})=>resolveRequestDocument(Ct).query),$t=nt.documents.map(({variables:Ct})=>Ct);return makeRequest({url:this.url,query:wt,variables:$t,headers:{...resolveHeaders(callOrIdentity(at)),...resolveHeaders(nt.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??crossFetch,method:this.requestConfig.method||"POST",fetchOptions:mt,middleware:this.requestConfig.requestMiddleware}).then(Ct=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(Ct),Ct.data)).catch(Ct=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(Ct),Ct})}setHeaders(s){return this.requestConfig.headers=s,this}setHeader(s,et){const{headers:nt}=this.requestConfig;return nt?nt[s]=et:this.requestConfig.headers={[s]:et},this}setEndpoint(s){return this.url=s,this}}const makeRequest=async a=>{const{query:s,variables:et,fetchOptions:nt}=a,at=createHttpMethodFetcher(uppercase(a.method??"post")),mt=Array.isArray(a.query),wt=await at(a),$t=await getResult(wt,nt.jsonSerializer??defaultJsonSerializer),Ct=Array.isArray($t)?!$t.some(({data:Ft})=>!Ft):!!$t.data,Dt=Array.isArray($t)||!$t.errors||Array.isArray($t.errors)&&!$t.errors.length||nt.errorPolicy==="all"||nt.errorPolicy==="ignore";if(wt.ok&&Dt&&Ct){const{errors:Ft,...jt}=(Array.isArray($t),$t),Ut=nt.errorPolicy==="ignore"?jt:$t;return{...mt?{data:Ut}:Ut,headers:wt.headers,status:wt.status}}else{const Ft=typeof $t=="string"?{error:$t}:$t;throw new ClientError({...Ft,status:wt.status,headers:wt.headers},{query:s,variables:et})}},createRequestBody=(a,s,et,nt)=>{const at=nt??defaultJsonSerializer;if(!Array.isArray(a))return at.stringify({query:a,variables:s,operationName:et});if(typeof s<"u"&&!Array.isArray(s))throw new Error("Cannot create request body with given variable type, array expected");const mt=a.reduce((wt,$t,Ct)=>(wt.push({query:$t,variables:s?s[Ct]:void 0}),wt),[]);return at.stringify(mt)},getResult=async(a,s)=>{let et;return a.headers.forEach((nt,at)=>{at.toLowerCase()==="content-type"&&(et=nt)}),et&&(et.toLowerCase().startsWith("application/json")||et.toLowerCase().startsWith("application/graphql+json")||et.toLowerCase().startsWith("application/graphql-response+json"))?s.parse(await a.text()):a.text()},callOrIdentity=a=>typeof a=="function"?a():a,gql=(a,...s)=>a.reduce((et,nt,at)=>`${et}${nt}${at in s?String(s[at]):""}`,"");function extendedTypeof(a){return a===null?"null":Array.isArray(a)?"array":typeof a}function isObject(a){return extendedTypeof(a)==="object"}function areGraphQLErrors(a){return Array.isArray(a)&&a.length>0&&a.every(s=>"message"in s)}function limitCloseReason(a,s){return a.length<124?a:s}const GRAPHQL_TRANSPORT_WS_PROTOCOL="graphql-transport-ws";var CloseCode;(function(a){a[a.InternalServerError=4500]="InternalServerError",a[a.InternalClientError=4005]="InternalClientError",a[a.BadRequest=4400]="BadRequest",a[a.BadResponse=4004]="BadResponse",a[a.Unauthorized=4401]="Unauthorized",a[a.Forbidden=4403]="Forbidden",a[a.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",a[a.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",a[a.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",a[a.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",a[a.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(CloseCode||(CloseCode={}));var MessageType;(function(a){a.ConnectionInit="connection_init",a.ConnectionAck="connection_ack",a.Ping="ping",a.Pong="pong",a.Subscribe="subscribe",a.Next="next",a.Error="error",a.Complete="complete"})(MessageType||(MessageType={}));function validateMessage(a){if(!isObject(a))throw new Error(`Message is expected to be an object, but got ${extendedTypeof(a)}`);if(!a.type)throw new Error("Message is missing the 'type' property");if(typeof a.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${extendedTypeof(a.type)}`);switch(a.type){case MessageType.ConnectionInit:case MessageType.ConnectionAck:case MessageType.Ping:case MessageType.Pong:{if(a.payload!=null&&!isObject(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${a.payload}"`);break}case MessageType.Subscribe:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);if(!isObject(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(a.payload)}`);if(typeof a.payload.query!="string")throw new Error(`"${a.type}" message payload expects the 'query' property to be a string, but got ${extendedTypeof(a.payload.query)}`);if(a.payload.variables!=null&&!isObject(a.payload.variables))throw new Error(`"${a.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${extendedTypeof(a.payload.variables)}`);if(a.payload.operationName!=null&&extendedTypeof(a.payload.operationName)!=="string")throw new Error(`"${a.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${extendedTypeof(a.payload.operationName)}`);if(a.payload.extensions!=null&&!isObject(a.payload.extensions))throw new Error(`"${a.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${extendedTypeof(a.payload.extensions)}`);break}case MessageType.Next:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);if(!isObject(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(a.payload)}`);break}case MessageType.Error:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);if(!areGraphQLErrors(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(a.payload)}`);break}case MessageType.Complete:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${a.type}"`)}return a}function parseMessage(a,s){return validateMessage(typeof a=="string"?JSON.parse(a,s):a)}function stringifyMessage(a,s){return validateMessage(a),JSON.stringify(a,s)}var __await=function(a){return this instanceof __await?(this.v=a,this):new __await(a)},__asyncGenerator=function(a,s,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt=et.apply(a,s||[]),at,mt=[];return at=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),$t("next"),$t("throw"),$t("return",wt),at[Symbol.asyncIterator]=function(){return this},at;function wt(tr){return function(ir){return Promise.resolve(ir).then(tr,jt)}}function $t(tr,ir){nt[tr]&&(at[tr]=function(sr){return new Promise(function(ur,fr){mt.push([tr,sr,ur,fr])>1||Ct(tr,sr)})},ir&&(at[tr]=ir(at[tr])))}function Ct(tr,ir){try{Dt(nt[tr](ir))}catch(sr){Ut(mt[0][3],sr)}}function Dt(tr){tr.value instanceof __await?Promise.resolve(tr.value.v).then(Ft,jt):Ut(mt[0][2],tr)}function Ft(tr){Ct("next",tr)}function jt(tr){Ct("throw",tr)}function Ut(tr,ir){tr(ir),mt.shift(),mt.length&&Ct(mt[0][0],mt[0][1])}};function createClient(a){const{url:s,connectionParams:et,lazy:nt=!0,onNonLazyError:at=console.error,lazyCloseTimeout:mt=0,keepAlive:wt=0,disablePong:$t,connectionAckWaitTimeout:Ct=0,retryAttempts:Dt=5,retryWait:Ft=async function(rr){let ar=1e3;for(let lr=0;lr<rr;lr++)ar*=2;await new Promise(lr=>setTimeout(lr,ar+Math.floor(Math.random()*2700+300)))},shouldRetry:jt=isLikeCloseEvent,isFatalConnectionProblem:Ut,on:tr,webSocketImpl:ir,generateID:sr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,rr=>{const ar=Math.random()*16|0;return(rr=="x"?ar:ar&3|8).toString(16)})},jsonMessageReplacer:ur,jsonMessageReviver:fr}=a;let dr;if(ir){if(!isWebSocket(ir))throw new Error("Invalid WebSocket implementation provided");dr=ir}else typeof WebSocket<"u"?dr=WebSocket:typeof global$1<"u"?dr=global$1.WebSocket||global$1.MozWebSocket:typeof window<"u"&&(dr=window.WebSocket||window.MozWebSocket);if(!dr)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const hr=dr,vr=(()=>{const Yt=(()=>{const ar={};return{on(lr,nr){return ar[lr]=nr,()=>{delete ar[lr]}},emit(lr){var nr;"id"in lr&&((nr=ar[lr.id])===null||nr===void 0||nr.call(ar,lr))}}})(),rr={connecting:tr!=null&&tr.connecting?[tr.connecting]:[],opened:tr!=null&&tr.opened?[tr.opened]:[],connected:tr!=null&&tr.connected?[tr.connected]:[],ping:tr!=null&&tr.ping?[tr.ping]:[],pong:tr!=null&&tr.pong?[tr.pong]:[],message:tr!=null&&tr.message?[Yt.emit,tr.message]:[Yt.emit],closed:tr!=null&&tr.closed?[tr.closed]:[],error:tr!=null&&tr.error?[tr.error]:[]};return{onMessage:Yt.on,on(ar,lr){const nr=rr[ar];return nr.push(lr),()=>{nr.splice(nr.indexOf(lr),1)}},emit(ar,...lr){for(const nr of[...rr[ar]])nr(...lr)}}})();function yr(Yt){const rr=[vr.on("error",ar=>{rr.forEach(lr=>lr()),Yt(ar)}),vr.on("closed",ar=>{rr.forEach(lr=>lr()),Yt(ar)})]}let xr,br=0,wr,Sr=!1,Cr=0,cr=!1;async function Nt(){clearTimeout(wr);const[Yt,rr]=await(xr??(xr=new Promise((nr,Lt)=>(async()=>{if(Sr){if(await Ft(Cr),!br)return xr=void 0,Lt({code:1e3,reason:"All Subscriptions Gone"});Cr++}vr.emit("connecting",Sr);const or=new hr(typeof s=="function"?await s():s,GRAPHQL_TRANSPORT_WS_PROTOCOL);let gr,pr;function _r(){isFinite(wt)&&wt>0&&(clearTimeout(pr),pr=setTimeout(()=>{or.readyState===hr.OPEN&&(or.send(stringifyMessage({type:MessageType.Ping})),vr.emit("ping",!1,void 0))},wt))}yr(Mr=>{xr=void 0,clearTimeout(gr),clearTimeout(pr),Lt(Mr),Mr instanceof TerminatedCloseEvent&&(or.close(4499,"Terminated"),or.onerror=null,or.onclose=null)}),or.onerror=Mr=>vr.emit("error",Mr),or.onclose=Mr=>vr.emit("closed",Mr),or.onopen=async()=>{try{vr.emit("opened",or);const Mr=typeof et=="function"?await et():et;if(or.readyState!==hr.OPEN)return;or.send(stringifyMessage(Mr?{type:MessageType.ConnectionInit,payload:Mr}:{type:MessageType.ConnectionInit},ur)),isFinite(Ct)&&Ct>0&&(gr=setTimeout(()=>{or.close(CloseCode.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},Ct)),_r()}catch(Mr){vr.emit("error",Mr),or.close(CloseCode.InternalClientError,limitCloseReason(Mr instanceof Error?Mr.message:new Error(Mr).message,"Internal client error"))}};let kr=!1;or.onmessage=({data:Mr})=>{try{const $r=parseMessage(Mr,fr);if(vr.emit("message",$r),$r.type==="ping"||$r.type==="pong"){vr.emit($r.type,!0,$r.payload),$r.type==="pong"?_r():$t||(or.send(stringifyMessage($r.payload?{type:MessageType.Pong,payload:$r.payload}:{type:MessageType.Pong})),vr.emit("pong",!1,$r.payload));return}if(kr)return;if($r.type!==MessageType.ConnectionAck)throw new Error(`First message cannot be of type ${$r.type}`);clearTimeout(gr),kr=!0,vr.emit("connected",or,$r.payload,Sr),Sr=!1,Cr=0,nr([or,new Promise((Pr,Fr)=>yr(Fr))])}catch($r){or.onmessage=null,vr.emit("error",$r),or.close(CloseCode.BadResponse,limitCloseReason($r instanceof Error?$r.message:new Error($r).message,"Bad response"))}}})())));Yt.readyState===hr.CLOSING&&await rr;let ar=()=>{};const lr=new Promise(nr=>ar=nr);return[Yt,ar,Promise.race([lr.then(()=>{if(!br){const nr=()=>Yt.close(1e3,"Normal Closure");isFinite(mt)&&mt>0?wr=setTimeout(()=>{Yt.readyState===hr.OPEN&&nr()},mt):nr()}}),rr])]}function Vt(Yt){if(isLikeCloseEvent(Yt)&&(isFatalInternalCloseCode(Yt.code)||[CloseCode.InternalServerError,CloseCode.InternalClientError,CloseCode.BadRequest,CloseCode.BadResponse,CloseCode.Unauthorized,CloseCode.SubprotocolNotAcceptable,CloseCode.SubscriberAlreadyExists,CloseCode.TooManyInitialisationRequests].includes(Yt.code)))throw Yt;if(cr)return!1;if(isLikeCloseEvent(Yt)&&Yt.code===1e3)return br>0;if(!Dt||Cr>=Dt||!jt(Yt)||Ut!=null&&Ut(Yt))throw Yt;return Sr=!0}nt||(async()=>{for(br++;;)try{const[,,Yt]=await Nt();await Yt}catch(Yt){try{if(!Vt(Yt))return}catch(rr){return at==null?void 0:at(rr)}}})();function er(Yt,rr){const ar=sr(Yt);let lr=!1,nr=!1,Lt=()=>{br--,lr=!0};return(async()=>{for(br++;;)try{const[or,gr,pr]=await Nt();if(lr)return gr();const _r=vr.onMessage(ar,kr=>{switch(kr.type){case MessageType.Next:{rr.next(kr.payload);return}case MessageType.Error:{nr=!0,lr=!0,rr.error(kr.payload),Lt();return}case MessageType.Complete:{lr=!0,Lt();return}}});or.send(stringifyMessage({id:ar,type:MessageType.Subscribe,payload:Yt},ur)),Lt=()=>{!lr&&or.readyState===hr.OPEN&&or.send(stringifyMessage({id:ar,type:MessageType.Complete},ur)),br--,lr=!0,gr()},await pr.finally(_r);return}catch(or){if(!Vt(or))return}})().then(()=>{nr||rr.complete()}).catch(or=>{rr.error(or)}),()=>{lr||Lt()}}return{on:vr.on,subscribe:er,iterate(Yt){const rr=[],ar={done:!1,error:null,resolve:()=>{}},lr=er(Yt,{next(Lt){rr.push(Lt),ar.resolve()},error(Lt){ar.done=!0,ar.error=Lt,ar.resolve()},complete(){ar.done=!0,ar.resolve()}}),nr=function(){return __asyncGenerator(this,arguments,function*(){for(;;){for(rr.length||(yield __await(new Promise(gr=>ar.resolve=gr)));rr.length;)yield yield __await(rr.shift());if(ar.error)throw ar.error;if(ar.done)return yield __await(void 0)}})}();return nr.throw=async Lt=>(ar.done||(ar.done=!0,ar.error=Lt,ar.resolve()),{done:!0,value:void 0}),nr.return=async()=>(lr(),{done:!0,value:void 0}),nr},async dispose(){if(cr=!0,xr){const[Yt]=await xr;Yt.close(1e3,"Normal Closure")}},terminate(){xr&&vr.emit("closed",new TerminatedCloseEvent)}}}class TerminatedCloseEvent extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function isLikeCloseEvent(a){return isObject(a)&&"code"in a&&"reason"in a}function isFatalInternalCloseCode(a){return[1e3,1001,1006,1005,1012,1013,1014].includes(a)?!1:a>=1e3&&a<=1999}function isWebSocket(a){return typeof a=="function"&&"constructor"in a&&"CLOSED"in a&&"CLOSING"in a&&"CONNECTING"in a&&"OPEN"in a}var RelayConcreteNode$3={ACTOR_CHANGE:"ActorChange",CATCH_FIELD:"CatchField",CONDITION:"Condition",CLIENT_COMPONENT:"ClientComponent",CLIENT_EDGE_TO_SERVER_OBJECT:"ClientEdgeToServerObject",CLIENT_EDGE_TO_CLIENT_OBJECT:"ClientEdgeToClientObject",CLIENT_EXTENSION:"ClientExtension",DEFER:"Defer",CONNECTION:"Connection",FRAGMENT:"Fragment",FRAGMENT_SPREAD:"FragmentSpread",INLINE_DATA_FRAGMENT_SPREAD:"InlineDataFragmentSpread",INLINE_DATA_FRAGMENT:"InlineDataFragment",INLINE_FRAGMENT:"InlineFragment",LINKED_FIELD:"LinkedField",LINKED_HANDLE:"LinkedHandle",LITERAL:"Literal",LIST_VALUE:"ListValue",LOCAL_ARGUMENT:"LocalArgument",MODULE_IMPORT:"ModuleImport",ALIASED_FRAGMENT_SPREAD:"AliasedFragmentSpread",ALIASED_INLINE_FRAGMENT_SPREAD:"AliasedInlineFragmentSpread",RELAY_RESOLVER:"RelayResolver",RELAY_LIVE_RESOLVER:"RelayLiveResolver",REQUIRED_FIELD:"RequiredField",OBJECT_VALUE:"ObjectValue",OPERATION:"Operation",REQUEST:"Request",ROOT_ARGUMENT:"RootArgument",SCALAR_FIELD:"ScalarField",SCALAR_HANDLE:"ScalarHandle",SPLIT_OPERATION:"SplitOperation",STREAM:"Stream",TYPE_DISCRIMINATOR:"TypeDiscriminator",UPDATABLE_QUERY:"UpdatableQuery",VARIABLE:"Variable"},RelayConcreteNode_1=RelayConcreteNode$3,invariant$M=function(a,s,et,nt,at,mt,wt,$t){if(!a){var Ct;if(s===void 0)Ct=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Dt=[et,nt,at,mt,wt,$t],Ft=0;Ct=new Error(s.replace(/%s/g,function(){return Dt[Ft++]})),Ct.name="Invariant Violation"}throw Ct.framesToPop=1,Ct}},browser$1=invariant$M;function makeEmptyFunction(a){return function(){return a}}var emptyFunction$2=function a(){};emptyFunction$2.thatReturns=makeEmptyFunction;emptyFunction$2.thatReturnsFalse=makeEmptyFunction(!1);emptyFunction$2.thatReturnsTrue=makeEmptyFunction(!0);emptyFunction$2.thatReturnsNull=makeEmptyFunction(null);emptyFunction$2.thatReturnsThis=function(){return this};emptyFunction$2.thatReturnsArgument=function(a){return a};var emptyFunction_1=emptyFunction$2,emptyFunction$1=emptyFunction_1,warning$3=emptyFunction$1,warning_1=warning$3,RelayConcreteNode$2=RelayConcreteNode_1,invariant$L=browser$1;function graphql(a){invariant$L(!1)}function getNode(a){var s=a;return typeof s=="function"?s=s():s.default&&(s=s.default),s}function isFragment(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.FRAGMENT}function isRequest(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.REQUEST}function isUpdatableQuery(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.UPDATABLE_QUERY}function isInlineDataFragment(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.INLINE_DATA_FRAGMENT}function getFragment$3(a){var s=getNode(a);return isFragment(s)||invariant$L(!1),s}function getPaginationFragment(a){var s,et=getFragment$3(a),nt=(s=et.metadata)===null||s===void 0?void 0:s.refetch,at=nt==null?void 0:nt.connection;return nt===null||typeof nt!="object"||at===null||typeof at!="object"?null:et}function getRefetchableFragment(a){var s,et=getFragment$3(a),nt=(s=et.metadata)===null||s===void 0?void 0:s.refetch;return nt===null||typeof nt!="object"?null:et}function getRequest$5(a){var s=getNode(a);return isRequest(s)||invariant$L(!1),s}function getUpdatableQuery$1(a){var s=getNode(a);return isUpdatableQuery(s)||invariant$L(!1),s}function getInlineDataFragment$1(a){var s=getNode(a);return isInlineDataFragment(s)||invariant$L(!1),s}var GraphQLTag$1={getFragment:getFragment$3,getNode,getPaginationFragment,getRefetchableFragment,getRequest:getRequest$5,getUpdatableQuery:getUpdatableQuery$1,getInlineDataFragment:getInlineDataFragment$1,graphql,isFragment,isRequest,isInlineDataFragment},createForOfIteratorHelper={exports:{}},unsupportedIterableToArray={exports:{}},arrayLikeToArray={exports:{}};(function(a){function s(et,nt){(nt==null||nt>et.length)&&(nt=et.length);for(var at=0,mt=Array(nt);at<nt;at++)mt[at]=et[at];return mt}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(arrayLikeToArray);var arrayLikeToArrayExports=arrayLikeToArray.exports;(function(a){var s=arrayLikeToArrayExports;function et(nt,at){if(nt){if(typeof nt=="string")return s(nt,at);var mt={}.toString.call(nt).slice(8,-1);return mt==="Object"&&nt.constructor&&(mt=nt.constructor.name),mt==="Map"||mt==="Set"?Array.from(nt):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?s(nt,at):void 0}}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports})(unsupportedIterableToArray);var unsupportedIterableToArrayExports=unsupportedIterableToArray.exports;(function(a){var s=unsupportedIterableToArrayExports;function et(nt,at){var mt=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!mt){if(Array.isArray(nt)||(mt=s(nt))||at&&nt&&typeof nt.length=="number"){mt&&(nt=mt);var wt=0,$t=function(){};return{s:$t,n:function(){return wt>=nt.length?{done:!0}:{done:!1,value:nt[wt++]}},e:function(Ut){throw Ut},f:$t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ct,Dt=!0,Ft=!1;return{s:function(){mt=mt.call(nt)},n:function(){var Ut=mt.next();return Dt=Ut.done,Ut},e:function(Ut){Ft=!0,Ct=Ut},f:function(){try{Dt||mt.return==null||mt.return()}finally{if(Ft)throw Ct}}}}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports})(createForOfIteratorHelper);var createForOfIteratorHelperExports=createForOfIteratorHelper.exports,_interopRequireDefault$s=interopRequireDefaultExports.default,_createForOfIteratorHelper2$f=_interopRequireDefault$s(createForOfIteratorHelperExports),invariant$K=browser$1;function handleFieldErrors(a,s){var et=(0,_createForOfIteratorHelper2$f.default)(s),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value;a.relayFieldLogger(at)}}catch(Ct){et.e(Ct)}finally{et.f()}var mt=(0,_createForOfIteratorHelper2$f.default)(s),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if(eventShouldThrow$1($t))switch($t.kind){case"relay_resolver.error":throw new Error("Relay: Resolver error at path '".concat($t.fieldPath,"' in '").concat($t.owner,"'."));case"relay_field_payload.error":throw new Error("Relay: Unexpected response payload - check server logs for details.");case"missing_expected_data.throw":throw new Error("Relay: Missing expected data at path '".concat($t.fieldPath,"' in '").concat($t.owner,"'."));case"missing_required_field.throw":throw new Error("Relay: Missing @required value at path '".concat($t.fieldPath,"' in '").concat($t.owner,"'."));case"missing_required_field.log":case"missing_expected_data.log":break;default:$t.kind,invariant$K(!1)}}}catch(Ct){mt.e(Ct)}finally{mt.f()}}function eventShouldThrow$1(a){switch(a.kind){case"relay_resolver.error":case"relay_field_payload.error":return a.shouldThrow&&!a.handled;case"missing_expected_data.throw":case"missing_required_field.throw":return!a.handled;case"missing_required_field.log":case"missing_expected_data.log":return!1;default:throw a.kind,new Error("Relay: Unexpected event kind")}}function handlePotentialSnapshotErrors$4(a,s){s!=null&&handleFieldErrors(a,s)}var handlePotentialSnapshotErrors_1={handlePotentialSnapshotErrors:handlePotentialSnapshotErrors$4,eventShouldThrow:eventShouldThrow$1},objectSpread2={exports:{}};(function(a){var s=requireDefineProperty();function et(at,mt){var wt=Object.keys(at);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(at);mt&&($t=$t.filter(function(Ct){return Object.getOwnPropertyDescriptor(at,Ct).enumerable})),wt.push.apply(wt,$t)}return wt}function nt(at){for(var mt=1;mt<arguments.length;mt++){var wt=arguments[mt]!=null?arguments[mt]:{};mt%2?et(Object(wt),!0).forEach(function($t){s(at,$t,wt[$t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(wt)):et(Object(wt)).forEach(function($t){Object.defineProperty(at,$t,Object.getOwnPropertyDescriptor(wt,$t))})}return at}a.exports=nt,a.exports.__esModule=!0,a.exports.default=a.exports})(objectSpread2);var objectSpread2Exports=objectSpread2.exports,toConsumableArray={exports:{}},arrayWithoutHoles={exports:{}};(function(a){var s=arrayLikeToArrayExports;function et(nt){if(Array.isArray(nt))return s(nt)}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports})(arrayWithoutHoles);var arrayWithoutHolesExports=arrayWithoutHoles.exports,iterableToArray={exports:{}};(function(a){function s(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(iterableToArray);var iterableToArrayExports=iterableToArray.exports,nonIterableSpread={exports:{}};(function(a){function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(nonIterableSpread);var nonIterableSpreadExports=nonIterableSpread.exports;(function(a){var s=arrayWithoutHolesExports,et=iterableToArrayExports,nt=unsupportedIterableToArrayExports,at=nonIterableSpreadExports;function mt(wt){return s(wt)||et(wt)||nt(wt)||at()}a.exports=mt,a.exports.__esModule=!0,a.exports.default=a.exports})(toConsumableArray);var toConsumableArrayExports=toConsumableArray.exports,RelayDefaultHandleKey$1={DEFAULT_HANDLE_KEY:""},_require$O=RelayDefaultHandleKey$1,DEFAULT_HANDLE_KEY=_require$O.DEFAULT_HANDLE_KEY,invariant$J=browser$1;function getRelayHandleKey$3(a,s,et){return s&&s!==DEFAULT_HANDLE_KEY?"__".concat(s,"_").concat(a):(et==null&&invariant$J(!1),"__".concat(et,"_").concat(a))}var getRelayHandleKey_1=getRelayHandleKey$3;function stableCopy$6(a){if(!a||typeof a!="object")return a;if(Array.isArray(a))return a.map(stableCopy$6);for(var s=Object.keys(a).sort(),et={},nt=0;nt<s.length;nt++)et[s[nt]]=stableCopy$6(a[s[nt]]);return et}function hasCycle$2(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(!a||typeof a!="object")return!1;if(s.has(a))return!0;var et=new Set(s);et.add(a);var nt=Array.isArray(a)?a:Object.values(a);return nt.some(function(at){return hasCycle$2(at,et)})}var stableCopy_1={stableCopy:stableCopy$6,hasCycle:hasCycle$2},_interopRequireDefault$r=interopRequireDefaultExports.default,_toConsumableArray2$5=_interopRequireDefault$r(toConsumableArrayExports),getRelayHandleKey$2=getRelayHandleKey_1,RelayConcreteNode$1=RelayConcreteNode_1,_require$N=stableCopy_1,stableCopy$5=_require$N.stableCopy,invariant$I=browser$1,VARIABLE=RelayConcreteNode$1.VARIABLE,LITERAL=RelayConcreteNode$1.LITERAL,OBJECT_VALUE=RelayConcreteNode$1.OBJECT_VALUE,LIST_VALUE=RelayConcreteNode$1.LIST_VALUE,ERRORS_KEY$1="__errors",MODULE_COMPONENT_KEY_PREFIX="__module_component_",MODULE_OPERATION_KEY_PREFIX="__module_operation_";function getArgumentValue(a,s){if(a.kind===VARIABLE)return getStableVariableValue(a.variableName,s);if(a.kind===LITERAL)return a.value;if(a.kind===OBJECT_VALUE){var et={};return a.fields.forEach(function(at){et[at.name]=getArgumentValue(at,s)}),et}else if(a.kind===LIST_VALUE){var nt=[];return a.items.forEach(function(at){at!=null&&nt.push(getArgumentValue(at,s))}),nt}}function getArgumentValues$5(a,s,et){var nt={};return et&&(nt[RelayStoreUtils$4.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]=!0),a&&a.forEach(function(at){nt[at.name]=getArgumentValue(at,s)}),nt}function getHandleStorageKey$3(a,s){var et=a.dynamicKey,nt=a.handle,at=a.key,mt=a.name,wt=a.args,$t=a.filters,Ct=getRelayHandleKey$2(nt,at,mt),Dt=null;return wt&&$t&&wt.length!==0&&$t.length!==0&&(Dt=wt.filter(function(Ft){return $t.indexOf(Ft.name)>-1})),et&&(Dt=Dt!=null?[et].concat((0,_toConsumableArray2$5.default)(Dt)):[et]),Dt===null?Ct:formatStorageKey(Ct,getArgumentValues$5(Dt,s))}function getStorageKey$7(a,s){if(a.storageKey)return a.storageKey;var et=getArguments(a),nt=a.name;return et&&et.length!==0?formatStorageKey(nt,getArgumentValues$5(et,s)):nt}function getArguments(a){if(a.kind==="RelayResolver"||a.kind==="RelayLiveResolver"){var s;if(a.args==null){var et;return(et=a.fragment)===null||et===void 0?void 0:et.args}return((s=a.fragment)===null||s===void 0?void 0:s.args)==null?a.args:a.args.concat(a.fragment.args)}var nt=typeof a.args>"u"?void 0:a.args;return nt}function getStableStorageKey$2(a,s){return formatStorageKey(a,stableCopy$5(s))}function formatStorageKey(a,s){if(!s)return a;var et=[];for(var nt in s)if(s.hasOwnProperty(nt)){var at=s[nt];if(at!=null){var mt;et.push(nt+":"+((mt=JSON.stringify(at))!==null&&mt!==void 0?mt:"undefined"))}}return et.length===0?a:a+"(".concat(et.join(","),")")}function getStableVariableValue(a,s){return s.hasOwnProperty(a)||invariant$I(!1),stableCopy$5(s[a])}function getModuleComponentKey$3(a){return"".concat(MODULE_COMPONENT_KEY_PREFIX).concat(a)}function getModuleOperationKey$4(a){return"".concat(MODULE_OPERATION_KEY_PREFIX).concat(a)}var RelayStoreUtils$4={ACTOR_IDENTIFIER_KEY:"__actorIdentifier",CLIENT_EDGE_TRAVERSAL_PATH:"__clientEdgeTraversalPath",FRAGMENTS_KEY:"__fragments",FRAGMENT_OWNER_KEY:"__fragmentOwner",FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT:"$isWithinUnmatchedTypeRefinement",FRAGMENT_PROP_NAME_KEY:"__fragmentPropName",MODULE_COMPONENT_KEY:"__module_component",ERRORS_KEY:ERRORS_KEY$1,ID_KEY:"__id",REF_KEY:"__ref",REFS_KEY:"__refs",ROOT_ID:"client:root",ROOT_TYPE:"__Root",TYPENAME_KEY:"__typename",INVALIDATED_AT_KEY:"__invalidated_at",RELAY_RESOLVER_VALUE_KEY:"__resolverValue",RELAY_RESOLVER_INVALIDATION_KEY:"__resolverValueMayBeInvalid",RELAY_RESOLVER_SNAPSHOT_KEY:"__resolverSnapshot",RELAY_RESOLVER_ERROR_KEY:"__resolverError",RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS:"__resolverOutputTypeRecordIDs",getArgumentValues:getArgumentValues$5,getHandleStorageKey:getHandleStorageKey$3,getStorageKey:getStorageKey$7,getStableStorageKey:getStableStorageKey$2,getModuleComponentKey:getModuleComponentKey$3,getModuleOperationKey:getModuleOperationKey$4},RelayStoreUtils_1=RelayStoreUtils$4,_interopRequireDefault$q=interopRequireDefaultExports.default,_objectSpread2$a=_interopRequireDefault$q(objectSpread2Exports),_require$M=RelayStoreUtils_1,getArgumentValues$4=_require$M.getArgumentValues,invariant$H=browser$1;function getFragmentVariables$1(a,s,et){if(a.argumentDefinitions==null)return et;var nt;return a.argumentDefinitions.forEach(function(at){if(!et.hasOwnProperty(at.name))switch(nt=nt||(0,_objectSpread2$a.default)({},et),at.kind){case"LocalArgument":nt[at.name]=at.defaultValue;break;case"RootArgument":if(!s.hasOwnProperty(at.name)){nt[at.name]=void 0;break}nt[at.name]=s[at.name];break;default:invariant$H(!1)}}),nt||et}function getOperationVariables$1(a,s,et){var nt={};return a.argumentDefinitions.forEach(function(at){var mt=at.defaultValue;et[at.name]!=null&&(mt=et[at.name]),nt[at.name]=mt}),s!=null&&Object.keys(s).forEach(function(at){nt[at]=s[at].get()}),nt}function getLocalVariables$4(a,s,et){if(s==null)return a;var nt=(0,_objectSpread2$a.default)({},a),at=et?getArgumentValues$4(et,a):{};return s.forEach(function(mt){var wt,$t=(wt=at[mt.name])!==null&&wt!==void 0?wt:mt.defaultValue;nt[mt.name]=$t}),nt}var RelayConcreteVariables$2={getLocalVariables:getLocalVariables$4,getFragmentVariables:getFragmentVariables$1,getOperationVariables:getOperationVariables$1},aStackPool=[],bStackPool=[];/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function areEqual$5(a,s){var et=aStackPool.length?aStackPool.pop():[],nt=bStackPool.length?bStackPool.pop():[],at=eq(a,s,et,nt);return et.length=0,nt.length=0,aStackPool.push(et),bStackPool.push(nt),at}function eq(a,s,et,nt){if(a===s)return a!==0||1/a==1/s;if(a==null||s==null||typeof a!="object"||typeof s!="object")return!1;var at=Object.prototype.toString,mt=at.call(a);if(mt!=at.call(s))return!1;switch(mt){case"[object String]":return a==String(s);case"[object Number]":return isNaN(a)||isNaN(s)?!1:a==Number(s);case"[object Date]":case"[object Boolean]":return+a==+s;case"[object RegExp]":return a.source==s.source&&a.global==s.global&&a.multiline==s.multiline&&a.ignoreCase==s.ignoreCase}for(var wt=et.length;wt--;)if(et[wt]==a)return nt[wt]==s;et.push(a),nt.push(s);var $t=0;if(mt==="[object Array]"){if($t=a.length,$t!==s.length)return!1;for(;$t--;)if(!eq(a[$t],s[$t],et,nt))return!1}else{if(a.constructor!==s.constructor)return!1;if(a.hasOwnProperty("valueOf")&&s.hasOwnProperty("valueOf"))return a.valueOf()==s.valueOf();var Ct=Object.keys(a);if(Ct.length!=Object.keys(s).length)return!1;for(var Dt=0;Dt<Ct.length;Dt++)if(!eq(a[Ct[Dt]],s[Ct[Dt]],et,nt))return!1}return et.pop(),nt.pop(),!0}var areEqual_1=areEqual$5,_require$L=RelayConcreteVariables$2,getFragmentVariables=_require$L.getFragmentVariables,_require2$v=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH$1=_require2$v.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY$1=_require2$v.FRAGMENT_OWNER_KEY,FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT=_require2$v.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT,FRAGMENTS_KEY$2=_require2$v.FRAGMENTS_KEY,ID_KEY$3=_require2$v.ID_KEY,areEqual$4=areEqual_1,invariant$G=browser$1;function getSingularSelector(a,s){typeof s=="object"&&s!==null&&!Array.isArray(s)||invariant$G(!1);var et=s[ID_KEY$3],nt=s[FRAGMENTS_KEY$2],at=s[FRAGMENT_OWNER_KEY$1],mt=s[CLIENT_EDGE_TRAVERSAL_PATH$1];if(typeof et=="string"&&typeof nt=="object"&&nt!==null&&typeof nt[a.name]=="object"&&nt[a.name]!==null&&typeof at=="object"&&at!==null&&(mt==null||Array.isArray(mt))){var wt=at,$t=mt,Ct=nt[a.name],Dt=getFragmentVariables(a,wt.variables,Ct),Ft=Ct[FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]===!0;return createReaderSelector$4(a,et,Dt,wt,Ft,$t)}return null}function getPluralSelector(a,s){var et=null;return s.forEach(function(nt,at){var mt=nt!=null?getSingularSelector(a,nt):null;mt!=null&&(et=et||[],et.push(mt))}),et==null?null:{kind:"PluralReaderSelector",selectors:et}}function getSelector$3(a,s){return s==null?s:a.metadata&&a.metadata.plural===!0?(Array.isArray(s)||invariant$G(!1),getPluralSelector(a,s)):(Array.isArray(s)&&invariant$G(!1),getSingularSelector(a,s))}function getSelectorsFromObject$1(a,s){var et={};for(var nt in a)if(a.hasOwnProperty(nt)){var at=a[nt],mt=s[nt];et[nt]=getSelector$3(at,mt)}return et}function getDataIDsFromObject(a,s){var et={};for(var nt in a)if(a.hasOwnProperty(nt)){var at=a[nt],mt=s[nt];et[nt]=getDataIDsFromFragment$1(at,mt)}return et}function getDataIDsFromFragment$1(a,s){return s==null?s:a.metadata&&a.metadata.plural===!0?(Array.isArray(s)||invariant$G(!1),getDataIDs(a,s)):(Array.isArray(s)&&invariant$G(!1),getDataID$1(a,s))}function getDataIDs(a,s){var et=null;return s.forEach(function(nt){var at=nt!=null?getDataID$1(a,nt):null;at!=null&&(et=et||[],et.push(at))}),et}function getDataID$1(a,s){typeof s=="object"&&s!==null&&!Array.isArray(s)||invariant$G(!1);var et=s[ID_KEY$3];return typeof et=="string"?et:null}function getVariablesFromObject(a,s){var et={};for(var nt in a)if(a.hasOwnProperty(nt)){var at=a[nt],mt=s[nt],wt=getVariablesFromFragment$2(at,mt);Object.assign(et,wt)}return et}function getVariablesFromFragment$2(a,s){var et;return s==null?{}:((et=a.metadata)===null||et===void 0?void 0:et.plural)===!0?(Array.isArray(s)||invariant$G(!1),getVariablesFromPluralFragment(a,s)):(Array.isArray(s)&&invariant$G(!1),getVariablesFromSingularFragment(a,s)||{})}function getVariablesFromSingularFragment(a,s){var et=getSingularSelector(a,s);return et?et.variables:null}function getVariablesFromPluralFragment(a,s){var et={};return s.forEach(function(nt,at){if(nt!=null){var mt=getVariablesFromSingularFragment(a,nt);mt!=null&&Object.assign(et,mt)}}),et}function areEqualSingularSelectors(a,s){return a.dataID===s.dataID&&a.node===s.node&&areEqual$4(a.variables,s.variables)&&areEqualOwners(a.owner,s.owner)&&a.isWithinUnmatchedTypeRefinement===s.isWithinUnmatchedTypeRefinement&&areEqualClientEdgeTraversalPaths(a.clientEdgeTraversalPath,s.clientEdgeTraversalPath)}function areEqualOwners(a,s){return a===s?!0:a.identifier===s.identifier&&areEqual$4(a.cacheConfig,s.cacheConfig)}function areEqualClientEdgeTraversalPaths(a,s){if(a===s)return!0;if(a==null||s==null||a.length!==s.length)return!1;for(var et=a.length;et--;){var nt=a[et],at=s[et];if(nt!==at&&(nt==null||at==null||nt.clientEdgeDestinationID!==at.clientEdgeDestinationID||nt.readerClientEdge!==at.readerClientEdge))return!1}return!0}function areEqualSelectors$1(a,s){return a===s?!0:a==null?s==null:s==null?a==null:a.kind==="SingularReaderSelector"&&s.kind==="SingularReaderSelector"?areEqualSingularSelectors(a,s):a.kind==="PluralReaderSelector"&&s.kind==="PluralReaderSelector"?a.selectors.length===s.selectors.length&&a.selectors.every(function(et,nt){return areEqualSingularSelectors(et,s.selectors[nt])}):!1}function createReaderSelector$4(a,s,et,nt){var at=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,mt=arguments.length>5?arguments[5]:void 0;return{kind:"SingularReaderSelector",dataID:s,isWithinUnmatchedTypeRefinement:at,clientEdgeTraversalPath:mt??null,node:a,variables:et,owner:nt}}function createNormalizationSelector$4(a,s,et){return{dataID:s,node:a,variables:et}}var RelayModernSelector$1={areEqualSelectors:areEqualSelectors$1,createReaderSelector:createReaderSelector$4,createNormalizationSelector:createNormalizationSelector$4,getDataIDsFromFragment:getDataIDsFromFragment$1,getDataIDsFromObject,getSingularSelector,getPluralSelector,getSelector:getSelector$3,getSelectorsFromObject:getSelectorsFromObject$1,getVariablesFromSingularFragment,getVariablesFromPluralFragment,getVariablesFromFragment:getVariablesFromFragment$2,getVariablesFromObject},_require$K=GraphQLTag$1,getFragment$2=_require$K.getFragment,_require2$u=handlePotentialSnapshotErrors_1,eventShouldThrow=_require2$u.eventShouldThrow,_require3$i=RelayModernSelector$1,getSelector$2=_require3$i.getSelector,invariant$F=browser$1,contextStack=[];function withResolverContext$1(a,s){contextStack.push(a);try{return s()}finally{contextStack.pop()}}function readFragment(a,s){if(!contextStack.length)throw new Error("readFragment should be called only from within a Relay Resolver function.");var et=contextStack[contextStack.length-1],nt=getFragment$2(a),at=getSelector$2(nt,s);at==null&&invariant$F(!1),at.kind!=="SingularReaderSelector"&&invariant$F(!1);var mt=et.getDataForResolverFragment(at,s),wt=mt.data,$t=mt.isMissingData,Ct=mt.errorResponseFields;if($t||Ct!=null&&Ct.some(eventShouldThrow))throw RESOLVER_FRAGMENT_ERRORED_SENTINEL$1;return wt}var RESOLVER_FRAGMENT_ERRORED_SENTINEL$1={},ResolverFragments$1={readFragment,withResolverContext:withResolverContext$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL:RESOLVER_FRAGMENT_ERRORED_SENTINEL$1},_require$J=ResolverFragments$1;_require$J.readFragment;function isPromise$2(a){return a!=null&&typeof a=="object"&&typeof a.then=="function"}var isPromise_1=isPromise$2,isPromise$1=isPromise_1,hostReportError=swallowError,RelayObservable$6=function(){a.create=function(nt){return new a(nt)};function a(et){this._source=et}a.onUnhandledError=function(nt){hostReportError=nt},a.from=function(nt){return isObservable(nt)?fromObservable(nt):isPromise$1(nt)?fromPromise(nt):fromValue(nt)};var s=a.prototype;return s.catch=function(nt){var at=this;return a.create(function(mt){var wt;return at.subscribe({start:function(Ct){wt=Ct},next:mt.next,complete:mt.complete,error:function(Ct){try{nt(Ct).subscribe({start:function(Ft){wt=Ft},next:mt.next,complete:mt.complete,error:mt.error})}catch(Dt){mt.error(Dt,!0)}}}),function(){return wt.unsubscribe()}})},s.concat=function(nt){var at=this;return a.create(function(mt){var wt;return at.subscribe({start:function(Ct){wt=Ct},next:mt.next,error:mt.error,complete:function(){wt=nt.subscribe(mt)}}),function(){wt&&wt.unsubscribe()}})},s.do=function(nt){var at=this;return a.create(function(mt){var wt=function(Ct){return function(){try{nt[Ct]&&nt[Ct].apply(nt,arguments)}catch(Dt){hostReportError(Dt,!0)}mt[Ct]&&mt[Ct].apply(mt,arguments)}};return at.subscribe({start:wt("start"),next:wt("next"),error:wt("error"),complete:wt("complete"),unsubscribe:wt("unsubscribe")})})},s.finally=function(nt){var at=this;return a.create(function(mt){var wt=at.subscribe(mt);return function(){wt.unsubscribe(),nt()}})},s.ifEmpty=function(nt){var at=this;return a.create(function(mt){var wt=!1,$t;return $t=at.subscribe({next:function(Dt){wt=!0,mt.next(Dt)},error:mt.error,complete:function(){wt?mt.complete():$t=nt.subscribe(mt)}}),function(){$t&&$t.unsubscribe()}})},s.subscribe=function(nt){return _subscribe(this._source,nt)},s.map=function(nt){var at=this;return a.create(function(mt){var wt=at.subscribe({complete:mt.complete,error:mt.error,next:function(Ct){try{var Dt=nt(Ct);mt.next(Dt)}catch(Ft){mt.error(Ft,!0)}}});return function(){wt.unsubscribe()}})},s.mergeMap=function(nt){var at=this;return a.create(function(mt){var wt=[];function $t(Dt){this._sub=Dt,wt.push(Dt)}function Ct(){wt.splice(wt.indexOf(this._sub),1),wt.length===0&&mt.complete()}return at.subscribe({start:$t,next:function(Ft){try{mt.closed||a.from(nt(Ft)).subscribe({start:$t,next:mt.next,error:mt.error,complete:Ct})}catch(jt){mt.error(jt,!0)}},error:mt.error,complete:Ct}),function(){wt.forEach(function(Dt){return Dt.unsubscribe()}),wt.length=0}})},s.poll=function(nt){var at=this;return a.create(function(mt){var wt,$t,Ct=function Dt(){wt=at.subscribe({next:mt.next,error:mt.error,complete:function(){$t=setTimeout(Dt,nt)}})};return Ct(),function(){clearTimeout($t),wt.unsubscribe()}})},s.toPromise=function(){var nt=this;return new Promise(function(at,mt){var wt=!1;nt.subscribe({next:function(Ct){wt||(wt=!0,at(Ct))},error:mt,complete:at})})},a}();function isObservable(a){return typeof a=="object"&&a!==null&&typeof a.subscribe=="function"}function fromObservable(a){return a instanceof RelayObservable$6?a:RelayObservable$6.create(function(s){return a.subscribe(s)})}function fromPromise(a){return RelayObservable$6.create(function(s){a.then(function(et){s.next(et),s.complete()},s.error)})}function fromValue(a){return RelayObservable$6.create(function(s){s.next(a),s.complete()})}function _subscribe(a,s){var et=!1,nt,at=function(Dt){return Object.defineProperty(Dt,"closed",{get:function(){return et}})};function mt(){if(nt){if(nt.unsubscribe)nt.unsubscribe();else try{nt()}catch(Ct){hostReportError(Ct,!0)}nt=void 0}}var wt=at({unsubscribe:function(){if(!et){et=!0;try{s.unsubscribe&&s.unsubscribe(wt)}catch(Dt){hostReportError(Dt,!0)}finally{mt()}}}});try{s.start&&s.start(wt)}catch(Ct){hostReportError(Ct,!0)}if(et)return wt;var $t=at({next:function(Dt){if(!et&&s.next)try{s.next(Dt)}catch(Ft){hostReportError(Ft,!0)}},error:function(Dt,Ft){if(et||!s.error)et=!0,hostReportError(Dt,Ft||!1),mt();else{et=!0;try{s.error(Dt)}catch(jt){hostReportError(jt,!0)}finally{mt()}}},complete:function(){if(!et){et=!0;try{s.complete&&s.complete()}catch(Dt){hostReportError(Dt,!0)}finally{mt()}}}});try{nt=a($t)}catch(Ct){$t.error(Ct,!0)}return et&&mt(),wt}function swallowError(a,s){}var RelayObservable_1=RelayObservable$6,_interopRequireDefault$p=interopRequireDefaultExports.default,_createForOfIteratorHelper2$e=_interopRequireDefault$p(createForOfIteratorHelperExports),_defineProperty2$5=_interopRequireDefault$p(requireDefineProperty()),RelayObservable$5=RelayObservable_1,invariant$E=browser$1,RelayReplaySubject$2=function(){function a(){var et=this;(0,_defineProperty2$5.default)(this,"_complete",!1),(0,_defineProperty2$5.default)(this,"_events",[]),(0,_defineProperty2$5.default)(this,"_sinks",new Set),(0,_defineProperty2$5.default)(this,"_subscription",[]),this._observable=RelayObservable$5.create(function(nt){et._sinks.add(nt);for(var at=et._events,mt=0;mt<at.length&&!nt.closed;mt++){var wt=at[mt];switch(wt.kind){case"complete":nt.complete();break;case"error":nt.error(wt.error);break;case"next":nt.next(wt.data);break;default:wt.kind,invariant$E(!1)}}return function(){et._sinks.delete(nt)}})}var s=a.prototype;return s.complete=function(){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"complete"}),this._sinks.forEach(function(nt){return nt.complete()}))},s.error=function(nt){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"error",error:nt}),this._sinks.forEach(function(at){return at.error(nt)}))},s.next=function(nt){this._complete!==!0&&(this._events.push({kind:"next",data:nt}),this._sinks.forEach(function(at){return at.next(nt)}))},s.subscribe=function(nt){var at=this._observable.subscribe(nt);return this._subscription.push(at),at},s.unsubscribe=function(){var nt=(0,_createForOfIteratorHelper2$e.default)(this._subscription),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;mt.unsubscribe()}}catch(wt){nt.e(wt)}finally{nt.f()}this._subscription=[]},s.getObserverCount=function(){return this._sinks.size},a}(),RelayReplaySubject_1=RelayReplaySubject$2,Observable$1=RelayObservable_1,RelayReplaySubject$1=RelayReplaySubject_1,invariant$D=browser$1,WEAKMAP_SUPPORTED$1=typeof WeakMap=="function",requestCachesByEnvironment=WEAKMAP_SUPPORTED$1?new WeakMap:new Map;function fetchQuery$2(a,s){return fetchQueryDeduped(a,s.request.identifier,function(){return a.execute({operation:s})})}function fetchQueryDeduped(a,s,et){return Observable$1.create(function(nt){var at=getRequestCache(a),mt=at.get(s);return mt||et().finally(function(){return at.delete(s)}).subscribe({start:function($t){mt={identifier:s,subject:new RelayReplaySubject$1,subjectForInFlightStatus:new RelayReplaySubject$1,subscription:$t,promise:null},at.set(s,mt)},next:function($t){var Ct=getCachedRequest(at,s);Ct.subject.next($t),Ct.subjectForInFlightStatus.next($t)},error:function($t){var Ct=getCachedRequest(at,s);Ct.subject.error($t),Ct.subjectForInFlightStatus.error($t)},complete:function(){var $t=getCachedRequest(at,s);$t.subject.complete(),$t.subjectForInFlightStatus.complete()},unsubscribe:function($t){var Ct=getCachedRequest(at,s);Ct.subject.unsubscribe(),Ct.subjectForInFlightStatus.unsubscribe()}}),mt==null&&invariant$D(!1),getObservableForCachedRequest(at,mt).subscribe(nt)})}function getObservableForCachedRequest(a,s){return Observable$1.create(function(et){var nt=s.subject.subscribe(et);return function(){nt.unsubscribe();var at=a.get(s.identifier);if(at){var mt=at.subscription;mt!=null&&at.subject.getObserverCount()===0&&(mt.unsubscribe(),a.delete(s.identifier))}}})}function getActiveStatusObservableForCachedRequest(a,s,et){return Observable$1.create(function(nt){var at=et.subjectForInFlightStatus.subscribe({error:nt.error,next:function(wt){if(!a.isRequestActive(et.identifier)){nt.complete();return}nt.next()},complete:nt.complete,unsubscribe:nt.complete});return function(){at.unsubscribe()}})}function getPromiseForActiveRequest$1(a,s){var et=getRequestCache(a),nt=et.get(s.identifier);if(!nt||!a.isRequestActive(nt.identifier))return null;var at=new Promise(function(mt,wt){var $t=!1;getActiveStatusObservableForCachedRequest(a,et,nt).subscribe({complete:mt,error:wt,next:function(Dt){$t&&mt(Dt)}}),$t=!0});return at}function getObservableForActiveRequest(a,s){var et=getRequestCache(a),nt=et.get(s.identifier);return!nt||!a.isRequestActive(nt.identifier)?null:getActiveStatusObservableForCachedRequest(a,et,nt)}function getRequestCache(a){var s=requestCachesByEnvironment.get(a);if(s!=null)return s;var et=new Map;return requestCachesByEnvironment.set(a,et),et}function getCachedRequest(a,s){var et=a.get(s);return et==null&&invariant$D(!1),et}var fetchQueryInternal$2={fetchQuery:fetchQuery$2,fetchQueryDeduped,getPromiseForActiveRequest:getPromiseForActiveRequest$1,getObservableForActiveRequest},_require$I=fetchQueryInternal$2,getPromiseForActiveRequest=_require$I.getPromiseForActiveRequest;function getPendingOperationsForFragment$3(a,s,et){var nt,at,mt=[],wt=getPromiseForActiveRequest(a,et);if(wt!=null)mt=[et];else{var $t,Ct,Dt=a.getOperationTracker(),Ft=Dt.getPendingOperationsAffectingOwner(et);mt=($t=Ft==null?void 0:Ft.pendingOperations)!==null&&$t!==void 0?$t:[],wt=(Ct=Ft==null?void 0:Ft.promise)!==null&&Ct!==void 0?Ct:null}if(!wt)return null;var jt=(nt=(at=mt)===null||at===void 0?void 0:at.map(function(ir){return ir.node.params.name}).join(","))!==null&&nt!==void 0?nt:null;(jt==null||jt.length===0)&&(jt="Unknown pending operation");var Ut=s.name,tr=jt===Ut?"Relay(".concat(jt,")"):"Relay(".concat(jt,":").concat(Ut,")");return wt.displayName=tr,a.__log({name:"pendingoperation.found",fragment:s,fragmentOwner:et,pendingOperations:mt}),{promise:wt,pendingOperations:mt}}var getPendingOperationsForFragment_1=getPendingOperationsForFragment$3;requireAsyncToGenerator().default;var Observable=RelayObservable_1,_require$H=GraphQLTag$1,getFragment$1=_require$H.getFragment,getPendingOperationsForFragment$2=getPendingOperationsForFragment_1,_require2$t=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$3=_require2$t.handlePotentialSnapshotErrors,_require3$h=RelayModernSelector$1,getSelector$1=_require3$h.getSelector,invariant$C=browser$1;function observeFragment$1(a,s,et){var nt,at=getFragment$1(s),mt=getSelector$1(at,et);switch(((nt=at.metadata)===null||nt===void 0?void 0:nt.hasClientEdges)!=null&&invariant$C(!1),mt==null&&invariant$C(!1),mt.kind){case"SingularReaderSelector":return observeSelector(a,s,mt);case"PluralReaderSelector":invariant$C(!1)}invariant$C(!1)}function observeSelector(a,s,et){var nt=a.lookup(et);return Observable.create(function(at){at.next(snapshotToFragmentState(a,s,et.owner,nt));var mt=a.subscribe(nt,function(wt){at.next(snapshotToFragmentState(a,s,et.owner,wt))});return function(){return mt.dispose()}})}function snapshotToFragmentState(a,s,et,nt){var at=nt.missingLiveResolverFields!=null&&nt.missingLiveResolverFields.length>0,mt=nt.missingClientEdges!=null&&nt.missingClientEdges.length>0;if(at||mt)return{state:"loading"};if(nt.isMissingData){var wt=getPendingOperationsForFragment$2(a,s,et);if(wt!=null)return{state:"loading"}}try{handlePotentialSnapshotErrors$3(a,nt.errorResponseFields)}catch($t){return{error:$t,state:"error"}}return nt.data==null&&invariant$C(!1),{state:"ok",value:nt.data}}var observeFragmentExperimental={observeFragment:observeFragment$1},_asyncToGenerator=requireAsyncToGenerator().default,_require$G=observeFragmentExperimental,observeFragment=_require$G.observeFragment;function waitForFragmentData(a,s,et){return _waitForFragmentData.apply(this,arguments)}function _waitForFragmentData(){return _waitForFragmentData=_asyncToGenerator(function*(a,s,et){var nt;try{var at,mt=yield new Promise(function($t,Ct){nt=observeFragment(a,s,et).subscribe({next:function(Ft){Ft.state==="ok"?$t(Ft.value):Ft.state==="error"&&Ct(Ft.error)}})});return(at=nt)===null||at===void 0||at.unsubscribe(),mt}catch($t){var wt;throw(wt=nt)===null||wt===void 0||wt.unsubscribe(),$t}}),_waitForFragmentData.apply(this,arguments)}var waitForFragmentExperimental={waitForFragmentData},_require$F=observeFragmentExperimental;_require$F.observeFragment;var _require2$s=waitForFragmentExperimental;_require2$s.waitForFragmentData;function isValueResult$1(a){return a.ok===!0}function isErrorResult$1(a){return a.ok===!1}var experimental={isValueResult:isValueResult$1,isErrorResult:isErrorResult$1},RelayFeatureFlags$9={ENABLE_VARIABLE_CONNECTION_KEY:!1,ENABLE_RELAY_RESOLVERS:!1,ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION:!1,ENABLE_FRIENDLY_QUERY_NAME_GQL_URL:!1,ENABLE_DO_NOT_WRAP_LIVE_QUERY:!1,ENABLE_NOTIFY_SUBSCRIPTION:!1,BATCH_ASYNC_MODULE_UPDATES_FN:null,ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT:!1,MAX_DATA_ID_LENGTH:null,STRING_INTERN_LEVEL:0,LOG_MISSING_RECORDS_IN_PROD:!1,ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS:!1,ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION:!1,ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES:!1,ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE:!1,PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION:!1,MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD:!1,ENABLE_CYLE_DETECTION_IN_VARIABLES:!1,ENABLE_ACTIVITY_COMPATIBILITY:!1,ENABLE_READ_TIME_RESOLVER_STORAGE_KEY_PREFIX:!0},RelayFeatureFlags_1=RelayFeatureFlags$9,internTable=new Map,nextIndex=1,digits=initDigitTable(),INTERN_PREFIX="	",ESCAPE_PREFIX="\v";function initDigitTable(){for(var a=new Set,s=0;s<10;++s)a.add(s.toString());return a}function escape$1(a){return a[0]===INTERN_PREFIX&&digits.has(a[1])||a[0]===ESCAPE_PREFIX?ESCAPE_PREFIX+a:a}function intern$2(a,s){if(s==null||a.length<s)return escape$1(a);var et=internTable.get(a);return et!=null||(et=INTERN_PREFIX+nextIndex++,internTable.set(a,et)),et}var StringInterner={intern:intern$2},RelayFeatureFlags$8=RelayFeatureFlags_1,_require$E=StringInterner,intern$1=_require$E.intern,PREFIX$1="client:";function generateClientID$7(a,s,et){var nt=RelayFeatureFlags$8.STRING_INTERN_LEVEL<=0?a:intern$1(a,RelayFeatureFlags$8.MAX_DATA_ID_LENGTH),at=nt+":"+s;return et!=null&&(at+=":"+et),at.indexOf(PREFIX$1)!==0&&(at=PREFIX$1+at),at}function isClientID$2(a){return a.indexOf(PREFIX$1)===0}var localID=0;function generateUniqueClientID$3(){return"".concat(PREFIX$1,"local:").concat(localID++)}function generateClientObjectClientID$2(a,s,et){var nt="".concat(PREFIX$1).concat(a,":").concat(s);return et!=null&&(nt+=":"+et),nt}var ClientID={generateClientID:generateClientID$7,generateClientObjectClientID:generateClientObjectClientID$2,generateUniqueClientID:generateUniqueClientID$3,isClientID:isClientID$2},CONNECTION_CALLS={after:!0,before:!0,find:!0,first:!0,last:!0,surrounds:!0},config={CURSOR:"cursor",EDGES:"edges",END_CURSOR:"endCursor",HAS_NEXT_PAGE:"hasNextPage",HAS_PREV_PAGE:"hasPreviousPage",NODE:"node",PAGE_INFO_TYPE:"PageInfo",PAGE_INFO:"pageInfo",START_CURSOR:"startCursor"},ConnectionInterface$3={inject:function a(s){config=s},get:function a(){return config},isConnectionCall:function a(s){return CONNECTION_CALLS.hasOwnProperty(s.name)}},ConnectionInterface_1=ConnectionInterface$3,_require$D=ClientID,generateClientID$6=_require$D.generateClientID,_require2$r=RelayStoreUtils_1,getStableStorageKey$1=_require2$r.getStableStorageKey,getRelayHandleKey$1=getRelayHandleKey_1,ConnectionInterface$2=ConnectionInterface_1,invariant$B=browser$1,CONNECTION="connection",NEXT_EDGE_INDEX="__connection_next_edge_index";function update$1(a,s){var et=a.get(s.dataID);if(et){var nt=ConnectionInterface$2.get(),at=nt.EDGES,mt=nt.END_CURSOR,wt=nt.HAS_NEXT_PAGE,$t=nt.HAS_PREV_PAGE,Ct=nt.PAGE_INFO,Dt=nt.PAGE_INFO_TYPE,Ft=nt.START_CURSOR,jt=et.getLinkedRecord(s.fieldKey),Ut=jt&&jt.getLinkedRecord(Ct);if(!jt){et.setValue(null,s.handleKey,void 0,et.getErrors(s.fieldKey));return}var tr=generateClientID$6(et.getDataID(),s.handleKey),ir=et.getLinkedRecord(s.handleKey),sr=ir??a.get(tr),ur=sr&&sr.getLinkedRecord(Ct);if(sr){ir==null&&et.setLinkedRecord(sr,s.handleKey);var hr=sr,vr=jt.getLinkedRecords(at);vr&&(vr=vr.map(function(lr){return buildConnectionEdge(a,hr,lr)}));var yr=hr.getLinkedRecords(at),xr=hr.getLinkedRecord(Ct);hr.copyFieldsFrom(jt),yr&&hr.setLinkedRecords(yr,at),xr&&hr.setLinkedRecord(xr,Ct);var br=[],wr=s.args;if(yr&&vr)if(wr.after!=null){var Sr,Cr=(Sr=ur)===null||Sr===void 0?void 0:Sr.getValue(mt),cr=Ut==null?void 0:Ut.getValue(mt),Nt=ur&&wr.after===Cr,Vt=ur&&Cr===cr;if(Nt||Vt){var er=new Set;mergeEdges(yr,br,er),mergeEdges(vr,br,er)}else return}else if(wr.before!=null)if(ur&&wr.before===ur.getValue(Ft)){var Yt=new Set;mergeEdges(vr,br,Yt),mergeEdges(yr,br,Yt)}else return;else br=vr;else vr?br=vr:br=yr;if(br!=null&&br!==yr&&hr.setLinkedRecords(br,at),ur&&Ut){if(wr.after==null&&wr.before==null)ur.copyFieldsFrom(Ut);else if(wr.before!=null||wr.after==null&&wr.last){ur.setValue(!!Ut.getValue($t),$t);var rr=Ut.getValue(Ft);typeof rr=="string"&&ur.setValue(rr,Ft)}else if(wr.after!=null||wr.before==null&&wr.first){ur.setValue(!!Ut.getValue(wt),wt);var ar=Ut.getValue(mt);typeof ar=="string"&&ur.setValue(ar,mt)}}}else{var fr=a.create(tr,jt.getType());fr.setValue(0,NEXT_EDGE_INDEX),fr.copyFieldsFrom(jt);var dr=jt.getLinkedRecords(at);dr&&(dr=dr.map(function(lr){return buildConnectionEdge(a,fr,lr)}),fr.setLinkedRecords(dr,at)),et.setLinkedRecord(fr,s.handleKey),ur=a.create(generateClientID$6(fr.getDataID(),Ct),Dt),ur.setValue(!1,wt),ur.setValue(!1,$t),ur.setValue(null,mt),ur.setValue(null,Ft),Ut&&ur.copyFieldsFrom(Ut),fr.setLinkedRecord(ur,Ct)}}}function getConnection(a,s,et){var nt=getRelayHandleKey$1(CONNECTION,s,null);return a.getLinkedRecord(nt,et)}function getConnectionID(a,s,et){var nt=getRelayHandleKey$1(CONNECTION,s,null),at=getStableStorageKey$1(nt,et);return generateClientID$6(a,at)}function insertEdgeAfter(a,s,et){var nt=ConnectionInterface$2.get(),at=nt.CURSOR,mt=nt.EDGES,wt=a.getLinkedRecords(mt);if(!wt){a.setLinkedRecords([s],mt);return}var $t;if(et==null)$t=wt.concat(s);else{$t=[];for(var Ct=!1,Dt=0;Dt<wt.length;Dt++){var Ft=wt[Dt];if($t.push(Ft),Ft!=null){var jt=Ft.getValue(at);et===jt&&($t.push(s),Ct=!0)}}Ct||$t.push(s)}a.setLinkedRecords($t,mt)}function createEdge(a,s,et,nt){var at=ConnectionInterface$2.get(),mt=at.NODE,wt=generateClientID$6(s.getDataID(),et.getDataID()),$t=a.get(wt);return $t||($t=a.create(wt,nt)),$t.setLinkedRecord(et,mt),$t.getValue("cursor")==null&&$t.setValue(null,"cursor"),$t}function insertEdgeBefore(a,s,et){var nt=ConnectionInterface$2.get(),at=nt.CURSOR,mt=nt.EDGES,wt=a.getLinkedRecords(mt);if(!wt){a.setLinkedRecords([s],mt);return}var $t;if(et==null)$t=[s].concat(wt);else{$t=[];for(var Ct=!1,Dt=0;Dt<wt.length;Dt++){var Ft=wt[Dt];if(Ft!=null){var jt=Ft.getValue(at);et===jt&&($t.push(s),Ct=!0)}$t.push(Ft)}Ct||$t.unshift(s)}a.setLinkedRecords($t,mt)}function deleteNode$1(a,s){var et=ConnectionInterface$2.get(),nt=et.EDGES,at=et.NODE,mt=a.getLinkedRecords(nt);if(mt){for(var wt,$t=0;$t<mt.length;$t++){var Ct=mt[$t],Dt=Ct&&Ct.getLinkedRecord(at);Dt!=null&&Dt.getDataID()===s?wt===void 0&&(wt=mt.slice(0,$t)):wt!==void 0&&wt.push(Ct)}wt!==void 0&&a.setLinkedRecords(wt,nt)}}function buildConnectionEdge(a,s,et){if(et==null)return et;var nt=ConnectionInterface$2.get(),at=nt.EDGES,mt=s.getValue(NEXT_EDGE_INDEX);typeof mt!="number"&&invariant$B(!1);var wt=generateClientID$6(s.getDataID(),at,mt),$t=a.create(wt,et.getType());return $t.copyFieldsFrom(et),$t.getValue("cursor")==null&&$t.setValue(null,"cursor"),s.setValue(mt+1,NEXT_EDGE_INDEX),$t}function mergeEdges(a,s,et){for(var nt=ConnectionInterface$2.get(),at=nt.NODE,mt=0;mt<a.length;mt++){var wt=a[mt];if(wt){var $t=wt.getLinkedRecord(at),Ct=$t&&$t.getDataID();if(Ct){if(et.has(Ct))continue;et.add(Ct)}s.push(wt)}}}var ConnectionHandler$4={buildConnectionEdge,createEdge,deleteNode:deleteNode$1,getConnection,getConnectionID,insertEdgeAfter,insertEdgeBefore,update:update$1},_interopRequireDefault$o=interopRequireDefaultExports.default,_createForOfIteratorHelper2$d=_interopRequireDefault$o(createForOfIteratorHelperExports),ConnectionHandler$3=ConnectionHandler$4,ConnectionInterface$1=ConnectionInterface_1,invariant$A=browser$1,warning$2=warning_1,DeleteRecordHandler={update:function a(s,et){var nt=s.get(et.dataID);if(nt!=null){var at=nt.getValue(et.fieldKey);typeof at=="string"?s.delete(at):Array.isArray(at)&&at.forEach(function(mt){typeof mt=="string"&&s.delete(mt)})}}},DeleteEdgeHandler={update:function a(s,et){var nt=s.get(et.dataID);if(nt!=null){var at=et.handleArgs.connections;at==null&&invariant$A(!1);var mt=nt.getValue(et.fieldKey),wt=Array.isArray(mt)?mt:[mt];wt.forEach(function($t){if(typeof $t=="string"){var Ct=(0,_createForOfIteratorHelper2$d.default)(at),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=s.get(Ft);jt!=null&&ConnectionHandler$3.deleteNode(jt,$t)}}catch(Ut){Ct.e(Ut)}finally{Ct.f()}}})}}},AppendEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeBefore)},AppendNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeBefore)};function edgeUpdater(a){return function(s,et){var nt,at=s.get(et.dataID);if(at!=null){var mt=et.handleArgs.connections;mt==null&&invariant$A(!1);var wt,$t;try{wt=at.getLinkedRecord(et.fieldKey)}catch{}if(!wt)try{$t=at.getLinkedRecords(et.fieldKey)}catch{}if(!(wt==null&&$t==null)){var Ct=ConnectionInterface$1.get(),Dt=Ct.NODE,Ft=Ct.EDGES,jt=(nt=$t)!==null&&nt!==void 0?nt:[wt],Ut=(0,_createForOfIteratorHelper2$d.default)(jt),tr;try{var ir=function(){var dr=tr.value;if(dr==null)return"continue";var hr=dr.getLinkedRecord("node");if(!hr)return"continue";var vr=hr.getDataID(),yr=(0,_createForOfIteratorHelper2$d.default)(mt),xr;try{for(yr.s();!(xr=yr.n()).done;){var br=xr.value,wr=s.get(br);if(wr!=null){var Sr=(sr=wr.getLinkedRecords(Ft))===null||sr===void 0?void 0:sr.some(function(cr){var Nt;return(cr==null||(Nt=cr.getLinkedRecord(Dt))===null||Nt===void 0?void 0:Nt.getDataID())===vr});if(!Sr){var Cr=ConnectionHandler$3.buildConnectionEdge(s,wr,dr);Cr==null&&invariant$A(!1),a(wr,Cr)}}}}catch(cr){yr.e(cr)}finally{yr.f()}};for(Ut.s();!(tr=Ut.n()).done;)var sr,ur=ir()}catch(fr){Ut.e(fr)}finally{Ut.f()}}}}}function nodeUpdater(a){return function(s,et){var nt,at=s.get(et.dataID);if(at!=null){var mt=et.handleArgs,wt=mt.connections,$t=mt.edgeTypeName;wt==null&&invariant$A(!1),$t==null&&invariant$A(!1);var Ct,Dt;try{Ct=at.getLinkedRecord(et.fieldKey)}catch{}if(!Ct)try{Dt=at.getLinkedRecords(et.fieldKey)}catch{}if(!(Ct==null&&Dt==null)){var Ft=ConnectionInterface$1.get(),jt=Ft.NODE,Ut=Ft.EDGES,tr=(nt=Dt)!==null&&nt!==void 0?nt:[Ct],ir=(0,_createForOfIteratorHelper2$d.default)(tr),sr;try{var ur=function(){var vr=sr.value;if(vr==null)return"continue";var yr=vr.getDataID(),xr=(0,_createForOfIteratorHelper2$d.default)(wt),br;try{for(xr.s();!(br=xr.n()).done;){var wr=br.value,Sr=s.get(wr);if(Sr!=null){var Cr=(fr=Sr.getLinkedRecords(Ut))===null||fr===void 0?void 0:fr.some(function(Nt){var Vt;return(Nt==null||(Vt=Nt.getLinkedRecord(jt))===null||Vt===void 0?void 0:Vt.getDataID())===yr});if(!Cr){var cr=ConnectionHandler$3.createEdge(s,Sr,vr,$t);cr==null&&invariant$A(!1),a(Sr,cr)}}}}catch(Nt){xr.e(Nt)}finally{xr.f()}};for(ir.s();!(sr=ir.n()).done;)var fr,dr=ur()}catch(hr){ir.e(hr)}finally{ir.f()}}}}}var MutationHandlers$2={AppendEdgeHandler,DeleteRecordHandler,PrependEdgeHandler,AppendNodeHandler,PrependNodeHandler,DeleteEdgeHandler},ConnectionHandler$2=ConnectionHandler$4,MutationHandlers$1=MutationHandlers$2,invariant$z=browser$1;function RelayDefaultHandlerProvider$2(a){switch(a){case"connection":return ConnectionHandler$2;case"deleteRecord":return MutationHandlers$1.DeleteRecordHandler;case"deleteEdge":return MutationHandlers$1.DeleteEdgeHandler;case"appendEdge":return MutationHandlers$1.AppendEdgeHandler;case"prependEdge":return MutationHandlers$1.PrependEdgeHandler;case"appendNode":return MutationHandlers$1.AppendNodeHandler;case"prependNode":return MutationHandlers$1.PrependNodeHandler}invariant$z(!1)}var RelayDefaultHandlerProvider_1=RelayDefaultHandlerProvider$2;function isRelayModernEnvironment$3(a){return!!(a&&a["@@RelayModernEnvironment"])}var isRelayModernEnvironment_1=isRelayModernEnvironment$3;function deepFreeze$2(a){return shouldBeFrozen(a)&&(Object.freeze(a),Object.getOwnPropertyNames(a).forEach(function(s){var et=a[s];et&&typeof et=="object"&&!Object.isFrozen(et)&&deepFreeze$2(et)})),a}function shouldBeFrozen(a){return a!=null&&(Array.isArray(a)||typeof a=="object"&&a.constructor===Object)}var deepFreeze_1=deepFreeze$2,_require$C=stableCopy_1,stableCopy$4=_require$C.stableCopy,invariant$y=browser$1;function getRequestIdentifier$2(a,s){var et=a.cacheID!=null?a.cacheID:a.id;return et==null&&invariant$y(!1),et+JSON.stringify(stableCopy$4(s))}var getRequestIdentifier_1=getRequestIdentifier$2,getRequestIdentifier$1=getRequestIdentifier_1,RelayFeatureFlags$7=RelayFeatureFlags_1,_require$B=stableCopy_1,hasCycle$1=_require$B.hasCycle,_require2$q=RelayConcreteVariables$2,getOperationVariables=_require2$q.getOperationVariables,_require3$g=RelayModernSelector$1,createNormalizationSelector$3=_require3$g.createNormalizationSelector,createReaderSelector$3=_require3$g.createReaderSelector,_require4$8=RelayStoreUtils_1,ROOT_ID$5=_require4$8.ROOT_ID,invariant$x=browser$1;function createOperationDescriptor$5(a,s,et){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ROOT_ID$5,at=a.operation,mt=getOperationVariables(at,a.params.providedVariables,s);RelayFeatureFlags$7.ENABLE_CYLE_DETECTION_IN_VARIABLES&&hasCycle$1(mt)&&invariant$x(!1);var wt=createRequestDescriptor$1(a,mt,et),$t={fragment:createReaderSelector$3(a.fragment,nt,mt,wt),request:wt,root:createNormalizationSelector$3(at,nt,mt)};return $t}function createRequestDescriptor$1(a,s,et){var nt={identifier:getRequestIdentifier$1(a.params,s),node:a,variables:s,cacheConfig:et};return nt}var RelayModernOperationDescriptor$1={createOperationDescriptor:createOperationDescriptor$5,createRequestDescriptor:createRequestDescriptor$1},_interopRequireDefault$n=interopRequireDefaultExports.default,_createForOfIteratorHelper2$c=_interopRequireDefault$n(createForOfIteratorHelperExports),ConnectionHandler$1=ConnectionHandler$4,warning$1=warning_1,MutationTypes=Object.freeze({RANGE_ADD:"RANGE_ADD",RANGE_DELETE:"RANGE_DELETE",NODE_DELETE:"NODE_DELETE"}),RangeOperations=Object.freeze({APPEND:"append",PREPEND:"prepend"});function convert(a,s,et,nt){var at=et?[et]:[],mt=nt?[nt]:[];return a.forEach(function(wt){switch(wt.type){case"NODE_DELETE":var $t=nodeDelete(wt,s);$t&&(at.push($t),mt.push($t));break;case"RANGE_ADD":var Ct=rangeAdd(wt,s);Ct&&(at.push(Ct),mt.push(Ct));break;case"RANGE_DELETE":var Dt=rangeDelete(wt,s);Dt&&(at.push(Dt),mt.push(Dt));break}}),{optimisticUpdater:function($t,Ct){at.forEach(function(Dt){Dt($t,Ct)})},updater:function($t,Ct){mt.forEach(function(Dt){Dt($t,Ct)})}}}function nodeDelete(a,s){var et=a.deletedIDFieldName,nt=getRootField(s);return nt?function(at,mt){var wt=at.getRootField(nt);if(wt){var $t=wt.getValue(et),Ct=Array.isArray($t)?$t:[$t];Ct.forEach(function(Dt){Dt&&typeof Dt=="string"&&at.delete(Dt)})}}:null}function rangeAdd(a,s){var et=a.parentID,nt=a.connectionInfo,at=a.edgeName;if(!et)return null;var mt=getRootField(s);return!nt||!mt?null:function(wt,$t){var Ct=wt.get(et);if(Ct){var Dt=wt.getRootField(mt);if(Dt){var Ft=Dt.getLinkedRecord(at),jt=(0,_createForOfIteratorHelper2$c.default)(nt),Ut;try{for(jt.s();!(Ut=jt.n()).done;){var tr=Ut.value;if(Ft){var ir=ConnectionHandler$1.getConnection(Ct,tr.key,tr.filters);if(ir){var sr=ConnectionHandler$1.buildConnectionEdge(wt,ir,Ft);if(sr)switch(tr.rangeBehavior){case"append":ConnectionHandler$1.insertEdgeAfter(ir,sr);break;case"prepend":ConnectionHandler$1.insertEdgeBefore(ir,sr);break;default:break}}}}}catch(ur){jt.e(ur)}finally{jt.f()}}}}}function rangeDelete(a,s){var et=a.parentID,nt=a.connectionKeys,at=a.pathToConnection,mt=a.deletedIDFieldName;if(!et)return null;var wt=getRootField(s);return wt?function($t,Ct){if(Ct){var Dt=[],Ft=Ct[wt];if(Ft&&Array.isArray(mt)){var jt=(0,_createForOfIteratorHelper2$c.default)(mt),Ut;try{for(jt.s();!(Ut=jt.n()).done;){var tr=Ut.value;Ft&&typeof Ft=="object"&&(Ft=Ft[tr])}}catch(ir){jt.e(ir)}finally{jt.f()}Array.isArray(Ft)?Ft.forEach(function(ir){ir&&ir.id&&typeof ir=="object"&&typeof ir.id=="string"&&Dt.push(ir.id)}):Ft&&Ft.id&&typeof Ft.id=="string"&&Dt.push(Ft.id)}else Ft&&typeof mt=="string"&&typeof Ft=="object"&&(Ft=Ft[mt],typeof Ft=="string"?Dt.push(Ft):Array.isArray(Ft)&&Ft.forEach(function(ir){typeof ir=="string"&&Dt.push(ir)}));deleteNode(et,nt,at,$t,Dt)}}:null}function deleteNode(a,s,et,nt,at){var mt=nt.get(a);if(mt&&!(et.length<2)){for(var wt=mt,$t=1;$t<et.length-1;$t++)wt&&(wt=wt.getLinkedRecord(et[$t]));if(!(!s||!wt)){var Ct=(0,_createForOfIteratorHelper2$c.default)(s),Dt;try{var Ft=function(){var Ut=Dt.value,tr=ConnectionHandler$1.getConnection(wt,Ut.key,Ut.filters);tr&&at.forEach(function(ir){ConnectionHandler$1.deleteNode(tr,ir)})};for(Ct.s();!(Dt=Ct.n()).done;)Ft()}catch(jt){Ct.e(jt)}finally{Ct.f()}}}}function getRootField(a){return a.fragment.selections&&a.fragment.selections.length>0&&a.fragment.selections[0].kind==="LinkedField"?a.fragment.selections[0].name:null}var RelayDeclarativeMutationConfig$4={MutationTypes,RangeOperations,convert},_require$A=GraphQLTag$1,getRequest$4=_require$A.getRequest,isRelayModernEnvironment$2=isRelayModernEnvironment_1,_require2$p=RelayModernOperationDescriptor$1,createOperationDescriptor$4=_require2$p.createOperationDescriptor,RelayDeclarativeMutationConfig$3=RelayDeclarativeMutationConfig$4,invariant$w=browser$1;function applyOptimisticMutation$1(a,s){isRelayModernEnvironment$2(a)||invariant$w(!1);var et=getRequest$4(s.mutation);if(et.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");var nt=s.optimisticUpdater,at=s.configs,mt=s.optimisticResponse,wt=s.variables,$t=createOperationDescriptor$4(et,wt);if(at){var Ct=RelayDeclarativeMutationConfig$3.convert(at,et,nt);nt=Ct.optimisticUpdater}return a.applyMutation({operation:$t,response:mt,updater:nt})}var applyOptimisticMutation_1=applyOptimisticMutation$1;function commitLocalUpdate$1(a,s){a.commitUpdate(s)}var commitLocalUpdate_1=commitLocalUpdate$1,_interopRequireDefault$m=interopRequireDefaultExports.default;_interopRequireDefault$m(objectSpread2Exports);var _interopRequireDefault$l=interopRequireDefaultExports.default,_toConsumableArray2$4=_interopRequireDefault$l(toConsumableArrayExports),_require$z=GraphQLTag$1,getRequest$3=_require$z.getRequest,_require2$o=ClientID,generateUniqueClientID$2=_require2$o.generateUniqueClientID,isRelayModernEnvironment$1=isRelayModernEnvironment_1,_require3$f=RelayModernOperationDescriptor$1,createOperationDescriptor$3=_require3$f.createOperationDescriptor,RelayDeclarativeMutationConfig$2=RelayDeclarativeMutationConfig$4,invariant$v=browser$1;function commitMutation$1(a,s){isRelayModernEnvironment$1(a)||invariant$v(!1);var et=getRequest$3(s.mutation);if(et.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");if(et.kind!=="Request")throw new Error("commitMutation: Expected mutation to be of type request");var nt=s.optimisticResponse,at=s.optimisticUpdater,mt=s.updater,wt=s.configs,$t=s.cacheConfig,Ct=s.onError,Dt=s.onUnsubscribe,Ft=s.variables,jt=s.uploadables,Ut=createOperationDescriptor$3(et,Ft,$t,generateUniqueClientID$2());if(typeof nt=="function"&&(nt=nt()),wt){var tr=RelayDeclarativeMutationConfig$2.convert(wt,et,at,mt);at=tr.optimisticUpdater,mt=tr.updater}var ir=[],sr=a.executeMutation({operation:Ut,optimisticResponse:nt,optimisticUpdater:at,updater:mt,uploadables:jt}).subscribe({next:function(fr){var dr;Array.isArray(fr)?fr.forEach(function(hr){hr.errors&&ir.push.apply(ir,(0,_toConsumableArray2$4.default)(hr.errors))}):fr.errors&&ir.push.apply(ir,(0,_toConsumableArray2$4.default)(fr.errors)),(dr=s.onNext)===null||dr===void 0||dr.call(s)},complete:function(){var fr=s.onCompleted;if(fr){var dr=a.lookup(Ut.fragment);fr(dr.data,ir.length!==0?ir:null)}},error:Ct,unsubscribe:Dt});return{dispose:sr.unsubscribe}}var commitMutation_1=commitMutation$1,WEAKMAP_SUPPORTED=typeof WeakMap=="function",debugCache=WEAKMAP_SUPPORTED?new WeakMap:new Map;function withProvidedVariables$2(a,s){if(s!=null){var et={};return Object.assign(et,a),Object.keys(s).forEach(function(nt){var at=s[nt].get,mt=at();if(!debugCache.has(at))debugCache.set(at,mt),et[nt]=mt;else{var wt=debugCache.get(at);et[nt]=wt}}),et}else return a}withProvidedVariables$2.tests_only_resetDebugCache=void 0;var withProvidedVariables_1=withProvidedVariables$2,RelayObservable$4=RelayObservable_1;function convertFetch$1(a){return function(et,nt,at,mt,wt){var $t=a(et,nt,at,mt,wt);return $t instanceof Error?RelayObservable$4.create(function(Ct){return Ct.error($t)}):RelayObservable$4.from($t)}}var ConvertToExecuteFunction={convertFetch:convertFetch$1},withProvidedVariables$1=withProvidedVariables_1,_require$y=ConvertToExecuteFunction,convertFetch=_require$y.convertFetch,invariant$u=browser$1;function create$2(a,s){var et=convertFetch(a);function nt(at,mt,wt,$t,Ct){var Dt=withProvidedVariables$1(mt,at.providedVariables);if(at.operationKind==="subscription")return s||invariant$u(!1),$t&&invariant$u(!1),s(at,Dt,wt);var Ft=wt.poll;return Ft!=null?($t&&invariant$u(!1),et(at,Dt,{force:!0}).poll(Ft)):et(at,Dt,wt,$t,Ct)}return{execute:nt}}var RelayNetwork$1={create:create$2},_interopRequireDefault$k=interopRequireDefaultExports.default,_objectSpread2$9=_interopRequireDefault$k(objectSpread2Exports),_require$x=stableCopy_1,stableCopy$3=_require$x.stableCopy,invariant$t=browser$1,RelayQueryResponseCache$1=function(){function a(et){var nt=et.size,at=et.ttl;nt>0||invariant$t(!1),at>0||invariant$t(!1),this._responses=new Map,this._size=nt,this._ttl=at}var s=a.prototype;return s.clear=function(){this._responses.clear()},s.get=function(nt,at){var mt=this,wt=getCacheKey(nt,at);this._responses.forEach(function(Ct,Dt){isCurrent(Ct.fetchTime,mt._ttl)||mt._responses.delete(Dt)});var $t=this._responses.get(wt);return $t==null?null:Array.isArray($t.payload)?$t.payload.map(function(Ct){return(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Ct),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Ct.extensions),{},{cacheTimestamp:$t.fetchTime})})}):(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},$t.payload),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},$t.payload.extensions),{},{cacheTimestamp:$t.fetchTime})})},s.set=function(nt,at,mt){var wt=Date.now(),$t=getCacheKey(nt,at);if(this._responses.delete($t),this._responses.set($t,{fetchTime:wt,payload:mt}),this._responses.size>this._size){var Ct=this._responses.keys().next();Ct.done||this._responses.delete(Ct.value)}},a}();function getCacheKey(a,s){return JSON.stringify(stableCopy$3({queryID:a,variables:s}))}function isCurrent(a,s){return a+s>=Date.now()}var RelayQueryResponseCache_1=RelayQueryResponseCache$1,_interopRequireDefault$j=interopRequireDefaultExports.default,_objectSpread2$8=_interopRequireDefault$j(objectSpread2Exports),RelayObservable$3=RelayObservable_1,_require$w=RelayModernOperationDescriptor$1,createOperationDescriptor$2=_require$w.createOperationDescriptor,_require2$n=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$2=_require2$n.handlePotentialSnapshotErrors,fetchQueryInternal$1=fetchQueryInternal$2,_require3$e=GraphQLTag$1,getRequest$2=_require3$e.getRequest,invariant$s=browser$1;function fetchQuery$1(a,s,et,nt){var at,mt=getRequest$2(s);mt.params.operationKind!=="query"&&invariant$s(!1);var wt=(0,_objectSpread2$8.default)({force:!0},nt==null?void 0:nt.networkCacheConfig),$t=createOperationDescriptor$2(mt,et,wt),Ct=(at=nt==null?void 0:nt.fetchPolicy)!==null&&at!==void 0?at:"network-only";function Dt(Ft){return handlePotentialSnapshotErrors$2(a,Ft.errorResponseFields),Ft.data}switch(Ct){case"network-only":return getNetworkObservable(a,$t).map(Dt);case"store-or-network":return a.check($t).status==="available"?RelayObservable$3.from(a.lookup($t.fragment)).map(Dt):getNetworkObservable(a,$t).map(Dt);default:throw new Error("fetchQuery: Invalid fetchPolicy "+Ct)}}function getNetworkObservable(a,s){return fetchQueryInternal$1.fetchQuery(a,s).map(function(){return a.lookup(s.fragment)})}var fetchQuery_1=fetchQuery$1,_require$v=RelayModernOperationDescriptor$1,createOperationDescriptor$1=_require$v.createOperationDescriptor,_require2$m=GraphQLTag$1,getRequest$1=_require2$m.getRequest;function fetchQuery_DEPRECATED$1(a,s,et,nt){var at=getRequest$1(s);if(at.params.operationKind!=="query")throw new Error("fetchQuery: Expected query operation");var mt=createOperationDescriptor$1(at,et,nt);return a.execute({operation:mt}).map(function(){return a.lookup(mt.fragment).data}).toPromise()}var fetchQuery_DEPRECATED_1=fetchQuery_DEPRECATED$1,PreloadableQueryRegistry$1=function(){function a(){this._preloadableQueries=new Map,this._callbacks=new Map}var s=a.prototype;return s.set=function(nt,at){this._preloadableQueries.set(nt,at);var mt=this._callbacks.get(nt);mt!=null&&mt.forEach(function(wt){try{wt(at)}catch($t){setTimeout(function(){throw $t},0)}})},s.get=function(nt){return this._preloadableQueries.get(nt)},s.onLoad=function(nt,at){var mt,wt=(mt=this._callbacks.get(nt))!==null&&mt!==void 0?mt:new Set;wt.add(at);var $t=function(){wt.delete(at)};return this._callbacks.set(nt,wt),{dispose:$t}},s.clear=function(){this._preloadableQueries.clear()},a}(),preloadableQueryRegistry=new PreloadableQueryRegistry$1,PreloadableQueryRegistry_1=preloadableQueryRegistry;function isScalarAndEqual$2(a,s){return a===s&&(a===null||typeof a!="object")}var isScalarAndEqual_1=isScalarAndEqual$2;function recycleNodesInto$4(a,s){return recycleNodesIntoImpl(a,s,!0)}function recycleNodesIntoImpl(a,s,et){if(a===s||typeof a!="object"||!a||a.constructor!==Object&&!Array.isArray(a)||typeof s!="object"||!s||s.constructor!==Object&&!Array.isArray(s))return s;var nt=!1,at=Array.isArray(a)?a:null,mt=Array.isArray(s)?s:null;if(at&&mt){var wt=et&&!Object.isFrozen(mt);nt=mt.reduce(function(Ut,tr,ir){var sr=at[ir],ur=recycleNodesIntoImpl(sr,tr,wt);return ur!==mt[ir]&&wt&&(mt[ir]=ur),Ut&&ur===at[ir]},!0)&&at.length===mt.length}else if(!at&&!mt){var $t=a,Ct=s,Dt=Object.keys($t),Ft=Object.keys(Ct),jt=et&&!Object.isFrozen(Ct);nt=Ft.reduce(function(Ut,tr){var ir=$t[tr],sr=recycleNodesIntoImpl(ir,Ct[tr],jt);return sr!==Ct[tr]&&jt&&(Ct[tr]=sr),Ut&&sr===$t[tr]},!0)&&Dt.length===Ft.length}return nt?a:s}var recycleNodesInto_1=recycleNodesInto$4,_interopRequireDefault$i=interopRequireDefaultExports.default,_objectSpread2$7=_interopRequireDefault$i(objectSpread2Exports),_defineProperty2$4=_interopRequireDefault$i(requireDefineProperty()),getPendingOperationsForFragment$1=getPendingOperationsForFragment_1,_require$u=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$1=_require$u.handlePotentialSnapshotErrors,isScalarAndEqual$1=isScalarAndEqual_1,recycleNodesInto$3=recycleNodesInto_1,RelayFeatureFlags$6=RelayFeatureFlags_1,_require2$l=RelayModernOperationDescriptor$1,createRequestDescriptor=_require2$l.createRequestDescriptor,_require3$d=RelayModernSelector$1,areEqualSelectors=_require3$d.areEqualSelectors,createReaderSelector$2=_require3$d.createReaderSelector,getSelectorsFromObject=_require3$d.getSelectorsFromObject,areEqual$3=areEqual_1,invariant$r=browser$1,RelayModernFragmentSpecResolver$1=function(){function a(et,nt,at,mt,wt){var $t=this;(0,_defineProperty2$4.default)(this,"_onChange",function(){$t._stale=!0,typeof $t._callback=="function"&&$t._callback()}),this._callback=mt,this._context=et,this._data={},this._fragments=nt,this._props={},this._resolvers={},this._stale=!1,this._rootIsQueryRenderer=wt,this.setProps(at)}var s=a.prototype;return s.dispose=function(){for(var nt in this._resolvers)this._resolvers.hasOwnProperty(nt)&&disposeCallback(this._resolvers[nt])},s.resolve=function(){if(this._stale){var nt=this._data,at;for(var mt in this._resolvers)if(this._resolvers.hasOwnProperty(mt)){var wt=this._resolvers[mt],$t=nt[mt];if(wt){var Ct=wt.resolve();(at||Ct!==$t)&&(at=at||(0,_objectSpread2$7.default)({},nt),at[mt]=Ct)}else{var Dt=this._props[mt],Ft=Dt!==void 0?Dt:null;(at||!isScalarAndEqual$1(Ft,$t))&&(at=at||(0,_objectSpread2$7.default)({},nt),at[mt]=Ft)}}this._data=at||nt,this._stale=!1}return this._data},s.setCallback=function(nt,at){this._callback=at,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.setProps(nt)},s.setProps=function(nt){this._props={};var at=getSelectorsFromObject(this._fragments,nt);for(var mt in at)if(at.hasOwnProperty(mt)){var wt=at[mt],$t=this._resolvers[mt];wt==null?($t!=null&&$t.dispose(),$t=null):wt.kind==="PluralReaderSelector"?$t==null?$t=new SelectorListResolver(this._context.environment,this._rootIsQueryRenderer,wt,this._callback!=null,this._onChange):($t instanceof SelectorListResolver||invariant$r(!1),$t.setSelector(wt)):$t==null?$t=new SelectorResolver(this._context.environment,this._rootIsQueryRenderer,wt,this._callback!=null,this._onChange):($t instanceof SelectorResolver||invariant$r(!1),$t.setSelector(wt)),this._props[mt]=nt[mt],this._resolvers[mt]=$t}this._stale=!0},s.setVariables=function(nt,at){for(var mt in this._resolvers)if(this._resolvers.hasOwnProperty(mt)){var wt=this._resolvers[mt];wt&&wt.setVariables(nt,at)}this._stale=!0},a}(),SelectorResolver=function(){function a(et,nt,at,mt,wt){var $t=this;(0,_defineProperty2$4.default)(this,"_onChange",function(Dt){$t._data=Dt.data,$t._isMissingData=Dt.isMissingData,$t._errorResponseFields=Dt.errorResponseFields,$t._callback()});var Ct=et.lookup(at);this._callback=wt,this._data=Ct.data,this._isMissingData=Ct.isMissingData,this._errorResponseFields=Ct.errorResponseFields,this._environment=et,this._rootIsQueryRenderer=nt,this._selector=at,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?mt&&(this._subscription=et.subscribe(Ct,this._onChange)):this._subscription=et.subscribe(Ct,this._onChange)}var s=a.prototype;return s.dispose=function(){this._subscription&&(this._subscription.dispose(),this._subscription=null)},s.resolve=function(){if(this._isMissingData===!0){var nt=getPendingOperationsForFragment$1(this._environment,this._selector.node,this._selector.owner),at=nt==null?void 0:nt.promise;if(at!=null&&!this._rootIsQueryRenderer){var mt,wt=(mt=nt==null?void 0:nt.pendingOperations)!==null&&mt!==void 0?mt:[];throw this._environment.__log({name:"suspense.fragment",data:this._data,fragment:this._selector.node,isRelayHooks:!1,isMissingData:this._isMissingData,isPromiseCached:!1,pendingOperations:wt}),at}}return handlePotentialSnapshotErrors$1(this._environment,this._errorResponseFields),this._data},s.setSelector=function(nt){if(!(this._subscription!=null&&areEqualSelectors(nt,this._selector))){this.dispose();var at=this._environment.lookup(nt);this._data=recycleNodesInto$3(this._data,at.data),this._isMissingData=at.isMissingData,this._errorResponseFields=at.errorResponseFields,this._selector=nt,this._subscription=this._environment.subscribe(at,this._onChange)}},s.setVariables=function(nt,at){if(!areEqual$3(nt,this._selector.variables)){var mt=createRequestDescriptor(at,nt),wt=createReaderSelector$2(this._selector.node,this._selector.dataID,nt,mt);this.setSelector(wt)}},a}(),SelectorListResolver=function(){function a(et,nt,at,mt,wt){var $t=this;(0,_defineProperty2$4.default)(this,"_onChange",function(Ct){$t._stale=!0,$t._callback()}),this._callback=wt,this._data=[],this._environment=et,this._resolvers=[],this._stale=!0,this._rootIsQueryRenderer=nt,this._subscribeOnConstruction=mt,this.setSelector(at)}var s=a.prototype;return s.dispose=function(){this._resolvers.forEach(disposeCallback)},s.resolve=function(){if(this._stale){for(var nt=this._data,at,mt=0;mt<this._resolvers.length;mt++){var wt=nt[mt],$t=this._resolvers[mt].resolve();(at||$t!==wt)&&(at=at||nt.slice(0,mt),at.push($t))}!at&&this._resolvers.length!==nt.length&&(at=nt.slice(0,this._resolvers.length)),this._data=at||nt,this._stale=!1}return this._data},s.setSelector=function(nt){for(var at=nt.selectors;this._resolvers.length>at.length;){var mt=this._resolvers.pop();mt.dispose()}for(var wt=0;wt<at.length;wt++)wt<this._resolvers.length?this._resolvers[wt].setSelector(at[wt]):this._resolvers[wt]=new SelectorResolver(this._environment,this._rootIsQueryRenderer,at[wt],this._subscribeOnConstruction,this._onChange);this._stale=!0},s.setVariables=function(nt,at){this._resolvers.forEach(function(mt){return mt.setVariables(nt,at)}),this._stale=!0},a}();function disposeCallback(a){a&&a.dispose()}var RelayModernFragmentSpecResolver_1=RelayModernFragmentSpecResolver$1,RelayModernFragmentSpecResolver=RelayModernFragmentSpecResolver_1;function createFragmentSpecResolver$1(a,s,et,nt,at,mt){return new RelayModernFragmentSpecResolver(a,et,nt,mt,at)}var createFragmentSpecResolver_1=createFragmentSpecResolver$1,invariant$q=browser$1,relayContext,firstReact;function createRelayContext$1(a){return relayContext||(relayContext=a.createContext(null),firstReact=a),a!==firstReact&&invariant$q(!1),relayContext}var createRelayContext_1=createRelayContext$1,LIVE_RESOLVER_SUSPENSE_SENTINEL=Object.freeze({__LIVE_RESOLVER_SUSPENSE_SENTINEL:!0});function suspenseSentinel$1(){return LIVE_RESOLVER_SUSPENSE_SENTINEL}function isSuspenseSentinel$4(a){return a===LIVE_RESOLVER_SUSPENSE_SENTINEL}var LiveResolverSuspenseSentinel={isSuspenseSentinel:isSuspenseSentinel$4,suspenseSentinel:suspenseSentinel$1},objectWithoutPropertiesLoose={exports:{}};(function(a){function s(et,nt){if(et==null)return{};var at={};for(var mt in et)if({}.hasOwnProperty.call(et,mt)){if(nt.indexOf(mt)!==-1)continue;at[mt]=et[mt]}return at}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(objectWithoutPropertiesLoose);var objectWithoutPropertiesLooseExports=objectWithoutPropertiesLoose.exports,_interopRequireDefault$h=interopRequireDefaultExports.default,_defineProperty2$3=_interopRequireDefault$h(requireDefineProperty()),_objectWithoutPropertiesLoose2$2=_interopRequireDefault$h(objectWithoutPropertiesLooseExports),_toPropertyKey2=_interopRequireDefault$h(requireToPropertyKey()),_objectSpread2$6=_interopRequireDefault$h(objectSpread2Exports),deepFreeze$1=deepFreeze_1,_require$t=ClientID,generateClientObjectClientID$1=_require$t.generateClientObjectClientID;_require$t.isClientID;var _require2$k=LiveResolverSuspenseSentinel,isSuspenseSentinel$3=_require2$k.isSuspenseSentinel,_require3$c=RelayStoreUtils_1,ACTOR_IDENTIFIER_KEY=_require3$c.ACTOR_IDENTIFIER_KEY,ERRORS_KEY=_require3$c.ERRORS_KEY,ID_KEY$2=_require3$c.ID_KEY,INVALIDATED_AT_KEY=_require3$c.INVALIDATED_AT_KEY,REF_KEY=_require3$c.REF_KEY,REFS_KEY=_require3$c.REFS_KEY,RELAY_RESOLVER_VALUE_KEY$1=_require3$c.RELAY_RESOLVER_VALUE_KEY;_require3$c.ROOT_ID;var TYPENAME_KEY$2=_require3$c.TYPENAME_KEY,areEqual$2=areEqual_1,invariant$p=browser$1;function clone(a){return(0,_objectSpread2$6.default)({},a)}function copyFields(a,s){for(var et in a)a.hasOwnProperty(et)&&et!==ID_KEY$2&&et!==TYPENAME_KEY$2&&(s[et]=a[et])}function create$1(a,s){var et={};return et[ID_KEY$2]=a,et[TYPENAME_KEY$2]=s,et}function fromObject(a){return a}function getDataID(a){return a[ID_KEY$2]}function getFields(a){return ERRORS_KEY in a?Object.keys(a).filter(function(s){return s!==ERRORS_KEY}):Object.keys(a)}function getType(a){return a[TYPENAME_KEY$2]}function getErrors(a,s){var et;return(et=a[ERRORS_KEY])===null||et===void 0?void 0:et[s]}function getValue(a,s){var et=a[s];return et&&typeof et=="object"&&(!et.hasOwnProperty(REF_KEY)&&!et.hasOwnProperty(REFS_KEY)||invariant$p(!1)),et}function hasValue(a,s){return s in a}function getLinkedRecordID(a,s){var et=a[s];if(et==null)return et;var nt=et;return typeof nt=="object"&&nt&&typeof nt[REF_KEY]=="string"||invariant$p(!1),nt[REF_KEY]}function hasLinkedRecordID(a,s){var et=a[s];if(et==null)return!1;var nt=et;return typeof nt=="object"&&nt&&typeof nt[REF_KEY]=="string"}function getLinkedRecordIDs(a,s){var et=a[s];return et==null?et:(typeof et=="object"&&Array.isArray(et[REFS_KEY])||invariant$p(!1),et[REFS_KEY])}function hasLinkedRecordIDs(a,s){var et=a[s];return et==null?!1:typeof et=="object"&&Array.isArray(et[REFS_KEY])&&et[REFS_KEY].every(function(nt){return typeof nt=="string"})}function getInvalidationEpoch(a){if(a==null)return null;var s=a[INVALIDATED_AT_KEY];return typeof s!="number"?null:s}function update(a,s){var et,nt=a[ERRORS_KEY],at=s[ERRORS_KEY],mt=null;if(nt==null&&at==null){var wt;for(var $t in s)(mt||!areEqual$2(a[$t],s[$t]))&&(mt=mt!==null?mt:(0,_objectSpread2$6.default)({},a),mt[$t]=s[$t]);return(wt=mt)!==null&&wt!==void 0?wt:a}for(var Ct in s)if(Ct!==ERRORS_KEY){var Dt=s[Ct],Ft=at==null?void 0:at[Ct];if(mt==null){var jt=a[Ct],Ut=nt==null?void 0:nt[Ct];if(areEqual$2(jt,Dt)&&areEqual$2(Ut,Ft))continue;mt=(0,_objectSpread2$6.default)({},a),nt!=null&&(mt[ERRORS_KEY]=(0,_objectSpread2$6.default)({},nt))}setValue(mt,Ct,Dt),setErrors(mt,Ct,Ft)}return(et=mt)!==null&&et!==void 0?et:a}function merge(a,s){if(ERRORS_KEY in a||ERRORS_KEY in s){var et=a[ERRORS_KEY],nt=(0,_objectWithoutPropertiesLoose2$2.default)(a,[ERRORS_KEY].map(_toPropertyKey2.default)),at=s[ERRORS_KEY],mt=(0,_objectWithoutPropertiesLoose2$2.default)(s,[ERRORS_KEY].map(_toPropertyKey2.default)),wt=(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},nt),mt);if(et==null&&at==null)return wt;var $t={};for(var Ct in et)mt.hasOwnProperty(Ct)||($t[Ct]=et[Ct]);for(var Dt in at)$t[Dt]=at[Dt];for(var Ft in $t){wt[ERRORS_KEY]=$t;break}return wt}else return(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},a),s)}function freeze(a){deepFreeze$1(a)}function setErrors(a,s,et){var nt=a[ERRORS_KEY];if(et!=null&&et.length>0)nt==null?a[ERRORS_KEY]=(0,_defineProperty2$3.default)({},s,et):nt[s]=et;else if(nt!=null&&delete nt[s]){for(var at in nt)if(nt.hasOwnProperty(at))return;delete a[ERRORS_KEY]}}function setValue(a,s,et){a[s]=et}function setLinkedRecordID(a,s,et){var nt={};nt[REF_KEY]=et,a[s]=nt}function setLinkedRecordIDs(a,s,et){var nt={};nt[REFS_KEY]=et,a[s]=nt}function setActorLinkedRecordID(a,s,et,nt){var at={};at[REF_KEY]=nt,at[ACTOR_IDENTIFIER_KEY]=et,a[s]=at}function getActorLinkedRecordID(a,s){var et=a[s];return et==null?et:(typeof et=="object"&&typeof et[REF_KEY]=="string"&&et[ACTOR_IDENTIFIER_KEY]!=null||invariant$p(!1),[et[ACTOR_IDENTIFIER_KEY],et[REF_KEY]])}function getResolverLinkedRecordID(a,s){var et=getValue(a,RELAY_RESOLVER_VALUE_KEY$1);return et==null||isSuspenseSentinel$3(et)?null:(typeof et=="object"&&(et=et.id),typeof et!="string"&&invariant$p(!1),generateClientObjectClientID$1(s,et))}function getResolverLinkedRecordIDs(a,s){var et=getValue(a,RELAY_RESOLVER_VALUE_KEY$1);return et==null||isSuspenseSentinel$3(et)?null:(Array.isArray(et)||invariant$p(!1),et.map(function(nt){return nt==null?null:(typeof nt=="object"&&(nt=nt.id),typeof nt!="string"&&invariant$p(!1),generateClientObjectClientID$1(s,nt))}))}function toJSON(a){return a}var RelayModernRecord$d={clone,copyFields,create:create$1,freeze,fromObject,getDataID,getErrors,getFields,getInvalidationEpoch,getLinkedRecordID,getLinkedRecordIDs,getType,getValue,hasValue,hasLinkedRecordID,hasLinkedRecordIDs,merge,setErrors,setValue,setLinkedRecordID,setLinkedRecordIDs,update,getActorLinkedRecordID,setActorLinkedRecordID,getResolverLinkedRecordID,getResolverLinkedRecordIDs,toJSON},RelayRecordState$1={EXISTENT:"EXISTENT",NONEXISTENT:"NONEXISTENT",UNKNOWN:"UNKNOWN"},RelayRecordState_1=RelayRecordState$1,_interopRequireDefault$g=interopRequireDefaultExports.default,_createForOfIteratorHelper2$b=_interopRequireDefault$g(createForOfIteratorHelperExports),RelayModernRecord$c=RelayModernRecord$d,RelayRecordState=RelayRecordState_1,EXISTENT$3=RelayRecordState.EXISTENT,NONEXISTENT$1=RelayRecordState.NONEXISTENT,UNKNOWN$1=RelayRecordState.UNKNOWN,RelayRecordSource$6=function(){function a(et){var nt=this;this._records=new Map,et!=null&&Object.keys(et).forEach(function(at){var mt=et[at],wt=RelayModernRecord$c.fromObject(mt);nt._records.set(at,wt)})}a.create=function(nt){return new a(nt)};var s=a.prototype;return s.clear=function(){this._records=new Map},s.delete=function(nt){this._records.set(nt,null)},s.get=function(nt){return this._records.get(nt)},s.getRecordIDs=function(){return Array.from(this._records.keys())},s.getStatus=function(nt){return this._records.has(nt)?this._records.get(nt)==null?NONEXISTENT$1:EXISTENT$3:UNKNOWN$1},s.has=function(nt){return this._records.has(nt)},s.remove=function(nt){this._records.delete(nt)},s.set=function(nt,at){this._records.set(nt,at)},s.size=function(){return this._records.size},s.toJSON=function(){var nt={},at=(0,_createForOfIteratorHelper2$b.default)(this._records),mt;try{for(at.s();!(mt=at.n()).done;){var wt=mt.value,$t=wt[0],Ct=wt[1];nt[$t]=RelayModernRecord$c.toJSON(Ct)}}catch(Dt){at.e(Dt)}finally{at.f()}return nt},a}(),RelayRecordSource_1=RelayRecordSource$6,invariant$o=browser$1,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2="INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE";function assertInternalActorIdentifier$2(a){a!==INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2&&invariant$o(!1)}var ActorIdentifier={assertInternalActorIdentifier:assertInternalActorIdentifier$2,getActorIdentifier:function a(s){return s},INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2},ACTOR_IDENTIFIER_FIELD_NAME="actor_key",_require$s=ActorIdentifier,getActorIdentifier=_require$s.getActorIdentifier;function getActorIdentifierFromPayload$1(a){if(a!=null&&typeof a=="object"&&typeof a[ACTOR_IDENTIFIER_FIELD_NAME]=="string")return getActorIdentifier(a[ACTOR_IDENTIFIER_FIELD_NAME])}var ActorUtils={ACTOR_IDENTIFIER_FIELD_NAME,getActorIdentifierFromPayload:getActorIdentifierFromPayload$1},_interopRequireDefault$f=interopRequireDefaultExports.default,_objectSpread2$5=_interopRequireDefault$f(objectSpread2Exports),_objectWithoutPropertiesLoose2$1=_interopRequireDefault$f(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$a=_interopRequireDefault$f(createForOfIteratorHelperExports),_toConsumableArray2$3=_interopRequireDefault$f(toConsumableArrayExports),_excluded$1=["path","locations"],SELF=Symbol("$SELF");function buildErrorTrie$1(a){if(a==null)return null;var s=new Map,et=(0,_createForOfIteratorHelper2$a.default)(a),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value,mt=at.path,wt=at.locations,$t=(0,_objectWithoutPropertiesLoose2$1.default)(at,_excluded$1);if(mt!=null){var Ct=mt.length;if(Ct!==0){for(var Dt=Ct-1,Ft=s,jt=0;jt<Dt;jt++){var Ut=mt[jt],tr=Ft.get(Ut);if(tr instanceof Map){Ft=tr;continue}var ir=new Map;Array.isArray(tr)&&ir.set(SELF,tr),Ft.set(Ut,ir),Ft=ir}var sr=mt[Dt],ur=Ft.get(sr);ur instanceof Map&&(Ft=ur,ur=Ft.get(sr),sr=SELF),Array.isArray(ur)?ur.push($t):Ft.set(sr,[$t])}}}}catch(fr){et.e(fr)}finally{et.f()}return s}function getErrorsByKey$1(a,s){var et=a.get(s);if(et==null)return null;if(Array.isArray(et))return et;var nt=[];return recursivelyCopyErrorsIntoArray(et,nt),nt}function recursivelyCopyErrorsIntoArray(a,s){var et=(0,_createForOfIteratorHelper2$a.default)(a),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value,mt=at[0],wt=at[1],$t=s.length;if(Array.isArray(wt)?s.push.apply(s,(0,_toConsumableArray2$3.default)(wt)):recursivelyCopyErrorsIntoArray(wt,s),mt!==SELF)for(var Ct=s.length,Dt=$t;Dt<Ct;Dt++){var Ft=s[Dt];Ft.path==null?s[Dt]=(0,_objectSpread2$5.default)((0,_objectSpread2$5.default)({},Ft),{},{path:[mt]}):Ft.path.unshift(mt)}}}catch(jt){et.e(jt)}finally{et.f()}}function getNestedErrorTrieByKey$1(a,s){var et=a.get(s);return et instanceof Map?et:null}var RelayErrorTrie={buildErrorTrie:buildErrorTrie$1,getNestedErrorTrieByKey:getNestedErrorTrieByKey$1,getErrorsByKey:getErrorsByKey$1},PREFIX="client:__type:",TYPE_SCHEMA_TYPE$2="__TypeSchema";function generateTypeID$4(a){return PREFIX+a}var TypeID={generateTypeID:generateTypeID$4,TYPE_SCHEMA_TYPE:TYPE_SCHEMA_TYPE$2},_interopRequireDefault$e=interopRequireDefaultExports.default,_createForOfIteratorHelper2$9=_interopRequireDefault$e(createForOfIteratorHelperExports),_toConsumableArray2$2=_interopRequireDefault$e(toConsumableArrayExports),_require$r=ActorUtils;_require$r.ACTOR_IDENTIFIER_FIELD_NAME;var getActorIdentifierFromPayload=_require$r.getActorIdentifierFromPayload,RelayFeatureFlags$5=RelayFeatureFlags_1,_require2$j=ClientID,generateClientID$5=_require2$j.generateClientID;_require2$j.isClientID;var _require3$b=RelayConcreteVariables$2,getLocalVariables$3=_require3$b.getLocalVariables,_require4$7=RelayErrorTrie,buildErrorTrie=_require4$7.buildErrorTrie,getErrorsByKey=_require4$7.getErrorsByKey,getNestedErrorTrieByKey=_require4$7.getNestedErrorTrieByKey,RelayModernRecord$b=RelayModernRecord$d,_require5$4=RelayModernSelector$1,createNormalizationSelector$2=_require5$4.createNormalizationSelector,_require6$1=RelayStoreUtils_1;_require6$1.ROOT_ID;var TYPENAME_KEY$1=_require6$1.TYPENAME_KEY,getArgumentValues$3=_require6$1.getArgumentValues,getHandleStorageKey$2=_require6$1.getHandleStorageKey,getModuleComponentKey$2=_require6$1.getModuleComponentKey,getModuleOperationKey$3=_require6$1.getModuleOperationKey,getStorageKey$6=_require6$1.getStorageKey,_require7=TypeID,TYPE_SCHEMA_TYPE$1=_require7.TYPE_SCHEMA_TYPE,generateTypeID$3=_require7.generateTypeID,invariant$n=browser$1;function normalize$2(a,s,et,nt,at){var mt=s.dataID,wt=s.node,$t=s.variables,Ct=new RelayResponseNormalizer(a,$t,nt);return Ct.normalizeResponse(wt,mt,et,at)}var RelayResponseNormalizer=function(){function a(et,nt,at){this._actorIdentifier=at.actorIdentifier,this._getDataId=at.getDataID,this._handleFieldPayloads=[],this._treatMissingFieldsAsNull=at.treatMissingFieldsAsNull,this._incrementalPlaceholders=[],this._isClientExtension=!1,this._isUnmatchedAbstractType=!1,this._followupPayloads=[],this._path=at.path?(0,_toConsumableArray2$2.default)(at.path):[],this._recordSource=et,this._variables=nt,this._shouldProcessClientComponents=at.shouldProcessClientComponents}var s=a.prototype;return s.normalizeResponse=function(nt,at,mt,wt){var $t=this._recordSource.get(at);return $t||invariant$n(!1),this._assignClientAbstractTypes(nt),this._errorTrie=buildErrorTrie(wt),this._traverseSelections(nt,$t,mt),{errors:wt,fieldPayloads:this._handleFieldPayloads,incrementalPlaceholders:this._incrementalPlaceholders,followupPayloads:this._followupPayloads,source:this._recordSource,isFinal:!1}},s._assignClientAbstractTypes=function(nt){var at=nt.clientAbstractTypes;if(at!=null)for(var mt=0,wt=Object.keys(at);mt<wt.length;mt++){var $t=wt[mt],Ct=(0,_createForOfIteratorHelper2$9.default)(at[$t]),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=generateTypeID$3(Ft),Ut=this._recordSource.get(jt);Ut==null&&(Ut=RelayModernRecord$b.create(jt,TYPE_SCHEMA_TYPE$1),this._recordSource.set(jt,Ut)),RelayModernRecord$b.setValue(Ut,$t,!0)}}catch(tr){Ct.e(tr)}finally{Ct.f()}}},s._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$n(!1),this._variables[nt]},s._getRecordType=function(nt){var at=nt[TYPENAME_KEY$1];return at==null&&invariant$n(!1),at},s._traverseSelections=function(nt,at,mt){for(var wt=0;wt<nt.selections.length;wt++){var $t=nt.selections[wt];switch($t.kind){case"ScalarField":case"LinkedField":this._normalizeField($t,at,mt);break;case"Condition":var Ct=!!this._getVariableValue($t.condition);Ct===$t.passingValue&&this._traverseSelections($t,at,mt);break;case"FragmentSpread":{var Dt=this._variables;this._variables=getLocalVariables$3(this._variables,$t.fragment.argumentDefinitions,$t.args),this._traverseSelections($t.fragment,at,mt),this._variables=Dt;break}case"InlineFragment":{var Ft=$t.abstractKey;if(Ft==null){var jt=RelayModernRecord$b.getType(at);jt===$t.type&&this._traverseSelections($t,at,mt)}else{var Ut=mt.hasOwnProperty(Ft),tr=RelayModernRecord$b.getType(at),ir=generateTypeID$3(tr),sr=this._recordSource.get(ir);sr==null&&(sr=RelayModernRecord$b.create(ir,TYPE_SCHEMA_TYPE$1),this._recordSource.set(ir,sr)),RelayModernRecord$b.setValue(sr,Ft,Ut),Ut&&this._traverseSelections($t,at,mt)}break}case"TypeDiscriminator":{var ur=$t.abstractKey,fr=mt.hasOwnProperty(ur),dr=RelayModernRecord$b.getType(at),hr=generateTypeID$3(dr),vr=this._recordSource.get(hr);vr==null&&(vr=RelayModernRecord$b.create(hr,TYPE_SCHEMA_TYPE$1),this._recordSource.set(hr,vr)),RelayModernRecord$b.setValue(vr,ur,fr);break}case"LinkedHandle":case"ScalarHandle":var yr=$t.args?getArgumentValues$3($t.args,this._variables):{},xr=getStorageKey$6($t,this._variables),br=getHandleStorageKey$2($t,this._variables);this._handleFieldPayloads.push({args:yr,dataID:RelayModernRecord$b.getDataID(at),fieldKey:xr,handle:$t.handle,handleKey:br,handleArgs:$t.handleArgs?getArgumentValues$3($t.handleArgs,this._variables):{}});break;case"ModuleImport":this._normalizeModuleImport($t,at,mt);break;case"Defer":this._normalizeDefer($t,at,mt);break;case"Stream":this._normalizeStream($t,at,mt);break;case"ClientExtension":var wr=this._isClientExtension;this._isClientExtension=!0,this._traverseSelections($t,at,mt),this._isClientExtension=wr;break;case"ClientComponent":if(this._shouldProcessClientComponents===!1)break;this._traverseSelections($t.fragment,at,mt);break;case"ActorChange":this._normalizeActorChange($t,at,mt);break;case"RelayResolver":this._normalizeResolver($t,at,mt);break;case"RelayLiveResolver":this._normalizeResolver($t,at,mt);break;case"ClientEdgeToClientObject":this._normalizeResolver($t.backingField,at,mt);break;default:invariant$n(!1)}}},s._normalizeResolver=function(nt,at,mt){nt.fragment!=null&&this._traverseSelections(nt.fragment,at,mt)},s._normalizeDefer=function(nt,at,mt){var wt=nt.if===null||this._getVariableValue(nt.if);wt===!1?this._traverseSelections(nt,at,mt):this._incrementalPlaceholders.push({kind:"defer",data:mt,label:nt.label,path:(0,_toConsumableArray2$2.default)(this._path),selector:createNormalizationSelector$2(nt,RelayModernRecord$b.getDataID(at),this._variables),typeName:RelayModernRecord$b.getType(at),actorIdentifier:this._actorIdentifier})},s._normalizeStream=function(nt,at,mt){this._traverseSelections(nt,at,mt);var wt=nt.if===null||this._getVariableValue(nt.if);wt===!0&&this._incrementalPlaceholders.push({kind:"stream",label:nt.label,path:(0,_toConsumableArray2$2.default)(this._path),parentID:RelayModernRecord$b.getDataID(at),node:nt,variables:this._variables,actorIdentifier:this._actorIdentifier})},s._normalizeModuleImport=function(nt,at,mt){typeof mt=="object"&&mt||invariant$n(!1);var wt=RelayModernRecord$b.getType(at),$t=getModuleComponentKey$2(nt.documentName),Ct=nt.componentModuleProvider||mt[$t];RelayModernRecord$b.setValue(at,$t,Ct??null);var Dt=getModuleOperationKey$3(nt.documentName),Ft=nt.operationModuleProvider||mt[Dt];RelayModernRecord$b.setValue(at,Dt,Ft??null),Ft!=null&&this._followupPayloads.push({kind:"ModuleImportPayload",args:nt.args,data:mt,dataID:RelayModernRecord$b.getDataID(at),operationReference:Ft,path:(0,_toConsumableArray2$2.default)(this._path),typeName:wt,variables:this._variables,actorIdentifier:this._actorIdentifier})},s._normalizeField=function(nt,at,mt){typeof mt=="object"&&mt||invariant$n(!1);var wt=nt.alias||nt.name,$t=getStorageKey$6(nt,this._variables),Ct=mt[wt];if(Ct==null||RelayFeatureFlags$5.ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS&&Array.isArray(Ct)&&Ct.length===0){if(Ct===void 0){var Dt=this._isClientExtension||this._isUnmatchedAbstractType;if(Dt)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue(at,$t,null);var Ft=this._errorTrie;if(Ft!=null){var jt=getErrorsByKey(Ft,wt);jt!=null&&RelayModernRecord$b.setErrors(at,$t,jt)}return}if(nt.kind==="ScalarField")RelayModernRecord$b.setValue(at,$t,Ct);else if(nt.kind==="LinkedField"){this._path.push(wt);var Ut=this._errorTrie;this._errorTrie=Ut==null?null:getNestedErrorTrieByKey(Ut,wt),nt.plural?this._normalizePluralLink(nt,at,$t,Ct):this._normalizeLink(nt,at,$t,Ct),this._errorTrie=Ut,this._path.pop()}else invariant$n(!1)},s._normalizeActorChange=function(nt,at,mt){var wt,$t=nt.linkedField;typeof mt=="object"&&mt||invariant$n(!1);var Ct=$t.alias||$t.name,Dt=getStorageKey$6($t,this._variables),Ft=mt[Ct];if(Ft==null){if(Ft===void 0){var jt=this._isClientExtension||this._isUnmatchedAbstractType;if(jt)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue(at,Dt,null);return}var Ut=getActorIdentifierFromPayload(Ft);if(Ut==null){RelayModernRecord$b.setValue(at,Dt,null);return}var tr=(wt=$t.concreteType)!==null&&wt!==void 0?wt:this._getRecordType(Ft),ir=this._getDataId(Ft,tr)||RelayModernRecord$b.getLinkedRecordID(at,Dt)||generateClientID$5(RelayModernRecord$b.getDataID(at),Dt);typeof ir!="string"&&invariant$n(!1),RelayModernRecord$b.setActorLinkedRecordID(at,Dt,Ut,ir),this._followupPayloads.push({kind:"ActorPayload",data:Ft,dataID:ir,path:[].concat((0,_toConsumableArray2$2.default)(this._path),[Ct]),typeName:tr,variables:this._variables,node:$t,actorIdentifier:Ut})},s._normalizeLink=function(nt,at,mt,wt){var $t;typeof wt=="object"&&wt||invariant$n(!1);var Ct=this._getDataId(wt,($t=nt.concreteType)!==null&&$t!==void 0?$t:this._getRecordType(wt))||RelayModernRecord$b.getLinkedRecordID(at,mt)||generateClientID$5(RelayModernRecord$b.getDataID(at),mt);typeof Ct!="string"&&invariant$n(!1),RelayModernRecord$b.setLinkedRecordID(at,mt,Ct);var Dt=this._recordSource.get(Ct);if(!Dt){var Ft=nt.concreteType||this._getRecordType(wt);Dt=RelayModernRecord$b.create(Ct,Ft),this._recordSource.set(Ct,Dt)}this._traverseSelections(nt,Dt,wt)},s._normalizePluralLink=function(nt,at,mt,wt){var $t=this;Array.isArray(wt)||invariant$n(!1);var Ct=RelayModernRecord$b.getLinkedRecordIDs(at,mt),Dt=[];wt.forEach(function(Ft,jt){var Ut;if(Ft==null){Dt.push(Ft);return}$t._path.push(String(jt));var tr=$t._errorTrie;$t._errorTrie=tr==null?null:getNestedErrorTrieByKey(tr,jt),typeof Ft!="object"&&invariant$n(!1);var ir=$t._getDataId(Ft,(Ut=nt.concreteType)!==null&&Ut!==void 0?Ut:$t._getRecordType(Ft))||Ct&&Ct[jt]||generateClientID$5(RelayModernRecord$b.getDataID(at),mt,jt);typeof ir!="string"&&invariant$n(!1),Dt.push(ir);var sr=$t._recordSource.get(ir);if(!sr){var ur=nt.concreteType||$t._getRecordType(Ft);sr=RelayModernRecord$b.create(ir,ur),$t._recordSource.set(ir,sr)}$t._traverseSelections(nt,sr,Ft),$t._errorTrie=tr,$t._path.pop()}),RelayModernRecord$b.setLinkedRecordIDs(at,mt,Dt)},s._validateRecordType=function(nt,at,mt){var wt;(wt=at.concreteType)!==null&&wt!==void 0||this._getRecordType(mt),RelayModernRecord$b.getDataID(nt)},s._validateConflictingFieldsWithIdenticalId=function(nt,at,mt){},s._validateConflictingLinkedFieldsWithIdenticalId=function(nt,at,mt){},a}(),RelayResponseNormalizer_1={normalize:normalize$2},_interopRequireDefault$d=interopRequireDefaultExports.default,_objectSpread2$4=_interopRequireDefault$d(objectSpread2Exports),_RelayModernRecord=_interopRequireDefault$d(RelayModernRecord$d),_RelayRecordSource=_interopRequireDefault$d(RelayRecordSource_1),_RelayResponseNormalizer=_interopRequireDefault$d(RelayResponseNormalizer_1);function normalizeResponse$2(a,s,et,nt){var at,mt=a.data,wt=a.errors,$t=_RelayRecordSource.default.create(),Ct=_RelayModernRecord.default.create(s.dataID,et);$t.set(s.dataID,Ct);var Dt=_RelayResponseNormalizer.default.normalize($t,s,mt,nt,wt);return(0,_objectSpread2$4.default)((0,_objectSpread2$4.default)({},Dt),{},{isFinal:((at=a.extensions)===null||at===void 0?void 0:at.is_final)===!0})}var normalizeResponse_1=normalizeResponse$2,_require$q=GraphQLTag$1,getInlineDataFragment=_require$q.getInlineDataFragment,_require2$i=RelayStoreUtils_1,FRAGMENTS_KEY$1=_require2$i.FRAGMENTS_KEY,invariant$m=browser$1;function readInlineData$1(a,s){var et,nt=getInlineDataFragment(a);if(s==null)return s;typeof s!="object"&&invariant$m(!1);var at=(et=s[FRAGMENTS_KEY$1])===null||et===void 0?void 0:et[nt.name];return at==null&&invariant$m(!1),at}var readInlineData_1=readInlineData$1,id=1e5;function generateID$2(){return id++}var generateID_1=generateID$2,generateID$1=generateID_1;function wrapNetworkWithLogObserver$1(a,s){return{execute:function(nt,at,mt,wt){var $t=generateID$1(),Ct={start:function(jt){a.__log({name:"network.start",networkRequestId:$t,params:nt,variables:at,cacheConfig:mt})},next:function(jt){a.__log({name:"network.next",networkRequestId:$t,response:jt})},error:function(jt){a.__log({name:"network.error",networkRequestId:$t,error:jt})},complete:function(){a.__log({name:"network.complete",networkRequestId:$t})},unsubscribe:function(){a.__log({name:"network.unsubscribe",networkRequestId:$t})}},Dt=function(jt){a.__log({name:"network.info",networkRequestId:$t,info:jt})};return s.execute(nt,at,mt,wt,Dt).do(Ct)}}}var wrapNetworkWithLogObserver_1=wrapNetworkWithLogObserver$1,_interopRequireDefault$c=interopRequireDefaultExports.default,_createForOfIteratorHelper2$8=_interopRequireDefault$c(createForOfIteratorHelperExports),invariant$l=browser$1,RelayOperationTracker$2=function(){function a(){this._ownersToPendingOperations=new Map,this._pendingOperationsToOwners=new Map,this._ownersToPendingPromise=new Map}var s=a.prototype;return s.update=function(nt,at){if(at.size!==0){var mt=nt.identifier,wt=new Set,$t=(0,_createForOfIteratorHelper2$8.default)(at),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value,Ft=Dt.identifier,jt=this._ownersToPendingOperations.get(Ft);jt!=null?jt.has(mt)||(jt.set(mt,nt),wt.add(Ft)):(this._ownersToPendingOperations.set(Ft,new Map([[mt,nt]])),wt.add(Ft))}}catch(ur){$t.e(ur)}finally{$t.f()}if(wt.size!==0){var Ut=this._pendingOperationsToOwners.get(mt)||new Set,tr=(0,_createForOfIteratorHelper2$8.default)(wt),ir;try{for(tr.s();!(ir=tr.n()).done;){var sr=ir.value;this._resolveOwnerResolvers(sr),Ut.add(sr)}}catch(ur){tr.e(ur)}finally{tr.f()}this._pendingOperationsToOwners.set(mt,Ut)}}},s.complete=function(nt){var at=nt.identifier,mt=this._pendingOperationsToOwners.get(at);if(mt!=null){var wt=new Set,$t=new Set,Ct=(0,_createForOfIteratorHelper2$8.default)(mt),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=this._ownersToPendingOperations.get(Ft);jt&&(jt.delete(at),jt.size>0?$t.add(Ft):wt.add(Ft))}}catch(dr){Ct.e(dr)}finally{Ct.f()}var Ut=(0,_createForOfIteratorHelper2$8.default)(wt),tr;try{for(Ut.s();!(tr=Ut.n()).done;){var ir=tr.value;this._resolveOwnerResolvers(ir),this._ownersToPendingOperations.delete(ir)}}catch(dr){Ut.e(dr)}finally{Ut.f()}var sr=(0,_createForOfIteratorHelper2$8.default)($t),ur;try{for(sr.s();!(ur=sr.n()).done;){var fr=ur.value;this._resolveOwnerResolvers(fr)}}catch(dr){sr.e(dr)}finally{sr.f()}this._pendingOperationsToOwners.delete(at)}},s._resolveOwnerResolvers=function(nt){var at=this._ownersToPendingPromise.get(nt);at!=null&&at.resolve(),this._ownersToPendingPromise.delete(nt)},s.getPendingOperationsAffectingOwner=function(nt){var at=nt.identifier,mt=this._ownersToPendingOperations.get(at);if(mt==null||mt.size===0)return null;var wt=this._ownersToPendingPromise.get(at);if(wt!=null)return{promise:wt.promise,pendingOperations:wt.pendingOperations};var $t,Ct=new Promise(function(Ft){$t=Ft});$t==null&&invariant$l(!1);var Dt=Array.from(mt.values());return this._ownersToPendingPromise.set(at,{promise:Ct,resolve:$t,pendingOperations:Dt}),{promise:Ct,pendingOperations:Dt}},a}(),RelayOperationTracker_1=RelayOperationTracker$2;function registerEnvironmentWithDevTools$1(a){var s=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,et=s&&s.__RELAY_DEVTOOLS_HOOK__;et&&et.registerEnvironment(a)}var registerEnvironmentWithDevTools_1=registerEnvironmentWithDevTools$1,_require$p=ClientID,generateClientID$4=_require$p.generateClientID,_require2$h=RelayStoreUtils_1,ROOT_ID$4=_require2$h.ROOT_ID,VIEWER_ID$2=generateClientID$4(ROOT_ID$4,"viewer"),VIEWER_TYPE$1="Viewer",ViewerPattern$1={VIEWER_ID:VIEWER_ID$2,VIEWER_TYPE:VIEWER_TYPE$1},_require$o=ViewerPattern$1,VIEWER_ID$1=_require$o.VIEWER_ID,VIEWER_TYPE=_require$o.VIEWER_TYPE;function defaultGetDataID$2(a,s){return s===VIEWER_TYPE&&a.id==null?VIEWER_ID$1:a.id}var defaultGetDataID_1=defaultGetDataID$2,defaultRelayFieldLogger$1=function a(s){},defaultRelayFieldLogger_1=defaultRelayFieldLogger$1,_require$n=RelayConcreteNode_1,REQUEST=_require$n.REQUEST,SPLIT_OPERATION=_require$n.SPLIT_OPERATION;function getOperation$3(a){switch(a.kind){case REQUEST:return a.operation;case SPLIT_OPERATION:default:return a}}var getOperation_1=getOperation$3;function createError(a,s,et){for(var nt=arguments.length,at=new Array(nt>3?nt-3:0),mt=3;mt<nt;mt++)at[mt-3]=arguments[mt];var wt=0,$t=et.replace(/%s/g,function(){return String(at[wt++])}),Ct=new Error($t),Dt=Object.assign(Ct,{name:s,messageFormat:et,messageParams:at,type:a,taalOpcodes:[2,2]});if(Dt.stack===void 0)try{throw Dt}catch{}return Dt}var RelayError$2={create:function a(s,et){for(var nt=arguments.length,at=new Array(nt>2?nt-2:0),mt=2;mt<nt;mt++)at[mt-2]=arguments[mt];return createError.apply(void 0,["error",s,et].concat(at))},createWarning:function a(s,et){for(var nt=arguments.length,at=new Array(nt>2?nt-2:0),mt=2;mt<nt;mt++)at[mt-2]=arguments[mt];return createError.apply(void 0,["warn",s,et].concat(at))}},_window,_window$performance,isPerformanceNowAvailable=typeof window<"u"&&typeof((_window=window)===null||_window===void 0||(_window$performance=_window.performance)===null||_window$performance===void 0?void 0:_window$performance.now)=="function";function currentTimestamp(){return isPerformanceNowAvailable?window.performance.now():Date.now()}function withStartAndDuration$1(a){var s=currentTimestamp(),et=a();return[s,currentTimestamp()-s,et]}var withStartAndDuration_1=withStartAndDuration$1,_interopRequireDefault$b=interopRequireDefaultExports.default,_createForOfIteratorHelper2$7=_interopRequireDefault$b(createForOfIteratorHelperExports),_toConsumableArray2$1=_interopRequireDefault$b(toConsumableArrayExports),RelayObservable$2=RelayObservable_1,generateID=generateID_1,getOperation$2=getOperation_1,RelayError$1=RelayError$2,RelayFeatureFlags$4=RelayFeatureFlags_1,_require$m=stableCopy_1,stableCopy$2=_require$m.stableCopy,withStartAndDuration=withStartAndDuration_1,_require2$g=ClientID,generateClientID$3=_require2$g.generateClientID,generateUniqueClientID$1=_require2$g.generateUniqueClientID,_require3$a=RelayConcreteVariables$2,getLocalVariables$2=_require3$a.getLocalVariables,RelayModernRecord$a=RelayModernRecord$d,_require4$6=RelayModernSelector$1,createNormalizationSelector$1=_require4$6.createNormalizationSelector,createReaderSelector$1=_require4$6.createReaderSelector,RelayRecordSource$5=RelayRecordSource_1,_require5$3=RelayStoreUtils_1,ROOT_TYPE$3=_require5$3.ROOT_TYPE,TYPENAME_KEY=_require5$3.TYPENAME_KEY,getStorageKey$5=_require5$3.getStorageKey,invariant$k=browser$1,warning=warning_1;function execute(a){return new Executor(a)}var Executor=function(){function a(et){var nt=this,at=et.actorIdentifier,mt=et.getDataID,wt=et.getPublishQueue,$t=et.getStore,Ct=et.isClientPayload,Dt=et.operation,Ft=et.operationExecutions,jt=et.operationLoader,Ut=et.operationTracker,tr=et.optimisticConfig,ir=et.scheduler,sr=et.shouldProcessClientComponents,ur=et.sink,fr=et.source,dr=et.treatMissingFieldsAsNull,hr=et.updater,vr=et.log,yr=et.normalizeResponse;this._actorIdentifier=at,this._getDataID=mt,this._treatMissingFieldsAsNull=dr,this._incrementalPayloadsPending=!1,this._incrementalResults=new Map,this._log=vr,this._executeId=generateID(),this._nextSubscriptionId=0,this._operation=Dt,this._operationExecutions=Ft,this._operationLoader=jt,this._operationTracker=Ut,this._operationUpdateEpochs=new Map,this._optimisticUpdates=null,this._pendingModulePayloadsCount=0,this._getPublishQueue=wt,this._scheduler=ir,this._sink=ur,this._source=new Map,this._state="started",this._getStore=$t,this._subscriptions=new Map,this._updater=hr,this._isClientPayload=Ct===!0,this._isSubscriptionOperation=this._operation.request.node.params.operationKind==="subscription",this._shouldProcessClientComponents=sr,this._retainDisposables=new Map,this._seenActors=new Set,this._completeFns=[],this._normalizeResponse=yr;var xr=this._nextSubscriptionId++;RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&tr!=null&&this._processOptimisticResponse(tr.response!=null?{data:tr.response}:null,tr.updater,!1),fr.subscribe({complete:function(){return nt._complete(xr)},error:function(wr){return nt._error(wr)},next:function(wr){try{nt._next(xr,wr)}catch(Sr){ur.error(Sr)}},start:function(wr){var Sr;nt._start(xr,wr),nt._log({name:"execute.start",executeId:nt._executeId,params:nt._operation.request.node.params,variables:nt._operation.request.variables,cacheConfig:(Sr=nt._operation.request.cacheConfig)!==null&&Sr!==void 0?Sr:{}})}}),!RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&tr!=null&&this._processOptimisticResponse(tr.response!=null?{data:tr.response}:null,tr.updater,!1)}var s=a.prototype;return s.cancel=function(){var nt=this;if(this._state!=="completed"){this._state="completed",this._operationExecutions.delete(this._operation.request.identifier),this._subscriptions.size!==0&&(this._subscriptions.forEach(function(mt){return mt.unsubscribe()}),this._subscriptions.clear());var at=this._optimisticUpdates;at!==null&&(this._optimisticUpdates=null,at.forEach(function(mt){return nt._getPublishQueueAndSaveActor().revertUpdate(mt)}),this._runPublishQueue()),this._incrementalResults.clear(),this._asyncStoreUpdateDisposable!=null&&(this._asyncStoreUpdateDisposable.dispose(),this._asyncStoreUpdateDisposable=null),this._completeFns=[],this._completeOperationTracker(),this._disposeRetainedData()}},s._updateActiveState=function(){var nt;switch(this._state){case"started":{nt="active";break}case"loading_incremental":{nt="active";break}case"completed":{nt="inactive";break}case"loading_final":{nt=this._pendingModulePayloadsCount>0?"active":"inactive";break}default:this._state,invariant$k(!1)}this._operationExecutions.set(this._operation.request.identifier,nt)},s._schedule=function(nt,at){var mt=this,wt=this._scheduler;if(wt!=null){var $t=this._nextSubscriptionId++;RelayObservable$2.create(function(Ct){var Dt=wt.schedule(function(){try{nt(),Ct.complete()}catch(Ft){Ct.error(Ft)}},at);return function(){return wt.cancel(Dt)}}).subscribe({complete:function(){return mt._complete($t)},error:function(Dt){return mt._error(Dt)},start:function(Dt){return mt._start($t,Dt)}})}else nt()},s._complete=function(nt){this._subscriptions.delete(nt),this._subscriptions.size===0&&(this.cancel(),this._sink.complete(),this._log({name:"execute.complete",executeId:this._executeId}))},s._error=function(nt){this.cancel(),this._sink.error(nt),this._log({name:"execute.error",executeId:this._executeId,error:nt})},s._start=function(nt,at){this._subscriptions.set(nt,at),this._updateActiveState()},s._next=function(nt,at){var mt=this,wt=this._state==="loading_incremental"?"low":"default";this._schedule(function(){mt._log({name:"execute.next.start",executeId:mt._executeId,response:at,operation:mt._operation}),mt._handleNext(at),mt._maybeCompleteSubscriptionOperationTracking(),mt._log({name:"execute.next.end",executeId:mt._executeId,response:at,operation:mt._operation})},wt)},s._handleErrorResponse=function(nt){var at=this,mt=[];return nt.forEach(function(wt){if(!(wt.data===null&&wt.extensions!=null&&!wt.hasOwnProperty("errors")))if(wt.data==null){var $t=wt.hasOwnProperty("errors")&&wt.errors!=null?wt.errors:null,Ct=$t?$t.map(function(jt){var Ut=jt.message;return Ut}).join(`
`):"(No errors)",Dt=RelayError$1.create("RelayNetwork","No data returned for operation `"+at._operation.request.node.params.name+"`, got error(s):\n"+Ct+"\n\nSee the error `source` property for more information.");throw Dt.source={errors:$t,operation:at._operation.request.node,variables:at._operation.request.variables},Dt.stack,Dt}else{var Ft=wt;mt.push(Ft)}}),mt},s._handleOptimisticResponses=function(nt){var at;if(nt.length>1)return nt.some(function($t){var Ct;return((Ct=$t.extensions)===null||Ct===void 0?void 0:Ct.isOptimistic)===!0})&&invariant$k(!1),!1;var mt=nt[0],wt=((at=mt.extensions)===null||at===void 0?void 0:at.isOptimistic)===!0;return wt&&this._state!=="started"&&invariant$k(!1),wt?(this._processOptimisticResponse(mt,null,this._treatMissingFieldsAsNull),this._sink.next(mt),!0):!1},s._handleNext=function(nt){if(this._state!=="completed"){this._seenActors.clear();var at=Array.isArray(nt)?nt:[nt],mt=this._handleErrorResponse(at);if(mt.length===0){var wt=at.some(function(ur){var fr;return((fr=ur.extensions)===null||fr===void 0?void 0:fr.is_final)===!0});wt&&(this._state="loading_final",this._updateActiveState(),this._incrementalPayloadsPending=!1),this._sink.next(nt);return}var $t=this._handleOptimisticResponses(mt);if(!$t){var Ct=partitionGraphQLResponses(mt),Dt=Ct[0],Ft=Ct[1],jt=Dt.length>0;if(jt){if(this._isSubscriptionOperation){var Ut=generateUniqueClientID$1();this._operation={request:this._operation.request,fragment:createReaderSelector$1(this._operation.fragment.node,Ut,this._operation.fragment.variables,this._operation.fragment.owner),root:createNormalizationSelector$1(this._operation.root.node,Ut,this._operation.root.variables)}}var tr=this._processResponses(Dt);this._processPayloadFollowups(tr)}if(Ft.length>0){var ir=this._processIncrementalResponses(Ft);this._processPayloadFollowups(ir)}this._isSubscriptionOperation&&(mt[0].extensions==null?mt[0].extensions={__relay_subscription_root_id:this._operation.fragment.dataID}:mt[0].extensions.__relay_subscription_root_id=this._operation.fragment.dataID);var sr=this._runPublishQueue(jt?this._operation:void 0);jt&&this._incrementalPayloadsPending&&this._retainData(),this._updateOperationTracker(sr),this._sink.next(nt)}}},s._processOptimisticResponse=function(nt,at,mt){var wt=this;if(this._optimisticUpdates!==null&&invariant$k(!1),!(nt==null&&at==null)){var $t=[];if(nt){var Ct=this._normalizeResponse(nt,this._operation.root,ROOT_TYPE$3,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[],shouldProcessClientComponents:this._shouldProcessClientComponents,treatMissingFieldsAsNull:mt});validateOptimisticResponsePayload(Ct),$t.push({operation:this._operation,payload:Ct,updater:at}),this._processOptimisticFollowups(Ct,$t)}else at&&$t.push({operation:this._operation,payload:{errors:null,fieldPayloads:null,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1},updater:at});this._optimisticUpdates=$t,$t.forEach(function(Ft){return wt._getPublishQueueAndSaveActor().applyUpdate(Ft)});var Dt=this._runPublishQueue();RelayFeatureFlags$4.ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES&&this._updateOperationTracker(Dt)}},s._processOptimisticFollowups=function(nt,at){if(nt.followupPayloads&&nt.followupPayloads.length){var mt=nt.followupPayloads,wt=(0,_createForOfIteratorHelper2$7.default)(mt),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value;switch(Ct.kind){case"ModuleImportPayload":var Dt=this._expectOperationLoader(),Ft=Dt.get(Ct.operationReference);if(Ft==null)this._processAsyncOptimisticModuleImport(Ct);else{var jt=this._processOptimisticModuleImport(Ft,Ct);at.push.apply(at,(0,_toConsumableArray2$1.default)(jt))}break;case"ActorPayload":break;default:invariant$k(!1)}}}catch(Ut){wt.e(Ut)}finally{wt.f()}}},s._normalizeFollowupPayload=function(nt,at){var mt;at.kind==="SplitOperation"&&nt.kind==="ModuleImportPayload"?mt=getLocalVariables$2(nt.variables,at.argumentDefinitions,nt.args):mt=nt.variables;var wt=createNormalizationSelector$1(at,nt.dataID,mt);return this._normalizeResponse({data:nt.data},wt,nt.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:nt.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents})},s._processOptimisticModuleImport=function(nt,at){var mt=getOperation$2(nt),wt=[],$t=this._normalizeFollowupPayload(at,mt);return validateOptimisticResponsePayload($t),wt.push({operation:this._operation,payload:$t,updater:null}),this._processOptimisticFollowups($t,wt),wt},s._processAsyncOptimisticModuleImport=function(nt){var at=this;this._expectOperationLoader().load(nt.operationReference).then(function(mt){if(!(mt==null||at._state!=="started")){var wt=at._processOptimisticModuleImport(mt,nt);if(wt.forEach(function(Ct){return at._getPublishQueueAndSaveActor().applyUpdate(Ct)}),at._optimisticUpdates!=null){var $t;($t=at._optimisticUpdates).push.apply($t,(0,_toConsumableArray2$1.default)(wt)),at._runPublishQueue()}}})},s._processResponses=function(nt){var at=this;return this._log({name:"execute.normalize.start",operation:this._operation}),this._optimisticUpdates!==null&&(this._optimisticUpdates.forEach(function(mt){at._getPublishQueueAndSaveActor().revertUpdate(mt)}),this._optimisticUpdates=null),this._incrementalPayloadsPending=!1,this._incrementalResults.clear(),this._source.clear(),nt.map(function(mt){var wt=at._normalizeResponse(mt,at._operation.root,ROOT_TYPE$3,{actorIdentifier:at._actorIdentifier,getDataID:at._getDataID,path:[],treatMissingFieldsAsNull:at._treatMissingFieldsAsNull,shouldProcessClientComponents:at._shouldProcessClientComponents});return at._getPublishQueueAndSaveActor().commitPayload(at._operation,wt,at._updater),at._log({name:"execute.normalize.end",operation:at._operation}),wt})},s._processPayloadFollowups=function(nt){var at=this;this._state!=="completed"&&nt.forEach(function(mt){var wt=mt.incrementalPlaceholders,$t=mt.followupPayloads,Ct=mt.isFinal;if(at._state=Ct?"loading_final":"loading_incremental",at._updateActiveState(),Ct&&(at._incrementalPayloadsPending=!1),$t&&$t.length!==0&&$t.forEach(function(Ft){var jt,Ut=at._actorIdentifier;at._actorIdentifier=(jt=Ft.actorIdentifier)!==null&&jt!==void 0?jt:at._actorIdentifier,at._processFollowupPayload(Ft),at._actorIdentifier=Ut}),wt&&wt.length!==0&&(at._incrementalPayloadsPending=at._state!=="loading_final",wt.forEach(function(Ft){var jt,Ut=at._actorIdentifier;at._actorIdentifier=(jt=Ft.actorIdentifier)!==null&&jt!==void 0?jt:at._actorIdentifier,at._processIncrementalPlaceholder(mt,Ft),at._actorIdentifier=Ut}),at._isClientPayload||at._state==="loading_final")){var Dt=[];wt.forEach(function(Ft){Ft.kind==="defer"&&Dt.push(at._processDeferResponse(Ft.label,Ft.path,Ft,{data:Ft.data}))}),Dt.length>0&&at._processPayloadFollowups(Dt)}})},s._maybeCompleteSubscriptionOperationTracking=function(){this._isSubscriptionOperation&&this._pendingModulePayloadsCount===0&&this._incrementalPayloadsPending===!1&&this._completeOperationTracker()},s._processFollowupPayload=function(nt){var at=this;switch(nt.kind){case"ModuleImportPayload":var mt=this._expectOperationLoader(),wt=mt.get(nt.operationReference);if(wt!=null)this._processFollowupPayloadWithNormalizationNode(nt,getOperation$2(wt));else{var $t=this._nextSubscriptionId++;this._pendingModulePayloadsCount++;var Ct=function(){at._pendingModulePayloadsCount--,at._maybeCompleteSubscriptionOperationTracking()},Dt=RelayObservable$2.from(new Promise(function(Ft,jt){mt.load(nt.operationReference).then(Ft,jt)}));RelayObservable$2.create(function(Ft){var jt,Ut=Dt.subscribe({next:function(ir){if(ir!=null){var sr=function(){try{var dr=getOperation$2(ir),hr=RelayFeatureFlags$4.BATCH_ASYNC_MODULE_UPDATES_FN,vr=hr!=null&&at._pendingModulePayloadsCount>1,yr=withStartAndDuration(function(){if(at._handleFollowupPayload(nt,dr),vr)at._scheduleAsyncStoreUpdate(hr,Ft.complete);else{var wr=at._runPublishQueue();at._updateOperationTracker(wr)}}),xr=yr[0],br=yr[1];at._log({name:"execute.async.module",executeId:at._executeId,operationName:dr.name,duration:br}),vr||Ft.complete()}catch(wr){Ft.error(wr)}},ur=at._scheduler;ur==null?sr():jt=ur.schedule(sr)}else Ft.complete()},error:Ft.error});return function(){Ut.unsubscribe(),at._scheduler!=null&&jt!=null&&at._scheduler.cancel(jt)}}).subscribe({complete:function(){at._complete($t),Ct()},error:function(jt){at._error(jt),Ct()},start:function(jt){return at._start($t,jt)}})}break;case"ActorPayload":this._processFollowupPayloadWithNormalizationNode(nt,nt.node);break;default:invariant$k(!1)}},s._processFollowupPayloadWithNormalizationNode=function(nt,at){this._handleFollowupPayload(nt,at),this._maybeCompleteSubscriptionOperationTracking()},s._handleFollowupPayload=function(nt,at){var mt=this._normalizeFollowupPayload(nt,at);this._getPublishQueueAndSaveActor().commitPayload(this._operation,mt),this._processPayloadFollowups([mt])},s._processIncrementalPlaceholder=function(nt,at){var mt,wt=at.label,$t=at.path,Ct=$t.map(String).join("."),Dt=this._incrementalResults.get(wt);Dt==null&&(Dt=new Map,this._incrementalResults.set(wt,Dt));var Ft=Dt.get(Ct),jt=Ft!=null&&Ft.kind==="response"?Ft.responses:null;Dt.set(Ct,{kind:"placeholder",placeholder:at});var Ut;at.kind==="stream"?Ut=at.parentID:at.kind==="defer"?Ut=at.selector.dataID:invariant$k(!1);var tr=nt.source.get(Ut),ir=((mt=nt.fieldPayloads)!==null&&mt!==void 0?mt:[]).filter(function(yr){var xr=generateClientID$3(yr.dataID,yr.fieldKey);return yr.dataID===Ut||xr===Ut});tr==null&&invariant$k(!1);var sr,ur,fr=this._source.get(Ut);if(fr!=null){sr=RelayModernRecord$a.update(fr.record,tr);var dr=new Map,hr=function(xr){var br=stableStringify(xr);dr.set(br,xr)};fr.fieldPayloads.forEach(hr),ir.forEach(hr),ur=Array.from(dr.values())}else sr=tr,ur=ir;if(this._source.set(Ut,{record:sr,fieldPayloads:ur}),jt!=null){var vr=this._processIncrementalResponses(jt);this._processPayloadFollowups(vr)}},s._processIncrementalResponses=function(nt){var at=this,mt=[];return nt.forEach(function(wt){var $t=wt.label,Ct=wt.path,Dt=wt.response,Ft=at._incrementalResults.get($t);if(Ft==null&&(Ft=new Map,at._incrementalResults.set($t,Ft)),$t.indexOf("$defer$")!==-1){var jt=Ct.map(String).join("."),Ut=Ft.get(jt);if(Ut==null){Ut={kind:"response",responses:[wt]},Ft.set(jt,Ut);return}else if(Ut.kind==="response"){Ut.responses.push(wt);return}var tr=Ut.placeholder;tr.kind!=="defer"&&invariant$k(!1),mt.push(at._processDeferResponse($t,Ct,tr,Dt))}else{var ir=Ct.slice(0,-2).map(String).join("."),sr=Ft.get(ir);if(sr==null){sr={kind:"response",responses:[wt]},Ft.set(ir,sr);return}else if(sr.kind==="response"){sr.responses.push(wt);return}var ur=sr.placeholder;ur.kind!=="stream"&&invariant$k(!1),mt.push(at._processStreamResponse($t,Ct,ur,Dt))}}),mt},s._processDeferResponse=function(nt,at,mt,wt){var $t,Ct=mt.selector.dataID,Dt=this._actorIdentifier;this._actorIdentifier=($t=mt.actorIdentifier)!==null&&$t!==void 0?$t:this._actorIdentifier;var Ft=this._normalizeResponse(wt,mt.selector,mt.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:mt.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});this._getPublishQueueAndSaveActor().commitPayload(this._operation,Ft);var jt=this._source.get(Ct);jt==null&&invariant$k(!1);var Ut=jt.fieldPayloads;if(Ut.length!==0){var tr,ir={errors:null,fieldPayloads:Ut,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:((tr=wt.extensions)===null||tr===void 0?void 0:tr.is_final)===!0};this._getPublishQueueAndSaveActor().commitPayload(this._operation,ir)}return this._actorIdentifier=Dt,Ft},s._processStreamResponse=function(nt,at,mt,wt){var $t=mt.parentID,Ct=mt.node,Dt=mt.variables,Ft=mt.actorIdentifier,jt=this._actorIdentifier;this._actorIdentifier=Ft??this._actorIdentifier;var Ut=Ct.selections[0];Ut!=null&&Ut.kind==="LinkedField"&&Ut.plural===!0||invariant$k(!1);var tr=this._normalizeStreamItem(wt,$t,Ut,Dt,at,mt.path),ir=tr.fieldPayloads,sr=tr.itemID,ur=tr.itemIndex,fr=tr.prevIDs,dr=tr.relayPayload,hr=tr.storageKey;if(this._getPublishQueueAndSaveActor().commitPayload(this._operation,dr,function(yr){var xr=yr.get($t);if(xr!=null){var br=xr.getLinkedRecords(hr);if(br!=null&&!(br.length!==fr.length||br.some(function(Sr,Cr){return fr[Cr]!==(Sr&&Sr.getDataID())}))){var wr=(0,_toConsumableArray2$1.default)(br);wr[ur]=yr.get(sr),xr.setLinkedRecords(wr,hr)}}}),ir.length!==0){var vr={errors:null,fieldPayloads:ir,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1};this._getPublishQueueAndSaveActor().commitPayload(this._operation,vr)}return this._actorIdentifier=jt,dr},s._normalizeStreamItem=function(nt,at,mt,wt,$t,Ct){var Dt,Ft,jt,Ut,tr=nt.data;typeof tr!="object"&&invariant$k(!1);var ir=(Dt=mt.alias)!==null&&Dt!==void 0?Dt:mt.name,sr=getStorageKey$5(mt,wt),ur=this._source.get(at);ur==null&&invariant$k(!1);var fr=ur.record,dr=ur.fieldPayloads,hr=RelayModernRecord$a.getLinkedRecordIDs(fr,sr);hr==null&&invariant$k(!1);var vr=$t[$t.length-1],yr=parseInt(vr,10);yr===vr&&yr>=0||invariant$k(!1);var xr=(Ft=mt.concreteType)!==null&&Ft!==void 0?Ft:tr[TYPENAME_KEY];typeof xr!="string"&&invariant$k(!1);var br=(jt=(Ut=this._getDataID(tr,xr))!==null&&Ut!==void 0?Ut:hr==null?void 0:hr[yr])!==null&&jt!==void 0?jt:generateClientID$3(at,sr,yr);typeof br!="string"&&invariant$k(!1);var wr=createNormalizationSelector$1(mt,br,wt),Sr=RelayModernRecord$a.clone(fr),Cr=(0,_toConsumableArray2$1.default)(hr);Cr[yr]=br,RelayModernRecord$a.setLinkedRecordIDs(Sr,sr,Cr),this._source.set(at,{record:Sr,fieldPayloads:dr});var cr=this._normalizeResponse(nt,wr,xr,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[].concat((0,_toConsumableArray2$1.default)(Ct),[ir,String(yr)]),treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});return{fieldPayloads:dr,itemID:br,itemIndex:yr,prevIDs:hr,relayPayload:cr,storageKey:sr}},s._scheduleAsyncStoreUpdate=function(nt,at){var mt=this;this._completeFns.push(at),this._asyncStoreUpdateDisposable==null&&(this._asyncStoreUpdateDisposable=nt(function(){mt._asyncStoreUpdateDisposable=null;var wt=mt._runPublishQueue();mt._updateOperationTracker(wt);var $t=(0,_createForOfIteratorHelper2$7.default)(mt._completeFns),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value;Dt()}}catch(Ft){$t.e(Ft)}finally{$t.f()}mt._completeFns=[]}))},s._updateOperationTracker=function(nt){nt!=null&&nt.length>0&&this._operationTracker.update(this._operation.request,new Set(nt))},s._completeOperationTracker=function(){this._operationTracker.complete(this._operation.request)},s._getPublishQueueAndSaveActor=function(){return this._seenActors.add(this._actorIdentifier),this._getPublishQueue(this._actorIdentifier)},s._getActorsToVisit=function(){return this._seenActors.size===0?new Set([this._actorIdentifier]):this._seenActors},s._runPublishQueue=function(nt){var at=new Set,mt=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value,Ct=this._getPublishQueue($t).run(nt);Ct.forEach(function(Dt){return at.add(Dt)})}}catch(Dt){mt.e(Dt)}finally{mt.f()}return Array.from(at)},s._retainData=function(){var nt=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;this._retainDisposables.has(mt)||this._retainDisposables.set(mt,this._getStore(mt).retain(this._operation))}}catch(wt){nt.e(wt)}finally{nt.f()}},s._disposeRetainedData=function(){var nt=(0,_createForOfIteratorHelper2$7.default)(this._retainDisposables.values()),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;mt.dispose()}}catch(wt){nt.e(wt)}finally{nt.f()}this._retainDisposables.clear()},s._expectOperationLoader=function(){var nt=this._operationLoader;return nt||invariant$k(!1),nt},a}();function partitionGraphQLResponses(a){var s=[],et=[];return a.forEach(function(nt){if(nt.path!=null||nt.label!=null){var at=nt.label,mt=nt.path;(at==null||mt==null)&&invariant$k(!1),et.push({label:at,path:mt,response:nt})}else s.push(nt)}),[s,et]}function stableStringify(a){var s;return(s=JSON.stringify(stableCopy$2(a)))!==null&&s!==void 0?s:""}function validateOptimisticResponsePayload(a){var s=a.incrementalPlaceholders;s!=null&&s.length!==0&&invariant$k(!1)}var OperationExecutor$1={execute},RelayModernRecord$9=RelayModernRecord$d,_require$l=RelayRecordState_1,EXISTENT$2=_require$l.EXISTENT,invariant$j=browser$1,RelayRecordSourceMutator$2=function(){function a(et,nt){this.__sources=[nt,et],this._base=et,this._sink=nt}var s=a.prototype;return s.unstable_getRawRecordWithChanges=function(nt){var at=this._base.get(nt),mt=this._sink.get(nt);if(mt===void 0){if(at==null)return at;var wt=RelayModernRecord$9.clone(at);return wt}else{if(mt===null)return null;if(at!=null){var $t=RelayModernRecord$9.update(at,mt);return $t}else{var Ct=RelayModernRecord$9.clone(mt);return Ct}}},s._getSinkRecord=function(nt){var at=this._sink.get(nt);if(!at){var mt=this._base.get(nt);mt||invariant$j(!1),at=RelayModernRecord$9.create(nt,RelayModernRecord$9.getType(mt)),this._sink.set(nt,at)}return at},s.copyFields=function(nt,at){var mt=this._sink.get(nt),wt=this._base.get(nt);mt||wt||invariant$j(!1);var $t=this._getSinkRecord(at);wt&&RelayModernRecord$9.copyFields(wt,$t),mt&&RelayModernRecord$9.copyFields(mt,$t)},s.copyFieldsFromRecord=function(nt,at){var mt=this._getSinkRecord(at);RelayModernRecord$9.copyFields(nt,mt)},s.create=function(nt,at){this._base.getStatus(nt)!==EXISTENT$2&&this._sink.getStatus(nt)!==EXISTENT$2||invariant$j(!1);var mt=RelayModernRecord$9.create(nt,at);this._sink.set(nt,mt)},s.delete=function(nt){this._sink.delete(nt)},s.getStatus=function(nt){return this._sink.has(nt)?this._sink.getStatus(nt):this._base.getStatus(nt)},s.getType=function(nt){for(var at=0;at<this.__sources.length;at++){var mt=this.__sources[at].get(nt);if(mt)return RelayModernRecord$9.getType(mt);if(mt===null)return null}},s.getValue=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getValue(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},s.setValue=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setValue(wt,at,mt)},s.getErrors=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getErrors(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},s.setErrors=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setErrors(wt,at,mt)},s.getLinkedRecordID=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getLinkedRecordID(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},s.setLinkedRecordID=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setLinkedRecordID(wt,at,mt)},s.getLinkedRecordIDs=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getLinkedRecordIDs(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},s.setLinkedRecordIDs=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setLinkedRecordIDs(wt,at,mt)},a}(),RelayRecordSourceMutator_1=RelayRecordSourceMutator$2,_interopRequireDefault$a=interopRequireDefaultExports.default,_createForOfIteratorHelper2$6=_interopRequireDefault$a(createForOfIteratorHelperExports),_require$k=RelayStoreUtils_1,getArgumentValues$2=_require$k.getArgumentValues,nonUpdatableKeys=["id","__id","__typename","js"];function createUpdatableProxy$2(a,s,et,nt,at){var mt={};return updateProxyFromSelections(mt,a,s,et,nt,at),mt}function updateProxyFromSelections(a,s,et,nt,at,mt){var wt,$t=(0,_createForOfIteratorHelper2$6.default)(nt),Ct;try{var Dt=function(){var tr=Ct.value;switch(tr.kind){case"LinkedField":tr.plural?Object.defineProperty(a,(Ft=tr.alias)!==null&&Ft!==void 0?Ft:tr.name,{get:createGetterForPluralLinkedField(tr,et,s,at,mt),set:createSetterForPluralLinkedField(tr,et,s,at)}):Object.defineProperty(a,(jt=tr.alias)!==null&&jt!==void 0?jt:tr.name,{get:createGetterForSingularLinkedField(tr,et,s,at,mt),set:createSetterForSingularLinkedField(tr,et,s,at)});break;case"ScalarField":var ir=(wt=tr.alias)!==null&&wt!==void 0?wt:tr.name;Object.defineProperty(a,ir,{get:function(){var ur,fr=getArgumentValues$2((ur=tr.args)!==null&&ur!==void 0?ur:[],et),dr=s.getValue(tr.name,fr);return dr==null&&(dr=getScalarUsingMissingFieldHandlers(tr,fr,s,at,mt)),dr},set:nonUpdatableKeys.includes(tr.name)?void 0:function(sr){var ur,fr=getArgumentValues$2((ur=tr.args)!==null&&ur!==void 0?ur:[],et);s.setValue__UNSAFE(sr,tr.name,fr)}});break;case"InlineFragment":s.getType()===tr.type&&updateProxyFromSelections(a,s,et,tr.selections,at,mt);break;case"ClientExtension":updateProxyFromSelections(a,s,et,tr.selections,at,mt);break;case"FragmentSpread":break;case"Condition":case"ActorChange":case"InlineDataFragmentSpread":case"AliasedInlineFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"Defer":case"ModuleImport":case"RelayLiveResolver":case"RequiredField":case"CatchField":case"Stream":case"RelayResolver":throw new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.");default:throw tr.kind,new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.")}};for($t.s();!(Ct=$t.n()).done;){var Ft,jt;Dt()}}catch(Ut){$t.e(Ut)}finally{$t.f()}}function createSetterForPluralLinkedField(a,s,et,nt){return function(mt){var wt,$t=getArgumentValues$2((wt=a.args)!==null&&wt!==void 0?wt:[],s);if(mt==null)throw new Error("Do not assign null to plural linked fields; assign an empty array instead.");var Ct=mt.map(function(Dt){if(Dt==null)throw new Error("When assigning an array of items, none of the items should be null or undefined.");var Ft=Dt.__id;if(Ft==null)throw new Error("The __id field must be present on each item passed to the setter. This indicates a bug in Relay.");var jt=nt.get(Ft);if(jt==null)throw new Error("Did not find item with data id ".concat(Ft," in the store."));return jt});et.setLinkedRecords(Ct,a.name,$t)}}function createSetterForSingularLinkedField(a,s,et,nt){return function(mt){var wt,$t=getArgumentValues$2((wt=a.args)!==null&&wt!==void 0?wt:[],s);if(mt==null)et.setValue(mt,a.name,$t);else{var Ct=mt.__id;if(Ct==null)throw new Error("The __id field must be present on the argument. This indicates a bug in Relay.");var Dt=nt.get(Ct);if(Dt==null)throw new Error("Did not find item with data id ".concat(Ct," in the store."));et.setLinkedRecord(Dt,a.name,$t)}}}function createGetterForPluralLinkedField(a,s,et,nt,at){return function(){var mt,wt=getArgumentValues$2((mt=a.args)!==null&&mt!==void 0?mt:[],s),$t=et.getLinkedRecords(a.name,wt);return $t===void 0&&($t=getPluralLinkedRecordUsingMissingFieldHandlers(a,wt,et,nt,at)),$t!=null?$t.map(function(Ct){if(Ct!=null){var Dt={};return updateProxyFromSelections(Dt,Ct,s,a.selections,nt,at),Dt}else return Ct}):$t}}function createGetterForSingularLinkedField(a,s,et,nt,at){return function(){var mt,wt=getArgumentValues$2((mt=a.args)!==null&&mt!==void 0?mt:[],s),$t=et.getLinkedRecord(a.name,wt);if($t===void 0&&($t=getLinkedRecordUsingMissingFieldHandlers(a,wt,et,nt,at)),$t!=null){var Ct={};return updateProxyFromSelections(Ct,$t,s,a.selections,nt,at),Ct}else return $t}}function getLinkedRecordUsingMissingFieldHandlers(a,s,et,nt,at){var mt=(0,_createForOfIteratorHelper2$6.default)(at),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if($t.kind==="linked"){var Ct=$t.handle(a,et,s,nt);if(Ct!=null)return nt.get(Ct)}}}catch(Dt){mt.e(Dt)}finally{mt.f()}}function getPluralLinkedRecordUsingMissingFieldHandlers(a,s,et,nt,at){var mt=(0,_createForOfIteratorHelper2$6.default)(at),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if($t.kind==="pluralLinked"){var Ct=$t.handle(a,et,s,nt);if(Ct!=null)return Ct.map(function(Dt){if(Dt!=null)return nt.get(Dt)})}}}catch(Dt){mt.e(Dt)}finally{mt.f()}}function getScalarUsingMissingFieldHandlers(a,s,et,nt,at){var mt=(0,_createForOfIteratorHelper2$6.default)(at),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if($t.kind==="scalar"){var Ct=$t.handle(a,et,s,nt);if(Ct!==void 0)return Ct}}}catch(Dt){mt.e(Dt)}finally{mt.f()}}var createUpdatableProxy_1={createUpdatableProxy:createUpdatableProxy$2},_require$j=GraphQLTag$1,getFragment=_require$j.getFragment,_require2$f=RelayModernSelector$1,getVariablesFromFragment$1=_require2$f.getVariablesFromFragment,_require3$9=RelayStoreUtils_1,ID_KEY$1=_require3$9.ID_KEY,_require4$5=createUpdatableProxy_1,createUpdatableProxy$1=_require4$5.createUpdatableProxy,invariant$i=browser$1;function readUpdatableFragment(a,s,et,nt){var at=getFragment(a),mt=getVariablesFromFragment$1(at,s),wt=s[ID_KEY$1],$t=et.get(wt);return $t==null&&invariant$i(!1),{updatableData:createUpdatableProxy$1($t,mt,at.selections,et,nt)}}var readUpdatableFragment_1={readUpdatableFragment},_require$i=GraphQLTag$1,getUpdatableQuery=_require$i.getUpdatableQuery,_require2$e=createUpdatableProxy_1,createUpdatableProxy=_require2$e.createUpdatableProxy;function readUpdatableQuery(a,s,et,nt){var at=getUpdatableQuery(a);return{updatableData:createUpdatableProxy(et.getRoot(),s,at.fragment.selections,et,nt)}}var readUpdatableQuery_1={readUpdatableQuery},_require$h=ClientID,generateClientID$2=_require$h.generateClientID,_require2$d=RelayStoreUtils_1,getStableStorageKey=_require2$d.getStableStorageKey,invariant$h=browser$1,RelayRecordProxy$1=function(){function a(et,nt,at){this._dataID=at,this._mutator=nt,this._source=et}var s=a.prototype;return s.copyFieldsFrom=function(nt){this._mutator.copyFields(nt.getDataID(),this._dataID)},s.getDataID=function(){return this._dataID},s.getType=function(){var nt=this._mutator.getType(this._dataID);return nt==null&&invariant$h(!1),nt},s.getValue=function(nt,at){var mt=getStableStorageKey(nt,at);return this._mutator.getValue(this._dataID,mt)},s.setValue=function(nt,at,mt,wt){return isValidLeafValue(nt)||invariant$h(!1),this.setValue__UNSAFE(nt,at,mt,wt)},s.getErrors=function(nt,at){var mt=getStableStorageKey(nt,at);return this._mutator.getErrors(this._dataID,mt)},s.setValue__UNSAFE=function(nt,at,mt,wt){var $t=getStableStorageKey(at,mt);return this._mutator.setValue(this._dataID,$t,nt),wt!=null&&(wt.length===0?this._mutator.setErrors(this._dataID,$t):this._mutator.setErrors(this._dataID,$t,wt)),this},s.getLinkedRecord=function(nt,at){var mt=getStableStorageKey(nt,at),wt=this._mutator.getLinkedRecordID(this._dataID,mt);return wt!=null?this._source.get(wt):wt},s.setLinkedRecord=function(nt,at,mt){nt instanceof a||invariant$h(!1);var wt=getStableStorageKey(at,mt),$t=nt.getDataID();return this._mutator.setLinkedRecordID(this._dataID,wt,$t),this},s.getOrCreateLinkedRecord=function(nt,at,mt){var wt=this.getLinkedRecord(nt,mt);if(!wt){var $t,Ct=getStableStorageKey(nt,mt),Dt=generateClientID$2(this.getDataID(),Ct);wt=($t=this._source.get(Dt))!==null&&$t!==void 0?$t:this._source.create(Dt,at),this.setLinkedRecord(wt,nt,mt)}return wt},s.getLinkedRecords=function(nt,at){var mt=this,wt=getStableStorageKey(nt,at),$t=this._mutator.getLinkedRecordIDs(this._dataID,wt);return $t==null?$t:$t.map(function(Ct){return Ct!=null?mt._source.get(Ct):Ct})},s.setLinkedRecords=function(nt,at,mt){Array.isArray(nt)||invariant$h(!1);var wt=getStableStorageKey(at,mt),$t=nt.map(function(Ct){return Ct&&Ct.getDataID()});return this._mutator.setLinkedRecordIDs(this._dataID,wt,$t),this},s.invalidateRecord=function(){this._source.markIDForInvalidation(this._dataID)},a}();function isValidLeafValue(a){return a==null||typeof a!="object"||Array.isArray(a)&&a.every(isValidLeafValue)}var RelayRecordProxy_1=RelayRecordProxy$1,RelayModernRecord$8=RelayModernRecord$d,_require$g=RelayRecordState_1,EXISTENT$1=_require$g.EXISTENT,NONEXISTENT=_require$g.NONEXISTENT,_require2$c=RelayStoreUtils_1,ROOT_ID$3=_require2$c.ROOT_ID,ROOT_TYPE$2=_require2$c.ROOT_TYPE,_require3$8=readUpdatableFragment_1,_readUpdatableFragment$1=_require3$8.readUpdatableFragment,_require4$4=readUpdatableQuery_1,_readUpdatableQuery$1=_require4$4.readUpdatableQuery,RelayRecordProxy=RelayRecordProxy_1,invariant$g=browser$1,RelayRecordSourceProxy$2=function(){function a(et,nt,at,mt){this.__mutator=et,this._handlerProvider=at||null,this._proxies={},this._getDataID=nt,this._invalidatedStore=!1,this._idsMarkedForInvalidation=new Set,this._missingFieldHandlers=mt}var s=a.prototype;return s.publishSource=function(nt,at){var mt=this,wt=nt.getRecordIDs();wt.forEach(function($t){var Ct=nt.getStatus($t);if(Ct===EXISTENT$1){var Dt=nt.get($t);Dt&&(mt.__mutator.getStatus($t)!==EXISTENT$1&&mt.create($t,RelayModernRecord$8.getType(Dt)),mt.__mutator.copyFieldsFromRecord(Dt,$t))}else Ct===NONEXISTENT&&mt.delete($t)}),at&&at.length&&at.forEach(function($t){var Ct=mt._handlerProvider&&mt._handlerProvider($t.handle);Ct||invariant$g(!1),Ct.update(mt,$t)})},s.create=function(nt,at){this.__mutator.create(nt,at),delete this._proxies[nt];var mt=this.get(nt);return mt||invariant$g(!1),mt},s.delete=function(nt){nt===ROOT_ID$3&&invariant$g(!1),delete this._proxies[nt],this.__mutator.delete(nt)},s.get=function(nt){if(!this._proxies.hasOwnProperty(nt)){var at=this.__mutator.getStatus(nt);at===EXISTENT$1?this._proxies[nt]=new RelayRecordProxy(this,this.__mutator,nt):this._proxies[nt]=at===NONEXISTENT?null:void 0}return this._proxies[nt]},s.getRoot=function(){var nt=this.get(ROOT_ID$3);return nt||(nt=this.create(ROOT_ID$3,ROOT_TYPE$2)),nt&&nt.getType()===ROOT_TYPE$2||invariant$g(!1),nt},s.invalidateStore=function(){this._invalidatedStore=!0},s.isStoreMarkedForInvalidation=function(){return this._invalidatedStore},s.markIDForInvalidation=function(nt){this._idsMarkedForInvalidation.add(nt)},s.getIDsMarkedForInvalidation=function(){return this._idsMarkedForInvalidation},s.readUpdatableQuery=function(nt,at){return _readUpdatableQuery$1(nt,at,this,this._missingFieldHandlers)},s.readUpdatableFragment=function(nt,at){return _readUpdatableFragment$1(nt,at,this,this._missingFieldHandlers)},a}(),RelayRecordSourceProxy_1=RelayRecordSourceProxy$2,_require$f=RelayStoreUtils_1,ROOT_TYPE$1=_require$f.ROOT_TYPE,getStorageKey$4=_require$f.getStorageKey,_require2$b=readUpdatableFragment_1,_readUpdatableFragment=_require2$b.readUpdatableFragment,_require3$7=readUpdatableQuery_1,_readUpdatableQuery=_require3$7.readUpdatableQuery,invariant$f=browser$1,RelayRecordSourceSelectorProxy$1=function(){function a(et,nt,at,mt){this.__mutator=et,this.__recordSource=nt,this._readSelector=at,this._missingFieldHandlers=mt}var s=a.prototype;return s.create=function(nt,at){return this.__recordSource.create(nt,at)},s.delete=function(nt){this.__recordSource.delete(nt)},s.get=function(nt){return this.__recordSource.get(nt)},s.getRoot=function(){return this.__recordSource.getRoot()},s.getOperationRoot=function(){var nt=this.__recordSource.get(this._readSelector.dataID);return nt||(nt=this.__recordSource.create(this._readSelector.dataID,ROOT_TYPE$1)),nt},s._getRootField=function(nt,at,mt){var wt=nt.node.selections.find(function($t){return $t.kind==="LinkedField"&&$t.name===at||$t.kind==="RequiredField"&&$t.field.name===at});return wt&&wt.kind==="RequiredField"&&(wt=wt.field),wt&&wt.kind==="LinkedField"||invariant$f(!1),wt.plural!==mt&&invariant$f(!1),wt},s.getRootField=function(nt){var at=this._getRootField(this._readSelector,nt,!1),mt=getStorageKey$4(at,this._readSelector.variables);return this.getOperationRoot().getLinkedRecord(mt)},s.getPluralRootField=function(nt){var at=this._getRootField(this._readSelector,nt,!0),mt=getStorageKey$4(at,this._readSelector.variables);return this.getOperationRoot().getLinkedRecords(mt)},s.invalidateStore=function(){this.__recordSource.invalidateStore()},s.readUpdatableQuery=function(nt,at){return _readUpdatableQuery(nt,at,this,this._missingFieldHandlers)},s.readUpdatableFragment=function(nt,at){return _readUpdatableFragment(nt,at,this,this._missingFieldHandlers)},a}(),RelayRecordSourceSelectorProxy_1=RelayRecordSourceSelectorProxy$1,_require$e=RelayConcreteNode_1,RELAY_LIVE_RESOLVER$1=_require$e.RELAY_LIVE_RESOLVER,invariant$e=browser$1,NoopResolverCache$1=function(){function a(){}var s=a.prototype;return s.readFromCacheOrEvaluate=function(nt,at,mt,wt,$t){at.kind===RELAY_LIVE_RESOLVER$1&&invariant$e(!1);var Ct=wt(),Dt=Ct.resolverResult,Ft=Ct.snapshot,jt=Ct.error;return[Dt,void 0,jt,Ft,void 0,void 0]},s.invalidateDataIDs=function(nt){},s.ensureClientRecord=function(nt,at){invariant$e(!1)},s.notifyUpdatedSubscribers=function(nt){},a}(),ResolverCache={NoopResolverCache:NoopResolverCache$1},_interopRequireDefault$9=interopRequireDefaultExports.default,_objectSpread2$3=_interopRequireDefault$9(objectSpread2Exports),_defineProperty2$2=_interopRequireDefault$9(requireDefineProperty()),_objectWithoutPropertiesLoose2=_interopRequireDefault$9(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$5=_interopRequireDefault$9(createForOfIteratorHelperExports),_toConsumableArray2=_interopRequireDefault$9(toConsumableArrayExports),_excluded=["message"],_require$d=LiveResolverSuspenseSentinel,isSuspenseSentinel$2=_require$d.isSuspenseSentinel,RelayConcreteVariables$1=RelayConcreteVariables$2,RelayModernRecord$7=RelayModernRecord$d,_require2$a=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH=_require2$a.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY=_require2$a.FRAGMENT_OWNER_KEY,FRAGMENT_PROP_NAME_KEY=_require2$a.FRAGMENT_PROP_NAME_KEY,FRAGMENTS_KEY=_require2$a.FRAGMENTS_KEY,ID_KEY=_require2$a.ID_KEY,MODULE_COMPONENT_KEY=_require2$a.MODULE_COMPONENT_KEY,ROOT_ID$2=_require2$a.ROOT_ID,getArgumentValues$1=_require2$a.getArgumentValues,getModuleComponentKey$1=_require2$a.getModuleComponentKey,getStorageKey$3=_require2$a.getStorageKey,_require3$6=ResolverCache,NoopResolverCache=_require3$6.NoopResolverCache,_require4$3=ResolverFragments$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL=_require4$3.RESOLVER_FRAGMENT_ERRORED_SENTINEL,withResolverContext=_require4$3.withResolverContext,_require5$2=TypeID,generateTypeID$2=_require5$2.generateTypeID,invariant$d=browser$1;function read(a,s,et,nt){var at=new RelayReader$3(a,s,et??new NoopResolverCache,nt);return at.read()}var RelayReader$3=function(){function a(et,nt,at,mt){var wt,$t;this._clientEdgeTraversalPath=(wt=nt.clientEdgeTraversalPath)!==null&&wt!==void 0&&wt.length?(0,_toConsumableArray2.default)(nt.clientEdgeTraversalPath):[],this._missingClientEdges=[],this._missingLiveResolverFields=[],this._isMissingData=!1,this._isWithinUnmatchedTypeRefinement=!1,this._errorResponseFields=null,this._owner=nt.owner,this._useExecTimeResolvers=($t=this._owner.node.operation.use_exec_time_resolvers)!==null&&$t!==void 0?$t:!1,this._recordSource=et,this._seenRecords=new Set,this._selector=nt,this._variables=nt.variables,this._resolverCache=at,this._fragmentName=nt.node.name,this._updatedDataIDs=new Set,this._resolverContext=mt}var s=a.prototype;return s.read=function(){var nt,at=this._selector,mt=at.node,wt=at.dataID,$t=at.isWithinUnmatchedTypeRefinement,Ct=mt.abstractKey,Dt=this._recordSource.get(wt),Ft=!$t;if(Ft&&Ct==null&&Dt!=null&&(this._recordMatchesTypeCondition(Dt,mt.type)||(Ft=!1)),Ft&&Ct!=null&&Dt!=null){var jt=this._implementsInterface(Dt,Ct);jt===!1&&(Ft=!1)}this._isWithinUnmatchedTypeRefinement=!Ft;var Ut=this._traverse(mt,wt,null),tr=(nt=this._selector.node.metadata)===null||nt===void 0?void 0:nt.catchTo;return tr!=null&&(Ut=this._catchErrors(Ut,tr,null)),this._updatedDataIDs.size>0&&(this._resolverCache.notifyUpdatedSubscribers(this._updatedDataIDs),this._updatedDataIDs.clear()),{data:Ut,isMissingData:this._isMissingData&&Ft,missingClientEdges:this._missingClientEdges.length?this._missingClientEdges:null,missingLiveResolverFields:this._missingLiveResolverFields,seenRecords:this._seenRecords,selector:this._selector,errorResponseFields:this._errorResponseFields}},s._maybeAddErrorResponseFields=function(nt,at){var mt=RelayModernRecord$7.getErrors(nt,at);if(mt!=null){var wt=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var $t=(0,_createForOfIteratorHelper2$5.default)(mt),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt,Ft,jt,Ut=Ct.value;this._errorResponseFields.push({kind:"relay_field_payload.error",owner:wt,fieldPath:((Dt=Ut.path)!==null&&Dt!==void 0?Dt:[]).join("."),error:Ut,shouldThrow:(Ft=(jt=this._selector.node.metadata)===null||jt===void 0?void 0:jt.throwOnFieldError)!==null&&Ft!==void 0?Ft:!1,handled:!1})}}catch(tr){$t.e(tr)}finally{$t.f()}}},s._markDataAsMissing=function(nt){var at,mt;if(!this._isWithinUnmatchedTypeRefinement){this._errorResponseFields==null&&(this._errorResponseFields=[]);var wt=this._fragmentName;if(this._errorResponseFields.push((at=(mt=this._selector.node.metadata)===null||mt===void 0?void 0:mt.throwOnFieldError)!==null&&at!==void 0&&at?{kind:"missing_expected_data.throw",owner:wt,fieldPath:nt,handled:!1}:{kind:"missing_expected_data.log",owner:wt,fieldPath:nt}),this._isMissingData=!0,this._clientEdgeTraversalPath.length){var $t=this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1];$t!==null&&this._missingClientEdges.push({request:$t.readerClientEdge.operation,clientEdgeDestinationID:$t.clientEdgeDestinationID})}}},s._traverse=function(nt,at,mt){var wt=this._recordSource.get(at);if(this._seenRecords.add(at),wt==null)return wt===void 0&&this._markDataAsMissing("<record>"),wt;var $t=mt||{},Ct=this._traverseSelections(nt.selections,wt,$t);return Ct?$t:null},s._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$d(!1),this._variables[nt]},s._maybeReportUnexpectedNull=function(nt){if(nt.action!=="NONE"){var at=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var mt;if(nt.field.linkedField!=null){var wt;mt=(wt=nt.field.linkedField.alias)!==null&&wt!==void 0?wt:nt.field.linkedField.name}else{var $t;mt=($t=nt.field.alias)!==null&&$t!==void 0?$t:nt.field.name}switch(nt.action){case"THROW":this._errorResponseFields.push({kind:"missing_required_field.throw",fieldPath:mt,owner:at,handled:!1});return;case"LOG":this._errorResponseFields.push({kind:"missing_required_field.log",fieldPath:mt,owner:at});return;default:nt.action}}},s._handleRequiredFieldValue=function(nt,at){return at==null?(this._maybeReportUnexpectedNull(nt),!1):!0},s._catchErrors=function(nt,at,mt){var wt=nt;switch(at){case"RESULT":wt=this._asResult(nt);break;case"NULL":this._errorResponseFields!=null&&this._errorResponseFields.length>0&&(wt=null);break}var $t=this._errorResponseFields;if(this._errorResponseFields=mt,$t!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);for(var Ct=0;Ct<$t.length;Ct++)this._errorResponseFields.push(markFieldErrorHasHandled($t[Ct]))}return wt},s._asResult=function(nt){if(this._errorResponseFields==null||this._errorResponseFields.length===0)return{ok:!0,value:nt};var at=this._errorResponseFields.map(function(mt){switch(mt.kind){case"relay_field_payload.error":var wt=mt.error;wt.message;var $t=(0,_objectWithoutPropertiesLoose2.default)(wt,_excluded);return $t;case"missing_expected_data.throw":case"missing_expected_data.log":return{path:mt.fieldPath.split(".")};case"relay_resolver.error":return{message:"Relay: Error in resolver for field at ".concat(mt.fieldPath," in ").concat(mt.owner)};case"missing_required_field.throw":return{message:"Relay: Missing @required value at path '".concat(mt.fieldPath,"' in '").concat(mt.owner,"'.")};case"missing_required_field.log":return null;default:mt.kind,invariant$d(!1)}}).filter(Boolean);return{ok:!1,errors:at}},s._traverseSelections=function(nt,at,mt){for(var wt=0;wt<nt.length;wt++){var $t=nt[wt];switch($t.kind){case"RequiredField":var Ct=this._readClientSideDirectiveField($t,at,mt);if(!this._handleRequiredFieldValue($t,Ct))return!1;break;case"CatchField":{var Dt,Ft,jt,Ut=this._errorResponseFields;this._errorResponseFields=null;var tr=this._readClientSideDirectiveField($t,at,mt),ir=(Dt=(Ft=$t.field)===null||Ft===void 0?void 0:Ft.backingField)!==null&&Dt!==void 0?Dt:$t.field,sr=(jt=ir==null?void 0:ir.alias)!==null&&jt!==void 0?jt:ir==null?void 0:ir.name;sr==null&&invariant$d(!1),mt[sr]=this._catchErrors(tr,$t.to,Ut);break}case"ScalarField":this._readScalar($t,at,mt);break;case"LinkedField":$t.plural?this._readPluralLink($t,at,mt):this._readLink($t,at,mt);break;case"Condition":var ur=!!this._getVariableValue($t.condition);if(ur===$t.passingValue){var fr=this._traverseSelections($t.selections,at,mt);if(!fr)return!1}break;case"InlineFragment":{var dr=this._readInlineFragment($t,at,mt,!1);if(dr===!1)return!1;break}case"RelayLiveResolver":case"RelayResolver":{this._useExecTimeResolvers?this._readScalar($t,at,mt):this._readResolverField($t,at,mt);break}case"FragmentSpread":this._createFragmentPointer($t,at,mt);break;case"AliasedInlineFragmentSpread":{this._readAliasedInlineFragment($t,at,mt);break}case"ModuleImport":this._readModuleImport($t,at,mt);break;case"InlineDataFragmentSpread":this._createInlineDataOrResolverFragmentPointer($t,at,mt);break;case"Defer":case"ClientExtension":{var hr=this._isMissingData,vr=this._missingClientEdges.length;this._clientEdgeTraversalPath.push(null);var yr=this._traverseSelections($t.selections,at,mt);if(this._isMissingData=hr||this._missingClientEdges.length>vr||this._missingLiveResolverFields.length>0,this._clientEdgeTraversalPath.pop(),!yr)return!1;break}case"Stream":{var xr=this._traverseSelections($t.selections,at,mt);if(!xr)return!1;break}case"ActorChange":this._readActorChange($t,at,mt);break;case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":if(this._useExecTimeResolvers&&($t.backingField.kind==="RelayResolver"||$t.backingField.kind==="RelayLiveResolver")){var br=$t.linkedField;br.plural?this._readPluralLink(br,at,mt):this._readLink(br,at,mt)}else this._readClientEdge($t,at,mt);break;default:invariant$d(!1)}}return!0},s._readClientSideDirectiveField=function(nt,at,mt){switch(nt.field.kind){case"ScalarField":return this._readScalar(nt.field,at,mt);case"LinkedField":return nt.field.plural?this._readPluralLink(nt.field,at,mt):this._readLink(nt.field,at,mt);case"RelayResolver":return this._readResolverField(nt.field,at,mt);case"RelayLiveResolver":return this._readResolverField(nt.field,at,mt);case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":return this._readClientEdge(nt.field,at,mt);case"AliasedInlineFragmentSpread":return this._readAliasedInlineFragment(nt.field,at,mt);default:nt.field.kind,invariant$d(!1)}},s._readResolverField=function(nt,at,mt){var wt,$t=RelayModernRecord$7.getDataID(at),Ct=this._errorResponseFields;this._errorResponseFields=null;var Dt=this._readResolverFieldImpl(nt,$t),Ft=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name;return this._prependPreviousErrors(Ct,Ft),mt[Ft]=Dt,Dt},s._readResolverFieldImpl=function(nt,at){var mt=this,wt=nt.fragment,$t,Ct=function(dr){return $t!=null?{data:$t.data,isMissingData:$t.isMissingData,errorResponseFields:$t.errorResponseFields}:($t=read(mt._recordSource,dr,mt._resolverCache),{data:$t.data,isMissingData:$t.isMissingData,errorResponseFields:$t.errorResponseFields})},Dt=function(){if(wt!=null){var dr={__id:at,__fragmentOwner:mt._owner,__fragments:(0,_defineProperty2$2.default)({},wt.name,wt.args?getArgumentValues$1(wt.args,mt._variables):{})},hr={getDataForResolverFragment:Ct};return withResolverContext(hr,function(){var br=getResolverValue(nt,mt._variables,dr,mt._resolverContext),wr=br[0],Sr=br[1];return{resolverResult:wr,snapshot:$t,error:Sr}})}else{var vr=getResolverValue(nt,mt._variables,null,mt._resolverContext),yr=vr[0],xr=vr[1];return{resolverResult:yr,snapshot:void 0,error:xr}}},Ft=this._resolverCache.readFromCacheOrEvaluate(at,nt,this._variables,Dt,Ct),jt=Ft[0],Ut=Ft[1],tr=Ft[2],ir=Ft[3],sr=Ft[4],ur=Ft[5];return this._propagateResolverMetadata(nt.path,ir,tr,Ut,sr,ur),jt},s._propagateResolverMetadata=function(nt,at,mt,wt,$t,Ct){if(at!=null){if(at.missingClientEdges!=null){var Dt=(0,_createForOfIteratorHelper2$5.default)(at.missingClientEdges),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var jt=Ft.value;this._missingClientEdges.push(jt)}}catch(Sr){Dt.e(Sr)}finally{Dt.f()}}if(at.missingLiveResolverFields!=null){this._isMissingData=this._isMissingData||at.missingLiveResolverFields.length>0;var Ut=(0,_createForOfIteratorHelper2$5.default)(at.missingLiveResolverFields),tr;try{for(Ut.s();!(tr=Ut.n()).done;){var ir=tr.value;this._missingLiveResolverFields.push(ir)}}catch(Sr){Ut.e(Sr)}finally{Ut.f()}}if(at.errorResponseFields!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);var sr=(0,_createForOfIteratorHelper2$5.default)(at.errorResponseFields),ur;try{for(sr.s();!(ur=sr.n()).done;){var fr,dr=ur.value;((fr=this._selector.node.metadata)===null||fr===void 0?void 0:fr.throwOnFieldError)===!0?this._errorResponseFields.push(dr):this._errorResponseFields.push(markFieldErrorHasHandled(dr))}}catch(Sr){sr.e(Sr)}finally{sr.f()}}this._isMissingData=this._isMissingData||at.isMissingData}if(mt){var hr,vr,yr={kind:"relay_resolver.error",fieldPath:nt,owner:this._fragmentName,error:mt,shouldThrow:(hr=(vr=this._selector.node.metadata)===null||vr===void 0?void 0:vr.throwOnFieldError)!==null&&hr!==void 0?hr:!1,handled:!1};this._errorResponseFields==null?this._errorResponseFields=[yr]:this._errorResponseFields.push(yr)}if(wt!=null&&this._seenRecords.add(wt),$t!=null&&(this._isMissingData=!0,this._missingLiveResolverFields.push($t)),Ct!=null){var xr=(0,_createForOfIteratorHelper2$5.default)(Ct),br;try{for(xr.s();!(br=xr.n()).done;){var wr=br.value;this._updatedDataIDs.add(wr)}}catch(Sr){xr.e(Sr)}finally{xr.f()}}},s._readClientEdge=function(nt,at,mt){var wt=this,$t,Ct=nt.backingField;Ct.kind==="ClientExtension"&&invariant$d(!1);var Dt=($t=Ct.alias)!==null&&$t!==void 0?$t:Ct.name,Ft={};this._traverseSelections([Ct],at,Ft);var jt=Ft[Dt];if(jt==null||isSuspenseSentinel$2(jt))return mt[Dt]=jt,jt;if(nt.linkedField.plural){Array.isArray(jt)||invariant$d(!1);var Ut;nt.kind!=="ClientEdgeToClientObject"&&invariant$d(!1),nt.backingField.normalizationInfo==null?Ut=jt.map(function(Sr){var Cr,cr=(Cr=nt.concreteType)!==null&&Cr!==void 0?Cr:Sr.__typename;typeof cr!="string"&&invariant$d(!1);var Nt=extractIdFromResponse(Sr,Ct.path,wt._owner.identifier),Vt=wt._resolverCache.ensureClientRecord(Nt,cr),er=nt.modelResolvers;if(er!=null){var Yt=er[cr];Yt===void 0&&invariant$d(!1);var rr=wt._readResolverFieldImpl(Yt,Vt);return rr!=null?Vt:null}return Vt}):Ut=jt.map(function(Sr){return extractIdFromResponse(Sr,Ct.path,wt._owner.identifier)}),this._clientEdgeTraversalPath.push(null);var tr=this._readLinkedIds(nt.linkedField,Ut,at,mt);return this._clientEdgeTraversalPath.pop(),mt[Dt]=tr,tr}else{var ir,sr=extractIdFromResponse(jt,Ct.path,this._owner.identifier),ur,fr=(ir=nt.concreteType)!==null&&ir!==void 0?ir:jt.__typename,dr;nt.kind==="ClientEdgeToClientObject"?nt.backingField.normalizationInfo==null?(typeof fr!="string"&&invariant$d(!1),ur=this._resolverCache.ensureClientRecord(sr,fr),dr=null):(ur=sr,dr=null):(ur=sr,dr={readerClientEdge:nt,clientEdgeDestinationID:sr});var hr=nt.modelResolvers;if(hr!=null){typeof fr!="string"&&invariant$d(!1);var vr=hr[fr];vr===void 0&&invariant$d(!1);var yr=this._readResolverFieldImpl(vr,ur);if(yr==null)return mt[Dt]=null,null}this._clientEdgeTraversalPath.push(dr);var xr=mt[Dt];xr==null||typeof xr=="object"||invariant$d(!1);var br=this._errorResponseFields;this._errorResponseFields=null;var wr=this._traverse(nt.linkedField,ur,xr);return this._prependPreviousErrors(br,Dt),this._clientEdgeTraversalPath.pop(),mt[Dt]=wr,wr}},s._readScalar=function(nt,at,mt){var wt,$t=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name,Ct=getStorageKey$3(nt,this._variables),Dt=RelayModernRecord$7.getValue(at,Ct);return Dt===null?this._maybeAddErrorResponseFields(at,Ct):Dt===void 0&&this._markDataAsMissing($t),mt[$t]=Dt,Dt},s._readLink=function(nt,at,mt){var wt,$t=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name,Ct=getStorageKey$3(nt,this._variables),Dt=RelayModernRecord$7.getLinkedRecordID(at,Ct);if(Dt==null)return mt[$t]=Dt,Dt===null?this._maybeAddErrorResponseFields(at,Ct):Dt===void 0&&this._markDataAsMissing($t),Dt;var Ft=mt[$t];Ft==null||typeof Ft=="object"||invariant$d(!1);var jt=this._errorResponseFields;this._errorResponseFields=null;var Ut=this._traverse(nt,Dt,Ft);return this._prependPreviousErrors(jt,$t),mt[$t]=Ut,Ut},s._prependPreviousErrors=function(nt,at){if(this._errorResponseFields!=null){for(var mt=0;mt<this._errorResponseFields.length;mt++){var wt=this._errorResponseFields[mt];wt.owner===this._fragmentName&&(wt.kind==="missing_expected_data.throw"||wt.kind==="missing_expected_data.log"||wt.kind==="missing_required_field.throw"||wt.kind==="missing_required_field.log")&&(wt.fieldPath="".concat(at,".").concat(wt.fieldPath))}if(nt!=null){for(var $t=this._errorResponseFields.length-1;$t>=0;$t--)nt.push(this._errorResponseFields[$t]);this._errorResponseFields=nt}}else this._errorResponseFields=nt},s._readActorChange=function(nt,at,mt){var wt,$t=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name,Ct=getStorageKey$3(nt,this._variables),Dt=RelayModernRecord$7.getActorLinkedRecordID(at,Ct);if(Dt==null)return mt[$t]=Dt,Dt===void 0?this._markDataAsMissing($t):Dt===null&&this._maybeAddErrorResponseFields(at,Ct),mt[$t];var Ft=Dt[0],jt=Dt[1],Ut={};return this._createFragmentPointer(nt.fragmentSpread,RelayModernRecord$7.fromObject({__id:jt}),Ut),mt[$t]={__fragmentRef:Ut,__viewer:Ft},mt[$t]},s._readPluralLink=function(nt,at,mt){var wt=getStorageKey$3(nt,this._variables),$t=RelayModernRecord$7.getLinkedRecordIDs(at,wt);return $t===null&&this._maybeAddErrorResponseFields(at,wt),this._readLinkedIds(nt,$t,at,mt)},s._readLinkedIds=function(nt,at,mt,wt){var $t=this,Ct,Dt=(Ct=nt.alias)!==null&&Ct!==void 0?Ct:nt.name;if(at==null)return wt[Dt]=at,at===void 0&&this._markDataAsMissing(Dt),at;var Ft=wt[Dt];Ft==null||Array.isArray(Ft)||invariant$d(!1);var jt=this._errorResponseFields;this._errorResponseFields=null;var Ut=Ft||[];return at.forEach(function(tr,ir){if(tr==null){tr===void 0&&$t._markDataAsMissing(String(ir)),Ut[ir]=tr;return}var sr=Ut[ir];sr==null||typeof sr=="object"||invariant$d(!1);var ur=$t._errorResponseFields;$t._errorResponseFields=null,Ut[ir]=$t._traverse(nt,tr,sr),$t._prependPreviousErrors(ur,ir)}),this._prependPreviousErrors(jt,Dt),wt[Dt]=Ut,Ut},s._readModuleImport=function(nt,at,mt){var wt,$t=getModuleComponentKey$1(nt.documentName),Ct=(wt=nt.componentModuleProvider)!==null&&wt!==void 0?wt:RelayModernRecord$7.getValue(at,$t);if(Ct==null){Ct===void 0&&this._markDataAsMissing("<module-import>");return}this._createFragmentPointer({kind:"FragmentSpread",name:nt.fragmentName,args:nt.args},at,mt),mt[FRAGMENT_PROP_NAME_KEY]=nt.fragmentPropName,mt[MODULE_COMPONENT_KEY]=Ct},s._readAliasedInlineFragment=function(nt,at,mt){var wt=this._errorResponseFields;this._errorResponseFields=null;var $t=this._readInlineFragment(nt.fragment,at,{},!0);this._prependPreviousErrors(wt,nt.name),$t===!1&&($t=null),mt[nt.name]=$t},s._readInlineFragment=function(nt,at,mt,wt){if(nt.type==null){var $t=this._traverseSelections(nt.selections,at,mt);return $t===!1?!1:mt}var Ct=nt.abstractKey;if(Ct==null)if(this._recordMatchesTypeCondition(at,nt.type)){var $t=this._traverseSelections(nt.selections,at,mt);if(!$t)return!1}else return null;else{var Dt=this._implementsInterface(at,Ct);if(Dt===!1&&wt)return null;var Ft=this._isMissingData,jt=this._isWithinUnmatchedTypeRefinement;this._isWithinUnmatchedTypeRefinement=jt||Dt===!1;var Ut=this._traverseSelections(nt.selections,at,mt);if(this._isWithinUnmatchedTypeRefinement=jt,Dt===!1)return this._isMissingData=Ft,null;if(Dt==null)return;if(Ut===!1)return!1}return mt},s._recordMatchesTypeCondition=function(nt,at){var mt=RelayModernRecord$7.getType(nt);return mt!=null&&mt===at||RelayModernRecord$7.getDataID(nt)===ROOT_ID$2},s._createFragmentPointer=function(nt,at,mt){var wt=mt[FRAGMENTS_KEY];wt==null&&(wt=mt[FRAGMENTS_KEY]={}),typeof wt=="object"&&wt!=null||invariant$d(!1),mt[ID_KEY]==null&&(mt[ID_KEY]=RelayModernRecord$7.getDataID(at)),wt[nt.name]=getArgumentValues$1(nt.args,this._variables,this._isWithinUnmatchedTypeRefinement),mt[FRAGMENT_OWNER_KEY]=this._owner,this._clientEdgeTraversalPath.length>0&&this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1]!==null&&(mt[CLIENT_EDGE_TRAVERSAL_PATH]=(0,_toConsumableArray2.default)(this._clientEdgeTraversalPath))},s._createInlineDataOrResolverFragmentPointer=function(nt,at,mt){var wt=mt[FRAGMENTS_KEY];wt==null&&(wt=mt[FRAGMENTS_KEY]={}),typeof wt=="object"&&wt!=null||invariant$d(!1),mt[ID_KEY]==null&&(mt[ID_KEY]=RelayModernRecord$7.getDataID(at));var $t={},Ct=this._fragmentName;this._fragmentName=nt.name;var Dt=this._variables,Ft=nt.args?getArgumentValues$1(nt.args,this._variables):{};this._variables=RelayConcreteVariables$1.getFragmentVariables(nt,this._owner.variables,Ft),this._traverseSelections(nt.selections,at,$t),this._variables=Dt,this._fragmentName=Ct,wt[nt.name]=$t},s._implementsInterface=function(nt,at){var mt=RelayModernRecord$7.getType(nt),wt=this._recordSource.get(generateTypeID$2(mt)),$t=wt!=null?RelayModernRecord$7.getValue(wt,at):null;return $t==null&&this._markDataAsMissing("<abstract-type-hint>"),$t},a}();function markFieldErrorHasHandled(a){switch(a.kind){case"missing_expected_data.throw":case"missing_required_field.throw":case"relay_field_payload.error":case"relay_resolver.error":return(0,_objectSpread2$3.default)((0,_objectSpread2$3.default)({},a),{},{handled:!0});case"missing_expected_data.log":case"missing_required_field.log":return a;default:a.kind,invariant$d(!1)}}function getResolverValue(a,s,et,nt){var at=typeof a.resolverModule=="function"?a.resolverModule:a.resolverModule.default,mt=null,wt=null;try{var $t=[];a.fragment!=null&&$t.push(et);var Ct=a.args?getArgumentValues$1(a.args,s):void 0;$t.push(Ct),$t.push(nt),mt=at.apply(null,$t)}catch(Dt){mt=null,Dt!==RESOLVER_FRAGMENT_ERRORED_SENTINEL&&(wt=Dt)}return[mt,wt]}function extractIdFromResponse(a,s,et){if(typeof a=="string")return a;if(typeof a=="object"&&a!=null&&typeof a.id=="string")return a.id;invariant$d(!1)}var RelayReader_1={read},_global$ErrorUtils$ap,_global$ErrorUtils,RelayRecordSourceMutator$1=RelayRecordSourceMutator_1,RelayRecordSourceProxy$1=RelayRecordSourceProxy_1,RelayRecordSourceSelectorProxy=RelayRecordSourceSelectorProxy_1,RelayReader$2=RelayReader_1,RelayRecordSource$4=RelayRecordSource_1,invariant$c=browser$1,_global=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,applyWithGuard=(_global$ErrorUtils$ap=_global==null||(_global$ErrorUtils=_global.ErrorUtils)===null||_global$ErrorUtils===void 0?void 0:_global$ErrorUtils.applyWithGuard)!==null&&_global$ErrorUtils$ap!==void 0?_global$ErrorUtils$ap:function(a,s,et,nt,at){return a.apply(s,et)},RelayPublishQueue$1=function(){function a(et,nt,at,mt){this._hasStoreSnapshot=!1,this._handlerProvider=nt||null,this._pendingBackupRebase=!1,this._pendingData=new Set,this._pendingOptimisticUpdates=new Set,this._store=et,this._appliedOptimisticUpdates=new Set,this._gcHold=null,this._getDataID=at,this._missingFieldHandlers=mt}var s=a.prototype;return s.applyUpdate=function(nt){!this._appliedOptimisticUpdates.has(nt)&&!this._pendingOptimisticUpdates.has(nt)||invariant$c(!1),this._pendingOptimisticUpdates.add(nt)},s.revertUpdate=function(nt){this._pendingOptimisticUpdates.has(nt)?this._pendingOptimisticUpdates.delete(nt):this._appliedOptimisticUpdates.has(nt)&&(this._pendingBackupRebase=!0,this._appliedOptimisticUpdates.delete(nt))},s.revertAll=function(){this._pendingBackupRebase=!0,this._pendingOptimisticUpdates.clear(),this._appliedOptimisticUpdates.clear()},s.commitPayload=function(nt,at,mt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"payload",operation:nt,payload:at,updater:mt})},s.commitUpdate=function(nt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"updater",updater:nt})},s.commitSource=function(nt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"source",source:nt})},s.run=function(nt){var at=this._appliedOptimisticUpdates===0&&!!this._gcHold,mt=!this._pendingBackupRebase&&this._pendingOptimisticUpdates.size===0&&!at;if(mt)return[];this._pendingBackupRebase&&this._hasStoreSnapshot&&(this._store.restore(),this._hasStoreSnapshot=!1);var wt=this._commitData();return(this._pendingOptimisticUpdates.size||this._pendingBackupRebase&&this._appliedOptimisticUpdates.size)&&(this._hasStoreSnapshot||(this._store.snapshot(),this._hasStoreSnapshot=!0),this._applyUpdates()),this._pendingBackupRebase=!1,this._appliedOptimisticUpdates.size>0?this._gcHold||(this._gcHold=this._store.holdGC()):this._gcHold&&(this._gcHold.dispose(),this._gcHold=null),this._store.notify(nt,wt)},s._publishSourceFromPayload=function(nt){var at=this,mt=nt.payload,wt=nt.operation,$t=nt.updater,Ct=mt.source,Dt=mt.fieldPayloads,Ft=new RelayRecordSourceMutator$1(this._store.getSource(),Ct),jt=new RelayRecordSourceProxy$1(Ft,this._getDataID,this._handlerProvider,this._missingFieldHandlers);if(Dt&&Dt.length&&Dt.forEach(function(ur){var fr=at._handlerProvider&&at._handlerProvider(ur.handle);fr||invariant$c(!1),fr.update(jt,ur)}),$t){var Ut=wt.fragment;Ut==null&&invariant$c(!1);var tr=new RelayRecordSourceSelectorProxy(Ft,jt,Ut,this._missingFieldHandlers),ir=lookupSelector(Ct,Ut);$t(tr,ir)}var sr=jt.getIDsMarkedForInvalidation();return this._store.publish(Ct,sr),jt.isStoreMarkedForInvalidation()},s._commitData=function(){var nt=this;if(!this._pendingData.size)return!1;var at=!1;return this._pendingData.forEach(function(mt){if(mt.kind==="payload"){var wt=nt._publishSourceFromPayload(mt);at=at||wt}else if(mt.kind==="source"){var $t=mt.source;nt._store.publish($t)}else{var Ct=mt.updater,Dt=RelayRecordSource$4.create(),Ft=new RelayRecordSourceMutator$1(nt._store.getSource(),Dt),jt=new RelayRecordSourceProxy$1(Ft,nt._getDataID,nt._handlerProvider,nt._missingFieldHandlers);applyWithGuard(Ct,null,[jt],null,"RelayPublishQueue:commitData"),at=at||jt.isStoreMarkedForInvalidation();var Ut=jt.getIDsMarkedForInvalidation();nt._store.publish(Dt,Ut)}}),this._pendingData.clear(),at},s._applyUpdates=function(){var nt=this,at=RelayRecordSource$4.create(),mt=new RelayRecordSourceMutator$1(this._store.getSource(),at),wt=new RelayRecordSourceProxy$1(mt,this._getDataID,this._handlerProvider,this._missingFieldHandlers),$t=function(Dt){if(Dt.storeUpdater){var Ft=Dt.storeUpdater;applyWithGuard(Ft,null,[wt],null,"RelayPublishQueue:applyUpdates")}else{var jt=Dt.operation,Ut=Dt.payload,tr=Dt.updater,ir=Ut.source,sr=Ut.fieldPayloads;if(ir&&wt.publishSource(ir,sr),tr){var ur;ir&&(ur=lookupSelector(ir,jt.fragment));var fr=new RelayRecordSourceSelectorProxy(mt,wt,jt.fragment,nt._missingFieldHandlers);applyWithGuard(tr,null,[fr,ur],null,"RelayPublishQueue:applyUpdates")}}};this._pendingBackupRebase&&this._appliedOptimisticUpdates.size&&this._appliedOptimisticUpdates.forEach($t),this._pendingOptimisticUpdates.size&&(this._pendingOptimisticUpdates.forEach(function(Ct){$t(Ct),nt._appliedOptimisticUpdates.add(Ct)}),this._pendingOptimisticUpdates.clear()),this._store.publish(at)},a}();function lookupSelector(a,s){var et=RelayReader$2.read(a,s).data;return et}var RelayPublishQueue_1=RelayPublishQueue$1,_interopRequireDefault$8=interopRequireDefaultExports.default,_objectSpread2$2=_interopRequireDefault$8(objectSpread2Exports),RelayDefaultHandlerProvider$1=RelayDefaultHandlerProvider_1,_require$c=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1=_require$c.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier$1=_require$c.assertInternalActorIdentifier,RelayObservable$1=RelayObservable_1,wrapNetworkWithLogObserver=wrapNetworkWithLogObserver_1,RelayOperationTracker$1=RelayOperationTracker_1,registerEnvironmentWithDevTools=registerEnvironmentWithDevTools_1,defaultGetDataID$1=defaultGetDataID_1,defaultRelayFieldLogger=defaultRelayFieldLogger_1,normalizeResponse$1=normalizeResponse_1,OperationExecutor=OperationExecutor$1,RelayPublishQueue=RelayPublishQueue_1,RelayRecordSource$3=RelayRecordSource_1,RelayModernEnvironment$1=function(){function a(et){var nt=this,at,mt,wt,$t,Ct,Dt,Ft,jt,Ut,tr;this.configName=et.configName,this._treatMissingFieldsAsNull=et.treatMissingFieldsAsNull===!0;var ir=et.operationLoader;this.__log=(at=et.log)!==null&&at!==void 0?at:emptyFunction,this.relayFieldLogger=(mt=et.relayFieldLogger)!==null&&mt!==void 0?mt:defaultRelayFieldLogger,this._defaultRenderPolicy=(wt=et.UNSTABLE_defaultRenderPolicy)!==null&&wt!==void 0?wt:"partial",this._operationLoader=ir,this._operationExecutions=new Map,this._network=wrapNetworkWithLogObserver(this,et.network),this._getDataID=($t=et.getDataID)!==null&&$t!==void 0?$t:defaultGetDataID$1,this._missingFieldHandlers=(Ct=et.missingFieldHandlers)!==null&&Ct!==void 0?Ct:[],this._publishQueue=new RelayPublishQueue(et.store,(Dt=et.handlerProvider)!==null&&Dt!==void 0?Dt:RelayDefaultHandlerProvider$1,this._getDataID,this._missingFieldHandlers),this._scheduler=(Ft=et.scheduler)!==null&&Ft!==void 0?Ft:null,this._store=et.store,this.options=et.options,this._isServer=(jt=et.isServer)!==null&&jt!==void 0?jt:!1,this._normalizeResponse=(Ut=et.normalizeResponse)!==null&&Ut!==void 0?Ut:normalizeResponse$1,this.__setNet=function(sr){return nt._network=wrapNetworkWithLogObserver(nt,sr)},this._operationTracker=(tr=et.operationTracker)!==null&&tr!==void 0?tr:new RelayOperationTracker$1,this._shouldProcessClientComponents=et.shouldProcessClientComponents,registerEnvironmentWithDevTools(this)}var s=a.prototype;return s.getStore=function(){return this._store},s.getNetwork=function(){return this._network},s.getOperationTracker=function(){return this._operationTracker},s.getScheduler=function(){return this._scheduler},s.isRequestActive=function(nt){var at=this._operationExecutions.get(nt);return at==="active"},s.UNSTABLE_getDefaultRenderPolicy=function(){return this._defaultRenderPolicy},s.applyUpdate=function(nt){var at=this,mt=function(){at._scheduleUpdates(function(){at._publishQueue.revertUpdate(nt),at._publishQueue.run()})};return this._scheduleUpdates(function(){at._publishQueue.applyUpdate(nt),at._publishQueue.run()}),{dispose:mt}},s.revertUpdate=function(nt){var at=this;this._scheduleUpdates(function(){at._publishQueue.revertUpdate(nt),at._publishQueue.run()})},s.replaceUpdate=function(nt,at){var mt=this;this._scheduleUpdates(function(){mt._publishQueue.revertUpdate(nt),mt._publishQueue.applyUpdate(at),mt._publishQueue.run()})},s.applyMutation=function(nt){var at=this._execute({createSource:function(){return RelayObservable$1.create(function(wt){})},isClientPayload:!1,operation:nt.operation,optimisticConfig:nt,updater:null}).subscribe({});return{dispose:function(){return at.unsubscribe()}}},s.check=function(nt){return this._missingFieldHandlers.length===0&&!operationHasClientAbstractTypes(nt)?this._store.check(nt):this._checkSelectorAndHandleMissingFields(nt,this._missingFieldHandlers)},s.commitPayload=function(nt,at){this._execute({createSource:function(){return RelayObservable$1.from({data:at})},isClientPayload:!0,operation:nt,optimisticConfig:null,updater:null}).subscribe({})},s.commitUpdate=function(nt){var at=this;this._scheduleUpdates(function(){at._publishQueue.commitUpdate(nt),at._publishQueue.run()})},s.lookup=function(nt){return this._store.lookup(nt)},s.subscribe=function(nt,at){return this._store.subscribe(nt,at)},s.retain=function(nt){return this._store.retain(nt)},s.isServer=function(){return this._isServer},s._checkSelectorAndHandleMissingFields=function(nt,at){var mt=this,wt=RelayRecordSource$3.create(),$t=this._store.getSource(),Ct=this._store.check(nt,{handlers:at,defaultActorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getSourceForActor:function(Ft){return assertInternalActorIdentifier$1(Ft),$t},getTargetForActor:function(Ft){return assertInternalActorIdentifier$1(Ft),wt}});return wt.size()>0&&this._scheduleUpdates(function(){mt._publishQueue.commitSource(wt),mt._publishQueue.run()}),Ct},s._scheduleUpdates=function(nt){var at=this._scheduler;at!=null?at.schedule(nt):nt()},s.execute=function(nt){var at=this,mt=nt.operation;return this._execute({createSource:function(){return at.getNetwork().execute(mt.request.node.params,mt.request.variables,mt.request.cacheConfig||{},null)},isClientPayload:!1,operation:mt,optimisticConfig:null,updater:null})},s.executeSubscription=function(nt){var at=this,mt=nt.operation,wt=nt.updater;return this._execute({createSource:function(){return at.getNetwork().execute(mt.request.node.params,mt.request.variables,mt.request.cacheConfig||{},null)},isClientPayload:!1,operation:mt,optimisticConfig:null,updater:wt})},s.executeMutation=function(nt){var at=this,mt=nt.operation,wt=nt.optimisticResponse,$t=nt.optimisticUpdater,Ct=nt.updater,Dt=nt.uploadables,Ft;return(wt||$t)&&(Ft={operation:mt,response:wt,updater:$t}),this._execute({createSource:function(){return at.getNetwork().execute(mt.request.node.params,mt.request.variables,(0,_objectSpread2$2.default)((0,_objectSpread2$2.default)({},mt.request.cacheConfig),{},{force:!0}),Dt)},isClientPayload:!1,operation:mt,optimisticConfig:Ft,updater:Ct})},s.executeWithSource=function(nt){var at=nt.operation,mt=nt.source;return this._execute({createSource:function(){return mt},isClientPayload:!1,operation:at,optimisticConfig:null,updater:null})},s.toJSON=function(){var nt;return"RelayModernEnvironment(".concat((nt=this.configName)!==null&&nt!==void 0?nt:"",")")},s._execute=function(nt){var at=this,mt=nt.createSource,wt=nt.isClientPayload,$t=nt.operation,Ct=nt.optimisticConfig,Dt=nt.updater,Ft=this._publishQueue,jt=this._store;return RelayObservable$1.create(function(Ut){var tr=OperationExecutor.execute({actorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getDataID:at._getDataID,isClientPayload:wt,log:at.__log,operation:$t,operationExecutions:at._operationExecutions,operationLoader:at._operationLoader,operationTracker:at._operationTracker,optimisticConfig:Ct,getPublishQueue:function(sr){return assertInternalActorIdentifier$1(sr),Ft},scheduler:at._scheduler,shouldProcessClientComponents:at._shouldProcessClientComponents,sink:Ut,source:mt(),getStore:function(sr){return assertInternalActorIdentifier$1(sr),jt},treatMissingFieldsAsNull:at._treatMissingFieldsAsNull,updater:Dt,normalizeResponse:at._normalizeResponse});return function(){return tr.cancel()}})},a}();function operationHasClientAbstractTypes(a){return a.root.node.kind==="Operation"&&a.root.node.clientAbstractTypes!=null}RelayModernEnvironment$1.prototype["@@RelayModernEnvironment"]=!0;function emptyFunction(){}var RelayModernEnvironment_1=RelayModernEnvironment$1,resolvedPromise=Promise.resolve();function resolveImmediate$1(a){resolvedPromise.then(a).catch(throwNext)}function throwNext(a){setTimeout(function(){throw a},0)}var resolveImmediate_1=resolveImmediate$1,_require$b=RelayConcreteNode_1,LINKED_FIELD=_require$b.LINKED_FIELD,_require2$9=RelayStoreUtils_1,getHandleStorageKey$1=_require2$9.getHandleStorageKey,areEqual$1=areEqual_1,invariant$b=browser$1;function cloneRelayHandleSourceField$2(a,s,et){var nt=s.find(function(mt){return mt.kind===LINKED_FIELD&&mt.name===a.name&&mt.alias===a.alias&&areEqual$1(mt.args,a.args)});nt&&nt.kind===LINKED_FIELD||invariant$b(!1);var at=getHandleStorageKey$1(a,et);return{kind:"LinkedField",alias:nt.alias,name:at,storageKey:at,args:null,concreteType:nt.concreteType,plural:nt.plural,selections:nt.selections}}var cloneRelayHandleSourceField_1=cloneRelayHandleSourceField$2,_require$a=RelayConcreteNode_1,SCALAR_FIELD=_require$a.SCALAR_FIELD,_require2$8=RelayStoreUtils_1,getHandleStorageKey=_require2$8.getHandleStorageKey,areEqual=areEqual_1,invariant$a=browser$1;function cloneRelayScalarHandleSourceField$1(a,s,et){var nt=s.find(function(mt){return mt.kind===SCALAR_FIELD&&mt.name===a.name&&mt.alias===a.alias&&areEqual(mt.args,a.args)});nt&&nt.kind===SCALAR_FIELD||invariant$a(!1);var at=getHandleStorageKey(a,et);return{kind:"ScalarField",alias:nt.alias,name:at,storageKey:at,args:null}}var cloneRelayScalarHandleSourceField_1=cloneRelayScalarHandleSourceField$1,_interopRequireDefault$7=interopRequireDefaultExports.default,_createForOfIteratorHelper2$4=_interopRequireDefault$7(createForOfIteratorHelperExports),RelayRecordSourceMutator=RelayRecordSourceMutator_1,RelayRecordSourceProxy=RelayRecordSourceProxy_1,getOperation$1=getOperation_1,_require$9=ClientID,isClientID$1=_require$9.isClientID,cloneRelayHandleSourceField$1=cloneRelayHandleSourceField_1,cloneRelayScalarHandleSourceField=cloneRelayScalarHandleSourceField_1,_require2$7=RelayConcreteVariables$2,getLocalVariables$1=_require2$7.getLocalVariables,RelayModernRecord$6=RelayModernRecord$d,_require3$5=RelayRecordState_1,EXISTENT=_require3$5.EXISTENT,UNKNOWN=_require3$5.UNKNOWN,RelayStoreUtils$3=RelayStoreUtils_1,_require4$2=TypeID,TYPE_SCHEMA_TYPE=_require4$2.TYPE_SCHEMA_TYPE,generateTypeID$1=_require4$2.generateTypeID,invariant$9=browser$1,getModuleOperationKey$2=RelayStoreUtils$3.getModuleOperationKey,getStorageKey$2=RelayStoreUtils$3.getStorageKey,getArgumentValues=RelayStoreUtils$3.getArgumentValues;function check(a,s,et,nt,at,mt,wt,$t,Ct){Ct!=null&&Ct({name:"store.datachecker.start",selector:nt});var Dt=nt.dataID,Ft=nt.node,jt=nt.variables,Ut=new DataChecker$1(a,s,et,jt,at,mt,wt,$t),tr=Ut.check(Ft,Dt);return Ct!=null&&Ct({name:"store.datachecker.end",selector:nt}),tr}var DataChecker$1=function(){function a(et,nt,at,mt,wt,$t,Ct,Dt){this._getSourceForActor=et,this._getTargetForActor=nt,this._getDataID=Ct,this._source=et(at),this._mutatorRecordSourceProxyCache=new Map;var Ft=this._getMutatorAndRecordProxyForActor(at),jt=Ft[0],Ut=Ft[1];this._mostRecentlyInvalidatedAt=null,this._handlers=wt,this._mutator=jt,this._operationLoader=$t??null,this._recordSourceProxy=Ut,this._recordWasMissing=!1,this._variables=mt,this._shouldProcessClientComponents=Dt}var s=a.prototype;return s._getMutatorAndRecordProxyForActor=function(nt){var at=this._mutatorRecordSourceProxyCache.get(nt);if(at==null){var mt=this._getTargetForActor(nt),wt=new RelayRecordSourceMutator(this._getSourceForActor(nt),mt),$t=new RelayRecordSourceProxy(wt,this._getDataID,void 0,this._handlers);at=[wt,$t],this._mutatorRecordSourceProxyCache.set(nt,at)}return at},s.check=function(nt,at){return this._assignClientAbstractTypes(nt),this._traverse(nt,at),this._recordWasMissing===!0?{status:"missing",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}:{status:"available",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}},s._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$9(!1),this._variables[nt]},s._handleMissing=function(){this._recordWasMissing=!0},s._handleMissingScalarField=function(nt,at){if(!(nt.name==="id"&&nt.alias==null&&isClientID$1(at))){var mt=nt.args!=null?getArgumentValues(nt.args,this._variables):{},wt=(0,_createForOfIteratorHelper2$4.default)(this._handlers),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value;if(Ct.kind==="scalar"){var Dt=Ct.handle(nt,this._recordSourceProxy.get(at),mt,this._recordSourceProxy);if(Dt!==void 0)return Dt}}}catch(Ft){wt.e(Ft)}finally{wt.f()}this._handleMissing()}},s._handleMissingLinkField=function(nt,at){var mt=nt.args!=null?getArgumentValues(nt.args,this._variables):{},wt=(0,_createForOfIteratorHelper2$4.default)(this._handlers),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value;if(Ct.kind==="linked"){var Dt=Ct.handle(nt,this._recordSourceProxy.get(at),mt,this._recordSourceProxy);if(Dt!==void 0&&(Dt===null||this._mutator.getStatus(Dt)===EXISTENT))return Dt}}}catch(Ft){wt.e(Ft)}finally{wt.f()}this._handleMissing()},s._handleMissingPluralLinkField=function(nt,at){var mt=this,wt=nt.args!=null?getArgumentValues(nt.args,this._variables):{},$t=(0,_createForOfIteratorHelper2$4.default)(this._handlers),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value;if(Dt.kind==="pluralLinked"){var Ft=Dt.handle(nt,this._recordSourceProxy.get(at),wt,this._recordSourceProxy);if(Ft!=null){var jt=Ft.every(function(Ut){return Ut!=null&&mt._mutator.getStatus(Ut)===EXISTENT});if(jt)return Ft}else if(Ft===null)return null}}}catch(Ut){$t.e(Ut)}finally{$t.f()}this._handleMissing()},s._traverse=function(nt,at){var mt=this._mutator.getStatus(at);if(mt===UNKNOWN&&this._handleMissing(),mt===EXISTENT){var wt=this._source.get(at),$t=RelayModernRecord$6.getInvalidationEpoch(wt);$t!=null&&(this._mostRecentlyInvalidatedAt=this._mostRecentlyInvalidatedAt!=null?Math.max(this._mostRecentlyInvalidatedAt,$t):$t),this._traverseSelections(nt.selections,at)}},s._traverseSelections=function(nt,at){var mt=this;nt.forEach(function(wt){switch(wt.kind){case"ScalarField":mt._checkScalar(wt,at);break;case"LinkedField":wt.plural?mt._checkPluralLink(wt,at):mt._checkLink(wt,at);break;case"ActorChange":mt._checkActorChange(wt.linkedField,at);break;case"Condition":var $t=!!mt._getVariableValue(wt.condition);$t===wt.passingValue&&mt._traverseSelections(wt.selections,at);break;case"InlineFragment":{var Ct=wt.abstractKey;if(Ct==null){var Dt=mt._mutator.getType(at);Dt===wt.type&&mt._traverseSelections(wt.selections,at)}else{var Ft=mt._mutator.getType(at);Ft==null&&invariant$9(!1);var jt=generateTypeID$1(Ft),Ut=mt._mutator.getValue(jt,Ct);Ut===!0?mt._traverseSelections(wt.selections,at):Ut==null&&mt._handleMissing()}break}case"LinkedHandle":{var tr=cloneRelayHandleSourceField$1(wt,nt,mt._variables);tr.plural?mt._checkPluralLink(tr,at):mt._checkLink(tr,at);break}case"ScalarHandle":{var ir=cloneRelayScalarHandleSourceField(wt,nt,mt._variables);mt._checkScalar(ir,at);break}case"ModuleImport":mt._checkModuleImport(wt,at);break;case"Defer":case"Stream":mt._traverseSelections(wt.selections,at);break;case"FragmentSpread":var sr=mt._variables;mt._variables=getLocalVariables$1(mt._variables,wt.fragment.argumentDefinitions,wt.args),mt._traverseSelections(wt.fragment.selections,at),mt._variables=sr;break;case"ClientExtension":var ur=mt._recordWasMissing;mt._traverseSelections(wt.selections,at),mt._recordWasMissing=ur;break;case"TypeDiscriminator":var fr=wt.abstractKey,dr=mt._mutator.getType(at);dr==null&&invariant$9(!1);var hr=generateTypeID$1(dr),vr=mt._mutator.getValue(hr,fr);vr==null&&mt._handleMissing();break;case"ClientComponent":if(mt._shouldProcessClientComponents===!1)break;mt._traverseSelections(wt.fragment.selections,at);break;case"RelayResolver":mt._checkResolver(wt,at);break;case"RelayLiveResolver":mt._checkResolver(wt,at);break;case"ClientEdgeToClientObject":mt._checkResolver(wt.backingField,at);break;default:invariant$9(!1)}})},s._checkResolver=function(nt,at){nt.fragment&&this._traverseSelections([nt.fragment],at)},s._checkModuleImport=function(nt,at){var mt=this._operationLoader;mt===null&&invariant$9(!1);var wt=getModuleOperationKey$2(nt.documentName),$t=this._mutator.getValue(at,wt);if($t==null){$t===void 0&&this._handleMissing();return}var Ct=mt.get($t);if(Ct!=null){var Dt=getOperation$1(Ct),Ft=this._variables;this._variables=getLocalVariables$1(this._variables,Dt.argumentDefinitions,nt.args),this._traverse(Dt,at),this._variables=Ft}else this._handleMissing()},s._checkScalar=function(nt,at){var mt=getStorageKey$2(nt,this._variables),wt=this._mutator.getValue(at,mt);wt===void 0&&(wt=this._handleMissingScalarField(nt,at),wt!==void 0&&this._mutator.setValue(at,mt,wt))},s._checkLink=function(nt,at){var mt=getStorageKey$2(nt,this._variables),wt=this._mutator.getLinkedRecordID(at,mt);wt===void 0&&(wt=this._handleMissingLinkField(nt,at),wt!=null?this._mutator.setLinkedRecordID(at,mt,wt):wt===null&&this._mutator.setValue(at,mt,null)),wt!=null&&this._traverse(nt,wt)},s._checkPluralLink=function(nt,at){var mt=this,wt=getStorageKey$2(nt,this._variables),$t=this._mutator.getLinkedRecordIDs(at,wt);$t===void 0&&($t=this._handleMissingPluralLinkField(nt,at),$t!=null?this._mutator.setLinkedRecordIDs(at,wt,$t):$t===null&&this._mutator.setValue(at,wt,null)),$t&&$t.forEach(function(Ct){Ct!=null&&mt._traverse(nt,Ct)})},s._checkActorChange=function(nt,at){var mt=getStorageKey$2(nt,this._variables),wt=this._source.get(at),$t=wt!=null?RelayModernRecord$6.getActorLinkedRecordID(wt,mt):wt;if($t==null)$t===void 0&&this._handleMissing();else{var Ct=$t[0],Dt=$t[1],Ft=this._source,jt=this._mutator,Ut=this._recordSourceProxy,tr=this._getMutatorAndRecordProxyForActor(Ct),ir=tr[0],sr=tr[1];this._source=this._getSourceForActor(Ct),this._mutator=ir,this._recordSourceProxy=sr,this._assignClientAbstractTypes(nt),this._traverse(nt,Dt),this._source=Ft,this._mutator=jt,this._recordSourceProxy=Ut}},s._assignClientAbstractTypes=function(nt){var at=nt.clientAbstractTypes;if(at!=null)for(var mt=0,wt=Object.keys(at);mt<wt.length;mt++){var $t=wt[mt],Ct=(0,_createForOfIteratorHelper2$4.default)(at[$t]),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=generateTypeID$1(Ft);this._source.get(jt)==null&&this._mutator.create(jt,TYPE_SCHEMA_TYPE),this._mutator.getValue(jt,$t)==null&&this._mutator.setValue(jt,$t,!0)}}catch(Ut){Ct.e(Ut)}finally{Ct.f()}}},a}(),DataChecker_1={check},shallowFreeze$1=function a(s){typeof s=="object"&&s!=null&&(Array.isArray(s)||s.constructor===Object)&&Object.freeze(s)},RelayModernRecord$5=RelayModernRecord$d,_require$8=RelayStoreUtils_1,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1=_require$8.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,invariant$8=browser$1;function getOutputTypeRecordIDs$2(a){var s=RelayModernRecord$5.getValue(a,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1);return s==null?null:(s instanceof Set||invariant$8(!1),s)}var getOutputTypeRecordIDs_1=getOutputTypeRecordIDs$2;function isLiveStateValue$1(a){return a!=null&&typeof a=="object"&&typeof a.read=="function"&&typeof a.subscribe=="function"}var isLiveStateValue_1=isLiveStateValue$1,_interopRequireDefault$6=interopRequireDefaultExports.default,_createForOfIteratorHelper2$3=_interopRequireDefault$6(createForOfIteratorHelperExports),recycleNodesInto$2=recycleNodesInto_1,_require$7=RelayConcreteNode_1,RELAY_LIVE_RESOLVER=_require$7.RELAY_LIVE_RESOLVER,RelayFeatureFlags$3=RelayFeatureFlags_1,shallowFreeze=shallowFreeze$1,_require2$6=ClientID,generateClientID$1=_require2$6.generateClientID,generateClientObjectClientID=_require2$6.generateClientObjectClientID,RelayModernRecord$4=RelayModernRecord$d,_require3$4=RelayModernSelector$1,createNormalizationSelector=_require3$4.createNormalizationSelector,RelayRecordSource$2=RelayRecordSource_1,_require4$1=RelayResponseNormalizer_1,normalize$1=_require4$1.normalize,_require5$1=RelayStoreUtils_1,RELAY_RESOLVER_ERROR_KEY=_require5$1.RELAY_RESOLVER_ERROR_KEY,RELAY_RESOLVER_INVALIDATION_KEY=_require5$1.RELAY_RESOLVER_INVALIDATION_KEY,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS=_require5$1.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,RELAY_RESOLVER_SNAPSHOT_KEY=_require5$1.RELAY_RESOLVER_SNAPSHOT_KEY,RELAY_RESOLVER_VALUE_KEY=_require5$1.RELAY_RESOLVER_VALUE_KEY,getStorageKey$1=_require5$1.getStorageKey,getOutputTypeRecordIDs$1=getOutputTypeRecordIDs_1,isLiveStateValue=isLiveStateValue_1,_require6=LiveResolverSuspenseSentinel,isSuspenseSentinel$1=_require6.isSuspenseSentinel,invariant$7=browser$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1="__resolverLiveStateSubscription",RELAY_RESOLVER_LIVE_STATE_VALUE="__resolverLiveStateValue",RELAY_RESOLVER_LIVE_STATE_DIRTY="__resolverLiveStateDirty",RELAY_RESOLVER_RECORD_TYPENAME="__RELAY_RESOLVER__",MODEL_PROPERTY_NAME="__relay_model_instance";function addDependencyEdge(a,s,et){var nt=a.get(s);nt||(nt=new Set,a.set(s,nt)),nt.add(et)}var LiveResolverCache$1=function(){function a(et,nt){this._resolverIDToRecordIDs=new Map,this._recordIDToResolverIDs=new Map,this._getRecordSource=et,this._store=nt,this._handlingBatch=!1,this._liveResolverBatchRecordSource=null}var s=a.prototype;return s.readFromCacheOrEvaluate=function(nt,at,mt,wt,$t){var Ct=this._getRecordSource(),Dt=expectRecord(Ct,nt),Ft=getStorageKey$1(at,mt),jt=RelayModernRecord$4.getLinkedRecordID(Dt,Ft),Ut=jt==null?null:Ct.get(jt),tr;if(Ut==null||this._isInvalid(Ut,$t)){var ir;Ut!=null&&maybeUnsubscribeFromLiveState(Ut),jt=(ir=jt)!==null&&ir!==void 0?ir:generateClientID$1(nt,Ft),Ut=RelayModernRecord$4.create(jt,RELAY_RESOLVER_RECORD_TYPENAME);var sr=wt();if(RelayModernRecord$4.setValue(Ut,RELAY_RESOLVER_SNAPSHOT_KEY,sr.snapshot),RelayModernRecord$4.setValue(Ut,RELAY_RESOLVER_ERROR_KEY,sr.error),at.kind===RELAY_LIVE_RESOLVER){if(sr.resolverResult!=null){sr.error!=null&&invariant$7(!1);var ur=sr.resolverResult;tr=this._setLiveStateValue(Ut,jt,ur,at,mt)}}else tr=this._setResolverValue(Ut,sr.resolverResult,at,mt);Ct.set(jt,Ut);var fr=expectRecord(Ct,nt),dr=RelayModernRecord$4.clone(fr);if(RelayModernRecord$4.setLinkedRecordID(dr,Ft,jt),Ct.set(nt,dr),at.fragment!=null){var hr,vr=getStorageKey$1(at.fragment,mt),yr=generateClientID$1(nt,vr);addDependencyEdge(this._resolverIDToRecordIDs,yr,jt),addDependencyEdge(this._recordIDToResolverIDs,nt,yr);var xr=(hr=sr.snapshot)===null||hr===void 0?void 0:hr.seenRecords;if(xr!=null){var br=(0,_createForOfIteratorHelper2$3.default)(xr),wr;try{for(br.s();!(wr=br.n()).done;){var Sr=wr.value;addDependencyEdge(this._recordIDToResolverIDs,Sr,yr)}}catch(ar){br.e(ar)}finally{br.f()}}}}else if(at.kind===RELAY_LIVE_RESOLVER&&RelayModernRecord$4.getValue(Ut,RELAY_RESOLVER_LIVE_STATE_DIRTY)){var Cr;jt=(Cr=jt)!==null&&Cr!==void 0?Cr:generateClientID$1(nt,Ft),Ut=RelayModernRecord$4.clone(Ut);var cr=RelayModernRecord$4.getValue(Ut,RELAY_RESOLVER_LIVE_STATE_VALUE);isLiveStateValue(cr)||invariant$7(!1),tr=this._setLiveResolverValue(Ut,cr,at,mt),RelayModernRecord$4.setValue(Ut,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),Ct.set(jt,Ut)}var Nt=this._getResolverValue(Ut),Vt=RelayModernRecord$4.getValue(Ut,RELAY_RESOLVER_SNAPSHOT_KEY),er=RelayModernRecord$4.getValue(Ut,RELAY_RESOLVER_ERROR_KEY),Yt=null;if(isSuspenseSentinel$1(Nt)){var rr;Yt=(rr=jt)!==null&&rr!==void 0?rr:generateClientID$1(nt,Ft)}return[Nt,jt,er,Vt,Yt,tr]},s.getLiveResolverPromise=function(nt){var at=this._getRecordSource(),mt=at.get(nt);mt==null&&invariant$7(!1);var wt=RelayModernRecord$4.getValue(mt,RELAY_RESOLVER_LIVE_STATE_VALUE);return new Promise(function($t){var Ct=wt.subscribe(function(){Ct(),$t()})})},s._setLiveStateValue=function(nt,at,mt,wt,$t){var Ct=this._makeLiveStateHandler(at),Dt=mt.subscribe(Ct);RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_LIVE_STATE_VALUE,mt);var Ft=this._setLiveResolverValue(nt,mt,wt,$t);return RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1,Dt),Ft},s._makeLiveStateHandler=function(nt){var at=this;return function(){var mt=at._getRecordSource(),wt=mt.get(nt);if(wt&&RelayModernRecord$4.hasValue(wt,RELAY_RESOLVER_LIVE_STATE_VALUE)){var $t=RelayModernRecord$4.clone(wt);RelayModernRecord$4.setValue($t,RELAY_RESOLVER_LIVE_STATE_DIRTY,!0),at._setLiveResolverUpdate(nt,$t)}}},s._setLiveResolverUpdate=function(nt,at){if(this._handlingBatch)this._liveResolverBatchRecordSource==null&&(this._liveResolverBatchRecordSource=RelayRecordSource$2.create()),this._liveResolverBatchRecordSource.set(nt,at);else{var mt=RelayRecordSource$2.create();mt.set(nt,at),this._store.publish(mt),this._store.notify()}},s.batchLiveStateUpdates=function(nt){this._handlingBatch&&invariant$7(!1),this._handlingBatch=!0;try{nt()}finally{this._liveResolverBatchRecordSource!=null&&(this._store.publish(this._liveResolverBatchRecordSource),this._store.notify()),this._liveResolverBatchRecordSource=null,this._handlingBatch=!1}},s._setLiveResolverValue=function(nt,at,mt,wt){var $t=null,Ct=null;try{$t=at.read()}catch(Dt){Ct=Dt}return RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_ERROR_KEY,Ct),this._setResolverValue(nt,$t,mt,wt)},s._setResolverValue=function(nt,at,mt,wt){var $t=mt.normalizationInfo,Ct=null;if(at!=null&&$t!=null&&!isSuspenseSentinel$1(at)){var Dt,Ft=getOutputTypeRecordIDs$1(nt),jt=new Set,Ut=this._getRecordSource();if($t.plural){Array.isArray(at)||invariant$7(!1),Dt=[];for(var tr=RelayRecordSource$2.create(),ir=0;ir<at.length;ir++){var sr=at[ir];if(sr!=null){typeof sr!="object"&&invariant$7(!1);var ur=getConcreteTypename($t,sr),fr=generateClientObjectClientID(ur,RelayModernRecord$4.getDataID(nt),ir),dr=this._normalizeOutputTypeValue(fr,sr,wt,$t,[mt.path,String(ir)],ur),hr=(0,_createForOfIteratorHelper2$3.default)(dr.getRecordIDs()),vr;try{for(hr.s();!(vr=hr.n()).done;){var yr=vr.value;tr.set(yr,expectRecord(dr,yr)),jt.add(yr)}}catch(Nt){hr.e(Nt)}finally{hr.f()}Dt.push(fr)}}Ct=updateCurrentSource(Ut,tr,Ft)}else{typeof at!="object"&&invariant$7(!1);var xr=getConcreteTypename($t,at),br=generateClientObjectClientID(xr,RelayModernRecord$4.getDataID(nt)),wr=this._normalizeOutputTypeValue(br,at,wt,$t,[mt.path],xr),Sr=(0,_createForOfIteratorHelper2$3.default)(wr.getRecordIDs()),Cr;try{for(Sr.s();!(Cr=Sr.n()).done;){var cr=Cr.value;jt.add(cr)}}catch(Nt){Sr.e(Nt)}finally{Sr.f()}Dt=br,Ct=updateCurrentSource(Ut,wr,Ft)}RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,jt),shallowFreeze(Dt),RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_VALUE_KEY,Dt)}else shallowFreeze(at),RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_VALUE_KEY,at);return Ct},s.notifyUpdatedSubscribers=function(nt){this._store.__notifyUpdatedSubscribers(nt)},s._getResolverValue=function(nt){return RelayModernRecord$4.getValue(nt,RELAY_RESOLVER_VALUE_KEY)},s.invalidateDataIDs=function(nt){for(var at=this._getRecordSource(),mt=new Set,wt=Array.from(nt);wt.length;){var $t=wt.pop();mt.add($t),nt.add($t);var Ct=this._recordIDToResolverIDs.get($t);if(Ct!=null){var Dt=(0,_createForOfIteratorHelper2$3.default)(Ct),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var jt=Ft.value;if(!mt.has(jt)){mt.add(jt);var Ut=this._resolverIDToRecordIDs.get(jt);if(Ut==null)continue;var tr=(0,_createForOfIteratorHelper2$3.default)(Ut),ir;try{for(tr.s();!(ir=tr.n()).done;){var sr=ir.value;markInvalidatedResolverRecord(sr,at),mt.has(sr)||(mt.add(sr),wt.push(sr))}}catch(ur){tr.e(ur)}finally{tr.f()}}}}catch(ur){Dt.e(ur)}finally{Dt.f()}}}},s._isInvalid=function(nt,at){if(!RelayModernRecord$4.getValue(nt,RELAY_RESOLVER_INVALIDATION_KEY))return!1;var mt=RelayModernRecord$4.getValue(nt,RELAY_RESOLVER_SNAPSHOT_KEY),wt=mt==null?void 0:mt.data,$t=mt==null?void 0:mt.selector;if(wt==null||$t==null)return!0;var Ct=at($t),Dt=Ct.data,Ft=recycleNodesInto$2(wt,Dt);if(Ft!==wt)return!0;if(RelayFeatureFlags$3.MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD){var jt=RelayModernRecord$4.clone(nt);RelayModernRecord$4.setValue(jt,RELAY_RESOLVER_INVALIDATION_KEY,!1);var Ut=this._getRecordSource();Ut.set(RelayModernRecord$4.getDataID(nt),jt)}return!1},s._normalizeOutputTypeValue=function(nt,at,mt,wt,$t,Ct){var Dt=RelayRecordSource$2.create();switch(wt.kind){case"OutputType":{var Ft=RelayModernRecord$4.create(nt,Ct);Dt.set(nt,Ft);var jt=createNormalizationSelector(wt.normalizationNode,nt,mt),Ut=this._store.__getNormalizationOptions($t);return normalize$1(Dt,jt,at,Ut).source}case"WeakModel":{var tr=RelayModernRecord$4.create(nt,Ct);return RelayModernRecord$4.setValue(tr,MODEL_PROPERTY_NAME,at),Dt.set(nt,tr),Dt}default:wt.kind,invariant$7(!1)}},s.ensureClientRecord=function(nt,at){var mt=generateClientObjectClientID(at,nt),wt=this._getRecordSource();if(!wt.has(mt)){var $t=RelayModernRecord$4.create(mt,at);RelayModernRecord$4.setValue($t,"id",nt),wt.set(mt,$t)}return mt},s.unsubscribeFromLiveResolverRecords=function(nt){return unsubscribeFromLiveResolverRecordsImpl(this._getRecordSource(),nt)},s.invalidateResolverRecords=function(nt){if(nt.size!==0){var at=(0,_createForOfIteratorHelper2$3.default)(nt),mt;try{for(at.s();!(mt=at.n()).done;){var wt=mt.value,$t=this._getRecordSource().get(wt);$t!=null&&isResolverRecord($t)&&this._getRecordSource().delete(wt)}}catch(Ct){at.e(Ct)}finally{at.f()}}},a}();function updateCurrentSource(a,s,et){var nt=new Set;if(et!=null){var at=(0,_createForOfIteratorHelper2$3.default)(et),mt;try{for(at.s();!(mt=at.n()).done;){var wt=mt.value;s.has(wt)||(nt.add(wt),a.remove(wt))}}catch(tr){at.e(tr)}finally{at.f()}}var $t=(0,_createForOfIteratorHelper2$3.default)(s.getRecordIDs()),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value,Ft=expectRecord(s,Dt);if(a.has(Dt)){var jt=expectRecord(a,Dt),Ut=RelayModernRecord$4.update(jt,Ft);Ut!==jt&&(nt.add(Dt),a.set(Dt,Ut),markInvalidatedLinkedResolverRecords(jt,a))}else a.set(Dt,Ft)}}catch(tr){$t.e(tr)}finally{$t.f()}return nt}function getAllLinkedRecordIds(a){var s=new Set;return RelayModernRecord$4.getFields(a).forEach(function(et){if(RelayModernRecord$4.hasLinkedRecordID(a,et)){var nt=RelayModernRecord$4.getLinkedRecordID(a,et);nt!=null&&s.add(nt)}else if(RelayModernRecord$4.hasLinkedRecordIDs(a,et)){var at;(at=RelayModernRecord$4.getLinkedRecordIDs(a,et))===null||at===void 0||at.forEach(function(mt){mt!=null&&s.add(mt)})}}),s}function markInvalidatedResolverRecord(a,s){var et=s.get(a);if(et){var nt=RelayModernRecord$4.clone(et);RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_INVALIDATION_KEY,!0),s.set(a,nt)}}function markInvalidatedLinkedResolverRecords(a,s){var et=getAllLinkedRecordIds(a),nt=(0,_createForOfIteratorHelper2$3.default)(et),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value,wt=s.get(mt);wt!=null&&isResolverRecord(wt)&&markInvalidatedResolverRecord(mt,s)}}catch($t){nt.e($t)}finally{nt.f()}}function unsubscribeFromLiveResolverRecordsImpl(a,s){if(s.size!==0){var et=(0,_createForOfIteratorHelper2$3.default)(s),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value,mt=a.get(at);mt!=null&&isResolverRecord(mt)&&maybeUnsubscribeFromLiveState(mt)}}catch(wt){et.e(wt)}finally{et.f()}}}function isResolverRecord(a){return RelayModernRecord$4.getType(a)===RELAY_RESOLVER_RECORD_TYPENAME}function maybeUnsubscribeFromLiveState(a){var s=RelayModernRecord$4.getValue(a,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1);s!=null&&s()}function expectRecord(a,s){var et=a.get(s);return et==null&&invariant$7(!1),et}function getUpdatedDataIDs$1(a){return a}function getConcreteTypename(a,s){var et,nt=(et=a.concreteType)!==null&&et!==void 0?et:s.__typename;return nt==null&&invariant$7(!1),nt}var LiveResolverCache_1={LiveResolverCache:LiveResolverCache$1,getUpdatedDataIDs:getUpdatedDataIDs$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY:RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1},_interopRequireDefault$5=interopRequireDefaultExports.default,_objectSpread2$1=_interopRequireDefault$5(objectSpread2Exports),RelayModernRecord$3=RelayModernRecord$d,RelayRecordSource$1=RelayRecordSource_1,invariant$6=browser$1,UNPUBLISH_RECORD_SENTINEL=RelayModernRecord$3.fromObject(Object.freeze({__UNPUBLISH_RECORD_SENTINEL:!0})),RelayOptimisticRecordSource$1=function(){function a(et){this._base=et,this._sink=RelayRecordSource$1.create()}var s=a.prototype;return s.has=function(nt){if(this._sink.has(nt)){var at=this._sink.get(nt);return at!==UNPUBLISH_RECORD_SENTINEL}else return this._base.has(nt)},s.get=function(nt){if(this._sink.has(nt)){var at=this._sink.get(nt);return at===UNPUBLISH_RECORD_SENTINEL?void 0:at}else return this._base.get(nt)},s.getStatus=function(nt){var at=this.get(nt);return at===void 0?"UNKNOWN":at===null?"NONEXISTENT":"EXISTENT"},s.clear=function(){this._base=RelayRecordSource$1.create(),this._sink.clear()},s.delete=function(nt){this._sink.delete(nt)},s.remove=function(nt){this._sink.set(nt,UNPUBLISH_RECORD_SENTINEL)},s.set=function(nt,at){this._sink.set(nt,at)},s.getRecordIDs=function(){return Object.keys(this.toJSON())},s.size=function(){return Object.keys(this.toJSON()).length},s.toJSON=function(){var nt=this,at=(0,_objectSpread2$1.default)({},this._base.toJSON());return this._sink.getRecordIDs().forEach(function(mt){var wt=nt.get(mt);wt===void 0?delete at[mt]:at[mt]=RelayModernRecord$3.toJSON(wt)}),at},s.getOptimisticRecordIDs=function(){return new Set(this._sink.getRecordIDs())},a}();function create(a){return new RelayOptimisticRecordSource$1(a)}function getOptimisticRecordIDs(a){return a instanceof RelayOptimisticRecordSource$1||invariant$6(!1),a.getOptimisticRecordIDs()}var RelayOptimisticRecordSource_1={create,getOptimisticRecordIDs},_interopRequireDefault$4=interopRequireDefaultExports.default,_createForOfIteratorHelper2$2=_interopRequireDefault$4(createForOfIteratorHelperExports),getOperation=getOperation_1,cloneRelayHandleSourceField=cloneRelayHandleSourceField_1,getOutputTypeRecordIDs=getOutputTypeRecordIDs_1,_require$6=RelayConcreteVariables$2,getLocalVariables=_require$6.getLocalVariables,RelayModernRecord$2=RelayModernRecord$d,RelayStoreUtils$2=RelayStoreUtils_1,_require2$5=TypeID,generateTypeID=_require2$5.generateTypeID,invariant$5=browser$1,getStorageKey=RelayStoreUtils$2.getStorageKey,getModuleOperationKey$1=RelayStoreUtils$2.getModuleOperationKey;function mark(a,s,et,nt,at){var mt=s.dataID,wt=s.node,$t=s.variables,Ct=new RelayReferenceMarker$1(a,$t,et,nt,at);Ct.mark(wt,mt)}var RelayReferenceMarker$1=function(){function a(et,nt,at,mt,wt){this._operationLoader=mt??null,this._operationName=null,this._recordSource=et,this._references=at,this._variables=nt,this._shouldProcessClientComponents=wt}var s=a.prototype;return s.mark=function(nt,at){(nt.kind==="Operation"||nt.kind==="SplitOperation")&&(this._operationName=nt.name),this._traverse(nt,at)},s._traverse=function(nt,at){this._references.add(at);var mt=this._recordSource.get(at);mt!=null&&this._traverseSelections(nt.selections,mt)},s._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$5(!1),this._variables[nt]},s._traverseSelections=function(nt,at){var mt=this;nt.forEach(function(wt){switch(wt.kind){case"ActorChange":mt._traverseLink(wt.linkedField,at);break;case"LinkedField":wt.plural?mt._traversePluralLink(wt,at):mt._traverseLink(wt,at);break;case"Condition":var $t=!!mt._getVariableValue(wt.condition);$t===wt.passingValue&&mt._traverseSelections(wt.selections,at);break;case"InlineFragment":if(wt.abstractKey==null){var Ct=RelayModernRecord$2.getType(at);(Ct!=null&&Ct===wt.type||Ct===RelayStoreUtils$2.ROOT_TYPE)&&mt._traverseSelections(wt.selections,at)}else{var Dt=RelayModernRecord$2.getType(at),Ft=generateTypeID(Dt);mt._references.add(Ft),mt._traverseSelections(wt.selections,at)}break;case"FragmentSpread":var jt=mt._variables;mt._variables=getLocalVariables(mt._variables,wt.fragment.argumentDefinitions,wt.args),mt._traverseSelections(wt.fragment.selections,at),mt._variables=jt;break;case"LinkedHandle":var Ut=cloneRelayHandleSourceField(wt,nt,mt._variables);Ut.plural?mt._traversePluralLink(Ut,at):mt._traverseLink(Ut,at);break;case"Defer":case"Stream":mt._traverseSelections(wt.selections,at);break;case"ScalarField":case"ScalarHandle":break;case"TypeDiscriminator":{var tr=RelayModernRecord$2.getType(at),ir=generateTypeID(tr);mt._references.add(ir);break}case"ModuleImport":mt._traverseModuleImport(wt,at);break;case"ClientExtension":mt._traverseSelections(wt.selections,at);break;case"ClientComponent":if(mt._shouldProcessClientComponents===!1)break;mt._traverseSelections(wt.fragment.selections,at);break;case"RelayResolver":mt._traverseResolverField(wt,at);break;case"RelayLiveResolver":mt._traverseResolverField(wt,at);break;case"ClientEdgeToClientObject":mt._traverseClientEdgeToClientObject(wt,at);break;default:invariant$5(!1)}})},s._traverseClientEdgeToClientObject=function(nt,at){var mt=this._traverseResolverField(nt.backingField,at);if(mt!=null){var wt=this._recordSource.get(mt);if(wt!=null)if(nt.backingField.isOutputType){var $t=getOutputTypeRecordIDs(wt);if($t!=null){var Ct=(0,_createForOfIteratorHelper2$2.default)($t),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value;this._references.add(Ft)}}catch(dr){Ct.e(dr)}finally{Ct.f()}}}else{var jt=nt.linkedField,Ut=jt.concreteType;if(Ut==null)return;if(jt.plural){var tr=RelayModernRecord$2.getResolverLinkedRecordIDs(wt,Ut);if(tr!=null){var ir=(0,_createForOfIteratorHelper2$2.default)(tr),sr;try{for(ir.s();!(sr=ir.n()).done;){var ur=sr.value;ur!=null&&this._traverse(jt,ur)}}catch(dr){ir.e(dr)}finally{ir.f()}}}else{var fr=RelayModernRecord$2.getResolverLinkedRecordID(wt,Ut);fr!=null&&this._traverse(jt,fr)}}}},s._traverseResolverField=function(nt,at){var mt=getStorageKey(nt,this._variables),wt=RelayModernRecord$2.getLinkedRecordID(at,mt);wt!=null&&this._references.add(wt);var $t=nt.fragment;return $t!=null&&this._traverseSelections([$t],at),wt},s._traverseModuleImport=function(nt,at){var mt=this._operationLoader;mt===null&&invariant$5(!1);var wt=getModuleOperationKey$1(nt.documentName),$t=RelayModernRecord$2.getValue(at,wt);if($t!=null){var Ct=mt.get($t);if(Ct!=null){var Dt=getOperation(Ct),Ft=this._variables;this._variables=getLocalVariables(this._variables,Dt.argumentDefinitions,nt.args),this._traverseSelections(Dt.selections,at),this._variables=Ft}}},s._traverseLink=function(nt,at){var mt=getStorageKey(nt,this._variables),wt=RelayModernRecord$2.getLinkedRecordID(at,mt);wt!=null&&this._traverse(nt,wt)},s._traversePluralLink=function(nt,at){var mt=this,wt=getStorageKey(nt,this._variables),$t=RelayModernRecord$2.getLinkedRecordIDs(at,wt);$t!=null&&$t.forEach(function(Ct){Ct!=null&&mt._traverse(nt,Ct)})},a}(),RelayReferenceMarker_1={mark},ITERATOR_KEY$1=Symbol.iterator;function hasOverlappingIDs$1(a,s){for(var et=a[ITERATOR_KEY$1](),nt=et.next();!nt.done;){var at=nt.value;if(s.has(at))return!0;nt=et.next()}return!1}var hasOverlappingIDs_1=hasOverlappingIDs$1,_require$5=RelayStoreUtils_1,ROOT_ID$1=_require$5.ROOT_ID,_require2$4=ViewerPattern$1,VIEWER_ID=_require2$4.VIEWER_ID,ITERATOR_KEY=Symbol.iterator;function hasSignificantOverlappingIDs$1(a,s){for(var et=a[ITERATOR_KEY](),nt=et.next();!nt.done;){var at=nt.value;if(s.has(at)&&at!==ROOT_ID$1&&at!==VIEWER_ID)return!0;nt=et.next()}return!1}var hasSignificantOverlappingIDs_1=hasSignificantOverlappingIDs$1,recycleNodesInto$1=recycleNodesInto_1,RelayFeatureFlags$2=RelayFeatureFlags_1,hasOverlappingIDs=hasOverlappingIDs_1,hasSignificantOverlappingIDs=hasSignificantOverlappingIDs_1,RelayReader$1=RelayReader_1,RelayStoreSubscriptions$1=function(){function a(et,nt,at){this._subscriptions=new Set,this.__log=et,this._resolverCache=nt,this._resolverContext=at}var s=a.prototype;return s.subscribe=function(nt,at){var mt=this,wt={backup:null,callback:at,snapshot:nt,stale:!1},$t=function(){mt._subscriptions.delete(wt)};return this._subscriptions.add(wt),{dispose:$t}},s.snapshotSubscriptions=function(nt){var at=this;this._subscriptions.forEach(function(mt){if(!mt.stale){mt.backup=mt.snapshot;return}var wt=mt.snapshot,$t=RelayReader$1.read(nt,wt.selector,at._resolverCache,at._resolverContext),Ct=recycleNodesInto$1(wt.data,$t.data);$t.data=Ct,mt.backup=$t})},s.restoreSubscriptions=function(){this._subscriptions.forEach(function(nt){var at=nt.backup;nt.backup=null,at?(at.data!==nt.snapshot.data&&(nt.stale=!0),nt.snapshot={data:nt.snapshot.data,isMissingData:at.isMissingData,missingClientEdges:at.missingClientEdges,missingLiveResolverFields:at.missingLiveResolverFields,seenRecords:at.seenRecords,selector:at.selector,errorResponseFields:at.errorResponseFields}):nt.stale=!0})},s.updateSubscriptions=function(nt,at,mt,wt){var $t=this,Ct=at.size!==0;this._subscriptions.forEach(function(Dt){var Ft=$t._updateSubscription(nt,Dt,at,Ct,wt);Ft!=null&&mt.push(Ft)})},s._updateSubscription=function(nt,at,mt,wt,$t){var Ct=at.backup,Dt=at.callback,Ft=at.snapshot,jt=at.stale,Ut=wt&&hasOverlappingIDs(Ft.seenRecords,mt);if(!(!jt&&!Ut)){var tr=Ut||!Ct?RelayReader$1.read(nt,Ft.selector,this._resolverCache,this._resolverContext):Ct,ir=recycleNodesInto$1(Ft.data,tr.data);if(tr={data:ir,isMissingData:tr.isMissingData,missingClientEdges:tr.missingClientEdges,missingLiveResolverFields:tr.missingLiveResolverFields,seenRecords:tr.seenRecords,selector:tr.selector,errorResponseFields:tr.errorResponseFields},at.snapshot=tr,at.stale=!1,tr.data!==Ft.data)return this.__log&&RelayFeatureFlags$2.ENABLE_NOTIFY_SUBSCRIPTION&&this.__log({name:"store.notify.subscription",sourceOperation:$t,snapshot:Ft,nextSnapshot:tr}),Dt(tr),Ft.selector.owner;if(RelayFeatureFlags$2.ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION&&(jt||hasSignificantOverlappingIDs(Ft.seenRecords,mt)))return Ft.selector.owner}},s.size=function(){return this._subscriptions.size},a}(),RelayStoreSubscriptions_1=RelayStoreSubscriptions$1,_interopRequireDefault$3=interopRequireDefaultExports.default,_createForOfIteratorHelper2$1=_interopRequireDefault$3(createForOfIteratorHelperExports),_defineProperty2$1=_interopRequireDefault$3(requireDefineProperty()),_require$4=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE=_require$4.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier=_require$4.assertInternalActorIdentifier,resolveImmediate=resolveImmediate_1,DataChecker=DataChecker_1,defaultGetDataID=defaultGetDataID_1,_require2$3=LiveResolverCache_1,LiveResolverCache=_require2$3.LiveResolverCache,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY=_require2$3.RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY,getUpdatedDataIDs=_require2$3.getUpdatedDataIDs,RelayModernRecord$1=RelayModernRecord$d,RelayOptimisticRecordSource=RelayOptimisticRecordSource_1,RelayReader=RelayReader_1,RelayReferenceMarker=RelayReferenceMarker_1,RelayStoreSubscriptions=RelayStoreSubscriptions_1,RelayStoreUtils$1=RelayStoreUtils_1,_require3$3=RelayStoreUtils_1,ROOT_ID=_require3$3.ROOT_ID,ROOT_TYPE=_require3$3.ROOT_TYPE,invariant$4=browser$1,DEFAULT_RELEASE_BUFFER_SIZE=10,RelayModernStore$1=function(){function a(et,nt){var at=this,mt,wt,$t,Ct,Dt,Ft,jt;(0,_defineProperty2$1.default)(this,"_gcStep",function(){at._gcRun&&(at._gcRun.next().done?at._gcRun=null:at._gcScheduler(at._gcStep))}),this._currentWriteEpoch=0,this._gcHoldCounter=0,this._gcReleaseBufferSize=(mt=nt==null?void 0:nt.gcReleaseBufferSize)!==null&&mt!==void 0?mt:DEFAULT_RELEASE_BUFFER_SIZE,this._gcRun=null,this._gcScheduler=(wt=nt==null?void 0:nt.gcScheduler)!==null&&wt!==void 0?wt:resolveImmediate,this._getDataID=($t=nt==null?void 0:nt.getDataID)!==null&&$t!==void 0?$t:defaultGetDataID,this._globalInvalidationEpoch=null,this._invalidationSubscriptions=new Set,this._invalidatedRecordIDs=new Set,this.__log=(Ct=nt==null?void 0:nt.log)!==null&&Ct!==void 0?Ct:null,this._queryCacheExpirationTime=nt==null?void 0:nt.queryCacheExpirationTime,this._operationLoader=(Dt=nt==null?void 0:nt.operationLoader)!==null&&Dt!==void 0?Dt:null,this._optimisticSource=null,this._recordSource=et,this._releaseBuffer=[],this._roots=new Map,this._shouldScheduleGC=!1,this._resolverCache=new LiveResolverCache(function(){return at._getMutableRecordSource()},this),this._storeSubscriptions=new RelayStoreSubscriptions(nt==null?void 0:nt.log,this._resolverCache),this._updatedRecordIDs=new Set,this._shouldProcessClientComponents=(Ft=nt==null?void 0:nt.shouldProcessClientComponents)!==null&&Ft!==void 0?Ft:!1,this._resolverContext=nt==null?void 0:nt.resolverContext,this._treatMissingFieldsAsNull=(jt=nt==null?void 0:nt.treatMissingFieldsAsNull)!==null&&jt!==void 0?jt:!1,this._actorIdentifier=nt==null?void 0:nt.actorIdentifier,initializeRecordSource(this._recordSource)}var s=a.prototype;return s.getSource=function(){var nt;return(nt=this._optimisticSource)!==null&&nt!==void 0?nt:this._recordSource},s.getOperationLoader=function(){return this._operationLoader},s._getMutableRecordSource=function(){var nt;return(nt=this._optimisticSource)!==null&&nt!==void 0?nt:this._recordSource},s.getLiveResolverPromise=function(nt){return this._resolverCache.getLiveResolverPromise(nt)},s.batchLiveStateUpdates=function(nt){this.__log!=null&&this.__log({name:"liveresolver.batch.start"});try{this._resolverCache.batchLiveStateUpdates(nt)}finally{this.__log!=null&&this.__log({name:"liveresolver.batch.end"})}},s.check=function(nt,at){var mt,wt,$t,Ct,Dt=nt.root,Ft=this._getMutableRecordSource(),jt=this._globalInvalidationEpoch,Ut=this._roots.get(nt.request.identifier),tr=Ut!=null?Ut.epoch:null;if(jt!=null&&(tr==null||tr<=jt))return{status:"stale"};var ir=(mt=at==null?void 0:at.handlers)!==null&&mt!==void 0?mt:[],sr=(wt=at==null?void 0:at.getSourceForActor)!==null&&wt!==void 0?wt:function(dr){return assertInternalActorIdentifier(dr),Ft},ur=($t=at==null?void 0:at.getTargetForActor)!==null&&$t!==void 0?$t:function(dr){return assertInternalActorIdentifier(dr),Ft},fr=DataChecker.check(sr,ur,(Ct=at==null?void 0:at.defaultActorIdentifier)!==null&&Ct!==void 0?Ct:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,Dt,ir,this._operationLoader,this._getDataID,this._shouldProcessClientComponents,this.__log);return getAvailabilityStatus(fr,tr,Ut==null?void 0:Ut.fetchTime,this._queryCacheExpirationTime)},s.retain=function(nt){var at=this,mt=nt.request.identifier,wt=!1,$t=function(){if(!wt){wt=!0;var Ft=at._roots.get(mt);if(Ft!=null&&(Ft.refCount--,Ft.refCount===0)){var jt=at._queryCacheExpirationTime,Ut=Ft.fetchTime!=null&&jt!=null&&Ft.fetchTime<=Date.now()-jt;if(Ut)at._roots.delete(mt),at.scheduleGC();else if(at._releaseBuffer.push(mt),at._releaseBuffer.length>at._gcReleaseBufferSize){var tr=at._releaseBuffer.shift();at._roots.delete(tr),at.scheduleGC()}}}},Ct=this._roots.get(mt);return Ct!=null?(Ct.refCount===0&&(this._releaseBuffer=this._releaseBuffer.filter(function(Dt){return Dt!==mt})),Ct.refCount+=1):this._roots.set(mt,{operation:nt,refCount:1,epoch:null,fetchTime:null}),{dispose:$t}},s.lookup=function(nt){var at=this.__log;at!=null&&at({name:"store.lookup.start",selector:nt});var mt=this.getSource(),wt=RelayReader.read(mt,nt,this._resolverCache,this._resolverContext);return at!=null&&at({name:"store.lookup.end",selector:nt}),wt},s.notify=function(nt,at){var mt=this,wt=this.__log;wt!=null&&wt({name:"store.notify.start",sourceOperation:nt}),this._currentWriteEpoch++,at===!0&&(this._globalInvalidationEpoch=this._currentWriteEpoch),this._resolverCache.invalidateDataIDs(this._updatedRecordIDs);var $t=this.getSource(),Ct=[];if(this._storeSubscriptions.updateSubscriptions($t,this._updatedRecordIDs,Ct,nt),this._invalidationSubscriptions.forEach(function(Ut){mt._updateInvalidationSubscription(Ut,at===!0)}),nt!=null){var Dt=nt.request.identifier,Ft=this._roots.get(Dt);if(Ft!=null)Ft.epoch=this._currentWriteEpoch,Ft.fetchTime=Date.now();else if(nt.request.node.params.operationKind==="query"&&this._gcReleaseBufferSize>0&&this._releaseBuffer.length<this._gcReleaseBufferSize){var jt={operation:nt,refCount:0,epoch:this._currentWriteEpoch,fetchTime:Date.now()};this._releaseBuffer.push(Dt),this._roots.set(Dt,jt)}}return wt!=null&&wt({name:"store.notify.complete",sourceOperation:nt,updatedRecordIDs:this._updatedRecordIDs,invalidatedRecordIDs:this._invalidatedRecordIDs,subscriptionsSize:this._storeSubscriptions.size(),updatedOwners:Ct}),this._updatedRecordIDs.clear(),this._invalidatedRecordIDs.clear(),Ct},s.publish=function(nt,at){var mt=this._getMutableRecordSource();updateTargetFromSource(mt,nt,this._currentWriteEpoch+1,at,this._updatedRecordIDs,this._invalidatedRecordIDs);var wt=this.__log;wt!=null&&wt({name:"store.publish",source:nt,optimistic:mt===this._optimisticSource})},s.subscribe=function(nt,at){return this._storeSubscriptions.subscribe(nt,at)},s.holdGC=function(){var nt=this;this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._gcHoldCounter++;var at=function(){nt._gcHoldCounter>0&&(nt._gcHoldCounter--,nt._gcHoldCounter===0&&nt._shouldScheduleGC&&(nt.scheduleGC(),nt._shouldScheduleGC=!1))};return{dispose:at}},s.toJSON=function(){return"RelayModernStore()"},s.getEpoch=function(){return this._currentWriteEpoch},s.__getUpdatedRecordIDs=function(){return this._updatedRecordIDs},s.lookupInvalidationState=function(nt){var at=this,mt=new Map;return nt.forEach(function(wt){var $t,Ct=at.getSource().get(wt);mt.set(wt,($t=RelayModernRecord$1.getInvalidationEpoch(Ct))!==null&&$t!==void 0?$t:null)}),mt.set("global",this._globalInvalidationEpoch),{dataIDs:nt,invalidations:mt}},s.checkInvalidationState=function(nt){var at=this.lookupInvalidationState(nt.dataIDs),mt=at.invalidations,wt=nt.invalidations;if(mt.get("global")!==wt.get("global"))return!0;var $t=(0,_createForOfIteratorHelper2$1.default)(nt.dataIDs),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value;if(mt.get(Dt)!==wt.get(Dt))return!0}}catch(Ft){$t.e(Ft)}finally{$t.f()}return!1},s.subscribeToInvalidationState=function(nt,at){var mt=this,wt={callback:at,invalidationState:nt},$t=function(){mt._invalidationSubscriptions.delete(wt)};return this._invalidationSubscriptions.add(wt),{dispose:$t}},s._updateInvalidationSubscription=function(nt,at){var mt=this,wt=nt.callback,$t=nt.invalidationState,Ct=$t.dataIDs,Dt=at||Ct.some(function(Ft){return mt._invalidatedRecordIDs.has(Ft)});Dt&&wt()},s.snapshot=function(){this._optimisticSource!=null&&invariant$4(!1);var nt=this.__log;nt!=null&&nt({name:"store.snapshot"}),this._storeSubscriptions.snapshotSubscriptions(this.getSource()),this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._optimisticSource=RelayOptimisticRecordSource.create(this.getSource())},s.restore=function(){var nt=this._optimisticSource;nt||invariant$4(!1);var at=this.__log;at!=null&&at({name:"store.restore"});var mt=RelayOptimisticRecordSource.getOptimisticRecordIDs(nt);this._resolverCache.unsubscribeFromLiveResolverRecords(mt),this._optimisticSource=null,this._shouldScheduleGC&&this.scheduleGC(),this._storeSubscriptions.restoreSubscriptions(),this._resolverCache.invalidateResolverRecords(mt)},s.scheduleGC=function(){if(this._gcHoldCounter>0){this._shouldScheduleGC=!0;return}this._gcRun||(this._gcRun=this._collect(),this._gcScheduler(this._gcStep))},s.__gc=function(){if(this._optimisticSource==null)for(var nt=this._collect();!nt.next().done;);},s._collect=function*(){var nt=this.__log;e:for(;;){nt!=null&&nt({name:"store.gc.start"});var at=this._currentWriteEpoch,mt=new Set,wt=(0,_createForOfIteratorHelper2$1.default)(this._roots.values()),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value.operation,Dt=Ct.root;if(RelayReferenceMarker.mark(this._recordSource,Dt,mt,this._operationLoader,this._shouldProcessClientComponents),yield,at!==this._currentWriteEpoch){nt!=null&&nt({name:"store.gc.interrupted"});continue e}}}catch(sr){wt.e(sr)}finally{wt.f()}if(mt.size===0)this._recordSource.clear();else for(var Ft=this._recordSource.getRecordIDs(),jt=0;jt<Ft.length;jt++){var Ut=Ft[jt];if(!mt.has(Ut)){var tr=this._recordSource.get(Ut);if(tr!=null){var ir=RelayModernRecord$1.getValue(tr,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY);ir!=null&&ir()}this._recordSource.remove(Ut)}}nt!=null&&nt({name:"store.gc.end",references:mt});return}},s.__getNormalizationOptions=function(nt){return{path:nt,getDataID:this._getDataID,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents,actorIdentifier:this._actorIdentifier}},s.__notifyUpdatedSubscribers=function(nt){var at=getUpdatedDataIDs(nt),mt=this._updatedRecordIDs;this._updatedRecordIDs=at,this.notify(),this._updatedRecordIDs=mt},a}();function initializeRecordSource(a){if(!a.has(ROOT_ID)){var s=RelayModernRecord$1.create(ROOT_ID,ROOT_TYPE);a.set(ROOT_ID,s)}}function updateTargetFromSource(a,s,et,nt,at,mt){nt&&nt.forEach(function(Ut){var tr=a.get(Ut),ir=s.get(Ut);if(ir!==null){var sr;tr!=null?sr=RelayModernRecord$1.clone(tr):sr=ir!=null?RelayModernRecord$1.clone(ir):null,sr&&(RelayModernRecord$1.setValue(sr,RelayStoreUtils$1.INVALIDATED_AT_KEY,et),mt.add(Ut),a.set(Ut,sr))}});for(var wt=s.getRecordIDs(),$t=0;$t<wt.length;$t++){var Ct=wt[$t],Dt=s.get(Ct),Ft=a.get(Ct);if(Dt&&Ft){var jt=RelayModernRecord$1.update(Ft,Dt);jt!==Ft&&(at.add(Ct),a.set(Ct,jt))}else Dt===null?(a.delete(Ct),Ft!==null&&at.add(Ct)):Dt&&(a.set(Ct,Dt),at.add(Ct))}}function getAvailabilityStatus(a,s,et,nt){var at=a.mostRecentlyInvalidatedAt,mt=a.status;if(typeof at=="number"&&(s==null||at>s))return{status:"stale"};if(mt==="missing")return{status:"missing"};if(et!=null&&nt!=null){var wt=et<=Date.now()-nt;if(wt)return{status:"stale"}}return{status:"available",fetchTime:et??null}}var RelayModernStore_1=RelayModernStore$1,RelayDeclarativeMutationConfig$1=RelayDeclarativeMutationConfig$4,_require$3=GraphQLTag$1,getRequest=_require$3.getRequest,_require2$2=RelayModernOperationDescriptor$1,createOperationDescriptor=_require2$2.createOperationDescriptor,_require3$2=RelayModernSelector$1,createReaderSelector=_require3$2.createReaderSelector;function requestSubscription$1(a,s){var et=getRequest(s.subscription);if(et.params.operationKind!=="subscription")throw new Error("requestSubscription: Must use Subscription operation");var nt=s.configs,at=s.onCompleted,mt=s.onError,wt=s.onNext,$t=s.variables,Ct=s.cacheConfig,Dt=createOperationDescriptor(et,$t,Ct),Ft=nt?RelayDeclarativeMutationConfig$1.convert(nt,et,null,s.updater):s,jt=Ft.updater,Ut=a.executeSubscription({operation:Dt,updater:jt}).subscribe({next:function(ir){if(wt!=null){var sr=Dt.fragment,ur;if(Array.isArray(ir)){var fr,dr;ur=(fr=ir[0])===null||fr===void 0||(dr=fr.extensions)===null||dr===void 0?void 0:dr.__relay_subscription_root_id}else{var hr;ur=(hr=ir.extensions)===null||hr===void 0?void 0:hr.__relay_subscription_root_id}typeof ur=="string"&&(sr=createReaderSelector(sr.node,ur,sr.variables,sr.owner));var vr=a.lookup(sr).data;wt(vr)}},error:mt,complete:at});return{dispose:Ut.unsubscribe}}var requestSubscription_1=requestSubscription$1,_interopRequireDefault$2=interopRequireDefaultExports.default,_objectSpread2=_interopRequireDefault$2(objectSpread2Exports),_require$2=RelayStoreUtils_1,getModuleComponentKey=_require$2.getModuleComponentKey,getModuleOperationKey=_require$2.getModuleOperationKey;function createPayloadFor3DField$1(a,s,et,nt){var at=(0,_objectSpread2.default)({},nt);return at[getModuleComponentKey(a)]=et,at[getModuleOperationKey(a)]=s,at}var createPayloadFor3DField_1=createPayloadFor3DField$1,hasOwnProperty=Object.prototype.hasOwnProperty;function isEmptyObject$1(a){for(var s in a)if(hasOwnProperty.call(a,s))return!1;return!0}var isEmptyObject_1=isEmptyObject$1,_require$1=RelayModernSelector$1,getDataIDsFromFragment=_require$1.getDataIDsFromFragment,getSelector=_require$1.getSelector,getVariablesFromFragment=_require$1.getVariablesFromFragment,isEmptyObject=isEmptyObject_1,RelayFeatureFlags$1=RelayFeatureFlags_1,_require2$1=stableCopy_1,stableCopy$1=_require2$1.stableCopy,_require3$1=StringInterner,intern=_require3$1.intern;function getFragmentIdentifier$1(a,s){var et=getSelector(a,s),nt=et==null?"null":et.kind==="SingularReaderSelector"?et.owner.identifier:"["+et.selectors.map(function(Dt){return Dt.owner.identifier}).join(",")+"]",at=getVariablesFromFragment(a,s),mt=getDataIDsFromFragment(a,s);if(RelayFeatureFlags$1.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION){var wt=typeof mt>"u"?"missing":mt==null?"null":Array.isArray(mt)?"["+mt.join(",")+"]":mt;return wt=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?wt:intern(wt,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),nt+"/"+a.name+"/"+(at==null||isEmptyObject(at)?"{}":JSON.stringify(stableCopy$1(at)))+"/"+wt}else{var $t,Ct=($t=JSON.stringify(mt))!==null&&$t!==void 0?$t:"missing";return Ct=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?Ct:intern(Ct,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),nt+"/"+a.name+"/"+JSON.stringify(stableCopy$1(at))+"/"+Ct}}var getFragmentIdentifier_1=getFragmentIdentifier$1,invariant$3=browser$1;function getRefetchMetadata$2(a,s){var et,nt;((et=a.metadata)===null||et===void 0?void 0:et.plural)===!0&&invariant$3(!1);var at=(nt=a.metadata)===null||nt===void 0?void 0:nt.refetch;at==null&&invariant$3(!1);var mt=at.operation.default?at.operation.default:at.operation,wt=at.fragmentPathInResult;typeof mt=="string"&&invariant$3(!1);var $t=at.identifierInfo;return $t!=null&&($t.identifierField==null||typeof $t.identifierField=="string"||invariant$3(!1),$t.identifierQueryVariableName==null||typeof $t.identifierQueryVariableName=="string"||invariant$3(!1)),{fragmentRefPathInResponse:wt,identifierInfo:$t,refetchableRequest:mt,refetchMetadata:at}}var getRefetchMetadata_1=getRefetchMetadata$2,getRefetchMetadata$1=getRefetchMetadata_1,invariant$2=browser$1;function getPaginationMetadata$1(a,s){var et,nt,at=getRefetchMetadata$1(a),mt=at.refetchableRequest,wt=at.refetchMetadata,$t=wt.connection;$t==null&&invariant$2(!1);var Ct=$t.path,Dt=((et=(nt=a.metadata)===null||nt===void 0?void 0:nt.connection)!==null&&et!==void 0?et:[])[0];Dt==null&&invariant$2(!1);var Ft=wt.identifierInfo;return(Ft==null?void 0:Ft.identifierField)==null||typeof Ft.identifierField=="string"||invariant$2(!1),{connectionPathInFragmentData:Ct,identifierField:Ft==null?void 0:Ft.identifierField,paginationRequest:mt,paginationMetadata:$t,stream:Dt.stream===!0}}var getPaginationMetadata_1=getPaginationMetadata$1,_interopRequireDefault$1=interopRequireDefaultExports.default,_defineProperty2=_interopRequireDefault$1(requireDefineProperty()),_objectSpread4=_interopRequireDefault$1(objectSpread2Exports),invariant$1=browser$1;function getPaginationVariables$1(a,s,et,nt,at,mt){var wt,$t=mt.backward,Ct=mt.forward;if(a==="backward"){var Dt;$t!=null&&$t.count!=null&&$t.cursor!=null||invariant$1(!1);var Ft=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},nt),at),{},(Dt={},(0,_defineProperty2.default)(Dt,$t.cursor,et),(0,_defineProperty2.default)(Dt,$t.count,s),Dt));return Ct&&Ct.cursor&&(Ft[Ct.cursor]=null),Ct&&Ct.count&&(Ft[Ct.count]=null),Ft}Ct!=null&&Ct.count!=null&&Ct.cursor!=null||invariant$1(!1);var jt=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},nt),at),{},(wt={},(0,_defineProperty2.default)(wt,Ct.cursor,et),(0,_defineProperty2.default)(wt,Ct.count,s),wt));return $t&&$t.cursor&&(jt[$t.cursor]=null),$t&&$t.count&&(jt[$t.count]=null),jt}var getPaginationVariables_1=getPaginationVariables$1,_interopRequireDefault=interopRequireDefaultExports.default,_createForOfIteratorHelper2=_interopRequireDefault(createForOfIteratorHelperExports),invariant=browser$1;function getValueAtPath$1(a,s){var et=a,nt=(0,_createForOfIteratorHelper2.default)(s),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;if(et==null)return null;typeof mt=="number"?(Array.isArray(et)||invariant(!1),et=et[mt]):(typeof et=="object"&&!Array.isArray(et)||invariant(!1),et=et[mt])}}catch(wt){nt.e(wt)}finally{nt.f()}return et}var getValueAtPath_1=getValueAtPath$1,profileHandlersByName={},defaultProfiler={stop:function a(){}},RelayProfiler$1={profile:function a(s,et){var nt=profileHandlersByName[s];if(nt&&nt.length>0){for(var at=[],mt=nt.length-1;mt>=0;mt--){var wt=nt[mt](s,et);at.unshift(wt)}return{stop:function(Ct){at.forEach(function(Dt){return Dt(Ct)})}}}return defaultProfiler},attachProfileHandler:function a(s,et){profileHandlersByName.hasOwnProperty(s)||(profileHandlersByName[s]=[]),profileHandlersByName[s].push(et)},detachProfileHandler:function a(s,et){profileHandlersByName.hasOwnProperty(s)&&removeFromArray(profileHandlersByName[s],et)}};function removeFromArray(a,s){var et=a.indexOf(s);et!==-1&&a.splice(et,1)}var RelayProfiler_1=RelayProfiler$1,_require=experimental,isErrorResult=_require.isErrorResult,isValueResult=_require.isValueResult,ConnectionHandler=ConnectionHandler$4,ConnectionInterface=ConnectionInterface_1,MutationHandlers=MutationHandlers$2,RelayDefaultHandlerProvider=RelayDefaultHandlerProvider_1,applyOptimisticMutation=applyOptimisticMutation_1,commitLocalUpdate=commitLocalUpdate_1,commitMutation=commitMutation_1,RelayDeclarativeMutationConfig=RelayDeclarativeMutationConfig$4,RelayNetwork=RelayNetwork$1,RelayObservable=RelayObservable_1,RelayQueryResponseCache=RelayQueryResponseCache_1,fetchQuery=fetchQuery_1,fetchQuery_DEPRECATED=fetchQuery_DEPRECATED_1,fetchQueryInternal=fetchQueryInternal$2,GraphQLTag=GraphQLTag$1,PreloadableQueryRegistry=PreloadableQueryRegistry_1,_require2=ClientID,generateClientID=_require2.generateClientID,generateUniqueClientID=_require2.generateUniqueClientID,isClientID=_require2.isClientID,createFragmentSpecResolver=createFragmentSpecResolver_1,createRelayContext=createRelayContext_1,isRelayModernEnvironment=isRelayModernEnvironment_1,_require3=LiveResolverSuspenseSentinel,isSuspenseSentinel=_require3.isSuspenseSentinel,suspenseSentinel=_require3.suspenseSentinel,normalizeResponse=normalizeResponse_1,readInlineData=readInlineData_1,RelayConcreteVariables=RelayConcreteVariables$2,RelayModernEnvironment=RelayModernEnvironment_1,RelayModernOperationDescriptor=RelayModernOperationDescriptor$1,RelayModernRecord=RelayModernRecord$d,RelayModernSelector=RelayModernSelector$1,RelayModernStore=RelayModernStore_1,RelayOperationTracker=RelayOperationTracker_1,RelayRecordSource=RelayRecordSource_1,RelayStoreUtils=RelayStoreUtils_1,ResolverFragments=ResolverFragments$1,ViewerPattern=ViewerPattern$1,requestSubscription=requestSubscription_1,createPayloadFor3DField=createPayloadFor3DField_1,deepFreeze=deepFreeze_1,getFragmentIdentifier=getFragmentIdentifier_1,getPaginationMetadata=getPaginationMetadata_1,getPaginationVariables=getPaginationVariables_1,getPendingOperationsForFragment=getPendingOperationsForFragment_1,getRefetchMetadata=getRefetchMetadata_1,getRelayHandleKey=getRelayHandleKey_1,getRequestIdentifier=getRequestIdentifier_1,getValueAtPath=getValueAtPath_1,_require4=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors=_require4.handlePotentialSnapshotErrors,isPromise=isPromise_1,isScalarAndEqual=isScalarAndEqual_1,recycleNodesInto=recycleNodesInto_1,RelayConcreteNode=RelayConcreteNode_1,RelayDefaultHandleKey=RelayDefaultHandleKey$1,RelayError=RelayError$2,RelayFeatureFlags=RelayFeatureFlags_1,RelayProfiler=RelayProfiler_1,RelayReplaySubject=RelayReplaySubject_1,_require5=stableCopy_1,hasCycle=_require5.hasCycle,stableCopy=_require5.stableCopy,withProvidedVariables=withProvidedVariables_1,lib={Environment:RelayModernEnvironment,Network:RelayNetwork,Observable:RelayObservable,QueryResponseCache:RelayQueryResponseCache,RecordSource:RelayRecordSource,Record:RelayModernRecord,ReplaySubject:RelayReplaySubject,Store:RelayModernStore,areEqualSelectors:RelayModernSelector.areEqualSelectors,createFragmentSpecResolver,createNormalizationSelector:RelayModernSelector.createNormalizationSelector,createOperationDescriptor:RelayModernOperationDescriptor.createOperationDescriptor,createReaderSelector:RelayModernSelector.createReaderSelector,createRequestDescriptor:RelayModernOperationDescriptor.createRequestDescriptor,getArgumentValues:RelayStoreUtils.getArgumentValues,getDataIDsFromFragment:RelayModernSelector.getDataIDsFromFragment,getDataIDsFromObject:RelayModernSelector.getDataIDsFromObject,getNode:GraphQLTag.getNode,getFragment:GraphQLTag.getFragment,getInlineDataFragment:GraphQLTag.getInlineDataFragment,getModuleComponentKey:RelayStoreUtils.getModuleComponentKey,getModuleOperationKey:RelayStoreUtils.getModuleOperationKey,getPaginationFragment:GraphQLTag.getPaginationFragment,getPluralSelector:RelayModernSelector.getPluralSelector,getRefetchableFragment:GraphQLTag.getRefetchableFragment,getRequest:GraphQLTag.getRequest,getRequestIdentifier,getSelector:RelayModernSelector.getSelector,getSelectorsFromObject:RelayModernSelector.getSelectorsFromObject,getSingularSelector:RelayModernSelector.getSingularSelector,getStorageKey:RelayStoreUtils.getStorageKey,getVariablesFromFragment:RelayModernSelector.getVariablesFromFragment,getVariablesFromObject:RelayModernSelector.getVariablesFromObject,getVariablesFromPluralFragment:RelayModernSelector.getVariablesFromPluralFragment,getVariablesFromSingularFragment:RelayModernSelector.getVariablesFromSingularFragment,handlePotentialSnapshotErrors,graphql:GraphQLTag.graphql,isErrorResult,isValueResult,isFragment:GraphQLTag.isFragment,isInlineDataFragment:GraphQLTag.isInlineDataFragment,isSuspenseSentinel,suspenseSentinel,isRequest:GraphQLTag.isRequest,readInlineData,MutationTypes:RelayDeclarativeMutationConfig.MutationTypes,RangeOperations:RelayDeclarativeMutationConfig.RangeOperations,DefaultHandlerProvider:RelayDefaultHandlerProvider,ConnectionHandler,MutationHandlers,VIEWER_ID:ViewerPattern.VIEWER_ID,VIEWER_TYPE:ViewerPattern.VIEWER_TYPE,applyOptimisticMutation,commitLocalUpdate,commitMutation,fetchQuery,fetchQuery_DEPRECATED,isRelayModernEnvironment,requestSubscription,ConnectionInterface,PreloadableQueryRegistry,RelayProfiler,createPayloadFor3DField,RelayConcreteNode,RelayError,RelayFeatureFlags,DEFAULT_HANDLE_KEY:RelayDefaultHandleKey.DEFAULT_HANDLE_KEY,FRAGMENTS_KEY:RelayStoreUtils.FRAGMENTS_KEY,FRAGMENT_OWNER_KEY:RelayStoreUtils.FRAGMENT_OWNER_KEY,ID_KEY:RelayStoreUtils.ID_KEY,REF_KEY:RelayStoreUtils.REF_KEY,REFS_KEY:RelayStoreUtils.REFS_KEY,ROOT_ID:RelayStoreUtils.ROOT_ID,ROOT_TYPE:RelayStoreUtils.ROOT_TYPE,TYPENAME_KEY:RelayStoreUtils.TYPENAME_KEY,deepFreeze,generateClientID,generateUniqueClientID,getRelayHandleKey,isClientID,isPromise,isScalarAndEqual,recycleNodesInto,stableCopy,hasCycle,getFragmentIdentifier,getRefetchMetadata,getPaginationMetadata,getPaginationVariables,getPendingOperationsForFragment,getValueAtPath,__internal:{ResolverFragments,OperationTracker:RelayOperationTracker,createRelayContext,getOperationVariables:RelayConcreteVariables.getOperationVariables,getLocalVariables:RelayConcreteVariables.getLocalVariables,fetchQuery:fetchQueryInternal.fetchQuery,fetchQueryDeduped:fetchQueryInternal.fetchQueryDeduped,getPromiseForActiveRequest:fetchQueryInternal.getPromiseForActiveRequest,getObservableForActiveRequest:fetchQueryInternal.getObservableForActiveRequest,normalizeResponse,withProvidedVariables}},relayRuntime=lib,__defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(a,s,et)=>s in a?__defProp$1(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__spreadValues$1=(a,s)=>{for(var et in s||(s={}))__hasOwnProp$1.call(s,et)&&__defNormalProp$1(a,et,s[et]);if(__getOwnPropSymbols$1)for(var et of __getOwnPropSymbols$1(s))__propIsEnum$1.call(s,et)&&__defNormalProp$1(a,et,s[et]);return a},version="4.1.0",stateChangedSubscriptionQuery=`
  subscription stateChanged {
    stateChanged {
      ... on TargetStateChangedEvent {
        __typename
        targetId
        targetType
        timestamp
      }
      ... on NotificationHistoryStateChangedEvent {
        __typename
        timestamp
      }
    }
  }
`;gql`
  ${stateChangedSubscriptionQuery}
`;var ActiveAlertFragment=gql`
  fragment ActiveAlertFragment on ActiveAlert {
    __typename
    id
    filterOptionsJson
    fusionEventId
    subscriptionValue
    user {
      __typename
      id
      connectedWallets {
        address
        walletBlockchain
      }
    }
  }
`,tenantActiveAlertChangedSubscriptionQuery=`
  subscription tenantActiveAlertChanged {
    tenantActiveAlertChanged {
      __typename
      ... on ActiveAlertCreatedEvent {
        __typename
        activeAlert {
          ...ActiveAlertFragment
        }
      }
      ... on ActiveAlertDeletedEvent {
        alertId
        timestamp
        userId
      }
    }
  }
  ${ActiveAlertFragment}
`;gql`
  ${tenantActiveAlertChangedSubscriptionQuery}
`;var __assign=function(){return __assign=Object.assign||function(s){for(var et,nt=1,at=arguments.length;nt<at;nt++){et=arguments[nt];for(var mt in et)Object.prototype.hasOwnProperty.call(et,mt)&&(s[mt]=et[mt])}return s},__assign.apply(this,arguments)},docCache=new Map,fragmentSourceMap=new Map,printFragmentWarnings=!0,experimentalFragmentVariables=!1;function normalize(a){return a.replace(/[\s,]+/g," ").trim()}function cacheKeyFromLoc(a){return normalize(a.source.body.substring(a.start,a.end))}function processFragments(a){var s=new Set,et=[];return a.definitions.forEach(function(nt){if(nt.kind==="FragmentDefinition"){var at=nt.name.value,mt=cacheKeyFromLoc(nt.loc),wt=fragmentSourceMap.get(at);wt&&!wt.has(mt)?printFragmentWarnings&&console.warn("Warning: fragment with name "+at+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):wt||fragmentSourceMap.set(at,wt=new Set),wt.add(mt),s.has(mt)||(s.add(mt),et.push(nt))}else et.push(nt)}),__assign(__assign({},a),{definitions:et})}function stripLoc(a){var s=new Set(a.definitions);s.forEach(function(nt){nt.loc&&delete nt.loc,Object.keys(nt).forEach(function(at){var mt=nt[at];mt&&typeof mt=="object"&&s.add(mt)})});var et=a.loc;return et&&(delete et.startToken,delete et.endToken),a}function parseDocument(a){var s=normalize(a);if(!docCache.has(s)){var et=parse$1(a,{experimentalFragmentVariables,allowLegacyFragmentVariables:experimentalFragmentVariables});if(!et||et.kind!=="Document")throw new Error("Not a valid GraphQL document.");docCache.set(s,stripLoc(processFragments(et)))}return docCache.get(s)}function gql4(a){for(var s=[],et=1;et<arguments.length;et++)s[et-1]=arguments[et];typeof a=="string"&&(a=[a]);var nt=a[0];return s.forEach(function(at,mt){at&&at.kind==="Document"?nt+=at.loc.source.body:nt+=at,nt+=a[mt+1]}),parseDocument(nt)}function resetCaches(){docCache.clear(),fragmentSourceMap.clear()}function disableFragmentWarnings(){printFragmentWarnings=!1}function enableExperimentalFragmentVariables(){experimentalFragmentVariables=!0}function disableExperimentalFragmentVariables(){experimentalFragmentVariables=!1}var extras={gql:gql4,resetCaches,disableFragmentWarnings,enableExperimentalFragmentVariables,disableExperimentalFragmentVariables};(function(a){a.gql=extras.gql,a.resetCaches=extras.resetCaches,a.disableFragmentWarnings=extras.disableFragmentWarnings,a.enableExperimentalFragmentVariables=extras.enableExperimentalFragmentVariables,a.disableExperimentalFragmentVariables=extras.disableExperimentalFragmentVariables})(gql4||(gql4={}));gql4.default=gql4;var lib_default=gql4,ActiveAlertFragmentFragmentDoc=lib_default`
    fragment ActiveAlertFragment on ActiveAlert {
  __typename
  id
  filterOptionsJson
  fusionEventId
  subscriptionValue
  user {
    __typename
    id
    connectedWallets {
      address
      walletBlockchain
    }
  }
}
    `,FilterFragmentFragmentDoc=lib_default`
    fragment FilterFragment on Filter {
  id
  name
  filterType
}
    `,SourceFragmentFragmentDoc=lib_default`
    fragment SourceFragment on Source {
  id
  name
  type
  blockchainAddress
  fusionEventTypeId
  applicableFilters {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,SourceGroupFragmentFragmentDoc=lib_default`
    fragment SourceGroupFragment on SourceGroup {
  id
  name
  sources {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,EmailTargetFragmentFragmentDoc=lib_default`
    fragment EmailTargetFragment on EmailTarget {
  emailAddress
  id
  isConfirmed
  name
}
    `,SmsTargetFragmentFragmentDoc=lib_default`
    fragment SmsTargetFragment on SmsTarget {
  id
  isConfirmed
  name
  phoneNumber
}
    `,TelegramTargetFragmentFragmentDoc=lib_default`
    fragment TelegramTargetFragment on TelegramTarget {
  id
  isConfirmed
  name
  telegramId
  confirmationUrl
}
    `,WebhookTargetFragmentFragmentDoc=lib_default`
    fragment WebhookTargetFragment on WebhookTarget {
  id
  url
  status
  format
  headers {
    key
    value
  }
  name
}
    `,DiscordTargetFragmentFragmentDoc=lib_default`
    fragment DiscordTargetFragment on DiscordTarget {
  id
  discordAccountId
  discriminator
  isConfirmed
  username
  name
  userStatus
  verificationLink
  discordServerInviteLink
}
    `,SlackChannelTargetFragmentFragmentDoc=lib_default`
    fragment SlackChannelTargetFragment on SlackChannelTarget {
  id
  name
  slackChannelName
  slackWorkspaceName
  verificationLink
  webhookVerificationLink
  verificationStatus
}
    `,Web3TargetFragmentFragmentDoc=lib_default`
    fragment Web3TargetFragment on Web3Target {
  id
  name
  accountId
  walletBlockchain
  targetProtocol
  isConfirmed
  senderAddress
}
    `,TargetGroupFragmentFragmentDoc=lib_default`
    fragment TargetGroupFragment on TargetGroup {
  id
  name
  emailTargets {
    ...EmailTargetFragment
  }
  smsTargets {
    ...SmsTargetFragment
  }
  telegramTargets {
    ...TelegramTargetFragment
  }
  webhookTargets {
    ...WebhookTargetFragment
  }
  discordTargets {
    ...DiscordTargetFragment
  }
  slackChannelTargets {
    ...SlackChannelTargetFragment
  }
  web3Targets {
    ...Web3TargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${WebhookTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${SlackChannelTargetFragmentFragmentDoc}
${Web3TargetFragmentFragmentDoc}`,AlertFragmentFragmentDoc=lib_default`
    fragment AlertFragment on Alert {
  id
  groupName
  name
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,ConnectedWalletFragmentFragmentDoc=lib_default`
    fragment ConnectedWalletFragment on ConnectedWallet {
  address
  walletBlockchain
}
    `,ArgumentErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentErrorFragment on ArgumentError {
  __typename
  message
  paramName
}
    `,ArgumentNullErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentNullErrorFragment on ArgumentNullError {
  __typename
  message
  paramName
}
    `,ArgumentOutOfRangeErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentOutOfRangeErrorFragment on ArgumentOutOfRangeError {
  __typename
  message
  paramName
}
    `,TargetDoesNotExistErrorFragmentFragmentDoc=lib_default`
    fragment TargetDoesNotExistErrorFragment on TargetDoesNotExistError {
  __typename
  message
}
    `,UnexpectedErrorFragmentFragmentDoc=lib_default`
    fragment UnexpectedErrorFragment on UnexpectedError {
  __typename
  message
}
    `,TargetLimitExceededErrorFragmentFragmentDoc=lib_default`
    fragment TargetLimitExceededErrorFragment on TargetLimitExceededError {
  __typename
  message
}
    `,FusionNotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment FusionNotificationHistoryEntryFragment on FusionNotificationHistoryEntry {
  __typename
  id
  createdDate
  read
  fusionEventVariables
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
      customIconUrl
    }
  }
}
    `,NotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment NotificationHistoryEntryFragment on NotificationHistoryEntry {
  __typename
  id
  createdDate
  eventId
  read
  sourceAddress
  category
  transactionSignature
  targets {
    type
    name
  }
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
    }
  }
}
    `,PageInfoFragmentFragmentDoc=lib_default`
    fragment PageInfoFragment on PageInfo {
  hasNextPage
  endCursor
}
    `,CreateSlackChannelTargetResponseFragmentFragmentDoc=lib_default`
    fragment CreateSlackChannelTargetResponseFragment on CreateSlackChannelTargetResponse {
  slackChannelTarget {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,GetSlackChannelTargetsResponseFragmentFragmentDoc=lib_default`
    fragment GetSlackChannelTargetsResponseFragment on SlackChannelTargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,TenantConfigFragmentFragmentDoc=lib_default`
    fragment TenantConfigFragment on TenantConfig {
  id
  type
  dataJson
  fusionEvents {
    id
    metadata
    name
  }
}
    `,TenantUserAlertFragmentFragmentDoc=lib_default`
    fragment TenantUserAlertFragment on TenantUserAlert {
  id
  name
  groupName
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    hasVerifiedFcm
    hasVerifiedSms
    hasVerifiedWeb3
    hasVerifiedEmails
    hasVerifiedWebhook
    hasVerifiedDiscord
    hasVerifiedTelegram
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}`,TenantConnectedWalletFragmentFragmentDoc=lib_default`
    fragment TenantConnectedWalletFragment on TenantConnectedWallet {
  address
  walletBlockchain
}
    `,TenantUserFragmentFragmentDoc=lib_default`
    fragment TenantUserFragment on TenantUser {
  id
  alerts {
    ...TenantUserAlertFragment
  }
  connectedWallets {
    ...TenantConnectedWalletFragment
  }
}
    ${TenantUserAlertFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}`,AuthorizationFragmentFragmentDoc=lib_default`
    fragment AuthorizationFragment on Authorization {
  token
  expiry
}
    `,UserFragmentFragmentDoc=lib_default`
    fragment UserFragment on User {
  email
  emailConfirmed
  authorization {
    ...AuthorizationFragment
  }
  roles
}
    ${AuthorizationFragmentFragmentDoc}`,UserTopicFragmentFragmentDoc=lib_default`
    fragment UserTopicFragment on UserTopic {
  name
  topicName
  targetCollections
  targetTemplate
}
    `,GetWeb3TargetResponseFragmentFragmentDoc=lib_default`
    fragment GetWeb3TargetResponseFragment on Web3TargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetResponseFragment on VerifyXmtpTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyCbwTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyCbwTargetResponseFragment on VerifyCbwTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetViaXip42ResponseFragment on VerifyXmtpTargetViaXip42Response {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,WebPushTargetFragmentFragmentDoc=lib_default`
    fragment WebPushTargetFragment on WebPushTarget {
  id
  createdDate
  name
}
    `,AddSourceToSourceGroupDocument=lib_default`
    mutation addSourceToSourceGroup($input: AddSourceToSourceGroupInput!) {
  addSourceToSourceGroup(addSourceToSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,BeginLogInByTransactionDocument=lib_default`
    mutation beginLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!) {
  beginLogInByTransaction(
    beginLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress}
  ) {
    nonce
  }
}
    `,BeginLogInWithWeb3Document=lib_default`
    mutation beginLogInWithWeb3($authAddress: String!, $blockchainType: WalletBlockchain!, $dappAddress: String!, $authType: Web3AuthType!, $walletPubkey: String) {
  beginLogInWithWeb3(
    beginLogInWithWeb3Input: {authAddress: $authAddress, blockchainType: $blockchainType, dappAddress: $dappAddress, authType: $authType, walletPubkey: $walletPubkey}
  ) {
    beginLogInWithWeb3Response {
      nonce
    }
  }
}
    `,BroadcastMessageDocument=lib_default`
    mutation broadcastMessage($idempotencyKey: String, $topicName: String!, $targetTemplates: [KeyValuePairOfTargetTypeAndStringInput!], $variables: [KeyValuePairOfStringAndStringInput!], $timestamp: Long!, $walletBlockchain: WalletBlockchain!, $signature: String!) {
  broadcastMessage(
    broadcastMessageInput: {idempotencyKey: $idempotencyKey, sourceAddress: $topicName, targetTemplates: $targetTemplates, variables: $variables, timestamp: $timestamp, walletBlockchain: $walletBlockchain}
    signature: $signature
  ) {
    id
  }
}
    `,CompleteLogInByTransactionDocument=lib_default`
    mutation completeLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!, $randomUuid: String!, $transactionSignature: String!) {
  completeLogInByTransaction(
    completeLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress, randomUuid: $randomUuid, transactionSignature: $transactionSignature}
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,CompleteLogInWithWeb3Document=lib_default`
    mutation completeLogInWithWeb3($nonce: String!, $signature: String!, $signedMessage: String!, $signingAddress: String!, $signingPubkey: String!) {
  completeLogInWithWeb3(
    completeLogInWithWeb3Input: {nonce: $nonce, signature: $signature, signedMessage: $signedMessage, signingAddress: $signingAddress, signingPubkey: $signingPubkey}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,ConnectWalletDocument=lib_default`
    mutation connectWallet($walletPublicKey: String!, $timestamp: Long!, $signature: String!, $walletBlockchain: WalletBlockchain!, $accountId: String, $connectWalletConflictResolutionTechnique: ConnectWalletConflictResolutionTechnique) {
  connectWallet(
    connectWalletInput: {walletPublicKey: $walletPublicKey, timestamp: $timestamp, walletBlockchain: $walletBlockchain, accountId: $accountId, connectWalletConflictResolutionTechnique: $connectWalletConflictResolutionTechnique}
    signature: $signature
  ) {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,CreateAlertDocument=lib_default`
    mutation createAlert($name: String!, $sourceGroupId: String!, $filterId: String!, $targetGroupId: String!, $filterOptions: String!, $groupName: String!) {
  createAlert(
    alertInput: {name: $name, sourceGroupId: $sourceGroupId, filterId: $filterId, targetGroupId: $targetGroupId, filterOptions: $filterOptions, groupName: $groupName}
  ) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDirectPushAlertDocument=lib_default`
    mutation createDirectPushAlert($input: CreateDirectPushAlertInput!) {
  createDirectPushAlert(createDirectPushAlertInput: $input) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDiscordTargetDocument=lib_default`
    mutation createDiscordTarget($name: String!, $value: String!) {
  createDiscordTarget(createTargetInput: {name: $name, value: $value}) {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,CreateEmailTargetDocument=lib_default`
    mutation createEmailTarget($name: String!, $value: String!) {
  createEmailTarget(createTargetInput: {name: $name, value: $value}) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,CreateFusionAlertsDocument=lib_default`
    mutation createFusionAlerts($input: CreateFusionAlertsInput!) {
  createFusionAlerts(input: $input) {
    alerts {
      groupName
      id
      name
      filterOptions
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${ArgumentErrorFragmentFragmentDoc}
${ArgumentNullErrorFragmentFragmentDoc}
${ArgumentOutOfRangeErrorFragmentFragmentDoc}`,CreateSlackChannelTargetDocument=lib_default`
    mutation createSlackChannelTarget($name: String!, $value: String!) {
  createSlackChannelTarget(input: {name: $name, value: $value}) {
    ...CreateSlackChannelTargetResponseFragment
  }
}
    ${CreateSlackChannelTargetResponseFragmentFragmentDoc}`,CreateSmsTargetDocument=lib_default`
    mutation createSmsTarget($name: String!, $value: String!) {
  createSmsTarget(createTargetInput: {name: $name, value: $value}) {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,CreateSourceDocument=lib_default`
    mutation createSource($name: String, $blockchainAddress: String!, $type: SourceType!, $fusionEventTypeId: String) {
  createSource(
    createSourceInput: {name: $name, blockchainAddress: $blockchainAddress, type: $type, fusionEventTypeId: $fusionEventTypeId}
  ) {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,CreateSourceGroupDocument=lib_default`
    mutation createSourceGroup($name: String!, $sourceIds: [String!]!) {
  createSourceGroup(sourceGroupInput: {name: $name, sourceIds: $sourceIds}) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,CreateTargetGroupDocument=lib_default`
    mutation createTargetGroup($name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $webhookTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  createTargetGroup(
    targetGroupInput: {name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, webhookTargetIds: $webhookTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,CreateTelegramTargetDocument=lib_default`
    mutation createTelegramTarget($name: String!, $value: String!) {
  createTelegramTarget(createTargetInput: {name: $name, value: $value}) {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,CreateTenantUserDocument=lib_default`
    mutation createTenantUser($input: CreateTenantUserInput!) {
  createTenantUser(createTenantUserInput: $input) {
    ...TenantUserFragment
  }
}
    ${TenantUserFragmentFragmentDoc}`,CreateWeb3TargetDocument=lib_default`
    mutation createWeb3Target($name: String!, $accountId: String!, $walletBlockchain: WalletBlockchain!, $web3TargetProtocol: Web3TargetProtocol!) {
  createWeb3Target(
    createWeb3TargetInput: {name: $name, accountId: $accountId, walletBlockchain: $walletBlockchain, protocol: $web3TargetProtocol}
  ) {
    ...Web3TargetFragment
  }
}
    ${Web3TargetFragmentFragmentDoc}`,CreateWebPushTargetDocument=lib_default`
    mutation createWebPushTarget($vapidPublicKey: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  createWebPushTarget(
    input: {vapidPublicKey: $vapidPublicKey, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetLimitExceededErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}
${TargetLimitExceededErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,CreateWebhookTargetDocument=lib_default`
    mutation createWebhookTarget($name: String!, $url: String!, $format: WebhookPayloadFormat!, $headers: [KeyValuePairOfStringAndStringInput!]!) {
  createWebhookTarget(
    createTargetInput: {name: $name, url: $url, format: $format, headers: $headers}
  ) {
    ...WebhookTargetFragment
  }
}
    ${WebhookTargetFragmentFragmentDoc}`,DeleteAlertDocument=lib_default`
    mutation deleteAlert($id: String!) {
  deleteAlert(alertId: $id) {
    id
  }
}
    `,DeleteAlertsDocument=lib_default`
    mutation deleteAlerts($input: DeleteAlertsInput!) {
  deleteAlerts(input: $input) {
    deleteAlertsResponse {
      alertsIds
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${ArgumentErrorFragmentFragmentDoc}
${ArgumentNullErrorFragmentFragmentDoc}
${ArgumentOutOfRangeErrorFragmentFragmentDoc}`,DeleteDirectPushAlertDocument=lib_default`
    mutation deleteDirectPushAlert($input: DeleteDirectPushAlertInput!) {
  deleteDirectPushAlert(deleteDirectPushAlertInput: $input) {
    id
  }
}
    `,DeleteSourceGroupDocument=lib_default`
    mutation deleteSourceGroup($id: String!) {
  deleteSourceGroup(sourceGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteTargetGroupDocument=lib_default`
    mutation deleteTargetGroup($id: String!) {
  deleteTargetGroup(targetGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteUserAlertDocument=lib_default`
    mutation deleteUserAlert($alertId: String!) {
  deleteUserAlert(alertId: $alertId) {
    id
  }
}
    `,DeleteWebPushTargetDocument=lib_default`
    mutation deleteWebPushTarget($id: String!) {
  deleteWebPushTarget(input: {id: $id}) {
    success
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${TargetDoesNotExistErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,DeleteWebhookTargetDocument=lib_default`
    mutation deleteWebhookTarget($id: String!) {
  deleteWebhookTarget(deleteTargetInput: {id: $id}) {
    id
  }
}
    `,LogInByOidcDocument=lib_default`
    mutation logInByOidc($dappId: String!, $oidcProvider: OidcProvider!, $idToken: String!) {
  logInByOidc(
    input: {dappId: $dappId, oidcProvider: $oidcProvider, idToken: $idToken}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromDappDocument=lib_default`
    mutation logInFromDapp($walletBlockchain: WalletBlockchain!, $walletPublicKey: String!, $dappAddress: String!, $timestamp: Long!, $signature: String!, $accountId: String) {
  logInFromDapp(
    dappLogInInput: {walletBlockchain: $walletBlockchain, walletPublicKey: $walletPublicKey, dappAddress: $dappAddress, timestamp: $timestamp, accountId: $accountId}
    signature: $signature
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromServiceDocument=lib_default`
    mutation logInFromService($input: ServiceLogInInput!) {
  logInFromService(serviceLogInInput: $input) {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,MarkFusionNotificationHistoryAsReadDocument=lib_default`
    mutation markFusionNotificationHistoryAsRead($ids: [String!]!, $beforeId: String, $readState: NotificationHistoryReadState) {
  markFusionNotificationHistoryAsRead(
    input: {ids: $ids, beforeId: $beforeId, readState: $readState}
  )
}
    `,PublishFusionMessageDocument=lib_default`
    mutation publishFusionMessage($eventTypeId: String!, $variablesJson: String!, $specificWallets: [KeyValuePairOfStringAndWalletBlockchainInput!]) {
  publishFusionMessage(
    publishFusionMessageInput: {eventTypeId: $eventTypeId, variablesJson: $variablesJson, specificWallets: $specificWallets}
  ) {
    eventUuid
  }
}
    `,RefreshAuthorizationDocument=lib_default`
    mutation refreshAuthorization {
  refreshAuthorization {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,RemoveSourceFromSourceGroupDocument=lib_default`
    mutation removeSourceFromSourceGroup($input: RemoveSourceFromSourceGroupInput!) {
  removeSourceFromSourceGroup(removeSourceFromSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,SendEmailTargetVerificationRequestDocument=lib_default`
    mutation sendEmailTargetVerificationRequest($targetId: String!) {
  sendEmailTargetVerificationRequest(
    sendTargetConfirmationRequestInput: {targetId: $targetId}
  ) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,SendMessageDocument=lib_default`
    mutation sendMessage($input: SendMessageInput!) {
  sendMessage(sendMessageInput: $input)
}
    `,UpdateSourceGroupDocument=lib_default`
    mutation updateSourceGroup($id: String!, $name: String!, $sourceIds: [String!]!) {
  updateSourceGroup: createSourceGroup(
    sourceGroupInput: {id: $id, name: $name, sourceIds: $sourceIds}
  ) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,UpdateTargetGroupDocument=lib_default`
    mutation updateTargetGroup($id: String!, $name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $webhookTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  updateTargetGroup: createTargetGroup(
    targetGroupInput: {id: $id, name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, webhookTargetIds: $webhookTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,UpdateUserSettingsDocument=lib_default`
    mutation updateUserSettings($input: UserSettingsInput!) {
  updateUserSettings(userSettings: $input) {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,UpdateWebPushTargetDocument=lib_default`
    mutation updateWebPushTarget($id: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  updateWebPushTarget(
    input: {id: $id, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}
${TargetDoesNotExistErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,VerifyCbwTargetDocument=lib_default`
    mutation verifyCbwTarget($input: VerifyCbwTargetInput!) {
  verifyCbwTarget(input: $input) {
    ...VerifyCbwTargetResponseFragment
  }
}
    ${VerifyCbwTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetDocument=lib_default`
    mutation verifyXmtpTarget($input: VerifyXmtpTargetInput!) {
  verifyXmtpTarget(input: $input) {
    ...VerifyXmtpTargetResponseFragment
  }
}
    ${VerifyXmtpTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetViaXip42Document=lib_default`
    mutation verifyXmtpTargetViaXip42($input: VerifyXmtpTargetViaXip42Input!) {
  verifyXmtpTargetViaXip42(input: $input) {
    ...VerifyXmtpTargetViaXip42ResponseFragment
  }
}
    ${VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc}`,FetchDataDocument=lib_default`
    query fetchData {
  alert {
    ...AlertFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  source {
    ...SourceFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
  emailTarget {
    ...EmailTargetFragment
  }
  smsTarget {
    ...SmsTargetFragment
  }
  telegramTarget {
    ...TelegramTargetFragment
  }
  discordTarget {
    ...DiscordTargetFragment
  }
  filter {
    ...FilterFragment
  }
}
    ${AlertFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${SourceFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}
${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${FilterFragmentFragmentDoc}`,FetchFusionDataDocument=lib_default`
    query fetchFusionData {
  alert {
    ...AlertFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${AlertFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,FindTenantConfigDocument=lib_default`
    query findTenantConfig($input: FindTenantConfigInput!) {
  findTenantConfig(findTenantConfigInput: $input) {
    ...TenantConfigFragment
  }
}
    ${TenantConfigFragmentFragmentDoc}`,GetActiveAlertsDocument=lib_default`
    query getActiveAlerts($first: Int, $after: String, $fusionEventId: String!) {
  activeAlerts(
    after: $after
    first: $first
    activeAlertsInput: {fusionEventId: $fusionEventId}
  ) {
    nodes {
      ...ActiveAlertFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${ActiveAlertFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetAlertsDocument=lib_default`
    query getAlerts {
  alert {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,GetConfigurationForDappDocument=lib_default`
    query getConfigurationForDapp($dappAddress: String!) {
  configurationForDapp(getConfigurationForDappInput: {dappAddress: $dappAddress}) {
    supportedSmsCountryCodes
    supportedTargetTypes
  }
}
    `,GetConnectedWalletsDocument=lib_default`
    query getConnectedWallets {
  connectedWallet {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,GetDiscordTargetsDocument=lib_default`
    query getDiscordTargets {
  discordTarget {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,GetEmailTargetsDocument=lib_default`
    query getEmailTargets {
  emailTarget {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,GetFiltersDocument=lib_default`
    query getFilters {
  filter {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,GetFusionNotificationHistoryDocument=lib_default`
    query getFusionNotificationHistory($after: String, $first: Int, $includeHidden: Boolean, $includeRead: Boolean) {
  fusionNotificationHistory(
    after: $after
    first: $first
    includeHidden: $includeHidden
    includeRead: $includeRead
  ) {
    nodes {
      ...FusionNotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${FusionNotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetNotificationHistoryDocument=lib_default`
    query getNotificationHistory($after: String, $first: Int) {
  notificationHistory(after: $after, first: $first) {
    nodes {
      ...NotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${NotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetSlackChannelTargetsDocument=lib_default`
    query getSlackChannelTargets($after: String, $first: Int, $ids: [String!]) {
  slackChannelTargets(input: {after: $after, first: $first, ids: $ids}) {
    ...GetSlackChannelTargetsResponseFragment
  }
}
    ${GetSlackChannelTargetsResponseFragmentFragmentDoc}`,GetSmsTargetsDocument=lib_default`
    query getSmsTargets {
  smsTarget {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,GetSourceConnectionDocument=lib_default`
    query getSourceConnection($input: GetSourcesInput, $first: Int, $after: String) {
  sources(getSourcesInput: $input, first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...SourceFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${SourceFragmentFragmentDoc}`,GetSourceGroupsDocument=lib_default`
    query getSourceGroups {
  sourceGroup {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,GetSourcesDocument=lib_default`
    query getSources {
  source {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,GetTargetGroupsDocument=lib_default`
    query getTargetGroups {
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,GetTelegramTargetsDocument=lib_default`
    query getTelegramTargets {
  telegramTarget {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,GetTenantConnectedWalletDocument=lib_default`
    query getTenantConnectedWallet($input: GetTenantConnectedWalletInput, $first: Int, $after: String) {
  tenantConnectedWallet(
    getTenantConnectedWalletInput: $input
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantConnectedWalletFragment
      user {
        ...TenantUserFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTenantUserDocument=lib_default`
    query getTenantUser($first: Int, $after: String) {
  tenantUser(first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantUserFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTopicsDocument=lib_default`
    query getTopics {
  topics {
    nodes {
      ...UserTopicFragment
    }
  }
}
    ${UserTopicFragmentFragmentDoc}`,GetUnreadNotificationHistoryCountDocument=lib_default`
    query getUnreadNotificationHistoryCount($cardId: String) {
  unreadNotificationHistoryCount(input: {cardId: $cardId}) {
    count
  }
}
    `,GetUserSettingsDocument=lib_default`
    query getUserSettings {
  userSettings {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,GetWeb3TargetsDocument=lib_default`
    query getWeb3Targets {
  web3Targets {
    ...GetWeb3TargetResponseFragment
  }
}
    ${GetWeb3TargetResponseFragmentFragmentDoc}`,GetWebPushTargetsDocument=lib_default`
    query getWebPushTargets($ids: [String!], $first: Int, $after: String) {
  webPushTargets(
    input: {ids: $ids, first: $first, after: $after}
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...WebPushTargetFragment
    }
    edges {
      cursor
      node {
        ...WebPushTargetFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${WebPushTargetFragmentFragmentDoc}`,GetWebhookTargetsDocument=lib_default`
    query getWebhookTargets {
  webhookTarget {
    ...WebhookTargetFragment
  }
}
    ${WebhookTargetFragmentFragmentDoc}`,defaultWrapper=(a,s,et,nt)=>a();function getSdk(a,s=defaultWrapper){return{addSourceToSourceGroup(et,nt){return s(at=>a.request(AddSourceToSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"addSourceToSourceGroup","mutation",et)},beginLogInByTransaction(et,nt){return s(at=>a.request(BeginLogInByTransactionDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"beginLogInByTransaction","mutation",et)},beginLogInWithWeb3(et,nt){return s(at=>a.request(BeginLogInWithWeb3Document,et,__spreadValues$1(__spreadValues$1({},nt),at)),"beginLogInWithWeb3","mutation",et)},broadcastMessage(et,nt){return s(at=>a.request(BroadcastMessageDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"broadcastMessage","mutation",et)},completeLogInByTransaction(et,nt){return s(at=>a.request(CompleteLogInByTransactionDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"completeLogInByTransaction","mutation",et)},completeLogInWithWeb3(et,nt){return s(at=>a.request(CompleteLogInWithWeb3Document,et,__spreadValues$1(__spreadValues$1({},nt),at)),"completeLogInWithWeb3","mutation",et)},connectWallet(et,nt){return s(at=>a.request(ConnectWalletDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"connectWallet","mutation",et)},createAlert(et,nt){return s(at=>a.request(CreateAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createAlert","mutation",et)},createDirectPushAlert(et,nt){return s(at=>a.request(CreateDirectPushAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createDirectPushAlert","mutation",et)},createDiscordTarget(et,nt){return s(at=>a.request(CreateDiscordTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createDiscordTarget","mutation",et)},createEmailTarget(et,nt){return s(at=>a.request(CreateEmailTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createEmailTarget","mutation",et)},createFusionAlerts(et,nt){return s(at=>a.request(CreateFusionAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createFusionAlerts","mutation",et)},createSlackChannelTarget(et,nt){return s(at=>a.request(CreateSlackChannelTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSlackChannelTarget","mutation",et)},createSmsTarget(et,nt){return s(at=>a.request(CreateSmsTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSmsTarget","mutation",et)},createSource(et,nt){return s(at=>a.request(CreateSourceDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSource","mutation",et)},createSourceGroup(et,nt){return s(at=>a.request(CreateSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSourceGroup","mutation",et)},createTargetGroup(et,nt){return s(at=>a.request(CreateTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createTargetGroup","mutation",et)},createTelegramTarget(et,nt){return s(at=>a.request(CreateTelegramTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createTelegramTarget","mutation",et)},createTenantUser(et,nt){return s(at=>a.request(CreateTenantUserDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createTenantUser","mutation",et)},createWeb3Target(et,nt){return s(at=>a.request(CreateWeb3TargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createWeb3Target","mutation",et)},createWebPushTarget(et,nt){return s(at=>a.request(CreateWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createWebPushTarget","mutation",et)},createWebhookTarget(et,nt){return s(at=>a.request(CreateWebhookTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createWebhookTarget","mutation",et)},deleteAlert(et,nt){return s(at=>a.request(DeleteAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteAlert","mutation",et)},deleteAlerts(et,nt){return s(at=>a.request(DeleteAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteAlerts","mutation",et)},deleteDirectPushAlert(et,nt){return s(at=>a.request(DeleteDirectPushAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteDirectPushAlert","mutation",et)},deleteSourceGroup(et,nt){return s(at=>a.request(DeleteSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteSourceGroup","mutation",et)},deleteTargetGroup(et,nt){return s(at=>a.request(DeleteTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteTargetGroup","mutation",et)},deleteUserAlert(et,nt){return s(at=>a.request(DeleteUserAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteUserAlert","mutation",et)},deleteWebPushTarget(et,nt){return s(at=>a.request(DeleteWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteWebPushTarget","mutation",et)},deleteWebhookTarget(et,nt){return s(at=>a.request(DeleteWebhookTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteWebhookTarget","mutation",et)},logInByOidc(et,nt){return s(at=>a.request(LogInByOidcDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"logInByOidc","mutation",et)},logInFromDapp(et,nt){return s(at=>a.request(LogInFromDappDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"logInFromDapp","mutation",et)},logInFromService(et,nt){return s(at=>a.request(LogInFromServiceDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"logInFromService","mutation",et)},markFusionNotificationHistoryAsRead(et,nt){return s(at=>a.request(MarkFusionNotificationHistoryAsReadDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"markFusionNotificationHistoryAsRead","mutation",et)},publishFusionMessage(et,nt){return s(at=>a.request(PublishFusionMessageDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"publishFusionMessage","mutation",et)},refreshAuthorization(et,nt){return s(at=>a.request(RefreshAuthorizationDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"refreshAuthorization","mutation",et)},removeSourceFromSourceGroup(et,nt){return s(at=>a.request(RemoveSourceFromSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"removeSourceFromSourceGroup","mutation",et)},sendEmailTargetVerificationRequest(et,nt){return s(at=>a.request(SendEmailTargetVerificationRequestDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"sendEmailTargetVerificationRequest","mutation",et)},sendMessage(et,nt){return s(at=>a.request(SendMessageDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"sendMessage","mutation",et)},updateSourceGroup(et,nt){return s(at=>a.request(UpdateSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateSourceGroup","mutation",et)},updateTargetGroup(et,nt){return s(at=>a.request(UpdateTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateTargetGroup","mutation",et)},updateUserSettings(et,nt){return s(at=>a.request(UpdateUserSettingsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateUserSettings","mutation",et)},updateWebPushTarget(et,nt){return s(at=>a.request(UpdateWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateWebPushTarget","mutation",et)},verifyCbwTarget(et,nt){return s(at=>a.request(VerifyCbwTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"verifyCbwTarget","mutation",et)},verifyXmtpTarget(et,nt){return s(at=>a.request(VerifyXmtpTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"verifyXmtpTarget","mutation",et)},verifyXmtpTargetViaXip42(et,nt){return s(at=>a.request(VerifyXmtpTargetViaXip42Document,et,__spreadValues$1(__spreadValues$1({},nt),at)),"verifyXmtpTargetViaXip42","mutation",et)},fetchData(et,nt){return s(at=>a.request(FetchDataDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"fetchData","query",et)},fetchFusionData(et,nt){return s(at=>a.request(FetchFusionDataDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"fetchFusionData","query",et)},findTenantConfig(et,nt){return s(at=>a.request(FindTenantConfigDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"findTenantConfig","query",et)},getActiveAlerts(et,nt){return s(at=>a.request(GetActiveAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getActiveAlerts","query",et)},getAlerts(et,nt){return s(at=>a.request(GetAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getAlerts","query",et)},getConfigurationForDapp(et,nt){return s(at=>a.request(GetConfigurationForDappDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getConfigurationForDapp","query",et)},getConnectedWallets(et,nt){return s(at=>a.request(GetConnectedWalletsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getConnectedWallets","query",et)},getDiscordTargets(et,nt){return s(at=>a.request(GetDiscordTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getDiscordTargets","query",et)},getEmailTargets(et,nt){return s(at=>a.request(GetEmailTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getEmailTargets","query",et)},getFilters(et,nt){return s(at=>a.request(GetFiltersDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getFilters","query",et)},getFusionNotificationHistory(et,nt){return s(at=>a.request(GetFusionNotificationHistoryDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getFusionNotificationHistory","query",et)},getNotificationHistory(et,nt){return s(at=>a.request(GetNotificationHistoryDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getNotificationHistory","query",et)},getSlackChannelTargets(et,nt){return s(at=>a.request(GetSlackChannelTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSlackChannelTargets","query",et)},getSmsTargets(et,nt){return s(at=>a.request(GetSmsTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSmsTargets","query",et)},getSourceConnection(et,nt){return s(at=>a.request(GetSourceConnectionDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSourceConnection","query",et)},getSourceGroups(et,nt){return s(at=>a.request(GetSourceGroupsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSourceGroups","query",et)},getSources(et,nt){return s(at=>a.request(GetSourcesDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSources","query",et)},getTargetGroups(et,nt){return s(at=>a.request(GetTargetGroupsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTargetGroups","query",et)},getTelegramTargets(et,nt){return s(at=>a.request(GetTelegramTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTelegramTargets","query",et)},getTenantConnectedWallet(et,nt){return s(at=>a.request(GetTenantConnectedWalletDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTenantConnectedWallet","query",et)},getTenantUser(et,nt){return s(at=>a.request(GetTenantUserDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTenantUser","query",et)},getTopics(et,nt){return s(at=>a.request(GetTopicsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTopics","query",et)},getUnreadNotificationHistoryCount(et,nt){return s(at=>a.request(GetUnreadNotificationHistoryCountDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getUnreadNotificationHistoryCount","query",et)},getUserSettings(et,nt){return s(at=>a.request(GetUserSettingsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getUserSettings","query",et)},getWeb3Targets(et,nt){return s(at=>a.request(GetWeb3TargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getWeb3Targets","query",et)},getWebPushTargets(et,nt){return s(at=>a.request(GetWebPushTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getWebPushTargets","query",et)},getWebhookTargets(et,nt){return s(at=>a.request(GetWebhookTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getWebhookTargets","query",et)}}}var NotifiService=class{constructor(a,s){this._notifiSubService=s,this._typedClient=getSdk(a)}setJwt(a){this._jwt=a,this._notifiSubService.setJwt(a)}async logOut(){this._jwt=void 0,this._notifiSubService.setJwt(void 0)}async addSourceToSourceGroup(a){const s=this._requestHeaders();return this._typedClient.addSourceToSourceGroup(a,s)}async beginLogInByTransaction(a){const s=this._requestHeaders();return this._typedClient.beginLogInByTransaction(a,s)}async broadcastMessage(a){const s=this._requestHeaders();return this._typedClient.broadcastMessage(a,s)}async completeLogInByTransaction(a){var s,et;const nt=this._requestHeaders(),at=await this._typedClient.completeLogInByTransaction(a,nt),mt=(et=(s=at.completeLogInByTransaction)==null?void 0:s.authorization)==null?void 0:et.token;return mt!==void 0&&this._onAuthComplete(mt),at}async connectWallet(a){const s=this._requestHeaders();return await this._typedClient.connectWallet(a,s)}async createAlert(a){const s=this._requestHeaders();return this._typedClient.createAlert(a,s)}async createFusionAlerts(a){const s=this._requestHeaders();return this._typedClient.createFusionAlerts(a,s)}async createDirectPushAlert(a){const s=this._requestHeaders();return this._typedClient.createDirectPushAlert(a,s)}async createEmailTarget(a){const s=this._requestHeaders();return this._typedClient.createEmailTarget(a,s)}async createDiscordTarget(a){const s=this._requestHeaders();return this._typedClient.createDiscordTarget(a,s)}async createSlackChannelTarget(a){const s=this._requestHeaders();return this._typedClient.createSlackChannelTarget(a,s)}async createWeb3Target(a){const s=this._requestHeaders();return this._typedClient.createWeb3Target(a,s)}async createSmsTarget(a){const s=this._requestHeaders();return this._typedClient.createSmsTarget(a,s)}async createSource(a){const s=this._requestHeaders();return this._typedClient.createSource(a,s)}async createSourceGroup(a){const s=this._requestHeaders();return this._typedClient.createSourceGroup(a,s)}async createTargetGroup(a){const s=this._requestHeaders();return this._typedClient.createTargetGroup(a,s)}async createTenantUser(a){const s=this._requestHeaders();return this._typedClient.createTenantUser(a,s)}async createWebhookTarget(a){const s=this._requestHeaders();return this._typedClient.createWebhookTarget(a,s)}async createTelegramTarget(a){const s=this._requestHeaders();return this._typedClient.createTelegramTarget(a,s)}async deleteAlert(a){const s=this._requestHeaders();return this._typedClient.deleteAlert(a,s)}async deleteAlerts(a){const s=this._requestHeaders();return this._typedClient.deleteAlerts(a,s)}async DeleteDirectPushAlert(a){const s=this._requestHeaders();return this._typedClient.deleteDirectPushAlert(a,s)}async deleteUserAlert(a){const s=this._requestHeaders();return this._typedClient.deleteUserAlert(a,s)}async deleteSourceGroup(a){const s=this._requestHeaders();return this._typedClient.deleteSourceGroup(a,s)}async deleteTargetGroup(a){const s=this._requestHeaders();return this._typedClient.deleteTargetGroup(a,s)}async deleteWebhookTarget(a){const s=this._requestHeaders();return this._typedClient.deleteWebhookTarget(a,s)}async fetchData(a){const s=this._requestHeaders();return this._typedClient.fetchData(a,s)}async fetchFusionData(a){const s=this._requestHeaders();return this._typedClient.fetchFusionData(a,s)}async findTenantConfig(a){const s=this._requestHeaders();return this._typedClient.findTenantConfig(a,s)}async getAlerts(a){const s=this._requestHeaders();return this._typedClient.getAlerts(a,s)}async getActiveAlerts(a){const s=this._requestHeaders();return this._typedClient.getActiveAlerts(a,s)}async getConfigurationForDapp(a){const s=this._requestHeaders();return this._typedClient.getConfigurationForDapp(a,s)}async getConnectedWallets(a){const s=this._requestHeaders();return this._typedClient.getConnectedWallets(a,s)}async getEmailTargets(a){const s=this._requestHeaders();return this._typedClient.getEmailTargets(a,s)}async getDiscordTargets(a){const s=this._requestHeaders();return this._typedClient.getDiscordTargets(a,s)}async getSlackChannelTargets(a){const s=this._requestHeaders();return this._typedClient.getSlackChannelTargets(a,s)}async getWeb3Targets(a){const s=this._requestHeaders();return this._typedClient.getWeb3Targets(a,s)}async getFilters(a){const s=this._requestHeaders();return this._typedClient.getFilters(a,s)}async getFusionNotificationHistory(a){const s=this._requestHeaders();return this._typedClient.getFusionNotificationHistory(a,s)}async getNotificationHistory(a){const s=this._requestHeaders();return this._typedClient.getNotificationHistory(a,s)}async getSmsTargets(a){const s=this._requestHeaders();return this._typedClient.getSmsTargets(a,s)}async getSourceConnection(a){const s=this._requestHeaders();return this._typedClient.getSourceConnection(a,s)}async getSourceGroups(a){const s=this._requestHeaders();return this._typedClient.getSourceGroups(a,s)}async getSources(a){const s=this._requestHeaders();return this._typedClient.getSources(a,s)}async getTargetGroups(a){const s=this._requestHeaders();return this._typedClient.getTargetGroups(a,s)}async getTelegramTargets(a){const s=this._requestHeaders();return this._typedClient.getTelegramTargets(a,s)}async getTenantConnectedWallets(a){const s=this._requestHeaders();return this._typedClient.getTenantConnectedWallet(a,s)}async getTenantUser(a){const s=this._requestHeaders();return this._typedClient.getTenantUser(a,s)}async getTopics(a){const s=this._requestHeaders();return this._typedClient.getTopics(a,s)}async getUnreadNotificationHistoryCount(a){const s=this._requestHeaders();return this._typedClient.getUnreadNotificationHistoryCount(a,s)}subscribeNotificationHistoryStateChanged(a,s,et){return this._notifiSubService.subscribe(this._jwt,stateChangedSubscriptionQuery,a,s,et)}async wsDispose(){this._notifiSubService.disposeClient()}addEventListener(a,s,et,nt){return this._notifiSubService.addEventListener(a,s,et,nt)}removeEventListener(a,s){return this._notifiSubService.removeEventListener(a,s)}async getUserSettings(a){const s=this._requestHeaders();return this._typedClient.getUserSettings(a,s)}async getWebhookTargets(a){const s=this._requestHeaders();return this._typedClient.getWebhookTargets(a,s)}async logInFromDapp(a){var s,et;const nt=this._requestHeaders(),at=await this._typedClient.logInFromDapp(a,nt),mt=(et=(s=at.logInFromDapp)==null?void 0:s.authorization)==null?void 0:et.token;return mt!==void 0&&this._onAuthComplete(mt),at}async logInFromService(a){var s;const et=this._requestHeaders(),nt=await this._typedClient.logInFromService(a,et),at=(s=nt.logInFromService)==null?void 0:s.token;return at!==void 0&&this._onAuthComplete(at),nt}async logInByOidc(a){var s,et,nt;const at=this._requestHeaders(),mt=await this._typedClient.logInByOidc(a,at),wt=(nt=(et=(s=mt.logInByOidc)==null?void 0:s.user)==null?void 0:et.authorization)==null?void 0:nt.token;return wt!==void 0&&this._onAuthComplete(wt),mt}async markFusionNotificationHistoryAsRead(a){const s=this._requestHeaders();return this._typedClient.markFusionNotificationHistoryAsRead(a,s)}async updateUserSettings(a){const s=this._requestHeaders();return this._typedClient.updateUserSettings(a,s)}async refreshAuthorization(a){var s;const et=this._requestHeaders(),nt=await this._typedClient.refreshAuthorization(a,et),at=(s=nt.refreshAuthorization)==null?void 0:s.token;return at!==void 0&&this._onAuthComplete(at),nt}async removeSourceFromSourceGroup(a){const s=this._requestHeaders();return this._typedClient.removeSourceFromSourceGroup(a,s)}async sendEmailTargetVerificationRequest(a){const s=this._requestHeaders();return this._typedClient.sendEmailTargetVerificationRequest(a,s)}async sendMessage(a){const s=this._requestHeaders();return this._typedClient.sendMessage(a,s)}async updateSourceGroup(a){const s=this._requestHeaders();return this._typedClient.updateSourceGroup(a,s)}async updateTargetGroup(a){const s=this._requestHeaders();return this._typedClient.updateTargetGroup(a,s)}async beginLogInWithWeb3(a){const s=this._requestHeaders();return this._typedClient.beginLogInWithWeb3(a,s)}async completeLogInWithWeb3(a){var s,et,nt;const at=this._requestHeaders(),mt=await this._typedClient.completeLogInWithWeb3(a,at),wt=(nt=(et=(s=mt==null?void 0:mt.completeLogInWithWeb3)==null?void 0:s.user)==null?void 0:et.authorization)==null?void 0:nt.token;return wt!==void 0&&this._onAuthComplete(wt),mt}async verifyCbwTarget(a){const s=this._requestHeaders();return this._typedClient.verifyCbwTarget(a,s)}async verifyXmtpTarget(a){const s=this._requestHeaders();return this._typedClient.verifyXmtpTarget(a,s)}async verifyXmtpTargetViaXip42(a){const s=this._requestHeaders();return this._typedClient.verifyXmtpTargetViaXip42(a,s)}async createWebPushTarget(a){const s=this._requestHeaders();return this._typedClient.createWebPushTarget(a,s)}async updateWebPushTarget(a){const s=this._requestHeaders();return this._typedClient.updateWebPushTarget(a,s)}async deleteWebPushTarget(a){const s=this._requestHeaders();return this._typedClient.deleteWebPushTarget(a,s)}async getWebPushTargets(a){const s=this._requestHeaders();return this._typedClient.getWebPushTargets(a,s)}_onAuthComplete(a){this._jwt=a,this._notifiSubService.setJwt(a)}_requestHeaders(){const s={"X-Request-Id":v4(),"X-Notifi-Client-Version":version};return this._jwt!==void 0&&(s.Authorization=`Bearer ${this._jwt}`),s}},NotifiEventEmitter=class{constructor(){this.listeners={}}on(a,s,et){this.listeners[a]||(this.listeners[a]={}),this.listeners[a][et]=s}off(a,s){var et;(et=this.listeners[a])!=null&&et[s]&&(this.listeners[a][s].subscription.unsubscribe(),delete this.listeners[a][s])}emit(a,s,...et){var nt,at;(nt=this.listeners[a])!=null&&nt[s]&&(at=this.listeners[a])!=null&&at[s]&&this.listeners[a][s].callback(...et)}},NotifiSubscriptionService=class{constructor(a,s){this.wsurl=a,this.webSocketImpl=s,this.eventEmitter=new NotifiEventEmitter,this.setJwt=et=>{this._jwt=et},this.addEventListener=(et,nt,at,mt)=>{const wt=Math.random().toString(36).slice(2,11),$t={subscriptionQuery:"",id:wt,onError:at,onComplete:mt};switch(et){case"stateChanged":$t.subscriptionQuery=stateChangedSubscriptionQuery;break;case"tenantActiveAlertChanged":$t.subscriptionQuery=tenantActiveAlertChangedSubscriptionQuery;break;default:throw new Error("Unknown event")}const Ct=this._subscribe($t);if(!Ct)throw new Error("NotifiSubscriptionService.addEventListener: Subscription failed");return this.eventEmitter.on(et,{callback:nt,subscription:Ct},wt),wt},this.removeEventListener=(et,nt)=>this.eventEmitter.off(et,nt),this._subscribe=({subscriptionQuery:et,id:nt,onError:at,onComplete:mt})=>(this._wsClient||this._initializeClient(),!this._wsClient||!this._jwt?null:this._toObservable(this._wsClient,{query:et,extensions:{type:"start"}}).subscribe({next:Ct=>{switch(et){case stateChangedSubscriptionQuery:const Dt=getSubscriptionData("stateChanged",Ct);if(!Dt)throw new Error("Invalid stateChanged event data");this.eventEmitter.emit("stateChanged",nt,Dt);break;case tenantActiveAlertChangedSubscriptionQuery:const Ft=getSubscriptionData("tenantActiveAlertChanged",Ct);if(!Ft)throw new Error("Invalid tenantActiveAlertChanged event data");this.eventEmitter.emit("tenantActiveAlertChanged",nt,Ft);break;default:console.warn("Unknown subscription query:",et)}},error:at,complete:mt})),this._initializeClient=()=>{if(!this._jwt)throw new Error("NotifiSubscriptionService._initializeClient: Missing JWT");this._wsClient=createClient({url:this.wsurl,connectionParams:{Authorization:`Bearer ${this._jwt}`},webSocketImpl:this.webSocketImpl})},this.disposeClient=()=>{this._wsClient&&(this._jwt=void 0,this._wsClient.terminate(),this._wsClient.dispose())},this.subscribe=(et,nt,at,mt,wt)=>(this._jwt=et,this._wsClient||this._initializeClient(),this._wsClient?this._toObservable(this._wsClient,{query:nt,extensions:{type:"start"}}).subscribe({next:Dt=>{at&&at(Dt)},error:Dt=>{mt&&Dt instanceof Error&&mt(Dt)},complete:()=>{wt&&wt()}}):null)}_toObservable(a,s){return relayRuntime.Observable.create(et=>a.subscribe(s,{next:nt=>et.next(nt),error:nt=>{nt instanceof Error&&et.error(nt)},complete:()=>et.complete()}))}},getSubscriptionData=(a,s)=>{if(typeof s!="object"||s===null||!("data"in s))return null;const{data:et}=s;return typeof et=="object"&&et!==null&&a in et?et[a]:null},browser=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const WebSocket$1=getDefaultExportFromCjs$2(browser);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(a,s,et)=>s in a?__defProp(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__spreadValues=(a,s)=>{for(var et in s||(s={}))__hasOwnProp.call(s,et)&&__defNormalProp(a,et,s[et]);if(__getOwnPropSymbols)for(var et of __getOwnPropSymbols(s))__propIsEnum.call(s,et)&&__defNormalProp(a,et,s[et]);return a},__spreadProps=(a,s)=>__defProps(a,__getOwnPropDescs(s)),checkIsConfigWithPublicKeyAndAddress=a=>"accountAddress"in a,checkIsConfigWithDelegate=a=>"delegatedAddress"in a,checkIsConfigWithOidc=a=>a.walletBlockchain==="OFF_CHAIN",evmChains=["ETHEREUM","POLYGON","ARBITRUM","AVALANCHE","BINANCE","OPTIMISM","THE_ROOT_NETWORK","BASE","BLAST","CELO","MANTLE","LINEA","SCROLL","MANTA","MONAD","ZKSYNC","BERACHAIN","SONIC","ROME"],isEvmChain=a=>!!evmChains.find(s=>s===a),envUrl=(a,s)=>{a||(a="Production");let et="";switch(a){case"Development":et="://api.dev.notifi.network/gql";break;case"Local":et="://localhost:5001/gql";break;case"Production":et="://api.notifi.network/gql";break;case"Staging":et="://api.stg.notifi.network/gql"}return`${s==="websocket"?"wss":a==="Local"?"http":"https"}${et}`},notNullOrEmpty=a=>a!=null,packFilterOptions=a=>a===null?"{}":JSON.stringify(a),createRefResolver=a=>(s,et,nt)=>{if(et.type==="value")return et.value;{if(et.ref===null)throw new Error(`Invalid configuration: Ref ${s} is null`);const at=nt[et.ref];if(a(at))return at;throw new Error(`Invalid value provided for ${s}: ${at}`)}},resolveStringRef=createRefResolver(a=>typeof a=="string"),resolveNumberRef=createRefResolver(a=>typeof a=="number"&&!Number.isNaN(a)),resolveStringArrayRef=createRefResolver(a=>Array.isArray(a)&&a.every(s=>typeof s=="string")),resolveCheckRatioArrayRef=createRefResolver(a=>Array.isArray(a)&&a.every(s=>typeof s=="object"&&typeof s.type=="string"&&typeof s.ratio=="number"&&!Number.isNaN(s.ratio))),areIdsEqual=(a,s)=>{const et=new Set(a);return s.length===et.size&&s.every(nt=>nt!==void 0&&nt.id!==void 0&&et.has(nt.id))},ensureDirectPushSource=async(a,s,et)=>{const at=(await a.getSources({})).source,mt=at==null?void 0:at.find(wt=>wt!==void 0&&wt.type==="DIRECT_PUSH");if(mt===void 0)throw new Error("Failed to identify direct push source");return mt},ensureFusionSource=async(a,s,et)=>{const nt=resolveStringRef(s.name,s.sourceAddress,et),at=resolveStringRef(s.name,s.fusionEventId,et),wt=(await a.getSources({})).source,$t=wt==null?void 0:wt.find(Ft=>Ft!==void 0&&Ft.type==="FUSION_SOURCE"&&Ft.blockchainAddress===nt&&Ft.fusionEventTypeId===at);if($t!==void 0)return $t;const Dt=(await a.createSource({type:"FUSION_SOURCE",blockchainAddress:nt,fusionEventTypeId:at})).createSource;if(Dt===void 0)throw new Error("Failed to create source");return Dt},ensureBroadcastSource=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const mt=resolveStringRef(s.name,s.broadcastId,et),wt=at.find(Dt=>(Dt==null?void 0:Dt.type)==="BROADCAST"&&Dt.blockchainAddress===mt);if(wt!==void 0)return wt;const Ct=(await a.createSource({type:"BROADCAST",blockchainAddress:mt})).createSource;if(Ct===void 0)throw new Error("Failed to create source");return Ct},ensureTradingPairSource=async(a,s,et)=>{const at=(await a.getSources({})).source,mt=at==null?void 0:at.find(wt=>(wt==null?void 0:wt.type)==="DIRECT_PUSH");if(mt===void 0)throw new Error("Failed to identify trading pair source (=directPush)");return mt},ensurePriceChangeSources=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const mt=[],wt=new Set(s.tokenIds);if(at.forEach($t=>{($t==null?void 0:$t.type)==="COIN_PRICE_CHANGES"&&(wt.delete($t.blockchainAddress),mt.push($t))}),wt.size>0){let $t=Promise.resolve();wt.forEach(Ct=>{$t=$t.then(async()=>{const Ft=(await a.createSource({type:"COIN_PRICE_CHANGES",blockchainAddress:Ct})).createSource;Ft!==void 0&&mt.push(Ft)})}),await $t}return mt},ensureWalletBalanceSources=async(a,s,et)=>{const at=(await a.getConnectedWallets({})).connectedWallet;if(!at)throw new Error("Failed to fetch connected wallets");const mt=at.map(Ft=>{var jt;const Ut=(ir=>{switch(ir){case"ACALA":return"ACALA_WALLET";case"APTOS":return"APTOS_WALLET";case"MOVEMENT":return"MOVEMENT_WALLET";case"ARBITRUM":return"ARBITRUM_WALLET";case"AVALANCHE":return"AVALANCHE_WALLET";case"BINANCE":return"BINANCE_WALLET";case"ETHEREUM":return"ETHEREUM_WALLET";case"THE_ROOT_NETWORK":return"THE_ROOT_NETWORK";case"BASE":return"ETHEREUM_WALLET";case"BLAST":return"BLAST_WALLET";case"CELO":return"CELO_WALLET";case"MANTLE":return"MANTLE_WALLET";case"LINEA":return"LINEA_WALLET";case"MONAD":return"MONAD_WALLET";case"MANTA":return"MANTA_WALLET";case"SCROLL":return"SCROLL_WALLET";case"POLYGON":return"POLYGON_WALLET";case"SOLANA":return"SOLANA_WALLET";case"OPTIMISM":return"OPTIMISM_WALLET";case"SUI":return"SUI_WALLET";case"ZKSYNC":return"ZKSYNC_WALLET";case"ARCHWAY":return"ARCHWAY_WALLET";case"ELYS":return"ELYS_WALLET";case"AXELAR":return"AXELAR_WALLET";case"NEUTRON":return"NEUTRON_WALLET";case"BERACHAIN":return"BERACHAIN_WALLET";case"XION":return"XION_WALLET";case"AGORIC":return"AGORIC_WALLET";case"ORAI":return"ORAI_WALLET";case"KAVA":return"KAVA_WALLET";case"CELESTIA":return"CELESTIA_WALLET";case"COSMOS":return"COSMOS_WALLET";case"DYMENSION":return"DYMENSION_WALLET";case"PERSISTENCE":return"PERSISTENCE_WALLET";case"DYDX":return"DYDX_WALLET";default:throw new Error("Unsupported walletType")}})(Ft==null?void 0:Ft.walletBlockchain),tr=(jt=Ft==null?void 0:Ft.address)!=null?jt:"";return{name:`${Ut} ${tr}`,blockchainAddress:tr,type:Ut}}),$t=(await a.getSources({})).source;if($t===void 0)throw new Error("Failed to fetch sources");const Ct=mt.map(async Ft=>{const jt=$t.find(tr=>(tr==null?void 0:tr.name)===Ft.name);if(jt)return jt;const{createSource:Ut}=await a.createSource(Ft);if(!Ut)throw new Error(`Failed to create ${Ft.type} source`);return Ut});return await Promise.all(Ct)},normalizeSourceAddress=(a,s)=>{switch(a){case"ETHEREUM_WALLET":case"POLYGON_WALLET":case"ARBITRUM_WALLET":case"BINANCE_WALLET":case"OPTIMISM_WALLET":case"AVALANCHE_WALLET":case"ZKSYNC_WALLET":case"BENQI":case"DELTA_PRIME":case"DELTA_PRIME_LENDING_RATES":case"MOVEMENT_WALLET":case"APTOS_WALLET":return normalizeHexString(s);default:return s}},normalizeHexString=a=>{let s=a;return a!==""&&(s=a.toLowerCase(),s.startsWith("0x")||(s="0x"+s)),s},ensureCustomSources=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const mt=resolveStringRef(s.name,s.sourceAddress,et),wt=normalizeSourceAddress(s.sourceType,mt),$t=at.find(Ft=>(Ft==null?void 0:Ft.type)===s.sourceType&&Ft.blockchainAddress===wt);if($t!==void 0)return $t;const Dt=(await a.createSource({type:s.sourceType,blockchainAddress:wt})).createSource;if(Dt===void 0)throw new Error("Failed to create source");return Dt},ensureXMTPSources=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const $t=resolveStringArrayRef(s.name,s.XMTPTopics,et).map(Dt=>({name:Dt,blockchainAddress:Dt,type:"XMTP"})).map(async Dt=>{const Ft=at.find(Ut=>(Ut==null?void 0:Ut.type)==="XMTP"&&Ut.name===Dt.name);if(Ft)return Ft;const{createSource:jt}=await a.createSource(Dt);if(!jt)throw new Error("Failed to create XMTP source");return jt});return await Promise.all($t)},ensureHealthCheckSources=async(a,s,et)=>{const at=(await a.getSources({})).source,mt=at==null?void 0:at.find(wt=>(wt==null?void 0:wt.type)==="DIRECT_PUSH");if(mt===void 0)throw new Error("Failed to identify Health Check source (=directPush)");return mt},ensureSources=async(a,s,et)=>{switch(s.type){case"directPush":return[await ensureDirectPushSource(a)];case"broadcast":return[await ensureBroadcastSource(a,s,et)];case"tradingPair":return[await ensureTradingPairSource(a)];case"priceChange":return await ensurePriceChangeSources(a,s);case"walletBalance":return await ensureWalletBalanceSources(a);case"custom":return[await ensureCustomSources(a,s,et)];case"XMTP":return await ensureXMTPSources(a,s,et);case"healthCheck":return[await ensureHealthCheckSources(a)];case"fusionToggle":case"fusion":return[await ensureFusionSource(a,s,et)];case"label":throw new Error("Unsupported event type");default:throw new Error("Unsupported event type")}},ensureSourceGroup=async(a,s,et)=>{var nt,at;const wt=(nt=(await a.getSourceGroups({})).sourceGroup)==null?void 0:nt.find(Dt=>Dt!==void 0&&Dt.name===s);if(wt===void 0){const Ft=(await a.createSourceGroup({name:s,sourceIds:et})).createSourceGroup;if(Ft===void 0)throw new Error("Failed to create source group");return Ft}if(areIdsEqual(et,(at=wt.sources)!=null?at:[]))return wt;const Ct=(await a.updateSourceGroup({id:wt.id,name:s,sourceIds:et})).updateSourceGroup;if(Ct===void 0)throw new Error("Failed to update source group");return Ct},getDirectPushFilter=(a,s,et)=>{var nt;const at=(nt=a.applicableFilters)==null?void 0:nt.find($t=>($t==null?void 0:$t.filterType)==="DIRECT_TENANT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter");const wt={directMessageType:resolveStringRef(s.name,s.directPushId,et)};return{filter:at,filterOptions:wt}},getBroadcastFilter=(a,s,et)=>{var nt;const at=(nt=a.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)==="BROADCAST_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter");return{filter:at,filterOptions:{}}},tradingPairInputsValidator=a=>!(typeof a.direction!="string"||typeof a.price!="number"||typeof a.pair!="string"),getTradingPairFilter=(a,s,et)=>{var nt;const at=(nt=a.applicableFilters)==null?void 0:nt.find(Ct=>(Ct==null?void 0:Ct.filterType)==="DIRECT_TENANT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve TradingPair filter (=directMessage)");const mt=resolveStringArrayRef(s.name,s.tradingPairs,et);if(mt.length===0)throw new Error("No trading pairs found");const wt=tradingPairInputsValidator(et)?et.pair:mt[0],$t=tradingPairInputsValidator(et)?et.price.toFixed(8):"1.00000000";return{filter:at,filterOptions:{tradingPair:wt,values:{and:[{key:"spotPrice",op:et.direction==="above"?"gt":"lt",value:$t}]}}}},getPriceChangeFilter=(a,s,et)=>{const nt=a.flatMap(at=>{var mt;return(mt=at.applicableFilters)!=null?mt:[]}).find(at=>(at==null?void 0:at.filterType)==="COIN_PRICE_CHANGE_EVENTS");if(nt===void 0)throw new Error("Failed to retrieve filter");return{filter:nt,filterOptions:{}}},getWalletBalanceSourceFilter=(a,s,et)=>{var nt;const at=(nt=a.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)==="BALANCE");if(at===void 0)throw new Error("Failed to retrieve filter: wallet balance");return{filter:at,filterOptions:{}}},getFusionSourceFilter=(a,s,et)=>{var nt,at;const mt=(nt=a.applicableFilters)==null?void 0:nt.find($t=>($t==null?void 0:$t.filterType)==="FUSION_SOURCE");if(mt===void 0)throw new Error("Failed to retrieve fusion source filter");let wt={};if(s.selectedUIType==="TOGGLE"||s.selectedUIType==="MULTI_THRESHOLD")s.alertFrequency!==void 0&&(wt={alertFrequency:s.alertFrequency});else if(s.selectedUIType==="HEALTH_CHECK"){const $t=`${s.name}__healthRatio`;et[$t]||(et[`${s.name}__healthRatio`]=s.checkRatios[1].ratio);const Ct=resolveNumberRef($t,{type:"ref",ref:$t},et),Dt=`${s.name}__healthThresholdDirection`;et[Dt]||(et[Dt]=s.checkRatios[0].type==="above"?"above":"below");const Ft=(at=resolveStringRef(Dt,{type:"ref",ref:Dt},et))!=null?at:s.checkRatios[0].ratio;if(!Ct||!Ft)throw new Error("Failed to retrieve health ratio or direction");wt={alertFrequency:s.alertFrequency,threshold:s.numberType==="percentage"?Ct/100:Ct,thresholdDirection:Ft==="above"?"above":"below"}}return{filter:mt,filterOptions:wt}},getCustomFilterOptions=(a,s)=>{var et,nt;switch(a.selectedUIType){case"TOGGLE":return a.filterOptions;case"HEALTH_CHECK":{const at=`${a.name}__healthRatio`,mt=(et=resolveNumberRef(at,{type:"ref",ref:at},s))!=null?et:a.checkRatios[0].ratio,wt=`${a.name}__healthThresholdDirection`,$t=(nt=resolveStringRef(wt,{type:"ref",ref:wt},s))!=null?nt:a.checkRatios[0].ratio;if(!mt||!$t)throw new Error("Failed to retrieve health ratio or direction");return{alertFrequency:a.alertFrequency,threshold:a.numberType==="percentage"?mt/100:mt,thresholdDirection:$t==="above"?"above":"below"}}}},getCustomFilter=(a,s,et)=>{var nt;const at=(nt=a.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)===s.filterType);if(at===void 0)throw new Error("Failed to retrieve filter");return{filter:at,filterOptions:getCustomFilterOptions(s,et)}},getXMTPFilter=(a,s,et)=>{var nt;const at=(nt=a.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)==="WEB3_CHAT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter: XMTP");return{filter:at,filterOptions:{}}},checkInputsIsWithIndex=a=>"index"in a,getHealthCheckFilter=(a,s,et)=>{var nt;const at=(nt=a.applicableFilters)==null?void 0:nt.find(Dt=>(Dt==null?void 0:Dt.filterType)==="VALUE_THRESHOLD");if(at===void 0)throw new Error("Failed to retrieve filter: healthCheck");const mt=resolveCheckRatioArrayRef(s.name,s.checkRatios,et);let wt=mt[0].ratio,$t=mt[0].type;const Ct=Dt=>"customPercentage"in Dt&&"thresholdDirection"in Dt;return checkInputsIsWithIndex(et)?(wt=mt[et.index].ratio,$t=mt[et.index].type):Ct(et)&&(wt=et.customPercentage,$t=et.thresholdDirection),{filter:at,filterOptions:{alertFrequency:s.alertFrequency,threshold:wt,thresholdDirection:$t}}},ensureSourceAndFilters=async(a,s,et)=>{const nt=await ensureSources(a,s,et),at=await ensureSourceGroup(a,s.name,nt.map(mt=>mt.id));switch(s.type){case"directPush":{const{filter:mt,filterOptions:wt}=getDirectPushFilter(nt[0],s,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"broadcast":{const{filter:mt,filterOptions:wt}=getBroadcastFilter(nt[0]);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"tradingPair":{if(!tradingPairInputsValidator(et))throw new Error("Invalid tradingPair inputs");const{filter:mt,filterOptions:wt}=getTradingPairFilter(nt[0],s,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"priceChange":{const{filter:mt,filterOptions:wt}=getPriceChangeFilter(nt);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"custom":{const{filter:mt,filterOptions:wt}=getCustomFilter(nt[0],s,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"XMTP":{const{filter:mt,filterOptions:wt}=getXMTPFilter(nt[0]);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"healthCheck":{const{filter:mt,filterOptions:wt}=getHealthCheckFilter(nt[0],s,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"label":throw new Error("Unsupported event type");case"walletBalance":{const{filter:mt,filterOptions:wt}=getWalletBalanceSourceFilter(nt[0]);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"fusionToggle":case"fusion":{const{filter:mt,filterOptions:wt}=getFusionSourceFilter(nt[0],s,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}default:throw new Error("Unsupported event type")}},ensureTarget=(a,s,et,nt)=>async(at,mt)=>{if(mt===void 0)return;const wt=await s(at),$t=nt!==void 0?nt(mt):mt,Ct=wt==null?void 0:wt.find(Ft=>et(Ft)===$t);return Ct!==void 0?Ct.id:(await a(at,$t)).id},ensureEmail=ensureTarget(async(a,s)=>{const nt=(await a.createEmailTarget({name:s.toLowerCase(),value:s.toLowerCase()})).createEmailTarget;if(nt===void 0)throw new Error("Failed to create email target");return nt},async a=>(await a.getEmailTargets({})).emailTarget,a=>{var s;return(s=a==null?void 0:a.emailAddress)==null?void 0:s.toLowerCase()},a=>a.toLowerCase()),ensureSms=ensureTarget(async(a,s)=>{const nt=(await a.createSmsTarget({name:s,value:s})).createSmsTarget;if(nt===void 0)throw new Error("Failed to create sms target");return nt},async a=>(await a.getSmsTargets({})).smsTarget,a=>a==null?void 0:a.phoneNumber),ensureTelegram=ensureTarget(async(a,s)=>{const nt=(await a.createTelegramTarget({name:s.toLowerCase(),value:s.toLowerCase()})).createTelegramTarget;if(nt===void 0)throw new Error("Failed to create telegramTarget");return nt},async a=>(await a.getTelegramTargets({})).telegramTarget,a=>{var s;return(s=a==null?void 0:a.telegramId)==null?void 0:s.toLowerCase()},a=>a.toLowerCase()),ensureDiscord=ensureTarget(async(a,s)=>{const nt=(await a.createDiscordTarget({name:s,value:s})).createDiscordTarget;if(nt===void 0)throw new Error("Failed to create discordTarget");return nt},async a=>(await a.getDiscordTargets({})).discordTarget,a=>a==null?void 0:a.name,()=>"Default"),ensureSlack=ensureTarget(async(a,s)=>{const nt=(await a.createSlackChannelTarget({name:s,value:s})).createSlackChannelTarget.slackChannelTarget;if(nt===void 0)throw new Error("Failed to create slackTarget");return nt},async a=>{var s;return(s=(await a.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:s.nodes},a=>a==null?void 0:a.name,()=>"Default"),ensureWeb3=ensureTarget(async(a,s)=>{const nt=(await a.createWeb3Target({name:s,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target;if(nt===void 0||nt.id===void 0)throw new Error("Failed to create web3Target");return nt},async a=>{var s;return(s=(await a.getWeb3Targets({})).web3Targets)==null?void 0:s.nodes},a=>a==null?void 0:a.name,()=>"Default"),ensureWebhook=async(a,s)=>{if(s===void 0)return;const nt=(await a.getWebhookTargets({})).webhookTarget,at=nt==null?void 0:nt.find($t=>($t==null?void 0:$t.url.toLowerCase())===s.url.toLowerCase()&&($t==null?void 0:$t.format)===s.format);if(at!==void 0)return at.id;const wt=(await a.createWebhookTarget(__spreadProps(__spreadValues({},s),{name:s.url.toLowerCase(),url:s.url.toLowerCase()}))).createWebhookTarget;if(wt===void 0)throw new Error("Failed to create webhook target");return wt.id},getEnvPrefix=a=>{switch(a){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createInMemoryStorageDriver=a=>{let s=`${getEnvPrefix(a.env||"Production")}:${a.tenantId}:${a.walletBlockchain}`;checkIsConfigWithOidc(a)?s+=`:${a.userAccount}`:checkIsConfigWithPublicKeyAndAddress(a)?s+=`:${a.accountAddress}:${a.authenticationKey}`:checkIsConfigWithDelegate(a)?s+=`:${a.delegatorAddress}`:s+=`:${a.walletPublicKey}`;const et={};return{get:at=>{const mt=`${s}:${at}`;let wt=null;if(mt in et){const $t=et[mt];wt=JSON.parse($t)}return Promise.resolve(wt)},set:(at,mt)=>{const wt=`${s}:${at}`;return mt===null?delete et[wt]:et[wt]=JSON.stringify(mt),Promise.resolve()},has:at=>{const mt=`${s}:${at}`;return Promise.resolve(mt in et)}}},KEY_AUTHORIZATION="authorization",KEY_ROLES="roles",NotifiFrontendStorage=class{constructor(a){this._driver=a}getAuthorization(){return this._driver.get(KEY_AUTHORIZATION)}setAuthorization(a){return this._driver.set(KEY_AUTHORIZATION,a)}hasAuthorization(){return this._driver.has(KEY_AUTHORIZATION)}getRoles(){return this._driver.get(KEY_ROLES)}setRoles(a){return this._driver.set(KEY_ROLES,a)}hasRoles(){return this._driver.has(KEY_ROLES)}};localforage.config({name:"notifi"});var getEnvPrefix2=a=>{switch(a||(a="Production"),a){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createLocalForageStorageDriver=a=>{let s=`${getEnvPrefix2(a.env)}:${a.tenantId}:${a.walletBlockchain}`;return checkIsConfigWithOidc(a)?s+=`:${a.userAccount}`:checkIsConfigWithPublicKeyAndAddress(a)?s+=`:${a.accountAddress}:${a.authenticationKey}`:checkIsConfigWithDelegate(a)?s+=`:${a.delegatorAddress}`:s+=`:${a.walletPublicKey}`,{get:async nt=>await localforage.getItem(`${s}:${nt}`),set:async(nt,at)=>{await localforage.setItem(`${s}:${nt}`,at)},has:async nt=>(await localforage.keys()).indexOf(`${s}:${nt}`)>=0}},COSMOS_BLOCKCHAINS=["COSMOS","OSMOSIS","NEUTRON","ELYS","ARCHWAY","AXELAR","AGORIC","ORAI","KAVA","CELESTIA","NIBIRU","DYMENSION","PERSISTENCE","DYDX","XION"],EVM_BLOCKCHAINS=["ETHEREUM","POLYGON","ARBITRUM","AVALANCHE","BINANCE","THE_ROOT_NETWORK","MONAD","BASE","BLAST","CELO","MANTLE","SCROLL","LINEA","MANTA","BERACHAIN","OPTIMISM","THE_ROOT_NETWORK","SONIC","ROME","ZKSYNC"],APTOS_BLOCKCHAINS=["APTOS","MOVEMENT"],BTC_BLOCKCHAINS=["BITCOIN","ARCH"],UNMAINTAINED_BLOCKCHAINS=["ACALA","EVMOS"];function isUnmaintainedBlockchain(a){return UNMAINTAINED_BLOCKCHAINS.includes(a)}function isUsingUnmaintainedBlockchain(a){return isUnmaintainedBlockchain(a.walletBlockchain)}function isCosmosBlockchain(a){return COSMOS_BLOCKCHAINS.includes(a)}function isUsingCosmosBlockchain(a){return isCosmosBlockchain(a.walletBlockchain)}function isEvmBlockchain(a){return EVM_BLOCKCHAINS.includes(a)}function isUsingEvmBlockchain(a){return isEvmBlockchain(a.walletBlockchain)}function isAptosBlockchain(a){return APTOS_BLOCKCHAINS.includes(a)}function isUsingAptosBlockchain(a){return isAptosBlockchain(a.walletBlockchain)}function isBtcBlockchain(a){return BTC_BLOCKCHAINS.includes(a)}function isUsingBtcBlockchain(a){return isBtcBlockchain(a.walletBlockchain)}var SIGNING_MESSAGE_WITHOUT_NONCE=`Sign in with Notifi 

    No password needed or gas is needed. 

    Clicking “Approve” only means you have proved this wallet is owned by you! 

    This request will not trigger any transaction or cost any gas fees. 

    Use of our website and service is subject to our terms of service and privacy policy.`,SIGNING_MESSAGE=`${SIGNING_MESSAGE_WITHOUT_NONCE} 
 
 'Nonce:' `,CHAINS_WITH_LOGIN_WEB3=[...APTOS_BLOCKCHAINS,...COSMOS_BLOCKCHAINS];function isLoginWeb3Params(a){return CHAINS_WITH_LOGIN_WEB3.includes(a.walletBlockchain)}var NotifiFrontendClient=class{constructor(a,s,et){this._configuration=a,this._service=s,this._storage=et,this._clientRandomUuid=null,this._userState=null}get userState(){return this._userState}async initialize(){const[a,s]=await Promise.all([this._storage.getAuthorization(),this._storage.getRoles()]);let et=a;if(et===null){this._service.setJwt(void 0);const $t={status:"loggedOut"};return this._userState=$t,$t}const nt=new Date(et.expiry),at=new Date;if(nt<=at){this._service.setJwt(void 0);const $t={status:"expired",authorization:et};return this._userState=$t,$t}const mt=new Date;if(mt.setDate(at.getDate()+7),nt<mt)try{const Ct=(await this._service.refreshAuthorization({})).refreshAuthorization;Ct!==void 0&&(this._storage.setAuthorization(Ct),et=Ct)}catch($t){await this.logOut(),console.error("Failed to refresh Notifi token:",$t)}this._service.setJwt(et.token);const wt={status:"authenticated",authorization:et,roles:s??[]};return this._userState=wt,wt}async logOut(){return await Promise.all([this._storage.setAuthorization(null),this._storage.setRoles(null),this._service.logOut()]),{status:"loggedOut"}}async prepareLoginWithWeb3(a){if(isCosmosBlockchain(a.walletBlockchain)){const s=a.signMessage;if(checkIsConfigWithDelegate(this._configuration)){const{delegatedAddress:et,delegatedPublicKey:nt,delegatorAddress:at}=this._configuration,{nonce:mt}=await this._beginLogInWithWeb3({authAddress:at,authType:"COSMOS_AUTHZ_GRANT"}),wt=`${SIGNING_MESSAGE}${mt}`;return{signMessageParams:{walletBlockchain:a.walletBlockchain,message:wt,signMessage:s},signingAddress:et,signingPubkey:nt,nonce:mt}}else if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{authenticationKey:et,accountAddress:nt}=this._configuration,{nonce:at}=await this._beginLogInWithWeb3({authAddress:nt,authType:"COSMOS_ADR36"}),mt=`${SIGNING_MESSAGE}${at}`;return{signMessageParams:{walletBlockchain:a.walletBlockchain,message:mt,signMessage:s},signingAddress:nt,signingPubkey:et,nonce:at}}}else if(isAptosBlockchain(a.walletBlockchain)){const s=a.signMessage;if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{nonce:et}=await this._beginLogInWithWeb3({authAddress:this._configuration.accountAddress,authType:"APTOS_SIGNED_MESSAGE",walletPubkey:this._configuration.authenticationKey});return{signMessageParams:{walletBlockchain:a.walletBlockchain,nonce:et,signMessage:s},signingAddress:this._configuration.accountAddress,signingPubkey:this._configuration.authenticationKey,nonce:et}}}throw new Error(`Invalid loginWeb3Params: ${JSON.stringify(a)}`)}async logInWithWeb3(a){if(!CHAINS_WITH_LOGIN_WEB3.includes(a.walletBlockchain)||a.walletBlockchain!==a.walletBlockchain)throw new Error(`Wallet blockchain must be one of ${CHAINS_WITH_LOGIN_WEB3.join(", ")} for loginWithWeb3`);const{nonce:s,signingAddress:et,signingPubkey:nt,signMessageParams:at}=await this.prepareLoginWithWeb3(a),mt=await this._authenticate({signMessageParams:at,timestamp:Math.round(Date.now()/1e3)});if(!("signature"in mt))throw new Error("logInWith Web3 - Invalid signature - expected string");const{completeLogInWithWeb3:wt}=await this.completeLogInWithWeb3({nonce:s,signature:mt.signature,signedMessage:mt.signedMessage,signingAddress:et,signingPubkey:nt});return wt.user}async logIn(a){const s=Math.round(Date.now()/1e3),{tenantId:et,walletBlockchain:nt}=this._configuration;let at;if(isLoginWeb3Params(a))at=await this.logInWithWeb3(a);else if(nt==="OFF_CHAIN"){const mt=await this._authenticate({signMessageParams:a,timestamp:s});if(!("oidcProvider"in mt))throw new Error("logIn - Invalid signature - expected OidcCredentials");const{oidcProvider:wt,jwt:$t}=mt;at=(await this._service.logInByOidc({dappId:et,oidcProvider:wt,idToken:$t})).logInByOidc.user}else{const mt=await this._authenticate({signMessageParams:a,timestamp:s});if(!("signature"in mt)||typeof mt.signature!="string")throw new Error("logIn - Invalid signature - expected string signature and signedMessage");switch(nt){case"BLAST":case"BERACHAIN":case"CELO":case"MANTLE":case"LINEA":case"SCROLL":case"MANTA":case"MONAD":case"BASE":case"THE_ROOT_NETWORK":case"ETHEREUM":case"POLYGON":case"ARBITRUM":case"AVALANCHE":case"BINANCE":case"OPTIMISM":case"ZKSYNC":case"SOLANA":case"ROME":case"SONIC":{at=(await this._service.logInFromDapp({walletBlockchain:nt,walletPublicKey:this._configuration.walletPublicKey,dappAddress:et,timestamp:s,signature:mt.signature})).logInFromDapp;break}case"SUI":case"NEAR":case"ARCH":case"INJECTIVE":case"BITCOIN":{at=(await this._service.logInFromDapp({walletBlockchain:nt,walletPublicKey:this._configuration.authenticationKey,accountId:this._configuration.accountAddress,dappAddress:et,timestamp:s,signature:mt.signature})).logInFromDapp;break}default:throw new Error(`Unsupported wallet blockchain: ${nt}`)}}return at===void 0?Promise.reject("Failed to login"):(await this._handleLogInResult(at),at)}async _authenticate({signMessageParams:a,timestamp:s}){if(this._configuration.walletBlockchain!==a.walletBlockchain)throw new Error("Sign message params and configuration must have the same blockchain");if(isUsingUnmaintainedBlockchain(a))throw new Error(`Unsupported blockchain: ${a.walletBlockchain}. Please contact us if you beleive this is an error or if you need support for a new blockchain.`);if(isUsingCosmosBlockchain(a)){const{signatureBase64:et,signedMessage:nt}=await a.signMessage(a.message);return{signature:et,signedMessage:nt}}else if(isUsingAptosBlockchain(a)){const{signatureHex:et,signedMessage:nt}=await a.signMessage(SIGNING_MESSAGE_WITHOUT_NONCE,a.nonce);return{signature:et,signedMessage:nt}}else if(isUsingEvmBlockchain(a)){const{walletPublicKey:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${nt}${s.toString()}`,mt=new TextEncoder().encode(at),wt=await a.signMessage(mt);return{signature:normalizeHexString(Buffer$1.from(wt).toString("hex")),signedMessage:at}}else if(isUsingBtcBlockchain(a)||a.walletBlockchain==="INJECTIVE"){const{authenticationKey:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${nt}${s.toString()}`,mt=new TextEncoder().encode(at),wt=await a.signMessage(mt);return{signature:Buffer$1.from(wt).toString("base64"),signedMessage:at}}switch(a.walletBlockchain){case"SOLANA":{const{walletPublicKey:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${nt}${s.toString()}`,mt=new TextEncoder().encode(at),wt=await a.signMessage(mt);return{signature:Buffer$1.from(wt).toString("base64"),signedMessage:at}}case"SUI":{const{accountAddress:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${nt}${s.toString()}`,mt=new TextEncoder().encode(at);return{signature:(await a.signMessage(mt)).toString(),signedMessage:at}}case"NEAR":{const{authenticationKey:et,accountAddress:nt,tenantId:at}=this._configuration,mt=`${"ed25519:"+et}${at}${nt}${s.toString()}`,wt=new TextEncoder().encode(mt),$t=await window.crypto.subtle.digest("SHA-256",wt),Ct=new Uint8Array($t),Dt=await a.signMessage(Ct);return{signature:Buffer$1.from(Dt).toString("base64"),signedMessage:mt}}case"OFF_CHAIN":{const et=await a.signIn();if(!et)throw new Error("._authenticate: OIDC login failed");return et}}}async _handleLogInResult(a){const s=a==null?void 0:a.authorization,et=s!==void 0?this._storage.setAuthorization(s):Promise.resolve(),nt=a==null?void 0:a.roles,at=nt!==void 0?this._storage.setRoles(nt.filter(notNullOrEmpty)):Promise.resolve();if(s&&nt){const mt={status:"authenticated",authorization:s,roles:nt.filter(wt=>!!wt)};this._userState=mt}await Promise.all([et,at])}async fetchFusionData(){return this._service.fetchFusionData({})}async beginLoginViaTransaction({walletBlockchain:a,walletAddress:s}){const{tenantId:et}=this._configuration,at=(await this._service.beginLogInByTransaction({walletAddress:s,walletBlockchain:a,dappAddress:et})).beginLogInByTransaction.nonce;if(at===null)throw new Error("Failed to begin login process");const mt=crypto.randomUUID();this._clientRandomUuid=mt;const $t=new TextEncoder().encode(at+mt),Ct=await crypto.subtle.digest("SHA-256",$t),Dt=Array.from(new Uint8Array(Ct));let Ft="0x";return(a==="SOLANA"||a==="OSMOSIS")&&(Ft="Notifi Auth: 0x"),{nonce:Ft+Dt.map(Ut=>Ut.toString(16).padStart(2,"0")).join("")}}async completeLoginViaTransaction({walletBlockchain:a,walletAddress:s,transactionSignature:et}){const{tenantId:nt}=this._configuration,at=this._clientRandomUuid;if(this._clientRandomUuid=null,at===null)throw new Error("BeginLoginViaTransaction is required to be called first");const mt=await this._service.completeLogInByTransaction({walletAddress:s,walletBlockchain:a,dappAddress:nt,randomUuid:at,transactionSignature:et});return await this._handleLogInResult(mt.completeLogInByTransaction),mt}async _beginLogInWithWeb3({authType:a,authAddress:s,walletPubkey:et}){const{tenantId:nt}=this._configuration,at=await this._service.beginLogInWithWeb3({dappAddress:nt,authAddress:s,blockchainType:this._configuration.walletBlockchain,authType:a,walletPubkey:et});if(!at.beginLogInWithWeb3.beginLogInWithWeb3Response)throw new Error("Failed to begin login process");return at.beginLogInWithWeb3.beginLogInWithWeb3Response}async completeLogInWithWeb3(a){return await this._service.completeLogInWithWeb3(__spreadValues({signingPubkey:""},a))}async getTargetGroups(){var a,s;return(s=(a=(await this._service.getTargetGroups({})).targetGroup)==null?void 0:a.filter(notNullOrEmpty))!=null?s:[]}async ensureTargetGroup({name:a,emailAddress:s,phoneNumber:et,telegramId:nt,webhook:at,discordId:mt,slackId:wt,walletId:$t}){var Ct;const[Dt,Ft,jt,Ut,tr,ir,sr,ur]=await Promise.all([this._service.getTargetGroups({}),ensureEmail(this._service,s),ensureSms(this._service,et),ensureTelegram(this._service,nt),ensureWebhook(this._service,at),ensureDiscord(this._service,mt),ensureSlack(this._service,wt),ensureWeb3(this._service,$t)]),fr=Ft===void 0?[]:[Ft],dr=jt===void 0?[]:[jt],hr=Ut===void 0?[]:[Ut],vr=tr===void 0?[]:[tr],yr=ir===void 0?[]:[ir],xr=sr===void 0?[]:[sr],br=ur===void 0?[]:[ur],wr=(Ct=Dt.targetGroup)==null?void 0:Ct.find(Cr=>(Cr==null?void 0:Cr.name)===a);if(wr!==void 0)return this._updateTargetGroup({existing:wr,emailTargetIds:fr,smsTargetIds:dr,telegramTargetIds:hr,webhookTargetIds:vr,discordTargetIds:yr,slackChannelTargetIds:xr,web3TargetIds:br});const Sr=await this._service.createTargetGroup({name:a,emailTargetIds:fr,smsTargetIds:dr,telegramTargetIds:hr,webhookTargetIds:vr,discordTargetIds:yr,slackChannelTargetIds:xr,web3TargetIds:br});if(Sr.createTargetGroup===void 0)throw new Error("Failed to create target group");return Sr.createTargetGroup}async _updateTargetGroup({existing:a,emailTargetIds:s,smsTargetIds:et,telegramTargetIds:nt,webhookTargetIds:at,discordTargetIds:mt,slackChannelTargetIds:wt,web3TargetIds:$t}){var Ct,Dt,Ft,jt,Ut,tr,ir,sr;if(areIdsEqual(s,(Ct=a.emailTargets)!=null?Ct:[])&&areIdsEqual(et,(Dt=a.smsTargets)!=null?Dt:[])&&areIdsEqual(nt,(Ft=a.telegramTargets)!=null?Ft:[])&&areIdsEqual(at,(jt=a.webhookTargets)!=null?jt:[])&&areIdsEqual(mt,(Ut=a.discordTargets)!=null?Ut:[])&&areIdsEqual(wt,(tr=a.slackChannelTargets)!=null?tr:[])&&areIdsEqual($t,(ir=a.web3Targets)!=null?ir:[]))return a;const fr=(await this._service.updateTargetGroup({id:a.id,name:(sr=a.name)!=null?sr:a.id,emailTargetIds:s,smsTargetIds:et,telegramTargetIds:nt,webhookTargetIds:at,discordTargetIds:mt,slackChannelTargetIds:wt,web3TargetIds:$t})).updateTargetGroup;if(fr===void 0)throw new Error("Failed to update target group");return fr}async getAlerts(){var a,s;return(s=(a=(await this._service.getAlerts({})).alert)==null?void 0:a.filter(notNullOrEmpty))!=null?s:[]}async ensureFusionAlerts(a){const s=new Set(a.alerts.map($t=>$t.name)),et=await this._service.getAlerts({}),mt=[...new Set(et.alert)].filter($t=>s.has($t==null?void 0:$t.name)).map($t=>$t==null?void 0:$t.id).filter($t=>!!$t);for(const $t of mt)await this.deleteAlert({id:$t});return(await this._service.createFusionAlerts({input:a})).createFusionAlerts}async deleteAlert({id:a}){var s;if(((s=(await this._service.deleteAlert({id:a})).deleteAlert)==null?void 0:s.id)===void 0)throw new Error("Failed to delete alert")}async deleteAlerts({ids:a}){const et=(await this._service.deleteAlerts({input:{alertIds:a}})).deleteAlerts;if(et===void 0)throw new Error("Failed to delete alerts");return et}async updateWallets(){const a={name:"User Wallets",type:"walletBalance"};return await ensureSourceAndFilters(this._service,a,{})}async getUnreadNotificationHistoryCount(a){const et=(await this._service.getUnreadNotificationHistoryCount({cardId:a})).unreadNotificationHistoryCount;if(!et)throw new Error("Failed to fetch unread notification history count");return et}addEventListener(a,s,et,nt){return this._service.addEventListener(a,s,et,nt)}removeEventListener(a,s){return this._service.removeEventListener(a,s)}async getUserSettings(){const s=(await this._service.getUserSettings({})).userSettings;if(!s)throw new Error("Failed to fetch user settings");return s}async getFusionNotificationHistory(a){var s,et;const nt=await this._service.getFusionNotificationHistory(a),at=(s=nt.fusionNotificationHistory)==null?void 0:s.nodes,mt=(et=nt.fusionNotificationHistory)==null?void 0:et.pageInfo;if(at===void 0||mt===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:mt,nodes:at}}async fetchTenantConfig(a){const et=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},a),{tenant:this._configuration.tenantId})})).findTenantConfig;if(et===void 0||!et.dataJson||!et.fusionEvents)throw new Error("Failed to find tenant config");const nt=et.dataJson;if(nt===void 0)throw new Error("Invalid config data");const at=JSON.parse(nt),mt=et.fusionEvents;if(!at||at.version!=="v1"||!mt)throw new Error("Unsupported config format");const wt=new Map(mt.map(Ct=>{var Dt;return[(Dt=Ct==null?void 0:Ct.name)!=null?Dt:"",Ct??{}]}));wt.delete("");const $t=at.eventTypes.map(Ct=>{if(Ct.type==="fusion"){const Dt=wt.get(Ct.name);return{uiConfig:Ct,fusionEventDescriptor:Dt}}}).filter(Ct=>!!Ct);return{cardConfig:at,fusionEventTopics:$t}}async copyAuthorization(a){var s;const et=await this._storage.getAuthorization(),nt=await this._storage.getRoles(),at=((s=a.storageOption)==null?void 0:s.driverType)==="InMemory"?createInMemoryStorageDriver(a):createLocalForageStorageDriver(a),mt=new NotifiFrontendStorage(at);await Promise.all([mt.setAuthorization(et),mt.setRoles(nt)])}async sendEmailTargetVerification({targetId:a}){var s;const nt=(s=(await this._service.sendEmailTargetVerificationRequest({targetId:a})).sendEmailTargetVerificationRequest)==null?void 0:s.id;if(nt===void 0)throw new Error("Unknown error requesting verification");return nt}async subscribeWallet(a){if(a.walletParams.walletBlockchain==="OFF_CHAIN")throw new Error("ERROR: subscribeWallet - OFF_CHAIN OIDC login does not support wallet connection");const{walletBlockchain:s,signMessage:et,walletPublicKey:nt}=a.walletParams,at={walletBlockchain:s,signMessage:et};this._userState&&this._userState.status==="authenticated"&&await this.logIn(at);const mt=Math.round(Date.now()/1e3),wt=await this._authenticate({signMessageParams:at,timestamp:mt});if(typeof wt!="string")throw new Error("subscribeWallet - Invalid signature - expected string");return await this._service.connectWallet({walletBlockchain:s,walletPublicKey:nt,accountId:s==="APTOS"||s==="MOVEMENT"||s==="ACALA"||s==="NEAR"||s==="SUI"?a.walletParams.accountAddress:void 0,signature:wt,timestamp:mt,connectWalletConflictResolutionTechnique:a.connectWalletConflictResolutionTechnique})}async createDiscordTarget(a){return(await this._service.createDiscordTarget({name:a,value:a})).createDiscordTarget}async markFusionNotificationHistoryAsRead(a){return await this._service.markFusionNotificationHistoryAsRead(a)}async updateUserSettings(a){return await this._service.updateUserSettings(a)}async verifyXmtpTarget(a){return await this._service.verifyXmtpTarget(a)}async verifyCbwTarget(a){return await this._service.verifyCbwTarget(a)}async verifyXmtpTargetViaXip42(a){return await this._service.verifyXmtpTargetViaXip42(a)}async createWebPushTarget(a){return await this._service.createWebPushTarget(a)}async updateWebPushTarget(a){return await this._service.updateWebPushTarget(a)}async deleteWebPushTarget(a){return await this._service.deleteWebPushTarget(a)}async getWebPushTargets(a){const et=(await this._service.getWebPushTargets(a)).webPushTargets;if(!et)throw new Error("Failed to fetch webpush targets");return et}async getSourceGroups(){var a,s;return(s=(a=(await this._service.getSourceGroups({})).sourceGroup)==null?void 0:a.filter(notNullOrEmpty))!=null?s:[]}async wsDispose(){this._service.wsDispose()}async getNotificationHistory(a){var s,et;const nt=await this._service.getNotificationHistory(a),at=(s=nt.notificationHistory)==null?void 0:s.nodes,mt=(et=nt.notificationHistory)==null?void 0:et.pageInfo;if(at===void 0||mt===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:mt,nodes:at}}subscribeNotificationHistoryStateChanged(a,s,et){return this._service.subscribeNotificationHistoryStateChanged(a,s,et)}async ensureAlert({eventType:a,inputs:s,targetGroupName:et="Default"}){var nt,at;const[mt,wt,$t]=await Promise.all([this._service.getAlerts({}),this._service.getTargetGroups({}),ensureSourceAndFilters(this._service,a,s)]),Ct=(nt=wt.targetGroup)==null?void 0:nt.find(ur=>(ur==null?void 0:ur.name)===et);if(Ct===void 0)throw new Error("Target group does not exist");const{sourceGroup:Dt,filter:Ft,filterOptions:jt}=$t,Ut=packFilterOptions(jt),tr=(at=mt.alert)==null?void 0:at.find(ur=>ur!==void 0&&ur.name===a.name);if(tr!==void 0){if(tr.sourceGroup.id===Dt.id&&tr.targetGroup.id===Ct.id&&tr.filter.id===Ft.id&&tr.filterOptions===Ut)return tr;await this.deleteAlert({id:tr.id})}const sr=(await this._service.createAlert({name:a.name,sourceGroupId:Dt.id,filterId:Ft.id,targetGroupId:Ct.id,filterOptions:Ut,groupName:"managed"})).createAlert;if(sr===void 0)throw new Error("Failed to create alert");return sr}async fetchData(){return this._service.fetchData({})}async fetchSubscriptionCard(a){const et=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},a),{tenant:this._configuration.tenantId})})).findTenantConfig;if(et===void 0)throw new Error("Failed to find tenant config");const nt=et.dataJson;if(nt===void 0)throw new Error("Invalid config data");const at=JSON.parse(nt);let mt;switch(at.version){case"v1":{mt=at;break}default:throw new Error("Unsupported config version")}if(mt===void 0)throw new Error("Unsupported config format");return mt}},newNotifiStorage=a=>{var s;const et=((s=a.storageOption)==null?void 0:s.driverType)==="InMemory"?createInMemoryStorageDriver(a):createLocalForageStorageDriver(a);return new NotifiFrontendStorage(et)},newNotifiService=(a,s)=>{const et=envUrl(a.env,"http"),nt=envUrl(a.env,"websocket"),at=new GraphQLClient(et,s),mt=new NotifiSubscriptionService(nt,typeof window<"u"?void 0:WebSocket$1);return new NotifiService(at,mt)},instantiateFrontendClient=(a,s,et,nt,at)=>{let mt=null;if("accountAddress"in s?mt={tenantId:a,env:et,walletBlockchain:s.walletBlockchain,authenticationKey:s.walletPublicKey,accountAddress:s.accountAddress,storageOption:nt}:"signingPubkey"in s?mt={tenantId:a,env:et,walletBlockchain:s.walletBlockchain,delegatedAddress:s.signingAddress,delegatedPublicKey:s.walletPublicKey,delegatorAddress:s.signingPubkey,storageOption:nt}:"userAccount"in s?mt={tenantId:a,env:et,userAccount:s.userAccount,storageOption:nt,walletBlockchain:s.walletBlockchain}:mt={tenantId:a,env:et,walletBlockchain:s.walletBlockchain,walletPublicKey:isEvmChain(s.walletBlockchain)?s.walletPublicKey.toLowerCase():s.walletPublicKey,storageOption:nt},!mt)throw new Error("ERROR - instantiateFrontendClient: Invalid UserParams");const wt=newNotifiService(mt,at),$t=newNotifiStorage(mt);return new NotifiFrontendClient(mt,wt,$t)};function useNotifiAlert(){const{notifiClient:a}=useNotifiStore(),{defaultTargetGroup:s,setNotifiAlerts:et,setNotifiSourceGroups:nt,setNotifiSources:at,setIsChecked:mt,setNotifiSubscriptionLoading:wt}=useNotifiStore(),{showCommonToast:$t}=useGlobalToast(),{getNotifiTargetGroups:Ct}=useGetNotifiTargetGroups(),Dt=async()=>{let sr=s.filter(ur=>ur.name==="Default");return sr.length||(sr=(await Ct()).filter(ur=>ur.name==="Default")),sr[0]},Ft=sr=>{const ur=[],fr=[],dr=[];return sr.forEach(vr=>{(vr.sourceGroup.name.includes("position")||vr.name.includes("Position Range Alerts"))&&vr.name!=="Fusion Source Filter"&&vr.name!=="defaultAlert"&&(ur.push(vr.sourceGroup),fr.push(...vr.sourceGroup.sources.map(yr=>({...yr,alertID:vr.id})))),dr.push(...vr.sourceGroup.sources.map(yr=>({...yr,alertName:vr.name})))}),dr.some(vr=>vr.alertName==="defaultAlert")||ir(),{sourceGroup:ur,sources:fr}},jt=async sr=>{try{const ur=sr?await sr.getAlerts():await a.getAlerts();console.log("🚀 ~ getNotifiAlerts ~ alerts:",ur);const{sourceGroup:fr,sources:dr}=Ft(ur);et(ur),nt(fr),at(dr)}catch(ur){console.error("🚀 ~ getNotifiAlerts ~ error:",ur)}},Ut=async sr=>{console.log("🚀 ~ deleteNotifiAlerts ~ id:",sr);try{await a.deleteAlert({id:sr}),$t("Unsubscribed","success","You'll no longer receive alerts when the price goes out of range."),jt(),wt(!1)}catch(ur){console.error("🚀 ~ deleteNotifiAlerts ~ error:",ur),$t("There was an error unsubscribe alert","rejected",String(ur)),wt(!1)}},tr=async(sr,ur)=>{try{const fr=await Dt(),dr={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:sr&&ur?`Position Range Alerts${new Date().getTime()}`:"defaultAlert",targetGroupId:fr.id,subscriptionValue:sr&&ur?JSON.stringify({pool_address:sr,position_index:String(ur)}):"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]},hr=await a.ensureFusionAlerts(dr);console.log("🚀 ~ createNotifiAlert ~ alerts:",hr),mt(!1),$t("Subscribed to Alerts!","success","Verify your notification channels to receive alerts when the price goes out of range. To edit your alert settings, click the bell icon in the top nav."),jt(),wt(!1)}catch(fr){console.error("🚀 ~ createNotifiAlert ~ error:",fr),$t("There was an error subscribe alert","rejected",String(fr)),mt(!1),wt(!1)}},ir=async()=>{try{const ur={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:"defaultAlert",targetGroupId:(await Dt()).id,subscriptionValue:"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]};await a.ensureFusionAlerts(ur),jt()}catch(sr){console.error("🚀 ~ initDefaultAlert ~ error:",sr)}};return{getNotifiAlerts:jt,createNotifiAlert:tr,deleteNotifiAlerts:Ut}}function useIntNotifi(){const a="cetus",s="Production",et="SUI",{setNotifiClient:nt,notifiClient:at,setNotifiStatus:mt,setNotifiAccountAddress:wt,setDefaultTargetGroup:$t,setNotifiSourceGroups:Ct,setNotifiSources:Dt,setNotifiLoginLoading:Ft,setTelegramTarget:jt,setEmailTarget:Ut,setSmsTarget:tr}=useNotifiStore(),{signUserMessage:ir}=useSigner(),{currentAccount:sr}=useAccountStore(),{ensureTargetGroup:ur,getNotifiTargetGroups:fr}=useGetNotifiTargetGroups(),{getNotifiAlerts:dr}=useNotifiAlert(),hr=async xr=>{const br=instantiateFrontendClient(a,{walletBlockchain:et,walletPublicKey:xr,accountAddress:xr},s),wr=await br.initialize();console.log("🚀🚀🚀 ~ useInitNotifi.ts:51 ~ initNotifi ~ client:",br),nt(br),mt(wr.status),console.log("🚀🚀🚀 ~ useInitNotifi.ts:53 ~ initNotifi ~ initResult.status:",wr.status),(wr==null?void 0:wr.status)==="authenticated"?(console.log("🚀🚀🚀 ~ useInitNotifi.ts:53 ~ initNotifi ~ getNotifiTargetGroups:"),fr(br),dr(br),wt(xr)):yr()},vr=async xr=>{try{Ft(!0),console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ notifiLogin ~ notifiClient:",at);const br=await at.logIn({walletBlockchain:et,signMessage:async Sr=>{console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ signMessage: ~ message:",Sr);try{return(await ir(Sr)).signature}catch(Cr){console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ signMessage: ~ error:",Cr)}}});console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ notifiLogin ~ notifiClient:",at);const{status:wr}=at.userState;mt(wr),wr==="authenticated"&&(sr!=null&&sr.address)&&(dr(),fr(),wt(sr.address)),console.log("🚀🚀🚀 ~ useInitNotifi.ts:75 ~ notifiLogin ~ loginResult:",br),br&&(await ur(xr),Ft(!1))}catch(br){console.log("🚀🚀🚀 ~ useInitNotifi.ts:91 ~ notifiLogin ~ error:",br),Ft(!1)}},yr=()=>{$t([]),Ct([]),Dt([]),Ut({}),jt({}),tr({})};return{initNotifi:hr,notifiLogin:vr}}const notifi_tab_bg="/images/notifi_tab_bg.png",notifi_tab_bg_h5="/images/notifi_tab_bg_h5.png",codeList=["+1","+32","+33","+34","+351","+354","+358","+36","+41","+43","+44","+45","+46","+47","+48","+49","+60","+61","+63","+65","+82","+852","+886"],FormItem=({label:a,children:s})=>jsxRuntimeExports.jsxs(InputGroup,{h:"42px",borderRadius:"8px",p:"10px 12px",bg:"#141414",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(InputLeftAddon,{fontSize:"14px",h:"20px",lineHeight:"20px",w:"106px",children:a}),jsxRuntimeExports.jsx(Box,{borderColor:"border",pr:"16px",children:jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical"})}),s]});function Notifications(){const[a,s]=reactExports.useState(""),[et,nt]=reactExports.useState(""),[at,mt]=reactExports.useState(""),[wt,$t]=reactExports.useState(""),[Ct,Dt]=reactExports.useState(""),[Ft,jt]=reactExports.useState(""),[Ut,tr]=reactExports.useState(""),[ir,sr]=reactExports.useState(""),{isShowNotifi:ur,setIsShowNotifi:fr,notifiLoginLoading:dr,notifiStatus:hr,emailTarget:vr,telegramTarget:yr,smsTarget:xr}=useNotifiStore(),[br,wr]=reactExports.useState(""),[Sr,Cr]=reactExports.useState(""),[cr,Nt]=reactExports.useState(!0),[Vt,er]=reactExports.useState(!1),{currentAccount:Yt,onWalletModal:rr}=useAccountStore(),[ar,lr]=reactExports.useState(!1),{notifiLogin:nr}=useIntNotifi(),{ensureTargetGroup:Lt}=useGetNotifiTargetGroups(),[or,gr]=reactExports.useState(!0),[pr,_r]=reactExports.useState(!1),kr=Xr=>{if(Xr){const zr=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;console.log("🚀🚀🚀 ~ Notifications.tsx:99 ~ verifyEmail ~ verifyEmail:"),gr(zr.test(a))}},Mr=()=>{const Xr={emailAddress:a,phoneNumber:at+" "+wt,telegramId:et};hr=="authenticated"?Lt(Xr):nr(Xr)};reactExports.useEffect(()=>{if(!vr){wr(""),er(!1),s(""),Dt("");return}const Xr=(vr==null?void 0:vr.emailAddress)||"";console.log("🚀🚀🚀 ~ Notifications.tsx:164 ~ useEffect ~ lastEmail:",Xr);const zr=(vr==null?void 0:vr.isConfirmed)||!1,Qr=(vr==null?void 0:vr.id)||"";wr(Qr),er(zr),s(Xr),Dt(Xr)},[vr]),reactExports.useEffect(()=>{if(!yr){Nt(!1),Cr(""),nt(""),jt("");return}const Xr=(yr==null?void 0:yr.telegramId)||"",zr=(yr==null?void 0:yr.isConfirmed)||!1,Qr=yr.confirmationUrl||"";Nt(zr),Cr(Qr),nt(Xr),jt(Xr),console.log("🚀🚀🚀 ~ Notifications.tsx:177 ~ useEffect ~ telegramTarget:",yr)},[yr]),reactExports.useEffect(()=>{xr||(mt("+1"),$t(""),tr("+1"),sr(""));const Xr=(xr==null?void 0:xr.name)||"",zr=Xr.split(" ")[0]||"+1",Qr=Xr.split(" ")[1]||"";mt(zr),$t(Qr),tr(zr),sr(Qr)},[xr]);const $r=reactExports.useMemo(()=>!wt&&!a&&!et||at==Ut&&wt==ir&&a==Ct&&et==Ft?!0:!or,[a,Ct,at,Ut,wt,ir,et,Ft]),{notifiClient:Pr}=useNotifiStore(),[Fr,Tr]=reactExports.useState(60),[Rr,Er]=reactExports.useState(60),Or=async()=>{Pr.sendEmailTargetVerification({targetId:br}),_r(!0)},Wr=()=>{Vr(!0),window.open(Sr,"_blank")},[qr,Vr]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!pr||Fr===0){_r(!1);return}const Xr=setInterval(()=>{Tr(zr=>zr-1)},1e3);return()=>clearInterval(Xr)},[pr,Fr]),reactExports.useEffect(()=>{if(!qr||Rr===0){Vr(!1);return}const Xr=setInterval(()=>{Er(zr=>zr-1)},1e3);return()=>clearInterval(Xr)},[qr,Rr]);const[Ur,Lr]=reactExports.useState("notifi"),{isApp:Br}=useWindowWidth();return reactExports.useEffect(()=>{ur&&Lr("notifi")},[ur]),jsxRuntimeExports.jsxs(Popover,{isLazy:!0,isOpen:ur,placement:"bottom-end",offset:[44,10],onClose:ar?()=>{console.log("isMenuOpen")}:()=>{fr(!1)},children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},onClick:()=>Yt!=null&&Yt.address?fr(!ur):rr(!0),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_notification",variant:"gray"})})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(PopoverContent,{p:"0px",border:"1px solid",borderRadius:"12px",borderColor:"border",minW:{base:"352px",lg:"460px"},children:jsxRuntimeExports.jsxs(HStack,{flexDirection:{base:"column",lg:"row"},gap:"0",bg:"bg_seven",borderRadius:"12px",align:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{pt:{base:"8px",lg:"28px"},pl:{base:"12px",lg:"0"},gap:"0",flexDirection:{base:"row",lg:"column"},children:[jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:Ur=="notifi"?Br?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:Ur=="notifi"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Lr("notifi"),children:jsxRuntimeExports.jsx(Image$1,{src:Ur=="notifi"?"/images/notifi@2x.png":"/images/logo_not_nor@2x.png",h:"20px",w:"60px",minW:"60px"})}),jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:Ur=="pawtato"?Br?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:Ur=="pawtato"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Lr("pawtato"),children:jsxRuntimeExports.jsx(Image$1,{src:Ur=="pawtato"?"/images/logo_paw_sel@2x.png":"/images/logo_paw_nor@2x.png",h:"11px",w:"66px",minW:"66px"})})]}),Ur=="notifi"&&jsxRuntimeExports.jsxs(VStack,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",children:[jsxRuntimeExports.jsx(PopoverBody,{p:"0",borderRadius:"12px",children:jsxRuntimeExports.jsxs(VStack,{gap:"12px",children:[jsxRuntimeExports.jsx(Text,{fontWeight:"500",color:"text_caption",textAlign:"left",w:"100%",mb:"4px",children:"Notifications Setting"}),jsxRuntimeExports.jsx(FormItem,{label:"Email address",children:jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"Email address",fontSize:"14px",h:"20px",lineHeight:"20px",value:a,onFocus:()=>gr(!0),onBlur:Xr=>kr(Xr.target.value),onChange:Xr=>s(Xr.target.value)})}),!or&&jsxRuntimeExports.jsx(Text,{w:"100%",color:"primary_red",lineHeight:"20px",textAlign:"left",children:"Please enter a valid email address"}),hr=="authenticated"&&Ct&&(pr||!pr&&!Vt)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[pr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification email sent! (",Fr,"s)"]}),!Vt&&!pr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for email verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Or(),children:"Retry"})]})]}),jsxRuntimeExports.jsxs(FormItem,{label:"Phone number",children:[jsxRuntimeExports.jsx(Menu,{isLazy:!0,onClose:()=>lr(!1),children:({isOpen:Xr})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MenuButton,{isActive:Xr,as:Button,rightIcon:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px"}),variant:"unstyled",h:"100%",fontSize:"14px",lineHeight:"20px",color:"text_caption",onClick:()=>lr(!ar),children:at}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(MenuList,{h:"220px",overflow:"auto",zIndex:"99999",children:codeList.map(zr=>jsxRuntimeExports.jsx(MenuItem,{onClick:Qr=>{mt(zr)},children:zr},zr))})})]})}),jsxRuntimeExports.jsx(Input,{type:"tel",placeholder:"Phone number",pl:"16px",fontSize:"14px",h:"20px",lineHeight:"20px",value:wt,onChange:Xr=>$t(Xr.target.value)})]}),jsxRuntimeExports.jsx(FormItem,{label:"Telegram ID",children:jsxRuntimeExports.jsx(Input,{placeholder:"Telegram ID",fontSize:"14px",h:"20px",lineHeight:"20px",value:et,onChange:Xr=>nt(Xr.target.value)})}),hr=="authenticated"&&Ft&&(qr||!qr&&!cr)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[qr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification telegram sent! (",Rr,"s)"]}),!cr&&!qr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for telegram verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Wr(),children:"Retry"})]})]})]})}),jsxRuntimeExports.jsx(PopoverFooter,{border:"none",p:"0",mt:"16px",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",gap:"12px",children:[jsxRuntimeExports.jsx(Button,{w:"100%",h:"42px",borderRadius:"8px",fontWeight:"500",fontSize:"14px",onClick:Mr,isLoading:dr,disabled:$r||dr||!or,children:hr=="authenticated"?"Update":"Subscribe"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Text,{fontSize:"12px",color:"text_paragraph",lineHeight:"20px",children:["Notifications are provided by Notifi. By subscribing, you agree that info you provide to Notifi will be governed by its"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/privacy","_blank")},children:"Privacy Policy"})," ","and"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/term","_blank")},children:"Terms of Use."})]}),jsxRuntimeExports.jsxs(HStack,{justify:"center",mt:"16px",children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_paragraph",children:"Powered by"}),jsxRuntimeExports.jsx(Image$1,{src:"/images/notifi@2x.png",h:"20px"})]})]})]})})]}),Ur=="pawtato"&&jsxRuntimeExports.jsx(PopoverBody,{p:"16px",bg:"bg_secondary",borderRadius:"12px",borderLeft:{base:"none",lg:"1px solid"},borderTop:{base:"1px solid",lg:"none"},borderColor:"border !important",minW:"350px",h:"314px",children:jsxRuntimeExports.jsxs(VStack,{h:"100%",gap:"28px",justify:"center",align:"center",children:[jsxRuntimeExports.jsxs(Text,{color:"text_caption",lineHeight:"20px",textAlign:"center",children:["Visit Pawtato to manage notification settings for LP Range Alert"," "]}),jsxRuntimeExports.jsx(Button,{w:"100%",h:"40px",fontWeight:"500",fontSize:"14px",onClick:()=>window.open("https://pawtato.app/board"),children:"Subscribe"})]})})]})})})]})}const ListItem=({label:a,value:s,onClick:et,isActive:nt})=>jsxRuntimeExports.jsx(Box,{w:"100%",onClick:et,cursor:"pointer",h:"48px",lineHeight:"48px",p:"0px 16px",borderRadius:"12px",border:"1px solid",borderColor:nt?"primary_hover":"transparent",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",children:a})}),ExplorerContent=({closeModal:a,isH5:s})=>{const{explorerList:et,currentExplorer:nt,switchExplorer:at}=useRpcConfigStore(),mt=reactExports.useMemo(()=>(console.log("🚀 ~ list ~ explorerList:",et),et),[et]),{successTsToast:wt}=useGlobalToast(),$t=Ct=>{at(Ct),a(),wt({linkLabel:"",getShowInfo:Ft=>({toastTitleText:"Explorer update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["Explorer is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:Ct.name})]})})})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s?jsxRuntimeExports.jsx(VStack,{gap:"16px",mb:"16px",children:mt.map(Ct=>jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(CheckBox,{checked:Ct.link===nt.link,onClick:()=>$t(Ct)}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"16px",lg:"14px"},children:Ct.name})]},Ct.link))}):jsxRuntimeExports.jsx(VStack,{w:"100%",children:mt.map(Ct=>jsxRuntimeExports.jsx(ListItem,{label:Ct.name,value:Ct.link,isActive:Ct.link===nt.link,onClick:()=>$t(Ct)},Ct.link))})})},H5SettingItem=({icon:a,value:s,label:et,onClick:nt})=>jsxRuntimeExports.jsxs(HStack,{w:"100%",p:"14px 16px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",justify:"space-between",align:"center",bg:"menu_item_bg",onClick:nt,children:[jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:a,fontSize:"20px"}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",children:et})]}),jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",children:s}),jsxRuntimeExports.jsx(Icon,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),H5Preferred=()=>{const{currentExplorer:a}=useRpcConfigStore(),[s,et]=reactExports.useState(!1),nt=()=>{et(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:a==null?void 0:a.name,onClick:()=>et(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:s,title:"Preferred Explorer",onClose:()=>et(!1),footer:null,children:jsxRuntimeExports.jsx(ExplorerContent,{closeModal:nt,isH5:!0})})]})};function useRpcWorker(){let a=null;const{setRpcSpeed:s}=useRpcConfigStore();useInterval({interval:5*1e3,callback:()=>{et()}});const et=()=>{a===null&&(a=new Worker("/worker/rpc.worker.js")),a.postMessage({rpcList:defaultNodes.filter(nt=>nt.link.length>0).map(nt=>nt.link)}),a.onmessage=nt=>{nt.data.error?(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data.error:",nt.data.error),s({})):(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data:",nt.data),nt.data?s(nt.data):s({}))}};reactExports.useEffect(()=>(et(),()=>{a&&a.terminate()}),[])}const RPCContent=({closeModal:a})=>{useRpcWorker();const{rpcSpeed:s}=useRpcConfigStore(),et=ir=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(ir),{nodes:nt,currentNode:at,switchNode:mt}=useRpcConfigStore(),[wt,$t]=reactExports.useState((at==null?void 0:at.name)=="Custom"),[Ct,Dt]=reactExports.useState((at==null?void 0:at.name)=="Custom"?at==null?void 0:at.link:""),Ft=reactExports.useMemo(()=>nt,[nt]),{successTsToast:jt}=useGlobalToast(),Ut=ir=>{console.log("🚀 ~ handleChangeNode ~ item:",ir),ir.name!=="Custom"&&(Dt(""),$t(!1)),mt(ir),a(),jt({linkLabel:"",getShowInfo:ur=>({toastTitleText:"RPC update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["RPC is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:ir.name!=="Custom"?ir.name:ir.link})]})})})},tr=reactExports.useCallback(ir=>ir===0?"text_paragraph":ir<100?"primary_green":ir>200?"primary_red":"primary_yellow",[]);return jsxRuntimeExports.jsxs(Box,{w:"100%",mt:"-16px",children:[Ft.map(ir=>{const sr=Number(s[ir==null?void 0:ir.link]||0);return jsxRuntimeExports.jsx(VStack,{mt:"16px",align:"flex-start",children:(ir==null?void 0:ir.name)!=="Custom"&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",onClick:()=>Ut(ir),_hover:{p:{color:"primary"}},children:[jsxRuntimeExports.jsx(CheckBox,{checked:at.name===(ir==null?void 0:ir.name),onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:at.name===(ir==null?void 0:ir.name)?"primary":"text_paragraph",children:ir==null?void 0:ir.name})]}),jsxRuntimeExports.jsxs(HStack,{gap:"5px",children:[sr>0&&jsxRuntimeExports.jsx(Box,{w:"6px",h:"6px",bg:tr(sr),borderRadius:"50%"}),jsxRuntimeExports.jsxs(Text,{fontSize:"12px",fontWeight:"500",color:tr(sr),children:[s[ir.link],isAvailableObject(s)?"ms":""]})]})]})},ir==null?void 0:ir.link)}),jsxRuntimeExports.jsxs(HStack,{w:"100%",mt:"16px",_hover:{p:{color:"primary"}},onClick:()=>$t(!wt),children:[jsxRuntimeExports.jsx(CheckBox,{checked:at.name==="Custom",onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:at.name==="Custom"?"primary":"text_paragraph",children:"Custom RPC URL"})]}),(at.name==="Custom"||wt)&&jsxRuntimeExports.jsxs(InputGroup,{mt:"16px",h:"40px",borderRadius:"12px",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(Input,{p:"13px 16px",fontSize:{base:"16px",lg:"14px"},placeholder:"Custom RPC URL",value:Ct,onChange:ir=>Dt(ir.target.value)}),jsxRuntimeExports.jsx(InputRightAddon,{pr:"4px",children:jsxRuntimeExports.jsx(Button,{disabled:et(Ct),fontSize:"14px",fontWeight:"500",h:"32px",w:"78px",borderRadius:"8px",onClick:()=>{Ut({name:"Custom",link:Ct})},children:"Save"})})]})]})},H5RPCNode=()=>{const{currentNode:a}=useRpcConfigStore(),[s,et]=reactExports.useState(!1),nt=()=>{et(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_rpc",label:"RPC Node",value:a.name,onClick:()=>et(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:s,title:"RPC Node",onClose:()=>et(!1),footer:null,children:jsxRuntimeExports.jsx(Box,{mb:"12px",children:jsxRuntimeExports.jsx(RPCContent,{closeModal:nt})})})]})},H5Settings=({language:a,preferred:s,rpcNode:et,isCetusPump:nt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5RPCNode,{}),jsxRuntimeExports.jsx(H5Preferred,{value:s.value,options:s.options,onValueChange:at=>s.onValueChange(at)})]}),ConnectButton=reactExports.lazy(()=>__vitePreload(()=>import("./ConnectButton-CXAwL8S4.js").then(a=>a.a),__vite__mapDeps([14,3,10,8]))),H5Header=({menus:a,logo:s,setting:et,notifications:nt,chain:at,jump:mt,isCetusPump:wt,children:$t})=>{const[Ct,Dt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Flex,{w:"100%",justifyContent:"space-between",align:"center",p:"0px 8px 0px 12px",h:"48px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[jsxRuntimeExports.jsx(Image$1,{src:"/images/img-logo@2x.png",h:"32px",alt:"logo",onClick:()=>mt("/")}),jsxRuntimeExports.jsxs(Flex,{align:"center",gap:"8px",children:[at&&jsxRuntimeExports.jsx(SwitchChain,{...at}),wt&&jsxRuntimeExports.jsx(BackButton,{w:"114px",h:"36px",text:"Back to DEX",onClick:()=>mt("/")}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{}),children:jsxRuntimeExports.jsx(ConnectButton,{isCetusPump:wt})}),nt&&jsxRuntimeExports.jsx(Notifications,{}),jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg"},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_menu",onClick:()=>Dt(!Ct)})})]})]}),jsxRuntimeExports.jsx(H5Menu,{menus:a,setting:et,title:jsxRuntimeExports.jsx(Image$1,{src:s.image,h:"32px",alt:"logo",onClick:()=>mt(s.url)}),isOpen:Ct,onClose:()=>Dt(!1),jump:mt,isCetusPump:wt,children:$t})]})},H5Menu=({menus:a,setting:s,title:et,isOpen:nt,onClose:at,jump:mt,isCetusPump:wt,children:$t})=>{var tr;const{pathname:Ct}=useLocation(),Dt=a==null?void 0:a.find(ir=>!!(ir!=null&&ir.socials)),[Ft,jt]=reactExports.useState([]),Ut=ir=>{Ft.includes(ir)?jt([]):jt([ir])};return jsxRuntimeExports.jsx(Drawer,{title:et,isOpen:nt,onClose:at,placement:"left",size:"full",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",h:"100%",justify:"space-between",children:[jsxRuntimeExports.jsx(VStack,{gap:"36px",w:"100%",align:"flex-start",mt:"32px",children:a.map(ir=>{var sr;if(ir.children){const ur=isMenuActive(ir,Ct);return jsxRuntimeExports.jsxs(Box,{w:"100%",children:[jsxRuntimeExports.jsxs(HStack,{onClick:()=>Ut(ir.title),sx:{p:{color:ur?"text_caption":"text_paragraph"},svg:{fill:ur?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsx(Text,{fontSize:"16px",children:ir.title}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:Ft.includes(ir.title)?"rotate(180deg)":"rotate(0deg)"})]}),Ft.includes(ir.title)&&jsxRuntimeExports.jsx(VStack,{mt:"12px",bg:"bg_secondary",gap:"24px",p:"20px 16px",w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",borderRadius:"8px",children:(sr=ir.children)==null?void 0:sr.map(fr=>{const dr=isMenuActive(fr,Ct);return jsxRuntimeExports.jsx(Item,{item:{...fr,onClick:(fr==null?void 0:fr.type)==="onClick"?()=>{var hr;(hr=fr==null?void 0:fr.onClick)==null||hr.call(fr),at()}:void 0},jump:hr=>{mt==null||mt(hr),at()},isActive:dr},fr.title)})})]},ir.title)}return jsxRuntimeExports.jsx(NavLink,{type:ir==null?void 0:ir.type,onClick:()=>{(ir==null?void 0:ir.type)==="onClick"&&(mt==null||mt(ir.path),at())},link:ir.path,isActive:isMenuActive(ir,Ct),children:jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:ir.title})},ir.title)})}),jsxRuntimeExports.jsxs(VStack,{w:"100%",children:[jsxRuntimeExports.jsx(H5Settings,{...s,isCetusPump:wt}),jsxRuntimeExports.jsx(HStack,{w:"100%",children:Dt&&(Dt==null?void 0:Dt.socials)&&((tr=Dt==null?void 0:Dt.socials)==null?void 0:tr.map(ir=>jsxRuntimeExports.jsx(Flex,{flex:"1",onClick:()=>window.open(ir.path),padding:"14px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"center",align:"center",_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:ir.icon?jsxRuntimeExports.jsx(Box,{children:typeof ir.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:ir.icon,variant:"gray"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:ir.icon.xlinkHref,variant:"gray"})}):null},ir.title)))}),$t]})]})})},Item=({item:a,jump:s,isActive:et})=>{var mt;const[nt,at]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",h:"20px",lineHeight:"20px",onClick:()=>{var wt;return a!=null&&a.children&&((wt=a==null?void 0:a.children)==null?void 0:wt.length)>1?at(!nt):(a==null?void 0:a.type)==="onClick"?a==null?void 0:a.onClick():(a==null?void 0:a.type)==="_blank"?window.open(a.path,"_blank"):s(a.path)},sx:{p:{color:et?"text_caption":"text_paragraph"},svg:{fill:et?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:a==null?void 0:a.icon,variant:"gray"}),jsxRuntimeExports.jsxs(Box,{position:"relative",children:[jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:a.title}),(a==null?void 0:a.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),a.children&&a.children.length>0&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:nt?"rotate(180deg)":"rotate(0deg)"})]},a.title),nt&&a.children&&a.children.length>0&&((mt=a.children)==null?void 0:mt.map(wt=>jsxRuntimeExports.jsx(Item,{item:wt,jump:s,isActive:!1},wt.title)))]})};function getFullnodeUrl(a){switch(a){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${a}`)}}function ConnectWalletModal(a){const{isOpen:s,onClose:et}=a,nt=useWallets(),{isApp:at}=useWindowWidth(),{mutate:mt}=useConnectWallet(),{customToast:wt,successTsToast:$t}=useGlobalToast(),Ct=Dt=>{console.log("🚀 ~ file: ConnectWalletModal.tsx:30 ~ ConnectWalletModal ~ supportWalletList:",{supportWalletList:nt,wallet:Dt});const Ft=(M==null?void 0:M.inMSafeWallet())&&(Dt==null?void 0:Dt.name)==="MSafe",jt=nt.find(tr=>tr.name===Dt.walletName);if(!Ft&&!jt){wt(jsxRuntimeExports.jsxs(VStack,{gap:"8px",alignItems:"start",children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),jsxRuntimeExports.jsx(Heading,{fontSize:"14px",fontWeight:"400",whiteSpace:"nowrap",color:"primary_red",children:"Wallet Not Ready Error"})]}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"Please install"}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:"14px",color:"primary",wordBreak:"break-all",onClick:()=>{window.open(Dt.url,"_blank")},children:Dt.name}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"extension first"})]})]}));return}const Ut=Ft?{wallet:new M("cetus",getFullnodeUrl("mainnet"),"sui:mainnet"),silent:!0}:{wallet:jt};mt(Ut,{onSuccess:tr=>{$t({getShowInfo:ir=>({iconUrl:Dt.icon.startsWith("http")?Dt.icon:`/images/wallet/${Dt.icon}.png`,toastTitleText:"Wallet Connected"})}),et(),console.log("🚀 ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onSuccess:",Dt.name,tr)},onError:tr=>{console.log("🚀 ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onError:",tr)}})};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:et,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:at?"300px":"552px",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Connect a Wallet"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"16px",textAlign:"center",children:jsxRuntimeExports.jsx(VStack,{children:jsxRuntimeExports.jsx(Grid,{templateColumns:at?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:13,w:"100%",children:suiWalletList.map(Dt=>jsxRuntimeExports.jsx(GridItem,{colSpan:1,children:jsxRuntimeExports.jsxs(HStack,{p:"0 12px",h:"60px",bg:"bg_six",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{p:{color:"primary"}},onClick:()=>{Dt.name!=="Nightly"&&Ct(Dt)},children:[jsxRuntimeExports.jsx(Image$1,{src:Dt.icon.startsWith("http")?Dt.icon:`/images/wallet/${Dt.icon}.png`,alt:"SVG Image",boxSize:{base:"28px",lg:"36px"},objectFit:"cover",borderRadius:"8px",loading:"lazy"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"4px",children:[Dt.name=="SuiMetaMaskSnap"?jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"0px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",textAlign:"left",children:"Sui"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"MetaMask"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"Snap"})]}):jsxRuntimeExports.jsx(Text,{lineHeight:"16px",textAlign:"left",color:"text_caption",whiteSpace:"normal",wordBreak:"break-word",overflowWrap:"break-word",children:Dt.name}),Dt.name=="Binance"&&jsxRuntimeExports.jsx(Text,{fontWeight:"500",fontSize:"10px",p:"2px 6px",textAlign:"center",borderRadius:"4px",bg:"primary_opacity.10",color:"primary",children:"Mobile"})]})]})},Dt.name))})})})]})]})}const ConnectWalletModal$1=reactExports.memo(ConnectWalletModal),CetusLayout=reactExports.lazy(()=>__vitePreload(()=>import("./CetusLayout-C4hJpUD5.js").then(a=>a.C),__vite__mapDeps([15,16,17,18,14,3,10,8,19,20,21,22,5,23,24,25,26,27,9,28,29,30,31,2,12,32,33,34,4,35,36,37,38,1,11])));function Layout(){const{getTokens:a}=useGetTokens(),{currentAccount:s,addressChangeVersion:et}=useAccountStore(),{clearData:nt}=useXCetusStore();return reactExports.useEffect(()=>{(s===void 0||et>0)&&nt()},[s,et]),reactExports.useEffect(()=>{a()},[]),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(CetusLayout,{})})})}const Stats=reactExports.lazy(()=>__vitePreload(()=>import("./Stats-BSZ-rJZF.js"),__vite__mapDeps([39,40,41,42,43,44,25,34,45,46,17,47,48,21,8,49,50,51,4,52,2,3,1,5,53,35]))),Swap=reactExports.lazy(()=>__vitePreload(()=>import("./Swap-C9usYmFa.js"),__vite__mapDeps([54,55,23,56]))),Dca=reactExports.lazy(()=>__vitePreload(()=>import("./Dca-YDXKRqvz.js"),__vite__mapDeps([57,55,43,8,28,58,4,59,60,61,25,12,10,62,63,5,27,22,23,24,9,64,30,37,33,34,65,1,2,3,66,67,68,69]))),Pools=reactExports.lazy(()=>__vitePreload(()=>import("./Pools-DM-fI4r9.js"),__vite__mapDeps([70,71,5,25,24,35,72,7,1,2,3,4,37,38,40,41,42,43,44,34,45,46,17,47,48,21,8,49,50,13,51,52,73,74,75,76,61,77,19,78,28,79,80,68,69,81,82,10]))),Liquidity=reactExports.lazy(()=>__vitePreload(()=>import("./Liquidity-79mtmgD4.js"),__vite__mapDeps([83,51,4,25,41,19,16,17,18,42,43,44,34,45,46,47,48,21,8,3,53,78,12,37,2,62,60,71,5,24,68,69,73,74,75,1,76,61,84,85,86,77,32,87,79,80,38,23,10,9,28,88,29,89,72,7,90,82,63,91,92,36,93,66,33,20,35,30,65]))),PositionDetail=reactExports.lazy(()=>__vitePreload(()=>import("./PositionDetail-BMF4mk_S.js"),__vite__mapDeps([94,51,4,52,2,3,36,23,29,37,9,10,38,84,24,25,41,48,85,69,86,12,77,5,81,78,82,71,74,28,75,1,76,61,62,60,91,92,90,63,33,34,95,96,87,79,80,35,68]))),Farms=reactExports.lazy(()=>__vitePreload(()=>import("./Farms-CSPIL3lg.js"),__vite__mapDeps([97,98,35,49,96,10,28,82,71,5,25,24,4,1,2,3,75,76,61,8,51,99,52,44,68,69]))),CreatePool=reactExports.lazy(()=>__vitePreload(()=>import("./CreatePool-iyoavXSd.js"),__vite__mapDeps([100,88,5,29,89,16,17,18,72,7,1,2,3,4,37,76,24,25,12,32,93,66,86,9,10,33,34,91,92,101,90,23,71,74,82,28,63,85,69,35]))),Limit=reactExports.lazy(()=>__vitePreload(()=>import("./Limit-d5FmUU1t.js"),__vite__mapDeps([102,43,8,61,10,28,5,4,1,2,3,99,71,25,24,51,96,82,75,76,52,44,27,22,23,9,63,67,33,34,65,55,103,26,29,30,31,12,32,56,36,37,38,18,17,46,66,58,59,60,68,69]))),SelectForLiquidity=reactExports.lazy(()=>__vitePreload(()=>import("./SelectForLiquidity-C0UBvUWG.js"),__vite__mapDeps([104,88,5,29,89,16,17,18,72,7,1,2,3,4,37,101,90,23,71,25,24,74,82,10,9,28,63,85]))),Vaults=reactExports.lazy(()=>__vitePreload(()=>import("./Vaults-BRH6bES5.js"),__vite__mapDeps([105,98,35,49,8,106,24,25,5,9,10,12,4,77,52,2,3,44]))),XCetus=reactExports.lazy(()=>__vitePreload(()=>import("./XCetus-BoPVzGih.js"),__vite__mapDeps([107,82,10,9,28,80,5,33,34,31,12,77,4,68,69]))),VaultsDetailPage=reactExports.lazy(()=>__vitePreload(()=>import("./VaultsDetailPage-DEmm5wVb.js"),__vite__mapDeps([108,36,23,29,4,37,9,10,38,106,24,25,5,12,35,77,64,32,82,28,33,34,62,60,2,3,95,91,92,71,74,90,63,51,96,1,75,76,61,87,79,80,22]))),Notfound=reactExports.lazy(()=>__vitePreload(()=>import("./404-B_yXMGC_.js"),[])),ErrorPage=reactExports.lazy(()=>__vitePreload(()=>import("./Error-FzwT1Tyu.js"),[])),TestCoin=reactExports.lazy(()=>__vitePreload(()=>import("./TestCoin-BF2IdVWv.js"),[])),TestNotifi=reactExports.lazy(()=>__vitePreload(()=>import("./TestNotifi-DAZsVUPS.js"),__vite__mapDeps([109,79,80,5,74,71,25,24]))),RedirectToPools=()=>jsxRuntimeExports.jsx(Navigate,{to:"/pools",replace:!0}),router=[{path:"/",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(GeneralLoading,{}),children:jsxRuntimeExports.jsx(Layout,{})}),children:[{path:"swap",element:jsxRuntimeExports.jsx(Swap,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Swap,{})}]},{path:"limit",element:jsxRuntimeExports.jsx(Limit,{}),children:[{path:":pay/:target",element:jsxRuntimeExports.jsx(Limit,{})}]},{path:"dca",element:jsxRuntimeExports.jsx(Dca,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Dca,{})}]},{path:"pools/*",element:jsxRuntimeExports.jsx(Pools,{})},{path:"pool/list",element:jsxRuntimeExports.jsx(RedirectToPools,{})},{path:"position-detail",element:jsxRuntimeExports.jsx(PositionDetail,{}),children:[{path:":position_nft_id",element:jsxRuntimeExports.jsx(PositionDetail,{})}]},{path:"select-pool",element:jsxRuntimeExports.jsx(SelectForLiquidity,{})},{path:"liquidity/*",element:jsxRuntimeExports.jsx(Liquidity,{})},{path:"create-pool",element:jsxRuntimeExports.jsx(CreatePool,{}),children:[{path:":base/:quote/:fee",element:jsxRuntimeExports.jsx(CreatePool,{})},{path:":base/:quote/",element:jsxRuntimeExports.jsx(CreatePool,{})}]},{path:"farms",element:jsxRuntimeExports.jsx(Farms,{})},{path:"vaults",element:jsxRuntimeExports.jsx(Vaults,{})},{path:"vaults-detail",element:jsxRuntimeExports.jsx(VaultsDetailPage,{}),children:[{path:":vaultId",element:jsxRuntimeExports.jsx(VaultsDetailPage,{})}]},{path:"xCetus",element:jsxRuntimeExports.jsx(XCetus,{})},{path:"buy-crypto",element:jsxRuntimeExports.jsx("div",{children:"buy-crypto"})},{path:"stats",element:jsxRuntimeExports.jsx(Stats,{})},{path:"error",element:jsxRuntimeExports.jsx(ErrorPage,{})},{path:"test-notifi",element:jsxRuntimeExports.jsx(TestNotifi,{})},{path:"test-coin",element:jsxRuntimeExports.jsx(TestCoin,{})},{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/swap"})}]},{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/404"})},{path:"/404",element:jsxRuntimeExports.jsx(Notfound,{})}],router$1=createBrowserRouter(router),{networkConfig}=createNetworkConfig({mainnet:{url:getFullnodeUrl$1("mainnet")}}),queryClient=new QueryClient;function App(){return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(SuiClientProvider,{networks:networkConfig,defaultNetwork:"mainnet",children:jsxRuntimeExports.jsx(WalletProvider,{autoConnect:!0,children:jsxRuntimeExports.jsx(RouterProvider,{router:router$1})})})})}client$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(App,{})}));export{Button as $,usePanEvent as A,Box as B,Center as C,dataAttr as D,ariaAttr as E,mergeRefs as F,callAllHandlers as G,HStack as H,Icon as I,orient$1 as J,forwardRef as K,useMultiStyleConfig as L,omitThemingProps as M,useTheme as N,createContext as O,chakra as P,cx as Q,usePeripherySDKStore as R,Skeleton as S,Text as T,create$3 as U,VStack as V,Block as W,bnToAmount as X,formatNumber as Y,timeFormatUTC as Z,__vitePreload as _,useNavigate as a,React$2 as a$,CoinPairImage as a0,useAccountStore as a1,useInterval as a2,SkeletonCircle as a3,useTokenPriceStore as a4,useTokenPrice as a5,d as a6,Decimal$1 as a7,useDebounceFunction as a8,toDecimalsAmount as a9,formatCurrency$1 as aA,Tooltip as aB,ee$1 as aC,useNotifiStore as aD,isSymbol as aE,isObject$1 as aF,root as aG,useClmmSDKStore as aH,removeComma as aI,fromDecimalsAmountFix as aJ,fixRounding as aK,Grid as aL,Divider$1 as aM,formatCurrencyWithKMB as aN,d$2 as aO,amountToBN as aP,TickUtil as aQ,isAvailableObject as aR,getBalanceChanges as aS,parsePositionIdFromEvent as aT,ModalFooter as aU,getNearestTickByTick as aV,formatTickPrice as aW,extractStructTagFromType$1 as aX,fetchGet as aY,useDisclosure as aZ,BackButton as a_,envConfigs$1 as aa,formatNumberWithDown as ab,useTokenSelectStore as ac,addComma as ad,Modal$1 as ae,ModalOverlay as af,ModalContent as ag,ModalHeader as ah,Heading as ai,ModalCloseButton as aj,ModalBody as ak,Input as al,NumericFormatInput as am,useGlobalToast as an,Image$1 as ao,Popover as ap,PopoverTrigger as aq,Flex as ar,textEllipses as as,PopoverContent as at,PopoverBody as au,CheckBox as av,useGetTokenSource as aw,IconTipsTriangle as ax,Portal as ay,useDeepCompareEffect as az,useWindowWidth as b,usePopoverStyles as b$,clsx as b0,H5MapTableItem as b1,transColumns2H5 as b2,castPath as b3,toKey as b4,isIndex as b5,baseGet as b6,arrayMap as b7,baseIteratee as b8,timeFormat as b9,Slider as bA,SliderTrack as bB,SliderFilledTrack as bC,SliderThumb as bD,W as bE,useRpcConfigStore as bF,Comma as bG,CoinAssist as bH,qt as bI,persist as bJ,B as bK,ChakraProvider as bL,theme as bM,useSigner as bN,Transaction as bO,coinWithBalance as bP,TransactionUtil as bQ,useNotifiAlert as bR,LocalStorageService as bS,POOL_FAVORITE_LIST as bT,IS_INCENTIVIZED_ONLY as bU,IS_ALL_POOLS as bV,IS_WATCH_LIST as bW,buildPosition as bX,Ae$1 as bY,g as bZ,usePopoverContext as b_,identity as ba,TickMath as bb,useParams as bc,getTickDataFromUrlData as bd,process$1 as be,useColorMode as bf,BN as bg,ClmmPoolUtil as bh,bnExports as bi,convertScientificToDecimal as bj,InputGroup as bk,InputRightAddon as bl,isSortedSymbols as bm,normalizeSuiAddress as bn,formatPercentage as bo,Ni as bp,fromDecimalsAmount as bq,ke$1 as br,Menu as bs,MenuButton as bt,MenuList as bu,MenuItem as bv,fixCoinType as bw,fixDown as bx,useTokenBalanceStore as by,useXCetusStore as bz,cancelBubble as c,isObjectLike as c$,CloseButton as c0,defaultNodes as c1,useWebConfigStore as c2,src_default as c3,AggregatorClient21 as c4,SuiClient as c5,Env as c6,m_ as c7,_$1 as c8,ae as c9,addressAbridge as cA,formatDateTime as cB,useCurrentWallet as cC,useCurrentAccount as cD,useDisconnectWallet as cE,suiWalletList as cF,useTokenSelect as cG,useStyleConfig as cH,useFormControlContext as cI,useFormControlStyles as cJ,__assign$1 as cK,__awaiter as cL,__generator$1 as cM,__rest$1 as cN,baseIsEqual as cO,FormControl as cP,getFullnodeUrl$1 as cQ,sleepTime as cR,dealWithFastRouterSwapParamsForMsafe as cS,InputRightElement as cT,useFormControlProps as cU,omit as cV,useSafeLayoutEffect$2 as cW,Symbol$1 as cX,isArray as cY,isArguments as cZ,arrayPush as c_,j as ca,useLocation as cb,Link$1 as cc,ExplorerContent as cd,RPCContent as ce,isMenuActive as cf,NavLink as cg,Notifications as ch,H5Header as ci,getAugmentedNamespace as cj,reactDomExports as ck,getDefaultExportFromCjs$2 as cl,defaultExplorers as cm,TokenSelectCard as cn,useTransactionStore as co,useConnectWallet as cp,M as cq,getFullnodeUrl as cr,useCryptoStore as cs,useIntNotifi as ct,Outlet as cu,GeneralLoading as cv,global$1 as cw,__spreadArray as cx,__read$3 as cy,useSwitchAccount as cz,d$1 as d,baseGetTag as d0,keys as d1,getSymbols as d2,Uint8Array$1 as d3,isPrototype as d4,getTag as d5,baseUnary as d6,nodeUtil as d7,isBuffer as d8,Stack as d9,CustomToast as dA,Notfound$1 as dB,ErrorBoundary as dC,PreView as dD,TokenAvatar as dE,index as dF,Upload as dG,ToastTitle as dH,TitleText as dI,ConnectWalletModal$1 as dJ,getCroppedImg as dK,calcNumber as dL,replaceFilename as dM,ExcludeCNCharRegex as dN,ExcludeSpecialCharRegex as dO,SymbolExcludeSpecialCharRegex as dP,SymbolLimitRegex as dQ,BlankSpaceRegex as dR,WebSiteUrlRegex as dS,XUrlRegex as dT,DiscordRegex as dU,TelegramRegex as dV,SearchInput as dW,commonjsGlobal$1 as dX,getAllKeys as da,TradeInput as db,getNative as dc,eq$1 as dd,arrayLikeKeys as de,isArrayLike as df,overArg as dg,stubArray as dh,baseGetAllKeys as di,Buffer$1 as dj,executeAuction_1 as dk,base64ToUint8Array as dl,TransactionDataBuilder as dm,parseOwnerBalanceChanges as dn,normalizeCoinType$1 as dp,removePercentSign as dq,useTokenStore as dr,coinMetadataToCoinInfo as ds,defineStyle as dt,keyframes$1 as du,dayjs as dv,crypto$1 as dw,generateOnRampURL as dx,Toast as dy,CoinSelect$2 as dz,useExplorer as e,formatPrice as f,SingleCoinImage as g,getTimeDifferenceString as h,TextWrap as i,jsxRuntimeExports as j,SelectTab as k,Spinner$1 as l,Stack$1 as m,useCallbackRef as n,getIsReversed as o,useControllableState as p,clampValue as q,reactExports as r,symbolDataDisplayProcessing as s,percentToValue as t,useFetch as u,valueToPercent as v,roundValueToStep as w,getStyles as x,getIds as y,useUpdateEffect as z};
