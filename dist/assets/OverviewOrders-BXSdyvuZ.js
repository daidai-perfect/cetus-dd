import{u as J}from"./useAccountBalance-C2Raiu99.js";import{k as q,z as W,d as O,v as b,x as Y,p as G,j as V,R as ot,u as _t,a_ as ht,Z as vt,X as Q,I as F,G as yt,a as Dt,e as St,i as Ot,B as wt,q as X}from"./index-1pql7esm.js";import{a as C,j as s,H as j,T,aq as At,u as f,V as z,f as I,C as bt,v as Pt}from"./vendor-DXHkIl66.js";import{u as tt}from"./useTransaction-HT-BOlou.js";import{u as Ct}from"./RangeValue-CWje48WD.js";import{u as jt}from"./activeOrders-DLCin0Mb.js";import{u as Tt}from"./useToken-DQuh8vo3.js";import{P as Nt}from"./Pagination-CSSNOfsX.js";import{H as Z}from"./HTextLabelBox-BUAVAY0k.js";import{N as Rt}from"./NoData-CqJO7NcS.js";import{E as $t}from"./ErrorTips-CNrEhtPh.js";function et(){const{peripherySdk:e}=q();return{dcaCloseOrderPayload:async t=>await e.Dca.dcaCloseOrderPayload(t)}}function st(){const{peripherySdk:e}=q();return{dcaWithdrawPayload:async t=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: useDcaClaim.ts:12 ~ params:",t),await e.Dca.withdrawAll(t))}}function Lt(e){const a=Math.floor(e/2592e3);e%=2592e3;const h=Math.floor(e/604800);e%=604800;const D=Math.floor(e/86400);e%=86400;const p=Math.floor(e/3600);e%=3600;const A=Math.floor(e/60);e%=60;const w=[];return a>0&&w.push(`${a} Month${a>1?"s":""}`),h>0&&w.push(`${h} Week${h>1?"s":""}`),D>0&&w.push(`${D} Day${D>1?"s":""}`),p>0&&w.push(`${p} Hour${p>1?"s":""}`),A>0&&w.push(`${A} Minute${A>1?"s":""}`),w.join(" ")}function at(){const{getTokenListInfo:e}=Tt(),{peripherySdk:l}=q(),{setDcaOrderListLoading:t,setDcaActiveOrderList:o,setDcaPastOrderList:u}=jt(),i=async(r,x=!0)=>{var v;console.log("ðŸš€ ~ getDcaOrderList ~ walletAddress:",r);try{t(x);const m=await l.Dca.getDcaOrders(r);if(console.log("ðŸš€ ~ getDcaOrderList ~ list:",m),m&&(m!=null&&m.data)&&((v=m==null?void 0:m.data)==null?void 0:v.length)>0){const{activeResult:n,pastResult:_}=await w(m==null?void 0:m.data);console.log("ðŸš€ ~ getDcaOrderList ~ activeResult, pastResult:",{activeResult:n,pastResult:_}),o(n),u(_)}else o([]),u([])}catch(m){console.log("ðŸš€ ~ getDcaOrderList ~ error:",m),o([]),u([])}finally{t(!1)}},a=async r=>{try{const x=await e(r),v=new Map;return x==null||x.forEach((m,n)=>{const _=G.pow(10,m==null?void 0:m.decimals);v.set(n,{token:m,decimalsPow:_})}),v}catch(x){console.log("ðŸš€ ~ getTokenListDetails ~ error:",x)}},h=(r,x,v,m,n)=>{const _=O(r).div(x).div(O(m).div(v)).toString(),E=O(r).div(x).div(O(n).div(v)).toString();return{minPrice:_,maxPrice:E,minPriceResever:O(1).div(O(E)).toString(),maxPriceResever:O(1).div(O(_)).toString()}},D=r=>r.in_withdrawn>0&&r.in_withdrawn==r.in_deposited?"Close":r.in_withdrawn>0&&r.out_withdrawn>0?"PartialDeal":r.amount_left_next_cycle==0&&r.next_cycle_at==0?"AllDeal":"Active",p=(r,x,v,m,n,_,E)=>{const g=c=>c==="--"?"--":O(1).div(c).toString();switch(r){case"Close":return{currentAvgPrice:"--",currentAvgPriceResever:"--",inBalanceRatio:"0",inDepositedOut:"0"};case"PartialDeal":{const c=x.sub(v).div(_).toString(),S=x.sub(v).div(x).mul(100).toDP(2,G.ROUND_HALF_UP).toString();return console.log("ðŸš€ ~ useGetDcaOrderList ~ inDeposited:",v,x),{currentAvgPrice:c,currentAvgPriceResever:g(c),inBalanceRatio:S,inDepositedOut:x.sub(v).toString()}}case"AllDeal":{const c=x.div(_).toString();return{currentAvgPrice:c,currentAvgPriceResever:g(c),inBalanceRatio:"100",inDepositedOut:x.sub(m).toString()}}case"Active":{const c=n.gt(0)||_.gt(0)?x.sub(m).div(n.add(_)).toString():"--",S=x.sub(m).div(x).mul(100).toDP(2,G.ROUND_HALF_UP).toString();return{currentAvgPrice:c,currentAvgPriceResever:g(c),inBalanceRatio:S,inDepositedOut:x.sub(m).toString()}}default:return{currentAvgPrice:"--",currentAvgPriceResever:"--",inBalanceRatio:"0",inDepositedOut:"0"}}},A=(r,x,v,m)=>{const n=Date.now()/1e3,_=O(n).sub(r).div(x),E=v.lte(0)&&O(m).lte(0);return _.gt(3)&&E},w=async r=>{const x=[],v=[],m=new Set;r==null||r.forEach(g=>{m.add(W(g.in_coin_type,!1)),m.add(W(g.out_coin_type,!1))});const n=await a(Array.from(m));if(n)for(const g of r)try{const{token:c,decimalsPow:S}=n.get(W(g.in_coin_type,!1)),{token:B,decimalsPow:L}=n.get(W(g.out_coin_type,!1)),P=O(g.in_deposited).div(S),R=O(g.in_deposited).div(g.in_amount_per_cycle).floor().toString(),y=O(g.in_amount_per_cycle).div(S).toString(),$=O(g.in_balance).div(S),d=O(g.in_withdrawn).div(S),H=O(g.out_balance).gt(0)?O(g.out_balance).div(L):O(0),M=O(g.out_withdrawn).div(L),it=b(P.div(R).toString()),ct=$.div(y).floor().toNumber(),{minPrice:lt,maxPrice:nt,minPriceResever:ut,maxPriceResever:xt}=h(g.in_amount_per_cycle,S,L,g.max_out_amount_per_cycle,g.min_out_amount_per_cycle),k=D(g),{currentAvgPrice:U,currentAvgPriceResever:rt,inBalanceRatio:mt,inDepositedOut:gt}=p(k,P,d,$,H,M,S),pt=A(g.created_at,g.cycle_frequency,H,M),K={createAt:Y(g.created_at*1e3,"YMDHM"),cycleFrequency:g.cycle_frequency,orderID:g.id,inAmountPerCycle:y,nextCycleAt:Y(g.next_cycle_at*1e3,"YMDHM"),inDeposited:P.toString(),cycleCount:R,inDepositedOut:gt,inBalance:$.toString(),minPrice:b(lt),maxPrice:b(nt),minPriceResever:b(ut),maxPriceResever:b(xt),inCoin:c,outCoin:B,outBalance:H.toString(),inBalanceRatio:mt,outWithdraw:M.toString(),investEvery:Lt(g.cycle_frequency),eachOrderSize:it,currentAvgPrice:U==="--"?"--":b(U,B.decimals),currentAvgPriceResever:U==="--"?"--":b(rt,c.decimals),orderStatus:k,inWithdrawn:d.toString(),ofOrderLeft:ct,isShowTradeTips:pt,nextCycleAtTimeStamp:g.next_cycle_at*1e3,createdAt:g.created_at*1e3,version:g.version};k==="Active"?x.push(K):v.push(K)}catch(c){console.log("ðŸš€ ~ buildDcaOrderList ~ error:",c)}const _=x==null?void 0:x.sort((g,c)=>c.version-g.version),E=v==null?void 0:v.sort((g,c)=>c.version-g.version);return console.log("ðŸš€ ~ buildDcaOrderList ~ activeResult, pastResult:",{activeResult:x,pastResult:v}),{activeResult:_,pastResult:E}};return{getDcaOrderList:i,buildDcaOrderList:w}}function ft(){const[e,l]=C.useState(!1),[t,o]=C.useState(!1),{dcaWithdrawPayload:u}=st(),{dcaCloseOrderPayload:i}=et(),{signAndExecuteTransaction:a}=tt(),{fetchAccountBalance:h}=J(),{currentAccount:D}=V(),{getDcaOrderList:p}=at();return{closeAll:async r=>{o(!0);try{const x=r==null?void 0:r.map(n=>({order_id:n==null?void 0:n.orderID,in_coin_type:n==null?void 0:n.inCoin.coin_type,out_coin_type:n==null?void 0:n.outCoin.coin_type}));console.log("ðŸš€ ~ const closeOrderParams:any=pageList.map ~ closeOrderParams:",x);const v=await i(x),m=await a(v,{getShowInfo:n=>{const _={modalDescriptionText:"Closing DCA order",toastTitleText:"Closing DCA order"};return n==="success"&&(_.modalDescriptionText="DCA Order Closed",_.toastDescriptionContent="",_.toastTitleText="DCA Order Closed"),_}});console.log("ðŸš€ ~ closeAll ~ res:",m),m&&setTimeout(()=>{h(),p(D==null?void 0:D.address,!0)},2e3),o(!1)}catch(x){console.log("ðŸš€ ~ closeAll ~ error:",x),o(!1)}},claimAll:async r=>{l(!0);try{const x=r==null?void 0:r.map(n=>({order_id:n==null?void 0:n.orderID,in_coin_type:n==null?void 0:n.inCoin.coin_type,out_coin_type:n==null?void 0:n.outCoin.coin_type}));console.log("ðŸš€ ~ const claimOrderParams:any=pageList.map ~ claimOrderParams:",x);const v=await u(x),m=await a(v,{getShowInfo:n=>{const _={modalDescriptionText:"DCA Order Claimed",toastTitleText:"DCA Order Claimed"};return n==="success"&&(_.toastDescriptionContent=""),_}});console.log("ðŸš€ ~ claimAll ~ res:",m),m&&setTimeout(()=>{h(),p(D==null?void 0:D.address,!0)},2e3),l(!1)}catch(x){console.log("ðŸš€ ~ claimAll ~ error:",x),l(!1)}},isClaimAllLoading:e,isCloseAllLoading:t}}const Et=(e,l)=>({upperPriceSize:"0%",setUpperPriceSize:t=>{e(()=>({upperPriceSize:t}))},lowerPriceSize:"0%",setLowerPriceSize:t=>{e(()=>({lowerPriceSize:t}))},dcaMode:"total",setDcaMode:t=>{e(()=>({dcaMode:t}))},isDcaRefresh:!1,setIsDcaRefresh:t=>{e(()=>({isDcaRefresh:t}))},pageDirect:!1,setPageDirect:t=>{e(()=>({pageDirect:t}))},sellTotalAmount:"",setSellTotalAmount:t=>{e(()=>({sellTotalAmount:t}))},sellAmount:"",setSellAmount:t=>{e(()=>({sellAmount:t}))},buyAmount:"",setBuyAmount:t=>{e(()=>({buyAmount:t}))},sellCoin:void 0,setSellCoin:t=>{e(()=>({sellCoin:t}))},buyCoin:void 0,setBuyCoin:t=>{e(()=>({buyCoin:t}))},orderNum:"2",setOrderNum:t=>{e(()=>({orderNum:t}))},investNum:"1",setInvestNum:t=>{e(()=>({investNum:t}))},currentCoinKey:"sellCoin",setCurrentCoinKey:t=>{e(()=>({currentCoinKey:t}))},currentInvest:"Hour",setCurrentInvest:t=>{e(()=>({currentInvest:t}))},pageLoading:!0,setPageLoading:t=>{e(()=>({pageLoading:t}))},dcaConfig:{},setDcaConfig:t=>{e(()=>({dcaConfig:t}))},dcaQuote:{},setDcaQuote:t=>{e(()=>({dcaQuote:t}))},orderHistoryObj:{},setOrderHistoryObj:t=>{e(()=>({orderHistoryObj:{...l().orderHistoryObj,...t}}))},inCoinWhiteList:[],setInCoinWhiteList:t=>{e(()=>({inCoinWhiteList:t}))},outCoinWhiteList:[],setOutCoinWhiteList:t=>{e(()=>({outCoinWhiteList:t}))}}),dt=ot(Et);function Bt(){const{fetchByApi:e}=_t(),{setOrderHistoryObj:l}=dt();return{getDcaOrderHistory:async({orderId:o,limit:u,offset:i})=>{var h;const a=await e(ht,"GET",{order_id:o,limit:u,offset:i});if(console.log("ðŸš€ ~ file: useGetDcaOrderHistory.ts:16 ~ useGetDcaOrderHistory ~ res:",a),a!=null&&a.list){const D={[o]:{list:((h=a==null?void 0:a.list)==null?void 0:h.map(p=>({inAmount:p==null?void 0:p.in_amount,outAmount:p==null?void 0:p.out_amount,inCoinType:p==null?void 0:p.in_coin,outCoinType:p==null?void 0:p.out_coin,time:p==null?void 0:p.execution_at,tx:p==null?void 0:p.tx})))||[],total:(a==null?void 0:a.total)||0}};return l(D),D}}}}function Ht(){const[e,l]=C.useState(!1),[t,o]=C.useState(!1),[u,i]=C.useState(!1),[a,h]=C.useState([]),[D,p]=C.useState(0),{currentAccount:A}=V(),{dcaWithdrawPayload:w}=st(),{fetchCoinBalance:r}=J(),{signAndExecuteTransaction:x}=tt(),{getDcaOrderList:v}=at(),{dcaCloseOrderPayload:m}=et(),{getDcaOrderHistory:n}=Bt();return{toClaim:async c=>{l(!0);try{console.log("ðŸš€ ~ closeOrder ~ orderInfo:",c);const S=[],B={order_id:c==null?void 0:c.orderID,in_coin_type:c==null?void 0:c.inCoin.coin_type,out_coin_type:c==null?void 0:c.outCoin.coin_type};S.push(B),console.log("ðŸš€ ~ toClaim ~ claimOrderParams:",S);const L=await w(S),P=await x(L,{getShowInfo:R=>{var $,d;const y={modalDescriptionText:`${($=c==null?void 0:c.outCoin)==null?void 0:$.symbol} Claimed`,toastTitleText:`${(d=c==null?void 0:c.outCoin)==null?void 0:d.symbol} Claimed`};return R==="success"&&(y.toastDescriptionContent=""),y}});P&&(console.log("ðŸš€ ~ toClaim ~ res:",P),setTimeout(()=>{r(A==null?void 0:A.address,c==null?void 0:c.outCoin.coin_type),v(A==null?void 0:A.address,!0)},2e3)),l(!1)}catch(S){console.log("ðŸš€ ~ toClaim ~ error:",S),l(!1)}},closeOrderAction:async c=>{o(!0);try{console.log("ðŸš€ ~ closeOrder ~ orderInfo:",c);const S=[{order_id:c==null?void 0:c.orderID,in_coin_type:c==null?void 0:c.inCoin.coin_type,out_coin_type:c==null?void 0:c.outCoin.coin_type}];console.log("ðŸš€ðŸš€ðŸš€ ~ file: dca-order-card.vue:280 ~ closeOrder ~ closeOrderParams:",S);const B=await m(S),L=await x(B,{getShowInfo:P=>{const R={modalDescriptionText:"Closing DCA order",toastTitleText:"Closing DCA order"};return P==="success"&&(R.modalDescriptionText="DCA Order Closed",R.toastDescriptionContent="",R.toastTitleText="DCA Order Closed"),R}});console.log("ðŸš€ ~ closeOrder ~ res:",L),L&&setTimeout(()=>{r(),v(A==null?void 0:A.address,!0)},2e3),o(!1)}catch(S){console.log("ðŸš€ ~ closeOrder ~ error:",S),o(!1)}},isCloseLoading:t,isClaimLoading:e,total:D,orderHistoryList:a,handleGetDcaOrderHistory:async(c,S,B,L=!1)=>{var R,y,$,d;console.log("ðŸš€ ~ handleGetDcaOrderHistory ~ loading:",L),i(L);const P=await n({orderId:c,limit:S,offset:B});console.log("ðŸš€ ~ handleGetDcaOrderHistory ~ res?.list:",P,P[c]),(R=P[c])!=null&&R.list&&h((y=P[c])==null?void 0:y.list),($=P[c])!=null&&$.total&&p((d=P[c])==null?void 0:d.total),i(!1),console.log("ðŸš€ ~ file: TestData.tsx:170 ~ handleGetDcaOrderHistory ~ res:",P)},orderHistoryListLoading:u}}function It({orderInfo:e}){const{inCoin:l,outCoin:t}=e;return s.jsxs(j,{children:[s.jsx(vt,{coinAIconUrl:l==null?void 0:l.logo_url,coinBIconUrl:t==null?void 0:t.logo_url,coinACoinType:l==null?void 0:l.coin_type,coinBCoinType:t==null?void 0:t.coin_type,w:"28px",h:"28px"}),s.jsxs(T,{color:"text_caption",children:[l==null?void 0:l.symbol," â†’ ",t==null?void 0:t.symbol]})]})}function te({orderInfo:e,isProfile:l}){const{inCoin:t}=e;return s.jsxs(j,{flexDirection:l?"column":"row",align:l?"flex-end":"center",children:[s.jsxs(j,{children:[s.jsxs(T,{color:"text_caption",fontSize:"12px",children:[b(e==null?void 0:e.inDepositedOut)," ",t==null?void 0:t.symbol]}),!l&&s.jsxs(T,{color:"primary_gray",fontSize:"12px",children:["/ ",b(e==null?void 0:e.inDeposited)," ",t==null?void 0:t.symbol]})]}),s.jsxs(j,{children:[s.jsxs(T,{color:"primary_gray",fontSize:"12px",children:["(",e==null?void 0:e.inBalanceRatio,"%)"]}),s.jsx(At,{w:l?"40px":"50px",h:"4px",value:e==null?void 0:e.inBalanceRatio,bg:"#282828",sx:{'div[role="progressbar"]':{bg:"primary"}}})]})]})}function ee({orderInfo:e,isProfile:l=!1,isRank:t=!1}){const o="400",u=C.useMemo(()=>({minPrice:e==null?void 0:e.minPrice,maxPrice:e==null?void 0:e.maxPrice,minPriceResever:e==null?void 0:e.minPriceResever,maxPriceResever:e==null?void 0:e.maxPriceResever}),[e]),i=C.useMemo(()=>e==null?void 0:e.outCoin,[e]),a=C.useMemo(()=>e==null?void 0:e.inCoin,[e]),[h,D]=C.useState(!0),{getTokenRank:p}=Ct();C.useEffect(()=>{if(t){const r=p(i,a);console.log("ðŸš€ ~ useEffect ~ direct:",r),D(r)}},[t,i==null?void 0:i.coin_type,a==null?void 0:a.coin_type]);const A=l?"14px":"12px",w=l?"text_paragraph":"primary_gray";return s.jsx(j,{mt:"3px",justify:l?"flex-end":"flex-start",children:s.jsx(f,{isLoaded:!!(u!=null&&u.minPrice)&&!!i&&!!a,children:s.jsxs(j,{flexWrap:"wrap",gap:"4px",justify:"flex-start",align:l?"flex-end":"center",flexDirection:l?"column":"row",children:[s.jsx(T,{lineHeight:"1",fontSize:A,fontWeight:o,color:"text_caption",whiteSpace:"nowrap",children:h?`${u==null?void 0:u.minPrice} - ${u==null?void 0:u.maxPrice}`:`${u==null?void 0:u.minPriceResever} - ${u==null?void 0:u.maxPriceResever}`}),s.jsxs(j,{gap:"4px",children:[s.jsxs(j,{gap:"0",children:[s.jsx(T,{fontSize:"12px",fontWeight:o,color:w,children:Q(h?a==null?void 0:a.symbol:i==null?void 0:i.symbol,10)}),s.jsx(T,{fontSize:"12px",fontWeight:o,color:w,children:"Â perÂ "}),s.jsx(T,{fontSize:"12px",fontWeight:o,color:w,children:Q(h?i==null?void 0:i.symbol:a==null?void 0:a.symbol,10)})]}),s.jsx(F,{xlinkHref:"#icon-icon_swap1",w:"14px",h:"14px",onClick:r=>{yt(r),D(!h)}})]})]})})})}function N({label:e,value:l,direct:t,onChangeDirect:o,textAlign:u="left",showDirectIcon:i=!0,...a}){return s.jsxs(z,{align:"flex-start",flexDirection:{base:"row",lg:"column"},w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},...a,children:[e!==""&&s.jsxs(j,{h:"12px",children:[s.jsx(T,{fontSize:"12px",children:e}),o&&i&&s.jsx(F,{xlinkHref:"#icon-icon_swap1",svgW:"14px",svgH:"14px",ml:"-6px",onClick:o})]}),l!==""&&s.jsx(I,{fontSize:"12px",color:"text_caption",textAlign:u,children:l})]})}function se({isDetail:e,currentTabVal:l,orderInfo:t,pageDirect:o}){const{isApp:u}=Dt(),{inCoin:i,outCoin:a}=t,[h,D]=C.useState(o),[p,A]=C.useState(o),w=10,[r,x]=C.useState(1),{isClaimLoading:v,toClaim:m,total:n,orderHistoryList:_,handleGetDcaOrderHistory:E,orderHistoryListLoading:g}=Ht(),[c,S]=C.useState({label:"Overview",value:"overview"}),B=C.useMemo(()=>[{label:"Overview",value:"overview"},{label:g||Number(n)===0?"Orders":`Orders (${n})`,value:"orders"}],[n]),L=y=>{S(y),t!=null&&t.orderID&&E(t==null?void 0:t.orderID,w,0,!1)};C.useEffect(()=>{e&&(t!=null&&t.orderID)&&E(t==null?void 0:t.orderID,w,0,!1)},[t,e]);const P=y=>{console.log("ðŸš€ ~ handleCurrentPage ~ page:",y);const $=(y-1)*w;E(t==null?void 0:t.orderID,w,$,!1),x(y)},{getExplorerUrl:R}=St();return s.jsxs(z,{w:"100%",gap:"20px",children:[s.jsx(Ot,{type:"outlineTab",wrapStyle:{w:"100%",h:"36px",borderRadius:"8px",p:"4px",mt:"-1px",zIndex:"1"},itemStyle:{w:"50%",fontSize:"12px"},tabList:B,currentTab:c.label,handleChangeTab:L}),s.jsxs(wt,{p:"30px 8px 20px",mt:"-42px",borderRadius:"8px",zIndex:"0",bg:"bg_primary",children:[c.value=="orders"&&(g?s.jsx(f,{height:"4",width:"100%"}):(_==null?void 0:_.length)===0?s.jsx(Rt,{type:"nodata",text:"No orders",noBorder:!0,p:"12px",bg:"none"}):s.jsxs(z,{w:"100%",align:"flex-start",gap:"16px",mt:"12px",children:[!u&&s.jsxs(j,{w:"100%",flexDirection:{base:"column",lg:"row"},children:[s.jsx(N,{label:"Order info",value:"",w:{base:"100%",lg:"40%"}}),s.jsx(N,{label:"Rate",value:"",w:{base:"100%",lg:"calc(32% - 16px)"},direct:p,onChangeDirect:()=>A(!p)}),s.jsx(N,{label:"Time (UTC)",value:"",w:{base:"100%",lg:"28%"},align:"flex-end",textAlign:"right"})]}),_==null?void 0:_.map(y=>{const $=X(y.inAmount,i==null?void 0:i.decimals),d=X(y.outAmount,a==null?void 0:a.decimals),H=O($).div(d).toString(),M=O(1).div(H).toString();return s.jsxs(j,{w:"100%",flexDirection:{base:"column",lg:"row"},borderBottom:u?"1px solid":"none",pb:u?"16px":"0",borderColor:"border",_last:{borderBottom:"none",pb:"0"},children:[s.jsx(N,{label:u?"Order info":"",value:`${b($)} ${i.symbol} â†’ ${b(d)} ${a.symbol}`,w:{base:"100%",lg:"40%"}}),s.jsx(N,{label:u?"Rate":"",value:p?`${b(H)} ${i.symbol} per ${a.symbol}`:`${b(M)} ${a.symbol} per ${i.symbol}`,w:{base:"100%",lg:"calc(32% - 16px)"},direct:p,showDirectIcon:!!u,onChangeDirect:()=>A(!p)}),s.jsx(N,{label:u?"Time (UTC)":"",value:s.jsxs(j,{h:"12px",children:[s.jsx(T,{fontSize:"12px",color:"text_caption",children:Y((y==null?void 0:y.time)*1e3,"YMDHM")}),s.jsx(F,{xlinkHref:"#icon-icon_link1",onClick:()=>{window.open(R(y==null?void 0:y.tx,"tx"))}})]}),w:{base:"100%",lg:"28%"},align:"flex-end",textAlign:"right"})]},y==null?void 0:y.time)}),O(n).gt(w)&&s.jsx(bt,{w:"100%",children:s.jsx(Nt,{total:n,size:w,currentPage:r,onChange:P})})]})),c.value=="overview"&&s.jsxs(z,{align:"flex-start",gap:"20px",children:[(t==null?void 0:t.isShowTradeTips)&&(t==null?void 0:t.orderStatus)=="Active"&&l=="active"&&s.jsx(kt,{}),s.jsxs(z,{w:"100%",borderRadius:"8px",p:"12px",bg:"card_bg",gap:"12px",children:[s.jsx(Z,{isLoading:!1,label:`DCA  ${i==null?void 0:i.symbol} Balance`,value:`${Mt(t)} ${i==null?void 0:i.symbol}`,skeletonStyle:{valueW:"128px"}}),s.jsxs(j,{w:"100%",justify:"space-between",children:[s.jsxs(T,{fontSize:"12px",children:["DCA ",a==null?void 0:a.symbol," Balance"]}),s.jsxs(j,{children:[s.jsxs(T,{color:"text_caption",fontSize:"12px",children:[Wt(t)," ",a==null?void 0:a.symbol]}),l=="active"&&s.jsx(Pt,{isLoading:v,onClick:()=>m(t),disabled:(t==null?void 0:t.outBalance)<=0||v,w:"60px",h:"20px",fontSize:"12px",borderRadius:"4px",variant:"outline",children:"Claim"})]})]}),s.jsx(Z,{isLoading:!1,label:"Amount Withdrawn",value:zt(t,l=="active"),skeletonStyle:{valueW:"128px"}})]}),s.jsxs(j,{flexWrap:"wrap",p:{base:"0",lg:"0 12px"},mt:{base:"-12px",lg:"-28px"},sx:{">div":{mt:{base:"12px",lg:"28px"},w:{base:"100%",lg:"calc((100% - 66px)/3)"},"&:nth-child(3n+1)":{mr:{base:"0",lg:"50px"}}}},children:[s.jsx(N,{label:"Invest Every",value:t==null?void 0:t.investEvery}),s.jsx(N,{label:"# of Orders Left",value:t==null?void 0:t.ofOrderLeft}),s.jsx(N,{label:"Each Order Size",value:`${t==null?void 0:t.eachOrderSize} ${i==null?void 0:i.symbol}`,align:"flex-end",textAlign:"right"}),s.jsx(N,{label:"Minimum Price",value:h?`${t==null?void 0:t.minPrice} ${i==null?void 0:i.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.minPriceResever} ${a==null?void 0:a.symbol} per ${i==null?void 0:i.symbol}`,direct:h,onChangeDirect:()=>D(!h)}),s.jsx(N,{label:"Maximum Price",value:h?`${t==null?void 0:t.maxPrice} ${i==null?void 0:i.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.maxPriceResever} ${a==null?void 0:a.symbol} per ${i==null?void 0:i.symbol}`,direct:h,onChangeDirect:()=>D(!h)}),l=="active"&&s.jsx(N,{label:"Current Avg. Price",value:h?`${t==null?void 0:t.currentAvgPrice} ${i==null?void 0:i.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.currentAvgPriceResever} ${a==null?void 0:a.symbol} per ${i==null?void 0:i.symbol}`,align:"flex-end",textAlign:"right",direct:h,onChangeDirect:()=>D(!h)}),l!=="active"&&(t==null?void 0:t.currentAvgPrice)!=="--"&&s.jsx(N,{label:"Avg. Price",value:h?`${t==null?void 0:t.currentAvgPrice} ${i==null?void 0:i.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.currentAvgPriceResever} ${a==null?void 0:a.symbol} per ${i==null?void 0:i.symbol}`,align:"flex-end",textAlign:"right",direct:h,onChangeDirect:()=>D(!h)}),l=="active"&&s.jsx(N,{label:"Next Order (UTC)",value:t==null?void 0:t.nextCycleAt}),s.jsx(N,{label:"Created (UTC)",value:t==null?void 0:t.createAt,align:l=="active"||l!=="active"&&(t==null?void 0:t.currentAvgPrice)!=="--"?"flex-start":"flex-end"})]})]})]})]})}const zt=(e,l,t=!1)=>{const{inCoin:o,outCoin:u}=e;return l?`${b(e==null?void 0:e.outWithdraw,2)} ${u==null?void 0:u.symbol}`:(e==null?void 0:e.orderStatus)==="PartialDeal"||(e==null?void 0:e.orderStatus)==="Close"?O(e==null?void 0:e.outWithdraw).gt(0)?s.jsxs(s.Fragment,{children:[b(e==null?void 0:e.inWithdrawn)," ",o==null?void 0:o.symbol,t&&s.jsx(I,{as:"span",display:"inline-block",m:"0 8px",w:"1px",h:"14px",bg:"border"}),b(e==null?void 0:e.outWithdraw)," ",u==null?void 0:u.symbol]}):`${b(e==null?void 0:e.inWithdrawn)} ${o==null?void 0:o.symbol}`:`${b(e==null?void 0:e.outWithdraw)} ${u==null?void 0:u.symbol}`},Mt=e=>b(e==null?void 0:e.inBalance,2)||"0",Wt=e=>(e==null?void 0:e.outBalance)>0?b(e==null?void 0:e.outBalance):e==null?void 0:e.outBalance,kt=()=>s.jsxs(z,{p:"12px 12px 0",align:"flex-start",children:[s.jsx(j,{children:s.jsx($t,{tips:"The system tried to execute your order multiple times but did not get it through. This is possibly because:",type:"warning",tipsFontSize:"12px",p:"0",bg:"none",svgW:"20px",svgH:"20px"})}),s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",children:"- The market price is not in your required price range"}),s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",children:"- The market no longer exit"}),s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",children:"- The market is extremely volatile"}),s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",children:"This DCA will continue to be attempted and the estimated end date may be extended until your order is fully executed."})]});export{It as D,se as O,ee as R,te as a,ft as b,dt as c,at as d,Mt as e,Wt as f,zt as g,Ht as u};
//# sourceMappingURL=OverviewOrders-BXSdyvuZ.js.map
