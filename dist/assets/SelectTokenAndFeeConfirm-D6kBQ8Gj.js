import{u as R}from"./useToken-Bvs0Ung1.js";import{aH as E,bu as F,r as f,a8 as Q,aG as z,b1 as D,j as t,au as I,av as O,B as C,H as w,a1 as G,S as N,V as h,T as l,c as V,aL as $,I as M,ax as v,ay as A,a as L,ag as U,l as X,br as Z,Z as P,ac as J,ad as K,ae as Y,ah as k,ai as q,aX as T}from"./index-BMYxc9Od.js";import{i as B}from"./index-CJXWYa_3.js";import{a as tt}from"./FeeTierSelect-bc1ia7H3.js";import{P as st}from"./index-6ljNv2-7.js";function nt(n,s){return n>s}function ot(n,s,c){for(var a=-1,o=n.length;++a<o;){var i=n[a],r=s(i);if(r!=null&&(x===void 0?r===r&&!E(r):c(r,x)))var x=r,p=i}return p}function it(n,s){return n&&n.length?ot(n,F(s),nt):void 0}function xt(){const[n,s]=f.useState([]),{getTokenInfo:c}=R();f.useEffect(()=>{s(a())},[]);const a=()=>{const i=[];return Q.create_pool_quote_coin_list.forEach(r=>{const x=c(r);x&&i.push(x)}),i};return{isWhiteQuoteToken:f.useCallback(i=>i?n.find(r=>z(r.coin_type)===z(i))!==void 0:!1,[n]),quoteWhiteTokenList:n}}function pt({baseToken:n,quoteToken:s,onBaseTokenChange:c,onQuoteTokenChange:a,feeTier:o,feeTierList:i,onFeeTierChange:r,title:x,description:p,onContinue:y,quoteWhiteTokenList:g,fromSource:S,wrapStyle:m={}}){var W;L(),f.useEffect(()=>{if(S==="addLiquidity"&&(i==null?void 0:i.length)>0){const e=it(i,b=>Number((b==null?void 0:b.tvl)||"0"));e&&r(e)}},[S,i]);const _=e=>{(e==null?void 0:e.coin_type)===(s==null?void 0:s.coin_type)&&a(void 0),c(e)},d=e=>{(e==null?void 0:e.coin_type)===(n==null?void 0:n.coin_type)&&c(void 0),a(e)},j=f.useMemo(()=>n&&s&&!B(n,g)&&!B(s,g),[n==null?void 0:n.coin_type,s==null?void 0:s.coin_type]);console.log("ðŸš€ðŸš€ðŸš€ ~ file: SelectPool.tsx:104 ~ quoteWhiteTokenList:",n,s,j,g);const u=f.useRef(null);return t.jsxs(h,{w:"100%",gap:{base:"16px",lg:"28px"},bg:"bg_fifth",borderRadius:"12px",p:{base:"16px 8px",lg:"24px"},...m,children:[t.jsxs(h,{gap:"8px",w:"100%",align:"flex-start",children:[t.jsx(U,{fontSize:"16px",fontWeight:"500",children:x}),t.jsx(l,{fontSize:"12px",fontWeight:"500",children:p})]}),t.jsxs(h,{w:"100%",gap:{base:"16px",lg:"32px"},children:[t.jsxs(X,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"12px",justify:"space-between",children:[t.jsx(H,{title:"Base token",value:n,isWhiteSelect:!1,whiteTokenList:void 0,onChange:_}),t.jsx(H,{title:"Quote token",value:s,isWhiteSelect:!0,whiteTokenList:g,onChange:d})]}),t.jsxs(h,{w:"100%",align:"flex-start",gap:"16px",children:[t.jsxs(h,{w:"100%",align:"flex-start",gap:"8px",children:[t.jsx(l,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Fee tier"}),t.jsx(l,{fontSize:"12px",fontWeight:"500",children:`The ${typeof o=="object"&&(o==null?void 0:o.feeDisplay)||"%"} you will earn in fees.`})]}),t.jsx(tt,{value:o,onChange:e=>r(e),feeTierList:i,placement:"bottom",wrapStyle:{w:((W=u==null?void 0:u.current)==null?void 0:W.clientWidth)||"463px"},children:({isOpen:e,onClick:b})=>t.jsx(Z,{w:"100%",borderRadius:"12px",h:"48px",border:"1px solid",borderColor:"border",cursor:"pointer",onClick:b,bg:"bg_secondary",ref:u,children:t.jsxs(w,{w:"100%",justifyContent:"space-between",p:"9px 16px",children:[o?t.jsx(l,{color:"text_caption",fontSize:"16px",fontWeight:"500",children:`${typeof o=="object"&&(o==null?void 0:o.feeDisplay)}`}):t.jsx(l,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:"Select fee tier"}),t.jsxs(w,{children:[t.jsx(l,{fontSize:"12px",children:typeof o=="object"&&(o==null?void 0:o.title)}),t.jsx(M,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:e?"rotate(180deg)":"rotate(0deg)"})]})]})})}),j&&t.jsx(C,{p:"6px 16px",w:"100%",borderRadius:"8px",bg:"primary_red_opacity.10",children:t.jsx(l,{fontSize:"12px",lineHeight:"16px",color:"primary_red",children:"To create a pool, one of the assets needs to be selected as the default token."})})]}),t.jsx(P,{w:"100%",borderRadius:"12px",h:"48px",disabled:!n||!s||!o||(o==null?void 0:o.disabled)||j,onClick:()=>y({baseToken:n,quoteToken:s,feeTier:o}),children:"Continue"})]})]})}const H=({title:n,value:s,onChange:c,whiteTokenList:a,isWhiteSelect:o,disabled:i=!1,wrapStyle:r={},symbolStyle:x={},tokenSize:p="28px",tokenStyle:y={},loading:g=!1})=>{var j;const{isOpen:S,onOpen:m,onClose:_}=D(),d=f.useRef(null);return t.jsx(t.Fragment,{children:t.jsxs(I,{modifiers:[{name:"flip",enabled:!1},{name:"shift",enabled:!1}],initialFocusRef:d,isLazy:!0,isOpen:S,trigger:"click",onClose:_,onOpen:m,placement:"bottom-start",children:[t.jsx(O,{children:t.jsx(C,{w:"100%",as:"button",ref:d,disabled:i,children:g?t.jsxs(w,{children:[t.jsx(G,{w:p,h:p}),t.jsx(N,{h:x.fontSize||"16px"})]}):t.jsxs(h,{flex:"1",gap:"8px",align:"flex-start",children:[n&&t.jsx(l,{fontSize:"12px",fontWeight:"500",children:n}),t.jsxs(w,{h:"48px",w:"100%",justify:"space-between",p:"9px 16px",cursor:"pointer",onClick:m,borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"bg_secondary",...r,children:[s?t.jsxs(w,{children:[t.jsx(V,{imageUrl:s==null?void 0:s.logo_url,w:p,h:p,coinType:s==null?void 0:s.coin_type,...y}),t.jsx(l,{color:"text_caption",fontSize:"16px",fontWeight:"600",whiteSpace:"nowrap",...x,children:$(s==null?void 0:s.symbol)})]}):t.jsx(l,{color:"text_caption",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Select token"}),t.jsx(M,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:S?"rotate(180deg)":"rotate(0deg)"})]})]})})}),t.jsx(v,{w:((j=d==null?void 0:d.current)==null?void 0:j.clientWidth)||"224px",minW:"224px",children:t.jsx(A,{p:"0",children:t.jsx(st,{selectTokenList:s?[s]:[],onClickToken:u=>{c(u),_()},whiteTokenList:a,hideCheckbox:!0})})})]})})};function dt({title:n,subTitle:s,btnText:c,isOpen:a,onClose:o,onConfirm:i}){return t.jsxs(J,{autoFocus:!1,returnFocusOnClose:!1,isOpen:a,onClose:o,isCentered:!0,children:[t.jsx(K,{}),t.jsxs(Y,{children:[t.jsx(k,{}),t.jsx(q,{p:"20px 16px",children:t.jsxs(h,{children:[t.jsx(C,{w:"200px",h:"200px",bg:"url('/images/img_create_pool.png')"}),t.jsx(l,{h:"20px",lineHeight:"20px",fontSize:"14px",color:"text_caption",fontWeight:"500",children:n}),s&&t.jsx(l,{fontSize:"14px",children:s})]})}),t.jsx(T,{p:"0 16px 16px",children:t.jsx(P,{w:"100%",h:"40px",borderRadius:"12px",colorScheme:"blue",fontSize:"16px",fontWeight:"500",onClick:()=>{o(),i()},children:c})})]})]})}export{H as S,dt as a,pt as b,it as m,xt as u};
