const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RewardsContent-B72Kf8PY.js","assets/index-D49RffYW.js","assets/index-CteIxbgC.css"])))=>i.map(i=>d[i]);
import{r as p,b as pe,j as e,ap as Oe,aq as Ye,C as ge,W as G,H as g,ar as es,I as ie,T as c,g as Ee,as as ps,c as ce,at as qe,au as De,av as ss,an as Qe,a as Ae,aw as Hs,ab as Rs,ax as Ws,V as y,$ as K,ay as ns,_ as Ns,az as Fs,B as $,a2 as $e,S as Se,am as Vs,l as Es,aA as J,Y as Ue,a1 as Te,a4 as Ge,ak as gs,ad as us,ae as js,af as fs,ag as ys,ah as bs,ai as ws,aj as Ss,k as Us,aB as Ms,a3 as vs,d as Z,aC as Ze,m as _s,aD as Os}from"./index-D49RffYW.js";import{u as Xe,a as Cs,b as Ys,c as xe,d as ts}from"./usePositionList-CyCzZNts.js";import{R as cs}from"./RefreshButton-C1kwCG7k.js";import{P as qs}from"./index-drVjB88T.js";import{S as Ie}from"./switch-Dw_sCPfe.js";import{u as is,a as ks,b as Ds,i as Qs,V as Gs}from"./useStatistics-BsmCDdoV.js";import{u as Xs}from"./useGetPoolList-DBJielhS.js";import{H as Ls,T as Ks}from"./VolumeChart-DuZkwLxg.js";import{N as ve}from"./NoData-MWQZy93S.js";import{S as Zs}from"./SortDropBlock-C63_uO_7.js";import{T as Ve}from"./TableSortTh-DmztC-Tn.js";import{u as Js}from"./index-DMJCbpXt.js";import{A as $s}from"./index-BVFwDyvF.js";import{C as Is,P as As}from"./CoinPairInfo-DmtDGhhi.js";import{F as en,u as Ts,P as sn,a as nn}from"./PositionListLoading-CCoJVjbJ.js";import{C as Le}from"./CetusTooltip-7TnGbJNH.js";import{u as tn}from"./useToken-BlS8b5ft.js";import{V as ds}from"./VTextLabelBox-hTKeBwlM.js";import{u as an}from"./useBurn-BlABJCgq.js";import{u as ms}from"./useTransaction-i5gFyneH.js";import{S as Me}from"./SingleTokenInfo-Cvcahm1q.js";import{L as ln}from"./PriceRange-BFhvNGCl.js";import{u as on}from"./useNotifiSubscription-CuqMrTBs.js";import{u as rn}from"./useRpcListener-D8tK2rVa.js";import{u as xn,a as Ps,P as pn}from"./PositionCurrentPrice-BTKiEyAc.js";import{u as cn}from"./useAccountBalance-D-weOZgA.js";import"./api-data-utils-D656F-wl.js";import"./Loading-DBRuHM4S.js";import"./TooltipIcon-BGEWyiwk.js";import"./index-DDipQFQp.js";import"./Pagination-DqVMPT3W.js";import"./tr-ChzXWjY-.js";import"./_getAllKeysIn-Caqnu8Ck.js";import"./YAxis-DLMNWJev.js";import"./throttle-DfDFquvd.js";import"./debounce-B0JWIAw5.js";import"./generateCategoricalChart-DoslVYNB.js";import"./linear-Cl5vGKe1.js";import"./index-Dmmexf3M.js";import"./AddressCopyLink-BnCAac35.js";import"./AddressUnderline-CPGiMg8E.js";import"./useCurrentPos-CwMCqO3d.js";import"./PositionStatus-Cy2qCSNc.js";import"./RangeValue-B6IVaqEN.js";import"./useXCetusHelper-wuRv4yeo.js";import"./usePreviousValue-D4m5LJZe.js";import"./msafe-oYBkW7LJ.js";function dn({selectCoinList:s,onClickSelectCoinList:n,onDeleteSelectCoinList:x}){const[r,t]=p.useState(!1),{isApp:i}=pe(),l=p.useRef(null);return e.jsxs(Oe,{isLazy:!0,placement:"bottom-start",trigger:"click",modifiers:[{name:"flip",enabled:!1},{name:"shift",enabled:!1}],initialFocusRef:l,children:[e.jsx(Ye,{children:e.jsx(ge,{ref:l,as:"button",minW:{base:"calc(100% - 48px)",lg:"292px"},children:e.jsx(G,{cursor:s.length>=2?"not-allowed":"pointer",h:"40px",borderRadius:"12px",minW:"100%",w:"unset",p:"0px 4px 0 10px",onClick:()=>t(!0),children:e.jsxs(g,{w:"100%",justify:"space-between",h:"100%",align:"center",children:[e.jsxs(es,{align:"center",h:"100%",children:[e.jsx(ie,{xlinkHref:"#icon-icon_search",svgHover:"text_paragraph"}),e.jsx(c,{ml:"4px",children:i&&s.length>=2?"":"Filter by token"})]}),e.jsx(g,{children:s==null?void 0:s.map(a=>e.jsxs(g,{gap:"4px",align:"center",bg:"button_ghost_bg",borderRadius:"8px",p:"5px 8px",children:[e.jsx(Ee,{imageUrl:a==null?void 0:a.logo_url,w:"20px",h:"20px"}),e.jsx(c,{ml:"2px",color:"text_caption",children:i?ps((a==null?void 0:a.symbol)||"",5):ps((a==null?void 0:a.symbol)||"",10)}),e.jsx(ie,{xlinkHref:"#icon-icon_close",onClick:d=>{ce(d),x(a),t(!1)}})]},a==null?void 0:a.coin_type))})]})})})}),r&&(s==null?void 0:s.length)<2&&e.jsx(qe,{w:{base:"calc(100vw - 68px)",lg:"292px"},children:e.jsx(De,{p:"0px",children:e.jsx(qs,{selectTokenList:s,onDeleteToken:x,onClickToken:n})})})]})}function zs({handleIsWatchList:s=()=>{},handleIsDisplayChecked:n=()=>{},onClickIncentiveTypes:x,handleRefresh:r,selectCoinList:t,onClickSelectCoinList:i,onDeleteSelectCoinList:l,isPools:a=!0,isRefreshed:d}){const{isWatchList:u,isAllPools:v,isIncentivizedOnly:m}=Xe(),{isApp:w,windowWidth:j}=pe();return e.jsxs(g,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsxs(g,{w:{base:"100%",lg:a?"unset":"100%"},justify:"space-between",children:[e.jsx(dn,{selectCoinList:t,onClickSelectCoinList:i,onDeleteSelectCoinList:l}),(w||!a)&&e.jsx(cs,{handleRefresh:r,isRefreshed:a?d:void 0})]}),a&&e.jsxs(g,{w:{base:"100%",lg:"unset"},justify:"space-between",gap:"8px",children:[e.jsx(G,{w:{base:j<=350?"48px":"36%",lg:"unset"},borderRadius:"12px",p:{base:"0px 8px",lg:"0 12px"},h:"40px",onClick:s,children:j<=350?e.jsx(g,{h:"38px",justify:"center",align:"center",children:e.jsx(ie,{xlinkHref:"#icon-icon_star",svgFill:u?"primary":"text_paragraph"})}):e.jsxs(g,{h:"100%",justify:"space-between",gap:{base:"6px",lg:"8px"},children:[e.jsx(ss,{checked:u,onClick:()=>{}}),e.jsx(c,{color:u?"text_caption":"text_paragraph",children:"Watchlist"})]})}),e.jsxs(g,{w:{base:"100%",lg:"unset"},children:[e.jsx(G,{w:{base:"65%",lg:"unset"},borderRadius:"12px",p:w?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(g,{h:"100%",justify:"space-between",gap:w?"4px":"8px",children:[e.jsx(c,{color:m?"text_caption":"text_paragraph",children:w?"Incentivized":"Incentivized Only"}),e.jsx(Ie,{isChecked:m,onChange:x})]})}),e.jsx(G,{w:{base:"35%",lg:"unset"},borderRadius:"12px",p:w?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(g,{h:"100%",justify:"space-between",children:[e.jsxs(c,{color:v?"text_caption":"text_paragraph",children:[" ",w?"All":"All pools"]}),e.jsx(Ie,{isChecked:v,onChange:n})]})})]}),!w&&e.jsx(cs,{handleRefresh:r,isRefreshed:d})]})]})}const hn=()=>e.jsx(g,{w:"18px",h:"18px",onClick:s=>{ce(s)},children:e.jsx(Le,{placement:"top",tooltip:e.jsx(c,{fontSize:"12px",children:"Mining rewards available"}),children:e.jsx(ge,{children:e.jsx(Qe,{w:"100%",h:"100%",minW:"100%",src:"/images/icon_mining.png"})})})}),gn=()=>{const s=Ae(),{isApp:n}=pe();return e.jsx(g,{w:"20px",h:"20px",onClick:x=>{ce(x),n||s("/vaults")},children:e.jsx(Le,{placement:"top",tooltip:e.jsx(c,{fontSize:"12px",children:"Vault available"}),children:e.jsx(ge,{children:e.jsx(Qe,{w:"100%",h:"100%",src:"/images/icon_vaults.png"})})})})},un=({coinTypeA:s,coinTypeB:n})=>{const{getShowCoinTag:x}=Hs(),{trustedTokenList:r,importTokenList:t}=Rs(),i=p.useMemo(()=>(s||n)&&(r==null?void 0:r.length)>0?x(s)||x(n):!1,[s,n,r,t]);return e.jsx(e.Fragment,{children:i&&e.jsx(g,{w:"20px",h:"20px",onClick:l=>{ce(l)},children:e.jsx(Le,{placement:"top",tooltip:e.jsx(c,{lineHeight:"20px",fontSize:"12px",w:"240px",children:"This pool contains tokens that are not on the Frequently Traded List. Please check the Coin Type of these coins before interacting with this pool!"}),children:e.jsx(ge,{children:e.jsx(Qe,{w:"100%",h:"100%",src:Ws})})})})})};function jn({poolInfo:s}){const n=Ae(),{addFavorites:x,removeFavorites:r}=Cs(),{poolFavoriteIds:t}=Xe(),{goLiquidity:i}=is(),l=p.useMemo(()=>t==null?void 0:t.includes((s==null?void 0:s.poolAddress)||""),[JSON.stringify(t),s==null?void 0:s.poolAddress]);return e.jsxs(y,{align:"flex-start",padding:"8px",children:[e.jsx(Je,{text:"Analytics",xlinkHref:"#icon-icon_kline",onClick:()=>{i(`/liquidity?tab=analytics&poolAddress=${s==null?void 0:s.poolAddress}`,s)}}),e.jsx(Je,{text:"Swap",xlinkHref:"#icon-icon_swap1",onClick:()=>{var a,d;n(`/swap/${(a=s==null?void 0:s.displayTokenA)==null?void 0:a.coin_type}/${(d=s==null?void 0:s.displayTokenB)==null?void 0:d.coin_type}`)}}),e.jsx(Je,{text:"Add to Watchlist",xlinkHref:l?"#icon-icon_star_sel":"#icon-icon_star",svgFill:l?"primary":"text_paragraph",onClick:()=>{l?r(s==null?void 0:s.poolAddress):x(s==null?void 0:s.poolAddress)}})]})}const Je=({text:s,xlinkHref:n,svgFill:x="text_paragraph",onClick:r})=>e.jsxs(g,{w:"100%",cursor:"pointer",bg:"menu_item_bg",borderRadius:"8px",padding:"11px",_hover:{svg:{fill:"primary"},p:{color:"primary"}},onClick:t=>{ce(t),r()},children:[e.jsx(ie,{svgFill:x,xlinkHref:n,svgHover:"primary",svgW:s=="Add to Watchlist"?"22px":"20px",svgH:s=="Add to Watchlist"?"22px":"20px",minW:s=="Add to Watchlist"?"22px":"20px",minH:s=="Add to Watchlist"?"22px":"20px",ml:s=="Add to Watchlist"?"-2px":"0px"}),e.jsx(c,{fontSize:"13px",children:s})]});function fn({poolInfo:s}){const{isApp:n}=pe(),{goLiquidity:x}=is();return e.jsxs(g,{w:{base:"calc(100vw - 8px)",lg:"unset"},pr:{base:"16px",lg:"unset"},justify:n?"space-between":"flex-end",gap:"8px",children:[e.jsx(K,{w:{base:"calc(100% - 32px)",lg:"unset"},p:"8px",h:"32px",fontSize:{base:"14px",lg:"12px"},borderRadius:"8px",fontWeight:"500",onClick:()=>{x(`/liquidity?poolAddress=${s==null?void 0:s.poolAddress}`,s)},children:"Deposit"}),e.jsxs(Oe,{isLazy:!0,trigger:n?"click":"hover",placement:n?"top-start":"bottom-end",autoFocus:!1,returnFocusOnClose:!1,children:[e.jsx(Ye,{children:e.jsx(ge,{onClick:r=>{ce(r)},children:e.jsx(K,{variant:"ghost",w:"32px",h:"32px",p:"0",borderRadius:"8px",sx:{_hover:{svg:{fill:"primary"}}},children:e.jsx(ie,{svgFill:n?"primary":"text_paragraph",xlinkHref:"#icon-icon_more",svgW:"16px",svgH:"16px"})})})}),e.jsx(ns,{children:e.jsx(qe,{borderRadius:"12px",w:"fit-content",children:e.jsx(De,{p:"0",fontSize:"12px",w:"fit-content",children:e.jsx(jn,{poolInfo:s})})})})]})]})}const yn=p.lazy(()=>Ns(()=>import("./RewardsContent-B72Kf8PY.js"),__vite__mapDeps([0,1,2])));function bn({miningRewardList:s,farmsRewarderList:n}){const{getTokenInfo:x}=tn(),[r,t]=p.useState([]),i=async()=>{if((s==null?void 0:s.length)>0||(n==null?void 0:n.length)>0)try{let l=[],a=[];(s==null?void 0:s.length)>0&&(l=await Promise.all(s.map(async d=>{const u=await x(d==null?void 0:d.coinType);return{...d,tokenInfo:u,isMining:!0}}))),(n==null?void 0:n.length)>0&&(a=await Promise.all(n.map(async d=>{const u=await x(d==null?void 0:d.coinType);return{...d,tokenInfo:u,isFarming:!0}}))),t(l.concat(a))}catch(l){console.error("Error processing list:",l)}};return Fs(()=>{i()},[s,n]),e.jsx(g,{w:"100%",justify:"flex-end",children:r.map(l=>{var a;return e.jsx($,{onClick:d=>d.stopPropagation(),children:e.jsx(Le,{placement:"top",tooltip:e.jsx(p.Suspense,{fallback:e.jsxs(g,{children:[e.jsx($e,{w:"24px",h:"24px"}),e.jsx(Se,{w:"200px",h:"14px"})]}),children:e.jsx(yn,{item:l})}),children:e.jsx(ge,{as:"button",children:e.jsx(Ee,{imageUrl:(a=l==null?void 0:l.tokenInfo)==null?void 0:a.logo_url,w:"24px",h:"24px"})})})},l==null?void 0:l.coinType)})})}function wn({isRefreshed:s,handleIsRefreshed:n}){var be;const{getStatistics:x}=ks(),{poolRefreshStatus:r,setPoolRefreshStatus:t,setPoolListLength:i,poolFavoriteIds:l,isWatchList:a,setIsWatchList:d,isIncentivizedOnly:u,setIsIncentivizedOnly:v,isAllPools:m,setIsAllPools:w,poolFavoriteIdsChange:j,setPoolFavoriteIdsChange:V}=Xe(),{getPoolList:P}=Xs(),{getFavoritePoolList:de}=Cs(),{goLiquidity:Y}=is(),[q,D]=p.useState(u?["mining","farming"]:["mining","farming","noIncentives"]),I=()=>{v(!u),w(!1),D(o=>o!=null&&o.includes("noIncentives")?["mining","farming"]:["mining","farming","noIncentives"])},ee=()=>{w(!m),d(!1),v(!1),D(["mining","farming","noIncentives"])},se=()=>{w(!1),d(!a),V(!1)};p.useEffect(()=>{a&&j&&(V(!1),ae({offset:0,isWatchList:a}))},[a,l==null?void 0:l.length,j]);const _=p.useRef(null),W=()=>{n(!1),t("pending"),ae({offset:0,isListLoading:!1}),_.current=setTimeout(()=>{r=="pending"&&t("timeout")},1e4),x()},[H,k]=p.useState([]),f=o=>{k(C=>[...C,o])},R=o=>{k(C=>C.filter(Q=>(Q==null?void 0:Q.coin_type)!==(o==null?void 0:o.coin_type)))};p.useEffect(()=>{typeof a=="boolean"&&ae({offset:0})},[a,q,H]);const b=20,[U,F]=p.useState(!0),[M,O]=p.useState(!0),[X,he]=p.useState("desc"),[z,ue]=p.useState({label:"Volume (24H)",value:"vol"}),[L,_e]=p.useState([]),[me,Pe]=p.useState(0),[fe,ze]=p.useState(1),ae=async o=>{var ls,os,rs,xs;const C=(o==null?void 0:o.isListLoading)??!0,Q=(o==null?void 0:o.isWatchList)??a,ke=H.length==2?`${(ls=H[0])==null?void 0:ls.coin_type},${(os=H[1])==null?void 0:os.coin_type}`:H.length==1?`${(rs=H[0])==null?void 0:rs.coin_type}`:"",{is_vaults:Be=!1,display_all_pools:we=Q?!0:m??!0,has_mining:He=q.includes("mining"),has_farming:Re=q.includes("farming"),no_incentives:We=q.includes("noIncentives"),order_by:Ne=X=="desc"?`-${z==null?void 0:z.value}`:`${z==null?void 0:z.value}`,limit:Fe=b,offset:je=0,coin_type:B=ke,pool:N=""}=o;je==0&&ze(1),Number(je)>=b?F(!0):O(C);const oe={is_vaults:Be,display_all_pools:we,has_mining:He,has_farming:Re,no_incentives:We,order_by:Ne,limit:Fe,offset:je,coin_type:B,pool:N};let te;try{Q?(oe.pools=l,te=await de(oe)):te=await P(oe),te&&(Number(je)>=b?_e(re=>re.concat(te.list)):_e(te.list),Pe(te.total),i((te.total||0).toString()),O(!1),t("success"))}catch(re){re!=null&&re.list&&((xs=re==null?void 0:re.list)==null?void 0:xs.length)>0&&(t("error"),_e(re.list),Pe(re.total),i(""),O(!1))}};p.useEffect(()=>{U&&F(!1)},[L.length]);const{failedTsToast:Ke}=Vs();p.useEffect(()=>{if(r!=="pending"){const o={linkLabel:"",getShowInfo:()=>({toastTitleText:r=="error"?"Request Error":r=="timeout"?"Please check the network status.":""})};(r=="success"||r=="error")&&clearTimeout(_.current),(r=="error"||r=="timeout")&&Ke(o),n(!0)}},[r]);const{isApp:Ce}=pe(),h=o=>{if(Ce)(o==null?void 0:o.value)!==(z==null?void 0:z.value)&&(ae({offset:0,order_by:`-${o==null?void 0:o.value}`}),he("desc"),ue(o));else if((o==null?void 0:o.value)==(z==null?void 0:z.value)){ae({offset:0,order_by:X=="desc"?`${o==null?void 0:o.value}`:`-${o==null?void 0:o.value}`});const C=X=="desc"?"asc":"desc";he(C)}else ae({offset:0,order_by:`-${o==null?void 0:o.value}`}),he("desc"),ue(o)},A=[{label:"Liquidity",value:"tvl"},{label:"Volume (24H)",value:"vol"},{label:"Fees (24H)",value:"fees"},{label:"APR",value:"totalApr"}],T=A.reduce((o,C)=>(o[C.value]=C,o),{}),E=o=>{const C=o*b;ae({offset:C}),ze(Q=>Q+1)};Ae();const ne=p.useMemo(()=>{const o=(fe-1)*b+(L==null?void 0:L.length);return r!=="error"&&Number(me)>o},[me,fe,b]);p.useEffect(()=>(x(),_.current&&(clearTimeout(_.current),_.current=null),()=>{i(""),_.current&&(clearTimeout(_.current),_.current=null)}),[]);const S=Js({count:L.length,getScrollElement:()=>document.querySelector(".scroll-container"),estimateSize:()=>80,overscan:10}),ye=p.useRef(null);p.useEffect(()=>{let o=null;return!M&&ye.current&&(o=new IntersectionObserver(C=>{const Q=C[0];Q&&Q.isIntersecting&&ne&&!U&&E(fe)},{threshold:.5,rootMargin:"100px"}),o.observe(ye.current)),()=>{o&&o.disconnect()}},[M,fe,ne,U]);const le=Sn(X,z,h,T,Ce);return e.jsxs(y,{gap:"20px",w:"100%",background:"bg_primary",children:[e.jsx(zs,{handleIsDisplayChecked:ee,handleIsWatchList:se,onClickIncentiveTypes:I,handleRefresh:W,selectCoinList:H,onClickSelectCoinList:f,onDeleteSelectCoinList:R,isRefreshed:s}),e.jsx($,{h:"1px",w:"100%",bg:"border"}),e.jsxs(y,{w:"100%",position:"relative",gap:"20px",children:[!M&&(L==null?void 0:L.length)==0?e.jsx(ve,{type:"nodata",text:"No pools found",children:e.jsx(c,{mt:"4px",textAlign:"center",children:"Try adjusting your search or filter settings."})}):Ce?e.jsxs(y,{w:"100%",gap:"4px",children:[e.jsxs(g,{w:"100%",justify:"space-between",children:[e.jsx(c,{fontSize:"24px",color:"text_caption",children:"Pools"}),e.jsx(Zs,{sortText:"Sort by",minW:"180px",currentSort:z,sortByList:A,onSortByChange:h,xlinkHref:X=="desc"?"#icon-icon_sort2":"#icon-icon_sort_asc1",iconOnClick:()=>{ae({offset:0,order_by:X=="desc"?`${z==null?void 0:z.value}`:`-${z==null?void 0:z.value}`});const o=X=="desc"?"asc":"desc";he(o)}})]}),e.jsx(Ls,{rowKey:"poolAddress",dataSource:L,columns:le,loading:M,itemSkeletonLength:7,itemHeight:"30px",rowStyle:(o,C)=>({w:"100%",p:"0px",mt:"0px"}),onRowClick:o=>{Y(`/liquidity?poolAddress=${o.poolAddress}`,o)}})]}):M?e.jsx(Ks,{rowKey:"poolAddress",columns:le,dataSource:L,skeletonLength:10,loading:!0,rowStyle:{h:"80px",cursor:"pointer"}}):e.jsxs(y,{w:"100%",gap:"0",children:[e.jsx($,{as:"div",display:"grid",w:"1160px",gridTemplateColumns:"minmax(0px, 3.48fr) minmax(0px, 1.56fr) minmax(0px, 1.66fr) minmax(0px, 1.4fr) minmax(90px, 1fr) minmax(90px, 1fr) minmax(136px, 1.4fr)",h:"36px",columnGap:"12px",p:"0 16px",children:le==null?void 0:le.map((o,C)=>e.jsx(es,{as:"div",align:"center",justify:C===0?"flex-start":"flex-end",children:o.title},o.key))}),e.jsx($,{w:"100%",h:`${L.length*80}px`,pos:"relative",children:(be=S.getVirtualItems())==null?void 0:be.map(o=>{const C=L[o.index];return e.jsx(vn,{item:C,columns:le,virtualRow:o,goLiquidity:Y},C==null?void 0:C.poolAddress)})})]}),e.jsx($,{ref:ye,children:U?e.jsx(Es,{size:"sm",color:"text_caption"}):""})]})]})}const Sn=(s,n,x,r,t)=>[{title:e.jsx(c,{fontSize:"14px",children:"Pools"}),key:"pool",thConfig:{w:"30%"},showLabel:!1,render:i=>{var l,a;return e.jsxs(g,{children:[e.jsx(Is,{poolInfo:i,symbolEllipsesDecimals:10}),(i==null?void 0:i.haveFarming)&&e.jsx(en,{}),(i==null?void 0:i.haveMining)&&e.jsx(hn,{}),(i==null?void 0:i.isVaults)&&e.jsx(gn,{}),e.jsx(un,{coinTypeA:(l=i==null?void 0:i.tokenA)==null?void 0:l.coin_type,coinTypeB:(a=i==null?void 0:i.tokenB)==null?void 0:a.coin_type})]})}},{title:e.jsx(Ve,{labelInfo:r.tvl,sortRule:s,sortBy:n,clickSort:i=>x(i)}),key:"tvlDisplay"},{title:e.jsx(Ve,{labelInfo:r.vol,sortRule:s,sortBy:n,clickSort:i=>x(i)}),key:"volume24Display"},{title:e.jsx(Ve,{labelInfo:r.fees,sortRule:s,sortBy:n,clickSort:i=>x(i)}),key:"fees24Display"},{title:e.jsx(c,{textAlign:"right",children:"Rewards"}),key:"rewards",hidden:({miningRewardList:i,farmsRewarderList:l})=>i&&(i==null?void 0:i.length)<=0&&l&&(l==null?void 0:l.length)<=0,render:({miningRewardList:i,farmsRewarderList:l})=>e.jsx(bn,{miningRewardList:i,farmsRewarderList:l})},{title:e.jsx(Ve,{labelInfo:r.totalApr,sortRule:s,sortBy:n,tooltip:{type:"apr24"},clickSort:i=>x(i),justifyContent:"flex-end"}),key:"apr24h",render:i=>e.jsx($s,{poolInfo:i,placement:t?"auto-start":"top"})},{title:e.jsx(c,{textAlign:"right",children:"Actions"}),showLabel:!1,key:"actions",render:i=>e.jsx(fn,{poolInfo:i})}],vn=({item:s,columns:n,virtualRow:x,goLiquidity:r})=>e.jsx($,{as:"div",pos:"absolute",top:`${x.start}px`,left:"0",display:"grid",w:"100%",h:"80px",p:"0 16px",borderRadius:"12px",onClick:()=>r(`/liquidity?poolAddress=${s.poolAddress}`,s),cursor:"pointer",columnGap:"12px",gridTemplateColumns:"minmax(0px, 3.48fr) minmax(0px, 1.56fr) minmax(0px, 1.66fr) minmax(0px, 1.4fr) minmax(90px, 1fr) minmax(90px, 1fr) minmax(136px, 1.4fr)",_hover:{bg:"primary_opacity.10"},children:n==null?void 0:n.map((t,i)=>e.jsx(es,{align:"center",justify:i===0?"flex-start":"flex-end",children:t!=null&&t.render?t==null?void 0:t.render(s):e.jsx(c,{fontSize:"14px",fontWeight:"500",color:"text_caption",children:s==null?void 0:s[t==null?void 0:t.key]})},t.key))}),_n="data:image/png;base64,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",Cn="/assets/pool_bg-DIChGQZi.png",kn=({posInfo:s})=>{var r,t,i,l;const[n,x]=p.useState(!1);return e.jsx($,{p:"12px 0",onClick:a=>ce(a),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:e.jsxs(Oe,{isLazy:!0,isOpen:n,children:[e.jsx(Ye,{children:e.jsx(ge,{as:"button",cursor:Number(s==null?void 0:s.totalRewardUsd)==0?"text":"help",children:e.jsx(c,{color:"primary",fontSize:"14px",textDecoration:Number(s==null?void 0:s.totalRewardUsd)==0?"none":"underline dotted",textUnderlineOffset:"3px",children:J(s==null?void 0:s.totalRewardUsd,2)})})}),n&&Number(s==null?void 0:s.totalRewardUsd)!==0&&e.jsx(ns,{children:e.jsx(qe,{zIndex:"2",w:"fit-content",children:e.jsx(De,{children:e.jsxs(y,{align:"flex-start",minW:"300px",children:[((r=s==null?void 0:s.pendingFeesList)==null?void 0:r.length)>0&&e.jsxs(y,{align:"flex-start",minW:"100%",children:[e.jsxs(g,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"12px",p:"16px",children:[e.jsx(c,{fontSize:"12px",children:"Fees"}),e.jsxs(c,{color:"primary",children:[" ",J(s==null?void 0:s.feeOwedUsd,2)]})]}),(t=s==null?void 0:s.pendingFeesList)==null?void 0:t.map(a=>e.jsxs(g,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(Me,{token:a.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(y,{align:"flex-end",gap:"4px",children:[e.jsx(c,{fontSize:"12px",color:"text_caption",children:Ue(a==null?void 0:a.amount,6)}),e.jsx(c,{fontSize:"12px",children:J(a==null?void 0:a.amountUSD,2)})]})]},a==null?void 0:a.coin_address))]}),((i=s==null?void 0:s.pendingRewarderList)==null?void 0:i.length)>0&&e.jsxs(y,{align:"flex-start",minW:"100%",children:[e.jsxs(g,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"6px",p:"16px",children:[e.jsx(c,{fontSize:"12px",children:"Mining rewards"}),e.jsxs(c,{color:"primary",children:[" ",J(s==null?void 0:s.rewarderUsd,2)]})]}),(l=s==null?void 0:s.pendingRewarderList)==null?void 0:l.map(a=>e.jsxs(g,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(Me,{token:a.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(y,{align:"flex-end",gap:"4px",children:[e.jsx(c,{fontSize:"12px",color:"text_caption",children:Ue(a==null?void 0:a.amount,6)}),e.jsx(c,{fontSize:"12px",children:J(a==null?void 0:a.amountUSD,2)})]})]},a==null?void 0:a.coin_address))]})]})})})})]})})};function as({posInfo:s,onClickCheckBox:n,checked:x,pageFrom:r,cursor:t="pointer"}){var v;const{getClmmPosName:i}=Ys(),{posPoolsOriginalData:l}=xe(),a=p.useMemo(()=>{var m;if(s!=null&&s.tokenName)return s==null?void 0:s.tokenName;{const w=(m=l==null?void 0:l[s==null?void 0:s.clmmPool])==null?void 0:m.index;return i(s==null?void 0:s.index,w)}},[s==null?void 0:s.tokenName,s==null?void 0:s.index,s==null?void 0:s.clmmPool,l]),{posPoolsRelatedData:d}=xe(),u=((v=d[s==null?void 0:s.posId])==null?void 0:v.displayFee)+"%";return e.jsxs(G,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsxs(g,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:[e.jsxs(y,{w:"100%",align:"flex-start",gap:"16px",children:[e.jsx(As,{poolInfo:{...s,feeDisplay:u},symbolEllipsesDecimals:10}),e.jsx(c,{fontSize:"12px",color:"primary_gray",children:a})]}),n&&e.jsx(ss,{cursor:t,checked:x||!1,onClick:()=>n(s)})]}),r=="pendingYieldModal"?e.jsxs(g,{p:"0px 16px",w:"100%",justify:"space-between",gap:"4px",align:"flex-start",children:[e.jsx(c,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending yield"}),e.jsx(kn,{posInfo:s})]}):e.jsxs(g,{justify:"space-between",p:"0 16px",children:[e.jsx(c,{color:"primary_gray",children:"Liquidity"}),e.jsx(ln,{positionInfo:s,color:"primary",fontSize:"14px",haveTooltip:r!="lpBurnNext"})]})]})}function An({onClose:s,currentLockItem:n}){var D,I,ee,se,_,W,H,k;const{currentAccount:x}=Te(),{signAndExecuteTransaction:r}=ms(),{getBurnTxPayload:t}=an(),{getPositionBaseList:i}=ts(),{posLiquidityData:l}=xe(),[a,d]=p.useState(!1),[u,v]=p.useState(""),[m,w]=p.useState(!1),j=f=>{const b=f.target.value.replace(/[^a-zA-Z0-9\s]+/g,"");v(b),f.target.value.toLowerCase()=="lock my liquidity forever"?w(!0):w(!1)},{getTokenAmountValue:V}=Ge(),P=l[n==null?void 0:n.posId],de=V((D=n==null?void 0:n.displayTokenA)==null?void 0:D.coin_type,P==null?void 0:P.displayCoinAmountA,"--"),Y=V((I=n==null?void 0:n.displayTokenB)==null?void 0:I.coin_type,P==null?void 0:P.displayCoinAmountB,"--"),q=async()=>{d(!0);try{const f=t(n);await r(f,{getShowInfo:b=>{var F,M;return{modalDescriptionText:`${(F=n==null?void 0:n.displayTokenA)==null?void 0:F.symbol} - ${(M=n==null?void 0:n.displayTokenB)==null?void 0:M.symbol} Position Locked`,toastTitleText:"LP Locked"}}})&&(await i(x==null?void 0:x.address),s()),d(!1)}catch{d(!1)}};return e.jsxs(y,{w:"100%",gap:"12px",children:[e.jsxs(y,{w:"100%",align:"flex-start",gap:"20px",children:[e.jsx(c,{w:"100%",color:"text_caption",fontSize:"16px",textAlign:"center",fontWeight:"500",children:"Lock Liquidity Permanently?"}),e.jsx(c,{color:"text_caption",textAlign:"left",lineHeight:"20px",children:"Are you sure you want to permanently lock/burn liquidity? You will be unable to access or withdraw underlying position assets, only trading fees and mining rewards earned will remain claimable."})]}),e.jsxs(y,{w:"100%",children:[e.jsx(as,{posInfo:n,pageFrom:"lpBurnNext"}),e.jsx(G,{w:"100%",borderRadius:"0 0 8px 8px",p:"16px 12px 12px",mt:"-20px",borderTop:"none",bg:"bg_primary",children:e.jsx(G,{p:"16px 12px",borderRadius:"12px",children:e.jsxs(y,{gap:"16px",children:[e.jsxs(g,{w:"100%",justify:"space-between",children:[e.jsxs(g,{children:[e.jsx(Ee,{imageUrl:(ee=n==null?void 0:n.displayTokenA)==null?void 0:ee.logo_url,w:"20px",h:"20px",coinType:(se=n==null?void 0:n.displayTokenA)==null?void 0:se.coin_type,showTagHeight:"10px",showTagWidth:"10px"}),e.jsxs(c,{color:"text_caption",children:[P==null?void 0:P.displayCoinAmountA," ",(_=n==null?void 0:n.displayTokenA)==null?void 0:_.symbol]})]}),e.jsx(c,{color:"text_caption",children:J(de,2)})]}),e.jsxs(g,{w:"100%",justify:"space-between",children:[e.jsxs(g,{children:[e.jsx(Ee,{imageUrl:(W=n==null?void 0:n.displayTokenB)==null?void 0:W.logo_url,w:"20px",h:"20px",coinType:(H=n==null?void 0:n.displayTokenB)==null?void 0:H.coin_type,showTagHeight:"10px",showTagWidth:"10px"}),e.jsxs(c,{color:"text_caption",children:[P==null?void 0:P.displayCoinAmountB," ",(k=n==null?void 0:n.displayTokenB)==null?void 0:k.symbol]})]}),e.jsx(c,{color:"text_caption",children:J(Y,2)})]})]})})})]}),e.jsxs(g,{gap:"12px",bg:"primary_yellow_opacity.10",p:"16px 12px",borderRadius:"12px",children:[e.jsx(ie,{xlinkHref:"#icon-icon_priceupdated",variant:"warning"}),e.jsx(c,{color:"primary_yellow",lineHeight:"20px",textAlign:"left",fontSize:"12px",children:"By confirming below, l agree to permanently lock liquidity. l understand access to the underlying assets will be lost forever."})]}),e.jsxs(G,{borderRadius:"12px",p:"16px",bg:"bg_four",children:[e.jsx(c,{color:"primary_gray",textAlign:"center",children:"To confirm, type the following:"}),e.jsx(c,{color:"text_caption",textAlign:"center",fontWeight:"900",mt:"12px",children:"Lock my liquidity forever"}),e.jsx(G,{borderRadius:"16px",w:"100%",h:"56px",p:"0",lineHeight:"52px",mt:"12px",children:e.jsx(gs,{placeholder:"Type confirmation text here",fontWeight:"500",textAlign:"center",fontSize:"14px",p:"0px",value:u,onChange:j})})]}),e.jsxs(y,{w:"100%",gap:"8px",pb:"16px",children:[e.jsx(K,{isLoading:a,w:"100%",mt:"8px",h:"52px",fontWeight:"500",disabled:!m||a,onClick:q,children:"Confirm"}),e.jsx(K,{fontWeight:"500",variant:"outline",w:"100%",p:"20px",onClick:s,cursor:"pointer",h:"52px",children:"Cancel"})]})]})}function Tn({onClose:s,onClickLock:n,currentLockItem:x,onClickCheckBox:r}){const{currentAccount:t,onWalletModal:i}=Te(),{fullRangePosBaseList:l,fullRangePosBaseListLoading:a}=xe();return e.jsxs(y,{w:"100%",gap:"20px",children:[e.jsxs(y,{w:"100%",align:"flex-start",gap:"20px",children:[e.jsx(c,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Token teams can permanently lock liquidity. The NFT representing your position is sent to a locked token account. Trading fees and mining rewards earned will still be claimable."}),e.jsx(c,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"To start, select a liquidity position below to lock. Ensure that position value and NFT mint match the position you want to lock!"}),e.jsx(c,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Note: Technically, your NFT is not burned but permanently locked."})]}),e.jsx(y,{w:"100%",gap:"16px",maxH:"320px",overflow:"auto",children:t!=null&&t.address?a?[{},{}].map((d,u)=>e.jsx(Bs,{},u)):(l==null?void 0:l.length)>0?l==null?void 0:l.map(d=>e.jsx(as,{posInfo:d,checked:(d==null?void 0:d.posId)==(x==null?void 0:x.posId),onClickCheckBox:u=>r(u),pageFrom:"lpBurnPrev"},d==null?void 0:d.posId)):e.jsxs(G,{pb:"30px",borderRadius:"12px",bg:"none",border:"none",pt:"0",children:[e.jsx(ve,{h:"240px",type:"nodata",pb:"0px",text:"No Available Liquidity",bg:"none",noBorder:!0}),e.jsx(c,{color:"primary_gray",children:"Burn/Lock Liquidity only available for Full-range position"})]}):e.jsx(ve,{type:"nowallet",onboard:()=>i(!0),bg:"none",border:"none"})}),e.jsxs(y,{gap:"8px",w:"100%",p:"20px 0",mt:"-20px",children:[e.jsx(K,{disabled:Object.values(x).length<=0,w:"100%",h:"52px",fontWeight:"500",onClick:n,children:"Lock Liquidity"}),e.jsx(K,{w:"100%",p:"20px",variant:"outline",onClick:s,cursor:"pointer",h:"52px",children:"Cancel"})]})]})}const Bs=()=>e.jsxs(G,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsx(g,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:e.jsxs(g,{gap:"0",children:[e.jsx($e,{size:"9"}),e.jsx($e,{size:"9"}),e.jsx(y,{gap:"4px",ml:"4px",align:"flex-start",children:e.jsx(Se,{height:"4",width:"100px"})})]})}),e.jsx($,{w:"100%",p:"16px",children:e.jsx(Se,{height:"5",width:"250px"})})]});function mn({isOpen:s,onClose:n}){const[x,r]=p.useState(!1),[t,i]=p.useState({});p.useEffect(()=>{i({}),r(!1)},[s]);const l=d=>{(d==null?void 0:d.posId)==(t==null?void 0:t.posId)?i({}):i(d)},{isApp:a}=pe();return e.jsxs(us,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:n,isCentered:!0,children:[e.jsx(js,{}),e.jsxs(fs,{minWidth:a?"300px":"482px",children:[e.jsx(ys,{children:e.jsx(bs,{fontWeight:"500",fontSize:"16px",children:"Burn/Lock Liquidity"})}),e.jsx(ws,{}),e.jsxs(Ss,{p:"16px 16px 0",textAlign:"center",children:[!x&&e.jsx(Tn,{onClose:n,currentLockItem:t,onClickCheckBox:d=>l(d),onClickLock:()=>r(!0)}),x&&e.jsx(An,{onClose:n,currentLockItem:t})]})]})]})}function Pn({isRefreshed:s}){var w;const{tab:n}=Ts(),x=Ae(),[r,t]=p.useState(!1),{statisticsData:i}=Ds(),{poolListLength:l}=Xe(),{showPosListLength:a}=xe(),d=p.useMemo(()=>[{label:"Pools",value:"pools",num:l,imgInfo:{src:Qs,w:"22px",h:"22px"}},{label:"Positions",value:"positions",num:a,imgInfo:{src:_n,w:"22px",h:"22px"}}],[l,a]),{isApp:u}=pe(),[v,m]=p.useState(!1);return e.jsxs(y,{w:"100%",children:[e.jsxs(g,{w:"100%",gap:{base:"12px",lg:"32px"},flexDirection:{base:"column",lg:"row"},children:[e.jsxs(y,{w:{base:"100%",lg:"395px"},justify:"space-between",align:"flex-start",gap:{base:"12px",lg:"40px"},children:[e.jsx(c,{fontSize:"24px",fontWeight:"500",color:"text_caption",children:"Liquidity Pools"}),e.jsxs(y,{gap:"68px",p:"32px 40px",align:{base:"center",lg:"flex-start"},borderRadius:"16px",bgImage:Cn,bgPosition:"center",w:"100%",h:"240px",backgroundSize:"100% 100%",children:[e.jsx(ds,{wrapStyle:{alignItems:u?"center":"flex-start",gap:"12px"},titleStyle:{fontSize:"16px"},valueStyle:{fontSize:"20px",fontWeight:"600"},title:"Total Value Locked",value:(i==null?void 0:i.totalValueLocked)||"",isLoading:!i}),e.jsx(ds,{wrapStyle:{alignItems:u?"center":"flex-start",gap:"12px"},titleStyle:{fontSize:"16px"},valueStyle:{fontSize:"20px",fontWeight:"600"},title:"Cumulative Volume",value:(i==null?void 0:i.cumulativeVolume)||"",isLoading:!i})]})]}),e.jsx($,{h:"100%",mb:"-4px",w:{base:"100%",lg:"calc(100% - 395px - 32px)"},children:e.jsx(Gs,{statisticsData:i,pageFrom:"pools",isRefresh:!s})})]}),e.jsxs(g,{w:"100%",mt:"32px",justify:"space-between",flexDirection:{base:"column-reverse",lg:"row"},children:[e.jsx(Us,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"540px"},h:"60px"},itemStyle:{w:"50%",fontSize:"16px"},tabList:d,currentTab:((w=d==null?void 0:d.find(j=>(j==null?void 0:j.value)===n))==null?void 0:w.label)||"Pools",handleChangeTab:j=>{x(`/pools?tab=${j.value}`)}}),e.jsxs(g,{w:{base:"100%",lg:"unset"},children:[n=="positions"?e.jsx(Ms,{isOpen:v,label:e.jsx(c,{fontSize:"12px",lineHeight:"20px",children:"Permanently burn/lock liquidity for an existing position. Trading fees and mining rewards earned remain claimable."}),"aria-label":"Yield",placement:"top",children:e.jsx(K,{w:{base:"50%",lg:"168px"},fontWeight:"500",variant:"outline",as:"div",borderRadius:"8px",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onClick:()=>{m(!1),t(!0)},children:"LP Burn"})}):e.jsx(K,{borderRadius:"8px",w:{base:"50%",lg:"168px"},fontWeight:"500",variant:"outline",onClick:()=>x("/create-pool"),children:"Create a new pool"}),e.jsx(K,{borderRadius:"8px",fontWeight:"500",w:{base:"50%",lg:"168px"},onClick:()=>x("/select-pool"),children:"Add Liquidity"})]})]}),r&&e.jsx(mn,{isOpen:r,onClose:()=>t(!1)})]})}const zn="/assets/tvl_bg-D80TUrdU.png",Bn="/assets/yield_bg-CcCC1tTK.png";function Hn({isOpen:s,claimLoading:n,onClose:x,changeClaimLoading:r}){const[t,i]=p.useState(!1),{coinPriceObj:l}=vs(),{getPosRelatedData:a,getPositionBaseList:d}=ts(),{signAndExecuteTransaction:u}=ms(),{currentAccount:v}=Te(),{getBatchHarvestFeeAndRewardsTxPayload:m}=xn(),{getTokenAmountValue:w}=Ge(),[j,V]=p.useState([]),[P,de]=p.useState(!0),[Y,q]=p.useState(!0),[D,I]=p.useState(.01),[ee,se]=p.useState([]),[_,W]=p.useState([]),[H,k]=p.useState(""),[f,R]=p.useState(""),[b,U]=p.useState([]),{myPosYieldValue:F,posBaseList:M,posBaseListLoading:O,posFeeDataLoading:X,posRewardsDataLoading:he,posFeeData:z,posRewardsData:ue}=xe(),L=h=>{const A=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,4})?).*$");h.target.value=h.target.value.replace(A,"$1"),I(h.target.value)},_e=()=>{(!D||D<.01)&&I(.01)},me=O||X||he;p.useEffect(()=>{const h=[];let A="0";const T=[];if((M==null?void 0:M.length)>0&&!O&&!X&&!he){M.forEach((S,ye)=>{var He,Re,We,Ne,Fe,je;let le="0",be="0",o="0",C="0";const Q=[],ke=[];if(((He=Object.values(z))==null?void 0:He.length)>0){const B=z[S==null?void 0:S.posId],N=w((Re=S==null?void 0:S.displayTokenA)==null?void 0:Re.coin_type,B==null?void 0:B.displayFeeOwedA,"--"),oe=w((We=S==null?void 0:S.displayTokenB)==null?void 0:We.coin_type,B==null?void 0:B.displayFeeOwedB,"--");le=Z(le).plus((B==null?void 0:B.displayFeeOwedA)||0).plus((B==null?void 0:B.displayFeeOwedB)||0).toString(),N!=="--"&&oe!=="--"&&(o=Z(N).plus(oe).toString()),ke.push({coin_address:Ze((Ne=S==null?void 0:S.displayTokenA)==null?void 0:Ne.coin_type,!1),amount:B==null?void 0:B.displayFeeOwedA,amountUSD:N,token:S==null?void 0:S.displayTokenA},{coin_address:Ze((Fe=S==null?void 0:S.displayTokenB)==null?void 0:Fe.coin_type,!1),amount:B==null?void 0:B.displayFeeOwedB,amountUSD:oe,token:S==null?void 0:S.displayTokenB})}if(((je=Object.values(ue))==null?void 0:je.length)>0){const B=ue[S==null?void 0:S.posId];(B==null?void 0:B.length)>0&&B.forEach(N=>{var oe;if(be=Z(be).plus(N.display_amount_owed||0).toString(),Number(N==null?void 0:N.display_amount_owed)>0){const te=w(N==null?void 0:N.token.coin_type,N.display_amount_owed);te!=="--"&&(C=Z(C).plus(te).toString()),Q.push({coin_address:Ze((oe=N==null?void 0:N.token)==null?void 0:oe.coin_type,!1),amount:N.display_amount_owed,amountUSD:te,token:N==null?void 0:N.token})}})}const Be=Z(C).plus(o).toString(),we=(Z(le).gt(0)||Z(be).gt(0))&&Number(Be)==0?"--":Be;A=Z(A).plus(C).plus(o).toString(),Number(we)!==0&&T.push(S),Y&&Number(we)>Number(D)&&h.push({...S,totalRewardUsd:we,pendingRewarderList:Q,pendingFeesList:ke,rewarderUsd:C,feeOwedUsd:o}),Y||h.push({...S,totalRewardUsd:we,pendingRewarderList:Q,pendingFeesList:ke,rewarderUsd:C,feeOwedUsd:o})}),se(T);const E=h.filter(S=>Number(S.totalRewardUsd)!==0);W(E),Y?(E==null?void 0:E.length)!==h.length?k(""):k("all"):(E==null?void 0:E.length)!==T.length?k(""):k("all");const ne=h.sort((S,ye)=>ye.totalRewardUsd-S.totalRewardUsd);V(ne),de(!1)}},[D,M,Y,O,X,he,l]);const{calculatePendingYield:Pe}=Ps();p.useEffect(()=>{if((_==null?void 0:_.length)>0){const{total:h,rewardAndFeeList:A}=Pe(_,z,ue);R(h),U(A)}else R(""),U([])},[_==null?void 0:_.length,z,ue]);const fe=h=>{if(Number(h==null?void 0:h.totalRewardUsd)<=0)return;const A=_,T=(A==null?void 0:A.filter(E=>(E==null?void 0:E.posId)!==(h==null?void 0:h.posId)))||[];A!=null&&A.some(E=>(E==null?void 0:E.posId)===(h==null?void 0:h.posId))||T.push(h),W(T),Y?(T==null?void 0:T.length)!==(j==null?void 0:j.length)?k(""):k("all"):(T==null?void 0:T.length)!==(ee==null?void 0:ee.length)?k(""):k("all")};p.useEffect(()=>{I(.01),i(!1),q(!0)},[s]);const ze=()=>{if(H=="all")k(""),W([]);else{k("all");const h=_,A=Object.fromEntries(_.map(T=>[T==null?void 0:T.posId,T]));j.forEach(T=>{!A[T==null?void 0:T.posId]&&Number(T.totalRewardUsd)!==0&&h.push(T)}),W(h)}},{fetchAccountBalance:ae}=cn(),Ke=async()=>{r(!0);try{const h=Object.fromEntries(_.map(ne=>[ne==null?void 0:ne.posId,ne==null?void 0:ne.pendingRewarderList])),{tx:A,txb:T}=await m(_,h,v==null?void 0:v.address);await u(T,{getShowInfo:()=>({modalDescriptionText:"Claim Yield",toastTitleText:"Claim"})})&&(ae(),await d(v==null?void 0:v.address)),r(!1)}catch{r(!1)}finally{x()}},{isApp:Ce}=pe();return e.jsxs(us,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:x,isCentered:!0,children:[e.jsx(js,{}),e.jsxs(fs,{minWidth:Ce?"300px":"446px",children:[e.jsx(ys,{children:e.jsx(bs,{fontWeight:"500",fontSize:"16px",children:t?"Claim Yield":"Details"})}),e.jsx(ws,{}),e.jsx(Ss,{p:"16px 0px 0",textAlign:"center",children:e.jsxs($,{children:[e.jsxs(y,{w:"100%",children:[e.jsx($,{w:"100%",p:"0 16px",children:e.jsx(y,{justify:"center",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",children:e.jsx(Se,{isLoaded:!me,children:e.jsxs(y,{gap:"4px",align:"center",children:[e.jsx(c,{color:"primary_gray",children:t?"Total Claim":"Pending Yield"}),e.jsx(c,{color:"primary",fontSize:"20px",fontWeight:"500",children:J(t?f:F,2)})]})})})}),!t&&e.jsxs(g,{w:"100%",p:"0 16px",justify:"space-between",mt:"12px",children:[e.jsx(c,{color:"text_caption",children:"Position"}),e.jsxs(g,{w:"calc(100% - 50px)",justify:"flex-end",children:[e.jsx(Ie,{isChecked:Y,onChange:()=>q(!Y)}),e.jsx(c,{color:"text_caption",fontSize:"12px",children:"Hide yield <"}),e.jsx(G,{borderRadius:"8px",w:"72px",h:"24px",p:"0",lineHeight:"20px",children:e.jsx(gs,{textAlign:"center",fontSize:"12px",p:"0px 12px",value:`$${D}`,onChange:L,onBlur:_e})})]})]}),e.jsx(y,{w:"100%",p:"0 16px 16px",maxH:"370px",overflow:"auto",pr:(j==null?void 0:j.length)>2?"16px":"20px",mr:"-4px",children:t?b==null?void 0:b.map(h=>e.jsx(G,{w:"100%",p:"16px",borderRadius:"12px",sx:{_first:{mt:"12px"}},children:e.jsxs(g,{w:"100%",justify:"space-between",children:[e.jsx(Me,{token:h==null?void 0:h.token,imgBoxStyle:{w:"32px",h:"32px"},haveName:!1,symbolFontSize:"14px",warningIcon:{iconW:"16px",iconH:"16px"}}),e.jsxs(y,{align:"flex-end",gap:"4px",children:[e.jsx(c,{color:"text_caption",children:Ue(h==null?void 0:h.amount,6)}),e.jsxs(c,{children:["(",J(h==null?void 0:h.amountUSD,2),")"]})]})]})},h==null?void 0:h.coin_address)):(j==null?void 0:j.length)>0?j==null?void 0:j.map(h=>e.jsx(as,{posInfo:h,onClickCheckBox:A=>fe(A),pageFrom:"pendingYieldModal",cursor:Number(h==null?void 0:h.totalRewardUsd)<=0?"not-allowed":"pointer",checked:_.some(A=>(A==null?void 0:A.posId)===(h==null?void 0:h.posId))},h==null?void 0:h.posId)):P?[{},{}].map((h,A)=>e.jsx(Bs,{},A)):e.jsx(ve,{type:"nodata"})}),t?e.jsx(g,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",justify:"center",mt:"-8px",children:e.jsx(G,{cursor:"pointer",w:"168px",h:"36px",lineHeight:"34px",mt:"12px",p:"0",borderRadius:"8px",onClick:()=>i(!1),sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:e.jsxs(g,{justify:"center",gap:"4px",children:[e.jsx(ie,{xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),e.jsx(c,{children:"Back"})]})})}):e.jsx($,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",mt:"-8px",children:e.jsxs(g,{justify:"space-between",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",p:"20px 16px",children:[e.jsxs(y,{gap:"4px",align:"flex-start",children:[e.jsx(c,{color:"primary_gray",children:"Amount selected"}),e.jsx(c,{color:"primary",fontSize:"18px",fontWeight:"500",children:J(f,2)})]}),e.jsxs(g,{children:[e.jsx(c,{color:"text_caption",children:"Select All"}),e.jsx(ss,{checked:H=="all",onClick:ze})]})]})})]}),t?e.jsx(K,{isLoading:n,disabled:(b==null?void 0:b.length)==0||n,w:"100%",h:"52px",fontWeight:"500",onClick:Ke,children:"Confirm"}):e.jsx(K,{disabled:Number(f)<=0,w:"100%",h:"52px",fontWeight:"500",onClick:()=>i(!0),children:"Claim Yield"})]})})]})]})}const hs=({yieldList:s})=>{const[n,x]=p.useState(!1),{myPosYieldValue:r}=xe(),{isApp:t}=pe();return e.jsx(y,{gap:"4px",p:{base:"0",lg:"12px 0"},align:"flex-start",onClick:t?()=>x(!n):()=>x(!1),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:e.jsxs(Oe,{isLazy:!0,isOpen:n,placement:"bottom-end",children:[e.jsx(Ye,{children:e.jsx(ge,{as:"button",children:e.jsx(c,{cursor:Number(r)<=0?"text":"help",fontSize:"20px",color:"primary_green",textDecoration:Number(r)<=0?"none":"underline dotted",textUnderlineOffset:"2px",children:J(r,2)})})}),n&&Number(r)>0&&(s==null?void 0:s.length)>0&&e.jsx(ns,{children:e.jsx(qe,{zIndex:"2",w:"fit-content",maxH:"200px",overflow:"auto",p:"4px 0",children:e.jsx(De,{p:"0px",children:e.jsx(y,{w:"100%",align:"flex-start",bg:"bg_secondary",gap:"0px",children:s==null?void 0:s.map(i=>{var l;return e.jsxs(g,{w:"100%",p:"10px 12px",minW:"300px",justify:"space-between",children:[e.jsx(Me,{token:i==null?void 0:i.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(g,{gap:"4px",children:[e.jsx(c,{fontSize:"12px",color:"text_caption",children:Ue(i==null?void 0:i.amount,6)}),e.jsxs(c,{fontSize:"12px",children:["(",J(i==null?void 0:i.amountUSD,2),")"]})]})]},(l=i==null?void 0:i.token)==null?void 0:l.coin_type)})})})})})]})})};function Rn(){const{currentAccount:s}=Te(),[n,x]=p.useState(!1),[r,t]=p.useState(!1),[i,l]=p.useState([]),{getTokenAmountValue:a}=Ge(),{coinPriceObj:d}=vs(),{myPosYieldValue:u,setMyPosYieldValue:v,posFeeDataLoading:m,posRewardsDataLoading:w,posBaseList:j,posLiquidityData:V,posBaseListLoading:P,posLiquidityDataLoading:de,posFeeData:Y,posRewardsData:q}=xe(),D=p.useMemo(()=>{let W=0,H=0;return(j==null?void 0:j.length)>0&&(s!=null&&s.address)?(j.forEach(k=>{var U,F;const f=V[k==null?void 0:k.posId],R=a((U=k==null?void 0:k.displayTokenA)==null?void 0:U.coin_type,f==null?void 0:f.displayCoinAmountA),b=a((F=k==null?void 0:k.displayTokenB)==null?void 0:F.coin_type,f==null?void 0:f.displayCoinAmountB);W=Z(W).plus(R).plus(b).toString(),H=Z(H).plus((f==null?void 0:f.displayCoinAmountA)||0).plus((f==null?void 0:f.displayCoinAmountB)||0).toString()}),Z(W).lte(0)&&Z(H).gt(0)?"$--":J(W,2)):"$0"},[j,V,s,d]),I=s!=null&&s.address?P:!1,{calculatePendingYield:ee}=Ps();p.useEffect(()=>{if(!(s!=null&&s.address))v(""),l([]);else if(!P&&(j==null?void 0:j.length)<=0&&(v("0"),l([])),(j==null?void 0:j.length)>0&&(s!=null&&s.address)&&!P&&!m&&!w){const{total:W,rewardAndFeeList:H}=ee(j,Y,q);v(W),l(H)}},[j,P,m,w,s,d]);const se=s!=null&&s.address?!u:!1,{isApp:_}=pe();return e.jsxs(_s,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"20px",children:[e.jsxs(g,{justifyContent:"space-between",w:{base:"100%",lg:"50%"},p:"0 20px",h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:zn,backgroundSize:"100% 100%",children:[e.jsx(c,{fontSize:"16px",color:"primary_gray",children:"Total Liquidity"}),e.jsx(Se,{isLoaded:!I,children:e.jsx(c,{fontSize:"20px",color:"primary",children:D})})]}),e.jsxs(g,{justifyContent:"space-between",p:"0 20px",w:{base:"100%",lg:"50%"},h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:Bn,backgroundSize:"100% 100%",children:[e.jsx(c,{fontSize:"16px",color:"primary_gray",children:"Pending Yield"}),e.jsx(Se,{isLoaded:!se,children:_?e.jsxs(g,{gap:"20px",children:[e.jsxs(y,{align:"flex-end",children:[e.jsx(hs,{yieldList:i}),e.jsx(K,{isLoading:n,disabled:Number(u)<=0||n,w:"100px",h:"24px",onClick:()=>t(!0),borderRadius:"8px",fontSize:"12px",fontWeight:"500",children:"Claim All"})]}),Number(u)>0&&e.jsx(ie,{xlinkHref:"#icon-icon_spread",onClick:()=>t(!0)})]}):e.jsxs(g,{onClick:()=>t(!0),children:[e.jsx(hs,{yieldList:i}),Number(u)>0&&e.jsx(ie,{xlinkHref:"#icon-icon_spread"}),e.jsx(K,{isLoading:n,disabled:Number(u)<=0||n,w:"112px",h:"32px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",children:"Claim All"})]})})]}),e.jsx(Hn,{isOpen:r,claimLoading:n,onClose:()=>t(!1),changeClaimLoading:W=>x(W)})]})}function Wn({poolInfo:s}){var d,u,v,m,w,j;const n=Ae(),{posPoolsRelatedData:x,posApiPoolData:r}=xe(),t=(d=r[s==null?void 0:s.clmmPoolAddress])==null?void 0:d.haveFarming,i=(((v=x[(u=s==null?void 0:s.list[0])==null?void 0:u.posId])==null?void 0:v.displayFee)||"--")+"%",[l,a]=p.useState(!0);return e.jsxs(y,{w:"100%",bg:"card_bg",p:"12px",borderRadius:"16px",gap:{base:"12px",lg:"16px"},children:[e.jsxs(_s,{flexDir:{base:"column",lg:"row"},w:"100%",justify:"space-between",gap:{base:"12px",lg:"8px"},onClick:()=>a(!l),children:[e.jsx(As,{symbolFontWeight:"500",symbolFontSize:"16px",symbolEllipsesDecimals:10,nameEllipsesDecimals:20,poolInfo:{feeDisplay:i,...s},haveName:!0}),e.jsxs(g,{flexDirection:{base:"column",lg:"row"},gap:{base:"12px",lg:"8px"},children:[e.jsxs(g,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},flexWrap:{base:"wrap",lg:"nowrap"},children:[e.jsx(c,{color:"primary_gray",children:"Current Price"}),e.jsx(pn,{symbolEllipsesDecimals:10,posId:(m=s==null?void 0:s.list[0])==null?void 0:m.posId,displayTokenA:s==null?void 0:s.displayTokenA,displayTokenB:s==null?void 0:s.displayTokenB})]}),t&&e.jsxs(g,{bg:"primary_yellow_opacity.10",h:"32px",w:{base:"100%",lg:"unset"},justify:"center",p:"0px 12px",borderRadius:"8px",onClick:V=>{ce(V),n("/farms")},border:"1px solid",borderColor:"transparent",sx:{_hover:{border:"1px solid",borderColor:"primary_yellow"}},children:[e.jsx(Qe,{src:"/images/icon_farms.png",w:"20px",h:"20px"}),e.jsx(c,{color:"primary_yellow",mr:"-4px",children:"Farm"}),e.jsx(ie,{xlinkHref:"#icon-icon_list_token",w:"16px",h:"16px",svgFill:"primary_yellow",svgHover:"primary_yellow"})]}),e.jsxs(g,{w:{base:"100%",lg:"unset"},children:[e.jsx(K,{onClick:V=>{ce(V),n(`/liquidity?poolAddress=${s==null?void 0:s.clmmPoolAddress}`)},borderRadius:"8px",w:{base:"50%",lg:"148px"},h:"32px",fontSize:"12px",fontWeight:"500",variant:"outline",children:"Create new position"}),e.jsx(G,{cursor:"pointer",w:{base:"50%",lg:"unset"},p:"4px 16px",h:"32px",borderRadius:"8px",bg:"none",_hover:{svg:{fill:"text_caption"}},children:e.jsxs(g,{justify:"center",w:"100%",h:"100%",gap:"4px",children:[e.jsxs(c,{fontSize:"12px",color:"primary",children:[(w=s==null?void 0:s.list)==null?void 0:w.length," ",((j=s==null?void 0:s.list)==null?void 0:j.length)>1?"Positions":"Position"]}),e.jsx(ie,{svgW:"14px",svgH:"14px",w:"14px",h:"14px",xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:l?"rotate(180deg)":"rotate(0deg)"})]})})]})]})]}),l&&e.jsx(y,{w:"100%",maxH:"680px",overflow:"auto",children:s==null?void 0:s.list.map((V,P)=>e.jsx(sn,{positionInfo:V},P))})]})}function Nn({isRefreshed:s,handleIsRefreshed:n}){var k;const{getStatistics:x}=ks(),{fetchTokenPrices:r}=Ge(),{currentAccount:t,onWalletModal:i}=Te(),{getPositionBaseList:l,getPosRelatedData:a}=ts(),{posRewardsData:d,posBaseList:u,setShowPosListLength:v,setMyPosYieldValue:m,posBaseListLoading:w,posBaseListGroupByPool:j}=xe(),[V,P]=p.useState([]),{getNotifiPositionTransfer:de}=on(),Y=()=>{n(!1),m(""),x(),H(),t!=null&&t.address&&se(t==null?void 0:t.address),setTimeout(()=>{n(!0)},1e3)};rn({onRpcChange:()=>{t!=null&&t.address&&se(t==null?void 0:t.address)}});const[q,D]=p.useState([]),I=f=>{D(R=>[...R,f])},ee=f=>{D(R=>R.filter(b=>(b==null?void 0:b.coin_type)!==(f==null?void 0:f.coin_type)))};p.useEffect(()=>{m(""),t!=null&&t.address?se(t==null?void 0:t.address):v("")},[t==null?void 0:t.address]);const se=async f=>{await l(f)};p.useEffect(()=>{(u==null?void 0:u.length)>0&&a(u)},[u]);const{notifiClient:_,notifiSources:W}=Os();p.useEffect(()=>{de(u,_,W)},[u,_,W]),p.useEffect(()=>{var F,M;const f=(F=q[0])==null?void 0:F.coin_type,R=(M=q[1])==null?void 0:M.coin_type,b=Object.values(j).filter(O=>f&&R?O.tokenA.coin_type==f&&O.tokenB.coin_type==R||O.tokenA.coin_type==R&&O.tokenB.coin_type==f:f?O.tokenA.coin_type==f||O.tokenB.coin_type==f:O);P(b);const U=b.reduce((O,X)=>O+(X.list?X.list.length:0),0);t!=null&&t.address&&v(U.toString())},[q,j]);const H=()=>{const f=[];if((u==null?void 0:u.length)>0){u.map(b=>{f.push(b==null?void 0:b.coinTypeA),f.push(b==null?void 0:b.coinTypeB);const U=d[b==null?void 0:b.posId];U==null||U.map(F=>{Z(F==null?void 0:F.display_amount_owed).gt(0)&&f.push(F==null?void 0:F.coin_address)})});const R=Array.from(new Set(f));r(R)}};return p.useEffect(()=>{H()},[u==null?void 0:u.length,d]),p.useEffect(()=>(x(),()=>{v("")}),[]),p.useEffect(()=>{w&&v("")},[w]),e.jsxs(y,{gap:"20px",w:"100%",children:[e.jsx(zs,{isPools:!1,handleRefresh:Y,selectCoinList:q,onClickSelectCoinList:I,onDeleteSelectCoinList:ee}),e.jsx($,{h:"1px",w:"100%",bg:"border"}),e.jsx(Rn,{}),t!=null&&t.address?w?[{},{},{},{}].map((f,R)=>e.jsx(nn,{},R)):((k=Object.values(V))==null?void 0:k.length)>0?Object.values(V).map((f,R)=>e.jsx(Wn,{poolInfo:f},R)):e.jsx(ve,{type:"nodata",text:"No liquidity positions"}):e.jsx(ve,{type:"nowallet",onboard:()=>i(!0)})]})}function Pt(){const{tab:s}=Ts(),[n,x]=p.useState(!0),r=t=>{x(t)};return e.jsxs(y,{gap:"20px",w:"100%",pt:"40px",children:[e.jsx(Pn,{isRefreshed:n}),(s=="pools"||s===void 0)&&e.jsx(wn,{isRefreshed:n,handleIsRefreshed:r}),s=="positions"&&e.jsx(Nn,{isRefreshed:n,handleIsRefreshed:r})]})}export{Pt as default};
