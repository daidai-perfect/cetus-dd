import{d as r,by as s,aK as y}from"./index-D49RffYW.js";const q=o=>{if(o!=null&&o.length){const l=o==null?void 0:o.map(n=>{var e,g;return{feeDisplay:n==null?void 0:n.feeDisplay,feeRate:n==null?void 0:n.feeRate,poolAddress:n==null?void 0:n.poolAddress,tickSpacing:n.tickSpacing,fee:n.fee,tvl:(n==null?void 0:n.tvl)==="--"?"0":n==null?void 0:n.tvl,liquidity:((e=n==null?void 0:n.object)==null?void 0:e.liquidity)==="--"?"0":(g=n==null?void 0:n.object)==null?void 0:g.liquidity}}),u=l==null?void 0:l.reduce((n,e)=>r(n).plus(e.tvl),r(0)).toString();if(r(u).gt(0)){let n=[];return n=l==null?void 0:l.map(e=>r(e==null?void 0:e.tvl).div(u).mul(100).toString()),f(l,n)}if(l.length===1)return l==null?void 0:l.map((n,e)=>({...n,title:"100% select"}));const c=l==null?void 0:l.reduce((n,e)=>r(n).plus(e==null?void 0:e.liquidity),r(0)).toString();let p=[];return r(c).gt(0)?(p=l==null?void 0:l.map(n=>r(n==null?void 0:n.liquidity).div(c).mul(100).toString()),f(l,p)):(p=l==null?void 0:l.map(n=>0),f(l,p))}else return[]},f=(o,l)=>{const u=l==null?void 0:l.some(n=>r(n).lt(.01)&&r(n).gt(0)),c=l==null?void 0:l.filter(n=>r(n).eq(0)).length;let p=c;return u?l=l.map(n=>r(n).gte(.01)?s(n,2):n):l=l.map(n=>y(n,2)),c>0&&(l=l.map(n=>r(n).gte(0)&&r(n).lt(.02)?n:p>0?(p--,r(n).sub("0.01").toString()):n)),o==null?void 0:o.map((n,e)=>{const g=l[e],t=r(g).gte(0)&&r(g).lt(.01)?"<0.01 % select":r(g).eq(0)?"0":g+"% select";return{...n,title:t}})},v=o=>{const l=r(o[1]).minus(o[0]).abs();let u=l;if(r(o[0]).lte("0"))return u.toString();for(;r(o[0]).minus(u).lt("0")&&(u=u.mul(.8),!u.lte(l.div(10))););return u.toString()};export{v as a,q as g};
