import{j as t,V as M,f as X,C as N,as as Y,at as L,au as P,F as _,u as $,av as S,aw as Z,ax as q,ay as Q,a as F}from"./vendor-_1sPVx0S.js";import{P as V}from"./Pagination-mtBmubrM.js";import{a4 as R,a5 as K,a6 as b,u as ee,a7 as te}from"./index-DZworFuu.js";import{H as se,j as ae,k as ne,l as re}from"./useWrapPoolData-CDrg47b6.js";import{p as oe,C as ce,E as ie}from"./EmptyTooltip-BhJBp7Zn.js";import{X as E,Y as B,R as le}from"./YAxis-Guk_ToQn.js";import{g as me,B as z,f as ue,T as xe}from"./generateCategoricalChart-CoTjeZqw.js";function be({dataSource:e,columns:x,itemSkeletonLength:h,skeletonLength:i=3,rowKey:a,loading:s,pagination:n,rowStyle:r,wrapStyle:m,onRowClick:o,itemHeight:p}){var f;const u=new Array(i).fill(0);return t.jsxs(M,{w:"100%",...m||{},children:[(f=e&&(e!=null&&e.length)&&!s?e:u)==null?void 0:f.map((c,l)=>t.jsxs(M,{w:"100%",children:[t.jsx(R,{data:K(x,c,l),loading:s,skeletonLength:h,onClick:()=>o==null?void 0:o(c,l),style:typeof r=="function"?r(c,l):r,itemHeight:p},s?l:typeof a=="function"?a(c):a?c[a]:l),t.jsx(X,{w:"100%",h:"1px",bg:"border",mt:"12px"})]},s?l:typeof a=="function"?a(c):a?c[a]:l)),n&&(n==null?void 0:n.total)>(n==null?void 0:n.size)&&t.jsx(N,{mt:"16px",children:t.jsx(V,{...n})})]})}function he(e){const{rowStyle:x,minW:h,tableListLength:i,tdListLength:a,firstTd:s}=e,n=new Array(i).fill(0),r=new Array(a).fill(0);return t.jsx(Y,{children:n==null?void 0:n.map((m,o)=>t.jsx(L,{sx:{td:{_last:{">div":{justifyContent:"flex-end"}}}},...typeof x=="function"?x(m,o):x,children:t.jsxs(t.Fragment,{children:[s&&t.jsx(P,{children:s}),r==null?void 0:r.map((p,u)=>t.jsx(P,{children:t.jsx(_,{w:"100%",justifyContent:!s&&u==0?"flex-start":"flex-end",children:t.jsx($,{})})},u))]})},m+`${o}`))})}function Ae({dataSource:e,skeletonLength:x=3,columns:h,rowKey:i,loading:a,tdBorder:s,firstTdSkeleton:n,theadConfig:r,tbodyConfig:m,rowStyle:o={},onRowClick:p,pagination:u,...f}){return t.jsxs(t.Fragment,{children:[t.jsx(S,{w:"100%",children:t.jsxs(Z,{size:"sm",...f,children:[t.jsx(q,{...r,children:t.jsx(L,{children:h.map(({title:c,key:l,thConfig:T})=>t.jsx(Q,{...T,children:typeof c=="function"?c():c},typeof l=="function"?l():l))})}),a?t.jsx(he,{tableListLength:x,tdListLength:h.length,firstTd:typeof n=="function"?n():n,rowStyle:o}):t.jsx(Y,{...m,children:e==null?void 0:e.map((c,l)=>t.jsx(L,{borderBottom:s?"1px solid":"none",borderColor:s?"border":"transparent",onClick:()=>p&&p(c,l),...typeof o=="function"?o(c,l):o,children:h.map(({render:T,key:j,tdConfig:g})=>t.jsx(P,{...g,fontWeight:"500",children:typeof T=="function"?T(c,l):T||c[j]},j))},i?typeof i=="function"?i(c):c[`${i}`]:(c==null?void 0:c.key)||l))})]})}),u&&(u==null?void 0:u.total)>(u==null?void 0:u.size)&&t.jsx(N,{mt:"16px",children:t.jsx(V,{...u})})]})}var pe=me({chartName:"BarChart",GraphicalChild:z,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:E},{axisType:"yAxis",AxisComp:B}],formatAxisMap:ue}),y=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(y||{});function we(){const[e,x]=F.useState("");return{time:e,getCurrentTime:()=>{const a=b(Date.parse(new Date().toUTCString()),"YMD")||"",s=a.slice(5,7),n=y[Number(s)],r=a.slice(8,10),m=n,o=a.slice(0,4),p=m+" "+r+", "+o+" (UTC)";x(p)},getHoverTime:(a,s)=>{const n=Date.parse(a),r=new Date(n);r.setDate(r.getDate()+7);const m=new Date(n);m.setDate(m.getDate()+31);const o=r.toUTCString(),p=m.toUTCString(),u=b(Date.parse(p),"YMD")||"",f=b(Date.parse(new Date().toUTCString()),"YMD")||"",c=Date.parse(o)>Date.parse(new Date().toUTCString())?b(Date.parse(new Date().toUTCString()),"YMD")||"":b(Date.parse(o),"YMD")||"",l=f.slice(5,7),T=y[Number(l)],j=f.slice(8,10),g=T,U=f.slice(0,4),D=a.slice(5,7),A=y[Number(D)],v=a.slice(8,10),d=A,C=a.slice(0,4),k=c.slice(5,7),H=y[Number(k)],J=c.slice(8,10),W=H,G=c.slice(0,4),I=Number(D)==12?y[1]:y[Number(D)+1],O=u.slice(0,4);let w;s=="D"?w=d+" "+v+", "+C+" (UTC)":s=="W"?w=v+" "+d+"-"+J+" "+W+" , "+G+" (UTC)":w=Date.parse(p)>=Date.parse(new Date().toUTCString())?d+" 01-"+g+" "+j+", "+U+" (UTC)":d+" 01-"+I+" 01, "+O+" (UTC)",x(w)}}}function ke(){const{fetchByApi:e}=ee();return{getHistogramData:async h=>{const{type:i,date_type:a="day",limit:s,address:n="all"}=h;console.log("ðŸš€ ~ getHistogramData ~ limit:",i,a,s);const r=i==="pure_tvl",o={day:"day",wek:"week",mon:"month"}[a],p=Date.now(),l=s?a=="day"?s*86400:a=="wek"?s*604800:s*2592e3:void 0,T=l?String(Math.floor(p/1e3-l)):0,j=r?{dataType:"tvl",dateType:o,address:n,beginTimestamp:T}:{typ:i,date_type:a,address:h==null?void 0:h.address};s&&!r&&(j.limit=s);const g=oe(j,te),D=await e(r?se:s?ne:ae,"GET",g);console.log("ðŸš€ ~ getHistogramData response:",D);const A=((D==null?void 0:D.list)||[]).map(d=>{const C=r?new Date(d.timestamp*1e3).toISOString().split(".")[0]+"Z":d.date,k=Number(C.slice(5,7)),H=y[k];return{num:Number(r?d.value:d.num),date:C,xAxis:a==="mon"?H:re(C)}}),v=r?[...A].reverse():A;return console.log("ðŸš€ ~ getHistogramData ~ isPureTvl:",r,v),v}}}const He=({data:e,onChangeValue:x,noXAxis:h,pageFrom:i="stats"})=>{const[a,s]=F.useState(""),n=o=>{if(o&&o.activePayload&&o.activePayload.length){const p=o.activePayload[0].payload.date;x(o.activePayload[0].payload);const u=p.slice(5,7),f=y[Number(u)],c=p.slice(8,10),l=f,T=p.slice(0,4);s(c+" "+l+" "+T)}},r=()=>{x(null)};(e==null?void 0:e.length)>0&&Math.floor(Math.min(...e.map(o=>o.num)));const m=Math.ceil(Math.max(...e.map(o=>o.num)));return t.jsx(le,{width:"100%",height:"100%",children:t.jsxs(pe,{barCategoryGap:"25%",data:e,onMouseMove:n,onMouseLeave:r,maxBarSize:24,children:[!h&&t.jsx(E,{type:"category",dataKey:"xAxis",minTickGap:18,tickLine:!1,axisLine:!1,tick:t.jsx(ce,{})}),m&&t.jsx(B,{domain:[0,m*1.05],hide:!0,axisLine:!1,tickLine:!1}),t.jsx(xe,{content:t.jsx(ie,{value:i!=="stats"?a:""}),cursor:t.jsx(fe,{})}),t.jsx(z,{dataKey:"num",fill:"#75C8FF",isAnimationActive:!1})]})})};function fe(e){var r,m;const{x,y:h,width:i,height:a,payload:s}=e;if(!s||!(s!=null&&s[0])||!((m=(r=s==null?void 0:s[0])==null?void 0:r.payload)!=null&&m.num))return;const n=i>192?i/1.2:i>96?i/1.5:i>48?i/2:i>24?i/4:i/8;return t.jsx("g",{children:t.jsx("rect",{width:i-n,height:a,x:x+n/2,fill:"rgba(118,200,255,0.5)",y:h+1})})}export{be as H,Ae as T,He as V,ke as a,we as u};
//# sourceMappingURL=VolumeChart-DicPmmCQ.js.map
