import{Q as b,be as l,bf as I,bg as T,bh as p,bi as L,u as v,A as _,bj as O}from"./index-QNvgVKlA.js";import"./vendor-BFGDaAdA.js";import{u as w}from"./useGetPoolList-ByJZGCUe.js";import{u as y}from"./useWrapPoolData-CHCtGZRc.js";const A=(t,c)=>({poolListLength:"",setPoolListLength:o=>{t(()=>({poolListLength:o}))},poolRefreshStatus:"pending",setPoolRefreshStatus:o=>{t(()=>({poolRefreshStatus:o}))},isWatchList:void 0,setIsWatchList:o=>{t(()=>({isWatchList:o})),l.setItem(L,o)},isAllPools:!1,setIsAllPools:o=>{t(()=>({isAllPools:o})),l.setItem(p,o)},isIncentivizedOnly:!1,setIsIncentivizedOnly:o=>{t(()=>({isIncentivizedOnly:o})),l.setItem(T,o)},poolFavoriteIds:[],setPoolFavoriteId:o=>{const a=[...c().poolFavoriteIds,o];t(()=>({poolFavoriteIds:a})),l.setItem(I,a)},setPoolFavoriteIds:o=>{t(()=>({poolFavoriteIds:o})),l.setItem(I,o)},poolFavoriteIdsChange:!1,setPoolFavoriteIdsChange:o=>{t(()=>({poolFavoriteIdsChange:o}))}}),i=b(A);l.getItem(I).then(t=>{console.log("ðŸš€ ~ file: store/pool/index.ts.ts ~ savedPoolFavoriteList:",t),(t==null?void 0:t.length)>0&&i.getState().setPoolFavoriteIds(t)});l.getItem(L).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isWatchList:",t),typeof t=="boolean"?i.getState().setIsWatchList(t):i.getState().setIsWatchList(!1)});l.getItem(p).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isAllPools:",t),typeof t=="boolean"&&i.getState().setIsAllPools(t)});l.getItem(T).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isIncentivizedOnly:",t),typeof t=="boolean"&&i.getState().setIsIncentivizedOnly(t)});function N(){const{fetchByApi:t}=v(),{getLocalJsonPoolList:c}=w(),{wrapPoolData:o}=y(),{poolFavoriteIds:a,setPoolFavoriteId:P,setPoolFavoriteIds:S,setPoolFavoriteIdsChange:f}=i(),{successTsToast:g,failedTsToast:m}=_();return{addFavorites:s=>{const n={linkLabel:"",getShowInfo:()=>({toastTitleText:a.length>=100?"Watchlist exceeds the maximum limit":"Added to Watchlist"})};a.length>=100?m(n):(P(s),f(!0),g(n))},removeFavorites:s=>{const n=a==null?void 0:a.filter(r=>r!==s);S(n),f(!0),g({linkLabel:"",getShowInfo:()=>({toastTitleText:"Removed from Watchlist"})})},getFavoritePoolList:async s=>{var r,u,d;const{needLocalData:n=!0}=s;if(((s==null?void 0:s.pools)||[]).length>0)try{const e=await t(O,"POST",s);if(e!=null&&e.data)return{list:(u=(r=e==null?void 0:e.data)==null?void 0:r.lp_list)==null?void 0:u.map(F=>o(F)),total:(d=e==null?void 0:e.data)==null?void 0:d.total}}catch(e){if(console.log("ðŸš€ ~ getFavoritePoolList ~ error:",e),n)return await c(s)}return{list:[],total:0}}}}export{i as a,N as u};
//# sourceMappingURL=useFavoritePool-DqHLM_4q.js.map
