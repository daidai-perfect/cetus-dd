import{u as R}from"./useToken-DDK1y6Ol.js";import{aE as F,b8 as H,r as j,aa as Q,bw as P,aZ as D,j as t,ap as I,aq as O,B as W,H as m,a3 as $,S as G,V as g,T as r,g as N,as as U,I as E,at as V,au as v,a as A,ai as Z,m as J,bt as K,$ as M,ae as X,af as Y,ag as L,aj as k,ak as q,aU as T}from"./index-CrLDUzf4.js";import{i as S}from"./index-jR-4a9Sq.js";import{a as tt}from"./FeeTierSelect-CXzgzq9K.js";import{P as st}from"./index-B_gXbsGn.js";function nt(n,s){return n>s}function ot(n,s,x){for(var a=-1,o=n.length;++a<o;){var i=n[a],e=s(i);if(e!=null&&(p===void 0?e===e&&!F(e):x(e,p)))var p=e,d=i}return d}function it(n,s){return n&&n.length?ot(n,H(s),nt):void 0}function xt(){const[n,s]=j.useState([]),{getTokenInfo:x}=R();j.useEffect(()=>{s(a())},[]);const a=()=>{const i=[];return Q.create_pool_quote_coin_list.forEach(e=>{const p=x(e);p&&i.push(p)}),i};return{isWhiteQuoteToken:j.useCallback(i=>i?n.find(e=>P(e.coin_type)===P(i))!==void 0:!1,[n]),quoteWhiteTokenList:n}}function pt({baseToken:n,quoteToken:s,onBaseTokenChange:x,onQuoteTokenChange:a,feeTier:o,feeTierList:i,onFeeTierChange:e,title:p,description:d,onContinue:C,quoteWhiteTokenList:c,fromSource:h,wrapStyle:_={}}){var z;A(),j.useEffect(()=>{if(h==="addLiquidity"&&(i==null?void 0:i.length)>0){const l=it(i,b=>Number((b==null?void 0:b.tvl)||"0"));l&&e(l)}},[h,i]);const y=l=>{(l==null?void 0:l.coin_type)===(s==null?void 0:s.coin_type)&&a(void 0),x(l)},f=l=>{(l==null?void 0:l.coin_type)===(n==null?void 0:n.coin_type)&&x(void 0),a(l)},u=j.useMemo(()=>n&&s&&!S(n,c)&&!S(s,c),[n==null?void 0:n.coin_type,s==null?void 0:s.coin_type]);console.log("ðŸš€ðŸš€ðŸš€ ~ file: SelectPool.tsx:104 ~ quoteWhiteTokenList:",n,s,u,c);const w=j.useRef(null);return t.jsxs(g,{w:"100%",gap:{base:"16px",lg:"28px"},bg:"bg_fifth",borderRadius:"12px",p:{base:"16px 8px",lg:"24px"},..._,children:[t.jsxs(g,{gap:"8px",w:"100%",align:"flex-start",children:[t.jsx(Z,{fontSize:"16px",fontWeight:"500",children:p}),t.jsx(r,{fontSize:"12px",fontWeight:"500",children:d})]}),t.jsxs(g,{w:"100%",gap:{base:"16px",lg:"32px"},children:[t.jsxs(J,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"12px",justify:"space-between",children:[t.jsx(B,{title:"Base token",value:n,isWhiteSelect:h==="createPool"&&!S(s,c),whiteTokenList:S(s,c)?void 0:c,onChange:y}),t.jsx(B,{title:"Quote token",value:s,isWhiteSelect:h==="createPool"&&!S(n,c),whiteTokenList:S(n,c)?void 0:c,onChange:f})]}),t.jsxs(g,{w:"100%",align:"flex-start",gap:"16px",children:[t.jsxs(g,{w:"100%",align:"flex-start",gap:"8px",children:[t.jsx(r,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Fee tier"}),t.jsx(r,{fontSize:"12px",fontWeight:"500",children:`The ${typeof o=="object"&&(o==null?void 0:o.feeDisplay)||"%"} you will earn in fees.`})]}),t.jsx(tt,{value:o,onChange:l=>e(l),feeTierList:i,placement:"bottom",wrapStyle:{w:((z=w==null?void 0:w.current)==null?void 0:z.clientWidth)||"463px"},children:({isOpen:l,onClick:b})=>t.jsx(K,{w:"100%",borderRadius:"12px",h:"48px",border:"1px solid",borderColor:"border",cursor:"pointer",onClick:b,bg:"bg_secondary",ref:w,children:t.jsxs(m,{w:"100%",justifyContent:"space-between",p:"9px 16px",children:[o?t.jsx(r,{color:"text_caption",fontSize:"16px",fontWeight:"500",children:`${typeof o=="object"&&(o==null?void 0:o.feeDisplay)}`}):t.jsx(r,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:"Select fee tier"}),t.jsxs(m,{children:[t.jsx(r,{fontSize:"12px",children:typeof o=="object"&&(o==null?void 0:o.title)}),t.jsx(E,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:l?"rotate(180deg)":"rotate(0deg)"})]})]})})}),u&&t.jsx(W,{p:"6px 16px",w:"100%",borderRadius:"8px",bg:"primary_red_opacity.10",children:t.jsx(r,{fontSize:"12px",lineHeight:"16px",color:"primary_red",children:"To create a pool, one of the assets needs to be selected as the default token."})})]}),t.jsx(M,{w:"100%",borderRadius:"12px",h:"48px",disabled:!n||!s||!o||(o==null?void 0:o.disabled)||u,onClick:()=>C({baseToken:n,quoteToken:s,feeTier:o}),children:"Continue"})]})]})}const B=({title:n,value:s,onChange:x,whiteTokenList:a,isWhiteSelect:o,disabled:i=!1,wrapStyle:e={},symbolStyle:p={},tokenSize:d="28px",tokenStyle:C={},loading:c=!1})=>{var u;const{isOpen:h,onOpen:_,onClose:y}=D(),f=j.useRef(null);return t.jsx(t.Fragment,{children:t.jsxs(I,{modifiers:[{name:"flip",enabled:!1},{name:"shift",enabled:!1}],initialFocusRef:f,isLazy:!0,isOpen:h,trigger:"click",onClose:y,onOpen:_,placement:"bottom-start",children:[t.jsx(O,{children:t.jsx(W,{w:"100%",as:"button",ref:f,disabled:i,children:c?t.jsxs(m,{children:[t.jsx($,{w:d,h:d}),t.jsx(G,{h:p.fontSize||"16px"})]}):t.jsxs(g,{flex:"1",gap:"8px",align:"flex-start",children:[n&&t.jsx(r,{fontSize:"12px",fontWeight:"500",children:n}),t.jsxs(m,{h:"48px",w:"100%",justify:"space-between",p:"9px 16px",cursor:"pointer",onClick:_,borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"bg_secondary",...e,children:[s?t.jsxs(m,{children:[t.jsx(N,{imageUrl:s==null?void 0:s.logo_url,w:d,h:d,coinType:s==null?void 0:s.coin_type,...C}),t.jsx(r,{color:"text_caption",fontSize:"16px",fontWeight:"600",whiteSpace:"nowrap",...p,children:U(s==null?void 0:s.symbol)})]}):t.jsx(r,{color:"text_caption",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Select token"}),t.jsx(E,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:h?"rotate(180deg)":"rotate(0deg)"})]})]})})}),t.jsx(V,{w:((u=f==null?void 0:f.current)==null?void 0:u.clientWidth)||"224px",minW:"224px",children:t.jsx(v,{p:"0",children:t.jsx(st,{selectTokenList:s?[s]:[],onClickToken:w=>{x(w),y()},whiteTokenList:a,hideCheckbox:!0})})})]})})};function dt({title:n,subTitle:s,btnText:x,isOpen:a,onClose:o,onConfirm:i}){return t.jsxs(X,{autoFocus:!1,returnFocusOnClose:!1,isOpen:a,onClose:o,isCentered:!0,children:[t.jsx(Y,{}),t.jsxs(L,{children:[t.jsx(k,{}),t.jsx(q,{p:"20px 16px",children:t.jsxs(g,{children:[t.jsx(W,{w:"200px",h:"200px",bg:"url('/images/img_create_pool.png')"}),t.jsx(r,{h:"20px",lineHeight:"20px",fontSize:"14px",color:"text_caption",fontWeight:"500",children:n}),s&&t.jsx(r,{fontSize:"14px",children:s})]})}),t.jsx(T,{p:"0 16px 16px",children:t.jsx(M,{w:"100%",h:"40px",borderRadius:"12px",colorScheme:"blue",fontSize:"16px",fontWeight:"500",onClick:()=>{o(),i()},children:x})})]})]})}export{B as S,dt as a,pt as b,it as m,xt as u};
