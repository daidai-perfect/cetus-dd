import{aw as R,b as N,j as a,V as S,C as G,T as z,H as E,av as O,r as x,ab as H,a7 as P,cG as W,dr as q,W as M,dW as T,k as Y,B as Z}from"./index-D49RffYW.js";import{L as $}from"./Loading-DBRuHM4S.js";import{S as A}from"./SingleTokenInfo-Cvcahm1q.js";import{T as J}from"./TooltipIcon-BGEWyiwk.js";function K({tokenList:o,onClickToken:f,onDeleteToken:d,selectTokenList:e,isLoading:s=!1,hideCheckbox:l=!1,currentTab:C=""}){const t=(e==null?void 0:e.length)>0?e[0]:null,u=(e==null?void 0:e.length)>1?e[1]:null,{getTokenSource:b,getTrustTokenSource:_}=R(),{windowWidth:c}=N();return a.jsx(S,{w:"100%",gap:"0px",h:"26vh",maxH:"350px",minH:"210px",overflow:"auto",p:"0",pb:"8px",pl:"4px",overflowY:"scroll",children:s?a.jsx(G,{w:"100%",h:"200px",position:"relative",sx:{">div":{bg:"none"}},children:a.jsx($,{positionStyle:"absolute"})}):(o==null?void 0:o.length)==0?a.jsxs(S,{w:"100%",h:"100%",alignItems:"center",justify:"center",gap:"4px",children:[a.jsx(z,{color:"text_caption",children:"No tokens found"}),a.jsxs(E,{gap:"0",children:[a.jsx(z,{fontSize:"12px",children:"Or you can enter Coin Type"}),a.jsx(J,{type:"uniqueIdOfCoin"})]})]}):o==null?void 0:o.map(r=>{var m,h;const n=r==null?void 0:r.coin_type,i=!t&&!u?!1:((m=t==null?void 0:t.coin_type)==null?void 0:m.toLocaleLowerCase())==(n==null?void 0:n.toLocaleLowerCase())||((h=u==null?void 0:u.coin_type)==null?void 0:h.toLocaleLowerCase())==(n==null?void 0:n.toLocaleLowerCase()),g=b([r]).length>0;return a.jsxs(E,{w:"100%",justify:"space-between",_hover:{bg:"primary_opacity.10",borderRadius:"8px"},cursor:"pointer",h:"46px",minH:"46px",p:"0 8px",onClick:l?()=>f(r):(e==null?void 0:e.length)>=2?()=>{}:i?()=>d==null?void 0:d(r):()=>f(r),children:[a.jsx(A,{token:r,imgBoxStyle:{w:"28px",h:"28px"},symbolFontSize:"14px",symbolEllipsesDecimals:20,nameEllipsesDecimals:l?25:c<=345?20:33,warningIcon:{isNeedShow:g}}),!l&&a.jsx(O,{checked:i,onClick:()=>{}})]},r==null?void 0:r.coin_type)})})}function k({onClickToken:o,onDeleteToken:f,selectTokenList:d,hideCheckbox:e,whiteTokenList:s}){const[l,C]=x.useState(""),{trustedTokenList:t}=H(),u=p=>{const v=p.replace(/[^[a-zA-Z0-9\s]+$/g,"");C(v),v&&(w(!0),b(v))},b=P(p=>{B(p,s||t,s?[]:y,!1,!s)},300),_=[{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],[c,r]=x.useState("Default"),{getDefaultTokenList:n}=W(),{tokenMap:i}=q(),[g,m]=x.useState(!1);x.useEffect(()=>{!g&&i&&i.size>0&&(m(!0),n(),D())},[g,i]);const[h,j]=x.useState(),{sortWithTokenList:F,filterTokenListFun:B,getImportTokenList:D}=W(),{setFilterTokenLoading:w,importTokenList:y,filterTokenLoading:I,filterTokenList:V}=H();return x.useEffect(()=>{I&&j([]),j(l?V:F(c==="Default"?s||t:y,"",!1))},[l,V,I,c,t,y,s]),a.jsxs(S,{w:"100%",gap:"0",children:[a.jsxs(S,{w:"100%",p:"8px",borderRadius:"12px",children:[a.jsx(M,{bg:"bg_primary",p:"0px",borderRadius:"8px",children:a.jsx(T,{inputValue:l,changeInputValue:p=>u(p),isFrom:"pools",inputFontSize:"12px"})}),!l&&(!s||s&&s.length==0)&&a.jsx(Y,{type:"borderTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:"none",border:"none"},itemStyle:{marginRight:"20px",fontSize:"14px"},tabList:_,currentTab:c,handleChangeTab:p=>{r(p.value),w(!0),setTimeout(()=>{w(!1)},300)}})]}),a.jsx(Z,{w:"100%",overflow:"hidden",children:a.jsx(K,{isLoading:I,currentTab:c,tokenList:h,onClickToken:o,onDeleteToken:f,selectTokenList:d,hideCheckbox:e})})]})}export{k as P};
