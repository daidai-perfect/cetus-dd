import{a as s,j as o,C as p,aR as x,P as v,h as C,m as j,n as b}from"./vendor-BowHGuwE.js";import{K as R}from"./index-DOpwe9u0.js";var E=function(r){return typeof r=="function"},F=function(r){return typeof r=="number"};function P(r){var n=s.useRef(r);n.current=s.useMemo(function(){return r},[r]);var e=s.useRef();return e.current||(e.current=function(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];return n.current.apply(this,u)}),e.current}var _=function(r,n,e){e===void 0&&(e={});var u=P(r),t=s.useRef(null),c=s.useCallback(function(){t.current&&clearInterval(t.current)},[]);return s.useEffect(function(){if(!(!F(n)||n<0))return e.immediate&&u(),t.current=setInterval(u,n),c},[n,e.immediate]),c};const w=s.forwardRef(({callbackInterval:r=20,min:n,max:e,onClick:u,size:t="18px",noBg:c,thickness:h="10px",...d},g)=>{const[l,a]=s.useState(0);s.useImperativeHandle(g,()=>({reset:()=>a(0)}));const m=_(()=>{a(i=>{const f=i+1;return f>=r?(u(),0):f})},1e3);return s.useEffect(()=>()=>{m()},[]),o.jsx(o.Fragment,{children:c?o.jsx(p,{p:"2px",cursor:"pointer",onClick:i=>{R(i),a(0),u()},children:o.jsx(x,{min:n,max:e,value:l,size:t,color:"text_highlight",trackColor:"circle_progress_track_color",thickness:h})}):o.jsxs(v,{isLazy:!0,trigger:"hover",autoFocus:!1,returnFocusOnClose:!1,gutter:4,children:[o.jsx(C,{children:o.jsx(p,{w:"28px",h:"28px",border:"1px solid",borderColor:"border",borderRadius:"8px",bg:"bg_secondary",cursor:"pointer",...d,onClick:()=>{a(0),u()},children:o.jsx(x,{min:n,max:e,value:r==5?0:l,size:t,color:"text_highlight",trackColor:"circle_progress_track_color"})})}),o.jsx(j,{children:o.jsxs(b,{p:"12px",lineHeight:"20px",fontSize:"12px",children:["Auto refresh in ",r," seconds, you can click to update manually."]})})]})})});export{w as F,F as a,E as i,P as u};
//# sourceMappingURL=FreshProgressV2-DC5H_KC4.js.map
