import{j as T,a as q,R as re,az as Ti,F as Qe,H as Ri,V as _n,f as Rr,a9 as Nr,I as Ni,T as Ei,C as Ci}from"./vendor-BowHGuwE.js";import{a as Ne,l as Er,a1 as Rt,a9 as st,a6 as $t,d as F,u as Mi,k as Ii,ah as tn,x as $i,Y as Zt,z as In}from"./index-DfOjREq-.js";import{H as zi}from"./HTextLabelBox-CXykIvoM.js";import{V as Bi}from"./VTextLabelBox-Cgn1-ulx.js";import{b as Fe,T as je}from"./useGetPoolList-B76KTrkU.js";import{g as Di}from"./useClaimPosition-BwIph03L.js";import{u as Oi}from"./index-C-m-W6MH.js";import{i as Nt,a as $n,b as qi,c as zn,d as Fi,l as en,e as ji,s as Li,m as Xi,f as Vi}from"./linear-DYpwdEgO.js";import{a as Gi}from"./liquidity-C0TWlkZC.js";import{u as Yi}from"./usePreviousValue-ChnvxeJQ.js";import{A as Bn}from"./ActionButton-DFxBEcUl.js";var Dn=180/Math.PI,nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cr(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Dn,skewX:Math.atan(u)*Dn,scaleX:o,scaleY:l}}var ce;function Hi(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nn:Cr(e.a,e.b,e.c,e.d,e.e,e.f)}function Wi(t){return t==null||(ce||(ce=document.createElementNS("http://www.w3.org/2000/svg","g")),ce.setAttribute("transform",t),!(t=ce.transform.baseVal.consolidate()))?nn:(t=t.matrix,Cr(t.a,t.b,t.c,t.d,t.e,t.f))}function Mr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function s(a,h,f,c,d,w){if(a!==f||h!==c){var v=d.push("translate(",null,e,null,n);w.push({i:v-4,x:Nt(a,f)},{i:v-2,x:Nt(h,c)})}else(f||c)&&d.push("translate("+f+e+c+n)}function o(a,h,f,c){a!==h?(a-h>180?h+=360:h-a>180&&(a+=360),c.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Nt(a,h)})):h&&f.push(i(f)+"rotate("+h+r)}function l(a,h,f,c){a!==h?c.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Nt(a,h)}):h&&f.push(i(f)+"skewX("+h+r)}function u(a,h,f,c,d,w){if(a!==f||h!==c){var v=d.push(i(d)+"scale(",null,",",null,")");w.push({i:v-4,x:Nt(a,f)},{i:v-2,x:Nt(h,c)})}else(f!==1||c!==1)&&d.push(i(d)+"scale("+f+","+c+")")}return function(a,h){var f=[],c=[];return a=t(a),h=t(h),s(a.translateX,a.translateY,h.translateX,h.translateY,f,c),o(a.rotate,h.rotate,f,c),l(a.skewX,h.skewX,f,c),u(a.scaleX,a.scaleY,h.scaleX,h.scaleY,f,c),a=h=null,function(d){for(var w=-1,v=c.length,m;++w<v;)f[(m=c[w]).i]=m.x(d);return f.join("")}}}var Ui=Mr(Hi,"px, ","px)","deg)"),Ki=Mr(Wi,", ",")",")"),Zi=1e-12;function On(t){return((t=Math.exp(t))+1/t)/2}function Ji(t){return((t=Math.exp(t))-1/t)/2}function Qi(t){return((t=Math.exp(2*t))-1)/(t+1)}const ts=function t(e,n,r){function i(s,o){var l=s[0],u=s[1],a=s[2],h=o[0],f=o[1],c=o[2],d=h-l,w=f-u,v=d*d+w*w,m,p;if(v<Zi)p=Math.log(c/a)/e,m=function(P){return[l+P*d,u+P*w,a*Math.exp(e*P*p)]};else{var y=Math.sqrt(v),_=(c*c-a*a+r*v)/(2*a*n*y),k=(c*c-a*a-r*v)/(2*c*n*y),b=Math.log(Math.sqrt(_*_+1)-_),S=Math.log(Math.sqrt(k*k+1)-k);p=(S-b)/e,m=function(P){var z=P*p,O=On(b),D=a/(n*y)*(O*Qi(e*z+b)-Ji(b));return[l+D*d,u+D*w,a*O/On(e*z+b)]}}return m.duration=p*1e3*e/Math.SQRT2,m}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4);function rl({label:t,value:e,loading:n}){const{isApp:r}=Ne();return r?T.jsx(zi,{label:t,value:e,labelStyle:{fontSize:"12px"},valueStyle:{fontSize:"14px",h:"14px",fontWeight:"500"},isLoading:n,skeletonStyle:{valueW:"60px"}}):T.jsx(Bi,{wrapStyle:{gap:"8px",alignItems:"flex-end"},titleStyle:{fontSize:"12px"},valueStyle:{fontSize:"14px",fontWeight:"500"},title:t,value:e,isLoading:n,skeletonStyle:{valueW:"60px",valueH:"14px"}})}const es=(t,e)=>({lowerTickData:{},setLowerTickData:n=>{t(()=>({lowerTickData:n}))},upperTickData:{},setUpperTickData:n=>{t(()=>({upperTickData:n}))},tickDataLoading:!0,setTickDataLoading:n=>{t(()=>({tickDataLoading:n}))}}),Ir=Er(es);function ns(t,e,n){const r=Math.abs(t)%e;return r?t>0?r>e/2||n&&e<=2?t+e-r:t-r:r>e/2?t-e+r:t+r:n?t+e:t}function rs(){const{lowerTickData:t,setLowerTickData:e,upperTickData:n,setUpperTickData:r}=Ir(),i=(c,d,w)=>{const v=w.tokenA.decimals,m=w.tokenB.decimals;let p;Math.abs(c)==Math.abs(Rt.getMinIndex(Number(w.tickSpacing)))?p=d==="lower"?"0":"âˆž":p=st.tickIndexToPrice(c,v,m).toString();const y=p==="âˆž"?"âˆž":$t(p,6),_=Fe(p),k=_==="âˆž"?"âˆž":$t(_,6),b={id:d,tokenA:w.tokenA,tokenB:w.tokenB,tick:c,price:p,displayPrice:y,reversePrice:_,displayReversePrice:k,tickSpacing:w.tickSpacing,pool:w.poolAddress};d==="lower"?e({...b}):r({...b})},s=(c,d,w)=>{i(c,"lower",w),i(d,"upper",w)},o=(c,d)=>{console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ tickData:",c),console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ action:",d);const w=c==null?void 0:c.tokenA,v=c==null?void 0:c.tokenB,m=c.tick,p=c.tickSpacing;if(!w||!v||!p)return;const y=d==="Add"?F(m).add(p).toNumber():F(m).sub(p).toNumber();if(F(y).gt(Rt.getMaxIndex(Number(c.tickSpacing)))||F(y).lt(Rt.getMinIndex(Number(c.tickSpacing))))return;const _=st.tickIndexToPrice(y,w.decimals,v.decimals).toString();console.log(_,"ðŸš€ ~ file: usePriceRange.ts:69 ~ handleActionPrice ~ price:");const k=_==="âˆž"?"âˆž":$t(_,6);if(console.log("ðŸš€ ~ file: usePriceRange.ts:71 ~ handleActionPrice ~ displayPrice:",c,k),k===c.displayPrice)o({...c,tick:y},d);else{const b=Fe(_),S=b==="âˆž"?"âˆž":$t(b,6),P={...c,tick:y,price:_,displayPrice:k,reversePrice:b,displayReversePrice:S};c.id==="lower"?(console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ lower newData:",P),e({...P})):(console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ upper newData:",P),r({...P}))}};return{handleSetTickData:i,handleAddPrice:c=>{o(c,"Add")},handleSubPrice:c=>{o(c,"Sub")},handleSetFullRange:c=>{const d={...t,tick:Rt.getMinIndex(Number(c.tickSpacing)),price:"0",displayPrice:"0",reversePrice:"âˆž",displayReversePrice:"âˆž"};console.log("ðŸš€ ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ lowerData:",d),e(d);const w={...n,tick:Rt.getMaxIndex(Number(c.tickSpacing)),price:"âˆž",displayPrice:"âˆž",reversePrice:"0",displayReversePrice:"0"};console.log("ðŸš€ ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ upperData:",w),r(w)},handleInitTickData:s,setTickDataBasedOnPrice:(c,d,w)=>{const v=c.tokenA,m=c.tokenB;if(!v||!m)return;let p,y="";if(d==="âˆž"||d==="Infinity")p=Rt.getMaxIndex(Number(c.tickSpacing)),y="âˆž";else if(F(d).equals(0))p=Rt.getMinIndex(Number(c.tickSpacing)),y="0";else if(F(d).gt(0)){const P=st.priceToTickIndex(F(d),v.decimals,m.decimals),z=!(w&&c.id==="lower"||!w&&c.id==="upper");p=ns(Number(P),Number(c.tickSpacing),typeof w=="boolean"?z:void 0),y=st.tickIndexToPrice(Number(p),v.decimals,m.decimals).toString()}const _=y==="âˆž"?"âˆž":$t(y,6);console.log("ðŸš€ ~ setTickDataBasedOnPrice ~ displayPrice:",_);const k=Fe(y),b=k==="âˆž"?"âˆž":$t(k,6),S={...c,tick:p,price:y,displayPrice:_,reversePrice:k,displayReversePrice:b};c.id==="lower"?e({...S}):r({...S})},handleResetRange:()=>{e({}),r({})}}}const is=(t,e)=>({formatPriceData:[],setFormatPriceData:n=>{t(()=>({formatPriceData:n,formatPriceDataIsLoading:!1}))},formatPriceDataIsLoading:!0,setFormatPriceDataIsLoading:n=>{t(()=>({formatPriceDataIsLoading:n}))},ticksPool:{},setTicksPool:n=>{t(()=>({ticksPool:n}))}}),wn=Er(is);function Le(t,e,n,r,i,s){var u,a,h;let o={...n},l=[];for(let f=i+(s?1:-1);s?f<r.length:f>=0;s?f++:f--){const c=Number((u=r[f])==null?void 0:u.tick),d=st.tickIndexToPrice(c,t.decimals,e.decimals),w={liquidityActive:o.liquidityActive,tick:c,liquidityNet:BigInt(((a=r[f])==null?void 0:a.liquidityNet)??""),price0:d.toString()};s?w.liquidityActive=BigInt(F(o.liquidityActive.toString()).add(((h=r[f])==null?void 0:h.liquidityNet)??0).toString()):!s&&!F(o.liquidityNet.toString()).eq("0")&&(w.liquidityActive=BigInt(F(o.liquidityActive.toString()).sub(o.liquidityNet.toString()).toString())),l.push(w),o=w}return s||(l=l.reverse()),l}const ss=(t,e)=>(t||t===0)&&e&&je[e]?Math.floor(t/je[e])*je[e]:void 0;function os(){const{fetchByApi:t}=Mi(),e=Ii("clmm"),{setFormatPriceData:n,setFormatPriceDataIsLoading:r,setTicksPool:i}=wn(),s=async a=>{var d;const{poolAddress:h,tokenA:f,tokenB:c}=a;try{const v=await t("/router_v2/ticks","GET",{address:h,orderBy:"index",limit:1e3});console.log("ðŸš€ ~ getTicks11111 ~ res:",v);const m=(d=v==null?void 0:v.list)==null?void 0:d.sort((y,_)=>y.index-_.index);console.log("ðŸš€ ~ getTicks11111 ~ list:",m);const p=m.map(y=>({tick:y.index,sqrtPrice:y.sqrt_price,liquidityNet:y.liquidity_net,liquidityGross:y.liquidity_gross}));return console.log("ðŸš€ ~ getTicks11111 ~ tickList:",p),{ticks:p,address:v==null?void 0:v.address,ticksPoolInfo:v==null?void 0:v.pool}}catch(w){console.log("ðŸš€ ~ getTicks ~ error:",w);const v=await e.Pool.fetchTicks({pool_id:h,coin_type_a:f.coin_type,coin_type_b:c.coin_type}),m=[];if(v&&(v==null?void 0:v.length)>0){const p=Di(v);p==null||p.forEach(y=>{m.push({tick:Number(y.index),liquidityNet:F(y.liquidityNet.toString()).toString(),liquidityGross:y.liquidityGross.toString(),id:y.objectId})})}return{ticks:m,address:h}}},o=a=>{var j,g,N,x,A,C,R;const{tokenA:h,tokenB:f,tickSpacing:c,currentTickIndex:d,feeRate:w,ticks:v,ticksPool:m}=a;if(console.log("ðŸš€ ~ getProcessedAsPrice ~ ticksPool:",m),console.log("ðŸš€ ~ getProcessedAsPrice ~ feeRate:",w),console.log("ðŸš€ ~ getProcessedAsPrice ~ tickSpacing:",c),!w||!c)return;console.log("ðŸš€ ~ getProcessedAsPrice ~ currentTickIndex:",d),console.log("ðŸš€ ~ getProcessedAsPrice ~ feeRate:",w);const p=(m==null?void 0:m.current_tick_index)||d,y=ss(p,w);if(console.log("ðŸš€ ~ getProcessedAsPrice ~ activeTick:",y),y===void 0)return;const _=JSON.parse(JSON.stringify(v)).sort((E,I)=>E-I);console.log("ðŸš€ ~ getProcessedAsPrice ~ newTicks:",_);const k=(m==null?void 0:m.liquidity)||a.liquidity;if(_.length===0)return{activeTick:y,data:[{liquidityActive:BigInt(k??0),tick:y,liquidityNet:0n,price0:st.tickIndexToPrice(y,h.decimals,f.decimals).toString()}]};if(console.log("ðŸš€ ~ getProcessedAsPrice ~ currTick:",p),console.log("ðŸš€ ~ getProcessedAsPrice ~ newTicks.length === 2:",_.length===2),console.log("ðŸš€ ~ getProcessedAsPrice ~  newTicks[0]?.tick + newTicks[1]?.tick:",((j=_[0])==null?void 0:j.tick)+((g=_[1])==null?void 0:g.tick)),_.length===2&&p>((N=_[0])==null?void 0:N.tick)&&p<_[1].tick)return console.log("ðŸš€ ~ getProcessedAsPrice ~ is full range:"),{activeTick:y,data:[{..._[0],liquidityActive:_[0].liquidityNet,price0:st.tickIndexToPrice(_[0].tick,h.decimals,f.decimals).toString()},{liquidityActive:BigInt(k??0),tick:y,liquidityNet:0n,price0:st.tickIndexToPrice(y,h.decimals,f.decimals).toString()},{..._[1],liquidityActive:_[0].liquidityNet,price0:st.tickIndexToPrice(_[1].tick,h.decimals,f.decimals).toString()}]};const b=v.findIndex(({tick:E})=>E&&E>y)-1,S=v.findIndex(({tick:E})=>E&&E>=y);if(console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ pivot:",b),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ currentIndexPos:",S),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ liquidity:",k),b<0){const E=Le(h,f,{liquidityActive:BigInt(k??0),tick:y,liquidityNet:0n,price0:st.tickIndexToPrice(y,h.decimals,f.decimals).toString()},_,-1,!0);return{activeTick:y,data:[...E]}}console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ params:",a),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ activeTick:",y),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ ticks:",JSON.parse(JSON.stringify(v)));const P=st.tickIndexToPrice(y,h.decimals,f.decimals),z={liquidityActive:BigInt(k??0),tick:y,liquidityNet:Number((x=v[b])==null?void 0:x.tick)===y?BigInt(((A=v[b])==null?void 0:A.liquidityNet)??0):BigInt(0),price0:P.toString()};console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ activeTickProcessed:",z);const O=Le(h,f,z,_,b,!0);console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ subsequentTicks:",O);const D=Le(h,f,z,_,b,!1);console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ previousTicks:",D);const B={liquidityActive:BigInt(k??0),tick:d,liquidityNet:Number((C=v[b])==null?void 0:C.tick)===y?BigInt(((R=v[b])==null?void 0:R.liquidityNet)??0):BigInt(0),price0:st.tickIndexToPrice(d,h.decimals,f.decimals).toString()},$=Number(d)<Number(y)?D.concat(B).concat(z).concat(O):D.concat(z).concat(B).concat(O);return console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ ticksProcessed:",$),{activeTick:y,data:$}},l=a=>{if(!a||!(a!=null&&a.length))return[];const h=[];for(let f=0;f<a.length;f++){const c=a[f],d={depth:parseFloat(c.liquidityActive.toString()),price:parseFloat(c.price0)};d.depth>=0&&h.push(d)}return h},u=async a=>{const{tokenA:h,tokenB:f}=a;r(!0);try{console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ params:",a);const c=await s(a);console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ ticks:",c);const d=o({...a,ticks:(c==null?void 0:c.ticks)||[],ticksPool:c==null?void 0:c.ticksPoolInfo});console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ priceData:",d);const w=l(d==null?void 0:d.data);console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ formatPriceData:",w);const v=c!=null&&c.ticksPoolInfo?c==null?void 0:c.ticksPoolInfo:{current_sqrt_price:"",current_tick_index:a.currentTickIndex,id:a.poolAddress,liquidity:a.liquidity},m=st.tickIndexToPrice(v.current_tick_index,h.decimals,f.decimals).toString();v.price=m,v.reversePrice=F(1).div(m).toString(),i({...v}),n(w)}catch(c){console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ error:",c),i({}),n([])}};return q.useEffect(()=>()=>{r(!0),n([])},[]),{getFormattedData:u}}function as(t){return t}var cs=3,qn=1e-6;function us(t){return"translate("+t+",0)"}function ls(t){return e=>+t(e)}function fs(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function hs(){return!this.__axis}function ds(t,e){var n=[],r=null,i=null,s=6,o=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,a=1,h="y",f=us;function c(d){var w=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):as),m=Math.max(s,0)+l,p=e.range(),y=+p[0]+u,_=+p[p.length-1]+u,k=(e.bandwidth?fs:ls)(e.copy(),u),b=d.selection?d.selection():d,S=b.selectAll(".domain").data([null]),P=b.selectAll(".tick").data(w,e).order(),z=P.exit(),O=P.enter().append("g").attr("class","tick"),D=P.select("line"),B=P.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(O),D=D.merge(O.append("line").attr("stroke","currentColor").attr(h+"2",a*s)),B=B.merge(O.append("text").attr("fill","currentColor").attr(h,a*m).attr("dy","0.71em")),d!==b&&(S=S.transition(d),P=P.transition(d),D=D.transition(d),B=B.transition(d),z=z.transition(d).attr("opacity",qn).attr("transform",function($){return isFinite($=k($))?f($+u):this.getAttribute("transform")}),O.attr("opacity",qn).attr("transform",function($){var j=this.parentNode.__axis;return f((j&&isFinite(j=j($))?j:k($))+u)})),z.remove(),S.attr("d",o?"M"+y+","+a*o+"V"+u+"H"+_+"V"+a*o:"M"+y+","+u+"H"+_),P.attr("opacity",1).attr("transform",function($){return f(k($)+u)}),D.attr(h+"2",a*s),B.attr(h,a*m).text(v),b.filter(hs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),b.each(function(){this.__axis=k})}return c.scale=function(d){return arguments.length?(e=d,c):e},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),c):n.slice()},c.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),c):r&&r.slice()},c.tickFormat=function(d){return arguments.length?(i=d,c):i},c.tickSize=function(d){return arguments.length?(s=o=+d,c):s},c.tickSizeInner=function(d){return arguments.length?(s=+d,c):s},c.tickSizeOuter=function(d){return arguments.length?(o=+d,c):o},c.tickPadding=function(d){return arguments.length?(l=+d,c):l},c.offset=function(d){return arguments.length?(u=+d,c):u},c}function ps(t){return ds(cs,t)}var gs={value:()=>{}};function Ee(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new he(n)}function he(t){this._=t}function ms(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}he.prototype=Ee.prototype={constructor:he,on:function(t,e){var n=this._,r=ms(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=ys(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Fn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Fn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new he(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ys(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Fn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=gs,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var rn="http://www.w3.org/1999/xhtml";const jn={svg:"http://www.w3.org/2000/svg",xhtml:rn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ce(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),jn.hasOwnProperty(e)?{space:jn[e],local:t}:t}function vs(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===rn&&e.documentElement.namespaceURI===rn?e.createElement(t):e.createElementNS(n,t)}}function _s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $r(t){var e=Ce(t);return(e.local?_s:vs)(e)}function ws(){}function xn(t){return t==null?ws:function(){return this.querySelector(t)}}function xs(t){typeof t!="function"&&(t=xn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,a,h=0;h<o;++h)(u=s[h])&&(a=t.call(u,u.__data__,h,s))&&("__data__"in u&&(a.__data__=u.__data__),l[h]=a);return new lt(r,this._parents)}function ks(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function bs(){return[]}function zr(t){return t==null?bs:function(){return this.querySelectorAll(t)}}function Ss(t){return function(){return ks(t.apply(this,arguments))}}function As(t){typeof t=="function"?t=Ss(t):t=zr(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,a=0;a<l;++a)(u=o[a])&&(r.push(t.call(u,u.__data__,a,o)),i.push(u));return new lt(r,i)}function Br(t){return function(){return this.matches(t)}}function Dr(t){return function(e){return e.matches(t)}}var Ps=Array.prototype.find;function Ts(t){return function(){return Ps.call(this.children,t)}}function Rs(){return this.firstElementChild}function Ns(t){return this.select(t==null?Rs:Ts(typeof t=="function"?t:Dr(t)))}var Es=Array.prototype.filter;function Cs(){return Array.from(this.children)}function Ms(t){return function(){return Es.call(this.children,t)}}function Is(t){return this.selectAll(t==null?Cs:Ms(typeof t=="function"?t:Dr(t)))}function $s(t){typeof t!="function"&&(t=Br(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new lt(r,this._parents)}function Or(t){return new Array(t.length)}function zs(){return new lt(this._enter||this._groups.map(Or),this._parents)}function xe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xe.prototype={constructor:xe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Bs(t){return function(){return t}}function Ds(t,e,n,r,i,s){for(var o=0,l,u=e.length,a=s.length;o<a;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new xe(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function Os(t,e,n,r,i,s,o){var l,u,a=new Map,h=e.length,f=s.length,c=new Array(h),d;for(l=0;l<h;++l)(u=e[l])&&(c[l]=d=o.call(u,u.__data__,l,e)+"",a.has(d)?i[l]=u:a.set(d,u));for(l=0;l<f;++l)d=o.call(t,s[l],l,s)+"",(u=a.get(d))?(r[l]=u,u.__data__=s[l],a.delete(d)):n[l]=new xe(t,s[l]);for(l=0;l<h;++l)(u=e[l])&&a.get(c[l])===u&&(i[l]=u)}function qs(t){return t.__data__}function Fs(t,e){if(!arguments.length)return Array.from(this,qs);var n=e?Os:Ds,r=this._parents,i=this._groups;typeof t!="function"&&(t=Bs(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),a=0;a<s;++a){var h=r[a],f=i[a],c=f.length,d=js(t.call(h,h&&h.__data__,a,r)),w=d.length,v=l[a]=new Array(w),m=o[a]=new Array(w),p=u[a]=new Array(c);n(h,f,v,m,p,d,e);for(var y=0,_=0,k,b;y<w;++y)if(k=v[y]){for(y>=_&&(_=y+1);!(b=m[_])&&++_<w;);k._next=b||null}}return o=new lt(o,r),o._enter=l,o._exit=u,o}function js(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ls(){return new lt(this._exit||this._groups.map(Or),this._parents)}function Xs(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Vs(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var a=n[u],h=r[u],f=a.length,c=l[u]=new Array(f),d,w=0;w<f;++w)(d=a[w]||h[w])&&(c[w]=d);for(;u<i;++u)l[u]=n[u];return new lt(l,this._parents)}function Gs(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Ys(t){t||(t=Hs);function e(f,c){return f&&c?t(f.__data__,c.__data__):!f-!c}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),a,h=0;h<l;++h)(a=o[h])&&(u[h]=a);u.sort(e)}return new lt(i,this._parents).order()}function Hs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ws(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Us(){return Array.from(this)}function Ks(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Zs(){let t=0;for(const e of this)++t;return t}function Js(){return!this.node()}function Qs(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function to(t){return function(){this.removeAttribute(t)}}function eo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function no(t,e){return function(){this.setAttribute(t,e)}}function ro(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function io(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function so(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function oo(t,e){var n=Ce(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?eo:to:typeof e=="function"?n.local?so:io:n.local?ro:no)(n,e))}function qr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ao(t){return function(){this.style.removeProperty(t)}}function co(t,e,n){return function(){this.style.setProperty(t,e,n)}}function uo(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function lo(t,e,n){return arguments.length>1?this.each((e==null?ao:typeof e=="function"?uo:co)(t,e,n??"")):Ft(this.node(),t)}function Ft(t,e){return t.style.getPropertyValue(e)||qr(t).getComputedStyle(t,null).getPropertyValue(e)}function fo(t){return function(){delete this[t]}}function ho(t,e){return function(){this[t]=e}}function po(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function go(t,e){return arguments.length>1?this.each((e==null?fo:typeof e=="function"?po:ho)(t,e)):this.node()[t]}function Fr(t){return t.trim().split(/^|\s+/)}function kn(t){return t.classList||new jr(t)}function jr(t){this._node=t,this._names=Fr(t.getAttribute("class")||"")}jr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Lr(t,e){for(var n=kn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Xr(t,e){for(var n=kn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mo(t){return function(){Lr(this,t)}}function yo(t){return function(){Xr(this,t)}}function vo(t,e){return function(){(e.apply(this,arguments)?Lr:Xr)(this,t)}}function _o(t,e){var n=Fr(t+"");if(arguments.length<2){for(var r=kn(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?vo:e?mo:yo)(n,e))}function wo(){this.textContent=""}function xo(t){return function(){this.textContent=t}}function ko(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function bo(t){return arguments.length?this.each(t==null?wo:(typeof t=="function"?ko:xo)(t)):this.node().textContent}function So(){this.innerHTML=""}function Ao(t){return function(){this.innerHTML=t}}function Po(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function To(t){return arguments.length?this.each(t==null?So:(typeof t=="function"?Po:Ao)(t)):this.node().innerHTML}function Ro(){this.nextSibling&&this.parentNode.appendChild(this)}function No(){return this.each(Ro)}function Eo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Co(){return this.each(Eo)}function Mo(t){var e=typeof t=="function"?t:$r(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Io(){return null}function $o(t,e){var n=typeof t=="function"?t:$r(t),r=e==null?Io:typeof e=="function"?e:xn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zo(){var t=this.parentNode;t&&t.removeChild(this)}function Bo(){return this.each(zo)}function Do(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Oo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qo(t){return this.select(t?Oo:Do)}function Fo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function jo(t){return function(e){t.call(this,e,this.__data__)}}function Lo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Xo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Vo(t,e,n){return function(){var r=this.__on,i,s=jo(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Go(t,e,n){var r=Lo(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,h;u<a;++u)for(i=0,h=l[u];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(l=e?Vo:Xo,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Vr(t,e,n){var r=qr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Yo(t,e){return function(){return Vr(this,t,e)}}function Ho(t,e){return function(){return Vr(this,t,e.apply(this,arguments))}}function Wo(t,e){return this.each((typeof e=="function"?Ho:Yo)(t,e))}function*Uo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Gr=[null];function lt(t,e){this._groups=t,this._parents=e}function oe(){return new lt([[document.documentElement]],Gr)}function Ko(){return this}lt.prototype=oe.prototype={constructor:lt,select:xs,selectAll:As,selectChild:Ns,selectChildren:Is,filter:$s,data:Fs,enter:zs,exit:Ls,join:Xs,merge:Vs,selection:Ko,order:Gs,sort:Ys,call:Ws,nodes:Us,node:Ks,size:Zs,empty:Js,each:Qs,attr:oo,style:lo,property:go,classed:_o,text:bo,html:To,raise:No,lower:Co,append:Mo,insert:$o,remove:Bo,clone:qo,datum:Fo,on:Go,dispatch:Wo,[Symbol.iterator]:Uo};function J(t){return typeof t=="string"?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],Gr)}function Zo(t){let e;for(;e=t.sourceEvent;)t=e;return t}function wt(t,e){if(t=Zo(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const sn={capture:!0,passive:!1};function on(t){t.preventDefault(),t.stopImmediatePropagation()}function Yr(t){var e=t.document.documentElement,n=J(t).on("dragstart.drag",on,sn);"onselectstart"in e?n.on("selectstart.drag",on,sn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Hr(t,e){var n=t.document.documentElement,r=J(t).on("dragstart.drag",null);e&&(r.on("click.drag",on,sn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var jt=0,Jt=0,Ut=0,Wr=1e3,ke,Qt,be=0,It=0,Me=0,ie=typeof performance=="object"&&performance.now?performance:Date,Ur=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function bn(){return It||(Ur(Jo),It=ie.now()+Me)}function Jo(){It=0}function Se(){this._call=this._time=this._next=null}Se.prototype=Kr.prototype={constructor:Se,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?bn():+n)+(e==null?0:+e),!this._next&&Qt!==this&&(Qt?Qt._next=this:ke=this,Qt=this),this._call=t,this._time=n,an()},stop:function(){this._call&&(this._call=null,this._time=1/0,an())}};function Kr(t,e,n){var r=new Se;return r.restart(t,e,n),r}function Qo(){bn(),++jt;for(var t=ke,e;t;)(e=It-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jt}function Ln(){It=(be=ie.now())+Me,jt=Jt=0;try{Qo()}finally{jt=0,ea(),It=0}}function ta(){var t=ie.now(),e=t-be;e>Wr&&(Me-=e,be=t)}function ea(){for(var t,e=ke,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ke=n);Qt=t,an(r)}function an(t){if(!jt){Jt&&(Jt=clearTimeout(Jt));var e=t-It;e>24?(t<1/0&&(Jt=setTimeout(Ln,t-ie.now()-Me)),Ut&&(Ut=clearInterval(Ut))):(Ut||(be=ie.now(),Ut=setInterval(ta,Wr)),jt=1,Ur(Ln))}}function Xn(t,e,n){var r=new Se;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var na=Ee("start","end","cancel","interrupt"),ra=[],Zr=0,Vn=1,cn=2,de=3,Gn=4,un=5,pe=6;function Ie(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;ia(t,n,{name:e,index:r,group:i,on:na,tween:ra,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Zr})}function Sn(t,e){var n=pt(t,e);if(n.state>Zr)throw new Error("too late; already scheduled");return n}function mt(t,e){var n=pt(t,e);if(n.state>de)throw new Error("too late; already running");return n}function pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ia(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Kr(s,0,n.time);function s(a){n.state=Vn,n.timer.restart(o,n.delay,n.time),n.delay<=a&&o(a-n.delay)}function o(a){var h,f,c,d;if(n.state!==Vn)return u();for(h in r)if(d=r[h],d.name===n.name){if(d.state===de)return Xn(o);d.state===Gn?(d.state=pe,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[h]):+h<e&&(d.state=pe,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[h])}if(Xn(function(){n.state===de&&(n.state=Gn,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=cn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===cn){for(n.state=de,i=new Array(c=n.tween.length),h=0,f=-1;h<c;++h)(d=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function l(a){for(var h=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=un,1),f=-1,c=i.length;++f<c;)i[f].call(t,h);n.state===un&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=pe,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function qt(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>cn&&r.state<un,r.state=pe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function sa(t){return this.each(function(){qt(this,t)})}function oa(t,e){var n,r;return function(){var i=mt(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function aa(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=mt(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}s.tween=i}}function ca(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=pt(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?oa:aa)(n,t,e))}function An(t,e,n){var r=t._id;return t.each(function(){var i=mt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return pt(i,r).value[e]}}function Jr(t,e){var n;return(typeof e=="number"?Nt:e instanceof zn?$n:(n=zn(e))?(e=n,$n):qi)(t,e)}function ua(t){return function(){this.removeAttribute(t)}}function la(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fa(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function ha(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function da(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function pa(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function ga(t,e){var n=Ce(t),r=n==="transform"?Ki:Jr;return this.attrTween(t,typeof e=="function"?(n.local?pa:da)(n,r,An(this,"attr."+t,e)):e==null?(n.local?la:ua)(n):(n.local?ha:fa)(n,r,e))}function ma(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ya(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function va(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ya(t,s)),n}return i._value=e,i}function _a(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ma(t,s)),n}return i._value=e,i}function wa(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ce(t);return this.tween(n,(r.local?va:_a)(r,e))}function xa(t,e){return function(){Sn(this,t).delay=+e.apply(this,arguments)}}function ka(t,e){return e=+e,function(){Sn(this,t).delay=e}}function ba(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xa:ka)(e,t)):pt(this.node(),e).delay}function Sa(t,e){return function(){mt(this,t).duration=+e.apply(this,arguments)}}function Aa(t,e){return e=+e,function(){mt(this,t).duration=e}}function Pa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Sa:Aa)(e,t)):pt(this.node(),e).duration}function Ta(t,e){if(typeof e!="function")throw new Error;return function(){mt(this,t).ease=e}}function Ra(t){var e=this._id;return arguments.length?this.each(Ta(e,t)):pt(this.node(),e).ease}function Na(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,t).ease=n}}function Ea(t){if(typeof t!="function")throw new Error;return this.each(Na(this._id,t))}function Ca(t){typeof t!="function"&&(t=Br(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new bt(r,this._parents,this._name,this._id)}function Ma(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],a=n[l],h=u.length,f=o[l]=new Array(h),c,d=0;d<h;++d)(c=u[d]||a[d])&&(f[d]=c);for(;l<r;++l)o[l]=e[l];return new bt(o,this._parents,this._name,this._id)}function Ia(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function $a(t,e,n){var r,i,s=Ia(e)?Sn:mt;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function za(t,e){var n=this._id;return arguments.length<2?pt(this.node(),n).on.on(t):this.each($a(n,t,e))}function Ba(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Da(){return this.on("end.remove",Ba(this._id))}function Oa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xn(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,a=s[o]=new Array(u),h,f,c=0;c<u;++c)(h=l[c])&&(f=t.call(h,h.__data__,c,l))&&("__data__"in h&&(f.__data__=h.__data__),a[c]=f,Ie(a[c],e,n,c,a,pt(h,n)));return new bt(s,this._parents,e,n)}function qa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zr(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],a=u.length,h,f=0;f<a;++f)if(h=u[f]){for(var c=t.call(h,h.__data__,f,u),d,w=pt(h,n),v=0,m=c.length;v<m;++v)(d=c[v])&&Ie(d,e,n,v,c,w);s.push(c),o.push(h)}return new bt(s,o,e,n)}var Fa=oe.prototype.constructor;function ja(){return new Fa(this._groups,this._parents)}function La(t,e){var n,r,i;return function(){var s=Ft(this,t),o=(this.style.removeProperty(t),Ft(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Qr(t){return function(){this.style.removeProperty(t)}}function Xa(t,e,n){var r,i=n+"",s;return function(){var o=Ft(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Va(t,e,n){var r,i,s;return function(){var o=Ft(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Ft(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function Ga(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=mt(this,t),a=u.on,h=u.value[s]==null?l||(l=Qr(e)):void 0;(a!==n||i!==h)&&(r=(n=a).copy()).on(o,i=h),u.on=r}}function Ya(t,e,n){var r=(t+="")=="transform"?Ui:Jr;return e==null?this.styleTween(t,La(t,r)).on("end.style."+t,Qr(t)):typeof e=="function"?this.styleTween(t,Va(t,r,An(this,"style."+t,e))).each(Ga(this._id,t)):this.styleTween(t,Xa(t,r,e),n).on("end.style."+t,null)}function Ha(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Wa(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Ha(t,o,n)),r}return s._value=e,s}function Ua(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Wa(t,e,n??""))}function Ka(t){return function(){this.textContent=t}}function Za(t){return function(){var e=t(this);this.textContent=e??""}}function Ja(t){return this.tween("text",typeof t=="function"?Za(An(this,"text",t)):Ka(t==null?"":t+""))}function Qa(t){return function(e){this.textContent=t.call(this,e)}}function tc(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Qa(i)),e}return r._value=t,r}function ec(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,tc(t))}function nc(){for(var t=this._name,e=this._id,n=ti(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,a=0;a<l;++a)if(u=o[a]){var h=pt(u,e);Ie(u,t,n,a,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new bt(r,this._parents,t,n)}function rc(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var a=mt(this,r),h=a.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&s()})}var ic=0;function bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ti(){return++ic}var vt=oe.prototype;bt.prototype={constructor:bt,select:Oa,selectAll:qa,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:Ca,merge:Ma,selection:ja,transition:nc,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:za,attr:ga,attrTween:wa,style:Ya,styleTween:Ua,text:Ja,textTween:ec,remove:Da,tween:ca,delay:ba,duration:Pa,ease:Ra,easeVarying:Ea,end:rc,[Symbol.iterator]:vt[Symbol.iterator]};function sc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var oc={time:null,delay:0,duration:250,ease:sc};function ac(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function cc(t){var e,n;t instanceof bt?(e=t._id,t=t._name):(e=ti(),(n=oc).time=bn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,a=0;a<l;++a)(u=o[a])&&Ie(u,t,e,a,o,n||ac(u,e));return new bt(r,this._parents,t,e)}oe.prototype.interrupt=sa;oe.prototype.transition=cc;const Xe=t=>()=>t;function uc(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function lc(t){t.stopImmediatePropagation()}function Ve(t){t.preventDefault(),t.stopImmediatePropagation()}var Yn={name:"drag"},Ge={name:"space"},zt={name:"handle"},Bt={name:"center"};const{abs:Hn,max:rt,min:it}=Math;function Wn(t){return[+t[0],+t[1]]}function Un(t){return[Wn(t[0]),Wn(t[1])]}var ge={name:"x",handles:["w","e"].map(ln),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ye={},_t={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Kn={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Zn={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},fc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},hc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ln(t){return{type:t}}function dc(t){return!t.ctrlKey&&!t.button}function pc(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function gc(){return navigator.maxTouchPoints||"ontouchstart"in this}function He(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function mc(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function yc(){return vc(ge)}function vc(t){var e=pc,n=dc,r=gc,i=!0,s=Ee("start","brush","end"),o=6,l;function u(m){var p=m.property("__brush",v).selectAll(".overlay").data([ln("overlay")]);p.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",_t.overlay).merge(p).each(function(){var _=He(this).extent;J(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),m.selectAll(".selection").data([ln("selection")]).enter().append("rect").attr("class","selection").attr("cursor",_t.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var y=m.selectAll(".handle").data(t.handles,function(_){return _.type});y.exit().remove(),y.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return _t[_.type]}),m.each(a).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",c).filter(r).on("touchstart.brush",c).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(m,p,y){m.tween?m.on("start.brush",function(_){h(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){h(this,arguments).end(_)}).tween("brush",function(){var _=this,k=_.__brush,b=h(_,arguments),S=k.selection,P=t.input(typeof p=="function"?p.apply(this,arguments):p,k.extent),z=Fi(S,P);function O(D){k.selection=D===1&&P===null?null:z(D),a.call(_),b.brush()}return S!==null&&P!==null?O:O(1)}):m.each(function(){var _=this,k=arguments,b=_.__brush,S=t.input(typeof p=="function"?p.apply(_,k):p,b.extent),P=h(_,k).beforestart();qt(_),b.selection=S===null?null:S,a.call(_),P.start(y).brush(y).end(y)})},u.clear=function(m,p){u.move(m,null,p)};function a(){var m=J(this),p=He(this).selection;p?(m.selectAll(".selection").style("display",null).attr("x",p[0][0]).attr("y",p[0][1]).attr("width",p[1][0]-p[0][0]).attr("height",p[1][1]-p[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(y){return y.type[y.type.length-1]==="e"?p[1][0]-o/2:p[0][0]-o/2}).attr("y",function(y){return y.type[0]==="s"?p[1][1]-o/2:p[0][1]-o/2}).attr("width",function(y){return y.type==="n"||y.type==="s"?p[1][0]-p[0][0]+o:o}).attr("height",function(y){return y.type==="e"||y.type==="w"?p[1][1]-p[0][1]+o:o})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(m,p,y){var _=m.__brush.emitter;return _&&(!y||!_.clean)?_:new f(m,p,y)}function f(m,p,y){this.that=m,this.args=p,this.state=m.__brush,this.active=0,this.clean=y}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,p){return this.starting?(this.starting=!1,this.emit("start",m,p)):this.emit("brush",m),this},brush:function(m,p){return this.emit("brush",m,p),this},end:function(m,p){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,p)),this},emit:function(m,p,y){var _=J(this.that).datum();s.call(m,this.that,new uc(m,{sourceEvent:p,target:u,selection:t.output(this.state.selection),mode:y,dispatch:s}),_)}};function c(m){if(l&&!m.touches||!n.apply(this,arguments))return;var p=this,y=m.target.__data__.type,_=(i&&m.metaKey?y="overlay":y)==="selection"?Yn:i&&m.altKey?Bt:zt,k=t===Ye?null:fc[y],b=t===ge?null:hc[y],S=He(p),P=S.extent,z=S.selection,O=P[0][0],D,B,$=P[0][1],j,g,N=P[1][0],x,A,C=P[1][1],R,E,I=0,M=0,H,G=k&&b&&i&&m.shiftKey,U,Z,V=Array.from(m.touches||[m],L=>{const tt=L.identifier;return L=wt(L,p),L.point0=L.slice(),L.identifier=tt,L});qt(p);var K=h(p,arguments,!0).beforestart();if(y==="overlay"){z&&(H=!0);const L=[V[0],V[1]||V[0]];S.selection=z=[[D=t===Ye?O:it(L[0][0],L[1][0]),j=t===ge?$:it(L[0][1],L[1][1])],[x=t===Ye?N:rt(L[0][0],L[1][0]),R=t===ge?C:rt(L[0][1],L[1][1])]],V.length>1&&Tt(m)}else D=z[0][0],j=z[0][1],x=z[1][0],R=z[1][1];B=D,g=j,A=x,E=R;var ot=J(p).attr("pointer-events","none"),yt=ot.selectAll(".overlay").attr("cursor",_t[y]);if(m.touches)K.moved=ht,K.ended=Mn;else{var Pt=J(m.view).on("mousemove.brush",ht,!0).on("mouseup.brush",Mn,!0);i&&Pt.on("keydown.brush",Ai,!0).on("keyup.brush",Pi,!0),Yr(m.view)}a.call(p),K.start(m,_.name);function ht(L){for(const tt of L.changedTouches||[L])for(const Wt of V)Wt.identifier===tt.identifier&&(Wt.cur=wt(tt,p));if(G&&!U&&!Z&&V.length===1){const tt=V[0];Hn(tt.cur[0]-tt[0])>Hn(tt.cur[1]-tt[1])?Z=!0:U=!0}for(const tt of V)tt.cur&&(tt[0]=tt.cur[0],tt[1]=tt.cur[1]);H=!0,Ve(L),Tt(L)}function Tt(L){const tt=V[0],Wt=tt.point0;var St;switch(I=tt[0]-Wt[0],M=tt[1]-Wt[1],_){case Ge:case Yn:{k&&(I=rt(O-D,it(N-x,I)),B=D+I,A=x+I),b&&(M=rt($-j,it(C-R,M)),g=j+M,E=R+M);break}case zt:{V[1]?(k&&(B=rt(O,it(N,V[0][0])),A=rt(O,it(N,V[1][0])),k=1),b&&(g=rt($,it(C,V[0][1])),E=rt($,it(C,V[1][1])),b=1)):(k<0?(I=rt(O-D,it(N-D,I)),B=D+I,A=x):k>0&&(I=rt(O-x,it(N-x,I)),B=D,A=x+I),b<0?(M=rt($-j,it(C-j,M)),g=j+M,E=R):b>0&&(M=rt($-R,it(C-R,M)),g=j,E=R+M));break}case Bt:{k&&(B=rt(O,it(N,D-I*k)),A=rt(O,it(N,x+I*k))),b&&(g=rt($,it(C,j-M*b)),E=rt($,it(C,R+M*b)));break}}A<B&&(k*=-1,St=D,D=x,x=St,St=B,B=A,A=St,y in Kn&&yt.attr("cursor",_t[y=Kn[y]])),E<g&&(b*=-1,St=j,j=R,R=St,St=g,g=E,E=St,y in Zn&&yt.attr("cursor",_t[y=Zn[y]])),S.selection&&(z=S.selection),U&&(B=z[0][0],A=z[1][0]),Z&&(g=z[0][1],E=z[1][1]),(z[0][0]!==B||z[0][1]!==g||z[1][0]!==A||z[1][1]!==E)&&(S.selection=[[B,g],[A,E]],a.call(p),K.brush(L,_.name))}function Mn(L){if(lc(L),L.touches){if(L.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Hr(L.view,H),Pt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ot.attr("pointer-events","all"),yt.attr("cursor",_t.overlay),S.selection&&(z=S.selection),mc(z)&&(S.selection=null,a.call(p)),K.end(L,_.name)}function Ai(L){switch(L.keyCode){case 16:{G=k&&b;break}case 18:{_===zt&&(k&&(x=A-I*k,D=B+I*k),b&&(R=E-M*b,j=g+M*b),_=Bt,Tt(L));break}case 32:{(_===zt||_===Bt)&&(k<0?x=A-I:k>0&&(D=B-I),b<0?R=E-M:b>0&&(j=g-M),_=Ge,yt.attr("cursor",_t.selection),Tt(L));break}default:return}Ve(L)}function Pi(L){switch(L.keyCode){case 16:{G&&(U=Z=G=!1,Tt(L));break}case 18:{_===Bt&&(k<0?x=A:k>0&&(D=B),b<0?R=E:b>0&&(j=g),_=zt,Tt(L));break}case 32:{_===Ge&&(L.altKey?(k&&(x=A-I*k,D=B+I*k),b&&(R=E-M*b,j=g+M*b),_=Bt):(k<0?x=A:k>0&&(D=B),b<0?R=E:b>0&&(j=g),_=zt),yt.attr("cursor",_t[y]),Tt(L));break}default:return}Ve(L)}}function d(m){h(this,arguments).moved(m)}function w(m){h(this,arguments).ended(m)}function v(){var m=this.__brush||{selection:null};return m.extent=Un(e.apply(this,arguments)),m.dim=t,m}return u.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Xe(Un(m)),u):e},u.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Xe(!!m),u):n},u.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Xe(!!m),u):r},u.handleSize=function(m){return arguments.length?(o=+m,u):o},u.keyModifiers=function(m){return arguments.length?(i=!!m,u):i},u.on=function(){var m=s.on.apply(s,arguments);return m===s?u:m},u}const ue=t=>()=>t;function _c(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function kt(t,e,n){this.k=t,this.x=e,this.y=n}kt.prototype={constructor:kt,scale:function(t){return t===1?this:new kt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new kt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pn=new kt(1,0,0);kt.prototype;function We(t){t.stopImmediatePropagation()}function Kt(t){t.preventDefault(),t.stopImmediatePropagation()}function wc(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function xc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Jn(){return this.__zoom||Pn}function kc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function bc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sc(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Ac(){var t=wc,e=xc,n=Sc,r=kc,i=bc,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=ts,a=Ee("start","zoom","end"),h,f,c,d=500,w=150,v=0,m=10;function p(g){g.property("__zoom",Jn).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",B).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(g,N,x,A){var C=g.selection?g.selection():g;C.property("__zoom",Jn),g!==C?b(g,N,x,A):C.interrupt().each(function(){S(this,arguments).event(A).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},p.scaleBy=function(g,N,x,A){p.scaleTo(g,function(){var C=this.__zoom.k,R=typeof N=="function"?N.apply(this,arguments):N;return C*R},x,A)},p.scaleTo=function(g,N,x,A){p.transform(g,function(){var C=e.apply(this,arguments),R=this.__zoom,E=x==null?k(C):typeof x=="function"?x.apply(this,arguments):x,I=R.invert(E),M=typeof N=="function"?N.apply(this,arguments):N;return n(_(y(R,M),E,I),C,o)},x,A)},p.translateBy=function(g,N,x,A){p.transform(g,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),o)},null,A)},p.translateTo=function(g,N,x,A,C){p.transform(g,function(){var R=e.apply(this,arguments),E=this.__zoom,I=A==null?k(R):typeof A=="function"?A.apply(this,arguments):A;return n(Pn.translate(I[0],I[1]).scale(E.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof x=="function"?-x.apply(this,arguments):-x),R,o)},A,C)};function y(g,N){return N=Math.max(s[0],Math.min(s[1],N)),N===g.k?g:new kt(N,g.x,g.y)}function _(g,N,x){var A=N[0]-x[0]*g.k,C=N[1]-x[1]*g.k;return A===g.x&&C===g.y?g:new kt(g.k,A,C)}function k(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function b(g,N,x,A){g.on("start.zoom",function(){S(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(A).end()}).tween("zoom",function(){var C=this,R=arguments,E=S(C,R).event(A),I=e.apply(C,R),M=x==null?k(I):typeof x=="function"?x.apply(C,R):x,H=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),G=C.__zoom,U=typeof N=="function"?N.apply(C,R):N,Z=u(G.invert(M).concat(H/G.k),U.invert(M).concat(H/U.k));return function(V){if(V===1)V=U;else{var K=Z(V),ot=H/K[2];V=new kt(ot,M[0]-K[0]*ot,M[1]-K[1]*ot)}E.zoom(null,V)}})}function S(g,N,x){return!x&&g.__zooming||new P(g,N)}function P(g,N){this.that=g,this.args=N,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,N),this.taps=0}P.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,N){return this.mouse&&g!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var N=J(this.that).datum();a.call(g,this.that,new _c(g,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:a}),N)}};function z(g,...N){if(!t.apply(this,arguments))return;var x=S(this,N).event(g),A=this.__zoom,C=Math.max(s[0],Math.min(s[1],A.k*Math.pow(2,r.apply(this,arguments)))),R=wt(g);if(x.wheel)(x.mouse[0][0]!==R[0]||x.mouse[0][1]!==R[1])&&(x.mouse[1]=A.invert(x.mouse[0]=R)),clearTimeout(x.wheel);else{if(A.k===C)return;x.mouse=[R,A.invert(R)],qt(this),x.start()}Kt(g),x.wheel=setTimeout(E,w),x.zoom("mouse",n(_(y(A,C),x.mouse[0],x.mouse[1]),x.extent,o));function E(){x.wheel=null,x.end()}}function O(g,...N){if(c||!t.apply(this,arguments))return;var x=g.currentTarget,A=S(this,N,!0).event(g),C=J(g.view).on("mousemove.zoom",M,!0).on("mouseup.zoom",H,!0),R=wt(g,x),E=g.clientX,I=g.clientY;Yr(g.view),We(g),A.mouse=[R,this.__zoom.invert(R)],qt(this),A.start();function M(G){if(Kt(G),!A.moved){var U=G.clientX-E,Z=G.clientY-I;A.moved=U*U+Z*Z>v}A.event(G).zoom("mouse",n(_(A.that.__zoom,A.mouse[0]=wt(G,x),A.mouse[1]),A.extent,o))}function H(G){C.on("mousemove.zoom mouseup.zoom",null),Hr(G.view,A.moved),Kt(G),A.event(G).end()}}function D(g,...N){if(t.apply(this,arguments)){var x=this.__zoom,A=wt(g.changedTouches?g.changedTouches[0]:g,this),C=x.invert(A),R=x.k*(g.shiftKey?.5:2),E=n(_(y(x,R),A,C),e.apply(this,N),o);Kt(g),l>0?J(this).transition().duration(l).call(b,E,A,g):J(this).call(p.transform,E,A,g)}}function B(g,...N){if(t.apply(this,arguments)){var x=g.touches,A=x.length,C=S(this,N,g.changedTouches.length===A).event(g),R,E,I,M;for(We(g),E=0;E<A;++E)I=x[E],M=wt(I,this),M=[M,this.__zoom.invert(M),I.identifier],C.touch0?!C.touch1&&C.touch0[2]!==M[2]&&(C.touch1=M,C.taps=0):(C.touch0=M,R=!0,C.taps=1+!!h);h&&(h=clearTimeout(h)),R&&(C.taps<2&&(f=M[0],h=setTimeout(function(){h=null},d)),qt(this),C.start())}}function $(g,...N){if(this.__zooming){var x=S(this,N).event(g),A=g.changedTouches,C=A.length,R,E,I,M;for(Kt(g),R=0;R<C;++R)E=A[R],I=wt(E,this),x.touch0&&x.touch0[2]===E.identifier?x.touch0[0]=I:x.touch1&&x.touch1[2]===E.identifier&&(x.touch1[0]=I);if(E=x.that.__zoom,x.touch1){var H=x.touch0[0],G=x.touch0[1],U=x.touch1[0],Z=x.touch1[1],V=(V=U[0]-H[0])*V+(V=U[1]-H[1])*V,K=(K=Z[0]-G[0])*K+(K=Z[1]-G[1])*K;E=y(E,Math.sqrt(V/K)),I=[(H[0]+U[0])/2,(H[1]+U[1])/2],M=[(G[0]+Z[0])/2,(G[1]+Z[1])/2]}else if(x.touch0)I=x.touch0[0],M=x.touch0[1];else return;x.zoom("touch",n(_(E,I,M),x.extent,o))}}function j(g,...N){if(this.__zooming){var x=S(this,N).event(g),A=g.changedTouches,C=A.length,R,E;for(We(g),c&&clearTimeout(c),c=setTimeout(function(){c=null},d),R=0;R<C;++R)E=A[R],x.touch0&&x.touch0[2]===E.identifier?delete x.touch0:x.touch1&&x.touch1[2]===E.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(E=wt(E,this),Math.hypot(f[0]-E[0],f[1]-E[1])<m)){var I=J(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return p.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:ue(+g),p):r},p.filter=function(g){return arguments.length?(t=typeof g=="function"?g:ue(!!g),p):t},p.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:ue(!!g),p):i},p.extent=function(g){return arguments.length?(e=typeof g=="function"?g:ue([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),p):e},p.scaleExtent=function(g){return arguments.length?(s[0]=+g[0],s[1]=+g[1],p):[s[0],s[1]]},p.translateExtent=function(g){return arguments.length?(o[0][0]=+g[0][0],o[1][0]=+g[1][0],o[0][1]=+g[0][1],o[1][1]=+g[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(g){return arguments.length?(n=g,p):n},p.duration=function(g){return arguments.length?(l=+g,p):l},p.interpolate=function(g){return arguments.length?(u=g,p):u},p.on=function(){var g=a.on.apply(a,arguments);return g===a?p:g},p.clickDistance=function(g){return arguments.length?(v=(g=+g)*g,p):Math.sqrt(v)},p.tapDistance=function(g){return arguments.length?(m=+g,p):m},p}var fn=(t=>(t.LOWEST="100",t.LOW="500",t.MEDIUM="2500",t.HIGH="10000",t))(fn||{}),nt=(t=>(t.LOWER="LOWER",t.UPPER="UPPER",t))(nt||{});const Pc={100:{initialMin:.99,initialMax:1.01,min:1e-5,max:1.5},500:{initialMin:.8,initialMax:1.25,min:1e-5,max:1.5},2500:{initialMin:.5,initialMax:1.5,min:1e-5,max:20},1e4:{initialMin:.5,initialMax:1.5,min:1e-5,max:20}};var at=function(){return at=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},at.apply(this,arguments)};function Ae(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var W="-ms-",ee="-moz-",Y="-webkit-",ei="comm",$e="rule",Tn="decl",Tc="@import",ni="@keyframes",Rc="@layer",ri=Math.abs,Rn=String.fromCharCode,hn=Object.assign;function Nc(t,e){return et(t,0)^45?(((e<<2^et(t,0))<<2^et(t,1))<<2^et(t,2))<<2^et(t,3):0}function ii(t){return t.trim()}function xt(t,e){return(t=e.exec(t))?t[0]:t}function X(t,e,n){return t.replace(e,n)}function me(t,e,n){return t.indexOf(e,n)}function et(t,e){return t.charCodeAt(e)|0}function Lt(t,e,n){return t.slice(e,n)}function gt(t){return t.length}function si(t){return t.length}function te(t,e){return e.push(t),t}function Ec(t,e){return t.map(e).join("")}function Qn(t,e){return t.filter(function(n){return!xt(n,e)})}var ze=1,Xt=1,oi=0,ft=0,Q=0,Ht="";function Be(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ze,column:Xt,length:o,return:"",siblings:l}}function At(t,e){return hn(Be("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Dt(t){for(;t.root;)t=At(t.root,{children:[t]});te(t,t.siblings)}function Cc(){return Q}function Mc(){return Q=ft>0?et(Ht,--ft):0,Xt--,Q===10&&(Xt=1,ze--),Q}function dt(){return Q=ft<oi?et(Ht,ft++):0,Xt++,Q===10&&(Xt=1,ze++),Q}function Ct(){return et(Ht,ft)}function ye(){return ft}function De(t,e){return Lt(Ht,t,e)}function dn(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ic(t){return ze=Xt=1,oi=gt(Ht=t),ft=0,[]}function $c(t){return Ht="",t}function Ue(t){return ii(De(ft-1,pn(t===91?t+2:t===40?t+1:t)))}function zc(t){for(;(Q=Ct())&&Q<33;)dt();return dn(t)>2||dn(Q)>3?"":" "}function Bc(t,e){for(;--e&&dt()&&!(Q<48||Q>102||Q>57&&Q<65||Q>70&&Q<97););return De(t,ye()+(e<6&&Ct()==32&&dt()==32))}function pn(t){for(;dt();)switch(Q){case t:return ft;case 34:case 39:t!==34&&t!==39&&pn(Q);break;case 40:t===41&&pn(t);break;case 92:dt();break}return ft}function Dc(t,e){for(;dt()&&t+Q!==57;)if(t+Q===84&&Ct()===47)break;return"/*"+De(e,ft-1)+"*"+Rn(t===47?t:dt())}function Oc(t){for(;!dn(Ct());)dt();return De(t,ft)}function qc(t){return $c(ve("",null,null,null,[""],t=Ic(t),0,[0],t))}function ve(t,e,n,r,i,s,o,l,u){for(var a=0,h=0,f=o,c=0,d=0,w=0,v=1,m=1,p=1,y=0,_="",k=i,b=s,S=r,P=_;m;)switch(w=y,y=dt()){case 40:if(w!=108&&et(P,f-1)==58){me(P+=X(Ue(y),"&","&\f"),"&\f",ri(a?l[a-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:P+=Ue(y);break;case 9:case 10:case 13:case 32:P+=zc(w);break;case 92:P+=Bc(ye()-1,7);continue;case 47:switch(Ct()){case 42:case 47:te(Fc(Dc(dt(),ye()),e,n,u),u);break;default:P+="/"}break;case 123*v:l[a++]=gt(P)*p;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+h:p==-1&&(P=X(P,/\f/g,"")),d>0&&gt(P)-f&&te(d>32?er(P+";",r,n,f-1,u):er(X(P," ","")+";",r,n,f-2,u),u);break;case 59:P+=";";default:if(te(S=tr(P,e,n,a,h,i,l,_,k=[],b=[],f,s),s),y===123)if(h===0)ve(P,e,S,S,k,s,f,l,b);else switch(c===99&&et(P,3)===110?100:c){case 100:case 108:case 109:case 115:ve(t,S,S,r&&te(tr(t,S,S,0,0,i,l,_,i,k=[],f,b),b),i,b,f,l,r?k:b);break;default:ve(P,S,S,S,[""],b,0,l,b)}}a=h=d=0,v=p=1,_=P="",f=o;break;case 58:f=1+gt(P),d=w;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&Mc()==125)continue}switch(P+=Rn(y),y*v){case 38:p=h>0?1:(P+="\f",-1);break;case 44:l[a++]=(gt(P)-1)*p,p=1;break;case 64:Ct()===45&&(P+=Ue(dt())),c=Ct(),h=f=gt(_=P+=Oc(ye())),y++;break;case 45:w===45&&gt(P)==2&&(v=0)}}return s}function tr(t,e,n,r,i,s,o,l,u,a,h,f){for(var c=i-1,d=i===0?s:[""],w=si(d),v=0,m=0,p=0;v<r;++v)for(var y=0,_=Lt(t,c+1,c=ri(m=o[v])),k=t;y<w;++y)(k=ii(m>0?d[y]+" "+_:X(_,/&\f/g,d[y])))&&(u[p++]=k);return Be(t,e,n,i===0?$e:l,u,a,h,f)}function Fc(t,e,n,r){return Be(t,e,n,ei,Rn(Cc()),Lt(t,2,-2),0,r)}function er(t,e,n,r,i){return Be(t,e,n,Tn,Lt(t,0,r),Lt(t,r+1,-1),r,i)}function ai(t,e,n){switch(Nc(t,e)){case 5103:return Y+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Y+t+t;case 4789:return ee+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Y+t+ee+t+W+t+t;case 5936:switch(et(t,e+11)){case 114:return Y+t+W+X(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Y+t+W+X(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Y+t+W+X(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Y+t+W+t+t;case 6165:return Y+t+W+"flex-"+t+t;case 5187:return Y+t+X(t,/(\w+).+(:[^]+)/,Y+"box-$1$2"+W+"flex-$1$2")+t;case 5443:return Y+t+W+"flex-item-"+X(t,/flex-|-self/g,"")+(xt(t,/flex-|baseline/)?"":W+"grid-row-"+X(t,/flex-|-self/g,""))+t;case 4675:return Y+t+W+"flex-line-pack"+X(t,/align-content|flex-|-self/g,"")+t;case 5548:return Y+t+W+X(t,"shrink","negative")+t;case 5292:return Y+t+W+X(t,"basis","preferred-size")+t;case 6060:return Y+"box-"+X(t,"-grow","")+Y+t+W+X(t,"grow","positive")+t;case 4554:return Y+X(t,/([^-])(transform)/g,"$1"+Y+"$2")+t;case 6187:return X(X(X(t,/(zoom-|grab)/,Y+"$1"),/(image-set)/,Y+"$1"),t,"")+t;case 5495:case 3959:return X(t,/(image-set\([^]*)/,Y+"$1$`$1");case 4968:return X(X(t,/(.+:)(flex-)?(.*)/,Y+"box-pack:$3"+W+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Y+t+t;case 4200:if(!xt(t,/flex-|baseline/))return W+"grid-column-align"+Lt(t,e)+t;break;case 2592:case 3360:return W+X(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,xt(r.props,/grid-\w+-end/)})?~me(t+(n=n[e].value),"span",0)?t:W+X(t,"-start","")+t+W+"grid-row-span:"+(~me(n,"span",0)?xt(n,/\d+/):+xt(n,/\d+/)-+xt(t,/\d+/))+";":W+X(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return xt(r.props,/grid-\w+-start/)})?t:W+X(X(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return X(t,/(.+)-inline(.+)/,Y+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gt(t)-1-e>6)switch(et(t,e+1)){case 109:if(et(t,e+4)!==45)break;case 102:return X(t,/(.+:)(.+)-([^]+)/,"$1"+Y+"$2-$3$1"+ee+(et(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~me(t,"stretch",0)?ai(X(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return X(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,u,a){return W+i+":"+s+a+(o?W+i+"-span:"+(l?u:+u-+s)+a:"")+t});case 4949:if(et(t,e+6)===121)return X(t,":",":"+Y)+t;break;case 6444:switch(et(t,et(t,14)===45?18:11)){case 120:return X(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Y+(et(t,14)===45?"inline-":"")+"box$3$1"+Y+"$2$3$1"+W+"$2box$3")+t;case 100:return X(t,":",":"+W)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return X(t,"scroll-","scroll-snap-")+t}return t}function Pe(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function jc(t,e,n,r){switch(t.type){case Rc:if(t.children.length)break;case Tc:case Tn:return t.return=t.return||t.value;case ei:return"";case ni:return t.return=t.value+"{"+Pe(t.children,r)+"}";case $e:if(!gt(t.value=t.props.join(",")))return""}return gt(n=Pe(t.children,r))?t.return=t.value+"{"+n+"}":""}function Lc(t){var e=si(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function Xc(t){return function(e){e.root||(e=e.return)&&t(e)}}function Vc(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Tn:t.return=ai(t.value,t.length,n);return;case ni:return Pe([At(t,{value:X(t.value,"@","@"+Y)})],r);case $e:if(t.length)return Ec(n=t.props,function(i){switch(xt(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Dt(At(t,{props:[X(i,/:(read-\w+)/,":"+ee+"$1")]})),Dt(At(t,{props:[i]})),hn(t,{props:Qn(n,r)});break;case"::placeholder":Dt(At(t,{props:[X(i,/:(plac\w+)/,":"+Y+"input-$1")]})),Dt(At(t,{props:[X(i,/:(plac\w+)/,":"+ee+"$1")]})),Dt(At(t,{props:[X(i,/:(plac\w+)/,W+"input-$1")]})),Dt(At(t,{props:[i]})),hn(t,{props:Qn(n,r)});break}return""})}}var Gc={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ut={},Vt=typeof tn<"u"&&ut!==void 0&&(ut.REACT_APP_SC_ATTR||ut.SC_ATTR)||"data-styled",ci="active",ui="data-styled-version",Oe="6.1.17",Nn=`/*!sc*/
`,Te=typeof window<"u"&&"HTMLElement"in window,Yc=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof tn<"u"&&ut!==void 0&&ut.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ut.REACT_APP_SC_DISABLE_SPEEDY!==""?ut.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ut.REACT_APP_SC_DISABLE_SPEEDY:typeof tn<"u"&&ut!==void 0&&ut.SC_DISABLE_SPEEDY!==void 0&&ut.SC_DISABLE_SPEEDY!==""&&ut.SC_DISABLE_SPEEDY!=="false"&&ut.SC_DISABLE_SPEEDY),qe=Object.freeze([]),Gt=Object.freeze({});function Hc(t,e,n){return n===void 0&&(n=Gt),t.theme!==n.theme&&t.theme||e||n.theme}var li=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Wc=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Uc=/(^-|-$)/g;function nr(t){return t.replace(Wc,"-").replace(Uc,"")}var Kc=/(a)(d)/gi,le=52,rr=function(t){return String.fromCharCode(t+(t>25?39:97))};function gn(t){var e,n="";for(e=Math.abs(t);e>le;e=e/le|0)n=rr(e%le)+n;return(rr(e%le)+n).replace(Kc,"$1-$2")}var Ke,fi=5381,Ot=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},hi=function(t){return Ot(fi,t)};function Zc(t){return gn(hi(t)>>>0)}function Jc(t){return t.displayName||t.name||"Component"}function Ze(t){return typeof t=="string"&&!0}var di=typeof Symbol=="function"&&Symbol.for,pi=di?Symbol.for("react.memo"):60115,Qc=di?Symbol.for("react.forward_ref"):60112,tu={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eu={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gi={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nu=((Ke={})[Qc]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ke[pi]=gi,Ke);function ir(t){return("type"in(e=t)&&e.type.$$typeof)===pi?gi:"$$typeof"in t?nu[t.$$typeof]:tu;var e}var ru=Object.defineProperty,iu=Object.getOwnPropertyNames,sr=Object.getOwnPropertySymbols,su=Object.getOwnPropertyDescriptor,ou=Object.getPrototypeOf,or=Object.prototype;function mi(t,e,n){if(typeof e!="string"){if(or){var r=ou(e);r&&r!==or&&mi(t,r,n)}var i=iu(e);sr&&(i=i.concat(sr(e)));for(var s=ir(t),o=ir(e),l=0;l<i.length;++l){var u=i[l];if(!(u in eu||n&&n[u]||o&&u in o||s&&u in s)){var a=su(e,u);try{ru(t,u,a)}catch{}}}}return t}function Yt(t){return typeof t=="function"}function En(t){return typeof t=="object"&&"styledComponentId"in t}function Et(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function ar(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function se(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function mn(t,e,n){if(n===void 0&&(n=!1),!n&&!se(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=mn(t[r],e[r]);else if(se(e))for(var r in e)t[r]=mn(t[r],e[r]);return t}function Cn(t,e){Object.defineProperty(t,"toString",{value:e})}function ae(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var au=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ae(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Nn);return n},t}(),_e=new Map,Re=new Map,we=1,fe=function(t){if(_e.has(t))return _e.get(t);for(;Re.has(we);)we++;var e=we++;return _e.set(t,e),Re.set(e,t),e},cu=function(t,e){we=e+1,_e.set(t,e),Re.set(e,t)},uu="style[".concat(Vt,"][").concat(ui,'="').concat(Oe,'"]'),lu=new RegExp("^".concat(Vt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),fu=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},hu=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Nn),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var u=l.match(lu);if(u){var a=0|parseInt(u[1],10),h=u[2];a!==0&&(cu(h,a),fu(t,h,u[3]),t.getTag().insertRules(a,i)),i.length=0}else i.push(l)}}},cr=function(t){for(var e=document.querySelectorAll(uu),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Vt)!==ci&&(hu(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function du(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var yi=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(Vt,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Vt,ci),r.setAttribute(ui,Oe);var o=du();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},pu=function(){function t(e){this.element=yi(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ae(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),gu=function(){function t(e){this.element=yi(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),mu=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),ur=Te,yu={isServer:!Te,useCSSOMInjection:!Yc},vi=function(){function t(e,n,r){e===void 0&&(e=Gt),n===void 0&&(n={});var i=this;this.options=at(at({},yu),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Te&&ur&&(ur=!1,cr(this)),Cn(this,function(){return function(s){for(var o=s.getTag(),l=o.length,u="",a=function(f){var c=function(p){return Re.get(p)}(f);if(c===void 0)return"continue";var d=s.names.get(c),w=o.getGroup(f);if(d===void 0||!d.size||w.length===0)return"continue";var v="".concat(Vt,".g").concat(f,'[id="').concat(c,'"]'),m="";d!==void 0&&d.forEach(function(p){p.length>0&&(m+="".concat(p,","))}),u+="".concat(w).concat(v,'{content:"').concat(m,'"}').concat(Nn)},h=0;h<l;h++)a(h);return u}(i)})}return t.registerId=function(e){return fe(e)},t.prototype.rehydrate=function(){!this.server&&Te&&cr(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(at(at({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new mu(i):r?new pu(i):new gu(i)}(this.options),new au(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(fe(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(fe(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(fe(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),vu=/&/g,_u=/^\s*\/\/.*$/gm;function _i(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=_i(n.children,e)),n})}function wu(t){var e,n,r,i=Gt,s=i.options,o=s===void 0?Gt:s,l=i.plugins,u=l===void 0?qe:l,a=function(c,d,w){return w.startsWith(n)&&w.endsWith(n)&&w.replaceAll(n,"").length>0?".".concat(e):c},h=u.slice();h.push(function(c){c.type===$e&&c.value.includes("&")&&(c.props[0]=c.props[0].replace(vu,n).replace(r,a))}),o.prefix&&h.push(Vc),h.push(jc);var f=function(c,d,w,v){d===void 0&&(d=""),w===void 0&&(w=""),v===void 0&&(v="&"),e=v,n=d,r=new RegExp("\\".concat(n,"\\b"),"g");var m=c.replace(_u,""),p=qc(w||d?"".concat(w," ").concat(d," { ").concat(m," }"):m);o.namespace&&(p=_i(p,o.namespace));var y=[];return Pe(p,Lc(h.concat(Xc(function(_){return y.push(_)})))),y};return f.hash=u.length?u.reduce(function(c,d){return d.name||ae(15),Ot(c,d.name)},fi).toString():"",f}var xu=new vi,yn=wu(),wi=re.createContext({shouldForwardProp:void 0,styleSheet:xu,stylis:yn});wi.Consumer;re.createContext(void 0);function lr(){return q.useContext(wi)}var ku=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=yn);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Cn(this,function(){throw ae(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=yn),this.name+e.hash},t}(),bu=function(t){return t>="A"&&t<="Z"};function fr(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;bu(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var xi=function(t){return t==null||t===!1||t===""},ki=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!xi(s)&&(Array.isArray(s)&&s.isCss||Yt(s)?r.push("".concat(fr(i),":"),s,";"):se(s)?r.push.apply(r,Ae(Ae(["".concat(i," {")],ki(s),!1),["}"],!1)):r.push("".concat(fr(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Gc||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Mt(t,e,n,r){if(xi(t))return[];if(En(t))return[".".concat(t.styledComponentId)];if(Yt(t)){if(!Yt(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Mt(i,e,n,r)}var s;return t instanceof ku?n?(t.inject(n,r),[t.getName(r)]):[t]:se(t)?ki(t):Array.isArray(t)?Array.prototype.concat.apply(qe,t.map(function(o){return Mt(o,e,n,r)})):[t.toString()]}function Su(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Yt(n)&&!En(n))return!1}return!0}var Au=hi(Oe),Pu=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Su(e),this.componentId=n,this.baseHash=Ot(Au,n),this.baseStyle=r,vi.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Et(i,this.staticRulesId);else{var s=ar(Mt(this.rules,e,n,r)),o=gn(Ot(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=Et(i,o),this.staticRulesId=o}else{for(var u=Ot(this.baseHash,r.hash),a="",h=0;h<this.rules.length;h++){var f=this.rules[h];if(typeof f=="string")a+=f;else if(f){var c=ar(Mt(f,e,n,r));u=Ot(u,c+h),a+=c}}if(a){var d=gn(u>>>0);n.hasNameForId(this.componentId,d)||n.insertRules(this.componentId,d,r(a,".".concat(d),void 0,this.componentId)),i=Et(i,d)}}return i},t}(),bi=re.createContext(void 0);bi.Consumer;var Je={};function Tu(t,e,n){var r=En(t),i=t,s=!Ze(t),o=e.attrs,l=o===void 0?qe:o,u=e.componentId,a=u===void 0?function(k,b){var S=typeof k!="string"?"sc":nr(k);Je[S]=(Je[S]||0)+1;var P="".concat(S,"-").concat(Zc(Oe+S+Je[S]));return b?"".concat(b,"-").concat(P):P}(e.displayName,e.parentComponentId):u,h=e.displayName,f=h===void 0?function(k){return Ze(k)?"styled.".concat(k):"Styled(".concat(Jc(k),")")}(t):h,c=e.displayName&&e.componentId?"".concat(nr(e.displayName),"-").concat(e.componentId):e.componentId||a,d=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,w=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var m=e.shouldForwardProp;w=function(k,b){return v(k,b)&&m(k,b)}}else w=v}var p=new Pu(n,c,r?i.componentStyle:void 0);function y(k,b){return function(S,P,z){var O=S.attrs,D=S.componentStyle,B=S.defaultProps,$=S.foldedComponentIds,j=S.styledComponentId,g=S.target,N=re.useContext(bi),x=lr(),A=S.shouldForwardProp||x.shouldForwardProp,C=Hc(P,N,B)||Gt,R=function(U,Z,V){for(var K,ot=at(at({},Z),{className:void 0,theme:V}),yt=0;yt<U.length;yt+=1){var Pt=Yt(K=U[yt])?K(ot):K;for(var ht in Pt)ot[ht]=ht==="className"?Et(ot[ht],Pt[ht]):ht==="style"?at(at({},ot[ht]),Pt[ht]):Pt[ht]}return Z.className&&(ot.className=Et(ot.className,Z.className)),ot}(O,P,C),E=R.as||g,I={};for(var M in R)R[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&R.theme===C||(M==="forwardedAs"?I.as=R.forwardedAs:A&&!A(M,E)||(I[M]=R[M]));var H=function(U,Z){var V=lr(),K=U.generateAndInjectStyles(Z,V.styleSheet,V.stylis);return K}(D,R),G=Et($,j);return H&&(G+=" "+H),R.className&&(G+=" "+R.className),I[Ze(E)&&!li.has(E)?"class":"className"]=G,z&&(I.ref=z),q.createElement(E,I)}(_,k,b)}y.displayName=f;var _=re.forwardRef(y);return _.attrs=d,_.componentStyle=p,_.displayName=f,_.shouldForwardProp=w,_.foldedComponentIds=r?Et(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=c,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(b){for(var S=[],P=1;P<arguments.length;P++)S[P-1]=arguments[P];for(var z=0,O=S;z<O.length;z++)mn(b,O[z],!0);return b}({},i.defaultProps,k):k}}),Cn(_,function(){return".".concat(_.styledComponentId)}),s&&mi(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function hr(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var dr=function(t){return Object.assign(t,{isCss:!0})};function Ru(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yt(t)||se(t))return dr(Mt(hr(qe,Ae([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Mt(r):dr(Mt(hr(r,e)))}function vn(t,e,n){if(n===void 0&&(n=Gt),!e)throw ae(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Ru.apply(void 0,Ae([i],s,!1)))};return r.attrs=function(i){return vn(t,e,at(at({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return vn(t,e,at(at({},n),i))},r}var Si=function(t){return vn(Tu,t)},ct=Si;li.forEach(function(t){ct[t]=Si(t)});const Nu=ct.path`
  opacity: ${({opacity:t})=>t||1}};
  stroke: ${({fill:t,theme:e})=>t??e.colors.failure};
  fill: ${({fill:t,theme:e})=>t??e.colors.failure};
`,Eu=({series:t,xScale:e,yScale:n,xValue:r,yValue:i,fill:s,opacity:o})=>{const l=q.useMemo(()=>{var _,k,b,S,P,z,O,D;const u=e.domain(),a=n.domain(),h=Number(((_=t==null?void 0:t[0])==null?void 0:_.price)||0)===Number(((k=t==null?void 0:t[1])==null?void 0:k.price)||0),f=Number(((b=t==null?void 0:t[h?1:0])==null?void 0:b.price)||0)>Number(((S=t==null?void 0:t[h?2:1])==null?void 0:S.price)||0),c=[...t];(c==null?void 0:c.length)>1&&(c[t.length-1]={...c[t.length-1],depth:c[t.length-2].depth});const d=F(u[1]).add(F(u[1]).sub(u[0]).div(100)).toNumber(),w=c.findIndex(({price:B})=>f?Number(B)<=d:Number(B)>=d),v=F(u[1]).sub(u[0]).div(100);f?w>=0&&((P=c[w-1])!=null&&P.depth)&&c.splice(w,0,{...c[w-1],price:F(u[1]).add(v).toNumber()}):w>=0&&((z=c[w])!=null&&z.depth)&&c.splice(w,0,{...c[w],price:d});const m=F(u[0]).add(F(u[1]).sub(u[0]).div(100)).toNumber(),p=c.findIndex(({price:B})=>f?Number(B)<=m:Number(B)>=m);f?p>=0&&((O=c[p])!=null&&O.depth)&&c.splice(p,0,{...c[p],price:m>0?m:0}):(p-1>=0&&((D=c[p-1])!=null&&D.depth)&&c.splice(p,0,{...c[p-1],price:m>0?m:0}),p===w&&c.splice(p+1,0,{...c[p+1],price:m>0?F(m).add(F(m).div(1e6)).toNumber():0}));const y=isNaN(a[1])?en().domain([0,Math.max(...c.map(B=>B.depth))]).range([200,0]):n;return ji().curve(Li).x(B=>e(r(B))).y1(B=>y(i(B))).y0(y(0))(c.filter(B=>{const $=e(r(B));return y(i(B)),$>=0&&$<=window.innerWidth}))??void 0},[s,t,e,r,n,i]);return q.useMemo(()=>T.jsx(Nu,{fill:s,d:l,opacity:o}),[l])},Cu=ct.g`
  line {
    display: none;
  }
  text {
    transform: translateY(5px);
    font-family: 'Inter';
  }
`,Mu=({axisGenerator:t,isPosition:e})=>{const{colorMode:n}=Ti(),r=i=>{e?i&&J(i).call(t).call(s=>s.selectAll(".tick").remove()).call(s=>s.select(".domain").attr("d","M0 0 L658 0 Z").attr("stroke","#2A3238")):i&&J(i).call(t).call(s=>s.select(".domain").attr("d","M0 0 L658 0 Z").attr("stroke","#2A3238"))};return T.jsx("g",{ref:r,style:{color:n=="light"?"#000":"#fff",opacity:(n=="light","0.5")}})},Iu=({xScale:t,innerHeight:e,offset:n=0,isPosition:r=!1})=>q.useMemo(()=>T.jsx(Cu,{transform:`translate(0, ${e+n})`,children:T.jsx(Mu,{axisGenerator:ps(t).ticks(5),isPosition:r})}),[e,n,t]),pr=t=>["M 0 0",`v ${t}`,"m 1 0","V 0","M 0 1","h 10","q 2 0, 2 2","v 22","q 0 2 -2 2","h -10","z"].join(" "),gr=()=>["m 4 8","v 12","M 0 0","m 8 8","v 12","z"].join(" "),mr=({color:t,size:e=10,margin:n=10})=>T.jsx("polygon",{points:`0 0, ${e} ${e}, 0 ${e}`,transform:` translate(${e+n}, ${n}) rotate(45) `,fill:t,stroke:t,strokeWidth:"4",strokeLinejoin:"round"}),ne={colors:{background:"var(--chakra-colors-card_bg)",secondary:"#30D4B7",leftHandle:"#30D4B7",rightHandle:"#6297EA"}},yr=ct.path`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 3;
  stroke: ${({color:t})=>t};
  fill: ${({color:t})=>t};
`,vr=ct.path`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 1.5;
  stroke: #fff;
  opacity: ${ne.colors.background};
  fill: ${ne.colors.background};
`,_r=ct.g`
  opacity: ${({visible:t})=>t?"1":"0"};
  transition: opacity 300ms;
`,wr=ct.rect`
  fill: #192128;
`,xr=ct.rect`
  fill: #192128;
`,kr=ct.rect`
  fill: #192128;
`,br=ct.text`
  text-anchor: middle;
  font-size: 13px;
  fill: #fff;
`,Sr=20,Ar=2,Pr=(t,e,n)=>{const r=t.map(s=>n(s).toFixed(11)),i=e.map(s=>n(s).toFixed(11));return r.every((s,o)=>s===i[o])},$u=({id:t,xScale:e,interactive:n,brushLabelValue:r,brushExtent:i,setBrushExtent:s,innerWidth:o,innerHeight:l,westHandleColor:u,eastHandleColor:a,readonly:h,isSorted:f,isFullRange:c})=>{const d=q.useRef(null),w=q.useRef(null),[v,m]=q.useState(i),[p,y]=q.useState(!1),[_,k]=q.useState(!1),b=Yi(i),S=q.useCallback(g=>{const{type:N,mode:x}=g;if(!(g!=null&&g.selection)){m(null);return}const C=g.selection.map(Math.round).map(e.invert);C.join("").includes("NaN")||i.join("").includes("NaN")||(N==="end"&&!Pr(i,C,e)&&s(C,x),m(C))},[e,i,s]);q.useEffect(()=>{m(i)},[i]),q.useEffect(()=>{d.current&&(w.current=yc().extent([[Math.max(0+Ar,e(0)),0],[o-Ar,l]]).handleSize(30).filter(()=>n).on("brush end",S),w.current(J(d.current)),b&&Pr(i,b,e)&&J(d.current).transition().call(w.current.move,i.map(e)),J(d.current).selectAll(".selection").attr("stroke","none").attr("fill","rgba(118, 200, 255, 0.4)"))},[i,S,t,l,o,n,b,e]),q.useEffect(()=>{!d.current||!w.current||w.current.move(J(d.current),i.map(e))},[i,e]),q.useEffect(()=>{y(!0);const g=setTimeout(()=>y(!1),1500);return()=>clearTimeout(g)},[v]);const P=v&&e(v[0])>Sr,z=v&&e(v[1])>o-Sr,O=v&&(e(v[0])<0||e(v[1])<0),D=v&&(e(v[0])>o||e(v[1])>o),B=v&&e(v[0])>=0&&e(v[0])<=o,$=v&&e(v[1])>=0&&e(v[1])<=o,{isApp:j}=Ne();return q.useMemo(()=>T.jsxs(T.Fragment,{children:[T.jsxs("defs",{children:[T.jsxs("linearGradient",{id:`${t}-gradient-selection`,x1:"0%",y1:"100%",x2:"100%",y2:"100%",children:[T.jsx("stop",{stopColor:u}),T.jsx("stop",{stopColor:a,offset:"1"})]}),T.jsx("clipPath",{id:`${t}-brush-clip`,children:T.jsx("rect",{x:"0",y:"0",width:o,height:l})})]}),T.jsx("g",{ref:d,clipPath:`url(#${t}-brush-clip)`,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1)}),v&&T.jsxs(T.Fragment,{children:[!h&&B?T.jsxs("g",{transform:`translate(${Math.max(0,e(v[0]))}, 0), scale(${P?"-1":"1"}, 1)`,children:[T.jsxs("g",{children:[T.jsx(yr,{color:ne.colors.leftHandle,d:pr(l)}),T.jsx(vr,{d:gr()})]}),T.jsxs(_r,{transform:`translate(${j?"10 35":"50,0"}), scale(${P?"1":"-1"}, 1)`,visible:p||_,children:[T.jsx(wr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),f?T.jsx(xr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}):T.jsx(kr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),T.jsx(br,{transform:"scale(-1, 1)",y:"15",dominantBaseline:"middle",children:c?"0":r("w",v[0])})]})]}):null,!h&&$?T.jsxs("g",{transform:`translate(${e(v[1])}, 0), scale(${z?"-1":"1"}, 1)`,children:[T.jsxs("g",{children:[T.jsx(yr,{color:ne.colors.rightHandle,d:pr(l)}),T.jsx(vr,{d:gr()})]}),T.jsxs(_r,{transform:`translate(${j?"10 35":"50,0"}), scale(${z?"-1":"1"}, 1)`,visible:p||_,children:[T.jsx(wr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),f?T.jsx(kr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}):T.jsx(xr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),T.jsx(br,{y:"15",dominantBaseline:"middle",children:c?"âˆž":r("e",v[1])})]})]}):null,O&&T.jsx(mr,{color:u}),D&&T.jsx("g",{transform:`translate(${o}, 0) scale(-1, 1)`,children:T.jsx(mr,{color:a})})]})]}),[r,a,$,z,P,_,t,ne,l,o,v,D,p,O,u,B,e,j])},zu=ct.line`
  opacity: 0.7;
  stroke-width: 1;
  stroke: var(--chakra-colors-text_caption);
  fill: none;
`,Bu=({value:t,xScale:e,innerHeight:n})=>q.useMemo(()=>T.jsx(zu,{x1:e(t),y1:"0",x2:e(t),y2:n,strokeDasharray:"4,3"}),[t,e,n]);ct.line`
  opacity: 1;
  stroke-width: 2;
  stroke: #fff;
  fill: none;
`;const Du=({value:t,xScale:e,innerHeight:n})=>q.useMemo(()=>T.jsxs("g",{children:[T.jsx("circle",{cx:e(Number(t)),cy:"4",fill:"#fff",r:"4"}),T.jsx("line",{x1:e(Number(t)),y1:"0",x2:e(t),y2:n,stroke:"#fff",strokeWidth:2})]}),[t,e,n]);ct.div`
  display: grid;
  grid-template-columns: repeat(${({count:t})=>t.toString()}, 1fr);
  grid-gap: 6px;

  position: absolute;
  top: -18px;
  right: 0;
`;const Ou=ct.rect`
  fill: transparent;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }
`;function qu({svg:t,xScale:e,setZoom:n,width:r,height:i,resetBrush:s,showResetButton:o,zoomLevels:l,isPosition:u,handleClickRefresh:a,currentRange:h}){const f=q.useRef(),[c,d,w,v]=q.useMemo(()=>[()=>{t&&f.current&&J(t).transition().call(f.current.scaleBy,2)},()=>t&&f.current&&J(t).transition().call(f.current.scaleBy,.5),()=>t&&f.current&&J(t).transition().call(f.current.scaleTo,1),()=>t&&f.current&&J(t).call(f.current.transform,Pn.translate(0,0).scale(1)).transition().call(f.current.scaleTo,1)],[t]),m=$i(n,300);return Ne(),q.useEffect(()=>{t&&(f.current=Ac().scaleExtent([0,1/0]).extent([[0,0],[r,i]]).on("zoom",({transform:p})=>{m(p)}),J(t).call(f.current))},[i,r,n,t,f,l.max,l.min]),q.useEffect(()=>{w()},[w,l]),q.useEffect(()=>{v()},[h]),T.jsx(Qe,{w:"100%",p:"0px",align:"center",sx:{"@media screen and (max-width: 960px)":{flexDirection:"column",w:"100%",alignItems:u?"flex-start":"flex-end"}},children:T.jsxs(Ri,{w:"100%",justify:{base:"flex-start",lg:"flex-end"},flex:"1",position:"absolute",right:"0px",top:{base:"-70px",lg:"-30px"},flexDir:{base:"row-reverse",lg:"row"},children:[T.jsx(Bn,{type:"Add",onClick:()=>{console.log("start zoom in"),c()}}),T.jsx(Bn,{type:"Sub",onClick:d})]})})}const Fu=t=>t.price,Tr=t=>t.depth;function ju({id:t="liquidityChartRangeInput",data:{series:e,current:n},ticksAtLimit:r,styles:i,dimensions:{width:s,height:o},margins:l,interactive:u=!0,brushDomain:a,brushLabels:h,onBrushDomainChange:f,handleClickRefresh:c,zoomLevels:d,showZoomButtons:w=!0,isPosition:v=!1,hideBrush:m=!1,isReverse:p=!1,isSorted:y=!0,readonly:_=!1,dashedMarkerLine:k=[],currentRange:b="",constantPrice:S}){const P=q.useRef(null),[z,O]=q.useState(null),[D,B]=q.useMemo(()=>[o-l.top-l.bottom,s-l.left-l.right],[s,o,l]),{xScale:$,yScale:j}=q.useMemo(()=>{let A=[S*d.initialMin,S*d.initialMax];if(a&&String(a==null?void 0:a[0])!=="âˆž"&&String(a==null?void 0:a[1])!=="âˆž")if((a==null?void 0:a[0])===(a==null?void 0:a[1]))A=[Number(a==null?void 0:a[0])-(a==null?void 0:a[0])*.01,Number(a==null?void 0:a[0])+(a==null?void 0:a[0])*.01];else{const R=Gi(a);v?F(S).lt(a[0])?A=[F(S).minus(R).toNumber(),F(a[1]).plus(R).toNumber()]:F(S).gt(a[1])?A=[F(a[0]).minus(R).toNumber(),F(S).plus(F(R).mul(1.5)).toNumber()]:A=[F(a[0]).minus(R).toNumber(),F(a[1]).plus(R).toNumber()]:A=[F(a[0]).minus(R).toNumber(),F(a[1]).plus(R).toNumber()]}else Number(S)-S*2>0?A=[Math.max(F(0).add(F(S).div(10)).toNumber(),F(S).minus(F(S).mul(2)).toNumber()),F(S).add(F(S).mul(2)).toNumber()]:A=[0,F(S).mul(2).toNumber()];const C={xScale:en().domain(A).range([0,B]),yScale:en().domain([0,Xi(e,Tr)]).range([D,0])};if(z){const R=z.rescaleX(C.xScale);C.xScale.domain(R.domain())}return C},[S,d.initialMin,d.initialMax,B,e,D,z,a]);q.useEffect(()=>{O(null)},[d,b]),q.useEffect(()=>{a||f($.domain(),void 0)},[a,f,$]);const[g,N]=q.useState(void 0);return q.useEffect(()=>{N(P.current)},[P.current]),T.jsxs(_n,{w:"100%",h:"100%",sx:{"@media screen and (max-width: 1000px)":{display:"block"}},children:[g&&T.jsx(qu,{svg:g,xScale:$,setZoom:O,width:B,height:o,resetBrush:()=>{f([S*d.initialMin,S*d.initialMax],"reset")},showResetButton:!!(r[nt.LOWER]||r[nt.UPPER]),zoomLevels:d,isPosition:v,currentRange:b,handleClickRefresh:c}),T.jsxs("svg",{width:"100%",height:"245px",style:{overflow:"visible"},children:[T.jsxs("defs",{children:[T.jsxs("linearGradient",{id:"green-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1}),T.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1})]}),T.jsxs("linearGradient",{id:"red-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1}),T.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1})]})]}),T.jsxs("defs",{children:[T.jsx("clipPath",{id:`${t}-chart-clip`,children:T.jsx("rect",{x:"0",y:"0",width:B,height:o})}),a&&T.jsx("mask",{id:`${t}-chart-area-mask`,children:T.jsx("rect",{fill:"red",x:$(a[0]),y:"0",width:$(a[1])-$(a[0]),height:D})})]}),T.jsxs("g",{transform:`translate(${l.left},${l.top})`,children:[T.jsxs("g",{clipPath:`url(#${t}-chart-clip)`,children:[T.jsx(Eu,{series:e,xScale:$,yScale:j,xValue:Fu,yValue:Tr,opacity:1,fill:"#195780"}),T.jsx(Du,{value:n,xScale:$,innerHeight:D}),k==null?void 0:k.map((x,A)=>T.jsx(Bu,{value:Number(Zt(x)),xScale:$,innerHeight:D},x+A)),T.jsx(Iu,{xScale:$,innerHeight:D,isPosition:v})]}),T.jsx(Ou,{className:"zoom-overlay",width:B,height:o,ref:P}),T.jsx($u,{id:t,xScale:$,interactive:u,brushLabelValue:h,brushExtent:a??$.domain(),innerWidth:B,innerHeight:D,setBrushExtent:f,westHandleColor:i.brush.handle.west,eastHandleColor:i.brush.handle.east,readonly:_,isSorted:y,isFullRange:!a})]})]})]})}const Lu="/assets/no_chart_data@2x-DOXoFnuQ.png",Xu=q.forwardRef(function({isFrom:e,isSorted:n,contractPoolInfo:r,currencyA:i,currencyB:s,feeAmount:o,ticksAtLimit:l,price:u,priceLower:a,priceUpper:h,onLeftRangeInput:f,onRightRangeInput:c,onBothRangeInput:d,handleClickRefresh:w,interactive:v,readonly:m,zoomLevel:p,isPosition:y,hideBrush:_,isReverse:k,dashedMarkerLine:b,currentRange:S},P){var E;const{formatPriceData:z,ticksPool:O,formatPriceDataIsLoading:D}=wn(),B=q.useMemo(()=>!(z&&!D),[z]),$=q.useMemo(()=>{let I;return n?I=z:I=z==null?void 0:z.map(M=>{var H;return{...M,price:(H=F(1).div(M==null?void 0:M.price))==null?void 0:H.toString()}}),I},[n,z]),j=q.useMemo(()=>n?O==null?void 0:O.price:O==null?void 0:O.reversePrice,[O==null?void 0:O.id,n]),g=q.useCallback((I,M)=>{if(!M)return;const H=Number(I[0]),G=Number(I[1]),U=(!l[n?nt.LOWER:nt.UPPER]||M==="handle"||M==="reset")&&H>=0,Z=(!l[n?nt.UPPER:nt.LOWER]||M==="reset")&&G>0&&G<1e35;if(U&&Z){const V=parseFloat(H.toFixed(20)),K=parseFloat(G.toFixed(20));V>=0&&K>0&&V<K&&d({leftTypedValue:F(H).toString(),rightTypedValue:F(G).toString()})}else U?f(F(H).toString()):Z&&c(F(G).toString())},[n,d,f,c,l]),N=q.useMemo(()=>{const I=n?Zt(a==null?void 0:a.price):Zt(a==null?void 0:a.reversePrice);console.log("ðŸš€ ~ constbrushDomain:[number,number]|undefined=useMemo ~ leftPrice:",I);const M=n?Zt(h==null?void 0:h.price):Zt(h==null?void 0:h.reversePrice);if(console.log("ðŸš€ ~ constbrushDomain:[number,number]|undefined=useMemo ~ rightPrice:",M),M!=="âˆž")return I&&M?[Number(I),Number(M)]:void 0},[n,a==null?void 0:a.displayPrice,h==null?void 0:h.displayPrice,u]),x=q.useCallback((I,M)=>{if(!u)return"";if(I==="w"&&(l[n?nt.LOWER:nt.UPPER]||!N))return"0";if(I==="e"&&(l[n?nt.UPPER:nt.LOWER]||!N))return"âˆž";const H=(M<u?-1:1)*((Math.max(M,u)-Math.min(M,u))/u)*100;return u?`${Vi(Math.abs(H)>1?".2~s":".2~f")(H)}%`:""},[n,u,l,N]),A=!i||!s||$===void 0&&!B,C=q.useRef(null),{isApp:R}=Ne();return T.jsx(_n,{w:"100%",h:"100%",flex:1,gap:"14px",position:"relative",ref:C,children:A||B||!$||!u?T.jsx(Rr,{h:"100%",pt:e=="position"?"30px":"150px",children:T.jsx(Nr,{})}):$.length===0?T.jsxs(Qe,{bg:"bg_secondary",w:"100%",h:"100%",direction:"column",justify:"center",align:"center",borderRadius:"12px",children:[T.jsx(Ni,{src:Lu,w:"100px",h:"100px"}),T.jsx(Ei,{mt:"20px",textAlign:"center",children:"There is no liquidity data."})]}):T.jsx(Qe,{w:"100%",h:"100%",position:"relative",justify:"center",align:"center",children:T.jsx(ju,{data:{series:$,current:u},dimensions:{width:e=="position"?R?300:200:((E=C==null?void 0:C.current)==null?void 0:E.clientWidth)||498,height:e=="position"?85:230},margins:{top:10,right:20,bottom:20,left:10},styles:{area:{selection:"var(--chakra-colors-text_caption)"},brush:{handle:{west:"#30D4B7",east:"#6297EA"}}},interactive:v&&!!($!=null&&$.length),brushLabels:x,brushDomain:N,onBrushDomainChange:g,zoomLevels:p??Pc[o??fn.MEDIUM],ticksAtLimit:l,isPosition:e==="position",hideBrush:_,isReverse:k,isSorted:n,readonly:m,dashedMarkerLine:b,handleClickRefresh:w,currentRange:S,constantPrice:j},`${o??fn.MEDIUM}`)})})}),Vu=443636,Gu=-443636,il=q.forwardRef(function(e,n){const{handleClickRefresh:r,minPriceData:i,maxPriceData:s,direct:o,readonly:l,isFrom:u,dashedMarkerLine:a,currentRange:h}=e,{contractPoolInfo:f,apiPoolInfo:c,currentPriceData:d}=Oi(),{lowerTickData:w,upperTickData:v}=Ir(),{setTickDataBasedOnPrice:m}=rs(),{formatPriceDataIsLoading:p}=wn();console.log("ðŸš€ ~ formatPriceDataIsLoading:",p),q.useMemo(()=>f==null?void 0:f.tickSpacing,[f==null?void 0:f.tickSpacing]);const y="100",_=q.useMemo(()=>Number(y)&&(f!=null&&f.tickSpacing)?{[nt.LOWER]:st.getInitializeTickIndex(Vu,Number(f==null?void 0:f.tickSpacing)),[nt.UPPER]:st.getInitializeTickIndex(Gu,Number(f==null?void 0:f.tickSpacing))}:{[nt.LOWER]:void 0,[nt.UPPER]:void 0},[y]),k=q.useMemo(()=>({[nt.LOWER]:w.tick===_.LOWER,[nt.UPPER]:(v==null?void 0:v.tick)===_.UPPER}),[_,w,v,y]),b=!0,S=void 0,P=({leftTypedValue:$,rightTypedValue:j})=>{console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ leftTypedValue:",$),console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ rightTypedValue:",j),console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ lowerTickData:",w),console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ upperTickData:",v),In($,6)!==(o?w==null?void 0:w.displayPrice:v==null?void 0:v.displayReversePrice)&&m(o?w:v,o?$:F(1).div($).toString()),In(j,6)!==(o?v==null?void 0:v.displayPrice:w.displayReversePrice)&&m(o?v:w,o?j:F(1).div(j).toString())},z=$=>{console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:88 ~ onLeftRangeInput ~ typedValue:",$)},O=$=>{console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:96 ~ onRightRangeInput ~ typedValue:",$)},D=q.useRef(null);q.useImperativeHandle(n,()=>{var $;return{depthChartRefreshData:($=D.current)==null?void 0:$.depthChartRefreshData}});const{getFormattedData:B}=os();return q.useEffect(()=>{f!=null&&f.poolAddress&&(f==null?void 0:f.poolAddress)===(c==null?void 0:c.poolAddress)&&(console.log("Test Depth Data###LiquidityRangeChart contractPoolInfo: ",f),console.log("Test Depth Data###LiquidityRangeChart apiPoolInfo1: ",c),console.log("Test Depth Data###LiquidityRangeChart contractPoolInfo?.poolAddress: ",f==null?void 0:f.poolAddress),B({poolAddress:f==null?void 0:f.poolAddress,tokenA:c==null?void 0:c.tokenA,tokenB:c==null?void 0:c.tokenB,tickSpacing:f==null?void 0:f.tickSpacing,currentTickIndex:f==null?void 0:f.current_tick_index,liquidity:f==null?void 0:f.liquidity,feeRate:F(c==null?void 0:c.feeRate).mul(100).toString()||(f==null?void 0:f.fee_rate)}))},[f==null?void 0:f.poolAddress,c==null?void 0:c.poolAddress]),T.jsxs(_n,{w:"100%",h:"100%",position:"relative",children:[l&&T.jsx(Rr,{w:"100%",h:"100%",position:"absolute",left:"0px",top:"0px",bg:"rgba(0,0,0,0)",zIndex:"99999"}),!p&&(i!=null&&i.id)&&(s!=null&&s.id)?T.jsx(Xu,{isFrom:u,ref:D,isSorted:o,contractPoolInfo:f,currencyA:c==null?void 0:c.tokenA,currencyB:c==null?void 0:c.tokenB,feeAmount:y,ticksAtLimit:k,price:o?d.currentPrice:d.reverseCurrentPrice,priceLower:i,priceUpper:s,interactive:b,zoomLevel:S,isReverse:c==null?void 0:c.isReverse,readonly:l,dashedMarkerLine:a==null?void 0:a.filter($=>$!=="-"),onBothRangeInput:P,onLeftRangeInput:z,onRightRangeInput:O,handleClickRefresh:r,currentRange:h}):T.jsx(Ci,{w:"100%",h:"100%",mt:"20px",children:T.jsx(Nr,{})})]})});export{il as L,rl as S,rs as a,Ir as u};
//# sourceMappingURL=LiquidityRangeChart-CT-wHlDi.js.map
