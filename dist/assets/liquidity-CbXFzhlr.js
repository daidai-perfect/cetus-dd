import{d as e,bx as s,aK as S}from"./index-CrLDUzf4.js";const q=r=>{if(r!=null&&r.length){const l=r==null?void 0:r.map(n=>{var o,g;return{feeDisplay:n==null?void 0:n.feeDisplay,feeRate:n==null?void 0:n.feeRate,poolAddress:n==null?void 0:n.poolAddress,tickSpacing:n.tickSpacing,fee:n.fee,tvl:(n==null?void 0:n.tvl)==="--"?"0":n==null?void 0:n.tvl,liquidity:((o=n==null?void 0:n.object)==null?void 0:o.liquidity)==="--"?"0":(g=n==null?void 0:n.object)==null?void 0:g.liquidity}}),u=l==null?void 0:l.reduce((n,o)=>e(n).plus(o.tvl),e(0)).toString();if(e(u).gt(0)){let n=[];return n=l==null?void 0:l.map(o=>e(o==null?void 0:o.tvl).div(u).mul(100).toString()),t(l,n)}if(l.length===1)return l==null?void 0:l.map((n,o)=>({...n,title:"100% select"}));const p=l==null?void 0:l.reduce((n,o)=>e(n).plus(o==null?void 0:o.liquidity),e(0)).toString();let c=[];return e(p).gt(0)?(c=l==null?void 0:l.map(n=>e(n==null?void 0:n.liquidity).div(p).mul(100).toString()),t(l,c)):(c=l==null?void 0:l.map(n=>0),t(l,c))}else return[]},t=(r,l)=>{const u=l==null?void 0:l.some(n=>e(n).lt(.01)&&e(n).gt(0)),p=l==null?void 0:l.filter(n=>e(n).eq(0)).length;let c=p;return u?l=l.map(n=>e(n).gte(.01)?s(n,2):n):l=l.map(n=>S(n,2)),p>0&&(l=l.map(n=>e(n).gte(0)&&e(n).lt(.02)?n:c>0?(c--,e(n).sub("0.01").toString()):n)),r==null?void 0:r.map((n,o)=>{const g=l[o];console.log(g,"getRates");const f=e(g).gte(0)&&e(g).lt(.01)?"<0.01 % select":e(g).eq(0)?"0":g+"% select";return{...n,title:f}})},v=r=>{const l=e(r[1]).minus(r[0]).abs();let u=l;if(e(r[0]).lte("0"))return u.toString();for(;e(r[0]).minus(u).lt("0")&&(u=u.mul(.8),!u.lte(l.div(10))););return u.toString()};export{v as a,q as g};
