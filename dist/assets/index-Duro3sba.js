const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/H5Menus-BvHM-T48.js","assets/vendor-BowHGuwE.js","assets/index-DW6RD0fN.js","assets/index-CteIxbgC.css","assets/useNotifiAlerts-BZfwIayR.js","assets/useInitNotifi-D8LjVR8Z.js","assets/useSigner-Bqrt9V5m.js","assets/ConnectButton-DBI0Nn8H.js","assets/useTrack-D3GGTtEr.js","assets/useAccountBalance-DQeDl-Ho.js","assets/CopyButton-DhBMZfCJ.js","assets/NoData-DwPvHKvw.js","assets/CheckBox-CEogtP2m.js","assets/useInterval-BcJtT0it.js"])))=>i.map(i=>d[i]);
import{a as o,j as e,P as xe,h as de,f as w,k as ae,m as ue,H as h,V as m,I as W,n as q,T as p,O as L,F as O,aa as Ae,ab as He,q as M,ac as We,ad as Le,aG as Me,N as ge,aH as Oe,ae as Ve,aq as Ne,a8 as De,x as Be,aI as Ue,aJ as Fe}from"./vendor-BowHGuwE.js";import{U as le,n as Ge,a as he,I as y,_ as fe,a8 as qe,az as A,H as be,bg as Ze,a2 as $e}from"./index-DW6RD0fN.js";import{a as Je}from"./useNotifiAlerts-BZfwIayR.js";import{u as Ye}from"./useInitNotifi-D8LjVR8Z.js";import{C as Ke}from"./ConnectButton-DBI0Nn8H.js";import{C as Z}from"./CheckBox-CEogtP2m.js";import{u as Qe}from"./useInterval-BcJtT0it.js";const ce="/images/notifi_tab_bg.png",pe="/images/notifi_tab_bg_h5.png",Xe=["+1","+32","+33","+34","+351","+354","+358","+36","+41","+43","+44","+45","+46","+47","+48","+49","+60","+61","+63","+65","+82","+852","+886"],G=({label:n,children:r})=>e.jsxs(ge,{h:"42px",borderRadius:"8px",p:"10px 12px",bg:"#141414",border:"1px solid",borderColor:"border",children:[e.jsx(Oe,{fontSize:"14px",h:"20px",lineHeight:"20px",w:"106px",children:n}),e.jsx(w,{borderColor:"border",pr:"16px",children:e.jsx(Ve,{orientation:"vertical"})}),r]});function me(){const[n,r]=o.useState(""),[s,a]=o.useState(""),[i,d]=o.useState(""),[x,g]=o.useState(""),[l,S]=o.useState(""),[b,k]=o.useState(""),[E,R]=o.useState(""),[t,_]=o.useState(""),{isShowNotifi:P,setIsShowNotifi:V,notifiLoginLoading:$,notifiStatus:H,emailTarget:f,telegramTarget:j,smsTarget:T}=le(),[Se,J]=o.useState(""),[_e,Y]=o.useState(""),[K,Q]=o.useState(!0),[X,ee]=o.useState(!1),{currentAccount:N,onWalletModal:Ce}=Ge(),[ne,te]=o.useState(!1),{notifiLogin:we}=Ye(),{ensureTargetGroup:ke}=Je(),[D,oe]=o.useState(!0),[I,se]=o.useState(!1),ve=c=>{if(c){const u=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;console.log("ðŸš€ðŸš€ðŸš€ ~ Notifications.tsx:99 ~ verifyEmail ~ verifyEmail:"),oe(u.test(n))}},ye=()=>{const c={};i&&x&&(c.phoneNumber=i+" "+x),n&&(c.emailAddress=n),s&&(c.telegramId=s),H=="authenticated"?ke(c):we(c)};o.useEffect(()=>{if(!f){J(""),ee(!1),r(""),S("");return}const c=(f==null?void 0:f.emailAddress)||"",u=(f==null?void 0:f.isConfirmed)||!1,v=(f==null?void 0:f.id)||"";J(v),ee(u),r(c),S(c)},[f]),o.useEffect(()=>{if(!j){Q(!1),Y(""),a(""),k("");return}const c=(j==null?void 0:j.telegramId)||"",u=(j==null?void 0:j.isConfirmed)||!1,v=j.confirmationUrl||"";Q(u),Y(v),a(c),k(c)},[j]),o.useEffect(()=>{T||(d("+1"),g(""),R("+1"),_(""));const c=(T==null?void 0:T.name)||"",u=c.split(" ")[0]||"+1",v=c.split(" ")[1]||"";d(u),g(v),R(u),_(v)},[T]);const Ie=o.useMemo(()=>!x&&!n&&!s||i==E&&x==t&&n==l&&s==b?!0:!D,[n,l,i,E,x,t,s,b]),{notifiClient:ze}=le(),[B,Ee]=o.useState(60),[U,Re]=o.useState(60),Pe=async()=>{ze.sendEmailTargetVerification({targetId:Se}),se(!0)},Te=()=>{re(!0),window.open(_e,"_blank")},[z,re]=o.useState(!1);o.useEffect(()=>{if(!I||B===0){se(!1);return}const c=setInterval(()=>{Ee(u=>u-1)},1e3);return()=>clearInterval(c)},[I,B]),o.useEffect(()=>{if(!z||U===0){re(!1);return}const c=setInterval(()=>{Re(u=>u-1)},1e3);return()=>clearInterval(c)},[z,U]);const[C,F]=o.useState("notifi"),{isApp:ie}=he();return o.useEffect(()=>{P&&F("notifi")},[P]),e.jsxs(xe,{isLazy:!0,isOpen:P,placement:"bottom-end",offset:[44,10],onClose:ne?()=>{console.log("isMenuOpen")}:()=>{V(!1)},children:[e.jsx(de,{children:e.jsx(w,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},onClick:()=>N!=null&&N.address?V(!P):Ce(!0),children:e.jsx(y,{xlinkHref:"#icon-icon_notification",variant:"gray"})})}),e.jsx(ae,{children:e.jsx(ue,{p:"0px",border:"1px solid",borderRadius:"12px",borderColor:"border",minW:{base:"352px",lg:"460px"},children:e.jsxs(h,{flexDirection:{base:"column",lg:"row"},gap:"0",bg:"bg_seven",borderRadius:"12px",align:"flex-start",children:[e.jsxs(m,{pt:{base:"8px",lg:"28px"},pl:{base:"12px",lg:"0"},gap:"0",flexDirection:{base:"row",lg:"column"},children:[e.jsx(h,{align:"center",justify:"center",backgroundImage:C=="notifi"?ie?pe:ce:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:C=="notifi"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>F("notifi"),children:e.jsx(W,{src:C=="notifi"?"/images/notifi@2x.png":"/images/logo_not_nor@2x.png",h:"20px",w:"60px",minW:"60px"})}),e.jsx(h,{align:"center",justify:"center",backgroundImage:C=="pawtato"?ie?pe:ce:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:C=="pawtato"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>F("pawtato"),children:e.jsx(W,{src:C=="pawtato"?"/images/logo_paw_sel@2x.png":"/images/logo_paw_nor@2x.png",h:"11px",w:"66px",minW:"66px"})})]}),C=="notifi"&&e.jsxs(m,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",children:[e.jsx(q,{p:"0",borderRadius:"12px",children:e.jsxs(m,{gap:"12px",children:[e.jsx(p,{fontWeight:"500",color:"text_caption",textAlign:"left",w:"100%",mb:"4px",children:"Notifications Setting"}),e.jsx(G,{label:"Email address",children:e.jsx(L,{type:"email",placeholder:"Email address",fontSize:"14px",h:"20px",lineHeight:"20px",value:n,onFocus:()=>oe(!0),onBlur:c=>ve(c.target.value),onChange:c=>r(c.target.value)})}),!D&&e.jsx(p,{w:"100%",color:"primary_red",lineHeight:"20px",textAlign:"left",children:"Please enter a valid email address"}),H=="authenticated"&&l&&(I||!I&&!X)&&e.jsxs(O,{width:"100%",children:[I&&e.jsxs(p,{width:"100%",textAlign:"right",children:["Verification email sent! (",B,"s)"]}),!X&&!I&&e.jsxs(p,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for email verification."," ",e.jsx(p,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Pe(),children:"Retry"})]})]}),e.jsxs(G,{label:"Phone number",children:[e.jsx(Ae,{isLazy:!0,onClose:()=>te(!1),children:({isOpen:c})=>e.jsxs(e.Fragment,{children:[e.jsx(He,{isActive:c,as:M,rightIcon:e.jsx(y,{xlinkHref:"#icon-icon_arrow",fontSize:"12px"}),variant:"unstyled",h:"100%",fontSize:"14px",lineHeight:"20px",color:"text_caption",onClick:()=>te(!ne),children:i}),e.jsx(ae,{children:e.jsx(We,{h:"220px",overflow:"auto",zIndex:"99999",children:Xe.map(u=>e.jsx(Le,{onClick:v=>{d(u)},children:u},u))})})]})}),e.jsx(L,{type:"tel",placeholder:"Phone number",pl:"16px",fontSize:"14px",h:"20px",lineHeight:"20px",value:x,onChange:c=>g(c.target.value)})]}),e.jsx(G,{label:"Telegram ID",children:e.jsx(L,{placeholder:"Telegram ID",fontSize:"14px",h:"20px",lineHeight:"20px",value:s,onChange:c=>a(c.target.value)})}),H=="authenticated"&&b&&(z||!z&&!K)&&e.jsxs(O,{width:"100%",children:[z&&e.jsxs(p,{width:"100%",textAlign:"right",children:["Verification telegram sent! (",U,"s)"]}),!K&&!z&&e.jsxs(p,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for telegram verification."," ",e.jsx(p,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Te(),children:"Retry"})]})]})]})}),e.jsx(Me,{border:"none",p:"0",mt:"16px",children:e.jsxs(m,{w:"100%",gap:"12px",children:[e.jsx(M,{w:"100%",h:"42px",borderRadius:"8px",fontWeight:"500",fontSize:"14px",onClick:ye,isLoading:$,disabled:Ie||$||!D,children:H=="authenticated"?"Update":"Subscribe"}),e.jsxs(w,{children:[e.jsxs(p,{fontSize:"12px",color:"text_paragraph",lineHeight:"20px",children:["Notifications are provided by Notifi. By subscribing, you agree that info you provide to Notifi will be governed by its"," ",e.jsx(p,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/privacy","_blank")},children:"Privacy Policy"})," ","and"," ",e.jsx(p,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/term","_blank")},children:"Terms of Use."})]}),e.jsxs(h,{justify:"center",mt:"16px",children:[e.jsx(p,{fontSize:"14px",color:"text_paragraph",children:"Powered by"}),e.jsx(W,{src:"/images/notifi@2x.png",h:"20px"})]})]})]})})]}),C=="pawtato"&&e.jsx(q,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",h:"314px",children:e.jsxs(m,{h:"100%",gap:"28px",justify:"center",align:"center",children:[e.jsxs(p,{color:"text_caption",lineHeight:"20px",textAlign:"center",children:["Visit Pawtato to manage notification settings for LP Range Alert"," "]}),e.jsx(M,{w:"100%",h:"40px",fontWeight:"500",fontSize:"14px",onClick:()=>window.open("https://pawtato.app/board"),children:"Subscribe"})]})})]})})})]})}const en=o.lazy(()=>fe(()=>import("./H5Menus-BvHM-T48.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),nn=o.lazy(()=>fe(()=>import("./ConnectButton-DBI0Nn8H.js").then(n=>n.a),__vite__mapDeps([7,1,2,3,8,9,10,11]))),tn=({menus:n,logo:r,setting:s,notifications:a,jump:i,isCetusPump:d,children:x})=>{const[g,l]=o.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(O,{align:"center",gap:"8px",children:[e.jsx(o.Suspense,{fallback:e.jsx("div",{}),children:e.jsx(nn,{isCetusPump:d})}),a&&e.jsx(me,{}),e.jsx(w,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg"},children:e.jsx(y,{xlinkHref:"#icon-icon_menu",onClick:()=>l(!g)})})]}),e.jsx(en,{menus:n,logo:r,setting:s,jump:i,isCetusPump:d,isOpen:g,onClose:()=>l(!1),children:x})]})};function on(n){const{h:r,icon:s,borderRadius:a="12px",color:i="text_caption"}=n,{isSwapWidgetDisplay:d,setIsSwapWidgetDisplay:x}=qe();return e.jsxs(h,{w:"100%",pl:"16px",pr:"16px",h:r,border:"1px solid",borderColor:"border",bg:"menu_item_bg",justifyContent:"center",gap:"24px",borderRadius:a,children:[e.jsxs(h,{w:"100%",gap:"8px",children:[e.jsx(W,{draggable:"false",src:s,fallbackSrc:"/images/placeholder-token@2x.png",w:"24px",h:"24px",pointerEvents:"none"}),e.jsx(p,{color:i,fontSize:"14px",children:"Display swap widget"})]}),e.jsx(Ne,{isChecked:d,onChange:()=>x(!d)})]})}const sn=({label:n,value:r,onClick:s,isActive:a})=>e.jsx(w,{w:"100%",onClick:s,cursor:"pointer",h:"48px",lineHeight:"48px",p:"0px 16px",borderRadius:"12px",border:"1px solid",borderColor:a?"primary_hover":"transparent",_hover:{bg:"menu_item_hover_bg"},children:e.jsx(p,{fontSize:"14px",color:"text_caption",children:n})}),rn=({closeModal:n,isH5:r})=>{const{explorerList:s,currentExplorer:a,switchExplorer:i}=A(),d=o.useMemo(()=>(console.log("ðŸš€ ~ list ~ explorerList:",s),s),[s]),{successTsToast:x}=be(),g=l=>{i(l),n(),x({linkLabel:"",getShowInfo:b=>({toastTitleText:"Explorer update",toastDescriptionContent:()=>e.jsxs(p,{fontSize:"14px",color:"primary_gray",children:["Explorer is currently set to ",e.jsx(p,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:l.name})]})})})};return e.jsx(e.Fragment,{children:r?e.jsx(m,{gap:"16px",mb:"16px",children:d.map(l=>e.jsxs(h,{w:"100%",children:[e.jsx(Z,{checked:l.link===a.link,onClick:()=>g(l)}),e.jsx(p,{fontSize:{base:"16px",lg:"14px"},children:l.name})]},l.link))}):e.jsx(m,{w:"100%",children:d.map(l=>e.jsx(sn,{label:l.name,value:l.link,isActive:l.link===a.link,onClick:()=>g(l)},l.link))})})},je=({icon:n,label:r,...s})=>e.jsxs(m,{w:"100%",p:"16px",borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"flex-start",gap:"24px",children:[e.jsxs(h,{w:"100%",gap:"8px",children:[e.jsx(y,{xlinkHref:n,fontSize:"20px"}),e.jsx(p,{fontSize:"14px",children:r})]}),"children"in s?s==null?void 0:s.children:e.jsxs(h,{w:"100%",justify:"space-between",cursor:"pointer",onClick:s.onClick,children:[e.jsx(p,{color:"text_caption",fontSize:"14px",children:s.value}),e.jsx(y,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),an=({onShowOptions:n,showOptions:r,showMainSetting:s,closeModal:a})=>{const{currentExplorer:i}=A();return r?e.jsx(rn,{closeModal:a}):s&&e.jsx(je,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:i==null?void 0:i.name,onClick:n})};function ln(){let n=null;const{setRpcSpeed:r}=A();Qe({interval:5*1e3,callback:()=>{s()}});const s=()=>{n===null&&(n=new Worker("/worker/rpc.worker.js")),n.postMessage({rpcList:Ze.filter(a=>a.link.length>0).map(a=>a.link)}),n.onmessage=a=>{a.data.error?(console.log("ðŸš€ ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data.error:",a.data.error),r({})):(console.log("ðŸš€ ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data:",a.data),a.data?r(a.data):r({}))}};o.useEffect(()=>(s(),()=>{n&&n.terminate()}),[])}const cn=({closeModal:n})=>{ln();const{rpcSpeed:r}=A(),s=t=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(t),{nodes:a,currentNode:i,switchNode:d}=A(),[x,g]=o.useState((i==null?void 0:i.name)=="Custom"),[l,S]=o.useState((i==null?void 0:i.name)=="Custom"?i==null?void 0:i.link:""),b=o.useMemo(()=>a,[a]),{successTsToast:k}=be(),E=t=>{console.log("ðŸš€ ~ handleChangeNode ~ item:",t),t.name!=="Custom"&&(S(""),g(!1)),d(t),k({linkLabel:"",getShowInfo:P=>({toastTitleText:"RPC update",toastDescriptionContent:()=>e.jsxs(p,{fontSize:"14px",color:"primary_gray",children:["RPC is currently set to ",e.jsx(p,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:t.name!=="Custom"?t.name:t.link})]})})})},R=o.useCallback(t=>t===0?"text_paragraph":t<100?"primary_green":t>200?"primary_red":"primary_yellow",[]);return e.jsxs(w,{w:"100%",mt:"-16px",children:[b.map(t=>{const _=Number(r[t==null?void 0:t.link]||0);return e.jsx(m,{mt:"16px",align:"flex-start",children:(t==null?void 0:t.name)!=="Custom"&&e.jsxs(h,{w:"100%",justifyContent:"space-between",children:[e.jsxs(h,{w:"100%",onClick:()=>E(t),_hover:{p:{color:"primary"}},children:[e.jsx(Z,{checked:i.name===(t==null?void 0:t.name),onClick:()=>{}}),e.jsx(p,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:i.name===(t==null?void 0:t.name)?"primary":"text_paragraph",children:t==null?void 0:t.name})]}),e.jsxs(h,{gap:"5px",children:[_>0&&e.jsx(w,{w:"6px",h:"6px",bg:R(_),borderRadius:"50%"}),e.jsxs(p,{fontSize:"12px",fontWeight:"500",color:R(_),children:[r[t.link],$e(r)?"ms":""]})]})]})},t==null?void 0:t.link)}),e.jsxs(h,{w:"100%",mt:"16px",_hover:{p:{color:"primary"}},onClick:()=>g(!x),children:[e.jsx(Z,{checked:i.name==="Custom",onClick:()=>{}}),e.jsx(p,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:i.name==="Custom"?"primary":"text_paragraph",children:"Custom RPC URL"})]}),(i.name==="Custom"||x)&&e.jsxs(ge,{mt:"16px",h:"40px",borderRadius:"12px",border:"1px solid",borderColor:"border",children:[e.jsx(L,{p:"13px 16px",fontSize:{base:"16px",lg:"14px"},placeholder:"Custom RPC URL",value:l,onChange:t=>S(t.target.value)}),e.jsx(De,{pr:"4px",children:e.jsx(M,{disabled:s(l),fontSize:"14px",fontWeight:"500",h:"32px",w:"78px",borderRadius:"8px",onClick:()=>{E({name:"Custom",link:l})},children:"Save"})})]})]})},pn=({showMainSetting:n,closeModal:r})=>n&&e.jsx(je,{icon:"#icon-icon_rpc",label:"RPC Node",children:e.jsx(cn,{closeModal:r})}),xn=({swapWidgetDisplay:n,preferred:r,rpc:s})=>{const{isOpen:a,onOpen:i,onClose:d}=Be(),[x,g]=o.useState("Settings"),l=o.useMemo(()=>x==="Settings",[x]),S=k=>{g(k)},b=()=>{g("Settings")};return e.jsxs(xe,{isLazy:!0,isOpen:a,onOpen:i,placement:"bottom-end",onClose:d,children:[e.jsx(de,{children:e.jsx(w,{bg:"bg_secondary",w:"36px",h:"36px",p:"7px",border:"1px solid",borderColor:"border",borderRadius:"8px",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},children:e.jsx(y,{xlinkHref:"#icon-icon_settings1",variant:"gray"})})}),e.jsxs(ue,{minW:"360px",p:"0px 16px 16px",bg:"bg_secondary",borderRadius:"12px",maxH:"calc(100vh - 80px)",overflowY:"auto",children:[e.jsx(Ue,{p:"0px",fontWeight:"500",h:"56px",lineHeight:"56px",border:"none",children:e.jsxs(h,{children:[!l&&e.jsx(y,{xlinkHref:"#icon-icon_descending",transform:"rotate(90deg)",svgFill:"text_caption",fontSize:"16px",onClick:b}),e.jsx(p,{color:"text_caption",fontSize:"16px",children:x})]})}),!l&&e.jsx(Fe,{h:"50px",onClick:b}),e.jsx(q,{p:"0px",children:e.jsxs(m,{children:[l&&n&&e.jsx(on,{icon:n.icon,h:"42px"}),r&&e.jsx(an,{onShowOptions:()=>S("Preferred"),showOptions:x==="Preferred",showMainSetting:l,closeModal:b}),s&&e.jsx(pn,{showMainSetting:l,closeModal:d})]})})]})]})},dn=({setting:n,notifications:r,isCetusPump:s,children:a})=>e.jsxs(O,{align:"center",gap:"8px",children:[a,e.jsx(Ke,{isCetusPump:s}),r&&e.jsx(me,{}),e.jsx(xn,{...n,isCetusPump:s})]});function un(n){const{isApp:r}=he();return r?e.jsx(tn,{...n}):e.jsx(dn,{...n})}const _n=Object.freeze(Object.defineProperty({__proto__:null,default:un},Symbol.toStringTag,{value:"Module"}));export{rn as E,cn as R,on as S,_n as i};
//# sourceMappingURL=index-Duro3sba.js.map
