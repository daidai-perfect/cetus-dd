import{k,d as a,a8 as w,aQ as T,aR as g,af as p,aJ as B,aS as b}from"./index-QNvgVKlA.js";import"./vendor-BFGDaAdA.js";function G(){const i=k("burn"),l=t=>{const{posId:s,clmmPool:u,coinTypeA:o,coinTypeB:n}=t,r={pos_id:s,pool_id:u,coin_type_a:o,coin_type_b:n};return i.Burn.createBurnPayload(r)},e=t=>{const{poolAddress:s,posId:u,coinTypeA:o,coinTypeB:n,account:r,rewarderCoinTypes:c}=t,d=i.Burn.createCollectFeePayload({pool_id:s,pos_id:u,coin_type_a:o,coin_type_b:n,account:r});return i.Burn.crateCollectRewardPayload({pool_id:s,pos_id:u,coin_type_a:o,coin_type_b:n,rewarder_coin_types:c,account:r},d)},y=t=>{var c,d;console.log("ðŸš€ðŸš€ðŸš€ ~ file: usePositionList.ts:71 ~ getCoinAmountFromLiquidity ~ params:",t);const s=w.tickIndexToSqrtPriceX64(t.lowerTick),u=w.tickIndexToSqrtPriceX64(t.upperTick),o=T.getCoinAmountFromLiquidity(new g.BN(t.liquidity),new g.BN(t.currentSqrtPrice),s,u,t.roundUp),n=p(o.coin_amount_a.toString(),(c=t.defaultCoinA)==null?void 0:c.decimals),r=p(o.coin_amount_b.toString(),(d=t.defaultCoinB)==null?void 0:d.decimals);return{coinAAmount:n,coinBAmount:r}};return{getBurnTxPayload:l,getBurnClaimTxPayload:e,getBurnPositionAmountByPool:async(t,s)=>{const{poolAddress:u}=t,o=await i.Burn.getPoolBurnPositionList(u)||[];console.log("ðŸš€ðŸš€ðŸš€ ~ file: useBurn.ts:92 ~ getBurnPositionAmountByPool ~ positionList:",o);let n=a(0),r=a(0);for(let c=0;c<(o==null?void 0:o.length);c++){const d=o[c],{tick_lower_index:_,tick_upper_index:A,liquidity:P}=d,m=t==null?void 0:t.tokenA,q=t==null?void 0:t.tokenB,{coinAAmount:x,coinBAmount:S}=y({lowerTick:_,upperTick:A,currentSqrtPrice:s,roundUp:!1,liquidity:P,defaultCoinA:m,defaultCoinB:q});n=a(n).add(a(x)),r=a(r).add(a(S))}return{totalA:n.toString(),totalB:r.toString()}}}}const O=i=>i.startsWith("0x")?i.slice(2):i;function N(i){const l=[];for(const e of i){const y={objectId:e.objectId,index:Number(b(BigInt(e.index)).toString()),sqrtPrice:e.sqrtPrice,liquidityNet:new B(BigInt.asIntN(128,BigInt(BigInt(e.liquidityNet.toString()))).toString()),liquidityGross:e.liquidityGross,feeGrowthOutsideA:e.feeGrowthOutsideA,feeGrowthOutsideB:e.feeGrowthOutsideB,rewardersGrowthOutside:[new B(e.rewardersGrowthOutside[0]),new B(e.rewardersGrowthOutside[1]),new B(e.rewardersGrowthOutside[2])]};l.push(y)}return l}export{O as d,N as g,G as u};
//# sourceMappingURL=contract-helper-VzIAinmS.js.map
