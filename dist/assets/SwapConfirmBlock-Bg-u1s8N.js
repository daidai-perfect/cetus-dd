import{A as U}from"./aggregator-VXxomCmR.js";import{u as Ye}from"./global-iZ7St_zm.js";import{a as fs,b as Je,A as fe,c as hs}from"./useSwapHelper-CKwapxYx.js";import{b as oe,j as e,ap as ge,aq as be,B as j,an as gs,at as Ae,au as we,U as bs,bK as As,c6 as ws,cQ as ms,bo as js,r as x,bd as ys,a4 as Ss,aH as vs,a as Rs,a9 as Ee,a7 as Is,a8 as Ps,bP as Bs,ac as H,aS as Te,cR as zs,cS as he,a1 as Ms,aO as Ke,as as De,H as d,T as f,C as N,I as Z,S as y,V as S,d as Ws,g as B,ay as Ne,e as Hs,aM as Cs,a2 as P,a0 as Ze,ad as Es,ae as Ts,af as Os,ag as _s,ai as Us,aj as Ls,c as Fs,Y as Ys,a6 as Js,$ as te}from"./index-D49RffYW.js";import{u as Ks}from"./useAccountBalance-D-weOZgA.js";import{u as me}from"./useToken-BlS8b5ft.js";import{u as Oe}from"./useTokenBalance-Cc02jFZo.js";import{u as Ds}from"./useTransaction-i5gFyneH.js";import{u as Ns}from"./useFindBestRouting-Bo95_EUn.js";import{v as _e,g as ie}from"./index-BzKWeyUu.js";import{u as Ve}from"./usePriceImpact-BMryGRgg.js";import{C as je}from"./CurrentPrice-bArlFA15.js";import{H as Zs}from"./HighlightText-DSzYWpab.js";import{A as Ue}from"./AddressCopyLink-BnCAac35.js";import{H as Le}from"./HTextLabelBox-DVxTk_Ir.js";import{T as Vs}from"./TradeConfirmAmountInfo-BVFeG-79.js";import{b as Xs}from"./TradeInputGroup-C7m7R_Tz.js";import{C as Qs}from"./CetusTooltip-7TnGbJNH.js";const qs="data:image/png;base64,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",Gs="data:image/png;base64,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",ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",Xe={pyth:"Pyth Network",coingecko:"CoinGecko",birdeye:"Birdeye",Cetus:"Cetus"},$s={pyth:ks,coingecko:Gs,birdeye:qs,Cetus:"/images/img-logo@2x.png"};function er({market:t,...o}){const{isApp:s}=oe();return e.jsxs(ge,{isLazy:!0,trigger:s?"click":"hover",children:[e.jsx(be,{children:e.jsx(j,{flexShrink:0,children:e.jsx(gs,{w:"16px",h:"16px",src:$s[t],...o,flexShrink:0})})}),e.jsx(Ae,{w:"unset",children:e.jsx(we,{fontSize:"12px",children:Xe[t]})})]})}var sr=1,rr=4;function tr(t){return Xs(t,sr|rr)}const ir=(t,o)=>({providersSwitchStates:{[fs.CETUS]:!0},setProvidersSwitchStates:s=>{const r=o().providersSwitchStates;t(()=>({providersSwitchStates:{...r,...s}}))},supportOrderSplit:!0,setSupportOrderSplit:s=>{t(()=>({supportOrderSplit:s}))}}),or=bs(As(ir,{name:"useSwapConfigStore"})),nr=new ws({url:ms("mainnet")}),cr=["0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x960b531667636f39e85867775f52f6b1f220a058c4de786905bdf761e06a56bb::usdy::USDY","0x294de7579d55c110a00a7c4946e09a1b5cbeca2592fbb83fd7bfacba3cfeaf0e::drf::DRF"],pr=["deny_list","DenyList","DenyCap","create_regulated_currency"],lr={showType:!0,showContent:!0,showOwner:!1,showPreviousTransaction:!1,showStorageRebate:!1,showDisplay:!1},ar=async t=>{let o=!1;if(cr.includes(t))return o;const s=t.split("::"),r=s[0]&&js(s[0]),l=s[1],i=await nr.getObject({id:r,options:lr}),p="disassembled"in i.data.content?i.data.content.disassembled[l]:null;return p&&typeof p=="string"&&new RegExp(pr.join("|"),"i").test(p)&&(o=!0),o};function Fe(t){const[o,s]=x.useState(),r=async l=>{if(l.is_trusted)return!1;try{return await ar(l.coin_type)}catch{}return!1};return x.useEffect(()=>{s(void 0),t&&r(t).then(l=>{s(l)})},[t==null?void 0:t.coin_type]),{isScamsCoin:o}}const xr="0xeb863165a109f7791a3182be08aff1438ab2a429314fc135ae19d953afe1edd6";function Lr(t,o){const{fromCoin:s,toCoin:r,setFromCoin:l,setToCoin:i,setToAmount:p,fromAmount:u,toAmount:n,setFromAmount:a,routerData:h,setFindRouterLoading:g,setRouterData:m,setByAmountIn:b,byAmountIn:R}=t,{from:I,to:v}=ys(),{findBestRouters:ne,checkProvidersKeys:ce}=Ns(),{fetchTokenPrices:pe,getTokenAmountValue:V}=Ss(),{slippage:X,mevProtect:C,maxCapForGas:T,transactionMode:Q,customGasPrice:le}=Ye(),{aggregatorSDK:q}=vs(),A=Rs(),{fetchTokenInfo:G}=me(),[ae,k]=x.useState(!1),{signAndExecuteTransaction:ke,transactionConfirmation:$e,handleError:gr}=Ds(),{providersSwitchStates:ye,supportOrderSplit:br}=or(),{fetchAccountBalance:es}=Ks(),{balanceInfo:ss}=Oe(s),{balanceInfo:rs}=Oe(r),ts=V(s==null?void 0:s.coin_type,u),is=V(r==null?void 0:r.coin_type,n),[Se,ve]=x.useState(""),Re=x.useRef(""),xe=x.useRef(!0),$=x.useRef(""),ee=x.useRef(""),L=x.useRef(),F=x.useRef(),Ie=x.useRef([]);x.useEffect(()=>{L.current=s},[s]),x.useEffect(()=>{F.current=r},[r]),x.useEffect(()=>{Re.current=Se},[Se]),x.useEffect(()=>{xe.current=R},[R]),x.useEffect(()=>{$.current=u},[u]),x.useEffect(()=>{ee.current=n},[n]);const os=x.useMemo(()=>String(v)+String(I),[I,v]);x.useEffect(()=>{o||ns()},[os]);const ns=async()=>{!I&&!v?(l(Ee.clmm_swap.from_coin),i(Ee.clmm_swap.to_coin),A("/swap")):(I&&G(I).then(c=>{c?(c==null?void 0:c.coin_type)!==(s==null?void 0:s.coin_type)&&l(c):A(`/swap/undefined/${r==null?void 0:r.coin_type}`)}).catch(()=>{A(`/swap/undefined/${r==null?void 0:r.coin_type}`)}),v&&G(v).then(c=>{c?(c==null?void 0:c.coin_type)!==(r==null?void 0:r.coin_type)&&i(c):A(`/swap/${s==null?void 0:s.coin_type}/undefined`)}).catch(()=>{A(`/swap/${s==null?void 0:s.coin_type}/undefined`)}))},Pe=Is(async(c,w,z)=>{if(L.current&&F.current&&+c){const E=o?Object.entries(U).map(([W,_])=>W):Object.entries(ye).filter(([W,_])=>_===!0).map(([W,_])=>W);(+$.current||+ee.current)&&g(!0);const J=await ce(E),ze=Ps(c,w?L.current.decimals:F.current.decimals),M=await ne({fromToken:L.current,toToken:F.current,amount:ze.toString(),providersKeys:J,by_amount_in:w,uuid:z});g(!1),Re.current===z&&(Ie.current=J,w?+$.current?(p(M.toAmountUi||""),m(M)):p(""):+ee.current?(a(M.fromAmountUi||"ÃŸ"),m(M)):a(""))}else Y(!w)},500),cs=(c,w,z=!1)=>{if(b(w),w?(a(c),z&&p("")):(p(c),z&&a("")),+c){const E=_e();ve(E),Pe(c,w,E)}else g(!1),m(void 0),c!=="0"?Y():w?p(""):a("")},O=()=>{const c=xe.current?$.current:ee.current;if(+c){const w=_e();ve(w),Pe(c,xe.current,w)}};x.useEffect(()=>{O()},[JSON.stringify(ye)]);const ps=(c,w=!0)=>{Y(),o?w?(c&&(c==null?void 0:c.coin_type)===(r==null?void 0:r.coin_type)&&i(s),l(c)):(c&&(c==null?void 0:c.coin_type)===(s==null?void 0:s.coin_type)&&l(r),i(c)):w?c&&(c==null?void 0:c.coin_type)===(r==null?void 0:r.coin_type)?A(`/swap/${c==null?void 0:c.coin_type}/${s==null?void 0:s.coin_type}`):A(`/swap/${c==null?void 0:c.coin_type}/${r==null?void 0:r.coin_type}`):c&&(c==null?void 0:c.coin_type)===(s==null?void 0:s.coin_type)?A(`/swap/${r==null?void 0:r.coin_type}/${c==null?void 0:c.coin_type}`):A(`/swap/${s==null?void 0:s.coin_type}/${c==null?void 0:c.coin_type}`)},{amountLimit:ls}=Je(X,h),Y=c=>{c===void 0?(a(""),p("")):c?a(""):p(""),g(!1),m(void 0)};x.useEffect(()=>{Be()},[s==null?void 0:s.coin_type,r==null?void 0:r.coin_type]);const Be=()=>{const c=[];s&&c.push(s.coin_type),r&&c.push(r.coin_type),c.length>0&&pe(c)},as=()=>({...h}),xs=async c=>{var z,E;let w;try{const{routerData:J,byAmountIn:ze,fromAmountUi:M,toAmountUi:W}=c,_=new Bs,K={routers:J,partner:xr,txb:_,slippage:Number(X),refreshAllCoins:!0};return k(!1),w={isSwapWidget:o,actionType:"swap",getShowInfo:(Me,de)=>{const ue=`Swapping ${H(M)} ${s==null?void 0:s.symbol} for ${H(W)} ${r==null?void 0:r.symbol}`,D={modalDescriptionText:ue,toastTitleText:ue};if(Me==="success"){let We=M,He=W;de&&(We=Te(de,s)||M,He=Te(de,r)||W);const Ce=`Swapped ${H(We)} ${s==null?void 0:s.symbol} for ${H(He)} ${r==null?void 0:r.symbol}`;D.toastDescriptionContent=Ce,D.modalDescriptionText=Ce,D.toastTitleText="Swap Successful"}return Me==="rejected"&&(D.toastTitleText=ue.replace("Swapping","Swap")),D}},o||$e(w),await ke(async()=>(await q.fastRouterSwap(K),_),w,{useMev:C,useFastMode:Q==="Fast Mode",maxCapForGas:T,customGasPrice:le,msafeParams:{action:"AggregatorSwap",txbParams:{...K,routers:zs(K==null?void 0:K.routers)}},otherParams:{routerData:t.routerData,providerKey:Ie.current,from:(z=L.current)==null?void 0:z.coin_type,to:(E=F.current)==null?void 0:E.coin_type}})?(Y(),es(),!0):(O(),!1)}catch{}},{isScamsCoin:se}=Fe(s),{isScamsCoin:re}=Fe(r),ds=x.useMemo(()=>{if(!(!se&&!re)){if(se&&re&&(s!=null&&s.symbol)&&(r!=null&&r.symbol))return`${s==null?void 0:s.symbol} and ${r==null?void 0:r.symbol} are`;if(se&&(s!=null&&s.symbol))return`${s==null?void 0:s.symbol} token is `;if(re&&(r!=null&&r.symbol))return`${r==null?void 0:r.symbol} token is `}},[se,re,s==null?void 0:s.coin_type,r==null?void 0:r.coin_type]),us=async c=>{c?(o?(l(r),i(s)):A(`/swap/${r==null?void 0:r.coin_type}/${s==null?void 0:s.coin_type}`),a(n),p(""),b(!0),await he(200),O()):R?(o?(l(r),i(s)):A(`/swap/${r==null?void 0:r.coin_type}/${s==null?void 0:s.coin_type}`),a(""),p(u),b(!1),await he(200),O()):(o?(l(r),i(s)):A(`/swap/${s==null?void 0:s.coin_type}/${r==null?void 0:r.coin_type}`),a(n),p(""),b(!0),await he(200),O())};return x.useEffect(()=>()=>{o||(l(void 0),i(void 0)),a(""),p("")},[]),{handleSelectToken:ps,handleAmountChange:cs,fromAmount:u,toAmount:n,fromAmountValue:ts,toAmountValue:is,amountLimit:ls,getSwapSecondaryData:as,reCalculateRouteData:O,fromBalanceInfo:ss,toBalanceInfo:rs,doSwapAction:xs,scamsText:ds,refreshMarketPrice:Be,isOpenConfirmModel:ae,setIsOpenConfirmModel:k,resetInputAmount:Y,onReverseClick:us}}function Fr(t,o,s,r,l,i){const{currentAccount:p}=Ms(),u=x.useMemo(()=>{const n={text:"Swap",disabled:!1};if(!(p!=null&&p.address))return n.text="Connect Wallet",n.disabled=!1,n;if(!r||!l)return n.text="Select a token",n.disabled=!0,n;if(!+t&&!+o)return n.text="Enter an amount",n.disabled=!0,n;if(i&&i.errorCode){if(i.errorCode===fe.InsufficientLiquidity)return n.text="Insufficient liquidity for this trade",n.disabled=!0,n;if(i.errorCode===fe.NoRouter||i.errorCode===fe.HoneyPot)return n.text="No Available Route",n.disabled=!0,n}return+t&&Ke(t).gt(s||0)?(n.disabled=!0,n.text=`Insufficient ${De(r==null?void 0:r.symbol,10)} Balance`,n):((!+t||!+o)&&(n.disabled=!0),n)},[p==null?void 0:p.address,t,o,s,i==null?void 0:i.errorCode,r,l]);return{btnText:u.text,btnDisabled:u.disabled}}function Qe(t){const{fromToken:o,toToken:s,marketPrice:r,priceImpact:l,sources:i=[],isWidget:p=!1,isLoading:u}=t;return e.jsxs(d,{justify:"space-between",w:"100%",gap:"4px",flexWrap:"wrap",children:[e.jsxs(d,{w:"132px",alignItems:"end",gap:"4px",children:[e.jsx(f,{whiteSpace:"nowrap",fontSize:p?"12px":"14px",h:"20px",lineHeight:"20px",fontWeight:"500",children:"Price Difference"}),e.jsx(Qs,{tooltip:e.jsx(dr,{marketPrice:r,sources:i,fromToken:o,toToken:s}),children:e.jsx(N,{children:e.jsx(Z,{xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}),e.jsx(y,{isLoaded:!u,h:"20px",children:e.jsxs(d,{justify:"flex-end",children:[e.jsx(f,{maxW:p?`calc(90vw - 56px - ${24*((i==null?void 0:i.length)||0)}px)`:"unset",flex:"1",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:l==null?void 0:l.textColor,fontWeight:"500",fontSize:p?"12px":"14px",children:l!=null&&l.priceImpactText?l==null?void 0:l.priceImpactText:"Incalculable"}),i==null?void 0:i.map(n=>e.jsx(er,{market:n},n))]})})]})}function dr(t){const{marketPrice:o,sources:s,fromToken:r,toToken:l}=t;return e.jsxs(S,{className:"price-impactg-tips",w:"100%",align:"flex-start",gap:"12px",children:[e.jsx(f,{color:"content_text",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The difference between the market price and estimated price due to trade size."}),e.jsxs(S,{w:"100%",align:"flex-start",children:[e.jsx(f,{fontSize:"12px",color:"text_caption",children:"Market price sources:"}),o?e.jsx(je,{fontSize:"12px",fromToken:r,toToken:l,fromValue:"1",toValue:o,color:"text_caption"}):e.jsx(f,{color:"primary_yellow",fontSize:"12px",children:"Price is unknown"})]}),o&&e.jsxs(d,{w:"100%",children:[e.jsx(f,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:"Market price sources:"}),e.jsx(f,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:s.map(i=>Xe[i]+"  ")})]})]})}function Yr(t){const{fromCoin:o,toCoin:s,findRouterLoading:r,isWidget:l=!1,routerData:i,bg:p="primary_opacity.10"}=t,{marketPrice:u,priceImpact:n,sources:a,priceImpactTextInfo:h}=Ve(o,s,i==null?void 0:i.fromAmountUi,i==null?void 0:i.toAmountUi);return e.jsxs(S,{w:"100%",p:"8px",gap:"8px",bg:p,borderRadius:"12px",align:"flex-start",children:[e.jsx(je,{fromToken:o,toToken:s,fromValue:i==null?void 0:i.fromAmountUi,toValue:i==null?void 0:i.toAmountUi,isLoading:r,color:"text_caption",fontSize:l?"12px":"14px"}),Ws(n).lte(-30)&&e.jsxs(d,{w:"100%",justify:"flex-start",children:[e.jsx(Z,{xlinkHref:"#icon-warning",svgFill:"primary_red",svgHover:"primary_red",fontSize:"16px"}),e.jsx(f,{color:"primary_red",fontSize:"12px",lineHeight:"20px",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})]}),e.jsx(Qe,{fromToken:o,isWidget:l,toToken:s,marketPrice:u,priceImpact:h,isLoading:r,sources:a})]})}function Jr({scamsText:t}){return e.jsxs(S,{borderRadius:"8px",border:"1px solid",borderColor:"border",pt:"12px",maxW:"480px",children:[e.jsxs(d,{children:[e.jsx(Z,{xlinkHref:"#icon-icon_priceupdated",svgFill:"primary_yellow",svgHover:"primary_yellow",svgW:"20px",svgH:"20px"}),e.jsx(f,{color:"primary_yellow",children:"Alert"})]}),e.jsx(j,{bg:"card_bg",borderRadius:"8px",p:"11px",children:e.jsx(Zs,{text:`${t}  detected to have Deny List feature. It's an optional feature on Sui designed for regulated coins (learn more). However, it could be misused by HoneyPot scams, which may restrict users from selling the tokens after buying. Please be cautious.`,keywords:["learn more"],onKeywordClick:()=>{window.open("https://docs.sui.io/guides/developer/coin/regulated","_blank")}})})]})}const qe=({data:t,children:o,loading:s,isSwapWidget:r})=>{var p,u,n;const{getTokenInfo:l}=me(),{isApp:i}=oe();return(t==null?void 0:t.providers)&&e.jsx(y,{isLoaded:!s,minW:"128px",minH:"20px",lineHeight:"20px",children:e.jsxs(d,{w:"100%",gap:"4px",align:"center",justify:"flex-end",wrap:"wrap",children:[(t==null?void 0:t.router_summery)!=="1 Streams"?e.jsx(f,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",overflowWrap:"break-word",children:t==null?void 0:t.router_summery}):e.jsx(e.Fragment,{children:e.jsx(f,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",textAlign:"right",overflowWrap:"break-word",children:(u=(p=t==null?void 0:t.routers[0])==null?void 0:p.paths)==null?void 0:u.map((a,h)=>{var g,m,b;return h===0?`${(g=l(a==null?void 0:a.from_type))==null?void 0:g.symbol} > ${(m=l(a==null?void 0:a.to_type))==null?void 0:m.symbol}`:(b=l(a==null?void 0:a.to_type))==null?void 0:b.symbol}).join(" > ")})}),(n=t==null?void 0:t.providers)==null?void 0:n.map(a=>i&&o?e.jsx(B,{w:"16px",h:"16px",imageUrl:U[a].logo}):e.jsxs(ge,{isLazy:!0,trigger:i?"click":"hover",children:[e.jsx(be,{children:e.jsx(j,{children:e.jsx(B,{w:"16px",h:"16px",imageUrl:U[a].logo})})}),e.jsx(Ne,{children:e.jsx(Ae,{w:"unset",children:e.jsx(we,{fontSize:"12px",children:U[a].name})})})]},a)),o]})})};function Ge({children:t,fromToken:o,toToken:s,poolAddress:r}){const{isApp:l}=oe(),{getExplorerUrl:i}=Hs();return e.jsxs(ge,{isLazy:!0,trigger:l?"click":"hover",children:[e.jsx(be,{children:t}),e.jsx(Ne,{children:e.jsx(Ae,{w:"unset",minW:"unset",children:e.jsx(we,{p:"12px",children:e.jsxs(S,{w:"100%",gap:"12px",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs(d,{w:"100%",justify:"space-between",h:"20px",p:"0",children:[e.jsx(d,{children:e.jsx(f,{fontSize:"12px",color:"text_caption",children:"Pool"})}),e.jsx(Ue,{address:r,color:"text_caption",showLink:!!l,onClickLink:()=>{window.open(i(r,"poolAddress"),"_blank")}})]}),e.jsx(Cs,{orientation:"horizontal",borderColor:"border"})]}),[o,s].map(p=>e.jsxs(d,{w:"100%",justify:"space-between",gap:"12px",children:[e.jsxs(d,{children:[e.jsx(B,{imageUrl:p==null?void 0:p.logo_url,w:"24px",h:"24px",coinType:p?p==null?void 0:p.coin_type:"",showTagWidth:"10px",showTagHeight:"10px"}),e.jsx(S,{align:"flex-start",gap:"0px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",fontWeight:"500",children:De((p==null?void 0:p.symbol)||"",10)})})]}),e.jsx(Ue,{color:"primary_gray",showLink:!!l,address:p==null?void 0:p.coin_type,onClickLink:()=>window.open(i(p==null?void 0:p.coin_type,"coin"))})]},p==null?void 0:p.coin_type))]})})})})]})}const ur=({fromToken:t,toToken:o,fromAmount:s,toAmount:r,routes:l,loading:i})=>e.jsxs(S,{w:"100%",align:"center",p:"20px 0 8px",children:[e.jsx(d,{children:i?e.jsxs(e.Fragment,{children:[e.jsx(P,{w:"28px",h:"28px"}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:H(s||"0")}),e.jsx(f,{children:t==null?void 0:t.symbol})]})}),e.jsx(j,{w:"100%",bg:"bg_secondary",p:"20px 8px",borderRadius:"8px",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"},_after:{content:'""',position:"absolute",bottom:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"}},children:e.jsx(S,{gap:i?"56px":"16px",border:"1px dashed",borderColor:"border",borderRadius:"8px",p:i?"36px 0":"16px 0",children:l==null?void 0:l.map((p,u)=>e.jsxs(d,{w:"100%",gap:"0",justify:"space-between",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}},children:[!i&&e.jsx(N,{borderRadius:"12px",h:"24px",bg:"h5_router_percentage_bg",p:"6px 12px",ml:"20px",zIndex:2,children:e.jsx(f,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:ie(p.percentage)})}),e.jsx(S,{w:"100%",align:"center",sx:p.paths.length>1&&!i?{position:"relative",_before:{content:'""',backgroundColor:"bg_secondary",position:"absolute",top:"20px",right:"16px",width:"calc(100% - 32px)",height:"calc(100% - 40px)",border:"1px dashed",borderColor:"border",borderRadius:"8px",zIndex:2}}:{},children:i?e.jsx(e.Fragment,{children:e.jsxs(d,{gap:"8px",position:"absolute",h:"40px",top:"-20px",borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:2,children:[e.jsxs(d,{gap:"0",children:[e.jsx(P,{w:"24px",h:"24px"}),e.jsx(P,{w:"24px",h:"24px"})]}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):p.paths.map(n=>{var a,h,g;return e.jsx(Ge,{fromToken:n==null?void 0:n.fromToken,toToken:n==null?void 0:n.toToken,poolAddress:n==null?void 0:n.pool_address,children:e.jsxs(d,{borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:3,children:[e.jsx(Ze,{coinAIconUrl:(a=n.fromToken)==null?void 0:a.logo_url,coinBIconUrl:(h=n.toToken)==null?void 0:h.logo_url,w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(g=U[n.provider])==null?void 0:g.name}),!!+n.fee_rate&&e.jsx(N,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:ie(n.fee_rate)})})]},n.to_type)},n.to_type)})})]},u))})}),e.jsx(d,{children:i?e.jsxs(e.Fragment,{children:[e.jsx(P,{w:"28px",h:"28px"}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:o==null?void 0:o.logo_url,w:"28px",h:"28px",coinType:o==null?void 0:o.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:H(r||"0")}),e.jsx(f,{children:o==null?void 0:o.symbol})]})})]}),fr=({fromToken:t,toToken:o,fromAmount:s,toAmount:r,routes:l,loading:i})=>{var p;return e.jsxs(S,{w:"100%",gap:"12px",children:[e.jsxs(d,{w:"100%",justify:"space-between",children:[e.jsx(d,{borderRadius:"14px",h:"28px",p:"0 12px 0 0 ",children:i?e.jsxs(e.Fragment,{children:[e.jsx(P,{w:"28px",h:"28px"}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:H(s||"0")}),e.jsx(f,{children:t==null?void 0:t.symbol})]})}),e.jsx(d,{borderRadius:"14px",h:"28px",p:"0 0 0 12px",children:i?e.jsxs(e.Fragment,{children:[e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]}),e.jsx(P,{w:"28px",h:"28px"})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{color:"text_caption",children:H(r||"0")}),e.jsx(f,{children:o==null?void 0:o.symbol}),e.jsx(B,{imageUrl:o==null?void 0:o.logo_url,w:"28px",h:"28px",coinType:o==null?void 0:o.coin_type,showTagWidth:"12px",showTagHeight:"12px"})]})})]}),e.jsxs(j,{w:"100%",bg:"bg_secondary",p:"32px 24px",borderRadius:"12px",position:"relative",children:[e.jsx(j,{position:"absolute",left:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"0px 100px 100px 0px",zIndex:2,children:i?e.jsx(P,{w:"24px",h:"24px"}):e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"24px",h:"24px",coinType:t==null?void 0:t.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(j,{position:"absolute",right:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"100px 0px 0px 100px",zIndex:2,children:i?e.jsx(P,{w:"24px",h:"24px"}):e.jsx(B,{imageUrl:o==null?void 0:o.logo_url,w:"24px",h:"24px",coinType:o==null?void 0:o.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(S,{gap:"32px",border:"1px dashed",borderBottom:((p=l||[])==null?void 0:p.length)>1?"1px dashed":"none",borderColor:"border",borderRadius:"8px",children:l==null?void 0:l.map((u,n)=>e.jsxs(d,{mt:n===0?"-20px":0,mb:n===l.length-1?"-20px":0,w:"100%",justify:"space-between",gap:"0",sx:n>0&&n<l.length-1?{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}}:{position:"relative"},children:[!i&&e.jsx(N,{borderRadius:"12px",h:"24px",bg:"card_bg",p:"8px 12px",ml:"40px",zIndex:2,position:"absolute",children:e.jsx(f,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:ie(u.percentage)})}),e.jsx(d,{h:"40px",w:"100%",justify:"center",zIndex:2,children:i?e.jsx(e.Fragment,{children:e.jsxs(d,{gap:"8px",position:"absolute",h:"40px",borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsxs(d,{gap:"0",children:[e.jsx(P,{w:"24px",h:"24px"}),e.jsx(P,{w:"24px",h:"24px"})]}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):u.paths.map(a=>{var h,g,m;return e.jsx(Ge,{fromToken:a==null?void 0:a.fromToken,toToken:a==null?void 0:a.toToken,poolAddress:a==null?void 0:a.pool_address,children:e.jsxs(d,{borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsx(Ze,{coinAIconUrl:(h=a.fromToken)==null?void 0:h.logo_url,coinBIconUrl:(g=a.toToken)==null?void 0:g.logo_url,variant:"",p:"0px",w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(m=U[a.provider])==null?void 0:m.name}),!!+a.fee_rate&&e.jsx(N,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:ie(a.fee_rate)})})]})},a.to_type)})})]},n))})]})]})},hr=({isOpen:t,onClose:o,data:s,fromCoin:r,toCoin:l,fromAmount:i,toAmount:p})=>{var R;const{isApp:u}=oe(),{getTokenInfo:n}=me(),a=(R=s==null?void 0:s.routers)==null?void 0:R.map(I=>({...I,paths:I.paths.map(v=>({...v,fromToken:n(v.from_type),toToken:n(v.to_type)}))})),h={fromToken:r,toToken:l,fromAmount:i,toAmount:p,routes:a},[g,m]=x.useState(!0),b=x.useRef(null);return x.useEffect(()=>(b.current&&(clearTimeout(b.current),b.current=null),b.current=setTimeout(()=>{m(!1)},200),()=>{b.current&&(clearTimeout(b.current),b.current=null)}),[]),e.jsxs(Es,{autoFocus:!1,returnFocusOnClose:!1,isOpen:t,onClose:o,isCentered:!0,children:[e.jsx(Ts,{}),e.jsxs(Os,{maxW:"1200px",w:u?"calc(100vw - 32px)":"880px",children:[e.jsx(_s,{mr:"-10px",children:e.jsxs(d,{w:"100%",gap:"24px",justify:"space-between",align:"center",children:[e.jsx(f,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Route"}),e.jsxs(d,{gap:"0",align:"center",children:[e.jsx(qe,{data:s}),e.jsx(Us,{mt:"0",position:"static"})]})]})}),e.jsx(Ls,{p:{base:"8px 16px",lg:"16px"},children:u?e.jsx(ur,{...h,loading:g}):e.jsx(fr,{...h,loading:g})})]})]})};function Kr(t){const{formatSwapRouter:o,findRouterLoading:s,fromAmount:r,toAmount:l,fromCoin:i,toCoin:p,isSwapWidget:u=!1,handleSwapWidgetRouterClick:n}=t,[a,h]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(d,{w:"100%",justify:"space-between",p:"0 8px",children:[e.jsx(f,{fontSize:u?"12px":"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Auto Router"}),e.jsx(j,{onClick:g=>{Fs(g),u?n&&n():h(!a)},cursor:"pointer",children:e.jsx(qe,{data:o,loading:s,isSwapWidget:u,children:e.jsx(Z,{xlinkHref:"#icon-icon_spread",fontSize:"16px"})})})]}),a&&!u&&e.jsx(hr,{isOpen:a,onClose:()=>h(!1),fromCoin:i,toCoin:p,data:o,fromAmount:r,toAmount:l})]})}function Dr(t){const{lastRouterData:o,fromCoin:s,toCoin:r,onClose:l,data:i,onSubmitClick:p,isWidget:u}=t,{slippage:n}=Ye(),a=x.useRef(!1),[h,g]=x.useState(i),{fromAmountUi:m,toAmountUi:b,byAmountIn:R}=h,{amountLimit:I}=Je(n,h),[v,ne]=x.useState(!1),{priceImpactTextInfo:ce,marketPrice:pe,sources:V,showPriceImpactTips:X,showPriceImpactWarn:C}=Ve(s,r,m,b),{priceAcceptRouterData:T}=hs(h,o),[Q,le]=x.useState(!1),q=x.useMemo(()=>T!==void 0,[T]),A=x.useMemo(()=>R?r:s,[R]),G=()=>{if(T){if(a.current)return;a.current=!0;const k=tr(T);g(k),setTimeout(()=>{a.current=!1},300)}},ae=x.useMemo(()=>v?!1:!!C,[v,C]);return e.jsxs(S,{textAlign:"center",p:"0px",w:"100%",children:[e.jsxs(S,{w:"100%",gap:"16px",pl:"16px",pr:"16px",pb:"16px",children:[e.jsx(Vs,{bg:u?"swap_bg_primary":"bg_primary",coinA:{amount:m||"0",...s},iconParams:{xlinkHref:"#icon-a-icon_trade",svgFill:"text_caption",fontSize:"12px"},coinB:{amount:b||"0",...r}}),e.jsx(d,{w:"100%",minH:"48px",bg:u?"swap_bg_primary":"bg_primary",borderRadius:"8px",border:"1px solid",borderColor:"border",justifyContent:"center",zIndex:"100",children:e.jsx(je,{fromToken:s,toToken:r,fromValue:m,toValue:b,color:"text_caption"})}),X&&e.jsx(d,{zIndex:"99",w:"100%",mt:"-26px",bg:C?"primary_red_opacity.10":"primary_yellow_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"center",p:"18px 16px 10px",children:e.jsx(f,{color:C?"primary_red":"primary_yellow",fontSize:"12px",lineHeight:"20px",textAlign:"start",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})}),e.jsx(Le,{wrapStyle:{h:"20px",lineHeight:"20px"},label:"Slippage Tolerance",labelStyle:{fontSize:"14px"},value:`${Ke(n).mul(100)}%`,valueStyle:{fontSize:"14px"}}),e.jsx(Le,{wrapStyle:{h:"20px",lineHeight:"20px"},label:R?"Minimum Received":"Maximum Input",labelStyle:{fontSize:"14px"},value:`${Ys(I||0,A==null?void 0:A.decimals,!1,Js.ROUND_DOWN).toString()} ${A==null?void 0:A.symbol}`,valueStyle:{fontSize:"14px"}}),e.jsx(Qe,{fromToken:s,toToken:r,sources:V,marketPrice:pe,priceImpact:ce}),C&&e.jsxs(S,{w:"100%",gap:"8px",children:[e.jsx(d,{w:"100%",bg:"primary_red_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"start",p:"10px 16px",children:e.jsx(f,{color:"primary_red",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The exchange rate of this order deviates from the market price by a large percentage. Are you sure you want to continue the swap?"})}),e.jsxs(d,{w:"100%",justifyContent:"space-between",gap:"16px",children:[e.jsx(te,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:v?"text_highlight":"button_outline_border",onClick:()=>{ne(!0)},children:"Yes, please continue."}),e.jsx(te,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:"button_outline_border",onClick:l,children:"No,cancel it."})]})]}),q&&e.jsxs(d,{w:"100%",justifyContent:"space-between",children:[e.jsxs(d,{children:[e.jsx(Z,{xlinkHref:"#icon-icon_priceupdated1",svgW:"20px",svgH:"20px"}),e.jsx(f,{color:"text_caption",fontWeight:"500",fontSize:"14px",children:"Price updated"})]}),e.jsx(te,{onClick:G,h:"40px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",p:"0 42px",children:"Accept"})]})]}),!q&&e.jsx(te,{disabled:ae,isLoading:Q,mt:"4px",w:"100%",h:"52px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",onClick:()=>{Q||(le(!0),p(h))},children:"Confirm Swap"})]})}export{ur as H,er as M,qe as O,Yr as P,Jr as S,Fr as a,Kr as b,Dr as c,or as d,Lr as u};
