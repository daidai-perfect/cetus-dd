import{a0 as Q,r as D,b as X,j as e,B as I,V as g,T as b,Z as tt}from"./index-B4jTrVt5.js";import{v as j,i as et,h as ot}from"./VaultsAprBlock-BQDGrNy5.js";import{u as at}from"./global-CBXYTEkO.js";import{T as rt}from"./TradeInputGroup-BYuiKiXk.js";import{V as st}from"./VaultsAddResult-DFgxMavu.js";import"./swapWidget-D1zF1AYC.js";import"./api-data-utils-CfZpV00i.js";import"./useFavoritePool-nA1REehH.js";import"./useGetPoolList-SrIdZ2bD.js";import"./useToken-gU82ezEY.js";import"./useTokenBalance-BkarOyZz.js";import"./useAccountBalance-NfP4ArGx.js";import"./useTransaction-yLiBNLZR.js";import"./msafe-oYBkW7LJ.js";import"./index-Yir0s042.js";import"./useFindBestRouting-DbygTx0A.js";import"./HTextLabelBox-CVQsWi60.js";import"./_getAllKeysIn-MdghFlHO.js";function Ft(H){const{isUnstableVault:d,displayTokenA:a,displayTokenB:r,vaultId:y,isReverse:s,assetAction:i,isCheckedZAP:m,currentActionTab:it,autoRefresh:T,apiVaultInfo:t}=H,z=j.useVaultsAdd(d),E=j.useAddButtonStatus(d),L=j.useGetContractVaultInfo(d),{currentAccount:w,isOpenWalletModal:lt,onWalletModal:M}=Q(),{contractVault:l,lpTokenInfo:_,fetchClmmPoolFromContract:P,fetchVaultInfoFromContract:V,gtAumLimit:F,hardCapUSD:W,vaultTvl:G}=L(t==null?void 0:t.vaultsId,t==null?void 0:t.clmmPoolAddress,t==null?void 0:t.tokenA,t==null?void 0:t.tokenB,t==null?void 0:t.isReverse),{amountInputA:C,amountInputB:S,balanceInfoA:n,balanceInfoB:p,amountValueA:N,amountValueB:Z,preCalculateLoading:c,fixAmountA:u,inputTotalValue:k,handleAmountInputChange:R,calculateResult:o,showOnlySideTips:x,doAddAction:B,reCalculateResult:nt,overHardtop:A,zapNumError:v,calculateLpLoading:O,inputTotalValueError:f}=z(i,T,y,s?r:a,s?a:r,s,m,W,G);console.log("ðŸš€ðŸš€ðŸš€ ~ DepositMode.tsx:72 ~ VaultDepositMode ~ inputTotalValueError:",f),console.log("ðŸš€ðŸš€ðŸš€ ~ DepositMode.tsx:71 ~ VaultDepositMode ~ showOnlySideTips:",x);const{btnText:$,btnDisabled:U}=E(m,i,!0,C,S,s?!u:u,n==null?void 0:n.balanceFormat,p==null?void 0:p.balanceFormat,a,r,d,v,o,A,f),{vaultsSlippage:Y}=at();D.useEffect(()=>{t&&P(t.clmmPoolAddress,!0)},[t==null?void 0:t.clmmPoolAddress]),D.useEffect(()=>{y&&V(y)},[y]);const{amountLimit:q}=et(Number(Y),o==null?void 0:o.ft_amount,!1),{lpRate:J}=ot(o==null?void 0:o.ft_amount,d?l==null?void 0:l.lp_token_treasury:l==null?void 0:l.total_supply),{isApp:K}=X();return e.jsxs(e.Fragment,{children:[e.jsx(I,{w:"100%",position:"relative",children:e.jsx(rt,{onClick:()=>{},from:{wrapStyle:{h:"108px"},balance:(n==null?void 0:n.balanceFormat)||"",value:C,amountValue:N,loading:(s?u:!u)&&c&&!m,hideSelf:i!=="both"&&i!==(a==null?void 0:a.coin_type),onChange:h=>{R(h,!s,!0,S)},selectable:!1,placeholder:"0.0",token:a,onFocusChange:h=>{}},to:{wrapStyle:{h:"108px"},balance:(p==null?void 0:p.balanceFormat)||"",value:S,amountValue:Z,loading:(s?!u:u)&&c&&!m,onFocusChange:h=>{},onChange:h=>{R(h,s,!0,C)},selectable:!1,hideSelf:i!=="both"&&i!==(r==null?void 0:r.coin_type),placeholder:"0.0",token:r},iconParams:{xlinkHref:"#icon-icon_add",svgFill:"text_caption",iconCursor:"default"},hasCenterIconHover:!1})}),F?e.jsx(g,{w:"100%",alignItems:"start",children:e.jsx(b,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The vault has reached its current capacity. New deposits are not accepted at this time."})}):A?e.jsx(g,{w:"100%",alignItems:"start",gap:"20px",children:e.jsx(b,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"Your deposit has gone over the vault capacity. Try reducing your deposit amount."})}):v?e.jsx(g,{w:"100%",pb:o||x?"0px":"20px",alignItems:"start",gap:"20px",children:e.jsx(b,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"Single-asset deposit can't be higher than $10,000 at a time."})}):null,e.jsx(tt,{width:"100%",height:"52px",borderRadius:"12px",marginBottom:"8px",fontWeight:"500",fontSize:v?K?"12px":"15px":"16px",isLoading:c,disabled:U||c||F||A,onClick:()=>w!=null&&w.address?B():M(!0),children:$||(m?"Zap In":"Deposit")}),f&&e.jsx(g,{w:"100%",alignItems:"start",children:e.jsx(b,{color:"primary_red",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_red_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The input is too small. Zap mode is not available."})}),(o||x)&&!f&&e.jsxs(g,{w:"100%",pb:"20px",alignItems:"start",gap:"0",children:[i!=="both"&&x&&e.jsx(b,{color:"text_paragraph",fontSize:"12px",lineHeight:"1.8",pb:o?"20px":"0",children:x}),o&&e.jsx(st,{amountLimit:q,inputTotalValue:k,preCalculateLoading:c,calculateLpLoading:O,lpRate:J,lpDecimals:_==null?void 0:_.decimals,poolName:`${a==null?void 0:a.symbol} - ${r==null?void 0:r.symbol}`,labelColor:"primary_gray"})]})]})}export{Ft as default};
