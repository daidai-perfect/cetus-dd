import{e as j,r as y,j as s,V as g,H as r,T as x,d as b,ao as n,ad as _,C as w,I as S,S as f}from"./index-DoN8ny30.js";import{A as v}from"./AddressCopyLink-CgRJ1rwR.js";import{C as L}from"./CetusTooltip-DoT2lYzR.js";import{H as m}from"./HTextLabelBox-BxlI6nGT.js";function G(){return{getGoPlusTokenInfo:async l=>{try{console.log("ðŸš€ðŸš€ðŸš€ ~ file: useGetGoplusTokenInfo.ts:8 ~ getGoPlusTokenInfo ~ getGoPlusTokenInfo:");const{result:i}=await fetch(`https://api.gopluslabs.io/api/v1/sui/token_security?contract_addresses=${l}`).then(p=>p.json()),e=i[l];console.log("ðŸš€ðŸš€ðŸš€ ~ file: useGetGoplusTokenInfo.ts:8 ~ getGoPlusTokenInfo ~ info:",e);const o=e.blacklist.value,a=e.contract_upgradeable.value,u=e.mintable.value,h=e.metadata_modifiable.value;let c=0;return o!=="0"&&c++,a!=="0"&&c++,u!=="0"&&c++,h!=="0"&&c++,{totalSupply:e.total_supply,issueNum:c,blockListValue:o,contractUpgradeableValue:a,mintableValue:u,metadataModifiableValue:h}}catch{return null}}}}function H({tokenInfo:t}){const{getExplorerUrl:l}=j(),{getGoPlusTokenInfo:i}=G(),[e,o]=y.useState(null),[a,u]=y.useState(!1),h=async c=>{try{u(!0);const p=await i(c);console.log("ðŸš€ ~ fetchTokenInfo ~ result:",p),o(p)}catch(p){console.log("ðŸš€ðŸš€ðŸš€ ~ file: token-goplus-modal.vue:110 ~ fetchTokenInfo ~ error:",p)}u(!1)};return y.useEffect(()=>{t.coin_type&&(o(null),h(t.coin_type))},[t.coin_type]),s.jsxs(g,{gap:"0",children:[s.jsx(r,{w:"100%",bg:"card_bg",h:"48px",p:"0 16px",children:s.jsx(x,{fontSize:"14px",color:"text_caption",children:"Basic Info"})}),s.jsxs(g,{w:"100%",gap:"12px",p:"12px 16px",children:[s.jsx(m,{isLoading:!t,label:"Contract Address",value:s.jsxs(r,{gap:"4px",children:[s.jsx(v,{address:t==null?void 0:t.coin_type,showLink:!1,color:"text_caption",fontSize:"14px",onClickLink:()=>window.open(l(t==null?void 0:t.coin_type,"coin"))}),s.jsx(n,{cursor:"pointer",src:"/images/icon_suivision@2x.png",w:"20px",h:"20px",onClick:()=>window.open(l(t==null?void 0:t.coin_type,"coin",{link:"https://suivision.xyz",name:"suivision",img:""}))}),s.jsx(n,{cursor:"pointer",src:"/images/logo_suiscan@2x.png",w:"20px",h:"20px",onClick:()=>window.open(l(t==null?void 0:t.coin_type,"coin",{link:"https://suiscan.xyz",name:"suiscan",img:""}))})]}),labelStyle:{fontSize:"14px",h:"20px",lineHeight:"20px"},skeletonStyle:{valueW:"128px"}}),s.jsx(m,{isLoading:!t,label:"Decimals",value:`${t==null?void 0:t.decimals}`,labelStyle:{fontSize:"14px",lineHeight:"20px",h:"20px"},valueStyle:{fontSize:"14px"},skeletonStyle:{valueW:"128px"}}),b(e==null?void 0:e.totalSupply).gt(0)&&s.jsx(m,{isLoading:a,label:"Total Supply",value:`${_(e==null?void 0:e.totalSupply)}`,labelStyle:{fontSize:"14px",lineHeight:"20px",h:"20px"},valueStyle:{fontSize:"14px"},skeletonStyle:{valueW:"128px"}})]}),s.jsxs(r,{w:"100%",bg:"card_bg",h:"48px",p:"0 16px",justify:"space-between",children:[s.jsx(d,{w:"unset",textColor:"text_caption",text:"Security Info",tips:` which only constitutes basic security info reference and does not fully reflect an asset's quality and credibility. Please do
              your own research if you plan to interact with it deeply`}),b(e==null?void 0:e.issueNum).gt(0)&&s.jsxs(r,{p:"4px 8px",bg:"primary_yellow_opacity.10",borderRadius:"8px",children:[s.jsx(n,{src:"/images/icon_no.png",w:"16px",h:"16px"}),s.jsxs(x,{fontSize:"14px",color:"primary_yellow",children:[e==null?void 0:e.issueNum," ",(e==null?void 0:e.issueNum)>1?"issues":"issue"," found"]})]})]}),s.jsxs(g,{w:"100%",gap:"12px",p:"12px 16px",children:[s.jsx(d,{isLoading:a||!e,text:"Metadata Modifiable",tips:"Whether the metadata is mutable.",status:(e==null?void 0:e.metadataModifiableValue)=="0"?"No":"Yes"}),s.jsx(d,{isLoading:a||!e,text:"Mintable",tips:"Whether the token is still mintable.",status:(e==null?void 0:e.mintableValue)=="0"?"No":"Yes"}),s.jsx(d,{isLoading:a||!e,text:"Blacklist",tips:"Whether the developer can block any other users from trading.",status:(e==null?void 0:e.blockListValue)=="0"?"No":"Yes"}),s.jsx(d,{isLoading:a||!e,text:"Contract Upgradable",tips:"Whether the token contract is upgradable. If the contract is upgradable, developers can arbitrarily modify its functions.",status:(e==null?void 0:e.contractUpgradeableValue)=="0"?"No":"Yes"})]}),s.jsxs(r,{justify:"center",w:"100%",p:"16px",borderTop:"1px solid",borderColor:"border",children:[s.jsx(x,{fontSize:"14px",color:"text_caption",children:"Powered by"}),s.jsx(n,{src:"/images/img_goplus@2x.png",w:"70px",h:"20px"})]})]})}const d=({text:t,tips:l,status:i,w:e="100%",textColor:o="text_paragraph",isLoading:a=!1})=>s.jsxs(r,{w:e,justify:"space-between",children:[s.jsx(L,{placement:"top",tooltip:s.jsx(x,{fontSize:"12px",lineHeight:"20px",color:"text_caption",children:l}),children:s.jsx(w,{as:"button",children:s.jsxs(r,{w:"100%",gap:"4px",children:[s.jsx(x,{fontSize:"14px",color:o,children:t}),s.jsx(S,{xlinkHref:"#icon-icon_tips"})]})})}),i&&s.jsx(f,{isLoaded:!a,children:s.jsxs(r,{children:[s.jsx(x,{color:i=="Yes"?"primary_yellow":"primary_green",children:i}),i=="No"&&s.jsx(n,{src:"/images/icon_yes.png",w:"16px",h:"16px"}),i=="Yes"&&s.jsx(n,{src:"/images/icon_no.png",w:"16px",h:"16px"})]})})]});export{H as T,G as u};
