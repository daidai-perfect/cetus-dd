import{a as c,aa as y,x as O,j as e,H as n,q as m,P as B,h as F,I as S,T as l,m as V,V as w}from"./vendor-BFGDaAdA.js";import{u as G,A as D,R as L}from"./RecentTransactions-DpW-vX0s.js";import{bD as I,bx as M,c_ as $,k as _,cg as q,ch as J,c$ as U,h as Y,a as Q,aY as X,bm as Z,d0 as K,aF as ee,I as h}from"./index-R0MuIW_z.js";import{u as se}from"./useTrack-Cg4F8W9L.js";import{u as te}from"./useAccountBalance-BLVXJ9S1.js";import{C as oe}from"./CopyButton-DL2qFeNz.js";import"./NoData-DtiZhmrM.js";function ne(){const{phantomInstance:x}=I(),{mutate:i}=M(),d=$(),o=()=>{var u,s;const r=JSON.parse(((u=window==null?void 0:window.localStorage)==null?void 0:u.getItem("sui-dapp-kit:wallet-connection-info"))||"{}");if(((s=r==null?void 0:r.state)==null?void 0:s.lastConnectedWalletName)==="Phantom"){const f=d.find(t=>t.name==="Phantom");f&&i({wallet:f})}};c.useEffect(()=>{x&&o()},[x])}function fe({isCetusPump:x}){ne();const[i,d]=c.useState(!1),{currentAccount:o,accounts:r,onWalletModal:b,saveAccounts:u}=_(),{currentWallet:s,connectionStatus:f}=q(),t=J(),{mutate:R}=U(),{getExplorerUrl:A}=Y();Q();const W=y(),{fetchAccountBalance:z}=te(),{isOpen:j,onToggle:H,onClose:p}=O(),{currentNode:ae}=X(),{fetchServiceNames:N}=G(),{phantomInstance:v}=I(),{toTrackWalletConnect:P}=se(),{isInitialized:C}=Z(),{saveCurrentAccount:T,accountServiceNameObj:g,setAccountServiceNameObj:ce}=_();c.useEffect(()=>{T(t||void 0),t&&N([t.address]),t&&C&&z(t.address,!0)},[t,C]),c.useEffect(()=>{const a=(s==null?void 0:s.accounts)||[];u([...a])},[s]),c.useEffect(()=>{t!=null&&t.address&&(s!=null&&s.name)&&P({walletAddress:t==null?void 0:t.address,walletName:s==null?void 0:s.name})},[t==null?void 0:t.address,s==null?void 0:s.name]);const k=c.useMemo(()=>{if(s){const a=K.find(E=>s.name===E.walletName);return a?a.icon.startsWith("http")?a.icon:`/images/wallet/${a.icon}.png`:s.icon}},[s]);return e.jsxs(n,{children:[!o&&e.jsx(m,{borderRadius:"8px",fontSize:"14px",p:"0 16px",h:"36px",fontWeight:"500",onClick:()=>{b(!0),p()},children:"Connect"}),o&&e.jsxs(B,{isLazy:!0,isOpen:j,onClose:p,children:[e.jsx(F,{children:e.jsxs(m,{variant:"unstyled",display:"flex",gap:"8px",cursor:"pointer",borderRadius:"8px",border:"1px solid",borderColor:"border",p:{base:"0 8px",lg:"0 16px"},bg:"block_color_opacity.50",backdropFilter:"blur(20px)",h:"36px",sx:{_hover:{bg:"button_outline_hov_bg"}},onClick:H,children:[e.jsx(S,{src:k,alt:"SVG Image",boxSize:"20px",objectFit:"cover",borderRadius:"4px"}),e.jsx(l,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:(g==null?void 0:g[o.address])||ee(o.address)})]})}),(i?!0:j)&&e.jsx(V,{w:"360px",bg:"bg_secondary",borderRadius:"12px",p:"0px",children:e.jsxs(w,{alignItems:"start",p:"16px",w:"100%",children:[e.jsxs(l,{fontSize:"14px",color:"text_caption",children:["Connected with ",s==null?void 0:s.name]}),e.jsxs(w,{mt:"8px",w:"100%",p:"20px",borderRadius:"12px",alignItems:"start",sx:{backgroundImage:"url('/images/bg@2x.png')",backgroundPosition:"top 0px",backgroundSize:"328px 116px",backgroundRepeat:"no-repeat"},children:[e.jsxs(n,{gap:"8px",children:[e.jsx(S,{src:k,alt:"SVG Image",boxSize:"30px",objectFit:"cover",borderRadius:"8px"}),e.jsx(l,{fontSize:"14px",fontWeight:"500",children:o==null?void 0:o.label})]}),e.jsxs(n,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:"8px",children:[e.jsx(D,{currentAccount:o,accounts:r,onClose:p}),e.jsxs(n,{gap:"4px",children:[e.jsx(oe,{svgW:"24px",svgH:"24px",text:o.address}),e.jsx(h,{xlinkHref:"#icon-icon_link1",w:"24px",h:"24px",svgW:"24px",svgH:"24px",onClick:()=>{window.open(A(o.address),"_blank")}})]})]})]}),x&&e.jsx(m,{variant:"outline",fontSize:"14px",w:"100%",mt:"12px",onClick:()=>{p(),W("/portfolio")},children:"Profile"}),e.jsxs(n,{w:"100%",mt:"8px",children:[e.jsxs(n,{cursor:"pointer",sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},onClick:()=>{d(!0)},children:[e.jsx(h,{xlinkHref:"#icon-icon_recenttransactions",svgW:"20px",svgH:"20px"}),e.jsx(l,{children:"Recent Transactions"})]}),e.jsxs(n,{pl:"16px",cursor:"pointer",sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},onClick:()=>{R(),v&&v.hide(),p()},children:[e.jsx(h,{xlinkHref:"#icon-icon_disconnect",svgW:"20px",svgH:"20px",svgHover:"text_paragraph"}),e.jsx(l,{children:"Disconnect"})]})]})]})})]}),i&&e.jsx(L,{isOpen:i,onClose:()=>d(!1)})]})}export{fe as default};
//# sourceMappingURL=ConnectButton-BeXcINP_.js.map
