const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CollectListBox-DhHd2LDb.js","assets/vendor-BowHGuwE.js","assets/SingleTokenInfo-CSxZ8I4K.js","assets/useToken-BSXfP_ez.js","assets/CopyButton-7PbK9qxy.js","assets/TokenList-BqWOmr43.js","assets/Loading-9Flk9u0a.js","assets/NoData-DwPvHKvw.js","assets/useTokenBalance-DEiNyNp3.js","assets/useAccountBalance-CUv7A_t2.js","assets/BackButton-BEzCQT1L.js","assets/TokenGoplusCard-BGAZHjd0.js","assets/HTextLabelBox-By6y981y.js","assets/index-BxwScL2w.js","assets/index-C25_KQre.js","assets/useNotifiAlerts-Dqq-JPQP.js","assets/useInitNotifi-DmiIxGCF.js","assets/useSigner-BLLz5msp.js","assets/ConnectButton-0iq5xSl8.js","assets/useTrack-BBSMkN1s.js","assets/CheckBox-BSexf8uX.js","assets/useInterval-BcJtT0it.js","assets/CetusLayout-BmVTnRTi.js","assets/swapWidgetConfig-BjX6xynl.js","assets/useSwapHelper-Cqh3pboH.js","assets/global-D9vZ-cnR.js","assets/useGetPoolList-B0OWueJZ.js","assets/useWrapPoolData-BJpgs8J5.js","assets/swapWidget-CBfj7w4b.js","assets/SwapConfirmBlock-2sdKAamn.js","assets/aggregator-DAVgizG-.js","assets/useTransaction-CQE1pk2O.js","assets/swapConfig-Dz-u9WhT.js","assets/useFindBestRouting-HzJvKyud.js","assets/usePriceImpact-bEPT9Bb5.js","assets/index-CjzNaoTx.js","assets/TooltipIcon-DYkZmbtA.js","assets/CurrentPrice-D6ljGrPa.js","assets/HighlightText-DJrmlQd_.js","assets/TradeConfirmAmountInfo-BzojcMUU.js","assets/TradeInputGroup-BcVVlX5r.js","assets/_getAllKeysIn-ChSnMJ3L.js","assets/RefreshButton-CC9lO5Wy.js","assets/useDocumentSize-BkQqV9EZ.js","assets/index-DoMH3iiU.js","assets/debounce-0tBm08Ev.js","assets/index-V0MTi46y.js","assets/Stats-Ch0iBPIm.js","assets/useStatistics-Bp7k-yOL.js","assets/index-BviJCGSg.js","assets/VolumeChart-CG4cZavM.js","assets/Pagination-3B71Y7MZ.js","assets/EmptyTooltip-CG0yP4e0.js","assets/YAxis-C8hGYMkC.js","assets/generateCategoricalChart-D_bnpRkJ.js","assets/linear-DYpwdEgO.js","assets/SortDropBlock-PYQhI6bW.js","assets/TableSortTh-mu6CBf4W.js","assets/index-CeGEXbbO.js","assets/CoinPairInfo-D-OIZbkS.js","assets/PoweredByHaedal-uLEk4Xbu.js","assets/TvlChart-Bt4AjZKH.js","assets/Swap-tEgrTa1i.js","assets/TradeTab-UQ1_zrRS.js","assets/swap-C4sP8bwU.js","assets/Dca-fpJbSS3q.js","assets/MenuDropBlock-BJcBljf7.js","assets/IconBg-DXBmjgex.js","assets/RangeValue-qtek-Tkg.js","assets/ErrorTips-BIV6UrJF.js","assets/useInsufficientBalanceToast-DfZpiZMT.js","assets/icon_currentprice@2x-DeObnx8l.js","assets/WarningTokenTipModal-kjs1nToQ.js","assets/InputBox-DcOfvTu8.js","assets/LimitPriceChart-C5oy9G3x.js","assets/useRpcListener-DP2ip6mE.js","assets/usePreviousValue-ChnvxeJQ.js","assets/Pools-B0t8vErA.js","assets/useFavoritePool-D1hGmbjX.js","assets/SearchInputBlock-DyazRksg.js","assets/index-CZl5DBvQ.js","assets/useRequest-CUxl549M.js","assets/FreshProgressV2-t4x7rebY.js","assets/PositionItem-BskfRO_C.js","assets/VaultsAprBlock-ChO6zwey.js","assets/VaultsAction-GlmxYK2F.js","assets/TotalAmount-Ex5iFF2d.js","assets/msafe-oYBkW7LJ.js","assets/RemoveBlock-CC-b7ty1.js","assets/DepositRatio-5t73LyuF.js","assets/usePositionList-DXcwwVzq.js","assets/useNotifiSubscription-C7bqIToT.js","assets/useXCetusHelper-D-Nfel4b.js","assets/usePosAdd-D2Lj6YHV.js","assets/ExpendItem-iOjX-tKI.js","assets/PositionStatus-CPGU1FQW.js","assets/VTextLabelBox-Cda-xajC.js","assets/useClaimPosition-wxPNeK-Q.js","assets/PositionCurrentPrice-DsCVrz4v.js","assets/Liquidity-VxkHd-hy.js","assets/LiquidityRangeChart-BR5T194R.js","assets/liquidity-deH_oySk.js","assets/ActionButton-DfGKj4_4.js","assets/SelectTokenAndFeeConfirm-DdyS_zyT.js","assets/FeeTierSelect-DGLx37cU.js","assets/PriceInput-CngXDM2r.js","assets/PositionDetail-QpFMzRYC.js","assets/Farms-CU6ffEIc.js","assets/FarmsTable-CYSIk8uv.js","assets/CreatePool-CPQ8tdXJ.js","assets/useCreatePoolHelper-DRMat_7X.js","assets/Limit-4Q12hvVo.js","assets/AggregatorModal-Bq9IWIy6.js","assets/SelectForLiquidity-NEHa7ZZQ.js","assets/VaultsV2-DRshQwFA.js","assets/VaultsRewardsBlock-s6jYVor0.js","assets/XCetus-C3AUfgZt.js","assets/VaultsDetailPage-BvfQZiCL.js","assets/LineChart-BZ4Fa4Ca.js","assets/404-D9N70E_k.js","assets/Error-TOizjG3B.js","assets/TestCoin-NCxU6s3X.js","assets/TestNotifi-BwPaKKWa.js","assets/Test-C6FaWE3x.js"])))=>i.map(i=>d[i]);
var v0=Object.defineProperty;var Ql=t=>{throw TypeError(t)};var y0=(t,e,i)=>e in t?v0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Ua=(t,e,i)=>y0(t,typeof e!="symbol"?e+"":e,i),jl=(t,e,i)=>e.has(t)||Ql("Cannot "+i);var Wo=(t,e,i)=>(jl(t,e,"read from private field"),i?i.call(t):e.get(t)),Wa=(t,e,i)=>e.has(t)?Ql("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),qa=(t,e,i,n)=>(jl(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),Ha=(t,e,i)=>(jl(t,e,"access private method"),i);var Pc=(t,e,i,n)=>({set _(s){qa(t,e,s,i)},get _(){return Wo(t,e,n)}});import{r as reactDomExports,a as reactExports,j as jsxRuntimeExports,g as getDefaultExportFromCjs$2,R as React$2,l as localforage,b as getAugmentedNamespace,d as dist,c as commonjsGlobal$1,e as global,B as Buffer$1,C as Center,f as Box,i as isEqual,P as Popover,h as PopoverTrigger,k as Portal,m as PopoverContent,n as PopoverBody,F as Flex,I as Image$1,H as HStack,T as Text$1,o as Tooltip,V as VStack,S as SkeletonCircle,p as Skeleton,q as Button$1,s as Tag,t as keyframes,u as defineStyleConfig$1,v as cssVar,w as extendTheme,x as useDisclosure,y as useLocation,z as require_typeof,A as interopRequireDefaultExports,D as requireAsyncToGenerator,E as requireDefineProperty,G as useToast,J as commonjsRequire$1,K as ChakraProvider,L as Link,M as Link$1,N as InputGroup,O as Input,Q as InputRightElement,_ as __extends,U as __assign,W as Modal,X as ModalOverlay,Y as ModalContent,Z as ModalHeader,$ as ModalCloseButton,a0 as ModalBody,a1 as Slider,a2 as SliderTrack,a3 as SliderFilledTrack,a4 as SliderThumb,a5 as ModalFooter,a6 as Stack$2,a7 as Heading$1,a8 as InputRightAddon,a9 as Spinner$1,aa as Menu,ab as MenuButton,ac as MenuList,ad as MenuItem,ae as Divider$1,af as Grid,ag as GridItem,ah as createBrowserRouter,ai as Navigate,aj as RouterProvider}from"./vendor-BowHGuwE.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();var client$1={},m$5=reactDomExports;client$1.createRoot=m$5.createRoot,client$1.hydrateRoot=m$5.hydrateRoot;const GeneralLoading=()=>{const t=reactExports.useRef(null);return reactExports.useEffect(()=>{if(t.current){const e=t.current.style;e.setProperty("--size-loader","50px"),e.setProperty("--size-orbe","10px")}},[]),jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",background:"#161616",position:"relative"},children:jsxRuntimeExports.jsx("div",{ref:t,style:{width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px"},children:jsxRuntimeExports.jsx("img",{src:"/images/img-bg-loading.gif",alt:"icon",style:{width:"100px",height:"100px"}})})})};function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let i=!1;const n=t.map(s=>{const a=setRef(s,e);return!i&&typeof a=="function"&&(i=!0),a});if(i)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():setRef(t[s],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}function createSlot(t){const e=createSlotClone(t),i=reactExports.forwardRef((n,s)=>{const{children:a,...l}=n,A=reactExports.Children.toArray(a),T=A.find(isSlottable);if(T){const q=T.props.children,et=A.map(xi=>xi===T?reactExports.Children.count(q)>1?reactExports.Children.only(null):reactExports.isValidElement(q)?q.props.children:null:xi);return jsxRuntimeExports.jsx(e,{...l,ref:s,children:reactExports.isValidElement(q)?reactExports.cloneElement(q,void 0,et):null})}return jsxRuntimeExports.jsx(e,{...l,ref:s,children:a})});return i.displayName=`${t}.Slot`,i}var Slot=createSlot("Slot");function createSlotClone(t){const e=reactExports.forwardRef((i,n)=>{const{children:s,...a}=i,l=reactExports.isValidElement(s)?getElementRef(s):void 0,A=useComposedRefs(l,n);if(reactExports.isValidElement(s)){const T=mergeProps(a,s.props);return s.type!==reactExports.Fragment&&(T.ref=A),reactExports.cloneElement(s,T)}return reactExports.Children.count(s)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(t,e){const i={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?i[n]=(...A)=>{const T=a(...A);return s(...A),T}:s&&(i[n]=s):n==="style"?i[n]={...s,...a}:n==="className"&&(i[n]=[s,a].filter(Boolean).join(" "))}return{...t,...i}}function getElementRef(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}function r$2(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(i=r$2(t[e]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}function clsx(){for(var t,e,i=0,n="",s=arguments.length;i<s;i++)(t=arguments[i])&&(e=r$2(t))&&(n&&(n+=" "),n+=e);return n}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function isArrayOf(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(i=>typeof i=="string"):e.every(i=>Number.isSafeInteger(i)):!1}function afn(t){if(typeof t!="function")throw new Error("function expected");return!0}function astr(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function anumber$1(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function aArr(t){if(!Array.isArray(t))throw new Error("array expected")}function astrArr(t,e){if(!isArrayOf(!0,e))throw new Error(`${t}: array of strings expected`)}function anumArr(t,e){if(!isArrayOf(!1,e))throw new Error(`${t}: array of numbers expected`)}function chain(...t){const e=a=>a,i=(a,l)=>A=>a(l(A)),n=t.map(a=>a.encode).reduceRight(i,e),s=t.map(a=>a.decode).reduce(i,e);return{encode:n,decode:s}}function alphabet(t){const e=typeof t=="string"?t.split(""):t,i=e.length;astrArr("alphabet",e);const n=new Map(e.map((s,a)=>[s,a]));return{encode:s=>(aArr(s),s.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=i)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${t}`);return e[a]})),decode:s=>(aArr(s),s.map(a=>{astr("alphabet.decode",a);const l=n.get(a);if(l===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${t}`);return l}))}}function join(t=""){return astr("join",t),{encode:e=>(astrArr("join.decode",e),e.join(t)),decode:e=>(astr("join.decode",e),e.split(t))}}function convertRadix(t,e,i){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(i<2)throw new Error(`convertRadix: invalid to=${i}, base cannot be less than 2`);if(aArr(t),!t.length)return[];let n=0;const s=[],a=Array.from(t,A=>{if(anumber$1(A),A<0||A>=e)throw new Error(`invalid integer: ${A}`);return A}),l=a.length;for(;;){let A=0,T=!0;for(let q=n;q<l;q++){const et=a[q],xi=e*A,Oi=xi+et;if(!Number.isSafeInteger(Oi)||xi/e!==A||Oi-et!==xi)throw new Error("convertRadix: carry overflow");const Ts=Oi/i;A=Oi%i;const Fs=Math.floor(Ts);if(a[q]=Fs,!Number.isSafeInteger(Fs)||Fs*i+A!==Oi)throw new Error("convertRadix: carry overflow");if(T)Fs?T=!1:n=q;else continue}if(s.push(A),T)break}for(let A=0;A<t.length-1&&t[A]===0;A++)s.push(0);return s.reverse()}const gcd=(t,e)=>e===0?t:gcd(e,t%e),radix2carry=(t,e)=>t+(e-gcd(t,e)),powers$1=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function convertRadix2(t,e,i,n){if(aArr(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(i<=0||i>32)throw new Error(`convertRadix2: wrong to=${i}`);if(radix2carry(e,i)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${i} carryBits=${radix2carry(e,i)}`);let s=0,a=0;const l=powers$1[e],A=powers$1[i]-1,T=[];for(const q of t){if(anumber$1(q),q>=l)throw new Error(`convertRadix2: invalid data word=${q} from=${e}`);if(s=s<<e|q,a+e>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${e}`);for(a+=e;a>=i;a-=i)T.push((s>>a-i&A)>>>0);const et=powers$1[a];if(et===void 0)throw new Error("invalid carry");s&=et-1}if(s=s<<i-a&A,!n&&a>=e)throw new Error("Excess padding");if(!n&&s>0)throw new Error(`Non-zero padding: ${s}`);return n&&a>0&&T.push(s>>>0),T}function radix(t){anumber$1(t);const e=2**8;return{encode:i=>{if(!isBytes$2(i))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(i),e,t)},decode:i=>(anumArr("radix.decode",i),Uint8Array.from(convertRadix(i,t,e)))}}function radix2(t,e=!1){if(anumber$1(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,t)>32||radix2carry(t,8)>32)throw new Error("radix2: carry overflow");return{encode:i=>{if(!isBytes$2(i))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(i),8,t,!e)},decode:i=>(anumArr("radix2.decode",i),Uint8Array.from(convertRadix2(i,t,8,e)))}}function unsafeWrapper(t){return afn(t),function(...e){try{return t.apply(null,e)}catch{}}}const genBase58=t=>chain(radix(58),alphabet(t),join("")),base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),BECH_ALPHABET=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(t){const e=t>>25;let i=(t&33554431)<<5;for(let n=0;n<POLYMOD_GENERATORS.length;n++)(e>>n&1)===1&&(i^=POLYMOD_GENERATORS[n]);return i}function bechChecksum(t,e,i=1){const n=t.length;let s=1;for(let a=0;a<n;a++){const l=t.charCodeAt(a);if(l<33||l>126)throw new Error(`Invalid prefix (${t})`);s=bech32Polymod(s)^l>>5}s=bech32Polymod(s);for(let a=0;a<n;a++)s=bech32Polymod(s)^t.charCodeAt(a)&31;for(let a of e)s=bech32Polymod(s)^a;for(let a=0;a<6;a++)s=bech32Polymod(s);return s^=i,BECH_ALPHABET.encode(convertRadix2([s%powers$1[30]],30,5,!1))}function genBech32(t){const e=t==="bech32"?1:734539939,i=radix2(5),n=i.decode,s=i.encode,a=unsafeWrapper(n);function l(xi,Oi,Ts=90){astr("bech32.encode prefix",xi),isBytes$2(Oi)&&(Oi=Array.from(Oi)),anumArr("bech32.encode",Oi);const Fs=xi.length;if(Fs===0)throw new TypeError(`Invalid prefix length ${Fs}`);const qs=Fs+7+Oi.length;if(Ts!==!1&&qs>Ts)throw new TypeError(`Length ${qs} exceeds limit ${Ts}`);const Us=xi.toLowerCase(),Ls=bechChecksum(Us,Oi,e);return`${Us}1${BECH_ALPHABET.encode(Oi)}${Ls}`}function A(xi,Oi=90){astr("bech32.decode input",xi);const Ts=xi.length;if(Ts<8||Oi!==!1&&Ts>Oi)throw new TypeError(`invalid string length: ${Ts} (${xi}). Expected (8..${Oi})`);const Fs=xi.toLowerCase();if(xi!==Fs&&xi!==xi.toUpperCase())throw new Error("String must be lowercase or uppercase");const qs=Fs.lastIndexOf("1");if(qs===0||qs===-1)throw new Error('Letter "1" must be present between prefix and data only');const Us=Fs.slice(0,qs),Ls=Fs.slice(qs+1);if(Ls.length<6)throw new Error("Data must be at least 6 characters long");const Gs=BECH_ALPHABET.decode(Ls).slice(0,-6),zs=bechChecksum(Us,Gs,e);if(!Ls.endsWith(zs))throw new Error(`Invalid checksum in ${xi}: expected "${zs}"`);return{prefix:Us,words:Gs}}const T=unsafeWrapper(A);function q(xi){const{prefix:Oi,words:Ts}=A(xi,!1);return{prefix:Oi,words:Ts,bytes:n(Ts)}}function et(xi,Oi){return l(xi,s(Oi))}return{encode:l,decode:A,encodeFromBytes:et,decodeToBytes:q,decodeUnsafe:T,fromWords:n,fromWordsUnsafe:a,toWords:s}}const bech32=genBech32("bech32"),toBase58=t=>base58.encode(t),fromBase58=t=>base58.decode(t);function fromBase64(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}const CHUNK_SIZE=8192;function toBase64(t){if(t.length<CHUNK_SIZE)return btoa(String.fromCharCode(...t));let e="";for(var i=0;i<t.length;i+=CHUNK_SIZE){const n=t.slice(i,i+CHUNK_SIZE);e+=String.fromCharCode(...n)}return btoa(e)}function fromHex(t){var s;const e=t.startsWith("0x")?t.slice(2):t,i=e.length%2===0?e:`0${e}`,n=((s=i.match(/[0-9a-fA-F]{2}/g))==null?void 0:s.map(a=>parseInt(a,16)))??[];if(n.length!==i.length/2)throw new Error(`Invalid hex string ${t}`);return Uint8Array.from(n)}function toHex$1(t){return t.reduce((e,i)=>e+i.toString(16).padStart(2,"0"),"")}function chunk(t,e){return Array.from({length:Math.ceil(t.length/e)},(i,n)=>t.slice(n*e,(n+1)*e))}function promiseWithResolvers(){let t,e;return{promise:new Promise((n,s)=>{t=n,e=s}),resolve:t,reject:e}}function ulebEncode(t){const e=[];let i=0;if(t===0)return[0];for(;t>0;)e[i]=t&127,(t>>=7)&&(e[i]|=128),i+=1;return e}function ulebDecode(t){let e=0,i=0,n=0;for(;;){const s=t[n];if(n+=1,e|=(s&127)<<i,!(s&128))break;i+=7}return{value:e,length:n}}class BcsReader{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength)}shift(e){return this.bytePosition+=e,this}read8(){const e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){const e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){const e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){const e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){const e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){const e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){const i=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,i,e);return this.shift(e),n}readULEB(){const e=this.bytePosition+this.dataView.byteOffset,i=new Uint8Array(this.dataView.buffer,e),{value:n,length:s}=ulebDecode(i);return this.shift(s),n}readVec(e){const i=this.readULEB(),n=[];for(let s=0;s<i;s++)n.push(e(this,s,i));return n}}function encodeStr(t,e){switch(e){case"base58":return toBase58(t);case"base64":return toBase64(t);case"hex":return toHex$1(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function decodeStr(t,e){switch(e){case"base58":return fromBase58(t);case"base64":return fromBase64(t);case"hex":return fromHex(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function splitGenericParameters(t,e=["<",">"]){const[i,n]=e,s=[];let a="",l=0;for(let A=0;A<t.length;A++){const T=t[A];if(T===i&&l++,T===n&&l--,l===0&&T===","){s.push(a.trim()),a="";continue}a+=T}return s.push(a.trim()),s}class BcsWriter{constructor({initialSize:e=1024,maxSize:i=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=i,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const i=this.bytePosition+e;if(i>this.size){const n=Math.min(this.maxSize,this.size+this.allocateSize);if(i>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${i}`);this.size=n;const s=new ArrayBuffer(this.size);new Uint8Array(s).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(s)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return toLittleEndian(BigInt(e),8).forEach(i=>this.write8(i)),this}write128(e){return toLittleEndian(BigInt(e),16).forEach(i=>this.write8(i)),this}write256(e){return toLittleEndian(BigInt(e),32).forEach(i=>this.write8(i)),this}writeULEB(e){return ulebEncode(e).forEach(i=>this.write8(i)),this}writeVec(e,i){return this.writeULEB(e.length),Array.from(e).forEach((n,s)=>i(this,n,s,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return encodeStr(this.toBytes(),e)}}function toLittleEndian(t,e){const i=new Uint8Array(e);let n=0;for(;t>0;)i[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return i}var __typeError$8=t=>{throw TypeError(t)},__accessCheck$8=(t,e,i)=>e.has(t)||__typeError$8("Cannot "+i),__privateGet$8=(t,e,i)=>(__accessCheck$8(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd$8=(t,e,i)=>e.has(t)?__typeError$8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet$7=(t,e,i,n)=>(__accessCheck$8(t,e,"write to private field"),e.set(t,i),i),_write,_serialize,_schema,_bytes;const _BcsType=class h0{constructor(e){__privateAdd$8(this,_write),__privateAdd$8(this,_serialize),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),__privateSet$7(this,_write,e.write),__privateSet$7(this,_serialize,e.serialize??((i,n)=>{const s=new BcsWriter({initialSize:this.serializedSize(i)??void 0,...n});return __privateGet$8(this,_write).call(this,i,s),s.toBytes()})),this.validate=e.validate??(()=>{})}write(e,i){this.validate(e),__privateGet$8(this,_write).call(this,e,i)}serialize(e,i){return this.validate(e),new SerializedBcs(this,__privateGet$8(this,_serialize).call(this,e,i))}parse(e){const i=new BcsReader(e);return this.read(i)}fromHex(e){return this.parse(fromHex(e))}fromBase58(e){return this.parse(fromBase58(e))}fromBase64(e){return this.parse(fromBase64(e))}transform({name:e,input:i,output:n,validate:s}){return new h0({name:e??this.name,read:a=>n?n(this.read(a)):this.read(a),write:(a,l)=>__privateGet$8(this,_write).call(this,i?i(a):a,l),serializedSize:a=>this.serializedSize(i?i(a):a),serialize:(a,l)=>__privateGet$8(this,_serialize).call(this,i?i(a):a,l),validate:a=>{s==null||s(a),this.validate(i?i(a):a)}})}};_write=new WeakMap;_serialize=new WeakMap;let BcsType=_BcsType;const SERIALIZED_BCS_BRAND=Symbol.for("@mysten/serialized-bcs");function isSerializedBcs(t){return!!t&&typeof t=="object"&&t[SERIALIZED_BCS_BRAND]===!0}class SerializedBcs{constructor(e,i){__privateAdd$8(this,_schema),__privateAdd$8(this,_bytes),__privateSet$7(this,_schema,e),__privateSet$7(this,_bytes,i)}get[SERIALIZED_BCS_BRAND](){return!0}toBytes(){return __privateGet$8(this,_bytes)}toHex(){return toHex$1(__privateGet$8(this,_bytes))}toBase64(){return toBase64(__privateGet$8(this,_bytes))}toBase58(){return toBase58(__privateGet$8(this,_bytes))}parse(){return __privateGet$8(this,_schema).parse(__privateGet$8(this,_bytes))}}_schema=new WeakMap;_bytes=new WeakMap;function fixedSizeBcsType({size:t,...e}){return new BcsType({...e,serializedSize:()=>t})}function uIntBcsType({readMethod:t,writeMethod:e,...i}){return fixedSizeBcsType({...i,read:n=>n[t](),write:(n,s)=>s[e](n),validate:n=>{var s;if(n<0||n>i.maxValue)throw new TypeError(`Invalid ${i.name} value: ${n}. Expected value in range 0-${i.maxValue}`);(s=i.validate)==null||s.call(i,n)}})}function bigUIntBcsType({readMethod:t,writeMethod:e,...i}){return fixedSizeBcsType({...i,read:n=>n[t](),write:(n,s)=>s[e](BigInt(n)),validate:n=>{var a;const s=BigInt(n);if(s<0||s>i.maxValue)throw new TypeError(`Invalid ${i.name} value: ${s}. Expected value in range 0-${i.maxValue}`);(a=i.validate)==null||a.call(i,s)}})}function dynamicSizeBcsType({serialize:t,...e}){const i=new BcsType({...e,serialize:t,write:(n,s)=>{for(const a of i.serialize(n).toBytes())s.write8(a)}});return i}function stringLikeBcsType({toBytes:t,fromBytes:e,...i}){return new BcsType({...i,read:n=>{const s=n.readULEB(),a=n.readBytes(s);return e(a)},write:(n,s)=>{const a=t(n);s.writeULEB(a.length);for(let l=0;l<a.length;l++)s.write8(a[l])},serialize:n=>{const s=t(n),a=ulebEncode(s.length),l=new Uint8Array(a.length+s.length);return l.set(a,0),l.set(s,a.length),l},validate:n=>{var s;if(typeof n!="string")throw new TypeError(`Invalid ${i.name} value: ${n}. Expected string`);(s=i.validate)==null||s.call(i,n)}})}function lazyBcsType(t){let e=null;function i(){return e||(e=t()),e}return new BcsType({name:"lazy",read:n=>i().read(n),serializedSize:n=>i().serializedSize(n),write:(n,s)=>i().write(n,s),serialize:(n,s)=>i().serialize(n,s).toBytes()})}const bcs$2={u8(t){return uIntBcsType({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return uIntBcsType({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return uIntBcsType({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return bigUIntBcsType({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return bigUIntBcsType({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return bigUIntBcsType({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return fixedSizeBcsType({name:"bool",size:1,read:e=>e.read8()===1,write:(e,i)=>i.write8(e?1:0),...t,validate:e=>{var i;if((i=t==null?void 0:t.validate)==null||i.call(t,e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return dynamicSizeBcsType({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(ulebEncode(e)),...t})},bytes(t,e){return fixedSizeBcsType({name:`bytes[${t}]`,size:t,read:i=>i.readBytes(t),write:(i,n)=>{const s=new Uint8Array(i);for(let a=0;a<t;a++)n.write8(s[a]??0)},...e,validate:i=>{var n;if((n=e==null?void 0:e.validate)==null||n.call(e,i),!i||typeof i!="object"||!("length"in i))throw new TypeError(`Expected array, found ${typeof i}`);if(i.length!==t)throw new TypeError(`Expected array of length ${t}, found ${i.length}`)}})},byteVector(t){return new BcsType({name:"bytesVector",read:e=>{const i=e.readULEB();return e.readBytes(i)},write:(e,i)=>{const n=new Uint8Array(e);i.writeULEB(n.length);for(let s=0;s<n.length;s++)i.write8(n[s]??0)},...t,serializedSize:e=>{const i="length"in e?e.length:null;return i==null?null:ulebEncode(i).length+i},validate:e=>{var i;if((i=t==null?void 0:t.validate)==null||i.call(t,e),!e||typeof e!="object"||!("length"in e))throw new TypeError(`Expected array, found ${typeof e}`)}})},string(t){return stringLikeBcsType({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,i){return new BcsType({name:`${e.name}[${t}]`,read:n=>{const s=new Array(t);for(let a=0;a<t;a++)s[a]=e.read(n);return s},write:(n,s)=>{for(const a of n)e.write(a,s)},...i,validate:n=>{var s;if((s=i==null?void 0:i.validate)==null||s.call(i,n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return bcs$2.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new BcsType({name:`vector<${t.name}>`,read:i=>{const n=i.readULEB(),s=new Array(n);for(let a=0;a<n;a++)s[a]=t.read(i);return s},write:(i,n)=>{n.writeULEB(i.length);for(const s of i)t.write(s,n)},...e,validate:i=>{var n;if((n=e==null?void 0:e.validate)==null||n.call(e,i),!i||typeof i!="object"||!("length"in i))throw new TypeError(`Expected array, found ${typeof i}`)}})},tuple(t,e){return new BcsType({name:`(${t.map(i=>i.name).join(", ")})`,serializedSize:i=>{let n=0;for(let s=0;s<t.length;s++){const a=t[s].serializedSize(i[s]);if(a==null)return null;n+=a}return n},read:i=>{const n=[];for(const s of t)n.push(s.read(i));return n},write:(i,n)=>{for(let s=0;s<t.length;s++)t[s].write(i[s],n)},...e,validate:i=>{var n;if((n=e==null?void 0:e.validate)==null||n.call(e,i),!Array.isArray(i))throw new TypeError(`Expected array, found ${typeof i}`);if(i.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${i.length}`)}})},struct(t,e,i){const n=Object.entries(e);return new BcsType({name:t,serializedSize:s=>{let a=0;for(const[l,A]of n){const T=A.serializedSize(s[l]);if(T==null)return null;a+=T}return a},read:s=>{const a={};for(const[l,A]of n)a[l]=A.read(s);return a},write:(s,a)=>{for(const[l,A]of n)A.write(s[l],a)},...i,validate:s=>{var a;if((a=i==null?void 0:i.validate)==null||a.call(i,s),typeof s!="object"||s==null)throw new TypeError(`Expected object, found ${typeof s}`)}})},enum(t,e,i){const n=Object.entries(e);return new BcsType({name:t,read:s=>{const a=s.readULEB(),l=n[a];if(!l)throw new TypeError(`Unknown value ${a} for enum ${t}`);const[A,T]=l;return{[A]:(T==null?void 0:T.read(s))??!0,$kind:A}},write:(s,a)=>{const[l,A]=Object.entries(s).filter(([T])=>Object.hasOwn(e,T))[0];for(let T=0;T<n.length;T++){const[q,et]=n[T];if(q===l){a.writeULEB(T),et==null||et.write(A,a);return}}},...i,validate:s=>{var A;if((A=i==null?void 0:i.validate)==null||A.call(i,s),typeof s!="object"||s==null)throw new TypeError(`Expected object, found ${typeof s}`);const a=Object.keys(s).filter(T=>s[T]!==void 0&&Object.hasOwn(e,T));if(a.length!==1)throw new TypeError(`Expected object with one key, but found ${a.length} for type ${t}}`);const[l]=a;if(!Object.hasOwn(e,l))throw new TypeError(`Invalid enum variant ${l}`)}})},map(t,e){return bcs$2.vector(bcs$2.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:i=>[...i.entries()],output:i=>{const n=new Map;for(const[s,a]of i)n.set(s,a);return n}})},lazy(t){return lazyBcsType(t)}},toB58=toBase58,fromB58=fromBase58,toB64=toBase64,fromB64=fromBase64,toHEX=toHex$1,fromHEX=fromHex,esm=Object.freeze(Object.defineProperty({__proto__:null,BcsReader,BcsType,BcsWriter,SerializedBcs,bcs:bcs$2,decodeStr,encodeStr,fromB58,fromB64,fromBase58,fromBase64,fromHEX,fromHex,isSerializedBcs,splitGenericParameters,toB58,toB64,toBase58,toBase64,toHEX,toHex:toHex$1},Symbol.toStringTag,{value:"Module"})),SUI_NS_NAME_REGEX$1=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX$1=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH$1=235;function isValidSuiNSName$1(t){return t.length>MAX_SUI_NS_NAME_LENGTH$1?!1:t.includes("@")?SUI_NS_NAME_REGEX$1.test(t):SUI_NS_DOMAIN_REGEX$1.test(t)}function normalizeSuiNSName$1(t,e="at"){const i=t.toLowerCase();let n;if(i.includes("@")){if(!SUI_NS_NAME_REGEX$1.test(i))throw new Error(`Invalid SuiNS name ${t}`);const[s,a]=i.split("@");n=[...s?s.split("."):[],a]}else{if(!SUI_NS_DOMAIN_REGEX$1.test(i))throw new Error(`Invalid SuiNS name ${t}`);n=i.split(".").slice(0,-1)}return e==="dot"?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}const NAME_PATTERN$1=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX$1=/^\d+$/,MAX_APP_SIZE$1=64,NAME_SEPARATOR$1="/",isValidNamedPackage$1=t=>{const e=t.split(NAME_SEPARATOR$1);if(e.length<2||e.length>3)return!1;const[i,n,s]=e;return s!==void 0&&!VERSION_REGEX$1.test(s)||!isValidSuiNSName$1(i)?!1:NAME_PATTERN$1.test(n)&&n.length<MAX_APP_SIZE$1},TX_DIGEST_LENGTH$1=32;function isValidTransactionDigest$1(t){try{return fromBase58(t).length===TX_DIGEST_LENGTH$1}catch{return!1}}const SUI_ADDRESS_LENGTH$1=32;function isValidSuiAddress$1(t){return isHex$3(t)&&getHexByteLength$1(t)===SUI_ADDRESS_LENGTH$1}function isValidSuiObjectId$1(t){return isValidSuiAddress$1(t)}function parseTypeTag$1(t){return t.includes("::")?parseStructTag$1(t):t}function parseStructTag$1(t){const[e,i]=t.split("::"),n=isValidNamedPackage$1(e),s=t.slice(e.length+i.length+4),a=s.includes("<")?s.slice(0,s.indexOf("<")):s,l=s.includes("<")?splitGenericParameters(s.slice(s.indexOf("<")+1,s.lastIndexOf(">"))).map(A=>parseTypeTag$1(A.trim())):[];return{address:n?e:normalizeSuiAddress$1(e),module:i,name:a,typeParams:l}}function normalizeStructTag$1(t){const{address:e,module:i,name:n,typeParams:s}=typeof t=="string"?parseStructTag$1(t):t,a=(s==null?void 0:s.length)>0?`<${s.map(l=>typeof l=="string"?l:normalizeStructTag$1(l)).join(",")}>`:"";return`${e}::${i}::${n}${a}`}function normalizeSuiAddress$1(t,e=!1){let i=t.toLowerCase();return!e&&i.startsWith("0x")&&(i=i.slice(2)),`0x${i.padStart(SUI_ADDRESS_LENGTH$1*2,"0")}`}function normalizeSuiObjectId$1(t,e=!1){return normalizeSuiAddress$1(t,e)}function isHex$3(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function getHexByteLength$1(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}BigInt(1e9);const MOVE_STDLIB_ADDRESS$1="0x1",SUI_FRAMEWORK_ADDRESS$1="0x2",SUI_CLOCK_OBJECT_ID$1=normalizeSuiObjectId$1("0x6"),SUI_TYPE_ARG$1=`${SUI_FRAMEWORK_ADDRESS$1}::sui::SUI`;normalizeSuiObjectId$1("0x5");const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function anumber(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function abytes$1(t,...e){if(!isBytes$1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ahash(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");anumber(t.outputLen),anumber(t.blockLen)}function aexists(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aoutput(t,e){abytes$1(t);const i=e.outputLen;if(t.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}function u32(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function clean(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function createView(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const swap8IfBE=isLE?t=>t:t=>byteSwap(t);function byteSwap32(t){for(let e=0;e<t.length;e++)t[e]=byteSwap(t[e]);return t}const swap32IfBE=isLE?t=>t:byteSwap32,hasHexBuiltin$1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes$1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$1(t){if(abytes$1(t),hasHexBuiltin$1)return t.toHex();let e="";for(let i=0;i<t.length;i++)e+=hexes$1[t[i]];return e}function utf8ToBytes(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function toBytes(t){return typeof t=="string"&&(t=utf8ToBytes(t)),abytes$1(t),t}function kdfInputToBytes(t){return typeof t=="string"&&(t=utf8ToBytes(t)),abytes$1(t),t}function checkOpts(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}let Hash$1=class{};function createHasher(t){const e=n=>t().update(toBytes(n)).digest(),i=t();return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=()=>t(),e}function createOptHasher(t){const e=(n,s)=>t(s).update(toBytes(n)).digest(),i=t({});return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=n=>t(n),e}function randomBytes(t=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(t));if(crypto$2&&typeof crypto$2.randomBytes=="function")return Uint8Array.from(crypto$2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const BSIGMA=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);function setBigUint64(t,e,i,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,i,n);const s=BigInt(32),a=BigInt(4294967295),l=Number(i>>s&a),A=Number(i&a),T=n?4:0,q=n?0:4;t.setUint32(e+T,l,n),t.setUint32(e+q,A,n)}class HashMD extends Hash$1{constructor(e,i,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=i,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){aexists(this),e=toBytes(e),abytes$1(e);const{view:i,buffer:n,blockLen:s}=this,a=e.length;for(let l=0;l<a;){const A=Math.min(s-this.pos,a-l);if(A===s){const T=createView(e);for(;s<=a-l;l+=s)this.process(T,l);continue}n.set(e.subarray(l,l+A),this.pos),this.pos+=A,l+=A,this.pos===s&&(this.process(i,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){aexists(this),aoutput(e,this),this.finished=!0;const{buffer:i,view:n,blockLen:s,isLE:a}=this;let{pos:l}=this;i[l++]=128,clean(this.buffer.subarray(l)),this.padOffset>s-l&&(this.process(n,0),l=0);for(let xi=l;xi<s;xi++)i[xi]=0;setBigUint64(n,s-8,BigInt(this.length*8),a),this.process(n,0);const A=createView(e),T=this.outputLen;if(T%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const q=T/4,et=this.get();if(q>et.length)throw new Error("_sha2: outputLen bigger than state");for(let xi=0;xi<q;xi++)A.setUint32(4*xi,et[xi],a)}digest(){const{buffer:e,outputLen:i}=this;this.digestInto(e);const n=e.slice(0,i);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:i,buffer:n,length:s,finished:a,destroyed:l,pos:A}=this;return e.destroyed=l,e.finished=a,e.length=s,e.pos=A,s%i&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&U32_MASK64),l:Number(t>>_32n&U32_MASK64)}:{h:Number(t>>_32n&U32_MASK64)|0,l:Number(t&U32_MASK64)|0}}function split(t,e=!1){const i=t.length;let n=new Uint32Array(i),s=new Uint32Array(i);for(let a=0;a<i;a++){const{h:l,l:A}=fromBig(t[a],e);[n[a],s[a]]=[l,A]}return[n,s]}const shrSH=(t,e,i)=>t>>>i,shrSL=(t,e,i)=>t<<32-i|e>>>i,rotrSH=(t,e,i)=>t>>>i|e<<32-i,rotrSL=(t,e,i)=>t<<32-i|e>>>i,rotrBH=(t,e,i)=>t<<64-i|e>>>i-32,rotrBL=(t,e,i)=>t>>>i-32|e<<64-i,rotr32H=(t,e)=>e,rotr32L=(t,e)=>t;function add$3(t,e,i,n){const s=(e>>>0)+(n>>>0);return{h:t+i+(s/2**32|0)|0,l:s|0}}const add3L=(t,e,i)=>(t>>>0)+(e>>>0)+(i>>>0),add3H=(t,e,i,n)=>e+i+n+(t/2**32|0)|0,add4L=(t,e,i,n)=>(t>>>0)+(e>>>0)+(i>>>0)+(n>>>0),add4H=(t,e,i,n,s)=>e+i+n+s+(t/2**32|0)|0,add5L=(t,e,i,n,s)=>(t>>>0)+(e>>>0)+(i>>>0)+(n>>>0)+(s>>>0),add5H=(t,e,i,n,s,a)=>e+i+n+s+a+(t/2**32|0)|0,B2B_IV=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),BBUF=new Uint32Array(32);function G1b(t,e,i,n,s,a){const l=s[a],A=s[a+1];let T=BBUF[2*t],q=BBUF[2*t+1],et=BBUF[2*e],xi=BBUF[2*e+1],Oi=BBUF[2*i],Ts=BBUF[2*i+1],Fs=BBUF[2*n],qs=BBUF[2*n+1],Us=add3L(T,et,l);q=add3H(Us,q,xi,A),T=Us|0,{Dh:qs,Dl:Fs}={Dh:qs^q,Dl:Fs^T},{Dh:qs,Dl:Fs}={Dh:rotr32H(qs,Fs),Dl:rotr32L(qs)},{h:Ts,l:Oi}=add$3(Ts,Oi,qs,Fs),{Bh:xi,Bl:et}={Bh:xi^Ts,Bl:et^Oi},{Bh:xi,Bl:et}={Bh:rotrSH(xi,et,24),Bl:rotrSL(xi,et,24)},BBUF[2*t]=T,BBUF[2*t+1]=q,BBUF[2*e]=et,BBUF[2*e+1]=xi,BBUF[2*i]=Oi,BBUF[2*i+1]=Ts,BBUF[2*n]=Fs,BBUF[2*n+1]=qs}function G2b(t,e,i,n,s,a){const l=s[a],A=s[a+1];let T=BBUF[2*t],q=BBUF[2*t+1],et=BBUF[2*e],xi=BBUF[2*e+1],Oi=BBUF[2*i],Ts=BBUF[2*i+1],Fs=BBUF[2*n],qs=BBUF[2*n+1],Us=add3L(T,et,l);q=add3H(Us,q,xi,A),T=Us|0,{Dh:qs,Dl:Fs}={Dh:qs^q,Dl:Fs^T},{Dh:qs,Dl:Fs}={Dh:rotrSH(qs,Fs,16),Dl:rotrSL(qs,Fs,16)},{h:Ts,l:Oi}=add$3(Ts,Oi,qs,Fs),{Bh:xi,Bl:et}={Bh:xi^Ts,Bl:et^Oi},{Bh:xi,Bl:et}={Bh:rotrBH(xi,et,63),Bl:rotrBL(xi,et,63)},BBUF[2*t]=T,BBUF[2*t+1]=q,BBUF[2*e]=et,BBUF[2*e+1]=xi,BBUF[2*i]=Oi,BBUF[2*i+1]=Ts,BBUF[2*n]=Fs,BBUF[2*n+1]=qs}function checkBlake2Opts(t,e={},i,n,s){if(anumber(i),t<0||t>i)throw new Error("outputLen bigger than keyLen");const{key:a,salt:l,personalization:A}=e;if(a!==void 0&&(a.length<1||a.length>i))throw new Error("key length must be undefined or 1.."+i);if(l!==void 0&&l.length!==n)throw new Error("salt must be undefined or "+n);if(A!==void 0&&A.length!==s)throw new Error("personalization must be undefined or "+s)}class BLAKE2 extends Hash$1{constructor(e,i){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,anumber(e),anumber(i),this.blockLen=e,this.outputLen=i,this.buffer=new Uint8Array(e),this.buffer32=u32(this.buffer)}update(e){aexists(this),e=toBytes(e),abytes$1(e);const{blockLen:i,buffer:n,buffer32:s}=this,a=e.length,l=e.byteOffset,A=e.buffer;for(let T=0;T<a;){this.pos===i&&(swap32IfBE(s),this.compress(s,0,!1),swap32IfBE(s),this.pos=0);const q=Math.min(i-this.pos,a-T),et=l+T;if(q===i&&!(et%4)&&T+q<a){const xi=new Uint32Array(A,et,Math.floor((a-T)/4));swap32IfBE(xi);for(let Oi=0;T+i<a;Oi+=s.length,T+=i)this.length+=i,this.compress(xi,Oi,!1);swap32IfBE(xi);continue}n.set(e.subarray(T,T+q),this.pos),this.pos+=q,this.length+=q,T+=q}return this}digestInto(e){aexists(this),aoutput(e,this);const{pos:i,buffer32:n}=this;this.finished=!0,clean(this.buffer.subarray(i)),swap32IfBE(n),this.compress(n,0,!0),swap32IfBE(n);const s=u32(e);this.get().forEach((a,l)=>s[l]=swap8IfBE(a))}digest(){const{buffer:e,outputLen:i}=this;this.digestInto(e);const n=e.slice(0,i);return this.destroy(),n}_cloneInto(e){const{buffer:i,length:n,finished:s,destroyed:a,outputLen:l,pos:A}=this;return e||(e=new this.constructor({dkLen:l})),e.set(...this.get()),e.buffer.set(i),e.destroyed=a,e.finished=s,e.length=n,e.pos=A,e.outputLen=l,e}clone(){return this._cloneInto()}}let BLAKE2b$1=class extends BLAKE2{constructor(e={}){const i=e.dkLen===void 0?64:e.dkLen;super(128,i),this.v0l=B2B_IV[0]|0,this.v0h=B2B_IV[1]|0,this.v1l=B2B_IV[2]|0,this.v1h=B2B_IV[3]|0,this.v2l=B2B_IV[4]|0,this.v2h=B2B_IV[5]|0,this.v3l=B2B_IV[6]|0,this.v3h=B2B_IV[7]|0,this.v4l=B2B_IV[8]|0,this.v4h=B2B_IV[9]|0,this.v5l=B2B_IV[10]|0,this.v5h=B2B_IV[11]|0,this.v6l=B2B_IV[12]|0,this.v6h=B2B_IV[13]|0,this.v7l=B2B_IV[14]|0,this.v7h=B2B_IV[15]|0,checkBlake2Opts(i,e,64,16,16);let{key:n,personalization:s,salt:a}=e,l=0;if(n!==void 0&&(n=toBytes(n),l=n.length),this.v0l^=this.outputLen|l<<8|65536|1<<24,a!==void 0){a=toBytes(a);const A=u32(a);this.v4l^=swap8IfBE(A[0]),this.v4h^=swap8IfBE(A[1]),this.v5l^=swap8IfBE(A[2]),this.v5h^=swap8IfBE(A[3])}if(s!==void 0){s=toBytes(s);const A=u32(s);this.v6l^=swap8IfBE(A[0]),this.v6h^=swap8IfBE(A[1]),this.v7l^=swap8IfBE(A[2]),this.v7h^=swap8IfBE(A[3])}if(n!==void 0){const A=new Uint8Array(this.blockLen);A.set(n),this.update(A)}}get(){let{v0l:e,v0h:i,v1l:n,v1h:s,v2l:a,v2h:l,v3l:A,v3h:T,v4l:q,v4h:et,v5l:xi,v5h:Oi,v6l:Ts,v6h:Fs,v7l:qs,v7h:Us}=this;return[e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts,Fs,qs,Us]}set(e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts,Fs,qs,Us){this.v0l=e|0,this.v0h=i|0,this.v1l=n|0,this.v1h=s|0,this.v2l=a|0,this.v2h=l|0,this.v3l=A|0,this.v3h=T|0,this.v4l=q|0,this.v4h=et|0,this.v5l=xi|0,this.v5h=Oi|0,this.v6l=Ts|0,this.v6h=Fs|0,this.v7l=qs|0,this.v7h=Us|0}compress(e,i,n){this.get().forEach((T,q)=>BBUF[q]=T),BBUF.set(B2B_IV,16);let{h:s,l:a}=fromBig(BigInt(this.length));BBUF[24]=B2B_IV[8]^a,BBUF[25]=B2B_IV[9]^s,n&&(BBUF[28]=~BBUF[28],BBUF[29]=~BBUF[29]);let l=0;const A=BSIGMA;for(let T=0;T<12;T++)G1b(0,4,8,12,e,i+2*A[l++]),G2b(0,4,8,12,e,i+2*A[l++]),G1b(1,5,9,13,e,i+2*A[l++]),G2b(1,5,9,13,e,i+2*A[l++]),G1b(2,6,10,14,e,i+2*A[l++]),G2b(2,6,10,14,e,i+2*A[l++]),G1b(3,7,11,15,e,i+2*A[l++]),G2b(3,7,11,15,e,i+2*A[l++]),G1b(0,5,10,15,e,i+2*A[l++]),G2b(0,5,10,15,e,i+2*A[l++]),G1b(1,6,11,12,e,i+2*A[l++]),G2b(1,6,11,12,e,i+2*A[l++]),G1b(2,7,8,13,e,i+2*A[l++]),G2b(2,7,8,13,e,i+2*A[l++]),G1b(3,4,9,14,e,i+2*A[l++]),G2b(3,4,9,14,e,i+2*A[l++]);this.v0l^=BBUF[0]^BBUF[16],this.v0h^=BBUF[1]^BBUF[17],this.v1l^=BBUF[2]^BBUF[18],this.v1h^=BBUF[3]^BBUF[19],this.v2l^=BBUF[4]^BBUF[20],this.v2h^=BBUF[5]^BBUF[21],this.v3l^=BBUF[6]^BBUF[22],this.v3h^=BBUF[7]^BBUF[23],this.v4l^=BBUF[8]^BBUF[24],this.v4h^=BBUF[9]^BBUF[25],this.v5l^=BBUF[10]^BBUF[26],this.v5h^=BBUF[11]^BBUF[27],this.v6l^=BBUF[12]^BBUF[28],this.v6h^=BBUF[13]^BBUF[29],this.v7l^=BBUF[14]^BBUF[30],this.v7h^=BBUF[15]^BBUF[31],clean(BBUF)}destroy(){this.destroyed=!0,clean(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const blake2b$3=createOptHasher(t=>new BLAKE2b$1(t)),BLAKE2b=BLAKE2b$1,blake2b$1=blake2b$3,blake2b$2=Object.freeze(Object.defineProperty({__proto__:null,BLAKE2b,blake2b:blake2b$1},Symbol.toStringTag,{value:"Module"})),VECTOR_REGEX$1=/^vector<(.+)>$/,STRUCT_REGEX$1=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;let TypeTagSerializer$1=class Xc{static parseFromStr(e,i=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const n=e.match(VECTOR_REGEX$1);if(n)return{vector:Xc.parseFromStr(n[1],i)};const s=e.match(STRUCT_REGEX$1);if(s)return{struct:{address:i?normalizeSuiAddress$1(s[1]):s[1],module:s[2],name:s[3],typeParams:s[5]===void 0?[]:Xc.parseStructTypeArgs(s[5],i)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,i=!1){return splitGenericParameters(e).map(n=>Xc.parseFromStr(n,i))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${Xc.tagToString(e.vector)}>`;if("struct"in e){const i=e.struct,n=i.typeParams.map(Xc.tagToString).join(", ");return`${i.address}::${i.module}::${i.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function unsafe_u64$1(t){return bcs$2.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function optionEnum$1(t){return bcs$2.enum("Option",{None:null,Some:t})}const Address$1=bcs$2.bytes(SUI_ADDRESS_LENGTH$1).transform({validate:t=>{const e=typeof t=="string"?t:toHex$1(t);if(!e||!isValidSuiAddress$1(normalizeSuiAddress$1(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?fromHex(normalizeSuiAddress$1(t)):t,output:t=>normalizeSuiAddress$1(toHex$1(t))}),ObjectDigest$1=bcs$2.vector(bcs$2.u8()).transform({name:"ObjectDigest",input:t=>fromBase58(t),output:t=>toBase58(new Uint8Array(t)),validate:t=>{if(fromBase58(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef$1=bcs$2.struct("SuiObjectRef",{objectId:Address$1,version:bcs$2.u64(),digest:ObjectDigest$1}),SharedObjectRef$1=bcs$2.struct("SharedObjectRef",{objectId:Address$1,initialSharedVersion:bcs$2.u64(),mutable:bcs$2.bool()}),ObjectArg$4=bcs$2.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef$1,SharedObject:SharedObjectRef$1,Receiving:SuiObjectRef$1}),Owner$1=bcs$2.enum("Owner",{AddressOwner:Address$1,ObjectOwner:Address$1,Shared:bcs$2.struct("Shared",{initialSharedVersion:bcs$2.u64()}),Immutable:null,ConsensusV2:bcs$2.struct("ConsensusV2",{authenticator:bcs$2.enum("Authenticator",{SingleOwner:Address$1}),startVersion:bcs$2.u64()})}),CallArg$3=bcs$2.enum("CallArg",{Pure:bcs$2.struct("Pure",{bytes:bcs$2.vector(bcs$2.u8()).transform({input:t=>typeof t=="string"?fromBase64(t):t,output:t=>toBase64(new Uint8Array(t))})}),Object:ObjectArg$4}),InnerTypeTag$1=bcs$2.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:bcs$2.lazy(()=>InnerTypeTag$1),struct:bcs$2.lazy(()=>StructTag$2),u16:null,u32:null,u256:null}),TypeTag$2=InnerTypeTag$1.transform({input:t=>typeof t=="string"?TypeTagSerializer$1.parseFromStr(t,!0):t,output:t=>TypeTagSerializer$1.tagToString(t)}),Argument$3=bcs$2.enum("Argument",{GasCoin:null,Input:bcs$2.u16(),Result:bcs$2.u16(),NestedResult:bcs$2.tuple([bcs$2.u16(),bcs$2.u16()])}),ProgrammableMoveCall$3=bcs$2.struct("ProgrammableMoveCall",{package:Address$1,module:bcs$2.string(),function:bcs$2.string(),typeArguments:bcs$2.vector(TypeTag$2),arguments:bcs$2.vector(Argument$3)}),Command$3=bcs$2.enum("Command",{MoveCall:ProgrammableMoveCall$3,TransferObjects:bcs$2.struct("TransferObjects",{objects:bcs$2.vector(Argument$3),address:Argument$3}),SplitCoins:bcs$2.struct("SplitCoins",{coin:Argument$3,amounts:bcs$2.vector(Argument$3)}),MergeCoins:bcs$2.struct("MergeCoins",{destination:Argument$3,sources:bcs$2.vector(Argument$3)}),Publish:bcs$2.struct("Publish",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:t=>typeof t=="string"?fromBase64(t):t,output:t=>toBase64(new Uint8Array(t))})),dependencies:bcs$2.vector(Address$1)}),MakeMoveVec:bcs$2.struct("MakeMoveVec",{type:optionEnum$1(TypeTag$2).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:bcs$2.vector(Argument$3)}),Upgrade:bcs$2.struct("Upgrade",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:t=>typeof t=="string"?fromBase64(t):t,output:t=>toBase64(new Uint8Array(t))})),dependencies:bcs$2.vector(Address$1),package:Address$1,ticket:Argument$3})}),ProgrammableTransaction$1=bcs$2.struct("ProgrammableTransaction",{inputs:bcs$2.vector(CallArg$3),commands:bcs$2.vector(Command$3)}),TransactionKind$1=bcs$2.enum("TransactionKind",{ProgrammableTransaction:ProgrammableTransaction$1,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration$4=bcs$2.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64$1()}),StructTag$2=bcs$2.struct("StructTag",{address:Address$1,module:bcs$2.string(),name:bcs$2.string(),typeParams:bcs$2.vector(InnerTypeTag$1)}),GasData$3=bcs$2.struct("GasData",{payment:bcs$2.vector(SuiObjectRef$1),owner:Address$1,price:bcs$2.u64(),budget:bcs$2.u64()}),TransactionDataV1$1=bcs$2.struct("TransactionDataV1",{kind:TransactionKind$1,sender:Address$1,gasData:GasData$3,expiration:TransactionExpiration$4}),TransactionData$2=bcs$2.enum("TransactionData",{V1:TransactionDataV1$1}),IntentScope$1=bcs$2.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion$1=bcs$2.enum("IntentVersion",{V0:null}),AppId$1=bcs$2.enum("AppId",{Sui:null}),Intent$1=bcs$2.struct("Intent",{scope:IntentScope$1,version:IntentVersion$1,appId:AppId$1});function IntentMessage$1(t){return bcs$2.struct(`IntentMessage<${t.name}>`,{intent:Intent$1,value:t})}const CompressedSignature$1=bcs$2.enum("CompressedSignature",{ED25519:bcs$2.fixedArray(64,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(64,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(64,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),PublicKey$2=bcs$2.enum("PublicKey",{ED25519:bcs$2.fixedArray(32,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(33,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(33,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),MultiSigPkMap$1=bcs$2.struct("MultiSigPkMap",{pubKey:PublicKey$2,weight:bcs$2.u8()}),MultiSigPublicKey$1=bcs$2.struct("MultiSigPublicKey",{pk_map:bcs$2.vector(MultiSigPkMap$1),threshold:bcs$2.u16()}),MultiSig$1=bcs$2.struct("MultiSig",{sigs:bcs$2.vector(CompressedSignature$1),bitmap:bcs$2.u16(),multisig_pk:MultiSigPublicKey$1}),base64String$1=bcs$2.vector(bcs$2.u8()).transform({input:t=>typeof t=="string"?fromBase64(t):t,output:t=>toBase64(new Uint8Array(t))}),SenderSignedTransaction$1=bcs$2.struct("SenderSignedTransaction",{intentMessage:IntentMessage$1(TransactionData$2),txSignatures:bcs$2.vector(base64String$1)}),SenderSignedData$1=bcs$2.vector(SenderSignedTransaction$1,{name:"SenderSignedData"}),PasskeyAuthenticator$1=bcs$2.struct("PasskeyAuthenticator",{authenticatorData:bcs$2.vector(bcs$2.u8()),clientDataJson:bcs$2.string(),userSignature:bcs$2.vector(bcs$2.u8())}),PackageUpgradeError$1=bcs$2.enum("PackageUpgradeError",{UnableToFetchPackage:bcs$2.struct("UnableToFetchPackage",{packageId:Address$1}),NotAPackage:bcs$2.struct("NotAPackage",{objectId:Address$1}),IncompatibleUpgrade:null,DigestDoesNotMatch:bcs$2.struct("DigestDoesNotMatch",{digest:bcs$2.vector(bcs$2.u8())}),UnknownUpgradePolicy:bcs$2.struct("UnknownUpgradePolicy",{policy:bcs$2.u8()}),PackageIDDoesNotMatch:bcs$2.struct("PackageIDDoesNotMatch",{packageId:Address$1,ticketId:Address$1})}),ModuleId$1=bcs$2.struct("ModuleId",{address:Address$1,name:bcs$2.string()}),MoveLocation$1=bcs$2.struct("MoveLocation",{module:ModuleId$1,function:bcs$2.u16(),instruction:bcs$2.u16(),functionName:bcs$2.option(bcs$2.string())}),CommandArgumentError$1=bcs$2.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:bcs$2.struct("IndexOutOfBounds",{idx:bcs$2.u16()}),SecondaryIndexOutOfBounds:bcs$2.struct("SecondaryIndexOutOfBounds",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidResultArity:bcs$2.struct("InvalidResultArity",{resultIdx:bcs$2.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError$1=bcs$2.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus$1=bcs$2.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:bcs$2.struct("MoveObjectTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),MovePackageTooBig:bcs$2.struct("MovePackageTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),CircularObjectOwnership:bcs$2.struct("CircularObjectOwnership",{object:Address$1}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:bcs$2.option(MoveLocation$1),MoveAbort:bcs$2.tuple([MoveLocation$1,bcs$2.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:bcs$2.struct("CommandArgumentError",{argIdx:bcs$2.u16(),kind:CommandArgumentError$1}),TypeArgumentError:bcs$2.struct("TypeArgumentError",{argumentIdx:bcs$2.u16(),kind:TypeArgumentError$1}),UnusedValueWithoutDrop:bcs$2.struct("UnusedValueWithoutDrop",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidPublicFunctionReturnType:bcs$2.struct("InvalidPublicFunctionReturnType",{idx:bcs$2.u16()}),InvalidTransferObject:null,EffectsTooLarge:bcs$2.struct("EffectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:bcs$2.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError$1}),WrittenObjectsTooLarge:bcs$2.struct("WrittenObjectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:bcs$2.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:bcs$2.vector(Address$1)}),AddressDeniedForCoin:bcs$2.struct("AddressDeniedForCoin",{address:Address$1,coinType:bcs$2.string()}),CoinTypeGlobalPause:bcs$2.struct("CoinTypeGlobalPause",{coinType:bcs$2.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus$1=bcs$2.enum("ExecutionStatus",{Success:null,Failed:bcs$2.struct("ExecutionFailed",{error:ExecutionFailureStatus$1,command:bcs$2.option(bcs$2.u64())})}),GasCostSummary$1=bcs$2.struct("GasCostSummary",{computationCost:bcs$2.u64(),storageCost:bcs$2.u64(),storageRebate:bcs$2.u64(),nonRefundableStorageFee:bcs$2.u64()}),TransactionEffectsV1$1=bcs$2.struct("TransactionEffectsV1",{status:ExecutionStatus$1,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$1,modifiedAtVersions:bcs$2.vector(bcs$2.tuple([Address$1,bcs$2.u64()])),sharedObjects:bcs$2.vector(SuiObjectRef$1),transactionDigest:ObjectDigest$1,created:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),mutated:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),unwrapped:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),deleted:bcs$2.vector(SuiObjectRef$1),unwrappedThenDeleted:bcs$2.vector(SuiObjectRef$1),wrapped:bcs$2.vector(SuiObjectRef$1),gasObject:bcs$2.tuple([SuiObjectRef$1,Owner$1]),eventsDigest:bcs$2.option(ObjectDigest$1),dependencies:bcs$2.vector(ObjectDigest$1)}),VersionDigest$1=bcs$2.tuple([bcs$2.u64(),ObjectDigest$1]),ObjectIn$1=bcs$2.enum("ObjectIn",{NotExist:null,Exist:bcs$2.tuple([VersionDigest$1,Owner$1])}),ObjectOut$1=bcs$2.enum("ObjectOut",{NotExist:null,ObjectWrite:bcs$2.tuple([ObjectDigest$1,Owner$1]),PackageWrite:VersionDigest$1}),IDOperation$1=bcs$2.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange$1=bcs$2.struct("EffectsObjectChange",{inputState:ObjectIn$1,outputState:ObjectOut$1,idOperation:IDOperation$1}),UnchangedSharedKind$1=bcs$2.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest$1,MutateDeleted:bcs$2.u64(),ReadDeleted:bcs$2.u64(),Cancelled:bcs$2.u64(),PerEpochConfig:null}),TransactionEffectsV2$1=bcs$2.struct("TransactionEffectsV2",{status:ExecutionStatus$1,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$1,transactionDigest:ObjectDigest$1,gasObjectIndex:bcs$2.option(bcs$2.u32()),eventsDigest:bcs$2.option(ObjectDigest$1),dependencies:bcs$2.vector(ObjectDigest$1),lamportVersion:bcs$2.u64(),changedObjects:bcs$2.vector(bcs$2.tuple([Address$1,EffectsObjectChange$1])),unchangedSharedObjects:bcs$2.vector(bcs$2.tuple([Address$1,UnchangedSharedKind$1])),auxDataDigest:bcs$2.option(ObjectDigest$1)}),TransactionEffects$1=bcs$2.enum("TransactionEffects",{V1:TransactionEffectsV1$1,V2:TransactionEffectsV2$1});function pureBcsSchemaFromTypeName$1(t){switch(t){case"u8":return bcs$2.u8();case"u16":return bcs$2.u16();case"u32":return bcs$2.u32();case"u64":return bcs$2.u64();case"u128":return bcs$2.u128();case"u256":return bcs$2.u256();case"bool":return bcs$2.bool();case"string":return bcs$2.string();case"id":case"address":return Address$1}const e=t.match(/^(vector|option)<(.+)>$/);if(e){const[i,n]=e.slice(1);return i==="vector"?bcs$2.vector(pureBcsSchemaFromTypeName$1(n)):bcs$2.option(pureBcsSchemaFromTypeName$1(n))}throw new Error(`Invalid Pure type name: ${t}`)}const suiBcs$1={...bcs$2,U8:bcs$2.u8(),U16:bcs$2.u16(),U32:bcs$2.u32(),U64:bcs$2.u64(),U128:bcs$2.u128(),U256:bcs$2.u256(),ULEB128:bcs$2.uleb128(),Bool:bcs$2.bool(),String:bcs$2.string(),Address:Address$1,AppId:AppId$1,Argument:Argument$3,CallArg:CallArg$3,Command:Command$3,CompressedSignature:CompressedSignature$1,GasData:GasData$3,Intent:Intent$1,IntentMessage:IntentMessage$1,IntentScope:IntentScope$1,IntentVersion:IntentVersion$1,MultiSig:MultiSig$1,MultiSigPkMap:MultiSigPkMap$1,MultiSigPublicKey:MultiSigPublicKey$1,ObjectArg:ObjectArg$4,ObjectDigest:ObjectDigest$1,Owner:Owner$1,PasskeyAuthenticator:PasskeyAuthenticator$1,ProgrammableMoveCall:ProgrammableMoveCall$3,ProgrammableTransaction:ProgrammableTransaction$1,PublicKey:PublicKey$2,SenderSignedData:SenderSignedData$1,SenderSignedTransaction:SenderSignedTransaction$1,SharedObjectRef:SharedObjectRef$1,StructTag:StructTag$2,SuiObjectRef:SuiObjectRef$1,TransactionData:TransactionData$2,TransactionDataV1:TransactionDataV1$1,TransactionEffects:TransactionEffects$1,TransactionExpiration:TransactionExpiration$4,TransactionKind:TransactionKind$1,TypeTag:TypeTag$2};function deriveDynamicFieldID$1(t,e,i){const n=suiBcs$1.Address.serialize(t).toBytes(),s=suiBcs$1.TypeTag.serialize(e).toBytes(),a=suiBcs$1.u64().serialize(i.length).toBytes(),l=blake2b$1.create({dkLen:32});return l.update(new Uint8Array([240])),l.update(n),l.update(a),l.update(i),l.update(s),`0x${toHex$1(l.digest().slice(0,32))}`}var __classPrivateFieldGet$1=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},__classPrivateFieldSet$1=function(t,e,i,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},_AppReadyEvent_detail;let wallets;const registeredWalletsSet=new Set;function addRegisteredWallet(t){cachedWalletsArray=void 0,registeredWalletsSet.add(t)}function removeRegisteredWallet(t){cachedWalletsArray=void 0,registeredWalletsSet.delete(t)}const listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$3,on:on$3}),typeof window>"u"))return wallets;const t=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new AppReadyEvent(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return wallets}function register(...t){var e;return t=t.filter(i=>!registeredWalletsSet.has(i)),t.length?(t.forEach(i=>addRegisteredWallet(i)),(e=listeners.register)==null||e.forEach(i=>guard(()=>i(...t))),function(){var n;t.forEach(s=>removeRegisteredWallet(s)),(n=listeners.unregister)==null||n.forEach(s=>guard(()=>s(...t)))}):()=>{}}let cachedWalletsArray;function get$3(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on$3(t,e){var i;return(i=listeners[t])!=null&&i.push(e)||(listeners[t]=[e]),function(){var s;listeners[t]=(s=listeners[t])==null?void 0:s.filter(a=>e!==a)}}function guard(t){try{t()}catch(e){console.error(e)}}class AppReadyEvent extends Event{get detail(){return __classPrivateFieldGet$1(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet$1(this,_AppReadyEvent_detail,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;var __classPrivateFieldGet=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},__classPrivateFieldSet=function(t,e,i,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},_ReadonlyWalletAccount_address,_ReadonlyWalletAccount_publicKey,_ReadonlyWalletAccount_chains,_ReadonlyWalletAccount_features,_ReadonlyWalletAccount_label,_ReadonlyWalletAccount_icon;class ReadonlyWalletAccount{get address(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_address,"f")}get publicKey(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_publicKey,"f").slice()}get chains(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_chains,"f").slice()}get features(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_features,"f").slice()}get label(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_label,"f")}get icon(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_icon,"f")}constructor(e){_ReadonlyWalletAccount_address.set(this,void 0),_ReadonlyWalletAccount_publicKey.set(this,void 0),_ReadonlyWalletAccount_chains.set(this,void 0),_ReadonlyWalletAccount_features.set(this,void 0),_ReadonlyWalletAccount_label.set(this,void 0),_ReadonlyWalletAccount_icon.set(this,void 0),new.target===ReadonlyWalletAccount&&Object.freeze(this),__classPrivateFieldSet(this,_ReadonlyWalletAccount_address,e.address,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_publicKey,e.publicKey.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_chains,e.chains.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_features,e.features.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_label,e.label,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_icon,e.icon,"f")}}_ReadonlyWalletAccount_address=new WeakMap,_ReadonlyWalletAccount_publicKey=new WeakMap,_ReadonlyWalletAccount_chains=new WeakMap,_ReadonlyWalletAccount_features=new WeakMap,_ReadonlyWalletAccount_label=new WeakMap,_ReadonlyWalletAccount_icon=new WeakMap;const OBJECT_MODULE_NAME="object",ID_STRUCT_NAME="ID",STD_ASCII_MODULE_NAME="ascii",STD_ASCII_STRUCT_NAME="String",STD_UTF8_MODULE_NAME="string",STD_UTF8_STRUCT_NAME="String",STD_OPTION_MODULE_NAME="option",STD_OPTION_STRUCT_NAME="Option";function isTxContext(t){const e=typeof t.body=="object"&&"datatype"in t.body?t.body.datatype:null;return!!e&&normalizeSuiAddress$1(e.package)===normalizeSuiAddress$1("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function getPureBcsSchema(t){if(typeof t=="string")switch(t){case"address":return suiBcs$1.Address;case"bool":return suiBcs$1.Bool;case"u8":return suiBcs$1.U8;case"u16":return suiBcs$1.U16;case"u32":return suiBcs$1.U32;case"u64":return suiBcs$1.U64;case"u128":return suiBcs$1.U128;case"u256":return suiBcs$1.U256;default:throw new Error(`Unknown type signature ${t}`)}if("vector"in t){if(t.vector==="u8")return suiBcs$1.vector(suiBcs$1.U8).transform({input:i=>typeof i=="string"?new TextEncoder().encode(i):i,output:i=>i});const e=getPureBcsSchema(t.vector);return e?suiBcs$1.vector(e):null}if("datatype"in t){const e=normalizeSuiAddress$1(t.datatype.package);if(e===normalizeSuiAddress$1(MOVE_STDLIB_ADDRESS$1)){if(t.datatype.module===STD_ASCII_MODULE_NAME&&t.datatype.type===STD_ASCII_STRUCT_NAME||t.datatype.module===STD_UTF8_MODULE_NAME&&t.datatype.type===STD_UTF8_STRUCT_NAME)return suiBcs$1.String;if(t.datatype.module===STD_OPTION_MODULE_NAME&&t.datatype.type===STD_OPTION_STRUCT_NAME){const i=getPureBcsSchema(t.datatype.typeParameters[0]);return i?suiBcs$1.vector(i):null}}if(e===normalizeSuiAddress$1(SUI_FRAMEWORK_ADDRESS$1)&&t.datatype.module===OBJECT_MODULE_NAME&&t.datatype.type===ID_STRUCT_NAME)return suiBcs$1.Address}return null}function normalizedTypeToMoveTypeSignature(t){return typeof t=="object"&&"Reference"in t?{ref:"&",body:normalizedTypeToMoveTypeSignatureBody(t.Reference)}:typeof t=="object"&&"MutableReference"in t?{ref:"&mut",body:normalizedTypeToMoveTypeSignatureBody(t.MutableReference)}:{ref:null,body:normalizedTypeToMoveTypeSignatureBody(t)}}function normalizedTypeToMoveTypeSignatureBody(t){if(typeof t=="string")switch(t){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${t}`)}if("Vector"in t)return{vector:normalizedTypeToMoveTypeSignatureBody(t.Vector)};if("Struct"in t)return{datatype:{package:t.Struct.address,module:t.Struct.module,type:t.Struct.name,typeParameters:t.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody)}};if("TypeParameter"in t)return{typeParameter:t.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(t)}`)}function Pure(t){return{$kind:"Pure",Pure:{bytes:t instanceof Uint8Array?toBase64(t):t.toBase64()}}}const Inputs={Pure,ObjectRef({objectId:t,digest:e,version:i}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:i,objectId:normalizeSuiAddress$1(t)}}}},SharedObjectRef({objectId:t,mutable:e,initialSharedVersion:i}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:i,objectId:normalizeSuiAddress$1(t)}}}},ReceivingRef({objectId:t,digest:e,version:i}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:i,objectId:normalizeSuiAddress$1(t)}}}}};var UUID_REGEX=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,store$e;function getGlobalConfig(t){return{lang:(t==null?void 0:t.lang)??(store$e==null?void 0:store$e.lang),message:t==null?void 0:t.message,abortEarly:(t==null?void 0:t.abortEarly)??(store$e==null?void 0:store$e.abortEarly),abortPipeEarly:(t==null?void 0:t.abortPipeEarly)??(store$e==null?void 0:store$e.abortPipeEarly)}}var store2;function getGlobalMessage(t){return store2==null?void 0:store2.get(t)}var store3;function getSchemaMessage(t){return store3==null?void 0:store3.get(t)}var store4;function getSpecificMessage(t,e){var i;return(i=store4==null?void 0:store4.get(t))==null?void 0:i.get(e)}function _stringify(t){var i,n;const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&((n=(i=Object.getPrototypeOf(t))==null?void 0:i.constructor)==null?void 0:n.name))??"null":e}function _addIssue(t,e,i,n,s){const a=s&&"input"in s?s.input:i.value,l=(s==null?void 0:s.expected)??t.expects??null,A=(s==null?void 0:s.received)??_stringify(a),T={kind:t.kind,type:t.type,input:a,expected:l,received:A,message:`Invalid ${e}: ${l?`Expected ${l} but r`:"R"}eceived ${A}`,requirement:t.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},q=t.kind==="schema",et=(s==null?void 0:s.message)??t.message??getSpecificMessage(t.reference,T.lang)??(q?getSchemaMessage(T.lang):null)??n.message??getGlobalMessage(T.lang);et&&(T.message=typeof et=="function"?et(T):et),q&&(i.typed=!1),i.issues?i.issues.push(T):i.issues=[T]}function _isValidObjectKey(t,e){return Object.hasOwn(t,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var ValiError=class extends Error{constructor(e){super(e[0].message);Ua(this,"issues");this.name="ValiError",this.issues=e}};function check(t,e){return{kind:"validation",type:"check",reference:check,async:!1,expects:null,requirement:t,message:e,_run(i,n){return i.typed&&!this.requirement(i.value)&&_addIssue(this,"input",i,n),i}}}function integer(t){return{kind:"validation",type:"integer",reference:integer,async:!1,expects:null,requirement:Number.isInteger,message:t,_run(e,i){return e.typed&&!this.requirement(e.value)&&_addIssue(this,"integer",e,i),e}}}function transform$1(t){return{kind:"transformation",type:"transform",reference:transform$1,async:!1,operation:t,_run(e){return e.value=this.operation(e.value),e}}}function uuid(t){return{kind:"validation",type:"uuid",reference:uuid,async:!1,expects:null,requirement:UUID_REGEX,message:t,_run(e,i){return e.typed&&!this.requirement.test(e.value)&&_addIssue(this,"UUID",e,i),e}}}function getDefault(t,e,i){return typeof t.default=="function"?t.default(e,i):t.default}function is$3(t,e){return!t._run({typed:!1,value:e},{abortEarly:!0}).issues}function array(t,e){return{kind:"schema",type:"array",reference:array,expects:"Array",async:!1,item:t,message:e,_run(i,n){var a;const s=i.value;if(Array.isArray(s)){i.typed=!0,i.value=[];for(let l=0;l<s.length;l++){const A=s[l],T=this.item._run({typed:!1,value:A},n);if(T.issues){const q={type:"array",origin:"value",input:s,key:l,value:A};for(const et of T.issues)et.path?et.path.unshift(q):et.path=[q],(a=i.issues)==null||a.push(et);if(i.issues||(i.issues=T.issues),n.abortEarly){i.typed=!1;break}}T.typed||(i.typed=!1),i.value.push(T.value)}}else _addIssue(this,"type",i,n);return i}}}function bigint(t){return{kind:"schema",type:"bigint",reference:bigint,expects:"bigint",async:!1,message:t,_run(e,i){return typeof e.value=="bigint"?e.typed=!0:_addIssue(this,"type",e,i),e}}}function boolean(t){return{kind:"schema",type:"boolean",reference:boolean,expects:"boolean",async:!1,message:t,_run(e,i){return typeof e.value=="boolean"?e.typed=!0:_addIssue(this,"type",e,i),e}}}function lazy(t){return{kind:"schema",type:"lazy",reference:lazy,expects:"unknown",async:!1,getter:t,_run(e,i){return this.getter(e.value)._run(e,i)}}}function literal(t,e){return{kind:"schema",type:"literal",reference:literal,expects:_stringify(t),async:!1,literal:t,message:e,_run(i,n){return i.value===this.literal?i.typed=!0:_addIssue(this,"type",i,n),i}}}function nullable(t,...e){const i={kind:"schema",type:"nullable",reference:nullable,expects:`${t.expects} | null`,async:!1,wrapped:t,_run(n,s){return n.value===null&&("default"in this&&(n.value=getDefault(this,n,s)),n.value===null)?(n.typed=!0,n):this.wrapped._run(n,s)}};return 0 in e&&(i.default=e[0]),i}function nullish(t,...e){const i={kind:"schema",type:"nullish",reference:nullish,expects:`${t.expects} | null | undefined`,async:!1,wrapped:t,_run(n,s){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=getDefault(this,n,s)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,s)}};return 0 in e&&(i.default=e[0]),i}function number(t){return{kind:"schema",type:"number",reference:number,expects:"number",async:!1,message:t,_run(e,i){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:_addIssue(this,"type",e,i),e}}}function object$1(t,e){return{kind:"schema",type:"object",reference:object$1,expects:"Object",async:!1,entries:t,message:e,_run(i,n){var a;const s=i.value;if(s&&typeof s=="object"){i.typed=!0,i.value={};for(const l in this.entries){const A=s[l],T=this.entries[l]._run({typed:!1,value:A},n);if(T.issues){const q={type:"object",origin:"value",input:s,key:l,value:A};for(const et of T.issues)et.path?et.path.unshift(q):et.path=[q],(a=i.issues)==null||a.push(et);if(i.issues||(i.issues=T.issues),n.abortEarly){i.typed=!1;break}}T.typed||(i.typed=!1),(T.value!==void 0||l in s)&&(i.value[l]=T.value)}}else _addIssue(this,"type",i,n);return i}}}function optional(t,...e){const i={kind:"schema",type:"optional",reference:optional,expects:`${t.expects} | undefined`,async:!1,wrapped:t,_run(n,s){return n.value===void 0&&("default"in this&&(n.value=getDefault(this,n,s)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,s)}};return 0 in e&&(i.default=e[0]),i}function record(t,e,i){return{kind:"schema",type:"record",reference:record,expects:"Object",async:!1,key:t,value:e,message:i,_run(n,s){var l,A;const a=n.value;if(a&&typeof a=="object"){n.typed=!0,n.value={};for(const T in a)if(_isValidObjectKey(a,T)){const q=a[T],et=this.key._run({typed:!1,value:T},s);if(et.issues){const Oi={type:"object",origin:"key",input:a,key:T,value:q};for(const Ts of et.issues)Ts.path=[Oi],(l=n.issues)==null||l.push(Ts);if(n.issues||(n.issues=et.issues),s.abortEarly){n.typed=!1;break}}const xi=this.value._run({typed:!1,value:q},s);if(xi.issues){const Oi={type:"object",origin:"value",input:a,key:T,value:q};for(const Ts of xi.issues)Ts.path?Ts.path.unshift(Oi):Ts.path=[Oi],(A=n.issues)==null||A.push(Ts);if(n.issues||(n.issues=xi.issues),s.abortEarly){n.typed=!1;break}}(!et.typed||!xi.typed)&&(n.typed=!1),et.typed&&(n.value[et.value]=xi.value)}}else _addIssue(this,"type",n,s);return n}}}function string(t){return{kind:"schema",type:"string",reference:string,expects:"string",async:!1,message:t,_run(e,i){return typeof e.value=="string"?e.typed=!0:_addIssue(this,"type",e,i),e}}}function tuple(t,e){return{kind:"schema",type:"tuple",reference:tuple,expects:"Array",async:!1,items:t,message:e,_run(i,n){var a;const s=i.value;if(Array.isArray(s)){i.typed=!0,i.value=[];for(let l=0;l<this.items.length;l++){const A=s[l],T=this.items[l]._run({typed:!1,value:A},n);if(T.issues){const q={type:"array",origin:"value",input:s,key:l,value:A};for(const et of T.issues)et.path?et.path.unshift(q):et.path=[q],(a=i.issues)==null||a.push(et);if(i.issues||(i.issues=T.issues),n.abortEarly){i.typed=!1;break}}T.typed||(i.typed=!1),i.value.push(T.value)}}else _addIssue(this,"type",i,n);return i}}}function _subIssues(t){let e;if(t)for(const i of t)e?e.push(...i.issues):e=i.issues;return e}function union(t,e){return{kind:"schema",type:"union",reference:union,expects:[...new Set(t.map(i=>i.expects))].join(" | ")||"never",async:!1,options:t,message:e,_run(i,n){let s,a,l;for(const A of this.options){const T=A._run({typed:!1,value:i.value},n);if(T.typed)if(T.issues)a?a.push(T):a=[T];else{s=T;break}else l?l.push(T):l=[T]}if(s)return s;if(a){if(a.length===1)return a[0];_addIssue(this,"type",i,n,{issues:_subIssues(a)}),i.typed=!0}else{if((l==null?void 0:l.length)===1)return l[0];_addIssue(this,"type",i,n,{issues:_subIssues(l)})}return i}}}function unknown(){return{kind:"schema",type:"unknown",reference:unknown,expects:"unknown",async:!1,_run(t){return t.typed=!0,t}}}function _discriminators(t,e,i=new Set){for(const n of e)n.type==="variant"?_discriminators(t,n.options,i):i.add(n.entries[t].expects);return i}function variant(t,e,i){let n;return{kind:"schema",type:"variant",reference:variant,expects:"Object",async:!1,key:t,options:e,message:i,_run(s,a){const l=s.value;if(l&&typeof l=="object"){const A=l[this.key];if(this.key in l){let T;for(const q of this.options)if(q.type==="variant"||!q.entries[this.key]._run({typed:!1,value:A},a).issues){const et=q._run({typed:!1,value:l},a);if(!et.issues)return et;(!T||!T.typed&&et.typed)&&(T=et)}if(T)return T}n||(n=[..._discriminators(this.key,this.options)].join(" | ")||"never"),_addIssue(this,"type",s,a,{input:A,expected:n,path:[{type:"object",origin:"value",input:l,key:this.key,value:A}]})}else _addIssue(this,"type",s,a);return s}}}function parse(t,e,i){const n=t._run({typed:!1,value:e},getGlobalConfig(i));if(n.issues)throw new ValiError(n.issues);return n.value}function pipe(...t){return{...t[0],pipe:t,_run(e,i){for(let n=0;n<t.length;n++){if(e.issues&&(t[n].kind==="schema"||t[n].kind==="transformation")){e.typed=!1;break}(!e.issues||!i.abortEarly&&!i.abortPipeEarly)&&(e=t[n]._run(e,i))}return e}}}function safeParse(t,e,i){const n=t._run({typed:!1,value:e},getGlobalConfig(i));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}function safeEnum(t){const e=Object.entries(t).map(([i,n])=>object$1({[i]:n}));return pipe(union(e),transform$1(i=>({...i,$kind:Object.keys(i)[0]})))}const SuiAddress=pipe(string(),transform$1(t=>normalizeSuiAddress$1(t)),check(isValidSuiAddress$1)),ObjectID=SuiAddress,BCSBytes=string(),JsonU64=pipe(union([string(),pipe(number(),integer())]),check(t=>{try{return BigInt(t),BigInt(t)>=0&&BigInt(t)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ObjectRef$1=object$1({objectId:SuiAddress,version:JsonU64,digest:string()}),Argument$2=pipe(union([object$1({GasCoin:literal(!0)}),object$1({Input:pipe(number(),integer()),type:optional(literal("pure"))}),object$1({Input:pipe(number(),integer()),type:optional(literal("object"))}),object$1({Result:pipe(number(),integer())}),object$1({NestedResult:tuple([pipe(number(),integer()),pipe(number(),integer())])})]),transform$1(t=>({...t,$kind:Object.keys(t)[0]}))),GasData$2=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),OpenMoveTypeSignatureBody=union([literal("address"),literal("bool"),literal("u8"),literal("u16"),literal("u32"),literal("u64"),literal("u128"),literal("u256"),object$1({vector:lazy(()=>OpenMoveTypeSignatureBody)}),object$1({datatype:object$1({package:string(),module:string(),type:string(),typeParameters:array(lazy(()=>OpenMoveTypeSignatureBody))})}),object$1({typeParameter:pipe(number(),integer())})]),OpenMoveTypeSignature=object$1({ref:nullable(union([literal("&"),literal("&mut")])),body:OpenMoveTypeSignatureBody}),ProgrammableMoveCall$2=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$2),_argumentTypes:optional(nullable(array(OpenMoveTypeSignature)))}),$Intent$1=object$1({name:string(),inputs:record(string(),union([Argument$2,array(Argument$2)])),data:record(string(),unknown())}),Command$2=safeEnum({MoveCall:ProgrammableMoveCall$2,TransferObjects:object$1({objects:array(Argument$2),address:Argument$2}),SplitCoins:object$1({coin:Argument$2,amounts:array(Argument$2)}),MergeCoins:object$1({destination:Argument$2,sources:array(Argument$2)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$2)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$2}),$Intent:$Intent$1}),ObjectArg$3=safeEnum({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$2=safeEnum({Object:ObjectArg$3,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),NormalizedCallArg$1=safeEnum({Object:ObjectArg$3,Pure:object$1({bytes:BCSBytes})}),TransactionExpiration$3=safeEnum({None:literal(!0),Epoch:JsonU64}),TransactionData$1=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$3),gasData:GasData$2,inputs:array(CallArg$2),commands:array(Command$2)}),Commands={MoveCall(t){const[e,i="",n=""]="target"in t?t.target.split("::"):[t.package,t.module,t.function];return{$kind:"MoveCall",MoveCall:{package:e,module:i,function:n,typeArguments:t.typeArguments??[],arguments:t.arguments??[]}}},TransferObjects(t,e){return{$kind:"TransferObjects",TransferObjects:{objects:t.map(i=>parse(Argument$2,i)),address:parse(Argument$2,e)}}},SplitCoins(t,e){return{$kind:"SplitCoins",SplitCoins:{coin:parse(Argument$2,t),amounts:e.map(i=>parse(Argument$2,i))}}},MergeCoins(t,e){return{$kind:"MergeCoins",MergeCoins:{destination:parse(Argument$2,t),sources:e.map(i=>parse(Argument$2,i))}}},Publish({modules:t,dependencies:e}){return{$kind:"Publish",Publish:{modules:t.map(i=>typeof i=="string"?i:toBase64(new Uint8Array(i))),dependencies:e.map(i=>normalizeSuiObjectId$1(i))}}},Upgrade({modules:t,dependencies:e,package:i,ticket:n}){return{$kind:"Upgrade",Upgrade:{modules:t.map(s=>typeof s=="string"?s:toBase64(new Uint8Array(s))),dependencies:e.map(s=>normalizeSuiObjectId$1(s)),package:i,ticket:parse(Argument$2,n)}}},MakeMoveVec({type:t,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:t??null,elements:e.map(i=>parse(Argument$2,i))}}},Intent({name:t,inputs:e={},data:i={}}){return{$kind:"$Intent",$Intent:{name:t,inputs:Object.fromEntries(Object.entries(e).map(([n,s])=>[n,Array.isArray(s)?s.map(a=>parse(Argument$2,a)):parse(Argument$2,s)])),data:i}}}},ObjectRef=object$1({digest:string(),objectId:string(),version:union([pipe(number(),integer()),string(),bigint()])}),ObjectArg$2=safeEnum({ImmOrOwned:ObjectRef,Shared:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef}),NormalizedCallArg=safeEnum({Object:ObjectArg$2,Pure:array(pipe(number(),integer()))}),TransactionInput=union([object$1({kind:literal("Input"),index:pipe(number(),integer()),value:unknown(),type:optional(literal("object"))}),object$1({kind:literal("Input"),index:pipe(number(),integer()),value:unknown(),type:literal("pure")})]),TransactionExpiration$2=union([object$1({Epoch:pipe(number(),integer())}),object$1({None:nullable(literal(!0))})]),StringEncodedBigint=pipe(union([number(),string(),bigint()]),check(t=>{if(!["string","number","bigint"].includes(typeof t))return!1;try{return BigInt(t),!0}catch{return!1}})),TypeTag$1=union([object$1({bool:nullable(literal(!0))}),object$1({u8:nullable(literal(!0))}),object$1({u64:nullable(literal(!0))}),object$1({u128:nullable(literal(!0))}),object$1({address:nullable(literal(!0))}),object$1({signer:nullable(literal(!0))}),object$1({vector:lazy(()=>TypeTag$1)}),object$1({struct:lazy(()=>StructTag$1)}),object$1({u16:nullable(literal(!0))}),object$1({u32:nullable(literal(!0))}),object$1({u256:nullable(literal(!0))})]),StructTag$1=object$1({address:string(),module:string(),name:string(),typeParams:array(TypeTag$1)}),GasConfig=object$1({budget:optional(StringEncodedBigint),price:optional(StringEncodedBigint),payment:optional(array(ObjectRef)),owner:optional(string())}),TransactionArgumentTypes=[TransactionInput,object$1({kind:literal("GasCoin")}),object$1({kind:literal("Result"),index:pipe(number(),integer())}),object$1({kind:literal("NestedResult"),index:pipe(number(),integer()),resultIndex:pipe(number(),integer())})],TransactionArgument=union([...TransactionArgumentTypes]),MoveCallTransaction=object$1({kind:literal("MoveCall"),target:pipe(string(),check(t=>t.split("::").length===3)),typeArguments:array(string()),arguments:array(TransactionArgument)}),TransferObjectsTransaction=object$1({kind:literal("TransferObjects"),objects:array(TransactionArgument),address:TransactionArgument}),SplitCoinsTransaction=object$1({kind:literal("SplitCoins"),coin:TransactionArgument,amounts:array(TransactionArgument)}),MergeCoinsTransaction=object$1({kind:literal("MergeCoins"),destination:TransactionArgument,sources:array(TransactionArgument)}),MakeMoveVecTransaction=object$1({kind:literal("MakeMoveVec"),type:union([object$1({Some:TypeTag$1}),object$1({None:nullable(literal(!0))})]),objects:array(TransactionArgument)}),PublishTransaction=object$1({kind:literal("Publish"),modules:array(array(pipe(number(),integer()))),dependencies:array(string())}),UpgradeTransaction=object$1({kind:literal("Upgrade"),modules:array(array(pipe(number(),integer()))),dependencies:array(string()),packageId:string(),ticket:TransactionArgument}),TransactionTypes=[MoveCallTransaction,TransferObjectsTransaction,SplitCoinsTransaction,MergeCoinsTransaction,PublishTransaction,UpgradeTransaction,MakeMoveVecTransaction],TransactionType=union([...TransactionTypes]);object$1({version:literal(1),sender:optional(string()),expiration:nullish(TransactionExpiration$2),gasConfig:GasConfig,inputs:array(TransactionInput),transactions:array(TransactionType)});function serializeV1TransactionData(t){var i;const e=t.inputs.map((n,s)=>{if(n.Object)return{kind:"Input",index:s,value:{Object:n.Object.ImmOrOwnedObject?{ImmOrOwned:n.Object.ImmOrOwnedObject}:n.Object.Receiving?{Receiving:{digest:n.Object.Receiving.digest,version:n.Object.Receiving.version,objectId:n.Object.Receiving.objectId}}:{Shared:{mutable:n.Object.SharedObject.mutable,initialSharedVersion:n.Object.SharedObject.initialSharedVersion,objectId:n.Object.SharedObject.objectId}}},type:"object"};if(n.Pure)return{kind:"Input",index:s,value:{Pure:Array.from(fromBase64(n.Pure.bytes))},type:"pure"};if(n.UnresolvedPure)return{kind:"Input",type:"pure",index:s,value:n.UnresolvedPure.value};if(n.UnresolvedObject)return{kind:"Input",type:"object",index:s,value:n.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:t.sender??void 0,expiration:((i=t.expiration)==null?void 0:i.$kind)==="Epoch"?{Epoch:Number(t.expiration.Epoch)}:t.expiration?{None:!0}:null,gasConfig:{owner:t.gasData.owner??void 0,budget:t.gasData.budget??void 0,price:t.gasData.price??void 0,payment:t.gasData.payment??void 0},inputs:e,transactions:t.commands.map(n=>{if(n.MakeMoveVec)return{kind:"MakeMoveVec",type:n.MakeMoveVec.type===null?{None:!0}:{Some:TypeTagSerializer$1.parseFromStr(n.MakeMoveVec.type)},objects:n.MakeMoveVec.elements.map(s=>convertTransactionArgument(s,e))};if(n.MergeCoins)return{kind:"MergeCoins",destination:convertTransactionArgument(n.MergeCoins.destination,e),sources:n.MergeCoins.sources.map(s=>convertTransactionArgument(s,e))};if(n.MoveCall)return{kind:"MoveCall",target:`${n.MoveCall.package}::${n.MoveCall.module}::${n.MoveCall.function}`,typeArguments:n.MoveCall.typeArguments,arguments:n.MoveCall.arguments.map(s=>convertTransactionArgument(s,e))};if(n.Publish)return{kind:"Publish",modules:n.Publish.modules.map(s=>Array.from(fromBase64(s))),dependencies:n.Publish.dependencies};if(n.SplitCoins)return{kind:"SplitCoins",coin:convertTransactionArgument(n.SplitCoins.coin,e),amounts:n.SplitCoins.amounts.map(s=>convertTransactionArgument(s,e))};if(n.TransferObjects)return{kind:"TransferObjects",objects:n.TransferObjects.objects.map(s=>convertTransactionArgument(s,e)),address:convertTransactionArgument(n.TransferObjects.address,e)};if(n.Upgrade)return{kind:"Upgrade",modules:n.Upgrade.modules.map(s=>Array.from(fromBase64(s))),dependencies:n.Upgrade.dependencies,packageId:n.Upgrade.package,ticket:convertTransactionArgument(n.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(n)}`)})}}function convertTransactionArgument(t,e){if(t.$kind==="GasCoin")return{kind:"GasCoin"};if(t.$kind==="Result")return{kind:"Result",index:t.Result};if(t.$kind==="NestedResult")return{kind:"NestedResult",index:t.NestedResult[0],resultIndex:t.NestedResult[1]};if(t.$kind==="Input")return e[t.Input];throw new Error(`Invalid argument ${Object.keys(t)}`)}function transactionDataFromV1(t){var e,i,n;return parse(TransactionData$1,{version:2,sender:t.sender??null,expiration:t.expiration?"Epoch"in t.expiration?{Epoch:t.expiration.Epoch}:{None:!0}:null,gasData:{owner:t.gasConfig.owner??null,budget:((e=t.gasConfig.budget)==null?void 0:e.toString())??null,price:((i=t.gasConfig.price)==null?void 0:i.toString())??null,payment:((n=t.gasConfig.payment)==null?void 0:n.map(s=>({digest:s.digest,objectId:s.objectId,version:s.version.toString()})))??null},inputs:t.inputs.map(s=>{if(s.kind==="Input"){if(is$3(NormalizedCallArg,s.value)){const a=parse(NormalizedCallArg,s.value);if(a.Object){if(a.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:a.Object.ImmOrOwned.objectId,version:String(a.Object.ImmOrOwned.version),digest:a.Object.ImmOrOwned.digest}}};if(a.Object.Shared)return{Object:{SharedObject:{mutable:a.Object.Shared.mutable??null,initialSharedVersion:a.Object.Shared.initialSharedVersion,objectId:a.Object.Shared.objectId}}};if(a.Object.Receiving)return{Object:{Receiving:{digest:a.Object.Receiving.digest,version:String(a.Object.Receiving.version),objectId:a.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:toBase64(new Uint8Array(a.Pure))}}}return s.type==="object"?{UnresolvedObject:{objectId:s.value}}:{UnresolvedPure:{value:s.value}}}throw new Error("Invalid input")}),commands:t.transactions.map(s=>{switch(s.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in s.type?TypeTagSerializer$1.tagToString(s.type.Some):null,elements:s.objects.map(a=>parseV1TransactionArgument(a))}};case"MergeCoins":return{MergeCoins:{destination:parseV1TransactionArgument(s.destination),sources:s.sources.map(a=>parseV1TransactionArgument(a))}};case"MoveCall":{const[a,l,A]=s.target.split("::");return{MoveCall:{package:a,module:l,function:A,typeArguments:s.typeArguments,arguments:s.arguments.map(T=>parseV1TransactionArgument(T))}}}case"Publish":return{Publish:{modules:s.modules.map(a=>toBase64(Uint8Array.from(a))),dependencies:s.dependencies}};case"SplitCoins":return{SplitCoins:{coin:parseV1TransactionArgument(s.coin),amounts:s.amounts.map(a=>parseV1TransactionArgument(a))}};case"TransferObjects":return{TransferObjects:{objects:s.objects.map(a=>parseV1TransactionArgument(a)),address:parseV1TransactionArgument(s.address)}};case"Upgrade":return{Upgrade:{modules:s.modules.map(a=>toBase64(Uint8Array.from(a))),dependencies:s.dependencies,package:s.packageId,ticket:parseV1TransactionArgument(s.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(s)}`)})})}function parseV1TransactionArgument(t){switch(t.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:t.index};case"NestedResult":return{NestedResult:[t.index,t.resultIndex]};case"Input":return{Input:t.index}}}function enumUnion(t){return union(Object.entries(t).map(([e,i])=>object$1({[e]:i})))}const Argument$1=enumUnion({GasCoin:literal(!0),Input:pipe(number(),integer()),Result:pipe(number(),integer()),NestedResult:tuple([pipe(number(),integer()),pipe(number(),integer())])}),GasData$1=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),ProgrammableMoveCall$1=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$1)}),$Intent=object$1({name:string(),inputs:record(string(),union([Argument$1,array(Argument$1)])),data:record(string(),unknown())}),Command$1=enumUnion({MoveCall:ProgrammableMoveCall$1,TransferObjects:object$1({objects:array(Argument$1),address:Argument$1}),SplitCoins:object$1({coin:Argument$1,amounts:array(Argument$1)}),MergeCoins:object$1({destination:Argument$1,sources:array(Argument$1)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$1)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$1}),$Intent}),ObjectArg$1=enumUnion({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$1=enumUnion({Object:ObjectArg$1,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),TransactionExpiration$1=enumUnion({None:literal(!0),Epoch:JsonU64}),SerializedTransactionDataV2=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$1),gasData:GasData$1,inputs:array(CallArg$1),commands:array(Command$1)}),MAX_OBJECTS_PER_FETCH=50,GAS_SAFE_OVERHEAD=1000n,MAX_GAS=5e10;async function resolveTransactionData(t,e,i){return await normalizeInputs(t,e),await resolveObjectReferences(t,e),e.onlyTransactionKind||(await setGasPrice(t,e),await setGasBudget(t,e),await setGasPayment(t,e)),await validate(t),await i()}async function setGasPrice(t,e){t.gasConfig.price||(t.gasConfig.price=String(await getClient(e).getReferenceGasPrice()))}async function setGasBudget(t,e){if(t.gasConfig.budget)return;const i=await getClient(e).dryRunTransactionBlock({transactionBlock:t.build({overrides:{gasData:{budget:String(MAX_GAS),payment:[]}}})});if(i.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${i.effects.status.error}`,{cause:i});const n=GAS_SAFE_OVERHEAD*BigInt(t.gasConfig.price||1n),s=BigInt(i.effects.gasUsed.computationCost)+n,a=s+BigInt(i.effects.gasUsed.storageCost)-BigInt(i.effects.gasUsed.storageRebate);t.gasConfig.budget=String(a>s?a:s)}async function setGasPayment(t,e){if(!t.gasConfig.payment){const n=(await getClient(e).getCoins({owner:t.gasConfig.owner||t.sender,coinType:SUI_TYPE_ARG$1})).data.filter(s=>!t.inputs.find(l=>{var A;return(A=l.Object)!=null&&A.ImmOrOwnedObject?s.coinObjectId===l.Object.ImmOrOwnedObject.objectId:!1})).map(s=>({objectId:s.coinObjectId,digest:s.digest,version:s.version}));if(!n.length)throw new Error("No valid gas coins found for the transaction.");t.gasConfig.payment=n.map(s=>parse(ObjectRef$1,s))}}async function resolveObjectReferences(t,e){const i=t.inputs.filter(et=>{var xi;return et.UnresolvedObject&&!(et.UnresolvedObject.version||(xi=et.UnresolvedObject)!=null&&xi.initialSharedVersion)}),n=[...new Set(i.map(et=>normalizeSuiObjectId$1(et.UnresolvedObject.objectId)))],s=n.length?chunk(n,MAX_OBJECTS_PER_FETCH):[],a=(await Promise.all(s.map(et=>getClient(e).multiGetObjects({ids:et,options:{showOwner:!0}})))).flat(),l=new Map(n.map((et,xi)=>[et,a[xi]])),A=Array.from(l).filter(([et,xi])=>xi.error).map(([et,xi])=>JSON.stringify(xi.error));if(A.length)throw new Error(`The following input objects are invalid: ${A.join(", ")}`);const T=a.map(et=>{if(et.error||!et.data)throw new Error(`Failed to fetch object: ${et.error}`);const xi=et.data.owner,Oi=xi&&typeof xi=="object"&&"Shared"in xi?xi.Shared.initial_shared_version:null;return{objectId:et.data.objectId,digest:et.data.digest,version:et.data.version,initialSharedVersion:Oi}}),q=new Map(n.map((et,xi)=>[et,T[xi]]));for(const[et,xi]of t.inputs.entries()){if(!xi.UnresolvedObject)continue;let Oi;const Ts=normalizeSuiAddress$1(xi.UnresolvedObject.objectId),Fs=q.get(Ts);xi.UnresolvedObject.initialSharedVersion??(Fs==null?void 0:Fs.initialSharedVersion)?Oi=Inputs.SharedObjectRef({objectId:Ts,initialSharedVersion:xi.UnresolvedObject.initialSharedVersion||(Fs==null?void 0:Fs.initialSharedVersion),mutable:isUsedAsMutable(t,et)}):isUsedAsReceiving(t,et)&&(Oi=Inputs.ReceivingRef({objectId:Ts,digest:xi.UnresolvedObject.digest??(Fs==null?void 0:Fs.digest),version:xi.UnresolvedObject.version??(Fs==null?void 0:Fs.version)})),t.inputs[t.inputs.indexOf(xi)]=Oi??Inputs.ObjectRef({objectId:Ts,digest:xi.UnresolvedObject.digest??(Fs==null?void 0:Fs.digest),version:xi.UnresolvedObject.version??(Fs==null?void 0:Fs.version)})}}async function normalizeInputs(t,e){const{inputs:i,commands:n}=t,s=[],a=new Set;n.forEach(A=>{if(A.MoveCall){if(A.MoveCall._argumentTypes)return;if(A.MoveCall.arguments.map(et=>et.$kind==="Input"?t.inputs[et.Input]:null).some(et=>(et==null?void 0:et.UnresolvedPure)||(et==null?void 0:et.UnresolvedObject))){const et=`${A.MoveCall.package}::${A.MoveCall.module}::${A.MoveCall.function}`;a.add(et),s.push(A.MoveCall)}}switch(A.$kind){case"SplitCoins":A.SplitCoins.amounts.forEach(T=>{normalizeRawArgument(T,suiBcs$1.U64,t)});break;case"TransferObjects":normalizeRawArgument(A.TransferObjects.address,suiBcs$1.Address,t);break}});const l=new Map;if(a.size>0){const A=getClient(e);await Promise.all([...a].map(async T=>{const[q,et,xi]=T.split("::"),Oi=await A.getNormalizedMoveFunction({package:q,module:et,function:xi});l.set(T,Oi.parameters.map(Ts=>normalizedTypeToMoveTypeSignature(Ts)))}))}s.length&&await Promise.all(s.map(async A=>{const T=l.get(`${A.package}::${A.module}::${A.function}`);if(!T)return;const et=T.length>0&&isTxContext(T.at(-1))?T.slice(0,T.length-1):T;A._argumentTypes=et})),n.forEach(A=>{if(!A.MoveCall)return;const T=A.MoveCall,q=`${T.package}::${T.module}::${T.function}`,et=T._argumentTypes;if(et){if(et.length!==A.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${q}`);et.forEach((xi,Oi)=>{var Gs,zs;const Ts=T.arguments[Oi];if(Ts.$kind!=="Input")return;const Fs=i[Ts.Input];if(!Fs.UnresolvedPure&&!Fs.UnresolvedObject)return;const qs=((Gs=Fs.UnresolvedPure)==null?void 0:Gs.value)??((zs=Fs.UnresolvedObject)==null?void 0:zs.objectId),Us=getPureBcsSchema(xi.body);if(Us){Ts.type="pure",i[i.indexOf(Fs)]=Inputs.Pure(Us.serialize(qs));return}if(typeof qs!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(qs,null,2)}`);Ts.type="object";const Ls=Fs.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:qs}}:Fs;i[Ts.Input]=Ls})}})}function validate(t){t.inputs.forEach((e,i)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${i} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function normalizeRawArgument(t,e,i){if(t.$kind!=="Input")return;const n=i.inputs[t.Input];n.$kind==="UnresolvedPure"&&(i.inputs[t.Input]=Inputs.Pure(e.serialize(n.UnresolvedPure.value)))}function isUsedAsMutable(t,e){let i=!1;return t.getInputUses(e,(n,s)=>{if(s.MoveCall&&s.MoveCall._argumentTypes){const a=s.MoveCall.arguments.indexOf(n);i=s.MoveCall._argumentTypes[a].ref!=="&"||i}(s.$kind==="MakeMoveVec"||s.$kind==="MergeCoins"||s.$kind==="SplitCoins")&&(i=!0)}),i}function isUsedAsReceiving(t,e){let i=!1;return t.getInputUses(e,(n,s)=>{if(s.MoveCall&&s.MoveCall._argumentTypes){const a=s.MoveCall.arguments.indexOf(n);i=isReceivingType(s.MoveCall._argumentTypes[a])||i}}),i}function isReceivingType(t){return typeof t.body!="object"||!("datatype"in t.body)?!1:t.body.datatype.package==="0x2"&&t.body.datatype.module==="transfer"&&t.body.datatype.type==="Receiving"}function getClient(t){if(!t.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return t.client}function createObjectMethods(t){function e(i){return t(i)}return e.system=()=>e("0x5"),e.clock=()=>e("0x6"),e.random=()=>e("0x8"),e.denyList=()=>e("0x403"),e.option=({type:i,value:n})=>s=>s.moveCall({typeArguments:[i],target:`0x1::option::${n===null?"none":"some"}`,arguments:n===null?[]:[s.object(n)]}),e}function createPure(t){function e(i,n){if(typeof i=="string")return t(pureBcsSchemaFromTypeName$1(i).serialize(n));if(i instanceof Uint8Array||isSerializedBcs(i))return t(i);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return e.u8=i=>t(suiBcs$1.U8.serialize(i)),e.u16=i=>t(suiBcs$1.U16.serialize(i)),e.u32=i=>t(suiBcs$1.U32.serialize(i)),e.u64=i=>t(suiBcs$1.U64.serialize(i)),e.u128=i=>t(suiBcs$1.U128.serialize(i)),e.u256=i=>t(suiBcs$1.U256.serialize(i)),e.bool=i=>t(suiBcs$1.Bool.serialize(i)),e.string=i=>t(suiBcs$1.String.serialize(i)),e.address=i=>t(suiBcs$1.Address.serialize(i)),e.id=e.address,e.vector=(i,n)=>t(suiBcs$1.vector(pureBcsSchemaFromTypeName$1(i)).serialize(n)),e.option=(i,n)=>t(suiBcs$1.option(pureBcsSchemaFromTypeName$1(i)).serialize(n)),e}function hashTypedData(t,e){const i=Array.from(`${t}::`).map(s=>s.charCodeAt(0)),n=new Uint8Array(i.length+e.length);return n.set(i),n.set(e,i.length),blake2b$1(n,{dkLen:32})}function prepareSuiAddress(t){return normalizeSuiAddress$1(t).replace("0x","")}class TransactionDataBuilder{constructor(e){this.version=2,this.sender=(e==null?void 0:e.sender)??null,this.expiration=(e==null?void 0:e.expiration)??null,this.inputs=(e==null?void 0:e.inputs)??[],this.commands=(e==null?void 0:e.commands)??[],this.gasData=(e==null?void 0:e.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const n=suiBcs$1.TransactionKind.parse(e).ProgrammableTransaction;if(!n)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:n.inputs,commands:n.commands})}static fromBytes(e){const i=suiBcs$1.TransactionData.parse(e),n=i==null?void 0:i.V1,s=n.kind.ProgrammableTransaction;if(!n||!s)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:n.sender,expiration:n.expiration,gasData:n.gasData,inputs:s.inputs,commands:s.commands})}static restore(e){return e.version===2?new TransactionDataBuilder(parse(TransactionData$1,e)):new TransactionDataBuilder(parse(TransactionData$1,transactionDataFromV1(e)))}static getDigestFromBytes(e){const i=hashTypedData("TransactionData",e);return toBase58(i)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:i,onlyTransactionKind:n}={}){const s=this.inputs,a=this.commands,l={ProgrammableTransaction:{inputs:s,commands:a}};if(n)return suiBcs$1.TransactionKind.serialize(l,{maxSize:e}).toBytes();const A=(i==null?void 0:i.expiration)??this.expiration,T=(i==null?void 0:i.sender)??this.sender,q={...this.gasData,...i==null?void 0:i.gasConfig,...i==null?void 0:i.gasData};if(!T)throw new Error("Missing transaction sender");if(!q.budget)throw new Error("Missing gas budget");if(!q.payment)throw new Error("Missing gas payment");if(!q.price)throw new Error("Missing gas price");const et={sender:prepareSuiAddress(T),expiration:A||{None:!0},gasData:{payment:q.payment,owner:prepareSuiAddress(this.gasData.owner??T),price:BigInt(q.price),budget:BigInt(q.budget)},kind:{ProgrammableTransaction:{inputs:s,commands:a}}};return suiBcs$1.TransactionData.serialize({V1:et},{maxSize:e}).toBytes()}addInput(e,i){const n=this.inputs.length;return this.inputs.push(i),{Input:n,type:e,$kind:"Input"}}getInputUses(e,i){this.mapArguments((n,s)=>(n.$kind==="Input"&&n.Input===e&&i(n,s),n))}mapCommandArguments(e,i){const n=this.commands[e];switch(n.$kind){case"MoveCall":n.MoveCall.arguments=n.MoveCall.arguments.map(a=>i(a,n,e));break;case"TransferObjects":n.TransferObjects.objects=n.TransferObjects.objects.map(a=>i(a,n,e)),n.TransferObjects.address=i(n.TransferObjects.address,n,e);break;case"SplitCoins":n.SplitCoins.coin=i(n.SplitCoins.coin,n,e),n.SplitCoins.amounts=n.SplitCoins.amounts.map(a=>i(a,n,e));break;case"MergeCoins":n.MergeCoins.destination=i(n.MergeCoins.destination,n,e),n.MergeCoins.sources=n.MergeCoins.sources.map(a=>i(a,n,e));break;case"MakeMoveVec":n.MakeMoveVec.elements=n.MakeMoveVec.elements.map(a=>i(a,n,e));break;case"Upgrade":n.Upgrade.ticket=i(n.Upgrade.ticket,n,e);break;case"$Intent":const s=n.$Intent.inputs;n.$Intent.inputs={};for(const[a,l]of Object.entries(s))n.$Intent.inputs[a]=Array.isArray(l)?l.map(A=>i(A,n,e)):i(l,n,e);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${n.$kind}`)}}mapArguments(e){for(const i of this.commands.keys())this.mapCommandArguments(i,e)}replaceCommand(e,i,n=e){if(!Array.isArray(i)){this.commands[e]=i;return}const s=i.length-1;this.commands.splice(e,1,...i),s!==0&&this.mapArguments((a,l,A)=>{if(A<e+i.length)return a;switch(a.$kind){case"Result":a.Result===e&&(a.Result=n),a.Result>e&&(a.Result+=s);break;case"NestedResult":a.NestedResult[0]===e&&(a.NestedResult[0]=n),a.NestedResult[0]>e&&(a.NestedResult[0]+=s);break}return a})}getDigest(){const e=this.build({onlyTransactionKind:!1});return TransactionDataBuilder.getDigestFromBytes(e)}snapshot(){return parse(TransactionData$1,this)}shallowClone(){return new TransactionDataBuilder({version:this.version,sender:this.sender,expiration:this.expiration,gasData:{...this.gasData},inputs:[...this.inputs],commands:[...this.commands]})}}function getIdFromCallArg(t){if(typeof t=="string")return normalizeSuiAddress$1(t);if(t.Object)return t.Object.ImmOrOwnedObject?normalizeSuiAddress$1(t.Object.ImmOrOwnedObject.objectId):t.Object.Receiving?normalizeSuiAddress$1(t.Object.Receiving.objectId):normalizeSuiAddress$1(t.Object.SharedObject.objectId);if(t.UnresolvedObject)return normalizeSuiAddress$1(t.UnresolvedObject.objectId)}var __typeError$7=t=>{throw TypeError(t)},__accessCheck$7=(t,e,i)=>e.has(t)||__typeError$7("Cannot "+i),__privateGet$7=(t,e,i)=>(__accessCheck$7(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd$7=(t,e,i)=>e.has(t)?__typeError$7("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet$6=(t,e,i,n)=>(__accessCheck$7(t,e,"write to private field"),e.set(t,i),i),__privateMethod$4=(t,e,i)=>(__accessCheck$7(t,e,"access private method"),i),_serializationPlugins,_buildPlugins,_intentResolvers,_inputSection,_commandSection,_availableResults,_pendingPromises,_added,_data,_Transaction_instances,fork_fn,addCommand_fn,addInput_fn,normalizeTransactionArgument_fn,resolveArgument_fn,prepareBuild_fn,runPlugins_fn,waitForPendingTasks_fn,sortCommandsAndInputs_fn;function createTransactionResult(t,e=1/0){const i={$kind:"Result",Result:t},n=[],s=a=>n[a]??(n[a]={$kind:"NestedResult",NestedResult:[t,a]});return new Proxy(i,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(a,l){if(l in a)return Reflect.get(a,l);if(l===Symbol.iterator)return function*(){let T=0;for(;T<e;)yield s(T),T++};if(typeof l=="symbol")return;const A=parseInt(l,10);if(!(Number.isNaN(A)||A<0))return s(A)}})}const TRANSACTION_BRAND=Symbol.for("@mysten/transaction");function isTransaction(t){return!!t&&typeof t=="object"&&t[TRANSACTION_BRAND]===!0}const modulePluginRegistry={buildPlugins:new Map,serializationPlugins:new Map},TRANSACTION_REGISTRY_KEY=Symbol.for("@mysten/transaction/registry");function getGlobalPluginRegistry(){try{const t=globalThis;return t[TRANSACTION_REGISTRY_KEY]||(t[TRANSACTION_REGISTRY_KEY]=modulePluginRegistry),t[TRANSACTION_REGISTRY_KEY]}catch{return modulePluginRegistry}}const _Transaction=class Nl{constructor(){__privateAdd$7(this,_Transaction_instances),__privateAdd$7(this,_serializationPlugins),__privateAdd$7(this,_buildPlugins),__privateAdd$7(this,_intentResolvers,new Map),__privateAdd$7(this,_inputSection,[]),__privateAdd$7(this,_commandSection,[]),__privateAdd$7(this,_availableResults,new Set),__privateAdd$7(this,_pendingPromises,new Set),__privateAdd$7(this,_added,new Map),__privateAdd$7(this,_data),this.object=createObjectMethods(i=>{var a,l;if(typeof i=="function")return this.object(this.add(i));if(typeof i=="object"&&is$3(Argument$2,i))return i;const n=getIdFromCallArg(i),s=__privateGet$7(this,_data).inputs.find(A=>n===getIdFromCallArg(A));return(a=s==null?void 0:s.Object)!=null&&a.SharedObject&&typeof i=="object"&&((l=i.Object)!=null&&l.SharedObject)&&(s.Object.SharedObject.mutable=s.Object.SharedObject.mutable||i.Object.SharedObject.mutable),s?{$kind:"Input",Input:__privateGet$7(this,_data).inputs.indexOf(s),type:"object"}:__privateMethod$4(this,_Transaction_instances,addInput_fn).call(this,"object",typeof i=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:normalizeSuiAddress$1(i)}}:i)});const e=getGlobalPluginRegistry();__privateSet$6(this,_data,new TransactionDataBuilder),__privateSet$6(this,_buildPlugins,[...e.buildPlugins.values()]),__privateSet$6(this,_serializationPlugins,[...e.serializationPlugins.values()])}static fromKind(e){const i=new Nl;return __privateSet$6(i,_data,TransactionDataBuilder.fromKindBytes(typeof e=="string"?fromBase64(e):e)),__privateSet$6(i,_inputSection,__privateGet$7(i,_data).inputs),__privateSet$6(i,_commandSection,__privateGet$7(i,_data).commands),i}static from(e){const i=new Nl;return isTransaction(e)?__privateSet$6(i,_data,new TransactionDataBuilder(e.getData())):typeof e!="string"||!e.startsWith("{")?__privateSet$6(i,_data,TransactionDataBuilder.fromBytes(typeof e=="string"?fromBase64(e):e)):__privateSet$6(i,_data,TransactionDataBuilder.restore(JSON.parse(e))),__privateSet$6(i,_inputSection,__privateGet$7(i,_data).inputs),__privateSet$6(i,_commandSection,__privateGet$7(i,_data).commands),i}static registerGlobalSerializationPlugin(e,i){getGlobalPluginRegistry().serializationPlugins.set(e,i??e)}static unregisterGlobalSerializationPlugin(e){getGlobalPluginRegistry().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,i){getGlobalPluginRegistry().buildPlugins.set(e,i??e)}static unregisterGlobalBuildPlugin(e){getGlobalPluginRegistry().buildPlugins.delete(e)}addSerializationPlugin(e){__privateGet$7(this,_serializationPlugins).push(e)}addBuildPlugin(e){__privateGet$7(this,_buildPlugins).push(e)}addIntentResolver(e,i){if(__privateGet$7(this,_intentResolvers).has(e)&&__privateGet$7(this,_intentResolvers).get(e)!==i)throw new Error(`Intent resolver for ${e} already exists`);__privateGet$7(this,_intentResolvers).set(e,i)}setSender(e){__privateGet$7(this,_data).sender=e}setSenderIfNotSet(e){__privateGet$7(this,_data).sender||(__privateGet$7(this,_data).sender=e)}setExpiration(e){__privateGet$7(this,_data).expiration=e?parse(TransactionExpiration$3,e):null}setGasPrice(e){__privateGet$7(this,_data).gasConfig.price=String(e)}setGasBudget(e){__privateGet$7(this,_data).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){__privateGet$7(this,_data).gasData.budget==null&&(__privateGet$7(this,_data).gasConfig.budget=String(e))}setGasOwner(e){__privateGet$7(this,_data).gasConfig.owner=e}setGasPayment(e){__privateGet$7(this,_data).gasConfig.payment=e.map(i=>parse(ObjectRef$1,i))}get blockData(){return serializeV1TransactionData(__privateGet$7(this,_data).snapshot())}getData(){return __privateGet$7(this,_data).snapshot()}get[TRANSACTION_BRAND](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure(e=>isSerializedBcs(e)?__privateMethod$4(this,_Transaction_instances,addInput_fn).call(this,"pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):__privateMethod$4(this,_Transaction_instances,addInput_fn).call(this,"pure",is$3(NormalizedCallArg$1,e)?parse(NormalizedCallArg$1,e):e instanceof Uint8Array?Inputs.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(Inputs.ObjectRef(...e))}receivingRef(...e){return this.object(Inputs.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(Inputs.SharedObjectRef(...e))}add(e){if(typeof e=="function"){if(__privateGet$7(this,_added).has(e))return __privateGet$7(this,_added).get(e);const i=__privateMethod$4(this,_Transaction_instances,fork_fn).call(this),n=e(i);if(!(n&&typeof n=="object"&&"then"in n))return __privateSet$6(this,_availableResults,__privateGet$7(i,_availableResults)),__privateGet$7(this,_added).set(e,n),n;const s=__privateMethod$4(this,_Transaction_instances,addCommand_fn).call(this,{$kind:"$Intent",$Intent:{name:"AsyncTransactionThunk",inputs:{},data:{result:null}}});__privateGet$7(this,_pendingPromises).add(Promise.resolve(n).then(l=>{s.$Intent.data.result=l}));const a=createTransactionResult(__privateGet$7(this,_data).commands.length-1);return __privateGet$7(this,_added).set(e,a),a}else __privateMethod$4(this,_Transaction_instances,addCommand_fn).call(this,e);return createTransactionResult(__privateGet$7(this,_data).commands.length-1)}splitCoins(e,i){const n=Commands.SplitCoins(typeof e=="string"?this.object(e):__privateMethod$4(this,_Transaction_instances,resolveArgument_fn).call(this,e),i.map(s=>typeof s=="number"||typeof s=="bigint"||typeof s=="string"?this.pure.u64(s):__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,s)));return __privateMethod$4(this,_Transaction_instances,addCommand_fn).call(this,n),createTransactionResult(__privateGet$7(this,_data).commands.length-1,i.length)}mergeCoins(e,i){return this.add(Commands.MergeCoins(this.object(e),i.map(n=>this.object(n))))}publish({modules:e,dependencies:i}){return this.add(Commands.Publish({modules:e,dependencies:i}))}upgrade({modules:e,dependencies:i,package:n,ticket:s}){return this.add(Commands.Upgrade({modules:e,dependencies:i,package:n,ticket:this.object(s)}))}moveCall({arguments:e,...i}){return this.add(Commands.MoveCall({...i,arguments:e==null?void 0:e.map(n=>__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,n))}))}transferObjects(e,i){return this.add(Commands.TransferObjects(e.map(n=>this.object(n)),typeof i=="string"?this.pure.address(i):__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,i)))}makeMoveVec({type:e,elements:i}){return this.add(Commands.MakeMoveVec({type:e,elements:i.map(n=>this.object(n))}))}serialize(){return JSON.stringify(serializeV1TransactionData(__privateGet$7(this,_data).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(parse(SerializedTransactionDataV2,__privateGet$7(this,_data).snapshot()),(i,n)=>typeof n=="bigint"?n.toString():n,2)}async sign(e){const{signer:i,...n}=e,s=await this.build(n);return i.signTransaction(s)}async build(e={}){return await this.prepareForSerialization(e),await __privateMethod$4(this,_Transaction_instances,prepareBuild_fn).call(this,e),__privateGet$7(this,_data).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await __privateMethod$4(this,_Transaction_instances,prepareBuild_fn).call(this,e),__privateGet$7(this,_data).getDigest()}async prepareForSerialization(e){var s;await __privateMethod$4(this,_Transaction_instances,waitForPendingTasks_fn).call(this),__privateMethod$4(this,_Transaction_instances,sortCommandsAndInputs_fn).call(this);const i=new Set;for(const a of __privateGet$7(this,_data).commands)a.$Intent&&i.add(a.$Intent.name);const n=[...__privateGet$7(this,_serializationPlugins)];for(const a of i)if(!((s=e.supportedIntents)!=null&&s.includes(a))){if(!__privateGet$7(this,_intentResolvers).has(a))throw new Error(`Missing intent resolver for ${a}`);n.push(__privateGet$7(this,_intentResolvers).get(a))}await __privateMethod$4(this,_Transaction_instances,runPlugins_fn).call(this,n,e)}};_serializationPlugins=new WeakMap;_buildPlugins=new WeakMap;_intentResolvers=new WeakMap;_inputSection=new WeakMap;_commandSection=new WeakMap;_availableResults=new WeakMap;_pendingPromises=new WeakMap;_added=new WeakMap;_data=new WeakMap;_Transaction_instances=new WeakSet;fork_fn=function(){const t=new _Transaction;return __privateSet$6(t,_data,__privateGet$7(this,_data)),__privateSet$6(t,_serializationPlugins,__privateGet$7(this,_serializationPlugins)),__privateSet$6(t,_buildPlugins,__privateGet$7(this,_buildPlugins)),__privateSet$6(t,_intentResolvers,__privateGet$7(this,_intentResolvers)),__privateSet$6(t,_pendingPromises,__privateGet$7(this,_pendingPromises)),__privateSet$6(t,_availableResults,new Set(__privateGet$7(this,_availableResults))),__privateSet$6(t,_added,__privateGet$7(this,_added)),__privateGet$7(this,_inputSection).push(__privateGet$7(t,_inputSection)),__privateGet$7(this,_commandSection).push(__privateGet$7(t,_commandSection)),t};addCommand_fn=function(t){const e=__privateGet$7(this,_data).commands.length;return __privateGet$7(this,_commandSection).push(t),__privateGet$7(this,_availableResults).add(e),__privateGet$7(this,_data).commands.push(t),__privateGet$7(this,_data).mapCommandArguments(e,i=>{if(i.$kind==="Result"&&!__privateGet$7(this,_availableResults).has(i.Result))throw new Error(`Result { Result: ${i.Result} } is not available to use the current transaction`);if(i.$kind==="NestedResult"&&!__privateGet$7(this,_availableResults).has(i.NestedResult[0]))throw new Error(`Result { NestedResult: [${i.NestedResult[0]}, ${i.NestedResult[1]}] } is not available to use the current transaction`);if(i.$kind==="Input"&&i.Input>=__privateGet$7(this,_data).inputs.length)throw new Error(`Input { Input: ${i.Input} } references an input that does not exist in the current transaction`);return i}),t};addInput_fn=function(t,e){return __privateGet$7(this,_inputSection).push(e),__privateGet$7(this,_data).addInput(t,e)};normalizeTransactionArgument_fn=function(t){return isSerializedBcs(t)?this.pure(t):__privateMethod$4(this,_Transaction_instances,resolveArgument_fn).call(this,t)};resolveArgument_fn=function(t){if(typeof t=="function"){const e=this.add(t);return typeof e=="function"?__privateMethod$4(this,_Transaction_instances,resolveArgument_fn).call(this,e):parse(Argument$2,e)}return parse(Argument$2,t)};prepareBuild_fn=async function(t){if(!t.onlyTransactionKind&&!__privateGet$7(this,_data).sender)throw new Error("Missing transaction sender");await __privateMethod$4(this,_Transaction_instances,runPlugins_fn).call(this,[...__privateGet$7(this,_buildPlugins),resolveTransactionData],t)};runPlugins_fn=async function(t,e){const i=n=>{if(n>=t.length)return()=>{};const s=t[n];return async()=>{const a=i(n+1);let l=!1,A=!1;if(await s(__privateGet$7(this,_data),e,async()=>{if(l)throw new Error(`next() was call multiple times in TransactionPlugin ${n}`);l=!0,await a(),A=!0}),!l)throw new Error(`next() was not called in TransactionPlugin ${n}`);if(!A)throw new Error(`next() was not awaited in TransactionPlugin ${n}`)}};await i(0)(),__privateSet$6(this,_inputSection,__privateGet$7(this,_data).inputs),__privateSet$6(this,_commandSection,__privateGet$7(this,_data).commands)};waitForPendingTasks_fn=async function(){for(;__privateGet$7(this,_pendingPromises).size>0;){const t=Promise.all(__privateGet$7(this,_pendingPromises));__privateGet$7(this,_pendingPromises).clear(),__privateGet$7(this,_pendingPromises).add(t),await t,__privateGet$7(this,_pendingPromises).delete(t)}};sortCommandsAndInputs_fn=function(){const t=__privateGet$7(this,_data).commands,e=__privateGet$7(this,_data).inputs,i=__privateGet$7(this,_commandSection).flat(1/0),n=__privateGet$7(this,_inputSection).flat(1/0);if(i.length!==t.length)throw new Error("Unexpected number of commands found in transaction data");if(n.length!==e.length)throw new Error("Unexpected number of inputs found in transaction data");const s=i.filter(l=>{var A;return((A=l.$Intent)==null?void 0:A.name)!=="AsyncTransactionThunk"});__privateGet$7(this,_data).commands=s,__privateGet$7(this,_data).inputs=n,__privateSet$6(this,_commandSection,s),__privateSet$6(this,_inputSection,n);function a(l){var q;const A=t[l];if(((q=A.$Intent)==null?void 0:q.name)==="AsyncTransactionThunk"){const et=A.$Intent.data.result;if(et==null)throw new Error("AsyncTransactionThunk has not been resolved");return a(et.Result)}const T=s.indexOf(A);if(T===-1)throw new Error("Unable to find original index for command");return T}__privateGet$7(this,_data).mapArguments(l=>{if(l.$kind==="Input"){const A=n.indexOf(e[l.Input]);if(A===-1)throw new Error("Input has not been resolved");return{...l,Input:A}}else if(l.$kind==="Result"){const A=a(l.Result);return{...l,Result:A}}else if(l.$kind==="NestedResult"){const A=a(l.NestedResult[0]);return{...l,NestedResult:[A,l.NestedResult[1]]}}return l})};let Transaction=_Transaction;const COIN_WITH_BALANCE="CoinWithBalance",SUI_TYPE=normalizeStructTag$1("0x2::sui::SUI");function coinWithBalance({type:t=SUI_TYPE,balance:e,useGasCoin:i=!0}){let n=null;return s=>{if(n)return n;s.addIntentResolver(COIN_WITH_BALANCE,resolveCoinBalance);const a=t==="gas"?t:normalizeStructTag$1(t);return n=s.add(Commands.Intent({name:COIN_WITH_BALANCE,inputs:{},data:{type:a===SUI_TYPE&&i?"gas":a,balance:BigInt(e)}})),n}}const CoinWithBalanceData=object$1({type:string(),balance:bigint()});async function resolveCoinBalance(t,e,i){var q,et;const n=new Set,s=new Map;if(!t.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const xi of t.commands)if(xi.$kind==="$Intent"&&xi.$Intent.name===COIN_WITH_BALANCE){const{type:Oi,balance:Ts}=parse(CoinWithBalanceData,xi.$Intent.data);Oi!=="gas"&&Ts>0n&&n.add(Oi),s.set(Oi,(s.get(Oi)??0n)+Ts)}const a=new Set;for(const xi of t.inputs)(q=xi.Object)!=null&&q.ImmOrOwnedObject&&a.add(xi.Object.ImmOrOwnedObject.objectId),(et=xi.UnresolvedObject)!=null&&et.objectId&&a.add(xi.UnresolvedObject.objectId);const l=new Map,A=getClient(e);await Promise.all([...n].map(async xi=>{l.set(xi,await getCoinsOfType({coinType:xi,balance:s.get(xi),client:A,owner:t.sender,usedIds:a}))}));const T=new Map;T.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[xi,Oi]of t.commands.entries()){if(Oi.$kind!=="$Intent"||Oi.$Intent.name!==COIN_WITH_BALANCE)continue;const{type:Ts,balance:Fs}=Oi.$Intent.data;if(Fs===0n&&Ts!=="gas"){t.replaceCommand(xi,Commands.MoveCall({target:"0x2::coin::zero",typeArguments:[Ts]}));continue}const qs=[];if(!T.has(Ts)){const[Us,...Ls]=l.get(Ts).map(Gs=>t.addInput("object",Inputs.ObjectRef({objectId:Gs.coinObjectId,digest:Gs.digest,version:Gs.version})));Ls.length>0&&qs.push(Commands.MergeCoins(Us,Ls)),T.set(Ts,Us)}qs.push(Commands.SplitCoins(T.get(Ts),[t.addInput("pure",Inputs.Pure(suiBcs$1.u64().serialize(Fs)))])),t.replaceCommand(xi,qs),t.mapArguments(Us=>Us.$kind==="Result"&&Us.Result===xi?{$kind:"NestedResult",NestedResult:[xi+qs.length-1,0]}:Us)}return i()}async function getCoinsOfType({coinType:t,balance:e,client:i,owner:n,usedIds:s}){let a=e;const l=[];return A();async function A(T=null){const{data:q,hasNextPage:et,nextCursor:xi}=await i.getCoins({owner:n,coinType:t,cursor:T}),Oi=q.sort((Ts,Fs)=>Number(BigInt(Fs.balance)-BigInt(Ts.balance)));for(const Ts of Oi){if(s.has(Ts.coinObjectId))continue;const Fs=BigInt(Ts.balance);if(l.push(Ts),a-=Fs,a<=0)return l}if(et)return A(xi);throw new Error(`Not enough coins of type ${t} to satisfy requested balance`)}}function batch(t,e){const i=[];for(let n=0;n<t.length;n+=e)i.push(t.slice(n,n+e));return i}async function signTransaction(t,e){if(t.features["sui:signTransaction"])return t.features["sui:signTransaction"].signTransaction(e);if(!t.features["sui:signTransactionBlock"])throw new Error(`Provided wallet (${t.name}) does not support the signTransaction feature.`);const{signTransactionBlock:i}=t.features["sui:signTransactionBlock"],n=Transaction.from(await e.transaction.toJSON()),{transactionBlockBytes:s,signature:a}=await i({transactionBlock:n,account:e.account,chain:e.chain});return{bytes:s,signature:a}}const REQUIRED_FEATURES=["standard:connect","standard:events"];function isWalletWithRequiredFeatureSet(t,e=[]){return[...REQUIRED_FEATURES,...e].every(i=>i in t.features)}const SUI_DEVNET_CHAIN="sui:devnet",SUI_TESTNET_CHAIN="sui:testnet",SUI_LOCALNET_CHAIN="sui:localnet",SUI_MAINNET_CHAIN="sui:mainnet",SUI_CHAINS=[SUI_DEVNET_CHAIN,SUI_TESTNET_CHAIN,SUI_LOCALNET_CHAIN,SUI_MAINNET_CHAIN];function mitt(t){return{all:t=t||new Map,on:function(e,i){var n=t.get(e);n?n.push(i):t.set(e,[i])},off:function(e,i){var n=t.get(e);n&&(i?n.splice(n.indexOf(i)>>>0,1):t.set(e,[]))},emit:function(e,i){var n=t.get(e);n&&n.slice().map(function(s){s(i)}),(n=t.get("*"))&&n.slice().map(function(s){s(e,i)})}}}new TextEncoder;const decoder=new TextDecoder;function decodeBase64(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);const e=atob(t),i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function decode(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:decoder.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=decoder.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return decodeBase64(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}class JOSEError extends Error{constructor(i,n){var s;super(i,n);Ua(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(s=Error.captureStackTrace)==null||s.call(Error,this,this.constructor)}}Ua(JOSEError,"code","ERR_JOSE_GENERIC");class JWTInvalid extends JOSEError{constructor(){super(...arguments);Ua(this,"code","ERR_JWT_INVALID")}}Ua(JWTInvalid,"code","ERR_JWT_INVALID");function isObjectLike$1(t){return typeof t=="object"&&t!==null}const isObject$2=t=>{if(!isObjectLike$1(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function decodeJwt(t){if(typeof t!="string")throw new JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:i}=t.split(".");if(i===5)throw new JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(i!==3)throw new JWTInvalid("Invalid JWT");if(!e)throw new JWTInvalid("JWTs must contain a payload");let n;try{n=decode(e)}catch{throw new JWTInvalid("Failed to base64url decode the payload")}let s;try{s=JSON.parse(decoder.decode(n))}catch{throw new JWTInvalid("Failed to parse the decoded payload as JSON")}if(!isObject$2(s))throw new JWTInvalid("Invalid JWT Claims Set");return s}const AccountSchema=object$1({address:string(),publicKey:string()}),JwtSessionSchema=object$1({exp:number(),iat:number(),iss:string(),aud:string(),payload:object$1({accounts:array(AccountSchema)})});function decodeJwtSession(t){const e=decodeJwt(t);return parse(JwtSessionSchema,e)}const ResponseData=variant("type",[object$1({type:literal("connect"),session:string("`session` is required")}),object$1({type:literal("sign-transaction"),bytes:string(),signature:string()}),object$1({type:literal("sign-and-execute-transaction"),bytes:string(),signature:string(),digest:string(),effects:string()}),object$1({type:literal("sign-personal-message"),bytes:string(),signature:string()})]),ResponsePayload=variant("type",[object$1({type:literal("reject"),reason:optional(string("`reason` must be a string"))}),object$1({type:literal("resolve"),data:ResponseData})]),Response$1=object$1({id:pipe(string(),uuid()),source:literal("web-wallet-channel"),payload:ResponsePayload,version:literal("1")});function getClientMetadata(){return{version:"1",originUrl:window.location.href,userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,language:navigator.language,platform:navigator.platform,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timestamp:Date.now()}}var __typeError$6=t=>{throw TypeError(t)},__accessCheck$6=(t,e,i)=>e.has(t)||__typeError$6("Cannot "+i),__privateGet$6=(t,e,i)=>(__accessCheck$6(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd$6=(t,e,i)=>e.has(t)?__typeError$6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet$5=(t,e,i,n)=>(__accessCheck$6(t,e,"write to private field"),e.set(t,i),i),__privateMethod$3=(t,e,i)=>(__accessCheck$6(t,e,"access private method"),i),_popup,_version,_id$1,_hostOrigin,_hostPathname,_appName,_extraRequestOptions,_promise,_resolve,_reject,_interval,_isSendCalled,_listener,_DappPostMessageChannel_instances,cleanup_fn;class DappPostMessageChannel{constructor({appName:e,hostOrigin:i,hostPathname:n="dapp-request",extraRequestOptions:s}){__privateAdd$6(this,_DappPostMessageChannel_instances),__privateAdd$6(this,_popup),__privateAdd$6(this,_version,"1"),__privateAdd$6(this,_id$1),__privateAdd$6(this,_hostOrigin),__privateAdd$6(this,_hostPathname),__privateAdd$6(this,_appName),__privateAdd$6(this,_extraRequestOptions),__privateAdd$6(this,_promise),__privateAdd$6(this,_resolve),__privateAdd$6(this,_reject),__privateAdd$6(this,_interval,null),__privateAdd$6(this,_isSendCalled,!1),__privateAdd$6(this,_listener,q=>{if(q.origin!==__privateGet$6(this,_hostOrigin))return;const{success:et,output:xi}=safeParse(Response$1,q.data);!et||xi.id!==__privateGet$6(this,_id$1)||(__privateMethod$3(this,_DappPostMessageChannel_instances,cleanup_fn).call(this),xi.payload.type==="reject"?__privateGet$6(this,_reject).call(this,new Error("User rejected the request")):xi.payload.type==="resolve"&&__privateGet$6(this,_resolve).call(this,xi.payload.data))});const a=window.open("about:blank","_blank");if(!a)throw new Error("Failed to open new window");__privateSet$5(this,_id$1,crypto.randomUUID()),__privateSet$5(this,_popup,a),__privateSet$5(this,_hostOrigin,i),__privateSet$5(this,_hostPathname,n),__privateSet$5(this,_appName,e);const{promise:l,resolve:A,reject:T}=promiseWithResolvers();__privateSet$5(this,_promise,l),__privateSet$5(this,_resolve,A),__privateSet$5(this,_reject,T),__privateSet$5(this,_extraRequestOptions,s),__privateSet$5(this,_interval,setInterval(()=>{try{__privateGet$6(this,_popup).closed&&(__privateMethod$3(this,_DappPostMessageChannel_instances,cleanup_fn).call(this),T(new Error("User closed the wallet window")))}catch{}},1e3))}send({type:e,...i}){if(__privateGet$6(this,_popup).closed)throw new Error("User closed the wallet window");if(__privateGet$6(this,_isSendCalled))throw new Error("send() can only be called once");__privateSet$5(this,_isSendCalled,!0),window.addEventListener("message",__privateGet$6(this,_listener));const n={version:__privateGet$6(this,_version),requestId:__privateGet$6(this,_id$1),appUrl:window.location.href.split("#")[0],appName:__privateGet$6(this,_appName),payload:{type:e,...i},metadata:getClientMetadata(),extraRequestOptions:__privateGet$6(this,_extraRequestOptions)},s=encodeURIComponent(btoa(JSON.stringify(n)));return __privateGet$6(this,_popup).location.assign(`${__privateGet$6(this,_hostOrigin)}/${__privateGet$6(this,_hostPathname)}#${s}`),__privateGet$6(this,_promise)}close(){__privateMethod$3(this,_DappPostMessageChannel_instances,cleanup_fn).call(this),__privateGet$6(this,_popup).close()}}_popup=new WeakMap;_version=new WeakMap;_id$1=new WeakMap;_hostOrigin=new WeakMap;_hostPathname=new WeakMap;_appName=new WeakMap;_extraRequestOptions=new WeakMap;_promise=new WeakMap;_resolve=new WeakMap;_reject=new WeakMap;_interval=new WeakMap;_isSendCalled=new WeakMap;_listener=new WeakMap;_DappPostMessageChannel_instances=new WeakSet;cleanup_fn=function(){__privateGet$6(this,_interval)&&(clearInterval(__privateGet$6(this,_interval)),__privateSet$5(this,_interval,null)),window.removeEventListener("message",__privateGet$6(this,_listener))};var __typeError$5=t=>{throw TypeError(t)},__accessCheck$5=(t,e,i)=>e.has(t)||__typeError$5("Cannot "+i),__privateGet$5=(t,e,i)=>(__accessCheck$5(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd$5=(t,e,i)=>e.has(t)?__typeError$5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet$4=(t,e,i,n)=>(__accessCheck$5(t,e,"write to private field"),e.set(t,i),i),__privateMethod$2=(t,e,i)=>(__accessCheck$5(t,e,"access private method"),i),_id,_events,_accounts,_origin,_walletName,_icon,_name,_signTransactionBlock,_signTransaction,_signAndExecuteTransaction,_signPersonalMessage,_on,_SlushWallet_instances,setAccounts_fn,_connect,_disconnect,getNewPopupChannel_fn;const DEFAULT_SLUSH_ORIGIN="https://my.slush.app",SLUSH_SESSION_KEY="slush:session",SLUSH_WALLET_NAME="Slush",SUI_WALLET_EXTENSION_ID="com.mystenlabs.suiwallet",METADATA_API_URL="https://api.slush.app/api/wallet/metadata",WalletMetadataSchema=object$1({id:string("Wallet ID is required"),walletName:string("Wallet name is required"),icon:string("Icon must be a valid wallet icon format"),enabled:boolean("Enabled is required")});function setSessionToStorage(t){localStorage.setItem(SLUSH_SESSION_KEY,t)}function getSessionFromStorage(){const t=localStorage.getItem(SLUSH_SESSION_KEY);if(!t)throw new Error("No session found");return t}const walletAccountFeatures=["sui:signTransaction","sui:signAndExecuteTransaction","sui:signPersonalMessage","sui:signTransactionBlock","sui:signAndExecuteTransactionBlock"];async function getAccountsFromSession(t){const{payload:e}=await decodeJwtSession(t);return e.accounts.map(i=>new ReadonlyWalletAccount({address:i.address,chains:SUI_CHAINS,features:walletAccountFeatures,publicKey:fromBase64(i.publicKey)}))}class SlushWallet{constructor({name:e,origin:i,metadata:n}){__privateAdd$5(this,_SlushWallet_instances),__privateAdd$5(this,_id),__privateAdd$5(this,_events),__privateAdd$5(this,_accounts),__privateAdd$5(this,_origin),__privateAdd$5(this,_walletName),__privateAdd$5(this,_icon),__privateAdd$5(this,_name),__privateAdd$5(this,_signTransactionBlock,async({transactionBlock:s,account:a,chain:l})=>{const A=await s.toJSON(),q=await __privateMethod$2(this,_SlushWallet_instances,getNewPopupChannel_fn).call(this).send({type:"sign-transaction",transaction:A,address:a.address,chain:l,session:getSessionFromStorage()});return{transactionBlockBytes:q.bytes,signature:q.signature}}),__privateAdd$5(this,_signTransaction,async({transaction:s,account:a,chain:l})=>{const A=__privateMethod$2(this,_SlushWallet_instances,getNewPopupChannel_fn).call(this),T=await s.toJSON(),q=await A.send({type:"sign-transaction",transaction:T,address:a.address,chain:l,session:getSessionFromStorage()});return{bytes:q.bytes,signature:q.signature}}),__privateAdd$5(this,_signAndExecuteTransaction,async({transaction:s,account:a,chain:l})=>{const A=__privateMethod$2(this,_SlushWallet_instances,getNewPopupChannel_fn).call(this),T=await s.toJSON(),q=await A.send({type:"sign-and-execute-transaction",transaction:T,address:a.address,chain:l,session:getSessionFromStorage()});return{bytes:q.bytes,signature:q.signature,digest:q.digest,effects:q.effects}}),__privateAdd$5(this,_signPersonalMessage,async({message:s,account:a,chain:l})=>{const T=await __privateMethod$2(this,_SlushWallet_instances,getNewPopupChannel_fn).call(this).send({type:"sign-personal-message",message:toBase64(s),address:a.address,chain:l??a.chains[0],session:getSessionFromStorage()});return{bytes:T.bytes,signature:T.signature}}),__privateAdd$5(this,_on,(s,a)=>(__privateGet$5(this,_events).on(s,a),()=>__privateGet$5(this,_events).off(s,a))),__privateAdd$5(this,_connect,async s=>{if(s!=null&&s.silent){try{const A=await getAccountsFromSession(getSessionFromStorage());A.length&&__privateMethod$2(this,_SlushWallet_instances,setAccounts_fn).call(this,A)}catch{}return{accounts:this.accounts}}const l=await __privateMethod$2(this,_SlushWallet_instances,getNewPopupChannel_fn).call(this).send({type:"connect"});return setSessionToStorage(l.session),__privateMethod$2(this,_SlushWallet_instances,setAccounts_fn).call(this,await getAccountsFromSession(l.session)),{accounts:this.accounts}}),__privateAdd$5(this,_disconnect,async()=>{localStorage.removeItem(SLUSH_SESSION_KEY),__privateMethod$2(this,_SlushWallet_instances,setAccounts_fn).call(this,[])}),__privateSet$4(this,_id,n.id),__privateSet$4(this,_accounts,[]),__privateSet$4(this,_events,mitt()),__privateSet$4(this,_origin,i||DEFAULT_SLUSH_ORIGIN),__privateSet$4(this,_name,e),__privateSet$4(this,_walletName,n.walletName),__privateSet$4(this,_icon,n.icon)}get name(){return __privateGet$5(this,_walletName)}get id(){return __privateGet$5(this,_id)}get icon(){return __privateGet$5(this,_icon)}get version(){return"1.0.0"}get chains(){return SUI_CHAINS}get accounts(){return __privateGet$5(this,_accounts)}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet$5(this,_connect)},"standard:disconnect":{version:"1.0.0",disconnect:__privateGet$5(this,_disconnect)},"standard:events":{version:"1.0.0",on:__privateGet$5(this,_on)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet$5(this,_signTransactionBlock)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet$5(this,_signTransaction)},"sui:signPersonalMessage":{version:"1.1.0",signPersonalMessage:__privateGet$5(this,_signPersonalMessage)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:__privateGet$5(this,_signAndExecuteTransaction)}}}}_id=new WeakMap;_events=new WeakMap;_accounts=new WeakMap;_origin=new WeakMap;_walletName=new WeakMap;_icon=new WeakMap;_name=new WeakMap;_signTransactionBlock=new WeakMap;_signTransaction=new WeakMap;_signAndExecuteTransaction=new WeakMap;_signPersonalMessage=new WeakMap;_on=new WeakMap;_SlushWallet_instances=new WeakSet;setAccounts_fn=function(t){__privateSet$4(this,_accounts,t),__privateGet$5(this,_events).emit("change",{accounts:this.accounts})};_connect=new WeakMap;_disconnect=new WeakMap;getNewPopupChannel_fn=function(){return new DappPostMessageChannel({appName:__privateGet$5(this,_name),hostOrigin:__privateGet$5(this,_origin)})};async function fetchMetadata(t){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch wallet metadata");const i=await e.json();return parse(WalletMetadataSchema,i)}async function registerSlushWallet(t,{origin:e,metadataApiUrl:i=METADATA_API_URL}={}){const n=getWallets();if(n.get().find(T=>T.id===SUI_WALLET_EXTENSION_ID))return;let a;try{a=await fetchMetadata(i)}catch(T){console.error("Error fetching metadata",T)}if(!(a!=null&&a.enabled)){console.log("Slush wallet is not currently enabled.");return}const l=new SlushWallet({name:t,origin:e,metadata:a}),A=n.register(l);return n.on("register",T=>{T.id===SUI_WALLET_EXTENSION_ID&&A()}),{wallet:l,unregister:A}}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$5(){}function functionalUpdate(t,e){return typeof t=="function"?t(e):t}function isValidTimeout(t){return typeof t=="number"&&t>=0&&t!==1/0}function timeUntilStale(t,e){return Math.max(t+(e||0)-Date.now(),0)}function resolveStaleTime(t,e){return typeof t=="function"?t(e):t}function resolveEnabled(t,e){return typeof t=="function"?t(e):t}function matchQuery(t,e){const{type:i="all",exact:n,fetchStatus:s,predicate:a,queryKey:l,stale:A}=t;if(l){if(n){if(e.queryHash!==hashQueryKeyByOptions(l,e.options))return!1}else if(!partialMatchKey(e.queryKey,l))return!1}if(i!=="all"){const T=e.isActive();if(i==="active"&&!T||i==="inactive"&&T)return!1}return!(typeof A=="boolean"&&e.isStale()!==A||s&&s!==e.state.fetchStatus||a&&!a(e))}function matchMutation(t,e){const{exact:i,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(i){if(hashKey(e.options.mutationKey)!==hashKey(a))return!1}else if(!partialMatchKey(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function hashQueryKeyByOptions(t,e){return((e==null?void 0:e.queryKeyHashFn)||hashKey)(t)}function hashKey(t){return JSON.stringify(t,(e,i)=>isPlainObject$1(i)?Object.keys(i).sort().reduce((n,s)=>(n[s]=i[s],n),{}):i)}function partialMatchKey(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(i=>partialMatchKey(t[i],e[i])):!1}function replaceEqualDeep(t,e){if(t===e)return t;const i=isPlainArray(t)&&isPlainArray(e);if(i||isPlainObject$1(t)&&isPlainObject$1(e)){const n=i?t:Object.keys(t),s=n.length,a=i?e:Object.keys(e),l=a.length,A=i?[]:{};let T=0;for(let q=0;q<l;q++){const et=i?q:a[q];(!i&&n.includes(et)||i)&&t[et]===void 0&&e[et]===void 0?(A[et]=void 0,T++):(A[et]=replaceEqualDeep(t[et],e[et]),A[et]===t[et]&&t[et]!==void 0&&T++)}return s===l&&T===s?t:A}return e}function shallowEqualObjects(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}function isPlainArray(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function isPlainObject$1(t){if(!hasObjectPrototype(t))return!1;const e=t.constructor;if(e===void 0)return!0;const i=e.prototype;return!(!hasObjectPrototype(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hasObjectPrototype(t){return Object.prototype.toString.call(t)==="[object Object]"}function sleep$1(t){return new Promise(e=>{setTimeout(e,t)})}function replaceData(t,e,i){return typeof i.structuralSharing=="function"?i.structuralSharing(t,e):i.structuralSharing!==!1?replaceEqualDeep(t,e):e}function addToEnd(t,e,i=0){const n=[...t,e];return i&&n.length>i?n.slice(1):n}function addToStart(t,e,i=0){const n=[e,...t];return i&&n.length>i?n.slice(0,-1):n}var skipToken=Symbol();function ensureQueryFn(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Nc,Sc,Qc,e0,FocusManager=(e0=class extends Subscribable{constructor(){super();Wa(this,Nc);Wa(this,Sc);Wa(this,Qc);qa(this,Qc,e=>{if(!isServer&&window.addEventListener){const i=()=>e();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){Wo(this,Sc)||this.setEventListener(Wo(this,Qc))}onUnsubscribe(){var e;this.hasListeners()||((e=Wo(this,Sc))==null||e.call(this),qa(this,Sc,void 0))}setEventListener(e){var i;qa(this,Qc,e),(i=Wo(this,Sc))==null||i.call(this),qa(this,Sc,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Wo(this,Nc)!==e&&(qa(this,Nc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(i=>{i(e)})}isFocused(){var e;return typeof Wo(this,Nc)=="boolean"?Wo(this,Nc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Nc=new WeakMap,Sc=new WeakMap,Qc=new WeakMap,e0),focusManager=new FocusManager,el,Ec,tl,t0,OnlineManager=(t0=class extends Subscribable{constructor(){super();Wa(this,el,!0);Wa(this,Ec);Wa(this,tl);qa(this,tl,e=>{if(!isServer&&window.addEventListener){const i=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",n)}}})}onSubscribe(){Wo(this,Ec)||this.setEventListener(Wo(this,tl))}onUnsubscribe(){var e;this.hasListeners()||((e=Wo(this,Ec))==null||e.call(this),qa(this,Ec,void 0))}setEventListener(e){var i;qa(this,tl,e),(i=Wo(this,Ec))==null||i.call(this),qa(this,Ec,e(this.setOnline.bind(this)))}setOnline(e){Wo(this,el)!==e&&(qa(this,el,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Wo(this,el)}},el=new WeakMap,Ec=new WeakMap,tl=new WeakMap,t0),onlineManager=new OnlineManager;function pendingThenable(){let t,e;const i=new Promise((s,a)=>{t=s,e=a});i.status="pending",i.catch(()=>{});function n(s){Object.assign(i,s),delete i.resolve,delete i.reject}return i.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},i.reject=s=>{n({status:"rejected",reason:s}),e(s)},i}function defaultRetryDelay(t){return Math.min(1e3*2**t,3e4)}function canFetch(t){return(t??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function isCancelledError(t){return t instanceof CancelledError}function createRetryer(t){let e=!1,i=0,n=!1,s;const a=pendingThenable(),l=qs=>{var Us;n||(Oi(new CancelledError(qs)),(Us=t.abort)==null||Us.call(t))},A=()=>{e=!0},T=()=>{e=!1},q=()=>focusManager.isFocused()&&(t.networkMode==="always"||onlineManager.isOnline())&&t.canRun(),et=()=>canFetch(t.networkMode)&&t.canRun(),xi=qs=>{var Us;n||(n=!0,(Us=t.onSuccess)==null||Us.call(t,qs),s==null||s(),a.resolve(qs))},Oi=qs=>{var Us;n||(n=!0,(Us=t.onError)==null||Us.call(t,qs),s==null||s(),a.reject(qs))},Ts=()=>new Promise(qs=>{var Us;s=Ls=>{(n||q())&&qs(Ls)},(Us=t.onPause)==null||Us.call(t)}).then(()=>{var qs;s=void 0,n||(qs=t.onContinue)==null||qs.call(t)}),Fs=()=>{if(n)return;let qs;const Us=i===0?t.initialPromise:void 0;try{qs=Us??t.fn()}catch(Ls){qs=Promise.reject(Ls)}Promise.resolve(qs).then(xi).catch(Ls=>{var Js;if(n)return;const Gs=t.retry??(isServer?0:3),zs=t.retryDelay??defaultRetryDelay,Vs=typeof zs=="function"?zs(i,Ls):zs,Zs=Gs===!0||typeof Gs=="number"&&i<Gs||typeof Gs=="function"&&Gs(i,Ls);if(e||!Zs){Oi(Ls);return}i++,(Js=t.onFail)==null||Js.call(t,i,Ls),sleep$1(Vs).then(()=>q()?void 0:Ts()).then(()=>{e?Oi(Ls):Fs()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:A,continueRetry:T,canStart:et,start:()=>(et()?Fs():Ts().then(Fs),a)}}var defaultScheduler=t=>setTimeout(t,0);function createNotifyManager(){let t=[],e=0,i=A=>{A()},n=A=>{A()},s=defaultScheduler;const a=A=>{e?t.push(A):s(()=>{i(A)})},l=()=>{const A=t;t=[],A.length&&s(()=>{n(()=>{A.forEach(T=>{i(T)})})})};return{batch:A=>{let T;e++;try{T=A()}finally{e--,e||l()}return T},batchCalls:A=>(...T)=>{a(()=>{A(...T)})},schedule:a,setNotifyFunction:A=>{i=A},setBatchNotifyFunction:A=>{n=A},setScheduler:A=>{s=A}}}var notifyManager=createNotifyManager(),Fc,r0,Removable=(r0=class{constructor(){Wa(this,Fc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&qa(this,Fc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Wo(this,Fc)&&(clearTimeout(Wo(this,Fc)),qa(this,Fc,void 0))}},Fc=new WeakMap,r0),rl,il,Vu,qc,Pu,vl,Lc,Ku,dc,i0,Query=(i0=class extends Removable{constructor(e){super();Wa(this,Ku);Wa(this,rl);Wa(this,il);Wa(this,Vu);Wa(this,qc);Wa(this,Pu);Wa(this,vl);Wa(this,Lc);qa(this,Lc,!1),qa(this,vl,e.defaultOptions),this.setOptions(e.options),this.observers=[],qa(this,qc,e.client),qa(this,Vu,Wo(this,qc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,qa(this,rl,getDefaultState$1(this.options)),this.state=e.state??Wo(this,rl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Wo(this,Pu))==null?void 0:e.promise}setOptions(e){this.options={...Wo(this,vl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Wo(this,Vu).remove(this)}setData(e,i){const n=replaceData(this.state.data,e,this.options);return Ha(this,Ku,dc).call(this,{data:n,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),n}setState(e,i){Ha(this,Ku,dc).call(this,{type:"setState",state:e,setStateOptions:i})}cancel(e){var n,s;const i=(n=Wo(this,Pu))==null?void 0:n.promise;return(s=Wo(this,Pu))==null||s.cancel(e),i?i.then(noop$5).catch(noop$5):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Wo(this,rl))}isActive(){return this.observers.some(e=>resolveEnabled(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var i;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(i=Wo(this,Pu))==null||i.continue()}onOnline(){var i;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(i=Wo(this,Pu))==null||i.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Wo(this,Vu).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(i=>i!==e),this.observers.length||(Wo(this,Pu)&&(Wo(this,Lc)?Wo(this,Pu).cancel({revert:!0}):Wo(this,Pu).cancelRetry()),this.scheduleGc()),Wo(this,Vu).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ha(this,Ku,dc).call(this,{type:"invalidate"})}fetch(e,i){var T,q,et;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(Wo(this,Pu))return Wo(this,Pu).continueRetry(),Wo(this,Pu).promise}if(e&&this.setOptions(e),!this.options.queryFn){const xi=this.observers.find(Oi=>Oi.options.queryFn);xi&&this.setOptions(xi.options)}const n=new AbortController,s=xi=>{Object.defineProperty(xi,"signal",{enumerable:!0,get:()=>(qa(this,Lc,!0),n.signal)})},a=()=>{const xi=ensureQueryFn(this.options,i),Oi={client:Wo(this,qc),queryKey:this.queryKey,meta:this.meta};return s(Oi),qa(this,Lc,!1),this.options.persister?this.options.persister(xi,Oi,this):xi(Oi)},l={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:Wo(this,qc),state:this.state,fetchFn:a};s(l),(T=this.options.behavior)==null||T.onFetch(l,this),qa(this,il,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((q=l.fetchOptions)==null?void 0:q.meta))&&Ha(this,Ku,dc).call(this,{type:"fetch",meta:(et=l.fetchOptions)==null?void 0:et.meta});const A=xi=>{var Oi,Ts,Fs,qs;isCancelledError(xi)&&xi.silent||Ha(this,Ku,dc).call(this,{type:"error",error:xi}),isCancelledError(xi)||((Ts=(Oi=Wo(this,Vu).config).onError)==null||Ts.call(Oi,xi,this),(qs=(Fs=Wo(this,Vu).config).onSettled)==null||qs.call(Fs,this.state.data,xi,this)),this.scheduleGc()};return qa(this,Pu,createRetryer({initialPromise:i==null?void 0:i.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:xi=>{var Oi,Ts,Fs,qs;if(xi===void 0){A(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(xi)}catch(Us){A(Us);return}(Ts=(Oi=Wo(this,Vu).config).onSuccess)==null||Ts.call(Oi,xi,this),(qs=(Fs=Wo(this,Vu).config).onSettled)==null||qs.call(Fs,xi,this.state.error,this),this.scheduleGc()},onError:A,onFail:(xi,Oi)=>{Ha(this,Ku,dc).call(this,{type:"failed",failureCount:xi,error:Oi})},onPause:()=>{Ha(this,Ku,dc).call(this,{type:"pause"})},onContinue:()=>{Ha(this,Ku,dc).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Wo(this,Pu).start()}},rl=new WeakMap,il=new WeakMap,Vu=new WeakMap,qc=new WeakMap,Pu=new WeakMap,vl=new WeakMap,Lc=new WeakMap,Ku=new WeakSet,dc=function(e){const i=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...fetchState(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return isCancelledError(s)&&s.revert&&Wo(this,il)?{...Wo(this,il),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=i(this.state),notifyManager.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Wo(this,Vu).notify({query:this,type:"updated",action:e})})},i0);function fetchState(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,i=e!==void 0,n=i?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:i?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var ac,n0,QueryCache=(n0=class extends Subscribable{constructor(e={}){super();Wa(this,ac);this.config=e,qa(this,ac,new Map)}build(e,i,n){const s=i.queryKey,a=i.queryHash??hashQueryKeyByOptions(s,i);let l=this.get(a);return l||(l=new Query({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(i),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){Wo(this,ac).has(e.queryHash)||(Wo(this,ac).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=Wo(this,ac).get(e.queryHash);i&&(e.destroy(),i===e&&Wo(this,ac).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Wo(this,ac).get(e)}getAll(){return[...Wo(this,ac).values()]}find(e){const i={exact:!0,...e};return this.getAll().find(n=>matchQuery(i,n))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(n=>matchQuery(e,n)):i}notify(e){notifyManager.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ac=new WeakMap,n0),uc,ju,Uc,cc,gc,s0,Mutation=(s0=class extends Removable{constructor(e){super();Wa(this,cc);Wa(this,uc);Wa(this,ju);Wa(this,Uc);this.mutationId=e.mutationId,qa(this,ju,e.mutationCache),qa(this,uc,[]),this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Wo(this,uc).includes(e)||(Wo(this,uc).push(e),this.clearGcTimeout(),Wo(this,ju).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){qa(this,uc,Wo(this,uc).filter(i=>i!==e)),this.scheduleGc(),Wo(this,ju).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Wo(this,uc).length||(this.state.status==="pending"?this.scheduleGc():Wo(this,ju).remove(this))}continue(){var e;return((e=Wo(this,Uc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,A,T,q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io;const i=()=>{Ha(this,cc,gc).call(this,{type:"continue"})};qa(this,Uc,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Uo,Fo)=>{Ha(this,cc,gc).call(this,{type:"failed",failureCount:Uo,error:Fo})},onPause:()=>{Ha(this,cc,gc).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Wo(this,ju).canRun(this)}));const n=this.state.status==="pending",s=!Wo(this,Uc).canStart();try{if(n)i();else{Ha(this,cc,gc).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(a=Wo(this,ju).config).onMutate)==null?void 0:l.call(a,e,this));const Fo=await((T=(A=this.options).onMutate)==null?void 0:T.call(A,e));Fo!==this.state.context&&Ha(this,cc,gc).call(this,{type:"pending",context:Fo,variables:e,isPaused:s})}const Uo=await Wo(this,Uc).start();return await((et=(q=Wo(this,ju).config).onSuccess)==null?void 0:et.call(q,Uo,e,this.state.context,this)),await((Oi=(xi=this.options).onSuccess)==null?void 0:Oi.call(xi,Uo,e,this.state.context)),await((Fs=(Ts=Wo(this,ju).config).onSettled)==null?void 0:Fs.call(Ts,Uo,null,this.state.variables,this.state.context,this)),await((Us=(qs=this.options).onSettled)==null?void 0:Us.call(qs,Uo,null,e,this.state.context)),Ha(this,cc,gc).call(this,{type:"success",data:Uo}),Uo}catch(Uo){try{throw await((Gs=(Ls=Wo(this,ju).config).onError)==null?void 0:Gs.call(Ls,Uo,e,this.state.context,this)),await((Vs=(zs=this.options).onError)==null?void 0:Vs.call(zs,Uo,e,this.state.context)),await((Js=(Zs=Wo(this,ju).config).onSettled)==null?void 0:Js.call(Zs,void 0,Uo,this.state.variables,this.state.context,this)),await((Io=(xo=this.options).onSettled)==null?void 0:Io.call(xo,void 0,Uo,e,this.state.context)),Uo}finally{Ha(this,cc,gc).call(this,{type:"error",error:Uo})}}finally{Wo(this,ju).runNext(this)}}},uc=new WeakMap,ju=new WeakMap,Uc=new WeakMap,cc=new WeakSet,gc=function(e){const i=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=i(this.state),notifyManager.batch(()=>{Wo(this,uc).forEach(n=>{n.onMutationUpdate(e)}),Wo(this,ju).notify({mutation:this,type:"updated",action:e})})},s0);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fc,Zu,yl,o0,MutationCache=(o0=class extends Subscribable{constructor(e={}){super();Wa(this,fc);Wa(this,Zu);Wa(this,yl);this.config=e,qa(this,fc,new Set),qa(this,Zu,new Map),qa(this,yl,0)}build(e,i,n){const s=new Mutation({mutationCache:this,mutationId:++Pc(this,yl)._,options:e.defaultMutationOptions(i),state:n});return this.add(s),s}add(e){Wo(this,fc).add(e);const i=scopeFor(e);if(typeof i=="string"){const n=Wo(this,Zu).get(i);n?n.push(e):Wo(this,Zu).set(i,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Wo(this,fc).delete(e)){const i=scopeFor(e);if(typeof i=="string"){const n=Wo(this,Zu).get(i);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&Wo(this,Zu).delete(i)}}this.notify({type:"removed",mutation:e})}canRun(e){const i=scopeFor(e);if(typeof i=="string"){const n=Wo(this,Zu).get(i),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const i=scopeFor(e);if(typeof i=="string"){const s=(n=Wo(this,Zu).get(i))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{Wo(this,fc).forEach(e=>{this.notify({type:"removed",mutation:e})}),Wo(this,fc).clear(),Wo(this,Zu).clear()})}getAll(){return Array.from(Wo(this,fc))}find(e){const i={exact:!0,...e};return this.getAll().find(n=>matchMutation(i,n))}findAll(e={}){return this.getAll().filter(i=>matchMutation(e,i))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return notifyManager.batch(()=>Promise.all(e.map(i=>i.continue().catch(noop$5))))}},fc=new WeakMap,Zu=new WeakMap,yl=new WeakMap,o0);function scopeFor(t){var e;return(e=t.options.scope)==null?void 0:e.id}function infiniteQueryBehavior(t){return{onFetch:(e,i)=>{var et,xi,Oi,Ts,Fs;const n=e.options,s=(Oi=(xi=(et=e.fetchOptions)==null?void 0:et.meta)==null?void 0:xi.fetchMore)==null?void 0:Oi.direction,a=((Ts=e.state.data)==null?void 0:Ts.pages)||[],l=((Fs=e.state.data)==null?void 0:Fs.pageParams)||[];let A={pages:[],pageParams:[]},T=0;const q=async()=>{let qs=!1;const Us=zs=>{Object.defineProperty(zs,"signal",{enumerable:!0,get:()=>(e.signal.aborted?qs=!0:e.signal.addEventListener("abort",()=>{qs=!0}),e.signal)})},Ls=ensureQueryFn(e.options,e.fetchOptions),Gs=async(zs,Vs,Zs)=>{if(qs)return Promise.reject();if(Vs==null&&zs.pages.length)return Promise.resolve(zs);const Js={client:e.client,queryKey:e.queryKey,pageParam:Vs,direction:Zs?"backward":"forward",meta:e.options.meta};Us(Js);const xo=await Ls(Js),{maxPages:Io}=e.options,Uo=Zs?addToStart:addToEnd;return{pages:Uo(zs.pages,xo,Io),pageParams:Uo(zs.pageParams,Vs,Io)}};if(s&&a.length){const zs=s==="backward",Vs=zs?getPreviousPageParam:getNextPageParam,Zs={pages:a,pageParams:l},Js=Vs(n,Zs);A=await Gs(Zs,Js,zs)}else{const zs=t??a.length;do{const Vs=T===0?l[0]??n.initialPageParam:getNextPageParam(n,A);if(T>0&&Vs==null)break;A=await Gs(A,Vs),T++}while(T<zs)}return A};e.options.persister?e.fetchFn=()=>{var qs,Us;return(Us=(qs=e.options).persister)==null?void 0:Us.call(qs,q,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},i)}:e.fetchFn=q}}}function getNextPageParam(t,{pages:e,pageParams:i}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,i[n],i):void 0}function getPreviousPageParam(t,{pages:e,pageParams:i}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,i[0],i):void 0}var Tu,Mc,Ac,nl,sl,Cc,ol,al,a0,QueryClient=(a0=class{constructor(t={}){Wa(this,Tu);Wa(this,Mc);Wa(this,Ac);Wa(this,nl);Wa(this,sl);Wa(this,Cc);Wa(this,ol);Wa(this,al);qa(this,Tu,t.queryCache||new QueryCache),qa(this,Mc,t.mutationCache||new MutationCache),qa(this,Ac,t.defaultOptions||{}),qa(this,nl,new Map),qa(this,sl,new Map),qa(this,Cc,0)}mount(){Pc(this,Cc)._++,Wo(this,Cc)===1&&(qa(this,ol,focusManager.subscribe(async t=>{t&&(await this.resumePausedMutations(),Wo(this,Tu).onFocus())})),qa(this,al,onlineManager.subscribe(async t=>{t&&(await this.resumePausedMutations(),Wo(this,Tu).onOnline())})))}unmount(){var t,e;Pc(this,Cc)._--,Wo(this,Cc)===0&&((t=Wo(this,ol))==null||t.call(this),qa(this,ol,void 0),(e=Wo(this,al))==null||e.call(this),qa(this,al,void 0))}isFetching(t){return Wo(this,Tu).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Wo(this,Mc).findAll({...t,status:"pending"}).length}getQueryData(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=Wo(this,Tu).get(e.queryHash))==null?void 0:i.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),i=Wo(this,Tu).build(this,e),n=i.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime(resolveStaleTime(e.staleTime,i))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return Wo(this,Tu).findAll(t).map(({queryKey:e,state:i})=>{const n=i.data;return[e,n]})}setQueryData(t,e,i){const n=this.defaultQueryOptions({queryKey:t}),s=Wo(this,Tu).get(n.queryHash),a=s==null?void 0:s.state.data,l=functionalUpdate(e,a);if(l!==void 0)return Wo(this,Tu).build(this,n).setData(l,{...i,manual:!0})}setQueriesData(t,e,i){return notifyManager.batch(()=>Wo(this,Tu).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,i)]))}getQueryState(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=Wo(this,Tu).get(e.queryHash))==null?void 0:i.state}removeQueries(t){const e=Wo(this,Tu);notifyManager.batch(()=>{e.findAll(t).forEach(i=>{e.remove(i)})})}resetQueries(t,e){const i=Wo(this,Tu);return notifyManager.batch(()=>(i.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const i={revert:!0,...e},n=notifyManager.batch(()=>Wo(this,Tu).findAll(t).map(s=>s.cancel(i)));return Promise.all(n).then(noop$5).catch(noop$5)}invalidateQueries(t,e={}){return notifyManager.batch(()=>(Wo(this,Tu).findAll(t).forEach(i=>{i.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const i={...e,cancelRefetch:e.cancelRefetch??!0},n=notifyManager.batch(()=>Wo(this,Tu).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,i);return i.throwOnError||(a=a.catch(noop$5)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(noop$5)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const i=Wo(this,Tu).build(this,e);return i.isStaleByTime(resolveStaleTime(e.staleTime,i))?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(noop$5).catch(noop$5)}fetchInfiniteQuery(t){return t.behavior=infiniteQueryBehavior(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(noop$5).catch(noop$5)}ensureInfiniteQueryData(t){return t.behavior=infiniteQueryBehavior(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return onlineManager.isOnline()?Wo(this,Mc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Wo(this,Tu)}getMutationCache(){return Wo(this,Mc)}getDefaultOptions(){return Wo(this,Ac)}setDefaultOptions(t){qa(this,Ac,t)}setQueryDefaults(t,e){Wo(this,nl).set(hashKey(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Wo(this,nl).values()],i={};return e.forEach(n=>{partialMatchKey(t,n.queryKey)&&Object.assign(i,n.defaultOptions)}),i}setMutationDefaults(t,e){Wo(this,sl).set(hashKey(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Wo(this,sl).values()],i={};return e.forEach(n=>{partialMatchKey(t,n.mutationKey)&&Object.assign(i,n.defaultOptions)}),i}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Wo(this,Ac).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===skipToken&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Wo(this,Ac).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Wo(this,Tu).clear(),Wo(this,Mc).clear()}},Tu=new WeakMap,Mc=new WeakMap,Ac=new WeakMap,nl=new WeakMap,sl=new WeakMap,Cc=new WeakMap,ol=new WeakMap,al=new WeakMap,a0),Lu,xu,wl,Nu,Hc,ul,kc,Tc,xl,cl,ll,Gc,zc,Rc,dl,Eu,gl,Fl,ql,Ll,Ul,Hl,Gl,zl,p0,u0,QueryObserver=(u0=class extends Subscribable{constructor(e,i){super();Wa(this,Eu);Wa(this,Lu);Wa(this,xu);Wa(this,wl);Wa(this,Nu);Wa(this,Hc);Wa(this,ul);Wa(this,kc);Wa(this,Tc);Wa(this,xl);Wa(this,cl);Wa(this,ll);Wa(this,Gc);Wa(this,zc);Wa(this,Rc);Wa(this,dl,new Set);this.options=i,qa(this,Lu,e),qa(this,Tc,null),qa(this,kc,pendingThenable()),this.options.experimental_prefetchInRender||Wo(this,kc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Wo(this,xu).addObserver(this),shouldFetchOnMount(Wo(this,xu),this.options)?Ha(this,Eu,gl).call(this):this.updateResult(),Ha(this,Eu,Ul).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Wo(this,xu),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Wo(this,xu),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ha(this,Eu,Hl).call(this),Ha(this,Eu,Gl).call(this),Wo(this,xu).removeObserver(this)}setOptions(e){const i=this.options,n=Wo(this,xu);if(this.options=Wo(this,Lu).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,Wo(this,xu))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ha(this,Eu,zl).call(this),Wo(this,xu).setOptions(this.options),i._defaulted&&!shallowEqualObjects(this.options,i)&&Wo(this,Lu).getQueryCache().notify({type:"observerOptionsUpdated",query:Wo(this,xu),observer:this});const s=this.hasListeners();s&&shouldFetchOptionally(Wo(this,xu),n,this.options,i)&&Ha(this,Eu,gl).call(this),this.updateResult(),s&&(Wo(this,xu)!==n||resolveEnabled(this.options.enabled,Wo(this,xu))!==resolveEnabled(i.enabled,Wo(this,xu))||resolveStaleTime(this.options.staleTime,Wo(this,xu))!==resolveStaleTime(i.staleTime,Wo(this,xu)))&&Ha(this,Eu,Fl).call(this);const a=Ha(this,Eu,ql).call(this);s&&(Wo(this,xu)!==n||resolveEnabled(this.options.enabled,Wo(this,xu))!==resolveEnabled(i.enabled,Wo(this,xu))||a!==Wo(this,Rc))&&Ha(this,Eu,Ll).call(this,a)}getOptimisticResult(e){const i=Wo(this,Lu).getQueryCache().build(Wo(this,Lu),e),n=this.createResult(i,e);return shouldAssignObserverCurrentProperties(this,n)&&(qa(this,Nu,n),qa(this,ul,this.options),qa(this,Hc,Wo(this,xu).state)),n}getCurrentResult(){return Wo(this,Nu)}trackResult(e,i){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),i==null||i(s),Reflect.get(n,s))})}trackProp(e){Wo(this,dl).add(e)}getCurrentQuery(){return Wo(this,xu)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const i=Wo(this,Lu).defaultQueryOptions(e),n=Wo(this,Lu).getQueryCache().build(Wo(this,Lu),i);return n.fetch().then(()=>this.createResult(n,i))}fetch(e){return Ha(this,Eu,gl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Wo(this,Nu)))}createResult(e,i){var Uo;const n=Wo(this,xu),s=this.options,a=Wo(this,Nu),l=Wo(this,Hc),A=Wo(this,ul),q=e!==n?e.state:Wo(this,wl),{state:et}=e;let xi={...et},Oi=!1,Ts;if(i._optimisticResults){const Fo=this.hasListeners(),Ys=!Fo&&shouldFetchOnMount(e,i),Hs=Fo&&shouldFetchOptionally(e,n,i,s);(Ys||Hs)&&(xi={...xi,...fetchState(et.data,e.options)}),i._optimisticResults==="isRestoring"&&(xi.fetchStatus="idle")}let{error:Fs,errorUpdatedAt:qs,status:Us}=xi;Ts=xi.data;let Ls=!1;if(i.placeholderData!==void 0&&Ts===void 0&&Us==="pending"){let Fo;a!=null&&a.isPlaceholderData&&i.placeholderData===(A==null?void 0:A.placeholderData)?(Fo=a.data,Ls=!0):Fo=typeof i.placeholderData=="function"?i.placeholderData((Uo=Wo(this,ll))==null?void 0:Uo.state.data,Wo(this,ll)):i.placeholderData,Fo!==void 0&&(Us="success",Ts=replaceData(a==null?void 0:a.data,Fo,i),Oi=!0)}if(i.select&&Ts!==void 0&&!Ls)if(a&&Ts===(l==null?void 0:l.data)&&i.select===Wo(this,xl))Ts=Wo(this,cl);else try{qa(this,xl,i.select),Ts=i.select(Ts),Ts=replaceData(a==null?void 0:a.data,Ts,i),qa(this,cl,Ts),qa(this,Tc,null)}catch(Fo){qa(this,Tc,Fo)}Wo(this,Tc)&&(Fs=Wo(this,Tc),Ts=Wo(this,cl),qs=Date.now(),Us="error");const Gs=xi.fetchStatus==="fetching",zs=Us==="pending",Vs=Us==="error",Zs=zs&&Gs,Js=Ts!==void 0,Io={status:Us,fetchStatus:xi.fetchStatus,isPending:zs,isSuccess:Us==="success",isError:Vs,isInitialLoading:Zs,isLoading:Zs,data:Ts,dataUpdatedAt:xi.dataUpdatedAt,error:Fs,errorUpdatedAt:qs,failureCount:xi.fetchFailureCount,failureReason:xi.fetchFailureReason,errorUpdateCount:xi.errorUpdateCount,isFetched:xi.dataUpdateCount>0||xi.errorUpdateCount>0,isFetchedAfterMount:xi.dataUpdateCount>q.dataUpdateCount||xi.errorUpdateCount>q.errorUpdateCount,isFetching:Gs,isRefetching:Gs&&!zs,isLoadingError:Vs&&!Js,isPaused:xi.fetchStatus==="paused",isPlaceholderData:Oi,isRefetchError:Vs&&Js,isStale:isStale(e,i),refetch:this.refetch,promise:Wo(this,kc)};if(this.options.experimental_prefetchInRender){const Fo=Ws=>{Io.status==="error"?Ws.reject(Io.error):Io.data!==void 0&&Ws.resolve(Io.data)},Ys=()=>{const Ws=qa(this,kc,Io.promise=pendingThenable());Fo(Ws)},Hs=Wo(this,kc);switch(Hs.status){case"pending":e.queryHash===n.queryHash&&Fo(Hs);break;case"fulfilled":(Io.status==="error"||Io.data!==Hs.value)&&Ys();break;case"rejected":(Io.status!=="error"||Io.error!==Hs.reason)&&Ys();break}}return Io}updateResult(){const e=Wo(this,Nu),i=this.createResult(Wo(this,xu),this.options);if(qa(this,Hc,Wo(this,xu).state),qa(this,ul,this.options),Wo(this,Hc).data!==void 0&&qa(this,ll,Wo(this,xu)),shallowEqualObjects(i,e))return;qa(this,Nu,i);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!Wo(this,dl).size)return!0;const l=new Set(a??Wo(this,dl));return this.options.throwOnError&&l.add("error"),Object.keys(Wo(this,Nu)).some(A=>{const T=A;return Wo(this,Nu)[T]!==e[T]&&l.has(T)})};Ha(this,Eu,p0).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ha(this,Eu,Ul).call(this)}},Lu=new WeakMap,xu=new WeakMap,wl=new WeakMap,Nu=new WeakMap,Hc=new WeakMap,ul=new WeakMap,kc=new WeakMap,Tc=new WeakMap,xl=new WeakMap,cl=new WeakMap,ll=new WeakMap,Gc=new WeakMap,zc=new WeakMap,Rc=new WeakMap,dl=new WeakMap,Eu=new WeakSet,gl=function(e){Ha(this,Eu,zl).call(this);let i=Wo(this,xu).fetch(this.options,e);return e!=null&&e.throwOnError||(i=i.catch(noop$5)),i},Fl=function(){Ha(this,Eu,Hl).call(this);const e=resolveStaleTime(this.options.staleTime,Wo(this,xu));if(isServer||Wo(this,Nu).isStale||!isValidTimeout(e))return;const n=timeUntilStale(Wo(this,Nu).dataUpdatedAt,e)+1;qa(this,Gc,setTimeout(()=>{Wo(this,Nu).isStale||this.updateResult()},n))},ql=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Wo(this,xu)):this.options.refetchInterval)??!1},Ll=function(e){Ha(this,Eu,Gl).call(this),qa(this,Rc,e),!(isServer||resolveEnabled(this.options.enabled,Wo(this,xu))===!1||!isValidTimeout(Wo(this,Rc))||Wo(this,Rc)===0)&&qa(this,zc,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Ha(this,Eu,gl).call(this)},Wo(this,Rc)))},Ul=function(){Ha(this,Eu,Fl).call(this),Ha(this,Eu,Ll).call(this,Ha(this,Eu,ql).call(this))},Hl=function(){Wo(this,Gc)&&(clearTimeout(Wo(this,Gc)),qa(this,Gc,void 0))},Gl=function(){Wo(this,zc)&&(clearInterval(Wo(this,zc)),qa(this,zc,void 0))},zl=function(){const e=Wo(this,Lu).getQueryCache().build(Wo(this,Lu),this.options);if(e===Wo(this,xu))return;const i=Wo(this,xu);qa(this,xu,e),qa(this,wl,e.state),this.hasListeners()&&(i==null||i.removeObserver(this),e.addObserver(this))},p0=function(e){notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(i=>{i(Wo(this,Nu))}),Wo(this,Lu).getQueryCache().notify({query:Wo(this,xu),type:"observerResultsUpdated"})})},u0);function shouldLoadOnMount(t,e){return resolveEnabled(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function shouldFetchOnMount(t,e){return shouldLoadOnMount(t,e)||t.state.data!==void 0&&shouldFetchOn(t,e,e.refetchOnMount)}function shouldFetchOn(t,e,i){if(resolveEnabled(e.enabled,t)!==!1){const n=typeof i=="function"?i(t):i;return n==="always"||n!==!1&&isStale(t,e)}return!1}function shouldFetchOptionally(t,e,i,n){return(t!==e||resolveEnabled(n.enabled,t)===!1)&&(!i.suspense||t.state.status!=="error")&&isStale(t,i)}function isStale(t,e){return resolveEnabled(e.enabled,t)!==!1&&t.isStaleByTime(resolveStaleTime(e.staleTime,t))}function shouldAssignObserverCurrentProperties(t,e){return!shallowEqualObjects(t.getCurrentResult(),e)}var Bc,Oc,Uu,hc,mc,El,Wl,c0,MutationObserver$1=(c0=class extends Subscribable{constructor(i,n){super();Wa(this,mc);Wa(this,Bc);Wa(this,Oc);Wa(this,Uu);Wa(this,hc);qa(this,Bc,i),this.setOptions(n),this.bindMethods(),Ha(this,mc,El).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){var s;const n=this.options;this.options=Wo(this,Bc).defaultMutationOptions(i),shallowEqualObjects(this.options,n)||Wo(this,Bc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Wo(this,Uu),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&hashKey(n.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((s=Wo(this,Uu))==null?void 0:s.state.status)==="pending"&&Wo(this,Uu).setOptions(this.options)}onUnsubscribe(){var i;this.hasListeners()||(i=Wo(this,Uu))==null||i.removeObserver(this)}onMutationUpdate(i){Ha(this,mc,El).call(this),Ha(this,mc,Wl).call(this,i)}getCurrentResult(){return Wo(this,Oc)}reset(){var i;(i=Wo(this,Uu))==null||i.removeObserver(this),qa(this,Uu,void 0),Ha(this,mc,El).call(this),Ha(this,mc,Wl).call(this)}mutate(i,n){var s;return qa(this,hc,n),(s=Wo(this,Uu))==null||s.removeObserver(this),qa(this,Uu,Wo(this,Bc).getMutationCache().build(Wo(this,Bc),this.options)),Wo(this,Uu).addObserver(this),Wo(this,Uu).execute(i)}},Bc=new WeakMap,Oc=new WeakMap,Uu=new WeakMap,hc=new WeakMap,mc=new WeakSet,El=function(){var n;const i=((n=Wo(this,Uu))==null?void 0:n.state)??getDefaultState();qa(this,Oc,{...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset})},Wl=function(i){notifyManager.batch(()=>{var n,s,a,l,A,T,q,et;if(Wo(this,hc)&&this.hasListeners()){const xi=Wo(this,Oc).variables,Oi=Wo(this,Oc).context;(i==null?void 0:i.type)==="success"?((s=(n=Wo(this,hc)).onSuccess)==null||s.call(n,i.data,xi,Oi),(l=(a=Wo(this,hc)).onSettled)==null||l.call(a,i.data,null,xi,Oi)):(i==null?void 0:i.type)==="error"&&((T=(A=Wo(this,hc)).onError)==null||T.call(A,i.error,xi,Oi),(et=(q=Wo(this,hc)).onSettled)==null||et.call(q,void 0,i.error,xi,Oi))}this.listeners.forEach(xi=>{xi(Wo(this,Oc))})})},c0),QueryClientContext=reactExports.createContext(void 0),useQueryClient=t=>{const e=reactExports.useContext(QueryClientContext);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},QueryClientProvider=({client:t,children:e})=>(reactExports.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:t,children:e})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(t,e){return typeof t=="function"?t(...e):!!t}function noop$4(){}var ensurePreventErrorBoundaryRetry=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},useClearResetErrorBoundary=t=>{reactExports.useEffect(()=>{t.clearReset()},[t])},getHasError=({result:t,errorResetBoundary:e,throwOnError:i,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||shouldThrowError(i,[t.error,n])),ensureSuspenseTimers=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...i)=>Math.max(e(...i),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},willFetch=(t,e)=>t.isLoading&&t.isFetching&&!e,shouldSuspend=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,fetchOptimistic=(t,e,i)=>e.fetchOptimistic(t).catch(()=>{i.clearReset()});function useBaseQuery(t,e,i){var xi,Oi,Ts,Fs,qs;const n=useQueryClient(),s=useIsRestoring(),a=useQueryErrorResetBoundary(),l=n.defaultQueryOptions(t);(Oi=(xi=n.getDefaultOptions().queries)==null?void 0:xi._experimental_beforeQuery)==null||Oi.call(xi,l),l._optimisticResults=s?"isRestoring":"optimistic",ensureSuspenseTimers(l),ensurePreventErrorBoundaryRetry(l,a),useClearResetErrorBoundary(a);const A=!n.getQueryCache().get(l.queryHash),[T]=reactExports.useState(()=>new e(n,l)),q=T.getOptimisticResult(l),et=!s&&t.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(Us=>{const Ls=et?T.subscribe(notifyManager.batchCalls(Us)):noop$4;return T.updateResult(),Ls},[T,et]),()=>T.getCurrentResult(),()=>T.getCurrentResult()),reactExports.useEffect(()=>{T.setOptions(l)},[l,T]),shouldSuspend(l,q))throw fetchOptimistic(l,T,a);if(getHasError({result:q,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw q.error;if((Fs=(Ts=n.getDefaultOptions().queries)==null?void 0:Ts._experimental_afterQuery)==null||Fs.call(Ts,l,q),l.experimental_prefetchInRender&&!isServer&&willFetch(q,s)){const Us=A?fetchOptimistic(l,T,a):(qs=n.getQueryCache().get(l.queryHash))==null?void 0:qs.promise;Us==null||Us.catch(noop$4).finally(()=>{T.updateResult()})}return l.notifyOnChangeProps?q:T.trackResult(q)}function useQuery(t,e){return useBaseQuery(t,QueryObserver)}function useMutation(t,e){const i=useQueryClient(),[n]=reactExports.useState(()=>new MutationObserver$1(i,t));reactExports.useEffect(()=>{n.setOptions(t)},[n,t]);const s=reactExports.useSyncExternalStore(reactExports.useCallback(l=>n.subscribe(notifyManager.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=reactExports.useCallback((l,A)=>{n.mutate(l,A).catch(noop$4)},[n]);if(s.error&&shouldThrowError(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const __vite_import_meta_env__$2={},createStoreImpl=t=>{let e;const i=new Set,n=(et,xi)=>{const Oi=typeof et=="function"?et(e):et;if(!Object.is(Oi,e)){const Ts=e;e=xi??(typeof Oi!="object"||Oi===null)?Oi:Object.assign({},e,Oi),i.forEach(Fs=>Fs(e,Ts))}},s=()=>e,T={setState:n,getState:s,getInitialState:()=>q,subscribe:et=>(i.add(et),()=>i.delete(et)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},q=e=t(n,s,T);return T},createStore=t=>t?createStoreImpl(t):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(t,e){var i=e(),n=useState({inst:{value:i,getSnapshot:e}}),s=n[0].inst,a=n[1];return useLayoutEffect(function(){s.value=i,s.getSnapshot=e,checkIfSnapshotChanged(s)&&a({inst:s})},[t,i,e]),useEffect$1(function(){return checkIfSnapshotChanged(s)&&a({inst:s}),t(function(){checkIfSnapshotChanged(s)&&a({inst:s})})},[t]),useDebugValue$2(i),i}function checkIfSnapshotChanged(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!objectIs$1(t,i)}catch{return!0}}function useSyncExternalStore$1(t,e){return e()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(t,e,i,n,s){var a=useRef(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=useMemo(function(){function T(Ts){if(!q){if(q=!0,et=Ts,Ts=n(Ts),s!==void 0&&l.hasValue){var Fs=l.value;if(s(Fs,Ts))return xi=Fs}return xi=Ts}if(Fs=xi,objectIs(et,Ts))return Fs;var qs=n(Ts);return s!==void 0&&s(Fs,qs)?(et=Ts,Fs):(et=Ts,xi=qs)}var q=!1,et,xi,Oi=i===void 0?null:i;return[function(){return T(e())},Oi===null?void 0:function(){return T(Oi())}]},[e,i,n,s]);var A=useSyncExternalStore(t,a[0],a[1]);return useEffect(function(){l.hasValue=!0,l.value=A},[A]),useDebugValue$1(A),A};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs$2(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$1=t=>t;function useStore(t,e=identity$1,i){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&i&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const n=useSyncExternalStoreWithSelector(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,i);return useDebugValue(n),n}const createImpl=t=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?createStore(t):t,i=(n,s)=>useStore(e,n,s);return Object.assign(i,e),i},create=t=>t?createImpl(t):createImpl;var react=t=>((__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),create(t));function toPrimitive(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toPropertyKey(t){var e=toPrimitive(t,"string");return typeof e=="symbol"?e:String(e)}function _defineProperty$1(t,e,i){return e=toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ownKeys$2(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(i),!0).forEach(function(n){_defineProperty$1(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys$2(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function mapValues(t,e){var i={};for(var n in t)i[n]=e(t[n],n);return i}var shouldApplyCompound=(t,e,i)=>{for(var n of Object.keys(t)){var s;if(t[n]!==((s=e[n])!==null&&s!==void 0?s:i[n]))return!1}return!0},createRuntimeFn=t=>{var e=i=>{var n=t.defaultClassName,s=_objectSpread2(_objectSpread2({},t.defaultVariants),i);for(var a in s){var l,A=(l=s[a])!==null&&l!==void 0?l:t.defaultVariants[a];if(A!=null){var T=A;typeof T=="boolean"&&(T=T===!0?"true":"false");var q=t.variantClassNames[a][T];q&&(n+=" "+q)}}for(var[et,xi]of t.compoundVariants)shouldApplyCompound(et,s,t.defaultVariants)&&(n+=" "+xi);return n};return e.variants=()=>Object.keys(t.variantClassNames),e.classNames={get base(){return t.defaultClassName.split(" ")[0]},get variants(){return mapValues(t.variantClassNames,i=>mapValues(i,n=>n.split(" ")[0]))}},e};const PACKAGE_VERSION="1.29.1",TARGETED_RPC_VERSION="1.49.0",CODE_TO_ERROR_TYPE={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class SuiHTTPTransportError extends Error{}class JsonRpcError extends SuiHTTPTransportError{constructor(e,i){super(e),this.code=i,this.type=CODE_TO_ERROR_TYPE[i]??"ServerError"}}class SuiHTTPStatusError extends SuiHTTPTransportError{constructor(e,i,n){super(e),this.status=i,this.statusText=n}}var __typeError$4=t=>{throw TypeError(t)},__accessCheck$4=(t,e,i)=>e.has(t)||__typeError$4("Cannot "+i),__privateGet$4=(t,e,i)=>(__accessCheck$4(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd$4=(t,e,i)=>e.has(t)?__typeError$4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet$3=(t,e,i,n)=>(__accessCheck$4(t,e,"write to private field"),e.set(t,i),i),__privateMethod$1=(t,e,i)=>(__accessCheck$4(t,e,"access private method"),i),__privateWrapper=(t,e,i,n)=>({set _(s){__privateSet$3(t,e,s)},get _(){return __privateGet$4(t,e,n)}}),_requestId$1,_disconnects,_webSocket,_connectionPromise,_subscriptions,_pendingRequests,_WebsocketClient_instances,setupWebSocket_fn,reconnect_fn;function getWebsocketUrl(t){const e=new URL(t);return e.protocol=e.protocol.replace("http","ws"),e.toString()}const DEFAULT_CLIENT_OPTIONS={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class WebsocketClient{constructor(e,i={}){if(__privateAdd$4(this,_WebsocketClient_instances),__privateAdd$4(this,_requestId$1,0),__privateAdd$4(this,_disconnects,0),__privateAdd$4(this,_webSocket,null),__privateAdd$4(this,_connectionPromise,null),__privateAdd$4(this,_subscriptions,new Set),__privateAdd$4(this,_pendingRequests,new Map),this.endpoint=e,this.options={...DEFAULT_CLIENT_OPTIONS,...i},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl(this.endpoint))}async makeRequest(e,i,n){const s=await __privateMethod$1(this,_WebsocketClient_instances,setupWebSocket_fn).call(this);return new Promise((a,l)=>{__privateSet$3(this,_requestId$1,__privateGet$4(this,_requestId$1)+1),__privateGet$4(this,_pendingRequests).set(__privateGet$4(this,_requestId$1),{resolve:a,reject:l,timeout:setTimeout(()=>{__privateGet$4(this,_pendingRequests).delete(__privateGet$4(this,_requestId$1)),l(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),n==null||n.addEventListener("abort",()=>{__privateGet$4(this,_pendingRequests).delete(__privateGet$4(this,_requestId$1)),l(n.reason)}),s.send(JSON.stringify({jsonrpc:"2.0",id:__privateGet$4(this,_requestId$1),method:e,params:i}))}).then(({error:a,result:l})=>{if(a)throw new JsonRpcError(a.message,a.code);return l})}async subscribe(e){const i=new RpcSubscription(e);return __privateGet$4(this,_subscriptions).add(i),await i.subscribe(this),()=>i.unsubscribe(this)}}_requestId$1=new WeakMap;_disconnects=new WeakMap;_webSocket=new WeakMap;_connectionPromise=new WeakMap;_subscriptions=new WeakMap;_pendingRequests=new WeakMap;_WebsocketClient_instances=new WeakSet;setupWebSocket_fn=function(){return __privateGet$4(this,_connectionPromise)?__privateGet$4(this,_connectionPromise):(__privateSet$3(this,_connectionPromise,new Promise(t=>{var e;(e=__privateGet$4(this,_webSocket))==null||e.close(),__privateSet$3(this,_webSocket,new this.options.WebSocketConstructor(this.endpoint)),__privateGet$4(this,_webSocket).addEventListener("open",()=>{__privateSet$3(this,_disconnects,0),t(__privateGet$4(this,_webSocket))}),__privateGet$4(this,_webSocket).addEventListener("close",()=>{__privateWrapper(this,_disconnects)._++,__privateGet$4(this,_disconnects)<=this.options.maxReconnects&&setTimeout(()=>{__privateMethod$1(this,_WebsocketClient_instances,reconnect_fn).call(this)},this.options.reconnectTimeout)}),__privateGet$4(this,_webSocket).addEventListener("message",({data:i})=>{let n;try{n=JSON.parse(i)}catch(s){console.error(new Error(`Failed to parse RPC message: ${i}`,{cause:s}));return}if("id"in n&&n.id!=null&&__privateGet$4(this,_pendingRequests).has(n.id)){const{resolve:s,timeout:a}=__privateGet$4(this,_pendingRequests).get(n.id);clearTimeout(a),s(n)}else if("params"in n){const{params:s}=n;__privateGet$4(this,_subscriptions).forEach(a=>{a.subscriptionId===s.subscription&&s.subscription===a.subscriptionId&&a.onMessage(s.result)})}})})),__privateGet$4(this,_connectionPromise))};reconnect_fn=async function(){var t;return(t=__privateGet$4(this,_webSocket))==null||t.close(),__privateSet$3(this,_connectionPromise,null),Promise.allSettled([...__privateGet$4(this,_subscriptions)].map(e=>e.subscribe(this)))};class RpcSubscription{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:i}=this;return this.subscribed=!1,i==null?!1:(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[i]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const i=await e.makeRequest(this.input.method,this.input.params,this.input.signal);this.subscribed&&(this.subscriptionId=i)}}var __typeError$3=t=>{throw TypeError(t)},__accessCheck$3=(t,e,i)=>e.has(t)||__typeError$3("Cannot "+i),__privateGet$3=(t,e,i)=>(__accessCheck$3(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd$3=(t,e,i)=>e.has(t)?__typeError$3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet$2=(t,e,i,n)=>(__accessCheck$3(t,e,"write to private field"),e.set(t,i),i),__privateMethod=(t,e,i)=>(__accessCheck$3(t,e,"access private method"),i),_requestId,_options,_websocketClient,_SuiHTTPTransport_instances,getWebsocketClient_fn;class SuiHTTPTransport{constructor(e){__privateAdd$3(this,_SuiHTTPTransport_instances),__privateAdd$3(this,_requestId,0),__privateAdd$3(this,_options),__privateAdd$3(this,_websocketClient),__privateSet$2(this,_options,e)}fetch(e,i){const n=__privateGet$3(this,_options).fetch??fetch;if(!n)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return n(e,i)}async request(e){var s,a;__privateSet$2(this,_requestId,__privateGet$3(this,_requestId)+1);const i=await this.fetch(((s=__privateGet$3(this,_options).rpc)==null?void 0:s.url)??__privateGet$3(this,_options).url,{method:"POST",signal:e.signal,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":PACKAGE_VERSION,"Client-Target-Api-Version":TARGETED_RPC_VERSION,"Client-Request-Method":e.method,...(a=__privateGet$3(this,_options).rpc)==null?void 0:a.headers},body:JSON.stringify({jsonrpc:"2.0",id:__privateGet$3(this,_requestId),method:e.method,params:e.params})});if(!i.ok)throw new SuiHTTPStatusError(`Unexpected status code: ${i.status}`,i.status,i.statusText);const n=await i.json();if("error"in n&&n.error!=null)throw new JsonRpcError(n.error.message,n.error.code);return n.result}async subscribe(e){const i=await __privateMethod(this,_SuiHTTPTransport_instances,getWebsocketClient_fn).call(this).subscribe(e);return e.signal&&(e.signal.throwIfAborted(),e.signal.addEventListener("abort",()=>{i()})),async()=>!!await i()}}_requestId=new WeakMap;_options=new WeakMap;_websocketClient=new WeakMap;_SuiHTTPTransport_instances=new WeakSet;getWebsocketClient_fn=function(){var t;if(!__privateGet$3(this,_websocketClient)){const e=__privateGet$3(this,_options).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");__privateSet$2(this,_websocketClient,new WebsocketClient(((t=__privateGet$3(this,_options).websocket)==null?void 0:t.url)??__privateGet$3(this,_options).url,{WebSocketConstructor:e,...__privateGet$3(this,_options).websocket}))}return __privateGet$3(this,_websocketClient)};function getFullnodeUrl(t){switch(t){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${t}`)}}var __typeError$2=t=>{throw TypeError(t)},__accessCheck$2=(t,e,i)=>e.has(t)||__typeError$2("Cannot "+i),__privateGet$2=(t,e,i)=>(__accessCheck$2(t,e,"read from private field"),e.get(t)),__privateAdd$2=(t,e,i)=>e.has(t)?__typeError$2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet$1=(t,e,i,n)=>(__accessCheck$2(t,e,"write to private field"),e.set(t,i),i),_prefix,_cache;const _ClientCache=class m0{constructor({prefix:e,cache:i}={}){__privateAdd$2(this,_prefix),__privateAdd$2(this,_cache),__privateSet$1(this,_prefix,e??[]),__privateSet$1(this,_cache,i??new Map)}read(e,i){const n=[__privateGet$2(this,_prefix),...e].join(":");if(__privateGet$2(this,_cache).has(n))return __privateGet$2(this,_cache).get(n);const s=i();return __privateGet$2(this,_cache).set(n,s),typeof s=="object"&&s!==null&&"then"in s?Promise.resolve(s).then(a=>(__privateGet$2(this,_cache).set(n,a),a)).catch(a=>{throw __privateGet$2(this,_cache).delete(n),a}):s}clear(e){const i=[...__privateGet$2(this,_prefix),...e??[]].join(":");if(!i){__privateGet$2(this,_cache).clear();return}for(const n of __privateGet$2(this,_cache).keys())n.startsWith(i)&&__privateGet$2(this,_cache).delete(n)}scope(e){return new m0({prefix:[...__privateGet$2(this,_prefix),...Array.isArray(e)?e:[e]],cache:__privateGet$2(this,_cache)})}};_prefix=new WeakMap;_cache=new WeakMap;let ClientCache=_ClientCache;class Experimental_BaseClient{constructor({network:e}){this.cache=new ClientCache,this.network=e}$extend(...e){return Object.create(this,Object.fromEntries(e.map(i=>{if("experimental_asClientExtension"in i){const{name:n,register:s}=i.experimental_asClientExtension();return[n,{value:s(this)}]}return[i.name,{value:i.register(this)}]})))}}class Experimental_CoreClient extends Experimental_BaseClient{constructor(){super(...arguments),this.core=this}async getObject(e){const{objectId:i}=e,{objects:[n]}=await this.getObjects({objectIds:[i],signal:e.signal});if(n instanceof Error)throw n;return{object:n}}async getDynamicField(e){const i=deriveDynamicFieldID$1(e.parentId,TypeTagSerializer$1.parseFromStr(e.name.type),e.name.bcs),{objects:[n]}=await this.getObjects({objectIds:[i],signal:e.signal});if(n instanceof Error)throw n;const s=parseStructTag$1(n.type);return{dynamicField:{id:n.id,digest:n.digest,version:n.version,type:n.type,name:{type:typeof s.typeParams[0]=="string"?s.typeParams[0]:normalizeStructTag$1(s.typeParams[0]),bcs:e.name.bcs},value:{type:typeof s.typeParams[1]=="string"?s.typeParams[1]:normalizeStructTag$1(s.typeParams[1]),bcs:n.content.slice(SUI_ADDRESS_LENGTH$1+e.name.bcs.length)}}}}async waitForTransaction({signal:e,timeout:i=60*1e3,...n}){const s=e?AbortSignal.any([AbortSignal.timeout(i),e]):AbortSignal.timeout(i),a=new Promise((l,A)=>{s.addEventListener("abort",()=>A(s.reason))});for(a.catch(()=>{});;){s.throwIfAborted();try{return await this.getTransaction({...n,signal:s})}catch{await Promise.race([new Promise(A=>setTimeout(A,2e3)),a])}}}}class SuiClientError extends Error{}class ObjectError extends SuiClientError{constructor(e,i){super(i),this.code=e}static fromResponse(e,i){switch(e.code){case"notExists":return new ObjectError(e.code,`Object ${e.object_id} does not exist`);case"dynamicFieldNotFound":return new ObjectError(e.code,`Dynamic field not found for object ${e.parent_object_id}`);case"deleted":return new ObjectError(e.code,`Object ${e.object_id} has been deleted`);case"displayError":return new ObjectError(e.code,`Display error: ${e.error}`);case"unknown":default:return new ObjectError(e.code,`Unknown error while loading object${i?` ${i}`:""}`)}}}function parseTransactionEffects({effects:t,epoch:e,objectTypes:i}){const n=suiBcs$1.TransactionEffects.parse(t);switch(n.$kind){case"V1":return parseTransactionEffectsV1({effects:n.V1});case"V2":return parseTransactionEffectsV2({bytes:t,effects:n.V2,epoch:e,objectTypes:i});default:throw new Error(`Unknown transaction effects version: ${n.$kind}`)}}function parseTransactionEffectsV1(t){throw new Error("V1 effects are not supported yet")}function parseTransactionEffectsV2({bytes:t,effects:e,epoch:i,objectTypes:n}){const s=e.changedObjects.map(([a,l])=>{var A,T,q,et,xi,Oi;return{id:a,inputState:l.inputState.$kind==="Exist"?"Exists":"DoesNotExist",inputVersion:((A=l.inputState.Exist)==null?void 0:A[0][0])??null,inputDigest:((T=l.inputState.Exist)==null?void 0:T[0][1])??null,inputOwner:((q=l.inputState.Exist)==null?void 0:q[1])??null,outputState:l.outputState.$kind==="NotExist"?"DoesNotExist":l.outputState.$kind,outputVersion:l.outputState.$kind==="PackageWrite"?(et=l.outputState.PackageWrite)==null?void 0:et[0]:l.outputState.ObjectWrite?e.lamportVersion:null,outputDigest:l.outputState.$kind==="PackageWrite"?(xi=l.outputState.PackageWrite)==null?void 0:xi[1]:((Oi=l.outputState.ObjectWrite)==null?void 0:Oi[0])??null,outputOwner:l.outputState.ObjectWrite?l.outputState.ObjectWrite[1]:null,idOperation:l.idOperation.$kind,objectType:n[a]??null}});return{bcs:t,digest:e.transactionDigest,version:2,status:e.status.$kind==="Success"?{success:!0,error:null}:{success:!1,error:e.status.Failed.error.$kind},epoch:i??null,gasUsed:e.gasUsed,transactionDigest:e.transactionDigest,gasObject:e.gasObjectIndex===null?null:s[e.gasObjectIndex]??null,eventsDigest:e.eventsDigest,dependencies:e.dependencies,lamportVersion:e.lamportVersion,changedObjects:s,unchangedSharedObjects:e.unchangedSharedObjects.map(([a,l])=>({kind:l.$kind,objectId:a,version:l.$kind==="ReadOnlyRoot"?l.ReadOnlyRoot[0]:l[l.$kind],digest:l.$kind==="ReadOnlyRoot"?l.ReadOnlyRoot[1]:null,objectType:n[a]??null})),auxiliaryDataDigest:e.auxDataDigest}}var __typeError$1=t=>{throw TypeError(t)},__accessCheck$1=(t,e,i)=>e.has(t)||__typeError$1("Cannot "+i),__privateGet$1=(t,e,i)=>(__accessCheck$1(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd$1=(t,e,i)=>e.has(t)?__typeError$1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),__privateSet=(t,e,i,n)=>(__accessCheck$1(t,e,"write to private field"),e.set(t,i),i),_jsonRpcClient;class JSONRpcTransport extends Experimental_CoreClient{constructor(e){super({network:e.network}),__privateAdd$1(this,_jsonRpcClient),__privateSet(this,_jsonRpcClient,e)}async getObjects(e){const i=batch(e.objectIds,50),n=[];for(const s of i){const a=await __privateGet$1(this,_jsonRpcClient).multiGetObjects({ids:s,options:{showOwner:!0,showType:!0,showBcs:!0},signal:e.signal});for(const[l,A]of a.entries())A.error?n.push(ObjectError.fromResponse(A.error,s[l])):n.push(parseObject(A.data))}return{objects:n}}async getOwnedObjects(e){const i=await __privateGet$1(this,_jsonRpcClient).getOwnedObjects({owner:e.address,limit:e.limit,cursor:e.cursor,options:{showOwner:!0,showType:!0,showBcs:!0},signal:e.signal});return{objects:i.data.map(n=>{if(n.error)throw ObjectError.fromResponse(n.error);return parseObject(n.data)}),hasNextPage:i.hasNextPage,cursor:i.nextCursor??null}}async getCoins(e){const i=await __privateGet$1(this,_jsonRpcClient).getCoins({owner:e.address,coinType:e.coinType,limit:e.limit,cursor:e.cursor,signal:e.signal});return{objects:i.data.map(n=>({id:n.coinObjectId,version:n.version,digest:n.digest,balance:n.balance,type:`0x2::coin::Coin<${n.coinType}>`,content:Coin.serialize({id:n.coinObjectId,balance:{value:n.balance}}).toBytes(),owner:{$kind:"ObjectOwner",ObjectOwner:e.address}})),hasNextPage:i.hasNextPage,cursor:i.nextCursor??null}}async getBalance(e){const i=await __privateGet$1(this,_jsonRpcClient).getBalance({owner:e.address,coinType:e.coinType,signal:e.signal});return{balance:{coinType:i.coinType,balance:i.totalBalance}}}async getAllBalances(e){return{balances:(await __privateGet$1(this,_jsonRpcClient).getAllBalances({owner:e.address,signal:e.signal})).map(n=>({coinType:n.coinType,balance:n.totalBalance})),hasNextPage:!1,cursor:null}}async getTransaction(e){const i=await __privateGet$1(this,_jsonRpcClient).getTransactionBlock({digest:e.digest,options:{showRawInput:!0,showObjectChanges:!0,showRawEffects:!0,showEvents:!0},signal:e.signal});return{transaction:parseTransaction(i)}}async executeTransaction(e){const i=await __privateGet$1(this,_jsonRpcClient).executeTransactionBlock({transactionBlock:e.transaction,signature:e.signatures,options:{showRawEffects:!0,showEvents:!0,showObjectChanges:!0,showRawInput:!0},signal:e.signal});return{transaction:parseTransaction(i)}}async dryRunTransaction(e){const i=Transaction.from(e.transaction),n=await __privateGet$1(this,_jsonRpcClient).dryRunTransactionBlock({transactionBlock:e.transaction,signal:e.signal});return{transaction:{digest:await i.getDigest(),effects:parseTransactionEffectsJson({effects:n.effects,objectChanges:n.objectChanges}),signatures:[],bcs:e.transaction}}}async getReferenceGasPrice(e){const i=await __privateGet$1(this,_jsonRpcClient).getReferenceGasPrice({signal:e==null?void 0:e.signal});return{referenceGasPrice:String(i)}}async getDynamicFields(e){const i=await __privateGet$1(this,_jsonRpcClient).getDynamicFields({parentId:e.parentId,limit:e.limit,cursor:e.cursor});return{dynamicFields:i.data.map(n=>({id:n.objectId,type:n.objectType,name:{type:n.name.type,bcs:fromBase64(n.bcsName)}})),hasNextPage:i.hasNextPage,cursor:i.nextCursor}}async verifyZkLoginSignature(e){const i=await __privateGet$1(this,_jsonRpcClient).verifyZkLoginSignature({bytes:e.bytes,signature:e.signature,intentScope:e.intentScope,author:e.author});return{success:i.success,errors:i.errors}}}_jsonRpcClient=new WeakMap;function parseObject(t){var e;return{id:t.objectId,version:t.version,digest:t.digest,type:t.type,content:((e=t.bcs)==null?void 0:e.dataType)==="moveObject"?fromBase64(t.bcs.bcsBytes):new Uint8Array,owner:parseOwner(t.owner)}}function parseOwner(t){if(t==="Immutable")return{$kind:"Immutable",Immutable:!0};if("ConsensusV2"in t)return{$kind:"ConsensusV2",ConsensusV2:{authenticator:{$kind:"SingleOwner",SingleOwner:t.ConsensusV2.authenticator.SingleOwner},startVersion:t.ConsensusV2.start_version}};if("AddressOwner"in t)return{$kind:"AddressOwner",AddressOwner:t.AddressOwner};if("ObjectOwner"in t)return{$kind:"ObjectOwner",ObjectOwner:t.ObjectOwner};if("Shared"in t)return{$kind:"Shared",Shared:{initialSharedVersion:t.Shared.initial_shared_version}};throw new Error(`Unknown owner type: ${JSON.stringify(t)}`)}function parseTransaction(t){var n;const e=suiBcs$1.SenderSignedData.parse(fromBase64(t.rawTransaction))[0],i={};return(n=t.objectChanges)==null||n.forEach(s=>{s.type!=="published"&&(i[s.objectId]=s.objectType)}),{digest:t.digest,effects:parseTransactionEffects({effects:new Uint8Array(t.rawEffects),objectTypes:i}),bcs:suiBcs$1.TransactionData.serialize(e.intentMessage.value).toBytes(),signatures:e.txSignatures}}function parseTransactionEffectsJson({bytes:t,effects:e,epoch:i,objectChanges:n}){var l;const s=[],a=[];return n==null||n.forEach(A=>{var T,q,et,xi;switch(A.type){case"published":s.push({id:A.packageId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"PackageWrite",outputVersion:A.version,outputDigest:A.digest,outputOwner:null,idOperation:"Created",objectType:null});break;case"transferred":s.push({id:A.objectId,inputState:"Exists",inputVersion:A.version,inputDigest:A.digest,inputOwner:{$kind:"AddressOwner",AddressOwner:A.sender},outputState:"ObjectWrite",outputVersion:A.version,outputDigest:A.digest,outputOwner:parseOwner(A.recipient),idOperation:"None",objectType:A.objectType});break;case"mutated":s.push({id:A.objectId,inputState:"Exists",inputVersion:A.previousVersion,inputDigest:null,inputOwner:parseOwner(A.owner),outputState:"ObjectWrite",outputVersion:A.version,outputDigest:A.digest,outputOwner:parseOwner(A.owner),idOperation:"None",objectType:A.objectType});break;case"deleted":s.push({id:A.objectId,inputState:"Exists",inputVersion:A.version,inputDigest:((q=(T=e.deleted)==null?void 0:T.find(Oi=>Oi.objectId===A.objectId))==null?void 0:q.digest)??null,inputOwner:null,outputState:"DoesNotExist",outputVersion:null,outputDigest:null,outputOwner:null,idOperation:"Deleted",objectType:A.objectType});break;case"wrapped":s.push({id:A.objectId,inputState:"Exists",inputVersion:A.version,inputDigest:null,inputOwner:{$kind:"AddressOwner",AddressOwner:A.sender},outputState:"ObjectWrite",outputVersion:A.version,outputDigest:((xi=(et=e.wrapped)==null?void 0:et.find(Oi=>Oi.objectId===A.objectId))==null?void 0:xi.digest)??null,outputOwner:{$kind:"ObjectOwner",ObjectOwner:A.sender},idOperation:"None",objectType:A.objectType});break;case"created":s.push({id:A.objectId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:A.version,outputDigest:A.digest,outputOwner:parseOwner(A.owner),idOperation:"Created",objectType:A.objectType});break}}),{bcs:t??null,digest:e.transactionDigest,version:2,status:e.status.status==="success"?{success:!0,error:null}:{success:!1,error:e.status.error},epoch:i??null,gasUsed:e.gasUsed,transactionDigest:e.transactionDigest,gasObject:{id:(l=e.gasObject)==null?void 0:l.reference.objectId,inputState:"Exists",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:e.gasObject.reference.version,outputDigest:e.gasObject.reference.digest,outputOwner:parseOwner(e.gasObject.owner),idOperation:"None",objectType:normalizeStructTag$1("0x2::coin::Coin<0x2::sui::SUI>")},eventsDigest:e.eventsDigest??null,dependencies:e.dependencies??[],lamportVersion:e.gasObject.reference.version,changedObjects:s,unchangedSharedObjects:a,auxiliaryDataDigest:null}}const Balance=suiBcs$1.struct("Balance",{value:suiBcs$1.u64()}),Coin=suiBcs$1.struct("Coin",{id:suiBcs$1.Address,balance:Balance}),SUI_CLIENT_BRAND=Symbol.for("@mysten/SuiClient");function isSuiClient(t){return typeof t=="object"&&t!==null&&t[SUI_CLIENT_BRAND]===!0}class SuiClient extends Experimental_BaseClient{constructor(e){super({network:e.network??"unknown"}),this.core=new JSONRpcTransport(this),this.jsonRpc=this,this.transport=e.transport??new SuiHTTPTransport({url:e.url})}get[SUI_CLIENT_BRAND](){return!0}async getRpcApiVersion({signal:e}={}){return(await this.transport.request({method:"rpc.discover",params:[],signal:e})).info.version}async getCoins(e){if(!e.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit],signal:e.signal})}async getAllCoins(e){if(!e.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit],signal:e.signal})}async getBalance(e){if(!e.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType],signal:e.signal})}async getAllBalances(e){if(!e.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner],signal:e.signal})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType],signal:e.signal})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType],signal:e.signal})}async call(e,i,{signal:n}={}){return await this.transport.request({method:e,params:i,signal:n})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function],signal:e.signal})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package],signal:e.signal})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module],signal:e.signal})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function],signal:e.signal})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct],signal:e.signal})}async getOwnedObjects(e){if(!e.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit],signal:e.signal})}async getObject(e){if(!e.id||!isValidSuiObjectId$1(normalizeSuiObjectId$1(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options],signal:e.signal})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options],signal:e.signal})}async multiGetObjects(e){if(e.ids.forEach(n=>{if(!n||!isValidSuiObjectId$1(normalizeSuiObjectId$1(n)))throw new Error(`Invalid Sui Object id ${n}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options],signal:e.signal})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"],signal:e.signal})}async getTransactionBlock(e){if(!isValidTransactionDigest$1(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options],signal:e.signal})}async multiGetTransactionBlocks(e){if(e.digests.forEach(n=>{if(!isValidTransactionDigest$1(n))throw new Error(`Invalid Transaction digest ${n}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options],signal:e.signal})}async executeTransactionBlock({transactionBlock:e,signature:i,options:n,requestType:s,signal:a}){const l=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof e=="string"?e:toBase64(e),Array.isArray(i)?i:[i],n],signal:a});if(s==="WaitForLocalExecution")try{await this.waitForTransaction({digest:l.digest})}catch{}return l}async signAndExecuteTransaction({transaction:e,signer:i,...n}){let s;e instanceof Uint8Array?s=e:(e.setSenderIfNotSet(i.toSuiAddress()),s=await e.build({client:this}));const{signature:a,bytes:l}=await i.signTransaction(s);return this.executeTransactionBlock({transactionBlock:l,signature:a,...n})}async getTotalTransactionBlocks({signal:e}={}){const i=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[],signal:e});return BigInt(i)}async getReferenceGasPrice({signal:e}={}){const i=await this.transport.request({method:"suix_getReferenceGasPrice",params:[],signal:e});return BigInt(i)}async getStakes(e){if(!e.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner],signal:e.signal})}async getStakesByIds(e){return e.stakedSuiIds.forEach(i=>{if(!i||!isValidSuiObjectId$1(normalizeSuiObjectId$1(i)))throw new Error(`Invalid Sui Stake id ${i}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds],signal:e.signal})}async getLatestSuiSystemState({signal:e}={}){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[],signal:e})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"],signal:e.signal})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async devInspectTransactionBlock(e){var n,s;let i;if(isTransaction(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),i=toBase64(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")i=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)i=toBase64(e.transactionBlock);else throw new Error("Unknown transaction block format.");return(n=e.signal)==null||n.throwIfAborted(),await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,i,(s=e.gasPrice)==null?void 0:s.toString(),e.epoch],signal:e.signal})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:toBase64(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!isValidSuiObjectId$1(normalizeSuiObjectId$1(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit],signal:e.signal})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name],signal:e.signal})}async getLatestCheckpointSequenceNumber({signal:e}={}){const i=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[],signal:e});return String(i)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id],signal:e.signal})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e==null?void 0:e.limit,e.descendingOrder],signal:e.signal})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e==null?void 0:e.epoch],signal:e==null?void 0:e.signal})}async getNetworkMetrics({signal:e}={}){return await this.transport.request({method:"suix_getNetworkMetrics",params:[],signal:e})}async getAddressMetrics({signal:e}={}){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[],signal:e})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder],signal:e==null?void 0:e.signal})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e==null?void 0:e.descendingOrder],signal:e==null?void 0:e.signal})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder],signal:e==null?void 0:e.signal})}async getMoveCallMetrics({signal:e}={}){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[],signal:e})}async getCurrentEpoch({signal:e}={}){return await this.transport.request({method:"suix_getCurrentEpoch",params:[],signal:e})}async getValidatorsApy({signal:e}={}){return await this.transport.request({method:"suix_getValidatorsApy",params:[],signal:e})}async getChainIdentifier({signal:e}={}){const i=await this.getCheckpoint({id:"0",signal:e}),n=fromBase58(i.digest);return toHex$1(n.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name],signal:e.signal})}async resolveNameServiceNames({format:e="dot",...i}){const{nextCursor:n,hasNextPage:s,data:a}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[i.address,i.cursor,i.limit],signal:i.signal});return{hasNextPage:s,nextCursor:n,data:a.map(l=>normalizeSuiNSName$1(l,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e==null?void 0:e.version],signal:e==null?void 0:e.signal})}async verifyZkLoginSignature(e){return await this.transport.request({method:"sui_verifyZkLoginSignature",params:[e.bytes,e.signature,e.intentScope,e.author],signal:e.signal})}async waitForTransaction({signal:e,timeout:i=60*1e3,pollInterval:n=2*1e3,...s}){const a=AbortSignal.timeout(i),l=new Promise((A,T)=>{a.addEventListener("abort",()=>T(a.reason))});for(l.catch(()=>{});!a.aborted;){e==null||e.throwIfAborted();try{return await this.getTransactionBlock(s)}catch{await Promise.race([new Promise(T=>setTimeout(T,n)),l])}}throw a.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}experimental_asClientExtension(){return{name:"jsonRPC",register:()=>this}}}const K512=split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),SHA512_Kh=K512[0],SHA512_Kl=K512[1],SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=SHA512_IV[0]|0,this.Al=SHA512_IV[1]|0,this.Bh=SHA512_IV[2]|0,this.Bl=SHA512_IV[3]|0,this.Ch=SHA512_IV[4]|0,this.Cl=SHA512_IV[5]|0,this.Dh=SHA512_IV[6]|0,this.Dl=SHA512_IV[7]|0,this.Eh=SHA512_IV[8]|0,this.El=SHA512_IV[9]|0,this.Fh=SHA512_IV[10]|0,this.Fl=SHA512_IV[11]|0,this.Gh=SHA512_IV[12]|0,this.Gl=SHA512_IV[13]|0,this.Hh=SHA512_IV[14]|0,this.Hl=SHA512_IV[15]|0}get(){const{Ah:e,Al:i,Bh:n,Bl:s,Ch:a,Cl:l,Dh:A,Dl:T,Eh:q,El:et,Fh:xi,Fl:Oi,Gh:Ts,Gl:Fs,Hh:qs,Hl:Us}=this;return[e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts,Fs,qs,Us]}set(e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts,Fs,qs,Us){this.Ah=e|0,this.Al=i|0,this.Bh=n|0,this.Bl=s|0,this.Ch=a|0,this.Cl=l|0,this.Dh=A|0,this.Dl=T|0,this.Eh=q|0,this.El=et|0,this.Fh=xi|0,this.Fl=Oi|0,this.Gh=Ts|0,this.Gl=Fs|0,this.Hh=qs|0,this.Hl=Us|0}process(e,i){for(let zs=0;zs<16;zs++,i+=4)SHA512_W_H[zs]=e.getUint32(i),SHA512_W_L[zs]=e.getUint32(i+=4);for(let zs=16;zs<80;zs++){const Vs=SHA512_W_H[zs-15]|0,Zs=SHA512_W_L[zs-15]|0,Js=rotrSH(Vs,Zs,1)^rotrSH(Vs,Zs,8)^shrSH(Vs,Zs,7),xo=rotrSL(Vs,Zs,1)^rotrSL(Vs,Zs,8)^shrSL(Vs,Zs,7),Io=SHA512_W_H[zs-2]|0,Uo=SHA512_W_L[zs-2]|0,Fo=rotrSH(Io,Uo,19)^rotrBH(Io,Uo,61)^shrSH(Io,Uo,6),Ys=rotrSL(Io,Uo,19)^rotrBL(Io,Uo,61)^shrSL(Io,Uo,6),Hs=add4L(xo,Ys,SHA512_W_L[zs-7],SHA512_W_L[zs-16]),Ws=add4H(Hs,Js,Fo,SHA512_W_H[zs-7],SHA512_W_H[zs-16]);SHA512_W_H[zs]=Ws|0,SHA512_W_L[zs]=Hs|0}let{Ah:n,Al:s,Bh:a,Bl:l,Ch:A,Cl:T,Dh:q,Dl:et,Eh:xi,El:Oi,Fh:Ts,Fl:Fs,Gh:qs,Gl:Us,Hh:Ls,Hl:Gs}=this;for(let zs=0;zs<80;zs++){const Vs=rotrSH(xi,Oi,14)^rotrSH(xi,Oi,18)^rotrBH(xi,Oi,41),Zs=rotrSL(xi,Oi,14)^rotrSL(xi,Oi,18)^rotrBL(xi,Oi,41),Js=xi&Ts^~xi&qs,xo=Oi&Fs^~Oi&Us,Io=add5L(Gs,Zs,xo,SHA512_Kl[zs],SHA512_W_L[zs]),Uo=add5H(Io,Ls,Vs,Js,SHA512_Kh[zs],SHA512_W_H[zs]),Fo=Io|0,Ys=rotrSH(n,s,28)^rotrBH(n,s,34)^rotrBH(n,s,39),Hs=rotrSL(n,s,28)^rotrBL(n,s,34)^rotrBL(n,s,39),Ws=n&a^n&A^a&A,f=s&l^s&T^l&T;Ls=qs|0,Gs=Us|0,qs=Ts|0,Us=Fs|0,Ts=xi|0,Fs=Oi|0,{h:xi,l:Oi}=add$3(q|0,et|0,Uo|0,Fo|0),q=A|0,et=T|0,A=a|0,T=l|0,a=n|0,l=s|0;const Y=add3L(Fo,Hs,f);n=add3H(Y,Uo,Ys,Ws),s=Y|0}({h:n,l:s}=add$3(this.Ah|0,this.Al|0,n|0,s|0)),{h:a,l}=add$3(this.Bh|0,this.Bl|0,a|0,l|0),{h:A,l:T}=add$3(this.Ch|0,this.Cl|0,A|0,T|0),{h:q,l:et}=add$3(this.Dh|0,this.Dl|0,q|0,et|0),{h:xi,l:Oi}=add$3(this.Eh|0,this.El|0,xi|0,Oi|0),{h:Ts,l:Fs}=add$3(this.Fh|0,this.Fl|0,Ts|0,Fs|0),{h:qs,l:Us}=add$3(this.Gh|0,this.Gl|0,qs|0,Us|0),{h:Ls,l:Gs}=add$3(this.Hh|0,this.Hl|0,Ls|0,Gs|0),this.set(n,s,a,l,A,T,q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs)}roundClean(){clean(SHA512_W_H,SHA512_W_L)}destroy(){clean(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$4=createHasher(()=>new SHA512);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1);function isBytes(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function abytes(t){if(!isBytes(t))throw new Error("Uint8Array expected")}function abool(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function hexToNumber(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_0n$3:BigInt("0x"+t)}const hasHexBuiltin=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(t){if(abytes(t),hasHexBuiltin)return t.toHex();let e="";for(let i=0;i<t.length;i++)e+=hexes[t[i]];return e}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(t){if(t>=asciis._0&&t<=asciis._9)return t-asciis._0;if(t>=asciis.A&&t<=asciis.F)return t-(asciis.A-10);if(t>=asciis.a&&t<=asciis.f)return t-(asciis.a-10)}function hexToBytes(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(hasHexBuiltin)return Uint8Array.fromHex(t);const e=t.length,i=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(i);for(let s=0,a=0;s<i;s++,a+=2){const l=asciiToBase16(t.charCodeAt(a)),A=asciiToBase16(t.charCodeAt(a+1));if(l===void 0||A===void 0){const T=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+T+'" at index '+a)}n[s]=l*16+A}return n}function bytesToNumberBE(t){return hexToNumber(bytesToHex(t))}function bytesToNumberLE(t){return abytes(t),hexToNumber(bytesToHex(Uint8Array.from(t).reverse()))}function numberToBytesBE(t,e){return hexToBytes(t.toString(16).padStart(e*2,"0"))}function numberToBytesLE(t,e){return numberToBytesBE(t,e).reverse()}function ensureBytes(t,e,i){let n;if(typeof e=="string")try{n=hexToBytes(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(isBytes(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof i=="number"&&s!==i)throw new Error(t+" of length "+i+" expected, got "+s);return n}function concatBytes(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];abytes(s),e+=s.length}const i=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const a=t[n];i.set(a,s),s+=a.length}return i}const isPosBig=t=>typeof t=="bigint"&&_0n$3<=t;function inRange(t,e,i){return isPosBig(t)&&isPosBig(e)&&isPosBig(i)&&e<=t&&t<i}function aInRange(t,e,i,n){if(!inRange(e,i,n))throw new Error("expected valid "+t+": "+i+" <= n < "+n+", got "+e)}function bitLen(t){let e;for(e=0;t>_0n$3;t>>=_1n$4,e+=1);return e}const bitMask=t=>(_1n$4<<BigInt(t))-_1n$4,validatorFns={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||isBytes(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function validateObject(t,e,i={}){const n=(s,a,l)=>{const A=validatorFns[a];if(typeof A!="function")throw new Error("invalid validator function");const T=t[s];if(!(l&&T===void 0)&&!A(T,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+T)};for(const[s,a]of Object.entries(e))n(s,a,!1);for(const[s,a]of Object.entries(i))n(s,a,!0);return t}function memoized(t){const e=new WeakMap;return(i,...n)=>{const s=e.get(i);if(s!==void 0)return s;const a=t(i,...n);return e.set(i,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);function mod$2(t,e){const i=t%e;return i>=_0n$2?i:e+i}function pow2(t,e,i){let n=t;for(;e-- >_0n$2;)n*=n,n%=i;return n}function invert(t,e){if(t===_0n$2)throw new Error("invert: expected non-zero number");if(e<=_0n$2)throw new Error("invert: expected positive modulus, got "+e);let i=mod$2(t,e),n=e,s=_0n$2,a=_1n$3;for(;i!==_0n$2;){const A=n/i,T=n%i,q=s-a*A;n=i,i=T,s=a,a=q}if(n!==_1n$3)throw new Error("invert: does not exist");return mod$2(s,e)}function tonelliShanks(t){let e=t-_1n$3,i=0;for(;e%_2n$2===_0n$2;)e/=_2n$2,i++;let n=_2n$2;const s=Field(t);for(;n<t&&FpIsSquare(s,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(i===1){const l=(t+_1n$3)/_4n;return function(T,q){const et=T.pow(q,l);if(!T.eql(T.sqr(et),q))throw new Error("Cannot find square root");return et}}const a=(e+_1n$3)/_2n$2;return function(A,T){if(!FpIsSquare(A,T))throw new Error("Cannot find square root");let q=i,et=A.pow(A.mul(A.ONE,n),e),xi=A.pow(T,a),Oi=A.pow(T,e);for(;!A.eql(Oi,A.ONE);){if(A.eql(Oi,A.ZERO))return A.ZERO;let Ts=1;for(let qs=A.sqr(Oi);Ts<q&&!A.eql(qs,A.ONE);Ts++)qs=A.sqr(qs);const Fs=A.pow(et,_1n$3<<BigInt(q-Ts-1));et=A.sqr(Fs),xi=A.mul(xi,Fs),Oi=A.mul(Oi,et),q=Ts}return xi}}function FpSqrt(t){return t%_4n===_3n?function(i,n){const s=(t+_1n$3)/_4n,a=i.pow(n,s);if(!i.eql(i.sqr(a),n))throw new Error("Cannot find square root");return a}:t%_8n$2===_5n$1?function(i,n){const s=i.mul(n,_2n$2),a=(t-_5n$1)/_8n$2,l=i.pow(s,a),A=i.mul(n,l),T=i.mul(i.mul(A,_2n$2),l),q=i.mul(A,i.sub(T,i.ONE));if(!i.eql(i.sqr(q),n))throw new Error("Cannot find square root");return q}:tonelliShanks(t)}const isNegativeLE=(t,e)=>(mod$2(t,e)&_1n$3)===_1n$3,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},i=FIELD_FIELDS.reduce((n,s)=>(n[s]="function",n),e);return validateObject(t,i)}function FpPow(t,e,i){if(i<_0n$2)throw new Error("invalid exponent, negatives unsupported");if(i===_0n$2)return t.ONE;if(i===_1n$3)return e;let n=t.ONE,s=e;for(;i>_0n$2;)i&_1n$3&&(n=t.mul(n,s)),s=t.sqr(s),i>>=_1n$3;return n}function FpInvertBatch(t,e,i=!1){const n=new Array(e.length).fill(i?t.ZERO:void 0),s=e.reduce((l,A,T)=>t.is0(A)?l:(n[T]=l,t.mul(l,A)),t.ONE),a=t.inv(s);return e.reduceRight((l,A,T)=>t.is0(A)?l:(n[T]=t.mul(l,n[T]),t.mul(l,A)),a),n}function FpLegendre(t,e){const i=(t.ORDER-_1n$3)/_2n$2,n=t.pow(e,i),s=t.eql(n,t.ONE),a=t.eql(n,t.ZERO),l=t.eql(n,t.neg(t.ONE));if(!s&&!a&&!l)throw new Error("Cannot find square root: probably non-prime P");return s?1:a?0:-1}function FpIsSquare(t,e){const i=FpLegendre(t,e);return i===0||i===1}function nLength(t,e){e!==void 0&&anumber(e);const i=e!==void 0?e:t.toString(2).length,n=Math.ceil(i/8);return{nBitLength:i,nByteLength:n}}function Field(t,e,i=!1,n={}){if(t<=_0n$2)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=nLength(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const A=Object.freeze({ORDER:t,isLE:i,BITS:s,BYTES:a,MASK:bitMask(s),ZERO:_0n$2,ONE:_1n$3,create:T=>mod$2(T,t),isValid:T=>{if(typeof T!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof T);return _0n$2<=T&&T<t},is0:T=>T===_0n$2,isOdd:T=>(T&_1n$3)===_1n$3,neg:T=>mod$2(-T,t),eql:(T,q)=>T===q,sqr:T=>mod$2(T*T,t),add:(T,q)=>mod$2(T+q,t),sub:(T,q)=>mod$2(T-q,t),mul:(T,q)=>mod$2(T*q,t),pow:(T,q)=>FpPow(A,T,q),div:(T,q)=>mod$2(T*invert(q,t),t),sqrN:T=>T*T,addN:(T,q)=>T+q,subN:(T,q)=>T-q,mulN:(T,q)=>T*q,inv:T=>invert(T,t),sqrt:n.sqrt||(T=>(l||(l=FpSqrt(t)),l(A,T))),toBytes:T=>i?numberToBytesLE(T,a):numberToBytesBE(T,a),fromBytes:T=>{if(T.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+T.length);return i?bytesToNumberLE(T):bytesToNumberBE(T)},invertBatch:T=>FpInvertBatch(A,T),cmov:(T,q,et)=>et?q:T});return Object.freeze(A)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function constTimeNegate(t,e){const i=e.negate();return t?i:e}function validateW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function calcWOpts(t,e){validateW(t,e);const i=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,a=bitMask(t),l=BigInt(t);return{windows:i,windowSize:n,mask:a,maxNumber:s,shiftBy:l}}function calcOffsets(t,e,i){const{windowSize:n,mask:s,maxNumber:a,shiftBy:l}=i;let A=Number(t&s),T=t>>l;A>n&&(A-=a,T+=_1n$2);const q=e*n,et=q+Math.abs(A)-1,xi=A===0,Oi=A<0,Ts=e%2!==0;return{nextN:T,offset:et,isZero:xi,isNeg:Oi,isNegF:Ts,offsetF:q}}function validateMSMPoints(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((i,n)=>{if(!(i instanceof e))throw new Error("invalid point at index "+n)})}function validateMSMScalars(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((i,n)=>{if(!e.isValid(i))throw new Error("invalid scalar at index "+n)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(t){return pointWindowSizes.get(t)||1}function wNAF(t,e){return{constTimeNegate,hasPrecomputes(i){return getW(i)!==1},unsafeLadder(i,n,s=t.ZERO){let a=i;for(;n>_0n$1;)n&_1n$2&&(s=s.add(a)),a=a.double(),n>>=_1n$2;return s},precomputeWindow(i,n){const{windows:s,windowSize:a}=calcWOpts(n,e),l=[];let A=i,T=A;for(let q=0;q<s;q++){T=A,l.push(T);for(let et=1;et<a;et++)T=T.add(A),l.push(T);A=T.double()}return l},wNAF(i,n,s){let a=t.ZERO,l=t.BASE;const A=calcWOpts(i,e);for(let T=0;T<A.windows;T++){const{nextN:q,offset:et,isZero:xi,isNeg:Oi,isNegF:Ts,offsetF:Fs}=calcOffsets(s,T,A);s=q,xi?l=l.add(constTimeNegate(Ts,n[Fs])):a=a.add(constTimeNegate(Oi,n[et]))}return{p:a,f:l}},wNAFUnsafe(i,n,s,a=t.ZERO){const l=calcWOpts(i,e);for(let A=0;A<l.windows&&s!==_0n$1;A++){const{nextN:T,offset:q,isZero:et,isNeg:xi}=calcOffsets(s,A,l);if(s=T,!et){const Oi=n[q];a=a.add(xi?Oi.negate():Oi)}}return a},getPrecomputes(i,n,s){let a=pointPrecomputes.get(n);return a||(a=this.precomputeWindow(n,i),i!==1&&pointPrecomputes.set(n,s(a))),a},wNAFCached(i,n,s){const a=getW(i);return this.wNAF(a,this.getPrecomputes(a,i,s),n)},wNAFCachedUnsafe(i,n,s,a){const l=getW(i);return l===1?this.unsafeLadder(i,n,a):this.wNAFUnsafe(l,this.getPrecomputes(l,i,s),n,a)},setWindowSize(i,n){validateW(n,e),pointWindowSizes.set(i,n),pointPrecomputes.delete(i)}}}function pippenger(t,e,i,n){if(validateMSMPoints(i,t),validateMSMScalars(n,e),i.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=bitLen(BigInt(i.length)),l=a>12?a-3:a>4?a-2:a?2:1,A=bitMask(l),T=new Array(Number(A)+1).fill(s),q=Math.floor((e.BITS-1)/l)*l;let et=s;for(let xi=q;xi>=0;xi-=l){T.fill(s);for(let Ts=0;Ts<n.length;Ts++){const Fs=n[Ts],qs=Number(Fs>>BigInt(xi)&A);T[qs]=T[qs].add(i[Ts])}let Oi=s;for(let Ts=T.length-1,Fs=s;Ts>0;Ts--)Fs=Fs.add(T[Ts]),Oi=Oi.add(Fs);if(et=et.add(Oi),xi!==0)for(let Ts=0;Ts<l;Ts++)et=et.double()}return et}function validateBasic(t){return validateField(t.Fp),validateObject(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts(t){const e=validateBasic(t);return validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards(t){const e=validateOpts(t),{Fp:i,n,prehash:s,hash:a,randomBytes:l,nByteLength:A,h:T}=e,q=_2n$1<<BigInt(A*8)-_1n$1,et=i.create,xi=Field(e.n,e.nBitLength),Oi=e.uvRatio||((vs,ks)=>{try{return{isValid:!0,value:i.sqrt(vs*i.inv(ks))}}catch{return{isValid:!1,value:_0n}}}),Ts=e.adjustScalarBytes||(vs=>vs),Fs=e.domain||((vs,ks,Ds)=>{if(abool("phflag",Ds),ks.length||Ds)throw new Error("Contexts/pre-hash are not supported");return vs});function qs(vs,ks,Ds=!1){const Bs=Ds?_1n$1:_0n;aInRange("coordinate "+vs,ks,Bs,q)}function Us(vs){if(!(vs instanceof zs))throw new Error("ExtendedPoint expected")}const Ls=memoized((vs,ks)=>{const{ex:Ds,ey:Bs,ez:Ms}=vs,Q=vs.is0();ks==null&&(ks=Q?_8n$1:i.inv(Ms));const $s=et(Ds*ks),Ks=et(Bs*ks),jo=et(Ms*ks);if(Q)return{x:_0n,y:_1n$1};if(jo!==_1n$1)throw new Error("invZ was invalid");return{x:$s,y:Ks}}),Gs=memoized(vs=>{const{a:ks,d:Ds}=e;if(vs.is0())throw new Error("bad point: ZERO");const{ex:Bs,ey:Ms,ez:Q,et:$s}=vs,Ks=et(Bs*Bs),jo=et(Ms*Ms),Bo=et(Q*Q),To=et(Bo*Bo),Oo=et(Ks*ks),Vo=et(Bo*et(Oo+jo)),zo=et(To+et(Ds*et(Ks*jo)));if(Vo!==zo)throw new Error("bad point: equation left != right (1)");const so=et(Bs*Ms),Qs=et(Q*$s);if(so!==Qs)throw new Error("bad point: equation left != right (2)");return!0});class zs{constructor(ks,Ds,Bs,Ms){qs("x",ks),qs("y",Ds),qs("z",Bs,!0),qs("t",Ms),this.ex=ks,this.ey=Ds,this.ez=Bs,this.et=Ms,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ks){if(ks instanceof zs)throw new Error("extended point not allowed");const{x:Ds,y:Bs}=ks||{};return qs("x",Ds),qs("y",Bs),new zs(Ds,Bs,_1n$1,et(Ds*Bs))}static normalizeZ(ks){const Ds=FpInvertBatch(i,ks.map(Bs=>Bs.ez));return ks.map((Bs,Ms)=>Bs.toAffine(Ds[Ms])).map(zs.fromAffine)}static msm(ks,Ds){return pippenger(zs,xi,ks,Ds)}_setWindowSize(ks){Js.setWindowSize(this,ks)}assertValidity(){Gs(this)}equals(ks){Us(ks);const{ex:Ds,ey:Bs,ez:Ms}=this,{ex:Q,ey:$s,ez:Ks}=ks,jo=et(Ds*Ks),Bo=et(Q*Ms),To=et(Bs*Ks),Oo=et($s*Ms);return jo===Bo&&To===Oo}is0(){return this.equals(zs.ZERO)}negate(){return new zs(et(-this.ex),this.ey,this.ez,et(-this.et))}double(){const{a:ks}=e,{ex:Ds,ey:Bs,ez:Ms}=this,Q=et(Ds*Ds),$s=et(Bs*Bs),Ks=et(_2n$1*et(Ms*Ms)),jo=et(ks*Q),Bo=Ds+Bs,To=et(et(Bo*Bo)-Q-$s),Oo=jo+$s,Vo=Oo-Ks,zo=jo-$s,so=et(To*Vo),Qs=et(Oo*zo),sa=et(To*zo),Zo=et(Vo*Oo);return new zs(so,Qs,Zo,sa)}add(ks){Us(ks);const{a:Ds,d:Bs}=e,{ex:Ms,ey:Q,ez:$s,et:Ks}=this,{ex:jo,ey:Bo,ez:To,et:Oo}=ks,Vo=et(Ms*jo),zo=et(Q*Bo),so=et(Ks*Bs*Oo),Qs=et($s*To),sa=et((Ms+Q)*(jo+Bo)-Vo-zo),Zo=Qs-so,Qo=Qs+so,la=et(zo-Ds*Vo),Ko=et(sa*Zo),Jo=et(Qo*la),aa=et(sa*la),oa=et(Zo*Qo);return new zs(Ko,Jo,oa,aa)}subtract(ks){return this.add(ks.negate())}wNAF(ks){return Js.wNAFCached(this,ks,zs.normalizeZ)}multiply(ks){const Ds=ks;aInRange("scalar",Ds,_1n$1,n);const{p:Bs,f:Ms}=this.wNAF(Ds);return zs.normalizeZ([Bs,Ms])[0]}multiplyUnsafe(ks,Ds=zs.ZERO){const Bs=ks;return aInRange("scalar",Bs,_0n,n),Bs===_0n?Zs:this.is0()||Bs===_1n$1?this:Js.wNAFCachedUnsafe(this,Bs,zs.normalizeZ,Ds)}isSmallOrder(){return this.multiplyUnsafe(T).is0()}isTorsionFree(){return Js.unsafeLadder(this,n).is0()}toAffine(ks){return Ls(this,ks)}clearCofactor(){const{h:ks}=e;return ks===_1n$1?this:this.multiplyUnsafe(ks)}static fromHex(ks,Ds=!1){const{d:Bs,a:Ms}=e,Q=i.BYTES;ks=ensureBytes("pointHex",ks,Q),abool("zip215",Ds);const $s=ks.slice(),Ks=ks[Q-1];$s[Q-1]=Ks&-129;const jo=bytesToNumberLE($s),Bo=Ds?q:i.ORDER;aInRange("pointHex.y",jo,_0n,Bo);const To=et(jo*jo),Oo=et(To-_1n$1),Vo=et(Bs*To-Ms);let{isValid:zo,value:so}=Oi(Oo,Vo);if(!zo)throw new Error("Point.fromHex: invalid y coordinate");const Qs=(so&_1n$1)===_1n$1,sa=(Ks&128)!==0;if(!Ds&&so===_0n&&sa)throw new Error("Point.fromHex: x=0 and x_0=1");return sa!==Qs&&(so=et(-so)),zs.fromAffine({x:so,y:jo})}static fromPrivateKey(ks){const{scalar:Ds}=Uo(ks);return Vs.multiply(Ds)}toRawBytes(){const{x:ks,y:Ds}=this.toAffine(),Bs=numberToBytesLE(Ds,i.BYTES);return Bs[Bs.length-1]|=ks&_1n$1?128:0,Bs}toHex(){return bytesToHex(this.toRawBytes())}}zs.BASE=new zs(e.Gx,e.Gy,_1n$1,et(e.Gx*e.Gy)),zs.ZERO=new zs(_0n,_1n$1,_1n$1,_0n);const{BASE:Vs,ZERO:Zs}=zs,Js=wNAF(zs,A*8);function xo(vs){return mod$2(vs,n)}function Io(vs){return xo(bytesToNumberLE(vs))}function Uo(vs){const ks=i.BYTES;vs=ensureBytes("private key",vs,ks);const Ds=ensureBytes("hashed private key",a(vs),2*ks),Bs=Ts(Ds.slice(0,ks)),Ms=Ds.slice(ks,2*ks),Q=Io(Bs);return{head:Bs,prefix:Ms,scalar:Q}}function Fo(vs){const{head:ks,prefix:Ds,scalar:Bs}=Uo(vs),Ms=Vs.multiply(Bs),Q=Ms.toRawBytes();return{head:ks,prefix:Ds,scalar:Bs,point:Ms,pointBytes:Q}}function Ys(vs){return Fo(vs).pointBytes}function Hs(vs=Uint8Array.of(),...ks){const Ds=concatBytes(...ks);return Io(a(Fs(Ds,ensureBytes("context",vs),!!s)))}function Ws(vs,ks,Ds={}){vs=ensureBytes("message",vs),s&&(vs=s(vs));const{prefix:Bs,scalar:Ms,pointBytes:Q}=Fo(ks),$s=Hs(Ds.context,Bs,vs),Ks=Vs.multiply($s).toRawBytes(),jo=Hs(Ds.context,Ks,Q,vs),Bo=xo($s+jo*Ms);aInRange("signature.s",Bo,_0n,n);const To=concatBytes(Ks,numberToBytesLE(Bo,i.BYTES));return ensureBytes("result",To,i.BYTES*2)}const f=VERIFY_DEFAULT;function Y(vs,ks,Ds,Bs=f){const{context:Ms,zip215:Q}=Bs,$s=i.BYTES;vs=ensureBytes("signature",vs,2*$s),ks=ensureBytes("message",ks),Ds=ensureBytes("publicKey",Ds,$s),Q!==void 0&&abool("zip215",Q),s&&(ks=s(ks));const Ks=bytesToNumberLE(vs.slice($s,2*$s));let jo,Bo,To;try{jo=zs.fromHex(Ds,Q),Bo=zs.fromHex(vs.slice(0,$s),Q),To=Vs.multiplyUnsafe(Ks)}catch{return!1}if(!Q&&jo.isSmallOrder())return!1;const Oo=Hs(Ms,Bo.toRawBytes(),jo.toRawBytes(),ks);return Bo.add(jo.multiplyUnsafe(Oo)).subtract(To).clearCofactor().equals(zs.ZERO)}return Vs._setWindowSize(8),{CURVE:e,getPublicKey:Ys,sign:Ws,verify:Y,ExtendedPoint:zs,utils:{getExtendedPublicKey:Fo,randomPrivateKey:()=>l(i.BYTES),precompute(vs=8,ks=zs.BASE){return ks._setWindowSize(vs),ks.multiply(BigInt(3)),ks}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n=BigInt(1),_2n=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(t){const e=BigInt(10),i=BigInt(20),n=BigInt(40),s=BigInt(80),a=ED25519_P,A=t*t%a*t%a,T=pow2(A,_2n,a)*A%a,q=pow2(T,_1n,a)*t%a,et=pow2(q,_5n,a)*q%a,xi=pow2(et,e,a)*et%a,Oi=pow2(xi,i,a)*xi%a,Ts=pow2(Oi,n,a)*Oi%a,Fs=pow2(Ts,s,a)*Ts%a,qs=pow2(Fs,s,a)*Ts%a,Us=pow2(qs,e,a)*et%a;return{pow_p_5_8:pow2(Us,_2n,a)*t%a,b2:A}}function adjustScalarBytes(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uvRatio(t,e){const i=ED25519_P,n=mod$2(e*e*e,i),s=mod$2(n*n*e,i),a=ed25519_pow_2_252_3(t*s).pow_p_5_8;let l=mod$2(t*n*a,i);const A=mod$2(e*l*l,i),T=l,q=mod$2(l*ED25519_SQRT_M1,i),et=A===t,xi=A===mod$2(-t,i),Oi=A===mod$2(-t*ED25519_SQRT_M1,i);return et&&(l=T),(xi||Oi)&&(l=q),isNegativeLE(l,i)&&(l=mod$2(-l,i)),{isValid:et||xi,value:l}}const Fp=Field(ED25519_P,void 0,!0),ed25519Defaults={a:Fp.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$4,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults);function messageWithIntent(t,e){return suiBcs$1.IntentMessage(suiBcs$1.fixedArray(e.length,suiBcs$1.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}const SIGNATURE_SCHEME_TO_FLAG={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},SIGNATURE_SCHEME_TO_SIZE={ED25519:32,Secp256k1:33,Secp256r1:33},SIGNATURE_FLAG_TO_SCHEME={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};class HMAC extends Hash$1{constructor(e,i){super(),this.finished=!1,this.destroyed=!1,ahash(e);const n=toBytes(i);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(n.length>s?e.create().update(n).digest():n);for(let l=0;l<a.length;l++)a[l]^=54;this.iHash.update(a),this.oHash=e.create();for(let l=0;l<a.length;l++)a[l]^=106;this.oHash.update(a),clean(a)}update(e){return aexists(this),this.iHash.update(e),this}digestInto(e){aexists(this),abytes$1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:i,iHash:n,finished:s,destroyed:a,blockLen:l,outputLen:A}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=l,e.outputLen=A,e.oHash=i._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$2=(t,e,i)=>new HMAC(t,e).update(i).digest();hmac$2.create=(t,e)=>new HMAC(t,e);function bytesEqual(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}let PublicKey$1=class{equals(e){return bytesEqual(this.toRawBytes(),e.toRawBytes())}toBase64(){return toBase64(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const e=this.toSuiBytes();return toBase64(e)}verifyWithIntent(e,i,n){const s=messageWithIntent(n,e),a=blake2b$1(s,{dkLen:32});return this.verify(a,i)}verifyPersonalMessage(e,i){return this.verifyWithIntent(suiBcs$1.vector(suiBcs$1.u8()).serialize(e).toBytes(),i,"PersonalMessage")}verifyTransaction(e,i){return this.verifyWithIntent(e,i,"TransactionData")}verifyAddress(e){return this.toSuiAddress()===e}toSuiBytes(){const e=this.toRawBytes(),i=new Uint8Array(e.length+1);return i.set([this.flag()]),i.set(e,1),i}toSuiAddress(){return normalizeSuiAddress$1(bytesToHex$1(blake2b$1(this.toSuiBytes(),{dkLen:32})).slice(0,SUI_ADDRESS_LENGTH$1*2))}};function parseSerializedKeypairSignature(t){const e=fromBase64(t),i=SIGNATURE_FLAG_TO_SCHEME[e[0]];switch(i){case"ED25519":case"Secp256k1":case"Secp256r1":const n=SIGNATURE_SCHEME_TO_SIZE[i],s=e.slice(1,e.length-n),a=e.slice(1+s.length);return{serializedSignature:t,signatureScheme:i,signature:s,publicKey:a,bytes:e};default:throw new Error("Unsupported signature scheme")}}function toSerializedSignature({signature:t,signatureScheme:e,publicKey:i}){if(!i)throw new Error("`publicKey` is required");const n=i.toRawBytes(),s=new Uint8Array(1+t.length+n.length);return s.set([SIGNATURE_SCHEME_TO_FLAG[e]]),s.set(t,1),s.set(n,1+t.length),toBase64(s)}const PRIVATE_KEY_SIZE=32,SUI_PRIVATE_KEY_PREFIX="suiprivkey";class Signer{async signWithIntent(e,i){const n=messageWithIntent(i,e),s=blake2b$1(n,{dkLen:32});return{signature:toSerializedSignature({signature:await this.sign(s),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:toBase64(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){const{signature:i}=await this.signWithIntent(bcs$2.vector(bcs$2.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:toBase64(e),signature:i}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class Keypair extends Signer{}function decodeSuiPrivateKey(t){const{prefix:e,words:i}=bech32.decode(t);if(e!==SUI_PRIVATE_KEY_PREFIX)throw new Error("invalid private key prefix");const n=new Uint8Array(bech32.fromWords(i)),s=n.slice(1);return{schema:SIGNATURE_FLAG_TO_SCHEME[n[0]],secretKey:s}}function encodeSuiPrivateKey(t,e){if(t.length!==PRIVATE_KEY_SIZE)throw new Error("Invalid bytes length");const i=SIGNATURE_SCHEME_TO_FLAG[e],n=new Uint8Array(t.length+1);return n.set([i]),n.set(t,1),bech32.encode(SUI_PRIVATE_KEY_PREFIX,bech32.toWords(n))}function pbkdf2Init(t,e,i,n){ahash(t);const s=checkOpts({dkLen:32,asyncTick:10},n),{c:a,dkLen:l,asyncTick:A}=s;if(anumber(a),anumber(l),anumber(A),a<1)throw new Error("iterations (c) should be >= 1");const T=kdfInputToBytes(e),q=kdfInputToBytes(i),et=new Uint8Array(l),xi=hmac$2.create(t,T),Oi=xi._cloneInto().update(q);return{c:a,dkLen:l,asyncTick:A,DK:et,PRF:xi,PRFSalt:Oi}}function pbkdf2Output(t,e,i,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),clean(s),i}function pbkdf2$1(t,e,i,n){const{c:s,dkLen:a,DK:l,PRF:A,PRFSalt:T}=pbkdf2Init(t,e,i,n);let q;const et=new Uint8Array(4),xi=createView(et),Oi=new Uint8Array(A.outputLen);for(let Ts=1,Fs=0;Fs<a;Ts++,Fs+=A.outputLen){const qs=l.subarray(Fs,Fs+A.outputLen);xi.setInt32(0,Ts,!1),(q=T._cloneInto(q)).update(et).digestInto(Oi),qs.set(Oi.subarray(0,qs.length));for(let Us=1;Us<s;Us++){A._cloneInto(q).update(Oi).digestInto(Oi);for(let Ls=0;Ls<qs.length;Ls++)qs[Ls]^=Oi[Ls]}}return pbkdf2Output(A,T,l,q,Oi)}/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function nfkd(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function normalize(t){const e=nfkd(t),i=e.split(" ");if(![12,15,18,21,24].includes(i.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:i}}const psalt=t=>nfkd("mnemonic"+t);function mnemonicToSeedSync(t,e=""){return pbkdf2$1(sha512$4,normalize(t).nfkd,psalt(e),{c:2048,dkLen:64})}function isValidHardenedPath(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function mnemonicToSeed(t){return mnemonicToSeedSync(t,"")}function mnemonicToSeedHex(t){return toHex$1(mnemonicToSeed(t))}const sha512$3=sha512$4,ED25519_CURVE="ed25519 seed",HARDENED_OFFSET=2147483648,pathRegex=new RegExp("^m(\\/[0-9]+')+$"),replaceDerive=t=>t.replace("'",""),getMasterKeyFromSeed=t=>{const i=hmac$2.create(sha512$3,ED25519_CURVE).update(fromHex(t)).digest(),n=i.slice(0,32),s=i.slice(32);return{key:n,chainCode:s}},CKDPriv=({key:t,chainCode:e},i)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,i);const a=new Uint8Array(1+t.length+n.byteLength);a.set(new Uint8Array(1).fill(0)),a.set(t,1),a.set(new Uint8Array(n,0,n.byteLength),t.length+1);const l=hmac$2.create(sha512$3,e).update(a).digest(),A=l.slice(0,32),T=l.slice(32);return{key:A,chainCode:T}},isValidPath=t=>pathRegex.test(t)?!t.split("/").slice(1).map(replaceDerive).some(isNaN):!1,derivePath=(t,e,i=HARDENED_OFFSET)=>{if(!isValidPath(t))throw new Error("Invalid derivation path");const{key:n,chainCode:s}=getMasterKeyFromSeed(e);return t.split("/").slice(1).map(replaceDerive).map(l=>parseInt(l,10)).reduce((l,A)=>CKDPriv(l,A+i),{key:n,chainCode:s})},PUBLIC_KEY_SIZE=32;class Ed25519PublicKey extends PublicKey$1{constructor(e){if(super(),typeof e=="string"?this.data=fromBase64(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==PUBLIC_KEY_SIZE)throw new Error(`Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return SIGNATURE_SCHEME_TO_FLAG.ED25519}async verify(e,i){let n;if(typeof i=="string"){const s=parseSerializedKeypairSignature(i);if(s.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!bytesEqual(this.toRawBytes(),s.publicKey))throw new Error("Signature does not match public key");n=s.signature}else n=i;return ed25519.verify(n,e,this.toRawBytes())}}Ed25519PublicKey.SIZE=PUBLIC_KEY_SIZE;const DEFAULT_ED25519_DERIVATION_PATH="m/44'/784'/0'/0'/0'";class Ed25519Keypair extends Keypair{constructor(e){if(super(),e)this.keypair={publicKey:e.publicKey,secretKey:e.secretKey.slice(0,32)};else{const i=ed25519.utils.randomPrivateKey();this.keypair={publicKey:ed25519.getPublicKey(i),secretKey:i}}}getKeyScheme(){return"ED25519"}static generate(){const e=ed25519.utils.randomPrivateKey();return new Ed25519Keypair({publicKey:ed25519.getPublicKey(e),secretKey:e})}static fromSecretKey(e,i){if(typeof e=="string"){const a=decodeSuiPrivateKey(e);if(a.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${a.schema}`);return this.fromSecretKey(a.secretKey,i)}const n=e.length;if(n!==PRIVATE_KEY_SIZE)throw new Error(`Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${n}.`);const s={publicKey:ed25519.getPublicKey(e),secretKey:e};if(!i||!i.skipValidation){const l=new TextEncoder().encode("sui validation"),A=ed25519.sign(l,e);if(!ed25519.verify(A,l,s.publicKey))throw new Error("provided secretKey is invalid")}return new Ed25519Keypair(s)}getPublicKey(){return new Ed25519PublicKey(this.keypair.publicKey)}getSecretKey(){return encodeSuiPrivateKey(this.keypair.secretKey.slice(0,PRIVATE_KEY_SIZE),this.getKeyScheme())}async sign(e){return ed25519.sign(e,this.keypair.secretKey)}static deriveKeypair(e,i){if(i==null&&(i=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(i))throw new Error("Invalid derivation path");const{key:n}=derivePath(i,mnemonicToSeedHex(e));return Ed25519Keypair.fromSecretKey(n)}static deriveKeypairFromSeed(e,i){if(i==null&&(i=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(i))throw new Error("Invalid derivation path");const{key:n}=derivePath(i,e);return Ed25519Keypair.fromSecretKey(n)}}const __vite_import_meta_env__={};function createJSONStorage(t,e){let i;try{i=t()}catch{return}return{getItem:s=>{var a;const l=T=>T===null?null:JSON.parse(T,void 0),A=(a=i.getItem(s))!=null?a:null;return A instanceof Promise?A.then(l):l(A)},setItem:(s,a)=>i.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>i.removeItem(s)}}const toThenable=t=>e=>{try{const i=t(e);return i instanceof Promise?i:{then(n){return toThenable(n)(i)},catch(n){return this}}}catch(i){return{then(n){return this},catch(n){return toThenable(n)(i)}}}},oldImpl=(t,e)=>(i,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Us=>Us,version:0,merge:(Us,Ls)=>({...Ls,...Us}),...e},l=!1;const A=new Set,T=new Set;let q;try{q=a.getStorage()}catch{}if(!q)return t((...Us)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),i(...Us)},n,s);const et=toThenable(a.serialize),xi=()=>{const Us=a.partialize({...n()});let Ls;const Gs=et({state:Us,version:a.version}).then(zs=>q.setItem(a.name,zs)).catch(zs=>{Ls=zs});if(Ls)throw Ls;return Gs},Oi=s.setState;s.setState=(Us,Ls)=>{Oi(Us,Ls),xi()};const Ts=t((...Us)=>{i(...Us),xi()},n,s);let Fs;const qs=()=>{var Us;if(!q)return;l=!1,A.forEach(Gs=>Gs(n()));const Ls=((Us=a.onRehydrateStorage)==null?void 0:Us.call(a,n()))||void 0;return toThenable(q.getItem.bind(q))(a.name).then(Gs=>{if(Gs)return a.deserialize(Gs)}).then(Gs=>{if(Gs)if(typeof Gs.version=="number"&&Gs.version!==a.version){if(a.migrate)return a.migrate(Gs.state,Gs.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Gs.state}).then(Gs=>{var zs;return Fs=a.merge(Gs,(zs=n())!=null?zs:Ts),i(Fs,!0),xi()}).then(()=>{Ls==null||Ls(Fs,void 0),l=!0,T.forEach(Gs=>Gs(Fs))}).catch(Gs=>{Ls==null||Ls(void 0,Gs)})};return s.persist={setOptions:Us=>{a={...a,...Us},Us.getStorage&&(q=Us.getStorage())},clearStorage:()=>{q==null||q.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>qs(),hasHydrated:()=>l,onHydrate:Us=>(A.add(Us),()=>{A.delete(Us)}),onFinishHydration:Us=>(T.add(Us),()=>{T.delete(Us)})},qs(),Fs||Ts},newImpl=(t,e)=>(i,n,s)=>{let a={storage:createJSONStorage(()=>localStorage),partialize:qs=>qs,version:0,merge:(qs,Us)=>({...Us,...qs}),...e},l=!1;const A=new Set,T=new Set;let q=a.storage;if(!q)return t((...qs)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),i(...qs)},n,s);const et=()=>{const qs=a.partialize({...n()});return q.setItem(a.name,{state:qs,version:a.version})},xi=s.setState;s.setState=(qs,Us)=>{xi(qs,Us),et()};const Oi=t((...qs)=>{i(...qs),et()},n,s);s.getInitialState=()=>Oi;let Ts;const Fs=()=>{var qs,Us;if(!q)return;l=!1,A.forEach(Gs=>{var zs;return Gs((zs=n())!=null?zs:Oi)});const Ls=((Us=a.onRehydrateStorage)==null?void 0:Us.call(a,(qs=n())!=null?qs:Oi))||void 0;return toThenable(q.getItem.bind(q))(a.name).then(Gs=>{if(Gs)if(typeof Gs.version=="number"&&Gs.version!==a.version){if(a.migrate)return[!0,a.migrate(Gs.state,Gs.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Gs.state];return[!1,void 0]}).then(Gs=>{var zs;const[Vs,Zs]=Gs;if(Ts=a.merge(Zs,(zs=n())!=null?zs:Oi),i(Ts,!0),Vs)return et()}).then(()=>{Ls==null||Ls(Ts,void 0),Ts=n(),l=!0,T.forEach(Gs=>Gs(Ts))}).catch(Gs=>{Ls==null||Ls(void 0,Gs)})};return s.persist={setOptions:qs=>{a={...a,...qs},qs.storage&&(q=qs.storage)},clearStorage:()=>{q==null||q.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>Fs(),hasHydrated:()=>l,onHydrate:qs=>(A.add(qs),()=>{A.delete(qs)}),onFinishHydration:qs=>(T.add(qs),()=>{T.delete(qs)})},a.skipHydration||Fs(),Ts||Oi},persistImpl=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(t,e)):newImpl(t,e),persist=persistImpl;function getVarName(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}function get$2(t,e){var i=t;for(var n of e){if(!(n in i))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));i=i[n]}return i}function walkObject(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n={};for(var s in t){var a=t[s],l=[...i,s];typeof a=="string"||typeof a=="number"||a==null?n[s]=e(a,l):typeof a=="object"&&!Array.isArray(a)?n[s]=walkObject(a,e,l):console.warn('Skipping invalid key "'.concat(l.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(a)?"Array":typeof a,'"'))}return n}function assignInlineVars(t,e){var i={};if(typeof e=="object"){var n=t;walkObject(e,(A,T)=>{if(A!=null){var q=get$2(n,T);i[getVarName(q)]=String(A)}})}else{var s=t;for(var a in s){var l=s[a];l!=null&&(i[getVarName(a)]=l)}}return Object.defineProperty(i,"toString",{value:function(){return Object.keys(this).map(T=>"".concat(T,":").concat(this[T])).join(";")},writable:!1}),i}/*! https://mths.be/cssesc v3.0.0 by @mathias */var object={},hasOwnProperty$a=object.hasOwnProperty,merge$1=function(e,i){if(!e)return i;var n={};for(var s in i)n[s]=hasOwnProperty$a.call(e,s)?e[s]:i[s];return n},regexAnySingleEscape=/[ -,\.\/:-@\[-\^`\{-~]/,regexSingleEscape=/[ -,\.\/:-@\[\]\^`\{-~]/,regexExcessiveSpaces=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,cssesc=function t(e,i){i=merge$1(i,t.options),i.quotes!="single"&&i.quotes!="double"&&(i.quotes="single");for(var n=i.quotes=="double"?'"':"'",s=i.isIdentifier,a=e.charAt(0),l="",A=0,T=e.length;A<T;){var q=e.charAt(A++),et=q.charCodeAt(),xi=void 0;if(et<32||et>126){if(et>=55296&&et<=56319&&A<T){var Oi=e.charCodeAt(A++);(Oi&64512)==56320?et=((et&1023)<<10)+(Oi&1023)+65536:A--}xi="\\"+et.toString(16).toUpperCase()+" "}else i.escapeEverything?regexAnySingleEscape.test(q)?xi="\\"+q:xi="\\"+et.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(q)?xi="\\"+et.toString(16).toUpperCase()+" ":q=="\\"||!s&&(q=='"'&&n==q||q=="'"&&n==q)||s&&regexSingleEscape.test(q)?xi="\\"+q:xi=q;l+=xi}return s&&(/^-[-\d]/.test(l)?l="\\-"+l.slice(1):/\d/.test(a)&&(l="\\3"+a+" "+l.slice(1))),l=l.replace(regexExcessiveSpaces,function(Ts,Fs,qs){return Fs&&Fs.length%2?Ts:(Fs||"")+qs}),!s&&i.wrap?n+l+n:l};cssesc.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};cssesc.version="3.0.0";var cssesc_1=cssesc;const cssesc$1=getDefaultExportFromCjs$2(cssesc_1);var hasConfiguredAdapter=!1,setAdapterIfNotSet=t=>{hasConfiguredAdapter||setAdapter(t)},setAdapter=t=>{if(!t)throw new Error('No adapter provided when calling "setAdapter"');hasConfiguredAdapter=!0};function ownKeys$1(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(i),!0).forEach(function(n){_defineProperty(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys$1(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function _defineProperty(t,e,i){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}createDedent({});function createDedent(t){return e.withOptions=i=>createDedent(_objectSpread$1(_objectSpread$1({},t),i)),e;function e(i,...n){const s=typeof i=="string"?[i]:i.raw,{escapeSpecialCharacters:a=Array.isArray(i),trimWhitespace:l=!0}=t;let A="";for(let et=0;et<s.length;et++){let xi=s[et];a&&(xi=xi.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),A+=xi,et<n.length&&(A+=n[et])}const T=A.split(`
`);let q=null;for(const et of T){const xi=et.match(/^(\s+)\S+/);if(xi){const Oi=xi[1].length;q?q=Math.min(q,Oi):q=Oi}}if(q!==null){const et=q;A=T.map(xi=>xi[0]===" "||xi[0]==="	"?xi.slice(et):xi).join(`
`)}return l&&(A=A.trim()),a&&(A=A.replace(/\\n/g,`
`)),A}}var simplePseudoMap={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-calendar-picker-indicator":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},simplePseudos=Object.keys(simplePseudoMap);[...simplePseudos];function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var browser$d={exports:{}},process=browser$d.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];queue.push(new Item$1(t,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item$1(t,e){this.fun=t,this.array=e}Item$1.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$3(){}process.on=noop$3;process.addListener=noop$3;process.once=noop$3;process.off=noop$3;process.removeListener=noop$3;process.removeAllListeners=noop$3;process.emit=noop$3;process.prependListener=noop$3;process.prependOnceListener=noop$3;process.listeners=function(t){return[]};process.binding=function(t){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(t){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$d.exports;const process$1=getDefaultExportFromCjs$1(browserExports),perf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned=new Set,PROCESS=typeof process$1=="object"&&process$1?process$1:{},emitWarning=(t,e,i,n)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(t,e,i,n):console.error(`[${i}] ${e}: ${t}`)};let AC=globalThis.AbortController,AS=globalThis.AbortSignal;var l0;if(typeof AC>"u"){AS=class{constructor(){Ua(this,"onabort");Ua(this,"_onabort",[]);Ua(this,"reason");Ua(this,"aborted",!1)}addEventListener(n,s){this._onabort.push(s)}},AC=class{constructor(){Ua(this,"signal",new AS);e()}abort(n){var s,a;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const l of this.signal._onabort)l(n);(a=(s=this.signal).onabort)==null||a.call(s,n)}}};let t=((l0=PROCESS.env)==null?void 0:l0.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const shouldWarn=t=>!warned.has(t),isPosInt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),getUintArray=t=>isPosInt(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(e){super(e),this.fill(0)}}var lc,fl;let Stack$1=(lc=class{constructor(e,i){Ua(this,"heap");Ua(this,"length");if(!Wo(lc,fl))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new i(e),this.length=0}static create(e){const i=getUintArray(e);if(!i)return[];qa(lc,fl,!0);const n=new lc(e,i);return qa(lc,fl,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},fl=new WeakMap,Wa(lc,fl,!1),lc);var d0,f0,Xu,Hu,Ju,Yu,hl,pl,Bu,Qu,Ru,Au,su,Fu,Gu,Du,Ou,tc,Iu,rc,ic,zu,nc,Ic,qu,Va,Vl,Wc,pc,$l,Wu,g0,Vc,ml,Sl,_c,bc,Kl,Ml,Al,Mu,Zl,_l,vc,Xl;const Yl=class Yl{constructor(e){Wa(this,Va);Wa(this,Xu);Wa(this,Hu);Wa(this,Ju);Wa(this,Yu);Wa(this,hl);Wa(this,pl);Ua(this,"ttl");Ua(this,"ttlResolution");Ua(this,"ttlAutopurge");Ua(this,"updateAgeOnGet");Ua(this,"updateAgeOnHas");Ua(this,"allowStale");Ua(this,"noDisposeOnSet");Ua(this,"noUpdateTTL");Ua(this,"maxEntrySize");Ua(this,"sizeCalculation");Ua(this,"noDeleteOnFetchRejection");Ua(this,"noDeleteOnStaleGet");Ua(this,"allowStaleOnFetchAbort");Ua(this,"allowStaleOnFetchRejection");Ua(this,"ignoreFetchAbort");Wa(this,Bu);Wa(this,Qu);Wa(this,Ru);Wa(this,Au);Wa(this,su);Wa(this,Fu);Wa(this,Gu);Wa(this,Du);Wa(this,Ou);Wa(this,tc);Wa(this,Iu);Wa(this,rc);Wa(this,ic);Wa(this,zu);Wa(this,nc);Wa(this,Ic);Wa(this,qu);Wa(this,Wc,()=>{});Wa(this,pc,()=>{});Wa(this,$l,()=>{});Wa(this,Wu,()=>!1);Wa(this,Vc,e=>{});Wa(this,ml,(e,i,n)=>{});Wa(this,Sl,(e,i,n,s)=>{if(n||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Ua(this,d0,"LRUCache");const{max:i=0,ttl:n,ttlResolution:s=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:A,allowStale:T,dispose:q,disposeAfter:et,noDisposeOnSet:xi,noUpdateTTL:Oi,maxSize:Ts=0,maxEntrySize:Fs=0,sizeCalculation:qs,fetchMethod:Us,memoMethod:Ls,noDeleteOnFetchRejection:Gs,noDeleteOnStaleGet:zs,allowStaleOnFetchRejection:Vs,allowStaleOnFetchAbort:Zs,ignoreFetchAbort:Js}=e;if(i!==0&&!isPosInt(i))throw new TypeError("max option must be a nonnegative integer");const xo=i?getUintArray(i):Array;if(!xo)throw new Error("invalid max value: "+i);if(qa(this,Xu,i),qa(this,Hu,Ts),this.maxEntrySize=Fs||Wo(this,Hu),this.sizeCalculation=qs,this.sizeCalculation){if(!Wo(this,Hu)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Ls!==void 0&&typeof Ls!="function")throw new TypeError("memoMethod must be a function if defined");if(qa(this,pl,Ls),Us!==void 0&&typeof Us!="function")throw new TypeError("fetchMethod must be a function if specified");if(qa(this,hl,Us),qa(this,Ic,!!Us),qa(this,Ru,new Map),qa(this,Au,new Array(i).fill(void 0)),qa(this,su,new Array(i).fill(void 0)),qa(this,Fu,new xo(i)),qa(this,Gu,new xo(i)),qa(this,Du,0),qa(this,Ou,0),qa(this,tc,Stack$1.create(i)),qa(this,Bu,0),qa(this,Qu,0),typeof q=="function"&&qa(this,Ju,q),typeof et=="function"?(qa(this,Yu,et),qa(this,Iu,[])):(qa(this,Yu,void 0),qa(this,Iu,void 0)),qa(this,nc,!!Wo(this,Ju)),qa(this,qu,!!Wo(this,Yu)),this.noDisposeOnSet=!!xi,this.noUpdateTTL=!!Oi,this.noDeleteOnFetchRejection=!!Gs,this.allowStaleOnFetchRejection=!!Vs,this.allowStaleOnFetchAbort=!!Zs,this.ignoreFetchAbort=!!Js,this.maxEntrySize!==0){if(Wo(this,Hu)!==0&&!isPosInt(Wo(this,Hu)))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ha(this,Va,g0).call(this)}if(this.allowStale=!!T,this.noDeleteOnStaleGet=!!zs,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!A,this.ttlResolution=isPosInt(s)||s===0?s:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ha(this,Va,Vl).call(this)}if(Wo(this,Xu)===0&&this.ttl===0&&Wo(this,Hu)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!Wo(this,Xu)&&!Wo(this,Hu)){const Io="LRU_CACHE_UNBOUNDED";shouldWarn(Io)&&(warned.add(Io),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Io,Yl))}}static unsafeExposeInternals(e){return{starts:Wo(e,ic),ttls:Wo(e,zu),sizes:Wo(e,rc),keyMap:Wo(e,Ru),keyList:Wo(e,Au),valList:Wo(e,su),next:Wo(e,Fu),prev:Wo(e,Gu),get head(){return Wo(e,Du)},get tail(){return Wo(e,Ou)},free:Wo(e,tc),isBackgroundFetch:i=>{var n;return Ha(n=e,Va,Mu).call(n,i)},backgroundFetch:(i,n,s,a)=>{var l;return Ha(l=e,Va,Al).call(l,i,n,s,a)},moveToTail:i=>{var n;return Ha(n=e,Va,_l).call(n,i)},indexes:i=>{var n;return Ha(n=e,Va,_c).call(n,i)},rindexes:i=>{var n;return Ha(n=e,Va,bc).call(n,i)},isStale:i=>{var n;return Wo(n=e,Wu).call(n,i)}}}get max(){return Wo(this,Xu)}get maxSize(){return Wo(this,Hu)}get calculatedSize(){return Wo(this,Qu)}get size(){return Wo(this,Bu)}get fetchMethod(){return Wo(this,hl)}get memoMethod(){return Wo(this,pl)}get dispose(){return Wo(this,Ju)}get disposeAfter(){return Wo(this,Yu)}getRemainingTTL(e){return Wo(this,Ru).has(e)?1/0:0}*entries(){for(const e of Ha(this,Va,_c).call(this))Wo(this,su)[e]!==void 0&&Wo(this,Au)[e]!==void 0&&!Ha(this,Va,Mu).call(this,Wo(this,su)[e])&&(yield[Wo(this,Au)[e],Wo(this,su)[e]])}*rentries(){for(const e of Ha(this,Va,bc).call(this))Wo(this,su)[e]!==void 0&&Wo(this,Au)[e]!==void 0&&!Ha(this,Va,Mu).call(this,Wo(this,su)[e])&&(yield[Wo(this,Au)[e],Wo(this,su)[e]])}*keys(){for(const e of Ha(this,Va,_c).call(this)){const i=Wo(this,Au)[e];i!==void 0&&!Ha(this,Va,Mu).call(this,Wo(this,su)[e])&&(yield i)}}*rkeys(){for(const e of Ha(this,Va,bc).call(this)){const i=Wo(this,Au)[e];i!==void 0&&!Ha(this,Va,Mu).call(this,Wo(this,su)[e])&&(yield i)}}*values(){for(const e of Ha(this,Va,_c).call(this))Wo(this,su)[e]!==void 0&&!Ha(this,Va,Mu).call(this,Wo(this,su)[e])&&(yield Wo(this,su)[e])}*rvalues(){for(const e of Ha(this,Va,bc).call(this))Wo(this,su)[e]!==void 0&&!Ha(this,Va,Mu).call(this,Wo(this,su)[e])&&(yield Wo(this,su)[e])}[(f0=Symbol.iterator,d0=Symbol.toStringTag,f0)](){return this.entries()}find(e,i={}){for(const n of Ha(this,Va,_c).call(this)){const s=Wo(this,su)[n],a=Ha(this,Va,Mu).call(this,s)?s.__staleWhileFetching:s;if(a!==void 0&&e(a,Wo(this,Au)[n],this))return this.get(Wo(this,Au)[n],i)}}forEach(e,i=this){for(const n of Ha(this,Va,_c).call(this)){const s=Wo(this,su)[n],a=Ha(this,Va,Mu).call(this,s)?s.__staleWhileFetching:s;a!==void 0&&e.call(i,a,Wo(this,Au)[n],this)}}rforEach(e,i=this){for(const n of Ha(this,Va,bc).call(this)){const s=Wo(this,su)[n],a=Ha(this,Va,Mu).call(this,s)?s.__staleWhileFetching:s;a!==void 0&&e.call(i,a,Wo(this,Au)[n],this)}}purgeStale(){let e=!1;for(const i of Ha(this,Va,bc).call(this,{allowStale:!0}))Wo(this,Wu).call(this,i)&&(Ha(this,Va,vc).call(this,Wo(this,Au)[i],"expire"),e=!0);return e}info(e){const i=Wo(this,Ru).get(e);if(i===void 0)return;const n=Wo(this,su)[i],s=Ha(this,Va,Mu).call(this,n)?n.__staleWhileFetching:n;if(s===void 0)return;const a={value:s};if(Wo(this,zu)&&Wo(this,ic)){const l=Wo(this,zu)[i],A=Wo(this,ic)[i];if(l&&A){const T=l-(perf.now()-A);a.ttl=T,a.start=Date.now()}}return Wo(this,rc)&&(a.size=Wo(this,rc)[i]),a}dump(){const e=[];for(const i of Ha(this,Va,_c).call(this,{allowStale:!0})){const n=Wo(this,Au)[i],s=Wo(this,su)[i],a=Ha(this,Va,Mu).call(this,s)?s.__staleWhileFetching:s;if(a===void 0||n===void 0)continue;const l={value:a};if(Wo(this,zu)&&Wo(this,ic)){l.ttl=Wo(this,zu)[i];const A=perf.now()-Wo(this,ic)[i];l.start=Math.floor(Date.now()-A)}Wo(this,rc)&&(l.size=Wo(this,rc)[i]),e.unshift([n,l])}return e}load(e){this.clear();for(const[i,n]of e){if(n.start){const s=Date.now()-n.start;n.start=perf.now()-s}this.set(i,n.value,n)}}set(e,i,n={}){var Oi,Ts,Fs,qs,Us;if(i===void 0)return this.delete(e),this;const{ttl:s=this.ttl,start:a,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:A=this.sizeCalculation,status:T}=n;let{noUpdateTTL:q=this.noUpdateTTL}=n;const et=Wo(this,Sl).call(this,e,i,n.size||0,A);if(this.maxEntrySize&&et>this.maxEntrySize)return T&&(T.set="miss",T.maxEntrySizeExceeded=!0),Ha(this,Va,vc).call(this,e,"set"),this;let xi=Wo(this,Bu)===0?void 0:Wo(this,Ru).get(e);if(xi===void 0)xi=Wo(this,Bu)===0?Wo(this,Ou):Wo(this,tc).length!==0?Wo(this,tc).pop():Wo(this,Bu)===Wo(this,Xu)?Ha(this,Va,Ml).call(this,!1):Wo(this,Bu),Wo(this,Au)[xi]=e,Wo(this,su)[xi]=i,Wo(this,Ru).set(e,xi),Wo(this,Fu)[Wo(this,Ou)]=xi,Wo(this,Gu)[xi]=Wo(this,Ou),qa(this,Ou,xi),Pc(this,Bu)._++,Wo(this,ml).call(this,xi,et,T),T&&(T.set="add"),q=!1;else{Ha(this,Va,_l).call(this,xi);const Ls=Wo(this,su)[xi];if(i!==Ls){if(Wo(this,Ic)&&Ha(this,Va,Mu).call(this,Ls)){Ls.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Gs}=Ls;Gs!==void 0&&!l&&(Wo(this,nc)&&((Oi=Wo(this,Ju))==null||Oi.call(this,Gs,e,"set")),Wo(this,qu)&&((Ts=Wo(this,Iu))==null||Ts.push([Gs,e,"set"])))}else l||(Wo(this,nc)&&((Fs=Wo(this,Ju))==null||Fs.call(this,Ls,e,"set")),Wo(this,qu)&&((qs=Wo(this,Iu))==null||qs.push([Ls,e,"set"])));if(Wo(this,Vc).call(this,xi),Wo(this,ml).call(this,xi,et,T),Wo(this,su)[xi]=i,T){T.set="replace";const Gs=Ls&&Ha(this,Va,Mu).call(this,Ls)?Ls.__staleWhileFetching:Ls;Gs!==void 0&&(T.oldValue=Gs)}}else T&&(T.set="update")}if(s!==0&&!Wo(this,zu)&&Ha(this,Va,Vl).call(this),Wo(this,zu)&&(q||Wo(this,$l).call(this,xi,s,a),T&&Wo(this,pc).call(this,T,xi)),!l&&Wo(this,qu)&&Wo(this,Iu)){const Ls=Wo(this,Iu);let Gs;for(;Gs=Ls==null?void 0:Ls.shift();)(Us=Wo(this,Yu))==null||Us.call(this,...Gs)}return this}pop(){var e;try{for(;Wo(this,Bu);){const i=Wo(this,su)[Wo(this,Du)];if(Ha(this,Va,Ml).call(this,!0),Ha(this,Va,Mu).call(this,i)){if(i.__staleWhileFetching)return i.__staleWhileFetching}else if(i!==void 0)return i}}finally{if(Wo(this,qu)&&Wo(this,Iu)){const i=Wo(this,Iu);let n;for(;n=i==null?void 0:i.shift();)(e=Wo(this,Yu))==null||e.call(this,...n)}}}has(e,i={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:s}=i,a=Wo(this,Ru).get(e);if(a!==void 0){const l=Wo(this,su)[a];if(Ha(this,Va,Mu).call(this,l)&&l.__staleWhileFetching===void 0)return!1;if(Wo(this,Wu).call(this,a))s&&(s.has="stale",Wo(this,pc).call(this,s,a));else return n&&Wo(this,Wc).call(this,a),s&&(s.has="hit",Wo(this,pc).call(this,s,a)),!0}else s&&(s.has="miss");return!1}peek(e,i={}){const{allowStale:n=this.allowStale}=i,s=Wo(this,Ru).get(e);if(s===void 0||!n&&Wo(this,Wu).call(this,s))return;const a=Wo(this,su)[s];return Ha(this,Va,Mu).call(this,a)?a.__staleWhileFetching:a}async fetch(e,i={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:A=this.noDisposeOnSet,size:T=0,sizeCalculation:q=this.sizeCalculation,noUpdateTTL:et=this.noUpdateTTL,noDeleteOnFetchRejection:xi=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Oi=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ts=this.ignoreFetchAbort,allowStaleOnFetchAbort:Fs=this.allowStaleOnFetchAbort,context:qs,forceRefresh:Us=!1,status:Ls,signal:Gs}=i;if(!Wo(this,Ic))return Ls&&(Ls.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:a,status:Ls});const zs={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:a,ttl:l,noDisposeOnSet:A,size:T,sizeCalculation:q,noUpdateTTL:et,noDeleteOnFetchRejection:xi,allowStaleOnFetchRejection:Oi,allowStaleOnFetchAbort:Fs,ignoreFetchAbort:Ts,status:Ls,signal:Gs};let Vs=Wo(this,Ru).get(e);if(Vs===void 0){Ls&&(Ls.fetch="miss");const Zs=Ha(this,Va,Al).call(this,e,Vs,zs,qs);return Zs.__returned=Zs}else{const Zs=Wo(this,su)[Vs];if(Ha(this,Va,Mu).call(this,Zs)){const Fo=n&&Zs.__staleWhileFetching!==void 0;return Ls&&(Ls.fetch="inflight",Fo&&(Ls.returnedStale=!0)),Fo?Zs.__staleWhileFetching:Zs.__returned=Zs}const Js=Wo(this,Wu).call(this,Vs);if(!Us&&!Js)return Ls&&(Ls.fetch="hit"),Ha(this,Va,_l).call(this,Vs),s&&Wo(this,Wc).call(this,Vs),Ls&&Wo(this,pc).call(this,Ls,Vs),Zs;const xo=Ha(this,Va,Al).call(this,e,Vs,zs,qs),Uo=xo.__staleWhileFetching!==void 0&&n;return Ls&&(Ls.fetch=Js?"stale":"refresh",Uo&&Js&&(Ls.returnedStale=!0)),Uo?xo.__staleWhileFetching:xo.__returned=xo}}async forceFetch(e,i={}){const n=await this.fetch(e,i);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,i={}){const n=Wo(this,pl);if(!n)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:a,...l}=i,A=this.get(e,l);if(!a&&A!==void 0)return A;const T=n(e,A,{options:l,context:s});return this.set(e,T,l),T}get(e,i={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:l}=i,A=Wo(this,Ru).get(e);if(A!==void 0){const T=Wo(this,su)[A],q=Ha(this,Va,Mu).call(this,T);return l&&Wo(this,pc).call(this,l,A),Wo(this,Wu).call(this,A)?(l&&(l.get="stale"),q?(l&&n&&T.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?T.__staleWhileFetching:void 0):(a||Ha(this,Va,vc).call(this,e,"expire"),l&&n&&(l.returnedStale=!0),n?T:void 0)):(l&&(l.get="hit"),q?T.__staleWhileFetching:(Ha(this,Va,_l).call(this,A),s&&Wo(this,Wc).call(this,A),T))}else l&&(l.get="miss")}delete(e){return Ha(this,Va,vc).call(this,e,"delete")}clear(){return Ha(this,Va,Xl).call(this,"delete")}};Xu=new WeakMap,Hu=new WeakMap,Ju=new WeakMap,Yu=new WeakMap,hl=new WeakMap,pl=new WeakMap,Bu=new WeakMap,Qu=new WeakMap,Ru=new WeakMap,Au=new WeakMap,su=new WeakMap,Fu=new WeakMap,Gu=new WeakMap,Du=new WeakMap,Ou=new WeakMap,tc=new WeakMap,Iu=new WeakMap,rc=new WeakMap,ic=new WeakMap,zu=new WeakMap,nc=new WeakMap,Ic=new WeakMap,qu=new WeakMap,Va=new WeakSet,Vl=function(){const e=new ZeroArray(Wo(this,Xu)),i=new ZeroArray(Wo(this,Xu));qa(this,zu,e),qa(this,ic,i),qa(this,$l,(a,l,A=perf.now())=>{if(i[a]=l!==0?A:0,e[a]=l,l!==0&&this.ttlAutopurge){const T=setTimeout(()=>{Wo(this,Wu).call(this,a)&&Ha(this,Va,vc).call(this,Wo(this,Au)[a],"expire")},l+1);T.unref&&T.unref()}}),qa(this,Wc,a=>{i[a]=e[a]!==0?perf.now():0}),qa(this,pc,(a,l)=>{if(e[l]){const A=e[l],T=i[l];if(!A||!T)return;a.ttl=A,a.start=T,a.now=n||s();const q=a.now-T;a.remainingTTL=A-q}});let n=0;const s=()=>{const a=perf.now();if(this.ttlResolution>0){n=a;const l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return a};this.getRemainingTTL=a=>{const l=Wo(this,Ru).get(a);if(l===void 0)return 0;const A=e[l],T=i[l];if(!A||!T)return 1/0;const q=(n||s())-T;return A-q},qa(this,Wu,a=>{const l=i[a],A=e[a];return!!A&&!!l&&(n||s())-l>A})},Wc=new WeakMap,pc=new WeakMap,$l=new WeakMap,Wu=new WeakMap,g0=function(){const e=new ZeroArray(Wo(this,Xu));qa(this,Qu,0),qa(this,rc,e),qa(this,Vc,i=>{qa(this,Qu,Wo(this,Qu)-e[i]),e[i]=0}),qa(this,Sl,(i,n,s,a)=>{if(Ha(this,Va,Mu).call(this,n))return 0;if(!isPosInt(s))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(s=a(n,i),!isPosInt(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s}),qa(this,ml,(i,n,s)=>{if(e[i]=n,Wo(this,Hu)){const a=Wo(this,Hu)-e[i];for(;Wo(this,Qu)>a;)Ha(this,Va,Ml).call(this,!0)}qa(this,Qu,Wo(this,Qu)+e[i]),s&&(s.entrySize=n,s.totalCalculatedSize=Wo(this,Qu))})},Vc=new WeakMap,ml=new WeakMap,Sl=new WeakMap,_c=function*({allowStale:e=this.allowStale}={}){if(Wo(this,Bu))for(let i=Wo(this,Ou);!(!Ha(this,Va,Kl).call(this,i)||((e||!Wo(this,Wu).call(this,i))&&(yield i),i===Wo(this,Du)));)i=Wo(this,Gu)[i]},bc=function*({allowStale:e=this.allowStale}={}){if(Wo(this,Bu))for(let i=Wo(this,Du);!(!Ha(this,Va,Kl).call(this,i)||((e||!Wo(this,Wu).call(this,i))&&(yield i),i===Wo(this,Ou)));)i=Wo(this,Fu)[i]},Kl=function(e){return e!==void 0&&Wo(this,Ru).get(Wo(this,Au)[e])===e},Ml=function(e){var a,l;const i=Wo(this,Du),n=Wo(this,Au)[i],s=Wo(this,su)[i];return Wo(this,Ic)&&Ha(this,Va,Mu).call(this,s)?s.__abortController.abort(new Error("evicted")):(Wo(this,nc)||Wo(this,qu))&&(Wo(this,nc)&&((a=Wo(this,Ju))==null||a.call(this,s,n,"evict")),Wo(this,qu)&&((l=Wo(this,Iu))==null||l.push([s,n,"evict"]))),Wo(this,Vc).call(this,i),e&&(Wo(this,Au)[i]=void 0,Wo(this,su)[i]=void 0,Wo(this,tc).push(i)),Wo(this,Bu)===1?(qa(this,Du,qa(this,Ou,0)),Wo(this,tc).length=0):qa(this,Du,Wo(this,Fu)[i]),Wo(this,Ru).delete(n),Pc(this,Bu)._--,i},Al=function(e,i,n,s){const a=i===void 0?void 0:Wo(this,su)[i];if(Ha(this,Va,Mu).call(this,a))return a;const l=new AC,{signal:A}=n;A==null||A.addEventListener("abort",()=>l.abort(A.reason),{signal:l.signal});const T={signal:l.signal,options:n,context:s},q=(qs,Us=!1)=>{const{aborted:Ls}=l.signal,Gs=n.ignoreFetchAbort&&qs!==void 0;if(n.status&&(Ls&&!Us?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,Gs&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),Ls&&!Gs&&!Us)return xi(l.signal.reason);const zs=Ts;return Wo(this,su)[i]===Ts&&(qs===void 0?zs.__staleWhileFetching?Wo(this,su)[i]=zs.__staleWhileFetching:Ha(this,Va,vc).call(this,e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,qs,T.options))),qs},et=qs=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=qs),xi(qs)),xi=qs=>{const{aborted:Us}=l.signal,Ls=Us&&n.allowStaleOnFetchAbort,Gs=Ls||n.allowStaleOnFetchRejection,zs=Gs||n.noDeleteOnFetchRejection,Vs=Ts;if(Wo(this,su)[i]===Ts&&(!zs||Vs.__staleWhileFetching===void 0?Ha(this,Va,vc).call(this,e,"fetch"):Ls||(Wo(this,su)[i]=Vs.__staleWhileFetching)),Gs)return n.status&&Vs.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),Vs.__staleWhileFetching;if(Vs.__returned===Vs)throw qs},Oi=(qs,Us)=>{var Gs;const Ls=(Gs=Wo(this,hl))==null?void 0:Gs.call(this,e,a,T);Ls&&Ls instanceof Promise&&Ls.then(zs=>qs(zs===void 0?void 0:zs),Us),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(qs(void 0),n.allowStaleOnFetchAbort&&(qs=zs=>q(zs,!0)))})};n.status&&(n.status.fetchDispatched=!0);const Ts=new Promise(Oi).then(q,et),Fs=Object.assign(Ts,{__abortController:l,__staleWhileFetching:a,__returned:void 0});return i===void 0?(this.set(e,Fs,{...T.options,status:void 0}),i=Wo(this,Ru).get(e)):Wo(this,su)[i]=Fs,Fs},Mu=function(e){if(!Wo(this,Ic))return!1;const i=e;return!!i&&i instanceof Promise&&i.hasOwnProperty("__staleWhileFetching")&&i.__abortController instanceof AC},Zl=function(e,i){Wo(this,Gu)[i]=e,Wo(this,Fu)[e]=i},_l=function(e){e!==Wo(this,Ou)&&(e===Wo(this,Du)?qa(this,Du,Wo(this,Fu)[e]):Ha(this,Va,Zl).call(this,Wo(this,Gu)[e],Wo(this,Fu)[e]),Ha(this,Va,Zl).call(this,Wo(this,Ou),e),qa(this,Ou,e))},vc=function(e,i){var s,a,l,A;let n=!1;if(Wo(this,Bu)!==0){const T=Wo(this,Ru).get(e);if(T!==void 0)if(n=!0,Wo(this,Bu)===1)Ha(this,Va,Xl).call(this,i);else{Wo(this,Vc).call(this,T);const q=Wo(this,su)[T];if(Ha(this,Va,Mu).call(this,q)?q.__abortController.abort(new Error("deleted")):(Wo(this,nc)||Wo(this,qu))&&(Wo(this,nc)&&((s=Wo(this,Ju))==null||s.call(this,q,e,i)),Wo(this,qu)&&((a=Wo(this,Iu))==null||a.push([q,e,i]))),Wo(this,Ru).delete(e),Wo(this,Au)[T]=void 0,Wo(this,su)[T]=void 0,T===Wo(this,Ou))qa(this,Ou,Wo(this,Gu)[T]);else if(T===Wo(this,Du))qa(this,Du,Wo(this,Fu)[T]);else{const et=Wo(this,Gu)[T];Wo(this,Fu)[et]=Wo(this,Fu)[T];const xi=Wo(this,Fu)[T];Wo(this,Gu)[xi]=Wo(this,Gu)[T]}Pc(this,Bu)._--,Wo(this,tc).push(T)}}if(Wo(this,qu)&&((l=Wo(this,Iu))!=null&&l.length)){const T=Wo(this,Iu);let q;for(;q=T==null?void 0:T.shift();)(A=Wo(this,Yu))==null||A.call(this,...q)}return n},Xl=function(e){var i,n,s;for(const a of Ha(this,Va,bc).call(this,{allowStale:!0})){const l=Wo(this,su)[a];if(Ha(this,Va,Mu).call(this,l))l.__abortController.abort(new Error("deleted"));else{const A=Wo(this,Au)[a];Wo(this,nc)&&((i=Wo(this,Ju))==null||i.call(this,l,A,e)),Wo(this,qu)&&((n=Wo(this,Iu))==null||n.push([l,A,e]))}}if(Wo(this,Ru).clear(),Wo(this,su).fill(void 0),Wo(this,Au).fill(void 0),Wo(this,zu)&&Wo(this,ic)&&(Wo(this,zu).fill(0),Wo(this,ic).fill(0)),Wo(this,rc)&&Wo(this,rc).fill(0),qa(this,Du,0),qa(this,Ou,0),Wo(this,tc).length=0,qa(this,Qu,0),qa(this,Bu,0),Wo(this,qu)&&Wo(this,Iu)){const a=Wo(this,Iu);let l;for(;l=a==null?void 0:a.shift();)(s=Wo(this,Yu))==null||s.call(this,...l)}};let LRUCache=Yl;var isMergeableObject=function(e){return isNonNullObject(e)&&!isSpecial(e)};function isNonNullObject(t){return!!t&&typeof t=="object"}function isSpecial(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||isReactElement(t)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(t){return t.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(t){return Array.isArray(t)?[]:{}}function cloneUnlessOtherwiseSpecified(t,e){return e.clone!==!1&&e.isMergeableObject(t)?deepmerge(emptyTarget(t),t,e):t}function defaultArrayMerge(t,e,i){return t.concat(e).map(function(n){return cloneUnlessOtherwiseSpecified(n,i)})}function getMergeFunction(t,e){if(!e.customMerge)return deepmerge;var i=e.customMerge(t);return typeof i=="function"?i:deepmerge}function getEnumerableOwnPropertySymbols(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function getKeys(t){return Object.keys(t).concat(getEnumerableOwnPropertySymbols(t))}function propertyIsOnObject(t,e){try{return e in t}catch{return!1}}function propertyIsUnsafe(t,e){return propertyIsOnObject(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mergeObject(t,e,i){var n={};return i.isMergeableObject(t)&&getKeys(t).forEach(function(s){n[s]=cloneUnlessOtherwiseSpecified(t[s],i)}),getKeys(e).forEach(function(s){propertyIsUnsafe(t,s)||(propertyIsOnObject(t,s)&&i.isMergeableObject(e[s])?n[s]=getMergeFunction(s,i)(t[s],e[s],i):n[s]=cloneUnlessOtherwiseSpecified(e[s],i))}),n}function deepmerge(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||defaultArrayMerge,i.isMergeableObject=i.isMergeableObject||isMergeableObject,i.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var n=Array.isArray(e),s=Array.isArray(t),a=n===s;return a?n?i.arrayMerge(t,e,i):mergeObject(t,e,i):cloneUnlessOtherwiseSpecified(e,i)}deepmerge.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return deepmerge(n,s,i)},{})};var browserRuntimeAdapter={};setAdapterIfNotSet(browserRuntimeAdapter);var getLastSlashBeforeIndex=(t,e)=>{for(var i=e-1;i>=0;){if(t[i]==="/")return i;i--}return-1},_getDebugFileName=t=>{var e,i=t.lastIndexOf(".css");if(i===-1)return"";var n=getLastSlashBeforeIndex(t,i);if(e=t.slice(n+1,i),n===-1)return e;var s=getLastSlashBeforeIndex(t,n-1),a=t.slice(s+1,n),l=e!=="index"?e:a;return l},memoizedGetDebugFileName=()=>{var t=new LRUCache({max:500});return e=>{var i=t.get(e);if(i)return i;var n=_getDebugFileName(e);return t.set(e,n),n}};memoizedGetDebugFileName();function createGlobalThemeContract(t,e){return walkObject(t,(i,n)=>{var s=typeof e=="function"?e(i,n):i,a=typeof s=="string"?s.replace(/^\-\-/,""):null;if(typeof a!="string"||a!==cssesc$1(a,{isIdentifier:!0}))throw new Error('Invalid variable name for "'.concat(n.join("."),'": ').concat(a));return"var(--".concat(a,")")})}var __create$1=Object.create,__defProp$e=Object.defineProperty,__getOwnPropDesc$d=Object.getOwnPropertyDescriptor,__getOwnPropNames$d=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$d=Object.prototype.hasOwnProperty,__typeError=t=>{throw TypeError(t)},__esm=(t,e)=>function(){return t&&(e=(0,t[__getOwnPropNames$d(t)[0]])(t=0)),e},__commonJS$1=(t,e)=>function(){return e||(0,t[__getOwnPropNames$d(t)[0]])((e={exports:{}}).exports,e),e.exports},__copyProps$d=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$d(e))!__hasOwnProp$d.call(t,s)&&s!==i&&__defProp$e(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$d(e,s))||n.enumerable});return t},__toESM$1=(t,e,i)=>(i=t!=null?__create$1(__getProtoOf$1(t)):{},__copyProps$d(!t||!t.__esModule?__defProp$e(i,"default",{value:t,enumerable:!0}):i,t)),__accessCheck=(t,e,i)=>e.has(t)||__typeError("Cannot "+i),__privateGet=(t,e,i)=>(__accessCheck(t,e,"read from private field"),i?i.call(t):e.get(t)),__privateAdd=(t,e,i)=>e.has(t)?__typeError("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),init_StyleMarker_css_ts_vanilla=__esm({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),require_StyleMarker_css=__commonJS$1({"src/components/styling/StyleMarker.css.ts"(){init_StyleMarker_css_ts_vanilla()}});function createInMemoryStore(){const t=new Map;return{getItem(e){return t.get(e)},setItem(e,i){t.set(e,i)},removeItem(e){t.delete(e)}}}var SUI_WALLET_NAME="Sui Wallet",DEFAULT_STORAGE=typeof window<"u"&&window.localStorage?localStorage:createInMemoryStore(),DEFAULT_STORAGE_KEY="sui-dapp-kit:wallet-connection-info",SIGN_FEATURES=["sui:signTransaction","sui:signTransactionBlock"],DEFAULT_WALLET_FILTER=t=>SIGN_FEATURES.some(e=>t.features[e]),DEFAULT_PREFERRED_WALLETS=[SUI_WALLET_NAME,SLUSH_WALLET_NAME],walletMutationKeys={all:{baseScope:"wallet"},connectWallet:formMutationKeyFn("connect-wallet"),autoconnectWallet:formMutationKeyFn("autoconnect-wallet"),disconnectWallet:formMutationKeyFn("disconnect-wallet"),signPersonalMessage:formMutationKeyFn("sign-personal-message"),signTransaction:formMutationKeyFn("sign-transaction"),signAndExecuteTransaction:formMutationKeyFn("sign-and-execute-transaction"),switchAccount:formMutationKeyFn("switch-account"),reportTransactionEffects:formMutationKeyFn("report-transaction-effects")};function formMutationKeyFn(t){return function(i=[]){return[{...walletMutationKeys.all,baseEntity:t},...i]}}var WalletContext=reactExports.createContext(null);function useWalletStore(t){const e=reactExports.useContext(WalletContext);if(!e)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return useStore(e,t)}function useConnectWallet({mutationKey:t,...e}={}){const i=useWalletStore(s=>s.setWalletConnected),n=useWalletStore(s=>s.setConnectionStatus);return useMutation({mutationKey:walletMutationKeys.connectWallet(t),mutationFn:async({wallet:s,accountAddress:a,...l})=>{try{n("connecting");const A=await s.features["standard:connect"].connect(l),T=A.accounts.filter(et=>et.chains.some(xi=>xi.split(":")[0]==="sui")),q=getSelectedAccount(T,a);return i(s,T,q,A.supportedIntents),{accounts:T}}catch(A){throw n("disconnected"),A}},...e})}function getSelectedAccount(t,e){return t.length===0?null:e?t.find(n=>n.address===e)??t[0]:t[0]}function useWallets(){return useWalletStore(t=>t.wallets)}function getRegisteredWallets(t,e){const s=getWallets().get().filter(a=>isWalletWithRequiredFeatureSet(a)&&(!e||e(a)));return[...t.map(a=>s.find(l=>l.name===a)).filter(Boolean),...s.filter(a=>!t.includes(a.name))]}function getWalletUniqueIdentifier(t){return(t==null?void 0:t.id)??(t==null?void 0:t.name)}var styleDataAttributeName="data-dapp-kit",styleDataAttributeSelector=`[${styleDataAttributeName}]`,styleDataAttribute={[styleDataAttributeName]:""};__toESM$1(require_StyleMarker_css());var StyleMarker=reactExports.forwardRef(({children:t,...e},i)=>jsxRuntimeExports.jsx(Slot,{ref:i,...e,...styleDataAttribute,children:t}));StyleMarker.displayName="StyleMarker";var headingVariants=createRuntimeFn({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),Heading=reactExports.forwardRef(({children:t,className:e,asChild:i=!1,as:n="h1",size:s,weight:a,truncate:l,...A},T)=>jsxRuntimeExports.jsx(Slot,{...A,ref:T,className:clsx(headingVariants({size:s,weight:a,truncate:l}),e),children:i?t:jsxRuntimeExports.jsx(n,{children:t})}));Heading.displayName="Heading";var container="IconButton_container__s6n7bq0",IconButton=reactExports.forwardRef(({className:t,asChild:e=!1,...i},n)=>{const s=e?Slot:"button";return jsxRuntimeExports.jsx(s,{...i,className:clsx(container,t),ref:n})});IconButton.displayName="Button";var buttonVariants=createRuntimeFn({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),Button=reactExports.forwardRef(({className:t,variant:e,size:i,asChild:n=!1,...s},a)=>{const l=n?Slot:"button";return jsxRuntimeExports.jsx(l,{...s,className:clsx(buttonVariants({variant:e,size:i}),t),ref:a})});Button.displayName="Button";var textVariants=createRuntimeFn({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),Text=reactExports.forwardRef(({children:t,className:e,asChild:i=!1,as:n="div",size:s,weight:a,color:l,mono:A,...T},q)=>jsxRuntimeExports.jsx(Slot,{...T,ref:q,className:clsx(textVariants({size:s,weight:a,color:l,mono:A}),e),children:i?t:jsxRuntimeExports.jsx(n,{children:t})}));Text.displayName="Text";function useCurrentAccount(){return useWalletStore(t=>t.currentAccount)}var SuiClientContext=reactExports.createContext(null),DEFAULT_NETWORKS={localnet:{url:getFullnodeUrl("localnet")}},DEFAULT_CREATE_CLIENT=function(e,i){return isSuiClient(i)?i:new SuiClient(i)};function SuiClientProvider(t){const{onNetworkChange:e,network:i,children:n}=t,s=t.networks??DEFAULT_NETWORKS,a=t.createClient??DEFAULT_CREATE_CLIENT,[l,A]=reactExports.useState(t.network??t.defaultNetwork??Object.keys(s)[0]),T=t.network??l,q=reactExports.useMemo(()=>a(T,s[T]),[a,T,s]),et=reactExports.useMemo(()=>({client:q,networks:s,network:T,config:s[T]instanceof SuiClient?null:s[T],selectNetwork:xi=>{T!==xi&&(!i&&xi!==l&&A(xi),e==null||e(xi))}}),[q,s,l,T,i,e]);return jsxRuntimeExports.jsx(SuiClientContext.Provider,{value:et,children:n})}function useSuiClientContext(){const t=reactExports.useContext(SuiClientContext);if(!t)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return t}function useSuiClient(){return useSuiClientContext().client}var WalletNotConnectedError=class extends Error{},WalletNoAccountSelectedError=class extends Error{},WalletFeatureNotSupportedError=class extends Error{},WalletAccountNotFoundError=class extends Error{};function useCurrentWallet(){const t=useWalletStore(n=>n.currentWallet),e=useWalletStore(n=>n.connectionStatus),i=useWalletStore(n=>n.supportedIntents);switch(e){case"connecting":return{connectionStatus:e,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:e,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:e,currentWallet:t,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:i}}}function useDisconnectWallet({mutationKey:t,...e}={}){const{currentWallet:i}=useCurrentWallet(),n=useWalletStore(s=>s.setWalletDisconnected);return useMutation({mutationKey:walletMutationKeys.disconnectWallet(t),mutationFn:async()=>{var s;if(!i)throw new WalletNotConnectedError("No wallet is connected.");try{await((s=i.features["standard:disconnect"])==null?void 0:s.disconnect())}catch(a){console.error("Failed to disconnect the application from the current wallet.",a)}n()},...e})}function useSwitchAccount({mutationKey:t,...e}={}){const{currentWallet:i}=useCurrentWallet(),n=useWalletStore(s=>s.setAccountSwitched);return useMutation({mutationKey:walletMutationKeys.switchAccount(t),mutationFn:async({account:s})=>{if(!i)throw new WalletNotConnectedError("No wallet is connected.");const a=i.accounts.find(l=>l.address===s.address);if(!a)throw new WalletAccountNotFoundError(`No account with address ${s.address} is connected to ${i.name}.`);n(a)},...e})}function useAutoConnectWallet(){const{mutateAsync:t}=useConnectWallet(),e=useWalletStore(et=>et.autoConnectEnabled),i=useWalletStore(et=>et.lastConnectedWalletName),n=useWalletStore(et=>et.lastConnectedAccountAddress),s=useWallets(),{isConnected:a}=useCurrentWallet(),[l,A]=reactExports.useState(!1);reactExports.useLayoutEffect(()=>{A(!0)},[]);const{data:T,isError:q}=useQuery({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:a,autoConnectEnabled:e,lastConnectedWalletName:i,lastConnectedAccountAddress:n,walletCount:s.length}],queryFn:async()=>{if(!e)return"disabled";if(!i||!n||a)return"attempted";const et=s.find(xi=>getWalletUniqueIdentifier(xi)===i);return et&&await t({wallet:et,accountAddress:n,silent:!0}),"attempted"},enabled:e,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return e?l?a||!i||q?"attempted":T??"idle":"idle":"disabled"}function useSlushWallet(t){reactExports.useLayoutEffect(()=>{if(!(t!=null&&t.name))return;let e,i=!0;return(async()=>{try{const s=await registerSlushWallet(t.name,{origin:t.origin});i&&s?e=s.unregister:s&&s.unregister()}catch(s){console.error("Failed to register Slush wallet:",s)}})(),()=>{i=!1,e&&e()}},[t==null?void 0:t.name,t==null?void 0:t.origin])}var WALLET_NAME="Unsafe Burner Wallet";function useUnsafeBurnerWallet(t){const e=useSuiClient();reactExports.useEffect(()=>t?registerUnsafeBurnerWallet(e):void 0,[t,e])}function registerUnsafeBurnerWallet(t){var e,i,n,s,a,l,A;const T=getWallets();if(T.get().find(Ts=>Ts.name===WALLET_NAME)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const et=new Ed25519Keypair,xi=new ReadonlyWalletAccount({address:et.getPublicKey().toSuiAddress(),publicKey:et.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class Oi{constructor(){__privateAdd(this,e,()=>()=>{}),__privateAdd(this,i,async()=>({accounts:this.accounts})),__privateAdd(this,n,async Fs=>{const{bytes:qs,signature:Us}=await et.signPersonalMessage(Fs.message);return{bytes:qs,signature:Us}}),__privateAdd(this,s,async Fs=>{const{bytes:qs,signature:Us}=await Fs.transactionBlock.sign({client:t,signer:et});return{transactionBlockBytes:qs,signature:Us}}),__privateAdd(this,a,async Fs=>{var Ls;const{bytes:qs,signature:Us}=await Transaction.from(await Fs.transaction.toJSON()).sign({client:t,signer:et});return(Ls=Fs.signal)==null||Ls.throwIfAborted(),{bytes:qs,signature:Us}}),__privateAdd(this,l,async Fs=>{const{bytes:qs,signature:Us}=await Fs.transactionBlock.sign({client:t,signer:et});return t.executeTransactionBlock({signature:Us,transactionBlock:qs,options:Fs.options})}),__privateAdd(this,A,async Fs=>{var zs;const{bytes:qs,signature:Us}=await Transaction.from(await Fs.transaction.toJSON()).sign({client:t,signer:et});(zs=Fs.signal)==null||zs.throwIfAborted();const{rawEffects:Ls,digest:Gs}=await t.executeTransactionBlock({signature:Us,transactionBlock:qs,options:{showRawEffects:!0}});return{bytes:qs,signature:Us,digest:Gs,effects:toBase64(new Uint8Array(Ls))}})}get version(){return"1.0.0"}get name(){return WALLET_NAME}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return SUI_CHAINS}get accounts(){return[xi]}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet(this,i)},"standard:events":{version:"1.0.0",on:__privateGet(this,e)},"sui:signPersonalMessage":{version:"1.1.0",signPersonalMessage:__privateGet(this,n)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet(this,s)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:__privateGet(this,l)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet(this,a)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:__privateGet(this,A)}}}}return e=new WeakMap,i=new WeakMap,n=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,A=new WeakMap,T.register(new Oi)}function useWalletPropertiesChanged(){const{currentWallet:t}=useCurrentWallet(),e=useWalletStore(i=>i.updateWalletAccounts);reactExports.useEffect(()=>t==null?void 0:t.features["standard:events"].on("change",({accounts:n})=>{n&&e(n)}),[t==null?void 0:t.features,e])}function useWalletsChanged(t,e){const i=useWalletStore(s=>s.setWalletRegistered),n=useWalletStore(s=>s.setWalletUnregistered);reactExports.useEffect(()=>{const s=getWallets();i(getRegisteredWallets(t,e));const a=s.on("register",()=>{i(getRegisteredWallets(t,e))}),l=s.on("unregister",A=>{n(getRegisteredWallets(t,e),A)});return()=>{a(),l()}},[t,e,i,n])}var lightTheme={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function createWalletStore({wallets:t,storage:e,storageKey:i,autoConnectEnabled:n}){return createStore()(persist((s,a)=>({autoConnectEnabled:n,wallets:t,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(l){s(()=>({connectionStatus:l}))},setWalletConnected(l,A,T,q=[]){s(()=>({accounts:A,currentWallet:l,currentAccount:T,lastConnectedWalletName:getWalletUniqueIdentifier(l),lastConnectedAccountAddress:T==null?void 0:T.address,connectionStatus:"connected",supportedIntents:q}))},setWalletDisconnected(){s(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(l){s(()=>({currentAccount:l,lastConnectedAccountAddress:l.address}))},setWalletRegistered(l){s(()=>({wallets:l}))},setWalletUnregistered(l,A){A===a().currentWallet?s(()=>({wallets:l,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):s(()=>({wallets:l}))},updateWalletAccounts(l){const A=a().currentAccount;s(()=>({accounts:l,currentAccount:A&&l.find(({address:T})=>T===A.address)||l[0]}))}}),{name:i,storage:createJSONStorage(()=>e),partialize:({lastConnectedWalletName:s,lastConnectedAccountAddress:a})=>({lastConnectedWalletName:s,lastConnectedAccountAddress:a})}))}var themeContractValues={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},themeVars=createGlobalThemeContract(themeContractValues,(t,e)=>`dapp-kit-${e.join("-")}`);function InjectedThemeStyles({theme:t}){const e=Array.isArray(t)?getDynamicThemeStyles(t):getStaticThemeStyles(t);return jsxRuntimeExports.jsx("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:e}})}function getDynamicThemeStyles(t){return t.map(({mediaQuery:e,selector:i,variables:n})=>{const s=getStaticThemeStyles(n),a=i?`${i} ${s}`:s;return e?`@media ${e}{${a}}`:a}).join(" ")}function getStaticThemeStyles(t){return`${styleDataAttributeSelector} {${cssStringFromTheme(t)}}`}function cssStringFromTheme(t){return Object.entries(assignInlineVars(themeVars,t)).map(([e,i])=>`${e}:${i};`).join("")}function WalletProvider({preferredWallets:t=DEFAULT_PREFERRED_WALLETS,walletFilter:e=DEFAULT_WALLET_FILTER,storage:i=DEFAULT_STORAGE,storageKey:n=DEFAULT_STORAGE_KEY,enableUnsafeBurner:s=!1,autoConnect:a=!1,slushWallet:l,theme:A=lightTheme,children:T}){const q=reactExports.useRef(createWalletStore({autoConnectEnabled:a,wallets:getRegisteredWallets(t,e),storage:i||createInMemoryStore(),storageKey:n}));return jsxRuntimeExports.jsx(WalletContext.Provider,{value:q.current,children:jsxRuntimeExports.jsxs(WalletConnectionManager,{preferredWallets:t,walletFilter:e,enableUnsafeBurner:s,slushWallet:l,children:[A?jsxRuntimeExports.jsx(InjectedThemeStyles,{theme:A}):null,T]})})}function WalletConnectionManager({preferredWallets:t=DEFAULT_PREFERRED_WALLETS,walletFilter:e=DEFAULT_WALLET_FILTER,enableUnsafeBurner:i=!1,slushWallet:n,children:s}){return useWalletsChanged(t,e),useWalletPropertiesChanged(),useSlushWallet(n),useUnsafeBurnerWallet(i),useAutoConnectWallet(),s}function createNetworkConfig(t){function e(){const{config:s}=useSuiClientContext();if(!s)throw new Error("No network config found");return s}function i(){const{variables:s}=e();return s??{}}function n(s){return i()[s]}return{networkConfig:t,useNetworkConfig:e,useNetworkVariables:i,useNetworkVariable:n}}function useReportTransactionEffects({mutationKey:t,...e}={}){const{currentWallet:i}=useCurrentWallet(),n=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.reportTransactionEffects(t),mutationFn:async({effects:s,chain:a=i==null?void 0:i.chains[0],account:l=n})=>{if(!i)throw new WalletNotConnectedError("No wallet is connected.");if(!l)throw new WalletNoAccountSelectedError("No wallet account is selected to report transaction effects for");const A=i.features["sui:reportTransactionEffects"];if(A)return await A.reportTransactionEffects({effects:Array.isArray(s)?toBase64(new Uint8Array(s)):s,account:l,chain:a??(i==null?void 0:i.chains[0])})},...e})}function useSignAndExecuteTransaction({mutationKey:t,execute:e,...i}={}){const{currentWallet:n,supportedIntents:s}=useCurrentWallet(),a=useCurrentAccount(),{client:l,network:A}=useSuiClientContext(),{mutate:T}=useReportTransactionEffects(),q=e??(async({bytes:et,signature:xi})=>{const{digest:Oi,rawEffects:Ts}=await l.executeTransactionBlock({transactionBlock:et,signature:xi,options:{showRawEffects:!0}});return{digest:Oi,rawEffects:Ts,effects:toBase64(new Uint8Array(Ts)),bytes:et,signature:xi}});return useMutation({mutationKey:walletMutationKeys.signAndExecuteTransaction(t),mutationFn:async({transaction:et,...xi})=>{var Gs;if(!n)throw new WalletNotConnectedError("No wallet is connected.");const Oi=xi.account??a;if(!Oi)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");if(!n.features["sui:signTransaction"]&&!n.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const Ts=xi.chain??`sui:${A}`,{signature:Fs,bytes:qs}=await signTransaction(n,{...xi,transaction:{async toJSON(){return typeof et=="string"?et:await et.toJSON({supportedIntents:s,client:l})}},account:Oi,chain:Ts}),Us=await q({bytes:qs,signature:Fs});let Ls;if("effects"in Us&&((Gs=Us.effects)!=null&&Gs.bcs))Ls=Us.effects.bcs;else if("rawEffects"in Us)Ls=toBase64(new Uint8Array(Us.rawEffects));else throw new Error("Could not parse effects from transaction result.");return T({effects:Ls,account:Oi,chain:Ts}),Us},...i})}function useSignPersonalMessage({mutationKey:t,...e}={}){const{currentWallet:i}=useCurrentWallet(),n=useCurrentAccount(),{network:s}=useSuiClientContext();return useMutation({mutationKey:walletMutationKeys.signPersonalMessage(t),mutationFn:async a=>{if(!i)throw new WalletNotConnectedError("No wallet is connected.");const l=a.account??n;if(!l)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the personal message with.");const A=i.features["sui:signPersonalMessage"];if(A)return await A.signPersonalMessage({...a,account:l,chain:a.chain??`sui:${s}`});const T=i.features["sui:signMessage"];if(T){console.warn("This wallet doesn't support the `signPersonalMessage` feature... falling back to `signMessage`.");const{messageBytes:q,signature:et}=await T.signMessage({...a,account:l});return{bytes:q,signature:et}}throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signPersonalMessage` feature.")},...e})}function useSignTransaction({mutationKey:t,...e}={}){const{currentWallet:i}=useCurrentWallet(),n=useCurrentAccount(),{client:s,network:a}=useSuiClientContext(),{mutate:l}=useReportTransactionEffects();return useMutation({mutationKey:walletMutationKeys.signTransaction(t),mutationFn:async({transaction:A,...T})=>{if(!i)throw new WalletNotConnectedError("No wallet is connected.");const q=T.account??n;if(!q)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");if(!i.features["sui:signTransaction"]&&!i.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const et=T.chain??`sui:${a}`,{bytes:xi,signature:Oi}=await signTransaction(i,{...T,transaction:{toJSON:async()=>typeof A=="string"?A:await A.toJSON({supportedIntents:[],client:s})},account:q,chain:et});return{bytes:xi,signature:Oi,reportTransactionEffects:Ts=>{l({effects:Ts,account:q,chain:et})}}},...e})}const store$d=(t,e)=>({globalLoading:!0,setGlobalLoading:i=>{t(()=>({globalLoading:i}))},isScrollTop:!1,setIsScrollTop:i=>{t(()=>({isScrollTop:i}))},phantomInstance:void 0,setPhantomInstance:i=>{t(()=>({phantomInstance:i}))}}),useGlobalStore=create(store$d),scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function(e,i,n){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(i.map(T=>{if(T=assetsURL(T),T in seen)return;seen[T]=!0;const q=T.endsWith(".css"),et=q?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${et}`))return;const xi=document.createElement("link");if(xi.rel=q?"stylesheet":scriptRel,q||(xi.as="script"),xi.crossOrigin="",xi.href=T,A&&xi.setAttribute("nonce",A),document.head.appendChild(xi),q)return new Promise((Oi,Ts)=>{xi.addEventListener("load",Oi),xi.addEventListener("error",()=>Ts(new Error(`Unable to preload CSS for ${T}`)))})}))}function a(l){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=l,window.dispatchEvent(A),!A.defaultPrevented)throw l}return s.then(l=>{for(const A of l||[])A.status==="rejected"&&a(A.reason);return e().catch(a)})},store$c=(t,e)=>({showConvertModel:!0,phaseDividendInfoMap:{},dividendManager:void 0,XCetusManager:void 0,dividendRewardList:[],lockCetusListLoading:!1,veNFT:void 0,veNFTLoading:!1,lockCetusList:[],owner:"",setVeNFTLoading:i=>{t(()=>({veNFTLoading:i}))},setVeNFT:(i,n)=>{t(()=>({veNFT:i,owner:n}))},setLockCetusList:i=>{t(()=>({lockCetusList:[...i]}))},setLockCetusListLoading:i=>{t(()=>({lockCetusListLoading:i}))},setXCetusManager:i=>{t(()=>({XCetusManager:i}))},setDividendManager:i=>{t(()=>({dividendManager:i}))},setDividendRewardList:i=>{t(()=>({dividendRewardList:i}))},setPhaseDividendInfoMap:i=>{const n=e().phaseDividendInfoMap;n[i.phase]=i,t(()=>({phaseDividendInfoMap:{...n}}))},setShowConvertModel:i=>{t(()=>({showConvertModel:i}))},clearData:()=>{t(()=>({veNFT:void 0,owner:"",lockCetusList:[],lockCetusListLoading:!1,veNFTLoading:!1,dividendRewardList:[]}))}}),useXCetusStore=create(persist(store$c,{name:"useXCetusStore",partialize:t=>{const{owner:e,veNFT:i,lockCetusList:n,XCetusManager:s,dividendManager:a,phaseDividendInfoMap:l,showConvertModel:A}=t;return{owner:e,veNFT:i,lockCetusList:n,XCetusManager:s,dividendManager:a,phaseDividendInfoMap:l,showConvertModel:A}}}));function useDebounceFunction(t,e=1e3){const i=reactExports.useRef(),n=reactExports.useCallback((...s)=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{t(...s)},e)},[t,e]);return reactExports.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]),n}function useWindowWidth(){const[t,e]=reactExports.useState(window.innerWidth),i=useDebounceFunction(()=>{e(window.innerWidth)},300);reactExports.useEffect(()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]);const n=reactExports.useMemo(()=>t<810,[t]);return{windowWidth:t,isApp:n}}const isSuiObjectType=t=>t.split("::").length==3,add0x=t=>{let e;return t.startsWith("0x")?e=t:e=`0x${t}`,e},getSuiObjectType=t=>{const e=t.split("::");return e.length==3?`${add0x(e[0])}::${e[1]}::${e[2].toUpperCase()}`.replace(/\s+/g,""):t.toLowerCase()};function suiAddressLongToShort(t){return t.toLocaleLowerCase()=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::sui"?"0x2::sui::SUI":t}function suiAddressShortToLong(t){return t.toLocaleLowerCase()=="0x2::sui::sui"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":t}class LocalForageService{constructor(e,i){Ua(this,"storage");this.storage=localforage.createInstance({name:e,storeName:i})}async setItem(e,i){try{await this.storage.setItem(e,i)}catch(n){console.error(`Failed to set item with key "${e}"`,n)}}async getItem(e){try{return await this.storage.getItem(e)}catch(i){return console.error(`Failed to get item with key "${e}"`,i),null}}async getAllItems(){try{const e=new Map;return await this.storage.iterate((i,n)=>{e.set(n,i)}),e}catch(e){return console.error("Failed to get all items",e),null}}async removeItem(e){try{await this.storage.removeItem(e)}catch(i){console.error(`Failed to remove item with key "${e}"`,i)}}async clear(){try{await this.storage.clear()}catch(e){console.error("Failed to clear storage",e)}}}const Dc=class Dc extends LocalForageService{constructor(){super("CetusSite","allTokens")}static getInstance(){return Dc.instance||(Dc.instance=new Dc),Dc.instance}};Ua(Dc,"instance");let AllTokensTableImpl=Dc;const xc=class xc{static async setItem(e,i){return xc.table.setItem(e,i)}static async getItem(e){return xc.table.getItem(e)}static async getAllItems(){return xc.table.getAllItems()}static async removeItem(e){return xc.table.removeItem(e)}static async clear(){return xc.table.clear()}};Ua(xc,"table",AllTokensTableImpl.getInstance());let AllTokensTable=xc;const fetchGet=async function(t,e,i=3e4){const n=[];let s="";if(e){for(const T in e){const q=`${T}=${e[T]}`;n.push(q)}const A=n.join("&");s=`${t}?${A}`}else s=t;const a=new AbortController,l=setTimeout(()=>{a.abort()},i);try{const A=await fetch(s,{signal:a.signal});if(clearTimeout(l),!A.ok)throw new Error("Request failed");const T=await A.json();return(T==null?void 0:T.data)||T}catch(A){throw clearTimeout(l),A.name==="AbortError"?new Error("request time out"):A}},fetchPost=async function(t,e,i=3e4,n){const s=new AbortController,a=setTimeout(()=>{s.abort()},i);try{const l=await fetch(t,{headers:n,body:JSON.stringify(e),method:"POST",signal:s.signal});if(clearTimeout(a),!l.ok)throw new Error("Request failed");return l.json()}catch(l){throw clearTimeout(a),l.name==="AbortError"?new Error("request time out"):l}};var Mr$2=Object.create,Di$2=Object.defineProperty,br$3=Object.getOwnPropertyDescriptor,_r$4=Object.getOwnPropertyNames,yr$3=Object.getPrototypeOf,xr$3=Object.prototype.hasOwnProperty,Sr$3=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Nr$3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Tr$2=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of _r$4(e))!xr$3.call(t,s)&&s!==i&&Di$2(t,s,{get:()=>e[s],enumerable:!(n=br$3(e,s))||n.enumerable});return t},me$3=(t,e,i)=>(i=t!=null?Mr$2(yr$3(t)):{},Tr$2(!t||!t.__esModule?Di$2(i,"default",{value:t,enumerable:!0}):i,t)),he$2=Nr$3((t,e)=>{(function(i,n){function s(f,Y){if(!f)throw new Error(Y||"Assertion failed")}function a(f,Y){f.super_=Y;var nt=function(){};nt.prototype=Y.prototype,f.prototype=new nt,f.prototype.constructor=f}function l(f,Y,nt){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((Y==="le"||Y==="be")&&(nt=Y,Y=10),this._init(f||0,Y||10,nt||"be"))}typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var A;try{typeof window<"u"&&typeof window.Buffer<"u"?A=window.Buffer:A=Sr$3("buffer").Buffer}catch{}l.isBN=function(f){return f instanceof l?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===l.wordSize&&Array.isArray(f.words)},l.max=function(f,Y){return f.cmp(Y)>0?f:Y},l.min=function(f,Y){return f.cmp(Y)<0?f:Y},l.prototype._init=function(f,Y,nt){if(typeof f=="number")return this._initNumber(f,Y,nt);if(typeof f=="object")return this._initArray(f,Y,nt);Y==="hex"&&(Y=16),s(Y===(Y|0)&&Y>=2&&Y<=36),f=f.toString().replace(/\s+/g,"");var vs=0;f[0]==="-"&&(vs++,this.negative=1),vs<f.length&&(Y===16?this._parseHex(f,vs,nt):(this._parseBase(f,Y,vs),nt==="le"&&this._initArray(this.toArray(),Y,nt)))},l.prototype._initNumber=function(f,Y,nt){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(s(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),nt==="le"&&this._initArray(this.toArray(),Y,nt)},l.prototype._initArray=function(f,Y,nt){if(s(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks,Ds,Bs=0;if(nt==="be")for(vs=f.length-1,ks=0;vs>=0;vs-=3)Ds=f[vs]|f[vs-1]<<8|f[vs-2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);else if(nt==="le")for(vs=0,ks=0;vs<f.length;vs+=3)Ds=f[vs]|f[vs+1]<<8|f[vs+2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);return this._strip()};function T(f,Y){var nt=f.charCodeAt(Y);if(nt>=48&&nt<=57)return nt-48;if(nt>=65&&nt<=70)return nt-55;if(nt>=97&&nt<=102)return nt-87;s(!1,"Invalid character in "+f)}function q(f,Y,nt){var vs=T(f,nt);return nt-1>=Y&&(vs|=T(f,nt-1)<<4),vs}l.prototype._parseHex=function(f,Y,nt){this.length=Math.ceil((f.length-Y)/6),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks=0,Ds=0,Bs;if(nt==="be")for(vs=f.length-1;vs>=Y;vs-=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8;else{var Ms=f.length-Y;for(vs=Ms%2===0?Y+1:Y;vs<f.length;vs+=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8}this._strip()};function et(f,Y,nt,vs){for(var ks=0,Ds=0,Bs=Math.min(f.length,nt),Ms=Y;Ms<Bs;Ms++){var Q=f.charCodeAt(Ms)-48;ks*=vs,Q>=49?Ds=Q-49+10:Q>=17?Ds=Q-17+10:Ds=Q,s(Q>=0&&Ds<vs,"Invalid character"),ks+=Ds}return ks}l.prototype._parseBase=function(f,Y,nt){this.words=[0],this.length=1;for(var vs=0,ks=1;ks<=67108863;ks*=Y)vs++;vs--,ks=ks/Y|0;for(var Ds=f.length-nt,Bs=Ds%vs,Ms=Math.min(Ds,Ds-Bs)+nt,Q=0,$s=nt;$s<Ms;$s+=vs)Q=et(f,$s,$s+vs,Y),this.imuln(ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(Bs!==0){var Ks=1;for(Q=et(f,$s,f.length,Y),$s=0;$s<Bs;$s++)Ks*=Y;this.imuln(Ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},l.prototype.copy=function(f){f.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)f.words[Y]=this.words[Y];f.length=this.length,f.negative=this.negative,f.red=this.red};function xi(f,Y){f.words=Y.words,f.length=Y.length,f.negative=Y.negative,f.red=Y.red}if(l.prototype._move=function(f){xi(f,this)},l.prototype.clone=function(){var f=new l(null);return this.copy(f),f},l.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oi}catch{l.prototype.inspect=Oi}else l.prototype.inspect=Oi;function Oi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Fs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(f,Y){f=f||10,Y=Y|0||1;var nt;if(f===16||f==="hex"){nt="";for(var vs=0,ks=0,Ds=0;Ds<this.length;Ds++){var Bs=this.words[Ds],Ms=((Bs<<vs|ks)&16777215).toString(16);ks=Bs>>>24-vs&16777215,vs+=2,vs>=26&&(vs-=26,Ds--),ks!==0||Ds!==this.length-1?nt=Ts[6-Ms.length]+Ms+nt:nt=Ms+nt}for(ks!==0&&(nt=ks.toString(16)+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}if(f===(f|0)&&f>=2&&f<=36){var Q=Fs[f],$s=qs[f];nt="";var Ks=this.clone();for(Ks.negative=0;!Ks.isZero();){var jo=Ks.modrn($s).toString(f);Ks=Ks.idivn($s),Ks.isZero()?nt=jo+nt:nt=Ts[Q-jo.length]+jo+nt}for(this.isZero()&&(nt="0"+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},l.prototype.toJSON=function(){return this.toString(16,2)},A&&(l.prototype.toBuffer=function(f,Y){return this.toArrayLike(A,f,Y)}),l.prototype.toArray=function(f,Y){return this.toArrayLike(Array,f,Y)};var Us=function(f,Y){return f.allocUnsafe?f.allocUnsafe(Y):new f(Y)};l.prototype.toArrayLike=function(f,Y,nt){this._strip();var vs=this.byteLength(),ks=nt||Math.max(1,vs);s(vs<=ks,"byte array longer than desired length"),s(ks>0,"Requested array length <= 0");var Ds=Us(f,ks),Bs=Y==="le"?"LE":"BE";return this["_toArrayLike"+Bs](Ds,vs),Ds},l.prototype._toArrayLikeLE=function(f,Y){for(var nt=0,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt++]=Bs&255,nt<f.length&&(f[nt++]=Bs>>8&255),nt<f.length&&(f[nt++]=Bs>>16&255),Ds===6?(nt<f.length&&(f[nt++]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt<f.length)for(f[nt++]=vs;nt<f.length;)f[nt++]=0},l.prototype._toArrayLikeBE=function(f,Y){for(var nt=f.length-1,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt--]=Bs&255,nt>=0&&(f[nt--]=Bs>>8&255),nt>=0&&(f[nt--]=Bs>>16&255),Ds===6?(nt>=0&&(f[nt--]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt>=0)for(f[nt--]=vs;nt>=0;)f[nt--]=0},Math.clz32?l.prototype._countBits=function(f){return 32-Math.clz32(f)}:l.prototype._countBits=function(f){var Y=f,nt=0;return Y>=4096&&(nt+=13,Y>>>=13),Y>=64&&(nt+=7,Y>>>=7),Y>=8&&(nt+=4,Y>>>=4),Y>=2&&(nt+=2,Y>>>=2),nt+Y},l.prototype._zeroBits=function(f){if(f===0)return 26;var Y=f,nt=0;return!(Y&8191)&&(nt+=13,Y>>>=13),!(Y&127)&&(nt+=7,Y>>>=7),!(Y&15)&&(nt+=4,Y>>>=4),!(Y&3)&&(nt+=2,Y>>>=2),!(Y&1)&&nt++,nt},l.prototype.bitLength=function(){var f=this.words[this.length-1],Y=this._countBits(f);return(this.length-1)*26+Y};function Ls(f){for(var Y=new Array(f.bitLength()),nt=0;nt<Y.length;nt++){var vs=nt/26|0,ks=nt%26;Y[nt]=f.words[vs]>>>ks&1}return Y}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,Y=0;Y<this.length;Y++){var nt=this._zeroBits(this.words[Y]);if(f+=nt,nt!==26)break}return f},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},l.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var Y=0;Y<f.length;Y++)this.words[Y]=this.words[Y]|f.words[Y];return this._strip()},l.prototype.ior=function(f){return s((this.negative|f.negative)===0),this.iuor(f)},l.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},l.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},l.prototype.iuand=function(f){var Y;this.length>f.length?Y=f:Y=this;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]&f.words[nt];return this.length=Y.length,this._strip()},l.prototype.iand=function(f){return s((this.negative|f.negative)===0),this.iuand(f)},l.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},l.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},l.prototype.iuxor=function(f){var Y,nt;this.length>f.length?(Y=this,nt=f):(Y=f,nt=this);for(var vs=0;vs<nt.length;vs++)this.words[vs]=Y.words[vs]^nt.words[vs];if(this!==Y)for(;vs<Y.length;vs++)this.words[vs]=Y.words[vs];return this.length=Y.length,this._strip()},l.prototype.ixor=function(f){return s((this.negative|f.negative)===0),this.iuxor(f)},l.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},l.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},l.prototype.inotn=function(f){s(typeof f=="number"&&f>=0);var Y=Math.ceil(f/26)|0,nt=f%26;this._expand(Y),nt>0&&Y--;for(var vs=0;vs<Y;vs++)this.words[vs]=~this.words[vs]&67108863;return nt>0&&(this.words[vs]=~this.words[vs]&67108863>>26-nt),this._strip()},l.prototype.notn=function(f){return this.clone().inotn(f)},l.prototype.setn=function(f,Y){s(typeof f=="number"&&f>=0);var nt=f/26|0,vs=f%26;return this._expand(nt+1),Y?this.words[nt]=this.words[nt]|1<<vs:this.words[nt]=this.words[nt]&~(1<<vs),this._strip()},l.prototype.iadd=function(f){var Y;if(this.negative!==0&&f.negative===0)return this.negative=0,Y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,Y=this.isub(f),f.negative=1,Y._normSign();var nt,vs;this.length>f.length?(nt=this,vs=f):(nt=f,vs=this);for(var ks=0,Ds=0;Ds<vs.length;Ds++)Y=(nt.words[Ds]|0)+(vs.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;for(;ks!==0&&Ds<nt.length;Ds++)Y=(nt.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;if(this.length=nt.length,ks!==0)this.words[this.length]=ks,this.length++;else if(nt!==this)for(;Ds<nt.length;Ds++)this.words[Ds]=nt.words[Ds];return this},l.prototype.add=function(f){var Y;return f.negative!==0&&this.negative===0?(f.negative=0,Y=this.sub(f),f.negative^=1,Y):f.negative===0&&this.negative!==0?(this.negative=0,Y=f.sub(this),this.negative=1,Y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},l.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var Y=this.iadd(f);return f.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var nt=this.cmp(f);if(nt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vs,ks;nt>0?(vs=this,ks=f):(vs=f,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)Y=(vs.words[Bs]|0)-(ks.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;for(;Ds!==0&&Bs<vs.length;Bs++)Y=(vs.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;if(Ds===0&&Bs<vs.length&&vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this.length=Math.max(this.length,Bs),vs!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(f){return this.clone().isub(f)};function Gs(f,Y,nt){nt.negative=Y.negative^f.negative;var vs=f.length+Y.length|0;nt.length=vs,vs=vs-1|0;var ks=f.words[0]|0,Ds=Y.words[0]|0,Bs=ks*Ds,Ms=Bs&67108863,Q=Bs/67108864|0;nt.words[0]=Ms;for(var $s=1;$s<vs;$s++){for(var Ks=Q>>>26,jo=Q&67108863,Bo=Math.min($s,Y.length-1),To=Math.max(0,$s-f.length+1);To<=Bo;To++){var Oo=$s-To|0;ks=f.words[Oo]|0,Ds=Y.words[To]|0,Bs=ks*Ds+jo,Ks+=Bs/67108864|0,jo=Bs&67108863}nt.words[$s]=jo|0,Q=Ks|0}return Q!==0?nt.words[$s]=Q|0:nt.length--,nt._strip()}var zs=function(f,Y,nt){var vs=f.words,ks=Y.words,Ds=nt.words,Bs=0,Ms,Q,$s,Ks=vs[0]|0,jo=Ks&8191,Bo=Ks>>>13,To=vs[1]|0,Oo=To&8191,Vo=To>>>13,zo=vs[2]|0,so=zo&8191,Qs=zo>>>13,sa=vs[3]|0,Zo=sa&8191,Qo=sa>>>13,la=vs[4]|0,Ko=la&8191,Jo=la>>>13,aa=vs[5]|0,oa=aa&8191,ua=aa>>>13,Ma=vs[6]|0,da=Ma&8191,fa=Ma>>>13,La=vs[7]|0,ga=La&8191,ha=La>>>13,Ga=vs[8]|0,Aa=Ga&8191,_a=Ga>>>13,Za=vs[9]|0,Ta=Za&8191,ma=Za>>>13,Xa=ks[0]|0,ka=Xa&8191,pa=Xa>>>13,za=ks[1]|0,Ba=za&8191,wa=za>>>13,Ja=ks[2]|0,Oa=Ja&8191,ba=Ja>>>13,eu=ks[3]|0,Ia=eu&8191,xa=eu>>>13,Ya=ks[4]|0,Pa=Ya&8191,$a=Ya>>>13,Qa=ks[5]|0,Da=Qa&8191,va=Qa>>>13,Ka=ks[6]|0,Ra=Ka&8191,ya=Ka>>>13,tu=ks[7]|0,Na=tu&8191,Sa=tu>>>13,ru=ks[8]|0,Fa=ru&8191,Ea=ru>>>13,iu=ks[9]|0,ja=iu&8191,Ca=iu>>>13;nt.negative=f.negative^Y.negative,nt.length=19,Ms=Math.imul(jo,ka),Q=Math.imul(jo,pa),Q=Q+Math.imul(Bo,ka)|0,$s=Math.imul(Bo,pa);var nu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ms=Math.imul(Oo,ka),Q=Math.imul(Oo,pa),Q=Q+Math.imul(Vo,ka)|0,$s=Math.imul(Vo,pa),Ms=Ms+Math.imul(jo,Ba)|0,Q=Q+Math.imul(jo,wa)|0,Q=Q+Math.imul(Bo,Ba)|0,$s=$s+Math.imul(Bo,wa)|0;var ou=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ms=Math.imul(so,ka),Q=Math.imul(so,pa),Q=Q+Math.imul(Qs,ka)|0,$s=Math.imul(Qs,pa),Ms=Ms+Math.imul(Oo,Ba)|0,Q=Q+Math.imul(Oo,wa)|0,Q=Q+Math.imul(Vo,Ba)|0,$s=$s+Math.imul(Vo,wa)|0,Ms=Ms+Math.imul(jo,Oa)|0,Q=Q+Math.imul(jo,ba)|0,Q=Q+Math.imul(Bo,Oa)|0,$s=$s+Math.imul(Bo,ba)|0;var au=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(au>>>26)|0,au&=67108863,Ms=Math.imul(Zo,ka),Q=Math.imul(Zo,pa),Q=Q+Math.imul(Qo,ka)|0,$s=Math.imul(Qo,pa),Ms=Ms+Math.imul(so,Ba)|0,Q=Q+Math.imul(so,wa)|0,Q=Q+Math.imul(Qs,Ba)|0,$s=$s+Math.imul(Qs,wa)|0,Ms=Ms+Math.imul(Oo,Oa)|0,Q=Q+Math.imul(Oo,ba)|0,Q=Q+Math.imul(Vo,Oa)|0,$s=$s+Math.imul(Vo,ba)|0,Ms=Ms+Math.imul(jo,Ia)|0,Q=Q+Math.imul(jo,xa)|0,Q=Q+Math.imul(Bo,Ia)|0,$s=$s+Math.imul(Bo,xa)|0;var uu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ms=Math.imul(Ko,ka),Q=Math.imul(Ko,pa),Q=Q+Math.imul(Jo,ka)|0,$s=Math.imul(Jo,pa),Ms=Ms+Math.imul(Zo,Ba)|0,Q=Q+Math.imul(Zo,wa)|0,Q=Q+Math.imul(Qo,Ba)|0,$s=$s+Math.imul(Qo,wa)|0,Ms=Ms+Math.imul(so,Oa)|0,Q=Q+Math.imul(so,ba)|0,Q=Q+Math.imul(Qs,Oa)|0,$s=$s+Math.imul(Qs,ba)|0,Ms=Ms+Math.imul(Oo,Ia)|0,Q=Q+Math.imul(Oo,xa)|0,Q=Q+Math.imul(Vo,Ia)|0,$s=$s+Math.imul(Vo,xa)|0,Ms=Ms+Math.imul(jo,Pa)|0,Q=Q+Math.imul(jo,$a)|0,Q=Q+Math.imul(Bo,Pa)|0,$s=$s+Math.imul(Bo,$a)|0;var cu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ms=Math.imul(oa,ka),Q=Math.imul(oa,pa),Q=Q+Math.imul(ua,ka)|0,$s=Math.imul(ua,pa),Ms=Ms+Math.imul(Ko,Ba)|0,Q=Q+Math.imul(Ko,wa)|0,Q=Q+Math.imul(Jo,Ba)|0,$s=$s+Math.imul(Jo,wa)|0,Ms=Ms+Math.imul(Zo,Oa)|0,Q=Q+Math.imul(Zo,ba)|0,Q=Q+Math.imul(Qo,Oa)|0,$s=$s+Math.imul(Qo,ba)|0,Ms=Ms+Math.imul(so,Ia)|0,Q=Q+Math.imul(so,xa)|0,Q=Q+Math.imul(Qs,Ia)|0,$s=$s+Math.imul(Qs,xa)|0,Ms=Ms+Math.imul(Oo,Pa)|0,Q=Q+Math.imul(Oo,$a)|0,Q=Q+Math.imul(Vo,Pa)|0,$s=$s+Math.imul(Vo,$a)|0,Ms=Ms+Math.imul(jo,Da)|0,Q=Q+Math.imul(jo,va)|0,Q=Q+Math.imul(Bo,Da)|0,$s=$s+Math.imul(Bo,va)|0;var lu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ms=Math.imul(da,ka),Q=Math.imul(da,pa),Q=Q+Math.imul(fa,ka)|0,$s=Math.imul(fa,pa),Ms=Ms+Math.imul(oa,Ba)|0,Q=Q+Math.imul(oa,wa)|0,Q=Q+Math.imul(ua,Ba)|0,$s=$s+Math.imul(ua,wa)|0,Ms=Ms+Math.imul(Ko,Oa)|0,Q=Q+Math.imul(Ko,ba)|0,Q=Q+Math.imul(Jo,Oa)|0,$s=$s+Math.imul(Jo,ba)|0,Ms=Ms+Math.imul(Zo,Ia)|0,Q=Q+Math.imul(Zo,xa)|0,Q=Q+Math.imul(Qo,Ia)|0,$s=$s+Math.imul(Qo,xa)|0,Ms=Ms+Math.imul(so,Pa)|0,Q=Q+Math.imul(so,$a)|0,Q=Q+Math.imul(Qs,Pa)|0,$s=$s+Math.imul(Qs,$a)|0,Ms=Ms+Math.imul(Oo,Da)|0,Q=Q+Math.imul(Oo,va)|0,Q=Q+Math.imul(Vo,Da)|0,$s=$s+Math.imul(Vo,va)|0,Ms=Ms+Math.imul(jo,Ra)|0,Q=Q+Math.imul(jo,ya)|0,Q=Q+Math.imul(Bo,Ra)|0,$s=$s+Math.imul(Bo,ya)|0;var du=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(du>>>26)|0,du&=67108863,Ms=Math.imul(ga,ka),Q=Math.imul(ga,pa),Q=Q+Math.imul(ha,ka)|0,$s=Math.imul(ha,pa),Ms=Ms+Math.imul(da,Ba)|0,Q=Q+Math.imul(da,wa)|0,Q=Q+Math.imul(fa,Ba)|0,$s=$s+Math.imul(fa,wa)|0,Ms=Ms+Math.imul(oa,Oa)|0,Q=Q+Math.imul(oa,ba)|0,Q=Q+Math.imul(ua,Oa)|0,$s=$s+Math.imul(ua,ba)|0,Ms=Ms+Math.imul(Ko,Ia)|0,Q=Q+Math.imul(Ko,xa)|0,Q=Q+Math.imul(Jo,Ia)|0,$s=$s+Math.imul(Jo,xa)|0,Ms=Ms+Math.imul(Zo,Pa)|0,Q=Q+Math.imul(Zo,$a)|0,Q=Q+Math.imul(Qo,Pa)|0,$s=$s+Math.imul(Qo,$a)|0,Ms=Ms+Math.imul(so,Da)|0,Q=Q+Math.imul(so,va)|0,Q=Q+Math.imul(Qs,Da)|0,$s=$s+Math.imul(Qs,va)|0,Ms=Ms+Math.imul(Oo,Ra)|0,Q=Q+Math.imul(Oo,ya)|0,Q=Q+Math.imul(Vo,Ra)|0,$s=$s+Math.imul(Vo,ya)|0,Ms=Ms+Math.imul(jo,Na)|0,Q=Q+Math.imul(jo,Sa)|0,Q=Q+Math.imul(Bo,Na)|0,$s=$s+Math.imul(Bo,Sa)|0;var fu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ms=Math.imul(Aa,ka),Q=Math.imul(Aa,pa),Q=Q+Math.imul(_a,ka)|0,$s=Math.imul(_a,pa),Ms=Ms+Math.imul(ga,Ba)|0,Q=Q+Math.imul(ga,wa)|0,Q=Q+Math.imul(ha,Ba)|0,$s=$s+Math.imul(ha,wa)|0,Ms=Ms+Math.imul(da,Oa)|0,Q=Q+Math.imul(da,ba)|0,Q=Q+Math.imul(fa,Oa)|0,$s=$s+Math.imul(fa,ba)|0,Ms=Ms+Math.imul(oa,Ia)|0,Q=Q+Math.imul(oa,xa)|0,Q=Q+Math.imul(ua,Ia)|0,$s=$s+Math.imul(ua,xa)|0,Ms=Ms+Math.imul(Ko,Pa)|0,Q=Q+Math.imul(Ko,$a)|0,Q=Q+Math.imul(Jo,Pa)|0,$s=$s+Math.imul(Jo,$a)|0,Ms=Ms+Math.imul(Zo,Da)|0,Q=Q+Math.imul(Zo,va)|0,Q=Q+Math.imul(Qo,Da)|0,$s=$s+Math.imul(Qo,va)|0,Ms=Ms+Math.imul(so,Ra)|0,Q=Q+Math.imul(so,ya)|0,Q=Q+Math.imul(Qs,Ra)|0,$s=$s+Math.imul(Qs,ya)|0,Ms=Ms+Math.imul(Oo,Na)|0,Q=Q+Math.imul(Oo,Sa)|0,Q=Q+Math.imul(Vo,Na)|0,$s=$s+Math.imul(Vo,Sa)|0,Ms=Ms+Math.imul(jo,Fa)|0,Q=Q+Math.imul(jo,Ea)|0,Q=Q+Math.imul(Bo,Fa)|0,$s=$s+Math.imul(Bo,Ea)|0;var hu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ms=Math.imul(Ta,ka),Q=Math.imul(Ta,pa),Q=Q+Math.imul(ma,ka)|0,$s=Math.imul(ma,pa),Ms=Ms+Math.imul(Aa,Ba)|0,Q=Q+Math.imul(Aa,wa)|0,Q=Q+Math.imul(_a,Ba)|0,$s=$s+Math.imul(_a,wa)|0,Ms=Ms+Math.imul(ga,Oa)|0,Q=Q+Math.imul(ga,ba)|0,Q=Q+Math.imul(ha,Oa)|0,$s=$s+Math.imul(ha,ba)|0,Ms=Ms+Math.imul(da,Ia)|0,Q=Q+Math.imul(da,xa)|0,Q=Q+Math.imul(fa,Ia)|0,$s=$s+Math.imul(fa,xa)|0,Ms=Ms+Math.imul(oa,Pa)|0,Q=Q+Math.imul(oa,$a)|0,Q=Q+Math.imul(ua,Pa)|0,$s=$s+Math.imul(ua,$a)|0,Ms=Ms+Math.imul(Ko,Da)|0,Q=Q+Math.imul(Ko,va)|0,Q=Q+Math.imul(Jo,Da)|0,$s=$s+Math.imul(Jo,va)|0,Ms=Ms+Math.imul(Zo,Ra)|0,Q=Q+Math.imul(Zo,ya)|0,Q=Q+Math.imul(Qo,Ra)|0,$s=$s+Math.imul(Qo,ya)|0,Ms=Ms+Math.imul(so,Na)|0,Q=Q+Math.imul(so,Sa)|0,Q=Q+Math.imul(Qs,Na)|0,$s=$s+Math.imul(Qs,Sa)|0,Ms=Ms+Math.imul(Oo,Fa)|0,Q=Q+Math.imul(Oo,Ea)|0,Q=Q+Math.imul(Vo,Fa)|0,$s=$s+Math.imul(Vo,Ea)|0,Ms=Ms+Math.imul(jo,ja)|0,Q=Q+Math.imul(jo,Ca)|0,Q=Q+Math.imul(Bo,ja)|0,$s=$s+Math.imul(Bo,Ca)|0;var pu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ms=Math.imul(Ta,Ba),Q=Math.imul(Ta,wa),Q=Q+Math.imul(ma,Ba)|0,$s=Math.imul(ma,wa),Ms=Ms+Math.imul(Aa,Oa)|0,Q=Q+Math.imul(Aa,ba)|0,Q=Q+Math.imul(_a,Oa)|0,$s=$s+Math.imul(_a,ba)|0,Ms=Ms+Math.imul(ga,Ia)|0,Q=Q+Math.imul(ga,xa)|0,Q=Q+Math.imul(ha,Ia)|0,$s=$s+Math.imul(ha,xa)|0,Ms=Ms+Math.imul(da,Pa)|0,Q=Q+Math.imul(da,$a)|0,Q=Q+Math.imul(fa,Pa)|0,$s=$s+Math.imul(fa,$a)|0,Ms=Ms+Math.imul(oa,Da)|0,Q=Q+Math.imul(oa,va)|0,Q=Q+Math.imul(ua,Da)|0,$s=$s+Math.imul(ua,va)|0,Ms=Ms+Math.imul(Ko,Ra)|0,Q=Q+Math.imul(Ko,ya)|0,Q=Q+Math.imul(Jo,Ra)|0,$s=$s+Math.imul(Jo,ya)|0,Ms=Ms+Math.imul(Zo,Na)|0,Q=Q+Math.imul(Zo,Sa)|0,Q=Q+Math.imul(Qo,Na)|0,$s=$s+Math.imul(Qo,Sa)|0,Ms=Ms+Math.imul(so,Fa)|0,Q=Q+Math.imul(so,Ea)|0,Q=Q+Math.imul(Qs,Fa)|0,$s=$s+Math.imul(Qs,Ea)|0,Ms=Ms+Math.imul(Oo,ja)|0,Q=Q+Math.imul(Oo,Ca)|0,Q=Q+Math.imul(Vo,ja)|0,$s=$s+Math.imul(Vo,Ca)|0;var mu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ms=Math.imul(Ta,Oa),Q=Math.imul(Ta,ba),Q=Q+Math.imul(ma,Oa)|0,$s=Math.imul(ma,ba),Ms=Ms+Math.imul(Aa,Ia)|0,Q=Q+Math.imul(Aa,xa)|0,Q=Q+Math.imul(_a,Ia)|0,$s=$s+Math.imul(_a,xa)|0,Ms=Ms+Math.imul(ga,Pa)|0,Q=Q+Math.imul(ga,$a)|0,Q=Q+Math.imul(ha,Pa)|0,$s=$s+Math.imul(ha,$a)|0,Ms=Ms+Math.imul(da,Da)|0,Q=Q+Math.imul(da,va)|0,Q=Q+Math.imul(fa,Da)|0,$s=$s+Math.imul(fa,va)|0,Ms=Ms+Math.imul(oa,Ra)|0,Q=Q+Math.imul(oa,ya)|0,Q=Q+Math.imul(ua,Ra)|0,$s=$s+Math.imul(ua,ya)|0,Ms=Ms+Math.imul(Ko,Na)|0,Q=Q+Math.imul(Ko,Sa)|0,Q=Q+Math.imul(Jo,Na)|0,$s=$s+Math.imul(Jo,Sa)|0,Ms=Ms+Math.imul(Zo,Fa)|0,Q=Q+Math.imul(Zo,Ea)|0,Q=Q+Math.imul(Qo,Fa)|0,$s=$s+Math.imul(Qo,Ea)|0,Ms=Ms+Math.imul(so,ja)|0,Q=Q+Math.imul(so,Ca)|0,Q=Q+Math.imul(Qs,ja)|0,$s=$s+Math.imul(Qs,Ca)|0;var gu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ms=Math.imul(Ta,Ia),Q=Math.imul(Ta,xa),Q=Q+Math.imul(ma,Ia)|0,$s=Math.imul(ma,xa),Ms=Ms+Math.imul(Aa,Pa)|0,Q=Q+Math.imul(Aa,$a)|0,Q=Q+Math.imul(_a,Pa)|0,$s=$s+Math.imul(_a,$a)|0,Ms=Ms+Math.imul(ga,Da)|0,Q=Q+Math.imul(ga,va)|0,Q=Q+Math.imul(ha,Da)|0,$s=$s+Math.imul(ha,va)|0,Ms=Ms+Math.imul(da,Ra)|0,Q=Q+Math.imul(da,ya)|0,Q=Q+Math.imul(fa,Ra)|0,$s=$s+Math.imul(fa,ya)|0,Ms=Ms+Math.imul(oa,Na)|0,Q=Q+Math.imul(oa,Sa)|0,Q=Q+Math.imul(ua,Na)|0,$s=$s+Math.imul(ua,Sa)|0,Ms=Ms+Math.imul(Ko,Fa)|0,Q=Q+Math.imul(Ko,Ea)|0,Q=Q+Math.imul(Jo,Fa)|0,$s=$s+Math.imul(Jo,Ea)|0,Ms=Ms+Math.imul(Zo,ja)|0,Q=Q+Math.imul(Zo,Ca)|0,Q=Q+Math.imul(Qo,ja)|0,$s=$s+Math.imul(Qo,Ca)|0;var _u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ms=Math.imul(Ta,Pa),Q=Math.imul(Ta,$a),Q=Q+Math.imul(ma,Pa)|0,$s=Math.imul(ma,$a),Ms=Ms+Math.imul(Aa,Da)|0,Q=Q+Math.imul(Aa,va)|0,Q=Q+Math.imul(_a,Da)|0,$s=$s+Math.imul(_a,va)|0,Ms=Ms+Math.imul(ga,Ra)|0,Q=Q+Math.imul(ga,ya)|0,Q=Q+Math.imul(ha,Ra)|0,$s=$s+Math.imul(ha,ya)|0,Ms=Ms+Math.imul(da,Na)|0,Q=Q+Math.imul(da,Sa)|0,Q=Q+Math.imul(fa,Na)|0,$s=$s+Math.imul(fa,Sa)|0,Ms=Ms+Math.imul(oa,Fa)|0,Q=Q+Math.imul(oa,Ea)|0,Q=Q+Math.imul(ua,Fa)|0,$s=$s+Math.imul(ua,Ea)|0,Ms=Ms+Math.imul(Ko,ja)|0,Q=Q+Math.imul(Ko,Ca)|0,Q=Q+Math.imul(Jo,ja)|0,$s=$s+Math.imul(Jo,Ca)|0;var bu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ms=Math.imul(Ta,Da),Q=Math.imul(Ta,va),Q=Q+Math.imul(ma,Da)|0,$s=Math.imul(ma,va),Ms=Ms+Math.imul(Aa,Ra)|0,Q=Q+Math.imul(Aa,ya)|0,Q=Q+Math.imul(_a,Ra)|0,$s=$s+Math.imul(_a,ya)|0,Ms=Ms+Math.imul(ga,Na)|0,Q=Q+Math.imul(ga,Sa)|0,Q=Q+Math.imul(ha,Na)|0,$s=$s+Math.imul(ha,Sa)|0,Ms=Ms+Math.imul(da,Fa)|0,Q=Q+Math.imul(da,Ea)|0,Q=Q+Math.imul(fa,Fa)|0,$s=$s+Math.imul(fa,Ea)|0,Ms=Ms+Math.imul(oa,ja)|0,Q=Q+Math.imul(oa,Ca)|0,Q=Q+Math.imul(ua,ja)|0,$s=$s+Math.imul(ua,Ca)|0;var vu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ms=Math.imul(Ta,Ra),Q=Math.imul(Ta,ya),Q=Q+Math.imul(ma,Ra)|0,$s=Math.imul(ma,ya),Ms=Ms+Math.imul(Aa,Na)|0,Q=Q+Math.imul(Aa,Sa)|0,Q=Q+Math.imul(_a,Na)|0,$s=$s+Math.imul(_a,Sa)|0,Ms=Ms+Math.imul(ga,Fa)|0,Q=Q+Math.imul(ga,Ea)|0,Q=Q+Math.imul(ha,Fa)|0,$s=$s+Math.imul(ha,Ea)|0,Ms=Ms+Math.imul(da,ja)|0,Q=Q+Math.imul(da,Ca)|0,Q=Q+Math.imul(fa,ja)|0,$s=$s+Math.imul(fa,Ca)|0;var yu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ms=Math.imul(Ta,Na),Q=Math.imul(Ta,Sa),Q=Q+Math.imul(ma,Na)|0,$s=Math.imul(ma,Sa),Ms=Ms+Math.imul(Aa,Fa)|0,Q=Q+Math.imul(Aa,Ea)|0,Q=Q+Math.imul(_a,Fa)|0,$s=$s+Math.imul(_a,Ea)|0,Ms=Ms+Math.imul(ga,ja)|0,Q=Q+Math.imul(ga,Ca)|0,Q=Q+Math.imul(ha,ja)|0,$s=$s+Math.imul(ha,Ca)|0;var wu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(wu>>>26)|0,wu&=67108863,Ms=Math.imul(Ta,Fa),Q=Math.imul(Ta,Ea),Q=Q+Math.imul(ma,Fa)|0,$s=Math.imul(ma,Ea),Ms=Ms+Math.imul(Aa,ja)|0,Q=Q+Math.imul(Aa,Ca)|0,Q=Q+Math.imul(_a,ja)|0,$s=$s+Math.imul(_a,Ca)|0;var $u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+($u>>>26)|0,$u&=67108863,Ms=Math.imul(Ta,ja),Q=Math.imul(Ta,Ca),Q=Q+Math.imul(ma,ja)|0,$s=Math.imul(ma,Ca);var Su=(Bs+Ms|0)+((Q&8191)<<13)|0;return Bs=($s+(Q>>>13)|0)+(Su>>>26)|0,Su&=67108863,Ds[0]=nu,Ds[1]=ou,Ds[2]=au,Ds[3]=uu,Ds[4]=cu,Ds[5]=lu,Ds[6]=du,Ds[7]=fu,Ds[8]=hu,Ds[9]=pu,Ds[10]=mu,Ds[11]=gu,Ds[12]=_u,Ds[13]=bu,Ds[14]=vu,Ds[15]=yu,Ds[16]=wu,Ds[17]=$u,Ds[18]=Su,Bs!==0&&(Ds[19]=Bs,nt.length++),nt};Math.imul||(zs=Gs);function Vs(f,Y,nt){nt.negative=Y.negative^f.negative,nt.length=f.length+Y.length;for(var vs=0,ks=0,Ds=0;Ds<nt.length-1;Ds++){var Bs=ks;ks=0;for(var Ms=vs&67108863,Q=Math.min(Ds,Y.length-1),$s=Math.max(0,Ds-f.length+1);$s<=Q;$s++){var Ks=Ds-$s,jo=f.words[Ks]|0,Bo=Y.words[$s]|0,To=jo*Bo,Oo=To&67108863;Bs=Bs+(To/67108864|0)|0,Oo=Oo+Ms|0,Ms=Oo&67108863,Bs=Bs+(Oo>>>26)|0,ks+=Bs>>>26,Bs&=67108863}nt.words[Ds]=Ms,vs=Bs,Bs=ks}return vs!==0?nt.words[Ds]=vs:nt.length--,nt._strip()}function Zs(f,Y,nt){return Vs(f,Y,nt)}l.prototype.mulTo=function(f,Y){var nt,vs=this.length+f.length;return this.length===10&&f.length===10?nt=zs(this,f,Y):vs<63?nt=Gs(this,f,Y):vs<1024?nt=Vs(this,f,Y):nt=Zs(this,f,Y),nt},l.prototype.mul=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),this.mulTo(f,Y)},l.prototype.mulf=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),Zs(this,f,Y)},l.prototype.imul=function(f){return this.clone().mulTo(f,this)},l.prototype.imuln=function(f){var Y=f<0;Y&&(f=-f),s(typeof f=="number"),s(f<67108864);for(var nt=0,vs=0;vs<this.length;vs++){var ks=(this.words[vs]|0)*f,Ds=(ks&67108863)+(nt&67108863);nt>>=26,nt+=ks/67108864|0,nt+=Ds>>>26,this.words[vs]=Ds&67108863}return nt!==0&&(this.words[vs]=nt,this.length++),this.length=f===0?1:this.length,Y?this.ineg():this},l.prototype.muln=function(f){return this.clone().imuln(f)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(f){var Y=Ls(f);if(Y.length===0)return new l(1);for(var nt=this,vs=0;vs<Y.length&&Y[vs]===0;vs++,nt=nt.sqr());if(++vs<Y.length)for(var ks=nt.sqr();vs<Y.length;vs++,ks=ks.sqr())Y[vs]!==0&&(nt=nt.mul(ks));return nt},l.prototype.iushln=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=67108863>>>26-Y<<26-Y,ks;if(Y!==0){var Ds=0;for(ks=0;ks<this.length;ks++){var Bs=this.words[ks]&vs,Ms=(this.words[ks]|0)-Bs<<Y;this.words[ks]=Ms|Ds,Ds=Bs>>>26-Y}Ds&&(this.words[ks]=Ds,this.length++)}if(nt!==0){for(ks=this.length-1;ks>=0;ks--)this.words[ks+nt]=this.words[ks];for(ks=0;ks<nt;ks++)this.words[ks]=0;this.length+=nt}return this._strip()},l.prototype.ishln=function(f){return s(this.negative===0),this.iushln(f)},l.prototype.iushrn=function(f,Y,nt){s(typeof f=="number"&&f>=0);var vs;Y?vs=(Y-Y%26)/26:vs=0;var ks=f%26,Ds=Math.min((f-ks)/26,this.length),Bs=67108863^67108863>>>ks<<ks,Ms=nt;if(vs-=Ds,vs=Math.max(0,vs),Ms){for(var Q=0;Q<Ds;Q++)Ms.words[Q]=this.words[Q];Ms.length=Ds}if(Ds!==0)if(this.length>Ds)for(this.length-=Ds,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Ds];else this.words[0]=0,this.length=1;var $s=0;for(Q=this.length-1;Q>=0&&($s!==0||Q>=vs);Q--){var Ks=this.words[Q]|0;this.words[Q]=$s<<26-ks|Ks>>>ks,$s=Ks&Bs}return Ms&&$s!==0&&(Ms.words[Ms.length++]=$s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(f,Y,nt){return s(this.negative===0),this.iushrn(f,Y,nt)},l.prototype.shln=function(f){return this.clone().ishln(f)},l.prototype.ushln=function(f){return this.clone().iushln(f)},l.prototype.shrn=function(f){return this.clone().ishrn(f)},l.prototype.ushrn=function(f){return this.clone().iushrn(f)},l.prototype.testn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return!1;var ks=this.words[nt];return!!(ks&vs)},l.prototype.imaskn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=nt)return this;if(Y!==0&&nt++,this.length=Math.min(nt,this.length),Y!==0){var vs=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=vs}return this._strip()},l.prototype.maskn=function(f){return this.clone().imaskn(f)},l.prototype.iaddn=function(f){return s(typeof f=="number"),s(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},l.prototype._iaddn=function(f){this.words[0]+=f;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},l.prototype.isubn=function(f){if(s(typeof f=="number"),s(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},l.prototype.addn=function(f){return this.clone().iaddn(f)},l.prototype.subn=function(f){return this.clone().isubn(f)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(f,Y,nt){var vs=f.length+nt,ks;this._expand(vs);var Ds,Bs=0;for(ks=0;ks<f.length;ks++){Ds=(this.words[ks+nt]|0)+Bs;var Ms=(f.words[ks]|0)*Y;Ds-=Ms&67108863,Bs=(Ds>>26)-(Ms/67108864|0),this.words[ks+nt]=Ds&67108863}for(;ks<this.length-nt;ks++)Ds=(this.words[ks+nt]|0)+Bs,Bs=Ds>>26,this.words[ks+nt]=Ds&67108863;if(Bs===0)return this._strip();for(s(Bs===-1),Bs=0,ks=0;ks<this.length;ks++)Ds=-(this.words[ks]|0)+Bs,Bs=Ds>>26,this.words[ks]=Ds&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(f,Y){var nt=this.length-f.length,vs=this.clone(),ks=f,Ds=ks.words[ks.length-1]|0,Bs=this._countBits(Ds);nt=26-Bs,nt!==0&&(ks=ks.ushln(nt),vs.iushln(nt),Ds=ks.words[ks.length-1]|0);var Ms=vs.length-ks.length,Q;if(Y!=="mod"){Q=new l(null),Q.length=Ms+1,Q.words=new Array(Q.length);for(var $s=0;$s<Q.length;$s++)Q.words[$s]=0}var Ks=vs.clone()._ishlnsubmul(ks,1,Ms);Ks.negative===0&&(vs=Ks,Q&&(Q.words[Ms]=1));for(var jo=Ms-1;jo>=0;jo--){var Bo=(vs.words[ks.length+jo]|0)*67108864+(vs.words[ks.length+jo-1]|0);for(Bo=Math.min(Bo/Ds|0,67108863),vs._ishlnsubmul(ks,Bo,jo);vs.negative!==0;)Bo--,vs.negative=0,vs._ishlnsubmul(ks,1,jo),vs.isZero()||(vs.negative^=1);Q&&(Q.words[jo]=Bo)}return Q&&Q._strip(),vs._strip(),Y!=="div"&&nt!==0&&vs.iushrn(nt),{div:Q||null,mod:vs}},l.prototype.divmod=function(f,Y,nt){if(s(!f.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var vs,ks,Ds;return this.negative!==0&&f.negative===0?(Ds=this.neg().divmod(f,Y),Y!=="mod"&&(vs=Ds.div.neg()),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.iadd(f)),{div:vs,mod:ks}):this.negative===0&&f.negative!==0?(Ds=this.divmod(f.neg(),Y),Y!=="mod"&&(vs=Ds.div.neg()),{div:vs,mod:Ds.mod}):this.negative&f.negative?(Ds=this.neg().divmod(f.neg(),Y),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.isub(f)),{div:Ds.div,mod:ks}):f.length>this.length||this.cmp(f)<0?{div:new l(0),mod:this}:f.length===1?Y==="div"?{div:this.divn(f.words[0]),mod:null}:Y==="mod"?{div:null,mod:new l(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new l(this.modrn(f.words[0]))}:this._wordDiv(f,Y)},l.prototype.div=function(f){return this.divmod(f,"div",!1).div},l.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},l.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},l.prototype.divRound=function(f){var Y=this.divmod(f);if(Y.mod.isZero())return Y.div;var nt=Y.div.negative!==0?Y.mod.isub(f):Y.mod,vs=f.ushrn(1),ks=f.andln(1),Ds=nt.cmp(vs);return Ds<0||ks===1&&Ds===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},l.prototype.modrn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=(1<<26)%f,vs=0,ks=this.length-1;ks>=0;ks--)vs=(nt*vs+(this.words[ks]|0))%f;return Y?-vs:vs},l.prototype.modn=function(f){return this.modrn(f)},l.prototype.idivn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=(this.words[vs]|0)+nt*67108864;this.words[vs]=ks/f|0,nt=ks%f}return this._strip(),Y?this.ineg():this},l.prototype.divn=function(f){return this.clone().idivn(f)},l.prototype.egcd=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=new l(0),Bs=new l(1),Ms=0;Y.isEven()&&nt.isEven();)Y.iushrn(1),nt.iushrn(1),++Ms;for(var Q=nt.clone(),$s=Y.clone();!Y.isZero();){for(var Ks=0,jo=1;!(Y.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(Y.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Q),ks.isub($s)),vs.iushrn(1),ks.iushrn(1);for(var Bo=0,To=1;!(nt.words[0]&To)&&Bo<26;++Bo,To<<=1);if(Bo>0)for(nt.iushrn(Bo);Bo-- >0;)(Ds.isOdd()||Bs.isOdd())&&(Ds.iadd(Q),Bs.isub($s)),Ds.iushrn(1),Bs.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(Ds),ks.isub(Bs)):(nt.isub(Y),Ds.isub(vs),Bs.isub(ks))}return{a:Ds,b:Bs,gcd:nt.iushln(Ms)}},l.prototype._invmp=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=nt.clone();Y.cmpn(1)>0&&nt.cmpn(1)>0;){for(var Bs=0,Ms=1;!(Y.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(Y.iushrn(Bs);Bs-- >0;)vs.isOdd()&&vs.iadd(Ds),vs.iushrn(1);for(var Q=0,$s=1;!(nt.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(nt.iushrn(Q);Q-- >0;)ks.isOdd()&&ks.iadd(Ds),ks.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(ks)):(nt.isub(Y),ks.isub(vs))}var Ks;return Y.cmpn(1)===0?Ks=vs:Ks=ks,Ks.cmpn(0)<0&&Ks.iadd(f),Ks},l.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var Y=this.clone(),nt=f.clone();Y.negative=0,nt.negative=0;for(var vs=0;Y.isEven()&&nt.isEven();vs++)Y.iushrn(1),nt.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;nt.isEven();)nt.iushrn(1);var ks=Y.cmp(nt);if(ks<0){var Ds=Y;Y=nt,nt=Ds}else if(ks===0||nt.cmpn(1)===0)break;Y.isub(nt)}while(!0);return nt.iushln(vs)},l.prototype.invm=function(f){return this.egcd(f).a.umod(f)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(f){return this.words[0]&f},l.prototype.bincn=function(f){s(typeof f=="number");var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return this._expand(nt+1),this.words[nt]|=vs,this;for(var ks=vs,Ds=nt;ks!==0&&Ds<this.length;Ds++){var Bs=this.words[Ds]|0;Bs+=ks,ks=Bs>>>26,Bs&=67108863,this.words[Ds]=Bs}return ks!==0&&(this.words[Ds]=ks,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(f){var Y=f<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var nt;if(this.length>1)nt=1;else{Y&&(f=-f),s(f<=67108863,"Number is too big");var vs=this.words[0]|0;nt=vs===f?0:vs<f?-1:1}return this.negative!==0?-nt|0:nt},l.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var Y=this.ucmp(f);return this.negative!==0?-Y|0:Y},l.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var Y=0,nt=this.length-1;nt>=0;nt--){var vs=this.words[nt]|0,ks=f.words[nt]|0;if(vs!==ks){vs<ks?Y=-1:vs>ks&&(Y=1);break}}return Y},l.prototype.gtn=function(f){return this.cmpn(f)===1},l.prototype.gt=function(f){return this.cmp(f)===1},l.prototype.gten=function(f){return this.cmpn(f)>=0},l.prototype.gte=function(f){return this.cmp(f)>=0},l.prototype.ltn=function(f){return this.cmpn(f)===-1},l.prototype.lt=function(f){return this.cmp(f)===-1},l.prototype.lten=function(f){return this.cmpn(f)<=0},l.prototype.lte=function(f){return this.cmp(f)<=0},l.prototype.eqn=function(f){return this.cmpn(f)===0},l.prototype.eq=function(f){return this.cmp(f)===0},l.red=function(f){return new Hs(f)},l.prototype.toRed=function(f){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(f){return this.red=f,this},l.prototype.forceRed=function(f){return s(!this.red,"Already a number in reduction context"),this._forceRed(f)},l.prototype.redAdd=function(f){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},l.prototype.redIAdd=function(f){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},l.prototype.redSub=function(f){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},l.prototype.redISub=function(f){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},l.prototype.redShl=function(f){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},l.prototype.redMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},l.prototype.redIMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(f){return s(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var Js={k256:null,p224:null,p192:null,p25519:null};function xo(f,Y){this.name=f,this.p=new l(Y,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xo.prototype._tmp=function(){var f=new l(null);return f.words=new Array(Math.ceil(this.n/13)),f},xo.prototype.ireduce=function(f){var Y=f,nt;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),nt=Y.bitLength();while(nt>this.n);var vs=nt<this.n?-1:Y.ucmp(this.p);return vs===0?(Y.words[0]=0,Y.length=1):vs>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},xo.prototype.split=function(f,Y){f.iushrn(this.n,0,Y)},xo.prototype.imulK=function(f){return f.imul(this.k)};function Io(){xo.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Io,xo),Io.prototype.split=function(f,Y){for(var nt=4194303,vs=Math.min(f.length,9),ks=0;ks<vs;ks++)Y.words[ks]=f.words[ks];if(Y.length=vs,f.length<=9){f.words[0]=0,f.length=1;return}var Ds=f.words[9];for(Y.words[Y.length++]=Ds&nt,ks=10;ks<f.length;ks++){var Bs=f.words[ks]|0;f.words[ks-10]=(Bs&nt)<<4|Ds>>>22,Ds=Bs}Ds>>>=22,f.words[ks-10]=Ds,Ds===0&&f.length>10?f.length-=10:f.length-=9},Io.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var Y=0,nt=0;nt<f.length;nt++){var vs=f.words[nt]|0;Y+=vs*977,f.words[nt]=Y&67108863,Y=vs*64+(Y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Uo(){xo.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Uo,xo);function Fo(){xo.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Fo,xo);function Ys(){xo.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ys,xo),Ys.prototype.imulK=function(f){for(var Y=0,nt=0;nt<f.length;nt++){var vs=(f.words[nt]|0)*19+Y,ks=vs&67108863;vs>>>=26,f.words[nt]=ks,Y=vs}return Y!==0&&(f.words[f.length++]=Y),f},l._prime=function(f){if(Js[f])return Js[f];var Y;if(f==="k256")Y=new Io;else if(f==="p224")Y=new Uo;else if(f==="p192")Y=new Fo;else if(f==="p25519")Y=new Ys;else throw new Error("Unknown prime "+f);return Js[f]=Y,Y};function Hs(f){if(typeof f=="string"){var Y=l._prime(f);this.m=Y.p,this.prime=Y}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}Hs.prototype._verify1=function(f){s(f.negative===0,"red works only with positives"),s(f.red,"red works only with red numbers")},Hs.prototype._verify2=function(f,Y){s((f.negative|Y.negative)===0,"red works only with positives"),s(f.red&&f.red===Y.red,"red works only with red numbers")},Hs.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(xi(f,f.umod(this.m)._forceRed(this)),f)},Hs.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Hs.prototype.add=function(f,Y){this._verify2(f,Y);var nt=f.add(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt._forceRed(this)},Hs.prototype.iadd=function(f,Y){this._verify2(f,Y);var nt=f.iadd(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt},Hs.prototype.sub=function(f,Y){this._verify2(f,Y);var nt=f.sub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt._forceRed(this)},Hs.prototype.isub=function(f,Y){this._verify2(f,Y);var nt=f.isub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt},Hs.prototype.shl=function(f,Y){return this._verify1(f),this.imod(f.ushln(Y))},Hs.prototype.imul=function(f,Y){return this._verify2(f,Y),this.imod(f.imul(Y))},Hs.prototype.mul=function(f,Y){return this._verify2(f,Y),this.imod(f.mul(Y))},Hs.prototype.isqr=function(f){return this.imul(f,f.clone())},Hs.prototype.sqr=function(f){return this.mul(f,f)},Hs.prototype.sqrt=function(f){if(f.isZero())return f.clone();var Y=this.m.andln(3);if(s(Y%2===1),Y===3){var nt=this.m.add(new l(1)).iushrn(2);return this.pow(f,nt)}for(var vs=this.m.subn(1),ks=0;!vs.isZero()&&vs.andln(1)===0;)ks++,vs.iushrn(1);s(!vs.isZero());var Ds=new l(1).toRed(this),Bs=Ds.redNeg(),Ms=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,Ms).cmp(Bs)!==0;)Q.redIAdd(Bs);for(var $s=this.pow(Q,vs),Ks=this.pow(f,vs.addn(1).iushrn(1)),jo=this.pow(f,vs),Bo=ks;jo.cmp(Ds)!==0;){for(var To=jo,Oo=0;To.cmp(Ds)!==0;Oo++)To=To.redSqr();s(Oo<Bo);var Vo=this.pow($s,new l(1).iushln(Bo-Oo-1));Ks=Ks.redMul(Vo),$s=Vo.redSqr(),jo=jo.redMul($s),Bo=Oo}return Ks},Hs.prototype.invm=function(f){var Y=f._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},Hs.prototype.pow=function(f,Y){if(Y.isZero())return new l(1).toRed(this);if(Y.cmpn(1)===0)return f.clone();var nt=4,vs=new Array(1<<nt);vs[0]=new l(1).toRed(this),vs[1]=f;for(var ks=2;ks<vs.length;ks++)vs[ks]=this.mul(vs[ks-1],f);var Ds=vs[0],Bs=0,Ms=0,Q=Y.bitLength()%26;for(Q===0&&(Q=26),ks=Y.length-1;ks>=0;ks--){for(var $s=Y.words[ks],Ks=Q-1;Ks>=0;Ks--){var jo=$s>>Ks&1;if(Ds!==vs[0]&&(Ds=this.sqr(Ds)),jo===0&&Bs===0){Ms=0;continue}Bs<<=1,Bs|=jo,Ms++,!(Ms!==nt&&(ks!==0||Ks!==0))&&(Ds=this.mul(Ds,vs[Bs]),Ms=0,Bs=0)}Q=26}return Ds},Hs.prototype.convertTo=function(f){var Y=f.umod(this.m);return Y===f?Y.clone():Y},Hs.prototype.convertFrom=function(f){var Y=f.clone();return Y.red=null,Y},l.mont=function(f){return new Ws(f)};function Ws(f){Hs.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ws,Hs),Ws.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Ws.prototype.convertFrom=function(f){var Y=this.imod(f.mul(this.rinv));return Y.red=null,Y},Ws.prototype.imul=function(f,Y){if(f.isZero()||Y.isZero())return f.words[0]=0,f.length=1,f;var nt=f.imul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.mul=function(f,Y){if(f.isZero()||Y.isZero())return new l(0)._forceRed(this);var nt=f.mul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.invm=function(f){var Y=this.imod(f._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(typeof e>"u"||e,t)}),be$5={REQUEST_PARAMS:"requestParams",METHOD_NAME:"methodName"},Kc,Me$4=(Kc=class extends Error{constructor(e,i,n){super(e),this.code=i,this.details=n,this.name=this.constructor.name}toJSON(){return{name:this.name,message:this.message,code:this.code,details:this.details}}toString(){return JSON.stringify(this.toJSON())}static isErrorCode(e,i){return e instanceof Kc&&e.code===i}},Kc.DETAILS_KEYS=be$5,Kc),ti$2=class extends Me$4{constructor(e,i,n){super(e,i||"UnknownError",n)}static isCommonErrorCode(e,i){return this.isErrorCode(e,i)}},Dt$2=(t,e,i)=>{throw new ti$2(e,t,i)},no$2="0x0000000000000000000000000000000000000000000000000000000000000006",ki$1=getFullnodeUrl("mainnet"),Fi$1=getFullnodeUrl("testnet"),ao$1=["CETUS","TURBOS","STEAMM","SPRINGSUI","HAEDAL","FLOWX","AFTERMATH","ALPHAFI","BLUEFIN","METASTABLE","VOLO","SCALLOP","KRIYA","FLOWXV3","DEEPBOOKV3","AFSUI","BLUEMOVE","KRIYAV3","HAEDALPMM","OBRIC"],fo$1=3e5,_e$4=864e5;function fe$3(t){return Date.parse(new Date().toString())+t}var ue$3=class{constructor(e,i=0){this.overdue_time=i,this.value=e}isValid(){return this.value===null?!1:this.overdue_time===0?!0:!(Date.parse(new Date().toString())>this.overdue_time)}},le$4=9e15,ee$3=1e9,ei$4="0123456789abcdef",Se$3="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ne$5="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ii$3={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:le$4,crypto:!1},Ui$1,$t$4,D$3=!0,Ae$2="[DecimalError] ",te$3=Ae$2+"Invalid argument: ",Zi$4=Ae$2+"Precision limit exceeded",Xi$3=Ae$2+"crypto unavailable",Ki$3="[object Decimal]",Ft$2=Math.floor,Ot$2=Math.pow,Ar$2=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Br$3=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Cr$2=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Gi$3=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xt$5=1e7,I$3=7,Er$3=9007199254740991,Or$3=Se$3.length-1,ri$2=Ne$5.length-1,S$2={toStringTag:Ki$3};S$2.absoluteValue=S$2.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),E$3(t)};S$2.ceil=function(){return E$3(new this.constructor(this),this.e+1,2)};S$2.clampedTo=S$2.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(te$3+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};S$2.comparedTo=S$2.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};S$2.cosine=S$2.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+I$3,n.rounding=1,i=Rr$3(n,Wi$2(n,i)),n.precision=t,n.rounding=e,E$3($t$4==2||$t$4==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};S$2.cubeRoot=S$2.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(D$3=!1,a=et.s*Ot$2(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=Pt$1(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=Ot$2(i,1/3),t=Ft$2((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=U$2(q.plus(et).times(A),q.plus(T),l+2,1),Pt$1(A.d).slice(0,l)===(i=Pt$1(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(E$3(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(E$3(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return D$3=!0,E$3(n,t,xi.rounding,e)};S$2.decimalPlaces=S$2.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-Ft$2(this.e/I$3))*I$3,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};S$2.dividedBy=S$2.div=function(t){return U$2(this,new this.constructor(t))};S$2.dividedToIntegerBy=S$2.divToInt=function(t){var e=this,i=e.constructor;return E$3(U$2(e,new i(t),0,1,1),i.precision,i.rounding)};S$2.equals=S$2.eq=function(t){return this.cmp(t)===0};S$2.floor=function(){return E$3(new this.constructor(this),this.e+1,3)};S$2.greaterThan=S$2.gt=function(t){return this.cmp(t)>0};S$2.greaterThanOrEqualTo=S$2.gte=function(t){var e=this.cmp(t);return e==1||e===0};S$2.hyperbolicCosine=S$2.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/Ce$3(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=ce$3(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return E$3(a,l.precision=i,l.rounding=n,!0)};S$2.hyperbolicSine=S$2.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=ce$3(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/Ce$3(5,t)),s=ce$3(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,E$3(s,e,i,!0)};S$2.hyperbolicTangent=S$2.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,U$2(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};S$2.inverseCosine=S$2.acos=function(){var t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,s=e.rounding;return i!==-1?i===0?t.isNeg()?Kt$4(e,n,s):new e(0):new e(NaN):t.isZero()?Kt$4(e,n+4,s).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=s,t.times(2))};S$2.inverseHyperbolicCosine=S$2.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,D$3=!1,i=i.times(i).minus(1).sqrt().plus(i),D$3=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};S$2.inverseHyperbolicSine=S$2.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,D$3=!1,i=i.times(i).plus(1).sqrt().plus(i),D$3=!0,n.precision=t,n.rounding=e,i.ln())};S$2.inverseHyperbolicTangent=S$2.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?E$3(new a(s),t,e,!0):(a.precision=i=n-s.e,s=U$2(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};S$2.inverseSine=S$2.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=Kt$4(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};S$2.inverseTangent=S$2.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=ri$2)return l=Kt$4(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=ri$2)return l=Kt$4(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/I$3+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(D$3=!1,e=Math.ceil(A/I$3),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),D$3=!0,E$3(l,et.precision=xi,et.rounding=Oi,!0)};S$2.isFinite=function(){return!!this.d};S$2.isInteger=S$2.isInt=function(){return!!this.d&&Ft$2(this.e/I$3)>this.d.length-2};S$2.isNaN=function(){return!this.s};S$2.isNegative=S$2.isNeg=function(){return this.s<0};S$2.isPositive=S$2.isPos=function(){return this.s>0};S$2.isZero=function(){return!!this.d&&this.d[0]===0};S$2.lessThan=S$2.lt=function(t){return this.cmp(t)<0};S$2.lessThanOrEqualTo=S$2.lte=function(t){return this.cmp(t)<1};S$2.logarithm=S$2.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(D$3=!1,A=xi+Ts,l=Jt$3(q,A),n=e?Te$1(et,A+10):Jt$3(t,A),T=U$2(l,n,A,1),pe$3(T.d,s=xi,Oi))do if(A+=10,l=Jt$3(q,A),n=e?Te$1(et,A+10):Jt$3(t,A),T=U$2(l,n,A,1),!a){+Pt$1(T.d).slice(s+1,s+15)+1==1e14&&(T=E$3(T,xi+1,0));break}while(pe$3(T.d,s+=10,Oi));return D$3=!0,E$3(T,xi,Oi)};S$2.minus=S$2.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return D$3?E$3(t,A,T):t}if(i=Ft$2(t.e/I$3),et=Ft$2(Ts.e/I$3),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/I$3),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=Xt$5-1;--q[s],q[n]+=Xt$5}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=Be$3(q,i),D$3?E$3(t,A,T):t):new Fs(T===3?-0:0)};S$2.modulo=S$2.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?E$3(new n(i),n.precision,n.rounding):(D$3=!1,n.modulo==9?(e=U$2(i,t.abs(),0,3,1),e.s*=t.s):e=U$2(i,t,0,n.modulo,1),e=e.times(t),D$3=!0,i.minus(e))};S$2.naturalExponential=S$2.exp=function(){return ni$2(this)};S$2.naturalLogarithm=S$2.ln=function(){return Jt$3(this)};S$2.negated=S$2.neg=function(){var t=new this.constructor(this);return t.s=-t.s,E$3(t)};S$2.plus=S$2.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),D$3?E$3(t,A,T):t;if(a=Ft$2(xi.e/I$3),n=Ft$2(t.e/I$3),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/I$3),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/Xt$5|0,q[s]%=Xt$5;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=Be$3(q,n),D$3?E$3(t,A,T):t};S$2.precision=S$2.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(te$3+t);return i.d?(e=$i$4(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};S$2.round=function(){var t=this,e=t.constructor;return E$3(new e(t),t.e+1,e.rounding)};S$2.sine=S$2.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+I$3,n.rounding=1,i=Dr$3(n,Wi$2(n,i)),n.precision=t,n.rounding=e,E$3($t$4>2?i.neg():i,t,e,!0)):new n(NaN)};S$2.squareRoot=S$2.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(D$3=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=Pt$1(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=Ft$2((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus(U$2(l,a,i+2,1)).times(.5),Pt$1(a.d).slice(0,i)===(e=Pt$1(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(E$3(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(E$3(n,T+1,1),t=!n.times(n).eq(l));break}return D$3=!0,E$3(n,T,et.rounding,t)};S$2.tangent=S$2.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=U$2(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,E$3($t$4==2||$t$4==4?i.neg():i,t,e,!0)):new n(NaN)};S$2.times=S$2.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=Ft$2(et.e/I$3)+Ft$2(t.e/I$3),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%Xt$5|0,e=A/Xt$5|0;a[s]=(a[s]+e)%Xt$5|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=Be$3(a,i),D$3?E$3(t,xi.precision,xi.rounding):t};S$2.toBinary=function(t,e){return oi$3(this,2,t,e)};S$2.toDecimalPlaces=S$2.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(jt$3(t,0,ee$3),e===void 0?e=n.rounding:jt$3(e,0,8),E$3(i,t+i.e+1,e))};S$2.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Gt$2(n,!0):(jt$3(t,0,ee$3),e===void 0?e=s.rounding:jt$3(e,0,8),n=E$3(new s(n),t+1,e),i=Gt$2(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};S$2.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=Gt$2(s):(jt$3(t,0,ee$3),e===void 0?e=a.rounding:jt$3(e,0,8),n=E$3(new a(s),t+s.e+1,e),i=Gt$2(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};S$2.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=$i$4(Fs)-Ts.e-1,l=a%I$3,e.d[0]=Ot$2(10,l<0?I$3+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error(te$3+A);t=A.gt(e)?a>0?e:q:A}for(D$3=!1,A=new qs(Pt$1(Fs)),et=qs.precision,qs.precision=a=Fs.length*I$3*2;xi=U$2(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=U$2(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=U$2(q,n,a,1).minus(Ts).abs().cmp(U$2(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,D$3=!0,Oi};S$2.toHexadecimal=S$2.toHex=function(t,e){return oi$3(this,16,t,e)};S$2.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:jt$3(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(D$3=!1,i=U$2(i,t,0,e,1).times(t),D$3=!0,E$3(i)):(t.s=i.s,i=t),i};S$2.toNumber=function(){return+this};S$2.toOctal=function(t,e){return oi$3(this,8,t,e)};S$2.toPower=S$2.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(Ot$2(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return E$3(A,n,a);if(e=Ft$2(t.e/I$3),e>=t.d.length-1&&(i=q<0?-q:q)<=Er$3)return s=zi$3(T,A,i,n),t.s<0?new T(1).div(s):E$3(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(!(t.d[e]&1)&&(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=Ot$2(+A,q),e=i==0||!isFinite(i)?Ft$2(q*(Math.log("0."+Pt$1(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(D$3=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=ni$2(t.times(Jt$3(A,n+i)),n),s.d&&(s=E$3(s,n+5,1),pe$3(s.d,n,a)&&(e=n+10,s=E$3(ni$2(t.times(Jt$3(A,e+i)),e),e+5,1),+Pt$1(s.d).slice(n+1,n+15)+1==1e14&&(s=E$3(s,n+1,0)))),s.s=l,D$3=!0,T.rounding=a,E$3(s,n,a))};S$2.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Gt$2(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(jt$3(t,1,ee$3),e===void 0?e=s.rounding:jt$3(e,0,8),n=E$3(new s(n),t,e),i=Gt$2(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};S$2.toSignificantDigits=S$2.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(jt$3(t,1,ee$3),e===void 0?e=n.rounding:jt$3(e,0,8)),E$3(new n(i),t,e)};S$2.toString=function(){var t=this,e=t.constructor,i=Gt$2(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};S$2.truncated=S$2.trunc=function(){return E$3(new this.constructor(this),this.e+1,1)};S$2.valueOf=S$2.toJSON=function(){var t=this,e=t.constructor,i=Gt$2(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function Pt$1(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=I$3-n.length,i&&(a+=Yt$3(i)),a+=n;l=t[e],n=l+"",i=I$3-n.length,i&&(a+=Yt$3(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function jt$3(t,e,i){if(t!==~~t||t<e||t>i)throw Error(te$3+t)}function pe$3(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=I$3,s=0):(s=Math.ceil((e+1)/I$3),e%=I$3),a=Ot$2(10,I$3-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==Ot$2(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==Ot$2(10,e-3)-1,l}function ye$5(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=ei$4.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function Rr$3(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/Ce$3(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=ce$3(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var U$2=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=Xt$5,Ts=I$3,et=Ft$2(n.e/Ts)-Ft$2(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,Ui$1=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,E$3(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function E$3(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=I$3,l=e,et=xi[Oi=0],T=et/Ot$2(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/I$3),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=I$3,l=a-I$3+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=I$3,l=a-I$3+s,T=l<0?0:et/Ot$2(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%Ot$2(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/Ot$2(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=Ot$2(10,(I$3-e%I$3)%I$3),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=Ot$2(10,I$3-a),xi[Oi]=l>0?(et/Ot$2(10,s-l)%Ot$2(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==Xt$5&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=Xt$5)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return D$3&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function Gt$2(t,e,i){if(!t.isFinite())return Vi$3(t);var n,s=t.e,a=Pt$1(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+Yt$3(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+Yt$3(-s-1)+a,i&&(n=i-l)>0&&(a+=Yt$3(n))):s>=l?(a+=Yt$3(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+Yt$3(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=Yt$3(n))),a}function Be$3(t,e){var i=t[0];for(e*=I$3;i>=10;i/=10)e++;return e}function Te$1(t,e,i){if(e>Or$3)throw D$3=!0,i&&(t.precision=i),Error(Zi$4);return E$3(new t(Se$3),e,1,!0)}function Kt$4(t,e,i){if(e>ri$2)throw Error(Zi$4);return E$3(new t(Ne$5),e,i,!0)}function $i$4(t){var e=t.length-1,i=e*I$3+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function Yt$3(t){for(var e="";t--;)e+="0";return e}function zi$3(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/I$3+4);for(D$3=!1;;){if(i%2&&(a=a.times(e),ji$3(a.d,l)&&(s=!0)),i=Ft$2(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),ji$3(e.d,l)}return D$3=!0,a}function qi$2(t){return t.d[t.d.length-1]&1}function Hi$4(t,e,i){for(var n,s,a=new t(e[0]),l=0;++l<e.length;){if(s=new t(e[l]),!s.s){a=s;break}n=a.cmp(s),(n===i||n===0&&a.s===i)&&(a=s)}return a}function ni$2(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(D$3=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(Ot$2(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=E$3(a.times(t),T,1),i=i.times(++et),A=l.plus(U$2(a,i,T,1)),Pt$1(A.d).slice(0,T)===Pt$1(l.d).slice(0,T)){for(s=xi;s--;)l=E$3(l.times(l),T,1);if(e==null)if(q<3&&pe$3(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return E$3(l,Oi.precision=Fs,Ts,D$3=!0);else return Oi.precision=Fs,l}l=A}}function Jt$3(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(D$3=!1,et=zs):et=e,Ls.precision=et+=Fs,i=Pt$1(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=Pt$1(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=Te$1(Ls,et+2,zs).times(a+""),qs=Jt$3(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?E$3(qs,zs,Gs,D$3=!0):qs;for(xi=qs,T=l=qs=U$2(qs.minus(1),qs.plus(1),et,1),Oi=E$3(qs.times(qs),et,1),s=3;;){if(l=E$3(l.times(Oi),et,1),q=T.plus(U$2(l,new Ls(s),et,1)),Pt$1(q.d).slice(0,et)===Pt$1(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(Te$1(Ls,et+2,zs).times(a+""))),T=U$2(T,new Ls(Ts),et,1),e==null)if(pe$3(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=U$2(xi.minus(1),xi.plus(1),et,1),Oi=E$3(qs.times(qs),et,1),s=A=1;else return E$3(T,Ls.precision=zs,Gs,D$3=!0);else return Ls.precision=zs,T;T=q,s+=2}}function Vi$3(t){return String(t.s*t.s/0)}function xe$1(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%I$3,i<0&&(n+=I$3),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=I$3;n<s;)t.d.push(+e.slice(n,n+=I$3));e=e.slice(n),n=I$3-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),D$3&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Ir$3(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Gi$3.test(e))return xe$1(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Br$3.test(e))i=16,e=e.toLowerCase();else if(Ar$2.test(e))i=2;else if(Cr$2.test(e))i=8;else throw Error(te$3+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=zi$3(n,new n(i),a,a*2)),q=ye$5(e,i,Xt$5),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=Be$3(q,et),t.d=q,D$3=!1,l&&(t=U$2(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?Ot$2(2,T):oe$3.pow(2,T))),D$3=!0,t)}function Dr$3(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:ce$3(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/Ce$3(5,i)),e=ce$3(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function ce$3(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/I$3);for(D$3=!1,T=i.times(i),A=new t(n);;){if(l=U$2(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=U$2(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return D$3=!0,l.d.length=et+1,l}function Ce$3(t,e){for(var i=t;--e;)i*=t;return i}function Wi$2(t,e){var i,n=e.s<0,s=Kt$4(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return $t$4=n?4:1,e;if(i=e.divToInt(s),i.isZero())$t$4=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return $t$4=qi$2(i)?n?2:3:n?4:1,e;$t$4=qi$2(i)?n?1:4:n?3:2}return e.minus(s).abs()}function oi$3(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(jt$3(i,1,ee$3),n===void 0?n=Ts.rounding:jt$3(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=Vi$3(t);else{for(et=Gt$2(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=ye$5(Gt$2(Oi),10,s),Oi.e=Oi.d.length),xi=ye$5(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=U$2(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=Ui$1),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=ei$4.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=ye$5(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=ei$4.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function ji$3(t,e){if(t.length>e)return t.length=e,!0}function Pr$3(t){return new this(t).abs()}function kr$2(t){return new this(t).acos()}function Fr$3(t){return new this(t).acosh()}function qr$3(t,e){return new this(t).plus(e)}function jr$3(t){return new this(t).asin()}function Lr$3(t){return new this(t).asinh()}function Ur$3(t){return new this(t).atan()}function Zr$3(t){return new this(t).atanh()}function Xr$2(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=Kt$4(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?Kt$4(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=Kt$4(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan(U$2(t,e,a,1)),e=Kt$4(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(U$2(t,e,a,1)),i}function Kr$3(t){return new this(t).cbrt()}function Gr$2(t){return E$3(t=new this(t),t.e+1,2)}function $r$2(t,e,i){return new this(t).clamp(e,i)}function zr$3(t){if(!t||typeof t!="object")throw Error(Ae$2+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,ee$3,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,le$4,"maxE",0,le$4,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=ii$3[i]),(n=t[i])!==void 0)if(Ft$2(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error(te$3+i+": "+n);if(i="crypto",s&&(this[i]=ii$3[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(Xi$3);else this[i]=!1;else throw Error(te$3+i+": "+n);return this}function Hr$3(t){return new this(t).cos()}function Vr$2(t){return new this(t).cosh()}function Qi$2(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,Li$2(a)){q.s=a.s,D$3?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;D$3?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return xe$1(q,a.toString())}if(T==="string")return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),Gi$3.test(a)?xe$1(q,a):Ir$3(q,a);if(T==="bigint")return a<0?(a=-a,q.s=-1):q.s=1,xe$1(q,a.toString());throw Error(te$3+a)}if(s.prototype=S$2,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=zr$3,s.clone=Qi$2,s.isDecimal=Li$2,s.abs=Pr$3,s.acos=kr$2,s.acosh=Fr$3,s.add=qr$3,s.asin=jr$3,s.asinh=Lr$3,s.atan=Ur$3,s.atanh=Zr$3,s.atan2=Xr$2,s.cbrt=Kr$3,s.ceil=Gr$2,s.clamp=$r$2,s.cos=Hr$3,s.cosh=Vr$2,s.div=Wr$3,s.exp=Qr$3,s.floor=Yr$2,s.hypot=Jr$2,s.ln=tn$1,s.log=en$2,s.log10=nn$2,s.log2=rn$2,s.max=on$2,s.min=sn$2,s.mod=an$1,s.mul=un$1,s.pow=fn$1,s.random=ln$3,s.round=cn$1,s.sign=hn$1,s.sin=dn$1,s.sinh=mn$1,s.sqrt=pn$2,s.sub=gn$2,s.sum=vn$2,s.tan=wn$1,s.tanh=Mn$2,s.trunc=bn$4,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function Wr$3(t,e){return new this(t).div(e)}function Qr$3(t){return new this(t).exp()}function Yr$2(t){return E$3(t=new this(t),t.e+1,3)}function Jr$2(){var t,e,i=new this(0);for(D$3=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return D$3=!0,new this(1/0);i=e}return D$3=!0,i.sqrt()}function Li$2(t){return t instanceof oe$3||t&&t.toStringTag===Ki$3||!1}function tn$1(t){return new this(t).ln()}function en$2(t,e){return new this(t).log(e)}function rn$2(t){return new this(t).log(2)}function nn$2(t){return new this(t).log(10)}function on$2(){return Hi$4(this,arguments,-1)}function sn$2(){return Hi$4(this,arguments,1)}function an$1(t,e){return new this(t).mod(e)}function un$1(t,e){return new this(t).mul(e)}function fn$1(t,e){return new this(t).pow(e)}function ln$3(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:jt$3(t,1,ee$3),n=Math.ceil(t/I$3),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(Xi$3);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=I$3,n&&t&&(s=Ot$2(10,I$3-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=I$3)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<I$3&&(i-=I$3-n)}return l.e=i,l.d=A,l}function cn$1(t){return E$3(t=new this(t),t.e+1,this.rounding)}function hn$1(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function dn$1(t){return new this(t).sin()}function mn$1(t){return new this(t).sinh()}function pn$2(t){return new this(t).sqrt()}function gn$2(t,e){return new this(t).sub(e)}function vn$2(){var t=0,e=arguments,i=new this(e[t]);for(D$3=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return D$3=!0,E$3(i,this.precision,this.rounding)}function wn$1(t){return new this(t).tan()}function Mn$2(t){return new this(t).tanh()}function bn$4(t){return E$3(t=new this(t),t.e+1,1)}S$2[Symbol.for("nodejs.util.inspect.custom")]=S$2.toString;S$2[Symbol.toStringTag]="Decimal";var oe$3=S$2.constructor=Qi$2(ii$3);Se$3=new oe$3(Se$3);Ne$5=new oe$3(Ne$5);var Lt$3=oe$3;function G$2(t){return Lt$3.isDecimal(t)?t:new Lt$3(t===void 0?0:t)}function Yi$1(t){return G$2(10).pow(G$2(t).abs())}function Ee$3(t,e){let i=Yi$1(G$2(e));return Number(G$2(t).mul(i))}function mo$1(t,e=32){return BigInt.asUintN(e,BigInt(t)).toString()}function po$1(t,e=32){return Number(BigInt.asIntN(e,BigInt(t)))}function si$2(t,e){let i=Yi$1(G$2(e));return Number(G$2(t).div(i))}var _n$1=(t,e,i=!0)=>{if(`${t}`=="0")return!parseFloat(e)||!i?"0":"0.".padEnd(e+2,"0");if(!t)return"--";let n=parseFloat(t),s=t.toString(),a=n<0,l=s;if(s.toLowerCase().includes("e")){let A=s.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/);if(!A)return t.toString();let T=A[1]||"0",q=A[2]||"",et=A[3],xi=parseInt(A[4],10),Oi="",Ts=q.substring(xi)||"";if(Ts&&(Ts=`.${Ts}`),et!=="-"){for(let Fs=0;Fs<xi;Fs++)Oi+=q[Fs]||"0";l=T+Oi+Ts}else{let Fs="0";for(let qs=0;qs<xi;qs++)Oi=(T[T.length-qs-1]||"0")+Oi;T.length>xi&&(Fs=T.substring(0,T.length-xi)),l=`${Fs}.${Oi}${q}`}}if(e&&i){let A=`${l.split(".")[0]}.`,T=l.split(".")[1]||"";for(let q=0;q<e;q++)A+=T[q]||"0";l=A}return`${a?"-":""}${l}`};function go$1(t,e=9){if(t===void 0)return"";let i=t==null?void 0:t.toLowerCase();if(i.includes("e")){if(i.includes("+"))return _n$1(i,e);let[n,s]=i.split("e"),a=n,l=Math.abs(parseInt(s,10)),A="",T=a.length;if(n.includes(".")){let[q,et]=n.split(".");a=q+et,T=q.length}for(let q=0;q<l-T;q++)A+="0";return`0.${A}${a}`.slice(0,e+2)}return t}var fi$2="0x2::sui::SUI",tr$3="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",Cu,Oe$3=(Cu=class{static totalBalance(e,i){let n=BigInt(0);return e.forEach(s=>{i===s.coin_type&&(n+=BigInt(s.balance))}),n}static getCoinAssets(e,i){let n=[];return i.forEach(s=>{ai$2(s.coin_type)===ai$2(e)&&n.push(s)}),n}static isSuiCoin(e){return ie$2(e).full_address===fi$2}static selectCoinObjectIdGreaterThanOrEqual(e,i,n=[]){let s=Cu.selectCoinAssetGreaterThanOrEqual(e,i,n),a=s.selected_coins.map(T=>T.coin_object_id),l=s.remain_coins,A=s.selected_coins.map(T=>T.balance.toString());return{object_array:a,remain_coins:l,amount_array:A}}static selectCoinAssetGreaterThanOrEqual(e,i,n=[]){let s=Cu.sortByBalance(e.filter(q=>!n.includes(q.coin_object_id))),a=Cu.calculateTotalBalance(s);if(a<i)return{selected_coins:[],remain_coins:s};if(a===i)return{selected_coins:s,remain_coins:[]};let l=BigInt(0),A=[],T=[...s];for(;l<a;){let q=i-l,et=T.findIndex(Oi=>Oi.balance>=q);if(et!==-1){A.push(T[et]),T.splice(et,1);break}let xi=T.pop();xi.balance>0&&(A.push(xi),l+=xi.balance)}return{selected_coins:Cu.sortByBalance(A),remain_coins:Cu.sortByBalance(T)}}static sortByBalance(e){return e.sort((i,n)=>i.balance<n.balance?-1:i.balance>n.balance?1:0)}static sortByBalanceDes(e){return e.sort((i,n)=>i.balance>n.balance?-1:i.balance<n.balance?0:1)}static calculateTotalBalance(e){return e.reduce((i,n)=>i+n.balance,BigInt(0))}static buildCoinForAmount(e,i,n,s,a=!0,l=!0){let A=Cu.getCoinAssets(s,i);if(n===BigInt(0))return this.buildZeroValueCoin(i,e,s,a);let T=Cu.calculateTotalBalance(A);if(T<n)throw new Error(`The amount(${T}) is Insufficient balance for ${s} , expect ${n} `);return this.buildCoin(e,i,A,n,s,a,l)}static buildCoinWithBalance(e,i,n){return e===BigInt(0)&&Cu.isSuiCoin(i)?n.add(coinWithBalance({balance:e,useGasCoin:!1})):n.add(coinWithBalance({balance:e,type:i}))}static buildVectorCoin(e,i,n,s,a,l=!0){if(Cu.isSuiCoin(a)){let Oi=e.splitCoins(e.gas,[e.pure.u64(s)]);return{selected_coins:[],target_coin:Oi,remain_coins:i,target_coin_amount:s.toString(),is_mint_zero_coin:!1,original_spited_coin:e.gas}}let{original_spited_coin:A,target_coin:T,target_coin_amount:q,remain_coins:et,selected_coins:xi}=this.buildSpitTargeCoin(e,s,n,l);return l?{target_coin:e.makeMoveVec({elements:[T]}),selected_coins:xi,remain_coins:et,target_coin_amount:q,is_mint_zero_coin:!1,original_spited_coin:A}:{selected_coins:xi,target_coin:e.makeMoveVec({elements:xi.map(Oi=>e.object(Oi))}),remain_coins:et,target_coin_amount:q,is_mint_zero_coin:!1}}static buildOneCoin(e,i,n,s,a=!0){if(Cu.isSuiCoin(s)){if(n===0n&&i.length>1){let T=Cu.selectCoinObjectIdGreaterThanOrEqual(i,n);return{selected_coins:T.object_array,target_coin:e.object(T.object_array[0]),remain_coins:T.remain_coins,target_coin_amount:T.amount_array[0],is_mint_zero_coin:!1}}let l=Cu.selectCoinObjectIdGreaterThanOrEqual(i,n),A=e.splitCoins(e.gas,[e.pure.u64(n)]);return{selected_coins:[],target_coin:A,remain_coins:l.remain_coins,target_coin_amount:n.toString(),is_mint_zero_coin:!1,original_spited_coin:e.gas}}return this.buildSpitTargeCoin(e,n,i,a)}static buildSpitTargeCoin(e,i,n,s){let a=Cu.selectCoinObjectIdGreaterThanOrEqual(n,i),l=a.amount_array.reduce((Fs,qs)=>Number(Fs)+Number(qs),0).toString(),A=a.object_array,[T,...q]=A,et=e.object(T),xi=et,Oi=a.amount_array.reduce((Fs,qs)=>Number(Fs)+Number(qs),0).toString(),Ts;return q.length>0&&e.mergeCoins(et,q.map(Fs=>e.object(Fs))),s&&Number(l)>Number(i)&&(xi=e.splitCoins(et,[e.pure.u64(i)]),Ts=et),{original_spited_coin:Ts,target_coin:xi,target_coin_amount:Oi,remain_coins:a.remain_coins,selected_coins:a.object_array,is_mint_zero_coin:!1}}static buildCoin(e,i,n,s,a,l=!0,A=!0){return l?this.buildVectorCoin(e,i,n,s,a,A):this.buildOneCoin(e,n,s,a,A)}static buildZeroValueCoin(e,i,n,s=!0){let a=this.callMintZeroValueCoin(i,n),l;return s?l=i.makeMoveVec({elements:[a]}):l=a,{target_coin:l,remain_coins:e,selected_coins:[],is_mint_zero_coin:!0,target_coin_amount:"0"}}static buildCoinForAmountInterval(e,i,n,s,a=!0,l=!0){let A=Cu.getCoinAssets(s,i);if(n.amount_first===BigInt(0))return A.length>0?this.buildCoin(e,[...i],[...A],n.amount_first,s,a,l):this.buildZeroValueCoin(i,e,s,a);let T=Cu.calculateTotalBalance(A);if(T>=n.amount_first)return this.buildCoin(e,[...i],[...A],n.amount_first,s,a,l);if(T<n.amount_second)throw new Error(`The amount(${T}) is Insufficient balance for ${s} , expect ${n.amount_second} `);return this.buildCoin(e,[...i],[...A],n.amount_second,s,a,l)}static fromBalance(e,i,n){return n.moveCall({target:"0x2::coin::from_balance",typeArguments:[i],arguments:[e]})}static getCoinAmountObjId(e,i){let n=e.amount_coin_array.find(s=>!s.used&&G$2(s.amount).eq(i)?(s.used=!0,!0):!1);return n?n.coin_object_id:Dt$2("CoinNotFound",`Coin not found for ${i} ${e.coin_type}`)}static buildMultiCoinInput(e,i,n,s){let a=Cu.getCoinAssets(n,i);if(Cu.isSuiCoin(n)){let xi=e.splitCoins(e.gas,s.map(Oi=>e.pure.u64(Oi)));return{amount_coin_array:s.map((Oi,Ts)=>({coin_object_id:xi[Ts],amount:Oi.toString(),used:!1})),coin_type:n,remain_coins:a}}let l=s.reduce((xi,Oi)=>xi+Oi,BigInt(0)),A=Cu.selectCoinObjectIdGreaterThanOrEqual(a,l);if(A.object_array.length===0)return Dt$2("InsufficientBalance",`No enough coins for ${n} expect ${l} actual ${Cu.calculateTotalBalance(a)}`);let[T,...q]=A.object_array;q.length>0&&e.mergeCoins(T,[...q]);let et=e.splitCoins(T,s.map(xi=>e.pure.u64(xi)));return{amount_coin_array:s.map((xi,Oi)=>({coin_object_id:et[Oi],amount:xi.toString(),used:!1})),remain_coins:A.remain_coins,coin_type:n}}},Cu.callMintZeroValueCoin=(e,i)=>e.moveCall({target:"0x2::coin::zero",typeArguments:[i]}),Cu);function li$1(t){return t.startsWith("0x")?`${t.slice(2)}`:t}var En$1=0,sr$4=1,On$1=2;function nr$4(t,e){return t===e?En$1:t<e?sr$4:On$1}function Rn$2(t,e){let i=0,n=t.length<=e.length?t.length:e.length,s=nr$4(t.length,e.length);for(;i<n;){let a=nr$4(t.charCodeAt(i),e.charCodeAt(i));if(i+=1,a!==0)return a}return s}function Xo$1(t,e){return Rn$2(t,e)===sr$4}function or$4(t,...e){let i=Array.isArray(e[e.length-1])?e.pop():[],n=[t,...e].filter(Boolean).join("::");return i&&i.length&&(n+=`<${i.join(", ")}>`),n}function ie$2(t){var e,i;try{let n=t.replace(/\s/g,""),s=(i=(e=n.match(/(<.+>)$/))==null?void 0:e[0])==null?void 0:i.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(s){n=n.slice(0,n.indexOf("<"));let A={...ie$2(n),type_arguments:s.map(T=>ie$2(T).source_address)};return A.type_arguments=A.type_arguments.map(T=>Oe$3.isSuiCoin(T)?T:ie$2(T).source_address),A.source_address=or$4(A.full_address,A.type_arguments),A}let a=n.split("::"),l={full_address:n,address:n===fi$2||n===tr$3?"0x2":normalizeSuiObjectId$1(a[0]),module:a[1],name:a[2],type_arguments:[],source_address:""};return l.full_address=`${l.address}::${l.module}::${l.name}`,l.source_address=or$4(l.full_address,l.type_arguments),l}catch{return{full_address:t,address:"",module:"",name:"",type_arguments:[],source_address:t}}}function ai$2(t){return ie$2(t).source_address}var Go=(t,e=!0)=>{let i=t.split("::"),n=i.shift(),s=normalizeSuiObjectId$1(n);return e&&(s=li$1(s)),`${s}::${i.join("::")}`},hi$3=class{constructor(e){this._cache={},this._client=e}async fetchCoinMetadata(e){let i=`coin_metadata_${e}`,n=this.getCache(i);if(n)return n;let s=await this._client.getCoinMetadata({coinType:e});return this.updateCache(i,s),s}async getSuiTransactionResponse(e){let i;try{i=await this._client.getTransactionBlock({digest:e,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{i=await this._client.getTransactionBlock({digest:e,options:{showEvents:!0,showEffects:!0}})}return i}async queryEventsByPage(e,i="all"){let n=[],s=!0,a=i==="all",l=a?null:i.cursor;do{let A=await this._client.queryEvents({query:e,cursor:l,limit:a?null:i.limit});A.data?(n=[...n,...A.data],s=A.hasNextPage,l=A.nextCursor):s=!1}while(a&&s);return{data:n,next_cursor:l,has_next_page:s}}async queryTransactionBlocksByPage(e,i="all",n="ascending"){let s=[],a=!0,l=i==="all",A=l?null:i.cursor;do{let T=await this._client.queryTransactionBlocks({filter:e,cursor:A,order:n,limit:l?null:i.limit,options:{showEvents:!0}});T.data?(s=[...s,...T.data],a=T.hasNextPage,A=T.nextCursor):a=!1}while(l&&a);return{data:s,next_cursor:A,has_next_page:a}}async getOwnedObjectsByPage(e,i,n="all"){let s=[],a=!0,l=n==="all",A=l?null:n.cursor;do{let T=await this._client.getOwnedObjects({owner:e,...i,cursor:A,limit:l?null:n.limit});T.data?(s=[...s,...T.data],a=T.hasNextPage,A=T.nextCursor):a=!1}while(l&&a);return{data:s,next_cursor:A,has_next_page:a}}async getDynamicFieldsByPage(e,i="all"){let n=[],s=!0,a=i==="all",l=a?null:i.cursor;do{let A=await this._client.getDynamicFields({parentId:e,cursor:l,limit:a?null:i.limit});A.data?(n=[...n,...A.data],s=A.hasNextPage,l=A.nextCursor):s=!1}while(a&&s);return{data:n,next_cursor:l,has_next_page:s}}async batchGetObjects(e,i,n=50){let s=[];try{for(let a=0;a<Math.ceil(e.length/n);a++){let l=await this._client.multiGetObjects({ids:e.slice(a*n,n*(a+1)),options:i});s=[...s,...l]}}catch(a){console.log(a)}return s}async calculationTxGas(e){let{sender:i}=e.blockData;if(i===void 0)throw Error("sdk sender is empty");let n=await this._client.devInspectTransactionBlock({transactionBlock:e,sender:i}),{gasUsed:s}=n.effects;return Number(s.computationCost)+Number(s.storageCost)-Number(s.storageRebate)}async sendTransaction(e,i){try{return await this._client.signAndExecuteTransaction({transaction:i,signer:e,options:{showEffects:!0,showEvents:!0}})}catch(n){console.log("error: ",n)}}async sendSimulationTransaction(e,i){try{return e.setSender(i),await this._client.dryRunTransactionBlock({transactionBlock:await e.build({client:this._client})})}catch(n){console.log("devInspectTransactionBlock error",n)}}async executeTx(e,i,n){if(n){let s=await this.sendSimulationTransaction(i,normalizeSuiAddress$1(e.getPublicKey().toSuiAddress()));return s.events.length>0?s.events:s}else return await this.sendTransaction(e,i)}async getOwnerCoinAssets(e,i){let n=[],s=null;for(;;){let a=await(i?this._client.getCoins({owner:e,coinType:i,cursor:s}):this._client.getAllCoins({owner:e,cursor:s}));if(a.data.forEach(l=>{BigInt(l.balance)>0&&n.push({coin_type:ie$2(l.coinType).source_address,coin_object_id:l.coinObjectId,balance:BigInt(l.balance)})}),s=a.nextCursor,!a.hasNextPage)break}return n}async getOwnerCoinBalances(e,i){let n=[];return i?n=[await this._client.getBalance({owner:e,coinType:i})]:n=[...await this._client.getAllBalances({owner:e})],n}updateCache(e,i,n=864e5){let s=this._cache[e];s?(s.overdue_time=fe$3(n),s.value=i):s=new ue$3(i,fe$3(n)),this._cache[e]=s}getCache(e,i=!1){let n=this._cache[e],s=n==null?void 0:n.isValid();if(!i&&s)return n.value;s||delete this._cache[e]}};function ge$5(t){let e=new hi$3(t);return new Proxy(e,{get(i,n,s){if(n in i)return Reflect.get(i,n,s);if(n in i._client){let a=Reflect.get(i._client,n);return typeof a=="function"?a.bind(i._client):a}throw new Error(`Property or method "${String(n)}" does not exist on FullClient or its client.`)}})}var ur$4=class{constructor(e){this._cache={},this._senderAddress="";let{sui_client:i,env:n="mainnet"}=e;if(this._sdkOptions=e,i)this._fullClient=ge$5(i);else{let s=e.full_rpc_url||(n==="mainnet"?ki$1:Fi$1);this._sdkOptions.full_rpc_url=s,this._fullClient=ge$5(new SuiClient({url:s}))}}get sdkOptions(){return this._sdkOptions}get FullClient(){return this._fullClient}updateFullRpcUrl(e){this._sdkOptions.full_rpc_url=e,this._fullClient=ge$5(new SuiClient({url:e}))}updateSuiClient(e){this._fullClient=ge$5(e)}static createSDK(e,i){throw new Error("createSDK must be implemented in derived class")}static createCustomSDK(e,i){throw new Error("createCustomSDK must be implemented in derived class")}getSenderAddress(e=!0){return e&&!isValidSuiAddress$1(this._senderAddress)&&Dt$2("InvalidSenderAddress",'Invalid sender address: sdk requires a valid sender address. Please set it using sdk.setSenderAddress("0x...")'),this._senderAddress}setSenderAddress(e){this._senderAddress=e}updateCache(e,i,n=864e5){let s=this._cache[e];s?(s.overdue_time=fe$3(n),s.value=i):s=new ue$3(i,fe$3(n)),this._cache[e]=s}getCache(e,i=!1){let n=this._cache[e],s=n==null?void 0:n.isValid();if(!i&&s)return n.value;s||delete this._cache[e]}},lr$4=me$3(he$2()),mi$2=443636,pi$3=-443636,se$2="79226673515401279992447579055",ae$1="4295048016",ds$1=new lr$4.default(1e6),cr$4=(t=>(t[t.BelowRange=0]="BelowRange",t[t.InRange=1]="InRange",t[t.AboveRange=2]="AboveRange",t))(cr$4||{}),Et$1=me$3(he$2()),z$1=new Et$1.default(0),zt$2=new Et$1.default(1),Re$3=new Et$1.default(2);Re$3.pow(new Et$1.default(128));var ve$5=Re$3.pow(new Et$1.default(64)).sub(zt$2),Fn$1=Re$3.pow(new Et$1.default(128)).sub(zt$2),kt$1=class{static toX64BN(e){return e.mul(new Et$1.default(2).pow(new Et$1.default(64)))}static toX64Decimal(e){return e.mul(Lt$3.pow(2,64))}static toX64(e){return new Et$1.default(e.mul(Lt$3.pow(2,64)).floor().toFixed())}static fromX64(e){return new Lt$3(e.toString()).mul(Lt$3.pow(2,-64))}static fromX64Decimal(e){return e.mul(Lt$3.pow(2,-64))}static fromX64BN(e){return e.div(new Et$1.default(2).pow(new Et$1.default(64)))}static shiftRightRoundUp(e){let i=e.shrn(64);return e.mod(ve$5).gt(z$1)&&(i=i.add(zt$2)),i}static divRoundUp(e,i){return e.mod(i).eq(z$1)?e.div(i):e.div(i).add(new Et$1.default(1))}static subUnderflowU128(e,i){return e.lt(i)?e.sub(i).add(Fn$1):e.sub(i)}static checkUnsignedSub(e,i){let n=e.sub(i);if(n.isNeg())throw new Error("Unsigned integer sub overflow");return n}static checkMul(e,i,n){let s=e.mul(i);return this.isOverflow(s,n)&&Dt$2("MultiplicationOverflow","Multiplication overflow"),s}static checkMulDivFloor(e,i,n,s){n.eq(z$1)&&Dt$2("DivisionByZero","Divide by zero");let a=e.mul(i).div(n);return this.isOverflow(a,s)&&Dt$2("MultiplicationOverflow","Multiplication div overflow"),a}static checkMulDivCeil(e,i,n,s){if(n.eq(z$1))throw new Error("Divide by zero");let a=e.mul(i).add(n.sub(zt$2)).div(n);if(this.isOverflow(a,s))throw new Error("Multiplication div overflow");return a}static checkMulDivRound(e,i,n,s){n.eq(z$1)&&Dt$2("DivisionByZero","Divide by zero");let a=e.mul(i.add(n.shrn(1))).div(n);return this.isOverflow(a,s)&&Dt$2("MultiplicationOverflow","Multiplication div overflow"),a}static checkMulShiftRight(e,i,n,s){let a=e.mul(i).div(new Et$1.default(2).pow(new Et$1.default(n)));return this.isOverflow(a,s)&&Dt$2("MultiplicationOverflow","Multiplication shift right overflow"),a}static checkMulShiftRight64RoundUpIf(e,i,n,s){let a=e.mul(i),l=s&&a.and(ve$5).gt(z$1)?a.shrn(64).add(zt$2):a.shrn(64);return this.isOverflow(l,n)&&Dt$2("MultiplicationOverflow","Multiplication shift right overflow"),l}static checkMulShiftLeft(e,i,n,s){let a=e.mul(i).shln(n);return this.isOverflow(a,s)&&Dt$2("MultiplicationOverflow","Multiplication shift left overflow"),a}static checkDivRoundUpIf(e,i,n){return i.eq(z$1)&&Dt$2("DivisionByZero","Divide by zero"),n?this.divRoundUp(e,i):e.div(i)}static isOverflow(e,i){return e.gte(Re$3.pow(new Et$1.default(i)))}static sign(e){return e.testn(127)?1:0}static is_neg(e){return this.sign(e)===1}static abs_u128(e){return e.gt(z$1)?e:this.u128Neg(e.subn(1))}static u128Neg(e){return e.uxor(new Et$1.default("ffffffffffffffffffffffffffffffff",16))}static neg(e){return this.is_neg(e)?e.abs():this.negFrom(e)}static abs(e){return this.sign(e)===0?e:this.u128Neg(e.sub(new Et$1.default(1)))}static negFrom(e){return e.eq(z$1)?e:this.u128Neg(e).add(new Et$1.default(1)).or(new Et$1.default(1).shln(127))}},hr$4=class{static getMinIndex(e){return pi$3+Math.abs(pi$3)%e}static getMaxIndex(e){return mi$2-mi$2%e}};function xs(t,e){let i=Math.abs(t)%e;return t>0?i>e/2?t+e-i:t-i:i>e/2?t-e+i:t+i}function Ss(t){return t?ae$1:se$2}function Ns(t,e,i){return t>=e&&t<=i?"inRange":t<e?"left":"right"}function de$3(t){return t.data}function qn$2(t){if(t.error&&"object_id"in t.error&&"version"in t.error&&"digest"in t.error){let{error:e}=t;return{objectId:e.object_id,version:e.version,digest:e.digest}}}function jn$3(t){if(t.error&&"object_id"in t.error&&!("version"in t.error)&&!("digest"in t.error))return t.error.object_id}function dr$4(t){if("reference"in t)return t.reference;let e=de$3(t);return e?{objectId:e.objectId,version:e.version,digest:e.digest}:qn$2(t)}function As(t){var e;return"objectId"in t?t.objectId:((e=dr$4(t))==null?void 0:e.objectId)??jn$3(t)}function Ln$3(t){return t.data!==void 0}function Un$3(t){return t.content!==void 0}function gi$2(t){let e="data"in t?de$3(t):t;if(!(!e||!Un$3(e)||e.content.dataType!=="moveObject"))return e.content}function Zn$3(t){var e;return(e=gi$2(t))==null?void 0:e.type}function Es(t){var i;let e=Ln$3(t)?t.data:t;return!(e!=null&&e.type)&&"data"in t?((i=e==null?void 0:e.content)==null?void 0:i.dataType)==="package"?"package":Zn$3(t):e==null?void 0:e.type}function Os(t){var e;return(e=de$3(t))==null?void 0:e.previousTransaction}function Rs$1(t){var e;return(e=de$3(t))==null?void 0:e.owner}function Xn$3(t){var i;return((i=de$3(t))==null?void 0:i.display)||{data:null,error:null}}function Is(t){var i;let e=(i=gi$2(t))==null?void 0:i.fields;if(e)return"fields"in e?e.fields:e}function Ps(t){let e=Xn$3(t).data,i={creator:"",description:"",image_url:"",link:"",name:"",project_url:""};return e&&(i.creator=e.creator,i.description=e.description,i.image_url=e.image_url,i.link=e.link,i.name=e.name,i.project_url=e.project_url),i}Lt$3.config({precision:64,rounding:Lt$3.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var It$4=Lt$3,H$2=me$3(he$2()),R=me$3(he$2()),Kn$3=14,Gn$3="59543866431248",$n$3="184467440737095516",zn$3="15793534762490258745",Hn$3=443636;function Vn$3(t,e,i){let n=t.toTwos(i).shln(e);return n.imaskn(i+1),n.fromTwos(i)}function k$2(t,e,i){let n=t.toTwos(i).shrn(e);return n.imaskn(i-e+1),n.fromTwos(i-e)}function Wn$3(t){let e;return t&1?e=new R.default("79232123823359799118286999567"):e=new R.default("79228162514264337593543950336"),t&2&&(e=k$2(e.mul(new R.default("79236085330515764027303304731")),96,256)),t&4&&(e=k$2(e.mul(new R.default("79244008939048815603706035061")),96,256)),t&8&&(e=k$2(e.mul(new R.default("79259858533276714757314932305")),96,256)),t&16&&(e=k$2(e.mul(new R.default("79291567232598584799939703904")),96,256)),t&32&&(e=k$2(e.mul(new R.default("79355022692464371645785046466")),96,256)),t&64&&(e=k$2(e.mul(new R.default("79482085999252804386437311141")),96,256)),t&128&&(e=k$2(e.mul(new R.default("79736823300114093921829183326")),96,256)),t&256&&(e=k$2(e.mul(new R.default("80248749790819932309965073892")),96,256)),t&512&&(e=k$2(e.mul(new R.default("81282483887344747381513967011")),96,256)),t&1024&&(e=k$2(e.mul(new R.default("83390072131320151908154831281")),96,256)),t&2048&&(e=k$2(e.mul(new R.default("87770609709833776024991924138")),96,256)),t&4096&&(e=k$2(e.mul(new R.default("97234110755111693312479820773")),96,256)),t&8192&&(e=k$2(e.mul(new R.default("119332217159966728226237229890")),96,256)),t&16384&&(e=k$2(e.mul(new R.default("179736315981702064433883588727")),96,256)),t&32768&&(e=k$2(e.mul(new R.default("407748233172238350107850275304")),96,256)),t&65536&&(e=k$2(e.mul(new R.default("2098478828474011932436660412517")),96,256)),t&131072&&(e=k$2(e.mul(new R.default("55581415166113811149459800483533")),96,256)),t&262144&&(e=k$2(e.mul(new R.default("38992368544603139932233054999993551")),96,256)),k$2(e,32,256)}function Qn$3(t){let e=Math.abs(t),i;return e&1?i=new R.default("18445821805675392311"):i=new R.default("18446744073709551616"),e&2&&(i=k$2(i.mul(new R.default("18444899583751176498")),64,256)),e&4&&(i=k$2(i.mul(new R.default("18443055278223354162")),64,256)),e&8&&(i=k$2(i.mul(new R.default("18439367220385604838")),64,256)),e&16&&(i=k$2(i.mul(new R.default("18431993317065449817")),64,256)),e&32&&(i=k$2(i.mul(new R.default("18417254355718160513")),64,256)),e&64&&(i=k$2(i.mul(new R.default("18387811781193591352")),64,256)),e&128&&(i=k$2(i.mul(new R.default("18329067761203520168")),64,256)),e&256&&(i=k$2(i.mul(new R.default("18212142134806087854")),64,256)),e&512&&(i=k$2(i.mul(new R.default("17980523815641551639")),64,256)),e&1024&&(i=k$2(i.mul(new R.default("17526086738831147013")),64,256)),e&2048&&(i=k$2(i.mul(new R.default("16651378430235024244")),64,256)),e&4096&&(i=k$2(i.mul(new R.default("15030750278693429944")),64,256)),e&8192&&(i=k$2(i.mul(new R.default("12247334978882834399")),64,256)),e&16384&&(i=k$2(i.mul(new R.default("8131365268884726200")),64,256)),e&32768&&(i=k$2(i.mul(new R.default("3584323654723342297")),64,256)),e&65536&&(i=k$2(i.mul(new R.default("696457651847595233")),64,256)),e&131072&&(i=k$2(i.mul(new R.default("26294789957452057")),64,256)),e&262144&&(i=k$2(i.mul(new R.default("37481735321082")),64,256)),i}var Zt$3=class sc{static priceToSqrtPriceX64(e,i,n){return kt$1.toX64(e.mul(It$4.pow(10,n-i)).sqrt())}static sqrtPriceX64ToPrice(e,i,n){return kt$1.fromX64(e).pow(2).mul(It$4.pow(10,i-n))}static tickIndexToSqrtPriceX64(e){return e>0?new R.default(Wn$3(e)):new R.default(Qn$3(e))}static sqrtPriceX64ToTickIndex(e){if(e.gt(new R.default(se$2))||e.lt(new R.default(ae$1)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let i=e.bitLength()-1,n=new R.default(i-64),s=Vn$3(n,32,128),a=new R.default("8000000000000000","hex"),l=0,A=new R.default(0),T=i>=64?e.shrn(i-63):e.shln(63-i);for(;a.gt(new R.default(0))&&l<Kn$3;){T=T.mul(T);let Ts=T.shrn(127);T=T.shrn(63+Ts.toNumber()),A=A.add(a.mul(Ts)),a=a.shrn(1),l+=1}let q=A.shrn(32),et=s.add(q).mul(new R.default(Gn$3)),xi=k$2(et.sub(new R.default($n$3)),64,128).toNumber(),Oi=k$2(et.add(new R.default(zn$3)),64,128).toNumber();return xi===Oi?xi:sc.tickIndexToSqrtPriceX64(Oi).lte(e)?Oi:xi}static tickIndexToPrice(e,i,n){return sc.sqrtPriceX64ToPrice(sc.tickIndexToSqrtPriceX64(e),i,n)}static priceToTickIndex(e,i,n){return sc.sqrtPriceX64ToTickIndex(sc.priceToSqrtPriceX64(e,i,n))}static priceToInitializeTickIndex(e,i,n,s){return sc.getInitializeTickIndex(sc.priceToTickIndex(e,i,n),s)}static getInitializeTickIndex(e,i){return e-e%i}static getNextInitializeTickIndex(e,i){return sc.getInitializeTickIndex(e,i)+i}static getPrevInitializeTickIndex(e,i){return sc.getInitializeTickIndex(e,i)-i}};function Xs(t){return G$2(t).add(G$2(Hn$3))}function pr$4(t,e,i,n){if(i.eq(z$1))return t;let s=kt$1.checkMulShiftLeft(t,e,64,256),a=e.shln(64),l=kt$1.checkMul(t,i,256);if(!n&&a.lte(l))throw new Error("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product");let A=n?kt$1.checkDivRoundUpIf(s,a.add(l),!0):kt$1.checkDivRoundUpIf(s,a.sub(l),!0);if(A.lt(new H$2.default(ae$1)))throw new Error("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price");if(A.gt(new H$2.default(se$2)))throw new Error("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price");return A}function gr$4(t,e,i,n){let s=kt$1.checkDivRoundUpIf(i.shln(64),e,!n),a=n?t.add(s):t.sub(s);if(a.lt(new H$2.default(ae$1))||a.gt(new H$2.default(se$2)))throw new Error("getNextSqrtPriceAUp - Next sqrt price out of bounds");return a}function ta(t,e,i,n){return n?pr$4(t,e,i,!0):gr$4(t,e,i,!0)}function ea(t,e,i,n){return n?gr$4(t,e,i,!1):pr$4(t,e,i,!1)}function ia(t,e,i,n){let s=t.gt(e)?t.sub(e):e.sub(t);if(i.lte(z$1)||s.eq(z$1))return z$1;let a;if(n){let l=new H$2.default(i).mul(new H$2.default(s)).shln(64),A=e.mul(t),T=l.div(A);a=l.mod(A).eq(z$1)?T:T.add(zt$2)}else{let l=new H$2.default(i).mul(new H$2.default(s));a=l.and(ve$5).gt(z$1)?l.shrn(64).add(zt$2):l.shrn(64)}return a}function ra(t,e,i,n){let s=t.gt(e)?t.sub(e):e.sub(t);if(i.lte(z$1)||s.eq(z$1))return z$1;let a;if(n)a=i.mul(s).shrn(64);else{let l=i.mul(s).shln(64),A=e.mul(t);a=l.div(A)}return a}function Ie$3(t,e,i){let n=H$2.default.min(t,e),s=H$2.default.max(t,e),a=kt$1.fromX64BN(i.mul(s).mul(n)),l=s.sub(n);return!a.isZero()&&!l.isZero()?a.div(l):new H$2.default(0)}function De$4(t,e,i){let n=H$2.default.min(t,e),s=H$2.default.max(t,e).sub(n);return s.isZero()?new H$2.default(0):i.shln(64).div(s)}var mr$5=class Jc{static getCoinAmountFromLiquidity(e,i,n,s,a){let l=new It$4(e.toString()),A=new It$4(i.toString()),T=new It$4(n.toString()),q=new It$4(s.toString()),et,xi;return i.lt(n)?(et=kt$1.toX64Decimal(l).mul(q.sub(T)).div(T.mul(q)),xi=new It$4(0)):i.lt(s)?(et=kt$1.toX64Decimal(l).mul(q.sub(A)).div(A.mul(q)),xi=kt$1.fromX64Decimal(l.mul(A.sub(T)))):(et=new It$4(0),xi=kt$1.fromX64Decimal(l.mul(q.sub(T)))),a?{coin_amount_a:et.ceil().toString(),coin_amount_b:xi.ceil().toString()}:{coin_amount_a:et.floor().toString(),coin_amount_b:xi.floor().toString()}}static estLiquidityAndCoinAmountFromOneAmounts(e,i,n,s,a,l,A){let T=Zt$3.sqrtPriceX64ToTickIndex(A),q=Zt$3.tickIndexToSqrtPriceX64(e),et=Zt$3.tickIndexToSqrtPriceX64(i),xi;if(T<e){if(!s)throw new Error("lower tick cannot calculate liquidity by coinB");xi=Ie$3(q,et,n)}else if(T>i){if(s)throw new Error("upper tick cannot calculate liquidity by coinA");xi=De$4(et,q,n)}else s?xi=Ie$3(A,et,n):xi=De$4(A,q,n);let Oi=Jc.getCoinAmountFromLiquidity(xi,A,q,et,a),Ts=a?G$2(Oi.coin_amount_a.toString()).mul(1+l).toString():G$2(Oi.coin_amount_a.toString()).mul(1-l).toString(),Fs=a?G$2(Oi.coin_amount_b.toString()).mul(1+l).toString():G$2(Oi.coin_amount_b.toString()).mul(1-l).toString();return{coin_amount_a:Oi.coin_amount_a,coin_amount_b:Oi.coin_amount_b,coin_amount_limit_a:a?It$4.ceil(Ts).toString():It$4.floor(Ts).toString(),coin_amount_limit_b:a?It$4.ceil(Fs).toString():It$4.floor(Fs).toString(),liquidity_amount:xi.toString(),fix_amount_a:s}}static estimateLiquidityFromCoinAmounts(e,i,n,s){if(i>n)return Dt$2("InvalidTick","lower tick cannot be greater than lower tick",{[be$5.METHOD_NAME]:"estimateLiquidityFromCoinAmounts",[be$5.REQUEST_PARAMS]:{lower_tick:i,upper_tick:n,token_amount:s}});let a=Zt$3.sqrtPriceX64ToTickIndex(e),l=Zt$3.tickIndexToSqrtPriceX64(i),A=Zt$3.tickIndexToSqrtPriceX64(n);if(a<i)return Ie$3(l,A,new H$2.default(s.coin_amount_a)).toString();if(a>=n)return De$4(A,l,new H$2.default(s.coin_amount_b)).toString();let T=Ie$3(e,A,new H$2.default(s.coin_amount_a)),q=De$4(e,l,new H$2.default(s.coin_amount_b));return H$2.default.min(T,q).toString()}static calculateDepositRatio(e,i,n){let s=new H$2.default(1e8),{coin_amount_b:a}=Jc.estLiquidityAndCoinAmountFromOneAmounts(e,i,s,!0,!0,0,n),l=Zt$3.sqrtPriceX64ToPrice(n,0,0),A=G$2(s.toString()).mul(l),T=A.add(a.toString()),q=A.div(T),et=G$2(a.toString()).div(T);return{ratio_a:q,ratio_b:et}}static calculateAmountDepositRatio(e,i,n,s,a){let l=Zt$3.sqrtPriceX64ToPrice(n,s,a),A=Zt$3.sqrtPriceX64ToTickIndex(n);if(A<e)return{ratio_a:new It$4(1),ratio_b:new It$4(0),curr_price:l};if(A>i)return{ratio_a:new It$4(0),ratio_b:new It$4(1),curr_price:l};let T=new H$2.default(Ee$3(1,s)),{coin_amount_b:q}=Jc.estLiquidityAndCoinAmountFromOneAmounts(e,i,T,!0,!0,0,n),et=si$2(T.toString(),s),xi=si$2(q.toString(),a),Oi=G$2(et).add(xi),Ts=G$2(et).div(Oi),Fs=G$2(xi).div(Oi);return{ratio_a:Ts,ratio_b:Fs,curr_price:l}}static getCoinAmountsFromRatio(e,i,n,s,a,l,A){let T=G$2(Ee$3(G$2(n).mul(e).div(s).toString(),l)).toFixed(0),q=G$2(Ee$3(G$2(n).mul(i).div(a).toString(),A)).toFixed(0);return{amount_a:T,amount_b:q}}static estCoinAmountsFromTotalAmount(e,i,n,s,a,l,A,T){let{ratio_a:q,ratio_b:et}=Jc.calculateDepositRatio(e,i,n);return Jc.getCoinAmountsFromRatio(q,et,s,a,l,A,T)}static getPositionStatus(e,i,n){return e<i?0:e<n?1:2}};function na(t){if(t.config===void 0)throw new Error(`package: ${t.package_id}  not config in sdk SdkOptions`);return t.config}me$3(he$2());function wr$4(t,{numerator:e,denominator:i},n){return n?t.mul(i.add(e)).div(i):t.mul(i).div(i.add(e))}/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/var bn$3={exports:{}};const require$$1$3=getAugmentedNamespace(dist);bn$3.exports;(function(t){(function(e,i){function n(Ws,f){if(!Ws)throw new Error(f||"Assertion failed")}function s(Ws,f){Ws.super_=f;var Y=function(){};Y.prototype=f.prototype,Ws.prototype=new Y,Ws.prototype.constructor=Ws}function a(Ws,f,Y){if(a.isBN(Ws))return Ws;this.negative=0,this.words=null,this.length=0,this.red=null,Ws!==null&&((f==="le"||f==="be")&&(Y=f,f=10),this._init(Ws||0,f||10,Y||"be"))}typeof e=="object"?e.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=require$$1$3.Buffer}catch{}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,Y){return f.cmp(Y)>0?f:Y},a.min=function(f,Y){return f.cmp(Y)<0?f:Y},a.prototype._init=function(f,Y,nt){if(typeof f=="number")return this._initNumber(f,Y,nt);if(typeof f=="object")return this._initArray(f,Y,nt);Y==="hex"&&(Y=16),n(Y===(Y|0)&&Y>=2&&Y<=36),f=f.toString().replace(/\s+/g,"");var vs=0;f[0]==="-"&&(vs++,this.negative=1),vs<f.length&&(Y===16?this._parseHex(f,vs,nt):(this._parseBase(f,Y,vs),nt==="le"&&this._initArray(this.toArray(),Y,nt)))},a.prototype._initNumber=function(f,Y,nt){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),nt==="le"&&this._initArray(this.toArray(),Y,nt)},a.prototype._initArray=function(f,Y,nt){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks,Ds,Bs=0;if(nt==="be")for(vs=f.length-1,ks=0;vs>=0;vs-=3)Ds=f[vs]|f[vs-1]<<8|f[vs-2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);else if(nt==="le")for(vs=0,ks=0;vs<f.length;vs+=3)Ds=f[vs]|f[vs+1]<<8|f[vs+2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);return this._strip()};function A(Ws,f){var Y=Ws.charCodeAt(f);if(Y>=48&&Y<=57)return Y-48;if(Y>=65&&Y<=70)return Y-55;if(Y>=97&&Y<=102)return Y-87;n(!1,"Invalid character in "+Ws)}function T(Ws,f,Y){var nt=A(Ws,Y);return Y-1>=f&&(nt|=A(Ws,Y-1)<<4),nt}a.prototype._parseHex=function(f,Y,nt){this.length=Math.ceil((f.length-Y)/6),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks=0,Ds=0,Bs;if(nt==="be")for(vs=f.length-1;vs>=Y;vs-=2)Bs=T(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8;else{var Ms=f.length-Y;for(vs=Ms%2===0?Y+1:Y;vs<f.length;vs+=2)Bs=T(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8}this._strip()};function q(Ws,f,Y,nt){for(var vs=0,ks=0,Ds=Math.min(Ws.length,Y),Bs=f;Bs<Ds;Bs++){var Ms=Ws.charCodeAt(Bs)-48;vs*=nt,Ms>=49?ks=Ms-49+10:Ms>=17?ks=Ms-17+10:ks=Ms,n(Ms>=0&&ks<nt,"Invalid character"),vs+=ks}return vs}a.prototype._parseBase=function(f,Y,nt){this.words=[0],this.length=1;for(var vs=0,ks=1;ks<=67108863;ks*=Y)vs++;vs--,ks=ks/Y|0;for(var Ds=f.length-nt,Bs=Ds%vs,Ms=Math.min(Ds,Ds-Bs)+nt,Q=0,$s=nt;$s<Ms;$s+=vs)Q=q(f,$s,$s+vs,Y),this.imuln(ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(Bs!==0){var Ks=1;for(Q=q(f,$s,f.length,Y),$s=0;$s<Bs;$s++)Ks*=Y;this.imuln(Ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)f.words[Y]=this.words[Y];f.length=this.length,f.negative=this.negative,f.red=this.red};function et(Ws,f){Ws.words=f.words,Ws.length=f.length,Ws.negative=f.negative,Ws.red=f.red}if(a.prototype._move=function(f){et(f,this)},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=xi}catch{a.prototype.inspect=xi}else a.prototype.inspect=xi;function xi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Oi=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ts=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Fs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,Y){f=f||10,Y=Y|0||1;var nt;if(f===16||f==="hex"){nt="";for(var vs=0,ks=0,Ds=0;Ds<this.length;Ds++){var Bs=this.words[Ds],Ms=((Bs<<vs|ks)&16777215).toString(16);ks=Bs>>>24-vs&16777215,vs+=2,vs>=26&&(vs-=26,Ds--),ks!==0||Ds!==this.length-1?nt=Oi[6-Ms.length]+Ms+nt:nt=Ms+nt}for(ks!==0&&(nt=ks.toString(16)+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}if(f===(f|0)&&f>=2&&f<=36){var Q=Ts[f],$s=Fs[f];nt="";var Ks=this.clone();for(Ks.negative=0;!Ks.isZero();){var jo=Ks.modrn($s).toString(f);Ks=Ks.idivn($s),Ks.isZero()?nt=jo+nt:nt=Oi[Q-jo.length]+jo+nt}for(this.isZero()&&(nt="0"+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(f,Y){return this.toArrayLike(l,f,Y)}),a.prototype.toArray=function(f,Y){return this.toArrayLike(Array,f,Y)};var qs=function(f,Y){return f.allocUnsafe?f.allocUnsafe(Y):new f(Y)};a.prototype.toArrayLike=function(f,Y,nt){this._strip();var vs=this.byteLength(),ks=nt||Math.max(1,vs);n(vs<=ks,"byte array longer than desired length"),n(ks>0,"Requested array length <= 0");var Ds=qs(f,ks),Bs=Y==="le"?"LE":"BE";return this["_toArrayLike"+Bs](Ds,vs),Ds},a.prototype._toArrayLikeLE=function(f,Y){for(var nt=0,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt++]=Bs&255,nt<f.length&&(f[nt++]=Bs>>8&255),nt<f.length&&(f[nt++]=Bs>>16&255),Ds===6?(nt<f.length&&(f[nt++]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt<f.length)for(f[nt++]=vs;nt<f.length;)f[nt++]=0},a.prototype._toArrayLikeBE=function(f,Y){for(var nt=f.length-1,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt--]=Bs&255,nt>=0&&(f[nt--]=Bs>>8&255),nt>=0&&(f[nt--]=Bs>>16&255),Ds===6?(nt>=0&&(f[nt--]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt>=0)for(f[nt--]=vs;nt>=0;)f[nt--]=0},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var Y=f,nt=0;return Y>=4096&&(nt+=13,Y>>>=13),Y>=64&&(nt+=7,Y>>>=7),Y>=8&&(nt+=4,Y>>>=4),Y>=2&&(nt+=2,Y>>>=2),nt+Y},a.prototype._zeroBits=function(f){if(f===0)return 26;var Y=f,nt=0;return Y&8191||(nt+=13,Y>>>=13),Y&127||(nt+=7,Y>>>=7),Y&15||(nt+=4,Y>>>=4),Y&3||(nt+=2,Y>>>=2),Y&1||nt++,nt},a.prototype.bitLength=function(){var f=this.words[this.length-1],Y=this._countBits(f);return(this.length-1)*26+Y};function Us(Ws){for(var f=new Array(Ws.bitLength()),Y=0;Y<f.length;Y++){var nt=Y/26|0,vs=Y%26;f[Y]=Ws.words[nt]>>>vs&1}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,Y=0;Y<this.length;Y++){var nt=this._zeroBits(this.words[Y]);if(f+=nt,nt!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var Y=0;Y<f.length;Y++)this.words[Y]=this.words[Y]|f.words[Y];return this._strip()},a.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var Y;this.length>f.length?Y=f:Y=this;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]&f.words[nt];return this.length=Y.length,this._strip()},a.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var Y,nt;this.length>f.length?(Y=this,nt=f):(Y=f,nt=this);for(var vs=0;vs<nt.length;vs++)this.words[vs]=Y.words[vs]^nt.words[vs];if(this!==Y)for(;vs<Y.length;vs++)this.words[vs]=Y.words[vs];return this.length=Y.length,this._strip()},a.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var Y=Math.ceil(f/26)|0,nt=f%26;this._expand(Y),nt>0&&Y--;for(var vs=0;vs<Y;vs++)this.words[vs]=~this.words[vs]&67108863;return nt>0&&(this.words[vs]=~this.words[vs]&67108863>>26-nt),this._strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,Y){n(typeof f=="number"&&f>=0);var nt=f/26|0,vs=f%26;return this._expand(nt+1),Y?this.words[nt]=this.words[nt]|1<<vs:this.words[nt]=this.words[nt]&~(1<<vs),this._strip()},a.prototype.iadd=function(f){var Y;if(this.negative!==0&&f.negative===0)return this.negative=0,Y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,Y=this.isub(f),f.negative=1,Y._normSign();var nt,vs;this.length>f.length?(nt=this,vs=f):(nt=f,vs=this);for(var ks=0,Ds=0;Ds<vs.length;Ds++)Y=(nt.words[Ds]|0)+(vs.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;for(;ks!==0&&Ds<nt.length;Ds++)Y=(nt.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;if(this.length=nt.length,ks!==0)this.words[this.length]=ks,this.length++;else if(nt!==this)for(;Ds<nt.length;Ds++)this.words[Ds]=nt.words[Ds];return this},a.prototype.add=function(f){var Y;return f.negative!==0&&this.negative===0?(f.negative=0,Y=this.sub(f),f.negative^=1,Y):f.negative===0&&this.negative!==0?(this.negative=0,Y=f.sub(this),this.negative=1,Y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var Y=this.iadd(f);return f.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var nt=this.cmp(f);if(nt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vs,ks;nt>0?(vs=this,ks=f):(vs=f,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)Y=(vs.words[Bs]|0)-(ks.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;for(;Ds!==0&&Bs<vs.length;Bs++)Y=(vs.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;if(Ds===0&&Bs<vs.length&&vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this.length=Math.max(this.length,Bs),vs!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function Ls(Ws,f,Y){Y.negative=f.negative^Ws.negative;var nt=Ws.length+f.length|0;Y.length=nt,nt=nt-1|0;var vs=Ws.words[0]|0,ks=f.words[0]|0,Ds=vs*ks,Bs=Ds&67108863,Ms=Ds/67108864|0;Y.words[0]=Bs;for(var Q=1;Q<nt;Q++){for(var $s=Ms>>>26,Ks=Ms&67108863,jo=Math.min(Q,f.length-1),Bo=Math.max(0,Q-Ws.length+1);Bo<=jo;Bo++){var To=Q-Bo|0;vs=Ws.words[To]|0,ks=f.words[Bo]|0,Ds=vs*ks+Ks,$s+=Ds/67108864|0,Ks=Ds&67108863}Y.words[Q]=Ks|0,Ms=$s|0}return Ms!==0?Y.words[Q]=Ms|0:Y.length--,Y._strip()}var Gs=function(f,Y,nt){var vs=f.words,ks=Y.words,Ds=nt.words,Bs=0,Ms,Q,$s,Ks=vs[0]|0,jo=Ks&8191,Bo=Ks>>>13,To=vs[1]|0,Oo=To&8191,Vo=To>>>13,zo=vs[2]|0,so=zo&8191,Qs=zo>>>13,sa=vs[3]|0,Zo=sa&8191,Qo=sa>>>13,la=vs[4]|0,Ko=la&8191,Jo=la>>>13,aa=vs[5]|0,oa=aa&8191,ua=aa>>>13,Ma=vs[6]|0,da=Ma&8191,fa=Ma>>>13,La=vs[7]|0,ga=La&8191,ha=La>>>13,Ga=vs[8]|0,Aa=Ga&8191,_a=Ga>>>13,Za=vs[9]|0,Ta=Za&8191,ma=Za>>>13,Xa=ks[0]|0,ka=Xa&8191,pa=Xa>>>13,za=ks[1]|0,Ba=za&8191,wa=za>>>13,Ja=ks[2]|0,Oa=Ja&8191,ba=Ja>>>13,eu=ks[3]|0,Ia=eu&8191,xa=eu>>>13,Ya=ks[4]|0,Pa=Ya&8191,$a=Ya>>>13,Qa=ks[5]|0,Da=Qa&8191,va=Qa>>>13,Ka=ks[6]|0,Ra=Ka&8191,ya=Ka>>>13,tu=ks[7]|0,Na=tu&8191,Sa=tu>>>13,ru=ks[8]|0,Fa=ru&8191,Ea=ru>>>13,iu=ks[9]|0,ja=iu&8191,Ca=iu>>>13;nt.negative=f.negative^Y.negative,nt.length=19,Ms=Math.imul(jo,ka),Q=Math.imul(jo,pa),Q=Q+Math.imul(Bo,ka)|0,$s=Math.imul(Bo,pa);var nu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ms=Math.imul(Oo,ka),Q=Math.imul(Oo,pa),Q=Q+Math.imul(Vo,ka)|0,$s=Math.imul(Vo,pa),Ms=Ms+Math.imul(jo,Ba)|0,Q=Q+Math.imul(jo,wa)|0,Q=Q+Math.imul(Bo,Ba)|0,$s=$s+Math.imul(Bo,wa)|0;var ou=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ms=Math.imul(so,ka),Q=Math.imul(so,pa),Q=Q+Math.imul(Qs,ka)|0,$s=Math.imul(Qs,pa),Ms=Ms+Math.imul(Oo,Ba)|0,Q=Q+Math.imul(Oo,wa)|0,Q=Q+Math.imul(Vo,Ba)|0,$s=$s+Math.imul(Vo,wa)|0,Ms=Ms+Math.imul(jo,Oa)|0,Q=Q+Math.imul(jo,ba)|0,Q=Q+Math.imul(Bo,Oa)|0,$s=$s+Math.imul(Bo,ba)|0;var au=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(au>>>26)|0,au&=67108863,Ms=Math.imul(Zo,ka),Q=Math.imul(Zo,pa),Q=Q+Math.imul(Qo,ka)|0,$s=Math.imul(Qo,pa),Ms=Ms+Math.imul(so,Ba)|0,Q=Q+Math.imul(so,wa)|0,Q=Q+Math.imul(Qs,Ba)|0,$s=$s+Math.imul(Qs,wa)|0,Ms=Ms+Math.imul(Oo,Oa)|0,Q=Q+Math.imul(Oo,ba)|0,Q=Q+Math.imul(Vo,Oa)|0,$s=$s+Math.imul(Vo,ba)|0,Ms=Ms+Math.imul(jo,Ia)|0,Q=Q+Math.imul(jo,xa)|0,Q=Q+Math.imul(Bo,Ia)|0,$s=$s+Math.imul(Bo,xa)|0;var uu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ms=Math.imul(Ko,ka),Q=Math.imul(Ko,pa),Q=Q+Math.imul(Jo,ka)|0,$s=Math.imul(Jo,pa),Ms=Ms+Math.imul(Zo,Ba)|0,Q=Q+Math.imul(Zo,wa)|0,Q=Q+Math.imul(Qo,Ba)|0,$s=$s+Math.imul(Qo,wa)|0,Ms=Ms+Math.imul(so,Oa)|0,Q=Q+Math.imul(so,ba)|0,Q=Q+Math.imul(Qs,Oa)|0,$s=$s+Math.imul(Qs,ba)|0,Ms=Ms+Math.imul(Oo,Ia)|0,Q=Q+Math.imul(Oo,xa)|0,Q=Q+Math.imul(Vo,Ia)|0,$s=$s+Math.imul(Vo,xa)|0,Ms=Ms+Math.imul(jo,Pa)|0,Q=Q+Math.imul(jo,$a)|0,Q=Q+Math.imul(Bo,Pa)|0,$s=$s+Math.imul(Bo,$a)|0;var cu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ms=Math.imul(oa,ka),Q=Math.imul(oa,pa),Q=Q+Math.imul(ua,ka)|0,$s=Math.imul(ua,pa),Ms=Ms+Math.imul(Ko,Ba)|0,Q=Q+Math.imul(Ko,wa)|0,Q=Q+Math.imul(Jo,Ba)|0,$s=$s+Math.imul(Jo,wa)|0,Ms=Ms+Math.imul(Zo,Oa)|0,Q=Q+Math.imul(Zo,ba)|0,Q=Q+Math.imul(Qo,Oa)|0,$s=$s+Math.imul(Qo,ba)|0,Ms=Ms+Math.imul(so,Ia)|0,Q=Q+Math.imul(so,xa)|0,Q=Q+Math.imul(Qs,Ia)|0,$s=$s+Math.imul(Qs,xa)|0,Ms=Ms+Math.imul(Oo,Pa)|0,Q=Q+Math.imul(Oo,$a)|0,Q=Q+Math.imul(Vo,Pa)|0,$s=$s+Math.imul(Vo,$a)|0,Ms=Ms+Math.imul(jo,Da)|0,Q=Q+Math.imul(jo,va)|0,Q=Q+Math.imul(Bo,Da)|0,$s=$s+Math.imul(Bo,va)|0;var lu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ms=Math.imul(da,ka),Q=Math.imul(da,pa),Q=Q+Math.imul(fa,ka)|0,$s=Math.imul(fa,pa),Ms=Ms+Math.imul(oa,Ba)|0,Q=Q+Math.imul(oa,wa)|0,Q=Q+Math.imul(ua,Ba)|0,$s=$s+Math.imul(ua,wa)|0,Ms=Ms+Math.imul(Ko,Oa)|0,Q=Q+Math.imul(Ko,ba)|0,Q=Q+Math.imul(Jo,Oa)|0,$s=$s+Math.imul(Jo,ba)|0,Ms=Ms+Math.imul(Zo,Ia)|0,Q=Q+Math.imul(Zo,xa)|0,Q=Q+Math.imul(Qo,Ia)|0,$s=$s+Math.imul(Qo,xa)|0,Ms=Ms+Math.imul(so,Pa)|0,Q=Q+Math.imul(so,$a)|0,Q=Q+Math.imul(Qs,Pa)|0,$s=$s+Math.imul(Qs,$a)|0,Ms=Ms+Math.imul(Oo,Da)|0,Q=Q+Math.imul(Oo,va)|0,Q=Q+Math.imul(Vo,Da)|0,$s=$s+Math.imul(Vo,va)|0,Ms=Ms+Math.imul(jo,Ra)|0,Q=Q+Math.imul(jo,ya)|0,Q=Q+Math.imul(Bo,Ra)|0,$s=$s+Math.imul(Bo,ya)|0;var du=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(du>>>26)|0,du&=67108863,Ms=Math.imul(ga,ka),Q=Math.imul(ga,pa),Q=Q+Math.imul(ha,ka)|0,$s=Math.imul(ha,pa),Ms=Ms+Math.imul(da,Ba)|0,Q=Q+Math.imul(da,wa)|0,Q=Q+Math.imul(fa,Ba)|0,$s=$s+Math.imul(fa,wa)|0,Ms=Ms+Math.imul(oa,Oa)|0,Q=Q+Math.imul(oa,ba)|0,Q=Q+Math.imul(ua,Oa)|0,$s=$s+Math.imul(ua,ba)|0,Ms=Ms+Math.imul(Ko,Ia)|0,Q=Q+Math.imul(Ko,xa)|0,Q=Q+Math.imul(Jo,Ia)|0,$s=$s+Math.imul(Jo,xa)|0,Ms=Ms+Math.imul(Zo,Pa)|0,Q=Q+Math.imul(Zo,$a)|0,Q=Q+Math.imul(Qo,Pa)|0,$s=$s+Math.imul(Qo,$a)|0,Ms=Ms+Math.imul(so,Da)|0,Q=Q+Math.imul(so,va)|0,Q=Q+Math.imul(Qs,Da)|0,$s=$s+Math.imul(Qs,va)|0,Ms=Ms+Math.imul(Oo,Ra)|0,Q=Q+Math.imul(Oo,ya)|0,Q=Q+Math.imul(Vo,Ra)|0,$s=$s+Math.imul(Vo,ya)|0,Ms=Ms+Math.imul(jo,Na)|0,Q=Q+Math.imul(jo,Sa)|0,Q=Q+Math.imul(Bo,Na)|0,$s=$s+Math.imul(Bo,Sa)|0;var fu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ms=Math.imul(Aa,ka),Q=Math.imul(Aa,pa),Q=Q+Math.imul(_a,ka)|0,$s=Math.imul(_a,pa),Ms=Ms+Math.imul(ga,Ba)|0,Q=Q+Math.imul(ga,wa)|0,Q=Q+Math.imul(ha,Ba)|0,$s=$s+Math.imul(ha,wa)|0,Ms=Ms+Math.imul(da,Oa)|0,Q=Q+Math.imul(da,ba)|0,Q=Q+Math.imul(fa,Oa)|0,$s=$s+Math.imul(fa,ba)|0,Ms=Ms+Math.imul(oa,Ia)|0,Q=Q+Math.imul(oa,xa)|0,Q=Q+Math.imul(ua,Ia)|0,$s=$s+Math.imul(ua,xa)|0,Ms=Ms+Math.imul(Ko,Pa)|0,Q=Q+Math.imul(Ko,$a)|0,Q=Q+Math.imul(Jo,Pa)|0,$s=$s+Math.imul(Jo,$a)|0,Ms=Ms+Math.imul(Zo,Da)|0,Q=Q+Math.imul(Zo,va)|0,Q=Q+Math.imul(Qo,Da)|0,$s=$s+Math.imul(Qo,va)|0,Ms=Ms+Math.imul(so,Ra)|0,Q=Q+Math.imul(so,ya)|0,Q=Q+Math.imul(Qs,Ra)|0,$s=$s+Math.imul(Qs,ya)|0,Ms=Ms+Math.imul(Oo,Na)|0,Q=Q+Math.imul(Oo,Sa)|0,Q=Q+Math.imul(Vo,Na)|0,$s=$s+Math.imul(Vo,Sa)|0,Ms=Ms+Math.imul(jo,Fa)|0,Q=Q+Math.imul(jo,Ea)|0,Q=Q+Math.imul(Bo,Fa)|0,$s=$s+Math.imul(Bo,Ea)|0;var hu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ms=Math.imul(Ta,ka),Q=Math.imul(Ta,pa),Q=Q+Math.imul(ma,ka)|0,$s=Math.imul(ma,pa),Ms=Ms+Math.imul(Aa,Ba)|0,Q=Q+Math.imul(Aa,wa)|0,Q=Q+Math.imul(_a,Ba)|0,$s=$s+Math.imul(_a,wa)|0,Ms=Ms+Math.imul(ga,Oa)|0,Q=Q+Math.imul(ga,ba)|0,Q=Q+Math.imul(ha,Oa)|0,$s=$s+Math.imul(ha,ba)|0,Ms=Ms+Math.imul(da,Ia)|0,Q=Q+Math.imul(da,xa)|0,Q=Q+Math.imul(fa,Ia)|0,$s=$s+Math.imul(fa,xa)|0,Ms=Ms+Math.imul(oa,Pa)|0,Q=Q+Math.imul(oa,$a)|0,Q=Q+Math.imul(ua,Pa)|0,$s=$s+Math.imul(ua,$a)|0,Ms=Ms+Math.imul(Ko,Da)|0,Q=Q+Math.imul(Ko,va)|0,Q=Q+Math.imul(Jo,Da)|0,$s=$s+Math.imul(Jo,va)|0,Ms=Ms+Math.imul(Zo,Ra)|0,Q=Q+Math.imul(Zo,ya)|0,Q=Q+Math.imul(Qo,Ra)|0,$s=$s+Math.imul(Qo,ya)|0,Ms=Ms+Math.imul(so,Na)|0,Q=Q+Math.imul(so,Sa)|0,Q=Q+Math.imul(Qs,Na)|0,$s=$s+Math.imul(Qs,Sa)|0,Ms=Ms+Math.imul(Oo,Fa)|0,Q=Q+Math.imul(Oo,Ea)|0,Q=Q+Math.imul(Vo,Fa)|0,$s=$s+Math.imul(Vo,Ea)|0,Ms=Ms+Math.imul(jo,ja)|0,Q=Q+Math.imul(jo,Ca)|0,Q=Q+Math.imul(Bo,ja)|0,$s=$s+Math.imul(Bo,Ca)|0;var pu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ms=Math.imul(Ta,Ba),Q=Math.imul(Ta,wa),Q=Q+Math.imul(ma,Ba)|0,$s=Math.imul(ma,wa),Ms=Ms+Math.imul(Aa,Oa)|0,Q=Q+Math.imul(Aa,ba)|0,Q=Q+Math.imul(_a,Oa)|0,$s=$s+Math.imul(_a,ba)|0,Ms=Ms+Math.imul(ga,Ia)|0,Q=Q+Math.imul(ga,xa)|0,Q=Q+Math.imul(ha,Ia)|0,$s=$s+Math.imul(ha,xa)|0,Ms=Ms+Math.imul(da,Pa)|0,Q=Q+Math.imul(da,$a)|0,Q=Q+Math.imul(fa,Pa)|0,$s=$s+Math.imul(fa,$a)|0,Ms=Ms+Math.imul(oa,Da)|0,Q=Q+Math.imul(oa,va)|0,Q=Q+Math.imul(ua,Da)|0,$s=$s+Math.imul(ua,va)|0,Ms=Ms+Math.imul(Ko,Ra)|0,Q=Q+Math.imul(Ko,ya)|0,Q=Q+Math.imul(Jo,Ra)|0,$s=$s+Math.imul(Jo,ya)|0,Ms=Ms+Math.imul(Zo,Na)|0,Q=Q+Math.imul(Zo,Sa)|0,Q=Q+Math.imul(Qo,Na)|0,$s=$s+Math.imul(Qo,Sa)|0,Ms=Ms+Math.imul(so,Fa)|0,Q=Q+Math.imul(so,Ea)|0,Q=Q+Math.imul(Qs,Fa)|0,$s=$s+Math.imul(Qs,Ea)|0,Ms=Ms+Math.imul(Oo,ja)|0,Q=Q+Math.imul(Oo,Ca)|0,Q=Q+Math.imul(Vo,ja)|0,$s=$s+Math.imul(Vo,Ca)|0;var mu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ms=Math.imul(Ta,Oa),Q=Math.imul(Ta,ba),Q=Q+Math.imul(ma,Oa)|0,$s=Math.imul(ma,ba),Ms=Ms+Math.imul(Aa,Ia)|0,Q=Q+Math.imul(Aa,xa)|0,Q=Q+Math.imul(_a,Ia)|0,$s=$s+Math.imul(_a,xa)|0,Ms=Ms+Math.imul(ga,Pa)|0,Q=Q+Math.imul(ga,$a)|0,Q=Q+Math.imul(ha,Pa)|0,$s=$s+Math.imul(ha,$a)|0,Ms=Ms+Math.imul(da,Da)|0,Q=Q+Math.imul(da,va)|0,Q=Q+Math.imul(fa,Da)|0,$s=$s+Math.imul(fa,va)|0,Ms=Ms+Math.imul(oa,Ra)|0,Q=Q+Math.imul(oa,ya)|0,Q=Q+Math.imul(ua,Ra)|0,$s=$s+Math.imul(ua,ya)|0,Ms=Ms+Math.imul(Ko,Na)|0,Q=Q+Math.imul(Ko,Sa)|0,Q=Q+Math.imul(Jo,Na)|0,$s=$s+Math.imul(Jo,Sa)|0,Ms=Ms+Math.imul(Zo,Fa)|0,Q=Q+Math.imul(Zo,Ea)|0,Q=Q+Math.imul(Qo,Fa)|0,$s=$s+Math.imul(Qo,Ea)|0,Ms=Ms+Math.imul(so,ja)|0,Q=Q+Math.imul(so,Ca)|0,Q=Q+Math.imul(Qs,ja)|0,$s=$s+Math.imul(Qs,Ca)|0;var gu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ms=Math.imul(Ta,Ia),Q=Math.imul(Ta,xa),Q=Q+Math.imul(ma,Ia)|0,$s=Math.imul(ma,xa),Ms=Ms+Math.imul(Aa,Pa)|0,Q=Q+Math.imul(Aa,$a)|0,Q=Q+Math.imul(_a,Pa)|0,$s=$s+Math.imul(_a,$a)|0,Ms=Ms+Math.imul(ga,Da)|0,Q=Q+Math.imul(ga,va)|0,Q=Q+Math.imul(ha,Da)|0,$s=$s+Math.imul(ha,va)|0,Ms=Ms+Math.imul(da,Ra)|0,Q=Q+Math.imul(da,ya)|0,Q=Q+Math.imul(fa,Ra)|0,$s=$s+Math.imul(fa,ya)|0,Ms=Ms+Math.imul(oa,Na)|0,Q=Q+Math.imul(oa,Sa)|0,Q=Q+Math.imul(ua,Na)|0,$s=$s+Math.imul(ua,Sa)|0,Ms=Ms+Math.imul(Ko,Fa)|0,Q=Q+Math.imul(Ko,Ea)|0,Q=Q+Math.imul(Jo,Fa)|0,$s=$s+Math.imul(Jo,Ea)|0,Ms=Ms+Math.imul(Zo,ja)|0,Q=Q+Math.imul(Zo,Ca)|0,Q=Q+Math.imul(Qo,ja)|0,$s=$s+Math.imul(Qo,Ca)|0;var _u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ms=Math.imul(Ta,Pa),Q=Math.imul(Ta,$a),Q=Q+Math.imul(ma,Pa)|0,$s=Math.imul(ma,$a),Ms=Ms+Math.imul(Aa,Da)|0,Q=Q+Math.imul(Aa,va)|0,Q=Q+Math.imul(_a,Da)|0,$s=$s+Math.imul(_a,va)|0,Ms=Ms+Math.imul(ga,Ra)|0,Q=Q+Math.imul(ga,ya)|0,Q=Q+Math.imul(ha,Ra)|0,$s=$s+Math.imul(ha,ya)|0,Ms=Ms+Math.imul(da,Na)|0,Q=Q+Math.imul(da,Sa)|0,Q=Q+Math.imul(fa,Na)|0,$s=$s+Math.imul(fa,Sa)|0,Ms=Ms+Math.imul(oa,Fa)|0,Q=Q+Math.imul(oa,Ea)|0,Q=Q+Math.imul(ua,Fa)|0,$s=$s+Math.imul(ua,Ea)|0,Ms=Ms+Math.imul(Ko,ja)|0,Q=Q+Math.imul(Ko,Ca)|0,Q=Q+Math.imul(Jo,ja)|0,$s=$s+Math.imul(Jo,Ca)|0;var bu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ms=Math.imul(Ta,Da),Q=Math.imul(Ta,va),Q=Q+Math.imul(ma,Da)|0,$s=Math.imul(ma,va),Ms=Ms+Math.imul(Aa,Ra)|0,Q=Q+Math.imul(Aa,ya)|0,Q=Q+Math.imul(_a,Ra)|0,$s=$s+Math.imul(_a,ya)|0,Ms=Ms+Math.imul(ga,Na)|0,Q=Q+Math.imul(ga,Sa)|0,Q=Q+Math.imul(ha,Na)|0,$s=$s+Math.imul(ha,Sa)|0,Ms=Ms+Math.imul(da,Fa)|0,Q=Q+Math.imul(da,Ea)|0,Q=Q+Math.imul(fa,Fa)|0,$s=$s+Math.imul(fa,Ea)|0,Ms=Ms+Math.imul(oa,ja)|0,Q=Q+Math.imul(oa,Ca)|0,Q=Q+Math.imul(ua,ja)|0,$s=$s+Math.imul(ua,Ca)|0;var vu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ms=Math.imul(Ta,Ra),Q=Math.imul(Ta,ya),Q=Q+Math.imul(ma,Ra)|0,$s=Math.imul(ma,ya),Ms=Ms+Math.imul(Aa,Na)|0,Q=Q+Math.imul(Aa,Sa)|0,Q=Q+Math.imul(_a,Na)|0,$s=$s+Math.imul(_a,Sa)|0,Ms=Ms+Math.imul(ga,Fa)|0,Q=Q+Math.imul(ga,Ea)|0,Q=Q+Math.imul(ha,Fa)|0,$s=$s+Math.imul(ha,Ea)|0,Ms=Ms+Math.imul(da,ja)|0,Q=Q+Math.imul(da,Ca)|0,Q=Q+Math.imul(fa,ja)|0,$s=$s+Math.imul(fa,Ca)|0;var yu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ms=Math.imul(Ta,Na),Q=Math.imul(Ta,Sa),Q=Q+Math.imul(ma,Na)|0,$s=Math.imul(ma,Sa),Ms=Ms+Math.imul(Aa,Fa)|0,Q=Q+Math.imul(Aa,Ea)|0,Q=Q+Math.imul(_a,Fa)|0,$s=$s+Math.imul(_a,Ea)|0,Ms=Ms+Math.imul(ga,ja)|0,Q=Q+Math.imul(ga,Ca)|0,Q=Q+Math.imul(ha,ja)|0,$s=$s+Math.imul(ha,Ca)|0;var wu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(wu>>>26)|0,wu&=67108863,Ms=Math.imul(Ta,Fa),Q=Math.imul(Ta,Ea),Q=Q+Math.imul(ma,Fa)|0,$s=Math.imul(ma,Ea),Ms=Ms+Math.imul(Aa,ja)|0,Q=Q+Math.imul(Aa,Ca)|0,Q=Q+Math.imul(_a,ja)|0,$s=$s+Math.imul(_a,Ca)|0;var $u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+($u>>>26)|0,$u&=67108863,Ms=Math.imul(Ta,ja),Q=Math.imul(Ta,Ca),Q=Q+Math.imul(ma,ja)|0,$s=Math.imul(ma,Ca);var Su=(Bs+Ms|0)+((Q&8191)<<13)|0;return Bs=($s+(Q>>>13)|0)+(Su>>>26)|0,Su&=67108863,Ds[0]=nu,Ds[1]=ou,Ds[2]=au,Ds[3]=uu,Ds[4]=cu,Ds[5]=lu,Ds[6]=du,Ds[7]=fu,Ds[8]=hu,Ds[9]=pu,Ds[10]=mu,Ds[11]=gu,Ds[12]=_u,Ds[13]=bu,Ds[14]=vu,Ds[15]=yu,Ds[16]=wu,Ds[17]=$u,Ds[18]=Su,Bs!==0&&(Ds[19]=Bs,nt.length++),nt};Math.imul||(Gs=Ls);function zs(Ws,f,Y){Y.negative=f.negative^Ws.negative,Y.length=Ws.length+f.length;for(var nt=0,vs=0,ks=0;ks<Y.length-1;ks++){var Ds=vs;vs=0;for(var Bs=nt&67108863,Ms=Math.min(ks,f.length-1),Q=Math.max(0,ks-Ws.length+1);Q<=Ms;Q++){var $s=ks-Q,Ks=Ws.words[$s]|0,jo=f.words[Q]|0,Bo=Ks*jo,To=Bo&67108863;Ds=Ds+(Bo/67108864|0)|0,To=To+Bs|0,Bs=To&67108863,Ds=Ds+(To>>>26)|0,vs+=Ds>>>26,Ds&=67108863}Y.words[ks]=Bs,nt=Ds,Ds=vs}return nt!==0?Y.words[ks]=nt:Y.length--,Y._strip()}function Vs(Ws,f,Y){return zs(Ws,f,Y)}a.prototype.mulTo=function(f,Y){var nt,vs=this.length+f.length;return this.length===10&&f.length===10?nt=Gs(this,f,Y):vs<63?nt=Ls(this,f,Y):vs<1024?nt=zs(this,f,Y):nt=Vs(this,f,Y),nt},a.prototype.mul=function(f){var Y=new a(null);return Y.words=new Array(this.length+f.length),this.mulTo(f,Y)},a.prototype.mulf=function(f){var Y=new a(null);return Y.words=new Array(this.length+f.length),Vs(this,f,Y)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){var Y=f<0;Y&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var nt=0,vs=0;vs<this.length;vs++){var ks=(this.words[vs]|0)*f,Ds=(ks&67108863)+(nt&67108863);nt>>=26,nt+=ks/67108864|0,nt+=Ds>>>26,this.words[vs]=Ds&67108863}return nt!==0&&(this.words[vs]=nt,this.length++),this.length=f===0?1:this.length,Y?this.ineg():this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var Y=Us(f);if(Y.length===0)return new a(1);for(var nt=this,vs=0;vs<Y.length&&Y[vs]===0;vs++,nt=nt.sqr());if(++vs<Y.length)for(var ks=nt.sqr();vs<Y.length;vs++,ks=ks.sqr())Y[vs]!==0&&(nt=nt.mul(ks));return nt},a.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=67108863>>>26-Y<<26-Y,ks;if(Y!==0){var Ds=0;for(ks=0;ks<this.length;ks++){var Bs=this.words[ks]&vs,Ms=(this.words[ks]|0)-Bs<<Y;this.words[ks]=Ms|Ds,Ds=Bs>>>26-Y}Ds&&(this.words[ks]=Ds,this.length++)}if(nt!==0){for(ks=this.length-1;ks>=0;ks--)this.words[ks+nt]=this.words[ks];for(ks=0;ks<nt;ks++)this.words[ks]=0;this.length+=nt}return this._strip()},a.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,Y,nt){n(typeof f=="number"&&f>=0);var vs;Y?vs=(Y-Y%26)/26:vs=0;var ks=f%26,Ds=Math.min((f-ks)/26,this.length),Bs=67108863^67108863>>>ks<<ks,Ms=nt;if(vs-=Ds,vs=Math.max(0,vs),Ms){for(var Q=0;Q<Ds;Q++)Ms.words[Q]=this.words[Q];Ms.length=Ds}if(Ds!==0)if(this.length>Ds)for(this.length-=Ds,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Ds];else this.words[0]=0,this.length=1;var $s=0;for(Q=this.length-1;Q>=0&&($s!==0||Q>=vs);Q--){var Ks=this.words[Q]|0;this.words[Q]=$s<<26-ks|Ks>>>ks,$s=Ks&Bs}return Ms&&$s!==0&&(Ms.words[Ms.length++]=$s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(f,Y,nt){return n(this.negative===0),this.iushrn(f,Y,nt)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return!1;var ks=this.words[nt];return!!(ks&vs)},a.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=nt)return this;if(Y!==0&&nt++,this.length=Math.min(nt,this.length),Y!==0){var vs=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=vs}return this._strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},a.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,Y,nt){var vs=f.length+nt,ks;this._expand(vs);var Ds,Bs=0;for(ks=0;ks<f.length;ks++){Ds=(this.words[ks+nt]|0)+Bs;var Ms=(f.words[ks]|0)*Y;Ds-=Ms&67108863,Bs=(Ds>>26)-(Ms/67108864|0),this.words[ks+nt]=Ds&67108863}for(;ks<this.length-nt;ks++)Ds=(this.words[ks+nt]|0)+Bs,Bs=Ds>>26,this.words[ks+nt]=Ds&67108863;if(Bs===0)return this._strip();for(n(Bs===-1),Bs=0,ks=0;ks<this.length;ks++)Ds=-(this.words[ks]|0)+Bs,Bs=Ds>>26,this.words[ks]=Ds&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(f,Y){var nt=this.length-f.length,vs=this.clone(),ks=f,Ds=ks.words[ks.length-1]|0,Bs=this._countBits(Ds);nt=26-Bs,nt!==0&&(ks=ks.ushln(nt),vs.iushln(nt),Ds=ks.words[ks.length-1]|0);var Ms=vs.length-ks.length,Q;if(Y!=="mod"){Q=new a(null),Q.length=Ms+1,Q.words=new Array(Q.length);for(var $s=0;$s<Q.length;$s++)Q.words[$s]=0}var Ks=vs.clone()._ishlnsubmul(ks,1,Ms);Ks.negative===0&&(vs=Ks,Q&&(Q.words[Ms]=1));for(var jo=Ms-1;jo>=0;jo--){var Bo=(vs.words[ks.length+jo]|0)*67108864+(vs.words[ks.length+jo-1]|0);for(Bo=Math.min(Bo/Ds|0,67108863),vs._ishlnsubmul(ks,Bo,jo);vs.negative!==0;)Bo--,vs.negative=0,vs._ishlnsubmul(ks,1,jo),vs.isZero()||(vs.negative^=1);Q&&(Q.words[jo]=Bo)}return Q&&Q._strip(),vs._strip(),Y!=="div"&&nt!==0&&vs.iushrn(nt),{div:Q||null,mod:vs}},a.prototype.divmod=function(f,Y,nt){if(n(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var vs,ks,Ds;return this.negative!==0&&f.negative===0?(Ds=this.neg().divmod(f,Y),Y!=="mod"&&(vs=Ds.div.neg()),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.iadd(f)),{div:vs,mod:ks}):this.negative===0&&f.negative!==0?(Ds=this.divmod(f.neg(),Y),Y!=="mod"&&(vs=Ds.div.neg()),{div:vs,mod:Ds.mod}):this.negative&f.negative?(Ds=this.neg().divmod(f.neg(),Y),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.isub(f)),{div:Ds.div,mod:ks}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?Y==="div"?{div:this.divn(f.words[0]),mod:null}:Y==="mod"?{div:null,mod:new a(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modrn(f.words[0]))}:this._wordDiv(f,Y)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var Y=this.divmod(f);if(Y.mod.isZero())return Y.div;var nt=Y.div.negative!==0?Y.mod.isub(f):Y.mod,vs=f.ushrn(1),ks=f.andln(1),Ds=nt.cmp(vs);return Ds<0||ks===1&&Ds===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},a.prototype.modrn=function(f){var Y=f<0;Y&&(f=-f),n(f<=67108863);for(var nt=(1<<26)%f,vs=0,ks=this.length-1;ks>=0;ks--)vs=(nt*vs+(this.words[ks]|0))%f;return Y?-vs:vs},a.prototype.modn=function(f){return this.modrn(f)},a.prototype.idivn=function(f){var Y=f<0;Y&&(f=-f),n(f<=67108863);for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=(this.words[vs]|0)+nt*67108864;this.words[vs]=ks/f|0,nt=ks%f}return this._strip(),Y?this.ineg():this},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new a(1),ks=new a(0),Ds=new a(0),Bs=new a(1),Ms=0;Y.isEven()&&nt.isEven();)Y.iushrn(1),nt.iushrn(1),++Ms;for(var Q=nt.clone(),$s=Y.clone();!Y.isZero();){for(var Ks=0,jo=1;!(Y.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(Y.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Q),ks.isub($s)),vs.iushrn(1),ks.iushrn(1);for(var Bo=0,To=1;!(nt.words[0]&To)&&Bo<26;++Bo,To<<=1);if(Bo>0)for(nt.iushrn(Bo);Bo-- >0;)(Ds.isOdd()||Bs.isOdd())&&(Ds.iadd(Q),Bs.isub($s)),Ds.iushrn(1),Bs.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(Ds),ks.isub(Bs)):(nt.isub(Y),Ds.isub(vs),Bs.isub(ks))}return{a:Ds,b:Bs,gcd:nt.iushln(Ms)}},a.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new a(1),ks=new a(0),Ds=nt.clone();Y.cmpn(1)>0&&nt.cmpn(1)>0;){for(var Bs=0,Ms=1;!(Y.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(Y.iushrn(Bs);Bs-- >0;)vs.isOdd()&&vs.iadd(Ds),vs.iushrn(1);for(var Q=0,$s=1;!(nt.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(nt.iushrn(Q);Q-- >0;)ks.isOdd()&&ks.iadd(Ds),ks.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(ks)):(nt.isub(Y),ks.isub(vs))}var Ks;return Y.cmpn(1)===0?Ks=vs:Ks=ks,Ks.cmpn(0)<0&&Ks.iadd(f),Ks},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var Y=this.clone(),nt=f.clone();Y.negative=0,nt.negative=0;for(var vs=0;Y.isEven()&&nt.isEven();vs++)Y.iushrn(1),nt.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;nt.isEven();)nt.iushrn(1);var ks=Y.cmp(nt);if(ks<0){var Ds=Y;Y=nt,nt=Ds}else if(ks===0||nt.cmpn(1)===0)break;Y.isub(nt)}while(!0);return nt.iushln(vs)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){n(typeof f=="number");var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return this._expand(nt+1),this.words[nt]|=vs,this;for(var ks=vs,Ds=nt;ks!==0&&Ds<this.length;Ds++){var Bs=this.words[Ds]|0;Bs+=ks,ks=Bs>>>26,Bs&=67108863,this.words[Ds]=Bs}return ks!==0&&(this.words[Ds]=ks,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var Y=f<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var nt;if(this.length>1)nt=1;else{Y&&(f=-f),n(f<=67108863,"Number is too big");var vs=this.words[0]|0;nt=vs===f?0:vs<f?-1:1}return this.negative!==0?-nt|0:nt},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var Y=this.ucmp(f);return this.negative!==0?-Y|0:Y},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var Y=0,nt=this.length-1;nt>=0;nt--){var vs=this.words[nt]|0,ks=f.words[nt]|0;if(vs!==ks){vs<ks?Y=-1:vs>ks&&(Y=1);break}}return Y},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new Ys(f)},a.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var Zs={k256:null,p224:null,p192:null,p25519:null};function Js(Ws,f){this.name=Ws,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Js.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},Js.prototype.ireduce=function(f){var Y=f,nt;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),nt=Y.bitLength();while(nt>this.n);var vs=nt<this.n?-1:Y.ucmp(this.p);return vs===0?(Y.words[0]=0,Y.length=1):vs>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},Js.prototype.split=function(f,Y){f.iushrn(this.n,0,Y)},Js.prototype.imulK=function(f){return f.imul(this.k)};function xo(){Js.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(xo,Js),xo.prototype.split=function(f,Y){for(var nt=4194303,vs=Math.min(f.length,9),ks=0;ks<vs;ks++)Y.words[ks]=f.words[ks];if(Y.length=vs,f.length<=9){f.words[0]=0,f.length=1;return}var Ds=f.words[9];for(Y.words[Y.length++]=Ds&nt,ks=10;ks<f.length;ks++){var Bs=f.words[ks]|0;f.words[ks-10]=(Bs&nt)<<4|Ds>>>22,Ds=Bs}Ds>>>=22,f.words[ks-10]=Ds,Ds===0&&f.length>10?f.length-=10:f.length-=9},xo.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var Y=0,nt=0;nt<f.length;nt++){var vs=f.words[nt]|0;Y+=vs*977,f.words[nt]=Y&67108863,Y=vs*64+(Y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Io(){Js.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(Io,Js);function Uo(){Js.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(Uo,Js);function Fo(){Js.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Fo,Js),Fo.prototype.imulK=function(f){for(var Y=0,nt=0;nt<f.length;nt++){var vs=(f.words[nt]|0)*19+Y,ks=vs&67108863;vs>>>=26,f.words[nt]=ks,Y=vs}return Y!==0&&(f.words[f.length++]=Y),f},a._prime=function(f){if(Zs[f])return Zs[f];var Y;if(f==="k256")Y=new xo;else if(f==="p224")Y=new Io;else if(f==="p192")Y=new Uo;else if(f==="p25519")Y=new Fo;else throw new Error("Unknown prime "+f);return Zs[f]=Y,Y};function Ys(Ws){if(typeof Ws=="string"){var f=a._prime(Ws);this.m=f.p,this.prime=f}else n(Ws.gtn(1),"modulus must be greater than 1"),this.m=Ws,this.prime=null}Ys.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},Ys.prototype._verify2=function(f,Y){n((f.negative|Y.negative)===0,"red works only with positives"),n(f.red&&f.red===Y.red,"red works only with red numbers")},Ys.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(et(f,f.umod(this.m)._forceRed(this)),f)},Ys.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Ys.prototype.add=function(f,Y){this._verify2(f,Y);var nt=f.add(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt._forceRed(this)},Ys.prototype.iadd=function(f,Y){this._verify2(f,Y);var nt=f.iadd(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt},Ys.prototype.sub=function(f,Y){this._verify2(f,Y);var nt=f.sub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt._forceRed(this)},Ys.prototype.isub=function(f,Y){this._verify2(f,Y);var nt=f.isub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt},Ys.prototype.shl=function(f,Y){return this._verify1(f),this.imod(f.ushln(Y))},Ys.prototype.imul=function(f,Y){return this._verify2(f,Y),this.imod(f.imul(Y))},Ys.prototype.mul=function(f,Y){return this._verify2(f,Y),this.imod(f.mul(Y))},Ys.prototype.isqr=function(f){return this.imul(f,f.clone())},Ys.prototype.sqr=function(f){return this.mul(f,f)},Ys.prototype.sqrt=function(f){if(f.isZero())return f.clone();var Y=this.m.andln(3);if(n(Y%2===1),Y===3){var nt=this.m.add(new a(1)).iushrn(2);return this.pow(f,nt)}for(var vs=this.m.subn(1),ks=0;!vs.isZero()&&vs.andln(1)===0;)ks++,vs.iushrn(1);n(!vs.isZero());var Ds=new a(1).toRed(this),Bs=Ds.redNeg(),Ms=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new a(2*Q*Q).toRed(this);this.pow(Q,Ms).cmp(Bs)!==0;)Q.redIAdd(Bs);for(var $s=this.pow(Q,vs),Ks=this.pow(f,vs.addn(1).iushrn(1)),jo=this.pow(f,vs),Bo=ks;jo.cmp(Ds)!==0;){for(var To=jo,Oo=0;To.cmp(Ds)!==0;Oo++)To=To.redSqr();n(Oo<Bo);var Vo=this.pow($s,new a(1).iushln(Bo-Oo-1));Ks=Ks.redMul(Vo),$s=Vo.redSqr(),jo=jo.redMul($s),Bo=Oo}return Ks},Ys.prototype.invm=function(f){var Y=f._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},Ys.prototype.pow=function(f,Y){if(Y.isZero())return new a(1).toRed(this);if(Y.cmpn(1)===0)return f.clone();var nt=4,vs=new Array(1<<nt);vs[0]=new a(1).toRed(this),vs[1]=f;for(var ks=2;ks<vs.length;ks++)vs[ks]=this.mul(vs[ks-1],f);var Ds=vs[0],Bs=0,Ms=0,Q=Y.bitLength()%26;for(Q===0&&(Q=26),ks=Y.length-1;ks>=0;ks--){for(var $s=Y.words[ks],Ks=Q-1;Ks>=0;Ks--){var jo=$s>>Ks&1;if(Ds!==vs[0]&&(Ds=this.sqr(Ds)),jo===0&&Bs===0){Ms=0;continue}Bs<<=1,Bs|=jo,Ms++,!(Ms!==nt&&(ks!==0||Ks!==0))&&(Ds=this.mul(Ds,vs[Bs]),Ms=0,Bs=0)}Q=26}return Ds},Ys.prototype.convertTo=function(f){var Y=f.umod(this.m);return Y===f?Y.clone():Y},Ys.prototype.convertFrom=function(f){var Y=f.clone();return Y.red=null,Y},a.mont=function(f){return new Hs(f)};function Hs(Ws){Ys.call(this,Ws),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Hs,Ys),Hs.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Hs.prototype.convertFrom=function(f){var Y=this.imod(f.mul(this.rinv));return Y.red=null,Y},Hs.prototype.imul=function(f,Y){if(f.isZero()||Y.isZero())return f.words[0]=0,f.length=1,f;var nt=f.imul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Hs.prototype.mul=function(f,Y){if(f.isZero()||Y.isZero())return new a(0)._forceRed(this);var nt=f.mul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Hs.prototype.invm=function(f){var Y=this.imod(f._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(t,commonjsGlobal$1)})(bn$3);var bnExports=bn$3.exports;const BN=getDefaultExportFromCjs$2(bnExports);var dayjs_min={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(commonjsGlobal$1,function(){var i=1e3,n=6e4,s=36e5,a="millisecond",l="second",A="minute",T="hour",q="day",et="week",xi="month",Oi="quarter",Ts="year",Fs="date",qs="Invalid Date",Us=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ls=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Gs={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(f){var Y=["th","st","nd","rd"],nt=f%100;return"["+f+(Y[(nt-20)%10]||Y[nt]||Y[0])+"]"}},zs=function(f,Y,nt){var vs=String(f);return!vs||vs.length>=Y?f:""+Array(Y+1-vs.length).join(nt)+f},Vs={s:zs,z:function(f){var Y=-f.utcOffset(),nt=Math.abs(Y),vs=Math.floor(nt/60),ks=nt%60;return(Y<=0?"+":"-")+zs(vs,2,"0")+":"+zs(ks,2,"0")},m:function f(Y,nt){if(Y.date()<nt.date())return-f(nt,Y);var vs=12*(nt.year()-Y.year())+(nt.month()-Y.month()),ks=Y.clone().add(vs,xi),Ds=nt-ks<0,Bs=Y.clone().add(vs+(Ds?-1:1),xi);return+(-(vs+(nt-ks)/(Ds?ks-Bs:Bs-ks))||0)},a:function(f){return f<0?Math.ceil(f)||0:Math.floor(f)},p:function(f){return{M:xi,y:Ts,w:et,d:q,D:Fs,h:T,m:A,s:l,ms:a,Q:Oi}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(f){return f===void 0}},Zs="en",Js={};Js[Zs]=Gs;var xo="$isDayjsObject",Io=function(f){return f instanceof Hs||!(!f||!f[xo])},Uo=function f(Y,nt,vs){var ks;if(!Y)return Zs;if(typeof Y=="string"){var Ds=Y.toLowerCase();Js[Ds]&&(ks=Ds),nt&&(Js[Ds]=nt,ks=Ds);var Bs=Y.split("-");if(!ks&&Bs.length>1)return f(Bs[0])}else{var Ms=Y.name;Js[Ms]=Y,ks=Ms}return!vs&&ks&&(Zs=ks),ks||!vs&&Zs},Fo=function(f,Y){if(Io(f))return f.clone();var nt=typeof Y=="object"?Y:{};return nt.date=f,nt.args=arguments,new Hs(nt)},Ys=Vs;Ys.l=Uo,Ys.i=Io,Ys.w=function(f,Y){return Fo(f,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var Hs=function(){function f(nt){this.$L=Uo(nt.locale,null,!0),this.parse(nt),this.$x=this.$x||nt.x||{},this[xo]=!0}var Y=f.prototype;return Y.parse=function(nt){this.$d=function(vs){var ks=vs.date,Ds=vs.utc;if(ks===null)return new Date(NaN);if(Ys.u(ks))return new Date;if(ks instanceof Date)return new Date(ks);if(typeof ks=="string"&&!/Z$/i.test(ks)){var Bs=ks.match(Us);if(Bs){var Ms=Bs[2]-1||0,Q=(Bs[7]||"0").substring(0,3);return Ds?new Date(Date.UTC(Bs[1],Ms,Bs[3]||1,Bs[4]||0,Bs[5]||0,Bs[6]||0,Q)):new Date(Bs[1],Ms,Bs[3]||1,Bs[4]||0,Bs[5]||0,Bs[6]||0,Q)}}return new Date(ks)}(nt),this.init()},Y.init=function(){var nt=this.$d;this.$y=nt.getFullYear(),this.$M=nt.getMonth(),this.$D=nt.getDate(),this.$W=nt.getDay(),this.$H=nt.getHours(),this.$m=nt.getMinutes(),this.$s=nt.getSeconds(),this.$ms=nt.getMilliseconds()},Y.$utils=function(){return Ys},Y.isValid=function(){return this.$d.toString()!==qs},Y.isSame=function(nt,vs){var ks=Fo(nt);return this.startOf(vs)<=ks&&ks<=this.endOf(vs)},Y.isAfter=function(nt,vs){return Fo(nt)<this.startOf(vs)},Y.isBefore=function(nt,vs){return this.endOf(vs)<Fo(nt)},Y.$g=function(nt,vs,ks){return Ys.u(nt)?this[vs]:this.set(ks,nt)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(nt,vs){var ks=this,Ds=!!Ys.u(vs)||vs,Bs=Ys.p(nt),Ms=function(Vo,zo){var so=Ys.w(ks.$u?Date.UTC(ks.$y,zo,Vo):new Date(ks.$y,zo,Vo),ks);return Ds?so:so.endOf(q)},Q=function(Vo,zo){return Ys.w(ks.toDate()[Vo].apply(ks.toDate("s"),(Ds?[0,0,0,0]:[23,59,59,999]).slice(zo)),ks)},$s=this.$W,Ks=this.$M,jo=this.$D,Bo="set"+(this.$u?"UTC":"");switch(Bs){case Ts:return Ds?Ms(1,0):Ms(31,11);case xi:return Ds?Ms(1,Ks):Ms(0,Ks+1);case et:var To=this.$locale().weekStart||0,Oo=($s<To?$s+7:$s)-To;return Ms(Ds?jo-Oo:jo+(6-Oo),Ks);case q:case Fs:return Q(Bo+"Hours",0);case T:return Q(Bo+"Minutes",1);case A:return Q(Bo+"Seconds",2);case l:return Q(Bo+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(nt){return this.startOf(nt,!1)},Y.$set=function(nt,vs){var ks,Ds=Ys.p(nt),Bs="set"+(this.$u?"UTC":""),Ms=(ks={},ks[q]=Bs+"Date",ks[Fs]=Bs+"Date",ks[xi]=Bs+"Month",ks[Ts]=Bs+"FullYear",ks[T]=Bs+"Hours",ks[A]=Bs+"Minutes",ks[l]=Bs+"Seconds",ks[a]=Bs+"Milliseconds",ks)[Ds],Q=Ds===q?this.$D+(vs-this.$W):vs;if(Ds===xi||Ds===Ts){var $s=this.clone().set(Fs,1);$s.$d[Ms](Q),$s.init(),this.$d=$s.set(Fs,Math.min(this.$D,$s.daysInMonth())).$d}else Ms&&this.$d[Ms](Q);return this.init(),this},Y.set=function(nt,vs){return this.clone().$set(nt,vs)},Y.get=function(nt){return this[Ys.p(nt)]()},Y.add=function(nt,vs){var ks,Ds=this;nt=Number(nt);var Bs=Ys.p(vs),Ms=function(Ks){var jo=Fo(Ds);return Ys.w(jo.date(jo.date()+Math.round(Ks*nt)),Ds)};if(Bs===xi)return this.set(xi,this.$M+nt);if(Bs===Ts)return this.set(Ts,this.$y+nt);if(Bs===q)return Ms(1);if(Bs===et)return Ms(7);var Q=(ks={},ks[A]=n,ks[T]=s,ks[l]=i,ks)[Bs]||1,$s=this.$d.getTime()+nt*Q;return Ys.w($s,this)},Y.subtract=function(nt,vs){return this.add(-1*nt,vs)},Y.format=function(nt){var vs=this,ks=this.$locale();if(!this.isValid())return ks.invalidDate||qs;var Ds=nt||"YYYY-MM-DDTHH:mm:ssZ",Bs=Ys.z(this),Ms=this.$H,Q=this.$m,$s=this.$M,Ks=ks.weekdays,jo=ks.months,Bo=ks.meridiem,To=function(zo,so,Qs,sa){return zo&&(zo[so]||zo(vs,Ds))||Qs[so].slice(0,sa)},Oo=function(zo){return Ys.s(Ms%12||12,zo,"0")},Vo=Bo||function(zo,so,Qs){var sa=zo<12?"AM":"PM";return Qs?sa.toLowerCase():sa};return Ds.replace(Ls,function(zo,so){return so||function(Qs){switch(Qs){case"YY":return String(vs.$y).slice(-2);case"YYYY":return Ys.s(vs.$y,4,"0");case"M":return $s+1;case"MM":return Ys.s($s+1,2,"0");case"MMM":return To(ks.monthsShort,$s,jo,3);case"MMMM":return To(jo,$s);case"D":return vs.$D;case"DD":return Ys.s(vs.$D,2,"0");case"d":return String(vs.$W);case"dd":return To(ks.weekdaysMin,vs.$W,Ks,2);case"ddd":return To(ks.weekdaysShort,vs.$W,Ks,3);case"dddd":return Ks[vs.$W];case"H":return String(Ms);case"HH":return Ys.s(Ms,2,"0");case"h":return Oo(1);case"hh":return Oo(2);case"a":return Vo(Ms,Q,!0);case"A":return Vo(Ms,Q,!1);case"m":return String(Q);case"mm":return Ys.s(Q,2,"0");case"s":return String(vs.$s);case"ss":return Ys.s(vs.$s,2,"0");case"SSS":return Ys.s(vs.$ms,3,"0");case"Z":return Bs}return null}(zo)||Bs.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(nt,vs,ks){var Ds,Bs=this,Ms=Ys.p(vs),Q=Fo(nt),$s=(Q.utcOffset()-this.utcOffset())*n,Ks=this-Q,jo=function(){return Ys.m(Bs,Q)};switch(Ms){case Ts:Ds=jo()/12;break;case xi:Ds=jo();break;case Oi:Ds=jo()/3;break;case et:Ds=(Ks-$s)/6048e5;break;case q:Ds=(Ks-$s)/864e5;break;case T:Ds=Ks/s;break;case A:Ds=Ks/n;break;case l:Ds=Ks/i;break;default:Ds=Ks}return ks?Ds:Ys.a(Ds)},Y.daysInMonth=function(){return this.endOf(xi).$D},Y.$locale=function(){return Js[this.$L]},Y.locale=function(nt,vs){if(!nt)return this.$L;var ks=this.clone(),Ds=Uo(nt,vs,!0);return Ds&&(ks.$L=Ds),ks},Y.clone=function(){return Ys.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},f}(),Ws=Hs.prototype;return Fo.prototype=Ws,[["$ms",a],["$s",l],["$m",A],["$H",T],["$W",q],["$M",xi],["$y",Ts],["$D",Fs]].forEach(function(f){Ws[f[1]]=function(Y){return this.$g(Y,f[0],f[1])}}),Fo.extend=function(f,Y){return f.$i||(f(Y,Hs,Fo),f.$i=!0),Fo},Fo.locale=Uo,Fo.isDayjs=Io,Fo.unix=function(f){return Fo(1e3*f)},Fo.en=Js[Zs],Fo.Ls=Js,Fo.p={},Fo})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs$2(dayjs_minExports);var duration$1={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(commonjsGlobal$1,function(){var i,n,s=1e3,a=6e4,l=36e5,A=864e5,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q=31536e6,et=2628e6,xi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,Oi={years:q,months:et,days:A,hours:l,minutes:a,seconds:s,milliseconds:1,weeks:6048e5},Ts=function(Js){return Js instanceof Vs},Fs=function(Js,xo,Io){return new Vs(Js,Io,xo.$l)},qs=function(Js){return n.p(Js)+"s"},Us=function(Js){return Js<0},Ls=function(Js){return Us(Js)?Math.ceil(Js):Math.floor(Js)},Gs=function(Js){return Math.abs(Js)},zs=function(Js,xo){return Js?Us(Js)?{negative:!0,format:""+Gs(Js)+xo}:{negative:!1,format:""+Js+xo}:{negative:!1,format:""}},Vs=function(){function Js(Io,Uo,Fo){var Ys=this;if(this.$d={},this.$l=Fo,Io===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Uo)return Fs(Io*Oi[qs(Uo)],this);if(typeof Io=="number")return this.$ms=Io,this.parseFromMilliseconds(),this;if(typeof Io=="object")return Object.keys(Io).forEach(function(f){Ys.$d[qs(f)]=Io[f]}),this.calMilliseconds(),this;if(typeof Io=="string"){var Hs=Io.match(xi);if(Hs){var Ws=Hs.slice(2).map(function(f){return f!=null?Number(f):0});return this.$d.years=Ws[0],this.$d.months=Ws[1],this.$d.weeks=Ws[2],this.$d.days=Ws[3],this.$d.hours=Ws[4],this.$d.minutes=Ws[5],this.$d.seconds=Ws[6],this.calMilliseconds(),this}}return this}var xo=Js.prototype;return xo.calMilliseconds=function(){var Io=this;this.$ms=Object.keys(this.$d).reduce(function(Uo,Fo){return Uo+(Io.$d[Fo]||0)*Oi[Fo]},0)},xo.parseFromMilliseconds=function(){var Io=this.$ms;this.$d.years=Ls(Io/q),Io%=q,this.$d.months=Ls(Io/et),Io%=et,this.$d.days=Ls(Io/A),Io%=A,this.$d.hours=Ls(Io/l),Io%=l,this.$d.minutes=Ls(Io/a),Io%=a,this.$d.seconds=Ls(Io/s),Io%=s,this.$d.milliseconds=Io},xo.toISOString=function(){var Io=zs(this.$d.years,"Y"),Uo=zs(this.$d.months,"M"),Fo=+this.$d.days||0;this.$d.weeks&&(Fo+=7*this.$d.weeks);var Ys=zs(Fo,"D"),Hs=zs(this.$d.hours,"H"),Ws=zs(this.$d.minutes,"M"),f=this.$d.seconds||0;this.$d.milliseconds&&(f+=this.$d.milliseconds/1e3,f=Math.round(1e3*f)/1e3);var Y=zs(f,"S"),nt=Io.negative||Uo.negative||Ys.negative||Hs.negative||Ws.negative||Y.negative,vs=Hs.format||Ws.format||Y.format?"T":"",ks=(nt?"-":"")+"P"+Io.format+Uo.format+Ys.format+vs+Hs.format+Ws.format+Y.format;return ks==="P"||ks==="-P"?"P0D":ks},xo.toJSON=function(){return this.toISOString()},xo.format=function(Io){var Uo=Io||"YYYY-MM-DDTHH:mm:ss",Fo={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return Uo.replace(T,function(Ys,Hs){return Hs||String(Fo[Ys])})},xo.as=function(Io){return this.$ms/Oi[qs(Io)]},xo.get=function(Io){var Uo=this.$ms,Fo=qs(Io);return Fo==="milliseconds"?Uo%=1e3:Uo=Fo==="weeks"?Ls(Uo/Oi[Fo]):this.$d[Fo],Uo||0},xo.add=function(Io,Uo,Fo){var Ys;return Ys=Uo?Io*Oi[qs(Uo)]:Ts(Io)?Io.$ms:Fs(Io,this).$ms,Fs(this.$ms+Ys*(Fo?-1:1),this)},xo.subtract=function(Io,Uo){return this.add(Io,Uo,!0)},xo.locale=function(Io){var Uo=this.clone();return Uo.$l=Io,Uo},xo.clone=function(){return Fs(this.$ms,this)},xo.humanize=function(Io){return i().add(this.$ms,"ms").locale(this.$l).fromNow(!Io)},xo.valueOf=function(){return this.asMilliseconds()},xo.milliseconds=function(){return this.get("milliseconds")},xo.asMilliseconds=function(){return this.as("milliseconds")},xo.seconds=function(){return this.get("seconds")},xo.asSeconds=function(){return this.as("seconds")},xo.minutes=function(){return this.get("minutes")},xo.asMinutes=function(){return this.as("minutes")},xo.hours=function(){return this.get("hours")},xo.asHours=function(){return this.as("hours")},xo.days=function(){return this.get("days")},xo.asDays=function(){return this.as("days")},xo.weeks=function(){return this.get("weeks")},xo.asWeeks=function(){return this.as("weeks")},xo.months=function(){return this.get("months")},xo.asMonths=function(){return this.as("months")},xo.years=function(){return this.get("years")},xo.asYears=function(){return this.as("years")},Js}(),Zs=function(Js,xo,Io){return Js.add(xo.years()*Io,"y").add(xo.months()*Io,"M").add(xo.days()*Io,"d").add(xo.hours()*Io,"h").add(xo.minutes()*Io,"m").add(xo.seconds()*Io,"s").add(xo.milliseconds()*Io,"ms")};return function(Js,xo,Io){i=Io,n=Io().$utils(),Io.duration=function(Ys,Hs){var Ws=Io.locale();return Fs(Ys,{$l:Ws},Hs)},Io.isDuration=Ts;var Uo=xo.prototype.add,Fo=xo.prototype.subtract;xo.prototype.add=function(Ys,Hs){return Ts(Ys)?Zs(this,Ys,1):Uo.bind(this)(Ys,Hs)},xo.prototype.subtract=function(Ys,Hs){return Ts(Ys)?Zs(this,Ys,-1):Fo.bind(this)(Ys,Hs)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs$2(durationExports);var relativeTime$1={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(commonjsGlobal$1,function(){return function(i,n,s){i=i||{};var a=n.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function A(q,et,xi,Oi){return a.fromToBase(q,et,xi,Oi)}s.en.relativeTime=l,a.fromToBase=function(q,et,xi,Oi,Ts){for(var Fs,qs,Us,Ls=xi.$locale().relativeTime||l,Gs=i.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],zs=Gs.length,Vs=0;Vs<zs;Vs+=1){var Zs=Gs[Vs];Zs.d&&(Fs=Oi?s(q).diff(xi,Zs.d,!0):xi.diff(q,Zs.d,!0));var Js=(i.rounding||Math.round)(Math.abs(Fs));if(Us=Fs>0,Js<=Zs.r||!Zs.r){Js<=1&&Vs>0&&(Zs=Gs[Vs-1]);var xo=Ls[Zs.l];Ts&&(Js=Ts(""+Js)),qs=typeof xo=="string"?xo.replace("%d",Js):xo(Js,et,Zs.l,Us);break}}if(et)return qs;var Io=Us?Ls.future:Ls.past;return typeof Io=="function"?Io(qs):Io.replace("%s",qs)},a.to=function(q,et){return A(q,et,this,!0)},a.from=function(q,et){return A(q,et,this)};var T=function(q){return q.$u?s.utc():s()};a.toNow=function(q){return this.to(T(this),q)},a.fromNow=function(q){return this.from(T(this),q)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs$2(relativeTimeExports);/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT$1=9e15,MAX_DIGITS$1=1e9,NUMERALS$1="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI$1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT$1,crypto:!1},inexact$1,quadrant$1,external$1=!0,decimalError$1="[DecimalError] ",invalidArgument$1=decimalError$1+"Invalid argument: ",precisionLimitExceeded$1=decimalError$1+"Precision limit exceeded",cryptoUnavailable$1=decimalError$1+"crypto unavailable",tag$1="[object Decimal]",mathfloor$1=Math.floor,mathpow$1=Math.pow,isBinary$1=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex$2=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal$1=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal$1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE$1=1e7,LOG_BASE$1=7,MAX_SAFE_INTEGER$3=9007199254740991,LN10_PRECISION$1=LN10$1.length-1,PI_PRECISION$1=PI$1.length-1,P$4={toStringTag:tag$1};P$4.absoluteValue=P$4.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),finalise$1(t)};P$4.ceil=function(){return finalise$1(new this.constructor(this),this.e+1,2)};P$4.clampedTo=P$4.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(invalidArgument$1+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};P$4.comparedTo=P$4.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};P$4.cosine=P$4.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+LOG_BASE$1,n.rounding=1,i=cosine$1(n,toLessThanHalfPi$1(n,i)),n.precision=t,n.rounding=e,finalise$1(quadrant$1==2||quadrant$1==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};P$4.cubeRoot=P$4.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(external$1=!1,a=et.s*mathpow$1(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=digitsToString$1(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=mathpow$1(i,1/3),t=mathfloor$1((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=divide$2(q.plus(et).times(A),q.plus(T),l+2,1),digitsToString$1(A.d).slice(0,l)===(i=digitsToString$1(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(finalise$1(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(finalise$1(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return external$1=!0,finalise$1(n,t,xi.rounding,e)};P$4.decimalPlaces=P$4.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-mathfloor$1(this.e/LOG_BASE$1))*LOG_BASE$1,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};P$4.dividedBy=P$4.div=function(t){return divide$2(this,new this.constructor(t))};P$4.dividedToIntegerBy=P$4.divToInt=function(t){var e=this,i=e.constructor;return finalise$1(divide$2(e,new i(t),0,1,1),i.precision,i.rounding)};P$4.equals=P$4.eq=function(t){return this.cmp(t)===0};P$4.floor=function(){return finalise$1(new this.constructor(this),this.e+1,3)};P$4.greaterThan=P$4.gt=function(t){return this.cmp(t)>0};P$4.greaterThanOrEqualTo=P$4.gte=function(t){var e=this.cmp(t);return e==1||e===0};P$4.hyperbolicCosine=P$4.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/tinyPow$1(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=taylorSeries$1(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return finalise$1(a,l.precision=i,l.rounding=n,!0)};P$4.hyperbolicSine=P$4.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=taylorSeries$1(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/tinyPow$1(5,t)),s=taylorSeries$1(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,finalise$1(s,e,i,!0)};P$4.hyperbolicTangent=P$4.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,divide$2(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};P$4.inverseCosine=P$4.acos=function(){var t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,s=e.rounding;return i!==-1?i===0?t.isNeg()?getPi$1(e,n,s):new e(0):new e(NaN):t.isZero()?getPi$1(e,n+4,s).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=s,t.times(2))};P$4.inverseHyperbolicCosine=P$4.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,external$1=!1,i=i.times(i).minus(1).sqrt().plus(i),external$1=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};P$4.inverseHyperbolicSine=P$4.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,external$1=!1,i=i.times(i).plus(1).sqrt().plus(i),external$1=!0,n.precision=t,n.rounding=e,i.ln())};P$4.inverseHyperbolicTangent=P$4.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?finalise$1(new a(s),t,e,!0):(a.precision=i=n-s.e,s=divide$2(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};P$4.inverseSine=P$4.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=getPi$1(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};P$4.inverseTangent=P$4.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=PI_PRECISION$1)return l=getPi$1(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=PI_PRECISION$1)return l=getPi$1(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/LOG_BASE$1+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(external$1=!1,e=Math.ceil(A/LOG_BASE$1),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),external$1=!0,finalise$1(l,et.precision=xi,et.rounding=Oi,!0)};P$4.isFinite=function(){return!!this.d};P$4.isInteger=P$4.isInt=function(){return!!this.d&&mathfloor$1(this.e/LOG_BASE$1)>this.d.length-2};P$4.isNaN=function(){return!this.s};P$4.isNegative=P$4.isNeg=function(){return this.s<0};P$4.isPositive=P$4.isPos=function(){return this.s>0};P$4.isZero=function(){return!!this.d&&this.d[0]===0};P$4.lessThan=P$4.lt=function(t){return this.cmp(t)<0};P$4.lessThanOrEqualTo=P$4.lte=function(t){return this.cmp(t)<1};P$4.logarithm=P$4.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(external$1=!1,A=xi+Ts,l=naturalLogarithm$1(q,A),n=e?getLn10$1(et,A+10):naturalLogarithm$1(t,A),T=divide$2(l,n,A,1),checkRoundingDigits$1(T.d,s=xi,Oi))do if(A+=10,l=naturalLogarithm$1(q,A),n=e?getLn10$1(et,A+10):naturalLogarithm$1(t,A),T=divide$2(l,n,A,1),!a){+digitsToString$1(T.d).slice(s+1,s+15)+1==1e14&&(T=finalise$1(T,xi+1,0));break}while(checkRoundingDigits$1(T.d,s+=10,Oi));return external$1=!0,finalise$1(T,xi,Oi)};P$4.minus=P$4.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return external$1?finalise$1(t,A,T):t}if(i=mathfloor$1(t.e/LOG_BASE$1),et=mathfloor$1(Ts.e/LOG_BASE$1),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/LOG_BASE$1),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=BASE$1-1;--q[s],q[n]+=BASE$1}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=getBase10Exponent$1(q,i),external$1?finalise$1(t,A,T):t):new Fs(T===3?-0:0)};P$4.modulo=P$4.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?finalise$1(new n(i),n.precision,n.rounding):(external$1=!1,n.modulo==9?(e=divide$2(i,t.abs(),0,3,1),e.s*=t.s):e=divide$2(i,t,0,n.modulo,1),e=e.times(t),external$1=!0,i.minus(e))};P$4.naturalExponential=P$4.exp=function(){return naturalExponential$1(this)};P$4.naturalLogarithm=P$4.ln=function(){return naturalLogarithm$1(this)};P$4.negated=P$4.neg=function(){var t=new this.constructor(this);return t.s=-t.s,finalise$1(t)};P$4.plus=P$4.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),external$1?finalise$1(t,A,T):t;if(a=mathfloor$1(xi.e/LOG_BASE$1),n=mathfloor$1(t.e/LOG_BASE$1),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/LOG_BASE$1),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/BASE$1|0,q[s]%=BASE$1;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=getBase10Exponent$1(q,n),external$1?finalise$1(t,A,T):t};P$4.precision=P$4.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument$1+t);return i.d?(e=getPrecision$1(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};P$4.round=function(){var t=this,e=t.constructor;return finalise$1(new e(t),t.e+1,e.rounding)};P$4.sine=P$4.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+LOG_BASE$1,n.rounding=1,i=sine$1(n,toLessThanHalfPi$1(n,i)),n.precision=t,n.rounding=e,finalise$1(quadrant$1>2?i.neg():i,t,e,!0)):new n(NaN)};P$4.squareRoot=P$4.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(external$1=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=digitsToString$1(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=mathfloor$1((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus(divide$2(l,a,i+2,1)).times(.5),digitsToString$1(a.d).slice(0,i)===(e=digitsToString$1(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(finalise$1(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(finalise$1(n,T+1,1),t=!n.times(n).eq(l));break}return external$1=!0,finalise$1(n,T,et.rounding,t)};P$4.tangent=P$4.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=divide$2(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,finalise$1(quadrant$1==2||quadrant$1==4?i.neg():i,t,e,!0)):new n(NaN)};P$4.times=P$4.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=mathfloor$1(et.e/LOG_BASE$1)+mathfloor$1(t.e/LOG_BASE$1),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%BASE$1|0,e=A/BASE$1|0;a[s]=(a[s]+e)%BASE$1|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=getBase10Exponent$1(a,i),external$1?finalise$1(t,xi.precision,xi.rounding):t};P$4.toBinary=function(t,e){return toStringBinary$1(this,2,t,e)};P$4.toDecimalPlaces=P$4.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(checkInt32$1(t,0,MAX_DIGITS$1),e===void 0?e=n.rounding:checkInt32$1(e,0,8),finalise$1(i,t+i.e+1,e))};P$4.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=finiteToString$1(n,!0):(checkInt32$1(t,0,MAX_DIGITS$1),e===void 0?e=s.rounding:checkInt32$1(e,0,8),n=finalise$1(new s(n),t+1,e),i=finiteToString$1(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};P$4.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=finiteToString$1(s):(checkInt32$1(t,0,MAX_DIGITS$1),e===void 0?e=a.rounding:checkInt32$1(e,0,8),n=finalise$1(new a(s),t+s.e+1,e),i=finiteToString$1(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};P$4.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=getPrecision$1(Fs)-Ts.e-1,l=a%LOG_BASE$1,e.d[0]=mathpow$1(10,l<0?LOG_BASE$1+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error(invalidArgument$1+A);t=A.gt(e)?a>0?e:q:A}for(external$1=!1,A=new qs(digitsToString$1(Fs)),et=qs.precision,qs.precision=a=Fs.length*LOG_BASE$1*2;xi=divide$2(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=divide$2(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=divide$2(q,n,a,1).minus(Ts).abs().cmp(divide$2(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,external$1=!0,Oi};P$4.toHexadecimal=P$4.toHex=function(t,e){return toStringBinary$1(this,16,t,e)};P$4.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:checkInt32$1(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(external$1=!1,i=divide$2(i,t,0,e,1).times(t),external$1=!0,finalise$1(i)):(t.s=i.s,i=t),i};P$4.toNumber=function(){return+this};P$4.toOctal=function(t,e){return toStringBinary$1(this,8,t,e)};P$4.toPower=P$4.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(mathpow$1(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return finalise$1(A,n,a);if(e=mathfloor$1(t.e/LOG_BASE$1),e>=t.d.length-1&&(i=q<0?-q:q)<=MAX_SAFE_INTEGER$3)return s=intPow$1(T,A,i,n),t.s<0?new T(1).div(s):finalise$1(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(t.d[e]&1||(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=mathpow$1(+A,q),e=i==0||!isFinite(i)?mathfloor$1(q*(Math.log("0."+digitsToString$1(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(external$1=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=naturalExponential$1(t.times(naturalLogarithm$1(A,n+i)),n),s.d&&(s=finalise$1(s,n+5,1),checkRoundingDigits$1(s.d,n,a)&&(e=n+10,s=finalise$1(naturalExponential$1(t.times(naturalLogarithm$1(A,e+i)),e),e+5,1),+digitsToString$1(s.d).slice(n+1,n+15)+1==1e14&&(s=finalise$1(s,n+1,0)))),s.s=l,external$1=!0,T.rounding=a,finalise$1(s,n,a))};P$4.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=finiteToString$1(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(checkInt32$1(t,1,MAX_DIGITS$1),e===void 0?e=s.rounding:checkInt32$1(e,0,8),n=finalise$1(new s(n),t,e),i=finiteToString$1(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};P$4.toSignificantDigits=P$4.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(checkInt32$1(t,1,MAX_DIGITS$1),e===void 0?e=n.rounding:checkInt32$1(e,0,8)),finalise$1(new n(i),t,e)};P$4.toString=function(){var t=this,e=t.constructor,i=finiteToString$1(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};P$4.truncated=P$4.trunc=function(){return finalise$1(new this.constructor(this),this.e+1,1)};P$4.valueOf=P$4.toJSON=function(){var t=this,e=t.constructor,i=finiteToString$1(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function digitsToString$1(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=LOG_BASE$1-n.length,i&&(a+=getZeroString$1(i)),a+=n;l=t[e],n=l+"",i=LOG_BASE$1-n.length,i&&(a+=getZeroString$1(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function checkInt32$1(t,e,i){if(t!==~~t||t<e||t>i)throw Error(invalidArgument$1+t)}function checkRoundingDigits$1(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=LOG_BASE$1,s=0):(s=Math.ceil((e+1)/LOG_BASE$1),e%=LOG_BASE$1),a=mathpow$1(10,LOG_BASE$1-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==mathpow$1(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==mathpow$1(10,e-3)-1,l}function convertBase$1(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=NUMERALS$1.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function cosine$1(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/tinyPow$1(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=taylorSeries$1(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var divide$2=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=BASE$1,Ts=LOG_BASE$1,et=mathfloor$1(n.e/Ts)-mathfloor$1(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,inexact$1=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,finalise$1(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function finalise$1(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=LOG_BASE$1,l=e,et=xi[Oi=0],T=et/mathpow$1(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/LOG_BASE$1),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=LOG_BASE$1,l=a-LOG_BASE$1+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=LOG_BASE$1,l=a-LOG_BASE$1+s,T=l<0?0:et/mathpow$1(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%mathpow$1(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/mathpow$1(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=mathpow$1(10,(LOG_BASE$1-e%LOG_BASE$1)%LOG_BASE$1),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=mathpow$1(10,LOG_BASE$1-a),xi[Oi]=l>0?(et/mathpow$1(10,s-l)%mathpow$1(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==BASE$1&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=BASE$1)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return external$1&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function finiteToString$1(t,e,i){if(!t.isFinite())return nonFiniteToString$1(t);var n,s=t.e,a=digitsToString$1(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+getZeroString$1(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+getZeroString$1(-s-1)+a,i&&(n=i-l)>0&&(a+=getZeroString$1(n))):s>=l?(a+=getZeroString$1(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+getZeroString$1(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=getZeroString$1(n))),a}function getBase10Exponent$1(t,e){var i=t[0];for(e*=LOG_BASE$1;i>=10;i/=10)e++;return e}function getLn10$1(t,e,i){if(e>LN10_PRECISION$1)throw external$1=!0,i&&(t.precision=i),Error(precisionLimitExceeded$1);return finalise$1(new t(LN10$1),e,1,!0)}function getPi$1(t,e,i){if(e>PI_PRECISION$1)throw Error(precisionLimitExceeded$1);return finalise$1(new t(PI$1),e,i,!0)}function getPrecision$1(t){var e=t.length-1,i=e*LOG_BASE$1+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function getZeroString$1(t){for(var e="";t--;)e+="0";return e}function intPow$1(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/LOG_BASE$1+4);for(external$1=!1;;){if(i%2&&(a=a.times(e),truncate$1(a.d,l)&&(s=!0)),i=mathfloor$1(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),truncate$1(e.d,l)}return external$1=!0,a}function isOdd$1(t){return t.d[t.d.length-1]&1}function maxOrMin$1(t,e,i){for(var n,s,a=new t(e[0]),l=0;++l<e.length;){if(s=new t(e[l]),!s.s){a=s;break}n=a.cmp(s),(n===i||n===0&&a.s===i)&&(a=s)}return a}function naturalExponential$1(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(external$1=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(mathpow$1(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=finalise$1(a.times(t),T,1),i=i.times(++et),A=l.plus(divide$2(a,i,T,1)),digitsToString$1(A.d).slice(0,T)===digitsToString$1(l.d).slice(0,T)){for(s=xi;s--;)l=finalise$1(l.times(l),T,1);if(e==null)if(q<3&&checkRoundingDigits$1(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return finalise$1(l,Oi.precision=Fs,Ts,external$1=!0);else return Oi.precision=Fs,l}l=A}}function naturalLogarithm$1(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(external$1=!1,et=zs):et=e,Ls.precision=et+=Fs,i=digitsToString$1(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=digitsToString$1(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=getLn10$1(Ls,et+2,zs).times(a+""),qs=naturalLogarithm$1(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?finalise$1(qs,zs,Gs,external$1=!0):qs;for(xi=qs,T=l=qs=divide$2(qs.minus(1),qs.plus(1),et,1),Oi=finalise$1(qs.times(qs),et,1),s=3;;){if(l=finalise$1(l.times(Oi),et,1),q=T.plus(divide$2(l,new Ls(s),et,1)),digitsToString$1(q.d).slice(0,et)===digitsToString$1(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(getLn10$1(Ls,et+2,zs).times(a+""))),T=divide$2(T,new Ls(Ts),et,1),e==null)if(checkRoundingDigits$1(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=divide$2(xi.minus(1),xi.plus(1),et,1),Oi=finalise$1(qs.times(qs),et,1),s=A=1;else return finalise$1(T,Ls.precision=zs,Gs,external$1=!0);else return Ls.precision=zs,T;T=q,s+=2}}function nonFiniteToString$1(t){return String(t.s*t.s/0)}function parseDecimal$1(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%LOG_BASE$1,i<0&&(n+=LOG_BASE$1),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=LOG_BASE$1;n<s;)t.d.push(+e.slice(n,n+=LOG_BASE$1));e=e.slice(n),n=LOG_BASE$1-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),external$1&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function parseOther$1(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),isDecimal$1.test(e))return parseDecimal$1(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(isHex$2.test(e))i=16,e=e.toLowerCase();else if(isBinary$1.test(e))i=2;else if(isOctal$1.test(e))i=8;else throw Error(invalidArgument$1+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=intPow$1(n,new n(i),a,a*2)),q=convertBase$1(e,i,BASE$1),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=getBase10Exponent$1(q,et),t.d=q,external$1=!1,l&&(t=divide$2(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?mathpow$1(2,T):Decimal$1.pow(2,T))),external$1=!0,t)}function sine$1(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:taylorSeries$1(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/tinyPow$1(5,i)),e=taylorSeries$1(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function taylorSeries$1(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/LOG_BASE$1);for(external$1=!1,T=i.times(i),A=new t(n);;){if(l=divide$2(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=divide$2(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return external$1=!0,l.d.length=et+1,l}function tinyPow$1(t,e){for(var i=t;--e;)i*=t;return i}function toLessThanHalfPi$1(t,e){var i,n=e.s<0,s=getPi$1(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return quadrant$1=n?4:1,e;if(i=e.divToInt(s),i.isZero())quadrant$1=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return quadrant$1=isOdd$1(i)?n?2:3:n?4:1,e;quadrant$1=isOdd$1(i)?n?1:4:n?3:2}return e.minus(s).abs()}function toStringBinary$1(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(checkInt32$1(i,1,MAX_DIGITS$1),n===void 0?n=Ts.rounding:checkInt32$1(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=nonFiniteToString$1(t);else{for(et=finiteToString$1(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=convertBase$1(finiteToString$1(Oi),10,s),Oi.e=Oi.d.length),xi=convertBase$1(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=divide$2(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=inexact$1),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=NUMERALS$1.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=convertBase$1(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=NUMERALS$1.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function truncate$1(t,e){if(t.length>e)return t.length=e,!0}function abs$2(t){return new this(t).abs()}function acos$1(t){return new this(t).acos()}function acosh$1(t){return new this(t).acosh()}function add$2(t,e){return new this(t).plus(e)}function asin$1(t){return new this(t).asin()}function asinh$1(t){return new this(t).asinh()}function atan$1(t){return new this(t).atan()}function atanh$1(t){return new this(t).atanh()}function atan2$1(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=getPi$1(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?getPi$1(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=getPi$1(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan(divide$2(t,e,a,1)),e=getPi$1(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(divide$2(t,e,a,1)),i}function cbrt$1(t){return new this(t).cbrt()}function ceil$1(t){return finalise$1(t=new this(t),t.e+1,2)}function clamp$3(t,e,i){return new this(t).clamp(e,i)}function config$2(t){if(!t||typeof t!="object")throw Error(decimalError$1+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,MAX_DIGITS$1,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT$1,"maxE",0,EXP_LIMIT$1,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=DEFAULTS$1[i]),(n=t[i])!==void 0)if(mathfloor$1(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error(invalidArgument$1+i+": "+n);if(i="crypto",s&&(this[i]=DEFAULTS$1[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(cryptoUnavailable$1);else this[i]=!1;else throw Error(invalidArgument$1+i+": "+n);return this}function cos$1(t){return new this(t).cos()}function cosh$1(t){return new this(t).cosh()}function clone$1(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,isDecimalInstance$1(a)){q.s=a.s,external$1?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;external$1?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return parseDecimal$1(q,a.toString())}if(T==="string")return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),isDecimal$1.test(a)?parseDecimal$1(q,a):parseOther$1(q,a);if(T==="bigint")return a<0?(a=-a,q.s=-1):q.s=1,parseDecimal$1(q,a.toString());throw Error(invalidArgument$1+a)}if(s.prototype=P$4,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=config$2,s.clone=clone$1,s.isDecimal=isDecimalInstance$1,s.abs=abs$2,s.acos=acos$1,s.acosh=acosh$1,s.add=add$2,s.asin=asin$1,s.asinh=asinh$1,s.atan=atan$1,s.atanh=atanh$1,s.atan2=atan2$1,s.cbrt=cbrt$1,s.ceil=ceil$1,s.clamp=clamp$3,s.cos=cos$1,s.cosh=cosh$1,s.div=div$1,s.exp=exp$1,s.floor=floor$2,s.hypot=hypot$1,s.ln=ln$2,s.log=log$1,s.log10=log10$1,s.log2=log2$1,s.max=max$2,s.min=min$2,s.mod=mod$1,s.mul=mul$1,s.pow=pow$2,s.random=random$1,s.round=round$2,s.sign=sign$3,s.sin=sin$1,s.sinh=sinh$1,s.sqrt=sqrt$1,s.sub=sub$1,s.sum=sum$1,s.tan=tan$1,s.tanh=tanh$1,s.trunc=trunc$1,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function div$1(t,e){return new this(t).div(e)}function exp$1(t){return new this(t).exp()}function floor$2(t){return finalise$1(t=new this(t),t.e+1,3)}function hypot$1(){var t,e,i=new this(0);for(external$1=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return external$1=!0,new this(1/0);i=e}return external$1=!0,i.sqrt()}function isDecimalInstance$1(t){return t instanceof Decimal$1||t&&t.toStringTag===tag$1||!1}function ln$2(t){return new this(t).ln()}function log$1(t,e){return new this(t).log(e)}function log2$1(t){return new this(t).log(2)}function log10$1(t){return new this(t).log(10)}function max$2(){return maxOrMin$1(this,arguments,-1)}function min$2(){return maxOrMin$1(this,arguments,1)}function mod$1(t,e){return new this(t).mod(e)}function mul$1(t,e){return new this(t).mul(e)}function pow$2(t,e){return new this(t).pow(e)}function random$1(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:checkInt32$1(t,1,MAX_DIGITS$1),n=Math.ceil(t/LOG_BASE$1),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(cryptoUnavailable$1);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=LOG_BASE$1,n&&t&&(s=mathpow$1(10,LOG_BASE$1-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=LOG_BASE$1)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<LOG_BASE$1&&(i-=LOG_BASE$1-n)}return l.e=i,l.d=A,l}function round$2(t){return finalise$1(t=new this(t),t.e+1,this.rounding)}function sign$3(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function sin$1(t){return new this(t).sin()}function sinh$1(t){return new this(t).sinh()}function sqrt$1(t){return new this(t).sqrt()}function sub$1(t,e){return new this(t).sub(e)}function sum$1(){var t=0,e=arguments,i=new this(e[t]);for(external$1=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return external$1=!0,finalise$1(i,this.precision,this.rounding)}function tan$1(t){return new this(t).tan()}function tanh$1(t){return new this(t).tanh()}function trunc$1(t){return finalise$1(t=new this(t),t.e+1,1)}P$4[Symbol.for("nodejs.util.inspect.custom")]=P$4.toString;P$4[Symbol.toStringTag]="Decimal";var Decimal$1=P$4.constructor=clone$1(DEFAULTS$1);LN10$1=new Decimal$1(LN10$1);PI$1=new Decimal$1(PI$1);Decimal$1.config({precision:256,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-256,toExpPos:256});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var enUS,hasRequiredEnUS;function requireEnUS(){return hasRequiredEnUS||(hasRequiredEnUS=1,enUS={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(t){let e=t%10;return~~(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),enUS}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var unformatting,hasRequiredUnformatting;function requireUnformatting(){if(hasRequiredUnformatting)return unformatting;hasRequiredUnformatting=1;const t=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function e(T){return T.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function i(T,q,et,xi,Oi,Ts,Fs){if(!isNaN(+T))return+T;let qs="",Us=T.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(Us!==T)return-1*i(Us,q,et,xi,Oi,Ts);for(let Js=0;Js<t.length;Js++){let xo=t[Js];if(qs=T.replace(RegExp(`([0-9 ])(${xo.key})$`),"$1"),qs!==T)return i(qs,q,et,xi,Oi,Ts)*xo.factor}if(qs=T.replace("%",""),qs!==T)return i(qs,q,et,xi,Oi,Ts)/100;let Ls=parseFloat(T);if(isNaN(Ls))return;let Gs=xi(Ls);if(Gs&&Gs!=="."&&(qs=T.replace(new RegExp(`${e(Gs)}$`),""),qs!==T))return i(qs,q,et,xi,Oi,Ts);let zs={};Object.keys(Ts).forEach(Js=>{zs[Ts[Js]]=Js});let Vs=Object.keys(zs).sort().reverse(),Zs=Vs.length;for(let Js=0;Js<Zs;Js++){let xo=Vs[Js],Io=zs[xo];if(qs=T.replace(xo,""),qs!==T){let Uo;switch(Io){case"thousand":Uo=Math.pow(10,3);break;case"million":Uo=Math.pow(10,6);break;case"billion":Uo=Math.pow(10,9);break;case"trillion":Uo=Math.pow(10,12);break}return i(qs,q,et,xi,Oi,Ts)*Uo}}}function n(T,q,et){let xi=T.replace(et,"");return xi=xi.replace(new RegExp(`([0-9])${e(q.thousands)}([0-9])`,"g"),"$1$2"),xi=xi.replace(q.decimal,"."),xi}function s(T,q,et="",xi,Oi,Ts,Fs){if(T==="")return;if(T===Oi)return 0;let qs=n(T,q,et);return i(qs,q,et,xi,Oi,Ts)}function a(T,q){if(!(T.indexOf(":")&&q.thousands!==":"))return!1;let xi=T.split(":");if(xi.length!==3)return!1;let Oi=+xi[0],Ts=+xi[1],Fs=+xi[2];return!isNaN(Oi)&&!isNaN(Ts)&&!isNaN(Fs)}function l(T){let q=T.split(":"),et=+q[0],xi=+q[1];return+q[2]+60*xi+3600*et}function A(T,q){const et=requireGlobalState();let xi=et.currentDelimiters(),Oi=et.currentCurrency().symbol,Ts=et.currentOrdinal(),Fs=et.getZeroFormat(),qs=et.currentAbbreviations(),Us;if(typeof T=="string")a(T,xi)?Us=l(T):Us=s(T,xi,Oi,Ts,Fs,qs);else if(typeof T=="number")Us=T;else return;if(Us!==void 0)return Us}return unformatting={unformat:A},unformatting}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var validating$1,hasRequiredValidating;function requireValidating(){if(hasRequiredValidating)return validating$1;hasRequiredValidating=1;let t=requireUnformatting();const e=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,i=["currency","percent","byte","time","ordinal","number"],n=["trillion","billion","million","thousand"],s=["prefix","infix","postfix"],a=["sign","parenthesis"],l={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},q={output:{type:"string",validValues:i},base:{type:"string",validValues:["decimal","binary","general"],restriction:(Us,Ls)=>Ls.output==="byte",message:"`base` must be provided only when the output is `byte`",mandatory:Us=>Us.output==="byte"},characteristic:{type:"number",restriction:Us=>Us>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:n},average:"boolean",lowPrecision:{type:"boolean",restriction:(Us,Ls)=>Ls.average===!0,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:s},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:Us=>Us>=0,message:"value must be positive"},{restriction:(Us,Ls)=>!Ls.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:Us=>Us>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:a},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(Us,Ls)=>Ls.output==="percent",message:"`prefixSymbol` can be provided only when the output is `percent`"}},et={languageTag:{type:"string",mandatory:!0,restriction:Us=>Us.match(e),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:l,spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function xi(Us,Ls){let Gs=Oi(Us),zs=Fs(Ls);return Gs&&zs}function Oi(Us){return t.unformat(Us)!==void 0}function Ts(Us,Ls,Gs,zs=!1){let Vs=Object.keys(Us).map(Zs=>{if(!Ls[Zs])return console.error(`${Gs} Invalid key: ${Zs}`),!1;let Js=Us[Zs],xo=Ls[Zs];if(typeof xo=="string"&&(xo={type:xo}),xo.type==="format"){if(!Ts(Js,q,`[Validate ${Zs}]`,!0))return!1}else if(typeof Js!==xo.type)return console.error(`${Gs} ${Zs} type mismatched: "${xo.type}" expected, "${typeof Js}" provided`),!1;if(xo.restrictions&&xo.restrictions.length){let Io=xo.restrictions.length;for(let Uo=0;Uo<Io;Uo++){let{restriction:Fo,message:Ys}=xo.restrictions[Uo];if(!Fo(Js,Us))return console.error(`${Gs} ${Zs} invalid value: ${Ys}`),!1}}return xo.restriction&&!xo.restriction(Js,Us)?(console.error(`${Gs} ${Zs} invalid value: ${xo.message}`),!1):xo.validValues&&xo.validValues.indexOf(Js)===-1?(console.error(`${Gs} ${Zs} invalid value: must be among ${JSON.stringify(xo.validValues)}, "${Js}" provided`),!1):!(xo.children&&!Ts(Js,xo.children,`[Validate ${Zs}]`))});return zs||Vs.push(...Object.keys(Ls).map(Zs=>{let Js=Ls[Zs];if(typeof Js=="string"&&(Js={type:Js}),Js.mandatory){let xo=Js.mandatory;if(typeof xo=="function"&&(xo=xo(Us)),xo&&Us[Zs]===void 0)return console.error(`${Gs} Missing mandatory key "${Zs}"`),!1}return!0})),Vs.reduce((Zs,Js)=>Zs&&Js,!0)}function Fs(Us){return Ts(Us,q,"[Validate format]")}function qs(Us){return Ts(Us,et,"[Validate language]")}return validating$1={validate:xi,validateFormat:Fs,validateInput:Oi,validateLanguage:qs},validating$1}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function parsePrefix(t,e){let i=t.match(/^{([^}]*)}/);return i?(e.prefix=i[1],t.slice(i[0].length)):t}function parsePostfix(t,e){let i=t.match(/{([^}]*)}$/);return i?(e.postfix=i[1],t.slice(0,-i[0].length)):t}function parseOutput(t,e){if(t.indexOf("$")!==-1){e.output="currency";return}if(t.indexOf("%")!==-1){e.output="percent";return}if(t.indexOf("bd")!==-1){e.output="byte",e.base="general";return}if(t.indexOf("b")!==-1){e.output="byte",e.base="binary";return}if(t.indexOf("d")!==-1){e.output="byte",e.base="decimal";return}if(t.indexOf(":")!==-1){e.output="time";return}t.indexOf("o")!==-1&&(e.output="ordinal")}function parseThousandSeparated(t,e){t.indexOf(",")!==-1&&(e.thousandSeparated=!0)}function parseSpaceSeparated(t,e){t.indexOf(" ")!==-1&&(e.spaceSeparated=!0,e.spaceSeparatedCurrency=!0,(e.average||e.forceAverage)&&(e.spaceSeparatedAbbreviation=!0))}function parseTotalLength(t,e){let i=t.match(/[1-9]+[0-9]*/);i&&(e.totalLength=+i[0])}function parseCharacteristic(t,e){let n=t.split(".")[0].match(/0+/);n&&(e.characteristic=n[0].length)}function parseMantissa(t,e){let i=t.split(".")[1];if(i){let n=i.match(/0+/);n&&(e.mantissa=n[0].length)}}function parseTrimMantissa(t,e){const i=t.split(".")[1];i&&(e.trimMantissa=i.indexOf("[")!==-1)}function parseAverage(t,e){t.indexOf("a")!==-1&&(e.average=!0)}function parseForceAverage(t,e){t.indexOf("K")!==-1?e.forceAverage="thousand":t.indexOf("M")!==-1?e.forceAverage="million":t.indexOf("B")!==-1?e.forceAverage="billion":t.indexOf("T")!==-1&&(e.forceAverage="trillion")}function parseOptionalMantissa(t,e){t.match(/\[\.]/)?e.optionalMantissa=!0:t.match(/\./)&&(e.optionalMantissa=!1)}function parseOptionalCharacteristic(t,e){if(t.indexOf(".")!==-1){let i=t.split(".")[0];e.optionalCharacteristic=i.indexOf("0")===-1}}function parseNegative(t,e){t.match(/^\+?\([^)]*\)$/)&&(e.negative="parenthesis"),t.match(/^\+?-/)&&(e.negative="sign")}function parseForceSign(t,e){t.match(/^\+/)&&(e.forceSign=!0)}function parseFormat(t,e={}){return typeof t!="string"?t:(t=parsePrefix(t,e),t=parsePostfix(t,e),parseOutput(t,e),parseTotalLength(t,e),parseCharacteristic(t,e),parseOptionalCharacteristic(t,e),parseAverage(t,e),parseForceAverage(t,e),parseMantissa(t,e),parseOptionalMantissa(t,e),parseTrimMantissa(t,e),parseThousandSeparated(t,e),parseSpaceSeparated(t,e),parseNegative(t,e),parseForceSign(t,e),e)}var parsing$2={parseFormat};/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var globalState$2,hasRequiredGlobalState;function requireGlobalState(){if(hasRequiredGlobalState)return globalState$2;hasRequiredGlobalState=1;const t=requireEnUS(),e=requireValidating(),i=parsing$2;let n={},s,a={},l=null,A={};function T(et){s=et}function q(){return a[s]}return n.languages=()=>Object.assign({},a),n.currentLanguage=()=>s,n.currentBytes=()=>q().bytes||{},n.currentCurrency=()=>q().currency,n.currentAbbreviations=()=>q().abbreviations,n.currentDelimiters=()=>q().delimiters,n.currentOrdinal=()=>q().ordinal,n.currentDefaults=()=>Object.assign({},q().defaults,A),n.currentOrdinalDefaultFormat=()=>Object.assign({},n.currentDefaults(),q().ordinalFormat),n.currentByteDefaultFormat=()=>Object.assign({},n.currentDefaults(),q().byteFormat),n.currentPercentageDefaultFormat=()=>Object.assign({},n.currentDefaults(),q().percentageFormat),n.currentCurrencyDefaultFormat=()=>Object.assign({},n.currentDefaults(),q().currencyFormat),n.currentTimeDefaultFormat=()=>Object.assign({},n.currentDefaults(),q().timeFormat),n.setDefaults=et=>{et=i.parseFormat(et),e.validateFormat(et)&&(A=et)},n.getZeroFormat=()=>l,n.setZeroFormat=et=>l=typeof et=="string"?et:null,n.hasZeroFormat=()=>l!==null,n.languageData=et=>{if(et){if(a[et])return a[et];throw new Error(`Unknown tag "${et}"`)}return q()},n.registerLanguage=(et,xi=!1)=>{if(!e.validateLanguage(et))throw new Error("Invalid language data");a[et.languageTag]=et,xi&&T(et.languageTag)},n.setLanguage=(et,xi=t.languageTag)=>{if(!a[et]){let Oi=et.split("-")[0],Ts=Object.keys(a).find(Fs=>Fs.split("-")[0]===Oi);if(!a[Ts]){T(xi);return}T(Ts);return}T(et)},n.registerLanguage(t),s=t.languageTag,globalState$2=n,globalState$2}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function loadLanguagesInNode(t,e){t.forEach(i=>{let n;try{n=commonjsRequire(`../languages/${i}`)}catch{console.error(`Unable to load "${i}". No matching language file found.`)}n&&e.registerLanguage(n)})}var loading=t=>({loadLanguagesInNode:e=>loadLanguagesInNode(e,t)}),bignumber={exports:{}};(function(t){(function(e){var i,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,l="[BigNumber Error] ",A=l+"Number primitive has more than 15 significant digits: ",T=1e14,q=14,et=9007199254740991,xi=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Oi=1e7,Ts=1e9;function Fs(Js){var xo,Io,Uo,Fo=Ks.prototype={constructor:Ks,toString:null,valueOf:null},Ys=new Ks(1),Hs=20,Ws=4,f=-7,Y=21,nt=-1e7,vs=1e7,ks=!1,Ds=1,Bs=0,Ms={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Q="0123456789abcdefghijklmnopqrstuvwxyz",$s=!0;function Ks(zo,so){var Qs,sa,Zo,Qo,la,Ko,Jo,aa,oa=this;if(!(oa instanceof Ks))return new Ks(zo,so);if(so==null){if(zo&&zo._isBigNumber===!0){oa.s=zo.s,!zo.c||zo.e>vs?oa.c=oa.e=null:zo.e<nt?oa.c=[oa.e=0]:(oa.e=zo.e,oa.c=zo.c.slice());return}if((Ko=typeof zo=="number")&&zo*0==0){if(oa.s=1/zo<0?(zo=-zo,-1):1,zo===~~zo){for(Qo=0,la=zo;la>=10;la/=10,Qo++);Qo>vs?oa.c=oa.e=null:(oa.e=Qo,oa.c=[zo]);return}aa=String(zo)}else{if(!n.test(aa=String(zo)))return Uo(oa,aa,Ko);oa.s=aa.charCodeAt(0)==45?(aa=aa.slice(1),-1):1}(Qo=aa.indexOf("."))>-1&&(aa=aa.replace(".","")),(la=aa.search(/e/i))>0?(Qo<0&&(Qo=la),Qo+=+aa.slice(la+1),aa=aa.substring(0,la)):Qo<0&&(Qo=aa.length)}else{if(Gs(so,2,Q.length,"Base"),so==10&&$s)return oa=new Ks(zo),Oo(oa,Hs+oa.e+1,Ws);if(aa=String(zo),Ko=typeof zo=="number"){if(zo*0!=0)return Uo(oa,aa,Ko,so);if(oa.s=1/zo<0?(aa=aa.slice(1),-1):1,Ks.DEBUG&&aa.replace(/^0\.0*|\./,"").length>15)throw Error(A+zo)}else oa.s=aa.charCodeAt(0)===45?(aa=aa.slice(1),-1):1;for(Qs=Q.slice(0,so),Qo=la=0,Jo=aa.length;la<Jo;la++)if(Qs.indexOf(sa=aa.charAt(la))<0){if(sa=="."){if(la>Qo){Qo=Jo;continue}}else if(!Zo&&(aa==aa.toUpperCase()&&(aa=aa.toLowerCase())||aa==aa.toLowerCase()&&(aa=aa.toUpperCase()))){Zo=!0,la=-1,Qo=0;continue}return Uo(oa,String(zo),Ko,so)}Ko=!1,aa=Io(aa,so,10,oa.s),(Qo=aa.indexOf("."))>-1?aa=aa.replace(".",""):Qo=aa.length}for(la=0;aa.charCodeAt(la)===48;la++);for(Jo=aa.length;aa.charCodeAt(--Jo)===48;);if(aa=aa.slice(la,++Jo)){if(Jo-=la,Ko&&Ks.DEBUG&&Jo>15&&(zo>et||zo!==a(zo)))throw Error(A+oa.s*zo);if((Qo=Qo-la-1)>vs)oa.c=oa.e=null;else if(Qo<nt)oa.c=[oa.e=0];else{if(oa.e=Qo,oa.c=[],la=(Qo+1)%q,Qo<0&&(la+=q),la<Jo){for(la&&oa.c.push(+aa.slice(0,la)),Jo-=q;la<Jo;)oa.c.push(+aa.slice(la,la+=q));la=q-(aa=aa.slice(la)).length}else la-=Jo;for(;la--;aa+="0");oa.c.push(+aa)}}else oa.c=[oa.e=0]}Ks.clone=Fs,Ks.ROUND_UP=0,Ks.ROUND_DOWN=1,Ks.ROUND_CEIL=2,Ks.ROUND_FLOOR=3,Ks.ROUND_HALF_UP=4,Ks.ROUND_HALF_DOWN=5,Ks.ROUND_HALF_EVEN=6,Ks.ROUND_HALF_CEIL=7,Ks.ROUND_HALF_FLOOR=8,Ks.EUCLID=9,Ks.config=Ks.set=function(zo){var so,Qs;if(zo!=null)if(typeof zo=="object"){if(zo.hasOwnProperty(so="DECIMAL_PLACES")&&(Qs=zo[so],Gs(Qs,0,Ts,so),Hs=Qs),zo.hasOwnProperty(so="ROUNDING_MODE")&&(Qs=zo[so],Gs(Qs,0,8,so),Ws=Qs),zo.hasOwnProperty(so="EXPONENTIAL_AT")&&(Qs=zo[so],Qs&&Qs.pop?(Gs(Qs[0],-1e9,0,so),Gs(Qs[1],0,Ts,so),f=Qs[0],Y=Qs[1]):(Gs(Qs,-1e9,Ts,so),f=-(Y=Qs<0?-Qs:Qs))),zo.hasOwnProperty(so="RANGE"))if(Qs=zo[so],Qs&&Qs.pop)Gs(Qs[0],-1e9,-1,so),Gs(Qs[1],1,Ts,so),nt=Qs[0],vs=Qs[1];else if(Gs(Qs,-1e9,Ts,so),Qs)nt=-(vs=Qs<0?-Qs:Qs);else throw Error(l+so+" cannot be zero: "+Qs);if(zo.hasOwnProperty(so="CRYPTO"))if(Qs=zo[so],Qs===!!Qs)if(Qs)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ks=Qs;else throw ks=!Qs,Error(l+"crypto unavailable");else ks=Qs;else throw Error(l+so+" not true or false: "+Qs);if(zo.hasOwnProperty(so="MODULO_MODE")&&(Qs=zo[so],Gs(Qs,0,9,so),Ds=Qs),zo.hasOwnProperty(so="POW_PRECISION")&&(Qs=zo[so],Gs(Qs,0,Ts,so),Bs=Qs),zo.hasOwnProperty(so="FORMAT"))if(Qs=zo[so],typeof Qs=="object")Ms=Qs;else throw Error(l+so+" not an object: "+Qs);if(zo.hasOwnProperty(so="ALPHABET"))if(Qs=zo[so],typeof Qs=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Qs))$s=Qs.slice(0,10)=="0123456789",Q=Qs;else throw Error(l+so+" invalid: "+Qs)}else throw Error(l+"Object expected: "+zo);return{DECIMAL_PLACES:Hs,ROUNDING_MODE:Ws,EXPONENTIAL_AT:[f,Y],RANGE:[nt,vs],CRYPTO:ks,MODULO_MODE:Ds,POW_PRECISION:Bs,FORMAT:Ms,ALPHABET:Q}},Ks.isBigNumber=function(zo){if(!zo||zo._isBigNumber!==!0)return!1;if(!Ks.DEBUG)return!0;var so,Qs,sa=zo.c,Zo=zo.e,Qo=zo.s;e:if({}.toString.call(sa)=="[object Array]"){if((Qo===1||Qo===-1)&&Zo>=-1e9&&Zo<=Ts&&Zo===a(Zo)){if(sa[0]===0){if(Zo===0&&sa.length===1)return!0;break e}if(so=(Zo+1)%q,so<1&&(so+=q),String(sa[0]).length==so){for(so=0;so<sa.length;so++)if(Qs=sa[so],Qs<0||Qs>=T||Qs!==a(Qs))break e;if(Qs!==0)return!0}}}else if(sa===null&&Zo===null&&(Qo===null||Qo===1||Qo===-1))return!0;throw Error(l+"Invalid BigNumber: "+zo)},Ks.maximum=Ks.max=function(){return Bo(arguments,-1)},Ks.minimum=Ks.min=function(){return Bo(arguments,1)},Ks.random=function(){var zo=9007199254740992,so=Math.random()*zo&2097151?function(){return a(Math.random()*zo)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Qs){var sa,Zo,Qo,la,Ko,Jo=0,aa=[],oa=new Ks(Ys);if(Qs==null?Qs=Hs:Gs(Qs,0,Ts),la=s(Qs/q),ks)if(crypto.getRandomValues){for(sa=crypto.getRandomValues(new Uint32Array(la*=2));Jo<la;)Ko=sa[Jo]*131072+(sa[Jo+1]>>>11),Ko>=9e15?(Zo=crypto.getRandomValues(new Uint32Array(2)),sa[Jo]=Zo[0],sa[Jo+1]=Zo[1]):(aa.push(Ko%1e14),Jo+=2);Jo=la/2}else if(crypto.randomBytes){for(sa=crypto.randomBytes(la*=7);Jo<la;)Ko=(sa[Jo]&31)*281474976710656+sa[Jo+1]*1099511627776+sa[Jo+2]*4294967296+sa[Jo+3]*16777216+(sa[Jo+4]<<16)+(sa[Jo+5]<<8)+sa[Jo+6],Ko>=9e15?crypto.randomBytes(7).copy(sa,Jo):(aa.push(Ko%1e14),Jo+=7);Jo=la/7}else throw ks=!1,Error(l+"crypto unavailable");if(!ks)for(;Jo<la;)Ko=so(),Ko<9e15&&(aa[Jo++]=Ko%1e14);for(la=aa[--Jo],Qs%=q,la&&Qs&&(Ko=xi[q-Qs],aa[Jo]=a(la/Ko)*Ko);aa[Jo]===0;aa.pop(),Jo--);if(Jo<0)aa=[Qo=0];else{for(Qo=-1;aa[0]===0;aa.splice(0,1),Qo-=q);for(Jo=1,Ko=aa[0];Ko>=10;Ko/=10,Jo++);Jo<q&&(Qo-=q-Jo)}return oa.e=Qo,oa.c=aa,oa}}(),Ks.sum=function(){for(var zo=1,so=arguments,Qs=new Ks(so[0]);zo<so.length;)Qs=Qs.plus(so[zo++]);return Qs},Io=function(){var zo="0123456789";function so(Qs,sa,Zo,Qo){for(var la,Ko=[0],Jo,aa=0,oa=Qs.length;aa<oa;){for(Jo=Ko.length;Jo--;Ko[Jo]*=sa);for(Ko[0]+=Qo.indexOf(Qs.charAt(aa++)),la=0;la<Ko.length;la++)Ko[la]>Zo-1&&(Ko[la+1]==null&&(Ko[la+1]=0),Ko[la+1]+=Ko[la]/Zo|0,Ko[la]%=Zo)}return Ko.reverse()}return function(Qs,sa,Zo,Qo,la){var Ko,Jo,aa,oa,ua,Ma,da,fa,La=Qs.indexOf("."),ga=Hs,ha=Ws;for(La>=0&&(oa=Bs,Bs=0,Qs=Qs.replace(".",""),fa=new Ks(sa),Ma=fa.pow(Qs.length-La),Bs=oa,fa.c=so(Zs(Us(Ma.c),Ma.e,"0"),10,Zo,zo),fa.e=fa.c.length),da=so(Qs,sa,Zo,la?(Ko=Q,zo):(Ko=zo,Q)),aa=oa=da.length;da[--oa]==0;da.pop());if(!da[0])return Ko.charAt(0);if(La<0?--aa:(Ma.c=da,Ma.e=aa,Ma.s=Qo,Ma=xo(Ma,fa,ga,ha,Zo),da=Ma.c,ua=Ma.r,aa=Ma.e),Jo=aa+ga+1,La=da[Jo],oa=Zo/2,ua=ua||Jo<0||da[Jo+1]!=null,ua=ha<4?(La!=null||ua)&&(ha==0||ha==(Ma.s<0?3:2)):La>oa||La==oa&&(ha==4||ua||ha==6&&da[Jo-1]&1||ha==(Ma.s<0?8:7)),Jo<1||!da[0])Qs=ua?Zs(Ko.charAt(1),-ga,Ko.charAt(0)):Ko.charAt(0);else{if(da.length=Jo,ua)for(--Zo;++da[--Jo]>Zo;)da[Jo]=0,Jo||(++aa,da=[1].concat(da));for(oa=da.length;!da[--oa];);for(La=0,Qs="";La<=oa;Qs+=Ko.charAt(da[La++]));Qs=Zs(Qs,aa,Ko.charAt(0))}return Qs}}(),xo=function(){function zo(sa,Zo,Qo){var la,Ko,Jo,aa,oa=0,ua=sa.length,Ma=Zo%Oi,da=Zo/Oi|0;for(sa=sa.slice();ua--;)Jo=sa[ua]%Oi,aa=sa[ua]/Oi|0,la=da*Jo+aa*Ma,Ko=Ma*Jo+la%Oi*Oi+oa,oa=(Ko/Qo|0)+(la/Oi|0)+da*aa,sa[ua]=Ko%Qo;return oa&&(sa=[oa].concat(sa)),sa}function so(sa,Zo,Qo,la){var Ko,Jo;if(Qo!=la)Jo=Qo>la?1:-1;else for(Ko=Jo=0;Ko<Qo;Ko++)if(sa[Ko]!=Zo[Ko]){Jo=sa[Ko]>Zo[Ko]?1:-1;break}return Jo}function Qs(sa,Zo,Qo,la){for(var Ko=0;Qo--;)sa[Qo]-=Ko,Ko=sa[Qo]<Zo[Qo]?1:0,sa[Qo]=Ko*la+sa[Qo]-Zo[Qo];for(;!sa[0]&&sa.length>1;sa.splice(0,1));}return function(sa,Zo,Qo,la,Ko){var Jo,aa,oa,ua,Ma,da,fa,La,ga,ha,Ga,Aa,_a,Za,Ta,ma,Xa,ka=sa.s==Zo.s?1:-1,pa=sa.c,za=Zo.c;if(!pa||!pa[0]||!za||!za[0])return new Ks(!sa.s||!Zo.s||(pa?za&&pa[0]==za[0]:!za)?NaN:pa&&pa[0]==0||!za?ka*0:ka/0);for(La=new Ks(ka),ga=La.c=[],aa=sa.e-Zo.e,ka=Qo+aa+1,Ko||(Ko=T,aa=qs(sa.e/q)-qs(Zo.e/q),ka=ka/q|0),oa=0;za[oa]==(pa[oa]||0);oa++);if(za[oa]>(pa[oa]||0)&&aa--,ka<0)ga.push(1),ua=!0;else{for(Za=pa.length,ma=za.length,oa=0,ka+=2,Ma=a(Ko/(za[0]+1)),Ma>1&&(za=zo(za,Ma,Ko),pa=zo(pa,Ma,Ko),ma=za.length,Za=pa.length),_a=ma,ha=pa.slice(0,ma),Ga=ha.length;Ga<ma;ha[Ga++]=0);Xa=za.slice(),Xa=[0].concat(Xa),Ta=za[0],za[1]>=Ko/2&&Ta++;do{if(Ma=0,Jo=so(za,ha,ma,Ga),Jo<0){if(Aa=ha[0],ma!=Ga&&(Aa=Aa*Ko+(ha[1]||0)),Ma=a(Aa/Ta),Ma>1)for(Ma>=Ko&&(Ma=Ko-1),da=zo(za,Ma,Ko),fa=da.length,Ga=ha.length;so(da,ha,fa,Ga)==1;)Ma--,Qs(da,ma<fa?Xa:za,fa,Ko),fa=da.length,Jo=1;else Ma==0&&(Jo=Ma=1),da=za.slice(),fa=da.length;if(fa<Ga&&(da=[0].concat(da)),Qs(ha,da,Ga,Ko),Ga=ha.length,Jo==-1)for(;so(za,ha,ma,Ga)<1;)Ma++,Qs(ha,ma<Ga?Xa:za,Ga,Ko),Ga=ha.length}else Jo===0&&(Ma++,ha=[0]);ga[oa++]=Ma,ha[0]?ha[Ga++]=pa[_a]||0:(ha=[pa[_a]],Ga=1)}while((_a++<Za||ha[0]!=null)&&ka--);ua=ha[0]!=null,ga[0]||ga.splice(0,1)}if(Ko==T){for(oa=1,ka=ga[0];ka>=10;ka/=10,oa++);Oo(La,Qo+(La.e=oa+aa*q-1)+1,la,ua)}else La.e=aa,La.r=+ua;return La}}();function jo(zo,so,Qs,sa){var Zo,Qo,la,Ko,Jo;if(Qs==null?Qs=Ws:Gs(Qs,0,8),!zo.c)return zo.toString();if(Zo=zo.c[0],la=zo.e,so==null)Jo=Us(zo.c),Jo=sa==1||sa==2&&(la<=f||la>=Y)?Vs(Jo,la):Zs(Jo,la,"0");else if(zo=Oo(new Ks(zo),so,Qs),Qo=zo.e,Jo=Us(zo.c),Ko=Jo.length,sa==1||sa==2&&(so<=Qo||Qo<=f)){for(;Ko<so;Jo+="0",Ko++);Jo=Vs(Jo,Qo)}else if(so-=la,Jo=Zs(Jo,Qo,"0"),Qo+1>Ko){if(--so>0)for(Jo+=".";so--;Jo+="0");}else if(so+=Qo-Ko,so>0)for(Qo+1==Ko&&(Jo+=".");so--;Jo+="0");return zo.s<0&&Zo?"-"+Jo:Jo}function Bo(zo,so){for(var Qs,sa,Zo=1,Qo=new Ks(zo[0]);Zo<zo.length;Zo++)sa=new Ks(zo[Zo]),(!sa.s||(Qs=Ls(Qo,sa))===so||Qs===0&&Qo.s===so)&&(Qo=sa);return Qo}function To(zo,so,Qs){for(var sa=1,Zo=so.length;!so[--Zo];so.pop());for(Zo=so[0];Zo>=10;Zo/=10,sa++);return(Qs=sa+Qs*q-1)>vs?zo.c=zo.e=null:Qs<nt?zo.c=[zo.e=0]:(zo.e=Qs,zo.c=so),zo}Uo=function(){var zo=/^(-?)0([xbo])(?=\w[\w.]*$)/i,so=/^([^.]+)\.$/,Qs=/^\.([^.]+)$/,sa=/^-?(Infinity|NaN)$/,Zo=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Qo,la,Ko,Jo){var aa,oa=Ko?la:la.replace(Zo,"");if(sa.test(oa))Qo.s=isNaN(oa)?null:oa<0?-1:1;else{if(!Ko&&(oa=oa.replace(zo,function(ua,Ma,da){return aa=(da=da.toLowerCase())=="x"?16:da=="b"?2:8,!Jo||Jo==aa?Ma:ua}),Jo&&(aa=Jo,oa=oa.replace(so,"$1").replace(Qs,"0.$1")),la!=oa))return new Ks(oa,aa);if(Ks.DEBUG)throw Error(l+"Not a"+(Jo?" base "+Jo:"")+" number: "+la);Qo.s=null}Qo.c=Qo.e=null}}();function Oo(zo,so,Qs,sa){var Zo,Qo,la,Ko,Jo,aa,oa,ua=zo.c,Ma=xi;if(ua){e:{for(Zo=1,Ko=ua[0];Ko>=10;Ko/=10,Zo++);if(Qo=so-Zo,Qo<0)Qo+=q,la=so,Jo=ua[aa=0],oa=a(Jo/Ma[Zo-la-1]%10);else if(aa=s((Qo+1)/q),aa>=ua.length)if(sa){for(;ua.length<=aa;ua.push(0));Jo=oa=0,Zo=1,Qo%=q,la=Qo-q+1}else break e;else{for(Jo=Ko=ua[aa],Zo=1;Ko>=10;Ko/=10,Zo++);Qo%=q,la=Qo-q+Zo,oa=la<0?0:a(Jo/Ma[Zo-la-1]%10)}if(sa=sa||so<0||ua[aa+1]!=null||(la<0?Jo:Jo%Ma[Zo-la-1]),sa=Qs<4?(oa||sa)&&(Qs==0||Qs==(zo.s<0?3:2)):oa>5||oa==5&&(Qs==4||sa||Qs==6&&(Qo>0?la>0?Jo/Ma[Zo-la]:0:ua[aa-1])%10&1||Qs==(zo.s<0?8:7)),so<1||!ua[0])return ua.length=0,sa?(so-=zo.e+1,ua[0]=Ma[(q-so%q)%q],zo.e=-so||0):ua[0]=zo.e=0,zo;if(Qo==0?(ua.length=aa,Ko=1,aa--):(ua.length=aa+1,Ko=Ma[q-Qo],ua[aa]=la>0?a(Jo/Ma[Zo-la]%Ma[la])*Ko:0),sa)for(;;)if(aa==0){for(Qo=1,la=ua[0];la>=10;la/=10,Qo++);for(la=ua[0]+=Ko,Ko=1;la>=10;la/=10,Ko++);Qo!=Ko&&(zo.e++,ua[0]==T&&(ua[0]=1));break}else{if(ua[aa]+=Ko,ua[aa]!=T)break;ua[aa--]=0,Ko=1}for(Qo=ua.length;ua[--Qo]===0;ua.pop());}zo.e>vs?zo.c=zo.e=null:zo.e<nt&&(zo.c=[zo.e=0])}return zo}function Vo(zo){var so,Qs=zo.e;return Qs===null?zo.toString():(so=Us(zo.c),so=Qs<=f||Qs>=Y?Vs(so,Qs):Zs(so,Qs,"0"),zo.s<0?"-"+so:so)}return Fo.absoluteValue=Fo.abs=function(){var zo=new Ks(this);return zo.s<0&&(zo.s=1),zo},Fo.comparedTo=function(zo,so){return Ls(this,new Ks(zo,so))},Fo.decimalPlaces=Fo.dp=function(zo,so){var Qs,sa,Zo,Qo=this;if(zo!=null)return Gs(zo,0,Ts),so==null?so=Ws:Gs(so,0,8),Oo(new Ks(Qo),zo+Qo.e+1,so);if(!(Qs=Qo.c))return null;if(sa=((Zo=Qs.length-1)-qs(this.e/q))*q,Zo=Qs[Zo])for(;Zo%10==0;Zo/=10,sa--);return sa<0&&(sa=0),sa},Fo.dividedBy=Fo.div=function(zo,so){return xo(this,new Ks(zo,so),Hs,Ws)},Fo.dividedToIntegerBy=Fo.idiv=function(zo,so){return xo(this,new Ks(zo,so),0,1)},Fo.exponentiatedBy=Fo.pow=function(zo,so){var Qs,sa,Zo,Qo,la,Ko,Jo,aa,oa,ua=this;if(zo=new Ks(zo),zo.c&&!zo.isInteger())throw Error(l+"Exponent not an integer: "+Vo(zo));if(so!=null&&(so=new Ks(so)),Ko=zo.e>14,!ua.c||!ua.c[0]||ua.c[0]==1&&!ua.e&&ua.c.length==1||!zo.c||!zo.c[0])return oa=new Ks(Math.pow(+Vo(ua),Ko?zo.s*(2-zs(zo)):+Vo(zo))),so?oa.mod(so):oa;if(Jo=zo.s<0,so){if(so.c?!so.c[0]:!so.s)return new Ks(NaN);sa=!Jo&&ua.isInteger()&&so.isInteger(),sa&&(ua=ua.mod(so))}else{if(zo.e>9&&(ua.e>0||ua.e<-1||(ua.e==0?ua.c[0]>1||Ko&&ua.c[1]>=24e7:ua.c[0]<8e13||Ko&&ua.c[0]<=9999975e7)))return Qo=ua.s<0&&zs(zo)?-0:0,ua.e>-1&&(Qo=1/Qo),new Ks(Jo?1/Qo:Qo);Bs&&(Qo=s(Bs/q+2))}for(Ko?(Qs=new Ks(.5),Jo&&(zo.s=1),aa=zs(zo)):(Zo=Math.abs(+Vo(zo)),aa=Zo%2),oa=new Ks(Ys);;){if(aa){if(oa=oa.times(ua),!oa.c)break;Qo?oa.c.length>Qo&&(oa.c.length=Qo):sa&&(oa=oa.mod(so))}if(Zo){if(Zo=a(Zo/2),Zo===0)break;aa=Zo%2}else if(zo=zo.times(Qs),Oo(zo,zo.e+1,1),zo.e>14)aa=zs(zo);else{if(Zo=+Vo(zo),Zo===0)break;aa=Zo%2}ua=ua.times(ua),Qo?ua.c&&ua.c.length>Qo&&(ua.c.length=Qo):sa&&(ua=ua.mod(so))}return sa?oa:(Jo&&(oa=Ys.div(oa)),so?oa.mod(so):Qo?Oo(oa,Bs,Ws,la):oa)},Fo.integerValue=function(zo){var so=new Ks(this);return zo==null?zo=Ws:Gs(zo,0,8),Oo(so,so.e+1,zo)},Fo.isEqualTo=Fo.eq=function(zo,so){return Ls(this,new Ks(zo,so))===0},Fo.isFinite=function(){return!!this.c},Fo.isGreaterThan=Fo.gt=function(zo,so){return Ls(this,new Ks(zo,so))>0},Fo.isGreaterThanOrEqualTo=Fo.gte=function(zo,so){return(so=Ls(this,new Ks(zo,so)))===1||so===0},Fo.isInteger=function(){return!!this.c&&qs(this.e/q)>this.c.length-2},Fo.isLessThan=Fo.lt=function(zo,so){return Ls(this,new Ks(zo,so))<0},Fo.isLessThanOrEqualTo=Fo.lte=function(zo,so){return(so=Ls(this,new Ks(zo,so)))===-1||so===0},Fo.isNaN=function(){return!this.s},Fo.isNegative=function(){return this.s<0},Fo.isPositive=function(){return this.s>0},Fo.isZero=function(){return!!this.c&&this.c[0]==0},Fo.minus=function(zo,so){var Qs,sa,Zo,Qo,la=this,Ko=la.s;if(zo=new Ks(zo,so),so=zo.s,!Ko||!so)return new Ks(NaN);if(Ko!=so)return zo.s=-so,la.plus(zo);var Jo=la.e/q,aa=zo.e/q,oa=la.c,ua=zo.c;if(!Jo||!aa){if(!oa||!ua)return oa?(zo.s=-so,zo):new Ks(ua?la:NaN);if(!oa[0]||!ua[0])return ua[0]?(zo.s=-so,zo):new Ks(oa[0]?la:Ws==3?-0:0)}if(Jo=qs(Jo),aa=qs(aa),oa=oa.slice(),Ko=Jo-aa){for((Qo=Ko<0)?(Ko=-Ko,Zo=oa):(aa=Jo,Zo=ua),Zo.reverse(),so=Ko;so--;Zo.push(0));Zo.reverse()}else for(sa=(Qo=(Ko=oa.length)<(so=ua.length))?Ko:so,Ko=so=0;so<sa;so++)if(oa[so]!=ua[so]){Qo=oa[so]<ua[so];break}if(Qo&&(Zo=oa,oa=ua,ua=Zo,zo.s=-zo.s),so=(sa=ua.length)-(Qs=oa.length),so>0)for(;so--;oa[Qs++]=0);for(so=T-1;sa>Ko;){if(oa[--sa]<ua[sa]){for(Qs=sa;Qs&&!oa[--Qs];oa[Qs]=so);--oa[Qs],oa[sa]+=T}oa[sa]-=ua[sa]}for(;oa[0]==0;oa.splice(0,1),--aa);return oa[0]?To(zo,oa,aa):(zo.s=Ws==3?-1:1,zo.c=[zo.e=0],zo)},Fo.modulo=Fo.mod=function(zo,so){var Qs,sa,Zo=this;return zo=new Ks(zo,so),!Zo.c||!zo.s||zo.c&&!zo.c[0]?new Ks(NaN):!zo.c||Zo.c&&!Zo.c[0]?new Ks(Zo):(Ds==9?(sa=zo.s,zo.s=1,Qs=xo(Zo,zo,0,3),zo.s=sa,Qs.s*=sa):Qs=xo(Zo,zo,0,Ds),zo=Zo.minus(Qs.times(zo)),!zo.c[0]&&Ds==1&&(zo.s=Zo.s),zo)},Fo.multipliedBy=Fo.times=function(zo,so){var Qs,sa,Zo,Qo,la,Ko,Jo,aa,oa,ua,Ma,da,fa,La,ga,ha=this,Ga=ha.c,Aa=(zo=new Ks(zo,so)).c;if(!Ga||!Aa||!Ga[0]||!Aa[0])return!ha.s||!zo.s||Ga&&!Ga[0]&&!Aa||Aa&&!Aa[0]&&!Ga?zo.c=zo.e=zo.s=null:(zo.s*=ha.s,!Ga||!Aa?zo.c=zo.e=null:(zo.c=[0],zo.e=0)),zo;for(sa=qs(ha.e/q)+qs(zo.e/q),zo.s*=ha.s,Jo=Ga.length,ua=Aa.length,Jo<ua&&(fa=Ga,Ga=Aa,Aa=fa,Zo=Jo,Jo=ua,ua=Zo),Zo=Jo+ua,fa=[];Zo--;fa.push(0));for(La=T,ga=Oi,Zo=ua;--Zo>=0;){for(Qs=0,Ma=Aa[Zo]%ga,da=Aa[Zo]/ga|0,la=Jo,Qo=Zo+la;Qo>Zo;)aa=Ga[--la]%ga,oa=Ga[la]/ga|0,Ko=da*aa+oa*Ma,aa=Ma*aa+Ko%ga*ga+fa[Qo]+Qs,Qs=(aa/La|0)+(Ko/ga|0)+da*oa,fa[Qo--]=aa%La;fa[Qo]=Qs}return Qs?++sa:fa.splice(0,1),To(zo,fa,sa)},Fo.negated=function(){var zo=new Ks(this);return zo.s=-zo.s||null,zo},Fo.plus=function(zo,so){var Qs,sa=this,Zo=sa.s;if(zo=new Ks(zo,so),so=zo.s,!Zo||!so)return new Ks(NaN);if(Zo!=so)return zo.s=-so,sa.minus(zo);var Qo=sa.e/q,la=zo.e/q,Ko=sa.c,Jo=zo.c;if(!Qo||!la){if(!Ko||!Jo)return new Ks(Zo/0);if(!Ko[0]||!Jo[0])return Jo[0]?zo:new Ks(Ko[0]?sa:Zo*0)}if(Qo=qs(Qo),la=qs(la),Ko=Ko.slice(),Zo=Qo-la){for(Zo>0?(la=Qo,Qs=Jo):(Zo=-Zo,Qs=Ko),Qs.reverse();Zo--;Qs.push(0));Qs.reverse()}for(Zo=Ko.length,so=Jo.length,Zo-so<0&&(Qs=Jo,Jo=Ko,Ko=Qs,so=Zo),Zo=0;so;)Zo=(Ko[--so]=Ko[so]+Jo[so]+Zo)/T|0,Ko[so]=T===Ko[so]?0:Ko[so]%T;return Zo&&(Ko=[Zo].concat(Ko),++la),To(zo,Ko,la)},Fo.precision=Fo.sd=function(zo,so){var Qs,sa,Zo,Qo=this;if(zo!=null&&zo!==!!zo)return Gs(zo,1,Ts),so==null?so=Ws:Gs(so,0,8),Oo(new Ks(Qo),zo,so);if(!(Qs=Qo.c))return null;if(Zo=Qs.length-1,sa=Zo*q+1,Zo=Qs[Zo]){for(;Zo%10==0;Zo/=10,sa--);for(Zo=Qs[0];Zo>=10;Zo/=10,sa++);}return zo&&Qo.e+1>sa&&(sa=Qo.e+1),sa},Fo.shiftedBy=function(zo){return Gs(zo,-9007199254740991,et),this.times("1e"+zo)},Fo.squareRoot=Fo.sqrt=function(){var zo,so,Qs,sa,Zo,Qo=this,la=Qo.c,Ko=Qo.s,Jo=Qo.e,aa=Hs+4,oa=new Ks("0.5");if(Ko!==1||!la||!la[0])return new Ks(!Ko||Ko<0&&(!la||la[0])?NaN:la?Qo:1/0);if(Ko=Math.sqrt(+Vo(Qo)),Ko==0||Ko==1/0?(so=Us(la),(so.length+Jo)%2==0&&(so+="0"),Ko=Math.sqrt(+so),Jo=qs((Jo+1)/2)-(Jo<0||Jo%2),Ko==1/0?so="5e"+Jo:(so=Ko.toExponential(),so=so.slice(0,so.indexOf("e")+1)+Jo),Qs=new Ks(so)):Qs=new Ks(Ko+""),Qs.c[0]){for(Jo=Qs.e,Ko=Jo+aa,Ko<3&&(Ko=0);;)if(Zo=Qs,Qs=oa.times(Zo.plus(xo(Qo,Zo,aa,1))),Us(Zo.c).slice(0,Ko)===(so=Us(Qs.c)).slice(0,Ko))if(Qs.e<Jo&&--Ko,so=so.slice(Ko-3,Ko+1),so=="9999"||!sa&&so=="4999"){if(!sa&&(Oo(Zo,Zo.e+Hs+2,0),Zo.times(Zo).eq(Qo))){Qs=Zo;break}aa+=4,Ko+=4,sa=1}else{(!+so||!+so.slice(1)&&so.charAt(0)=="5")&&(Oo(Qs,Qs.e+Hs+2,1),zo=!Qs.times(Qs).eq(Qo));break}}return Oo(Qs,Qs.e+Hs+1,Ws,zo)},Fo.toExponential=function(zo,so){return zo!=null&&(Gs(zo,0,Ts),zo++),jo(this,zo,so,1)},Fo.toFixed=function(zo,so){return zo!=null&&(Gs(zo,0,Ts),zo=zo+this.e+1),jo(this,zo,so)},Fo.toFormat=function(zo,so,Qs){var sa,Zo=this;if(Qs==null)zo!=null&&so&&typeof so=="object"?(Qs=so,so=null):zo&&typeof zo=="object"?(Qs=zo,zo=so=null):Qs=Ms;else if(typeof Qs!="object")throw Error(l+"Argument not an object: "+Qs);if(sa=Zo.toFixed(zo,so),Zo.c){var Qo,la=sa.split("."),Ko=+Qs.groupSize,Jo=+Qs.secondaryGroupSize,aa=Qs.groupSeparator||"",oa=la[0],ua=la[1],Ma=Zo.s<0,da=Ma?oa.slice(1):oa,fa=da.length;if(Jo&&(Qo=Ko,Ko=Jo,Jo=Qo,fa-=Qo),Ko>0&&fa>0){for(Qo=fa%Ko||Ko,oa=da.substr(0,Qo);Qo<fa;Qo+=Ko)oa+=aa+da.substr(Qo,Ko);Jo>0&&(oa+=aa+da.slice(Qo)),Ma&&(oa="-"+oa)}sa=ua?oa+(Qs.decimalSeparator||"")+((Jo=+Qs.fractionGroupSize)?ua.replace(new RegExp("\\d{"+Jo+"}\\B","g"),"$&"+(Qs.fractionGroupSeparator||"")):ua):oa}return(Qs.prefix||"")+sa+(Qs.suffix||"")},Fo.toFraction=function(zo){var so,Qs,sa,Zo,Qo,la,Ko,Jo,aa,oa,ua,Ma,da=this,fa=da.c;if(zo!=null&&(Ko=new Ks(zo),!Ko.isInteger()&&(Ko.c||Ko.s!==1)||Ko.lt(Ys)))throw Error(l+"Argument "+(Ko.isInteger()?"out of range: ":"not an integer: ")+Vo(Ko));if(!fa)return new Ks(da);for(so=new Ks(Ys),aa=Qs=new Ks(Ys),sa=Jo=new Ks(Ys),Ma=Us(fa),Qo=so.e=Ma.length-da.e-1,so.c[0]=xi[(la=Qo%q)<0?q+la:la],zo=!zo||Ko.comparedTo(so)>0?Qo>0?so:aa:Ko,la=vs,vs=1/0,Ko=new Ks(Ma),Jo.c[0]=0;oa=xo(Ko,so,0,1),Zo=Qs.plus(oa.times(sa)),Zo.comparedTo(zo)!=1;)Qs=sa,sa=Zo,aa=Jo.plus(oa.times(Zo=aa)),Jo=Zo,so=Ko.minus(oa.times(Zo=so)),Ko=Zo;return Zo=xo(zo.minus(Qs),sa,0,1),Jo=Jo.plus(Zo.times(aa)),Qs=Qs.plus(Zo.times(sa)),Jo.s=aa.s=da.s,Qo=Qo*2,ua=xo(aa,sa,Qo,Ws).minus(da).abs().comparedTo(xo(Jo,Qs,Qo,Ws).minus(da).abs())<1?[aa,sa]:[Jo,Qs],vs=la,ua},Fo.toNumber=function(){return+Vo(this)},Fo.toPrecision=function(zo,so){return zo!=null&&Gs(zo,1,Ts),jo(this,zo,so,2)},Fo.toString=function(zo){var so,Qs=this,sa=Qs.s,Zo=Qs.e;return Zo===null?sa?(so="Infinity",sa<0&&(so="-"+so)):so="NaN":(zo==null?so=Zo<=f||Zo>=Y?Vs(Us(Qs.c),Zo):Zs(Us(Qs.c),Zo,"0"):zo===10&&$s?(Qs=Oo(new Ks(Qs),Hs+Zo+1,Ws),so=Zs(Us(Qs.c),Qs.e,"0")):(Gs(zo,2,Q.length,"Base"),so=Io(Zs(Us(Qs.c),Zo,"0"),10,zo,sa,!0)),sa<0&&Qs.c[0]&&(so="-"+so)),so},Fo.valueOf=Fo.toJSON=function(){return Vo(this)},Fo._isBigNumber=!0,Js!=null&&Ks.set(Js),Ks}function qs(Js){var xo=Js|0;return Js>0||Js===xo?xo:xo-1}function Us(Js){for(var xo,Io,Uo=1,Fo=Js.length,Ys=Js[0]+"";Uo<Fo;){for(xo=Js[Uo++]+"",Io=q-xo.length;Io--;xo="0"+xo);Ys+=xo}for(Fo=Ys.length;Ys.charCodeAt(--Fo)===48;);return Ys.slice(0,Fo+1||1)}function Ls(Js,xo){var Io,Uo,Fo=Js.c,Ys=xo.c,Hs=Js.s,Ws=xo.s,f=Js.e,Y=xo.e;if(!Hs||!Ws)return null;if(Io=Fo&&!Fo[0],Uo=Ys&&!Ys[0],Io||Uo)return Io?Uo?0:-Ws:Hs;if(Hs!=Ws)return Hs;if(Io=Hs<0,Uo=f==Y,!Fo||!Ys)return Uo?0:!Fo^Io?1:-1;if(!Uo)return f>Y^Io?1:-1;for(Ws=(f=Fo.length)<(Y=Ys.length)?f:Y,Hs=0;Hs<Ws;Hs++)if(Fo[Hs]!=Ys[Hs])return Fo[Hs]>Ys[Hs]^Io?1:-1;return f==Y?0:f>Y^Io?1:-1}function Gs(Js,xo,Io,Uo){if(Js<xo||Js>Io||Js!==a(Js))throw Error(l+(Uo||"Argument")+(typeof Js=="number"?Js<xo||Js>Io?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Js))}function zs(Js){var xo=Js.c.length-1;return qs(Js.e/q)==xo&&Js.c[xo]%2!=0}function Vs(Js,xo){return(Js.length>1?Js.charAt(0)+"."+Js.slice(1):Js)+(xo<0?"e":"e+")+xo}function Zs(Js,xo,Io){var Uo,Fo;if(xo<0){for(Fo=Io+".";++xo;Fo+=Io);Js=Fo+Js}else if(Uo=Js.length,++xo>Uo){for(Fo=Io,xo-=Uo;--xo;Fo+=Io);Js+=Fo}else xo<Uo&&(Js=Js.slice(0,xo)+"."+Js.slice(xo));return Js}i=Fs(),i.default=i.BigNumber=i,t.exports?t.exports=i:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=i)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const globalState$1=requireGlobalState(),validating=requireValidating(),parsing$1=parsing$2,BigNumber$1=bignumberExports,powers={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},defaultOptions={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes,decimalSuffixes}=globalState$1.currentBytes(),bytes={general:{scale:1024,suffixes:decimalSuffixes},binary:{scale:1024,suffixes:binarySuffixes},decimal:{scale:1e3,suffixes:decimalSuffixes}};function format$2(t,e={},i){if(typeof e=="string"&&(e=parsing$1.parseFormat(e)),!validating.validateFormat(e))return"ERROR: invalid format";let s=e.prefix||"",a=e.postfix||"",l=formatNumbro(t,e,i);return l=insertPrefix(l,s),l=insertPostfix(l,a),l}function formatNumbro(t,e,i){switch(e.output){case"currency":return e=formatOrDefault(e,globalState$1.currentCurrencyDefaultFormat()),formatCurrency$2(t,e,globalState$1);case"percent":return e=formatOrDefault(e,globalState$1.currentPercentageDefaultFormat()),formatPercentage$1(t,e,globalState$1,i);case"byte":return e=formatOrDefault(e,globalState$1.currentByteDefaultFormat()),formatByte(t,e,globalState$1,i);case"time":return e=formatOrDefault(e,globalState$1.currentTimeDefaultFormat()),formatTime(t);case"ordinal":return e=formatOrDefault(e,globalState$1.currentOrdinalDefaultFormat()),formatOrdinal(t,e,globalState$1);case"number":default:return formatNumber$1({instance:t,providedFormat:e})}}function getDecimalByteUnit(t){let e=bytes.decimal;return getFormatByteUnits(t._value,e.suffixes,e.scale).suffix}function getBinaryByteUnit(t){let e=bytes.binary;return getFormatByteUnits(t._value,e.suffixes,e.scale).suffix}function getByteUnit(t){let e=bytes.general;return getFormatByteUnits(t._value,e.suffixes,e.scale).suffix}function getFormatByteUnits(t,e,i){let n=e[0],s=Math.abs(t);if(s>=i){for(let a=1;a<e.length;++a){let l=Math.pow(i,a),A=Math.pow(i,a+1);if(s>=l&&s<A){n=e[a],t=t/l;break}}n===e[0]&&(t=t/Math.pow(i,e.length-1),n=e[e.length-1])}return{value:t,suffix:n}}function formatByte(t,e,i,n){let s=e.base||"binary",a=Object.assign({},defaultOptions,e);const{binarySuffixes:l,decimalSuffixes:A}=i.currentBytes();let q={general:{scale:1024,suffixes:A||decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:l||binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:A||decimalSuffixes,marker:"d"}}[s],{value:et,suffix:xi}=getFormatByteUnits(t._value,q.suffixes,q.scale);return`${formatNumber$1({instance:n(et),providedFormat:e,state:i,defaults:i.currentByteDefaultFormat()})}${a.spaceSeparated?" ":""}${xi}`}function formatOrdinal(t,e,i){let n=i.currentOrdinal(),s=Object.assign({},defaultOptions,e),a=formatNumber$1({instance:t,providedFormat:e,state:i}),l=n(t._value);return`${a}${s.spaceSeparated?" ":""}${l}`}function formatTime(t){let e=Math.floor(t._value/60/60),i=Math.floor((t._value-e*60*60)/60),n=Math.round(t._value-e*60*60-i*60);return`${e}:${i<10?"0":""}${i}:${n<10?"0":""}${n}`}function formatPercentage$1(t,e,i,n){let s=e.prefixSymbol,a=formatNumber$1({instance:n(t._value*100),providedFormat:e,state:i}),l=Object.assign({},defaultOptions,e);return s?`%${l.spaceSeparated?" ":""}${a}`:`${a}${l.spaceSeparated?" ":""}%`}function formatCurrency$2(t,e,i){const n=i.currentCurrency();let s=Object.assign({},e),a=Object.assign({},defaultOptions,s),l,A="",T=!!a.totalLength||!!a.forceAverage||a.average,q=s.currencyPosition||n.position,et=s.currencySymbol||n.symbol;const xi=a.spaceSeparatedCurrency!==void 0?a.spaceSeparatedCurrency:a.spaceSeparated;s.lowPrecision===void 0&&(s.lowPrecision=!1),xi&&(A=" "),q==="infix"&&(l=A+et+A);let Oi=formatNumber$1({instance:t,providedFormat:s,state:i,decimalSeparator:l});return q==="prefix"&&(t._value<0&&a.negative==="sign"?Oi=`-${A}${et}${Oi.slice(1)}`:t._value>0&&a.forceSign?Oi=`+${A}${et}${Oi.slice(1)}`:Oi=et+A+Oi),(!q||q==="postfix")&&(A=!a.spaceSeparatedAbbreviation&&T?"":A,Oi=Oi+A+et),Oi}function computeAverage({value:t,forceAverage:e,lowPrecision:i=!0,abbreviations:n,spaceSeparated:s=!1,totalLength:a=0,roundingFunction:l=Math.round}){let A="",T=Math.abs(t),q=-1;if(e&&n[e]&&powers[e]?(A=n[e],t=t/powers[e]):T>=powers.trillion||i&&l(T/powers.trillion)===1?(A=n.trillion,t=t/powers.trillion):T<powers.trillion&&T>=powers.billion||i&&l(T/powers.billion)===1?(A=n.billion,t=t/powers.billion):T<powers.billion&&T>=powers.million||i&&l(T/powers.million)===1?(A=n.million,t=t/powers.million):(T<powers.million&&T>=powers.thousand||i&&l(T/powers.thousand)===1)&&(A=n.thousand,t=t/powers.thousand),A&&(A=(s?" ":"")+A),a){let xi=t<0,Oi=t.toString().split(".")[0],Ts=xi?Oi.length-1:Oi.length;q=Math.max(a-Ts,0)}return{value:t,abbreviation:A,mantissaPrecision:q}}function computeExponential({value:t,characteristicPrecision:e}){let[i,n]=t.toExponential().split("e"),s=+i;if(!e)return{value:s,abbreviation:`e${n}`};let a=1;return a<e&&(s=s*Math.pow(10,e-a),n=+n-(e-a),n=n>=0?`+${n}`:n),{value:s,abbreviation:`e${n}`}}function zeroes(t){let e="";for(let i=0;i<t;i++)e+="0";return e}function toFixedLarge(t,e){let i=t.toString(),[n,s]=i.split("e"),[a,l=""]=n.split(".");if(+s>0)i=a+l+zeroes(s-l.length);else{let A=".";+a<0?A=`-0${A}`:A=`0${A}`;let T=(zeroes(-s-1)+Math.abs(a)+l).substr(0,e);T.length<e&&(T+=zeroes(e-T.length)),i=A+T}return+s>0&&e>0&&(i+=`.${zeroes(e)}`),i}function toFixed(t,e,i=Math.round){return t.toString().indexOf("e")!==-1?toFixedLarge(t,e):new BigNumber$1(i(+`${t}e+${e}`)/Math.pow(10,e)).toFixed(e)}function setMantissaPrecision(t,e,i,n,s,a){if(n===-1)return t;let l=toFixed(e,n,a),[A,T=""]=l.toString().split(".");if(T.match(/^0+$/)&&(i||s))return A;let q=T.match(/0+$/);return s&&q?`${A}.${T.toString().slice(0,q.index)}`:l.toString()}function setCharacteristicPrecision(t,e,i,n){let s=t,[a,l]=s.toString().split(".");if(a.match(/^-?0$/)&&i)return l?`${a.replace("0","")}.${l}`:a.replace("0","");const A=e<0&&a.indexOf("-")===0;if(A&&(a=a.slice(1),s=s.slice(1)),a.length<n){let T=n-a.length;for(let q=0;q<T;q++)s=`0${s}`}return A&&(s=`-${s}`),s.toString()}function indexesOfGroupSpaces(t,e){let i=[],n=0;for(let s=t;s>0;s--)n===e&&(i.unshift(s),n=0),n++;return i}function replaceDelimiters(t,e,i,n,s){let a=n.currentDelimiters(),l=a.thousands;s=s||a.decimal;let A=a.thousandsSize||3,T=t.toString(),q=T.split(".")[0],et=T.split(".")[1];const xi=e<0&&q.indexOf("-")===0;return i&&(xi&&(q=q.slice(1)),indexesOfGroupSpaces(q.length,A).forEach((Ts,Fs)=>{q=q.slice(0,Ts+Fs)+l+q.slice(Ts+Fs)}),xi&&(q=`-${q}`)),et?T=q+s+et:T=q,T}function insertAbbreviation(t,e){return t+e}function insertSign(t,e,i){return e===0?t:+t==0?t.replace("-",""):e>0?`+${t}`:i==="sign"?t:`(${t.replace("-","")})`}function insertPrefix(t,e){return e+t}function insertPostfix(t,e){return t+e}function formatNumber$1({instance:t,providedFormat:e,state:i=globalState$1,decimalSeparator:n,defaults:s=i.currentDefaults()}){let a=t._value;if(a===0&&i.hasZeroFormat())return i.getZeroFormat();if(!isFinite(a))return a.toString();let l=Object.assign({},defaultOptions,s,e),A=l.totalLength,T=A?0:l.characteristic,q=l.optionalCharacteristic,et=l.forceAverage,xi=l.lowPrecision,Oi=!!A||!!et||l.average,Ts=A?-1:Oi&&e.mantissa===void 0?0:l.mantissa,Fs=A?!1:e.optionalMantissa===void 0?Ts===-1:l.optionalMantissa,qs=l.trimMantissa,Us=l.thousandSeparated,Ls=l.spaceSeparated,Gs=l.negative,zs=l.forceSign,Vs=l.exponential,Zs=l.roundingFunction,Js="";if(Oi){let Io=computeAverage({value:a,forceAverage:et,lowPrecision:xi,abbreviations:i.currentAbbreviations(),spaceSeparated:Ls,roundingFunction:Zs,totalLength:A});a=Io.value,Js+=Io.abbreviation,A&&(Ts=Io.mantissaPrecision)}if(Vs){let Io=computeExponential({value:a,characteristicPrecision:T});a=Io.value,Js=Io.abbreviation+Js}let xo=setMantissaPrecision(a.toString(),a,Fs,Ts,qs,Zs);return xo=setCharacteristicPrecision(xo,a,q,T),xo=replaceDelimiters(xo,a,Us,i,n),(Oi||Vs)&&(xo=insertAbbreviation(xo,Js)),(zs||a<0)&&(xo=insertSign(xo,a,Gs)),xo}function formatOrDefault(t,e){if(!t)return e;let i=Object.keys(t);return i.length===1&&i[0]==="output"?e:t}var formatting=t=>({format:(...e)=>format$2(...e,t),getByteUnit:(...e)=>getByteUnit(...e,t),getBinaryByteUnit:(...e)=>getBinaryByteUnit(...e,t),getDecimalByteUnit:(...e)=>getDecimalByteUnit(...e,t),formatOrDefault});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const BigNumber=bignumberExports;function add$1(t,e,i){let n=new BigNumber(t._value),s=e;return i.isNumbro(e)&&(s=e._value),s=new BigNumber(s),t._value=n.plus(s).toNumber(),t}function subtract(t,e,i){let n=new BigNumber(t._value),s=e;return i.isNumbro(e)&&(s=e._value),s=new BigNumber(s),t._value=n.minus(s).toNumber(),t}function multiply(t,e,i){let n=new BigNumber(t._value),s=e;return i.isNumbro(e)&&(s=e._value),s=new BigNumber(s),t._value=n.times(s).toNumber(),t}function divide$1(t,e,i){let n=new BigNumber(t._value),s=e;return i.isNumbro(e)&&(s=e._value),s=new BigNumber(s),t._value=n.dividedBy(s).toNumber(),t}function set(t,e,i){let n=e;return i.isNumbro(e)&&(n=e._value),t._value=n,t}function difference(t,e,i){let n=i(t._value);return subtract(n,e,i),Math.abs(n._value)}var manipulating=t=>({add:(e,i)=>add$1(e,i,t),subtract:(e,i)=>subtract(e,i,t),multiply:(e,i)=>multiply(e,i,t),divide:(e,i)=>divide$1(e,i,t),set:(e,i)=>set(e,i,t),difference:(e,i)=>difference(e,i,t),BigNumber});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const VERSION$1="2.5.0",globalState=requireGlobalState(),validator$1=requireValidating(),loader=loading(numbro),unformatter=requireUnformatting();let formatter=formatting(numbro),manipulate=manipulating(numbro);const parsing=parsing$2;class Numbro{constructor(e){this._value=e}clone(){return numbro(this._value)}format(e={}){return formatter.format(this,e)}formatCurrency(e){return typeof e=="string"&&(e=parsing.parseFormat(e)),e=formatter.formatOrDefault(e,globalState.currentCurrencyDefaultFormat()),e.output="currency",formatter.format(this,e)}formatTime(e={}){return e.output="time",formatter.format(this,e)}binaryByteUnits(){return formatter.getBinaryByteUnit(this)}decimalByteUnits(){return formatter.getDecimalByteUnit(this)}byteUnits(){return formatter.getByteUnit(this)}difference(e){return manipulate.difference(this,e)}add(e){return manipulate.add(this,e)}subtract(e){return manipulate.subtract(this,e)}multiply(e){return manipulate.multiply(this,e)}divide(e){return manipulate.divide(this,e)}set(e){return manipulate.set(this,normalizeInput$1(e))}value(){return this._value}valueOf(){return this._value}}function normalizeInput$1(t){let e=t;return numbro.isNumbro(t)?e=t._value:typeof t=="string"?e=numbro.unformat(t):isNaN(t)&&(e=NaN),e}function numbro(t){return new Numbro(normalizeInput$1(t))}numbro.version=VERSION$1;numbro.isNumbro=function(t){return t instanceof Numbro};numbro.language=globalState.currentLanguage;numbro.registerLanguage=globalState.registerLanguage;numbro.setLanguage=globalState.setLanguage;numbro.languages=globalState.languages;numbro.languageData=globalState.languageData;numbro.zeroFormat=globalState.setZeroFormat;numbro.defaultFormat=globalState.currentDefaults;numbro.setDefaults=globalState.setDefaults;numbro.defaultCurrencyFormat=globalState.currentCurrencyDefaultFormat;numbro.validate=validator$1.validate;numbro.loadLanguagesInNode=loader.loadLanguagesInNode;numbro.unformat=unformatter.unformat;numbro.BigNumber=manipulate.BigNumber;var numbro_1=numbro,numbro$1=getDefaultExportFromCjs(numbro_1);const d=t=>Decimal$1.isDecimal(t)?t:new Decimal$1(typeof t>"u"||t==="undefined"||!t?0:t),addComma=t=>{try{return d(t).gt(1)?numbro$1(t).format({thousandSeparated:!0,exponential:!1}):t}catch{return t}},addCommaWithNoMantissa=t=>{try{return d(t).gt(1)?numbro$1(t).format({thousandSeparated:!0,mantissa:0}):t}catch{return t}},fixRounding=(t,e)=>d(t).toDP(e,Decimal$1.ROUND_HALF_DOWN).toString(),fixNumber=(t,e,i)=>d(t).toDP(e,i).toString(),fixDown=(t,e)=>{try{return d(t).toDP(e,Decimal$1.ROUND_DOWN).toString()}catch{return String(t)}};function getGtZeroIndex(t){let e=0;if(t)for(;e<t.length;){if(d(t[e]).gt(0))return e;e++}return 0}dayjs.extend(relativeTime);dayjs.extend(duration);const formatCurrency$1=(t,e,i,n)=>{try{if(t===void 0||t==="--")return"$--";const s=formatNumberWithDown(t,e,!0).toString();if(d(s).equals(0))return"$0";const a=s.startsWith("-");let l=n?s:addComma(s).toString();return l.includes("e")&&(l=n?s:addCommaWithNoMantissa(s).toString()),!i&&Number(s)<Math.pow(10,-e)?a?`-$${l.slice(1)}`:`<$${Math.pow(10,-e).toFixed(e)}`:a?`-$${l.slice(1)}`:`$${l}`}catch(s){return console.log(" ~ formatCurrency ~ error:",s),"$--"}},formatPercentage=(t,e=2,i=!1,n=!1)=>{if(t===void 0)return"--";if(d(t).equals(0))return n?`< ${Math.pow(10,-e)}%`:"0%";if(!i){if(Number(t)>=0&&Number(t)<=Math.pow(10,-e))return`<${Math.pow(10,-e).toFixed(e)}%`;if(Number(t)<0&&Number(t)*-1<=Math.pow(10,-e))return` < -${Math.pow(10,-e).toFixed(e)}%`}return`${fixDown(t,e)}%`},formatNumber=(t,e,i,n=Decimal$1.ROUND_HALF_DOWN,s=!1)=>{if(t==="")return"";if(t!=="0"&&!t||(t=convertScientificToDecimal(t.toString(),e),d(t).equals(0)))return"0";if(e!==void 0){const et=fixNumber(t,e,n);if(d(et).equals(0)){if(s)return et}else return i?et:addComma(et)}const a=d(t).toString(),l=a.split("."),A=l[0],T=l[1];let q;if(d(A).gt(0))!T||d(A.length).gte(9)?q=fixNumber(a,0,n):d(A.length).gte(4)?q=fixNumber(a,2,n):q=fixNumber(a,4,n);else{fixNumber(a,6,n);const et=getGtZeroIndex(T);if(et<6)q=fixNumber(a,et+6,n);else if(et>=6&&et<=38)q=fixNumber(a,et+4,n);else return"0"}return i||d(A).lt(1)?q:addComma(q)},formatNumberWithDown=(t,e,i,n=!1)=>formatNumber(t,e,i,Decimal$1.ROUND_DOWN,n),formatTickPrice=(t,e,i)=>{const s=d(t).toString().split("."),a=s[0],l=s[1];if(a==="0"&&e){const A=getGtZeroIndex(l),T=e-A,q=T<=0?Number(A):e;return T<=2?formatNumber(t,q+2,i,Decimal$1.ROUND_DOWN):formatNumber(t,e,i,Decimal$1.ROUND_DOWN)}else return formatNumber(t,e,i,Decimal$1.ROUND_DOWN)},formatNumberWithThreshold=(t,e,i,n)=>{const s=formatNumberWithLtMinPrecision(t,e);return s==`< ${Math.pow(10,-2)}`&&i?String(formatNumberWithLtMinPrecision(t,i)):String(s)},formatPrice=(t,e,i)=>{if(t==="")return"";if(t!=="0"&&!t||d(t).equals(0))return"0";if(e!==void 0){const T=fixDown(t,e);if(!d(T).equals(0))return String(i?T:addComma(T))}const n=d(t).toString(),s=n.split("."),a=s[0],l=s[1];let A;if(d(a).gt(0))d(a).gt(9)?A=fixDown(n,2):A=fixDown(n,3);else{const T=getGtZeroIndex(l);A=fixDown(n,T+3)}return i||d(a).lt(1)?String(A):String(addComma(A))},formatFeeRate=t=>{if(t==="")return"";if(t!=="0"&&!t)return"0";if(d(t).gte(.01))return t;if(t=convertScientificToDecimal(t.toString(),2),d(t).equals(0))return"0";const e=d(t).toString(),n=e.split(".")[1],s=getGtZeroIndex(n);return fixNumber(e,s+2,Decimal$1.ROUND_HALF_DOWN)},formatNumberWithLtMinPrecision=(t,e=2,i)=>t===""?"":t!=="0"&&!t||d(t).equals(0)?"0":d(t).lt(Math.pow(10,-e))?`< ${Math.pow(10,-e)}`:formatNumber(t,e,i),formatNumberWithKMB=(t,e=2,i=!1)=>{var a,l,A,T,q,et;const n=d(t||"0");let s;return i?n.gte(Math.pow(10,9))?s=addComma(fixDown((T=n.div(Math.pow(10,9)))==null?void 0:T.toString(),e))+"B":n.gte(Math.pow(10,6))?s=addComma(fixDown((q=n.div(Math.pow(10,6)))==null?void 0:q.toString(),e))+"M":n.gte(d(1e3))?s=addComma(fixDown((et=n.div(1e3))==null?void 0:et.toString(),e))+"K":s=addComma(fixDown(Number(t),e)):n.gte(Math.pow(10,9))?s=addComma(fixRounding((a=n.div(Math.pow(10,9)))==null?void 0:a.toString(),e))+"B":n.gte(Math.pow(10,6))?s=addComma(fixRounding((l=n.div(Math.pow(10,6)))==null?void 0:l.toString(),e))+"M":n.gte(d(1e3))?s=addComma(fixRounding((A=n.div(1e3))==null?void 0:A.toString(),e))+"K":s=addComma(fixRounding(Number(t),e)),s},formatCurrencyWithKMB=(t,e=2)=>{var s;const i=d(t||"0");let n;return i.gte(Math.pow(10,9))?n=formatCurrency$1(fixRounding((s=i.div(Math.pow(10,9)))==null?void 0:s.toString(),e),e)+"B":n=formatCurrency$1(t,e),n},formatDateTime=t=>t?dayjs(t).format("YYYY-MM-DD HH:mm:ss"):"",fixDEAdd=(t,e,i=!0)=>{if(`${t}`=="0")return!parseFloat(e)||!i?"0":"0.".padEnd(e+2,"0");if(!t)return"--";const n=parseFloat(t),s=t.toString(),a=n<0;let l=s;if(s.toLowerCase().includes("e")){const A=s.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/);if(!A)return t.toString();const T=A[1]||"0",q=A[2]||"",et=A[3],xi=parseInt(A[4],10);let Oi="",Ts=q.substring(xi)||"";if(Ts&&(Ts=`.${Ts}`),et!=="-"){for(let Fs=0;Fs<xi;Fs++)Oi+=q[Fs]||"0";l=T+Oi+Ts}else{let Fs="0";for(let qs=0;qs<xi;qs++)Oi=(T[T.length-qs-1]||"0")+Oi;T.length>xi&&(Fs=T.substring(0,T.length-xi)),l=`${Fs}.${Oi}${q}`}}if(e&&i){let A=`${l.split(".")[0]}.`;const T=l.split(".")[1]||"";for(let q=0;q<e;q++)A+=T[q]||"0";l=A}return`${a?"-":""}${l}`};function formatCurrencyInput(t,e=6){try{const i=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${e}})?).*$`);return t.replace(i,"$1")}catch(i){return console.log(" ~ formatCurrencyInput ~ error:",i),""}}const inputValue="abc123.456def",formattedValue=formatCurrencyInput(inputValue,2);console.log(formattedValue);function fromDecimalsAmountFix(t,e){const i=si$2(t,e);return convertScientificToDecimal(i.toString(),Number(e))}function convertScientificToDecimal(t,e=9){if(t===void 0)return"";const i=t==null?void 0:t.toLowerCase();if(i.includes("e")){if(i.includes("+"))return fixDEAdd(i,e);const[n,s]=i.split("e");let a=n;const l=Math.abs(parseInt(s,10));let A="",T=a.length;if(n.includes(".")){const[q,et]=n.split(".");a=q+et,T=q.length}for(let q=0;q<l-T;q++)A+="0";return`0.${A}${a}`.slice(0,e+2)}return t}const removePercentSign=t=>{if(t!=null&&t.includes("%")){const e=t.split("%");return d(e==null?void 0:e[0]).equals("0")?"0":d(e==null?void 0:e[0]).div(100).toString()}return t};function symbolDataDisplayProcessing(t,e="$",i=2,n=!1){if(t==="--")return"--";const s=d(10).pow(-i).toString();return d(t).gt(0)&&d(t).lt(s)?e==="%"?`<${s}${e}`:`<${e}${s}`:e==="%"?n&&d(t).gt(1e6)?`>1,000,000${e}`:`${formatNumberWithDown(t,i)}${e}`:`${e}${formatNumberWithDown(t,i)}`}function cancelBubble(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()}const addressAbridge=(t,e="")=>e=="long"?t&&t.length>40?t.substring(0,40)+"...":t&&t.length<40?t:"":t?t.substring(0,6)+"..."+t.substring(t.length-4):"",sleepTime=async t=>new Promise(e=>{setTimeout(()=>{e(1)},t)});function singleFormat(t){return t.toString().length===1?"0"+t:t}function getYMD(t){const e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return e+"/"+singleFormat(i)+"/"+singleFormat(n)}function getMD(t){const e=t.getMonth()+1,i=t.getDate();return singleFormat(e)+"/"+singleFormat(i)}function getMDY(t){const e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return singleFormat(i)+"/"+singleFormat(n)+"/"+new String(e).slice(2,4)}function getHMS(t){const e=t.getHours(),i=t.getMinutes(),n=t.getSeconds();return singleFormat(e)+":"+singleFormat(i)+":"+singleFormat(n)}function getHM(t){const e=t.getHours(),i=t.getMinutes();return singleFormat(e)+":"+singleFormat(i)}function getTimeZone(t){const i=new Date(t),n=i.getTimezoneOffset()+480;return i.setMinutes(i.getMinutes()+n),i}const timeFormat=(t,e)=>{if(t){const i=getTimeZone(t);switch(e){case"HMS":return getHMS(i);case"MDY":return getMDY(i);case"YMD":return getYMD(i);case"MD":return getMD(i);case"HM":return getHM(i)}}},timeFormatUTC=(t,e)=>{if(t){const i=new Date(t);if(!e)return getYMDUTC(i)+" "+getHMSUTC(i);switch(e){case"HMS":return getHMSUTC(i);case"YMD":return getYMDUTC(i);case"MD":return getMDUTC(i);case"HM":return getHMUTC(i);case"YMDHM":return getYMDUTC(i)+" "+getHMUTC(i);default:return"--"}}};function getYMDUTC(t){const e=t.getUTCFullYear(),i=t.getUTCMonth()+1,n=t.getUTCDate();return e+"-"+singleFormat(i)+"-"+singleFormat(n)}function getMDUTC(t){const e=t.getUTCMonth()+1,i=t.getUTCDate();return singleFormat(e)+"/"+singleFormat(i)}function getHMSUTC(t){const e=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getUTCSeconds();return singleFormat(e)+":"+singleFormat(i)+":"+singleFormat(n)}function getHMUTC(t){const e=t.getUTCHours(),i=t.getUTCMinutes();return singleFormat(e)+":"+singleFormat(i)}const getTimeDifferenceString=t=>{const e=Math.floor(t/1e3),i=Math.floor(new Date().getTime()/1e3),n=60,s=60*n,a=24*s,l=30*a,A=365*a,T=i-e;if(T<n)return"recently";if(T<s){const q=Math.floor(T/n);return q==1?`${q} minute ago`:`${q} minutes ago`}else if(T<a){const q=Math.floor(T/s);return q==1?`${q} hour ago`:`${q} hours ago`}else if(T<l){const q=Math.floor(T/a);return q==1?`${q} day ago`:`${q} days ago`}else if(T<A){const q=Math.floor(T/l);return q==1?`${q} mouth ago`:`${q} mouths ago`}else{const q=Math.floor(T/A);return q==1?`${q} year ago`:`${q} years ago`}};function amountToBN(t,e){if(e===void 0)return new BN(0);if(t===""||d(t).equals(0))return new BN(0);const i=d(t).mul(Math.pow(10,e)).toString();if(d(i).gte(1))return new BN(i);throw Error("amountToBN value lt 1")}function bnToAmount(t,e){return e===void 0?"":d(t==null?void 0:t.toString()).div(Math.pow(10,e)).toString()}function parseOwnerBalanceChanges(t,e,i=!1){var A;const n=t.balanceChanges,s=(A=t.effects)==null?void 0:A.gasUsed,a={};let l="0";return s&&(l=d(s.computationCost).add(s.storageCost).sub(s.storageRebate).mul(-1).toFixed(0)),n&&n.forEach(T=>{const q=ie$2(T.coinType).full_address;if(T.owner.AddressOwner===e){const et=Oe$3.isSuiCoin(q);let xi=T.amount;et&&(xi=i?xi:d(xi).sub(l).toFixed(0));const Oi={coinType:q,amount:xi};a[q]=Oi}}),a}function getBalanceChanges(t,e){if(e){const i=t[ie$2(e.coin_type).full_address];if(console.log(" ~ common.ts:289 ~ getBalanceChanges ~ extractStructTagFromType(coinInfo.coin_type).full_address:",ie$2(e.coin_type).full_address),console.log(" ~ common.ts:291 ~ getBalanceChanges ~ obj:",i),i)return fromDecimalsAmountFix(d(i.amount).abs().toFixed(0),e.decimals)}}function coinMetadataToCoinInfo(t,e){return{id:t.id||void 0,logo_url:t.iconUrl||void 0,coin_type:e,decimals:t.decimals,description:t.description,name:t.name,symbol:t.symbol}}function parsePositionIdFromEvent(t){var a,l;let e,i;const n=(a=t.events)==null?void 0:a.find(A=>A.type.includes("pool::OpenPositionEvent"));n&&(e=n.parsedJson.position);const s=(l=t.events)==null?void 0:l.find(A=>A.type.includes("pool::DepositEvent"));return s&&(i=s.parsedJson.wrapped_position_id),{posId:e,farmsPosId:i}}const isHexColor=t=>/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/i.test(t),isRgbColor=t=>/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/.test(t),isRgbaColor=t=>/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(t),isColorValue=t=>isHexColor(t)||isRgbColor(t)||isRgbaColor(t),isAvailableObject=t=>t===null||typeof t!="object"||Array.isArray(t)?!1:Object.keys(t).length>0,removeComma=t=>(t+"").replace(/,/g,""),formatTimestamp=t=>{const e=new Date(t),i=e.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),n=e.getUTCDate(),s=e.getUTCFullYear();let a=e.getUTCHours();const l=String(e.getUTCMinutes()).padStart(2,"0"),A=a>=12?"PM":"AM";return a=a%12||12,`${i} ${n}, ${s} ${a}:${l} ${A}`};function base64ToUint8Array(t){const e=Buffer$1.from(t,"base64").toString("binary"),i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}const VERIFIED_TOKEN_MAP_KEY="verifiedTokenMap",COLLECT_TOKEN_LIST="collectTokenList",USER_COLLECT_TOKEN_LIST="userCollectTokenList",IMPORT_TOKEN_LIST="importTokenList",LIQUIDITY_TRUST_TOKEN_LIST="liquidityTrustTokenList",IS_WATCH_LIST="isWatchList",IS_ALL_POOLS="isAllPools",IS_INCENTIVIZED_ONLY="isIncentivizedOnly",POOL_FAVORITE_LIST="poolFavoriteList",NOTIFI_SIGNATURE="notifiSignature",textEllipses=(t,e=10)=>t?(t==null?void 0:t.length)>e&&d(e).gt(0)?`${t.slice(0,e)}...`:t:"";var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty$9.call(t,symToStringTag$1),i=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var n=!0}catch{}var s=nativeObjectToString$1.call(t);return n&&(e?t[symToStringTag$1]=i:delete t[symToStringTag$1]),s}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(t){return nativeObjectToString.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString(t)}function isObjectLike(t){return t!=null&&typeof t=="object"}var symbolTag$1="[object Symbol]";function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&baseGetTag(t)==symbolTag$1}function arrayMap(t,e){for(var i=-1,n=t==null?0:t.length,s=Array(n);++i<n;)s[i]=e(t[i],i,t);return s}var isArray$1=Array.isArray,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(t){if(typeof t=="string")return t;if(isArray$1(t))return arrayMap(t,baseToString)+"";if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function isObject$1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function identity(t){return t}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(t){if(!isObject$1(t))return!1;var e=baseGetTag(t);return e==funcTag$1||e==genTag||e==asyncTag||e==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(t){if(t!=null){try{return funcToString$1.call(t)}catch{}try{return t+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){if(!isObject$1(t)||isMasked(t))return!1;var e=isFunction$1(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}function getValue(t,e){return t==null?void 0:t[e]}function getNative(t,e){var i=getValue(t,e);return baseIsNative(i)?i:void 0}var WeakMap$1=getNative(root,"WeakMap");function noop$2(){}function baseFindIndex(t,e,i,n){for(var s=t.length,a=i+-1;++a<s;)if(e(t[a],a,t))return a;return-1}function baseIsNaN(t){return t!==t}function strictIndexOf(t,e,i){for(var n=i-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}function baseIndexOf(t,e,i){return e===e?strictIndexOf(t,e,i):baseFindIndex(t,baseIsNaN,i)}function arrayIncludes(t,e){var i=t==null?0:t.length;return!!i&&baseIndexOf(t,e,0)>-1}var MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){var i=typeof t;return e=e??MAX_SAFE_INTEGER$2,!!e&&(i=="number"||i!="symbol"&&reIsUint.test(t))&&t>-1&&t%1==0&&t<e}function eq(t,e){return t===e||t!==t&&e!==e}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER$1}function isArrayLike(t){return t!=null&&isLength(t.length)&&!isFunction$1(t)}var objectProto$8=Object.prototype;function isPrototype(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||objectProto$8;return t===i}function baseTimes(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var argsTag$2="[object Arguments]";function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&hasOwnProperty$7.call(t,"callee")&&!propertyIsEnumerable$1.call(t,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!typedArrayTags[baseGetTag(t)]}function baseUnary(t){return function(e){return t(e)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var t=freeModule&&freeModule.require&&freeModule.require("util").types;return t||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(t,e){var i=isArray$1(t),n=!i&&isArguments$1(t),s=!i&&!n&&isBuffer$1(t),a=!i&&!n&&!s&&isTypedArray$2(t),l=i||n||s||a,A=l?baseTimes(t.length,String):[],T=A.length;for(var q in t)(e||hasOwnProperty$6.call(t,q))&&!(l&&(q=="length"||s&&(q=="offset"||q=="parent")||a&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||isIndex(q,T)))&&A.push(q);return A}function overArg(t,e){return function(i){return t(e(i))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(t){if(!isPrototype(t))return nativeKeys(t);var e=[];for(var i in Object(t))hasOwnProperty$5.call(t,i)&&i!="constructor"&&e.push(i);return e}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(t,e){if(isArray$1(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||isSymbol(t)?!0:reIsPlainProp.test(t)||!reIsDeepProp.test(t)||e!=null&&t in Object(e)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(t){var e=this.__data__;if(nativeCreate){var i=e[t];return i===HASH_UNDEFINED$2?void 0:i}return hasOwnProperty$4.call(e,t)?e[t]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(t){var e=this.__data__;return nativeCreate?e[t]!==void 0:hasOwnProperty$3.call(e,t)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}function Hash(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(t,e){for(var i=t.length;i--;)if(eq(t[i][0],e))return i;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(t){var e=this.__data__,i=assocIndexOf(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():splice.call(e,i,1),--this.size,!0}function listCacheGet(t){var e=this.__data__,i=assocIndexOf(e,t);return i<0?void 0:e[i][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var i=this.__data__,n=assocIndexOf(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function ListCache(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function getMapData(t,e){var i=t.__data__;return isKeyable(e)?i[typeof e=="string"?"string":"hash"]:i.map}function mapCacheDelete(t){var e=getMapData(this,t).delete(t);return this.size-=e?1:0,e}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){var i=getMapData(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function MapCache(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);var i=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=i.cache;if(a.has(s))return a.get(s);var l=t.apply(this,n);return i.cache=a.set(s,l)||a,l};return i.cache=new(memoize.Cache||MapCache),i}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var e=memoize(t,function(n){return i.size===MAX_MEMOIZE_SIZE&&i.clear(),n}),i=e.cache;return e}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rePropName,function(i,n,s,a){e.push(s?a.replace(reEscapeChar,"$1"):n||i)}),e});function toString$1(t){return t==null?"":baseToString(t)}function castPath(t,e){return isArray$1(t)?t:isKey(t,e)?[t]:stringToPath(toString$1(t))}function toKey(t){if(typeof t=="string"||isSymbol(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function baseGet(t,e){e=castPath(e,t);for(var i=0,n=e.length;t!=null&&i<n;)t=t[toKey(e[i++])];return i&&i==n?t:void 0}function get$1(t,e,i){var n=t==null?void 0:baseGet(t,e);return n===void 0?i:n}function arrayPush(t,e){for(var i=-1,n=e.length,s=t.length;++i<n;)t[s+i]=e[i];return t}function arrayReduce(t,e,i,n){for(var s=-1,a=t==null?0:t.length;++s<a;)i=e(i,t[s],s,t);return i}function basePropertyOf(t){return function(e){return t==null?void 0:t[e]}}var deburredLetters={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},deburrLetter=basePropertyOf(deburredLetters),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsCombo$1="["+rsComboRange$1+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr(t){return t=toString$1(t),t&&t.replace(reLatin,deburrLetter).replace(reComboMark,"")}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords(t){return t.match(reAsciiWord)||[]}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(t){return reHasUnicodeWord.test(t)}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="[']",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(t){return t.match(reUnicodeWord)||[]}function words(t,e,i){return t=toString$1(t),e=e,e===void 0?hasUnicodeWord(t)?unicodeWords(t):asciiWords(t):t.match(e)||[]}var rsApos="[']",reApos=RegExp(rsApos,"g");function createCompounder(t){return function(e){return arrayReduce(words(deburr(e).replace(reApos,"")),t,"")}}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function stackGet(t){return this.__data__.get(t)}function stackHas(t){return this.__data__.has(t)}var LARGE_ARRAY_SIZE$1=200;function stackSet(t,e){var i=this.__data__;if(i instanceof ListCache){var n=i.__data__;if(!Map$1||n.length<LARGE_ARRAY_SIZE$1-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new MapCache(n)}return i.set(t,e),this.size=i.size,this}function Stack(t){var e=this.__data__=new ListCache(t);this.size=e.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(t,e){for(var i=-1,n=t==null?0:t.length,s=0,a=[];++i<n;){var l=t[i];e(l,i,t)&&(a[s++]=l)}return a}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(t){return t==null?[]:(t=Object(t),arrayFilter(nativeGetSymbols(t),function(e){return propertyIsEnumerable.call(t,e)}))}:stubArray;function baseGetAllKeys(t,e,i){var n=e(t);return isArray$1(t)?n:arrayPush(n,i(t))}function getAllKeys(t){return baseGetAllKeys(t,keys,getSymbols)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(t){var e=baseGetTag(t),i=e==objectTag$1?t.constructor:void 0,n=i?toSource(i):"";if(n)switch(n){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return e});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(t){return this.__data__.set(t,HASH_UNDEFINED),this}function setCacheHas(t){return this.__data__.has(t)}function SetCache(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new MapCache;++e<i;)this.add(t[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function cacheHas(t,e){return t.has(e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(t,e,i,n,s,a){var l=i&COMPARE_PARTIAL_FLAG$5,A=t.length,T=e.length;if(A!=T&&!(l&&T>A))return!1;var q=a.get(t),et=a.get(e);if(q&&et)return q==e&&et==t;var xi=-1,Oi=!0,Ts=i&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(a.set(t,e),a.set(e,t);++xi<A;){var Fs=t[xi],qs=e[xi];if(n)var Us=l?n(qs,Fs,xi,e,t,a):n(Fs,qs,xi,t,e,a);if(Us!==void 0){if(Us)continue;Oi=!1;break}if(Ts){if(!arraySome(e,function(Ls,Gs){if(!cacheHas(Ts,Gs)&&(Fs===Ls||s(Fs,Ls,i,n,a)))return Ts.push(Gs)})){Oi=!1;break}}else if(!(Fs===qs||s(Fs,qs,i,n,a))){Oi=!1;break}}return a.delete(t),a.delete(e),Oi}function mapToArray(t){var e=-1,i=Array(t.size);return t.forEach(function(n,s){i[++e]=[s,n]}),i}function setToArray(t){var e=-1,i=Array(t.size);return t.forEach(function(n){i[++e]=n}),i}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(t,e,i,n,s,a,l){switch(i){case dataViewTag:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag:return!(t.byteLength!=e.byteLength||!a(new Uint8Array$1(t),new Uint8Array$1(e)));case boolTag:case dateTag:case numberTag:return eq(+t,+e);case errorTag:return t.name==e.name&&t.message==e.message;case regexpTag:case stringTag:return t==e+"";case mapTag:var A=mapToArray;case setTag:var T=n&COMPARE_PARTIAL_FLAG$4;if(A||(A=setToArray),t.size!=e.size&&!T)return!1;var q=l.get(t);if(q)return q==e;n|=COMPARE_UNORDERED_FLAG$2,l.set(t,e);var et=equalArrays(A(t),A(e),n,s,a,l);return l.delete(t),et;case symbolTag:if(symbolValueOf)return symbolValueOf.call(t)==symbolValueOf.call(e)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(t,e,i,n,s,a){var l=i&COMPARE_PARTIAL_FLAG$3,A=getAllKeys(t),T=A.length,q=getAllKeys(e),et=q.length;if(T!=et&&!l)return!1;for(var xi=T;xi--;){var Oi=A[xi];if(!(l?Oi in e:hasOwnProperty$2.call(e,Oi)))return!1}var Ts=a.get(t),Fs=a.get(e);if(Ts&&Fs)return Ts==e&&Fs==t;var qs=!0;a.set(t,e),a.set(e,t);for(var Us=l;++xi<T;){Oi=A[xi];var Ls=t[Oi],Gs=e[Oi];if(n)var zs=l?n(Gs,Ls,Oi,e,t,a):n(Ls,Gs,Oi,t,e,a);if(!(zs===void 0?Ls===Gs||s(Ls,Gs,i,n,a):zs)){qs=!1;break}Us||(Us=Oi=="constructor")}if(qs&&!Us){var Vs=t.constructor,Zs=e.constructor;Vs!=Zs&&"constructor"in t&&"constructor"in e&&!(typeof Vs=="function"&&Vs instanceof Vs&&typeof Zs=="function"&&Zs instanceof Zs)&&(qs=!1)}return a.delete(t),a.delete(e),qs}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(t,e,i,n,s,a){var l=isArray$1(t),A=isArray$1(e),T=l?arrayTag:getTag(t),q=A?arrayTag:getTag(e);T=T==argsTag?objectTag:T,q=q==argsTag?objectTag:q;var et=T==objectTag,xi=q==objectTag,Oi=T==q;if(Oi&&isBuffer$1(t)){if(!isBuffer$1(e))return!1;l=!0,et=!1}if(Oi&&!et)return a||(a=new Stack),l||isTypedArray$2(t)?equalArrays(t,e,i,n,s,a):equalByTag(t,e,T,i,n,s,a);if(!(i&COMPARE_PARTIAL_FLAG$2)){var Ts=et&&hasOwnProperty$1.call(t,"__wrapped__"),Fs=xi&&hasOwnProperty$1.call(e,"__wrapped__");if(Ts||Fs){var qs=Ts?t.value():t,Us=Fs?e.value():e;return a||(a=new Stack),s(qs,Us,i,n,a)}}return Oi?(a||(a=new Stack),equalObjects(t,e,i,n,s,a)):!1}function baseIsEqual(t,e,i,n,s){return t===e?!0:t==null||e==null||!isObjectLike(t)&&!isObjectLike(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,i,n,baseIsEqual,s)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(t,e,i,n){var s=i.length,a=s;if(t==null)return!a;for(t=Object(t);s--;){var l=i[s];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){l=i[s];var A=l[0],T=t[A],q=l[1];if(l[2]){if(T===void 0&&!(A in t))return!1}else{var et=new Stack,xi;if(!(xi===void 0?baseIsEqual(q,T,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,n,et):xi))return!1}}return!0}function isStrictComparable(t){return t===t&&!isObject$1(t)}function getMatchData(t){for(var e=keys(t),i=e.length;i--;){var n=e[i],s=t[n];e[i]=[n,s,isStrictComparable(s)]}return e}function matchesStrictComparable(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}function baseMatches(t){var e=getMatchData(t);return e.length==1&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(i){return i===t||baseIsMatch(i,t,e)}}function baseHasIn(t,e){return t!=null&&e in Object(t)}function hasPath(t,e,i){e=castPath(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var l=toKey(e[n]);if(!(a=t!=null&&i(t,l)))break;t=t[l]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&isLength(s)&&isIndex(l,s)&&(isArray$1(t)||isArguments$1(t)))}function hasIn(t,e){return t!=null&&hasPath(t,e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(t,e){return isKey(t)&&isStrictComparable(e)?matchesStrictComparable(toKey(t),e):function(i){var n=get$1(i,t);return n===void 0&&n===e?hasIn(i,t):baseIsEqual(e,n,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(t){return function(e){return e==null?void 0:e[t]}}function basePropertyDeep(t){return function(e){return baseGet(e,t)}}function property(t){return isKey(t)?baseProperty(toKey(t)):basePropertyDeep(t)}function baseIteratee(t){return typeof t=="function"?t:t==null?identity:typeof t=="object"?isArray$1(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t):property(t)}function createBaseFor(t){return function(e,i,n){for(var s=-1,a=Object(e),l=n(e),A=l.length;A--;){var T=l[++s];if(i(a[T],T,a)===!1)break}return e}}var baseFor=createBaseFor();function baseForOwn(t,e){return t&&baseFor(t,e,keys)}function createBaseEach(t,e){return function(i,n){if(i==null)return i;if(!isArrayLike(i))return t(i,n);for(var s=i.length,a=-1,l=Object(i);++a<s&&n(l[a],a,l)!==!1;);return i}}var baseEach=createBaseEach(baseForOwn);function baseMap(t,e){var i=-1,n=isArrayLike(t)?Array(t.length):[];return baseEach(t,function(s,a,l){n[++i]=e(s,a,l)}),n}function baseSortBy(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}function compareAscending(t,e){if(t!==e){var i=t!==void 0,n=t===null,s=t===t,a=isSymbol(t),l=e!==void 0,A=e===null,T=e===e,q=isSymbol(e);if(!A&&!q&&!a&&t>e||a&&l&&T&&!A&&!q||n&&l&&T||!i&&T||!s)return 1;if(!n&&!a&&!q&&t<e||q&&i&&s&&!n&&!a||A&&i&&s||!l&&s||!T)return-1}return 0}function compareMultiple(t,e,i){for(var n=-1,s=t.criteria,a=e.criteria,l=s.length,A=i.length;++n<l;){var T=compareAscending(s[n],a[n]);if(T){if(n>=A)return T;var q=i[n];return T*(q=="desc"?-1:1)}}return t.index-e.index}function baseOrderBy(t,e,i){e.length?e=arrayMap(e,function(a){return isArray$1(a)?function(l){return baseGet(l,a.length===1?a[0]:a)}:a}):e=[identity];var n=-1;e=arrayMap(e,baseUnary(baseIteratee));var s=baseMap(t,function(a,l,A){var T=arrayMap(e,function(q){return q(a)});return{criteria:T,index:++n,value:a}});return baseSortBy(s,function(a,l){return compareMultiple(a,l,i)})}function orderBy(t,e,i,n){return t==null?[]:(isArray$1(e)||(e=e==null?[]:[e]),i=i,isArray$1(i)||(i=i==null?[]:[i]),baseOrderBy(t,e,i))}var snakeCase=createCompounder(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}),INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(t){return new Set$1(t)}:noop$2,LARGE_ARRAY_SIZE=200;function baseUniq(t,e,i){var n=-1,s=arrayIncludes,a=t.length,l=!0,A=[],T=A;if(a>=LARGE_ARRAY_SIZE){var q=createSet(t);if(q)return setToArray(q);l=!1,s=cacheHas,T=new SetCache}else T=A;e:for(;++n<a;){var et=t[n],xi=et;if(et=et!==0?et:0,l&&xi===xi){for(var Oi=T.length;Oi--;)if(T[Oi]===xi)continue e;A.push(et)}else s(T,xi,i)||(T!==A&&T.push(xi),A.push(et))}return A}function uniq(t){return t&&t.length?baseUniq(t):[]}const formatToken=t=>{const e={};for(const i in t)if(typeof t[i]!="object"||Array.isArray(t[i])||t[i]===null)e[snakeCase(i)]=t[i];else for(const n in t[i])e[snakeCase(n)]=t[i][n];return e},jc=class jc extends LocalForageService{constructor(){super("CetusSite","variousTokens")}static getInstance(){return jc.instance||(jc.instance=new jc),jc.instance}};Ua(jc,"instance");let VariousTokensTableImpl=jc;const $c=class $c{static async setItem(e,i){return $c.table.setItem(e,i)}static async getItem(e){return $c.table.getItem(e)}static async getAllItems(){return $c.table.getAllItems()}static async removeItem(e){return $c.table.removeItem(e)}static async clear(){return $c.table.clear()}};Ua($c,"table",VariousTokensTableImpl.getInstance());let VariousTokensTable=$c;function Icon(t){const{xlinkHref:e,fontSize:i,svgW:n,svgH:s,boxW:a,boxH:l,variant:A,svgHover:T,svgFill:q,onClick:et,iconCursor:xi="pointer",isActive:Oi,activeColor:Ts,activeHoverColor:Fs,...qs}=t,[Us,Ls]=reactExports.useState(!1),{isApp:Gs}=useWindowWidth(),zs=Zs=>{Gs&&Ls(!0),et&&et(Zs)},Vs=reactExports.useMemo(()=>{const Zs={base:{box:{w:a||i||"20px",h:l||i||"20px",bg:"none",_hover:!Us&&!Gs?{svg:{fill:Oi&&Fs?Fs:T||"text_caption"}}:void 0},svg:{fill:Oi&&Ts?isColorValue(Ts)?Ts:`var(--chakra-colors-${Ts||"text_paragraph"})`:q&&isColorValue(q)?q:`var(--chakra-colors-${q||"text_paragraph"})`,width:n||i||"20px",height:s||i||"20px"}},gray:{box:{w:l||i||"20px",h:l||i||"20px",bg:"none",_hover:!Us&&!Gs?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:n||i||"20px",height:s||i||"20px"}},primary:{box:{w:l||i||"20px",h:l||i||"20px",bg:"none",_hover:!Us&&!Gs?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:n||i||"20px",height:s||i||"20px"}},warning:{box:{w:l||i||"20px",h:l||i||"20px",bg:"none",_hover:!Us&&!Gs?{svg:{fill:"primary_yellow"}}:void 0},svg:{fill:"var(--chakra-colors-primary_yellow)",width:n||i||"20px",height:s||i||"20px"}},error:{box:{w:l||i||"20px",h:l||i||"20px",bg:"none",_hover:!Us&&!Gs?{svg:{fill:"primary_red"}}:void 0},svg:{fill:"var(--chakra-colors-primary_red)",width:n||i||"20px",height:s||i||"20px"}},solid:{box:{bg:"checked_bg",w:a||i||"24px",h:l||i||"24px",borderRadius:"4px",_hover:!Us&&!Gs?{svg:{fill:Oi&&Fs?Fs:T||"text_caption"}}:void 0},svg:{fill:Oi&&Ts?isColorValue(Ts)?Ts:`var(--chakra-colors-${Ts||"text_paragraph"})`:q&&isColorValue(q)?q:`var(--chakra-colors-${q||"text_paragraph"})`,width:n||i||"16px",height:s||i||"16px"}},rectangle:{box:{bg:"card_bg",w:a||i||"28px",h:l||i||"20px",borderRadius:"8px",_hover:!Us&&!Gs?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-primary)",width:n||i||"16px",height:s||i||"16px"}},round:{box:{bg:"card_bg",w:a||i||"20px",h:l||i||"20px",borderRadius:"50%",border:"1px",borderStyle:"solid",borderColor:"var(--chakra-colors-border)",background:"var(--chakra-colors-bg_secondary)",_hover:!Us&&!Gs?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:n||i||"16px",height:s||i||"16px"}}};return A?Zs[A]:Zs.base},[A,n,s,a,l,i,q,T,Oi,Ts,Fs]);return jsxRuntimeExports.jsx(Center,{cursor:xi,...Vs.box,...qs,onClick:zs,children:jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",...Vs.svg,children:jsxRuntimeExports.jsx("use",{xlinkHref:e})})})}function Block({children:t,...e}){return jsxRuntimeExports.jsx(Box,{as:"div",w:"100%",borderRadius:"20px",border:"1px solid",borderColor:"border",bg:"bg_secondary",p:"20px 16px",...e,children:t})}var depsEqual=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=[]),isEqual(t,e)},createDeepCompareEffect=function(t){return function(e,i){var n=reactExports.useRef(),s=reactExports.useRef(0);(i===void 0||!depsEqual(i,n.current))&&(s.current+=1),n.current=i,t(e,[s.current])}};const useDeepCompareEffect=createDeepCompareEffect(reactExports.useEffect);function CetusTooltip({children:t,tooltip:e,placement:i,maxW:n="320px",bodyPadding:s="8px",showTooltip:a=!0}){const{isApp:l}=useWindowWidth();return jsxRuntimeExports.jsxs(Popover,{isLazy:!0,trigger:l?"click":"hover",placement:i,autoFocus:!1,returnFocusOnClose:!1,gutter:4,children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Box,{as:"button",children:t})}),a&&jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(PopoverContent,{w:"fit-content",maxW:n,children:jsxRuntimeExports.jsx(PopoverBody,{p:s,fontSize:"12px",w:"fit-content",children:e})})})]})}const store$b=(t,e)=>({collectList:[],collectObj:{},setCollectList:i=>{t(()=>({collectList:i,collectObj:Object.fromEntries(i.map(n=>[n.coin_type,n]))}))},filterTokenLoading:!1,setFilterTokenLoading:i=>{t(()=>({filterTokenLoading:i}))},filterTokenList:[],setFilterTokenList:i=>{t(()=>({filterTokenList:i}))},importTokenList:[],setImportTokenList:i=>{t(()=>({importTokenList:i}))},liquidityTrustTokenList:[],setLiquidityTrustTokenList:i=>{t(()=>({liquidityTrustTokenList:i}))},isShowImportBtn:!1,setShowImportBtn:i=>{t(()=>({isShowImportBtn:i}))},trustedListLabel:[],setTrustedListLabel:i=>{t(()=>({trustedListLabel:i}))},tokenModalOpacity:1,setTokenModalOpacity:i=>{t(()=>({tokenModalOpacity:i}))},userCollectList:[],userCollectObj:{},setUserCollectList:i=>{t(()=>({userCollectList:i,userCollectObj:Object.fromEntries(i.map(n=>[n.coin_type,n]))}))}}),useTokenSelectStore=create(persist(store$b,{name:"useTokenSelectStore",partialize:t=>{const{importTokenList:e,liquidityTrustTokenList:i}=t;return{importTokenList:e,liquidityTrustTokenList:i}}}));var P$3={env:"mainnet",full_rpc_url:ki$1,burn:{package_id:"0x12d73de9a6bc3cb658ec9dc0fe7de2662be1cea5c76c092fcc3606048cdbac27",published_at:"0xb977b00649d3ab8950bcbbafb01fcf32e2e7718eb3133eff2e48c0cef04b1495",config:{manager_id:"0x1d94aa32518d0cb00f9de6ed60d450c9a2090761f326752ffad06b2e9404f845",clmm_global_config:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",clmm_global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",burn_pool_handle:"0xc9aacf74bd7cc8da8820ae28ca4473b7e01c87be19bc35bf81c9c7311e1b299e"}}},h$1={env:"testnet",full_rpc_url:Fi$1,burn:{package_id:"0x3b494006831b046481c8046910106e2dfbe0d1fa9bc01e41783fb3ff6534ed3a",published_at:"0xaf89f8215c5b07eaac8b77c7745ce62f94cb76ef4bcb854e283f644c519ef43e",config:{manager_id:"0xd04529ef15b7dad6699ee905daca0698858cab49724b2b2a1fc6b1ebc5e474ef",clmm_global_config:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",clmm_global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",burn_pool_handle:"0x20262dac8853ab8f63c98e0b17bfb1c758efc33d0092ac3c5f204dfb7ba81ac5"}}},m$4=class extends Me$4{constructor(e,i,n){super(e,i||"UnknownError",n)}static isBurnErrorCode(e,i){return this.isErrorCode(e,i)}},u$2=(t,e,i)=>{throw e instanceof Error?new m$4(e.message,t,i):new m$4(e,t,i)},_$1=class{static buildBurnPositionNFT(e){var s;let i=e.position.fields,n=`Cetus Burned LP | Pool${(s=i.name.split("Pool"))==null?void 0:s[1]}`;return{id:e.id.id,url:i.url,pool_id:i.pool,coin_type_a:ie$2(i.coin_type_a.fields.name).full_address,coin_type_b:ie$2(i.coin_type_b.fields.name).full_address,description:i.description,name:n,liquidity:i.liquidity,clmm_position_id:i.id.id,clmm_pool_id:i.pool,tick_lower_index:po$1(BigInt(i.tick_lower_index.fields.bits)),tick_upper_index:po$1(BigInt(i.tick_upper_index.fields.bits)),index:i.index,is_lp_burn:!0}}},g$2=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}async getBurnPoolList(){var e,i,n,s,a,l,A,T,q;try{let{burn:et}=this._sdk.sdkOptions,{manager_id:xi}=na(et),Oi=(A=(l=(a=(s=(n=(i=(e=await this._sdk.FullClient.getObject({id:xi,options:{showType:!0,showContent:!0}}))==null?void 0:e.data)==null?void 0:i.content)==null?void 0:n.fields)==null?void 0:s.position)==null?void 0:a.fields)==null?void 0:l.id)==null?void 0:A.id;return(q=(T=await this._sdk.FullClient.getDynamicFieldsByPage(Oi))==null?void 0:T.data)==null?void 0:q.map(Ts=>{var Fs;return(Fs=Ts==null?void 0:Ts.name)==null?void 0:Fs.value})}catch(et){console.log("getBurnPoolList ~ error:",et),u$2("FetchError",et,{[be$5.METHOD_NAME]:"getBurnPoolList"})}}async getPositionHandle(e){let{burn:i}=this._sdk.sdkOptions,{burn_pool_handle:n}=na(i),s=`getPosHandle_${e}`,a=this._sdk.getCache(s);if(a)return a;try{return a=(await this._sdk.FullClient.getDynamicFieldObject({parentId:n,name:{type:"0x2::object::ID",value:e}})).data.content.fields.value.fields.id.id,a&&this._sdk.updateCache(s,a),a}catch(l){u$2("InvalidPoolId",l,{[be$5.METHOD_NAME]:"getPositionHandle",[be$5.REQUEST_PARAMS]:{pool_id:e}})}}async getPoolBurnPositionList(e){var i,n,s;try{let a=await this.getPositionHandle(e);a===void 0&&u$2("InvalidPoolId",`${e} is a invalid pool id, please check it and try another valid pool id`,{[be$5.METHOD_NAME]:"getPositionHandle",[be$5.REQUEST_PARAMS]:{pool_id:e}});let l=(n=(i=await this._sdk.FullClient.getDynamicFieldsByPage(a))==null?void 0:i.data)==null?void 0:n.map(A=>A.objectId);if(l.length>0){let A=(await this._sdk.FullClient.batchGetObjects(l,{showContent:!0})).map(T=>T.data.content.fields.value.fields.burned_position_id);return(s=await this._sdk.FullClient.batchGetObjects(A,{showContent:!0}))==null?void 0:s.map(T=>{var q,et;return _$1.buildBurnPositionNFT((et=(q=T==null?void 0:T.data)==null?void 0:q.content)==null?void 0:et.fields)})}return[]}catch(a){console.log("getPoolBurnPositionList ~ error:",a),u$2("InvalidPoolId",`${e} is a invalid pool id, please check it and try another valid pool id`,{[be$5.METHOD_NAME]:"getPoolBurnPositionList",[be$5.REQUEST_PARAMS]:{pool_id:e}})}}async getBurnPositionList(e){var n,s;let{package_id:i}=this._sdk.sdkOptions.burn;try{return(s=(n=await this._sdk.FullClient.getOwnedObjectsByPage(e,{options:{showType:!0,showContent:!0,showOwner:!0,showDisplay:!0},filter:{MatchAny:[{StructType:`${i}::lp_burn::CetusLPBurnProof`}]}}))==null?void 0:n.data)==null?void 0:s.map(a=>{var l,A;return _$1.buildBurnPositionNFT((A=(l=a==null?void 0:a.data)==null?void 0:l.content)==null?void 0:A.fields)})}catch(a){u$2("InvalidAccountAddress",a,{[be$5.METHOD_NAME]:"getBurnPositionList",[be$5.REQUEST_PARAMS]:{account_address:e}})}}async getBurnPosition(e){var i,n,s,a;try{let l=await this._sdk.FullClient.getObject({id:e,options:{showContent:!0,showType:!0}});return(n=(i=l==null?void 0:l.data)==null?void 0:i.content)!=null&&n.fields?_$1.buildBurnPositionNFT((a=(s=l==null?void 0:l.data)==null?void 0:s.content)==null?void 0:a.fields):null}catch(l){u$2("InvalidPositionId",l,{[be$5.METHOD_NAME]:"getBurnPosition",[be$5.REQUEST_PARAMS]:{pos_id:e}})}}createBurnPayload(e,i){i=i||new Transaction;let n=typeof e.pos_id=="string"?i.object(e.pos_id):e.pos_id,{burn:s}=this._sdk.sdkOptions,{manager_id:a}=na(s),l=`${s.published_at}::lp_burn::burn`;return i.moveCall({target:l,arguments:[i.object(a),i.object(e.pool_id),n],typeArguments:[e.coin_type_a,e.coin_type_b]}),i}createBurnLPV2Payload(e,i){i=i||new Transaction;let n=typeof e=="string"?i.object(e):e,{burn:s}=this._sdk.sdkOptions,{manager_id:a}=na(s),l=`${s.published_at}::lp_burn::burn_lp_v2`,[A]=i.moveCall({target:l,arguments:[i.object(a),n],typeArguments:[]});return A}createCollectFeePayload(e,i){i=i||new Transaction;let{burn:n}=this._sdk.sdkOptions,{manager_id:s,clmm_global_config:a}=na(n),l=`${n.published_at}::lp_burn::collect_fee`,A=i.moveCall({target:l,arguments:[i.object(s),i.object(a),i.object(e.pool_id),i.object(e.pos_id)],typeArguments:[e.coin_type_a,e.coin_type_b]});return i.transferObjects([A[0],A[1]],i.pure.address(e.account)),i}crateCollectRewardPayload(e,i){var T,q;i=i||new Transaction;let{burn:n}=this._sdk.sdkOptions,{manager_id:s,clmm_global_config:a,clmm_global_vault_id:l}=na(n),A=`${n.published_at}::lp_burn::collect_reward`;for(let et=0;et<((T=e.rewarder_coin_types)==null?void 0:T.length);et++){let xi=(q=e.rewarder_coin_types)==null?void 0:q[et],Oi=i.moveCall({target:A,arguments:[i.object(s),i.object(a),i.object(e.pool_id),i.object(e.pos_id),i.object(l),i.object(no$2)],typeArguments:[e.coin_type_a,e.coin_type_b,xi]});i.transferObjects([Oi],i.pure.address(e.account))}return i}createCollectFeesPayload(e,i){i=i||new Transaction;for(let n of e)this.createCollectFeePayload(n,i);return i}crateCollectRewardsPayload(e,i){var T,q;i=i||new Transaction;let{burn:n}=this._sdk.sdkOptions,{manager_id:s,clmm_global_config:a,clmm_global_vault_id:l}=na(n),A=`${n.published_at}::lp_burn::collect_reward`;for(let et=0;et<e.length;et++){let xi=e[et];for(let Oi=0;Oi<((T=xi.rewarder_coin_types)==null?void 0:T.length);Oi++){let Ts=(q=xi.rewarder_coin_types)==null?void 0:q[Oi],Fs=i.moveCall({target:A,arguments:[i.object(s),i.object(a),i.object(xi.pool_id),i.object(xi.pos_id),i.object(l),i.object(no$2)],typeArguments:[xi.coin_type_a,xi.coin_type_b,Ts]});i.transferObjects([Fs],i.pure.address(xi.account))}}return i}},y$3=class Cl extends ur$4{constructor(e){super(e),this._burn=new g$2(this)}get Burn(){return this._burn}static createSDK(e){let{env:i="mainnet"}=e;return i==="mainnet"?Cl.createCustomSDK({...P$3,...e}):Cl.createCustomSDK({...h$1,...e})}static createCustomSDK(e){return new Cl(e)}},nr$3=Object.create,Nn$2=Object.defineProperty,or$3=Object.getOwnPropertyDescriptor,rr$3=Object.getOwnPropertyNames,sr$3=Object.getPrototypeOf,ar$3=Object.prototype.hasOwnProperty,cr$3=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),lr$3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ur$3=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of rr$3(e))!ar$3.call(t,s)&&s!==i&&Nn$2(t,s,{get:()=>e[s],enumerable:!(n=or$3(e,s))||n.enumerable});return t},ne$2=(t,e,i)=>(i=t!=null?nr$3(sr$3(t)):{},ur$3(!t||!t.__esModule?Nn$2(i,"default",{value:t,enumerable:!0}):i,t)),Gt$1=lr$3((t,e)=>{(function(i,n){function s(f,Y){if(!f)throw new Error(Y||"Assertion failed")}function a(f,Y){f.super_=Y;var nt=function(){};nt.prototype=Y.prototype,f.prototype=new nt,f.prototype.constructor=f}function l(f,Y,nt){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((Y==="le"||Y==="be")&&(nt=Y,Y=10),this._init(f||0,Y||10,nt||"be"))}typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var A;try{typeof window<"u"&&typeof window.Buffer<"u"?A=window.Buffer:A=cr$3("buffer").Buffer}catch{}l.isBN=function(f){return f instanceof l?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===l.wordSize&&Array.isArray(f.words)},l.max=function(f,Y){return f.cmp(Y)>0?f:Y},l.min=function(f,Y){return f.cmp(Y)<0?f:Y},l.prototype._init=function(f,Y,nt){if(typeof f=="number")return this._initNumber(f,Y,nt);if(typeof f=="object")return this._initArray(f,Y,nt);Y==="hex"&&(Y=16),s(Y===(Y|0)&&Y>=2&&Y<=36),f=f.toString().replace(/\s+/g,"");var vs=0;f[0]==="-"&&(vs++,this.negative=1),vs<f.length&&(Y===16?this._parseHex(f,vs,nt):(this._parseBase(f,Y,vs),nt==="le"&&this._initArray(this.toArray(),Y,nt)))},l.prototype._initNumber=function(f,Y,nt){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(s(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),nt==="le"&&this._initArray(this.toArray(),Y,nt)},l.prototype._initArray=function(f,Y,nt){if(s(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks,Ds,Bs=0;if(nt==="be")for(vs=f.length-1,ks=0;vs>=0;vs-=3)Ds=f[vs]|f[vs-1]<<8|f[vs-2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);else if(nt==="le")for(vs=0,ks=0;vs<f.length;vs+=3)Ds=f[vs]|f[vs+1]<<8|f[vs+2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);return this._strip()};function T(f,Y){var nt=f.charCodeAt(Y);if(nt>=48&&nt<=57)return nt-48;if(nt>=65&&nt<=70)return nt-55;if(nt>=97&&nt<=102)return nt-87;s(!1,"Invalid character in "+f)}function q(f,Y,nt){var vs=T(f,nt);return nt-1>=Y&&(vs|=T(f,nt-1)<<4),vs}l.prototype._parseHex=function(f,Y,nt){this.length=Math.ceil((f.length-Y)/6),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks=0,Ds=0,Bs;if(nt==="be")for(vs=f.length-1;vs>=Y;vs-=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8;else{var Ms=f.length-Y;for(vs=Ms%2===0?Y+1:Y;vs<f.length;vs+=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8}this._strip()};function et(f,Y,nt,vs){for(var ks=0,Ds=0,Bs=Math.min(f.length,nt),Ms=Y;Ms<Bs;Ms++){var Q=f.charCodeAt(Ms)-48;ks*=vs,Q>=49?Ds=Q-49+10:Q>=17?Ds=Q-17+10:Ds=Q,s(Q>=0&&Ds<vs,"Invalid character"),ks+=Ds}return ks}l.prototype._parseBase=function(f,Y,nt){this.words=[0],this.length=1;for(var vs=0,ks=1;ks<=67108863;ks*=Y)vs++;vs--,ks=ks/Y|0;for(var Ds=f.length-nt,Bs=Ds%vs,Ms=Math.min(Ds,Ds-Bs)+nt,Q=0,$s=nt;$s<Ms;$s+=vs)Q=et(f,$s,$s+vs,Y),this.imuln(ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(Bs!==0){var Ks=1;for(Q=et(f,$s,f.length,Y),$s=0;$s<Bs;$s++)Ks*=Y;this.imuln(Ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},l.prototype.copy=function(f){f.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)f.words[Y]=this.words[Y];f.length=this.length,f.negative=this.negative,f.red=this.red};function xi(f,Y){f.words=Y.words,f.length=Y.length,f.negative=Y.negative,f.red=Y.red}if(l.prototype._move=function(f){xi(f,this)},l.prototype.clone=function(){var f=new l(null);return this.copy(f),f},l.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oi}catch{l.prototype.inspect=Oi}else l.prototype.inspect=Oi;function Oi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Fs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(f,Y){f=f||10,Y=Y|0||1;var nt;if(f===16||f==="hex"){nt="";for(var vs=0,ks=0,Ds=0;Ds<this.length;Ds++){var Bs=this.words[Ds],Ms=((Bs<<vs|ks)&16777215).toString(16);ks=Bs>>>24-vs&16777215,vs+=2,vs>=26&&(vs-=26,Ds--),ks!==0||Ds!==this.length-1?nt=Ts[6-Ms.length]+Ms+nt:nt=Ms+nt}for(ks!==0&&(nt=ks.toString(16)+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}if(f===(f|0)&&f>=2&&f<=36){var Q=Fs[f],$s=qs[f];nt="";var Ks=this.clone();for(Ks.negative=0;!Ks.isZero();){var jo=Ks.modrn($s).toString(f);Ks=Ks.idivn($s),Ks.isZero()?nt=jo+nt:nt=Ts[Q-jo.length]+jo+nt}for(this.isZero()&&(nt="0"+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},l.prototype.toJSON=function(){return this.toString(16,2)},A&&(l.prototype.toBuffer=function(f,Y){return this.toArrayLike(A,f,Y)}),l.prototype.toArray=function(f,Y){return this.toArrayLike(Array,f,Y)};var Us=function(f,Y){return f.allocUnsafe?f.allocUnsafe(Y):new f(Y)};l.prototype.toArrayLike=function(f,Y,nt){this._strip();var vs=this.byteLength(),ks=nt||Math.max(1,vs);s(vs<=ks,"byte array longer than desired length"),s(ks>0,"Requested array length <= 0");var Ds=Us(f,ks),Bs=Y==="le"?"LE":"BE";return this["_toArrayLike"+Bs](Ds,vs),Ds},l.prototype._toArrayLikeLE=function(f,Y){for(var nt=0,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt++]=Bs&255,nt<f.length&&(f[nt++]=Bs>>8&255),nt<f.length&&(f[nt++]=Bs>>16&255),Ds===6?(nt<f.length&&(f[nt++]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt<f.length)for(f[nt++]=vs;nt<f.length;)f[nt++]=0},l.prototype._toArrayLikeBE=function(f,Y){for(var nt=f.length-1,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt--]=Bs&255,nt>=0&&(f[nt--]=Bs>>8&255),nt>=0&&(f[nt--]=Bs>>16&255),Ds===6?(nt>=0&&(f[nt--]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt>=0)for(f[nt--]=vs;nt>=0;)f[nt--]=0},Math.clz32?l.prototype._countBits=function(f){return 32-Math.clz32(f)}:l.prototype._countBits=function(f){var Y=f,nt=0;return Y>=4096&&(nt+=13,Y>>>=13),Y>=64&&(nt+=7,Y>>>=7),Y>=8&&(nt+=4,Y>>>=4),Y>=2&&(nt+=2,Y>>>=2),nt+Y},l.prototype._zeroBits=function(f){if(f===0)return 26;var Y=f,nt=0;return!(Y&8191)&&(nt+=13,Y>>>=13),!(Y&127)&&(nt+=7,Y>>>=7),!(Y&15)&&(nt+=4,Y>>>=4),!(Y&3)&&(nt+=2,Y>>>=2),!(Y&1)&&nt++,nt},l.prototype.bitLength=function(){var f=this.words[this.length-1],Y=this._countBits(f);return(this.length-1)*26+Y};function Ls(f){for(var Y=new Array(f.bitLength()),nt=0;nt<Y.length;nt++){var vs=nt/26|0,ks=nt%26;Y[nt]=f.words[vs]>>>ks&1}return Y}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,Y=0;Y<this.length;Y++){var nt=this._zeroBits(this.words[Y]);if(f+=nt,nt!==26)break}return f},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},l.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var Y=0;Y<f.length;Y++)this.words[Y]=this.words[Y]|f.words[Y];return this._strip()},l.prototype.ior=function(f){return s((this.negative|f.negative)===0),this.iuor(f)},l.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},l.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},l.prototype.iuand=function(f){var Y;this.length>f.length?Y=f:Y=this;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]&f.words[nt];return this.length=Y.length,this._strip()},l.prototype.iand=function(f){return s((this.negative|f.negative)===0),this.iuand(f)},l.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},l.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},l.prototype.iuxor=function(f){var Y,nt;this.length>f.length?(Y=this,nt=f):(Y=f,nt=this);for(var vs=0;vs<nt.length;vs++)this.words[vs]=Y.words[vs]^nt.words[vs];if(this!==Y)for(;vs<Y.length;vs++)this.words[vs]=Y.words[vs];return this.length=Y.length,this._strip()},l.prototype.ixor=function(f){return s((this.negative|f.negative)===0),this.iuxor(f)},l.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},l.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},l.prototype.inotn=function(f){s(typeof f=="number"&&f>=0);var Y=Math.ceil(f/26)|0,nt=f%26;this._expand(Y),nt>0&&Y--;for(var vs=0;vs<Y;vs++)this.words[vs]=~this.words[vs]&67108863;return nt>0&&(this.words[vs]=~this.words[vs]&67108863>>26-nt),this._strip()},l.prototype.notn=function(f){return this.clone().inotn(f)},l.prototype.setn=function(f,Y){s(typeof f=="number"&&f>=0);var nt=f/26|0,vs=f%26;return this._expand(nt+1),Y?this.words[nt]=this.words[nt]|1<<vs:this.words[nt]=this.words[nt]&~(1<<vs),this._strip()},l.prototype.iadd=function(f){var Y;if(this.negative!==0&&f.negative===0)return this.negative=0,Y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,Y=this.isub(f),f.negative=1,Y._normSign();var nt,vs;this.length>f.length?(nt=this,vs=f):(nt=f,vs=this);for(var ks=0,Ds=0;Ds<vs.length;Ds++)Y=(nt.words[Ds]|0)+(vs.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;for(;ks!==0&&Ds<nt.length;Ds++)Y=(nt.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;if(this.length=nt.length,ks!==0)this.words[this.length]=ks,this.length++;else if(nt!==this)for(;Ds<nt.length;Ds++)this.words[Ds]=nt.words[Ds];return this},l.prototype.add=function(f){var Y;return f.negative!==0&&this.negative===0?(f.negative=0,Y=this.sub(f),f.negative^=1,Y):f.negative===0&&this.negative!==0?(this.negative=0,Y=f.sub(this),this.negative=1,Y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},l.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var Y=this.iadd(f);return f.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var nt=this.cmp(f);if(nt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vs,ks;nt>0?(vs=this,ks=f):(vs=f,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)Y=(vs.words[Bs]|0)-(ks.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;for(;Ds!==0&&Bs<vs.length;Bs++)Y=(vs.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;if(Ds===0&&Bs<vs.length&&vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this.length=Math.max(this.length,Bs),vs!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(f){return this.clone().isub(f)};function Gs(f,Y,nt){nt.negative=Y.negative^f.negative;var vs=f.length+Y.length|0;nt.length=vs,vs=vs-1|0;var ks=f.words[0]|0,Ds=Y.words[0]|0,Bs=ks*Ds,Ms=Bs&67108863,Q=Bs/67108864|0;nt.words[0]=Ms;for(var $s=1;$s<vs;$s++){for(var Ks=Q>>>26,jo=Q&67108863,Bo=Math.min($s,Y.length-1),To=Math.max(0,$s-f.length+1);To<=Bo;To++){var Oo=$s-To|0;ks=f.words[Oo]|0,Ds=Y.words[To]|0,Bs=ks*Ds+jo,Ks+=Bs/67108864|0,jo=Bs&67108863}nt.words[$s]=jo|0,Q=Ks|0}return Q!==0?nt.words[$s]=Q|0:nt.length--,nt._strip()}var zs=function(f,Y,nt){var vs=f.words,ks=Y.words,Ds=nt.words,Bs=0,Ms,Q,$s,Ks=vs[0]|0,jo=Ks&8191,Bo=Ks>>>13,To=vs[1]|0,Oo=To&8191,Vo=To>>>13,zo=vs[2]|0,so=zo&8191,Qs=zo>>>13,sa=vs[3]|0,Zo=sa&8191,Qo=sa>>>13,la=vs[4]|0,Ko=la&8191,Jo=la>>>13,aa=vs[5]|0,oa=aa&8191,ua=aa>>>13,Ma=vs[6]|0,da=Ma&8191,fa=Ma>>>13,La=vs[7]|0,ga=La&8191,ha=La>>>13,Ga=vs[8]|0,Aa=Ga&8191,_a=Ga>>>13,Za=vs[9]|0,Ta=Za&8191,ma=Za>>>13,Xa=ks[0]|0,ka=Xa&8191,pa=Xa>>>13,za=ks[1]|0,Ba=za&8191,wa=za>>>13,Ja=ks[2]|0,Oa=Ja&8191,ba=Ja>>>13,eu=ks[3]|0,Ia=eu&8191,xa=eu>>>13,Ya=ks[4]|0,Pa=Ya&8191,$a=Ya>>>13,Qa=ks[5]|0,Da=Qa&8191,va=Qa>>>13,Ka=ks[6]|0,Ra=Ka&8191,ya=Ka>>>13,tu=ks[7]|0,Na=tu&8191,Sa=tu>>>13,ru=ks[8]|0,Fa=ru&8191,Ea=ru>>>13,iu=ks[9]|0,ja=iu&8191,Ca=iu>>>13;nt.negative=f.negative^Y.negative,nt.length=19,Ms=Math.imul(jo,ka),Q=Math.imul(jo,pa),Q=Q+Math.imul(Bo,ka)|0,$s=Math.imul(Bo,pa);var nu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ms=Math.imul(Oo,ka),Q=Math.imul(Oo,pa),Q=Q+Math.imul(Vo,ka)|0,$s=Math.imul(Vo,pa),Ms=Ms+Math.imul(jo,Ba)|0,Q=Q+Math.imul(jo,wa)|0,Q=Q+Math.imul(Bo,Ba)|0,$s=$s+Math.imul(Bo,wa)|0;var ou=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ms=Math.imul(so,ka),Q=Math.imul(so,pa),Q=Q+Math.imul(Qs,ka)|0,$s=Math.imul(Qs,pa),Ms=Ms+Math.imul(Oo,Ba)|0,Q=Q+Math.imul(Oo,wa)|0,Q=Q+Math.imul(Vo,Ba)|0,$s=$s+Math.imul(Vo,wa)|0,Ms=Ms+Math.imul(jo,Oa)|0,Q=Q+Math.imul(jo,ba)|0,Q=Q+Math.imul(Bo,Oa)|0,$s=$s+Math.imul(Bo,ba)|0;var au=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(au>>>26)|0,au&=67108863,Ms=Math.imul(Zo,ka),Q=Math.imul(Zo,pa),Q=Q+Math.imul(Qo,ka)|0,$s=Math.imul(Qo,pa),Ms=Ms+Math.imul(so,Ba)|0,Q=Q+Math.imul(so,wa)|0,Q=Q+Math.imul(Qs,Ba)|0,$s=$s+Math.imul(Qs,wa)|0,Ms=Ms+Math.imul(Oo,Oa)|0,Q=Q+Math.imul(Oo,ba)|0,Q=Q+Math.imul(Vo,Oa)|0,$s=$s+Math.imul(Vo,ba)|0,Ms=Ms+Math.imul(jo,Ia)|0,Q=Q+Math.imul(jo,xa)|0,Q=Q+Math.imul(Bo,Ia)|0,$s=$s+Math.imul(Bo,xa)|0;var uu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ms=Math.imul(Ko,ka),Q=Math.imul(Ko,pa),Q=Q+Math.imul(Jo,ka)|0,$s=Math.imul(Jo,pa),Ms=Ms+Math.imul(Zo,Ba)|0,Q=Q+Math.imul(Zo,wa)|0,Q=Q+Math.imul(Qo,Ba)|0,$s=$s+Math.imul(Qo,wa)|0,Ms=Ms+Math.imul(so,Oa)|0,Q=Q+Math.imul(so,ba)|0,Q=Q+Math.imul(Qs,Oa)|0,$s=$s+Math.imul(Qs,ba)|0,Ms=Ms+Math.imul(Oo,Ia)|0,Q=Q+Math.imul(Oo,xa)|0,Q=Q+Math.imul(Vo,Ia)|0,$s=$s+Math.imul(Vo,xa)|0,Ms=Ms+Math.imul(jo,Pa)|0,Q=Q+Math.imul(jo,$a)|0,Q=Q+Math.imul(Bo,Pa)|0,$s=$s+Math.imul(Bo,$a)|0;var cu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ms=Math.imul(oa,ka),Q=Math.imul(oa,pa),Q=Q+Math.imul(ua,ka)|0,$s=Math.imul(ua,pa),Ms=Ms+Math.imul(Ko,Ba)|0,Q=Q+Math.imul(Ko,wa)|0,Q=Q+Math.imul(Jo,Ba)|0,$s=$s+Math.imul(Jo,wa)|0,Ms=Ms+Math.imul(Zo,Oa)|0,Q=Q+Math.imul(Zo,ba)|0,Q=Q+Math.imul(Qo,Oa)|0,$s=$s+Math.imul(Qo,ba)|0,Ms=Ms+Math.imul(so,Ia)|0,Q=Q+Math.imul(so,xa)|0,Q=Q+Math.imul(Qs,Ia)|0,$s=$s+Math.imul(Qs,xa)|0,Ms=Ms+Math.imul(Oo,Pa)|0,Q=Q+Math.imul(Oo,$a)|0,Q=Q+Math.imul(Vo,Pa)|0,$s=$s+Math.imul(Vo,$a)|0,Ms=Ms+Math.imul(jo,Da)|0,Q=Q+Math.imul(jo,va)|0,Q=Q+Math.imul(Bo,Da)|0,$s=$s+Math.imul(Bo,va)|0;var lu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ms=Math.imul(da,ka),Q=Math.imul(da,pa),Q=Q+Math.imul(fa,ka)|0,$s=Math.imul(fa,pa),Ms=Ms+Math.imul(oa,Ba)|0,Q=Q+Math.imul(oa,wa)|0,Q=Q+Math.imul(ua,Ba)|0,$s=$s+Math.imul(ua,wa)|0,Ms=Ms+Math.imul(Ko,Oa)|0,Q=Q+Math.imul(Ko,ba)|0,Q=Q+Math.imul(Jo,Oa)|0,$s=$s+Math.imul(Jo,ba)|0,Ms=Ms+Math.imul(Zo,Ia)|0,Q=Q+Math.imul(Zo,xa)|0,Q=Q+Math.imul(Qo,Ia)|0,$s=$s+Math.imul(Qo,xa)|0,Ms=Ms+Math.imul(so,Pa)|0,Q=Q+Math.imul(so,$a)|0,Q=Q+Math.imul(Qs,Pa)|0,$s=$s+Math.imul(Qs,$a)|0,Ms=Ms+Math.imul(Oo,Da)|0,Q=Q+Math.imul(Oo,va)|0,Q=Q+Math.imul(Vo,Da)|0,$s=$s+Math.imul(Vo,va)|0,Ms=Ms+Math.imul(jo,Ra)|0,Q=Q+Math.imul(jo,ya)|0,Q=Q+Math.imul(Bo,Ra)|0,$s=$s+Math.imul(Bo,ya)|0;var du=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(du>>>26)|0,du&=67108863,Ms=Math.imul(ga,ka),Q=Math.imul(ga,pa),Q=Q+Math.imul(ha,ka)|0,$s=Math.imul(ha,pa),Ms=Ms+Math.imul(da,Ba)|0,Q=Q+Math.imul(da,wa)|0,Q=Q+Math.imul(fa,Ba)|0,$s=$s+Math.imul(fa,wa)|0,Ms=Ms+Math.imul(oa,Oa)|0,Q=Q+Math.imul(oa,ba)|0,Q=Q+Math.imul(ua,Oa)|0,$s=$s+Math.imul(ua,ba)|0,Ms=Ms+Math.imul(Ko,Ia)|0,Q=Q+Math.imul(Ko,xa)|0,Q=Q+Math.imul(Jo,Ia)|0,$s=$s+Math.imul(Jo,xa)|0,Ms=Ms+Math.imul(Zo,Pa)|0,Q=Q+Math.imul(Zo,$a)|0,Q=Q+Math.imul(Qo,Pa)|0,$s=$s+Math.imul(Qo,$a)|0,Ms=Ms+Math.imul(so,Da)|0,Q=Q+Math.imul(so,va)|0,Q=Q+Math.imul(Qs,Da)|0,$s=$s+Math.imul(Qs,va)|0,Ms=Ms+Math.imul(Oo,Ra)|0,Q=Q+Math.imul(Oo,ya)|0,Q=Q+Math.imul(Vo,Ra)|0,$s=$s+Math.imul(Vo,ya)|0,Ms=Ms+Math.imul(jo,Na)|0,Q=Q+Math.imul(jo,Sa)|0,Q=Q+Math.imul(Bo,Na)|0,$s=$s+Math.imul(Bo,Sa)|0;var fu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ms=Math.imul(Aa,ka),Q=Math.imul(Aa,pa),Q=Q+Math.imul(_a,ka)|0,$s=Math.imul(_a,pa),Ms=Ms+Math.imul(ga,Ba)|0,Q=Q+Math.imul(ga,wa)|0,Q=Q+Math.imul(ha,Ba)|0,$s=$s+Math.imul(ha,wa)|0,Ms=Ms+Math.imul(da,Oa)|0,Q=Q+Math.imul(da,ba)|0,Q=Q+Math.imul(fa,Oa)|0,$s=$s+Math.imul(fa,ba)|0,Ms=Ms+Math.imul(oa,Ia)|0,Q=Q+Math.imul(oa,xa)|0,Q=Q+Math.imul(ua,Ia)|0,$s=$s+Math.imul(ua,xa)|0,Ms=Ms+Math.imul(Ko,Pa)|0,Q=Q+Math.imul(Ko,$a)|0,Q=Q+Math.imul(Jo,Pa)|0,$s=$s+Math.imul(Jo,$a)|0,Ms=Ms+Math.imul(Zo,Da)|0,Q=Q+Math.imul(Zo,va)|0,Q=Q+Math.imul(Qo,Da)|0,$s=$s+Math.imul(Qo,va)|0,Ms=Ms+Math.imul(so,Ra)|0,Q=Q+Math.imul(so,ya)|0,Q=Q+Math.imul(Qs,Ra)|0,$s=$s+Math.imul(Qs,ya)|0,Ms=Ms+Math.imul(Oo,Na)|0,Q=Q+Math.imul(Oo,Sa)|0,Q=Q+Math.imul(Vo,Na)|0,$s=$s+Math.imul(Vo,Sa)|0,Ms=Ms+Math.imul(jo,Fa)|0,Q=Q+Math.imul(jo,Ea)|0,Q=Q+Math.imul(Bo,Fa)|0,$s=$s+Math.imul(Bo,Ea)|0;var hu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ms=Math.imul(Ta,ka),Q=Math.imul(Ta,pa),Q=Q+Math.imul(ma,ka)|0,$s=Math.imul(ma,pa),Ms=Ms+Math.imul(Aa,Ba)|0,Q=Q+Math.imul(Aa,wa)|0,Q=Q+Math.imul(_a,Ba)|0,$s=$s+Math.imul(_a,wa)|0,Ms=Ms+Math.imul(ga,Oa)|0,Q=Q+Math.imul(ga,ba)|0,Q=Q+Math.imul(ha,Oa)|0,$s=$s+Math.imul(ha,ba)|0,Ms=Ms+Math.imul(da,Ia)|0,Q=Q+Math.imul(da,xa)|0,Q=Q+Math.imul(fa,Ia)|0,$s=$s+Math.imul(fa,xa)|0,Ms=Ms+Math.imul(oa,Pa)|0,Q=Q+Math.imul(oa,$a)|0,Q=Q+Math.imul(ua,Pa)|0,$s=$s+Math.imul(ua,$a)|0,Ms=Ms+Math.imul(Ko,Da)|0,Q=Q+Math.imul(Ko,va)|0,Q=Q+Math.imul(Jo,Da)|0,$s=$s+Math.imul(Jo,va)|0,Ms=Ms+Math.imul(Zo,Ra)|0,Q=Q+Math.imul(Zo,ya)|0,Q=Q+Math.imul(Qo,Ra)|0,$s=$s+Math.imul(Qo,ya)|0,Ms=Ms+Math.imul(so,Na)|0,Q=Q+Math.imul(so,Sa)|0,Q=Q+Math.imul(Qs,Na)|0,$s=$s+Math.imul(Qs,Sa)|0,Ms=Ms+Math.imul(Oo,Fa)|0,Q=Q+Math.imul(Oo,Ea)|0,Q=Q+Math.imul(Vo,Fa)|0,$s=$s+Math.imul(Vo,Ea)|0,Ms=Ms+Math.imul(jo,ja)|0,Q=Q+Math.imul(jo,Ca)|0,Q=Q+Math.imul(Bo,ja)|0,$s=$s+Math.imul(Bo,Ca)|0;var pu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ms=Math.imul(Ta,Ba),Q=Math.imul(Ta,wa),Q=Q+Math.imul(ma,Ba)|0,$s=Math.imul(ma,wa),Ms=Ms+Math.imul(Aa,Oa)|0,Q=Q+Math.imul(Aa,ba)|0,Q=Q+Math.imul(_a,Oa)|0,$s=$s+Math.imul(_a,ba)|0,Ms=Ms+Math.imul(ga,Ia)|0,Q=Q+Math.imul(ga,xa)|0,Q=Q+Math.imul(ha,Ia)|0,$s=$s+Math.imul(ha,xa)|0,Ms=Ms+Math.imul(da,Pa)|0,Q=Q+Math.imul(da,$a)|0,Q=Q+Math.imul(fa,Pa)|0,$s=$s+Math.imul(fa,$a)|0,Ms=Ms+Math.imul(oa,Da)|0,Q=Q+Math.imul(oa,va)|0,Q=Q+Math.imul(ua,Da)|0,$s=$s+Math.imul(ua,va)|0,Ms=Ms+Math.imul(Ko,Ra)|0,Q=Q+Math.imul(Ko,ya)|0,Q=Q+Math.imul(Jo,Ra)|0,$s=$s+Math.imul(Jo,ya)|0,Ms=Ms+Math.imul(Zo,Na)|0,Q=Q+Math.imul(Zo,Sa)|0,Q=Q+Math.imul(Qo,Na)|0,$s=$s+Math.imul(Qo,Sa)|0,Ms=Ms+Math.imul(so,Fa)|0,Q=Q+Math.imul(so,Ea)|0,Q=Q+Math.imul(Qs,Fa)|0,$s=$s+Math.imul(Qs,Ea)|0,Ms=Ms+Math.imul(Oo,ja)|0,Q=Q+Math.imul(Oo,Ca)|0,Q=Q+Math.imul(Vo,ja)|0,$s=$s+Math.imul(Vo,Ca)|0;var mu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ms=Math.imul(Ta,Oa),Q=Math.imul(Ta,ba),Q=Q+Math.imul(ma,Oa)|0,$s=Math.imul(ma,ba),Ms=Ms+Math.imul(Aa,Ia)|0,Q=Q+Math.imul(Aa,xa)|0,Q=Q+Math.imul(_a,Ia)|0,$s=$s+Math.imul(_a,xa)|0,Ms=Ms+Math.imul(ga,Pa)|0,Q=Q+Math.imul(ga,$a)|0,Q=Q+Math.imul(ha,Pa)|0,$s=$s+Math.imul(ha,$a)|0,Ms=Ms+Math.imul(da,Da)|0,Q=Q+Math.imul(da,va)|0,Q=Q+Math.imul(fa,Da)|0,$s=$s+Math.imul(fa,va)|0,Ms=Ms+Math.imul(oa,Ra)|0,Q=Q+Math.imul(oa,ya)|0,Q=Q+Math.imul(ua,Ra)|0,$s=$s+Math.imul(ua,ya)|0,Ms=Ms+Math.imul(Ko,Na)|0,Q=Q+Math.imul(Ko,Sa)|0,Q=Q+Math.imul(Jo,Na)|0,$s=$s+Math.imul(Jo,Sa)|0,Ms=Ms+Math.imul(Zo,Fa)|0,Q=Q+Math.imul(Zo,Ea)|0,Q=Q+Math.imul(Qo,Fa)|0,$s=$s+Math.imul(Qo,Ea)|0,Ms=Ms+Math.imul(so,ja)|0,Q=Q+Math.imul(so,Ca)|0,Q=Q+Math.imul(Qs,ja)|0,$s=$s+Math.imul(Qs,Ca)|0;var gu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ms=Math.imul(Ta,Ia),Q=Math.imul(Ta,xa),Q=Q+Math.imul(ma,Ia)|0,$s=Math.imul(ma,xa),Ms=Ms+Math.imul(Aa,Pa)|0,Q=Q+Math.imul(Aa,$a)|0,Q=Q+Math.imul(_a,Pa)|0,$s=$s+Math.imul(_a,$a)|0,Ms=Ms+Math.imul(ga,Da)|0,Q=Q+Math.imul(ga,va)|0,Q=Q+Math.imul(ha,Da)|0,$s=$s+Math.imul(ha,va)|0,Ms=Ms+Math.imul(da,Ra)|0,Q=Q+Math.imul(da,ya)|0,Q=Q+Math.imul(fa,Ra)|0,$s=$s+Math.imul(fa,ya)|0,Ms=Ms+Math.imul(oa,Na)|0,Q=Q+Math.imul(oa,Sa)|0,Q=Q+Math.imul(ua,Na)|0,$s=$s+Math.imul(ua,Sa)|0,Ms=Ms+Math.imul(Ko,Fa)|0,Q=Q+Math.imul(Ko,Ea)|0,Q=Q+Math.imul(Jo,Fa)|0,$s=$s+Math.imul(Jo,Ea)|0,Ms=Ms+Math.imul(Zo,ja)|0,Q=Q+Math.imul(Zo,Ca)|0,Q=Q+Math.imul(Qo,ja)|0,$s=$s+Math.imul(Qo,Ca)|0;var _u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ms=Math.imul(Ta,Pa),Q=Math.imul(Ta,$a),Q=Q+Math.imul(ma,Pa)|0,$s=Math.imul(ma,$a),Ms=Ms+Math.imul(Aa,Da)|0,Q=Q+Math.imul(Aa,va)|0,Q=Q+Math.imul(_a,Da)|0,$s=$s+Math.imul(_a,va)|0,Ms=Ms+Math.imul(ga,Ra)|0,Q=Q+Math.imul(ga,ya)|0,Q=Q+Math.imul(ha,Ra)|0,$s=$s+Math.imul(ha,ya)|0,Ms=Ms+Math.imul(da,Na)|0,Q=Q+Math.imul(da,Sa)|0,Q=Q+Math.imul(fa,Na)|0,$s=$s+Math.imul(fa,Sa)|0,Ms=Ms+Math.imul(oa,Fa)|0,Q=Q+Math.imul(oa,Ea)|0,Q=Q+Math.imul(ua,Fa)|0,$s=$s+Math.imul(ua,Ea)|0,Ms=Ms+Math.imul(Ko,ja)|0,Q=Q+Math.imul(Ko,Ca)|0,Q=Q+Math.imul(Jo,ja)|0,$s=$s+Math.imul(Jo,Ca)|0;var bu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ms=Math.imul(Ta,Da),Q=Math.imul(Ta,va),Q=Q+Math.imul(ma,Da)|0,$s=Math.imul(ma,va),Ms=Ms+Math.imul(Aa,Ra)|0,Q=Q+Math.imul(Aa,ya)|0,Q=Q+Math.imul(_a,Ra)|0,$s=$s+Math.imul(_a,ya)|0,Ms=Ms+Math.imul(ga,Na)|0,Q=Q+Math.imul(ga,Sa)|0,Q=Q+Math.imul(ha,Na)|0,$s=$s+Math.imul(ha,Sa)|0,Ms=Ms+Math.imul(da,Fa)|0,Q=Q+Math.imul(da,Ea)|0,Q=Q+Math.imul(fa,Fa)|0,$s=$s+Math.imul(fa,Ea)|0,Ms=Ms+Math.imul(oa,ja)|0,Q=Q+Math.imul(oa,Ca)|0,Q=Q+Math.imul(ua,ja)|0,$s=$s+Math.imul(ua,Ca)|0;var vu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ms=Math.imul(Ta,Ra),Q=Math.imul(Ta,ya),Q=Q+Math.imul(ma,Ra)|0,$s=Math.imul(ma,ya),Ms=Ms+Math.imul(Aa,Na)|0,Q=Q+Math.imul(Aa,Sa)|0,Q=Q+Math.imul(_a,Na)|0,$s=$s+Math.imul(_a,Sa)|0,Ms=Ms+Math.imul(ga,Fa)|0,Q=Q+Math.imul(ga,Ea)|0,Q=Q+Math.imul(ha,Fa)|0,$s=$s+Math.imul(ha,Ea)|0,Ms=Ms+Math.imul(da,ja)|0,Q=Q+Math.imul(da,Ca)|0,Q=Q+Math.imul(fa,ja)|0,$s=$s+Math.imul(fa,Ca)|0;var yu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ms=Math.imul(Ta,Na),Q=Math.imul(Ta,Sa),Q=Q+Math.imul(ma,Na)|0,$s=Math.imul(ma,Sa),Ms=Ms+Math.imul(Aa,Fa)|0,Q=Q+Math.imul(Aa,Ea)|0,Q=Q+Math.imul(_a,Fa)|0,$s=$s+Math.imul(_a,Ea)|0,Ms=Ms+Math.imul(ga,ja)|0,Q=Q+Math.imul(ga,Ca)|0,Q=Q+Math.imul(ha,ja)|0,$s=$s+Math.imul(ha,Ca)|0;var wu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(wu>>>26)|0,wu&=67108863,Ms=Math.imul(Ta,Fa),Q=Math.imul(Ta,Ea),Q=Q+Math.imul(ma,Fa)|0,$s=Math.imul(ma,Ea),Ms=Ms+Math.imul(Aa,ja)|0,Q=Q+Math.imul(Aa,Ca)|0,Q=Q+Math.imul(_a,ja)|0,$s=$s+Math.imul(_a,Ca)|0;var $u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+($u>>>26)|0,$u&=67108863,Ms=Math.imul(Ta,ja),Q=Math.imul(Ta,Ca),Q=Q+Math.imul(ma,ja)|0,$s=Math.imul(ma,Ca);var Su=(Bs+Ms|0)+((Q&8191)<<13)|0;return Bs=($s+(Q>>>13)|0)+(Su>>>26)|0,Su&=67108863,Ds[0]=nu,Ds[1]=ou,Ds[2]=au,Ds[3]=uu,Ds[4]=cu,Ds[5]=lu,Ds[6]=du,Ds[7]=fu,Ds[8]=hu,Ds[9]=pu,Ds[10]=mu,Ds[11]=gu,Ds[12]=_u,Ds[13]=bu,Ds[14]=vu,Ds[15]=yu,Ds[16]=wu,Ds[17]=$u,Ds[18]=Su,Bs!==0&&(Ds[19]=Bs,nt.length++),nt};Math.imul||(zs=Gs);function Vs(f,Y,nt){nt.negative=Y.negative^f.negative,nt.length=f.length+Y.length;for(var vs=0,ks=0,Ds=0;Ds<nt.length-1;Ds++){var Bs=ks;ks=0;for(var Ms=vs&67108863,Q=Math.min(Ds,Y.length-1),$s=Math.max(0,Ds-f.length+1);$s<=Q;$s++){var Ks=Ds-$s,jo=f.words[Ks]|0,Bo=Y.words[$s]|0,To=jo*Bo,Oo=To&67108863;Bs=Bs+(To/67108864|0)|0,Oo=Oo+Ms|0,Ms=Oo&67108863,Bs=Bs+(Oo>>>26)|0,ks+=Bs>>>26,Bs&=67108863}nt.words[Ds]=Ms,vs=Bs,Bs=ks}return vs!==0?nt.words[Ds]=vs:nt.length--,nt._strip()}function Zs(f,Y,nt){return Vs(f,Y,nt)}l.prototype.mulTo=function(f,Y){var nt,vs=this.length+f.length;return this.length===10&&f.length===10?nt=zs(this,f,Y):vs<63?nt=Gs(this,f,Y):vs<1024?nt=Vs(this,f,Y):nt=Zs(this,f,Y),nt},l.prototype.mul=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),this.mulTo(f,Y)},l.prototype.mulf=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),Zs(this,f,Y)},l.prototype.imul=function(f){return this.clone().mulTo(f,this)},l.prototype.imuln=function(f){var Y=f<0;Y&&(f=-f),s(typeof f=="number"),s(f<67108864);for(var nt=0,vs=0;vs<this.length;vs++){var ks=(this.words[vs]|0)*f,Ds=(ks&67108863)+(nt&67108863);nt>>=26,nt+=ks/67108864|0,nt+=Ds>>>26,this.words[vs]=Ds&67108863}return nt!==0&&(this.words[vs]=nt,this.length++),this.length=f===0?1:this.length,Y?this.ineg():this},l.prototype.muln=function(f){return this.clone().imuln(f)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(f){var Y=Ls(f);if(Y.length===0)return new l(1);for(var nt=this,vs=0;vs<Y.length&&Y[vs]===0;vs++,nt=nt.sqr());if(++vs<Y.length)for(var ks=nt.sqr();vs<Y.length;vs++,ks=ks.sqr())Y[vs]!==0&&(nt=nt.mul(ks));return nt},l.prototype.iushln=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=67108863>>>26-Y<<26-Y,ks;if(Y!==0){var Ds=0;for(ks=0;ks<this.length;ks++){var Bs=this.words[ks]&vs,Ms=(this.words[ks]|0)-Bs<<Y;this.words[ks]=Ms|Ds,Ds=Bs>>>26-Y}Ds&&(this.words[ks]=Ds,this.length++)}if(nt!==0){for(ks=this.length-1;ks>=0;ks--)this.words[ks+nt]=this.words[ks];for(ks=0;ks<nt;ks++)this.words[ks]=0;this.length+=nt}return this._strip()},l.prototype.ishln=function(f){return s(this.negative===0),this.iushln(f)},l.prototype.iushrn=function(f,Y,nt){s(typeof f=="number"&&f>=0);var vs;Y?vs=(Y-Y%26)/26:vs=0;var ks=f%26,Ds=Math.min((f-ks)/26,this.length),Bs=67108863^67108863>>>ks<<ks,Ms=nt;if(vs-=Ds,vs=Math.max(0,vs),Ms){for(var Q=0;Q<Ds;Q++)Ms.words[Q]=this.words[Q];Ms.length=Ds}if(Ds!==0)if(this.length>Ds)for(this.length-=Ds,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Ds];else this.words[0]=0,this.length=1;var $s=0;for(Q=this.length-1;Q>=0&&($s!==0||Q>=vs);Q--){var Ks=this.words[Q]|0;this.words[Q]=$s<<26-ks|Ks>>>ks,$s=Ks&Bs}return Ms&&$s!==0&&(Ms.words[Ms.length++]=$s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(f,Y,nt){return s(this.negative===0),this.iushrn(f,Y,nt)},l.prototype.shln=function(f){return this.clone().ishln(f)},l.prototype.ushln=function(f){return this.clone().iushln(f)},l.prototype.shrn=function(f){return this.clone().ishrn(f)},l.prototype.ushrn=function(f){return this.clone().iushrn(f)},l.prototype.testn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return!1;var ks=this.words[nt];return!!(ks&vs)},l.prototype.imaskn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=nt)return this;if(Y!==0&&nt++,this.length=Math.min(nt,this.length),Y!==0){var vs=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=vs}return this._strip()},l.prototype.maskn=function(f){return this.clone().imaskn(f)},l.prototype.iaddn=function(f){return s(typeof f=="number"),s(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},l.prototype._iaddn=function(f){this.words[0]+=f;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},l.prototype.isubn=function(f){if(s(typeof f=="number"),s(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},l.prototype.addn=function(f){return this.clone().iaddn(f)},l.prototype.subn=function(f){return this.clone().isubn(f)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(f,Y,nt){var vs=f.length+nt,ks;this._expand(vs);var Ds,Bs=0;for(ks=0;ks<f.length;ks++){Ds=(this.words[ks+nt]|0)+Bs;var Ms=(f.words[ks]|0)*Y;Ds-=Ms&67108863,Bs=(Ds>>26)-(Ms/67108864|0),this.words[ks+nt]=Ds&67108863}for(;ks<this.length-nt;ks++)Ds=(this.words[ks+nt]|0)+Bs,Bs=Ds>>26,this.words[ks+nt]=Ds&67108863;if(Bs===0)return this._strip();for(s(Bs===-1),Bs=0,ks=0;ks<this.length;ks++)Ds=-(this.words[ks]|0)+Bs,Bs=Ds>>26,this.words[ks]=Ds&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(f,Y){var nt=this.length-f.length,vs=this.clone(),ks=f,Ds=ks.words[ks.length-1]|0,Bs=this._countBits(Ds);nt=26-Bs,nt!==0&&(ks=ks.ushln(nt),vs.iushln(nt),Ds=ks.words[ks.length-1]|0);var Ms=vs.length-ks.length,Q;if(Y!=="mod"){Q=new l(null),Q.length=Ms+1,Q.words=new Array(Q.length);for(var $s=0;$s<Q.length;$s++)Q.words[$s]=0}var Ks=vs.clone()._ishlnsubmul(ks,1,Ms);Ks.negative===0&&(vs=Ks,Q&&(Q.words[Ms]=1));for(var jo=Ms-1;jo>=0;jo--){var Bo=(vs.words[ks.length+jo]|0)*67108864+(vs.words[ks.length+jo-1]|0);for(Bo=Math.min(Bo/Ds|0,67108863),vs._ishlnsubmul(ks,Bo,jo);vs.negative!==0;)Bo--,vs.negative=0,vs._ishlnsubmul(ks,1,jo),vs.isZero()||(vs.negative^=1);Q&&(Q.words[jo]=Bo)}return Q&&Q._strip(),vs._strip(),Y!=="div"&&nt!==0&&vs.iushrn(nt),{div:Q||null,mod:vs}},l.prototype.divmod=function(f,Y,nt){if(s(!f.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var vs,ks,Ds;return this.negative!==0&&f.negative===0?(Ds=this.neg().divmod(f,Y),Y!=="mod"&&(vs=Ds.div.neg()),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.iadd(f)),{div:vs,mod:ks}):this.negative===0&&f.negative!==0?(Ds=this.divmod(f.neg(),Y),Y!=="mod"&&(vs=Ds.div.neg()),{div:vs,mod:Ds.mod}):this.negative&f.negative?(Ds=this.neg().divmod(f.neg(),Y),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.isub(f)),{div:Ds.div,mod:ks}):f.length>this.length||this.cmp(f)<0?{div:new l(0),mod:this}:f.length===1?Y==="div"?{div:this.divn(f.words[0]),mod:null}:Y==="mod"?{div:null,mod:new l(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new l(this.modrn(f.words[0]))}:this._wordDiv(f,Y)},l.prototype.div=function(f){return this.divmod(f,"div",!1).div},l.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},l.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},l.prototype.divRound=function(f){var Y=this.divmod(f);if(Y.mod.isZero())return Y.div;var nt=Y.div.negative!==0?Y.mod.isub(f):Y.mod,vs=f.ushrn(1),ks=f.andln(1),Ds=nt.cmp(vs);return Ds<0||ks===1&&Ds===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},l.prototype.modrn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=(1<<26)%f,vs=0,ks=this.length-1;ks>=0;ks--)vs=(nt*vs+(this.words[ks]|0))%f;return Y?-vs:vs},l.prototype.modn=function(f){return this.modrn(f)},l.prototype.idivn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=(this.words[vs]|0)+nt*67108864;this.words[vs]=ks/f|0,nt=ks%f}return this._strip(),Y?this.ineg():this},l.prototype.divn=function(f){return this.clone().idivn(f)},l.prototype.egcd=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=new l(0),Bs=new l(1),Ms=0;Y.isEven()&&nt.isEven();)Y.iushrn(1),nt.iushrn(1),++Ms;for(var Q=nt.clone(),$s=Y.clone();!Y.isZero();){for(var Ks=0,jo=1;!(Y.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(Y.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Q),ks.isub($s)),vs.iushrn(1),ks.iushrn(1);for(var Bo=0,To=1;!(nt.words[0]&To)&&Bo<26;++Bo,To<<=1);if(Bo>0)for(nt.iushrn(Bo);Bo-- >0;)(Ds.isOdd()||Bs.isOdd())&&(Ds.iadd(Q),Bs.isub($s)),Ds.iushrn(1),Bs.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(Ds),ks.isub(Bs)):(nt.isub(Y),Ds.isub(vs),Bs.isub(ks))}return{a:Ds,b:Bs,gcd:nt.iushln(Ms)}},l.prototype._invmp=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=nt.clone();Y.cmpn(1)>0&&nt.cmpn(1)>0;){for(var Bs=0,Ms=1;!(Y.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(Y.iushrn(Bs);Bs-- >0;)vs.isOdd()&&vs.iadd(Ds),vs.iushrn(1);for(var Q=0,$s=1;!(nt.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(nt.iushrn(Q);Q-- >0;)ks.isOdd()&&ks.iadd(Ds),ks.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(ks)):(nt.isub(Y),ks.isub(vs))}var Ks;return Y.cmpn(1)===0?Ks=vs:Ks=ks,Ks.cmpn(0)<0&&Ks.iadd(f),Ks},l.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var Y=this.clone(),nt=f.clone();Y.negative=0,nt.negative=0;for(var vs=0;Y.isEven()&&nt.isEven();vs++)Y.iushrn(1),nt.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;nt.isEven();)nt.iushrn(1);var ks=Y.cmp(nt);if(ks<0){var Ds=Y;Y=nt,nt=Ds}else if(ks===0||nt.cmpn(1)===0)break;Y.isub(nt)}while(!0);return nt.iushln(vs)},l.prototype.invm=function(f){return this.egcd(f).a.umod(f)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(f){return this.words[0]&f},l.prototype.bincn=function(f){s(typeof f=="number");var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return this._expand(nt+1),this.words[nt]|=vs,this;for(var ks=vs,Ds=nt;ks!==0&&Ds<this.length;Ds++){var Bs=this.words[Ds]|0;Bs+=ks,ks=Bs>>>26,Bs&=67108863,this.words[Ds]=Bs}return ks!==0&&(this.words[Ds]=ks,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(f){var Y=f<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var nt;if(this.length>1)nt=1;else{Y&&(f=-f),s(f<=67108863,"Number is too big");var vs=this.words[0]|0;nt=vs===f?0:vs<f?-1:1}return this.negative!==0?-nt|0:nt},l.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var Y=this.ucmp(f);return this.negative!==0?-Y|0:Y},l.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var Y=0,nt=this.length-1;nt>=0;nt--){var vs=this.words[nt]|0,ks=f.words[nt]|0;if(vs!==ks){vs<ks?Y=-1:vs>ks&&(Y=1);break}}return Y},l.prototype.gtn=function(f){return this.cmpn(f)===1},l.prototype.gt=function(f){return this.cmp(f)===1},l.prototype.gten=function(f){return this.cmpn(f)>=0},l.prototype.gte=function(f){return this.cmp(f)>=0},l.prototype.ltn=function(f){return this.cmpn(f)===-1},l.prototype.lt=function(f){return this.cmp(f)===-1},l.prototype.lten=function(f){return this.cmpn(f)<=0},l.prototype.lte=function(f){return this.cmp(f)<=0},l.prototype.eqn=function(f){return this.cmpn(f)===0},l.prototype.eq=function(f){return this.cmp(f)===0},l.red=function(f){return new Hs(f)},l.prototype.toRed=function(f){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(f){return this.red=f,this},l.prototype.forceRed=function(f){return s(!this.red,"Already a number in reduction context"),this._forceRed(f)},l.prototype.redAdd=function(f){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},l.prototype.redIAdd=function(f){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},l.prototype.redSub=function(f){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},l.prototype.redISub=function(f){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},l.prototype.redShl=function(f){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},l.prototype.redMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},l.prototype.redIMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(f){return s(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var Js={k256:null,p224:null,p192:null,p25519:null};function xo(f,Y){this.name=f,this.p=new l(Y,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xo.prototype._tmp=function(){var f=new l(null);return f.words=new Array(Math.ceil(this.n/13)),f},xo.prototype.ireduce=function(f){var Y=f,nt;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),nt=Y.bitLength();while(nt>this.n);var vs=nt<this.n?-1:Y.ucmp(this.p);return vs===0?(Y.words[0]=0,Y.length=1):vs>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},xo.prototype.split=function(f,Y){f.iushrn(this.n,0,Y)},xo.prototype.imulK=function(f){return f.imul(this.k)};function Io(){xo.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Io,xo),Io.prototype.split=function(f,Y){for(var nt=4194303,vs=Math.min(f.length,9),ks=0;ks<vs;ks++)Y.words[ks]=f.words[ks];if(Y.length=vs,f.length<=9){f.words[0]=0,f.length=1;return}var Ds=f.words[9];for(Y.words[Y.length++]=Ds&nt,ks=10;ks<f.length;ks++){var Bs=f.words[ks]|0;f.words[ks-10]=(Bs&nt)<<4|Ds>>>22,Ds=Bs}Ds>>>=22,f.words[ks-10]=Ds,Ds===0&&f.length>10?f.length-=10:f.length-=9},Io.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var Y=0,nt=0;nt<f.length;nt++){var vs=f.words[nt]|0;Y+=vs*977,f.words[nt]=Y&67108863,Y=vs*64+(Y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Uo(){xo.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Uo,xo);function Fo(){xo.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Fo,xo);function Ys(){xo.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ys,xo),Ys.prototype.imulK=function(f){for(var Y=0,nt=0;nt<f.length;nt++){var vs=(f.words[nt]|0)*19+Y,ks=vs&67108863;vs>>>=26,f.words[nt]=ks,Y=vs}return Y!==0&&(f.words[f.length++]=Y),f},l._prime=function(f){if(Js[f])return Js[f];var Y;if(f==="k256")Y=new Io;else if(f==="p224")Y=new Uo;else if(f==="p192")Y=new Fo;else if(f==="p25519")Y=new Ys;else throw new Error("Unknown prime "+f);return Js[f]=Y,Y};function Hs(f){if(typeof f=="string"){var Y=l._prime(f);this.m=Y.p,this.prime=Y}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}Hs.prototype._verify1=function(f){s(f.negative===0,"red works only with positives"),s(f.red,"red works only with red numbers")},Hs.prototype._verify2=function(f,Y){s((f.negative|Y.negative)===0,"red works only with positives"),s(f.red&&f.red===Y.red,"red works only with red numbers")},Hs.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(xi(f,f.umod(this.m)._forceRed(this)),f)},Hs.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Hs.prototype.add=function(f,Y){this._verify2(f,Y);var nt=f.add(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt._forceRed(this)},Hs.prototype.iadd=function(f,Y){this._verify2(f,Y);var nt=f.iadd(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt},Hs.prototype.sub=function(f,Y){this._verify2(f,Y);var nt=f.sub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt._forceRed(this)},Hs.prototype.isub=function(f,Y){this._verify2(f,Y);var nt=f.isub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt},Hs.prototype.shl=function(f,Y){return this._verify1(f),this.imod(f.ushln(Y))},Hs.prototype.imul=function(f,Y){return this._verify2(f,Y),this.imod(f.imul(Y))},Hs.prototype.mul=function(f,Y){return this._verify2(f,Y),this.imod(f.mul(Y))},Hs.prototype.isqr=function(f){return this.imul(f,f.clone())},Hs.prototype.sqr=function(f){return this.mul(f,f)},Hs.prototype.sqrt=function(f){if(f.isZero())return f.clone();var Y=this.m.andln(3);if(s(Y%2===1),Y===3){var nt=this.m.add(new l(1)).iushrn(2);return this.pow(f,nt)}for(var vs=this.m.subn(1),ks=0;!vs.isZero()&&vs.andln(1)===0;)ks++,vs.iushrn(1);s(!vs.isZero());var Ds=new l(1).toRed(this),Bs=Ds.redNeg(),Ms=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,Ms).cmp(Bs)!==0;)Q.redIAdd(Bs);for(var $s=this.pow(Q,vs),Ks=this.pow(f,vs.addn(1).iushrn(1)),jo=this.pow(f,vs),Bo=ks;jo.cmp(Ds)!==0;){for(var To=jo,Oo=0;To.cmp(Ds)!==0;Oo++)To=To.redSqr();s(Oo<Bo);var Vo=this.pow($s,new l(1).iushln(Bo-Oo-1));Ks=Ks.redMul(Vo),$s=Vo.redSqr(),jo=jo.redMul($s),Bo=Oo}return Ks},Hs.prototype.invm=function(f){var Y=f._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},Hs.prototype.pow=function(f,Y){if(Y.isZero())return new l(1).toRed(this);if(Y.cmpn(1)===0)return f.clone();var nt=4,vs=new Array(1<<nt);vs[0]=new l(1).toRed(this),vs[1]=f;for(var ks=2;ks<vs.length;ks++)vs[ks]=this.mul(vs[ks-1],f);var Ds=vs[0],Bs=0,Ms=0,Q=Y.bitLength()%26;for(Q===0&&(Q=26),ks=Y.length-1;ks>=0;ks--){for(var $s=Y.words[ks],Ks=Q-1;Ks>=0;Ks--){var jo=$s>>Ks&1;if(Ds!==vs[0]&&(Ds=this.sqr(Ds)),jo===0&&Bs===0){Ms=0;continue}Bs<<=1,Bs|=jo,Ms++,!(Ms!==nt&&(ks!==0||Ks!==0))&&(Ds=this.mul(Ds,vs[Bs]),Ms=0,Bs=0)}Q=26}return Ds},Hs.prototype.convertTo=function(f){var Y=f.umod(this.m);return Y===f?Y.clone():Y},Hs.prototype.convertFrom=function(f){var Y=f.clone();return Y.red=null,Y},l.mont=function(f){return new Ws(f)};function Ws(f){Hs.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ws,Hs),Ws.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Ws.prototype.convertFrom=function(f){var Y=this.imod(f.mul(this.rinv));return Y.red=null,Y},Ws.prototype.imul=function(f,Y){if(f.isZero()||Y.isZero())return f.words[0]=0,f.length=1,f;var nt=f.imul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.mul=function(f,Y){if(f.isZero()||Y.isZero())return new l(0)._forceRed(this);var nt=f.mul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.invm=function(f){var Y=this.imod(f._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(typeof e>"u"||e,t)}),Un$2="3.7.7",dr$3=Un$2,be$4=typeof Buffer$1=="function",jn$2=typeof TextDecoder=="function"?new TextDecoder:void 0,qn$1=typeof TextEncoder=="function"?new TextEncoder:void 0,fr$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ee$2=Array.prototype.slice.call(fr$3),Ze$1=(t=>{let e={};return t.forEach((i,n)=>e[i]=n),e})(Ee$2),_r$3=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Rt$3=String.fromCharCode.bind(String),Dn$1=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),Kn$2=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Wn$2=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),Hn$2=t=>{let e,i,n,s,a="",l=t.length%3;for(let A=0;A<t.length;){if((i=t.charCodeAt(A++))>255||(n=t.charCodeAt(A++))>255||(s=t.charCodeAt(A++))>255)throw new TypeError("invalid character found");e=i<<16|n<<8|s,a+=Ee$2[e>>18&63]+Ee$2[e>>12&63]+Ee$2[e>>6&63]+Ee$2[e&63]}return l?a.slice(0,l-3)+"===".substring(l):a},Gi$2=typeof btoa=="function"?t=>btoa(t):be$4?t=>Buffer$1.from(t,"binary").toString("base64"):Hn$2,Zi$3=be$4?t=>Buffer$1.from(t).toString("base64"):t=>{let e=[];for(let i=0,n=t.length;i<n;i+=4096)e.push(Rt$3.apply(null,t.subarray(i,i+4096)));return Gi$2(e.join(""))},ze$2=(t,e=!1)=>e?Kn$2(Zi$3(t)):Zi$3(t),hr$3=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Rt$3(192|e>>>6)+Rt$3(128|e&63):Rt$3(224|e>>>12&15)+Rt$3(128|e>>>6&63)+Rt$3(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Rt$3(240|e>>>18&7)+Rt$3(128|e>>>12&63)+Rt$3(128|e>>>6&63)+Rt$3(128|e&63)}},pr$3=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Zn$2=t=>t.replace(pr$3,hr$3),Ln$2=be$4?t=>Buffer$1.from(t,"utf8").toString("base64"):qn$1?t=>Zi$3(qn$1.encode(t)):t=>Gi$2(Zn$2(t)),ge$4=(t,e=!1)=>e?Kn$2(Ln$2(t)):Ln$2(t),$n$2=t=>ge$4(t,!0),mr$4=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,gr$3=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),i=e-65536;return Rt$3((i>>>10)+55296)+Rt$3((i&1023)+56320);case 3:return Rt$3((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Rt$3((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},zn$2=t=>t.replace(mr$4,gr$3),Gn$2=t=>{if(t=t.replace(/\s+/g,""),!_r$3.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,i="",n,s;for(let a=0;a<t.length;)e=Ze$1[t.charAt(a++)]<<18|Ze$1[t.charAt(a++)]<<12|(n=Ze$1[t.charAt(a++)])<<6|(s=Ze$1[t.charAt(a++)]),i+=n===64?Rt$3(e>>16&255):s===64?Rt$3(e>>16&255,e>>8&255):Rt$3(e>>16&255,e>>8&255,e&255);return i},Vi$2=typeof atob=="function"?t=>atob(Wn$2(t)):be$4?t=>Buffer$1.from(t,"base64").toString("binary"):Gn$2,Vn$2=be$4?t=>Dn$1(Buffer$1.from(t,"base64")):t=>Dn$1(Vi$2(t).split("").map(e=>e.charCodeAt(0))),Qn$2=t=>Vn$2(Jn$2(t)),br$2=be$4?t=>Buffer$1.from(t,"base64").toString("utf8"):jn$2?t=>jn$2.decode(Vn$2(t)):t=>zn$2(Vi$2(t)),Jn$2=t=>Wn$2(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),zi$2=t=>br$2(Jn$2(t)),wr$3=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},Xn$2=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),Yn$2=function(){let t=(e,i)=>Object.defineProperty(String.prototype,e,Xn$2(i));t("fromBase64",function(){return zi$2(this)}),t("toBase64",function(e){return ge$4(this,e)}),t("toBase64URI",function(){return ge$4(this,!0)}),t("toBase64URL",function(){return ge$4(this,!0)}),t("toUint8Array",function(){return Qn$2(this)})},to$1=function(){let t=(e,i)=>Object.defineProperty(Uint8Array.prototype,e,Xn$2(i));t("toBase64",function(e){return ze$2(this,e)}),t("toBase64URI",function(){return ze$2(this,!0)}),t("toBase64URL",function(){return ze$2(this,!0)})},yr$2=()=>{Yn$2(),to$1()},Ge$2={version:Un$2,VERSION:dr$3,atob:Vi$2,atobPolyfill:Gn$2,btoa:Gi$2,btoaPolyfill:Hn$2,fromBase64:zi$2,toBase64:ge$4,encode:ge$4,encodeURI:$n$2,encodeURL:$n$2,utob:Zn$2,btou:zn$2,decode:zi$2,isValid:wr$3,fromUint8Array:ze$2,toUint8Array:Qn$2,extendString:Yn$2,extendUint8Array:to$1,extendBuiltins:yr$2},eo$1=(t=>(t.InvalidSqrtPriceLimitDirection="InvalidSqrtPriceLimitDirection",t.ZeroTradableAmount="ZeroTradableAmount",t.AmountOutBelowMinimum="AmountOutBelowMinimum",t.AmountInAboveMaximum="AmountInAboveMaximum",t.NextTickNotFound="NextTickNotFound",t.TickArraySequenceInvalid="TickArraySequenceInvalid",t.TickArrayCrossingAboveMax="TickArrayCrossingAboveMax",t.TickArrayIndexNotInitialized="TickArrayIndexNotInitialized",t.ParamsLengthNotEqual="ParamsLengthNotEqual",t))(eo$1||{}),Ve$3=(t=>(t.InvalidTickEvent="InvalidTickEvent",t.InvalidPositionObject="InvalidPositionObject",t.InvalidPositionRewardObject="InvalidPositionRewardObject",t.InvalidParams="InvalidParams",t))(Ve$3||{}),Ne$4=(t=>(t.InvalidCoinTypeSequence="InvalidCoinTypeSequence",t.InvalidTickIndex="InvalidTickIndex",t.InvalidPoolObject="InvalidPoolObject",t.InvalidTickObjectId="InvalidTickObjectId",t.InvalidTickObject="InvalidTickObject",t.InvalidTickFields="InvalidTickFields",t.PoolsNotFound="PoolsNotFound",t.StatsPoolsUrlNotSet="StatsPoolsUrlNotSet",t.FetchError="FetchError",t))(Ne$4||{}),io$1=(t=>(t.NotFoundPartnerObject="NotFoundPartnerObject",t.InvalidPartnerRefFeeFields="InvalidPartnerRefFeeFields",t))(io$1||{}),ye$4=(t=>(t.InvalidConfig="InvalidConfig",t.InvalidConfigHandle="InvalidConfigHandle",t.InvalidSimulateAccount="InvalidSimulateAccount",t))(ye$4||{}),Qi$1=(t=>(t.InvalidSendAddress="InvalidSendAddress",t.InvalidRecipientAddress="InvalidRecipientAddress",t.InvalidRecipientAndAmountLength="InvalidRecipientAndAmountLength",t.InsufficientBalance="InsufficientBalance",t.InvalidTarget="InvalidTarget",t.InvalidTransactionBuilder="InvalidTransactionBuilder",t))(Qi$1||{}),Pr$2=(t=>(t.InvalidCoin="InvalidCoin",t.NotFoundPath="NotFoundPath",t.NoDowngradeNeedParams="NoDowngradeNeedParams",t.InvalidSwapCountUrl="InvalidSwapCountUrl",t.InvalidTransactionBuilder="InvalidTransactionBuilder",t.InvalidServerResponse="InvalidServerResponse",t))(Pr$2||{}),no$1=(t=>(t.InvalidType="InvalidType",t))(no$1||{}),we$3=class extends Me$4{constructor(e,i,n){super(e,i||"UnknownError",n)}static isVaultsErrorCode(e,i){return this.isErrorCode(e,i)}},ve$4=(t,e,i)=>{throw new we$3(e.message,t,i)},E$2=(t,e,i)=>{throw new we$3(e,t,i)},Je$1=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}setTokenListCache(e){let{coin_list_handle:i}=na(this.sdk.sdkOptions.cetus_config),n=`${i}_getCoinConfigs`,s=this.getCache(n),a=s?[...s,...e]:e;this.updateCache(n,a)}async getTokenListByCoinTypes(e){let i={},{coin_list_handle:n}=na(this.sdk.sdkOptions.cetus_config),s=`${n}_getCoinConfigs`,a=this.getCache(s);if(a!==void 0){let A=a;for(let T of e)for(let q of A)if(ai$2(T)===ai$2(q.address)){i[T]=q;continue}}let l=e.filter(A=>i[A]===void 0);for(let A of l){let T=`${A}_metadata`,q=this.getCache(T);if(q!==void 0)i[A]=q;else{let et=await this._sdk.FullClient.getCoinMetadata({coinType:A});if(et){let xi={id:et.id,pyth_id:"",name:et.name,symbol:et.symbol,official_symbol:et.symbol,coingecko_id:"",decimals:et.decimals,project_url:"",logo_url:et.iconUrl,address:A};i[A]=xi,this.updateCache(T,xi,_e$4)}else console.log(`not found ${A}`)}}return i}async getCoinConfigs(e=!1,i=!0){let{coin_list_handle:n}=na(this.sdk.sdkOptions.cetus_config),s=`${n}_getCoinConfigs`,a=this.getCache(s,e);if(a)return a;let l=(await this._sdk.FullClient.getDynamicFieldsByPage(n)).data.map(q=>q.objectId),A=await this._sdk.FullClient.batchGetObjects(l,{showContent:!0}),T=[];return A.forEach(q=>{var xi,Oi;(q.error!=null||((Oi=(xi=q.data)==null?void 0:xi.content)==null?void 0:Oi.dataType)!=="moveObject")&&E$2("FetchError",`when getCoinConfigs get objects error: ${q.error}, please check the rpc and contracts address config.`,{[be$5.METHOD_NAME]:"getCoinConfigs"});let et=this.buildCoinConfig(q,i);this.updateCache(`${n}_${et.address}_getCoinConfig`,et,_e$4),T.push({...et})}),this.updateCache(s,T,_e$4),T}async getCoinConfig(e,i=!1,n=!0){var q,et;let{coin_list_handle:s}=na(this.sdk.sdkOptions.cetus_config),a=`${s}_${e}_getCoinConfig`,l=this.getCache(a,i);if(l)return l;let A=await this._sdk.FullClient.getDynamicFieldObject({parentId:s,name:{type:"0x1::type_name::TypeName",value:{name:Go(e)}}});(A.error!=null||((et=(q=A.data)==null?void 0:q.content)==null?void 0:et.dataType)!=="moveObject")&&E$2("FetchError",`when getCoinConfig get object error: ${A.error}, please check the rpc and contracts address config.`,{[be$5.METHOD_NAME]:"getCoinConfig"});let T=this.buildCoinConfig(A,n);return this.updateCache(a,T,_e$4),T}buildCoinConfig(e,i=!0){let n=Is(e);n=n.value.fields;let s={...n};return s.id=As(e),s.address=ie$2(n.coin_type.fields.name).full_address,n.pyth_id&&(s.pyth_id=normalizeSuiObjectId$1(n.pyth_id)),this.transformExtensions(s,n.extension_fields.fields.contents,i),delete s.coin_type,s}async getClmmPoolConfigs(e=!1,i=!0){let{clmm_pools_handle:n}=na(this.sdk.sdkOptions.cetus_config),s=`${n}_getClmmPoolConfigs`,a=this.getCache(s,e);if(a)return a;let l=(await this._sdk.FullClient.getDynamicFieldsByPage(n)).data.map(q=>q.objectId),A=await this._sdk.FullClient.batchGetObjects(l,{showContent:!0}),T=[];return A.forEach(q=>{var xi,Oi;(q.error!=null||((Oi=(xi=q.data)==null?void 0:xi.content)==null?void 0:Oi.dataType)!=="moveObject")&&E$2("FetchError",`when getClmmPoolsConfigs get objects error: ${q.error}, please check the rpc and contracts address config.`,{[be$5.METHOD_NAME]:"getClmmPoolConfigs"});let et=this.buildClmmPoolConfig(q,i);this.updateCache(`${et.pool_address}_getClmmPoolConfig`,et,_e$4),T.push({...et})}),this.updateCache(s,T,_e$4),T}async getClmmPoolConfig(e,i=!1,n=!0){let{clmm_pools_handle:s}=na(this.sdk.sdkOptions.cetus_config),a=`${e}_getClmmPoolConfig`,l=this.getCache(a,i);if(l)return l;let A=await this._sdk.FullClient.getDynamicFieldObject({parentId:s,name:{type:"address",value:e}}),T=this.buildClmmPoolConfig(A,n);return this.updateCache(a,T,_e$4),T}buildClmmPoolConfig(e,i=!0){let n=Is(e);n=n.value.fields;let s={...n};return s.id=As(e),s.pool_address=normalizeSuiObjectId$1(n.pool_address),this.transformExtensions(s,n.extension_fields.fields.contents,i),s}async getLaunchpadPoolConfigs(e=!1,i=!0){let{launchpad_pools_handle:n}=na(this.sdk.sdkOptions.cetus_config),s=`${n}_getLaunchpadPoolConfigs`,a=this.getCache(s,e);if(a)return a;let l=(await this._sdk.FullClient.getDynamicFieldsByPage(n)).data.map(q=>q.objectId),A=await this._sdk.FullClient.batchGetObjects(l,{showContent:!0}),T=[];return A.forEach(q=>{var xi,Oi;(q.error!=null||((Oi=(xi=q.data)==null?void 0:xi.content)==null?void 0:Oi.dataType)!=="moveObject")&&E$2("FetchError",`when getCoinConfigs get objects error: ${q.error}, please check the rpc and contracts address config.`,{[be$5.METHOD_NAME]:"getLaunchpadPoolConfigs"});let et=this.buildLaunchpadPoolConfig(q,i);this.updateCache(`${et.pool_address}_getLaunchpadPoolConfig`,et,_e$4),T.push({...et})}),this.updateCache(s,T,_e$4),T}async getLaunchpadPoolConfig(e,i=!1,n=!0){let{launchpad_pools_handle:s}=na(this.sdk.sdkOptions.cetus_config),a=`${e}_getLaunchpadPoolConfig`,l=this.getCache(a,i);if(l)return l;let A=await this._sdk.FullClient.getDynamicFieldObject({parentId:s,name:{type:"address",value:e}}),T=this.buildLaunchpadPoolConfig(A,n);return this.updateCache(a,T,_e$4),T}buildLaunchpadPoolConfig(e,i=!0){let n=Is(e);n=n.value.fields;let s={...n};s.id=As(e),s.pool_address=normalizeSuiObjectId$1(n.pool_address),this.transformExtensions(s,n.extension_fields.fields.contents,i);let a=[];n.social_media.fields.contents.forEach(l=>{a.push({name:l.fields.value.fields.name,link:l.fields.value.fields.link})}),s.social_media=a;try{s.regulation=decodeURIComponent(Ge$2.decode(s.regulation).replace(/%/g,"%25"))}catch{s.regulation=Ge$2.decode(s.regulation)}return s}transformExtensions(e,i,n=!0){let s=[];for(let a of i){let{key:l}=a.fields,{value:A}=a.fields;if(l==="labels")try{let T=decodeURIComponent(Ge$2.decode(A));try{A=JSON.parse(T)}catch{A=T}}catch{}n&&(e[l]=A),s.push({key:l,value:A})}delete e.extension_fields,n||(e.extensions=s)}async getCetusConfig(e=!1){let i=this._sdk.sdkOptions.cetus_config.package_id,n=`${i}_getCetusConfig`,s=this.getCache(n,e);if(s!==void 0)return s;let a=await this._sdk.FullClient.getObject({id:i,options:{showPreviousTransaction:!0}}),l=Os(a),A=await this._sdk.FullClient.queryEventsByPage({Transaction:l}),T={coin_list_id:"",launchpad_pools_id:"",clmm_pools_id:"",admin_cap_id:"",global_config_id:"",coin_list_handle:"",launchpad_pools_handle:"",clmm_pools_handle:""};if(A.data.length>0)for(let q of A.data)switch(ie$2(q.type).name){case"InitCoinListEvent":T.coin_list_id=q.parsedJson.coin_list_id;break;case"InitLaunchpadPoolsEvent":T.launchpad_pools_id=q.parsedJson.launchpad_pools_id;break;case"InitClmmPoolsEvent":T.clmm_pools_id=q.parsedJson.pools_id;break;case"InitConfigEvent":T.global_config_id=q.parsedJson.global_config_id,T.admin_cap_id=q.parsedJson.admin_cap_id;break}return T=await this.getCetusConfigHandle(T),T.clmm_pools_id.length>0&&this.updateCache(n,T,_e$4),T}async getCetusConfigHandle(e){let i=[e.clmm_pools_id,e.coin_list_id,e.launchpad_pools_id];return(await this._sdk.FullClient.multiGetObjects({ids:i,options:{showContent:!0}})).forEach(n=>{var l,A;(n.error!=null||((A=(l=n.data)==null?void 0:l.content)==null?void 0:A.dataType)!=="moveObject")&&E$2("InvalidConfigHandle",`when getCetusConfigHandle get objects error: ${n.error}, please check the rpc and contracts address config.`,{[be$5.METHOD_NAME]:"getCetusConfigHandle"});let s=Is(n),a=Es(n);switch(ie$2(a).name){case"ClmmPools":e.clmm_pools_handle=s.pools.fields.id.id;break;case"CoinList":e.coin_list_handle=s.coins.fields.id.id;break;case"LaunchpadPools":e.launchpad_pools_handle=s.pools.fields.id.id;break}}),e}updateCache(e,i,n=fo$1){let s=this._cache[e];s?(s.overdue_time=fe$3(n),s.value=i):s=new ue$3(i,fe$3(n)),this._cache[e]=s}getCache(e,i=!1){try{let n=this._cache[e];if(!n)return;if(i||!n.isValid()){delete this._cache[e];return}return n.value}catch(n){console.error(`Error accessing cache for key ${e}:`,n);return}}},Ho=ne$2(Gt$1()),ao="partner",qe$3="pool_script",Vt$5="pool_script_v2",Xe$2="pool_script_v3",Ye="router",co="router_with_partner",Qt$4="fetcher_script",lo$1="utils",Kt$3=ne$2(Gt$1()),uo=(t=>(t.Deleted="Deleted",t.Exists="Exists",t.NotExists="NotExists",t))(uo||{}),fo=["RemoveLiquidityEvent","SwapEvent","AddLiquidityEvent"],Bt$2=ne$2(Gt$1()),Ro=ne$2(Gt$1()),So=ne$2(Gt$1()),Pe$3=9e15,de$2=1e9,en$1="0123456789abcdef",ii$2="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ni$1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",nn$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:Pe$3,crypto:!1},mo,oe$2,N=!0,ri$1="[DecimalError] ",ue$2=ri$1+"Invalid argument: ",go=ri$1+"Precision limit exceeded",bo=ri$1+"crypto unavailable",wo="[object Decimal]",Ft$1=Math.floor,It$3=Math.pow,xr$2=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Sr$2=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ir$2=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,yo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ht$3=1e7,F$2=7,Rr$2=9007199254740991,Or$2=ii$2.length-1,on$1=ni$1.length-1,k$1={toStringTag:wo};k$1.absoluteValue=k$1.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),O(t)};k$1.ceil=function(){return O(new this.constructor(this),this.e+1,2)};k$1.clampedTo=k$1.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(ue$2+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};k$1.comparedTo=k$1.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};k$1.cosine=k$1.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+F$2,n.rounding=1,i=Fr$2(n,ko(n,i)),n.precision=t,n.rounding=e,O(oe$2==2||oe$2==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};k$1.cubeRoot=k$1.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(N=!1,a=et.s*It$3(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=Ot$1(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=It$3(i,1/3),t=Ft$1((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=Z$1(q.plus(et).times(A),q.plus(T),l+2,1),Ot$1(A.d).slice(0,l)===(i=Ot$1(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(O(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(O(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return N=!0,O(n,t,xi.rounding,e)};k$1.decimalPlaces=k$1.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-Ft$1(this.e/F$2))*F$2,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};k$1.dividedBy=k$1.div=function(t){return Z$1(this,new this.constructor(t))};k$1.dividedToIntegerBy=k$1.divToInt=function(t){var e=this,i=e.constructor;return O(Z$1(e,new i(t),0,1,1),i.precision,i.rounding)};k$1.equals=k$1.eq=function(t){return this.cmp(t)===0};k$1.floor=function(){return O(new this.constructor(this),this.e+1,3)};k$1.greaterThan=k$1.gt=function(t){return this.cmp(t)>0};k$1.greaterThanOrEqualTo=k$1.gte=function(t){var e=this.cmp(t);return e==1||e===0};k$1.hyperbolicCosine=k$1.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/ai$1(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=Ce$2(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return O(a,l.precision=i,l.rounding=n,!0)};k$1.hyperbolicSine=k$1.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=Ce$2(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/ai$1(5,t)),s=Ce$2(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,O(s,e,i,!0)};k$1.hyperbolicTangent=k$1.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Z$1(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};k$1.inverseCosine=k$1.acos=function(){var t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,s=e.rounding;return i!==-1?i===0?t.isNeg()?Jt$2(e,n,s):new e(0):new e(NaN):t.isZero()?Jt$2(e,n+4,s).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=s,t.times(2))};k$1.inverseHyperbolicCosine=k$1.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,N=!1,i=i.times(i).minus(1).sqrt().plus(i),N=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};k$1.inverseHyperbolicSine=k$1.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,N=!1,i=i.times(i).plus(1).sqrt().plus(i),N=!0,n.precision=t,n.rounding=e,i.ln())};k$1.inverseHyperbolicTangent=k$1.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?O(new a(s),t,e,!0):(a.precision=i=n-s.e,s=Z$1(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};k$1.inverseSine=k$1.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=Jt$2(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};k$1.inverseTangent=k$1.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=on$1)return l=Jt$2(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=on$1)return l=Jt$2(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/F$2+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(N=!1,e=Math.ceil(A/F$2),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),N=!0,O(l,et.precision=xi,et.rounding=Oi,!0)};k$1.isFinite=function(){return!!this.d};k$1.isInteger=k$1.isInt=function(){return!!this.d&&Ft$1(this.e/F$2)>this.d.length-2};k$1.isNaN=function(){return!this.s};k$1.isNegative=k$1.isNeg=function(){return this.s<0};k$1.isPositive=k$1.isPos=function(){return this.s>0};k$1.isZero=function(){return!!this.d&&this.d[0]===0};k$1.lessThan=k$1.lt=function(t){return this.cmp(t)<0};k$1.lessThanOrEqualTo=k$1.lte=function(t){return this.cmp(t)<1};k$1.logarithm=k$1.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(N=!1,A=xi+Ts,l=le$3(q,A),n=e?oi$2(et,A+10):le$3(t,A),T=Z$1(l,n,A,1),De$3(T.d,s=xi,Oi))do if(A+=10,l=le$3(q,A),n=e?oi$2(et,A+10):le$3(t,A),T=Z$1(l,n,A,1),!a){+Ot$1(T.d).slice(s+1,s+15)+1==1e14&&(T=O(T,xi+1,0));break}while(De$3(T.d,s+=10,Oi));return N=!0,O(T,xi,Oi)};k$1.minus=k$1.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return N?O(t,A,T):t}if(i=Ft$1(t.e/F$2),et=Ft$1(Ts.e/F$2),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/F$2),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=Ht$3-1;--q[s],q[n]+=Ht$3}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=si$1(q,i),N?O(t,A,T):t):new Fs(T===3?-0:0)};k$1.modulo=k$1.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?O(new n(i),n.precision,n.rounding):(N=!1,n.modulo==9?(e=Z$1(i,t.abs(),0,3,1),e.s*=t.s):e=Z$1(i,t,0,n.modulo,1),e=e.times(t),N=!0,i.minus(e))};k$1.naturalExponential=k$1.exp=function(){return rn$1(this)};k$1.naturalLogarithm=k$1.ln=function(){return le$3(this)};k$1.negated=k$1.neg=function(){var t=new this.constructor(this);return t.s=-t.s,O(t)};k$1.plus=k$1.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),N?O(t,A,T):t;if(a=Ft$1(xi.e/F$2),n=Ft$1(t.e/F$2),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/F$2),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/Ht$3|0,q[s]%=Ht$3;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=si$1(q,n),N?O(t,A,T):t};k$1.precision=k$1.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ue$2+t);return i.d?(e=vo(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};k$1.round=function(){var t=this,e=t.constructor;return O(new e(t),t.e+1,e.rounding)};k$1.sine=k$1.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+F$2,n.rounding=1,i=Er$2(n,ko(n,i)),n.precision=t,n.rounding=e,O(oe$2>2?i.neg():i,t,e,!0)):new n(NaN)};k$1.squareRoot=k$1.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(N=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=Ot$1(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=Ft$1((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus(Z$1(l,a,i+2,1)).times(.5),Ot$1(a.d).slice(0,i)===(e=Ot$1(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(O(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(O(n,T+1,1),t=!n.times(n).eq(l));break}return N=!0,O(n,T,et.rounding,t)};k$1.tangent=k$1.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=Z$1(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,O(oe$2==2||oe$2==4?i.neg():i,t,e,!0)):new n(NaN)};k$1.times=k$1.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=Ft$1(et.e/F$2)+Ft$1(t.e/F$2),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%Ht$3|0,e=A/Ht$3|0;a[s]=(a[s]+e)%Ht$3|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=si$1(a,i),N?O(t,xi.precision,xi.rounding):t};k$1.toBinary=function(t,e){return sn$1(this,2,t,e)};k$1.toDecimalPlaces=k$1.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(Nt$1(t,0,de$2),e===void 0?e=n.rounding:Nt$1(e,0,8),O(i,t+i.e+1,e))};k$1.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Xt$4(n,!0):(Nt$1(t,0,de$2),e===void 0?e=s.rounding:Nt$1(e,0,8),n=O(new s(n),t+1,e),i=Xt$4(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};k$1.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=Xt$4(s):(Nt$1(t,0,de$2),e===void 0?e=a.rounding:Nt$1(e,0,8),n=O(new a(s),t+s.e+1,e),i=Xt$4(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};k$1.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=vo(Fs)-Ts.e-1,l=a%F$2,e.d[0]=It$3(10,l<0?F$2+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error(ue$2+A);t=A.gt(e)?a>0?e:q:A}for(N=!1,A=new qs(Ot$1(Fs)),et=qs.precision,qs.precision=a=Fs.length*F$2*2;xi=Z$1(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=Z$1(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=Z$1(q,n,a,1).minus(Ts).abs().cmp(Z$1(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,N=!0,Oi};k$1.toHexadecimal=k$1.toHex=function(t,e){return sn$1(this,16,t,e)};k$1.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Nt$1(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(N=!1,i=Z$1(i,t,0,e,1).times(t),N=!0,O(i)):(t.s=i.s,i=t),i};k$1.toNumber=function(){return+this};k$1.toOctal=function(t,e){return sn$1(this,8,t,e)};k$1.toPower=k$1.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(It$3(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return O(A,n,a);if(e=Ft$1(t.e/F$2),e>=t.d.length-1&&(i=q<0?-q:q)<=Rr$2)return s=Po(T,A,i,n),t.s<0?new T(1).div(s):O(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(!(t.d[e]&1)&&(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=It$3(+A,q),e=i==0||!isFinite(i)?Ft$1(q*(Math.log("0."+Ot$1(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(N=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=rn$1(t.times(le$3(A,n+i)),n),s.d&&(s=O(s,n+5,1),De$3(s.d,n,a)&&(e=n+10,s=O(rn$1(t.times(le$3(A,e+i)),e),e+5,1),+Ot$1(s.d).slice(n+1,n+15)+1==1e14&&(s=O(s,n+1,0)))),s.s=l,N=!0,T.rounding=a,O(s,n,a))};k$1.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Xt$4(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(Nt$1(t,1,de$2),e===void 0?e=s.rounding:Nt$1(e,0,8),n=O(new s(n),t,e),i=Xt$4(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};k$1.toSignificantDigits=k$1.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Nt$1(t,1,de$2),e===void 0?e=n.rounding:Nt$1(e,0,8)),O(new n(i),t,e)};k$1.toString=function(){var t=this,e=t.constructor,i=Xt$4(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};k$1.truncated=k$1.trunc=function(){return O(new this.constructor(this),this.e+1,1)};k$1.valueOf=k$1.toJSON=function(){var t=this,e=t.constructor,i=Xt$4(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function Ot$1(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=F$2-n.length,i&&(a+=ce$2(i)),a+=n;l=t[e],n=l+"",i=F$2-n.length,i&&(a+=ce$2(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function Nt$1(t,e,i){if(t!==~~t||t<e||t>i)throw Error(ue$2+t)}function De$3(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=F$2,s=0):(s=Math.ceil((e+1)/F$2),e%=F$2),a=It$3(10,F$2-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==It$3(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==It$3(10,e-3)-1,l}function ti$1(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=en$1.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function Fr$2(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/ai$1(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=Ce$2(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var Z$1=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=Ht$3,Ts=F$2,et=Ft$1(n.e/Ts)-Ft$1(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,mo=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,O(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function O(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=F$2,l=e,et=xi[Oi=0],T=et/It$3(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/F$2),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=F$2,l=a-F$2+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=F$2,l=a-F$2+s,T=l<0?0:et/It$3(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%It$3(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/It$3(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=It$3(10,(F$2-e%F$2)%F$2),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=It$3(10,F$2-a),xi[Oi]=l>0?(et/It$3(10,s-l)%It$3(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==Ht$3&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=Ht$3)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return N&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function Xt$4(t,e,i){if(!t.isFinite())return Mo(t);var n,s=t.e,a=Ot$1(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+ce$2(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+ce$2(-s-1)+a,i&&(n=i-l)>0&&(a+=ce$2(n))):s>=l?(a+=ce$2(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+ce$2(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=ce$2(n))),a}function si$1(t,e){var i=t[0];for(e*=F$2;i>=10;i/=10)e++;return e}function oi$2(t,e,i){if(e>Or$2)throw N=!0,i&&(t.precision=i),Error(go);return O(new t(ii$2),e,1,!0)}function Jt$2(t,e,i){if(e>on$1)throw Error(go);return O(new t(ni$1),e,i,!0)}function vo(t){var e=t.length-1,i=e*F$2+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function ce$2(t){for(var e="";t--;)e+="0";return e}function Po(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/F$2+4);for(N=!1;;){if(i%2&&(a=a.times(e),ho$1(a.d,l)&&(s=!0)),i=Ft$1(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),ho$1(e.d,l)}return N=!0,a}function _o(t){return t.d[t.d.length-1]&1}function Co(t,e,i){for(var n,s,a=new t(e[0]),l=0;++l<e.length;){if(s=new t(e[l]),!s.s){a=s;break}n=a.cmp(s),(n===i||n===0&&a.s===i)&&(a=s)}return a}function rn$1(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(N=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(It$3(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=O(a.times(t),T,1),i=i.times(++et),A=l.plus(Z$1(a,i,T,1)),Ot$1(A.d).slice(0,T)===Ot$1(l.d).slice(0,T)){for(s=xi;s--;)l=O(l.times(l),T,1);if(e==null)if(q<3&&De$3(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return O(l,Oi.precision=Fs,Ts,N=!0);else return Oi.precision=Fs,l}l=A}}function le$3(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(N=!1,et=zs):et=e,Ls.precision=et+=Fs,i=Ot$1(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=Ot$1(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=oi$2(Ls,et+2,zs).times(a+""),qs=le$3(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?O(qs,zs,Gs,N=!0):qs;for(xi=qs,T=l=qs=Z$1(qs.minus(1),qs.plus(1),et,1),Oi=O(qs.times(qs),et,1),s=3;;){if(l=O(l.times(Oi),et,1),q=T.plus(Z$1(l,new Ls(s),et,1)),Ot$1(q.d).slice(0,et)===Ot$1(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(oi$2(Ls,et+2,zs).times(a+""))),T=Z$1(T,new Ls(Ts),et,1),e==null)if(De$3(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=Z$1(xi.minus(1),xi.plus(1),et,1),Oi=O(qs.times(qs),et,1),s=A=1;else return O(T,Ls.precision=zs,Gs,N=!0);else return Ls.precision=zs,T;T=q,s+=2}}function Mo(t){return String(t.s*t.s/0)}function ei$3(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%F$2,i<0&&(n+=F$2),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=F$2;n<s;)t.d.push(+e.slice(n,n+=F$2));e=e.slice(n),n=F$2-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),N&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Br$2(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),yo.test(e))return ei$3(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Sr$2.test(e))i=16,e=e.toLowerCase();else if(xr$2.test(e))i=2;else if(Ir$2.test(e))i=8;else throw Error(ue$2+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=Po(n,new n(i),a,a*2)),q=ti$1(e,i,Ht$3),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=si$1(q,et),t.d=q,N=!1,l&&(t=Z$1(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?It$3(2,T):Le$2.pow(2,T))),N=!0,t)}function Er$2(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:Ce$2(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/ai$1(5,i)),e=Ce$2(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function Ce$2(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/F$2);for(N=!1,T=i.times(i),A=new t(n);;){if(l=Z$1(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=Z$1(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return N=!0,l.d.length=et+1,l}function ai$1(t,e){for(var i=t;--e;)i*=t;return i}function ko(t,e){var i,n=e.s<0,s=Jt$2(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return oe$2=n?4:1,e;if(i=e.divToInt(s),i.isZero())oe$2=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return oe$2=_o(i)?n?2:3:n?4:1,e;oe$2=_o(i)?n?1:4:n?3:2}return e.minus(s).abs()}function sn$1(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(Nt$1(i,1,de$2),n===void 0?n=Ts.rounding:Nt$1(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=Mo(t);else{for(et=Xt$4(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=ti$1(Xt$4(Oi),10,s),Oi.e=Oi.d.length),xi=ti$1(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=Z$1(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=mo),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=en$1.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=ti$1(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=en$1.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function ho$1(t,e){if(t.length>e)return t.length=e,!0}function Nr$2(t){return new this(t).abs()}function jr$2(t){return new this(t).acos()}function qr$2(t){return new this(t).acosh()}function Dr$2(t,e){return new this(t).plus(e)}function Lr$2(t){return new this(t).asin()}function $r$1(t){return new this(t).asinh()}function Ur$2(t){return new this(t).atan()}function Kr$2(t){return new this(t).atanh()}function Wr$2(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=Jt$2(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?Jt$2(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=Jt$2(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan(Z$1(t,e,a,1)),e=Jt$2(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(Z$1(t,e,a,1)),i}function Hr$2(t){return new this(t).cbrt()}function Zr$2(t){return O(t=new this(t),t.e+1,2)}function zr$2(t,e,i){return new this(t).clamp(e,i)}function Gr$1(t){if(!t||typeof t!="object")throw Error(ri$1+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,de$2,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,Pe$3,"maxE",0,Pe$3,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=nn$1[i]),(n=t[i])!==void 0)if(Ft$1(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error(ue$2+i+": "+n);if(i="crypto",s&&(this[i]=nn$1[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(bo);else this[i]=!1;else throw Error(ue$2+i+": "+n);return this}function Vr$1(t){return new this(t).cos()}function Qr$2(t){return new this(t).cosh()}function Ao(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,po(a)){q.s=a.s,N?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;N?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return ei$3(q,a.toString())}if(T==="string")return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),yo.test(a)?ei$3(q,a):Br$2(q,a);if(T==="bigint")return a<0?(a=-a,q.s=-1):q.s=1,ei$3(q,a.toString());throw Error(ue$2+a)}if(s.prototype=k$1,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Gr$1,s.clone=Ao,s.isDecimal=po,s.abs=Nr$2,s.acos=jr$2,s.acosh=qr$2,s.add=Dr$2,s.asin=Lr$2,s.asinh=$r$1,s.atan=Ur$2,s.atanh=Kr$2,s.atan2=Wr$2,s.cbrt=Hr$2,s.ceil=Zr$2,s.clamp=zr$2,s.cos=Vr$1,s.cosh=Qr$2,s.div=Jr$1,s.exp=Xr$1,s.floor=Yr$1,s.hypot=ts,s.ln=es,s.log=is,s.log10=os,s.log2=ns,s.max=rs,s.min=ss,s.mod=as,s.mul=cs,s.pow=ls,s.random=us,s.round=ds,s.sign=fs,s.sin=_s,s.sinh=hs,s.sqrt=ps,s.sub=ms,s.sum=gs,s.tan=bs,s.tanh=ws$1,s.trunc=ys,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function Jr$1(t,e){return new this(t).div(e)}function Xr$1(t){return new this(t).exp()}function Yr$1(t){return O(t=new this(t),t.e+1,3)}function ts(){var t,e,i=new this(0);for(N=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return N=!0,new this(1/0);i=e}return N=!0,i.sqrt()}function po(t){return t instanceof Le$2||t&&t.toStringTag===wo||!1}function es(t){return new this(t).ln()}function is(t,e){return new this(t).log(e)}function ns(t){return new this(t).log(2)}function os(t){return new this(t).log(10)}function rs(){return Co(this,arguments,-1)}function ss(){return Co(this,arguments,1)}function as(t,e){return new this(t).mod(e)}function cs(t,e){return new this(t).mul(e)}function ls(t,e){return new this(t).pow(e)}function us(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:Nt$1(t,1,de$2),n=Math.ceil(t/F$2),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(bo);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=F$2,n&&t&&(s=It$3(10,F$2-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=F$2)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<F$2&&(i-=F$2-n)}return l.e=i,l.d=A,l}function ds(t){return O(t=new this(t),t.e+1,this.rounding)}function fs(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function _s(t){return new this(t).sin()}function hs(t){return new this(t).sinh()}function ps(t){return new this(t).sqrt()}function ms(t,e){return new this(t).sub(e)}function gs(){var t=0,e=arguments,i=new this(e[t]);for(N=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return N=!0,O(i,this.precision,this.rounding)}function bs(t){return new this(t).tan()}function ws$1(t){return new this(t).tanh()}function ys(t){return O(t=new this(t),t.e+1,1)}k$1[Symbol.for("nodejs.util.inspect.custom")]=k$1.toString;k$1[Symbol.toStringTag]="Decimal";var Le$2=k$1.constructor=Ao(nn$1);ii$2=new Le$2(ii$2);ni$1=new Le$2(ni$1);var I$2=Le$2;function Me$3(t){let e=Oe$3.isSuiCoin(t.coin_type_a),i=Oe$3.isSuiCoin(t.coin_type_b);return{is_adjust_coin_a:e,is_adjust_coin_b:i}}function Cs(t,e){return I$2.ceil(I$2(t).div(1+e)).toString()}var $t$3=class{static createCollectRewarderAndFeeParams(e,i,n,s,a,l){a===void 0&&(a=[...s]),l===void 0&&(l=[...s]);let A=ai$2(n.coin_type_a),T=ai$2(n.coin_type_b);if(n.collect_fee){let et=Oe$3.buildCoinForAmount(i,a,BigInt(0),A,!1);a=et.remain_coins;let xi=Oe$3.buildCoinForAmount(i,l,BigInt(0),T,!1);l=xi.remain_coins,i=e.Position.createCollectFeePayload({pool_id:n.pool_id,pos_id:n.pos_id,coin_type_a:n.coin_type_a,coin_type_b:n.coin_type_b},i,et.target_coin,xi.target_coin)}let q=[];return n.rewarder_coin_types.forEach(et=>{switch(ai$2(et)){case A:q.push(Oe$3.buildCoinForAmount(i,a,BigInt(0),et,!1).target_coin);break;case T:q.push(Oe$3.buildCoinForAmount(i,l,BigInt(0),et,!1).target_coin);break;default:q.push(Oe$3.buildCoinForAmount(i,s,BigInt(0),et,!1).target_coin);break}}),i=e.Rewarder.createCollectRewarderPayload(n,i,q),i}static async adjustTransactionForGas(e,i,n,s){s.setSender(e.getSenderAddress());let a=Oe$3.selectCoinAssetGreaterThanOrEqual(i,n).selected_coins,l=Oe$3.calculateTotalBalance(i);if(a.length===0&&E$2("InsufficientBalance",`Insufficient balance exceed amount ${n} real amount ${l}`),l-n>1e9)return{fixAmount:n};let A=await e.FullClient.calculationTxGas(Transaction.from(s));if(Oe$3.selectCoinAssetGreaterThanOrEqual(i,BigInt(A),a.map(T=>T.coin_object_id)).selected_coins.length===0){let T=BigInt(A)+BigInt(500);if(l-n<T){n-=T,n<0&&E$2("InsufficientBalance","gas Insufficient balance");let q=new Transaction;return{fixAmount:n,newTx:q}}}return{fixAmount:n}}static async buildAddLiquidityFixTokenForGas(e,i,n,s,a,l,A){a=await this.buildAddLiquidityFixToken(e,i,n,a,l,A);let{is_adjust_coin_a:T}=Me$3(n),q=T?n.amount_a:n.amount_b,et=await this.adjustTransactionForGas(e,Oe$3.getCoinAssets(T?n.coin_type_a:n.coin_type_b,i),BigInt(q),a),{fixAmount:xi}=et,{newTx:Oi}=et;if(Oi!=null){let Ts,Fs;if(T)n.amount_a=Number(xi),Ts=this.buildAddLiquidityFixTokenCoinInput(Oi,!n.fix_amount_a,xi.toString(),n.slippage,n.coin_type_a,i,!1,!0),Fs=this.buildAddLiquidityFixTokenCoinInput(Oi,n.fix_amount_a,n.amount_b,n.slippage,n.coin_type_b,i,!1,!0);else return n.amount_b=Number(xi),Ts=this.buildAddLiquidityFixTokenCoinInput(Oi,!n.fix_amount_a,n.amount_a,n.slippage,n.coin_type_a,i,!1,!0),Fs=this.buildAddLiquidityFixTokenCoinInput(Oi,n.fix_amount_a,xi.toString(),n.slippage,n.coin_type_b,i,!1,!0),n=this.fixAddLiquidityFixTokenParams(n,s.slippage,s.cur_sqrt_price),a=await this.buildAddLiquidityFixTokenArgs(Oi,e,i,n,Ts,Fs),a}return a}static async buildAddLiquidityFixToken(e,i,n,s,a,l){s=s||new Transaction;let A,T;return a==null||l==null?(A=this.buildAddLiquidityFixTokenCoinInput(s,!n.fix_amount_a,n.amount_a,n.slippage,n.coin_type_a,i,!1,!0),T=this.buildAddLiquidityFixTokenCoinInput(s,n.fix_amount_a,n.amount_b,n.slippage,n.coin_type_b,i,!1,!0)):(A={target_coin:a,remain_coins:[],is_mint_zero_coin:!1,target_coin_amount:"0",selected_coins:[]},T={target_coin:l,remain_coins:[],is_mint_zero_coin:!1,target_coin_amount:"0",selected_coins:[]}),s=this.buildAddLiquidityFixTokenArgs(s,e,i,n,A,T),s}static buildAddLiquidityFixTokenCoinInput(e,i,n,s,a,l,A=!0,T=!0){return i?Oe$3.buildCoinForAmountInterval(e,l,{amount_second:BigInt(Cs(n,s)),amount_first:BigInt(n)},a,A,T):Oe$3.buildCoinForAmount(e,l,BigInt(n),a,A,T)}static fixAddLiquidityFixTokenParams(e,i,n){let s=e.fix_amount_a?e.amount_a:e.amount_b,a=mr$5.estLiquidityAndCoinAmountFromOneAmounts(Number(e.tick_lower),Number(e.tick_upper),new So.default(s),e.fix_amount_a,!0,i,n);return e.amount_a=e.fix_amount_a?e.amount_a:a.coin_amount_limit_a,e.amount_b=e.fix_amount_a?a.coin_amount_limit_b:e.amount_b,e}static buildAddLiquidityFixTokenArgs(e,i,n,s,a,l){let A=[s.coin_type_a,s.coin_type_b],T=s.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:q,integrate:et}=i.sdkOptions;s.is_open||(e=this.createCollectRewarderAndFeeParams(i,e,s,n,a.remain_coins,l.remain_coins));let xi=na(q),Oi=s.is_open?[e.object(xi.global_config_id),e.object(s.pool_id),e.pure.u32(Number(mo$1(BigInt(s.tick_lower)).toString())),e.pure.u32(Number(mo$1(BigInt(s.tick_upper)).toString())),a.target_coin,l.target_coin,e.pure.u64(s.amount_a),e.pure.u64(s.amount_b),e.pure.bool(s.fix_amount_a),e.object(no$2)]:[e.object(xi.global_config_id),e.object(s.pool_id),e.object(s.pos_id),a.target_coin,l.target_coin,e.pure.u64(s.amount_a),e.pure.u64(s.amount_b),e.pure.bool(s.fix_amount_a),e.object(no$2)];return e.moveCall({target:`${et.published_at}::${Vt$5}::${T}`,typeArguments:A,arguments:Oi}),e}static checkCoinThreshold(e,i,n,s,a,l){i&&n.moveCall({target:`${e.sdkOptions.integrate.published_at}::${Ye}::check_coin_threshold`,typeArguments:[l],arguments:[s,n.pure.u64(a)]})}},Yt$2=class yc{static getDefaultSqrtPriceLimit(e){return new Ro.default(e?ae$1:se$2)}static getDefaultOtherAmountThreshold(e){return e?z$1:ve$5}static async buildSwapTransactionForGas(e,i,n,s){let a=this.buildSwapTransaction(e,i,n);a.setSender(e.getSenderAddress());let l=await this.adjustTransactionForGas(e,Oe$3.getCoinAssets(i.a2b?i.coin_type_a:i.coin_type_b,n),BigInt(i.by_amount_in?i.amount:i.amount_limit),a),{fixAmount:A,newTx:T}=l;if(T!==void 0){T.setSender(e.getSenderAddress()),i.by_amount_in?i.amount=A.toString():i.amount_limit=A.toString(),i=await this.fixSwapParams(e,i,s);let q=Oe$3.buildCoinForAmount(a,n,i.a2b?BigInt(i.by_amount_in?i.amount:i.amount_limit):BigInt(0),i.coin_type_a),et=Oe$3.buildCoinForAmount(a,n,i.a2b?BigInt(0):BigInt(i.by_amount_in?i.amount:i.amount_limit),i.coin_type_b);a=this.buildSwapTransactionArgs(T,i,e.sdkOptions,q,et)}return a}static buildSwapTransactionArgs(e,i,n,s,a){let{clmm_pool:l,integrate:A}=n,T=yc.getDefaultSqrtPriceLimit(i.a2b),q=[i.coin_type_a,i.coin_type_b],{global_config_id:et}=na(l);et===void 0&&E$2("InvalidConfig","clmm.config.global_config_id is undefined");let xi=i.swap_partner!==void 0,Oi=xi?i.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":i.a2b?"swap_a2b":"swap_b2a",Ts=xi?[e.object(et),e.object(i.pool_id),e.object(i.swap_partner),s.target_coin,a.target_coin,e.pure.bool(i.by_amount_in),e.pure.u64(i.amount),e.pure.u64(i.amount_limit),e.pure.u128(T.toString()),e.object(no$2)]:[e.object(et),e.object(i.pool_id),s.target_coin,a.target_coin,e.pure.bool(i.by_amount_in),e.pure.u64(i.amount),e.pure.u64(i.amount_limit),e.pure.u128(T.toString()),e.object(no$2)];return e.moveCall({target:`${A.published_at}::${Vt$5}::${Oi}`,typeArguments:q,arguments:Ts}),e}static async adjustTransactionForGas(e,i,n,s){s.setSender(e.getSenderAddress());let a=Oe$3.selectCoinAssetGreaterThanOrEqual(i,n).selected_coins,l=Oe$3.calculateTotalBalance(i);if(a.length===0&&E$2("InsufficientBalance",`Insufficient balance exceed amount ${n} real amount ${l}`),l-n>1e9)return{fixAmount:n};let A=await e.FullClient.calculationTxGas(s);if(Oe$3.selectCoinAssetGreaterThanOrEqual(i,BigInt(A),a.map(T=>T.coin_object_id)).selected_coins.length===0){let T=BigInt(A)+BigInt(500);if(l-n<T){n-=T,n<0&&E$2("InsufficientBalance","gas Insufficient balance");let q=new Transaction;return{fixAmount:n,newTx:q}}}return{fixAmount:n}}static buildSwapTransaction(e,i,n){let s=new Transaction;s.setSender(e.getSenderAddress());let a=Oe$3.buildCoinForAmount(s,n,i.a2b?BigInt(i.by_amount_in?i.amount:i.amount_limit):BigInt(0),i.coin_type_a,!1),l=Oe$3.buildCoinForAmount(s,n,i.a2b?BigInt(0):BigInt(i.by_amount_in?i.amount:i.amount_limit),i.coin_type_b,!1);return s=this.buildSwapTransactionArgs(s,i,e.sdkOptions,a,l),s}static async fixSwapParams(e,i,n){let{current_pool:s}=n;try{let a=await e.Swap.preSwap({decimals_a:n.decimals_a,decimals_b:n.decimals_b,a2b:i.a2b,by_amount_in:i.by_amount_in,amount:i.amount,pool:s,current_sqrt_price:s.current_sqrt_price,coin_type_a:s.coin_type_a,coin_type_b:s.coin_type_b}),l=n.by_amount_in?a.estimated_amount_out:a.estimated_amount_in,A=wr$4(l,n.slippage,!n.by_amount_in);i.amount_limit=A.toString()}catch(a){ve$4("InvalidConfig",a)}return i}static async buildSwapTransactionWithoutTransferCoinsForGas(e,i,n,s){let{tx:a,coin_ab_s:l}=yc.buildSwapTransactionWithoutTransferCoins(e,i,n);a.setSender(e.getSenderAddress());let A=await yc.adjustTransactionForGas(e,Oe$3.getCoinAssets(i.a2b?i.coin_type_a:i.coin_type_b,n),BigInt(i.by_amount_in?i.amount:i.amount_limit),a),{fixAmount:T,newTx:q}=A;if(q!==void 0){q.setSender(e.getSenderAddress()),i.by_amount_in?i.amount=T.toString():i.amount_limit=T.toString(),i=await yc.fixSwapParams(e,i,s);let et=Oe$3.buildCoinForAmount(a,n,i.a2b?BigInt(i.by_amount_in?i.amount:i.amount_limit):BigInt(0),i.coin_type_a,!1,!0),xi=Oe$3.buildCoinForAmount(a,n,i.a2b?BigInt(0):BigInt(i.by_amount_in?i.amount:i.amount_limit),i.coin_type_b,!1,!0),Oi=yc.buildSwapTransactionWithoutTransferCoinArgs(e,q,i,e.sdkOptions,et,xi);a=Oi.tx,l=Oi.txRes}return{tx:a,coin_ab_s:l}}static buildSwapTransactionWithoutTransferCoins(e,i,n){let s=new Transaction;s.setSender(e.getSenderAddress());let a=Oe$3.buildCoinForAmount(s,n,i.a2b?BigInt(i.by_amount_in?i.amount:i.amount_limit):BigInt(0),i.coin_type_a,!1,!0),l=Oe$3.buildCoinForAmount(s,n,i.a2b?BigInt(0):BigInt(i.by_amount_in?i.amount:i.amount_limit),i.coin_type_b,!1,!0),A=yc.buildSwapTransactionWithoutTransferCoinArgs(e,s,i,e.sdkOptions,a,l);return{tx:A.tx,coin_ab_s:A.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(e,i,n,s,a,l){let{clmm_pool:A,integrate:T}=s,q=yc.getDefaultSqrtPriceLimit(n.a2b),{global_config_id:et}=na(A);et===void 0&&E$2("InvalidConfig","clmm.config.global_config_id is undefined");let xi=n.swap_partner!==void 0,Oi=xi?"swap_with_partner":"swap",Ts=xi?co:Ye,Fs=xi?[i.object(et),i.object(n.pool_id),i.object(n.swap_partner),a.target_coin,l.target_coin,i.pure.bool(n.a2b),i.pure.bool(n.by_amount_in),i.pure.u64(n.amount),i.pure.u128(q.toString()),i.pure.bool(!1),i.object(no$2)]:[i.object(et),i.object(n.pool_id),a.target_coin,l.target_coin,i.pure.bool(n.a2b),i.pure.bool(n.by_amount_in),i.pure.u64(n.amount),i.pure.u128(q.toString()),i.pure.bool(!1),i.object(no$2)],qs=[n.coin_type_a,n.coin_type_b],Us=i.moveCall({target:`${T.published_at}::${Ts}::${Oi}`,typeArguments:qs,arguments:Fs});if(n.by_amount_in){let Ls=n.a2b?n.coin_type_b:n.coin_type_a,Gs=n.a2b?Us[1]:Us[0],zs=Number(n.amount_limit);$t$3.checkCoinThreshold(e,n.by_amount_in,i,Gs,zs,Ls)}return{tx:i,txRes:Us}}};function Eo(t){return{coin_type_a:t.coin_type_a,coin_type_b:t.coin_type_b,current_sqrt_price:new Bt$2.default(t.current_sqrt_price),current_tick_index:t.current_tick_index,fee_growth_global_a:new Bt$2.default(t.fee_growth_global_a),fee_growth_global_b:new Bt$2.default(t.fee_growth_global_b),fee_protocol_coin_a:new Bt$2.default(t.fee_protocol_coin_a),fee_protocol_coin_b:new Bt$2.default(t.fee_protocol_coin_b),fee_rate:new Bt$2.default(t.fee_rate),liquidity:new Bt$2.default(t.liquidity),tick_indexes:[],tick_spacing:Number(t.tick_spacing),ticks:[],collection_name:""}}function Rs(t,e,i,n,s,a){if(i===z$1)return{amount_in:z$1,amount_out:z$1,next_sqrt_price:e,fee_amount:z$1};let l=t.gte(e),A,T,q,et;if(a){let xi=kt$1.checkMulDivFloor(n,kt$1.checkUnsignedSub(ds$1,s),ds$1,64),Oi=ia(t,e,i,l);Oi.gt(xi)?(A=xi,et=kt$1.checkUnsignedSub(n,xi),q=ta(t,i,xi,l)):(A=Oi,et=kt$1.checkMulDivCeil(A,s,ds$1.sub(s),64),q=e),T=ra(t,q,i,l)}else{let xi=ra(t,e,i,l);xi.gt(n)?(T=n,q=ea(t,i,n,l)):(T=xi,q=e),A=ia(t,q,i,l),et=kt$1.checkMulDivCeil(A,s,ds$1.sub(s),64)}return{amount_in:A,amount_out:T,next_sqrt_price:q,fee_amount:et}}function No(t,e,i,n,s){let a=i,l=n.liquidity,{current_sqrt_price:A}=n,T={amount_in:z$1,amount_out:z$1,fee_amount:z$1,ref_amount:z$1,next_sqrt_price:z$1,cross_tick_num:0},q,et,xi=Yt$2.getDefaultSqrtPriceLimit(t);for(let Oi of s){if(t&&n.current_tick_index<Oi.index||!t&&n.current_tick_index>=Oi.index||Oi===null)continue;t&&xi.gt(Oi.sqrt_price)||!t&&xi.lt(Oi.sqrt_price)?q=xi:q=Oi.sqrt_price;let Ts=Rs(A,q,l,a,n.fee_rate,e);if(Ts.amount_in.eq(z$1)||(a=e?a.sub(Ts.amount_in.add(Ts.fee_amount)):a.sub(Ts.amount_out)),T.amount_in=T.amount_in.add(Ts.amount_in),T.amount_out=T.amount_out.add(Ts.amount_out),T.fee_amount=T.fee_amount.add(Ts.fee_amount),Ts.next_sqrt_price.eq(Oi.sqrt_price)?(et=Oi.liquidity_net.mul(new Bt$2.default(-1)),t?kt$1.is_neg(et)?l=l.add(new Bt$2.default(mo$1(BigInt(et.toString()),128))):l=l.add(et):kt$1.is_neg(et)?l=l.sub(new Bt$2.default(mo$1(BigInt(et.toString()),128))):l=l.sub(et),A=Oi.sqrt_price):A=Ts.next_sqrt_price,T.cross_tick_num+=1,a.eq(z$1))break}return T.amount_in=T.amount_in.add(T.fee_amount),T.next_sqrt_price=A,T}function js(t,e,i){let n=ie$2(t).name,s=ie$2(e).name;return`${n}-${s}[${i}]`}function di$2(t){let e=Zn$3(t),i=ie$2(e),n=Is(t);n==null&&E$2("InvalidPoolObject",`Pool id ${As(t)} not exists.`,{[be$5.METHOD_NAME]:"buildPool"});let s=[];n.rewarder_manager.fields.rewarders.forEach(l=>{let{emissions_per_second:A}=l.fields,T=kt$1.fromX64(new Kt$3.default(A)),q=Math.floor(T.toNumber()*60*60*24);s.push({emissions_per_second:A,coin_type:ie$2(l.fields.reward_coin.fields.name).source_address,growth_global:l.fields.growth_global,emissions_every_day:q})});let a={id:As(t),pool_type:e,coin_type_a:i.type_arguments[0],coin_type_b:i.type_arguments[1],coin_amount_a:n.coin_a,coin_amount_b:n.coin_b,current_sqrt_price:n.current_sqrt_price,current_tick_index:po$1(BigInt(n.current_tick_index.fields.bits)),fee_growth_global_a:n.fee_growth_global_a,fee_growth_global_b:n.fee_growth_global_b,fee_protocol_coin_a:n.fee_protocol_coin_a,fee_protocol_coin_b:n.fee_protocol_coin_b,fee_rate:n.fee_rate,is_pause:n.is_pause,liquidity:n.liquidity,position_manager:{positions_handle:n.position_manager.fields.positions.fields.id.id,size:n.position_manager.fields.positions.fields.size},rewarder_infos:s,rewarder_last_updated_time:n.rewarder_manager.fields.last_updated_time,tick_spacing:n.tick_spacing,ticks_handle:n.tick_manager.fields.ticks.fields.id.id,uri:n.url,index:Number(n.index),name:""};return a.name=js(a.coin_type_a,a.coin_type_b,a.tick_spacing),a}function fi$1(t){var l,A;(t.error!=null||((A=(l=t.data)==null?void 0:l.content)==null?void 0:A.dataType)!=="moveObject")&&E$2("InvalidPositionObject",`Position not exists. Get Position error:${t.error}`,{[be$5.METHOD_NAME]:"buildPosition"});let e={creator:"",description:"",image_url:"",link:"",name:"",project_url:""},i={...e,pos_object_id:"",owner:"",type:"",coin_type_a:"",coin_type_b:"",liquidity:"",tick_lower_index:0,tick_upper_index:0,index:0,pool:"",reward_amount_owned_0:"0",reward_amount_owned_1:"0",reward_amount_owned_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owned_a:"0",fee_growth_inside_b:"0",fee_owned_b:"0",position_status:"Exists"},n=Is(t);if(n){let T=Zn$3(t),q=Rs$1(t);"nft"in n?(n=n.nft.fields,e.description=n.description,e.name=n.name,e.link=n.url):e=Ps(t),i={...e,pos_object_id:n.id.id,owner:q.AddressOwner,type:T,liquidity:n.liquidity,coin_type_a:n.coin_type_a.fields.name,coin_type_b:n.coin_type_b.fields.name,tick_lower_index:po$1(BigInt(n.tick_lower_index.fields.bits)),tick_upper_index:po$1(BigInt(n.tick_upper_index.fields.bits)),index:n.index,pool:n.pool,reward_amount_owned_0:"0",reward_amount_owned_1:"0",reward_amount_owned_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owned_a:"0",fee_growth_inside_b:"0",fee_owned_b:"0",position_status:"Exists"}}let s=qn$2(t);s&&(i.pos_object_id=s.objectId,i.position_status="Deleted");let a=jn$3(t);return a&&(i.pos_object_id=a,i.position_status="NotExists"),i}function _i$1(t){let e={reward_amount_owned_0:"0",reward_amount_owned_1:"0",reward_amount_owned_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0"};t="fields"in t?t.fields:t,t.rewards.forEach((s,a)=>{let{amount_owned:l,growth_inside:A}="fields"in s?s.fields:s;a===0?(e.reward_amount_owned_0=l,e.reward_growth_inside_0=A):a===1?(e.reward_amount_owned_1=l,e.reward_growth_inside_1=A):a===2&&(e.reward_amount_owned_2=l,e.reward_growth_inside_2=A)});let i="fields"in t.tick_lower_index?t.tick_lower_index.fields.bits:t.tick_lower_index.bits,n="fields"in t.tick_upper_index?t.tick_upper_index.fields.bits:t.tick_upper_index.bits;return{liquidity:t.liquidity,tick_lower_index:po$1(BigInt(i)),tick_upper_index:po$1(BigInt(n)),...e,fee_growth_inside_a:t.fee_growth_inside_a,fee_owned_a:t.fee_owned_a,fee_growth_inside_b:t.fee_growth_inside_b,fee_owned_b:t.fee_owned_b,pos_object_id:t.position_id}}function hi$2(t){var i,n;(t.error!=null||((n=(i=t.data)==null?void 0:i.content)==null?void 0:n.dataType)!=="moveObject")&&E$2("InvalidTickObject",`Tick not exists. Get tick data error:${t.error}`,{[be$5.METHOD_NAME]:"buildTickData"});let e=Is(t).value.fields.value.fields;return{object_id:As(t),index:po$1(BigInt(e.index.fields.bits)),sqrt_price:new Kt$3.default(e.sqrt_price),liquidity_net:new Kt$3.default(e.liquidity_net.fields.bits),liquidity_gross:new Kt$3.default(e.liquidity_gross),fee_growth_outside_a:new Kt$3.default(e.fee_growth_outside_a),fee_growth_outside_b:new Kt$3.default(e.fee_growth_outside_b),rewarders_growth_outside:e.rewards_growth_outside}}function qo(t){(!t||!t.index||!t.sqrt_price||!t.liquidity_net||!t.liquidity_gross||!t.fee_growth_outside_a||!t.fee_growth_outside_b)&&E$2("InvalidTickFields","Invalid tick fields.",{[be$5.METHOD_NAME]:"buildTickDataByEvent"});let e=po$1(BigInt(t.index.bits)),i=new Kt$3.default(t.sqrt_price),n=new Kt$3.default(t.liquidity_net.bits),s=new Kt$3.default(t.liquidity_gross),a=new Kt$3.default(t.fee_growth_outside_a),l=new Kt$3.default(t.fee_growth_outside_b),A=t.rewards_growth_outside||[];return{object_id:"",index:e,sqrt_price:i,liquidity_net:n,liquidity_gross:s,fee_growth_outside_a:a,fee_growth_outside_b:l,rewarders_growth_outside:A}}function Do(t,e,i){let n=[],{timestampMs:s,events:a}=t,l=["AddLiquidityEvent","RemoveLiquidityEvent","CollectFeeEvent","CollectRewardEvent","CollectRewardV2Event","HarvestEvent"];return a==null||a.forEach((A,T)=>{let q=ie$2(A.type).name;if(l.includes(q)){let et={tx_digest:A.id.txDigest,package_id:A.packageId,transaction_module:A.transactionModule,sender:A.sender,type:A.type,timestamp_ms:s||"0",parsed_json:A.parsedJson,index:`${e}_${T}`};switch(q){case"CollectFeeEvent":i.includes(et.parsed_json.position)&&(G$2(et.parsed_json.amount_a).gt(0)||G$2(et.parsed_json.amount_b).gt(0))&&n.push(et);break;case"RemoveLiquidityEvent":case"AddLiquidityEvent":(G$2(et.parsed_json.amount_a).gt(0)||G$2(et.parsed_json.amount_b).gt(0))&&n.push(et);break;case"CollectRewardEvent":case"HarvestEvent":case"CollectRewardV2Event":(i.includes(et.parsed_json.position)||i.includes(et.parsed_json.wrapped_position_id))&&G$2(et.parsed_json.amount).gt(0)&&n.push(et);break}}}),n}function Lo(t,e,i,n){let s=[],{timestampMs:a,events:l}=t;return l==null||l.forEach((A,T)=>{let{name:q,address:et}=ie$2(A.type);if(fo.includes(q)&&et===i&&n===A.parsedJson.pool){let xi={tx:A.id.txDigest,sender:A.sender,type:A.type,block_time:a||"0",index:`${e}_${T}`,parsed_json:A.parsedJson};s.push(xi)}}),s}function pi$2(t,e,i,n){e.moveCall({target:`${t.sdkOptions.integrate.published_at}::${lo$1}::transfer_coin_to_sender`,typeArguments:[n],arguments:[i]})}function $o(t,e,i,n,s){s!=null?e.transferObjects([i],e.pure.address(s)):pi$2(t,e,i,n)}var bi$1=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}async getPositionList(e,i="all"){let n={data:[],has_next_page:!0},s=await this._sdk.FullClient.getDynamicFieldsByPage(e,i);n.has_next_page=s.has_next_page,n.next_cursor=s.next_cursor;let a=s.data.map(A=>(A.error!=null&&E$2("InvalidConfig",`when getPositionList get position objects error: ${A.error}, please check the rpc, contracts address config and position id.`,{[be$5.METHOD_NAME]:"getPositionList"}),A.name.value)),l=await this._sdk.Position.getSimplePositionList(a);return n.data=l,n}async getPoolImmutablesWithPage(e="all",i=!1){let{package_id:n}=this._sdk.sdkOptions.clmm_pool,s=[],a={data:[],has_next_page:!1},l=e==="all",A=`${n}_getPoolImmutables`;if(l){let T=this._sdk.getCache(A,i);T&&s.push(...T)}if(s.length===0)try{let T=`${n}::factory::CreatePoolEvent`,q=await this._sdk.FullClient.queryEventsByPage({MoveEventType:T},e);a.has_next_page=q.has_next_page,a.next_cursor=q.next_cursor,q.data.forEach(et=>{let xi=et.parsedJson;xi&&s.push({id:xi.pool_id,tick_spacing:xi.tick_spacing,coin_type_a:ie$2(xi.coin_type_a).full_address,coin_type_b:ie$2(xi.coin_type_b).full_address})})}catch(T){console.log("getPoolImmutables",T)}return a.data=s,l&&this._sdk.updateCache(`${n}_getPoolImmutables`,s,_e$4),a}async getPoolsWithPage(e="all",i=!1){var l,A,T;let n={data:[],has_next_page:!1},s=await this.getPoolImmutablesWithPage(e,i),a=await this._sdk.FullClient.batchGetObjects(s.data.map(q=>q.id),{showContent:!0,showType:!0});for(let q of a){(q.error!=null||((A=(l=q.data)==null?void 0:l.content)==null?void 0:A.dataType)!=="moveObject")&&E$2("InvalidPoolObject",`getPoolWithPages error code: ${((T=q.error)==null?void 0:T.code)??"unknown error"}, please check config and object ids`,{[be$5.METHOD_NAME]:"getPoolsWithPage"});let et=di$2(q);n.data.push(et);let xi=`${et.id}_getPoolObject`;this._sdk.updateCache(xi,et,_e$4)}return n.has_next_page=s.has_next_page,n.next_cursor=s.next_cursor,n}async getAssignPools(e){var s,a,l;if(e.length===0)return[];let i=[],n=await this._sdk.FullClient.batchGetObjects(e,{showContent:!0,showType:!0});for(let A of n){(A.error!=null||((a=(s=A.data)==null?void 0:s.content)==null?void 0:a.dataType)!=="moveObject")&&E$2("InvalidPoolObject",`getPools error code: ${((l=A.error)==null?void 0:l.code)??"unknown error"}, please check config and object ids`,{[be$5.METHOD_NAME]:"getAssignPools"});let T=di$2(A);i.push(T);let q=`${T.id}_getPoolObject`;this._sdk.updateCache(q,T,_e$4)}return i}async getPool(e,i=!0){var A,T,q;let n=`${e}_getPoolObject`,s=this._sdk.getCache(n,i);if(s!==void 0)return s;let a=await this._sdk.FullClient.getObject({id:e,options:{showType:!0,showContent:!0}});(a.error!=null||((T=(A=a.data)==null?void 0:A.content)==null?void 0:T.dataType)!=="moveObject")&&E$2("InvalidPoolObject",`getPool error code: ${((q=a.error)==null?void 0:q.code)??"unknown error"}, please check config and object id`,{[be$5.METHOD_NAME]:"getPool"});let l=di$2(a);return this._sdk.updateCache(n,l),l}async getPoolByCoins(e,i){if(e.length===0)return[];for(let T=0;T<e.length;T++)e[T]==="0x2::sui::SUI"&&(e[T]="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI");let n=this._sdk.sdkOptions.stats_pools_url;n||E$2("StatsPoolsUrlNotSet","statsPoolsUrl is not set in the sdk options.",{[be$5.METHOD_NAME]:"getPoolByCoins"}),n+=`?order_by=-fees&limit=100&has_mining=true&has_farming=true&no_incentives=true&display_all_pools=true&coin_type=${e.join(",")}`;let s=await fetch(n),a;try{a=await s.json()}catch(T){ve$4("FetchError",T,{[be$5.METHOD_NAME]:"getPoolByCoins",[be$5.REQUEST_PARAMS]:n})}let l=a.data.lp_list,A=[];for(let T of l)e.includes(T.coin_a_address)&&e.includes(T.coin_b_address)&&(i!=null?T.object.feeRate===i&&A.push(T.address):A.push(T.address));return A.length>0?await this.getAssignPools(A):[]}async createPoolPayload(e,i){if(Xo$1(normalizeSuiAddress$1(e.coin_type_a),normalizeSuiAddress$1(e.coin_type_b))){let n=e.coin_type_b;e.coin_type_b=e.coin_type_a,e.coin_type_a=n;let s=e.metadata_b;e.metadata_b=e.metadata_a,e.metadata_a=s}return await this.createPoolAndAddLiquidity(e,i)}async createPoolRowPayload(e,i){if(Xo$1(normalizeSuiAddress$1(e.coin_type_a),normalizeSuiAddress$1(e.coin_type_b))){let n=e.coin_type_b;e.coin_type_b=e.coin_type_a,e.coin_type_a=n;let s=e.metadata_b;e.metadata_b=e.metadata_a,e.metadata_a=s}return await this.createPoolAndAddLiquidityRow(e,i)}async getClmmConfigs(e=!1){let{package_id:i}=this._sdk.sdkOptions.clmm_pool,n=`${i}_getInitEvent`,s=this._sdk.getCache(n,e);if(s!==void 0)return s;let a=await this._sdk.FullClient.getObject({id:i,options:{showPreviousTransaction:!0}}),l=Os(a),A=(await this._sdk.FullClient.queryEventsByPage({Transaction:l})).data,T={pools_id:"",global_config_id:"",global_vault_id:"",admin_cap_id:""};return A.length>0&&(A.forEach(q=>{let et=q.parsedJson;if(q.type)switch(ie$2(q.type).full_address){case`${i}::config::InitConfigEvent`:T.global_config_id=et.global_config_id,T.admin_cap_id=et.admin_cap_id;break;case`${i}::factory::InitFactoryEvent`:T.pools_id=et.pools_id;break;case`${i}::rewarder::RewarderInitEvent`:T.global_vault_id=et.global_vault_id;break;case`${i}::partner::InitPartnerEvent`:T.partners_id=et.partners_id;break}}),this._sdk.updateCache(n,T,_e$4)),T}async getPoolTransactionList({pool_id:e,pagination_args:i,order:n="descending",full_rpc_url:s}){let{FullClient:a,sdkOptions:l}=this._sdk,A;s?A=ge$5(new SuiClient({url:s})):A=a;let T={data:[],has_next_page:!1},q=i,et=i.limit||10;do{let xi=await A.queryTransactionBlocksByPage({ChangedObject:e},{...q,limit:50},n);xi.data.forEach((Oi,Ts)=>{T.next_cursor=xi.next_cursor;let Fs=Lo(Oi,Ts,l.clmm_pool.package_id,e);T.data=[...T.data,...Fs]}),T.has_next_page=xi.has_next_page,T.next_cursor=xi.next_cursor,q.cursor=xi.next_cursor}while(T.data.length<et&&T.has_next_page);return T.data.length>et&&(T.data=T.data.slice(0,et),T.next_cursor=T.data[T.data.length-1].tx),T}async calculateCreatePoolWithPrice(e){let{current_price:i,slippage:n,tick_spacing:s,add_mode_params:a,price_base_coin:l,coin_decimals_a:A,coin_decimals_b:T}=e,q=Zt$3.priceToSqrtPriceX64(l==="coin_a"?G$2(i):G$2(1).div(i),A,T),et=0,xi=0;if(a.is_full_range)et=hr$4.getMinIndex(s),xi=hr$4.getMaxIndex(s);else{let{min_price:zs,max_price:Vs}=a;et=Zt$3.priceToInitializeTickIndex(l==="coin_a"?G$2(zs):G$2(1).div(Vs),A,T,s),xi=Zt$3.priceToInitializeTickIndex(l==="coin_a"?G$2(Vs):G$2(1).div(zs),A,T,s)}let{coin_amount:Oi,fix_amount_a:Ts}=e,{coin_amount_limit_a:Fs,coin_amount_limit_b:qs,liquidity_amount:Us,coin_amount_a:Ls,coin_amount_b:Gs}=mr$5.estLiquidityAndCoinAmountFromOneAmounts(et,xi,new Ho.default(Oi),Ts,!0,n,q);return{coin_amount_a:Ls,coin_amount_b:Gs,coin_amount_limit_a:Fs,coin_amount_limit_b:qs,liquidity:Us,initialize_sqrt_price:q.toString(),tick_lower:et,tick_upper:xi,fix_amount_a:Ts}}async createPoolAndAddLiquidity(e,i){i=i||new Transaction,i.setSender(this.sdk.getSenderAddress());let{integrate:n,clmm_pool:s}=this.sdk.sdkOptions,a=na(s),l=a.global_config_id,A=a.pools_id,T=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress()),q=Oe$3.buildCoinForAmount(i,T,BigInt(e.amount_a),e.coin_type_a,!1,!0),et=Oe$3.buildCoinForAmount(i,T,BigInt(e.amount_b),e.coin_type_b,!1,!0),xi=[i.object(l),i.object(A),i.pure.u32(e.tick_spacing),i.pure.u128(e.initialize_sqrt_price),i.pure.string(e.uri),i.pure.u32(Number(mo$1(BigInt(e.tick_lower)).toString())),i.pure.u32(Number(mo$1(BigInt(e.tick_upper)).toString())),q.target_coin,et.target_coin,i.object(e.metadata_a),i.object(e.metadata_b),i.pure.bool(e.fix_amount_a),i.object(no$2)];return i.moveCall({target:`${n.published_at}::pool_creator_v2::create_pool_v2`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:xi}),pi$2(this._sdk,i,q.target_coin,e.coin_type_a),pi$2(this._sdk,i,et.target_coin,e.coin_type_b),i}async createPoolAndAddLiquidityRow(e,i){i=i||new Transaction;let{clmm_pool:n}=this.sdk.sdkOptions,s=na(n),a=s.global_config_id,l=s.pools_id,A=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress()),T=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_a),e.coin_type_a,!1,!0),q=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_b),e.coin_type_b,!1,!0),et=[i.object(a),i.object(l),i.pure.u32(e.tick_spacing),i.pure.u128(e.initialize_sqrt_price),i.pure.string(e.uri),i.pure.u32(Number(mo$1(BigInt(e.tick_lower)).toString())),i.pure.u32(Number(mo$1(BigInt(e.tick_upper)).toString())),T.target_coin,q.target_coin,i.object(e.metadata_a),i.object(e.metadata_b),i.pure.bool(e.fix_amount_a),i.object(no$2)],xi=i.moveCall({target:`${n.published_at}::pool_creator::create_pool_v2`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:et});return{tx:i,pos_id:xi[0],remain_coin_a:xi[1],remain_coin_b:xi[2],remain_coin_type_a:e.coin_type_a,remain_coin_type_b:e.coin_type_b}}async createPoolWithPriceReturnPositionPayload(e,i){let{coin_type_a:n,coin_type_b:s,tick_spacing:a,uri:l,calculate_result:A}=e,{initialize_sqrt_price:T,tick_lower:q,tick_upper:et,liquidity:xi,coin_amount_a:Oi,coin_amount_b:Ts,fix_amount_a:Fs,coin_amount_limit_a:qs,coin_amount_limit_b:Us}=A,Ls=await this._sdk.FullClient.fetchCoinMetadata(n),Gs=await this._sdk.FullClient.fetchCoinMetadata(s);if(Ls===null)return E$2("FetchError",`fetch coin ${n} metadata failed`,{[be$5.METHOD_NAME]:"createPoolAndAddLiquidityWithPrice",[be$5.REQUEST_PARAMS]:e});if(Gs===null)return E$2("FetchError",`fetch coin ${s} metadata failed`,{[be$5.METHOD_NAME]:"createPoolAndAddLiquidityWithPrice",[be$5.REQUEST_PARAMS]:e});let zs=Ls.id,Vs=Gs.id;return this.createPoolRowPayload({tick_spacing:a,initialize_sqrt_price:T,uri:l||"",coin_type_a:n,coin_type_b:s,amount_a:Fs?Oi:qs,amount_b:Fs?Us:Ts,fix_amount_a:Fs,tick_lower:q,tick_upper:et,metadata_a:zs,metadata_b:Vs},i)}async createPoolWithPricePayload(e){let{coin_type_a:i,coin_type_b:n,tick_spacing:s,uri:a,calculate_result:l}=e,{initialize_sqrt_price:A,tick_lower:T,tick_upper:q,liquidity:et,coin_amount_a:xi,coin_amount_b:Oi,fix_amount_a:Ts,coin_amount_limit_a:Fs,coin_amount_limit_b:qs}=l,Us=await this._sdk.FullClient.fetchCoinMetadata(i),Ls=await this._sdk.FullClient.fetchCoinMetadata(n);if(Us===null)return E$2("FetchError",`fetch coin ${i} metadata failed`,{[be$5.METHOD_NAME]:"createPoolAndAddLiquidityWithPrice",[be$5.REQUEST_PARAMS]:e});if(Ls===null)return E$2("FetchError",`fetch coin ${n} metadata failed`,{[be$5.METHOD_NAME]:"createPoolAndAddLiquidityWithPrice",[be$5.REQUEST_PARAMS]:e});let Gs=Us.id,zs=Ls.id;return this.createPoolPayload({tick_spacing:s,initialize_sqrt_price:A,uri:a||"",coin_type_a:i,coin_type_b:n,amount_a:Ts?xi:Fs,amount_b:Ts?qs:Oi,fix_amount_a:Ts,tick_lower:T,tick_upper:q,metadata_a:Gs,metadata_b:zs})}async fetchTicks(e){let i=[],n=[];for(;;){let s=await this.getTicks({pool_id:e.pool_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,start:n,limit:512});if(i=[...i,...s],s.length<512)break;n=[Number(mo$1(BigInt(s[s.length-1].index)))]}return i}async getTicks(e){var q;let{integrate:i}=this.sdk.sdkOptions,n=[],s=[e.coin_type_a,e.coin_type_b],a=new Transaction,l=a.makeMoveVec({elements:e.start.map(et=>a.pure.u32(et)),type:"u32"}),A=[a.object(e.pool_id),l,a.pure.u64(e.limit.toString())];a.moveCall({target:`${i.published_at}::${Qt$4}::fetch_ticks`,arguments:A,typeArguments:s});let T=await this.sdk.FullClient.devInspectTransactionBlock({transactionBlock:a,sender:normalizeSuiAddress$1("0x0")});return T.error!=null&&E$2("InvalidTickObjectId",`getTicks error code: ${T.error??"unknown error"}, please check config and tick object ids`,{[be$5.METHOD_NAME]:"getTicks",[be$5.REQUEST_PARAMS]:e}),(q=T.events)==null||q.forEach(et=>{ie$2(et.type).name==="FetchTicksResultEvent"&&et.parsedJson.ticks.forEach(xi=>{n.push(qo(xi))})}),n}async fetchPositionRewardList(e){var l;let{integrate:i}=this.sdk.sdkOptions,n=[],s=[],a=512;for(;;){let A=[e.coin_type_a,e.coin_type_b],T=new Transaction,q=T.pure.vector("id",s.map(Ts=>Ts)),et=[T.object(e.pool_id),q,T.pure.u64(a)];T.moveCall({target:`${i.published_at}::${Qt$4}::fetch_positions`,arguments:et,typeArguments:A});let xi=await this.sdk.FullClient.devInspectTransactionBlock({transactionBlock:T,sender:normalizeSuiAddress$1("0x0")});xi.error!=null&&E$2("InvalidPositionRewardObject",`fetch position reward error code: ${xi.error??"unknown error"}, please check config and tick object ids`,{[be$5.METHOD_NAME]:"fetchPositionRewardList",[be$5.REQUEST_PARAMS]:e});let Oi=[];if((l=xi==null?void 0:xi.events)==null||l.forEach(Ts=>{ie$2(Ts.type).name==="FetchPositionsEvent"&&Ts.parsedJson.positions.forEach(Fs=>{let qs=_i$1(Fs);Oi.push(qs)})}),n.push(...Oi),Oi.length<a)break;s=[Oi[Oi.length-1].pos_object_id]}return n}async fetchTicksByRpc(e){let i=[],n=null,s=50;for(;;){let a=[],l=await this.sdk.FullClient.getDynamicFields({parentId:e,cursor:n,limit:s});if(n=l.nextCursor,l.data.forEach(A=>{ie$2(A.objectType).module==="skip_list"&&a.push(A.objectId)}),i=[...i,...await this.getTicksByRpc(a)],!l.hasNextPage)break}return i}async getTicksByRpc(e){var s,a,l;let i=[],n=await this.sdk.FullClient.batchGetObjects(e,{showContent:!0,showType:!0});for(let A of n){(A.error!=null||((a=(s=A.data)==null?void 0:s.content)==null?void 0:a.dataType)!=="moveObject")&&E$2("InvalidTickObjectId",`getTicksByRpc error code: ${((l=A.error)==null?void 0:l.code)??"unknown error"}, please check config and tick object ids`,{[be$5.METHOD_NAME]:"getTicksByRpc"});let T=hi$2(A);T!=null&&i.push(T)}return i}async getTickDataByIndex(e,i){var a,l;let n={type:"u64",value:mo$1(BigInt(Xs(i).toString())).toString()},s=await this.sdk.FullClient.getDynamicFieldObject({parentId:e,name:n});return(s.error!=null||((l=(a=s.data)==null?void 0:a.content)==null?void 0:l.dataType)!=="moveObject")&&E$2("InvalidTickIndex",`get tick by index: ${i} error: ${s.error}`,{[be$5.METHOD_NAME]:"getTickDataByIndex"}),hi$2(s)}async getTickDataByObjectId(e){var n,s,a;let i=await this.sdk.FullClient.getObject({id:e,options:{showContent:!0}});return(i.error!=null||((s=(n=i.data)==null?void 0:n.content)==null?void 0:s.dataType)!=="moveObject")&&E$2("InvalidTickObjectId",`getTicksByRpc error code: ${((a=i.error)==null?void 0:a.code)??"unknown error"}, please check config and tick object ids`,{[be$5.METHOD_NAME]:"getTickDataByObjectId"}),hi$2(i)}async getPartnerRefFeeAmount(e,i=!0){var T,q;let n=await this._sdk.FullClient.batchGetObjects([e],{showOwner:!0,showContent:!0,showDisplay:i,showType:!0});((q=(T=n[0].data)==null?void 0:T.content)==null?void 0:q.dataType)!=="moveObject"&&E$2("NotFoundPartnerObject",`get partner by object id: ${e} error: ${n[0].error}`,{[be$5.METHOD_NAME]:"getPartnerRefFeeAmount"});let s=n[0].data.content.fields.balances,a=await this._sdk.FullClient.getDynamicFieldsByPage(s.fields.id.id),l=[];a.data.forEach(et=>{et.objectId!=null&&l.push(et.objectId)});let A=[];return(await this._sdk.FullClient.batchGetObjects(l,{showOwner:!0,showContent:!0,showDisplay:i,showType:!0})).forEach(et=>{var Oi,Ts;(et.error!=null||((Ts=(Oi=et.data)==null?void 0:Oi.content)==null?void 0:Ts.dataType)!=="moveObject")&&E$2("InvalidPartnerRefFeeFields",`get coin by object id: ${et.data.objectId} error: ${et.error}`,{[be$5.METHOD_NAME]:"getPartnerRefFeeAmount"});let xi={coin_type:et.data.content.fields.name,coin_object_id:et.data.objectId,balance:BigInt(et.data.content.fields.value)};A.push(xi)}),A}async claimPartnerRefFeePayload(e,i,n){let s=new Transaction,{clmm_pool:a}=this.sdk.sdkOptions,{global_config_id:l}=na(a),A=[n],T=[s.object(l),s.object(e),s.object(i)];return s.moveCall({target:`${a.published_at}::${ao}::claim_ref_fee`,arguments:T,typeArguments:A}),s}},Ke$1=ne$2(Gt$1()),Ci=class{constructor(t){this._sdk=t}get sdk(){return this._sdk}buildPositionType(){return`${this._sdk.sdkOptions.clmm_pool.package_id}::position::Position`}async getPositionTransactionList({pos_id:t,origin_pos_id:e,full_rpc_url:i,pagination_args:n="all",order:s="ascending"}){let{FullClient:a}=this._sdk,l=[t];e&&l.push(e);let A;i?A=ge$5(new SuiClient({url:i})):A=a;let T={data:[],has_next_page:!1};try{let q=await A.queryTransactionBlocksByPage({ChangedObject:t},n,s);return q.data.forEach((et,xi)=>{let Oi=Do(et,xi,l);T.data=[...T.data,...Oi]}),T.has_next_page=q.has_next_page,T.next_cursor=q.next_cursor,T}catch(q){ve$4("FetchError",q,{[be$5.METHOD_NAME]:"getPositionTransactionList"})}return T}async getPositionList(t,e=[],i=!0){let n=[],s=await this._sdk.FullClient.getOwnedObjectsByPage(t,{options:{showType:!0,showContent:!0,showDisplay:i,showOwner:!0},filter:{Package:this._sdk.sdkOptions.clmm_pool.package_id}}),a=e.length>0;for(let l of s.data)if(ie$2(l.data.type).full_address===this.buildPositionType()){let A=fi$1(l),T=`${A.pos_object_id}_getPositionList`;this._sdk.updateCache(T,A),a?e.includes(A.pool)&&n.push(A):n.push(A)}return n}async getPosition(t,e,i=!0,n=!0){let s=await this.getSimplePosition(e,n);return i&&(s=await this.updatePositionRewarders(t,s)),s}async getPositionById(t,e=!0,i=!0){let n=await this.getSimplePosition(t,i);if(e){let s=await this._sdk.Pool.getPool(n.pool,!1);return await this.updatePositionRewarders(s.position_manager.positions_handle,n)}return n}async getSimplePosition(t,e=!0){let i=`${t}_getPositionList`,n=this.getSimplePositionByCache(t);if(n===void 0){let s=await this.sdk.FullClient.getObject({id:t,options:{showContent:!0,showType:!0,showDisplay:e,showOwner:!0}});n=fi$1(s),this._sdk.updateCache(i,n)}return n}getSimplePositionByCache(t){let e=`${t}_getPositionList`;return this._sdk.getCache(e)}async getSimplePositionList(t,e=!0){let i=[],n=[];return t.forEach(s=>{let a=this.getSimplePositionByCache(s);a?i.push(a):n.push(s)}),n.length>0&&(await this._sdk.FullClient.batchGetObjects(n,{showOwner:!0,showContent:!0,showDisplay:e,showType:!0})).forEach(s=>{if(s.error==null){let a=fi$1(s);i.push(a);let l=`${a.pos_object_id}_getPositionList`;this._sdk.updateCache(l,a)}}),i}async updatePositionRewarders(t,e){let i=await this.getPositionRewarders(t,e.pos_object_id);return{...e,...i}}async getPositionRewarders(t,e){try{let i=await this._sdk.FullClient.getDynamicFieldObject({parentId:t,name:{type:"0x2::object::ID",value:e}}),n=Is(i.data).value.fields.value;return _i$1(n)}catch(i){console.log(i);return}}buildFetchPosFee(t,e){let{clmm_pool:i,integrate:n}=this.sdk.sdkOptions,s=[t.coin_type_a,t.coin_type_b],a=[e.object(na(i).global_config_id),e.object(t.pool_id),e.pure.address(t.position_id)];e.moveCall({target:`${n.published_at}::${Qt$4}::fetch_position_fees`,arguments:a,typeArguments:s})}parsedPosFeeData(t){var n;let e={},i=(n=t.events)==null?void 0:n.filter(s=>s.type.includes("fetcher_script::FetchPositionFeesEvent"));for(let s=0;s<i.length;s+=1){let{parsedJson:a}=i[s],l={position_id:a.position_id,fee_owned_a:a.fee_owned_a,fee_owned_b:a.fee_owned_b};e[a.position_id]=l}return e}async fetchPosFeeAmount(t){let{clmm_pool:e,integrate:i}=this.sdk.sdkOptions,n=new Transaction;for(let A of t)this.buildFetchPosFee(A,n);let s=await this.sdk.FullClient.devInspectTransactionBlock({transactionBlock:n,sender:normalizeSuiAddress$1("0x0")});s.error!=null&&E$2("InvalidPoolObject",`fetch position fee error code: ${s.error??"unknown error"}, please check config and position and pool object ids`,{[be$5.METHOD_NAME]:"fetchPosFeeAmount"});let a=[],l=this.parsedPosFeeData(s);for(let A=0;A<t.length;A+=1){let T=l[t[A].position_id];if(T){let q={fee_owned_a:T.fee_owned_a,fee_owned_b:T.fee_owned_b,position_id:t[A].position_id};a.push(q)}}return a}async batchFetchPositionFees(t){let e=[];for(let n of t){let s=await this._sdk.Position.getPositionById(n,!1),a=await this._sdk.Pool.getPool(s.pool,!1);e.push({pool_id:a.id,position_id:s.pos_object_id,coin_type_a:a.coin_type_a,coin_type_b:a.coin_type_b})}let i={};if(e.length>0){let n=await this.fetchPosFeeAmount(e);for(let s of n)i[s.position_id]=s;return i}return i}async createAddLiquidityFixTokenPayload(t,e,i,n,s){let a=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress());if(e){let{is_adjust_coin_a:l,is_adjust_coin_b:A}=Me$3(t);if(t=t,t.fix_amount_a&&l||!t.fix_amount_a&&A)return i=await $t$3.buildAddLiquidityFixTokenForGas(this._sdk,a,t,e,i,n,s),i}return $t$3.buildAddLiquidityFixToken(this._sdk,a,t,i,n,s)}async createAddLiquidityPayload(t,e,i,n){let{integrate:s,clmm_pool:a}=this._sdk.sdkOptions,l=mo$1(BigInt(t.tick_lower)).toString(),A=mo$1(BigInt(t.tick_upper)).toString(),T=[t.coin_type_a,t.coin_type_b];e=e||new Transaction;let q=!isValidSuiObjectId$1(t.pos_id),et=BigInt(t.max_amount_a),xi=BigInt(t.max_amount_b),Oi,Ts;if(i==null||n==null){let Fs=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress());Oi=Oe$3.buildCoinForAmount(e,Fs,et,t.coin_type_a,!1,!0),Ts=Oe$3.buildCoinForAmount(e,Fs,xi,t.coin_type_b,!1,!0)}else Oi={target_coin:i,remain_coins:[],is_mint_zero_coin:!1,target_coin_amount:"0",selected_coins:[]},Ts={target_coin:n,remain_coins:[],is_mint_zero_coin:!1,target_coin_amount:"0",selected_coins:[]};if(q)e.moveCall({target:`${s.published_at}::${Vt$5}::open_position_with_liquidity`,typeArguments:T,arguments:[e.object(na(a).global_config_id),e.object(t.pool_id),e.pure.u32(Number(l)),e.pure.u32(Number(A)),Oi.target_coin,Ts.target_coin,e.pure.u64(t.max_amount_a),e.pure.u64(t.max_amount_b),e.pure.u128(t.delta_liquidity),e.object(no$2)]});else{let Fs=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());e=$t$3.createCollectRewarderAndFeeParams(this._sdk,e,t,Fs,Oi.remain_coins,Ts.remain_coins),e.moveCall({target:`${s.published_at}::${Vt$5}::add_liquidity`,typeArguments:T,arguments:[e.object(na(a).global_config_id),e.object(t.pool_id),e.object(t.pos_id),Oi.target_coin,Ts.target_coin,e.pure.u64(t.max_amount_a),e.pure.u64(t.max_amount_b),e.pure.u128(t.delta_liquidity),e.object(no$2)]})}return e}async removeLiquidityPayload(t,e){let{clmm_pool:i,integrate:n}=this.sdk.sdkOptions,s="remove_liquidity";e=e||new Transaction;let a=[t.coin_type_a,t.coin_type_b],l=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress());e=$t$3.createCollectRewarderAndFeeParams(this._sdk,e,t,l);let A=[e.object(na(i).global_config_id),e.object(t.pool_id),e.object(t.pos_id),e.pure.u128(t.delta_liquidity),e.pure.u64(t.min_amount_a),e.pure.u64(t.min_amount_b),e.object(no$2)];return e.moveCall({target:`${n.published_at}::${qe$3}::${s}`,typeArguments:a,arguments:A}),e}async closePositionPayload(t,e){let{clmm_pool:i,integrate:n}=this.sdk.sdkOptions;e=e||new Transaction;let s=[t.coin_type_a,t.coin_type_b],a=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress());return e=$t$3.createCollectRewarderAndFeeParams(this._sdk,e,t,a),e.moveCall({target:`${n.published_at}::${qe$3}::close_position`,typeArguments:s,arguments:[e.object(na(i).global_config_id),e.object(t.pool_id),e.object(t.pos_id),e.pure.u64(t.min_amount_a),e.pure.u64(t.min_amount_b),e.object(no$2)]}),e}openPositionPayload(t,e){let{clmm_pool:i,integrate:n}=this.sdk.sdkOptions;e=e||new Transaction;let s=[t.coin_type_a,t.coin_type_b],a=mo$1(BigInt(t.tick_lower)).toString(),l=mo$1(BigInt(t.tick_upper)).toString(),A=[e.object(na(i).global_config_id),e.object(t.pool_id),e.pure.u32(Number(a)),e.pure.u32(Number(l))];return e.moveCall({target:`${n.published_at}::${qe$3}::open_position`,typeArguments:s,arguments:A}),e}async openPositionWithPricePayload(t,e){let{pool_id:i}=t,{clmm_pool:n,integrate:s}=this.sdk.sdkOptions;e=e||new Transaction;let a=await this.sdk.Pool.getPool(i,!1),l=Number(a.tick_spacing),A=0,T=0;if(t.is_full_range)A=hr$4.getMinIndex(l),T=hr$4.getMaxIndex(l);else{let{price_base_coin:xi,min_price:Oi,max_price:Ts}=t;A=Zt$3.priceToInitializeTickIndex(xi==="coin_a"?G$2(Oi):G$2(1).div(Ts),t.coin_decimals_a,t.coin_decimals_b,l),T=Zt$3.priceToInitializeTickIndex(xi==="coin_a"?G$2(Ts):G$2(1).div(Oi),t.coin_decimals_a,t.coin_decimals_b,l)}let q=[a.coin_type_a,a.coin_type_b],et=[e.object(na(n).global_config_id),e.object(t.pool_id),e.pure.u32(Number(mo$1(BigInt(A)))),e.pure.u32(Number(mo$1(BigInt(T))))];return e.moveCall({target:`${s.published_at}::${qe$3}::open_position`,typeArguments:q,arguments:et}),e}async collectFeePayload(t,e,i,n){e=e||new Transaction;let s=i||Oe$3.buildCoinWithBalance(BigInt(0),t.coin_type_a,e),a=n||Oe$3.buildCoinWithBalance(BigInt(0),t.coin_type_b,e);return this.createCollectFeePayload(t,e,s,a),e}createCollectFeePayload(t,e,i,n){let{clmm_pool:s,integrate:a}=this.sdk.sdkOptions,l=[t.coin_type_a,t.coin_type_b],A=[e.object(na(s).global_config_id),e.object(t.pool_id),e.object(t.pos_id),i,n];return e.moveCall({target:`${a.published_at}::${Vt$5}::collect_fee`,typeArguments:l,arguments:A}),e}async calculateAddLiquidityResultWithPrice(t){let{pool_id:e,slippage:i,refresh_pool_price:n,add_mode_params:s}=t,a=await this.sdk.Pool.getPool(e,n),l=Number(a.tick_spacing),A=0,T=0;if(s.is_full_range)A=hr$4.getMinIndex(l),T=hr$4.getMaxIndex(l);else{let{price_base_coin:Us,min_price:Ls,max_price:Gs}=s;A=Zt$3.priceToInitializeTickIndex(Us==="coin_a"?G$2(Ls):G$2(1).div(Gs),s.coin_decimals_a,s.coin_decimals_b,l),T=Zt$3.priceToInitializeTickIndex(Us==="coin_a"?G$2(Gs):G$2(1).div(Ls),s.coin_decimals_a,s.coin_decimals_b,l)}if("liquidity"in t){let{liquidity:Us}=t,Ls=Zt$3.tickIndexToSqrtPriceX64(A),Gs=Zt$3.tickIndexToSqrtPriceX64(T),{coin_amount_a:zs,coin_amount_b:Vs}=mr$5.getCoinAmountFromLiquidity(new Ke$1.default(Us),new Ke$1.default(a.current_sqrt_price),Ls,Gs,!1),Zs=G$2(zs).mul(1+i).toFixed(0,I$2.ROUND_UP),Js=G$2(Vs).mul(1+i).toFixed(0,I$2.ROUND_UP);return{coin_amount_a:zs,coin_amount_b:Vs,coin_amount_limit_a:Zs,coin_amount_limit_b:Js,liquidity:Us,tick_lower:A,tick_upper:T}}let{coin_amount:q,fix_amount_a:et}=t,{coin_amount_limit_a:xi,coin_amount_limit_b:Oi,liquidity_amount:Ts,coin_amount_a:Fs,coin_amount_b:qs}=mr$5.estLiquidityAndCoinAmountFromOneAmounts(A,T,new Ke$1.default(q),et,!0,i,new Ke$1.default(a.current_sqrt_price));return{coin_amount_a:Fs,coin_amount_b:qs,coin_amount_limit_a:xi,coin_amount_limit_b:Oi,liquidity:Ts,tick_lower:A,tick_upper:T,fix_amount_a:et}}async addLiquidityWithPricePayload(t,e,i,n){let{pool_id:s,calculate_result:a}=t,{coin_amount_limit_a:l,coin_amount_limit_b:A,liquidity:T,tick_lower:q,tick_upper:et}=a;e=e||new Transaction;let xi=await this.sdk.Pool.getPool(s,!1);return await this.createAddLiquidityPayload({delta_liquidity:T,max_amount_a:l,max_amount_b:A,tick_lower:q,tick_upper:et,collect_fee:!1,rewarder_coin_types:[],coin_type_a:xi.coin_type_a,coin_type_b:xi.coin_type_b,pool_id:s,pos_id:""},e,i,n),e}async createAddLiquidityFixCoinWithPricePayload(t,e,i,n){let{pool_id:s,calculate_result:a}=t,{coin_amount_limit_a:l,coin_amount_limit_b:A,liquidity:T,tick_lower:q,tick_upper:et,fix_amount_a:xi,coin_amount_a:Oi,coin_amount_b:Ts}=a;if(xi===void 0)throw E$2("InvalidParams","fix_amount_a is undefined",{[be$5.METHOD_NAME]:"addLiquidityFixCoinCoinWithPricePayload",[be$5.REQUEST_PARAMS]:t});e=e||new Transaction;let Fs=await this.sdk.Pool.getPool(s,!1);return await this.createAddLiquidityFixTokenPayload({amount_a:xi?Oi:l,amount_b:xi?A:Ts,slippage:0,fix_amount_a:xi,is_open:!0,tick_lower:q,tick_upper:et,collect_fee:!1,rewarder_coin_types:[],coin_type_a:Fs.coin_type_a,coin_type_b:Fs.coin_type_b,pool_id:s,pos_id:""},void 0,e,i,n),e}createCollectFeeNoSendPayload(t,e,i,n){let{clmm_pool:s,integrate:a}=this.sdk.sdkOptions,l=[t.coin_type_a,t.coin_type_b],A=[e.object(na(s).global_config_id),e.object(t.pool_id),e.object(t.pos_id),i,n];return e.moveCall({target:`${a.published_at}::${Xe$2}::collect_fee`,typeArguments:l,arguments:A}),e}},yn$2=ne$2(Gt$1()),Mi$2=class{constructor(e){this._sdk=e,this.growthGlobal=[z$1,z$1,z$1]}get sdk(){return this._sdk}async emissionsEveryDay(e){let i=(await this.sdk.Pool.getPool(e)).rewarder_infos;if(!i)return null;let n=[];for(let s of i){let a=kt$1.fromX64(new yn$2.default(s.emissions_per_second));n.push({emissions:Math.floor(a.toNumber()*60*60*24),coin_type:s.coin_type})}return n}async batchFetchPositionRewarders(e){let i=[];for(let s of e){let a=await this._sdk.Position.getPositionById(s,!1),l=await this._sdk.Pool.getPool(a.pool,!1);i.push({pool_id:l.id,position_id:a.pos_object_id,coin_type_a:l.coin_type_a,coin_type_b:l.coin_type_b,rewarder_types:l.rewarder_infos.map(A=>A.coin_type)})}let n={};if(i.length>0){let s=await this.fetchPosRewardersAmount(i);for(let a of s)n[a.position_id]=a.rewarder_amounts;return n}return n}async fetchPositionRewarders(e,i){let n={pool_id:e.id,position_id:i,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,rewarder_types:e.rewarder_infos.map(s=>s.coin_type)};return(await this.fetchPosRewardersAmount([n]))[0].rewarder_amounts}async batchFetchPositionFees(e){return await this._sdk.Position.batchFetchPositionFees(e)}async fetchPosFeeAmount(e){return await this._sdk.Position.fetchPosFeeAmount(e)}buildFetchPosReward(e,i){let{clmm_pool:n,integrate:s}=this.sdk.sdkOptions,a=[e.coin_type_a,e.coin_type_b],l=[i.object(na(n).global_config_id),i.object(e.pool_id),i.pure.address(e.position_id),i.object(no$2)];i.moveCall({target:`${s.published_at}::${Qt$4}::fetch_position_rewards`,arguments:l,typeArguments:a})}async fetchPosRewardersAmount(e){let i=new Transaction;for(let l of e)this.buildFetchPosReward(l,i);let n=await this.sdk.FullClient.devInspectTransactionBlock({transactionBlock:i,sender:normalizeSuiAddress$1("0x")});n.error!=null&&E$2("InvalidConfig",`fetch position rewards error code: ${n.error??"unknown error"}, please check config and params`,{[be$5.METHOD_NAME]:"fetchPosRewardersAmount",[be$5.REQUEST_PARAMS]:{params:e}});let s=this.parsedPosRewardData(n),a=[];for(let l=0;l<e.length;l+=1){let A=s[e[l].position_id];if(A){let T={pool_id:e[l].pool_id,position_id:e[l].position_id,rewarder_amounts:A.rewarder_amount.map((q,et)=>({amount_owned:q,coin_type:e[l].rewarder_types[et]}))};a.push(T)}}return a}parsedPosRewardData(e){var s;let i={},n=(s=e.events)==null?void 0:s.filter(a=>a.type.includes("fetcher_script::FetchPositionRewardsEvent"));for(let a=0;a<n.length;a+=1){let{parsedJson:l}=n[a],A={position_id:l.position_id,rewarder_amount:l.data};i[l.position_id]=A}return i}async fetchPoolRewardersAmount(e,i){let n=await this.sdk.Pool.getPool(i),s=await this.sdk.Position.getPositionList(e,[i]),a=[];for(let T of s)a.push({pool_id:n.id,position_id:T.pos_object_id,rewarder_types:n.rewarder_infos.map(q=>q.coin_type),coin_type_a:n.coin_type_a,coin_type_b:n.coin_type_b});let l=await this.fetchPosRewardersAmount(a),A=[z$1,z$1,z$1];if(l!=null)for(let T of l)for(let q=0;q<T.rewarder_amounts.length;q+=1)A[q]=A[q].add(new yn$2.default(T.rewarder_amounts[q].amount_owned));return A}async getPoolLowerAndUpperTicks(e,i){let n=[],s=[];for(let a of i){let l=await this.sdk.Pool.getTickDataByIndex(e,a.tick_lower_index),A=await this.sdk.Pool.getTickDataByIndex(e,a.tick_upper_index);n.push(l),s.push(A)}return[n,s]}async collectRewarderPayload(e){let i=await this.sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress(),null),n=new Transaction;return n=$t$3.createCollectRewarderAndFeeParams(this._sdk,n,e,i),n}async batchCollectRewardsPayload(e,i,n,s){let a=await this.sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress(),null);i=i||new Transaction;let l={};return e.forEach(A=>{let T=ai$2(A.coin_type_a),q=ai$2(A.coin_type_b);if(A.collect_fee){let xi=l[T];xi==null&&(n==null?xi=Oe$3.buildCoinForAmount(i,a,BigInt(0),T,!1):xi={target_coin:n,remain_coins:[],is_mint_zero_coin:!1,target_coin_amount:"0",selected_coins:[]},l[T]=xi);let Oi=l[q];Oi==null&&(s==null?Oi=Oe$3.buildCoinForAmount(i,a,BigInt(0),q,!1):Oi={target_coin:s,remain_coins:[],is_mint_zero_coin:!1,target_coin_amount:"0",selected_coins:[]},l[q]=Oi),i=this._sdk.Position.createCollectFeeNoSendPayload({pool_id:A.pool_id,pos_id:A.pos_id,coin_type_a:A.coin_type_a,coin_type_b:A.coin_type_b},i,xi.target_coin,Oi.target_coin)}let et=[];A.rewarder_coin_types.forEach(xi=>{let Oi=ai$2(xi),Ts=l[xi];Ts===void 0&&(Ts=Oe$3.buildCoinForAmount(i,a,BigInt(0),Oi,!1),l[Oi]=Ts),et.push(Ts.target_coin)}),i=this.createCollectRewarderNoSendPayload(A,i,et)}),Object.keys(l).forEach(A=>{let T=l[A];T.is_mint_zero_coin&&$o(this.sdk,i,T.target_coin,A,this.sdk.getSenderAddress())}),i}createCollectRewarderPayload(e,i,n){let{clmm_pool:s,integrate:a}=this.sdk.sdkOptions,l=na(s),A=[e.coin_type_a,e.coin_type_b];return e.rewarder_coin_types.forEach((T,q)=>{i&&i.moveCall({target:`${a.published_at}::${Vt$5}::collect_reward`,typeArguments:[...A,T],arguments:[i.object(l.global_config_id),i.object(e.pool_id),i.object(e.pos_id),i.object(l.global_vault_id),n[q],i.object(no$2)]})}),i}createCollectRewarderNoSendPayload(e,i,n){let{clmm_pool:s,integrate:a}=this.sdk.sdkOptions,l=na(s),A=[e.coin_type_a,e.coin_type_b];return e.rewarder_coin_types.forEach((T,q)=>{i&&i.moveCall({target:`${a.published_at}::${Xe$2}::collect_reward`,typeArguments:[...A,T],arguments:[i.object(l.global_config_id),i.object(e.pool_id),i.object(e.pos_id),i.object(l.global_vault_id),n[q],i.object(no$2)]})}),i}},pe$2=ne$2(Gt$1()),ki=class{constructor(t){this.calculateSingleImpact=(e,i)=>i.minus(e).div(i).mul(100),this._sdk=t}get sdk(){return this._sdk}calculateSwapFee(t){let e=G$2(0);return t.forEach(i=>{let n=i.base_paths.length;if(n>0){let s=i.base_paths[0],a=s.label==="Cetus"?new I$2(s.fee_rate).div(10**6):new I$2(s.fee_rate).div(10**9),l=G$2(s.input_amount).div(10**s.from_decimal).mul(a);if(e=e.add(l),n>1){let A=i.base_paths[1],T=s.direction?s.current_price:new I$2(1).div(s.current_price),q=A.direction?A.current_price:new I$2(1).div(A.current_price),et=A.label==="Cetus"?new I$2(A.fee_rate).div(10**6):new I$2(A.fee_rate).div(10**9),xi=G$2(A.output_amount).div(10**A.to_decimal).mul(et).div(T.mul(q));e=e.add(xi)}}}),e.toString()}calculateSwapPriceImpact(t){let e=G$2(0);return t.forEach(i=>{let n=i.base_paths.length;if(n===1){let s=i.base_paths[0],a=G$2(s.output_amount).div(10**s.to_decimal),l=G$2(s.input_amount).div(10**s.from_decimal),A=a.div(l),T=s.direction?new I$2(s.current_price):new I$2(1).div(s.current_price);e=e.add(this.calculateSingleImpact(A,T))}if(n===2){let s=i.base_paths[0],a=i.base_paths[1],l=s.direction?new I$2(s.current_price):new I$2(1).div(s.current_price),A=a.direction?new I$2(a.current_price):new I$2(1).div(a.current_price),T=l.mul(A),q=new I$2(a.output_amount).div(10**a.to_decimal),et=new I$2(s.input_amount).div(10**s.from_decimal),xi=q.div(et);e=e.add(this.calculateSingleImpact(xi,T))}}),e.toString()}async preSwapWithMultiPool(t){var T;let{integrate:e}=this.sdk.sdkOptions,i=new Transaction,n=[t.coin_type_a,t.coin_type_b];for(let q=0;q<t.pool_ids.length;q+=1){let et=[i.object(t.pool_ids[q]),i.pure.bool(t.a2b),i.pure.bool(t.by_amount_in),i.pure.u64(t.amount)];i.moveCall({target:`${e.published_at}::${Qt$4}::calculate_swap_result`,arguments:et,typeArguments:n})}let s=await this.sdk.FullClient.devInspectTransactionBlock({transactionBlock:i,sender:normalizeSuiAddress$1("0x0")});s.error!=null&&E$2("InvalidConfig",`pre swap with multi pools error code: ${s.error??"unknown error"}, please check config and params`,{[be$5.METHOD_NAME]:"preSwapWithMultiPool",[be$5.REQUEST_PARAMS]:{params:t}});let a=(T=s.events)==null?void 0:T.filter(q=>ie$2(q.type).name==="CalculatedSwapResultEvent");if(a.length===0)return null;a.length!==t.pool_ids.length&&E$2("ParamsLengthNotEqual","valueData.length !== params.pools.length",{[be$5.METHOD_NAME]:"preSwapWithMultiPool",[be$5.REQUEST_PARAMS]:{params:t}});let l=t.by_amount_in?z$1:ve$5,A=0;for(let q=0;q<a.length;q+=1)if(!a[q].parsedJson.data.is_exceed)if(t.by_amount_in){let et=new pe$2.default(a[q].parsedJson.data.amount_out);et.gt(l)&&(A=q,l=et)}else{let et=new pe$2.default(a[q].parsedJson.data.amount_out);et.lt(l)&&(A=q,l=et)}return this.transformSwapWithMultiPoolData({pool_address:t.pool_ids[A],a2b:t.a2b,by_amount_in:t.by_amount_in,amount:t.amount,coin_type_a:t.coin_type_a,coin_type_b:t.coin_type_b},a[A].parsedJson)}async preSwap(t){var A;let{integrate:e}=this.sdk.sdkOptions,i=new Transaction,n=[t.coin_type_a,t.coin_type_b],s=[i.object(t.pool.id),i.pure.bool(t.a2b),i.pure.bool(t.by_amount_in),i.pure.u64(t.amount)];i.moveCall({target:`${e.published_at}::${Qt$4}::calculate_swap_result`,arguments:s,typeArguments:n});let a=await this.sdk.FullClient.devInspectTransactionBlock({transactionBlock:i,sender:normalizeSuiAddress$1("0x0")});if(a.error!=null)return E$2("InvalidConfig",`preSwap error code: ${a.error??"unknown error"}, please check config and params`,{[be$5.METHOD_NAME]:"preSwap",[be$5.REQUEST_PARAMS]:{params:t}});let l=(A=a.events)==null?void 0:A.filter(T=>ie$2(T.type).name==="CalculatedSwapResultEvent");return l.length===0?E$2("InvalidConfig",`preSwap error code: ${a.error??"unknown error"}, please check config and params`,{[be$5.METHOD_NAME]:"preSwap",[be$5.REQUEST_PARAMS]:{params:t}}):this.transformSwapData(t,l[0].parsedJson.data)}transformSwapData(t,e){let i=e.amount_in&&e.fee_amount?new pe$2.default(e.amount_in).add(new pe$2.default(e.fee_amount)).toString():"";return{pool_address:t.pool.id,current_sqrt_price:t.current_sqrt_price,estimated_amount_in:i,estimated_amount_out:e.amount_out,estimated_end_sqrt_price:e.after_sqrt_price,estimated_fee_amount:e.fee_amount,is_exceed:e.is_exceed,amount:t.amount,a2b:t.a2b,by_amount_in:t.by_amount_in}}transformSwapWithMultiPoolData(t,e){let{data:i}=e;console.log("json data. ",i);let n=i.amount_in&&i.fee_amount?new pe$2.default(i.amount_in).add(new pe$2.default(i.fee_amount)).toString():"";return{pool_address:t.pool_address,estimated_amount_in:n,estimated_amount_out:i.amount_out,estimated_end_sqrt_price:i.after_sqrt_price,estimated_start_sqrt_price:i.step_results[0].current_sqrt_price,estimated_fee_amount:i.fee_amount,is_exceed:i.is_exceed,amount:t.amount,a2b:t.a2b,by_amount_in:t.by_amount_in}}calculateRates(t){let{current_pool:e}=t,i=Eo(e),n;t.a2b?n=t.swap_ticks.sort((xi,Oi)=>Oi.index-xi.index):n=t.swap_ticks.sort((xi,Oi)=>xi.index-Oi.index);let s=No(t.a2b,t.by_amount_in,t.amount,i,n),a=!1;t.by_amount_in?a=s.amount_in.lt(t.amount):a=s.amount_out.lt(t.amount);let l=Yt$2.getDefaultSqrtPriceLimit(t.a2b);t.a2b&&s.next_sqrt_price.lt(l)&&(a=!0),!t.a2b&&s.next_sqrt_price.gt(l)&&(a=!0);let A=0;s.cross_tick_num>6&&s.cross_tick_num<40&&(A=22e3*(s.cross_tick_num-6)),s.cross_tick_num>40&&(a=!0);let T=Zt$3.sqrtPriceX64ToPrice(i.current_sqrt_price,t.decimals_a,t.decimals_b).toNumber(),q=Zt$3.sqrtPriceX64ToPrice(s.next_sqrt_price,t.decimals_a,t.decimals_b).toNumber(),et=Math.abs(T-q)/T*100;return{estimated_amount_in:s.amount_in,estimated_amount_out:s.amount_out,estimated_end_sqrt_price:s.next_sqrt_price,estimated_fee_amount:s.fee_amount,is_exceed:a,extra_compute_limit:A,amount:t.amount,a2b:t.a2b,by_amount_in:t.by_amount_in,price_impact_pct:et}}async createSwapPayload(t,e){let i=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress());if(e){let{is_adjust_coin_a:n,is_adjust_coin_b:s}=Me$3(t);if(t.a2b&&n||!t.a2b&&s)return await Yt$2.buildSwapTransactionForGas(this._sdk,t,i,e)}return Yt$2.buildSwapTransaction(this.sdk,t,i)}async createSwapWithoutTransferCoinsPayload(t,e){let i=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress());if(e){let{is_adjust_coin_a:n,is_adjust_coin_b:s}=Me$3(t);if(t.a2b&&n||!t.a2b&&s)return await Yt$2.buildSwapTransactionWithoutTransferCoinsForGas(this._sdk,t,i,e)}return Yt$2.buildSwapTransactionWithoutTransferCoins(this.sdk,t,i)}},Xo={clmmConfig:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",admin_cap_id:"0x89c1a321291d15ddae5a086c9abc533dff697fde3d89e0ca836c41af73e36a75"},cetusConfig:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}},Yo={env:"mainnet",full_rpc_url:ki$1,cetus_config:{package_id:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",published_at:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",config:Xo.cetusConfig},clmm_pool:{package_id:"0x1eabed72c53feb3805120a081dc15963c204dc8d091542592abaf7a35689b2fb",published_at:"0xc6faf3703b0e8ba9ed06b7851134bbbe7565eb35ff823fd78432baa4cbeaa12e",config:Xo.clmmConfig},integrate:{package_id:"0x996c4d9480708fb8b92aa7acf819fb0497b5ec8e65ba06601cae2fb6db3312c3",published_at:"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4"},stats_pools_url:"https://api-sui.cetus.zone/v2/sui/stats_pools"},tr$2={clmmConfig:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",admin_cap_id:"0xa456f86a53fc31e1243f065738ff1fc93f5a62cc080ff894a0fb3747556a799b"},cetusConfig:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}},er$3={env:"testnet",full_rpc_url:Fi$1,cetus_config:{package_id:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",published_at:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",config:tr$2.cetusConfig},clmm_pool:{package_id:"0x0c7ae833c220aa73a3643a0d508afa4ac5d50d97312ea4584e35f9eb21b9df12",published_at:"0x85e61285a10efc6602ab00df70a0c06357c384ef4c5633ecf73016df1500c704",config:tr$2.clmmConfig},integrate:{package_id:"0x2918cf39850de6d5d94d8196dc878c8c722cd79db659318e00bff57fbb4e2ede",published_at:"0x19dd42e05fa6c9988a60d30686ee3feb776672b5547e328d6dab16563da65293"},stats_pools_url:"https://api-sui.devcetus.com/v2/sui/stats_pools"},Ai$1=class kl extends ur$4{constructor(e){super(e),this._swap=new ki(this),this._pool=new bi$1(this),this._position=new Ci(this),this._config=new Je$1(this),this._rewarder=new Mi$2(this)}get Pool(){return this._pool}get Position(){return this._position}get CetusConfig(){return this._config}get Rewarder(){return this._rewarder}get Swap(){return this._swap}static createSDK(e){let{env:i="mainnet"}=e;return i==="mainnet"?kl.createCustomSDK({...Yo,...e}):kl.createCustomSDK({...er$3,...e})}static createCustomSDK(e){return new kl(e)}},We$2=ne$2(Gt$1());new We$2.default(365);new We$2.default(24);new We$2.default(3600);new We$2.default(.5);/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/var ji$2=Object.create,Ai=Object.defineProperty,Di$1=Object.getOwnPropertyDescriptor,qi$1=Object.getOwnPropertyNames,Ni$1=Object.getPrototypeOf,Ki$2=Object.prototype.hasOwnProperty,Li$1=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Hi$3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Zi$2=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of qi$1(e))!Ki$2.call(t,s)&&s!==i&&Ai(t,s,{get:()=>e[s],enumerable:!(n=Di$1(e,s))||n.enumerable});return t},$i$3=(t,e,i)=>(i=t!=null?ji$2(Ni$1(t)):{},Zi$2(!t||!t.__esModule?Ai(i,"default",{value:t,enumerable:!0}):i,t)),Ti$1=Hi$3((t,e)=>{(function(i,n){function s(f,Y){if(!f)throw new Error(Y||"Assertion failed")}function a(f,Y){f.super_=Y;var nt=function(){};nt.prototype=Y.prototype,f.prototype=new nt,f.prototype.constructor=f}function l(f,Y,nt){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((Y==="le"||Y==="be")&&(nt=Y,Y=10),this._init(f||0,Y||10,nt||"be"))}typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var A;try{typeof window<"u"&&typeof window.Buffer<"u"?A=window.Buffer:A=Li$1("buffer").Buffer}catch{}l.isBN=function(f){return f instanceof l?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===l.wordSize&&Array.isArray(f.words)},l.max=function(f,Y){return f.cmp(Y)>0?f:Y},l.min=function(f,Y){return f.cmp(Y)<0?f:Y},l.prototype._init=function(f,Y,nt){if(typeof f=="number")return this._initNumber(f,Y,nt);if(typeof f=="object")return this._initArray(f,Y,nt);Y==="hex"&&(Y=16),s(Y===(Y|0)&&Y>=2&&Y<=36),f=f.toString().replace(/\s+/g,"");var vs=0;f[0]==="-"&&(vs++,this.negative=1),vs<f.length&&(Y===16?this._parseHex(f,vs,nt):(this._parseBase(f,Y,vs),nt==="le"&&this._initArray(this.toArray(),Y,nt)))},l.prototype._initNumber=function(f,Y,nt){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(s(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),nt==="le"&&this._initArray(this.toArray(),Y,nt)},l.prototype._initArray=function(f,Y,nt){if(s(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks,Ds,Bs=0;if(nt==="be")for(vs=f.length-1,ks=0;vs>=0;vs-=3)Ds=f[vs]|f[vs-1]<<8|f[vs-2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);else if(nt==="le")for(vs=0,ks=0;vs<f.length;vs+=3)Ds=f[vs]|f[vs+1]<<8|f[vs+2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);return this._strip()};function T(f,Y){var nt=f.charCodeAt(Y);if(nt>=48&&nt<=57)return nt-48;if(nt>=65&&nt<=70)return nt-55;if(nt>=97&&nt<=102)return nt-87;s(!1,"Invalid character in "+f)}function q(f,Y,nt){var vs=T(f,nt);return nt-1>=Y&&(vs|=T(f,nt-1)<<4),vs}l.prototype._parseHex=function(f,Y,nt){this.length=Math.ceil((f.length-Y)/6),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks=0,Ds=0,Bs;if(nt==="be")for(vs=f.length-1;vs>=Y;vs-=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8;else{var Ms=f.length-Y;for(vs=Ms%2===0?Y+1:Y;vs<f.length;vs+=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8}this._strip()};function et(f,Y,nt,vs){for(var ks=0,Ds=0,Bs=Math.min(f.length,nt),Ms=Y;Ms<Bs;Ms++){var Q=f.charCodeAt(Ms)-48;ks*=vs,Q>=49?Ds=Q-49+10:Q>=17?Ds=Q-17+10:Ds=Q,s(Q>=0&&Ds<vs,"Invalid character"),ks+=Ds}return ks}l.prototype._parseBase=function(f,Y,nt){this.words=[0],this.length=1;for(var vs=0,ks=1;ks<=67108863;ks*=Y)vs++;vs--,ks=ks/Y|0;for(var Ds=f.length-nt,Bs=Ds%vs,Ms=Math.min(Ds,Ds-Bs)+nt,Q=0,$s=nt;$s<Ms;$s+=vs)Q=et(f,$s,$s+vs,Y),this.imuln(ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(Bs!==0){var Ks=1;for(Q=et(f,$s,f.length,Y),$s=0;$s<Bs;$s++)Ks*=Y;this.imuln(Ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},l.prototype.copy=function(f){f.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)f.words[Y]=this.words[Y];f.length=this.length,f.negative=this.negative,f.red=this.red};function xi(f,Y){f.words=Y.words,f.length=Y.length,f.negative=Y.negative,f.red=Y.red}if(l.prototype._move=function(f){xi(f,this)},l.prototype.clone=function(){var f=new l(null);return this.copy(f),f},l.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oi}catch{l.prototype.inspect=Oi}else l.prototype.inspect=Oi;function Oi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Fs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(f,Y){f=f||10,Y=Y|0||1;var nt;if(f===16||f==="hex"){nt="";for(var vs=0,ks=0,Ds=0;Ds<this.length;Ds++){var Bs=this.words[Ds],Ms=((Bs<<vs|ks)&16777215).toString(16);ks=Bs>>>24-vs&16777215,vs+=2,vs>=26&&(vs-=26,Ds--),ks!==0||Ds!==this.length-1?nt=Ts[6-Ms.length]+Ms+nt:nt=Ms+nt}for(ks!==0&&(nt=ks.toString(16)+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}if(f===(f|0)&&f>=2&&f<=36){var Q=Fs[f],$s=qs[f];nt="";var Ks=this.clone();for(Ks.negative=0;!Ks.isZero();){var jo=Ks.modrn($s).toString(f);Ks=Ks.idivn($s),Ks.isZero()?nt=jo+nt:nt=Ts[Q-jo.length]+jo+nt}for(this.isZero()&&(nt="0"+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},l.prototype.toJSON=function(){return this.toString(16,2)},A&&(l.prototype.toBuffer=function(f,Y){return this.toArrayLike(A,f,Y)}),l.prototype.toArray=function(f,Y){return this.toArrayLike(Array,f,Y)};var Us=function(f,Y){return f.allocUnsafe?f.allocUnsafe(Y):new f(Y)};l.prototype.toArrayLike=function(f,Y,nt){this._strip();var vs=this.byteLength(),ks=nt||Math.max(1,vs);s(vs<=ks,"byte array longer than desired length"),s(ks>0,"Requested array length <= 0");var Ds=Us(f,ks),Bs=Y==="le"?"LE":"BE";return this["_toArrayLike"+Bs](Ds,vs),Ds},l.prototype._toArrayLikeLE=function(f,Y){for(var nt=0,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt++]=Bs&255,nt<f.length&&(f[nt++]=Bs>>8&255),nt<f.length&&(f[nt++]=Bs>>16&255),Ds===6?(nt<f.length&&(f[nt++]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt<f.length)for(f[nt++]=vs;nt<f.length;)f[nt++]=0},l.prototype._toArrayLikeBE=function(f,Y){for(var nt=f.length-1,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt--]=Bs&255,nt>=0&&(f[nt--]=Bs>>8&255),nt>=0&&(f[nt--]=Bs>>16&255),Ds===6?(nt>=0&&(f[nt--]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt>=0)for(f[nt--]=vs;nt>=0;)f[nt--]=0},Math.clz32?l.prototype._countBits=function(f){return 32-Math.clz32(f)}:l.prototype._countBits=function(f){var Y=f,nt=0;return Y>=4096&&(nt+=13,Y>>>=13),Y>=64&&(nt+=7,Y>>>=7),Y>=8&&(nt+=4,Y>>>=4),Y>=2&&(nt+=2,Y>>>=2),nt+Y},l.prototype._zeroBits=function(f){if(f===0)return 26;var Y=f,nt=0;return!(Y&8191)&&(nt+=13,Y>>>=13),!(Y&127)&&(nt+=7,Y>>>=7),!(Y&15)&&(nt+=4,Y>>>=4),!(Y&3)&&(nt+=2,Y>>>=2),!(Y&1)&&nt++,nt},l.prototype.bitLength=function(){var f=this.words[this.length-1],Y=this._countBits(f);return(this.length-1)*26+Y};function Ls(f){for(var Y=new Array(f.bitLength()),nt=0;nt<Y.length;nt++){var vs=nt/26|0,ks=nt%26;Y[nt]=f.words[vs]>>>ks&1}return Y}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,Y=0;Y<this.length;Y++){var nt=this._zeroBits(this.words[Y]);if(f+=nt,nt!==26)break}return f},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},l.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var Y=0;Y<f.length;Y++)this.words[Y]=this.words[Y]|f.words[Y];return this._strip()},l.prototype.ior=function(f){return s((this.negative|f.negative)===0),this.iuor(f)},l.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},l.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},l.prototype.iuand=function(f){var Y;this.length>f.length?Y=f:Y=this;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]&f.words[nt];return this.length=Y.length,this._strip()},l.prototype.iand=function(f){return s((this.negative|f.negative)===0),this.iuand(f)},l.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},l.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},l.prototype.iuxor=function(f){var Y,nt;this.length>f.length?(Y=this,nt=f):(Y=f,nt=this);for(var vs=0;vs<nt.length;vs++)this.words[vs]=Y.words[vs]^nt.words[vs];if(this!==Y)for(;vs<Y.length;vs++)this.words[vs]=Y.words[vs];return this.length=Y.length,this._strip()},l.prototype.ixor=function(f){return s((this.negative|f.negative)===0),this.iuxor(f)},l.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},l.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},l.prototype.inotn=function(f){s(typeof f=="number"&&f>=0);var Y=Math.ceil(f/26)|0,nt=f%26;this._expand(Y),nt>0&&Y--;for(var vs=0;vs<Y;vs++)this.words[vs]=~this.words[vs]&67108863;return nt>0&&(this.words[vs]=~this.words[vs]&67108863>>26-nt),this._strip()},l.prototype.notn=function(f){return this.clone().inotn(f)},l.prototype.setn=function(f,Y){s(typeof f=="number"&&f>=0);var nt=f/26|0,vs=f%26;return this._expand(nt+1),Y?this.words[nt]=this.words[nt]|1<<vs:this.words[nt]=this.words[nt]&~(1<<vs),this._strip()},l.prototype.iadd=function(f){var Y;if(this.negative!==0&&f.negative===0)return this.negative=0,Y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,Y=this.isub(f),f.negative=1,Y._normSign();var nt,vs;this.length>f.length?(nt=this,vs=f):(nt=f,vs=this);for(var ks=0,Ds=0;Ds<vs.length;Ds++)Y=(nt.words[Ds]|0)+(vs.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;for(;ks!==0&&Ds<nt.length;Ds++)Y=(nt.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;if(this.length=nt.length,ks!==0)this.words[this.length]=ks,this.length++;else if(nt!==this)for(;Ds<nt.length;Ds++)this.words[Ds]=nt.words[Ds];return this},l.prototype.add=function(f){var Y;return f.negative!==0&&this.negative===0?(f.negative=0,Y=this.sub(f),f.negative^=1,Y):f.negative===0&&this.negative!==0?(this.negative=0,Y=f.sub(this),this.negative=1,Y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},l.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var Y=this.iadd(f);return f.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var nt=this.cmp(f);if(nt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vs,ks;nt>0?(vs=this,ks=f):(vs=f,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)Y=(vs.words[Bs]|0)-(ks.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;for(;Ds!==0&&Bs<vs.length;Bs++)Y=(vs.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;if(Ds===0&&Bs<vs.length&&vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this.length=Math.max(this.length,Bs),vs!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(f){return this.clone().isub(f)};function Gs(f,Y,nt){nt.negative=Y.negative^f.negative;var vs=f.length+Y.length|0;nt.length=vs,vs=vs-1|0;var ks=f.words[0]|0,Ds=Y.words[0]|0,Bs=ks*Ds,Ms=Bs&67108863,Q=Bs/67108864|0;nt.words[0]=Ms;for(var $s=1;$s<vs;$s++){for(var Ks=Q>>>26,jo=Q&67108863,Bo=Math.min($s,Y.length-1),To=Math.max(0,$s-f.length+1);To<=Bo;To++){var Oo=$s-To|0;ks=f.words[Oo]|0,Ds=Y.words[To]|0,Bs=ks*Ds+jo,Ks+=Bs/67108864|0,jo=Bs&67108863}nt.words[$s]=jo|0,Q=Ks|0}return Q!==0?nt.words[$s]=Q|0:nt.length--,nt._strip()}var zs=function(f,Y,nt){var vs=f.words,ks=Y.words,Ds=nt.words,Bs=0,Ms,Q,$s,Ks=vs[0]|0,jo=Ks&8191,Bo=Ks>>>13,To=vs[1]|0,Oo=To&8191,Vo=To>>>13,zo=vs[2]|0,so=zo&8191,Qs=zo>>>13,sa=vs[3]|0,Zo=sa&8191,Qo=sa>>>13,la=vs[4]|0,Ko=la&8191,Jo=la>>>13,aa=vs[5]|0,oa=aa&8191,ua=aa>>>13,Ma=vs[6]|0,da=Ma&8191,fa=Ma>>>13,La=vs[7]|0,ga=La&8191,ha=La>>>13,Ga=vs[8]|0,Aa=Ga&8191,_a=Ga>>>13,Za=vs[9]|0,Ta=Za&8191,ma=Za>>>13,Xa=ks[0]|0,ka=Xa&8191,pa=Xa>>>13,za=ks[1]|0,Ba=za&8191,wa=za>>>13,Ja=ks[2]|0,Oa=Ja&8191,ba=Ja>>>13,eu=ks[3]|0,Ia=eu&8191,xa=eu>>>13,Ya=ks[4]|0,Pa=Ya&8191,$a=Ya>>>13,Qa=ks[5]|0,Da=Qa&8191,va=Qa>>>13,Ka=ks[6]|0,Ra=Ka&8191,ya=Ka>>>13,tu=ks[7]|0,Na=tu&8191,Sa=tu>>>13,ru=ks[8]|0,Fa=ru&8191,Ea=ru>>>13,iu=ks[9]|0,ja=iu&8191,Ca=iu>>>13;nt.negative=f.negative^Y.negative,nt.length=19,Ms=Math.imul(jo,ka),Q=Math.imul(jo,pa),Q=Q+Math.imul(Bo,ka)|0,$s=Math.imul(Bo,pa);var nu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ms=Math.imul(Oo,ka),Q=Math.imul(Oo,pa),Q=Q+Math.imul(Vo,ka)|0,$s=Math.imul(Vo,pa),Ms=Ms+Math.imul(jo,Ba)|0,Q=Q+Math.imul(jo,wa)|0,Q=Q+Math.imul(Bo,Ba)|0,$s=$s+Math.imul(Bo,wa)|0;var ou=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ms=Math.imul(so,ka),Q=Math.imul(so,pa),Q=Q+Math.imul(Qs,ka)|0,$s=Math.imul(Qs,pa),Ms=Ms+Math.imul(Oo,Ba)|0,Q=Q+Math.imul(Oo,wa)|0,Q=Q+Math.imul(Vo,Ba)|0,$s=$s+Math.imul(Vo,wa)|0,Ms=Ms+Math.imul(jo,Oa)|0,Q=Q+Math.imul(jo,ba)|0,Q=Q+Math.imul(Bo,Oa)|0,$s=$s+Math.imul(Bo,ba)|0;var au=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(au>>>26)|0,au&=67108863,Ms=Math.imul(Zo,ka),Q=Math.imul(Zo,pa),Q=Q+Math.imul(Qo,ka)|0,$s=Math.imul(Qo,pa),Ms=Ms+Math.imul(so,Ba)|0,Q=Q+Math.imul(so,wa)|0,Q=Q+Math.imul(Qs,Ba)|0,$s=$s+Math.imul(Qs,wa)|0,Ms=Ms+Math.imul(Oo,Oa)|0,Q=Q+Math.imul(Oo,ba)|0,Q=Q+Math.imul(Vo,Oa)|0,$s=$s+Math.imul(Vo,ba)|0,Ms=Ms+Math.imul(jo,Ia)|0,Q=Q+Math.imul(jo,xa)|0,Q=Q+Math.imul(Bo,Ia)|0,$s=$s+Math.imul(Bo,xa)|0;var uu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ms=Math.imul(Ko,ka),Q=Math.imul(Ko,pa),Q=Q+Math.imul(Jo,ka)|0,$s=Math.imul(Jo,pa),Ms=Ms+Math.imul(Zo,Ba)|0,Q=Q+Math.imul(Zo,wa)|0,Q=Q+Math.imul(Qo,Ba)|0,$s=$s+Math.imul(Qo,wa)|0,Ms=Ms+Math.imul(so,Oa)|0,Q=Q+Math.imul(so,ba)|0,Q=Q+Math.imul(Qs,Oa)|0,$s=$s+Math.imul(Qs,ba)|0,Ms=Ms+Math.imul(Oo,Ia)|0,Q=Q+Math.imul(Oo,xa)|0,Q=Q+Math.imul(Vo,Ia)|0,$s=$s+Math.imul(Vo,xa)|0,Ms=Ms+Math.imul(jo,Pa)|0,Q=Q+Math.imul(jo,$a)|0,Q=Q+Math.imul(Bo,Pa)|0,$s=$s+Math.imul(Bo,$a)|0;var cu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ms=Math.imul(oa,ka),Q=Math.imul(oa,pa),Q=Q+Math.imul(ua,ka)|0,$s=Math.imul(ua,pa),Ms=Ms+Math.imul(Ko,Ba)|0,Q=Q+Math.imul(Ko,wa)|0,Q=Q+Math.imul(Jo,Ba)|0,$s=$s+Math.imul(Jo,wa)|0,Ms=Ms+Math.imul(Zo,Oa)|0,Q=Q+Math.imul(Zo,ba)|0,Q=Q+Math.imul(Qo,Oa)|0,$s=$s+Math.imul(Qo,ba)|0,Ms=Ms+Math.imul(so,Ia)|0,Q=Q+Math.imul(so,xa)|0,Q=Q+Math.imul(Qs,Ia)|0,$s=$s+Math.imul(Qs,xa)|0,Ms=Ms+Math.imul(Oo,Pa)|0,Q=Q+Math.imul(Oo,$a)|0,Q=Q+Math.imul(Vo,Pa)|0,$s=$s+Math.imul(Vo,$a)|0,Ms=Ms+Math.imul(jo,Da)|0,Q=Q+Math.imul(jo,va)|0,Q=Q+Math.imul(Bo,Da)|0,$s=$s+Math.imul(Bo,va)|0;var lu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ms=Math.imul(da,ka),Q=Math.imul(da,pa),Q=Q+Math.imul(fa,ka)|0,$s=Math.imul(fa,pa),Ms=Ms+Math.imul(oa,Ba)|0,Q=Q+Math.imul(oa,wa)|0,Q=Q+Math.imul(ua,Ba)|0,$s=$s+Math.imul(ua,wa)|0,Ms=Ms+Math.imul(Ko,Oa)|0,Q=Q+Math.imul(Ko,ba)|0,Q=Q+Math.imul(Jo,Oa)|0,$s=$s+Math.imul(Jo,ba)|0,Ms=Ms+Math.imul(Zo,Ia)|0,Q=Q+Math.imul(Zo,xa)|0,Q=Q+Math.imul(Qo,Ia)|0,$s=$s+Math.imul(Qo,xa)|0,Ms=Ms+Math.imul(so,Pa)|0,Q=Q+Math.imul(so,$a)|0,Q=Q+Math.imul(Qs,Pa)|0,$s=$s+Math.imul(Qs,$a)|0,Ms=Ms+Math.imul(Oo,Da)|0,Q=Q+Math.imul(Oo,va)|0,Q=Q+Math.imul(Vo,Da)|0,$s=$s+Math.imul(Vo,va)|0,Ms=Ms+Math.imul(jo,Ra)|0,Q=Q+Math.imul(jo,ya)|0,Q=Q+Math.imul(Bo,Ra)|0,$s=$s+Math.imul(Bo,ya)|0;var du=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(du>>>26)|0,du&=67108863,Ms=Math.imul(ga,ka),Q=Math.imul(ga,pa),Q=Q+Math.imul(ha,ka)|0,$s=Math.imul(ha,pa),Ms=Ms+Math.imul(da,Ba)|0,Q=Q+Math.imul(da,wa)|0,Q=Q+Math.imul(fa,Ba)|0,$s=$s+Math.imul(fa,wa)|0,Ms=Ms+Math.imul(oa,Oa)|0,Q=Q+Math.imul(oa,ba)|0,Q=Q+Math.imul(ua,Oa)|0,$s=$s+Math.imul(ua,ba)|0,Ms=Ms+Math.imul(Ko,Ia)|0,Q=Q+Math.imul(Ko,xa)|0,Q=Q+Math.imul(Jo,Ia)|0,$s=$s+Math.imul(Jo,xa)|0,Ms=Ms+Math.imul(Zo,Pa)|0,Q=Q+Math.imul(Zo,$a)|0,Q=Q+Math.imul(Qo,Pa)|0,$s=$s+Math.imul(Qo,$a)|0,Ms=Ms+Math.imul(so,Da)|0,Q=Q+Math.imul(so,va)|0,Q=Q+Math.imul(Qs,Da)|0,$s=$s+Math.imul(Qs,va)|0,Ms=Ms+Math.imul(Oo,Ra)|0,Q=Q+Math.imul(Oo,ya)|0,Q=Q+Math.imul(Vo,Ra)|0,$s=$s+Math.imul(Vo,ya)|0,Ms=Ms+Math.imul(jo,Na)|0,Q=Q+Math.imul(jo,Sa)|0,Q=Q+Math.imul(Bo,Na)|0,$s=$s+Math.imul(Bo,Sa)|0;var fu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ms=Math.imul(Aa,ka),Q=Math.imul(Aa,pa),Q=Q+Math.imul(_a,ka)|0,$s=Math.imul(_a,pa),Ms=Ms+Math.imul(ga,Ba)|0,Q=Q+Math.imul(ga,wa)|0,Q=Q+Math.imul(ha,Ba)|0,$s=$s+Math.imul(ha,wa)|0,Ms=Ms+Math.imul(da,Oa)|0,Q=Q+Math.imul(da,ba)|0,Q=Q+Math.imul(fa,Oa)|0,$s=$s+Math.imul(fa,ba)|0,Ms=Ms+Math.imul(oa,Ia)|0,Q=Q+Math.imul(oa,xa)|0,Q=Q+Math.imul(ua,Ia)|0,$s=$s+Math.imul(ua,xa)|0,Ms=Ms+Math.imul(Ko,Pa)|0,Q=Q+Math.imul(Ko,$a)|0,Q=Q+Math.imul(Jo,Pa)|0,$s=$s+Math.imul(Jo,$a)|0,Ms=Ms+Math.imul(Zo,Da)|0,Q=Q+Math.imul(Zo,va)|0,Q=Q+Math.imul(Qo,Da)|0,$s=$s+Math.imul(Qo,va)|0,Ms=Ms+Math.imul(so,Ra)|0,Q=Q+Math.imul(so,ya)|0,Q=Q+Math.imul(Qs,Ra)|0,$s=$s+Math.imul(Qs,ya)|0,Ms=Ms+Math.imul(Oo,Na)|0,Q=Q+Math.imul(Oo,Sa)|0,Q=Q+Math.imul(Vo,Na)|0,$s=$s+Math.imul(Vo,Sa)|0,Ms=Ms+Math.imul(jo,Fa)|0,Q=Q+Math.imul(jo,Ea)|0,Q=Q+Math.imul(Bo,Fa)|0,$s=$s+Math.imul(Bo,Ea)|0;var hu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ms=Math.imul(Ta,ka),Q=Math.imul(Ta,pa),Q=Q+Math.imul(ma,ka)|0,$s=Math.imul(ma,pa),Ms=Ms+Math.imul(Aa,Ba)|0,Q=Q+Math.imul(Aa,wa)|0,Q=Q+Math.imul(_a,Ba)|0,$s=$s+Math.imul(_a,wa)|0,Ms=Ms+Math.imul(ga,Oa)|0,Q=Q+Math.imul(ga,ba)|0,Q=Q+Math.imul(ha,Oa)|0,$s=$s+Math.imul(ha,ba)|0,Ms=Ms+Math.imul(da,Ia)|0,Q=Q+Math.imul(da,xa)|0,Q=Q+Math.imul(fa,Ia)|0,$s=$s+Math.imul(fa,xa)|0,Ms=Ms+Math.imul(oa,Pa)|0,Q=Q+Math.imul(oa,$a)|0,Q=Q+Math.imul(ua,Pa)|0,$s=$s+Math.imul(ua,$a)|0,Ms=Ms+Math.imul(Ko,Da)|0,Q=Q+Math.imul(Ko,va)|0,Q=Q+Math.imul(Jo,Da)|0,$s=$s+Math.imul(Jo,va)|0,Ms=Ms+Math.imul(Zo,Ra)|0,Q=Q+Math.imul(Zo,ya)|0,Q=Q+Math.imul(Qo,Ra)|0,$s=$s+Math.imul(Qo,ya)|0,Ms=Ms+Math.imul(so,Na)|0,Q=Q+Math.imul(so,Sa)|0,Q=Q+Math.imul(Qs,Na)|0,$s=$s+Math.imul(Qs,Sa)|0,Ms=Ms+Math.imul(Oo,Fa)|0,Q=Q+Math.imul(Oo,Ea)|0,Q=Q+Math.imul(Vo,Fa)|0,$s=$s+Math.imul(Vo,Ea)|0,Ms=Ms+Math.imul(jo,ja)|0,Q=Q+Math.imul(jo,Ca)|0,Q=Q+Math.imul(Bo,ja)|0,$s=$s+Math.imul(Bo,Ca)|0;var pu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ms=Math.imul(Ta,Ba),Q=Math.imul(Ta,wa),Q=Q+Math.imul(ma,Ba)|0,$s=Math.imul(ma,wa),Ms=Ms+Math.imul(Aa,Oa)|0,Q=Q+Math.imul(Aa,ba)|0,Q=Q+Math.imul(_a,Oa)|0,$s=$s+Math.imul(_a,ba)|0,Ms=Ms+Math.imul(ga,Ia)|0,Q=Q+Math.imul(ga,xa)|0,Q=Q+Math.imul(ha,Ia)|0,$s=$s+Math.imul(ha,xa)|0,Ms=Ms+Math.imul(da,Pa)|0,Q=Q+Math.imul(da,$a)|0,Q=Q+Math.imul(fa,Pa)|0,$s=$s+Math.imul(fa,$a)|0,Ms=Ms+Math.imul(oa,Da)|0,Q=Q+Math.imul(oa,va)|0,Q=Q+Math.imul(ua,Da)|0,$s=$s+Math.imul(ua,va)|0,Ms=Ms+Math.imul(Ko,Ra)|0,Q=Q+Math.imul(Ko,ya)|0,Q=Q+Math.imul(Jo,Ra)|0,$s=$s+Math.imul(Jo,ya)|0,Ms=Ms+Math.imul(Zo,Na)|0,Q=Q+Math.imul(Zo,Sa)|0,Q=Q+Math.imul(Qo,Na)|0,$s=$s+Math.imul(Qo,Sa)|0,Ms=Ms+Math.imul(so,Fa)|0,Q=Q+Math.imul(so,Ea)|0,Q=Q+Math.imul(Qs,Fa)|0,$s=$s+Math.imul(Qs,Ea)|0,Ms=Ms+Math.imul(Oo,ja)|0,Q=Q+Math.imul(Oo,Ca)|0,Q=Q+Math.imul(Vo,ja)|0,$s=$s+Math.imul(Vo,Ca)|0;var mu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ms=Math.imul(Ta,Oa),Q=Math.imul(Ta,ba),Q=Q+Math.imul(ma,Oa)|0,$s=Math.imul(ma,ba),Ms=Ms+Math.imul(Aa,Ia)|0,Q=Q+Math.imul(Aa,xa)|0,Q=Q+Math.imul(_a,Ia)|0,$s=$s+Math.imul(_a,xa)|0,Ms=Ms+Math.imul(ga,Pa)|0,Q=Q+Math.imul(ga,$a)|0,Q=Q+Math.imul(ha,Pa)|0,$s=$s+Math.imul(ha,$a)|0,Ms=Ms+Math.imul(da,Da)|0,Q=Q+Math.imul(da,va)|0,Q=Q+Math.imul(fa,Da)|0,$s=$s+Math.imul(fa,va)|0,Ms=Ms+Math.imul(oa,Ra)|0,Q=Q+Math.imul(oa,ya)|0,Q=Q+Math.imul(ua,Ra)|0,$s=$s+Math.imul(ua,ya)|0,Ms=Ms+Math.imul(Ko,Na)|0,Q=Q+Math.imul(Ko,Sa)|0,Q=Q+Math.imul(Jo,Na)|0,$s=$s+Math.imul(Jo,Sa)|0,Ms=Ms+Math.imul(Zo,Fa)|0,Q=Q+Math.imul(Zo,Ea)|0,Q=Q+Math.imul(Qo,Fa)|0,$s=$s+Math.imul(Qo,Ea)|0,Ms=Ms+Math.imul(so,ja)|0,Q=Q+Math.imul(so,Ca)|0,Q=Q+Math.imul(Qs,ja)|0,$s=$s+Math.imul(Qs,Ca)|0;var gu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ms=Math.imul(Ta,Ia),Q=Math.imul(Ta,xa),Q=Q+Math.imul(ma,Ia)|0,$s=Math.imul(ma,xa),Ms=Ms+Math.imul(Aa,Pa)|0,Q=Q+Math.imul(Aa,$a)|0,Q=Q+Math.imul(_a,Pa)|0,$s=$s+Math.imul(_a,$a)|0,Ms=Ms+Math.imul(ga,Da)|0,Q=Q+Math.imul(ga,va)|0,Q=Q+Math.imul(ha,Da)|0,$s=$s+Math.imul(ha,va)|0,Ms=Ms+Math.imul(da,Ra)|0,Q=Q+Math.imul(da,ya)|0,Q=Q+Math.imul(fa,Ra)|0,$s=$s+Math.imul(fa,ya)|0,Ms=Ms+Math.imul(oa,Na)|0,Q=Q+Math.imul(oa,Sa)|0,Q=Q+Math.imul(ua,Na)|0,$s=$s+Math.imul(ua,Sa)|0,Ms=Ms+Math.imul(Ko,Fa)|0,Q=Q+Math.imul(Ko,Ea)|0,Q=Q+Math.imul(Jo,Fa)|0,$s=$s+Math.imul(Jo,Ea)|0,Ms=Ms+Math.imul(Zo,ja)|0,Q=Q+Math.imul(Zo,Ca)|0,Q=Q+Math.imul(Qo,ja)|0,$s=$s+Math.imul(Qo,Ca)|0;var _u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ms=Math.imul(Ta,Pa),Q=Math.imul(Ta,$a),Q=Q+Math.imul(ma,Pa)|0,$s=Math.imul(ma,$a),Ms=Ms+Math.imul(Aa,Da)|0,Q=Q+Math.imul(Aa,va)|0,Q=Q+Math.imul(_a,Da)|0,$s=$s+Math.imul(_a,va)|0,Ms=Ms+Math.imul(ga,Ra)|0,Q=Q+Math.imul(ga,ya)|0,Q=Q+Math.imul(ha,Ra)|0,$s=$s+Math.imul(ha,ya)|0,Ms=Ms+Math.imul(da,Na)|0,Q=Q+Math.imul(da,Sa)|0,Q=Q+Math.imul(fa,Na)|0,$s=$s+Math.imul(fa,Sa)|0,Ms=Ms+Math.imul(oa,Fa)|0,Q=Q+Math.imul(oa,Ea)|0,Q=Q+Math.imul(ua,Fa)|0,$s=$s+Math.imul(ua,Ea)|0,Ms=Ms+Math.imul(Ko,ja)|0,Q=Q+Math.imul(Ko,Ca)|0,Q=Q+Math.imul(Jo,ja)|0,$s=$s+Math.imul(Jo,Ca)|0;var bu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ms=Math.imul(Ta,Da),Q=Math.imul(Ta,va),Q=Q+Math.imul(ma,Da)|0,$s=Math.imul(ma,va),Ms=Ms+Math.imul(Aa,Ra)|0,Q=Q+Math.imul(Aa,ya)|0,Q=Q+Math.imul(_a,Ra)|0,$s=$s+Math.imul(_a,ya)|0,Ms=Ms+Math.imul(ga,Na)|0,Q=Q+Math.imul(ga,Sa)|0,Q=Q+Math.imul(ha,Na)|0,$s=$s+Math.imul(ha,Sa)|0,Ms=Ms+Math.imul(da,Fa)|0,Q=Q+Math.imul(da,Ea)|0,Q=Q+Math.imul(fa,Fa)|0,$s=$s+Math.imul(fa,Ea)|0,Ms=Ms+Math.imul(oa,ja)|0,Q=Q+Math.imul(oa,Ca)|0,Q=Q+Math.imul(ua,ja)|0,$s=$s+Math.imul(ua,Ca)|0;var vu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ms=Math.imul(Ta,Ra),Q=Math.imul(Ta,ya),Q=Q+Math.imul(ma,Ra)|0,$s=Math.imul(ma,ya),Ms=Ms+Math.imul(Aa,Na)|0,Q=Q+Math.imul(Aa,Sa)|0,Q=Q+Math.imul(_a,Na)|0,$s=$s+Math.imul(_a,Sa)|0,Ms=Ms+Math.imul(ga,Fa)|0,Q=Q+Math.imul(ga,Ea)|0,Q=Q+Math.imul(ha,Fa)|0,$s=$s+Math.imul(ha,Ea)|0,Ms=Ms+Math.imul(da,ja)|0,Q=Q+Math.imul(da,Ca)|0,Q=Q+Math.imul(fa,ja)|0,$s=$s+Math.imul(fa,Ca)|0;var yu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ms=Math.imul(Ta,Na),Q=Math.imul(Ta,Sa),Q=Q+Math.imul(ma,Na)|0,$s=Math.imul(ma,Sa),Ms=Ms+Math.imul(Aa,Fa)|0,Q=Q+Math.imul(Aa,Ea)|0,Q=Q+Math.imul(_a,Fa)|0,$s=$s+Math.imul(_a,Ea)|0,Ms=Ms+Math.imul(ga,ja)|0,Q=Q+Math.imul(ga,Ca)|0,Q=Q+Math.imul(ha,ja)|0,$s=$s+Math.imul(ha,Ca)|0;var wu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(wu>>>26)|0,wu&=67108863,Ms=Math.imul(Ta,Fa),Q=Math.imul(Ta,Ea),Q=Q+Math.imul(ma,Fa)|0,$s=Math.imul(ma,Ea),Ms=Ms+Math.imul(Aa,ja)|0,Q=Q+Math.imul(Aa,Ca)|0,Q=Q+Math.imul(_a,ja)|0,$s=$s+Math.imul(_a,Ca)|0;var $u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+($u>>>26)|0,$u&=67108863,Ms=Math.imul(Ta,ja),Q=Math.imul(Ta,Ca),Q=Q+Math.imul(ma,ja)|0,$s=Math.imul(ma,Ca);var Su=(Bs+Ms|0)+((Q&8191)<<13)|0;return Bs=($s+(Q>>>13)|0)+(Su>>>26)|0,Su&=67108863,Ds[0]=nu,Ds[1]=ou,Ds[2]=au,Ds[3]=uu,Ds[4]=cu,Ds[5]=lu,Ds[6]=du,Ds[7]=fu,Ds[8]=hu,Ds[9]=pu,Ds[10]=mu,Ds[11]=gu,Ds[12]=_u,Ds[13]=bu,Ds[14]=vu,Ds[15]=yu,Ds[16]=wu,Ds[17]=$u,Ds[18]=Su,Bs!==0&&(Ds[19]=Bs,nt.length++),nt};Math.imul||(zs=Gs);function Vs(f,Y,nt){nt.negative=Y.negative^f.negative,nt.length=f.length+Y.length;for(var vs=0,ks=0,Ds=0;Ds<nt.length-1;Ds++){var Bs=ks;ks=0;for(var Ms=vs&67108863,Q=Math.min(Ds,Y.length-1),$s=Math.max(0,Ds-f.length+1);$s<=Q;$s++){var Ks=Ds-$s,jo=f.words[Ks]|0,Bo=Y.words[$s]|0,To=jo*Bo,Oo=To&67108863;Bs=Bs+(To/67108864|0)|0,Oo=Oo+Ms|0,Ms=Oo&67108863,Bs=Bs+(Oo>>>26)|0,ks+=Bs>>>26,Bs&=67108863}nt.words[Ds]=Ms,vs=Bs,Bs=ks}return vs!==0?nt.words[Ds]=vs:nt.length--,nt._strip()}function Zs(f,Y,nt){return Vs(f,Y,nt)}l.prototype.mulTo=function(f,Y){var nt,vs=this.length+f.length;return this.length===10&&f.length===10?nt=zs(this,f,Y):vs<63?nt=Gs(this,f,Y):vs<1024?nt=Vs(this,f,Y):nt=Zs(this,f,Y),nt},l.prototype.mul=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),this.mulTo(f,Y)},l.prototype.mulf=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),Zs(this,f,Y)},l.prototype.imul=function(f){return this.clone().mulTo(f,this)},l.prototype.imuln=function(f){var Y=f<0;Y&&(f=-f),s(typeof f=="number"),s(f<67108864);for(var nt=0,vs=0;vs<this.length;vs++){var ks=(this.words[vs]|0)*f,Ds=(ks&67108863)+(nt&67108863);nt>>=26,nt+=ks/67108864|0,nt+=Ds>>>26,this.words[vs]=Ds&67108863}return nt!==0&&(this.words[vs]=nt,this.length++),this.length=f===0?1:this.length,Y?this.ineg():this},l.prototype.muln=function(f){return this.clone().imuln(f)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(f){var Y=Ls(f);if(Y.length===0)return new l(1);for(var nt=this,vs=0;vs<Y.length&&Y[vs]===0;vs++,nt=nt.sqr());if(++vs<Y.length)for(var ks=nt.sqr();vs<Y.length;vs++,ks=ks.sqr())Y[vs]!==0&&(nt=nt.mul(ks));return nt},l.prototype.iushln=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=67108863>>>26-Y<<26-Y,ks;if(Y!==0){var Ds=0;for(ks=0;ks<this.length;ks++){var Bs=this.words[ks]&vs,Ms=(this.words[ks]|0)-Bs<<Y;this.words[ks]=Ms|Ds,Ds=Bs>>>26-Y}Ds&&(this.words[ks]=Ds,this.length++)}if(nt!==0){for(ks=this.length-1;ks>=0;ks--)this.words[ks+nt]=this.words[ks];for(ks=0;ks<nt;ks++)this.words[ks]=0;this.length+=nt}return this._strip()},l.prototype.ishln=function(f){return s(this.negative===0),this.iushln(f)},l.prototype.iushrn=function(f,Y,nt){s(typeof f=="number"&&f>=0);var vs;Y?vs=(Y-Y%26)/26:vs=0;var ks=f%26,Ds=Math.min((f-ks)/26,this.length),Bs=67108863^67108863>>>ks<<ks,Ms=nt;if(vs-=Ds,vs=Math.max(0,vs),Ms){for(var Q=0;Q<Ds;Q++)Ms.words[Q]=this.words[Q];Ms.length=Ds}if(Ds!==0)if(this.length>Ds)for(this.length-=Ds,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Ds];else this.words[0]=0,this.length=1;var $s=0;for(Q=this.length-1;Q>=0&&($s!==0||Q>=vs);Q--){var Ks=this.words[Q]|0;this.words[Q]=$s<<26-ks|Ks>>>ks,$s=Ks&Bs}return Ms&&$s!==0&&(Ms.words[Ms.length++]=$s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(f,Y,nt){return s(this.negative===0),this.iushrn(f,Y,nt)},l.prototype.shln=function(f){return this.clone().ishln(f)},l.prototype.ushln=function(f){return this.clone().iushln(f)},l.prototype.shrn=function(f){return this.clone().ishrn(f)},l.prototype.ushrn=function(f){return this.clone().iushrn(f)},l.prototype.testn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return!1;var ks=this.words[nt];return!!(ks&vs)},l.prototype.imaskn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=nt)return this;if(Y!==0&&nt++,this.length=Math.min(nt,this.length),Y!==0){var vs=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=vs}return this._strip()},l.prototype.maskn=function(f){return this.clone().imaskn(f)},l.prototype.iaddn=function(f){return s(typeof f=="number"),s(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},l.prototype._iaddn=function(f){this.words[0]+=f;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},l.prototype.isubn=function(f){if(s(typeof f=="number"),s(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},l.prototype.addn=function(f){return this.clone().iaddn(f)},l.prototype.subn=function(f){return this.clone().isubn(f)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(f,Y,nt){var vs=f.length+nt,ks;this._expand(vs);var Ds,Bs=0;for(ks=0;ks<f.length;ks++){Ds=(this.words[ks+nt]|0)+Bs;var Ms=(f.words[ks]|0)*Y;Ds-=Ms&67108863,Bs=(Ds>>26)-(Ms/67108864|0),this.words[ks+nt]=Ds&67108863}for(;ks<this.length-nt;ks++)Ds=(this.words[ks+nt]|0)+Bs,Bs=Ds>>26,this.words[ks+nt]=Ds&67108863;if(Bs===0)return this._strip();for(s(Bs===-1),Bs=0,ks=0;ks<this.length;ks++)Ds=-(this.words[ks]|0)+Bs,Bs=Ds>>26,this.words[ks]=Ds&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(f,Y){var nt=this.length-f.length,vs=this.clone(),ks=f,Ds=ks.words[ks.length-1]|0,Bs=this._countBits(Ds);nt=26-Bs,nt!==0&&(ks=ks.ushln(nt),vs.iushln(nt),Ds=ks.words[ks.length-1]|0);var Ms=vs.length-ks.length,Q;if(Y!=="mod"){Q=new l(null),Q.length=Ms+1,Q.words=new Array(Q.length);for(var $s=0;$s<Q.length;$s++)Q.words[$s]=0}var Ks=vs.clone()._ishlnsubmul(ks,1,Ms);Ks.negative===0&&(vs=Ks,Q&&(Q.words[Ms]=1));for(var jo=Ms-1;jo>=0;jo--){var Bo=(vs.words[ks.length+jo]|0)*67108864+(vs.words[ks.length+jo-1]|0);for(Bo=Math.min(Bo/Ds|0,67108863),vs._ishlnsubmul(ks,Bo,jo);vs.negative!==0;)Bo--,vs.negative=0,vs._ishlnsubmul(ks,1,jo),vs.isZero()||(vs.negative^=1);Q&&(Q.words[jo]=Bo)}return Q&&Q._strip(),vs._strip(),Y!=="div"&&nt!==0&&vs.iushrn(nt),{div:Q||null,mod:vs}},l.prototype.divmod=function(f,Y,nt){if(s(!f.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var vs,ks,Ds;return this.negative!==0&&f.negative===0?(Ds=this.neg().divmod(f,Y),Y!=="mod"&&(vs=Ds.div.neg()),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.iadd(f)),{div:vs,mod:ks}):this.negative===0&&f.negative!==0?(Ds=this.divmod(f.neg(),Y),Y!=="mod"&&(vs=Ds.div.neg()),{div:vs,mod:Ds.mod}):this.negative&f.negative?(Ds=this.neg().divmod(f.neg(),Y),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.isub(f)),{div:Ds.div,mod:ks}):f.length>this.length||this.cmp(f)<0?{div:new l(0),mod:this}:f.length===1?Y==="div"?{div:this.divn(f.words[0]),mod:null}:Y==="mod"?{div:null,mod:new l(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new l(this.modrn(f.words[0]))}:this._wordDiv(f,Y)},l.prototype.div=function(f){return this.divmod(f,"div",!1).div},l.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},l.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},l.prototype.divRound=function(f){var Y=this.divmod(f);if(Y.mod.isZero())return Y.div;var nt=Y.div.negative!==0?Y.mod.isub(f):Y.mod,vs=f.ushrn(1),ks=f.andln(1),Ds=nt.cmp(vs);return Ds<0||ks===1&&Ds===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},l.prototype.modrn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=(1<<26)%f,vs=0,ks=this.length-1;ks>=0;ks--)vs=(nt*vs+(this.words[ks]|0))%f;return Y?-vs:vs},l.prototype.modn=function(f){return this.modrn(f)},l.prototype.idivn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=(this.words[vs]|0)+nt*67108864;this.words[vs]=ks/f|0,nt=ks%f}return this._strip(),Y?this.ineg():this},l.prototype.divn=function(f){return this.clone().idivn(f)},l.prototype.egcd=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=new l(0),Bs=new l(1),Ms=0;Y.isEven()&&nt.isEven();)Y.iushrn(1),nt.iushrn(1),++Ms;for(var Q=nt.clone(),$s=Y.clone();!Y.isZero();){for(var Ks=0,jo=1;!(Y.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(Y.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Q),ks.isub($s)),vs.iushrn(1),ks.iushrn(1);for(var Bo=0,To=1;!(nt.words[0]&To)&&Bo<26;++Bo,To<<=1);if(Bo>0)for(nt.iushrn(Bo);Bo-- >0;)(Ds.isOdd()||Bs.isOdd())&&(Ds.iadd(Q),Bs.isub($s)),Ds.iushrn(1),Bs.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(Ds),ks.isub(Bs)):(nt.isub(Y),Ds.isub(vs),Bs.isub(ks))}return{a:Ds,b:Bs,gcd:nt.iushln(Ms)}},l.prototype._invmp=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=nt.clone();Y.cmpn(1)>0&&nt.cmpn(1)>0;){for(var Bs=0,Ms=1;!(Y.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(Y.iushrn(Bs);Bs-- >0;)vs.isOdd()&&vs.iadd(Ds),vs.iushrn(1);for(var Q=0,$s=1;!(nt.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(nt.iushrn(Q);Q-- >0;)ks.isOdd()&&ks.iadd(Ds),ks.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(ks)):(nt.isub(Y),ks.isub(vs))}var Ks;return Y.cmpn(1)===0?Ks=vs:Ks=ks,Ks.cmpn(0)<0&&Ks.iadd(f),Ks},l.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var Y=this.clone(),nt=f.clone();Y.negative=0,nt.negative=0;for(var vs=0;Y.isEven()&&nt.isEven();vs++)Y.iushrn(1),nt.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;nt.isEven();)nt.iushrn(1);var ks=Y.cmp(nt);if(ks<0){var Ds=Y;Y=nt,nt=Ds}else if(ks===0||nt.cmpn(1)===0)break;Y.isub(nt)}while(!0);return nt.iushln(vs)},l.prototype.invm=function(f){return this.egcd(f).a.umod(f)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(f){return this.words[0]&f},l.prototype.bincn=function(f){s(typeof f=="number");var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return this._expand(nt+1),this.words[nt]|=vs,this;for(var ks=vs,Ds=nt;ks!==0&&Ds<this.length;Ds++){var Bs=this.words[Ds]|0;Bs+=ks,ks=Bs>>>26,Bs&=67108863,this.words[Ds]=Bs}return ks!==0&&(this.words[Ds]=ks,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(f){var Y=f<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var nt;if(this.length>1)nt=1;else{Y&&(f=-f),s(f<=67108863,"Number is too big");var vs=this.words[0]|0;nt=vs===f?0:vs<f?-1:1}return this.negative!==0?-nt|0:nt},l.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var Y=this.ucmp(f);return this.negative!==0?-Y|0:Y},l.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var Y=0,nt=this.length-1;nt>=0;nt--){var vs=this.words[nt]|0,ks=f.words[nt]|0;if(vs!==ks){vs<ks?Y=-1:vs>ks&&(Y=1);break}}return Y},l.prototype.gtn=function(f){return this.cmpn(f)===1},l.prototype.gt=function(f){return this.cmp(f)===1},l.prototype.gten=function(f){return this.cmpn(f)>=0},l.prototype.gte=function(f){return this.cmp(f)>=0},l.prototype.ltn=function(f){return this.cmpn(f)===-1},l.prototype.lt=function(f){return this.cmp(f)===-1},l.prototype.lten=function(f){return this.cmpn(f)<=0},l.prototype.lte=function(f){return this.cmp(f)<=0},l.prototype.eqn=function(f){return this.cmpn(f)===0},l.prototype.eq=function(f){return this.cmp(f)===0},l.red=function(f){return new Hs(f)},l.prototype.toRed=function(f){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(f){return this.red=f,this},l.prototype.forceRed=function(f){return s(!this.red,"Already a number in reduction context"),this._forceRed(f)},l.prototype.redAdd=function(f){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},l.prototype.redIAdd=function(f){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},l.prototype.redSub=function(f){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},l.prototype.redISub=function(f){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},l.prototype.redShl=function(f){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},l.prototype.redMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},l.prototype.redIMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(f){return s(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var Js={k256:null,p224:null,p192:null,p25519:null};function xo(f,Y){this.name=f,this.p=new l(Y,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xo.prototype._tmp=function(){var f=new l(null);return f.words=new Array(Math.ceil(this.n/13)),f},xo.prototype.ireduce=function(f){var Y=f,nt;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),nt=Y.bitLength();while(nt>this.n);var vs=nt<this.n?-1:Y.ucmp(this.p);return vs===0?(Y.words[0]=0,Y.length=1):vs>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},xo.prototype.split=function(f,Y){f.iushrn(this.n,0,Y)},xo.prototype.imulK=function(f){return f.imul(this.k)};function Io(){xo.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Io,xo),Io.prototype.split=function(f,Y){for(var nt=4194303,vs=Math.min(f.length,9),ks=0;ks<vs;ks++)Y.words[ks]=f.words[ks];if(Y.length=vs,f.length<=9){f.words[0]=0,f.length=1;return}var Ds=f.words[9];for(Y.words[Y.length++]=Ds&nt,ks=10;ks<f.length;ks++){var Bs=f.words[ks]|0;f.words[ks-10]=(Bs&nt)<<4|Ds>>>22,Ds=Bs}Ds>>>=22,f.words[ks-10]=Ds,Ds===0&&f.length>10?f.length-=10:f.length-=9},Io.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var Y=0,nt=0;nt<f.length;nt++){var vs=f.words[nt]|0;Y+=vs*977,f.words[nt]=Y&67108863,Y=vs*64+(Y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Uo(){xo.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Uo,xo);function Fo(){xo.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Fo,xo);function Ys(){xo.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ys,xo),Ys.prototype.imulK=function(f){for(var Y=0,nt=0;nt<f.length;nt++){var vs=(f.words[nt]|0)*19+Y,ks=vs&67108863;vs>>>=26,f.words[nt]=ks,Y=vs}return Y!==0&&(f.words[f.length++]=Y),f},l._prime=function(f){if(Js[f])return Js[f];var Y;if(f==="k256")Y=new Io;else if(f==="p224")Y=new Uo;else if(f==="p192")Y=new Fo;else if(f==="p25519")Y=new Ys;else throw new Error("Unknown prime "+f);return Js[f]=Y,Y};function Hs(f){if(typeof f=="string"){var Y=l._prime(f);this.m=Y.p,this.prime=Y}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}Hs.prototype._verify1=function(f){s(f.negative===0,"red works only with positives"),s(f.red,"red works only with red numbers")},Hs.prototype._verify2=function(f,Y){s((f.negative|Y.negative)===0,"red works only with positives"),s(f.red&&f.red===Y.red,"red works only with red numbers")},Hs.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(xi(f,f.umod(this.m)._forceRed(this)),f)},Hs.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Hs.prototype.add=function(f,Y){this._verify2(f,Y);var nt=f.add(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt._forceRed(this)},Hs.prototype.iadd=function(f,Y){this._verify2(f,Y);var nt=f.iadd(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt},Hs.prototype.sub=function(f,Y){this._verify2(f,Y);var nt=f.sub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt._forceRed(this)},Hs.prototype.isub=function(f,Y){this._verify2(f,Y);var nt=f.isub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt},Hs.prototype.shl=function(f,Y){return this._verify1(f),this.imod(f.ushln(Y))},Hs.prototype.imul=function(f,Y){return this._verify2(f,Y),this.imod(f.imul(Y))},Hs.prototype.mul=function(f,Y){return this._verify2(f,Y),this.imod(f.mul(Y))},Hs.prototype.isqr=function(f){return this.imul(f,f.clone())},Hs.prototype.sqr=function(f){return this.mul(f,f)},Hs.prototype.sqrt=function(f){if(f.isZero())return f.clone();var Y=this.m.andln(3);if(s(Y%2===1),Y===3){var nt=this.m.add(new l(1)).iushrn(2);return this.pow(f,nt)}for(var vs=this.m.subn(1),ks=0;!vs.isZero()&&vs.andln(1)===0;)ks++,vs.iushrn(1);s(!vs.isZero());var Ds=new l(1).toRed(this),Bs=Ds.redNeg(),Ms=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,Ms).cmp(Bs)!==0;)Q.redIAdd(Bs);for(var $s=this.pow(Q,vs),Ks=this.pow(f,vs.addn(1).iushrn(1)),jo=this.pow(f,vs),Bo=ks;jo.cmp(Ds)!==0;){for(var To=jo,Oo=0;To.cmp(Ds)!==0;Oo++)To=To.redSqr();s(Oo<Bo);var Vo=this.pow($s,new l(1).iushln(Bo-Oo-1));Ks=Ks.redMul(Vo),$s=Vo.redSqr(),jo=jo.redMul($s),Bo=Oo}return Ks},Hs.prototype.invm=function(f){var Y=f._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},Hs.prototype.pow=function(f,Y){if(Y.isZero())return new l(1).toRed(this);if(Y.cmpn(1)===0)return f.clone();var nt=4,vs=new Array(1<<nt);vs[0]=new l(1).toRed(this),vs[1]=f;for(var ks=2;ks<vs.length;ks++)vs[ks]=this.mul(vs[ks-1],f);var Ds=vs[0],Bs=0,Ms=0,Q=Y.bitLength()%26;for(Q===0&&(Q=26),ks=Y.length-1;ks>=0;ks--){for(var $s=Y.words[ks],Ks=Q-1;Ks>=0;Ks--){var jo=$s>>Ks&1;if(Ds!==vs[0]&&(Ds=this.sqr(Ds)),jo===0&&Bs===0){Ms=0;continue}Bs<<=1,Bs|=jo,Ms++,!(Ms!==nt&&(ks!==0||Ks!==0))&&(Ds=this.mul(Ds,vs[Bs]),Ms=0,Bs=0)}Q=26}return Ds},Hs.prototype.convertTo=function(f){var Y=f.umod(this.m);return Y===f?Y.clone():Y},Hs.prototype.convertFrom=function(f){var Y=f.clone();return Y.red=null,Y},l.mont=function(f){return new Ws(f)};function Ws(f){Hs.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ws,Hs),Ws.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Ws.prototype.convertFrom=function(f){var Y=this.imod(f.mul(this.rinv));return Y.red=null,Y},Ws.prototype.imul=function(f,Y){if(f.isZero()||Y.isZero())return f.words[0]=0,f.length=1,f;var nt=f.imul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.mul=function(f,Y){if(f.isZero()||Y.isZero())return new l(0)._forceRed(this);var nt=f.mul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.invm=function(f){var Y=this.imod(f._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(typeof e>"u"||e,t)}),Pi$1={env:"mainnet",full_rpc_url:ki$1,farms:{package_id:"0x11ea791d82b5742cc8cab0bf7946035c97d9001d7c3803a93f119753da66f526",published_at:"0x585381670c3d7c1f78caeb6c803f449442659743f4047a01b942da08bbfa19f6",config:{global_config_id:"0x21215f2f6de04b57dd87d9be7bb4e15499aec935e36078e2488f36436d64996e",rewarder_manager_id:"0xe0e155a88c77025056da08db5b1701a91b79edb6167462f768e387c3ed6614d5",rewarder_manager_handle:"0xb32e312cbb3367d6f3d2b4e57c9225e903d29b7b9f612dae2ddf75bdeb26a5aa",admin_cap_id:"0xf10fbf1fea5b7aeaa524b87769461a28c5c977613046360093673991f26d886c"}}},Si$1={env:"testnet",full_rpc_url:Fi$1,farms:{package_id:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",published_at:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",version:1,config:{global_config_id:"0x499132a4baf342a0fe9528a3666a77b2aece3be129f4a3ada469fef4b9c34fb4",rewarder_manager_id:"0x960c7800e301fd1e47b79037927b426db57b643bd2934f7069d81c2dae092230",rewarder_manager_handle:"0x1274149371876b60742cd02071a09f2aa72ffee75b76fdfc45724d98f18ea5b5",admin_cap_id:"0x110175e641c1ea8f9287f4fd59cb6a1fb97a3f3ec595aa30d0e6ed93ac4caa0c"}}},Vt$4=(t=>(t.BuildError="BuildError",t.FetchError="FetchError",t))(Vt$4||{}),St$1=class extends Me$4{constructor(e,i,n){super(e,i||"UnknownError",n)}static isFarmsErrorCode(e,i){return this.isErrorCode(e,i)}},yt$1=(t,e,i)=>{throw new St$1(e.message,t,i)},ei$2=$i$3(Ti$1()),At$1=class{static calculatePositionShare(e,i,n,s,a,l,A){if(i<=a||e>=l)return"0";let T=0;e<a?T=a:T=e;let q=0;i<l?q=i:q=l;let et=Zt$3.tickIndexToSqrtPriceX64(T),xi=Zt$3.tickIndexToSqrtPriceX64(q),{coin_amount_a:Oi,coin_amount_b:Ts}=mr$5.getCoinAmountFromLiquidity(new ei$2.default(n),new ei$2.default(A),et,xi,!0);return G$2(Oi).mul(s).div(1e12).add(Ts).toString()}static buildFarmsPool(e){try{let i=Is(e),n=[];return i.rewarders.forEach(s=>{n.push({reward_coin:ie$2(s.fields.name).full_address,last_reward_time:"",emission_per_second:"",total_allocate_point:"",allocate_point:""})}),{id:i.id.id,clmm_pool_id:i.clmm_pool_id,effective_tick_lower:po$1(BigInt(i.effective_tick_lower.fields.bits)),effective_tick_upper:po$1(BigInt(i.effective_tick_upper.fields.bits)),total_share:i.total_share,rewarders:n,positions:{positions_handle:i.positions.fields.id.id,size:i.positions.fields.size},sqrt_price:i.sqrt_price}}catch(i){return yt$1("BuildError",i,{[be$5.METHOD_NAME]:"buildFarmsPool"})}}static buildFarmsPositionNFT(e){try{let i=Is(e),n=i.clmm_postion.fields;return{id:i.id.id,url:n.url,pool_id:i.pool_id,coin_type_a:ie$2(n.coin_type_a.fields.name).full_address,coin_type_b:ie$2(n.coin_type_b.fields.name).full_address,description:n.description,name:n.name,liquidity:n.liquidity,clmm_position_id:n.id.id,clmm_pool_id:n.pool,tick_lower_index:po$1(BigInt(n.tick_lower_index.fields.bits)),tick_upper_index:po$1(BigInt(n.tick_upper_index.fields.bits)),rewards:[]}}catch(i){return yt$1("BuildError",i,{[be$5.METHOD_NAME]:"buildFarmsPositionNFT"})}}},Tt$2=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}async getFarmsPoolList(e="all"){let{package_id:i}=this._sdk.sdkOptions.farms,n={data:[],has_next_page:!1};try{let s=await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${i}::pool::CreatePoolEvent`},e),a=s.data.map(l=>l.parsedJson.pool_id);if(n.has_next_page=s.has_next_page,n.next_cursor=s.next_cursor,a.length>0){let l=await this._sdk.FullClient.batchGetObjects(a,{showType:!0,showContent:!0});for(let A of l){let T=At$1.buildFarmsPool(A);T&&(T.rewarders=await this.getFarmsRewarderConfig(T.clmm_pool_id,T.rewarders.map(q=>q.reward_coin)),n.data.push(T),this._sdk.updateCache(T.id,T))}}}catch(s){return console.log("getFarmsPoolList error ",s),yt$1("FetchError",s,{[be$5.METHOD_NAME]:"getFarmsPoolList"})}return n}async getFarmsPool(e,i=!1){let n=this._sdk.getCache(e,i);if(n)return n;try{let s=await this._sdk.FullClient.getObject({id:e,options:{showType:!0,showContent:!0}}),a=At$1.buildFarmsPool(s.data);return a&&(a.rewarders=await this.getFarmsRewarderConfig(a.clmm_pool_id,a.rewarders.map(l=>l.reward_coin)),this._sdk.updateCache(a.id,a)),a}catch(s){return yt$1("FetchError",s,{[be$5.METHOD_NAME]:"getFarmsPool",[be$5.REQUEST_PARAMS]:{id:e}})}}async getFarmsRewarderConfig(e,i,n=!1){let{farms:s}=this._sdk.sdkOptions,a=[];for(let l of i){let A=`getFarmsRewarderConfig_${l}_${e}`,T=this._sdk.getCache(A,n);if(T)a.push(T);else try{let q=await this._sdk.FullClient.getDynamicFieldObject({parentId:na(s).rewarder_manager_handle,name:{type:"0x1::type_name::TypeName",value:li$1(l)}}),{fields:et}=q.data.content.fields.value.fields.value,xi={reward_coin:l,last_reward_time:et.last_reward_time,emission_per_second:et.emission_per_second,total_allocate_point:et.total_allocate_point,allocate_point:""},Oi=et.pools.fields.id.id,Ts=await this._sdk.FullClient.getDynamicFieldObject({parentId:Oi,name:{type:"0x2::object::ID",value:e}}),{allocate_point:Fs}=Ts.data.content.fields.value.fields.value.fields;xi.allocate_point=Fs,this._sdk.updateCache(A,xi),a.push(xi)}catch(q){console.log(q)}}return a}async getOwnedFarmsPositionNFTList(e,i=[],n=!1,s="all"){try{let{package_id:a}=this._sdk.sdkOptions.farms,l={data:[],has_next_page:!1},A={},T=[],q=i.length>0,et=await this._sdk.FullClient.getOwnedObjectsByPage(e,{filter:{StructType:`${a}::pool::WrappedPositionNFT`},options:{showContent:!0}},s);l.has_next_page=et.has_next_page,l.next_cursor=et.next_cursor;for(let xi of et.data){let Oi=At$1.buildFarmsPositionNFT(xi);if(Oi)if(q){if(i.includes(Oi.pool_id)){T.push(Oi);let Ts=A[Oi.pool_id];Ts?Ts.push(Oi):Ts=[Oi],A[Oi.pool_id]=Ts}}else T.push(Oi)}if(n&&T.length>0){let xi=await this.calculateFarmingRewards(T.map(Oi=>({pool_id:Oi.pool_id,position_nft_id:Oi.id,clmm_pool_id:Oi.clmm_pool_id})));q?(A={},T.forEach(Oi=>{xi[Oi.id]&&(Oi.rewards=xi[Oi.id]);let Ts=A[Oi.pool_id];Ts?Ts.push(Oi):Ts=[Oi],A[Oi.pool_id]=Ts})):T.forEach(Oi=>{xi[Oi.id]&&(Oi.rewards=xi[Oi.id])})}return q?A:(l.data=T,l)}catch(a){return yt$1("FetchError",a,{[be$5.METHOD_NAME]:"getOwnedFarmsPositionNFTList"})}}async getFarmsPositionNFT(e,i=!0){try{let n=await this._sdk.FullClient.getObject({id:e,options:{showContent:!0,showType:!0}}),s=At$1.buildFarmsPositionNFT(n);if(i&&s){let a=await this.calculateFarmingRewards([{pool_id:s.pool_id,position_nft_id:s.id}]);a[s.id]&&(s.rewards=a[s.id])}return s}catch(n){return yt$1("FetchError",n,{[be$5.METHOD_NAME]:"getFarmsPositionNFT",[be$5.REQUEST_PARAMS]:{position_nft_id:e}})}}buildCalculateFarmingReward(e,i){let{farms:n}=this._sdk.sdkOptions,{rewarder_manager_id:s,global_config_id:a}=na(n);i.moveCall({target:`${n.published_at}::router::accumulated_position_rewards`,typeArguments:[],arguments:[i.object(a),i.object(s),i.object(e.pool_id),i.pure.address(e.position_nft_id),i.object(no$2)]})}parsedPosRewardData(e){var s;let i={},n=(s=e.events)==null?void 0:s.filter(a=>a.type.includes("AccumulatedPositionRewardsEvent"));for(let a=0;a<n.length;a+=1){let{parsedJson:l}=n[a],A=[];l.rewards.contents.forEach(T=>{A.push({rewarder_type:ie$2(T.key.name).full_address,rewarder_amount:T.value})}),i[l.wrapped_position_id]=A}return i}async calculateFarmingRewards(e,i){i=i||new Transaction,e.forEach(s=>{i&&this.buildCalculateFarmingReward(s,i)});let n={};try{let s=await this._sdk.FullClient.devInspectTransactionBlock({transactionBlock:i,sender:this._sdk.getSenderAddress()});return this.parsedPosRewardData(s)}catch(s){return yt$1("FetchError",s,{[be$5.METHOD_NAME]:"calculateFarmingRewards",[be$5.REQUEST_PARAMS]:{params:e}})}return n}depositPayload(e,i){let{farms:n}=this.sdk.sdkOptions;i=i||new Transaction;let{global_config_id:s,rewarder_manager_id:a}=na(n);return i.moveCall({target:`${n.published_at}::router::deposit`,typeArguments:[],arguments:[i.object(s),i.object(a),i.object(e.pool_id),i.object(e.clmm_position_id),i.object(no$2)]}),i}async withdrawPayload(e,i){let{farms:n}=this.sdk.sdkOptions,{global_config_id:s,rewarder_manager_id:a}=na(n);return i=i||new Transaction,i=await this.harvestPayload({pool_id:e.pool_id,position_nft_id:e.position_nft_id},i),i.moveCall({target:`${n.published_at}::router::withdraw`,typeArguments:[],arguments:[i.object(s),i.object(a),i.object(e.pool_id),i.object(e.position_nft_id),i.object(no$2)]}),i}async batchHarvestPayload(e,i){i=i||new Transaction;for(let n of e)await this.harvestPayload(n,i);return i}async batchHarvestAndClmmFeePayload(e,i){let n=new Transaction,s={},a=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.ClmmSDK.getSenderAddress(),null);for(let q of i)this.collectClmmFeeInternal(q,s,n,a),this.collectClmmRewardInternal(q,s,n,a);let{farms:l}=this.sdk.sdkOptions,{global_config_id:A,rewarder_manager_id:T}=na(l);for(let q of e){let et=await this.getFarmsPool(q.pool_id,!1);if(et===void 0)throw Error(`not found ${q.pool_id}`);q.collect_fee&&this.collectFeeInternal(q,s,n,a),q.clmm_rewarder_types.length>0&&await this.collectRewardInternal(q,s,n,a),q.collect_farms_rewarder&&et.rewarders.forEach(xi=>{n&&n.moveCall({target:`${l.published_at}::router::harvest`,typeArguments:[xi.reward_coin],arguments:[n.object(A),n.object(T),n.object(q.pool_id),n.object(q.position_nft_id),n.object(no$2)]})})}return Object.keys(s).forEach(q=>{let et=s[q],{original_spited_coin:xi}=et;(et.is_mint_zero_coin||xi&&(xi==null?void 0:xi.$kind)==="GasCoin")&&$o(this._sdk.ClmmSDK,n,et.target_coin,q,this._sdk.getSenderAddress())}),n}async collectRewardInternal(e,i,n,s){let a=[];e.clmm_rewarder_types.forEach(l=>{let A=ai$2(l),T=i[l];T===void 0&&(T=Oe$3.buildCoinForAmount(n,s,BigInt(0),A,!1),i[A]=T),a.push(T.target_coin)}),await this.collectClmmRewardNoSendPayload(e,n)}collectFeeInternal(e,i,n,s){let{farms:a}=this.sdk.sdkOptions,{global_config_id:l}=na(a),{clmm_pool:A,integrate:T}=this.sdk.ClmmSDK.sdkOptions,q=na(A),et=ai$2(e.coin_type_a),xi=ai$2(e.coin_type_b),Oi=i[et];Oi===void 0&&(Oi=Oe$3.buildCoinForAmount(n,s,BigInt(0),et,!1),i[et]=Oi);let Ts=i[xi];Ts===void 0&&(Ts=Oe$3.buildCoinForAmount(n,s,BigInt(0),xi,!1),i[xi]=Ts),n.moveCall({target:`${T.published_at}::stable_farming::collect_fee`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[n.object(l),n.object(q.global_config_id),n.object(e.clmm_pool_id),n.object(e.position_nft_id),Oi.target_coin,Ts.target_coin]})}collectClmmRewardInternal(e,i,n,s){let a=[];e.rewarder_coin_types.forEach(l=>{let A=ai$2(l),T=i[l];T===void 0&&(T=Oe$3.buildCoinForAmount(n,s,BigInt(0),A,!1),i[A]=T),a.push(T.target_coin)}),this._sdk.ClmmSDK.Rewarder.createCollectRewarderNoSendPayload(e,n,a)}collectClmmFeeInternal(e,i,n,s){if(e.collect_fee){let a=ai$2(e.coin_type_a),l=ai$2(e.coin_type_b),A=i[a];A===void 0&&(A=Oe$3.buildCoinForAmount(n,s,BigInt(0),a,!1),i[a]=A);let T=i[l];T===void 0&&(T=Oe$3.buildCoinForAmount(n,s,BigInt(0),l,!1),i[l]=T),this._sdk.ClmmSDK.Position.createCollectFeeNoSendPayload({pool_id:e.pool_id,pos_id:e.pos_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b},n,A.target_coin,T.target_coin)}}async harvestPayload(e,i){let{farms:n}=this.sdk.sdkOptions;i=i||new Transaction;let s=await this.getFarmsPool(e.pool_id,!1),{global_config_id:a,rewarder_manager_id:l}=na(n);if("collect_fee"in e&&(e.collect_fee||e.clmm_rewarder_types.length>0)){let A=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());i=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:e.clmm_pool_id,position_nft_id:e.position_nft_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,collect_fee:e.collect_fee,clmm_rewarder_types:e.clmm_rewarder_types},i,A)}return s.rewarders.forEach(A=>{i&&i.moveCall({target:`${n.published_at}::router::harvest`,typeArguments:[A.reward_coin],arguments:[i.object(a),i.object(l),i.object(e.pool_id),i.object(e.position_nft_id),i.object(no$2)]})}),i}async claimFeeAndClmmReward(e){let i=new Transaction,n=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());return await this.buildCollectRewarderAndFeeParams({clmm_pool_id:e.clmm_pool_id,position_nft_id:e.position_nft_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,collect_fee:e.collect_fee,clmm_rewarder_types:e.clmm_rewarder_types},i,n),i}async openPositionAddLiquidityStakePayload(e){let i=new Transaction,{clmm_pool:n,integrate:s}=this._sdk.ClmmSDK.sdkOptions,a=na(n),l=i.moveCall({target:`${n.published_at}::pool::open_position`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[i.object(a.global_config_id),i.object(e.clmm_pool_id),i.pure.u32(Number(mo$1(BigInt(e.tick_lower)).toString())),i.pure.u32(Number(mo$1(BigInt(e.tick_upper)).toString()))]}),A=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress()),T=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_a),e.coin_type_a,!1),q=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_b),e.coin_type_b,!1);i.moveCall({target:`${s.published_at}::${Vt$5}::add_liquidity_by_fix_coin`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[i.object(a.global_config_id),i.object(e.clmm_pool_id),l,T.target_coin,q.target_coin,i.pure.u64(e.amount_a.toString()),i.pure.u64(e.amount_b.toString()),i.pure.bool(e.fix_amount_a),i.object(no$2)]});let{farms:et}=this.sdk.sdkOptions,{global_config_id:xi,rewarder_manager_id:Oi}=na(et);return i.moveCall({target:`${et.published_at}::router::deposit`,typeArguments:[],arguments:[i.object(xi),i.object(Oi),i.object(e.pool_id),l,i.object(no$2)]}),i}async addLiquidityPayload(e,i){let{farms:n}=this.sdk.sdkOptions,{clmm_pool:s}=this.sdk.ClmmSDK.sdkOptions;i=i||new Transaction;let a=na(n),l=na(s),A=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress()),T=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_limit_a),e.coin_type_a,!1),q=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_limit_b),e.coin_type_b,!1);if(e.collect_rewarder&&(i=await this.harvestPayload({pool_id:e.pool_id,position_nft_id:e.position_nft_id,clmm_pool_id:e.clmm_pool_id},i)),e.collect_fee||e.clmm_rewarder_types.length>0){let et=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());i=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:e.clmm_pool_id,position_nft_id:e.position_nft_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,collect_fee:e.collect_fee,clmm_rewarder_types:e.clmm_rewarder_types},i,et,T.remain_coins,q.remain_coins)}return i.moveCall({target:`${n.published_at}::router::add_liquidity`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[i.object(a.global_config_id),i.object(l.global_config_id),i.object(a.rewarder_manager_id),i.object(e.pool_id),i.object(e.clmm_pool_id),i.object(e.position_nft_id),T.target_coin,q.target_coin,i.pure.u64(e.amount_limit_a),i.pure.u64(e.amount_limit_b),i.pure.u128(e.delta_liquidity),i.object(no$2)]}),i}async addLiquidityFixCoinPayload(e,i){let{farms:n}=this.sdk.sdkOptions,{clmm_pool:s}=this.sdk.ClmmSDK.sdkOptions;i=i||new Transaction;let a=na(n),l=na(s),A=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress()),T=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_a),e.coin_type_a,!1),q=Oe$3.buildCoinForAmount(i,A,BigInt(e.amount_b),e.coin_type_b,!1);if(e.collect_rewarder&&(i=await this.harvestPayload({pool_id:e.pool_id,position_nft_id:e.position_nft_id,clmm_pool_id:e.clmm_pool_id},i)),e.collect_fee||e.clmm_rewarder_types.length>0){let et=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());i=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:e.clmm_pool_id,position_nft_id:e.position_nft_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,collect_fee:e.collect_fee,clmm_rewarder_types:e.clmm_rewarder_types},i,et,T.remain_coins,q.remain_coins)}return i.moveCall({target:`${n.published_at}::router::add_liquidity_fix_coin`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[i.object(a.global_config_id),i.object(l.global_config_id),i.object(a.rewarder_manager_id),i.object(e.pool_id),i.object(e.clmm_pool_id),i.object(e.position_nft_id),T.target_coin,q.target_coin,i.pure.u64(e.amount_a.toString()),i.pure.u64(e.amount_b.toString()),i.pure.bool(e.fix_amount_a),i.object(no$2)]}),i}async removeLiquidityPayload(e,i){let{farms:n}=this.sdk.sdkOptions,{clmm_pool:s}=this.sdk.ClmmSDK.sdkOptions;i=i||new Transaction;let a=na(n),l=na(s);if(e.collect_rewarder&&(!e.unstake||e.close_position)&&(i=await this.harvestPayload({pool_id:e.pool_id,position_nft_id:e.position_nft_id,clmm_pool_id:e.clmm_pool_id},i)),e.clmm_rewarder_types.length>0){let A=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());i=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:e.clmm_pool_id,position_nft_id:e.position_nft_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,collect_fee:!1,clmm_rewarder_types:e.clmm_rewarder_types},i,A)}if(e.close_position){if(e.clmm_position_id===void 0)throw Error("close_position need clmm_position_id");i.moveCall({target:`${n.published_at}::router::close_position`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[i.object(a.global_config_id),i.object(a.rewarder_manager_id),i.object(e.pool_id),i.object(l.global_config_id),i.object(e.clmm_pool_id),i.object(e.position_nft_id),i.pure.u64(e.min_amount_a),i.pure.u64(e.min_amount_b),i.object(no$2)]})}else i.moveCall({target:`${n.published_at}::router::remove_liquidity`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[i.object(a.global_config_id),i.object(l.global_config_id),i.object(a.rewarder_manager_id),i.object(e.pool_id),i.object(e.clmm_pool_id),i.object(e.position_nft_id),i.pure.u128(e.delta_liquidity),i.pure.u64(e.min_amount_a),i.pure.u64(e.min_amount_b),i.object(no$2)]}),e.unstake&&this.withdrawPayload({pool_id:e.pool_id,position_nft_id:e.position_nft_id});return i}async buildCollectRewarderAndFeeParams(e,i,n,s,a){s===void 0&&(s=[...n]),a===void 0&&(a=[...n]);let l=ai$2(e.coin_type_a),A=ai$2(e.coin_type_b);e.collect_fee&&this.collectFeePayload({clmm_pool_id:e.clmm_pool_id,position_nft_id:e.position_nft_id,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b},i);let T=[];return e.clmm_rewarder_types.forEach(q=>{switch(ai$2(q)){case l:T.push(Oe$3.buildCoinForAmount(i,s,BigInt(0),q,!1).target_coin);break;case A:T.push(Oe$3.buildCoinForAmount(i,a,BigInt(0),q,!1).target_coin);break;default:T.push(Oe$3.buildCoinForAmount(i,n,BigInt(0),q,!1).target_coin);break}}),this.collectClmmRewardPayload({clmm_pool_id:e.clmm_pool_id,position_nft_id:e.position_nft_id,clmm_rewarder_types:e.clmm_rewarder_types,coin_type_a:e.coin_type_a,coin_type_b:e.coin_type_b,reward_coins:T},i),i}collectFeePayload(e,i){let{farms:n}=this.sdk.sdkOptions,{clmm_pool:s}=this.sdk.ClmmSDK.sdkOptions;i=i||new Transaction;let a=na(n),l=na(s);return i.moveCall({target:`${n.published_at}::router::collect_fee`,typeArguments:[e.coin_type_a,e.coin_type_b],arguments:[i.object(a.global_config_id),i.object(l.global_config_id),i.object(e.clmm_pool_id),i.object(e.position_nft_id)]}),i}async collectClmmRewardPayload(e,i){var T;let{farms:n}=this.sdk.sdkOptions,{clmm_pool:s}=this.sdk.ClmmSDK.sdkOptions;i=i||new Transaction;let a=e.reward_coins;if(e.clmm_rewarder_types.length>0&&a===void 0){a=[];let q=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());e.clmm_rewarder_types.forEach(et=>{a.push(Oe$3.buildCoinForAmount(i,q,BigInt(0),et,!1).target_coin)})}let l=na(n),A=na(s);return(T=e.clmm_rewarder_types)==null||T.forEach((q,et)=>{i&&i.moveCall({target:`${n.published_at}::router::collect_clmm_reward`,typeArguments:[q,e.coin_type_a,e.coin_type_b],arguments:[i.object(l.global_config_id),i.object(A.global_config_id),i.object(e.clmm_pool_id),i.object(e.position_nft_id),i.object(A.global_vault_id),a[et],i.object(no$2)]})}),i}async collectClmmRewardNoSendPayload(e,i){var q;let{farms:n}=this.sdk.sdkOptions,{clmm_pool:s,integrate:a}=this.sdk.ClmmSDK.sdkOptions,l=e.reward_coins;if(e.clmm_rewarder_types.length>0&&l===void 0){l=[];let et=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());e.clmm_rewarder_types.forEach(xi=>{l.push(Oe$3.buildCoinForAmount(i,et,BigInt(0),xi,!1).target_coin)})}let A=na(n),T=na(s);return(q=e.clmm_rewarder_types)==null||q.forEach((et,xi)=>{i&&i.moveCall({target:`${a.published_at}::stable_farming::collect_clmm_reward`,typeArguments:[et,e.coin_type_a,e.coin_type_b],arguments:[i.object(A.global_config_id),i.object(T.global_config_id),i.object(e.clmm_pool_id),i.object(e.position_nft_id),i.object(T.global_vault_id),l[xi],i.object(no$2)]})}),i}async getFarmsConfigs(){let{package_id:e}=this._sdk.sdkOptions.farms,i={global_config_id:"",rewarder_manager_id:"",rewarder_manager_handle:""},n=(await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::config::InitConfigEvent`})).data;if(n.length>0){let a=n[0].parsedJson;i.global_config_id=a.global_config_id,i.admin_cap_id=a.admin_cap_id}let s=(await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::rewarder::InitRewarderManagerEvent`})).data;if(s.length>0){let a=s[0].parsedJson;i.rewarder_manager_id=a.id;let l=await this._sdk.FullClient.getObject({id:i.rewarder_manager_id,options:{showContent:!0}});i.rewarder_manager_handle=l.data.content.fields.rewarders.fields.id.id}return i}},xt$1=class Tl extends ur$4{constructor(e,i){super(e),this._farms=new Tt$2(this),this._clmmSDK=i||Ai$1.createSDK({env:e.env,full_rpc_url:e.full_rpc_url})}setSenderAddress(e){this._clmmSDK.setSenderAddress(e)}getSenderAddress(e=!0){return this._clmmSDK.getSenderAddress(e)}updateFullRpcUrl(e){super.updateFullRpcUrl(e),this._clmmSDK.updateFullRpcUrl(e)}get Farms(){return this._farms}get ClmmSDK(){return this._clmmSDK}static createSDK(e,i){let{env:n="mainnet"}=e;return n==="mainnet"?Tl.createCustomSDK({...Pi$1,...e},i):Tl.createCustomSDK({...Si$1,...e},i)}static createCustomSDK(e,i){return new Tl(e,i)}};const APP_ENV="mainnet";function getQueryParam(t){const e=new URLSearchParams(window.location.search);return window.location.host==="app.cetus.zone"?"":e.get(t)}let apiUrl="";try{apiUrl=getQueryParam("apiUrl")||""}catch(t){console.log(" ~ error:",t),apiUrl=""}const baseConfigMainnet={fullRpcUrl:"https://fullnode.mainnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},aggregatorUrl$1=`${apiUrl||"https://api-sui.cetus.zone"}/router_v2`,aggregatorUrlPre="https://api-sui-cloudfront.cetus.zone/router_v2",MainnetTokens={SUI:{id:"0x9258181f5ceac8dbffb7030890243caed69a9599d2886d957a9cb7656af3bdb3",coin_type:"0x2::sui::SUI",decimals:9,description:"",name:"Sui",symbol:"SUI",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",is_verified:!0,extensions:{rank:"880"}},CETUS:{id:"0x4c0dce55eff2db5419bbd2d239d1aa22b4a400c01bbb648b058a9883989025da",coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",decimals:9,description:"",name:"Cetus Token",symbol:"CETUS",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",is_verified:!0},xCETUS:{coin_type:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_verified:!0},USDC:{id:"0x69b7a7c3c200439c1b5f3b19d7d495d5966d5f08de66c69276152f8db3992ec6",coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",decimals:6,description:"",name:"USDC",symbol:"USDC",logo_url:"https://circle.com/usdc-icon",is_verified:!0,extensions:{rank:"1000"}}},MainnetCreatePoolQuoteTokens=["0x2::sui::SUI","0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x375f70cf2ae4c00bf37117d0c85a2c71545e6ee05c4a5c7d282cd66a4504b068::usdt::USDT","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS","0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI","0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK","0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT","0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI","0x83556891f4a0f233ce7b05cfe7f957d4020492a34f5405b2cb9377d060bef4bf::spring_sui::SPRING_SUI","0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN","0xaafb102dd0902f5055cadecd687fb5b71ca82ef0e0285d90afde828ec58ca96b::btc::BTC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0x356a26eb9e012a68958082340d4c4116e7f55615cf27affcff209cf0ae544f59::wal::WAL"],volatileVaultsConfigMainnet={...baseConfigMainnet,env:"mainnet",aggregatorUrl:aggregatorUrl$1,providers:[],vaults:{package_id:"0xc4ebf35be1478318d78c324342854dd2735a036139373a9d41a1aa3a46a01d05",published_at:"0xc4ebf35be1478318d78c324342854dd2735a036139373a9d41a1aa3a46a01d05",configs:{registry_id:"0x23014734280164270fa4c58f973c00079651e730d6f46491678ea8858f3bd13a",pools_handle:"0x31c810b6fcf3bb8699384e7c61fe9f7db53a04c4c22d514b3f79b6caa86183a8",pyth_oracle_id:"0xaed73fd854dfceedb2522903feec8c0e251764f5945bd38f969473024c4fb4d0",oracle_infos_handle:"0x6951ab4b36639e79ddbd9ba4478d7f72d1c5396b9198d0864c00e796c5815b01",prices_handle:"0x20a65a0f747f4f1ad465bdb61d784bbc5080ee5d200d5dd6594a354723b8c171",global_config_id:"0x5f8371674cd8e1e9eef5542ffe8adb339e3ff3a67894b14c954c7a92e992e0c1"},clmm_configs:{global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"},pyth_configs:{pyth_state_id:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8",hermes_service_urls:{primary:"https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com",secondary:"https://hermes.pyth.network"},wormhole_state_id:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pyth_package_id:"0x04e20ddf36af412a4096f9014f4a565af9e812db9a05cc40254846cf6ed0ad91",pyth_published_at:"0x04e20ddf36af412a4096f9014f4a565af9e812db9a05cc40254846cf6ed0ad91"}}},baseConfigTestnet={fullRpcUrl:"https://fullnode.testnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},aggregatorUrl="https://api-sui.devcetus.com/router_v2",TestnetTokens={SUI:{decimals:9,name:"Sui",symbol:"SUI",description:"",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",id:"0x587c29de216efd4219573e08a1f6964d4fa7cb714518c2c8a0f29abfa264327d",coin_type:"0x2::sui::SUI",is_verified:!0},CETUS:{decimals:9,name:"Cetus Token",symbol:"CETUS",description:"CETUS is the native token of Cetus Protocol.",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",id:"0xf5dd74cd76c4bb4b0c6ac1b1388982a64f2cd089278d453e2067038fe50cbc1d",coin_type:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7::cetus::CETUS",is_verified:!0},xCETUS:{coin_type:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_verified:!0},USDC:{coin_type:"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdc::USDC",decimals:6,description:"",name:"USD Coin",symbol:"USDC",logo_url:"https://archive.cetus.zone/assets/image/sui/usdc.png",is_verified:!0}},TestnetCreatePoolQuoteTokens=["0x2::sui::SUI","0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::cetus::CETUS"],volatileVaultsConfigTestnet={...baseConfigTestnet,env:"testnet",aggregatorUrl,providers:[],vaults:{package_id:"0x0a624f2dcafc9f7f381684b3d553a9837411925b6e8530b1f8f4e6ff3f1fde77",published_at:"0x36f9d8e6219e6ba4d8840165ec27676a1bcb43fc5712f87ca702ac7b5924507d",configs:{registry_id:"0xa2ebae3656c5fbdd2473caadfc077cd1780a881759a356f1a5bc0f9fd470adb9",pools_handle:"0x0df305d395f8e0359da0ac5717bc96e0e1da9792684ec8e8f6a20b7ab544f98e",pyth_oracle_id:"0x6c74aec8d4471d9b05f718c467204c9010c450b94a4e40b0b4031a7d6c386337",global_config_id:"0x8969b09cfdd72b1635263b569027ded4b91bbabd7d8cd91b21e355325e218b10",oracle_infos_handle:"0x8707c6665d202f277ffe8e7fd58684e232622a3e6826b94ba99f7569f253fa9d",prices_handle:"0x74230bb2c6a63235acbfe477ce16144afca7ccd16a458fa93f4605330b5d1c58"},clmm_configs:{global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea"},pyth_configs:{pyth_state_id:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c",wormhole_state_id:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",hermes_service_urls:{primary:"https://hermes-beta.pyth.network"},pyth_package_id:"0xabf837e98c26087cba0883c0a7a28326b1fa3c5e1e2c5abdb486f9e8f594c837",pyth_published_at:"0xabf837e98c26087cba0883c0a7a28326b1fa3c5e1e2c5abdb486f9e8f594c837"}}},envConfigs={mainnet:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:apiUrl||"https://api-sui.cetus.zone",notifi_api:"https://api.notifi.network/gql",pythUrls:["https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com"],sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigMainnet,...baseConfigMainnet,aggregatorUrl:aggregatorUrl$1},pre:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:"https://api-sui-cloudfront.cetus.zone",notifi_api:"https://api.notifi.network/gql",pythUrls:["https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com"],sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigMainnet,...baseConfigMainnet,aggregatorUrl:aggregatorUrlPre},testnet:{env:"testnet",cetus_clmm_site:"https://cetus-cmm-app-testnet.netlify.app",cetus_api:"https://api-sui.devcetus.com",notifi_api:"https://api.notifi.network/gql",pythUrls:[],sui_coin:TestnetTokens.SUI,cetus_coin:TestnetTokens.CETUS,clmm_swap:{from_coin:TestnetTokens.USDC,to_coin:TestnetTokens.SUI},x_cetus_coin:TestnetTokens.xCETUS,create_pool_quote_coin_list:TestnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigTestnet,...baseConfigTestnet,aggregatorUrl}},clmmConfig=Yo,burnConfig=P$3,farmsConfig=Pi$1,envConfigs$1=envConfigs[APP_ENV],store$a=(t,e)=>({verifiedTokenMap:new Map,setVerifiedTokenMap:i=>{console.log(i,"setVerifiedTokenMapsetVerifiedTokenMap"),t(()=>({verifiedTokenMap:i})),VariousTokensTable.setItem(VERIFIED_TOKEN_MAP_KEY,i)},setAllTokenMap:i=>{i.forEach((n,s)=>{AllTokensTable.setItem(s,n)})},addToken:i=>{AllTokensTable.setItem(ie$2(i.coin_type).full_address,i)},deleteToken:i=>{AllTokensTable.removeItem(i)},addTokenList:i=>{i.forEach(n=>{AllTokensTable.setItem(ie$2(n.coin_type).full_address,n)})},deleteTokenList(i){i.forEach(n=>{AllTokensTable.removeItem(n)})},clearTokenMap:()=>{AllTokensTable.clear()}}),useTokenStore=create(store$a);VariousTokensTable.getItem(VERIFIED_TOKEN_MAP_KEY).then(t=>{console.log(" ~ file: token.ts:63 ~ savedTokenMap:",t),t!==null&&useTokenStore.getState().setVerifiedTokenMap(t)});AllTokensTable.getAllItems().then(t=>{console.log(" ~ file: token.ts:69 ~ savedTokenMap:",t),t!==null&&useTokenStore.getState().setAllTokenMap(t)});function useGetTokenSource(){const{importTokenList:t,liquidityTrustTokenList:e}=useTokenSelectStore(),{verifiedTokenMap:i}=useTokenStore();return{getTokenSource:l=>{const A=[],T=new Set([...Array.from(i.values()).map(q=>q.coin_type),...t.map(q=>q.coin_type)]);for(const q of l)T.has(suiAddressLongToShort(add0x(q.coin_type)))||A.push(q);return A},getTrustTokenSource:l=>{const A=[],T=new Set([...Array.from(i.values()).map(q=>q.coin_type),...t.map(q=>q.coin_type),...e.map(q=>q.coin_type)]);for(const q of l)T.has(suiAddressLongToShort(add0x(q.coin_type||(q==null?void 0:q.address)||"")))||A.push(q);return A},getShowCoinTag:l=>{if(Go(l)===Go(envConfigs$1.x_cetus_coin.coin_type))return!1;const A=Array.from(new Set([...Array.from(i.values()).map(T=>T.coin_type),...t.map(T=>T.coin_type)]));return!((A==null?void 0:A.length)>0&&(A!=null&&A.includes(suiAddressLongToShort(add0x(l)))))}}}const IconTipsTriangle="/images/token-warning@2x.png",placeholderImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAQcklEQVR4Ac07C3BUVZb33vfp7nQSgiEhYYYgESEj40oZjERH/MxAnFEGQQYUZILRGix1y3V3q3bZqd2trZpZqram1rJ2tMZZiUGFAURQ4romiALjmlkFB2eGEVyMEAQSEiSQ9O+9fvfuOfe923Q66aQ7dDS3q/vcd9+553fPOffzXlMyxqX4hc1Vls9p4Iao5nm8Mp5HSoSfmsIUGjcJRfbMIoJa1CFRbhlh2k3CrJ3F6EG/rTWee3DlkbEUUQqQawYTX3ppVTxInoxN4rPjVxAfAf0kDwG/WEM4RKGUEiEEQYgF0ITxJY2ZPfSwHiJPnV+9etMQ3S6rKWcGmPTcq+XWxOhzVhlfGJ8oQGkoSlnFJcUAAlSk8EHoort1bPMaXGN5lzoao5O1muf9a3vW3nvGRbq8XyXaqKlMebG5IpTXtzF6JZ/PfYINSyjFADDUoCA0eiN+SVvXINIuKKF3qQzKLMr9x9n+YLig/vSPF3UMy3OEm6M2ALgqLd6y5fnwVXyNCJChFZcKU2GcoyGtlx6FuD7MYuQDjemHhNC7mLggR5HTCeWUxic7JD6HG6QGDDmbTxSzrCtEELRPKyOLEB74jDWdu+++hyFslJlGUHng7bTEB6INvPrGC6/O65tmt1iTeKGKWxfDGy7OhL+Tduq9ZLMZ9j19uuGekwMpZHY1pfG1qVZe7Il4EV8ZLSNlYGZgIK3qEXDrZje5GOgw67oevPd3mVG+hJW1AUpf3vpI+GrxjAOj7qmrIpZQhwr/CdbG+sz67tWLj11ic/m1kpden8ELrI2RabyWaIO9QkNv+D/9sbMPLPtVNtyyMsDkra809s8iawjjXj9lAhjxk+TTYLdY1bFm+cFsBMgWt6JpW3WomG6KVpCZhCg5XCqUMBE8Qpq6VvyoIVO6GRmg+oAwvji9sy00zalWKrsMBPF1sW69kzzU9eNlzZkyzQXelM2vLbImORtik3mJoqeCw39CO1gxZUntwbnUVvfSwRENgMp39OzoiJWJsgFZG5JO8BjdfWbpkrp0xL+K9sk7drZEruILYDZxZ0/PCj7IQRXFSytGMsLQ2TtJ8tOnX2+zy2kZo5CBgAdCZjNR8Alb/3Urj2J2wQAUHNHWs7gGczBmSfxlxC6jZadA9iRVhqwOa4CpW3c1RqeRalRcKg+E9X5m5x81lp1acc9Ph6T4NTSiLPlH2TI9BEMDJlDyxipI9dStzY3DiZQ2BK78TfMjfVXiWYHUvKKHme1v1+Z0PPCDP6u28QQrXn7zmmilcyieB6sJKFJwUAA85NHj99815OwwpAfM2PLmvHCleAbmeHR86VK6o4n8z/X7xqvyqDDKhjKirDIc0HOhhKc7z6BOiJNaBhkAV3jhUtEiTMZcV5ImEAXt+vr2Vd/fkUpgvF2jjCgrGEAagaED+xiTOmGiTCmDGiq3v7khdBVpkHjeOj3vBG39/J7v5yTbz9y2pyZO4/cIH68RGisV1PEJjerUZr3MEqepTd+JGUUvnlp647kUWbO6nL7rv1vC3+QLZRzgzAAl2E4b25f94CH3yv0dYICq37Rd2VfZ+5ljgNdjQeP10O4TC+4sddFH94tTae/J1v+0J4il9kRRgHbFkroXSuyLOBG+bnbcd8H4+6Mr7tjmYmf/O233W2djk0SJUpLGCJ/YUTD98PLvdChqA0IgHux/QRiUuRMJ/moi0E0HWEx1zBRevW33yp7w7guRaaTeLiIFFBwTJ2z5wRjFD0L4qqkWJKDWZDK972p7y1Vv7P4thmWm/JLxUHYIBJnHZS6HsI75IxuTcRKEv/Xq/vL+qdEvhA7B42H4z7Kjn935varkDtnUZ2/f+9cXKuxfEH1oBbw1S2K3m0obhUOcwBn6x2N3LfiL1PuZXF/91ttHwiV8lsJlccLzv/B/85N755/BtoQHCM1+juhgepnzYfS5JvIuslWqY7Zw1ta9t/dNc35BNfR0dy7BnS3W5Q4XR9yrJzzOa8PEJZOXB2EneO23tu/5WbYyIL4fdGACZgVcwCE/g8El6OqVhAGsK8hC5YoI8zq1tj8uv2NUGxt0WV4qXgd+lKEFgB5+UQAFk+uJ+x4u9pFf7IF1+MRK2d8oobOBqAPqInl44WaDroqGNMC1r7y3igeZLyEc7OeDjlmvkLKF1726/x/sQoz3S/GtaCPUYESCZ/S2CZ/7/nLSZ+bcwuPaT/292peEo0uC4wNMrmMbDwr/ddvfW56tLIjvt7QHkSfSQWM6Qeq79pV90rt1RIDT2ielc4KzYsz5e1nnR4tvGvV+PjaBPCGVl2kes72XaoA4A+MWHGf1Hy+/5SXk7RX0tH+dtWffWasIsrbKTIAv6ygUFJg6lwDIelb4eOktn1a17uu0ilm5O9OAQfPok0Brk/SAeFDMxpjDDI3QF9ZfRoajKTVv/2+xU0QnSWvLpQjGM9JF21OS36ntTFE+wSZw3vgXxFOeI3uAPAjx42gkkcwSnTKs+EJsM+YepIPQBp2xK6vefqDKKdB8ig06qBHW/yNDuoPQ7Ivxh3HIL9FT4sOkaml81qKb07qxYeu70BM176PqCGVd6P2DGGbYYEZ9T+O0rsKAg86oOxOG1QCjLnMk+r+vn4U+vL/mZIZ0B6E5wfxfFp7QH8w/pW0PnGPHjQizlQK+C/TYKxQegKQpIo/f7I4QIKD7w0gpKHMHZ6fSdB2xGXUy+2kIB0Z6GAdgOA260Fk1k5GPvAQxI9rREakNg/CHuutCcLvJ+0rM2uYDVZbD7xe287FsSPNj+cXPpHAw3ljQj2BGkRCMKLSY9m9pumbUjLo5QQ6nWi59WPNU67DyqyTczTJyrozTP2VELQuktkVz8fHWPw/XZe6uD/89VMwrKYehUVkQvQCFBeg/T08eWHbD74ejMdI9nWuHIQNUKzyui0omfLRERSlaH7aSHyqErwreuPPAP0ZK+V8BfxmK0k1lunIj1rA1J9hv/PBy5dFs9gHqqkKSmFqJDkskHzapAiIcUvWvAtb810cbw6V8NSjtPtrA0XcdUoYkCCzyusnj7y29ftjwyURWqZsAD1PIBjV1ouHy1ysQb36f2aUuxxLiarHmrY/ejxTzeaiwikulPPLW4owHv6SPv7/4+iFPc7KVD3ULEczBrsaCMU2nGuiPqwNsBuubNC43CbJhDH/mtfz+gFVMr8cHWirmVcJDqEdppKBPq9t393W/zZUYqFtykoVzCKpj4kOGsiiYK45p6Nz8xh/+KTTRcZXH0fDYq4QX6NU+KY36bty1uKovDYlRN8NaAAzudsddtq7B4yzHSwIogBXVy+H2qJfBmUhm5Yu/w5GQkqDRPYnAE/D8YdP/3HXt6kzoZIuDulEShwnV7QkPuCAK4hT0dz/SPQxtcraEs8G/tfmTRTzA8uQuD4yQgFDP+5K1jJXyKCMF3dwlPww18NMc5jDmUAsb5VeGA5+TjUJZ4zJxp4x7GAU5JXnQtDWrvG723VnTy6KDcPgceeokp0IIhjixdCPOuh2Bz+HBQvDljN6QBc2sUSHpTlErT+yssr8ZoYeGWyZnzWiIDtSgNW4SdG/qFu1msPBp12Dk8St3gxr99hB9c9hE8y+FnAo95K3hEnpMC+yEZrte5+qqC61d17h2kApxB3LG0eAmHfWWMxPpNc4+CPSTShcXfQ4zEmRjTrN+uSETfsk43NRmUbkQcqcBqfvC5s+r+kvif5ZPVyU2FfkX6bTWuhmj3hEmMx0v9YUtx6b2F/ATcpTdmUfk9xjXsNZF04+YMRZTbgnOAZMRe2K8CJ4rOVAn1E3paVoshrrLIzHDZocdgyd2SY5JVgLjv80Vc0Xn7uaeb0Ty+xJr+ksB4GIELO3h5rqK1xR+LiHqJDdZEHH4cp5hk8NIH3aHcAji6E956UhOTXaAlv3w3ZMz8F4uC2fRYNwniuM+Ir+2V0eIXzgLxUVYzgvqYvnhHQdQ3D0Wg2M/x3wKGUkDvFE3dZNhURkGOE3gCVGc8425lqQACMqZBgRBYSQvD8qFiStOrtkSC3RJuD8EAaw5YqgzMpIGwIrfYq3JAsX8tPaultOJsECcyy4+d/GT7sEIYdpls0glgDrYAVarpj+EvhhtVXgJA5j+wFo4O4fXrnBssBmSoc6llRRyLiCuAlUiSoW5oJ9KQ+qAp2rg2cgbpmFu8sBahZcwwI75JWf8UbbftZTrnpaPzry35dQihXz50Jd40qP4KIgCqofSl8/HpYCyW342UxkaBxZ13HFnSWLLnzAAdvH7J9aDD3DVAb0garINuRII0q2Me3c0UBzwNsw53ifXISBlT4w+GJhrHHVM1sddEiW1LNl9dkPY7zRgEwSBPCvIg/yw87uT65LQRl39kRBpAz2Xe4Ele7paIj6ReAaIAgcirHHngtKHkoUfZAA8qlq8r7vX1gS8BwyzBsQNPOEUeRG2fvv3Jo2bN8OSlUitL3u75+chP193aXULD4UdevH1W0uKcJmXjD8gBPAGIgRsrQ4e6cN7GuieYAU4R4yYfN2Kd3qWJncej3WUMWqKdTiVQyaTwQWvFnPUKVV5lH+QAbBx64Li3wUd/TGNum9byVgFN4jpbMuqt/uuQZzxWFA2lBFHEZWXD9YpE/mO+RjqNJTMQxoAEbfcfsWvIPabXC9w05QD/2CJmM6h8egJK945vzRsxA/BatJQSRZlRx223F6U9lR5UA5ItdLydy8ciGnePgGxMSdAbsxztPWbbyscFzlh5d6LPw8zZx2Kliw//IHl4LZbJ8xNbkutp/UAhVh0W2Gtj7NOdClpWeQB8RXWxLqVe/taFN7XBVEGlAWHRYYqyIfQz7XOovmFtSPJNcBi6ZB/IoTRv7+/LUrEwKUxuILBRXfAMR9q+q6/OV3/sWhfs+fioohGNsCj5xJFHyMfj/gDVDsYvCWv9tc0B6/LK+IIH9jb3xhjdA3HA3VZcEYBzwC+JiefGpyu2nhHcFTvFbn0Rv6tfydU7TC6KcbETJyyB/TA0OS06cXbgg0D2oe5GEhgGER1a827oUcijDwjX+fBcPCOtLz7wk9oW4Hhr3/2JprTZwuPvi9m9NmRjVFCwK09xV37SxEglnlAkMeabg+mTXhKh2SYtQGw88PvWfMijtNiC1KYbADwBLlwwreMDSE6dUI3BwK+p5+toaM6Xnv0AzE1EoE/TRGyEly9LHXE0d3R7eFU52JA0+qe/4455FSXrHBqfVQGQCIoTMN+6/kYERASQ68nJDNYWIEhQhoRR+H57580h3zo9xuHoE9XXpDITUk4RMpjlEymUXsOvAd0A4TYtx1CZ8UJHNenunmSBvBUk8PuoqlxvvnV/m0uSQbyxGFR0X8uvjFGyHzO4eB5mKJGDKEsKRGEM436N+lQZJTHg4fhHwL2Fxbr9U/Pph1D4WbaNmoPSGXwk/2inAvnOYuLhfAA2of3lcCeuoMzhooZhLIDYKo2t2XArw7vSxqEtsLjtLW/nk+l9wxAGMVFzgyQzPvRNrHKtvmTNiezwZV96dx4JAPBcgPCR8R0Sg6bJnvq2Vqa+wOaZMHHov74+6LKiZMGSGTVEPeV4P0lkMNNgBrMJHIAIG7gRRV4c0EQS6OkG1rbIbEd1HTS+Mub6JGxkEvR/H/1GixGG+ou8QAAAABJRU5ErkJggg==";function SingleCoinImage(t){const{coinType:e,variant:i,imageUrl:n,w:s,h:a,p:l,showTag:A=!0,showTagWidth:T,showTagHeight:q,borderColor:et,imageStyle:xi={},imgBoxStyle:Oi={},...Ts}=t,Fs=reactExports.useMemo(()=>{const zs={default:{box:{border:"none",w:s||"32px",h:a||"32px"}},border:{box:{bg:"checked_bg",border:"1px",borderColor:et||"border",borderRadius:"100%",w:s||"46px",h:s||"46px",p:l||"5px"}}};return i?zs[i]:zs.default},[i,s,et,l]),{getShowCoinTag:qs}=useGetTokenSource(),{importTokenList:Us}=useTokenSelectStore(),{verifiedTokenMap:Ls}=useTokenStore(),Gs=reactExports.useMemo(()=>e&&(Ls==null?void 0:Ls.size)>0?qs(e):!1,[e,Ls,Us]);return jsxRuntimeExports.jsxs(Flex,{display:"flex",position:"relative",children:[jsxRuntimeExports.jsx(Center,{...Fs.box,...Oi,...Ts,children:jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:n,fallbackSrc:placeholderImg,borderRadius:"100%",w:"100%",h:"100%",...xi,minW:xi.w||"unset",minH:xi.h||"unset"},n)}),Gs&&A&&jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:IconTipsTriangle,fallbackSrc:placeholderImg,w:T||"16px",h:q||"16px",right:i==="border"?"1px":"-3px",style:{position:"absolute",bottom:"0px"}})]})}function CoinPairImage(t){const{coinAIconUrl:e,coinBIconUrl:i,coinACoinType:n,coinBCoinType:s,ml:a,showATag:l,showBTag:A,...T}=t;return jsxRuntimeExports.jsxs(HStack,{gap:"0px",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:e,...T,showTag:l,coinType:n}),jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:i,...T,ml:a||"0px",showTag:A,coinType:s})]})}const formatCurrency=t=>{try{return t.startsWith("-")?`-$${t.slice(1)}`:`$${t}`}catch(e){return console.log(" ~ formatCurrency ~ error:",e),"$--"}};function Comma({value:t,currency:e}){const i=(e?formatCurrency(t+""):t)+"",n=(i+"").indexOf("$"),s=n>-1?(addComma(i.slice(n+1))+"").split(","):(addComma(i)+"").split(","),a=s.length;return jsxRuntimeExports.jsxs(Box,{as:"span",children:[n>-1&&i.slice(0,n+1),s.map((l,A)=>jsxRuntimeExports.jsxs(Box,{as:"span",children:[l,A<a-1&&jsxRuntimeExports.jsx(Box,{as:"span",className:"delimiter",children:","})]},`${l}-${A}`))]})}const TextWrap=({children:t,haveTooltip:e=!0,...i})=>{const n=reactExports.useRef(null),[s,a]=reactExports.useState(!1),l=()=>{const T=n.current;T&&T.scrollWidth>T.clientWidth?a(!0):a(!1)},{isApp:A}=useWindowWidth();return jsxRuntimeExports.jsx(Box,{w:"100%",onClick:T=>cancelBubble(T),children:A?jsxRuntimeExports.jsx(Text$1,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"wrap",wordBreak:"break-all",textAlign:"right",...i,children:t}):s&&e?jsxRuntimeExports.jsx(Tooltip,{placement:"top",label:jsxRuntimeExports.jsx(Text$1,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:t}),children:jsxRuntimeExports.jsx(Text$1,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:n,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseLeave:()=>a(!1),tabIndex:0,...i,children:t})}):jsxRuntimeExports.jsx(Text$1,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:n,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseEnter:l,tabIndex:0,...i,children:t})})},SingleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"130px"})]})]}),SingleTokenInfoH5=({data:t})=>{const{loading:e,imageUrl:i,symbol:n,name:s}=t;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e?jsxRuntimeExports.jsx(SingleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:i,w:"24px",h:"24px"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:{md:"0",lg:"0.5rem"},children:[jsxRuntimeExports.jsx(Text$1,{color:"text_caption",children:n}),jsxRuntimeExports.jsx(Text$1,{fontSize:"12px",children:s})]})]})})},DoubleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsx(Box,{ml:"-8px",children:jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"})}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"60px"})]})]}),PairTokenInfo=({data:t,fee:e,loading:i})=>{var n,s,a,l;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i?jsxRuntimeExports.jsx(DoubleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{gap:"0px",w:"100%",children:[jsxRuntimeExports.jsx(CoinPairImage,{w:"40px",variant:"border",coinAIconUrl:(n=t[0])==null?void 0:n.imageUrl,coinBIconUrl:(s=t[1])==null?void 0:s.imageUrl}),jsxRuntimeExports.jsx(VStack,{gap:"0px",ml:"8px",align:"flex-start",children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(a=t[0])==null?void 0:a.symbol}),jsxRuntimeExports.jsx(Text$1,{color:"text_caption",children:"-"}),jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(l=t[1])==null?void 0:l.symbol})]})})]})})};var HandleEventType=(t=>(t.Add="add",t.Edit="edit",t.Delete="delete",t))(HandleEventType||{}),H5MapTableCells=(t=>(t.Regular="regular",t.Double="double",t.Divider="divider",t.Action="action",t.Cos="cos",t))(H5MapTableCells||{}),TitleEnum=(t=>(t.SingleToken="SingleToken",t.ST="ST",t.DoubleToken="DoubleToken",t.DT="DT",t))(TitleEnum||{});const handleElement=({value:t})=>{let e,i;if(reactExports.isValidElement(t)||typeof t=="string"||typeof t=="number")e=t;else if(typeof t=="function")e=t();else if(typeof t=="object"&&t!==null){const{text:n,render:s}=t;if("color"in t&&(i=t.color),n)e=n;else if(s)e=handleElement({value:s});else throw new Error("You must select one of text or render to assign a valid value.")}else throw new Error("A valid value is required here.");return[e,i]},renderNode=t=>handleElement({value:t})[0];function transColumns2H5(t,e,i){return t.map(n=>({type:H5MapTableCells.Cos,label:n.title,showLabel:n==null?void 0:n.showLabel,key:n.key,hidden:n.hidden?typeof n.hidden=="function"?n.hidden(e):n.hidden:!1,value:typeof n.render=="function"?n.render(e,i):n.render||e[n.key]}))}const Regular=({value:t,...e})=>{let i="text_caption";"color"in e&&(i=e.color);const[n,s]=handleElement({value:t});return i=s||i,jsxRuntimeExports.jsx(Text$1,{color:i,children:n})},Action=({value:t,onChange:e,btn:i,...n})=>{if(!t){const{text:A,color:T="primary",bg_color:q="bg_secondary"}=i;return jsxRuntimeExports.jsx(Button$1,{w:"60px",h:"20px",borderRadius:"4px",color:T,bgColor:q,size:"xs",onClick:(...et)=>e==null?void 0:e(HandleEventType.Add,...et),children:A})}let s="text_caption";"color"in n&&(s=n.color||s);const[a,l]=handleElement({value:t});return s=l||s,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text$1,{color:s,children:a}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",onClick:(...A)=>e==null?void 0:e(HandleEventType.Edit,...A)}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",onClick:(...A)=>e==null?void 0:e(HandleEventType.Delete,...A)})]})},Divider=({value:t})=>{let e="text_caption",i="text_paragraph";const[n,s]=handleElement({value:t[0]}),[a,l]=handleElement({value:t[1]});return e=s||e,i=l||i,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text$1,{color:e,children:n}),jsxRuntimeExports.jsxs(Text$1,{color:i,children:["/ ",a]})]})},Double=({value:t,onChange:e})=>{var T;let i="text_caption",n="text_paragraph";const[s,a]=handleElement({value:t[0]}),[l,A]=handleElement({value:t[1]});return i=a||i,n=A||n,jsxRuntimeExports.jsxs(VStack,{gap:"0.2em",alignItems:"flex-end",children:[jsxRuntimeExports.jsxs(HStack,{h:"12px",children:[jsxRuntimeExports.jsx(Text$1,{color:i,children:s}),typeof t[0]=="object"&&((T=t[0])==null?void 0:T.editable)&&jsxRuntimeExports.jsx(Icon,{onClick:(...q)=>e==null?void 0:e(HandleEventType.Edit,...q),xlinkHref:"#icon-icon_edit"})]}),jsxRuntimeExports.jsx(Text$1,{h:"12px",color:n,children:l})]})},Cos=({value:t})=>typeof t=="function"?t():jsxRuntimeExports.jsx(Box,{fontFamily:"Inter",fontSize:"14px",color:"text_caption",children:t});function useTextColor({isLong:t}){const e=reactExports.useMemo(()=>t?"primary":"primary_red",[t]),i=reactExports.useMemo(()=>t?"primary_opacity.10":"primary_red_opacity.10",[t]);return{color:e,bg:i}}const ItemsMap={[H5MapTableCells.Regular]:Regular,[H5MapTableCells.Action]:Action,[H5MapTableCells.Divider]:Divider,[H5MapTableCells.Double]:Double,[H5MapTableCells.Cos]:Cos},TitleMap={[TitleEnum.SingleToken]:SingleTokenInfoH5,[TitleEnum.ST]:SingleTokenInfoH5,[TitleEnum.DoubleToken]:PairTokenInfo,[TitleEnum.DT]:PairTokenInfo},Title=({data:t})=>{if(!t)return null;const{type:e,...i}=t,n=TitleMap[e];return jsxRuntimeExports.jsx(n,{...i})},Bottom=({data:t})=>{if(typeof t=="function")return t();if(reactExports.isValidElement(t))return t;if(typeof t=="object"&&(t!=null&&t.data)&&Array.isArray(t==null?void 0:t.data)){const{style:e,data:i}=t;return jsxRuntimeExports.jsx(HStack,{w:"100%",justifyContent:"space-between",...e,children:i.map(n=>{const{text:s,render:a,...l}=n;return jsxRuntimeExports.jsx(Button$1,{...l,children:renderNode({text:s,render:a})},n.key||n.text)})})}if(typeof t=="object"){const{text:e,render:i,...n}=t;return jsxRuntimeExports.jsx(Button$1,{...n,children:renderNode({text:e,render:i})})}return null};function H5MapTableItem({data:t,children:e,loading:i,skeletonLength:n=5,itemHeight:s="40px",style:a,title:l,bottom:A,onClick:T}){const q=new Array(n).fill(0);return jsxRuntimeExports.jsxs(VStack,{gap:"0.5em",...a,onClick:T,children:[e,jsxRuntimeExports.jsx(Title,{data:l}),i?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:q==null?void 0:q.map((et,xi)=>jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",flexBasis:s,children:[jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"}),jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"})]},xi))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t==null?void 0:t.map(et=>{const{label:xi,type:Oi,key:Ts,showLabel:Fs=!0,hidden:qs=!1,...Us}=et,Ls=ItemsMap[Oi];return jsxRuntimeExports.jsx(React$2.Fragment,{children:!qs&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:qs?"-8px":"0",flexBasis:s,children:[Fs&&jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Box,{children:renderNode(xi)}),typeof xi=="object"&&(xi==null?void 0:xi.tooltip)&&jsxRuntimeExports.jsx(Tooltip,{label:renderNode(xi==null?void 0:xi.tooltip),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_tips",cursor:"help"})})]}),jsxRuntimeExports.jsx(Ls,{...Us})]},Ts||(xi==null?void 0:xi.toString()))},Ts||(xi==null?void 0:xi.toString()))})}),jsxRuntimeExports.jsx(Bottom,{data:A})]})}const Logo=({name:t,logo:e,multiple:i,isLong:n})=>{const{color:s,bg:a}=useTextColor({isLong:n});return jsxRuntimeExports.jsxs(HStack,{flexBasis:"32px",gap:"8px",children:[jsxRuntimeExports.jsx(Box,{flexBasis:"32px",children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"50%",src:e})}),jsxRuntimeExports.jsxs(VStack,{gap:"2px",alignItems:"flex-start",children:[jsxRuntimeExports.jsx(Text$1,{flexBasis:"14px",color:"text_caption",children:t}),jsxRuntimeExports.jsx(Tag,{flexBasis:"16px",color:s,bgColor:a,children:`${i}x ${n?"Long":"Short"}`})]})]})};H5MapTableItem.Logo=Logo;function __rest(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]]);return i}var SourceType;(function(t){t.event="event",t.props="prop"})(SourceType||(SourceType={}));function noop$1(){}function memoizeOnce(t){var e,i=void 0;return function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];return e&&n.length===e.length&&n.every(function(a,l){return a===e[l]})||(e=n,i=t.apply(void 0,n)),i}}function charIsNumber(t){return!!(t||"").match(/\d/)}function isNil(t){return t==null}function isNanValue(t){return typeof t=="number"&&isNaN(t)}function isNotValidValue(t){return isNil(t)||isNanValue(t)||typeof t=="number"&&!isFinite(t)}function escapeRegExp(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(t,e,i){var n=getThousandsGroupRegex(i),s=t.search(/[1-9]/);return s=s===-1?t.length:s,t.substring(0,s)+t.substring(s,t.length).replace(n,"$1"+e)}function usePersistentCallback(t){var e=reactExports.useRef(t);e.current=t;var i=reactExports.useRef(function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];return e.current.apply(e,n)});return i.current}function splitDecimal(t,e){e===void 0&&(e=!0);var i=t[0]==="-",n=i&&e;t=t.replace("-","");var s=t.split("."),a=s[0],l=s[1]||"";return{beforeDecimal:a,afterDecimal:l,hasNegation:i,addNegation:n}}function fixLeadingZero(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var i=t.split("."),n=i[0].replace(/^0+/,"")||"0",s=i[1]||"";return(e?"-":"")+n+(s?"."+s:"")}function limitToScale(t,e,i){for(var n="",s=i?"0":"",a=0;a<=e-1;a++)n+=t[a]||s;return n}function repeat(t,e){return Array(e+1).join(t)}function toNumericString(t){var e=t+"",i=e[0]==="-"?"-":"";i&&(e=e.substring(1));var n=e.split(/[eE]/g),s=n[0],a=n[1];if(a=Number(a),!a)return i+s;s=s.replace(".","");var l=1+a,A=s.length;return l<0?s="0."+repeat("0",Math.abs(l))+s:l>=A?s=s+repeat("0",l-A):s=(s.substring(0,l)||"0")+"."+s.substring(l),i+s}function roundToPrecision(t,e,i){if(["","-"].indexOf(t)!==-1)return t;var n=(t.indexOf(".")!==-1||i)&&e,s=splitDecimal(t),a=s.beforeDecimal,l=s.afterDecimal,A=s.hasNegation,T=parseFloat("0."+(l||"0")),q=l.length<=e?"0."+l:T.toFixed(e),et=q.split("."),xi=a;a&&Number(et[0])&&(xi=a.split("").reverse().reduce(function(qs,Us,Ls){return qs.length>Ls?(Number(qs[0])+Number(Us)).toString()+qs.substring(1,qs.length):Us+qs},et[0]));var Oi=limitToScale(et[1]||"",e,i),Ts=A?"-":"",Fs=n?".":"";return""+Ts+xi+Fs+Oi}function setCaretPosition(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var i=t.createTextRange();return i.move("character",e),i.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var findChangeRange=memoizeOnce(function(t,e){for(var i=0,n=0,s=t.length,a=e.length;t[i]===e[i]&&i<s;)i++;for(;t[s-1-n]===e[a-1-n]&&a-n>i&&s-n>i;)n++;return{from:{start:i,end:s-n},to:{start:i,end:a-n}}}),findChangedRangeFromCaretPositions=function(t,e){var i=Math.min(t.selectionStart,e);return{from:{start:i,end:t.selectionEnd},to:{start:i,end:e}}};function clamp$2(t,e,i){return Math.min(Math.max(t,e),i)}function geInputCaretPosition(t){return Math.max(t.selectionStart,t.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function defaultIsCharacterSame(t){var e=t.currentValue,i=t.formattedValue,n=t.currentValueIndex,s=t.formattedValueIndex;return e[n]===i[s]}function getCaretPosition(t,e,i,n,s,a,l){l===void 0&&(l=defaultIsCharacterSame);var A=s.findIndex(function(Vs){return Vs}),T=t.slice(0,A);!e&&!i.startsWith(T)&&(e=T,i=T+i,n=n+T.length);for(var q=i.length,et=t.length,xi={},Oi=new Array(q),Ts=0;Ts<q;Ts++){Oi[Ts]=-1;for(var Fs=0,qs=et;Fs<qs;Fs++){var Us=l({currentValue:i,lastValue:e,formattedValue:t,currentValueIndex:Ts,formattedValueIndex:Fs});if(Us&&xi[Fs]!==!0){Oi[Ts]=Fs,xi[Fs]=!0;break}}}for(var Ls=n;Ls<q&&(Oi[Ls]===-1||!a(i[Ls]));)Ls++;var Gs=Ls===q||Oi[Ls]===-1?et:Oi[Ls];for(Ls=n-1;Ls>0&&Oi[Ls]===-1;)Ls--;var zs=Ls===-1||Oi[Ls]===-1?0:Oi[Ls]+1;return zs>Gs?Gs:n-zs<Gs-n?zs:Gs}function getCaretPosInBoundary(t,e,i,n){var s=t.length;if(e=clamp$2(e,0,s),n==="left"){for(;e>=0&&!i[e];)e--;e===-1&&(e=i.indexOf(!0))}else{for(;e<=s&&!i[e];)e++;e>s&&(e=i.lastIndexOf(!0))}return e===-1&&(e=s),e}function caretUnknownFormatBoundary(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),i=0,n=e.length;i<n;i++)e[i]=!!(charIsNumber(t[i])||charIsNumber(t[i-1]));return e}function useInternalValues(t,e,i,n,s,a){a===void 0&&(a=noop$1);var l=usePersistentCallback(function(Fs,qs){var Us,Ls;return isNotValidValue(Fs)?(Ls="",Us=""):typeof Fs=="number"||qs?(Ls=typeof Fs=="number"?toNumericString(Fs):Fs,Us=n(Ls)):(Ls=s(Fs,void 0),Us=n(Ls)),{formattedValue:Us,numAsString:Ls}}),A=reactExports.useState(function(){return l(isNil(t)?e:t,i)}),T=A[0],q=A[1],et=function(Fs,qs){Fs.formattedValue!==T.formattedValue&&q({formattedValue:Fs.formattedValue,numAsString:Fs.value}),a(Fs,qs)},xi=t,Oi=i;isNil(t)&&(xi=T.numAsString,Oi=!0);var Ts=l(xi,Oi);return reactExports.useMemo(function(){q(Ts)},[Ts.formattedValue]),[T,et]}function defaultRemoveFormatting(t){return t.replace(/[^0-9]/g,"")}function defaultFormat(t){return t}function NumberFormatBase(t){var e=t.type;e===void 0&&(e="text");var i=t.displayType;i===void 0&&(i="input");var n=t.customInput,s=t.renderText,a=t.getInputRef,l=t.format;l===void 0&&(l=defaultFormat);var A=t.removeFormatting;A===void 0&&(A=defaultRemoveFormatting);var T=t.defaultValue,q=t.valueIsNumericString,et=t.onValueChange,xi=t.isAllowed,Oi=t.onChange;Oi===void 0&&(Oi=noop$1);var Ts=t.onKeyDown;Ts===void 0&&(Ts=noop$1);var Fs=t.onMouseUp;Fs===void 0&&(Fs=noop$1);var qs=t.onFocus;qs===void 0&&(qs=noop$1);var Us=t.onBlur;Us===void 0&&(Us=noop$1);var Ls=t.value,Gs=t.getCaretBoundary;Gs===void 0&&(Gs=caretUnknownFormatBoundary);var zs=t.isValidInputCharacter;zs===void 0&&(zs=charIsNumber);var Vs=t.isCharacterSame,Zs=__rest(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),Js=useInternalValues(Ls,T,!!q,l,A,et),xo=Js[0],Io=xo.formattedValue,Uo=xo.numAsString,Fo=Js[1],Ys=reactExports.useRef(),Hs=reactExports.useRef({formattedValue:Io,numAsString:Uo}),Ws=function(Ko,Jo){Hs.current={formattedValue:Ko.formattedValue,numAsString:Ko.value},Fo(Ko,Jo)},f=reactExports.useState(!1),Y=f[0],nt=f[1],vs=reactExports.useRef(null),ks=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return nt(!0),function(){clearTimeout(ks.current.setCaretTimeout),clearTimeout(ks.current.focusTimeout)}},[]);var Ds=l,Bs=function(Ko,Jo){var aa=parseFloat(Jo);return{formattedValue:Ko,value:Jo,floatValue:isNaN(aa)?void 0:aa}},Ms=function(Ko,Jo,aa){Ko.selectionStart===0&&Ko.selectionEnd===Ko.value.length||(setCaretPosition(Ko,Jo),ks.current.setCaretTimeout=setTimeout(function(){Ko.value===aa&&Ko.selectionStart!==Jo&&setCaretPosition(Ko,Jo)},0))},Q=function(Ko,Jo,aa){return getCaretPosInBoundary(Ko,Jo,Gs(Ko),aa)},$s=function(Ko,Jo,aa){var oa=Gs(Jo),ua=getCaretPosition(Jo,Io,Ko,aa,oa,zs,Vs);return ua=getCaretPosInBoundary(Jo,ua,oa),ua},Ks=function(Ko){var Jo=Ko.formattedValue;Jo===void 0&&(Jo="");var aa=Ko.input,oa=Ko.source,ua=Ko.event,Ma=Ko.numAsString,da;if(aa){var fa=Ko.inputValue||aa.value,La=geInputCaretPosition(aa);aa.value=Jo,da=$s(fa,Jo,La),da!==void 0&&Ms(aa,da,Jo)}Jo!==Io&&Ws(Bs(Jo,Ma),{event:ua,source:oa})};reactExports.useEffect(function(){var Ko=Hs.current,Jo=Ko.formattedValue,aa=Ko.numAsString;(Io!==Jo||Uo!==aa)&&Ws(Bs(Io,Uo),{event:void 0,source:SourceType.props})},[Io,Uo]);var jo=vs.current?geInputCaretPosition(vs.current):void 0,Bo=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;Bo(function(){var Ko=vs.current;if(Io!==Hs.current.formattedValue&&Ko){var Jo=$s(Hs.current.formattedValue,Io,jo);Ko.value=Io,Ms(Ko,Jo,Io)}},[Io]);var To=function(Ko,Jo,aa){var oa=Jo.target,ua=Ys.current?findChangedRangeFromCaretPositions(Ys.current,oa.selectionEnd):findChangeRange(Io,Ko),Ma=Object.assign(Object.assign({},ua),{lastValue:Io}),da=A(Ko,Ma),fa=Ds(da);if(da=A(fa,void 0),xi&&!xi(Bs(fa,da))){var La=Jo.target,ga=geInputCaretPosition(La),ha=$s(Ko,Io,ga);return La.value=Io,Ms(La,ha,Io),!1}return Ks({formattedValue:fa,numAsString:da,inputValue:Ko,event:Jo,source:aa,input:Jo.target}),!0},Oo=function(Ko,Jo){Jo===void 0&&(Jo=0);var aa=Ko.selectionStart,oa=Ko.selectionEnd;Ys.current={selectionStart:aa,selectionEnd:oa+Jo}},Vo=function(Ko){var Jo=Ko.target,aa=Jo.value,oa=To(aa,Ko,SourceType.event);oa&&Oi(Ko),Ys.current=void 0},zo=function(Ko){var Jo=Ko.target,aa=Ko.key,oa=Jo.selectionStart,ua=Jo.selectionEnd,Ma=Jo.value;Ma===void 0&&(Ma="");var da;aa==="ArrowLeft"||aa==="Backspace"?da=Math.max(oa-1,0):aa==="ArrowRight"?da=Math.min(oa+1,Ma.length):aa==="Delete"&&(da=oa);var fa=0;aa==="Delete"&&oa===ua&&(fa=1);var La=aa==="ArrowLeft"||aa==="ArrowRight";if(da===void 0||oa!==ua&&!La){Ts(Ko),Oo(Jo,fa);return}var ga=da;if(La){var ha=aa==="ArrowLeft"?"left":"right";ga=Q(Ma,da,ha),ga!==da&&Ko.preventDefault()}else aa==="Delete"&&!zs(Ma[da])?ga=Q(Ma,da,"right"):aa==="Backspace"&&!zs(Ma[da])&&(ga=Q(Ma,da,"left"));ga!==da&&Ms(Jo,ga,Ma),Ts(Ko),Oo(Jo,fa)},so=function(Ko){var Jo=Ko.target,aa=function(){var oa=Jo.selectionStart,ua=Jo.selectionEnd,Ma=Jo.value;if(Ma===void 0&&(Ma=""),oa===ua){var da=Q(Ma,oa);da!==oa&&Ms(Jo,da,Ma)}};aa(),requestAnimationFrame(function(){aa()}),Fs(Ko),Oo(Jo)},Qs=function(Ko){Ko.persist&&Ko.persist();var Jo=Ko.target,aa=Ko.currentTarget;vs.current=Jo,ks.current.focusTimeout=setTimeout(function(){var oa=Jo.selectionStart,ua=Jo.selectionEnd,Ma=Jo.value;Ma===void 0&&(Ma="");var da=Q(Ma,oa);da!==oa&&!(oa===0&&ua===Ma.length)&&Ms(Jo,da,Ma),qs(Object.assign(Object.assign({},Ko),{currentTarget:aa}))},0)},sa=function(Ko){vs.current=null,clearTimeout(ks.current.focusTimeout),clearTimeout(ks.current.setCaretTimeout),Us(Ko)},Zo=Y&&addInputMode()?"numeric":void 0,Qo=Object.assign({inputMode:Zo},Zs,{type:e,value:Io,onChange:Vo,onKeyDown:zo,onMouseUp:so,onFocus:Qs,onBlur:sa});if(i==="text")return s?React$2.createElement(React$2.Fragment,null,s(Io,Zs)||null):React$2.createElement("span",Object.assign({},Zs,{ref:a}),Io);if(n){var la=n;return React$2.createElement(la,Object.assign({},Qo,{ref:a}))}return React$2.createElement("input",Object.assign({},Qo,{ref:a}))}function format$1(t,e){var i=e.decimalScale,n=e.fixedDecimalScale,s=e.prefix;s===void 0&&(s="");var a=e.suffix;a===void 0&&(a="");var l=e.allowNegative,A=e.thousandsGroupStyle;if(A===void 0&&(A="thousand"),t===""||t==="-")return t;var T=getSeparators(e),q=T.thousandSeparator,et=T.decimalSeparator,xi=i!==0&&t.indexOf(".")!==-1||i&&n,Oi=splitDecimal(t,l),Ts=Oi.beforeDecimal,Fs=Oi.afterDecimal,qs=Oi.addNegation;return i!==void 0&&(Fs=limitToScale(Fs,i,!!n)),q&&(Ts=applyThousandSeparator(Ts,q,A)),s&&(Ts=s+Ts),a&&(Fs=Fs+a),qs&&(Ts="-"+Ts),t=Ts+(xi&&et||"")+Fs,t}function getSeparators(t){var e=t.decimalSeparator;e===void 0&&(e=".");var i=t.thousandSeparator,n=t.allowedDecimalSeparators;return i===!0&&(i=","),n||(n=[e,"."]),{decimalSeparator:e,thousandSeparator:i,allowedDecimalSeparators:n}}function handleNegation(t,e){t===void 0&&(t="");var i=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),s=i.test(t),a=n.test(t);return t=t.replace(/-/g,""),s&&!a&&e&&(t="-"+t),t}function getNumberRegex(t,e){return new RegExp("(^-)|[0-9]|"+escapeRegExp(t),"g")}function isNumericString(t,e,i){return t===""?!0:!(e!=null&&e.match(/\d/))&&!(i!=null&&i.match(/\d/))&&typeof t=="string"&&!isNaN(Number(t))}function removeFormatting(t,e,i){var n;e===void 0&&(e=getDefaultChangeMeta(t));var s=i.allowNegative,a=i.prefix;a===void 0&&(a="");var l=i.suffix;l===void 0&&(l="");var A=i.decimalScale,T=e.from,q=e.to,et=q.start,xi=q.end,Oi=getSeparators(i),Ts=Oi.allowedDecimalSeparators,Fs=Oi.decimalSeparator,qs=t[xi]===Fs;if(charIsNumber(t)&&(t===a||t===l)&&e.lastValue==="")return t;if(xi-et===1&&Ts.indexOf(t[et])!==-1){var Us=A===0?"":Fs;t=t.substring(0,et)+Us+t.substring(et+1,t.length)}var Ls=function(vs,ks,Ds){var Bs=!1,Ms=!1;a.startsWith("-")?Bs=!1:vs.startsWith("--")?(Bs=!1,Ms=!0):l.startsWith("-")&&vs.length===l.length?Bs=!1:vs[0]==="-"&&(Bs=!0);var Q=Bs?1:0;return Ms&&(Q=2),Q&&(vs=vs.substring(Q),ks-=Q,Ds-=Q),{value:vs,start:ks,end:Ds,hasNegation:Bs}},Gs=Ls(t,et,xi),zs=Gs.hasNegation;n=Gs,t=n.value,et=n.start,xi=n.end;var Vs=Ls(e.lastValue,T.start,T.end),Zs=Vs.start,Js=Vs.end,xo=Vs.value,Io=t.substring(et,xi);t.length&&xo.length&&(Zs>xo.length-l.length||Js<a.length)&&!(Io&&l.startsWith(Io))&&(t=xo);var Uo=0;t.startsWith(a)?Uo+=a.length:et<a.length&&(Uo=et),t=t.substring(Uo),xi-=Uo;var Fo=t.length,Ys=t.length-l.length;t.endsWith(l)?Fo=Ys:(xi>Ys||xi>t.length-l.length)&&(Fo=xi),t=t.substring(0,Fo),t=handleNegation(zs?"-"+t:t,s),t=(t.match(getNumberRegex(Fs))||[]).join("");var Hs=t.indexOf(Fs);t=t.replace(new RegExp(escapeRegExp(Fs),"g"),function(vs,ks){return ks===Hs?".":""});var Ws=splitDecimal(t,s),f=Ws.beforeDecimal,Y=Ws.afterDecimal,nt=Ws.addNegation;return q.end-q.start<T.end-T.start&&f===""&&qs&&!parseFloat(Y)&&(t=nt?"-":""),t}function getCaretBoundary(t,e){var i=e.prefix;i===void 0&&(i="");var n=e.suffix;n===void 0&&(n="");var s=Array.from({length:t.length+1}).map(function(){return!0}),a=t[0]==="-";s.fill(!1,0,i.length+(a?1:0));var l=t.length;return s.fill(!1,l-n.length+1,l+1),s}function validateAndUpdateProps(t){var e=getSeparators(t),i=e.thousandSeparator,n=e.decimalSeparator,s=t.prefix;s===void 0&&(s="");var a=t.allowNegative;if(a===void 0&&(a=!0),i===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+i+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return s.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+s+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},t),{allowNegative:a})}function useNumericFormat(t){t=validateAndUpdateProps(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,i=t.allowNegative,n=t.allowLeadingZeros,s=t.onKeyDown;s===void 0&&(s=noop$1);var a=t.onBlur;a===void 0&&(a=noop$1);var l=t.thousandSeparator,A=t.decimalScale,T=t.fixedDecimalScale,q=t.prefix;q===void 0&&(q="");var et=t.defaultValue,xi=t.value,Oi=t.valueIsNumericString,Ts=t.onValueChange,Fs=__rest(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),qs=getSeparators(t),Us=qs.decimalSeparator,Ls=qs.allowedDecimalSeparators,Gs=function(nt){return format$1(nt,t)},zs=function(nt,vs){return removeFormatting(nt,vs,t)},Vs=isNil(xi)?et:xi,Zs=Oi??isNumericString(Vs,q,e);isNil(xi)?isNil(et)||(Zs=Zs||typeof et=="number"):Zs=Zs||typeof xi=="number";var Js=function(nt){return isNotValidValue(nt)?nt:(typeof nt=="number"&&(nt=toNumericString(nt)),Zs&&typeof A=="number"?roundToPrecision(nt,A,!!T):nt)},xo=useInternalValues(Js(xi),Js(et),!!Zs,Gs,zs,Ts),Io=xo[0],Uo=Io.numAsString,Fo=Io.formattedValue,Ys=xo[1],Hs=function(nt){var vs=nt.target,ks=nt.key,Ds=vs.selectionStart,Bs=vs.selectionEnd,Ms=vs.value;if(Ms===void 0&&(Ms=""),(ks==="Backspace"||ks==="Delete")&&Bs<q.length){nt.preventDefault();return}if(Ds!==Bs){s(nt);return}ks==="Backspace"&&Ms[0]==="-"&&Ds===q.length+1&&i&&setCaretPosition(vs,1),A&&T&&(ks==="Backspace"&&Ms[Ds-1]===Us?(setCaretPosition(vs,Ds-1),nt.preventDefault()):ks==="Delete"&&Ms[Ds]===Us&&nt.preventDefault()),Ls!=null&&Ls.includes(ks)&&Ms[Ds]===Us&&setCaretPosition(vs,Ds+1);var Q=l===!0?",":l;ks==="Backspace"&&Ms[Ds-1]===Q&&setCaretPosition(vs,Ds-1),ks==="Delete"&&Ms[Ds]===Q&&setCaretPosition(vs,Ds+1),s(nt)},Ws=function(nt){var vs=Uo;if(vs.match(/\d/g)||(vs=""),n||(vs=fixLeadingZero(vs)),T&&A&&(vs=roundToPrecision(vs,A,T)),vs!==Uo){var ks=format$1(vs,t);Ys({formattedValue:ks,value:vs,floatValue:parseFloat(vs)},{event:nt,source:SourceType.event})}a(nt)},f=function(nt){return nt===Us?!0:charIsNumber(nt)},Y=function(nt){var vs=nt.currentValue,ks=nt.lastValue,Ds=nt.formattedValue,Bs=nt.currentValueIndex,Ms=nt.formattedValueIndex,Q=vs[Bs],$s=Ds[Ms],Ks=findChangeRange(ks,vs),jo=Ks.to,Bo=function(To){return zs(To).indexOf(".")+q.length};return xi===0&&T&&A&&vs[jo.start]===Us&&Bo(vs)<Bs&&Bo(Ds)>Ms?!1:Bs>=jo.start&&Bs<jo.end&&Ls&&Ls.includes(Q)&&$s===Us?!0:Q===$s};return Object.assign(Object.assign({},Fs),{value:Fo,valueIsNumericString:!1,isValidInputCharacter:f,isCharacterSame:Y,onValueChange:Ys,format:Gs,removeFormatting:zs,getCaretBoundary:function(nt){return getCaretBoundary(nt,t)},onKeyDown:Hs,onBlur:Ws})}function NumericFormat(t){var e=useNumericFormat(t);return React$2.createElement(NumberFormatBase,Object.assign({},e))}function NumericFormatInput(t){const{value:e,decimals:i,placeholder:n,style:s,onChange:a,maxValue:l,minValue:A=0,inputAllowed:T=!0,prefix:q,...et}=t,xi=Oi=>{var Fs;const Ts=(Fs=Oi==null?void 0:Oi.target)==null?void 0:Fs.value;if(Ts){if(Ts.startsWith(".")){a(Ts.slice(1,Ts.length));return}try{if(d(Ts).eq(0)){a("0");return}}catch(Us){console.log(" ~ handleChange ~ error:",Us)}let qs=Ts.replace(/^0+$/,"0").replace(/^0+(?!\.\d+$)/g,"").replace(/,/g,"")||"";if(qs.startsWith("-")){a("");return}q&&(qs=qs.replace(q,"")),l!==void 0&&d(qs).gt(l)?qs=l.toString():A!==void 0&&d(qs).lt(A)&&(qs=A.toString()),a(String(qs))}else a("")};return jsxRuntimeExports.jsx(NumericFormat,{value:e,disabled:!T,placeholder:n,decimalScale:i,prefix:q,allowLeadingZeros:!0,thousandSeparator:",",onMouseDown:Oi=>{cancelBubble(Oi)},isAllowed:Oi=>!Oi.value.startsWith("-"),onChange:xi,...et,style:{...s,cursor:T?"text":"not-allowed",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontFeatureSettings:"tnum",fontVariant:"tabular-nums"}})}const GhostLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA6RJREFUWEfNl2von2MYxz/fbdnCvBA1ipKMcopFEXOYGCWxYmi1N8KmyCEph/bCqRSWkawZy8ihkY1lSu3NbHthYjO1lReIlpkmYw5fz7Wu5+/e7//8fr9nz2juV7/fdd/X9/re132dHtFx2Z4AzEn1ZyX92gVKw5Rsj5H0V+8526cAs1O+WNLnw7Ca9gcSsH0yMBdYK+mlEsD26cCslC2R9GnP/pXAScAySVv6kRtGYCZwUSovlLS+BhpEwPapwIw8u07Se10JTAbuSuUfgQcl7Y7//QjYPgi4DTiseJ6vOhFIQzcDZybAcknvpvx44NaUPydpa8rDYxekfJOk1wfFRpsgPAKYB4wDdki6Nw2NKZ7nozpQbYfHJgJ/AM9I2tGKQLr0DCDebFNPQE0DrgXWSFo8CND29cCJwEpJH/fgHFMFZQTvF7XH9nggUg2IKB+bCmuBpZK2FUE3oU2uJ9b4ylO7Ct2IhwuBE1IWaf10eG3kCWzHW9dvF+d+rxRekfRBl/wujEf8TC0uF1sbJa2MH3vFgO1zgRuAwxMg3nF2UyFqQ8p23Pym4uxOYLWkzbVsVBDaHg9EEbkM2CBpQRtjTWfyOa4GJgGfAOslhWdH1tAs6Gq8rd6BJ2D7YOC0zPOa+E8ZKKOaUNub9aRfXPQoIDpovQL7W9meX6XgcQ3AL0t6o4vBXh3bUV/OasD64X9B4MA+wb/h4v3B6JsFtsdK+nN/wNvoNhWiiNQYRK6rhorPgPu6ErEd+K8CEYTRa56S9EvfQmT7YuAW4Mji0ExJ37e5TUP0H1KV4m+AaHax4vcDkt4cVYptR5+fXoBEyYxBY1kX47WO7egFjwBR4uv1oqTb40/djqMNR3eKoSPW6jT+XQE0TlI0p4HLdmBMkvR1oXss8HDVD65K2TZJMVH90w1tnwOcB6yStKG0YjsGzHuAtyU9NoiB7aXZ+++XtKgHJ/AjvmJYWb4XgX6gtqOEvlW5MYbN7ZIujbPZ6epW+0K07Mgc4EsgastvwPmlJ5psDG1Gth8HYiSL9ZqkJ5LA2cCSlM+StC7ldwN3pnyFpHIeGMVh2HfBlKqJPJ9a24FrJP2chi6PtMq9OyS9n/K4fcTQ0bk3Q9Kafh4eRiDePepBrIckrSgCq5FAkoghpB5k3qnSuB7f99kDEZiPVrNijN0xmo8s230JJIknqwn7ivhIkbSqkwf6KaWBS4pbzpX04aDz/wWBQ2NqTuAb69jYVxJ/A8eXcdbPzepuAAAAAElFTkSuQmCC",PrimaryLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAbKADAAQAAAABAAAAbAAAAAD529oeAAAJzUlEQVR4Ae1dz4sURxj9undNVkLMikSIoJ5zCYSQy6oQFQNBE5ND9p6jxvwAYf+IgBCj0WPu5pCYuJeMPwLqXiQEctmzK6wgSH4RNHHdzns1U2PP7MzO7E5V12uYRu2enpn6Xr3X1V399fuczGq+XPit2P70sR0tMjuCruyxwnZZhr9cClvG9jK2lrLCGhNTNn/ytex3915N/8lqitvO/1J8sLpqnxSFHUAfJofsx0qW2c08t3On3si+G/I7Uh+rnWDn7hT7CrMvINTMKExCuAV0fu6TN7Pbo7RT9XdrI9ilopi4/4udsVX7LChJuZ195Q07PZtlT4O2G6mxWgj2za/F9F8rdgnXJF6nwi+ZNbZN2uxHr2d/hG88bIvygrXEWoBYr4bteldrmS1CtBl10fIu2FIveRpsjay4YrHXOCAYizGlSOgCIy2Yu2bFOg12EeFeIpaL2es9kX2yp0TOBlcLu5WCpzyz/aqzR9kRxql7CrEYM2XsQX2WFIw3xaPeZw3q+HrvMzYxrPeZVO9JCsYMRipCfFwFDB5LeS13DWNu8MljewCQw6abyv0Jub2yZcp2quUe5UbYk3/tmIBYFH6yhSXkQTByW3KCYcjHyWZsgiolLB6+nGAAttuDE1grYXF06AnG51kqixKWFid6gvmHjwqiKWFRFQz3QLhv1ViUsHhG5EYYLvT3PbjUayUsngs5wVoeDI8v7brpB0mLoSu6nmAwzHRhTPlSCYvjQU4wXMCuplSoHJtOq/JrhW05wbY8b1dAzIoAOSu0xQng6IAgJxhzd7SidaBM8IIY1PKIpEFOMAcKvsEEGnWEpHexY4fIC8xcNZev7hS3Uz0To2fx0zezfYrMSI4wEoUjaS4VYSljD+qzrGDOUwGT56AOBH8fMVX9HOyrrGAER0cuhlp1U2vEcjEZXHSRFoz2aTpyIdpidP6aRtJZdcu2tGAUiU5cOnKjjrSmVVve9Us+ZGeJBFdexsUQTTZqI5gXb1xu5Jmo2Xpc0FczwTxcZ4uD0wqnCpp3duPxZ6+S2XtIKjeYp1RMN/m+DLPe8CnxxJViuz21oyQIdcV7kNGmB8P7MJaxbxn7lkiQTdj8xWP1rikehsTyZ27eLbb/a6i55gFUoOaa3HirAWuuzdVdL4G/xvNm8wf2boyfoQX7+EfYp+nIzewAUkZDmTyR4lkB6JsZ8nJfv1vPmuKyGOttX7uHmuunm+Mnn7Bzh3cPx89AwU5dRhUJa4ptxJpiswXcQ8ydP16vmuL1ROJ71+8W+/As6AscmCPVXGMgLGAUzB3auz4/fQXjNPrnH+wMhApaU4yAZ996rz41xf0EK8DPtSU7g5KooPyg1Ons4T12OutTc91TsM9vFNP//W3QLI4LF6fKxnMv2uyXB/VrinsJduP3YvrJX3Frrrdss9mD29fys0awllgLECtqmSpEW4RoM3UTjWKt/GkLOPPE5cdscfIlm+kWrSM1xdNga2RFBcOjlgcEYzFmr6NYcR9PgxxZscVy/OCAcLG6+OkQzF2zIp0GewnAUy5j9npPcR+vWZhcVFesgVguZomM9imRs0H8zyJJaooxxParzx7dbDBRzfUkaq797LE9wjh1LwlZ6WbK2MN21E3dh/1w4M+VYzvB3E3xiPdZo2DkPR4xjNJGzO/ypnjk+6xRAOIez2FAG04wl8EYpcEA31XA0K8bLoPR782K9nsMGXOD2ao9wARgqHRTLHxMYxW57VTLPTI3+Ng0+Jky25nnq3YstVg8CIiBWGIdEJtt95Hp8EMs4KjCaeoA1pSweKiYRlc3jfdB+6yJhdcwpTpeJSxN2gohfoAlbz3P6qNptbuVsJR67p/1lXYl29zFESYFKBkV/QL7h4/93q9yP7DkuAfCH41FCUubEaGaayhV4PHLuKa4LU7vDZmaa8C7n9OD0Rtn9XuVsJR6L8MPMC1z0rFUApd0UwlLm4hMhx/YCJZyZBiutsEl3sA1rLrChyH7Ckwy/ODy1chXc7vCtNCQ+KN9zGGALS5agE02vNV0+KEtLne5O1jRNtmfcF8DBrU8IjvnfIMi/BCLy9bTNxiO+c21pIChH3L6Bvu9V9V+jwGnxeZy8jJqihM9EwOIhQvHNWuKPT8/3S1uJ3smBs/i23ub/LgRRlDYSFZTnDK2F2TQmibPQZ+J9X45dlsweipwpFdeU8yY6n4OCkFPBU2esUTp1y5jej8HP9MWjC/oyMVsrbKpNWMxJmPXYaEjF/dClfHDWC5miZwOwVjfS0cuiIxeU8wYjKVeU1ziymifpiMXZ4X4/CCGi9Vl2e4QjODoxKUjN+ZIY9t1dP2SHzpx6ciNOtLATy/XL+PjYOm90JE7LobozQ33ShVDlGGOy43KbKzdlik36oY2LujrZqTztUxBXycsM9ri6G5qGWZ2tx7r+6fWrmQW37mHi2ODeUrFdFN3n0K+pi2O7iZca1gyS49Kr5JZV3PNPGW0ktmQnQrZ1tEL8A3mdhQ/bnPE11wjY+MOIJDWrrnGf6fXmFq1+fmTG6spDok1RFt9Jx0hGo/ZxqGLqCku3K8gHUCcYU2wfCpxEzej566fGK6mOGYfNtN27QQ7eLHYh1NNkJprzJHnbpxYv6Z4M6TG/E5tBPvwUjHx8GGcmuIdO+z0t7Pj33EOdqC9/00x/cfjuDXF01M2+/1Ha2uKg3UiUEPyI8yJ9cgW0N/YZbyL01ttRl20NampQAdCkGZ4GnQjK75YxPsqYzFmEPCRGpEWjNcsTDCqK0ZALBczEtkhmpU9JXI2iBKkWyE6udE2kJzerzp71B1hmLpvlOhgn08Ze0AnJAXjTXEqfwn5YmxiGMBdkrclBWtlMJIQ4oMqYPBYymu5axhzg/+gphggh003lfsTcnvlBdQUq+Ue5UbYo0znd5xbWEIeBCO3JScYrh/VTeMH0KeExUNVFEymzhmCyWCRFUypzlkJi6xgOKr902uPMdlaCYsnQe6UiGdU4ElkUcLSokROMJyGZGqKlbD4Q1hOMKU6ZyUssoLhqF7y4FKvlbB4LuRGGDLlMjXFdFp5olTWcoJtLXR+x5m2OBWhPA45wVq5u/Q117DDqeURKZqcYA4UfIP+iEq1pncxVez14spl6z3YgxfS1lzfOKlZcy05wpxoMHl68Spfp4w9oLOygtFTkaqmWNXPQS1lBSM4OnKjVjoySHlB5aOLWd4nti17DfM8jY2knonmWnqEESKduHTkRh1pGFl1cP2SD3nBvGgv77B3YlzT2CbbVrdokwcu8qfEJsxn/47LjZ5xUautcUFfreR6Bpa2OLqb8NTzCP66mmv/pBinj2bJLGqusd1gnlIx3fSsN4O3/geTqWMhW4ldAwAAAABJRU5ErkJggg==",spin=keyframes`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`,imageMap={primary:PrimaryLoading,ghost:GhostLoading};function Spinner({size:t="20px",variant:e="primary",wrapStyle:i={}}){return jsxRuntimeExports.jsx(Center,{w:"100%",h:"100%",...i,children:jsxRuntimeExports.jsx(Image$1,{boxSize:t,src:imageMap[e],alt:"Loading",animation:`${spin} 1s linear infinite`})})}const alertTheme=defineStyleConfig$1({baseStyle:{zIndex:999999,button:{color:"orange"},container:{zIndex:999999,bg:"none"},icon:{color:"text_paragraph"},spinner:{color:"text_paragraph"},title:{color:"text_caption",fontSize:"md"},description:{color:"text_paragraph",fontSize:"sm"}},variants:{subtle:{}},defaultProps:{variant:"subtle"}});function defineStyle(t){return t}function defineStyleConfig(t){return t}const baseStyle$1={fontWeight:"normal",borderRadius:"12px",fontFamily:"Inter",minW:"unset !important",_focusVisible:{boxShadow:"none",outline:"none"}},variants={solid:{bg:"primary",minW:"unset !important",_hover:{bg:{base:"",lg:"primary_hover"},_disabled:{bg:"primary_disabled",color:"primary_gray"}},_active:{bg:"primary_hover"},_disabled:{opacity:1,bg:"primary_disabled",color:"primary_gray",_hover:{bg:"unset",color:"unset",opacity:1}},color:"block_color"},outline:{bg:"button_outline_bg",border:"1px solid ",borderColor:"border !important",color:"primary",minW:"unset !important",_hover:{borderColor:"border",bg:{base:"",lg:"button_outline_hov_bg"},color:{base:"",lg:"primary"}},_active:{borderColor:"border",bg:"button_outline_hov_bg",color:"primary"},_disabled:{opacity:1,bg:"button_outline_disabled_bg",color:"primary_gray",border:"1px solid",borderColor:"border",_hover:{opacity:1,color:"primary_gray",bg:"button_outline_disabled_bg !important"}}},ghost:{bg:"button_ghost_bg !important",borderRadius:"8px",border:"1px solid",borderColor:"border !important",color:"primary_gray",minW:"unset !important",_hover:{border:{base:"",lg:"1px solid"},borderColor:{base:"",lg:"border !important"},bg:{base:"",lg:"button_ghost_hov_bg !important"},color:"primary_gray"},_active:{border:"1px solid",borderColor:"border !important",bg:"button_ghost_hov_bg !important",color:"primary_gray"},_disabled:{opacity:1,border:"1px solid",borderColor:"border !important",bg:"button_ghost_disabled_bg !important",color:"primary_gray",_hover:{opacity:1,bg:"button_ghost_disabled_bg !important",color:"primary_gray"}}}},buttonTheme={baseStyle:baseStyle$1,variants,defaultProps:{size:"md",variant:"solid"},sizes:{lg:{fontWeight:"550",height:"48px"},md:{fontWeight:"400"}}},cardTheme={baseStyle:{container:{borderRadius:"16px",paddingLeft:"16px",paddingRight:"16px",paddingTop:"20px",paddingBottom:"20px"},body:{color:"text_paragraph",padding:"0px,0px,0px,0px"},header:{color:"text_caption"},footer:{}},variants:{filled:{container:{bg:"card_bg"}},outline:{container:{bg:"card_bg"}}},defaultProps:{variant:"filled"}},checkboxTheme={baseStyle:{icon:{},container:{},control:{bg:"checked_bg",border:"0px",borderRadius:"4px",color:"primary",_hover:{bg:"checked_bg",color:"primary"},_checked:{bg:"checked_bg",color:"primary"}},label:{color:"text_caption",_checked:{color:"primary"}}}},drawerTheme=defineStyleConfig$1({baseStyle:{overlay:{bg:"block_color_opacity.80",backdropFilter:"blur(10px)"},dialogContainer:{padding:{md:"0 8px",lg:"0px"}},dialog:{bg:"block_color_opacity.93",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)"},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}}),baseStyle={fontFamily:"Inter"},formTheme={baseStyle},headingTheme=defineStyleConfig$1({baseStyle:{fontFamily:"Inter",color:"text_caption"}}),inputTheme=defineStyleConfig$1({baseStyle:{addon:{"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},field:{fontFamily:"Inter","::placeholder":{color:"text_paragraph"},_light:{"::placeholder":{color:"text_paragraph"}}}},variants:{unstyled:{field:{color:"text_caption",fontSize:"2xl",_disabled:{color:"text_paragraph",opacity:1}},"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},outline:{field:{bg:"bg_secondary",color:"text_caption",border:"1px",borderColor:"border",borderRadius:"16px",fontSize:"2xl",height:"52px",width:"100%",_hover:{borderColor:"border",bg:"bg_secondary"},"::placeholder":{color:"text_paragraph"},_focusVisible:{borderColor:"primary",boxShadow:"0px 1px 0px 0px primary"}},addon:{height:"100%"}}},defaultProps:{variant:"unstyled"}}),menuTheme=defineStyleConfig$1({baseStyle:{button:{bg:"bg_secondary",color:"text_paragraph"},list:{bg:"bg_secondary",p:"16px",borderRadius:"12px",backdropFilter:"blur(20px)",border:"1px solid",borderColor:"border",boxShadow:"unset !important"},item:{bg:"none",color:"text_paragraph",fontSize:"sm"},groupTitle:{},icon:{},command:{},divider:{}}}),modalTheme=defineStyleConfig$1({baseStyle:{overlay:{bg:"rgba(0,0,0,0.8)"},dialogContainer:{top:"28px",bottom:"28px",overflowY:"scroll",padding:{base:"0 8px 56px",lg:"0px 0 56px"}},dialog:{bg:"background",border:"1px solid",borderColor:"border",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)",transition:{duration:.1}},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}}),popoverTheme=defineStyleConfig$1({baseStyle:{popper:{bg:"transparent",color:"text_paragraph",borderRadius:"0px",border:"0px solid",borderColor:"border",_focus:{outline:"none !important",boxShadow:"unset !important"}},content:{bg:"bg_secondary",border:"1px solid",borderColor:"border",borderRadius:"8px",_focus:{outline:"unset",boxShadow:"unset !important"}},header:{color:"text_caption",fontSize:"12px"},body:{color:"text_paragraph",borderRadius:"8px"},footer:{color:"text_paragraph"},closeButton:{color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"}}}}),progressTheme=defineStyleConfig$1({baseStyle:{track:{borderRadius:"8px",bg:"transparent",border:"0px",borderColor:"none"},filledTrack:{bg:"process_bg",borderRadius:"8px"}},defaultProps:{}}),$startColor=cssVar("skeleton-start-color"),$endColor=cssVar("skeleton-end-color"),skeletonTheme=defineStyleConfig$1({baseStyle:{[$startColor.variable]:"var(--chakra-colors-loading_gradient_start)",[$endColor.variable]:"var(--chakra-colors-loading_gradient_end)",background:"background",width:"96px",height:"16px",borderRadius:"4px",opacity:"0.5"}}),sliderTheme=defineStyleConfig$1({baseStyle:{container:{},track:{bg:"bg_four",h:"4px",borderRadius:"4px"},thumb:{w:"12px",h:"12px",bg:"primary",borderRadius:"10px",border:"1px",borderColor:"bg_four",position:"relative",_before:{content:"''",width:"6px",height:"6px",borderRadius:"100%",background:"bg_four",position:"absolute",left:"50%",top:"50%",marginLeft:"-3px",marginTop:"-3px"},_focusVisible:{boxShadow:"sm"}},filledTrack:{bg:"primary"}},defaultProps:{colorScheme:"primary"}}),stepperTheme=defineStyleConfig$1({baseStyle:{stepper:{},title:{fontSize:"14px",color:"text_caption",opacity:.5,"&[data-status=complete]":{color:"primary",opacity:1},"&[data-status=active]":{color:"primary",opacity:1}},description:{},number:{},step:{minH:"66px",display:"flex",justifyContent:"flex-start",alignItems:"center"},icon:{},indicator:{w:"28px",h:"28px",borderRadius:"8px","&[data-status=complete]":{bg:"none",borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=active]":{borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=incomplete]":{bg:"none",borderWidth:"1px",borderColor:"border",color:"#FFCA680"}},separator:{marginTop:"14px","&[data-orientation=vertical]":{w:"1px",h:"32px",bg:"primary",maxH:"auto"}}}}),switchTheme=defineStyleConfig$1({baseStyle:{thumb:{w:"14px",h:"14px",borderRadius:"7px",bg:"switch_inactive_bg",_checked:{bg:"switch_active_bg"}},track:{align:"center",w:"28px",h:"14px",bg:"block_color",p:"1px",border:"1px solid",borderRadius:"9px",borderColor:"border !important",_checked:{bg:"aggregator_switch_track_active"},_focusVisible:{boxShadow:"unset !important"}}}}),tableTheme=defineStyleConfig$1({baseStyle:{fontFamily:"Inter"},sizes:{sm:{th:{fontSize:"12px"},td:{fontSize:"14px"}}},variants:{unstyled:{table:{},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",textTransform:"none",fontSize:"14px",p:"8px !important",_first:{pl:"16px !important"},_last:{textAlign:"right",pr:"16px !important"}},tbody:{tr:{td:{textAlign:"right",color:"text_caption",fontFamily:"Inter",p:"8px !important",_first:{pl:"16px !important",textAlign:"left",borderRadius:"12px 0 0 12px"},_last:{pr:"16px !important",borderRadius:"0 12px  12px 0"}},_hover:{bg:"primary_opacity.10",borderRadius:"12px",backdropFilter:"blur(10px)"}}}},simple:{table:{borderCollapse:"separate",borderSpacing:"0px 4px"},th:{fontFamily:"Inter",textTransform:"none",fontSize:"14px",fontWeight:"400",borderBottom:"0px",padding:"0px"},tr:{_last:{td:{border:"none"}}},td:{fontFamily:"Inter",borderColor:"border",padding:"16px 0px"}},simple_list:{table:{borderCollapse:"separate",borderSpacing:"0px 0px"},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",fontSize:"14px",textTransform:"none",textAlign:"right",padding:"12px 8px",_first:{pl:"16px",textAlign:"left"},_last:{textAlign:"right",pr:"16px"}},tbody:{tr:{td:{fontFamily:"Inter",bg:"bg_secondary",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"border",textAlign:"right",padding:"16px 8px",_first:{pl:"16px",borderRadius:"16px 0 0 16px",borderLeft:"1px solid",borderColor:"border",textAlign:"left"},_last:{pr:"16px",borderRadius:"0 16px  16px 0",borderRight:"1px solid",borderColor:"border"}},_hover:{bg:"primary_opacity.10",borderRadius:"16px",backdropFilter:"blur(10px)"}}}},striped:{table:{},th:{fontFamily:"Inter",color:"text_paragraph",textTransform:"none",padding:"16px",border:"none"},td:{fontFamily:"Inter",color:"text_caption",border:"none !important",padding:"16px"}}},defaultProps:{variant:"unstyled"}}),tabsTheme=defineStyleConfig$1({variants:{}}),textTheme=defineStyleConfig$1({baseStyle:{fontSize:"sm",color:"text_paragraph",fontFamily:"Inter"}}),tooltipTheme=defineStyleConfig$1({baseStyle:{bg:"bg_secondary",color:"text_paragraph",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"9px 12px",fontSize:"12px",boxShadow:"unset"}}),components={Button:buttonTheme,Switch:switchTheme,Input:inputTheme,Text:textTheme,Heading:headingTheme,Checkbox:checkboxTheme,Progress:progressTheme,Slider:sliderTheme,Card:cardTheme,Menu:menuTheme,Modal:modalTheme,Tooltip:tooltipTheme,Popover:popoverTheme,Stepper:stepperTheme,Skeleton:skeletonTheme,Table:tableTheme,Alert:alertTheme,Drawer:drawerTheme,FormControl:formTheme,Tabs:tabsTheme},typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},foundations={typography},colors={background:"#161616",bg_primary:"#161616",bg_secondary:"#0F0F0F",bg_third:"#191919",bg_four:"#202224",bg_fifth:"#1A1D21",bg_six:"#191B1E",bg_seven:"#171717",bg_eight:"rgba(114,193,247,0.1)",menu_item_bg:"#181818",menu_item_hover_bg:"#1f1f1f",block_color:"#000000",text_caption:"#FFFFFF",text_paragraph:"#909CA4",text_highlight:"#72C1F7",top_coin_address_text:"#86FFE4",primary:"#75C8FF",primary_gray:"#7F98A7",primary_green:"#68FFD8",primary_yellow:"#FFCA68",primary_red:"#FF5073",primary_blue:"#62AADB",light_coral:"#AE6161",quote_green:"#027658",text_green:"#AAFFC9",primary_hover:"#8DD2FF",primary_disabled:"#25303A",button_outline_bg:"#0F0F0F",button_outline_hov_bg:"rgba(114,193,247,0.1)",button_outline_disabled_bg:"#25303A",button_ghost_bg:"#1A1C25",button_ghost_hov_bg:"#242733",button_ghost_disabled_bg:"#25303A",switch_active_bg:"#72C1F7",switch_inactive_bg:"#768691",switch_thumb:"#FFFFFF",aggregator_switch:"#222530",aggregator_switch_track_active:"#1B2E3B",border:"#2A3238",button_outline_border:"#00334C",input_error_border:"#FC8181",h5_route_border:"#8BABBE",h5_router_percentage_bg:"#22333D",token_inactive_border:"#2b3239",token_active_border:"#4F86AB",trade_input_border_light:"#344E61",border_secondary:"#23252C",checked_bg:"#1A1C25",process_bg_gray:"#2A3238",process_bg:"#3C60F7",process_bg_value:"#2CDAB0",card_bg:"#192128",card_bg_hover:"#1D262E",form_card_bg:"#1D1F21",input_bg:"#141414",input_disabled:"#121719",launch_title:"#C3F8E6",scroll_header_bg:"linear-gradient( 270deg, #003D4C 0%, #170033 100%)",scroll_header_border:"linear-gradient( 270deg, #005B99 0%, #480077 100%)",ranking_table_bg:"linear-gradient( 0deg, #151A29 0%, #0F0F0F 100%)",market_table_bg:"linear-gradient( 0deg, #152429 0%, #0F0F0F 100%)",status_text:"linear-gradient(to left, #4CB6FF 0%, #7CFFD0 100%)",ranking_list_h5_bg:"linear-gradient( 180deg, #0F0F0F 100%, #151A29 0%)",bubble_bg_created:"#003254",bubble_bg_complete:"linear-gradient( 270deg, #055C45 0%, #002E73 100%)",bubble_bg_buy:"#006147",bubble_bg_sell:"#46121C",plus_mode_color:"linear-gradient(90deg, #c7f9d4, #eff7d0 48%, #f8beff)",beta_tag_color:"linear-gradient( 90deg, #C6F9D4 5%, #FFFDB3 30%, #D5ECFA 66%, #FBD7FF 87%, #F7B8FF 100%)",beta_tag_border_color:"linear-gradient(90deg, rgba(198, 249, 212, 1), rgba(255, 253, 179, 1), rgba(213, 236, 250, 1), rgba(251, 215, 255, 1), rgba(247, 184, 255, 1)) 1 1",aggregator_box_shadow:"linear-gradient(180deg, rgba(22,22,22,0) 0%, #161616 100%)",circle_progress_color:"#72C1F7",circle_progress_track_color:"#333333",crop_slider_tracker:"#1F272D",status_tag_bg:"#313336",progress_track:"linear-gradient( 270deg, #22A5FF 0%, #7CFFD0 100%)",skeleton_light:"linear-gradient( 270deg, #606060 0%, #313131 100%)",pending_yield_bg:"#192128",position_status_bg:"rgba(118, 200, 255, 0.1)",position_farms_bg:"rgba(203, 150, 255, 0.2)",position_farms_color:"rgba(203, 150, 255, 1)",modal_bg:"rgba(32, 32, 32, 0.8)",primary_opacity:{10:"rgba(117,200,255,0.1)",50:"rgba(117,200,255,0.5)",60:"rgba(117,200,255,0.6)"},primary_green_opacity:{10:"rgba(104,255,216,0.1)"},primary_yellow_opacity:{10:"rgba(255,202,104,0.1)"},primary_red_bg:"rgba(63, 35, 40,0.8)",primary_red_opacity:{10:"rgba(255,80,115,0.1)"},text_paragraph_opacity:{20:"rgba(144,156,164,0.2)"},text_highlight_opacity:{10:"rgba(114,193,247,0.1)",20:"rgba(114,193,247,0.2)",30:"rgba(114,193,247,0.3)"},block_color_opacity:{4:"rgba(0,0,0,0.04)",10:"rgba(0,0,0,0.1)",50:"rgba(0,0,0,0.5)",93:"rgba(0,0,0,0.93)",80:"rgba(0,0,0,0.8)"},white_color_opacity:{10:"rgba(255,255,255,0.1)",50:"rgba(255,255,255,0.5)",80:"rgba(255,255,255,0.8)"},frosted_glass:{1:"rgba(59,59,59,0.1)",5:"rgba(218,218,218,0.05)"},swap_bg_primary:"#1B242C",swap_bg_secondary:"#161A1E",swap_card_bg:"#161A1E",swap_card_bg_2:"rgba(114, 193, 247, 0.05)",swap_input_bg:"rgba(15,15,15,0.4)",swap_border:"rgba(114, 193, 247, 0.2)",text_haedal:"#C4A992",position_bg:"#192127"},styles={global:{"@font-face":{fontFamily:"Inter",fontWeight:"normal",fontStyle:"normal",fontDisplay:"swap"},"html body":{width:"100%",background:"background",fontFamily:"Inter"},body:{lineHeight:1},label:{fontFamily:"Inter"},button:{fontFamily:"Inter",_focusVisible:{boxShadow:"none",outline:"none"}},input:{fontFamily:"Inter",caretColor:"var(--chakra-colors-text_caption) !important"},".recharts-cartesian-axis-line":{display:"none"},".recharts-sector:focus":{outline:"none !important"},".recharts-cartesian-axis-ticks":{marginTop:"4px"},".chakra-input__right-element":{height:"100% !important"},".chakra-toast__inner":{button:{color:"text_paragraph",_hover:{color:"text_caption"}}},".exchange":{w:"40px",h:"44px",cursor:"pointer",bgSize:"100% auto",bgRepeat:"no-repeat",bgPosition:"center center",mt:"-20px",mb:"-2px",zIndex:9},".swap-exchange":{bgImage:'url("/images/btn_swap@2x.png")',_hover:{bgImage:'url("/images/btn_swap_hov@2x.png")'}},".liquidity-add":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add_hov@2x.png")'}},".position-img":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add@2x.png")'}},".confirm-order-img":{w:"30px",h:"33px",bgImage:'url("/images/btn_down@2x.png")',_hover:{bgImage:'url("/images/btn_down@2x.png")'}},".aprTooltip_btn":{display:"flex",alignItems:"center"},".delimiter":{fontFamily:"Inter",fontWeight:"normal"},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},".loading_animation":{animation:"rotate 1s linear infinite"},".price-historical-selection":{display:"none !important"},".price-historical-y-axis text":{display:"none"},".price-historical-y-axis line":{display:"none"},".price-historical-y-axis path":{display:"none"},".price-historical-x-axis line":{display:"none"},".price-historical-x-axis path":{display:"none"}}},config$1={initialColorMode:"dark",useSystemColorMode:!1},textStyles={caption:{fontWeight:400,lineHeight:"100%",color:"text_caption",fontFamily:"Inter"},paragraph:{fontWeight:400,lineHeight:"100%",color:"text_paragraph",fontFamily:"Inter"}},breakpoints={base:"0px",md:"500px",lg:"810px",xl:"1200px","2xl":"2500px"},theme=extendTheme({config:config$1,styles,textStyles,breakpoints,...foundations,components,semanticTokens:{colors},shadows:{trade_icon_shadow:"inset 0px 0px 6px 0px rgba(255,255,255,0.2)",aggregator_shadow:"inset 0px 0px 10px 0px rgba(0,152,255,0.2)"}});function TokenAvatar({coin_type:t,size:e="38px",src:i,variant:n,style:s={}}){return jsxRuntimeExports.jsx(Box,{w:e,h:e,minW:e,minH:e,maxW:e,maxH:e,borderRadius:"50%",children:jsxRuntimeExports.jsx(SingleCoinImage,{variant:n,imageUrl:i,w:e,h:e,borderRadius:"50%",coinType:t,p:"4px",imgBoxStyle:s})})}const TokenSelectModal$1=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0));function CoinSelect$1({value:t,onSelect:e,loading:i,currentCoinKey:n,whiteTokenList:s,tokenStyle:a={},tokenSize:l="38px",symbolStyle:A={},wrapStyle:T={},isShowLabelTab:q=!0,isShowCollectListBox:et=!0,isShowTokenListTab:xi=!0,disabled:Oi=!1,openSelectTokenModal:Ts,selectModalCallback:Fs}){const{isOpen:qs,onOpen:Us,onClose:Ls}=useDisclosure(),[Gs,zs]=reactExports.useState(!1),{pathname:Vs}=useLocation();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button$1,{w:"100%",variant:"unstyled",display:"flex",alignItems:"center",gap:"8px",onClick:()=>{Ts?Ts():Us(),Fs&&Fs(!0)},cursor:"pointer",onMouseEnter:()=>zs(!0),onMouseLeave:()=>zs(!1),isDisabled:Oi,...T,children:[i?jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SkeletonCircle,{w:l,h:l}),jsxRuntimeExports.jsx(Skeleton,{h:A.fontSize||"16px"})]}):t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TokenAvatar,{variant:"border",src:(t==null?void 0:t.logo_url)||"",coin_type:t==null?void 0:t.coin_type,size:l,style:Gs?{...a,borderColor:"token_active_border",boxShadow:"0px 0px 6px 0px #0067AD"}:a}),jsxRuntimeExports.jsx(Text$1,{color:"text_caption",fontSize:"16px",fontWeight:"600",...A,children:textEllipses((t==null?void 0:t.symbol)||"",10)})]}):jsxRuntimeExports.jsx(Text$1,{color:"text_caption",fontSize:"14px",fontWeight:"600",children:"Select a token"}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",svgFill:Gs?"text_caption":"text_paragraph"})]}),jsxRuntimeExports.jsx(TokenSelectModal$1,{tokenInfo:t,lastSelectedToken:(t==null?void 0:t.coin_type)||"",isOpen:qs,currentCoinKey:n,whiteTokenList:s,isShowLabelTab:q,isShowTokenListTab:xi&&Vs!=="/dca",isShowCollectListBox:et&&Vs!=="/dca",onSelectToken:Zs=>{e(Zs)},onClose:()=>{Ls(),Fs&&Fs(!1)}})]})}const CoinSelect$2=reactExports.memo(CoinSelect$1),CoinSelect$3=Object.freeze(Object.defineProperty({__proto__:null,default:CoinSelect$2},Symbol.toStringTag,{value:"Module"})),uploadFilePath="/api/v1/upload";function useFileUpload(){const[t,e]=reactExports.useState(!1);return{doUploadFile:async n=>{const s=new FormData;s.append("file",n);try{e(!0);const a=`${envConfigs$1.pump_api.api_primary_domain}${uploadFilePath}`,l=await fetch(a,{method:"POST",body:s});if(!l.ok){const{error:T}=await l.json();throw T?new Error(T):new Error("Upload failed")}const A=await l.json();return console.log(" ~ file: useFileUpload.tsx:26 ~ doUploadFile ~ result:",A),A}catch(a){throw console.log(" ~ file: useFileUpload.tsx:29 ~ doUploadFile ~ error:",a.message),new Error(a.message)}finally{e(!1)}},uploadLoading:t}}const store$9=(t,e)=>({currentCrypto:"",setCurrentCrypto:i=>{t(()=>({currentCrypto:i}))},isShowAlchemyCrypto:!1,setIsShowAlchemyCrypto:i=>{t(()=>({isShowAlchemyCrypto:i}))},isShowKodoCrypto:!1,setIsShowKodoCrypto:i=>{t(()=>({isShowKodoCrypto:i}))}}),useCryptoStore=create(store$9),store$8=(t,e)=>({notifiAlerts:[],setNotifiAlerts:i=>{t(()=>({notifiAlerts:i}))},notifiSourceGroups:[],setNotifiSourceGroups:i=>{t(()=>({notifiSourceGroups:i}))},notifiSources:[],setNotifiSources:i=>{t(()=>({notifiSources:i}))},isChecked:!1,setIsChecked:i=>{t(()=>({isChecked:i}))},isShowNotifi:!1,setIsShowNotifi:i=>{t(()=>({isShowNotifi:i}))},notifiSubscriptionLoading:!1,setNotifiSubscriptionLoading:i=>{t(()=>({notifiSubscriptionLoading:i}))},notifiLoginLoading:!1,setNotifiLoginLoading:i=>{t(()=>({notifiLoginLoading:i}))},notifiClient:{},setNotifiClient:i=>{t(()=>({notifiClient:i}))},notifiStatus:"",setNotifiStatus:i=>{t(()=>({notifiStatus:i}))},defaultTargetGroup:[],setDefaultTargetGroup:i=>{t(()=>({defaultTargetGroup:i}))},notifiAccountAddress:"",setNotifiAccountAddress:i=>{t(()=>({notifiAccountAddress:i}))},emailTarget:{},setEmailTarget:i=>{t(()=>({emailTarget:i}))},telegramTarget:{},setTelegramTarget:i=>{t(()=>({telegramTarget:i}))},smsTarget:{},setSmsTarget:i=>{t(()=>({smsTarget:i}))}}),useNotifiStore=create(store$8);VariousTokensTable.getItem(NOTIFI_SIGNATURE).then(t=>{});const useToastStore=create((t,e)=>({toastId:0,accumulateToastId:()=>{const i=e().toastId+1;return t(()=>({toastId:i})),i}})),store$7=(t,e)=>({isLoading:!1,ownerAddress:void 0,tokenBalanceObj:{},setTokenBalanceObj:(i,n)=>{const{tokenBalanceObj:s,ownerAddress:a}=e();t(n!==a?()=>({tokenBalanceObj:{...i},ownerAddress:n}):()=>({tokenBalanceObj:{...s,...i},ownerAddress:n}))},setIsLoading:i=>{t(()=>({isLoading:i}))},clearData:()=>{t(()=>({tokenBalanceObj:{},ownerAddress:void 0}))}}),useTokenBalanceStore=create(persist(store$7,{name:"useTokenBalanceStore",version:1})),store$6=(t,e)=>({coinPriceObj:{},setPriceObj:i=>{const n=e().coinPriceObj;t({coinPriceObj:{...n,...i}})},clearPriceObj:i=>{const n=e().coinPriceObj;i.forEach(s=>{delete n[ie$2(s).full_address]}),t({coinPriceObj:{...n}})}}),useTokenPriceStore=create(store$6),useTransactionStore=create((t,e)=>({manualCloseIdList:[],transactionModalVisible:!1,transactionData:void 0,setTransactionModalVisible:i=>{t(()=>({transactionModalVisible:i}))},setTransactionData:i=>{t(()=>({transactionData:i}))},setManualCloseId:i=>{t(n=>({manualCloseIdList:[...n.manualCloseIdList,i]}))}})),store$5=(t,e)=>({addressChangeVersion:0,accounts:[],currentAccount:void 0,isOpenWalletModal:!1,saveCurrentAccount:i=>{var a;const n=(a=e().currentAccount)==null?void 0:a.address,s=e().addressChangeVersion;n&&i&&n!==i.address?t({currentAccount:i,addressChangeVersion:s+1}):t({currentAccount:i})},saveAccounts:i=>{t({accounts:i})},onWalletModal:i=>{t({isOpenWalletModal:i})},accountServiceNameObj:{},setAccountServiceNameObj:i=>{const n=e().accountServiceNameObj;t({accountServiceNameObj:{...n,...i}})}}),useAccountStore=create(persist(store$5,{name:"useAccountStore",partialize:t=>{const{accountServiceNameObj:e}=t;return{accountServiceNameObj:e}},version:3}));var lib$2={},SuiPriceServiceConnection$1={},lib$1={},PriceServiceConnection$1={},lib={},PriceFeed={};Object.defineProperty(PriceFeed,"__esModule",{value:!0});PriceFeed.Convert=void 0;class Convert{static toPriceFeed(e){return cast(e,r$1("PriceFeed"))}static priceFeedToJson(e){return uncast(e,r$1("PriceFeed"))}static toPrice(e){return cast(e,r$1("Price"))}static priceToJson(e){return uncast(e,r$1("Price"))}static toPriceFeedMetadata(e){return cast(e,r$1("PriceFeedMetadata"))}static priceFeedMetadataToJson(e){return uncast(e,r$1("PriceFeedMetadata"))}}PriceFeed.Convert=Convert;function invalidValue(t,e,i=""){throw Error(i?`Invalid value for key "${i}". Expected type ${JSON.stringify(t)} but got ${JSON.stringify(e)}`:`Invalid value ${JSON.stringify(e)} for type ${JSON.stringify(t)}`)}function jsonToJSProps(t){if(t.jsonToJS===void 0){const e={};t.props.forEach(i=>e[i.json]={key:i.js,typ:i.typ}),t.jsonToJS=e}return t.jsonToJS}function jsToJSONProps(t){if(t.jsToJSON===void 0){const e={};t.props.forEach(i=>e[i.js]={key:i.json,typ:i.typ}),t.jsToJSON=e}return t.jsToJSON}function transform(t,e,i,n=""){function s(et,xi){return typeof et==typeof xi?xi:invalidValue(et,xi,n)}function a(et,xi){const Oi=et.length;for(let Ts=0;Ts<Oi;Ts++){const Fs=et[Ts];try{return transform(xi,Fs,i)}catch{}}return invalidValue(et,xi)}function l(et,xi){return et.indexOf(xi)!==-1?xi:invalidValue(et,xi)}function A(et,xi){return Array.isArray(xi)?xi.map(Oi=>transform(Oi,et,i)):invalidValue("array",xi)}function T(et){if(et===null)return null;const xi=new Date(et);return isNaN(xi.valueOf())?invalidValue("Date",et):xi}function q(et,xi,Oi){if(Oi===null||typeof Oi!="object"||Array.isArray(Oi))return invalidValue("object",Oi);const Ts={};return Object.getOwnPropertyNames(et).forEach(Fs=>{const qs=et[Fs],Us=Object.prototype.hasOwnProperty.call(Oi,Fs)?Oi[Fs]:void 0;Ts[qs.key]=transform(Us,qs.typ,i,qs.key)}),Object.getOwnPropertyNames(Oi).forEach(Fs=>{Object.prototype.hasOwnProperty.call(et,Fs)||(Ts[Fs]=transform(Oi[Fs],xi,i,Fs))}),Ts}if(e==="any")return t;if(e===null)return t===null?t:invalidValue(e,t);if(e===!1)return invalidValue(e,t);for(;typeof e=="object"&&e.ref!==void 0;)e=typeMap[e.ref];return Array.isArray(e)?l(e,t):typeof e=="object"?e.hasOwnProperty("unionMembers")?a(e.unionMembers,t):e.hasOwnProperty("arrayItems")?A(e.arrayItems,t):e.hasOwnProperty("props")?q(i(e),e.additional,t):invalidValue(e,t):e===Date&&typeof t!="number"?T(t):s(e,t)}function cast(t,e){return transform(t,e,jsonToJSProps)}function uncast(t,e){return transform(t,e,jsToJSONProps)}function u$1(...t){return{unionMembers:t}}function o(t,e){return{props:t,additional:e}}function r$1(t){return{ref:t}}const typeMap={PriceFeed:o([{json:"ema_price",js:"ema_price",typ:r$1("Price")},{json:"id",js:"id",typ:""},{json:"metadata",js:"metadata",typ:u$1(void 0,r$1("PriceFeedMetadata"))},{json:"price",js:"price",typ:r$1("Price")},{json:"vaa",js:"vaa",typ:u$1(void 0,"")}],"any"),Price:o([{json:"conf",js:"conf",typ:""},{json:"expo",js:"expo",typ:0},{json:"price",js:"price",typ:""},{json:"publish_time",js:"publish_time",typ:0}],"any"),PriceFeedMetadata:o([{json:"attestation_time",js:"attestation_time",typ:u$1(void 0,0)},{json:"emitter_chain",js:"emitter_chain",typ:0},{json:"prev_publish_time",js:"prev_publish_time",typ:u$1(void 0,0)},{json:"price_service_receive_time",js:"price_service_receive_time",typ:u$1(void 0,0)},{json:"sequence_number",js:"sequence_number",typ:u$1(void 0,0)},{json:"slot",js:"slot",typ:u$1(void 0,0)}],"any")};var AccumulatorUpdateData={},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(AccumulatorUpdateData,"__esModule",{value:!0});AccumulatorUpdateData.parseAccumulatorUpdateData=AccumulatorUpdateData.sliceAccumulatorUpdateData=AccumulatorUpdateData.parseTwapMessage=AccumulatorUpdateData.parsePriceFeedMessage=AccumulatorUpdateData.isAccumulatorUpdateData=void 0;const bn_js_1=__importDefault$2(bnExports),ACCUMULATOR_MAGIC="504e4155",MAJOR_VERSION=1,MINOR_VERSION=0,KECCAK160_HASH_SIZE=20,PRICE_FEED_MESSAGE_VARIANT=0,TWAP_MESSAGE_VARIANT=1;function isAccumulatorUpdateData(t){return t.toString("hex").slice(0,8)===ACCUMULATOR_MAGIC&&t[4]===MAJOR_VERSION&&t[5]===MINOR_VERSION}AccumulatorUpdateData.isAccumulatorUpdateData=isAccumulatorUpdateData;function parsePriceFeedMessage(t){let e=0;if(t.readUInt8(e)!==PRICE_FEED_MESSAGE_VARIANT)throw new Error("Not a price feed message");e+=1;const n=t.subarray(e,e+32);e+=32;const s=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const a=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const l=t.readInt32BE(e);e+=4;const A=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const T=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const q=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const et=new bn_js_1.default(t.subarray(e,e+8),"be");return e+=8,{feedId:n,price:s,confidence:a,exponent:l,publishTime:A,prevPublishTime:T,emaPrice:q,emaConf:et}}AccumulatorUpdateData.parsePriceFeedMessage=parsePriceFeedMessage;function parseTwapMessage(t){let e=0;if(t.readUInt8(e)!==TWAP_MESSAGE_VARIANT)throw new Error("Not a twap message");e+=1;const n=t.subarray(e,e+32);e+=32;const s=new bn_js_1.default(t.subarray(e,e+16),"be");e+=16;const a=new bn_js_1.default(t.subarray(e,e+16),"be");e+=16;const l=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const A=t.readInt32BE(e);e+=4;const T=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const q=new bn_js_1.default(t.subarray(e,e+8),"be");e+=8;const et=new bn_js_1.default(t.subarray(e,e+8),"be");return e+=8,{feedId:n,cumulativePrice:s,cumulativeConf:a,numDownSlots:l,exponent:A,publishTime:T,prevPublishTime:q,publishSlot:et}}AccumulatorUpdateData.parseTwapMessage=parseTwapMessage;function sliceAccumulatorUpdateData(t,e,i){if(!isAccumulatorUpdateData(t))throw new Error("Invalid accumulator message");let n=6;const s=t.readUint8(n);n+=1+s,n+=1;const a=t.readUint16BE(n);n+=2,n+=a;const l=n,A=[],T=t.readUInt8(n);n+=1;for(let et=0;et<T;et++){const xi=n,Oi=t.readUint16BE(n);n+=2,n+=Oi;const Ts=t.readUInt8(n);n+=1,n+=KECCAK160_HASH_SIZE*Ts,A.push(t.subarray(xi,n))}if(n!==t.length)throw new Error("Didn't reach the end of the message");const q=A.slice(e,i);return Buffer$1.concat([t.subarray(0,l),Buffer$1.from([q.length]),...A.slice(e,i)])}AccumulatorUpdateData.sliceAccumulatorUpdateData=sliceAccumulatorUpdateData;function parseAccumulatorUpdateData(t){if(!isAccumulatorUpdateData(t))throw new Error("Invalid accumulator message");let e=6;const i=t.readUint8(e);e+=1+i,e+=1;const n=t.readUint16BE(e);e+=2;const s=t.subarray(e,e+n);e+=n;const a=t.readUInt8(e),l=[];e+=1;for(let A=0;A<a;A++){const T=t.readUint16BE(e);e+=2;const q=t.subarray(e,e+T);e+=T;const et=t.readUInt8(e);e+=1;const xi=[];for(let Oi=0;Oi<et;Oi++)xi.push(Array.from(t.subarray(e,e+KECCAK160_HASH_SIZE))),e+=KECCAK160_HASH_SIZE;l.push({message:q,proof:xi})}if(e!==t.length)throw new Error("Didn't reach the end of the message");return{vaa:s,updates:l}}AccumulatorUpdateData.parseAccumulatorUpdateData=parseAccumulatorUpdateData;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PriceFeed=t.PriceFeedMetadata=t.Price=t.parseTwapMessage=t.parsePriceFeedMessage=t.parseAccumulatorUpdateData=t.sliceAccumulatorUpdateData=t.isAccumulatorUpdateData=void 0;const e=PriceFeed;var i=AccumulatorUpdateData;Object.defineProperty(t,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return i.isAccumulatorUpdateData}}),Object.defineProperty(t,"sliceAccumulatorUpdateData",{enumerable:!0,get:function(){return i.sliceAccumulatorUpdateData}}),Object.defineProperty(t,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return i.parseAccumulatorUpdateData}}),Object.defineProperty(t,"parsePriceFeedMessage",{enumerable:!0,get:function(){return i.parsePriceFeedMessage}}),Object.defineProperty(t,"parseTwapMessage",{enumerable:!0,get:function(){return i.parseTwapMessage}});class n{constructor(A){Ua(this,"conf");Ua(this,"expo");Ua(this,"price");Ua(this,"publishTime");this.conf=A.conf,this.expo=A.expo,this.price=A.price,this.publishTime=A.publishTime}getPriceAsNumberUnchecked(){return Number(this.price)*10**this.expo}getConfAsNumberUnchecked(){return Number(this.conf)*10**this.expo}static fromJson(A){const T=e.Convert.toPrice(A);return new n({conf:T.conf,expo:T.expo,price:T.price,publishTime:T.publish_time})}toJson(){const A={conf:this.conf,expo:this.expo,price:this.price,publish_time:this.publishTime};return e.Convert.priceToJson(A)}}t.Price=n;class s{constructor(A){Ua(this,"attestationTime");Ua(this,"emitterChain");Ua(this,"priceServiceReceiveTime");Ua(this,"sequenceNumber");Ua(this,"slot");Ua(this,"prevPublishTime");this.attestationTime=A.attestationTime,this.emitterChain=A.emitterChain,this.priceServiceReceiveTime=A.receiveTime,this.sequenceNumber=A.sequenceNumber,this.slot=A.slot,this.prevPublishTime=A.prevPublishTime}static fromJson(A){if(A===void 0)return;const T=e.Convert.toPriceFeedMetadata(A);return new s({attestationTime:T.attestation_time,emitterChain:T.emitter_chain,receiveTime:T.price_service_receive_time,sequenceNumber:T.sequence_number,slot:T.slot,prevPublishTime:T.prev_publish_time})}toJson(){const A={attestation_time:this.attestationTime,emitter_chain:this.emitterChain,price_service_receive_time:this.priceServiceReceiveTime,sequence_number:this.sequenceNumber,slot:this.slot,prev_publish_time:this.prevPublishTime};return e.Convert.priceFeedMetadataToJson(A)}}t.PriceFeedMetadata=s;let a=class _0{constructor(A){Ua(this,"emaPrice");Ua(this,"id");Ua(this,"metadata");Ua(this,"vaa");Ua(this,"price");this.emaPrice=A.emaPrice,this.id=A.id,this.metadata=A.metadata,this.vaa=A.vaa,this.price=A.price}static fromJson(A){const T=e.Convert.toPriceFeed(A);return new _0({emaPrice:n.fromJson(T.ema_price),id:T.id,metadata:s.fromJson(T.metadata),vaa:T.vaa,price:n.fromJson(T.price)})}toJson(){var T;const A={ema_price:this.emaPrice.toJson(),id:this.id,metadata:(T=this.metadata)==null?void 0:T.toJson(),price:this.price.toJson()};return e.Convert.priceFeedToJson(A)}getPriceUnchecked(){return this.price}getEmaPriceUnchecked(){return this.emaPrice}getPriceNoOlderThan(A){const T=this.getPriceUnchecked(),q=Math.floor(Date.now()/1e3);if(!(Math.abs(q-T.publishTime)>A))return T}getEmaPriceNoOlderThan(A){const T=this.getEmaPriceUnchecked(),q=Math.floor(Date.now()/1e3);if(!(Math.abs(q-T.publishTime)>A))return T}getMetadata(){return this.metadata}getVAA(){return this.vaa}};t.PriceFeed=a})(lib);function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>e=>{const i=toString.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in t)&&!(iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject(t)&&isFunction(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),isArray(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const a=i?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let A;for(n=0;n<l;n++)A=a[n],e.call(null,t[A],A,t)}}function findKey(t,e){e=e.toLowerCase();const i=Object.keys(t);let n=i.length,s;for(;n-- >0;)if(s=i[n],e===s.toLowerCase())return s;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},i=(n,s)=>{const a=t&&findKey(e,s)||s;isPlainObject(e[a])&&isPlainObject(n)?e[a]=merge(e[a],n):isPlainObject(n)?e[a]=merge({},n):isArray(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&forEach$1(arguments[n],i);return e}const extend=(t,e,i,{allOwnKeys:n}={})=>(forEach$1(e,(s,a)=>{i&&isFunction(s)?t[a]=bind(s,i):t[a]=s},{allOwnKeys:n}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,i,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},toFlatObject=(t,e,i,n)=>{let s,a,l;const A={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!n||n(l,t,e))&&!A[l]&&(e[l]=t[l],A[l]=!0);t=i!==!1&&getPrototypeOf(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const n=t.indexOf(e,i);return n!==-1&&n===i},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},isTypedArray$1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const n=(t&&t[iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},matchAll=(t,e)=>{let i;const n=[];for(;(i=t.exec(e))!==null;)n.push(i);return n},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,s){return n.toUpperCase()+s}),hasOwnProperty=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),n={};forEach$1(i,(s,a)=>{let l;(l=e(s,a,t))!==!1&&(n[a]=l||s)}),Object.defineProperties(t,n)},freezeMethods=t=>{reduceDescriptors(t,(e,i)=>{if(isFunction(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=t[i];if(isFunction(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet=(t,e)=>{const i={},n=s=>{s.forEach(a=>{i[a]=!0})};return isArray(t)?n(t):n(String(t).split(e)),i},noop=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const e=new Array(10),i=(n,s)=>{if(isObject(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=isArray(n)?[]:{};return forEach$1(n,(l,A)=>{const T=i(l,s+1);!isUndefined(T)&&(a[A]=T)}),e[s]=void 0,a}}return n};return i(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((i,n)=>(_global.addEventListener("message",({source:s,data:a})=>{s===_global&&a===i&&n.length&&n.shift()()},!1),s=>{n.push(s),_global.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process$1<"u"&&process$1.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction(t[iterator]);var utils$1$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$1,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(t,e,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}utils$1$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(t,e,i,n,s,a)=>{const l=Object.create(prototype$1);return utils$1$1.toFlatObject(t,l,function(T){return T!==Error.prototype},A=>A!=="isAxiosError"),AxiosError.call(l,t.message,e,i,n,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};var httpAdapter=null;function isVisitable(t){return utils$1$1.isPlainObject(t)||utils$1$1.isArray(t)}function removeBrackets(t){return utils$1$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,i){return t?t.concat(e).map(function(s,a){return s=removeBrackets(s),!i&&a?"["+s+"]":s}).join(i?".":""):e}function isFlatArray(t){return utils$1$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1$1.toFlatObject(utils$1$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,i){if(!utils$1$1.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=utils$1$1.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(qs,Us){return!utils$1$1.isUndefined(Us[qs])});const n=i.metaTokens,s=i.visitor||et,a=i.dots,l=i.indexes,T=(i.Blob||typeof Blob<"u"&&Blob)&&utils$1$1.isSpecCompliantForm(e);if(!utils$1$1.isFunction(s))throw new TypeError("visitor must be a function");function q(Fs){if(Fs===null)return"";if(utils$1$1.isDate(Fs))return Fs.toISOString();if(!T&&utils$1$1.isBlob(Fs))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1$1.isArrayBuffer(Fs)||utils$1$1.isTypedArray(Fs)?T&&typeof Blob=="function"?new Blob([Fs]):Buffer$1.from(Fs):Fs}function et(Fs,qs,Us){let Ls=Fs;if(Fs&&!Us&&typeof Fs=="object"){if(utils$1$1.endsWith(qs,"{}"))qs=n?qs:qs.slice(0,-2),Fs=JSON.stringify(Fs);else if(utils$1$1.isArray(Fs)&&isFlatArray(Fs)||(utils$1$1.isFileList(Fs)||utils$1$1.endsWith(qs,"[]"))&&(Ls=utils$1$1.toArray(Fs)))return qs=removeBrackets(qs),Ls.forEach(function(zs,Vs){!(utils$1$1.isUndefined(zs)||zs===null)&&e.append(l===!0?renderKey([qs],Vs,a):l===null?qs:qs+"[]",q(zs))}),!1}return isVisitable(Fs)?!0:(e.append(renderKey(Us,qs,a),q(Fs)),!1)}const xi=[],Oi=Object.assign(predicates,{defaultVisitor:et,convertValue:q,isVisitable});function Ts(Fs,qs){if(!utils$1$1.isUndefined(Fs)){if(xi.indexOf(Fs)!==-1)throw Error("Circular reference detected in "+qs.join("."));xi.push(Fs),utils$1$1.forEach(Fs,function(Ls,Gs){(!(utils$1$1.isUndefined(Ls)||Ls===null)&&s.call(e,Ls,utils$1$1.isString(Gs)?Gs.trim():Gs,qs,Oi))===!0&&Ts(Ls,qs?qs.concat(Gs):[Gs])}),xi.pop()}}if(!utils$1$1.isObject(t))throw new TypeError("data must be an object");return Ts(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,i){this._pairs.push([e,i])};prototype.toString=function(e){const i=e?function(n){return e.call(this,n,encode$1)}:encode$1;return this._pairs.map(function(s){return i(s[0])+"="+i(s[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,i){if(!e)return t;const n=i&&i.encode||encode;utils$1$1.isFunction(i)&&(i={serialize:i});const s=i&&i.serialize;let a;if(s?a=s(e,i):a=utils$1$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,i).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,i,n){return this.handlers.push({fulfilled:e,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1$1.forEach(this.handlers,function(n){n!==null&&e(n)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost";var utils$6=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv,navigator:_navigator,origin}),platform={...utils$6,...platform$1};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(i,n,s,a){return platform.isNode&&utils$1$1.isBuffer(i)?(this.append(n,i.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$1$1.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},i=Object.keys(t);let n;const s=i.length;let a;for(n=0;n<s;n++)a=i[n],e[a]=t[a];return e}function formDataToJSON(t){function e(i,n,s,a){let l=i[a++];if(l==="__proto__")return!0;const A=Number.isFinite(+l),T=a>=i.length;return l=!l&&utils$1$1.isArray(s)?s.length:l,T?(utils$1$1.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!A):((!s[l]||!utils$1$1.isObject(s[l]))&&(s[l]=[]),e(i,n,s[l],a)&&utils$1$1.isArray(s[l])&&(s[l]=arrayToObject(s[l])),!A)}if(utils$1$1.isFormData(t)&&utils$1$1.isFunction(t.entries)){const i={};return utils$1$1.forEachEntry(t,(n,s)=>{e(parsePropPath(n),s,i,0)}),i}return null}function stringifySafely(t,e,i){if(utils$1$1.isString(t))try{return(e||JSON.parse)(t),utils$1$1.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const n=i.getContentType()||"",s=n.indexOf("application/json")>-1,a=utils$1$1.isObject(e);if(a&&utils$1$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1$1.isFormData(e))return s?JSON.stringify(formDataToJSON(e)):e;if(utils$1$1.isArrayBuffer(e)||utils$1$1.isBuffer(e)||utils$1$1.isStream(e)||utils$1$1.isFile(e)||utils$1$1.isBlob(e)||utils$1$1.isReadableStream(e))return e;if(utils$1$1.isArrayBufferView(e))return e.buffer;if(utils$1$1.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let A;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((A=utils$1$1.isFileList(e))||n.indexOf("multipart/form-data")>-1){const T=this.env&&this.env.FormData;return toFormData(A?{"files[]":e}:e,T&&new T,this.formSerializer)}}return a||s?(i.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const i=this.transitional||defaults.transitional,n=i&&i.forcedJSONParsing,s=this.responseType==="json";if(utils$1$1.isResponse(e)||utils$1$1.isReadableStream(e))return e;if(e&&utils$1$1.isString(e)&&(n&&!this.responseType||s)){const l=!(i&&i.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(A){if(l)throw A.name==="SyntaxError"?AxiosError.from(A,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):A}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});var defaults$1=defaults;const ignoreDuplicateOf=utils$1$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=t=>{const e={};let i,n,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),i=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!i||e[i]&&ignoreDuplicateOf[i])&&(i==="set-cookie"?e[i]?e[i].push(n):e[i]=[n]:e[i]=e[i]?e[i]+", "+n:n)}),e};const $internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(t);)e[n[1]]=n[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,i,n,s){if(utils$1$1.isFunction(n))return n.call(this,e,i);if(s&&(e=i),!!utils$1$1.isString(e)){if(utils$1$1.isString(n))return e.indexOf(n)!==-1;if(utils$1$1.isRegExp(n))return n.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,n)=>i.toUpperCase()+n)}function buildAccessors(t,e){const i=utils$1$1.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+i,{value:function(s,a,l){return this[n].call(this,e,s,a,l)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,i,n){const s=this;function a(A,T,q){const et=normalizeHeader(T);if(!et)throw new Error("header name must be a non-empty string");const xi=utils$1$1.findKey(s,et);(!xi||s[xi]===void 0||q===!0||q===void 0&&s[xi]!==!1)&&(s[xi||T]=normalizeValue(A))}const l=(A,T)=>utils$1$1.forEach(A,(q,et)=>a(q,et,T));if(utils$1$1.isPlainObject(e)||e instanceof this.constructor)l(e,i);else if(utils$1$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))l(parseHeaders(e),i);else if(utils$1$1.isObject(e)&&utils$1$1.isIterable(e)){let A={},T,q;for(const et of e){if(!utils$1$1.isArray(et))throw TypeError("Object iterator must return a key-value pair");A[q=et[0]]=(T=A[q])?utils$1$1.isArray(T)?[...T,et[1]]:[T,et[1]]:et[1]}l(A,i)}else e!=null&&a(i,e,n);return this}get(e,i){if(e=normalizeHeader(e),e){const n=utils$1$1.findKey(this,e);if(n){const s=this[n];if(!i)return s;if(i===!0)return parseTokens(s);if(utils$1$1.isFunction(i))return i.call(this,s,n);if(utils$1$1.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=normalizeHeader(e),e){const n=utils$1$1.findKey(this,e);return!!(n&&this[n]!==void 0&&(!i||matchHeaderValue(this,this[n],n,i)))}return!1}delete(e,i){const n=this;let s=!1;function a(l){if(l=normalizeHeader(l),l){const A=utils$1$1.findKey(n,l);A&&(!i||matchHeaderValue(n,n[A],A,i))&&(delete n[A],s=!0)}}return utils$1$1.isArray(e)?e.forEach(a):a(e),s}clear(e){const i=Object.keys(this);let n=i.length,s=!1;for(;n--;){const a=i[n];(!e||matchHeaderValue(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const i=this,n={};return utils$1$1.forEach(this,(s,a)=>{const l=utils$1$1.findKey(n,a);if(l){i[l]=normalizeValue(s),delete i[a];return}const A=e?formatHeader(a):String(a).trim();A!==a&&delete i[a],i[A]=normalizeValue(s),n[A]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return utils$1$1.forEach(this,(n,s)=>{n!=null&&n!==!1&&(i[s]=e&&utils$1$1.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const n=new this(e);return i.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[$internals]=this[$internals]={accessors:{}}).accessors,s=this.prototype;function a(l){const A=normalizeHeader(l);n[A]||(buildAccessors(s,l),n[A]=!0)}return utils$1$1.isArray(e)?e.forEach(a):a(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1$1.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[i]=n}}});utils$1$1.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(t,e){const i=this||defaults$1,n=e||i,s=AxiosHeaders$1.from(n.headers);let a=n.data;return utils$1$1.forEach(t,function(A){a=A.call(i,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,i){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,i),this.name="CanceledError"}utils$1$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(t,e,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?t(i):e(new AxiosError("Request failed with status code "+i.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const i=new Array(t),n=new Array(t);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(T){const q=Date.now(),et=n[a];l||(l=q),i[s]=T,n[s]=q;let xi=a,Oi=0;for(;xi!==s;)Oi+=i[xi++],xi=xi%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),q-l<e)return;const Ts=et&&q-et;return Ts?Math.round(Oi*1e3/Ts):void 0}}function throttle(t,e){let i=0,n=1e3/e,s,a;const l=(q,et=Date.now())=>{i=et,s=null,a&&(clearTimeout(a),a=null),t.apply(null,q)};return[(...q)=>{const et=Date.now(),xi=et-i;xi>=n?l(q,et):(s=q,a||(a=setTimeout(()=>{a=null,l(s)},n-xi)))},()=>s&&l(s)]}const progressEventReducer=(t,e,i=3)=>{let n=0;const s=speedometer(50,250);return throttle(a=>{const l=a.loaded,A=a.lengthComputable?a.total:void 0,T=l-n,q=s(T),et=l<=A;n=l;const xi={loaded:l,total:A,progress:A?l/A:void 0,bytes:T,rate:q||void 0,estimated:q&&A&&et?(A-l)/q:void 0,event:a,lengthComputable:A!=null,[e?"download":"upload"]:!0};t(xi)},i)},progressEventDecorator=(t,e)=>{const i=t!=null;return[n=>e[0]({lengthComputable:i,total:t,loaded:n}),e[1]]},asyncDecorator=t=>(...e)=>utils$1$1.asap(()=>t(...e));var isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>i=>(i=new URL(i,platform.origin),t.protocol===i.protocol&&t.host===i.host&&(e||t.port===i.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,i,n,s,a){const l=[t+"="+encodeURIComponent(e)];utils$1$1.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),utils$1$1.isString(n)&&l.push("path="+n),utils$1$1.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,i){let n=!isAbsoluteURL(e);return t&&(n||i==!1)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig(t,e){e=e||{};const i={};function n(q,et,xi,Oi){return utils$1$1.isPlainObject(q)&&utils$1$1.isPlainObject(et)?utils$1$1.merge.call({caseless:Oi},q,et):utils$1$1.isPlainObject(et)?utils$1$1.merge({},et):utils$1$1.isArray(et)?et.slice():et}function s(q,et,xi,Oi){if(utils$1$1.isUndefined(et)){if(!utils$1$1.isUndefined(q))return n(void 0,q,xi,Oi)}else return n(q,et,xi,Oi)}function a(q,et){if(!utils$1$1.isUndefined(et))return n(void 0,et)}function l(q,et){if(utils$1$1.isUndefined(et)){if(!utils$1$1.isUndefined(q))return n(void 0,q)}else return n(void 0,et)}function A(q,et,xi){if(xi in e)return n(q,et);if(xi in t)return n(void 0,q)}const T={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:A,headers:(q,et,xi)=>s(headersToObject(q),headersToObject(et),xi,!0)};return utils$1$1.forEach(Object.keys(Object.assign({},t,e)),function(et){const xi=T[et]||s,Oi=xi(t[et],e[et],et);utils$1$1.isUndefined(Oi)&&xi!==A||(i[et]=Oi)}),i}var resolveConfig=t=>{const e=mergeConfig({},t);let{data:i,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:A}=e;e.headers=l=AxiosHeaders$1.from(l),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),A&&l.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):"")));let T;if(utils$1$1.isFormData(i)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((T=l.getContentType())!==!1){const[q,...et]=T?T.split(";").map(xi=>xi.trim()).filter(Boolean):[];l.setContentType([q||"multipart/form-data",...et].join("; "))}}if(platform.hasStandardBrowserEnv&&(n&&utils$1$1.isFunction(n)&&(n=n(e)),n||n!==!1&&isURLSameOrigin(e.url))){const q=s&&a&&cookies.read(a);q&&l.set(s,q)}return e};const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(i,n){const s=resolveConfig(t);let a=s.data;const l=AxiosHeaders$1.from(s.headers).normalize();let{responseType:A,onUploadProgress:T,onDownloadProgress:q}=s,et,xi,Oi,Ts,Fs;function qs(){Ts&&Ts(),Fs&&Fs(),s.cancelToken&&s.cancelToken.unsubscribe(et),s.signal&&s.signal.removeEventListener("abort",et)}let Us=new XMLHttpRequest;Us.open(s.method.toUpperCase(),s.url,!0),Us.timeout=s.timeout;function Ls(){if(!Us)return;const zs=AxiosHeaders$1.from("getAllResponseHeaders"in Us&&Us.getAllResponseHeaders()),Zs={data:!A||A==="text"||A==="json"?Us.responseText:Us.response,status:Us.status,statusText:Us.statusText,headers:zs,config:t,request:Us};settle(function(xo){i(xo),qs()},function(xo){n(xo),qs()},Zs),Us=null}"onloadend"in Us?Us.onloadend=Ls:Us.onreadystatechange=function(){!Us||Us.readyState!==4||Us.status===0&&!(Us.responseURL&&Us.responseURL.indexOf("file:")===0)||setTimeout(Ls)},Us.onabort=function(){Us&&(n(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,Us)),Us=null)},Us.onerror=function(){n(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,Us)),Us=null},Us.ontimeout=function(){let Vs=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Zs=s.transitional||transitionalDefaults;s.timeoutErrorMessage&&(Vs=s.timeoutErrorMessage),n(new AxiosError(Vs,Zs.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,Us)),Us=null},a===void 0&&l.setContentType(null),"setRequestHeader"in Us&&utils$1$1.forEach(l.toJSON(),function(Vs,Zs){Us.setRequestHeader(Zs,Vs)}),utils$1$1.isUndefined(s.withCredentials)||(Us.withCredentials=!!s.withCredentials),A&&A!=="json"&&(Us.responseType=s.responseType),q&&([Oi,Fs]=progressEventReducer(q,!0),Us.addEventListener("progress",Oi)),T&&Us.upload&&([xi,Ts]=progressEventReducer(T),Us.upload.addEventListener("progress",xi),Us.upload.addEventListener("loadend",Ts)),(s.cancelToken||s.signal)&&(et=zs=>{Us&&(n(!zs||zs.type?new CanceledError(null,t,Us):zs),Us.abort(),Us=null)},s.cancelToken&&s.cancelToken.subscribe(et),s.signal&&(s.signal.aborted?et():s.signal.addEventListener("abort",et)));const Gs=parseProtocol(s.url);if(Gs&&platform.protocols.indexOf(Gs)===-1){n(new AxiosError("Unsupported protocol "+Gs+":",AxiosError.ERR_BAD_REQUEST,t));return}Us.send(a||null)})};const composeSignals=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let n=new AbortController,s;const a=function(q){if(!s){s=!0,A();const et=q instanceof Error?q:this.reason;n.abort(et instanceof AxiosError?et:new CanceledError(et instanceof Error?et.message:et))}};let l=e&&setTimeout(()=>{l=null,a(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const A=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(q=>{q.unsubscribe?q.unsubscribe(a):q.removeEventListener("abort",a)}),t=null)};t.forEach(q=>q.addEventListener("abort",a));const{signal:T}=n;return T.unsubscribe=()=>utils$1$1.asap(A),T}};var composeSignals$1=composeSignals;const streamChunk=function*(t,e){let i=t.byteLength;if(i<e){yield t;return}let n=0,s;for(;n<i;)s=n+e,yield t.slice(n,s),n=s},readBytes=async function*(t,e){for await(const i of readStream(t))yield*streamChunk(i,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:n}=await e.read();if(i)break;yield n}}finally{await e.cancel()}},trackStream=(t,e,i,n)=>{const s=readBytes(t,e);let a=0,l,A=T=>{l||(l=!0,n&&n(T))};return new ReadableStream({async pull(T){try{const{done:q,value:et}=await s.next();if(q){A(),T.close();return}let xi=et.byteLength;if(i){let Oi=a+=xi;i(Oi)}T.enqueue(new Uint8Array(et))}catch(q){throw A(q),q}},cancel(T){return A(T),s.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1$1.isFunction(t[e])?i=>i[e]():(i,n)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,n)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$1$1.isBlob(t))return t.size;if(utils$1$1.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$1$1.isArrayBufferView(t)||utils$1$1.isArrayBuffer(t))return t.byteLength;if(utils$1$1.isURLSearchParams(t)&&(t=t+""),utils$1$1.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const i=utils$1$1.toFiniteNumber(t.getContentLength());return i??getBodyLength(e)};var fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:i,data:n,signal:s,cancelToken:a,timeout:l,onDownloadProgress:A,onUploadProgress:T,responseType:q,headers:et,withCredentials:xi="same-origin",fetchOptions:Oi}=resolveConfig(t);q=q?(q+"").toLowerCase():"text";let Ts=composeSignals$1([s,a&&a.toAbortSignal()],l),Fs;const qs=Ts&&Ts.unsubscribe&&(()=>{Ts.unsubscribe()});let Us;try{if(T&&supportsRequestStream&&i!=="get"&&i!=="head"&&(Us=await resolveBodyLength(et,n))!==0){let Zs=new Request(e,{method:"POST",body:n,duplex:"half"}),Js;if(utils$1$1.isFormData(n)&&(Js=Zs.headers.get("content-type"))&&et.setContentType(Js),Zs.body){const[xo,Io]=progressEventDecorator(Us,progressEventReducer(asyncDecorator(T)));n=trackStream(Zs.body,DEFAULT_CHUNK_SIZE,xo,Io)}}utils$1$1.isString(xi)||(xi=xi?"include":"omit");const Ls="credentials"in Request.prototype;Fs=new Request(e,{...Oi,signal:Ts,method:i.toUpperCase(),headers:et.normalize().toJSON(),body:n,duplex:"half",credentials:Ls?xi:void 0});let Gs=await fetch(Fs);const zs=supportsResponseStream&&(q==="stream"||q==="response");if(supportsResponseStream&&(A||zs&&qs)){const Zs={};["status","statusText","headers"].forEach(Uo=>{Zs[Uo]=Gs[Uo]});const Js=utils$1$1.toFiniteNumber(Gs.headers.get("content-length")),[xo,Io]=A&&progressEventDecorator(Js,progressEventReducer(asyncDecorator(A),!0))||[];Gs=new Response(trackStream(Gs.body,DEFAULT_CHUNK_SIZE,xo,()=>{Io&&Io(),qs&&qs()}),Zs)}q=q||"text";let Vs=await resolvers[utils$1$1.findKey(resolvers,q)||"text"](Gs,t);return!zs&&qs&&qs(),await new Promise((Zs,Js)=>{settle(Zs,Js,{data:Vs,headers:AxiosHeaders$1.from(Gs.headers),status:Gs.status,statusText:Gs.statusText,config:t,request:Fs})})}catch(Ls){throw qs&&qs(),Ls&&Ls.name==="TypeError"&&/Load failed|fetch/i.test(Ls.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,Fs),{cause:Ls.cause||Ls}):AxiosError.from(Ls,Ls&&Ls.code,t,Fs)}});const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1$1.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1$1.isFunction(t)||t===null||t===!1;var adapters={getAdapter:t=>{t=utils$1$1.isArray(t)?t:[t];const{length:e}=t;let i,n;const s={};for(let a=0;a<e;a++){i=t[a];let l;if(n=i,!isResolvedHandle(i)&&(n=knownAdapters[(l=String(i)).toLowerCase()],n===void 0))throw new AxiosError(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+a]=n}if(!n){const a=Object.entries(s).map(([A,T])=>`adapter ${A} `+(T===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(renderReason).join(`
`):" "+renderReason(a[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$1.adapter)(t).then(function(n){return throwIfCancellationRequested(t),n.data=transformData.call(t,t.transformResponse,n),n.headers=AxiosHeaders$1.from(n.headers),n},function(n){return isCancel(n)||(throwIfCancellationRequested(t),n&&n.response&&(n.response.data=transformData.call(t,t.transformResponse,n.response),n.response.headers=AxiosHeaders$1.from(n.response.headers))),Promise.reject(n)})}const VERSION="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,i,n){function s(a,l){return"[Axios v"+VERSION+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,A)=>{if(e===!1)throw new AxiosError(s(l," has been removed"+(i?" in "+i:"")),AxiosError.ERR_DEPRECATED);return i&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(s(l," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(a,l,A):!0}};validators$1.spelling=function(e){return(i,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,i){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],l=e[a];if(l){const A=t[a],T=A===void 0||l(A,a,t);if(T!==!0)throw new AxiosError("option "+a+" must be "+T,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new AxiosError("Unknown option "+a,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(e,i){try{return await this._request(e,i)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=mergeConfig(this.defaults,i);const{transitional:n,paramsSerializer:s,headers:a}=i;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),s!=null&&(utils$1$1.isFunction(s)?i.paramsSerializer={serialize:s}:validator.assertOptions(s,{encode:validators.function,serialize:validators.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),validator.assertOptions(i,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let l=a&&utils$1$1.merge(a.common,a[i.method]);a&&utils$1$1.forEach(["delete","get","head","post","put","patch","common"],Fs=>{delete a[Fs]}),i.headers=AxiosHeaders$1.concat(l,a);const A=[];let T=!0;this.interceptors.request.forEach(function(qs){typeof qs.runWhen=="function"&&qs.runWhen(i)===!1||(T=T&&qs.synchronous,A.unshift(qs.fulfilled,qs.rejected))});const q=[];this.interceptors.response.forEach(function(qs){q.push(qs.fulfilled,qs.rejected)});let et,xi=0,Oi;if(!T){const Fs=[dispatchRequest.bind(this),void 0];for(Fs.unshift.apply(Fs,A),Fs.push.apply(Fs,q),Oi=Fs.length,et=Promise.resolve(i);xi<Oi;)et=et.then(Fs[xi++],Fs[xi++]);return et}Oi=A.length;let Ts=i;for(xi=0;xi<Oi;){const Fs=A[xi++],qs=A[xi++];try{Ts=Fs(Ts)}catch(Us){qs.call(this,Us);break}}try{et=dispatchRequest.call(this,Ts)}catch(Fs){return Promise.reject(Fs)}for(xi=0,Oi=q.length;xi<Oi;)et=et.then(q[xi++],q[xi++]);return et}getUri(e){e=mergeConfig(this.defaults,e);const i=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(i,e.params,e.paramsSerializer)}}utils$1$1.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(i,n){return this.request(mergeConfig(n||{},{method:e,url:i,data:(n||{}).data}))}});utils$1$1.forEach(["post","put","patch"],function(e){function i(n){return function(a,l,A){return this.request(mergeConfig(A||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Axios.prototype[e]=i(),Axios.prototype[e+"Form"]=i(!0)});var Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(a){i=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(A=>{n.subscribe(A),a=A}).then(s);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,A){n.reason||(n.reason=new CanceledError(a,l,A),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=n=>{e.abort(n)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new CancelToken(function(s){e=s}),cancel:e}}}var CancelToken$1=CancelToken;function spread(t){return function(i){return t.apply(null,i)}}function isAxiosError(t){return utils$1$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});var HttpStatusCode$1=HttpStatusCode;function createInstance(t){const e=new Axios$1(t),i=bind(Axios$1.prototype.request,e);return utils$1$1.extend(i,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1$1.extend(i,e,null,{allOwnKeys:!0}),i.create=function(s){return createInstance(mergeConfig(t,s))},i}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$1$1.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;var axios_1$1=axios,axiosRetry$2={exports:{}},cjs={},regeneratorRuntime$1={exports:{}},hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(t){var e=require_typeof().default;function i(){t.exports=i=function(){return s},t.exports.__esModule=!0,t.exports.default=t.exports;var n,s={},a=Object.prototype,l=a.hasOwnProperty,A=typeof Symbol=="function"?Symbol:{},T=A.iterator||"@@iterator",q=A.asyncIterator||"@@asyncIterator",et=A.toStringTag||"@@toStringTag";function xi(Ws,f,Y,nt){return Object.defineProperty(Ws,f,{value:Y,enumerable:!nt,configurable:!nt,writable:!nt})}try{xi({},"")}catch{xi=function(Y,nt,vs){return Y[nt]=vs}}function Oi(Ws,f,Y,nt){var vs=f&&f.prototype instanceof qs?f:qs,ks=Object.create(vs.prototype);return xi(ks,"_invoke",function(Ds,Bs,Ms){var Q=1;return function($s,Ks){if(Q===3)throw Error("Generator is already running");if(Q===4){if($s==="throw")throw Ks;return{value:n,done:!0}}for(Ms.method=$s,Ms.arg=Ks;;){var jo=Ms.delegate;if(jo){var Bo=Io(jo,Ms);if(Bo){if(Bo===Fs)continue;return Bo}}if(Ms.method==="next")Ms.sent=Ms._sent=Ms.arg;else if(Ms.method==="throw"){if(Q===1)throw Q=4,Ms.arg;Ms.dispatchException(Ms.arg)}else Ms.method==="return"&&Ms.abrupt("return",Ms.arg);Q=3;var To=Ts(Ds,Bs,Ms);if(To.type==="normal"){if(Q=Ms.done?4:2,To.arg===Fs)continue;return{value:To.arg,done:Ms.done}}To.type==="throw"&&(Q=4,Ms.method="throw",Ms.arg=To.arg)}}}(Ws,Y,new Ys(nt||[])),!0),ks}function Ts(Ws,f,Y){try{return{type:"normal",arg:Ws.call(f,Y)}}catch(nt){return{type:"throw",arg:nt}}}s.wrap=Oi;var Fs={};function qs(){}function Us(){}function Ls(){}var Gs={};xi(Gs,T,function(){return this});var zs=Object.getPrototypeOf,Vs=zs&&zs(zs(Hs([])));Vs&&Vs!==a&&l.call(Vs,T)&&(Gs=Vs);var Zs=Ls.prototype=qs.prototype=Object.create(Gs);function Js(Ws){["next","throw","return"].forEach(function(f){xi(Ws,f,function(Y){return this._invoke(f,Y)})})}function xo(Ws,f){function Y(vs,ks,Ds,Bs){var Ms=Ts(Ws[vs],Ws,ks);if(Ms.type!=="throw"){var Q=Ms.arg,$s=Q.value;return $s&&e($s)=="object"&&l.call($s,"__await")?f.resolve($s.__await).then(function(Ks){Y("next",Ks,Ds,Bs)},function(Ks){Y("throw",Ks,Ds,Bs)}):f.resolve($s).then(function(Ks){Q.value=Ks,Ds(Q)},function(Ks){return Y("throw",Ks,Ds,Bs)})}Bs(Ms.arg)}var nt;xi(this,"_invoke",function(vs,ks){function Ds(){return new f(function(Bs,Ms){Y(vs,ks,Bs,Ms)})}return nt=nt?nt.then(Ds,Ds):Ds()},!0)}function Io(Ws,f){var Y=f.method,nt=Ws.i[Y];if(nt===n)return f.delegate=null,Y==="throw"&&Ws.i.return&&(f.method="return",f.arg=n,Io(Ws,f),f.method==="throw")||Y!=="return"&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+Y+"' method")),Fs;var vs=Ts(nt,Ws.i,f.arg);if(vs.type==="throw")return f.method="throw",f.arg=vs.arg,f.delegate=null,Fs;var ks=vs.arg;return ks?ks.done?(f[Ws.r]=ks.value,f.next=Ws.n,f.method!=="return"&&(f.method="next",f.arg=n),f.delegate=null,Fs):ks:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,Fs)}function Uo(Ws){this.tryEntries.push(Ws)}function Fo(Ws){var f=Ws[4]||{};f.type="normal",f.arg=n,Ws[4]=f}function Ys(Ws){this.tryEntries=[[-1]],Ws.forEach(Uo,this),this.reset(!0)}function Hs(Ws){if(Ws!=null){var f=Ws[T];if(f)return f.call(Ws);if(typeof Ws.next=="function")return Ws;if(!isNaN(Ws.length)){var Y=-1,nt=function vs(){for(;++Y<Ws.length;)if(l.call(Ws,Y))return vs.value=Ws[Y],vs.done=!1,vs;return vs.value=n,vs.done=!0,vs};return nt.next=nt}}throw new TypeError(e(Ws)+" is not iterable")}return Us.prototype=Ls,xi(Zs,"constructor",Ls),xi(Ls,"constructor",Us),Us.displayName=xi(Ls,et,"GeneratorFunction"),s.isGeneratorFunction=function(Ws){var f=typeof Ws=="function"&&Ws.constructor;return!!f&&(f===Us||(f.displayName||f.name)==="GeneratorFunction")},s.mark=function(Ws){return Object.setPrototypeOf?Object.setPrototypeOf(Ws,Ls):(Ws.__proto__=Ls,xi(Ws,et,"GeneratorFunction")),Ws.prototype=Object.create(Zs),Ws},s.awrap=function(Ws){return{__await:Ws}},Js(xo.prototype),xi(xo.prototype,q,function(){return this}),s.AsyncIterator=xo,s.async=function(Ws,f,Y,nt,vs){vs===void 0&&(vs=Promise);var ks=new xo(Oi(Ws,f,Y,nt),vs);return s.isGeneratorFunction(f)?ks:ks.next().then(function(Ds){return Ds.done?Ds.value:ks.next()})},Js(Zs),xi(Zs,et,"Generator"),xi(Zs,T,function(){return this}),xi(Zs,"toString",function(){return"[object Generator]"}),s.keys=function(Ws){var f=Object(Ws),Y=[];for(var nt in f)Y.unshift(nt);return function vs(){for(;Y.length;)if((nt=Y.pop())in f)return vs.value=nt,vs.done=!1,vs;return vs.done=!0,vs}},s.values=Hs,Ys.prototype={constructor:Ys,reset:function(f){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Fo),!f)for(var Y in this)Y.charAt(0)==="t"&&l.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=n)},stop:function(){this.done=!0;var f=this.tryEntries[0][4];if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var Y=this;function nt($s){Ds.type="throw",Ds.arg=f,Y.next=$s}for(var vs=Y.tryEntries.length-1;vs>=0;--vs){var ks=this.tryEntries[vs],Ds=ks[4],Bs=this.prev,Ms=ks[1],Q=ks[2];if(ks[0]===-1)return nt("end"),!1;if(!Ms&&!Q)throw Error("try statement without catch or finally");if(ks[0]!=null&&ks[0]<=Bs){if(Bs<Ms)return this.method="next",this.arg=n,nt(Ms),!0;if(Bs<Q)return nt(Q),!1}}},abrupt:function(f,Y){for(var nt=this.tryEntries.length-1;nt>=0;--nt){var vs=this.tryEntries[nt];if(vs[0]>-1&&vs[0]<=this.prev&&this.prev<vs[2]){var ks=vs;break}}ks&&(f==="break"||f==="continue")&&ks[0]<=Y&&Y<=ks[2]&&(ks=null);var Ds=ks?ks[4]:{};return Ds.type=f,Ds.arg=Y,ks?(this.method="next",this.next=ks[2],Fs):this.complete(Ds)},complete:function(f,Y){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&Y&&(this.next=Y),Fs},finish:function(f){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var nt=this.tryEntries[Y];if(nt[2]===f)return this.complete(nt[4],nt[3]),Fo(nt),Fs}},catch:function(f){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var nt=this.tryEntries[Y];if(nt[0]===f){var vs=nt[4];if(vs.type==="throw"){var ks=vs.arg;Fo(nt)}return ks}}throw Error("illegal catch attempt")},delegateYield:function(f,Y,nt){return this.delegate={i:Hs(f),r:Y,n:nt},this.method==="next"&&(this.arg=n),Fs}},s}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var t=requireRegeneratorRuntime()();regenerator=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return regenerator}var isRetryAllowed,hasRequiredIsRetryAllowed;function requireIsRetryAllowed(){if(hasRequiredIsRetryAllowed)return isRetryAllowed;hasRequiredIsRetryAllowed=1;const t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return isRetryAllowed=e=>!t.has(e&&e.code),isRetryAllowed}var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(cjs,"__esModule",{value:!0});cjs.isNetworkError=isNetworkError;cjs.isRetryableError=isRetryableError;cjs.isSafeRequestError=isSafeRequestError;cjs.isIdempotentRequestError=isIdempotentRequestError;cjs.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;cjs.exponentialDelay=exponentialDelay;cjs.default=axiosRetry$1;cjs.DEFAULT_OPTIONS=cjs.namespace=void 0;var _regenerator=_interopRequireDefault(requireRegenerator()),_typeof2=_interopRequireDefault(require_typeof()),_asyncToGenerator2=_interopRequireDefault(requireAsyncToGenerator()),_defineProperty2=_interopRequireDefault(requireDefineProperty()),_isRetryAllowed=_interopRequireDefault(requireIsRetryAllowed());function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(n){(0,_defineProperty2.default)(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var namespace="axios-retry";cjs.namespace=namespace;function isNetworkError(t){var e=["ERR_CANCELED","ECONNABORTED"];return!t.response&&!!t.code&&!e.includes(t.code)&&(0,_isRetryAllowed.default)(t)}var SAFE_HTTP_METHODS=["get","head","options"],IDEMPOTENT_HTTP_METHODS=SAFE_HTTP_METHODS.concat(["put","delete"]);function isRetryableError(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function isSafeRequestError(t){return t.config?isRetryableError(t)&&SAFE_HTTP_METHODS.indexOf(t.config.method)!==-1:!1}function isIdempotentRequestError(t){return t.config?isRetryableError(t)&&IDEMPOTENT_HTTP_METHODS.indexOf(t.config.method)!==-1:!1}function isNetworkOrIdempotentRequestError(t){return isNetworkError(t)||isIdempotentRequestError(t)}function noDelay(){return 0}function exponentialDelay(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,i=Math.pow(2,t)*e,n=i*.2*Math.random();return i+n}var DEFAULT_OPTIONS={retries:3,retryCondition:isNetworkOrIdempotentRequestError,retryDelay:noDelay,shouldResetTimeout:!1,onRetry:function(){}};cjs.DEFAULT_OPTIONS=DEFAULT_OPTIONS;function getRequestOptions(t,e){return _objectSpread(_objectSpread(_objectSpread({},DEFAULT_OPTIONS),e),t[namespace])}function getCurrentState(t,e){var i=getRequestOptions(t,e);return i.retryCount=i.retryCount||0,t[namespace]=i,i}function fixConfig(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function shouldRetry(t,e){return _shouldRetry.apply(this,arguments)}function _shouldRetry(){return _shouldRetry=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function t(e,i){var n,s,a,l;return _regenerator.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(n=e.retries,s=e.retryCondition,a=e.retryCount<n&&s(i),(0,_typeof2.default)(a)!=="object"){T.next=13;break}return T.prev=3,T.next=6,a;case 6:return l=T.sent,T.abrupt("return",l!==!1);case 10:return T.prev=10,T.t0=T.catch(3),T.abrupt("return",!1);case 13:return T.abrupt("return",a);case 14:case"end":return T.stop()}},t,null,[[3,10]])})),_shouldRetry.apply(this,arguments)}function axiosRetry$1(t,e){var i=t.interceptors.request.use(function(s){var a=getCurrentState(s,e);return a.lastRequestTime=Date.now(),s}),n=t.interceptors.response.use(null,function(){var s=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function a(l){var A,T,q,et,xi,Oi,Ts,Fs;return _regenerator.default.wrap(function(Us){for(;;)switch(Us.prev=Us.next){case 0:if(A=l.config,A){Us.next=3;break}return Us.abrupt("return",Promise.reject(l));case 3:return T=getCurrentState(A,e),Us.next=6,shouldRetry(T,l);case 6:if(!Us.sent){Us.next=21;break}if(T.retryCount+=1,q=T.retryDelay,et=T.shouldResetTimeout,xi=T.onRetry,Oi=q(T.retryCount,l),fixConfig(t,A),!(!et&&A.timeout&&T.lastRequestTime)){Us.next=17;break}if(Ts=Date.now()-T.lastRequestTime,Fs=A.timeout-Ts-Oi,!(Fs<=0)){Us.next=16;break}return Us.abrupt("return",Promise.reject(l));case 16:A.timeout=Fs;case 17:return A.transformRequest=[function(Ls){return Ls}],Us.next=20,xi(T.retryCount,l,A);case 20:return Us.abrupt("return",new Promise(function(Ls){return setTimeout(function(){return Ls(t(A))},Oi)}));case 21:return Us.abrupt("return",Promise.reject(l));case 22:case"end":return Us.stop()}},a)}));return function(a){return s.apply(this,arguments)}}());return{requestInterceptorId:i,responseInterceptorId:n}}axiosRetry$1.isNetworkError=isNetworkError;axiosRetry$1.isSafeRequestError=isSafeRequestError;axiosRetry$1.isIdempotentRequestError=isIdempotentRequestError;axiosRetry$1.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;axiosRetry$1.exponentialDelay=exponentialDelay;axiosRetry$1.isRetryableError=isRetryableError;const axiosRetry=cjs.default;axiosRetry$2.exports=axiosRetry;axiosRetry$2.exports.default=axiosRetry;var axiosRetryExports=axiosRetry$2.exports,ResillientWebSocket={},ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof commonjsGlobal$1<"u"?ws=commonjsGlobal$1.WebSocket||commonjsGlobal$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);var browser$c=ws,__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ResillientWebSocket,"__esModule",{value:!0});ResillientWebSocket.ResilientWebSocket=void 0;const isomorphic_ws_1=__importDefault$1(browser$c),PING_TIMEOUT_DURATION=33e3;class ResilientWebSocket{constructor(e,i){Ua(this,"endpoint");Ua(this,"wsClient");Ua(this,"wsUserClosed");Ua(this,"wsFailedAttempts");Ua(this,"pingTimeout");Ua(this,"logger");Ua(this,"onError");Ua(this,"onMessage");Ua(this,"onReconnect");this.endpoint=e,this.logger=i,this.wsFailedAttempts=0,this.onError=n=>{var s;(s=this.logger)==null||s.error(n)},this.wsUserClosed=!0,this.onMessage=()=>{},this.onReconnect=()=>{}}async send(e){var i,n,s;(i=this.logger)==null||i.info(`Sending ${e}`),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0?(n=this.logger)==null||n.error("Couldn't connect to the websocket server. Error callback is called."):(s=this.wsClient)==null||s.send(e)}async startWebSocket(){var e;this.wsClient===void 0&&((e=this.logger)==null||e.info("Creating Web Socket client"),this.wsClient=new isomorphic_ws_1.default(this.endpoint),this.wsUserClosed=!1,this.wsClient.onopen=()=>{this.wsFailedAttempts=0,this.wsClient.on!==void 0&&this.heartbeat()},this.wsClient.onerror=i=>{this.onError(i.error)},this.wsClient.onmessage=i=>{this.onMessage(i.data)},this.wsClient.onclose=async()=>{var i,n;if(this.pingTimeout!==void 0&&clearInterval(this.pingTimeout),this.wsUserClosed===!1){this.wsFailedAttempts+=1,this.wsClient=void 0;const s=expoBackoff(this.wsFailedAttempts);(i=this.logger)==null||i.error(`Connection closed unexpectedly or because of timeout. Reconnecting after ${s}ms.`),await sleep(s),this.restartUnexpectedClosedWebsocket()}else(n=this.logger)==null||n.info("The connection has been closed successfully.")},this.wsClient.on!==void 0&&this.wsClient.on("ping",this.heartbeat.bind(this)))}heartbeat(){var e;(e=this.logger)==null||e.info("Heartbeat"),this.pingTimeout!==void 0&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var i,n;(i=this.logger)==null||i.warn("Connection timed out. Reconnecting..."),(n=this.wsClient)==null||n.terminate(),this.restartUnexpectedClosedWebsocket()},PING_TIMEOUT_DURATION)}async waitForMaybeReadyWebSocket(){let e=0;for(;this.wsClient!==void 0&&this.wsClient.readyState!==this.wsClient.OPEN;)if(e>5e3){this.wsClient.close();return}else e+=10,await sleep(10)}async restartUnexpectedClosedWebsocket(){var e;if(this.wsUserClosed!==!0){if(await this.startWebSocket(),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0){(e=this.logger)==null||e.error("Couldn't reconnect to websocket. Error callback is called.");return}this.onReconnect()}}closeWebSocket(){if(this.wsClient!==void 0){const e=this.wsClient;this.wsClient=void 0,e.close()}this.wsUserClosed=!0}}ResillientWebSocket.ResilientWebSocket=ResilientWebSocket;async function sleep(t){return new Promise(e=>setTimeout(e,t))}function expoBackoff(t){return 2**t*100}var utils$5={};Object.defineProperty(utils$5,"__esModule",{value:!0});utils$5.removeLeading0xIfExists=utils$5.makeWebsocketUrl=void 0;function makeWebsocketUrl(t){const e=new URL("ws",t),i=e.protocol==="https:";return e.protocol=i?"wss:":"ws:",e.toString()}utils$5.makeWebsocketUrl=makeWebsocketUrl;function removeLeading0xIfExists(t){return t.startsWith("0x")?t.substring(2):t}utils$5.removeLeading0xIfExists=removeLeading0xIfExists;var __importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PriceServiceConnection$1,"__esModule",{value:!0});PriceServiceConnection$1.PriceServiceConnection=void 0;const price_service_sdk_1=lib,axios_1=__importDefault(axios_1$1),axios_retry_1=__importDefault(axiosRetryExports),ResillientWebSocket_1=ResillientWebSocket,utils_1$1=utils$5;class PriceServiceConnection{constructor(e,i){Ua(this,"httpClient");Ua(this,"priceFeedCallbacks");Ua(this,"wsClient");Ua(this,"wsEndpoint");Ua(this,"logger");Ua(this,"priceFeedRequestConfig");Ua(this,"onWsError");var n,s,a;this.httpClient=axios_1.default.create({baseURL:e,timeout:(i==null?void 0:i.timeout)||5e3}),(0,axios_retry_1.default)(this.httpClient,{retries:(i==null?void 0:i.httpRetries)||3,retryDelay:axios_retry_1.default.exponentialDelay}),this.priceFeedRequestConfig={binary:(n=i==null?void 0:i.priceFeedRequestConfig)==null?void 0:n.binary,verbose:((s=i==null?void 0:i.priceFeedRequestConfig)==null?void 0:s.verbose)??(i==null?void 0:i.verbose),allowOutOfOrder:(a=i==null?void 0:i.priceFeedRequestConfig)==null?void 0:a.allowOutOfOrder},this.priceFeedCallbacks=new Map,this.logger=(i==null?void 0:i.logger)||{trace:()=>{},debug:()=>{},info:()=>{},warn:console.warn,error:console.error},this.onWsError=l=>{this.logger.error(l),typeof process$1<"u"&&typeof process$1.exit=="function"?(this.logger.error("Halting the process due to the websocket error"),process$1.exit(1)):this.logger.error("Cannot halt process. Please handle the websocket error.")},this.wsEndpoint=(0,utils_1$1.makeWebsocketUrl)(e)}async getLatestPriceFeeds(e){return e.length===0?[]:(await this.httpClient.get("/api/latest_price_feeds",{params:{ids:e,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}})).data.map(s=>price_service_sdk_1.PriceFeed.fromJson(s))}async getLatestVaas(e){return(await this.httpClient.get("/api/latest_vaas",{params:{ids:e}})).data}async getVaa(e,i){const n=await this.httpClient.get("/api/get_vaa",{params:{id:e,publish_time:i}});return[n.data.vaa,n.data.publishTime]}async getPriceFeed(e,i){const n=await this.httpClient.get("/api/get_price_feed",{params:{id:e,publish_time:i,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}});return price_service_sdk_1.PriceFeed.fromJson(n.data)}async getPriceFeedIds(){return(await this.httpClient.get("/api/price_feed_ids")).data}async subscribePriceFeedUpdates(e,i){var a;this.wsClient===void 0&&await this.startWebSocket(),e=e.map(l=>(0,utils_1$1.removeLeading0xIfExists)(l));const n=[];for(const l of e)this.priceFeedCallbacks.has(l)||(this.priceFeedCallbacks.set(l,new Set),n.push(l)),this.priceFeedCallbacks.get(l).add(i);const s={ids:n,type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};await((a=this.wsClient)==null?void 0:a.send(JSON.stringify(s)))}async unsubscribePriceFeedUpdates(e,i){var a;this.wsClient===void 0&&await this.startWebSocket(),e=e.map(l=>(0,utils_1$1.removeLeading0xIfExists)(l));const n=[];for(const l of e)if(this.priceFeedCallbacks.has(l)){let A=!1;i===void 0?(this.priceFeedCallbacks.delete(l),A=!0):(this.priceFeedCallbacks.get(l).delete(i),this.priceFeedCallbacks.get(l).size===0&&(this.priceFeedCallbacks.delete(l),A=!0)),A&&n.push(l)}const s={ids:n,type:"unsubscribe"};await((a=this.wsClient)==null?void 0:a.send(JSON.stringify(s))),this.priceFeedCallbacks.size===0&&this.closeWebSocket()}async startWebSocket(){if(this.wsEndpoint===void 0)throw new Error("Websocket endpoint is undefined.");this.wsClient=new ResillientWebSocket_1.ResilientWebSocket(this.wsEndpoint,this.logger),this.wsClient.onError=this.onWsError,this.wsClient.onReconnect=()=>{var e;if(this.priceFeedCallbacks.size>0){const i={ids:Array.from(this.priceFeedCallbacks.keys()),type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};this.logger.info("Resubscribing to existing price feeds."),(e=this.wsClient)==null||e.send(JSON.stringify(i))}},this.wsClient.onMessage=e=>{this.logger.info(`Received message ${e.toString()}`);let i;try{i=JSON.parse(e.toString())}catch(n){this.logger.error(`Error parsing message ${e.toString()} as JSON.`),this.logger.error(n),this.onWsError(n);return}if(i.type==="response")i.status==="error"&&(this.logger.error(`Error response from the websocket server ${i.error}.`),this.onWsError(new Error(i.error)));else if(i.type==="price_update"){let n;try{n=price_service_sdk_1.PriceFeed.fromJson(i.price_feed)}catch(s){this.logger.error(`Error parsing price feeds from message ${e.toString()}.`),this.logger.error(s),this.onWsError(s);return}if(this.priceFeedCallbacks.has(n.id))for(const s of this.priceFeedCallbacks.get(n.id))s(n)}else this.logger.warn(`Ignoring unsupported server response ${e.toString()}.`)},await this.wsClient.startWebSocket()}closeWebSocket(){var e;(e=this.wsClient)==null||e.closeWebSocket(),this.wsClient=void 0,this.priceFeedCallbacks.clear()}}PriceServiceConnection$1.PriceServiceConnection=PriceServiceConnection;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseAccumulatorUpdateData=t.isAccumulatorUpdateData=t.Price=t.PriceFeed=t.PriceFeedMetadata=t.PriceServiceConnection=void 0;var e=PriceServiceConnection$1;Object.defineProperty(t,"PriceServiceConnection",{enumerable:!0,get:function(){return e.PriceServiceConnection}});var i=lib;Object.defineProperty(t,"PriceFeedMetadata",{enumerable:!0,get:function(){return i.PriceFeedMetadata}}),Object.defineProperty(t,"PriceFeed",{enumerable:!0,get:function(){return i.PriceFeed}}),Object.defineProperty(t,"Price",{enumerable:!0,get:function(){return i.Price}}),Object.defineProperty(t,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return i.isAccumulatorUpdateData}}),Object.defineProperty(t,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return i.parseAccumulatorUpdateData}})})(lib$1);Object.defineProperty(SuiPriceServiceConnection$1,"__esModule",{value:!0});SuiPriceServiceConnection$1.SuiPriceServiceConnection=void 0;const price_service_client_1=lib$1,buffer_1$1=require$$1$3;class SuiPriceServiceConnection extends price_service_client_1.PriceServiceConnection{async getPriceFeedsUpdateData(e){return(await this.getLatestVaas(e)).map(n=>buffer_1$1.Buffer.from(n,"base64"))}}SuiPriceServiceConnection$1.SuiPriceServiceConnection=SuiPriceServiceConnection;var client={},__defProp$d=Object.defineProperty,__getOwnPropDesc$c=Object.getOwnPropertyDescriptor,__getOwnPropNames$c=Object.getOwnPropertyNames,__hasOwnProp$c=Object.prototype.hasOwnProperty,__export$b=(t,e)=>{for(var i in e)__defProp$d(t,i,{get:e[i],enumerable:!0})},__copyProps$c=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$c(e))!__hasOwnProp$c.call(t,s)&&s!==i&&__defProp$d(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$c(e,s))||n.enumerable});return t},__toCommonJS$b=t=>__copyProps$c(__defProp$d({},"__esModule",{value:!0}),t),format_exports={};__export$b(format_exports,{formatAddress:()=>formatAddress,formatDigest:()=>formatDigest});var format=__toCommonJS$b(format_exports);const ELLIPSIS="";function formatAddress(t){if(t.length<=6)return t;const e=t.startsWith("0x")?2:0;return`0x${t.slice(e,e+4)}${ELLIPSIS}${t.slice(-4)}`}function formatDigest(t){return`${t.slice(0,10)}${ELLIPSIS}`}const require$$2$1=getAugmentedNamespace(esm);var __defProp$c=Object.defineProperty,__getOwnPropDesc$b=Object.getOwnPropertyDescriptor,__getOwnPropNames$b=Object.getOwnPropertyNames,__hasOwnProp$b=Object.prototype.hasOwnProperty,__export$a=(t,e)=>{for(var i in e)__defProp$c(t,i,{get:e[i],enumerable:!0})},__copyProps$b=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$b(e))!__hasOwnProp$b.call(t,s)&&s!==i&&__defProp$c(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$b(e,s))||n.enumerable});return t},__toCommonJS$a=t=>__copyProps$b(__defProp$c({},"__esModule",{value:!0}),t),suins_exports={};__export$a(suins_exports,{isValidSuiNSName:()=>isValidSuiNSName,normalizeSuiNSName:()=>normalizeSuiNSName});var suins=__toCommonJS$a(suins_exports);const SUI_NS_NAME_REGEX=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH=235;function isValidSuiNSName(t){return t.length>MAX_SUI_NS_NAME_LENGTH?!1:t.includes("@")?SUI_NS_NAME_REGEX.test(t):SUI_NS_DOMAIN_REGEX.test(t)}function normalizeSuiNSName(t,e="at"){const i=t.toLowerCase();let n;if(i.includes("@")){if(!SUI_NS_NAME_REGEX.test(i))throw new Error(`Invalid SuiNS name ${t}`);const[s,a]=i.split("@");n=[...s?s.split("."):[],a]}else{if(!SUI_NS_DOMAIN_REGEX.test(i))throw new Error(`Invalid SuiNS name ${t}`);n=i.split(".").slice(0,-1)}return e==="dot"?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}var __defProp$b=Object.defineProperty,__getOwnPropDesc$a=Object.getOwnPropertyDescriptor,__getOwnPropNames$a=Object.getOwnPropertyNames,__hasOwnProp$a=Object.prototype.hasOwnProperty,__export$9=(t,e)=>{for(var i in e)__defProp$b(t,i,{get:e[i],enumerable:!0})},__copyProps$a=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$a(e))!__hasOwnProp$a.call(t,s)&&s!==i&&__defProp$b(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$a(e,s))||n.enumerable});return t},__toCommonJS$9=t=>__copyProps$a(__defProp$b({},"__esModule",{value:!0}),t),move_registry_exports={};__export$9(move_registry_exports,{isValidNamedPackage:()=>isValidNamedPackage,isValidNamedType:()=>isValidNamedType});var moveRegistry=__toCommonJS$9(move_registry_exports),import_suins$1=suins;const NAME_PATTERN=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX=/^\d+$/,MAX_APP_SIZE=64,NAME_SEPARATOR="/",isValidNamedPackage=t=>{const e=t.split(NAME_SEPARATOR);if(e.length<2||e.length>3)return!1;const[i,n,s]=e;return s!==void 0&&!VERSION_REGEX.test(s)||!(0,import_suins$1.isValidSuiNSName)(i)?!1:NAME_PATTERN.test(n)&&n.length<MAX_APP_SIZE},isValidNamedType=t=>{const e=t.split(/::|<|>|,/);for(const i of e)if(i.includes(NAME_SEPARATOR)&&!isValidNamedPackage(i))return!1;return!0};var __defProp$a=Object.defineProperty,__getOwnPropDesc$9=Object.getOwnPropertyDescriptor,__getOwnPropNames$9=Object.getOwnPropertyNames,__hasOwnProp$9=Object.prototype.hasOwnProperty,__export$8=(t,e)=>{for(var i in e)__defProp$a(t,i,{get:e[i],enumerable:!0})},__copyProps$9=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$9(e))!__hasOwnProp$9.call(t,s)&&s!==i&&__defProp$a(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$9(e,s))||n.enumerable});return t},__toCommonJS$8=t=>__copyProps$9(__defProp$a({},"__esModule",{value:!0}),t),sui_types_exports={};__export$8(sui_types_exports,{SUI_ADDRESS_LENGTH:()=>SUI_ADDRESS_LENGTH,isValidSuiAddress:()=>isValidSuiAddress,isValidSuiObjectId:()=>isValidSuiObjectId,isValidTransactionDigest:()=>isValidTransactionDigest,normalizeStructTag:()=>normalizeStructTag,normalizeSuiAddress:()=>normalizeSuiAddress,normalizeSuiObjectId:()=>normalizeSuiObjectId,parseStructTag:()=>parseStructTag});var suiTypes=__toCommonJS$8(sui_types_exports),import_bcs$7=require$$2$1,import_move_registry$1=moveRegistry;const TX_DIGEST_LENGTH=32;function isValidTransactionDigest(t){try{return(0,import_bcs$7.fromBase58)(t).length===TX_DIGEST_LENGTH}catch{return!1}}const SUI_ADDRESS_LENGTH=32;function isValidSuiAddress(t){return isHex$1(t)&&getHexByteLength(t)===SUI_ADDRESS_LENGTH}function isValidSuiObjectId(t){return isValidSuiAddress(t)}function parseTypeTag(t){return t.includes("::")?parseStructTag(t):t}function parseStructTag(t){const[e,i]=t.split("::"),n=(0,import_move_registry$1.isValidNamedPackage)(e),s=t.slice(e.length+i.length+4),a=s.includes("<")?s.slice(0,s.indexOf("<")):s,l=s.includes("<")?(0,import_bcs$7.splitGenericParameters)(s.slice(s.indexOf("<")+1,s.lastIndexOf(">"))).map(A=>parseTypeTag(A.trim())):[];return{address:n?e:normalizeSuiAddress(e),module:i,name:a,typeParams:l}}function normalizeStructTag(t){const{address:e,module:i,name:n,typeParams:s}=typeof t=="string"?parseStructTag(t):t,a=(s==null?void 0:s.length)>0?`<${s.map(l=>typeof l=="string"?l:normalizeStructTag(l)).join(",")}>`:"";return`${e}::${i}::${n}${a}`}function normalizeSuiAddress(t,e=!1){let i=t.toLowerCase();return!e&&i.startsWith("0x")&&(i=i.slice(2)),`0x${i.padStart(SUI_ADDRESS_LENGTH*2,"0")}`}function normalizeSuiObjectId(t,e=!1){return normalizeSuiAddress(t,e)}function isHex$1(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function getHexByteLength(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}var __defProp$9=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__getOwnPropNames$8=Object.getOwnPropertyNames,__hasOwnProp$8=Object.prototype.hasOwnProperty,__export$7=(t,e)=>{for(var i in e)__defProp$9(t,i,{get:e[i],enumerable:!0})},__copyProps$8=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$8(e))!__hasOwnProp$8.call(t,s)&&s!==i&&__defProp$9(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$8(e,s))||n.enumerable});return t},__toCommonJS$7=t=>__copyProps$8(__defProp$9({},"__esModule",{value:!0}),t),constants_exports={};__export$7(constants_exports,{MIST_PER_SUI:()=>MIST_PER_SUI,MOVE_STDLIB_ADDRESS:()=>MOVE_STDLIB_ADDRESS,SUI_CLOCK_OBJECT_ID:()=>SUI_CLOCK_OBJECT_ID,SUI_DECIMALS:()=>SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS:()=>SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS:()=>SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME:()=>SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID:()=>SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG:()=>SUI_TYPE_ARG});var constants$1=__toCommonJS$7(constants_exports),import_sui_types$3=suiTypes;const SUI_DECIMALS=9,MIST_PER_SUI=BigInt(1e9),MOVE_STDLIB_ADDRESS="0x1",SUI_FRAMEWORK_ADDRESS="0x2",SUI_SYSTEM_ADDRESS="0x3",SUI_CLOCK_OBJECT_ID=(0,import_sui_types$3.normalizeSuiObjectId)("0x6"),SUI_SYSTEM_MODULE_NAME="sui_system",SUI_TYPE_ARG=`${SUI_FRAMEWORK_ADDRESS}::sui::SUI`,SUI_SYSTEM_STATE_OBJECT_ID=(0,import_sui_types$3.normalizeSuiObjectId)("0x5"),require$$1$2=getAugmentedNamespace(blake2b$2);var __defProp$8=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__getOwnPropNames$7=Object.getOwnPropertyNames,__hasOwnProp$7=Object.prototype.hasOwnProperty,__export$6=(t,e)=>{for(var i in e)__defProp$8(t,i,{get:e[i],enumerable:!0})},__copyProps$7=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$7(e))!__hasOwnProp$7.call(t,s)&&s!==i&&__defProp$8(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$7(e,s))||n.enumerable});return t},__toCommonJS$6=t=>__copyProps$7(__defProp$8({},"__esModule",{value:!0}),t),type_tag_serializer_exports={};__export$6(type_tag_serializer_exports,{TypeTagSerializer:()=>TypeTagSerializer});var typeTagSerializer=__toCommonJS$6(type_tag_serializer_exports),import_bcs$6=require$$2$1,import_sui_types$2=suiTypes;const VECTOR_REGEX=/^vector<(.+)>$/,STRUCT_REGEX=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class TypeTagSerializer{static parseFromStr(e,i=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const n=e.match(VECTOR_REGEX);if(n)return{vector:TypeTagSerializer.parseFromStr(n[1],i)};const s=e.match(STRUCT_REGEX);if(s)return{struct:{address:i?(0,import_sui_types$2.normalizeSuiAddress)(s[1]):s[1],module:s[2],name:s[3],typeParams:s[5]===void 0?[]:TypeTagSerializer.parseStructTypeArgs(s[5],i)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,i=!1){return(0,import_bcs$6.splitGenericParameters)(e).map(n=>TypeTagSerializer.parseFromStr(n,i))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${TypeTagSerializer.tagToString(e.vector)}>`;if("struct"in e){const i=e.struct,n=i.typeParams.map(TypeTagSerializer.tagToString).join(", ");return`${i.address}::${i.module}::${i.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}}var __defProp$7=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$5=(t,e)=>{for(var i in e)__defProp$7(t,i,{get:e[i],enumerable:!0})},__copyProps$6=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$6(e))!__hasOwnProp$6.call(t,s)&&s!==i&&__defProp$7(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$6(e,s))||n.enumerable});return t},__toCommonJS$5=t=>__copyProps$6(__defProp$7({},"__esModule",{value:!0}),t),bcs_exports$1={};__export$5(bcs_exports$1,{Address:()=>Address,AppId:()=>AppId,Argument:()=>Argument,CallArg:()=>CallArg,Command:()=>Command,CompressedSignature:()=>CompressedSignature,GasData:()=>GasData,Intent:()=>Intent,IntentMessage:()=>IntentMessage,IntentScope:()=>IntentScope,IntentVersion:()=>IntentVersion,MultiSig:()=>MultiSig,MultiSigPkMap:()=>MultiSigPkMap,MultiSigPublicKey:()=>MultiSigPublicKey,ObjectArg:()=>ObjectArg,ObjectDigest:()=>ObjectDigest,Owner:()=>Owner,PasskeyAuthenticator:()=>PasskeyAuthenticator,ProgrammableMoveCall:()=>ProgrammableMoveCall,ProgrammableTransaction:()=>ProgrammableTransaction,PublicKey:()=>PublicKey,SenderSignedData:()=>SenderSignedData,SenderSignedTransaction:()=>SenderSignedTransaction,SharedObjectRef:()=>SharedObjectRef,StructTag:()=>StructTag,SuiObjectRef:()=>SuiObjectRef,TransactionData:()=>TransactionData,TransactionDataV1:()=>TransactionDataV1,TransactionExpiration:()=>TransactionExpiration,TransactionKind:()=>TransactionKind,TypeTag:()=>TypeTag,base64String:()=>base64String});var bcs$1=__toCommonJS$5(bcs_exports$1),import_bcs$5=require$$2$1,import_sui_types$1=suiTypes,import_type_tag_serializer$1=typeTagSerializer;function unsafe_u64(t){return import_bcs$5.bcs.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function optionEnum(t){return import_bcs$5.bcs.enum("Option",{None:null,Some:t})}const Address=import_bcs$5.bcs.bytes(import_sui_types$1.SUI_ADDRESS_LENGTH).transform({validate:t=>{const e=typeof t=="string"?t:(0,import_bcs$5.toHex)(t);if(!e||!(0,import_sui_types$1.isValidSuiAddress)((0,import_sui_types$1.normalizeSuiAddress)(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?(0,import_bcs$5.fromHex)((0,import_sui_types$1.normalizeSuiAddress)(t)):t,output:t=>(0,import_sui_types$1.normalizeSuiAddress)((0,import_bcs$5.toHex)(t))}),ObjectDigest=import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({name:"ObjectDigest",input:t=>(0,import_bcs$5.fromBase58)(t),output:t=>(0,import_bcs$5.toBase58)(new Uint8Array(t)),validate:t=>{if((0,import_bcs$5.fromBase58)(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef=import_bcs$5.bcs.struct("SuiObjectRef",{objectId:Address,version:import_bcs$5.bcs.u64(),digest:ObjectDigest}),SharedObjectRef=import_bcs$5.bcs.struct("SharedObjectRef",{objectId:Address,initialSharedVersion:import_bcs$5.bcs.u64(),mutable:import_bcs$5.bcs.bool()}),ObjectArg=import_bcs$5.bcs.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef,SharedObject:SharedObjectRef,Receiving:SuiObjectRef}),Owner=import_bcs$5.bcs.enum("Owner",{AddressOwner:Address,ObjectOwner:Address,Shared:import_bcs$5.bcs.struct("Shared",{initialSharedVersion:import_bcs$5.bcs.u64()}),Immutable:null,ConsensusV2:import_bcs$5.bcs.struct("ConsensusV2",{authenticator:import_bcs$5.bcs.enum("Authenticator",{SingleOwner:Address}),startVersion:import_bcs$5.bcs.u64()})}),CallArg=import_bcs$5.bcs.enum("CallArg",{Pure:import_bcs$5.bcs.struct("Pure",{bytes:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:t=>typeof t=="string"?(0,import_bcs$5.fromBase64)(t):t,output:t=>(0,import_bcs$5.toBase64)(new Uint8Array(t))})}),Object:ObjectArg}),InnerTypeTag=import_bcs$5.bcs.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:import_bcs$5.bcs.lazy(()=>InnerTypeTag),struct:import_bcs$5.bcs.lazy(()=>StructTag),u16:null,u32:null,u256:null}),TypeTag=InnerTypeTag.transform({input:t=>typeof t=="string"?import_type_tag_serializer$1.TypeTagSerializer.parseFromStr(t,!0):t,output:t=>import_type_tag_serializer$1.TypeTagSerializer.tagToString(t)}),Argument=import_bcs$5.bcs.enum("Argument",{GasCoin:null,Input:import_bcs$5.bcs.u16(),Result:import_bcs$5.bcs.u16(),NestedResult:import_bcs$5.bcs.tuple([import_bcs$5.bcs.u16(),import_bcs$5.bcs.u16()])}),ProgrammableMoveCall=import_bcs$5.bcs.struct("ProgrammableMoveCall",{package:Address,module:import_bcs$5.bcs.string(),function:import_bcs$5.bcs.string(),typeArguments:import_bcs$5.bcs.vector(TypeTag),arguments:import_bcs$5.bcs.vector(Argument)}),Command=import_bcs$5.bcs.enum("Command",{MoveCall:ProgrammableMoveCall,TransferObjects:import_bcs$5.bcs.struct("TransferObjects",{objects:import_bcs$5.bcs.vector(Argument),address:Argument}),SplitCoins:import_bcs$5.bcs.struct("SplitCoins",{coin:Argument,amounts:import_bcs$5.bcs.vector(Argument)}),MergeCoins:import_bcs$5.bcs.struct("MergeCoins",{destination:Argument,sources:import_bcs$5.bcs.vector(Argument)}),Publish:import_bcs$5.bcs.struct("Publish",{modules:import_bcs$5.bcs.vector(import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:t=>typeof t=="string"?(0,import_bcs$5.fromBase64)(t):t,output:t=>(0,import_bcs$5.toBase64)(new Uint8Array(t))})),dependencies:import_bcs$5.bcs.vector(Address)}),MakeMoveVec:import_bcs$5.bcs.struct("MakeMoveVec",{type:optionEnum(TypeTag).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:import_bcs$5.bcs.vector(Argument)}),Upgrade:import_bcs$5.bcs.struct("Upgrade",{modules:import_bcs$5.bcs.vector(import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:t=>typeof t=="string"?(0,import_bcs$5.fromBase64)(t):t,output:t=>(0,import_bcs$5.toBase64)(new Uint8Array(t))})),dependencies:import_bcs$5.bcs.vector(Address),package:Address,ticket:Argument})}),ProgrammableTransaction=import_bcs$5.bcs.struct("ProgrammableTransaction",{inputs:import_bcs$5.bcs.vector(CallArg),commands:import_bcs$5.bcs.vector(Command)}),TransactionKind=import_bcs$5.bcs.enum("TransactionKind",{ProgrammableTransaction,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration=import_bcs$5.bcs.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64()}),StructTag=import_bcs$5.bcs.struct("StructTag",{address:Address,module:import_bcs$5.bcs.string(),name:import_bcs$5.bcs.string(),typeParams:import_bcs$5.bcs.vector(InnerTypeTag)}),GasData=import_bcs$5.bcs.struct("GasData",{payment:import_bcs$5.bcs.vector(SuiObjectRef),owner:Address,price:import_bcs$5.bcs.u64(),budget:import_bcs$5.bcs.u64()}),TransactionDataV1=import_bcs$5.bcs.struct("TransactionDataV1",{kind:TransactionKind,sender:Address,gasData:GasData,expiration:TransactionExpiration}),TransactionData=import_bcs$5.bcs.enum("TransactionData",{V1:TransactionDataV1}),IntentScope=import_bcs$5.bcs.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion=import_bcs$5.bcs.enum("IntentVersion",{V0:null}),AppId=import_bcs$5.bcs.enum("AppId",{Sui:null}),Intent=import_bcs$5.bcs.struct("Intent",{scope:IntentScope,version:IntentVersion,appId:AppId});function IntentMessage(t){return import_bcs$5.bcs.struct(`IntentMessage<${t.name}>`,{intent:Intent,value:t})}const CompressedSignature=import_bcs$5.bcs.enum("CompressedSignature",{ED25519:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),Secp256k1:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),Secp256r1:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),ZkLogin:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())}),PublicKey=import_bcs$5.bcs.enum("PublicKey",{ED25519:import_bcs$5.bcs.fixedArray(32,import_bcs$5.bcs.u8()),Secp256k1:import_bcs$5.bcs.fixedArray(33,import_bcs$5.bcs.u8()),Secp256r1:import_bcs$5.bcs.fixedArray(33,import_bcs$5.bcs.u8()),ZkLogin:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())}),MultiSigPkMap=import_bcs$5.bcs.struct("MultiSigPkMap",{pubKey:PublicKey,weight:import_bcs$5.bcs.u8()}),MultiSigPublicKey=import_bcs$5.bcs.struct("MultiSigPublicKey",{pk_map:import_bcs$5.bcs.vector(MultiSigPkMap),threshold:import_bcs$5.bcs.u16()}),MultiSig=import_bcs$5.bcs.struct("MultiSig",{sigs:import_bcs$5.bcs.vector(CompressedSignature),bitmap:import_bcs$5.bcs.u16(),multisig_pk:MultiSigPublicKey}),base64String=import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:t=>typeof t=="string"?(0,import_bcs$5.fromBase64)(t):t,output:t=>(0,import_bcs$5.toBase64)(new Uint8Array(t))}),SenderSignedTransaction=import_bcs$5.bcs.struct("SenderSignedTransaction",{intentMessage:IntentMessage(TransactionData),txSignatures:import_bcs$5.bcs.vector(base64String)}),SenderSignedData=import_bcs$5.bcs.vector(SenderSignedTransaction,{name:"SenderSignedData"}),PasskeyAuthenticator=import_bcs$5.bcs.struct("PasskeyAuthenticator",{authenticatorData:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()),clientDataJson:import_bcs$5.bcs.string(),userSignature:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())});var __defProp$6=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$4=(t,e)=>{for(var i in e)__defProp$6(t,i,{get:e[i],enumerable:!0})},__copyProps$5=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$5(e))!__hasOwnProp$5.call(t,s)&&s!==i&&__defProp$6(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$5(e,s))||n.enumerable});return t},__toCommonJS$4=t=>__copyProps$5(__defProp$6({},"__esModule",{value:!0}),t),effects_exports={};__export$4(effects_exports,{TransactionEffects:()=>TransactionEffects});var effects=__toCommonJS$4(effects_exports),import_bcs$4=require$$2$1,import_bcs2$3=bcs$1;const PackageUpgradeError=import_bcs$4.bcs.enum("PackageUpgradeError",{UnableToFetchPackage:import_bcs$4.bcs.struct("UnableToFetchPackage",{packageId:import_bcs2$3.Address}),NotAPackage:import_bcs$4.bcs.struct("NotAPackage",{objectId:import_bcs2$3.Address}),IncompatibleUpgrade:null,DigestDoesNotMatch:import_bcs$4.bcs.struct("DigestDoesNotMatch",{digest:import_bcs$4.bcs.vector(import_bcs$4.bcs.u8())}),UnknownUpgradePolicy:import_bcs$4.bcs.struct("UnknownUpgradePolicy",{policy:import_bcs$4.bcs.u8()}),PackageIDDoesNotMatch:import_bcs$4.bcs.struct("PackageIDDoesNotMatch",{packageId:import_bcs2$3.Address,ticketId:import_bcs2$3.Address})}),ModuleId=import_bcs$4.bcs.struct("ModuleId",{address:import_bcs2$3.Address,name:import_bcs$4.bcs.string()}),MoveLocation=import_bcs$4.bcs.struct("MoveLocation",{module:ModuleId,function:import_bcs$4.bcs.u16(),instruction:import_bcs$4.bcs.u16(),functionName:import_bcs$4.bcs.option(import_bcs$4.bcs.string())}),CommandArgumentError=import_bcs$4.bcs.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:import_bcs$4.bcs.struct("IndexOutOfBounds",{idx:import_bcs$4.bcs.u16()}),SecondaryIndexOutOfBounds:import_bcs$4.bcs.struct("SecondaryIndexOutOfBounds",{resultIdx:import_bcs$4.bcs.u16(),secondaryIdx:import_bcs$4.bcs.u16()}),InvalidResultArity:import_bcs$4.bcs.struct("InvalidResultArity",{resultIdx:import_bcs$4.bcs.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError=import_bcs$4.bcs.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus=import_bcs$4.bcs.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:import_bcs$4.bcs.struct("MoveObjectTooBig",{objectSize:import_bcs$4.bcs.u64(),maxObjectSize:import_bcs$4.bcs.u64()}),MovePackageTooBig:import_bcs$4.bcs.struct("MovePackageTooBig",{objectSize:import_bcs$4.bcs.u64(),maxObjectSize:import_bcs$4.bcs.u64()}),CircularObjectOwnership:import_bcs$4.bcs.struct("CircularObjectOwnership",{object:import_bcs2$3.Address}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:import_bcs$4.bcs.option(MoveLocation),MoveAbort:import_bcs$4.bcs.tuple([MoveLocation,import_bcs$4.bcs.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:import_bcs$4.bcs.struct("CommandArgumentError",{argIdx:import_bcs$4.bcs.u16(),kind:CommandArgumentError}),TypeArgumentError:import_bcs$4.bcs.struct("TypeArgumentError",{argumentIdx:import_bcs$4.bcs.u16(),kind:TypeArgumentError}),UnusedValueWithoutDrop:import_bcs$4.bcs.struct("UnusedValueWithoutDrop",{resultIdx:import_bcs$4.bcs.u16(),secondaryIdx:import_bcs$4.bcs.u16()}),InvalidPublicFunctionReturnType:import_bcs$4.bcs.struct("InvalidPublicFunctionReturnType",{idx:import_bcs$4.bcs.u16()}),InvalidTransferObject:null,EffectsTooLarge:import_bcs$4.bcs.struct("EffectsTooLarge",{currentSize:import_bcs$4.bcs.u64(),maxSize:import_bcs$4.bcs.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:import_bcs$4.bcs.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError}),WrittenObjectsTooLarge:import_bcs$4.bcs.struct("WrittenObjectsTooLarge",{currentSize:import_bcs$4.bcs.u64(),maxSize:import_bcs$4.bcs.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:import_bcs$4.bcs.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:import_bcs$4.bcs.vector(import_bcs2$3.Address)}),AddressDeniedForCoin:import_bcs$4.bcs.struct("AddressDeniedForCoin",{address:import_bcs2$3.Address,coinType:import_bcs$4.bcs.string()}),CoinTypeGlobalPause:import_bcs$4.bcs.struct("CoinTypeGlobalPause",{coinType:import_bcs$4.bcs.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus=import_bcs$4.bcs.enum("ExecutionStatus",{Success:null,Failed:import_bcs$4.bcs.struct("ExecutionFailed",{error:ExecutionFailureStatus,command:import_bcs$4.bcs.option(import_bcs$4.bcs.u64())})}),GasCostSummary=import_bcs$4.bcs.struct("GasCostSummary",{computationCost:import_bcs$4.bcs.u64(),storageCost:import_bcs$4.bcs.u64(),storageRebate:import_bcs$4.bcs.u64(),nonRefundableStorageFee:import_bcs$4.bcs.u64()}),TransactionEffectsV1=import_bcs$4.bcs.struct("TransactionEffectsV1",{status:ExecutionStatus,executedEpoch:import_bcs$4.bcs.u64(),gasUsed:GasCostSummary,modifiedAtVersions:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,import_bcs$4.bcs.u64()])),sharedObjects:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),transactionDigest:import_bcs2$3.ObjectDigest,created:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,import_bcs2$3.Owner])),mutated:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,import_bcs2$3.Owner])),unwrapped:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,import_bcs2$3.Owner])),deleted:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),unwrappedThenDeleted:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),wrapped:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),gasObject:import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,import_bcs2$3.Owner]),eventsDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest),dependencies:import_bcs$4.bcs.vector(import_bcs2$3.ObjectDigest)}),VersionDigest=import_bcs$4.bcs.tuple([import_bcs$4.bcs.u64(),import_bcs2$3.ObjectDigest]),ObjectIn=import_bcs$4.bcs.enum("ObjectIn",{NotExist:null,Exist:import_bcs$4.bcs.tuple([VersionDigest,import_bcs2$3.Owner])}),ObjectOut=import_bcs$4.bcs.enum("ObjectOut",{NotExist:null,ObjectWrite:import_bcs$4.bcs.tuple([import_bcs2$3.ObjectDigest,import_bcs2$3.Owner]),PackageWrite:VersionDigest}),IDOperation=import_bcs$4.bcs.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange=import_bcs$4.bcs.struct("EffectsObjectChange",{inputState:ObjectIn,outputState:ObjectOut,idOperation:IDOperation}),UnchangedSharedKind=import_bcs$4.bcs.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest,MutateDeleted:import_bcs$4.bcs.u64(),ReadDeleted:import_bcs$4.bcs.u64(),Cancelled:import_bcs$4.bcs.u64(),PerEpochConfig:null}),TransactionEffectsV2=import_bcs$4.bcs.struct("TransactionEffectsV2",{status:ExecutionStatus,executedEpoch:import_bcs$4.bcs.u64(),gasUsed:GasCostSummary,transactionDigest:import_bcs2$3.ObjectDigest,gasObjectIndex:import_bcs$4.bcs.option(import_bcs$4.bcs.u32()),eventsDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest),dependencies:import_bcs$4.bcs.vector(import_bcs2$3.ObjectDigest),lamportVersion:import_bcs$4.bcs.u64(),changedObjects:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,EffectsObjectChange])),unchangedSharedObjects:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,UnchangedSharedKind])),auxDataDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest)}),TransactionEffects=import_bcs$4.bcs.enum("TransactionEffects",{V1:TransactionEffectsV1,V2:TransactionEffectsV2});var __defProp$5=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$3=(t,e)=>{for(var i in e)__defProp$5(t,i,{get:e[i],enumerable:!0})},__copyProps$4=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$4(e))!__hasOwnProp$4.call(t,s)&&s!==i&&__defProp$5(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$4(e,s))||n.enumerable});return t},__toCommonJS$3=t=>__copyProps$4(__defProp$5({},"__esModule",{value:!0}),t),pure_exports={};__export$3(pure_exports,{pureBcsSchemaFromTypeName:()=>pureBcsSchemaFromTypeName});var pure=__toCommonJS$3(pure_exports),import_bcs$3=require$$2$1,import_bcs2$2=bcs$1;function pureBcsSchemaFromTypeName(t){switch(t){case"u8":return import_bcs$3.bcs.u8();case"u16":return import_bcs$3.bcs.u16();case"u32":return import_bcs$3.bcs.u32();case"u64":return import_bcs$3.bcs.u64();case"u128":return import_bcs$3.bcs.u128();case"u256":return import_bcs$3.bcs.u256();case"bool":return import_bcs$3.bcs.bool();case"string":return import_bcs$3.bcs.string();case"id":case"address":return import_bcs2$2.Address}const e=t.match(/^(vector|option)<(.+)>$/);if(e){const[i,n]=e.slice(1);return i==="vector"?import_bcs$3.bcs.vector(pureBcsSchemaFromTypeName(n)):import_bcs$3.bcs.option(pureBcsSchemaFromTypeName(n))}throw new Error(`Invalid Pure type name: ${t}`)}var __defProp$4=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export$2=(t,e)=>{for(var i in e)__defProp$4(t,i,{get:e[i],enumerable:!0})},__copyProps$3=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$3(e))!__hasOwnProp$3.call(t,s)&&s!==i&&__defProp$4(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$3(e,s))||n.enumerable});return t},__toCommonJS$2=t=>__copyProps$3(__defProp$4({},"__esModule",{value:!0}),t),bcs_exports={};__export$2(bcs_exports,{BcsType:()=>import_bcs3.BcsType,TypeTagSerializer:()=>import_type_tag_serializer.TypeTagSerializer,bcs:()=>suiBcs,pureBcsSchemaFromTypeName:()=>import_pure.pureBcsSchemaFromTypeName});var bcs=__toCommonJS$2(bcs_exports),import_bcs$2=require$$2$1,import_bcs2$1=bcs$1,import_effects=effects,import_type_tag_serializer=typeTagSerializer,import_bcs3=require$$2$1,import_pure=pure;const suiBcs={...import_bcs$2.bcs,U8:import_bcs$2.bcs.u8(),U16:import_bcs$2.bcs.u16(),U32:import_bcs$2.bcs.u32(),U64:import_bcs$2.bcs.u64(),U128:import_bcs$2.bcs.u128(),U256:import_bcs$2.bcs.u256(),ULEB128:import_bcs$2.bcs.uleb128(),Bool:import_bcs$2.bcs.bool(),String:import_bcs$2.bcs.string(),Address:import_bcs2$1.Address,AppId:import_bcs2$1.AppId,Argument:import_bcs2$1.Argument,CallArg:import_bcs2$1.CallArg,Command:import_bcs2$1.Command,CompressedSignature:import_bcs2$1.CompressedSignature,GasData:import_bcs2$1.GasData,Intent:import_bcs2$1.Intent,IntentMessage:import_bcs2$1.IntentMessage,IntentScope:import_bcs2$1.IntentScope,IntentVersion:import_bcs2$1.IntentVersion,MultiSig:import_bcs2$1.MultiSig,MultiSigPkMap:import_bcs2$1.MultiSigPkMap,MultiSigPublicKey:import_bcs2$1.MultiSigPublicKey,ObjectArg:import_bcs2$1.ObjectArg,ObjectDigest:import_bcs2$1.ObjectDigest,Owner:import_bcs2$1.Owner,PasskeyAuthenticator:import_bcs2$1.PasskeyAuthenticator,ProgrammableMoveCall:import_bcs2$1.ProgrammableMoveCall,ProgrammableTransaction:import_bcs2$1.ProgrammableTransaction,PublicKey:import_bcs2$1.PublicKey,SenderSignedData:import_bcs2$1.SenderSignedData,SenderSignedTransaction:import_bcs2$1.SenderSignedTransaction,SharedObjectRef:import_bcs2$1.SharedObjectRef,StructTag:import_bcs2$1.StructTag,SuiObjectRef:import_bcs2$1.SuiObjectRef,TransactionData:import_bcs2$1.TransactionData,TransactionDataV1:import_bcs2$1.TransactionDataV1,TransactionEffects:import_effects.TransactionEffects,TransactionExpiration:import_bcs2$1.TransactionExpiration,TransactionKind:import_bcs2$1.TransactionKind,TypeTag:import_bcs2$1.TypeTag};var __defProp$3=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__hasOwnProp$2=Object.prototype.hasOwnProperty,__export$1=(t,e)=>{for(var i in e)__defProp$3(t,i,{get:e[i],enumerable:!0})},__copyProps$2=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$2(e))!__hasOwnProp$2.call(t,s)&&s!==i&&__defProp$3(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$2(e,s))||n.enumerable});return t},__toCommonJS$1=t=>__copyProps$2(__defProp$3({},"__esModule",{value:!0}),t),dynamic_fields_exports={};__export$1(dynamic_fields_exports,{deriveDynamicFieldID:()=>deriveDynamicFieldID});var dynamicFields=__toCommonJS$1(dynamic_fields_exports),import_bcs$1=require$$2$1,import_blake2b=require$$1$2,import_bcs2=bcs;function deriveDynamicFieldID(t,e,i){const n=import_bcs2.bcs.Address.serialize(t).toBytes(),s=import_bcs2.bcs.TypeTag.serialize(e).toBytes(),a=import_bcs2.bcs.u64().serialize(i.length).toBytes(),l=import_blake2b.blake2b.create({dkLen:32});return l.update(new Uint8Array([240])),l.update(n),l.update(a),l.update(i),l.update(s),`0x${(0,import_bcs$1.toHex)(l.digest().slice(0,32))}`}var __defProp$2=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__hasOwnProp$1=Object.prototype.hasOwnProperty,__export=(t,e)=>{for(var i in e)__defProp$2(t,i,{get:e[i],enumerable:!0})},__copyProps$1=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames$1(e))!__hasOwnProp$1.call(t,s)&&s!==i&&__defProp$2(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc$1(e,s))||n.enumerable});return t},__toCommonJS=t=>__copyProps$1(__defProp$2({},"__esModule",{value:!0}),t),utils_exports={};__export(utils_exports,{MIST_PER_SUI:()=>import_constants.MIST_PER_SUI,MOVE_STDLIB_ADDRESS:()=>import_constants.MOVE_STDLIB_ADDRESS,SUI_ADDRESS_LENGTH:()=>import_sui_types.SUI_ADDRESS_LENGTH,SUI_CLOCK_OBJECT_ID:()=>import_constants.SUI_CLOCK_OBJECT_ID,SUI_DECIMALS:()=>import_constants.SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS:()=>import_constants.SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS:()=>import_constants.SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME:()=>import_constants.SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID:()=>import_constants.SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG:()=>import_constants.SUI_TYPE_ARG,deriveDynamicFieldID:()=>import_dynamic_fields.deriveDynamicFieldID,formatAddress:()=>import_format.formatAddress,formatDigest:()=>import_format.formatDigest,fromB64:()=>import_bcs.fromB64,fromBase58:()=>import_bcs.fromBase58,fromBase64:()=>import_bcs.fromBase64,fromHEX:()=>import_bcs.fromHEX,fromHex:()=>import_bcs.fromHex,isValidNamedPackage:()=>import_move_registry.isValidNamedPackage,isValidNamedType:()=>import_move_registry.isValidNamedType,isValidSuiAddress:()=>import_sui_types.isValidSuiAddress,isValidSuiNSName:()=>import_suins.isValidSuiNSName,isValidSuiObjectId:()=>import_sui_types.isValidSuiObjectId,isValidTransactionDigest:()=>import_sui_types.isValidTransactionDigest,normalizeStructTag:()=>import_sui_types.normalizeStructTag,normalizeSuiAddress:()=>import_sui_types.normalizeSuiAddress,normalizeSuiNSName:()=>import_suins.normalizeSuiNSName,normalizeSuiObjectId:()=>import_sui_types.normalizeSuiObjectId,parseStructTag:()=>import_sui_types.parseStructTag,toB64:()=>import_bcs.toB64,toBase58:()=>import_bcs.toBase58,toBase64:()=>import_bcs.toBase64,toHEX:()=>import_bcs.toHEX,toHex:()=>import_bcs.toHex});var utils$4=__toCommonJS(utils_exports),import_format=format,import_sui_types=suiTypes,import_bcs=require$$2$1,import_suins=suins,import_constants=constants$1,import_move_registry=moveRegistry,import_dynamic_fields=dynamicFields;Object.defineProperty(client,"__esModule",{value:!0});client.SuiPythClient=void 0;const utils_1=utils$4,bcs_1=bcs,buffer_1=require$$1$3,MAX_ARGUMENT_SIZE=16*1024;class SuiPythClient{constructor(e,i,n){Ua(this,"provider");Ua(this,"pythStateId");Ua(this,"wormholeStateId");Ua(this,"pythPackageId");Ua(this,"wormholePackageId");Ua(this,"priceTableInfo");Ua(this,"priceFeedObjectIdCache",new Map);Ua(this,"baseUpdateFee");this.provider=e,this.pythStateId=i,this.wormholeStateId=n,this.pythPackageId=void 0,this.wormholePackageId=void 0}async getBaseUpdateFee(){if(this.baseUpdateFee===void 0){const e=await this.provider.getObject({id:this.pythStateId,options:{showContent:!0}});if(!e.data||!e.data.content||e.data.content.dataType!=="moveObject")throw new Error("Unable to fetch pyth state object");this.baseUpdateFee=e.data.content.fields.base_update_fee}return this.baseUpdateFee}async getPackageId(e){const i=await this.provider.getObject({id:e,options:{showContent:!0}}).then(n=>{var s,a,l;if(((a=(s=n.data)==null?void 0:s.content)==null?void 0:a.dataType)=="moveObject")return n.data.content.fields;throw console.log((l=n.data)==null?void 0:l.content),new Error(`Cannot fetch package id for object ${e}`)});if("upgrade_cap"in i)return i.upgrade_cap.fields.package;throw new Error("upgrade_cap not found")}async verifyVaas(e,i){const n=await this.getWormholePackageId(),s=[];for(const a of e){const[l]=i.moveCall({target:`${n}::vaa::parse_and_verify`,arguments:[i.object(this.wormholeStateId),i.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(a),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),i.object(utils_1.SUI_CLOCK_OBJECT_ID)]});s.push(l)}return s}async updatePriceFeeds(e,i,n){const s=await this.getPythPackageId();let a;if(i.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const l=this.extractVaaBytesFromAccumulatorMessage(i[0]),A=await this.verifyVaas([l],e);[a]=e.moveCall({target:`${s}::pyth::create_authenticated_price_infos_using_accumulator`,arguments:[e.object(this.pythStateId),e.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(i[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),A[0],e.object(utils_1.SUI_CLOCK_OBJECT_ID)]});const T=[],q=await this.getBaseUpdateFee(),et=e.splitCoins(e.gas,n.map(()=>e.pure.u64(q)));let xi=0;for(const Oi of n){const Ts=await this.getPriceFeedObjectId(Oi);if(!Ts)throw new Error(`Price feed ${Oi} not found, please create it first`);T.push(Ts),[a]=e.moveCall({target:`${s}::pyth::update_single_price_feed`,arguments:[e.object(this.pythStateId),a,e.object(Ts),et[xi],e.object(utils_1.SUI_CLOCK_OBJECT_ID)]}),xi++}return e.moveCall({target:`${s}::hot_potato_vector::destroy`,arguments:[a],typeArguments:[`${s}::price_info::PriceInfo`]}),T}async createPriceFeed(e,i){const n=await this.getPythPackageId();if(i.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const s=this.extractVaaBytesFromAccumulatorMessage(i[0]),a=await this.verifyVaas([s],e);e.moveCall({target:`${n}::pyth::create_price_feeds_using_accumulator`,arguments:[e.object(this.pythStateId),e.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(i[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),a[0],e.object(utils_1.SUI_CLOCK_OBJECT_ID)]})}async getWormholePackageId(){return this.wormholePackageId||(this.wormholePackageId=await this.getPackageId(this.wormholeStateId)),this.wormholePackageId}async getPythPackageId(){return this.pythPackageId||(this.pythPackageId=await this.getPackageId(this.pythStateId)),this.pythPackageId}async getPriceFeedObjectId(e){const i=e.replace("0x","");if(!this.priceFeedObjectIdCache.has(i)){const{id:n,fieldType:s}=await this.getPriceTableInfo(),a=await this.provider.getDynamicFieldObject({parentId:n,name:{type:`${s}::price_identifier::PriceIdentifier`,value:{bytes:Array.from(buffer_1.Buffer.from(i,"hex"))}}});if(!a.data||!a.data.content)return;if(a.data.content.dataType!=="moveObject")throw new Error("Price feed type mismatch");this.priceFeedObjectIdCache.set(i,a.data.content.fields.value)}return this.priceFeedObjectIdCache.get(i)}async getPriceTableInfo(){if(this.priceTableInfo===void 0){const e=await this.provider.getDynamicFieldObject({parentId:this.pythStateId,name:{type:"vector<u8>",value:"price_info"}});if(!e.data||!e.data.type)throw new Error("Price Table not found, contract may not be initialized");let i=e.data.type.replace("0x2::table::Table<","");i=i.replace("::price_identifier::PriceIdentifier, 0x2::object::ID>",""),this.priceTableInfo={id:e.data.objectId,fieldType:i}}return this.priceTableInfo}extractVaaBytesFromAccumulatorMessage(e){const n=7+e.readUint8(6)+1,s=e.readUint16BE(n),a=n+2;return e.subarray(a,a+s)}}client.SuiPythClient=SuiPythClient;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PriceFeed=t.Price=t.SuiPythClient=t.SuiPriceServiceConnection=void 0;var e=SuiPriceServiceConnection$1;Object.defineProperty(t,"SuiPriceServiceConnection",{enumerable:!0,get:function(){return e.SuiPriceServiceConnection}});var i=client;Object.defineProperty(t,"SuiPythClient",{enumerable:!0,get:function(){return i.SuiPythClient}});var n=lib$1;Object.defineProperty(t,"Price",{enumerable:!0,get:function(){return n.Price}}),Object.defineProperty(t,"PriceFeed",{enumerable:!0,get:function(){return n.PriceFeed}})})(lib$2);var __create=Object.create,__defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(t,e,i)=>e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__spreadValues=(t,e)=>{for(var i in e||(e={}))__hasOwnProp.call(e,i)&&__defNormalProp$1(t,i,e[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(e))__propIsEnum.call(e,i)&&__defNormalProp$1(t,i,e[i]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),__require=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),__commonJS=(t,e)=>function(){return e||(0,t[__getOwnPropNames(t)[0]])((e={exports:{}}).exports,e),e.exports},__copyProps=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames(e))!__hasOwnProp.call(t,s)&&s!==i&&__defProp$1(t,s,{get:()=>e[s],enumerable:!(n=__getOwnPropDesc(e,s))||n.enumerable});return t},__toESM=(t,e,i)=>(i=t!=null?__create(__getProtoOf(t)):{},__copyProps(!t||!t.__esModule?__defProp$1(i,"default",{value:t,enumerable:!0}):i,t)),__async=(t,e,i)=>new Promise((n,s)=>{var a=T=>{try{A(i.next(T))}catch(q){s(q)}},l=T=>{try{A(i.throw(T))}catch(q){s(q)}},A=T=>T.done?n(T.value):Promise.resolve(T.value).then(a,l);A((i=i.apply(t,e)).next())}),require_bn=__commonJS({"node_modules/bn.js/lib/bn.js"(t,e){(function(i,n){function s(f,Y){if(!f)throw new Error(Y||"Assertion failed")}function a(f,Y){f.super_=Y;var nt=function(){};nt.prototype=Y.prototype,f.prototype=new nt,f.prototype.constructor=f}function l(f,Y,nt){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((Y==="le"||Y==="be")&&(nt=Y,Y=10),this._init(f||0,Y||10,nt||"be"))}typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var A;try{typeof window<"u"&&typeof window.Buffer<"u"?A=window.Buffer:A=__require("buffer").Buffer}catch{}l.isBN=function(Y){return Y instanceof l?!0:Y!==null&&typeof Y=="object"&&Y.constructor.wordSize===l.wordSize&&Array.isArray(Y.words)},l.max=function(Y,nt){return Y.cmp(nt)>0?Y:nt},l.min=function(Y,nt){return Y.cmp(nt)<0?Y:nt},l.prototype._init=function(Y,nt,vs){if(typeof Y=="number")return this._initNumber(Y,nt,vs);if(typeof Y=="object")return this._initArray(Y,nt,vs);nt==="hex"&&(nt=16),s(nt===(nt|0)&&nt>=2&&nt<=36),Y=Y.toString().replace(/\s+/g,"");var ks=0;Y[0]==="-"&&(ks++,this.negative=1),ks<Y.length&&(nt===16?this._parseHex(Y,ks,vs):(this._parseBase(Y,nt,ks),vs==="le"&&this._initArray(this.toArray(),nt,vs)))},l.prototype._initNumber=function(Y,nt,vs){Y<0&&(this.negative=1,Y=-Y),Y<67108864?(this.words=[Y&67108863],this.length=1):Y<4503599627370496?(this.words=[Y&67108863,Y/67108864&67108863],this.length=2):(s(Y<9007199254740992),this.words=[Y&67108863,Y/67108864&67108863,1],this.length=3),vs==="le"&&this._initArray(this.toArray(),nt,vs)},l.prototype._initArray=function(Y,nt,vs){if(s(typeof Y.length=="number"),Y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Y.length/3),this.words=new Array(this.length);for(var ks=0;ks<this.length;ks++)this.words[ks]=0;var Ds,Bs,Ms=0;if(vs==="be")for(ks=Y.length-1,Ds=0;ks>=0;ks-=3)Bs=Y[ks]|Y[ks-1]<<8|Y[ks-2]<<16,this.words[Ds]|=Bs<<Ms&67108863,this.words[Ds+1]=Bs>>>26-Ms&67108863,Ms+=24,Ms>=26&&(Ms-=26,Ds++);else if(vs==="le")for(ks=0,Ds=0;ks<Y.length;ks+=3)Bs=Y[ks]|Y[ks+1]<<8|Y[ks+2]<<16,this.words[Ds]|=Bs<<Ms&67108863,this.words[Ds+1]=Bs>>>26-Ms&67108863,Ms+=24,Ms>=26&&(Ms-=26,Ds++);return this._strip()};function T(f,Y){var nt=f.charCodeAt(Y);if(nt>=48&&nt<=57)return nt-48;if(nt>=65&&nt<=70)return nt-55;if(nt>=97&&nt<=102)return nt-87;s(!1,"Invalid character in "+f)}function q(f,Y,nt){var vs=T(f,nt);return nt-1>=Y&&(vs|=T(f,nt-1)<<4),vs}l.prototype._parseHex=function(Y,nt,vs){this.length=Math.ceil((Y.length-nt)/6),this.words=new Array(this.length);for(var ks=0;ks<this.length;ks++)this.words[ks]=0;var Ds=0,Bs=0,Ms;if(vs==="be")for(ks=Y.length-1;ks>=nt;ks-=2)Ms=q(Y,nt,ks)<<Ds,this.words[Bs]|=Ms&67108863,Ds>=18?(Ds-=18,Bs+=1,this.words[Bs]|=Ms>>>26):Ds+=8;else{var Q=Y.length-nt;for(ks=Q%2===0?nt+1:nt;ks<Y.length;ks+=2)Ms=q(Y,nt,ks)<<Ds,this.words[Bs]|=Ms&67108863,Ds>=18?(Ds-=18,Bs+=1,this.words[Bs]|=Ms>>>26):Ds+=8}this._strip()};function et(f,Y,nt,vs){for(var ks=0,Ds=0,Bs=Math.min(f.length,nt),Ms=Y;Ms<Bs;Ms++){var Q=f.charCodeAt(Ms)-48;ks*=vs,Q>=49?Ds=Q-49+10:Q>=17?Ds=Q-17+10:Ds=Q,s(Q>=0&&Ds<vs,"Invalid character"),ks+=Ds}return ks}l.prototype._parseBase=function(Y,nt,vs){this.words=[0],this.length=1;for(var ks=0,Ds=1;Ds<=67108863;Ds*=nt)ks++;ks--,Ds=Ds/nt|0;for(var Bs=Y.length-vs,Ms=Bs%ks,Q=Math.min(Bs,Bs-Ms)+vs,$s=0,Ks=vs;Ks<Q;Ks+=ks)$s=et(Y,Ks,Ks+ks,nt),this.imuln(Ds),this.words[0]+$s<67108864?this.words[0]+=$s:this._iaddn($s);if(Ms!==0){var jo=1;for($s=et(Y,Ks,Y.length,nt),Ks=0;Ks<Ms;Ks++)jo*=nt;this.imuln(jo),this.words[0]+$s<67108864?this.words[0]+=$s:this._iaddn($s)}this._strip()},l.prototype.copy=function(Y){Y.words=new Array(this.length);for(var nt=0;nt<this.length;nt++)Y.words[nt]=this.words[nt];Y.length=this.length,Y.negative=this.negative,Y.red=this.red};function xi(f,Y){f.words=Y.words,f.length=Y.length,f.negative=Y.negative,f.red=Y.red}if(l.prototype._move=function(Y){xi(Y,this)},l.prototype.clone=function(){var Y=new l(null);return this.copy(Y),Y},l.prototype._expand=function(Y){for(;this.length<Y;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oi}catch{l.prototype.inspect=Oi}else l.prototype.inspect=Oi;function Oi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Fs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(Y,nt){Y=Y||10,nt=nt|0||1;var vs;if(Y===16||Y==="hex"){vs="";for(var ks=0,Ds=0,Bs=0;Bs<this.length;Bs++){var Ms=this.words[Bs],Q=((Ms<<ks|Ds)&16777215).toString(16);Ds=Ms>>>24-ks&16777215,ks+=2,ks>=26&&(ks-=26,Bs--),Ds!==0||Bs!==this.length-1?vs=Ts[6-Q.length]+Q+vs:vs=Q+vs}for(Ds!==0&&(vs=Ds.toString(16)+vs);vs.length%nt!==0;)vs="0"+vs;return this.negative!==0&&(vs="-"+vs),vs}if(Y===(Y|0)&&Y>=2&&Y<=36){var $s=Fs[Y],Ks=qs[Y];vs="";var jo=this.clone();for(jo.negative=0;!jo.isZero();){var Bo=jo.modrn(Ks).toString(Y);jo=jo.idivn(Ks),jo.isZero()?vs=Bo+vs:vs=Ts[$s-Bo.length]+Bo+vs}for(this.isZero()&&(vs="0"+vs);vs.length%nt!==0;)vs="0"+vs;return this.negative!==0&&(vs="-"+vs),vs}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var Y=this.words[0];return this.length===2?Y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Y+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Y:Y},l.prototype.toJSON=function(){return this.toString(16,2)},A&&(l.prototype.toBuffer=function(Y,nt){return this.toArrayLike(A,Y,nt)}),l.prototype.toArray=function(Y,nt){return this.toArrayLike(Array,Y,nt)};var Us=function(Y,nt){return Y.allocUnsafe?Y.allocUnsafe(nt):new Y(nt)};l.prototype.toArrayLike=function(Y,nt,vs){this._strip();var ks=this.byteLength(),Ds=vs||Math.max(1,ks);s(ks<=Ds,"byte array longer than desired length"),s(Ds>0,"Requested array length <= 0");var Bs=Us(Y,Ds),Ms=nt==="le"?"LE":"BE";return this["_toArrayLike"+Ms](Bs,ks),Bs},l.prototype._toArrayLikeLE=function(Y,nt){for(var vs=0,ks=0,Ds=0,Bs=0;Ds<this.length;Ds++){var Ms=this.words[Ds]<<Bs|ks;Y[vs++]=Ms&255,vs<Y.length&&(Y[vs++]=Ms>>8&255),vs<Y.length&&(Y[vs++]=Ms>>16&255),Bs===6?(vs<Y.length&&(Y[vs++]=Ms>>24&255),ks=0,Bs=0):(ks=Ms>>>24,Bs+=2)}if(vs<Y.length)for(Y[vs++]=ks;vs<Y.length;)Y[vs++]=0},l.prototype._toArrayLikeBE=function(Y,nt){for(var vs=Y.length-1,ks=0,Ds=0,Bs=0;Ds<this.length;Ds++){var Ms=this.words[Ds]<<Bs|ks;Y[vs--]=Ms&255,vs>=0&&(Y[vs--]=Ms>>8&255),vs>=0&&(Y[vs--]=Ms>>16&255),Bs===6?(vs>=0&&(Y[vs--]=Ms>>24&255),ks=0,Bs=0):(ks=Ms>>>24,Bs+=2)}if(vs>=0)for(Y[vs--]=ks;vs>=0;)Y[vs--]=0},Math.clz32?l.prototype._countBits=function(Y){return 32-Math.clz32(Y)}:l.prototype._countBits=function(Y){var nt=Y,vs=0;return nt>=4096&&(vs+=13,nt>>>=13),nt>=64&&(vs+=7,nt>>>=7),nt>=8&&(vs+=4,nt>>>=4),nt>=2&&(vs+=2,nt>>>=2),vs+nt},l.prototype._zeroBits=function(Y){if(Y===0)return 26;var nt=Y,vs=0;return nt&8191||(vs+=13,nt>>>=13),nt&127||(vs+=7,nt>>>=7),nt&15||(vs+=4,nt>>>=4),nt&3||(vs+=2,nt>>>=2),nt&1||vs++,vs},l.prototype.bitLength=function(){var Y=this.words[this.length-1],nt=this._countBits(Y);return(this.length-1)*26+nt};function Ls(f){for(var Y=new Array(f.bitLength()),nt=0;nt<Y.length;nt++){var vs=nt/26|0,ks=nt%26;Y[nt]=f.words[vs]>>>ks&1}return Y}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Y=0,nt=0;nt<this.length;nt++){var vs=this._zeroBits(this.words[nt]);if(Y+=vs,vs!==26)break}return Y},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(Y){return this.negative!==0?this.abs().inotn(Y).iaddn(1):this.clone()},l.prototype.fromTwos=function(Y){return this.testn(Y-1)?this.notn(Y).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(Y){for(;this.length<Y.length;)this.words[this.length++]=0;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]|Y.words[nt];return this._strip()},l.prototype.ior=function(Y){return s((this.negative|Y.negative)===0),this.iuor(Y)},l.prototype.or=function(Y){return this.length>Y.length?this.clone().ior(Y):Y.clone().ior(this)},l.prototype.uor=function(Y){return this.length>Y.length?this.clone().iuor(Y):Y.clone().iuor(this)},l.prototype.iuand=function(Y){var nt;this.length>Y.length?nt=Y:nt=this;for(var vs=0;vs<nt.length;vs++)this.words[vs]=this.words[vs]&Y.words[vs];return this.length=nt.length,this._strip()},l.prototype.iand=function(Y){return s((this.negative|Y.negative)===0),this.iuand(Y)},l.prototype.and=function(Y){return this.length>Y.length?this.clone().iand(Y):Y.clone().iand(this)},l.prototype.uand=function(Y){return this.length>Y.length?this.clone().iuand(Y):Y.clone().iuand(this)},l.prototype.iuxor=function(Y){var nt,vs;this.length>Y.length?(nt=this,vs=Y):(nt=Y,vs=this);for(var ks=0;ks<vs.length;ks++)this.words[ks]=nt.words[ks]^vs.words[ks];if(this!==nt)for(;ks<nt.length;ks++)this.words[ks]=nt.words[ks];return this.length=nt.length,this._strip()},l.prototype.ixor=function(Y){return s((this.negative|Y.negative)===0),this.iuxor(Y)},l.prototype.xor=function(Y){return this.length>Y.length?this.clone().ixor(Y):Y.clone().ixor(this)},l.prototype.uxor=function(Y){return this.length>Y.length?this.clone().iuxor(Y):Y.clone().iuxor(this)},l.prototype.inotn=function(Y){s(typeof Y=="number"&&Y>=0);var nt=Math.ceil(Y/26)|0,vs=Y%26;this._expand(nt),vs>0&&nt--;for(var ks=0;ks<nt;ks++)this.words[ks]=~this.words[ks]&67108863;return vs>0&&(this.words[ks]=~this.words[ks]&67108863>>26-vs),this._strip()},l.prototype.notn=function(Y){return this.clone().inotn(Y)},l.prototype.setn=function(Y,nt){s(typeof Y=="number"&&Y>=0);var vs=Y/26|0,ks=Y%26;return this._expand(vs+1),nt?this.words[vs]=this.words[vs]|1<<ks:this.words[vs]=this.words[vs]&~(1<<ks),this._strip()},l.prototype.iadd=function(Y){var nt;if(this.negative!==0&&Y.negative===0)return this.negative=0,nt=this.isub(Y),this.negative^=1,this._normSign();if(this.negative===0&&Y.negative!==0)return Y.negative=0,nt=this.isub(Y),Y.negative=1,nt._normSign();var vs,ks;this.length>Y.length?(vs=this,ks=Y):(vs=Y,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)nt=(vs.words[Bs]|0)+(ks.words[Bs]|0)+Ds,this.words[Bs]=nt&67108863,Ds=nt>>>26;for(;Ds!==0&&Bs<vs.length;Bs++)nt=(vs.words[Bs]|0)+Ds,this.words[Bs]=nt&67108863,Ds=nt>>>26;if(this.length=vs.length,Ds!==0)this.words[this.length]=Ds,this.length++;else if(vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this},l.prototype.add=function(Y){var nt;return Y.negative!==0&&this.negative===0?(Y.negative=0,nt=this.sub(Y),Y.negative^=1,nt):Y.negative===0&&this.negative!==0?(this.negative=0,nt=Y.sub(this),this.negative=1,nt):this.length>Y.length?this.clone().iadd(Y):Y.clone().iadd(this)},l.prototype.isub=function(Y){if(Y.negative!==0){Y.negative=0;var nt=this.iadd(Y);return Y.negative=1,nt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Y),this.negative=1,this._normSign();var vs=this.cmp(Y);if(vs===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ks,Ds;vs>0?(ks=this,Ds=Y):(ks=Y,Ds=this);for(var Bs=0,Ms=0;Ms<Ds.length;Ms++)nt=(ks.words[Ms]|0)-(Ds.words[Ms]|0)+Bs,Bs=nt>>26,this.words[Ms]=nt&67108863;for(;Bs!==0&&Ms<ks.length;Ms++)nt=(ks.words[Ms]|0)+Bs,Bs=nt>>26,this.words[Ms]=nt&67108863;if(Bs===0&&Ms<ks.length&&ks!==this)for(;Ms<ks.length;Ms++)this.words[Ms]=ks.words[Ms];return this.length=Math.max(this.length,Ms),ks!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(Y){return this.clone().isub(Y)};function Gs(f,Y,nt){nt.negative=Y.negative^f.negative;var vs=f.length+Y.length|0;nt.length=vs,vs=vs-1|0;var ks=f.words[0]|0,Ds=Y.words[0]|0,Bs=ks*Ds,Ms=Bs&67108863,Q=Bs/67108864|0;nt.words[0]=Ms;for(var $s=1;$s<vs;$s++){for(var Ks=Q>>>26,jo=Q&67108863,Bo=Math.min($s,Y.length-1),To=Math.max(0,$s-f.length+1);To<=Bo;To++){var Oo=$s-To|0;ks=f.words[Oo]|0,Ds=Y.words[To]|0,Bs=ks*Ds+jo,Ks+=Bs/67108864|0,jo=Bs&67108863}nt.words[$s]=jo|0,Q=Ks|0}return Q!==0?nt.words[$s]=Q|0:nt.length--,nt._strip()}var zs=function(Y,nt,vs){var ks=Y.words,Ds=nt.words,Bs=vs.words,Ms=0,Q,$s,Ks,jo=ks[0]|0,Bo=jo&8191,To=jo>>>13,Oo=ks[1]|0,Vo=Oo&8191,zo=Oo>>>13,so=ks[2]|0,Qs=so&8191,sa=so>>>13,Zo=ks[3]|0,Qo=Zo&8191,la=Zo>>>13,Ko=ks[4]|0,Jo=Ko&8191,aa=Ko>>>13,oa=ks[5]|0,ua=oa&8191,Ma=oa>>>13,da=ks[6]|0,fa=da&8191,La=da>>>13,ga=ks[7]|0,ha=ga&8191,Ga=ga>>>13,Aa=ks[8]|0,_a=Aa&8191,Za=Aa>>>13,Ta=ks[9]|0,ma=Ta&8191,Xa=Ta>>>13,ka=Ds[0]|0,pa=ka&8191,za=ka>>>13,Ba=Ds[1]|0,wa=Ba&8191,Ja=Ba>>>13,Oa=Ds[2]|0,ba=Oa&8191,eu=Oa>>>13,Ia=Ds[3]|0,xa=Ia&8191,Ya=Ia>>>13,Pa=Ds[4]|0,$a=Pa&8191,Qa=Pa>>>13,Da=Ds[5]|0,va=Da&8191,Ka=Da>>>13,Ra=Ds[6]|0,ya=Ra&8191,tu=Ra>>>13,Na=Ds[7]|0,Sa=Na&8191,ru=Na>>>13,Fa=Ds[8]|0,Ea=Fa&8191,iu=Fa>>>13,ja=Ds[9]|0,Ca=ja&8191,nu=ja>>>13;vs.negative=Y.negative^nt.negative,vs.length=19,Q=Math.imul(Bo,pa),$s=Math.imul(Bo,za),$s=$s+Math.imul(To,pa)|0,Ks=Math.imul(To,za);var ou=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(ou>>>26)|0,ou&=67108863,Q=Math.imul(Vo,pa),$s=Math.imul(Vo,za),$s=$s+Math.imul(zo,pa)|0,Ks=Math.imul(zo,za),Q=Q+Math.imul(Bo,wa)|0,$s=$s+Math.imul(Bo,Ja)|0,$s=$s+Math.imul(To,wa)|0,Ks=Ks+Math.imul(To,Ja)|0;var au=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(au>>>26)|0,au&=67108863,Q=Math.imul(Qs,pa),$s=Math.imul(Qs,za),$s=$s+Math.imul(sa,pa)|0,Ks=Math.imul(sa,za),Q=Q+Math.imul(Vo,wa)|0,$s=$s+Math.imul(Vo,Ja)|0,$s=$s+Math.imul(zo,wa)|0,Ks=Ks+Math.imul(zo,Ja)|0,Q=Q+Math.imul(Bo,ba)|0,$s=$s+Math.imul(Bo,eu)|0,$s=$s+Math.imul(To,ba)|0,Ks=Ks+Math.imul(To,eu)|0;var uu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(uu>>>26)|0,uu&=67108863,Q=Math.imul(Qo,pa),$s=Math.imul(Qo,za),$s=$s+Math.imul(la,pa)|0,Ks=Math.imul(la,za),Q=Q+Math.imul(Qs,wa)|0,$s=$s+Math.imul(Qs,Ja)|0,$s=$s+Math.imul(sa,wa)|0,Ks=Ks+Math.imul(sa,Ja)|0,Q=Q+Math.imul(Vo,ba)|0,$s=$s+Math.imul(Vo,eu)|0,$s=$s+Math.imul(zo,ba)|0,Ks=Ks+Math.imul(zo,eu)|0,Q=Q+Math.imul(Bo,xa)|0,$s=$s+Math.imul(Bo,Ya)|0,$s=$s+Math.imul(To,xa)|0,Ks=Ks+Math.imul(To,Ya)|0;var cu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(cu>>>26)|0,cu&=67108863,Q=Math.imul(Jo,pa),$s=Math.imul(Jo,za),$s=$s+Math.imul(aa,pa)|0,Ks=Math.imul(aa,za),Q=Q+Math.imul(Qo,wa)|0,$s=$s+Math.imul(Qo,Ja)|0,$s=$s+Math.imul(la,wa)|0,Ks=Ks+Math.imul(la,Ja)|0,Q=Q+Math.imul(Qs,ba)|0,$s=$s+Math.imul(Qs,eu)|0,$s=$s+Math.imul(sa,ba)|0,Ks=Ks+Math.imul(sa,eu)|0,Q=Q+Math.imul(Vo,xa)|0,$s=$s+Math.imul(Vo,Ya)|0,$s=$s+Math.imul(zo,xa)|0,Ks=Ks+Math.imul(zo,Ya)|0,Q=Q+Math.imul(Bo,$a)|0,$s=$s+Math.imul(Bo,Qa)|0,$s=$s+Math.imul(To,$a)|0,Ks=Ks+Math.imul(To,Qa)|0;var lu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(lu>>>26)|0,lu&=67108863,Q=Math.imul(ua,pa),$s=Math.imul(ua,za),$s=$s+Math.imul(Ma,pa)|0,Ks=Math.imul(Ma,za),Q=Q+Math.imul(Jo,wa)|0,$s=$s+Math.imul(Jo,Ja)|0,$s=$s+Math.imul(aa,wa)|0,Ks=Ks+Math.imul(aa,Ja)|0,Q=Q+Math.imul(Qo,ba)|0,$s=$s+Math.imul(Qo,eu)|0,$s=$s+Math.imul(la,ba)|0,Ks=Ks+Math.imul(la,eu)|0,Q=Q+Math.imul(Qs,xa)|0,$s=$s+Math.imul(Qs,Ya)|0,$s=$s+Math.imul(sa,xa)|0,Ks=Ks+Math.imul(sa,Ya)|0,Q=Q+Math.imul(Vo,$a)|0,$s=$s+Math.imul(Vo,Qa)|0,$s=$s+Math.imul(zo,$a)|0,Ks=Ks+Math.imul(zo,Qa)|0,Q=Q+Math.imul(Bo,va)|0,$s=$s+Math.imul(Bo,Ka)|0,$s=$s+Math.imul(To,va)|0,Ks=Ks+Math.imul(To,Ka)|0;var du=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(du>>>26)|0,du&=67108863,Q=Math.imul(fa,pa),$s=Math.imul(fa,za),$s=$s+Math.imul(La,pa)|0,Ks=Math.imul(La,za),Q=Q+Math.imul(ua,wa)|0,$s=$s+Math.imul(ua,Ja)|0,$s=$s+Math.imul(Ma,wa)|0,Ks=Ks+Math.imul(Ma,Ja)|0,Q=Q+Math.imul(Jo,ba)|0,$s=$s+Math.imul(Jo,eu)|0,$s=$s+Math.imul(aa,ba)|0,Ks=Ks+Math.imul(aa,eu)|0,Q=Q+Math.imul(Qo,xa)|0,$s=$s+Math.imul(Qo,Ya)|0,$s=$s+Math.imul(la,xa)|0,Ks=Ks+Math.imul(la,Ya)|0,Q=Q+Math.imul(Qs,$a)|0,$s=$s+Math.imul(Qs,Qa)|0,$s=$s+Math.imul(sa,$a)|0,Ks=Ks+Math.imul(sa,Qa)|0,Q=Q+Math.imul(Vo,va)|0,$s=$s+Math.imul(Vo,Ka)|0,$s=$s+Math.imul(zo,va)|0,Ks=Ks+Math.imul(zo,Ka)|0,Q=Q+Math.imul(Bo,ya)|0,$s=$s+Math.imul(Bo,tu)|0,$s=$s+Math.imul(To,ya)|0,Ks=Ks+Math.imul(To,tu)|0;var fu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(fu>>>26)|0,fu&=67108863,Q=Math.imul(ha,pa),$s=Math.imul(ha,za),$s=$s+Math.imul(Ga,pa)|0,Ks=Math.imul(Ga,za),Q=Q+Math.imul(fa,wa)|0,$s=$s+Math.imul(fa,Ja)|0,$s=$s+Math.imul(La,wa)|0,Ks=Ks+Math.imul(La,Ja)|0,Q=Q+Math.imul(ua,ba)|0,$s=$s+Math.imul(ua,eu)|0,$s=$s+Math.imul(Ma,ba)|0,Ks=Ks+Math.imul(Ma,eu)|0,Q=Q+Math.imul(Jo,xa)|0,$s=$s+Math.imul(Jo,Ya)|0,$s=$s+Math.imul(aa,xa)|0,Ks=Ks+Math.imul(aa,Ya)|0,Q=Q+Math.imul(Qo,$a)|0,$s=$s+Math.imul(Qo,Qa)|0,$s=$s+Math.imul(la,$a)|0,Ks=Ks+Math.imul(la,Qa)|0,Q=Q+Math.imul(Qs,va)|0,$s=$s+Math.imul(Qs,Ka)|0,$s=$s+Math.imul(sa,va)|0,Ks=Ks+Math.imul(sa,Ka)|0,Q=Q+Math.imul(Vo,ya)|0,$s=$s+Math.imul(Vo,tu)|0,$s=$s+Math.imul(zo,ya)|0,Ks=Ks+Math.imul(zo,tu)|0,Q=Q+Math.imul(Bo,Sa)|0,$s=$s+Math.imul(Bo,ru)|0,$s=$s+Math.imul(To,Sa)|0,Ks=Ks+Math.imul(To,ru)|0;var hu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(hu>>>26)|0,hu&=67108863,Q=Math.imul(_a,pa),$s=Math.imul(_a,za),$s=$s+Math.imul(Za,pa)|0,Ks=Math.imul(Za,za),Q=Q+Math.imul(ha,wa)|0,$s=$s+Math.imul(ha,Ja)|0,$s=$s+Math.imul(Ga,wa)|0,Ks=Ks+Math.imul(Ga,Ja)|0,Q=Q+Math.imul(fa,ba)|0,$s=$s+Math.imul(fa,eu)|0,$s=$s+Math.imul(La,ba)|0,Ks=Ks+Math.imul(La,eu)|0,Q=Q+Math.imul(ua,xa)|0,$s=$s+Math.imul(ua,Ya)|0,$s=$s+Math.imul(Ma,xa)|0,Ks=Ks+Math.imul(Ma,Ya)|0,Q=Q+Math.imul(Jo,$a)|0,$s=$s+Math.imul(Jo,Qa)|0,$s=$s+Math.imul(aa,$a)|0,Ks=Ks+Math.imul(aa,Qa)|0,Q=Q+Math.imul(Qo,va)|0,$s=$s+Math.imul(Qo,Ka)|0,$s=$s+Math.imul(la,va)|0,Ks=Ks+Math.imul(la,Ka)|0,Q=Q+Math.imul(Qs,ya)|0,$s=$s+Math.imul(Qs,tu)|0,$s=$s+Math.imul(sa,ya)|0,Ks=Ks+Math.imul(sa,tu)|0,Q=Q+Math.imul(Vo,Sa)|0,$s=$s+Math.imul(Vo,ru)|0,$s=$s+Math.imul(zo,Sa)|0,Ks=Ks+Math.imul(zo,ru)|0,Q=Q+Math.imul(Bo,Ea)|0,$s=$s+Math.imul(Bo,iu)|0,$s=$s+Math.imul(To,Ea)|0,Ks=Ks+Math.imul(To,iu)|0;var pu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(pu>>>26)|0,pu&=67108863,Q=Math.imul(ma,pa),$s=Math.imul(ma,za),$s=$s+Math.imul(Xa,pa)|0,Ks=Math.imul(Xa,za),Q=Q+Math.imul(_a,wa)|0,$s=$s+Math.imul(_a,Ja)|0,$s=$s+Math.imul(Za,wa)|0,Ks=Ks+Math.imul(Za,Ja)|0,Q=Q+Math.imul(ha,ba)|0,$s=$s+Math.imul(ha,eu)|0,$s=$s+Math.imul(Ga,ba)|0,Ks=Ks+Math.imul(Ga,eu)|0,Q=Q+Math.imul(fa,xa)|0,$s=$s+Math.imul(fa,Ya)|0,$s=$s+Math.imul(La,xa)|0,Ks=Ks+Math.imul(La,Ya)|0,Q=Q+Math.imul(ua,$a)|0,$s=$s+Math.imul(ua,Qa)|0,$s=$s+Math.imul(Ma,$a)|0,Ks=Ks+Math.imul(Ma,Qa)|0,Q=Q+Math.imul(Jo,va)|0,$s=$s+Math.imul(Jo,Ka)|0,$s=$s+Math.imul(aa,va)|0,Ks=Ks+Math.imul(aa,Ka)|0,Q=Q+Math.imul(Qo,ya)|0,$s=$s+Math.imul(Qo,tu)|0,$s=$s+Math.imul(la,ya)|0,Ks=Ks+Math.imul(la,tu)|0,Q=Q+Math.imul(Qs,Sa)|0,$s=$s+Math.imul(Qs,ru)|0,$s=$s+Math.imul(sa,Sa)|0,Ks=Ks+Math.imul(sa,ru)|0,Q=Q+Math.imul(Vo,Ea)|0,$s=$s+Math.imul(Vo,iu)|0,$s=$s+Math.imul(zo,Ea)|0,Ks=Ks+Math.imul(zo,iu)|0,Q=Q+Math.imul(Bo,Ca)|0,$s=$s+Math.imul(Bo,nu)|0,$s=$s+Math.imul(To,Ca)|0,Ks=Ks+Math.imul(To,nu)|0;var mu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(mu>>>26)|0,mu&=67108863,Q=Math.imul(ma,wa),$s=Math.imul(ma,Ja),$s=$s+Math.imul(Xa,wa)|0,Ks=Math.imul(Xa,Ja),Q=Q+Math.imul(_a,ba)|0,$s=$s+Math.imul(_a,eu)|0,$s=$s+Math.imul(Za,ba)|0,Ks=Ks+Math.imul(Za,eu)|0,Q=Q+Math.imul(ha,xa)|0,$s=$s+Math.imul(ha,Ya)|0,$s=$s+Math.imul(Ga,xa)|0,Ks=Ks+Math.imul(Ga,Ya)|0,Q=Q+Math.imul(fa,$a)|0,$s=$s+Math.imul(fa,Qa)|0,$s=$s+Math.imul(La,$a)|0,Ks=Ks+Math.imul(La,Qa)|0,Q=Q+Math.imul(ua,va)|0,$s=$s+Math.imul(ua,Ka)|0,$s=$s+Math.imul(Ma,va)|0,Ks=Ks+Math.imul(Ma,Ka)|0,Q=Q+Math.imul(Jo,ya)|0,$s=$s+Math.imul(Jo,tu)|0,$s=$s+Math.imul(aa,ya)|0,Ks=Ks+Math.imul(aa,tu)|0,Q=Q+Math.imul(Qo,Sa)|0,$s=$s+Math.imul(Qo,ru)|0,$s=$s+Math.imul(la,Sa)|0,Ks=Ks+Math.imul(la,ru)|0,Q=Q+Math.imul(Qs,Ea)|0,$s=$s+Math.imul(Qs,iu)|0,$s=$s+Math.imul(sa,Ea)|0,Ks=Ks+Math.imul(sa,iu)|0,Q=Q+Math.imul(Vo,Ca)|0,$s=$s+Math.imul(Vo,nu)|0,$s=$s+Math.imul(zo,Ca)|0,Ks=Ks+Math.imul(zo,nu)|0;var gu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(gu>>>26)|0,gu&=67108863,Q=Math.imul(ma,ba),$s=Math.imul(ma,eu),$s=$s+Math.imul(Xa,ba)|0,Ks=Math.imul(Xa,eu),Q=Q+Math.imul(_a,xa)|0,$s=$s+Math.imul(_a,Ya)|0,$s=$s+Math.imul(Za,xa)|0,Ks=Ks+Math.imul(Za,Ya)|0,Q=Q+Math.imul(ha,$a)|0,$s=$s+Math.imul(ha,Qa)|0,$s=$s+Math.imul(Ga,$a)|0,Ks=Ks+Math.imul(Ga,Qa)|0,Q=Q+Math.imul(fa,va)|0,$s=$s+Math.imul(fa,Ka)|0,$s=$s+Math.imul(La,va)|0,Ks=Ks+Math.imul(La,Ka)|0,Q=Q+Math.imul(ua,ya)|0,$s=$s+Math.imul(ua,tu)|0,$s=$s+Math.imul(Ma,ya)|0,Ks=Ks+Math.imul(Ma,tu)|0,Q=Q+Math.imul(Jo,Sa)|0,$s=$s+Math.imul(Jo,ru)|0,$s=$s+Math.imul(aa,Sa)|0,Ks=Ks+Math.imul(aa,ru)|0,Q=Q+Math.imul(Qo,Ea)|0,$s=$s+Math.imul(Qo,iu)|0,$s=$s+Math.imul(la,Ea)|0,Ks=Ks+Math.imul(la,iu)|0,Q=Q+Math.imul(Qs,Ca)|0,$s=$s+Math.imul(Qs,nu)|0,$s=$s+Math.imul(sa,Ca)|0,Ks=Ks+Math.imul(sa,nu)|0;var _u=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(_u>>>26)|0,_u&=67108863,Q=Math.imul(ma,xa),$s=Math.imul(ma,Ya),$s=$s+Math.imul(Xa,xa)|0,Ks=Math.imul(Xa,Ya),Q=Q+Math.imul(_a,$a)|0,$s=$s+Math.imul(_a,Qa)|0,$s=$s+Math.imul(Za,$a)|0,Ks=Ks+Math.imul(Za,Qa)|0,Q=Q+Math.imul(ha,va)|0,$s=$s+Math.imul(ha,Ka)|0,$s=$s+Math.imul(Ga,va)|0,Ks=Ks+Math.imul(Ga,Ka)|0,Q=Q+Math.imul(fa,ya)|0,$s=$s+Math.imul(fa,tu)|0,$s=$s+Math.imul(La,ya)|0,Ks=Ks+Math.imul(La,tu)|0,Q=Q+Math.imul(ua,Sa)|0,$s=$s+Math.imul(ua,ru)|0,$s=$s+Math.imul(Ma,Sa)|0,Ks=Ks+Math.imul(Ma,ru)|0,Q=Q+Math.imul(Jo,Ea)|0,$s=$s+Math.imul(Jo,iu)|0,$s=$s+Math.imul(aa,Ea)|0,Ks=Ks+Math.imul(aa,iu)|0,Q=Q+Math.imul(Qo,Ca)|0,$s=$s+Math.imul(Qo,nu)|0,$s=$s+Math.imul(la,Ca)|0,Ks=Ks+Math.imul(la,nu)|0;var bu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(bu>>>26)|0,bu&=67108863,Q=Math.imul(ma,$a),$s=Math.imul(ma,Qa),$s=$s+Math.imul(Xa,$a)|0,Ks=Math.imul(Xa,Qa),Q=Q+Math.imul(_a,va)|0,$s=$s+Math.imul(_a,Ka)|0,$s=$s+Math.imul(Za,va)|0,Ks=Ks+Math.imul(Za,Ka)|0,Q=Q+Math.imul(ha,ya)|0,$s=$s+Math.imul(ha,tu)|0,$s=$s+Math.imul(Ga,ya)|0,Ks=Ks+Math.imul(Ga,tu)|0,Q=Q+Math.imul(fa,Sa)|0,$s=$s+Math.imul(fa,ru)|0,$s=$s+Math.imul(La,Sa)|0,Ks=Ks+Math.imul(La,ru)|0,Q=Q+Math.imul(ua,Ea)|0,$s=$s+Math.imul(ua,iu)|0,$s=$s+Math.imul(Ma,Ea)|0,Ks=Ks+Math.imul(Ma,iu)|0,Q=Q+Math.imul(Jo,Ca)|0,$s=$s+Math.imul(Jo,nu)|0,$s=$s+Math.imul(aa,Ca)|0,Ks=Ks+Math.imul(aa,nu)|0;var vu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(vu>>>26)|0,vu&=67108863,Q=Math.imul(ma,va),$s=Math.imul(ma,Ka),$s=$s+Math.imul(Xa,va)|0,Ks=Math.imul(Xa,Ka),Q=Q+Math.imul(_a,ya)|0,$s=$s+Math.imul(_a,tu)|0,$s=$s+Math.imul(Za,ya)|0,Ks=Ks+Math.imul(Za,tu)|0,Q=Q+Math.imul(ha,Sa)|0,$s=$s+Math.imul(ha,ru)|0,$s=$s+Math.imul(Ga,Sa)|0,Ks=Ks+Math.imul(Ga,ru)|0,Q=Q+Math.imul(fa,Ea)|0,$s=$s+Math.imul(fa,iu)|0,$s=$s+Math.imul(La,Ea)|0,Ks=Ks+Math.imul(La,iu)|0,Q=Q+Math.imul(ua,Ca)|0,$s=$s+Math.imul(ua,nu)|0,$s=$s+Math.imul(Ma,Ca)|0,Ks=Ks+Math.imul(Ma,nu)|0;var yu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(yu>>>26)|0,yu&=67108863,Q=Math.imul(ma,ya),$s=Math.imul(ma,tu),$s=$s+Math.imul(Xa,ya)|0,Ks=Math.imul(Xa,tu),Q=Q+Math.imul(_a,Sa)|0,$s=$s+Math.imul(_a,ru)|0,$s=$s+Math.imul(Za,Sa)|0,Ks=Ks+Math.imul(Za,ru)|0,Q=Q+Math.imul(ha,Ea)|0,$s=$s+Math.imul(ha,iu)|0,$s=$s+Math.imul(Ga,Ea)|0,Ks=Ks+Math.imul(Ga,iu)|0,Q=Q+Math.imul(fa,Ca)|0,$s=$s+Math.imul(fa,nu)|0,$s=$s+Math.imul(La,Ca)|0,Ks=Ks+Math.imul(La,nu)|0;var wu=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(wu>>>26)|0,wu&=67108863,Q=Math.imul(ma,Sa),$s=Math.imul(ma,ru),$s=$s+Math.imul(Xa,Sa)|0,Ks=Math.imul(Xa,ru),Q=Q+Math.imul(_a,Ea)|0,$s=$s+Math.imul(_a,iu)|0,$s=$s+Math.imul(Za,Ea)|0,Ks=Ks+Math.imul(Za,iu)|0,Q=Q+Math.imul(ha,Ca)|0,$s=$s+Math.imul(ha,nu)|0,$s=$s+Math.imul(Ga,Ca)|0,Ks=Ks+Math.imul(Ga,nu)|0;var $u=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+($u>>>26)|0,$u&=67108863,Q=Math.imul(ma,Ea),$s=Math.imul(ma,iu),$s=$s+Math.imul(Xa,Ea)|0,Ks=Math.imul(Xa,iu),Q=Q+Math.imul(_a,Ca)|0,$s=$s+Math.imul(_a,nu)|0,$s=$s+Math.imul(Za,Ca)|0,Ks=Ks+Math.imul(Za,nu)|0;var Su=(Ms+Q|0)+(($s&8191)<<13)|0;Ms=(Ks+($s>>>13)|0)+(Su>>>26)|0,Su&=67108863,Q=Math.imul(ma,Ca),$s=Math.imul(ma,nu),$s=$s+Math.imul(Xa,Ca)|0,Ks=Math.imul(Xa,nu);var Dl=(Ms+Q|0)+(($s&8191)<<13)|0;return Ms=(Ks+($s>>>13)|0)+(Dl>>>26)|0,Dl&=67108863,Bs[0]=ou,Bs[1]=au,Bs[2]=uu,Bs[3]=cu,Bs[4]=lu,Bs[5]=du,Bs[6]=fu,Bs[7]=hu,Bs[8]=pu,Bs[9]=mu,Bs[10]=gu,Bs[11]=_u,Bs[12]=bu,Bs[13]=vu,Bs[14]=yu,Bs[15]=wu,Bs[16]=$u,Bs[17]=Su,Bs[18]=Dl,Ms!==0&&(Bs[19]=Ms,vs.length++),vs};Math.imul||(zs=Gs);function Vs(f,Y,nt){nt.negative=Y.negative^f.negative,nt.length=f.length+Y.length;for(var vs=0,ks=0,Ds=0;Ds<nt.length-1;Ds++){var Bs=ks;ks=0;for(var Ms=vs&67108863,Q=Math.min(Ds,Y.length-1),$s=Math.max(0,Ds-f.length+1);$s<=Q;$s++){var Ks=Ds-$s,jo=f.words[Ks]|0,Bo=Y.words[$s]|0,To=jo*Bo,Oo=To&67108863;Bs=Bs+(To/67108864|0)|0,Oo=Oo+Ms|0,Ms=Oo&67108863,Bs=Bs+(Oo>>>26)|0,ks+=Bs>>>26,Bs&=67108863}nt.words[Ds]=Ms,vs=Bs,Bs=ks}return vs!==0?nt.words[Ds]=vs:nt.length--,nt._strip()}function Zs(f,Y,nt){return Vs(f,Y,nt)}l.prototype.mulTo=function(Y,nt){var vs,ks=this.length+Y.length;return this.length===10&&Y.length===10?vs=zs(this,Y,nt):ks<63?vs=Gs(this,Y,nt):ks<1024?vs=Vs(this,Y,nt):vs=Zs(this,Y,nt),vs},l.prototype.mul=function(Y){var nt=new l(null);return nt.words=new Array(this.length+Y.length),this.mulTo(Y,nt)},l.prototype.mulf=function(Y){var nt=new l(null);return nt.words=new Array(this.length+Y.length),Zs(this,Y,nt)},l.prototype.imul=function(Y){return this.clone().mulTo(Y,this)},l.prototype.imuln=function(Y){var nt=Y<0;nt&&(Y=-Y),s(typeof Y=="number"),s(Y<67108864);for(var vs=0,ks=0;ks<this.length;ks++){var Ds=(this.words[ks]|0)*Y,Bs=(Ds&67108863)+(vs&67108863);vs>>=26,vs+=Ds/67108864|0,vs+=Bs>>>26,this.words[ks]=Bs&67108863}return vs!==0&&(this.words[ks]=vs,this.length++),nt?this.ineg():this},l.prototype.muln=function(Y){return this.clone().imuln(Y)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(Y){var nt=Ls(Y);if(nt.length===0)return new l(1);for(var vs=this,ks=0;ks<nt.length&&nt[ks]===0;ks++,vs=vs.sqr());if(++ks<nt.length)for(var Ds=vs.sqr();ks<nt.length;ks++,Ds=Ds.sqr())nt[ks]!==0&&(vs=vs.mul(Ds));return vs},l.prototype.iushln=function(Y){s(typeof Y=="number"&&Y>=0);var nt=Y%26,vs=(Y-nt)/26,ks=67108863>>>26-nt<<26-nt,Ds;if(nt!==0){var Bs=0;for(Ds=0;Ds<this.length;Ds++){var Ms=this.words[Ds]&ks,Q=(this.words[Ds]|0)-Ms<<nt;this.words[Ds]=Q|Bs,Bs=Ms>>>26-nt}Bs&&(this.words[Ds]=Bs,this.length++)}if(vs!==0){for(Ds=this.length-1;Ds>=0;Ds--)this.words[Ds+vs]=this.words[Ds];for(Ds=0;Ds<vs;Ds++)this.words[Ds]=0;this.length+=vs}return this._strip()},l.prototype.ishln=function(Y){return s(this.negative===0),this.iushln(Y)},l.prototype.iushrn=function(Y,nt,vs){s(typeof Y=="number"&&Y>=0);var ks;nt?ks=(nt-nt%26)/26:ks=0;var Ds=Y%26,Bs=Math.min((Y-Ds)/26,this.length),Ms=67108863^67108863>>>Ds<<Ds,Q=vs;if(ks-=Bs,ks=Math.max(0,ks),Q){for(var $s=0;$s<Bs;$s++)Q.words[$s]=this.words[$s];Q.length=Bs}if(Bs!==0)if(this.length>Bs)for(this.length-=Bs,$s=0;$s<this.length;$s++)this.words[$s]=this.words[$s+Bs];else this.words[0]=0,this.length=1;var Ks=0;for($s=this.length-1;$s>=0&&(Ks!==0||$s>=ks);$s--){var jo=this.words[$s]|0;this.words[$s]=Ks<<26-Ds|jo>>>Ds,Ks=jo&Ms}return Q&&Ks!==0&&(Q.words[Q.length++]=Ks),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(Y,nt,vs){return s(this.negative===0),this.iushrn(Y,nt,vs)},l.prototype.shln=function(Y){return this.clone().ishln(Y)},l.prototype.ushln=function(Y){return this.clone().iushln(Y)},l.prototype.shrn=function(Y){return this.clone().ishrn(Y)},l.prototype.ushrn=function(Y){return this.clone().iushrn(Y)},l.prototype.testn=function(Y){s(typeof Y=="number"&&Y>=0);var nt=Y%26,vs=(Y-nt)/26,ks=1<<nt;if(this.length<=vs)return!1;var Ds=this.words[vs];return!!(Ds&ks)},l.prototype.imaskn=function(Y){s(typeof Y=="number"&&Y>=0);var nt=Y%26,vs=(Y-nt)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=vs)return this;if(nt!==0&&vs++,this.length=Math.min(vs,this.length),nt!==0){var ks=67108863^67108863>>>nt<<nt;this.words[this.length-1]&=ks}return this._strip()},l.prototype.maskn=function(Y){return this.clone().imaskn(Y)},l.prototype.iaddn=function(Y){return s(typeof Y=="number"),s(Y<67108864),Y<0?this.isubn(-Y):this.negative!==0?this.length===1&&(this.words[0]|0)<=Y?(this.words[0]=Y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Y),this.negative=1,this):this._iaddn(Y)},l.prototype._iaddn=function(Y){this.words[0]+=Y;for(var nt=0;nt<this.length&&this.words[nt]>=67108864;nt++)this.words[nt]-=67108864,nt===this.length-1?this.words[nt+1]=1:this.words[nt+1]++;return this.length=Math.max(this.length,nt+1),this},l.prototype.isubn=function(Y){if(s(typeof Y=="number"),s(Y<67108864),Y<0)return this.iaddn(-Y);if(this.negative!==0)return this.negative=0,this.iaddn(Y),this.negative=1,this;if(this.words[0]-=Y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var nt=0;nt<this.length&&this.words[nt]<0;nt++)this.words[nt]+=67108864,this.words[nt+1]-=1;return this._strip()},l.prototype.addn=function(Y){return this.clone().iaddn(Y)},l.prototype.subn=function(Y){return this.clone().isubn(Y)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(Y,nt,vs){var ks=Y.length+vs,Ds;this._expand(ks);var Bs,Ms=0;for(Ds=0;Ds<Y.length;Ds++){Bs=(this.words[Ds+vs]|0)+Ms;var Q=(Y.words[Ds]|0)*nt;Bs-=Q&67108863,Ms=(Bs>>26)-(Q/67108864|0),this.words[Ds+vs]=Bs&67108863}for(;Ds<this.length-vs;Ds++)Bs=(this.words[Ds+vs]|0)+Ms,Ms=Bs>>26,this.words[Ds+vs]=Bs&67108863;if(Ms===0)return this._strip();for(s(Ms===-1),Ms=0,Ds=0;Ds<this.length;Ds++)Bs=-(this.words[Ds]|0)+Ms,Ms=Bs>>26,this.words[Ds]=Bs&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(Y,nt){var vs=this.length-Y.length,ks=this.clone(),Ds=Y,Bs=Ds.words[Ds.length-1]|0,Ms=this._countBits(Bs);vs=26-Ms,vs!==0&&(Ds=Ds.ushln(vs),ks.iushln(vs),Bs=Ds.words[Ds.length-1]|0);var Q=ks.length-Ds.length,$s;if(nt!=="mod"){$s=new l(null),$s.length=Q+1,$s.words=new Array($s.length);for(var Ks=0;Ks<$s.length;Ks++)$s.words[Ks]=0}var jo=ks.clone()._ishlnsubmul(Ds,1,Q);jo.negative===0&&(ks=jo,$s&&($s.words[Q]=1));for(var Bo=Q-1;Bo>=0;Bo--){var To=(ks.words[Ds.length+Bo]|0)*67108864+(ks.words[Ds.length+Bo-1]|0);for(To=Math.min(To/Bs|0,67108863),ks._ishlnsubmul(Ds,To,Bo);ks.negative!==0;)To--,ks.negative=0,ks._ishlnsubmul(Ds,1,Bo),ks.isZero()||(ks.negative^=1);$s&&($s.words[Bo]=To)}return $s&&$s._strip(),ks._strip(),nt!=="div"&&vs!==0&&ks.iushrn(vs),{div:$s||null,mod:ks}},l.prototype.divmod=function(Y,nt,vs){if(s(!Y.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var ks,Ds,Bs;return this.negative!==0&&Y.negative===0?(Bs=this.neg().divmod(Y,nt),nt!=="mod"&&(ks=Bs.div.neg()),nt!=="div"&&(Ds=Bs.mod.neg(),vs&&Ds.negative!==0&&Ds.iadd(Y)),{div:ks,mod:Ds}):this.negative===0&&Y.negative!==0?(Bs=this.divmod(Y.neg(),nt),nt!=="mod"&&(ks=Bs.div.neg()),{div:ks,mod:Bs.mod}):this.negative&Y.negative?(Bs=this.neg().divmod(Y.neg(),nt),nt!=="div"&&(Ds=Bs.mod.neg(),vs&&Ds.negative!==0&&Ds.isub(Y)),{div:Bs.div,mod:Ds}):Y.length>this.length||this.cmp(Y)<0?{div:new l(0),mod:this}:Y.length===1?nt==="div"?{div:this.divn(Y.words[0]),mod:null}:nt==="mod"?{div:null,mod:new l(this.modrn(Y.words[0]))}:{div:this.divn(Y.words[0]),mod:new l(this.modrn(Y.words[0]))}:this._wordDiv(Y,nt)},l.prototype.div=function(Y){return this.divmod(Y,"div",!1).div},l.prototype.mod=function(Y){return this.divmod(Y,"mod",!1).mod},l.prototype.umod=function(Y){return this.divmod(Y,"mod",!0).mod},l.prototype.divRound=function(Y){var nt=this.divmod(Y);if(nt.mod.isZero())return nt.div;var vs=nt.div.negative!==0?nt.mod.isub(Y):nt.mod,ks=Y.ushrn(1),Ds=Y.andln(1),Bs=vs.cmp(ks);return Bs<0||Ds===1&&Bs===0?nt.div:nt.div.negative!==0?nt.div.isubn(1):nt.div.iaddn(1)},l.prototype.modrn=function(Y){var nt=Y<0;nt&&(Y=-Y),s(Y<=67108863);for(var vs=(1<<26)%Y,ks=0,Ds=this.length-1;Ds>=0;Ds--)ks=(vs*ks+(this.words[Ds]|0))%Y;return nt?-ks:ks},l.prototype.modn=function(Y){return this.modrn(Y)},l.prototype.idivn=function(Y){var nt=Y<0;nt&&(Y=-Y),s(Y<=67108863);for(var vs=0,ks=this.length-1;ks>=0;ks--){var Ds=(this.words[ks]|0)+vs*67108864;this.words[ks]=Ds/Y|0,vs=Ds%Y}return this._strip(),nt?this.ineg():this},l.prototype.divn=function(Y){return this.clone().idivn(Y)},l.prototype.egcd=function(Y){s(Y.negative===0),s(!Y.isZero());var nt=this,vs=Y.clone();nt.negative!==0?nt=nt.umod(Y):nt=nt.clone();for(var ks=new l(1),Ds=new l(0),Bs=new l(0),Ms=new l(1),Q=0;nt.isEven()&&vs.isEven();)nt.iushrn(1),vs.iushrn(1),++Q;for(var $s=vs.clone(),Ks=nt.clone();!nt.isZero();){for(var jo=0,Bo=1;!(nt.words[0]&Bo)&&jo<26;++jo,Bo<<=1);if(jo>0)for(nt.iushrn(jo);jo-- >0;)(ks.isOdd()||Ds.isOdd())&&(ks.iadd($s),Ds.isub(Ks)),ks.iushrn(1),Ds.iushrn(1);for(var To=0,Oo=1;!(vs.words[0]&Oo)&&To<26;++To,Oo<<=1);if(To>0)for(vs.iushrn(To);To-- >0;)(Bs.isOdd()||Ms.isOdd())&&(Bs.iadd($s),Ms.isub(Ks)),Bs.iushrn(1),Ms.iushrn(1);nt.cmp(vs)>=0?(nt.isub(vs),ks.isub(Bs),Ds.isub(Ms)):(vs.isub(nt),Bs.isub(ks),Ms.isub(Ds))}return{a:Bs,b:Ms,gcd:vs.iushln(Q)}},l.prototype._invmp=function(Y){s(Y.negative===0),s(!Y.isZero());var nt=this,vs=Y.clone();nt.negative!==0?nt=nt.umod(Y):nt=nt.clone();for(var ks=new l(1),Ds=new l(0),Bs=vs.clone();nt.cmpn(1)>0&&vs.cmpn(1)>0;){for(var Ms=0,Q=1;!(nt.words[0]&Q)&&Ms<26;++Ms,Q<<=1);if(Ms>0)for(nt.iushrn(Ms);Ms-- >0;)ks.isOdd()&&ks.iadd(Bs),ks.iushrn(1);for(var $s=0,Ks=1;!(vs.words[0]&Ks)&&$s<26;++$s,Ks<<=1);if($s>0)for(vs.iushrn($s);$s-- >0;)Ds.isOdd()&&Ds.iadd(Bs),Ds.iushrn(1);nt.cmp(vs)>=0?(nt.isub(vs),ks.isub(Ds)):(vs.isub(nt),Ds.isub(ks))}var jo;return nt.cmpn(1)===0?jo=ks:jo=Ds,jo.cmpn(0)<0&&jo.iadd(Y),jo},l.prototype.gcd=function(Y){if(this.isZero())return Y.abs();if(Y.isZero())return this.abs();var nt=this.clone(),vs=Y.clone();nt.negative=0,vs.negative=0;for(var ks=0;nt.isEven()&&vs.isEven();ks++)nt.iushrn(1),vs.iushrn(1);do{for(;nt.isEven();)nt.iushrn(1);for(;vs.isEven();)vs.iushrn(1);var Ds=nt.cmp(vs);if(Ds<0){var Bs=nt;nt=vs,vs=Bs}else if(Ds===0||vs.cmpn(1)===0)break;nt.isub(vs)}while(!0);return vs.iushln(ks)},l.prototype.invm=function(Y){return this.egcd(Y).a.umod(Y)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(Y){return this.words[0]&Y},l.prototype.bincn=function(Y){s(typeof Y=="number");var nt=Y%26,vs=(Y-nt)/26,ks=1<<nt;if(this.length<=vs)return this._expand(vs+1),this.words[vs]|=ks,this;for(var Ds=ks,Bs=vs;Ds!==0&&Bs<this.length;Bs++){var Ms=this.words[Bs]|0;Ms+=Ds,Ds=Ms>>>26,Ms&=67108863,this.words[Bs]=Ms}return Ds!==0&&(this.words[Bs]=Ds,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(Y){var nt=Y<0;if(this.negative!==0&&!nt)return-1;if(this.negative===0&&nt)return 1;this._strip();var vs;if(this.length>1)vs=1;else{nt&&(Y=-Y),s(Y<=67108863,"Number is too big");var ks=this.words[0]|0;vs=ks===Y?0:ks<Y?-1:1}return this.negative!==0?-vs|0:vs},l.prototype.cmp=function(Y){if(this.negative!==0&&Y.negative===0)return-1;if(this.negative===0&&Y.negative!==0)return 1;var nt=this.ucmp(Y);return this.negative!==0?-nt|0:nt},l.prototype.ucmp=function(Y){if(this.length>Y.length)return 1;if(this.length<Y.length)return-1;for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=this.words[vs]|0,Ds=Y.words[vs]|0;if(ks!==Ds){ks<Ds?nt=-1:ks>Ds&&(nt=1);break}}return nt},l.prototype.gtn=function(Y){return this.cmpn(Y)===1},l.prototype.gt=function(Y){return this.cmp(Y)===1},l.prototype.gten=function(Y){return this.cmpn(Y)>=0},l.prototype.gte=function(Y){return this.cmp(Y)>=0},l.prototype.ltn=function(Y){return this.cmpn(Y)===-1},l.prototype.lt=function(Y){return this.cmp(Y)===-1},l.prototype.lten=function(Y){return this.cmpn(Y)<=0},l.prototype.lte=function(Y){return this.cmp(Y)<=0},l.prototype.eqn=function(Y){return this.cmpn(Y)===0},l.prototype.eq=function(Y){return this.cmp(Y)===0},l.red=function(Y){return new Hs(Y)},l.prototype.toRed=function(Y){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),Y.convertTo(this)._forceRed(Y)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(Y){return this.red=Y,this},l.prototype.forceRed=function(Y){return s(!this.red,"Already a number in reduction context"),this._forceRed(Y)},l.prototype.redAdd=function(Y){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,Y)},l.prototype.redIAdd=function(Y){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Y)},l.prototype.redSub=function(Y){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,Y)},l.prototype.redISub=function(Y){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,Y)},l.prototype.redShl=function(Y){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,Y)},l.prototype.redMul=function(Y){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,Y),this.red.mul(this,Y)},l.prototype.redIMul=function(Y){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,Y),this.red.imul(this,Y)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(Y){return s(this.red&&!Y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Y)};var Js={k256:null,p224:null,p192:null,p25519:null};function xo(f,Y){this.name=f,this.p=new l(Y,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xo.prototype._tmp=function(){var Y=new l(null);return Y.words=new Array(Math.ceil(this.n/13)),Y},xo.prototype.ireduce=function(Y){var nt=Y,vs;do this.split(nt,this.tmp),nt=this.imulK(nt),nt=nt.iadd(this.tmp),vs=nt.bitLength();while(vs>this.n);var ks=vs<this.n?-1:nt.ucmp(this.p);return ks===0?(nt.words[0]=0,nt.length=1):ks>0?nt.isub(this.p):nt.strip!==void 0?nt.strip():nt._strip(),nt},xo.prototype.split=function(Y,nt){Y.iushrn(this.n,0,nt)},xo.prototype.imulK=function(Y){return Y.imul(this.k)};function Io(){xo.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Io,xo),Io.prototype.split=function(Y,nt){for(var vs=4194303,ks=Math.min(Y.length,9),Ds=0;Ds<ks;Ds++)nt.words[Ds]=Y.words[Ds];if(nt.length=ks,Y.length<=9){Y.words[0]=0,Y.length=1;return}var Bs=Y.words[9];for(nt.words[nt.length++]=Bs&vs,Ds=10;Ds<Y.length;Ds++){var Ms=Y.words[Ds]|0;Y.words[Ds-10]=(Ms&vs)<<4|Bs>>>22,Bs=Ms}Bs>>>=22,Y.words[Ds-10]=Bs,Bs===0&&Y.length>10?Y.length-=10:Y.length-=9},Io.prototype.imulK=function(Y){Y.words[Y.length]=0,Y.words[Y.length+1]=0,Y.length+=2;for(var nt=0,vs=0;vs<Y.length;vs++){var ks=Y.words[vs]|0;nt+=ks*977,Y.words[vs]=nt&67108863,nt=ks*64+(nt/67108864|0)}return Y.words[Y.length-1]===0&&(Y.length--,Y.words[Y.length-1]===0&&Y.length--),Y};function Uo(){xo.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Uo,xo);function Fo(){xo.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Fo,xo);function Ys(){xo.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ys,xo),Ys.prototype.imulK=function(Y){for(var nt=0,vs=0;vs<Y.length;vs++){var ks=(Y.words[vs]|0)*19+nt,Ds=ks&67108863;ks>>>=26,Y.words[vs]=Ds,nt=ks}return nt!==0&&(Y.words[Y.length++]=nt),Y},l._prime=function(Y){if(Js[Y])return Js[Y];var nt;if(Y==="k256")nt=new Io;else if(Y==="p224")nt=new Uo;else if(Y==="p192")nt=new Fo;else if(Y==="p25519")nt=new Ys;else throw new Error("Unknown prime "+Y);return Js[Y]=nt,nt};function Hs(f){if(typeof f=="string"){var Y=l._prime(f);this.m=Y.p,this.prime=Y}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}Hs.prototype._verify1=function(Y){s(Y.negative===0,"red works only with positives"),s(Y.red,"red works only with red numbers")},Hs.prototype._verify2=function(Y,nt){s((Y.negative|nt.negative)===0,"red works only with positives"),s(Y.red&&Y.red===nt.red,"red works only with red numbers")},Hs.prototype.imod=function(Y){return this.prime?this.prime.ireduce(Y)._forceRed(this):(xi(Y,Y.umod(this.m)._forceRed(this)),Y)},Hs.prototype.neg=function(Y){return Y.isZero()?Y.clone():this.m.sub(Y)._forceRed(this)},Hs.prototype.add=function(Y,nt){this._verify2(Y,nt);var vs=Y.add(nt);return vs.cmp(this.m)>=0&&vs.isub(this.m),vs._forceRed(this)},Hs.prototype.iadd=function(Y,nt){this._verify2(Y,nt);var vs=Y.iadd(nt);return vs.cmp(this.m)>=0&&vs.isub(this.m),vs},Hs.prototype.sub=function(Y,nt){this._verify2(Y,nt);var vs=Y.sub(nt);return vs.cmpn(0)<0&&vs.iadd(this.m),vs._forceRed(this)},Hs.prototype.isub=function(Y,nt){this._verify2(Y,nt);var vs=Y.isub(nt);return vs.cmpn(0)<0&&vs.iadd(this.m),vs},Hs.prototype.shl=function(Y,nt){return this._verify1(Y),this.imod(Y.ushln(nt))},Hs.prototype.imul=function(Y,nt){return this._verify2(Y,nt),this.imod(Y.imul(nt))},Hs.prototype.mul=function(Y,nt){return this._verify2(Y,nt),this.imod(Y.mul(nt))},Hs.prototype.isqr=function(Y){return this.imul(Y,Y.clone())},Hs.prototype.sqr=function(Y){return this.mul(Y,Y)},Hs.prototype.sqrt=function(Y){if(Y.isZero())return Y.clone();var nt=this.m.andln(3);if(s(nt%2===1),nt===3){var vs=this.m.add(new l(1)).iushrn(2);return this.pow(Y,vs)}for(var ks=this.m.subn(1),Ds=0;!ks.isZero()&&ks.andln(1)===0;)Ds++,ks.iushrn(1);s(!ks.isZero());var Bs=new l(1).toRed(this),Ms=Bs.redNeg(),Q=this.m.subn(1).iushrn(1),$s=this.m.bitLength();for($s=new l(2*$s*$s).toRed(this);this.pow($s,Q).cmp(Ms)!==0;)$s.redIAdd(Ms);for(var Ks=this.pow($s,ks),jo=this.pow(Y,ks.addn(1).iushrn(1)),Bo=this.pow(Y,ks),To=Ds;Bo.cmp(Bs)!==0;){for(var Oo=Bo,Vo=0;Oo.cmp(Bs)!==0;Vo++)Oo=Oo.redSqr();s(Vo<To);var zo=this.pow(Ks,new l(1).iushln(To-Vo-1));jo=jo.redMul(zo),Ks=zo.redSqr(),Bo=Bo.redMul(Ks),To=Vo}return jo},Hs.prototype.invm=function(Y){var nt=Y._invmp(this.m);return nt.negative!==0?(nt.negative=0,this.imod(nt).redNeg()):this.imod(nt)},Hs.prototype.pow=function(Y,nt){if(nt.isZero())return new l(1).toRed(this);if(nt.cmpn(1)===0)return Y.clone();var vs=4,ks=new Array(1<<vs);ks[0]=new l(1).toRed(this),ks[1]=Y;for(var Ds=2;Ds<ks.length;Ds++)ks[Ds]=this.mul(ks[Ds-1],Y);var Bs=ks[0],Ms=0,Q=0,$s=nt.bitLength()%26;for($s===0&&($s=26),Ds=nt.length-1;Ds>=0;Ds--){for(var Ks=nt.words[Ds],jo=$s-1;jo>=0;jo--){var Bo=Ks>>jo&1;if(Bs!==ks[0]&&(Bs=this.sqr(Bs)),Bo===0&&Ms===0){Q=0;continue}Ms<<=1,Ms|=Bo,Q++,!(Q!==vs&&(Ds!==0||jo!==0))&&(Bs=this.mul(Bs,ks[Ms]),Q=0,Ms=0)}$s=26}return Bs},Hs.prototype.convertTo=function(Y){var nt=Y.umod(this.m);return nt===Y?nt.clone():nt},Hs.prototype.convertFrom=function(Y){var nt=Y.clone();return nt.red=null,nt},l.mont=function(Y){return new Ws(Y)};function Ws(f){Hs.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ws,Hs),Ws.prototype.convertTo=function(Y){return this.imod(Y.ushln(this.shift))},Ws.prototype.convertFrom=function(Y){var nt=this.imod(Y.mul(this.rinv));return nt.red=null,nt},Ws.prototype.imul=function(Y,nt){if(Y.isZero()||nt.isZero())return Y.words[0]=0,Y.length=1,Y;var vs=Y.imul(nt),ks=vs.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ds=vs.isub(ks).iushrn(this.shift),Bs=Ds;return Ds.cmp(this.m)>=0?Bs=Ds.isub(this.m):Ds.cmpn(0)<0&&(Bs=Ds.iadd(this.m)),Bs._forceRed(this)},Ws.prototype.mul=function(Y,nt){if(Y.isZero()||nt.isZero())return new l(0)._forceRed(this);var vs=Y.mul(nt),ks=vs.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ds=vs.isub(ks).iushrn(this.shift),Bs=Ds;return Ds.cmp(this.m)>=0?Bs=Ds.isub(this.m):Ds.cmpn(0)<0&&(Bs=Ds.iadd(this.m)),Bs._forceRed(this)},Ws.prototype.invm=function(Y){var nt=this.imod(Y._invmp(this.m).mul(this.r2));return nt._forceRed(this)}})(typeof e>"u"||e,t)}}),EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P$2={toStringTag:tag};P$2.absoluteValue=P$2.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),finalise(t)};P$2.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$2.clampedTo=P$2.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(invalidArgument+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};P$2.comparedTo=P$2.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};P$2.cosine=P$2.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+LOG_BASE,n.rounding=1,i=cosine(n,toLessThanHalfPi(n,i)),n.precision=t,n.rounding=e,finalise(quadrant==2||quadrant==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};P$2.cubeRoot=P$2.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(external=!1,a=et.s*mathpow(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=digitsToString(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=mathpow(i,1/3),t=mathfloor((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=divide(q.plus(et).times(A),q.plus(T),l+2,1),digitsToString(A.d).slice(0,l)===(i=digitsToString(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(finalise(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(finalise(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return external=!0,finalise(n,t,xi.rounding,e)};P$2.decimalPlaces=P$2.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-mathfloor(this.e/LOG_BASE))*LOG_BASE,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};P$2.dividedBy=P$2.div=function(t){return divide(this,new this.constructor(t))};P$2.dividedToIntegerBy=P$2.divToInt=function(t){var e=this,i=e.constructor;return finalise(divide(e,new i(t),0,1,1),i.precision,i.rounding)};P$2.equals=P$2.eq=function(t){return this.cmp(t)===0};P$2.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$2.greaterThan=P$2.gt=function(t){return this.cmp(t)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(t){var e=this.cmp(t);return e==1||e===0};P$2.hyperbolicCosine=P$2.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/tinyPow(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=taylorSeries(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return finalise(a,l.precision=i,l.rounding=n,!0)};P$2.hyperbolicSine=P$2.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=taylorSeries(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/tinyPow(5,t)),s=taylorSeries(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,finalise(s,e,i,!0)};P$2.hyperbolicTangent=P$2.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,divide(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};P$2.inverseCosine=P$2.acos=function(){var t,e=this,i=e.constructor,n=e.abs().cmp(1),s=i.precision,a=i.rounding;return n!==-1?n===0?e.isNeg()?getPi(i,s,a):new i(0):new i(NaN):e.isZero()?getPi(i,s+4,a).times(.5):(i.precision=s+6,i.rounding=1,e=e.asin(),t=getPi(i,s+4,a).times(.5),i.precision=s,i.rounding=a,t.minus(e))};P$2.inverseHyperbolicCosine=P$2.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,external=!1,i=i.times(i).minus(1).sqrt().plus(i),external=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};P$2.inverseHyperbolicSine=P$2.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,external=!1,i=i.times(i).plus(1).sqrt().plus(i),external=!0,n.precision=t,n.rounding=e,i.ln())};P$2.inverseHyperbolicTangent=P$2.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?finalise(new a(s),t,e,!0):(a.precision=i=n-s.e,s=divide(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};P$2.inverseSine=P$2.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=getPi(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};P$2.inverseTangent=P$2.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=PI_PRECISION)return l=getPi(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=PI_PRECISION)return l=getPi(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/LOG_BASE+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(external=!1,e=Math.ceil(A/LOG_BASE),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),external=!0,finalise(l,et.precision=xi,et.rounding=Oi,!0)};P$2.isFinite=function(){return!!this.d};P$2.isInteger=P$2.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$2.isNaN=function(){return!this.s};P$2.isNegative=P$2.isNeg=function(){return this.s<0};P$2.isPositive=P$2.isPos=function(){return this.s>0};P$2.isZero=function(){return!!this.d&&this.d[0]===0};P$2.lessThan=P$2.lt=function(t){return this.cmp(t)<0};P$2.lessThanOrEqualTo=P$2.lte=function(t){return this.cmp(t)<1};P$2.logarithm=P$2.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(external=!1,A=xi+Ts,l=naturalLogarithm(q,A),n=e?getLn10(et,A+10):naturalLogarithm(t,A),T=divide(l,n,A,1),checkRoundingDigits(T.d,s=xi,Oi))do if(A+=10,l=naturalLogarithm(q,A),n=e?getLn10(et,A+10):naturalLogarithm(t,A),T=divide(l,n,A,1),!a){+digitsToString(T.d).slice(s+1,s+15)+1==1e14&&(T=finalise(T,xi+1,0));break}while(checkRoundingDigits(T.d,s+=10,Oi));return external=!0,finalise(T,xi,Oi)};P$2.minus=P$2.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return external?finalise(t,A,T):t}if(i=mathfloor(t.e/LOG_BASE),et=mathfloor(Ts.e/LOG_BASE),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/LOG_BASE),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=BASE-1;--q[s],q[n]+=BASE}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=getBase10Exponent(q,i),external?finalise(t,A,T):t):new Fs(T===3?-0:0)};P$2.modulo=P$2.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?finalise(new n(i),n.precision,n.rounding):(external=!1,n.modulo==9?(e=divide(i,t.abs(),0,3,1),e.s*=t.s):e=divide(i,t,0,n.modulo,1),e=e.times(t),external=!0,i.minus(e))};P$2.naturalExponential=P$2.exp=function(){return naturalExponential(this)};P$2.naturalLogarithm=P$2.ln=function(){return naturalLogarithm(this)};P$2.negated=P$2.neg=function(){var t=new this.constructor(this);return t.s=-t.s,finalise(t)};P$2.plus=P$2.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),external?finalise(t,A,T):t;if(a=mathfloor(xi.e/LOG_BASE),n=mathfloor(t.e/LOG_BASE),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/LOG_BASE),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/BASE|0,q[s]%=BASE;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=getBase10Exponent(q,n),external?finalise(t,A,T):t};P$2.precision=P$2.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);return i.d?(e=getPrecision(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};P$2.round=function(){var t=this,e=t.constructor;return finalise(new e(t),t.e+1,e.rounding)};P$2.sine=P$2.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+LOG_BASE,n.rounding=1,i=sine(n,toLessThanHalfPi(n,i)),n.precision=t,n.rounding=e,finalise(quadrant>2?i.neg():i,t,e,!0)):new n(NaN)};P$2.squareRoot=P$2.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(external=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=digitsToString(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=mathfloor((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus(divide(l,a,i+2,1)).times(.5),digitsToString(a.d).slice(0,i)===(e=digitsToString(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(finalise(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(finalise(n,T+1,1),t=!n.times(n).eq(l));break}return external=!0,finalise(n,T,et.rounding,t)};P$2.tangent=P$2.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=divide(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,finalise(quadrant==2||quadrant==4?i.neg():i,t,e,!0)):new n(NaN)};P$2.times=P$2.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=mathfloor(et.e/LOG_BASE)+mathfloor(t.e/LOG_BASE),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%BASE|0,e=A/BASE|0;a[s]=(a[s]+e)%BASE|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=getBase10Exponent(a,i),external?finalise(t,xi.precision,xi.rounding):t};P$2.toBinary=function(t,e){return toStringBinary(this,2,t,e)};P$2.toDecimalPlaces=P$2.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(checkInt32(t,0,MAX_DIGITS),e===void 0?e=n.rounding:checkInt32(e,0,8),finalise(i,t+i.e+1,e))};P$2.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=finiteToString(n,!0):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=s.rounding:checkInt32(e,0,8),n=finalise(new s(n),t+1,e),i=finiteToString(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};P$2.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=finiteToString(s):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=a.rounding:checkInt32(e,0,8),n=finalise(new a(s),t+s.e+1,e),i=finiteToString(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};P$2.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=getPrecision(Fs)-Ts.e-1,l=a%LOG_BASE,e.d[0]=mathpow(10,l<0?LOG_BASE+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error(invalidArgument+A);t=A.gt(e)?a>0?e:q:A}for(external=!1,A=new qs(digitsToString(Fs)),et=qs.precision,qs.precision=a=Fs.length*LOG_BASE*2;xi=divide(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=divide(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=divide(q,n,a,1).minus(Ts).abs().cmp(divide(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,external=!0,Oi};P$2.toHexadecimal=P$2.toHex=function(t,e){return toStringBinary(this,16,t,e)};P$2.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:checkInt32(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(external=!1,i=divide(i,t,0,e,1).times(t),external=!0,finalise(i)):(t.s=i.s,i=t),i};P$2.toNumber=function(){return+this};P$2.toOctal=function(t,e){return toStringBinary(this,8,t,e)};P$2.toPower=P$2.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(mathpow(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return finalise(A,n,a);if(e=mathfloor(t.e/LOG_BASE),e>=t.d.length-1&&(i=q<0?-q:q)<=MAX_SAFE_INTEGER)return s=intPow(T,A,i,n),t.s<0?new T(1).div(s):finalise(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(t.d[e]&1||(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=mathpow(+A,q),e=i==0||!isFinite(i)?mathfloor(q*(Math.log("0."+digitsToString(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(external=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=naturalExponential(t.times(naturalLogarithm(A,n+i)),n),s.d&&(s=finalise(s,n+5,1),checkRoundingDigits(s.d,n,a)&&(e=n+10,s=finalise(naturalExponential(t.times(naturalLogarithm(A,e+i)),e),e+5,1),+digitsToString(s.d).slice(n+1,n+15)+1==1e14&&(s=finalise(s,n+1,0)))),s.s=l,external=!0,T.rounding=a,finalise(s,n,a))};P$2.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=finiteToString(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=s.rounding:checkInt32(e,0,8),n=finalise(new s(n),t,e),i=finiteToString(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};P$2.toSignificantDigits=P$2.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=n.rounding:checkInt32(e,0,8)),finalise(new n(i),t,e)};P$2.toString=function(){var t=this,e=t.constructor,i=finiteToString(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};P$2.truncated=P$2.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$2.valueOf=P$2.toJSON=function(){var t=this,e=t.constructor,i=finiteToString(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function digitsToString(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=LOG_BASE-n.length,i&&(a+=getZeroString(i)),a+=n;l=t[e],n=l+"",i=LOG_BASE-n.length,i&&(a+=getZeroString(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function checkInt32(t,e,i){if(t!==~~t||t<e||t>i)throw Error(invalidArgument+t)}function checkRoundingDigits(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=LOG_BASE,s=0):(s=Math.ceil((e+1)/LOG_BASE),e%=LOG_BASE),a=mathpow(10,LOG_BASE-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==mathpow(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==mathpow(10,e-3)-1,l}function convertBase(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=NUMERALS.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function cosine(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/tinyPow(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=taylorSeries(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var divide=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=BASE,Ts=LOG_BASE,et=mathfloor(n.e/Ts)-mathfloor(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,inexact=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,finalise(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function finalise(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=LOG_BASE,l=e,et=xi[Oi=0],T=et/mathpow(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/LOG_BASE),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=LOG_BASE,l=a-LOG_BASE+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=LOG_BASE,l=a-LOG_BASE+s,T=l<0?0:et/mathpow(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%mathpow(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/mathpow(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=mathpow(10,LOG_BASE-a),xi[Oi]=l>0?(et/mathpow(10,s-l)%mathpow(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==BASE&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=BASE)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return external&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function finiteToString(t,e,i){if(!t.isFinite())return nonFiniteToString(t);var n,s=t.e,a=digitsToString(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+getZeroString(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+getZeroString(-s-1)+a,i&&(n=i-l)>0&&(a+=getZeroString(n))):s>=l?(a+=getZeroString(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+getZeroString(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=getZeroString(n))),a}function getBase10Exponent(t,e){var i=t[0];for(e*=LOG_BASE;i>=10;i/=10)e++;return e}function getLn10(t,e,i){if(e>LN10_PRECISION)throw external=!0,i&&(t.precision=i),Error(precisionLimitExceeded);return finalise(new t(LN10),e,1,!0)}function getPi(t,e,i){if(e>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new t(PI),e,i,!0)}function getPrecision(t){var e=t.length-1,i=e*LOG_BASE+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function getZeroString(t){for(var e="";t--;)e+="0";return e}function intPow(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/LOG_BASE+4);for(external=!1;;){if(i%2&&(a=a.times(e),truncate(a.d,l)&&(s=!0)),i=mathfloor(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),truncate(e.d,l)}return external=!0,a}function isOdd(t){return t.d[t.d.length-1]&1}function maxOrMin(t,e,i){for(var n,s=new t(e[0]),a=0;++a<e.length;)if(n=new t(e[a]),n.s)s[i](n)&&(s=n);else{s=n;break}return s}function naturalExponential(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(external=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(mathpow(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=finalise(a.times(t),T,1),i=i.times(++et),A=l.plus(divide(a,i,T,1)),digitsToString(A.d).slice(0,T)===digitsToString(l.d).slice(0,T)){for(s=xi;s--;)l=finalise(l.times(l),T,1);if(e==null)if(q<3&&checkRoundingDigits(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return finalise(l,Oi.precision=Fs,Ts,external=!0);else return Oi.precision=Fs,l}l=A}}function naturalLogarithm(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(external=!1,et=zs):et=e,Ls.precision=et+=Fs,i=digitsToString(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=digitsToString(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=getLn10(Ls,et+2,zs).times(a+""),qs=naturalLogarithm(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?finalise(qs,zs,Gs,external=!0):qs;for(xi=qs,T=l=qs=divide(qs.minus(1),qs.plus(1),et,1),Oi=finalise(qs.times(qs),et,1),s=3;;){if(l=finalise(l.times(Oi),et,1),q=T.plus(divide(l,new Ls(s),et,1)),digitsToString(q.d).slice(0,et)===digitsToString(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(getLn10(Ls,et+2,zs).times(a+""))),T=divide(T,new Ls(Ts),et,1),e==null)if(checkRoundingDigits(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=divide(xi.minus(1),xi.plus(1),et,1),Oi=finalise(qs.times(qs),et,1),s=A=1;else return finalise(T,Ls.precision=zs,Gs,external=!0);else return Ls.precision=zs,T;T=q,s+=2}}function nonFiniteToString(t){return String(t.s*t.s/0)}function parseDecimal(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%LOG_BASE,i<0&&(n+=LOG_BASE),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=LOG_BASE;n<s;)t.d.push(+e.slice(n,n+=LOG_BASE));e=e.slice(n),n=LOG_BASE-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),external&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function parseOther(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(e))return parseDecimal(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(isHex.test(e))i=16,e=e.toLowerCase();else if(isBinary.test(e))i=2;else if(isOctal.test(e))i=8;else throw Error(invalidArgument+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=intPow(n,new n(i),a,a*2)),q=convertBase(e,i,BASE),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=getBase10Exponent(q,et),t.d=q,external=!1,l&&(t=divide(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?mathpow(2,T):Decimal.pow(2,T))),external=!0,t)}function sine(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:taylorSeries(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/tinyPow(5,i)),e=taylorSeries(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function taylorSeries(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/LOG_BASE);for(external=!1,T=i.times(i),A=new t(n);;){if(l=divide(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=divide(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return external=!0,l.d.length=et+1,l}function tinyPow(t,e){for(var i=t;--e;)i*=t;return i}function toLessThanHalfPi(t,e){var i,n=e.s<0,s=getPi(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return quadrant=n?4:1,e;if(i=e.divToInt(s),i.isZero())quadrant=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return quadrant=isOdd(i)?n?2:3:n?4:1,e;quadrant=isOdd(i)?n?1:4:n?3:2}return e.minus(s).abs()}function toStringBinary(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(checkInt32(i,1,MAX_DIGITS),n===void 0?n=Ts.rounding:checkInt32(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=nonFiniteToString(t);else{for(et=finiteToString(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=convertBase(finiteToString(Oi),10,s),Oi.e=Oi.d.length),xi=convertBase(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=divide(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=inexact),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=NUMERALS.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=convertBase(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=NUMERALS.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function truncate(t,e){if(t.length>e)return t.length=e,!0}function abs$1(t){return new this(t).abs()}function acos(t){return new this(t).acos()}function acosh(t){return new this(t).acosh()}function add(t,e){return new this(t).plus(e)}function asin(t){return new this(t).asin()}function asinh(t){return new this(t).asinh()}function atan(t){return new this(t).atan()}function atanh(t){return new this(t).atanh()}function atan2(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=getPi(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?getPi(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=getPi(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan(divide(t,e,a,1)),e=getPi(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(divide(t,e,a,1)),i}function cbrt(t){return new this(t).cbrt()}function ceil(t){return finalise(t=new this(t),t.e+1,2)}function clamp$1(t,e,i){return new this(t).clamp(e,i)}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=DEFAULTS[i]),(n=t[i])!==void 0)if(mathfloor(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error(invalidArgument+i+": "+n);if(i="crypto",s&&(this[i]=DEFAULTS[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(cryptoUnavailable);else this[i]=!1;else throw Error(invalidArgument+i+": "+n);return this}function cos(t){return new this(t).cos()}function cosh(t){return new this(t).cosh()}function clone(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,isDecimalInstance(a)){q.s=a.s,external?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;external?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}else if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return parseDecimal(q,a.toString())}else if(T!=="string")throw Error(invalidArgument+a);return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),isDecimal.test(a)?parseDecimal(q,a):parseOther(q,a)}if(s.prototype=P$2,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=config,s.clone=clone,s.isDecimal=isDecimalInstance,s.abs=abs$1,s.acos=acos,s.acosh=acosh,s.add=add,s.asin=asin,s.asinh=asinh,s.atan=atan,s.atanh=atanh,s.atan2=atan2,s.cbrt=cbrt,s.ceil=ceil,s.clamp=clamp$1,s.cos=cos,s.cosh=cosh,s.div=div,s.exp=exp,s.floor=floor$1,s.hypot=hypot,s.ln=ln$1,s.log=log,s.log10=log10,s.log2=log2,s.max=max$1,s.min=min$1,s.mod=mod,s.mul=mul,s.pow=pow$1,s.random=random,s.round=round$1,s.sign=sign$2,s.sin=sin,s.sinh=sinh,s.sqrt=sqrt,s.sub=sub,s.sum=sum,s.tan=tan,s.tanh=tanh,s.trunc=trunc,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function div(t,e){return new this(t).div(e)}function exp(t){return new this(t).exp()}function floor$1(t){return finalise(t=new this(t),t.e+1,3)}function hypot(){var t,e,i=new this(0);for(external=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return external=!0,new this(1/0);i=e}return external=!0,i.sqrt()}function isDecimalInstance(t){return t instanceof Decimal||t&&t.toStringTag===tag||!1}function ln$1(t){return new this(t).ln()}function log(t,e){return new this(t).log(e)}function log2(t){return new this(t).log(2)}function log10(t){return new this(t).log(10)}function max$1(){return maxOrMin(this,arguments,"lt")}function min$1(){return maxOrMin(this,arguments,"gt")}function mod(t,e){return new this(t).mod(e)}function mul(t,e){return new this(t).mul(e)}function pow$1(t,e){return new this(t).pow(e)}function random(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:checkInt32(t,1,MAX_DIGITS),n=Math.ceil(t/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(cryptoUnavailable);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=LOG_BASE,n&&t&&(s=mathpow(10,LOG_BASE-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=LOG_BASE)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<LOG_BASE&&(i-=LOG_BASE-n)}return l.e=i,l.d=A,l}function round$1(t){return finalise(t=new this(t),t.e+1,this.rounding)}function sign$2(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function sin(t){return new this(t).sin()}function sinh(t){return new this(t).sinh()}function sqrt(t){return new this(t).sqrt()}function sub(t,e){return new this(t).sub(e)}function sum(){var t=0,e=arguments,i=new this(e[t]);for(external=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return external=!0,finalise(i,this.precision,this.rounding)}function tan(t){return new this(t).tan()}function tanh(t){return new this(t).tanh()}function trunc(t){return finalise(t=new this(t),t.e+1,1)}P$2[Symbol.for("nodejs.util.inspect.custom")]=P$2.toString;P$2[Symbol.toStringTag]="Decimal";var Decimal=P$2.constructor=clone(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);var decimal_default=Decimal,import_bn5=__toESM(require_bn()),import_bn=__toESM(require_bn()),Aftermath=class{constructor(t){if(t!==0)throw new Error("Aftermath only supported on mainnet");this.slippage="900000000000000000",this.poolRegistry="0xfcc774493db2c45c79f688f88d28023a3e7d98e4ee9f48bbf5c7990f651577ae",this.protocolFeeVault="0xf194d9b1bcad972e45a7dd67dd49b3ee1e3357a00a50850c52cd51bb450e13b4",this.treasury="0x28e499dff5e864a2eafe476269a4f5035f1c16f338da7be18b103499abf271ce",this.insuranceFund="0xf0c40d67b078000e18032334c3325c47b9ec9f3d9ae4128be820d54663d14e3b",this.referrealVault="0x35d35b0e5b177593d8c3a801462485572fc30861e6ce96a55af6dc4730709278"}amountLimit(t){return new import_bn.default(t).mul(new import_bn.default(this.slippage)).div(new import_bn.default("1000000000000000000")).toString()}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l];if(i.extendedDetails==null)throw new Error("Extended details not supported");if(i.extendedDetails.aftermathLpSupplyType==null)throw new Error("LP supply type not supported");const xi=[e.object(i.id),e.object(this.poolRegistry),e.object(this.protocolFeeVault),e.object(this.treasury),e.object(this.insuranceFund),e.object(this.referrealVault),e.pure.u64(this.amountLimit(i.amountOut)),e.pure.u64(this.slippage),n],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::aftermath::${T}`,typeArguments:[q,et,i.extendedDetails.aftermathLpSupplyType],arguments:xi})})}},DEEPBOOK_PACKAGE_ID="0x000000000000000000000000000000000000000000000000000000000000dee9",DeepbookV2=class{constructor(t){if(t!==0)throw new Error("Aftermath only supported on mainnet")}getAccountCap(t,e){return __async(this,null,function*(){let i=50,n=null;for(;;){const s=t.getOwnedObjects({owner:e,cursor:n,limit:i,filter:{MoveModule:{package:DEEPBOOK_PACKAGE_ID,module:"custodian_v2"}}});if(s!=null&&s.data!=null){if(s.data.length!==0)return s.data[0].data.objectId;if(s.data.length<50)break}else break}return null})}getOrCreateAccountCap(t,e,i){return __async(this,null,function*(){let n=yield this.getAccountCap(e,i);return n!==null?{accountCap:t.object(n),isCreate:!1}:{accountCap:t.moveCall({target:`${DEEPBOOK_PACKAGE_ID}::clob_v2::create_account`,typeArguments:[],arguments:[]}),isCreate:!0}})}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=yield this.getOrCreateAccountCap(e,t.client,t.signer),Oi=[e.object(i.id),n,xi.accountCap,e.object(CLOCK_ADDRESS)],Ts=getAggregatorV2PublishedAt(t.publishedAtV2(),s),Fs=e.moveCall({target:`${Ts}::deepbook::${T}`,typeArguments:[q,et],arguments:Oi});return xi.isCreate&&e.transferObjects([xi.accountCap],t.signer),Fs})}},KriyaV2=class{constructor(t){if(t!==0)throw new Error("Kriya amm only supported on mainnet")}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(i.id),n],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::kriya_amm::${T}`,typeArguments:[q,et],arguments:xi})})}},KriyaV3=class{constructor(t){if(t!==0)throw new Error("Kriya clmm only supported on mainnet");this.version="0xf5145a7ac345ca8736cf8c76047d00d6d378f30e81be6f6eb557184d9de93c78"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(i.id),n,e.object(this.version),e.object(CLOCK_ADDRESS)],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::kriya_clmm::${T}`,typeArguments:[q,et],arguments:xi})})}},FlowxV2=class{constructor(t){if(t!==0)throw new Error("Flowx only supported on mainnet");this.container="0xb65dcbf63fd3ad5d0ebfbf334780dc9f785eff38a4459e37ab08fa79576ee511"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(this.container),n],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::flowx_amm::${T}`,typeArguments:[q,et],arguments:xi})})}},FlowxV3=class{constructor(t){if(t!==0)throw new Error("Flowx clmm only supported on mainnet");this.versioned="0x67624a1533b5aff5d0dfcf5e598684350efd38134d2d245f475524c03a64e656",this.poolRegistry="0x27565d24a4cd51127ac90e4074a841bbe356cca7bf5759ddc14a975be1632abc"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(this.poolRegistry),e.pure.u64(i.feeRate*1e6),n,e.object(this.versioned),e.object(CLOCK_ADDRESS)],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::flowx_clmm::${T}`,typeArguments:[q,et],arguments:xi})})}},Turbos=class{constructor(t){if(t!==0)throw new Error("Turbos only supported on mainnet");this.versioned="0xf1cf0e81048df168ebeb1b8030fad24b3e0b53ae827c25053fff0779c1445b6f"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l];if(i.extendedDetails==null)throw new Error("Extended details not supported");if(i.extendedDetails.turbosFeeType==null)throw new Error("Turbos fee type not supported");const xi=[e.object(i.id),n,e.object(CLOCK_ADDRESS),e.object(this.versioned)],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::turbos::${T}`,typeArguments:[q,et,i.extendedDetails.turbosFeeType],arguments:xi})})}},Cetus=class{constructor(t,e){this.globalConfig=t===0?"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f":"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",this.partner=e??(t===0?"0x639b5e433da31739e800cd085f356e64cae222966d0f1b11bd9dc76b322ff58b":"0x1f5fa5c820f40d43fc47815ad06d95e40a1942ff72a732a92e8ef4aa8cde70a5")}flash_swap(t,e,i,n,s){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["flash_swap_a2b",l,A]:["flash_swap_b2a",A,l];let xi=n?i.amountIn:i.amountOut;const Oi=[e.object(this.globalConfig),e.object(i.id),e.object(this.partner),e.pure.u64(xi),e.pure.bool(n),e.object(CLOCK_ADDRESS)],Ts=getAggregatorV2PublishedAt(t.publishedAtV2(),s),Fs=e.moveCall({target:`${Ts}::cetus::${T}`,typeArguments:[q,et],arguments:Oi});return{targetCoin:Fs[0],flashReceipt:Fs[1],payAmount:Fs[2]}}repay_flash_swap(t,e,i,n,s,a){const{direction:l,from:A,target:T}=i,[q,et,xi]=l?["repay_flash_swap_a2b",A,T]:["repay_flash_swap_b2a",T,A],Oi=[e.object(this.globalConfig),e.object(i.id),e.object(this.partner),n,s],Ts=getAggregatorV2PublishedAt(t.publishedAtV2(),a);return e.moveCall({target:`${Ts}::cetus::${q}`,typeArguments:[et,xi],arguments:Oi})[0]}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(this.globalConfig),e.object(i.id),e.object(this.partner),n,e.object(CLOCK_ADDRESS)],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::cetus::${T}`,typeArguments:[q,et],arguments:xi})})}};function composeType(t,...e){const i=Array.isArray(e[e.length-1])?e.pop():[];let s=[t,...e].filter(Boolean).join("::");return i&&i.length&&(s+=`<${i.join(", ")}>`),s}function extractStructTagFromType(t){var e;try{let i=t.replace(/\s/g,"");const n=i.match(/(<.+>)$/),s=(e=n==null?void 0:n[0])==null?void 0:e.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(s){i=i.slice(0,i.indexOf("<"));const T=extractStructTagFromType(i),q=__spreadProps(__spreadValues({},T),{type_arguments:s.map(et=>extractStructTagFromType(et).source_address)});return q.type_arguments=q.type_arguments.map(et=>CoinUtils.isSuiCoin(et)?et:extractStructTagFromType(et).source_address),q.source_address=composeType(q.full_address,q.type_arguments),q}const a=i.split("::"),A={full_address:i,address:i===GAS_TYPE_ARG||i===GAS_TYPE_ARG_LONG?"0x2":normalizeSuiObjectId$1(a[0]),module:a[1],name:a[2],type_arguments:[],source_address:""};return A.full_address=`${A.address}::${A.module}::${A.name}`,A.source_address=composeType(A.full_address,A.type_arguments),A}catch{return{full_address:t,address:"",module:"",name:"",type_arguments:[],source_address:t}}}function normalizeCoinType(t){return extractStructTagFromType(t).source_address}var COIN_TYPE="0x2::coin::Coin",COIN_TYPE_ARG_REGEX=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG="0x2::sui::SUI",GAS_TYPE_ARG_LONG="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinUtils=class wc{static getCoinTypeArg(e){const i=e.type.match(COIN_TYPE_ARG_REGEX);return i?i[1]:null}static isSUI(e){const i=wc.getCoinTypeArg(e);return i?wc.getCoinSymbol(i)==="SUI":!1}static getCoinSymbol(e){return e.substring(e.lastIndexOf(":")+1)}static getBalance(e){return BigInt(e.fields.balance)}static totalBalance(e,i){let n=BigInt(0);return e.forEach(s=>{i===s.coinAddress&&(n+=BigInt(s.balance))}),n}static getID(e){return e.fields.id.id}static getCoinTypeFromArg(e){return`${COIN_TYPE}<${e}>`}static getCoinAssets(e,i){const n=[];return i.forEach(s=>{normalizeCoinType(s.coinAddress)===normalizeCoinType(e)&&n.push(s)}),n}static isSuiCoin(e){return extractStructTagFromType(e).full_address===GAS_TYPE_ARG}static selectCoinObjectIdGreaterThanOrEqual(e,i,n=[]){const s=wc.selectCoinAssetGreaterThanOrEqual(e,i,n),a=s.selectedCoins.map(T=>T.coinObjectId),l=s.remainingCoins,A=s.selectedCoins.map(T=>T.balance.toString());return{objectArray:a,remainCoins:l,amountArray:A}}static selectCoinAssetGreaterThanOrEqual(e,i,n=[]){const s=wc.sortByBalance(e.filter(q=>!n.includes(q.coinObjectId))),a=wc.calculateTotalBalance(s);if(a<i)return{selectedCoins:[],remainingCoins:s};if(a===i)return{selectedCoins:s,remainingCoins:[]};let l=BigInt(0);const A=[],T=[...s];for(;l<a;){const q=i-l,et=T.findIndex(Oi=>Oi.balance>=q);if(et!==-1){A.push(T[et]),T.splice(et,1);break}const xi=T.pop();xi.balance>0&&(A.push(xi),l+=xi.balance)}return{selectedCoins:wc.sortByBalance(A),remainingCoins:wc.sortByBalance(T)}}static sortByBalance(e){return e.sort((i,n)=>i.balance<n.balance?-1:i.balance>n.balance?1:0)}static sortByBalanceDes(e){return e.sort((i,n)=>i.balance>n.balance?-1:i.balance<n.balance?0:1)}static calculateTotalBalance(e){return e.reduce((i,n)=>i+n.balance,BigInt(0))}};function getAggregatorServerErrorMessage(t){switch(t){case 1e4:return"Calculate error";case 10001:return"Input number too large can not fit in target type";case 10002:return"No router";case 10003:return"Insufficient Liquidity";case 10004:return"Target token is detected as a HoneyPot scam";case 10005:return"Too many requests. Please try again later";default:return"Unknown error"}}function completionCoin(t){const e=t.indexOf("::");if(e===-1)return t;const i=t.substring(0,e),n=t.substring(e);if(!i.startsWith("0x"))return t;const s=i.substring(2);return s.length>64?t:`0x${s.padStart(64,"0")}${n}`}function compareCoins(t,e){t=completionCoin(t),e=completionCoin(e);const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){if(t[n]>e[n])return!0;if(t[n]<e[n])return!1}return!0}function mintZeroCoin(t,e){return t.moveCall({target:"0x2::coin::zero",typeArguments:[e]})}function buildInputCoin(t,e,i,n){const s=CoinUtils.getCoinAssets(n,e);if(i===BigInt(0))return CoinUtils.isSuiCoin(n)||s.length===0&&!CoinUtils.isSuiCoin(n)?{targetCoin:mintZeroCoin(t,n),isMintZeroCoin:!0,targetCoinAmount:0}:{targetCoin:t.object(s[0].coinObjectId),isMintZeroCoin:!1,targetCoinAmount:Number(s[0].balance.toString())};if(CoinUtils.calculateTotalBalance(s)<i)throw new AggregateError("Insufficient balance when build merge coin, coinType: "+n,"InsufficientBalance"+n);if(CoinUtils.isSuiCoin(n))return{targetCoin:t.splitCoins(t.gas,[t.pure.u64(i.toString())]),isMintZeroCoin:!0,targetCoinAmount:Number(i.toString())};let l=CoinUtils.sortByBalance(s);l.slice(0,3).reduce((Oi,Ts)=>Oi+Ts.balance,BigInt(0))<BigInt(i)&&(l=CoinUtils.sortByBalanceDes(s));let T=CoinUtils.selectCoinObjectIdGreaterThanOrEqual(l,i);const[q,...et]=T.objectArray;return et.length>0&&t.mergeCoins(q,et.map(Oi=>t.object(Oi))),{targetCoin:t.splitCoins(t.object(q),[t.pure.u64(i.toString())]),isMintZeroCoin:!1,targetCoinAmount:Number(i.toString())}}function checkInvalidSuiAddress(t){return!(!t.startsWith("0x")||t.length!==66)}var import_bn4=__toESM(require_bn()),import_bn3=__toESM(require_bn()),import_bn2=__toESM(require_bn()),ZERO=new import_bn2.default(0);new import_bn2.default(1);var TWO=new import_bn2.default(2);TWO.pow(new import_bn2.default(128));var U64_MAX_BN=new import_bn2.default("18446744073709551615"),TEN_POW_NINE=1e9;function CalculateAmountLimit(t,e,i){let n=ZERO;return e?n=t.mul(new import_bn3.default(TEN_POW_NINE-i*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):n=t.mul(new import_bn3.default(TEN_POW_NINE+i*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),Number(n.toString())}function CalculateAmountLimitBN(t,e,i){let n=ZERO;return e?n=t.mul(new import_bn3.default(TEN_POW_NINE-i*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):n=t.mul(new import_bn3.default(TEN_POW_NINE+i*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),n}function sqrtPriceX64ToPrice(t,e,i){return new decimal_default(t).mul(decimal_default.pow(2,-64)).pow(2).mul(decimal_default.pow(10,e-i))}function swapInPools(t,e,i,n){return __async(this,null,function*(){var s,a,l,A,T;const{from:q,target:et,amount:xi,byAmountIn:Oi,pools:Ts}=e,Fs=completionCoin(q),qs=completionCoin(et),Us=new Transaction,Ls=compareCoins(Fs,qs),Gs=n===0?"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4":"0x4f920e1ef6318cfba77e20a0538a419a5a504c14230169438b99aba485db40a6",zs=Ls?Fs:qs,Vs=Ls?qs:Fs,Zs=[zs,Vs];for(let Ms=0;Ms<Ts.length;Ms++){const Q=[Us.object(Ts[Ms]),Us.pure.bool(Ls),Us.pure.bool(Oi),Us.pure.u64(xi.toString())];Us.moveCall({target:`${Gs}::fetcher_script::calculate_swap_result`,arguments:Q,typeArguments:Zs})}if(!checkInvalidSuiAddress(i))throw new AggregateError("Aggregator package not set","InvalidWallet");const Js=yield t.devInspectTransactionBlock({transactionBlock:Us,sender:i});if(Js.error!=null)throw console.log("simulateRes.error",Js.error),new AggregateError("Aggregator package not set","SimulateError");const xo=(s=Js.events)==null?void 0:s.filter(Ms=>Ms.type.includes("CalculatedSwapResultEvent"));if(xo.length===0||xo.length!==Ts.length)throw new AggregateError("Simulate event result error","simulateEventError");let Io=Oi?ZERO:U64_MAX_BN,Uo=0;for(let Ms=0;Ms<xo.length;Ms+=1)if(!xo[Ms].parsedJson.data.is_exceed)if(e.byAmountIn){const Q=new import_bn4.BN(xo[Ms].parsedJson.data.amount_out);Q.gt(Io)&&(Uo=Ms,Io=Q)}else{const Q=new import_bn4.BN(xo[Ms].parsedJson.data.amount_out);Q.lt(Io)&&(Uo=Ms,Io=Q)}const Fo=xo[Uo].parsedJson.data,Ys=Fo.step_results[0].current_sqrt_price,[Hs,Ws]=yield Promise.all([t.getCoinMetadata({coinType:zs}).then(Ms=>Ms==null?void 0:Ms.decimals),t.getCoinMetadata({coinType:Vs}).then(Ms=>Ms==null?void 0:Ms.decimals)]);if(Hs==null||Ws==null)throw new AggregateError("Simulate event result error","CannotGetDecimals");const f=sqrtPriceX64ToPrice(Ys,Hs,Ws),Y=Number(Fo.fee_rate)/1e6,nt=new import_bn4.BN((a=Fo.amount_in)!=null?a:0),vs=new import_bn4.BN((l=Fo.fee_amount)!=null?l:0),ks=nt.add(vs),Ds={amountIn:ks,amountOut:new import_bn4.BN((A=Fo.amount_out)!=null?A:0),routes:[{path:[{id:Ts[Uo],direction:Ls,provider:"CETUS",from:Fs,target:qs,feeRate:Y,amountIn:Fo.amount_in,amountOut:Fo.amount_out,extendedDetails:{afterSqrtPrice:Fo.after_sqrt_price}}],amountIn:ks,amountOut:new import_bn4.BN((T=Fo.amount_out)!=null?T:0),initialPrice:f}],insufficientLiquidity:!1,byAmountIn:e.byAmountIn};return{isExceed:Fo.is_exceed,routeData:Ds}})}var Haedal=class{constructor(t){if(t!==0)throw new Error("Haedal only supported on mainnet")}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a}=i,l=a?"swap_a2b":"swap_b2a",A=[e.object(i.id),e.object("0x5"),n],T=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${T}::haedal::${l}`,typeArguments:[],arguments:A})})}},Afsui=class{constructor(t){if(t!==0)throw new Error("Afsui only supported on mainnet");this.stakedSuiVault="0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",this.safe="0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",this.referVault="0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",this.validator="0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a}=i;if(!a)throw new Error("Afsui not support b2a swap");const l="swap_a2b",A=[e.object(this.stakedSuiVault),e.object(this.safe),e.object("0x5"),e.object(this.referVault),e.object(this.validator),n],T=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${T}::afsui::${l}`,typeArguments:[],arguments:A})})}},Volo=class{constructor(t){if(t!==0)throw new Error("Volo only supported on mainnet");this.stakePool="0x2d914e23d82fedef1b5f56a32d5c64bdcc3087ccfea2b4d6ea51a71f587840e5",this.metadata="0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a}=i,l=a?"swap_a2b":"swap_b2a",A=[e.object(this.stakePool),e.object(this.metadata),e.object("0x5"),n],T=getAggregatorV2Extend2PublishedAt(t.publishedAtV2Extend2(),s);return e.moveCall({target:`${T}::volo::${l}`,typeArguments:[],arguments:A})})}},Bluemove=class{constructor(t){if(t!==0)throw new Error("Bluemove only supported on mainnet");this.dexInfo="0x3f2d9f724f4a1ce5e71676448dc452be9a6243dac9c5b975a588c8c867066e92"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(this.dexInfo),n],Oi=getAggregatorV2PublishedAt(t.publishedAtV2(),s);return e.moveCall({target:`${Oi}::bluemove::${T}`,typeArguments:[q,et],arguments:xi})})}},DeepbookV3=class{constructor(t){this.deepbookV3Config=t===0?"0x699d455ab8c5e02075b4345ea1f91be55bf46064ae6026cc2528e701ce3ac135":"0xe19b5d072346cae83a037d4e3c8492068a74410a74e5830b3a68012db38296aa"}swap(t,e,i,n,s,a){return __async(this,null,function*(){const{direction:l,from:A,target:T}=i,[q,et,xi]=l?["swap_a2b_v2",A,T]:["swap_b2a_v2",T,A];let Oi;a?Oi=a:Oi=mintZeroCoin(e,t.deepbookv3DeepFeeType());const Ts=[e.object(this.deepbookV3Config),e.object(i.id),n,Oi,e.object(CLOCK_ADDRESS)],Fs=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${Fs}::deepbookv3::${q}`,typeArguments:[et,xi],arguments:Ts})})}},Scallop=class{constructor(t){if(t!==0)throw new Error("Scallop only supported on mainnet");this.version=t===0?"0x07871c4b3c847a0f674510d4978d5cf6f960452795e8ff6f189fd2088a3f6ac7":"0x0",this.market=t===0?"0xa757975255146dc9686aa823b7838b507f315d704f428cbadad2f4ea061939d9":"0x0"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",l,A];if(i.extendedDetails==null)throw new Error("Extended details not supported");if(i.extendedDetails.scallopScoinTreasury==null)throw new Error("Scallop coin treasury not supported");const xi=[e.object(this.version),e.object(this.market),e.object(i.extendedDetails.scallopScoinTreasury),n,e.object(CLOCK_ADDRESS)],Oi=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${Oi}::scallop::${T}`,typeArguments:[q,et],arguments:xi})})}},Suilend=class{constructor(t){if(t!==0)throw new Error("Suilend only supported on mainnet");this.sui_system_state=t===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q]=a?["swap_a2b",A]:["swap_b2a",l],et=[e.object(i.id),e.object(this.sui_system_state),n],xi=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${xi}::suilend::${T}`,typeArguments:[q],arguments:et})})}},Bluefin=class{constructor(t){if(t!==0)throw new Error("Bluefin only supported on mainnet");this.globalConfig="0x03db251ba509a8d5d8777b6338836082335d93eecbdd09a11e190a1cff51c352"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(this.globalConfig),e.object(i.id),n,e.object(CLOCK_ADDRESS)],Oi=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${Oi}::bluefin::${T}`,typeArguments:[q,et],arguments:xi})})}},HaedalPmm=class{constructor(t,e){if(t===1)throw new Error("HaedalPmm is not supported on testnet");this.pythPriceIDs=e}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l];let xi,Oi;if(i.extendedDetails==null)throw new Error("Extended details not supported haedal pmm");if(!i.extendedDetails.haedalPmmBasePriceSeed||!i.extendedDetails.haedalPmmQuotePriceSeed)throw new Error("Base price seed or quote price seed not supported");xi=i.extendedDetails.haedalPmmBasePriceSeed,Oi=i.extendedDetails.haedalPmmQuotePriceSeed;const Ts=this.pythPriceIDs.get(xi),Fs=this.pythPriceIDs.get(Oi);if(!Ts||!Fs)throw new Error("Base price info object id or quote price info object id not found");const qs=[e.object(i.id),e.object(Ts),e.object(Fs),n,e.object(CLOCK_ADDRESS)],Us=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${Us}::haedalpmm::${T}`,typeArguments:[q,et],arguments:qs})})}},Alphafi=class{constructor(t){if(t!==0)throw new Error("Alphafi only supported on mainnet");this.sui_system_state=t===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q]=a?["swap_a2b",A]:["swap_b2a",l],et=[e.object(i.id),e.object(this.sui_system_state),n],xi=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${xi}::alphafi::${T}`,typeArguments:[q],arguments:et})})}},SteammCPMM=class{constructor(t){if(t!==0)throw new Error("Steamm only supported on mainnet")}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b_v2",l,A]:["swap_b2a_v2",A,l];if(i.extendedDetails==null)throw new Error("Extended details not supported");if(i.extendedDetails.steammBankA==null)throw new Error("Steamm bank a type not supported");if(i.extendedDetails.steammBankB==null)throw new Error("Steamm bank b type not supported");if(i.extendedDetails.steammLendingMarket==null)throw new Error("Steamm lending market not supported");if(i.extendedDetails.steammLendingMarketType==null)throw new Error("Steamm lending market type not supported");if(i.extendedDetails.steammBCoinAType==null)throw new Error("Steamm b coin a type not supported");if(i.extendedDetails.steammBCoinBType==null)throw new Error("Steamm b coin b type not supported");if(i.extendedDetails.steammLPToken==null)throw new Error("Steamm lp token not supported");const xi=[e.object(i.id),e.object(i.extendedDetails.steammBankA),e.object(i.extendedDetails.steammBankB),e.object(i.extendedDetails.steammLendingMarket),n,e.object(CLOCK_ADDRESS)],Oi=getAggregatorV2Extend2PublishedAt(t.publishedAtV2Extend2(),s);return e.moveCall({target:`${Oi}::steamm_cpmm::${T}`,typeArguments:[i.extendedDetails.steammLendingMarketType,q,et,i.extendedDetails.steammBCoinAType,i.extendedDetails.steammBCoinBType,i.extendedDetails.steammLPToken],arguments:xi})})}},SteammOmm=class{constructor(t,e){if(t!==0)throw new Error("Steamm only supported on mainnet");this.pythPriceIDs=e,this.oraclePackageId="0xe84b649199654d18c38e727212f5d8dacfc3cf78d60d0a7fc85fd589f280eb2b"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i;if(i.extendedDetails==null)throw new Error("Extended details not supported");if(i.extendedDetails.steammBankA==null)throw new Error("Steamm bank a type not supported");if(i.extendedDetails.steammBankB==null)throw new Error("Steamm bank b type not supported");if(i.extendedDetails.steammLendingMarket==null)throw new Error("Steamm lending market not supported");if(i.extendedDetails.steammLendingMarketType==null)throw new Error("Steamm lending market type not supported");if(i.extendedDetails.steammBCoinAType==null)throw new Error("Steamm b coin a type not supported");if(i.extendedDetails.steammBCoinBType==null)throw new Error("Steamm b coin b type not supported");if(i.extendedDetails.steammLPToken==null)throw new Error("Steamm lp token not supported");if(i.extendedDetails.steammOracleRegistryId==null)throw new Error("Steamm oracle registry id not supported");if(i.extendedDetails.steammOracleIndexA==null)throw new Error("Steamm oracle index a not supported");if(i.extendedDetails.steammOracleIndexB==null)throw new Error("Steamm oracle index b not supported");if(i.extendedDetails.steammOraclePythPriceSeedA==null)throw new Error("Steamm oracle pyth price seed a not supported");if(i.extendedDetails.steammOraclePythPriceSeedB==null)throw new Error("Steamm oracle pyth price seed b not supported");const[T,q,et]=a?["swap_a2b_v2",l,A]:["swap_b2a_v2",A,l],xi=i.extendedDetails.steammOraclePythPriceSeedA,Oi=i.extendedDetails.steammOraclePythPriceSeedB,Ts=this.pythPriceIDs.get(xi),Fs=this.pythPriceIDs.get(Oi);if(!Ts||!Fs)throw new Error("Base price info object id or quote price info object id not found");const qs=e.moveCall({target:`${this.oraclePackageId}::oracles::get_pyth_price`,typeArguments:[],arguments:[e.object(i.extendedDetails.steammOracleRegistryId),e.object(Ts),e.pure.u64(i.extendedDetails.steammOracleIndexA),e.object(CLOCK_ADDRESS)]}),Us=e.moveCall({target:`${this.oraclePackageId}::oracles::get_pyth_price`,typeArguments:[],arguments:[e.object(i.extendedDetails.steammOracleRegistryId),e.object(Fs),e.pure.u64(i.extendedDetails.steammOracleIndexB),e.object(CLOCK_ADDRESS)]}),Ls=[e.object(i.id),e.object(i.extendedDetails.steammBankA),e.object(i.extendedDetails.steammBankB),e.object(i.extendedDetails.steammLendingMarket),qs,Us,n,e.object(CLOCK_ADDRESS)],Gs=getAggregatorV2Extend2PublishedAt(t.publishedAtV2Extend2(),s);return e.moveCall({target:`${Gs}::steamm_omm::${T}`,typeArguments:[i.extendedDetails.steammLendingMarketType,q,et,i.extendedDetails.steammBCoinAType,i.extendedDetails.steammBCoinBType,i.extendedDetails.steammLPToken],arguments:Ls})})}},SUPER_SUI_TYPE="0x790f258062909e3a0ffc78b3c53ac2f62d7084c3bab95644bdeb05add7250001::super_sui::SUPER_SUI",MUSD_TYPE="0xe44df51c0b21a27ab915fa1fe2ca610cd3eaa6d9666fe5e62b988bf7f0bd8722::musd::MUSD",METH_TYPE="0xccd628c2334c5ed33e6c47d6c21bb664f8b6307b2ac32c2462a61f69a31ebcee::meth::METH",Metastable=class{constructor(t,e){if(t!==0)throw new Error("Metastable only supported on mainnet");this.versionID="0x4696559327b35ff2ab26904e7426a1646312e9c836d5c6cff6709a5ccc30915c",this.pythPriceIDs=e}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et,xi]=a?["swap_a2b","create_deposit_cap",l,A]:["swap_b2a","create_withdraw_cap",A,l];let Oi="",Ts="pyth",Fs="";if(i.extendedDetails==null)throw new Error("Extended details not supported metastable");if(!i.extendedDetails.metastableCreateCapPkgId||!i.extendedDetails.metastableCreateCapModule||!i.extendedDetails.metastableRegistryId||!i.extendedDetails.metastableWhitelistedAppId)throw new Error("CreateCapPkgId or CreateCapModule or RegistryId or WhitelistedAppId or CreateCapAllTypeParams not supported");Oi=i.extendedDetails.metastableCreateCapPkgId,Ts=i.extendedDetails.metastableCreateCapModule,Fs=i.extendedDetails.metastableWhitelistedAppId;const qs=[xi];i.extendedDetails.metastableCreateCapAllTypeParams&&qs.push(et);const Us=[e.object(Fs),e.object(i.id)];switch(xi){case SUPER_SUI_TYPE:{if(!i.extendedDetails.metastableRegistryId)throw new Error("Not found registry id for super sui");Us.push(e.object(i.extendedDetails.metastableRegistryId));break}case MUSD_TYPE:{if(i.extendedDetails.metastablePriceSeed!=null){const Zs=this.pythPriceIDs.get(i.extendedDetails.metastablePriceSeed);if(Zs==null)throw new Error("Invalid Pyth price feed: "+i.extendedDetails.metastablePriceSeed);Us.push(e.object(Zs))}if(i.extendedDetails.metastableETHPriceSeed!=null){const Zs=this.pythPriceIDs.get(i.extendedDetails.metastableETHPriceSeed);if(Zs==null)throw new Error("Invalid Pyth price feed: "+i.extendedDetails.metastableETHPriceSeed);Us.push(e.object(Zs))}Us.push(e.object(CLOCK_ADDRESS));break}case METH_TYPE:{if(i.extendedDetails.metastablePriceSeed!=null){const Zs=this.pythPriceIDs.get(i.extendedDetails.metastablePriceSeed);if(Zs==null)throw new Error("Invalid Pyth price feed: "+i.extendedDetails.metastablePriceSeed);Us.push(e.object(Zs))}if(i.extendedDetails.metastableETHPriceSeed!=null){const Zs=this.pythPriceIDs.get(i.extendedDetails.metastableETHPriceSeed);if(Zs==null)throw new Error("Invalid Pyth price feed: "+i.extendedDetails.metastableETHPriceSeed);Us.push(e.object(Zs))}Us.push(e.object(CLOCK_ADDRESS));break}default:throw new Error("Invalid Metacoin: "+xi)}const Ls=e.moveCall({target:`${Oi}::${Ts}::${q}`,typeArguments:qs,arguments:Us}),Gs=[e.object(i.id),e.object(this.versionID),Ls,n],zs=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${zs}::metastable::${T}`,typeArguments:[et,xi],arguments:Gs})})}},Obric=class{constructor(t,e){if(t===1)throw new Error("Obric is not supported on testnet");this.pythPriceIDs=e,this.pythStateObjectId="0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l];let xi,Oi,Ts,Fs;if(i.extendedDetails==null)throw new Error("Extended details not supported in obric");if(i.extendedDetails.obricCoinAPriceSeed&&i.extendedDetails.obricCoinBPriceSeed)xi=i.extendedDetails.obricCoinAPriceSeed,Ts=this.pythPriceIDs.get(xi),Oi=i.extendedDetails.obricCoinBPriceSeed,Fs=this.pythPriceIDs.get(Oi);else{if(!i.extendedDetails.obricCoinAPriceId||!i.extendedDetails.obricCoinBPriceId)throw new Error("Base price id or quote price id not supported");Ts=i.extendedDetails.obricCoinAPriceId,Fs=i.extendedDetails.obricCoinBPriceId}if(!Ts||!Fs)throw new Error("Base price info object id or quote price info object id not found");const qs=[e.object(i.id),n,e.object(this.pythStateObjectId),e.object(Ts),e.object(Fs),e.object(CLOCK_ADDRESS)],Us=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${Us}::obric::${T}`,typeArguments:[q,et],arguments:qs})})}},HaWAL=class{constructor(t){if(t!==0)throw new Error("HaWAL only supported on mainnet");this.staking=t===0?"0x10b9d30c28448939ce6c4d6c6e0ffce4a7f8a4ada8248bdad09ef8b70e4a3904":"0x0",this.validator=t===0?"0x7b3ba6de2ae58283f60d5b8dc04bb9e90e4796b3b2e0dea75569f491275242e7":"0x0"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a}=i,l=a?"swap_a2b":"swap_b2a",A=[e.object(this.staking),e.object(i.id),n,e.object(this.validator)],T=getAggregatorV2ExtendPublishedAt(t.publishedAtV2Extend(),s);return e.moveCall({target:`${T}::hawal::${l}`,typeArguments:[],arguments:A})})}},Momentum=class{constructor(t){if(t!==0)throw new Error("Momentum only supported on mainnet");this.version="0x2375a0b1ec12010aaea3b2545acfa2ad34cfbba03ce4b59f4c39e1e25eed1b2a"}swap(t,e,i,n,s){return __async(this,null,function*(){const{direction:a,from:l,target:A}=i,[T,q,et]=a?["swap_a2b",l,A]:["swap_b2a",A,l],xi=[e.object(i.id),n,e.object(this.version),e.object(CLOCK_ADDRESS)],Oi=getAggregatorV2Extend2PublishedAt(t.publishedAtV2Extend2(),s);return e.moveCall({target:`${Oi}::momentum::${T}`,typeArguments:[q,et],arguments:xi})})}},CETUS="CETUS",DEEPBOOKV2="DEEPBOOK",KRIYA="KRIYA",FLOWXV2="FLOWX",FLOWXV3="FLOWXV3",KRIYAV3="KRIYAV3",TURBOS="TURBOS",AFTERMATH="AFTERMATH",HAEDAL="HAEDAL",VOLO="VOLO",AFSUI="AFSUI",BLUEMOVE="BLUEMOVE",DEEPBOOKV3="DEEPBOOKV3",SCALLOP="SCALLOP",SUILEND="SUILEND",BLUEFIN="BLUEFIN",HAEDALPMM="HAEDALPMM",ALPHAFI="ALPHAFI",SPRINGSUI="SPRINGSUI",STEAMM="STEAMM",METASTABLE="METASTABLE",OBRIC="OBRIC",HAWAL="HAWAL",STEAMM_OMM="STEAMM_OMM",MOMENTUM="MOMENTUM",DEFAULT_ENDPOINT="https://api-sui.cetus.zone/router_v2";function isBuilderRouterSwapParams(t){return Array.isArray(t.routers)}function isBuilderFastRouterSwapParams(t){return Array.isArray(t.routers)}var _AggregatorClient=class b0{constructor(e){var i,n;this.endpoint=e.endpoint?processEndpoint(e.endpoint):DEFAULT_ENDPOINT,this.client=e.client||new SuiClient({url:getFullnodeUrl("mainnet")}),this.signer=e.signer||"",this.env=e.env||0,this.allCoins=new Map;const s=b0.CONFIG[this.env];if(this.pythConnections=this.newPythClients((i=e.pythUrls)!=null?i:[]),this.pythClient=new lib$2.SuiPythClient(this.client,s.pythStateId,s.wormholeStateId),this.apiKey=e.apiKey||"",this.partner=e.partner,e.overlayFeeRate)if(e.overlayFeeRate>0&&e.overlayFeeRate<=.01)this.overlayFeeRate=e.overlayFeeRate*1e6;else throw new Error("Overlay fee rate must be between 0 and 0.01");else this.overlayFeeRate=0;this.overlayFeeReceiver=(n=e.overlayFeeReceiver)!=null?n:"0x0"}newPythClients(e){return e.includes("https://hermes.pyth.network")||e.push("https://hermes.pyth.network"),e.map(n=>new lib$2.SuiPriceServiceConnection(n,{timeout:3e3}))}getCoins(e,i=!0){return __async(this,null,function*(){if(this.signer==="")throw new Error("Signer is required, but not provided.");let n=null,s=50;if(!i){const l=this.allCoins.get(e);if(l)return l}const a=[];for(;;)try{const l=yield this.client.getCoins({owner:this.signer,coinType:e,cursor:n,limit:s});for(const A of l.data)a.push({coinAddress:extractStructTagFromType(A.coinType).source_address,coinObjectId:A.coinObjectId,balance:BigInt(A.balance)});if(!l.hasNextPage)break;n=l.nextCursor}catch(l){console.error("getCoins error:",l);break}return this.allCoins.set(e,a),a})}findRouters(e){return __async(this,null,function*(){return getRouterResult(this.endpoint,this.apiKey,e,this.overlayFeeRate,this.overlayFeeReceiver)})}executeFlexibleInputSwap(e,i,n,s,a,l,A,T,q){return __async(this,null,function*(){if(n.length===0)throw new Error("No router found");const et=n[0].path[n[0].path.length-1].target,xi=[];for(let qs=0;qs<n.length-1;qs++){if(n[qs].path.length===0)throw new Error("Empty path");let Ls=e.splitCoins(i,[n[qs].amountIn.toString()])[0];for(const Gs of n[qs].path)Ls=yield this.newDex(Gs.provider,l,A).swap(this,e,Gs,Ls,q,T);xi.push(Ls)}if(n[n.length-1].path.length===0)throw new Error("Empty path");let Oi=i;for(const qs of n[n.length-1].path)Oi=yield this.newDex(qs.provider,l,A).swap(this,e,qs,Oi,q,T);xi.push(Oi);const Ts=getAggregatorV2ExtendPublishedAt(this.publishedAtV2Extend(),q);return this.checkCoinThresholdAndMergeCoin(e,xi,et,s,a,Ts)})}expectInputSwap(e,i,n,s,a,l,A,T,q){return __async(this,null,function*(){if(n.length===0)throw new Error("No router found");const et=n.map(Gs=>Gs.amountIn.toString()),xi=n[0].path[0].from,Oi=n[0].path[n[0].path.length-1].target,Ts=e.splitCoins(i,et),Fs=[];for(let Gs=0;Gs<n.length;Gs++){if(n[Gs].path.length===0)throw new Error("Empty path");let zs=Ts[Gs];for(const Vs of n[Gs].path)zs=yield this.newDex(Vs.provider,l,A).swap(this,e,Vs,zs,q,T);Fs.push(zs)}const qs=getAggregatorV2PublishedAt(this.publishedAtV2(),q),Us=getAggregatorV2ExtendPublishedAt(this.publishedAtV2Extend(),q);return this.transferOrDestoryCoin(e,i,xi,qs),this.checkCoinThresholdAndMergeCoin(e,Fs,Oi,s,a,Us)})}expectOutputSwap(e,i,n,s,a){return __async(this,null,function*(){const l=[],A=[],T=[],q=new Cetus(this.env,s),et=getAggregatorV2PublishedAt(this.publishedAtV2(),a);for(let Oi=0;Oi<n.length;Oi++){const Ts=n[Oi];for(let qs=Ts.path.length-1;qs>=0;qs--){const Us=Ts.path[qs],Ls=q.flash_swap(this,e,Us,!1);l.unshift(Ls.targetCoin),A.unshift(Ls.flashReceipt)}let Fs=i;for(let qs=0;qs<Ts.path.length;qs++){const Us=Ts.path[qs],Ls=q.repay_flash_swap(this,e,Us,Fs,A[qs]);Fs=l[qs],qs===0?i=Ls:this.transferOrDestoryCoin(e,Ls,Us.from,et),qs===Ts.path.length-1&&T.push(Fs)}}const xi=n[0].path[0].from;if(this.transferOrDestoryCoin(e,i,xi,et),T.length>1){const Oi=e.makeMoveVec({elements:T.slice(1)});e.moveCall({target:`${SUI_FRAMEWORK_ADDRESS$1}::pay::join_vec`,typeArguments:[n[0].path[n[0].path.length-1].target],arguments:[T[0],Oi]})}return T[0]})}swapInPools(e){return __async(this,null,function*(){let i;try{i=yield swapInPools(this.client,e,this.signer,this.env)}catch(n){return console.error("swapInPools error:",n),null}return i})}routerSwap(e){return __async(this,null,function*(){const{routers:i,inputCoin:n,slippage:s,txb:a,deepbookv3DeepFee:l,partner:A}=e;if(s>1||s<0)throw new Error("Invalid slippage value. Must be between 0 and 1 (e.g., 0.01 represents 1% slippage)");const T=Array.isArray(i)?i:i.routes,q=isBuilderRouterSwapParams(e)?e.byAmountIn:e.routers.byAmountIn,et=T.reduce((xo,Io)=>xo.add(Io.amountIn),new import_bn5.default(0)),xi=T.reduce((xo,Io)=>xo.add(Io.amountOut),new import_bn5.default(0));let Oi=new import_bn5.default(0);this.overlayFeeRate>0&&this.overlayFeeReceiver!=="0x0"&&(q?Oi=xi.mul(new import_bn5.default(this.overlayFeeRate)).div(new import_bn5.default(1e6)):Oi=et.mul(new import_bn5.default(this.overlayFeeRate)).div(new import_bn5.default(1e6)));const Ts=q?xi.sub(Oi):xi,Fs=q?et:et.add(Oi),qs=CalculateAmountLimitBN(q?Ts:Fs,q,s),Us=isBuilderRouterSwapParams(e)?void 0:e.routers.packages,Ls=getAggregatorV2PublishedAt(this.publishedAtV2(),Us),Gs=findPythPriceIDs(T),zs=Gs.length>0?yield this.updatePythPriceIDs(Gs,a):new Map;if(q)return yield this.expectInputSwap(a,n,T,xi.toString(),qs.toString(),zs,A??this.partner,l,Us);const Vs=a.splitCoins(n,[Oi.toString()]);this.overlayFeeRate>0&&this.overlayFeeReceiver!=="0x0"&&a.transferObjects([Vs],this.overlayFeeReceiver);const Zs=a.splitCoins(n,[qs.sub(Oi).toString()]);return this.transferOrDestoryCoin(a,n,T[0].path[0].from,Ls),yield this.expectOutputSwap(a,Zs[0],T,A??this.partner)})}fixableRouterSwap(e){return __async(this,null,function*(){const{routers:i,inputCoin:n,slippage:s,txb:a,deepbookv3DeepFee:l,partner:A}=e,T=Array.isArray(i)?i:i.routes,q=e.routers.byAmountIn,et=T.reduce((Vs,Zs)=>Vs.add(Zs.amountIn),new import_bn5.default(0)),xi=T.reduce((Vs,Zs)=>Vs.add(Zs.amountOut),new import_bn5.default(0));let Oi=0;this.overlayFeeRate>0&&this.overlayFeeReceiver!=="0x0"&&(q?Oi=Number(xi.mul(new import_bn5.default(this.overlayFeeRate)).div(new import_bn5.default(1e6)).toString()):Oi=Number(et.mul(new import_bn5.default(this.overlayFeeRate)).div(new import_bn5.default(1e6)).toString()));const Ts=q?xi.sub(new import_bn5.default(Oi)):xi,Fs=q?et:et.add(new import_bn5.default(Oi)),qs=CalculateAmountLimitBN(q?Ts:Fs,q,s),Us=isBuilderRouterSwapParams(e)?void 0:e.routers.packages,Ls=findPythPriceIDs(T),Gs=Ls.length>0?yield this.updatePythPriceIDs(Ls,a):new Map;return q?yield this.executeFlexibleInputSwap(a,n,T,Ts.toString(),qs.toString(),Gs,A??this.partner,l,Us):yield this.expectOutputSwap(a,n,T,A??this.partner)})}fastRouterSwap(e){return __async(this,null,function*(){const{routers:i,slippage:n,txb:s,partner:a,refreshAllCoins:l,payDeepFeeAmount:A}=e,T=Array.isArray(i)?i:i.routes,q=T[0].path[0].from;let et=yield this.getCoins(q,l);const xi=T[0].path[T[0].path.length-1].target,Oi=T.reduce((Io,Uo)=>Io.add(Uo.amountIn),new import_bn5.default(0)),Ts=T.reduce((Io,Uo)=>Io.add(Uo.amountOut),new import_bn5.default(0)),Fs=isBuilderFastRouterSwapParams(e)?e.byAmountIn:e.routers.byAmountIn;let qs=0;this.overlayFeeRate>0&&this.overlayFeeReceiver!=="0x0"&&(Fs?qs=Number(Ts.mul(new import_bn5.default(this.overlayFeeRate)).div(new import_bn5.default(1e6)).toString()):qs=Number(Oi.mul(new import_bn5.default(this.overlayFeeRate)).div(new import_bn5.default(1e6)).toString()));const Us=Fs?Ts.sub(new import_bn5.default(qs)):Ts,Ls=Fs?Oi:Oi.add(new import_bn5.default(qs)),Gs=CalculateAmountLimit(Fs?Us:Ls,Fs,n),Vs=buildInputCoin(s,et,BigInt((Fs?Ls:Gs).toString()),q);let Zs;if(A&&A>0){let Io=yield this.getCoins(this.deepbookv3DeepFeeType());Zs=buildInputCoin(s,Io,BigInt(A),this.deepbookv3DeepFeeType()).targetCoin}const Js=isBuilderFastRouterSwapParams(e)?{routers:T,inputCoin:Vs.targetCoin,slippage:n,byAmountIn:Fs,txb:s,partner:a??this.partner,deepbookv3DeepFee:Zs}:{routers:e.routers,inputCoin:Vs.targetCoin,slippage:n,byAmountIn:Fs,txb:s,partner:a??this.partner,deepbookv3DeepFee:Zs},xo=yield this.routerSwap(Js);if(CoinUtils.isSuiCoin(xi))s.mergeCoins(s.gas,[xo]);else{let Io=yield this.getCoins(xi,l);const Uo=buildInputCoin(s,Io,BigInt(0),xi),Fo=isBuilderFastRouterSwapParams(e)?void 0:e.routers.packages,Ys=getAggregatorV2PublishedAt(this.publishedAtV2(),Fo);s.mergeCoins(Uo.targetCoin,[xo]),Uo.isMintZeroCoin&&this.transferOrDestoryCoin(s,Uo.targetCoin,xi,Ys)}})}publishedAtV2(){return this.env===0?"0x3864c7c59a4889fec05d1aae4bc9dba5a0e0940594b424fbed44cb3f6ac4c032":"0x52eae33adeb44de55cfb3f281d4cc9e02d976181c0952f5323648b5717b33934"}publishedAtV2Extend(){return this.env===0?"0xa2fe8e900d719813fee1ffaea14d5a2b5516a4d15b75f14aa0cf27c531c20ae3":"0xabb6a81c8a216828e317719e06125de5bb2cb0fe8f9916ff8c023ca5be224c78"}publishedAtV2Extend2(){return this.env===0?"0x1727de5223a86156c0fd4ee290aaabaea7f0ffeff485c367c2eb0dcbdfc0061a":"0x0"}deepbookv3DeepFeeType(){return this.env===0?"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":"0x36dbef866a1d62bf7328989a10fb2f07d769f4ee587c0de4a0a256e57e0a58a8::deep::DEEP"}transferOrDestoryCoin(e,i,n,s){e.moveCall({target:`${s}::utils::transfer_or_destroy_coin`,typeArguments:[n],arguments:[i]})}checkCoinThresholdAndMergeCoin(e,i,n,s,a,l){let A=i[0];if(i.length>1){let T=e.makeMoveVec({elements:i.slice(1)});e.moveCall({target:`${SUI_FRAMEWORK_ADDRESS$1}::pay::join_vec`,typeArguments:[n],arguments:[i[0],T]}),A=i[0]}return this.overlayFeeRate===0||this.overlayFeeReceiver==="0x0"?e.moveCall({target:`${l}::utils::check_coin_threshold_v1`,typeArguments:[n],arguments:[A,e.pure.u64(s),e.pure.u64(a)]}):e.moveCall({target:`${l}::utils::check_coin_threshold_v2`,typeArguments:[n],arguments:[A,e.pure.u64(s),e.pure.u64(a),e.pure.u64(this.overlayFeeRate),e.pure.address(this.overlayFeeReceiver)]}),A}newDex(e,i,n){switch(e){case CETUS:return new Cetus(this.env,n);case DEEPBOOKV2:return new DeepbookV2(this.env);case DEEPBOOKV3:return new DeepbookV3(this.env);case KRIYA:return new KriyaV2(this.env);case KRIYAV3:return new KriyaV3(this.env);case FLOWXV2:return new FlowxV2(this.env);case FLOWXV3:return new FlowxV3(this.env);case TURBOS:return new Turbos(this.env);case AFTERMATH:return new Aftermath(this.env);case HAEDAL:return new Haedal(this.env);case AFSUI:return new Afsui(this.env);case VOLO:return new Volo(this.env);case BLUEMOVE:return new Bluemove(this.env);case SCALLOP:return new Scallop(this.env);case SUILEND:return new Suilend(this.env);case SPRINGSUI:return new Suilend(this.env);case BLUEFIN:return new Bluefin(this.env);case HAEDALPMM:return new HaedalPmm(this.env,i);case ALPHAFI:return new Alphafi(this.env);case STEAMM:return new SteammCPMM(this.env);case STEAMM_OMM:return new SteammOmm(this.env,i);case METASTABLE:return new Metastable(this.env,i);case OBRIC:return new Obric(this.env,i);case HAWAL:return new HaWAL(this.env);case MOMENTUM:return new Momentum(this.env);default:throw new Error(`Unsupported dex ${e}`)}}signAndExecuteTransaction(e,i){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:e,signer:i,options:{showEffects:!0,showEvents:!0,showInput:!0,showBalanceChanges:!0}})})}devInspectTransactionBlock(e){return __async(this,null,function*(){return yield this.client.devInspectTransactionBlock({transactionBlock:e,sender:this.signer})})}sendTransaction(e,i){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:e,signer:i})})}getDeepbookV3Config(){return __async(this,null,function*(){const e=yield getDeepbookV3Config(this.endpoint);return e?e.data:null})}updatePythPriceIDs(e,i){return __async(this,null,function*(){let n=null,s=null;for(const A of this.pythConnections)try{n=yield A.getPriceFeedsUpdateData(e);break}catch(T){s=T,console.log("Error: ",T);continue}if(n==null)throw new Error(`All Pyth price nodes are unavailable. Cannot fetch price data. Please switch to or add new available Pyth nodes. Detailed error: ${s==null?void 0:s.message}`);let a=[];try{a=yield this.pythClient.updatePriceFeeds(i,n,e)}catch(A){throw new Error(`All Pyth price nodes are unavailable. Cannot fetch price data. Please switch to or add new available Pyth nodes in the pythUrls parameter when initializing AggregatorClient, for example: new AggregatorClient({ pythUrls: ["https://your-pyth-node-url"] }). Detailed error: ${A}`)}let l=new Map;for(let A=0;A<e.length;A++)l.set(e[A],a[A]);return l})}};_AggregatorClient.CONFIG={1:{wormholeStateId:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",pythStateId:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c"},0:{wormholeStateId:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pythStateId:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}};var AggregatorClient25=_AggregatorClient;function findPythPriceIDs(t){const e=new Set;for(const i of t)for(const n of i.path)n.provider===HAEDALPMM&&n.extendedDetails&&n.extendedDetails.haedalPmmBasePriceSeed&&n.extendedDetails.haedalPmmQuotePriceSeed&&(e.add(n.extendedDetails.haedalPmmBasePriceSeed),e.add(n.extendedDetails.haedalPmmQuotePriceSeed)),n.provider===METASTABLE&&(n.extendedDetails&&n.extendedDetails.metastablePriceSeed&&e.add(n.extendedDetails.metastablePriceSeed),n.extendedDetails&&n.extendedDetails.metastableETHPriceSeed&&e.add(n.extendedDetails.metastableETHPriceSeed)),n.provider===OBRIC&&(n.extendedDetails&&n.extendedDetails.obricCoinAPriceSeed&&e.add(n.extendedDetails.obricCoinAPriceSeed),n.extendedDetails&&n.extendedDetails.obricCoinBPriceSeed&&e.add(n.extendedDetails.obricCoinBPriceSeed)),n.provider===STEAMM_OMM&&(n.extendedDetails&&n.extendedDetails.steammOraclePythPriceSeedA&&e.add(n.extendedDetails.steammOraclePythPriceSeedA),n.extendedDetails&&n.extendedDetails.steammOraclePythPriceSeedB&&e.add(n.extendedDetails.steammOraclePythPriceSeedB));return Array.from(e)}function parseRouterResponse(t,e){let i=0;for(const a of t.routes)for(const l of a.path)l.extended_details&&l.extended_details.deepbookv3_deep_fee&&(i+=Number(l.extended_details.deepbookv3_deep_fee));let n;if(t.packages!=null){n=new Map;for(const[a,l]of Object.entries(t.packages))n.set(a,l)}return{amountIn:new import_bn5.default(t.amount_in.toString()),amountOut:new import_bn5.default(t.amount_out.toString()),byAmountIn:e,insufficientLiquidity:!1,routes:t.routes.map(a=>({path:a.path.map(l=>{var A,T,q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws,f,Y,nt,vs,ks,Ds,Bs;let Ms;l.provider===AFTERMATH&&(Ms=l.extended_details.aftermath_pool_flatness===0?"v2":"v3");let Q;return(l.provider===TURBOS||l.provider===AFTERMATH||l.provider===CETUS||l.provider===DEEPBOOKV3||l.provider===SCALLOP||l.provider===HAEDALPMM||l.provider===METASTABLE||l.provider===OBRIC||l.provider===STEAMM||l.provider===STEAMM_OMM)&&(Q={aftermathLpSupplyType:(A=l.extended_details)==null?void 0:A.aftermath_lp_supply_type,turbosFeeType:(T=l.extended_details)==null?void 0:T.turbos_fee_type,afterSqrtPrice:(q=l.extended_details)==null?void 0:q.after_sqrt_price,deepbookv3DeepFee:(et=l.extended_details)==null?void 0:et.deepbookv3_deep_fee,scallopScoinTreasury:(xi=l.extended_details)==null?void 0:xi.scallop_scoin_treasury,haedalPmmBasePriceSeed:(Oi=l.extended_details)==null?void 0:Oi.haedal_pmm_base_price_seed,haedalPmmQuotePriceSeed:(Ts=l.extended_details)==null?void 0:Ts.haedal_pmm_quote_price_seed,steammBankA:(Fs=l.extended_details)==null?void 0:Fs.steamm_bank_a,steammBankB:(qs=l.extended_details)==null?void 0:qs.steamm_bank_b,steammLendingMarket:(Us=l.extended_details)==null?void 0:Us.steamm_lending_market,steammLendingMarketType:(Ls=l.extended_details)==null?void 0:Ls.steamm_lending_market_type,steammBCoinAType:(Gs=l.extended_details)==null?void 0:Gs.steamm_btoken_a_type,steammBCoinBType:(zs=l.extended_details)==null?void 0:zs.steamm_btoken_b_type,steammLPToken:(Vs=l.extended_details)==null?void 0:Vs.steamm_lp_token_type,steammOracleRegistryId:(Zs=l.extended_details)==null?void 0:Zs.steamm_oracle_registry_id,steammOracleIndexA:(Js=l.extended_details)==null?void 0:Js.steamm_oracle_index_a,steammOracleIndexB:(xo=l.extended_details)==null?void 0:xo.steamm_oracle_index_b,steammOraclePythPriceSeedA:(Io=l.extended_details)==null?void 0:Io.steamm_oracle_pyth_price_seed_a,steammOraclePythPriceSeedB:(Uo=l.extended_details)==null?void 0:Uo.steamm_oracle_pyth_price_seed_b,metastablePriceSeed:(Fo=l.extended_details)==null?void 0:Fo.metastable_price_seed,metastableETHPriceSeed:(Ys=l.extended_details)==null?void 0:Ys.metastable_eth_price_seed,metastableWhitelistedAppId:(Hs=l.extended_details)==null?void 0:Hs.metastable_whitelisted_app_id,metastableCreateCapPkgId:(Ws=l.extended_details)==null?void 0:Ws.metastable_create_cap_pkg_id,metastableCreateCapModule:(f=l.extended_details)==null?void 0:f.metastable_create_cap_module,metastableCreateCapAllTypeParams:(Y=l.extended_details)==null?void 0:Y.metastable_create_cap_all_type_params,metastableRegistryId:(nt=l.extended_details)==null?void 0:nt.metastable_registry_id,obricCoinAPriceSeed:(vs=l.extended_details)==null?void 0:vs.obric_coin_a_price_seed,obricCoinBPriceSeed:(ks=l.extended_details)==null?void 0:ks.obric_coin_b_price_seed,obricCoinAPriceId:(Ds=l.extended_details)==null?void 0:Ds.obric_coin_a_price_id,obricCoinBPriceId:(Bs=l.extended_details)==null?void 0:Bs.obric_coin_b_price_id}),{id:l.id,direction:l.direction,provider:l.provider,from:l.from,target:l.target,feeRate:l.fee_rate,amountIn:l.amount_in,amountOut:l.amount_out,extendedDetails:Q,version:Ms}}),amountIn:new import_bn5.default(a.amount_in.toString()),amountOut:new import_bn5.default(a.amount_out.toString()),initialPrice:new decimal_default(a.initial_price.toString())})),totalDeepFee:i,packages:n}}var CLOCK_ADDRESS=SUI_CLOCK_OBJECT_ID$1,AGGREGATOR_V2="aggregator_v2",AGGREGATOR_V2_EXTEND="aggregator_v2_extend",AGGREGATOR_V2_EXTEND2="aggregator_v2_extend2";function getAggregatorV2PublishedAt(t,e){var i;return e instanceof Map&&(i=e.get(AGGREGATOR_V2))!=null?i:t}function getAggregatorV2ExtendPublishedAt(t,e){var i;return e instanceof Map&&(i=e.get(AGGREGATOR_V2_EXTEND))!=null?i:t}function getAggregatorV2Extend2PublishedAt(t,e){var i;return e instanceof Map&&(i=e.get(AGGREGATOR_V2_EXTEND2))!=null?i:t}__toESM(require_bn());var dealWithFastRouterSwapParamsForMsafe=t=>{var e,i,n;return __spreadProps(__spreadValues({},t),{amountIn:(e=t==null?void 0:t.amountIn)==null?void 0:e.toString(),amountOut:(i=t==null?void 0:t.amountIn)==null?void 0:i.toString(),routes:(n=t==null?void 0:t.routes)==null?void 0:n.map(a=>{var l,A,T;return __spreadProps(__spreadValues({},a),{amountIn:(l=a==null?void 0:a.amountIn)==null?void 0:l.toString(),amountOut:(A=a==null?void 0:a.amountOut)==null?void 0:A.toString(),initialPrice:(T=a==null?void 0:a.initialPrice)==null?void 0:T.toString()})})})};function processEndpoint(t){return t.endsWith("/find_routes")?t.replace("/find_routes",""):t}var import_bn7=__toESM(require_bn()),SDK_VERSION=1000900;function getRouterResult(t,e,i,n,s){return __async(this,null,function*(){let a;if(i.liquidityChanges&&i.liquidityChanges.length>0?a=yield postRouterWithLiquidityChanges(t,i):a=yield getRouter(t,e,i),!a)return null;if(!a.ok){let T=10001;return a.status===429&&(T=10005),{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:i.byAmountIn,insufficientLiquidity:!1,error:{code:T,msg:getAggregatorServerErrorMessage(T)}}}const l=yield a.json(),A=l.msg==="liquidity is not enough";if(l.msg&&l.msg.indexOf("HoneyPot scam")>-1)return{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:i.byAmountIn,insufficientLiquidity:A,error:{code:10004,msg:getAggregatorServerErrorMessage(10004)}};if(l.data!=null){const T=parseRouterResponse(l.data,i.byAmountIn);if(n>0&&s!=="0x0")if(i.byAmountIn){const q=T.amountOut.mul(new import_bn7.default(n)).div(new import_bn7.default(1e6));T.overlayFee=Number(q.toString()),T.amountOut=T.amountOut.sub(q)}else{const q=T.amountIn.mul(new import_bn7.default(n)).div(new import_bn7.default(1e6));T.overlayFee=Number(q.toString()),T.amountIn=T.amountIn.add(q)}return T}return{amountIn:ZERO,amountOut:ZERO,routes:[],insufficientLiquidity:A,byAmountIn:i.byAmountIn,error:{code:10003,msg:getAggregatorServerErrorMessage(10003)}}})}function getRouter(t,e,i){return __async(this,null,function*(){try{const{from:n,target:s,amount:a,byAmountIn:l,depth:A,splitAlgorithm:T,splitFactor:q,splitCount:et,providers:xi}=i,Oi=completionCoin(n),Ts=completionCoin(s);let Fs=`${t}/find_routes?from=${Oi}&target=${Ts}&amount=${a.toString()}&by_amount_in=${l}`;return A&&(Fs+=`&depth=${A}`),T&&(Fs+=`&split_algorithm=${T}`),q&&(Fs+=`&split_factor=${q}`),et&&(Fs+=`&split_count=${et}`),xi&&xi.length>0&&(Fs+=`&providers=${xi.join(",")}`),e.length>0&&(Fs+=`&apiKey=${e}`),Fs+=`&v=${SDK_VERSION}`,yield fetch(Fs)}catch(n){return console.error(n),null}})}function postRouterWithLiquidityChanges(t,e){return __async(this,null,function*(){const{from:i,target:n,amount:s,byAmountIn:a,depth:l,splitAlgorithm:A,splitFactor:T,splitCount:q,providers:et,liquidityChanges:xi}=e,Oi=completionCoin(i),Ts=completionCoin(n),Fs=`${t}/find_routes`,qs=et==null?void 0:et.join(","),Us={from:Oi,target:Ts,amount:Number(s.toString()),by_amount_in:a,depth:l,split_algorithm:A,split_factor:T,split_count:q,providers:qs,liquidity_changes:xi.map(Ls=>({pool:Ls.poolID,tick_lower:Ls.ticklower,tick_upper:Ls.tickUpper,delta_liquidity:Ls.deltaLiquidity})),v:SDK_VERSION};try{return yield fetch(Fs,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Us)})}catch(Ls){return console.error("Error:",Ls),null}})}function getDeepbookV3Config(t){return __async(this,null,function*(){const e=`${t}/deepbookv3_config`;try{return(yield fetch(e)).json()}catch(i){return console.error("Error:",i),null}})}var Env=(t=>(t[t.Mainnet=0]="Mainnet",t[t.Testnet=1]="Testnet",t))(Env||{});console.log(" ~ useClmmSDKStore.ts:2 ~ envConfigs:",envConfigs$1);const store$4=(t,e)=>({isInitLoading:!1,aggregatorSDK:new AggregatorClient25({endpoint:envConfigs$1.aggregatorUrl,signer:envConfigs$1.simulationAccount.address,client:new SuiClient({url:envConfigs$1.fullRpcUrl}),env:envConfigs$1.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:envConfigs$1.pythUrls}),setAggregatorSDK:i=>{t(()=>({aggregatorSDK:i}))},setIsInitLoading:i=>{t(()=>({isInitLoading:i}))}}),useClmmSDKStore=create(store$4),store$3=(t,e)=>({domains:[envConfigs$1.cetus_api],unhealthyDomains:[],currentDomain:envConfigs$1.cetus_api,setCurrentDomain:i=>{t(()=>({currentDomain:i}))},setUnhealthyDomains:i=>{t(()=>({unhealthyDomains:[...e().unhealthyDomains,i]}))}}),useGlobalApiDomainStore=create(store$3),defaultMainnetNodes=[{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"BlockVision 2",link:"https://cetus-mainnet-endpoint.blockvision.org"},{name:"Suiet",link:"https://mainnet.suiet.app:443"},{name:"Blast",link:"https://sui-mainnet.blastapi.io/5e2b3e4f-dc83-432b-86d1-70fb73e88187"},{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"Triton",link:"https://cetus-suimain-e31f.mainnet.sui.rpcpool.com"},{name:"Custom",link:""}],defaultMainnetExplorers=[{name:"SuiVision",link:"https://suivision.xyz",img:"/images/img_suivision@2x.png"},{name:"Suiscan",link:"https://suiscan.xyz/mainnet",img:"/images/img_suiscan@2x.png"}],defaultNodes=defaultMainnetNodes,defaultNode=defaultMainnetNodes[0],defaultExplorers=defaultMainnetExplorers,defaultExplorer=defaultMainnetExplorers[0],suiWalletList=[{name:"Slush Wallet",walletName:"Slush  A Sui wallet",url:"https://chromewebstore.google.com/detail/slush-%E2%80%94-a-sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",icon:"slush"},{name:"Sui Wallet",walletName:"Sui Wallet",url:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",icon:"sui-wallet-icon"},{name:"Phantom",walletName:"Phantom",url:"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa",icon:"phantom"},{name:"OKX",walletName:"OKX Wallet",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"okx"},{name:"Suiet",walletName:"Suiet",url:"https://chrome.google.com/webstore/detail/suiet-sui-wallet/khpkpbbcccdmmclmpigdgddabeilkdpd",icon:"suiet-icon"},{name:"Binance",walletName:"Binance Wallet",url:"https://chromewebstore.google.com/detail/%E5%B8%81%E5%AE%89%E9%93%BE%E9%92%B1%E5%8C%85/fhbohimaelbohpjbbldcngcnapndodjp?hl=zh-CN&utm_source=ext_sidebar",icon:"binance"},{name:"Bybit Wallet",walletName:"Bybit Wallet",url:"https://chromewebstore.google.com/search/Bybit%20Wallet?hl=zh-CN&utm_source=ext_sidebar",icon:"bybit"},{name:"Gate",walletName:"Gate Wallet",url:"https://chromewebstore.google.com/detail/gate-wallet/cpmkedoipcpimgecpmgpldfpohjplkpp",icon:"gate"},{name:"Bitget Wallet",walletName:"Bitget Wallet",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",icon:"bitget"},{name:"Backpack",walletName:"Backpack",url:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",icon:"backpack"},{name:"SuiMetaMaskSnap",walletName:"Sui MetaMask Snap",url:"https://suisnap.com",icon:"metamask"},{name:"Surf",walletName:"Surf Wallet",url:"https://chrome.google.com/webstore/detail/surf-wallet/emeeapjkbcbpbpgaagfchmcgglmebnen",icon:"surf"},{name:"Coin98",walletName:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",icon:"coin98"},{name:"MSafe",walletName:"MSafe Wallet",url:"https://sui.m-safe.io/",icon:"msafe"},{name:"OneKey",walletName:"OneKey Wallet",url:"https://chromewebstore.google.com/detail/onekey/jnmbobjmhlngoefaiojfljckilhhlhcj",icon:"onekey"},{name:"TokenPocket",walletName:"TokenPocket Wallet",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",icon:"tokenpocket"},{name:"Nightly",walletName:"Nightly",url:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa",icon:"nightly"},{name:"Martian",walletName:"Martian Sui Wallet",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",icon:"martian"},{name:"Fewcha",walletName:"Fewcha Move Wallet",url:"https://fewcha.app/",icon:"fewcha"},{name:"SafePal",walletName:"SafePal",url:"https://chrome.google.com/webstore/detail/safepal-extension-wallet/lgmpcpglpngdoalbgeoldeajfclnhafa",icon:"safepal"},{name:"Math",walletName:"MathWallet",url:"https://mathwallet.org/",icon:"math"},{name:"xPortal",walletName:"xPortal",url:"",icon:"xportal"}],store$2=(t,e)=>({rpcSpeed:{},currentExplorer:defaultExplorer,explorerList:[...defaultExplorers],currentNode:{...defaultNode},nodes:[...defaultNodes],switchNode:i=>{t(()=>({currentNode:i}))},switchExplorer:i=>{t(()=>({currentExplorer:i}))},setNodeList:i=>{t(()=>({nodes:[...i]}))},setRpcSpeed:i=>{t(()=>({rpcSpeed:i}))}}),useRpcConfigStore=create(persist(store$2,{name:"useRpcConfigStore",version:4})),store$1=(t,e)=>({deepbookV3Config:null,providers:["CETUS"],isBuyCryptoConfirm:!1,setIsBuyCryptoConfirm:i=>{t(()=>({isBuyCryptoConfirm:i}))},isTerm:!1,setIsTerm:i=>{t(()=>({isTerm:i}))},setProviders:i=>{t(()=>({providers:i}))},setDeepbookV3Config:i=>{t(()=>({deepbookV3Config:i}))},isSwapWidgetDisplay:!0,setIsSwapWidgetDisplay:i=>{t(()=>({isSwapWidgetDisplay:i}))},showSwapWidgetTips:!0,setShowSwapWidgetTips:i=>{t(()=>({showSwapWidgetTips:i}))}}),useWebConfigStore=create(persist(store$1,{name:"useWebConfigStore",version:3}));function useGlobalToast(){const{accumulateToastId:t}=useToastStore(),e=useToast({position:"top-right",duration:5e3,containerStyle:{maxW:"660px"}}),i=et=>et||`toast${t()}`;return{closeToast:et=>{e.close(et)},successTsToast:et=>{const{transactionId:xi}=et,Oi=i(xi);return e({id:Oi,render:()=>jsxRuntimeExports.jsx(Toast,{...et,transactionId:Oi,status:"success",onClose:()=>e.close(Oi)})}),Oi},failedTsToast:et=>{const{transactionId:xi}=et,Oi=i(xi);return e({id:Oi,render:()=>jsxRuntimeExports.jsx(Toast,{...et,transactionId:Oi,status:"rejected",onClose:()=>e.close(Oi)})}),Oi},submittedTsToast:et=>{const{transactionId:xi}=et,Oi=i(xi);return e({id:Oi,render:()=>jsxRuntimeExports.jsx(Toast,{...et,transactionId:Oi,status:"submitted",onClose:()=>e.close(Oi)})}),Oi},closeAllToast:()=>{e.closeAll()},customToast:et=>{const xi=i();return e({id:xi,render:()=>jsxRuntimeExports.jsx(CustomToast,{onClose:()=>e.close(xi),children:et})}),xi},showCommonToast:(et,xi="success",Oi)=>{const Ts=i(),Fs={getShowInfo:()=>({toastTitleText:et,toastDescriptionContent:Oi})};return e({id:Ts,render:()=>jsxRuntimeExports.jsx(Toast,{...Fs,transactionId:Ts,status:xi,onClose:()=>e.close(Ts)})}),Ts}}}var cryptoJs={exports:{}},core={exports:{}},cryptoBrowserify={},browser$b={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(t,e){var i=require$$1$3,n=i.Buffer;function s(l,A){for(var T in l)A[T]=l[T]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,e),e.Buffer=a);function a(l,A,T){return n(l,A,T)}a.prototype=Object.create(n.prototype),s(n,a),a.from=function(l,A,T){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,A,T)},a.alloc=function(l,A,T){if(typeof l!="number")throw new TypeError("Argument must be a number");var q=n(l);return A!==void 0?typeof T=="string"?q.fill(A,T):q.fill(A):q.fill(0),q},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var t=65536,e=4294967295;function i(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=requireSafeBuffer$1().Buffer,s=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;s&&s.getRandomValues?browser$b.exports=a:browser$b.exports=i;function a(l,A){if(l>e)throw new RangeError("requested too many random bytes");var T=n.allocUnsafe(l);if(l>0)if(l>t)for(var q=0;q<l;q+=t)s.getRandomValues(T.slice(q,q+t));else s.getRandomValues(T);return typeof A=="function"?process$1.nextTick(function(){A(null,T)}):T}return browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(e,i){i&&(e.super_=i,e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,i){if(i){e.super_=i;var n=function(){};n.prototype=i.prototype,e.prototype=new n,e.prototype.constructor=e}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(Zs,Js,xo){return Function.prototype.apply.call(Zs,Js,xo)},i;t&&typeof t.ownKeys=="function"?i=t.ownKeys:Object.getOwnPropertySymbols?i=function(Zs){return Object.getOwnPropertyNames(Zs).concat(Object.getOwnPropertySymbols(Zs))}:i=function(Zs){return Object.getOwnPropertyNames(Zs)};function n(Vs){console&&console.warn&&console.warn(Vs)}var s=Number.isNaN||function(Zs){return Zs!==Zs};function a(){a.init.call(this)}events.exports=a,events.exports.once=Ls,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function A(Vs){if(typeof Vs!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Vs)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(Vs){if(typeof Vs!="number"||Vs<0||s(Vs))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Vs+".");l=Vs}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(Zs){if(typeof Zs!="number"||Zs<0||s(Zs))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Zs+".");return this._maxListeners=Zs,this};function T(Vs){return Vs._maxListeners===void 0?a.defaultMaxListeners:Vs._maxListeners}a.prototype.getMaxListeners=function(){return T(this)},a.prototype.emit=function(Zs){for(var Js=[],xo=1;xo<arguments.length;xo++)Js.push(arguments[xo]);var Io=Zs==="error",Uo=this._events;if(Uo!==void 0)Io=Io&&Uo.error===void 0;else if(!Io)return!1;if(Io){var Fo;if(Js.length>0&&(Fo=Js[0]),Fo instanceof Error)throw Fo;var Ys=new Error("Unhandled error."+(Fo?" ("+Fo.message+")":""));throw Ys.context=Fo,Ys}var Hs=Uo[Zs];if(Hs===void 0)return!1;if(typeof Hs=="function")e(Hs,this,Js);else for(var Ws=Hs.length,f=Fs(Hs,Ws),xo=0;xo<Ws;++xo)e(f[xo],this,Js);return!0};function q(Vs,Zs,Js,xo){var Io,Uo,Fo;if(A(Js),Uo=Vs._events,Uo===void 0?(Uo=Vs._events=Object.create(null),Vs._eventsCount=0):(Uo.newListener!==void 0&&(Vs.emit("newListener",Zs,Js.listener?Js.listener:Js),Uo=Vs._events),Fo=Uo[Zs]),Fo===void 0)Fo=Uo[Zs]=Js,++Vs._eventsCount;else if(typeof Fo=="function"?Fo=Uo[Zs]=xo?[Js,Fo]:[Fo,Js]:xo?Fo.unshift(Js):Fo.push(Js),Io=T(Vs),Io>0&&Fo.length>Io&&!Fo.warned){Fo.warned=!0;var Ys=new Error("Possible EventEmitter memory leak detected. "+Fo.length+" "+String(Zs)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ys.name="MaxListenersExceededWarning",Ys.emitter=Vs,Ys.type=Zs,Ys.count=Fo.length,n(Ys)}return Vs}a.prototype.addListener=function(Zs,Js){return q(this,Zs,Js,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(Zs,Js){return q(this,Zs,Js,!0)};function et(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xi(Vs,Zs,Js){var xo={fired:!1,wrapFn:void 0,target:Vs,type:Zs,listener:Js},Io=et.bind(xo);return Io.listener=Js,xo.wrapFn=Io,Io}a.prototype.once=function(Zs,Js){return A(Js),this.on(Zs,xi(this,Zs,Js)),this},a.prototype.prependOnceListener=function(Zs,Js){return A(Js),this.prependListener(Zs,xi(this,Zs,Js)),this},a.prototype.removeListener=function(Zs,Js){var xo,Io,Uo,Fo,Ys;if(A(Js),Io=this._events,Io===void 0)return this;if(xo=Io[Zs],xo===void 0)return this;if(xo===Js||xo.listener===Js)--this._eventsCount===0?this._events=Object.create(null):(delete Io[Zs],Io.removeListener&&this.emit("removeListener",Zs,xo.listener||Js));else if(typeof xo!="function"){for(Uo=-1,Fo=xo.length-1;Fo>=0;Fo--)if(xo[Fo]===Js||xo[Fo].listener===Js){Ys=xo[Fo].listener,Uo=Fo;break}if(Uo<0)return this;Uo===0?xo.shift():qs(xo,Uo),xo.length===1&&(Io[Zs]=xo[0]),Io.removeListener!==void 0&&this.emit("removeListener",Zs,Ys||Js)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(Zs){var Js,xo,Io;if(xo=this._events,xo===void 0)return this;if(xo.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):xo[Zs]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete xo[Zs]),this;if(arguments.length===0){var Uo=Object.keys(xo),Fo;for(Io=0;Io<Uo.length;++Io)Fo=Uo[Io],Fo!=="removeListener"&&this.removeAllListeners(Fo);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Js=xo[Zs],typeof Js=="function")this.removeListener(Zs,Js);else if(Js!==void 0)for(Io=Js.length-1;Io>=0;Io--)this.removeListener(Zs,Js[Io]);return this};function Oi(Vs,Zs,Js){var xo=Vs._events;if(xo===void 0)return[];var Io=xo[Zs];return Io===void 0?[]:typeof Io=="function"?Js?[Io.listener||Io]:[Io]:Js?Us(Io):Fs(Io,Io.length)}a.prototype.listeners=function(Zs){return Oi(this,Zs,!0)},a.prototype.rawListeners=function(Zs){return Oi(this,Zs,!1)},a.listenerCount=function(Vs,Zs){return typeof Vs.listenerCount=="function"?Vs.listenerCount(Zs):Ts.call(Vs,Zs)},a.prototype.listenerCount=Ts;function Ts(Vs){var Zs=this._events;if(Zs!==void 0){var Js=Zs[Vs];if(typeof Js=="function")return 1;if(Js!==void 0)return Js.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]};function Fs(Vs,Zs){for(var Js=new Array(Zs),xo=0;xo<Zs;++xo)Js[xo]=Vs[xo];return Js}function qs(Vs,Zs){for(;Zs+1<Vs.length;Zs++)Vs[Zs]=Vs[Zs+1];Vs.pop()}function Us(Vs){for(var Zs=new Array(Vs.length),Js=0;Js<Zs.length;++Js)Zs[Js]=Vs[Js].listener||Vs[Js];return Zs}function Ls(Vs,Zs){return new Promise(function(Js,xo){function Io(Fo){Vs.removeListener(Zs,Uo),xo(Fo)}function Uo(){typeof Vs.removeListener=="function"&&Vs.removeListener("error",Io),Js([].slice.call(arguments))}zs(Vs,Zs,Uo,{once:!0}),Zs!=="error"&&Gs(Vs,Io,{once:!0})})}function Gs(Vs,Zs,Js){typeof Vs.on=="function"&&zs(Vs,"error",Zs,Js)}function zs(Vs,Zs,Js,xo){if(typeof Vs.on=="function")xo.once?Vs.once(Zs,Js):Vs.on(Zs,Js);else if(typeof Vs.addEventListener=="function")Vs.addEventListener(Zs,function Io(Uo){xo.once&&Vs.removeEventListener(Zs,Io),Js(Uo)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Vs)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$4={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},i=Symbol("test"),n=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[i]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==i||!Object.prototype.propertyIsEnumerable.call(e,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var A=Object.getOwnPropertyDescriptor(e,i);if(A.value!==s||A.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var t=requireShams$1();return shams=function(){return t()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(e){return e!==e}),_isNaN}var sign$1,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$1;hasRequiredSign$1=1;var t=require_isNaN();return sign$1=function(i){return t(i)||i===0?i:i<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var t=requireGOPD();if(t)try{t([],"length")}catch{t=null}return gopd=t,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return esDefineProperty=t,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var t=typeof Symbol<"u"&&Symbol,e=requireShams$1();return hasSymbols=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var t=requireEsObjectAtoms();return Object_getPrototypeOf=t.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,i=Math.max,n="[object Function]",s=function(T,q){for(var et=[],xi=0;xi<T.length;xi+=1)et[xi]=T[xi];for(var Oi=0;Oi<q.length;Oi+=1)et[Oi+T.length]=q[Oi];return et},a=function(T,q){for(var et=[],xi=q,Oi=0;xi<T.length;xi+=1,Oi+=1)et[Oi]=T[xi];return et},l=function(A,T){for(var q="",et=0;et<A.length;et+=1)q+=A[et],et+1<A.length&&(q+=T);return q};return implementation=function(T){var q=this;if(typeof q!="function"||e.apply(q)!==n)throw new TypeError(t+q);for(var et=a(arguments,1),xi,Oi=function(){if(this instanceof xi){var Ls=q.apply(this,s(et,arguments));return Object(Ls)===Ls?Ls:this}return q.apply(T,s(et,arguments))},Ts=i(0,q.length-et.length),Fs=[],qs=0;qs<Ts;qs++)Fs[qs]="$"+qs;if(xi=Function("binder","return function ("+l(Fs,",")+"){ return binder.apply(this,arguments); }")(Oi),q.prototype){var Us=function(){};Us.prototype=q.prototype,xi.prototype=new Us,Us.prototype=null}return xi},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var t=requireImplementation();return functionBind=Function.prototype.bind||t,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var t=requireFunctionBind(),e=requireFunctionApply(),i=requireFunctionCall(),n=requireReflectApply();return actualApply=n||t.call(i,e),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var t=requireFunctionBind(),e=requireType(),i=requireFunctionCall(),n=requireActualApply();return callBindApplyHelpers=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,i,a)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var t=requireCallBindApplyHelpers(),e=requireGopd(),i;try{i=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!i&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return get=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(A){return a(A==null?A:s(A))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var t=requireReflect_getPrototypeOf(),e=requireObject_getPrototypeOf(),i=requireGet();return getProto=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:i?function(s){return i(s)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,i=requireFunctionBind();return hasown=i.call(t,e),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var t,e=requireEsObjectAtoms(),i=requireEsErrors(),n=require_eval(),s=requireRange(),a=requireRef(),l=requireSyntax(),A=requireType(),T=requireUri(),q=requireAbs(),et=requireFloor(),xi=requireMax(),Oi=requireMin(),Ts=requirePow(),Fs=requireRound(),qs=requireSign$1(),Us=Function,Ls=function(Vo){try{return Us('"use strict"; return ('+Vo+").constructor;")()}catch{}},Gs=requireGopd(),zs=requireEsDefineProperty(),Vs=function(){throw new A},Zs=Gs?function(){try{return arguments.callee,Vs}catch{try{return Gs(arguments,"callee").get}catch{return Vs}}}():Vs,Js=requireHasSymbols()(),xo=requireGetProto(),Io=requireObject_getPrototypeOf(),Uo=requireReflect_getPrototypeOf(),Fo=requireFunctionApply(),Ys=requireFunctionCall(),Hs={},Ws=typeof Uint8Array>"u"||!xo?t:xo(Uint8Array),f={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":Js&&xo?xo([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":Hs,"%AsyncGenerator%":Hs,"%AsyncGeneratorFunction%":Hs,"%AsyncIteratorPrototype%":Hs,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":Us,"%GeneratorFunction%":Hs,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Js&&xo?xo(xo([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Js||!xo?t:xo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":Gs,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Js||!xo?t:xo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Js&&xo?xo(""[Symbol.iterator]()):t,"%Symbol%":Js?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":Zs,"%TypedArray%":Ws,"%TypeError%":A,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":T,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":Ys,"%Function.prototype.apply%":Fo,"%Object.defineProperty%":zs,"%Object.getPrototypeOf%":Io,"%Math.abs%":q,"%Math.floor%":et,"%Math.max%":xi,"%Math.min%":Oi,"%Math.pow%":Ts,"%Math.round%":Fs,"%Math.sign%":qs,"%Reflect.getPrototypeOf%":Uo};if(xo)try{null.error}catch(Vo){var Y=xo(xo(Vo));f["%Error.prototype%"]=Y}var nt=function Vo(zo){var so;if(zo==="%AsyncFunction%")so=Ls("async function () {}");else if(zo==="%GeneratorFunction%")so=Ls("function* () {}");else if(zo==="%AsyncGeneratorFunction%")so=Ls("async function* () {}");else if(zo==="%AsyncGenerator%"){var Qs=Vo("%AsyncGeneratorFunction%");Qs&&(so=Qs.prototype)}else if(zo==="%AsyncIteratorPrototype%"){var sa=Vo("%AsyncGenerator%");sa&&xo&&(so=xo(sa.prototype))}return f[zo]=so,so},vs={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ks=requireFunctionBind(),Ds=requireHasown(),Bs=ks.call(Ys,Array.prototype.concat),Ms=ks.call(Fo,Array.prototype.splice),Q=ks.call(Ys,String.prototype.replace),$s=ks.call(Ys,String.prototype.slice),Ks=ks.call(Ys,RegExp.prototype.exec),jo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Bo=/\\(\\)?/g,To=function(zo){var so=$s(zo,0,1),Qs=$s(zo,-1);if(so==="%"&&Qs!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(Qs==="%"&&so!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var sa=[];return Q(zo,jo,function(Zo,Qo,la,Ko){sa[sa.length]=la?Q(Ko,Bo,"$1"):Qo||Zo}),sa},Oo=function(zo,so){var Qs=zo,sa;if(Ds(vs,Qs)&&(sa=vs[Qs],Qs="%"+sa[0]+"%"),Ds(f,Qs)){var Zo=f[Qs];if(Zo===Hs&&(Zo=nt(Qs)),typeof Zo>"u"&&!so)throw new A("intrinsic "+zo+" exists, but is not available. Please file an issue!");return{alias:sa,name:Qs,value:Zo}}throw new l("intrinsic "+zo+" does not exist!")};return getIntrinsic=function(zo,so){if(typeof zo!="string"||zo.length===0)throw new A("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof so!="boolean")throw new A('"allowMissing" argument must be a boolean');if(Ks(/^%?[^%]*%?$/,zo)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Qs=To(zo),sa=Qs.length>0?Qs[0]:"",Zo=Oo("%"+sa+"%",so),Qo=Zo.name,la=Zo.value,Ko=!1,Jo=Zo.alias;Jo&&(sa=Jo[0],Ms(Qs,Bs([0,1],Jo)));for(var aa=1,oa=!0;aa<Qs.length;aa+=1){var ua=Qs[aa],Ma=$s(ua,0,1),da=$s(ua,-1);if((Ma==='"'||Ma==="'"||Ma==="`"||da==='"'||da==="'"||da==="`")&&Ma!==da)throw new l("property names with quotes must have matching quotes");if((ua==="constructor"||!oa)&&(Ko=!0),sa+="."+ua,Qo="%"+sa+"%",Ds(f,Qo))la=f[Qo];else if(la!=null){if(!(ua in la)){if(!so)throw new A("base intrinsic for "+zo+" exists, but the property is not available.");return}if(Gs&&aa+1>=Qs.length){var fa=Gs(la,ua);oa=!!fa,oa&&"get"in fa&&!("originalValue"in fa.get)?la=fa.get:la=la[ua]}else oa=Ds(la,ua),la=la[ua];oa&&!Ko&&(f[Qo]=la)}}return la},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var t=requireGetIntrinsic(),e=requireCallBindApplyHelpers(),i=e([t("%String.prototype.indexOf%")]);return callBound=function(s,a){var l=t(s,!!a);return typeof l=="function"&&i(s,".prototype.")>-1?e([l]):l},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var t=requireShams()(),e=requireCallBound(),i=e("Object.prototype.toString"),n=function(A){return t&&A&&typeof A=="object"&&Symbol.toStringTag in A?!1:i(A)==="[object Arguments]"},s=function(A){return n(A)?!0:A!==null&&typeof A=="object"&&"length"in A&&typeof A.length=="number"&&A.length>=0&&i(A)!=="[object Array]"&&"callee"in A&&i(A.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=s,isArguments=a?n:s,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var t=requireCallBound(),e=requireShams()(),i=requireHasown(),n=requireGopd(),s;if(e){var a=t("RegExp.prototype.exec"),l={},A=function(){throw l},T={toString:A,valueOf:A};typeof Symbol.toPrimitive=="symbol"&&(T[Symbol.toPrimitive]=A),s=function(Oi){if(!Oi||typeof Oi!="object")return!1;var Ts=n(Oi,"lastIndex"),Fs=Ts&&i(Ts,"value");if(!Fs)return!1;try{a(Oi,T)}catch(qs){return qs===l}}}else{var q=t("Object.prototype.toString"),et="[object RegExp]";s=function(Oi){return!Oi||typeof Oi!="object"&&typeof Oi!="function"?!1:q(Oi)===et}}return isRegex=s,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var t=requireCallBound(),e=requireIsRegex(),i=t("RegExp.prototype.exec"),n=requireType();return safeRegexTest=function(a){if(!e(a))throw new n("`regex` must be a RegExp");return function(A){return i(a,A)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var t=requireCallBound(),e=requireSafeRegexTest(),i=e(/^\s*(?:function)?\*/),n=requireShams()(),s=requireGetProto(),a=t("Object.prototype.toString"),l=t("Function.prototype.toString"),A=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},T;return isGeneratorFunction=function(et){if(typeof et!="function")return!1;if(i(l(et)))return!0;if(!n){var xi=a(et);return xi==="[object GeneratorFunction]"}if(!s)return!1;if(typeof T>"u"){var Oi=A();T=Oi?s(Oi):!1}return s(et)===T},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,i,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{i=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,i)}catch(Gs){Gs!==n&&(e=null)}else e=null;var s=/^\s*class\b/,a=function(zs){try{var Vs=t.call(zs);return s.test(Vs)}catch{return!1}},l=function(zs){try{return a(zs)?!1:(t.call(zs),!0)}catch{return!1}},A=Object.prototype.toString,T="[object Object]",q="[object Function]",et="[object GeneratorFunction]",xi="[object HTMLAllCollection]",Oi="[object HTML document.all class]",Ts="[object HTMLCollection]",Fs=typeof Symbol=="function"&&!!Symbol.toStringTag,qs=!(0 in[,]),Us=function(){return!1};if(typeof document=="object"){var Ls=document.all;A.call(Ls)===A.call(document.all)&&(Us=function(zs){if((qs||!zs)&&(typeof zs>"u"||typeof zs=="object"))try{var Vs=A.call(zs);return(Vs===xi||Vs===Oi||Vs===Ts||Vs===T)&&zs("")==null}catch{}return!1})}return isCallable=e?function(zs){if(Us(zs))return!0;if(!zs||typeof zs!="function"&&typeof zs!="object")return!1;try{e(zs,null,i)}catch(Vs){if(Vs!==n)return!1}return!a(zs)&&l(zs)}:function(zs){if(Us(zs))return!0;if(!zs||typeof zs!="function"&&typeof zs!="object")return!1;if(Fs)return l(zs);if(a(zs))return!1;var Vs=A.call(zs);return Vs!==q&&Vs!==et&&!/^\[object HTML/.test(Vs)?!1:l(zs)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var t=requireIsCallable(),e=Object.prototype.toString,i=Object.prototype.hasOwnProperty,n=function(T,q,et){for(var xi=0,Oi=T.length;xi<Oi;xi++)i.call(T,xi)&&(et==null?q(T[xi],xi,T):q.call(et,T[xi],xi,T))},s=function(T,q,et){for(var xi=0,Oi=T.length;xi<Oi;xi++)et==null?q(T.charAt(xi),xi,T):q.call(et,T.charAt(xi),xi,T)},a=function(T,q,et){for(var xi in T)i.call(T,xi)&&(et==null?q(T[xi],xi,T):q.call(et,T[xi],xi,T))};function l(A){return e.call(A)==="[object Array]"}return forEach=function(T,q,et){if(!t(q))throw new TypeError("iterator must be a function");var xi;arguments.length>=3&&(xi=et),l(T)?n(T,q,xi):typeof T=="string"?s(T,q,xi):a(T,q,xi)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var t=requirePossibleTypedArrayNames(),e=typeof globalThis>"u"?commonjsGlobal$1:globalThis;return availableTypedArrays=function(){for(var n=[],s=0;s<t.length;s++)typeof e[t[s]]=="function"&&(n[n.length]=t[s]);return n},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var t=requireEsDefineProperty(),e=requireSyntax(),i=requireType(),n=requireGopd();return defineDataProperty=function(a,l,A){if(!a||typeof a!="object"&&typeof a!="function")throw new i("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new i("`loose`, if provided, must be a boolean");var T=arguments.length>3?arguments[3]:null,q=arguments.length>4?arguments[4]:null,et=arguments.length>5?arguments[5]:null,xi=arguments.length>6?arguments[6]:!1,Oi=!!n&&n(a,l);if(t)t(a,l,{configurable:et===null&&Oi?Oi.configurable:!et,enumerable:T===null&&Oi?Oi.enumerable:!T,value:A,writable:q===null&&Oi?Oi.writable:!q});else if(xi||!T&&!q&&!et)a[l]=A;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var t=requireEsDefineProperty(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=e,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var t=requireGetIntrinsic(),e=requireDefineDataProperty(),i=requireHasPropertyDescriptors()(),n=requireGopd(),s=requireType(),a=t("%Math.floor%");return setFunctionLength=function(A,T){if(typeof A!="function")throw new s("`fn` is not a function");if(typeof T!="number"||T<0||T>4294967295||a(T)!==T)throw new s("`length` must be a positive 32-bit integer");var q=arguments.length>2&&!!arguments[2],et=!0,xi=!0;if("length"in A&&n){var Oi=n(A,"length");Oi&&!Oi.configurable&&(et=!1),Oi&&!Oi.writable&&(xi=!1)}return(et||xi||!q)&&(i?e(A,"length",T,!0,!0):e(A,"length",T)),A},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var t=requireFunctionBind(),e=requireFunctionApply(),i=requireActualApply();return applyBind=function(){return i(t,e,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(t){var e=requireSetFunctionLength(),i=requireEsDefineProperty(),n=requireCallBindApplyHelpers(),s=requireApplyBind();t.exports=function(l){var A=n(arguments),T=l.length-(arguments.length-1);return e(A,1+(T>0?T:0),!0)},i?i(t.exports,"apply",{value:s}):t.exports.apply=s}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var t=requireForEach(),e=requireAvailableTypedArrays(),i=requireCallBind(),n=requireCallBound(),s=requireGopd(),a=requireGetProto(),l=n("Object.prototype.toString"),A=requireShams()(),T=typeof globalThis>"u"?commonjsGlobal$1:globalThis,q=e(),et=n("String.prototype.slice"),xi=n("Array.prototype.indexOf",!0)||function(Us,Ls){for(var Gs=0;Gs<Us.length;Gs+=1)if(Us[Gs]===Ls)return Gs;return-1},Oi={__proto__:null};A&&s&&a?t(q,function(qs){var Us=new T[qs];if(Symbol.toStringTag in Us&&a){var Ls=a(Us),Gs=s(Ls,Symbol.toStringTag);if(!Gs&&Ls){var zs=a(Ls);Gs=s(zs,Symbol.toStringTag)}Oi["$"+qs]=i(Gs.get)}}):t(q,function(qs){var Us=new T[qs],Ls=Us.slice||Us.set;Ls&&(Oi["$"+qs]=i(Ls))});var Ts=function(Us){var Ls=!1;return t(Oi,function(Gs,zs){if(!Ls)try{"$"+Gs(Us)===zs&&(Ls=et(zs,1))}catch{}}),Ls},Fs=function(Us){var Ls=!1;return t(Oi,function(Gs,zs){if(!Ls)try{Gs(Us),Ls=et(zs,1)}catch{}}),Ls};return whichTypedArray=function(Us){if(!Us||typeof Us!="object")return!1;if(!A){var Ls=et(l(Us),8,-1);return xi(q,Ls)>-1?Ls:Ls!=="Object"?!1:Fs(Us)}return s?Ts(Us):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var t=requireWhichTypedArray();return isTypedArray=function(i){return!!t(i)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(t){var e=requireIsArguments(),i=requireIsGeneratorFunction(),n=requireWhichTypedArray(),s=requireIsTypedArray();function a(aa){return aa.call.bind(aa)}var l=typeof BigInt<"u",A=typeof Symbol<"u",T=a(Object.prototype.toString),q=a(Number.prototype.valueOf),et=a(String.prototype.valueOf),xi=a(Boolean.prototype.valueOf);if(l)var Oi=a(BigInt.prototype.valueOf);if(A)var Ts=a(Symbol.prototype.valueOf);function Fs(aa,oa){if(typeof aa!="object")return!1;try{return oa(aa),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=i,t.isTypedArray=s;function qs(aa){return typeof Promise<"u"&&aa instanceof Promise||aa!==null&&typeof aa=="object"&&typeof aa.then=="function"&&typeof aa.catch=="function"}t.isPromise=qs;function Us(aa){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(aa):s(aa)||$s(aa)}t.isArrayBufferView=Us;function Ls(aa){return n(aa)==="Uint8Array"}t.isUint8Array=Ls;function Gs(aa){return n(aa)==="Uint8ClampedArray"}t.isUint8ClampedArray=Gs;function zs(aa){return n(aa)==="Uint16Array"}t.isUint16Array=zs;function Vs(aa){return n(aa)==="Uint32Array"}t.isUint32Array=Vs;function Zs(aa){return n(aa)==="Int8Array"}t.isInt8Array=Zs;function Js(aa){return n(aa)==="Int16Array"}t.isInt16Array=Js;function xo(aa){return n(aa)==="Int32Array"}t.isInt32Array=xo;function Io(aa){return n(aa)==="Float32Array"}t.isFloat32Array=Io;function Uo(aa){return n(aa)==="Float64Array"}t.isFloat64Array=Uo;function Fo(aa){return n(aa)==="BigInt64Array"}t.isBigInt64Array=Fo;function Ys(aa){return n(aa)==="BigUint64Array"}t.isBigUint64Array=Ys;function Hs(aa){return T(aa)==="[object Map]"}Hs.working=typeof Map<"u"&&Hs(new Map);function Ws(aa){return typeof Map>"u"?!1:Hs.working?Hs(aa):aa instanceof Map}t.isMap=Ws;function f(aa){return T(aa)==="[object Set]"}f.working=typeof Set<"u"&&f(new Set);function Y(aa){return typeof Set>"u"?!1:f.working?f(aa):aa instanceof Set}t.isSet=Y;function nt(aa){return T(aa)==="[object WeakMap]"}nt.working=typeof WeakMap<"u"&&nt(new WeakMap);function vs(aa){return typeof WeakMap>"u"?!1:nt.working?nt(aa):aa instanceof WeakMap}t.isWeakMap=vs;function ks(aa){return T(aa)==="[object WeakSet]"}ks.working=typeof WeakSet<"u"&&ks(new WeakSet);function Ds(aa){return ks(aa)}t.isWeakSet=Ds;function Bs(aa){return T(aa)==="[object ArrayBuffer]"}Bs.working=typeof ArrayBuffer<"u"&&Bs(new ArrayBuffer);function Ms(aa){return typeof ArrayBuffer>"u"?!1:Bs.working?Bs(aa):aa instanceof ArrayBuffer}t.isArrayBuffer=Ms;function Q(aa){return T(aa)==="[object DataView]"}Q.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Q(new DataView(new ArrayBuffer(1),0,1));function $s(aa){return typeof DataView>"u"?!1:Q.working?Q(aa):aa instanceof DataView}t.isDataView=$s;var Ks=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function jo(aa){return T(aa)==="[object SharedArrayBuffer]"}function Bo(aa){return typeof Ks>"u"?!1:(typeof jo.working>"u"&&(jo.working=jo(new Ks)),jo.working?jo(aa):aa instanceof Ks)}t.isSharedArrayBuffer=Bo;function To(aa){return T(aa)==="[object AsyncFunction]"}t.isAsyncFunction=To;function Oo(aa){return T(aa)==="[object Map Iterator]"}t.isMapIterator=Oo;function Vo(aa){return T(aa)==="[object Set Iterator]"}t.isSetIterator=Vo;function zo(aa){return T(aa)==="[object Generator]"}t.isGeneratorObject=zo;function so(aa){return T(aa)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=so;function Qs(aa){return Fs(aa,q)}t.isNumberObject=Qs;function sa(aa){return Fs(aa,et)}t.isStringObject=sa;function Zo(aa){return Fs(aa,xi)}t.isBooleanObject=Zo;function Qo(aa){return l&&Fs(aa,Oi)}t.isBigIntObject=Qo;function la(aa){return A&&Fs(aa,Ts)}t.isSymbolObject=la;function Ko(aa){return Qs(aa)||sa(aa)||Zo(aa)||Qo(aa)||la(aa)}t.isBoxedPrimitive=Ko;function Jo(aa){return typeof Uint8Array<"u"&&(Ms(aa)||Bo(aa))}t.isAnyArrayBuffer=Jo,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(aa){Object.defineProperty(t,aa,{enumerable:!1,value:function(){throw new Error(aa+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(t){var e={},i=Object.getOwnPropertyDescriptors||function(Ks){for(var jo=Object.keys(Ks),Bo={},To=0;To<jo.length;To++)Bo[jo[To]]=Object.getOwnPropertyDescriptor(Ks,jo[To]);return Bo},n=/%[sdj%]/g;t.format=function($s){if(!Js($s)){for(var Ks=[],jo=0;jo<arguments.length;jo++)Ks.push(A(arguments[jo]));return Ks.join(" ")}for(var jo=1,Bo=arguments,To=Bo.length,Oo=String($s).replace(n,function(zo){if(zo==="%%")return"%";if(jo>=To)return zo;switch(zo){case"%s":return String(Bo[jo++]);case"%d":return Number(Bo[jo++]);case"%j":try{return JSON.stringify(Bo[jo++])}catch{return"[Circular]"}default:return zo}}),Vo=Bo[jo];jo<To;Vo=Bo[++jo])zs(Vo)||!Fo(Vo)?Oo+=" "+Vo:Oo+=" "+A(Vo);return Oo},t.deprecate=function($s,Ks){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return $s;if(typeof process$1>"u")return function(){return t.deprecate($s,Ks).apply(this,arguments)};var jo=!1;function Bo(){if(!jo){if(process$1.throwDeprecation)throw new Error(Ks);process$1.traceDeprecation?console.trace(Ks):console.error(Ks),jo=!0}return $s.apply(this,arguments)}return Bo};var s={},a=/^$/;if(e.NODE_DEBUG){var l=e.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}t.debuglog=function($s){if($s=$s.toUpperCase(),!s[$s])if(a.test($s)){var Ks=process$1.pid;s[$s]=function(){var jo=t.format.apply(t,arguments);console.error("%s %d: %s",$s,Ks,jo)}}else s[$s]=function(){};return s[$s]};function A($s,Ks){var jo={seen:[],stylize:q};return arguments.length>=3&&(jo.depth=arguments[2]),arguments.length>=4&&(jo.colors=arguments[3]),Gs(Ks)?jo.showHidden=Ks:Ks&&t._extend(jo,Ks),Io(jo.showHidden)&&(jo.showHidden=!1),Io(jo.depth)&&(jo.depth=2),Io(jo.colors)&&(jo.colors=!1),Io(jo.customInspect)&&(jo.customInspect=!0),jo.colors&&(jo.stylize=T),xi(jo,$s,jo.depth)}t.inspect=A,A.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},A.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function T($s,Ks){var jo=A.styles[Ks];return jo?"\x1B["+A.colors[jo][0]+"m"+$s+"\x1B["+A.colors[jo][1]+"m":$s}function q($s,Ks){return $s}function et($s){var Ks={};return $s.forEach(function(jo,Bo){Ks[jo]=!0}),Ks}function xi($s,Ks,jo){if($s.customInspect&&Ks&&Ws(Ks.inspect)&&Ks.inspect!==t.inspect&&!(Ks.constructor&&Ks.constructor.prototype===Ks)){var Bo=Ks.inspect(jo,$s);return Js(Bo)||(Bo=xi($s,Bo,jo)),Bo}var To=Oi($s,Ks);if(To)return To;var Oo=Object.keys(Ks),Vo=et(Oo);if($s.showHidden&&(Oo=Object.getOwnPropertyNames(Ks)),Hs(Ks)&&(Oo.indexOf("message")>=0||Oo.indexOf("description")>=0))return Ts(Ks);if(Oo.length===0){if(Ws(Ks)){var zo=Ks.name?": "+Ks.name:"";return $s.stylize("[Function"+zo+"]","special")}if(Uo(Ks))return $s.stylize(RegExp.prototype.toString.call(Ks),"regexp");if(Ys(Ks))return $s.stylize(Date.prototype.toString.call(Ks),"date");if(Hs(Ks))return Ts(Ks)}var so="",Qs=!1,sa=["{","}"];if(Ls(Ks)&&(Qs=!0,sa=["[","]"]),Ws(Ks)){var Zo=Ks.name?": "+Ks.name:"";so=" [Function"+Zo+"]"}if(Uo(Ks)&&(so=" "+RegExp.prototype.toString.call(Ks)),Ys(Ks)&&(so=" "+Date.prototype.toUTCString.call(Ks)),Hs(Ks)&&(so=" "+Ts(Ks)),Oo.length===0&&(!Qs||Ks.length==0))return sa[0]+so+sa[1];if(jo<0)return Uo(Ks)?$s.stylize(RegExp.prototype.toString.call(Ks),"regexp"):$s.stylize("[Object]","special");$s.seen.push(Ks);var Qo;return Qs?Qo=Fs($s,Ks,jo,Vo,Oo):Qo=Oo.map(function(la){return qs($s,Ks,jo,Vo,la,Qs)}),$s.seen.pop(),Us(Qo,so,sa)}function Oi($s,Ks){if(Io(Ks))return $s.stylize("undefined","undefined");if(Js(Ks)){var jo="'"+JSON.stringify(Ks).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $s.stylize(jo,"string")}if(Zs(Ks))return $s.stylize(""+Ks,"number");if(Gs(Ks))return $s.stylize(""+Ks,"boolean");if(zs(Ks))return $s.stylize("null","null")}function Ts($s){return"["+Error.prototype.toString.call($s)+"]"}function Fs($s,Ks,jo,Bo,To){for(var Oo=[],Vo=0,zo=Ks.length;Vo<zo;++Vo)Ds(Ks,String(Vo))?Oo.push(qs($s,Ks,jo,Bo,String(Vo),!0)):Oo.push("");return To.forEach(function(so){so.match(/^\d+$/)||Oo.push(qs($s,Ks,jo,Bo,so,!0))}),Oo}function qs($s,Ks,jo,Bo,To,Oo){var Vo,zo,so;if(so=Object.getOwnPropertyDescriptor(Ks,To)||{value:Ks[To]},so.get?so.set?zo=$s.stylize("[Getter/Setter]","special"):zo=$s.stylize("[Getter]","special"):so.set&&(zo=$s.stylize("[Setter]","special")),Ds(Bo,To)||(Vo="["+To+"]"),zo||($s.seen.indexOf(so.value)<0?(zs(jo)?zo=xi($s,so.value,null):zo=xi($s,so.value,jo-1),zo.indexOf(`
`)>-1&&(Oo?zo=zo.split(`
`).map(function(Qs){return"  "+Qs}).join(`
`).slice(2):zo=`
`+zo.split(`
`).map(function(Qs){return"   "+Qs}).join(`
`))):zo=$s.stylize("[Circular]","special")),Io(Vo)){if(Oo&&To.match(/^\d+$/))return zo;Vo=JSON.stringify(""+To),Vo.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Vo=Vo.slice(1,-1),Vo=$s.stylize(Vo,"name")):(Vo=Vo.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Vo=$s.stylize(Vo,"string"))}return Vo+": "+zo}function Us($s,Ks,jo){var Bo=$s.reduce(function(To,Oo){return Oo.indexOf(`
`)>=0,To+Oo.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Bo>60?jo[0]+(Ks===""?"":Ks+`
 `)+" "+$s.join(`,
  `)+" "+jo[1]:jo[0]+Ks+" "+$s.join(", ")+" "+jo[1]}t.types=requireTypes();function Ls($s){return Array.isArray($s)}t.isArray=Ls;function Gs($s){return typeof $s=="boolean"}t.isBoolean=Gs;function zs($s){return $s===null}t.isNull=zs;function Vs($s){return $s==null}t.isNullOrUndefined=Vs;function Zs($s){return typeof $s=="number"}t.isNumber=Zs;function Js($s){return typeof $s=="string"}t.isString=Js;function xo($s){return typeof $s=="symbol"}t.isSymbol=xo;function Io($s){return $s===void 0}t.isUndefined=Io;function Uo($s){return Fo($s)&&Y($s)==="[object RegExp]"}t.isRegExp=Uo,t.types.isRegExp=Uo;function Fo($s){return typeof $s=="object"&&$s!==null}t.isObject=Fo;function Ys($s){return Fo($s)&&Y($s)==="[object Date]"}t.isDate=Ys,t.types.isDate=Ys;function Hs($s){return Fo($s)&&(Y($s)==="[object Error]"||$s instanceof Error)}t.isError=Hs,t.types.isNativeError=Hs;function Ws($s){return typeof $s=="function"}t.isFunction=Ws;function f($s){return $s===null||typeof $s=="boolean"||typeof $s=="number"||typeof $s=="string"||typeof $s=="symbol"||typeof $s>"u"}t.isPrimitive=f,t.isBuffer=requireIsBufferBrowser();function Y($s){return Object.prototype.toString.call($s)}function nt($s){return $s<10?"0"+$s.toString(10):$s.toString(10)}var vs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ks(){var $s=new Date,Ks=[nt($s.getHours()),nt($s.getMinutes()),nt($s.getSeconds())].join(":");return[$s.getDate(),vs[$s.getMonth()],Ks].join(" ")}t.log=function(){console.log("%s - %s",ks(),t.format.apply(t,arguments))},t.inherits=requireInherits_browser(),t._extend=function($s,Ks){if(!Ks||!Fo(Ks))return $s;for(var jo=Object.keys(Ks),Bo=jo.length;Bo--;)$s[jo[Bo]]=Ks[jo[Bo]];return $s};function Ds($s,Ks){return Object.prototype.hasOwnProperty.call($s,Ks)}var Bs=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Ks){if(typeof Ks!="function")throw new TypeError('The "original" argument must be of type Function');if(Bs&&Ks[Bs]){var jo=Ks[Bs];if(typeof jo!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(jo,Bs,{value:jo,enumerable:!1,writable:!1,configurable:!0}),jo}function jo(){for(var Bo,To,Oo=new Promise(function(so,Qs){Bo=so,To=Qs}),Vo=[],zo=0;zo<arguments.length;zo++)Vo.push(arguments[zo]);Vo.push(function(so,Qs){so?To(so):Bo(Qs)});try{Ks.apply(this,Vo)}catch(so){To(so)}return Oo}return Object.setPrototypeOf(jo,Object.getPrototypeOf(Ks)),Bs&&Object.defineProperty(jo,Bs,{value:jo,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(jo,i(Ks))},t.promisify.custom=Bs;function Ms($s,Ks){if(!$s){var jo=new Error("Promise was rejected with a falsy value");jo.reason=$s,$s=jo}return Ks($s)}function Q($s){if(typeof $s!="function")throw new TypeError('The "original" argument must be of type Function');function Ks(){for(var jo=[],Bo=0;Bo<arguments.length;Bo++)jo.push(arguments[Bo]);var To=jo.pop();if(typeof To!="function")throw new TypeError("The last argument must be of type Function");var Oo=this,Vo=function(){return To.apply(Oo,arguments)};$s.apply(this,jo).then(function(zo){process$1.nextTick(Vo.bind(null,null,zo))},function(zo){process$1.nextTick(Ms.bind(null,zo,Vo))})}return Object.setPrototypeOf(Ks,Object.getPrototypeOf($s)),Object.defineProperties(Ks,i($s)),Ks}t.callbackify=Q}(util$4)),util$4}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function t(Fs,qs){var Us=Object.keys(Fs);if(Object.getOwnPropertySymbols){var Ls=Object.getOwnPropertySymbols(Fs);qs&&(Ls=Ls.filter(function(Gs){return Object.getOwnPropertyDescriptor(Fs,Gs).enumerable})),Us.push.apply(Us,Ls)}return Us}function e(Fs){for(var qs=1;qs<arguments.length;qs++){var Us=arguments[qs]!=null?arguments[qs]:{};qs%2?t(Object(Us),!0).forEach(function(Ls){i(Fs,Ls,Us[Ls])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fs,Object.getOwnPropertyDescriptors(Us)):t(Object(Us)).forEach(function(Ls){Object.defineProperty(Fs,Ls,Object.getOwnPropertyDescriptor(Us,Ls))})}return Fs}function i(Fs,qs,Us){return qs=l(qs),qs in Fs?Object.defineProperty(Fs,qs,{value:Us,enumerable:!0,configurable:!0,writable:!0}):Fs[qs]=Us,Fs}function n(Fs,qs){if(!(Fs instanceof qs))throw new TypeError("Cannot call a class as a function")}function s(Fs,qs){for(var Us=0;Us<qs.length;Us++){var Ls=qs[Us];Ls.enumerable=Ls.enumerable||!1,Ls.configurable=!0,"value"in Ls&&(Ls.writable=!0),Object.defineProperty(Fs,l(Ls.key),Ls)}}function a(Fs,qs,Us){return qs&&s(Fs.prototype,qs),Object.defineProperty(Fs,"prototype",{writable:!1}),Fs}function l(Fs){var qs=A(Fs,"string");return typeof qs=="symbol"?qs:String(qs)}function A(Fs,qs){if(typeof Fs!="object"||Fs===null)return Fs;var Us=Fs[Symbol.toPrimitive];if(Us!==void 0){var Ls=Us.call(Fs,qs);if(typeof Ls!="object")return Ls;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fs)}var T=require$$1$3,q=T.Buffer,et=requireUtil$1(),xi=et.inspect,Oi=xi&&xi.custom||"inspect";function Ts(Fs,qs,Us){q.prototype.copy.call(Fs,qs,Us)}return buffer_list=function(){function Fs(){n(this,Fs),this.head=null,this.tail=null,this.length=0}return a(Fs,[{key:"push",value:function(Us){var Ls={data:Us,next:null};this.length>0?this.tail.next=Ls:this.head=Ls,this.tail=Ls,++this.length}},{key:"unshift",value:function(Us){var Ls={data:Us,next:this.head};this.length===0&&(this.tail=Ls),this.head=Ls,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Us=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Us}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Us){if(this.length===0)return"";for(var Ls=this.head,Gs=""+Ls.data;Ls=Ls.next;)Gs+=Us+Ls.data;return Gs}},{key:"concat",value:function(Us){if(this.length===0)return q.alloc(0);for(var Ls=q.allocUnsafe(Us>>>0),Gs=this.head,zs=0;Gs;)Ts(Gs.data,Ls,zs),zs+=Gs.data.length,Gs=Gs.next;return Ls}},{key:"consume",value:function(Us,Ls){var Gs;return Us<this.head.data.length?(Gs=this.head.data.slice(0,Us),this.head.data=this.head.data.slice(Us)):Us===this.head.data.length?Gs=this.shift():Gs=Ls?this._getString(Us):this._getBuffer(Us),Gs}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Us){var Ls=this.head,Gs=1,zs=Ls.data;for(Us-=zs.length;Ls=Ls.next;){var Vs=Ls.data,Zs=Us>Vs.length?Vs.length:Us;if(Zs===Vs.length?zs+=Vs:zs+=Vs.slice(0,Us),Us-=Zs,Us===0){Zs===Vs.length?(++Gs,Ls.next?this.head=Ls.next:this.head=this.tail=null):(this.head=Ls,Ls.data=Vs.slice(Zs));break}++Gs}return this.length-=Gs,zs}},{key:"_getBuffer",value:function(Us){var Ls=q.allocUnsafe(Us),Gs=this.head,zs=1;for(Gs.data.copy(Ls),Us-=Gs.data.length;Gs=Gs.next;){var Vs=Gs.data,Zs=Us>Vs.length?Vs.length:Us;if(Vs.copy(Ls,Ls.length-Us,0,Zs),Us-=Zs,Us===0){Zs===Vs.length?(++zs,Gs.next?this.head=Gs.next:this.head=this.tail=null):(this.head=Gs,Gs.data=Vs.slice(Zs));break}++zs}return this.length-=zs,Ls}},{key:Oi,value:function(Us,Ls){return xi(this,e(e({},Ls),{},{depth:0,customInspect:!1}))}}]),Fs}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function t(l,A){var T=this,q=this._readableState&&this._readableState.destroyed,et=this._writableState&&this._writableState.destroyed;return q||et?(A?A(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(s,this,l)):process$1.nextTick(s,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(xi){!A&&xi?T._writableState?T._writableState.errorEmitted?process$1.nextTick(i,T):(T._writableState.errorEmitted=!0,process$1.nextTick(e,T,xi)):process$1.nextTick(e,T,xi):A?(process$1.nextTick(i,T),A(xi)):process$1.nextTick(i,T)}),this)}function e(l,A){s(l,A),i(l)}function i(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(l,A){l.emit("error",A)}function a(l,A){var T=l._readableState,q=l._writableState;T&&T.autoDestroy||q&&q.autoDestroy?l.destroy(A):l.emit("error",A)}return destroy_1$1={destroy:t,undestroy:n,errorOrDestroy:a},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function t(A,T){A.prototype=Object.create(T.prototype),A.prototype.constructor=A,A.__proto__=T}var e={};function i(A,T,q){q||(q=Error);function et(Oi,Ts,Fs){return typeof T=="string"?T:T(Oi,Ts,Fs)}var xi=function(Oi){t(Ts,Oi);function Ts(Fs,qs,Us){return Oi.call(this,et(Fs,qs,Us))||this}return Ts}(q);xi.prototype.name=q.name,xi.prototype.code=A,e[A]=xi}function n(A,T){if(Array.isArray(A)){var q=A.length;return A=A.map(function(et){return String(et)}),q>2?"one of ".concat(T," ").concat(A.slice(0,q-1).join(", "),", or ")+A[q-1]:q===2?"one of ".concat(T," ").concat(A[0]," or ").concat(A[1]):"of ".concat(T," ").concat(A[0])}else return"of ".concat(T," ").concat(String(A))}function s(A,T,q){return A.substr(0,T.length)===T}function a(A,T,q){return(q===void 0||q>A.length)&&(q=A.length),A.substring(q-T.length,q)===T}function l(A,T,q){return typeof q!="number"&&(q=0),q+T.length>A.length?!1:A.indexOf(T,q)!==-1}return i("ERR_INVALID_OPT_VALUE",function(A,T){return'The value "'+T+'" is invalid for option "'+A+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(A,T,q){var et;typeof T=="string"&&s(T,"not ")?(et="must not be",T=T.replace(/^not /,"")):et="must be";var xi;if(a(A," argument"))xi="The ".concat(A," ").concat(et," ").concat(n(T,"type"));else{var Oi=l(A,".")?"property":"argument";xi='The "'.concat(A,'" ').concat(Oi," ").concat(et," ").concat(n(T,"type"))}return xi+=". Received type ".concat(typeof q),xi},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var t=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function e(n,s,a){return n.highWaterMark!=null?n.highWaterMark:s?n[a]:null}function i(n,s,a,l){var A=e(s,l,a);if(A!=null){if(!(isFinite(A)&&Math.floor(A)===A)||A<0){var T=l?a:"highWaterMark";throw new t(T,A)}return Math.floor(A)}return n.objectMode?16:16*1024}return state={getHighWaterMark:i},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=t;function t(i,n){if(e("noDeprecation"))return i;var s=!1;function a(){if(!s){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),s=!0}return i.apply(this,arguments)}return a}function e(i){try{if(!commonjsGlobal$1.localStorage)return!1}catch{return!1}var n=commonjsGlobal$1.localStorage[i];return n==null?!1:String(n).toLowerCase()==="true"}return browser$a}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Io;function t(Bo){var To=this;this.next=null,this.entry=null,this.finish=function(){jo(To,Bo)}}var e;Io.WritableState=Js;var i={deprecate:requireBrowser$a()},n=requireStreamBrowser$1(),s=require$$1$3.Buffer,a=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(Bo){return s.from(Bo)}function A(Bo){return s.isBuffer(Bo)||Bo instanceof a}var T=requireDestroy$1(),q=requireState(),et=q.getHighWaterMark,xi=requireErrorsBrowser().codes,Oi=xi.ERR_INVALID_ARG_TYPE,Ts=xi.ERR_METHOD_NOT_IMPLEMENTED,Fs=xi.ERR_MULTIPLE_CALLBACK,qs=xi.ERR_STREAM_CANNOT_PIPE,Us=xi.ERR_STREAM_DESTROYED,Ls=xi.ERR_STREAM_NULL_VALUES,Gs=xi.ERR_STREAM_WRITE_AFTER_END,zs=xi.ERR_UNKNOWN_ENCODING,Vs=T.errorOrDestroy;requireInherits_browser()(Io,n);function Zs(){}function Js(Bo,To,Oo){e=e||require_stream_duplex$1(),Bo=Bo||{},typeof Oo!="boolean"&&(Oo=To instanceof e),this.objectMode=!!Bo.objectMode,Oo&&(this.objectMode=this.objectMode||!!Bo.writableObjectMode),this.highWaterMark=et(this,Bo,"writableHighWaterMark",Oo),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Vo=Bo.decodeStrings===!1;this.decodeStrings=!Vo,this.defaultEncoding=Bo.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(zo){nt(To,zo)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Bo.emitClose!==!1,this.autoDestroy=!!Bo.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}Js.prototype.getBuffer=function(){for(var To=this.bufferedRequest,Oo=[];To;)Oo.push(To),To=To.next;return Oo},function(){try{Object.defineProperty(Js.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var xo;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(xo=Function.prototype[Symbol.hasInstance],Object.defineProperty(Io,Symbol.hasInstance,{value:function(To){return xo.call(this,To)?!0:this!==Io?!1:To&&To._writableState instanceof Js}})):xo=function(To){return To instanceof this};function Io(Bo){e=e||require_stream_duplex$1();var To=this instanceof e;if(!To&&!xo.call(Io,this))return new Io(Bo);this._writableState=new Js(Bo,this,To),this.writable=!0,Bo&&(typeof Bo.write=="function"&&(this._write=Bo.write),typeof Bo.writev=="function"&&(this._writev=Bo.writev),typeof Bo.destroy=="function"&&(this._destroy=Bo.destroy),typeof Bo.final=="function"&&(this._final=Bo.final)),n.call(this)}Io.prototype.pipe=function(){Vs(this,new qs)};function Uo(Bo,To){var Oo=new Gs;Vs(Bo,Oo),process$1.nextTick(To,Oo)}function Fo(Bo,To,Oo,Vo){var zo;return Oo===null?zo=new Ls:typeof Oo!="string"&&!To.objectMode&&(zo=new Oi("chunk",["string","Buffer"],Oo)),zo?(Vs(Bo,zo),process$1.nextTick(Vo,zo),!1):!0}Io.prototype.write=function(Bo,To,Oo){var Vo=this._writableState,zo=!1,so=!Vo.objectMode&&A(Bo);return so&&!s.isBuffer(Bo)&&(Bo=l(Bo)),typeof To=="function"&&(Oo=To,To=null),so?To="buffer":To||(To=Vo.defaultEncoding),typeof Oo!="function"&&(Oo=Zs),Vo.ending?Uo(this,Oo):(so||Fo(this,Vo,Bo,Oo))&&(Vo.pendingcb++,zo=Hs(this,Vo,so,Bo,To,Oo)),zo},Io.prototype.cork=function(){this._writableState.corked++},Io.prototype.uncork=function(){var Bo=this._writableState;Bo.corked&&(Bo.corked--,!Bo.writing&&!Bo.corked&&!Bo.bufferProcessing&&Bo.bufferedRequest&&Ds(this,Bo))},Io.prototype.setDefaultEncoding=function(To){if(typeof To=="string"&&(To=To.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((To+"").toLowerCase())>-1))throw new zs(To);return this._writableState.defaultEncoding=To,this},Object.defineProperty(Io.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ys(Bo,To,Oo){return!Bo.objectMode&&Bo.decodeStrings!==!1&&typeof To=="string"&&(To=s.from(To,Oo)),To}Object.defineProperty(Io.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Hs(Bo,To,Oo,Vo,zo,so){if(!Oo){var Qs=Ys(To,Vo,zo);Vo!==Qs&&(Oo=!0,zo="buffer",Vo=Qs)}var sa=To.objectMode?1:Vo.length;To.length+=sa;var Zo=To.length<To.highWaterMark;if(Zo||(To.needDrain=!0),To.writing||To.corked){var Qo=To.lastBufferedRequest;To.lastBufferedRequest={chunk:Vo,encoding:zo,isBuf:Oo,callback:so,next:null},Qo?Qo.next=To.lastBufferedRequest:To.bufferedRequest=To.lastBufferedRequest,To.bufferedRequestCount+=1}else Ws(Bo,To,!1,sa,Vo,zo,so);return Zo}function Ws(Bo,To,Oo,Vo,zo,so,Qs){To.writelen=Vo,To.writecb=Qs,To.writing=!0,To.sync=!0,To.destroyed?To.onwrite(new Us("write")):Oo?Bo._writev(zo,To.onwrite):Bo._write(zo,so,To.onwrite),To.sync=!1}function f(Bo,To,Oo,Vo,zo){--To.pendingcb,Oo?(process$1.nextTick(zo,Vo),process$1.nextTick($s,Bo,To),Bo._writableState.errorEmitted=!0,Vs(Bo,Vo)):(zo(Vo),Bo._writableState.errorEmitted=!0,Vs(Bo,Vo),$s(Bo,To))}function Y(Bo){Bo.writing=!1,Bo.writecb=null,Bo.length-=Bo.writelen,Bo.writelen=0}function nt(Bo,To){var Oo=Bo._writableState,Vo=Oo.sync,zo=Oo.writecb;if(typeof zo!="function")throw new Fs;if(Y(Oo),To)f(Bo,Oo,Vo,To,zo);else{var so=Bs(Oo)||Bo.destroyed;!so&&!Oo.corked&&!Oo.bufferProcessing&&Oo.bufferedRequest&&Ds(Bo,Oo),Vo?process$1.nextTick(vs,Bo,Oo,so,zo):vs(Bo,Oo,so,zo)}}function vs(Bo,To,Oo,Vo){Oo||ks(Bo,To),To.pendingcb--,Vo(),$s(Bo,To)}function ks(Bo,To){To.length===0&&To.needDrain&&(To.needDrain=!1,Bo.emit("drain"))}function Ds(Bo,To){To.bufferProcessing=!0;var Oo=To.bufferedRequest;if(Bo._writev&&Oo&&Oo.next){var Vo=To.bufferedRequestCount,zo=new Array(Vo),so=To.corkedRequestsFree;so.entry=Oo;for(var Qs=0,sa=!0;Oo;)zo[Qs]=Oo,Oo.isBuf||(sa=!1),Oo=Oo.next,Qs+=1;zo.allBuffers=sa,Ws(Bo,To,!0,To.length,zo,"",so.finish),To.pendingcb++,To.lastBufferedRequest=null,so.next?(To.corkedRequestsFree=so.next,so.next=null):To.corkedRequestsFree=new t(To),To.bufferedRequestCount=0}else{for(;Oo;){var Zo=Oo.chunk,Qo=Oo.encoding,la=Oo.callback,Ko=To.objectMode?1:Zo.length;if(Ws(Bo,To,!1,Ko,Zo,Qo,la),Oo=Oo.next,To.bufferedRequestCount--,To.writing)break}Oo===null&&(To.lastBufferedRequest=null)}To.bufferedRequest=Oo,To.bufferProcessing=!1}Io.prototype._write=function(Bo,To,Oo){Oo(new Ts("_write()"))},Io.prototype._writev=null,Io.prototype.end=function(Bo,To,Oo){var Vo=this._writableState;return typeof Bo=="function"?(Oo=Bo,Bo=null,To=null):typeof To=="function"&&(Oo=To,To=null),Bo!=null&&this.write(Bo,To),Vo.corked&&(Vo.corked=1,this.uncork()),Vo.ending||Ks(this,Vo,Oo),this},Object.defineProperty(Io.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Bs(Bo){return Bo.ending&&Bo.length===0&&Bo.bufferedRequest===null&&!Bo.finished&&!Bo.writing}function Ms(Bo,To){Bo._final(function(Oo){To.pendingcb--,Oo&&Vs(Bo,Oo),To.prefinished=!0,Bo.emit("prefinish"),$s(Bo,To)})}function Q(Bo,To){!To.prefinished&&!To.finalCalled&&(typeof Bo._final=="function"&&!To.destroyed?(To.pendingcb++,To.finalCalled=!0,process$1.nextTick(Ms,Bo,To)):(To.prefinished=!0,Bo.emit("prefinish")))}function $s(Bo,To){var Oo=Bs(To);if(Oo&&(Q(Bo,To),To.pendingcb===0&&(To.finished=!0,Bo.emit("finish"),To.autoDestroy))){var Vo=Bo._readableState;(!Vo||Vo.autoDestroy&&Vo.endEmitted)&&Bo.destroy()}return Oo}function Ks(Bo,To,Oo){To.ending=!0,$s(Bo,To),Oo&&(To.finished?process$1.nextTick(Oo):Bo.once("finish",Oo)),To.ended=!0,Bo.writable=!1}function jo(Bo,To,Oo){var Vo=Bo.entry;for(Bo.entry=null;Vo;){var zo=Vo.callback;To.pendingcb--,zo(Oo),Vo=Vo.next}To.corkedRequestsFree.next=Bo}return Object.defineProperty(Io.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(To){this._writableState&&(this._writableState.destroyed=To)}}),Io.prototype.destroy=T.destroy,Io.prototype._undestroy=T.undestroy,Io.prototype._destroy=function(Bo,To){To(Bo)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var t=Object.keys||function(q){var et=[];for(var xi in q)et.push(xi);return et};_stream_duplex$1=l;var e=require_stream_readable$1(),i=require_stream_writable$1();requireInherits_browser()(l,e);for(var n=t(i.prototype),s=0;s<n.length;s++){var a=n[s];l.prototype[a]||(l.prototype[a]=i.prototype[a])}function l(q){if(!(this instanceof l))return new l(q);e.call(this,q),i.call(this,q),this.allowHalfOpen=!0,q&&(q.readable===!1&&(this.readable=!1),q.writable===!1&&(this.writable=!1),q.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",A)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function A(){this._writableState.ended||process$1.nextTick(T,this)}function T(q){q.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(et){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=et,this._writableState.destroyed=et)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var t=requireSafeBuffer$1().Buffer,e=t.isEncoding||function(Ls){switch(Ls=""+Ls,Ls&&Ls.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(Ls){if(!Ls)return"utf8";for(var Gs;;)switch(Ls){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Ls;default:if(Gs)return;Ls=(""+Ls).toLowerCase(),Gs=!0}}function n(Ls){var Gs=i(Ls);if(typeof Gs!="string"&&(t.isEncoding===e||!e(Ls)))throw new Error("Unknown encoding: "+Ls);return Gs||Ls}string_decoder.StringDecoder=s;function s(Ls){this.encoding=n(Ls);var Gs;switch(this.encoding){case"utf16le":this.text=xi,this.end=Oi,Gs=4;break;case"utf8":this.fillLast=T,Gs=4;break;case"base64":this.text=Ts,this.end=Fs,Gs=3;break;default:this.write=qs,this.end=Us;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(Gs)}s.prototype.write=function(Ls){if(Ls.length===0)return"";var Gs,zs;if(this.lastNeed){if(Gs=this.fillLast(Ls),Gs===void 0)return"";zs=this.lastNeed,this.lastNeed=0}else zs=0;return zs<Ls.length?Gs?Gs+this.text(Ls,zs):this.text(Ls,zs):Gs||""},s.prototype.end=et,s.prototype.text=q,s.prototype.fillLast=function(Ls){if(this.lastNeed<=Ls.length)return Ls.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Ls.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Ls.length),this.lastNeed-=Ls.length};function a(Ls){return Ls<=127?0:Ls>>5===6?2:Ls>>4===14?3:Ls>>3===30?4:Ls>>6===2?-1:-2}function l(Ls,Gs,zs){var Vs=Gs.length-1;if(Vs<zs)return 0;var Zs=a(Gs[Vs]);return Zs>=0?(Zs>0&&(Ls.lastNeed=Zs-1),Zs):--Vs<zs||Zs===-2?0:(Zs=a(Gs[Vs]),Zs>=0?(Zs>0&&(Ls.lastNeed=Zs-2),Zs):--Vs<zs||Zs===-2?0:(Zs=a(Gs[Vs]),Zs>=0?(Zs>0&&(Zs===2?Zs=0:Ls.lastNeed=Zs-3),Zs):0))}function A(Ls,Gs,zs){if((Gs[0]&192)!==128)return Ls.lastNeed=0,"";if(Ls.lastNeed>1&&Gs.length>1){if((Gs[1]&192)!==128)return Ls.lastNeed=1,"";if(Ls.lastNeed>2&&Gs.length>2&&(Gs[2]&192)!==128)return Ls.lastNeed=2,""}}function T(Ls){var Gs=this.lastTotal-this.lastNeed,zs=A(this,Ls);if(zs!==void 0)return zs;if(this.lastNeed<=Ls.length)return Ls.copy(this.lastChar,Gs,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Ls.copy(this.lastChar,Gs,0,Ls.length),this.lastNeed-=Ls.length}function q(Ls,Gs){var zs=l(this,Ls,Gs);if(!this.lastNeed)return Ls.toString("utf8",Gs);this.lastTotal=zs;var Vs=Ls.length-(zs-this.lastNeed);return Ls.copy(this.lastChar,0,Vs),Ls.toString("utf8",Gs,Vs)}function et(Ls){var Gs=Ls&&Ls.length?this.write(Ls):"";return this.lastNeed?Gs+"":Gs}function xi(Ls,Gs){if((Ls.length-Gs)%2===0){var zs=Ls.toString("utf16le",Gs);if(zs){var Vs=zs.charCodeAt(zs.length-1);if(Vs>=55296&&Vs<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Ls[Ls.length-2],this.lastChar[1]=Ls[Ls.length-1],zs.slice(0,-1)}return zs}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Ls[Ls.length-1],Ls.toString("utf16le",Gs,Ls.length-1)}function Oi(Ls){var Gs=Ls&&Ls.length?this.write(Ls):"";if(this.lastNeed){var zs=this.lastTotal-this.lastNeed;return Gs+this.lastChar.toString("utf16le",0,zs)}return Gs}function Ts(Ls,Gs){var zs=(Ls.length-Gs)%3;return zs===0?Ls.toString("base64",Gs):(this.lastNeed=3-zs,this.lastTotal=3,zs===1?this.lastChar[0]=Ls[Ls.length-1]:(this.lastChar[0]=Ls[Ls.length-2],this.lastChar[1]=Ls[Ls.length-1]),Ls.toString("base64",Gs,Ls.length-zs))}function Fs(Ls){var Gs=Ls&&Ls.length?this.write(Ls):"";return this.lastNeed?Gs+this.lastChar.toString("base64",0,3-this.lastNeed):Gs}function qs(Ls){return Ls.toString(this.encoding)}function Us(Ls){return Ls&&Ls.length?this.write(Ls):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var t=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var l=!1;return function(){if(!l){l=!0;for(var A=arguments.length,T=new Array(A),q=0;q<A;q++)T[q]=arguments[q];a.apply(this,T)}}}function i(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function s(a,l,A){if(typeof l=="function")return s(a,null,l);l||(l={}),A=e(A||i);var T=l.readable||l.readable!==!1&&a.readable,q=l.writable||l.writable!==!1&&a.writable,et=function(){a.writable||Oi()},xi=a._writableState&&a._writableState.finished,Oi=function(){q=!1,xi=!0,T||A.call(a)},Ts=a._readableState&&a._readableState.endEmitted,Fs=function(){T=!1,Ts=!0,q||A.call(a)},qs=function(zs){A.call(a,zs)},Us=function(){var zs;if(T&&!Ts)return(!a._readableState||!a._readableState.ended)&&(zs=new t),A.call(a,zs);if(q&&!xi)return(!a._writableState||!a._writableState.ended)&&(zs=new t),A.call(a,zs)},Ls=function(){a.req.on("finish",Oi)};return n(a)?(a.on("complete",Oi),a.on("abort",Us),a.req?Ls():a.on("request",Ls)):q&&!a._writableState&&(a.on("end",et),a.on("close",et)),a.on("end",Fs),a.on("finish",Oi),l.error!==!1&&a.on("error",qs),a.on("close",Us),function(){a.removeListener("complete",Oi),a.removeListener("abort",Us),a.removeListener("request",Ls),a.req&&a.req.removeListener("finish",Oi),a.removeListener("end",et),a.removeListener("close",et),a.removeListener("finish",Oi),a.removeListener("end",Fs),a.removeListener("error",qs),a.removeListener("close",Us)}}return endOfStream=s,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var t;function e(zs,Vs,Zs){return Vs=i(Vs),Vs in zs?Object.defineProperty(zs,Vs,{value:Zs,enumerable:!0,configurable:!0,writable:!0}):zs[Vs]=Zs,zs}function i(zs){var Vs=n(zs,"string");return typeof Vs=="symbol"?Vs:String(Vs)}function n(zs,Vs){if(typeof zs!="object"||zs===null)return zs;var Zs=zs[Symbol.toPrimitive];if(Zs!==void 0){var Js=Zs.call(zs,Vs);if(typeof Js!="object")return Js;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Vs==="string"?String:Number)(zs)}var s=requireEndOfStream(),a=Symbol("lastResolve"),l=Symbol("lastReject"),A=Symbol("error"),T=Symbol("ended"),q=Symbol("lastPromise"),et=Symbol("handlePromise"),xi=Symbol("stream");function Oi(zs,Vs){return{value:zs,done:Vs}}function Ts(zs){var Vs=zs[a];if(Vs!==null){var Zs=zs[xi].read();Zs!==null&&(zs[q]=null,zs[a]=null,zs[l]=null,Vs(Oi(Zs,!1)))}}function Fs(zs){process$1.nextTick(Ts,zs)}function qs(zs,Vs){return function(Zs,Js){zs.then(function(){if(Vs[T]){Zs(Oi(void 0,!0));return}Vs[et](Zs,Js)},Js)}}var Us=Object.getPrototypeOf(function(){}),Ls=Object.setPrototypeOf((t={get stream(){return this[xi]},next:function(){var Vs=this,Zs=this[A];if(Zs!==null)return Promise.reject(Zs);if(this[T])return Promise.resolve(Oi(void 0,!0));if(this[xi].destroyed)return new Promise(function(Uo,Fo){process$1.nextTick(function(){Vs[A]?Fo(Vs[A]):Uo(Oi(void 0,!0))})});var Js=this[q],xo;if(Js)xo=new Promise(qs(Js,this));else{var Io=this[xi].read();if(Io!==null)return Promise.resolve(Oi(Io,!1));xo=new Promise(this[et])}return this[q]=xo,xo}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var Vs=this;return new Promise(function(Zs,Js){Vs[xi].destroy(null,function(xo){if(xo){Js(xo);return}Zs(Oi(void 0,!0))})})}),t),Us),Gs=function(Vs){var Zs,Js=Object.create(Ls,(Zs={},e(Zs,xi,{value:Vs,writable:!0}),e(Zs,a,{value:null,writable:!0}),e(Zs,l,{value:null,writable:!0}),e(Zs,A,{value:null,writable:!0}),e(Zs,T,{value:Vs._readableState.endEmitted,writable:!0}),e(Zs,et,{value:function(Io,Uo){var Fo=Js[xi].read();Fo?(Js[q]=null,Js[a]=null,Js[l]=null,Io(Oi(Fo,!1))):(Js[a]=Io,Js[l]=Uo)},writable:!0}),Zs));return Js[q]=null,s(Vs,function(xo){if(xo&&xo.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Io=Js[l];Io!==null&&(Js[q]=null,Js[a]=null,Js[l]=null,Io(xo)),Js[A]=xo;return}var Uo=Js[a];Uo!==null&&(Js[q]=null,Js[a]=null,Js[l]=null,Uo(Oi(void 0,!0))),Js[T]=!0}),Vs.on("readable",Fs.bind(null,Js)),Js};return async_iterator=Gs,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Uo;var t;Uo.ReadableState=Io,requireEvents().EventEmitter;var e=function(Qs,sa){return Qs.listeners(sa).length},i=requireStreamBrowser$1(),n=require$$1$3.Buffer,s=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(so){return n.from(so)}function l(so){return n.isBuffer(so)||so instanceof s}var A=requireUtil$1(),T;A&&A.debuglog?T=A.debuglog("stream"):T=function(){};var q=requireBuffer_list(),et=requireDestroy$1(),xi=requireState(),Oi=xi.getHighWaterMark,Ts=requireErrorsBrowser().codes,Fs=Ts.ERR_INVALID_ARG_TYPE,qs=Ts.ERR_STREAM_PUSH_AFTER_EOF,Us=Ts.ERR_METHOD_NOT_IMPLEMENTED,Ls=Ts.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Gs,zs,Vs;requireInherits_browser()(Uo,i);var Zs=et.errorOrDestroy,Js=["error","close","destroy","pause","resume"];function xo(so,Qs,sa){if(typeof so.prependListener=="function")return so.prependListener(Qs,sa);!so._events||!so._events[Qs]?so.on(Qs,sa):Array.isArray(so._events[Qs])?so._events[Qs].unshift(sa):so._events[Qs]=[sa,so._events[Qs]]}function Io(so,Qs,sa){t=t||require_stream_duplex$1(),so=so||{},typeof sa!="boolean"&&(sa=Qs instanceof t),this.objectMode=!!so.objectMode,sa&&(this.objectMode=this.objectMode||!!so.readableObjectMode),this.highWaterMark=Oi(this,so,"readableHighWaterMark",sa),this.buffer=new q,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=so.emitClose!==!1,this.autoDestroy=!!so.autoDestroy,this.destroyed=!1,this.defaultEncoding=so.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,so.encoding&&(Gs||(Gs=requireString_decoder().StringDecoder),this.decoder=new Gs(so.encoding),this.encoding=so.encoding)}function Uo(so){if(t=t||require_stream_duplex$1(),!(this instanceof Uo))return new Uo(so);var Qs=this instanceof t;this._readableState=new Io(so,this,Qs),this.readable=!0,so&&(typeof so.read=="function"&&(this._read=so.read),typeof so.destroy=="function"&&(this._destroy=so.destroy)),i.call(this)}Object.defineProperty(Uo.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Qs){this._readableState&&(this._readableState.destroyed=Qs)}}),Uo.prototype.destroy=et.destroy,Uo.prototype._undestroy=et.undestroy,Uo.prototype._destroy=function(so,Qs){Qs(so)},Uo.prototype.push=function(so,Qs){var sa=this._readableState,Zo;return sa.objectMode?Zo=!0:typeof so=="string"&&(Qs=Qs||sa.defaultEncoding,Qs!==sa.encoding&&(so=n.from(so,Qs),Qs=""),Zo=!0),Fo(this,so,Qs,!1,Zo)},Uo.prototype.unshift=function(so){return Fo(this,so,null,!0,!1)};function Fo(so,Qs,sa,Zo,Qo){T("readableAddChunk",Qs);var la=so._readableState;if(Qs===null)la.reading=!1,nt(so,la);else{var Ko;if(Qo||(Ko=Hs(la,Qs)),Ko)Zs(so,Ko);else if(la.objectMode||Qs&&Qs.length>0)if(typeof Qs!="string"&&!la.objectMode&&Object.getPrototypeOf(Qs)!==n.prototype&&(Qs=a(Qs)),Zo)la.endEmitted?Zs(so,new Ls):Ys(so,la,Qs,!0);else if(la.ended)Zs(so,new qs);else{if(la.destroyed)return!1;la.reading=!1,la.decoder&&!sa?(Qs=la.decoder.write(Qs),la.objectMode||Qs.length!==0?Ys(so,la,Qs,!1):Ds(so,la)):Ys(so,la,Qs,!1)}else Zo||(la.reading=!1,Ds(so,la))}return!la.ended&&(la.length<la.highWaterMark||la.length===0)}function Ys(so,Qs,sa,Zo){Qs.flowing&&Qs.length===0&&!Qs.sync?(Qs.awaitDrain=0,so.emit("data",sa)):(Qs.length+=Qs.objectMode?1:sa.length,Zo?Qs.buffer.unshift(sa):Qs.buffer.push(sa),Qs.needReadable&&vs(so)),Ds(so,Qs)}function Hs(so,Qs){var sa;return!l(Qs)&&typeof Qs!="string"&&Qs!==void 0&&!so.objectMode&&(sa=new Fs("chunk",["string","Buffer","Uint8Array"],Qs)),sa}Uo.prototype.isPaused=function(){return this._readableState.flowing===!1},Uo.prototype.setEncoding=function(so){Gs||(Gs=requireString_decoder().StringDecoder);var Qs=new Gs(so);this._readableState.decoder=Qs,this._readableState.encoding=this._readableState.decoder.encoding;for(var sa=this._readableState.buffer.head,Zo="";sa!==null;)Zo+=Qs.write(sa.data),sa=sa.next;return this._readableState.buffer.clear(),Zo!==""&&this._readableState.buffer.push(Zo),this._readableState.length=Zo.length,this};var Ws=1073741824;function f(so){return so>=Ws?so=Ws:(so--,so|=so>>>1,so|=so>>>2,so|=so>>>4,so|=so>>>8,so|=so>>>16,so++),so}function Y(so,Qs){return so<=0||Qs.length===0&&Qs.ended?0:Qs.objectMode?1:so!==so?Qs.flowing&&Qs.length?Qs.buffer.head.data.length:Qs.length:(so>Qs.highWaterMark&&(Qs.highWaterMark=f(so)),so<=Qs.length?so:Qs.ended?Qs.length:(Qs.needReadable=!0,0))}Uo.prototype.read=function(so){T("read",so),so=parseInt(so,10);var Qs=this._readableState,sa=so;if(so!==0&&(Qs.emittedReadable=!1),so===0&&Qs.needReadable&&((Qs.highWaterMark!==0?Qs.length>=Qs.highWaterMark:Qs.length>0)||Qs.ended))return T("read: emitReadable",Qs.length,Qs.ended),Qs.length===0&&Qs.ended?Oo(this):vs(this),null;if(so=Y(so,Qs),so===0&&Qs.ended)return Qs.length===0&&Oo(this),null;var Zo=Qs.needReadable;T("need readable",Zo),(Qs.length===0||Qs.length-so<Qs.highWaterMark)&&(Zo=!0,T("length less than watermark",Zo)),Qs.ended||Qs.reading?(Zo=!1,T("reading or ended",Zo)):Zo&&(T("do read"),Qs.reading=!0,Qs.sync=!0,Qs.length===0&&(Qs.needReadable=!0),this._read(Qs.highWaterMark),Qs.sync=!1,Qs.reading||(so=Y(sa,Qs)));var Qo;return so>0?Qo=To(so,Qs):Qo=null,Qo===null?(Qs.needReadable=Qs.length<=Qs.highWaterMark,so=0):(Qs.length-=so,Qs.awaitDrain=0),Qs.length===0&&(Qs.ended||(Qs.needReadable=!0),sa!==so&&Qs.ended&&Oo(this)),Qo!==null&&this.emit("data",Qo),Qo};function nt(so,Qs){if(T("onEofChunk"),!Qs.ended){if(Qs.decoder){var sa=Qs.decoder.end();sa&&sa.length&&(Qs.buffer.push(sa),Qs.length+=Qs.objectMode?1:sa.length)}Qs.ended=!0,Qs.sync?vs(so):(Qs.needReadable=!1,Qs.emittedReadable||(Qs.emittedReadable=!0,ks(so)))}}function vs(so){var Qs=so._readableState;T("emitReadable",Qs.needReadable,Qs.emittedReadable),Qs.needReadable=!1,Qs.emittedReadable||(T("emitReadable",Qs.flowing),Qs.emittedReadable=!0,process$1.nextTick(ks,so))}function ks(so){var Qs=so._readableState;T("emitReadable_",Qs.destroyed,Qs.length,Qs.ended),!Qs.destroyed&&(Qs.length||Qs.ended)&&(so.emit("readable"),Qs.emittedReadable=!1),Qs.needReadable=!Qs.flowing&&!Qs.ended&&Qs.length<=Qs.highWaterMark,Bo(so)}function Ds(so,Qs){Qs.readingMore||(Qs.readingMore=!0,process$1.nextTick(Bs,so,Qs))}function Bs(so,Qs){for(;!Qs.reading&&!Qs.ended&&(Qs.length<Qs.highWaterMark||Qs.flowing&&Qs.length===0);){var sa=Qs.length;if(T("maybeReadMore read 0"),so.read(0),sa===Qs.length)break}Qs.readingMore=!1}Uo.prototype._read=function(so){Zs(this,new Us("_read()"))},Uo.prototype.pipe=function(so,Qs){var sa=this,Zo=this._readableState;switch(Zo.pipesCount){case 0:Zo.pipes=so;break;case 1:Zo.pipes=[Zo.pipes,so];break;default:Zo.pipes.push(so);break}Zo.pipesCount+=1,T("pipe count=%d opts=%j",Zo.pipesCount,Qs);var Qo=(!Qs||Qs.end!==!1)&&so!==process$1.stdout&&so!==process$1.stderr,la=Qo?Jo:ga;Zo.endEmitted?process$1.nextTick(la):sa.once("end",la),so.on("unpipe",Ko);function Ko(ha,Ga){T("onunpipe"),ha===sa&&Ga&&Ga.hasUnpiped===!1&&(Ga.hasUnpiped=!0,ua())}function Jo(){T("onend"),so.end()}var aa=Ms(sa);so.on("drain",aa);var oa=!1;function ua(){T("cleanup"),so.removeListener("close",fa),so.removeListener("finish",La),so.removeListener("drain",aa),so.removeListener("error",da),so.removeListener("unpipe",Ko),sa.removeListener("end",Jo),sa.removeListener("end",ga),sa.removeListener("data",Ma),oa=!0,Zo.awaitDrain&&(!so._writableState||so._writableState.needDrain)&&aa()}sa.on("data",Ma);function Ma(ha){T("ondata");var Ga=so.write(ha);T("dest.write",Ga),Ga===!1&&((Zo.pipesCount===1&&Zo.pipes===so||Zo.pipesCount>1&&zo(Zo.pipes,so)!==-1)&&!oa&&(T("false write response, pause",Zo.awaitDrain),Zo.awaitDrain++),sa.pause())}function da(ha){T("onerror",ha),ga(),so.removeListener("error",da),e(so,"error")===0&&Zs(so,ha)}xo(so,"error",da);function fa(){so.removeListener("finish",La),ga()}so.once("close",fa);function La(){T("onfinish"),so.removeListener("close",fa),ga()}so.once("finish",La);function ga(){T("unpipe"),sa.unpipe(so)}return so.emit("pipe",sa),Zo.flowing||(T("pipe resume"),sa.resume()),so};function Ms(so){return function(){var sa=so._readableState;T("pipeOnDrain",sa.awaitDrain),sa.awaitDrain&&sa.awaitDrain--,sa.awaitDrain===0&&e(so,"data")&&(sa.flowing=!0,Bo(so))}}Uo.prototype.unpipe=function(so){var Qs=this._readableState,sa={hasUnpiped:!1};if(Qs.pipesCount===0)return this;if(Qs.pipesCount===1)return so&&so!==Qs.pipes?this:(so||(so=Qs.pipes),Qs.pipes=null,Qs.pipesCount=0,Qs.flowing=!1,so&&so.emit("unpipe",this,sa),this);if(!so){var Zo=Qs.pipes,Qo=Qs.pipesCount;Qs.pipes=null,Qs.pipesCount=0,Qs.flowing=!1;for(var la=0;la<Qo;la++)Zo[la].emit("unpipe",this,{hasUnpiped:!1});return this}var Ko=zo(Qs.pipes,so);return Ko===-1?this:(Qs.pipes.splice(Ko,1),Qs.pipesCount-=1,Qs.pipesCount===1&&(Qs.pipes=Qs.pipes[0]),so.emit("unpipe",this,sa),this)},Uo.prototype.on=function(so,Qs){var sa=i.prototype.on.call(this,so,Qs),Zo=this._readableState;return so==="data"?(Zo.readableListening=this.listenerCount("readable")>0,Zo.flowing!==!1&&this.resume()):so==="readable"&&!Zo.endEmitted&&!Zo.readableListening&&(Zo.readableListening=Zo.needReadable=!0,Zo.flowing=!1,Zo.emittedReadable=!1,T("on readable",Zo.length,Zo.reading),Zo.length?vs(this):Zo.reading||process$1.nextTick($s,this)),sa},Uo.prototype.addListener=Uo.prototype.on,Uo.prototype.removeListener=function(so,Qs){var sa=i.prototype.removeListener.call(this,so,Qs);return so==="readable"&&process$1.nextTick(Q,this),sa},Uo.prototype.removeAllListeners=function(so){var Qs=i.prototype.removeAllListeners.apply(this,arguments);return(so==="readable"||so===void 0)&&process$1.nextTick(Q,this),Qs};function Q(so){var Qs=so._readableState;Qs.readableListening=so.listenerCount("readable")>0,Qs.resumeScheduled&&!Qs.paused?Qs.flowing=!0:so.listenerCount("data")>0&&so.resume()}function $s(so){T("readable nexttick read 0"),so.read(0)}Uo.prototype.resume=function(){var so=this._readableState;return so.flowing||(T("resume"),so.flowing=!so.readableListening,Ks(this,so)),so.paused=!1,this};function Ks(so,Qs){Qs.resumeScheduled||(Qs.resumeScheduled=!0,process$1.nextTick(jo,so,Qs))}function jo(so,Qs){T("resume",Qs.reading),Qs.reading||so.read(0),Qs.resumeScheduled=!1,so.emit("resume"),Bo(so),Qs.flowing&&!Qs.reading&&so.read(0)}Uo.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Bo(so){var Qs=so._readableState;for(T("flow",Qs.flowing);Qs.flowing&&so.read()!==null;);}Uo.prototype.wrap=function(so){var Qs=this,sa=this._readableState,Zo=!1;so.on("end",function(){if(T("wrapped end"),sa.decoder&&!sa.ended){var Ko=sa.decoder.end();Ko&&Ko.length&&Qs.push(Ko)}Qs.push(null)}),so.on("data",function(Ko){if(T("wrapped data"),sa.decoder&&(Ko=sa.decoder.write(Ko)),!(sa.objectMode&&Ko==null)&&!(!sa.objectMode&&(!Ko||!Ko.length))){var Jo=Qs.push(Ko);Jo||(Zo=!0,so.pause())}});for(var Qo in so)this[Qo]===void 0&&typeof so[Qo]=="function"&&(this[Qo]=function(Jo){return function(){return so[Jo].apply(so,arguments)}}(Qo));for(var la=0;la<Js.length;la++)so.on(Js[la],this.emit.bind(this,Js[la]));return this._read=function(Ko){T("wrapped _read",Ko),Zo&&(Zo=!1,so.resume())},this},typeof Symbol=="function"&&(Uo.prototype[Symbol.asyncIterator]=function(){return zs===void 0&&(zs=requireAsync_iterator()),zs(this)}),Object.defineProperty(Uo.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Uo.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Uo.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Qs){this._readableState&&(this._readableState.flowing=Qs)}}),Uo._fromList=To,Object.defineProperty(Uo.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function To(so,Qs){if(Qs.length===0)return null;var sa;return Qs.objectMode?sa=Qs.buffer.shift():!so||so>=Qs.length?(Qs.decoder?sa=Qs.buffer.join(""):Qs.buffer.length===1?sa=Qs.buffer.first():sa=Qs.buffer.concat(Qs.length),Qs.buffer.clear()):sa=Qs.buffer.consume(so,Qs.decoder),sa}function Oo(so){var Qs=so._readableState;T("endReadable",Qs.endEmitted),Qs.endEmitted||(Qs.ended=!0,process$1.nextTick(Vo,Qs,so))}function Vo(so,Qs){if(T("endReadableNT",so.endEmitted,so.length),!so.endEmitted&&so.length===0&&(so.endEmitted=!0,Qs.readable=!1,Qs.emit("end"),so.autoDestroy)){var sa=Qs._writableState;(!sa||sa.autoDestroy&&sa.finished)&&Qs.destroy()}}typeof Symbol=="function"&&(Uo.from=function(so,Qs){return Vs===void 0&&(Vs=requireFromBrowser()),Vs(Uo,so,Qs)});function zo(so,Qs){for(var sa=0,Zo=so.length;sa<Zo;sa++)if(so[sa]===Qs)return sa;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=A;var t=requireErrorsBrowser().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,i=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require_stream_duplex$1();requireInherits_browser()(A,a);function l(et,xi){var Oi=this._transformState;Oi.transforming=!1;var Ts=Oi.writecb;if(Ts===null)return this.emit("error",new i);Oi.writechunk=null,Oi.writecb=null,xi!=null&&this.push(xi),Ts(et);var Fs=this._readableState;Fs.reading=!1,(Fs.needReadable||Fs.length<Fs.highWaterMark)&&this._read(Fs.highWaterMark)}function A(et){if(!(this instanceof A))return new A(et);a.call(this,et),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",T)}function T(){var et=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(xi,Oi){q(et,xi,Oi)}):q(this,null,null)}A.prototype.push=function(et,xi){return this._transformState.needTransform=!1,a.prototype.push.call(this,et,xi)},A.prototype._transform=function(et,xi,Oi){Oi(new e("_transform()"))},A.prototype._write=function(et,xi,Oi){var Ts=this._transformState;if(Ts.writecb=Oi,Ts.writechunk=et,Ts.writeencoding=xi,!Ts.transforming){var Fs=this._readableState;(Ts.needTransform||Fs.needReadable||Fs.length<Fs.highWaterMark)&&this._read(Fs.highWaterMark)}},A.prototype._read=function(et){var xi=this._transformState;xi.writechunk!==null&&!xi.transforming?(xi.transforming=!0,this._transform(xi.writechunk,xi.writeencoding,xi.afterTransform)):xi.needTransform=!0},A.prototype._destroy=function(et,xi){a.prototype._destroy.call(this,et,function(Oi){xi(Oi)})};function q(et,xi,Oi){if(xi)return et.emit("error",xi);if(Oi!=null&&et.push(Oi),et._writableState.length)throw new s;if(et._transformState.transforming)throw new n;return et.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=e;var t=require_stream_transform$1();requireInherits_browser()(e,t);function e(i){if(!(this instanceof e))return new e(i);t.call(this,i)}return e.prototype._transform=function(i,n,s){s(null,i)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var t;function e(Oi){var Ts=!1;return function(){Ts||(Ts=!0,Oi.apply(void 0,arguments))}}var i=requireErrorsBrowser().codes,n=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(Oi){if(Oi)throw Oi}function l(Oi){return Oi.setHeader&&typeof Oi.abort=="function"}function A(Oi,Ts,Fs,qs){qs=e(qs);var Us=!1;Oi.on("close",function(){Us=!0}),t===void 0&&(t=requireEndOfStream()),t(Oi,{readable:Ts,writable:Fs},function(Gs){if(Gs)return qs(Gs);Us=!0,qs()});var Ls=!1;return function(Gs){if(!Us&&!Ls){if(Ls=!0,l(Oi))return Oi.abort();if(typeof Oi.destroy=="function")return Oi.destroy();qs(Gs||new s("pipe"))}}}function T(Oi){Oi()}function q(Oi,Ts){return Oi.pipe(Ts)}function et(Oi){return!Oi.length||typeof Oi[Oi.length-1]!="function"?a:Oi.pop()}function xi(){for(var Oi=arguments.length,Ts=new Array(Oi),Fs=0;Fs<Oi;Fs++)Ts[Fs]=arguments[Fs];var qs=et(Ts);if(Array.isArray(Ts[0])&&(Ts=Ts[0]),Ts.length<2)throw new n("streams");var Us,Ls=Ts.map(function(Gs,zs){var Vs=zs<Ts.length-1,Zs=zs>0;return A(Gs,Vs,Zs,function(Js){Us||(Us=Js),Js&&Ls.forEach(T),!Vs&&(Ls.forEach(T),qs(Us))})});return Ts.reduce(q)}return pipeline_1=xi,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=i;var t=requireEvents().EventEmitter,e=requireInherits_browser();e(i,t),i.Readable=require_stream_readable$1(),i.Writable=require_stream_writable$1(),i.Duplex=require_stream_duplex$1(),i.Transform=require_stream_transform$1(),i.PassThrough=require_stream_passthrough$1(),i.finished=requireEndOfStream(),i.pipeline=requirePipeline(),i.Stream=i;function i(){t.call(this)}return i.prototype.pipe=function(n,s){var a=this;function l(Ts){n.writable&&n.write(Ts)===!1&&a.pause&&a.pause()}a.on("data",l);function A(){a.readable&&a.resume&&a.resume()}n.on("drain",A),!n._isStdio&&(!s||s.end!==!1)&&(a.on("end",q),a.on("close",et));var T=!1;function q(){T||(T=!0,n.end())}function et(){T||(T=!0,typeof n.destroy=="function"&&n.destroy())}function xi(Ts){if(Oi(),t.listenerCount(this,"error")===0)throw Ts}a.on("error",xi),n.on("error",xi);function Oi(){a.removeListener("data",l),n.removeListener("drain",A),a.removeListener("end",q),a.removeListener("close",et),a.removeListener("error",xi),n.removeListener("error",xi),a.removeListener("end",Oi),a.removeListener("close",Oi),n.removeListener("close",Oi)}return a.on("end",Oi),a.on("close",Oi),n.on("close",Oi),n.emit("pipe",a),n},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var t=requireSafeBuffer$1().Buffer,e=requireStreamBrowserify().Transform,i=requireInherits_browser();function n(A){e.call(this),this._block=t.allocUnsafe(A),this._blockSize=A,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(n,e),n.prototype._transform=function(A,T,q){var et=null;try{this.update(A,T)}catch(xi){et=xi}q(et)},n.prototype._flush=function(A){var T=null;try{this.push(this.digest())}catch(q){T=q}A(T)};var s=typeof Uint8Array<"u",a=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function l(A,T){if(A instanceof t)return A;if(typeof A=="string")return t.from(A,T);if(a&&ArrayBuffer.isView(A)){if(A.byteLength===0)return t.alloc(0);var q=t.from(A.buffer,A.byteOffset,A.byteLength);if(q.byteLength===A.byteLength)return q}if(s&&A instanceof Uint8Array||t.isBuffer(A)&&A.constructor&&typeof A.constructor.isBuffer=="function"&&A.constructor.isBuffer(A))return t.from(A);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return n.prototype.update=function(A,T){if(this._finalized)throw new Error("Digest already called");A=l(A,T);for(var q=this._block,et=0;this._blockOffset+A.length-et>=this._blockSize;){for(var xi=this._blockOffset;xi<this._blockSize;)q[xi++]=A[et++];this._update(),this._blockOffset=0}for(;et<A.length;)q[this._blockOffset++]=A[et++];for(var Oi=0,Ts=A.length*8;Ts>0;++Oi)this._length[Oi]+=Ts,Ts=this._length[Oi]/4294967296|0,Ts>0&&(this._length[Oi]-=4294967296*Ts);return this},n.prototype._update=function(){throw new Error("_update is not implemented")},n.prototype.digest=function(A){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var T=this._digest();A!==void 0&&(T=T.toString(A)),this._block.fill(0),this._blockOffset=0;for(var q=0;q<4;++q)this._length[q]=0;return T},n.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=n,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var t=requireInherits_browser(),e=requireHashBase(),i=requireSafeBuffer$1().Buffer,n=new Array(16);function s(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}t(s,e),s.prototype._update=function(){for(var et=n,xi=0;xi<16;++xi)et[xi]=this._block.readInt32LE(xi*4);var Oi=this._a,Ts=this._b,Fs=this._c,qs=this._d;Oi=l(Oi,Ts,Fs,qs,et[0],3614090360,7),qs=l(qs,Oi,Ts,Fs,et[1],3905402710,12),Fs=l(Fs,qs,Oi,Ts,et[2],606105819,17),Ts=l(Ts,Fs,qs,Oi,et[3],3250441966,22),Oi=l(Oi,Ts,Fs,qs,et[4],4118548399,7),qs=l(qs,Oi,Ts,Fs,et[5],1200080426,12),Fs=l(Fs,qs,Oi,Ts,et[6],2821735955,17),Ts=l(Ts,Fs,qs,Oi,et[7],4249261313,22),Oi=l(Oi,Ts,Fs,qs,et[8],1770035416,7),qs=l(qs,Oi,Ts,Fs,et[9],2336552879,12),Fs=l(Fs,qs,Oi,Ts,et[10],4294925233,17),Ts=l(Ts,Fs,qs,Oi,et[11],2304563134,22),Oi=l(Oi,Ts,Fs,qs,et[12],1804603682,7),qs=l(qs,Oi,Ts,Fs,et[13],4254626195,12),Fs=l(Fs,qs,Oi,Ts,et[14],2792965006,17),Ts=l(Ts,Fs,qs,Oi,et[15],1236535329,22),Oi=A(Oi,Ts,Fs,qs,et[1],4129170786,5),qs=A(qs,Oi,Ts,Fs,et[6],3225465664,9),Fs=A(Fs,qs,Oi,Ts,et[11],643717713,14),Ts=A(Ts,Fs,qs,Oi,et[0],3921069994,20),Oi=A(Oi,Ts,Fs,qs,et[5],3593408605,5),qs=A(qs,Oi,Ts,Fs,et[10],38016083,9),Fs=A(Fs,qs,Oi,Ts,et[15],3634488961,14),Ts=A(Ts,Fs,qs,Oi,et[4],3889429448,20),Oi=A(Oi,Ts,Fs,qs,et[9],568446438,5),qs=A(qs,Oi,Ts,Fs,et[14],3275163606,9),Fs=A(Fs,qs,Oi,Ts,et[3],4107603335,14),Ts=A(Ts,Fs,qs,Oi,et[8],1163531501,20),Oi=A(Oi,Ts,Fs,qs,et[13],2850285829,5),qs=A(qs,Oi,Ts,Fs,et[2],4243563512,9),Fs=A(Fs,qs,Oi,Ts,et[7],1735328473,14),Ts=A(Ts,Fs,qs,Oi,et[12],2368359562,20),Oi=T(Oi,Ts,Fs,qs,et[5],4294588738,4),qs=T(qs,Oi,Ts,Fs,et[8],2272392833,11),Fs=T(Fs,qs,Oi,Ts,et[11],1839030562,16),Ts=T(Ts,Fs,qs,Oi,et[14],4259657740,23),Oi=T(Oi,Ts,Fs,qs,et[1],2763975236,4),qs=T(qs,Oi,Ts,Fs,et[4],1272893353,11),Fs=T(Fs,qs,Oi,Ts,et[7],4139469664,16),Ts=T(Ts,Fs,qs,Oi,et[10],3200236656,23),Oi=T(Oi,Ts,Fs,qs,et[13],681279174,4),qs=T(qs,Oi,Ts,Fs,et[0],3936430074,11),Fs=T(Fs,qs,Oi,Ts,et[3],3572445317,16),Ts=T(Ts,Fs,qs,Oi,et[6],76029189,23),Oi=T(Oi,Ts,Fs,qs,et[9],3654602809,4),qs=T(qs,Oi,Ts,Fs,et[12],3873151461,11),Fs=T(Fs,qs,Oi,Ts,et[15],530742520,16),Ts=T(Ts,Fs,qs,Oi,et[2],3299628645,23),Oi=q(Oi,Ts,Fs,qs,et[0],4096336452,6),qs=q(qs,Oi,Ts,Fs,et[7],1126891415,10),Fs=q(Fs,qs,Oi,Ts,et[14],2878612391,15),Ts=q(Ts,Fs,qs,Oi,et[5],4237533241,21),Oi=q(Oi,Ts,Fs,qs,et[12],1700485571,6),qs=q(qs,Oi,Ts,Fs,et[3],2399980690,10),Fs=q(Fs,qs,Oi,Ts,et[10],4293915773,15),Ts=q(Ts,Fs,qs,Oi,et[1],2240044497,21),Oi=q(Oi,Ts,Fs,qs,et[8],1873313359,6),qs=q(qs,Oi,Ts,Fs,et[15],4264355552,10),Fs=q(Fs,qs,Oi,Ts,et[6],2734768916,15),Ts=q(Ts,Fs,qs,Oi,et[13],1309151649,21),Oi=q(Oi,Ts,Fs,qs,et[4],4149444226,6),qs=q(qs,Oi,Ts,Fs,et[11],3174756917,10),Fs=q(Fs,qs,Oi,Ts,et[2],718787259,15),Ts=q(Ts,Fs,qs,Oi,et[9],3951481745,21),this._a=this._a+Oi|0,this._b=this._b+Ts|0,this._c=this._c+Fs|0,this._d=this._d+qs|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var et=i.allocUnsafe(16);return et.writeInt32LE(this._a,0),et.writeInt32LE(this._b,4),et.writeInt32LE(this._c,8),et.writeInt32LE(this._d,12),et};function a(et,xi){return et<<xi|et>>>32-xi}function l(et,xi,Oi,Ts,Fs,qs,Us){return a(et+(xi&Oi|~xi&Ts)+Fs+qs|0,Us)+xi|0}function A(et,xi,Oi,Ts,Fs,qs,Us){return a(et+(xi&Ts|Oi&~Ts)+Fs+qs|0,Us)+xi|0}function T(et,xi,Oi,Ts,Fs,qs,Us){return a(et+(xi^Oi^Ts)+Fs+qs|0,Us)+xi|0}function q(et,xi,Oi,Ts,Fs,qs,Us){return a(et+(Oi^(xi|~Ts))+Fs+qs|0,Us)+xi|0}return md5_js=s,md5_js}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var t=require$$1$3.Buffer,e=requireInherits_browser(),i=requireHashBase(),n=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],T=[0,1518500249,1859775393,2400959708,2840853838],q=[1352829926,1548603684,1836072691,2053994217,0];function et(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(et,i),et.prototype._update=function(){for(var Ls=n,Gs=0;Gs<16;++Gs)Ls[Gs]=this._block.readInt32LE(Gs*4);for(var zs=this._a|0,Vs=this._b|0,Zs=this._c|0,Js=this._d|0,xo=this._e|0,Io=this._a|0,Uo=this._b|0,Fo=this._c|0,Ys=this._d|0,Hs=this._e|0,Ws=0;Ws<80;Ws+=1){var f,Y;Ws<16?(f=Oi(zs,Vs,Zs,Js,xo,Ls[s[Ws]],T[0],l[Ws]),Y=Us(Io,Uo,Fo,Ys,Hs,Ls[a[Ws]],q[0],A[Ws])):Ws<32?(f=Ts(zs,Vs,Zs,Js,xo,Ls[s[Ws]],T[1],l[Ws]),Y=qs(Io,Uo,Fo,Ys,Hs,Ls[a[Ws]],q[1],A[Ws])):Ws<48?(f=Fs(zs,Vs,Zs,Js,xo,Ls[s[Ws]],T[2],l[Ws]),Y=Fs(Io,Uo,Fo,Ys,Hs,Ls[a[Ws]],q[2],A[Ws])):Ws<64?(f=qs(zs,Vs,Zs,Js,xo,Ls[s[Ws]],T[3],l[Ws]),Y=Ts(Io,Uo,Fo,Ys,Hs,Ls[a[Ws]],q[3],A[Ws])):(f=Us(zs,Vs,Zs,Js,xo,Ls[s[Ws]],T[4],l[Ws]),Y=Oi(Io,Uo,Fo,Ys,Hs,Ls[a[Ws]],q[4],A[Ws])),zs=xo,xo=Js,Js=xi(Zs,10),Zs=Vs,Vs=f,Io=Hs,Hs=Ys,Ys=xi(Fo,10),Fo=Uo,Uo=Y}var nt=this._b+Zs+Ys|0;this._b=this._c+Js+Hs|0,this._c=this._d+xo+Io|0,this._d=this._e+zs+Uo|0,this._e=this._a+Vs+Fo|0,this._a=nt},et.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Ls=t.alloc?t.alloc(20):new t(20);return Ls.writeInt32LE(this._a,0),Ls.writeInt32LE(this._b,4),Ls.writeInt32LE(this._c,8),Ls.writeInt32LE(this._d,12),Ls.writeInt32LE(this._e,16),Ls};function xi(Ls,Gs){return Ls<<Gs|Ls>>>32-Gs}function Oi(Ls,Gs,zs,Vs,Zs,Js,xo,Io){return xi(Ls+(Gs^zs^Vs)+Js+xo|0,Io)+Zs|0}function Ts(Ls,Gs,zs,Vs,Zs,Js,xo,Io){return xi(Ls+(Gs&zs|~Gs&Vs)+Js+xo|0,Io)+Zs|0}function Fs(Ls,Gs,zs,Vs,Zs,Js,xo,Io){return xi(Ls+((Gs|~zs)^Vs)+Js+xo|0,Io)+Zs|0}function qs(Ls,Gs,zs,Vs,Zs,Js,xo,Io){return xi(Ls+(Gs&Vs|zs&~Vs)+Js+xo|0,Io)+Zs|0}function Us(Ls,Gs,zs,Vs,Zs,Js,xo,Io){return xi(Ls+(Gs^(zs|~Vs))+Js+xo|0,Io)+Zs|0}return ripemd160$1=et,ripemd160$1}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var t=requireSafeBuffer$1().Buffer;function e(i,n){this._block=t.alloc(i),this._finalSize=n,this._blockSize=i,this._len=0}return e.prototype.update=function(i,n){typeof i=="string"&&(n=n||"utf8",i=t.from(i,n));for(var s=this._block,a=this._blockSize,l=i.length,A=this._len,T=0;T<l;){for(var q=A%a,et=Math.min(l-T,a-q),xi=0;xi<et;xi++)s[q+xi]=i[T+xi];A+=et,T+=et,A%a===0&&this._update(s)}return this._len+=l,this},e.prototype.digest=function(i){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=this._len*8;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var a=(s&4294967295)>>>0,l=(s-a)/4294967296;this._block.writeUInt32BE(l,this._blockSize-8),this._block.writeUInt32BE(a,this._blockSize-4)}this._update(this._block);var A=this._hash();return i?A.toString(i):A},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=e,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var t=requireInherits_browser(),e=requireHash$1(),i=requireSafeBuffer$1().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function a(){this.init(),this._w=s,e.call(this,64,56)}t(a,e),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function l(q){return q<<5|q>>>27}function A(q){return q<<30|q>>>2}function T(q,et,xi,Oi){return q===0?et&xi|~et&Oi:q===2?et&xi|et&Oi|xi&Oi:et^xi^Oi}return a.prototype._update=function(q){for(var et=this._w,xi=this._a|0,Oi=this._b|0,Ts=this._c|0,Fs=this._d|0,qs=this._e|0,Us=0;Us<16;++Us)et[Us]=q.readInt32BE(Us*4);for(;Us<80;++Us)et[Us]=et[Us-3]^et[Us-8]^et[Us-14]^et[Us-16];for(var Ls=0;Ls<80;++Ls){var Gs=~~(Ls/20),zs=l(xi)+T(Gs,Oi,Ts,Fs)+qs+et[Ls]+n[Gs]|0;qs=Fs,Fs=Ts,Ts=A(Oi),Oi=xi,xi=zs}this._a=xi+this._a|0,this._b=Oi+this._b|0,this._c=Ts+this._c|0,this._d=Fs+this._d|0,this._e=qs+this._e|0},a.prototype._hash=function(){var q=i.allocUnsafe(20);return q.writeInt32BE(this._a|0,0),q.writeInt32BE(this._b|0,4),q.writeInt32BE(this._c|0,8),q.writeInt32BE(this._d|0,12),q.writeInt32BE(this._e|0,16),q},sha$1=a,sha$1}var sha1$1,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1;var t=requireInherits_browser(),e=requireHash$1(),i=requireSafeBuffer$1().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function a(){this.init(),this._w=s,e.call(this,64,56)}t(a,e),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function l(et){return et<<1|et>>>31}function A(et){return et<<5|et>>>27}function T(et){return et<<30|et>>>2}function q(et,xi,Oi,Ts){return et===0?xi&Oi|~xi&Ts:et===2?xi&Oi|xi&Ts|Oi&Ts:xi^Oi^Ts}return a.prototype._update=function(et){for(var xi=this._w,Oi=this._a|0,Ts=this._b|0,Fs=this._c|0,qs=this._d|0,Us=this._e|0,Ls=0;Ls<16;++Ls)xi[Ls]=et.readInt32BE(Ls*4);for(;Ls<80;++Ls)xi[Ls]=l(xi[Ls-3]^xi[Ls-8]^xi[Ls-14]^xi[Ls-16]);for(var Gs=0;Gs<80;++Gs){var zs=~~(Gs/20),Vs=A(Oi)+q(zs,Ts,Fs,qs)+Us+xi[Gs]+n[zs]|0;Us=qs,qs=Fs,Fs=T(Ts),Ts=Oi,Oi=Vs}this._a=Oi+this._a|0,this._b=Ts+this._b|0,this._c=Fs+this._c|0,this._d=qs+this._d|0,this._e=Us+this._e|0},a.prototype._hash=function(){var et=i.allocUnsafe(20);return et.writeInt32BE(this._a|0,0),et.writeInt32BE(this._b|0,4),et.writeInt32BE(this._c|0,8),et.writeInt32BE(this._d|0,12),et.writeInt32BE(this._e|0,16),et},sha1$1=a,sha1$1}var sha256$2,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$2;hasRequiredSha256$1=1;var t=requireInherits_browser(),e=requireHash$1(),i=requireSafeBuffer$1().Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function a(){this.init(),this._w=s,e.call(this,64,56)}t(a,e),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function l(Oi,Ts,Fs){return Fs^Oi&(Ts^Fs)}function A(Oi,Ts,Fs){return Oi&Ts|Fs&(Oi|Ts)}function T(Oi){return(Oi>>>2|Oi<<30)^(Oi>>>13|Oi<<19)^(Oi>>>22|Oi<<10)}function q(Oi){return(Oi>>>6|Oi<<26)^(Oi>>>11|Oi<<21)^(Oi>>>25|Oi<<7)}function et(Oi){return(Oi>>>7|Oi<<25)^(Oi>>>18|Oi<<14)^Oi>>>3}function xi(Oi){return(Oi>>>17|Oi<<15)^(Oi>>>19|Oi<<13)^Oi>>>10}return a.prototype._update=function(Oi){for(var Ts=this._w,Fs=this._a|0,qs=this._b|0,Us=this._c|0,Ls=this._d|0,Gs=this._e|0,zs=this._f|0,Vs=this._g|0,Zs=this._h|0,Js=0;Js<16;++Js)Ts[Js]=Oi.readInt32BE(Js*4);for(;Js<64;++Js)Ts[Js]=xi(Ts[Js-2])+Ts[Js-7]+et(Ts[Js-15])+Ts[Js-16]|0;for(var xo=0;xo<64;++xo){var Io=Zs+q(Gs)+l(Gs,zs,Vs)+n[xo]+Ts[xo]|0,Uo=T(Fs)+A(Fs,qs,Us)|0;Zs=Vs,Vs=zs,zs=Gs,Gs=Ls+Io|0,Ls=Us,Us=qs,qs=Fs,Fs=Io+Uo|0}this._a=Fs+this._a|0,this._b=qs+this._b|0,this._c=Us+this._c|0,this._d=Ls+this._d|0,this._e=Gs+this._e|0,this._f=zs+this._f|0,this._g=Vs+this._g|0,this._h=Zs+this._h|0},a.prototype._hash=function(){var Oi=i.allocUnsafe(32);return Oi.writeInt32BE(this._a,0),Oi.writeInt32BE(this._b,4),Oi.writeInt32BE(this._c,8),Oi.writeInt32BE(this._d,12),Oi.writeInt32BE(this._e,16),Oi.writeInt32BE(this._f,20),Oi.writeInt32BE(this._g,24),Oi.writeInt32BE(this._h,28),Oi},sha256$2=a,sha256$2}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var t=requireInherits_browser(),e=requireSha256$1(),i=requireHash$1(),n=requireSafeBuffer$1().Buffer,s=new Array(64);function a(){this.init(),this._w=s,i.call(this,64,56)}return t(a,e),a.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},a.prototype._hash=function(){var l=n.allocUnsafe(28);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l},sha224$2=a,sha224$2}var sha512$2,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$2;hasRequiredSha512$1=1;var t=requireInherits_browser(),e=requireHash$1(),i=requireSafeBuffer$1().Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function a(){this.init(),this._w=s,e.call(this,128,112)}t(a,e),a.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function l(qs,Us,Ls){return Ls^qs&(Us^Ls)}function A(qs,Us,Ls){return qs&Us|Ls&(qs|Us)}function T(qs,Us){return(qs>>>28|Us<<4)^(Us>>>2|qs<<30)^(Us>>>7|qs<<25)}function q(qs,Us){return(qs>>>14|Us<<18)^(qs>>>18|Us<<14)^(Us>>>9|qs<<23)}function et(qs,Us){return(qs>>>1|Us<<31)^(qs>>>8|Us<<24)^qs>>>7}function xi(qs,Us){return(qs>>>1|Us<<31)^(qs>>>8|Us<<24)^(qs>>>7|Us<<25)}function Oi(qs,Us){return(qs>>>19|Us<<13)^(Us>>>29|qs<<3)^qs>>>6}function Ts(qs,Us){return(qs>>>19|Us<<13)^(Us>>>29|qs<<3)^(qs>>>6|Us<<26)}function Fs(qs,Us){return qs>>>0<Us>>>0?1:0}return a.prototype._update=function(qs){for(var Us=this._w,Ls=this._ah|0,Gs=this._bh|0,zs=this._ch|0,Vs=this._dh|0,Zs=this._eh|0,Js=this._fh|0,xo=this._gh|0,Io=this._hh|0,Uo=this._al|0,Fo=this._bl|0,Ys=this._cl|0,Hs=this._dl|0,Ws=this._el|0,f=this._fl|0,Y=this._gl|0,nt=this._hl|0,vs=0;vs<32;vs+=2)Us[vs]=qs.readInt32BE(vs*4),Us[vs+1]=qs.readInt32BE(vs*4+4);for(;vs<160;vs+=2){var ks=Us[vs-30],Ds=Us[vs-15*2+1],Bs=et(ks,Ds),Ms=xi(Ds,ks);ks=Us[vs-2*2],Ds=Us[vs-2*2+1];var Q=Oi(ks,Ds),$s=Ts(Ds,ks),Ks=Us[vs-7*2],jo=Us[vs-7*2+1],Bo=Us[vs-16*2],To=Us[vs-16*2+1],Oo=Ms+jo|0,Vo=Bs+Ks+Fs(Oo,Ms)|0;Oo=Oo+$s|0,Vo=Vo+Q+Fs(Oo,$s)|0,Oo=Oo+To|0,Vo=Vo+Bo+Fs(Oo,To)|0,Us[vs]=Vo,Us[vs+1]=Oo}for(var zo=0;zo<160;zo+=2){Vo=Us[zo],Oo=Us[zo+1];var so=A(Ls,Gs,zs),Qs=A(Uo,Fo,Ys),sa=T(Ls,Uo),Zo=T(Uo,Ls),Qo=q(Zs,Ws),la=q(Ws,Zs),Ko=n[zo],Jo=n[zo+1],aa=l(Zs,Js,xo),oa=l(Ws,f,Y),ua=nt+la|0,Ma=Io+Qo+Fs(ua,nt)|0;ua=ua+oa|0,Ma=Ma+aa+Fs(ua,oa)|0,ua=ua+Jo|0,Ma=Ma+Ko+Fs(ua,Jo)|0,ua=ua+Oo|0,Ma=Ma+Vo+Fs(ua,Oo)|0;var da=Zo+Qs|0,fa=sa+so+Fs(da,Zo)|0;Io=xo,nt=Y,xo=Js,Y=f,Js=Zs,f=Ws,Ws=Hs+ua|0,Zs=Vs+Ma+Fs(Ws,Hs)|0,Vs=zs,Hs=Ys,zs=Gs,Ys=Fo,Gs=Ls,Fo=Uo,Uo=ua+da|0,Ls=Ma+fa+Fs(Uo,ua)|0}this._al=this._al+Uo|0,this._bl=this._bl+Fo|0,this._cl=this._cl+Ys|0,this._dl=this._dl+Hs|0,this._el=this._el+Ws|0,this._fl=this._fl+f|0,this._gl=this._gl+Y|0,this._hl=this._hl+nt|0,this._ah=this._ah+Ls+Fs(this._al,Uo)|0,this._bh=this._bh+Gs+Fs(this._bl,Fo)|0,this._ch=this._ch+zs+Fs(this._cl,Ys)|0,this._dh=this._dh+Vs+Fs(this._dl,Hs)|0,this._eh=this._eh+Zs+Fs(this._el,Ws)|0,this._fh=this._fh+Js+Fs(this._fl,f)|0,this._gh=this._gh+xo+Fs(this._gl,Y)|0,this._hh=this._hh+Io+Fs(this._hl,nt)|0},a.prototype._hash=function(){var qs=i.allocUnsafe(64);function Us(Ls,Gs,zs){qs.writeInt32BE(Ls,zs),qs.writeInt32BE(Gs,zs+4)}return Us(this._ah,this._al,0),Us(this._bh,this._bl,8),Us(this._ch,this._cl,16),Us(this._dh,this._dl,24),Us(this._eh,this._el,32),Us(this._fh,this._fl,40),Us(this._gh,this._gl,48),Us(this._hh,this._hl,56),qs},sha512$2=a,sha512$2}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var t=requireInherits_browser(),e=requireSha512$1(),i=requireHash$1(),n=requireSafeBuffer$1().Buffer,s=new Array(160);function a(){this.init(),this._w=s,i.call(this,128,112)}return t(a,e),a.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},a.prototype._hash=function(){var l=n.allocUnsafe(48);function A(T,q,et){l.writeInt32BE(T,et),l.writeInt32BE(q,et+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),l},sha384$2=a,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var t=sha_js.exports=function(i){i=i.toLowerCase();var n=t[i];if(!n)throw new Error(i+" is not supported (we accept pull requests)");return new n};return t.sha=requireSha$1(),t.sha1=requireSha1$1(),t.sha224=requireSha224$1(),t.sha256=requireSha256$1(),t.sha384=requireSha384$1(),t.sha512=requireSha512$1(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var t=requireSafeBuffer$1().Buffer,e=requireStreamBrowserify().Transform,i=requireString_decoder().StringDecoder,n=requireInherits_browser();function s(T){e.call(this),this.hashMode=typeof T=="string",this.hashMode?this[T]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(s,e);var a=typeof Uint8Array<"u",l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function A(T,q){if(T instanceof t)return T;if(typeof T=="string")return t.from(T,q);if(l&&ArrayBuffer.isView(T)){if(T.byteLength===0)return t.alloc(0);var et=t.from(T.buffer,T.byteOffset,T.byteLength);if(et.byteLength===T.byteLength)return et}if(a&&T instanceof Uint8Array||t.isBuffer(T)&&T.constructor&&typeof T.constructor.isBuffer=="function"&&T.constructor.isBuffer(T))return t.from(T);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return s.prototype.update=function(T,q,et){var xi=A(T,q),Oi=this._update(xi);return this.hashMode?this:(et&&(Oi=this._toString(Oi,et)),Oi)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(T,q,et){var xi;try{this.hashMode?this._update(T):this.push(this._update(T))}catch(Oi){xi=Oi}finally{et(xi)}},s.prototype._flush=function(T){var q;try{this.push(this.__final())}catch(et){q=et}T(q)},s.prototype._finalOrDigest=function(T){var q=this.__final()||t.alloc(0);return T&&(q=this._toString(q,T,!0)),q},s.prototype._toString=function(T,q,et){if(this._decoder||(this._decoder=new i(q),this._encoding=q),this._encoding!==q)throw new Error("cant switch encodings");var xi=this._decoder.write(T);return et&&(xi+=this._decoder.end()),xi},cipherBase=s,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var t=requireInherits_browser(),e=requireMd5_js(),i=requireRipemd160$1(),n=requireSha_js(),s=requireCipherBase();function a(l){s.call(this,"digest"),this._hash=l}return t(a,s),a.prototype._update=function(l){this._hash.update(l)},a.prototype._final=function(){return this._hash.digest()},browser$9=function(A){return A=A.toLowerCase(),A==="md5"?new e:A==="rmd160"||A==="ripemd160"?new i:new a(n(A))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var t=requireInherits_browser(),e=requireSafeBuffer$1().Buffer,i=requireCipherBase(),n=e.alloc(128),s=64;function a(l,A){i.call(this,"digest"),typeof A=="string"&&(A=e.from(A)),this._alg=l,this._key=A,A.length>s?A=l(A):A.length<s&&(A=e.concat([A,n],s));for(var T=this._ipad=e.allocUnsafe(s),q=this._opad=e.allocUnsafe(s),et=0;et<s;et++)T[et]=A[et]^54,q[et]=A[et]^92;this._hash=[T]}return t(a,i),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,l]))},legacy=a,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var t=requireMd5_js();return md5$1=function(e){return new t().update(e).digest()},md5$1}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var t=requireInherits_browser(),e=requireLegacy(),i=requireCipherBase(),n=requireSafeBuffer$1().Buffer,s=requireMd5$1(),a=requireRipemd160$1(),l=requireSha_js(),A=n.alloc(128);function T(q,et){i.call(this,"digest"),typeof et=="string"&&(et=n.from(et));var xi=q==="sha512"||q==="sha384"?128:64;if(this._alg=q,this._key=et,et.length>xi){var Oi=q==="rmd160"?new a:l(q);et=Oi.update(et).digest()}else et.length<xi&&(et=n.concat([et,A],xi));for(var Ts=this._ipad=n.allocUnsafe(xi),Fs=this._opad=n.allocUnsafe(xi),qs=0;qs<xi;qs++)Ts[qs]=et[qs]^54,Fs[qs]=et[qs]^92;this._hash=q==="rmd160"?new a:l(q),this._hash.update(Ts)}return t(T,i),T.prototype._update=function(q){this._hash.update(q)},T.prototype._final=function(){var q=this._hash.digest(),et=this._alg==="rmd160"?new a:l(this._alg);return et.update(this._opad).update(q).digest()},browser$8=function(et,xi){return et=et.toLowerCase(),et==="rmd160"||et==="ripemd160"?new T("rmd160",xi):et==="md5"?new e(s,xi):new T(et,xi)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224:sha224$1,sha384:sha384$1,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var t=Math.pow(2,30)-1;return precondition=function(e,i){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof i!="number")throw new TypeError("Key length not a number");if(i<0||i>t||i!==i)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var t;if(commonjsGlobal$1.process&&commonjsGlobal$1.process.browser)t="utf-8";else if(commonjsGlobal$1.process&&commonjsGlobal$1.process.version){var e=parseInt(process$1.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return defaultEncoding_1=t,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var t=requireSafeBuffer$1().Buffer;return toBuffer=function(e,i,n){if(t.isBuffer(e))return e;if(typeof e=="string")return t.from(e,i);if(ArrayBuffer.isView(e))return t.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var t=requireMd5$1(),e=requireRipemd160$1(),i=requireSha_js(),n=requireSafeBuffer$1().Buffer,s=requirePrecondition(),a=requireDefaultEncoding(),l=requireToBuffer(),A=n.alloc(128),T={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function q(Oi,Ts,Fs){var qs=et(Oi),Us=Oi==="sha512"||Oi==="sha384"?128:64;Ts.length>Us?Ts=qs(Ts):Ts.length<Us&&(Ts=n.concat([Ts,A],Us));for(var Ls=n.allocUnsafe(Us+T[Oi]),Gs=n.allocUnsafe(Us+T[Oi]),zs=0;zs<Us;zs++)Ls[zs]=Ts[zs]^54,Gs[zs]=Ts[zs]^92;var Vs=n.allocUnsafe(Us+Fs+4);Ls.copy(Vs,0,0,Us),this.ipad1=Vs,this.ipad2=Ls,this.opad=Gs,this.alg=Oi,this.blocksize=Us,this.hash=qs,this.size=T[Oi]}q.prototype.run=function(Oi,Ts){Oi.copy(Ts,this.blocksize);var Fs=this.hash(Ts);return Fs.copy(this.opad,this.blocksize),this.hash(this.opad)};function et(Oi){function Ts(qs){return i(Oi).update(qs).digest()}function Fs(qs){return new e().update(qs).digest()}return Oi==="rmd160"||Oi==="ripemd160"?Fs:Oi==="md5"?t:Ts}function xi(Oi,Ts,Fs,qs,Us){s(Fs,qs),Oi=l(Oi,a,"Password"),Ts=l(Ts,a,"Salt"),Us=Us||"sha1";var Ls=new q(Us,Oi,Ts.length),Gs=n.allocUnsafe(qs),zs=n.allocUnsafe(Ts.length+4);Ts.copy(zs,0,0,Ts.length);for(var Vs=0,Zs=T[Us],Js=Math.ceil(qs/Zs),xo=1;xo<=Js;xo++){zs.writeUInt32BE(xo,Ts.length);for(var Io=Ls.run(zs,Ls.ipad1),Uo=Io,Fo=1;Fo<Fs;Fo++){Uo=Ls.run(Uo,Ls.ipad2);for(var Ys=0;Ys<Zs;Ys++)Io[Ys]^=Uo[Ys]}Io.copy(Gs,Vs),Vs+=Zs}return Gs}return syncBrowser=xi,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var t=requireSafeBuffer$1().Buffer,e=requirePrecondition(),i=requireDefaultEncoding(),n=requireSyncBrowser(),s=requireToBuffer(),a,l=commonjsGlobal$1.crypto&&commonjsGlobal$1.crypto.subtle,A={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},T=[];function q(Fs){if(commonjsGlobal$1.process&&!commonjsGlobal$1.process.browser||!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(T[Fs]!==void 0)return T[Fs];a=a||t.alloc(8);var qs=Oi(a,a,10,128,Fs).then(function(){return!0}).catch(function(){return!1});return T[Fs]=qs,qs}var et;function xi(){return et||(commonjsGlobal$1.process&&commonjsGlobal$1.process.nextTick?et=commonjsGlobal$1.process.nextTick:commonjsGlobal$1.queueMicrotask?et=commonjsGlobal$1.queueMicrotask:commonjsGlobal$1.setImmediate?et=commonjsGlobal$1.setImmediate:et=commonjsGlobal$1.setTimeout,et)}function Oi(Fs,qs,Us,Ls,Gs){return l.importKey("raw",Fs,{name:"PBKDF2"},!1,["deriveBits"]).then(function(zs){return l.deriveBits({name:"PBKDF2",salt:qs,iterations:Us,hash:{name:Gs}},zs,Ls<<3)}).then(function(zs){return t.from(zs)})}function Ts(Fs,qs){Fs.then(function(Us){xi()(function(){qs(null,Us)})},function(Us){xi()(function(){qs(Us)})})}return async=function(Fs,qs,Us,Ls,Gs,zs){typeof Gs=="function"&&(zs=Gs,Gs=void 0),Gs=Gs||"sha1";var Vs=A[Gs.toLowerCase()];if(!Vs||typeof commonjsGlobal$1.Promise!="function"){xi()(function(){var Zs;try{Zs=n(Fs,qs,Us,Ls,Gs)}catch(Js){return zs(Js)}zs(null,Zs)});return}if(e(Us,Ls),Fs=s(Fs,i,"Password"),qs=s(qs,i,"Salt"),typeof zs!="function")throw new Error("No callback provided to pbkdf2");Ts(q(Vs).then(function(Zs){return Zs?Oi(Fs,qs,Us,Ls,Vs):n(Fs,qs,Us,Ls,Gs)}),zs)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(s,a){var l=s[0+a]<<24|s[1+a]<<16|s[2+a]<<8|s[3+a];return l>>>0},utils$3.writeUInt32BE=function(s,a,l){s[0+l]=a>>>24,s[1+l]=a>>>16&255,s[2+l]=a>>>8&255,s[3+l]=a&255},utils$3.ip=function(s,a,l,A){for(var T=0,q=0,et=6;et>=0;et-=2){for(var xi=0;xi<=24;xi+=8)T<<=1,T|=a>>>xi+et&1;for(var xi=0;xi<=24;xi+=8)T<<=1,T|=s>>>xi+et&1}for(var et=6;et>=0;et-=2){for(var xi=1;xi<=25;xi+=8)q<<=1,q|=a>>>xi+et&1;for(var xi=1;xi<=25;xi+=8)q<<=1,q|=s>>>xi+et&1}l[A+0]=T>>>0,l[A+1]=q>>>0},utils$3.rip=function(s,a,l,A){for(var T=0,q=0,et=0;et<4;et++)for(var xi=24;xi>=0;xi-=8)T<<=1,T|=a>>>xi+et&1,T<<=1,T|=s>>>xi+et&1;for(var et=4;et<8;et++)for(var xi=24;xi>=0;xi-=8)q<<=1,q|=a>>>xi+et&1,q<<=1,q|=s>>>xi+et&1;l[A+0]=T>>>0,l[A+1]=q>>>0},utils$3.pc1=function(s,a,l,A){for(var T=0,q=0,et=7;et>=5;et--){for(var xi=0;xi<=24;xi+=8)T<<=1,T|=a>>xi+et&1;for(var xi=0;xi<=24;xi+=8)T<<=1,T|=s>>xi+et&1}for(var xi=0;xi<=24;xi+=8)T<<=1,T|=a>>xi+et&1;for(var et=1;et<=3;et++){for(var xi=0;xi<=24;xi+=8)q<<=1,q|=a>>xi+et&1;for(var xi=0;xi<=24;xi+=8)q<<=1,q|=s>>xi+et&1}for(var xi=0;xi<=24;xi+=8)q<<=1,q|=s>>xi+et&1;l[A+0]=T>>>0,l[A+1]=q>>>0},utils$3.r28shl=function(s,a){return s<<a&268435455|s>>>28-a};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(s,a,l,A){for(var T=0,q=0,et=t.length>>>1,xi=0;xi<et;xi++)T<<=1,T|=s>>>t[xi]&1;for(var xi=et;xi<t.length;xi++)q<<=1,q|=a>>>t[xi]&1;l[A+0]=T>>>0,l[A+1]=q>>>0},utils$3.expand=function(s,a,l){var A=0,T=0;A=(s&1)<<5|s>>>27;for(var q=23;q>=15;q-=4)A<<=6,A|=s>>>q&63;for(var q=11;q>=3;q-=4)T|=s>>>q&63,T<<=6;T|=(s&31)<<1|s>>>31,a[l+0]=A>>>0,a[l+1]=T>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(s,a){for(var l=0,A=0;A<4;A++){var T=s>>>18-A*6&63,q=e[A*64+T];l<<=4,l|=q}for(var A=0;A<4;A++){var T=a>>>18-A*6&63,q=e[4*64+A*64+T];l<<=4,l|=q}return l>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(s){for(var a=0,l=0;l<i.length;l++)a<<=1,a|=s>>>i[l]&1;return a>>>0},utils$3.padSplit=function(s,a,l){for(var A=s.toString(2);A.length<a;)A="0"+A;for(var T=[],q=0;q<a;q+=l)T.push(A.slice(q,q+l));return T.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=t;function t(e,i){if(!e)throw new Error(i||"Assertion failed")}return t.equal=function(i,n,s){if(i!=n)throw new Error(s||"Assertion failed: "+i+" != "+n)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var t=requireMinimalisticAssert();function e(i){this.options=i,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=i.padding!==!1}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(n){return n.length===0?[]:this.type==="decrypt"?this._updateDecrypt(n):this._updateEncrypt(n)},e.prototype._buffer=function(n,s){for(var a=Math.min(this.buffer.length-this.bufferOff,n.length-s),l=0;l<a;l++)this.buffer[this.bufferOff+l]=n[s+l];return this.bufferOff+=a,a},e.prototype._flushBuffer=function(n,s){return this._update(this.buffer,0,n,s),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(n){var s=0,a=0,l=(this.bufferOff+n.length)/this.blockSize|0,A=new Array(l*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(n,s),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(A,a)));for(var T=n.length-(n.length-s)%this.blockSize;s<T;s+=this.blockSize)this._update(n,s,A,a),a+=this.blockSize;for(;s<n.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=n[s];return A},e.prototype._updateDecrypt=function(n){for(var s=0,a=0,l=Math.ceil((this.bufferOff+n.length)/this.blockSize)-1,A=new Array(l*this.blockSize);l>0;l--)s+=this._buffer(n,s),a+=this._flushBuffer(A,a);return s+=this._buffer(n,s),A},e.prototype.final=function(n){var s;n&&(s=this.update(n));var a;return this.type==="encrypt"?a=this._finalEncrypt():a=this._finalDecrypt(),s?s.concat(a):a},e.prototype._pad=function(n,s){if(s===0)return!1;for(;s<n.length;)n[s++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var n=new Array(this.blockSize);return this._update(this.buffer,0,n,0),n},e.prototype._unpad=function(n){return n},e.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var n=new Array(this.blockSize);return this._flushBuffer(n,0),this._unpad(n)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var t=requireMinimalisticAssert(),e=requireInherits_browser(),i=requireUtils$3(),n=requireCipher();function s(){this.tmp=new Array(2),this.keys=null}function a(A){n.call(this,A);var T=new s;this._desState=T,this.deriveKeys(T,A.key)}e(a,n),des=a,a.create=function(T){return new a(T)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return a.prototype.deriveKeys=function(T,q){T.keys=new Array(16*2),t.equal(q.length,this.blockSize,"Invalid key length");var et=i.readUInt32BE(q,0),xi=i.readUInt32BE(q,4);i.pc1(et,xi,T.tmp,0),et=T.tmp[0],xi=T.tmp[1];for(var Oi=0;Oi<T.keys.length;Oi+=2){var Ts=l[Oi>>>1];et=i.r28shl(et,Ts),xi=i.r28shl(xi,Ts),i.pc2(et,xi,T.keys,Oi)}},a.prototype._update=function(T,q,et,xi){var Oi=this._desState,Ts=i.readUInt32BE(T,q),Fs=i.readUInt32BE(T,q+4);i.ip(Ts,Fs,Oi.tmp,0),Ts=Oi.tmp[0],Fs=Oi.tmp[1],this.type==="encrypt"?this._encrypt(Oi,Ts,Fs,Oi.tmp,0):this._decrypt(Oi,Ts,Fs,Oi.tmp,0),Ts=Oi.tmp[0],Fs=Oi.tmp[1],i.writeUInt32BE(et,Ts,xi),i.writeUInt32BE(et,Fs,xi+4)},a.prototype._pad=function(T,q){if(this.padding===!1)return!1;for(var et=T.length-q,xi=q;xi<T.length;xi++)T[xi]=et;return!0},a.prototype._unpad=function(T){if(this.padding===!1)return T;for(var q=T[T.length-1],et=T.length-q;et<T.length;et++)t.equal(T[et],q);return T.slice(0,T.length-q)},a.prototype._encrypt=function(T,q,et,xi,Oi){for(var Ts=q,Fs=et,qs=0;qs<T.keys.length;qs+=2){var Us=T.keys[qs],Ls=T.keys[qs+1];i.expand(Fs,T.tmp,0),Us^=T.tmp[0],Ls^=T.tmp[1];var Gs=i.substitute(Us,Ls),zs=i.permute(Gs),Vs=Fs;Fs=(Ts^zs)>>>0,Ts=Vs}i.rip(Fs,Ts,xi,Oi)},a.prototype._decrypt=function(T,q,et,xi,Oi){for(var Ts=et,Fs=q,qs=T.keys.length-2;qs>=0;qs-=2){var Us=T.keys[qs],Ls=T.keys[qs+1];i.expand(Ts,T.tmp,0),Us^=T.tmp[0],Ls^=T.tmp[1];var Gs=i.substitute(Us,Ls),zs=i.permute(Gs),Vs=Ts;Ts=(Fs^zs)>>>0,Fs=Vs}i.rip(Ts,Fs,xi,Oi)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var t=requireMinimalisticAssert(),e=requireInherits_browser(),i={};function n(a){t.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}function s(a){function l(et){a.call(this,et),this._cbcInit()}e(l,a);for(var A=Object.keys(i),T=0;T<A.length;T++){var q=A[T];l.prototype[q]=i[q]}return l.create=function(xi){return new l(xi)},l}return cbc$1.instantiate=s,i._cbcInit=function(){var l=new n(this.options.iv);this._cbcState=l},i._update=function(l,A,T,q){var et=this._cbcState,xi=this.constructor.super_.prototype,Oi=et.iv;if(this.type==="encrypt"){for(var Ts=0;Ts<this.blockSize;Ts++)Oi[Ts]^=l[A+Ts];xi._update.call(this,Oi,0,T,q);for(var Ts=0;Ts<this.blockSize;Ts++)Oi[Ts]=T[q+Ts]}else{xi._update.call(this,l,A,T,q);for(var Ts=0;Ts<this.blockSize;Ts++)T[q+Ts]^=Oi[Ts];for(var Ts=0;Ts<this.blockSize;Ts++)Oi[Ts]=l[A+Ts]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var t=requireMinimalisticAssert(),e=requireInherits_browser(),i=requireCipher(),n=requireDes$1();function s(l,A){t.equal(A.length,24,"Invalid key length");var T=A.slice(0,8),q=A.slice(8,16),et=A.slice(16,24);l==="encrypt"?this.ciphers=[n.create({type:"encrypt",key:T}),n.create({type:"decrypt",key:q}),n.create({type:"encrypt",key:et})]:this.ciphers=[n.create({type:"decrypt",key:et}),n.create({type:"encrypt",key:q}),n.create({type:"decrypt",key:T})]}function a(l){i.call(this,l);var A=new s(this.type,this.options.key);this._edeState=A}return e(a,i),ede=a,a.create=function(A){return new a(A)},a.prototype._update=function(A,T,q,et){var xi=this._edeState;xi.ciphers[0]._update(A,T,q,et),xi.ciphers[1]._update(q,et,q,et),xi.ciphers[2]._update(q,et,q,et)},a.prototype._pad=n.prototype._pad,a.prototype._unpad=n.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var t=requireCipherBase(),e=requireDes(),i=requireInherits_browser(),n=requireSafeBuffer$1().Buffer,s={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],browserifyDes=a,i(a,t);function a(l){t.call(this);var A=l.mode.toLowerCase(),T=s[A],q;l.decrypt?q="decrypt":q="encrypt";var et=l.key;n.isBuffer(et)||(et=n.from(et)),(A==="des-ede"||A==="des-ede-cbc")&&(et=n.concat([et,et.slice(0,8)]));var xi=l.iv;n.isBuffer(xi)||(xi=n.from(xi)),this._des=T.create({key:et,iv:xi,type:q})}return a.prototype._update=function(l){return n.from(this._des.update(l))},a.prototype._final=function(){return n.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(t,e){return t._cipher.encryptBlock(e)},ecb.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,i){for(var n=Math.min(e.length,i.length),s=new Buffer$1(n),a=0;a<n;++a)s[a]=e[a]^i[a];return s}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var t=requireBufferXor();return cbc.encrypt=function(e,i){var n=t(i,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},cbc.decrypt=function(e,i){var n=e._prev;e._prev=i;var s=e._cipher.decryptBlock(i);return t(s,n)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var t=requireSafeBuffer$1().Buffer,e=requireBufferXor();function i(n,s,a){var l=s.length,A=e(s,n._cache);return n._cache=n._cache.slice(l),n._prev=t.concat([n._prev,a?s:A]),A}return cfb.encrypt=function(n,s,a){for(var l=t.allocUnsafe(0),A;s.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=t.allocUnsafe(0)),n._cache.length<=s.length)A=n._cache.length,l=t.concat([l,i(n,s.slice(0,A),a)]),s=s.slice(A);else{l=t.concat([l,i(n,s,a)]);break}return l},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var t=requireSafeBuffer$1().Buffer;function e(i,n,s){var a=i._cipher.encryptBlock(i._prev),l=a[0]^n;return i._prev=t.concat([i._prev.slice(1),t.from([s?n:l])]),l}return cfb8.encrypt=function(i,n,s){for(var a=n.length,l=t.allocUnsafe(a),A=-1;++A<a;)l[A]=e(i,n[A],s);return l},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var t=requireSafeBuffer$1().Buffer;function e(n,s,a){for(var l,A=-1,T=8,q=0,et,xi;++A<T;)l=n._cipher.encryptBlock(n._prev),et=s&1<<7-A?128:0,xi=l[0]^et,q+=(xi&128)>>A%8,n._prev=i(n._prev,a?et:xi);return q}function i(n,s){var a=n.length,l=-1,A=t.allocUnsafe(n.length);for(n=t.concat([n,t.from([s])]);++l<a;)A[l]=n[l]<<1|n[l+1]>>7;return A}return cfb1.encrypt=function(n,s,a){for(var l=s.length,A=t.allocUnsafe(l),T=-1;++T<l;)A[T]=e(n,s[T],a);return A},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var t=requireBufferXor();function e(i){return i._prev=i._cipher.encryptBlock(i._prev),i._prev}return ofb.encrypt=function(i,n){for(;i._cache.length<n.length;)i._cache=Buffer$1.concat([i._cache,e(i)]);var s=i._cache.slice(0,n.length);return i._cache=i._cache.slice(n.length),t(n,s)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function t(e){for(var i=e.length,n;i--;)if(n=e.readUInt8(i),n===255)e.writeUInt8(0,i);else{n++,e.writeUInt8(n,i);break}}return incr32_1=t,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var t=requireBufferXor(),e=requireSafeBuffer$1().Buffer,i=requireIncr32();function n(a){var l=a._cipher.encryptBlockRaw(a._prev);return i(a._prev),l}var s=16;return ctr.encrypt=function(a,l){var A=Math.ceil(l.length/s),T=a._cache.length;a._cache=e.concat([a._cache,e.allocUnsafe(A*s)]);for(var q=0;q<A;q++){var et=n(a),xi=T+q*s;a._cache.writeUInt32BE(et[0],xi+0),a._cache.writeUInt32BE(et[1],xi+4),a._cache.writeUInt32BE(et[2],xi+8),a._cache.writeUInt32BE(et[3],xi+12)}var Oi=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),t(l,Oi)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var t={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2;for(var i in e)e[i].module=t[e[i].mode];return modes_1=e,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var t=requireSafeBuffer$1().Buffer;function e(A){t.isBuffer(A)||(A=t.from(A));for(var T=A.length/4|0,q=new Array(T),et=0;et<T;et++)q[et]=A.readUInt32BE(et*4);return q}function i(A){for(var T=0;T<A.length;A++)A[T]=0}function n(A,T,q,et,xi){for(var Oi=q[0],Ts=q[1],Fs=q[2],qs=q[3],Us=A[0]^T[0],Ls=A[1]^T[1],Gs=A[2]^T[2],zs=A[3]^T[3],Vs,Zs,Js,xo,Io=4,Uo=1;Uo<xi;Uo++)Vs=Oi[Us>>>24]^Ts[Ls>>>16&255]^Fs[Gs>>>8&255]^qs[zs&255]^T[Io++],Zs=Oi[Ls>>>24]^Ts[Gs>>>16&255]^Fs[zs>>>8&255]^qs[Us&255]^T[Io++],Js=Oi[Gs>>>24]^Ts[zs>>>16&255]^Fs[Us>>>8&255]^qs[Ls&255]^T[Io++],xo=Oi[zs>>>24]^Ts[Us>>>16&255]^Fs[Ls>>>8&255]^qs[Gs&255]^T[Io++],Us=Vs,Ls=Zs,Gs=Js,zs=xo;return Vs=(et[Us>>>24]<<24|et[Ls>>>16&255]<<16|et[Gs>>>8&255]<<8|et[zs&255])^T[Io++],Zs=(et[Ls>>>24]<<24|et[Gs>>>16&255]<<16|et[zs>>>8&255]<<8|et[Us&255])^T[Io++],Js=(et[Gs>>>24]<<24|et[zs>>>16&255]<<16|et[Us>>>8&255]<<8|et[Ls&255])^T[Io++],xo=(et[zs>>>24]<<24|et[Us>>>16&255]<<16|et[Ls>>>8&255]<<8|et[Gs&255])^T[Io++],Vs=Vs>>>0,Zs=Zs>>>0,Js=Js>>>0,xo=xo>>>0,[Vs,Zs,Js,xo]}var s=[0,1,2,4,8,16,32,64,128,27,54],a=function(){for(var A=new Array(256),T=0;T<256;T++)T<128?A[T]=T<<1:A[T]=T<<1^283;for(var q=[],et=[],xi=[[],[],[],[]],Oi=[[],[],[],[]],Ts=0,Fs=0,qs=0;qs<256;++qs){var Us=Fs^Fs<<1^Fs<<2^Fs<<3^Fs<<4;Us=Us>>>8^Us&255^99,q[Ts]=Us,et[Us]=Ts;var Ls=A[Ts],Gs=A[Ls],zs=A[Gs],Vs=A[Us]*257^Us*16843008;xi[0][Ts]=Vs<<24|Vs>>>8,xi[1][Ts]=Vs<<16|Vs>>>16,xi[2][Ts]=Vs<<8|Vs>>>24,xi[3][Ts]=Vs,Vs=zs*16843009^Gs*65537^Ls*257^Ts*16843008,Oi[0][Us]=Vs<<24|Vs>>>8,Oi[1][Us]=Vs<<16|Vs>>>16,Oi[2][Us]=Vs<<8|Vs>>>24,Oi[3][Us]=Vs,Ts===0?Ts=Fs=1:(Ts=Ls^A[A[A[zs^Ls]]],Fs^=A[A[Fs]])}return{SBOX:q,INV_SBOX:et,SUB_MIX:xi,INV_SUB_MIX:Oi}}();function l(A){this._key=e(A),this._reset()}return l.blockSize=4*4,l.keySize=256/8,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var A=this._key,T=A.length,q=T+6,et=(q+1)*4,xi=[],Oi=0;Oi<T;Oi++)xi[Oi]=A[Oi];for(Oi=T;Oi<et;Oi++){var Ts=xi[Oi-1];Oi%T===0?(Ts=Ts<<8|Ts>>>24,Ts=a.SBOX[Ts>>>24]<<24|a.SBOX[Ts>>>16&255]<<16|a.SBOX[Ts>>>8&255]<<8|a.SBOX[Ts&255],Ts^=s[Oi/T|0]<<24):T>6&&Oi%T===4&&(Ts=a.SBOX[Ts>>>24]<<24|a.SBOX[Ts>>>16&255]<<16|a.SBOX[Ts>>>8&255]<<8|a.SBOX[Ts&255]),xi[Oi]=xi[Oi-T]^Ts}for(var Fs=[],qs=0;qs<et;qs++){var Us=et-qs,Ls=xi[Us-(qs%4?0:4)];qs<4||Us<=4?Fs[qs]=Ls:Fs[qs]=a.INV_SUB_MIX[0][a.SBOX[Ls>>>24]]^a.INV_SUB_MIX[1][a.SBOX[Ls>>>16&255]]^a.INV_SUB_MIX[2][a.SBOX[Ls>>>8&255]]^a.INV_SUB_MIX[3][a.SBOX[Ls&255]]}this._nRounds=q,this._keySchedule=xi,this._invKeySchedule=Fs},l.prototype.encryptBlockRaw=function(A){return A=e(A),n(A,this._keySchedule,a.SUB_MIX,a.SBOX,this._nRounds)},l.prototype.encryptBlock=function(A){var T=this.encryptBlockRaw(A),q=t.allocUnsafe(16);return q.writeUInt32BE(T[0],0),q.writeUInt32BE(T[1],4),q.writeUInt32BE(T[2],8),q.writeUInt32BE(T[3],12),q},l.prototype.decryptBlock=function(A){A=e(A);var T=A[1];A[1]=A[3],A[3]=T;var q=n(A,this._invKeySchedule,a.INV_SUB_MIX,a.INV_SBOX,this._nRounds),et=t.allocUnsafe(16);return et.writeUInt32BE(q[0],0),et.writeUInt32BE(q[3],4),et.writeUInt32BE(q[2],8),et.writeUInt32BE(q[1],12),et},l.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},aes$1.AES=l,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var t=requireSafeBuffer$1().Buffer,e=t.alloc(16,0);function i(a){return[a.readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)]}function n(a){var l=t.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function s(a){this.h=a,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return s.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},s.prototype._multiply=function(){for(var a=i(this.h),l=[0,0,0,0],A,T,q,et=-1;++et<128;){for(T=(this.state[~~(et/8)]&1<<7-et%8)!==0,T&&(l[0]^=a[0],l[1]^=a[1],l[2]^=a[2],l[3]^=a[3]),q=(a[3]&1)!==0,A=3;A>0;A--)a[A]=a[A]>>>1|(a[A-1]&1)<<31;a[0]=a[0]>>>1,q&&(a[0]=a[0]^225<<24)}this.state=n(l)},s.prototype.update=function(a){this.cache=t.concat([this.cache,a]);for(var l;this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},s.prototype.final=function(a,l){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(n([0,a,0,l])),this.state},ghash=s,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var t=requireAes$1(),e=requireSafeBuffer$1().Buffer,i=requireCipherBase(),n=requireInherits_browser(),s=requireGhash(),a=requireBufferXor(),l=requireIncr32();function A(et,xi){var Oi=0;et.length!==xi.length&&Oi++;for(var Ts=Math.min(et.length,xi.length),Fs=0;Fs<Ts;++Fs)Oi+=et[Fs]^xi[Fs];return Oi}function T(et,xi,Oi){if(xi.length===12)return et._finID=e.concat([xi,e.from([0,0,0,1])]),e.concat([xi,e.from([0,0,0,2])]);var Ts=new s(Oi),Fs=xi.length,qs=Fs%16;Ts.update(xi),qs&&(qs=16-qs,Ts.update(e.alloc(qs,0))),Ts.update(e.alloc(8,0));var Us=Fs*8,Ls=e.alloc(8);Ls.writeUIntBE(Us,0,8),Ts.update(Ls),et._finID=Ts.state;var Gs=e.from(et._finID);return l(Gs),Gs}function q(et,xi,Oi,Ts){i.call(this);var Fs=e.alloc(4,0);this._cipher=new t.AES(xi);var qs=this._cipher.encryptBlock(Fs);this._ghash=new s(qs),Oi=T(this,Oi,qs),this._prev=e.from(Oi),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=Ts,this._alen=0,this._len=0,this._mode=et,this._authTag=null,this._called=!1}return n(q,i),q.prototype._update=function(et){if(!this._called&&this._alen){var xi=16-this._alen%16;xi<16&&(xi=e.alloc(xi,0),this._ghash.update(xi))}this._called=!0;var Oi=this._mode.encrypt(this,et);return this._decrypt?this._ghash.update(et):this._ghash.update(Oi),this._len+=et.length,Oi},q.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var et=a(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&A(et,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=et,this._cipher.scrub()},q.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},q.prototype.setAuthTag=function(xi){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=xi},q.prototype.setAAD=function(xi){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(xi),this._alen+=xi.length},authCipher=q,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var t=requireAes$1(),e=requireSafeBuffer$1().Buffer,i=requireCipherBase(),n=requireInherits_browser();function s(a,l,A,T){i.call(this),this._cipher=new t.AES(l),this._prev=e.from(A),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=T,this._mode=a}return n(s,i),s.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},streamCipher=s,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var t=requireSafeBuffer$1().Buffer,e=requireMd5_js();function i(n,s,a,l){if(t.isBuffer(n)||(n=t.from(n,"binary")),s&&(t.isBuffer(s)||(s=t.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var A=a/8,T=t.alloc(A),q=t.alloc(l||0),et=t.alloc(0);A>0||l>0;){var xi=new e;xi.update(et),xi.update(n),s&&xi.update(s),et=xi.digest();var Oi=0;if(A>0){var Ts=T.length-A;Oi=Math.min(A,et.length),et.copy(T,Ts,0,Oi),A-=Oi}if(Oi<et.length&&l>0){var Fs=q.length-l,qs=Math.min(l,et.length-Oi);et.copy(q,Fs,Oi,Oi+qs),l-=qs}}return et.fill(0),{key:T,iv:q}}return evp_bytestokey=i,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var t=requireModes$1(),e=requireAuthCipher(),i=requireSafeBuffer$1().Buffer,n=requireStreamCipher(),s=requireCipherBase(),a=requireAes$1(),l=requireEvp_bytestokey(),A=requireInherits_browser();function T(Ts,Fs,qs){s.call(this),this._cache=new et,this._cipher=new a.AES(Fs),this._prev=i.from(qs),this._mode=Ts,this._autopadding=!0}A(T,s),T.prototype._update=function(Ts){this._cache.add(Ts);for(var Fs,qs,Us=[];Fs=this._cache.get();)qs=this._mode.encrypt(this,Fs),Us.push(qs);return i.concat(Us)};var q=i.alloc(16,16);T.prototype._final=function(){var Ts=this._cache.flush();if(this._autopadding)return Ts=this._mode.encrypt(this,Ts),this._cipher.scrub(),Ts;if(!Ts.equals(q))throw this._cipher.scrub(),new Error("data not multiple of block length")},T.prototype.setAutoPadding=function(Ts){return this._autopadding=!!Ts,this};function et(){this.cache=i.allocUnsafe(0)}et.prototype.add=function(Ts){this.cache=i.concat([this.cache,Ts])},et.prototype.get=function(){if(this.cache.length>15){var Ts=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Ts}return null},et.prototype.flush=function(){for(var Ts=16-this.cache.length,Fs=i.allocUnsafe(Ts),qs=-1;++qs<Ts;)Fs.writeUInt8(Ts,qs);return i.concat([this.cache,Fs])};function xi(Ts,Fs,qs){var Us=t[Ts.toLowerCase()];if(!Us)throw new TypeError("invalid suite type");if(typeof Fs=="string"&&(Fs=i.from(Fs)),Fs.length!==Us.key/8)throw new TypeError("invalid key length "+Fs.length);if(typeof qs=="string"&&(qs=i.from(qs)),Us.mode!=="GCM"&&qs.length!==Us.iv)throw new TypeError("invalid iv length "+qs.length);return Us.type==="stream"?new n(Us.module,Fs,qs):Us.type==="auth"?new e(Us.module,Fs,qs):new T(Us.module,Fs,qs)}function Oi(Ts,Fs){var qs=t[Ts.toLowerCase()];if(!qs)throw new TypeError("invalid suite type");var Us=l(Fs,!1,qs.key,qs.iv);return xi(Ts,Us.key,Us.iv)}return encrypter.createCipheriv=xi,encrypter.createCipher=Oi,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var t=requireAuthCipher(),e=requireSafeBuffer$1().Buffer,i=requireModes$1(),n=requireStreamCipher(),s=requireCipherBase(),a=requireAes$1(),l=requireEvp_bytestokey(),A=requireInherits_browser();function T(Ts,Fs,qs){s.call(this),this._cache=new q,this._last=void 0,this._cipher=new a.AES(Fs),this._prev=e.from(qs),this._mode=Ts,this._autopadding=!0}A(T,s),T.prototype._update=function(Ts){this._cache.add(Ts);for(var Fs,qs,Us=[];Fs=this._cache.get(this._autopadding);)qs=this._mode.decrypt(this,Fs),Us.push(qs);return e.concat(Us)},T.prototype._final=function(){var Ts=this._cache.flush();if(this._autopadding)return et(this._mode.decrypt(this,Ts));if(Ts)throw new Error("data not multiple of block length")},T.prototype.setAutoPadding=function(Ts){return this._autopadding=!!Ts,this};function q(){this.cache=e.allocUnsafe(0)}q.prototype.add=function(Ts){this.cache=e.concat([this.cache,Ts])},q.prototype.get=function(Ts){var Fs;if(Ts){if(this.cache.length>16)return Fs=this.cache.slice(0,16),this.cache=this.cache.slice(16),Fs}else if(this.cache.length>=16)return Fs=this.cache.slice(0,16),this.cache=this.cache.slice(16),Fs;return null},q.prototype.flush=function(){if(this.cache.length)return this.cache};function et(Ts){var Fs=Ts[15];if(Fs<1||Fs>16)throw new Error("unable to decrypt data");for(var qs=-1;++qs<Fs;)if(Ts[qs+(16-Fs)]!==Fs)throw new Error("unable to decrypt data");if(Fs!==16)return Ts.slice(0,16-Fs)}function xi(Ts,Fs,qs){var Us=i[Ts.toLowerCase()];if(!Us)throw new TypeError("invalid suite type");if(typeof qs=="string"&&(qs=e.from(qs)),Us.mode!=="GCM"&&qs.length!==Us.iv)throw new TypeError("invalid iv length "+qs.length);if(typeof Fs=="string"&&(Fs=e.from(Fs)),Fs.length!==Us.key/8)throw new TypeError("invalid key length "+Fs.length);return Us.type==="stream"?new n(Us.module,Fs,qs,!0):Us.type==="auth"?new t(Us.module,Fs,qs,!0):new T(Us.module,Fs,qs)}function Oi(Ts,Fs){var qs=i[Ts.toLowerCase()];if(!qs)throw new TypeError("invalid suite type");var Us=l(Fs,!1,qs.key,qs.iv);return xi(Ts,Us.key,Us.iv)}return decrypter.createDecipher=Oi,decrypter.createDecipheriv=xi,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var t=requireEncrypter(),e=requireDecrypter(),i=require$$2;function n(){return Object.keys(i)}return browser$5.createCipher=browser$5.Cipher=t.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=t.createCipheriv,browser$5.createDecipher=browser$5.Decipher=e.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=e.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=n,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var t=requireBrowserifyDes(),e=requireBrowser$6(),i=requireModes$1(),n=requireModes(),s=requireEvp_bytestokey();function a(et,xi){et=et.toLowerCase();var Oi,Ts;if(i[et])Oi=i[et].key,Ts=i[et].iv;else if(n[et])Oi=n[et].key*8,Ts=n[et].iv;else throw new TypeError("invalid suite type");var Fs=s(xi,!1,Oi,Ts);return A(et,Fs.key,Fs.iv)}function l(et,xi){et=et.toLowerCase();var Oi,Ts;if(i[et])Oi=i[et].key,Ts=i[et].iv;else if(n[et])Oi=n[et].key*8,Ts=n[et].iv;else throw new TypeError("invalid suite type");var Fs=s(xi,!1,Oi,Ts);return T(et,Fs.key,Fs.iv)}function A(et,xi,Oi){if(et=et.toLowerCase(),i[et])return e.createCipheriv(et,xi,Oi);if(n[et])return new t({key:xi,iv:Oi,mode:et});throw new TypeError("invalid suite type")}function T(et,xi,Oi){if(et=et.toLowerCase(),i[et])return e.createDecipheriv(et,xi,Oi);if(n[et])return new t({key:xi,iv:Oi,mode:et,decrypt:!0});throw new TypeError("invalid suite type")}function q(){return Object.keys(n).concat(e.getCiphers())}return browser$6.createCipher=browser$6.Cipher=a,browser$6.createCipheriv=browser$6.Cipheriv=A,browser$6.createDecipher=browser$6.Decipher=l,browser$6.createDecipheriv=browser$6.Decipheriv=T,browser$6.listCiphers=browser$6.getCiphers=q,browser$6}var browser$4={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(t){(function(e,i){function n(Ys,Hs){if(!Ys)throw new Error(Hs||"Assertion failed")}function s(Ys,Hs){Ys.super_=Hs;var Ws=function(){};Ws.prototype=Hs.prototype,Ys.prototype=new Ws,Ys.prototype.constructor=Ys}function a(Ys,Hs,Ws){if(a.isBN(Ys))return Ys;this.negative=0,this.words=null,this.length=0,this.red=null,Ys!==null&&((Hs==="le"||Hs==="be")&&(Ws=Hs,Hs=10),this._init(Ys||0,Hs||10,Ws||"be"))}typeof e=="object"?e.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=require$$1$3.Buffer}catch{}a.isBN=function(Hs){return Hs instanceof a?!0:Hs!==null&&typeof Hs=="object"&&Hs.constructor.wordSize===a.wordSize&&Array.isArray(Hs.words)},a.max=function(Hs,Ws){return Hs.cmp(Ws)>0?Hs:Ws},a.min=function(Hs,Ws){return Hs.cmp(Ws)<0?Hs:Ws},a.prototype._init=function(Hs,Ws,f){if(typeof Hs=="number")return this._initNumber(Hs,Ws,f);if(typeof Hs=="object")return this._initArray(Hs,Ws,f);Ws==="hex"&&(Ws=16),n(Ws===(Ws|0)&&Ws>=2&&Ws<=36),Hs=Hs.toString().replace(/\s+/g,"");var Y=0;Hs[0]==="-"&&(Y++,this.negative=1),Y<Hs.length&&(Ws===16?this._parseHex(Hs,Y,f):(this._parseBase(Hs,Ws,Y),f==="le"&&this._initArray(this.toArray(),Ws,f)))},a.prototype._initNumber=function(Hs,Ws,f){Hs<0&&(this.negative=1,Hs=-Hs),Hs<67108864?(this.words=[Hs&67108863],this.length=1):Hs<4503599627370496?(this.words=[Hs&67108863,Hs/67108864&67108863],this.length=2):(n(Hs<9007199254740992),this.words=[Hs&67108863,Hs/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),Ws,f)},a.prototype._initArray=function(Hs,Ws,f){if(n(typeof Hs.length=="number"),Hs.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Hs.length/3),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var nt,vs,ks=0;if(f==="be")for(Y=Hs.length-1,nt=0;Y>=0;Y-=3)vs=Hs[Y]|Hs[Y-1]<<8|Hs[Y-2]<<16,this.words[nt]|=vs<<ks&67108863,this.words[nt+1]=vs>>>26-ks&67108863,ks+=24,ks>=26&&(ks-=26,nt++);else if(f==="le")for(Y=0,nt=0;Y<Hs.length;Y+=3)vs=Hs[Y]|Hs[Y+1]<<8|Hs[Y+2]<<16,this.words[nt]|=vs<<ks&67108863,this.words[nt+1]=vs>>>26-ks&67108863,ks+=24,ks>=26&&(ks-=26,nt++);return this.strip()};function A(Ys,Hs){var Ws=Ys.charCodeAt(Hs);return Ws>=65&&Ws<=70?Ws-55:Ws>=97&&Ws<=102?Ws-87:Ws-48&15}function T(Ys,Hs,Ws){var f=A(Ys,Ws);return Ws-1>=Hs&&(f|=A(Ys,Ws-1)<<4),f}a.prototype._parseHex=function(Hs,Ws,f){this.length=Math.ceil((Hs.length-Ws)/6),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var nt=0,vs=0,ks;if(f==="be")for(Y=Hs.length-1;Y>=Ws;Y-=2)ks=T(Hs,Ws,Y)<<nt,this.words[vs]|=ks&67108863,nt>=18?(nt-=18,vs+=1,this.words[vs]|=ks>>>26):nt+=8;else{var Ds=Hs.length-Ws;for(Y=Ds%2===0?Ws+1:Ws;Y<Hs.length;Y+=2)ks=T(Hs,Ws,Y)<<nt,this.words[vs]|=ks&67108863,nt>=18?(nt-=18,vs+=1,this.words[vs]|=ks>>>26):nt+=8}this.strip()};function q(Ys,Hs,Ws,f){for(var Y=0,nt=Math.min(Ys.length,Ws),vs=Hs;vs<nt;vs++){var ks=Ys.charCodeAt(vs)-48;Y*=f,ks>=49?Y+=ks-49+10:ks>=17?Y+=ks-17+10:Y+=ks}return Y}a.prototype._parseBase=function(Hs,Ws,f){this.words=[0],this.length=1;for(var Y=0,nt=1;nt<=67108863;nt*=Ws)Y++;Y--,nt=nt/Ws|0;for(var vs=Hs.length-f,ks=vs%Y,Ds=Math.min(vs,vs-ks)+f,Bs=0,Ms=f;Ms<Ds;Ms+=Y)Bs=q(Hs,Ms,Ms+Y,Ws),this.imuln(nt),this.words[0]+Bs<67108864?this.words[0]+=Bs:this._iaddn(Bs);if(ks!==0){var Q=1;for(Bs=q(Hs,Ms,Hs.length,Ws),Ms=0;Ms<ks;Ms++)Q*=Ws;this.imuln(Q),this.words[0]+Bs<67108864?this.words[0]+=Bs:this._iaddn(Bs)}this.strip()},a.prototype.copy=function(Hs){Hs.words=new Array(this.length);for(var Ws=0;Ws<this.length;Ws++)Hs.words[Ws]=this.words[Ws];Hs.length=this.length,Hs.negative=this.negative,Hs.red=this.red},a.prototype.clone=function(){var Hs=new a(null);return this.copy(Hs),Hs},a.prototype._expand=function(Hs){for(;this.length<Hs;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var et=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],xi=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Oi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(Hs,Ws){Hs=Hs||10,Ws=Ws|0||1;var f;if(Hs===16||Hs==="hex"){f="";for(var Y=0,nt=0,vs=0;vs<this.length;vs++){var ks=this.words[vs],Ds=((ks<<Y|nt)&16777215).toString(16);nt=ks>>>24-Y&16777215,Y+=2,Y>=26&&(Y-=26,vs--),nt!==0||vs!==this.length-1?f=et[6-Ds.length]+Ds+f:f=Ds+f}for(nt!==0&&(f=nt.toString(16)+f);f.length%Ws!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(Hs===(Hs|0)&&Hs>=2&&Hs<=36){var Bs=xi[Hs],Ms=Oi[Hs];f="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var $s=Q.modn(Ms).toString(Hs);Q=Q.idivn(Ms),Q.isZero()?f=$s+f:f=et[Bs-$s.length]+$s+f}for(this.isZero()&&(f="0"+f);f.length%Ws!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var Hs=this.words[0];return this.length===2?Hs+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Hs+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Hs:Hs},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(Hs,Ws){return n(typeof l<"u"),this.toArrayLike(l,Hs,Ws)},a.prototype.toArray=function(Hs,Ws){return this.toArrayLike(Array,Hs,Ws)},a.prototype.toArrayLike=function(Hs,Ws,f){var Y=this.byteLength(),nt=f||Math.max(1,Y);n(Y<=nt,"byte array longer than desired length"),n(nt>0,"Requested array length <= 0"),this.strip();var vs=Ws==="le",ks=new Hs(nt),Ds,Bs,Ms=this.clone();if(vs){for(Bs=0;!Ms.isZero();Bs++)Ds=Ms.andln(255),Ms.iushrn(8),ks[Bs]=Ds;for(;Bs<nt;Bs++)ks[Bs]=0}else{for(Bs=0;Bs<nt-Y;Bs++)ks[Bs]=0;for(Bs=0;!Ms.isZero();Bs++)Ds=Ms.andln(255),Ms.iushrn(8),ks[nt-Bs-1]=Ds}return ks},Math.clz32?a.prototype._countBits=function(Hs){return 32-Math.clz32(Hs)}:a.prototype._countBits=function(Hs){var Ws=Hs,f=0;return Ws>=4096&&(f+=13,Ws>>>=13),Ws>=64&&(f+=7,Ws>>>=7),Ws>=8&&(f+=4,Ws>>>=4),Ws>=2&&(f+=2,Ws>>>=2),f+Ws},a.prototype._zeroBits=function(Hs){if(Hs===0)return 26;var Ws=Hs,f=0;return Ws&8191||(f+=13,Ws>>>=13),Ws&127||(f+=7,Ws>>>=7),Ws&15||(f+=4,Ws>>>=4),Ws&3||(f+=2,Ws>>>=2),Ws&1||f++,f},a.prototype.bitLength=function(){var Hs=this.words[this.length-1],Ws=this._countBits(Hs);return(this.length-1)*26+Ws};function Ts(Ys){for(var Hs=new Array(Ys.bitLength()),Ws=0;Ws<Hs.length;Ws++){var f=Ws/26|0,Y=Ws%26;Hs[Ws]=(Ys.words[f]&1<<Y)>>>Y}return Hs}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Hs=0,Ws=0;Ws<this.length;Ws++){var f=this._zeroBits(this.words[Ws]);if(Hs+=f,f!==26)break}return Hs},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(Hs){return this.negative!==0?this.abs().inotn(Hs).iaddn(1):this.clone()},a.prototype.fromTwos=function(Hs){return this.testn(Hs-1)?this.notn(Hs).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(Hs){for(;this.length<Hs.length;)this.words[this.length++]=0;for(var Ws=0;Ws<Hs.length;Ws++)this.words[Ws]=this.words[Ws]|Hs.words[Ws];return this.strip()},a.prototype.ior=function(Hs){return n((this.negative|Hs.negative)===0),this.iuor(Hs)},a.prototype.or=function(Hs){return this.length>Hs.length?this.clone().ior(Hs):Hs.clone().ior(this)},a.prototype.uor=function(Hs){return this.length>Hs.length?this.clone().iuor(Hs):Hs.clone().iuor(this)},a.prototype.iuand=function(Hs){var Ws;this.length>Hs.length?Ws=Hs:Ws=this;for(var f=0;f<Ws.length;f++)this.words[f]=this.words[f]&Hs.words[f];return this.length=Ws.length,this.strip()},a.prototype.iand=function(Hs){return n((this.negative|Hs.negative)===0),this.iuand(Hs)},a.prototype.and=function(Hs){return this.length>Hs.length?this.clone().iand(Hs):Hs.clone().iand(this)},a.prototype.uand=function(Hs){return this.length>Hs.length?this.clone().iuand(Hs):Hs.clone().iuand(this)},a.prototype.iuxor=function(Hs){var Ws,f;this.length>Hs.length?(Ws=this,f=Hs):(Ws=Hs,f=this);for(var Y=0;Y<f.length;Y++)this.words[Y]=Ws.words[Y]^f.words[Y];if(this!==Ws)for(;Y<Ws.length;Y++)this.words[Y]=Ws.words[Y];return this.length=Ws.length,this.strip()},a.prototype.ixor=function(Hs){return n((this.negative|Hs.negative)===0),this.iuxor(Hs)},a.prototype.xor=function(Hs){return this.length>Hs.length?this.clone().ixor(Hs):Hs.clone().ixor(this)},a.prototype.uxor=function(Hs){return this.length>Hs.length?this.clone().iuxor(Hs):Hs.clone().iuxor(this)},a.prototype.inotn=function(Hs){n(typeof Hs=="number"&&Hs>=0);var Ws=Math.ceil(Hs/26)|0,f=Hs%26;this._expand(Ws),f>0&&Ws--;for(var Y=0;Y<Ws;Y++)this.words[Y]=~this.words[Y]&67108863;return f>0&&(this.words[Y]=~this.words[Y]&67108863>>26-f),this.strip()},a.prototype.notn=function(Hs){return this.clone().inotn(Hs)},a.prototype.setn=function(Hs,Ws){n(typeof Hs=="number"&&Hs>=0);var f=Hs/26|0,Y=Hs%26;return this._expand(f+1),Ws?this.words[f]=this.words[f]|1<<Y:this.words[f]=this.words[f]&~(1<<Y),this.strip()},a.prototype.iadd=function(Hs){var Ws;if(this.negative!==0&&Hs.negative===0)return this.negative=0,Ws=this.isub(Hs),this.negative^=1,this._normSign();if(this.negative===0&&Hs.negative!==0)return Hs.negative=0,Ws=this.isub(Hs),Hs.negative=1,Ws._normSign();var f,Y;this.length>Hs.length?(f=this,Y=Hs):(f=Hs,Y=this);for(var nt=0,vs=0;vs<Y.length;vs++)Ws=(f.words[vs]|0)+(Y.words[vs]|0)+nt,this.words[vs]=Ws&67108863,nt=Ws>>>26;for(;nt!==0&&vs<f.length;vs++)Ws=(f.words[vs]|0)+nt,this.words[vs]=Ws&67108863,nt=Ws>>>26;if(this.length=f.length,nt!==0)this.words[this.length]=nt,this.length++;else if(f!==this)for(;vs<f.length;vs++)this.words[vs]=f.words[vs];return this},a.prototype.add=function(Hs){var Ws;return Hs.negative!==0&&this.negative===0?(Hs.negative=0,Ws=this.sub(Hs),Hs.negative^=1,Ws):Hs.negative===0&&this.negative!==0?(this.negative=0,Ws=Hs.sub(this),this.negative=1,Ws):this.length>Hs.length?this.clone().iadd(Hs):Hs.clone().iadd(this)},a.prototype.isub=function(Hs){if(Hs.negative!==0){Hs.negative=0;var Ws=this.iadd(Hs);return Hs.negative=1,Ws._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Hs),this.negative=1,this._normSign();var f=this.cmp(Hs);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Y,nt;f>0?(Y=this,nt=Hs):(Y=Hs,nt=this);for(var vs=0,ks=0;ks<nt.length;ks++)Ws=(Y.words[ks]|0)-(nt.words[ks]|0)+vs,vs=Ws>>26,this.words[ks]=Ws&67108863;for(;vs!==0&&ks<Y.length;ks++)Ws=(Y.words[ks]|0)+vs,vs=Ws>>26,this.words[ks]=Ws&67108863;if(vs===0&&ks<Y.length&&Y!==this)for(;ks<Y.length;ks++)this.words[ks]=Y.words[ks];return this.length=Math.max(this.length,ks),Y!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(Hs){return this.clone().isub(Hs)};function Fs(Ys,Hs,Ws){Ws.negative=Hs.negative^Ys.negative;var f=Ys.length+Hs.length|0;Ws.length=f,f=f-1|0;var Y=Ys.words[0]|0,nt=Hs.words[0]|0,vs=Y*nt,ks=vs&67108863,Ds=vs/67108864|0;Ws.words[0]=ks;for(var Bs=1;Bs<f;Bs++){for(var Ms=Ds>>>26,Q=Ds&67108863,$s=Math.min(Bs,Hs.length-1),Ks=Math.max(0,Bs-Ys.length+1);Ks<=$s;Ks++){var jo=Bs-Ks|0;Y=Ys.words[jo]|0,nt=Hs.words[Ks]|0,vs=Y*nt+Q,Ms+=vs/67108864|0,Q=vs&67108863}Ws.words[Bs]=Q|0,Ds=Ms|0}return Ds!==0?Ws.words[Bs]=Ds|0:Ws.length--,Ws.strip()}var qs=function(Hs,Ws,f){var Y=Hs.words,nt=Ws.words,vs=f.words,ks=0,Ds,Bs,Ms,Q=Y[0]|0,$s=Q&8191,Ks=Q>>>13,jo=Y[1]|0,Bo=jo&8191,To=jo>>>13,Oo=Y[2]|0,Vo=Oo&8191,zo=Oo>>>13,so=Y[3]|0,Qs=so&8191,sa=so>>>13,Zo=Y[4]|0,Qo=Zo&8191,la=Zo>>>13,Ko=Y[5]|0,Jo=Ko&8191,aa=Ko>>>13,oa=Y[6]|0,ua=oa&8191,Ma=oa>>>13,da=Y[7]|0,fa=da&8191,La=da>>>13,ga=Y[8]|0,ha=ga&8191,Ga=ga>>>13,Aa=Y[9]|0,_a=Aa&8191,Za=Aa>>>13,Ta=nt[0]|0,ma=Ta&8191,Xa=Ta>>>13,ka=nt[1]|0,pa=ka&8191,za=ka>>>13,Ba=nt[2]|0,wa=Ba&8191,Ja=Ba>>>13,Oa=nt[3]|0,ba=Oa&8191,eu=Oa>>>13,Ia=nt[4]|0,xa=Ia&8191,Ya=Ia>>>13,Pa=nt[5]|0,$a=Pa&8191,Qa=Pa>>>13,Da=nt[6]|0,va=Da&8191,Ka=Da>>>13,Ra=nt[7]|0,ya=Ra&8191,tu=Ra>>>13,Na=nt[8]|0,Sa=Na&8191,ru=Na>>>13,Fa=nt[9]|0,Ea=Fa&8191,iu=Fa>>>13;f.negative=Hs.negative^Ws.negative,f.length=19,Ds=Math.imul($s,ma),Bs=Math.imul($s,Xa),Bs=Bs+Math.imul(Ks,ma)|0,Ms=Math.imul(Ks,Xa);var ja=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(ja>>>26)|0,ja&=67108863,Ds=Math.imul(Bo,ma),Bs=Math.imul(Bo,Xa),Bs=Bs+Math.imul(To,ma)|0,Ms=Math.imul(To,Xa),Ds=Ds+Math.imul($s,pa)|0,Bs=Bs+Math.imul($s,za)|0,Bs=Bs+Math.imul(Ks,pa)|0,Ms=Ms+Math.imul(Ks,za)|0;var Ca=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,Ds=Math.imul(Vo,ma),Bs=Math.imul(Vo,Xa),Bs=Bs+Math.imul(zo,ma)|0,Ms=Math.imul(zo,Xa),Ds=Ds+Math.imul(Bo,pa)|0,Bs=Bs+Math.imul(Bo,za)|0,Bs=Bs+Math.imul(To,pa)|0,Ms=Ms+Math.imul(To,za)|0,Ds=Ds+Math.imul($s,wa)|0,Bs=Bs+Math.imul($s,Ja)|0,Bs=Bs+Math.imul(Ks,wa)|0,Ms=Ms+Math.imul(Ks,Ja)|0;var nu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ds=Math.imul(Qs,ma),Bs=Math.imul(Qs,Xa),Bs=Bs+Math.imul(sa,ma)|0,Ms=Math.imul(sa,Xa),Ds=Ds+Math.imul(Vo,pa)|0,Bs=Bs+Math.imul(Vo,za)|0,Bs=Bs+Math.imul(zo,pa)|0,Ms=Ms+Math.imul(zo,za)|0,Ds=Ds+Math.imul(Bo,wa)|0,Bs=Bs+Math.imul(Bo,Ja)|0,Bs=Bs+Math.imul(To,wa)|0,Ms=Ms+Math.imul(To,Ja)|0,Ds=Ds+Math.imul($s,ba)|0,Bs=Bs+Math.imul($s,eu)|0,Bs=Bs+Math.imul(Ks,ba)|0,Ms=Ms+Math.imul(Ks,eu)|0;var ou=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ds=Math.imul(Qo,ma),Bs=Math.imul(Qo,Xa),Bs=Bs+Math.imul(la,ma)|0,Ms=Math.imul(la,Xa),Ds=Ds+Math.imul(Qs,pa)|0,Bs=Bs+Math.imul(Qs,za)|0,Bs=Bs+Math.imul(sa,pa)|0,Ms=Ms+Math.imul(sa,za)|0,Ds=Ds+Math.imul(Vo,wa)|0,Bs=Bs+Math.imul(Vo,Ja)|0,Bs=Bs+Math.imul(zo,wa)|0,Ms=Ms+Math.imul(zo,Ja)|0,Ds=Ds+Math.imul(Bo,ba)|0,Bs=Bs+Math.imul(Bo,eu)|0,Bs=Bs+Math.imul(To,ba)|0,Ms=Ms+Math.imul(To,eu)|0,Ds=Ds+Math.imul($s,xa)|0,Bs=Bs+Math.imul($s,Ya)|0,Bs=Bs+Math.imul(Ks,xa)|0,Ms=Ms+Math.imul(Ks,Ya)|0;var au=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(au>>>26)|0,au&=67108863,Ds=Math.imul(Jo,ma),Bs=Math.imul(Jo,Xa),Bs=Bs+Math.imul(aa,ma)|0,Ms=Math.imul(aa,Xa),Ds=Ds+Math.imul(Qo,pa)|0,Bs=Bs+Math.imul(Qo,za)|0,Bs=Bs+Math.imul(la,pa)|0,Ms=Ms+Math.imul(la,za)|0,Ds=Ds+Math.imul(Qs,wa)|0,Bs=Bs+Math.imul(Qs,Ja)|0,Bs=Bs+Math.imul(sa,wa)|0,Ms=Ms+Math.imul(sa,Ja)|0,Ds=Ds+Math.imul(Vo,ba)|0,Bs=Bs+Math.imul(Vo,eu)|0,Bs=Bs+Math.imul(zo,ba)|0,Ms=Ms+Math.imul(zo,eu)|0,Ds=Ds+Math.imul(Bo,xa)|0,Bs=Bs+Math.imul(Bo,Ya)|0,Bs=Bs+Math.imul(To,xa)|0,Ms=Ms+Math.imul(To,Ya)|0,Ds=Ds+Math.imul($s,$a)|0,Bs=Bs+Math.imul($s,Qa)|0,Bs=Bs+Math.imul(Ks,$a)|0,Ms=Ms+Math.imul(Ks,Qa)|0;var uu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ds=Math.imul(ua,ma),Bs=Math.imul(ua,Xa),Bs=Bs+Math.imul(Ma,ma)|0,Ms=Math.imul(Ma,Xa),Ds=Ds+Math.imul(Jo,pa)|0,Bs=Bs+Math.imul(Jo,za)|0,Bs=Bs+Math.imul(aa,pa)|0,Ms=Ms+Math.imul(aa,za)|0,Ds=Ds+Math.imul(Qo,wa)|0,Bs=Bs+Math.imul(Qo,Ja)|0,Bs=Bs+Math.imul(la,wa)|0,Ms=Ms+Math.imul(la,Ja)|0,Ds=Ds+Math.imul(Qs,ba)|0,Bs=Bs+Math.imul(Qs,eu)|0,Bs=Bs+Math.imul(sa,ba)|0,Ms=Ms+Math.imul(sa,eu)|0,Ds=Ds+Math.imul(Vo,xa)|0,Bs=Bs+Math.imul(Vo,Ya)|0,Bs=Bs+Math.imul(zo,xa)|0,Ms=Ms+Math.imul(zo,Ya)|0,Ds=Ds+Math.imul(Bo,$a)|0,Bs=Bs+Math.imul(Bo,Qa)|0,Bs=Bs+Math.imul(To,$a)|0,Ms=Ms+Math.imul(To,Qa)|0,Ds=Ds+Math.imul($s,va)|0,Bs=Bs+Math.imul($s,Ka)|0,Bs=Bs+Math.imul(Ks,va)|0,Ms=Ms+Math.imul(Ks,Ka)|0;var cu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ds=Math.imul(fa,ma),Bs=Math.imul(fa,Xa),Bs=Bs+Math.imul(La,ma)|0,Ms=Math.imul(La,Xa),Ds=Ds+Math.imul(ua,pa)|0,Bs=Bs+Math.imul(ua,za)|0,Bs=Bs+Math.imul(Ma,pa)|0,Ms=Ms+Math.imul(Ma,za)|0,Ds=Ds+Math.imul(Jo,wa)|0,Bs=Bs+Math.imul(Jo,Ja)|0,Bs=Bs+Math.imul(aa,wa)|0,Ms=Ms+Math.imul(aa,Ja)|0,Ds=Ds+Math.imul(Qo,ba)|0,Bs=Bs+Math.imul(Qo,eu)|0,Bs=Bs+Math.imul(la,ba)|0,Ms=Ms+Math.imul(la,eu)|0,Ds=Ds+Math.imul(Qs,xa)|0,Bs=Bs+Math.imul(Qs,Ya)|0,Bs=Bs+Math.imul(sa,xa)|0,Ms=Ms+Math.imul(sa,Ya)|0,Ds=Ds+Math.imul(Vo,$a)|0,Bs=Bs+Math.imul(Vo,Qa)|0,Bs=Bs+Math.imul(zo,$a)|0,Ms=Ms+Math.imul(zo,Qa)|0,Ds=Ds+Math.imul(Bo,va)|0,Bs=Bs+Math.imul(Bo,Ka)|0,Bs=Bs+Math.imul(To,va)|0,Ms=Ms+Math.imul(To,Ka)|0,Ds=Ds+Math.imul($s,ya)|0,Bs=Bs+Math.imul($s,tu)|0,Bs=Bs+Math.imul(Ks,ya)|0,Ms=Ms+Math.imul(Ks,tu)|0;var lu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ds=Math.imul(ha,ma),Bs=Math.imul(ha,Xa),Bs=Bs+Math.imul(Ga,ma)|0,Ms=Math.imul(Ga,Xa),Ds=Ds+Math.imul(fa,pa)|0,Bs=Bs+Math.imul(fa,za)|0,Bs=Bs+Math.imul(La,pa)|0,Ms=Ms+Math.imul(La,za)|0,Ds=Ds+Math.imul(ua,wa)|0,Bs=Bs+Math.imul(ua,Ja)|0,Bs=Bs+Math.imul(Ma,wa)|0,Ms=Ms+Math.imul(Ma,Ja)|0,Ds=Ds+Math.imul(Jo,ba)|0,Bs=Bs+Math.imul(Jo,eu)|0,Bs=Bs+Math.imul(aa,ba)|0,Ms=Ms+Math.imul(aa,eu)|0,Ds=Ds+Math.imul(Qo,xa)|0,Bs=Bs+Math.imul(Qo,Ya)|0,Bs=Bs+Math.imul(la,xa)|0,Ms=Ms+Math.imul(la,Ya)|0,Ds=Ds+Math.imul(Qs,$a)|0,Bs=Bs+Math.imul(Qs,Qa)|0,Bs=Bs+Math.imul(sa,$a)|0,Ms=Ms+Math.imul(sa,Qa)|0,Ds=Ds+Math.imul(Vo,va)|0,Bs=Bs+Math.imul(Vo,Ka)|0,Bs=Bs+Math.imul(zo,va)|0,Ms=Ms+Math.imul(zo,Ka)|0,Ds=Ds+Math.imul(Bo,ya)|0,Bs=Bs+Math.imul(Bo,tu)|0,Bs=Bs+Math.imul(To,ya)|0,Ms=Ms+Math.imul(To,tu)|0,Ds=Ds+Math.imul($s,Sa)|0,Bs=Bs+Math.imul($s,ru)|0,Bs=Bs+Math.imul(Ks,Sa)|0,Ms=Ms+Math.imul(Ks,ru)|0;var du=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(du>>>26)|0,du&=67108863,Ds=Math.imul(_a,ma),Bs=Math.imul(_a,Xa),Bs=Bs+Math.imul(Za,ma)|0,Ms=Math.imul(Za,Xa),Ds=Ds+Math.imul(ha,pa)|0,Bs=Bs+Math.imul(ha,za)|0,Bs=Bs+Math.imul(Ga,pa)|0,Ms=Ms+Math.imul(Ga,za)|0,Ds=Ds+Math.imul(fa,wa)|0,Bs=Bs+Math.imul(fa,Ja)|0,Bs=Bs+Math.imul(La,wa)|0,Ms=Ms+Math.imul(La,Ja)|0,Ds=Ds+Math.imul(ua,ba)|0,Bs=Bs+Math.imul(ua,eu)|0,Bs=Bs+Math.imul(Ma,ba)|0,Ms=Ms+Math.imul(Ma,eu)|0,Ds=Ds+Math.imul(Jo,xa)|0,Bs=Bs+Math.imul(Jo,Ya)|0,Bs=Bs+Math.imul(aa,xa)|0,Ms=Ms+Math.imul(aa,Ya)|0,Ds=Ds+Math.imul(Qo,$a)|0,Bs=Bs+Math.imul(Qo,Qa)|0,Bs=Bs+Math.imul(la,$a)|0,Ms=Ms+Math.imul(la,Qa)|0,Ds=Ds+Math.imul(Qs,va)|0,Bs=Bs+Math.imul(Qs,Ka)|0,Bs=Bs+Math.imul(sa,va)|0,Ms=Ms+Math.imul(sa,Ka)|0,Ds=Ds+Math.imul(Vo,ya)|0,Bs=Bs+Math.imul(Vo,tu)|0,Bs=Bs+Math.imul(zo,ya)|0,Ms=Ms+Math.imul(zo,tu)|0,Ds=Ds+Math.imul(Bo,Sa)|0,Bs=Bs+Math.imul(Bo,ru)|0,Bs=Bs+Math.imul(To,Sa)|0,Ms=Ms+Math.imul(To,ru)|0,Ds=Ds+Math.imul($s,Ea)|0,Bs=Bs+Math.imul($s,iu)|0,Bs=Bs+Math.imul(Ks,Ea)|0,Ms=Ms+Math.imul(Ks,iu)|0;var fu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ds=Math.imul(_a,pa),Bs=Math.imul(_a,za),Bs=Bs+Math.imul(Za,pa)|0,Ms=Math.imul(Za,za),Ds=Ds+Math.imul(ha,wa)|0,Bs=Bs+Math.imul(ha,Ja)|0,Bs=Bs+Math.imul(Ga,wa)|0,Ms=Ms+Math.imul(Ga,Ja)|0,Ds=Ds+Math.imul(fa,ba)|0,Bs=Bs+Math.imul(fa,eu)|0,Bs=Bs+Math.imul(La,ba)|0,Ms=Ms+Math.imul(La,eu)|0,Ds=Ds+Math.imul(ua,xa)|0,Bs=Bs+Math.imul(ua,Ya)|0,Bs=Bs+Math.imul(Ma,xa)|0,Ms=Ms+Math.imul(Ma,Ya)|0,Ds=Ds+Math.imul(Jo,$a)|0,Bs=Bs+Math.imul(Jo,Qa)|0,Bs=Bs+Math.imul(aa,$a)|0,Ms=Ms+Math.imul(aa,Qa)|0,Ds=Ds+Math.imul(Qo,va)|0,Bs=Bs+Math.imul(Qo,Ka)|0,Bs=Bs+Math.imul(la,va)|0,Ms=Ms+Math.imul(la,Ka)|0,Ds=Ds+Math.imul(Qs,ya)|0,Bs=Bs+Math.imul(Qs,tu)|0,Bs=Bs+Math.imul(sa,ya)|0,Ms=Ms+Math.imul(sa,tu)|0,Ds=Ds+Math.imul(Vo,Sa)|0,Bs=Bs+Math.imul(Vo,ru)|0,Bs=Bs+Math.imul(zo,Sa)|0,Ms=Ms+Math.imul(zo,ru)|0,Ds=Ds+Math.imul(Bo,Ea)|0,Bs=Bs+Math.imul(Bo,iu)|0,Bs=Bs+Math.imul(To,Ea)|0,Ms=Ms+Math.imul(To,iu)|0;var hu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ds=Math.imul(_a,wa),Bs=Math.imul(_a,Ja),Bs=Bs+Math.imul(Za,wa)|0,Ms=Math.imul(Za,Ja),Ds=Ds+Math.imul(ha,ba)|0,Bs=Bs+Math.imul(ha,eu)|0,Bs=Bs+Math.imul(Ga,ba)|0,Ms=Ms+Math.imul(Ga,eu)|0,Ds=Ds+Math.imul(fa,xa)|0,Bs=Bs+Math.imul(fa,Ya)|0,Bs=Bs+Math.imul(La,xa)|0,Ms=Ms+Math.imul(La,Ya)|0,Ds=Ds+Math.imul(ua,$a)|0,Bs=Bs+Math.imul(ua,Qa)|0,Bs=Bs+Math.imul(Ma,$a)|0,Ms=Ms+Math.imul(Ma,Qa)|0,Ds=Ds+Math.imul(Jo,va)|0,Bs=Bs+Math.imul(Jo,Ka)|0,Bs=Bs+Math.imul(aa,va)|0,Ms=Ms+Math.imul(aa,Ka)|0,Ds=Ds+Math.imul(Qo,ya)|0,Bs=Bs+Math.imul(Qo,tu)|0,Bs=Bs+Math.imul(la,ya)|0,Ms=Ms+Math.imul(la,tu)|0,Ds=Ds+Math.imul(Qs,Sa)|0,Bs=Bs+Math.imul(Qs,ru)|0,Bs=Bs+Math.imul(sa,Sa)|0,Ms=Ms+Math.imul(sa,ru)|0,Ds=Ds+Math.imul(Vo,Ea)|0,Bs=Bs+Math.imul(Vo,iu)|0,Bs=Bs+Math.imul(zo,Ea)|0,Ms=Ms+Math.imul(zo,iu)|0;var pu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ds=Math.imul(_a,ba),Bs=Math.imul(_a,eu),Bs=Bs+Math.imul(Za,ba)|0,Ms=Math.imul(Za,eu),Ds=Ds+Math.imul(ha,xa)|0,Bs=Bs+Math.imul(ha,Ya)|0,Bs=Bs+Math.imul(Ga,xa)|0,Ms=Ms+Math.imul(Ga,Ya)|0,Ds=Ds+Math.imul(fa,$a)|0,Bs=Bs+Math.imul(fa,Qa)|0,Bs=Bs+Math.imul(La,$a)|0,Ms=Ms+Math.imul(La,Qa)|0,Ds=Ds+Math.imul(ua,va)|0,Bs=Bs+Math.imul(ua,Ka)|0,Bs=Bs+Math.imul(Ma,va)|0,Ms=Ms+Math.imul(Ma,Ka)|0,Ds=Ds+Math.imul(Jo,ya)|0,Bs=Bs+Math.imul(Jo,tu)|0,Bs=Bs+Math.imul(aa,ya)|0,Ms=Ms+Math.imul(aa,tu)|0,Ds=Ds+Math.imul(Qo,Sa)|0,Bs=Bs+Math.imul(Qo,ru)|0,Bs=Bs+Math.imul(la,Sa)|0,Ms=Ms+Math.imul(la,ru)|0,Ds=Ds+Math.imul(Qs,Ea)|0,Bs=Bs+Math.imul(Qs,iu)|0,Bs=Bs+Math.imul(sa,Ea)|0,Ms=Ms+Math.imul(sa,iu)|0;var mu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ds=Math.imul(_a,xa),Bs=Math.imul(_a,Ya),Bs=Bs+Math.imul(Za,xa)|0,Ms=Math.imul(Za,Ya),Ds=Ds+Math.imul(ha,$a)|0,Bs=Bs+Math.imul(ha,Qa)|0,Bs=Bs+Math.imul(Ga,$a)|0,Ms=Ms+Math.imul(Ga,Qa)|0,Ds=Ds+Math.imul(fa,va)|0,Bs=Bs+Math.imul(fa,Ka)|0,Bs=Bs+Math.imul(La,va)|0,Ms=Ms+Math.imul(La,Ka)|0,Ds=Ds+Math.imul(ua,ya)|0,Bs=Bs+Math.imul(ua,tu)|0,Bs=Bs+Math.imul(Ma,ya)|0,Ms=Ms+Math.imul(Ma,tu)|0,Ds=Ds+Math.imul(Jo,Sa)|0,Bs=Bs+Math.imul(Jo,ru)|0,Bs=Bs+Math.imul(aa,Sa)|0,Ms=Ms+Math.imul(aa,ru)|0,Ds=Ds+Math.imul(Qo,Ea)|0,Bs=Bs+Math.imul(Qo,iu)|0,Bs=Bs+Math.imul(la,Ea)|0,Ms=Ms+Math.imul(la,iu)|0;var gu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ds=Math.imul(_a,$a),Bs=Math.imul(_a,Qa),Bs=Bs+Math.imul(Za,$a)|0,Ms=Math.imul(Za,Qa),Ds=Ds+Math.imul(ha,va)|0,Bs=Bs+Math.imul(ha,Ka)|0,Bs=Bs+Math.imul(Ga,va)|0,Ms=Ms+Math.imul(Ga,Ka)|0,Ds=Ds+Math.imul(fa,ya)|0,Bs=Bs+Math.imul(fa,tu)|0,Bs=Bs+Math.imul(La,ya)|0,Ms=Ms+Math.imul(La,tu)|0,Ds=Ds+Math.imul(ua,Sa)|0,Bs=Bs+Math.imul(ua,ru)|0,Bs=Bs+Math.imul(Ma,Sa)|0,Ms=Ms+Math.imul(Ma,ru)|0,Ds=Ds+Math.imul(Jo,Ea)|0,Bs=Bs+Math.imul(Jo,iu)|0,Bs=Bs+Math.imul(aa,Ea)|0,Ms=Ms+Math.imul(aa,iu)|0;var _u=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ds=Math.imul(_a,va),Bs=Math.imul(_a,Ka),Bs=Bs+Math.imul(Za,va)|0,Ms=Math.imul(Za,Ka),Ds=Ds+Math.imul(ha,ya)|0,Bs=Bs+Math.imul(ha,tu)|0,Bs=Bs+Math.imul(Ga,ya)|0,Ms=Ms+Math.imul(Ga,tu)|0,Ds=Ds+Math.imul(fa,Sa)|0,Bs=Bs+Math.imul(fa,ru)|0,Bs=Bs+Math.imul(La,Sa)|0,Ms=Ms+Math.imul(La,ru)|0,Ds=Ds+Math.imul(ua,Ea)|0,Bs=Bs+Math.imul(ua,iu)|0,Bs=Bs+Math.imul(Ma,Ea)|0,Ms=Ms+Math.imul(Ma,iu)|0;var bu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ds=Math.imul(_a,ya),Bs=Math.imul(_a,tu),Bs=Bs+Math.imul(Za,ya)|0,Ms=Math.imul(Za,tu),Ds=Ds+Math.imul(ha,Sa)|0,Bs=Bs+Math.imul(ha,ru)|0,Bs=Bs+Math.imul(Ga,Sa)|0,Ms=Ms+Math.imul(Ga,ru)|0,Ds=Ds+Math.imul(fa,Ea)|0,Bs=Bs+Math.imul(fa,iu)|0,Bs=Bs+Math.imul(La,Ea)|0,Ms=Ms+Math.imul(La,iu)|0;var vu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ds=Math.imul(_a,Sa),Bs=Math.imul(_a,ru),Bs=Bs+Math.imul(Za,Sa)|0,Ms=Math.imul(Za,ru),Ds=Ds+Math.imul(ha,Ea)|0,Bs=Bs+Math.imul(ha,iu)|0,Bs=Bs+Math.imul(Ga,Ea)|0,Ms=Ms+Math.imul(Ga,iu)|0;var yu=(ks+Ds|0)+((Bs&8191)<<13)|0;ks=(Ms+(Bs>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ds=Math.imul(_a,Ea),Bs=Math.imul(_a,iu),Bs=Bs+Math.imul(Za,Ea)|0,Ms=Math.imul(Za,iu);var wu=(ks+Ds|0)+((Bs&8191)<<13)|0;return ks=(Ms+(Bs>>>13)|0)+(wu>>>26)|0,wu&=67108863,vs[0]=ja,vs[1]=Ca,vs[2]=nu,vs[3]=ou,vs[4]=au,vs[5]=uu,vs[6]=cu,vs[7]=lu,vs[8]=du,vs[9]=fu,vs[10]=hu,vs[11]=pu,vs[12]=mu,vs[13]=gu,vs[14]=_u,vs[15]=bu,vs[16]=vu,vs[17]=yu,vs[18]=wu,ks!==0&&(vs[19]=ks,f.length++),f};Math.imul||(qs=Fs);function Us(Ys,Hs,Ws){Ws.negative=Hs.negative^Ys.negative,Ws.length=Ys.length+Hs.length;for(var f=0,Y=0,nt=0;nt<Ws.length-1;nt++){var vs=Y;Y=0;for(var ks=f&67108863,Ds=Math.min(nt,Hs.length-1),Bs=Math.max(0,nt-Ys.length+1);Bs<=Ds;Bs++){var Ms=nt-Bs,Q=Ys.words[Ms]|0,$s=Hs.words[Bs]|0,Ks=Q*$s,jo=Ks&67108863;vs=vs+(Ks/67108864|0)|0,jo=jo+ks|0,ks=jo&67108863,vs=vs+(jo>>>26)|0,Y+=vs>>>26,vs&=67108863}Ws.words[nt]=ks,f=vs,vs=Y}return f!==0?Ws.words[nt]=f:Ws.length--,Ws.strip()}function Ls(Ys,Hs,Ws){var f=new Gs;return f.mulp(Ys,Hs,Ws)}a.prototype.mulTo=function(Hs,Ws){var f,Y=this.length+Hs.length;return this.length===10&&Hs.length===10?f=qs(this,Hs,Ws):Y<63?f=Fs(this,Hs,Ws):Y<1024?f=Us(this,Hs,Ws):f=Ls(this,Hs,Ws),f};function Gs(Ys,Hs){this.x=Ys,this.y=Hs}Gs.prototype.makeRBT=function(Hs){for(var Ws=new Array(Hs),f=a.prototype._countBits(Hs)-1,Y=0;Y<Hs;Y++)Ws[Y]=this.revBin(Y,f,Hs);return Ws},Gs.prototype.revBin=function(Hs,Ws,f){if(Hs===0||Hs===f-1)return Hs;for(var Y=0,nt=0;nt<Ws;nt++)Y|=(Hs&1)<<Ws-nt-1,Hs>>=1;return Y},Gs.prototype.permute=function(Hs,Ws,f,Y,nt,vs){for(var ks=0;ks<vs;ks++)Y[ks]=Ws[Hs[ks]],nt[ks]=f[Hs[ks]]},Gs.prototype.transform=function(Hs,Ws,f,Y,nt,vs){this.permute(vs,Hs,Ws,f,Y,nt);for(var ks=1;ks<nt;ks<<=1)for(var Ds=ks<<1,Bs=Math.cos(2*Math.PI/Ds),Ms=Math.sin(2*Math.PI/Ds),Q=0;Q<nt;Q+=Ds)for(var $s=Bs,Ks=Ms,jo=0;jo<ks;jo++){var Bo=f[Q+jo],To=Y[Q+jo],Oo=f[Q+jo+ks],Vo=Y[Q+jo+ks],zo=$s*Oo-Ks*Vo;Vo=$s*Vo+Ks*Oo,Oo=zo,f[Q+jo]=Bo+Oo,Y[Q+jo]=To+Vo,f[Q+jo+ks]=Bo-Oo,Y[Q+jo+ks]=To-Vo,jo!==Ds&&(zo=Bs*$s-Ms*Ks,Ks=Bs*Ks+Ms*$s,$s=zo)}},Gs.prototype.guessLen13b=function(Hs,Ws){var f=Math.max(Ws,Hs)|1,Y=f&1,nt=0;for(f=f/2|0;f;f=f>>>1)nt++;return 1<<nt+1+Y},Gs.prototype.conjugate=function(Hs,Ws,f){if(!(f<=1))for(var Y=0;Y<f/2;Y++){var nt=Hs[Y];Hs[Y]=Hs[f-Y-1],Hs[f-Y-1]=nt,nt=Ws[Y],Ws[Y]=-Ws[f-Y-1],Ws[f-Y-1]=-nt}},Gs.prototype.normalize13b=function(Hs,Ws){for(var f=0,Y=0;Y<Ws/2;Y++){var nt=Math.round(Hs[2*Y+1]/Ws)*8192+Math.round(Hs[2*Y]/Ws)+f;Hs[Y]=nt&67108863,nt<67108864?f=0:f=nt/67108864|0}return Hs},Gs.prototype.convert13b=function(Hs,Ws,f,Y){for(var nt=0,vs=0;vs<Ws;vs++)nt=nt+(Hs[vs]|0),f[2*vs]=nt&8191,nt=nt>>>13,f[2*vs+1]=nt&8191,nt=nt>>>13;for(vs=2*Ws;vs<Y;++vs)f[vs]=0;n(nt===0),n((nt&-8192)===0)},Gs.prototype.stub=function(Hs){for(var Ws=new Array(Hs),f=0;f<Hs;f++)Ws[f]=0;return Ws},Gs.prototype.mulp=function(Hs,Ws,f){var Y=2*this.guessLen13b(Hs.length,Ws.length),nt=this.makeRBT(Y),vs=this.stub(Y),ks=new Array(Y),Ds=new Array(Y),Bs=new Array(Y),Ms=new Array(Y),Q=new Array(Y),$s=new Array(Y),Ks=f.words;Ks.length=Y,this.convert13b(Hs.words,Hs.length,ks,Y),this.convert13b(Ws.words,Ws.length,Ms,Y),this.transform(ks,vs,Ds,Bs,Y,nt),this.transform(Ms,vs,Q,$s,Y,nt);for(var jo=0;jo<Y;jo++){var Bo=Ds[jo]*Q[jo]-Bs[jo]*$s[jo];Bs[jo]=Ds[jo]*$s[jo]+Bs[jo]*Q[jo],Ds[jo]=Bo}return this.conjugate(Ds,Bs,Y),this.transform(Ds,Bs,Ks,vs,Y,nt),this.conjugate(Ks,vs,Y),this.normalize13b(Ks,Y),f.negative=Hs.negative^Ws.negative,f.length=Hs.length+Ws.length,f.strip()},a.prototype.mul=function(Hs){var Ws=new a(null);return Ws.words=new Array(this.length+Hs.length),this.mulTo(Hs,Ws)},a.prototype.mulf=function(Hs){var Ws=new a(null);return Ws.words=new Array(this.length+Hs.length),Ls(this,Hs,Ws)},a.prototype.imul=function(Hs){return this.clone().mulTo(Hs,this)},a.prototype.imuln=function(Hs){n(typeof Hs=="number"),n(Hs<67108864);for(var Ws=0,f=0;f<this.length;f++){var Y=(this.words[f]|0)*Hs,nt=(Y&67108863)+(Ws&67108863);Ws>>=26,Ws+=Y/67108864|0,Ws+=nt>>>26,this.words[f]=nt&67108863}return Ws!==0&&(this.words[f]=Ws,this.length++),this.length=Hs===0?1:this.length,this},a.prototype.muln=function(Hs){return this.clone().imuln(Hs)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(Hs){var Ws=Ts(Hs);if(Ws.length===0)return new a(1);for(var f=this,Y=0;Y<Ws.length&&Ws[Y]===0;Y++,f=f.sqr());if(++Y<Ws.length)for(var nt=f.sqr();Y<Ws.length;Y++,nt=nt.sqr())Ws[Y]!==0&&(f=f.mul(nt));return f},a.prototype.iushln=function(Hs){n(typeof Hs=="number"&&Hs>=0);var Ws=Hs%26,f=(Hs-Ws)/26,Y=67108863>>>26-Ws<<26-Ws,nt;if(Ws!==0){var vs=0;for(nt=0;nt<this.length;nt++){var ks=this.words[nt]&Y,Ds=(this.words[nt]|0)-ks<<Ws;this.words[nt]=Ds|vs,vs=ks>>>26-Ws}vs&&(this.words[nt]=vs,this.length++)}if(f!==0){for(nt=this.length-1;nt>=0;nt--)this.words[nt+f]=this.words[nt];for(nt=0;nt<f;nt++)this.words[nt]=0;this.length+=f}return this.strip()},a.prototype.ishln=function(Hs){return n(this.negative===0),this.iushln(Hs)},a.prototype.iushrn=function(Hs,Ws,f){n(typeof Hs=="number"&&Hs>=0);var Y;Ws?Y=(Ws-Ws%26)/26:Y=0;var nt=Hs%26,vs=Math.min((Hs-nt)/26,this.length),ks=67108863^67108863>>>nt<<nt,Ds=f;if(Y-=vs,Y=Math.max(0,Y),Ds){for(var Bs=0;Bs<vs;Bs++)Ds.words[Bs]=this.words[Bs];Ds.length=vs}if(vs!==0)if(this.length>vs)for(this.length-=vs,Bs=0;Bs<this.length;Bs++)this.words[Bs]=this.words[Bs+vs];else this.words[0]=0,this.length=1;var Ms=0;for(Bs=this.length-1;Bs>=0&&(Ms!==0||Bs>=Y);Bs--){var Q=this.words[Bs]|0;this.words[Bs]=Ms<<26-nt|Q>>>nt,Ms=Q&ks}return Ds&&Ms!==0&&(Ds.words[Ds.length++]=Ms),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(Hs,Ws,f){return n(this.negative===0),this.iushrn(Hs,Ws,f)},a.prototype.shln=function(Hs){return this.clone().ishln(Hs)},a.prototype.ushln=function(Hs){return this.clone().iushln(Hs)},a.prototype.shrn=function(Hs){return this.clone().ishrn(Hs)},a.prototype.ushrn=function(Hs){return this.clone().iushrn(Hs)},a.prototype.testn=function(Hs){n(typeof Hs=="number"&&Hs>=0);var Ws=Hs%26,f=(Hs-Ws)/26,Y=1<<Ws;if(this.length<=f)return!1;var nt=this.words[f];return!!(nt&Y)},a.prototype.imaskn=function(Hs){n(typeof Hs=="number"&&Hs>=0);var Ws=Hs%26,f=(Hs-Ws)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(Ws!==0&&f++,this.length=Math.min(f,this.length),Ws!==0){var Y=67108863^67108863>>>Ws<<Ws;this.words[this.length-1]&=Y}return this.strip()},a.prototype.maskn=function(Hs){return this.clone().imaskn(Hs)},a.prototype.iaddn=function(Hs){return n(typeof Hs=="number"),n(Hs<67108864),Hs<0?this.isubn(-Hs):this.negative!==0?this.length===1&&(this.words[0]|0)<Hs?(this.words[0]=Hs-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Hs),this.negative=1,this):this._iaddn(Hs)},a.prototype._iaddn=function(Hs){this.words[0]+=Hs;for(var Ws=0;Ws<this.length&&this.words[Ws]>=67108864;Ws++)this.words[Ws]-=67108864,Ws===this.length-1?this.words[Ws+1]=1:this.words[Ws+1]++;return this.length=Math.max(this.length,Ws+1),this},a.prototype.isubn=function(Hs){if(n(typeof Hs=="number"),n(Hs<67108864),Hs<0)return this.iaddn(-Hs);if(this.negative!==0)return this.negative=0,this.iaddn(Hs),this.negative=1,this;if(this.words[0]-=Hs,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ws=0;Ws<this.length&&this.words[Ws]<0;Ws++)this.words[Ws]+=67108864,this.words[Ws+1]-=1;return this.strip()},a.prototype.addn=function(Hs){return this.clone().iaddn(Hs)},a.prototype.subn=function(Hs){return this.clone().isubn(Hs)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(Hs,Ws,f){var Y=Hs.length+f,nt;this._expand(Y);var vs,ks=0;for(nt=0;nt<Hs.length;nt++){vs=(this.words[nt+f]|0)+ks;var Ds=(Hs.words[nt]|0)*Ws;vs-=Ds&67108863,ks=(vs>>26)-(Ds/67108864|0),this.words[nt+f]=vs&67108863}for(;nt<this.length-f;nt++)vs=(this.words[nt+f]|0)+ks,ks=vs>>26,this.words[nt+f]=vs&67108863;if(ks===0)return this.strip();for(n(ks===-1),ks=0,nt=0;nt<this.length;nt++)vs=-(this.words[nt]|0)+ks,ks=vs>>26,this.words[nt]=vs&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(Hs,Ws){var f=this.length-Hs.length,Y=this.clone(),nt=Hs,vs=nt.words[nt.length-1]|0,ks=this._countBits(vs);f=26-ks,f!==0&&(nt=nt.ushln(f),Y.iushln(f),vs=nt.words[nt.length-1]|0);var Ds=Y.length-nt.length,Bs;if(Ws!=="mod"){Bs=new a(null),Bs.length=Ds+1,Bs.words=new Array(Bs.length);for(var Ms=0;Ms<Bs.length;Ms++)Bs.words[Ms]=0}var Q=Y.clone()._ishlnsubmul(nt,1,Ds);Q.negative===0&&(Y=Q,Bs&&(Bs.words[Ds]=1));for(var $s=Ds-1;$s>=0;$s--){var Ks=(Y.words[nt.length+$s]|0)*67108864+(Y.words[nt.length+$s-1]|0);for(Ks=Math.min(Ks/vs|0,67108863),Y._ishlnsubmul(nt,Ks,$s);Y.negative!==0;)Ks--,Y.negative=0,Y._ishlnsubmul(nt,1,$s),Y.isZero()||(Y.negative^=1);Bs&&(Bs.words[$s]=Ks)}return Bs&&Bs.strip(),Y.strip(),Ws!=="div"&&f!==0&&Y.iushrn(f),{div:Bs||null,mod:Y}},a.prototype.divmod=function(Hs,Ws,f){if(n(!Hs.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var Y,nt,vs;return this.negative!==0&&Hs.negative===0?(vs=this.neg().divmod(Hs,Ws),Ws!=="mod"&&(Y=vs.div.neg()),Ws!=="div"&&(nt=vs.mod.neg(),f&&nt.negative!==0&&nt.iadd(Hs)),{div:Y,mod:nt}):this.negative===0&&Hs.negative!==0?(vs=this.divmod(Hs.neg(),Ws),Ws!=="mod"&&(Y=vs.div.neg()),{div:Y,mod:vs.mod}):this.negative&Hs.negative?(vs=this.neg().divmod(Hs.neg(),Ws),Ws!=="div"&&(nt=vs.mod.neg(),f&&nt.negative!==0&&nt.isub(Hs)),{div:vs.div,mod:nt}):Hs.length>this.length||this.cmp(Hs)<0?{div:new a(0),mod:this}:Hs.length===1?Ws==="div"?{div:this.divn(Hs.words[0]),mod:null}:Ws==="mod"?{div:null,mod:new a(this.modn(Hs.words[0]))}:{div:this.divn(Hs.words[0]),mod:new a(this.modn(Hs.words[0]))}:this._wordDiv(Hs,Ws)},a.prototype.div=function(Hs){return this.divmod(Hs,"div",!1).div},a.prototype.mod=function(Hs){return this.divmod(Hs,"mod",!1).mod},a.prototype.umod=function(Hs){return this.divmod(Hs,"mod",!0).mod},a.prototype.divRound=function(Hs){var Ws=this.divmod(Hs);if(Ws.mod.isZero())return Ws.div;var f=Ws.div.negative!==0?Ws.mod.isub(Hs):Ws.mod,Y=Hs.ushrn(1),nt=Hs.andln(1),vs=f.cmp(Y);return vs<0||nt===1&&vs===0?Ws.div:Ws.div.negative!==0?Ws.div.isubn(1):Ws.div.iaddn(1)},a.prototype.modn=function(Hs){n(Hs<=67108863);for(var Ws=(1<<26)%Hs,f=0,Y=this.length-1;Y>=0;Y--)f=(Ws*f+(this.words[Y]|0))%Hs;return f},a.prototype.idivn=function(Hs){n(Hs<=67108863);for(var Ws=0,f=this.length-1;f>=0;f--){var Y=(this.words[f]|0)+Ws*67108864;this.words[f]=Y/Hs|0,Ws=Y%Hs}return this.strip()},a.prototype.divn=function(Hs){return this.clone().idivn(Hs)},a.prototype.egcd=function(Hs){n(Hs.negative===0),n(!Hs.isZero());var Ws=this,f=Hs.clone();Ws.negative!==0?Ws=Ws.umod(Hs):Ws=Ws.clone();for(var Y=new a(1),nt=new a(0),vs=new a(0),ks=new a(1),Ds=0;Ws.isEven()&&f.isEven();)Ws.iushrn(1),f.iushrn(1),++Ds;for(var Bs=f.clone(),Ms=Ws.clone();!Ws.isZero();){for(var Q=0,$s=1;!(Ws.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(Ws.iushrn(Q);Q-- >0;)(Y.isOdd()||nt.isOdd())&&(Y.iadd(Bs),nt.isub(Ms)),Y.iushrn(1),nt.iushrn(1);for(var Ks=0,jo=1;!(f.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(f.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Bs),ks.isub(Ms)),vs.iushrn(1),ks.iushrn(1);Ws.cmp(f)>=0?(Ws.isub(f),Y.isub(vs),nt.isub(ks)):(f.isub(Ws),vs.isub(Y),ks.isub(nt))}return{a:vs,b:ks,gcd:f.iushln(Ds)}},a.prototype._invmp=function(Hs){n(Hs.negative===0),n(!Hs.isZero());var Ws=this,f=Hs.clone();Ws.negative!==0?Ws=Ws.umod(Hs):Ws=Ws.clone();for(var Y=new a(1),nt=new a(0),vs=f.clone();Ws.cmpn(1)>0&&f.cmpn(1)>0;){for(var ks=0,Ds=1;!(Ws.words[0]&Ds)&&ks<26;++ks,Ds<<=1);if(ks>0)for(Ws.iushrn(ks);ks-- >0;)Y.isOdd()&&Y.iadd(vs),Y.iushrn(1);for(var Bs=0,Ms=1;!(f.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(f.iushrn(Bs);Bs-- >0;)nt.isOdd()&&nt.iadd(vs),nt.iushrn(1);Ws.cmp(f)>=0?(Ws.isub(f),Y.isub(nt)):(f.isub(Ws),nt.isub(Y))}var Q;return Ws.cmpn(1)===0?Q=Y:Q=nt,Q.cmpn(0)<0&&Q.iadd(Hs),Q},a.prototype.gcd=function(Hs){if(this.isZero())return Hs.abs();if(Hs.isZero())return this.abs();var Ws=this.clone(),f=Hs.clone();Ws.negative=0,f.negative=0;for(var Y=0;Ws.isEven()&&f.isEven();Y++)Ws.iushrn(1),f.iushrn(1);do{for(;Ws.isEven();)Ws.iushrn(1);for(;f.isEven();)f.iushrn(1);var nt=Ws.cmp(f);if(nt<0){var vs=Ws;Ws=f,f=vs}else if(nt===0||f.cmpn(1)===0)break;Ws.isub(f)}while(!0);return f.iushln(Y)},a.prototype.invm=function(Hs){return this.egcd(Hs).a.umod(Hs)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(Hs){return this.words[0]&Hs},a.prototype.bincn=function(Hs){n(typeof Hs=="number");var Ws=Hs%26,f=(Hs-Ws)/26,Y=1<<Ws;if(this.length<=f)return this._expand(f+1),this.words[f]|=Y,this;for(var nt=Y,vs=f;nt!==0&&vs<this.length;vs++){var ks=this.words[vs]|0;ks+=nt,nt=ks>>>26,ks&=67108863,this.words[vs]=ks}return nt!==0&&(this.words[vs]=nt,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(Hs){var Ws=Hs<0;if(this.negative!==0&&!Ws)return-1;if(this.negative===0&&Ws)return 1;this.strip();var f;if(this.length>1)f=1;else{Ws&&(Hs=-Hs),n(Hs<=67108863,"Number is too big");var Y=this.words[0]|0;f=Y===Hs?0:Y<Hs?-1:1}return this.negative!==0?-f|0:f},a.prototype.cmp=function(Hs){if(this.negative!==0&&Hs.negative===0)return-1;if(this.negative===0&&Hs.negative!==0)return 1;var Ws=this.ucmp(Hs);return this.negative!==0?-Ws|0:Ws},a.prototype.ucmp=function(Hs){if(this.length>Hs.length)return 1;if(this.length<Hs.length)return-1;for(var Ws=0,f=this.length-1;f>=0;f--){var Y=this.words[f]|0,nt=Hs.words[f]|0;if(Y!==nt){Y<nt?Ws=-1:Y>nt&&(Ws=1);break}}return Ws},a.prototype.gtn=function(Hs){return this.cmpn(Hs)===1},a.prototype.gt=function(Hs){return this.cmp(Hs)===1},a.prototype.gten=function(Hs){return this.cmpn(Hs)>=0},a.prototype.gte=function(Hs){return this.cmp(Hs)>=0},a.prototype.ltn=function(Hs){return this.cmpn(Hs)===-1},a.prototype.lt=function(Hs){return this.cmp(Hs)===-1},a.prototype.lten=function(Hs){return this.cmpn(Hs)<=0},a.prototype.lte=function(Hs){return this.cmp(Hs)<=0},a.prototype.eqn=function(Hs){return this.cmpn(Hs)===0},a.prototype.eq=function(Hs){return this.cmp(Hs)===0},a.red=function(Hs){return new Uo(Hs)},a.prototype.toRed=function(Hs){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),Hs.convertTo(this)._forceRed(Hs)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(Hs){return this.red=Hs,this},a.prototype.forceRed=function(Hs){return n(!this.red,"Already a number in reduction context"),this._forceRed(Hs)},a.prototype.redAdd=function(Hs){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,Hs)},a.prototype.redIAdd=function(Hs){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Hs)},a.prototype.redSub=function(Hs){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,Hs)},a.prototype.redISub=function(Hs){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,Hs)},a.prototype.redShl=function(Hs){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,Hs)},a.prototype.redMul=function(Hs){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,Hs),this.red.mul(this,Hs)},a.prototype.redIMul=function(Hs){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,Hs),this.red.imul(this,Hs)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(Hs){return n(this.red&&!Hs.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Hs)};var zs={k256:null,p224:null,p192:null,p25519:null};function Vs(Ys,Hs){this.name=Ys,this.p=new a(Hs,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Vs.prototype._tmp=function(){var Hs=new a(null);return Hs.words=new Array(Math.ceil(this.n/13)),Hs},Vs.prototype.ireduce=function(Hs){var Ws=Hs,f;do this.split(Ws,this.tmp),Ws=this.imulK(Ws),Ws=Ws.iadd(this.tmp),f=Ws.bitLength();while(f>this.n);var Y=f<this.n?-1:Ws.ucmp(this.p);return Y===0?(Ws.words[0]=0,Ws.length=1):Y>0?Ws.isub(this.p):Ws.strip!==void 0?Ws.strip():Ws._strip(),Ws},Vs.prototype.split=function(Hs,Ws){Hs.iushrn(this.n,0,Ws)},Vs.prototype.imulK=function(Hs){return Hs.imul(this.k)};function Zs(){Vs.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(Zs,Vs),Zs.prototype.split=function(Hs,Ws){for(var f=4194303,Y=Math.min(Hs.length,9),nt=0;nt<Y;nt++)Ws.words[nt]=Hs.words[nt];if(Ws.length=Y,Hs.length<=9){Hs.words[0]=0,Hs.length=1;return}var vs=Hs.words[9];for(Ws.words[Ws.length++]=vs&f,nt=10;nt<Hs.length;nt++){var ks=Hs.words[nt]|0;Hs.words[nt-10]=(ks&f)<<4|vs>>>22,vs=ks}vs>>>=22,Hs.words[nt-10]=vs,vs===0&&Hs.length>10?Hs.length-=10:Hs.length-=9},Zs.prototype.imulK=function(Hs){Hs.words[Hs.length]=0,Hs.words[Hs.length+1]=0,Hs.length+=2;for(var Ws=0,f=0;f<Hs.length;f++){var Y=Hs.words[f]|0;Ws+=Y*977,Hs.words[f]=Ws&67108863,Ws=Y*64+(Ws/67108864|0)}return Hs.words[Hs.length-1]===0&&(Hs.length--,Hs.words[Hs.length-1]===0&&Hs.length--),Hs};function Js(){Vs.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(Js,Vs);function xo(){Vs.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(xo,Vs);function Io(){Vs.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Io,Vs),Io.prototype.imulK=function(Hs){for(var Ws=0,f=0;f<Hs.length;f++){var Y=(Hs.words[f]|0)*19+Ws,nt=Y&67108863;Y>>>=26,Hs.words[f]=nt,Ws=Y}return Ws!==0&&(Hs.words[Hs.length++]=Ws),Hs},a._prime=function(Hs){if(zs[Hs])return zs[Hs];var Ws;if(Hs==="k256")Ws=new Zs;else if(Hs==="p224")Ws=new Js;else if(Hs==="p192")Ws=new xo;else if(Hs==="p25519")Ws=new Io;else throw new Error("Unknown prime "+Hs);return zs[Hs]=Ws,Ws};function Uo(Ys){if(typeof Ys=="string"){var Hs=a._prime(Ys);this.m=Hs.p,this.prime=Hs}else n(Ys.gtn(1),"modulus must be greater than 1"),this.m=Ys,this.prime=null}Uo.prototype._verify1=function(Hs){n(Hs.negative===0,"red works only with positives"),n(Hs.red,"red works only with red numbers")},Uo.prototype._verify2=function(Hs,Ws){n((Hs.negative|Ws.negative)===0,"red works only with positives"),n(Hs.red&&Hs.red===Ws.red,"red works only with red numbers")},Uo.prototype.imod=function(Hs){return this.prime?this.prime.ireduce(Hs)._forceRed(this):Hs.umod(this.m)._forceRed(this)},Uo.prototype.neg=function(Hs){return Hs.isZero()?Hs.clone():this.m.sub(Hs)._forceRed(this)},Uo.prototype.add=function(Hs,Ws){this._verify2(Hs,Ws);var f=Hs.add(Ws);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},Uo.prototype.iadd=function(Hs,Ws){this._verify2(Hs,Ws);var f=Hs.iadd(Ws);return f.cmp(this.m)>=0&&f.isub(this.m),f},Uo.prototype.sub=function(Hs,Ws){this._verify2(Hs,Ws);var f=Hs.sub(Ws);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},Uo.prototype.isub=function(Hs,Ws){this._verify2(Hs,Ws);var f=Hs.isub(Ws);return f.cmpn(0)<0&&f.iadd(this.m),f},Uo.prototype.shl=function(Hs,Ws){return this._verify1(Hs),this.imod(Hs.ushln(Ws))},Uo.prototype.imul=function(Hs,Ws){return this._verify2(Hs,Ws),this.imod(Hs.imul(Ws))},Uo.prototype.mul=function(Hs,Ws){return this._verify2(Hs,Ws),this.imod(Hs.mul(Ws))},Uo.prototype.isqr=function(Hs){return this.imul(Hs,Hs.clone())},Uo.prototype.sqr=function(Hs){return this.mul(Hs,Hs)},Uo.prototype.sqrt=function(Hs){if(Hs.isZero())return Hs.clone();var Ws=this.m.andln(3);if(n(Ws%2===1),Ws===3){var f=this.m.add(new a(1)).iushrn(2);return this.pow(Hs,f)}for(var Y=this.m.subn(1),nt=0;!Y.isZero()&&Y.andln(1)===0;)nt++,Y.iushrn(1);n(!Y.isZero());var vs=new a(1).toRed(this),ks=vs.redNeg(),Ds=this.m.subn(1).iushrn(1),Bs=this.m.bitLength();for(Bs=new a(2*Bs*Bs).toRed(this);this.pow(Bs,Ds).cmp(ks)!==0;)Bs.redIAdd(ks);for(var Ms=this.pow(Bs,Y),Q=this.pow(Hs,Y.addn(1).iushrn(1)),$s=this.pow(Hs,Y),Ks=nt;$s.cmp(vs)!==0;){for(var jo=$s,Bo=0;jo.cmp(vs)!==0;Bo++)jo=jo.redSqr();n(Bo<Ks);var To=this.pow(Ms,new a(1).iushln(Ks-Bo-1));Q=Q.redMul(To),Ms=To.redSqr(),$s=$s.redMul(Ms),Ks=Bo}return Q},Uo.prototype.invm=function(Hs){var Ws=Hs._invmp(this.m);return Ws.negative!==0?(Ws.negative=0,this.imod(Ws).redNeg()):this.imod(Ws)},Uo.prototype.pow=function(Hs,Ws){if(Ws.isZero())return new a(1).toRed(this);if(Ws.cmpn(1)===0)return Hs.clone();var f=4,Y=new Array(1<<f);Y[0]=new a(1).toRed(this),Y[1]=Hs;for(var nt=2;nt<Y.length;nt++)Y[nt]=this.mul(Y[nt-1],Hs);var vs=Y[0],ks=0,Ds=0,Bs=Ws.bitLength()%26;for(Bs===0&&(Bs=26),nt=Ws.length-1;nt>=0;nt--){for(var Ms=Ws.words[nt],Q=Bs-1;Q>=0;Q--){var $s=Ms>>Q&1;if(vs!==Y[0]&&(vs=this.sqr(vs)),$s===0&&ks===0){Ds=0;continue}ks<<=1,ks|=$s,Ds++,!(Ds!==f&&(nt!==0||Q!==0))&&(vs=this.mul(vs,Y[ks]),Ds=0,ks=0)}Bs=26}return vs},Uo.prototype.convertTo=function(Hs){var Ws=Hs.umod(this.m);return Ws===Hs?Ws.clone():Ws},Uo.prototype.convertFrom=function(Hs){var Ws=Hs.clone();return Ws.red=null,Ws},a.mont=function(Hs){return new Fo(Hs)};function Fo(Ys){Uo.call(this,Ys),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Fo,Uo),Fo.prototype.convertTo=function(Hs){return this.imod(Hs.ushln(this.shift))},Fo.prototype.convertFrom=function(Hs){var Ws=this.imod(Hs.mul(this.rinv));return Ws.red=null,Ws},Fo.prototype.imul=function(Hs,Ws){if(Hs.isZero()||Ws.isZero())return Hs.words[0]=0,Hs.length=1,Hs;var f=Hs.imul(Ws),Y=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),nt=f.isub(Y).iushrn(this.shift),vs=nt;return nt.cmp(this.m)>=0?vs=nt.isub(this.m):nt.cmpn(0)<0&&(vs=nt.iadd(this.m)),vs._forceRed(this)},Fo.prototype.mul=function(Hs,Ws){if(Hs.isZero()||Ws.isZero())return new a(0)._forceRed(this);var f=Hs.mul(Ws),Y=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),nt=f.isub(Y).iushrn(this.shift),vs=nt;return nt.cmp(this.m)>=0?vs=nt.isub(this.m):nt.cmpn(0)<0&&(vs=nt.iadd(this.m)),vs._forceRed(this)},Fo.prototype.invm=function(Hs){var Ws=this.imod(Hs._invmp(this.m).mul(this.r2));return Ws._forceRed(this)}})(t,commonjsGlobal$1)}(bn$2)),bn$2.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var t;brorand.exports=function(s){return t||(t=new e(null)),t.generate(s)};function e(n){this.rand=n}if(brorand.exports.Rand=e,e.prototype.generate=function(s){return this._rand(s)},e.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var a=new Uint8Array(s),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(s){var a=new Uint8Array(s);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(s){var a=new Uint8Array(s);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=requireCryptoBrowserify();if(typeof i.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(s){return i.randomBytes(s)}}catch{}return brorand.exports}var mr$3,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$3;hasRequiredMr=1;var t=requireBn(),e=requireBrorand();function i(n){this.rand=n||new e.Rand}return mr$3=i,i.create=function(s){return new i(s)},i.prototype._randbelow=function(s){var a=s.bitLength(),l=Math.ceil(a/8);do var A=new t(this.rand.generate(l));while(A.cmp(s)>=0);return A},i.prototype._randrange=function(s,a){var l=a.sub(s);return s.add(this._randbelow(l))},i.prototype.test=function(s,a,l){var A=s.bitLength(),T=t.mont(s),q=new t(1).toRed(T);a||(a=Math.max(1,A/48|0));for(var et=s.subn(1),xi=0;!et.testn(xi);xi++);for(var Oi=s.shrn(xi),Ts=et.toRed(T),Fs=!0;a>0;a--){var qs=this._randrange(new t(2),et);l&&l(qs);var Us=qs.toRed(T).redPow(Oi);if(!(Us.cmp(q)===0||Us.cmp(Ts)===0)){for(var Ls=1;Ls<xi;Ls++){if(Us=Us.redSqr(),Us.cmp(q)===0)return!1;if(Us.cmp(Ts)===0)break}if(Ls===xi)return!1}}return Fs},i.prototype.getDivisor=function(s,a){var l=s.bitLength(),A=t.mont(s),T=new t(1).toRed(A);a||(a=Math.max(1,l/48|0));for(var q=s.subn(1),et=0;!q.testn(et);et++);for(var xi=s.shrn(et),Oi=q.toRed(A);a>0;a--){var Ts=this._randrange(new t(2),q),Fs=s.gcd(Ts);if(Fs.cmpn(1)!==0)return Fs;var qs=Ts.toRed(A).redPow(xi);if(!(qs.cmp(T)===0||qs.cmp(Oi)===0)){for(var Us=1;Us<et;Us++){if(qs=qs.redSqr(),qs.cmp(T)===0)return qs.fromRed().subn(1).gcd(s);if(qs.cmp(Oi)===0)break}if(Us===et)return qs=qs.redSqr(),qs.fromRed().subn(1).gcd(s)}}return!1},mr$3}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var t=requireBrowser$b();generatePrime=Us,Us.simpleSieve=Fs,Us.fermatTest=qs;var e=requireBn(),i=new e(24),n=requireMr(),s=new n,a=new e(1),l=new e(2),A=new e(5);new e(16),new e(8);var T=new e(10),q=new e(3);new e(7);var et=new e(11),xi=new e(4);new e(12);var Oi=null;function Ts(){if(Oi!==null)return Oi;var Ls=1048576,Gs=[];Gs[0]=2;for(var zs=1,Vs=3;Vs<Ls;Vs+=2){for(var Zs=Math.ceil(Math.sqrt(Vs)),Js=0;Js<zs&&Gs[Js]<=Zs&&Vs%Gs[Js]!==0;Js++);zs!==Js&&Gs[Js]<=Zs||(Gs[zs++]=Vs)}return Oi=Gs,Gs}function Fs(Ls){for(var Gs=Ts(),zs=0;zs<Gs.length;zs++)if(Ls.modn(Gs[zs])===0)return Ls.cmpn(Gs[zs])===0;return!0}function qs(Ls){var Gs=e.mont(Ls);return l.toRed(Gs).redPow(Ls.subn(1)).fromRed().cmpn(1)===0}function Us(Ls,Gs){if(Ls<16)return Gs===2||Gs===5?new e([140,123]):new e([140,39]);Gs=new e(Gs);for(var zs,Vs;;){for(zs=new e(t(Math.ceil(Ls/8)));zs.bitLength()>Ls;)zs.ishrn(1);if(zs.isEven()&&zs.iadd(a),zs.testn(1)||zs.iadd(l),Gs.cmp(l)){if(!Gs.cmp(A))for(;zs.mod(T).cmp(q);)zs.iadd(xi)}else for(;zs.mod(i).cmp(et);)zs.iadd(xi);if(Vs=zs.shrn(1),Fs(Vs)&&Fs(zs)&&qs(Vs)&&qs(zs)&&s.test(Vs)&&s.test(zs))return zs}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var t=requireBn(),e=requireMr(),i=new e,n=new t(24),s=new t(11),a=new t(10),l=new t(3),A=new t(7),T=requireGeneratePrime(),q=requireBrowser$b();dh=Fs;function et(Us,Ls){return Ls=Ls||"utf8",Buffer$1.isBuffer(Us)||(Us=new Buffer$1(Us,Ls)),this._pub=new t(Us),this}function xi(Us,Ls){return Ls=Ls||"utf8",Buffer$1.isBuffer(Us)||(Us=new Buffer$1(Us,Ls)),this._priv=new t(Us),this}var Oi={};function Ts(Us,Ls){var Gs=Ls.toString("hex"),zs=[Gs,Us.toString(16)].join("_");if(zs in Oi)return Oi[zs];var Vs=0;if(Us.isEven()||!T.simpleSieve||!T.fermatTest(Us)||!i.test(Us))return Vs+=1,Gs==="02"||Gs==="05"?Vs+=8:Vs+=4,Oi[zs]=Vs,Vs;i.test(Us.shrn(1))||(Vs+=2);var Zs;switch(Gs){case"02":Us.mod(n).cmp(s)&&(Vs+=8);break;case"05":Zs=Us.mod(a),Zs.cmp(l)&&Zs.cmp(A)&&(Vs+=8);break;default:Vs+=4}return Oi[zs]=Vs,Vs}function Fs(Us,Ls,Gs){this.setGenerator(Ls),this.__prime=new t(Us),this._prime=t.mont(this.__prime),this._primeLen=Us.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Gs?(this.setPublicKey=et,this.setPrivateKey=xi):this._primeCode=8}Object.defineProperty(Fs.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Ts(this.__prime,this.__gen)),this._primeCode}}),Fs.prototype.generateKeys=function(){return this._priv||(this._priv=new t(q(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Fs.prototype.computeSecret=function(Us){Us=new t(Us),Us=Us.toRed(this._prime);var Ls=Us.redPow(this._priv).fromRed(),Gs=new Buffer$1(Ls.toArray()),zs=this.getPrime();if(Gs.length<zs.length){var Vs=new Buffer$1(zs.length-Gs.length);Vs.fill(0),Gs=Buffer$1.concat([Vs,Gs])}return Gs},Fs.prototype.getPublicKey=function(Ls){return qs(this._pub,Ls)},Fs.prototype.getPrivateKey=function(Ls){return qs(this._priv,Ls)},Fs.prototype.getPrime=function(Us){return qs(this.__prime,Us)},Fs.prototype.getGenerator=function(Us){return qs(this._gen,Us)},Fs.prototype.setGenerator=function(Us,Ls){return Ls=Ls||"utf8",Buffer$1.isBuffer(Us)||(Us=new Buffer$1(Us,Ls)),this.__gen=Us,this._gen=new t(Us),this};function qs(Us,Ls){var Gs=new Buffer$1(Us.toArray());return Ls?Gs.toString(Ls):Gs}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var t=requireGeneratePrime(),e=require$$1$1,i=requireDh();function n(l){var A=new Buffer$1(e[l].prime,"hex"),T=new Buffer$1(e[l].gen,"hex");return new i(A,T)}var s={binary:!0,hex:!0,base64:!0};function a(l,A,T,q){return Buffer$1.isBuffer(A)||s[A]===void 0?a(l,"binary",A,T):(A=A||"binary",q=q||"binary",T=T||new Buffer$1([2]),Buffer$1.isBuffer(T)||(T=new Buffer$1(T,q)),typeof l=="number"?new i(t(l,T),T,!0):(Buffer$1.isBuffer(l)||(l=new Buffer$1(l,A)),new i(l,T,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=n,browser$4.createDiffieHellman=browser$4.DiffieHellman=a,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:t}:processNextickArgs.exports=process$1;function t(e,i,n,s){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,A;switch(a){case 0:case 1:return process$1.nextTick(e);case 2:return process$1.nextTick(function(){e.call(null,i)});case 3:return process$1.nextTick(function(){e.call(null,i,n)});case 4:return process$1.nextTick(function(){e.call(null,i,n,s)});default:for(l=new Array(a-1),A=0;A<l.length;)l[A++]=arguments[A];return process$1.nextTick(function(){e.apply(null,l)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var t={}.toString;return isarray=Array.isArray||function(e){return t.call(e)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(t,e){var i=require$$1$3,n=i.Buffer;function s(l,A){for(var T in l)A[T]=l[T]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,e),e.Buffer=a);function a(l,A,T){return n(l,A,T)}s(n,a),a.from=function(l,A,T){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,A,T)},a.alloc=function(l,A,T){if(typeof l!="number")throw new TypeError("Argument must be a number");var q=n(l);return A!==void 0?typeof T=="string"?q.fill(A,T):q.fill(A):q.fill(0),q},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$3={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$3;hasRequiredUtil=1;function t(qs){return Array.isArray?Array.isArray(qs):Fs(qs)==="[object Array]"}util$3.isArray=t;function e(qs){return typeof qs=="boolean"}util$3.isBoolean=e;function i(qs){return qs===null}util$3.isNull=i;function n(qs){return qs==null}util$3.isNullOrUndefined=n;function s(qs){return typeof qs=="number"}util$3.isNumber=s;function a(qs){return typeof qs=="string"}util$3.isString=a;function l(qs){return typeof qs=="symbol"}util$3.isSymbol=l;function A(qs){return qs===void 0}util$3.isUndefined=A;function T(qs){return Fs(qs)==="[object RegExp]"}util$3.isRegExp=T;function q(qs){return typeof qs=="object"&&qs!==null}util$3.isObject=q;function et(qs){return Fs(qs)==="[object Date]"}util$3.isDate=et;function xi(qs){return Fs(qs)==="[object Error]"||qs instanceof Error}util$3.isError=xi;function Oi(qs){return typeof qs=="function"}util$3.isFunction=Oi;function Ts(qs){return qs===null||typeof qs=="boolean"||typeof qs=="number"||typeof qs=="string"||typeof qs=="symbol"||typeof qs>"u"}util$3.isPrimitive=Ts,util$3.isBuffer=require$$1$3.Buffer.isBuffer;function Fs(qs){return Object.prototype.toString.call(qs)}return util$3}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(t){function e(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var i=requireSafeBuffer().Buffer,n=requireUtil$1();function s(a,l,A){a.copy(l,A)}t.exports=function(){function a(){e(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(A){var T={data:A,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length},a.prototype.unshift=function(A){var T={data:A,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length},a.prototype.shift=function(){if(this.length!==0){var A=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,A}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(A){if(this.length===0)return"";for(var T=this.head,q=""+T.data;T=T.next;)q+=A+T.data;return q},a.prototype.concat=function(A){if(this.length===0)return i.alloc(0);for(var T=i.allocUnsafe(A>>>0),q=this.head,et=0;q;)s(q.data,T,et),et+=q.data.length,q=q.next;return T},a}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var a=n.inspect({length:this.length});return this.constructor.name+" "+a})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var t=requireProcessNextickArgs();function e(s,a){var l=this,A=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;return A||T?(a?a(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(n,this,s)):t.nextTick(n,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(q){!a&&q?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,t.nextTick(n,l,q)):t.nextTick(n,l,q):a&&a(q)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function n(s,a){s.emit("error",a)}return destroy_1={destroy:e,undestroy:i},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var t=requireProcessNextickArgs();_stream_writable=qs;function e(vs){var ks=this;this.next=null,this.entry=null,this.finish=function(){nt(ks,vs)}}var i=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:t.nextTick,n;qs.WritableState=Ts;var s=Object.create(requireUtil());s.inherits=requireInherits_browser();var a={deprecate:requireBrowser$a()},l=requireStreamBrowser(),A=requireSafeBuffer().Buffer,T=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function q(vs){return A.from(vs)}function et(vs){return A.isBuffer(vs)||vs instanceof T}var xi=requireDestroy();s.inherits(qs,l);function Oi(){}function Ts(vs,ks){n=n||require_stream_duplex(),vs=vs||{};var Ds=ks instanceof n;this.objectMode=!!vs.objectMode,Ds&&(this.objectMode=this.objectMode||!!vs.writableObjectMode);var Bs=vs.highWaterMark,Ms=vs.writableHighWaterMark,Q=this.objectMode?16:16*1024;Bs||Bs===0?this.highWaterMark=Bs:Ds&&(Ms||Ms===0)?this.highWaterMark=Ms:this.highWaterMark=Q,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $s=vs.decodeStrings===!1;this.decodeStrings=!$s,this.defaultEncoding=vs.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ks){xo(ks,Ks)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}Ts.prototype.getBuffer=function(){for(var ks=this.bufferedRequest,Ds=[];ks;)Ds.push(ks),ks=ks.next;return Ds},function(){try{Object.defineProperty(Ts.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Fs;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Fs=Function.prototype[Symbol.hasInstance],Object.defineProperty(qs,Symbol.hasInstance,{value:function(vs){return Fs.call(this,vs)?!0:this!==qs?!1:vs&&vs._writableState instanceof Ts}})):Fs=function(vs){return vs instanceof this};function qs(vs){if(n=n||require_stream_duplex(),!Fs.call(qs,this)&&!(this instanceof n))return new qs(vs);this._writableState=new Ts(vs,this),this.writable=!0,vs&&(typeof vs.write=="function"&&(this._write=vs.write),typeof vs.writev=="function"&&(this._writev=vs.writev),typeof vs.destroy=="function"&&(this._destroy=vs.destroy),typeof vs.final=="function"&&(this._final=vs.final)),l.call(this)}qs.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Us(vs,ks){var Ds=new Error("write after end");vs.emit("error",Ds),t.nextTick(ks,Ds)}function Ls(vs,ks,Ds,Bs){var Ms=!0,Q=!1;return Ds===null?Q=new TypeError("May not write null values to stream"):typeof Ds!="string"&&Ds!==void 0&&!ks.objectMode&&(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(vs.emit("error",Q),t.nextTick(Bs,Q),Ms=!1),Ms}qs.prototype.write=function(vs,ks,Ds){var Bs=this._writableState,Ms=!1,Q=!Bs.objectMode&&et(vs);return Q&&!A.isBuffer(vs)&&(vs=q(vs)),typeof ks=="function"&&(Ds=ks,ks=null),Q?ks="buffer":ks||(ks=Bs.defaultEncoding),typeof Ds!="function"&&(Ds=Oi),Bs.ended?Us(this,Ds):(Q||Ls(this,Bs,vs,Ds))&&(Bs.pendingcb++,Ms=zs(this,Bs,Q,vs,ks,Ds)),Ms},qs.prototype.cork=function(){var vs=this._writableState;vs.corked++},qs.prototype.uncork=function(){var vs=this._writableState;vs.corked&&(vs.corked--,!vs.writing&&!vs.corked&&!vs.bufferProcessing&&vs.bufferedRequest&&Fo(this,vs))},qs.prototype.setDefaultEncoding=function(ks){if(typeof ks=="string"&&(ks=ks.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ks+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ks);return this._writableState.defaultEncoding=ks,this};function Gs(vs,ks,Ds){return!vs.objectMode&&vs.decodeStrings!==!1&&typeof ks=="string"&&(ks=A.from(ks,Ds)),ks}Object.defineProperty(qs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function zs(vs,ks,Ds,Bs,Ms,Q){if(!Ds){var $s=Gs(ks,Bs,Ms);Bs!==$s&&(Ds=!0,Ms="buffer",Bs=$s)}var Ks=ks.objectMode?1:Bs.length;ks.length+=Ks;var jo=ks.length<ks.highWaterMark;if(jo||(ks.needDrain=!0),ks.writing||ks.corked){var Bo=ks.lastBufferedRequest;ks.lastBufferedRequest={chunk:Bs,encoding:Ms,isBuf:Ds,callback:Q,next:null},Bo?Bo.next=ks.lastBufferedRequest:ks.bufferedRequest=ks.lastBufferedRequest,ks.bufferedRequestCount+=1}else Vs(vs,ks,!1,Ks,Bs,Ms,Q);return jo}function Vs(vs,ks,Ds,Bs,Ms,Q,$s){ks.writelen=Bs,ks.writecb=$s,ks.writing=!0,ks.sync=!0,Ds?vs._writev(Ms,ks.onwrite):vs._write(Ms,Q,ks.onwrite),ks.sync=!1}function Zs(vs,ks,Ds,Bs,Ms){--ks.pendingcb,Ds?(t.nextTick(Ms,Bs),t.nextTick(f,vs,ks),vs._writableState.errorEmitted=!0,vs.emit("error",Bs)):(Ms(Bs),vs._writableState.errorEmitted=!0,vs.emit("error",Bs),f(vs,ks))}function Js(vs){vs.writing=!1,vs.writecb=null,vs.length-=vs.writelen,vs.writelen=0}function xo(vs,ks){var Ds=vs._writableState,Bs=Ds.sync,Ms=Ds.writecb;if(Js(Ds),ks)Zs(vs,Ds,Bs,ks,Ms);else{var Q=Ys(Ds);!Q&&!Ds.corked&&!Ds.bufferProcessing&&Ds.bufferedRequest&&Fo(vs,Ds),Bs?i(Io,vs,Ds,Q,Ms):Io(vs,Ds,Q,Ms)}}function Io(vs,ks,Ds,Bs){Ds||Uo(vs,ks),ks.pendingcb--,Bs(),f(vs,ks)}function Uo(vs,ks){ks.length===0&&ks.needDrain&&(ks.needDrain=!1,vs.emit("drain"))}function Fo(vs,ks){ks.bufferProcessing=!0;var Ds=ks.bufferedRequest;if(vs._writev&&Ds&&Ds.next){var Bs=ks.bufferedRequestCount,Ms=new Array(Bs),Q=ks.corkedRequestsFree;Q.entry=Ds;for(var $s=0,Ks=!0;Ds;)Ms[$s]=Ds,Ds.isBuf||(Ks=!1),Ds=Ds.next,$s+=1;Ms.allBuffers=Ks,Vs(vs,ks,!0,ks.length,Ms,"",Q.finish),ks.pendingcb++,ks.lastBufferedRequest=null,Q.next?(ks.corkedRequestsFree=Q.next,Q.next=null):ks.corkedRequestsFree=new e(ks),ks.bufferedRequestCount=0}else{for(;Ds;){var jo=Ds.chunk,Bo=Ds.encoding,To=Ds.callback,Oo=ks.objectMode?1:jo.length;if(Vs(vs,ks,!1,Oo,jo,Bo,To),Ds=Ds.next,ks.bufferedRequestCount--,ks.writing)break}Ds===null&&(ks.lastBufferedRequest=null)}ks.bufferedRequest=Ds,ks.bufferProcessing=!1}qs.prototype._write=function(vs,ks,Ds){Ds(new Error("_write() is not implemented"))},qs.prototype._writev=null,qs.prototype.end=function(vs,ks,Ds){var Bs=this._writableState;typeof vs=="function"?(Ds=vs,vs=null,ks=null):typeof ks=="function"&&(Ds=ks,ks=null),vs!=null&&this.write(vs,ks),Bs.corked&&(Bs.corked=1,this.uncork()),Bs.ending||Y(this,Bs,Ds)};function Ys(vs){return vs.ending&&vs.length===0&&vs.bufferedRequest===null&&!vs.finished&&!vs.writing}function Hs(vs,ks){vs._final(function(Ds){ks.pendingcb--,Ds&&vs.emit("error",Ds),ks.prefinished=!0,vs.emit("prefinish"),f(vs,ks)})}function Ws(vs,ks){!ks.prefinished&&!ks.finalCalled&&(typeof vs._final=="function"?(ks.pendingcb++,ks.finalCalled=!0,t.nextTick(Hs,vs,ks)):(ks.prefinished=!0,vs.emit("prefinish")))}function f(vs,ks){var Ds=Ys(ks);return Ds&&(Ws(vs,ks),ks.pendingcb===0&&(ks.finished=!0,vs.emit("finish"))),Ds}function Y(vs,ks,Ds){ks.ending=!0,f(vs,ks),Ds&&(ks.finished?t.nextTick(Ds):vs.once("finish",Ds)),ks.ended=!0,vs.writable=!1}function nt(vs,ks,Ds){var Bs=vs.entry;for(vs.entry=null;Bs;){var Ms=Bs.callback;ks.pendingcb--,Ms(Ds),Bs=Bs.next}ks.corkedRequestsFree.next=vs}return Object.defineProperty(qs.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(vs){this._writableState&&(this._writableState.destroyed=vs)}}),qs.prototype.destroy=xi.destroy,qs.prototype._undestroy=xi.undestroy,qs.prototype._destroy=function(vs,ks){this.end(),ks(vs)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var t=requireProcessNextickArgs(),e=Object.keys||function(xi){var Oi=[];for(var Ts in xi)Oi.push(Ts);return Oi};_stream_duplex=T;var i=Object.create(requireUtil());i.inherits=requireInherits_browser();var n=require_stream_readable(),s=require_stream_writable();i.inherits(T,n);for(var a=e(s.prototype),l=0;l<a.length;l++){var A=a[l];T.prototype[A]||(T.prototype[A]=s.prototype[A])}function T(xi){if(!(this instanceof T))return new T(xi);n.call(this,xi),s.call(this,xi),xi&&xi.readable===!1&&(this.readable=!1),xi&&xi.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,xi&&xi.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",q)}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function q(){this.allowHalfOpen||this._writableState.ended||t.nextTick(et,this)}function et(xi){xi.end()}return Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(xi){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=xi,this._writableState.destroyed=xi)}}),T.prototype._destroy=function(xi,Oi){this.push(null),this.end(),t.nextTick(Oi,xi)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var t=requireProcessNextickArgs();_stream_readable=Gs;var e=requireIsarray(),i;Gs.ReadableState=Ls,requireEvents().EventEmitter;var n=function(To,Oo){return To.listeners(Oo).length},s=requireStreamBrowser(),a=requireSafeBuffer().Buffer,l=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function A(To){return a.from(To)}function T(To){return a.isBuffer(To)||To instanceof l}var q=Object.create(requireUtil());q.inherits=requireInherits_browser();var et=requireUtil$1(),xi=void 0;et&&et.debuglog?xi=et.debuglog("stream"):xi=function(){};var Oi=requireBufferList(),Ts=requireDestroy(),Fs;q.inherits(Gs,s);var qs=["error","close","destroy","pause","resume"];function Us(To,Oo,Vo){if(typeof To.prependListener=="function")return To.prependListener(Oo,Vo);!To._events||!To._events[Oo]?To.on(Oo,Vo):e(To._events[Oo])?To._events[Oo].unshift(Vo):To._events[Oo]=[Vo,To._events[Oo]]}function Ls(To,Oo){i=i||require_stream_duplex(),To=To||{};var Vo=Oo instanceof i;this.objectMode=!!To.objectMode,Vo&&(this.objectMode=this.objectMode||!!To.readableObjectMode);var zo=To.highWaterMark,so=To.readableHighWaterMark,Qs=this.objectMode?16:16*1024;zo||zo===0?this.highWaterMark=zo:Vo&&(so||so===0)?this.highWaterMark=so:this.highWaterMark=Qs,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Oi,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=To.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,To.encoding&&(Fs||(Fs=requireString_decoder().StringDecoder),this.decoder=new Fs(To.encoding),this.encoding=To.encoding)}function Gs(To){if(i=i||require_stream_duplex(),!(this instanceof Gs))return new Gs(To);this._readableState=new Ls(To,this),this.readable=!0,To&&(typeof To.read=="function"&&(this._read=To.read),typeof To.destroy=="function"&&(this._destroy=To.destroy)),s.call(this)}Object.defineProperty(Gs.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(To){this._readableState&&(this._readableState.destroyed=To)}}),Gs.prototype.destroy=Ts.destroy,Gs.prototype._undestroy=Ts.undestroy,Gs.prototype._destroy=function(To,Oo){this.push(null),Oo(To)},Gs.prototype.push=function(To,Oo){var Vo=this._readableState,zo;return Vo.objectMode?zo=!0:typeof To=="string"&&(Oo=Oo||Vo.defaultEncoding,Oo!==Vo.encoding&&(To=a.from(To,Oo),Oo=""),zo=!0),zs(this,To,Oo,!1,zo)},Gs.prototype.unshift=function(To){return zs(this,To,null,!0,!1)};function zs(To,Oo,Vo,zo,so){var Qs=To._readableState;if(Oo===null)Qs.reading=!1,Fo(To,Qs);else{var sa;so||(sa=Zs(Qs,Oo)),sa?To.emit("error",sa):Qs.objectMode||Oo&&Oo.length>0?(typeof Oo!="string"&&!Qs.objectMode&&Object.getPrototypeOf(Oo)!==a.prototype&&(Oo=A(Oo)),zo?Qs.endEmitted?To.emit("error",new Error("stream.unshift() after end event")):Vs(To,Qs,Oo,!0):Qs.ended?To.emit("error",new Error("stream.push() after EOF")):(Qs.reading=!1,Qs.decoder&&!Vo?(Oo=Qs.decoder.write(Oo),Qs.objectMode||Oo.length!==0?Vs(To,Qs,Oo,!1):Ws(To,Qs)):Vs(To,Qs,Oo,!1))):zo||(Qs.reading=!1)}return Js(Qs)}function Vs(To,Oo,Vo,zo){Oo.flowing&&Oo.length===0&&!Oo.sync?(To.emit("data",Vo),To.read(0)):(Oo.length+=Oo.objectMode?1:Vo.length,zo?Oo.buffer.unshift(Vo):Oo.buffer.push(Vo),Oo.needReadable&&Ys(To)),Ws(To,Oo)}function Zs(To,Oo){var Vo;return!T(Oo)&&typeof Oo!="string"&&Oo!==void 0&&!To.objectMode&&(Vo=new TypeError("Invalid non-string/buffer chunk")),Vo}function Js(To){return!To.ended&&(To.needReadable||To.length<To.highWaterMark||To.length===0)}Gs.prototype.isPaused=function(){return this._readableState.flowing===!1},Gs.prototype.setEncoding=function(To){return Fs||(Fs=requireString_decoder().StringDecoder),this._readableState.decoder=new Fs(To),this._readableState.encoding=To,this};var xo=8388608;function Io(To){return To>=xo?To=xo:(To--,To|=To>>>1,To|=To>>>2,To|=To>>>4,To|=To>>>8,To|=To>>>16,To++),To}function Uo(To,Oo){return To<=0||Oo.length===0&&Oo.ended?0:Oo.objectMode?1:To!==To?Oo.flowing&&Oo.length?Oo.buffer.head.data.length:Oo.length:(To>Oo.highWaterMark&&(Oo.highWaterMark=Io(To)),To<=Oo.length?To:Oo.ended?Oo.length:(Oo.needReadable=!0,0))}Gs.prototype.read=function(To){xi("read",To),To=parseInt(To,10);var Oo=this._readableState,Vo=To;if(To!==0&&(Oo.emittedReadable=!1),To===0&&Oo.needReadable&&(Oo.length>=Oo.highWaterMark||Oo.ended))return xi("read: emitReadable",Oo.length,Oo.ended),Oo.length===0&&Oo.ended?Ks(this):Ys(this),null;if(To=Uo(To,Oo),To===0&&Oo.ended)return Oo.length===0&&Ks(this),null;var zo=Oo.needReadable;xi("need readable",zo),(Oo.length===0||Oo.length-To<Oo.highWaterMark)&&(zo=!0,xi("length less than watermark",zo)),Oo.ended||Oo.reading?(zo=!1,xi("reading or ended",zo)):zo&&(xi("do read"),Oo.reading=!0,Oo.sync=!0,Oo.length===0&&(Oo.needReadable=!0),this._read(Oo.highWaterMark),Oo.sync=!1,Oo.reading||(To=Uo(Vo,Oo)));var so;return To>0?so=Bs(To,Oo):so=null,so===null?(Oo.needReadable=!0,To=0):Oo.length-=To,Oo.length===0&&(Oo.ended||(Oo.needReadable=!0),Vo!==To&&Oo.ended&&Ks(this)),so!==null&&this.emit("data",so),so};function Fo(To,Oo){if(!Oo.ended){if(Oo.decoder){var Vo=Oo.decoder.end();Vo&&Vo.length&&(Oo.buffer.push(Vo),Oo.length+=Oo.objectMode?1:Vo.length)}Oo.ended=!0,Ys(To)}}function Ys(To){var Oo=To._readableState;Oo.needReadable=!1,Oo.emittedReadable||(xi("emitReadable",Oo.flowing),Oo.emittedReadable=!0,Oo.sync?t.nextTick(Hs,To):Hs(To))}function Hs(To){xi("emit readable"),To.emit("readable"),Ds(To)}function Ws(To,Oo){Oo.readingMore||(Oo.readingMore=!0,t.nextTick(f,To,Oo))}function f(To,Oo){for(var Vo=Oo.length;!Oo.reading&&!Oo.flowing&&!Oo.ended&&Oo.length<Oo.highWaterMark&&(xi("maybeReadMore read 0"),To.read(0),Vo!==Oo.length);)Vo=Oo.length;Oo.readingMore=!1}Gs.prototype._read=function(To){this.emit("error",new Error("_read() is not implemented"))},Gs.prototype.pipe=function(To,Oo){var Vo=this,zo=this._readableState;switch(zo.pipesCount){case 0:zo.pipes=To;break;case 1:zo.pipes=[zo.pipes,To];break;default:zo.pipes.push(To);break}zo.pipesCount+=1,xi("pipe count=%d opts=%j",zo.pipesCount,Oo);var so=(!Oo||Oo.end!==!1)&&To!==process$1.stdout&&To!==process$1.stderr,Qs=so?Zo:da;zo.endEmitted?t.nextTick(Qs):Vo.once("end",Qs),To.on("unpipe",sa);function sa(fa,La){xi("onunpipe"),fa===Vo&&La&&La.hasUnpiped===!1&&(La.hasUnpiped=!0,Ko())}function Zo(){xi("onend"),To.end()}var Qo=Y(Vo);To.on("drain",Qo);var la=!1;function Ko(){xi("cleanup"),To.removeListener("close",ua),To.removeListener("finish",Ma),To.removeListener("drain",Qo),To.removeListener("error",oa),To.removeListener("unpipe",sa),Vo.removeListener("end",Zo),Vo.removeListener("end",da),Vo.removeListener("data",aa),la=!0,zo.awaitDrain&&(!To._writableState||To._writableState.needDrain)&&Qo()}var Jo=!1;Vo.on("data",aa);function aa(fa){xi("ondata"),Jo=!1;var La=To.write(fa);La===!1&&!Jo&&((zo.pipesCount===1&&zo.pipes===To||zo.pipesCount>1&&Bo(zo.pipes,To)!==-1)&&!la&&(xi("false write response, pause",zo.awaitDrain),zo.awaitDrain++,Jo=!0),Vo.pause())}function oa(fa){xi("onerror",fa),da(),To.removeListener("error",oa),n(To,"error")===0&&To.emit("error",fa)}Us(To,"error",oa);function ua(){To.removeListener("finish",Ma),da()}To.once("close",ua);function Ma(){xi("onfinish"),To.removeListener("close",ua),da()}To.once("finish",Ma);function da(){xi("unpipe"),Vo.unpipe(To)}return To.emit("pipe",Vo),zo.flowing||(xi("pipe resume"),Vo.resume()),To};function Y(To){return function(){var Oo=To._readableState;xi("pipeOnDrain",Oo.awaitDrain),Oo.awaitDrain&&Oo.awaitDrain--,Oo.awaitDrain===0&&n(To,"data")&&(Oo.flowing=!0,Ds(To))}}Gs.prototype.unpipe=function(To){var Oo=this._readableState,Vo={hasUnpiped:!1};if(Oo.pipesCount===0)return this;if(Oo.pipesCount===1)return To&&To!==Oo.pipes?this:(To||(To=Oo.pipes),Oo.pipes=null,Oo.pipesCount=0,Oo.flowing=!1,To&&To.emit("unpipe",this,Vo),this);if(!To){var zo=Oo.pipes,so=Oo.pipesCount;Oo.pipes=null,Oo.pipesCount=0,Oo.flowing=!1;for(var Qs=0;Qs<so;Qs++)zo[Qs].emit("unpipe",this,{hasUnpiped:!1});return this}var sa=Bo(Oo.pipes,To);return sa===-1?this:(Oo.pipes.splice(sa,1),Oo.pipesCount-=1,Oo.pipesCount===1&&(Oo.pipes=Oo.pipes[0]),To.emit("unpipe",this,Vo),this)},Gs.prototype.on=function(To,Oo){var Vo=s.prototype.on.call(this,To,Oo);if(To==="data")this._readableState.flowing!==!1&&this.resume();else if(To==="readable"){var zo=this._readableState;!zo.endEmitted&&!zo.readableListening&&(zo.readableListening=zo.needReadable=!0,zo.emittedReadable=!1,zo.reading?zo.length&&Ys(this):t.nextTick(nt,this))}return Vo},Gs.prototype.addListener=Gs.prototype.on;function nt(To){xi("readable nexttick read 0"),To.read(0)}Gs.prototype.resume=function(){var To=this._readableState;return To.flowing||(xi("resume"),To.flowing=!0,vs(this,To)),this};function vs(To,Oo){Oo.resumeScheduled||(Oo.resumeScheduled=!0,t.nextTick(ks,To,Oo))}function ks(To,Oo){Oo.reading||(xi("resume read 0"),To.read(0)),Oo.resumeScheduled=!1,Oo.awaitDrain=0,To.emit("resume"),Ds(To),Oo.flowing&&!Oo.reading&&To.read(0)}Gs.prototype.pause=function(){return xi("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xi("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ds(To){var Oo=To._readableState;for(xi("flow",Oo.flowing);Oo.flowing&&To.read()!==null;);}Gs.prototype.wrap=function(To){var Oo=this,Vo=this._readableState,zo=!1;To.on("end",function(){if(xi("wrapped end"),Vo.decoder&&!Vo.ended){var sa=Vo.decoder.end();sa&&sa.length&&Oo.push(sa)}Oo.push(null)}),To.on("data",function(sa){if(xi("wrapped data"),Vo.decoder&&(sa=Vo.decoder.write(sa)),!(Vo.objectMode&&sa==null)&&!(!Vo.objectMode&&(!sa||!sa.length))){var Zo=Oo.push(sa);Zo||(zo=!0,To.pause())}});for(var so in To)this[so]===void 0&&typeof To[so]=="function"&&(this[so]=function(sa){return function(){return To[sa].apply(To,arguments)}}(so));for(var Qs=0;Qs<qs.length;Qs++)To.on(qs[Qs],this.emit.bind(this,qs[Qs]));return this._read=function(sa){xi("wrapped _read",sa),zo&&(zo=!1,To.resume())},this},Object.defineProperty(Gs.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Gs._fromList=Bs;function Bs(To,Oo){if(Oo.length===0)return null;var Vo;return Oo.objectMode?Vo=Oo.buffer.shift():!To||To>=Oo.length?(Oo.decoder?Vo=Oo.buffer.join(""):Oo.buffer.length===1?Vo=Oo.buffer.head.data:Vo=Oo.buffer.concat(Oo.length),Oo.buffer.clear()):Vo=Ms(To,Oo.buffer,Oo.decoder),Vo}function Ms(To,Oo,Vo){var zo;return To<Oo.head.data.length?(zo=Oo.head.data.slice(0,To),Oo.head.data=Oo.head.data.slice(To)):To===Oo.head.data.length?zo=Oo.shift():zo=Vo?Q(To,Oo):$s(To,Oo),zo}function Q(To,Oo){var Vo=Oo.head,zo=1,so=Vo.data;for(To-=so.length;Vo=Vo.next;){var Qs=Vo.data,sa=To>Qs.length?Qs.length:To;if(sa===Qs.length?so+=Qs:so+=Qs.slice(0,To),To-=sa,To===0){sa===Qs.length?(++zo,Vo.next?Oo.head=Vo.next:Oo.head=Oo.tail=null):(Oo.head=Vo,Vo.data=Qs.slice(sa));break}++zo}return Oo.length-=zo,so}function $s(To,Oo){var Vo=a.allocUnsafe(To),zo=Oo.head,so=1;for(zo.data.copy(Vo),To-=zo.data.length;zo=zo.next;){var Qs=zo.data,sa=To>Qs.length?Qs.length:To;if(Qs.copy(Vo,Vo.length-To,0,sa),To-=sa,To===0){sa===Qs.length?(++so,zo.next?Oo.head=zo.next:Oo.head=Oo.tail=null):(Oo.head=zo,zo.data=Qs.slice(sa));break}++so}return Oo.length-=so,Vo}function Ks(To){var Oo=To._readableState;if(Oo.length>0)throw new Error('"endReadable()" called on non-empty stream');Oo.endEmitted||(Oo.ended=!0,t.nextTick(jo,Oo,To))}function jo(To,Oo){!To.endEmitted&&To.length===0&&(To.endEmitted=!0,Oo.readable=!1,Oo.emit("end"))}function Bo(To,Oo){for(var Vo=0,zo=To.length;Vo<zo;Vo++)if(To[Vo]===Oo)return Vo;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=n;var t=require_stream_duplex(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(n,t);function i(l,A){var T=this._transformState;T.transforming=!1;var q=T.writecb;if(!q)return this.emit("error",new Error("write callback called multiple times"));T.writechunk=null,T.writecb=null,A!=null&&this.push(A),q(l);var et=this._readableState;et.reading=!1,(et.needReadable||et.length<et.highWaterMark)&&this._read(et.highWaterMark)}function n(l){if(!(this instanceof n))return new n(l);t.call(this,l),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",s)}function s(){var l=this;typeof this._flush=="function"?this._flush(function(A,T){a(l,A,T)}):a(this,null,null)}n.prototype.push=function(l,A){return this._transformState.needTransform=!1,t.prototype.push.call(this,l,A)},n.prototype._transform=function(l,A,T){throw new Error("_transform() is not implemented")},n.prototype._write=function(l,A,T){var q=this._transformState;if(q.writecb=T,q.writechunk=l,q.writeencoding=A,!q.transforming){var et=this._readableState;(q.needTransform||et.needReadable||et.length<et.highWaterMark)&&this._read(et.highWaterMark)}},n.prototype._read=function(l){var A=this._transformState;A.writechunk!==null&&A.writecb&&!A.transforming?(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform)):A.needTransform=!0},n.prototype._destroy=function(l,A){var T=this;t.prototype._destroy.call(this,l,function(q){A(q),T.emit("close")})};function a(l,A,T){if(A)return l.emit("error",A);if(T!=null&&l.push(T),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=i;var t=require_stream_transform(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(i,t);function i(n){if(!(this instanceof i))return new i(n);t.call(this,n)}return i.prototype._transform=function(n,s,a){a(null,n)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(t,e){e=t.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var t=bnExports,e=requireBrowser$b(),i=requireSafeBuffer$1().Buffer;function n(l){var A=l.modulus.byteLength(),T;do T=new t(e(A));while(T.cmp(l.modulus)>=0||!T.umod(l.prime1)||!T.umod(l.prime2));return T}function s(l){var A=n(l),T=A.toRed(t.mont(l.modulus)).redPow(new t(l.publicExponent)).fromRed();return{blinder:T,unblinder:A.invm(l.modulus)}}function a(l,A){var T=s(A),q=A.modulus.byteLength(),et=new t(l).mul(T.blinder).umod(A.modulus),xi=et.toRed(t.mont(A.prime1)),Oi=et.toRed(t.mont(A.prime2)),Ts=A.coefficient,Fs=A.prime1,qs=A.prime2,Us=xi.redPow(A.exponent1).fromRed(),Ls=Oi.redPow(A.exponent2).fromRed(),Gs=Us.isub(Ls).imul(Ts).umod(Fs).imul(qs);return Ls.iadd(Gs).imul(T.unblinder).umod(A.modulus).toArrayLike(i,"be",q)}return a.getr=n,browserifyRsa=a,browserifyRsa}var elliptic={};const version="6.6.1",require$$0={version};var utils$2={},utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(t){var e=t;function i(a,l){if(Array.isArray(a))return a.slice();if(!a)return[];var A=[];if(typeof a!="string"){for(var T=0;T<a.length;T++)A[T]=a[T]|0;return A}if(l==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var T=0;T<a.length;T+=2)A.push(parseInt(a[T]+a[T+1],16))}else for(var T=0;T<a.length;T++){var q=a.charCodeAt(T),et=q>>8,xi=q&255;et?A.push(et,xi):A.push(xi)}return A}e.toArray=i;function n(a){return a.length===1?"0"+a:a}e.zero2=n;function s(a){for(var l="",A=0;A<a.length;A++)l+=n(a[A].toString(16));return l}e.toHex=s,e.encode=function(l,A){return A==="hex"?s(l):l}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(t){var e=t,i=requireBn(),n=requireMinimalisticAssert(),s=requireUtils$2();e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function a(et,xi,Oi){var Ts=new Array(Math.max(et.bitLength(),Oi)+1),Fs;for(Fs=0;Fs<Ts.length;Fs+=1)Ts[Fs]=0;var qs=1<<xi+1,Us=et.clone();for(Fs=0;Fs<Ts.length;Fs++){var Ls,Gs=Us.andln(qs-1);Us.isOdd()?(Gs>(qs>>1)-1?Ls=(qs>>1)-Gs:Ls=Gs,Us.isubn(Ls)):Ls=0,Ts[Fs]=Ls,Us.iushrn(1)}return Ts}e.getNAF=a;function l(et,xi){var Oi=[[],[]];et=et.clone(),xi=xi.clone();for(var Ts=0,Fs=0,qs;et.cmpn(-Ts)>0||xi.cmpn(-Fs)>0;){var Us=et.andln(3)+Ts&3,Ls=xi.andln(3)+Fs&3;Us===3&&(Us=-1),Ls===3&&(Ls=-1);var Gs;Us&1?(qs=et.andln(7)+Ts&7,(qs===3||qs===5)&&Ls===2?Gs=-Us:Gs=Us):Gs=0,Oi[0].push(Gs);var zs;Ls&1?(qs=xi.andln(7)+Fs&7,(qs===3||qs===5)&&Us===2?zs=-Ls:zs=Ls):zs=0,Oi[1].push(zs),2*Ts===Gs+1&&(Ts=1-Ts),2*Fs===zs+1&&(Fs=1-Fs),et.iushrn(1),xi.iushrn(1)}return Oi}e.getJSF=l;function A(et,xi,Oi){var Ts="_"+xi;et.prototype[xi]=function(){return this[Ts]!==void 0?this[Ts]:this[Ts]=Oi.call(this)}}e.cachedProperty=A;function T(et){return typeof et=="string"?e.toArray(et,"hex"):et}e.parseBytes=T;function q(et){return new i(et,"hex","le")}e.intFromLE=q}(utils$2)),utils$2}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var t=requireBn(),e=requireUtils$1(),i=e.getNAF,n=e.getJSF,s=e.assert;function a(A,T){this.type=A,this.p=new t(T.p,16),this.red=T.prime?t.red(T.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=T.n&&new t(T.n,16),this.g=T.g&&this.pointFromJSON(T.g,T.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var q=this.n&&this.p.div(this.n);!q||q.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=a,a.prototype.point=function(){throw new Error("Not implemented")},a.prototype.validate=function(){throw new Error("Not implemented")},a.prototype._fixedNafMul=function(T,q){s(T.precomputed);var et=T._getDoubles(),xi=i(q,1,this._bitLength),Oi=(1<<et.step+1)-(et.step%2===0?2:1);Oi/=3;var Ts=[],Fs,qs;for(Fs=0;Fs<xi.length;Fs+=et.step){qs=0;for(var Us=Fs+et.step-1;Us>=Fs;Us--)qs=(qs<<1)+xi[Us];Ts.push(qs)}for(var Ls=this.jpoint(null,null,null),Gs=this.jpoint(null,null,null),zs=Oi;zs>0;zs--){for(Fs=0;Fs<Ts.length;Fs++)qs=Ts[Fs],qs===zs?Gs=Gs.mixedAdd(et.points[Fs]):qs===-zs&&(Gs=Gs.mixedAdd(et.points[Fs].neg()));Ls=Ls.add(Gs)}return Ls.toP()},a.prototype._wnafMul=function(T,q){var et=4,xi=T._getNAFPoints(et);et=xi.wnd;for(var Oi=xi.points,Ts=i(q,et,this._bitLength),Fs=this.jpoint(null,null,null),qs=Ts.length-1;qs>=0;qs--){for(var Us=0;qs>=0&&Ts[qs]===0;qs--)Us++;if(qs>=0&&Us++,Fs=Fs.dblp(Us),qs<0)break;var Ls=Ts[qs];s(Ls!==0),T.type==="affine"?Ls>0?Fs=Fs.mixedAdd(Oi[Ls-1>>1]):Fs=Fs.mixedAdd(Oi[-Ls-1>>1].neg()):Ls>0?Fs=Fs.add(Oi[Ls-1>>1]):Fs=Fs.add(Oi[-Ls-1>>1].neg())}return T.type==="affine"?Fs.toP():Fs},a.prototype._wnafMulAdd=function(T,q,et,xi,Oi){var Ts=this._wnafT1,Fs=this._wnafT2,qs=this._wnafT3,Us=0,Ls,Gs,zs;for(Ls=0;Ls<xi;Ls++){zs=q[Ls];var Vs=zs._getNAFPoints(T);Ts[Ls]=Vs.wnd,Fs[Ls]=Vs.points}for(Ls=xi-1;Ls>=1;Ls-=2){var Zs=Ls-1,Js=Ls;if(Ts[Zs]!==1||Ts[Js]!==1){qs[Zs]=i(et[Zs],Ts[Zs],this._bitLength),qs[Js]=i(et[Js],Ts[Js],this._bitLength),Us=Math.max(qs[Zs].length,Us),Us=Math.max(qs[Js].length,Us);continue}var xo=[q[Zs],null,null,q[Js]];q[Zs].y.cmp(q[Js].y)===0?(xo[1]=q[Zs].add(q[Js]),xo[2]=q[Zs].toJ().mixedAdd(q[Js].neg())):q[Zs].y.cmp(q[Js].y.redNeg())===0?(xo[1]=q[Zs].toJ().mixedAdd(q[Js]),xo[2]=q[Zs].add(q[Js].neg())):(xo[1]=q[Zs].toJ().mixedAdd(q[Js]),xo[2]=q[Zs].toJ().mixedAdd(q[Js].neg()));var Io=[-3,-1,-5,-7,0,7,5,1,3],Uo=n(et[Zs],et[Js]);for(Us=Math.max(Uo[0].length,Us),qs[Zs]=new Array(Us),qs[Js]=new Array(Us),Gs=0;Gs<Us;Gs++){var Fo=Uo[0][Gs]|0,Ys=Uo[1][Gs]|0;qs[Zs][Gs]=Io[(Fo+1)*3+(Ys+1)],qs[Js][Gs]=0,Fs[Zs]=xo}}var Hs=this.jpoint(null,null,null),Ws=this._wnafT4;for(Ls=Us;Ls>=0;Ls--){for(var f=0;Ls>=0;){var Y=!0;for(Gs=0;Gs<xi;Gs++)Ws[Gs]=qs[Gs][Ls]|0,Ws[Gs]!==0&&(Y=!1);if(!Y)break;f++,Ls--}if(Ls>=0&&f++,Hs=Hs.dblp(f),Ls<0)break;for(Gs=0;Gs<xi;Gs++){var nt=Ws[Gs];nt!==0&&(nt>0?zs=Fs[Gs][nt-1>>1]:nt<0&&(zs=Fs[Gs][-nt-1>>1].neg()),zs.type==="affine"?Hs=Hs.mixedAdd(zs):Hs=Hs.add(zs))}}for(Ls=0;Ls<xi;Ls++)Fs[Ls]=null;return Oi?Hs:Hs.toP()};function l(A,T){this.curve=A,this.type=T,this.precomputed=null}return a.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(T,q){T=e.toArray(T,q);var et=this.p.byteLength();if((T[0]===4||T[0]===6||T[0]===7)&&T.length-1===2*et){T[0]===6?s(T[T.length-1]%2===0):T[0]===7&&s(T[T.length-1]%2===1);var xi=this.point(T.slice(1,1+et),T.slice(1+et,1+2*et));return xi}else if((T[0]===2||T[0]===3)&&T.length-1===et)return this.pointFromX(T.slice(1,1+et),T[0]===3);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(T){return this.encode(T,!0)},l.prototype._encode=function(T){var q=this.curve.p.byteLength(),et=this.getX().toArray("be",q);return T?[this.getY().isEven()?2:3].concat(et):[4].concat(et,this.getY().toArray("be",q))},l.prototype.encode=function(T,q){return e.encode(this._encode(q),T)},l.prototype.precompute=function(T){if(this.precomputed)return this;var q={doubles:null,naf:null,beta:null};return q.naf=this._getNAFPoints(8),q.doubles=this._getDoubles(4,T),q.beta=this._getBeta(),this.precomputed=q,this},l.prototype._hasDoubles=function(T){if(!this.precomputed)return!1;var q=this.precomputed.doubles;return q?q.points.length>=Math.ceil((T.bitLength()+1)/q.step):!1},l.prototype._getDoubles=function(T,q){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var et=[this],xi=this,Oi=0;Oi<q;Oi+=T){for(var Ts=0;Ts<T;Ts++)xi=xi.dbl();et.push(xi)}return{step:T,points:et}},l.prototype._getNAFPoints=function(T){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var q=[this],et=(1<<T)-1,xi=et===1?null:this.dbl(),Oi=1;Oi<et;Oi++)q[Oi]=q[Oi-1].add(xi);return{wnd:T,points:q}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(T){for(var q=this,et=0;et<T;et++)q=q.dbl();return q},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var t=requireUtils$1(),e=requireBn(),i=requireInherits_browser(),n=requireBase$1(),s=t.assert;function a(T){n.call(this,"short",T),this.a=new e(T.a,16).toRed(this.red),this.b=new e(T.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(T),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}i(a,n),short=a,a.prototype._getEndomorphism=function(q){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var et,xi;if(q.beta)et=new e(q.beta,16).toRed(this.red);else{var Oi=this._getEndoRoots(this.p);et=Oi[0].cmp(Oi[1])<0?Oi[0]:Oi[1],et=et.toRed(this.red)}if(q.lambda)xi=new e(q.lambda,16);else{var Ts=this._getEndoRoots(this.n);this.g.mul(Ts[0]).x.cmp(this.g.x.redMul(et))===0?xi=Ts[0]:(xi=Ts[1],s(this.g.mul(xi).x.cmp(this.g.x.redMul(et))===0))}var Fs;return q.basis?Fs=q.basis.map(function(qs){return{a:new e(qs.a,16),b:new e(qs.b,16)}}):Fs=this._getEndoBasis(xi),{beta:et,lambda:xi,basis:Fs}}},a.prototype._getEndoRoots=function(q){var et=q===this.p?this.red:e.mont(q),xi=new e(2).toRed(et).redInvm(),Oi=xi.redNeg(),Ts=new e(3).toRed(et).redNeg().redSqrt().redMul(xi),Fs=Oi.redAdd(Ts).fromRed(),qs=Oi.redSub(Ts).fromRed();return[Fs,qs]},a.prototype._getEndoBasis=function(q){for(var et=this.n.ushrn(Math.floor(this.n.bitLength()/2)),xi=q,Oi=this.n.clone(),Ts=new e(1),Fs=new e(0),qs=new e(0),Us=new e(1),Ls,Gs,zs,Vs,Zs,Js,xo,Io=0,Uo,Fo;xi.cmpn(0)!==0;){var Ys=Oi.div(xi);Uo=Oi.sub(Ys.mul(xi)),Fo=qs.sub(Ys.mul(Ts));var Hs=Us.sub(Ys.mul(Fs));if(!zs&&Uo.cmp(et)<0)Ls=xo.neg(),Gs=Ts,zs=Uo.neg(),Vs=Fo;else if(zs&&++Io===2)break;xo=Uo,Oi=xi,xi=Uo,qs=Ts,Ts=Fo,Us=Fs,Fs=Hs}Zs=Uo.neg(),Js=Fo;var Ws=zs.sqr().add(Vs.sqr()),f=Zs.sqr().add(Js.sqr());return f.cmp(Ws)>=0&&(Zs=Ls,Js=Gs),zs.negative&&(zs=zs.neg(),Vs=Vs.neg()),Zs.negative&&(Zs=Zs.neg(),Js=Js.neg()),[{a:zs,b:Vs},{a:Zs,b:Js}]},a.prototype._endoSplit=function(q){var et=this.endo.basis,xi=et[0],Oi=et[1],Ts=Oi.b.mul(q).divRound(this.n),Fs=xi.b.neg().mul(q).divRound(this.n),qs=Ts.mul(xi.a),Us=Fs.mul(Oi.a),Ls=Ts.mul(xi.b),Gs=Fs.mul(Oi.b),zs=q.sub(qs).sub(Us),Vs=Ls.add(Gs).neg();return{k1:zs,k2:Vs}},a.prototype.pointFromX=function(q,et){q=new e(q,16),q.red||(q=q.toRed(this.red));var xi=q.redSqr().redMul(q).redIAdd(q.redMul(this.a)).redIAdd(this.b),Oi=xi.redSqrt();if(Oi.redSqr().redSub(xi).cmp(this.zero)!==0)throw new Error("invalid point");var Ts=Oi.fromRed().isOdd();return(et&&!Ts||!et&&Ts)&&(Oi=Oi.redNeg()),this.point(q,Oi)},a.prototype.validate=function(q){if(q.inf)return!0;var et=q.x,xi=q.y,Oi=this.a.redMul(et),Ts=et.redSqr().redMul(et).redIAdd(Oi).redIAdd(this.b);return xi.redSqr().redISub(Ts).cmpn(0)===0},a.prototype._endoWnafMulAdd=function(q,et,xi){for(var Oi=this._endoWnafT1,Ts=this._endoWnafT2,Fs=0;Fs<q.length;Fs++){var qs=this._endoSplit(et[Fs]),Us=q[Fs],Ls=Us._getBeta();qs.k1.negative&&(qs.k1.ineg(),Us=Us.neg(!0)),qs.k2.negative&&(qs.k2.ineg(),Ls=Ls.neg(!0)),Oi[Fs*2]=Us,Oi[Fs*2+1]=Ls,Ts[Fs*2]=qs.k1,Ts[Fs*2+1]=qs.k2}for(var Gs=this._wnafMulAdd(1,Oi,Ts,Fs*2,xi),zs=0;zs<Fs*2;zs++)Oi[zs]=null,Ts[zs]=null;return Gs};function l(T,q,et,xi){n.BasePoint.call(this,T,"affine"),q===null&&et===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(q,16),this.y=new e(et,16),xi&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}i(l,n.BasePoint),a.prototype.point=function(q,et,xi){return new l(this,q,et,xi)},a.prototype.pointFromJSON=function(q,et){return l.fromJSON(this,q,et)},l.prototype._getBeta=function(){if(this.curve.endo){var q=this.precomputed;if(q&&q.beta)return q.beta;var et=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(q){var xi=this.curve,Oi=function(Ts){return xi.point(Ts.x.redMul(xi.endo.beta),Ts.y)};q.beta=et,et.precomputed={beta:null,naf:q.naf&&{wnd:q.naf.wnd,points:q.naf.points.map(Oi)},doubles:q.doubles&&{step:q.doubles.step,points:q.doubles.points.map(Oi)}}}return et}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(q,et,xi){typeof et=="string"&&(et=JSON.parse(et));var Oi=q.point(et[0],et[1],xi);if(!et[2])return Oi;function Ts(qs){return q.point(qs[0],qs[1],xi)}var Fs=et[2];return Oi.precomputed={beta:null,doubles:Fs.doubles&&{step:Fs.doubles.step,points:[Oi].concat(Fs.doubles.points.map(Ts))},naf:Fs.naf&&{wnd:Fs.naf.wnd,points:[Oi].concat(Fs.naf.points.map(Ts))}},Oi},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(q){if(this.inf)return q;if(q.inf)return this;if(this.eq(q))return this.dbl();if(this.neg().eq(q))return this.curve.point(null,null);if(this.x.cmp(q.x)===0)return this.curve.point(null,null);var et=this.y.redSub(q.y);et.cmpn(0)!==0&&(et=et.redMul(this.x.redSub(q.x).redInvm()));var xi=et.redSqr().redISub(this.x).redISub(q.x),Oi=et.redMul(this.x.redSub(xi)).redISub(this.y);return this.curve.point(xi,Oi)},l.prototype.dbl=function(){if(this.inf)return this;var q=this.y.redAdd(this.y);if(q.cmpn(0)===0)return this.curve.point(null,null);var et=this.curve.a,xi=this.x.redSqr(),Oi=q.redInvm(),Ts=xi.redAdd(xi).redIAdd(xi).redIAdd(et).redMul(Oi),Fs=Ts.redSqr().redISub(this.x.redAdd(this.x)),qs=Ts.redMul(this.x.redSub(Fs)).redISub(this.y);return this.curve.point(Fs,qs)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(q){return q=new e(q,16),this.isInfinity()?this:this._hasDoubles(q)?this.curve._fixedNafMul(this,q):this.curve.endo?this.curve._endoWnafMulAdd([this],[q]):this.curve._wnafMul(this,q)},l.prototype.mulAdd=function(q,et,xi){var Oi=[this,et],Ts=[q,xi];return this.curve.endo?this.curve._endoWnafMulAdd(Oi,Ts):this.curve._wnafMulAdd(1,Oi,Ts,2)},l.prototype.jmulAdd=function(q,et,xi){var Oi=[this,et],Ts=[q,xi];return this.curve.endo?this.curve._endoWnafMulAdd(Oi,Ts,!0):this.curve._wnafMulAdd(1,Oi,Ts,2,!0)},l.prototype.eq=function(q){return this===q||this.inf===q.inf&&(this.inf||this.x.cmp(q.x)===0&&this.y.cmp(q.y)===0)},l.prototype.neg=function(q){if(this.inf)return this;var et=this.curve.point(this.x,this.y.redNeg());if(q&&this.precomputed){var xi=this.precomputed,Oi=function(Ts){return Ts.neg()};et.precomputed={naf:xi.naf&&{wnd:xi.naf.wnd,points:xi.naf.points.map(Oi)},doubles:xi.doubles&&{step:xi.doubles.step,points:xi.doubles.points.map(Oi)}}}return et},l.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var q=this.curve.jpoint(this.x,this.y,this.curve.one);return q};function A(T,q,et,xi){n.BasePoint.call(this,T,"jacobian"),q===null&&et===null&&xi===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(q,16),this.y=new e(et,16),this.z=new e(xi,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return i(A,n.BasePoint),a.prototype.jpoint=function(q,et,xi){return new A(this,q,et,xi)},A.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var q=this.z.redInvm(),et=q.redSqr(),xi=this.x.redMul(et),Oi=this.y.redMul(et).redMul(q);return this.curve.point(xi,Oi)},A.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},A.prototype.add=function(q){if(this.isInfinity())return q;if(q.isInfinity())return this;var et=q.z.redSqr(),xi=this.z.redSqr(),Oi=this.x.redMul(et),Ts=q.x.redMul(xi),Fs=this.y.redMul(et.redMul(q.z)),qs=q.y.redMul(xi.redMul(this.z)),Us=Oi.redSub(Ts),Ls=Fs.redSub(qs);if(Us.cmpn(0)===0)return Ls.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Gs=Us.redSqr(),zs=Gs.redMul(Us),Vs=Oi.redMul(Gs),Zs=Ls.redSqr().redIAdd(zs).redISub(Vs).redISub(Vs),Js=Ls.redMul(Vs.redISub(Zs)).redISub(Fs.redMul(zs)),xo=this.z.redMul(q.z).redMul(Us);return this.curve.jpoint(Zs,Js,xo)},A.prototype.mixedAdd=function(q){if(this.isInfinity())return q.toJ();if(q.isInfinity())return this;var et=this.z.redSqr(),xi=this.x,Oi=q.x.redMul(et),Ts=this.y,Fs=q.y.redMul(et).redMul(this.z),qs=xi.redSub(Oi),Us=Ts.redSub(Fs);if(qs.cmpn(0)===0)return Us.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Ls=qs.redSqr(),Gs=Ls.redMul(qs),zs=xi.redMul(Ls),Vs=Us.redSqr().redIAdd(Gs).redISub(zs).redISub(zs),Zs=Us.redMul(zs.redISub(Vs)).redISub(Ts.redMul(Gs)),Js=this.z.redMul(qs);return this.curve.jpoint(Vs,Zs,Js)},A.prototype.dblp=function(q){if(q===0)return this;if(this.isInfinity())return this;if(!q)return this.dbl();var et;if(this.curve.zeroA||this.curve.threeA){var xi=this;for(et=0;et<q;et++)xi=xi.dbl();return xi}var Oi=this.curve.a,Ts=this.curve.tinv,Fs=this.x,qs=this.y,Us=this.z,Ls=Us.redSqr().redSqr(),Gs=qs.redAdd(qs);for(et=0;et<q;et++){var zs=Fs.redSqr(),Vs=Gs.redSqr(),Zs=Vs.redSqr(),Js=zs.redAdd(zs).redIAdd(zs).redIAdd(Oi.redMul(Ls)),xo=Fs.redMul(Vs),Io=Js.redSqr().redISub(xo.redAdd(xo)),Uo=xo.redISub(Io),Fo=Js.redMul(Uo);Fo=Fo.redIAdd(Fo).redISub(Zs);var Ys=Gs.redMul(Us);et+1<q&&(Ls=Ls.redMul(Zs)),Fs=Io,Us=Ys,Gs=Fo}return this.curve.jpoint(Fs,Gs.redMul(Ts),Us)},A.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},A.prototype._zeroDbl=function(){var q,et,xi;if(this.zOne){var Oi=this.x.redSqr(),Ts=this.y.redSqr(),Fs=Ts.redSqr(),qs=this.x.redAdd(Ts).redSqr().redISub(Oi).redISub(Fs);qs=qs.redIAdd(qs);var Us=Oi.redAdd(Oi).redIAdd(Oi),Ls=Us.redSqr().redISub(qs).redISub(qs),Gs=Fs.redIAdd(Fs);Gs=Gs.redIAdd(Gs),Gs=Gs.redIAdd(Gs),q=Ls,et=Us.redMul(qs.redISub(Ls)).redISub(Gs),xi=this.y.redAdd(this.y)}else{var zs=this.x.redSqr(),Vs=this.y.redSqr(),Zs=Vs.redSqr(),Js=this.x.redAdd(Vs).redSqr().redISub(zs).redISub(Zs);Js=Js.redIAdd(Js);var xo=zs.redAdd(zs).redIAdd(zs),Io=xo.redSqr(),Uo=Zs.redIAdd(Zs);Uo=Uo.redIAdd(Uo),Uo=Uo.redIAdd(Uo),q=Io.redISub(Js).redISub(Js),et=xo.redMul(Js.redISub(q)).redISub(Uo),xi=this.y.redMul(this.z),xi=xi.redIAdd(xi)}return this.curve.jpoint(q,et,xi)},A.prototype._threeDbl=function(){var q,et,xi;if(this.zOne){var Oi=this.x.redSqr(),Ts=this.y.redSqr(),Fs=Ts.redSqr(),qs=this.x.redAdd(Ts).redSqr().redISub(Oi).redISub(Fs);qs=qs.redIAdd(qs);var Us=Oi.redAdd(Oi).redIAdd(Oi).redIAdd(this.curve.a),Ls=Us.redSqr().redISub(qs).redISub(qs);q=Ls;var Gs=Fs.redIAdd(Fs);Gs=Gs.redIAdd(Gs),Gs=Gs.redIAdd(Gs),et=Us.redMul(qs.redISub(Ls)).redISub(Gs),xi=this.y.redAdd(this.y)}else{var zs=this.z.redSqr(),Vs=this.y.redSqr(),Zs=this.x.redMul(Vs),Js=this.x.redSub(zs).redMul(this.x.redAdd(zs));Js=Js.redAdd(Js).redIAdd(Js);var xo=Zs.redIAdd(Zs);xo=xo.redIAdd(xo);var Io=xo.redAdd(xo);q=Js.redSqr().redISub(Io),xi=this.y.redAdd(this.z).redSqr().redISub(Vs).redISub(zs);var Uo=Vs.redSqr();Uo=Uo.redIAdd(Uo),Uo=Uo.redIAdd(Uo),Uo=Uo.redIAdd(Uo),et=Js.redMul(xo.redISub(q)).redISub(Uo)}return this.curve.jpoint(q,et,xi)},A.prototype._dbl=function(){var q=this.curve.a,et=this.x,xi=this.y,Oi=this.z,Ts=Oi.redSqr().redSqr(),Fs=et.redSqr(),qs=xi.redSqr(),Us=Fs.redAdd(Fs).redIAdd(Fs).redIAdd(q.redMul(Ts)),Ls=et.redAdd(et);Ls=Ls.redIAdd(Ls);var Gs=Ls.redMul(qs),zs=Us.redSqr().redISub(Gs.redAdd(Gs)),Vs=Gs.redISub(zs),Zs=qs.redSqr();Zs=Zs.redIAdd(Zs),Zs=Zs.redIAdd(Zs),Zs=Zs.redIAdd(Zs);var Js=Us.redMul(Vs).redISub(Zs),xo=xi.redAdd(xi).redMul(Oi);return this.curve.jpoint(zs,Js,xo)},A.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var q=this.x.redSqr(),et=this.y.redSqr(),xi=this.z.redSqr(),Oi=et.redSqr(),Ts=q.redAdd(q).redIAdd(q),Fs=Ts.redSqr(),qs=this.x.redAdd(et).redSqr().redISub(q).redISub(Oi);qs=qs.redIAdd(qs),qs=qs.redAdd(qs).redIAdd(qs),qs=qs.redISub(Fs);var Us=qs.redSqr(),Ls=Oi.redIAdd(Oi);Ls=Ls.redIAdd(Ls),Ls=Ls.redIAdd(Ls),Ls=Ls.redIAdd(Ls);var Gs=Ts.redIAdd(qs).redSqr().redISub(Fs).redISub(Us).redISub(Ls),zs=et.redMul(Gs);zs=zs.redIAdd(zs),zs=zs.redIAdd(zs);var Vs=this.x.redMul(Us).redISub(zs);Vs=Vs.redIAdd(Vs),Vs=Vs.redIAdd(Vs);var Zs=this.y.redMul(Gs.redMul(Ls.redISub(Gs)).redISub(qs.redMul(Us)));Zs=Zs.redIAdd(Zs),Zs=Zs.redIAdd(Zs),Zs=Zs.redIAdd(Zs);var Js=this.z.redAdd(qs).redSqr().redISub(xi).redISub(Us);return this.curve.jpoint(Vs,Zs,Js)},A.prototype.mul=function(q,et){return q=new e(q,et),this.curve._wnafMul(this,q)},A.prototype.eq=function(q){if(q.type==="affine")return this.eq(q.toJ());if(this===q)return!0;var et=this.z.redSqr(),xi=q.z.redSqr();if(this.x.redMul(xi).redISub(q.x.redMul(et)).cmpn(0)!==0)return!1;var Oi=et.redMul(this.z),Ts=xi.redMul(q.z);return this.y.redMul(Ts).redISub(q.y.redMul(Oi)).cmpn(0)===0},A.prototype.eqXToP=function(q){var et=this.z.redSqr(),xi=q.toRed(this.curve.red).redMul(et);if(this.x.cmp(xi)===0)return!0;for(var Oi=q.clone(),Ts=this.curve.redN.redMul(et);;){if(Oi.iadd(this.curve.n),Oi.cmp(this.curve.p)>=0)return!1;if(xi.redIAdd(Ts),this.x.cmp(xi)===0)return!0}},A.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},A.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var t=requireBn(),e=requireInherits_browser(),i=requireBase$1(),n=requireUtils$1();function s(l){i.call(this,"mont",l),this.a=new t(l.a,16).toRed(this.red),this.b=new t(l.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(s,i),mont=s,s.prototype.validate=function(A){var T=A.normalize().x,q=T.redSqr(),et=q.redMul(T).redAdd(q.redMul(this.a)).redAdd(T),xi=et.redSqrt();return xi.redSqr().cmp(et)===0};function a(l,A,T){i.BasePoint.call(this,l,"projective"),A===null&&T===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(A,16),this.z=new t(T,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(a,i.BasePoint),s.prototype.decodePoint=function(A,T){return this.point(n.toArray(A,T),1)},s.prototype.point=function(A,T){return new a(this,A,T)},s.prototype.pointFromJSON=function(A){return a.fromJSON(this,A)},a.prototype.precompute=function(){},a.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},a.fromJSON=function(A,T){return new a(A,T[0],T[1]||A.one)},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},a.prototype.dbl=function(){var A=this.x.redAdd(this.z),T=A.redSqr(),q=this.x.redSub(this.z),et=q.redSqr(),xi=T.redSub(et),Oi=T.redMul(et),Ts=xi.redMul(et.redAdd(this.curve.a24.redMul(xi)));return this.curve.point(Oi,Ts)},a.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.diffAdd=function(A,T){var q=this.x.redAdd(this.z),et=this.x.redSub(this.z),xi=A.x.redAdd(A.z),Oi=A.x.redSub(A.z),Ts=Oi.redMul(q),Fs=xi.redMul(et),qs=T.z.redMul(Ts.redAdd(Fs).redSqr()),Us=T.x.redMul(Ts.redISub(Fs).redSqr());return this.curve.point(qs,Us)},a.prototype.mul=function(A){for(var T=A.clone(),q=this,et=this.curve.point(null,null),xi=this,Oi=[];T.cmpn(0)!==0;T.iushrn(1))Oi.push(T.andln(1));for(var Ts=Oi.length-1;Ts>=0;Ts--)Oi[Ts]===0?(q=q.diffAdd(et,xi),et=et.dbl()):(et=q.diffAdd(et,xi),q=q.dbl());return et},a.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.eq=function(A){return this.getX().cmp(A.getX())===0},a.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var t=requireUtils$1(),e=requireBn(),i=requireInherits_browser(),n=requireBase$1(),s=t.assert;function a(A){this.twisted=(A.a|0)!==1,this.mOneA=this.twisted&&(A.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",A),this.a=new e(A.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(A.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(A.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(A.c|0)===1}i(a,n),edwards=a,a.prototype._mulA=function(T){return this.mOneA?T.redNeg():this.a.redMul(T)},a.prototype._mulC=function(T){return this.oneC?T:this.c.redMul(T)},a.prototype.jpoint=function(T,q,et,xi){return this.point(T,q,et,xi)},a.prototype.pointFromX=function(T,q){T=new e(T,16),T.red||(T=T.toRed(this.red));var et=T.redSqr(),xi=this.c2.redSub(this.a.redMul(et)),Oi=this.one.redSub(this.c2.redMul(this.d).redMul(et)),Ts=xi.redMul(Oi.redInvm()),Fs=Ts.redSqrt();if(Fs.redSqr().redSub(Ts).cmp(this.zero)!==0)throw new Error("invalid point");var qs=Fs.fromRed().isOdd();return(q&&!qs||!q&&qs)&&(Fs=Fs.redNeg()),this.point(T,Fs)},a.prototype.pointFromY=function(T,q){T=new e(T,16),T.red||(T=T.toRed(this.red));var et=T.redSqr(),xi=et.redSub(this.c2),Oi=et.redMul(this.d).redMul(this.c2).redSub(this.a),Ts=xi.redMul(Oi.redInvm());if(Ts.cmp(this.zero)===0){if(q)throw new Error("invalid point");return this.point(this.zero,T)}var Fs=Ts.redSqrt();if(Fs.redSqr().redSub(Ts).cmp(this.zero)!==0)throw new Error("invalid point");return Fs.fromRed().isOdd()!==q&&(Fs=Fs.redNeg()),this.point(Fs,T)},a.prototype.validate=function(T){if(T.isInfinity())return!0;T.normalize();var q=T.x.redSqr(),et=T.y.redSqr(),xi=q.redMul(this.a).redAdd(et),Oi=this.c2.redMul(this.one.redAdd(this.d.redMul(q).redMul(et)));return xi.cmp(Oi)===0};function l(A,T,q,et,xi){n.BasePoint.call(this,A,"projective"),T===null&&q===null&&et===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(T,16),this.y=new e(q,16),this.z=et?new e(et,16):this.curve.one,this.t=xi&&new e(xi,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return i(l,n.BasePoint),a.prototype.pointFromJSON=function(T){return l.fromJSON(this,T)},a.prototype.point=function(T,q,et,xi){return new l(this,T,q,et,xi)},l.fromJSON=function(T,q){return new l(T,q[0],q[1],q[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},l.prototype._extDbl=function(){var T=this.x.redSqr(),q=this.y.redSqr(),et=this.z.redSqr();et=et.redIAdd(et);var xi=this.curve._mulA(T),Oi=this.x.redAdd(this.y).redSqr().redISub(T).redISub(q),Ts=xi.redAdd(q),Fs=Ts.redSub(et),qs=xi.redSub(q),Us=Oi.redMul(Fs),Ls=Ts.redMul(qs),Gs=Oi.redMul(qs),zs=Fs.redMul(Ts);return this.curve.point(Us,Ls,zs,Gs)},l.prototype._projDbl=function(){var T=this.x.redAdd(this.y).redSqr(),q=this.x.redSqr(),et=this.y.redSqr(),xi,Oi,Ts,Fs,qs,Us;if(this.curve.twisted){Fs=this.curve._mulA(q);var Ls=Fs.redAdd(et);this.zOne?(xi=T.redSub(q).redSub(et).redMul(Ls.redSub(this.curve.two)),Oi=Ls.redMul(Fs.redSub(et)),Ts=Ls.redSqr().redSub(Ls).redSub(Ls)):(qs=this.z.redSqr(),Us=Ls.redSub(qs).redISub(qs),xi=T.redSub(q).redISub(et).redMul(Us),Oi=Ls.redMul(Fs.redSub(et)),Ts=Ls.redMul(Us))}else Fs=q.redAdd(et),qs=this.curve._mulC(this.z).redSqr(),Us=Fs.redSub(qs).redSub(qs),xi=this.curve._mulC(T.redISub(Fs)).redMul(Us),Oi=this.curve._mulC(Fs).redMul(q.redISub(et)),Ts=Fs.redMul(Us);return this.curve.point(xi,Oi,Ts)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(T){var q=this.y.redSub(this.x).redMul(T.y.redSub(T.x)),et=this.y.redAdd(this.x).redMul(T.y.redAdd(T.x)),xi=this.t.redMul(this.curve.dd).redMul(T.t),Oi=this.z.redMul(T.z.redAdd(T.z)),Ts=et.redSub(q),Fs=Oi.redSub(xi),qs=Oi.redAdd(xi),Us=et.redAdd(q),Ls=Ts.redMul(Fs),Gs=qs.redMul(Us),zs=Ts.redMul(Us),Vs=Fs.redMul(qs);return this.curve.point(Ls,Gs,Vs,zs)},l.prototype._projAdd=function(T){var q=this.z.redMul(T.z),et=q.redSqr(),xi=this.x.redMul(T.x),Oi=this.y.redMul(T.y),Ts=this.curve.d.redMul(xi).redMul(Oi),Fs=et.redSub(Ts),qs=et.redAdd(Ts),Us=this.x.redAdd(this.y).redMul(T.x.redAdd(T.y)).redISub(xi).redISub(Oi),Ls=q.redMul(Fs).redMul(Us),Gs,zs;return this.curve.twisted?(Gs=q.redMul(qs).redMul(Oi.redSub(this.curve._mulA(xi))),zs=Fs.redMul(qs)):(Gs=q.redMul(qs).redMul(Oi.redSub(xi)),zs=this.curve._mulC(Fs).redMul(qs)),this.curve.point(Ls,Gs,zs)},l.prototype.add=function(T){return this.isInfinity()?T:T.isInfinity()?this:this.curve.extended?this._extAdd(T):this._projAdd(T)},l.prototype.mul=function(T){return this._hasDoubles(T)?this.curve._fixedNafMul(this,T):this.curve._wnafMul(this,T)},l.prototype.mulAdd=function(T,q,et){return this.curve._wnafMulAdd(1,[this,q],[T,et],2,!1)},l.prototype.jmulAdd=function(T,q,et){return this.curve._wnafMulAdd(1,[this,q],[T,et],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var T=this.z.redInvm();return this.x=this.x.redMul(T),this.y=this.y.redMul(T),this.t&&(this.t=this.t.redMul(T)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(T){return this===T||this.getX().cmp(T.getX())===0&&this.getY().cmp(T.getY())===0},l.prototype.eqXToP=function(T){var q=T.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(q)===0)return!0;for(var et=T.clone(),xi=this.curve.redN.redMul(this.z);;){if(et.iadd(this.curve.n),et.cmp(this.curve.p)>=0)return!1;if(q.redIAdd(xi),this.x.cmp(q)===0)return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(t){var e=t;e.base=requireBase$1(),e.short=requireShort(),e.mont=requireMont(),e.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var t=requireMinimalisticAssert(),e=requireInherits_browser();utils.inherits=e;function i(Hs,Ws){return(Hs.charCodeAt(Ws)&64512)!==55296||Ws<0||Ws+1>=Hs.length?!1:(Hs.charCodeAt(Ws+1)&64512)===56320}function n(Hs,Ws){if(Array.isArray(Hs))return Hs.slice();if(!Hs)return[];var f=[];if(typeof Hs=="string")if(Ws){if(Ws==="hex")for(Hs=Hs.replace(/[^a-z0-9]+/ig,""),Hs.length%2!==0&&(Hs="0"+Hs),nt=0;nt<Hs.length;nt+=2)f.push(parseInt(Hs[nt]+Hs[nt+1],16))}else for(var Y=0,nt=0;nt<Hs.length;nt++){var vs=Hs.charCodeAt(nt);vs<128?f[Y++]=vs:vs<2048?(f[Y++]=vs>>6|192,f[Y++]=vs&63|128):i(Hs,nt)?(vs=65536+((vs&1023)<<10)+(Hs.charCodeAt(++nt)&1023),f[Y++]=vs>>18|240,f[Y++]=vs>>12&63|128,f[Y++]=vs>>6&63|128,f[Y++]=vs&63|128):(f[Y++]=vs>>12|224,f[Y++]=vs>>6&63|128,f[Y++]=vs&63|128)}else for(nt=0;nt<Hs.length;nt++)f[nt]=Hs[nt]|0;return f}utils.toArray=n;function s(Hs){for(var Ws="",f=0;f<Hs.length;f++)Ws+=A(Hs[f].toString(16));return Ws}utils.toHex=s;function a(Hs){var Ws=Hs>>>24|Hs>>>8&65280|Hs<<8&16711680|(Hs&255)<<24;return Ws>>>0}utils.htonl=a;function l(Hs,Ws){for(var f="",Y=0;Y<Hs.length;Y++){var nt=Hs[Y];Ws==="little"&&(nt=a(nt)),f+=T(nt.toString(16))}return f}utils.toHex32=l;function A(Hs){return Hs.length===1?"0"+Hs:Hs}utils.zero2=A;function T(Hs){return Hs.length===7?"0"+Hs:Hs.length===6?"00"+Hs:Hs.length===5?"000"+Hs:Hs.length===4?"0000"+Hs:Hs.length===3?"00000"+Hs:Hs.length===2?"000000"+Hs:Hs.length===1?"0000000"+Hs:Hs}utils.zero8=T;function q(Hs,Ws,f,Y){var nt=f-Ws;t(nt%4===0);for(var vs=new Array(nt/4),ks=0,Ds=Ws;ks<vs.length;ks++,Ds+=4){var Bs;Y==="big"?Bs=Hs[Ds]<<24|Hs[Ds+1]<<16|Hs[Ds+2]<<8|Hs[Ds+3]:Bs=Hs[Ds+3]<<24|Hs[Ds+2]<<16|Hs[Ds+1]<<8|Hs[Ds],vs[ks]=Bs>>>0}return vs}utils.join32=q;function et(Hs,Ws){for(var f=new Array(Hs.length*4),Y=0,nt=0;Y<Hs.length;Y++,nt+=4){var vs=Hs[Y];Ws==="big"?(f[nt]=vs>>>24,f[nt+1]=vs>>>16&255,f[nt+2]=vs>>>8&255,f[nt+3]=vs&255):(f[nt+3]=vs>>>24,f[nt+2]=vs>>>16&255,f[nt+1]=vs>>>8&255,f[nt]=vs&255)}return f}utils.split32=et;function xi(Hs,Ws){return Hs>>>Ws|Hs<<32-Ws}utils.rotr32=xi;function Oi(Hs,Ws){return Hs<<Ws|Hs>>>32-Ws}utils.rotl32=Oi;function Ts(Hs,Ws){return Hs+Ws>>>0}utils.sum32=Ts;function Fs(Hs,Ws,f){return Hs+Ws+f>>>0}utils.sum32_3=Fs;function qs(Hs,Ws,f,Y){return Hs+Ws+f+Y>>>0}utils.sum32_4=qs;function Us(Hs,Ws,f,Y,nt){return Hs+Ws+f+Y+nt>>>0}utils.sum32_5=Us;function Ls(Hs,Ws,f,Y){var nt=Hs[Ws],vs=Hs[Ws+1],ks=Y+vs>>>0,Ds=(ks<Y?1:0)+f+nt;Hs[Ws]=Ds>>>0,Hs[Ws+1]=ks}utils.sum64=Ls;function Gs(Hs,Ws,f,Y){var nt=Ws+Y>>>0,vs=(nt<Ws?1:0)+Hs+f;return vs>>>0}utils.sum64_hi=Gs;function zs(Hs,Ws,f,Y){var nt=Ws+Y;return nt>>>0}utils.sum64_lo=zs;function Vs(Hs,Ws,f,Y,nt,vs,ks,Ds){var Bs=0,Ms=Ws;Ms=Ms+Y>>>0,Bs+=Ms<Ws?1:0,Ms=Ms+vs>>>0,Bs+=Ms<vs?1:0,Ms=Ms+Ds>>>0,Bs+=Ms<Ds?1:0;var Q=Hs+f+nt+ks+Bs;return Q>>>0}utils.sum64_4_hi=Vs;function Zs(Hs,Ws,f,Y,nt,vs,ks,Ds){var Bs=Ws+Y+vs+Ds;return Bs>>>0}utils.sum64_4_lo=Zs;function Js(Hs,Ws,f,Y,nt,vs,ks,Ds,Bs,Ms){var Q=0,$s=Ws;$s=$s+Y>>>0,Q+=$s<Ws?1:0,$s=$s+vs>>>0,Q+=$s<vs?1:0,$s=$s+Ds>>>0,Q+=$s<Ds?1:0,$s=$s+Ms>>>0,Q+=$s<Ms?1:0;var Ks=Hs+f+nt+ks+Bs+Q;return Ks>>>0}utils.sum64_5_hi=Js;function xo(Hs,Ws,f,Y,nt,vs,ks,Ds,Bs,Ms){var Q=Ws+Y+vs+Ds+Ms;return Q>>>0}utils.sum64_5_lo=xo;function Io(Hs,Ws,f){var Y=Ws<<32-f|Hs>>>f;return Y>>>0}utils.rotr64_hi=Io;function Uo(Hs,Ws,f){var Y=Hs<<32-f|Ws>>>f;return Y>>>0}utils.rotr64_lo=Uo;function Fo(Hs,Ws,f){return Hs>>>f}utils.shr64_hi=Fo;function Ys(Hs,Ws,f){var Y=Hs<<32-f|Ws>>>f;return Y>>>0}return utils.shr64_lo=Ys,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var t=requireUtils(),e=requireMinimalisticAssert();function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=i,i.prototype.update=function(s,a){if(s=t.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var l=s.length%this._delta8;this.pending=s.slice(s.length-l,s.length),this.pending.length===0&&(this.pending=null),s=t.join32(s,0,s.length-l,this.endian);for(var A=0;A<s.length;A+=this._delta32)this._update(s,A,A+this._delta32)}return this},i.prototype.digest=function(s){return this.update(this._pad()),e(this.pending===null),this._digest(s)},i.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,l=a-(s+this.padLength)%a,A=new Array(l+this.padLength);A[0]=128;for(var T=1;T<l;T++)A[T]=0;if(s<<=3,this.endian==="big"){for(var q=8;q<this.padLength;q++)A[T++]=0;A[T++]=0,A[T++]=0,A[T++]=0,A[T++]=0,A[T++]=s>>>24&255,A[T++]=s>>>16&255,A[T++]=s>>>8&255,A[T++]=s&255}else for(A[T++]=s&255,A[T++]=s>>>8&255,A[T++]=s>>>16&255,A[T++]=s>>>24&255,A[T++]=0,A[T++]=0,A[T++]=0,A[T++]=0,q=8;q<this.padLength;q++)A[T++]=0;return A},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var t=requireUtils(),e=t.rotr32;function i(et,xi,Oi,Ts){if(et===0)return n(xi,Oi,Ts);if(et===1||et===3)return a(xi,Oi,Ts);if(et===2)return s(xi,Oi,Ts)}common.ft_1=i;function n(et,xi,Oi){return et&xi^~et&Oi}common.ch32=n;function s(et,xi,Oi){return et&xi^et&Oi^xi&Oi}common.maj32=s;function a(et,xi,Oi){return et^xi^Oi}common.p32=a;function l(et){return e(et,2)^e(et,13)^e(et,22)}common.s0_256=l;function A(et){return e(et,6)^e(et,11)^e(et,25)}common.s1_256=A;function T(et){return e(et,7)^e(et,18)^et>>>3}common.g0_256=T;function q(et){return e(et,17)^e(et,19)^et>>>10}return common.g1_256=q,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var t=requireUtils(),e=requireCommon$1(),i=requireCommon(),n=t.rotl32,s=t.sum32,a=t.sum32_5,l=i.ft_1,A=e.BlockHash,T=[1518500249,1859775393,2400959708,3395469782];function q(){if(!(this instanceof q))return new q;A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(q,A),_1=q,q.blockSize=512,q.outSize=160,q.hmacStrength=80,q.padLength=64,q.prototype._update=function(xi,Oi){for(var Ts=this.W,Fs=0;Fs<16;Fs++)Ts[Fs]=xi[Oi+Fs];for(;Fs<Ts.length;Fs++)Ts[Fs]=n(Ts[Fs-3]^Ts[Fs-8]^Ts[Fs-14]^Ts[Fs-16],1);var qs=this.h[0],Us=this.h[1],Ls=this.h[2],Gs=this.h[3],zs=this.h[4];for(Fs=0;Fs<Ts.length;Fs++){var Vs=~~(Fs/20),Zs=a(n(qs,5),l(Vs,Us,Ls,Gs),zs,Ts[Fs],T[Vs]);zs=Gs,Gs=Ls,Ls=n(Us,30),Us=qs,qs=Zs}this.h[0]=s(this.h[0],qs),this.h[1]=s(this.h[1],Us),this.h[2]=s(this.h[2],Ls),this.h[3]=s(this.h[3],Gs),this.h[4]=s(this.h[4],zs)},q.prototype._digest=function(xi){return xi==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var t=requireUtils(),e=requireCommon$1(),i=requireCommon(),n=requireMinimalisticAssert(),s=t.sum32,a=t.sum32_4,l=t.sum32_5,A=i.ch32,T=i.maj32,q=i.s0_256,et=i.s1_256,xi=i.g0_256,Oi=i.g1_256,Ts=e.BlockHash,Fs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function qs(){if(!(this instanceof qs))return new qs;Ts.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Fs,this.W=new Array(64)}return t.inherits(qs,Ts),_256=qs,qs.blockSize=512,qs.outSize=256,qs.hmacStrength=192,qs.padLength=64,qs.prototype._update=function(Ls,Gs){for(var zs=this.W,Vs=0;Vs<16;Vs++)zs[Vs]=Ls[Gs+Vs];for(;Vs<zs.length;Vs++)zs[Vs]=a(Oi(zs[Vs-2]),zs[Vs-7],xi(zs[Vs-15]),zs[Vs-16]);var Zs=this.h[0],Js=this.h[1],xo=this.h[2],Io=this.h[3],Uo=this.h[4],Fo=this.h[5],Ys=this.h[6],Hs=this.h[7];for(n(this.k.length===zs.length),Vs=0;Vs<zs.length;Vs++){var Ws=l(Hs,et(Uo),A(Uo,Fo,Ys),this.k[Vs],zs[Vs]),f=s(q(Zs),T(Zs,Js,xo));Hs=Ys,Ys=Fo,Fo=Uo,Uo=s(Io,Ws),Io=xo,xo=Js,Js=Zs,Zs=s(Ws,f)}this.h[0]=s(this.h[0],Zs),this.h[1]=s(this.h[1],Js),this.h[2]=s(this.h[2],xo),this.h[3]=s(this.h[3],Io),this.h[4]=s(this.h[4],Uo),this.h[5]=s(this.h[5],Fo),this.h[6]=s(this.h[6],Ys),this.h[7]=s(this.h[7],Hs)},qs.prototype._digest=function(Ls){return Ls==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var t=requireUtils(),e=require_256();function i(){if(!(this instanceof i))return new i;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(i,e),_224=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var t=requireUtils(),e=requireCommon$1(),i=requireMinimalisticAssert(),n=t.rotr64_hi,s=t.rotr64_lo,a=t.shr64_hi,l=t.shr64_lo,A=t.sum64,T=t.sum64_hi,q=t.sum64_lo,et=t.sum64_4_hi,xi=t.sum64_4_lo,Oi=t.sum64_5_hi,Ts=t.sum64_5_lo,Fs=e.BlockHash,qs=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Us(){if(!(this instanceof Us))return new Us;Fs.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=qs,this.W=new Array(160)}t.inherits(Us,Fs),_512=Us,Us.blockSize=1024,Us.outSize=512,Us.hmacStrength=192,Us.padLength=128,Us.prototype._prepareBlock=function(f,Y){for(var nt=this.W,vs=0;vs<32;vs++)nt[vs]=f[Y+vs];for(;vs<nt.length;vs+=2){var ks=Ys(nt[vs-4],nt[vs-3]),Ds=Hs(nt[vs-4],nt[vs-3]),Bs=nt[vs-14],Ms=nt[vs-13],Q=Uo(nt[vs-30],nt[vs-29]),$s=Fo(nt[vs-30],nt[vs-29]),Ks=nt[vs-32],jo=nt[vs-31];nt[vs]=et(ks,Ds,Bs,Ms,Q,$s,Ks,jo),nt[vs+1]=xi(ks,Ds,Bs,Ms,Q,$s,Ks,jo)}},Us.prototype._update=function(f,Y){this._prepareBlock(f,Y);var nt=this.W,vs=this.h[0],ks=this.h[1],Ds=this.h[2],Bs=this.h[3],Ms=this.h[4],Q=this.h[5],$s=this.h[6],Ks=this.h[7],jo=this.h[8],Bo=this.h[9],To=this.h[10],Oo=this.h[11],Vo=this.h[12],zo=this.h[13],so=this.h[14],Qs=this.h[15];i(this.k.length===nt.length);for(var sa=0;sa<nt.length;sa+=2){var Zo=so,Qo=Qs,la=xo(jo,Bo),Ko=Io(jo,Bo),Jo=Ls(jo,Bo,To,Oo,Vo),aa=Gs(jo,Bo,To,Oo,Vo,zo),oa=this.k[sa],ua=this.k[sa+1],Ma=nt[sa],da=nt[sa+1],fa=Oi(Zo,Qo,la,Ko,Jo,aa,oa,ua,Ma,da),La=Ts(Zo,Qo,la,Ko,Jo,aa,oa,ua,Ma,da);Zo=Zs(vs,ks),Qo=Js(vs,ks),la=zs(vs,ks,Ds,Bs,Ms),Ko=Vs(vs,ks,Ds,Bs,Ms,Q);var ga=T(Zo,Qo,la,Ko),ha=q(Zo,Qo,la,Ko);so=Vo,Qs=zo,Vo=To,zo=Oo,To=jo,Oo=Bo,jo=T($s,Ks,fa,La),Bo=q(Ks,Ks,fa,La),$s=Ms,Ks=Q,Ms=Ds,Q=Bs,Ds=vs,Bs=ks,vs=T(fa,La,ga,ha),ks=q(fa,La,ga,ha)}A(this.h,0,vs,ks),A(this.h,2,Ds,Bs),A(this.h,4,Ms,Q),A(this.h,6,$s,Ks),A(this.h,8,jo,Bo),A(this.h,10,To,Oo),A(this.h,12,Vo,zo),A(this.h,14,so,Qs)},Us.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function Ls(Ws,f,Y,nt,vs){var ks=Ws&Y^~Ws&vs;return ks<0&&(ks+=4294967296),ks}function Gs(Ws,f,Y,nt,vs,ks){var Ds=f&nt^~f&ks;return Ds<0&&(Ds+=4294967296),Ds}function zs(Ws,f,Y,nt,vs){var ks=Ws&Y^Ws&vs^Y&vs;return ks<0&&(ks+=4294967296),ks}function Vs(Ws,f,Y,nt,vs,ks){var Ds=f&nt^f&ks^nt&ks;return Ds<0&&(Ds+=4294967296),Ds}function Zs(Ws,f){var Y=n(Ws,f,28),nt=n(f,Ws,2),vs=n(f,Ws,7),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}function Js(Ws,f){var Y=s(Ws,f,28),nt=s(f,Ws,2),vs=s(f,Ws,7),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}function xo(Ws,f){var Y=n(Ws,f,14),nt=n(Ws,f,18),vs=n(f,Ws,9),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}function Io(Ws,f){var Y=s(Ws,f,14),nt=s(Ws,f,18),vs=s(f,Ws,9),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}function Uo(Ws,f){var Y=n(Ws,f,1),nt=n(Ws,f,8),vs=a(Ws,f,7),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}function Fo(Ws,f){var Y=s(Ws,f,1),nt=s(Ws,f,8),vs=l(Ws,f,7),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}function Ys(Ws,f){var Y=n(Ws,f,19),nt=n(f,Ws,29),vs=a(Ws,f,6),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}function Hs(Ws,f){var Y=s(Ws,f,19),nt=s(f,Ws,29),vs=l(Ws,f,6),ks=Y^nt^vs;return ks<0&&(ks+=4294967296),ks}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var t=requireUtils(),e=require_512();function i(){if(!(this instanceof i))return new i;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(i,e),_384=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var t=requireUtils(),e=requireCommon$1(),i=t.rotl32,n=t.sum32,s=t.sum32_3,a=t.sum32_4,l=e.BlockHash;function A(){if(!(this instanceof A))return new A;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(A,l),ripemd.ripemd160=A,A.blockSize=512,A.outSize=160,A.hmacStrength=192,A.padLength=64,A.prototype._update=function(Us,Ls){for(var Gs=this.h[0],zs=this.h[1],Vs=this.h[2],Zs=this.h[3],Js=this.h[4],xo=Gs,Io=zs,Uo=Vs,Fo=Zs,Ys=Js,Hs=0;Hs<80;Hs++){var Ws=n(i(a(Gs,T(Hs,zs,Vs,Zs),Us[xi[Hs]+Ls],q(Hs)),Ts[Hs]),Js);Gs=Js,Js=Zs,Zs=i(Vs,10),Vs=zs,zs=Ws,Ws=n(i(a(xo,T(79-Hs,Io,Uo,Fo),Us[Oi[Hs]+Ls],et(Hs)),Fs[Hs]),Ys),xo=Ys,Ys=Fo,Fo=i(Uo,10),Uo=Io,Io=Ws}Ws=s(this.h[1],Vs,Fo),this.h[1]=s(this.h[2],Zs,Ys),this.h[2]=s(this.h[3],Js,xo),this.h[3]=s(this.h[4],Gs,Io),this.h[4]=s(this.h[0],zs,Uo),this.h[0]=Ws},A.prototype._digest=function(Us){return Us==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function T(qs,Us,Ls,Gs){return qs<=15?Us^Ls^Gs:qs<=31?Us&Ls|~Us&Gs:qs<=47?(Us|~Ls)^Gs:qs<=63?Us&Gs|Ls&~Gs:Us^(Ls|~Gs)}function q(qs){return qs<=15?0:qs<=31?1518500249:qs<=47?1859775393:qs<=63?2400959708:2840853838}function et(qs){return qs<=15?1352829926:qs<=31?1548603684:qs<=47?1836072691:qs<=63?2053994217:0}var xi=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Oi=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ts=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Fs=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var t=requireUtils(),e=requireMinimalisticAssert();function i(n,s,a){if(!(this instanceof i))return new i(n,s,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,a))}return hmac$1=i,i.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),e(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},i.prototype.update=function(s,a){return this.inner.update(s,a),this},i.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(t){var e=t;e.utils=requireUtils(),e.common=requireCommon$1(),e.sha=requireSha(),e.ripemd=requireRipemd(),e.hmac=requireHmac$1(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(t){var e=t,i=requireHash(),n=requireCurve(),s=requireUtils$1(),a=s.assert;function l(q){q.type==="short"?this.curve=new n.short(q):q.type==="edwards"?this.curve=new n.edwards(q):this.curve=new n.mont(q),this.g=this.curve.g,this.n=this.curve.n,this.hash=q.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=l;function A(q,et){Object.defineProperty(e,q,{configurable:!0,enumerable:!0,get:function(){var xi=new l(et);return Object.defineProperty(e,q,{configurable:!0,enumerable:!0,value:xi}),xi}})}A("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),A("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),A("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),A("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),A("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),A("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),A("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var T;try{T=requireSecp256k1()}catch{T=void 0}A("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",T]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var t=requireHash(),e=requireUtils$2(),i=requireMinimalisticAssert();function n(s){if(!(this instanceof n))return new n(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=e.toArray(s.entropy,s.entropyEnc||"hex"),l=e.toArray(s.nonce,s.nonceEnc||"hex"),A=e.toArray(s.pers,s.persEnc||"hex");i(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,l,A)}return hmacDrbg=n,n.prototype._init=function(a,l,A){var T=a.concat(l).concat(A);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var q=0;q<this.V.length;q++)this.K[q]=0,this.V[q]=1;this._update(T),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},n.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(a,l,A,T){typeof l!="string"&&(T=A,A=l,l=null),a=e.toArray(a,l),A=e.toArray(A,T),i(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(A||[])),this._reseed=1},n.prototype.generate=function(a,l,A,T){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(T=A,A=l,l=null),A&&(A=e.toArray(A,T||"hex"),this._update(A));for(var q=[];q.length<a;)this.V=this._hmac().update(this.V).digest(),q=q.concat(this.V);var et=q.slice(0,a);return this._update(A),this._reseed++,e.encode(et,l)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var t=requireBn(),e=requireUtils$1(),i=e.assert;function n(s,a){this.ec=s,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}return key$1=n,n.fromPublic=function(a,l,A){return l instanceof n?l:new n(a,{pub:l,pubEnc:A})},n.fromPrivate=function(a,l,A){return l instanceof n?l:new n(a,{priv:l,privEnc:A})},n.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(a,l){return typeof a=="string"&&(l=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,a):this.pub},n.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(a,l){this.priv=new t(a,l||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(a,l){if(a.x||a.y){this.ec.curve.type==="mont"?i(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&i(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,l)},n.prototype.derive=function(a){return a.validate()||i(a.validate(),"public point not validated"),a.mul(this.priv).getX()},n.prototype.sign=function(a,l,A){return this.ec.sign(a,this,l,A)},n.prototype.verify=function(a,l,A){return this.ec.verify(a,l,this,void 0,A)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var t=requireBn(),e=requireUtils$1(),i=e.assert;function n(T,q){if(T instanceof n)return T;this._importDER(T,q)||(i(T.r&&T.s,"Signature without r or s"),this.r=new t(T.r,16),this.s=new t(T.s,16),T.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=T.recoveryParam)}signature$1=n;function s(){this.place=0}function a(T,q){var et=T[q.place++];if(!(et&128))return et;var xi=et&15;if(xi===0||xi>4||T[q.place]===0)return!1;for(var Oi=0,Ts=0,Fs=q.place;Ts<xi;Ts++,Fs++)Oi<<=8,Oi|=T[Fs],Oi>>>=0;return Oi<=127?!1:(q.place=Fs,Oi)}function l(T){for(var q=0,et=T.length-1;!T[q]&&!(T[q+1]&128)&&q<et;)q++;return q===0?T:T.slice(q)}n.prototype._importDER=function(q,et){q=e.toArray(q,et);var xi=new s;if(q[xi.place++]!==48)return!1;var Oi=a(q,xi);if(Oi===!1||Oi+xi.place!==q.length||q[xi.place++]!==2)return!1;var Ts=a(q,xi);if(Ts===!1||q[xi.place]&128)return!1;var Fs=q.slice(xi.place,Ts+xi.place);if(xi.place+=Ts,q[xi.place++]!==2)return!1;var qs=a(q,xi);if(qs===!1||q.length!==qs+xi.place||q[xi.place]&128)return!1;var Us=q.slice(xi.place,qs+xi.place);if(Fs[0]===0)if(Fs[1]&128)Fs=Fs.slice(1);else return!1;if(Us[0]===0)if(Us[1]&128)Us=Us.slice(1);else return!1;return this.r=new t(Fs),this.s=new t(Us),this.recoveryParam=null,!0};function A(T,q){if(q<128){T.push(q);return}var et=1+(Math.log(q)/Math.LN2>>>3);for(T.push(et|128);--et;)T.push(q>>>(et<<3)&255);T.push(q)}return n.prototype.toDER=function(q){var et=this.r.toArray(),xi=this.s.toArray();for(et[0]&128&&(et=[0].concat(et)),xi[0]&128&&(xi=[0].concat(xi)),et=l(et),xi=l(xi);!xi[0]&&!(xi[1]&128);)xi=xi.slice(1);var Oi=[2];A(Oi,et.length),Oi=Oi.concat(et),Oi.push(2),A(Oi,xi.length);var Ts=Oi.concat(xi),Fs=[48];return A(Fs,Ts.length),Fs=Fs.concat(Ts),e.encode(Fs,q)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var t=requireBn(),e=requireHmacDrbg(),i=requireUtils$1(),n=requireCurves(),s=requireBrorand(),a=i.assert,l=requireKey$1(),A=requireSignature$1();function T(q){if(!(this instanceof T))return new T(q);typeof q=="string"&&(a(Object.prototype.hasOwnProperty.call(n,q),"Unknown curve "+q),q=n[q]),q instanceof n.PresetCurve&&(q={curve:q}),this.curve=q.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=q.curve.g,this.g.precompute(q.curve.n.bitLength()+1),this.hash=q.hash||q.curve.hash}return ec=T,T.prototype.keyPair=function(et){return new l(this,et)},T.prototype.keyFromPrivate=function(et,xi){return l.fromPrivate(this,et,xi)},T.prototype.keyFromPublic=function(et,xi){return l.fromPublic(this,et,xi)},T.prototype.genKeyPair=function(et){et||(et={});for(var xi=new e({hash:this.hash,pers:et.pers,persEnc:et.persEnc||"utf8",entropy:et.entropy||s(this.hash.hmacStrength),entropyEnc:et.entropy&&et.entropyEnc||"utf8",nonce:this.n.toArray()}),Oi=this.n.byteLength(),Ts=this.n.sub(new t(2));;){var Fs=new t(xi.generate(Oi));if(!(Fs.cmp(Ts)>0))return Fs.iaddn(1),this.keyFromPrivate(Fs)}},T.prototype._truncateToN=function(et,xi,Oi){var Ts;if(t.isBN(et)||typeof et=="number")et=new t(et,16),Ts=et.byteLength();else if(typeof et=="object")Ts=et.length,et=new t(et,16);else{var Fs=et.toString();Ts=Fs.length+1>>>1,et=new t(Fs,16)}typeof Oi!="number"&&(Oi=Ts*8);var qs=Oi-this.n.bitLength();return qs>0&&(et=et.ushrn(qs)),!xi&&et.cmp(this.n)>=0?et.sub(this.n):et},T.prototype.sign=function(et,xi,Oi,Ts){if(typeof Oi=="object"&&(Ts=Oi,Oi=null),Ts||(Ts={}),typeof et!="string"&&typeof et!="number"&&!t.isBN(et)){a(typeof et=="object"&&et&&typeof et.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),a(et.length>>>0===et.length);for(var Fs=0;Fs<et.length;Fs++)a((et[Fs]&255)===et[Fs])}xi=this.keyFromPrivate(xi,Oi),et=this._truncateToN(et,!1,Ts.msgBitLength),a(!et.isNeg(),"Can not sign a negative message");var qs=this.n.byteLength(),Us=xi.getPrivate().toArray("be",qs),Ls=et.toArray("be",qs);a(new t(Ls).eq(et),"Can not sign message");for(var Gs=new e({hash:this.hash,entropy:Us,nonce:Ls,pers:Ts.pers,persEnc:Ts.persEnc||"utf8"}),zs=this.n.sub(new t(1)),Vs=0;;Vs++){var Zs=Ts.k?Ts.k(Vs):new t(Gs.generate(this.n.byteLength()));if(Zs=this._truncateToN(Zs,!0),!(Zs.cmpn(1)<=0||Zs.cmp(zs)>=0)){var Js=this.g.mul(Zs);if(!Js.isInfinity()){var xo=Js.getX(),Io=xo.umod(this.n);if(Io.cmpn(0)!==0){var Uo=Zs.invm(this.n).mul(Io.mul(xi.getPrivate()).iadd(et));if(Uo=Uo.umod(this.n),Uo.cmpn(0)!==0){var Fo=(Js.getY().isOdd()?1:0)|(xo.cmp(Io)!==0?2:0);return Ts.canonical&&Uo.cmp(this.nh)>0&&(Uo=this.n.sub(Uo),Fo^=1),new A({r:Io,s:Uo,recoveryParam:Fo})}}}}}},T.prototype.verify=function(et,xi,Oi,Ts,Fs){Fs||(Fs={}),et=this._truncateToN(et,!1,Fs.msgBitLength),Oi=this.keyFromPublic(Oi,Ts),xi=new A(xi,"hex");var qs=xi.r,Us=xi.s;if(qs.cmpn(1)<0||qs.cmp(this.n)>=0||Us.cmpn(1)<0||Us.cmp(this.n)>=0)return!1;var Ls=Us.invm(this.n),Gs=Ls.mul(et).umod(this.n),zs=Ls.mul(qs).umod(this.n),Vs;return this.curve._maxwellTrick?(Vs=this.g.jmulAdd(Gs,Oi.getPublic(),zs),Vs.isInfinity()?!1:Vs.eqXToP(qs)):(Vs=this.g.mulAdd(Gs,Oi.getPublic(),zs),Vs.isInfinity()?!1:Vs.getX().umod(this.n).cmp(qs)===0)},T.prototype.recoverPubKey=function(q,et,xi,Oi){a((3&xi)===xi,"The recovery param is more than two bits"),et=new A(et,Oi);var Ts=this.n,Fs=new t(q),qs=et.r,Us=et.s,Ls=xi&1,Gs=xi>>1;if(qs.cmp(this.curve.p.umod(this.curve.n))>=0&&Gs)throw new Error("Unable to find sencond key candinate");Gs?qs=this.curve.pointFromX(qs.add(this.curve.n),Ls):qs=this.curve.pointFromX(qs,Ls);var zs=et.r.invm(Ts),Vs=Ts.sub(Fs).mul(zs).umod(Ts),Zs=Us.mul(zs).umod(Ts);return this.g.mulAdd(Vs,qs,Zs)},T.prototype.getKeyRecoveryParam=function(q,et,xi,Oi){if(et=new A(et,Oi),et.recoveryParam!==null)return et.recoveryParam;for(var Ts=0;Ts<4;Ts++){var Fs;try{Fs=this.recoverPubKey(q,et,Ts)}catch{continue}if(Fs.eq(xi))return Ts}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var t=requireUtils$1(),e=t.assert,i=t.parseBytes,n=t.cachedProperty;function s(a,l){this.eddsa=a,this._secret=i(l.secret),a.isPoint(l.pub)?this._pub=l.pub:this._pubBytes=i(l.pub)}return s.fromPublic=function(l,A){return A instanceof s?A:new s(l,{pub:A})},s.fromSecret=function(l,A){return A instanceof s?A:new s(l,{secret:A})},s.prototype.secret=function(){return this._secret},n(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(s,"privBytes",function(){var l=this.eddsa,A=this.hash(),T=l.encodingLength-1,q=A.slice(0,l.encodingLength);return q[0]&=248,q[T]&=127,q[T]|=64,q}),n(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(l){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},s.prototype.verify=function(l,A){return this.eddsa.verify(l,A,this)},s.prototype.getSecret=function(l){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),l)},s.prototype.getPublic=function(l){return t.encode(this.pubBytes(),l)},key=s,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var t=requireBn(),e=requireUtils$1(),i=e.assert,n=e.cachedProperty,s=e.parseBytes;function a(l,A){this.eddsa=l,typeof A!="object"&&(A=s(A)),Array.isArray(A)&&(i(A.length===l.encodingLength*2,"Signature has invalid size"),A={R:A.slice(0,l.encodingLength),S:A.slice(l.encodingLength)}),i(A.R&&A.S,"Signature without R or S"),l.isPoint(A.R)&&(this._R=A.R),A.S instanceof t&&(this._S=A.S),this._Rencoded=Array.isArray(A.R)?A.R:A.Rencoded,this._Sencoded=Array.isArray(A.S)?A.S:A.Sencoded}return n(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},signature=a,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var t=requireHash(),e=requireCurves(),i=requireUtils$1(),n=i.assert,s=i.parseBytes,a=requireKey(),l=requireSignature();function A(T){if(n(T==="ed25519","only tested with ed25519 so far"),!(this instanceof A))return new A(T);T=e[T].curve,this.curve=T,this.g=T.g,this.g.precompute(T.n.bitLength()+1),this.pointClass=T.point().constructor,this.encodingLength=Math.ceil(T.n.bitLength()/8),this.hash=t.sha512}return eddsa=A,A.prototype.sign=function(q,et){q=s(q);var xi=this.keyFromSecret(et),Oi=this.hashInt(xi.messagePrefix(),q),Ts=this.g.mul(Oi),Fs=this.encodePoint(Ts),qs=this.hashInt(Fs,xi.pubBytes(),q).mul(xi.priv()),Us=Oi.add(qs).umod(this.curve.n);return this.makeSignature({R:Ts,S:Us,Rencoded:Fs})},A.prototype.verify=function(q,et,xi){if(q=s(q),et=this.makeSignature(et),et.S().gte(et.eddsa.curve.n)||et.S().isNeg())return!1;var Oi=this.keyFromPublic(xi),Ts=this.hashInt(et.Rencoded(),Oi.pubBytes(),q),Fs=this.g.mul(et.S()),qs=et.R().add(Oi.pub().mul(Ts));return qs.eq(Fs)},A.prototype.hashInt=function(){for(var q=this.hash(),et=0;et<arguments.length;et++)q.update(arguments[et]);return i.intFromLE(q.digest()).umod(this.curve.n)},A.prototype.keyFromPublic=function(q){return a.fromPublic(this,q)},A.prototype.keyFromSecret=function(q){return a.fromSecret(this,q)},A.prototype.makeSignature=function(q){return q instanceof l?q:new l(this,q)},A.prototype.encodePoint=function(q){var et=q.getY().toArray("le",this.encodingLength);return et[this.encodingLength-1]|=q.getX().isOdd()?128:0,et},A.prototype.decodePoint=function(q){q=i.parseBytes(q);var et=q.length-1,xi=q.slice(0,et).concat(q[et]&-129),Oi=(q[et]&128)!==0,Ts=i.intFromLE(xi);return this.curve.pointFromY(Ts,Oi)},A.prototype.encodeInt=function(q){return q.toArray("le",this.encodingLength)},A.prototype.decodeInt=function(q){return i.intFromLE(q)},A.prototype.isPoint=function(q){return q instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(t){var e=t;e.version=require$$0.version,e.utils=requireUtils$1(),e.rand=requireBrorand(),e.curve=requireCurve(),e.curves=requireCurves(),e.ec=requireEc(),e.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var i=0;i<t.length;i++)e(t[i],i,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,i){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch{return function(e,i,n){e[i]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var i=e.contentWindow,n=i.eval,s=i.execScript;!n&&s&&(s.call(i,"null"),n=i.eval),forEach(Object_keys(t),function(A){i[A]=t[A]}),forEach(globals,function(A){t[A]&&(i[A]=t[A])});var a=Object_keys(i),l=n.call(i,this.code);return forEach(Object_keys(i),function(A){(A in t||indexOf(a,A)===-1)&&(t[A]=i[A])}),forEach(globals,function(A){A in t||defineProp(t,A,i[A])}),document.body.removeChild(e),l},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),i=this.runInContext(e);return t&&forEach(Object_keys(e),function(n){t[n]=e[n]}),i},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var i=Script(e);return i[t].apply(i,[].slice.call(arguments,1))}}),exports.isContext=function(t){return t instanceof Context},exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return typeof t=="object"&&forEach(Object_keys(t),function(i){e[i]=t[i]}),e}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(t){var e=requireAsn1$1(),i=requireInherits_browser(),n=t;n.define=function(l,A){return new s(l,A)};function s(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}s.prototype._createNamed=function(l){var A;try{A=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{A=function(q){this._initNamed(q)}}return i(A,l),A.prototype._initNamed=function(q){l.call(this,q)},new A(this)},s.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(e.decoders[l])),this.decoders[l]},s.prototype.decode=function(l,A,T){return this._getDecoder(A).decode(l,T)},s.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(e.encoders[l])),this.encoders[l]},s.prototype.encode=function(l,A,T){return this._getEncoder(A).encode(l,T)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var t=requireInherits_browser();function e(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(s){return s instanceof i},e.prototype.save=function(){var s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},e.prototype.restore=function(s){var a=this._reporterState;a.obj=s.obj,a.path=a.path.slice(0,s.pathLen)},e.prototype.enterKey=function(s){return this._reporterState.path.push(s)},e.prototype.exitKey=function(s){var a=this._reporterState;a.path=a.path.slice(0,s-1)},e.prototype.leaveKey=function(s,a,l){var A=this._reporterState;this.exitKey(s),A.obj!==null&&(A.obj[a]=l)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var s=this._reporterState,a=s.obj;return s.obj={},a},e.prototype.leaveObject=function(s){var a=this._reporterState,l=a.obj;return a.obj=s,l},e.prototype.error=function(s){var a,l=this._reporterState,A=s instanceof i;if(A?a=s:a=new i(l.path.map(function(T){return"["+JSON.stringify(T)+"]"}).join(""),s.message||s,s.stack),!l.options.partial)throw a;return A||l.errors.push(a),a},e.prototype.wrapResult=function(s){var a=this._reporterState;return a.options.partial?{result:this.isError(s)?null:s,errors:a.errors}:s};function i(n,s){this.path=n,this.rethrow(s)}return t(i,Error),i.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var t=requireInherits_browser(),e=requireBase().Reporter,i=require$$1$3.Buffer;function n(a,l){if(e.call(this,l),!i.isBuffer(a)){this.error("Input not Buffer");return}this.base=a,this.offset=0,this.length=a.length}t(n,e),buffer.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},n.prototype.restore=function(l){var A=new n(this.base);return A.offset=l.offset,A.length=this.offset,this.offset=l.offset,e.prototype.restore.call(this,l.reporter),A},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},n.prototype.skip=function(l,A){if(!(this.offset+l<=this.length))return this.error(A||"DecoderBuffer overrun");var T=new n(this.base);return T._reporterState=this._reporterState,T.offset=this.offset,T.length=this.offset+l,this.offset+=l,T},n.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)};function s(a,l){if(Array.isArray(a))this.length=0,this.value=a.map(function(A){return A instanceof s||(A=new s(A,l)),this.length+=A.length,A},this);else if(typeof a=="number"){if(!(0<=a&&a<=255))return l.error("non-byte EncoderBuffer value");this.value=a,this.length=1}else if(typeof a=="string")this.value=a,this.length=i.byteLength(a);else if(i.isBuffer(a))this.value=a,this.length=a.length;else return l.error("Unsupported type: "+typeof a)}return buffer.EncoderBuffer=s,s.prototype.join=function(l,A){return l||(l=new i(this.length)),A||(A=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(T){T.join(l,A),A+=T.length}):(typeof this.value=="number"?l[A]=this.value:typeof this.value=="string"?l.write(this.value,A):i.isBuffer(this.value)&&this.value.copy(l,A),A+=this.length)),l},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var t=requireBase().Reporter,e=requireBase().EncoderBuffer,i=requireBase().DecoderBuffer,n=requireMinimalisticAssert(),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],a=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),l=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function A(q,et){var xi={};this._baseState=xi,xi.enc=q,xi.parent=et||null,xi.children=null,xi.tag=null,xi.args=null,xi.reverseArgs=null,xi.choice=null,xi.optional=!1,xi.any=!1,xi.obj=!1,xi.use=null,xi.useDecoder=null,xi.key=null,xi.default=null,xi.explicit=null,xi.implicit=null,xi.contains=null,xi.parent||(xi.children=[],this._wrap())}node=A;var T=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return A.prototype.clone=function(){var et=this._baseState,xi={};T.forEach(function(Ts){xi[Ts]=et[Ts]});var Oi=new this.constructor(xi.parent);return Oi._baseState=xi,Oi},A.prototype._wrap=function(){var et=this._baseState;a.forEach(function(xi){this[xi]=function(){var Ts=new this.constructor(this);return et.children.push(Ts),Ts[xi].apply(Ts,arguments)}},this)},A.prototype._init=function(et){var xi=this._baseState;n(xi.parent===null),et.call(this),xi.children=xi.children.filter(function(Oi){return Oi._baseState.parent===this},this),n.equal(xi.children.length,1,"Root node can have only one child")},A.prototype._useArgs=function(et){var xi=this._baseState,Oi=et.filter(function(Ts){return Ts instanceof this.constructor},this);et=et.filter(function(Ts){return!(Ts instanceof this.constructor)},this),Oi.length!==0&&(n(xi.children===null),xi.children=Oi,Oi.forEach(function(Ts){Ts._baseState.parent=this},this)),et.length!==0&&(n(xi.args===null),xi.args=et,xi.reverseArgs=et.map(function(Ts){if(typeof Ts!="object"||Ts.constructor!==Object)return Ts;var Fs={};return Object.keys(Ts).forEach(function(qs){qs==(qs|0)&&(qs|=0);var Us=Ts[qs];Fs[Us]=qs}),Fs}))},l.forEach(function(q){A.prototype[q]=function(){var xi=this._baseState;throw new Error(q+" not implemented for encoding: "+xi.enc)}}),s.forEach(function(q){A.prototype[q]=function(){var xi=this._baseState,Oi=Array.prototype.slice.call(arguments);return n(xi.tag===null),xi.tag=q,this._useArgs(Oi),this}}),A.prototype.use=function(et){n(et);var xi=this._baseState;return n(xi.use===null),xi.use=et,this},A.prototype.optional=function(){var et=this._baseState;return et.optional=!0,this},A.prototype.def=function(et){var xi=this._baseState;return n(xi.default===null),xi.default=et,xi.optional=!0,this},A.prototype.explicit=function(et){var xi=this._baseState;return n(xi.explicit===null&&xi.implicit===null),xi.explicit=et,this},A.prototype.implicit=function(et){var xi=this._baseState;return n(xi.explicit===null&&xi.implicit===null),xi.implicit=et,this},A.prototype.obj=function(){var et=this._baseState,xi=Array.prototype.slice.call(arguments);return et.obj=!0,xi.length!==0&&this._useArgs(xi),this},A.prototype.key=function(et){var xi=this._baseState;return n(xi.key===null),xi.key=et,this},A.prototype.any=function(){var et=this._baseState;return et.any=!0,this},A.prototype.choice=function(et){var xi=this._baseState;return n(xi.choice===null),xi.choice=et,this._useArgs(Object.keys(et).map(function(Oi){return et[Oi]})),this},A.prototype.contains=function(et){var xi=this._baseState;return n(xi.use===null),xi.contains=et,this},A.prototype._decode=function(et,xi){var Oi=this._baseState;if(Oi.parent===null)return et.wrapResult(Oi.children[0]._decode(et,xi));var Ts=Oi.default,Fs=!0,qs=null;if(Oi.key!==null&&(qs=et.enterKey(Oi.key)),Oi.optional){var Us=null;if(Oi.explicit!==null?Us=Oi.explicit:Oi.implicit!==null?Us=Oi.implicit:Oi.tag!==null&&(Us=Oi.tag),Us===null&&!Oi.any){var Ls=et.save();try{Oi.choice===null?this._decodeGeneric(Oi.tag,et,xi):this._decodeChoice(et,xi),Fs=!0}catch{Fs=!1}et.restore(Ls)}else if(Fs=this._peekTag(et,Us,Oi.any),et.isError(Fs))return Fs}var Gs;if(Oi.obj&&Fs&&(Gs=et.enterObject()),Fs){if(Oi.explicit!==null){var zs=this._decodeTag(et,Oi.explicit);if(et.isError(zs))return zs;et=zs}var Vs=et.offset;if(Oi.use===null&&Oi.choice===null){if(Oi.any)var Ls=et.save();var Zs=this._decodeTag(et,Oi.implicit!==null?Oi.implicit:Oi.tag,Oi.any);if(et.isError(Zs))return Zs;Oi.any?Ts=et.raw(Ls):et=Zs}if(xi&&xi.track&&Oi.tag!==null&&xi.track(et.path(),Vs,et.length,"tagged"),xi&&xi.track&&Oi.tag!==null&&xi.track(et.path(),et.offset,et.length,"content"),Oi.any?Ts=Ts:Oi.choice===null?Ts=this._decodeGeneric(Oi.tag,et,xi):Ts=this._decodeChoice(et,xi),et.isError(Ts))return Ts;if(!Oi.any&&Oi.choice===null&&Oi.children!==null&&Oi.children.forEach(function(Io){Io._decode(et,xi)}),Oi.contains&&(Oi.tag==="octstr"||Oi.tag==="bitstr")){var Js=new i(Ts);Ts=this._getUse(Oi.contains,et._reporterState.obj)._decode(Js,xi)}}return Oi.obj&&Fs&&(Ts=et.leaveObject(Gs)),Oi.key!==null&&(Ts!==null||Fs===!0)?et.leaveKey(qs,Oi.key,Ts):qs!==null&&et.exitKey(qs),Ts},A.prototype._decodeGeneric=function(et,xi,Oi){var Ts=this._baseState;return et==="seq"||et==="set"?null:et==="seqof"||et==="setof"?this._decodeList(xi,et,Ts.args[0],Oi):/str$/.test(et)?this._decodeStr(xi,et,Oi):et==="objid"&&Ts.args?this._decodeObjid(xi,Ts.args[0],Ts.args[1],Oi):et==="objid"?this._decodeObjid(xi,null,null,Oi):et==="gentime"||et==="utctime"?this._decodeTime(xi,et,Oi):et==="null_"?this._decodeNull(xi,Oi):et==="bool"?this._decodeBool(xi,Oi):et==="objDesc"?this._decodeStr(xi,et,Oi):et==="int"||et==="enum"?this._decodeInt(xi,Ts.args&&Ts.args[0],Oi):Ts.use!==null?this._getUse(Ts.use,xi._reporterState.obj)._decode(xi,Oi):xi.error("unknown tag: "+et)},A.prototype._getUse=function(et,xi){var Oi=this._baseState;return Oi.useDecoder=this._use(et,xi),n(Oi.useDecoder._baseState.parent===null),Oi.useDecoder=Oi.useDecoder._baseState.children[0],Oi.implicit!==Oi.useDecoder._baseState.implicit&&(Oi.useDecoder=Oi.useDecoder.clone(),Oi.useDecoder._baseState.implicit=Oi.implicit),Oi.useDecoder},A.prototype._decodeChoice=function(et,xi){var Oi=this._baseState,Ts=null,Fs=!1;return Object.keys(Oi.choice).some(function(qs){var Us=et.save(),Ls=Oi.choice[qs];try{var Gs=Ls._decode(et,xi);if(et.isError(Gs))return!1;Ts={type:qs,value:Gs},Fs=!0}catch{return et.restore(Us),!1}return!0},this),Fs?Ts:et.error("Choice not matched")},A.prototype._createEncoderBuffer=function(et){return new e(et,this.reporter)},A.prototype._encode=function(et,xi,Oi){var Ts=this._baseState;if(!(Ts.default!==null&&Ts.default===et)){var Fs=this._encodeValue(et,xi,Oi);if(Fs!==void 0&&!this._skipDefault(Fs,xi,Oi))return Fs}},A.prototype._encodeValue=function(et,xi,Oi){var Ts=this._baseState;if(Ts.parent===null)return Ts.children[0]._encode(et,xi||new t);var Ls=null;if(this.reporter=xi,Ts.optional&&et===void 0)if(Ts.default!==null)et=Ts.default;else return;var Fs=null,qs=!1;if(Ts.any)Ls=this._createEncoderBuffer(et);else if(Ts.choice)Ls=this._encodeChoice(et,xi);else if(Ts.contains)Fs=this._getUse(Ts.contains,Oi)._encode(et,xi),qs=!0;else if(Ts.children)Fs=Ts.children.map(function(Vs){if(Vs._baseState.tag==="null_")return Vs._encode(null,xi,et);if(Vs._baseState.key===null)return xi.error("Child should have a key");var Zs=xi.enterKey(Vs._baseState.key);if(typeof et!="object")return xi.error("Child expected, but input is not object");var Js=Vs._encode(et[Vs._baseState.key],xi,et);return xi.leaveKey(Zs),Js},this).filter(function(Vs){return Vs}),Fs=this._createEncoderBuffer(Fs);else if(Ts.tag==="seqof"||Ts.tag==="setof"){if(!(Ts.args&&Ts.args.length===1))return xi.error("Too many args for : "+Ts.tag);if(!Array.isArray(et))return xi.error("seqof/setof, but data is not Array");var Us=this.clone();Us._baseState.implicit=null,Fs=this._createEncoderBuffer(et.map(function(Vs){var Zs=this._baseState;return this._getUse(Zs.args[0],et)._encode(Vs,xi)},Us))}else Ts.use!==null?Ls=this._getUse(Ts.use,Oi)._encode(et,xi):(Fs=this._encodePrimitive(Ts.tag,et),qs=!0);var Ls;if(!Ts.any&&Ts.choice===null){var Gs=Ts.implicit!==null?Ts.implicit:Ts.tag,zs=Ts.implicit===null?"universal":"context";Gs===null?Ts.use===null&&xi.error("Tag could be omitted only for .use()"):Ts.use===null&&(Ls=this._encodeComposite(Gs,qs,zs,Fs))}return Ts.explicit!==null&&(Ls=this._encodeComposite(Ts.explicit,!1,"context",Ls)),Ls},A.prototype._encodeChoice=function(et,xi){var Oi=this._baseState,Ts=Oi.choice[et.type];return Ts||n(!1,et.type+" not found in "+JSON.stringify(Object.keys(Oi.choice))),Ts._encode(et.value,xi)},A.prototype._encodePrimitive=function(et,xi){var Oi=this._baseState;if(/str$/.test(et))return this._encodeStr(xi,et);if(et==="objid"&&Oi.args)return this._encodeObjid(xi,Oi.reverseArgs[0],Oi.args[1]);if(et==="objid")return this._encodeObjid(xi,null,null);if(et==="gentime"||et==="utctime")return this._encodeTime(xi,et);if(et==="null_")return this._encodeNull();if(et==="int"||et==="enum")return this._encodeInt(xi,Oi.args&&Oi.reverseArgs[0]);if(et==="bool")return this._encodeBool(xi);if(et==="objDesc")return this._encodeStr(xi,et);throw new Error("Unsupported tag: "+et)},A.prototype._isNumstr=function(et){return/^[0-9 ]*$/.test(et)},A.prototype._isPrintstr=function(et){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(et)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(t){var e=t;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(t){var e=requireConstants();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(t){var e=t;e._reverse=function(n){var s={};return Object.keys(n).forEach(function(a){(a|0)==a&&(a=a|0);var l=n[a];s[l]=a}),s},e.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var t=requireInherits_browser(),e=requireAsn1$1(),i=e.base,n=e.bignum,s=e.constants.der;function a(q){this.enc="der",this.name=q.name,this.entity=q,this.tree=new l,this.tree._init(q.body)}der_1$1=a,a.prototype.decode=function(et,xi){return et instanceof i.DecoderBuffer||(et=new i.DecoderBuffer(et,xi)),this.tree._decode(et,xi)};function l(q){i.Node.call(this,"der",q)}t(l,i.Node),l.prototype._peekTag=function(et,xi,Oi){if(et.isEmpty())return!1;var Ts=et.save(),Fs=A(et,'Failed to peek tag: "'+xi+'"');return et.isError(Fs)?Fs:(et.restore(Ts),Fs.tag===xi||Fs.tagStr===xi||Fs.tagStr+"of"===xi||Oi)},l.prototype._decodeTag=function(et,xi,Oi){var Ts=A(et,'Failed to decode tag of "'+xi+'"');if(et.isError(Ts))return Ts;var Fs=T(et,Ts.primitive,'Failed to get length of "'+xi+'"');if(et.isError(Fs))return Fs;if(!Oi&&Ts.tag!==xi&&Ts.tagStr!==xi&&Ts.tagStr+"of"!==xi)return et.error('Failed to match tag: "'+xi+'"');if(Ts.primitive||Fs!==null)return et.skip(Fs,'Failed to match body of: "'+xi+'"');var qs=et.save(),Us=this._skipUntilEnd(et,'Failed to skip indefinite length body: "'+this.tag+'"');return et.isError(Us)?Us:(Fs=et.offset-qs.offset,et.restore(qs),et.skip(Fs,'Failed to match body of: "'+xi+'"'))},l.prototype._skipUntilEnd=function(et,xi){for(;;){var Oi=A(et,xi);if(et.isError(Oi))return Oi;var Ts=T(et,Oi.primitive,xi);if(et.isError(Ts))return Ts;var Fs;if(Oi.primitive||Ts!==null?Fs=et.skip(Ts):Fs=this._skipUntilEnd(et,xi),et.isError(Fs))return Fs;if(Oi.tagStr==="end")break}},l.prototype._decodeList=function(et,xi,Oi,Ts){for(var Fs=[];!et.isEmpty();){var qs=this._peekTag(et,"end");if(et.isError(qs))return qs;var Us=Oi.decode(et,"der",Ts);if(et.isError(Us)&&qs)break;Fs.push(Us)}return Fs},l.prototype._decodeStr=function(et,xi){if(xi==="bitstr"){var Oi=et.readUInt8();return et.isError(Oi)?Oi:{unused:Oi,data:et.raw()}}else if(xi==="bmpstr"){var Ts=et.raw();if(Ts.length%2===1)return et.error("Decoding of string type: bmpstr length mismatch");for(var Fs="",qs=0;qs<Ts.length/2;qs++)Fs+=String.fromCharCode(Ts.readUInt16BE(qs*2));return Fs}else if(xi==="numstr"){var Us=et.raw().toString("ascii");return this._isNumstr(Us)?Us:et.error("Decoding of string type: numstr unsupported characters")}else{if(xi==="octstr")return et.raw();if(xi==="objDesc")return et.raw();if(xi==="printstr"){var Ls=et.raw().toString("ascii");return this._isPrintstr(Ls)?Ls:et.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(xi)?et.raw().toString():et.error("Decoding of string type: "+xi+" unsupported")}},l.prototype._decodeObjid=function(et,xi,Oi){for(var Ts,Fs=[],qs=0;!et.isEmpty();){var Us=et.readUInt8();qs<<=7,qs|=Us&127,Us&128||(Fs.push(qs),qs=0)}Us&128&&Fs.push(qs);var Ls=Fs[0]/40|0,Gs=Fs[0]%40;if(Oi?Ts=Fs:Ts=[Ls,Gs].concat(Fs.slice(1)),xi){var zs=xi[Ts.join(" ")];zs===void 0&&(zs=xi[Ts.join(".")]),zs!==void 0&&(Ts=zs)}return Ts},l.prototype._decodeTime=function(et,xi){var Oi=et.raw().toString();if(xi==="gentime")var Ts=Oi.slice(0,4)|0,Fs=Oi.slice(4,6)|0,qs=Oi.slice(6,8)|0,Us=Oi.slice(8,10)|0,Ls=Oi.slice(10,12)|0,Gs=Oi.slice(12,14)|0;else if(xi==="utctime"){var Ts=Oi.slice(0,2)|0,Fs=Oi.slice(2,4)|0,qs=Oi.slice(4,6)|0,Us=Oi.slice(6,8)|0,Ls=Oi.slice(8,10)|0,Gs=Oi.slice(10,12)|0;Ts<70?Ts=2e3+Ts:Ts=1900+Ts}else return et.error("Decoding "+xi+" time is not supported yet");return Date.UTC(Ts,Fs-1,qs,Us,Ls,Gs,0)},l.prototype._decodeNull=function(et){return null},l.prototype._decodeBool=function(et){var xi=et.readUInt8();return et.isError(xi)?xi:xi!==0},l.prototype._decodeInt=function(et,xi){var Oi=et.raw(),Ts=new n(Oi);return xi&&(Ts=xi[Ts.toString(10)]||Ts),Ts},l.prototype._use=function(et,xi){return typeof et=="function"&&(et=et(xi)),et._getDecoder("der").tree};function A(q,et){var xi=q.readUInt8(et);if(q.isError(xi))return xi;var Oi=s.tagClass[xi>>6],Ts=(xi&32)===0;if((xi&31)===31){var Fs=xi;for(xi=0;(Fs&128)===128;){if(Fs=q.readUInt8(et),q.isError(Fs))return Fs;xi<<=7,xi|=Fs&127}}else xi&=31;var qs=s.tag[xi];return{cls:Oi,primitive:Ts,tag:xi,tagStr:qs}}function T(q,et,xi){var Oi=q.readUInt8(xi);if(q.isError(Oi))return Oi;if(!et&&Oi===128)return null;if(!(Oi&128))return Oi;var Ts=Oi&127;if(Ts>4)return q.error("length octect is too long");Oi=0;for(var Fs=0;Fs<Ts;Fs++){Oi<<=8;var qs=q.readUInt8(xi);if(q.isError(qs))return qs;Oi|=qs}return Oi}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var t=requireInherits_browser(),e=require$$1$3.Buffer,i=requireDer$1();function n(s){i.call(this,s),this.enc="pem"}return t(n,i),pem$1=n,n.prototype.decode=function(a,l){for(var A=a.toString().split(/[\r\n]+/g),T=l.label.toUpperCase(),q=/^-----(BEGIN|END) ([^-]+)-----$/,et=-1,xi=-1,Oi=0;Oi<A.length;Oi++){var Ts=A[Oi].match(q);if(Ts!==null&&Ts[2]===T)if(et===-1){if(Ts[1]!=="BEGIN")break;et=Oi}else{if(Ts[1]!=="END")break;xi=Oi;break}}if(et===-1||xi===-1)throw new Error("PEM section not found for: "+T);var Fs=A.slice(et+1,xi).join("");Fs.replace(/[^a-z0-9\+\/=]+/gi,"");var qs=new e(Fs,"base64");return i.prototype.decode.call(this,qs,l)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(t){var e=t;e.der=requireDer$1(),e.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var t=requireInherits_browser(),e=require$$1$3.Buffer,i=requireAsn1$1(),n=i.base,s=i.constants.der;function a(q){this.enc="der",this.name=q.name,this.entity=q,this.tree=new l,this.tree._init(q.body)}der_1=a,a.prototype.encode=function(et,xi){return this.tree._encode(et,xi).join()};function l(q){n.Node.call(this,"der",q)}t(l,n.Node),l.prototype._encodeComposite=function(et,xi,Oi,Ts){var Fs=T(et,xi,Oi,this.reporter);if(Ts.length<128){var Ls=new e(2);return Ls[0]=Fs,Ls[1]=Ts.length,this._createEncoderBuffer([Ls,Ts])}for(var qs=1,Us=Ts.length;Us>=256;Us>>=8)qs++;var Ls=new e(2+qs);Ls[0]=Fs,Ls[1]=128|qs;for(var Us=1+qs,Gs=Ts.length;Gs>0;Us--,Gs>>=8)Ls[Us]=Gs&255;return this._createEncoderBuffer([Ls,Ts])},l.prototype._encodeStr=function(et,xi){if(xi==="bitstr")return this._createEncoderBuffer([et.unused|0,et.data]);if(xi==="bmpstr"){for(var Oi=new e(et.length*2),Ts=0;Ts<et.length;Ts++)Oi.writeUInt16BE(et.charCodeAt(Ts),Ts*2);return this._createEncoderBuffer(Oi)}else return xi==="numstr"?this._isNumstr(et)?this._createEncoderBuffer(et):this.reporter.error("Encoding of string type: numstr supports only digits and space"):xi==="printstr"?this._isPrintstr(et)?this._createEncoderBuffer(et):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(xi)?this._createEncoderBuffer(et):xi==="objDesc"?this._createEncoderBuffer(et):this.reporter.error("Encoding of string type: "+xi+" unsupported")},l.prototype._encodeObjid=function(et,xi,Oi){if(typeof et=="string"){if(!xi)return this.reporter.error("string objid given, but no values map found");if(!xi.hasOwnProperty(et))return this.reporter.error("objid not found in values map");et=xi[et].split(/[\s\.]+/g);for(var Ts=0;Ts<et.length;Ts++)et[Ts]|=0}else if(Array.isArray(et)){et=et.slice();for(var Ts=0;Ts<et.length;Ts++)et[Ts]|=0}if(!Array.isArray(et))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(et));if(!Oi){if(et[1]>=40)return this.reporter.error("Second objid identifier OOB");et.splice(0,2,et[0]*40+et[1])}for(var Fs=0,Ts=0;Ts<et.length;Ts++){var qs=et[Ts];for(Fs++;qs>=128;qs>>=7)Fs++}for(var Us=new e(Fs),Ls=Us.length-1,Ts=et.length-1;Ts>=0;Ts--){var qs=et[Ts];for(Us[Ls--]=qs&127;(qs>>=7)>0;)Us[Ls--]=128|qs&127}return this._createEncoderBuffer(Us)};function A(q){return q<10?"0"+q:q}l.prototype._encodeTime=function(et,xi){var Oi,Ts=new Date(et);return xi==="gentime"?Oi=[A(Ts.getFullYear()),A(Ts.getUTCMonth()+1),A(Ts.getUTCDate()),A(Ts.getUTCHours()),A(Ts.getUTCMinutes()),A(Ts.getUTCSeconds()),"Z"].join(""):xi==="utctime"?Oi=[A(Ts.getFullYear()%100),A(Ts.getUTCMonth()+1),A(Ts.getUTCDate()),A(Ts.getUTCHours()),A(Ts.getUTCMinutes()),A(Ts.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+xi+" time is not supported yet"),this._encodeStr(Oi,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(et,xi){if(typeof et=="string"){if(!xi)return this.reporter.error("String int or enum given, but no values map");if(!xi.hasOwnProperty(et))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(et));et=xi[et]}if(typeof et!="number"&&!e.isBuffer(et)){var Oi=et.toArray();!et.sign&&Oi[0]&128&&Oi.unshift(0),et=new e(Oi)}if(e.isBuffer(et)){var Ts=et.length;et.length===0&&Ts++;var qs=new e(Ts);return et.copy(qs),et.length===0&&(qs[0]=0),this._createEncoderBuffer(qs)}if(et<128)return this._createEncoderBuffer(et);if(et<256)return this._createEncoderBuffer([0,et]);for(var Ts=1,Fs=et;Fs>=256;Fs>>=8)Ts++;for(var qs=new Array(Ts),Fs=qs.length-1;Fs>=0;Fs--)qs[Fs]=et&255,et>>=8;return qs[0]&128&&qs.unshift(0),this._createEncoderBuffer(new e(qs))},l.prototype._encodeBool=function(et){return this._createEncoderBuffer(et?255:0)},l.prototype._use=function(et,xi){return typeof et=="function"&&(et=et(xi)),et._getEncoder("der").tree},l.prototype._skipDefault=function(et,xi,Oi){var Ts=this._baseState,Fs;if(Ts.default===null)return!1;var qs=et.join();if(Ts.defaultBuffer===void 0&&(Ts.defaultBuffer=this._encodeValue(Ts.default,xi,Oi).join()),qs.length!==Ts.defaultBuffer.length)return!1;for(Fs=0;Fs<qs.length;Fs++)if(qs[Fs]!==Ts.defaultBuffer[Fs])return!1;return!0};function T(q,et,xi,Oi){var Ts;if(q==="seqof"?q="seq":q==="setof"&&(q="set"),s.tagByName.hasOwnProperty(q))Ts=s.tagByName[q];else if(typeof q=="number"&&(q|0)===q)Ts=q;else return Oi.error("Unknown tag: "+q);return Ts>=31?Oi.error("Multi-octet tag encoding unsupported"):(et||(Ts|=32),Ts|=s.tagClassByName[xi||"universal"]<<6,Ts)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var t=requireInherits_browser(),e=requireDer();function i(n){e.call(this,n),this.enc="pem"}return t(i,e),pem=i,i.prototype.encode=function(s,a){for(var l=e.prototype.encode.call(this,s),A=l.toString("base64"),T=["-----BEGIN "+a.label+"-----"],q=0;q<A.length;q+=64)T.push(A.slice(q,q+64));return T.push("-----END "+a.label+"-----"),T.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(t){var e=t;e.der=requireDer(),e.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(t){var e=t;e.bignum=requireBn(),e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var t=requireAsn1$1(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),a=t.define("RelativeDistinguishedName",function(){this.setof(i)}),l=t.define("RDNSequence",function(){this.seqof(a)}),A=t.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),T=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),q=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),et=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(A),this.key("validity").use(T),this.key("subject").use(A),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(q).optional())}),xi=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(et),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});return certificate=xi,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var t=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var i=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=i;var n=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=s;var a=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=a;var l=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=l;var A=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=A,asn1$1.DSAparam=t.define("DSAparam",function(){this.int()});var T=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),q=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(T),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=q,asn1$1.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=requireEvp_bytestokey(),s=requireBrowser$6(),a=requireSafeBuffer$1().Buffer;return fixProc=function(l,A){var T=l.toString(),q=T.match(t),et;if(q){var Oi="aes"+q[1],Ts=a.from(q[2],"hex"),Fs=a.from(q[3].replace(/[\r\n]/g,""),"base64"),qs=n(A,Ts.slice(0,8),parseInt(q[1],10)).key,Us=[],Ls=s.createDecipheriv(Oi,qs,Ts);Us.push(Ls.update(Fs)),Us.push(Ls.final()),et=a.concat(Us)}else{var xi=T.match(i);et=a.from(xi[2].replace(/[\r\n]/g,""),"base64")}var Gs=T.match(e)[1];return{tag:Gs,data:et}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var t=requireAsn1(),e=require$$1,i=requireFixProc(),n=requireBrowser$6(),s=requireBrowser$7(),a=requireSafeBuffer$1().Buffer;function l(T,q){var et=T.algorithm.decrypt.kde.kdeparams.salt,xi=parseInt(T.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Oi=e[T.algorithm.decrypt.cipher.algo.join(".")],Ts=T.algorithm.decrypt.cipher.iv,Fs=T.subjectPrivateKey,qs=parseInt(Oi.split("-")[1],10)/8,Us=s.pbkdf2Sync(q,et,xi,qs,"sha1"),Ls=n.createDecipheriv(Oi,Us,Ts),Gs=[];return Gs.push(Ls.update(Fs)),Gs.push(Ls.final()),a.concat(Gs)}function A(T){var q;typeof T=="object"&&!a.isBuffer(T)&&(q=T.passphrase,T=T.key),typeof T=="string"&&(T=a.from(T));var et=i(T,q),xi=et.tag,Oi=et.data,Ts,Fs;switch(xi){case"CERTIFICATE":Fs=t.certificate.decode(Oi,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Fs||(Fs=t.PublicKey.decode(Oi,"der")),Ts=Fs.algorithm.algorithm.join("."),Ts){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(Fs.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Fs.subjectPrivateKey=Fs.subjectPublicKey,{type:"ec",data:Fs};case"1.2.840.10040.4.1":return Fs.algorithm.params.pub_key=t.DSAparam.decode(Fs.subjectPublicKey.data,"der"),{type:"dsa",data:Fs.algorithm.params};default:throw new Error("unknown key id "+Ts)}case"ENCRYPTED PRIVATE KEY":Oi=t.EncryptedPrivateKey.decode(Oi,"der"),Oi=l(Oi,q);case"PRIVATE KEY":switch(Fs=t.PrivateKey.decode(Oi,"der"),Ts=Fs.algorithm.algorithm.join("."),Ts){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(Fs.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Fs.algorithm.curve,privateKey:t.ECPrivateKey.decode(Fs.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Fs.algorithm.params.priv_key=t.DSAparam.decode(Fs.subjectPrivateKey,"der"),{type:"dsa",params:Fs.algorithm.params};default:throw new Error("unknown key id "+Ts)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(Oi,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(Oi,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(Oi,"der")};case"EC PRIVATE KEY":return Oi=t.ECPrivateKey.decode(Oi,"der"),{curve:Oi.parameters.value,privateKey:Oi.privateKey};default:throw new Error("unknown key type "+xi)}}return A.signature=t.signature,parseAsn1=A,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var t=requireSafeBuffer$1().Buffer,e=requireBrowser$8(),i=requireBrowserifyRsa(),n=requireElliptic().ec,s=bnExports,a=requireParseAsn1(),l=require$$4,A=1;function T(Ls,Gs,zs,Vs,Zs){var Js=a(Gs);if(Js.curve){if(Vs!=="ecdsa"&&Vs!=="ecdsa/rsa")throw new Error("wrong private key type");return q(Ls,Js)}else if(Js.type==="dsa"){if(Vs!=="dsa")throw new Error("wrong private key type");return et(Ls,Js,zs)}if(Vs!=="rsa"&&Vs!=="ecdsa/rsa")throw new Error("wrong private key type");if(Gs.padding!==void 0&&Gs.padding!==A)throw new Error("illegal or unsupported padding mode");Ls=t.concat([Zs,Ls]);for(var xo=Js.modulus.byteLength(),Io=[0,1];Ls.length+Io.length+1<xo;)Io.push(255);Io.push(0);for(var Uo=-1;++Uo<Ls.length;)Io.push(Ls[Uo]);var Fo=i(Io,Js);return Fo}function q(Ls,Gs){var zs=l[Gs.curve.join(".")];if(!zs)throw new Error("unknown curve "+Gs.curve.join("."));var Vs=new n(zs),Zs=Vs.keyFromPrivate(Gs.privateKey),Js=Zs.sign(Ls);return t.from(Js.toDER())}function et(Ls,Gs,zs){for(var Vs=Gs.params.priv_key,Zs=Gs.params.p,Js=Gs.params.q,xo=Gs.params.g,Io=new s(0),Uo,Fo=Ts(Ls,Js).mod(Js),Ys=!1,Hs=Oi(Vs,Js,Ls,zs);Ys===!1;)Uo=qs(Js,Hs,zs),Io=Us(xo,Uo,Zs,Js),Ys=Uo.invm(Js).imul(Fo.add(Vs.mul(Io))).mod(Js),Ys.cmpn(0)===0&&(Ys=!1,Io=new s(0));return xi(Io,Ys)}function xi(Ls,Gs){Ls=Ls.toArray(),Gs=Gs.toArray(),Ls[0]&128&&(Ls=[0].concat(Ls)),Gs[0]&128&&(Gs=[0].concat(Gs));var zs=Ls.length+Gs.length+4,Vs=[48,zs,2,Ls.length];return Vs=Vs.concat(Ls,[2,Gs.length],Gs),t.from(Vs)}function Oi(Ls,Gs,zs,Vs){if(Ls=t.from(Ls.toArray()),Ls.length<Gs.byteLength()){var Zs=t.alloc(Gs.byteLength()-Ls.length);Ls=t.concat([Zs,Ls])}var Js=zs.length,xo=Fs(zs,Gs),Io=t.alloc(Js);Io.fill(1);var Uo=t.alloc(Js);return Uo=e(Vs,Uo).update(Io).update(t.from([0])).update(Ls).update(xo).digest(),Io=e(Vs,Uo).update(Io).digest(),Uo=e(Vs,Uo).update(Io).update(t.from([1])).update(Ls).update(xo).digest(),Io=e(Vs,Uo).update(Io).digest(),{k:Uo,v:Io}}function Ts(Ls,Gs){var zs=new s(Ls),Vs=(Ls.length<<3)-Gs.bitLength();return Vs>0&&zs.ishrn(Vs),zs}function Fs(Ls,Gs){Ls=Ts(Ls,Gs),Ls=Ls.mod(Gs);var zs=t.from(Ls.toArray());if(zs.length<Gs.byteLength()){var Vs=t.alloc(Gs.byteLength()-zs.length);zs=t.concat([Vs,zs])}return zs}function qs(Ls,Gs,zs){var Vs,Zs;do{for(Vs=t.alloc(0);Vs.length*8<Ls.bitLength();)Gs.v=e(zs,Gs.k).update(Gs.v).digest(),Vs=t.concat([Vs,Gs.v]);Zs=Ts(Vs,Ls),Gs.k=e(zs,Gs.k).update(Gs.v).update(t.from([0])).digest(),Gs.v=e(zs,Gs.k).update(Gs.v).digest()}while(Zs.cmp(Ls)!==-1);return Zs}function Us(Ls,Gs,zs,Vs){return Ls.toRed(s.mont(zs)).redPow(Gs).fromRed().mod(Vs)}return sign.exports=T,sign.exports.getKey=Oi,sign.exports.makeKey=qs,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var t=requireSafeBuffer$1().Buffer,e=bnExports,i=requireElliptic().ec,n=requireParseAsn1(),s=require$$4;function a(q,et,xi,Oi,Ts){var Fs=n(xi);if(Fs.type==="ec"){if(Oi!=="ecdsa"&&Oi!=="ecdsa/rsa")throw new Error("wrong public key type");return l(q,et,Fs)}else if(Fs.type==="dsa"){if(Oi!=="dsa")throw new Error("wrong public key type");return A(q,et,Fs)}if(Oi!=="rsa"&&Oi!=="ecdsa/rsa")throw new Error("wrong public key type");et=t.concat([Ts,et]);for(var qs=Fs.modulus.byteLength(),Us=[1],Ls=0;et.length+Us.length+2<qs;)Us.push(255),Ls+=1;Us.push(0);for(var Gs=-1;++Gs<et.length;)Us.push(et[Gs]);Us=t.from(Us);var zs=e.mont(Fs.modulus);q=new e(q).toRed(zs),q=q.redPow(new e(Fs.publicExponent)),q=t.from(q.fromRed().toArray());var Vs=Ls<8?1:0;for(qs=Math.min(q.length,Us.length),q.length!==Us.length&&(Vs=1),Gs=-1;++Gs<qs;)Vs|=q[Gs]^Us[Gs];return Vs===0}function l(q,et,xi){var Oi=s[xi.data.algorithm.curve.join(".")];if(!Oi)throw new Error("unknown curve "+xi.data.algorithm.curve.join("."));var Ts=new i(Oi),Fs=xi.data.subjectPrivateKey.data;return Ts.verify(et,q,Fs)}function A(q,et,xi){var Oi=xi.data.p,Ts=xi.data.q,Fs=xi.data.g,qs=xi.data.pub_key,Us=n.signature.decode(q,"der"),Ls=Us.s,Gs=Us.r;T(Ls,Ts),T(Gs,Ts);var zs=e.mont(Oi),Vs=Ls.invm(Ts),Zs=Fs.toRed(zs).redPow(new e(et).mul(Vs).mod(Ts)).fromRed().mul(qs.toRed(zs).redPow(Gs.mul(Vs).mod(Ts)).fromRed()).mod(Oi).mod(Ts);return Zs.cmp(Gs)===0}function T(q,et){if(q.cmpn(0)<=0)throw new Error("invalid sig");if(q.cmp(et)>=0)throw new Error("invalid sig")}return verify_1=a,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var t=requireSafeBuffer$1().Buffer,e=requireBrowser$9(),i=requireReadableBrowser(),n=requireInherits_browser(),s=requireSign(),a=requireVerify(),l=require$$6;Object.keys(l).forEach(function(xi){l[xi].id=t.from(l[xi].id,"hex"),l[xi.toLowerCase()]=l[xi]});function A(xi){i.Writable.call(this);var Oi=l[xi];if(!Oi)throw new Error("Unknown message digest");this._hashType=Oi.hash,this._hash=e(Oi.hash),this._tag=Oi.id,this._signType=Oi.sign}n(A,i.Writable),A.prototype._write=function(Oi,Ts,Fs){this._hash.update(Oi),Fs()},A.prototype.update=function(Oi,Ts){return this._hash.update(typeof Oi=="string"?t.from(Oi,Ts):Oi),this},A.prototype.sign=function(Oi,Ts){this.end();var Fs=this._hash.digest(),qs=s(Fs,Oi,this._hashType,this._signType,this._tag);return Ts?qs.toString(Ts):qs};function T(xi){i.Writable.call(this);var Oi=l[xi];if(!Oi)throw new Error("Unknown message digest");this._hash=e(Oi.hash),this._tag=Oi.id,this._signType=Oi.sign}n(T,i.Writable),T.prototype._write=function(Oi,Ts,Fs){this._hash.update(Oi),Fs()},T.prototype.update=function(Oi,Ts){return this._hash.update(typeof Oi=="string"?t.from(Oi,Ts):Oi),this},T.prototype.verify=function(Oi,Ts,Fs){var qs=typeof Ts=="string"?t.from(Ts,Fs):Ts;this.end();var Us=this._hash.digest();return a(qs,Us,Oi,this._signType,this._tag)};function q(xi){return new A(xi)}function et(xi){return new T(xi)}return browser$3={Sign:q,Verify:et,createSign:q,createVerify:et},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var t=requireElliptic(),e=requireBn();browser$2=function(l){return new n(l)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1;function n(a){this.curveType=i[a],this.curveType||(this.curveType={name:a}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(a,l){return this.keys=this.curve.genKeyPair(),this.getPublicKey(a,l)},n.prototype.computeSecret=function(a,l,A){l=l||"utf8",Buffer$1.isBuffer(a)||(a=new Buffer$1(a,l));var T=this.curve.keyFromPublic(a).getPublic(),q=T.mul(this.keys.getPrivate()).getX();return s(q,A,this.curveType.byteLength)},n.prototype.getPublicKey=function(a,l){var A=this.keys.getPublic(l==="compressed",!0);return l==="hybrid"&&(A[A.length-1]%2?A[0]=7:A[0]=6),s(A,a)},n.prototype.getPrivateKey=function(a){return s(this.keys.getPrivate(),a)},n.prototype.setPublicKey=function(a,l){return l=l||"utf8",Buffer$1.isBuffer(a)||(a=new Buffer$1(a,l)),this.keys._importPublic(a),this},n.prototype.setPrivateKey=function(a,l){l=l||"utf8",Buffer$1.isBuffer(a)||(a=new Buffer$1(a,l));var A=new e(a);return A=A.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(A),this};function s(a,l,A){Array.isArray(a)||(a=a.toArray());var T=new Buffer$1(a);if(A&&T.length<A){var q=new Buffer$1(A-T.length);q.fill(0),T=Buffer$1.concat([q,T])}return l?T.toString(l):T}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var t=requireBrowser$9(),e=requireSafeBuffer$1().Buffer;mgf=function(n,s){for(var a=e.alloc(0),l=0,A;a.length<s;)A=i(l++),a=e.concat([a,t("sha1").update(n).update(A).digest()]);return a.slice(0,s)};function i(n){var s=e.allocUnsafe(4);return s.writeUInt32BE(n,0),s}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,i){for(var n=e.length,s=-1;++s<n;)e[s]^=i[s];return e}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var t=requireBn(),e=requireSafeBuffer$1().Buffer;function i(n,s){return e.from(n.toRed(t.mont(s.modulus)).redPow(new t(s.publicExponent)).fromRed().toArray())}return withPublic_1=i,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var t=requireParseAsn1(),e=requireBrowser$b(),i=requireBrowser$9(),n=requireMgf(),s=requireXor(),a=requireBn(),l=requireWithPublic(),A=requireBrowserifyRsa(),T=requireSafeBuffer$1().Buffer;publicEncrypt=function(Ts,Fs,qs){var Us;Ts.padding?Us=Ts.padding:qs?Us=1:Us=4;var Ls=t(Ts),Gs;if(Us===4)Gs=q(Ls,Fs);else if(Us===1)Gs=et(Ls,Fs,qs);else if(Us===3){if(Gs=new a(Fs),Gs.cmp(Ls.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return qs?A(Gs,Ls):l(Gs,Ls)};function q(Oi,Ts){var Fs=Oi.modulus.byteLength(),qs=Ts.length,Us=i("sha1").update(T.alloc(0)).digest(),Ls=Us.length,Gs=2*Ls;if(qs>Fs-Gs-2)throw new Error("message too long");var zs=T.alloc(Fs-qs-Gs-2),Vs=Fs-Ls-1,Zs=e(Ls),Js=s(T.concat([Us,zs,T.alloc(1,1),Ts],Vs),n(Zs,Vs)),xo=s(Zs,n(Js,Ls));return new a(T.concat([T.alloc(1),xo,Js],Fs))}function et(Oi,Ts,Fs){var qs=Ts.length,Us=Oi.modulus.byteLength();if(qs>Us-11)throw new Error("message too long");var Ls;return Fs?Ls=T.alloc(Us-qs-3,255):Ls=xi(Us-qs-3),new a(T.concat([T.from([0,Fs?1:2]),Ls,T.alloc(1),Ts],Us))}function xi(Oi){for(var Ts=T.allocUnsafe(Oi),Fs=0,qs=e(Oi*2),Us=0,Ls;Fs<Oi;)Us===qs.length&&(qs=e(Oi*2),Us=0),Ls=qs[Us++],Ls&&(Ts[Fs++]=Ls);return Ts}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var t=requireParseAsn1(),e=requireMgf(),i=requireXor(),n=requireBn(),s=requireBrowserifyRsa(),a=requireBrowser$9(),l=requireWithPublic(),A=requireSafeBuffer$1().Buffer;privateDecrypt=function(Oi,Ts,Fs){var qs;Oi.padding?qs=Oi.padding:Fs?qs=1:qs=4;var Us=t(Oi),Ls=Us.modulus.byteLength();if(Ts.length>Ls||new n(Ts).cmp(Us.modulus)>=0)throw new Error("decryption error");var Gs;Fs?Gs=l(new n(Ts),Us):Gs=s(Ts,Us);var zs=A.alloc(Ls-Gs.length);if(Gs=A.concat([zs,Gs],Ls),qs===4)return T(Us,Gs);if(qs===1)return q(Us,Gs,Fs);if(qs===3)return Gs;throw new Error("unknown padding")};function T(xi,Oi){var Ts=xi.modulus.byteLength(),Fs=a("sha1").update(A.alloc(0)).digest(),qs=Fs.length;if(Oi[0]!==0)throw new Error("decryption error");var Us=Oi.slice(1,qs+1),Ls=Oi.slice(qs+1),Gs=i(Us,e(Ls,qs)),zs=i(Ls,e(Gs,Ts-qs-1));if(et(Fs,zs.slice(0,qs)))throw new Error("decryption error");for(var Vs=qs;zs[Vs]===0;)Vs++;if(zs[Vs++]!==1)throw new Error("decryption error");return zs.slice(Vs)}function q(xi,Oi,Ts){for(var Fs=Oi.slice(0,2),qs=2,Us=0;Oi[qs++]!==0;)if(qs>=Oi.length){Us++;break}var Ls=Oi.slice(2,qs-1);if((Fs.toString("hex")!=="0002"&&!Ts||Fs.toString("hex")!=="0001"&&Ts)&&Us++,Ls.length<8&&Us++,Us)throw new Error("decryption error");return Oi.slice(qs)}function et(xi,Oi){xi=A.from(xi),Oi=A.from(Oi);var Ts=0,Fs=xi.length;xi.length!==Oi.length&&(Ts++,Fs=Math.min(xi.length,Oi.length));for(var qs=-1;++qs<Fs;)Ts+=xi[qs]^Oi[qs];return Ts}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(t){t.publicEncrypt=requirePublicEncrypt(),t.privateDecrypt=requirePrivateDecrypt(),t.privateEncrypt=function(i,n){return t.publicEncrypt(i,n,!0)},t.publicDecrypt=function(i,n){return t.privateDecrypt(i,n,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=requireSafeBuffer$1(),i=requireBrowser$b(),n=e.Buffer,s=e.kMaxLength,a=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto,l=Math.pow(2,32)-1;function A(Oi,Ts){if(typeof Oi!="number"||Oi!==Oi)throw new TypeError("offset must be a number");if(Oi>l||Oi<0)throw new TypeError("offset must be a uint32");if(Oi>s||Oi>Ts)throw new RangeError("offset out of range")}function T(Oi,Ts,Fs){if(typeof Oi!="number"||Oi!==Oi)throw new TypeError("size must be a number");if(Oi>l||Oi<0)throw new TypeError("size must be a uint32");if(Oi+Ts>Fs||Oi>s)throw new RangeError("buffer too small")}a&&a.getRandomValues||!process$1.browser?(browser.randomFill=q,browser.randomFillSync=xi):(browser.randomFill=t,browser.randomFillSync=t);function q(Oi,Ts,Fs,qs){if(!n.isBuffer(Oi)&&!(Oi instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof Ts=="function")qs=Ts,Ts=0,Fs=Oi.length;else if(typeof Fs=="function")qs=Fs,Fs=Oi.length-Ts;else if(typeof qs!="function")throw new TypeError('"cb" argument must be a function');return A(Ts,Oi.length),T(Fs,Ts,Oi.length),et(Oi,Ts,Fs,qs)}function et(Oi,Ts,Fs,qs){if(process$1.browser){var Us=Oi.buffer,Ls=new Uint8Array(Us,Ts,Fs);if(a.getRandomValues(Ls),qs){process$1.nextTick(function(){qs(null,Oi)});return}return Oi}if(qs){i(Fs,function(zs,Vs){if(zs)return qs(zs);Vs.copy(Oi,Ts),qs(null,Oi)});return}var Gs=i(Fs);return Gs.copy(Oi,Ts),Oi}function xi(Oi,Ts,Fs){if(typeof Ts>"u"&&(Ts=0),!n.isBuffer(Oi)&&!(Oi instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return A(Ts,Oi.length),Fs===void 0&&(Fs=Oi.length-Ts),T(Fs,Ts,Oi.length),et(Oi,Ts,Fs)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var t=requireAlgos(),e=Object.keys(t),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return i};var n=requireBrowser$7();cryptoBrowserify.pbkdf2=n.pbkdf2,cryptoBrowserify.pbkdf2Sync=n.pbkdf2Sync;var s=requireBrowser$5();cryptoBrowserify.Cipher=s.Cipher,cryptoBrowserify.createCipher=s.createCipher,cryptoBrowserify.Cipheriv=s.Cipheriv,cryptoBrowserify.createCipheriv=s.createCipheriv,cryptoBrowserify.Decipher=s.Decipher,cryptoBrowserify.createDecipher=s.createDecipher,cryptoBrowserify.Decipheriv=s.Decipheriv,cryptoBrowserify.createDecipheriv=s.createDecipheriv,cryptoBrowserify.getCiphers=s.getCiphers,cryptoBrowserify.listCiphers=s.listCiphers;var a=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=a.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=a.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=a.getDiffieHellman,cryptoBrowserify.createDiffieHellman=a.createDiffieHellman,cryptoBrowserify.DiffieHellman=a.DiffieHellman;var l=requireBrowser$3();cryptoBrowserify.createSign=l.createSign,cryptoBrowserify.Sign=l.Sign,cryptoBrowserify.createVerify=l.createVerify,cryptoBrowserify.Verify=l.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var A=requireBrowser$1();cryptoBrowserify.publicEncrypt=A.publicEncrypt,cryptoBrowserify.privateEncrypt=A.privateEncrypt,cryptoBrowserify.publicDecrypt=A.publicDecrypt,cryptoBrowserify.privateDecrypt=A.privateDecrypt;var T=requireBrowser();return cryptoBrowserify.randomFill=T.randomFill,cryptoBrowserify.randomFillSync=T.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(t,e){(function(i,n){t.exports=n()})(commonjsGlobal$1,function(){var i=i||function(n,s){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(a=commonjsGlobal$1.crypto),!a&&typeof commonjsRequire$1=="function")try{a=requireCryptoBrowserify()}catch{}var l=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},A=Object.create||function(){function Gs(){}return function(zs){var Vs;return Gs.prototype=zs,Vs=new Gs,Gs.prototype=null,Vs}}(),T={},q=T.lib={},et=q.Base=function(){return{extend:function(Gs){var zs=A(this);return Gs&&zs.mixIn(Gs),(!zs.hasOwnProperty("init")||this.init===zs.init)&&(zs.init=function(){zs.$super.init.apply(this,arguments)}),zs.init.prototype=zs,zs.$super=this,zs},create:function(){var Gs=this.extend();return Gs.init.apply(Gs,arguments),Gs},init:function(){},mixIn:function(Gs){for(var zs in Gs)Gs.hasOwnProperty(zs)&&(this[zs]=Gs[zs]);Gs.hasOwnProperty("toString")&&(this.toString=Gs.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),xi=q.WordArray=et.extend({init:function(Gs,zs){Gs=this.words=Gs||[],zs!=s?this.sigBytes=zs:this.sigBytes=Gs.length*4},toString:function(Gs){return(Gs||Ts).stringify(this)},concat:function(Gs){var zs=this.words,Vs=Gs.words,Zs=this.sigBytes,Js=Gs.sigBytes;if(this.clamp(),Zs%4)for(var xo=0;xo<Js;xo++){var Io=Vs[xo>>>2]>>>24-xo%4*8&255;zs[Zs+xo>>>2]|=Io<<24-(Zs+xo)%4*8}else for(var Uo=0;Uo<Js;Uo+=4)zs[Zs+Uo>>>2]=Vs[Uo>>>2];return this.sigBytes+=Js,this},clamp:function(){var Gs=this.words,zs=this.sigBytes;Gs[zs>>>2]&=4294967295<<32-zs%4*8,Gs.length=n.ceil(zs/4)},clone:function(){var Gs=et.clone.call(this);return Gs.words=this.words.slice(0),Gs},random:function(Gs){for(var zs=[],Vs=0;Vs<Gs;Vs+=4)zs.push(l());return new xi.init(zs,Gs)}}),Oi=T.enc={},Ts=Oi.Hex={stringify:function(Gs){for(var zs=Gs.words,Vs=Gs.sigBytes,Zs=[],Js=0;Js<Vs;Js++){var xo=zs[Js>>>2]>>>24-Js%4*8&255;Zs.push((xo>>>4).toString(16)),Zs.push((xo&15).toString(16))}return Zs.join("")},parse:function(Gs){for(var zs=Gs.length,Vs=[],Zs=0;Zs<zs;Zs+=2)Vs[Zs>>>3]|=parseInt(Gs.substr(Zs,2),16)<<24-Zs%8*4;return new xi.init(Vs,zs/2)}},Fs=Oi.Latin1={stringify:function(Gs){for(var zs=Gs.words,Vs=Gs.sigBytes,Zs=[],Js=0;Js<Vs;Js++){var xo=zs[Js>>>2]>>>24-Js%4*8&255;Zs.push(String.fromCharCode(xo))}return Zs.join("")},parse:function(Gs){for(var zs=Gs.length,Vs=[],Zs=0;Zs<zs;Zs++)Vs[Zs>>>2]|=(Gs.charCodeAt(Zs)&255)<<24-Zs%4*8;return new xi.init(Vs,zs)}},qs=Oi.Utf8={stringify:function(Gs){try{return decodeURIComponent(escape(Fs.stringify(Gs)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Gs){return Fs.parse(unescape(encodeURIComponent(Gs)))}},Us=q.BufferedBlockAlgorithm=et.extend({reset:function(){this._data=new xi.init,this._nDataBytes=0},_append:function(Gs){typeof Gs=="string"&&(Gs=qs.parse(Gs)),this._data.concat(Gs),this._nDataBytes+=Gs.sigBytes},_process:function(Gs){var zs,Vs=this._data,Zs=Vs.words,Js=Vs.sigBytes,xo=this.blockSize,Io=xo*4,Uo=Js/Io;Gs?Uo=n.ceil(Uo):Uo=n.max((Uo|0)-this._minBufferSize,0);var Fo=Uo*xo,Ys=n.min(Fo*4,Js);if(Fo){for(var Hs=0;Hs<Fo;Hs+=xo)this._doProcessBlock(Zs,Hs);zs=Zs.splice(0,Fo),Vs.sigBytes-=Ys}return new xi.init(zs,Ys)},clone:function(){var Gs=et.clone.call(this);return Gs._data=this._data.clone(),Gs},_minBufferSize:0});q.Hasher=Us.extend({cfg:et.extend(),init:function(Gs){this.cfg=this.cfg.extend(Gs),this.reset()},reset:function(){Us.reset.call(this),this._doReset()},update:function(Gs){return this._append(Gs),this._process(),this},finalize:function(Gs){Gs&&this._append(Gs);var zs=this._doFinalize();return zs},blockSize:16,_createHelper:function(Gs){return function(zs,Vs){return new Gs.init(Vs).finalize(zs)}},_createHmacHelper:function(Gs){return function(zs,Vs){return new Ls.HMAC.init(Gs,Vs).finalize(zs)}}});var Ls=T.algo={};return T}(Math);return i})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(n){var s=i,a=s.lib,l=a.Base,A=a.WordArray,T=s.x64={};T.Word=l.extend({init:function(q,et){this.high=q,this.low=et}}),T.WordArray=l.extend({init:function(q,et){q=this.words=q||[],et!=n?this.sigBytes=et:this.sigBytes=q.length*8},toX32:function(){for(var q=this.words,et=q.length,xi=[],Oi=0;Oi<et;Oi++){var Ts=q[Oi];xi.push(Ts.high),xi.push(Ts.low)}return A.create(xi,this.sigBytes)},clone:function(){for(var q=l.clone.call(this),et=q.words=this.words.slice(0),xi=et.length,Oi=0;Oi<xi;Oi++)et[Oi]=et[Oi].clone();return q}})}(),i})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(){if(typeof ArrayBuffer=="function"){var n=i,s=n.lib,a=s.WordArray,l=a.init,A=a.init=function(T){if(T instanceof ArrayBuffer&&(T=new Uint8Array(T)),(T instanceof Int8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)&&(T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength)),T instanceof Uint8Array){for(var q=T.byteLength,et=[],xi=0;xi<q;xi++)et[xi>>>2]|=T[xi]<<24-xi%4*8;l.call(this,et,q)}else l.apply(this,arguments)};A.prototype=a}}(),i.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.WordArray,l=n.enc;l.Utf16=l.Utf16BE={stringify:function(T){for(var q=T.words,et=T.sigBytes,xi=[],Oi=0;Oi<et;Oi+=2){var Ts=q[Oi>>>2]>>>16-Oi%4*8&65535;xi.push(String.fromCharCode(Ts))}return xi.join("")},parse:function(T){for(var q=T.length,et=[],xi=0;xi<q;xi++)et[xi>>>1]|=T.charCodeAt(xi)<<16-xi%2*16;return a.create(et,q*2)}},l.Utf16LE={stringify:function(T){for(var q=T.words,et=T.sigBytes,xi=[],Oi=0;Oi<et;Oi+=2){var Ts=A(q[Oi>>>2]>>>16-Oi%4*8&65535);xi.push(String.fromCharCode(Ts))}return xi.join("")},parse:function(T){for(var q=T.length,et=[],xi=0;xi<q;xi++)et[xi>>>1]|=A(T.charCodeAt(xi)<<16-xi%2*16);return a.create(et,q*2)}};function A(T){return T<<8&4278255360|T>>>8&16711935}}(),i.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.WordArray,l=n.enc;l.Base64={stringify:function(T){var q=T.words,et=T.sigBytes,xi=this._map;T.clamp();for(var Oi=[],Ts=0;Ts<et;Ts+=3)for(var Fs=q[Ts>>>2]>>>24-Ts%4*8&255,qs=q[Ts+1>>>2]>>>24-(Ts+1)%4*8&255,Us=q[Ts+2>>>2]>>>24-(Ts+2)%4*8&255,Ls=Fs<<16|qs<<8|Us,Gs=0;Gs<4&&Ts+Gs*.75<et;Gs++)Oi.push(xi.charAt(Ls>>>6*(3-Gs)&63));var zs=xi.charAt(64);if(zs)for(;Oi.length%4;)Oi.push(zs);return Oi.join("")},parse:function(T){var q=T.length,et=this._map,xi=this._reverseMap;if(!xi){xi=this._reverseMap=[];for(var Oi=0;Oi<et.length;Oi++)xi[et.charCodeAt(Oi)]=Oi}var Ts=et.charAt(64);if(Ts){var Fs=T.indexOf(Ts);Fs!==-1&&(q=Fs)}return A(T,q,xi)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function A(T,q,et){for(var xi=[],Oi=0,Ts=0;Ts<q;Ts++)if(Ts%4){var Fs=et[T.charCodeAt(Ts-1)]<<Ts%4*2,qs=et[T.charCodeAt(Ts)]>>>6-Ts%4*2,Us=Fs|qs;xi[Oi>>>2]|=Us<<24-Oi%4*8,Oi++}return a.create(xi,Oi)}}(),i.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.WordArray,l=n.enc;l.Base64url={stringify:function(T,q){q===void 0&&(q=!0);var et=T.words,xi=T.sigBytes,Oi=q?this._safe_map:this._map;T.clamp();for(var Ts=[],Fs=0;Fs<xi;Fs+=3)for(var qs=et[Fs>>>2]>>>24-Fs%4*8&255,Us=et[Fs+1>>>2]>>>24-(Fs+1)%4*8&255,Ls=et[Fs+2>>>2]>>>24-(Fs+2)%4*8&255,Gs=qs<<16|Us<<8|Ls,zs=0;zs<4&&Fs+zs*.75<xi;zs++)Ts.push(Oi.charAt(Gs>>>6*(3-zs)&63));var Vs=Oi.charAt(64);if(Vs)for(;Ts.length%4;)Ts.push(Vs);return Ts.join("")},parse:function(T,q){q===void 0&&(q=!0);var et=T.length,xi=q?this._safe_map:this._map,Oi=this._reverseMap;if(!Oi){Oi=this._reverseMap=[];for(var Ts=0;Ts<xi.length;Ts++)Oi[xi.charCodeAt(Ts)]=Ts}var Fs=xi.charAt(64);if(Fs){var qs=T.indexOf(Fs);qs!==-1&&(et=qs)}return A(T,et,Oi)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function A(T,q,et){for(var xi=[],Oi=0,Ts=0;Ts<q;Ts++)if(Ts%4){var Fs=et[T.charCodeAt(Ts-1)]<<Ts%4*2,qs=et[T.charCodeAt(Ts)]>>>6-Ts%4*2,Us=Fs|qs;xi[Oi>>>2]|=Us<<24-Oi%4*8,Oi++}return a.create(xi,Oi)}}(),i.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(n){var s=i,a=s.lib,l=a.WordArray,A=a.Hasher,T=s.algo,q=[];(function(){for(var qs=0;qs<64;qs++)q[qs]=n.abs(n.sin(qs+1))*4294967296|0})();var et=T.MD5=A.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(qs,Us){for(var Ls=0;Ls<16;Ls++){var Gs=Us+Ls,zs=qs[Gs];qs[Gs]=(zs<<8|zs>>>24)&16711935|(zs<<24|zs>>>8)&4278255360}var Vs=this._hash.words,Zs=qs[Us+0],Js=qs[Us+1],xo=qs[Us+2],Io=qs[Us+3],Uo=qs[Us+4],Fo=qs[Us+5],Ys=qs[Us+6],Hs=qs[Us+7],Ws=qs[Us+8],f=qs[Us+9],Y=qs[Us+10],nt=qs[Us+11],vs=qs[Us+12],ks=qs[Us+13],Ds=qs[Us+14],Bs=qs[Us+15],Ms=Vs[0],Q=Vs[1],$s=Vs[2],Ks=Vs[3];Ms=xi(Ms,Q,$s,Ks,Zs,7,q[0]),Ks=xi(Ks,Ms,Q,$s,Js,12,q[1]),$s=xi($s,Ks,Ms,Q,xo,17,q[2]),Q=xi(Q,$s,Ks,Ms,Io,22,q[3]),Ms=xi(Ms,Q,$s,Ks,Uo,7,q[4]),Ks=xi(Ks,Ms,Q,$s,Fo,12,q[5]),$s=xi($s,Ks,Ms,Q,Ys,17,q[6]),Q=xi(Q,$s,Ks,Ms,Hs,22,q[7]),Ms=xi(Ms,Q,$s,Ks,Ws,7,q[8]),Ks=xi(Ks,Ms,Q,$s,f,12,q[9]),$s=xi($s,Ks,Ms,Q,Y,17,q[10]),Q=xi(Q,$s,Ks,Ms,nt,22,q[11]),Ms=xi(Ms,Q,$s,Ks,vs,7,q[12]),Ks=xi(Ks,Ms,Q,$s,ks,12,q[13]),$s=xi($s,Ks,Ms,Q,Ds,17,q[14]),Q=xi(Q,$s,Ks,Ms,Bs,22,q[15]),Ms=Oi(Ms,Q,$s,Ks,Js,5,q[16]),Ks=Oi(Ks,Ms,Q,$s,Ys,9,q[17]),$s=Oi($s,Ks,Ms,Q,nt,14,q[18]),Q=Oi(Q,$s,Ks,Ms,Zs,20,q[19]),Ms=Oi(Ms,Q,$s,Ks,Fo,5,q[20]),Ks=Oi(Ks,Ms,Q,$s,Y,9,q[21]),$s=Oi($s,Ks,Ms,Q,Bs,14,q[22]),Q=Oi(Q,$s,Ks,Ms,Uo,20,q[23]),Ms=Oi(Ms,Q,$s,Ks,f,5,q[24]),Ks=Oi(Ks,Ms,Q,$s,Ds,9,q[25]),$s=Oi($s,Ks,Ms,Q,Io,14,q[26]),Q=Oi(Q,$s,Ks,Ms,Ws,20,q[27]),Ms=Oi(Ms,Q,$s,Ks,ks,5,q[28]),Ks=Oi(Ks,Ms,Q,$s,xo,9,q[29]),$s=Oi($s,Ks,Ms,Q,Hs,14,q[30]),Q=Oi(Q,$s,Ks,Ms,vs,20,q[31]),Ms=Ts(Ms,Q,$s,Ks,Fo,4,q[32]),Ks=Ts(Ks,Ms,Q,$s,Ws,11,q[33]),$s=Ts($s,Ks,Ms,Q,nt,16,q[34]),Q=Ts(Q,$s,Ks,Ms,Ds,23,q[35]),Ms=Ts(Ms,Q,$s,Ks,Js,4,q[36]),Ks=Ts(Ks,Ms,Q,$s,Uo,11,q[37]),$s=Ts($s,Ks,Ms,Q,Hs,16,q[38]),Q=Ts(Q,$s,Ks,Ms,Y,23,q[39]),Ms=Ts(Ms,Q,$s,Ks,ks,4,q[40]),Ks=Ts(Ks,Ms,Q,$s,Zs,11,q[41]),$s=Ts($s,Ks,Ms,Q,Io,16,q[42]),Q=Ts(Q,$s,Ks,Ms,Ys,23,q[43]),Ms=Ts(Ms,Q,$s,Ks,f,4,q[44]),Ks=Ts(Ks,Ms,Q,$s,vs,11,q[45]),$s=Ts($s,Ks,Ms,Q,Bs,16,q[46]),Q=Ts(Q,$s,Ks,Ms,xo,23,q[47]),Ms=Fs(Ms,Q,$s,Ks,Zs,6,q[48]),Ks=Fs(Ks,Ms,Q,$s,Hs,10,q[49]),$s=Fs($s,Ks,Ms,Q,Ds,15,q[50]),Q=Fs(Q,$s,Ks,Ms,Fo,21,q[51]),Ms=Fs(Ms,Q,$s,Ks,vs,6,q[52]),Ks=Fs(Ks,Ms,Q,$s,Io,10,q[53]),$s=Fs($s,Ks,Ms,Q,Y,15,q[54]),Q=Fs(Q,$s,Ks,Ms,Js,21,q[55]),Ms=Fs(Ms,Q,$s,Ks,Ws,6,q[56]),Ks=Fs(Ks,Ms,Q,$s,Bs,10,q[57]),$s=Fs($s,Ks,Ms,Q,Ys,15,q[58]),Q=Fs(Q,$s,Ks,Ms,ks,21,q[59]),Ms=Fs(Ms,Q,$s,Ks,Uo,6,q[60]),Ks=Fs(Ks,Ms,Q,$s,nt,10,q[61]),$s=Fs($s,Ks,Ms,Q,xo,15,q[62]),Q=Fs(Q,$s,Ks,Ms,f,21,q[63]),Vs[0]=Vs[0]+Ms|0,Vs[1]=Vs[1]+Q|0,Vs[2]=Vs[2]+$s|0,Vs[3]=Vs[3]+Ks|0},_doFinalize:function(){var qs=this._data,Us=qs.words,Ls=this._nDataBytes*8,Gs=qs.sigBytes*8;Us[Gs>>>5]|=128<<24-Gs%32;var zs=n.floor(Ls/4294967296),Vs=Ls;Us[(Gs+64>>>9<<4)+15]=(zs<<8|zs>>>24)&16711935|(zs<<24|zs>>>8)&4278255360,Us[(Gs+64>>>9<<4)+14]=(Vs<<8|Vs>>>24)&16711935|(Vs<<24|Vs>>>8)&4278255360,qs.sigBytes=(Us.length+1)*4,this._process();for(var Zs=this._hash,Js=Zs.words,xo=0;xo<4;xo++){var Io=Js[xo];Js[xo]=(Io<<8|Io>>>24)&16711935|(Io<<24|Io>>>8)&4278255360}return Zs},clone:function(){var qs=A.clone.call(this);return qs._hash=this._hash.clone(),qs}});function xi(qs,Us,Ls,Gs,zs,Vs,Zs){var Js=qs+(Us&Ls|~Us&Gs)+zs+Zs;return(Js<<Vs|Js>>>32-Vs)+Us}function Oi(qs,Us,Ls,Gs,zs,Vs,Zs){var Js=qs+(Us&Gs|Ls&~Gs)+zs+Zs;return(Js<<Vs|Js>>>32-Vs)+Us}function Ts(qs,Us,Ls,Gs,zs,Vs,Zs){var Js=qs+(Us^Ls^Gs)+zs+Zs;return(Js<<Vs|Js>>>32-Vs)+Us}function Fs(qs,Us,Ls,Gs,zs,Vs,Zs){var Js=qs+(Ls^(Us|~Gs))+zs+Zs;return(Js<<Vs|Js>>>32-Vs)+Us}s.MD5=A._createHelper(et),s.HmacMD5=A._createHmacHelper(et)}(Math),i.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.WordArray,l=s.Hasher,A=n.algo,T=[],q=A.SHA1=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(et,xi){for(var Oi=this._hash.words,Ts=Oi[0],Fs=Oi[1],qs=Oi[2],Us=Oi[3],Ls=Oi[4],Gs=0;Gs<80;Gs++){if(Gs<16)T[Gs]=et[xi+Gs]|0;else{var zs=T[Gs-3]^T[Gs-8]^T[Gs-14]^T[Gs-16];T[Gs]=zs<<1|zs>>>31}var Vs=(Ts<<5|Ts>>>27)+Ls+T[Gs];Gs<20?Vs+=(Fs&qs|~Fs&Us)+1518500249:Gs<40?Vs+=(Fs^qs^Us)+1859775393:Gs<60?Vs+=(Fs&qs|Fs&Us|qs&Us)-1894007588:Vs+=(Fs^qs^Us)-899497514,Ls=Us,Us=qs,qs=Fs<<30|Fs>>>2,Fs=Ts,Ts=Vs}Oi[0]=Oi[0]+Ts|0,Oi[1]=Oi[1]+Fs|0,Oi[2]=Oi[2]+qs|0,Oi[3]=Oi[3]+Us|0,Oi[4]=Oi[4]+Ls|0},_doFinalize:function(){var et=this._data,xi=et.words,Oi=this._nDataBytes*8,Ts=et.sigBytes*8;return xi[Ts>>>5]|=128<<24-Ts%32,xi[(Ts+64>>>9<<4)+14]=Math.floor(Oi/4294967296),xi[(Ts+64>>>9<<4)+15]=Oi,et.sigBytes=xi.length*4,this._process(),this._hash},clone:function(){var et=l.clone.call(this);return et._hash=this._hash.clone(),et}});n.SHA1=l._createHelper(q),n.HmacSHA1=l._createHmacHelper(q)}(),i.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){return function(n){var s=i,a=s.lib,l=a.WordArray,A=a.Hasher,T=s.algo,q=[],et=[];(function(){function Ts(Ls){for(var Gs=n.sqrt(Ls),zs=2;zs<=Gs;zs++)if(!(Ls%zs))return!1;return!0}function Fs(Ls){return(Ls-(Ls|0))*4294967296|0}for(var qs=2,Us=0;Us<64;)Ts(qs)&&(Us<8&&(q[Us]=Fs(n.pow(qs,1/2))),et[Us]=Fs(n.pow(qs,1/3)),Us++),qs++})();var xi=[],Oi=T.SHA256=A.extend({_doReset:function(){this._hash=new l.init(q.slice(0))},_doProcessBlock:function(Ts,Fs){for(var qs=this._hash.words,Us=qs[0],Ls=qs[1],Gs=qs[2],zs=qs[3],Vs=qs[4],Zs=qs[5],Js=qs[6],xo=qs[7],Io=0;Io<64;Io++){if(Io<16)xi[Io]=Ts[Fs+Io]|0;else{var Uo=xi[Io-15],Fo=(Uo<<25|Uo>>>7)^(Uo<<14|Uo>>>18)^Uo>>>3,Ys=xi[Io-2],Hs=(Ys<<15|Ys>>>17)^(Ys<<13|Ys>>>19)^Ys>>>10;xi[Io]=Fo+xi[Io-7]+Hs+xi[Io-16]}var Ws=Vs&Zs^~Vs&Js,f=Us&Ls^Us&Gs^Ls&Gs,Y=(Us<<30|Us>>>2)^(Us<<19|Us>>>13)^(Us<<10|Us>>>22),nt=(Vs<<26|Vs>>>6)^(Vs<<21|Vs>>>11)^(Vs<<7|Vs>>>25),vs=xo+nt+Ws+et[Io]+xi[Io],ks=Y+f;xo=Js,Js=Zs,Zs=Vs,Vs=zs+vs|0,zs=Gs,Gs=Ls,Ls=Us,Us=vs+ks|0}qs[0]=qs[0]+Us|0,qs[1]=qs[1]+Ls|0,qs[2]=qs[2]+Gs|0,qs[3]=qs[3]+zs|0,qs[4]=qs[4]+Vs|0,qs[5]=qs[5]+Zs|0,qs[6]=qs[6]+Js|0,qs[7]=qs[7]+xo|0},_doFinalize:function(){var Ts=this._data,Fs=Ts.words,qs=this._nDataBytes*8,Us=Ts.sigBytes*8;return Fs[Us>>>5]|=128<<24-Us%32,Fs[(Us+64>>>9<<4)+14]=n.floor(qs/4294967296),Fs[(Us+64>>>9<<4)+15]=qs,Ts.sigBytes=Fs.length*4,this._process(),this._hash},clone:function(){var Ts=A.clone.call(this);return Ts._hash=this._hash.clone(),Ts}});s.SHA256=A._createHelper(Oi),s.HmacSHA256=A._createHmacHelper(Oi)}(Math),i.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireSha256())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.WordArray,l=n.algo,A=l.SHA256,T=l.SHA224=A.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var q=A._doFinalize.call(this);return q.sigBytes-=4,q}});n.SHA224=A._createHelper(T),n.HmacSHA224=A._createHmacHelper(T)}(),i.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireX64Core())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.Hasher,l=n.x64,A=l.Word,T=l.WordArray,q=n.algo;function et(){return A.create.apply(A,arguments)}var xi=[et(1116352408,3609767458),et(1899447441,602891725),et(3049323471,3964484399),et(3921009573,2173295548),et(961987163,4081628472),et(1508970993,3053834265),et(2453635748,2937671579),et(2870763221,3664609560),et(3624381080,2734883394),et(310598401,1164996542),et(607225278,1323610764),et(1426881987,3590304994),et(1925078388,4068182383),et(2162078206,991336113),et(2614888103,633803317),et(3248222580,3479774868),et(3835390401,2666613458),et(4022224774,944711139),et(264347078,2341262773),et(604807628,2007800933),et(770255983,1495990901),et(1249150122,1856431235),et(1555081692,3175218132),et(1996064986,2198950837),et(2554220882,3999719339),et(2821834349,766784016),et(2952996808,2566594879),et(3210313671,3203337956),et(3336571891,1034457026),et(3584528711,2466948901),et(113926993,3758326383),et(338241895,168717936),et(666307205,1188179964),et(773529912,1546045734),et(1294757372,1522805485),et(1396182291,2643833823),et(1695183700,2343527390),et(1986661051,1014477480),et(2177026350,1206759142),et(2456956037,344077627),et(2730485921,1290863460),et(2820302411,3158454273),et(3259730800,3505952657),et(3345764771,106217008),et(3516065817,3606008344),et(3600352804,1432725776),et(4094571909,1467031594),et(275423344,851169720),et(430227734,3100823752),et(506948616,1363258195),et(659060556,3750685593),et(883997877,3785050280),et(958139571,3318307427),et(1322822218,3812723403),et(1537002063,2003034995),et(1747873779,3602036899),et(1955562222,1575990012),et(2024104815,1125592928),et(2227730452,2716904306),et(2361852424,442776044),et(2428436474,593698344),et(2756734187,3733110249),et(3204031479,2999351573),et(3329325298,3815920427),et(3391569614,3928383900),et(3515267271,566280711),et(3940187606,3454069534),et(4118630271,4000239992),et(116418474,1914138554),et(174292421,2731055270),et(289380356,3203993006),et(460393269,320620315),et(685471733,587496836),et(852142971,1086792851),et(1017036298,365543100),et(1126000580,2618297676),et(1288033470,3409855158),et(1501505948,4234509866),et(1607167915,987167468),et(1816402316,1246189591)],Oi=[];(function(){for(var Fs=0;Fs<80;Fs++)Oi[Fs]=et()})();var Ts=q.SHA512=a.extend({_doReset:function(){this._hash=new T.init([new A.init(1779033703,4089235720),new A.init(3144134277,2227873595),new A.init(1013904242,4271175723),new A.init(2773480762,1595750129),new A.init(1359893119,2917565137),new A.init(2600822924,725511199),new A.init(528734635,4215389547),new A.init(1541459225,327033209)])},_doProcessBlock:function(Fs,qs){for(var Us=this._hash.words,Ls=Us[0],Gs=Us[1],zs=Us[2],Vs=Us[3],Zs=Us[4],Js=Us[5],xo=Us[6],Io=Us[7],Uo=Ls.high,Fo=Ls.low,Ys=Gs.high,Hs=Gs.low,Ws=zs.high,f=zs.low,Y=Vs.high,nt=Vs.low,vs=Zs.high,ks=Zs.low,Ds=Js.high,Bs=Js.low,Ms=xo.high,Q=xo.low,$s=Io.high,Ks=Io.low,jo=Uo,Bo=Fo,To=Ys,Oo=Hs,Vo=Ws,zo=f,so=Y,Qs=nt,sa=vs,Zo=ks,Qo=Ds,la=Bs,Ko=Ms,Jo=Q,aa=$s,oa=Ks,ua=0;ua<80;ua++){var Ma,da,fa=Oi[ua];if(ua<16)da=fa.high=Fs[qs+ua*2]|0,Ma=fa.low=Fs[qs+ua*2+1]|0;else{var La=Oi[ua-15],ga=La.high,ha=La.low,Ga=(ga>>>1|ha<<31)^(ga>>>8|ha<<24)^ga>>>7,Aa=(ha>>>1|ga<<31)^(ha>>>8|ga<<24)^(ha>>>7|ga<<25),_a=Oi[ua-2],Za=_a.high,Ta=_a.low,ma=(Za>>>19|Ta<<13)^(Za<<3|Ta>>>29)^Za>>>6,Xa=(Ta>>>19|Za<<13)^(Ta<<3|Za>>>29)^(Ta>>>6|Za<<26),ka=Oi[ua-7],pa=ka.high,za=ka.low,Ba=Oi[ua-16],wa=Ba.high,Ja=Ba.low;Ma=Aa+za,da=Ga+pa+(Ma>>>0<Aa>>>0?1:0),Ma=Ma+Xa,da=da+ma+(Ma>>>0<Xa>>>0?1:0),Ma=Ma+Ja,da=da+wa+(Ma>>>0<Ja>>>0?1:0),fa.high=da,fa.low=Ma}var Oa=sa&Qo^~sa&Ko,ba=Zo&la^~Zo&Jo,eu=jo&To^jo&Vo^To&Vo,Ia=Bo&Oo^Bo&zo^Oo&zo,xa=(jo>>>28|Bo<<4)^(jo<<30|Bo>>>2)^(jo<<25|Bo>>>7),Ya=(Bo>>>28|jo<<4)^(Bo<<30|jo>>>2)^(Bo<<25|jo>>>7),Pa=(sa>>>14|Zo<<18)^(sa>>>18|Zo<<14)^(sa<<23|Zo>>>9),$a=(Zo>>>14|sa<<18)^(Zo>>>18|sa<<14)^(Zo<<23|sa>>>9),Qa=xi[ua],Da=Qa.high,va=Qa.low,Ka=oa+$a,Ra=aa+Pa+(Ka>>>0<oa>>>0?1:0),Ka=Ka+ba,Ra=Ra+Oa+(Ka>>>0<ba>>>0?1:0),Ka=Ka+va,Ra=Ra+Da+(Ka>>>0<va>>>0?1:0),Ka=Ka+Ma,Ra=Ra+da+(Ka>>>0<Ma>>>0?1:0),ya=Ya+Ia,tu=xa+eu+(ya>>>0<Ya>>>0?1:0);aa=Ko,oa=Jo,Ko=Qo,Jo=la,Qo=sa,la=Zo,Zo=Qs+Ka|0,sa=so+Ra+(Zo>>>0<Qs>>>0?1:0)|0,so=Vo,Qs=zo,Vo=To,zo=Oo,To=jo,Oo=Bo,Bo=Ka+ya|0,jo=Ra+tu+(Bo>>>0<Ka>>>0?1:0)|0}Fo=Ls.low=Fo+Bo,Ls.high=Uo+jo+(Fo>>>0<Bo>>>0?1:0),Hs=Gs.low=Hs+Oo,Gs.high=Ys+To+(Hs>>>0<Oo>>>0?1:0),f=zs.low=f+zo,zs.high=Ws+Vo+(f>>>0<zo>>>0?1:0),nt=Vs.low=nt+Qs,Vs.high=Y+so+(nt>>>0<Qs>>>0?1:0),ks=Zs.low=ks+Zo,Zs.high=vs+sa+(ks>>>0<Zo>>>0?1:0),Bs=Js.low=Bs+la,Js.high=Ds+Qo+(Bs>>>0<la>>>0?1:0),Q=xo.low=Q+Jo,xo.high=Ms+Ko+(Q>>>0<Jo>>>0?1:0),Ks=Io.low=Ks+oa,Io.high=$s+aa+(Ks>>>0<oa>>>0?1:0)},_doFinalize:function(){var Fs=this._data,qs=Fs.words,Us=this._nDataBytes*8,Ls=Fs.sigBytes*8;qs[Ls>>>5]|=128<<24-Ls%32,qs[(Ls+128>>>10<<5)+30]=Math.floor(Us/4294967296),qs[(Ls+128>>>10<<5)+31]=Us,Fs.sigBytes=qs.length*4,this._process();var Gs=this._hash.toX32();return Gs},clone:function(){var Fs=a.clone.call(this);return Fs._hash=this._hash.clone(),Fs},blockSize:1024/32});n.SHA512=a._createHelper(Ts),n.HmacSHA512=a._createHmacHelper(Ts)}(),i.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.x64,a=s.Word,l=s.WordArray,A=n.algo,T=A.SHA512,q=A.SHA384=T.extend({_doReset:function(){this._hash=new l.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var et=T._doFinalize.call(this);return et.sigBytes-=16,et}});n.SHA384=T._createHelper(q),n.HmacSHA384=T._createHmacHelper(q)}(),i.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireX64Core())})(commonjsGlobal$1,function(i){return function(n){var s=i,a=s.lib,l=a.WordArray,A=a.Hasher,T=s.x64,q=T.Word,et=s.algo,xi=[],Oi=[],Ts=[];(function(){for(var Us=1,Ls=0,Gs=0;Gs<24;Gs++){xi[Us+5*Ls]=(Gs+1)*(Gs+2)/2%64;var zs=Ls%5,Vs=(2*Us+3*Ls)%5;Us=zs,Ls=Vs}for(var Us=0;Us<5;Us++)for(var Ls=0;Ls<5;Ls++)Oi[Us+5*Ls]=Ls+(2*Us+3*Ls)%5*5;for(var Zs=1,Js=0;Js<24;Js++){for(var xo=0,Io=0,Uo=0;Uo<7;Uo++){if(Zs&1){var Fo=(1<<Uo)-1;Fo<32?Io^=1<<Fo:xo^=1<<Fo-32}Zs&128?Zs=Zs<<1^113:Zs<<=1}Ts[Js]=q.create(xo,Io)}})();var Fs=[];(function(){for(var Us=0;Us<25;Us++)Fs[Us]=q.create()})();var qs=et.SHA3=A.extend({cfg:A.cfg.extend({outputLength:512}),_doReset:function(){for(var Us=this._state=[],Ls=0;Ls<25;Ls++)Us[Ls]=new q.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Us,Ls){for(var Gs=this._state,zs=this.blockSize/2,Vs=0;Vs<zs;Vs++){var Zs=Us[Ls+2*Vs],Js=Us[Ls+2*Vs+1];Zs=(Zs<<8|Zs>>>24)&16711935|(Zs<<24|Zs>>>8)&4278255360,Js=(Js<<8|Js>>>24)&16711935|(Js<<24|Js>>>8)&4278255360;var xo=Gs[Vs];xo.high^=Js,xo.low^=Zs}for(var Io=0;Io<24;Io++){for(var Uo=0;Uo<5;Uo++){for(var Fo=0,Ys=0,Hs=0;Hs<5;Hs++){var xo=Gs[Uo+5*Hs];Fo^=xo.high,Ys^=xo.low}var Ws=Fs[Uo];Ws.high=Fo,Ws.low=Ys}for(var Uo=0;Uo<5;Uo++)for(var f=Fs[(Uo+4)%5],Y=Fs[(Uo+1)%5],nt=Y.high,vs=Y.low,Fo=f.high^(nt<<1|vs>>>31),Ys=f.low^(vs<<1|nt>>>31),Hs=0;Hs<5;Hs++){var xo=Gs[Uo+5*Hs];xo.high^=Fo,xo.low^=Ys}for(var ks=1;ks<25;ks++){var Fo,Ys,xo=Gs[ks],Ds=xo.high,Bs=xo.low,Ms=xi[ks];Ms<32?(Fo=Ds<<Ms|Bs>>>32-Ms,Ys=Bs<<Ms|Ds>>>32-Ms):(Fo=Bs<<Ms-32|Ds>>>64-Ms,Ys=Ds<<Ms-32|Bs>>>64-Ms);var Q=Fs[Oi[ks]];Q.high=Fo,Q.low=Ys}var $s=Fs[0],Ks=Gs[0];$s.high=Ks.high,$s.low=Ks.low;for(var Uo=0;Uo<5;Uo++)for(var Hs=0;Hs<5;Hs++){var ks=Uo+5*Hs,xo=Gs[ks],jo=Fs[ks],Bo=Fs[(Uo+1)%5+5*Hs],To=Fs[(Uo+2)%5+5*Hs];xo.high=jo.high^~Bo.high&To.high,xo.low=jo.low^~Bo.low&To.low}var xo=Gs[0],Oo=Ts[Io];xo.high^=Oo.high,xo.low^=Oo.low}},_doFinalize:function(){var Us=this._data,Ls=Us.words;this._nDataBytes*8;var Gs=Us.sigBytes*8,zs=this.blockSize*32;Ls[Gs>>>5]|=1<<24-Gs%32,Ls[(n.ceil((Gs+1)/zs)*zs>>>5)-1]|=128,Us.sigBytes=Ls.length*4,this._process();for(var Vs=this._state,Zs=this.cfg.outputLength/8,Js=Zs/8,xo=[],Io=0;Io<Js;Io++){var Uo=Vs[Io],Fo=Uo.high,Ys=Uo.low;Fo=(Fo<<8|Fo>>>24)&16711935|(Fo<<24|Fo>>>8)&4278255360,Ys=(Ys<<8|Ys>>>24)&16711935|(Ys<<24|Ys>>>8)&4278255360,xo.push(Ys),xo.push(Fo)}return new l.init(xo,Zs)},clone:function(){for(var Us=A.clone.call(this),Ls=Us._state=this._state.slice(0),Gs=0;Gs<25;Gs++)Ls[Gs]=Ls[Gs].clone();return Us}});s.SHA3=A._createHelper(qs),s.HmacSHA3=A._createHmacHelper(qs)}(Math),i.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var s=i,a=s.lib,l=a.WordArray,A=a.Hasher,T=s.algo,q=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),et=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),xi=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Oi=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ts=l.create([0,1518500249,1859775393,2400959708,2840853838]),Fs=l.create([1352829926,1548603684,1836072691,2053994217,0]),qs=T.RIPEMD160=A.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Js,xo){for(var Io=0;Io<16;Io++){var Uo=xo+Io,Fo=Js[Uo];Js[Uo]=(Fo<<8|Fo>>>24)&16711935|(Fo<<24|Fo>>>8)&4278255360}var Ys=this._hash.words,Hs=Ts.words,Ws=Fs.words,f=q.words,Y=et.words,nt=xi.words,vs=Oi.words,ks,Ds,Bs,Ms,Q,$s,Ks,jo,Bo,To;$s=ks=Ys[0],Ks=Ds=Ys[1],jo=Bs=Ys[2],Bo=Ms=Ys[3],To=Q=Ys[4];for(var Oo,Io=0;Io<80;Io+=1)Oo=ks+Js[xo+f[Io]]|0,Io<16?Oo+=Us(Ds,Bs,Ms)+Hs[0]:Io<32?Oo+=Ls(Ds,Bs,Ms)+Hs[1]:Io<48?Oo+=Gs(Ds,Bs,Ms)+Hs[2]:Io<64?Oo+=zs(Ds,Bs,Ms)+Hs[3]:Oo+=Vs(Ds,Bs,Ms)+Hs[4],Oo=Oo|0,Oo=Zs(Oo,nt[Io]),Oo=Oo+Q|0,ks=Q,Q=Ms,Ms=Zs(Bs,10),Bs=Ds,Ds=Oo,Oo=$s+Js[xo+Y[Io]]|0,Io<16?Oo+=Vs(Ks,jo,Bo)+Ws[0]:Io<32?Oo+=zs(Ks,jo,Bo)+Ws[1]:Io<48?Oo+=Gs(Ks,jo,Bo)+Ws[2]:Io<64?Oo+=Ls(Ks,jo,Bo)+Ws[3]:Oo+=Us(Ks,jo,Bo)+Ws[4],Oo=Oo|0,Oo=Zs(Oo,vs[Io]),Oo=Oo+To|0,$s=To,To=Bo,Bo=Zs(jo,10),jo=Ks,Ks=Oo;Oo=Ys[1]+Bs+Bo|0,Ys[1]=Ys[2]+Ms+To|0,Ys[2]=Ys[3]+Q+$s|0,Ys[3]=Ys[4]+ks+Ks|0,Ys[4]=Ys[0]+Ds+jo|0,Ys[0]=Oo},_doFinalize:function(){var Js=this._data,xo=Js.words,Io=this._nDataBytes*8,Uo=Js.sigBytes*8;xo[Uo>>>5]|=128<<24-Uo%32,xo[(Uo+64>>>9<<4)+14]=(Io<<8|Io>>>24)&16711935|(Io<<24|Io>>>8)&4278255360,Js.sigBytes=(xo.length+1)*4,this._process();for(var Fo=this._hash,Ys=Fo.words,Hs=0;Hs<5;Hs++){var Ws=Ys[Hs];Ys[Hs]=(Ws<<8|Ws>>>24)&16711935|(Ws<<24|Ws>>>8)&4278255360}return Fo},clone:function(){var Js=A.clone.call(this);return Js._hash=this._hash.clone(),Js}});function Us(Js,xo,Io){return Js^xo^Io}function Ls(Js,xo,Io){return Js&xo|~Js&Io}function Gs(Js,xo,Io){return(Js|~xo)^Io}function zs(Js,xo,Io){return Js&Io|xo&~Io}function Vs(Js,xo,Io){return Js^(xo|~Io)}function Zs(Js,xo){return Js<<xo|Js>>>32-xo}s.RIPEMD160=A._createHelper(qs),s.HmacRIPEMD160=A._createHmacHelper(qs)}(),i.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(t,e){(function(i,n){t.exports=n(requireCore())})(commonjsGlobal$1,function(i){(function(){var n=i,s=n.lib,a=s.Base,l=n.enc,A=l.Utf8,T=n.algo;T.HMAC=a.extend({init:function(q,et){q=this._hasher=new q.init,typeof et=="string"&&(et=A.parse(et));var xi=q.blockSize,Oi=xi*4;et.sigBytes>Oi&&(et=q.finalize(et)),et.clamp();for(var Ts=this._oKey=et.clone(),Fs=this._iKey=et.clone(),qs=Ts.words,Us=Fs.words,Ls=0;Ls<xi;Ls++)qs[Ls]^=1549556828,Us[Ls]^=909522486;Ts.sigBytes=Fs.sigBytes=Oi,this.reset()},reset:function(){var q=this._hasher;q.reset(),q.update(this._iKey)},update:function(q){return this._hasher.update(q),this},finalize:function(q){var et=this._hasher,xi=et.finalize(q);et.reset();var Oi=et.finalize(this._oKey.clone().concat(xi));return Oi}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.Base,l=s.WordArray,A=n.algo,T=A.SHA256,q=A.HMAC,et=A.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:T,iterations:25e4}),init:function(xi){this.cfg=this.cfg.extend(xi)},compute:function(xi,Oi){for(var Ts=this.cfg,Fs=q.create(Ts.hasher,xi),qs=l.create(),Us=l.create([1]),Ls=qs.words,Gs=Us.words,zs=Ts.keySize,Vs=Ts.iterations;Ls.length<zs;){var Zs=Fs.update(Oi).finalize(Us);Fs.reset();for(var Js=Zs.words,xo=Js.length,Io=Zs,Uo=1;Uo<Vs;Uo++){Io=Fs.finalize(Io),Fs.reset();for(var Fo=Io.words,Ys=0;Ys<xo;Ys++)Js[Ys]^=Fo[Ys]}qs.concat(Zs),Gs[0]++}return qs.sigBytes=zs*4,qs}});n.PBKDF2=function(xi,Oi,Ts){return et.create(Ts).compute(xi,Oi)}}(),i.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.Base,l=s.WordArray,A=n.algo,T=A.MD5,q=A.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:T,iterations:1}),init:function(et){this.cfg=this.cfg.extend(et)},compute:function(et,xi){for(var Oi,Ts=this.cfg,Fs=Ts.hasher.create(),qs=l.create(),Us=qs.words,Ls=Ts.keySize,Gs=Ts.iterations;Us.length<Ls;){Oi&&Fs.update(Oi),Oi=Fs.update(et).finalize(xi),Fs.reset();for(var zs=1;zs<Gs;zs++)Oi=Fs.finalize(Oi),Fs.reset();qs.concat(Oi)}return qs.sigBytes=Ls*4,qs}});n.EvpKDF=function(et,xi,Oi){return q.create(Oi).compute(et,xi)}}(),i.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(i){i.lib.Cipher||function(n){var s=i,a=s.lib,l=a.Base,A=a.WordArray,T=a.BufferedBlockAlgorithm,q=s.enc;q.Utf8;var et=q.Base64,xi=s.algo,Oi=xi.EvpKDF,Ts=a.Cipher=T.extend({cfg:l.extend(),createEncryptor:function(Fo,Ys){return this.create(this._ENC_XFORM_MODE,Fo,Ys)},createDecryptor:function(Fo,Ys){return this.create(this._DEC_XFORM_MODE,Fo,Ys)},init:function(Fo,Ys,Hs){this.cfg=this.cfg.extend(Hs),this._xformMode=Fo,this._key=Ys,this.reset()},reset:function(){T.reset.call(this),this._doReset()},process:function(Fo){return this._append(Fo),this._process()},finalize:function(Fo){Fo&&this._append(Fo);var Ys=this._doFinalize();return Ys},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Fo(Ys){return typeof Ys=="string"?Uo:Js}return function(Ys){return{encrypt:function(Hs,Ws,f){return Fo(Ws).encrypt(Ys,Hs,Ws,f)},decrypt:function(Hs,Ws,f){return Fo(Ws).decrypt(Ys,Hs,Ws,f)}}}}()});a.StreamCipher=Ts.extend({_doFinalize:function(){var Fo=this._process(!0);return Fo},blockSize:1});var Fs=s.mode={},qs=a.BlockCipherMode=l.extend({createEncryptor:function(Fo,Ys){return this.Encryptor.create(Fo,Ys)},createDecryptor:function(Fo,Ys){return this.Decryptor.create(Fo,Ys)},init:function(Fo,Ys){this._cipher=Fo,this._iv=Ys}}),Us=Fs.CBC=function(){var Fo=qs.extend();Fo.Encryptor=Fo.extend({processBlock:function(Hs,Ws){var f=this._cipher,Y=f.blockSize;Ys.call(this,Hs,Ws,Y),f.encryptBlock(Hs,Ws),this._prevBlock=Hs.slice(Ws,Ws+Y)}}),Fo.Decryptor=Fo.extend({processBlock:function(Hs,Ws){var f=this._cipher,Y=f.blockSize,nt=Hs.slice(Ws,Ws+Y);f.decryptBlock(Hs,Ws),Ys.call(this,Hs,Ws,Y),this._prevBlock=nt}});function Ys(Hs,Ws,f){var Y,nt=this._iv;nt?(Y=nt,this._iv=n):Y=this._prevBlock;for(var vs=0;vs<f;vs++)Hs[Ws+vs]^=Y[vs]}return Fo}(),Ls=s.pad={},Gs=Ls.Pkcs7={pad:function(Fo,Ys){for(var Hs=Ys*4,Ws=Hs-Fo.sigBytes%Hs,f=Ws<<24|Ws<<16|Ws<<8|Ws,Y=[],nt=0;nt<Ws;nt+=4)Y.push(f);var vs=A.create(Y,Ws);Fo.concat(vs)},unpad:function(Fo){var Ys=Fo.words[Fo.sigBytes-1>>>2]&255;Fo.sigBytes-=Ys}};a.BlockCipher=Ts.extend({cfg:Ts.cfg.extend({mode:Us,padding:Gs}),reset:function(){var Fo;Ts.reset.call(this);var Ys=this.cfg,Hs=Ys.iv,Ws=Ys.mode;this._xformMode==this._ENC_XFORM_MODE?Fo=Ws.createEncryptor:(Fo=Ws.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Fo?this._mode.init(this,Hs&&Hs.words):(this._mode=Fo.call(Ws,this,Hs&&Hs.words),this._mode.__creator=Fo)},_doProcessBlock:function(Fo,Ys){this._mode.processBlock(Fo,Ys)},_doFinalize:function(){var Fo,Ys=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Ys.pad(this._data,this.blockSize),Fo=this._process(!0)):(Fo=this._process(!0),Ys.unpad(Fo)),Fo},blockSize:128/32});var zs=a.CipherParams=l.extend({init:function(Fo){this.mixIn(Fo)},toString:function(Fo){return(Fo||this.formatter).stringify(this)}}),Vs=s.format={},Zs=Vs.OpenSSL={stringify:function(Fo){var Ys,Hs=Fo.ciphertext,Ws=Fo.salt;return Ws?Ys=A.create([1398893684,1701076831]).concat(Ws).concat(Hs):Ys=Hs,Ys.toString(et)},parse:function(Fo){var Ys,Hs=et.parse(Fo),Ws=Hs.words;return Ws[0]==1398893684&&Ws[1]==1701076831&&(Ys=A.create(Ws.slice(2,4)),Ws.splice(0,4),Hs.sigBytes-=16),zs.create({ciphertext:Hs,salt:Ys})}},Js=a.SerializableCipher=l.extend({cfg:l.extend({format:Zs}),encrypt:function(Fo,Ys,Hs,Ws){Ws=this.cfg.extend(Ws);var f=Fo.createEncryptor(Hs,Ws),Y=f.finalize(Ys),nt=f.cfg;return zs.create({ciphertext:Y,key:Hs,iv:nt.iv,algorithm:Fo,mode:nt.mode,padding:nt.padding,blockSize:Fo.blockSize,formatter:Ws.format})},decrypt:function(Fo,Ys,Hs,Ws){Ws=this.cfg.extend(Ws),Ys=this._parse(Ys,Ws.format);var f=Fo.createDecryptor(Hs,Ws).finalize(Ys.ciphertext);return f},_parse:function(Fo,Ys){return typeof Fo=="string"?Ys.parse(Fo,this):Fo}}),xo=s.kdf={},Io=xo.OpenSSL={execute:function(Fo,Ys,Hs,Ws,f){if(Ws||(Ws=A.random(64/8)),f)var Y=Oi.create({keySize:Ys+Hs,hasher:f}).compute(Fo,Ws);else var Y=Oi.create({keySize:Ys+Hs}).compute(Fo,Ws);var nt=A.create(Y.words.slice(Ys),Hs*4);return Y.sigBytes=Ys*4,zs.create({key:Y,iv:nt,salt:Ws})}},Uo=a.PasswordBasedCipher=Js.extend({cfg:Js.cfg.extend({kdf:Io}),encrypt:function(Fo,Ys,Hs,Ws){Ws=this.cfg.extend(Ws);var f=Ws.kdf.execute(Hs,Fo.keySize,Fo.ivSize,Ws.salt,Ws.hasher);Ws.iv=f.iv;var Y=Js.encrypt.call(this,Fo,Ys,f.key,Ws);return Y.mixIn(f),Y},decrypt:function(Fo,Ys,Hs,Ws){Ws=this.cfg.extend(Ws),Ys=this._parse(Ys,Ws.format);var f=Ws.kdf.execute(Hs,Fo.keySize,Fo.ivSize,Ys.salt,Ws.hasher);Ws.iv=f.iv;var Y=Js.decrypt.call(this,Fo,Ys,f.key,Ws);return Y}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.mode.CFB=function(){var n=i.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,l){var A=this._cipher,T=A.blockSize;s.call(this,a,l,T,A),this._prevBlock=a.slice(l,l+T)}}),n.Decryptor=n.extend({processBlock:function(a,l){var A=this._cipher,T=A.blockSize,q=a.slice(l,l+T);s.call(this,a,l,T,A),this._prevBlock=q}});function s(a,l,A,T){var q,et=this._iv;et?(q=et.slice(0),this._iv=void 0):q=this._prevBlock,T.encryptBlock(q,0);for(var xi=0;xi<A;xi++)a[l+xi]^=q[xi]}return n}(),i.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.mode.CTR=function(){var n=i.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(a,l){var A=this._cipher,T=A.blockSize,q=this._iv,et=this._counter;q&&(et=this._counter=q.slice(0),this._iv=void 0);var xi=et.slice(0);A.encryptBlock(xi,0),et[T-1]=et[T-1]+1|0;for(var Oi=0;Oi<T;Oi++)a[l+Oi]^=xi[Oi]}});return n.Decryptor=s,n}(),i.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=function(){var n=i.lib.BlockCipherMode.extend();function s(A){if((A>>24&255)===255){var T=A>>16&255,q=A>>8&255,et=A&255;T===255?(T=0,q===255?(q=0,et===255?et=0:++et):++q):++T,A=0,A+=T<<16,A+=q<<8,A+=et}else A+=1<<24;return A}function a(A){return(A[0]=s(A[0]))===0&&(A[1]=s(A[1])),A}var l=n.Encryptor=n.extend({processBlock:function(A,T){var q=this._cipher,et=q.blockSize,xi=this._iv,Oi=this._counter;xi&&(Oi=this._counter=xi.slice(0),this._iv=void 0),a(Oi);var Ts=Oi.slice(0);q.encryptBlock(Ts,0);for(var Fs=0;Fs<et;Fs++)A[T+Fs]^=Ts[Fs]}});return n.Decryptor=l,n}(),i.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.mode.OFB=function(){var n=i.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(a,l){var A=this._cipher,T=A.blockSize,q=this._iv,et=this._keystream;q&&(et=this._keystream=q.slice(0),this._iv=void 0),A.encryptBlock(et,0);for(var xi=0;xi<T;xi++)a[l+xi]^=et[xi]}});return n.Decryptor=s,n}(),i.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.mode.ECB=function(){var n=i.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(s,a){this._cipher.encryptBlock(s,a)}}),n.Decryptor=n.extend({processBlock:function(s,a){this._cipher.decryptBlock(s,a)}}),n}(),i.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.pad.AnsiX923={pad:function(n,s){var a=n.sigBytes,l=s*4,A=l-a%l,T=a+A-1;n.clamp(),n.words[T>>>2]|=A<<24-T%4*8,n.sigBytes+=A},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},i.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.pad.Iso10126={pad:function(n,s){var a=s*4,l=a-n.sigBytes%a;n.concat(i.lib.WordArray.random(l-1)).concat(i.lib.WordArray.create([l<<24],1))},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},i.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.pad.Iso97971={pad:function(n,s){n.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(n,s)},unpad:function(n){i.pad.ZeroPadding.unpad(n),n.sigBytes--}},i.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.pad.ZeroPadding={pad:function(n,s){var a=s*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var s=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(s[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},i.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(i){return function(n){var s=i,a=s.lib,l=a.CipherParams,A=s.enc,T=A.Hex,q=s.format;q.Hex={stringify:function(et){return et.ciphertext.toString(T)},parse:function(et){var xi=T.parse(et);return l.create({ciphertext:xi})}}}(),i.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.BlockCipher,l=n.algo,A=[],T=[],q=[],et=[],xi=[],Oi=[],Ts=[],Fs=[],qs=[],Us=[];(function(){for(var zs=[],Vs=0;Vs<256;Vs++)Vs<128?zs[Vs]=Vs<<1:zs[Vs]=Vs<<1^283;for(var Zs=0,Js=0,Vs=0;Vs<256;Vs++){var xo=Js^Js<<1^Js<<2^Js<<3^Js<<4;xo=xo>>>8^xo&255^99,A[Zs]=xo,T[xo]=Zs;var Io=zs[Zs],Uo=zs[Io],Fo=zs[Uo],Ys=zs[xo]*257^xo*16843008;q[Zs]=Ys<<24|Ys>>>8,et[Zs]=Ys<<16|Ys>>>16,xi[Zs]=Ys<<8|Ys>>>24,Oi[Zs]=Ys;var Ys=Fo*16843009^Uo*65537^Io*257^Zs*16843008;Ts[xo]=Ys<<24|Ys>>>8,Fs[xo]=Ys<<16|Ys>>>16,qs[xo]=Ys<<8|Ys>>>24,Us[xo]=Ys,Zs?(Zs=Io^zs[zs[zs[Fo^Io]]],Js^=zs[zs[Js]]):Zs=Js=1}})();var Ls=[0,1,2,4,8,16,32,64,128,27,54],Gs=l.AES=a.extend({_doReset:function(){var zs;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Vs=this._keyPriorReset=this._key,Zs=Vs.words,Js=Vs.sigBytes/4,xo=this._nRounds=Js+6,Io=(xo+1)*4,Uo=this._keySchedule=[],Fo=0;Fo<Io;Fo++)Fo<Js?Uo[Fo]=Zs[Fo]:(zs=Uo[Fo-1],Fo%Js?Js>6&&Fo%Js==4&&(zs=A[zs>>>24]<<24|A[zs>>>16&255]<<16|A[zs>>>8&255]<<8|A[zs&255]):(zs=zs<<8|zs>>>24,zs=A[zs>>>24]<<24|A[zs>>>16&255]<<16|A[zs>>>8&255]<<8|A[zs&255],zs^=Ls[Fo/Js|0]<<24),Uo[Fo]=Uo[Fo-Js]^zs);for(var Ys=this._invKeySchedule=[],Hs=0;Hs<Io;Hs++){var Fo=Io-Hs;if(Hs%4)var zs=Uo[Fo];else var zs=Uo[Fo-4];Hs<4||Fo<=4?Ys[Hs]=zs:Ys[Hs]=Ts[A[zs>>>24]]^Fs[A[zs>>>16&255]]^qs[A[zs>>>8&255]]^Us[A[zs&255]]}}},encryptBlock:function(zs,Vs){this._doCryptBlock(zs,Vs,this._keySchedule,q,et,xi,Oi,A)},decryptBlock:function(zs,Vs){var Zs=zs[Vs+1];zs[Vs+1]=zs[Vs+3],zs[Vs+3]=Zs,this._doCryptBlock(zs,Vs,this._invKeySchedule,Ts,Fs,qs,Us,T);var Zs=zs[Vs+1];zs[Vs+1]=zs[Vs+3],zs[Vs+3]=Zs},_doCryptBlock:function(zs,Vs,Zs,Js,xo,Io,Uo,Fo){for(var Ys=this._nRounds,Hs=zs[Vs]^Zs[0],Ws=zs[Vs+1]^Zs[1],f=zs[Vs+2]^Zs[2],Y=zs[Vs+3]^Zs[3],nt=4,vs=1;vs<Ys;vs++){var ks=Js[Hs>>>24]^xo[Ws>>>16&255]^Io[f>>>8&255]^Uo[Y&255]^Zs[nt++],Ds=Js[Ws>>>24]^xo[f>>>16&255]^Io[Y>>>8&255]^Uo[Hs&255]^Zs[nt++],Bs=Js[f>>>24]^xo[Y>>>16&255]^Io[Hs>>>8&255]^Uo[Ws&255]^Zs[nt++],Ms=Js[Y>>>24]^xo[Hs>>>16&255]^Io[Ws>>>8&255]^Uo[f&255]^Zs[nt++];Hs=ks,Ws=Ds,f=Bs,Y=Ms}var ks=(Fo[Hs>>>24]<<24|Fo[Ws>>>16&255]<<16|Fo[f>>>8&255]<<8|Fo[Y&255])^Zs[nt++],Ds=(Fo[Ws>>>24]<<24|Fo[f>>>16&255]<<16|Fo[Y>>>8&255]<<8|Fo[Hs&255])^Zs[nt++],Bs=(Fo[f>>>24]<<24|Fo[Y>>>16&255]<<16|Fo[Hs>>>8&255]<<8|Fo[Ws&255])^Zs[nt++],Ms=(Fo[Y>>>24]<<24|Fo[Hs>>>16&255]<<16|Fo[Ws>>>8&255]<<8|Fo[f&255])^Zs[nt++];zs[Vs]=ks,zs[Vs+1]=Ds,zs[Vs+2]=Bs,zs[Vs+3]=Ms},keySize:256/32});n.AES=a._createHelper(Gs)}(),i.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.WordArray,l=s.BlockCipher,A=n.algo,T=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],q=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],et=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],xi=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Oi=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ts=A.DES=l.extend({_doReset:function(){for(var Ls=this._key,Gs=Ls.words,zs=[],Vs=0;Vs<56;Vs++){var Zs=T[Vs]-1;zs[Vs]=Gs[Zs>>>5]>>>31-Zs%32&1}for(var Js=this._subKeys=[],xo=0;xo<16;xo++){for(var Io=Js[xo]=[],Uo=et[xo],Vs=0;Vs<24;Vs++)Io[Vs/6|0]|=zs[(q[Vs]-1+Uo)%28]<<31-Vs%6,Io[4+(Vs/6|0)]|=zs[28+(q[Vs+24]-1+Uo)%28]<<31-Vs%6;Io[0]=Io[0]<<1|Io[0]>>>31;for(var Vs=1;Vs<7;Vs++)Io[Vs]=Io[Vs]>>>(Vs-1)*4+3;Io[7]=Io[7]<<5|Io[7]>>>27}for(var Fo=this._invSubKeys=[],Vs=0;Vs<16;Vs++)Fo[Vs]=Js[15-Vs]},encryptBlock:function(Ls,Gs){this._doCryptBlock(Ls,Gs,this._subKeys)},decryptBlock:function(Ls,Gs){this._doCryptBlock(Ls,Gs,this._invSubKeys)},_doCryptBlock:function(Ls,Gs,zs){this._lBlock=Ls[Gs],this._rBlock=Ls[Gs+1],Fs.call(this,4,252645135),Fs.call(this,16,65535),qs.call(this,2,858993459),qs.call(this,8,16711935),Fs.call(this,1,1431655765);for(var Vs=0;Vs<16;Vs++){for(var Zs=zs[Vs],Js=this._lBlock,xo=this._rBlock,Io=0,Uo=0;Uo<8;Uo++)Io|=xi[Uo][((xo^Zs[Uo])&Oi[Uo])>>>0];this._lBlock=xo,this._rBlock=Js^Io}var Fo=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Fo,Fs.call(this,1,1431655765),qs.call(this,8,16711935),qs.call(this,2,858993459),Fs.call(this,16,65535),Fs.call(this,4,252645135),Ls[Gs]=this._lBlock,Ls[Gs+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Fs(Ls,Gs){var zs=(this._lBlock>>>Ls^this._rBlock)&Gs;this._rBlock^=zs,this._lBlock^=zs<<Ls}function qs(Ls,Gs){var zs=(this._rBlock>>>Ls^this._lBlock)&Gs;this._lBlock^=zs,this._rBlock^=zs<<Ls}n.DES=l._createHelper(Ts);var Us=A.TripleDES=l.extend({_doReset:function(){var Ls=this._key,Gs=Ls.words;if(Gs.length!==2&&Gs.length!==4&&Gs.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var zs=Gs.slice(0,2),Vs=Gs.length<4?Gs.slice(0,2):Gs.slice(2,4),Zs=Gs.length<6?Gs.slice(0,2):Gs.slice(4,6);this._des1=Ts.createEncryptor(a.create(zs)),this._des2=Ts.createEncryptor(a.create(Vs)),this._des3=Ts.createEncryptor(a.create(Zs))},encryptBlock:function(Ls,Gs){this._des1.encryptBlock(Ls,Gs),this._des2.decryptBlock(Ls,Gs),this._des3.encryptBlock(Ls,Gs)},decryptBlock:function(Ls,Gs){this._des3.decryptBlock(Ls,Gs),this._des2.encryptBlock(Ls,Gs),this._des1.decryptBlock(Ls,Gs)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=l._createHelper(Us)}(),i.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.StreamCipher,l=n.algo,A=l.RC4=a.extend({_doReset:function(){for(var et=this._key,xi=et.words,Oi=et.sigBytes,Ts=this._S=[],Fs=0;Fs<256;Fs++)Ts[Fs]=Fs;for(var Fs=0,qs=0;Fs<256;Fs++){var Us=Fs%Oi,Ls=xi[Us>>>2]>>>24-Us%4*8&255;qs=(qs+Ts[Fs]+Ls)%256;var Gs=Ts[Fs];Ts[Fs]=Ts[qs],Ts[qs]=Gs}this._i=this._j=0},_doProcessBlock:function(et,xi){et[xi]^=T.call(this)},keySize:256/32,ivSize:0});function T(){for(var et=this._S,xi=this._i,Oi=this._j,Ts=0,Fs=0;Fs<4;Fs++){xi=(xi+1)%256,Oi=(Oi+et[xi])%256;var qs=et[xi];et[xi]=et[Oi],et[Oi]=qs,Ts|=et[(et[xi]+et[Oi])%256]<<24-Fs*8}return this._i=xi,this._j=Oi,Ts}n.RC4=a._createHelper(A);var q=l.RC4Drop=A.extend({cfg:A.cfg.extend({drop:192}),_doReset:function(){A._doReset.call(this);for(var et=this.cfg.drop;et>0;et--)T.call(this)}});n.RC4Drop=a._createHelper(q)}(),i.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.StreamCipher,l=n.algo,A=[],T=[],q=[],et=l.Rabbit=a.extend({_doReset:function(){for(var Oi=this._key.words,Ts=this.cfg.iv,Fs=0;Fs<4;Fs++)Oi[Fs]=(Oi[Fs]<<8|Oi[Fs]>>>24)&16711935|(Oi[Fs]<<24|Oi[Fs]>>>8)&4278255360;var qs=this._X=[Oi[0],Oi[3]<<16|Oi[2]>>>16,Oi[1],Oi[0]<<16|Oi[3]>>>16,Oi[2],Oi[1]<<16|Oi[0]>>>16,Oi[3],Oi[2]<<16|Oi[1]>>>16],Us=this._C=[Oi[2]<<16|Oi[2]>>>16,Oi[0]&4294901760|Oi[1]&65535,Oi[3]<<16|Oi[3]>>>16,Oi[1]&4294901760|Oi[2]&65535,Oi[0]<<16|Oi[0]>>>16,Oi[2]&4294901760|Oi[3]&65535,Oi[1]<<16|Oi[1]>>>16,Oi[3]&4294901760|Oi[0]&65535];this._b=0;for(var Fs=0;Fs<4;Fs++)xi.call(this);for(var Fs=0;Fs<8;Fs++)Us[Fs]^=qs[Fs+4&7];if(Ts){var Ls=Ts.words,Gs=Ls[0],zs=Ls[1],Vs=(Gs<<8|Gs>>>24)&16711935|(Gs<<24|Gs>>>8)&4278255360,Zs=(zs<<8|zs>>>24)&16711935|(zs<<24|zs>>>8)&4278255360,Js=Vs>>>16|Zs&4294901760,xo=Zs<<16|Vs&65535;Us[0]^=Vs,Us[1]^=Js,Us[2]^=Zs,Us[3]^=xo,Us[4]^=Vs,Us[5]^=Js,Us[6]^=Zs,Us[7]^=xo;for(var Fs=0;Fs<4;Fs++)xi.call(this)}},_doProcessBlock:function(Oi,Ts){var Fs=this._X;xi.call(this),A[0]=Fs[0]^Fs[5]>>>16^Fs[3]<<16,A[1]=Fs[2]^Fs[7]>>>16^Fs[5]<<16,A[2]=Fs[4]^Fs[1]>>>16^Fs[7]<<16,A[3]=Fs[6]^Fs[3]>>>16^Fs[1]<<16;for(var qs=0;qs<4;qs++)A[qs]=(A[qs]<<8|A[qs]>>>24)&16711935|(A[qs]<<24|A[qs]>>>8)&4278255360,Oi[Ts+qs]^=A[qs]},blockSize:128/32,ivSize:64/32});function xi(){for(var Oi=this._X,Ts=this._C,Fs=0;Fs<8;Fs++)T[Fs]=Ts[Fs];Ts[0]=Ts[0]+1295307597+this._b|0,Ts[1]=Ts[1]+3545052371+(Ts[0]>>>0<T[0]>>>0?1:0)|0,Ts[2]=Ts[2]+886263092+(Ts[1]>>>0<T[1]>>>0?1:0)|0,Ts[3]=Ts[3]+1295307597+(Ts[2]>>>0<T[2]>>>0?1:0)|0,Ts[4]=Ts[4]+3545052371+(Ts[3]>>>0<T[3]>>>0?1:0)|0,Ts[5]=Ts[5]+886263092+(Ts[4]>>>0<T[4]>>>0?1:0)|0,Ts[6]=Ts[6]+1295307597+(Ts[5]>>>0<T[5]>>>0?1:0)|0,Ts[7]=Ts[7]+3545052371+(Ts[6]>>>0<T[6]>>>0?1:0)|0,this._b=Ts[7]>>>0<T[7]>>>0?1:0;for(var Fs=0;Fs<8;Fs++){var qs=Oi[Fs]+Ts[Fs],Us=qs&65535,Ls=qs>>>16,Gs=((Us*Us>>>17)+Us*Ls>>>15)+Ls*Ls,zs=((qs&4294901760)*qs|0)+((qs&65535)*qs|0);q[Fs]=Gs^zs}Oi[0]=q[0]+(q[7]<<16|q[7]>>>16)+(q[6]<<16|q[6]>>>16)|0,Oi[1]=q[1]+(q[0]<<8|q[0]>>>24)+q[7]|0,Oi[2]=q[2]+(q[1]<<16|q[1]>>>16)+(q[0]<<16|q[0]>>>16)|0,Oi[3]=q[3]+(q[2]<<8|q[2]>>>24)+q[1]|0,Oi[4]=q[4]+(q[3]<<16|q[3]>>>16)+(q[2]<<16|q[2]>>>16)|0,Oi[5]=q[5]+(q[4]<<8|q[4]>>>24)+q[3]|0,Oi[6]=q[6]+(q[5]<<16|q[5]>>>16)+(q[4]<<16|q[4]>>>16)|0,Oi[7]=q[7]+(q[6]<<8|q[6]>>>24)+q[5]|0}n.Rabbit=a._createHelper(et)}(),i.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.StreamCipher,l=n.algo,A=[],T=[],q=[],et=l.RabbitLegacy=a.extend({_doReset:function(){var Oi=this._key.words,Ts=this.cfg.iv,Fs=this._X=[Oi[0],Oi[3]<<16|Oi[2]>>>16,Oi[1],Oi[0]<<16|Oi[3]>>>16,Oi[2],Oi[1]<<16|Oi[0]>>>16,Oi[3],Oi[2]<<16|Oi[1]>>>16],qs=this._C=[Oi[2]<<16|Oi[2]>>>16,Oi[0]&4294901760|Oi[1]&65535,Oi[3]<<16|Oi[3]>>>16,Oi[1]&4294901760|Oi[2]&65535,Oi[0]<<16|Oi[0]>>>16,Oi[2]&4294901760|Oi[3]&65535,Oi[1]<<16|Oi[1]>>>16,Oi[3]&4294901760|Oi[0]&65535];this._b=0;for(var Us=0;Us<4;Us++)xi.call(this);for(var Us=0;Us<8;Us++)qs[Us]^=Fs[Us+4&7];if(Ts){var Ls=Ts.words,Gs=Ls[0],zs=Ls[1],Vs=(Gs<<8|Gs>>>24)&16711935|(Gs<<24|Gs>>>8)&4278255360,Zs=(zs<<8|zs>>>24)&16711935|(zs<<24|zs>>>8)&4278255360,Js=Vs>>>16|Zs&4294901760,xo=Zs<<16|Vs&65535;qs[0]^=Vs,qs[1]^=Js,qs[2]^=Zs,qs[3]^=xo,qs[4]^=Vs,qs[5]^=Js,qs[6]^=Zs,qs[7]^=xo;for(var Us=0;Us<4;Us++)xi.call(this)}},_doProcessBlock:function(Oi,Ts){var Fs=this._X;xi.call(this),A[0]=Fs[0]^Fs[5]>>>16^Fs[3]<<16,A[1]=Fs[2]^Fs[7]>>>16^Fs[5]<<16,A[2]=Fs[4]^Fs[1]>>>16^Fs[7]<<16,A[3]=Fs[6]^Fs[3]>>>16^Fs[1]<<16;for(var qs=0;qs<4;qs++)A[qs]=(A[qs]<<8|A[qs]>>>24)&16711935|(A[qs]<<24|A[qs]>>>8)&4278255360,Oi[Ts+qs]^=A[qs]},blockSize:128/32,ivSize:64/32});function xi(){for(var Oi=this._X,Ts=this._C,Fs=0;Fs<8;Fs++)T[Fs]=Ts[Fs];Ts[0]=Ts[0]+1295307597+this._b|0,Ts[1]=Ts[1]+3545052371+(Ts[0]>>>0<T[0]>>>0?1:0)|0,Ts[2]=Ts[2]+886263092+(Ts[1]>>>0<T[1]>>>0?1:0)|0,Ts[3]=Ts[3]+1295307597+(Ts[2]>>>0<T[2]>>>0?1:0)|0,Ts[4]=Ts[4]+3545052371+(Ts[3]>>>0<T[3]>>>0?1:0)|0,Ts[5]=Ts[5]+886263092+(Ts[4]>>>0<T[4]>>>0?1:0)|0,Ts[6]=Ts[6]+1295307597+(Ts[5]>>>0<T[5]>>>0?1:0)|0,Ts[7]=Ts[7]+3545052371+(Ts[6]>>>0<T[6]>>>0?1:0)|0,this._b=Ts[7]>>>0<T[7]>>>0?1:0;for(var Fs=0;Fs<8;Fs++){var qs=Oi[Fs]+Ts[Fs],Us=qs&65535,Ls=qs>>>16,Gs=((Us*Us>>>17)+Us*Ls>>>15)+Ls*Ls,zs=((qs&4294901760)*qs|0)+((qs&65535)*qs|0);q[Fs]=Gs^zs}Oi[0]=q[0]+(q[7]<<16|q[7]>>>16)+(q[6]<<16|q[6]>>>16)|0,Oi[1]=q[1]+(q[0]<<8|q[0]>>>24)+q[7]|0,Oi[2]=q[2]+(q[1]<<16|q[1]>>>16)+(q[0]<<16|q[0]>>>16)|0,Oi[3]=q[3]+(q[2]<<8|q[2]>>>24)+q[1]|0,Oi[4]=q[4]+(q[3]<<16|q[3]>>>16)+(q[2]<<16|q[2]>>>16)|0,Oi[5]=q[5]+(q[4]<<8|q[4]>>>24)+q[3]|0,Oi[6]=q[6]+(q[5]<<16|q[5]>>>16)+(q[4]<<16|q[4]>>>16)|0,Oi[7]=q[7]+(q[6]<<8|q[6]>>>24)+q[5]|0}n.RabbitLegacy=a._createHelper(et)}(),i.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(i){return function(){var n=i,s=n.lib,a=s.BlockCipher,l=n.algo;const A=16,T=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],q=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var et={pbox:[],sbox:[]};function xi(Us,Ls){let Gs=Ls>>24&255,zs=Ls>>16&255,Vs=Ls>>8&255,Zs=Ls&255,Js=Us.sbox[0][Gs]+Us.sbox[1][zs];return Js=Js^Us.sbox[2][Vs],Js=Js+Us.sbox[3][Zs],Js}function Oi(Us,Ls,Gs){let zs=Ls,Vs=Gs,Zs;for(let Js=0;Js<A;++Js)zs=zs^Us.pbox[Js],Vs=xi(Us,zs)^Vs,Zs=zs,zs=Vs,Vs=Zs;return Zs=zs,zs=Vs,Vs=Zs,Vs=Vs^Us.pbox[A],zs=zs^Us.pbox[A+1],{left:zs,right:Vs}}function Ts(Us,Ls,Gs){let zs=Ls,Vs=Gs,Zs;for(let Js=A+1;Js>1;--Js)zs=zs^Us.pbox[Js],Vs=xi(Us,zs)^Vs,Zs=zs,zs=Vs,Vs=Zs;return Zs=zs,zs=Vs,Vs=Zs,Vs=Vs^Us.pbox[1],zs=zs^Us.pbox[0],{left:zs,right:Vs}}function Fs(Us,Ls,Gs){for(let xo=0;xo<4;xo++){Us.sbox[xo]=[];for(let Io=0;Io<256;Io++)Us.sbox[xo][Io]=q[xo][Io]}let zs=0;for(let xo=0;xo<A+2;xo++)Us.pbox[xo]=T[xo]^Ls[zs],zs++,zs>=Gs&&(zs=0);let Vs=0,Zs=0,Js=0;for(let xo=0;xo<A+2;xo+=2)Js=Oi(Us,Vs,Zs),Vs=Js.left,Zs=Js.right,Us.pbox[xo]=Vs,Us.pbox[xo+1]=Zs;for(let xo=0;xo<4;xo++)for(let Io=0;Io<256;Io+=2)Js=Oi(Us,Vs,Zs),Vs=Js.left,Zs=Js.right,Us.sbox[xo][Io]=Vs,Us.sbox[xo][Io+1]=Zs;return!0}var qs=l.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Us=this._keyPriorReset=this._key,Ls=Us.words,Gs=Us.sigBytes/4;Fs(et,Ls,Gs)}},encryptBlock:function(Us,Ls){var Gs=Oi(et,Us[Ls],Us[Ls+1]);Us[Ls]=Gs.left,Us[Ls+1]=Gs.right},decryptBlock:function(Us,Ls){var Gs=Ts(et,Us[Ls],Us[Ls+1]);Us[Ls]=Gs.left,Us[Ls+1]=Gs.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(qs)}(),i.Blowfish})}(blowfish)),blowfish.exports}(function(t,e){(function(i,n,s){t.exports=n(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(i){return i})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const crypto$1=getDefaultExportFromCjs$2(cryptoJsExports);var __defProp=Object.defineProperty,__defNormalProp=(t,e,i)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__name=(t,e)=>__defProp(t,"name",{value:e,configurable:!0}),__publicField=(t,e,i)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,i),i),DEFAULT_HOST="https://pay.coinbase.com",generateOnRampURL=__name(({host:t=DEFAULT_HOST,...e})=>{const i=new URL(t);if(i.pathname="/buy/select-asset",e.destinationWallets&&e.addresses)throw new Error("Only one of destinationWallets or addresses can be provided");if(!e.destinationWallets&&!e.addresses)throw new Error("One of destinationWallets or addresses must be provided");return Object.keys(e).forEach(n=>{const s=e[n];s!==void 0&&(["string","number","boolean"].includes(typeof s)?i.searchParams.append(n,s.toString()):i.searchParams.append(n,JSON.stringify(s)))}),i.searchParams.sort(),i.toString()},"generateOnRampURL"),EMBEDDED_IFRAME_ID="cbpay-embedded-onramp",createEmbeddedContent=__name(({url:t,width:e="100%",height:i="100%",position:n="fixed",top:s="0px"})=>{const a=document.createElement("iframe");return a.style.border="unset",a.style.borderWidth="0",a.style.width=e.toString(),a.style.height=i.toString(),a.style.position=n,a.style.top=s,a.id=EMBEDDED_IFRAME_ID,a.src=t,a},"createEmbeddedContent"),MessageCodes;(function(t){t.LaunchEmbedded="launch_embedded",t.AppReady="app_ready",t.AppParams="app_params",t.SigninSuccess="signin_success",t.Success="success",t.Exit="exit",t.Event="event",t.Error="error",t.PixelReady="pixel_ready",t.OnAppParamsNonce="on_app_params_nonce"})(MessageCodes||(MessageCodes={}));var onBroadcastedPostMessage=__name((t,{onMessage:e,shouldUnsubscribe:i=!0,allowedOrigin:n,onValidateOrigin:s=__name(()=>Promise.resolve(!0),"onValidateOrigin")})=>{const a=__name(l=>{const{eventName:A,data:T}=parsePostMessage(l.data),q=!n||l.origin===n;A===t&&(async()=>q&&await s(l.origin)&&(e(T),i&&window.removeEventListener("message",a)))()},"onMessage");return window.addEventListener("message",a),()=>{window.removeEventListener("message",a)}},"onBroadcastedPostMessage"),broadcastPostMessage=__name((t,e,{allowedOrigin:i="*",data:n}={})=>{const s=formatPostMessage(e,n);t.postMessage(s,i)},"broadcastPostMessage"),parsePostMessage=__name(t=>{try{return JSON.parse(t)}catch{return{eventName:t}}},"parsePostMessage"),formatPostMessage=__name((t,e)=>e?JSON.stringify({eventName:t,data:e}):t,"formatPostMessage"),generateOffRampURL=__name(({host:t=DEFAULT_HOST,...e})=>{const i=new URL(t);return i.pathname="/v3/sell/input",Object.keys(e).forEach(n=>{const s=e[n];s!==void 0&&(["string","number","boolean"].includes(typeof s)?i.searchParams.append(n,s.toString()):i.searchParams.append(n,JSON.stringify(s)))}),i.searchParams.sort(),i.toString()},"generateOffRampURL"),PopupSizes={signin:{width:460,height:730},widget:{width:430,height:600}},CoinbasePixel=class{constructor({host:t=DEFAULT_HOST,appId:e,appParams:i,debug:n,theme:s}){__publicField(this,"debug"),__publicField(this,"host"),__publicField(this,"appId"),__publicField(this,"eventStreamListeners",{}),__publicField(this,"unsubs",[]),__publicField(this,"appParams"),__publicField(this,"removeEventListener"),__publicField(this,"theme"),__publicField(this,"openExperience",__name(a=>{var xi,Oi,Ts,Fs;this.log("Attempting to open experience"),this.setupExperienceListeners(a);const{experienceLoggedIn:l,experienceLoggedOut:A,embeddedContentStyles:T}=a,q=A||l;let et="";if(a.path==="/v3/sell"?et=generateOffRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}):et=generateOnRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}),this.log("Opening experience",{experience:q}),q==="embedded"){this.log("DEPRECATION WARNING: Two factor authentication does not work in an iframe, so the embedded experience should not be used. It will be removed in a future release");const qs=__name(()=>{var Ls;const Us=createEmbeddedContent({url:et,...T});T!=null&&T.target?(Ls=document.querySelector(T==null?void 0:T.target))==null||Ls.replaceChildren(Us):document.body.appendChild(Us)},"openEmbeddedExperience");this.startDirectSignin(qs)}else q==="popup"&&((Oi=(xi=window.chrome)==null?void 0:xi.windows)!=null&&Oi.create)?window.chrome.windows.create({url:et,setSelfAsOpener:!0,type:"popup",focused:!0,width:PopupSizes.signin.width,height:PopupSizes.signin.height,left:window.screenLeft-PopupSizes.signin.width-10,top:window.screenTop},qs=>{const Us=__name(()=>{qs!=null&&qs.id&&(chrome.windows.update(qs.id,{width:PopupSizes.widget.width,height:PopupSizes.widget.height,left:window.screenLeft-PopupSizes.widget.width-10,top:window.screenTop}),this.removeEventStreamListener("open",Us))},"onOpenCallback");this.addEventStreamListener("open",Us)}):q==="new_tab"&&((Fs=(Ts=window.chrome)==null?void 0:Ts.tabs)!=null&&Fs.create)?window.chrome.tabs.create({url:et}):openWindow(et,q)},"openExperience")),__publicField(this,"endExperience",__name(()=>{var a;(a=document.getElementById(EMBEDDED_IFRAME_ID))==null||a.remove()},"endExperience")),__publicField(this,"destroy",__name(()=>{this.unsubs.forEach(a=>a())},"destroy")),__publicField(this,"setupExperienceListeners",__name(({onSuccess:a,onExit:l,onEvent:A,onRequestedUrl:T})=>{this.removeEventListener&&this.removeEventListener(),this.removeEventListener=this.onMessage("event",{shouldUnsubscribe:!1,onMessage:q=>{var xi;const et=q;(xi=this.eventStreamListeners[et.eventName])==null||xi.forEach(Oi=>Oi==null?void 0:Oi()),et.eventName==="success"&&(a==null||a()),et.eventName==="exit"&&(l==null||l(et.error)),et.eventName==="request_open_url"&&(T==null||T(et.url)),A==null||A(q)}})},"setupExperienceListeners")),__publicField(this,"startDirectSignin",__name(a=>{const l=new URLSearchParams;l.set("appId",this.appId),l.set("type","direct");const A=`${this.host}/signin?${l.toString()}`,T=openWindow(A,"popup");this.onMessage("signin_success",{onMessage:()=>{T==null||T.close(),a()}})},"startDirectSignin")),__publicField(this,"addEventStreamListener",__name((a,l)=>{var A;this.eventStreamListeners[a]?(A=this.eventStreamListeners[a])==null||A.push(l):this.eventStreamListeners[a]=[l]},"addEventStreamListener")),__publicField(this,"removeEventStreamListener",__name((a,l)=>{var A;if(this.eventStreamListeners[a]){const T=(A=this.eventStreamListeners[a])==null?void 0:A.filter(q=>q!==l);this.eventStreamListeners[a]=T}},"removeEventStreamListener")),__publicField(this,"onMessage",__name((...a)=>{const l=onBroadcastedPostMessage(a[0],{allowedOrigin:this.host,...a[1]});return this.unsubs.push(l),l},"onMessage")),__publicField(this,"log",__name((...a)=>{this.debug&&console.log("[CBPAY]",...a)},"log")),this.host=t,this.appId=e,this.appParams=i,this.debug=n||!1,this.theme=s}};__name(CoinbasePixel,"CoinbasePixel");function openWindow(t,e){return window.open(t,"Coinbase",e==="popup"?`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, height=${PopupSizes.signin.height},width=${PopupSizes.signin.width}`:void 0)}__name(openWindow,"openWindow");var widgetRoutes={buy:"/buy",checkout:"/checkout",sell:"/v3/sell"},CBPayInstance=class{constructor(t){if(__publicField(this,"pixel"),__publicField(this,"options"),__publicField(this,"open",__name(()=>{const{widget:e,experienceLoggedIn:i,experienceLoggedOut:n,embeddedContentStyles:s,onExit:a,onSuccess:l,onEvent:A,onRequestedUrl:T,closeOnSuccess:q,closeOnExit:et}=this.options;this.pixel.openExperience({path:widgetRoutes[e],experienceLoggedIn:i,experienceLoggedOut:n,embeddedContentStyles:s,onExit:()=>{a==null||a(),et&&this.pixel.endExperience()},onSuccess:()=>{l==null||l(),q&&this.pixel.endExperience()},onRequestedUrl:T,onEvent:A})},"open")),__publicField(this,"destroy",__name(()=>{this.pixel.destroy()},"destroy")),this.options=t,this.pixel=new CoinbasePixel({...t,appParams:{widget:t.widget,...t.appParams}}),t.target){const e=document.querySelector(t.target);e&&e.addEventListener("click",this.open)}}};__name(CBPayInstance,"CBPayInstance");function broadcastEvent(t,e){broadcastPostMessage(t,"event",{data:e})}__name(broadcastEvent,"broadcastEvent");function CustomToast(t){const{children:e,onClose:i}=t;return jsxRuntimeExports.jsxs(HStack,{w:"440px",bg:"background",border:"2px",borderColor:"border",borderRadius:"12px",p:"16px",position:"relative",gap:"16px",sx:{"@media screen and (max-width: 810px)":{w:"unset",minW:"330px",p:"16px"}},children:[jsxRuntimeExports.jsx(VStack,{w:"100%",alignItems:"start",children:e}),jsxRuntimeExports.jsx(Center,{onClick:i,position:"absolute",right:"16px",top:"16px",children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}const img_nodata_error="/assets/img_nodata@2x-BiWQ6WZn.png";function Notfound$1(){return jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsxs(Flex,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"background",direction:"column",left:"50%",top:"0px",transform:"translateX(-50%)",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"20px",mb:"-50px",textColor:"text_caption",children:"Oops..."}),jsxRuntimeExports.jsx(Image$1,{w:"350px",h:"529px",src:img_nodata_error}),jsxRuntimeExports.jsx(Text$1,{fontSize:"28px",textColor:"primary",mt:"-80px",children:"Something Error"}),jsxRuntimeExports.jsx(Button$1,{mt:"20px",w:"200px",onClick:()=>window.location.reload(),children:"Refresh"})]})})}const MAX_RETRY_COUNT=1;class ErrorBoundary extends React$2.Component{constructor(e){super(e),this.state={showErrorComponent:!1,hasError:!1,retryCount:0}}getRetryCountFromURL(){const e=new URLSearchParams(window.location.search);return parseInt(e.get("retryCount")||"0",10)}updateRetryCountInURL(e){const i=new URLSearchParams(window.location.search);i.set("retryCount",e.toString()),window.history.replaceState(null,"",`${window.location.pathname}?${i.toString()}`)}static getDerivedStateFromError(e){return{hasError:!0,showErrorComponent:!1}}componentDidCatch(e,i){if(console.error("Error caught in Error Boundary: ",e,i),e&&String(e).includes("Failed to fetch dynamically imported module")){const s=this.getRetryCountFromURL();if(s<MAX_RETRY_COUNT){const a=s+1;this.updateRetryCountInURL(a),console.log(`Retrying... (${a}/${MAX_RETRY_COUNT})`),window.location.reload()}else console.error("Max retry count reached. Showing fallback UI."),this.setState({showErrorComponent:!0,hasError:!0})}else this.setState({showErrorComponent:!0,hasError:!0})}render(){return this.state.hasError?this.state.showErrorComponent?jsxRuntimeExports.jsx(Notfound$1,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):this.props.children}}const LockInput=({text:t,...e})=>jsxRuntimeExports.jsxs(HStack,{h:"138px",gap:"16px",borderRadius:"20px",border:"1px solid",borderColor:"border",justify:"center",bg:"rgba(15,15,15,0.8)",backdropFilter:"blur(10px)",p:"32px",zIndex:99,...e,children:[jsxRuntimeExports.jsx(Center,{flex:"0 0 36px",h:"36px",borderRadius:"50%",border:"2px solid",borderColor:"border",boxShadow:"trade_icon_shadow",bg:"input_bg",children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_lock",fontSize:"20px",_hover:{cursor:"unset",svg:{fill:" text_paragraph"}}})}),t&&jsxRuntimeExports.jsx(Text$1,{color:"text_caption",lineHeight:"20px",children:t})]});function NavLink(t){const{children:e,link:i,type:n="reactRouterLink",isActive:s,fontSize:a,...l}=t,A={fontFamily:"Inter",color:s?"text_caption":"text_paragraph",fontSize:a||"15px",cursor:"pointer",height:"24px",lineHeight:"24px",_hover:{color:"text_caption"}};return n==="reactRouterLink"?jsxRuntimeExports.jsx(Link,{as:Link$1,to:i,...A,...l,children:e}):n==="_blank"?jsxRuntimeExports.jsx(Link,{href:i,target:"_blank",...A,...l,children:e}):jsxRuntimeExports.jsx(Box,{as:"a",...A,...l,children:e})}function splitArray(t,e){const i=[];for(let n=0;n<t.length;n+=e)i.push(t.slice(n,n+e));return i}function useTokenPrice(){const{coinPriceObj:t,setPriceObj:e,clearPriceObj:i}=useTokenPriceStore(),n=async T=>{console.log(" ~ fetchTokenPrices ~ coinTypeList:",T);const et=splitArray(T,10);console.log(" ~  ~ file: useRates.ts:8 ~ ~ subArrays:",et);try{const xi=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v3/sui/market_price`,Oi=await Promise.all(et.map(Fs=>fetchGet(xi,{base_symbol_address:Fs.map(qs=>Go(qs,!1))})));console.log(" ~ file: useRates.ts:8 ~ fetchRates ~ results:",Oi);const Ts=Oi.map(Fs=>Fs.prices).flat();if(console.log(" ~ file: useRates.ts:8 ~ fetchRates ~ list:",Ts),Ts&&Ts.length>0){const Fs={},qs=new Date().getTime();Ts.forEach(Us=>{Us.update_time=qs,Fs[ie$2(Us.base_symbol).full_address]=Us}),console.log(" ~ useTokenPrice.ts:52 ~ fetchTokenPrices ~ obj:",Fs),e(Fs)}return Ts}catch(xi){return console.log(" ~ file: useRates.ts:21 ~ fetchRates ~ error:",xi),i(T),null}},s=reactExports.useCallback((T,q)=>{if(!T)return;const et=t[ie$2(T).full_address];if(et&&!(q&&new Date().getTime()-et.update_time>q))return et},[t]),a=reactExports.useCallback((T,q,et)=>{const xi=Number(q)==0||!et?"0":et;if(q&&T&&+q){const Oi=s(T);if(Oi)return G$2(q).mul(Oi.price).toString()}return xi},[t]),l=reactExports.useCallback((T,q,et)=>{const xi=Number(q)==0||!et?"0":et;if(q&&T&&+q){const Oi=s(T);if(Oi)return G$2(q).div(Oi.price).toString()}return xi},[t]);return{getTokenAmountValue:a,getTokenAmount:l,getTokenPrice:s,fetchTokenPrices:n,getPriceKline:async(T,q)=>{var Oi;const et=T==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":T,xi=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v3/sui/market_price/chart?coin_type=${et}&date_type=day&source=${q}`;try{const Ts=await fetchGet(xi);console.log(" ~ useTokenPrice.ts:121 ~ getPriceKline ~ res:",Ts);const Fs=Math.min(...Ts.list.map(qs=>Number(qs==null?void 0:qs.price)));return{price:((Oi=Ts==null?void 0:Ts.list)==null?void 0:Oi.map(qs=>({...qs,value:G$2(qs==null?void 0:qs.price).minus(Fs).toString()})))||[],daily_rate:G$2((Ts==null?void 0:Ts.change_rate_24h)||"0").mul(100).toString()}}catch(Ts){return console.log(" ~ useTokenPrice.ts:132 ~ getPriceKline ~ e:",Ts),{price:[],daily_rate:""}}}}}var w={env:"mainnet",full_rpc_url:ki$1,dca:{package_id:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",published_at:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",config:{admin_cap_id:"0xbcdd7391245dd8d6118a39bc83e6d9a7cfca899d06cc283c1a4cae41b2508574",global_config_id:"0x5db218756f8486fa2ac26fab590c4be4e439be54e6d932c9a30b20573a5b706a",indexer_id:"0x713f0968d042b48f4ec57e4e21bd7e346d06355f59776faedc9497ca990a9f77",user_indexer_id:"0x0ae365f60f2fa692831f9496c9e49b2440c74f14e8eab6f88dbb418c443b5020",in_coin_whitelist_id:"0x845643253afdfef9c4202e7af5e2de374b7f4766f78694903e8b2c0f83dab3ce",out_coin_whitelist_id:"0xe398b24a2b28f1ffd18394eaa78538d6ec8111dcb5fd919424bd3d42764c19f7"}}},S$1={env:"testnet",full_rpc_url:Fi$1,dca:{package_id:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",published_at:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",config:{admin_cap_id:"0xf54334a5cf41874d151cc610f7575f2b9ca8aab32103be3ed87f07f73388dcf2",global_config_id:"0xdac150723df0b51c1407ea942036d7f9d4e3b064ff35a4136dd31ffb397497e0",indexer_id:"0xacd0ab94883a8785c5258388618b6252f0c2e9384b23f91fc23f6c8ef44d445c",user_indexer_id:"0xc4ca05342746468383922650a3137bd3efc49d4c7a37431ed11a94c08dbfb677",in_coin_whitelist_id:"0xe72cdb8a0777bbcb5105b7045b90f5fdc8c7b946d48fd4cec0607d201a45a9b7",out_coin_whitelist_id:"0xbe67538ca0e4683fef704b374d034f5a4f79cdc756ea47cec82df55b37d4ff0a"}}},b=class extends Me$4{constructor(t,e,i){super(t,e||"UnknownError",i)}static isDcaErrorCode(t,e){return this.isErrorCode(t,e)}},u=(t,e,i)=>{throw e instanceof Error?new b(e.message,t,i):new b(e,t,i)},g$1=class{static buildDcaOrderList(e){let{parsedJson:i}=e;if(i&&i.order_id)return{created_at:i.created_at,cycle_count:i.cycle_count,cycle_frequency:i.cycle_frequency,in_coin:ie$2(i.in_coin.name).full_address,in_deposited:i.in_deposited,order_id:i.order_id,out_coin:ie$2(i.out_coin.name).full_address,per_cycle_in_amount_limit:i.per_cycle_in_amount_limit,per_cycle_max_out_amount:i.per_cycle_max_out_amount,per_cycle_min_out_amount:i.per_cycle_min_out_amount}}static buildDcaGlobalConfig(e){if(e&&e.id.id)return{min_cycle_count:e.min_cycle_count,min_cycle_frequency:e.min_cycle_frequency,whitelist_mode:e.whitelist_mode}}static buildOrderHistoryList(e,i){let{events:n}=e,s=[];return n&&n.forEach(a=>{let l=ie$2(a.type).name;if(i.includes(l)){let A={digest:e.digest,type:l,timestampMs:e.timestampMs,parsedJson:a.parsedJson};s.push(A)}}),s}},y$2=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}async dcaOpenOrderPayload(e){try{let{dca:i}=this._sdk.sdkOptions,{global_config_id:n,indexer_id:s}=na(i),a=new Transaction,l=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress(),e.in_coin_type),A=Oe$3.buildCoinForAmount(a,l,BigInt(e.in_coin_amount),e.in_coin_type,!1,!0);return a.moveCall({target:`${i.published_at}::order::open_order`,typeArguments:[e.in_coin_type,e.out_coin_type],arguments:[a.object(n),A.target_coin,a.pure.u64(e.cycle_frequency),a.pure.u64(e.cycle_count),a.pure.u64(e.per_cycle_min_out_amount),a.pure.u64(e.per_cycle_max_out_amount),a.pure.u64(e.per_cycle_in_amount_limit),a.pure.u64(e.fee_rate),a.pure.u64(e.timestamp),a.pure.string(e.signature),a.object(no$2),a.object(s)]}),a}catch(i){return u("FetchError",i,{[be$5.METHOD_NAME]:"dcaOpenOrderPayload",[be$5.REQUEST_PARAMS]:e})}}dcaCloseOrderPayload(e){let{dca:i}=this._sdk.sdkOptions,{global_config_id:n,indexer_id:s}=na(i),a=new Transaction;return e.forEach(l=>{let A=a.moveCall({target:`${i.published_at}::order::cancle_order`,typeArguments:[l.in_coin_type,l.out_coin_type],arguments:[a.object(n),a.object(l.order_id),a.object(s),a.object(no$2)]});a.transferObjects([A[0],A[1]],a.pure.address(this._sdk.getSenderAddress()))}),a}async getDcaOrders(e){let i={data:[],has_next_page:!1};try{let{dca:n}=this._sdk.sdkOptions,{user_indexer_id:s}=na(n),a,l=this._sdk.getCache(`${e}_dca_table_id`);if(l)a=l;else{let Oi=await this._sdk.FullClient.getDynamicFieldObject({parentId:s,name:{type:"address",value:e}});a=Is(Oi).value.fields.id.id,this._sdk.updateCache(`${e}_dca_table_id`,a)}let A=null,T=50,q=[];for(;;){let Oi=await this._sdk.FullClient.getDynamicFields({parentId:a,cursor:A,limit:T});if(Oi.data.forEach(Ts=>{q.push(Ts.name.value)}),A=Oi.nextCursor,A===null||Oi.data.length<T)break}let et=[],xi=await this._sdk.FullClient.batchGetObjects(q,{showType:!0,showContent:!0});for(let Oi=0;Oi<xi.length;Oi++){let Ts=xi[Oi],Fs=ie$2(Ts.data.type),qs=Fs.type_arguments[0],Us=Fs.type_arguments[1];et.push({in_coin_type:qs,out_coin_type:Us,...Ts.data.content.fields,id:Ts.data.content.fields.id.id,version:Ts.data.version})}return i.data=et,i}catch(n){return u("InvalidWalletAddress",n,{[be$5.METHOD_NAME]:"getDcaOrders",[be$5.REQUEST_PARAMS]:{wallet_address:e}})}}async withdrawPayload(e){let{dca:i}=this._sdk.sdkOptions,{global_config_id:n}=na(i),s=new Transaction,a=s.moveCall({target:`${i.published_at}::order::withdraw`,typeArguments:[e.in_coin_type,e.out_coin_type],arguments:[s.object(n),s.object(e.order_id),s.object(no$2)]});return s.transferObjects([a[0]],s.pure.address(this._sdk.getSenderAddress())),s}async withdrawAll(e){let{dca:i}=this._sdk.sdkOptions,{global_config_id:n}=na(i),s=new Transaction;for(let a=0;a<e.length;a++){let l=s.moveCall({target:`${i.published_at}::order::withdraw`,typeArguments:[e[a].in_coin_type,e[a].out_coin_type],arguments:[s.object(n),s.object(e[a].order_id),s.object(no$2)]});s.transferObjects([l[0]],s.pure.address(this._sdk.getSenderAddress()))}return s}async getDcaOrdersMakeDeal(e){let i=this._sdk.getCache(`${e}_tx`),n=[],s=null,a=50;try{for(;;){let T=await this._sdk.FullClient.queryTransactionBlocks({filter:{ChangedObject:e},limit:a});if(T.data.forEach(q=>{n.push(q.digest)}),s=T.nextCursor,s===null||T.data.length<a)break}if(this._sdk.updateCache(`${e}_tx`,n),i&&i.length===n.length)return this._sdk.getCache(`${e}_history_list`);let l=await this._sdk.FullClient.multiGetTransactionBlocks({digests:n,options:{showInput:!0,showEffects:!0,showEvents:!0}}),A=[];return l.forEach(T=>{A.push(...g$1.buildOrderHistoryList(T,["MakeDealEvent"]))}),this._sdk.updateCache(`${e}_history_list`,A),A}catch(l){return u("InvalidOrderId",l,{[be$5.METHOD_NAME]:"getDcaOrdersMakeDeal",[be$5.REQUEST_PARAMS]:{order_id:e}})}}async getDcaCoinWhiteList(e){let{in_coin_whitelist_id:i,out_coin_whitelist_id:n}=na(this._sdk.sdkOptions.dca),s=[],a=[];try{if(e===1||e===3){let l=null,A=50;for(;;){let T=await this._sdk.FullClient.getDynamicFields({parentId:i,cursor:l,limit:A});if(T.data.forEach(q=>{s.push(ie$2(q.name.value.name).full_address)}),l=T.nextCursor,l===null||T.data.length<A)break}}if(e===2||e===3){let l=null,A=50;for(;;){let T=await this._sdk.FullClient.getDynamicFields({parentId:n,cursor:l,limit:A});if(T.data.forEach(q=>{a.push(ie$2(q.name.value.name).full_address)}),l=T.nextCursor,l===null||T.data.length<A)break}}return{in_coin_list:s,out_coin_list:a}}catch(l){return u("InvalidMode",l,{[be$5.METHOD_NAME]:"getDcaCoinWhiteList",[be$5.REQUEST_PARAMS]:{whitelist_mode:e}})}}async getDcaGlobalConfig(){let{global_config_id:e}=na(this._sdk.sdkOptions.dca);try{let i=await this._sdk.FullClient.getObject({id:e,options:{showType:!0,showContent:!0}});return g$1.buildDcaGlobalConfig(i.data.content.fields)}catch(i){u("FetchError",i,{[be$5.METHOD_NAME]:"getDcaGlobalConfig"})}}async getDcaConfigs(){var n;let{package_id:e}=this._sdk.sdkOptions.dca,i={admin_cap_id:"",global_config_id:"",indexer_id:"",user_indexer_id:"",in_coin_whitelist_id:"",out_coin_whitelist_id:""};try{let s=(await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::config::InitEvent`})).data,a=(await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::order::InitEvent`})).data;if(s&&s.length>0){let{parsedJson:l}=s[0];i.admin_cap_id=l.admin_cap_id,i.global_config_id=l.global_config_id}if(a&&a.length>0){let{parsedJson:l}=a[0];i.indexer_id=l.indexer_id;let A=await this._sdk.FullClient.getObject({id:l.indexer_id,options:{showType:!0,showContent:!0}});i.user_indexer_id=(n=A.data)==null?void 0:n.content.fields.user_orders.fields.id.id}if(i.global_config_id){let l=await this._sdk.FullClient.getObject({id:i.global_config_id,options:{showType:!0,showContent:!0}});i.in_coin_whitelist_id=l.data.content.fields.in_coin_whitelist.fields.id.id,i.out_coin_whitelist_id=l.data.content.fields.out_coin_whitelist.fields.id.id}return i}catch(s){u("FetchError",s,{[be$5.METHOD_NAME]:"getDcaConfigs"})}}},C$2=class Rl extends ur$4{constructor(e){super(e),this._sdkOptions=e,this._dca=new y$2(this)}get Dca(){return this._dca}static createSDK(e){let{env:i="mainnet",full_rpc_url:n}=e;return i==="mainnet"?Rl.createCustomSDK({...w,...e}):Rl.createCustomSDK({...S$1,...e})}static createCustomSDK(e){return new Rl(e)}};const ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(ERROR_MSG_INPUT);return e}function toHex(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function uint32ToHex(t){return(4294967296+t).toString(16).substring(1)}function debugPrint(t,e,i){let n=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(i===32)n+=uint32ToHex(e[s]).toUpperCase(),n+=" ",n+=uint32ToHex(e[s+1]).toUpperCase();else if(i===64)n+=uint32ToHex(e[s+1]).toUpperCase(),n+=uint32ToHex(e[s]).toUpperCase();else throw new Error("Invalid size "+i);s%6===4?n+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(n+=" ")}console.log(n)}function testSpeed(t,e,i){let n=new Date().getTime();const s=new Uint8Array(e);for(let l=0;l<e;l++)s[l]=l%256;const a=new Date().getTime();console.log("Generated random input in "+(a-n)+"ms"),n=a;for(let l=0;l<i;l++){const A=t(s),T=new Date().getTime(),q=T-n;n=T,console.log("Hashed in "+q+"ms: "+A.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(q/1e3)*100)/100+" MB PER SECOND")}}var util$2={normalizeInput,toHex,debugPrint,testSpeed};const util$1=util$2;function ADD64AA(t,e,i){const n=t[e]+t[i];let s=t[e+1]+t[i+1];n>=4294967296&&s++,t[e]=n,t[e+1]=s}function ADD64AC(t,e,i,n){let s=t[e]+i;i<0&&(s+=4294967296);let a=t[e+1]+n;s>=4294967296&&a++,t[e]=s,t[e+1]=a}function B2B_GET32(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function B2B_G(t,e,i,n,s,a){const l=m$3[s],A=m$3[s+1],T=m$3[a],q=m$3[a+1];ADD64AA(v$1,t,e),ADD64AC(v$1,t,l,A);let et=v$1[n]^v$1[t],xi=v$1[n+1]^v$1[t+1];v$1[n]=xi,v$1[n+1]=et,ADD64AA(v$1,i,n),et=v$1[e]^v$1[i],xi=v$1[e+1]^v$1[i+1],v$1[e]=et>>>24^xi<<8,v$1[e+1]=xi>>>24^et<<8,ADD64AA(v$1,t,e),ADD64AC(v$1,t,T,q),et=v$1[n]^v$1[t],xi=v$1[n+1]^v$1[t+1],v$1[n]=et>>>16^xi<<16,v$1[n+1]=xi>>>16^et<<16,ADD64AA(v$1,i,n),et=v$1[e]^v$1[i],xi=v$1[e+1]^v$1[i+1],v$1[e]=xi>>>31^et<<1,v$1[e+1]=et>>>31^xi<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(t){return t*2})),v$1=new Uint32Array(32),m$3=new Uint32Array(32);function blake2bCompress(t,e){let i=0;for(i=0;i<16;i++)v$1[i]=t.h[i],v$1[i+16]=BLAKE2B_IV32[i];for(v$1[24]=v$1[24]^t.t,v$1[25]=v$1[25]^t.t/4294967296,e&&(v$1[28]=~v$1[28],v$1[29]=~v$1[29]),i=0;i<32;i++)m$3[i]=B2B_GET32(t.b,4*i);for(i=0;i<12;i++)B2B_G(0,8,16,24,SIGMA82[i*16+0],SIGMA82[i*16+1]),B2B_G(2,10,18,26,SIGMA82[i*16+2],SIGMA82[i*16+3]),B2B_G(4,12,20,28,SIGMA82[i*16+4],SIGMA82[i*16+5]),B2B_G(6,14,22,30,SIGMA82[i*16+6],SIGMA82[i*16+7]),B2B_G(0,10,20,30,SIGMA82[i*16+8],SIGMA82[i*16+9]),B2B_G(2,12,22,24,SIGMA82[i*16+10],SIGMA82[i*16+11]),B2B_G(4,14,16,26,SIGMA82[i*16+12],SIGMA82[i*16+13]),B2B_G(6,8,18,28,SIGMA82[i*16+14],SIGMA82[i*16+15]);for(i=0;i<16;i++)t.h[i]=t.h[i]^v$1[i]^v$1[i+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(t,e,i,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(i&&i.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};parameterBlock.fill(0),parameterBlock[0]=t,e&&(parameterBlock[1]=e.length),parameterBlock[2]=1,parameterBlock[3]=1,i&&parameterBlock.set(i,32),n&&parameterBlock.set(n,48);for(let a=0;a<16;a++)s.h[a]=BLAKE2B_IV32[a]^B2B_GET32(parameterBlock,a*4);return e&&(blake2bUpdate(s,e),s.c=128),s}function blake2bUpdate(t,e){for(let i=0;i<e.length;i++)t.c===128&&(t.t+=t.c,blake2bCompress(t,!1),t.c=0),t.b[t.c++]=e[i]}function blake2bFinal(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;blake2bCompress(t,!0);const e=new Uint8Array(t.outlen);for(let i=0;i<t.outlen;i++)e[i]=t.h[i>>2]>>8*(i&3);return e}function blake2b(t,e,i,n,s){i=i||64,t=util$1.normalizeInput(t),n&&(n=util$1.normalizeInput(n)),s&&(s=util$1.normalizeInput(s));const a=blake2bInit(i,e,n,s);return blake2bUpdate(a,t),blake2bFinal(a)}function blake2bHex(t,e,i,n,s){const a=blake2b(t,e,i,n,s);return util$1.toHex(a)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util=util$2;function B2S_GET32(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function B2S_G(t,e,i,n,s,a){v[t]=v[t]+v[e]+s,v[n]=ROTR32(v[n]^v[t],16),v[i]=v[i]+v[n],v[e]=ROTR32(v[e]^v[i],12),v[t]=v[t]+v[e]+a,v[n]=ROTR32(v[n]^v[t],8),v[i]=v[i]+v[n],v[e]=ROTR32(v[e]^v[i],7)}function ROTR32(t,e){return t>>>e^t<<32-e}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v=new Uint32Array(16),m$2=new Uint32Array(16);function blake2sCompress(t,e){let i=0;for(i=0;i<8;i++)v[i]=t.h[i],v[i+8]=BLAKE2S_IV[i];for(v[12]^=t.t,v[13]^=t.t/4294967296,e&&(v[14]=~v[14]),i=0;i<16;i++)m$2[i]=B2S_GET32(t.b,4*i);for(i=0;i<10;i++)B2S_G(0,4,8,12,m$2[SIGMA[i*16+0]],m$2[SIGMA[i*16+1]]),B2S_G(1,5,9,13,m$2[SIGMA[i*16+2]],m$2[SIGMA[i*16+3]]),B2S_G(2,6,10,14,m$2[SIGMA[i*16+4]],m$2[SIGMA[i*16+5]]),B2S_G(3,7,11,15,m$2[SIGMA[i*16+6]],m$2[SIGMA[i*16+7]]),B2S_G(0,5,10,15,m$2[SIGMA[i*16+8]],m$2[SIGMA[i*16+9]]),B2S_G(1,6,11,12,m$2[SIGMA[i*16+10]],m$2[SIGMA[i*16+11]]),B2S_G(2,7,8,13,m$2[SIGMA[i*16+12]],m$2[SIGMA[i*16+13]]),B2S_G(3,4,9,14,m$2[SIGMA[i*16+14]],m$2[SIGMA[i*16+15]]);for(i=0;i<8;i++)t.h[i]^=v[i]^v[i+8]}function blake2sInit(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const i=e?e.length:0;if(e&&!(i>0&&i<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^i<<8^t,i>0&&(blake2sUpdate(n,e),n.c=64),n}function blake2sUpdate(t,e){for(let i=0;i<e.length;i++)t.c===64&&(t.t+=t.c,blake2sCompress(t,!1),t.c=0),t.b[t.c++]=e[i]}function blake2sFinal(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;blake2sCompress(t,!0);const e=new Uint8Array(t.outlen);for(let i=0;i<t.outlen;i++)e[i]=t.h[i>>2]>>8*(i&3)&255;return e}function blake2s(t,e,i){i=i||32,t=util.normalizeInput(t);const n=blake2sInit(i,e);return blake2sUpdate(n,t),blake2sFinal(n)}function blake2sHex(t,e,i){const n=blake2s(t,e,i);return util.toHex(n)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal},E$1={env:"mainnet",full_rpc_url:ki$1,limit_order:{package_id:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",published_at:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",config:{rate_orders_indexer_id:"0xe7fa62b6fc095ed5659b85c735f4322059e1f4616dcf3343adece6e7eb52bf47",rate_orders_indexer_handle:"0x81a95c812cab1c9cc7a1c10446d93d2d9517097211c72b544f7efed33b540bcc",global_config_id:"0xd3403f23a053b52e5c4ef0c2a8be316120c435ec338f2596647b6befd569fd9c",token_list_handle:"0x644a7f05eff2a1b4c266d7ce849c8494fb068a4e29037c7c523e5eb822389d8d",user_orders_indexer_id:"0x7f851ac19e438f97e78a5335eed4f12766a3a0ae94340bab7956a402f0e6212e",user_orders_indexer_handle:"0x84703679acd2eeaee8de4945be79d029ab94966bc22e0f6cfd696032fd31bbc7"}}},L$1={env:"testnet",full_rpc_url:Fi$1,limit_order:{package_id:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",published_at:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",config:{rate_orders_indexer_id:"0xeaa7dc3a4b70c14b434aed2cef0bdd272a781c630ea3c54c25fa53c72fb3cf96",rate_orders_indexer_handle:"0x62eea7ce7be125e6b43fac6158d0ac8a6b0f263446d4631ad5a3629d82fef2ed",global_config_id:"0xd4d98f126233057b3a01f17adfb5bc77d7bdb0332fe982ab44c6c7a2f66443dc",token_list_handle:"0x81233cdf2165f013a57c3ab180b079e0f411483ba7f80dd6fbcb74426d2045f9",user_orders_indexer_id:"0x18ff28ae25ea50c703a0dfcc49653cc7dd7035207e26c8f86fa9e4aea49037d0",user_orders_indexer_handle:"0xbe3301b85fb0fc99deacb68c31d971837ae23a65c38680cf79a6b8562518b4c7"}}},y$1=class extends Me$4{constructor(e,i,n){super(e,i||"UnknownError",n)}static isLimitErrorCode(e,i){return this.isErrorCode(e,i)}},c$1=(t,e,i)=>{throw e instanceof Error?new y$1(e.message,t,i):new y$1(e,t,i)},C$1=(t=>(t.Running="Running",t.PartialCompleted="PartialCompleted",t.Completed="Completed",t.Cancelled="Cancelled",t))(C$1||{}),m$1=class{static buildOrderLimitEvent(e,i){let{events:n}=e,s=[];return n&&n.forEach(a=>{let l=ie$2(a.type).name;if(i.includes(l)){let A={digest:e.digest,type:l,timestamp_ms:e.timestampMs,parsed_json:a.parsedJson};s.push(A)}}),s}static buildLimitOrderInfo(e){let i=Is(e),n=Es(e);if(i&&n)try{let s=ie$2(n),a={pay_coin_type:s.type_arguments[0],target_coin_type:s.type_arguments[1],canceled_ts:i.canceled_ts==="18446744073709551615"?0:Number(i.canceled_ts),id:i.id.id,obtained_amount:i.obtained_amount,owner:i.owner,rate:i.rate,rate_order_indexer_id:i.rate_order_indexer_id,expire_ts:Number(i.expire_ts),total_pay_amount:i.total_pay_amount,pay_balance:i.pay_balance,target_balance:i.target_balance,claimed_amount:i.claimed_amount,status:"Running",created_ts:Number(i.created_ts)};return a.canceled_ts===0?(a.status="Running",G$2(a.pay_balance).eq(0)?a.status="Completed":G$2(a.pay_balance).lessThan(a.total_pay_amount)&&(a.status="PartialCompleted")):a.status="Cancelled",a}catch(s){console.log(s)}}static rateToPrice(e,i,n){let s=18+i-n;return G$2(10**s).div(e).toString()}static priceToRate(e,i,n){let s=18+i-n;return G$2(10).pow(s).div(G$2(e)).toFixed(0).toString()}},x$1=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}async getLimitOrderTokenList(){let{limit_order:e}=this._sdk.sdkOptions,{token_list_handle:i}=na(e),{FullClient:n}=this._sdk;try{let s=(await n.getDynamicFieldsByPage(i)).data.map(a=>a.objectId);return(await n.batchGetObjects(s,{showContent:!0})).map(a=>{let{fields:l}=a.data.content;return{coin_type:ie$2(l.name.fields.name).full_address,min_trade_amount:Number(l.value)}})}catch(s){return c$1("FetchError",s,{[be$5.METHOD_NAME]:"getLimitOrderTokenList"})}}async getLimitOrderPoolList(){let{limit_order:e}=this._sdk.sdkOptions,{rate_orders_indexer_handle:i}=na(e),{FullClient:n}=this._sdk;try{let s=(await n.getDynamicFieldsByPage(i)).data.map(a=>a.objectId);return(await n.batchGetObjects(s,{showContent:!0})).map(a=>{let{fields:l}=a.data.content.fields.value,A={pay_coin_type:ie$2(l.pay_coin.fields.name).full_address,target_coin_type:ie$2(l.target_coin.fields.name).full_address,indexer_id:l.indexer_id,indexer_key:l.indexer_key};return this._sdk.updateCache(`${A.pay_coin_type}_${A.target_coin_type}`,A.indexer_id),A})}catch(s){return c$1("FetchError",s,{[be$5.METHOD_NAME]:"getLimitOrderPoolList"})}}async getLimitOrderPool(e,i){let{limit_order:n}=this._sdk.sdkOptions,{rate_orders_indexer_handle:s}=na(n),{FullClient:a}=this._sdk;try{let l=await a.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:this.buildPoolKey(Go(e,!0),Go(i,!0))}}),{fields:A}=Is(l).value,T={pay_coin_type:ie$2(A.pay_coin.fields.name).full_address,target_coin_type:ie$2(A.target_coin.fields.name).full_address,indexer_id:A.indexer_id,indexer_key:A.indexer_key};return this._sdk.updateCache(`${T.pay_coin_type}_${T.target_coin_type}`,T.indexer_id),T}catch(l){return console.log(" ~ file: LimitOrderModule.ts:122 ~ LimitOrderModule ~ getLimitOrderPool ~ error:",l),c$1("FetchError",l,{[be$5.METHOD_NAME]:"getLimitOrderPool",[be$5.REQUEST_PARAMS]:{pay_coin_type:e,target_coin_type:i}})}}async getPoolIndexerId(e,i){let n=this._sdk.getCache(`${e}_${i}`);try{if(n===void 0){let s=await this.getLimitOrderPool(e,i);if(s)return s.indexer_id}}catch(s){c$1("FetchError",s,{[be$5.METHOD_NAME]:"getPoolIndexerId",[be$5.REQUEST_PARAMS]:{pay_coin_type:e,target_coin_type:i}})}return n}buildGetUserIndexerHandle(e,i){let{limit_order:n}=this._sdk.sdkOptions;i=i||new Transaction,i.moveCall({target:`${n.published_at}::limit_order::get_orders_indexer_by_owner`,typeArguments:[],arguments:[i.pure.address(e),i.object(na(n).user_orders_indexer_id)]})}parsedQueryUserIndexerEvent(e){var n;let i=(n=e.events)==null?void 0:n.filter(s=>s.type.includes("limit_order::QueryUserIndexerEvent"));if(i.length>0){let{parsedJson:s}=i[0];return s.orders_table_id}}async getOwnerLimitOrderList(e,i){let{FullClient:n}=this._sdk,s={data:[],has_next_page:!1};try{let a=await this.getUserIndexerHandle(e);if(!a)return s;let l=await n.getDynamicFieldsByPage(a,i);s.has_next_page=l.has_next_page,s.next_cursor=l.next_cursor;let A=l.data.map(q=>q.name.value),T=(await n.batchGetObjects(A,{showContent:!0})).map(q=>m$1.buildLimitOrderInfo(q)).filter(q=>q!==void 0);s.data=T}catch(a){console.error("Error in getOwnerLimitOrderList:",a),c$1("FetchError",a,{[be$5.METHOD_NAME]:"getOwnerLimitOrderList",[be$5.REQUEST_PARAMS]:{owner_address:e,pagination_args:i}})}return s}async getLimitOrderConfigs(){let{package_id:e}=this._sdk.sdkOptions.limit_order,i={rate_orders_indexer_id:"",rate_orders_indexer_handle:"",global_config_id:"",token_list_handle:"",user_orders_indexer_id:"",user_orders_indexer_handle:""};try{let n=(await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::limit_order::InitEvent`})).data;if(n.length>0){let a=n[0].parsedJson;i.rate_orders_indexer_id=a.rate_orders_indexer_id,i.user_orders_indexer_id=a.user_orders_indexer_id;let l=await this._sdk.FullClient.getObject({id:i.rate_orders_indexer_id,options:{showContent:!0}});i.rate_orders_indexer_handle=Is(l).list.fields.id.id;let A=await this._sdk.FullClient.getObject({id:i.user_orders_indexer_id,options:{showContent:!0}});i.user_orders_indexer_handle=Is(A).indexer.fields.id.id}let s=(await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::config::InitFactoryEvent`})).data;if(s.length>0){let a=s[0].parsedJson;i.global_config_id=a.global_config_id;let l=await this._sdk.FullClient.getObject({id:i.global_config_id,options:{showContent:!0}}),A=Is(l);i.token_list_handle=A.token_white_list.fields.id.id}return i}catch(n){return c$1("FetchError",n,{[be$5.METHOD_NAME]:"getLimitOrderConfigs"})}}async getLimitOrder(e){try{let i=await this._sdk.FullClient.getObject({id:e,options:{showContent:!0}});return m$1.buildLimitOrderInfo(i)}catch(i){return console.log("Error in getLimitOrder:",i),c$1("LimitOrderIdInValid",i,{[be$5.METHOD_NAME]:"getLimitOrder",[be$5.REQUEST_PARAMS]:{order_id:e}})}}async getLimitOrderLogs(e){try{let i=await this._sdk.FullClient.queryTransactionBlocks({filter:{ChangedObject:e},options:{showEvents:!0}}),n=[];return i.data.forEach(s=>{n.push(...m$1.buildOrderLimitEvent(s,["OrderPlacedEvent","OrderCanceledEvent","FlashLoanEvent"]))}),n}catch(i){console.log("Error in getLimitOrderLogs:",i),c$1("LimitOrderIdInValid",i,{[be$5.METHOD_NAME]:"getLimitOrderLogs",[be$5.REQUEST_PARAMS]:{order_id:e}})}return[]}async getLimitOrderClaimLogs(e){try{let i=await this._sdk.FullClient.queryTransactionBlocks({filter:{ChangedObject:e},options:{showEvents:!0}}),n=[];return i.data.forEach(s=>{n.push(...m$1.buildOrderLimitEvent(s,["ClaimTargetCoinEvent"]))}),n}catch(i){console.log("Error in getLimitOrderLogs:",i),c$1("LimitOrderIdInValid",i,{[be$5.METHOD_NAME]:"getLimitOrderClaimLogs",[be$5.REQUEST_PARAMS]:{order_id:e}})}return[]}buildRateOrdersIndexerType(e){let{limit_order:i}=this._sdk.sdkOptions;return or$4(`${i.package_id}::limit_order::RateOrdersIndexer`,[e.pay_coin_type,e.target_coin_type])}buildPoolKey(e,i){let n=Buffer$1.from(e,"ascii"),s=Buffer$1.from(i,"ascii"),a=Buffer$1.concat([n,s]),l=blakejs.blake2b(a,void 0,32);return`0x${Buffer$1.from(l).toString("hex")}`}async placeLimitOrder(e){let{limit_order:i}=this._sdk.sdkOptions,{user_orders_indexer_id:n,global_config_id:s,rate_orders_indexer_id:a}=na(i);try{let l=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress(),e.pay_coin_type),A=new Transaction,T=await this.getPoolIndexerId(e.pay_coin_type,e.target_coin_type),q=Oe$3.buildCoinForAmount(A,l,BigInt(e.pay_coin_amount),e.pay_coin_type,!1,!0);return A.moveCall({target:`${i.published_at}::limit_order::${T===void 0?"create_indexer_and_place_limit_order":"place_limit_order"}`,typeArguments:[e.pay_coin_type,e.target_coin_type],arguments:[A.object(s),T===void 0?A.object(a):A.object(T),A.object(n),q.target_coin,A.pure.u128(m$1.priceToRate(e.price,e.pay_decimal,e.target_decimal)),A.pure.u64(e.expired_ts),A.object(no$2)]}),A}catch(l){return c$1("FetchError",l,{[be$5.METHOD_NAME]:"placeLimitOrder",[be$5.REQUEST_PARAMS]:e})}}async claimTargetCoin(e){let{limit_order:i}=this._sdk.sdkOptions,{global_config_id:n}=na(i),s=new Transaction;return s.moveCall({target:`${i.published_at}::limit_order::claim_target_coin`,typeArguments:[e.pay_coin_type,e.target_coin_type],arguments:[s.object(n),s.object(e.order_id)]}),s}async cancelOrdersByOwner(e){let{limit_order:i}=this._sdk.sdkOptions,{global_config_id:n}=na(i),s=new Transaction;try{let a={};for(let l=0;l<e.length;l++){let A=e[l],T=await this.getPoolIndexerId(A.pay_coin_type,A.target_coin_type);if(T===void 0)throw Error("not found indexerId");a[A.order_id]=T}return e.forEach(l=>{s.moveCall({target:`${i.published_at}::limit_order::cancel_order_by_owner`,typeArguments:[l.pay_coin_type,l.target_coin_type],arguments:[s.object(n),s.object(a[l.order_id]),s.object(l.order_id),s.object(no$2)]})}),s}catch(a){return c$1("FetchError",a,{[be$5.METHOD_NAME]:"cancelOrdersByOwner",[be$5.REQUEST_PARAMS]:e})}}async getUserIndexerHandle(e){let i=this.getUserIndexerHandleByCache(e);if(i===void 0){let n=new Transaction;this.buildGetUserIndexerHandle(e,n);let s=await this._sdk.FullClient.devInspectTransactionBlock({transactionBlock:n,sender:normalizeSuiAddress$1(e)});i=this.parsedQueryUserIndexerEvent(s),i&&this.saveUserIndexerHandleByCache(e,i)}return i}getUserIndexerHandleByCache(e){let i=`getUserIndexerHandleByCache_${e}`;return this._sdk.getCache(i)}saveUserIndexerHandleByCache(e,i){let n=`getUserIndexerHandleByCache_${e}`;return this._sdk.updateCache(n,i)}},h=class Bl extends ur$4{constructor(e){super(e),this._sdkOptions=e,this._limitOrder=new x$1(this)}get LimitOrder(){return this._limitOrder}static createSDK(e){let{env:i="mainnet",full_rpc_url:n}=e;return i==="mainnet"?Bl.createCustomSDK({...E$1,...e}):Bl.createCustomSDK({...L$1,...e})}static createCustomSDK(e){return new Bl(e)}},_n=Object.create,qi=Object.defineProperty,pn$1=Object.getOwnPropertyDescriptor,gn$1=Object.getOwnPropertyNames,vn$1=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty,bn$1=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),yn$1=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Mn$1=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of gn$1(e))!wn.call(t,s)&&s!==i&&qi(t,s,{get:()=>e[s],enumerable:!(n=pn$1(e,s))||n.enumerable});return t},Ti=(t,e,i)=>(i=t!=null?_n(vn$1(t)):{},Mn$1(!t||!t.__esModule?qi(i,"default",{value:t,enumerable:!0}):i,t)),Qe$2=yn$1((t,e)=>{(function(i,n){function s(f,Y){if(!f)throw new Error(Y||"Assertion failed")}function a(f,Y){f.super_=Y;var nt=function(){};nt.prototype=Y.prototype,f.prototype=new nt,f.prototype.constructor=f}function l(f,Y,nt){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((Y==="le"||Y==="be")&&(nt=Y,Y=10),this._init(f||0,Y||10,nt||"be"))}typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var A;try{typeof window<"u"&&typeof window.Buffer<"u"?A=window.Buffer:A=bn$1("buffer").Buffer}catch{}l.isBN=function(f){return f instanceof l?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===l.wordSize&&Array.isArray(f.words)},l.max=function(f,Y){return f.cmp(Y)>0?f:Y},l.min=function(f,Y){return f.cmp(Y)<0?f:Y},l.prototype._init=function(f,Y,nt){if(typeof f=="number")return this._initNumber(f,Y,nt);if(typeof f=="object")return this._initArray(f,Y,nt);Y==="hex"&&(Y=16),s(Y===(Y|0)&&Y>=2&&Y<=36),f=f.toString().replace(/\s+/g,"");var vs=0;f[0]==="-"&&(vs++,this.negative=1),vs<f.length&&(Y===16?this._parseHex(f,vs,nt):(this._parseBase(f,Y,vs),nt==="le"&&this._initArray(this.toArray(),Y,nt)))},l.prototype._initNumber=function(f,Y,nt){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(s(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),nt==="le"&&this._initArray(this.toArray(),Y,nt)},l.prototype._initArray=function(f,Y,nt){if(s(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks,Ds,Bs=0;if(nt==="be")for(vs=f.length-1,ks=0;vs>=0;vs-=3)Ds=f[vs]|f[vs-1]<<8|f[vs-2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);else if(nt==="le")for(vs=0,ks=0;vs<f.length;vs+=3)Ds=f[vs]|f[vs+1]<<8|f[vs+2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);return this._strip()};function T(f,Y){var nt=f.charCodeAt(Y);if(nt>=48&&nt<=57)return nt-48;if(nt>=65&&nt<=70)return nt-55;if(nt>=97&&nt<=102)return nt-87;s(!1,"Invalid character in "+f)}function q(f,Y,nt){var vs=T(f,nt);return nt-1>=Y&&(vs|=T(f,nt-1)<<4),vs}l.prototype._parseHex=function(f,Y,nt){this.length=Math.ceil((f.length-Y)/6),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks=0,Ds=0,Bs;if(nt==="be")for(vs=f.length-1;vs>=Y;vs-=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8;else{var Ms=f.length-Y;for(vs=Ms%2===0?Y+1:Y;vs<f.length;vs+=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8}this._strip()};function et(f,Y,nt,vs){for(var ks=0,Ds=0,Bs=Math.min(f.length,nt),Ms=Y;Ms<Bs;Ms++){var Q=f.charCodeAt(Ms)-48;ks*=vs,Q>=49?Ds=Q-49+10:Q>=17?Ds=Q-17+10:Ds=Q,s(Q>=0&&Ds<vs,"Invalid character"),ks+=Ds}return ks}l.prototype._parseBase=function(f,Y,nt){this.words=[0],this.length=1;for(var vs=0,ks=1;ks<=67108863;ks*=Y)vs++;vs--,ks=ks/Y|0;for(var Ds=f.length-nt,Bs=Ds%vs,Ms=Math.min(Ds,Ds-Bs)+nt,Q=0,$s=nt;$s<Ms;$s+=vs)Q=et(f,$s,$s+vs,Y),this.imuln(ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(Bs!==0){var Ks=1;for(Q=et(f,$s,f.length,Y),$s=0;$s<Bs;$s++)Ks*=Y;this.imuln(Ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},l.prototype.copy=function(f){f.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)f.words[Y]=this.words[Y];f.length=this.length,f.negative=this.negative,f.red=this.red};function xi(f,Y){f.words=Y.words,f.length=Y.length,f.negative=Y.negative,f.red=Y.red}if(l.prototype._move=function(f){xi(f,this)},l.prototype.clone=function(){var f=new l(null);return this.copy(f),f},l.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oi}catch{l.prototype.inspect=Oi}else l.prototype.inspect=Oi;function Oi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Fs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(f,Y){f=f||10,Y=Y|0||1;var nt;if(f===16||f==="hex"){nt="";for(var vs=0,ks=0,Ds=0;Ds<this.length;Ds++){var Bs=this.words[Ds],Ms=((Bs<<vs|ks)&16777215).toString(16);ks=Bs>>>24-vs&16777215,vs+=2,vs>=26&&(vs-=26,Ds--),ks!==0||Ds!==this.length-1?nt=Ts[6-Ms.length]+Ms+nt:nt=Ms+nt}for(ks!==0&&(nt=ks.toString(16)+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}if(f===(f|0)&&f>=2&&f<=36){var Q=Fs[f],$s=qs[f];nt="";var Ks=this.clone();for(Ks.negative=0;!Ks.isZero();){var jo=Ks.modrn($s).toString(f);Ks=Ks.idivn($s),Ks.isZero()?nt=jo+nt:nt=Ts[Q-jo.length]+jo+nt}for(this.isZero()&&(nt="0"+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},l.prototype.toJSON=function(){return this.toString(16,2)},A&&(l.prototype.toBuffer=function(f,Y){return this.toArrayLike(A,f,Y)}),l.prototype.toArray=function(f,Y){return this.toArrayLike(Array,f,Y)};var Us=function(f,Y){return f.allocUnsafe?f.allocUnsafe(Y):new f(Y)};l.prototype.toArrayLike=function(f,Y,nt){this._strip();var vs=this.byteLength(),ks=nt||Math.max(1,vs);s(vs<=ks,"byte array longer than desired length"),s(ks>0,"Requested array length <= 0");var Ds=Us(f,ks),Bs=Y==="le"?"LE":"BE";return this["_toArrayLike"+Bs](Ds,vs),Ds},l.prototype._toArrayLikeLE=function(f,Y){for(var nt=0,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt++]=Bs&255,nt<f.length&&(f[nt++]=Bs>>8&255),nt<f.length&&(f[nt++]=Bs>>16&255),Ds===6?(nt<f.length&&(f[nt++]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt<f.length)for(f[nt++]=vs;nt<f.length;)f[nt++]=0},l.prototype._toArrayLikeBE=function(f,Y){for(var nt=f.length-1,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt--]=Bs&255,nt>=0&&(f[nt--]=Bs>>8&255),nt>=0&&(f[nt--]=Bs>>16&255),Ds===6?(nt>=0&&(f[nt--]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt>=0)for(f[nt--]=vs;nt>=0;)f[nt--]=0},Math.clz32?l.prototype._countBits=function(f){return 32-Math.clz32(f)}:l.prototype._countBits=function(f){var Y=f,nt=0;return Y>=4096&&(nt+=13,Y>>>=13),Y>=64&&(nt+=7,Y>>>=7),Y>=8&&(nt+=4,Y>>>=4),Y>=2&&(nt+=2,Y>>>=2),nt+Y},l.prototype._zeroBits=function(f){if(f===0)return 26;var Y=f,nt=0;return!(Y&8191)&&(nt+=13,Y>>>=13),!(Y&127)&&(nt+=7,Y>>>=7),!(Y&15)&&(nt+=4,Y>>>=4),!(Y&3)&&(nt+=2,Y>>>=2),!(Y&1)&&nt++,nt},l.prototype.bitLength=function(){var f=this.words[this.length-1],Y=this._countBits(f);return(this.length-1)*26+Y};function Ls(f){for(var Y=new Array(f.bitLength()),nt=0;nt<Y.length;nt++){var vs=nt/26|0,ks=nt%26;Y[nt]=f.words[vs]>>>ks&1}return Y}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,Y=0;Y<this.length;Y++){var nt=this._zeroBits(this.words[Y]);if(f+=nt,nt!==26)break}return f},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},l.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var Y=0;Y<f.length;Y++)this.words[Y]=this.words[Y]|f.words[Y];return this._strip()},l.prototype.ior=function(f){return s((this.negative|f.negative)===0),this.iuor(f)},l.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},l.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},l.prototype.iuand=function(f){var Y;this.length>f.length?Y=f:Y=this;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]&f.words[nt];return this.length=Y.length,this._strip()},l.prototype.iand=function(f){return s((this.negative|f.negative)===0),this.iuand(f)},l.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},l.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},l.prototype.iuxor=function(f){var Y,nt;this.length>f.length?(Y=this,nt=f):(Y=f,nt=this);for(var vs=0;vs<nt.length;vs++)this.words[vs]=Y.words[vs]^nt.words[vs];if(this!==Y)for(;vs<Y.length;vs++)this.words[vs]=Y.words[vs];return this.length=Y.length,this._strip()},l.prototype.ixor=function(f){return s((this.negative|f.negative)===0),this.iuxor(f)},l.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},l.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},l.prototype.inotn=function(f){s(typeof f=="number"&&f>=0);var Y=Math.ceil(f/26)|0,nt=f%26;this._expand(Y),nt>0&&Y--;for(var vs=0;vs<Y;vs++)this.words[vs]=~this.words[vs]&67108863;return nt>0&&(this.words[vs]=~this.words[vs]&67108863>>26-nt),this._strip()},l.prototype.notn=function(f){return this.clone().inotn(f)},l.prototype.setn=function(f,Y){s(typeof f=="number"&&f>=0);var nt=f/26|0,vs=f%26;return this._expand(nt+1),Y?this.words[nt]=this.words[nt]|1<<vs:this.words[nt]=this.words[nt]&~(1<<vs),this._strip()},l.prototype.iadd=function(f){var Y;if(this.negative!==0&&f.negative===0)return this.negative=0,Y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,Y=this.isub(f),f.negative=1,Y._normSign();var nt,vs;this.length>f.length?(nt=this,vs=f):(nt=f,vs=this);for(var ks=0,Ds=0;Ds<vs.length;Ds++)Y=(nt.words[Ds]|0)+(vs.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;for(;ks!==0&&Ds<nt.length;Ds++)Y=(nt.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;if(this.length=nt.length,ks!==0)this.words[this.length]=ks,this.length++;else if(nt!==this)for(;Ds<nt.length;Ds++)this.words[Ds]=nt.words[Ds];return this},l.prototype.add=function(f){var Y;return f.negative!==0&&this.negative===0?(f.negative=0,Y=this.sub(f),f.negative^=1,Y):f.negative===0&&this.negative!==0?(this.negative=0,Y=f.sub(this),this.negative=1,Y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},l.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var Y=this.iadd(f);return f.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var nt=this.cmp(f);if(nt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vs,ks;nt>0?(vs=this,ks=f):(vs=f,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)Y=(vs.words[Bs]|0)-(ks.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;for(;Ds!==0&&Bs<vs.length;Bs++)Y=(vs.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;if(Ds===0&&Bs<vs.length&&vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this.length=Math.max(this.length,Bs),vs!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(f){return this.clone().isub(f)};function Gs(f,Y,nt){nt.negative=Y.negative^f.negative;var vs=f.length+Y.length|0;nt.length=vs,vs=vs-1|0;var ks=f.words[0]|0,Ds=Y.words[0]|0,Bs=ks*Ds,Ms=Bs&67108863,Q=Bs/67108864|0;nt.words[0]=Ms;for(var $s=1;$s<vs;$s++){for(var Ks=Q>>>26,jo=Q&67108863,Bo=Math.min($s,Y.length-1),To=Math.max(0,$s-f.length+1);To<=Bo;To++){var Oo=$s-To|0;ks=f.words[Oo]|0,Ds=Y.words[To]|0,Bs=ks*Ds+jo,Ks+=Bs/67108864|0,jo=Bs&67108863}nt.words[$s]=jo|0,Q=Ks|0}return Q!==0?nt.words[$s]=Q|0:nt.length--,nt._strip()}var zs=function(f,Y,nt){var vs=f.words,ks=Y.words,Ds=nt.words,Bs=0,Ms,Q,$s,Ks=vs[0]|0,jo=Ks&8191,Bo=Ks>>>13,To=vs[1]|0,Oo=To&8191,Vo=To>>>13,zo=vs[2]|0,so=zo&8191,Qs=zo>>>13,sa=vs[3]|0,Zo=sa&8191,Qo=sa>>>13,la=vs[4]|0,Ko=la&8191,Jo=la>>>13,aa=vs[5]|0,oa=aa&8191,ua=aa>>>13,Ma=vs[6]|0,da=Ma&8191,fa=Ma>>>13,La=vs[7]|0,ga=La&8191,ha=La>>>13,Ga=vs[8]|0,Aa=Ga&8191,_a=Ga>>>13,Za=vs[9]|0,Ta=Za&8191,ma=Za>>>13,Xa=ks[0]|0,ka=Xa&8191,pa=Xa>>>13,za=ks[1]|0,Ba=za&8191,wa=za>>>13,Ja=ks[2]|0,Oa=Ja&8191,ba=Ja>>>13,eu=ks[3]|0,Ia=eu&8191,xa=eu>>>13,Ya=ks[4]|0,Pa=Ya&8191,$a=Ya>>>13,Qa=ks[5]|0,Da=Qa&8191,va=Qa>>>13,Ka=ks[6]|0,Ra=Ka&8191,ya=Ka>>>13,tu=ks[7]|0,Na=tu&8191,Sa=tu>>>13,ru=ks[8]|0,Fa=ru&8191,Ea=ru>>>13,iu=ks[9]|0,ja=iu&8191,Ca=iu>>>13;nt.negative=f.negative^Y.negative,nt.length=19,Ms=Math.imul(jo,ka),Q=Math.imul(jo,pa),Q=Q+Math.imul(Bo,ka)|0,$s=Math.imul(Bo,pa);var nu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ms=Math.imul(Oo,ka),Q=Math.imul(Oo,pa),Q=Q+Math.imul(Vo,ka)|0,$s=Math.imul(Vo,pa),Ms=Ms+Math.imul(jo,Ba)|0,Q=Q+Math.imul(jo,wa)|0,Q=Q+Math.imul(Bo,Ba)|0,$s=$s+Math.imul(Bo,wa)|0;var ou=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ms=Math.imul(so,ka),Q=Math.imul(so,pa),Q=Q+Math.imul(Qs,ka)|0,$s=Math.imul(Qs,pa),Ms=Ms+Math.imul(Oo,Ba)|0,Q=Q+Math.imul(Oo,wa)|0,Q=Q+Math.imul(Vo,Ba)|0,$s=$s+Math.imul(Vo,wa)|0,Ms=Ms+Math.imul(jo,Oa)|0,Q=Q+Math.imul(jo,ba)|0,Q=Q+Math.imul(Bo,Oa)|0,$s=$s+Math.imul(Bo,ba)|0;var au=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(au>>>26)|0,au&=67108863,Ms=Math.imul(Zo,ka),Q=Math.imul(Zo,pa),Q=Q+Math.imul(Qo,ka)|0,$s=Math.imul(Qo,pa),Ms=Ms+Math.imul(so,Ba)|0,Q=Q+Math.imul(so,wa)|0,Q=Q+Math.imul(Qs,Ba)|0,$s=$s+Math.imul(Qs,wa)|0,Ms=Ms+Math.imul(Oo,Oa)|0,Q=Q+Math.imul(Oo,ba)|0,Q=Q+Math.imul(Vo,Oa)|0,$s=$s+Math.imul(Vo,ba)|0,Ms=Ms+Math.imul(jo,Ia)|0,Q=Q+Math.imul(jo,xa)|0,Q=Q+Math.imul(Bo,Ia)|0,$s=$s+Math.imul(Bo,xa)|0;var uu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ms=Math.imul(Ko,ka),Q=Math.imul(Ko,pa),Q=Q+Math.imul(Jo,ka)|0,$s=Math.imul(Jo,pa),Ms=Ms+Math.imul(Zo,Ba)|0,Q=Q+Math.imul(Zo,wa)|0,Q=Q+Math.imul(Qo,Ba)|0,$s=$s+Math.imul(Qo,wa)|0,Ms=Ms+Math.imul(so,Oa)|0,Q=Q+Math.imul(so,ba)|0,Q=Q+Math.imul(Qs,Oa)|0,$s=$s+Math.imul(Qs,ba)|0,Ms=Ms+Math.imul(Oo,Ia)|0,Q=Q+Math.imul(Oo,xa)|0,Q=Q+Math.imul(Vo,Ia)|0,$s=$s+Math.imul(Vo,xa)|0,Ms=Ms+Math.imul(jo,Pa)|0,Q=Q+Math.imul(jo,$a)|0,Q=Q+Math.imul(Bo,Pa)|0,$s=$s+Math.imul(Bo,$a)|0;var cu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ms=Math.imul(oa,ka),Q=Math.imul(oa,pa),Q=Q+Math.imul(ua,ka)|0,$s=Math.imul(ua,pa),Ms=Ms+Math.imul(Ko,Ba)|0,Q=Q+Math.imul(Ko,wa)|0,Q=Q+Math.imul(Jo,Ba)|0,$s=$s+Math.imul(Jo,wa)|0,Ms=Ms+Math.imul(Zo,Oa)|0,Q=Q+Math.imul(Zo,ba)|0,Q=Q+Math.imul(Qo,Oa)|0,$s=$s+Math.imul(Qo,ba)|0,Ms=Ms+Math.imul(so,Ia)|0,Q=Q+Math.imul(so,xa)|0,Q=Q+Math.imul(Qs,Ia)|0,$s=$s+Math.imul(Qs,xa)|0,Ms=Ms+Math.imul(Oo,Pa)|0,Q=Q+Math.imul(Oo,$a)|0,Q=Q+Math.imul(Vo,Pa)|0,$s=$s+Math.imul(Vo,$a)|0,Ms=Ms+Math.imul(jo,Da)|0,Q=Q+Math.imul(jo,va)|0,Q=Q+Math.imul(Bo,Da)|0,$s=$s+Math.imul(Bo,va)|0;var lu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ms=Math.imul(da,ka),Q=Math.imul(da,pa),Q=Q+Math.imul(fa,ka)|0,$s=Math.imul(fa,pa),Ms=Ms+Math.imul(oa,Ba)|0,Q=Q+Math.imul(oa,wa)|0,Q=Q+Math.imul(ua,Ba)|0,$s=$s+Math.imul(ua,wa)|0,Ms=Ms+Math.imul(Ko,Oa)|0,Q=Q+Math.imul(Ko,ba)|0,Q=Q+Math.imul(Jo,Oa)|0,$s=$s+Math.imul(Jo,ba)|0,Ms=Ms+Math.imul(Zo,Ia)|0,Q=Q+Math.imul(Zo,xa)|0,Q=Q+Math.imul(Qo,Ia)|0,$s=$s+Math.imul(Qo,xa)|0,Ms=Ms+Math.imul(so,Pa)|0,Q=Q+Math.imul(so,$a)|0,Q=Q+Math.imul(Qs,Pa)|0,$s=$s+Math.imul(Qs,$a)|0,Ms=Ms+Math.imul(Oo,Da)|0,Q=Q+Math.imul(Oo,va)|0,Q=Q+Math.imul(Vo,Da)|0,$s=$s+Math.imul(Vo,va)|0,Ms=Ms+Math.imul(jo,Ra)|0,Q=Q+Math.imul(jo,ya)|0,Q=Q+Math.imul(Bo,Ra)|0,$s=$s+Math.imul(Bo,ya)|0;var du=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(du>>>26)|0,du&=67108863,Ms=Math.imul(ga,ka),Q=Math.imul(ga,pa),Q=Q+Math.imul(ha,ka)|0,$s=Math.imul(ha,pa),Ms=Ms+Math.imul(da,Ba)|0,Q=Q+Math.imul(da,wa)|0,Q=Q+Math.imul(fa,Ba)|0,$s=$s+Math.imul(fa,wa)|0,Ms=Ms+Math.imul(oa,Oa)|0,Q=Q+Math.imul(oa,ba)|0,Q=Q+Math.imul(ua,Oa)|0,$s=$s+Math.imul(ua,ba)|0,Ms=Ms+Math.imul(Ko,Ia)|0,Q=Q+Math.imul(Ko,xa)|0,Q=Q+Math.imul(Jo,Ia)|0,$s=$s+Math.imul(Jo,xa)|0,Ms=Ms+Math.imul(Zo,Pa)|0,Q=Q+Math.imul(Zo,$a)|0,Q=Q+Math.imul(Qo,Pa)|0,$s=$s+Math.imul(Qo,$a)|0,Ms=Ms+Math.imul(so,Da)|0,Q=Q+Math.imul(so,va)|0,Q=Q+Math.imul(Qs,Da)|0,$s=$s+Math.imul(Qs,va)|0,Ms=Ms+Math.imul(Oo,Ra)|0,Q=Q+Math.imul(Oo,ya)|0,Q=Q+Math.imul(Vo,Ra)|0,$s=$s+Math.imul(Vo,ya)|0,Ms=Ms+Math.imul(jo,Na)|0,Q=Q+Math.imul(jo,Sa)|0,Q=Q+Math.imul(Bo,Na)|0,$s=$s+Math.imul(Bo,Sa)|0;var fu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ms=Math.imul(Aa,ka),Q=Math.imul(Aa,pa),Q=Q+Math.imul(_a,ka)|0,$s=Math.imul(_a,pa),Ms=Ms+Math.imul(ga,Ba)|0,Q=Q+Math.imul(ga,wa)|0,Q=Q+Math.imul(ha,Ba)|0,$s=$s+Math.imul(ha,wa)|0,Ms=Ms+Math.imul(da,Oa)|0,Q=Q+Math.imul(da,ba)|0,Q=Q+Math.imul(fa,Oa)|0,$s=$s+Math.imul(fa,ba)|0,Ms=Ms+Math.imul(oa,Ia)|0,Q=Q+Math.imul(oa,xa)|0,Q=Q+Math.imul(ua,Ia)|0,$s=$s+Math.imul(ua,xa)|0,Ms=Ms+Math.imul(Ko,Pa)|0,Q=Q+Math.imul(Ko,$a)|0,Q=Q+Math.imul(Jo,Pa)|0,$s=$s+Math.imul(Jo,$a)|0,Ms=Ms+Math.imul(Zo,Da)|0,Q=Q+Math.imul(Zo,va)|0,Q=Q+Math.imul(Qo,Da)|0,$s=$s+Math.imul(Qo,va)|0,Ms=Ms+Math.imul(so,Ra)|0,Q=Q+Math.imul(so,ya)|0,Q=Q+Math.imul(Qs,Ra)|0,$s=$s+Math.imul(Qs,ya)|0,Ms=Ms+Math.imul(Oo,Na)|0,Q=Q+Math.imul(Oo,Sa)|0,Q=Q+Math.imul(Vo,Na)|0,$s=$s+Math.imul(Vo,Sa)|0,Ms=Ms+Math.imul(jo,Fa)|0,Q=Q+Math.imul(jo,Ea)|0,Q=Q+Math.imul(Bo,Fa)|0,$s=$s+Math.imul(Bo,Ea)|0;var hu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ms=Math.imul(Ta,ka),Q=Math.imul(Ta,pa),Q=Q+Math.imul(ma,ka)|0,$s=Math.imul(ma,pa),Ms=Ms+Math.imul(Aa,Ba)|0,Q=Q+Math.imul(Aa,wa)|0,Q=Q+Math.imul(_a,Ba)|0,$s=$s+Math.imul(_a,wa)|0,Ms=Ms+Math.imul(ga,Oa)|0,Q=Q+Math.imul(ga,ba)|0,Q=Q+Math.imul(ha,Oa)|0,$s=$s+Math.imul(ha,ba)|0,Ms=Ms+Math.imul(da,Ia)|0,Q=Q+Math.imul(da,xa)|0,Q=Q+Math.imul(fa,Ia)|0,$s=$s+Math.imul(fa,xa)|0,Ms=Ms+Math.imul(oa,Pa)|0,Q=Q+Math.imul(oa,$a)|0,Q=Q+Math.imul(ua,Pa)|0,$s=$s+Math.imul(ua,$a)|0,Ms=Ms+Math.imul(Ko,Da)|0,Q=Q+Math.imul(Ko,va)|0,Q=Q+Math.imul(Jo,Da)|0,$s=$s+Math.imul(Jo,va)|0,Ms=Ms+Math.imul(Zo,Ra)|0,Q=Q+Math.imul(Zo,ya)|0,Q=Q+Math.imul(Qo,Ra)|0,$s=$s+Math.imul(Qo,ya)|0,Ms=Ms+Math.imul(so,Na)|0,Q=Q+Math.imul(so,Sa)|0,Q=Q+Math.imul(Qs,Na)|0,$s=$s+Math.imul(Qs,Sa)|0,Ms=Ms+Math.imul(Oo,Fa)|0,Q=Q+Math.imul(Oo,Ea)|0,Q=Q+Math.imul(Vo,Fa)|0,$s=$s+Math.imul(Vo,Ea)|0,Ms=Ms+Math.imul(jo,ja)|0,Q=Q+Math.imul(jo,Ca)|0,Q=Q+Math.imul(Bo,ja)|0,$s=$s+Math.imul(Bo,Ca)|0;var pu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ms=Math.imul(Ta,Ba),Q=Math.imul(Ta,wa),Q=Q+Math.imul(ma,Ba)|0,$s=Math.imul(ma,wa),Ms=Ms+Math.imul(Aa,Oa)|0,Q=Q+Math.imul(Aa,ba)|0,Q=Q+Math.imul(_a,Oa)|0,$s=$s+Math.imul(_a,ba)|0,Ms=Ms+Math.imul(ga,Ia)|0,Q=Q+Math.imul(ga,xa)|0,Q=Q+Math.imul(ha,Ia)|0,$s=$s+Math.imul(ha,xa)|0,Ms=Ms+Math.imul(da,Pa)|0,Q=Q+Math.imul(da,$a)|0,Q=Q+Math.imul(fa,Pa)|0,$s=$s+Math.imul(fa,$a)|0,Ms=Ms+Math.imul(oa,Da)|0,Q=Q+Math.imul(oa,va)|0,Q=Q+Math.imul(ua,Da)|0,$s=$s+Math.imul(ua,va)|0,Ms=Ms+Math.imul(Ko,Ra)|0,Q=Q+Math.imul(Ko,ya)|0,Q=Q+Math.imul(Jo,Ra)|0,$s=$s+Math.imul(Jo,ya)|0,Ms=Ms+Math.imul(Zo,Na)|0,Q=Q+Math.imul(Zo,Sa)|0,Q=Q+Math.imul(Qo,Na)|0,$s=$s+Math.imul(Qo,Sa)|0,Ms=Ms+Math.imul(so,Fa)|0,Q=Q+Math.imul(so,Ea)|0,Q=Q+Math.imul(Qs,Fa)|0,$s=$s+Math.imul(Qs,Ea)|0,Ms=Ms+Math.imul(Oo,ja)|0,Q=Q+Math.imul(Oo,Ca)|0,Q=Q+Math.imul(Vo,ja)|0,$s=$s+Math.imul(Vo,Ca)|0;var mu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ms=Math.imul(Ta,Oa),Q=Math.imul(Ta,ba),Q=Q+Math.imul(ma,Oa)|0,$s=Math.imul(ma,ba),Ms=Ms+Math.imul(Aa,Ia)|0,Q=Q+Math.imul(Aa,xa)|0,Q=Q+Math.imul(_a,Ia)|0,$s=$s+Math.imul(_a,xa)|0,Ms=Ms+Math.imul(ga,Pa)|0,Q=Q+Math.imul(ga,$a)|0,Q=Q+Math.imul(ha,Pa)|0,$s=$s+Math.imul(ha,$a)|0,Ms=Ms+Math.imul(da,Da)|0,Q=Q+Math.imul(da,va)|0,Q=Q+Math.imul(fa,Da)|0,$s=$s+Math.imul(fa,va)|0,Ms=Ms+Math.imul(oa,Ra)|0,Q=Q+Math.imul(oa,ya)|0,Q=Q+Math.imul(ua,Ra)|0,$s=$s+Math.imul(ua,ya)|0,Ms=Ms+Math.imul(Ko,Na)|0,Q=Q+Math.imul(Ko,Sa)|0,Q=Q+Math.imul(Jo,Na)|0,$s=$s+Math.imul(Jo,Sa)|0,Ms=Ms+Math.imul(Zo,Fa)|0,Q=Q+Math.imul(Zo,Ea)|0,Q=Q+Math.imul(Qo,Fa)|0,$s=$s+Math.imul(Qo,Ea)|0,Ms=Ms+Math.imul(so,ja)|0,Q=Q+Math.imul(so,Ca)|0,Q=Q+Math.imul(Qs,ja)|0,$s=$s+Math.imul(Qs,Ca)|0;var gu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ms=Math.imul(Ta,Ia),Q=Math.imul(Ta,xa),Q=Q+Math.imul(ma,Ia)|0,$s=Math.imul(ma,xa),Ms=Ms+Math.imul(Aa,Pa)|0,Q=Q+Math.imul(Aa,$a)|0,Q=Q+Math.imul(_a,Pa)|0,$s=$s+Math.imul(_a,$a)|0,Ms=Ms+Math.imul(ga,Da)|0,Q=Q+Math.imul(ga,va)|0,Q=Q+Math.imul(ha,Da)|0,$s=$s+Math.imul(ha,va)|0,Ms=Ms+Math.imul(da,Ra)|0,Q=Q+Math.imul(da,ya)|0,Q=Q+Math.imul(fa,Ra)|0,$s=$s+Math.imul(fa,ya)|0,Ms=Ms+Math.imul(oa,Na)|0,Q=Q+Math.imul(oa,Sa)|0,Q=Q+Math.imul(ua,Na)|0,$s=$s+Math.imul(ua,Sa)|0,Ms=Ms+Math.imul(Ko,Fa)|0,Q=Q+Math.imul(Ko,Ea)|0,Q=Q+Math.imul(Jo,Fa)|0,$s=$s+Math.imul(Jo,Ea)|0,Ms=Ms+Math.imul(Zo,ja)|0,Q=Q+Math.imul(Zo,Ca)|0,Q=Q+Math.imul(Qo,ja)|0,$s=$s+Math.imul(Qo,Ca)|0;var _u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ms=Math.imul(Ta,Pa),Q=Math.imul(Ta,$a),Q=Q+Math.imul(ma,Pa)|0,$s=Math.imul(ma,$a),Ms=Ms+Math.imul(Aa,Da)|0,Q=Q+Math.imul(Aa,va)|0,Q=Q+Math.imul(_a,Da)|0,$s=$s+Math.imul(_a,va)|0,Ms=Ms+Math.imul(ga,Ra)|0,Q=Q+Math.imul(ga,ya)|0,Q=Q+Math.imul(ha,Ra)|0,$s=$s+Math.imul(ha,ya)|0,Ms=Ms+Math.imul(da,Na)|0,Q=Q+Math.imul(da,Sa)|0,Q=Q+Math.imul(fa,Na)|0,$s=$s+Math.imul(fa,Sa)|0,Ms=Ms+Math.imul(oa,Fa)|0,Q=Q+Math.imul(oa,Ea)|0,Q=Q+Math.imul(ua,Fa)|0,$s=$s+Math.imul(ua,Ea)|0,Ms=Ms+Math.imul(Ko,ja)|0,Q=Q+Math.imul(Ko,Ca)|0,Q=Q+Math.imul(Jo,ja)|0,$s=$s+Math.imul(Jo,Ca)|0;var bu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ms=Math.imul(Ta,Da),Q=Math.imul(Ta,va),Q=Q+Math.imul(ma,Da)|0,$s=Math.imul(ma,va),Ms=Ms+Math.imul(Aa,Ra)|0,Q=Q+Math.imul(Aa,ya)|0,Q=Q+Math.imul(_a,Ra)|0,$s=$s+Math.imul(_a,ya)|0,Ms=Ms+Math.imul(ga,Na)|0,Q=Q+Math.imul(ga,Sa)|0,Q=Q+Math.imul(ha,Na)|0,$s=$s+Math.imul(ha,Sa)|0,Ms=Ms+Math.imul(da,Fa)|0,Q=Q+Math.imul(da,Ea)|0,Q=Q+Math.imul(fa,Fa)|0,$s=$s+Math.imul(fa,Ea)|0,Ms=Ms+Math.imul(oa,ja)|0,Q=Q+Math.imul(oa,Ca)|0,Q=Q+Math.imul(ua,ja)|0,$s=$s+Math.imul(ua,Ca)|0;var vu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ms=Math.imul(Ta,Ra),Q=Math.imul(Ta,ya),Q=Q+Math.imul(ma,Ra)|0,$s=Math.imul(ma,ya),Ms=Ms+Math.imul(Aa,Na)|0,Q=Q+Math.imul(Aa,Sa)|0,Q=Q+Math.imul(_a,Na)|0,$s=$s+Math.imul(_a,Sa)|0,Ms=Ms+Math.imul(ga,Fa)|0,Q=Q+Math.imul(ga,Ea)|0,Q=Q+Math.imul(ha,Fa)|0,$s=$s+Math.imul(ha,Ea)|0,Ms=Ms+Math.imul(da,ja)|0,Q=Q+Math.imul(da,Ca)|0,Q=Q+Math.imul(fa,ja)|0,$s=$s+Math.imul(fa,Ca)|0;var yu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ms=Math.imul(Ta,Na),Q=Math.imul(Ta,Sa),Q=Q+Math.imul(ma,Na)|0,$s=Math.imul(ma,Sa),Ms=Ms+Math.imul(Aa,Fa)|0,Q=Q+Math.imul(Aa,Ea)|0,Q=Q+Math.imul(_a,Fa)|0,$s=$s+Math.imul(_a,Ea)|0,Ms=Ms+Math.imul(ga,ja)|0,Q=Q+Math.imul(ga,Ca)|0,Q=Q+Math.imul(ha,ja)|0,$s=$s+Math.imul(ha,Ca)|0;var wu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(wu>>>26)|0,wu&=67108863,Ms=Math.imul(Ta,Fa),Q=Math.imul(Ta,Ea),Q=Q+Math.imul(ma,Fa)|0,$s=Math.imul(ma,Ea),Ms=Ms+Math.imul(Aa,ja)|0,Q=Q+Math.imul(Aa,Ca)|0,Q=Q+Math.imul(_a,ja)|0,$s=$s+Math.imul(_a,Ca)|0;var $u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+($u>>>26)|0,$u&=67108863,Ms=Math.imul(Ta,ja),Q=Math.imul(Ta,Ca),Q=Q+Math.imul(ma,ja)|0,$s=Math.imul(ma,Ca);var Su=(Bs+Ms|0)+((Q&8191)<<13)|0;return Bs=($s+(Q>>>13)|0)+(Su>>>26)|0,Su&=67108863,Ds[0]=nu,Ds[1]=ou,Ds[2]=au,Ds[3]=uu,Ds[4]=cu,Ds[5]=lu,Ds[6]=du,Ds[7]=fu,Ds[8]=hu,Ds[9]=pu,Ds[10]=mu,Ds[11]=gu,Ds[12]=_u,Ds[13]=bu,Ds[14]=vu,Ds[15]=yu,Ds[16]=wu,Ds[17]=$u,Ds[18]=Su,Bs!==0&&(Ds[19]=Bs,nt.length++),nt};Math.imul||(zs=Gs);function Vs(f,Y,nt){nt.negative=Y.negative^f.negative,nt.length=f.length+Y.length;for(var vs=0,ks=0,Ds=0;Ds<nt.length-1;Ds++){var Bs=ks;ks=0;for(var Ms=vs&67108863,Q=Math.min(Ds,Y.length-1),$s=Math.max(0,Ds-f.length+1);$s<=Q;$s++){var Ks=Ds-$s,jo=f.words[Ks]|0,Bo=Y.words[$s]|0,To=jo*Bo,Oo=To&67108863;Bs=Bs+(To/67108864|0)|0,Oo=Oo+Ms|0,Ms=Oo&67108863,Bs=Bs+(Oo>>>26)|0,ks+=Bs>>>26,Bs&=67108863}nt.words[Ds]=Ms,vs=Bs,Bs=ks}return vs!==0?nt.words[Ds]=vs:nt.length--,nt._strip()}function Zs(f,Y,nt){return Vs(f,Y,nt)}l.prototype.mulTo=function(f,Y){var nt,vs=this.length+f.length;return this.length===10&&f.length===10?nt=zs(this,f,Y):vs<63?nt=Gs(this,f,Y):vs<1024?nt=Vs(this,f,Y):nt=Zs(this,f,Y),nt},l.prototype.mul=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),this.mulTo(f,Y)},l.prototype.mulf=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),Zs(this,f,Y)},l.prototype.imul=function(f){return this.clone().mulTo(f,this)},l.prototype.imuln=function(f){var Y=f<0;Y&&(f=-f),s(typeof f=="number"),s(f<67108864);for(var nt=0,vs=0;vs<this.length;vs++){var ks=(this.words[vs]|0)*f,Ds=(ks&67108863)+(nt&67108863);nt>>=26,nt+=ks/67108864|0,nt+=Ds>>>26,this.words[vs]=Ds&67108863}return nt!==0&&(this.words[vs]=nt,this.length++),this.length=f===0?1:this.length,Y?this.ineg():this},l.prototype.muln=function(f){return this.clone().imuln(f)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(f){var Y=Ls(f);if(Y.length===0)return new l(1);for(var nt=this,vs=0;vs<Y.length&&Y[vs]===0;vs++,nt=nt.sqr());if(++vs<Y.length)for(var ks=nt.sqr();vs<Y.length;vs++,ks=ks.sqr())Y[vs]!==0&&(nt=nt.mul(ks));return nt},l.prototype.iushln=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=67108863>>>26-Y<<26-Y,ks;if(Y!==0){var Ds=0;for(ks=0;ks<this.length;ks++){var Bs=this.words[ks]&vs,Ms=(this.words[ks]|0)-Bs<<Y;this.words[ks]=Ms|Ds,Ds=Bs>>>26-Y}Ds&&(this.words[ks]=Ds,this.length++)}if(nt!==0){for(ks=this.length-1;ks>=0;ks--)this.words[ks+nt]=this.words[ks];for(ks=0;ks<nt;ks++)this.words[ks]=0;this.length+=nt}return this._strip()},l.prototype.ishln=function(f){return s(this.negative===0),this.iushln(f)},l.prototype.iushrn=function(f,Y,nt){s(typeof f=="number"&&f>=0);var vs;Y?vs=(Y-Y%26)/26:vs=0;var ks=f%26,Ds=Math.min((f-ks)/26,this.length),Bs=67108863^67108863>>>ks<<ks,Ms=nt;if(vs-=Ds,vs=Math.max(0,vs),Ms){for(var Q=0;Q<Ds;Q++)Ms.words[Q]=this.words[Q];Ms.length=Ds}if(Ds!==0)if(this.length>Ds)for(this.length-=Ds,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Ds];else this.words[0]=0,this.length=1;var $s=0;for(Q=this.length-1;Q>=0&&($s!==0||Q>=vs);Q--){var Ks=this.words[Q]|0;this.words[Q]=$s<<26-ks|Ks>>>ks,$s=Ks&Bs}return Ms&&$s!==0&&(Ms.words[Ms.length++]=$s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(f,Y,nt){return s(this.negative===0),this.iushrn(f,Y,nt)},l.prototype.shln=function(f){return this.clone().ishln(f)},l.prototype.ushln=function(f){return this.clone().iushln(f)},l.prototype.shrn=function(f){return this.clone().ishrn(f)},l.prototype.ushrn=function(f){return this.clone().iushrn(f)},l.prototype.testn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return!1;var ks=this.words[nt];return!!(ks&vs)},l.prototype.imaskn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=nt)return this;if(Y!==0&&nt++,this.length=Math.min(nt,this.length),Y!==0){var vs=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=vs}return this._strip()},l.prototype.maskn=function(f){return this.clone().imaskn(f)},l.prototype.iaddn=function(f){return s(typeof f=="number"),s(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},l.prototype._iaddn=function(f){this.words[0]+=f;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},l.prototype.isubn=function(f){if(s(typeof f=="number"),s(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},l.prototype.addn=function(f){return this.clone().iaddn(f)},l.prototype.subn=function(f){return this.clone().isubn(f)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(f,Y,nt){var vs=f.length+nt,ks;this._expand(vs);var Ds,Bs=0;for(ks=0;ks<f.length;ks++){Ds=(this.words[ks+nt]|0)+Bs;var Ms=(f.words[ks]|0)*Y;Ds-=Ms&67108863,Bs=(Ds>>26)-(Ms/67108864|0),this.words[ks+nt]=Ds&67108863}for(;ks<this.length-nt;ks++)Ds=(this.words[ks+nt]|0)+Bs,Bs=Ds>>26,this.words[ks+nt]=Ds&67108863;if(Bs===0)return this._strip();for(s(Bs===-1),Bs=0,ks=0;ks<this.length;ks++)Ds=-(this.words[ks]|0)+Bs,Bs=Ds>>26,this.words[ks]=Ds&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(f,Y){var nt=this.length-f.length,vs=this.clone(),ks=f,Ds=ks.words[ks.length-1]|0,Bs=this._countBits(Ds);nt=26-Bs,nt!==0&&(ks=ks.ushln(nt),vs.iushln(nt),Ds=ks.words[ks.length-1]|0);var Ms=vs.length-ks.length,Q;if(Y!=="mod"){Q=new l(null),Q.length=Ms+1,Q.words=new Array(Q.length);for(var $s=0;$s<Q.length;$s++)Q.words[$s]=0}var Ks=vs.clone()._ishlnsubmul(ks,1,Ms);Ks.negative===0&&(vs=Ks,Q&&(Q.words[Ms]=1));for(var jo=Ms-1;jo>=0;jo--){var Bo=(vs.words[ks.length+jo]|0)*67108864+(vs.words[ks.length+jo-1]|0);for(Bo=Math.min(Bo/Ds|0,67108863),vs._ishlnsubmul(ks,Bo,jo);vs.negative!==0;)Bo--,vs.negative=0,vs._ishlnsubmul(ks,1,jo),vs.isZero()||(vs.negative^=1);Q&&(Q.words[jo]=Bo)}return Q&&Q._strip(),vs._strip(),Y!=="div"&&nt!==0&&vs.iushrn(nt),{div:Q||null,mod:vs}},l.prototype.divmod=function(f,Y,nt){if(s(!f.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var vs,ks,Ds;return this.negative!==0&&f.negative===0?(Ds=this.neg().divmod(f,Y),Y!=="mod"&&(vs=Ds.div.neg()),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.iadd(f)),{div:vs,mod:ks}):this.negative===0&&f.negative!==0?(Ds=this.divmod(f.neg(),Y),Y!=="mod"&&(vs=Ds.div.neg()),{div:vs,mod:Ds.mod}):this.negative&f.negative?(Ds=this.neg().divmod(f.neg(),Y),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.isub(f)),{div:Ds.div,mod:ks}):f.length>this.length||this.cmp(f)<0?{div:new l(0),mod:this}:f.length===1?Y==="div"?{div:this.divn(f.words[0]),mod:null}:Y==="mod"?{div:null,mod:new l(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new l(this.modrn(f.words[0]))}:this._wordDiv(f,Y)},l.prototype.div=function(f){return this.divmod(f,"div",!1).div},l.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},l.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},l.prototype.divRound=function(f){var Y=this.divmod(f);if(Y.mod.isZero())return Y.div;var nt=Y.div.negative!==0?Y.mod.isub(f):Y.mod,vs=f.ushrn(1),ks=f.andln(1),Ds=nt.cmp(vs);return Ds<0||ks===1&&Ds===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},l.prototype.modrn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=(1<<26)%f,vs=0,ks=this.length-1;ks>=0;ks--)vs=(nt*vs+(this.words[ks]|0))%f;return Y?-vs:vs},l.prototype.modn=function(f){return this.modrn(f)},l.prototype.idivn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=(this.words[vs]|0)+nt*67108864;this.words[vs]=ks/f|0,nt=ks%f}return this._strip(),Y?this.ineg():this},l.prototype.divn=function(f){return this.clone().idivn(f)},l.prototype.egcd=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=new l(0),Bs=new l(1),Ms=0;Y.isEven()&&nt.isEven();)Y.iushrn(1),nt.iushrn(1),++Ms;for(var Q=nt.clone(),$s=Y.clone();!Y.isZero();){for(var Ks=0,jo=1;!(Y.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(Y.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Q),ks.isub($s)),vs.iushrn(1),ks.iushrn(1);for(var Bo=0,To=1;!(nt.words[0]&To)&&Bo<26;++Bo,To<<=1);if(Bo>0)for(nt.iushrn(Bo);Bo-- >0;)(Ds.isOdd()||Bs.isOdd())&&(Ds.iadd(Q),Bs.isub($s)),Ds.iushrn(1),Bs.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(Ds),ks.isub(Bs)):(nt.isub(Y),Ds.isub(vs),Bs.isub(ks))}return{a:Ds,b:Bs,gcd:nt.iushln(Ms)}},l.prototype._invmp=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=nt.clone();Y.cmpn(1)>0&&nt.cmpn(1)>0;){for(var Bs=0,Ms=1;!(Y.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(Y.iushrn(Bs);Bs-- >0;)vs.isOdd()&&vs.iadd(Ds),vs.iushrn(1);for(var Q=0,$s=1;!(nt.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(nt.iushrn(Q);Q-- >0;)ks.isOdd()&&ks.iadd(Ds),ks.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(ks)):(nt.isub(Y),ks.isub(vs))}var Ks;return Y.cmpn(1)===0?Ks=vs:Ks=ks,Ks.cmpn(0)<0&&Ks.iadd(f),Ks},l.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var Y=this.clone(),nt=f.clone();Y.negative=0,nt.negative=0;for(var vs=0;Y.isEven()&&nt.isEven();vs++)Y.iushrn(1),nt.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;nt.isEven();)nt.iushrn(1);var ks=Y.cmp(nt);if(ks<0){var Ds=Y;Y=nt,nt=Ds}else if(ks===0||nt.cmpn(1)===0)break;Y.isub(nt)}while(!0);return nt.iushln(vs)},l.prototype.invm=function(f){return this.egcd(f).a.umod(f)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(f){return this.words[0]&f},l.prototype.bincn=function(f){s(typeof f=="number");var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return this._expand(nt+1),this.words[nt]|=vs,this;for(var ks=vs,Ds=nt;ks!==0&&Ds<this.length;Ds++){var Bs=this.words[Ds]|0;Bs+=ks,ks=Bs>>>26,Bs&=67108863,this.words[Ds]=Bs}return ks!==0&&(this.words[Ds]=ks,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(f){var Y=f<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var nt;if(this.length>1)nt=1;else{Y&&(f=-f),s(f<=67108863,"Number is too big");var vs=this.words[0]|0;nt=vs===f?0:vs<f?-1:1}return this.negative!==0?-nt|0:nt},l.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var Y=this.ucmp(f);return this.negative!==0?-Y|0:Y},l.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var Y=0,nt=this.length-1;nt>=0;nt--){var vs=this.words[nt]|0,ks=f.words[nt]|0;if(vs!==ks){vs<ks?Y=-1:vs>ks&&(Y=1);break}}return Y},l.prototype.gtn=function(f){return this.cmpn(f)===1},l.prototype.gt=function(f){return this.cmp(f)===1},l.prototype.gten=function(f){return this.cmpn(f)>=0},l.prototype.gte=function(f){return this.cmp(f)>=0},l.prototype.ltn=function(f){return this.cmpn(f)===-1},l.prototype.lt=function(f){return this.cmp(f)===-1},l.prototype.lten=function(f){return this.cmpn(f)<=0},l.prototype.lte=function(f){return this.cmp(f)<=0},l.prototype.eqn=function(f){return this.cmpn(f)===0},l.prototype.eq=function(f){return this.cmp(f)===0},l.red=function(f){return new Hs(f)},l.prototype.toRed=function(f){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(f){return this.red=f,this},l.prototype.forceRed=function(f){return s(!this.red,"Already a number in reduction context"),this._forceRed(f)},l.prototype.redAdd=function(f){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},l.prototype.redIAdd=function(f){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},l.prototype.redSub=function(f){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},l.prototype.redISub=function(f){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},l.prototype.redShl=function(f){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},l.prototype.redMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},l.prototype.redIMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(f){return s(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var Js={k256:null,p224:null,p192:null,p25519:null};function xo(f,Y){this.name=f,this.p=new l(Y,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xo.prototype._tmp=function(){var f=new l(null);return f.words=new Array(Math.ceil(this.n/13)),f},xo.prototype.ireduce=function(f){var Y=f,nt;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),nt=Y.bitLength();while(nt>this.n);var vs=nt<this.n?-1:Y.ucmp(this.p);return vs===0?(Y.words[0]=0,Y.length=1):vs>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},xo.prototype.split=function(f,Y){f.iushrn(this.n,0,Y)},xo.prototype.imulK=function(f){return f.imul(this.k)};function Io(){xo.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Io,xo),Io.prototype.split=function(f,Y){for(var nt=4194303,vs=Math.min(f.length,9),ks=0;ks<vs;ks++)Y.words[ks]=f.words[ks];if(Y.length=vs,f.length<=9){f.words[0]=0,f.length=1;return}var Ds=f.words[9];for(Y.words[Y.length++]=Ds&nt,ks=10;ks<f.length;ks++){var Bs=f.words[ks]|0;f.words[ks-10]=(Bs&nt)<<4|Ds>>>22,Ds=Bs}Ds>>>=22,f.words[ks-10]=Ds,Ds===0&&f.length>10?f.length-=10:f.length-=9},Io.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var Y=0,nt=0;nt<f.length;nt++){var vs=f.words[nt]|0;Y+=vs*977,f.words[nt]=Y&67108863,Y=vs*64+(Y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Uo(){xo.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Uo,xo);function Fo(){xo.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Fo,xo);function Ys(){xo.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ys,xo),Ys.prototype.imulK=function(f){for(var Y=0,nt=0;nt<f.length;nt++){var vs=(f.words[nt]|0)*19+Y,ks=vs&67108863;vs>>>=26,f.words[nt]=ks,Y=vs}return Y!==0&&(f.words[f.length++]=Y),f},l._prime=function(f){if(Js[f])return Js[f];var Y;if(f==="k256")Y=new Io;else if(f==="p224")Y=new Uo;else if(f==="p192")Y=new Fo;else if(f==="p25519")Y=new Ys;else throw new Error("Unknown prime "+f);return Js[f]=Y,Y};function Hs(f){if(typeof f=="string"){var Y=l._prime(f);this.m=Y.p,this.prime=Y}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}Hs.prototype._verify1=function(f){s(f.negative===0,"red works only with positives"),s(f.red,"red works only with red numbers")},Hs.prototype._verify2=function(f,Y){s((f.negative|Y.negative)===0,"red works only with positives"),s(f.red&&f.red===Y.red,"red works only with red numbers")},Hs.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(xi(f,f.umod(this.m)._forceRed(this)),f)},Hs.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Hs.prototype.add=function(f,Y){this._verify2(f,Y);var nt=f.add(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt._forceRed(this)},Hs.prototype.iadd=function(f,Y){this._verify2(f,Y);var nt=f.iadd(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt},Hs.prototype.sub=function(f,Y){this._verify2(f,Y);var nt=f.sub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt._forceRed(this)},Hs.prototype.isub=function(f,Y){this._verify2(f,Y);var nt=f.isub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt},Hs.prototype.shl=function(f,Y){return this._verify1(f),this.imod(f.ushln(Y))},Hs.prototype.imul=function(f,Y){return this._verify2(f,Y),this.imod(f.imul(Y))},Hs.prototype.mul=function(f,Y){return this._verify2(f,Y),this.imod(f.mul(Y))},Hs.prototype.isqr=function(f){return this.imul(f,f.clone())},Hs.prototype.sqr=function(f){return this.mul(f,f)},Hs.prototype.sqrt=function(f){if(f.isZero())return f.clone();var Y=this.m.andln(3);if(s(Y%2===1),Y===3){var nt=this.m.add(new l(1)).iushrn(2);return this.pow(f,nt)}for(var vs=this.m.subn(1),ks=0;!vs.isZero()&&vs.andln(1)===0;)ks++,vs.iushrn(1);s(!vs.isZero());var Ds=new l(1).toRed(this),Bs=Ds.redNeg(),Ms=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,Ms).cmp(Bs)!==0;)Q.redIAdd(Bs);for(var $s=this.pow(Q,vs),Ks=this.pow(f,vs.addn(1).iushrn(1)),jo=this.pow(f,vs),Bo=ks;jo.cmp(Ds)!==0;){for(var To=jo,Oo=0;To.cmp(Ds)!==0;Oo++)To=To.redSqr();s(Oo<Bo);var Vo=this.pow($s,new l(1).iushln(Bo-Oo-1));Ks=Ks.redMul(Vo),$s=Vo.redSqr(),jo=jo.redMul($s),Bo=Oo}return Ks},Hs.prototype.invm=function(f){var Y=f._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},Hs.prototype.pow=function(f,Y){if(Y.isZero())return new l(1).toRed(this);if(Y.cmpn(1)===0)return f.clone();var nt=4,vs=new Array(1<<nt);vs[0]=new l(1).toRed(this),vs[1]=f;for(var ks=2;ks<vs.length;ks++)vs[ks]=this.mul(vs[ks-1],f);var Ds=vs[0],Bs=0,Ms=0,Q=Y.bitLength()%26;for(Q===0&&(Q=26),ks=Y.length-1;ks>=0;ks--){for(var $s=Y.words[ks],Ks=Q-1;Ks>=0;Ks--){var jo=$s>>Ks&1;if(Ds!==vs[0]&&(Ds=this.sqr(Ds)),jo===0&&Bs===0){Ms=0;continue}Bs<<=1,Bs|=jo,Ms++,!(Ms!==nt&&(ks!==0||Ks!==0))&&(Ds=this.mul(Ds,vs[Bs]),Ms=0,Bs=0)}Q=26}return Ds},Hs.prototype.convertTo=function(f){var Y=f.umod(this.m);return Y===f?Y.clone():Y},Hs.prototype.convertFrom=function(f){var Y=f.clone();return Y.red=null,Y},l.mont=function(f){return new Ws(f)};function Ws(f){Hs.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ws,Hs),Ws.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Ws.prototype.convertFrom=function(f){var Y=this.imod(f.mul(this.rinv));return Y.red=null,Y},Ws.prototype.imul=function(f,Y){if(f.isZero()||Y.isZero())return f.words[0]=0,f.length=1,f;var nt=f.imul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.mul=function(f,Y){if(f.isZero()||Y.isZero())return new l(0)._forceRed(this);var nt=f.mul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.invm=function(f){var Y=this.imod(f._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(typeof e>"u"||e,t)}),Ni={env:"mainnet",full_rpc_url:ki$1,aggregator_url:"https://api-sui.cetus.zone/router_v2",providers:ao$1,vaults:{package_id:"0xd3453d9be7e35efe222f78a810bb3af1859fd1600926afced8b4936d825c9a05",published_at:"0x1ed1fef522ccea98a4fbd954543d5019238ec89282fbdea9a753e0a17e96fc28",config:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d",published_at:"0xaabf0856070391df81fad9240049d69c5a51c3d376cc0885eeedd516526cc79b",version:1,config:{staking_id:"0x47b224762220393057ebf4f70501b6e657c3e56684737568439a04f80849b2ca",coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI"}},volo:{package_id:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",published_at:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",version:1,config:{native_pool:"0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",vsui_metadata:"0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60",coin_type:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT"}},aftermath:{package_id:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",published_at:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",version:1,config:{staked_sui_vault:"0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",referral_vault:"0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",safe:"0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",validator_address:"0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2",coin_type:"0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI"}}}}},Ei={env:"testnet",full_rpc_url:Fi$1,aggregator_url:"https://api-sui.devcetus.com/router_v2",providers:["CETUS","DEEPBOOK","KRIYA","KRIYAV3","FLOWX","FLOWXV3","AFTERMATH","TURBOS","HAEDAL","VOLO","AFSUI"],vaults:{package_id:"0x325b7d67276ff809df6b3fa17a2a6fbff6aaa20e467c3cf74d1a1d09b8890bbd",published_at:"0x325b7d67276ff809df6b3fa17a2a6fbff6aaa20e467c3cf74d1a1d09b8890bbd",config:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xac2afb455cbcdc2ff1a2e9bbb8aa4ccb4506a544b08c740886892a5cdf92f472",published_at:"0x9dac9c5770e5f930d2223ff68782958701acfaee9337e8d8363978ce7670dffb",version:1,config:{staking_id:"0x6e384d2da5b040b27f973155e25bbe4beb0ad5ca8ee0a36e20dff356094c9fc0",coin_type:"0xac2afb455cbcdc2ff1a2e9bbb8aa4ccb4506a544b08c740886892a5cdf92f472::hasui::HASUI"}},aftermath:{package_id:"0x5e8c0fc2b3d8aa1b06eec36c08d9d835c73c0626a1efaebc0fb03aa52f1a3ff4",published_at:"0x5e8c0fc2b3d8aa1b06eec36c08d9d835c73c0626a1efaebc0fb03aa52f1a3ff4",version:1,config:{staked_sui_vault:"0xe498a8c07ec62200c519a0092eda233abdab879e8f332c11bdc1819eb7b12fbb",referral_vault:"0x8d357115058f22976cd01c5415116d9aca806d1ded37eecd75d87978f404e927",safe:"0x38710a6e0bd885c158e52ec7a42c8a9a1826c6696b626b4a5e2d1dcb15cfd9b7",validator_address:"0x9336c4c9d891e263cfac99adc397853a7392e5cf84cbd5df92207a57c7fbdadc",coin_type:"0x5e8c0fc2b3d8aa1b06eec36c08d9d835c73c0626a1efaebc0fb03aa52f1a3ff4::afsui::AFSUI"}}}}},W=Ti(Qe$2()),ee$2=9e15,te$2=1e9,ti="0123456789abcdef",pe$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ge$3="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ei$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:ee$2,crypto:!1},Ri,Xt$3,B$2=!0,we$2="[DecimalError] ",Qt$3=we$2+"Invalid argument: ",Bi=we$2+"Precision limit exceeded",Ii=we$2+"crypto unavailable",Li="[object Decimal]",Vt$3=Math.floor,Dt$1=Math.pow,xn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cn$1=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,qn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vi$1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ut$2=1e7,D$2=7,Tn$1=9007199254740991,Nn$1=pe$1.length-1,ii$1=ge$3.length-1,k={toStringTag:Li};k.absoluteValue=k.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),P$1(t)};k.ceil=function(){return P$1(new this.constructor(this),this.e+1,2)};k.clampedTo=k.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(Qt$3+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};k.comparedTo=k.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};k.cosine=k.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+D$2,n.rounding=1,i=En(n,Zi$1(n,i)),n.precision=t,n.rounding=e,P$1(Xt$3==2||Xt$3==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};k.cubeRoot=k.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(B$2=!1,a=et.s*Dt$1(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=It$2(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=Dt$1(i,1/3),t=Vt$3((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=$(q.plus(et).times(A),q.plus(T),l+2,1),It$2(A.d).slice(0,l)===(i=It$2(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(P$1(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(P$1(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return B$2=!0,P$1(n,t,xi.rounding,e)};k.decimalPlaces=k.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-Vt$3(this.e/D$2))*D$2,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};k.dividedBy=k.div=function(t){return $(this,new this.constructor(t))};k.dividedToIntegerBy=k.divToInt=function(t){var e=this,i=e.constructor;return P$1($(e,new i(t),0,1,1),i.precision,i.rounding)};k.equals=k.eq=function(t){return this.cmp(t)===0};k.floor=function(){return P$1(new this.constructor(this),this.e+1,3)};k.greaterThan=k.gt=function(t){return this.cmp(t)>0};k.greaterThanOrEqualTo=k.gte=function(t){var e=this.cmp(t);return e==1||e===0};k.hyperbolicCosine=k.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/ye$3(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=ie$1(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return P$1(a,l.precision=i,l.rounding=n,!0)};k.hyperbolicSine=k.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=ie$1(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/ye$3(5,t)),s=ie$1(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,P$1(s,e,i,!0)};k.hyperbolicTangent=k.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,$(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};k.inverseCosine=k.acos=function(){var t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,s=e.rounding;return i!==-1?i===0?t.isNeg()?Zt$2(e,n,s):new e(0):new e(NaN):t.isZero()?Zt$2(e,n+4,s).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=s,t.times(2))};k.inverseHyperbolicCosine=k.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,B$2=!1,i=i.times(i).minus(1).sqrt().plus(i),B$2=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};k.inverseHyperbolicSine=k.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,B$2=!1,i=i.times(i).plus(1).sqrt().plus(i),B$2=!0,n.precision=t,n.rounding=e,i.ln())};k.inverseHyperbolicTangent=k.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?P$1(new a(s),t,e,!0):(a.precision=i=n-s.e,s=$(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};k.inverseSine=k.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=Zt$2(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};k.inverseTangent=k.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=ii$1)return l=Zt$2(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=ii$1)return l=Zt$2(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/D$2+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(B$2=!1,e=Math.ceil(A/D$2),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),B$2=!0,P$1(l,et.precision=xi,et.rounding=Oi,!0)};k.isFinite=function(){return!!this.d};k.isInteger=k.isInt=function(){return!!this.d&&Vt$3(this.e/D$2)>this.d.length-2};k.isNaN=function(){return!this.s};k.isNegative=k.isNeg=function(){return this.s<0};k.isPositive=k.isPos=function(){return this.s>0};k.isZero=function(){return!!this.d&&this.d[0]===0};k.lessThan=k.lt=function(t){return this.cmp(t)<0};k.lessThanOrEqualTo=k.lte=function(t){return this.cmp(t)<1};k.logarithm=k.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(B$2=!1,A=xi+Ts,l=Yt$1(q,A),n=e?ve$3(et,A+10):Yt$1(t,A),T=$(l,n,A,1),ue$1(T.d,s=xi,Oi))do if(A+=10,l=Yt$1(q,A),n=e?ve$3(et,A+10):Yt$1(t,A),T=$(l,n,A,1),!a){+It$2(T.d).slice(s+1,s+15)+1==1e14&&(T=P$1(T,xi+1,0));break}while(ue$1(T.d,s+=10,Oi));return B$2=!0,P$1(T,xi,Oi)};k.minus=k.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return B$2?P$1(t,A,T):t}if(i=Vt$3(t.e/D$2),et=Vt$3(Ts.e/D$2),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/D$2),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=Ut$2-1;--q[s],q[n]+=Ut$2}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=be$3(q,i),B$2?P$1(t,A,T):t):new Fs(T===3?-0:0)};k.modulo=k.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?P$1(new n(i),n.precision,n.rounding):(B$2=!1,n.modulo==9?(e=$(i,t.abs(),0,3,1),e.s*=t.s):e=$(i,t,0,n.modulo,1),e=e.times(t),B$2=!0,i.minus(e))};k.naturalExponential=k.exp=function(){return ni(this)};k.naturalLogarithm=k.ln=function(){return Yt$1(this)};k.negated=k.neg=function(){var t=new this.constructor(this);return t.s=-t.s,P$1(t)};k.plus=k.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),B$2?P$1(t,A,T):t;if(a=Vt$3(xi.e/D$2),n=Vt$3(t.e/D$2),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/D$2),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/Ut$2|0,q[s]%=Ut$2;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=be$3(q,n),B$2?P$1(t,A,T):t};k.precision=k.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qt$3+t);return i.d?(e=ji$1(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};k.round=function(){var t=this,e=t.constructor;return P$1(new e(t),t.e+1,e.rounding)};k.sine=k.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+D$2,n.rounding=1,i=Pn$1(n,Zi$1(n,i)),n.precision=t,n.rounding=e,P$1(Xt$3>2?i.neg():i,t,e,!0)):new n(NaN)};k.squareRoot=k.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(B$2=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=It$2(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=Vt$3((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus($(l,a,i+2,1)).times(.5),It$2(a.d).slice(0,i)===(e=It$2(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(P$1(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(P$1(n,T+1,1),t=!n.times(n).eq(l));break}return B$2=!0,P$1(n,T,et.rounding,t)};k.tangent=k.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=$(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,P$1(Xt$3==2||Xt$3==4?i.neg():i,t,e,!0)):new n(NaN)};k.times=k.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=Vt$3(et.e/D$2)+Vt$3(t.e/D$2),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%Ut$2|0,e=A/Ut$2|0;a[s]=(a[s]+e)%Ut$2|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=be$3(a,i),B$2?P$1(t,xi.precision,xi.rounding):t};k.toBinary=function(t,e){return ri(this,2,t,e)};k.toDecimalPlaces=k.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(Kt$2(t,0,te$2),e===void 0?e=n.rounding:Kt$2(e,0,8),P$1(i,t+i.e+1,e))};k.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Wt$2(n,!0):(Kt$2(t,0,te$2),e===void 0?e=s.rounding:Kt$2(e,0,8),n=P$1(new s(n),t+1,e),i=Wt$2(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};k.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=Wt$2(s):(Kt$2(t,0,te$2),e===void 0?e=a.rounding:Kt$2(e,0,8),n=P$1(new a(s),t+s.e+1,e),i=Wt$2(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};k.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=ji$1(Fs)-Ts.e-1,l=a%D$2,e.d[0]=Dt$1(10,l<0?D$2+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error(Qt$3+A);t=A.gt(e)?a>0?e:q:A}for(B$2=!1,A=new qs(It$2(Fs)),et=qs.precision,qs.precision=a=Fs.length*D$2*2;xi=$(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=$(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=$(q,n,a,1).minus(Ts).abs().cmp($(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,B$2=!0,Oi};k.toHexadecimal=k.toHex=function(t,e){return ri(this,16,t,e)};k.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Kt$2(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(B$2=!1,i=$(i,t,0,e,1).times(t),B$2=!0,P$1(i)):(t.s=i.s,i=t),i};k.toNumber=function(){return+this};k.toOctal=function(t,e){return ri(this,8,t,e)};k.toPower=k.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(Dt$1(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return P$1(A,n,a);if(e=Vt$3(t.e/D$2),e>=t.d.length-1&&(i=q<0?-q:q)<=Tn$1)return s=Ki$1(T,A,i,n),t.s<0?new T(1).div(s):P$1(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(!(t.d[e]&1)&&(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=Dt$1(+A,q),e=i==0||!isFinite(i)?Vt$3(q*(Math.log("0."+It$2(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(B$2=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=ni(t.times(Yt$1(A,n+i)),n),s.d&&(s=P$1(s,n+5,1),ue$1(s.d,n,a)&&(e=n+10,s=P$1(ni(t.times(Yt$1(A,e+i)),e),e+5,1),+It$2(s.d).slice(n+1,n+15)+1==1e14&&(s=P$1(s,n+1,0)))),s.s=l,B$2=!0,T.rounding=a,P$1(s,n,a))};k.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Wt$2(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(Kt$2(t,1,te$2),e===void 0?e=s.rounding:Kt$2(e,0,8),n=P$1(new s(n),t,e),i=Wt$2(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};k.toSignificantDigits=k.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Kt$2(t,1,te$2),e===void 0?e=n.rounding:Kt$2(e,0,8)),P$1(new n(i),t,e)};k.toString=function(){var t=this,e=t.constructor,i=Wt$2(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};k.truncated=k.trunc=function(){return P$1(new this.constructor(this),this.e+1,1)};k.valueOf=k.toJSON=function(){var t=this,e=t.constructor,i=Wt$2(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function It$2(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=D$2-n.length,i&&(a+=Jt$1(i)),a+=n;l=t[e],n=l+"",i=D$2-n.length,i&&(a+=Jt$1(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function Kt$2(t,e,i){if(t!==~~t||t<e||t>i)throw Error(Qt$3+t)}function ue$1(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=D$2,s=0):(s=Math.ceil((e+1)/D$2),e%=D$2),a=Dt$1(10,D$2-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==Dt$1(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==Dt$1(10,e-3)-1,l}function me$2(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=ti.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function En(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/ye$3(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=ie$1(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var $=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=Ut$2,Ts=D$2,et=Vt$3(n.e/Ts)-Vt$3(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,Ri=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,P$1(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function P$1(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=D$2,l=e,et=xi[Oi=0],T=et/Dt$1(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/D$2),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=D$2,l=a-D$2+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=D$2,l=a-D$2+s,T=l<0?0:et/Dt$1(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%Dt$1(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/Dt$1(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=Dt$1(10,(D$2-e%D$2)%D$2),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=Dt$1(10,D$2-a),xi[Oi]=l>0?(et/Dt$1(10,s-l)%Dt$1(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==Ut$2&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=Ut$2)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return B$2&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function Wt$2(t,e,i){if(!t.isFinite())return Hi$2(t);var n,s=t.e,a=It$2(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+Jt$1(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+Jt$1(-s-1)+a,i&&(n=i-l)>0&&(a+=Jt$1(n))):s>=l?(a+=Jt$1(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+Jt$1(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=Jt$1(n))),a}function be$3(t,e){var i=t[0];for(e*=D$2;i>=10;i/=10)e++;return e}function ve$3(t,e,i){if(e>Nn$1)throw B$2=!0,i&&(t.precision=i),Error(Bi);return P$1(new t(pe$1),e,1,!0)}function Zt$2(t,e,i){if(e>ii$1)throw Error(Bi);return P$1(new t(ge$3),e,i,!0)}function ji$1(t){var e=t.length-1,i=e*D$2+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function Jt$1(t){for(var e="";t--;)e+="0";return e}function Ki$1(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/D$2+4);for(B$2=!1;;){if(i%2&&(a=a.times(e),Fi(a.d,l)&&(s=!0)),i=Vt$3(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),Fi(e.d,l)}return B$2=!0,a}function Pi(t){return t.d[t.d.length-1]&1}function Ui(t,e,i){for(var n,s,a=new t(e[0]),l=0;++l<e.length;){if(s=new t(e[l]),!s.s){a=s;break}n=a.cmp(s),(n===i||n===0&&a.s===i)&&(a=s)}return a}function ni(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(B$2=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(Dt$1(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=P$1(a.times(t),T,1),i=i.times(++et),A=l.plus($(a,i,T,1)),It$2(A.d).slice(0,T)===It$2(l.d).slice(0,T)){for(s=xi;s--;)l=P$1(l.times(l),T,1);if(e==null)if(q<3&&ue$1(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return P$1(l,Oi.precision=Fs,Ts,B$2=!0);else return Oi.precision=Fs,l}l=A}}function Yt$1(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(B$2=!1,et=zs):et=e,Ls.precision=et+=Fs,i=It$2(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=It$2(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=ve$3(Ls,et+2,zs).times(a+""),qs=Yt$1(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?P$1(qs,zs,Gs,B$2=!0):qs;for(xi=qs,T=l=qs=$(qs.minus(1),qs.plus(1),et,1),Oi=P$1(qs.times(qs),et,1),s=3;;){if(l=P$1(l.times(Oi),et,1),q=T.plus($(l,new Ls(s),et,1)),It$2(q.d).slice(0,et)===It$2(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(ve$3(Ls,et+2,zs).times(a+""))),T=$(T,new Ls(Ts),et,1),e==null)if(ue$1(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=$(xi.minus(1),xi.plus(1),et,1),Oi=P$1(qs.times(qs),et,1),s=A=1;else return P$1(T,Ls.precision=zs,Gs,B$2=!0);else return Ls.precision=zs,T;T=q,s+=2}}function Hi$2(t){return String(t.s*t.s/0)}function _e$3(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%D$2,i<0&&(n+=D$2),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=D$2;n<s;)t.d.push(+e.slice(n,n+=D$2));e=e.slice(n),n=D$2-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),B$2&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function On(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Vi$1.test(e))return _e$3(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Cn$1.test(e))i=16,e=e.toLowerCase();else if(xn.test(e))i=2;else if(qn.test(e))i=8;else throw Error(Qt$3+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=Ki$1(n,new n(i),a,a*2)),q=me$2(e,i,Ut$2),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=be$3(q,et),t.d=q,B$2=!1,l&&(t=$(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?Dt$1(2,T):le$2.pow(2,T))),B$2=!0,t)}function Pn$1(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:ie$1(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/ye$3(5,i)),e=ie$1(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function ie$1(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/D$2);for(B$2=!1,T=i.times(i),A=new t(n);;){if(l=$(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=$(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return B$2=!0,l.d.length=et+1,l}function ye$3(t,e){for(var i=t;--e;)i*=t;return i}function Zi$1(t,e){var i,n=e.s<0,s=Zt$2(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return Xt$3=n?4:1,e;if(i=e.divToInt(s),i.isZero())Xt$3=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return Xt$3=Pi(i)?n?2:3:n?4:1,e;Xt$3=Pi(i)?n?1:4:n?3:2}return e.minus(s).abs()}function ri(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(Kt$2(i,1,te$2),n===void 0?n=Ts.rounding:Kt$2(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=Hi$2(t);else{for(et=Wt$2(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=me$2(Wt$2(Oi),10,s),Oi.e=Oi.d.length),xi=me$2(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=$(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=Ri),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=ti.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=me$2(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=ti.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function Fi(t,e){if(t.length>e)return t.length=e,!0}function Fn(t){return new this(t).abs()}function Dn(t){return new this(t).acos()}function Rn$1(t){return new this(t).acosh()}function Bn$1(t,e){return new this(t).plus(e)}function In(t){return new this(t).asin()}function Ln$1(t){return new this(t).asinh()}function Vn$1(t){return new this(t).atan()}function jn$1(t){return new this(t).atanh()}function Kn$1(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=Zt$2(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?Zt$2(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=Zt$2(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan($(t,e,a,1)),e=Zt$2(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan($(t,e,a,1)),i}function Un$1(t){return new this(t).cbrt()}function Hn$1(t){return P$1(t=new this(t),t.e+1,2)}function Zn$1(t,e,i){return new this(t).clamp(e,i)}function Wn$1(t){if(!t||typeof t!="object")throw Error(we$2+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,te$2,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,ee$2,"maxE",0,ee$2,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=ei$1[i]),(n=t[i])!==void 0)if(Vt$3(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error(Qt$3+i+": "+n);if(i="crypto",s&&(this[i]=ei$1[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(Ii);else this[i]=!1;else throw Error(Qt$3+i+": "+n);return this}function $n$1(t){return new this(t).cos()}function zn$1(t){return new this(t).cosh()}function Wi$1(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,Di(a)){q.s=a.s,B$2?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;B$2?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return _e$3(q,a.toString())}if(T==="string")return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),Vi$1.test(a)?_e$3(q,a):On(q,a);if(T==="bigint")return a<0?(a=-a,q.s=-1):q.s=1,_e$3(q,a.toString());throw Error(Qt$3+a)}if(s.prototype=k,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Wn$1,s.clone=Wi$1,s.isDecimal=Di,s.abs=Fn,s.acos=Dn,s.acosh=Rn$1,s.add=Bn$1,s.asin=In,s.asinh=Ln$1,s.atan=Vn$1,s.atanh=jn$1,s.atan2=Kn$1,s.cbrt=Un$1,s.ceil=Hn$1,s.clamp=Zn$1,s.cos=$n$1,s.cosh=zn$1,s.div=Xn$1,s.exp=Gn$1,s.floor=Jn$1,s.hypot=Yn$1,s.ln=Qn$1,s.log=tr$1,s.log10=ir$2,s.log2=er$2,s.max=nr$2,s.min=rr$2,s.mod=or$2,s.mul=sr$2,s.pow=ar$2,s.random=ur$2,s.round=lr$2,s.sign=fr$2,s.sin=cr$2,s.sinh=hr$2,s.sqrt=dr$2,s.sub=mr$2,s.sum=_r$2,s.tan=pr$2,s.tanh=gr$2,s.trunc=vr$2,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function Xn$1(t,e){return new this(t).div(e)}function Gn$1(t){return new this(t).exp()}function Jn$1(t){return P$1(t=new this(t),t.e+1,3)}function Yn$1(){var t,e,i=new this(0);for(B$2=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return B$2=!0,new this(1/0);i=e}return B$2=!0,i.sqrt()}function Di(t){return t instanceof le$2||t&&t.toStringTag===Li||!1}function Qn$1(t){return new this(t).ln()}function tr$1(t,e){return new this(t).log(e)}function er$2(t){return new this(t).log(2)}function ir$2(t){return new this(t).log(10)}function nr$2(){return Ui(this,arguments,-1)}function rr$2(){return Ui(this,arguments,1)}function or$2(t,e){return new this(t).mod(e)}function sr$2(t,e){return new this(t).mul(e)}function ar$2(t,e){return new this(t).pow(e)}function ur$2(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:Kt$2(t,1,te$2),n=Math.ceil(t/D$2),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(Ii);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=D$2,n&&t&&(s=Dt$1(10,D$2-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=D$2)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<D$2&&(i-=D$2-n)}return l.e=i,l.d=A,l}function lr$2(t){return P$1(t=new this(t),t.e+1,this.rounding)}function fr$2(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function cr$2(t){return new this(t).sin()}function hr$2(t){return new this(t).sinh()}function dr$2(t){return new this(t).sqrt()}function mr$2(t,e){return new this(t).sub(e)}function _r$2(){var t=0,e=arguments,i=new this(e[t]);for(B$2=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return B$2=!0,P$1(i,this.precision,this.rounding)}function pr$2(t){return new this(t).tan()}function gr$2(t){return new this(t).tanh()}function vr$2(t){return P$1(t=new this(t),t.e+1,1)}k[Symbol.for("nodejs.util.inspect.custom")]=k.toString;k[Symbol.toStringTag]="Decimal";var le$2=k.constructor=Wi$1(ei$1);pe$1=new le$2(pe$1);ge$3=new le$2(ge$3);var Rt$2=le$2,$i$2="router",oi$1="vaults",zi$1=1e4,Xi$2=(t=>(t.STATUS_RUNNING="STATUS_RUNNING",t.STATUS_REBALANCING="STATUS_REBALANCING",t))(Xi$2||{}),wr$2=(t=>(t.Haedal="Haedal",t.Volo="Volo",t.Aftermath="aftermath",t))(wr$2||{}),Gi$1=(t=>(t.Cetus="Cetus",t.Haedal="Haedal",t.Volo="Volo",t.Aftermath="aftermath",t))(Gi$1||{}),Ji$1=(t=>(t.Both="both",t.OneSide="oneSide",t))(Ji$1||{}),ne$1=(t=>(t.CalculateDepositAmountError="calculateDepositAmountError",t.CalculateWithdrawAmountError="calculateWithdrawAmountError",t.AggregatorError="AggregatorError",t.ObjectNotFound="ObjectNotFound",t.FetchError="FetchError",t.StakeProtocolNotFound="StakeProtocolNotFound",t.BuildError="BuildError",t.AssertionError="AssertionError",t.InvalidMaxFtAmount="InvalidMaxFtAmount",t))(ne$1||{}),Me$2=class extends Me$4{constructor(e,i,n){super(e,i||"UnknownError",n)}static isVaultsErrorCode(e,i){return this.isErrorCode(e,i)}},re$1=(t,e,i)=>{throw new Me$2(e.message,t,i)},jt$2=(t,e,i)=>{throw new Me$2(e,t,i)},fe$2=Ti(Qe$2()),Bt$1=class bl{static calculatePositionShare(e,i,n,s,a,l,A){if(i<=a||e>=l)return"0";let T=0;e<a?T=a:T=e;let q=0;i<l?q=i:q=l;let et=Zt$3.tickIndexToSqrtPriceX64(T),xi=Zt$3.tickIndexToSqrtPriceX64(q),{coin_amount_a:Oi,coin_amount_b:Ts}=mr$5.getCoinAmountFromLiquidity(new fe$2.default(n),new fe$2.default(A),et,xi,!0);return G$2(Oi).mul(s).div(1e12).add(Ts).toString()}static generateNextTickRange(e,i,n){let s=e-i/2,a=e+i/2;return{new_tick_lower:bl.getValidTickIndex(s,n),new_tick_upper:bl.getValidTickIndex(a,n)}}static getValidTickIndex(e,i){if(e%i===0)return e;let n;return e>0?n=e-e%i+i:e<0?n=e+Math.abs(e)%i-i:n=e,n%i!==0?jt$2("AssertionError","Assertion failed: res % tick_spacing == 0",{[be$5.METHOD_NAME]:"getValidTickIndex"}):Math.abs(n)<Math.abs(e)?jt$2("AssertionError","Assertion failed: res.abs() >= tick_index",{[be$5.METHOD_NAME]:"getValidTickIndex"}):n}static getLpAmountByLiquidity(e,i){return e.total_supply==="0"?"0":G$2(e.total_supply).mul(i).div(e.liquidity).toFixed(0,Rt$2.ROUND_DOWN).toString()}static getShareLiquidityByAmount(e,i){return e.total_supply==="0"?"0":G$2(i).mul(e.liquidity).div(e.total_supply).toFixed(0,Rt$2.ROUND_DOWN).toString()}static getProtocolFeeAmount(e,i){return G$2(i).mul(e.protocol_fee_rate).div(zi$1).toFixed(0,Rt$2.ROUND_CEIL)}static buildFarmsPositionNFT(e){let i=e.clmm_postion.fields;return{id:e.id.id,url:i.url,pool_id:e.pool_id,coin_type_a:ie$2(i.coin_type_a.fields.name).full_address,coin_type_b:ie$2(i.coin_type_b.fields.name).full_address,description:i.description,name:i.name,liquidity:i.liquidity,clmm_position_id:i.id.id,clmm_pool_id:i.pool,tick_lower_index:po$1(BigInt(i.tick_lower_index.fields.bits)),tick_upper_index:po$1(BigInt(i.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(e){let i=Is(e),n=Es(e),{positions:s}=i;if(i&&s.length>0){let a=bl.buildFarmsPositionNFT(s[0].fields);return{id:i.id.id,pool_id:i.pool,protocol_fee_rate:i.protocol_fee_rate,is_pause:i.is_pause,harvest_assets:{harvest_assets_handle:i.harvest_assets.fields.id.id,size:Number(i.harvest_assets.fields.size)},lp_token_type:ie$2(n).type_arguments[0],total_supply:i.lp_token_treasury.fields.total_supply.fields.value,liquidity:i.liquidity,max_quota:i.max_quota,status:i.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:i.quota_based_type.fields.name,position:a}}return jt$2("BuildError","buildPool error",{[be$5.METHOD_NAME]:"buildPool"})}static async getSuiCoin(e,i,n){let s=await e.FullClient.getOwnerCoinAssets(e.getSenderAddress(),fi$2);n=n||new Transaction;let a;if(i>95e10){let[l,...A]=s;A.length>0&&n.mergeCoins(n.object(l.coin_object_id),A.map(T=>n.object(T.coin_object_id))),a=n.splitCoins(n.object(l.coin_object_id),[i])}else a=Oe$3.buildCoinForAmount(n,s,BigInt(i),fi$2,!1,!0).target_coin;return a}static buildVaultBalance(e,i,n,s){let a=bl.getShareLiquidityByAmount(i,n.totalBalance),{tick_lower_index:l,tick_upper_index:A,coin_type_a:T,coin_type_b:q}=i.position,et=Zt$3.tickIndexToSqrtPriceX64(l),xi=Zt$3.tickIndexToSqrtPriceX64(A),Oi=mr$5.getCoinAmountFromLiquidity(new fe$2.default(a),new fe$2.default(s.current_sqrt_price),et,xi,!0);return{vault_id:i.id,clmm_pool_id:i.pool_id,owner:e,lp_token_type:i.lp_token_type,lp_token_balance:n.totalBalance,liquidity:a,tick_lower_index:l,tick_upper_index:A,amount_a:Oi.coin_amount_a.toString(),amount_b:Oi.coin_amount_b.toString(),coin_type_a:T,coin_type_b:q}}},ce$1=class{static async getExchangeRateForStake(e,i,n){let{vaults:s}=e.sdkOptions,{aftermath:a}=na(s);if(a===void 0)return jt$2("StakeProtocolNotFound","the aftermath config is undefined",{[be$5.METHOD_NAME]:"getExchangeRateForStake"});let{staked_sui_vault:l,safe:A}=na(a);try{let T=new Transaction;i?await this.requestStake(e,n||1e9,T):T.moveCall({target:`${a.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[T.object(l),T.object(A)]});let q=await e.FullClient.devInspectTransactionBlock({transactionBlock:T,sender:e.getSenderAddress(!1).length>0?e.getSenderAddress(!1):normalizeSuiAddress$1("0x0")});if(i){let xi=q.events.find(Fs=>Fs.type.includes("StakedEvent")),{afsui_amount:Oi,sui_amount:Ts}=xi.parsedJson;return G$2(Ts).div(Oi).toString()}let et=q.results[0].return_values[0][0];return G$2(suiBcs$1.u128().parse(Uint8Array.from(et))).div(1e18).toString()}catch(T){return re$1("FetchError",T,{[be$5.METHOD_NAME]:"getExchangeRateForStake"})}return"0"}static async requestStake(e,i,n){let{vaults:s}=e.sdkOptions,{aftermath:a}=na(s);if(a===void 0)return jt$2("StakeProtocolNotFound","the aftermath config is undefined",{[be$5.METHOD_NAME]:"requestStake"});n=n||new Transaction;let{staked_sui_vault:l,referral_vault:A,safe:T,validator_address:q}=na(a),et=await Bt$1.getSuiCoin(e,i,n);return n.moveCall({target:`${a.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[n.object(l),n.object(T),n.object(normalizeSuiObjectId$1("0x5")),n.object(A),et,n.pure.address(normalizeSuiObjectId$1(q))]}),n}static requestStakeCoin(e,i,n){let{vaults:s}=e.sdkOptions,{aftermath:a}=na(s);if(a===void 0)return jt$2("StakeProtocolNotFound","the aftermath config is undefined",{[be$5.METHOD_NAME]:"requestStakeCoin"});i=i||new Transaction;let{staked_sui_vault:l,referral_vault:A,safe:T,validator_address:q}=na(a);return i.moveCall({target:`${a.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[i.object(l),i.object(T),i.object(normalizeSuiObjectId$1("0x5")),i.object(A),n,i.pure.address(normalizeSuiObjectId$1(q))]})}},he$1=class{static async getExchangeRateForStake(e,i,n){let{vaults:s}=e.sdkOptions,{haedal:a}=na(s);if(a===void 0)return jt$2("StakeProtocolNotFound","the haedal config is undefined",{[be$5.METHOD_NAME]:"getExchangeRateForStake"});let{staking_id:l}=na(a);try{let A=new Transaction;i?await this.requestStake(e,n||1e9,A):A.moveCall({target:`${a.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[A.object(l)]});let T=await e.FullClient.devInspectTransactionBlock({transactionBlock:A,sender:e.getSenderAddress(!1).length>0?e.getSenderAddress(!1):normalizeSuiAddress$1("0x0")});if(i){let et=T.events.find(Ts=>Ts.type.includes("UserStaked")),{sui_amount:xi,st_amount:Oi}=et.parsedJson;return G$2(xi).div(Oi).toString()}let q=T.results[0].returnValues[0][0];return G$2(suiBcs$1.u64().parse(Uint8Array.from(q))).div(1e6).toString()}catch(A){return re$1("FetchError",A,{[be$5.METHOD_NAME]:"getExchangeRateForHaedal"})}return"0"}static async requestStake(e,i,n){var l,A;let{vaults:s}=e.sdkOptions;n=n||new Transaction;let a=await Bt$1.getSuiCoin(e,i,n);return n.moveCall({target:`${(A=(l=s.config)==null?void 0:l.haedal)==null?void 0:A.published_at}::interface::request_stake`,typeArguments:[],arguments:[n.object(normalizeSuiObjectId$1("0x5")),n.object(s.config.haedal.config.staking_id),a,n.pure.address(normalizeSuiObjectId$1("0x0"))]}),n}static requestStakeCoin(e,i,n){let{haedal:s}=e.sdkOptions.vaults.config;return i.moveCall({target:`${s.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[i.object(normalizeSuiObjectId$1("0x5")),i.object(s.config.staking_id),n,i.pure.address(normalizeSuiObjectId$1("0x0"))]})}},de$1=class{static async getExchangeRateForStake(e,i,n){let{vaults:s}=e.sdkOptions,{volo:a}=na(s);if(a===void 0)return jt$2("StakeProtocolNotFound","the volo config is undefined",{[be$5.METHOD_NAME]:"getExchangeRateForStake"});let{native_pool:l,vsui_metadata:A}=na(a);try{let T=new Transaction;i?await this.requestStake(e,n||1e9,T):T.moveCall({target:`${a.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[T.object(l),T.object(A)]});let q=await e.FullClient.devInspectTransactionBlock({transactionBlock:T,sender:e.getSenderAddress(!1).length>0?e.getSenderAddress(!1):normalizeSuiAddress$1("0x0")});if(i){let Oi=q.events.find(qs=>qs.type.includes("StakedEvent")),{cert_amount:Ts,sui_amount:Fs}=Oi.parsedJson;return G$2(Fs).div(Ts).toString()}let et=q.results[0].return_values[0][0],xi=G$2(suiBcs$1.u256().parse(Uint8Array.from(et))).div("1000000000000000000").toNumber();return G$2(1).div(xi).toString()}catch(T){return re$1("FetchError",T,{[be$5.METHOD_NAME]:"getExchangeRateForVolo"})}return"0"}static async requestStake(e,i,n){let{vaults:s}=e.sdkOptions,{volo:a}=na(s);if(a===void 0)return jt$2("StakeProtocolNotFound","the volo config is undefined",{[be$5.METHOD_NAME]:"requestStake"});n=n||new Transaction;let{native_pool:l,vsui_metadata:A}=na(a),T=await Bt$1.getSuiCoin(e,i,n);return n.moveCall({target:`${a.published_at}::native_pool::stake`,typeArguments:[],arguments:[n.object(l),n.object(A),n.object(normalizeSuiObjectId$1("0x5")),T]}),n}static requestStakeCoin(e,i,n){let{vaults:s}=e.sdkOptions,{volo:a}=na(s);if(a===void 0)return jt$2("StakeProtocolNotFound","the volo config is undefined",{[be$5.METHOD_NAME]:"requestStakeCoin"});i=i||new Transaction;let{native_pool:l,vsui_metadata:A}=na(a);return i.moveCall({target:`${a.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[i.object(l),i.object(A),i.object(normalizeSuiObjectId$1("0x5")),n]})}},Ne$3=class{constructor(e){this.getOwnerVaultsBalance=async i=>{let{data:n}=await this.getVaultList(),s=[];for(let a=0;a<n.length;a++){let l=n[a],A=await this._sdk.FullClient.getBalance({owner:i,coinType:l.lp_token_type}),T=await this._sdk.ClmmSDK.Pool.getPool(l.pool_id,!0),q=Bt$1.buildVaultBalance(i,l,A,T);q&&s.push(q)}return s},this._sdk=e}get sdk(){return this._sdk}async calculateDepositAmount(e,i=!0,n=!1){return e.side==="both"?await this.calculateAmountFromBoth(e,!0):await this.calculateDepositAmountFromOneSide(e,i,n)}async calculateWithdrawAmount(e){if(e.side==="both"){if(e.is_ft_input)return{...await this.estLiquidityAmountFromFtAmount({...e,input_ft_amount:e.input_amount}),request_id:e.input_amount,burn_ft_amount:e.input_amount,side:e.side};let s=await this.calculateAmountFromBoth(e,!1);return{...s,request_id:e.input_amount,burn_ft_amount:s.ft_amount,side:e.side}}let{vault:i}=await this.getVaultAndPool(e.vault_id);if(!+e.max_ft_amount)return jt$2("InvalidMaxFtAmount","max_ft_amount input is invalid");let n=Bt$1.getShareLiquidityByAmount(i,e.max_ft_amount);return await this.calculateWithdrawAmountFromOneSide({fix_amount_a:e.fix_amount_a,vault_id:e.vault_id,receive_amount:e.is_ft_input?"0":e.input_amount,slippage:e.slippage,max_liquidity:n,remove_liquidity:e.is_ft_input?Bt$1.getShareLiquidityByAmount(i,e.input_amount):void 0},!0)}async calculateWithdrawAmountFromOneSide(e,i,n){try{let{vault_id:s,remove_liquidity:a,max_liquidity:l}=e,{vault:A,pool:T}=await this.getVaultAndPool(s),{position:q}=A,et=q.tick_lower_index,xi=q.tick_upper_index,Oi=a===l,Ts=mr$5.calculateDepositRatio(et,xi,new W.BN(T.current_sqrt_price)),Fs=e.fix_amount_a?Ts.ratio_a:Ts.ratio_b,qs=G$2(e.receive_amount).mul(Fs),Us,Ls;if(a){let Hs=Zt$3.tickIndexToSqrtPriceX64(et),Ws=Zt$3.tickIndexToSqrtPriceX64(xi),f=mr$5.getCoinAmountFromLiquidity(new W.BN(a),new W.BN(T.current_sqrt_price),Hs,Ws,!1);Ls=a,Us=e.fix_amount_a?f.coin_amount_b.toString():f.coin_amount_a.toString(),qs=e.fix_amount_a?G$2(f.coin_amount_a.toString()):G$2(f.coin_amount_b.toString())}else{let Hs=mr$5.estLiquidityAndCoinAmountFromOneAmounts(et,xi,new W.BN(qs.toFixed(0)),e.fix_amount_a,!1,e.slippage,new W.BN(T.current_sqrt_price));Ls=Hs.liquidity_amount.toString(),Us=e.fix_amount_a?Hs.coin_amount_b.toString():Hs.coin_amount_a.toString()}let Gs=!e.fix_amount_a,zs=await this.findRouters(T.id,T.current_sqrt_price.toString(),e.fix_amount_a?T.coin_type_b:T.coin_type_a,e.fix_amount_a?T.coin_type_a:T.coin_type_b,G$2(Us),!0,[T.id],{poolID:T.id,ticklower:et,tickUpper:xi,deltaLiquidity:Number(Ls)}),Vs=qs.add(zs.amount_out),Zs=G$2(e.receive_amount),Js=Zs.sub(Vs);if(!Oi&&(!e.remove_liquidity||e.remove_liquidity&&n)&&Js.abs().greaterThan(Zs.mul(.01))){let Hs=Vs.lessThan(Zs),Ws,f;n?Hs?(Ws=G$2(Ls),f=n.right):(Ws=n.left,f=G$2(Ls)):(Ws=G$2(Hs?Ls:0),f=G$2(Hs?e.max_liquidity:Ls));let Y=G$2(Ws).add(f).div(2).toFixed(0);if(!n||n&&n.count<15&&Ws.lessThan(f))return await this.calculateWithdrawAmountFromOneSide({...e,remove_liquidity:Y},i,{left:Ws,right:f,count:n?n.count+1:0})}let xo=zs.amount_in&&zs.fee_amount?new W.BN(zs.amount_in).add(new W.BN(zs.fee_amount)).toString():zs.amount_in,Io=zs.amount_out,{is_exceed:Uo}=zs,Fo=Bt$1.getLpAmountByLiquidity(A,Ls.toString());return{side:"oneSide",...await this.estLiquidityAmountFromFtAmount({vault_id:s,input_ft_amount:Fo,slippage:e.slippage}),burn_ft_amount:Fo,request_id:e.receive_amount,swap_result:{swap_in_amount:xo,swap_out_amount:Io,a2b:Gs,is_exceed:Uo,sui_stake_protocol:"Cetus",route_obj:zs.route_obj}}}catch(s){if(i&&(String(s)==="Error: route unavailable"||String(s)==="Error: router timeout"))return await this.calculateWithdrawAmountFromOneSide(e,!1);throw s}}async calculateDepositAmountFromOneSide(e,i,n=!1,s=!0,a=5,l=.02){try{let{vault_id:A,input_amount:T,fix_amount_a:q,slippage:et}=e,{vault:xi,pool:Oi}=await this.getVaultAndPool(A),{position:Ts}=xi,Fs=Ts.tick_lower_index,qs=Ts.tick_upper_index,Us=Zt$3.sqrtPriceX64ToTickIndex(new W.BN(Oi.current_sqrt_price)),{ratio_a:Ls,ratio_b:Gs}=mr$5.calculateDepositRatio(Fs,qs,new W.BN(Oi.current_sqrt_price)),zs=G$2(T).mul(q?Ls:Gs),Vs=G$2(T).sub(zs),Zs=q;if(Vs.toFixed(0)==="0")return await this.calculateAmountFromBoth(e,!0);let Js,xo,Io,Uo,Fo,Ys,Hs,Ws=this.findSuiStakeProtocol(Ts.coin_type_a,Ts.coin_type_b,q);if(Ws!=="Cetus")xo=await this.calculateStakeDepositFixSui({input_sui_amount:G$2(e.input_amount),swap_sui_amount:Vs,lower_tick:Fs,upper_tick:qs,cur_sqrt_price:Oi.current_sqrt_price.toString(),remain_rate:.01,fix_coin_a:e.fix_amount_a,rebalance_count:0,should_request_stake:i,left_sui_amount:Zs?new Rt$2(Vs.toFixed(0)):new Rt$2(0),right_sui_amount:Zs?new Rt$2(e.input_amount):new Rt$2(Vs.toFixed(0)),slippage:et,stake_protocol:Ws}),Uo=Oi.current_sqrt_price.toString(),Js=xo.fix_amount_a,Fo=xo.swap_in_amount,Ys=xo.swap_out_amount,Hs=xo.swap_out_amount_limit;else{xo=await this.findRouters(Oi.id,Oi.current_sqrt_price.toString(),Zs?Oi.coin_type_a:Oi.coin_type_b,Zs?Oi.coin_type_b:Oi.coin_type_a,Vs,!0,[Oi.id]),Io=this.paresSwapData(xo,e.input_amount,e.fix_amount_a,Zs,Fs,qs,Ls,Gs,et),Hs=Io.swap_out_amount_limit;let Ds=G$2(e.input_amount).mul(l);if(G$2(e.input_amount).sub(Io.pre_amount_total).gt(Ds)){let Bs={clmm_pool:Oi.id,cur_sqrt_price:Oi.current_sqrt_price.toString(),a2b:Zs,amount_a:G$2(Zs?T:0),amount_b:G$2(Zs?0:e.input_amount),amount_left:G$2(Zs?Vs.toFixed(0):0),amount_right:G$2(Zs?T:Vs.toFixed(0)),lower_tick:Fs,upper_tick:qs,tick_spacing:2,coin_type_a:Ts.coin_type_a,coin_type_b:Ts.coin_type_b,remain_rate:.02,price_split_point:et,use_route:s,max_loop_limit:a};xo=n&&Us<=qs?await this.calculateRebalance(Bs):await this.findRouters(Oi.id,Oi.current_sqrt_price.toString(),Zs?Oi.coin_type_a:Oi.coin_type_b,Zs?Oi.coin_type_b:Oi.coin_type_a,Vs,!0,[Oi.id])}Uo=xo.after_sqrt_price,Io=this.paresSwapData(xo,e.input_amount,e.fix_amount_a,Zs,Fs,qs,Ls,Gs,et),Hs=Io.swap_out_amount_limit,Js=Io.fix_amount_a,Fo=Io.swap_in_amount,Ys=Io.swap_out_amount,Uo=Io.after_sqrt_price}let f=Js===q?G$2(T).sub(Fo).toFixed(0):Hs,Y=mr$5.estLiquidityAndCoinAmountFromOneAmounts(Fs,qs,new W.BN(f),Js,!0,et,new W.BN(Uo)),nt=Y.coin_amount_a.toString(),vs=Y.coin_amount_b.toString(),ks=Bt$1.getLpAmountByLiquidity(xi,Y.liquidity_amount.toString());return{request_id:e.input_amount,side:"oneSide",amount_a:nt,amount_b:vs,amount_limit_a:Y.coin_amount_limit_a.toString(),amount_limit_b:Y.coin_amount_limit_b.toString(),ft_amount:ks,original_input_amount:e.input_amount,fix_amount_a:Js,swap_result:{swap_in_amount:Fo,swap_out_amount:Ys,a2b:q,sui_stake_protocol:Ws,route_obj:xo.route_obj,is_exceed:xo.is_exceed,after_sqrt_price:Uo}}}catch(A){if(s&&(String(A)==="Error: route unavailable"||String(A)==="Error: router timeout"))return await this.calculateDepositAmountFromOneSide(e,i,!1);throw A}}paresSwapData(e,i,n,s,a,l,A,T,q){let et=e.after_sqrt_price,xi=Zt$3.sqrtPriceX64ToTickIndex(new W.BN(et)),{ratio_a:Oi,ratio_b:Ts}=mr$5.calculateDepositRatio(a,l,new W.BN(et)),Fs=Ts.div(Oi).sub(T.div(A)).greaterThan("0"),qs=e.amount_in&&e.fee_amount?new W.BN(e.amount_in).add(new W.BN(e.fee_amount)).toString():e.amount_in,Us=e.amount_out,Ls=G$2(e.amount_out).mul(1-q).toFixed(0),Gs=Fs===s?new W.BN(G$2(i).sub(qs).toString()):new W.BN(Ls),zs=G$2(i);if(xi<a)Fs=!0;else if(xi>l)Fs=!1;else{let Vs=mr$5.estLiquidityAndCoinAmountFromOneAmounts(a,l,Gs,Fs,!0,0,new W.BN(et)),Zs=Vs.coin_amount_a,Js=Vs.coin_amount_b;zs=G$2(n?Zs.toString():Js.toString()).add(qs),zs.greaterThanOrEqualTo(i)&&(Fs=!Fs)}return{pre_amount_total:zs,fix_amount_a:Fs,swap_in_amount:qs,swap_out_amount:Us,swap_out_amount_limit:Ls,after_sqrt_price:et}}async calculateStakeDepositFixSui(e){let i=e.input_sui_amount.mul(e.remain_rate),n=e.input_sui_amount.sub(e.swap_sui_amount),s;e.should_request_stake?s=await this.getExchangeRateForStake(e.stake_protocol,e.should_request_stake,Number(e.swap_sui_amount.toFixed(0))):s=e.exchange_rate?e.exchange_rate:await this.getExchangeRateForStake(e.stake_protocol,e.should_request_stake,Number(e.swap_sui_amount.toFixed(0)));let a=e.swap_sui_amount.div(s).toFixed(0,Rt$2.ROUND_DOWN),l=mr$5.estLiquidityAndCoinAmountFromOneAmounts(e.lower_tick,e.upper_tick,new W.BN(a.toString()),!e.fix_coin_a,!0,0,new W.BN(e.cur_sqrt_price)),A=e.fix_coin_a?l.coin_amount_a.toString():l.coin_amount_b.toString(),T=G$2(n).sub(A);return T.greaterThanOrEqualTo(0)&&T.lessThanOrEqualTo(i)||e.rebalance_count>12||e.left_sui_amount.greaterThanOrEqualTo(e.right_sui_amount)?{swap_in_amount:e.swap_sui_amount.toFixed(0),swap_out_amount:a,swap_out_amount_limit:G$2(a).mul(1-e.slippage).toFixed(0),after_sqrt_price:e.cur_sqrt_price,fix_amount_a:!e.fix_coin_a,is_exceed:!0,request_id:"",stake_protocol:e.stake_protocol}:T.lessThan(0)?await this.calculateStakeDepositFixSui({...e,right_sui_amount:e.swap_sui_amount,swap_sui_amount:e.swap_sui_amount.add(e.left_sui_amount).div(2),exchange_rate:s,rebalance_count:e.rebalance_count+1}):T.greaterThan(i)?await this.calculateStakeDepositFixSui({...e,left_sui_amount:e.swap_sui_amount,swap_sui_amount:e.swap_sui_amount.add(e.right_sui_amount).div(2),exchange_rate:s,rebalance_count:e.rebalance_count+1}):null}async getExchangeRateForStake(e,i,n){return e==="Haedal"?await he$1.getExchangeRateForStake(this._sdk,i,n):e==="Volo"?await de$1.getExchangeRateForStake(this._sdk,i,n):e==="aftermath"?await ce$1.getExchangeRateForStake(this._sdk,i,n):"0"}async findRouters(e,i,n,s,a,l,A,T){var et,xi;let{providers:q}=this._sdk.sdkOptions;try{let Oi={from:n,target:s,amount:new W.BN(a.toFixed(0).toString()),byAmountIn:l,depth:3,providers:q};T&&T.poolID&&(Oi.liquidityChanges=[T]);let Ts=await this._sdk.AggregatorClient.findRouters(Oi);if(((et=Ts==null?void 0:Ts.error)==null?void 0:et.code)===10001)return{...Ts,is_exceed:Ts.insufficientLiquidity};if(Ts!=null&&Ts.insufficientLiquidity)return{...Ts,is_exceed:Ts.insufficientLiquidity};if(!(Ts!=null&&Ts.routes)||((xi=Ts==null?void 0:Ts.routes)==null?void 0:xi.length)===0)throw Error("Aggregator no router");let Fs=i;return Ts.routes.forEach(qs=>{let Us=qs.path.find(Ls=>Ls.id.toLowerCase()===e.toLowerCase());Us&&Us.extendedDetails&&Us.extendedDetails.afterSqrtPrice&&(Fs=String(Us.extendedDetails.afterSqrtPrice))}),{amount_in:Ts.amountIn.toString(),amount_out:Ts.amountOut.toString(),is_exceed:Ts.insufficientLiquidity,after_sqrt_price:Fs,route_obj:Ts,byAmountIn:!0,liquidity:T==null?void 0:T.deltaLiquidity,originRes:Ts}}catch{try{if(A){let Oi=await this._sdk.AggregatorClient.swapInPools({from:n,target:s,amount:new W.BN(a.toFixed(0).toString()),byAmountIn:l,pools:A});if(Oi){let Ts=i;return Oi.routeData.routes.forEach(Fs=>{let qs=Fs.path.find(Us=>Us.id.toLowerCase()===e.toLowerCase());qs&&(Ts=String(qs.extendedDetails.afterSqrtPrice))}),{amount_in:Oi.routeData.amountIn.toString(),amount_out:Oi.routeData.amountOut.toString(),is_exceed:Oi.isExceed,after_sqrt_price:Ts,route_obj:Oi.routeData,byAmountIn:!0,liquidity:T==null?void 0:T.deltaLiquidity,originRes:Oi}}return null}return null}catch{return null}}}async calculateRebalance(e){let{clmm_pool:i,a2b:n,cur_sqrt_price:s,amount_a:a,amount_b:l,lower_tick:A,upper_tick:T,amount_left:q,amount_right:et,coin_type_a:xi,coin_type_b:Oi,use_route:Ts,price_split_point:Fs,remain_rate:qs,max_loop_limit:Us=5}=e,Ls=async(Gs,zs,Vs)=>{let Zs=Gs.plus(zs).div(2),Js=await this.findRouters(i,s,xi,Oi,Zs,n,[i]);if(Js.amount_out==="0")return Js;if(Js.after_sqrt_price||(Js.after_sqrt_price=s),Js.is_exceed)return zs=Zs,Ls(Gs,zs,Vs+1);let xo=n?a.sub(Js.amount_in):a.add(Js.amount_out),Io=n?l.add(Js.amount_out):l.sub(Js.amount_in),Uo=mr$5.estLiquidityAndCoinAmountFromOneAmounts(A,T,new W.BN(xo.toString()),!0,!0,1,new W.BN(Js.after_sqrt_price)),Fo=new Rt$2(Uo.coin_amount_a.toString()),Ys=new Rt$2(Uo.coin_amount_b.toString());if(Fo.toString()!==xo.toString())throw new Error("used_a does not match after_a");if(Io.lessThan(Ys))n?Gs=Zs:zs=Zs;else{n?zs=Zs:Gs=Zs;let Hs=Io.sub(Ys);if(Io.mul(qs).sub(Hs).greaterThanOrEqualTo(0)||Vs>=Us)return{...Js,remaining_b:Hs}}return Gs.greaterThan(zs)||zs.sub(Gs).lessThan(10)?Js:Ls(Gs,zs,Vs+1)};return q.greaterThanOrEqualTo(et)?Ls(new Rt$2(0),q,0):Ls(q,et,0)}async calculateAmountFromBoth(e,i){let{vault_id:n,input_amount:s,fix_amount_a:a,slippage:l}=e,{vault:A,pool:T}=await this.getVaultAndPool(n),{position:q}=A,et=q.tick_lower_index,xi=q.tick_upper_index,Oi=mr$5.estLiquidityAndCoinAmountFromOneAmounts(et,xi,new W.BN(s),a,i,l,new W.BN(T.current_sqrt_price)),Ts=Bt$1.getLpAmountByLiquidity(A,Oi.liquidity_amount.toString());return{request_id:e.input_amount,amount_a:Oi.coin_amount_a.toString(),amount_b:Oi.coin_amount_b.toString(),amount_limit_a:Oi.coin_amount_limit_a.toString(),amount_limit_b:Oi.coin_amount_limit_b.toString(),original_input_amount:e.input_amount,ft_amount:Ts,fix_amount_a:a,side:"both"}}async estLiquidityAmountFromFtAmount(e){let{vault_id:i,input_ft_amount:n,slippage:s}=e,{vault:a,pool:l}=await this.getVaultAndPool(i),{position:A}=a,T=A.tick_lower_index,q=A.tick_upper_index,et=Zt$3.tickIndexToSqrtPriceX64(T),xi=Zt$3.tickIndexToSqrtPriceX64(q),Oi=new W.BN(n),Ts=Bt$1.getShareLiquidityByAmount(a,Oi.toString()),Fs=new W.BN(l.current_sqrt_price),qs=mr$5.getCoinAmountFromLiquidity(new W.BN(Ts),Fs,et,xi,!1),Us=G$2(qs.coin_amount_a.toString()).mul(G$2(1-s)),Ls=G$2(qs.coin_amount_b.toString()).mul(G$2(1-s));return{amount_a:qs.coin_amount_a.toString(),amount_b:qs.coin_amount_b.toString(),amount_limit_a:Us.toFixed(0),amount_limit_b:Ls.toFixed(0)}}async deposit(e,i){let{vault_id:n,slippage:s,coin_object_a:a,coin_object_b:l,return_lp_token:A,deposit_result:T}=e,{swap_result:q,amount_a:et,amount_b:xi,fix_amount_a:Oi,partner:Ts,side:Fs,original_input_amount:qs}=T,{vault:Us,pool:Ls}=await this.getVaultAndPool(n,!1),Gs,zs,Vs;if(Fs==="oneSide"&&q){Vs=(q.a2b?a:l)||i.add(coinWithBalance({balance:BigInt(qs),type:q.a2b?Ls.coin_type_a:Ls.coin_type_b}));let Uo=[q.swap_in_amount,G$2(qs).sub(G$2(q.swap_in_amount)).toFixed(0,Rt$2.ROUND_DOWN)],[Fo,Ys]=i.splitCoins(Vs,Uo);console.log("spitCoins spitAmounts:",Uo);let{swap_out_coin:Hs}=await this.handleDepositSwap({coin_type_a:Ls.coin_type_a,coin_type_b:Ls.coin_type_b,slippage:s,clmm_pool_address:Ls.id,partner:Ts,swap_in_amount:q.swap_in_amount,swap_in_coin:Fo,a2b:q.a2b,sui_stake_protocol:q.sui_stake_protocol,route_obj:q.route_obj},i);q.a2b?(Gs=Ys,zs=Hs):(Gs=Hs,zs=Ys)}let Zs=G$2(et).mul(G$2(1).add(s)).toFixed(0,Rt$2.ROUND_DOWN).toString(),Js=G$2(xi).mul(G$2(1).add(s)).toFixed(0,Rt$2.ROUND_DOWN).toString(),xo=Oi?et:xi;Fs==="oneSide"&&q?(Zs="18446744073709551615",Js="18446744073709551615",q.a2b?(xo=G$2(xo).mul(G$2(1).sub(.001)).toFixed(0,Rt$2.ROUND_DOWN).toString(),Gs=Gs||Oe$3.buildCoinWithBalance(BigInt(Oi?et:T.amount_limit_a),Ls.coin_type_a,i)):(xo=G$2(xo).mul(G$2(1).sub(.001)).toFixed(0,Rt$2.ROUND_DOWN).toString(),zs=zs||Oe$3.buildCoinWithBalance(BigInt(Oi?T.amount_limit_b:T.amount_b),Ls.coin_type_b,i))):(Gs=a||Oe$3.buildCoinWithBalance(BigInt(Oi?et:Zs),Ls.coin_type_a,i),zs=l||Oe$3.buildCoinWithBalance(BigInt(Oi?Js:xi),Ls.coin_type_b,i));let Io=await this.depositInternal({coin_type_a:Ls.coin_type_a,coin_type_b:Ls.coin_type_b,lp_token_type:Us.lp_token_type,farming_pool:Us.position.pool_id,clmm_pool:Ls.id,primary_coin_a_inputs:Gs,primary_coin_b_inputs:zs,vault_id:n,slippage:e.slippage,amount_a:Oi?xo:Zs,amount_b:Oi?Js:xo,fix_amount_a:Oi,return_lp_token:A},i);if(q&&Vs&&i.transferObjects([Vs],i.pure.address(this._sdk.getSenderAddress())),A)return Io}async handleDepositSwap(e,i){let{partner:n,coin_type_a:s,coin_type_b:a,slippage:l,clmm_pool_address:A,swap_in_amount:T,a2b:q,sui_stake_protocol:et,route_obj:xi,swap_in_coin:Oi}=e,{clmm_pool:Ts,integrate:Fs}=this._sdk.ClmmSDK.sdkOptions,qs=Oi;if(et!=="Cetus")return{swap_out_coin:this.requestStakeCoin(et,i,qs)};if(xi){let Zs={routers:xi,inputCoin:qs,slippage:l,txb:i,partner:n};return{swap_out_coin:await this._sdk.AggregatorClient.fixableRouterSwap(Zs)}}let Us=Oe$3.buildCoinWithBalance(BigInt(0),q?a:s,i),Ls=Ss(q).toString(),Gs=i.moveCall({target:`${Fs.published_at}::${Ye}::swap`,typeArguments:[s,a],arguments:[i.object(na(Ts).global_config_id),i.object(A),q?qs:Us,q?Us:qs,i.pure.bool(q),i.pure.bool(!0),i.pure.u64(T),i.pure.u128(Ls),i.pure.bool(!1),i.object(no$2)]}),zs=q?Gs[1]:Gs[0],Vs=q?Gs[0]:Gs[1];return i.transferObjects([Vs],i.pure.address(this._sdk.getSenderAddress())),{swap_out_coin:zs}}requestStakeCoin(e,i,n){if(e==="Haedal")return he$1.requestStakeCoin(this._sdk,i,n);if(e==="Volo")return de$1.requestStakeCoin(this._sdk,i,n);if(e==="aftermath")return ce$1.requestStakeCoin(this._sdk,i,n)}async depositInternal(e,i){var Ts,Fs;let{vaults:n}=this._sdk.sdkOptions,{clmm_pool:s}=this._sdk.ClmmSDK.sdkOptions,{farms:a}=this._sdk.FarmsSDK.sdkOptions,l=na(n),A=na(a),T=na(s),{primary_coin_a_inputs:q,primary_coin_b_inputs:et}=e;if(q===void 0||et===void 0){let qs=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());q=(Ts=$t$3.buildAddLiquidityFixTokenCoinInput(i,!e.fix_amount_a,e.amount_a,e.slippage,e.coin_type_a,qs,!1))==null?void 0:Ts.target_coin,et=(Fs=$t$3.buildAddLiquidityFixTokenCoinInput(i,e.fix_amount_a,e.amount_b,e.slippage,e.coin_type_b,qs,!1))==null?void 0:Fs.target_coin}let xi=[i.object(l.vaults_manager_id),i.object(e.vault_id),i.object(A.rewarder_manager_id),i.object(A.global_config_id),i.object(e.farming_pool),i.object(T.global_config_id),i.object(e.clmm_pool),q,et,i.pure.u64(e.amount_a),i.pure.u64(e.amount_b),i.pure.bool(e.fix_amount_a),i.object(no$2)],Oi=[e.coin_type_a,e.coin_type_b,e.lp_token_type];if(e.return_lp_token)return i.moveCall({target:`${n.published_at}::${oi$1}::deposit`,typeArguments:Oi,arguments:xi});i.moveCall({target:`${n.published_at}::${$i$2}::deposit`,typeArguments:Oi,arguments:xi})}async withdraw(e,i){let n="is_ft_input"in e,{vault:s,pool:a}=await this.getVaultAndPool(e.vault_id,!0),l=e.return_coin??!1,A,T,q,et;if(n)et=await this._sdk.Vaults.calculateWithdrawAmount({...e,side:"oneSide"}),T=et.amount_limit_a,q=et.amount_limit_b,A=e.is_ft_input?e.input_amount:et.burn_ft_amount;else{let{vault_id:Ts,ft_amount:Fs,slippage:qs}=e;A=Fs;let Us=await this.estLiquidityAmountFromFtAmount({vault_id:Ts,input_ft_amount:Fs,slippage:qs});T=Us.amount_limit_a,q=Us.amount_limit_b}let{receive_coin_a:xi,receive_coin_b:Oi}=await this.withdrawInternal({coin_type_a:a.coin_type_a,coin_type_b:a.coin_type_b,lp_token_type:s.lp_token_type,farming_pool:s.position.pool_id,clmm_pool:a.id,min_amount_a:T,min_amount_b:q,vault_id:e.vault_id,ft_amount:A},i);if(n&&et){let{a2b:Ts,swap_in_amount:Fs,route_obj:qs}=et.swap_result;if(qs){let Us={target_coin:Ts?xi:Oi},Ls={routers:qs,inputCoin:Us.target_coin,slippage:e.slippage,txb:i,partner:e.partner},Gs=await this._sdk.AggregatorClient.fixableRouterSwap(Ls),zs=Ts?[Us.target_coin,Gs]:[Gs,Us.target_coin];if(Ts?i.mergeCoins(zs[1],[Oi]):i.mergeCoins(zs[0],[xi]),l)return{return_coin_a:Ts?void 0:Gs,return_coin_b:Ts?Gs:void 0};i.transferObjects([Gs],i.pure.address(this._sdk.getSenderAddress()))}else{let{clmm_pool:Us,integrate:Ls}=this._sdk.ClmmSDK.sdkOptions,Gs=Ss(Ts).toString(),zs=i.moveCall({target:`${Ls.published_at}::${Ye}::swap`,typeArguments:[a.coin_type_a,a.coin_type_b],arguments:[i.object(na(Us).global_config_id),i.object(a.id),xi,Oi,i.pure.bool(Ts),i.pure.bool(!0),i.pure.u64(Fs),i.pure.u128(Gs),i.pure.bool(!0),i.object(no$2)]});if(l)return{return_coin_a:zs[0],return_coin_b:zs[1]};i.transferObjects([zs[0],zs[1]],i.pure.address(this._sdk.getSenderAddress()))}}else{if(l)return{return_coin_a:xi,return_coin_b:Oi};i.transferObjects([xi,Oi],i.pure.address(this._sdk.getSenderAddress()))}return{}}async withdrawInternal(e,i){let{vaults:n}=this._sdk.sdkOptions,{farms:s}=this._sdk.FarmsSDK.sdkOptions,{clmm_pool:a}=this._sdk.ClmmSDK.sdkOptions,l=na(n),A=na(s),T=na(a),{primary_coin_inputs:q}=e;if(q===void 0){let Oi=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());q=Oe$3.buildCoinForAmount(i,Oi,BigInt(e.ft_amount),e.lp_token_type,!1,!0).target_coin}let et=[e.coin_type_a,e.coin_type_b,e.lp_token_type],xi=i.moveCall({target:`${n.published_at}::${oi$1}::remove`,typeArguments:et,arguments:[i.object(l.vaults_manager_id),i.object(e.vault_id),i.object(A.rewarder_manager_id),i.object(A.global_config_id),i.object(e.farming_pool),i.object(T.global_config_id),i.object(e.clmm_pool),q,i.pure.u64(e.ft_amount),i.pure.u64(e.min_amount_a),i.pure.u64(e.min_amount_b),i.object(no$2)]});return i.transferObjects([q],i.pure.address(this._sdk.getSenderAddress())),{receive_coin_a:xi[0],receive_coin_b:xi[1]}}async getVaultAndPool(e,i=!1){let n=await this.sdk.Vaults.getVault(e);if(n===void 0)throw new Error("please check config and vault id");let s=await this._sdk.ClmmSDK.Pool.getPool(n.pool_id,i);return{vault:n,pool:s}}async getVaultList(e="all"){let{vaults_pool_handle:i}=na(this._sdk.sdkOptions.vaults),n=await this._sdk.FullClient.getDynamicFieldsByPage(i,e),s=n.data.map(A=>A.name.value),a=await this._sdk.FullClient.batchGetObjects(s,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),l=[];return a.forEach(A=>{let T=Bt$1.buildPool(A);T&&(T.stake_protocol=this.findStakeProtocol(T.position.coin_type_a,T.position.coin_type_b),this.savePoolToCache(T),l.push(T))}),n.data=l,n}findStakeProtocol(e,i){let{haedal:n,volo:s,aftermath:a}=na(this._sdk.sdkOptions.vaults),l=ie$2(e).full_address,A=ie$2(i).full_address;if(Oe$3.isSuiCoin(l)||Oe$3.isSuiCoin(A)){if(n){let T=ie$2(na(n).coin_type).full_address;if(l===T||A===T)return"Haedal"}if(s){let T=ie$2(na(s).coin_type).full_address;if(l===T||A===T)return"Volo"}if(a){let T=ie$2(na(a).coin_type).full_address;if(l===T||A===T)return"aftermath"}}}async getVault(e,i=!1){let n=this.readPoolFromCache(e,i);if(n)return n;try{let s=await this._sdk.FullClient.getObject({id:e,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),a=Bt$1.buildPool(s);if(a)return this.savePoolToCache(a),a}catch(s){console.log(s)}}savePoolToCache(e){let i=`${e.id}_mirrorPool`;this._sdk.updateCache(i,e,_e$4)}readPoolFromCache(e,i=!1){let n=`${e}_mirror_pool`;return this._sdk.getCache(n,i)}findSuiStakeProtocol(e,i,n){let{haedal:s,volo:a,aftermath:l}=na(this._sdk.sdkOptions.vaults),A=ie$2(e).full_address,T=ie$2(i).full_address;if(Oe$3.isSuiCoin(A)&&n||Oe$3.isSuiCoin(T)&&!n){if(s){let q=ie$2(na(s).coin_type).full_address;if(A===q||T===q)return"Haedal"}if(a){let q=ie$2(na(a).coin_type).full_address;if(A===q||T===q)return"Volo"}if(l){let q=ie$2(na(l).coin_type).full_address;if(A===q||T===q)return"aftermath"}}return"Cetus"}async getVaultsConfigs(e=!1){let{package_id:i}=this._sdk.sdkOptions.vaults,n=`${i}_getMirrorPoolConfigs`,s=this._sdk.getCache(n,e);if(s!==void 0)return s;let a=(await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${i}::vaults::InitEvent`})).data,l={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(a.length>0){for(let A of a){let T=A.parsedJson;l.admin_cap_id=T.admin_cap_id,l.vaults_manager_id=T.manager_id;let q=await this._sdk.FullClient.getObject({id:l.vaults_manager_id,options:{showContent:!0}}),et=Is(q);l.vaults_pool_handle=et.vault_to_pool_maps.fields.id.id;break}this._sdk.updateCache(n,l,_e$4)}return l}},Oe$2=class Ol extends ur$4{constructor(e,i){super(e),this._vaultsModule=new Ne$3(this),this._clmmSDK=i||Ai$1.createSDK({env:e.env,full_rpc_url:e.full_rpc_url}),this._farmsSDK=xt$1.createSDK({env:e.env,full_rpc_url:e.full_rpc_url},this._clmmSDK),this._aggregatorClient=new AggregatorClient25({signer:normalizeSuiAddress$1("0x0"),client:e.sui_client||new SuiClient({url:e.full_rpc_url}),env:e.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:e.pyth_urls})}setSenderAddress(e){this._farmsSDK.setSenderAddress(e)}getSenderAddress(e=!0){return this._farmsSDK.getSenderAddress(e)}get ClmmSDK(){return this._clmmSDK}get FarmsSDK(){return this._farmsSDK}get AggregatorClient(){return this._aggregatorClient}get Vaults(){return this._vaultsModule}updateProviders(e){if(e.length===0)throw new Error("providers is empty");this._sdkOptions.providers=e}updateFullRpcUrl(e){super.updateFullRpcUrl(e),this._farmsSDK.updateFullRpcUrl(e),this._aggregatorClient=new AggregatorClient25({signer:normalizeSuiAddress$1("0x0"),client:new SuiClient({url:e}),env:this._sdkOptions.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:this._sdkOptions.pyth_urls})}static createSDK(e,i){let{env:n="mainnet",full_rpc_url:s}=e;return n==="mainnet"?Ol.createCustomSDK({...Ni,...e},i):Ol.createCustomSDK({...Ei,...e},i)}static createCustomSDK(e,i){return new Ol(e,i)}};/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/var Fe$1={xcetusConfig:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"},xcetusDividendsConfig:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},Pe$2={full_rpc_url:ki$1,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:Fe$1.xcetusConfig},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",version:4,config:Fe$1.xcetusDividendsConfig},cetus_faucet:{package_id:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"},env:"mainnet"},Le$1={xcetusConfig:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"},xcetusDividendsConfig:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},Re$2={full_rpc_url:Fi$1,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",version:1,config:Le$1.xcetusConfig},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",version:1,config:Le$1.xcetusDividendsConfig},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"},env:"testnet"},ee$1=9e15,z=1e9,Ne$2="0123456789abcdef",pe="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",he="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",De$2={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:ee$1,crypto:!1},Xe$1,B$1,_=!0,me$1="[DecimalError] ",Z=me$1+"Invalid argument: ",$e$1=me$1+"Precision limit exceeded",qe$2=me$1+"crypto unavailable",Be$2="[object Decimal]",x=Math.floor,D$1=Math.pow,it=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,rt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,st=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,He$1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,j=1e7,m=7,ot=9007199254740991,dt=pe.length-1,Ie$2=he.length-1,p={toStringTag:Be$2};p.absoluteValue=p.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),g(t)};p.ceil=function(){return g(new this.constructor(this),this.e+1,2)};p.clampedTo=p.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(Z+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};p.comparedTo=p.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};p.cosine=p.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+m,n.rounding=1,i=at(n,Ge$1(n,i)),n.precision=t,n.rounding=e,g(B$1==2||B$1==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};p.cubeRoot=p.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(_=!1,a=et.s*D$1(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=I$1(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=D$1(i,1/3),t=x((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=y(q.plus(et).times(A),q.plus(T),l+2,1),I$1(A.d).slice(0,l)===(i=I$1(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(g(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(g(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return _=!0,g(n,t,xi.rounding,e)};p.decimalPlaces=p.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-x(this.e/m))*m,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};p.dividedBy=p.div=function(t){return y(this,new this.constructor(t))};p.dividedToIntegerBy=p.divToInt=function(t){var e=this,i=e.constructor;return g(y(e,new i(t),0,1,1),i.precision,i.rounding)};p.equals=p.eq=function(t){return this.cmp(t)===0};p.floor=function(){return g(new this.constructor(this),this.e+1,3)};p.greaterThan=p.gt=function(t){return this.cmp(t)>0};p.greaterThanOrEqualTo=p.gte=function(t){var e=this.cmp(t);return e==1||e===0};p.hyperbolicCosine=p.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/ve$2(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=te$1(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return g(a,l.precision=i,l.rounding=n,!0)};p.hyperbolicSine=p.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=te$1(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/ve$2(5,t)),s=te$1(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,g(s,e,i,!0)};p.hyperbolicTangent=p.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,y(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};p.inverseCosine=p.acos=function(){var t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,s=e.rounding;return i!==-1?i===0?t.isNeg()?V$1(e,n,s):new e(0):new e(NaN):t.isZero()?V$1(e,n+4,s).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=s,t.times(2))};p.inverseHyperbolicCosine=p.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,_=!1,i=i.times(i).minus(1).sqrt().plus(i),_=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};p.inverseHyperbolicSine=p.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,_=!1,i=i.times(i).plus(1).sqrt().plus(i),_=!0,n.precision=t,n.rounding=e,i.ln())};p.inverseHyperbolicTangent=p.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?g(new a(s),t,e,!0):(a.precision=i=n-s.e,s=y(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};p.inverseSine=p.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=V$1(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};p.inverseTangent=p.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=Ie$2)return l=V$1(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=Ie$2)return l=V$1(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/m+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(_=!1,e=Math.ceil(A/m),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),_=!0,g(l,et.precision=xi,et.rounding=Oi,!0)};p.isFinite=function(){return!!this.d};p.isInteger=p.isInt=function(){return!!this.d&&x(this.e/m)>this.d.length-2};p.isNaN=function(){return!this.s};p.isNegative=p.isNeg=function(){return this.s<0};p.isPositive=p.isPos=function(){return this.s>0};p.isZero=function(){return!!this.d&&this.d[0]===0};p.lessThan=p.lt=function(t){return this.cmp(t)<0};p.lessThanOrEqualTo=p.lte=function(t){return this.cmp(t)<1};p.logarithm=p.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(_=!1,A=xi+Ts,l=K$1(q,A),n=e?ge$2(et,A+10):K$1(t,A),T=y(l,n,A,1),re(T.d,s=xi,Oi))do if(A+=10,l=K$1(q,A),n=e?ge$2(et,A+10):K$1(t,A),T=y(l,n,A,1),!a){+I$1(T.d).slice(s+1,s+15)+1==1e14&&(T=g(T,xi+1,0));break}while(re(T.d,s+=10,Oi));return _=!0,g(T,xi,Oi)};p.minus=p.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return _?g(t,A,T):t}if(i=x(t.e/m),et=x(Ts.e/m),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/m),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=j-1;--q[s],q[n]+=j}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=_e$2(q,i),_?g(t,A,T):t):new Fs(T===3?-0:0)};p.modulo=p.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?g(new n(i),n.precision,n.rounding):(_=!1,n.modulo==9?(e=y(i,t.abs(),0,3,1),e.s*=t.s):e=y(i,t,0,n.modulo,1),e=e.times(t),_=!0,i.minus(e))};p.naturalExponential=p.exp=function(){return Me$1(this)};p.naturalLogarithm=p.ln=function(){return K$1(this)};p.negated=p.neg=function(){var t=new this.constructor(this);return t.s=-t.s,g(t)};p.plus=p.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),_?g(t,A,T):t;if(a=x(xi.e/m),n=x(t.e/m),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/m),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/j|0,q[s]%=j;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=_e$2(q,n),_?g(t,A,T):t};p.precision=p.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Z+t);return i.d?(e=Ke(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};p.round=function(){var t=this,e=t.constructor;return g(new e(t),t.e+1,e.rounding)};p.sine=p.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+m,n.rounding=1,i=ut(n,Ge$1(n,i)),n.precision=t,n.rounding=e,g(B$1>2?i.neg():i,t,e,!0)):new n(NaN)};p.squareRoot=p.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(_=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=I$1(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=x((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus(y(l,a,i+2,1)).times(.5),I$1(a.d).slice(0,i)===(e=I$1(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(g(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(g(n,T+1,1),t=!n.times(n).eq(l));break}return _=!0,g(n,T,et.rounding,t)};p.tangent=p.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=y(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,g(B$1==2||B$1==4?i.neg():i,t,e,!0)):new n(NaN)};p.times=p.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=x(et.e/m)+x(t.e/m),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%j|0,e=A/j|0;a[s]=(a[s]+e)%j|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=_e$2(a,i),_?g(t,xi.precision,xi.rounding):t};p.toBinary=function(t,e){return Se$2(this,2,t,e)};p.toDecimalPlaces=p.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(F$1(t,0,z),e===void 0?e=n.rounding:F$1(e,0,8),g(i,t+i.e+1,e))};p.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=U$1(n,!0):(F$1(t,0,z),e===void 0?e=s.rounding:F$1(e,0,8),n=g(new s(n),t+1,e),i=U$1(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};p.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=U$1(s):(F$1(t,0,z),e===void 0?e=a.rounding:F$1(e,0,8),n=g(new a(s),t+s.e+1,e),i=U$1(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};p.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=Ke(Fs)-Ts.e-1,l=a%m,e.d[0]=D$1(10,l<0?m+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error(Z+A);t=A.gt(e)?a>0?e:q:A}for(_=!1,A=new qs(I$1(Fs)),et=qs.precision,qs.precision=a=Fs.length*m*2;xi=y(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=y(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=y(q,n,a,1).minus(Ts).abs().cmp(y(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,_=!0,Oi};p.toHexadecimal=p.toHex=function(t,e){return Se$2(this,16,t,e)};p.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:F$1(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(_=!1,i=y(i,t,0,e,1).times(t),_=!0,g(i)):(t.s=i.s,i=t),i};p.toNumber=function(){return+this};p.toOctal=function(t,e){return Se$2(this,8,t,e)};p.toPower=p.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(D$1(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return g(A,n,a);if(e=x(t.e/m),e>=t.d.length-1&&(i=q<0?-q:q)<=ot)return s=Ze(T,A,i,n),t.s<0?new T(1).div(s):g(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(!(t.d[e]&1)&&(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=D$1(+A,q),e=i==0||!isFinite(i)?x(q*(Math.log("0."+I$1(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(_=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=Me$1(t.times(K$1(A,n+i)),n),s.d&&(s=g(s,n+5,1),re(s.d,n,a)&&(e=n+10,s=g(Me$1(t.times(K$1(A,e+i)),e),e+5,1),+I$1(s.d).slice(n+1,n+15)+1==1e14&&(s=g(s,n+1,0)))),s.s=l,_=!0,T.rounding=a,g(s,n,a))};p.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=U$1(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(F$1(t,1,z),e===void 0?e=s.rounding:F$1(e,0,8),n=g(new s(n),t,e),i=U$1(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};p.toSignificantDigits=p.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(F$1(t,1,z),e===void 0?e=n.rounding:F$1(e,0,8)),g(new n(i),t,e)};p.toString=function(){var t=this,e=t.constructor,i=U$1(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};p.truncated=p.trunc=function(){return g(new this.constructor(this),this.e+1,1)};p.valueOf=p.toJSON=function(){var t=this,e=t.constructor,i=U$1(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function I$1(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=m-n.length,i&&(a+=H$1(i)),a+=n;l=t[e],n=l+"",i=m-n.length,i&&(a+=H$1(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function F$1(t,e,i){if(t!==~~t||t<e||t>i)throw Error(Z+t)}function re(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=m,s=0):(s=Math.ceil((e+1)/m),e%=m),a=D$1(10,m-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==D$1(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==D$1(10,e-3)-1,l}function fe$1(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=Ne$2.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function at(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/ve$2(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=te$1(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var y=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=j,Ts=m,et=x(n.e/Ts)-x(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,Xe$1=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,g(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function g(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=m,l=e,et=xi[Oi=0],T=et/D$1(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/m),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=m,l=a-m+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=m,l=a-m+s,T=l<0?0:et/D$1(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%D$1(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/D$1(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=D$1(10,(m-e%m)%m),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=D$1(10,m-a),xi[Oi]=l>0?(et/D$1(10,s-l)%D$1(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==j&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=j)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return _&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function U$1(t,e,i){if(!t.isFinite())return Qe$1(t);var n,s=t.e,a=I$1(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+H$1(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+H$1(-s-1)+a,i&&(n=i-l)>0&&(a+=H$1(n))):s>=l?(a+=H$1(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+H$1(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=H$1(n))),a}function _e$2(t,e){var i=t[0];for(e*=m;i>=10;i/=10)e++;return e}function ge$2(t,e,i){if(e>dt)throw _=!0,i&&(t.precision=i),Error($e$1);return g(new t(pe),e,1,!0)}function V$1(t,e,i){if(e>Ie$2)throw Error($e$1);return g(new t(he),e,i,!0)}function Ke(t){var e=t.length-1,i=e*m+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function H$1(t){for(var e="";t--;)e+="0";return e}function Ze(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/m+4);for(_=!1;;){if(i%2&&(a=a.times(e),Ve$2(a.d,l)&&(s=!0)),i=x(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),Ve$2(e.d,l)}return _=!0,a}function je$1(t){return t.d[t.d.length-1]&1}function ze$1(t,e,i){for(var n,s,a=new t(e[0]),l=0;++l<e.length;){if(s=new t(e[l]),!s.s){a=s;break}n=a.cmp(s),(n===i||n===0&&a.s===i)&&(a=s)}return a}function Me$1(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(_=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(D$1(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=g(a.times(t),T,1),i=i.times(++et),A=l.plus(y(a,i,T,1)),I$1(A.d).slice(0,T)===I$1(l.d).slice(0,T)){for(s=xi;s--;)l=g(l.times(l),T,1);if(e==null)if(q<3&&re(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return g(l,Oi.precision=Fs,Ts,_=!0);else return Oi.precision=Fs,l}l=A}}function K$1(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(_=!1,et=zs):et=e,Ls.precision=et+=Fs,i=I$1(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=I$1(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=ge$2(Ls,et+2,zs).times(a+""),qs=K$1(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?g(qs,zs,Gs,_=!0):qs;for(xi=qs,T=l=qs=y(qs.minus(1),qs.plus(1),et,1),Oi=g(qs.times(qs),et,1),s=3;;){if(l=g(l.times(Oi),et,1),q=T.plus(y(l,new Ls(s),et,1)),I$1(q.d).slice(0,et)===I$1(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(ge$2(Ls,et+2,zs).times(a+""))),T=y(T,new Ls(Ts),et,1),e==null)if(re(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=y(xi.minus(1),xi.plus(1),et,1),Oi=g(qs.times(qs),et,1),s=A=1;else return g(T,Ls.precision=zs,Gs,_=!0);else return Ls.precision=zs,T;T=q,s+=2}}function Qe$1(t){return String(t.s*t.s/0)}function le$1(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%m,i<0&&(n+=m),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=m;n<s;)t.d.push(+e.slice(n,n+=m));e=e.slice(n),n=m-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),_&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ct(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),He$1.test(e))return le$1(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(rt.test(e))i=16,e=e.toLowerCase();else if(it.test(e))i=2;else if(st.test(e))i=8;else throw Error(Z+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=Ze(n,new n(i),a,a*2)),q=fe$1(e,i,j),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=_e$2(q,et),t.d=q,_=!1,l&&(t=y(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?D$1(2,T):se$1.pow(2,T))),_=!0,t)}function ut(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:te$1(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/ve$2(5,i)),e=te$1(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function te$1(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/m);for(_=!1,T=i.times(i),A=new t(n);;){if(l=y(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=y(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return _=!0,l.d.length=et+1,l}function ve$2(t,e){for(var i=t;--e;)i*=t;return i}function Ge$1(t,e){var i,n=e.s<0,s=V$1(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return B$1=n?4:1,e;if(i=e.divToInt(s),i.isZero())B$1=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return B$1=je$1(i)?n?2:3:n?4:1,e;B$1=je$1(i)?n?1:4:n?3:2}return e.minus(s).abs()}function Se$2(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(F$1(i,1,z),n===void 0?n=Ts.rounding:F$1(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=Qe$1(t);else{for(et=U$1(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=fe$1(U$1(Oi),10,s),Oi.e=Oi.d.length),xi=fe$1(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=y(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=Xe$1),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=Ne$2.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=fe$1(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=Ne$2.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function Ve$2(t,e){if(t.length>e)return t.length=e,!0}function ft(t){return new this(t).abs()}function lt(t){return new this(t).acos()}function pt(t){return new this(t).acosh()}function ht(t,e){return new this(t).plus(e)}function gt(t){return new this(t).asin()}function mt(t){return new this(t).asinh()}function _t(t){return new this(t).atan()}function vt(t){return new this(t).atanh()}function bt(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=V$1(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?V$1(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=V$1(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan(y(t,e,a,1)),e=V$1(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(y(t,e,a,1)),i}function wt(t){return new this(t).cbrt()}function kt(t){return g(t=new this(t),t.e+1,2)}function yt(t,e,i){return new this(t).clamp(e,i)}function Et(t){if(!t||typeof t!="object")throw Error(me$1+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,z,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,ee$1,"maxE",0,ee$1,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=De$2[i]),(n=t[i])!==void 0)if(x(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error(Z+i+": "+n);if(i="crypto",s&&(this[i]=De$2[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(qe$2);else this[i]=!1;else throw Error(Z+i+": "+n);return this}function Tt$1(t){return new this(t).cos()}function Ct(t){return new this(t).cosh()}function We$1(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,Ue$1(a)){q.s=a.s,_?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;_?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return le$1(q,a.toString())}if(T==="string")return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),He$1.test(a)?le$1(q,a):ct(q,a);if(T==="bigint")return a<0?(a=-a,q.s=-1):q.s=1,le$1(q,a.toString());throw Error(Z+a)}if(s.prototype=p,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Et,s.clone=We$1,s.isDecimal=Ue$1,s.abs=ft,s.acos=lt,s.acosh=pt,s.add=ht,s.asin=gt,s.asinh=mt,s.atan=_t,s.atanh=vt,s.atan2=bt,s.cbrt=wt,s.ceil=kt,s.clamp=yt,s.cos=Tt$1,s.cosh=Ct,s.div=Nt,s.exp=Dt,s.floor=It$1,s.hypot=Mt,s.ln=St,s.log=Ot,s.log10=At,s.log2=xt,s.max=Ft,s.min=Pt,s.mod=Lt$2,s.mul=Rt$1,s.pow=jt$1,s.random=Vt$2,s.round=Ut$1,s.sign=Xt$2,s.sin=$t$2,s.sinh=qt$1,s.sqrt=Bt,s.sub=Ht$2,s.sum=Kt$1,s.tan=Zt$1,s.tanh=zt$1,s.trunc=Qt$2,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function Nt(t,e){return new this(t).div(e)}function Dt(t){return new this(t).exp()}function It$1(t){return g(t=new this(t),t.e+1,3)}function Mt(){var t,e,i=new this(0);for(_=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return _=!0,new this(1/0);i=e}return _=!0,i.sqrt()}function Ue$1(t){return t instanceof se$1||t&&t.toStringTag===Be$2||!1}function St(t){return new this(t).ln()}function Ot(t,e){return new this(t).log(e)}function xt(t){return new this(t).log(2)}function At(t){return new this(t).log(10)}function Ft(){return ze$1(this,arguments,-1)}function Pt(){return ze$1(this,arguments,1)}function Lt$2(t,e){return new this(t).mod(e)}function Rt$1(t,e){return new this(t).mul(e)}function jt$1(t,e){return new this(t).pow(e)}function Vt$2(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:F$1(t,1,z),n=Math.ceil(t/m),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(qe$2);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=m,n&&t&&(s=D$1(10,m-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=m)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<m&&(i-=m-n)}return l.e=i,l.d=A,l}function Ut$1(t){return g(t=new this(t),t.e+1,this.rounding)}function Xt$2(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function $t$2(t){return new this(t).sin()}function qt$1(t){return new this(t).sinh()}function Bt(t){return new this(t).sqrt()}function Ht$2(t,e){return new this(t).sub(e)}function Kt$1(){var t=0,e=arguments,i=new this(e[t]);for(_=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return _=!0,g(i,this.precision,this.rounding)}function Zt$1(t){return new this(t).tan()}function zt$1(t){return new this(t).tanh()}function Qt$2(t){return g(t=new this(t),t.e+1,1)}p[Symbol.for("nodejs.util.inspect.custom")]=p.toString;p[Symbol.toStringTag]="Decimal";var se$1=p.constructor=We$1(De$2);pe=new se$1(pe);he=new se$1(he);var Je=se$1,be$2=class extends Me$4{constructor(e,i,n){super(e,i||"UnknownError",n)}static isXCetusErrorCode(e,i){return this.isErrorCode(e,i)}},M$1=(t,e,i)=>{throw e instanceof Error?new be$2(e.message,t,i):new be$2(e,t,i)},G$1="router",oe$1="router",P={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},X=class Jl{static buildVeNFTDividendInfo(e){let i={id:e.id.id,venft_id:e.name,rewards:[]};return e.value.fields.value.fields.dividends.fields.contents.forEach(n=>{let s=[];n.fields.value.fields.contents.forEach(a=>{let l=a.fields.value;G$2(l).gt(0)&&s.push({coin_type:ie$2(a.fields.key.fields.name).source_address,amount:l})}),s.length>0&&i.rewards.push({period:Number(n.fields.key),rewards:s,version:"v1"})}),i}static buildDividendManager(e){let i={id:e.id.id,dividends:{id:e.dividends.fields.id.id,size:e.dividends.fields.size},venft_dividends:{id:e.venft_dividends.fields.id.id,size:e.venft_dividends.fields.size},bonus_types:[],start_time:Number(e.start_time),interval_day:Number(e.interval_day),balances:{id:e.balances.fields.id.id,size:e.balances.fields.size},is_open:e.is_open};return e.bonus_types.forEach(n=>{i.bonus_types.push(ie$2(n.fields.name).source_address)}),i}static buildLockUpManager(e){return{id:e.id.id,balance:e.balance,treasury_manager:e.treasury_manager,extra_treasury:e.extra_treasury,lock_infos:{lock_handle_id:e.lock_infos.fields.id.id,size:Number(e.lock_infos.fields.size)},type_name:ai$2(e.type_name.fields.name),min_lock_day:Number(e.min_lock_day),max_lock_day:Number(e.max_lock_day),package_version:Number(e.package_version),max_percent_numerator:Number(e.max_percent_numerator),min_percent_numerator:Number(e.min_percent_numerator)}}static buildLockCetus(e){let i=e.fields,n={id:i.id.id,type:ie$2(e.type).source_address,locked_start_time:Number(i.locked_start_time),locked_until_time:Number(i.locked_until_time),cetus_amount:i.balance,xcetus_amount:"0",lock_day:0};return n.lock_day=(n.locked_until_time-n.locked_start_time)/86400,n}static getAvailableXCetus(e,i){let n=G$2(0);return i.forEach(s=>{n=n.add(s.xcetus_amount)}),G$2(e.xcetus_balance).sub(n).toString()}static getWaitUnLockCetus(e){return e.filter(i=>!Jl.isLocked(i))}static getLockingCetus(e){return e.filter(i=>Jl.isLocked(i))}static isLocked(e){return e.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(e,i){let n=new Set;return e==null||e.forEach(s=>{s.rewards.forEach(a=>{n.add(a.coin_type)})}),i==null||i.forEach(s=>{s.rewards.forEach(a=>{n.add(a.coin_type)})}),Array.from(n)}static buildDividendRewardTypeListV2(e){let i={};return e==null||e.forEach(n=>{n.version==="v2"&&n.rewards.forEach(s=>{i[s.coin_type]||(i[s.coin_type]=[]),i[s.coin_type].push(n.period)})}),i}static getNextStartTime(e){let i=Date.now()/1e3,{start_time:n,interval_day:s}=e,a=Math.ceil((i-n)/(s*86400));return n+a*s*86400}},ke$2=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getOwnerVeNFT(e,i=!0){let{xcetus:n}=this.sdk.sdkOptions,s=`${e}_getLockUpManagerEvent`,a=this.getCache(s,i);if(a!==void 0)return a;let l,A=`${n.package_id}::xcetus::VeNFT`;try{return(await this._sdk.FullClient.getOwnedObjectsByPage(e,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:A}})).data.forEach(T=>{let q=ie$2(Zn$3(T)).source_address;if(q===A&&T.data&&T.data.content){let{fields:et}=T.data.content;l={...Ps(T),id:et.id.id,index:et.index,type:q,xcetus_balance:et.xcetus_balance},this.updateCache(s,l,_e$4)}}),l}catch(T){return M$1("InvalidAccountAddress",T,{[be$5.METHOD_NAME]:"getOwnerVeNFT",[be$5.REQUEST_PARAMS]:{account_address:e}})}}async getOwnerRedeemLockList(e){let{xcetus:i}=this.sdk.sdkOptions,n=[],s=ie$2(this.buildCetusCoinType()).full_address,a=`${i.package_id}::lock_coin::LockedCoin<${s}>`;try{let l=await this._sdk.FullClient.getOwnedObjectsByPage(e,{options:{showType:!0,showContent:!0},filter:{StructType:a}});for(let A of l.data)if(ie$2(Zn$3(A)).source_address===a&&A.data){let T=X.buildLockCetus(A.data.content);T.xcetus_amount=await this.getXCetusAmount(T.id),n.push(T)}return n}catch(l){return M$1("InvalidAccountAddress",l,{[be$5.METHOD_NAME]:"getOwnerRedeemLockList",[be$5.REQUEST_PARAMS]:{account_address:e}})}}async getLockCetus(e){var i;try{let n=await this._sdk.FullClient.getObject({id:e,options:{showType:!0,showContent:!0}});if((i=n.data)!=null&&i.content){let s=X.buildLockCetus(n.data.content);return s.xcetus_amount=await this.getXCetusAmount(s.id),s}return}catch(n){return M$1("InvalidLockId",n,{[be$5.METHOD_NAME]:"getLockCetus",[be$5.REQUEST_PARAMS]:{lock_id:e}})}}async getOwnerCetusCoins(e){try{return await this._sdk.FullClient.getOwnerCoinAssets(e,this.buildCetusCoinType())}catch(i){return M$1("InvalidAccountAddress",i,{[be$5.METHOD_NAME]:"getOwnerCetusCoins",[be$5.REQUEST_PARAMS]:{account_address:e}})}}mintVeNFTPayload(){var n;let{xcetus:e}=this.sdk.sdkOptions,i=new Transaction;return i.moveCall({target:`${e.published_at}::${G$1}::mint_venft`,typeArguments:[],arguments:[i.object((n=na(e))==null?void 0:n.xcetus_manager_id)]}),i}convertPayload(e,i){var l,A,T,q;let{xcetus:n}=this.sdk.sdkOptions;i=i||new Transaction;let s=this.buildCetusCoinType();i.setSender(this._sdk.getSenderAddress());let a=Oe$3.buildCoinWithBalance(BigInt(e.amount),s,i);return e.venft_id===void 0?i.moveCall({target:`${n.published_at}::${G$1}::mint_and_convert`,typeArguments:[],arguments:[i.object((l=na(n))==null?void 0:l.lock_manager_id),i.object((A=na(n))==null?void 0:A.xcetus_manager_id),i.makeMoveVec({elements:[a]}),i.pure.u64(e.amount)]}):i.moveCall({target:`${n.published_at}::${G$1}::convert`,typeArguments:[],arguments:[i.object((T=na(n))==null?void 0:T.lock_manager_id),i.object((q=na(n))==null?void 0:q.xcetus_manager_id),i.makeMoveVec({elements:[a]}),i.pure.u64(e.amount),i.object(e.venft_id)]}),i}redeemLockPayload(e){var s,a;let{xcetus:i}=this.sdk.sdkOptions,n=new Transaction;return n.moveCall({target:`${i.published_at}::${G$1}::redeem_lock`,typeArguments:[],arguments:[n.object((s=na(i))==null?void 0:s.lock_manager_id),n.object((a=na(i))==null?void 0:a.xcetus_manager_id),n.object(e.venft_id),n.pure.u64(e.amount),n.pure.u64(e.lock_day),n.object(no$2)]}),n}redeemPayload(e){var s,a;let{xcetus:i}=this.sdk.sdkOptions,n=new Transaction;return n.moveCall({target:`${i.published_at}::${G$1}::redeem`,typeArguments:[],arguments:[n.object((s=na(i))==null?void 0:s.lock_manager_id),n.object((a=na(i))==null?void 0:a.xcetus_manager_id),n.object(e.venft_id),n.object(e.lock_id),n.object(no$2)]}),n}redeemDividendPayload(e,i){let{xcetus:n,xcetus_dividends:s}=this.sdk.sdkOptions,a=new Transaction;return i.forEach(l=>{var A;a.moveCall({target:`${n.published_at}::${oe$1}::redeem`,typeArguments:[l],arguments:[a.object((A=na(s))==null?void 0:A.dividend_manager_id),a.object(e)]})}),a}redeemDividendV2Payload(e,i,n){let{xcetus_dividends:s}=this.sdk.sdkOptions,a=new Transaction;return i.filter(l=>n.includes(l)).length>0&&(a=this.redeemDividendXTokenPayload(e,a)),i.forEach(l=>{var A;n.includes(l)||a.moveCall({target:`${s.published_at}::${oe$1}::redeem_v2`,typeArguments:[l],arguments:[a.object((A=na(s))==null?void 0:A.dividend_manager_id),a.object(e),a.object(no$2)]})}),a}redeemDividendV3Payload(e,i){let{xcetus_dividends:n}=this.sdk.sdkOptions,s=new Transaction,a=X.buildDividendRewardTypeList(i),l=X.buildDividendRewardTypeListV2(i),A=ie$2(this.buildXTokenCoinType()).full_address;return a.find(T=>ie$2(T).full_address===A)!==void 0&&this.redeemDividendXTokenPayload(e,s),a.forEach(T=>{var q,et;s.moveCall({target:`${n.published_at}::${oe$1}::redeem_v3`,typeArguments:[T],arguments:[s.object((q=na(n))==null?void 0:q.dividend_manager_id),s.object((et=na(n))==null?void 0:et.venft_dividends_id),s.makeMoveVec({elements:l[T].map(xi=>s.pure.u64(xi)),type:"u64"}),s.object(e),s.object(no$2)]})}),s}redeemDividendXTokenPayload(e,i){let{xcetus_dividends:n,xcetus:s}=this.sdk.sdkOptions,{xcetus_manager_id:a,lock_manager_id:l}=na(s),{dividend_manager_id:A}=na(n);return i=i===void 0?new Transaction:i,i.moveCall({target:`${n.published_at}::${oe$1}::redeem_xtoken`,typeArguments:[],arguments:[i.object(l),i.object(a),i.object(A),i.object(e),i.object(no$2)]}),i}buildCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buildXTokenCoinType(e=this._sdk.sdkOptions.xcetus.package_id,i="xcetus",n="XCETUS"){return`${e}::${i}::${n}`}cancelRedeemPayload(e){let{xcetus:i}=this.sdk.sdkOptions,n=new Transaction;return n.moveCall({target:`${i.published_at}::${G$1}::cancel_redeem_lock`,typeArguments:[],arguments:[n.object(na(i).lock_manager_id),n.object(na(i).xcetus_manager_id),n.object(e.venft_id),n.object(e.lock_id),n.object(no$2)]}),n}async getInitConfigs(){var A,T;let{package_id:e}=this.sdk.sdkOptions.xcetus,i=`${e}_getInitFactoryEvent`,n=this.getCache(i);if(n!==void 0)return n;let s=(A=await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::xcetus::InitEvent`}))==null?void 0:A.data,a={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};s.length>0&&s.forEach(q=>{let et=q.parsedJson;et&&(a.xcetus_manager_id=et.xcetus_manager)});let l=(T=await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::locking::InitializeEvent`}))==null?void 0:T.data;l.length>0&&l.forEach(q=>{let et=q.parsedJson;et&&(a.lock_manager_id=et.lock_manager)});try{if(a.lock_manager_id.length>0){let q=await this.getLockUpManager(a.lock_manager_id);q&&(q!=null&&q.lock_infos.lock_handle_id)&&(a.lock_handle_id=q==null?void 0:q.lock_infos.lock_handle_id)}return this.updateCache(i,a,_e$4),a}catch(q){return M$1("FetchError",q,{[be$5.METHOD_NAME]:"getInitConfigs"})}}async getLockUpManager(e=na(this.sdk.sdkOptions.xcetus).lock_manager_id,i=!1){let n=`${e}_getLockUpManager`,s=this.getCache(n,i);if(s!==void 0)return s;try{let a=await this.sdk.FullClient.getObject({id:e,options:{showContent:!0}}),l=X.buildLockUpManager(Is(a));return this.updateCache(n,l,_e$4),l}catch(a){return M$1("InvalidLockManagerId",a,{[be$5.METHOD_NAME]:"getLockUpManager",[be$5.REQUEST_PARAMS]:{lock_manager_id:e}})}}async getDividendConfigs(){var l,A,T;let{package_id:e}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:i,venft_dividends_id:n}=na(this._sdk.sdkOptions.xcetus_dividends),s=`${e}_getDividendManagerEvent`,a=this.getCache(s);if(a!==void 0)return a;try{let q=(l=await this._sdk.FullClient.queryEventsByPage({MoveEventType:`${e}::dividend::InitEvent`}))==null?void 0:l.data,et=await this._sdk.FullClient.getDynamicFieldObject({parentId:i,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),xi={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};q.length>0&&q.forEach(Ts=>{let Fs=Ts.parsedJson;Fs&&(xi.dividend_manager_id=Fs.manager_id,xi.dividend_admin_id=Fs.admin_id,xi.dividend_settle_id=Fs.settle_id,this.updateCache(s,xi,_e$4))}),et&&et.data&&et.data.content&&(xi.venft_dividends_id=(T=(A=et.data.content)==null?void 0:A.fields)==null?void 0:T.value,this.updateCache(s,xi,_e$4));let Oi=await this._sdk.FullClient.getObject({id:n,options:{showContent:!0}});return xi.venft_dividends_id_v2=Oi.data.content.fields.venft_dividends.fields.id.id,xi}catch(q){return M$1("FetchError",q,{[be$5.METHOD_NAME]:"getDividendConfigs"})}}async getDividendManager(e=!1){let{dividend_manager_id:i}=na(this._sdk.sdkOptions.xcetus_dividends),n=`${i}_getDividendManager`,s=this.getCache(n,e);if(s!==void 0)return s;try{let a=await this._sdk.FullClient.getObject({id:i,options:{showContent:!0}}),l=Is(a),A=X.buildDividendManager(l);return this.updateCache(n,A,_e$4),A}catch(a){return M$1("FetchError",a,{[be$5.METHOD_NAME]:"getDividendManager"})}}async getXcetusManager(e=!0){let{xcetus_manager_id:i}=na(this._sdk.sdkOptions.xcetus),n=`${i}_getXcetusManager`,s=this.getCache(n,e);if(s)return s;try{let a=await this._sdk.FullClient.getObject({id:i,options:{showContent:!0}}),l=Is(a),A={id:l.id.id,index:Number(l.index),has_venft:{handle:l.has_venft.fields.id.id,size:l.has_venft.fields.size},nfts:{handle:l.nfts.fields.id.id,size:l.nfts.fields.size},total_locked:l.total_locked,treasury:l.treasury.fields.total_supply.fields.value};return this.updateCache(n,A),A}catch(a){return M$1("FetchError",a,{[be$5.METHOD_NAME]:"getXcetusManager"})}}async fetchDividendInfo(e){let{xcetus_dividends:i}=this._sdk.sdkOptions,{dividend_manager_id:n,venft_dividends_id:s}=na(i),a=new Transaction;a.moveCall({target:`${i.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[a.object(n),a.object(s),a.object(e)]});try{let l=await this._sdk.FullClient.devInspectTransactionBlock({transactionBlock:a,sender:this._sdk.getSenderAddress()}),{contents:A}=l.events[0].parsedJson.info,T={id:"",venft_id:e,rewards:[]};return A.forEach(q=>{let et=[],xi=q.key,{contents:Oi}=q.value;Oi.forEach(Ts=>{G$2(Ts.value).gt(0)&&et.push({coin_type:ie$2(Ts.key.name).source_address,amount:Ts.value})}),et.length>0&&T.rewards.push({period:Number(xi),rewards:et,version:Number(xi)>66?"v2":"v1"})}),T}catch(l){M$1("InvalidVeNftId",l,{[be$5.METHOD_NAME]:"fetchDividendInfo",[be$5.REQUEST_PARAMS]:{venft_id:e}})}}async getVeNFTDividendInfo(e){try{return await this.fetchDividendInfo(e)}catch{try{return await this.getVeNFTDividendInfoV2(e)}catch(i){return console.log("getVeNFTDividendInfo",i),M$1("InvalidVeNftId",i,{[be$5.METHOD_NAME]:"getVeNFTDividendInfo",[be$5.REQUEST_PARAMS]:{venft_id:e}})}}}async getVeNFTDividendInfoV2(e){let{xcetus_dividends:i}=this._sdk.sdkOptions,{venft_dividends_id_v2:n}=na(i),s={id:"",venft_id:e,rewards:[]},a=[];try{let l=await this._sdk.FullClient.getDynamicFieldObject({parentId:n,name:{type:"0x2::object::ID",value:e}}),A=Is(l).value.fields.value.fields.dividends.fields.id.id,T=null,q=50,et=[];for(;;){let xi=await this._sdk.FullClient.getDynamicFields({parentId:A,cursor:T,limit:q});if(xi.data.forEach(Oi=>{et.push(Oi.objectId)}),T=xi.nextCursor,T===null||xi.data.length<q)break}(await this._sdk.FullClient.batchGetObjects(et,{showType:!0,showContent:!0})).forEach(xi=>{a.push({period:Number(xi.data.content.fields.name),version:"v2",rewards:xi.data.content.fields.value.fields.contents.map(Oi=>({coin_type:ie$2(Oi.fields.key.fields.name).source_address,amount:Oi.fields.value}))})})}catch(l){return console.log("getVeNFTDividendInfoV2",l),M$1("InvalidVeNftId",l,{[be$5.METHOD_NAME]:"getVeNFTDividendInfoV2",[be$5.REQUEST_PARAMS]:{venft_id:e}})}return{...s,rewards:[...a]}}async getVeNFTDividendInfoV1(e){let{xcetus_dividends:i}=this._sdk.sdkOptions,{venft_dividends_id:n}=na(i),s={id:"",venft_id:e,rewards:[]};try{let a=await this._sdk.FullClient.getDynamicFieldObject({parentId:n,name:{type:"0x2::object::ID",value:e}}),l=Is(a);s=X.buildVeNFTDividendInfo(l)}catch(a){return console.log("getVeNFTDividendInfoV1 ~ error:",a),M$1("InvalidVeNftId",a,{[be$5.METHOD_NAME]:"getVeNFTDividendInfoV1",[be$5.REQUEST_PARAMS]:{venft_id:e}})}return s}redeemNum(e,i){if(BigInt(e)===BigInt(0))return{amount_out:"0",percent:"0"};let n=G$2(1e11).mul(G$2(P.max_lock_day).sub(G$2(i))).mul(G$2(P.max_percent_numerator).sub(G$2(P.min_percent_numerator))).div(G$2(P.max_lock_day).sub(G$2(P.min_lock_day))),s=G$2(1e11).mul(G$2(P.max_percent_numerator)).sub(n).div(G$2(1e3)).div(1e11);return{amount_out:G$2(s).mul(G$2(e)).round().toString(),percent:s.toString()}}reverseRedeemNum(e,i){if(BigInt(e)===BigInt(0))return{amount_out:"0",percent:"0"};let n=G$2(1e11).mul(G$2(P.max_lock_day).sub(G$2(i))).mul(G$2(P.max_percent_numerator).sub(G$2(P.min_percent_numerator))).div(G$2(P.max_lock_day).sub(G$2(P.min_lock_day))),s=G$2(1e11).mul(G$2(P.max_percent_numerator)).sub(n).div(G$2(1e3)).div(1e11);return{amount_out:G$2(e).div(s).toFixed(0,Je.ROUND_UP),percent:s.toString()}}async getXCetusAmount(e){let{lock_handle_id:i}=na(this._sdk.sdkOptions.xcetus),n=`${e}_getXCetusAmount`,s=this.getCache(n);if(s!==void 0)return s;try{let a=await this.sdk.FullClient.getDynamicFieldObject({parentId:i,name:{type:"0x2::object::ID",value:e}}),l=Is(a);if(l){let{xcetus_amount:A}=l.value.fields.value.fields;return this.updateCache(n,A,_e$4),A}}catch(a){console.log("getXCetusAmount",a),M$1("InvalidLockId",a,{[be$5.METHOD_NAME]:"getXCetusAmount",[be$5.REQUEST_PARAMS]:{lock_id:e}})}return"0"}async getVeNftAmount(e,i){try{let n=await this.sdk.FullClient.getDynamicFieldObject({parentId:e,name:{type:"0x2::object::ID",value:i}}),s=Is(n);if(s){let{lock_amount:a,xcetus_amount:l}=s.value.fields.value.fields;return{lock_amount:a,xcetus_amount:l}}}catch(n){console.log("getVeNftAmount",n),M$1("FetchError",n,{[be$5.METHOD_NAME]:"getVeNftAmount",[be$5.REQUEST_PARAMS]:{nft_handle_id:e,venft_id:i}})}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(e,i=!1){try{let n=await this.getDividendManager();if(n){let s=n.dividends.id,a=`${s}_${e}_getPhaseDividendInfo`,l=this._sdk.getCache(a,i);if(l)return l;let A=await this._sdk.FullClient.getDynamicFieldObject({parentId:s,name:{type:"u64",value:e}}),T=Is(A),q=T.value.fields.value.fields,et=q.redeemed_num.fields.contents.map(Fs=>({name:Fs.fields.key.fields.name,value:Fs.fields.value})),xi=q.bonus_types.map(Fs=>Fs.fields.name),Oi=q.bonus.fields.contents.map(Fs=>({name:Fs.fields.key.fields.name,value:Fs.fields.value})),Ts={id:As(A),phase:T.name,settled_num:q.settled_num,register_time:q.register_time,redeemed_num:et,is_settled:q.is_settled,bonus_types:xi,bonus:Oi,phase_end_time:""};return this.updateCache(a,Ts),Ts}}catch(n){console.log("getPhaseDividendInfo",n),M$1("InvalidPhase",n,{[be$5.METHOD_NAME]:"getPhaseDividendInfo",[be$5.REQUEST_PARAMS]:{phase:e}})}}updateCache(e,i,n=fo$1){let s=this._cache[e];s?(s.overdue_time=fe$3(n),s.value=i):s=new ue$3(i,fe$3(n)),this._cache[e]=s}getCache(e,i=!1){let n=this._cache[e];if(!i&&(n!=null&&n.isValid()))return n.value;delete this._cache[e]}},ye$2=class Il extends ur$4{constructor(e){super(e),this._xcetusModule=new ke$2(this)}get XCetusModule(){return this._xcetusModule}static createSDK(e){let{env:i="mainnet",full_rpc_url:n}=e;return i==="mainnet"?Il.createCustomSDK({...Pe$2,...e}):Il.createCustomSDK({...Re$2,...e})}static createCustomSDK(e){return new Il(e)}};/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/var We=Object.create,ge$1=Object.defineProperty,He=Object.getOwnPropertyDescriptor,ze=Object.getOwnPropertyNames,Qe=Object.getPrototypeOf,Ve$1=Object.prototype.hasOwnProperty,$e=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Xe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ge=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ze(e))!Ve$1.call(t,s)&&s!==i&&ge$1(t,s,{get:()=>e[s],enumerable:!(n=He(e,s))||n.enumerable});return t},ve$1=(t,e,i)=>(i=t!=null?We(Qe(t)):{},Ge(!t||!t.__esModule?ge$1(i,"default",{value:t,enumerable:!0}):i,t)),ji=Xe((t,e)=>{(function(i,n){function s(f,Y){if(!f)throw new Error(Y||"Assertion failed")}function a(f,Y){f.super_=Y;var nt=function(){};nt.prototype=Y.prototype,f.prototype=new nt,f.prototype.constructor=f}function l(f,Y,nt){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((Y==="le"||Y==="be")&&(nt=Y,Y=10),this._init(f||0,Y||10,nt||"be"))}typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var A;try{typeof window<"u"&&typeof window.Buffer<"u"?A=window.Buffer:A=$e("buffer").Buffer}catch{}l.isBN=function(f){return f instanceof l?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===l.wordSize&&Array.isArray(f.words)},l.max=function(f,Y){return f.cmp(Y)>0?f:Y},l.min=function(f,Y){return f.cmp(Y)<0?f:Y},l.prototype._init=function(f,Y,nt){if(typeof f=="number")return this._initNumber(f,Y,nt);if(typeof f=="object")return this._initArray(f,Y,nt);Y==="hex"&&(Y=16),s(Y===(Y|0)&&Y>=2&&Y<=36),f=f.toString().replace(/\s+/g,"");var vs=0;f[0]==="-"&&(vs++,this.negative=1),vs<f.length&&(Y===16?this._parseHex(f,vs,nt):(this._parseBase(f,Y,vs),nt==="le"&&this._initArray(this.toArray(),Y,nt)))},l.prototype._initNumber=function(f,Y,nt){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(s(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),nt==="le"&&this._initArray(this.toArray(),Y,nt)},l.prototype._initArray=function(f,Y,nt){if(s(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks,Ds,Bs=0;if(nt==="be")for(vs=f.length-1,ks=0;vs>=0;vs-=3)Ds=f[vs]|f[vs-1]<<8|f[vs-2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);else if(nt==="le")for(vs=0,ks=0;vs<f.length;vs+=3)Ds=f[vs]|f[vs+1]<<8|f[vs+2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);return this._strip()};function T(f,Y){var nt=f.charCodeAt(Y);if(nt>=48&&nt<=57)return nt-48;if(nt>=65&&nt<=70)return nt-55;if(nt>=97&&nt<=102)return nt-87;s(!1,"Invalid character in "+f)}function q(f,Y,nt){var vs=T(f,nt);return nt-1>=Y&&(vs|=T(f,nt-1)<<4),vs}l.prototype._parseHex=function(f,Y,nt){this.length=Math.ceil((f.length-Y)/6),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks=0,Ds=0,Bs;if(nt==="be")for(vs=f.length-1;vs>=Y;vs-=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8;else{var Ms=f.length-Y;for(vs=Ms%2===0?Y+1:Y;vs<f.length;vs+=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8}this._strip()};function et(f,Y,nt,vs){for(var ks=0,Ds=0,Bs=Math.min(f.length,nt),Ms=Y;Ms<Bs;Ms++){var Q=f.charCodeAt(Ms)-48;ks*=vs,Q>=49?Ds=Q-49+10:Q>=17?Ds=Q-17+10:Ds=Q,s(Q>=0&&Ds<vs,"Invalid character"),ks+=Ds}return ks}l.prototype._parseBase=function(f,Y,nt){this.words=[0],this.length=1;for(var vs=0,ks=1;ks<=67108863;ks*=Y)vs++;vs--,ks=ks/Y|0;for(var Ds=f.length-nt,Bs=Ds%vs,Ms=Math.min(Ds,Ds-Bs)+nt,Q=0,$s=nt;$s<Ms;$s+=vs)Q=et(f,$s,$s+vs,Y),this.imuln(ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(Bs!==0){var Ks=1;for(Q=et(f,$s,f.length,Y),$s=0;$s<Bs;$s++)Ks*=Y;this.imuln(Ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},l.prototype.copy=function(f){f.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)f.words[Y]=this.words[Y];f.length=this.length,f.negative=this.negative,f.red=this.red};function xi(f,Y){f.words=Y.words,f.length=Y.length,f.negative=Y.negative,f.red=Y.red}if(l.prototype._move=function(f){xi(f,this)},l.prototype.clone=function(){var f=new l(null);return this.copy(f),f},l.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oi}catch{l.prototype.inspect=Oi}else l.prototype.inspect=Oi;function Oi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Fs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(f,Y){f=f||10,Y=Y|0||1;var nt;if(f===16||f==="hex"){nt="";for(var vs=0,ks=0,Ds=0;Ds<this.length;Ds++){var Bs=this.words[Ds],Ms=((Bs<<vs|ks)&16777215).toString(16);ks=Bs>>>24-vs&16777215,vs+=2,vs>=26&&(vs-=26,Ds--),ks!==0||Ds!==this.length-1?nt=Ts[6-Ms.length]+Ms+nt:nt=Ms+nt}for(ks!==0&&(nt=ks.toString(16)+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}if(f===(f|0)&&f>=2&&f<=36){var Q=Fs[f],$s=qs[f];nt="";var Ks=this.clone();for(Ks.negative=0;!Ks.isZero();){var jo=Ks.modrn($s).toString(f);Ks=Ks.idivn($s),Ks.isZero()?nt=jo+nt:nt=Ts[Q-jo.length]+jo+nt}for(this.isZero()&&(nt="0"+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},l.prototype.toJSON=function(){return this.toString(16,2)},A&&(l.prototype.toBuffer=function(f,Y){return this.toArrayLike(A,f,Y)}),l.prototype.toArray=function(f,Y){return this.toArrayLike(Array,f,Y)};var Us=function(f,Y){return f.allocUnsafe?f.allocUnsafe(Y):new f(Y)};l.prototype.toArrayLike=function(f,Y,nt){this._strip();var vs=this.byteLength(),ks=nt||Math.max(1,vs);s(vs<=ks,"byte array longer than desired length"),s(ks>0,"Requested array length <= 0");var Ds=Us(f,ks),Bs=Y==="le"?"LE":"BE";return this["_toArrayLike"+Bs](Ds,vs),Ds},l.prototype._toArrayLikeLE=function(f,Y){for(var nt=0,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt++]=Bs&255,nt<f.length&&(f[nt++]=Bs>>8&255),nt<f.length&&(f[nt++]=Bs>>16&255),Ds===6?(nt<f.length&&(f[nt++]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt<f.length)for(f[nt++]=vs;nt<f.length;)f[nt++]=0},l.prototype._toArrayLikeBE=function(f,Y){for(var nt=f.length-1,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt--]=Bs&255,nt>=0&&(f[nt--]=Bs>>8&255),nt>=0&&(f[nt--]=Bs>>16&255),Ds===6?(nt>=0&&(f[nt--]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt>=0)for(f[nt--]=vs;nt>=0;)f[nt--]=0},Math.clz32?l.prototype._countBits=function(f){return 32-Math.clz32(f)}:l.prototype._countBits=function(f){var Y=f,nt=0;return Y>=4096&&(nt+=13,Y>>>=13),Y>=64&&(nt+=7,Y>>>=7),Y>=8&&(nt+=4,Y>>>=4),Y>=2&&(nt+=2,Y>>>=2),nt+Y},l.prototype._zeroBits=function(f){if(f===0)return 26;var Y=f,nt=0;return!(Y&8191)&&(nt+=13,Y>>>=13),!(Y&127)&&(nt+=7,Y>>>=7),!(Y&15)&&(nt+=4,Y>>>=4),!(Y&3)&&(nt+=2,Y>>>=2),!(Y&1)&&nt++,nt},l.prototype.bitLength=function(){var f=this.words[this.length-1],Y=this._countBits(f);return(this.length-1)*26+Y};function Ls(f){for(var Y=new Array(f.bitLength()),nt=0;nt<Y.length;nt++){var vs=nt/26|0,ks=nt%26;Y[nt]=f.words[vs]>>>ks&1}return Y}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,Y=0;Y<this.length;Y++){var nt=this._zeroBits(this.words[Y]);if(f+=nt,nt!==26)break}return f},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},l.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var Y=0;Y<f.length;Y++)this.words[Y]=this.words[Y]|f.words[Y];return this._strip()},l.prototype.ior=function(f){return s((this.negative|f.negative)===0),this.iuor(f)},l.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},l.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},l.prototype.iuand=function(f){var Y;this.length>f.length?Y=f:Y=this;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]&f.words[nt];return this.length=Y.length,this._strip()},l.prototype.iand=function(f){return s((this.negative|f.negative)===0),this.iuand(f)},l.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},l.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},l.prototype.iuxor=function(f){var Y,nt;this.length>f.length?(Y=this,nt=f):(Y=f,nt=this);for(var vs=0;vs<nt.length;vs++)this.words[vs]=Y.words[vs]^nt.words[vs];if(this!==Y)for(;vs<Y.length;vs++)this.words[vs]=Y.words[vs];return this.length=Y.length,this._strip()},l.prototype.ixor=function(f){return s((this.negative|f.negative)===0),this.iuxor(f)},l.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},l.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},l.prototype.inotn=function(f){s(typeof f=="number"&&f>=0);var Y=Math.ceil(f/26)|0,nt=f%26;this._expand(Y),nt>0&&Y--;for(var vs=0;vs<Y;vs++)this.words[vs]=~this.words[vs]&67108863;return nt>0&&(this.words[vs]=~this.words[vs]&67108863>>26-nt),this._strip()},l.prototype.notn=function(f){return this.clone().inotn(f)},l.prototype.setn=function(f,Y){s(typeof f=="number"&&f>=0);var nt=f/26|0,vs=f%26;return this._expand(nt+1),Y?this.words[nt]=this.words[nt]|1<<vs:this.words[nt]=this.words[nt]&~(1<<vs),this._strip()},l.prototype.iadd=function(f){var Y;if(this.negative!==0&&f.negative===0)return this.negative=0,Y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,Y=this.isub(f),f.negative=1,Y._normSign();var nt,vs;this.length>f.length?(nt=this,vs=f):(nt=f,vs=this);for(var ks=0,Ds=0;Ds<vs.length;Ds++)Y=(nt.words[Ds]|0)+(vs.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;for(;ks!==0&&Ds<nt.length;Ds++)Y=(nt.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;if(this.length=nt.length,ks!==0)this.words[this.length]=ks,this.length++;else if(nt!==this)for(;Ds<nt.length;Ds++)this.words[Ds]=nt.words[Ds];return this},l.prototype.add=function(f){var Y;return f.negative!==0&&this.negative===0?(f.negative=0,Y=this.sub(f),f.negative^=1,Y):f.negative===0&&this.negative!==0?(this.negative=0,Y=f.sub(this),this.negative=1,Y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},l.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var Y=this.iadd(f);return f.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var nt=this.cmp(f);if(nt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vs,ks;nt>0?(vs=this,ks=f):(vs=f,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)Y=(vs.words[Bs]|0)-(ks.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;for(;Ds!==0&&Bs<vs.length;Bs++)Y=(vs.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;if(Ds===0&&Bs<vs.length&&vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this.length=Math.max(this.length,Bs),vs!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(f){return this.clone().isub(f)};function Gs(f,Y,nt){nt.negative=Y.negative^f.negative;var vs=f.length+Y.length|0;nt.length=vs,vs=vs-1|0;var ks=f.words[0]|0,Ds=Y.words[0]|0,Bs=ks*Ds,Ms=Bs&67108863,Q=Bs/67108864|0;nt.words[0]=Ms;for(var $s=1;$s<vs;$s++){for(var Ks=Q>>>26,jo=Q&67108863,Bo=Math.min($s,Y.length-1),To=Math.max(0,$s-f.length+1);To<=Bo;To++){var Oo=$s-To|0;ks=f.words[Oo]|0,Ds=Y.words[To]|0,Bs=ks*Ds+jo,Ks+=Bs/67108864|0,jo=Bs&67108863}nt.words[$s]=jo|0,Q=Ks|0}return Q!==0?nt.words[$s]=Q|0:nt.length--,nt._strip()}var zs=function(f,Y,nt){var vs=f.words,ks=Y.words,Ds=nt.words,Bs=0,Ms,Q,$s,Ks=vs[0]|0,jo=Ks&8191,Bo=Ks>>>13,To=vs[1]|0,Oo=To&8191,Vo=To>>>13,zo=vs[2]|0,so=zo&8191,Qs=zo>>>13,sa=vs[3]|0,Zo=sa&8191,Qo=sa>>>13,la=vs[4]|0,Ko=la&8191,Jo=la>>>13,aa=vs[5]|0,oa=aa&8191,ua=aa>>>13,Ma=vs[6]|0,da=Ma&8191,fa=Ma>>>13,La=vs[7]|0,ga=La&8191,ha=La>>>13,Ga=vs[8]|0,Aa=Ga&8191,_a=Ga>>>13,Za=vs[9]|0,Ta=Za&8191,ma=Za>>>13,Xa=ks[0]|0,ka=Xa&8191,pa=Xa>>>13,za=ks[1]|0,Ba=za&8191,wa=za>>>13,Ja=ks[2]|0,Oa=Ja&8191,ba=Ja>>>13,eu=ks[3]|0,Ia=eu&8191,xa=eu>>>13,Ya=ks[4]|0,Pa=Ya&8191,$a=Ya>>>13,Qa=ks[5]|0,Da=Qa&8191,va=Qa>>>13,Ka=ks[6]|0,Ra=Ka&8191,ya=Ka>>>13,tu=ks[7]|0,Na=tu&8191,Sa=tu>>>13,ru=ks[8]|0,Fa=ru&8191,Ea=ru>>>13,iu=ks[9]|0,ja=iu&8191,Ca=iu>>>13;nt.negative=f.negative^Y.negative,nt.length=19,Ms=Math.imul(jo,ka),Q=Math.imul(jo,pa),Q=Q+Math.imul(Bo,ka)|0,$s=Math.imul(Bo,pa);var nu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ms=Math.imul(Oo,ka),Q=Math.imul(Oo,pa),Q=Q+Math.imul(Vo,ka)|0,$s=Math.imul(Vo,pa),Ms=Ms+Math.imul(jo,Ba)|0,Q=Q+Math.imul(jo,wa)|0,Q=Q+Math.imul(Bo,Ba)|0,$s=$s+Math.imul(Bo,wa)|0;var ou=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ms=Math.imul(so,ka),Q=Math.imul(so,pa),Q=Q+Math.imul(Qs,ka)|0,$s=Math.imul(Qs,pa),Ms=Ms+Math.imul(Oo,Ba)|0,Q=Q+Math.imul(Oo,wa)|0,Q=Q+Math.imul(Vo,Ba)|0,$s=$s+Math.imul(Vo,wa)|0,Ms=Ms+Math.imul(jo,Oa)|0,Q=Q+Math.imul(jo,ba)|0,Q=Q+Math.imul(Bo,Oa)|0,$s=$s+Math.imul(Bo,ba)|0;var au=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(au>>>26)|0,au&=67108863,Ms=Math.imul(Zo,ka),Q=Math.imul(Zo,pa),Q=Q+Math.imul(Qo,ka)|0,$s=Math.imul(Qo,pa),Ms=Ms+Math.imul(so,Ba)|0,Q=Q+Math.imul(so,wa)|0,Q=Q+Math.imul(Qs,Ba)|0,$s=$s+Math.imul(Qs,wa)|0,Ms=Ms+Math.imul(Oo,Oa)|0,Q=Q+Math.imul(Oo,ba)|0,Q=Q+Math.imul(Vo,Oa)|0,$s=$s+Math.imul(Vo,ba)|0,Ms=Ms+Math.imul(jo,Ia)|0,Q=Q+Math.imul(jo,xa)|0,Q=Q+Math.imul(Bo,Ia)|0,$s=$s+Math.imul(Bo,xa)|0;var uu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ms=Math.imul(Ko,ka),Q=Math.imul(Ko,pa),Q=Q+Math.imul(Jo,ka)|0,$s=Math.imul(Jo,pa),Ms=Ms+Math.imul(Zo,Ba)|0,Q=Q+Math.imul(Zo,wa)|0,Q=Q+Math.imul(Qo,Ba)|0,$s=$s+Math.imul(Qo,wa)|0,Ms=Ms+Math.imul(so,Oa)|0,Q=Q+Math.imul(so,ba)|0,Q=Q+Math.imul(Qs,Oa)|0,$s=$s+Math.imul(Qs,ba)|0,Ms=Ms+Math.imul(Oo,Ia)|0,Q=Q+Math.imul(Oo,xa)|0,Q=Q+Math.imul(Vo,Ia)|0,$s=$s+Math.imul(Vo,xa)|0,Ms=Ms+Math.imul(jo,Pa)|0,Q=Q+Math.imul(jo,$a)|0,Q=Q+Math.imul(Bo,Pa)|0,$s=$s+Math.imul(Bo,$a)|0;var cu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ms=Math.imul(oa,ka),Q=Math.imul(oa,pa),Q=Q+Math.imul(ua,ka)|0,$s=Math.imul(ua,pa),Ms=Ms+Math.imul(Ko,Ba)|0,Q=Q+Math.imul(Ko,wa)|0,Q=Q+Math.imul(Jo,Ba)|0,$s=$s+Math.imul(Jo,wa)|0,Ms=Ms+Math.imul(Zo,Oa)|0,Q=Q+Math.imul(Zo,ba)|0,Q=Q+Math.imul(Qo,Oa)|0,$s=$s+Math.imul(Qo,ba)|0,Ms=Ms+Math.imul(so,Ia)|0,Q=Q+Math.imul(so,xa)|0,Q=Q+Math.imul(Qs,Ia)|0,$s=$s+Math.imul(Qs,xa)|0,Ms=Ms+Math.imul(Oo,Pa)|0,Q=Q+Math.imul(Oo,$a)|0,Q=Q+Math.imul(Vo,Pa)|0,$s=$s+Math.imul(Vo,$a)|0,Ms=Ms+Math.imul(jo,Da)|0,Q=Q+Math.imul(jo,va)|0,Q=Q+Math.imul(Bo,Da)|0,$s=$s+Math.imul(Bo,va)|0;var lu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ms=Math.imul(da,ka),Q=Math.imul(da,pa),Q=Q+Math.imul(fa,ka)|0,$s=Math.imul(fa,pa),Ms=Ms+Math.imul(oa,Ba)|0,Q=Q+Math.imul(oa,wa)|0,Q=Q+Math.imul(ua,Ba)|0,$s=$s+Math.imul(ua,wa)|0,Ms=Ms+Math.imul(Ko,Oa)|0,Q=Q+Math.imul(Ko,ba)|0,Q=Q+Math.imul(Jo,Oa)|0,$s=$s+Math.imul(Jo,ba)|0,Ms=Ms+Math.imul(Zo,Ia)|0,Q=Q+Math.imul(Zo,xa)|0,Q=Q+Math.imul(Qo,Ia)|0,$s=$s+Math.imul(Qo,xa)|0,Ms=Ms+Math.imul(so,Pa)|0,Q=Q+Math.imul(so,$a)|0,Q=Q+Math.imul(Qs,Pa)|0,$s=$s+Math.imul(Qs,$a)|0,Ms=Ms+Math.imul(Oo,Da)|0,Q=Q+Math.imul(Oo,va)|0,Q=Q+Math.imul(Vo,Da)|0,$s=$s+Math.imul(Vo,va)|0,Ms=Ms+Math.imul(jo,Ra)|0,Q=Q+Math.imul(jo,ya)|0,Q=Q+Math.imul(Bo,Ra)|0,$s=$s+Math.imul(Bo,ya)|0;var du=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(du>>>26)|0,du&=67108863,Ms=Math.imul(ga,ka),Q=Math.imul(ga,pa),Q=Q+Math.imul(ha,ka)|0,$s=Math.imul(ha,pa),Ms=Ms+Math.imul(da,Ba)|0,Q=Q+Math.imul(da,wa)|0,Q=Q+Math.imul(fa,Ba)|0,$s=$s+Math.imul(fa,wa)|0,Ms=Ms+Math.imul(oa,Oa)|0,Q=Q+Math.imul(oa,ba)|0,Q=Q+Math.imul(ua,Oa)|0,$s=$s+Math.imul(ua,ba)|0,Ms=Ms+Math.imul(Ko,Ia)|0,Q=Q+Math.imul(Ko,xa)|0,Q=Q+Math.imul(Jo,Ia)|0,$s=$s+Math.imul(Jo,xa)|0,Ms=Ms+Math.imul(Zo,Pa)|0,Q=Q+Math.imul(Zo,$a)|0,Q=Q+Math.imul(Qo,Pa)|0,$s=$s+Math.imul(Qo,$a)|0,Ms=Ms+Math.imul(so,Da)|0,Q=Q+Math.imul(so,va)|0,Q=Q+Math.imul(Qs,Da)|0,$s=$s+Math.imul(Qs,va)|0,Ms=Ms+Math.imul(Oo,Ra)|0,Q=Q+Math.imul(Oo,ya)|0,Q=Q+Math.imul(Vo,Ra)|0,$s=$s+Math.imul(Vo,ya)|0,Ms=Ms+Math.imul(jo,Na)|0,Q=Q+Math.imul(jo,Sa)|0,Q=Q+Math.imul(Bo,Na)|0,$s=$s+Math.imul(Bo,Sa)|0;var fu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ms=Math.imul(Aa,ka),Q=Math.imul(Aa,pa),Q=Q+Math.imul(_a,ka)|0,$s=Math.imul(_a,pa),Ms=Ms+Math.imul(ga,Ba)|0,Q=Q+Math.imul(ga,wa)|0,Q=Q+Math.imul(ha,Ba)|0,$s=$s+Math.imul(ha,wa)|0,Ms=Ms+Math.imul(da,Oa)|0,Q=Q+Math.imul(da,ba)|0,Q=Q+Math.imul(fa,Oa)|0,$s=$s+Math.imul(fa,ba)|0,Ms=Ms+Math.imul(oa,Ia)|0,Q=Q+Math.imul(oa,xa)|0,Q=Q+Math.imul(ua,Ia)|0,$s=$s+Math.imul(ua,xa)|0,Ms=Ms+Math.imul(Ko,Pa)|0,Q=Q+Math.imul(Ko,$a)|0,Q=Q+Math.imul(Jo,Pa)|0,$s=$s+Math.imul(Jo,$a)|0,Ms=Ms+Math.imul(Zo,Da)|0,Q=Q+Math.imul(Zo,va)|0,Q=Q+Math.imul(Qo,Da)|0,$s=$s+Math.imul(Qo,va)|0,Ms=Ms+Math.imul(so,Ra)|0,Q=Q+Math.imul(so,ya)|0,Q=Q+Math.imul(Qs,Ra)|0,$s=$s+Math.imul(Qs,ya)|0,Ms=Ms+Math.imul(Oo,Na)|0,Q=Q+Math.imul(Oo,Sa)|0,Q=Q+Math.imul(Vo,Na)|0,$s=$s+Math.imul(Vo,Sa)|0,Ms=Ms+Math.imul(jo,Fa)|0,Q=Q+Math.imul(jo,Ea)|0,Q=Q+Math.imul(Bo,Fa)|0,$s=$s+Math.imul(Bo,Ea)|0;var hu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ms=Math.imul(Ta,ka),Q=Math.imul(Ta,pa),Q=Q+Math.imul(ma,ka)|0,$s=Math.imul(ma,pa),Ms=Ms+Math.imul(Aa,Ba)|0,Q=Q+Math.imul(Aa,wa)|0,Q=Q+Math.imul(_a,Ba)|0,$s=$s+Math.imul(_a,wa)|0,Ms=Ms+Math.imul(ga,Oa)|0,Q=Q+Math.imul(ga,ba)|0,Q=Q+Math.imul(ha,Oa)|0,$s=$s+Math.imul(ha,ba)|0,Ms=Ms+Math.imul(da,Ia)|0,Q=Q+Math.imul(da,xa)|0,Q=Q+Math.imul(fa,Ia)|0,$s=$s+Math.imul(fa,xa)|0,Ms=Ms+Math.imul(oa,Pa)|0,Q=Q+Math.imul(oa,$a)|0,Q=Q+Math.imul(ua,Pa)|0,$s=$s+Math.imul(ua,$a)|0,Ms=Ms+Math.imul(Ko,Da)|0,Q=Q+Math.imul(Ko,va)|0,Q=Q+Math.imul(Jo,Da)|0,$s=$s+Math.imul(Jo,va)|0,Ms=Ms+Math.imul(Zo,Ra)|0,Q=Q+Math.imul(Zo,ya)|0,Q=Q+Math.imul(Qo,Ra)|0,$s=$s+Math.imul(Qo,ya)|0,Ms=Ms+Math.imul(so,Na)|0,Q=Q+Math.imul(so,Sa)|0,Q=Q+Math.imul(Qs,Na)|0,$s=$s+Math.imul(Qs,Sa)|0,Ms=Ms+Math.imul(Oo,Fa)|0,Q=Q+Math.imul(Oo,Ea)|0,Q=Q+Math.imul(Vo,Fa)|0,$s=$s+Math.imul(Vo,Ea)|0,Ms=Ms+Math.imul(jo,ja)|0,Q=Q+Math.imul(jo,Ca)|0,Q=Q+Math.imul(Bo,ja)|0,$s=$s+Math.imul(Bo,Ca)|0;var pu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ms=Math.imul(Ta,Ba),Q=Math.imul(Ta,wa),Q=Q+Math.imul(ma,Ba)|0,$s=Math.imul(ma,wa),Ms=Ms+Math.imul(Aa,Oa)|0,Q=Q+Math.imul(Aa,ba)|0,Q=Q+Math.imul(_a,Oa)|0,$s=$s+Math.imul(_a,ba)|0,Ms=Ms+Math.imul(ga,Ia)|0,Q=Q+Math.imul(ga,xa)|0,Q=Q+Math.imul(ha,Ia)|0,$s=$s+Math.imul(ha,xa)|0,Ms=Ms+Math.imul(da,Pa)|0,Q=Q+Math.imul(da,$a)|0,Q=Q+Math.imul(fa,Pa)|0,$s=$s+Math.imul(fa,$a)|0,Ms=Ms+Math.imul(oa,Da)|0,Q=Q+Math.imul(oa,va)|0,Q=Q+Math.imul(ua,Da)|0,$s=$s+Math.imul(ua,va)|0,Ms=Ms+Math.imul(Ko,Ra)|0,Q=Q+Math.imul(Ko,ya)|0,Q=Q+Math.imul(Jo,Ra)|0,$s=$s+Math.imul(Jo,ya)|0,Ms=Ms+Math.imul(Zo,Na)|0,Q=Q+Math.imul(Zo,Sa)|0,Q=Q+Math.imul(Qo,Na)|0,$s=$s+Math.imul(Qo,Sa)|0,Ms=Ms+Math.imul(so,Fa)|0,Q=Q+Math.imul(so,Ea)|0,Q=Q+Math.imul(Qs,Fa)|0,$s=$s+Math.imul(Qs,Ea)|0,Ms=Ms+Math.imul(Oo,ja)|0,Q=Q+Math.imul(Oo,Ca)|0,Q=Q+Math.imul(Vo,ja)|0,$s=$s+Math.imul(Vo,Ca)|0;var mu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ms=Math.imul(Ta,Oa),Q=Math.imul(Ta,ba),Q=Q+Math.imul(ma,Oa)|0,$s=Math.imul(ma,ba),Ms=Ms+Math.imul(Aa,Ia)|0,Q=Q+Math.imul(Aa,xa)|0,Q=Q+Math.imul(_a,Ia)|0,$s=$s+Math.imul(_a,xa)|0,Ms=Ms+Math.imul(ga,Pa)|0,Q=Q+Math.imul(ga,$a)|0,Q=Q+Math.imul(ha,Pa)|0,$s=$s+Math.imul(ha,$a)|0,Ms=Ms+Math.imul(da,Da)|0,Q=Q+Math.imul(da,va)|0,Q=Q+Math.imul(fa,Da)|0,$s=$s+Math.imul(fa,va)|0,Ms=Ms+Math.imul(oa,Ra)|0,Q=Q+Math.imul(oa,ya)|0,Q=Q+Math.imul(ua,Ra)|0,$s=$s+Math.imul(ua,ya)|0,Ms=Ms+Math.imul(Ko,Na)|0,Q=Q+Math.imul(Ko,Sa)|0,Q=Q+Math.imul(Jo,Na)|0,$s=$s+Math.imul(Jo,Sa)|0,Ms=Ms+Math.imul(Zo,Fa)|0,Q=Q+Math.imul(Zo,Ea)|0,Q=Q+Math.imul(Qo,Fa)|0,$s=$s+Math.imul(Qo,Ea)|0,Ms=Ms+Math.imul(so,ja)|0,Q=Q+Math.imul(so,Ca)|0,Q=Q+Math.imul(Qs,ja)|0,$s=$s+Math.imul(Qs,Ca)|0;var gu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ms=Math.imul(Ta,Ia),Q=Math.imul(Ta,xa),Q=Q+Math.imul(ma,Ia)|0,$s=Math.imul(ma,xa),Ms=Ms+Math.imul(Aa,Pa)|0,Q=Q+Math.imul(Aa,$a)|0,Q=Q+Math.imul(_a,Pa)|0,$s=$s+Math.imul(_a,$a)|0,Ms=Ms+Math.imul(ga,Da)|0,Q=Q+Math.imul(ga,va)|0,Q=Q+Math.imul(ha,Da)|0,$s=$s+Math.imul(ha,va)|0,Ms=Ms+Math.imul(da,Ra)|0,Q=Q+Math.imul(da,ya)|0,Q=Q+Math.imul(fa,Ra)|0,$s=$s+Math.imul(fa,ya)|0,Ms=Ms+Math.imul(oa,Na)|0,Q=Q+Math.imul(oa,Sa)|0,Q=Q+Math.imul(ua,Na)|0,$s=$s+Math.imul(ua,Sa)|0,Ms=Ms+Math.imul(Ko,Fa)|0,Q=Q+Math.imul(Ko,Ea)|0,Q=Q+Math.imul(Jo,Fa)|0,$s=$s+Math.imul(Jo,Ea)|0,Ms=Ms+Math.imul(Zo,ja)|0,Q=Q+Math.imul(Zo,Ca)|0,Q=Q+Math.imul(Qo,ja)|0,$s=$s+Math.imul(Qo,Ca)|0;var _u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ms=Math.imul(Ta,Pa),Q=Math.imul(Ta,$a),Q=Q+Math.imul(ma,Pa)|0,$s=Math.imul(ma,$a),Ms=Ms+Math.imul(Aa,Da)|0,Q=Q+Math.imul(Aa,va)|0,Q=Q+Math.imul(_a,Da)|0,$s=$s+Math.imul(_a,va)|0,Ms=Ms+Math.imul(ga,Ra)|0,Q=Q+Math.imul(ga,ya)|0,Q=Q+Math.imul(ha,Ra)|0,$s=$s+Math.imul(ha,ya)|0,Ms=Ms+Math.imul(da,Na)|0,Q=Q+Math.imul(da,Sa)|0,Q=Q+Math.imul(fa,Na)|0,$s=$s+Math.imul(fa,Sa)|0,Ms=Ms+Math.imul(oa,Fa)|0,Q=Q+Math.imul(oa,Ea)|0,Q=Q+Math.imul(ua,Fa)|0,$s=$s+Math.imul(ua,Ea)|0,Ms=Ms+Math.imul(Ko,ja)|0,Q=Q+Math.imul(Ko,Ca)|0,Q=Q+Math.imul(Jo,ja)|0,$s=$s+Math.imul(Jo,Ca)|0;var bu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ms=Math.imul(Ta,Da),Q=Math.imul(Ta,va),Q=Q+Math.imul(ma,Da)|0,$s=Math.imul(ma,va),Ms=Ms+Math.imul(Aa,Ra)|0,Q=Q+Math.imul(Aa,ya)|0,Q=Q+Math.imul(_a,Ra)|0,$s=$s+Math.imul(_a,ya)|0,Ms=Ms+Math.imul(ga,Na)|0,Q=Q+Math.imul(ga,Sa)|0,Q=Q+Math.imul(ha,Na)|0,$s=$s+Math.imul(ha,Sa)|0,Ms=Ms+Math.imul(da,Fa)|0,Q=Q+Math.imul(da,Ea)|0,Q=Q+Math.imul(fa,Fa)|0,$s=$s+Math.imul(fa,Ea)|0,Ms=Ms+Math.imul(oa,ja)|0,Q=Q+Math.imul(oa,Ca)|0,Q=Q+Math.imul(ua,ja)|0,$s=$s+Math.imul(ua,Ca)|0;var vu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ms=Math.imul(Ta,Ra),Q=Math.imul(Ta,ya),Q=Q+Math.imul(ma,Ra)|0,$s=Math.imul(ma,ya),Ms=Ms+Math.imul(Aa,Na)|0,Q=Q+Math.imul(Aa,Sa)|0,Q=Q+Math.imul(_a,Na)|0,$s=$s+Math.imul(_a,Sa)|0,Ms=Ms+Math.imul(ga,Fa)|0,Q=Q+Math.imul(ga,Ea)|0,Q=Q+Math.imul(ha,Fa)|0,$s=$s+Math.imul(ha,Ea)|0,Ms=Ms+Math.imul(da,ja)|0,Q=Q+Math.imul(da,Ca)|0,Q=Q+Math.imul(fa,ja)|0,$s=$s+Math.imul(fa,Ca)|0;var yu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ms=Math.imul(Ta,Na),Q=Math.imul(Ta,Sa),Q=Q+Math.imul(ma,Na)|0,$s=Math.imul(ma,Sa),Ms=Ms+Math.imul(Aa,Fa)|0,Q=Q+Math.imul(Aa,Ea)|0,Q=Q+Math.imul(_a,Fa)|0,$s=$s+Math.imul(_a,Ea)|0,Ms=Ms+Math.imul(ga,ja)|0,Q=Q+Math.imul(ga,Ca)|0,Q=Q+Math.imul(ha,ja)|0,$s=$s+Math.imul(ha,Ca)|0;var wu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(wu>>>26)|0,wu&=67108863,Ms=Math.imul(Ta,Fa),Q=Math.imul(Ta,Ea),Q=Q+Math.imul(ma,Fa)|0,$s=Math.imul(ma,Ea),Ms=Ms+Math.imul(Aa,ja)|0,Q=Q+Math.imul(Aa,Ca)|0,Q=Q+Math.imul(_a,ja)|0,$s=$s+Math.imul(_a,Ca)|0;var $u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+($u>>>26)|0,$u&=67108863,Ms=Math.imul(Ta,ja),Q=Math.imul(Ta,Ca),Q=Q+Math.imul(ma,ja)|0,$s=Math.imul(ma,Ca);var Su=(Bs+Ms|0)+((Q&8191)<<13)|0;return Bs=($s+(Q>>>13)|0)+(Su>>>26)|0,Su&=67108863,Ds[0]=nu,Ds[1]=ou,Ds[2]=au,Ds[3]=uu,Ds[4]=cu,Ds[5]=lu,Ds[6]=du,Ds[7]=fu,Ds[8]=hu,Ds[9]=pu,Ds[10]=mu,Ds[11]=gu,Ds[12]=_u,Ds[13]=bu,Ds[14]=vu,Ds[15]=yu,Ds[16]=wu,Ds[17]=$u,Ds[18]=Su,Bs!==0&&(Ds[19]=Bs,nt.length++),nt};Math.imul||(zs=Gs);function Vs(f,Y,nt){nt.negative=Y.negative^f.negative,nt.length=f.length+Y.length;for(var vs=0,ks=0,Ds=0;Ds<nt.length-1;Ds++){var Bs=ks;ks=0;for(var Ms=vs&67108863,Q=Math.min(Ds,Y.length-1),$s=Math.max(0,Ds-f.length+1);$s<=Q;$s++){var Ks=Ds-$s,jo=f.words[Ks]|0,Bo=Y.words[$s]|0,To=jo*Bo,Oo=To&67108863;Bs=Bs+(To/67108864|0)|0,Oo=Oo+Ms|0,Ms=Oo&67108863,Bs=Bs+(Oo>>>26)|0,ks+=Bs>>>26,Bs&=67108863}nt.words[Ds]=Ms,vs=Bs,Bs=ks}return vs!==0?nt.words[Ds]=vs:nt.length--,nt._strip()}function Zs(f,Y,nt){return Vs(f,Y,nt)}l.prototype.mulTo=function(f,Y){var nt,vs=this.length+f.length;return this.length===10&&f.length===10?nt=zs(this,f,Y):vs<63?nt=Gs(this,f,Y):vs<1024?nt=Vs(this,f,Y):nt=Zs(this,f,Y),nt},l.prototype.mul=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),this.mulTo(f,Y)},l.prototype.mulf=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),Zs(this,f,Y)},l.prototype.imul=function(f){return this.clone().mulTo(f,this)},l.prototype.imuln=function(f){var Y=f<0;Y&&(f=-f),s(typeof f=="number"),s(f<67108864);for(var nt=0,vs=0;vs<this.length;vs++){var ks=(this.words[vs]|0)*f,Ds=(ks&67108863)+(nt&67108863);nt>>=26,nt+=ks/67108864|0,nt+=Ds>>>26,this.words[vs]=Ds&67108863}return nt!==0&&(this.words[vs]=nt,this.length++),this.length=f===0?1:this.length,Y?this.ineg():this},l.prototype.muln=function(f){return this.clone().imuln(f)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(f){var Y=Ls(f);if(Y.length===0)return new l(1);for(var nt=this,vs=0;vs<Y.length&&Y[vs]===0;vs++,nt=nt.sqr());if(++vs<Y.length)for(var ks=nt.sqr();vs<Y.length;vs++,ks=ks.sqr())Y[vs]!==0&&(nt=nt.mul(ks));return nt},l.prototype.iushln=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=67108863>>>26-Y<<26-Y,ks;if(Y!==0){var Ds=0;for(ks=0;ks<this.length;ks++){var Bs=this.words[ks]&vs,Ms=(this.words[ks]|0)-Bs<<Y;this.words[ks]=Ms|Ds,Ds=Bs>>>26-Y}Ds&&(this.words[ks]=Ds,this.length++)}if(nt!==0){for(ks=this.length-1;ks>=0;ks--)this.words[ks+nt]=this.words[ks];for(ks=0;ks<nt;ks++)this.words[ks]=0;this.length+=nt}return this._strip()},l.prototype.ishln=function(f){return s(this.negative===0),this.iushln(f)},l.prototype.iushrn=function(f,Y,nt){s(typeof f=="number"&&f>=0);var vs;Y?vs=(Y-Y%26)/26:vs=0;var ks=f%26,Ds=Math.min((f-ks)/26,this.length),Bs=67108863^67108863>>>ks<<ks,Ms=nt;if(vs-=Ds,vs=Math.max(0,vs),Ms){for(var Q=0;Q<Ds;Q++)Ms.words[Q]=this.words[Q];Ms.length=Ds}if(Ds!==0)if(this.length>Ds)for(this.length-=Ds,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Ds];else this.words[0]=0,this.length=1;var $s=0;for(Q=this.length-1;Q>=0&&($s!==0||Q>=vs);Q--){var Ks=this.words[Q]|0;this.words[Q]=$s<<26-ks|Ks>>>ks,$s=Ks&Bs}return Ms&&$s!==0&&(Ms.words[Ms.length++]=$s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(f,Y,nt){return s(this.negative===0),this.iushrn(f,Y,nt)},l.prototype.shln=function(f){return this.clone().ishln(f)},l.prototype.ushln=function(f){return this.clone().iushln(f)},l.prototype.shrn=function(f){return this.clone().ishrn(f)},l.prototype.ushrn=function(f){return this.clone().iushrn(f)},l.prototype.testn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return!1;var ks=this.words[nt];return!!(ks&vs)},l.prototype.imaskn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=nt)return this;if(Y!==0&&nt++,this.length=Math.min(nt,this.length),Y!==0){var vs=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=vs}return this._strip()},l.prototype.maskn=function(f){return this.clone().imaskn(f)},l.prototype.iaddn=function(f){return s(typeof f=="number"),s(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},l.prototype._iaddn=function(f){this.words[0]+=f;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},l.prototype.isubn=function(f){if(s(typeof f=="number"),s(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},l.prototype.addn=function(f){return this.clone().iaddn(f)},l.prototype.subn=function(f){return this.clone().isubn(f)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(f,Y,nt){var vs=f.length+nt,ks;this._expand(vs);var Ds,Bs=0;for(ks=0;ks<f.length;ks++){Ds=(this.words[ks+nt]|0)+Bs;var Ms=(f.words[ks]|0)*Y;Ds-=Ms&67108863,Bs=(Ds>>26)-(Ms/67108864|0),this.words[ks+nt]=Ds&67108863}for(;ks<this.length-nt;ks++)Ds=(this.words[ks+nt]|0)+Bs,Bs=Ds>>26,this.words[ks+nt]=Ds&67108863;if(Bs===0)return this._strip();for(s(Bs===-1),Bs=0,ks=0;ks<this.length;ks++)Ds=-(this.words[ks]|0)+Bs,Bs=Ds>>26,this.words[ks]=Ds&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(f,Y){var nt=this.length-f.length,vs=this.clone(),ks=f,Ds=ks.words[ks.length-1]|0,Bs=this._countBits(Ds);nt=26-Bs,nt!==0&&(ks=ks.ushln(nt),vs.iushln(nt),Ds=ks.words[ks.length-1]|0);var Ms=vs.length-ks.length,Q;if(Y!=="mod"){Q=new l(null),Q.length=Ms+1,Q.words=new Array(Q.length);for(var $s=0;$s<Q.length;$s++)Q.words[$s]=0}var Ks=vs.clone()._ishlnsubmul(ks,1,Ms);Ks.negative===0&&(vs=Ks,Q&&(Q.words[Ms]=1));for(var jo=Ms-1;jo>=0;jo--){var Bo=(vs.words[ks.length+jo]|0)*67108864+(vs.words[ks.length+jo-1]|0);for(Bo=Math.min(Bo/Ds|0,67108863),vs._ishlnsubmul(ks,Bo,jo);vs.negative!==0;)Bo--,vs.negative=0,vs._ishlnsubmul(ks,1,jo),vs.isZero()||(vs.negative^=1);Q&&(Q.words[jo]=Bo)}return Q&&Q._strip(),vs._strip(),Y!=="div"&&nt!==0&&vs.iushrn(nt),{div:Q||null,mod:vs}},l.prototype.divmod=function(f,Y,nt){if(s(!f.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var vs,ks,Ds;return this.negative!==0&&f.negative===0?(Ds=this.neg().divmod(f,Y),Y!=="mod"&&(vs=Ds.div.neg()),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.iadd(f)),{div:vs,mod:ks}):this.negative===0&&f.negative!==0?(Ds=this.divmod(f.neg(),Y),Y!=="mod"&&(vs=Ds.div.neg()),{div:vs,mod:Ds.mod}):this.negative&f.negative?(Ds=this.neg().divmod(f.neg(),Y),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.isub(f)),{div:Ds.div,mod:ks}):f.length>this.length||this.cmp(f)<0?{div:new l(0),mod:this}:f.length===1?Y==="div"?{div:this.divn(f.words[0]),mod:null}:Y==="mod"?{div:null,mod:new l(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new l(this.modrn(f.words[0]))}:this._wordDiv(f,Y)},l.prototype.div=function(f){return this.divmod(f,"div",!1).div},l.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},l.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},l.prototype.divRound=function(f){var Y=this.divmod(f);if(Y.mod.isZero())return Y.div;var nt=Y.div.negative!==0?Y.mod.isub(f):Y.mod,vs=f.ushrn(1),ks=f.andln(1),Ds=nt.cmp(vs);return Ds<0||ks===1&&Ds===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},l.prototype.modrn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=(1<<26)%f,vs=0,ks=this.length-1;ks>=0;ks--)vs=(nt*vs+(this.words[ks]|0))%f;return Y?-vs:vs},l.prototype.modn=function(f){return this.modrn(f)},l.prototype.idivn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=(this.words[vs]|0)+nt*67108864;this.words[vs]=ks/f|0,nt=ks%f}return this._strip(),Y?this.ineg():this},l.prototype.divn=function(f){return this.clone().idivn(f)},l.prototype.egcd=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=new l(0),Bs=new l(1),Ms=0;Y.isEven()&&nt.isEven();)Y.iushrn(1),nt.iushrn(1),++Ms;for(var Q=nt.clone(),$s=Y.clone();!Y.isZero();){for(var Ks=0,jo=1;!(Y.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(Y.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Q),ks.isub($s)),vs.iushrn(1),ks.iushrn(1);for(var Bo=0,To=1;!(nt.words[0]&To)&&Bo<26;++Bo,To<<=1);if(Bo>0)for(nt.iushrn(Bo);Bo-- >0;)(Ds.isOdd()||Bs.isOdd())&&(Ds.iadd(Q),Bs.isub($s)),Ds.iushrn(1),Bs.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(Ds),ks.isub(Bs)):(nt.isub(Y),Ds.isub(vs),Bs.isub(ks))}return{a:Ds,b:Bs,gcd:nt.iushln(Ms)}},l.prototype._invmp=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=nt.clone();Y.cmpn(1)>0&&nt.cmpn(1)>0;){for(var Bs=0,Ms=1;!(Y.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(Y.iushrn(Bs);Bs-- >0;)vs.isOdd()&&vs.iadd(Ds),vs.iushrn(1);for(var Q=0,$s=1;!(nt.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(nt.iushrn(Q);Q-- >0;)ks.isOdd()&&ks.iadd(Ds),ks.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(ks)):(nt.isub(Y),ks.isub(vs))}var Ks;return Y.cmpn(1)===0?Ks=vs:Ks=ks,Ks.cmpn(0)<0&&Ks.iadd(f),Ks},l.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var Y=this.clone(),nt=f.clone();Y.negative=0,nt.negative=0;for(var vs=0;Y.isEven()&&nt.isEven();vs++)Y.iushrn(1),nt.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;nt.isEven();)nt.iushrn(1);var ks=Y.cmp(nt);if(ks<0){var Ds=Y;Y=nt,nt=Ds}else if(ks===0||nt.cmpn(1)===0)break;Y.isub(nt)}while(!0);return nt.iushln(vs)},l.prototype.invm=function(f){return this.egcd(f).a.umod(f)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(f){return this.words[0]&f},l.prototype.bincn=function(f){s(typeof f=="number");var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return this._expand(nt+1),this.words[nt]|=vs,this;for(var ks=vs,Ds=nt;ks!==0&&Ds<this.length;Ds++){var Bs=this.words[Ds]|0;Bs+=ks,ks=Bs>>>26,Bs&=67108863,this.words[Ds]=Bs}return ks!==0&&(this.words[Ds]=ks,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(f){var Y=f<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var nt;if(this.length>1)nt=1;else{Y&&(f=-f),s(f<=67108863,"Number is too big");var vs=this.words[0]|0;nt=vs===f?0:vs<f?-1:1}return this.negative!==0?-nt|0:nt},l.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var Y=this.ucmp(f);return this.negative!==0?-Y|0:Y},l.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var Y=0,nt=this.length-1;nt>=0;nt--){var vs=this.words[nt]|0,ks=f.words[nt]|0;if(vs!==ks){vs<ks?Y=-1:vs>ks&&(Y=1);break}}return Y},l.prototype.gtn=function(f){return this.cmpn(f)===1},l.prototype.gt=function(f){return this.cmp(f)===1},l.prototype.gten=function(f){return this.cmpn(f)>=0},l.prototype.gte=function(f){return this.cmp(f)>=0},l.prototype.ltn=function(f){return this.cmpn(f)===-1},l.prototype.lt=function(f){return this.cmp(f)===-1},l.prototype.lten=function(f){return this.cmpn(f)<=0},l.prototype.lte=function(f){return this.cmp(f)<=0},l.prototype.eqn=function(f){return this.cmpn(f)===0},l.prototype.eq=function(f){return this.cmp(f)===0},l.red=function(f){return new Hs(f)},l.prototype.toRed=function(f){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(f){return this.red=f,this},l.prototype.forceRed=function(f){return s(!this.red,"Already a number in reduction context"),this._forceRed(f)},l.prototype.redAdd=function(f){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},l.prototype.redIAdd=function(f){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},l.prototype.redSub=function(f){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},l.prototype.redISub=function(f){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},l.prototype.redShl=function(f){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},l.prototype.redMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},l.prototype.redIMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(f){return s(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var Js={k256:null,p224:null,p192:null,p25519:null};function xo(f,Y){this.name=f,this.p=new l(Y,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xo.prototype._tmp=function(){var f=new l(null);return f.words=new Array(Math.ceil(this.n/13)),f},xo.prototype.ireduce=function(f){var Y=f,nt;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),nt=Y.bitLength();while(nt>this.n);var vs=nt<this.n?-1:Y.ucmp(this.p);return vs===0?(Y.words[0]=0,Y.length=1):vs>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},xo.prototype.split=function(f,Y){f.iushrn(this.n,0,Y)},xo.prototype.imulK=function(f){return f.imul(this.k)};function Io(){xo.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Io,xo),Io.prototype.split=function(f,Y){for(var nt=4194303,vs=Math.min(f.length,9),ks=0;ks<vs;ks++)Y.words[ks]=f.words[ks];if(Y.length=vs,f.length<=9){f.words[0]=0,f.length=1;return}var Ds=f.words[9];for(Y.words[Y.length++]=Ds&nt,ks=10;ks<f.length;ks++){var Bs=f.words[ks]|0;f.words[ks-10]=(Bs&nt)<<4|Ds>>>22,Ds=Bs}Ds>>>=22,f.words[ks-10]=Ds,Ds===0&&f.length>10?f.length-=10:f.length-=9},Io.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var Y=0,nt=0;nt<f.length;nt++){var vs=f.words[nt]|0;Y+=vs*977,f.words[nt]=Y&67108863,Y=vs*64+(Y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Uo(){xo.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Uo,xo);function Fo(){xo.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Fo,xo);function Ys(){xo.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ys,xo),Ys.prototype.imulK=function(f){for(var Y=0,nt=0;nt<f.length;nt++){var vs=(f.words[nt]|0)*19+Y,ks=vs&67108863;vs>>>=26,f.words[nt]=ks,Y=vs}return Y!==0&&(f.words[f.length++]=Y),f},l._prime=function(f){if(Js[f])return Js[f];var Y;if(f==="k256")Y=new Io;else if(f==="p224")Y=new Uo;else if(f==="p192")Y=new Fo;else if(f==="p25519")Y=new Ys;else throw new Error("Unknown prime "+f);return Js[f]=Y,Y};function Hs(f){if(typeof f=="string"){var Y=l._prime(f);this.m=Y.p,this.prime=Y}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}Hs.prototype._verify1=function(f){s(f.negative===0,"red works only with positives"),s(f.red,"red works only with red numbers")},Hs.prototype._verify2=function(f,Y){s((f.negative|Y.negative)===0,"red works only with positives"),s(f.red&&f.red===Y.red,"red works only with red numbers")},Hs.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(xi(f,f.umod(this.m)._forceRed(this)),f)},Hs.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Hs.prototype.add=function(f,Y){this._verify2(f,Y);var nt=f.add(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt._forceRed(this)},Hs.prototype.iadd=function(f,Y){this._verify2(f,Y);var nt=f.iadd(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt},Hs.prototype.sub=function(f,Y){this._verify2(f,Y);var nt=f.sub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt._forceRed(this)},Hs.prototype.isub=function(f,Y){this._verify2(f,Y);var nt=f.isub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt},Hs.prototype.shl=function(f,Y){return this._verify1(f),this.imod(f.ushln(Y))},Hs.prototype.imul=function(f,Y){return this._verify2(f,Y),this.imod(f.imul(Y))},Hs.prototype.mul=function(f,Y){return this._verify2(f,Y),this.imod(f.mul(Y))},Hs.prototype.isqr=function(f){return this.imul(f,f.clone())},Hs.prototype.sqr=function(f){return this.mul(f,f)},Hs.prototype.sqrt=function(f){if(f.isZero())return f.clone();var Y=this.m.andln(3);if(s(Y%2===1),Y===3){var nt=this.m.add(new l(1)).iushrn(2);return this.pow(f,nt)}for(var vs=this.m.subn(1),ks=0;!vs.isZero()&&vs.andln(1)===0;)ks++,vs.iushrn(1);s(!vs.isZero());var Ds=new l(1).toRed(this),Bs=Ds.redNeg(),Ms=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,Ms).cmp(Bs)!==0;)Q.redIAdd(Bs);for(var $s=this.pow(Q,vs),Ks=this.pow(f,vs.addn(1).iushrn(1)),jo=this.pow(f,vs),Bo=ks;jo.cmp(Ds)!==0;){for(var To=jo,Oo=0;To.cmp(Ds)!==0;Oo++)To=To.redSqr();s(Oo<Bo);var Vo=this.pow($s,new l(1).iushln(Bo-Oo-1));Ks=Ks.redMul(Vo),$s=Vo.redSqr(),jo=jo.redMul($s),Bo=Oo}return Ks},Hs.prototype.invm=function(f){var Y=f._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},Hs.prototype.pow=function(f,Y){if(Y.isZero())return new l(1).toRed(this);if(Y.cmpn(1)===0)return f.clone();var nt=4,vs=new Array(1<<nt);vs[0]=new l(1).toRed(this),vs[1]=f;for(var ks=2;ks<vs.length;ks++)vs[ks]=this.mul(vs[ks-1],f);var Ds=vs[0],Bs=0,Ms=0,Q=Y.bitLength()%26;for(Q===0&&(Q=26),ks=Y.length-1;ks>=0;ks--){for(var $s=Y.words[ks],Ks=Q-1;Ks>=0;Ks--){var jo=$s>>Ks&1;if(Ds!==vs[0]&&(Ds=this.sqr(Ds)),jo===0&&Bs===0){Ms=0;continue}Bs<<=1,Bs|=jo,Ms++,!(Ms!==nt&&(ks!==0||Ks!==0))&&(Ds=this.mul(Ds,vs[Bs]),Ms=0,Bs=0)}Q=26}return Ds},Hs.prototype.convertTo=function(f){var Y=f.umod(this.m);return Y===f?Y.clone():Y},Hs.prototype.convertFrom=function(f){var Y=f.clone();return Y.red=null,Y},l.mont=function(f){return new Ws(f)};function Ws(f){Hs.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ws,Hs),Ws.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Ws.prototype.convertFrom=function(f){var Y=this.imod(f.mul(this.rinv));return Y.red=null,Y},Ws.prototype.imul=function(f,Y){if(f.isZero()||Y.isZero())return f.words[0]=0,f.length=1,f;var nt=f.imul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.mul=function(f,Y){if(f.isZero()||Y.isZero())return new l(0)._forceRed(this);var nt=f.mul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.invm=function(f){var Y=this.imod(f._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(typeof e>"u"||e,t)}),_e$1={env:"mainnet",full_rpc_url:ki$1,aggregator_url:"https://api-sui.cetus.zone/router_v2",providers:ao$1},we$1={env:"testnet",full_rpc_url:Fi$1,aggregator_url:"https://api-sui.devcetus.com/router_v2",providers:["CETUS","DEEPBOOK","KRIYA","KRIYAV3","FLOWX","FLOWXV3","AFTERMATH","TURBOS","HAEDAL","VOLO","AFSUI"]},tt$1=ve$1(ji()),ii=9e15,Xt$1=1e9,Wi="0123456789abcdef",di$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ci$1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Hi$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:ii,crypto:!1},Ae$1,Ht$1,K=!0,pi$1="[DecimalError] ",$t$1=pi$1+"Invalid argument: ",Ce$1=pi$1+"Precision limit exceeded",Oe$1=pi$1+"crypto unavailable",xe="[object Decimal]",Lt$1=Math.floor,It=Math.pow,ir$1=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,er$1=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rr$1=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ee$1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kt=1e7,U=7,nr$1=9007199254740991,or$1=di$1.length-1,zi=ci$1.length-1,C={toStringTag:xe};C.absoluteValue=C.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),B(t)};C.ceil=function(){return B(new this.constructor(this),this.e+1,2)};C.clampedTo=C.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error($t$1+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};C.comparedTo=C.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};C.cosine=C.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+U,n.rounding=1,i=sr$1(n,Re$1(n,i)),n.precision=t,n.rounding=e,B(Ht$1==2||Ht$1==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};C.cubeRoot=C.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(K=!1,a=et.s*It(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=Tt(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=It(i,1/3),t=Lt$1((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=G(q.plus(et).times(A),q.plus(T),l+2,1),Tt(A.d).slice(0,l)===(i=Tt(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(B(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(B(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return K=!0,B(n,t,xi.rounding,e)};C.decimalPlaces=C.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-Lt$1(this.e/U))*U,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};C.dividedBy=C.div=function(t){return G(this,new this.constructor(t))};C.dividedToIntegerBy=C.divToInt=function(t){var e=this,i=e.constructor;return B(G(e,new i(t),0,1,1),i.precision,i.rounding)};C.equals=C.eq=function(t){return this.cmp(t)===0};C.floor=function(){return B(new this.constructor(this),this.e+1,3)};C.greaterThan=C.gt=function(t){return this.cmp(t)>0};C.greaterThanOrEqualTo=C.gte=function(t){var e=this.cmp(t);return e==1||e===0};C.hyperbolicCosine=C.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/vi(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=ei(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return B(a,l.precision=i,l.rounding=n,!0)};C.hyperbolicSine=C.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=ei(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/vi(5,t)),s=ei(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,B(s,e,i,!0)};C.hyperbolicTangent=C.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,G(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};C.inverseCosine=C.acos=function(){var t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,s=e.rounding;return i!==-1?i===0?t.isNeg()?jt(e,n,s):new e(0):new e(NaN):t.isZero()?jt(e,n+4,s).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=s,t.times(2))};C.inverseHyperbolicCosine=C.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,K=!1,i=i.times(i).minus(1).sqrt().plus(i),K=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};C.inverseHyperbolicSine=C.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,K=!1,i=i.times(i).plus(1).sqrt().plus(i),K=!0,n.precision=t,n.rounding=e,i.ln())};C.inverseHyperbolicTangent=C.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?B(new a(s),t,e,!0):(a.precision=i=n-s.e,s=G(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};C.inverseSine=C.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=jt(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};C.inverseTangent=C.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=zi)return l=jt(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=zi)return l=jt(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/U+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(K=!1,e=Math.ceil(A/U),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),K=!0,B(l,et.precision=xi,et.rounding=Oi,!0)};C.isFinite=function(){return!!this.d};C.isInteger=C.isInt=function(){return!!this.d&&Lt$1(this.e/U)>this.d.length-2};C.isNaN=function(){return!this.s};C.isNegative=C.isNeg=function(){return this.s<0};C.isPositive=C.isPos=function(){return this.s>0};C.isZero=function(){return!!this.d&&this.d[0]===0};C.lessThan=C.lt=function(t){return this.cmp(t)<0};C.lessThanOrEqualTo=C.lte=function(t){return this.cmp(t)<1};C.logarithm=C.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(K=!1,A=xi+Ts,l=Vt$1(q,A),n=e?mi$1(et,A+10):Vt$1(t,A),T=G(l,n,A,1),oi(T.d,s=xi,Oi))do if(A+=10,l=Vt$1(q,A),n=e?mi$1(et,A+10):Vt$1(t,A),T=G(l,n,A,1),!a){+Tt(T.d).slice(s+1,s+15)+1==1e14&&(T=B(T,xi+1,0));break}while(oi(T.d,s+=10,Oi));return K=!0,B(T,xi,Oi)};C.minus=C.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return K?B(t,A,T):t}if(i=Lt$1(t.e/U),et=Lt$1(Ts.e/U),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/U),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=Kt-1;--q[s],q[n]+=Kt}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=gi$1(q,i),K?B(t,A,T):t):new Fs(T===3?-0:0)};C.modulo=C.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?B(new n(i),n.precision,n.rounding):(K=!1,n.modulo==9?(e=G(i,t.abs(),0,3,1),e.s*=t.s):e=G(i,t,0,n.modulo,1),e=e.times(t),K=!0,i.minus(e))};C.naturalExponential=C.exp=function(){return Qi(this)};C.naturalLogarithm=C.ln=function(){return Vt$1(this)};C.negated=C.neg=function(){var t=new this.constructor(this);return t.s=-t.s,B(t)};C.plus=C.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),K?B(t,A,T):t;if(a=Lt$1(xi.e/U),n=Lt$1(t.e/U),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/U),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/Kt|0,q[s]%=Kt;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=gi$1(q,n),K?B(t,A,T):t};C.precision=C.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($t$1+t);return i.d?(e=De$1(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};C.round=function(){var t=this,e=t.constructor;return B(new e(t),t.e+1,e.rounding)};C.sine=C.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+U,n.rounding=1,i=ur$1(n,Re$1(n,i)),n.precision=t,n.rounding=e,B(Ht$1>2?i.neg():i,t,e,!0)):new n(NaN)};C.squareRoot=C.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(K=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=Tt(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=Lt$1((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus(G(l,a,i+2,1)).times(.5),Tt(a.d).slice(0,i)===(e=Tt(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(B(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(B(n,T+1,1),t=!n.times(n).eq(l));break}return K=!0,B(n,T,et.rounding,t)};C.tangent=C.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=G(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,B(Ht$1==2||Ht$1==4?i.neg():i,t,e,!0)):new n(NaN)};C.times=C.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=Lt$1(et.e/U)+Lt$1(t.e/U),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%Kt|0,e=A/Kt|0;a[s]=(a[s]+e)%Kt|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=gi$1(a,i),K?B(t,xi.precision,xi.rounding):t};C.toBinary=function(t,e){return Vi(this,2,t,e)};C.toDecimalPlaces=C.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(Ut(t,0,Xt$1),e===void 0?e=n.rounding:Ut(e,0,8),B(i,t+i.e+1,e))};C.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Wt$1(n,!0):(Ut(t,0,Xt$1),e===void 0?e=s.rounding:Ut(e,0,8),n=B(new s(n),t+1,e),i=Wt$1(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};C.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=Wt$1(s):(Ut(t,0,Xt$1),e===void 0?e=a.rounding:Ut(e,0,8),n=B(new a(s),t+s.e+1,e),i=Wt$1(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};C.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=De$1(Fs)-Ts.e-1,l=a%U,e.d[0]=It(10,l<0?U+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error($t$1+A);t=A.gt(e)?a>0?e:q:A}for(K=!1,A=new qs(Tt(Fs)),et=qs.precision,qs.precision=a=Fs.length*U*2;xi=G(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=G(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=G(q,n,a,1).minus(Ts).abs().cmp(G(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,K=!0,Oi};C.toHexadecimal=C.toHex=function(t,e){return Vi(this,16,t,e)};C.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Ut(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(K=!1,i=G(i,t,0,e,1).times(t),K=!0,B(i)):(t.s=i.s,i=t),i};C.toNumber=function(){return+this};C.toOctal=function(t,e){return Vi(this,8,t,e)};C.toPower=C.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(It(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return B(A,n,a);if(e=Lt$1(t.e/U),e>=t.d.length-1&&(i=q<0?-q:q)<=nr$1)return s=ke$1(T,A,i,n),t.s<0?new T(1).div(s):B(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(!(t.d[e]&1)&&(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=It(+A,q),e=i==0||!isFinite(i)?Lt$1(q*(Math.log("0."+Tt(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(K=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=Qi(t.times(Vt$1(A,n+i)),n),s.d&&(s=B(s,n+5,1),oi(s.d,n,a)&&(e=n+10,s=B(Qi(t.times(Vt$1(A,e+i)),e),e+5,1),+Tt(s.d).slice(n+1,n+15)+1==1e14&&(s=B(s,n+1,0)))),s.s=l,K=!0,T.rounding=a,B(s,n,a))};C.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=Wt$1(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(Ut(t,1,Xt$1),e===void 0?e=s.rounding:Ut(e,0,8),n=B(new s(n),t,e),i=Wt$1(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};C.toSignificantDigits=C.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ut(t,1,Xt$1),e===void 0?e=n.rounding:Ut(e,0,8)),B(new n(i),t,e)};C.toString=function(){var t=this,e=t.constructor,i=Wt$1(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};C.truncated=C.trunc=function(){return B(new this.constructor(this),this.e+1,1)};C.valueOf=C.toJSON=function(){var t=this,e=t.constructor,i=Wt$1(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function Tt(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=U-n.length,i&&(a+=Qt$1(i)),a+=n;l=t[e],n=l+"",i=U-n.length,i&&(a+=Qt$1(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function Ut(t,e,i){if(t!==~~t||t<e||t>i)throw Error($t$1+t)}function oi(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=U,s=0):(s=Math.ceil((e+1)/U),e%=U),a=It(10,U-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==It(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==It(10,e-3)-1,l}function fi(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=Wi.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function sr$1(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/vi(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=ei(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var G=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=Kt,Ts=U,et=Lt$1(n.e/Ts)-Lt$1(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,Ae$1=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,B(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function B(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=U,l=e,et=xi[Oi=0],T=et/It(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/U),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=U,l=a-U+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=U,l=a-U+s,T=l<0?0:et/It(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%It(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/It(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=It(10,(U-e%U)%U),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=It(10,U-a),xi[Oi]=l>0?(et/It(10,s-l)%It(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==Kt&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=Kt)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return K&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function Wt$1(t,e,i){if(!t.isFinite())return Ne$1(t);var n,s=t.e,a=Tt(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+Qt$1(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+Qt$1(-s-1)+a,i&&(n=i-l)>0&&(a+=Qt$1(n))):s>=l?(a+=Qt$1(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+Qt$1(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=Qt$1(n))),a}function gi$1(t,e){var i=t[0];for(e*=U;i>=10;i/=10)e++;return e}function mi$1(t,e,i){if(e>or$1)throw K=!0,i&&(t.precision=i),Error(Ce$1);return B(new t(di$1),e,1,!0)}function jt(t,e,i){if(e>zi)throw Error(Ce$1);return B(new t(ci$1),e,i,!0)}function De$1(t){var e=t.length-1,i=e*U+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function Qt$1(t){for(var e="";t--;)e+="0";return e}function ke$1(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/U+4);for(K=!1;;){if(i%2&&(a=a.times(e),be$1(a.d,l)&&(s=!0)),i=Lt$1(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),be$1(e.d,l)}return K=!0,a}function ye$1(t){return t.d[t.d.length-1]&1}function qe$1(t,e,i){for(var n,s,a=new t(e[0]),l=0;++l<e.length;){if(s=new t(e[l]),!s.s){a=s;break}n=a.cmp(s),(n===i||n===0&&a.s===i)&&(a=s)}return a}function Qi(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(K=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(It(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=B(a.times(t),T,1),i=i.times(++et),A=l.plus(G(a,i,T,1)),Tt(A.d).slice(0,T)===Tt(l.d).slice(0,T)){for(s=xi;s--;)l=B(l.times(l),T,1);if(e==null)if(q<3&&oi(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return B(l,Oi.precision=Fs,Ts,K=!0);else return Oi.precision=Fs,l}l=A}}function Vt$1(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(K=!1,et=zs):et=e,Ls.precision=et+=Fs,i=Tt(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=Tt(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=mi$1(Ls,et+2,zs).times(a+""),qs=Vt$1(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?B(qs,zs,Gs,K=!0):qs;for(xi=qs,T=l=qs=G(qs.minus(1),qs.plus(1),et,1),Oi=B(qs.times(qs),et,1),s=3;;){if(l=B(l.times(Oi),et,1),q=T.plus(G(l,new Ls(s),et,1)),Tt(q.d).slice(0,et)===Tt(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(mi$1(Ls,et+2,zs).times(a+""))),T=G(T,new Ls(Ts),et,1),e==null)if(oi(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=G(xi.minus(1),xi.plus(1),et,1),Oi=B(qs.times(qs),et,1),s=A=1;else return B(T,Ls.precision=zs,Gs,K=!0);else return Ls.precision=zs,T;T=q,s+=2}}function Ne$1(t){return String(t.s*t.s/0)}function hi$1(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%U,i<0&&(n+=U),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=U;n<s;)t.d.push(+e.slice(n,n+=U));e=e.slice(n),n=U-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),K&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ar$1(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Ee$1.test(e))return hi$1(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(er$1.test(e))i=16,e=e.toLowerCase();else if(ir$1.test(e))i=2;else if(rr$1.test(e))i=8;else throw Error($t$1+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=ke$1(n,new n(i),a,a*2)),q=fi(e,i,Kt),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=gi$1(q,et),t.d=q,K=!1,l&&(t=G(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?It(2,T):si.pow(2,T))),K=!0,t)}function ur$1(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:ei(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/vi(5,i)),e=ei(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function ei(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/U);for(K=!1,T=i.times(i),A=new t(n);;){if(l=G(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=G(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return K=!0,l.d.length=et+1,l}function vi(t,e){for(var i=t;--e;)i*=t;return i}function Re$1(t,e){var i,n=e.s<0,s=jt(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return Ht$1=n?4:1,e;if(i=e.divToInt(s),i.isZero())Ht$1=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return Ht$1=ye$1(i)?n?2:3:n?4:1,e;Ht$1=ye$1(i)?n?1:4:n?3:2}return e.minus(s).abs()}function Vi(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(Ut(i,1,Xt$1),n===void 0?n=Ts.rounding:Ut(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=Ne$1(t);else{for(et=Wt$1(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=fi(Wt$1(Oi),10,s),Oi.e=Oi.d.length),xi=fi(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=G(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=Ae$1),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=Wi.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=fi(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=Wi.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function be$1(t,e){if(t.length>e)return t.length=e,!0}function lr$1(t){return new this(t).abs()}function fr$1(t){return new this(t).acos()}function hr$1(t){return new this(t).acosh()}function dr$1(t,e){return new this(t).plus(e)}function cr$1(t){return new this(t).asin()}function mr$1(t){return new this(t).asinh()}function pr$1(t){return new this(t).atan()}function gr$1(t){return new this(t).atanh()}function vr$1(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=jt(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?jt(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=jt(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan(G(t,e,a,1)),e=jt(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(G(t,e,a,1)),i}function _r$1(t){return new this(t).cbrt()}function wr$1(t){return B(t=new this(t),t.e+1,2)}function Mr$1(t,e,i){return new this(t).clamp(e,i)}function yr$1(t){if(!t||typeof t!="object")throw Error(pi$1+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,Xt$1,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,ii,"maxE",0,ii,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=Hi$1[i]),(n=t[i])!==void 0)if(Lt$1(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error($t$1+i+": "+n);if(i="crypto",s&&(this[i]=Hi$1[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(Oe$1);else this[i]=!1;else throw Error($t$1+i+": "+n);return this}function br$1(t){return new this(t).cos()}function Sr$1(t){return new this(t).cosh()}function Pe$1(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,Se$1(a)){q.s=a.s,K?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;K?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return hi$1(q,a.toString())}if(T==="string")return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),Ee$1.test(a)?hi$1(q,a):ar$1(q,a);if(T==="bigint")return a<0?(a=-a,q.s=-1):q.s=1,hi$1(q,a.toString());throw Error($t$1+a)}if(s.prototype=C,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=yr$1,s.clone=Pe$1,s.isDecimal=Se$1,s.abs=lr$1,s.acos=fr$1,s.acosh=hr$1,s.add=dr$1,s.asin=cr$1,s.asinh=mr$1,s.atan=pr$1,s.atanh=gr$1,s.atan2=vr$1,s.cbrt=_r$1,s.ceil=wr$1,s.clamp=Mr$1,s.cos=br$1,s.cosh=Sr$1,s.div=Ar$1,s.exp=Cr$1,s.floor=Or$1,s.hypot=xr$1,s.ln=Er$1,s.log=Dr$1,s.log10=qr$1,s.log2=kr$1,s.max=Nr$1,s.min=Rr$1,s.mod=Pr$1,s.mul=Br$1,s.pow=Fr$1,s.random=Ir$1,s.round=Tr$1,s.sign=Lr$1,s.sin=Zr$1,s.sinh=Ur$1,s.sqrt=Kr$1,s.sub=jr$1,s.sum=Wr$1,s.tan=Hr$1,s.tanh=zr$1,s.trunc=Qr$1,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function Ar$1(t,e){return new this(t).div(e)}function Cr$1(t){return new this(t).exp()}function Or$1(t){return B(t=new this(t),t.e+1,3)}function xr$1(){var t,e,i=new this(0);for(K=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return K=!0,new this(1/0);i=e}return K=!0,i.sqrt()}function Se$1(t){return t instanceof si||t&&t.toStringTag===xe||!1}function Er$1(t){return new this(t).ln()}function Dr$1(t,e){return new this(t).log(e)}function kr$1(t){return new this(t).log(2)}function qr$1(t){return new this(t).log(10)}function Nr$1(){return qe$1(this,arguments,-1)}function Rr$1(){return qe$1(this,arguments,1)}function Pr$1(t,e){return new this(t).mod(e)}function Br$1(t,e){return new this(t).mul(e)}function Fr$1(t,e){return new this(t).pow(e)}function Ir$1(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:Ut(t,1,Xt$1),n=Math.ceil(t/U),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(Oe$1);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=U,n&&t&&(s=It(10,U-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=U)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<U&&(i-=U-n)}return l.e=i,l.d=A,l}function Tr$1(t){return B(t=new this(t),t.e+1,this.rounding)}function Lr$1(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Zr$1(t){return new this(t).sin()}function Ur$1(t){return new this(t).sinh()}function Kr$1(t){return new this(t).sqrt()}function jr$1(t,e){return new this(t).sub(e)}function Wr$1(){var t=0,e=arguments,i=new this(e[t]);for(K=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return K=!0,B(i,this.precision,this.rounding)}function Hr$1(t){return new this(t).tan()}function zr$1(t){return new this(t).tanh()}function Qr$1(t){return B(t=new this(t),t.e+1,1)}C[Symbol.for("nodejs.util.inspect.custom")]=C.toString;C[Symbol.toStringTag]="Decimal";var si=C.constructor=Pe$1(Hi$1);di$1=new si(di$1);ci$1=new si(ci$1);var $i$1=si,Be$1=(t=>(t.UnsupportedDepositMode="UnsupportedDepositMode",t.PositionIdUndefined="PositionIdUndefined",t.ParameterError="ParameterError",t.ReachMaxIterations="ReachMaxIterations",t.BestLiquidityIsZero="BestLiquidityIsZero",t.SwapAmountError="SwapAmountError",t.AggregatorError="AggregatorError",t))(Be$1||{}),_i=class extends Me$4{constructor(t,e,i){super(t,e||"UnknownError",i)}static isZapErrorCode(t,e){return this.isErrorCode(t,e)}},Xi$1=(t,e,i)=>{throw new _i(e.message,t,i)},Zt=(t,e,i)=>{throw new _i(e,t,i)},ai=.005,Yt=ve$1(ji());function wi$1(t,e,i,n,s,a,l){let A=l?new Yt.default(t):new Yt.default(e),T=mr$5.estLiquidityAndCoinAmountFromOneAmounts(n,s,A,l,!0,a,new Yt.default(i)),q=l?A.toString():T.coin_amount_a.toString(),et=l?T.coin_amount_b.toString():A.toString(),xi=G$2(t).sub(q),Oi=G$2(e).sub(et);return{is_enough_amount:l?Oi.gte(0):xi.gte(0),use_amount_a:q,use_amount_b:et,liquidity:T.liquidity_amount,amount_limit_a:T.coin_amount_limit_a,amount_limit_b:T.coin_amount_limit_b,remain_amount:l?Oi:xi}}function Ji(t,e,i,n,s,a,l){let A=Zt$3.sqrtPriceX64ToTickIndex(new Yt.default(i)),T=l;A<n?T=!0:A>s&&(T=!1);let q=wi$1(t,e,i,n,s,a,T);return q.is_enough_amount||(T=!T,q=wi$1(t,e,i,n,s,a,T)),{fix_liquidity_amount_a:T,...q}}function Ie$1(t,e,i,n,s,a,l,A){let{after_sqrt_price:T,swap_in_amount:q,swap_out_amount:et}=t,xi=Zt$3.sqrtPriceX64ToTickIndex(new Yt.default(T)),Oi=Zt$3.sqrtPriceX64ToTickIndex(new Yt.default(i)),Ts=Ns(xi,s,a),Fs=Ns(Oi,s,a);if(Ts!==Fs)throw new Error("Swap price out of range");let qs=G$2(et).mul(1-A).toFixed(0),Us=n?G$2(e).sub(q):G$2(qs),Ls=n?G$2(qs):G$2(e).sub(q),{fix_liquidity_amount_a:Gs,use_amount_a:zs,use_amount_b:Vs,liquidity:Zs,amount_limit_a:Js,amount_limit_b:xo,is_enough_amount:Io,remain_amount:Uo}=Ji(Us.toString(),Ls.toString(),i,s,a,l,n);return console.log(" ~ is_enough_amount:",{is_enough_amount:Io,original_input_amount:e,fix_liquidity_amount_a:Gs,after_amount_a:Us,after_amount_b:Ls,remain_amount:Uo}),{remain_amount:Uo,fix_liquidity_amount_a:Gs,is_valid_swap_result:Io,amount_a:zs,amount_b:Vs,liquidity:Zs,amount_limit_a:Js,amount_limit_b:xo}}var Mi$1=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}async buildWithdrawPayload(e,i){console.log(" ~ ZapModule ~ buildWithdrawPayload ~ options:",e);let{clmm_pool:n}=this._sdk.ClmmSDK.sdkOptions,{withdraw_obj:s,pool_id:a,farms_pool_id:l,pos_id:A,close_pos:T,collect_fee:q,collect_rewarder_types:et,coin_type_a:xi,coin_type_b:Oi,slippage:Ts,swap_slippage:Fs=ai}=e,{swap_result:qs,amount_a:Us,amount_b:Ls,mode:Gs,burn_liquidity:zs}=s;i=i||new Transaction;let Vs=G$2(Us).mul(1-Ts).toFixed(0),Zs=G$2(Ls).mul(1-Ts).toFixed(0);if(Gs==="FixedOneSide")return l?await this._sdk.FarmsSDK.Farms.removeLiquidityPayload({coin_type_a:xi,coin_type_b:Oi,delta_liquidity:zs,pool_id:l,clmm_pool_id:a,position_nft_id:A,min_amount_a:Vs,min_amount_b:Zs,collect_rewarder:!1,unstake:!1,close_position:T,clmm_rewarder_types:et},i):await this._sdk.ClmmSDK.Position.removeLiquidityPayload({coin_type_a:xi,coin_type_b:Oi,delta_liquidity:zs,min_amount_a:Vs,min_amount_b:Zs,pool_id:a,pos_id:A,rewarder_coin_types:et,collect_fee:q},i);let Js=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress());i=await this.buildCollectRewarderAndFeePayload(i,a,xi,Oi,A,q,et,Js,l);let xo=na(n),Io,Uo;if(l){let{farms:Fo}=this._sdk.FarmsSDK.sdkOptions,Ys=na(Fo);if(T){i=await this._sdk.FarmsSDK.Farms.harvestPayload({pool_id:l,position_nft_id:A},i);let[Hs,Ws]=i.moveCall({target:`${Fo.published_at}::pool::close_position`,typeArguments:[xi,Oi],arguments:[i.object(Ys.global_config_id),i.object(Ys.rewarder_manager_id),i.object(l),i.object(xo.global_config_id),i.object(a),i.object(A),i.pure.u64(Vs),i.pure.u64(Zs),i.object(no$2)]});Io=Oe$3.fromBalance(Hs,xi,i),Uo=Oe$3.fromBalance(Ws,Oi,i)}else{let[Hs,Ws]=i.moveCall({target:`${Fo.published_at}::pool::remove_liquidity`,typeArguments:[xi,Oi],arguments:[i.object(Ys.global_config_id),i.object(xo.global_config_id),i.object(Ys.rewarder_manager_id),i.object(l),i.object(a),i.object(A),i.pure.u128(zs),i.pure.u64(Vs),i.pure.u64(Zs),i.object(no$2)]});Io=Oe$3.fromBalance(Hs,xi,i),Uo=Oe$3.fromBalance(Ws,Oi,i)}}else{let[Fo,Ys]=i.moveCall({target:`${n.published_at}::pool::remove_liquidity`,typeArguments:[xi,Oi],arguments:[i.object(na(n).global_config_id),i.object(a),i.object(A),i.pure.u128(zs),i.object(no$2)]});Io=Oe$3.fromBalance(Fo,xi,i),Uo=Oe$3.fromBalance(Ys,Oi,i)}if(qs!=null&&qs.route_obj){let Fo=Gs==="OnlyCoinA",Ys=Fo?Uo:Io,Hs={routers:qs.route_obj,inputCoin:Ys,slippage:Fs,txb:i},Ws=await this._sdk.AggregatorClient.fixableRouterSwap(Hs);i.transferObjects([Fo?Io:Uo,Ws],this._sdk.getSenderAddress())}else i.transferObjects([Io,Uo],this._sdk.getSenderAddress());return T&&!l&&i.moveCall({target:`${n.published_at}::pool::close_position`,typeArguments:[xi,Oi],arguments:[i.object(na(n).global_config_id),i.object(a),i.object(A)]}),i}async buildDepositPayload(e,i){console.log(" ~ ZapModule ~ buildDepositOptions ~ options:",e);let{deposit_obj:n}=e,{mode:s}=n;return i=i||new Transaction,s==="FixedOneSide"?await this.buildDepositOneSidePayload(e,i):s==="FlexibleBoth"?await this.buildDepositFlexibleBothPayload(e,i):s==="OnlyCoinA"||s==="OnlyCoinB"?await this.buildDepositOnlyCoinPayload(e,i):Zt("UnsupportedDepositMode",`Unsupported deposit mode: ${s}`,{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"buildDepositPayload"})}buildOpenPositionPayload(e,i){let{pool_id:n,coin_type_a:s,coin_type_b:a,tick_lower:l,tick_upper:A}=e,{clmm_pool:T}=this._sdk.ClmmSDK.sdkOptions,q=na(T);return i.moveCall({target:`${T.published_at}::pool::open_position`,typeArguments:[s,a],arguments:[i.object(q.global_config_id),i.object(n),i.pure.u32(Number(mo$1(BigInt(l)))),i.pure.u32(Number(mo$1(BigInt(A))))]})}async buildAddLiquidityPayload(e,i,n,s,a,l,A,T){let{pool_id:q,farms_pool_id:et,coin_type_a:xi,coin_type_b:Oi,deposit_obj:Ts}=e,{fixed_liquidity_coin_a:Fs}=Ts,{clmm_pool:qs,integrate:Us}=this._sdk.ClmmSDK.sdkOptions,Ls=na(qs),{farms:Gs}=this._sdk.FarmsSDK.sdkOptions,zs=na(Gs);return et&&!T?A.moveCall({target:`${Gs.published_at}::router::add_liquidity_fix_coin`,typeArguments:[xi,Oi],arguments:[A.object(zs.global_config_id),A.object(Ls.global_config_id),A.object(zs.rewarder_manager_id),A.object(et),A.object(q),typeof i=="string"?A.object(i):i,a,l,A.pure.u64(n),A.pure.u64(s),A.pure.bool(Fs),A.object(no$2)]}):A.moveCall({target:`${Us.published_at}::${Vt$5}::add_liquidity_by_fix_coin`,typeArguments:[xi,Oi],arguments:[A.object(Ls.global_config_id),A.object(q),typeof i=="string"?A.object(i):i,a,l,A.pure.u64(n),A.pure.u64(s),A.pure.bool(Fs),A.object(no$2)]}),A}buildFarmsDepositPayload(e,i,n){let{farms:s}=this._sdk.FarmsSDK.sdkOptions,{global_config_id:a,rewarder_manager_id:l}=na(s);return n.moveCall({target:`${s.published_at}::router::deposit`,typeArguments:[],arguments:[n.object(a),n.object(l),n.object(i),typeof e=="string"?n.object(e):e,n.object(no$2)]}),n}async buildCollectRewarderAndFeePayload(e,i,n,s,a,l,A,T,q,et,xi){return q?e=await this._sdk.FarmsSDK.Farms.buildCollectRewarderAndFeeParams({clmm_pool_id:i,position_nft_id:a,collect_fee:l||!1,clmm_rewarder_types:A||[],coin_type_a:n,coin_type_b:s},e,T,et,xi):e=$t$3.createCollectRewarderAndFeeParams(this._sdk.ClmmSDK,e,{pool_id:i,pos_id:a,collect_fee:l||!1,rewarder_coin_types:A||[],coin_type_a:n,coin_type_b:s},T,et,xi),e}async buildDepositOneSidePayload(e,i){let{pos_obj:n,deposit_obj:s,coin_type_a:a,coin_type_b:l,farms_pool_id:A,pool_id:T}=e,{amount_a:q,amount_b:et,amount_limit_a:xi,amount_limit_b:Oi,fixed_liquidity_coin_a:Ts}=s,Fs=n===void 0,qs=n==null?void 0:n.pos_id;if(Fs&&(qs=this.buildOpenPositionPayload(e,i)),qs===void 0)return Zt("PositionIdUndefined","Position ID is undefined",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"buildDepositOneSidePayload"});let Us=G$2(q).eq(0)||G$2(et).eq(0),Ls=await this._sdk.FullClient.getOwnerCoinAssets(this._sdk.getSenderAddress()),Gs=Us||Ts?q:xi,zs=Us||Ts?et:Oi,Vs=Oe$3.buildMultiCoinInput(i,Ls,a,[BigInt(Gs)]),Zs=Oe$3.buildMultiCoinInput(i,Ls,l,[BigInt(zs)]);return Fs||(i=await this.buildCollectRewarderAndFeePayload(i,T,a,l,qs,(n==null?void 0:n.collect_fee)||!1,(n==null?void 0:n.collect_rewarder_types)||[],Ls,A,Vs.remain_coins,Zs.remain_coins)),await this.buildAddLiquidityPayload(e,qs,Gs,zs,Vs.amount_coin_array[0].coin_object_id,Zs.amount_coin_array[0].coin_object_id,i,Fs),Fs&&(A?this.buildFarmsDepositPayload(qs,A,i):i.transferObjects([qs],this.sdk.getSenderAddress())),i}async buildDepositFlexibleBothPayload(e,i){let{pool_id:n,slippage:s,swap_slippage:a=ai,coin_type_a:l,coin_type_b:A,pos_obj:T,deposit_obj:q,farms_pool_id:et}=e,{sub_deposit_result:xi,amount_a:Oi,amount_b:Ts,amount_limit_a:Fs,amount_limit_b:qs,fixed_liquidity_coin_a:Us}=q,Ls=T===void 0,Gs=T==null?void 0:T.pos_id;if(Ls&&(Gs=this.buildOpenPositionPayload(e,i)),Gs===void 0)return Zt("PositionIdUndefined","Position ID is undefined",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"buildDepositFlexibleBothPayload"});let zs=G$2(Oi).eq(0)||G$2(Ts).eq(0),Vs=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress()),Zs=zs||Us?Oi:Fs,Js=zs||Us?Ts:qs,xo,Io;if(xi!==void 0){let{amount_a:Ys,amount_b:Hs,fixed_liquidity_coin_a:Ws,mode:f,swap_result:Y}=xi,nt=f==="OnlyCoinA",{swap_in_amount:vs,route_obj:ks}=Y;nt?(xo=Oe$3.buildMultiCoinInput(i,Vs,l,[BigInt(vs),BigInt(Zs),BigInt(Ys)]),Io=Oe$3.buildMultiCoinInput(i,Vs,A,[BigInt(Js)])):(xo=Oe$3.buildMultiCoinInput(i,Vs,l,[BigInt(Zs)]),Io=Oe$3.buildMultiCoinInput(i,Vs,A,[BigInt(vs),BigInt(Hs),BigInt(Js)]));let Ds=Oe$3.getCoinAmountObjId(nt?xo:Io,vs),Bs={routers:ks,slippage:a,txb:i,inputCoin:Ds},Ms=await this._sdk.AggregatorClient.fixableRouterSwap(Bs),Q=nt?Oe$3.getCoinAmountObjId(xo,Ys):Ms,$s=nt?Ms:Oe$3.getCoinAmountObjId(Io,Hs);await this.buildAddLiquidityPayload(e,Gs,Ws?Zs:"999999999999999",Ws?"999999999999999":Js,Q,$s,i,Ls)}else xo=Oe$3.buildMultiCoinInput(i,Vs,l,[BigInt(Zs)]),Io=Oe$3.buildMultiCoinInput(i,Vs,A,[BigInt(Js)]);Ls||(i=await this.buildCollectRewarderAndFeePayload(i,n,l,A,Gs,(T==null?void 0:T.collect_fee)||!1,(T==null?void 0:T.collect_rewarder_types)||[],Vs,et,xo.remain_coins,Io.remain_coins));let Uo=Oe$3.getCoinAmountObjId(xo,Zs),Fo=Oe$3.getCoinAmountObjId(Io,Js);return await this.buildAddLiquidityPayload(e,Gs,Zs,Js,Uo,Fo,i,Ls),Ls&&(et?this.buildFarmsDepositPayload(Gs,et,i):i.transferObjects([Gs],this._sdk.getSenderAddress())),i}async buildDepositOnlyCoinPayload(e,i){let{swap_slippage:n=ai,coin_type_a:s,coin_type_b:a,pos_obj:l,deposit_obj:A,farms_pool_id:T,pool_id:q}=e,{amount_a:et,amount_b:xi,mode:Oi,fixed_liquidity_coin_a:Ts,swap_result:Fs,original_input_amount_a:qs,original_input_amount_b:Us}=A,Ls=l===void 0,Gs=Oi==="OnlyCoinA",zs=await this._sdk.FullClient.getOwnerCoinAssets(this.sdk.getSenderAddress()),{swap_in_amount:Vs,swap_out_amount:Zs,route_obj:Js}=Fs,xo;G$2(et).eq(0)||G$2(xi).eq(0);let Io=G$2(Zs).mul(1-n).toFixed(0),Uo=Gs?qs:Us,Fo=Gs?G$2(Uo).sub(Vs).toFixed(0):Io,Ys=Gs?Io:G$2(Uo).sub(Vs).toFixed(0);console.log(" ~ ZapModule ~ buildDepositOnlyCoinPayload ~ fixed_amount_a:",Fo),console.log(" ~ ZapModule ~ buildDepositOnlyCoinPayload ~ fixed_amount_b:",Ys),Gs?xo=Oe$3.buildMultiCoinInput(i,zs,s,[BigInt(Vs),BigInt(Fo)]):xo=Oe$3.buildMultiCoinInput(i,zs,a,[BigInt(Vs),BigInt(Ys)]);let Hs=Oe$3.getCoinAmountObjId(xo,Vs),Ws={routers:Js,slippage:n,txb:i,inputCoin:Hs},f=await this._sdk.AggregatorClient.fixableRouterSwap(Ws),Y=Gs?Oe$3.getCoinAmountObjId(xo,Fo):f,nt=Gs?f:Oe$3.getCoinAmountObjId(xo,Ys),vs=l==null?void 0:l.pos_id;return Ls&&(vs=this.buildOpenPositionPayload(e,i)),vs===void 0?Zt("PositionIdUndefined","Position ID is undefined",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"buildDepositOnlyCoinPayload"}):(Ls||(i=await this.buildCollectRewarderAndFeePayload(i,q,s,a,vs,(l==null?void 0:l.collect_fee)||!1,(l==null?void 0:l.collect_rewarder_types)||[],zs,T,Gs?xo.remain_coins:void 0,Gs?void 0:xo.remain_coins)),await this.buildAddLiquidityPayload(e,vs,Ts?Fo:"999999999999999",Ts?"999999999999999":Ys,Y,nt,i,Ls),Ls&&(T?this.buildFarmsDepositPayload(vs,T,i):i.transferObjects([vs],this.sdk.getSenderAddress())),i)}async preCalculateWithdrawAmount(e){let{mode:i}=e;switch(console.log(" ~ ZapModule ~ preCalculateDepositAmount ~ options:",e),i){case"FixedOneSide":{let{fixed_amount:n,fixed_coin_a:s}=e;return this.calculateWithdrawOtherSide(e,n,s)}case"OnlyCoinA":{let{receive_amount_a:n,available_liquidity:s,max_remain_rate:a}=e;return this.calculateWithdrawOnlyCoin(e,s,!0,n,a)}case"OnlyCoinB":{let{receive_amount_b:n,available_liquidity:s,max_remain_rate:a}=e;return this.calculateWithdrawOnlyCoin(e,s,!1,n,a)}default:throw new Error(`Unsupported withdraw mode: ${i}`)}}async calculateWithdrawOnlyCoin(e,i,n,s,a=.02){let{tick_lower:l,tick_upper:A,current_sqrt_price:T,mode:q,burn_liquidity:et}=e;if(et){let{swap_result:Hs,amount_a:Ws,amount_b:f,total_receive_amount:Y}=await this.calculateWithdrawOnlyCoinByLpAmount(e,et,n);return{burn_liquidity:et,amount_a:Ws,amount_b:f,mode:q,total_receive_amount:Y,swap_result:Hs}}if(!s)return Zt("ParameterError","receive_amount is missing or invalid",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"calculateWithdrawOnlyCoin"});if(n===void 0)return Zt("ParameterError","is_receive_coin_a is missing or invalid",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"calculateWithdrawOnlyCoin"});let{ratio_a:xi,ratio_b:Oi}=mr$5.calculateDepositRatio(Number(l),Number(A),new tt$1.default(T)),Ts=n?xi:Oi,Fs=G$2(s).mul(Ts),qs=mr$5.estLiquidityAndCoinAmountFromOneAmounts(l,A,new tt$1.default(Fs.toFixed(0)),n,!1,1,new tt$1.default(T)),Us=new tt$1.default(0),Ls=new tt$1.default(i),Gs="0",zs="0",Vs=a,Zs=10,Js=Number.MAX_VALUE,xo=0,Io;for(;Js>Vs&&xo<Zs;){let Hs=xo===0?qs.liquidity_amount:Us.add(Ls).div(new tt$1.default(2)).toString();if(xo++,Io=await this.calculateWithdrawOnlyCoinByLpAmount(e,Hs,n),Io===void 0)break;let{total_receive_amount:Ws}=Io,f=new tt$1.default(s||"0"),Y=G$2(Ws).sub(s).div(s).abs().toNumber();if(console.log(" ~ ZapModule ~ error:",Y),Y<=Vs){Gs=Hs,zs=Ws,Js=Y;break}if(new tt$1.default(Ws).lt(f)?Us=new tt$1.default(Hs).add(new tt$1.default(1)):Ls=new tt$1.default(Hs).sub(new tt$1.default(1)),Ls.sub(Us).lte(new tt$1.default(1)))break}if(xo>=Zs)return Zt("ReachMaxIterations","Reached maximum iterations, could not find optimal LP amount.",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"calculateWithdrawOnlyCoin"});if(G$2(Gs).eq(0))return Zt("BestLiquidityIsZero","Best liquidity is 0",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"calculateWithdrawOnlyCoin"});let{amount_a:Uo,amount_b:Fo,swap_result:Ys}=Io;return{burn_liquidity:Gs,amount_a:Uo,amount_b:Fo,mode:q,total_receive_amount:zs,swap_result:Ys}}async calculateWithdrawOnlyCoinByLpAmount(e,i,n,s){let{tick_lower:a,tick_upper:l,current_sqrt_price:A,coin_type_a:T,coin_type_b:q,pool_id:et,coin_decimal_a:xi,coin_decimal_b:Oi}=e,Ts=Zt$3.tickIndexToSqrtPriceX64(a),Fs=Zt$3.tickIndexToSqrtPriceX64(l),{coin_amount_a:qs,coin_amount_b:Us}=mr$5.getCoinAmountFromLiquidity(new tt$1.default(i),new tt$1.default(A),Ts,Fs,!1),Ls=qs,Gs=Us,zs=n?q:T,Vs=n?T:q,Zs=n?Gs:Ls;if(G$2(Zs).eq(0))return{amount_a:Ls,amount_b:Gs,total_receive_amount:n?Ls:Gs,swap_price:s};let Js;if(s)Js={swap_in_amount:Zs,swap_out_amount:G$2(Zs).mul(s).toFixed(0,$i$1.ROUND_DOWN),after_sqrt_price:A,swap_price:s};else{let Uo=n?Oi:xi,Fo=n?xi:Oi;Js=await this.findRouters(et,A,zs,Vs,G$2(Zs),!n,Uo,Fo)}let{swap_out_amount:xo}=Js,Io=n?G$2(Ls).add(xo).toString():G$2(Gs).add(xo).toString();return{swap_result:Js,amount_a:Ls,amount_b:Gs,total_receive_amount:Io,swap_price:Js.swap_price}}async calculateWithdrawOtherSide(e,i,n){let{tick_lower:s,tick_upper:a,current_sqrt_price:l,burn_liquidity:A}=e;if(A){let xi=Zt$3.tickIndexToSqrtPriceX64(s),Oi=Zt$3.tickIndexToSqrtPriceX64(a),{coin_amount_a:Ts,coin_amount_b:Fs}=mr$5.getCoinAmountFromLiquidity(new tt$1.default(A),new tt$1.default(l),xi,Oi,!1);return{burn_liquidity:A,amount_a:Ts,amount_b:Fs,mode:"FixedOneSide"}}if(i===void 0||n===void 0)return Zt("ParameterError","fixed_coin_a or fixed_amount is undefined",{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"calculateWithdrawOtherSide"});let T=mr$5.estLiquidityAndCoinAmountFromOneAmounts(s,a,new tt$1.default(i),n,!1,1,new tt$1.default(l)),q=n?i:T.coin_amount_a,et=n?T.coin_amount_b:i;return{burn_liquidity:T.liquidity_amount,amount_a:q,amount_b:et,mode:"FixedOneSide"}}async preCalculateDepositAmount(e,i){let{mode:n}=i;switch(console.log(" ~ ZapModule ~ preCalculateDepositAmount ~ options:",{options:e,mode_options:i}),n){case"FixedOneSide":return this.calculateFixedOneSide(e,i);case"FlexibleBoth":return this.calculateFlexibleBoth(e,i);case"OnlyCoinA":return this.calculateDepositOnlyCoin(e,i);case"OnlyCoinB":return this.calculateDepositOnlyCoin(e,i);default:return Zt("UnsupportedDepositMode",`Unsupported deposit mode: ${n}`,{[be$5.REQUEST_PARAMS]:e,[be$5.METHOD_NAME]:"preCalculateDepositAmount"})}}async calculateFlexibleBoth(e,i){let{tick_lower:n,tick_upper:s,current_sqrt_price:a,slippage:l}=e,{coin_amount_a:A,coin_amount_b:T,coin_type_a:q,coin_type_b:et,max_remain_rate:xi=.02,coin_decimal_a:Oi,coin_decimal_b:Ts}=i;if(G$2(A).gt(0)&&G$2(T).eq(0))return this.calculateDepositOnlyCoin(e,{mode:"OnlyCoinA",coin_amount:A,coin_type_a:q,coin_type_b:et,max_remain_rate:xi,coin_decimal_a:Oi,coin_decimal_b:Ts});if(G$2(T).gt(0)&&G$2(A).eq(0))return this.calculateDepositOnlyCoin(e,{mode:"OnlyCoinB",coin_amount:T,coin_type_a:q,coin_type_b:et,max_remain_rate:xi,coin_decimal_a:Oi,coin_decimal_b:Ts});let{liquidity:Fs,use_amount_a:qs,use_amount_b:Us,amount_limit_a:Ls,amount_limit_b:Gs,fix_liquidity_amount_a:zs,remain_amount:Vs}=Ji(A,T,a,n,s,l,!0);console.log(" ~ ZapModule ~ calculateFlexibleBoth ~ remain_amount:",Vs);let Zs;return Vs.gt(0)&&(Zs=await this.calculateDepositOnlyCoin(e,{mode:zs?"OnlyCoinB":"OnlyCoinA",coin_amount:Vs.toFixed(0,$i$1.ROUND_DOWN),coin_type_a:q,coin_type_b:et,max_remain_rate:xi,coin_decimal_a:Oi,coin_decimal_b:Ts})),{mode:"FlexibleBoth",liquidity:Fs,amount_a:qs,amount_b:Us,amount_limit_a:Ls,amount_limit_b:Gs,fixed_liquidity_coin_a:zs,sub_deposit_result:Zs,original_input_amount_a:A,original_input_amount_b:T}}async findRouters(e,i,n,s,a,l,A,T,q){var Oi;let{providers:et}=this._sdk.sdkOptions,xi=this._sdk.AggregatorClient;if(G$2(a.toFixed(0).toString()).lt(1))return Zt("SwapAmountError","Swap amount is less than the minimum precision",{[be$5.METHOD_NAME]:"findRouters"});try{let Ts={from:n,target:s,amount:new tt$1.default(a.toFixed(0).toString()),byAmountIn:!0,depth:3,providers:et};q&&q.poolID&&(Ts.liquidityChanges=[q]);let Fs=await xi.findRouters(Ts);if(Fs!=null&&Fs.error)return Zt("AggregatorError",`Aggregator findRouters error: ${Fs==null?void 0:Fs.error}`,{[be$5.METHOD_NAME]:"findRouters",[be$5.REQUEST_PARAMS]:Ts});if(!(Fs!=null&&Fs.routes)||((Oi=Fs==null?void 0:Fs.routes)==null?void 0:Oi.length)===0)return Zt("AggregatorError","Aggregator findRouters error: no router",{[be$5.METHOD_NAME]:"findRouters",[be$5.REQUEST_PARAMS]:Ts});Fs.routes.forEach(Gs=>{let zs=Gs.path.find(Vs=>Vs.id.toLowerCase()===e.toLowerCase());zs&&zs.extendedDetails&&zs.extendedDetails.afterSqrtPrice&&(i=go$1(String(zs.extendedDetails.afterSqrtPrice),0))});let qs=Fs.amountIn.toString(),Us=Fs.amountOut.toString(),Ls=G$2(si$2(Us,T)).div(si$2(qs,A)).toString();return{swap_in_amount:Fs.amountIn.toString(),swap_out_amount:Fs.amountOut.toString(),after_sqrt_price:i,route_obj:Fs,swap_price:Ls}}catch(Ts){console.log(" ~ ZapModule ~ error:",Ts);try{let Fs=await xi.swapInPools({from:n,target:s,amount:new tt$1.default(a.toFixed(0).toString()),byAmountIn:l,pools:[e]});return Fs===null||!Fs.routeData||Fs.isExceed?Zt("AggregatorError","Aggregator findRouters error: no router",{[be$5.METHOD_NAME]:"swapInPools"}):(Fs.routeData.routes.forEach(qs=>{let Us=qs.path.find(Ls=>Ls.id.toLowerCase()===e.toLowerCase());Us&&(i=go$1(String(Us.extendedDetails.afterSqrtPrice)))}),{swap_in_amount:Fs.routeData.amountIn.toString(),swap_out_amount:Fs.routeData.amountOut.toString(),after_sqrt_price:i,route_obj:Fs.routeData,swap_price:""})}catch(Fs){return Xi$1("AggregatorError",Fs,{[be$5.METHOD_NAME]:"swapInPools"})}}}async calculateDepositOnlyCoin(e,i){let{tick_lower:n,tick_upper:s,current_sqrt_price:a,slippage:l,pool_id:A,mark_price:T,swap_slippage:q=ai}=e,{coin_amount:et,coin_type_a:xi,coin_type_b:Oi,max_remain_rate:Ts=.02,mode:Fs,coin_decimal_a:qs,coin_decimal_b:Us}=i,Ls=Fs==="OnlyCoinA",{swap_amount:Gs,receive_amount:zs,remaining_a:Vs,remaining_b:Zs,swap_result:Js}=await this.calculateSwapAmountByQuantity(A,xi,Oi,n,s,a,qs,Us,et,Ls,Ts,T),xo=G$2(et).sub(Gs);if(console.log(" ~ ZapModule ~ swap_amount:",{swap_amount:Gs,receive_amount:zs,fix_amount:xo,remaining_a:Vs,remaining_b:Zs}),G$2(Gs).eq(0))return this.calculateFixedOneSide(e,{mode:"FixedOneSide",fixed_amount:et,fixed_coin_a:Ls});let Io=Ls?xi:Oi,Uo=Ls?Oi:xi,Fo,Ys=G$2(Gs),Hs,Ws=5,f=0;do if(f++,Hs=Js||await this.findRouters(A,Hs?Hs.after_sqrt_price:a,Io,Uo,Ys,Ls,Ls?qs:Us,Ls?Us:qs),Fo=Ie$1(Hs,et,a,Ls,n,s,l,q),console.log(" ~ ZapModule ~ resultFormat:",{resultFormat:Fo,swapResult:Hs,bestSwapAmount:Ys,loopCount:f}),!Fo.is_valid_swap_result)Ys=G$2(Ys).mul(1+.01);else{let Y=G$2(Hs.swap_out_amount).mul(Ts);G$2(Y).lt(G$2(Fo.remain_amount))&&(Ys=G$2(Ys).mul(1-.01))}while(Fo&&!Fo.is_valid_swap_result&&f<Ws);return{liquidity:Fo.liquidity,amount_a:Fo.amount_a,amount_b:Fo.amount_b,amount_limit_a:Fo.amount_limit_a,amount_limit_b:Fo.amount_limit_b,fixed_liquidity_coin_a:Fo.fix_liquidity_amount_a,mode:Ls?"OnlyCoinA":"OnlyCoinB",swap_result:Hs,original_input_amount_a:Ls?et:"0",original_input_amount_b:Ls?"0":et}}calculateFixedOneSide(e,i){let{tick_lower:n,tick_upper:s,current_sqrt_price:a,slippage:l}=e,{fixed_amount:A,fixed_coin_a:T,mode:q}=i,et=mr$5.estLiquidityAndCoinAmountFromOneAmounts(n,s,new tt$1.default(A),T,!0,l,new tt$1.default(a));return{liquidity:et.liquidity_amount,amount_a:T?A:et.coin_amount_a,amount_b:T?et.coin_amount_b:A,amount_limit_a:et.coin_amount_limit_a,fixed_liquidity_coin_a:T,amount_limit_b:et.coin_amount_limit_b,mode:q,original_input_amount_a:T?A:"0",original_input_amount_b:T?"0":A}}async calculateSwapAmountByQuantity(e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=0){let{ratio_a:Fs,ratio_b:qs}=mr$5.calculateDepositRatio(s,a,new tt$1.default(l));console.log(" ~ ratioA:",{ratio_a:Fs,ratio_b:qs,mark_price:Oi});let Us=Zt$3.sqrtPriceX64ToPrice(new tt$1.default(l),A,T),Ls=G$2(si$2(q,et?A:T)),Gs=Oi?G$2(Oi):Us;if(et){if(Fs.eq(1))return{swap_amount:"0",receive_amount:"0",remaining_a:q,remaining_b:"0"};if(qs.eq(1))return{swap_amount:q,receive_amount:Ee$3(Ls.mul(Gs).toFixed(T),T).toString(),remaining_a:"0",remaining_b:Ee$3(Ls.mul(Gs).toFixed(T),T).toString()}}else{if(Fs.eq(1))return{swap_amount:q,receive_amount:Ee$3(Ls.div(Gs).toFixed(A),A).toString(),remaining_a:"0",remaining_b:Ee$3(Ls.div(Gs).toFixed(A),A).toString()};if(qs.eq(1))return{swap_amount:"0",receive_amount:"0",remaining_a:q,remaining_b:"0"}}let zs=200,Vs=G$2(xi),Zs=G$2(q).mul(et?Fs:qs);console.log(" ~ bestSwapAmount:",Zs,Ts);let Js=G$2(0),xo,Io,Uo=G$2(0),Fo=G$2(q);for(let Ws=0;Ws<zs;Ws++){Zs=Ws===0?Zs:Uo.add(Fo).div(2),et?(Js=G$2(Ee$3(G$2(si$2(Zs.toString(),A)).mul(Gs).toString(),T)),xo=G$2(q).sub(Zs),Io=Js):(Js=G$2(Ee$3(G$2(si$2(Zs.toString(),T)).div(Gs).toString(),A)),xo=Js,Io=G$2(q).sub(Zs));let f=wi$1(xo.toFixed(0),Io.toFixed(0),l,s,a,0,et);if(f.is_enough_amount){let Y=G$2(et?Io:xo).mul(Vs);if(G$2(Y).lt(G$2(f.remain_amount)))Fo=Zs.sub(1);else break}else Uo=Zs.add(1);if(Uo.gt(Fo))break}if(Zs.lt(1))return Zt("SwapAmountError","bestSwapAmount is less than the minimum precision",{[be$5.METHOD_NAME]:"calculateSwapAmountByQuantity"});let Ys,Hs=!1;try{Ys=await this.findRouters(e,l,et?i:n,et?n:i,Zs,!0,et?A:T,et?T:A);let Ws=et?G$2(Ys.swap_price):G$2(1).div(G$2(Ys.swap_price)),f=G$2(Ys.swap_out_amount).sub(Js).div(Ys.swap_out_amount);if(Hs=f.abs().lt(G$2(.03)),console.log(" ~ calculateSwapAmountByQuantity ~ priceDifference:",{priceDifference:f,receiveAmount:Js,swap_in_amount:Ys.swap_in_amount,swap_out_amount:Ys.swap_out_amount,routerPrice:Ws,swapPrice:Gs,verify_price_loop:Ts}),!Hs&&Ts<3)return await this.calculateSwapAmountByQuantity(e,i,n,s,a,l,A,T,q,et,xi,Ws.toString(),Ts+1)}catch(Ws){return Xi$1("AggregatorError",Ws,{[be$5.METHOD_NAME]:"calculateSwapAmountByQuantity"})}return{swap_amount:Zs.toFixed(0),receive_amount:Js.toFixed(0),remaining_a:xo.toFixed(0),remaining_b:Io.toFixed(0),swap_result:Hs?Ys:void 0}}},bi=class Pl extends ur$4{constructor(e,i){super(e),this._zapModule=new Mi$1(this),this._clmmSDK=i||Ai$1.createSDK({env:e.env,full_rpc_url:e.full_rpc_url}),this._farmsSDK=xt$1.createSDK({env:e.env,full_rpc_url:e.full_rpc_url},this._clmmSDK),this._aggregatorClient=new AggregatorClient25({signer:normalizeSuiAddress$1("0x0"),client:e.sui_client||new SuiClient({url:e.full_rpc_url}),env:e.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:e.pyth_urls})}setSenderAddress(e){this._farmsSDK.setSenderAddress(e)}getSenderAddress(e=!0){return this._farmsSDK.getSenderAddress(e)}updateProviders(e){if(e.length===0)throw new Error("providers is empty");this._sdkOptions.providers=e}updateFullRpcUrl(e){super.updateFullRpcUrl(e),this._farmsSDK.updateFullRpcUrl(e),this._aggregatorClient=new AggregatorClient25({signer:normalizeSuiAddress$1("0x0"),client:new SuiClient({url:e}),env:this._sdkOptions.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:this._sdkOptions.pyth_urls})}get ClmmSDK(){return this._clmmSDK}get FarmsSDK(){return this._farmsSDK}get AggregatorClient(){return this._aggregatorClient}get Zap(){return this._zapModule}static createSDK(e,i){let{env:n="mainnet",full_rpc_url:s}=e;return n==="mainnet"?Pl.createCustomSDK({..._e$1,...e},i):Pl.createCustomSDK({...we$1,...e},i)}static createCustomSDK(e,i){return new Pl(e,i)}};/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/const getFastestRpc=t=>new Promise((e,i)=>{if(!t||t.length===0)return i(new Error("Rpc list cannot be empty."));const n=new Worker("/worker/rpc.worker.js");n.postMessage(t),n.onmessage=s=>{e(s.data),n.terminate()},n.onerror=s=>{i(s)}}),sdkMap={clmm:Ai$1,burn:y$3,dca:C$2,farms:xt$1,limit:h,vaults:Oe$2,xcetus:ye$2,zap:bi};class SdkFactory{constructor(){Ua(this,"rpcs",[]);Ua(this,"currentRpc",null);Ua(this,"instances",new Map);Ua(this,"account",null)}async initialize(e,i){this.rpcs=i||[],this.currentRpc=i&&(i==null?void 0:i.length)>0?await getFastestRpc(this.rpcs):e,console.log("currentRpc initialized:",this.currentRpc)}getSdk(e){if(!this.currentRpc)throw new Error("SDK Factory not initialized. Call `initialize()` first.");if(!this.instances.has(e)){const s=sdkMap[e].createSDK({env:"mainnet",full_rpc_url:this.currentRpc}),a=this.createProxy(s,e);a&&this.account&&a.setSenderAddress(this.account),this.instances.set(e,a)}return this.instances.get(e)}createProxy(e,i){return new Proxy(e,{get:(n,s,a)=>{const l=Reflect.get(n,s,a);return typeof l!="function"?l:async(...A)=>{try{return await l.apply(n,A)}catch(T){return console.error(`Error in ${i} SDK method "${s}":`,T),T.message.includes("Network Error")&&(console.warn("Network error detected. Switching to next rpc..."),await this.switchRpc()),alert(""),T}}}})}async switchRpc(e=""){let i=e;e||(i=await getFastestRpc(this.rpcs)),this.currentRpc=i,this.instances.forEach(n=>{n&&typeof n.updateFullRpcUrl=="function"&&n.updateFullRpcUrl(i)}),console.log("All SDKs updated to new fastest rpc:",i)}setSenderAddress(e){this.account=e,this.instances.forEach(i=>{i&&typeof i.setSenderAddress=="function"&&i.setSenderAddress(e)})}}const sdkFactory=new SdkFactory,useSdkStore=react((t,e)=>({isInitialized:!1,sdkFactory,account:null,rpcs:[],currentRpc:"",providers:[],setAccount:i=>{t({account:i}),i?e().sdkFactory.setSenderAddress(i):e().sdkFactory.setSenderAddress("")},setRpcs:i=>{t({rpcs:i}),e().initializeSdk()},setCurrentRpc:i=>{t({currentRpc:i}),e().isInitialized?sdkFactory.switchRpc(i):e().initializeSdk()},initializeSdk:()=>{const{currentRpc:i,rpcs:n}=e();console.log("Initializing SDK with currentRpc:",i,"and rpcs:",n),sdkFactory.initialize(i,n),t({isInitialized:!0})},setIsInitialized:i=>{t({isInitialized:i})},setProviders:i=>{e().isInitialized||sdkFactory.initialize(e().currentRpc,e().rpcs),t({providers:i}),sdkFactory.getSdk("vaults").updateProviders(i)}})),useSdk=t=>{const{sdkFactory:e,isInitialized:i}=useSdkStore();return i?e.getSdk(t):(console.warn("sdkType: ",t,"####","SDK Factory is not initialized. Please wait for initialization."),null)};function useTokenSelect(){const{verifiedTokenMap:t,setVerifiedTokenMap:e}=useTokenStore(),{setCollectList:i,collectList:n,setFilterTokenLoading:s,setFilterTokenList:a,importTokenList:l,setImportTokenList:A,liquidityTrustTokenList:T,setLiquidityTrustTokenList:q,setShowImportBtn:et,setTrustedListLabel:xi,setUserCollectList:Oi,userCollectList:Ts}=useTokenSelectStore(),{tokenBalanceObj:Fs}=useTokenBalanceStore(),{currentAccount:qs}=useAccountStore(),{getTokenPrice:Us}=useTokenPrice(),Ls=useSdk("clmm"),{showCommonToast:Gs}=useGlobalToast(),zs=async()=>{const Bs=Array.from(t==null?void 0:t.values()).filter(jo=>jo.suggested_priority),Q=Bs.sort((jo,Bo)=>Number(Bo.suggested_priority)-Number(jo.suggested_priority));VariousTokensTable.setItem(COLLECT_TOKEN_LIST,Q);const $s=[...Bs,...Q],Ks=[...new Map($s.map(jo=>[ie$2(jo.coin_type||jo.address||"").full_address||jo.address||"",jo])).values()];i(Ks)},Vs=async()=>{const Bs=await VariousTokensTable.getItem(USER_COLLECT_TOKEN_LIST)||[];Oi(Bs)},Zs=Bs=>{const Ms=Ts.filter(Q=>Q.coin_type!==Bs.coin_type);Oi(Ms),VariousTokensTable.setItem(USER_COLLECT_TOKEN_LIST,Ms),Gs("Removed","success")},Js=Bs=>{const Ms=Bs.map($s=>$s.coin_type),Q=Ts.filter($s=>!Ms.includes($s.coin_type));Oi(Q),VariousTokensTable.setItem(USER_COLLECT_TOKEN_LIST,Q)},xo=Bs=>{const Ms=[...Ts,Bs];Oi(Ms),VariousTokensTable.setItem(USER_COLLECT_TOKEN_LIST,Ms),Gs("Added","success")},Io=async()=>{const Bs=await VariousTokensTable.getItem(IMPORT_TOKEN_LIST)||[];A(Bs)},Uo=Bs=>{const Ms=[...l,...Bs];A(Ms),VariousTokensTable.setItem(IMPORT_TOKEN_LIST,Ms),Gs("Imported","success")},Fo=Bs=>{const Ms=Bs.map($s=>$s.coin_type),Q=l.filter($s=>!Ms.includes($s.coin_type));A(Q),VariousTokensTable.setItem(IMPORT_TOKEN_LIST,Q),Js(Bs),Gs((Bs==null?void 0:Bs.length)==(l==null?void 0:l.length)?"Cleared":"Removed","success")},Ys=()=>{const Bs=Array.from(t==null?void 0:t.values()).map(Q=>Q.coin_type),Ms=l.filter(Q=>!Bs.includes(Q.coin_type));A(Ms),VariousTokensTable.setItem(IMPORT_TOKEN_LIST,Ms)},Hs=Bs=>{const Ms=[...T,...Bs];console.log(" ~ file: useTokenSelect.ts:100 ~ addImportTokenList ~ list:",Ms),q(Ms),VariousTokensTable.setItem(LIQUIDITY_TRUST_TOKEN_LIST,Ms)},Ws=Bs=>{const Ms=Bs.map($s=>$s.coin_type),Q=T.filter($s=>!Ms.includes($s.coin_type));q(Q),VariousTokensTable.setItem(LIQUIDITY_TRUST_TOKEN_LIST,Q)},f=(Bs,Ms)=>Fs[Bs]&&(qs!=null&&qs.address)?bnToAmount(Fs[Bs].totalBalance,Ms):0,Y=(Bs,Ms,Q=!0)=>{console.log(" ~ useTokenSelect.ts:160 ~ sortWithTokenList ~ keyword:",Ms);const $s=Ms&&Ms.toLocaleLowerCase(),Ks=Bs.map(Bo=>{var Qs;let To=0,Oo=0;Bo.symbol.toLowerCase()===$s||Bo.name.toLowerCase()===$s||Bo.coin_type.toLowerCase()===$s?(To=1e3,Oo=2):Bo.symbol.toLowerCase().indexOf($s)>-1?(To=100,Oo=0):Bo.name.toLowerCase().indexOf($s)>-1?(To=10,Oo=0):Bo.coin_type.toLowerCase().indexOf($s)>-1?(To=1,Oo=0):(Bo.coin_type.toLowerCase()=="0x2::sui::sui"||Bo.coin_type.toLocaleLowerCase()=="0000000000000000000000000000000000000000000000000000000000000002::sui::sui")&&(Oo=1);const Vo=Q&&f(ie$2(Bo.coin_type).full_address,Bo.decimals)||0,zo=Q&&((Qs=Us(Bo.coin_type))==null?void 0:Qs.price)||void 0,so=Array.isArray(Bo==null?void 0:Bo.coin_priority)?Number(Bo.coin_priority[0])||0:Number(Bo==null?void 0:Bo.coin_priority)||0;return{...Bo,coin_priority_sort:so,mark:To,sort:Oo,balance:Vo,price:zo,balanceUSD:zo?d(Vo).mul(d(zo)).toNumber():"0"}}),jo=orderBy(Ks,["sort","mark","balanceUSD","balance","coin_priority_sort","symbol"],["desc","desc","desc","desc","desc","asc"]);return console.log(" ~ useTokenSelect.ts:202 ~ sortWithTokenList ~ sortedTokens:",jo),jo},nt=()=>{const Bs=[],Ms=[],Q=[{label:"All",value:"All"},{label:"Native",value:"Native"}];console.log(" ~ file: useTokenSelect.ts:199 ~ getDefaultTokenList ~ tokenMap.values():",Array.from(t==null?void 0:t.values()));for(const Bo of Array.from(t==null?void 0:t.values()))(Bo.is_verified===void 0?Bo!=null&&Bo.is_trusted:Bo!=null&&Bo.is_verified)&&Bo.coin_type!=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"&&(Bs.push(Bo),Bo.labels&&Bo.labels[0]&&Ms.push({label:Bo.labels[0],value:Bo.labels[0]}));const $s=Y(Bs,"");console.log(" ~ file: useTokenSelect.ts:211 ~ getDefaultTokenList ~ result:",Bs),console.log(" ~ file: useTokenSelect.ts:221 ~ getDefaultTokenList ~ sortResult:",$s);const Ks=new Map($s==null?void 0:$s.map(Bo=>[Bo==null?void 0:Bo.coin_type,Bo]));e(Ks);const jo=Array.from(new Set(Ms.map(Bo=>Bo.label))).map(Bo=>Ms.find(To=>To.label===Bo));xi(Q.concat(jo)),console.log(" ~ file: useTokenSelect.ts:194 ~ getDefaultTokenList ~ trustedListLabel.concat(Array.from(new Set(labelList))):",Q.concat(Array.from(new Set(Ms))))},vs=async(Bs,Ms,Q,$s=!0,Ks=!0)=>{let jo=!1;et(!1);const Bo=getSuiObjectType(Bs),To=isSuiObjectType(Bs)?suiAddressLongToShort(ie$2(suiAddressLongToShort(Bs).toLowerCase()).full_address).toLocaleLowerCase():Bs.toLowerCase(),Oo=Ms.filter(Qs=>{var sa;return Qs.symbol.toLowerCase().indexOf(To)!==-1||Qs.coin_type.toLowerCase().indexOf(To)!==-1||Qs.name.toLowerCase().indexOf(To)!==-1||(Qs==null?void 0:Qs.coin_type)&&((sa=Qs==null?void 0:Qs.coin_type)==null?void 0:sa.toLowerCase().indexOf(To))!==-1}),Vo=Q.filter(Qs=>Qs.symbol.toLowerCase().indexOf(To)!==-1||Qs.coin_type.toLowerCase().indexOf(To)!==-1||Qs.name.toLowerCase().indexOf(To)!==-1);let zo=Oo.concat(Vo);if(zo&&zo.length==0&&Bo.split("::").length==3&&Ks)try{const Qs=await Ls.CetusConfig.getTokenListByCoinTypes([Bo]);if(Qs[Bo])zo=[{...Qs[Bo],is_verified:!1,coin_type:ie$2(Bo).full_address,description:""}],jo=!0;else{const{data:sa}=await fetch(`/data/hop-coin-info.json?timestamp=${new Date().getTime()}`).then(Qo=>Qo.json()),Zo=sa[Bo];sa&&Zo&&(zo=[{...Zo,is_verified:!1,logo_url:Zo.iconUrl,coin_type:ie$2(Bo).full_address}],jo=!0)}}catch(Qs){console.log(" ~ file: useTokenSelect.ts:90 ~ filterTokenList ~ error:",Qs)}const so=Y(zo,Bo);a(so),et($s?jo:!1),s(!1),console.log(" ~ file: useTokenSelect.ts:238 ~ filterTokenListFun ~ filterTokenListFun:",so)},ks=(Bs,Ms)=>{const Q=Ms.filter(Ks=>Bs=="Native"?!Ks.labels||Ks.labels.length==0||Ks.labels=="Native":Ks.labels&&Ks.labels.length>0&&Ks.labels[0].toLowerCase()==Bs.toLowerCase());console.log(" ~ file: useTokenSelect.ts:279 ~ filterTokenWithLabel ~ result:",Q);const $s=Y(Q,"");a($s)},Ds=(Bs,Ms,Q)=>{let $s=Ms.findIndex(Ks=>Ks.coin_type.toLowerCase()==Bs.toLowerCase());return $s>=0?"Default":($s=Q.findIndex(Ks=>Ks.coin_type.toLowerCase()==Bs.toLowerCase()),$s>=0?"Imported":"Default")};return reactExports.useEffect(()=>()=>{et(!1)},[]),{getCollectList:zs,getDefaultTokenList:nt,filterTokenListFun:vs,filterTokenWithLabel:ks,getImportTokenList:Io,addImportTokenList:Uo,delImportTokenList:Fo,addLiquidityTrustTokenList:Hs,removeLiquidityTrustTokenList:Ws,updateImportTokenList:Ys,sortWithTokenList:Y,getTabByAddress:Ds,getUserCollectList:Vs,delUserCollectTokens:Js,addUserCollectToken:xo,delUserCollectToken:Zs}}function useExplorer(){const{currentExplorer:t}=useRpcConfigStore();return{getExplorerUrl:(i,n="account",s=t)=>{const a=s.name.toLocaleLowerCase().indexOf("suivision")>-1?"SuiVision":s.name.toLocaleLowerCase().indexOf("suiscan")>-1?"Suiscan":"";let l;return a=="SuiVision"?l=`${s.link}/${getSuiVisionKey(n)}/${i}`:l=`${s.link}/${getSuiscanKey(n)}/${i}`,l}}}const getSuiscanKey=t=>{switch(t){case"account":return"address";case"token":return"object";case"tx":return"tx";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},getSuiVisionKey=t=>{switch(t){case"account":return"account";case"token":return"object";case"tx":return"txblock";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},useFetch=()=>{const{domains:t,currentDomain:e,setCurrentDomain:i,setUnhealthyDomains:n,unhealthyDomains:s}=useGlobalApiDomainStore(),a=()=>{const A=t.length;if(A>1&&s.length<A-1){n(e);const T=t.indexOf(e);let q="";return T!==A-1?q=t[T+1]:q=t[0],q}return""},l=async(A,T,q,et)=>{console.log(" ~ file: useFetch.ts:30 ~ fetchByApi ~ params:",{path:A,type:T,options:q,domain:et||e});try{return T==="GET"?await fetchGet(`${et||e}${A}`,q):await fetchPost(`${et||e}${A}`,q)}catch(xi){console.log(" ~ file: useFetch.ts:41 ~ fetchByApi ~ error:",xi);const Oi=a();if(Oi)return i(Oi),l(A,T,q,Oi);throw xi}};return{fetchByApi:l}},StatsPoolsPath="/v3/sui/clmm/stats_pools",PriceRangePath="/v3/sui/clmm/pool_price_range",TransactionsHistory="/v2/sui/pool/history",StatisticsPath="/v3/sui/clmm/statistics",StatisticsTokens="/v3/sui/clmm/stats_coins",TransactionTxPath="/v3/sui/current_tx",HistogramPathV3="/v3/sui/clmm/histogram",HistogramPathTotalVolV3="/v3/sui/histogram",DcaConfigPath="/dca/quote_config",DcaQuotePath="/dca/quote",DcaOrderHistoryPath="/v3/sui/dca/query_event_list",LimitOrderHistoryPath="/v3/sui/limit_order",aggregatorStatusPath="/router_v2/status",VaultUnstableHistogram="/v3/sui/vaults/unstable/tvl/histogram",VaultList="/v3/sui/vaults/pools",VaultUnstablePriceRange="/v3/sui/vaults/unstable/pricerange/histogram",VaultApyAndFeesPath="/v3/sui/vaults/unstable/LPFee/histogram",VerifiedCoinsPath="/v3/sui/clmm/verified_coins_info",CoinsInfoPath="/v3/sui/clmm/coins_info";function useGetTokens(){const{fetchByApi:t}=useFetch(),{verifiedTokenMap:e,setVerifiedTokenMap:i,addTokenList:n,addToken:s}=useTokenStore(),a=useSdk("clmm"),l=async()=>{var xi;try{const Oi=await t(VerifiedCoinsPath,"GET");if(Oi&&Oi.list&&Oi.list.length>0){const Ts=(xi=Oi==null?void 0:Oi.list)==null?void 0:xi.map(qs=>formatToken(qs)),Fs=Ts==null?void 0:Ts.reduce((qs,Us)=>(qs.set(Us.coin_type,formatToken(Us)),qs),new Map);Fs&&Fs.size>0&&(Fs.set("0x2::sui::SUI",{...Fs.get("0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"),coin_type:"0x2::sui::SUI"}),i(Fs),n([...Ts,{...Fs.get("0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"),coin_type:"0x2::sui::SUI"}]))}}catch(Oi){console.error(" ~ getVerifiedCoins ~ 38:",Oi)}},A=async xi=>{try{const Oi=await a.FullClient.getCoinMetadata({coinType:xi});if(Oi){Oe$3.isSuiCoin(xi)&&(Oi.iconUrl="https://archive.cetus.zone/assets/image/sui/sui.png");const Ts=coinMetadataToCoinInfo(Oi,xi);return s(Ts),Ts}}catch(Oi){console.log(" ~ getTokenFromClient ~ error:",Oi)}},T=async xi=>{var Oi,Ts,Fs,qs;try{if(!xi)return;let Us=xi;xi==="0x2::sui::SUI"&&(Us="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI");const Ls=await t(CoinsInfoPath,"POST",{coinTypes:[Us]});if(Ls&&(Ls!=null&&Ls.data)&&((Oi=Ls==null?void 0:Ls.data)!=null&&Oi.list)&&((Fs=(Ts=Ls==null?void 0:Ls.data)==null?void 0:Ts.list)==null?void 0:Fs.length)>0){const Gs=await et((qs=Ls==null?void 0:Ls.data)==null?void 0:qs.list[0]),zs=formatToken(Gs);return s(zs),zs}else return await A(xi)}catch(Us){return console.error(" ~ getTokenInfo ~ 57:",Us),await A(xi)}},q=async xi=>{var Oi,Ts,Fs,qs,Us,Ls,Gs;try{if((xi==null?void 0:xi.length)===0)return;let zs=[];if(zs=xi.map(Zs=>Zs==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":Zs),zs=uniq(zs),zs.length===0)return;const Vs=await t(CoinsInfoPath,"POST",{coinTypes:zs});if(Vs&&(Vs!=null&&Vs.data)&&((Oi=Vs==null?void 0:Vs.data)!=null&&Oi.list)&&((Fs=(Ts=Vs==null?void 0:Vs.data)==null?void 0:Ts.list)==null?void 0:Fs.length)>0){const Zs=(Us=(qs=Vs==null?void 0:Vs.data)==null?void 0:qs.list)==null?void 0:Us.map(xo=>formatToken(xo)),Js=[];for(let xo=0;xo<Zs.length;xo++){const Io=await et(Zs[xo]);Js.push(Io)}if(((Gs=(Ls=Vs==null?void 0:Vs.data)==null?void 0:Ls.list)==null?void 0:Gs.length)<xi.length){const xo=Js.map(Uo=>Uo.coin_type),Io=xi.filter(Uo=>!xo.includes(Uo));for(const Uo of Io){const Fo=await a.FullClient.getCoinMetadata({coinType:Uo});if(Fo){Oe$3.isSuiCoin(Uo)&&(Fo.iconUrl="https://archive.cetus.zone/assets/image/sui/sui.png");const Ys=coinMetadataToCoinInfo(Fo,Uo);Js.push(Ys)}}}n(Js)}else{const Zs=[];for(const Js of xi){const xo=await a.FullClient.getCoinMetadata({coinType:Js});if(xo){Oe$3.isSuiCoin(Js)&&(xo.iconUrl="https://archive.cetus.zone/assets/image/sui/sui.png");const Io=coinMetadataToCoinInfo(xo,Js);Zs.push(Io)}}n(Zs)}console.log("getTokenListInfo",Vs)}catch(zs){console.error(" ~ getTokenListInfo ~ 75:",zs)}},et=async xi=>{if(xi&&(xi==null?void 0:xi.decimals)==null){console.log(" ~ useGetTokens.ts:133 ~ checkTokenDecimals ~ tokenInfo?.decimals == undefined:",(xi==null?void 0:xi.decimals)==null,xi.coin_type,xi);const Oi=await a.FullClient.getCoinMetadata({coinType:xi==null?void 0:xi.coin_type});Oi&&(xi.decimals=Oi.decimals)}return xi};return{getVerifiedCoins:l,verifiedTokenMap:e,getToken:T,getTokenList:q}}var me=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')}),Rn=Object.create,Yi=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,jn=Object.getOwnPropertyNames,Un=Object.getPrototypeOf,Vn=Object.prototype.hasOwnProperty,$n=(t=>typeof me<"u"?me:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof me<"u"?me:e)[i]}):t)(function(t){if(typeof me<"u")return me.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Kn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Zn=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of jn(e))!Vn.call(t,s)&&s!==i&&Yi(t,s,{get:()=>e[s],enumerable:!(n=Ln(e,s))||n.enumerable});return t},Me=(t,e,i)=>(i=t!=null?Rn(Un(t)):{},Zn(!t||!t.__esModule?Yi(i,"default",{value:t,enumerable:!0}):i,t)),Se=Kn((t,e)=>{(function(i,n){function s(f,Y){if(!f)throw new Error(Y||"Assertion failed")}function a(f,Y){f.super_=Y;var nt=function(){};nt.prototype=Y.prototype,f.prototype=new nt,f.prototype.constructor=f}function l(f,Y,nt){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((Y==="le"||Y==="be")&&(nt=Y,Y=10),this._init(f||0,Y||10,nt||"be"))}typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var A;try{typeof window<"u"&&typeof window.Buffer<"u"?A=window.Buffer:A=$n("buffer").Buffer}catch{}l.isBN=function(f){return f instanceof l?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===l.wordSize&&Array.isArray(f.words)},l.max=function(f,Y){return f.cmp(Y)>0?f:Y},l.min=function(f,Y){return f.cmp(Y)<0?f:Y},l.prototype._init=function(f,Y,nt){if(typeof f=="number")return this._initNumber(f,Y,nt);if(typeof f=="object")return this._initArray(f,Y,nt);Y==="hex"&&(Y=16),s(Y===(Y|0)&&Y>=2&&Y<=36),f=f.toString().replace(/\s+/g,"");var vs=0;f[0]==="-"&&(vs++,this.negative=1),vs<f.length&&(Y===16?this._parseHex(f,vs,nt):(this._parseBase(f,Y,vs),nt==="le"&&this._initArray(this.toArray(),Y,nt)))},l.prototype._initNumber=function(f,Y,nt){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(s(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),nt==="le"&&this._initArray(this.toArray(),Y,nt)},l.prototype._initArray=function(f,Y,nt){if(s(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks,Ds,Bs=0;if(nt==="be")for(vs=f.length-1,ks=0;vs>=0;vs-=3)Ds=f[vs]|f[vs-1]<<8|f[vs-2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);else if(nt==="le")for(vs=0,ks=0;vs<f.length;vs+=3)Ds=f[vs]|f[vs+1]<<8|f[vs+2]<<16,this.words[ks]|=Ds<<Bs&67108863,this.words[ks+1]=Ds>>>26-Bs&67108863,Bs+=24,Bs>=26&&(Bs-=26,ks++);return this._strip()};function T(f,Y){var nt=f.charCodeAt(Y);if(nt>=48&&nt<=57)return nt-48;if(nt>=65&&nt<=70)return nt-55;if(nt>=97&&nt<=102)return nt-87;s(!1,"Invalid character in "+f)}function q(f,Y,nt){var vs=T(f,nt);return nt-1>=Y&&(vs|=T(f,nt-1)<<4),vs}l.prototype._parseHex=function(f,Y,nt){this.length=Math.ceil((f.length-Y)/6),this.words=new Array(this.length);for(var vs=0;vs<this.length;vs++)this.words[vs]=0;var ks=0,Ds=0,Bs;if(nt==="be")for(vs=f.length-1;vs>=Y;vs-=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8;else{var Ms=f.length-Y;for(vs=Ms%2===0?Y+1:Y;vs<f.length;vs+=2)Bs=q(f,Y,vs)<<ks,this.words[Ds]|=Bs&67108863,ks>=18?(ks-=18,Ds+=1,this.words[Ds]|=Bs>>>26):ks+=8}this._strip()};function et(f,Y,nt,vs){for(var ks=0,Ds=0,Bs=Math.min(f.length,nt),Ms=Y;Ms<Bs;Ms++){var Q=f.charCodeAt(Ms)-48;ks*=vs,Q>=49?Ds=Q-49+10:Q>=17?Ds=Q-17+10:Ds=Q,s(Q>=0&&Ds<vs,"Invalid character"),ks+=Ds}return ks}l.prototype._parseBase=function(f,Y,nt){this.words=[0],this.length=1;for(var vs=0,ks=1;ks<=67108863;ks*=Y)vs++;vs--,ks=ks/Y|0;for(var Ds=f.length-nt,Bs=Ds%vs,Ms=Math.min(Ds,Ds-Bs)+nt,Q=0,$s=nt;$s<Ms;$s+=vs)Q=et(f,$s,$s+vs,Y),this.imuln(ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(Bs!==0){var Ks=1;for(Q=et(f,$s,f.length,Y),$s=0;$s<Bs;$s++)Ks*=Y;this.imuln(Ks),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},l.prototype.copy=function(f){f.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)f.words[Y]=this.words[Y];f.length=this.length,f.negative=this.negative,f.red=this.red};function xi(f,Y){f.words=Y.words,f.length=Y.length,f.negative=Y.negative,f.red=Y.red}if(l.prototype._move=function(f){xi(f,this)},l.prototype.clone=function(){var f=new l(null);return this.copy(f),f},l.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oi}catch{l.prototype.inspect=Oi}else l.prototype.inspect=Oi;function Oi(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Fs=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(f,Y){f=f||10,Y=Y|0||1;var nt;if(f===16||f==="hex"){nt="";for(var vs=0,ks=0,Ds=0;Ds<this.length;Ds++){var Bs=this.words[Ds],Ms=((Bs<<vs|ks)&16777215).toString(16);ks=Bs>>>24-vs&16777215,vs+=2,vs>=26&&(vs-=26,Ds--),ks!==0||Ds!==this.length-1?nt=Ts[6-Ms.length]+Ms+nt:nt=Ms+nt}for(ks!==0&&(nt=ks.toString(16)+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}if(f===(f|0)&&f>=2&&f<=36){var Q=Fs[f],$s=qs[f];nt="";var Ks=this.clone();for(Ks.negative=0;!Ks.isZero();){var jo=Ks.modrn($s).toString(f);Ks=Ks.idivn($s),Ks.isZero()?nt=jo+nt:nt=Ts[Q-jo.length]+jo+nt}for(this.isZero()&&(nt="0"+nt);nt.length%Y!==0;)nt="0"+nt;return this.negative!==0&&(nt="-"+nt),nt}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},l.prototype.toJSON=function(){return this.toString(16,2)},A&&(l.prototype.toBuffer=function(f,Y){return this.toArrayLike(A,f,Y)}),l.prototype.toArray=function(f,Y){return this.toArrayLike(Array,f,Y)};var Us=function(f,Y){return f.allocUnsafe?f.allocUnsafe(Y):new f(Y)};l.prototype.toArrayLike=function(f,Y,nt){this._strip();var vs=this.byteLength(),ks=nt||Math.max(1,vs);s(vs<=ks,"byte array longer than desired length"),s(ks>0,"Requested array length <= 0");var Ds=Us(f,ks),Bs=Y==="le"?"LE":"BE";return this["_toArrayLike"+Bs](Ds,vs),Ds},l.prototype._toArrayLikeLE=function(f,Y){for(var nt=0,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt++]=Bs&255,nt<f.length&&(f[nt++]=Bs>>8&255),nt<f.length&&(f[nt++]=Bs>>16&255),Ds===6?(nt<f.length&&(f[nt++]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt<f.length)for(f[nt++]=vs;nt<f.length;)f[nt++]=0},l.prototype._toArrayLikeBE=function(f,Y){for(var nt=f.length-1,vs=0,ks=0,Ds=0;ks<this.length;ks++){var Bs=this.words[ks]<<Ds|vs;f[nt--]=Bs&255,nt>=0&&(f[nt--]=Bs>>8&255),nt>=0&&(f[nt--]=Bs>>16&255),Ds===6?(nt>=0&&(f[nt--]=Bs>>24&255),vs=0,Ds=0):(vs=Bs>>>24,Ds+=2)}if(nt>=0)for(f[nt--]=vs;nt>=0;)f[nt--]=0},Math.clz32?l.prototype._countBits=function(f){return 32-Math.clz32(f)}:l.prototype._countBits=function(f){var Y=f,nt=0;return Y>=4096&&(nt+=13,Y>>>=13),Y>=64&&(nt+=7,Y>>>=7),Y>=8&&(nt+=4,Y>>>=4),Y>=2&&(nt+=2,Y>>>=2),nt+Y},l.prototype._zeroBits=function(f){if(f===0)return 26;var Y=f,nt=0;return!(Y&8191)&&(nt+=13,Y>>>=13),!(Y&127)&&(nt+=7,Y>>>=7),!(Y&15)&&(nt+=4,Y>>>=4),!(Y&3)&&(nt+=2,Y>>>=2),!(Y&1)&&nt++,nt},l.prototype.bitLength=function(){var f=this.words[this.length-1],Y=this._countBits(f);return(this.length-1)*26+Y};function Ls(f){for(var Y=new Array(f.bitLength()),nt=0;nt<Y.length;nt++){var vs=nt/26|0,ks=nt%26;Y[nt]=f.words[vs]>>>ks&1}return Y}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,Y=0;Y<this.length;Y++){var nt=this._zeroBits(this.words[Y]);if(f+=nt,nt!==26)break}return f},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},l.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var Y=0;Y<f.length;Y++)this.words[Y]=this.words[Y]|f.words[Y];return this._strip()},l.prototype.ior=function(f){return s((this.negative|f.negative)===0),this.iuor(f)},l.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},l.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},l.prototype.iuand=function(f){var Y;this.length>f.length?Y=f:Y=this;for(var nt=0;nt<Y.length;nt++)this.words[nt]=this.words[nt]&f.words[nt];return this.length=Y.length,this._strip()},l.prototype.iand=function(f){return s((this.negative|f.negative)===0),this.iuand(f)},l.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},l.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},l.prototype.iuxor=function(f){var Y,nt;this.length>f.length?(Y=this,nt=f):(Y=f,nt=this);for(var vs=0;vs<nt.length;vs++)this.words[vs]=Y.words[vs]^nt.words[vs];if(this!==Y)for(;vs<Y.length;vs++)this.words[vs]=Y.words[vs];return this.length=Y.length,this._strip()},l.prototype.ixor=function(f){return s((this.negative|f.negative)===0),this.iuxor(f)},l.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},l.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},l.prototype.inotn=function(f){s(typeof f=="number"&&f>=0);var Y=Math.ceil(f/26)|0,nt=f%26;this._expand(Y),nt>0&&Y--;for(var vs=0;vs<Y;vs++)this.words[vs]=~this.words[vs]&67108863;return nt>0&&(this.words[vs]=~this.words[vs]&67108863>>26-nt),this._strip()},l.prototype.notn=function(f){return this.clone().inotn(f)},l.prototype.setn=function(f,Y){s(typeof f=="number"&&f>=0);var nt=f/26|0,vs=f%26;return this._expand(nt+1),Y?this.words[nt]=this.words[nt]|1<<vs:this.words[nt]=this.words[nt]&~(1<<vs),this._strip()},l.prototype.iadd=function(f){var Y;if(this.negative!==0&&f.negative===0)return this.negative=0,Y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,Y=this.isub(f),f.negative=1,Y._normSign();var nt,vs;this.length>f.length?(nt=this,vs=f):(nt=f,vs=this);for(var ks=0,Ds=0;Ds<vs.length;Ds++)Y=(nt.words[Ds]|0)+(vs.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;for(;ks!==0&&Ds<nt.length;Ds++)Y=(nt.words[Ds]|0)+ks,this.words[Ds]=Y&67108863,ks=Y>>>26;if(this.length=nt.length,ks!==0)this.words[this.length]=ks,this.length++;else if(nt!==this)for(;Ds<nt.length;Ds++)this.words[Ds]=nt.words[Ds];return this},l.prototype.add=function(f){var Y;return f.negative!==0&&this.negative===0?(f.negative=0,Y=this.sub(f),f.negative^=1,Y):f.negative===0&&this.negative!==0?(this.negative=0,Y=f.sub(this),this.negative=1,Y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},l.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var Y=this.iadd(f);return f.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var nt=this.cmp(f);if(nt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vs,ks;nt>0?(vs=this,ks=f):(vs=f,ks=this);for(var Ds=0,Bs=0;Bs<ks.length;Bs++)Y=(vs.words[Bs]|0)-(ks.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;for(;Ds!==0&&Bs<vs.length;Bs++)Y=(vs.words[Bs]|0)+Ds,Ds=Y>>26,this.words[Bs]=Y&67108863;if(Ds===0&&Bs<vs.length&&vs!==this)for(;Bs<vs.length;Bs++)this.words[Bs]=vs.words[Bs];return this.length=Math.max(this.length,Bs),vs!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(f){return this.clone().isub(f)};function Gs(f,Y,nt){nt.negative=Y.negative^f.negative;var vs=f.length+Y.length|0;nt.length=vs,vs=vs-1|0;var ks=f.words[0]|0,Ds=Y.words[0]|0,Bs=ks*Ds,Ms=Bs&67108863,Q=Bs/67108864|0;nt.words[0]=Ms;for(var $s=1;$s<vs;$s++){for(var Ks=Q>>>26,jo=Q&67108863,Bo=Math.min($s,Y.length-1),To=Math.max(0,$s-f.length+1);To<=Bo;To++){var Oo=$s-To|0;ks=f.words[Oo]|0,Ds=Y.words[To]|0,Bs=ks*Ds+jo,Ks+=Bs/67108864|0,jo=Bs&67108863}nt.words[$s]=jo|0,Q=Ks|0}return Q!==0?nt.words[$s]=Q|0:nt.length--,nt._strip()}var zs=function(f,Y,nt){var vs=f.words,ks=Y.words,Ds=nt.words,Bs=0,Ms,Q,$s,Ks=vs[0]|0,jo=Ks&8191,Bo=Ks>>>13,To=vs[1]|0,Oo=To&8191,Vo=To>>>13,zo=vs[2]|0,so=zo&8191,Qs=zo>>>13,sa=vs[3]|0,Zo=sa&8191,Qo=sa>>>13,la=vs[4]|0,Ko=la&8191,Jo=la>>>13,aa=vs[5]|0,oa=aa&8191,ua=aa>>>13,Ma=vs[6]|0,da=Ma&8191,fa=Ma>>>13,La=vs[7]|0,ga=La&8191,ha=La>>>13,Ga=vs[8]|0,Aa=Ga&8191,_a=Ga>>>13,Za=vs[9]|0,Ta=Za&8191,ma=Za>>>13,Xa=ks[0]|0,ka=Xa&8191,pa=Xa>>>13,za=ks[1]|0,Ba=za&8191,wa=za>>>13,Ja=ks[2]|0,Oa=Ja&8191,ba=Ja>>>13,eu=ks[3]|0,Ia=eu&8191,xa=eu>>>13,Ya=ks[4]|0,Pa=Ya&8191,$a=Ya>>>13,Qa=ks[5]|0,Da=Qa&8191,va=Qa>>>13,Ka=ks[6]|0,Ra=Ka&8191,ya=Ka>>>13,tu=ks[7]|0,Na=tu&8191,Sa=tu>>>13,ru=ks[8]|0,Fa=ru&8191,Ea=ru>>>13,iu=ks[9]|0,ja=iu&8191,Ca=iu>>>13;nt.negative=f.negative^Y.negative,nt.length=19,Ms=Math.imul(jo,ka),Q=Math.imul(jo,pa),Q=Q+Math.imul(Bo,ka)|0,$s=Math.imul(Bo,pa);var nu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(nu>>>26)|0,nu&=67108863,Ms=Math.imul(Oo,ka),Q=Math.imul(Oo,pa),Q=Q+Math.imul(Vo,ka)|0,$s=Math.imul(Vo,pa),Ms=Ms+Math.imul(jo,Ba)|0,Q=Q+Math.imul(jo,wa)|0,Q=Q+Math.imul(Bo,Ba)|0,$s=$s+Math.imul(Bo,wa)|0;var ou=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(ou>>>26)|0,ou&=67108863,Ms=Math.imul(so,ka),Q=Math.imul(so,pa),Q=Q+Math.imul(Qs,ka)|0,$s=Math.imul(Qs,pa),Ms=Ms+Math.imul(Oo,Ba)|0,Q=Q+Math.imul(Oo,wa)|0,Q=Q+Math.imul(Vo,Ba)|0,$s=$s+Math.imul(Vo,wa)|0,Ms=Ms+Math.imul(jo,Oa)|0,Q=Q+Math.imul(jo,ba)|0,Q=Q+Math.imul(Bo,Oa)|0,$s=$s+Math.imul(Bo,ba)|0;var au=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(au>>>26)|0,au&=67108863,Ms=Math.imul(Zo,ka),Q=Math.imul(Zo,pa),Q=Q+Math.imul(Qo,ka)|0,$s=Math.imul(Qo,pa),Ms=Ms+Math.imul(so,Ba)|0,Q=Q+Math.imul(so,wa)|0,Q=Q+Math.imul(Qs,Ba)|0,$s=$s+Math.imul(Qs,wa)|0,Ms=Ms+Math.imul(Oo,Oa)|0,Q=Q+Math.imul(Oo,ba)|0,Q=Q+Math.imul(Vo,Oa)|0,$s=$s+Math.imul(Vo,ba)|0,Ms=Ms+Math.imul(jo,Ia)|0,Q=Q+Math.imul(jo,xa)|0,Q=Q+Math.imul(Bo,Ia)|0,$s=$s+Math.imul(Bo,xa)|0;var uu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(uu>>>26)|0,uu&=67108863,Ms=Math.imul(Ko,ka),Q=Math.imul(Ko,pa),Q=Q+Math.imul(Jo,ka)|0,$s=Math.imul(Jo,pa),Ms=Ms+Math.imul(Zo,Ba)|0,Q=Q+Math.imul(Zo,wa)|0,Q=Q+Math.imul(Qo,Ba)|0,$s=$s+Math.imul(Qo,wa)|0,Ms=Ms+Math.imul(so,Oa)|0,Q=Q+Math.imul(so,ba)|0,Q=Q+Math.imul(Qs,Oa)|0,$s=$s+Math.imul(Qs,ba)|0,Ms=Ms+Math.imul(Oo,Ia)|0,Q=Q+Math.imul(Oo,xa)|0,Q=Q+Math.imul(Vo,Ia)|0,$s=$s+Math.imul(Vo,xa)|0,Ms=Ms+Math.imul(jo,Pa)|0,Q=Q+Math.imul(jo,$a)|0,Q=Q+Math.imul(Bo,Pa)|0,$s=$s+Math.imul(Bo,$a)|0;var cu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(cu>>>26)|0,cu&=67108863,Ms=Math.imul(oa,ka),Q=Math.imul(oa,pa),Q=Q+Math.imul(ua,ka)|0,$s=Math.imul(ua,pa),Ms=Ms+Math.imul(Ko,Ba)|0,Q=Q+Math.imul(Ko,wa)|0,Q=Q+Math.imul(Jo,Ba)|0,$s=$s+Math.imul(Jo,wa)|0,Ms=Ms+Math.imul(Zo,Oa)|0,Q=Q+Math.imul(Zo,ba)|0,Q=Q+Math.imul(Qo,Oa)|0,$s=$s+Math.imul(Qo,ba)|0,Ms=Ms+Math.imul(so,Ia)|0,Q=Q+Math.imul(so,xa)|0,Q=Q+Math.imul(Qs,Ia)|0,$s=$s+Math.imul(Qs,xa)|0,Ms=Ms+Math.imul(Oo,Pa)|0,Q=Q+Math.imul(Oo,$a)|0,Q=Q+Math.imul(Vo,Pa)|0,$s=$s+Math.imul(Vo,$a)|0,Ms=Ms+Math.imul(jo,Da)|0,Q=Q+Math.imul(jo,va)|0,Q=Q+Math.imul(Bo,Da)|0,$s=$s+Math.imul(Bo,va)|0;var lu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(lu>>>26)|0,lu&=67108863,Ms=Math.imul(da,ka),Q=Math.imul(da,pa),Q=Q+Math.imul(fa,ka)|0,$s=Math.imul(fa,pa),Ms=Ms+Math.imul(oa,Ba)|0,Q=Q+Math.imul(oa,wa)|0,Q=Q+Math.imul(ua,Ba)|0,$s=$s+Math.imul(ua,wa)|0,Ms=Ms+Math.imul(Ko,Oa)|0,Q=Q+Math.imul(Ko,ba)|0,Q=Q+Math.imul(Jo,Oa)|0,$s=$s+Math.imul(Jo,ba)|0,Ms=Ms+Math.imul(Zo,Ia)|0,Q=Q+Math.imul(Zo,xa)|0,Q=Q+Math.imul(Qo,Ia)|0,$s=$s+Math.imul(Qo,xa)|0,Ms=Ms+Math.imul(so,Pa)|0,Q=Q+Math.imul(so,$a)|0,Q=Q+Math.imul(Qs,Pa)|0,$s=$s+Math.imul(Qs,$a)|0,Ms=Ms+Math.imul(Oo,Da)|0,Q=Q+Math.imul(Oo,va)|0,Q=Q+Math.imul(Vo,Da)|0,$s=$s+Math.imul(Vo,va)|0,Ms=Ms+Math.imul(jo,Ra)|0,Q=Q+Math.imul(jo,ya)|0,Q=Q+Math.imul(Bo,Ra)|0,$s=$s+Math.imul(Bo,ya)|0;var du=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(du>>>26)|0,du&=67108863,Ms=Math.imul(ga,ka),Q=Math.imul(ga,pa),Q=Q+Math.imul(ha,ka)|0,$s=Math.imul(ha,pa),Ms=Ms+Math.imul(da,Ba)|0,Q=Q+Math.imul(da,wa)|0,Q=Q+Math.imul(fa,Ba)|0,$s=$s+Math.imul(fa,wa)|0,Ms=Ms+Math.imul(oa,Oa)|0,Q=Q+Math.imul(oa,ba)|0,Q=Q+Math.imul(ua,Oa)|0,$s=$s+Math.imul(ua,ba)|0,Ms=Ms+Math.imul(Ko,Ia)|0,Q=Q+Math.imul(Ko,xa)|0,Q=Q+Math.imul(Jo,Ia)|0,$s=$s+Math.imul(Jo,xa)|0,Ms=Ms+Math.imul(Zo,Pa)|0,Q=Q+Math.imul(Zo,$a)|0,Q=Q+Math.imul(Qo,Pa)|0,$s=$s+Math.imul(Qo,$a)|0,Ms=Ms+Math.imul(so,Da)|0,Q=Q+Math.imul(so,va)|0,Q=Q+Math.imul(Qs,Da)|0,$s=$s+Math.imul(Qs,va)|0,Ms=Ms+Math.imul(Oo,Ra)|0,Q=Q+Math.imul(Oo,ya)|0,Q=Q+Math.imul(Vo,Ra)|0,$s=$s+Math.imul(Vo,ya)|0,Ms=Ms+Math.imul(jo,Na)|0,Q=Q+Math.imul(jo,Sa)|0,Q=Q+Math.imul(Bo,Na)|0,$s=$s+Math.imul(Bo,Sa)|0;var fu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(fu>>>26)|0,fu&=67108863,Ms=Math.imul(Aa,ka),Q=Math.imul(Aa,pa),Q=Q+Math.imul(_a,ka)|0,$s=Math.imul(_a,pa),Ms=Ms+Math.imul(ga,Ba)|0,Q=Q+Math.imul(ga,wa)|0,Q=Q+Math.imul(ha,Ba)|0,$s=$s+Math.imul(ha,wa)|0,Ms=Ms+Math.imul(da,Oa)|0,Q=Q+Math.imul(da,ba)|0,Q=Q+Math.imul(fa,Oa)|0,$s=$s+Math.imul(fa,ba)|0,Ms=Ms+Math.imul(oa,Ia)|0,Q=Q+Math.imul(oa,xa)|0,Q=Q+Math.imul(ua,Ia)|0,$s=$s+Math.imul(ua,xa)|0,Ms=Ms+Math.imul(Ko,Pa)|0,Q=Q+Math.imul(Ko,$a)|0,Q=Q+Math.imul(Jo,Pa)|0,$s=$s+Math.imul(Jo,$a)|0,Ms=Ms+Math.imul(Zo,Da)|0,Q=Q+Math.imul(Zo,va)|0,Q=Q+Math.imul(Qo,Da)|0,$s=$s+Math.imul(Qo,va)|0,Ms=Ms+Math.imul(so,Ra)|0,Q=Q+Math.imul(so,ya)|0,Q=Q+Math.imul(Qs,Ra)|0,$s=$s+Math.imul(Qs,ya)|0,Ms=Ms+Math.imul(Oo,Na)|0,Q=Q+Math.imul(Oo,Sa)|0,Q=Q+Math.imul(Vo,Na)|0,$s=$s+Math.imul(Vo,Sa)|0,Ms=Ms+Math.imul(jo,Fa)|0,Q=Q+Math.imul(jo,Ea)|0,Q=Q+Math.imul(Bo,Fa)|0,$s=$s+Math.imul(Bo,Ea)|0;var hu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(hu>>>26)|0,hu&=67108863,Ms=Math.imul(Ta,ka),Q=Math.imul(Ta,pa),Q=Q+Math.imul(ma,ka)|0,$s=Math.imul(ma,pa),Ms=Ms+Math.imul(Aa,Ba)|0,Q=Q+Math.imul(Aa,wa)|0,Q=Q+Math.imul(_a,Ba)|0,$s=$s+Math.imul(_a,wa)|0,Ms=Ms+Math.imul(ga,Oa)|0,Q=Q+Math.imul(ga,ba)|0,Q=Q+Math.imul(ha,Oa)|0,$s=$s+Math.imul(ha,ba)|0,Ms=Ms+Math.imul(da,Ia)|0,Q=Q+Math.imul(da,xa)|0,Q=Q+Math.imul(fa,Ia)|0,$s=$s+Math.imul(fa,xa)|0,Ms=Ms+Math.imul(oa,Pa)|0,Q=Q+Math.imul(oa,$a)|0,Q=Q+Math.imul(ua,Pa)|0,$s=$s+Math.imul(ua,$a)|0,Ms=Ms+Math.imul(Ko,Da)|0,Q=Q+Math.imul(Ko,va)|0,Q=Q+Math.imul(Jo,Da)|0,$s=$s+Math.imul(Jo,va)|0,Ms=Ms+Math.imul(Zo,Ra)|0,Q=Q+Math.imul(Zo,ya)|0,Q=Q+Math.imul(Qo,Ra)|0,$s=$s+Math.imul(Qo,ya)|0,Ms=Ms+Math.imul(so,Na)|0,Q=Q+Math.imul(so,Sa)|0,Q=Q+Math.imul(Qs,Na)|0,$s=$s+Math.imul(Qs,Sa)|0,Ms=Ms+Math.imul(Oo,Fa)|0,Q=Q+Math.imul(Oo,Ea)|0,Q=Q+Math.imul(Vo,Fa)|0,$s=$s+Math.imul(Vo,Ea)|0,Ms=Ms+Math.imul(jo,ja)|0,Q=Q+Math.imul(jo,Ca)|0,Q=Q+Math.imul(Bo,ja)|0,$s=$s+Math.imul(Bo,Ca)|0;var pu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(pu>>>26)|0,pu&=67108863,Ms=Math.imul(Ta,Ba),Q=Math.imul(Ta,wa),Q=Q+Math.imul(ma,Ba)|0,$s=Math.imul(ma,wa),Ms=Ms+Math.imul(Aa,Oa)|0,Q=Q+Math.imul(Aa,ba)|0,Q=Q+Math.imul(_a,Oa)|0,$s=$s+Math.imul(_a,ba)|0,Ms=Ms+Math.imul(ga,Ia)|0,Q=Q+Math.imul(ga,xa)|0,Q=Q+Math.imul(ha,Ia)|0,$s=$s+Math.imul(ha,xa)|0,Ms=Ms+Math.imul(da,Pa)|0,Q=Q+Math.imul(da,$a)|0,Q=Q+Math.imul(fa,Pa)|0,$s=$s+Math.imul(fa,$a)|0,Ms=Ms+Math.imul(oa,Da)|0,Q=Q+Math.imul(oa,va)|0,Q=Q+Math.imul(ua,Da)|0,$s=$s+Math.imul(ua,va)|0,Ms=Ms+Math.imul(Ko,Ra)|0,Q=Q+Math.imul(Ko,ya)|0,Q=Q+Math.imul(Jo,Ra)|0,$s=$s+Math.imul(Jo,ya)|0,Ms=Ms+Math.imul(Zo,Na)|0,Q=Q+Math.imul(Zo,Sa)|0,Q=Q+Math.imul(Qo,Na)|0,$s=$s+Math.imul(Qo,Sa)|0,Ms=Ms+Math.imul(so,Fa)|0,Q=Q+Math.imul(so,Ea)|0,Q=Q+Math.imul(Qs,Fa)|0,$s=$s+Math.imul(Qs,Ea)|0,Ms=Ms+Math.imul(Oo,ja)|0,Q=Q+Math.imul(Oo,Ca)|0,Q=Q+Math.imul(Vo,ja)|0,$s=$s+Math.imul(Vo,Ca)|0;var mu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(mu>>>26)|0,mu&=67108863,Ms=Math.imul(Ta,Oa),Q=Math.imul(Ta,ba),Q=Q+Math.imul(ma,Oa)|0,$s=Math.imul(ma,ba),Ms=Ms+Math.imul(Aa,Ia)|0,Q=Q+Math.imul(Aa,xa)|0,Q=Q+Math.imul(_a,Ia)|0,$s=$s+Math.imul(_a,xa)|0,Ms=Ms+Math.imul(ga,Pa)|0,Q=Q+Math.imul(ga,$a)|0,Q=Q+Math.imul(ha,Pa)|0,$s=$s+Math.imul(ha,$a)|0,Ms=Ms+Math.imul(da,Da)|0,Q=Q+Math.imul(da,va)|0,Q=Q+Math.imul(fa,Da)|0,$s=$s+Math.imul(fa,va)|0,Ms=Ms+Math.imul(oa,Ra)|0,Q=Q+Math.imul(oa,ya)|0,Q=Q+Math.imul(ua,Ra)|0,$s=$s+Math.imul(ua,ya)|0,Ms=Ms+Math.imul(Ko,Na)|0,Q=Q+Math.imul(Ko,Sa)|0,Q=Q+Math.imul(Jo,Na)|0,$s=$s+Math.imul(Jo,Sa)|0,Ms=Ms+Math.imul(Zo,Fa)|0,Q=Q+Math.imul(Zo,Ea)|0,Q=Q+Math.imul(Qo,Fa)|0,$s=$s+Math.imul(Qo,Ea)|0,Ms=Ms+Math.imul(so,ja)|0,Q=Q+Math.imul(so,Ca)|0,Q=Q+Math.imul(Qs,ja)|0,$s=$s+Math.imul(Qs,Ca)|0;var gu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(gu>>>26)|0,gu&=67108863,Ms=Math.imul(Ta,Ia),Q=Math.imul(Ta,xa),Q=Q+Math.imul(ma,Ia)|0,$s=Math.imul(ma,xa),Ms=Ms+Math.imul(Aa,Pa)|0,Q=Q+Math.imul(Aa,$a)|0,Q=Q+Math.imul(_a,Pa)|0,$s=$s+Math.imul(_a,$a)|0,Ms=Ms+Math.imul(ga,Da)|0,Q=Q+Math.imul(ga,va)|0,Q=Q+Math.imul(ha,Da)|0,$s=$s+Math.imul(ha,va)|0,Ms=Ms+Math.imul(da,Ra)|0,Q=Q+Math.imul(da,ya)|0,Q=Q+Math.imul(fa,Ra)|0,$s=$s+Math.imul(fa,ya)|0,Ms=Ms+Math.imul(oa,Na)|0,Q=Q+Math.imul(oa,Sa)|0,Q=Q+Math.imul(ua,Na)|0,$s=$s+Math.imul(ua,Sa)|0,Ms=Ms+Math.imul(Ko,Fa)|0,Q=Q+Math.imul(Ko,Ea)|0,Q=Q+Math.imul(Jo,Fa)|0,$s=$s+Math.imul(Jo,Ea)|0,Ms=Ms+Math.imul(Zo,ja)|0,Q=Q+Math.imul(Zo,Ca)|0,Q=Q+Math.imul(Qo,ja)|0,$s=$s+Math.imul(Qo,Ca)|0;var _u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(_u>>>26)|0,_u&=67108863,Ms=Math.imul(Ta,Pa),Q=Math.imul(Ta,$a),Q=Q+Math.imul(ma,Pa)|0,$s=Math.imul(ma,$a),Ms=Ms+Math.imul(Aa,Da)|0,Q=Q+Math.imul(Aa,va)|0,Q=Q+Math.imul(_a,Da)|0,$s=$s+Math.imul(_a,va)|0,Ms=Ms+Math.imul(ga,Ra)|0,Q=Q+Math.imul(ga,ya)|0,Q=Q+Math.imul(ha,Ra)|0,$s=$s+Math.imul(ha,ya)|0,Ms=Ms+Math.imul(da,Na)|0,Q=Q+Math.imul(da,Sa)|0,Q=Q+Math.imul(fa,Na)|0,$s=$s+Math.imul(fa,Sa)|0,Ms=Ms+Math.imul(oa,Fa)|0,Q=Q+Math.imul(oa,Ea)|0,Q=Q+Math.imul(ua,Fa)|0,$s=$s+Math.imul(ua,Ea)|0,Ms=Ms+Math.imul(Ko,ja)|0,Q=Q+Math.imul(Ko,Ca)|0,Q=Q+Math.imul(Jo,ja)|0,$s=$s+Math.imul(Jo,Ca)|0;var bu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(bu>>>26)|0,bu&=67108863,Ms=Math.imul(Ta,Da),Q=Math.imul(Ta,va),Q=Q+Math.imul(ma,Da)|0,$s=Math.imul(ma,va),Ms=Ms+Math.imul(Aa,Ra)|0,Q=Q+Math.imul(Aa,ya)|0,Q=Q+Math.imul(_a,Ra)|0,$s=$s+Math.imul(_a,ya)|0,Ms=Ms+Math.imul(ga,Na)|0,Q=Q+Math.imul(ga,Sa)|0,Q=Q+Math.imul(ha,Na)|0,$s=$s+Math.imul(ha,Sa)|0,Ms=Ms+Math.imul(da,Fa)|0,Q=Q+Math.imul(da,Ea)|0,Q=Q+Math.imul(fa,Fa)|0,$s=$s+Math.imul(fa,Ea)|0,Ms=Ms+Math.imul(oa,ja)|0,Q=Q+Math.imul(oa,Ca)|0,Q=Q+Math.imul(ua,ja)|0,$s=$s+Math.imul(ua,Ca)|0;var vu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(vu>>>26)|0,vu&=67108863,Ms=Math.imul(Ta,Ra),Q=Math.imul(Ta,ya),Q=Q+Math.imul(ma,Ra)|0,$s=Math.imul(ma,ya),Ms=Ms+Math.imul(Aa,Na)|0,Q=Q+Math.imul(Aa,Sa)|0,Q=Q+Math.imul(_a,Na)|0,$s=$s+Math.imul(_a,Sa)|0,Ms=Ms+Math.imul(ga,Fa)|0,Q=Q+Math.imul(ga,Ea)|0,Q=Q+Math.imul(ha,Fa)|0,$s=$s+Math.imul(ha,Ea)|0,Ms=Ms+Math.imul(da,ja)|0,Q=Q+Math.imul(da,Ca)|0,Q=Q+Math.imul(fa,ja)|0,$s=$s+Math.imul(fa,Ca)|0;var yu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(yu>>>26)|0,yu&=67108863,Ms=Math.imul(Ta,Na),Q=Math.imul(Ta,Sa),Q=Q+Math.imul(ma,Na)|0,$s=Math.imul(ma,Sa),Ms=Ms+Math.imul(Aa,Fa)|0,Q=Q+Math.imul(Aa,Ea)|0,Q=Q+Math.imul(_a,Fa)|0,$s=$s+Math.imul(_a,Ea)|0,Ms=Ms+Math.imul(ga,ja)|0,Q=Q+Math.imul(ga,Ca)|0,Q=Q+Math.imul(ha,ja)|0,$s=$s+Math.imul(ha,Ca)|0;var wu=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+(wu>>>26)|0,wu&=67108863,Ms=Math.imul(Ta,Fa),Q=Math.imul(Ta,Ea),Q=Q+Math.imul(ma,Fa)|0,$s=Math.imul(ma,Ea),Ms=Ms+Math.imul(Aa,ja)|0,Q=Q+Math.imul(Aa,Ca)|0,Q=Q+Math.imul(_a,ja)|0,$s=$s+Math.imul(_a,Ca)|0;var $u=(Bs+Ms|0)+((Q&8191)<<13)|0;Bs=($s+(Q>>>13)|0)+($u>>>26)|0,$u&=67108863,Ms=Math.imul(Ta,ja),Q=Math.imul(Ta,Ca),Q=Q+Math.imul(ma,ja)|0,$s=Math.imul(ma,Ca);var Su=(Bs+Ms|0)+((Q&8191)<<13)|0;return Bs=($s+(Q>>>13)|0)+(Su>>>26)|0,Su&=67108863,Ds[0]=nu,Ds[1]=ou,Ds[2]=au,Ds[3]=uu,Ds[4]=cu,Ds[5]=lu,Ds[6]=du,Ds[7]=fu,Ds[8]=hu,Ds[9]=pu,Ds[10]=mu,Ds[11]=gu,Ds[12]=_u,Ds[13]=bu,Ds[14]=vu,Ds[15]=yu,Ds[16]=wu,Ds[17]=$u,Ds[18]=Su,Bs!==0&&(Ds[19]=Bs,nt.length++),nt};Math.imul||(zs=Gs);function Vs(f,Y,nt){nt.negative=Y.negative^f.negative,nt.length=f.length+Y.length;for(var vs=0,ks=0,Ds=0;Ds<nt.length-1;Ds++){var Bs=ks;ks=0;for(var Ms=vs&67108863,Q=Math.min(Ds,Y.length-1),$s=Math.max(0,Ds-f.length+1);$s<=Q;$s++){var Ks=Ds-$s,jo=f.words[Ks]|0,Bo=Y.words[$s]|0,To=jo*Bo,Oo=To&67108863;Bs=Bs+(To/67108864|0)|0,Oo=Oo+Ms|0,Ms=Oo&67108863,Bs=Bs+(Oo>>>26)|0,ks+=Bs>>>26,Bs&=67108863}nt.words[Ds]=Ms,vs=Bs,Bs=ks}return vs!==0?nt.words[Ds]=vs:nt.length--,nt._strip()}function Zs(f,Y,nt){return Vs(f,Y,nt)}l.prototype.mulTo=function(f,Y){var nt,vs=this.length+f.length;return this.length===10&&f.length===10?nt=zs(this,f,Y):vs<63?nt=Gs(this,f,Y):vs<1024?nt=Vs(this,f,Y):nt=Zs(this,f,Y),nt},l.prototype.mul=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),this.mulTo(f,Y)},l.prototype.mulf=function(f){var Y=new l(null);return Y.words=new Array(this.length+f.length),Zs(this,f,Y)},l.prototype.imul=function(f){return this.clone().mulTo(f,this)},l.prototype.imuln=function(f){var Y=f<0;Y&&(f=-f),s(typeof f=="number"),s(f<67108864);for(var nt=0,vs=0;vs<this.length;vs++){var ks=(this.words[vs]|0)*f,Ds=(ks&67108863)+(nt&67108863);nt>>=26,nt+=ks/67108864|0,nt+=Ds>>>26,this.words[vs]=Ds&67108863}return nt!==0&&(this.words[vs]=nt,this.length++),this.length=f===0?1:this.length,Y?this.ineg():this},l.prototype.muln=function(f){return this.clone().imuln(f)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(f){var Y=Ls(f);if(Y.length===0)return new l(1);for(var nt=this,vs=0;vs<Y.length&&Y[vs]===0;vs++,nt=nt.sqr());if(++vs<Y.length)for(var ks=nt.sqr();vs<Y.length;vs++,ks=ks.sqr())Y[vs]!==0&&(nt=nt.mul(ks));return nt},l.prototype.iushln=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=67108863>>>26-Y<<26-Y,ks;if(Y!==0){var Ds=0;for(ks=0;ks<this.length;ks++){var Bs=this.words[ks]&vs,Ms=(this.words[ks]|0)-Bs<<Y;this.words[ks]=Ms|Ds,Ds=Bs>>>26-Y}Ds&&(this.words[ks]=Ds,this.length++)}if(nt!==0){for(ks=this.length-1;ks>=0;ks--)this.words[ks+nt]=this.words[ks];for(ks=0;ks<nt;ks++)this.words[ks]=0;this.length+=nt}return this._strip()},l.prototype.ishln=function(f){return s(this.negative===0),this.iushln(f)},l.prototype.iushrn=function(f,Y,nt){s(typeof f=="number"&&f>=0);var vs;Y?vs=(Y-Y%26)/26:vs=0;var ks=f%26,Ds=Math.min((f-ks)/26,this.length),Bs=67108863^67108863>>>ks<<ks,Ms=nt;if(vs-=Ds,vs=Math.max(0,vs),Ms){for(var Q=0;Q<Ds;Q++)Ms.words[Q]=this.words[Q];Ms.length=Ds}if(Ds!==0)if(this.length>Ds)for(this.length-=Ds,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Ds];else this.words[0]=0,this.length=1;var $s=0;for(Q=this.length-1;Q>=0&&($s!==0||Q>=vs);Q--){var Ks=this.words[Q]|0;this.words[Q]=$s<<26-ks|Ks>>>ks,$s=Ks&Bs}return Ms&&$s!==0&&(Ms.words[Ms.length++]=$s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(f,Y,nt){return s(this.negative===0),this.iushrn(f,Y,nt)},l.prototype.shln=function(f){return this.clone().ishln(f)},l.prototype.ushln=function(f){return this.clone().iushln(f)},l.prototype.shrn=function(f){return this.clone().ishrn(f)},l.prototype.ushrn=function(f){return this.clone().iushrn(f)},l.prototype.testn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return!1;var ks=this.words[nt];return!!(ks&vs)},l.prototype.imaskn=function(f){s(typeof f=="number"&&f>=0);var Y=f%26,nt=(f-Y)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=nt)return this;if(Y!==0&&nt++,this.length=Math.min(nt,this.length),Y!==0){var vs=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=vs}return this._strip()},l.prototype.maskn=function(f){return this.clone().imaskn(f)},l.prototype.iaddn=function(f){return s(typeof f=="number"),s(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},l.prototype._iaddn=function(f){this.words[0]+=f;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},l.prototype.isubn=function(f){if(s(typeof f=="number"),s(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},l.prototype.addn=function(f){return this.clone().iaddn(f)},l.prototype.subn=function(f){return this.clone().isubn(f)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(f,Y,nt){var vs=f.length+nt,ks;this._expand(vs);var Ds,Bs=0;for(ks=0;ks<f.length;ks++){Ds=(this.words[ks+nt]|0)+Bs;var Ms=(f.words[ks]|0)*Y;Ds-=Ms&67108863,Bs=(Ds>>26)-(Ms/67108864|0),this.words[ks+nt]=Ds&67108863}for(;ks<this.length-nt;ks++)Ds=(this.words[ks+nt]|0)+Bs,Bs=Ds>>26,this.words[ks+nt]=Ds&67108863;if(Bs===0)return this._strip();for(s(Bs===-1),Bs=0,ks=0;ks<this.length;ks++)Ds=-(this.words[ks]|0)+Bs,Bs=Ds>>26,this.words[ks]=Ds&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(f,Y){var nt=this.length-f.length,vs=this.clone(),ks=f,Ds=ks.words[ks.length-1]|0,Bs=this._countBits(Ds);nt=26-Bs,nt!==0&&(ks=ks.ushln(nt),vs.iushln(nt),Ds=ks.words[ks.length-1]|0);var Ms=vs.length-ks.length,Q;if(Y!=="mod"){Q=new l(null),Q.length=Ms+1,Q.words=new Array(Q.length);for(var $s=0;$s<Q.length;$s++)Q.words[$s]=0}var Ks=vs.clone()._ishlnsubmul(ks,1,Ms);Ks.negative===0&&(vs=Ks,Q&&(Q.words[Ms]=1));for(var jo=Ms-1;jo>=0;jo--){var Bo=(vs.words[ks.length+jo]|0)*67108864+(vs.words[ks.length+jo-1]|0);for(Bo=Math.min(Bo/Ds|0,67108863),vs._ishlnsubmul(ks,Bo,jo);vs.negative!==0;)Bo--,vs.negative=0,vs._ishlnsubmul(ks,1,jo),vs.isZero()||(vs.negative^=1);Q&&(Q.words[jo]=Bo)}return Q&&Q._strip(),vs._strip(),Y!=="div"&&nt!==0&&vs.iushrn(nt),{div:Q||null,mod:vs}},l.prototype.divmod=function(f,Y,nt){if(s(!f.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var vs,ks,Ds;return this.negative!==0&&f.negative===0?(Ds=this.neg().divmod(f,Y),Y!=="mod"&&(vs=Ds.div.neg()),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.iadd(f)),{div:vs,mod:ks}):this.negative===0&&f.negative!==0?(Ds=this.divmod(f.neg(),Y),Y!=="mod"&&(vs=Ds.div.neg()),{div:vs,mod:Ds.mod}):this.negative&f.negative?(Ds=this.neg().divmod(f.neg(),Y),Y!=="div"&&(ks=Ds.mod.neg(),nt&&ks.negative!==0&&ks.isub(f)),{div:Ds.div,mod:ks}):f.length>this.length||this.cmp(f)<0?{div:new l(0),mod:this}:f.length===1?Y==="div"?{div:this.divn(f.words[0]),mod:null}:Y==="mod"?{div:null,mod:new l(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new l(this.modrn(f.words[0]))}:this._wordDiv(f,Y)},l.prototype.div=function(f){return this.divmod(f,"div",!1).div},l.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},l.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},l.prototype.divRound=function(f){var Y=this.divmod(f);if(Y.mod.isZero())return Y.div;var nt=Y.div.negative!==0?Y.mod.isub(f):Y.mod,vs=f.ushrn(1),ks=f.andln(1),Ds=nt.cmp(vs);return Ds<0||ks===1&&Ds===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},l.prototype.modrn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=(1<<26)%f,vs=0,ks=this.length-1;ks>=0;ks--)vs=(nt*vs+(this.words[ks]|0))%f;return Y?-vs:vs},l.prototype.modn=function(f){return this.modrn(f)},l.prototype.idivn=function(f){var Y=f<0;Y&&(f=-f),s(f<=67108863);for(var nt=0,vs=this.length-1;vs>=0;vs--){var ks=(this.words[vs]|0)+nt*67108864;this.words[vs]=ks/f|0,nt=ks%f}return this._strip(),Y?this.ineg():this},l.prototype.divn=function(f){return this.clone().idivn(f)},l.prototype.egcd=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=new l(0),Bs=new l(1),Ms=0;Y.isEven()&&nt.isEven();)Y.iushrn(1),nt.iushrn(1),++Ms;for(var Q=nt.clone(),$s=Y.clone();!Y.isZero();){for(var Ks=0,jo=1;!(Y.words[0]&jo)&&Ks<26;++Ks,jo<<=1);if(Ks>0)for(Y.iushrn(Ks);Ks-- >0;)(vs.isOdd()||ks.isOdd())&&(vs.iadd(Q),ks.isub($s)),vs.iushrn(1),ks.iushrn(1);for(var Bo=0,To=1;!(nt.words[0]&To)&&Bo<26;++Bo,To<<=1);if(Bo>0)for(nt.iushrn(Bo);Bo-- >0;)(Ds.isOdd()||Bs.isOdd())&&(Ds.iadd(Q),Bs.isub($s)),Ds.iushrn(1),Bs.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(Ds),ks.isub(Bs)):(nt.isub(Y),Ds.isub(vs),Bs.isub(ks))}return{a:Ds,b:Bs,gcd:nt.iushln(Ms)}},l.prototype._invmp=function(f){s(f.negative===0),s(!f.isZero());var Y=this,nt=f.clone();Y.negative!==0?Y=Y.umod(f):Y=Y.clone();for(var vs=new l(1),ks=new l(0),Ds=nt.clone();Y.cmpn(1)>0&&nt.cmpn(1)>0;){for(var Bs=0,Ms=1;!(Y.words[0]&Ms)&&Bs<26;++Bs,Ms<<=1);if(Bs>0)for(Y.iushrn(Bs);Bs-- >0;)vs.isOdd()&&vs.iadd(Ds),vs.iushrn(1);for(var Q=0,$s=1;!(nt.words[0]&$s)&&Q<26;++Q,$s<<=1);if(Q>0)for(nt.iushrn(Q);Q-- >0;)ks.isOdd()&&ks.iadd(Ds),ks.iushrn(1);Y.cmp(nt)>=0?(Y.isub(nt),vs.isub(ks)):(nt.isub(Y),ks.isub(vs))}var Ks;return Y.cmpn(1)===0?Ks=vs:Ks=ks,Ks.cmpn(0)<0&&Ks.iadd(f),Ks},l.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var Y=this.clone(),nt=f.clone();Y.negative=0,nt.negative=0;for(var vs=0;Y.isEven()&&nt.isEven();vs++)Y.iushrn(1),nt.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;nt.isEven();)nt.iushrn(1);var ks=Y.cmp(nt);if(ks<0){var Ds=Y;Y=nt,nt=Ds}else if(ks===0||nt.cmpn(1)===0)break;Y.isub(nt)}while(!0);return nt.iushln(vs)},l.prototype.invm=function(f){return this.egcd(f).a.umod(f)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(f){return this.words[0]&f},l.prototype.bincn=function(f){s(typeof f=="number");var Y=f%26,nt=(f-Y)/26,vs=1<<Y;if(this.length<=nt)return this._expand(nt+1),this.words[nt]|=vs,this;for(var ks=vs,Ds=nt;ks!==0&&Ds<this.length;Ds++){var Bs=this.words[Ds]|0;Bs+=ks,ks=Bs>>>26,Bs&=67108863,this.words[Ds]=Bs}return ks!==0&&(this.words[Ds]=ks,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(f){var Y=f<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var nt;if(this.length>1)nt=1;else{Y&&(f=-f),s(f<=67108863,"Number is too big");var vs=this.words[0]|0;nt=vs===f?0:vs<f?-1:1}return this.negative!==0?-nt|0:nt},l.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var Y=this.ucmp(f);return this.negative!==0?-Y|0:Y},l.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var Y=0,nt=this.length-1;nt>=0;nt--){var vs=this.words[nt]|0,ks=f.words[nt]|0;if(vs!==ks){vs<ks?Y=-1:vs>ks&&(Y=1);break}}return Y},l.prototype.gtn=function(f){return this.cmpn(f)===1},l.prototype.gt=function(f){return this.cmp(f)===1},l.prototype.gten=function(f){return this.cmpn(f)>=0},l.prototype.gte=function(f){return this.cmp(f)>=0},l.prototype.ltn=function(f){return this.cmpn(f)===-1},l.prototype.lt=function(f){return this.cmp(f)===-1},l.prototype.lten=function(f){return this.cmpn(f)<=0},l.prototype.lte=function(f){return this.cmp(f)<=0},l.prototype.eqn=function(f){return this.cmpn(f)===0},l.prototype.eq=function(f){return this.cmp(f)===0},l.red=function(f){return new Hs(f)},l.prototype.toRed=function(f){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(f){return this.red=f,this},l.prototype.forceRed=function(f){return s(!this.red,"Already a number in reduction context"),this._forceRed(f)},l.prototype.redAdd=function(f){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},l.prototype.redIAdd=function(f){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},l.prototype.redSub=function(f){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},l.prototype.redISub=function(f){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},l.prototype.redShl=function(f){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},l.prototype.redMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},l.prototype.redIMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(f){return s(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var Js={k256:null,p224:null,p192:null,p25519:null};function xo(f,Y){this.name=f,this.p=new l(Y,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xo.prototype._tmp=function(){var f=new l(null);return f.words=new Array(Math.ceil(this.n/13)),f},xo.prototype.ireduce=function(f){var Y=f,nt;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),nt=Y.bitLength();while(nt>this.n);var vs=nt<this.n?-1:Y.ucmp(this.p);return vs===0?(Y.words[0]=0,Y.length=1):vs>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},xo.prototype.split=function(f,Y){f.iushrn(this.n,0,Y)},xo.prototype.imulK=function(f){return f.imul(this.k)};function Io(){xo.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Io,xo),Io.prototype.split=function(f,Y){for(var nt=4194303,vs=Math.min(f.length,9),ks=0;ks<vs;ks++)Y.words[ks]=f.words[ks];if(Y.length=vs,f.length<=9){f.words[0]=0,f.length=1;return}var Ds=f.words[9];for(Y.words[Y.length++]=Ds&nt,ks=10;ks<f.length;ks++){var Bs=f.words[ks]|0;f.words[ks-10]=(Bs&nt)<<4|Ds>>>22,Ds=Bs}Ds>>>=22,f.words[ks-10]=Ds,Ds===0&&f.length>10?f.length-=10:f.length-=9},Io.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var Y=0,nt=0;nt<f.length;nt++){var vs=f.words[nt]|0;Y+=vs*977,f.words[nt]=Y&67108863,Y=vs*64+(Y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Uo(){xo.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Uo,xo);function Fo(){xo.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Fo,xo);function Ys(){xo.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ys,xo),Ys.prototype.imulK=function(f){for(var Y=0,nt=0;nt<f.length;nt++){var vs=(f.words[nt]|0)*19+Y,ks=vs&67108863;vs>>>=26,f.words[nt]=ks,Y=vs}return Y!==0&&(f.words[f.length++]=Y),f},l._prime=function(f){if(Js[f])return Js[f];var Y;if(f==="k256")Y=new Io;else if(f==="p224")Y=new Uo;else if(f==="p192")Y=new Fo;else if(f==="p25519")Y=new Ys;else throw new Error("Unknown prime "+f);return Js[f]=Y,Y};function Hs(f){if(typeof f=="string"){var Y=l._prime(f);this.m=Y.p,this.prime=Y}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}Hs.prototype._verify1=function(f){s(f.negative===0,"red works only with positives"),s(f.red,"red works only with red numbers")},Hs.prototype._verify2=function(f,Y){s((f.negative|Y.negative)===0,"red works only with positives"),s(f.red&&f.red===Y.red,"red works only with red numbers")},Hs.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(xi(f,f.umod(this.m)._forceRed(this)),f)},Hs.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Hs.prototype.add=function(f,Y){this._verify2(f,Y);var nt=f.add(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt._forceRed(this)},Hs.prototype.iadd=function(f,Y){this._verify2(f,Y);var nt=f.iadd(Y);return nt.cmp(this.m)>=0&&nt.isub(this.m),nt},Hs.prototype.sub=function(f,Y){this._verify2(f,Y);var nt=f.sub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt._forceRed(this)},Hs.prototype.isub=function(f,Y){this._verify2(f,Y);var nt=f.isub(Y);return nt.cmpn(0)<0&&nt.iadd(this.m),nt},Hs.prototype.shl=function(f,Y){return this._verify1(f),this.imod(f.ushln(Y))},Hs.prototype.imul=function(f,Y){return this._verify2(f,Y),this.imod(f.imul(Y))},Hs.prototype.mul=function(f,Y){return this._verify2(f,Y),this.imod(f.mul(Y))},Hs.prototype.isqr=function(f){return this.imul(f,f.clone())},Hs.prototype.sqr=function(f){return this.mul(f,f)},Hs.prototype.sqrt=function(f){if(f.isZero())return f.clone();var Y=this.m.andln(3);if(s(Y%2===1),Y===3){var nt=this.m.add(new l(1)).iushrn(2);return this.pow(f,nt)}for(var vs=this.m.subn(1),ks=0;!vs.isZero()&&vs.andln(1)===0;)ks++,vs.iushrn(1);s(!vs.isZero());var Ds=new l(1).toRed(this),Bs=Ds.redNeg(),Ms=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,Ms).cmp(Bs)!==0;)Q.redIAdd(Bs);for(var $s=this.pow(Q,vs),Ks=this.pow(f,vs.addn(1).iushrn(1)),jo=this.pow(f,vs),Bo=ks;jo.cmp(Ds)!==0;){for(var To=jo,Oo=0;To.cmp(Ds)!==0;Oo++)To=To.redSqr();s(Oo<Bo);var Vo=this.pow($s,new l(1).iushln(Bo-Oo-1));Ks=Ks.redMul(Vo),$s=Vo.redSqr(),jo=jo.redMul($s),Bo=Oo}return Ks},Hs.prototype.invm=function(f){var Y=f._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},Hs.prototype.pow=function(f,Y){if(Y.isZero())return new l(1).toRed(this);if(Y.cmpn(1)===0)return f.clone();var nt=4,vs=new Array(1<<nt);vs[0]=new l(1).toRed(this),vs[1]=f;for(var ks=2;ks<vs.length;ks++)vs[ks]=this.mul(vs[ks-1],f);var Ds=vs[0],Bs=0,Ms=0,Q=Y.bitLength()%26;for(Q===0&&(Q=26),ks=Y.length-1;ks>=0;ks--){for(var $s=Y.words[ks],Ks=Q-1;Ks>=0;Ks--){var jo=$s>>Ks&1;if(Ds!==vs[0]&&(Ds=this.sqr(Ds)),jo===0&&Bs===0){Ms=0;continue}Bs<<=1,Bs|=jo,Ms++,!(Ms!==nt&&(ks!==0||Ks!==0))&&(Ds=this.mul(Ds,vs[Bs]),Ms=0,Bs=0)}Q=26}return Ds},Hs.prototype.convertTo=function(f){var Y=f.umod(this.m);return Y===f?Y.clone():Y},Hs.prototype.convertFrom=function(f){var Y=f.clone();return Y.red=null,Y},l.mont=function(f){return new Ws(f)};function Ws(f){Hs.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ws,Hs),Ws.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Ws.prototype.convertFrom=function(f){var Y=this.imod(f.mul(this.rinv));return Y.red=null,Y},Ws.prototype.imul=function(f,Y){if(f.isZero()||Y.isZero())return f.words[0]=0,f.length=1,f;var nt=f.imul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.mul=function(f,Y){if(f.isZero()||Y.isZero())return new l(0)._forceRed(this);var nt=f.mul(Y),vs=nt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ks=nt.isub(vs).iushrn(this.shift),Ds=ks;return ks.cmp(this.m)>=0?Ds=ks.isub(this.m):ks.cmpn(0)<0&&(Ds=ks.iadd(this.m)),Ds._forceRed(this)},Ws.prototype.invm=function(f){var Y=this.imod(f._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(typeof e>"u"||e,t)}),ui={REQUEST_PARAMS:"requestParams",METHOD_NAME:"methodName"},Zc,Xn=(Zc=class extends Error{constructor(e,i,n){super(e),this.code=i,this.details=n,this.name=this.constructor.name}toJSON(){return{name:this.name,message:this.message,code:this.code,details:this.details}}toString(){return JSON.stringify(this.toJSON())}static isErrorCode(e,i){return e instanceof Zc&&e.code===i}},Zc.DETAILS_KEYS=ui,Zc),Hn=class extends Xn{constructor(t,e,i){super(t,e||"UnknownError",i)}static isCommonErrorCode(t,e){return this.isErrorCode(t,e)}},Wt=(t,e,i)=>{throw new Hn(e,t,i)},ce="0x0000000000000000000000000000000000000000000000000000000000000006";getFullnodeUrl("mainnet");getFullnodeUrl("testnet");var tn=864e5,ge=9e15,de=1e9,li="0123456789abcdef",Ie="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Be="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ci={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:ge,crypto:!1},en,ie,L=!0,De="[DecimalError] ",le=De+"Invalid argument: ",nn=De+"Precision limit exceeded",rn=De+"crypto unavailable",on="[object Decimal]",$t=Math.floor,Rt=Math.pow,Wn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,zn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Gn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,sn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gt=1e7,D=7,Yn=9007199254740991,Jn=Ie.length-1,di=Be.length-1,S={toStringTag:on};S.absoluteValue=S.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),I(t)};S.ceil=function(){return I(new this.constructor(this),this.e+1,2)};S.clampedTo=S.clamp=function(t,e){var i,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(le+e);return i=n.cmp(t),i<0?t:n.cmp(e)>0?e:new s(n)};S.comparedTo=S.cmp=function(t){var e,i,n,s,a=this,l=a.d,A=(t=new a.constructor(t)).d,T=a.s,q=t.s;if(!l||!A)return!T||!q?NaN:T!==q?T:l===A?0:!l^T<0?1:-1;if(!l[0]||!A[0])return l[0]?T:A[0]?-q:0;if(T!==q)return T;if(a.e!==t.e)return a.e>t.e^T<0?1:-1;for(n=l.length,s=A.length,e=0,i=n<s?n:s;e<i;++e)if(l[e]!==A[e])return l[e]>A[e]^T<0?1:-1;return n===s?0:n>s^T<0?1:-1};S.cosine=S.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+D,n.rounding=1,i=Qn(n,dn(n,i)),n.precision=t,n.rounding=e,I(ie==2||ie==3?i.neg():i,t,e,!0)):new n(1):new n(NaN)};S.cubeRoot=S.cbrt=function(){var t,e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor;if(!et.isFinite()||et.isZero())return new xi(et);for(L=!1,a=et.s*Rt(et.s*et,1/3),!a||Math.abs(a)==1/0?(i=Lt(et.d),t=et.e,(a=(t-i.length+1)%3)&&(i+=a==1||a==-2?"0":"00"),a=Rt(i,1/3),t=$t((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?i="5e"+t:(i=a.toExponential(),i=i.slice(0,i.indexOf("e")+1)+t),n=new xi(i),n.s=et.s):n=new xi(a.toString()),l=(t=xi.precision)+3;;)if(A=n,T=A.times(A).times(A),q=T.plus(et),n=H(q.plus(et).times(A),q.plus(T),l+2,1),Lt(A.d).slice(0,l)===(i=Lt(n.d)).slice(0,l))if(i=i.slice(l-3,l+1),i=="9999"||!s&&i=="4999"){if(!s&&(I(A,t+1,0),A.times(A).times(A).eq(et))){n=A;break}l+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(I(n,t+1,1),e=!n.times(n).times(n).eq(et));break}return L=!0,I(n,t,xi.rounding,e)};S.decimalPlaces=S.dp=function(){var t,e=this.d,i=NaN;if(e){if(t=e.length-1,i=(t-$t(this.e/D))*D,t=e[t],t)for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i};S.dividedBy=S.div=function(t){return H(this,new this.constructor(t))};S.dividedToIntegerBy=S.divToInt=function(t){var e=this,i=e.constructor;return I(H(e,new i(t),0,1,1),i.precision,i.rounding)};S.equals=S.eq=function(t){return this.cmp(t)===0};S.floor=function(){return I(new this.constructor(this),this.e+1,3)};S.greaterThan=S.gt=function(t){return this.cmp(t)>0};S.greaterThanOrEqualTo=S.gte=function(t){var e=this.cmp(t);return e==1||e===0};S.hyperbolicCosine=S.cosh=function(){var t,e,i,n,s,a=this,l=a.constructor,A=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return A;i=l.precision,n=l.rounding,l.precision=i+Math.max(a.e,a.sd())+4,l.rounding=1,s=a.d.length,s<32?(t=Math.ceil(s/3),e=(1/Re(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=_e(l,1,a.times(e),new l(1),!0);for(var T,q=t,et=new l(8);q--;)T=a.times(a),a=A.minus(T.times(et.minus(T.times(et))));return I(a,l.precision=i,l.rounding=n,!0)};S.hyperbolicSine=S.sinh=function(){var t,e,i,n,s=this,a=s.constructor;if(!s.isFinite()||s.isZero())return new a(s);if(e=a.precision,i=a.rounding,a.precision=e+Math.max(s.e,s.sd())+4,a.rounding=1,n=s.d.length,n<3)s=_e(a,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/Re(5,t)),s=_e(a,2,s,s,!0);for(var l,A=new a(5),T=new a(16),q=new a(20);t--;)l=s.times(s),s=s.times(A.plus(l.times(T.times(l).plus(q))))}return a.precision=e,a.rounding=i,I(s,e,i,!0)};S.hyperbolicTangent=S.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,H(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)};S.inverseCosine=S.acos=function(){var t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,s=e.rounding;return i!==-1?i===0?t.isNeg()?Qt(e,n,s):new e(0):new e(NaN):t.isZero()?Qt(e,n+4,s).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=s,t.times(2))};S.inverseHyperbolicCosine=S.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,L=!1,i=i.times(i).minus(1).sqrt().plus(i),L=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)};S.inverseHyperbolicSine=S.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,L=!1,i=i.times(i).plus(1).sqrt().plus(i),L=!0,n.precision=t,n.rounding=e,i.ln())};S.inverseHyperbolicTangent=S.atanh=function(){var t,e,i,n,s=this,a=s.constructor;return s.isFinite()?s.e>=0?new a(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=a.precision,e=a.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?I(new a(s),t,e,!0):(a.precision=i=n-s.e,s=H(s.plus(1),new a(1).minus(s),i+t,1),a.precision=t+4,a.rounding=1,s=s.ln(),a.precision=t,a.rounding=e,s.times(.5))):new a(NaN)};S.inverseSine=S.asin=function(){var t,e,i,n,s=this,a=s.constructor;return s.isZero()?new a(s):(e=s.abs().cmp(1),i=a.precision,n=a.rounding,e!==-1?e===0?(t=Qt(a,i+4,n).times(.5),t.s=s.s,t):new a(NaN):(a.precision=i+6,a.rounding=1,s=s.div(new a(1).minus(s.times(s)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,s.times(2)))};S.inverseTangent=S.atan=function(){var t,e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding;if(q.isFinite()){if(q.isZero())return new et(q);if(q.abs().eq(1)&&xi+4<=di)return l=Qt(et,xi+4,Oi).times(.25),l.s=q.s,l}else{if(!q.s)return new et(NaN);if(xi+4<=di)return l=Qt(et,xi+4,Oi).times(.5),l.s=q.s,l}for(et.precision=A=xi+10,et.rounding=1,i=Math.min(28,A/D+2|0),t=i;t;--t)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(L=!1,e=Math.ceil(A/D),n=1,T=q.times(q),l=new et(q),s=q;t!==-1;)if(s=s.times(T),a=l.minus(s.div(n+=2)),s=s.times(T),l=a.plus(s.div(n+=2)),l.d[e]!==void 0)for(t=e;l.d[t]===a.d[t]&&t--;);return i&&(l=l.times(2<<i-1)),L=!0,I(l,et.precision=xi,et.rounding=Oi,!0)};S.isFinite=function(){return!!this.d};S.isInteger=S.isInt=function(){return!!this.d&&$t(this.e/D)>this.d.length-2};S.isNaN=function(){return!this.s};S.isNegative=S.isNeg=function(){return this.s<0};S.isPositive=S.isPos=function(){return this.s>0};S.isZero=function(){return!!this.d&&this.d[0]===0};S.lessThan=S.lt=function(t){return this.cmp(t)<0};S.lessThanOrEqualTo=S.lte=function(t){return this.cmp(t)<1};S.logarithm=S.log=function(t){var e,i,n,s,a,l,A,T,q=this,et=q.constructor,xi=et.precision,Oi=et.rounding,Ts=5;if(t==null)t=new et(10),e=!0;else{if(t=new et(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new et(NaN);e=t.eq(10)}if(i=q.d,q.s<0||!i||!i[0]||q.eq(1))return new et(i&&!i[0]?-1/0:q.s!=1?NaN:i?0:1/0);if(e)if(i.length>1)a=!0;else{for(s=i[0];s%10===0;)s/=10;a=s!==1}if(L=!1,A=xi+Ts,l=se(q,A),n=e?Ne(et,A+10):se(t,A),T=H(l,n,A,1),ye(T.d,s=xi,Oi))do if(A+=10,l=se(q,A),n=e?Ne(et,A+10):se(t,A),T=H(l,n,A,1),!a){+Lt(T.d).slice(s+1,s+15)+1==1e14&&(T=I(T,xi+1,0));break}while(ye(T.d,s+=10,Oi));return L=!0,I(T,xi,Oi)};S.minus=S.sub=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.constructor;if(t=new Fs(t),!Ts.d||!t.d)return!Ts.s||!t.s?t=new Fs(NaN):Ts.d?t.s=-t.s:t=new Fs(t.d||Ts.s!==t.s?Ts:NaN),t;if(Ts.s!=t.s)return t.s=-t.s,Ts.plus(t);if(q=Ts.d,Oi=t.d,A=Fs.precision,T=Fs.rounding,!q[0]||!Oi[0]){if(Oi[0])t.s=-t.s;else if(q[0])t=new Fs(Ts);else return new Fs(T===3?-0:0);return L?I(t,A,T):t}if(i=$t(t.e/D),et=$t(Ts.e/D),q=q.slice(),a=et-i,a){for(xi=a<0,xi?(e=q,a=-a,l=Oi.length):(e=Oi,i=et,l=q.length),n=Math.max(Math.ceil(A/D),l)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=q.length,l=Oi.length,xi=n<l,xi&&(l=n),n=0;n<l;n++)if(q[n]!=Oi[n]){xi=q[n]<Oi[n];break}a=0}for(xi&&(e=q,q=Oi,Oi=e,t.s=-t.s),l=q.length,n=Oi.length-l;n>0;--n)q[l++]=0;for(n=Oi.length;n>a;){if(q[--n]<Oi[n]){for(s=n;s&&q[--s]===0;)q[s]=Gt-1;--q[s],q[n]+=Gt}q[n]-=Oi[n]}for(;q[--l]===0;)q.pop();for(;q[0]===0;q.shift())--i;return q[0]?(t.d=q,t.e=qe(q,i),L?I(t,A,T):t):new Fs(T===3?-0:0)};S.modulo=S.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?I(new n(i),n.precision,n.rounding):(L=!1,n.modulo==9?(e=H(i,t.abs(),0,3,1),e.s*=t.s):e=H(i,t,0,n.modulo,1),e=e.times(t),L=!0,i.minus(e))};S.naturalExponential=S.exp=function(){return hi(this)};S.naturalLogarithm=S.ln=function(){return se(this)};S.negated=S.neg=function(){var t=new this.constructor(this);return t.s=-t.s,I(t)};S.plus=S.add=function(t){var e,i,n,s,a,l,A,T,q,et,xi=this,Oi=xi.constructor;if(t=new Oi(t),!xi.d||!t.d)return!xi.s||!t.s?t=new Oi(NaN):xi.d||(t=new Oi(t.d||xi.s===t.s?xi:NaN)),t;if(xi.s!=t.s)return t.s=-t.s,xi.minus(t);if(q=xi.d,et=t.d,A=Oi.precision,T=Oi.rounding,!q[0]||!et[0])return et[0]||(t=new Oi(xi)),L?I(t,A,T):t;if(a=$t(xi.e/D),n=$t(t.e/D),q=q.slice(),s=a-n,s){for(s<0?(i=q,s=-s,l=et.length):(i=et,n=a,l=q.length),a=Math.ceil(A/D),l=a>l?a+1:l+1,s>l&&(s=l,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(l=q.length,s=et.length,l-s<0&&(s=l,i=et,et=q,q=i),e=0;s;)e=(q[--s]=q[s]+et[s]+e)/Gt|0,q[s]%=Gt;for(e&&(q.unshift(e),++n),l=q.length;q[--l]==0;)q.pop();return t.d=q,t.e=qe(q,n),L?I(t,A,T):t};S.precision=S.sd=function(t){var e,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(le+t);return i.d?(e=an(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e};S.round=function(){var t=this,e=t.constructor;return I(new e(t),t.e+1,e.rounding)};S.sine=S.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+D,n.rounding=1,i=er(n,dn(n,i)),n.precision=t,n.rounding=e,I(ie>2?i.neg():i,t,e,!0)):new n(NaN)};S.squareRoot=S.sqrt=function(){var t,e,i,n,s,a,l=this,A=l.d,T=l.e,q=l.s,et=l.constructor;if(q!==1||!A||!A[0])return new et(!q||q<0&&(!A||A[0])?NaN:A?l:1/0);for(L=!1,q=Math.sqrt(+l),q==0||q==1/0?(e=Lt(A),(e.length+T)%2==0&&(e+="0"),q=Math.sqrt(e),T=$t((T+1)/2)-(T<0||T%2),q==1/0?e="5e"+T:(e=q.toExponential(),e=e.slice(0,e.indexOf("e")+1)+T),n=new et(e)):n=new et(q.toString()),i=(T=et.precision)+3;;)if(a=n,n=a.plus(H(l,a,i+2,1)).times(.5),Lt(a.d).slice(0,i)===(e=Lt(n.d)).slice(0,i))if(e=e.slice(i-3,i+1),e=="9999"||!s&&e=="4999"){if(!s&&(I(a,T+1,0),a.times(a).eq(l))){n=a;break}i+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(I(n,T+1,1),t=!n.times(n).eq(l));break}return L=!0,I(n,T,et.rounding,t)};S.tangent=S.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,i=i.sin(),i.s=1,i=H(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,I(ie==2||ie==4?i.neg():i,t,e,!0)):new n(NaN)};S.times=S.mul=function(t){var e,i,n,s,a,l,A,T,q,et=this,xi=et.constructor,Oi=et.d,Ts=(t=new xi(t)).d;if(t.s*=et.s,!Oi||!Oi[0]||!Ts||!Ts[0])return new xi(!t.s||Oi&&!Oi[0]&&!Ts||Ts&&!Ts[0]&&!Oi?NaN:!Oi||!Ts?t.s/0:t.s*0);for(i=$t(et.e/D)+$t(t.e/D),T=Oi.length,q=Ts.length,T<q&&(a=Oi,Oi=Ts,Ts=a,l=T,T=q,q=l),a=[],l=T+q,n=l;n--;)a.push(0);for(n=q;--n>=0;){for(e=0,s=T+n;s>n;)A=a[s]+Ts[n]*Oi[s-n-1]+e,a[s--]=A%Gt|0,e=A/Gt|0;a[s]=(a[s]+e)%Gt|0}for(;!a[--l];)a.pop();return e?++i:a.shift(),t.d=a,t.e=qe(a,i),L?I(t,xi.precision,xi.rounding):t};S.toBinary=function(t,e){return mi(this,2,t,e)};S.toDecimalPlaces=S.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),t===void 0?i:(Xt(t,0,de),e===void 0?e=n.rounding:Xt(e,0,8),I(i,t+i.e+1,e))};S.toExponential=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=te(n,!0):(Xt(t,0,de),e===void 0?e=s.rounding:Xt(e,0,8),n=I(new s(n),t+1,e),i=te(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i};S.toFixed=function(t,e){var i,n,s=this,a=s.constructor;return t===void 0?i=te(s):(Xt(t,0,de),e===void 0?e=a.rounding:Xt(e,0,8),n=I(new a(s),t+s.e+1,e),i=te(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+i:i};S.toFraction=function(t){var e,i,n,s,a,l,A,T,q,et,xi,Oi,Ts=this,Fs=Ts.d,qs=Ts.constructor;if(!Fs)return new qs(Ts);if(q=i=new qs(1),n=T=new qs(0),e=new qs(n),a=e.e=an(Fs)-Ts.e-1,l=a%D,e.d[0]=Rt(10,l<0?D+l:l),t==null)t=a>0?e:q;else{if(A=new qs(t),!A.isInt()||A.lt(q))throw Error(le+A);t=A.gt(e)?a>0?e:q:A}for(L=!1,A=new qs(Lt(Fs)),et=qs.precision,qs.precision=a=Fs.length*D*2;xi=H(A,e,0,1,1),s=i.plus(xi.times(n)),s.cmp(t)!=1;)i=n,n=s,s=q,q=T.plus(xi.times(s)),T=s,s=e,e=A.minus(xi.times(s)),A=s;return s=H(t.minus(i),n,0,1,1),T=T.plus(s.times(q)),i=i.plus(s.times(n)),T.s=q.s=Ts.s,Oi=H(q,n,a,1).minus(Ts).abs().cmp(H(T,i,a,1).minus(Ts).abs())<1?[q,n]:[T,i],qs.precision=et,L=!0,Oi};S.toHexadecimal=S.toHex=function(t,e){return mi(this,16,t,e)};S.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),t==null){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Xt(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(L=!1,i=H(i,t,0,e,1).times(t),L=!0,I(i)):(t.s=i.s,i=t),i};S.toNumber=function(){return+this};S.toOctal=function(t,e){return mi(this,8,t,e)};S.toPower=S.pow=function(t){var e,i,n,s,a,l,A=this,T=A.constructor,q=+(t=new T(t));if(!A.d||!t.d||!A.d[0]||!t.d[0])return new T(Rt(+A,q));if(A=new T(A),A.eq(1))return A;if(n=T.precision,a=T.rounding,t.eq(1))return I(A,n,a);if(e=$t(t.e/D),e>=t.d.length-1&&(i=q<0?-q:q)<=Yn)return s=un(T,A,i,n),t.s<0?new T(1).div(s):I(s,n,a);if(l=A.s,l<0){if(e<t.d.length-1)return new T(NaN);if(!(t.d[e]&1)&&(l=1),A.e==0&&A.d[0]==1&&A.d.length==1)return A.s=l,A}return i=Rt(+A,q),e=i==0||!isFinite(i)?$t(q*(Math.log("0."+Lt(A.d))/Math.LN10+A.e+1)):new T(i+"").e,e>T.maxE+1||e<T.minE-1?new T(e>0?l/0:0):(L=!1,T.rounding=A.s=1,i=Math.min(12,(e+"").length),s=hi(t.times(se(A,n+i)),n),s.d&&(s=I(s,n+5,1),ye(s.d,n,a)&&(e=n+10,s=I(hi(t.times(se(A,e+i)),e),e+5,1),+Lt(s.d).slice(n+1,n+15)+1==1e14&&(s=I(s,n+1,0)))),s.s=l,L=!0,T.rounding=a,I(s,n,a))};S.toPrecision=function(t,e){var i,n=this,s=n.constructor;return t===void 0?i=te(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(Xt(t,1,de),e===void 0?e=s.rounding:Xt(e,0,8),n=I(new s(n),t,e),i=te(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i};S.toSignificantDigits=S.toSD=function(t,e){var i=this,n=i.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Xt(t,1,de),e===void 0?e=n.rounding:Xt(e,0,8)),I(new n(i),t,e)};S.toString=function(){var t=this,e=t.constructor,i=te(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i};S.truncated=S.trunc=function(){return I(new this.constructor(this),this.e+1,1)};S.valueOf=S.toJSON=function(){var t=this,e=t.constructor,i=te(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};function Lt(t){var e,i,n,s=t.length-1,a="",l=t[0];if(s>0){for(a+=l,e=1;e<s;e++)n=t[e]+"",i=D-n.length,i&&(a+=oe(i)),a+=n;l=t[e],n=l+"",i=D-n.length,i&&(a+=oe(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function Xt(t,e,i){if(t!==~~t||t<e||t>i)throw Error(le+t)}function ye(t,e,i,n){var s,a,l,A;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=D,s=0):(s=Math.ceil((e+1)/D),e%=D),a=Rt(10,D-e),A=t[s]%a|0,n==null?e<3?(e==0?A=A/100|0:e==1&&(A=A/10|0),l=i<4&&A==99999||i>3&&A==49999||A==5e4||A==0):l=(i<4&&A+1==a||i>3&&A+1==a/2)&&(t[s+1]/a/100|0)==Rt(10,e-2)-1||(A==a/2||A==0)&&(t[s+1]/a/100|0)==0:e<4?(e==0?A=A/1e3|0:e==1?A=A/100|0:e==2&&(A=A/10|0),l=(n||i<4)&&A==9999||!n&&i>3&&A==4999):l=((n||i<4)&&A+1==a||!n&&i>3&&A+1==a/2)&&(t[s+1]/a/1e3|0)==Rt(10,e-3)-1,l}function Oe(t,e,i){for(var n,s=[0],a,l=0,A=t.length;l<A;){for(a=s.length;a--;)s[a]*=e;for(s[0]+=li.indexOf(t.charAt(l++)),n=0;n<s.length;n++)s[n]>i-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/i|0,s[n]%=i)}return s.reverse()}function Qn(t,e){var i,n,s;if(e.isZero())return e;n=e.d.length,n<32?(i=Math.ceil(n/3),s=(1/Re(4,i)).toString()):(i=16,s="2.3283064365386962890625e-10"),t.precision+=i,e=_e(t,1,e.times(s),new t(1));for(var a=i;a--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return t.precision-=i,e}var H=function(){function t(n,s,a){var l,A=0,T=n.length;for(n=n.slice();T--;)l=n[T]*s+A,n[T]=l%a|0,A=l/a|0;return A&&n.unshift(A),n}function e(n,s,a,l){var A,T;if(a!=l)T=a>l?1:-1;else for(A=T=0;A<a;A++)if(n[A]!=s[A]){T=n[A]>s[A]?1:-1;break}return T}function i(n,s,a,l){for(var A=0;a--;)n[a]-=A,A=n[a]<s[a]?1:0,n[a]=A*l+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l,A,T){var q,et,xi,Oi,Ts,Fs,qs,Us,Ls,Gs,zs,Vs,Zs,Js,xo,Io,Uo,Fo,Ys,Hs,Ws=n.constructor,f=n.s==s.s?1:-1,Y=n.d,nt=s.d;if(!Y||!Y[0]||!nt||!nt[0])return new Ws(!n.s||!s.s||(Y?nt&&Y[0]==nt[0]:!nt)?NaN:Y&&Y[0]==0||!nt?f*0:f/0);for(T?(Ts=1,et=n.e-s.e):(T=Gt,Ts=D,et=$t(n.e/Ts)-$t(s.e/Ts)),Ys=nt.length,Uo=Y.length,Ls=new Ws(f),Gs=Ls.d=[],xi=0;nt[xi]==(Y[xi]||0);xi++);if(nt[xi]>(Y[xi]||0)&&et--,a==null?(Js=a=Ws.precision,l=Ws.rounding):A?Js=a+(n.e-s.e)+1:Js=a,Js<0)Gs.push(1),Fs=!0;else{if(Js=Js/Ts+2|0,xi=0,Ys==1){for(Oi=0,nt=nt[0],Js++;(xi<Uo||Oi)&&Js--;xi++)xo=Oi*T+(Y[xi]||0),Gs[xi]=xo/nt|0,Oi=xo%nt|0;Fs=Oi||xi<Uo}else{for(Oi=T/(nt[0]+1)|0,Oi>1&&(nt=t(nt,Oi,T),Y=t(Y,Oi,T),Ys=nt.length,Uo=Y.length),Io=Ys,zs=Y.slice(0,Ys),Vs=zs.length;Vs<Ys;)zs[Vs++]=0;Hs=nt.slice(),Hs.unshift(0),Fo=nt[0],nt[1]>=T/2&&++Fo;do Oi=0,q=e(nt,zs,Ys,Vs),q<0?(Zs=zs[0],Ys!=Vs&&(Zs=Zs*T+(zs[1]||0)),Oi=Zs/Fo|0,Oi>1?(Oi>=T&&(Oi=T-1),qs=t(nt,Oi,T),Us=qs.length,Vs=zs.length,q=e(qs,zs,Us,Vs),q==1&&(Oi--,i(qs,Ys<Us?Hs:nt,Us,T))):(Oi==0&&(q=Oi=1),qs=nt.slice()),Us=qs.length,Us<Vs&&qs.unshift(0),i(zs,qs,Vs,T),q==-1&&(Vs=zs.length,q=e(nt,zs,Ys,Vs),q<1&&(Oi++,i(zs,Ys<Vs?Hs:nt,Vs,T))),Vs=zs.length):q===0&&(Oi++,zs=[0]),Gs[xi++]=Oi,q&&zs[0]?zs[Vs++]=Y[Io]||0:(zs=[Y[Io]],Vs=1);while((Io++<Uo||zs[0]!==void 0)&&Js--);Fs=zs[0]!==void 0}Gs[0]||Gs.shift()}if(Ts==1)Ls.e=et,en=Fs;else{for(xi=1,Oi=Gs[0];Oi>=10;Oi/=10)xi++;Ls.e=xi+et*Ts-1,I(Ls,A?a+Ls.e+1:a,l,Fs)}return Ls}}();function I(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor;e:if(e!=null){if(xi=t.d,!xi)return t;for(s=1,A=xi[0];A>=10;A/=10)s++;if(a=e-s,a<0)a+=D,l=e,et=xi[Oi=0],T=et/Rt(10,s-l-1)%10|0;else if(Oi=Math.ceil((a+1)/D),A=xi.length,Oi>=A)if(n){for(;A++<=Oi;)xi.push(0);et=T=0,s=1,a%=D,l=a-D+1}else break e;else{for(et=A=xi[Oi],s=1;A>=10;A/=10)s++;a%=D,l=a-D+s,T=l<0?0:et/Rt(10,s-l-1)%10|0}if(n=n||e<0||xi[Oi+1]!==void 0||(l<0?et:et%Rt(10,s-l-1)),q=i<4?(T||n)&&(i==0||i==(t.s<0?3:2)):T>5||T==5&&(i==4||n||i==6&&(a>0?l>0?et/Rt(10,s-l):0:xi[Oi-1])%10&1||i==(t.s<0?8:7)),e<1||!xi[0])return xi.length=0,q?(e-=t.e+1,xi[0]=Rt(10,(D-e%D)%D),t.e=-e||0):xi[0]=t.e=0,t;if(a==0?(xi.length=Oi,A=1,Oi--):(xi.length=Oi+1,A=Rt(10,D-a),xi[Oi]=l>0?(et/Rt(10,s-l)%Rt(10,l)|0)*A:0),q)for(;;)if(Oi==0){for(a=1,l=xi[0];l>=10;l/=10)a++;for(l=xi[0]+=A,A=1;l>=10;l/=10)A++;a!=A&&(t.e++,xi[0]==Gt&&(xi[0]=1));break}else{if(xi[Oi]+=A,xi[Oi]!=Gt)break;xi[Oi--]=0,A=1}for(a=xi.length;xi[--a]===0;)xi.pop()}return L&&(t.e>Ts.maxE?(t.d=null,t.e=NaN):t.e<Ts.minE&&(t.e=0,t.d=[0])),t}function te(t,e,i){if(!t.isFinite())return cn(t);var n,s=t.e,a=Lt(t.d),l=a.length;return e?(i&&(n=i-l)>0?a=a.charAt(0)+"."+a.slice(1)+oe(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):s<0?(a="0."+oe(-s-1)+a,i&&(n=i-l)>0&&(a+=oe(n))):s>=l?(a+=oe(s+1-l),i&&(n=i-s-1)>0&&(a=a+"."+oe(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-l)>0&&(s+1===l&&(a+="."),a+=oe(n))),a}function qe(t,e){var i=t[0];for(e*=D;i>=10;i/=10)e++;return e}function Ne(t,e,i){if(e>Jn)throw L=!0,i&&(t.precision=i),Error(nn);return I(new t(Ie),e,1,!0)}function Qt(t,e,i){if(e>di)throw Error(nn);return I(new t(Be),e,i,!0)}function an(t){var e=t.length-1,i=e*D+1;if(e=t[e],e){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function oe(t){for(var e="";t--;)e+="0";return e}function un(t,e,i,n){var s,a=new t(1),l=Math.ceil(n/D+4);for(L=!1;;){if(i%2&&(a=a.times(e),Ki(a.d,l)&&(s=!0)),i=$t(i/2),i===0){i=a.d.length-1,s&&a.d[i]===0&&++a.d[i];break}e=e.times(e),Ki(e.d,l)}return L=!0,a}function $i(t){return t.d[t.d.length-1]&1}function ln(t,e,i){for(var n,s,a=new t(e[0]),l=0;++l<e.length;){if(s=new t(e[l]),!s.s){a=s;break}n=a.cmp(s),(n===i||n===0&&a.s===i)&&(a=s)}return a}function hi(t,e){var i,n,s,a,l,A,T,q=0,et=0,xi=0,Oi=t.constructor,Ts=Oi.rounding,Fs=Oi.precision;if(!t.d||!t.d[0]||t.e>17)return new Oi(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(L=!1,T=Fs):T=e,A=new Oi(.03125);t.e>-2;)t=t.times(A),xi+=5;for(n=Math.log(Rt(2,xi))/Math.LN10*2+5|0,T+=n,i=a=l=new Oi(1),Oi.precision=T;;){if(a=I(a.times(t),T,1),i=i.times(++et),A=l.plus(H(a,i,T,1)),Lt(A.d).slice(0,T)===Lt(l.d).slice(0,T)){for(s=xi;s--;)l=I(l.times(l),T,1);if(e==null)if(q<3&&ye(l.d,T-n,Ts,q))Oi.precision=T+=10,i=a=A=new Oi(1),et=0,q++;else return I(l,Oi.precision=Fs,Ts,L=!0);else return Oi.precision=Fs,l}l=A}}function se(t,e){var i,n,s,a,l,A,T,q,et,xi,Oi,Ts=1,Fs=10,qs=t,Us=qs.d,Ls=qs.constructor,Gs=Ls.rounding,zs=Ls.precision;if(qs.s<0||!Us||!Us[0]||!qs.e&&Us[0]==1&&Us.length==1)return new Ls(Us&&!Us[0]?-1/0:qs.s!=1?NaN:Us?0:qs);if(e==null?(L=!1,et=zs):et=e,Ls.precision=et+=Fs,i=Lt(Us),n=i.charAt(0),Math.abs(a=qs.e)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)qs=qs.times(t),i=Lt(qs.d),n=i.charAt(0),Ts++;a=qs.e,n>1?(qs=new Ls("0."+i),a++):qs=new Ls(n+"."+i.slice(1))}else return q=Ne(Ls,et+2,zs).times(a+""),qs=se(new Ls(n+"."+i.slice(1)),et-Fs).plus(q),Ls.precision=zs,e==null?I(qs,zs,Gs,L=!0):qs;for(xi=qs,T=l=qs=H(qs.minus(1),qs.plus(1),et,1),Oi=I(qs.times(qs),et,1),s=3;;){if(l=I(l.times(Oi),et,1),q=T.plus(H(l,new Ls(s),et,1)),Lt(q.d).slice(0,et)===Lt(T.d).slice(0,et))if(T=T.times(2),a!==0&&(T=T.plus(Ne(Ls,et+2,zs).times(a+""))),T=H(T,new Ls(Ts),et,1),e==null)if(ye(T.d,et-Fs,Gs,A))Ls.precision=et+=Fs,q=l=qs=H(xi.minus(1),xi.plus(1),et,1),Oi=I(qs.times(qs),et,1),s=A=1;else return I(T,Ls.precision=zs,Gs,L=!0);else return Ls.precision=zs,T;T=q,s+=2}}function cn(t){return String(t.s*t.s/0)}function Te(t,e){var i,n,s;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%D,i<0&&(n+=D),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=D;n<s;)t.d.push(+e.slice(n,n+=D));e=e.slice(n),n=D-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),L&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function tr(t,e){var i,n,s,a,l,A,T,q,et;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),sn.test(e))return Te(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(zn.test(e))i=16,e=e.toLowerCase();else if(Wn.test(e))i=2;else if(Gn.test(e))i=8;else throw Error(le+e);for(a=e.search(/p/i),a>0?(T=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),l=a>=0,n=t.constructor,l&&(e=e.replace(".",""),A=e.length,a=A-a,s=un(n,new n(i),a,a*2)),q=Oe(e,i,Gt),et=q.length-1,a=et;q[a]===0;--a)q.pop();return a<0?new n(t.s*0):(t.e=qe(q,et),t.d=q,L=!1,l&&(t=H(t,s,A*4)),T&&(t=t.times(Math.abs(T)<54?Rt(2,T):Ae.pow(2,T))),L=!0,t)}function er(t,e){var i,n=e.d.length;if(n<3)return e.isZero()?e:_e(t,2,e,e);i=1.4*Math.sqrt(n),i=i>16?16:i|0,e=e.times(1/Re(5,i)),e=_e(t,2,e,e);for(var s,a=new t(5),l=new t(16),A=new t(20);i--;)s=e.times(e),e=e.times(a.plus(s.times(l.times(s).minus(A))));return e}function _e(t,e,i,n,s){var a,l,A,T,q=t.precision,et=Math.ceil(q/D);for(L=!1,T=i.times(i),A=new t(n);;){if(l=H(A.times(T),new t(e++*e++),q,1),A=s?n.plus(l):n.minus(l),n=H(l.times(T),new t(e++*e++),q,1),l=A.plus(n),l.d[et]!==void 0){for(a=et;l.d[a]===A.d[a]&&a--;);if(a==-1)break}a=A,A=n,n=l,l=a}return L=!0,l.d.length=et+1,l}function Re(t,e){for(var i=t;--e;)i*=t;return i}function dn(t,e){var i,n=e.s<0,s=Qt(t,t.precision,1),a=s.times(.5);if(e=e.abs(),e.lte(a))return ie=n?4:1,e;if(i=e.divToInt(s),i.isZero())ie=n?3:2;else{if(e=e.minus(i.times(s)),e.lte(a))return ie=$i(i)?n?2:3:n?4:1,e;ie=$i(i)?n?1:4:n?3:2}return e.minus(s).abs()}function mi(t,e,i,n){var s,a,l,A,T,q,et,xi,Oi,Ts=t.constructor,Fs=i!==void 0;if(Fs?(Xt(i,1,de),n===void 0?n=Ts.rounding:Xt(n,0,8)):(i=Ts.precision,n=Ts.rounding),!t.isFinite())et=cn(t);else{for(et=te(t),l=et.indexOf("."),Fs?(s=2,e==16?i=i*4-3:e==8&&(i=i*3-2)):s=e,l>=0&&(et=et.replace(".",""),Oi=new Ts(1),Oi.e=et.length-l,Oi.d=Oe(te(Oi),10,s),Oi.e=Oi.d.length),xi=Oe(et,10,s),a=T=xi.length;xi[--T]==0;)xi.pop();if(!xi[0])et=Fs?"0p+0":"0";else{if(l<0?a--:(t=new Ts(t),t.d=xi,t.e=a,t=H(t,Oi,i,n,0,s),xi=t.d,a=t.e,q=en),l=xi[i],A=s/2,q=q||xi[i+1]!==void 0,q=n<4?(l!==void 0||q)&&(n===0||n===(t.s<0?3:2)):l>A||l===A&&(n===4||q||n===6&&xi[i-1]&1||n===(t.s<0?8:7)),xi.length=i,q)for(;++xi[--i]>s-1;)xi[i]=0,i||(++a,xi.unshift(1));for(T=xi.length;!xi[T-1];--T);for(l=0,et="";l<T;l++)et+=li.charAt(xi[l]);if(Fs){if(T>1)if(e==16||e==8){for(l=e==16?4:3,--T;T%l;T++)et+="0";for(xi=Oe(et,s,e),T=xi.length;!xi[T-1];--T);for(l=1,et="1.";l<T;l++)et+=li.charAt(xi[l])}else et=et.charAt(0)+"."+et.slice(1);et=et+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)et="0"+et;et="0."+et}else if(++a>T)for(a-=T;a--;)et+="0";else a<T&&(et=et.slice(0,a)+"."+et.slice(a))}et=(e==16?"0x":e==2?"0b":e==8?"0o":"")+et}return t.s<0?"-"+et:et}function Ki(t,e){if(t.length>e)return t.length=e,!0}function ir(t){return new this(t).abs()}function nr(t){return new this(t).acos()}function rr(t){return new this(t).acosh()}function or(t,e){return new this(t).plus(e)}function sr(t){return new this(t).asin()}function ar(t){return new this(t).asinh()}function ur(t){return new this(t).atan()}function lr(t){return new this(t).atanh()}function cr(t,e){t=new this(t),e=new this(e);var i,n=this.precision,s=this.rounding,a=n+4;return!t.s||!e.s?i=new this(NaN):!t.d&&!e.d?(i=Qt(this,a,1).times(e.s>0?.25:.75),i.s=t.s):!e.d||t.isZero()?(i=e.s<0?Qt(this,n,s):new this(0),i.s=t.s):!t.d||e.isZero()?(i=Qt(this,a,1).times(.5),i.s=t.s):e.s<0?(this.precision=a,this.rounding=1,i=this.atan(H(t,e,a,1)),e=Qt(this,a,1),this.precision=n,this.rounding=s,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(H(t,e,a,1)),i}function dr(t){return new this(t).cbrt()}function hr(t){return I(t=new this(t),t.e+1,2)}function fr(t,e,i){return new this(t).clamp(e,i)}function mr(t){if(!t||typeof t!="object")throw Error(De+"Object expected");var e,i,n,s=t.defaults===!0,a=["precision",1,de,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,ge,"maxE",0,ge,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(i=a[e],s&&(this[i]=ci[i]),(n=t[i])!==void 0)if($t(n)===n&&n>=a[e+1]&&n<=a[e+2])this[i]=n;else throw Error(le+i+": "+n);if(i="crypto",s&&(this[i]=ci[i]),(n=t[i])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(rn);else this[i]=!1;else throw Error(le+i+": "+n);return this}function pr(t){return new this(t).cos()}function gr(t){return new this(t).cosh()}function hn(t){var e,i,n;function s(a){var l,A,T,q=this;if(!(q instanceof s))return new s(a);if(q.constructor=s,Zi(a)){q.s=a.s,L?!a.d||a.e>s.maxE?(q.e=NaN,q.d=null):a.e<s.minE?(q.e=0,q.d=[0]):(q.e=a.e,q.d=a.d.slice()):(q.e=a.e,q.d=a.d?a.d.slice():a.d);return}if(T=typeof a,T==="number"){if(a===0){q.s=1/a<0?-1:1,q.e=0,q.d=[0];return}if(a<0?(a=-a,q.s=-1):q.s=1,a===~~a&&a<1e7){for(l=0,A=a;A>=10;A/=10)l++;L?l>s.maxE?(q.e=NaN,q.d=null):l<s.minE?(q.e=0,q.d=[0]):(q.e=l,q.d=[a]):(q.e=l,q.d=[a]);return}if(a*0!==0){a||(q.s=NaN),q.e=NaN,q.d=null;return}return Te(q,a.toString())}if(T==="string")return(A=a.charCodeAt(0))===45?(a=a.slice(1),q.s=-1):(A===43&&(a=a.slice(1)),q.s=1),sn.test(a)?Te(q,a):tr(q,a);if(T==="bigint")return a<0?(a=-a,q.s=-1):q.s=1,Te(q,a.toString());throw Error(le+a)}if(s.prototype=S,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=mr,s.clone=hn,s.isDecimal=Zi,s.abs=ir,s.acos=nr,s.acosh=rr,s.add=or,s.asin=sr,s.asinh=ar,s.atan=ur,s.atanh=lr,s.atan2=cr,s.cbrt=dr,s.ceil=hr,s.clamp=fr,s.cos=pr,s.cosh=gr,s.div=_r,s.exp=wr,s.floor=br,s.hypot=vr,s.ln=yr,s.log=Mr,s.log10=Ar,s.log2=Sr,s.max=Cr,s.min=kr,s.mod=xr,s.mul=Pr,s.pow=Er,s.random=Or,s.round=Tr,s.sign=Ir,s.sin=Br,s.sinh=Nr,s.sqrt=Fr,s.sub=Dr,s.sum=qr,s.tan=Rr,s.tanh=Lr,s.trunc=jr,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(i=n[e++])||(t[i]=this[i]);return s.config(t),s}function _r(t,e){return new this(t).div(e)}function wr(t){return new this(t).exp()}function br(t){return I(t=new this(t),t.e+1,3)}function vr(){var t,e,i=new this(0);for(L=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return L=!0,new this(1/0);i=e}return L=!0,i.sqrt()}function Zi(t){return t instanceof Ae||t&&t.toStringTag===on||!1}function yr(t){return new this(t).ln()}function Mr(t,e){return new this(t).log(e)}function Sr(t){return new this(t).log(2)}function Ar(t){return new this(t).log(10)}function Cr(){return ln(this,arguments,-1)}function kr(){return ln(this,arguments,1)}function xr(t,e){return new this(t).mod(e)}function Pr(t,e){return new this(t).mul(e)}function Er(t,e){return new this(t).pow(e)}function Or(t){var e,i,n,s,a=0,l=new this(1),A=[];if(t===void 0?t=this.precision:Xt(t,1,de),n=Math.ceil(t/D),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)s=e[a],s>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:A[a++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)s=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,a):(A.push(s%1e7),a+=4);a=n/4}else throw Error(rn);else for(;a<n;)A[a++]=Math.random()*1e7|0;for(n=A[--a],t%=D,n&&t&&(s=Rt(10,D-t),A[a]=(n/s|0)*s);A[a]===0;a--)A.pop();if(a<0)i=0,A=[0];else{for(i=-1;A[0]===0;i-=D)A.shift();for(n=1,s=A[0];s>=10;s/=10)n++;n<D&&(i-=D-n)}return l.e=i,l.d=A,l}function Tr(t){return I(t=new this(t),t.e+1,this.rounding)}function Ir(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Br(t){return new this(t).sin()}function Nr(t){return new this(t).sinh()}function Fr(t){return new this(t).sqrt()}function Dr(t,e){return new this(t).sub(e)}function qr(){var t=0,e=arguments,i=new this(e[t]);for(L=!1;i.s&&++t<e.length;)i=i.plus(e[t]);return L=!0,I(i,this.precision,this.rounding)}function Rr(t){return new this(t).tan()}function Lr(t){return new this(t).tanh()}function jr(t){return I(t=new this(t),t.e+1,1)}S[Symbol.for("nodejs.util.inspect.custom")]=S.toString;S[Symbol.toStringTag]="Decimal";var Ae=S.constructor=hn(ci);Ie=new Ae(Ie);Be=new Ae(Be);var Jt=Ae;function E(t){return Jt.isDecimal(t)?t:new Jt(t===void 0?0:t)}function fn(t){return E(10).pow(E(t).abs())}function ae(t,e){let i=fn(E(e));return Number(E(t).mul(i))}function pi(t,e=32){return Number(BigInt.asIntN(e,BigInt(t)))}function Fe(t,e){let i=fn(E(e));return Number(E(t).div(i))}var mn="0x2::sui::SUI",Ur="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",ku,Ce=(ku=class{static totalBalance(e,i){let n=BigInt(0);return e.forEach(s=>{i===s.coin_type&&(n+=BigInt(s.balance))}),n}static getCoinAssets(e,i){let n=[];return i.forEach(s=>{Hi(s.coin_type)===Hi(e)&&n.push(s)}),n}static isSuiCoin(e){return ue(e).full_address===mn}static selectCoinObjectIdGreaterThanOrEqual(e,i,n=[]){let s=ku.selectCoinAssetGreaterThanOrEqual(e,i,n),a=s.selected_coins.map(T=>T.coin_object_id),l=s.remain_coins,A=s.selected_coins.map(T=>T.balance.toString());return{object_array:a,remain_coins:l,amount_array:A}}static selectCoinAssetGreaterThanOrEqual(e,i,n=[]){let s=ku.sortByBalance(e.filter(q=>!n.includes(q.coin_object_id))),a=ku.calculateTotalBalance(s);if(a<i)return{selected_coins:[],remain_coins:s};if(a===i)return{selected_coins:s,remain_coins:[]};let l=BigInt(0),A=[],T=[...s];for(;l<a;){let q=i-l,et=T.findIndex(Oi=>Oi.balance>=q);if(et!==-1){A.push(T[et]),T.splice(et,1);break}let xi=T.pop();xi.balance>0&&(A.push(xi),l+=xi.balance)}return{selected_coins:ku.sortByBalance(A),remain_coins:ku.sortByBalance(T)}}static sortByBalance(e){return e.sort((i,n)=>i.balance<n.balance?-1:i.balance>n.balance?1:0)}static sortByBalanceDes(e){return e.sort((i,n)=>i.balance>n.balance?-1:i.balance<n.balance?0:1)}static calculateTotalBalance(e){return e.reduce((i,n)=>i+n.balance,BigInt(0))}static buildCoinForAmount(e,i,n,s,a=!0,l=!0){let A=ku.getCoinAssets(s,i);if(n===BigInt(0))return this.buildZeroValueCoin(i,e,s,a);let T=ku.calculateTotalBalance(A);if(T<n)throw new Error(`The amount(${T}) is Insufficient balance for ${s} , expect ${n} `);return this.buildCoin(e,i,A,n,s,a,l)}static buildCoinWithBalance(e,i,n){return e===BigInt(0)&&ku.isSuiCoin(i)?n.add(coinWithBalance({balance:e,useGasCoin:!1})):n.add(coinWithBalance({balance:e,type:i}))}static buildVectorCoin(e,i,n,s,a,l=!0){if(ku.isSuiCoin(a)){let Oi=e.splitCoins(e.gas,[e.pure.u64(s)]);return{selected_coins:[],target_coin:Oi,remain_coins:i,target_coin_amount:s.toString(),is_mint_zero_coin:!1,original_spited_coin:e.gas}}let{original_spited_coin:A,target_coin:T,target_coin_amount:q,remain_coins:et,selected_coins:xi}=this.buildSpitTargeCoin(e,s,n,l);return l?{target_coin:e.makeMoveVec({elements:[T]}),selected_coins:xi,remain_coins:et,target_coin_amount:q,is_mint_zero_coin:!1,original_spited_coin:A}:{selected_coins:xi,target_coin:e.makeMoveVec({elements:xi.map(Oi=>e.object(Oi))}),remain_coins:et,target_coin_amount:q,is_mint_zero_coin:!1}}static buildOneCoin(e,i,n,s,a=!0){if(ku.isSuiCoin(s)){if(n===0n&&i.length>1){let T=ku.selectCoinObjectIdGreaterThanOrEqual(i,n);return{selected_coins:T.object_array,target_coin:e.object(T.object_array[0]),remain_coins:T.remain_coins,target_coin_amount:T.amount_array[0],is_mint_zero_coin:!1}}let l=ku.selectCoinObjectIdGreaterThanOrEqual(i,n),A=e.splitCoins(e.gas,[e.pure.u64(n)]);return{selected_coins:[],target_coin:A,remain_coins:l.remain_coins,target_coin_amount:n.toString(),is_mint_zero_coin:!1,original_spited_coin:e.gas}}return this.buildSpitTargeCoin(e,n,i,a)}static buildSpitTargeCoin(e,i,n,s){let a=ku.selectCoinObjectIdGreaterThanOrEqual(n,i),l=a.amount_array.reduce((Fs,qs)=>Number(Fs)+Number(qs),0).toString(),A=a.object_array,[T,...q]=A,et=e.object(T),xi=et,Oi=a.amount_array.reduce((Fs,qs)=>Number(Fs)+Number(qs),0).toString(),Ts;return q.length>0&&e.mergeCoins(et,q.map(Fs=>e.object(Fs))),s&&Number(l)>Number(i)&&(xi=e.splitCoins(et,[e.pure.u64(i)]),Ts=et),{original_spited_coin:Ts,target_coin:xi,target_coin_amount:Oi,remain_coins:a.remain_coins,selected_coins:a.object_array,is_mint_zero_coin:!1}}static buildCoin(e,i,n,s,a,l=!0,A=!0){return l?this.buildVectorCoin(e,i,n,s,a,A):this.buildOneCoin(e,n,s,a,A)}static buildZeroValueCoin(e,i,n,s=!0){let a=this.callMintZeroValueCoin(i,n),l;return s?l=i.makeMoveVec({elements:[a]}):l=a,{target_coin:l,remain_coins:e,selected_coins:[],is_mint_zero_coin:!0,target_coin_amount:"0"}}static buildCoinForAmountInterval(e,i,n,s,a=!0,l=!0){let A=ku.getCoinAssets(s,i);if(n.amount_first===BigInt(0))return A.length>0?this.buildCoin(e,[...i],[...A],n.amount_first,s,a,l):this.buildZeroValueCoin(i,e,s,a);let T=ku.calculateTotalBalance(A);if(T>=n.amount_first)return this.buildCoin(e,[...i],[...A],n.amount_first,s,a,l);if(T<n.amount_second)throw new Error(`The amount(${T}) is Insufficient balance for ${s} , expect ${n.amount_second} `);return this.buildCoin(e,[...i],[...A],n.amount_second,s,a,l)}static fromBalance(e,i,n){return n.moveCall({target:"0x2::coin::from_balance",typeArguments:[i],arguments:[e]})}static getCoinAmountObjId(e,i){let n=e.amount_coin_array.find(s=>!s.used&&E(s.amount).eq(i)?(s.used=!0,!0):!1);return n?n.coin_object_id:Wt("CoinNotFound",`Coin not found for ${i} ${e.coin_type}`)}static buildMultiCoinInput(e,i,n,s){let a=ku.getCoinAssets(n,i);if(ku.isSuiCoin(n)){let xi=e.splitCoins(e.gas,s.map(Oi=>e.pure.u64(Oi)));return{amount_coin_array:s.map((Oi,Ts)=>({coin_object_id:xi[Ts],amount:Oi.toString(),used:!1})),coin_type:n,remain_coins:a}}let l=s.reduce((xi,Oi)=>xi+Oi,BigInt(0)),A=ku.selectCoinObjectIdGreaterThanOrEqual(a,l);if(A.object_array.length===0)return Wt("InsufficientBalance",`No enough coins for ${n} expect ${l} actual ${ku.calculateTotalBalance(a)}`);let[T,...q]=A.object_array;q.length>0&&e.mergeCoins(T,[...q]);let et=e.splitCoins(T,s.map(xi=>e.pure.u64(xi)));return{amount_coin_array:s.map((xi,Oi)=>({coin_object_id:et[Oi],amount:xi.toString(),used:!1})),remain_coins:A.remain_coins,coin_type:n}}},ku.callMintZeroValueCoin=(e,i)=>e.moveCall({target:"0x2::coin::zero",typeArguments:[i]}),ku);function Vr(t){return t.startsWith("0x")?`${t.slice(2)}`:t}function Xi(t,...e){let i=Array.isArray(e[e.length-1])?e.pop():[],n=[t,...e].filter(Boolean).join("::");return i&&i.length&&(n+=`<${i.join(", ")}>`),n}function ue(t){var e,i;try{let n=t.replace(/\s/g,""),s=(i=(e=n.match(/(<.+>)$/))==null?void 0:e[0])==null?void 0:i.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(s){n=n.slice(0,n.indexOf("<"));let A={...ue(n),type_arguments:s.map(T=>ue(T).source_address)};return A.type_arguments=A.type_arguments.map(T=>Ce.isSuiCoin(T)?T:ue(T).source_address),A.source_address=Xi(A.full_address,A.type_arguments),A}let a=n.split("::"),l={full_address:n,address:n===mn||n===Ur?"0x2":normalizeSuiObjectId$1(a[0]),module:a[1],name:a[2],type_arguments:[],source_address:""};return l.full_address=`${l.address}::${l.module}::${l.name}`,l.source_address=Xi(l.full_address,l.type_arguments),l}catch{return{full_address:t,address:"",module:"",name:"",type_arguments:[],source_address:t}}}function Hi(t){return ue(t).source_address}function $r(t){return t.toLowerCase().startsWith("0x")?normalizeSuiObjectId$1(t):t}var tt=(t,e=!0)=>{let i=t.split("::"),n=i.shift(),s=normalizeSuiObjectId$1(n);return e&&(s=Vr(s)),`${s}::${i.join("::")}`};function gi(t){for(let e in t){let i=typeof t[e];if(i==="object")gi(t[e]);else if(i==="string"){let n=t[e];n&&!n.includes("::")&&(t[e]=$r(n))}}}var Kr=Me(Se()),Zr="79226673515401279992447579055",Xr="4295048016";new Kr.default(1e6);var Hr=(t=>(t[t.BelowRange=0]="BelowRange",t[t.InRange=1]="InRange",t[t.AboveRange=2]="AboveRange",t))(Hr||{}),qt=Me(Se()),ee=new qt.default(0),ve=new qt.default(1),Le=new qt.default(2);Le.pow(new qt.default(128));var Gi=Le.pow(new qt.default(64)).sub(ve),Wr=Le.pow(new qt.default(128)).sub(ve),zt=class{static toX64BN(t){return t.mul(new qt.default(2).pow(new qt.default(64)))}static toX64Decimal(t){return t.mul(Jt.pow(2,64))}static toX64(t){return new qt.default(t.mul(Jt.pow(2,64)).floor().toFixed())}static fromX64(t){return new Jt(t.toString()).mul(Jt.pow(2,-64))}static fromX64Decimal(t){return t.mul(Jt.pow(2,-64))}static fromX64BN(t){return t.div(new qt.default(2).pow(new qt.default(64)))}static shiftRightRoundUp(t){let e=t.shrn(64);return t.mod(Gi).gt(ee)&&(e=e.add(ve)),e}static divRoundUp(t,e){return t.mod(e).eq(ee)?t.div(e):t.div(e).add(new qt.default(1))}static subUnderflowU128(t,e){return t.lt(e)?t.sub(e).add(Wr):t.sub(e)}static checkUnsignedSub(t,e){let i=t.sub(e);if(i.isNeg())throw new Error("Unsigned integer sub overflow");return i}static checkMul(t,e,i){let n=t.mul(e);return this.isOverflow(n,i)&&Wt("MultiplicationOverflow","Multiplication overflow"),n}static checkMulDivFloor(t,e,i,n){i.eq(ee)&&Wt("DivisionByZero","Divide by zero");let s=t.mul(e).div(i);return this.isOverflow(s,n)&&Wt("MultiplicationOverflow","Multiplication div overflow"),s}static checkMulDivCeil(t,e,i,n){if(i.eq(ee))throw new Error("Divide by zero");let s=t.mul(e).add(i.sub(ve)).div(i);if(this.isOverflow(s,n))throw new Error("Multiplication div overflow");return s}static checkMulDivRound(t,e,i,n){i.eq(ee)&&Wt("DivisionByZero","Divide by zero");let s=t.mul(e.add(i.shrn(1))).div(i);return this.isOverflow(s,n)&&Wt("MultiplicationOverflow","Multiplication div overflow"),s}static checkMulShiftRight(t,e,i,n){let s=t.mul(e).div(new qt.default(2).pow(new qt.default(i)));return this.isOverflow(s,n)&&Wt("MultiplicationOverflow","Multiplication shift right overflow"),s}static checkMulShiftRight64RoundUpIf(t,e,i,n){let s=t.mul(e),a=n&&s.and(Gi).gt(ee)?s.shrn(64).add(ve):s.shrn(64);return this.isOverflow(a,i)&&Wt("MultiplicationOverflow","Multiplication shift right overflow"),a}static checkMulShiftLeft(t,e,i,n){let s=t.mul(e).shln(i);return this.isOverflow(s,n)&&Wt("MultiplicationOverflow","Multiplication shift left overflow"),s}static checkDivRoundUpIf(t,e,i){return e.eq(ee)&&Wt("DivisionByZero","Divide by zero"),i?this.divRoundUp(t,e):t.div(e)}static isOverflow(t,e){return t.gte(Le.pow(new qt.default(e)))}static sign(t){return t.testn(127)?1:0}static is_neg(t){return this.sign(t)===1}static abs_u128(t){return t.gt(ee)?t:this.u128Neg(t.subn(1))}static u128Neg(t){return t.uxor(new qt.default("ffffffffffffffffffffffffffffffff",16))}static neg(t){return this.is_neg(t)?t.abs():this.negFrom(t)}static abs(t){return this.sign(t)===0?t:this.u128Neg(t.sub(new qt.default(1)))}static negFrom(t){return t.eq(ee)?t:this.u128Neg(t).add(new qt.default(1)).or(new qt.default(1).shln(127))}};function pn(t){return t.data}function zr(t){return t.content!==void 0}function Gr(t){let e="data"in t?pn(t):t;if(!(!e||!zr(e)||e.content.dataType!=="moveObject"))return e.content}function gn(t){var e;return(e=pn(t))==null?void 0:e.previousTransaction}function wi(t){var i;let e=(i=Gr(t))==null?void 0:i.fields;if(e)return"fields"in e?e.fields:e}Jt.config({precision:64,rounding:Jt.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var Vt=Jt,Ht=Me(Se()),F=Me(Se()),Yr=14,Jr="59543866431248",Qr="184467440737095516",to="15793534762490258745";function eo(t,e,i){let n=t.toTwos(i).shln(e);return n.imaskn(i+1),n.fromTwos(i)}function V(t,e,i){let n=t.toTwos(i).shrn(e);return n.imaskn(i-e+1),n.fromTwos(i-e)}function io(t){let e;return t&1?e=new F.default("79232123823359799118286999567"):e=new F.default("79228162514264337593543950336"),t&2&&(e=V(e.mul(new F.default("79236085330515764027303304731")),96,256)),t&4&&(e=V(e.mul(new F.default("79244008939048815603706035061")),96,256)),t&8&&(e=V(e.mul(new F.default("79259858533276714757314932305")),96,256)),t&16&&(e=V(e.mul(new F.default("79291567232598584799939703904")),96,256)),t&32&&(e=V(e.mul(new F.default("79355022692464371645785046466")),96,256)),t&64&&(e=V(e.mul(new F.default("79482085999252804386437311141")),96,256)),t&128&&(e=V(e.mul(new F.default("79736823300114093921829183326")),96,256)),t&256&&(e=V(e.mul(new F.default("80248749790819932309965073892")),96,256)),t&512&&(e=V(e.mul(new F.default("81282483887344747381513967011")),96,256)),t&1024&&(e=V(e.mul(new F.default("83390072131320151908154831281")),96,256)),t&2048&&(e=V(e.mul(new F.default("87770609709833776024991924138")),96,256)),t&4096&&(e=V(e.mul(new F.default("97234110755111693312479820773")),96,256)),t&8192&&(e=V(e.mul(new F.default("119332217159966728226237229890")),96,256)),t&16384&&(e=V(e.mul(new F.default("179736315981702064433883588727")),96,256)),t&32768&&(e=V(e.mul(new F.default("407748233172238350107850275304")),96,256)),t&65536&&(e=V(e.mul(new F.default("2098478828474011932436660412517")),96,256)),t&131072&&(e=V(e.mul(new F.default("55581415166113811149459800483533")),96,256)),t&262144&&(e=V(e.mul(new F.default("38992368544603139932233054999993551")),96,256)),V(e,32,256)}function no(t){let e=Math.abs(t),i;return e&1?i=new F.default("18445821805675392311"):i=new F.default("18446744073709551616"),e&2&&(i=V(i.mul(new F.default("18444899583751176498")),64,256)),e&4&&(i=V(i.mul(new F.default("18443055278223354162")),64,256)),e&8&&(i=V(i.mul(new F.default("18439367220385604838")),64,256)),e&16&&(i=V(i.mul(new F.default("18431993317065449817")),64,256)),e&32&&(i=V(i.mul(new F.default("18417254355718160513")),64,256)),e&64&&(i=V(i.mul(new F.default("18387811781193591352")),64,256)),e&128&&(i=V(i.mul(new F.default("18329067761203520168")),64,256)),e&256&&(i=V(i.mul(new F.default("18212142134806087854")),64,256)),e&512&&(i=V(i.mul(new F.default("17980523815641551639")),64,256)),e&1024&&(i=V(i.mul(new F.default("17526086738831147013")),64,256)),e&2048&&(i=V(i.mul(new F.default("16651378430235024244")),64,256)),e&4096&&(i=V(i.mul(new F.default("15030750278693429944")),64,256)),e&8192&&(i=V(i.mul(new F.default("12247334978882834399")),64,256)),e&16384&&(i=V(i.mul(new F.default("8131365268884726200")),64,256)),e&32768&&(i=V(i.mul(new F.default("3584323654723342297")),64,256)),e&65536&&(i=V(i.mul(new F.default("696457651847595233")),64,256)),e&131072&&(i=V(i.mul(new F.default("26294789957452057")),64,256)),e&262144&&(i=V(i.mul(new F.default("37481735321082")),64,256)),i}var J=class oc{static priceToSqrtPriceX64(e,i,n){return zt.toX64(e.mul(Vt.pow(10,n-i)).sqrt())}static sqrtPriceX64ToPrice(e,i,n){return zt.fromX64(e).pow(2).mul(Vt.pow(10,i-n))}static tickIndexToSqrtPriceX64(e){return e>0?new F.default(io(e)):new F.default(no(e))}static sqrtPriceX64ToTickIndex(e){if(e.gt(new F.default(Zr))||e.lt(new F.default(Xr)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let i=e.bitLength()-1,n=new F.default(i-64),s=eo(n,32,128),a=new F.default("8000000000000000","hex"),l=0,A=new F.default(0),T=i>=64?e.shrn(i-63):e.shln(63-i);for(;a.gt(new F.default(0))&&l<Yr;){T=T.mul(T);let Ts=T.shrn(127);T=T.shrn(63+Ts.toNumber()),A=A.add(a.mul(Ts)),a=a.shrn(1),l+=1}let q=A.shrn(32),et=s.add(q).mul(new F.default(Jr)),xi=V(et.sub(new F.default(Qr)),64,128).toNumber(),Oi=V(et.add(new F.default(to)),64,128).toNumber();return xi===Oi?xi:oc.tickIndexToSqrtPriceX64(Oi).lte(e)?Oi:xi}static tickIndexToPrice(e,i,n){return oc.sqrtPriceX64ToPrice(oc.tickIndexToSqrtPriceX64(e),i,n)}static priceToTickIndex(e,i,n){return oc.sqrtPriceX64ToTickIndex(oc.priceToSqrtPriceX64(e,i,n))}static priceToInitializeTickIndex(e,i,n,s){return oc.getInitializeTickIndex(oc.priceToTickIndex(e,i,n),s)}static getInitializeTickIndex(e,i){return e-e%i}static getNextInitializeTickIndex(e,i){return oc.getInitializeTickIndex(e,i)+i}static getPrevInitializeTickIndex(e,i){return oc.getInitializeTickIndex(e,i)-i}};function Pe(t,e,i){let n=Ht.default.min(t,e),s=Ht.default.max(t,e),a=zt.fromX64BN(i.mul(s).mul(n)),l=s.sub(n);return!a.isZero()&&!l.isZero()?a.div(l):new Ht.default(0)}function Ee(t,e,i){let n=Ht.default.min(t,e),s=Ht.default.max(t,e).sub(n);return s.isZero()?new Ht.default(0):i.shln(64).div(s)}var ne=class Yc{static getCoinAmountFromLiquidity(e,i,n,s,a){let l=new Vt(e.toString()),A=new Vt(i.toString()),T=new Vt(n.toString()),q=new Vt(s.toString()),et,xi;return i.lt(n)?(et=zt.toX64Decimal(l).mul(q.sub(T)).div(T.mul(q)),xi=new Vt(0)):i.lt(s)?(et=zt.toX64Decimal(l).mul(q.sub(A)).div(A.mul(q)),xi=zt.fromX64Decimal(l.mul(A.sub(T)))):(et=new Vt(0),xi=zt.fromX64Decimal(l.mul(q.sub(T)))),a?{coin_amount_a:et.ceil().toString(),coin_amount_b:xi.ceil().toString()}:{coin_amount_a:et.floor().toString(),coin_amount_b:xi.floor().toString()}}static estLiquidityAndCoinAmountFromOneAmounts(e,i,n,s,a,l,A){let T=J.sqrtPriceX64ToTickIndex(A),q=J.tickIndexToSqrtPriceX64(e),et=J.tickIndexToSqrtPriceX64(i),xi;if(T<e){if(!s)throw new Error("lower tick cannot calculate liquidity by coinB");xi=Pe(q,et,n)}else if(T>i){if(s)throw new Error("upper tick cannot calculate liquidity by coinA");xi=Ee(et,q,n)}else s?xi=Pe(A,et,n):xi=Ee(A,q,n);let Oi=Yc.getCoinAmountFromLiquidity(xi,A,q,et,a),Ts=a?E(Oi.coin_amount_a.toString()).mul(1+l).toString():E(Oi.coin_amount_a.toString()).mul(1-l).toString(),Fs=a?E(Oi.coin_amount_b.toString()).mul(1+l).toString():E(Oi.coin_amount_b.toString()).mul(1-l).toString();return{coin_amount_a:Oi.coin_amount_a,coin_amount_b:Oi.coin_amount_b,coin_amount_limit_a:a?Vt.ceil(Ts).toString():Vt.floor(Ts).toString(),coin_amount_limit_b:a?Vt.ceil(Fs).toString():Vt.floor(Fs).toString(),liquidity_amount:xi.toString(),fix_amount_a:s}}static estimateLiquidityFromCoinAmounts(e,i,n,s){if(i>n)return Wt("InvalidTick","lower tick cannot be greater than lower tick",{[ui.METHOD_NAME]:"estimateLiquidityFromCoinAmounts",[ui.REQUEST_PARAMS]:{lower_tick:i,upper_tick:n,token_amount:s}});let a=J.sqrtPriceX64ToTickIndex(e),l=J.tickIndexToSqrtPriceX64(i),A=J.tickIndexToSqrtPriceX64(n);if(a<i)return Pe(l,A,new Ht.default(s.coin_amount_a)).toString();if(a>=n)return Ee(A,l,new Ht.default(s.coin_amount_b)).toString();let T=Pe(e,A,new Ht.default(s.coin_amount_a)),q=Ee(e,l,new Ht.default(s.coin_amount_b));return Ht.default.min(T,q).toString()}static calculateDepositRatio(e,i,n){let s=new Ht.default(1e8),{coin_amount_b:a}=Yc.estLiquidityAndCoinAmountFromOneAmounts(e,i,s,!0,!0,0,n),l=J.sqrtPriceX64ToPrice(n,0,0),A=E(s.toString()).mul(l),T=A.add(a.toString()),q=A.div(T),et=E(a.toString()).div(T);return{ratio_a:q,ratio_b:et}}static calculateAmountDepositRatio(e,i,n,s,a){let l=J.sqrtPriceX64ToPrice(n,s,a),A=J.sqrtPriceX64ToTickIndex(n);if(A<e)return{ratio_a:new Vt(1),ratio_b:new Vt(0),curr_price:l};if(A>i)return{ratio_a:new Vt(0),ratio_b:new Vt(1),curr_price:l};let T=new Ht.default(ae(1,s)),{coin_amount_b:q}=Yc.estLiquidityAndCoinAmountFromOneAmounts(e,i,T,!0,!0,0,n),et=Fe(T.toString(),s),xi=Fe(q.toString(),a),Oi=E(et).add(xi),Ts=E(et).div(Oi),Fs=E(xi).div(Oi);return{ratio_a:Ts,ratio_b:Fs,curr_price:l}}static getCoinAmountsFromRatio(e,i,n,s,a,l,A){let T=E(ae(E(n).mul(e).div(s).toString(),l)).toFixed(0),q=E(ae(E(n).mul(i).div(a).toString(),A)).toFixed(0);return{amount_a:T,amount_b:q}}static estCoinAmountsFromTotalAmount(e,i,n,s,a,l,A,T){let{ratio_a:q,ratio_b:et}=Yc.calculateDepositRatio(e,i,n);return Yc.getCoinAmountsFromRatio(q,et,s,a,l,A,T)}static getPositionStatus(e,i,n){return e<i?0:e<n?1:2}};Me(Se());function ro(t,e,i,n,s){let a=new BN(10).pow(new BN(n)),{coin_amount_b:l}=ne.estLiquidityAndCoinAmountFromOneAmounts(t,e,a,!0,!0,0,i),A=J.sqrtPriceX64ToPrice(i,n,s),T=E(a.toString()).mul(A).div(new Decimal$1(10).pow(n)).mul(new Decimal$1(10).pow(s)),q=T.add(l.toString()),et=T.div(q),xi=E(l.toString()).div(q);return{ratioA:et,ratioB:xi}}function ke(t,e,i,n,s,a,l){let A=E(ae(E(i).mul(t).div(n).toString(),a)).toFixed(0),T=E(ae(E(i).mul(e).div(s).toString(),l)).toFixed(0);return{amountA:A,amountB:T}}function bn(t,e,i,n,s,a,l,A){let{ratioA:T,ratioB:q}=ro(t,e,i,l,A);return ke(T,q,n,s,a,l,A)}var we=10n;function yi(t){let{fields:e,type:i}=t,{liquidity_range:n,pool_id:s,wrapped_position:a}=e.clmm_vault.fields,l=a.fields,A={clmm_pool_id:s,liquidity_range:{lower_offset:n.fields.lower_offset,rebalance_threshold:n.fields.rebalance_threshold,upper_offset:n.fields.upper_offset},wrapped_position:{coin_type_a:tt(l.coin_type_a.fields.name,!1),coin_type_b:tt(l.coin_type_b.fields.name,!1),description:l.description,id:l.id.id,index:l.index,liquidity:l.liquidity,name:l.name,pool:l.pool,tick_lower_index:pi(BigInt(l.tick_lower_index.fields.bits)),tick_upper_index:pi(BigInt(l.tick_upper_index.fields.bits)),url:l.url}},{balances:T}=e.buffer_assets.fields,q=T.fields.contents.map(et=>{let{key:xi,value:Oi}=et.fields;return{coin_type:tt(xi.fields.name,!1),value:Oi}});return{id:e.id.id,is_pause:e.is_pause,clmm_vault:A,lp_token_treasury:e.lp_token_treasury.fields.total_supply.fields.value,protocol_fees_handle:e.protocol_fees.fields.id.id,hard_cap:e.hard_cap,quote_type:ue(e.quote_type.fields.name).full_address,lp_token_type:ue(i).type_arguments[0],balances:q,protocol_fee_rate:e.protocol_fee_rate}}function vn(t,e){let i=E(t).div(e).toString(),n=E(e).div(t).toString();return{quote_per_base:i,base_per_quote:n}}function oo(t,e,i,n){let s=10n**(we+n-i),a=10n**(we+i-n),l=zt.checkMulDivFloor(new BN(t.toString()),new BN(s.toString()),new BN(e.toString()),64),A=zt.checkMulDivFloor(new BN(e.toString()),new BN(a.toString()),new BN(t.toString()),64);return{primitive_base_price:BigInt(l.toString()),primitive_quote_price:BigInt(A.toString())}}function Mi(t,e){let i=e?t[e].price:{coin_decimals:6,oracle_price:1000000000000000000000000n},n=new BN("0");for(let[s,{price:a,value:l}]of Object.entries(t)){let{primitive_quote_price:A}=oo(BigInt(i.oracle_price),BigInt(a.oracle_price),BigInt(i.coin_decimals),BigInt(a.coin_decimals)),T=zt.checkMulDivFloor(new BN(A.toString()),new BN(l),new BN((BigInt(10)**we).toString()),64);n=n.add(T)}return n.toString()}async function yn(t,e,i,n,s=!1){let{clmm_vault:a,quote_type:l}=e,{wrapped_position:A}=a,{tick_lower_index:T,tick_upper_index:q,liquidity:et}=A,{current_sqrt_price:xi,coin_type_a:Oi,coin_type_b:Ts}=i,Fs=[...n],qs=l&&tt(e.quote_type,!1),Us=J.tickIndexToSqrtPriceX64(T),Ls=J.tickIndexToSqrtPriceX64(q),{coin_amount_a:Gs,coin_amount_b:zs}=ne.getCoinAmountFromLiquidity(new BN(et),new BN(xi),new BN(Us),new BN(Ls),!1);Fs.push({coin_type:Oi,value:Gs.toString()}),Fs.push({coin_type:Ts,value:zs.toString()});let Vs={};Fs.forEach(Io=>{let Uo=tt(Io.coin_type,!1),Fo=E(Io.value),Ys=Vs[Uo]||0;Vs[Uo]=Fo.add(Ys).toString()});let Zs=Object.entries(Vs).filter(([Io,Uo])=>E(Uo).gt(0)).map(([Io])=>Io);if(qs&&!Zs.includes(qs)&&Zs.push(qs),Zs.length===0)return"0";let Js=await t.sdk.PythPrice.getLatestPrice(Zs,s),xo={};return Zs.forEach(Io=>{let Uo=Js[Io];if(Uo)xo[Io]={price:Uo,value:Vs[Io]||"0"};else throw Error(`find ${Io} price fail `)}),Mi(xo,qs).toString()}function Mn(t,e,i){return E(t).eq(0)?e:E(t).mul(e).div(i).toFixed(0,Decimal$1.ROUND_HALF_UP)}function be(t,e,i){return E(t).eq(0)?"0":E(e).mul(i).div(t).toFixed(0,Decimal$1.ROUND_HALF_UP)}function je(t,e){let{balances:i,lp_token_treasury:n}=e,s={};return i.forEach(a=>{let l=be(n,t,a.value),A={coin_type:a.coin_type,value:l};s[A.coin_type]=A}),s}function Sn(t,e,i,n){var Gs,zs;let{tick_lower_index:s,tick_upper_index:a,coin_type_a:l,coin_type_b:A,liquidity:T}=i.clmm_vault.wrapped_position,q=be(i.lp_token_treasury,e,T),et=J.tickIndexToSqrtPriceX64(s),xi=J.tickIndexToSqrtPriceX64(a),Oi=ne.getCoinAmountFromLiquidity(new BN(q),new BN(n.current_sqrt_price),et,xi,!0),Ts=Oi.coin_amount_a.toString(),Fs=Oi.coin_amount_b.toString(),qs=je(e,i),Us=E(Ts).add(((Gs=qs[l])==null?void 0:Gs.value)||"0").toFixed(0),Ls=E(Fs).add(((zs=qs[A])==null?void 0:zs.value)||"0").toFixed(0);return{vault_id:i.id,clmm_pool_id:n.id,owner:t,lp_token_type:i.lp_token_type,lp_token_balance:e,liquidity:q,tick_lower_index:s,tick_upper_index:a,amount_a:Us,amount_b:Ls,coin_type_a:l,coin_type_b:A}}function Si(t,e,i){let n=[];return e.forEach(s=>{E(s.value).gt(0)&&n.push(s)}),i.forEach(s=>{E(s.value).gt(0)&&n.push(s)}),t.balances.forEach(s=>{E(s.value).gt(0)&&n.push(s)}),n}function An(t,e,i){let{coin_type_a:n,coin_type_b:s}=t.clmm_vault.wrapped_position,a=Si(t,e,i),l=new Set;return a.forEach(A=>l.add(A.coin_type)),l.add(n),l.add(s),Array.from(l)}function Cn(t,e){if(!we)throw new Error("oraclePriceMultiplierDecimal is required");if(t===0n)throw new Error("Invalid oracle price");if(e<0n){let i=10n**(we- -e);return t*i}return t/10n**(e+we)}function kn(t){return`0x${Buffer$1.from(t).toString("hex")}`}var Ue=class{constructor(t){Ua(this,"_sdk");this._sdk=t}get sdk(){return this._sdk}async getProtocolFeeRate(){let t="getProtocolFeeRate",e=this._sdk.getCache(t);if(e)return e;let{configs:i}=this._sdk.sdkOptions.vaults,n=(await this._sdk.FullClient.getObject({id:i.global_config_id,options:{showContent:!0}})).data.content.fields.protocol_fee_rate;return this._sdk.updateCache(t,n),n}async getOwnerVaultsBalance(t,e){let{pool:i,clmmPool:n}=await this.getVaultAndPool(e,!0),s=(await this._sdk.FullClient.getBalance({owner:t,coinType:i.lp_token_type})).totalBalance;return Sn(t,s,i,n)}async getOwnerVaultsBalanceList(t){let{data:e}=await this.getPoolList(),i=[];for(let n=0;n<e.length;n++){let s=await this.getOwnerVaultsBalance(t,e[n].id);i.push(s)}return i}async getVaultsPositionRewarderAndFee(t){try{let{package_id:e}=this._sdk.sdkOptions.vaults,{pool:i,clmmPool:n}=await this.getVaultAndPool(t,!1),s=`getVaultsPositionRewarderAndFee_${t}`,a=this._sdk.getCache(s);if(a)return a;let{lp_token_type:l}=i,{rewarder_infos:A,id:T,coin_type_a:q,coin_type_b:et}=n,xi=new Transaction;this.buildCollectRewardPayload({reward_coin_types:[...A.map(Ls=>Ls.coin_type)],lp_token_type:l,pool_id:t,clmm_pool_id:T,coin_type_a:q,coin_type_b:et},xi),this.buildCollectFeePayload({lp_token_type:l,pool_id:t,clmm_pool_id:T,coin_type_a:q,coin_type_b:et},xi);let Oi=await this._sdk.FullClient.sendSimulationTransaction(xi,normalizeSuiAddress$1("0x0")),Ts=`${e}::pool::FeeClaimedEvent`,Fs=`${e}::pool::RewardClaimedEvent`,qs=[],Us=[];return Oi==null||Oi.events.forEach(Ls=>{let{parsedJson:Gs,type:zs}=Ls;zs===Ts&&(qs.push({coin_type:tt(q,!1),value:Gs.amount_a}),qs.push({coin_type:tt(et,!1),value:Gs.amount_b})),zs===Fs&&Us.push({coin_type:tt(Gs.reward_type.name,!1),value:Gs.amount})}),this._sdk.updateCache(s,{feeList:qs,rewarderList:Us},10*1e3),{feeList:qs,rewarderList:Us}}catch{}return{feeList:[],rewarderList:[]}}async getPoolList(t="all"){let e={data:[],has_next_page:!1},{vaults:i}=this._sdk.sdkOptions,{FullClient:n}=this._sdk,s=await n.getDynamicFieldsByPage(i.configs.pools_handle,t),a=s.data.map(l=>l.name.value);return a.length>0&&((await n.batchGetObjects(a,{showContent:!0})).forEach(l=>{let A=yi(l.data.content);this._sdk.updateCache(`getPool_${A.id}`,A),e.data.push(A)}),e.next_cursor=s.next_cursor,e.has_next_page=s.has_next_page),e}async getPool(t,e=!0){let i=`getPool_${t}`,n=this._sdk.getCache(i,e);if(n)return n;let s=await this._sdk.FullClient.getObject({id:t,options:{showContent:!0}}),a=yi(s.data.content);return this._sdk.updateCache(i,a),a}buildCollectRewardPayload(t,e){let{coin_type_a:i,coin_type_b:n,pool_id:s,clmm_pool_id:a,lp_token_type:l,reward_coin_types:A}=t,{published_at:T,configs:q,clmm_configs:et}=this._sdk.sdkOptions.vaults;return e=e||new Transaction,A.forEach(xi=>{e.moveCall({target:`${T}::pool::collect_reward`,typeArguments:[i,n,l,xi],arguments:[e.object(s),e.object(q.global_config_id),e.object(et.global_config_id),e.object(a),e.object(et.global_vault_id),e.object(ce)]})}),e}buildCollectFeePayload(t,e){let{coin_type_a:i,coin_type_b:n,pool_id:s,clmm_pool_id:a,lp_token_type:l}=t,{published_at:A,configs:T,clmm_configs:q}=this._sdk.sdkOptions.vaults;return e=e||new Transaction,e.moveCall({target:`${A}::pool::collect_fee`,typeArguments:[i,n,l],arguments:[e.object(s),e.object(T.global_config_id),e.object(q.global_config_id),e.object(a)]}),e}async buildDepositPayload(t,e){let{pool_id:i,amount_a:n,amount_b:s,return_lp_coin:a}=t,{pool:l,clmmPool:A}=await this.getVaultAndPool(i,!0),{rewarderList:T,feeList:q}=await this.getVaultsPositionRewarderAndFee(i),et=An(l,T,q),{lp_token_type:xi}=l,{rewarder_infos:Oi,id:Ts,coin_type_a:Fs,coin_type_b:qs}=A,Us=T.length>0?T.filter(Uo=>E(Uo.value.toString()).gt(0)).map(Uo=>tt(Uo.coin_type,!1)):Oi.map(Uo=>tt(Uo.coin_type,!1)),{published_at:Ls,configs:Gs,clmm_configs:zs}=this._sdk.sdkOptions.vaults;e=e||new Transaction,e=this.buildCollectRewardPayload({reward_coin_types:Us,lp_token_type:xi,pool_id:i,clmm_pool_id:Ts,coin_type_a:Fs,coin_type_b:qs},e),e=this.buildCollectFeePayload({lp_token_type:xi,pool_id:i,clmm_pool_id:Ts,coin_type_a:Fs,coin_type_b:qs},e),e=await this._sdk.PythPrice.buildUpdatePythPricePayload(et,e),e.moveCall({target:`${Ls}::pool::calculate_aum`,typeArguments:[Fs,qs,xi],arguments:[e.object(i),e.object(Gs.global_config_id),e.object(Gs.pyth_oracle_id),e.object(zs.global_config_id),e.object(Ts),e.object(ce)]});let Vs=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Fs),Zs=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,qs),Js=Ce.buildCoinForAmount(e,Vs,BigInt(n),Fs,!1,!0),xo=Ce.buildCoinForAmount(e,Zs,BigInt(s),qs,!1,!0),Io=e.moveCall({target:`${Ls}::pool::${a?"deposit_for":"deposit"}`,typeArguments:[Fs,qs,xi],arguments:[e.object(i),e.object(Gs.global_config_id),e.object(Gs.pyth_oracle_id),e.object(zs.global_config_id),e.object(Ts),Js.target_coin,xo.target_coin,e.object(ce)]});return a?Io:void 0}async buildWithdrawPayload(t,e){let{pool_id:i,burn_lp_amount:n,mode:s,slippage:a,partner:l}=t,{pool:A,clmmPool:T}=await this.getVaultAndPool(i,!0),{rewarderList:q}=await this.getVaultsPositionRewarderAndFee(i),{published_at:et,configs:xi,clmm_configs:Oi}=this._sdk.sdkOptions.vaults;e=e||new Transaction;let{lp_token_type:Ts,clmm_vault:Fs,lp_token_treasury:qs}=A,{rewarder_infos:Us,id:Ls,coin_type_a:Gs,coin_type_b:zs,liquidity:Vs}=T,Zs=q.length>0?q.filter(Hs=>E(Hs.value.toString()).gt(0)).map(Hs=>tt(Hs.coin_type,!1)):Us.map(Hs=>tt(Hs.coin_type,!1));e=this.buildCollectRewardPayload({reward_coin_types:Zs,lp_token_type:Ts,pool_id:i,clmm_pool_id:Ls,coin_type_a:Gs,coin_type_b:zs},e),e=this.buildCollectFeePayload({lp_token_type:Ts,pool_id:i,clmm_pool_id:Ls,coin_type_a:Gs,coin_type_b:zs},e);let Js=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Ts),xo=Ce.buildCoinForAmount(e,Js,BigInt(n),Ts,!1,!0),[Io,Uo,Fo]=e.moveCall({target:`${et}::pool::withdraw`,typeArguments:[Gs,zs,Ts],arguments:[e.object(i),e.object(xi.global_config_id),e.object(Oi.global_config_id),e.object(Ls),xo.target_coin,e.object(ce)]}),Ys=this.buildWithdrawBufferReward({reward_coin_types:Zs.filter(Hs=>![tt(Gs,!1),tt(zs,!1)].includes(Hs)),pool_id:i,withdraw_cert:Fo,lp_token_type:Ts},e);if(e.moveCall({target:`${et}::pool::destory_withdraw_cert`,typeArguments:[Ts],arguments:[e.object(i),e.object(xi.global_config_id),Fo]}),s!=="FixedOneSide"){if(a===void 0)throw Error("the slippage is undefined");let Hs=s==="OnlyCoinA",Ws=Hs?Uo:Io,f=be(qs,n,Vs.toString());await this.handleWithSwap(e,Ws,Gs,zs,n,i,Hs,a,l,[{poolID:Ls,ticklower:Fs.wrapped_position.tick_lower_index,tickUpper:Fs.wrapped_position.tick_upper_index,deltaLiquidity:Number(f)}]),e.transferObjects([Hs?Io:Uo,...Ys],this._sdk.senderAddress)}else e.transferObjects([Io,Uo,...Ys],this._sdk.senderAddress);return e}async handleWithSwap(t,e,i,n,s,a,l,A,T,q){let{receive_amount_a:et,receive_amount_b:xi}=await this.preCalculateWithdrawAmount({pool_id:a,mode:"FixedOneSide",burn_lp_amount:s}),Oi=l?n:i,Ts=l?i:n,Fs=l?xi:et,qs={from:Oi,target:Ts,amount:new BN(Fs),byAmountIn:!0,depth:3,splitAlgorithm:void 0,splitFactor:void 0,splitCount:void 0,providers:this._sdk.sdkOptions.providers,liquidityChanges:q},Us=await this._sdk.AggregatorClient.findRouters(qs);if(!Us)throw Error("not find Router");if(Us.error!==void 0)throw Error(`find Router error : ${Us.error}`);let Ls={routers:Us,inputCoin:e,slippage:A,txb:t,partner:T},Gs=await this._sdk.AggregatorClient.fixableRouterSwap(Ls);t.transferObjects([Gs],t.pure.address(this._sdk.getVerifySenderAddress()))}buildWithdrawBufferReward({reward_coin_types:t,pool_id:e,withdraw_cert:i,lp_token_type:n},s){let{published_at:a,configs:l}=this._sdk.sdkOptions.vaults;return t.map(A=>s.moveCall({target:`${a}::pool::withdraw_buffer_reward`,typeArguments:[n,A],arguments:[s.object(e),s.object(l.global_config_id),i]}))}async preCalculateDepositValue(t,e){let{amount_usd:i,pool_id:n,mode:s,uuid:a}=t,{pool:l,clmmPool:A}=await this.getVaultAndPool(n,!1),{current_sqrt_price:T}=A,{tick_lower_index:q,tick_upper_index:et,coin_type_a:xi,coin_type_b:Oi}=l.clmm_vault.wrapped_position,Ts="0",Fs="0",qs=await this._sdk.PythPrice.getLatestPrice([xi,Oi],!0),Us=qs[xi],Ls=qs[Oi];if(!Us||!Ls)throw new Error("get coin price failed");switch(s){case"FixedOneSide":{let{amountA:Gs,amountB:zs}=bn(q,et,new BN(T),i,Us.price,Ls.price,Us.coin_decimals,Ls.coin_decimals);Ts=Gs.toString(),Fs=zs.toString();break}case"FlexibleBoth":{let{amountA:Gs,amountB:zs}=ke(E(.5),E(.5),i,Us.price,Ls.price,Us.coin_decimals,Ls.coin_decimals);Ts=Gs.toString(),Fs=zs.toString();break}case"OnlyCoinA":{let{amountA:Gs,amountB:zs}=ke(E(1),E(0),i,Us.price,Ls.price,Us.coin_decimals,Ls.coin_decimals);Ts=Gs.toString(),Fs=zs.toString();break}case"OnlyCoinB":{let{amountA:Gs,amountB:zs}=ke(E(0),E(1),i,Us.price,Ls.price,Us.coin_decimals,Ls.coin_decimals);Ts=Gs.toString(),Fs=zs.toString();break}default:throw new Error(`Unsupported deposit mode: ${s}`)}return e&&this.calculateDepositLpAmountBoth(l,A,Ts,Fs).then(Gs=>{e.onSuccess(Gs,a)}).catch(Gs=>{e.onError(Gs,a)}),{deposit_amount_a:Ts,deposit_amount_b:Fs,mode:s}}async preCalculateDepositAmount(t,e){let{mode:i,pool_id:n,uuid:s}=t,a="0",l="0",{pool:A,clmmPool:T}=await this.getVaultAndPool(n,!1);switch(i){case"FixedOneSide":{let{fixed_amount:q,fixed_coin_a:et}=t,{other_amount:xi}=this.calculateDepositOtherSide(A,T,q,et,e,s);et?(a=q,l=xi):(l=q,a=xi);break}case"FlexibleBoth":{let{coin_amount_a:q,coin_amount_b:et}=t;a=q,l=et,this.calculateDepositLpAmountBoth(A,T,q,et).then(xi=>{e.onSuccess(xi,s)}).catch(xi=>{e.onError(xi,s)});break}case"OnlyCoinA":{a=t.coin_amount_a,this.calculateDepositLpAmountBoth(A,T,a,"0").then(q=>{e.onSuccess(q,s)}).catch(q=>{e.onError(q,s)});break}case"OnlyCoinB":{l=t.coin_amount_b,this.calculateDepositLpAmountBoth(A,T,"0",l).then(q=>{e.onSuccess(q,s)}).catch(q=>{e.onError(q,s)});break}default:throw new Error(`Unsupported deposit mode: ${i}`)}return{deposit_amount_a:a,deposit_amount_b:l,mode:i}}async getVaultAndPool(t,e=!1){let i=await this.getPool(t,e);if(i===void 0)throw new Error("get vaults pool failed");let n=await this._sdk.CetusClmmSDK.Pool.getPool(i.clmm_vault.clmm_pool_id,e);if(n===void 0)throw new Error("get vaults clmmPool failed");return{clmmPool:n,pool:i}}calculateDepositOtherSide(t,e,i,n,s,a){let{clmm_vault:l}=t,{current_sqrt_price:A}=e,T=l.wrapped_position.tick_lower_index,q=l.wrapped_position.tick_upper_index,et=ne.estLiquidityAndCoinAmountFromOneAmounts(T,q,new BN(i),n,!0,1,new BN(A)),{coin_amount_a:xi,coin_amount_b:Oi}=et;return this.calculateDepositLpAmountBoth(t,e,xi.toString(),Oi.toString()).then(Ts=>{s.onSuccess(Ts,a)}).catch(Ts=>{s.onError(Ts,a)}),{other_amount:n?Oi.toString():xi.toString()}}async calculateDepositLpAmountBoth(t,e,i,n){let{lp_token_treasury:s,hard_cap:a}=t,l=tt(e.coin_type_a,!1),A=tt(e.coin_type_b,!1),{rewarderList:T,feeList:q}=await this.getVaultsPositionRewarderAndFee(t.id),et=Si(t,q,T),xi=await yn(this,t,e,et,!0),Oi=await this._sdk.PythPrice.getLatestPrice([l,A],!0),Ts=Oi[l],Fs=Oi[A];if(!Ts)throw Error(`not find ${l} price`);if(!Fs)throw Error(`not find ${A} price`);let qs={};qs[l]={price:Ts,value:i.toString()},qs[A]={price:Fs,value:n.toString()};let Us=Mi(qs,t.quote_type);return Mn(s,Us,xi)}async preCalculateWithdrawAmount(t){let{mode:e,pool_id:i}=t,n="0",s="0",a="0",l="0",A,{pool:T,clmmPool:q}=await this.getVaultAndPool(i,!1);switch(e){case"FixedOneSide":let et=await this.calculateWithdrawOtherSide(T,q,t.burn_lp_amount);a=et.burn_lp_amount,n=et.receive_amount_a,s=et.receive_amount_b,l=et.remove_liquidity;break;case"OnlyCoinA":{let xi=await this.calculateWithdrawOnlyCoin(T,q,t.burn_lp_amount,!0);a=xi.burn_lp_amount,n=xi.receive_amount_a,s=xi.receive_amount_b,l=xi.remove_liquidity,A=xi.swap;break}case"OnlyCoinB":{let xi=await this.calculateWithdrawOnlyCoin(T,q,t.burn_lp_amount,!1);a=xi.burn_lp_amount,n=xi.receive_amount_a,s=xi.receive_amount_b,l=xi.remove_liquidity,A=xi.swap;break}default:throw new Error(`Unsupported withdraw mode: ${e}`)}return{remove_liquidity:l,burn_lp_amount:a,receive_amount_a:n,receive_amount_b:s,mode:e,swap:A}}async calculateWithdrawOtherSide(t,e,i){var zs,Vs;let{clmm_vault:n,lp_token_treasury:s}=t,{current_sqrt_price:a}=e,{coin_type_a:l,coin_type_b:A}=t.clmm_vault.wrapped_position,T=n.wrapped_position.tick_lower_index,q=n.wrapped_position.tick_upper_index,et=n.wrapped_position.liquidity,xi=J.tickIndexToSqrtPriceX64(T),Oi=J.tickIndexToSqrtPriceX64(q),Ts=be(s,i,et),{coin_amount_a:Fs,coin_amount_b:qs}=ne.getCoinAmountFromLiquidity(new BN(Ts),new BN(a),xi,Oi,!1),Us=je(i,t),Ls=E(Fs.toString()).add(((zs=Us[l])==null?void 0:zs.value)||"0").toFixed(0),Gs=E(qs.toString()).add(((Vs=Us[A])==null?void 0:Vs.value)||"0").toFixed(0);return{receive_amount_a:Ls,receive_amount_b:Gs,burn_lp_amount:i,mode:"FixedOneSide",remove_liquidity:Ts}}async calculateWithdrawOnlyCoin(t,e,i,n){let{totalReceiveAmount:s,swapAmountIn:a,swapAmountOut:l,removeLiquidity:A}=await this.calculateWithdrawOnlyCoinByLpAmount(t,e,n,i);return{receive_amount_a:n?s:"0",receive_amount_b:n?"0":s,burn_lp_amount:i,remove_liquidity:A,swap:{swap_amount_in:a,swap_amount_out:l},mode:"FixedOneSide"}}async calculateWithdrawOnlyCoinByLpAmount(t,e,i,n){var f,Y;let{clmm_vault:s,lp_token_treasury:a}=t,{current_sqrt_price:l}=e,{coin_type_a:A,coin_type_b:T}=s.wrapped_position,q=s.wrapped_position.tick_lower_index,et=s.wrapped_position.tick_upper_index,xi=s.wrapped_position.liquidity,Oi=J.tickIndexToSqrtPriceX64(q),Ts=J.tickIndexToSqrtPriceX64(et),Fs=be(a,n,xi),{coin_amount_a:qs,coin_amount_b:Us}=ne.getCoinAmountFromLiquidity(new BN(Fs),new BN(l),Oi,Ts,!1),Ls=await this._sdk.PythPrice.getLatestPrice([A,T],!0),Gs=Ls[A],zs=Ls[T];if(!Gs)throw Error(`not find ${A} price`);if(!zs)throw Error(`not find ${T} price`);let Vs=i?zs:Gs,Zs=i?Gs:zs,{quote_per_base:Js}=vn(Vs.price,Zs.price),xo=je(n,t),Io=E(qs.toString()).add(((f=xo[A])==null?void 0:f.value)||"0").toFixed(0),Uo=E(Us.toString()).add(((Y=xo[T])==null?void 0:Y.value)||"0").toFixed(0),Fo=i?Io:Uo,Ys=i?Uo:Io,Hs=ae(E(Fe(Ys,i?zs.coin_decimals:Gs.coin_decimals)).mul(Js).toString(),i?Gs.coin_decimals:zs.coin_decimals).toString(),Ws=E(Fo).add(Hs).toFixed(0);return{burn_lp_amount:n,removeLiquidity:Fs,is_coin_a:i,originAmount:Fo,swapAmountIn:Ys,swapAmountOut:E(Hs).toFixed(0,Decimal$1.ROUND_DOWN),totalReceiveAmount:Ws}}async getPackageConfigs(){let t={registry_id:"1",pools_handle:"",pyth_oracle_id:"1",oracle_infos_handle:"",prices_handle:"1",global_config_id:"1"},{package_id:e}=this._sdk.sdkOptions.vaults,i=await this._sdk.FullClient.getObject({id:e,options:{showPreviousTransaction:!0}}),n=gn(i);(await this._sdk.FullClient.queryEventsByPage({Transaction:n})).data.forEach(T=>{let q=T.parsedJson;if(T.type)switch(extractStructTagFromType(T.type).full_address){case`${e}::pool::InitEvent`:t.registry_id=q.registry_id;break;case`${e}::pyth_oracle::InitEvent`:t.pyth_oracle_id=q.pyth_oracle_id;break;case`${e}::config::InitConfigEvent`:t.global_config_id=q.global_config;break}});let s=await this._sdk.FullClient.getObject({id:t.registry_id,options:{showContent:!0}}),a=wi(s);t.pools_handle=a.pools.fields.id.id;let l=await this._sdk.FullClient.getObject({id:t.pyth_oracle_id,options:{showContent:!0}}),A=wi(l);return t.oracle_infos_handle=A.oracle_infos.fields.id.id,t.prices_handle=A.prices.fields.id.id,this._sdk.sdkOptions.vaults.configs=t,this._sdk.sdkOptions}},Pn={"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC":{coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",price_feed_id:"0xeaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a",coin_decimals:6},"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":{coin_type:"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",price_feed_id:"0x23d7315113f5b1d3ba7a83604c44b94d79f4fd69af77f804fc7f920a6dc65744",coin_decimals:9},"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS":{coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",price_feed_id:"0xe5b274b2611143df055d6e7cd8d93fe1961716bcd4dca1cad87a83bc1e78c1ef",coin_decimals:9},"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":{coin_type:"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP",price_feed_id:"0x29bdd5248234e33bd93d3b81100b5fa32eaa5997843847e2c2cb16d7c6d9f7ff",coin_decimals:6},"0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX":{coin_type:"0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX",price_feed_id:"0x88250f854c019ef4f88a5c073d52a18bb1c6ac437033f5932cd017d24917ab46",coin_decimals:9},"0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN":{coin_type:"0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN",price_feed_id:"0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43",coin_decimals:9},"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI":{coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI",price_feed_id:"0x6120ffcf96395c70aa77e72dcb900bf9d40dccab228efca59a17b90ce423d5e8",coin_decimals:9},"0xd0e89b2af5e4910726fbcd8b8dd37bb79b29e5f83f7491bca830e94f7f226d29::eth::ETH":{coin_type:"0xd0e89b2af5e4910726fbcd8b8dd37bb79b29e5f83f7491bca830e94f7f226d29::eth::ETH",price_feed_id:"0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace",coin_decimals:8}},Tn={},lo=(t=>(t.mainnet="mainnet",t.testnet="testnet",t))(lo||{}),Bn=["CETUS","TURBOS","STEAMM","SPRINGSUI","HAEDAL","FLOWX","AFTERMATH","ALPHAFI","BLUEFIN","METASTABLE","VOLO","SCALLOP","KRIYA","FLOWXV3","DEEPBOOKV3","AFSUI","BLUEMOVE","KRIYAV3","HAEDALPMM","OBRIC"];function Nn(t){try{let{request_time:e,error:i,request_params:n,request_url:s,action:a}=t;if(window!=null&&window.gtag){let l=i.message==="Request Timeout";window.gtag("event","API_Error",{request_action:a,request_url:s,request_time:e,request_params:JSON.stringify(n),error_msg:String(i)})}}catch{}}var ho=16*1024,Ve=class{constructor(t){Ua(this,"_sdk");Ua(this,"connection");Ua(this,"suiPythClient");Ua(this,"hasChangeConnection",!1);Ua(this,"errorList",[]);let{pyth_configs:e}=t.sdkOptions.vaults,{pyth_state_id:i,wormhole_state_id:n}=e;this._sdk=t,this.hasChangeConnection=!1;let{primary:s}=t.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(s.length===0)throw new Error("primary url is empty");this.connection=new lib$2.SuiPriceServiceConnection(s),this.suiPythClient=new lib$2.SuiPythClient(this._sdk.FullClient,i,n)}get sdk(){return this._sdk}recordError(t,e,i){let{secondary:n,primary:s}=this._sdk.sdkOptions.vaults.pyth_configs.hermes_service_urls,a={error:t,request_params:e,request_url:this.hasChangeConnection&&n?n:s,action:i,request_time:Date.now()};Nn(a),this.errorList.push(a)}readErrorList(){let t=this.errorList;return this.errorList=[],t}async getFeedInfoList(t){let e=t.map(i=>this.getFeedInfo(i,!1));return await Promise.all(e)}priceCheck(t,e=60){let i=Math.floor(Date.now()/1e3);if(!(Math.abs(i-t.last_update_time)>e))return t}async getLatestPrice(t,e=!1){var a;let i={},n=[];if(e?t.forEach(l=>{let A=this._sdk.getCache(`getLatestPrice_${l}`);A&&this.priceCheck(A,60)?i[l]=A:n.push(l)}):n=[...t],n.length===0)return i;let s=await this.getFeedInfoList(n);return(a=await this.getLatestPriceFeeds(s.map(l=>l.price_feed_id)))==null||a.forEach((l,A)=>{let T=l.getPriceUnchecked();if(T){let{price:q,expo:et}=T,xi=E(q).mul(E(10).pow(E(et))).toString(),Oi=s[A],Ts={coin_type:Oi.coin_type,price:xi,coin_decimals:Oi.coin_decimals,oracle_price:0n,last_update_time:T.publishTime};Ts.oracle_price=Cn(BigInt(q),BigInt(et)),i[n[A]]=Ts,this._sdk.updateCache(`getLatestPrice_${Ts.coin_type}`,Ts)}}),i}async getPriceFeedsUpdateData(t){try{return await this.connection.getPriceFeedsUpdateData(t)}catch(e){this.recordError(e,t,"getPriceFeedsUpdateData");let{secondary:i}=this._sdk.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(i){this.hasChangeConnection=!0,this.connection=new lib$2.SuiPriceServiceConnection(i);try{return await this.connection.getPriceFeedsUpdateData(t)}catch(n){this.recordError(n,t,"getPriceFeedsUpdateData")}}}}async getLatestPriceFeeds(t){try{return await this.connection.getLatestPriceFeeds(t)}catch(e){this.recordError(e,t,"getLatestPriceFeeds");let{secondary:i}=this._sdk.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(i){this.hasChangeConnection=!0,this.connection=new lib$2.SuiPriceServiceConnection(i);try{return await this.connection.getLatestPriceFeeds(t)}catch(n){this.recordError(n,t,"getLatestPriceFeeds")}}}}async buildUpdatePythPricePayload(t,e){let{pyth_configs:i,published_at:n,configs:s}=this._sdk.sdkOptions.vaults,{pyth_state_id:a,pyth_published_at:l,pyth_package_id:A}=i,{global_config_id:T,pyth_oracle_id:q}=s,et=(await this.getFeedInfoList(t)).map(Us=>Us.price_feed_id);if(t.length!==et.length)throw Error("find feed id fail");let xi=await this.getPriceFeedsUpdateData(et);if(!xi)throw new Error("get price update data fail");if(xi.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");let Oi=this.suiPythClient.extractVaaBytesFromAccumulatorMessage(xi[0]),Ts=await this.suiPythClient.verifyVaas([Oi],e),[Fs]=e.moveCall({target:`${l}::pyth::create_authenticated_price_infos_using_accumulator`,typeArguments:[],arguments:[e.object(a),e.pure(suiBcs$1.vector(suiBcs$1.U8).serialize(Array.from(xi[0]),{maxSize:ho}).toBytes()),Ts[0],e.object(ce)]}),qs=0;for(let Us of et){let Ls=await this.suiPythClient.getPriceFeedObjectId(Us);if(!Ls)throw new Error(`Price feed ${Us} not found, please create it first`);[Fs]=e.moveCall({target:`${n}::pyth_oracle::update_price`,typeArguments:[t[qs]],arguments:[e.object(q),e.object(T),e.object(a),Fs,e.object(Ls),e.object(ce)]}),qs+=1}return e.moveCall({target:`${l}::hot_potato_vector::destroy`,arguments:[Fs],typeArguments:[`${A}::price_info::PriceInfo`]}),e}getFeedInfoByJson(t){let{env:e}=this._sdk.sdkOptions,i=tt(t,!1);return e==="mainnet"?Pn[i]:Tn[i]}async getFeedInfo(t,e){let i=`getFeedInfo_${t}`,n=this._sdk.getCache(i,e);if(n)return n;let s=this.getFeedInfoByJson(t);if(s)return s;let{configs:a}=this._sdk.sdkOptions.vaults,l=await this._sdk.FullClient.getDynamicFieldObject({parentId:a.oracle_infos_handle,name:{type:"0x1::type_name::TypeName",value:tt(t,!0)}}),{fields:A}=l.data.content.fields.value,T={coin_type:t,price_feed_id:kn(A.price_feed_id),coin_decimals:A.coin_decimals};return this._sdk.updateCache(i,T),T}},fe=class{constructor(t){Ua(this,"_cache",{});Ua(this,"_sdkOptions");Ua(this,"_senderAddress","");Ua(this,"_vaults");Ua(this,"_pythPrice");Ua(this,"_aggregatorClient");Ua(this,"_cetusClmmSDK");(!t.providers||t.providers.length===0)&&(t.providers=Bn),this._sdkOptions=t,this._cetusClmmSDK=t.env==="testnet"?Ai$1.createSDK({env:"testnet",full_rpc_url:t.fullRpcUrl}):Ai$1.createSDK({env:"mainnet",full_rpc_url:t.fullRpcUrl}),this._vaults=new Ue(this),this._pythPrice=new Ve(this);let{primary:e,secondary:i}=t.vaults.pyth_configs.hermes_service_urls,n=[e,i].filter(Boolean);this._aggregatorClient=new AggregatorClient25({endpoint:t.aggregatorUrl,signer:normalizeSuiAddress$1("0x0"),client:new SuiClient({url:t.fullRpcUrl}),env:t.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:n}),gi(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(t){this._senderAddress=t,this.CetusClmmSDK.setSenderAddress(t)}get sdkOptions(){return this._sdkOptions}get Vaults(){return this._vaults}get PythPrice(){return this._pythPrice}get FullClient(){return this._cetusClmmSDK.FullClient}get AggregatorClient(){return this._aggregatorClient}get CetusClmmSDK(){return this._cetusClmmSDK}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this sdk senderAddress is illegal");return this.senderAddress}async getOwnerCoinAssets(t,e){return await this._cetusClmmSDK.FullClient.getOwnerCoinAssets(t,e)}async getOwnerCoinBalances(t,e){return await this._cetusClmmSDK.FullClient.getOwnerCoinBalances(t,e)}updateCache(t,e,i=tn){this.CetusClmmSDK.updateCache(t,e,i)}getCache(t,e=!1){return this.CetusClmmSDK.getCache(t,e)}},ca=fe;/*! Bundled license information:

@cetusprotocol/common-sdk/dist/index.mjs:
  (*! Bundled license information:
  
  decimal.js/decimal.mjs:
    (*!
     *  decimal.js v10.5.0
     *  An arbitrary-precision Decimal type for JavaScript.
     *  https://github.com/MikeMcl/decimal.js
     *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
     *  MIT Licence
     *)
  *)
*/const store=(t,e)=>({volatileVaultsSdk:new ca(envConfigs$1.volatile_vaults_sdk_options),setVolatileVaultsSdk:i=>{t(()=>({volatileVaultsSdk:i}))}}),usePeripherySDKStore=create(store),isMenuActive=(t,e)=>e.startsWith(t.path)||!!t.children&&t.children.some(i=>isMenuActive(i,e)),getCroppedImg=(t,e,i,n="image/jpeg")=>new Promise((s,a)=>{const l=new Image;l.src=t,l.crossOrigin="anonymous",l.onload=()=>{const A=document.createElement("canvas"),T=A.getContext("2d");A.width=e.width,A.height=e.height,T.drawImage(l,e.x,e.y,e.width,e.height,0,0,e.width,e.height),A.toDataURL(n),A.toBlob(q=>{if(q){const et=new File([q],i,{type:n});s(et)}},n)},l.onerror=A=>{a(A)}}),calcNumber=t=>typeof t=="string"&&t.includes("px")?parseInt(t.replace("px","")):t.toString(),replaceFilename=(t,e)=>{const i=new Blob([t],{type:t.type});return new File([i],e,{type:t.type,lastModified:t.lastModified})},ExcludeCNCharRegex=/^[^\u4e00-\u9fa5]+$/,ExcludeSpecialCharRegex=/^[a-zA-Z0-9\s]+$/,SymbolExcludeSpecialCharRegex=/^[a-zA-Z0-9_]+$/,SymbolLimitRegex=/^[A-Z][A-Za-z_0-9]*$/,BlankSpaceRegex=/\s/,WebSiteUrlRegex=/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/,XUrlRegex=/^(https?:\/\/)?(www\.)?x\.com\/([a-zA-Z0-9_\/\-]*)$/,DiscordRegex=/^(https?:\/\/)?(www\.)?discord\.com(\/[a-zA-Z0-9_\/\-]*)?$/,TelegramRegex=/^(https?:\/\/)?(www\.)?(t\.me|telegram\.org)(\/[a-zA-Z0-9_\-]*)?$/;function SelectTab(t){const{type:e,tabList:i,currentTab:n,isActive:s,handleChangeTab:a,wrapStyle:l={h:"60px",p:"8px"},itemStyle:A={fontSize:"14px"},selectTabItemTextStyle:T,...q}=t,{isApp:et}=useWindowWidth(),xi=Oi=>s?s(n,Oi):n===(Oi.key||Oi.label);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e==="outlineTab"&&jsxRuntimeExports.jsx(Flex,{bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",...l,children:i==null?void 0:i.map((Oi,Ts)=>{const Fs=xi(Oi);return jsxRuntimeExports.jsxs(Flex,{borderRadius:"4px",align:"center",justify:"center",cursor:"pointer",bg:Fs?"card_bg":"none",onClick:()=>a(Oi),_hover:{p:{color:et?"none":"primary"}},...A,children:[Oi.imgInfo&&(Oi!=null&&Oi.isToken?jsxRuntimeExports.jsx(SingleCoinImage,{...Oi.imgInfo,imageUrl:Oi.imgInfo.src}):jsxRuntimeExports.jsx(Image$1,{...Oi.imgInfo,src:Oi.imgInfo.src})),Oi.beforeIcon&&(Oi!=null&&Oi.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Oi.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Oi.beforeIcon,isActive:Fs})}):jsxRuntimeExports.jsx(Icon,{...Oi.beforeIcon,isActive:Fs})),jsxRuntimeExports.jsx(Text$1,{fontSize:A.fontSize,whiteSpace:"nowrap",color:Fs?"primary":"primary_gray",_hover:{color:et?"none":"primary"},...T,children:Oi!=null&&Oi.isToken?textEllipses(Oi.label,10):Oi.label}),(Oi==null?void 0:Oi.num)!==""&&((Oi==null?void 0:Oi.num)||Number(Oi==null?void 0:Oi.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:Oi==null?void 0:Oi.num}),Oi.afterIcon&&(Oi!=null&&Oi.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Oi.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Oi.afterIcon,isActive:Fs})}):jsxRuntimeExports.jsx(Icon,{...Oi.afterIcon,isActive:Fs}))]},`${(Oi==null?void 0:Oi.key)||Oi.label}#${Ts}`)})}),e==="borderTab"&&jsxRuntimeExports.jsx(Flex,{borderRadius:"12px",bg:"bg_secondary",border:"1px solid",borderColor:"border",...l,children:i==null?void 0:i.map(Oi=>jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"center",cursor:"pointer",onClick:()=>a(Oi),_hover:{p:{color:"primary"}},...A,...q,children:[Oi.imgInfo&&jsxRuntimeExports.jsx(Image$1,{...Oi.imgInfo,src:Oi.imgInfo.src,mr:"8px"}),Oi.beforeIcon&&(Oi!=null&&Oi.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Oi.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Oi.beforeIcon,isActive:xi(Oi)})}):jsxRuntimeExports.jsx(Icon,{...Oi.beforeIcon,isActive:xi(Oi)})),jsxRuntimeExports.jsx(Text$1,{color:(s?s(n,Oi):n==(Oi.key||Oi.label))?"primary":"primary_gray",fontSize:A.fontSize,h:A.fontSize,lineHeight:A.fontSize,position:"relative",sx:Object.assign({_hover:{color:"primary"},_before:(s?s(n,Oi):n==(Oi.key||Oi.label))?{content:"''",width:"20px",height:"2px",background:"primary",position:"absolute",left:"calc(50% - 10px)",bottom:-d(calcNumber(l.h)).minus(calcNumber(A.fontSize||"14px")).div(2).toString()+"px"}:{}},(A==null?void 0:A.sx)||{}),children:Oi.label}),(Oi==null?void 0:Oi.num)!==""&&((Oi==null?void 0:Oi.num)||Number(Oi==null?void 0:Oi.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:Oi==null?void 0:Oi.num}),Oi.afterIcon&&(Oi!=null&&Oi.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Oi.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Oi.afterIcon,isActive:xi(Oi)})}):jsxRuntimeExports.jsx(Icon,{...Oi.afterIcon,isActive:xi(Oi)})),(Oi==null?void 0:Oi.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-30px",top:"10px",h:"12px"})]},(Oi==null?void 0:Oi.key)||Oi.label))})]})}const TooltipCon=({children:t,tooltip:e})=>jsxRuntimeExports.jsx(CetusTooltip,{placement:"bottom-end",tooltip:jsxRuntimeExports.jsx(Text$1,{fontSize:"12px",lineHeight:"20px",children:e}),children:jsxRuntimeExports.jsx(Center,{children:t})});function SearchInput({inputValue:t,changeInputValue:e,isFrom:i="",inputFontSize:n="sm",isWidget:s=!1}){const a=reactExports.useRef(null),{isApp:l}=useWindowWidth();return reactExports.useEffect(()=>{l||a.current.focus()},[l]),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{_hover:{bg:s?"swap_bg_secondary":"bg_secondary"},bg:s?"swap_bg_secondary":"bg_secondary",ref:a,borderRadius:"8px",h:"36px",border:"none",variant:"outline",value:t,onChange:A=>{e(A.target.value)},fontWeight:"500",textAlign:"left",fontSize:n,placeholder:"Search by token or address",pr:i=="pools"?"22px":{base:"28px",md:"28px",lg:"28px"},pl:i=="pools"?"8px":{md:"12px",lg:"16px"}}),jsxRuntimeExports.jsx(InputRightElement,{children:t?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",position:"absolute",top:"8px",right:i=="pools"?"4px":"8px",onClick:A=>{A.stopPropagation(),e("")}}):null})]})}var _populated=!1,_ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile;function _populate(){if(!_populated){_populated=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),i=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(t),_ipad=/\b(iP[ao]d)/.exec(t),_android=/Android/i.exec(t),_native=/FBAN\/\w+;/i.exec(t),_mobile=/Mobile/i.exec(t),_win64=!!/Win64/.exec(t),e){_ie=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,_ie&&document&&document.documentMode&&(_ie=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(t);_ie_real_version=n?parseFloat(n[1])+4:_ie,_firefox=e[2]?parseFloat(e[2]):NaN,_opera=e[3]?parseFloat(e[3]):NaN,_webkit=e[4]?parseFloat(e[4]):NaN,_webkit?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),_chrome=e&&e[1]?parseFloat(e[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if(i){if(i[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);_osx=s?parseFloat(s[1].replace("_",".")):!0}else _osx=!1;_windows=!!i[2],_linux=!!i[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED$1={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED$1.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED$1.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}},UserAgent_DEPRECATED_1=UserAgent_DEPRECATED$1,canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),ExecutionEnvironment$1={canUseDOM},ExecutionEnvironment_1=ExecutionEnvironment$1,ExecutionEnvironment=ExecutionEnvironment_1,useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function isEventSupported$1(t,e){if(!ExecutionEnvironment.canUseDOM||e&&!("addEventListener"in document))return!1;var i="on"+t,n=i in document;if(!n){var s=document.createElement("div");s.setAttribute(i,"return;"),n=typeof s[i]=="function"}return!n&&useHasFeature&&t==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var isEventSupported_1=isEventSupported$1,UserAgent_DEPRECATED=UserAgent_DEPRECATED_1,isEventSupported=isEventSupported_1,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel$2(t){var e=0,i=0,n=0,s=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),n=e*PIXEL_STEP,s=i*PIXEL_STEP,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||s)&&t.deltaMode&&(t.deltaMode==1?(n*=LINE_HEIGHT,s*=LINE_HEIGHT):(n*=PAGE_HEIGHT,s*=PAGE_HEIGHT)),n&&!e&&(e=n<1?-1:1),s&&!i&&(i=s<1?-1:1),{spinX:e,spinY:i,pixelX:n,pixelY:s}}normalizeWheel$2.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"};var normalizeWheel_1=normalizeWheel$2,normalizeWheel=normalizeWheel_1;const normalizeWheel$1=getDefaultExportFromCjs$2(normalizeWheel);function getCropSize(t,e,i,n,s,a){a===void 0&&(a=0);var l=rotateSize(t,e,a),A=l.width,T=l.height,q=Math.min(A,i),et=Math.min(T,n);return q>et*s?{width:et*s,height:et}:{width:q,height:q/s}}function getMediaZoom(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function restrictPosition(t,e,i,n,s){s===void 0&&(s=0);var a=rotateSize(e.width,e.height,s),l=a.width,A=a.height;return{x:restrictPositionCoord(t.x,l,i.width,n),y:restrictPositionCoord(t.y,A,i.height,n)}}function restrictPositionCoord(t,e,i,n){var s=e*n/2-i/2;return clamp(t,-s,s)}function getDistanceBetweenPoints(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function getRotationBetweenPoints(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function computeCroppedArea(t,e,i,n,s,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var A=l?limitArea:noOp,T=rotateSize(e.width,e.height,a),q=rotateSize(e.naturalWidth,e.naturalHeight,a),et={x:A(100,((T.width-i.width/s)/2-t.x/s)/T.width*100),y:A(100,((T.height-i.height/s)/2-t.y/s)/T.height*100),width:A(100,i.width/T.width*100/s),height:A(100,i.height/T.height*100/s)},xi=Math.round(A(q.width,et.width*q.width/100)),Oi=Math.round(A(q.height,et.height*q.height/100)),Ts=q.width>=q.height*n,Fs=Ts?{width:Math.round(Oi*n),height:Oi}:{width:xi,height:Math.round(xi/n)},qs=__assign(__assign({},Fs),{x:Math.round(A(q.width-Fs.width,et.x*q.width/100)),y:Math.round(A(q.height-Fs.height,et.y*q.height/100))});return{croppedAreaPercentages:et,croppedAreaPixels:qs}}function limitArea(t,e){return Math.min(t,Math.max(0,e))}function noOp(t,e){return e}function getInitialCropFromCroppedAreaPercentages(t,e,i,n,s,a){var l=rotateSize(e.width,e.height,i),A=clamp(n.width/l.width*(100/t.width),s,a),T={x:A*l.width/2-n.width/2-l.width*A*(t.x/100),y:A*l.height/2-n.height/2-l.height*A*(t.y/100)};return{crop:T,zoom:A}}function getZoomFromCroppedAreaPixels(t,e,i){var n=getMediaZoom(e);return i.height>i.width?i.height/(t.height*n):i.width/(t.width*n)}function getInitialCropFromCroppedAreaPixels(t,e,i,n,s,a){i===void 0&&(i=0);var l=rotateSize(e.naturalWidth,e.naturalHeight,i),A=clamp(getZoomFromCroppedAreaPixels(t,e,n),s,a),T=n.height>n.width?n.height/t.height:n.width/t.width,q={x:((l.width-t.width)/2-t.x)*T,y:((l.height-t.height)/2-t.y)*T};return{crop:q,zoom:A}}function getCenter(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function getRadianAngle(t){return t*Math.PI/180}function rotateSize(t,e,i){var n=getRadianAngle(i);return{width:Math.abs(Math.cos(n)*t)+Math.abs(Math.sin(n)*e),height:Math.abs(Math.sin(n)*t)+Math.abs(Math.cos(n)*e)}}function clamp(t,e,i){return Math.min(Math.max(t,e),i)}function classNames(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(i){return typeof i=="string"&&i.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=function(t){__extends(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.cropperRef=reactExports.createRef(),i.imageRef=reactExports.createRef(),i.videoRef=reactExports.createRef(),i.containerPosition={x:0,y:0},i.containerRef=null,i.styleRef=null,i.containerRect=null,i.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},i.dragStartPosition={x:0,y:0},i.dragStartCrop={x:0,y:0},i.gestureZoomStart=0,i.gestureRotationStart=0,i.isTouching=!1,i.lastPinchDistance=0,i.lastPinchRotation=0,i.rafDragTimeout=null,i.rafPinchTimeout=null,i.wheelTimer=null,i.currentDoc=typeof document<"u"?document:null,i.currentWindow=typeof window<"u"?window:null,i.resizeObserver=null,i.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},i.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!i.containerRef)){var n=!0;i.resizeObserver=new window.ResizeObserver(function(s){if(n){n=!1;return}i.computeSizes()}),i.resizeObserver.observe(i.containerRef)}},i.preventZoomSafari=function(n){return n.preventDefault()},i.cleanEvents=function(){i.currentDoc&&(i.currentDoc.removeEventListener("mousemove",i.onMouseMove),i.currentDoc.removeEventListener("mouseup",i.onDragStopped),i.currentDoc.removeEventListener("touchmove",i.onTouchMove),i.currentDoc.removeEventListener("touchend",i.onDragStopped),i.currentDoc.removeEventListener("gesturemove",i.onGestureMove),i.currentDoc.removeEventListener("gestureend",i.onGestureEnd),i.currentDoc.removeEventListener("scroll",i.onScroll))},i.clearScrollEvent=function(){i.containerRef&&i.containerRef.removeEventListener("wheel",i.onWheel),i.wheelTimer&&clearTimeout(i.wheelTimer)},i.onMediaLoad=function(){var n=i.computeSizes();n&&(i.emitCropData(),i.setInitialCrop(n)),i.props.onMediaLoaded&&i.props.onMediaLoaded(i.mediaSize)},i.setInitialCrop=function(n){if(i.props.initialCroppedAreaPercentages){var s=getInitialCropFromCroppedAreaPercentages(i.props.initialCroppedAreaPercentages,i.mediaSize,i.props.rotation,n,i.props.minZoom,i.props.maxZoom),a=s.crop,l=s.zoom;i.props.onCropChange(a),i.props.onZoomChange&&i.props.onZoomChange(l)}else if(i.props.initialCroppedAreaPixels){var A=getInitialCropFromCroppedAreaPixels(i.props.initialCroppedAreaPixels,i.mediaSize,i.props.rotation,n,i.props.minZoom,i.props.maxZoom),a=A.crop,l=A.zoom;i.props.onCropChange(a),i.props.onZoomChange&&i.props.onZoomChange(l)}},i.computeSizes=function(){var n,s,a,l,A,T,q=i.imageRef.current||i.videoRef.current;if(q&&i.containerRef){i.containerRect=i.containerRef.getBoundingClientRect(),i.saveContainerPosition();var et=i.containerRect.width/i.containerRect.height,xi=((n=i.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((s=i.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,Oi=((a=i.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=i.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,Ts=q.offsetWidth<xi||q.offsetHeight<Oi,Fs=xi/Oi,qs=void 0;if(Ts)switch(i.state.mediaObjectFit){default:case"contain":qs=et>Fs?{width:i.containerRect.height*Fs,height:i.containerRect.height}:{width:i.containerRect.width,height:i.containerRect.width/Fs};break;case"horizontal-cover":qs={width:i.containerRect.width,height:i.containerRect.width/Fs};break;case"vertical-cover":qs={width:i.containerRect.height*Fs,height:i.containerRect.height};break}else qs={width:q.offsetWidth,height:q.offsetHeight};i.mediaSize=__assign(__assign({},qs),{naturalWidth:xi,naturalHeight:Oi}),i.props.setMediaSize&&i.props.setMediaSize(i.mediaSize);var Us=i.props.cropSize?i.props.cropSize:getCropSize(i.mediaSize.width,i.mediaSize.height,i.containerRect.width,i.containerRect.height,i.props.aspect,i.props.rotation);return(((A=i.state.cropSize)===null||A===void 0?void 0:A.height)!==Us.height||((T=i.state.cropSize)===null||T===void 0?void 0:T.width)!==Us.width)&&i.props.onCropSizeChange&&i.props.onCropSizeChange(Us),i.setState({cropSize:Us},i.recomputeCropPosition),i.props.setCropSize&&i.props.setCropSize(Us),Us}},i.saveContainerPosition=function(){if(i.containerRef){var n=i.containerRef.getBoundingClientRect();i.containerPosition={x:n.left,y:n.top}}},i.onMouseDown=function(n){i.currentDoc&&(n.preventDefault(),i.currentDoc.addEventListener("mousemove",i.onMouseMove),i.currentDoc.addEventListener("mouseup",i.onDragStopped),i.saveContainerPosition(),i.onDragStart(e.getMousePoint(n)))},i.onMouseMove=function(n){return i.onDrag(e.getMousePoint(n))},i.onScroll=function(n){i.currentDoc&&(n.preventDefault(),i.saveContainerPosition())},i.onTouchStart=function(n){i.currentDoc&&(i.isTouching=!0,!(i.props.onTouchRequest&&!i.props.onTouchRequest(n))&&(i.currentDoc.addEventListener("touchmove",i.onTouchMove,{passive:!1}),i.currentDoc.addEventListener("touchend",i.onDragStopped),i.saveContainerPosition(),n.touches.length===2?i.onPinchStart(n):n.touches.length===1&&i.onDragStart(e.getTouchPoint(n.touches[0]))))},i.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?i.onPinchMove(n):n.touches.length===1&&i.onDrag(e.getTouchPoint(n.touches[0]))},i.onGestureStart=function(n){i.currentDoc&&(n.preventDefault(),i.currentDoc.addEventListener("gesturechange",i.onGestureMove),i.currentDoc.addEventListener("gestureend",i.onGestureEnd),i.gestureZoomStart=i.props.zoom,i.gestureRotationStart=i.props.rotation)},i.onGestureMove=function(n){if(n.preventDefault(),!i.isTouching){var s=e.getMousePoint(n),a=i.gestureZoomStart-1+n.scale;if(i.setNewZoom(a,s,{shouldUpdatePosition:!0}),i.props.onRotationChange){var l=i.gestureRotationStart+n.rotation;i.props.onRotationChange(l)}}},i.onGestureEnd=function(n){i.cleanEvents()},i.onDragStart=function(n){var s,a,l=n.x,A=n.y;i.dragStartPosition={x:l,y:A},i.dragStartCrop=__assign({},i.props.crop),(a=(s=i.props).onInteractionStart)===null||a===void 0||a.call(s)},i.onDrag=function(n){var s=n.x,a=n.y;i.currentWindow&&(i.rafDragTimeout&&i.currentWindow.cancelAnimationFrame(i.rafDragTimeout),i.rafDragTimeout=i.currentWindow.requestAnimationFrame(function(){if(i.state.cropSize&&!(s===void 0||a===void 0)){var l=s-i.dragStartPosition.x,A=a-i.dragStartPosition.y,T={x:i.dragStartCrop.x+l,y:i.dragStartCrop.y+A},q=i.props.restrictPosition?restrictPosition(T,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):T;i.props.onCropChange(q)}}))},i.onDragStopped=function(){var n,s;i.isTouching=!1,i.cleanEvents(),i.emitCropData(),(s=(n=i.props).onInteractionEnd)===null||s===void 0||s.call(n)},i.onWheel=function(n){if(i.currentWindow&&!(i.props.onWheelRequest&&!i.props.onWheelRequest(n))){n.preventDefault();var s=e.getMousePoint(n),a=normalizeWheel$1(n).pixelY,l=i.props.zoom-a*i.props.zoomSpeed/200;i.setNewZoom(l,s,{shouldUpdatePosition:!0}),i.state.hasWheelJustStarted||i.setState({hasWheelJustStarted:!0},function(){var A,T;return(T=(A=i.props).onInteractionStart)===null||T===void 0?void 0:T.call(A)}),i.wheelTimer&&clearTimeout(i.wheelTimer),i.wheelTimer=i.currentWindow.setTimeout(function(){return i.setState({hasWheelJustStarted:!1},function(){var A,T;return(T=(A=i.props).onInteractionEnd)===null||T===void 0?void 0:T.call(A)})},250)}},i.getPointOnContainer=function(n,s){var a=n.x,l=n.y;if(!i.containerRect)throw new Error("The Cropper is not mounted");return{x:i.containerRect.width/2-(a-s.x),y:i.containerRect.height/2-(l-s.y)}},i.getPointOnMedia=function(n){var s=n.x,a=n.y,l=i.props,A=l.crop,T=l.zoom;return{x:(s+A.x)/T,y:(a+A.y)/T}},i.setNewZoom=function(n,s,a){var l=a===void 0?{}:a,A=l.shouldUpdatePosition,T=A===void 0?!0:A;if(!(!i.state.cropSize||!i.props.onZoomChange)){var q=clamp(n,i.props.minZoom,i.props.maxZoom);if(T){var et=i.getPointOnContainer(s,i.containerPosition),xi=i.getPointOnMedia(et),Oi={x:xi.x*q-et.x,y:xi.y*q-et.y},Ts=i.props.restrictPosition?restrictPosition(Oi,i.mediaSize,i.state.cropSize,q,i.props.rotation):Oi;i.props.onCropChange(Ts)}i.props.onZoomChange(q)}},i.getCropData=function(){if(!i.state.cropSize)return null;var n=i.props.restrictPosition?restrictPosition(i.props.crop,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):i.props.crop;return computeCroppedArea(n,i.mediaSize,i.state.cropSize,i.getAspect(),i.props.zoom,i.props.rotation,i.props.restrictPosition)},i.emitCropData=function(){var n=i.getCropData();if(n){var s=n.croppedAreaPercentages,a=n.croppedAreaPixels;i.props.onCropComplete&&i.props.onCropComplete(s,a),i.props.onCropAreaChange&&i.props.onCropAreaChange(s,a)}},i.emitCropAreaChange=function(){var n=i.getCropData();if(n){var s=n.croppedAreaPercentages,a=n.croppedAreaPixels;i.props.onCropAreaChange&&i.props.onCropAreaChange(s,a)}},i.recomputeCropPosition=function(){if(i.state.cropSize){var n=i.props.restrictPosition?restrictPosition(i.props.crop,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):i.props.crop;i.props.onCropChange(n),i.emitCropData()}},i.onKeyDown=function(n){var s,a,l=i.props,A=l.crop,T=l.onCropChange,q=l.keyboardStep,et=l.zoom,xi=l.rotation,Oi=q;if(i.state.cropSize){n.shiftKey&&(Oi*=.2);var Ts=__assign({},A);switch(n.key){case"ArrowUp":Ts.y-=Oi,n.preventDefault();break;case"ArrowDown":Ts.y+=Oi,n.preventDefault();break;case"ArrowLeft":Ts.x-=Oi,n.preventDefault();break;case"ArrowRight":Ts.x+=Oi,n.preventDefault();break;default:return}i.props.restrictPosition&&(Ts=restrictPosition(Ts,i.mediaSize,i.state.cropSize,et,xi)),n.repeat||(a=(s=i.props).onInteractionStart)===null||a===void 0||a.call(s),T(Ts)}},i.onKeyUp=function(n){var s,a;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}i.emitCropData(),(a=(s=i.props).onInteractionEnd)===null||a===void 0||a.call(s)},i}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var i,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(i=this.resizeObserver)===null||i===void 0||i.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(i){var n,s,a,l,A,T,q,et,xi;i.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):i.aspect!==this.props.aspect?this.computeSizes():i.objectFit!==this.props.objectFit?this.computeSizes():i.zoom!==this.props.zoom?this.recomputeCropPosition():((n=i.cropSize)===null||n===void 0?void 0:n.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=i.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((A=i.crop)===null||A===void 0?void 0:A.x)!==((T=this.props.crop)===null||T===void 0?void 0:T.x)||((q=i.crop)===null||q===void 0?void 0:q.y)!==((et=this.props.crop)===null||et===void 0?void 0:et.y))&&this.emitCropAreaChange(),i.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),i.video!==this.props.video&&((xi=this.videoRef.current)===null||xi===void 0||xi.load());var Oi=this.getObjectFit();Oi!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:Oi},this.computeSizes)},e.prototype.getAspect=function(){var i=this.props,n=i.cropSize,s=i.aspect;return n?n.width/n.height:s},e.prototype.getObjectFit=function(){var i,n,s,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var A=this.containerRect.width/this.containerRect.height,T=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,q=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,et=T/q;return et<A?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(i){var n=e.getTouchPoint(i.touches[0]),s=e.getTouchPoint(i.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(n,s),this.lastPinchRotation=getRotationBetweenPoints(n,s),this.onDragStart(getCenter(n,s))},e.prototype.onPinchMove=function(i){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(i.touches[0]),a=e.getTouchPoint(i.touches[1]),l=getCenter(s,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var A=getDistanceBetweenPoints(s,a),T=n.props.zoom*(A/n.lastPinchDistance);n.setNewZoom(T,l,{shouldUpdatePosition:!1}),n.lastPinchDistance=A;var q=getRotationBetweenPoints(s,a),et=n.props.rotation+(q-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(et),n.lastPinchRotation=q})}},e.prototype.render=function(){var i=this,n,s=this.props,a=s.image,l=s.video,A=s.mediaProps,T=s.cropperProps,q=s.transform,et=s.crop,xi=et.x,Oi=et.y,Ts=s.rotation,Fs=s.zoom,qs=s.cropShape,Us=s.showGrid,Ls=s.style,Gs=Ls.containerStyle,zs=Ls.cropAreaStyle,Vs=Ls.mediaStyle,Zs=s.classes,Js=Zs.containerClassName,xo=Zs.cropAreaClassName,Io=Zs.mediaClassName,Uo=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Ys){return i.containerRef=Ys},"data-testid":"container",style:Gs,className:classNames("reactEasyCrop_Container",Js)},a?reactExports.createElement("img",__assign({alt:"",className:classNames("reactEasyCrop_Image",Uo==="contain"&&"reactEasyCrop_Contain",Uo==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Uo==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Io)},A,{src:a,ref:this.imageRef,style:__assign(__assign({},Vs),{transform:q||"translate(".concat(xi,"px, ").concat(Oi,"px) rotate(").concat(Ts,"deg) scale(").concat(Fs,")")}),onLoad:this.onMediaLoad})):l&&reactExports.createElement("video",__assign({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",Uo==="contain"&&"reactEasyCrop_Contain",Uo==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Uo==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Io)},A,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign(__assign({},Vs),{transform:q||"translate(".concat(xi,"px, ").concat(Oi,"px) rotate(").concat(Ts,"deg) scale(").concat(Fs,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(Fo){return reactExports.createElement("source",__assign({key:Fo.src},Fo))})),this.state.cropSize&&reactExports.createElement("div",__assign({ref:this.cropperRef,style:__assign(__assign({},zs),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",qs==="round"&&"reactEasyCrop_CropAreaRound",Us&&"reactEasyCrop_CropAreaGrid",xo)},T)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},e.getMousePoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},e.getTouchPoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},e}(reactExports.Component);function CropImage({src:t,dataUrl:e,file:i,open:n,onClose:s,onCancel:a,onOk:l}){const[A,T]=reactExports.useState({x:0,y:0}),[q,et]=reactExports.useState(1),[xi,Oi]=reactExports.useState(!1),[Ts,Fs]=reactExports.useState(null),qs=async(Ls,Gs)=>{Fs({croppedArea:Ls,croppedAreaPixels:Gs})},Us=async()=>{Oi(!0);try{const Ls=await getCroppedImg(e,Ts.croppedAreaPixels,i.name,i.type);await l(Ls)}catch(Ls){console.error(Ls)}finally{Oi(!1)}};return jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,returnFocusOnClose:!1,isOpen:n,onClose:s,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontFamily:"Inter",color:"text_caption",fontSize:"16px",children:"Edit file"}),jsxRuntimeExports.jsx(Text$1,{fontFamily:"Inter",children:"Crop and zoom on your image."})]})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Box,{position:"relative",h:"280px",w:"100%",mb:"12px",children:jsxRuntimeExports.jsx(Cropper,{image:t,crop:A,zoom:q,aspect:1,showGrid:!1,onCropChange:T,onCropComplete:qs,onZoomChange:et,style:{cropAreaStyle:{border:"2px solid #76C8FF"}}})}),jsxRuntimeExports.jsxs(HStack,{p:"0px 60px",gap:"24px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomin",fontSize:"20px",svgFill:q-.2<.1?"primary_disabled":"text_paragraph",svgHover:q-.2<.1?"primary_disabled":"text_caption",onClick:()=>{q-.2>=0&&et(q-.2)}}),jsxRuntimeExports.jsxs(Slider,{"aria-label":"slider-ex-1",min:.1,max:3,step:.2,value:q,onChange:Ls=>et(Ls),children:[jsxRuntimeExports.jsx(SliderTrack,{h:"4px",bg:"crop_slider_tracker",children:jsxRuntimeExports.jsx(SliderFilledTrack,{})}),jsxRuntimeExports.jsx(SliderThumb,{boxSize:"4"})]}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:"20px",svgFill:q+.2>3?"primary_disabled":"text_paragraph",svgHover:q+.2>3?"primary_disabled":"text_caption",onClick:()=>{q+.2<=3&&et(q+.2)}})]})]}),jsxRuntimeExports.jsxs(ModalFooter,{justifyContent:"space-between",gap:"16px",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:a||s,flex:"1",fontSize:"14px",children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{flex:"1",fontSize:"14px",onClick:Us,isLoading:xi,children:"Save"})]})]})]})}function ImageViewer({src:t,open:e,onClose:i}){const[n,s]=reactExports.useState(1);return jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,returnFocusOnClose:!1,isOpen:e,onClose:i,colorScheme:"blackAlpha",size:"full",isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:"transparent",backdropFilter:"blur(6px)",backgroundColor:"rgba(0, 0, 0, 0.1)",children:[jsxRuntimeExports.jsx(ModalCloseButton,{size:"lg"}),jsxRuntimeExports.jsxs(ModalBody,{display:"flex",justifyContent:"center",alignItems:"center",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(Image$1,{src:t,transform:`scale(${n})`,w:"100%"})}),jsxRuntimeExports.jsxs(HStack,{position:"absolute",bottom:"100px",left:"calc(50% - 44px)",w:"88px",justify:"space-between",children:[jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomin",cursor:"pointer",onClick:()=>s(n-.2)}),jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomout",cursor:"pointer",onClick:()=>s(n+.2)})]})]})]})]})}const TokenPlaceholder="/images/token_placeholder.png",btnStyle={w:{base:"32px",lg:"28px"},h:{base:"32px",lg:"28px"},bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"3px",display:{base:"block",lg:"none"},cursor:"pointer"};function PreView({src:t,editable:e,onEdit:i,onDelete:n,file:s}){const[a,l]=reactExports.useState(!1),[A,T]=reactExports.useState(!1),q=async et=>{i&&await i({origin:s,cropped:et}),l(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{display:{base:"flex",lg:"block"},position:{base:"static",lg:"relative"},_hover:{div:{display:"flex"}},children:[jsxRuntimeExports.jsx(Image$1,{src:t,fallbackSrc:TokenPlaceholder,alt:"preview",objectFit:"cover",w:{base:"200px",lg:"160px"},h:{base:"200px",lg:"160px"},borderRadius:"12px"}),jsxRuntimeExports.jsxs(Stack$2,{flexDir:{base:"column",lg:"row"},position:{base:"static",lg:"absolute"},justify:{base:"space-between",lg:"center"},ml:{base:"20px",lg:"0"},w:"100%",gap:"12px",bottom:"8px",children:[e&&jsxRuntimeExports.jsx(Tooltip,{label:"Edit file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:et=>{et.stopPropagation(),l(!a)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Preview file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:et=>{et.stopPropagation(),T(!A)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Remove file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:et=>{et.stopPropagation(),n(s)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_del",fontSize:{base:"24px",lg:"20px"}})})})]})]}),A&&jsxRuntimeExports.jsx(ImageViewer,{src:t,open:A,onClose:()=>T(!1)}),a&&jsxRuntimeExports.jsx(CropImage,{src:t,dataUrl:s.dataUrl,file:s,open:a,onClose:()=>l(!1),onOk:q})]})}const CollectListBox=reactExports.lazy(()=>__vitePreload(()=>import("./CollectListBox-DhHd2LDb.js"),__vite__mapDeps([0,1,2,3,4]))),TokenList=reactExports.lazy(()=>__vitePreload(()=>import("./TokenList-BqWOmr43.js"),__vite__mapDeps([5,1,6,7,2,3,4,8,9,10,11,12,13])));function TokenSelectCard(t){const{isWidget:e=!1,isOpen:i,onClose:n,onSelectToken:s,haveImport:a,lastSelectedToken:l,isDisableSelectTokenItem:A=!1,isDcaSelect:T,whiteTokenList:q,isShowCollectListBox:et=!0,isShowHotList:xi=!0,isShowTokenListTab:Oi=!0,isShowLabelTab:Ts=!0,tokenListMaxHeight:Fs,noDataHaveImg:qs=!0,noClickImportItem:Us=!1,bg:Ls,onGoplusTokenClick:Gs}=t,{filterTokenListFun:zs,filterTokenWithLabel:Vs,getImportTokenList:Zs,delImportTokenList:Js,updateImportTokenList:xo,sortWithTokenList:Io}=useTokenSelect(),{setFilterTokenLoading:Uo,setShowImportBtn:Fo,importTokenList:Ys,filterTokenLoading:Hs,filterTokenList:Ws,setTokenModalOpacity:f,userCollectList:Y}=useTokenSelectStore(),{verifiedTokenMap:nt}=useTokenStore(),[vs,ks]=reactExports.useState(""),Ds=oa=>{const ua=oa.replace(/[^[a-zA-Z0-9\s]+$/g,"");ks(ua),ua&&(Uo(!0),Bs(ua))},Bs=useDebounceFunction(oa=>{console.log(" ~ TokenSelectCard.tsx:86 ~ debouncedFilter ~ useDebounceFunction:"),q&&q.length>0?zs(oa,q,[],!1,!1):zs(oa,Array.from(nt==null?void 0:nt.values()),Ys,a)},500),Ms=oa=>{console.log(A,l,oa.coin_type,"selectToken"),A?l!==oa.coin_type&&(s(oa),n()):(s(oa),n())},Q=[{label:"Watchlist",value:"Watchlist"},{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],$s=[{label:"All",value:"All"},{label:"Wormhole",value:"Wormhole"}],[Ks,jo]=reactExports.useState("Default"),[Bo,To]=reactExports.useState("All"),{getCollectList:Oo,getDefaultTokenList:Vo,getTabByAddress:zo,getUserCollectList:so}=useTokenSelect(),[Qs,sa]=reactExports.useState(!1);reactExports.useEffect(()=>{sa(!0)},[]),console.log(nt,"verifiedTokenMap-verifiedTokenMap"),reactExports.useEffect(()=>{console.log(nt,"tokenselect-verifiedTokenMap"),Qs&&nt&&nt.size>0&&Vo(),Qs&&(Zs(),so())},[nt==null?void 0:nt.size,Qs]),reactExports.useEffect(()=>{nt.size>0&&Oo()},[nt]);const[Zo,Qo]=reactExports.useState(!1),la=!Zo&&nt.size>0&&(Ys==null?void 0:Ys.length)>0;reactExports.useEffect(()=>{la&&(xo(),Qo(!0))},[la]),reactExports.useEffect(()=>{f(1),i||(console.log(" ~ file: index.tsx:164 ~ useEffect ~ tab22222"),jo("Default"),To("All"),ks(""),Fo(!1))},[i]);const{coinPriceObj:Ko}=useTokenPriceStore(),{currentAccount:Jo}=useAccountStore(),aa=reactExports.useMemo(()=>Hs?[]:vs?Ws:q&&q.length>0?Io(Bo!=="All"?Ws:q,l):Ks=="Default"?Io(Bo!=="All"?Ws:Array.from(nt==null?void 0:nt.values()),l):Ks=="Imported"?Io(Ys,l):Io(Y,l),[vs,Ws,Hs,Bo,Ks,Ys,q,nt,Ko,Jo==null?void 0:Jo.address,Y]);return reactExports.useEffect(()=>{console.log(" ~ TokenSelectCard ~ tokenList:",aa)},[aa]),reactExports.useEffect(()=>{if(l&&nt&&nt.size>0){const oa=zo(l,Array.from(nt==null?void 0:nt.values()),Ys);console.log(" ~ file: index.tsx:164 ~ useEffect ~ tab:",oa),jo(oa)}},[l,nt,Ys]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{p:"0px 16px",children:[jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(SearchInput,{isWidget:e,inputValue:vs,changeInputValue:oa=>Ds(oa)})}),xi?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",width:{base:"100%",lg:"428px"},flexWrap:"wrap",justifyContent:"space-between",children:[...Array(12)].map((oa,ua)=>jsxRuntimeExports.jsx(Skeleton,{width:"94px",height:"16px",margin:"0 8px 8px 0"},ua))}),children:jsxRuntimeExports.jsx(CollectListBox,{whiteTokenList:q,onSelectToken:oa=>Ms(oa)})}):null,!vs&&Oi?jsxRuntimeExports.jsx(SelectTab,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"395px"},h:"34px",bg:"none",border:"none",marginTop:xi?"":"12px"},itemStyle:{marginRight:"40px",fontSize:"14px"},tabList:Q,currentTab:Ks,handleChangeTab:oa=>{jo(oa.value),Uo(!0),setTimeout(()=>{Uo(!1)},300)}}):null,!vs&&Ks=="Default"&&Ts?jsxRuntimeExports.jsx(SelectTab,{type:"outlineTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:e?"swap_bg_secondary":"bg_secondary",padding:"4px",marginTop:"12px"},itemStyle:{w:`${100/$s.length}%`,fontSize:"14px",borderRadius:"8px"},tabList:$s,currentTab:Bo,handleChangeTab:oa=>{To(oa.value),Vs(oa.value,T?q:Array.from(nt==null?void 0:nt.values()))}}):null,Ks=="Imported"&&Ys&&Ys.length>0&&!vs?jsxRuntimeExports.jsxs(Flex,{p:"16px 0 0",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Text$1,{children:[Ys&&Ys.length," Custom Tokens"]}),jsxRuntimeExports.jsx(Text$1,{cursor:"pointer",_hover:{color:"text_caption"},onClick:()=>{Js(Ys)},children:"Clear All"})]}):null]}),jsxRuntimeExports.jsx(Box,{p:"0px",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",flexDirection:"column",children:[...Array(5)].map((oa,ua)=>jsxRuntimeExports.jsxs(HStack,{gap:"0",height:"64px",padding:"0 16px",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",ml:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"100px"}),jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"150px"})]})]},ua))}),children:jsxRuntimeExports.jsx(TokenList,{onGoplusTokenClick:Gs,tokenList:aa,keyword:vs,currentLabel:Bo,currentTab:Ks,lastSelectedToken:l,isDisableSelectTokenItem:A,isShowCollectListBox:et,isShowTokenListTab:Oi,tokenListMaxHeight:Fs,noDataHaveImg:qs,noClickImportItem:Us,bg:Ls,onSelectToken:oa=>Ms(oa),onClose:n})})})]})}function TokenSelectModal(t){const{isApp:e}=useWindowWidth(),{isOpen:i,onClose:n}=t,{tokenModalOpacity:s}=useTokenSelectStore(),[a,l]=reactExports.useState("400px"),A=()=>{const q=window.innerHeight-380;console.log(" ~ index.tsx:36 ~ calculateMaxHeight ~ remainingHeight:",q),l(`${q}px`)};return reactExports.useEffect(()=>(A(),window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A)}),[]),jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,returnFocusOnClose:!1,isOpen:i,onClose:n,isCentered:!0,motionPreset:"none",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:e?"80%":"462px",opacity:s,transition:"opacity 0.3s",children:[jsxRuntimeExports.jsx(ModalHeader,{p:"18px 16px",children:jsxRuntimeExports.jsx(Heading$1,{fontWeight:"500",fontSize:"16px",children:"Select a token"})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"0",textAlign:"center",overflow:"hidden",children:jsxRuntimeExports.jsx(TokenSelectCard,{...t,tokenListMaxHeight:a})})]})]})}const index=reactExports.memo(TokenSelectModal),index$1=Object.freeze(Object.defineProperty({__proto__:null,default:index},Symbol.toStringTag,{value:"Module"})),CoinSelect=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>CoinSelect$3),void 0)),TradeInput=reactExports.forwardRef(function t({title:e,value:i,amountValue:n,onFocusChange:s,onChange:a,placeholder:l="0.0",balance:A,selectable:T,onTokenChange:q,token:et,half:xi=!0,max:Oi=!0,lock:Ts,loading:Fs,inputAllowed:qs=!0,hideSelf:Us=!1,needRemainBalance:Ls=!0,balanceLabel:Gs,wrapStyle:zs={},calculateAvailableLoading:Vs=!1,currentCoinKey:Zs,whiteTokenList:Js,isWidget:xo=!1,isDcaTo:Io=!1,inputTabOptions:Uo,openSelectTokenModal:Fo},Ys){const{type:Hs="borderTab",tabList:Ws=[],currentTab:f="",handleChangeTab:Y=()=>{},wrapStyle:nt={h:"60px",p:"8px"},itemStyle:vs={fontSize:"14px"}}=Uo||{},ks=reactExports.useRef(null),[Ds,Bs]=reactExports.useState(!1),{currentAccount:Ms}=useAccountStore(),Q=()=>{const Ks=d(A||0).div(2);i&&Ks.eq(i)||a==null||a(formatNumberWithDown(Ks.toString(),et==null?void 0:et.decimals,!0,!0).toString(),!1,!0)},$s=()=>{const Ks=d(A||0),jo=Oe$3.isSuiCoin((et==null?void 0:et.coin_type)||""),Bo=jo&&Ls?.05:0;let To=Ks;jo&&d(Ks).gt(Bo)&&(To=To.sub(Bo)),!(i&&d(To).eq(i))&&d(To).gte(0)&&(a==null||a(To.toString()||"0",!0,!1))};return reactExports.useImperativeHandle(Ys,()=>({focused:Ds}),[Ds]),Us?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsxs(Box,{ref:ks,w:"100%",onFocus:()=>{Bs(!0)},onBlur:()=>{Bs(!1)},borderRadius:"16px",p:{base:"16px 8px",lg:"16px"},h:"122px",border:"1px solid",backgroundColor:qs?"bg_secondary":"card_bg",...zs,borderColor:Ds?"token_active_border":zs!=null&&zs.borderColor?zs==null?void 0:zs.borderColor:"border",boxShadow:Ds?"0px 0px 6px 0px #0067AD":"",pos:"relative",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",justify:"space-between",children:[e&&jsxRuntimeExports.jsx(Text$1,{color:"text_paragraph",fontSize:"13px",fontWeight:"500",h:"16px",mb:Io?"0px":"4px",textAlign:"left",children:e}),jsxRuntimeExports.jsx(HStack,{mt:"-16px",mr:{base:"0",lg:"-8px"},children:Uo&&Ws&&(Ws==null?void 0:Ws.length)>0&&jsxRuntimeExports.jsx(SelectTab,{type:Hs,tabList:Ws,currentTab:f,handleChangeTab:Ks=>Y(Ks),wrapStyle:nt,itemStyle:vs})})]}),jsxRuntimeExports.jsxs(VStack,{gap:Io?"0px":"8px",flexDirection:Io?"column-reverse":"column",children:[jsxRuntimeExports.jsxs(InputGroup,{h:"38px",fontFamily:"Inter",justifyContent:Io?"center":"space-between",gap:"12px",children:[!Io&&jsxRuntimeExports.jsx(Skeleton,{isLoaded:!Fs,height:"38px",width:"calc(100% - 8px)",borderRadius:"8px",children:jsxRuntimeExports.jsx(NumericFormatInput,{value:convertScientificToDecimal(i,9),onChange:Ks=>{a==null||a(Ks,d(Ks).eq(A||"0"))},decimals:et==null?void 0:et.decimals,placeholder:l,inputAllowed:qs,onFocus:()=>{s&&s(!0)},onBlur:()=>{s&&s(!1)},style:{width:"calc(100% - 8px)",background:"none",whiteSpace:"nowrap",opacity:1,outline:"none",color:"var(--chakra-colors-text_caption)",fontSize:xo?"24px":"28px",height:"38px",lineHeight:"38px",touchAction:"manipulation",transition:"all 0.3s",fontWeight:"500"}})}),jsxRuntimeExports.jsx(InputRightAddon,{w:Io?"100%":"unset",children:T?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Skeleton,{h:"20px",w:"100px",borderRadius:"8px"}),children:jsxRuntimeExports.jsx(CoinSelect,{openSelectTokenModal:Fo,selectModalCallback:Ks=>{Bs(!!Ks)},currentCoinKey:Zs,whiteTokenList:Js,value:et,onSelect:q})}):jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et==null?void 0:et.logo_url,w:"28px",h:"28px",coinType:et==null?void 0:et.coin_type},(et==null?void 0:et.symbol)+"Icon"),jsxRuntimeExports.jsx(Text$1,{color:"text_caption",fontSize:"16px",fontWeight:"600",children:textEllipses((et==null?void 0:et.symbol)||"",10)})]})})]}),jsxRuntimeExports.jsxs(HStack,{justify:"space-between",w:"100%",mt:Io&&Ms?"-20px":0,children:[jsxRuntimeExports.jsx(Text$1,{width:"50%",flex:"0",fontWeight:"500",children:n&&+n?`${formatCurrencyWithKMB(n,2)}`:null}),!!Ms&&jsxRuntimeExports.jsxs(HStack,{justify:"flex-end",gap:"8px",children:[jsxRuntimeExports.jsx(Skeleton,{isLoaded:!Vs,children:jsxRuntimeExports.jsxs(HStack,{gap:"4px",children:[Gs?jsxRuntimeExports.jsx(Text$1,{children:Gs}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_wallet",svgHover:"text_paragraph",cursor:"default"}),jsxRuntimeExports.jsx(Text$1,{children:!A||A==="0"?"0.0":formatNumberWithDown(A)})]})}),xi&&jsxRuntimeExports.jsx(Button$1,{onClick:Q,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:xo?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"HALF"}),Oi&&jsxRuntimeExports.jsx(Button$1,{onClick:$s,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:xo?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"MAX"})]})]})]}),(typeof Ts=="boolean"&&Ts||typeof Ts=="object"&&(Ts==null?void 0:Ts.isLock))&&jsxRuntimeExports.jsx(LockInput,{position:"absolute",top:"-1px",borderRadius:"16px",h:(zs==null?void 0:zs.h)||"108px",left:"-1px",w:"calc(100% + 2px)",text:typeof Ts=="object"?Ts==null?void 0:Ts.text:void 0,...typeof Ts=="object"?(Ts==null?void 0:Ts.style)||{}:{}})]})}),Upload=reactExports.forwardRef(function t({w:e="160px",h:i="160px",loading:n,borderRadius:s="12px",children:a,accept:l="image/png, image/jpeg",multiple:A=!1,fileSize:T,field:q,form:et,onChange:xi,onSuccess:Oi,onError:Ts,onDelete:Fs,...qs},Us){const Ls=reactExports.useRef(null),{uploadLoading:Gs,doUploadFile:zs}=useFileUpload(),Vs=async Ys=>{if(Ys)return await zs(Ys)},[Zs,Js]=reactExports.useState([]),xo=async Ys=>{var Hs;try{if((Hs=Ys.target.files)!=null&&Hs.length){const Ws=Ys.target.files[0],f=Ws.name.slice(Ws.name.lastIndexOf(".")+1),Y=`cetus_pump_${dayjs().unix()}.${f}`,nt=replaceFilename(Ws,Y);if(T){const Ds=T.split("MB")[0];if(nt.size>Number(Ds)*1024*1024)throw new Error("file size is over limit")}const vs=await Vs(nt);if(vs!=null&&vs.error)throw new Error(vs==null?void 0:vs.error);vs!=null&&vs.url&&(Oi==null||Oi());const ks=new FileReader;ks.readAsDataURL(nt),ks.onload=Ds=>{var Bs,Ms;if(Ds.type==="load")if(A){const Q=[...Zs,{name:Y,type:nt.type,size:nt.size,lastModified:nt.lastModified,dataUrl:(Bs=Ds.target)==null?void 0:Bs.result,fileUrl:vs==null?void 0:vs.url,sig:vs==null?void 0:vs.sig}];Js(Q)}else{const Q=[{name:Y,type:nt.type,size:nt.size,lastModified:nt.lastModified,dataUrl:(Ms=Ds.target)==null?void 0:Ms.result,fileUrl:vs==null?void 0:vs.url,sig:vs==null?void 0:vs.sig}];Js(Q)}}}}catch(Ws){console.log(Ws.message,"(error as unknown as Error).message"),Ts==null||Ts(Ws.message)}finally{et==null||et.setFieldTouched(q.name,!0)}};useDeepCompareEffect(()=>{var Ys;Zs&&(xi==null||xi(Zs),q.name&&((Ys=et==null?void 0:et.setFieldValue)==null||Ys.call(et,q.name,Zs)))},[Zs]);const Io=async Ys=>{const Hs=await Vs(Ys.cropped),Ws=new FileReader;Ws.readAsDataURL(Ys.cropped),Ws.onload=f=>{var Y;if(f.type==="load")if(A){const nt=Zs.map(vs=>{var ks;return vs.name===Ys.cropped.name?{...vs,size:Ys.cropped.size,lastModified:Ys.cropped.lastModified,dataUrl:(ks=f.target)==null?void 0:ks.result,fileUrl:Hs==null?void 0:Hs.url,sig:Hs==null?void 0:Hs.sig}:vs});Js(nt)}else{const nt=[{name:Ys.cropped.name,type:Ys.cropped.type,size:Ys.cropped.size,lastModified:Ys.cropped.lastModified,dataUrl:(Y=f.target)==null?void 0:Y.result,fileUrl:Hs==null?void 0:Hs.url,sig:Hs==null?void 0:Hs.sig}];Js(nt)}}},Uo=Ys=>{Fs==null||Fs(),Js(Zs.filter(Hs=>Hs.name!==Ys.name)),Ls.current&&(Ls.current.value="")},Fo=()=>{Js([]),Ls.current&&(Ls.current.value="")};return reactExports.useImperativeHandle(Us,()=>({handleClear:Fo}),[Ls.current]),jsxRuntimeExports.jsxs(Box,{w:e,h:i,borderRadius:s,onClick:()=>{var Ys;return(Ys=Ls.current)==null?void 0:Ys.click()},...qs,cursor:"pointer",children:[n||Gs?jsxRuntimeExports.jsx(Spinner,{}):Zs.length?Zs==null?void 0:Zs.map((Ys,Hs)=>Ys.type.startsWith("image")?jsxRuntimeExports.jsx(PreView,{editable:!0,src:Ys.fileUrl,file:Ys,onEdit:Io,onDelete:Uo},Ys.sig||Hs):jsxRuntimeExports.jsx(Box,{as:"a",target:"_blank",download:Ys.fileUrl,children:Ys.name},Ys.sig||Hs)):a,jsxRuntimeExports.jsx(Input,{ref:Ls,id:"file",name:"file",type:"file",display:"none",accept:l,multiple:A,onChange:xo})]})});function ToastDescription(t){const{status:e="confirmation",tx:i,info:n}=t,{getExplorerUrl:s}=useExplorer(),a=n==null?void 0:n.toastDescriptionContent;return e==="submitted"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a&&(typeof a=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:a()}):jsxRuntimeExports.jsx(DescriptionText,{text:a})),!a&&i&&jsxRuntimeExports.jsxs(Box,{as:"div",children:[jsxRuntimeExports.jsx(DescriptionText,{text:"Confirmation is in progress. Check your transaction on",as:"span"}),"",jsxRuntimeExports.jsx(Link,{href:s(i,"tx"),target:"_blank",color:"primary_green",fontSize:"sm",textDecoration:"none",children:"here"})]})]}):e==="rejected"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a&&(typeof a=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:a()}):jsxRuntimeExports.jsx(DescriptionText,{text:a})),!a&&jsxRuntimeExports.jsx(DescriptionText,{text:"Something went wrong"})]}):e==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a&&(typeof a=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:a()}):jsxRuntimeExports.jsx(DescriptionText,{text:a}))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function DescriptionText(t){const{text:e,children:i,...n}=t;return i?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i}):jsxRuntimeExports.jsx(Text$1,{fontSize:"14px",color:"primary_gray",...n,children:jsxRuntimeExports.jsx(Comma,{value:e||""})})}function ToastTitle(t){const{status:e="confirmation",info:i}=t;return e==="submitted"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[jsxRuntimeExports.jsx(Spinner$1,{w:"20px",h:"20px"}),jsxRuntimeExports.jsx(TitleText,{text:"Transaction in progress"})]})}):e==="rejected"?jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",gap:"0px",align:"flex-start",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),"(",jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(TitleText,{text:(i==null?void 0:i.toastTitleText)||"Transaction failed",color:"primary_red"})}),")"]}):e==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[i!=null&&i.iconUrl?jsxRuntimeExports.jsx(Image$1,{src:i.iconUrl,h:"20px",alt:"icon",borderRadius:"4px"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check",svgFill:"primary"}),jsxRuntimeExports.jsx(TitleText,{text:(i==null?void 0:i.toastTitleText)||"Transaction Successful"})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function TitleText(t){const{text:e,color:i="text_caption"}=t;return jsxRuntimeExports.jsx(Heading$1,{fontSize:"14px",lineHeight:"20px",fontWeight:"400",color:i,whiteSpace:{base:"pre-wrap",lg:"wrap"},children:e})}function Toast(t){const{status:e="confirmation",link:i,tx:n,getShowInfo:s,actionType:a,executeTime:l,linkLabel:A="View transaction",onClose:T}=t,{getExplorerUrl:q}=useExplorer(),et=reactExports.useMemo(()=>{if(s)return s(e)},[e]);return jsxRuntimeExports.jsxs(HStack,{w:{base:"calc(100vw - 16px)",lg:"360px"},minW:{base:"calc(100vw - 16px)",lg:"360px"},maxW:{base:"calc(100vw - 16px)",lg:"420px"},bg:"background",border:"1px",borderColor:"border",borderRadius:"12px",p:"16px",gap:"16px",justify:"space-between",alignItems:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{alignItems:"start",children:[jsxRuntimeExports.jsx(ToastTitle,{info:et,status:e}),((et==null?void 0:et.toastDescriptionContent)||n)&&jsxRuntimeExports.jsx(ToastDescription,{info:et,status:e,tx:n}),e!=="submitted"&&i&&jsxRuntimeExports.jsx(Text$1,{fontSize:"12px",children:"View on Explorer"}),e!=="submitted"&&!i&&n&&jsxRuntimeExports.jsxs(HStack,{children:[a==="swap"&&l&&l>0?jsxRuntimeExports.jsx(Text$1,{fontSize:"12px",children:`Txn finalized in ${G$2(l).div(1e3).toString()}s! View Transaction`}):jsxRuntimeExports.jsx(Text$1,{fontSize:"12px",children:"View on Explorer"}),defaultExplorers.map(xi=>jsxRuntimeExports.jsx(Image$1,{onClick:Oi=>{window.open(q(n,"tx",xi),"_blank")},cursor:"pointer",src:xi.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"},xi.name))]})]}),jsxRuntimeExports.jsx(Center,{onClick:T,children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}const UserActions$1=reactExports.lazy(()=>__vitePreload(()=>import("./index-C25_KQre.js").then(t=>t.i),__vite__mapDeps([14,1,15,16,17,18,19,9,4,7,20,21]))),H5Header=({menus:t,logo:e,setting:i,notifications:n,jump:s,isCetusPump:a,children:l})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Flex,{w:"100%",justifyContent:"space-between",align:"center",p:"0px 8px 0px 12px",h:"48px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[jsxRuntimeExports.jsx(Image$1,{src:"/images/img-logo@2x.png",h:"32px",alt:"logo",onClick:()=>s("/")}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{}),children:jsxRuntimeExports.jsx(UserActions$1,{menus:t,logo:e,setting:i,notifications:n,jump:s,isCetusPump:a,children:l})})]})});function NavMenu(t){const{title:e,list:i,isActive:n,socials:s,...a}=t,{pathname:l}=useLocation(),[A,T]=reactExports.useState(!1),[q,et]=reactExports.useState(!1),xi=Ts=>{Ts==null||Ts.stopPropagation(),T(!0)},Oi=Ts=>{Ts==null||Ts.stopPropagation(),T(!1)};return jsxRuntimeExports.jsx(Box,{mb:"-8px",h:{md:A?"140px":"auto",lg:"auto"},children:jsxRuntimeExports.jsx(Box,{pb:"8px",onClick:()=>T(!A),onMouseLeave:Oi,onMouseEnter:xi,children:jsxRuntimeExports.jsx(Menu,{isLazy:!0,id:"more",isOpen:A,onClose:()=>Oi(),placement:"bottom-start",strategy:"fixed",...a,children:({isOpen:Ts})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MenuButton,{p:"0",isActive:Ts,as:Button$1,bg:"none",_hover:{bg:"none",p:{color:"text_caption"},svg:{fill:"text_caption"}},_active:{bg:"none"},children:jsxRuntimeExports.jsxs(Center,{gap:"4px",children:[jsxRuntimeExports.jsx(Text$1,{color:n?"text_caption":"text_paragraph",position:"relative",fontSize:"15px",fontWeight:"500",children:e}),jsxRuntimeExports.jsx(Icon,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:Ts?"rotate(180deg)":"rotate(0deg)"})]})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(MenuList,{zIndex:"999999",p:"8px",display:"flex",flexDir:"column",gap:"8px",minW:"unset",ml:{md:"-16px",lg:"0px"},mt:{md:"-20px",lg:"0px"},bg:{md:"bg_secondary",lg:"bg_secondary"},backdropFilter:{md:"none",lg:"blur(80px)"},children:[i.map(Fs=>{const qs=l.startsWith(Fs.path);return Fs.children?jsxRuntimeExports.jsx(MenuItemWithChildren,{item:Fs,active:qs,isActive:n},Fs.title):jsxRuntimeExports.jsx(Item,{item:Fs,active:qs},Fs.title)}),s&&jsxRuntimeExports.jsx(HStack,{minW:"192px",gap:"8px",children:s==null?void 0:s.map(Fs=>jsxRuntimeExports.jsx(MenuItem,{as:"a",href:Fs.path,target:"_blank",bg:"menu_item_bg",borderRadius:"8px",padding:"11px",flex:"0 0 42px",sx:{h:"42px",p:{color:"text_paragraph"},svg:{fill:"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:Fs.icon?jsxRuntimeExports.jsx(Box,{children:typeof Fs.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:Fs.icon}):jsxRuntimeExports.jsx(Icon,{xlinkHref:Fs.icon.xlinkHref,variant:Fs.icon.variant||""})}):null},Fs.title))})]})})]})})})})}const MenuItemWithChildren=({item:t,active:e,isActive:i})=>{const[n,s]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(Box,{bg:"menu_item_bg",borderRadius:"8px",p:"0 16px",children:[jsxRuntimeExports.jsx(MenuItem,{as:Button$1,variant:"unstyled",w:"100%",h:"42px",bg:"menu_item_bg",borderRadius:"8px",padding:"10px 0px",sx:{p:{color:e?"text_caption":"text_paragraph"},svg:{fill:e?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},onClick:a=>{cancelBubble(a),s(!n)},closeOnSelect:!1,children:jsxRuntimeExports.jsxs(Flex,{align:"center",w:"100%",justify:"space-between",children:[jsxRuntimeExports.jsxs(HStack,{gap:"0px",children:[t.icon?jsxRuntimeExports.jsx(Box,{mr:"12px",children:typeof t.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon}):jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon.xlinkHref,variant:t.icon.variant||""})}):null,jsxRuntimeExports.jsx(Text$1,{mr:"4px",color:i?"text_caption":"text_paragraph",position:"relative",fontSize:"14px",children:t.title})]}),jsxRuntimeExports.jsx(Icon,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:n?"rotate(180deg)":"rotate(0deg)"})]})}),n&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider$1,{borderColor:"border"}),jsxRuntimeExports.jsx(Box,{overflow:"hidden",display:"flex",flexDirection:"column",padding:"16px 0px",gap:"20px",border:"none",boxShadow:"none",borderRadius:"0px 0px 8px 8px",bg:"menu_item_bg",minW:"unset",children:(t.children||[]).map(a=>jsxRuntimeExports.jsx(Item,{item:a,active:e,isChild:!0},a.title))})]})]})},Item=({item:t,active:e,isChild:i=!1})=>t.type==="onClick"?jsxRuntimeExports.jsxs(MenuItem,{as:Button$1,variant:"unstyled",justifyContent:"flex-start",onClick:t==null?void 0:t.onClick,...i?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:e?"text_caption":"text_paragraph"},svg:{fill:e?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[t.icon?jsxRuntimeExports.jsx(Box,{mr:"12px",children:typeof t.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon}):jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon.xlinkHref,variant:t.icon.variant||""})}):null,jsxRuntimeExports.jsxs(Box,{position:"relative",children:[jsxRuntimeExports.jsx(Text$1,{children:t.title}),(t==null?void 0:t.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):t.type==="_blank"?jsxRuntimeExports.jsxs(MenuItem,{as:"a",href:t.path,target:"_blank",...i?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:e?"text_caption":"text_paragraph"},svg:{fill:e?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[t.icon?jsxRuntimeExports.jsx(Box,{mr:"12px",children:typeof t.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon}):jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon.xlinkHref,variant:t.icon.variant||""})}):null,jsxRuntimeExports.jsxs(Box,{position:"relative",children:[jsxRuntimeExports.jsx(Text$1,{children:t.title}),(t==null?void 0:t.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):jsxRuntimeExports.jsxs(MenuItem,{as:Link$1,to:t.path,...i?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{h:i?"20px":"42px",p:{color:e?"text_caption":"text_paragraph"},svg:{fill:e?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[t.icon?jsxRuntimeExports.jsx(Box,{mr:"12px",children:typeof t.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon}):jsxRuntimeExports.jsx(Icon,{xlinkHref:t.icon.xlinkHref,variant:t.icon.variant||""})}):null,jsxRuntimeExports.jsxs(Box,{pos:"relative",children:[jsxRuntimeExports.jsx(Text$1,{children:t.title}),(t==null?void 0:t.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),PCMenus=({menus:t,logo:e,jump:i})=>{const{pathname:n}=useLocation();return jsxRuntimeExports.jsxs(Flex,{align:"center",gap:{lg:"32px",xl:"48px"},children:[jsxRuntimeExports.jsx(Image$1,{src:e.image,h:"32px",alt:"logo",onClick:()=>i(e.url)}),jsxRuntimeExports.jsx(Flex,{align:"center",gap:"32px",children:t==null?void 0:t.map(s=>s!=null&&s.children?jsxRuntimeExports.jsx(NavMenu,{title:s.title,isActive:isMenuActive(s,n),list:s.children,socials:s.socials},s.title):jsxRuntimeExports.jsx(NavLink,{type:s==null?void 0:s.type,link:s.path,isActive:isMenuActive(s,n),children:jsxRuntimeExports.jsx(Text$1,{color:"inherit",fontSize:"15px",fontWeight:"500",children:s.title})},s.title))})]})},UserActions=reactExports.lazy(()=>__vitePreload(()=>import("./index-C25_KQre.js").then(t=>t.i),__vite__mapDeps([14,1,15,16,17,18,19,9,4,7,20,21]))),PCHeader=({menus:t,logo:e,setting:i,notifications:n,jump:s,isCetusPump:a,children:l})=>jsxRuntimeExports.jsxs(Flex,{w:"100%",justifyContent:"space-between",align:"center",h:"80px",p:"0px 20px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[jsxRuntimeExports.jsx(PCMenus,{menus:t,logo:e,jump:s}),jsxRuntimeExports.jsx(UserActions,{isCetusPump:a,notifications:n,setting:i,children:l})]});var c=class{constructor(){Ua(this,"_listeners",{})}on(t,e,i=0){this._listeners[t]||(this._listeners[t]=[]),e._priority=i,this._listeners[t].indexOf(e)===-1&&(this._listeners[t].push(e),this._listeners[t].length>1&&this._listeners[t].sort(this.listenerSorter))}listenerSorter(t,e){return t._priority-e._priority}off(t,e){if(this._listeners[t]===void 0)return;if(e===void 0){delete this._listeners[t];return}let i=this._listeners[t].indexOf(e);-1<i&&this._listeners[t].splice(i,1)}trigger(t,e={}){if(typeof t=="string"&&(t={type:t,data:typeof e=="object"&&e!==null?e:{}}),typeof this._listeners[t.type]<"u")for(let i=this._listeners[t.type].length-1;i>=0;i--)this._listeners[t.type][i](t)}destroy(){this._listeners={}}},r=class extends c{constructor(e=Math.random()*100|0){super();Ua(this,"id");Ua(this,"connected");Ua(this,"connecting");Ua(this,"isChild");Ua(this,"debug");Ua(this,"supported");Ua(this,"origin");Ua(this,"_sendLater");Ua(this,"iframe");this.id=`BELLHOP:${e}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(e){if(this.target===e.source){if(this.logDebugMessage(!0,e),e.data!=="connected"){let i=e.data;if(typeof i=="string")try{i=JSON.parse(i)}catch(n){console.warn("Bellhop error: ",n)}this.connected&&typeof i=="object"&&i.type&&this.trigger(i);return}this.onConnectionReceived(e.data)}}onConnectionReceived(e){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(e,this.origin)}for(let i=0;i<this._sendLater.length;i++){let{type:n,data:s}=this._sendLater[i];this.send(n,s)}this._sendLater.length=0,this.trigger("connected")}connect(e,i="*"){var n;this.connecting||(this.disconnect(),this.connecting=!0,e instanceof HTMLIFrameElement&&(this.iframe=e),this.isChild=e===void 0,this.supported=!0,this.isChild&&(this.supported=window!=e),this.origin=i,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):(n=this.target)==null||n.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(e,i={}){var s;if(typeof e!="string")throw"The event type must be a string";let n={type:e,data:i};this.logDebugMessage(!1,n),this.connecting?this._sendLater.push(n):(s=this.target)==null||s.postMessage(JSON.stringify(n,(a,l)=>typeof l=="bigint"?l.toString():l),this.origin)}fetch(e,i,n={},s=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let a=l=>{s&&this.off(l.type,a),i(l)};this.on(e,a),this.send(e,n)}respond(e,i={},n=!1){let s=this,a=async function(l){n&&s.off(l,a),typeof i=="function"?s.send(l.type,await i()):s.send(l.type,i)};this.on(e,a)}logDebugMessage(e=!1,i){this.debug&&typeof this.debug=="function"?console.log({isChild:this.isChild,received:e,message:i}):this.debug&&console.log(`Bellhop Instance (${this.isChild?"Child":"Parent"}) ${e?"Received":"Sent"}`,i)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){var e;return this.isChild?window.parent:(e=this.iframe)==null?void 0:e.contentWindow}},M=class{constructor(t,e,i){Ua(this,"accounts",[]);Ua(this,"currentAccount");Ua(this,"bellhop",new r);Ua(this,"walletMessageListener");Ua(this,"onAccountChangeListner");Ua(this,"version","1.0.0");Ua(this,"name","MSafe Wallet");Ua(this,"icon","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ3IiBoZWlnaHQ9IjE3MCIgdmlld0JveD0iMCAwIDI0NyAxNzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAyLjU5MyAyMy4wMTNDMTA3LjQ5OSAyNi4wNTU4IDExMC43OTQgMzAuODc4NSAxNDAuOTEyIDc5LjEwMzlDMTcyLjQxOSAxMjkuNTUyIDE3My44NjQgMTMyLjExNCAxNzMuODY0IDEzNy41MzZDMTczLjg2NCAxNDIuNDUxIDE3My4zNCAxNDMuNzI1IDE2OS45MTcgMTQ3LjExMkMxNjYuNDc2IDE1MC41MTggMTY1LjIyMiAxNTEuMDE5IDE2MC4xMzggMTUxLjAxOUMxNTUuNTg0IDE1MS4wMTkgMTUzLjUzNiAxNTAuMzc4IDE1MC43OTcgMTQ4LjA5N0MxNDguODY4IDE0Ni40OTEgMTM5Ljg2MiAxMzMuMTc1IDEzMC43ODUgMTE4LjUwOEMxMDMuNzE5IDc0Ljc3NDEgOTAuMDYxIDUzLjE2NzYgODkuNzI2NyA1My41NTQ5Qzg2LjY2ODUgNTcuMTAzMyA3OC42NjEgNzIuMzY1NiA3OC42NjEgNzQuNjQ0M0M3OC42NjEgNzYuNTM4IDg0LjQ0NjMgODcuMzAwNCA5My43MjA1IDEwMi42NThDMTAyLjAwMyAxMTYuMzc0IDEwOS41OTQgMTI5LjUyNCAxMTAuNTg5IDEzMS44ODFDMTE0LjQ2NCAxNDEuMDYyIDEwNy43NTQgMTUxLjAxOSA5Ny42ODc3IDE1MS4wMTlDOTQuODQwOSAxNTEuMDE5IDkxLjIxNTEgMTUwLjE3OCA4OS42MzAzIDE0OS4xNTFDODguMDQ1NSAxNDguMTIyIDgwLjk3OTUgMTM3Ljc4IDczLjkyODcgMTI2LjE2OUM2Ni44Nzc4IDExNC41NTYgNjAuNjc0NSAxMDUuMDU1IDYwLjE0MjggMTA1LjA1NUM1OS42MTEgMTA1LjA1NSA1My42OTMzIDExNC4yMzQgNDYuOTkzMSAxMjUuNDUyQzQwLjI5MjkgMTM2LjY2OSAzMy43MjYyIDE0Ni44MTUgMzIuNDAxNSAxNDcuOTk1QzMxLjA3NjcgMTQ5LjE3NiAyNy43MDYzIDE1MC4zOTYgMjQuOTEyOSAxNTAuNzA5QzE1LjgzODQgMTUxLjcyMSA5IDE0NS44NzggOSAxMzcuMTFDOSAxMzIuODQyIDkuMDQ4NzYgMTMyLjc1MiA0My41MzU2IDc0LjAyOTVDNTcuODI1NCA0OS42OTczIDcxLjIyMTIgMjguMDc5MyA3My4zMDQxIDI1Ljk4OTFDODEuMDc3MSAxOC4xODc5IDkyLjg4IDE2Ljk4OTQgMTAyLjU5MyAyMy4wMTNaTTE2Ni45MDEgMjMuMDIzM0MxNzAuMzA4IDI2LjQ4MjEgMjMzLjQ5OSAxMjcuMTE2IDIzNS40NDcgMTMyLjE4NUMyMzguMjU4IDEzOS41MDQgMjM1LjI3NyAxNDYuMzEyIDIyNy42NjUgMTQ5Ljk2QzIyMy41NDcgMTUxLjkzMyAyMjIuMDczIDE1Mi4xMSAyMTguMjQ1IDE1MS4wODlDMjE1Ljc0OSAxNTAuNDI0IDIxMi44NjYgMTQ4Ljk2IDIxMS44MzggMTQ3LjgzNUMyMTAuODA5IDE0Ni43MSAxOTQuNzk2IDEyMS41IDE3Ni4yNTMgOTEuODExOEMxNDAuMDU0IDMzLjg1NyAxNDAuMDQ0IDMzLjgzNTIgMTQ0LjI3NCAyNS43Mzk4QzE0OC4yNjMgMTguMTAxNyAxNjAuNTk0IDE2LjYyMjggMTY2LjkwMSAyMy4wMjMzWiIgZmlsbD0iIzQ4QjVBNyIvPgo8L3N2Zz4K");Ua(this,"chains",[SUI_MAINNET_CHAIN,SUI_TESTNET_CHAIN]);Ua(this,"features",{"standard:connect":{version:"1.0.0",connect:async()=>{this.bellhop.send("connect");let t=await this.fetch("account");return this.accounts=t,t.length>0&&(this.currentAccount=t[0]),{accounts:t}}},"standard:events":{version:"1.0.0",on:t=>()=>{}},"sui:signMessage":{version:"1.0.0",signMessage:async()=>{throw new Error("No impl")}},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:async()=>{throw new Error("No impl")}},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:async t=>this.proposeIntention(t)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:async t=>this.proposeIntention(t)}});this.appName=t,this.clientUrl=e,this.network=i,this.bellhop.connect(),this.bellhop.on("walletMessage",async n=>{this.walletMessageListener&&this.walletMessageListener.onMessage(n.data)}),this.bellhop.on("accountChange",async n=>{this.currentAccount=n.data,this.onAccountChangeListner&&this.onAccountChangeListner.onAccountChange(this.currentAccount)})}setWalletMessageListener(t){this.walletMessageListener=t}setOnAccountChangeListener(t){this.onAccountChangeListner=t}static inMSafeWallet(){return typeof window<"u"&&typeof document<"u"&&typeof parent<"u"&&typeof parent.window<"u"&&parent.window!==window}async proposeIntention(t){if(!this.currentAccount)throw new Error("Wallet not connected");let e=t.transactionBlock.serialize();this.bellhop.send("proposeIntention",{application:this.appName,...t,transactionBlockSerialize:e,clientUrl:this.clientUrl,network:this.network,account:this.currentAccount,isTransaction:!0});let i;return this.bellhop.on("cancel",async()=>{i&&i("User canceled")}),new Promise((n,s)=>{i=s})}async fetch(t){return new Promise(e=>{this.bellhop.fetch(t,i=>{e(i.data)})})}};function ConnectWalletModal(t){const{isOpen:e,onClose:i}=t,n=useWallets(),{isApp:s}=useWindowWidth(),{mutate:a}=useConnectWallet(),{customToast:l,successTsToast:A}=useGlobalToast(),{saveCurrentAccount:T,accountServiceNameObj:q,setAccountServiceNameObj:et}=useAccountStore(),{phantomInstance:xi}=useGlobalStore(),Oi=reactExports.useMemo(()=>s?suiWalletList:suiWalletList.filter(qs=>qs.name!=="Sui Wallet"&&qs.name!=="xPortal")||[],[suiWalletList,s]),Ts=qs=>{l(jsxRuntimeExports.jsxs(VStack,{gap:"8px",alignItems:"start",children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),jsxRuntimeExports.jsx(Heading$1,{fontSize:"14px",fontWeight:"400",whiteSpace:"nowrap",color:"primary_red",children:"Wallet Not Ready Error"})]}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"Please install"}),jsxRuntimeExports.jsx(Text$1,{cursor:"pointer",fontSize:"14px",color:"primary",wordBreak:"break-all",onClick:()=>{window.open(qs.url,"_blank")},children:qs.name}),jsxRuntimeExports.jsx(Text$1,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"extension first"})]})]}))},Fs=async qs=>{var zs;console.log(" ~ file: ConnectWalletModal.tsx:30 ~ ConnectWalletModal ~ supportWalletList:",{supportWalletList:n,wallet:qs});const Us=(M==null?void 0:M.inMSafeWallet())&&(qs==null?void 0:qs.name)==="MSafe",Ls=n.find(Vs=>qs.walletName.includes("Slush")?Vs.name.includes("Slush"):Vs.name===qs.walletName);if(console.log(" ~ handleConnectWal ~ wallet.walletName:",{supportWalletList:n,walletObj:Ls,phantomInstance:xi}),!Us&&!Ls){Ts(qs);return}const Gs=Us?{wallet:new M("cetus",getFullnodeUrl("mainnet"),"sui:mainnet"),silent:!0}:{wallet:Ls};console.log(" ~ handleConnectWal ~ walletArg sui:",Ls,(zs=xi==null?void 0:xi.solana)==null?void 0:zs.sui);try{xi&&((Ls==null?void 0:Ls.name)==="Phantom"?xi.show():xi.hide())}catch(Vs){console.log(" ~ handleConnectWal ~ error:",Vs)}a(Gs,{onSuccess:async(Vs,Zs,Js)=>{A({getShowInfo:xo=>({iconUrl:qs.icon.startsWith("http")?qs.icon:`/images/wallet/${qs.icon}.png`,toastTitleText:"Wallet Connected"})}),console.log(" ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onSuccess:",{data:Vs,variables:Zs,context:Js}),i()},onError:(Vs,Zs,Js)=>{console.log(" ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onError:",{error:Vs,variables:Zs,context:Js}),String(Vs).includes("MetaMask not detected")&&Ts(qs)}}),i()};return jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,returnFocusOnClose:!1,isOpen:e,onClose:i,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:s?"300px":"552px",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Connect a Wallet"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"16px",textAlign:"center",children:jsxRuntimeExports.jsx(VStack,{children:jsxRuntimeExports.jsx(Grid,{templateColumns:s?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:13,w:"100%",children:Oi.map(qs=>jsxRuntimeExports.jsx(GridItem,{colSpan:1,children:jsxRuntimeExports.jsxs(HStack,{p:"0 12px",h:"60px",bg:"bg_six",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{p:{color:"primary"}},onClick:()=>{Fs(qs)},children:[jsxRuntimeExports.jsx(Image$1,{src:qs.icon.startsWith("http")?qs.icon:`/images/wallet/${qs.icon}.png`,alt:"SVG Image",boxSize:{base:"28px",lg:"36px"},objectFit:"cover",borderRadius:"8px",loading:"lazy"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"4px",children:[qs.name=="SuiMetaMaskSnap"?jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"0px",children:[jsxRuntimeExports.jsx(Text$1,{color:"text_caption",textAlign:"left",children:"Sui"}),jsxRuntimeExports.jsx(Text$1,{textAlign:"left",color:"text_caption",children:"MetaMask"}),jsxRuntimeExports.jsx(Text$1,{textAlign:"left",color:"text_caption",children:"Snap"})]}):jsxRuntimeExports.jsx(Text$1,{lineHeight:"16px",textAlign:"left",color:"text_caption",whiteSpace:"normal",wordBreak:"break-word",overflowWrap:"break-word",children:qs.name}),qs.name=="Binance"&&jsxRuntimeExports.jsx(Text$1,{fontWeight:"500",fontSize:"10px",p:"2px 6px",textAlign:"center",borderRadius:"4px",bg:"primary_opacity.10",color:"primary",children:"Mobile"})]})]})},qs.name))})})})]})]})}const ConnectWalletModal$1=reactExports.memo(ConnectWalletModal),CetusLayout=reactExports.lazy(()=>__vitePreload(()=>import("./CetusLayout-BmVTnRTi.js").then(t=>t.C),__vite__mapDeps([22,1,23,24,3,25,26,27,28,29,30,31,19,17,32,9,8,33,34,35,36,37,38,2,4,12,39,40,41,42,21,11,10,43,44,45,46,16,15])));function Layout(){const{currentAccount:t,addressChangeVersion:e}=useAccountStore(),{clearData:i}=useXCetusStore(),{getVerifiedCoins:n}=useGetTokens();return reactExports.useEffect(()=>{n()},[]),reactExports.useEffect(()=>{(t===void 0||e>0)&&i()},[t,e]),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(CetusLayout,{})})})}const Stats=reactExports.lazy(()=>__vitePreload(()=>import("./Stats-Ch0iBPIm.js"),__vite__mapDeps([47,1,48,49,27,50,51,52,41,53,54,45,55,25,7,56,57,58,59,2,3,4,60,61,42]))),Swap=reactExports.lazy(()=>__vitePreload(()=>import("./Swap-tEgrTa1i.js"),__vite__mapDeps([62,1,63,25,64]))),Dca=reactExports.lazy(()=>__vitePreload(()=>import("./Dca-fpJbSS3q.js"),__vite__mapDeps([65,1,66,25,67,63,31,19,17,51,7,42,68,12,69,9,70,3,30,24,26,27,8,33,71,37,36,40,41,72,20,2,4,73,74,21,75,76]))),Pools=reactExports.lazy(()=>__vitePreload(()=>import("./Pools-B0t8vErA.js"),__vite__mapDeps([77,1,78,26,27,20,42,79,80,6,2,3,4,36,48,49,50,51,52,41,53,54,45,55,25,81,46,82,7,56,57,13,58,59,60,83,84,8,9,12,85,34,35,24,39,86,87,31,19,17,40,88,89,69,90,91,15,92,44,93,94,95,68,33,21,96,97,75,76,98]))),Liquidity=reactExports.lazy(()=>__vitePreload(()=>import("./Liquidity-VxkHd-hy.js"),__vite__mapDeps([99,1,34,25,35,36,8,9,24,3,26,27,49,83,84,78,12,85,42,39,86,87,31,19,17,40,41,20,88,89,82,69,90,91,15,92,44,45,46,93,58,94,2,4,95,68,33,21,60,96,57,97,50,51,52,53,54,55,7,61,75,76,100,101,102,103,104,43,80,6,105,73,28,23,10,37,72]))),PositionDetail=reactExports.lazy(()=>__vitePreload(()=>import("./PositionDetail-QpFMzRYC.js"),__vite__mapDeps([106,1,58,59,2,3,4,60,34,25,35,36,8,9,24,26,27,100,12,96,97,90,78,31,19,17,87,94,95,68,49,55,101,76,102,98,91,15,92,44,45,46,88,89,82,69,93,40,41,70,28,10,42,75]))),Farms=reactExports.lazy(()=>__vitePreload(()=>import("./Farms-CU6ffEIc.js"),__vite__mapDeps([107,1,94,31,19,17,9,87,90,3,78,26,27,2,4,95,68,7,58,108,25,59,60,42,56,75,76]))),CreatePool=reactExports.lazy(()=>__vitePreload(()=>import("./CreatePool-CPQ8tdXJ.js"),__vite__mapDeps([109,1,103,3,35,69,104,43,44,45,46,80,20,6,2,4,36,89,12,86,95,26,27,39,8,9,40,41,105,73,102,110,93,25,87,101,31,19,17,76,42]))),Limit=reactExports.lazy(()=>__vitePreload(()=>import("./Limit-4Q12hvVo.js"),__vite__mapDeps([111,1,51,7,68,31,19,17,9,3,2,4,108,25,90,78,26,27,58,94,87,95,59,60,30,24,8,70,33,40,41,72,20,66,67,63,112,32,36,82,64,39,73,74,21,75,76,42]))),SelectForLiquidity=reactExports.lazy(()=>__vitePreload(()=>import("./SelectForLiquidity-NEHa7ZZQ.js"),__vite__mapDeps([113,1,103,3,35,69,104,43,44,45,46,80,20,6,2,4,36,110,93,25,87,101,26,27,10]))),VaultsV2=reactExports.lazy(()=>__vitePreload(()=>import("./VaultsV2-DRshQwFA.js"),__vite__mapDeps([114,1,7,84,26,27,8,9,3,78,12,115,60,96,59,2,4,79,80,20,6,36,42,56,21]))),XCetus=reactExports.lazy(()=>__vitePreload(()=>import("./XCetus-C3AUfgZt.js"),__vite__mapDeps([116,1,31,19,17,87,9,8,92,3,44,45,46,40,41,20,38,12,96,75,76]))),VaultsDetailPage=reactExports.lazy(()=>__vitePreload(()=>import("./VaultsDetailPage-BvfQZiCL.js"),__vite__mapDeps([117,1,84,26,27,8,9,3,78,12,85,34,25,35,36,24,42,39,86,87,31,19,17,40,41,20,88,89,82,69,90,91,15,92,44,45,46,49,93,58,94,2,4,95,68,33,115,28,10,7,21,52,61,53,54,55,118,96,71,60]))),Notfound=reactExports.lazy(()=>__vitePreload(()=>import("./404-D9N70E_k.js"),__vite__mapDeps([119,1]))),ErrorPage=reactExports.lazy(()=>__vitePreload(()=>import("./Error-TOizjG3B.js"),__vite__mapDeps([120,1]))),TestCoin=reactExports.lazy(()=>__vitePreload(()=>import("./TestCoin-NCxU6s3X.js"),__vite__mapDeps([121,1,17]))),TestNotifi=reactExports.lazy(()=>__vitePreload(()=>import("./TestNotifi-BwPaKKWa.js"),__vite__mapDeps([122,1,91,15,92,3,44,45,46,90,78,26,27]))),Test=reactExports.lazy(()=>__vitePreload(()=>import("./Test-C6FaWE3x.js"),__vite__mapDeps([123,1]))),RedirectToPools=()=>jsxRuntimeExports.jsx(Navigate,{to:"/pools",replace:!0}),router=[{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[{path:"swap",element:jsxRuntimeExports.jsx(Swap,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Swap,{})}]},{path:"limit",element:jsxRuntimeExports.jsx(Limit,{}),children:[{path:":pay/:target",element:jsxRuntimeExports.jsx(Limit,{})}]},{path:"dca",element:jsxRuntimeExports.jsx(Dca,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Dca,{})}]},{path:"pools/*",element:jsxRuntimeExports.jsx(Pools,{})},{path:"pool/list",element:jsxRuntimeExports.jsx(RedirectToPools,{})},{path:"position-detail",element:jsxRuntimeExports.jsx(PositionDetail,{}),children:[{path:":position_nft_id",element:jsxRuntimeExports.jsx(PositionDetail,{})}]},{path:"select-pool",element:jsxRuntimeExports.jsx(SelectForLiquidity,{})},{path:"liquidity/*",element:jsxRuntimeExports.jsx(Liquidity,{})},{path:"create-pool",element:jsxRuntimeExports.jsx(CreatePool,{}),children:[{path:":base/:quote/:fee",element:jsxRuntimeExports.jsx(CreatePool,{})},{path:":base/:quote/",element:jsxRuntimeExports.jsx(CreatePool,{})}]},{path:"farms",element:jsxRuntimeExports.jsx(Farms,{})},{path:"vaults",element:jsxRuntimeExports.jsx(VaultsV2,{})},{path:"vaults-v2",element:jsxRuntimeExports.jsx(VaultsV2,{})},{path:"vaults-detail",element:jsxRuntimeExports.jsx(VaultsDetailPage,{}),children:[{path:":vaultId/:category?",element:jsxRuntimeExports.jsx(VaultsDetailPage,{})}]},{path:"xCetus",element:jsxRuntimeExports.jsx(XCetus,{})},{path:"buy-crypto",element:jsxRuntimeExports.jsx("div",{children:"buy-crypto"})},{path:"stats",element:jsxRuntimeExports.jsx(Stats,{})},{path:"error",element:jsxRuntimeExports.jsx(ErrorPage,{})},{path:"test-notifi",element:jsxRuntimeExports.jsx(TestNotifi,{})},{path:"test-coin",element:jsxRuntimeExports.jsx(TestCoin,{})},{path:"test",element:jsxRuntimeExports.jsx(Test,{})},{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/swap"})}]},{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/404"})},{path:"/404",element:jsxRuntimeExports.jsx(Notfound,{})}],router$1=createBrowserRouter(router),{networkConfig}=createNetworkConfig({mainnet:{url:getFullnodeUrl("mainnet")}}),queryClient=new QueryClient;function App(){const{setPhantomInstance:t}=useGlobalStore();return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(SuiClientProvider,{networks:networkConfig,defaultNetwork:"mainnet",children:jsxRuntimeExports.jsx(WalletProvider,{autoConnect:!0,slushWallet:{name:"Cetus"},children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(GeneralLoading,{}),children:jsxRuntimeExports.jsx(RouterProvider,{router:router$1})})})})})}client$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(App,{})}));export{G$2 as $,useTokenSelectStore as A,Block as B,CoinPairImage as C,DcaOrderHistoryPath as D,Ee$3 as E,addComma as F,Go as G,useGlobalToast as H,Icon as I,CetusTooltip as J,cancelBubble as K,useGetTokenSource as L,useTokenStore as M,NumericFormatInput as N,IconTipsTriangle as O,fixRounding as P,fromDecimalsAmountFix as Q,formatCurrency$1 as R,StatsPoolsPath as S,TransactionTxPath as T,useNotifiStore as U,StatisticsPath as V,TransactionsHistory as W,textEllipses as X,removeComma as Y,useDeepCompareEffect as Z,__vitePreload as _,useWindowWidth as a,theme as a$,amountToBN as a0,hr$4 as a1,isAvailableObject as a2,getBalanceChanges as a3,parsePositionIdFromEvent as a4,xs as a5,formatTickPrice as a6,fetchGet as a7,useWebConfigStore as a8,Zt$3 as a9,Comma as aA,clsx as aB,VaultApyAndFeesPath as aC,formatTimestamp as aD,VaultUnstablePriceRange as aE,VaultUnstableHistogram as aF,usePeripherySDKStore as aG,formatNumberWithThreshold as aH,Oe$3 as aI,Ji$1 as aJ,Transaction as aK,persist as aL,isObject$1 as aM,castPath as aN,toKey as aO,isIndex as aP,baseGet as aQ,arrayMap as aR,formatNumberWithKMB as aS,root as aT,TradeInput as aU,formatCurrencyWithKMB as aV,add0x as aW,suiAddressShortToLong as aX,VaultList as aY,Bt$1 as aZ,Sn as a_,formatPercentage as aa,H5MapTableItem as ab,transColumns2H5 as ac,timeFormat as ad,HistogramPathTotalVolV3 as ae,HistogramPathV3 as af,identity as ag,process$1 as ah,mr$5 as ai,bnExports as aj,convertScientificToDecimal as ak,BN as al,po$1 as am,LockInput as an,Xo$1 as ao,normalizeSuiAddress$1 as ap,C$1 as aq,si$2 as ar,m$1 as as,LimitOrderHistoryPath as at,isSymbol as au,baseIteratee as av,fixDown as aw,useXCetusStore as ax,useClmmSDKStore as ay,useRpcConfigStore as az,StatisticsTokens as b,stubArray as b$,coinWithBalance as b0,PriceRangePath as b1,useGetTokens as b2,clmmConfig as b3,farmsConfig as b4,burnConfig as b5,fi$1 as b6,At$1 as b7,_$1 as b8,VariousTokensTable as b9,dayjs as bA,baseIsEqual as bB,isSuiObjectType as bC,sleepTime as bD,dealWithFastRouterSwapParamsForMsafe as bE,formatFeeRate as bF,Symbol$1 as bG,isArray$1 as bH,isArguments$1 as bI,arrayPush as bJ,isObjectLike as bK,baseGetTag as bL,keys as bM,getSymbols as bN,Uint8Array$1 as bO,isPrototype as bP,getTag as bQ,baseUnary as bR,nodeUtil as bS,isBuffer$1 as bT,Stack as bU,getAllKeys as bV,getNative as bW,eq as bX,arrayLikeKeys as bY,isArrayLike as bZ,overArg as b_,POOL_FAVORITE_LIST as ba,IS_INCENTIVIZED_ONLY as bb,IS_ALL_POOLS as bc,IS_WATCH_LIST as bd,ai$2 as be,useSdkStore as bf,defaultNodes as bg,AggregatorClient25 as bh,Env as bi,SuiClient as bj,ca as bk,H5Header as bl,PCHeader as bm,defaultExplorers as bn,TokenSelectCard as bo,useTransactionStore as bp,useConnectWallet as bq,M as br,getFullnodeUrl as bs,getWallets as bt,ReadonlyWalletAccount as bu,useCryptoStore as bv,GeneralLoading as bw,useTokenSelect as bx,useTokenBalanceStore as by,aggregatorStatusPath as bz,formatPrice as c,baseGetAllKeys as c0,parse as c1,object$1 as c2,Commands as c3,Inputs as c4,suiBcs$1 as c5,bigint as c6,string as c7,useCurrentWallet as c8,useCurrentAccount as c9,ConnectWalletModal$1 as cA,useFileUpload as cB,isMenuActive as cC,getCroppedImg as cD,calcNumber as cE,replaceFilename as cF,ExcludeCNCharRegex as cG,ExcludeSpecialCharRegex as cH,SymbolExcludeSpecialCharRegex as cI,SymbolLimitRegex as cJ,BlankSpaceRegex as cK,WebSiteUrlRegex as cL,XUrlRegex as cM,DiscordRegex as cN,TelegramRegex as cO,SearchInput as cP,useSwitchAccount as cQ,formatDateTime as cR,useGlobalStore as cS,useWallets as cT,useDisconnectWallet as cU,suiWalletList as cV,axios_1$1 as ca,base64ToUint8Array as cb,TransactionDataBuilder as cc,parseOwnerBalanceChanges as cd,removePercentSign as ce,useSignTransaction as cf,useSignPersonalMessage as cg,useSignAndExecuteTransaction as ch,fromBase64 as ci,AllTokensTable as cj,addressAbridge as ck,crypto$1 as cl,generateOnRampURL as cm,SUI_CHAINS as cn,Toast as co,CoinSelect$2 as cp,CustomToast as cq,Notfound$1 as cr,ErrorBoundary as cs,NavLink as ct,PreView as cu,TokenAvatar as cv,index as cw,Upload as cx,ToastTitle as cy,TitleText as cz,d,SingleCoinImage as e,formatNumber as f,getTimeDifferenceString as g,useExplorer as h,TextWrap as i,SelectTab as j,useSdk as k,create as l,bnToAmount as m,useAccountStore as n,DcaConfigPath as o,DcaQuotePath as p,useTokenPriceStore as q,useTokenPrice as r,symbolDataDisplayProcessing as s,timeFormatUTC as t,useFetch as u,ie$2 as v,Decimal$1 as w,useDebounceFunction as x,envConfigs$1 as y,formatNumberWithDown as z};
//# sourceMappingURL=index-CgoR1qPP.js.map
