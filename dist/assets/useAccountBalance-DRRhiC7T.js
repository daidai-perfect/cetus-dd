import{j as T,V as g,bH as C,Q as y,z as S}from"./index-D1te9NbD.js";import{a as n}from"./vendor-DXHkIl66.js";function b(){const{currentAccount:e}=T(),{clmmSdk:i}=g(),{setTokenBalanceObj:d,clearData:c,setIsLoading:l,isLoading:B,ownerAddress:m}=C(),t=n.useRef(e==null?void 0:e.address);n.useEffect(()=>{t.current=e==null?void 0:e.address},[e==null?void 0:e.address]);const p=async(s=(e==null?void 0:e.address)||"",f=!1)=>{try{if(B&&!f)return[];if(s){l(!0);const a=await i.getOwnerCoinBalances(s),o={};return a.forEach(r=>{r.coinType=S(r.coinType,!1),o[y(r.coinType).full_address]=r}),s==t.current&&d(o,s),a}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchAccountBalance ~ error:",a),m!==s&&c();return}finally{l(!1)}return[]},h=async(s=(e==null?void 0:e.address)||"",f)=>{try{if(s&&f){const a=await i.getOwnerCoinBalances(s,f),o={};a.forEach(r=>{o[y(r.coinType).full_address]=r}),s==t.current&&d(o,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchCoinBalance ~ error:",a)}};return n.useEffect(()=>{e||(c(),l(!1))},[e==null?void 0:e.address]),{fetchAccountBalance:p,fetchCoinBalance:h,isLoading:B}}export{b as u};
//# sourceMappingURL=useAccountBalance-DRRhiC7T.js.map
