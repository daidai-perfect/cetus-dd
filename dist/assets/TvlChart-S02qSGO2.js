import{R as h,a as H,j as v,V as pe,T as K,H as fe}from"./vendor-DsVemle5.js";import{aI as ae,m as he,a2 as Y}from"./index-ptnn7YYs.js";import{C as me,b as de,E as ve}from"./EmptyTooltip-C9ERy4PS.js";import{X as ie,Y as oe,R as ye}from"./YAxis-D_6_FdoJ.js";import{a as M,b as z,m as F,i as R,C as X,A as be,c as N,d as U,e as xe,h as Z,j as Ae,k as ge,u as Pe,l as G,G as Oe,n as ee,o as te,D as je,g as ke,f as Ee,T as we}from"./generateCategoricalChart-BskwEe_D.js";var _e=["layout","type","stroke","connectNulls","isRange","ref"],Se=["key"],se;function B(t){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(t)}function le(t,e){if(t==null)return{};var n=Le(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Le(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T.apply(this,arguments)}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?re(Object(n),!0).forEach(function(r){k(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ue(r.key),r)}}function Te(t,e,n){return e&&ne(t.prototype,e),n&&ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function De(t,e,n){return e=$(e),Me(t,ce()?Reflect.construct(e,n||[],$(t).constructor):e.apply(t,n))}function Me(t,e){if(e&&(B(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(t)}function Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ce=function(){return!!t})()}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$(t)}function Re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},q(t,e)}function k(t,e,n){return e=ue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ue(t){var e=Be(t,"string");return B(e)=="symbol"?e:e+""}function Be(t,e){if(B(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L=function(t){function e(){var n;Ce(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=De(this,e,[].concat(a)),k(n,"state",{isAnimationFinished:!0}),k(n,"id",Pe("recharts-area-")),k(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),G(s)&&s()}),k(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),G(s)&&s()}),n}return Re(e,t),Te(e,[{key:"renderDots",value:function(r,a,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,i=c.dot,p=c.points,u=c.dataKey,f=M(this.props,!1),x=M(i,!0),A=p.map(function(y,O){var m=S(S(S({key:"dot-".concat(O),r:3},f),x),{},{index:O,cx:y.x,cy:y.y,dataKey:u,value:y.value,payload:y.payload,points:p});return e.renderDotItem(i,m)}),P={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return h.createElement(z,T({className:"recharts-area-dots"},P),A)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,o=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,i=s[s.length-1].x,p=r*Math.abs(c-i),u=F(s.map(function(f){return f.y||0}));return R(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max(F(o.map(function(f){return f.y||0})),u)),R(u)?h.createElement("rect",{x:c<i?c:c-p,y:0,width:p,height:Math.floor(u+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,o=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,i=s[s.length-1].y,p=r*Math.abs(c-i),u=F(s.map(function(f){return f.x||0}));return R(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max(F(o.map(function(f){return f.x||0})),u)),R(u)?h.createElement("rect",{x:0,y:c<i?c:c-p,width:u+(l?parseInt("".concat(l),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,o,s){var l=this.props,c=l.layout,i=l.type,p=l.stroke,u=l.connectNulls,f=l.isRange;l.ref;var x=le(l,_e);return h.createElement(z,{clipPath:o?"url(#clipPath-".concat(s,")"):null},h.createElement(X,T({},M(x,!0),{points:r,connectNulls:u,type:i,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),p!=="none"&&h.createElement(X,T({},M(this.props,!1),{className:"recharts-area-curve",layout:c,type:i,connectNulls:u,fill:"none",points:r})),p!=="none"&&f&&h.createElement(X,T({},M(this.props,!1),{className:"recharts-area-curve",layout:c,type:i,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var o=this,s=this.props,l=s.points,c=s.baseLine,i=s.isAnimationActive,p=s.animationBegin,u=s.animationDuration,f=s.animationEasing,x=s.animationId,A=this.state,P=A.prevPoints,y=A.prevBaseLine;return h.createElement(be,{begin:p,duration:u,isActive:i,easing:f,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var m=O.t;if(P){var w=P.length/l.length,d=l.map(function(j,D){var C=Math.floor(D*w);if(P[C]){var _=P[C],I=N(_.x,j.x),V=N(_.y,j.y);return S(S({},j),{},{x:I(m),y:V(m)})}return j}),b;if(R(c)&&typeof c=="number"){var g=N(y,c);b=g(m)}else if(U(c)||xe(c)){var E=N(y,0);b=E(m)}else b=c.map(function(j,D){var C=Math.floor(D*w);if(y[C]){var _=y[C],I=N(_.x,j.x),V=N(_.y,j.y);return S(S({},j),{},{x:I(m),y:V(m)})}return j});return o.renderAreaStatically(d,b,r,a)}return h.createElement(z,null,h.createElement("defs",null,h.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(m))),h.createElement(z,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,i=this.state,p=i.prevPoints,u=i.prevBaseLine,f=i.totalLength;return c&&s&&s.length&&(!p&&f>0||!Z(p,s)||!Z(u,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(s,l,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,s=a.dot,l=a.points,c=a.className,i=a.top,p=a.left,u=a.xAxis,f=a.yAxis,x=a.width,A=a.height,P=a.isAnimationActive,y=a.id;if(o||!l||!l.length)return null;var O=this.state.isAnimationFinished,m=l.length===1,w=ae("recharts-area",c),d=u&&u.allowDataOverflow,b=f&&f.allowDataOverflow,g=d||b,E=U(y)?this.id:y,j=(r=M(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=j.r,C=D===void 0?3:D,_=j.strokeWidth,I=_===void 0?2:_,V=Ae(s)?s:{},J=V.clipDot,Q=J===void 0?!0:J,W=C*2+I;return h.createElement(z,{className:w},d||b?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(E)},h.createElement("rect",{x:d?p:p-x/2,y:b?i:i-A/2,width:d?x:x*2,height:b?A:A*2})),!Q&&h.createElement("clipPath",{id:"clipPath-dots-".concat(E)},h.createElement("rect",{x:p-W/2,y:i-W/2,width:x+W,height:A+W}))):null,m?null:this.renderArea(g,E),(s||m)&&this.renderDots(g,Q,E),(!P||O)&&ge.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(H.PureComponent);se=L;k(L,"displayName","Area");k(L,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oe.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});k(L,"getBaseValue",function(t,e,n,r){var a=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(R(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:n,i=c.scale.domain();if(c.type==="number"){var p=Math.max(i[0],i[1]),u=Math.min(i[0],i[1]);return l==="dataMin"?u:l==="dataMax"||p<0?p:Math.max(Math.min(i[0],i[1]),0)}return l==="dataMin"?i[0]:l==="dataMax"?i[1]:i[0]});k(L,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,a=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,i=t.stackedData,p=t.dataStartIndex,u=t.displayedData,f=t.offset,x=e.layout,A=i&&i.length,P=se.getBaseValue(e,n,r,a),y=x==="horizontal",O=!1,m=u.map(function(d,b){var g;A?g=i[p+b]:(g=ee(d,c),Array.isArray(g)?O=!0:g=[P,g]);var E=g[1]==null||A&&ee(d,c)==null;return y?{x:te({axis:r,ticks:o,bandSize:l,entry:d,index:b}),y:E?null:a.scale(g[1]),value:g,payload:d}:{x:E?null:r.scale(g[1]),y:te({axis:a,ticks:s,bandSize:l,entry:d,index:b}),value:g,payload:d}}),w;return A||O?w=m.map(function(d){var b=Array.isArray(d.value)?d.value[0]:null;return y?{x:d.x,y:b!=null&&d.y!=null?a.scale(b):null}:{x:b!=null?r.scale(b):null,y:d.y}}):w=y?a.scale(P):r.scale(P),S({points:m,baseLine:w,layout:x,isRange:O},f)});k(L,"renderDotItem",function(t,e){var n;if(h.isValidElement(t))n=h.cloneElement(t,e);else if(G(t))n=t(e);else{var r=ae("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,o=le(e,Se);n=h.createElement(je,T({},o,{key:a,className:r}))}return n});var Ie=ke({chartName:"AreaChart",GraphicalChild:L,axisComponents:[{axisType:"xAxis",AxisComp:ie},{axisType:"yAxis",AxisComp:oe}],formatAxisMap:Ee});function Ve({payload:t,label:e}){var n,r,a,o;return t&&t.length&&v.jsxs(pe,{padding:"16px",bg:"bg_secondary",borderRadius:"12px",border:"1px solid border_secondary",justifyContent:"flex-start",alignItems:"left",children:[v.jsx(K,{fontSize:"12px",color:"#8BABBE",children:(r=(n=t[0])==null?void 0:n.payload)==null?void 0:r.tooltipTime}),v.jsxs(fe,{children:[v.jsx(K,{color:"text_caption",children:"TVL"}),v.jsxs(K,{color:"text_caption",children:["$",he((o=(a=t[0])==null?void 0:a.payload)==null?void 0:o.num,2)]})]})]})}const Ye=t=>{const{data:e,onChangeValue:n,isShowYAxis:r,toolTipsType:a}=t;console.log("🚀🚀🚀 ~ TvlChart.tsx:15 ~ TvlChart ~ data:",e);const o=i=>{i&&i.activePayload&&i.activePayload.length&&(console.log("🚀 ~ handleMouseMove ~ e.activePayload[0]:",i.activePayload[0]),n(i.activePayload[0].payload))},s=()=>{n(null)},l=H.useMemo(()=>{if(e&&(e!=null&&e.length)){const i=Math.min(...e==null?void 0:e.map(m=>m.num)),p=Math.max(...e==null?void 0:e.map(m=>m.num)),u=Y(p).add(Y(p).mul(.1)),f=Y(i),x=u.sub(f).div(4),A=f.add(x.mul(1)),P=f.add(x.mul(2)),y=f.add(x.mul(3)),O=[f.toNumber(),A.toNumber(),P.toNumber(),y.toNumber(),u.toNumber()];return console.log("🚀🚀🚀 ~ PriceRangeChart.tsx:57 ~ ticks ~ tickList:",O),O}return[]},[e]),c=H.useMemo(()=>{if((e==null?void 0:e.length)>0){const i=e.filter(p=>p.xAxis!=="");return console.log("🚀 ~ xData ~ res:",e==null?void 0:e.length,i),i}return[]},[e]);return v.jsx(ye,{width:"100%",height:"100%",children:v.jsxs(Ie,{data:e,onMouseMove:o,onMouseLeave:s,children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"colorTvlArea",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"0%",stopColor:"#0080FF",stopOpacity:.2}),v.jsx("stop",{offset:"100%",stopColor:"#17181D",stopOpacity:.2})]})}),v.jsx(ie,{type:"category",dataKey:"xAxis",minTickGap:(c==null?void 0:c.length)>8?36:void 0,interval:(c==null?void 0:c.length)<=8?0:void 0,tickLine:!1,axisLine:!1,tick:({x:i,y:p,payload:u,index:f})=>v.jsx(me,{x:i,y:p,payload:u,index:f,total:e.length,isShowYAxis:r})}),r&&v.jsx(oe,{type:"number",domain:[l,l[l.length-1]],axisLine:!1,tickLine:!1,ticks:l,tick:v.jsx(de,{})}),(e==null?void 0:e.length)>0&&v.jsx(we,{content:a?v.jsx(Ve,{}):v.jsx(ve,{}),cursor:{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,strokeDasharray:"3 3"}}),v.jsx(L,{type:"monotone",dataKey:"num",stroke:"#76C8FF",fill:"url(#colorTvlArea)",isAnimationActive:!1})]})})};export{Ye as T};
//# sourceMappingURL=TvlChart-S02qSGO2.js.map
