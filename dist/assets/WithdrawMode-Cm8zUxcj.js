import{a as c,j as l,f as Y,v as T,V as v,T as R}from"./vendor-BulRdKUe.js";import{h as I,v as z,l as k}from"./VaultsAprBlock-BTIM0Q2F.js";import{j as aa,d as E,v as ea,M as ta,O as la}from"./index-CLZsOITc.js";import{H}from"./HTextLabelBox-vFxxeEh0.js";import{T as oa}from"./TradeInputGroup-NFQ-LGVQ.js";import"./swapWidget-CcDmvpyQ.js";import"./useWrapPoolData-xiy8vY_6.js";import"./useFavoritePool-CrAPnLWy.js";import"./useGetPoolList-1lIRMgQW.js";import"./useToken-CPqU19Ux.js";import"./useTokenBalance-DyFVzZGc.js";import"./useAccountBalance-B5jGnKEc.js";import"./useTransaction-Bt3dLzgc.js";import"./useTrack-C59Tu8ii.js";import"./useSigner-BJM2wSbD.js";import"./global-Lf-aHf3L.js";import"./msafe-oYBkW7LJ.js";import"./index-CnLxGOD-.js";import"./v4-C6aID195.js";import"./useFindBestRouting-Cn0qLzSK.js";import"./useSwapHelper-C-PAv6w6.js";import"./_getAllKeysIn-Dsxf5OjG.js";function _a(M){const{isUnstableVault:S,displayTokenA:o,displayTokenB:s,vaultId:W,isReverse:r,assetAction:i,isCheckedZAP:m,apiVaultInfo:e,lpTokenInfo:a,holdCoinAmounts:F,fetchVaultBalance:P,isBalanceLoading:A,holdLpAmount:O,autoRefresh:$}=M,U=z.useVaultsRemove(S),Z=z.useAddButtonStatus(S),{currentAccount:t,onWalletModal:D}=aa(),{contractClmmPoolObj:G}=I(),{amountInputA:L,amountInputB:j,availableAmountA:x,availableAmountB:h,amountValueA:N,amountValueB:q,preCalculateLoading:p,fixAmountA:w,inputTotalValue:u,handleAmountInputChange:C,calculateResult:d,showOnlySideTips:B,doRemoveAction:J,reCalculateResult:_,calculateAvailableLoading:y}=U(i,$,F,O,W,r?s:o,r?o:s,r,m,G),b=c.useMemo(()=>u&&m?E(u).gt(0)&&E(u).lt(1e-4):!1,[m,u]),{btnText:K,btnDisabled:Q}=Z(m,i,!1,L,j,r?!w:w,x,h,o,s,"",d,b),{amountLimit:V}=k(0,d==null?void 0:d.burn_ft_amount,!1);c.useEffect(()=>{_()},[e==null?void 0:e.vaultsId]),c.useEffect(()=>{t!=null&&t.address&&(e!=null&&e.vaultsId)&&(a!=null&&a.decimals)&&(e!=null&&e.isUnstableVault)&&P(t==null?void 0:t.address,e.vaultsId,a==null?void 0:a.decimals)},[t==null?void 0:t.address,e==null?void 0:e.vaultsId,a==null?void 0:a.decimals]),c.useEffect(()=>{_()},[x,h]);const X=c.useMemo(()=>ea(ta(V||"0",a==null?void 0:a.decimals),a==null?void 0:a.decimals),[V,a]);return l.jsxs(l.Fragment,{children:[l.jsx(Y,{w:"100%",position:"relative",children:l.jsx(oa,{onClick:()=>{},from:{wrapStyle:{h:"108px"},balance:x||"",value:L,amountValue:N,loading:!1,calculateAvailableLoading:A||y,hideSelf:i!=="both"&&i!==(o==null?void 0:o.coin_type),onChange:(n,f,g)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ withdraw-mode.tsx:194 ~ VaultWithdrawMode ~ value:",n),C(n,!r,f,g)},selectable:!1,placeholder:"0.0",token:o,balanceLabel:"Available",onFocusChange:n=>{}},to:{wrapStyle:{h:"108px"},balance:h||"",value:j,amountValue:q,loading:!1,calculateAvailableLoading:A||y,onFocusChange:n=>{},onChange:(n,f,g)=>{C(n,r,f,g)},selectable:!1,hideSelf:i!=="both"&&i!==(s==null?void 0:s.coin_type),placeholder:"0.0",token:s,balanceLabel:"Available"},iconParams:{xlinkHref:"#icon-icon_add",svgFill:"text_caption",iconCursor:"default"},iconHover:!1})}),l.jsx(T,{width:"100%",height:"52px",borderRadius:"12px",marginBottom:"8px",fontWeight:"500",isLoading:p,disabled:Q||p,onClick:()=>t!=null&&t.address?J():D(!0),children:K||(m?"Zap Out":"Withdraw")}),b&&l.jsx(v,{w:"100%",alignItems:"start",mb:"8px",children:l.jsx(R,{color:"primary_red",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_red_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The input is too small. Zap mode is not available."})}),(d||B)&&!b&&l.jsxs(v,{w:"100%",gap:"20px",pb:"20px",children:[i!=="both"&&l.jsx(R,{color:"text_paragraph",fontSize:"12px",lineHeight:"1.8",children:B}),l.jsxs(v,{w:"100%",gap:"20px",children:[l.jsx(H,{label:"Total Withdraw",labelStyle:{fontSize:"14px"},value:la(u,2),valueStyle:{fontSize:"14px"},isLoading:p}),l.jsx(H,{label:"LP Burn Amount",value:`${X} ${`${o==null?void 0:o.symbol} - ${s==null?void 0:s.symbol}`}`,labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},isLoading:p})]})]})]})}export{_a as default};
//# sourceMappingURL=WithdrawMode-Cm8zUxcj.js.map
