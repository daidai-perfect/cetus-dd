import{u as f}from"./activeOrders-DqP3Ykrb.js";import{u as I}from"./useAccountBalance-dpDaMlfe.js";import{k as F,G as z,d as O,t as P,w as q,p as G,j as tt,Q as ht,u as vt,aN as Dt,a1 as X,X as yt,V as J,I as Y,F as St,a as Ot,e as bt,i as wt,B as At,q as Z}from"./index-QNvgVKlA.js";import{a as j,j as s,H as N,T,ap as Pt,p as et,V as H,f as st,C as Ct,q as jt}from"./vendor-BFGDaAdA.js";import{u as at}from"./useTransaction-D8x8EhDP.js";import{u as Nt}from"./RangeValue-CHhwkfJm.js";import{u as Tt}from"./useToken-DOpzZ4jY.js";import{P as Rt}from"./Pagination-CEkqmVuP.js";import{H as V}from"./HTextLabelBox-BtA_IlNt.js";import{N as $t}from"./NoData-DtiZhmrM.js";import{E as dt}from"./ErrorTips-BY_r0Z3E.js";function ct(){const e=F("dca");return{dcaCloseOrderPayload:async t=>await e.Dca.dcaCloseOrderPayload(t)}}function it(){const e=F("dca");return{dcaWithdrawPayload:async t=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: useDcaClaim.ts:12 ~ params:",t),await e.Dca.withdrawAll(t))}}function Lt(e){const a=Math.floor(e/2592e3);e%=2592e3;const h=Math.floor(e/604800);e%=604800;const y=Math.floor(e/86400);e%=86400;const g=Math.floor(e/3600);e%=3600;const w=Math.floor(e/60);e%=60;const b=[];return a>0&&b.push(`${a} Month${a>1?"s":""}`),h>0&&b.push(`${h} Week${h>1?"s":""}`),y>0&&b.push(`${y} Day${y>1?"s":""}`),g>0&&b.push(`${g} Hour${g>1?"s":""}`),w>0&&b.push(`${w} Minute${w>1?"s":""}`),b.join(" ")}function lt(){const{getTokenListInfo:e}=Tt(),{setDcaOrderListLoading:l,setDcaActiveOrderList:t,setDcaPastOrderList:o}=f(),u=F("dca"),c=async(_,x=!0)=>{var p;console.log("ðŸš€ ~ getDcaOrderList ~ walletAddress:",_);try{const m=await u.Dca.getDcaOrders(_);if(console.log("ðŸš€ ~ getDcaOrderList ~ list:",m),m&&(m!=null&&m.data)&&((p=m==null?void 0:m.data)==null?void 0:p.length)>0){const{activeResult:v,pastResult:n}=await b(m==null?void 0:m.data);console.log("ðŸš€ ~ getDcaOrderList ~ activeResult, pastResult:",{activeResult:v,pastResult:n}),t(v),o(n)}else t([]),o([])}catch(m){console.log("ðŸš€ ~ getDcaOrderList ~ error:",m),t([]),o([])}finally{l(!1)}},a=async _=>{try{const x=await e(_),p=new Map;return x==null||x.forEach((m,v)=>{const n=G.pow(10,m==null?void 0:m.decimals);p.set(v,{token:m,decimalsPow:n})}),p}catch(x){console.log("ðŸš€ ~ getTokenListDetails ~ error:",x)}},h=(_,x,p,m,v)=>{const n=O(_).div(x).div(O(m).div(p)).toString(),A=O(_).div(x).div(O(v).div(p)).toString();return{minPrice:n,maxPrice:A,minPriceResever:O(1).div(O(A)).toString(),maxPriceResever:O(1).div(O(n)).toString()}},y=_=>_.in_withdrawn>0&&_.in_withdrawn==_.in_deposited?"Close":_.in_withdrawn>0&&_.out_withdrawn>0?"PartialDeal":_.amount_left_next_cycle==0&&_.next_cycle_at==0?"AllDeal":"Active",g=(_,x,p,m,v,n,A)=>{const r=i=>i==="--"?"--":O(1).div(i).toString();switch(_){case"Close":return{currentAvgPrice:"--",currentAvgPriceResever:"--",inBalanceRatio:"0",inDepositedOut:"0"};case"PartialDeal":{const i=x.sub(p).div(n).toString(),S=x.sub(p).div(x).mul(100).toDP(2,G.ROUND_HALF_UP).toString();return console.log("ðŸš€ ~ useGetDcaOrderList ~ inDeposited:",p,x),{currentAvgPrice:i,currentAvgPriceResever:r(i),inBalanceRatio:S,inDepositedOut:x.sub(p).toString()}}case"AllDeal":{const i=x.div(n).toString();return{currentAvgPrice:i,currentAvgPriceResever:r(i),inBalanceRatio:"100",inDepositedOut:x.sub(m).toString()}}case"Active":{const i=v.gt(0)||n.gt(0)?x.sub(m).div(v.add(n)).toString():"--",S=x.sub(m).div(x).mul(100).toDP(2,G.ROUND_HALF_UP).toString();return{currentAvgPrice:i,currentAvgPriceResever:r(i),inBalanceRatio:S,inDepositedOut:x.sub(m).toString()}}default:return{currentAvgPrice:"--",currentAvgPriceResever:"--",inBalanceRatio:"0",inDepositedOut:"0"}}},w=(_,x,p,m)=>{const v=Date.now()/1e3,n=O(v).sub(_).div(x),A=p.lte(0)&&O(m).lte(0);return n.gt(3)&&A},b=async _=>{const x=[],p=[],m=new Set;_==null||_.forEach(r=>{m.add(z(r.in_coin_type,!1)),m.add(z(r.out_coin_type,!1))});const v=await a(Array.from(m));if(v)for(const r of _)try{const{token:i,decimalsPow:S}=v.get(z(r.in_coin_type,!1)),{token:B,decimalsPow:L}=v.get(z(r.out_coin_type,!1)),C=O(r.in_deposited).div(S),$=O(r.in_deposited).div(r.in_amount_per_cycle).floor().toString(),D=O(r.in_amount_per_cycle).div(S).toString(),d=O(r.in_balance).div(S),E=O(r.in_withdrawn).div(S),W=O(r.out_balance).gt(0)?O(r.out_balance).div(L):O(0),M=O(r.out_withdrawn).div(L),nt=P(C.div($).toString()),K=d.div(D).floor().toNumber(),{minPrice:ut,maxPrice:xt,minPriceResever:rt,maxPriceResever:mt}=h(r.in_amount_per_cycle,S,L,r.max_out_amount_per_cycle,r.min_out_amount_per_cycle),k=y(r),{currentAvgPrice:U,currentAvgPriceResever:gt,inBalanceRatio:pt,inDepositedOut:ot}=g(k,C,E,d,W,M,S),_t=w(Number(r.created_at),Number(r.cycle_frequency),W,M),Q={createAt:q(Number(r.created_at)*1e3,"YMDHM"),cycleFrequency:r.cycle_frequency,orderID:r.id,inAmountPerCycle:D,nextCycleAt:q(Number(r.next_cycle_at)*1e3,"YMDHM"),inDeposited:C.toString(),cycleCount:$,inDepositedOut:ot,inBalance:d.toString(),minPrice:P(ut),maxPrice:P(xt),minPriceResever:P(rt),maxPriceResever:P(mt),inCoin:i,outCoin:B,outBalance:W.toString(),inBalanceRatio:pt,outWithdraw:M.toString(),investEvery:Lt(Number(r.cycle_frequency)),eachOrderSize:nt,currentAvgPrice:U==="--"?"--":P(U,B.decimals),currentAvgPriceResever:U==="--"?"--":P(gt,i.decimals),orderStatus:k,inWithdrawn:E.toString(),ofOrderLeft:K,isShowTradeTips:_t,next_cycle_at:r.created_at+K*Number(r.cycle_frequency),nextCycleAtTimeStamp:Number(r.next_cycle_at)*1e3,created_at:r.created_at,version:r.version};k==="Active"?x.push(Q):p.push(Q)}catch(i){console.log("ðŸš€ ~ buildDcaOrderList ~ error:",i)}const n=x==null?void 0:x.sort((r,i)=>i.version-r.version),A=p==null?void 0:p.sort((r,i)=>i.version-r.version);return console.log("ðŸš€ ~ buildDcaOrderList ~ activeResult, pastResult:",{activeResult:x,pastResult:p}),{activeResult:n,pastResult:A}};return{getDcaOrderList:c,buildDcaOrderList:b}}function te(){const[e,l]=j.useState(!1),[t,o]=j.useState(!1),{dcaWithdrawPayload:u}=it(),{dcaCloseOrderPayload:c}=ct(),{signAndExecuteTransaction:a}=at(),{fetchAccountBalance:h}=I(),{currentAccount:y}=tt(),{getDcaOrderList:g}=lt(),{setDcaActiveOrderList:w}=f();return{closeAll:async x=>{o(!0);try{const p=x==null?void 0:x.map(n=>({order_id:n==null?void 0:n.orderID,in_coin_type:n==null?void 0:n.inCoin.coin_type,out_coin_type:n==null?void 0:n.outCoin.coin_type}));console.log("ðŸš€ ~ const closeOrderParams:any=pageList.map ~ closeOrderParams:",p);const m=await c(p),v=await a(m,{getShowInfo:n=>{const A={modalDescriptionText:"Closing DCA order",toastTitleText:"Closing DCA order"};return n==="success"&&(A.modalDescriptionText="DCA Order Closed",A.toastDescriptionContent="",A.toastTitleText="DCA Order Closed"),A}});console.log("ðŸš€ ~ closeAll ~ res:",v),v&&(w([]),setTimeout(()=>{h(),g(y==null?void 0:y.address,!0)},2e3)),o(!1)}catch(p){console.log("ðŸš€ ~ closeAll ~ error:",p),o(!1)}},claimAll:async x=>{l(!0);try{const p=x==null?void 0:x.map(n=>({order_id:n==null?void 0:n.orderID,in_coin_type:n==null?void 0:n.inCoin.coin_type,out_coin_type:n==null?void 0:n.outCoin.coin_type}));console.log("ðŸš€ ~ const claimOrderParams:any=pageList.map ~ claimOrderParams:",p);const m=await u(p),v=await a(m,{getShowInfo:n=>{const A={modalDescriptionText:"DCA Order Claimed",toastTitleText:"DCA Order Claimed"};return n==="success"&&(A.toastDescriptionContent=""),A}});console.log("ðŸš€ ~ claimAll ~ res:",v),v&&setTimeout(()=>{h(),g(y==null?void 0:y.address,!0)},2e3),l(!1)}catch(p){console.log("ðŸš€ ~ claimAll ~ error:",p),l(!1)}},isClaimAllLoading:e,isCloseAllLoading:t}}const Et=(e,l)=>({upperPriceSize:"0%",setUpperPriceSize:t=>{e(()=>({upperPriceSize:t}))},lowerPriceSize:"0%",setLowerPriceSize:t=>{e(()=>({lowerPriceSize:t}))},dcaMode:"total",setDcaMode:t=>{e(()=>({dcaMode:t}))},isDcaRefresh:!1,setIsDcaRefresh:t=>{e(()=>({isDcaRefresh:t}))},pageDirect:!1,setPageDirect:t=>{e(()=>({pageDirect:t}))},sellTotalAmount:"",setSellTotalAmount:t=>{e(()=>({sellTotalAmount:t}))},sellAmount:"",setSellAmount:t=>{e(()=>({sellAmount:t}))},buyAmount:"",setBuyAmount:t=>{e(()=>({buyAmount:t}))},sellCoin:void 0,setSellCoin:t=>{e(()=>({sellCoin:t}))},buyCoin:void 0,setBuyCoin:t=>{e(()=>({buyCoin:t}))},orderNum:"2",setOrderNum:t=>{e(()=>({orderNum:t}))},investNum:"1",setInvestNum:t=>{e(()=>({investNum:t}))},currentCoinKey:"sellCoin",setCurrentCoinKey:t=>{e(()=>({currentCoinKey:t}))},currentInvest:"Hour",setCurrentInvest:t=>{e(()=>({currentInvest:t}))},pageLoading:!0,setPageLoading:t=>{e(()=>({pageLoading:t}))},dcaConfig:{},setDcaConfig:t=>{e(()=>({dcaConfig:t}))},dcaQuote:{},setDcaQuote:t=>{e(()=>({dcaQuote:t}))},orderHistoryObj:{},setOrderHistoryObj:t=>{e(()=>({orderHistoryObj:{...l().orderHistoryObj,...t}}))},inCoinWhiteList:[],setInCoinWhiteList:t=>{e(()=>({inCoinWhiteList:t}))},outCoinWhiteList:[],setOutCoinWhiteList:t=>{e(()=>({outCoinWhiteList:t}))}}),Bt=ht(Et);function Ht(){const{fetchByApi:e}=vt(),{setOrderHistoryObj:l}=Bt();return{getDcaOrderHistory:async({orderId:o,limit:u,offset:c})=>{var h;const a=await e(Dt,"GET",{order_id:o,limit:u,offset:c});if(console.log("ðŸš€ ~ file: useGetDcaOrderHistory.ts:16 ~ useGetDcaOrderHistory ~ res:",a),a!=null&&a.list){const y={[o]:{list:((h=a==null?void 0:a.list)==null?void 0:h.map(g=>({inAmount:g==null?void 0:g.in_amount,outAmount:g==null?void 0:g.out_amount,inCoinType:g==null?void 0:g.in_coin,outCoinType:g==null?void 0:g.out_coin,time:g==null?void 0:g.execution_at,tx:g==null?void 0:g.tx})))||[],total:(a==null?void 0:a.total)||0}};return l(y),y}}}}function Wt(){const[e,l]=j.useState(!1),[t,o]=j.useState(!1),[u,c]=j.useState(!1),[a,h]=j.useState([]),[y,g]=j.useState(0),{currentAccount:w}=tt(),{dcaWithdrawPayload:b}=it(),{fetchCoinBalance:_}=I(),{signAndExecuteTransaction:x}=at(),{getDcaOrderList:p}=lt(),{dcaCloseOrderPayload:m}=ct(),{getDcaOrderHistory:v}=Ht();return{toClaim:async i=>{l(!0);try{console.log("ðŸš€ ~ closeOrder ~ orderInfo:",i);const S=[],B={order_id:i==null?void 0:i.orderID,in_coin_type:i==null?void 0:i.inCoin.coin_type,out_coin_type:i==null?void 0:i.outCoin.coin_type};S.push(B),console.log("ðŸš€ ~ toClaim ~ claimOrderParams:",S);const L=await b(S),C=await x(L,{getShowInfo:$=>{var d,E;const D={modalDescriptionText:`${(d=i==null?void 0:i.outCoin)==null?void 0:d.symbol} Claimed`,toastTitleText:`${(E=i==null?void 0:i.outCoin)==null?void 0:E.symbol} Claimed`};return $==="success"&&(D.toastDescriptionContent=""),D}});C&&(console.log("ðŸš€ ~ toClaim ~ res:",C),setTimeout(()=>{_(w==null?void 0:w.address,i==null?void 0:i.outCoin.coin_type),p(w==null?void 0:w.address,!0)},2e3)),l(!1)}catch(S){console.log("ðŸš€ ~ toClaim ~ error:",S),l(!1)}},closeOrderAction:async i=>{o(!0);try{console.log("ðŸš€ ~ closeOrder ~ orderInfo:",i);const S=[{order_id:i==null?void 0:i.orderID,in_coin_type:i==null?void 0:i.inCoin.coin_type,out_coin_type:i==null?void 0:i.outCoin.coin_type}];console.log("ðŸš€ðŸš€ðŸš€ ~ file: dca-order-card.vue:280 ~ closeOrder ~ closeOrderParams:",S);const B=await m(S),L=await x(B,{getShowInfo:C=>{const $={modalDescriptionText:"Closing DCA order",toastTitleText:"Closing DCA order"};return C==="success"&&($.modalDescriptionText="DCA Order Closed",$.toastDescriptionContent="",$.toastTitleText="DCA Order Closed"),$}});console.log("ðŸš€ ~ closeOrder ~ res:",L),L&&setTimeout(()=>{_(),p(w==null?void 0:w.address,!0)},2e3),o(!1)}catch(S){console.log("ðŸš€ ~ closeOrder ~ error:",S),o(!1)}},isCloseLoading:t,isClaimLoading:e,total:y,orderHistoryList:a,handleGetDcaOrderHistory:async(i,S,B,L=!1)=>{var $,D,d,E;console.log("ðŸš€ ~ handleGetDcaOrderHistory ~ loading:",L),c(L);const C=await v({orderId:i,limit:S,offset:B});console.log("ðŸš€ ~ handleGetDcaOrderHistory ~ res?.list:",C),X(C)&&(($=C[i])!=null&&$.list)&&h((D=C[i])==null?void 0:D.list),X(C)&&((d=C[i])!=null&&d.total)&&g((E=C[i])==null?void 0:E.total),c(!1),console.log("ðŸš€ ~ file: TestData.tsx:170 ~ handleGetDcaOrderHistory ~ res:",C)},orderHistoryListLoading:u}}function ee({orderInfo:e}){const{inCoin:l,outCoin:t}=e;return s.jsxs(N,{children:[s.jsx(yt,{coinAIconUrl:l==null?void 0:l.logo_url,coinBIconUrl:t==null?void 0:t.logo_url,coinACoinType:l==null?void 0:l.coin_type,coinBCoinType:t==null?void 0:t.coin_type,w:"28px",h:"28px"}),s.jsxs(T,{color:"text_caption",children:[l==null?void 0:l.symbol," â†’ ",t==null?void 0:t.symbol]})]})}function se({orderInfo:e,isProfile:l}){const{inCoin:t}=e;return s.jsxs(N,{flexDirection:l?"column":"row",align:l?"flex-end":"center",gap:l?"4px":"8px",children:[s.jsxs(N,{children:[s.jsxs(T,{color:"text_caption",fontSize:l?"14px":"12px",children:[P(e==null?void 0:e.inDepositedOut)," ",t==null?void 0:t.symbol]}),s.jsxs(T,{color:l?"text_caption":"primary_gray",fontSize:l?"14px":"12px",children:["/ ",P(e==null?void 0:e.inDeposited)," ",t==null?void 0:t.symbol]})]}),s.jsxs(N,{children:[s.jsxs(T,{color:"primary_gray",fontSize:"12px",children:["(",e==null?void 0:e.inBalanceRatio,"%)"]}),s.jsx(Pt,{w:l?"40px":"50px",h:"4px",value:e==null?void 0:e.inBalanceRatio,bg:"#282828",sx:{'div[role="progressbar"]':{bg:"primary"}}})]})]})}function ae({orderInfo:e,isProfile:l=!1,isRank:t=!1}){const o="400",u=j.useMemo(()=>({minPrice:e==null?void 0:e.minPrice,maxPrice:e==null?void 0:e.maxPrice,minPriceResever:e==null?void 0:e.minPriceResever,maxPriceResever:e==null?void 0:e.maxPriceResever}),[e]),c=j.useMemo(()=>e==null?void 0:e.outCoin,[e]),a=j.useMemo(()=>e==null?void 0:e.inCoin,[e]),[h,y]=j.useState(!0),{getTokenRank:g}=Nt();j.useEffect(()=>{if(t){const _=g(c,a);console.log("ðŸš€ ~ useEffect ~ direct:",_),y(_)}},[t,c==null?void 0:c.coin_type,a==null?void 0:a.coin_type]);const w=l?"14px":"12px",b=l?"text_paragraph":"primary_gray";return s.jsx(N,{mt:l?"0px":"3px",justify:l?"flex-end":"flex-start",children:s.jsx(et,{isLoaded:!!(u!=null&&u.minPrice)&&!!c&&!!a,children:s.jsxs(N,{flexWrap:"wrap",gap:"4px",justify:"flex-start",align:l?"flex-end":"center",flexDirection:l?"column":"row",children:[s.jsx(T,{lineHeight:"16px",h:"16px",fontSize:w,fontWeight:o,color:"text_caption",whiteSpace:"nowrap",children:h?`${u==null?void 0:u.minPrice} - ${u==null?void 0:u.maxPrice}`:`${u==null?void 0:u.minPriceResever} - ${u==null?void 0:u.maxPriceResever}`}),s.jsxs(N,{gap:"4px",children:[s.jsxs(N,{gap:"0",children:[s.jsx(T,{fontSize:"12px",fontWeight:o,color:b,children:J(h?a==null?void 0:a.symbol:c==null?void 0:c.symbol,10)}),s.jsx(T,{fontSize:"12px",fontWeight:o,color:b,children:"Â perÂ "}),s.jsx(T,{fontSize:"12px",fontWeight:o,color:b,children:J(h?c==null?void 0:c.symbol:a==null?void 0:a.symbol,10)})]}),s.jsx(Y,{xlinkHref:"#icon-icon_swap1",w:"14px",h:"14px",onClick:_=>{St(_),y(!h)}})]})]})})})}function R({label:e,value:l,direct:t,onChangeDirect:o,textAlign:u="left",showDirectIcon:c=!0,...a}){return s.jsxs(H,{align:"flex-start",flexDirection:{base:"row",lg:"column"},w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},...a,children:[e!==""&&s.jsxs(N,{h:"12px",children:[s.jsx(T,{fontSize:"12px",children:e}),o&&c&&s.jsx(Y,{xlinkHref:"#icon-icon_swap1",svgW:"14px",svgH:"14px",ml:"-6px",onClick:o})]}),l!==""&&s.jsx(st,{fontSize:"12px",color:"text_caption",textAlign:u,children:l})]})}function ce({isDetail:e,currentTabVal:l,orderInfo:t,pageDirect:o}){const{isApp:u}=Ot(),{inCoin:c,outCoin:a}=t,[h,y]=j.useState(o),[g,w]=j.useState(o),b=10,[_,x]=j.useState(1),{isClaimLoading:p,toClaim:m,total:v,orderHistoryList:n,handleGetDcaOrderHistory:A,orderHistoryListLoading:r}=Wt(),[i,S]=j.useState({label:"Overview",value:"overview"}),B=j.useMemo(()=>[{label:"Overview",value:"overview"},{label:r||Number(v)===0?"Orders":`Orders (${v})`,value:"orders"}],[v]),L=D=>{S(D),t!=null&&t.orderID&&A(t==null?void 0:t.orderID,b,0,!1)};j.useEffect(()=>{e&&(t!=null&&t.orderID)&&A(t==null?void 0:t.orderID,b,0,!1)},[t,e]);const C=D=>{console.log("ðŸš€ ~ handleCurrentPage ~ page:",D);const d=(D-1)*b;A(t==null?void 0:t.orderID,b,d,!1),x(D)},{getExplorerUrl:$}=bt();return s.jsxs(H,{w:"100%",gap:"20px",children:[s.jsx(wt,{type:"outlineTab",wrapStyle:{w:"100%",h:"36px",borderRadius:"8px",p:"4px",mt:"-1px",zIndex:"1"},itemStyle:{w:"50%",fontSize:"12px"},tabList:B,currentTab:i.label,handleChangeTab:L}),s.jsxs(At,{p:"30px 8px 20px",mt:"-42px",borderRadius:"8px",zIndex:"0",bg:"bg_primary",children:[i.value=="orders"&&(r?s.jsx(et,{height:"4",width:"100%"}):(n==null?void 0:n.length)===0?s.jsx($t,{type:"nodata",text:"No orders",noBorder:!0,p:"12px",bg:"none"}):s.jsxs(H,{w:"100%",align:"flex-start",gap:"16px",mt:"12px",children:[!u&&s.jsxs(N,{w:"100%",flexDirection:{base:"column",lg:"row"},children:[s.jsx(R,{label:"Order info",value:"",w:{base:"100%",lg:"40%"}}),s.jsx(R,{label:"Rate",value:"",w:{base:"100%",lg:"calc(32% - 16px)"},direct:g,onChangeDirect:()=>w(!g)}),s.jsx(R,{label:"Time (UTC)",value:"",w:{base:"100%",lg:"28%"},align:"flex-end",textAlign:"right"})]}),n==null?void 0:n.map(D=>{const d=Z(D.inAmount,c==null?void 0:c.decimals),E=Z(D.outAmount,a==null?void 0:a.decimals),W=O(d).div(E).toString(),M=O(1).div(W).toString();return s.jsxs(N,{w:"100%",flexDirection:{base:"column",lg:"row"},borderBottom:u?"1px solid":"none",pb:u?"16px":"0",borderColor:"border",_last:{borderBottom:"none",pb:"0"},children:[s.jsx(R,{label:u?"Order info":"",value:`${P(d)} ${c.symbol} â†’ ${P(E)} ${a.symbol}`,w:{base:"100%",lg:"40%"}}),s.jsx(R,{label:u?"Rate":"",value:g?`${P(W)} ${c.symbol} per ${a.symbol}`:`${P(M)} ${a.symbol} per ${c.symbol}`,w:{base:"100%",lg:"calc(32% - 16px)"},direct:g,showDirectIcon:!!u,onChangeDirect:()=>w(!g)}),s.jsx(R,{label:u?"Time (UTC)":"",value:s.jsxs(N,{h:"12px",children:[s.jsx(T,{fontSize:"12px",color:"text_caption",children:q((D==null?void 0:D.time)*1e3,"YMDHM")}),s.jsx(Y,{xlinkHref:"#icon-icon_link1",onClick:()=>{window.open($(D==null?void 0:D.tx,"tx"))}})]}),w:{base:"100%",lg:"28%"},align:"flex-end",textAlign:"right"})]},D==null?void 0:D.time)}),O(v).gt(b)&&s.jsx(Ct,{w:"100%",children:s.jsx(Rt,{total:v,size:b,currentPage:_,onChange:C})})]})),i.value=="overview"&&s.jsxs(H,{align:"flex-start",gap:"20px",children:[(t==null?void 0:t.isShowTradeTips)&&(t==null?void 0:t.orderStatus)=="Active"&&l=="active"&&s.jsx(Ut,{}),s.jsxs(H,{w:"100%",borderRadius:"8px",p:"12px",bg:"card_bg",gap:"12px",children:[s.jsx(V,{isLoading:!1,label:`DCA  ${c==null?void 0:c.symbol} Balance`,value:`${zt(t)} ${c==null?void 0:c.symbol}`,skeletonStyle:{valueW:"128px"}}),s.jsxs(N,{w:"100%",justify:"space-between",children:[s.jsxs(T,{fontSize:"12px",children:["DCA ",a==null?void 0:a.symbol," Balance"]}),s.jsxs(N,{children:[s.jsxs(T,{color:"text_caption",fontSize:"12px",children:[kt(t)," ",a==null?void 0:a.symbol]}),l=="active"&&s.jsx(jt,{isLoading:p,onClick:()=>m(t),disabled:(t==null?void 0:t.outBalance)<=0||p,w:"60px",h:"20px",fontSize:"12px",borderRadius:"4px",variant:"outline",children:"Claim"})]})]}),s.jsx(V,{isLoading:!1,label:"Amount Withdrawn",value:Mt(t,l=="active"),skeletonStyle:{valueW:"128px"}})]}),s.jsxs(N,{flexWrap:"wrap",p:{base:"0",lg:"0 12px"},mt:{base:"-12px",lg:"-28px"},sx:{">div":{mt:{base:"12px",lg:"28px"},w:{base:"100%",lg:"calc((100% - 66px)/3)"},"&:nth-child(3n+1)":{mr:{base:"0",lg:"50px"}}}},children:[s.jsx(R,{label:"Invest Every",value:t==null?void 0:t.investEvery}),s.jsx(R,{label:"# of Orders Left",value:t==null?void 0:t.ofOrderLeft}),s.jsx(R,{label:"Each Order Size",value:`${t==null?void 0:t.eachOrderSize} ${c==null?void 0:c.symbol}`,align:"flex-end",textAlign:"right"}),s.jsx(R,{label:"Minimum Price",value:h?`${t==null?void 0:t.minPrice} ${c==null?void 0:c.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.minPriceResever} ${a==null?void 0:a.symbol} per ${c==null?void 0:c.symbol}`,direct:h,onChangeDirect:()=>y(!h)}),s.jsx(R,{label:"Maximum Price",value:h?`${t==null?void 0:t.maxPrice} ${c==null?void 0:c.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.maxPriceResever} ${a==null?void 0:a.symbol} per ${c==null?void 0:c.symbol}`,direct:h,onChangeDirect:()=>y(!h)}),l=="active"&&s.jsx(R,{label:"Current Avg. Price",value:h?`${t==null?void 0:t.currentAvgPrice} ${c==null?void 0:c.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.currentAvgPriceResever} ${a==null?void 0:a.symbol} per ${c==null?void 0:c.symbol}`,align:"flex-end",textAlign:"right",direct:h,onChangeDirect:()=>y(!h)}),l!=="active"&&(t==null?void 0:t.currentAvgPrice)!=="--"&&s.jsx(R,{label:"Avg. Price",value:h?`${t==null?void 0:t.currentAvgPrice} ${c==null?void 0:c.symbol} per ${a==null?void 0:a.symbol}`:`${t==null?void 0:t.currentAvgPriceResever} ${a==null?void 0:a.symbol} per ${c==null?void 0:c.symbol}`,align:"flex-end",textAlign:"right",direct:h,onChangeDirect:()=>y(!h)}),l=="active"&&s.jsx(R,{label:"Next Order (UTC)",value:t==null?void 0:t.nextCycleAt}),s.jsx(R,{label:"Created (UTC)",value:t==null?void 0:t.createAt,align:l=="active"||l!=="active"&&(t==null?void 0:t.currentAvgPrice)!=="--"?"flex-start":"flex-end"})]})]})]})]})}const Mt=(e,l,t=!1)=>{const{inCoin:o,outCoin:u}=e;return l?`${P(e==null?void 0:e.outWithdraw,2)} ${u==null?void 0:u.symbol}`:(e==null?void 0:e.orderStatus)==="PartialDeal"||(e==null?void 0:e.orderStatus)==="Close"?O(e==null?void 0:e.outWithdraw).gt(0)?s.jsxs(s.Fragment,{children:[P(e==null?void 0:e.inWithdrawn)," ",o==null?void 0:o.symbol,t&&s.jsx(st,{as:"span",display:"inline-block",m:"0 8px",w:"1px",h:"14px",bg:"border"}),P(e==null?void 0:e.outWithdraw)," ",u==null?void 0:u.symbol]}):`${P(e==null?void 0:e.inWithdrawn)} ${o==null?void 0:o.symbol}`:`${P(e==null?void 0:e.outWithdraw)} ${u==null?void 0:u.symbol}`},zt=e=>P(e==null?void 0:e.inBalance,2)||"0",kt=e=>(e==null?void 0:e.outBalance)>0?P(e==null?void 0:e.outBalance):e==null?void 0:e.outBalance,Ut=()=>s.jsxs(H,{p:"12px 12px 0",align:"flex-start",children:[s.jsx(N,{children:s.jsx(dt,{tips:"The system tried to execute your order multiple times but did not get it through. This is possibly because:",type:"warning",tipsFontSize:"12px",p:"0",bg:"none",svgW:"20px",svgH:"20px"})}),s.jsx(Gt,{})]});function Gt(){return s.jsxs(H,{align:"flex-start",w:"100%",children:[s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",children:"- The market price is not in your required price range"}),s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",children:"- The market no longer exit"}),s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",children:"- The market is extremely volatile"}),s.jsx(T,{color:"primary_yellow",lineHeight:"20px",fontSize:"12px",textAlign:"left",children:"This DCA will continue to be attempted and the estimated end date may be extended until your order is fully executed."})]})}export{ee as D,ce as O,ae as R,Gt as W,se as a,te as b,Bt as c,lt as d,zt as e,kt as f,Mt as g,Wt as u};
//# sourceMappingURL=OverviewOrders-B1VLLokB.js.map
