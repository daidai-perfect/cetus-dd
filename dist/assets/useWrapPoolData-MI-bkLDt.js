import{bG as ts,s as w,d as e,am as is,i as cs,r as fs,a0 as C,D as o,a2 as ss}from"./index-fbeVIhEM.js";import"./vendor-DYqnJE5Q.js";const _s="/v2/sui/stats_pools",gs="/v3/sui/clmm/pool_price_range",vs="/v2/sui/pool/history",hs="/v2/sui/statistics",ys="/v2/sui/statistics_pools",Ds="/market/clmm/prices",As="/v2/sui/current_tx",bs="/v3/sui/clmm/histogram",Ss="/v3/sui/histogram",Ps="/dca/quote_config",ws="/dca/quote",Ts="/v2/sui/dca/query_event_list",Es="/v2/sui/limit_order",Fs="/router_v2/status",Ms="/v3/sui/vaults/unstable/tvl/histogram",xs="/v3/sui/vaults/unstable/pricerange/histogram",G=(t,a)=>{if(!t||(t==null?void 0:t.length)<1)return a?"0%":"0";const D=t.reduce((_,c)=>{const d=c?String(c):"0",g=ts(d);return _.add(g)},e(0));return a?e(D).gt(1e4)?">1,000,000%":w(D.mul(100).toString(),"%"):D.toString()},V=(t,a,D)=>{if(!t)return a?"0%":"0";if(t==="--")return"--";const s=ts(t);return D&&e(s).gt(100)?">10,000%":a?w(e(s).mul(100).toString(),"%"):s},Ls=t=>`${e(t).mul(100).toString()}%`,Rs=(t,a)=>{const D=cs(t,a);return fs(D.toString(),a)},Hs=t=>{const a=new Date(t).getDate();return a<10?`0${a}`:String(a)},us=t=>{var a;return is((a=e(t))==null?void 0:a.mul(60*60*24).toString(),0)};function Us(){const t=s=>{var v,r,n;const _=s==null?void 0:s.has_mining;let c=e(0);const d=[],g=[];if(_){const i=((n=(r=(v=s==null?void 0:s.object)==null?void 0:v.rewarder_manager)==null?void 0:r.fields)==null?void 0:n.rewarders)||[],m=(s==null?void 0:s.rewarder_apr)||[];i==null||i.forEach((f,A)=>{var b,T,E,F,y;const u=e((b=f==null?void 0:f.fields)==null?void 0:b.emissions_per_second).mul(o.pow(2,-64)).toString();if(s!=null&&s[`rewarder_display${A+1}`]&&e(u).gt(0)){const S=V(m[A]);c=c.add(S);const P=(y=C((F=(E=(T=f==null?void 0:f.fields)==null?void 0:T.reward_coin)==null?void 0:E.fields)==null?void 0:F.name))==null?void 0:y.source_address;d.push({coinType:P,emissionsEveryDay:us(u)}),g.push({coinType:P,apr:S,aprDisplay:V(S,!0)})}})}return{haveMining:_&&d.length>0,miningRewardList:d,miningAprList:g,miningAprTotal:c.toString()}},a=s=>{var b,T,E,F,y,S,P,$,k,x,L,j,M,q;const _=(s==null?void 0:s.is_forward)===!1,c=!!(s!=null&&s.stable_farming&&((b=s==null?void 0:s.stable_farming)!=null&&b.show_rewarder_1||(T=s==null?void 0:s.stable_farming)!=null&&T.show_rewarder_2||(E=s==null?void 0:s.stable_farming)!=null&&E.show_rewarder_3)&&((F=s==null?void 0:s.stable_farming)!=null&&F.stable_rewarder)),d=[];let g="",v="",r="",n="",i=0,m=0,f="",A="",u=e(0);if(c){g=(y=s==null?void 0:s.stable_farming)==null?void 0:y.stable_farming_pool;const R=(S=s==null?void 0:s.stable_farming)==null?void 0:S.stable_rewarder;R==null||R.forEach((h,N)=>{const U=e(h==null?void 0:h.amount_second);if(s!=null&&s.stable_farming[`show_rewarder_${N+1}`]&&U.gt(0)){const Z=V(h==null?void 0:h.apr);u=u==null?void 0:u.add(Z),d.push({coinType:C(h.coin).source_address,emissionsEveryDay:U.mul(86400).toDP(2,o.ROUND_HALF_UP).toString()})}}),v=(P=s==null?void 0:s.stable_farming)==null?void 0:P.tvl,r=w(($=s==null?void 0:s.stable_farming)==null?void 0:$.tvl,"$"),n=w(e(u).mul(100).toString(),"%",2,!0),i=(k=s==null?void 0:s.stable_farming)==null?void 0:k.effective_tick_lower,m=(x=s==null?void 0:s.stable_farming)==null?void 0:x.effective_tick_upper;const I=ss.tickIndexToPrice(i,(L=s==null?void 0:s.coin_a)==null?void 0:L.decimals,(j=s==null?void 0:s.coin_b)==null?void 0:j.decimals).toString(),H=ss.tickIndexToPrice(m,(M=s==null?void 0:s.coin_a)==null?void 0:M.decimals,(q=s==null?void 0:s.coin_b)==null?void 0:q.decimals).toString();f=_?e(1).div(H).toString():I,A=_?e(1).div(I).toString():H}return{haveFarming:c,farmsRewarderList:d,farmsApr:u.toString(),farmingAprDisplay:n,farmsStatedTvl:v,farmsStatedTvlDisplay:r,farmsEffectiveTickLower:i,farmsEffectiveTickUpper:m,displayFarmsEffectMinPrice:f,displayFarmsEffectMaxPrice:A,farmsPoolAddress:g}};return{wrapPoolData:(s,_=!1)=>{var J,K,X,Y,B,l,p;const c=s==null?void 0:s.object,d=(J=s==null?void 0:s.object)==null?void 0:J.index,g=s.address,v=(s==null?void 0:s.is_forward)===!1,r={...s==null?void 0:s.coin_a,coin_type:(X=C((K=s==null?void 0:s.coin_a)==null?void 0:K.address))==null?void 0:X.source_address},n={...s==null?void 0:s.coin_b,coin_type:(B=C((Y=s==null?void 0:s.coin_b)==null?void 0:Y.address))==null?void 0:B.source_address},i=v?n:r,m=v?r:n,f=`${i==null?void 0:i.symbol} - ${m==null?void 0:m.symbol}`,A=e(s.fee).mul(1e4).toString(),u=e(s.fee).mul(100).toString()+"%",b=s==null?void 0:s.tick_spacing,T=w(s.pure_tvl_in_usd||0),E=w(s.vol_in_usd_24h||0),F=w(s.fee_24_h||0),y=V((l=s==null?void 0:s.apr)==null?void 0:l.fee_apr_24h),S=V((p=s==null?void 0:s.apr)==null?void 0:p.fee_apr_24h,!0),{haveMining:P,miningRewardList:$,miningAprList:k,miningAprTotal:x}=t(s),{haveFarming:L,farmsRewarderList:j,farmsApr:M,farmingAprDisplay:q,farmsStatedTvl:R,farmsStatedTvlDisplay:I,farmsEffectiveTickLower:H,farmsEffectiveTickUpper:h,displayFarmsEffectMinPrice:N,displayFarmsEffectMaxPrice:U,farmsPoolAddress:Z}=a(s),W=G([y,x]),as=e(W).gt(1e4)?">1,000,000%":w(e(W).mul(100).toString(),"%"),es=G([W,M]),rs=G([y,M],!0),ns=G([W,M],!0),O=s.is_vaults,Q=!O&&s.vaults&&s.vaults.length>0,z=s.vaults&&s.vaults.length>0&&s.vaults[s.vaults.length-1];return _?{poolAddress:g,name:f,isReverse:v,tokenA:r,tokenB:n,displayTokenA:i,displayTokenB:m,haveMining:P,miningRewardList:null,miningAprList:null,haveFarming:L,farmsRewarderList:null,farmsApr:"--",farmingAprDisplay:"--",feeApr:"--",feeAprDisplay:"--",miningAprTotal:"--",feeAndMiningAprDisplay:"--",totalAprDisplay:"--",feeRate:A,fee:s.fee,feeDisplay:u,tvlDisplay:"--",tvl:"--",volume24Display:"--",fees24Display:"--",isVaults:O,isLocalData:_,farmsStatedTvl:"--",farmsStatedTvlDisplay:"--",feeAndFarmsApr:"--",feeAndFarmsAprDisplay:"--",farmsEffectiveTickLower:H,farmsEffectiveTickUpper:h,displayFarmsEffectMinPrice:N,displayFarmsEffectMaxPrice:U,farmsPoolAddress:Z,tickSpacing:b,index:d,object:c,haveZap:(r==null?void 0:r.is_trusted)&&(n==null?void 0:n.is_trusted)&&s.pure_tvl_in_usd>1e4,isUnstableVault:Q,vaultId:z}:{poolAddress:g,name:f,isReverse:v,tokenA:r,tokenB:n,displayTokenA:i,displayTokenB:m,haveMining:P,miningRewardList:$,miningAprList:k,haveFarming:L,farmsRewarderList:j,farmsApr:M,farmingAprDisplay:q,feeApr:y,feeAprDisplay:S,miningAprTotal:x,feeAndMiningAprDisplay:as,totalAprDisplay:ns,fee:s.fee,feeRate:A,feeDisplay:u,tvlDisplay:T,tvl:s.pure_tvl_in_usd||0,volume24Display:E,fees24Display:F,isVaults:O,farmsStatedTvl:R,farmsStatedTvlDisplay:I,feeAndFarmsApr:es,feeAndFarmsAprDisplay:rs,farmsEffectiveTickLower:H,farmsEffectiveTickUpper:h,displayFarmsEffectMinPrice:N,displayFarmsEffectMaxPrice:U,farmsPoolAddress:Z,tickSpacing:b,index:d,object:c,haveZap:(r==null?void 0:r.is_trusted)&&(n==null?void 0:n.is_trusted)&&s.pure_tvl_in_usd>1e4,isUnstableVault:Q,vaultId:z}}}}export{Ts as D,Ss as H,Es as L,gs as P,ys as S,As as T,xs as V,V as a,G as b,Ds as c,Rs as d,Ps as e,Ls as f,ws as g,hs as h,vs as i,bs as j,Hs as k,Ms as l,_s as m,Fs as n,Us as u};
//# sourceMappingURL=useWrapPoolData-MI-bkLDt.js.map
