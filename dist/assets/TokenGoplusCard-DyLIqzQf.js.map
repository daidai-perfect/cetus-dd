{"version":3,"file":"TokenGoplusCard-DyLIqzQf.js","sources":["../../../cetus-design/src/hook/useGetGoplusTokenInfo.ts","../../../cetus-design/src/components/common/tokenSelectModal/TokenGoplusCard.tsx"],"sourcesContent":["export default function useGoPlusTokenInfo() {\n  const getGoPlusTokenInfo = async (coinType: string) => {\n    try {\n      console.log('ðŸš€ðŸš€ðŸš€ ~ file: useGetGoplusTokenInfo.ts:8 ~ getGoPlusTokenInfo ~ getGoPlusTokenInfo:')\n      const { result } = await fetch(`https://api.gopluslabs.io/api/v1/sui/token_security?contract_addresses=${coinType}`).then(rsp => {\n        return rsp.json()\n      })\n      const info = result[coinType]\n      console.log('ðŸš€ðŸš€ðŸš€ ~ file: useGetGoplusTokenInfo.ts:8 ~ getGoPlusTokenInfo ~ info:', info)\n      const blockListValue = info.blacklist.value\n      const contractUpgradeableValue = info.contract_upgradeable.value\n      const mintableValue = info.mintable.value\n      const metadataModifiableValue = info.metadata_modifiable.value\n      let issueNum = 0\n      if (blockListValue !== '0') issueNum++\n      if (contractUpgradeableValue !== '0') issueNum++\n      if (mintableValue !== '0') issueNum++\n      if (metadataModifiableValue !== '0') issueNum++\n      return {\n        totalSupply: info.total_supply,\n        issueNum,\n        blockListValue,\n        contractUpgradeableValue,\n        mintableValue,\n        metadataModifiableValue\n      }\n    } catch (error) {\n      return null\n    }\n  }\n  return { getGoPlusTokenInfo }\n}\n","import useGoPlusTokenInfo from '@/hook/useGetGoplusTokenInfo'\nimport useExplorer from '@cetus/hooks/src/useExplorer'\nimport { Token } from '@cetus/types'\nimport { HTextLabelBox, Icon } from '@cetus/ui-kit'\nimport { addComma, d } from '@cetus/utils'\nimport { Center, HStack, Image, Skeleton, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport AddressCopyLink from '../AddressCopyLink'\nimport CetusTooltip from '../CetusTooltip'\n\nexport default function TokenGoplusCard({ tokenInfo }: { tokenInfo: Token }) {\n  const { getExplorerUrl } = useExplorer()\n  const { getGoPlusTokenInfo } = useGoPlusTokenInfo()\n  const [goplusTokenInfo, setGoPlusTokenInfo] = useState<any>(null)\n  const [isGoPlusTokenInfoLoading, setIsGoPlusTokenInfoLoading] = useState(false)\n\n  const fetchTokenInfo = async (coinType: string) => {\n    try {\n      setIsGoPlusTokenInfoLoading(true)\n      const result = await getGoPlusTokenInfo(coinType)\n      console.log('ðŸš€ ~ fetchTokenInfo ~ result:', result)\n      setGoPlusTokenInfo(result)\n    } catch (error) {\n      console.log('ðŸš€ðŸš€ðŸš€ ~ file: token-goplus-modal.vue:110 ~ fetchTokenInfo ~ error:', error)\n    }\n    setIsGoPlusTokenInfoLoading(false)\n  }\n  useEffect(() => {\n    if (tokenInfo.coin_type) {\n      setGoPlusTokenInfo(null)\n      fetchTokenInfo(tokenInfo.coin_type)\n    }\n  }, [tokenInfo.coin_type])\n\n  return (\n    <VStack gap=\"0\">\n      <HStack w=\"100%\" bg=\"card_bg\" h=\"48px\" p=\"0 16px\">\n        <Text fontSize=\"14px\" color=\"text_caption\">\n          Basic Info\n        </Text>\n      </HStack>\n      <VStack w=\"100%\" gap=\"12px\" p=\"12px 16px\">\n        <HTextLabelBox\n          isLoading={!tokenInfo}\n          label=\"Contract Address\"\n          value={\n            <HStack gap=\"4px\">\n              <AddressCopyLink\n                address={tokenInfo?.coin_type}\n                showLink={false}\n                color=\"text_caption\"\n                fontSize=\"14px\"\n                onClickLink={() => window.open(getExplorerUrl(tokenInfo?.coin_type, 'coin'))}\n              />\n              <Image\n                cursor=\"pointer\"\n                src=\"/images/icon_suivision@2x.png\"\n                w=\"20px\"\n                h=\"20px\"\n                onClick={() =>\n                  window.open(getExplorerUrl(tokenInfo?.coin_type, 'coin', { link: 'https://suivision.xyz', name: 'suivision', img: '' }))\n                }\n              />\n              <Image\n                cursor=\"pointer\"\n                src=\"/images/logo_suiscan@2x.png\"\n                w=\"20px\"\n                h=\"20px\"\n                onClick={() => window.open(getExplorerUrl(tokenInfo?.coin_type, 'coin', { link: 'https://suiscan.xyz', name: 'suiscan', img: '' }))}\n              />\n            </HStack>\n          }\n          labelStyle={{\n            fontSize: '14px',\n            h: '20px',\n            lineHeight: '20px'\n          }}\n          skeletonStyle={{\n            valueW: '128px'\n          }}\n        />\n        <HTextLabelBox\n          isLoading={!tokenInfo}\n          label=\"Decimals\"\n          value={`${tokenInfo?.decimals}`}\n          labelStyle={{\n            fontSize: '14px',\n            lineHeight: '20px',\n            h: '20px'\n          }}\n          valueStyle={{\n            fontSize: '14px'\n          }}\n          skeletonStyle={{\n            valueW: '128px'\n          }}\n        />\n        {d(goplusTokenInfo?.totalSupply).gt(0) && (\n          <HTextLabelBox\n            isLoading={isGoPlusTokenInfoLoading}\n            label=\"Total Supply\"\n            value={`${addComma(goplusTokenInfo?.totalSupply)}`}\n            labelStyle={{\n              fontSize: '14px',\n              lineHeight: '20px',\n              h: '20px'\n            }}\n            valueStyle={{\n              fontSize: '14px'\n            }}\n            skeletonStyle={{\n              valueW: '128px'\n            }}\n          />\n        )}\n      </VStack>\n      <HStack w=\"100%\" bg=\"card_bg\" h=\"48px\" p=\"0 16px\" justify=\"space-between\">\n        <TipsInfoBlock\n          w=\"unset\"\n          textColor=\"text_caption\"\n          text=\"Security Info\"\n          tips=\" which only constitutes basic security info reference and does not fully reflect an asset's quality and credibility. Please do\n              your own research if you plan to interact with it deeply\"\n        />\n        {d(goplusTokenInfo?.issueNum).gt(0) && (\n          <HStack p=\"4px 8px\" bg=\"primary_yellow_opacity.10\" borderRadius=\"8px\">\n            <Image src=\"/images/icon_no.png\" w=\"16px\" h=\"16px\" />\n            <Text fontSize=\"14px\" color=\"primary_yellow\">\n              {goplusTokenInfo?.issueNum} {goplusTokenInfo?.issueNum > 1 ? 'issues' : 'issue'} found\n            </Text>\n          </HStack>\n        )}\n      </HStack>\n      <VStack w=\"100%\" gap=\"12px\" p=\"12px 16px\">\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Metadata Modifiable\"\n          tips=\"Whether the metadata is mutable.\"\n          status={goplusTokenInfo?.metadataModifiableValue == '0' ? 'No' : 'Yes'}\n        />\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Mintable\"\n          tips=\"Whether the token is still mintable.\"\n          status={goplusTokenInfo?.mintableValue == '0' ? 'No' : 'Yes'}\n        />\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Blacklist\"\n          tips=\"Whether the developer can block any other users from trading.\"\n          status={goplusTokenInfo?.blockListValue == '0' ? 'No' : 'Yes'}\n        />\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Contract Upgradable\"\n          tips=\"Whether the token contract is upgradable. If the contract is upgradable, developers can arbitrarily modify its functions.\"\n          status={goplusTokenInfo?.contractUpgradeableValue == '0' ? 'No' : 'Yes'}\n        />\n      </VStack>\n      <HStack justify=\"center\" w=\"100%\" p=\"16px\" borderTop=\"1px solid\" borderColor=\"border\">\n        <Text fontSize=\"14px\" color=\"text_caption\">\n          Powered by\n        </Text>\n        <Image src=\"/images/img_goplus@2x.png\" w=\"70px\" h=\"20px\" />\n      </HStack>\n    </VStack>\n  )\n}\n\nconst TipsInfoBlock = ({\n  text,\n  tips,\n  status,\n  w = '100%',\n  textColor = 'text_paragraph',\n  isLoading = false\n}: {\n  text: string\n  tips: string\n  status?: 'No' | 'Yes'\n  w?: string\n  textColor?: string\n  isLoading?: boolean\n}) => {\n  return (\n    <HStack w={w} justify=\"space-between\">\n      <CetusTooltip\n        placement=\"top\"\n        tooltip={\n          <Text fontSize=\"12px\" lineHeight=\"20px\" color=\"text_caption\">\n            {tips}\n          </Text>\n        }\n      >\n        <Center as=\"button\">\n          <HStack w=\"100%\" gap=\"4px\">\n            <Text fontSize=\"14px\" color={textColor}>\n              {text}\n            </Text>\n            <Icon xlinkHref=\"#icon-icon_tips\" />\n          </HStack>\n        </Center>\n      </CetusTooltip>\n      {status && (\n        <Skeleton isLoaded={!isLoading}>\n          <HStack>\n            <Text color={status == 'Yes' ? 'primary_yellow' : 'primary_green'}>{status}</Text>\n            {status == 'No' && <Image src=\"/images/icon_yes.png\" w=\"16px\" h=\"16px\" />}\n            {status == 'Yes' && <Image src=\"/images/icon_no.png\" w=\"16px\" h=\"16px\" />}\n          </HStack>\n        </Skeleton>\n      )}\n    </HStack>\n  )\n}\n"],"names":["useGoPlusTokenInfo","coinType","result","rsp","info","blockListValue","contractUpgradeableValue","mintableValue","metadataModifiableValue","issueNum","TokenGoplusCard","tokenInfo","getExplorerUrl","useExplorer","getGoPlusTokenInfo","goplusTokenInfo","setGoPlusTokenInfo","useState","isGoPlusTokenInfoLoading","setIsGoPlusTokenInfoLoading","fetchTokenInfo","error","useEffect","jsxs","VStack","jsx","HStack","Text","HTextLabelBox","AddressCopyLink","Image","d","addComma","TipsInfoBlock","text","tips","status","w","textColor","isLoading","CetusTooltip","Center","Icon","Skeleton"],"mappings":"gQAAA,SAAwBA,GAAqB,CA8B3C,MAAO,CAAE,mBA7BkB,MAAOC,GAAqB,CACjD,GAAA,CACF,QAAQ,IAAI,sFAAsF,EAC5F,KAAA,CAAE,OAAAC,CAAO,EAAI,MAAM,MAAM,0EAA0ED,CAAQ,EAAE,EAAE,KAAYE,GACxHA,EAAI,KAAK,CACjB,EACKC,EAAOF,EAAOD,CAAQ,EACpB,QAAA,IAAI,yEAA0EG,CAAI,EACpF,MAAAC,EAAiBD,EAAK,UAAU,MAChCE,EAA2BF,EAAK,qBAAqB,MACrDG,EAAgBH,EAAK,SAAS,MAC9BI,EAA0BJ,EAAK,oBAAoB,MACzD,IAAIK,EAAW,EACf,OAAIJ,IAAmB,KAAKI,IACxBH,IAA6B,KAAKG,IAClCF,IAAkB,KAAKE,IACvBD,IAA4B,KAAKC,IAC9B,CACL,YAAaL,EAAK,aAClB,SAAAK,EACA,eAAAJ,EACA,yBAAAC,EACA,cAAAC,EACA,wBAAAC,CACF,OACc,CACP,OAAA,IAAA,CAEX,CAC4B,CAC9B,CCrBwB,SAAAE,EAAgB,CAAE,UAAAC,GAAmC,CACrE,KAAA,CAAE,eAAAC,CAAe,EAAIC,EAAY,EACjC,CAAE,mBAAAC,CAAmB,EAAId,EAAmB,EAC5C,CAACe,EAAiBC,CAAkB,EAAIC,EAAAA,SAAc,IAAI,EAC1D,CAACC,EAA0BC,CAA2B,EAAIF,EAAAA,SAAS,EAAK,EAExEG,EAAiB,MAAOnB,GAAqB,CAC7C,GAAA,CACFkB,EAA4B,EAAI,EAC1B,MAAAjB,EAAS,MAAMY,EAAmBb,CAAQ,EACxC,QAAA,IAAI,gCAAiCC,CAAM,EACnDc,EAAmBd,CAAM,QAClBmB,EAAO,CACN,QAAA,IAAI,sEAAuEA,CAAK,CAAA,CAE1FF,EAA4B,EAAK,CACnC,EACAG,OAAAA,EAAAA,UAAU,IAAM,CACVX,EAAU,YACZK,EAAmB,IAAI,EACvBI,EAAeT,EAAU,SAAS,EACpC,EACC,CAACA,EAAU,SAAS,CAAC,EAGtBY,EAAA,KAACC,EAAO,CAAA,IAAI,IACV,SAAA,CAAAC,MAACC,GAAO,EAAE,OAAO,GAAG,UAAU,EAAE,OAAO,EAAE,SACvC,SAAAD,MAACE,GAAK,SAAS,OAAO,MAAM,eAAe,qBAE3C,CAAA,EACF,SACCH,EAAO,CAAA,EAAE,OAAO,IAAI,OAAO,EAAE,YAC5B,SAAA,CAAAC,EAAA,IAACG,EAAA,CACC,UAAW,CAACjB,EACZ,MAAM,mBACN,MACEY,EAAA,KAACG,EAAO,CAAA,IAAI,MACV,SAAA,CAAAD,EAAA,IAACI,EAAA,CACC,QAASlB,GAAA,YAAAA,EAAW,UACpB,SAAU,GACV,MAAM,eACN,SAAS,OACT,YAAa,IAAM,OAAO,KAAKC,EAAeD,GAAA,YAAAA,EAAW,UAAW,MAAM,CAAC,CAAA,CAC7E,EACAc,EAAA,IAACK,EAAA,CACC,OAAO,UACP,IAAI,gCACJ,EAAE,OACF,EAAE,OACF,QAAS,IACP,OAAO,KAAKlB,EAAeD,GAAA,YAAAA,EAAW,UAAW,OAAQ,CAAE,KAAM,wBAAyB,KAAM,YAAa,IAAK,EAAA,CAAI,CAAC,CAAA,CAE3H,EACAc,EAAA,IAACK,EAAA,CACC,OAAO,UACP,IAAI,8BACJ,EAAE,OACF,EAAE,OACF,QAAS,IAAM,OAAO,KAAKlB,EAAeD,GAAA,YAAAA,EAAW,UAAW,OAAQ,CAAE,KAAM,sBAAuB,KAAM,UAAW,IAAK,EAAA,CAAI,CAAC,CAAA,CAAA,CACpI,EACF,EAEF,WAAY,CACV,SAAU,OACV,EAAG,OACH,WAAY,MACd,EACA,cAAe,CACb,OAAQ,OAAA,CACV,CACF,EACAc,EAAA,IAACG,EAAA,CACC,UAAW,CAACjB,EACZ,MAAM,WACN,MAAO,GAAGA,GAAA,YAAAA,EAAW,QAAQ,GAC7B,WAAY,CACV,SAAU,OACV,WAAY,OACZ,EAAG,MACL,EACA,WAAY,CACV,SAAU,MACZ,EACA,cAAe,CACb,OAAQ,OAAA,CACV,CACF,EACCoB,EAAEhB,GAAA,YAAAA,EAAiB,WAAW,EAAE,GAAG,CAAC,GACnCU,EAAA,IAACG,EAAA,CACC,UAAWV,EACX,MAAM,eACN,MAAO,GAAGc,EAASjB,GAAA,YAAAA,EAAiB,WAAW,CAAC,GAChD,WAAY,CACV,SAAU,OACV,WAAY,OACZ,EAAG,MACL,EACA,WAAY,CACV,SAAU,MACZ,EACA,cAAe,CACb,OAAQ,OAAA,CACV,CAAA,CACF,EAEJ,EACAQ,EAAAA,KAACG,EAAO,CAAA,EAAE,OAAO,GAAG,UAAU,EAAE,OAAO,EAAE,SAAS,QAAQ,gBACxD,SAAA,CAAAD,EAAA,IAACQ,EAAA,CACC,EAAE,QACF,UAAU,eACV,KAAK,gBACL,KAAK;AAAA,uEAAA,CAEP,EACCF,EAAEhB,GAAA,YAAAA,EAAiB,QAAQ,EAAE,GAAG,CAAC,GAC/BQ,OAAAG,EAAA,CAAO,EAAE,UAAU,GAAG,4BAA4B,aAAa,MAC9D,SAAA,CAAAD,MAACK,GAAM,IAAI,sBAAsB,EAAE,OAAO,EAAE,OAAO,EAClDP,EAAA,KAAAI,EAAA,CAAK,SAAS,OAAO,MAAM,iBACzB,SAAA,CAAiBZ,GAAA,YAAAA,EAAA,SAAS,KAAEA,GAAA,YAAAA,EAAiB,UAAW,EAAI,SAAW,QAAQ,QAAA,CAClF,CAAA,CAAA,CACF,CAAA,CAAA,EAEJ,SACCS,EAAO,CAAA,EAAE,OAAO,IAAI,OAAO,EAAE,YAC5B,SAAA,CAAAC,EAAA,IAACQ,EAAA,CACC,UAAWf,GAA4B,CAACH,EACxC,KAAK,sBACL,KAAK,mCACL,QAAQA,GAAA,YAAAA,EAAiB,0BAA2B,IAAM,KAAO,KAAA,CACnE,EACAU,EAAA,IAACQ,EAAA,CACC,UAAWf,GAA4B,CAACH,EACxC,KAAK,WACL,KAAK,uCACL,QAAQA,GAAA,YAAAA,EAAiB,gBAAiB,IAAM,KAAO,KAAA,CACzD,EACAU,EAAA,IAACQ,EAAA,CACC,UAAWf,GAA4B,CAACH,EACxC,KAAK,YACL,KAAK,gEACL,QAAQA,GAAA,YAAAA,EAAiB,iBAAkB,IAAM,KAAO,KAAA,CAC1D,EACAU,EAAA,IAACQ,EAAA,CACC,UAAWf,GAA4B,CAACH,EACxC,KAAK,sBACL,KAAK,4HACL,QAAQA,GAAA,YAAAA,EAAiB,2BAA4B,IAAM,KAAO,KAAA,CAAA,CACpE,EACF,EACAQ,EAAAA,KAACG,EAAO,CAAA,QAAQ,SAAS,EAAE,OAAO,EAAE,OAAO,UAAU,YAAY,YAAY,SAC3E,SAAA,CAAAD,MAACE,EAAK,CAAA,SAAS,OAAO,MAAM,eAAe,SAE3C,aAAA,QACCG,EAAM,CAAA,IAAI,4BAA4B,EAAE,OAAO,EAAE,MAAO,CAAA,CAAA,CAC3D,CAAA,CAAA,EACF,CAEJ,CAEA,MAAMG,EAAgB,CAAC,CACrB,KAAAC,EACA,KAAAC,EACA,OAAAC,EACA,EAAAC,EAAI,OACJ,UAAAC,EAAY,iBACZ,UAAAC,EAAY,EACd,IASKhB,EAAAA,KAAAG,EAAA,CAAO,EAAAW,EAAM,QAAQ,gBACpB,SAAA,CAAAZ,EAAA,IAACe,EAAA,CACC,UAAU,MACV,cACGb,EAAK,CAAA,SAAS,OAAO,WAAW,OAAO,MAAM,eAC3C,SACHQ,CAAA,CAAA,EAGF,SAAAV,EAAAA,IAACgB,GAAO,GAAG,SACT,gBAACf,EAAO,CAAA,EAAE,OAAO,IAAI,MACnB,SAAA,CAAAD,MAACE,EAAK,CAAA,SAAS,OAAO,MAAOW,EAC1B,SACHJ,EAAA,EACAT,EAAAA,IAACiB,EAAK,CAAA,UAAU,iBAAkB,CAAA,CAAA,CAAA,CACpC,CACF,CAAA,CAAA,CACF,EACCN,GACEX,EAAA,IAAAkB,EAAA,CAAS,SAAU,CAACJ,EACnB,gBAACb,EACC,CAAA,SAAA,CAAAD,MAACE,GAAK,MAAOS,GAAU,MAAQ,iBAAmB,gBAAkB,SAAOA,EAAA,EAC1EA,GAAU,MAASX,MAAAK,EAAA,CAAM,IAAI,uBAAuB,EAAE,OAAO,EAAE,MAAO,CAAA,EACtEM,GAAU,OAAUX,MAAAK,EAAA,CAAM,IAAI,sBAAsB,EAAE,OAAO,EAAE,MAAO,CAAA,CAAA,CAAA,CACzE,CACF,CAAA,CAAA,EAEJ"}