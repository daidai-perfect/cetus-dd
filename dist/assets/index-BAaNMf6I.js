const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CollectListBox-C144QZ5e.js","assets/SingleTokenInfo-Bn1NHE3L.js","assets/useToken-DV8FZdgD.js","assets/CopyButton-DQJDRFeH.js","assets/TokenList-CdKJg0Iz.js","assets/Loading-D9SNw8aJ.js","assets/NoData-BF6aqDwl.js","assets/useTokenBalance-C-dsSwSH.js","assets/useAccountBalance-Bsb5Bywf.js","assets/TokenGoplusCard-A1FLMhE6.js","assets/HTextLabelBox-ByJi-I0M.js","assets/index-xR7dg4Ci.js","assets/ConnectButton-CxcmEtyQ.js","assets/CetusLayout-C6ZL40gr.js","assets/useDocumentSize-Bi3Zb2GY.js","assets/debounce-SA45KNB-.js","assets/index-DxqpoqFP.js","assets/swapWidgetConfig-CfXfmNBt.js","assets/index-6ruRFy48.js","assets/useFindBestRouting-BELhLLHv.js","assets/global-Maqxa3B8.js","assets/useGetPoolList-Ch-cSiNu.js","assets/api-data-utils-BMdVRd3m.js","assets/swapWidget-XeQWM-pm.js","assets/SwapConfirmBlock-DXbL7ZHI.js","assets/aggregator-Bc6-3ljj.js","assets/useTransaction-Crsb5_N8.js","assets/index-BTXIk96e.js","assets/usePriceImpact-BYQ4UTLk.js","assets/CurrentPrice-D099pCF6.js","assets/HighlightText-D-L3N57a.js","assets/TradeConfirmAmountInfo-B757loci.js","assets/TradeInputGroup-CcjGo1i9.js","assets/_getAllKeysIn-BwzxuvtS.js","assets/RefreshButton-BUVJB5fD.js","assets/Slippage-D9wBGS8S.js","assets/TooltipIcon-3wZe9t1i.js","assets/Stats-By2k9QOg.js","assets/useStatistics-DsAHrVcm.js","assets/index-KuMFLApc.js","assets/VolumeChart-DzPwcYwj.js","assets/Pagination-CuPMai4e.js","assets/tr-DAy2g9am.js","assets/EmptyTooltip-Dt7DLbUA.js","assets/YAxis-BpZtm4Pp.js","assets/throttle-BZ1RkcBX.js","assets/generateCategoricalChart-P2qDq1gV.js","assets/linear-DYpwdEgO.js","assets/SortDropBlock-BSaOJIPe.js","assets/TableSortTh-B2nm7Crr.js","assets/index-LX_HbBaN.js","assets/CoinPairInfo-Bijh7GnP.js","assets/PoweredByHaedal-C4SLIaKq.js","assets/TvlChart-GWoAIYhV.js","assets/Swap-4IgNTLak.js","assets/LimitPriceChart-kBQ_Q4eO.js","assets/swap-Buidc7Uq.js","assets/Dca-DH1SzyGz.js","assets/MenuDropBlock-8kUppaIo.js","assets/IconBg-DfbOjf1e.js","assets/RangeValue-B2e-ozxv.js","assets/progress-VmCP8plQ.js","assets/progress.utils-CEWGlXF-.js","assets/useInsufficientBalanceToast-Bw7pvWH4.js","assets/icon_currentprice@2x-DeObnx8l.js","assets/WarningTokenTipModal-C5jaxuDt.js","assets/InputBox-D9mdohNW.js","assets/useRpcListener-D50ORn0N.js","assets/usePreviousValue-_yYeZiRa.js","assets/Pools-DyaRF_K2.js","assets/useFavoritePool-rr4WwvpD.js","assets/SearchInputBlock-DMMnDDRu.js","assets/index-BZ6Iw9Yj.js","assets/PositionListLoading-BjKtVCVB.js","assets/VaultsAprBlock-BDQ2fh5U.js","assets/msafe-oYBkW7LJ.js","assets/useDisplayTickPrice-Cfmq_n3W.js","assets/VTextLabelBox-cm99sedm.js","assets/usePositionList-CExNQ15H.js","assets/useCurrentPos-nHd-Pbn9.js","assets/PriceRange-DC_TSK67.js","assets/PositionStatus-MMBLOP4V.js","assets/useBurn-CzE1WOCE.js","assets/useNotifiSubscription-DHOoPJ0D.js","assets/useXCetusHelper-BMIM_YCb.js","assets/PositionCurrentPrice-C1rwuvcB.js","assets/Liquidity-BGHP7Y2q.js","assets/useGetContractPoolInfo-Dy1eqICt.js","assets/liquidity-CleGQ68a.js","assets/ActionButton-B2QUfdRb.js","assets/RangeAlerts-Cj5YuWq0.js","assets/SelectTokenAndFeeConfirm-zmGgyboj.js","assets/FeeTierSelect-C5-9uHSV.js","assets/usePosAdd-B4JQAKFl.js","assets/LockInput-B5gkmIZp.js","assets/common-C97LTYSc.js","assets/PositionDetail-T3l3QCLQ.js","assets/RemoveBlock-CfBsWdMs.js","assets/ExpendItem-BGI5FLbN.js","assets/Farms-DZQem5fq.js","assets/FarmsTable-7sc2sF-Y.js","assets/CreatePool-D2YlNZk3.js","assets/useCreatePoolHelper-CrL5UAY1.js","assets/Limit-j1yZLavF.js","assets/Swap-DhZM2Pwz.js","assets/SelectForLiquidity-D70zirkH.js","assets/Vaults-DXtd4iU_.js","assets/XCetus-CRAbxQX3.js","assets/VaultsDetailPage-Cs2BsjJ9.js","assets/LineChart-Dc-Tedz1.js","assets/VaultsAddResult-CPWHeyJi.js","assets/TestNotifi-DBSZzeD6.js"])))=>i.map(i=>d[i]);
var Lp=Object.defineProperty;var Ju=a=>{throw TypeError(a)};var qp=(a,s,et)=>s in a?Lp(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et;var dn=(a,s,et)=>qp(a,typeof s!="symbol"?s+"":s,et),ku=(a,s,et)=>s.has(a)||Ju("Cannot "+et);var Mr=(a,s,et)=>(ku(a,s,"read from private field"),et?et.call(a):s.get(a)),fo=(a,s,et)=>s.has(a)?Ju("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),Yn=(a,s,et,tt)=>(ku(a,s,"write to private field"),tt?tt.call(a,et):s.set(a,et),et),to=(a,s,et)=>(ku(a,s,"access private method"),et);var Rl=(a,s,et,tt)=>({set _(at){Yn(a,s,at,et)},get _(){return Mr(a,s,tt)}});function _mergeNamespaces(a,s){for(var et=0;et<s.length;et++){const tt=s[et];if(typeof tt!="string"&&!Array.isArray(tt)){for(const at in tt)if(at!=="default"&&!(at in a)){const ct=Object.getOwnPropertyDescriptor(tt,at);ct&&Object.defineProperty(a,at,ct.get?ct:{enumerable:!0,get:()=>tt[at]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const at of document.querySelectorAll('link[rel="modulepreload"]'))tt(at);new MutationObserver(at=>{for(const ct of at)if(ct.type==="childList")for(const ut of ct.addedNodes)ut.tagName==="LINK"&&ut.rel==="modulepreload"&&tt(ut)}).observe(document,{childList:!0,subtree:!0});function et(at){const ct={};return at.integrity&&(ct.integrity=at.integrity),at.referrerPolicy&&(ct.referrerPolicy=at.referrerPolicy),at.crossOrigin==="use-credentials"?ct.credentials="include":at.crossOrigin==="anonymous"?ct.credentials="omit":ct.credentials="same-origin",ct}function tt(at){if(at.ep)return;at.ep=!0;const ct=et(at);fetch(at.href,ct)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var s=a.default;if(typeof s=="function"){var et=function tt(){return this instanceof tt?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};et.prototype=s.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(a).forEach(function(tt){var at=Object.getOwnPropertyDescriptor(a,tt);Object.defineProperty(et,tt,at.get?at:{enumerable:!0,get:function(){return a[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$4(a){return a===null||typeof a!="object"?null:(a=z$5&&a[z$5]||a["@@iterator"],typeof a=="function"?a:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$3={};function E$1(a,s,et){this.props=a,this.context=s,this.refs=D$3,this.updater=et||B$2}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,s){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,s,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$3(a,s,et){this.props=a,this.context=s,this.refs=D$3,this.updater=et||B$2}var H$3=G$3.prototype=new F$1;H$3.constructor=G$3;C$1(H$3,E$1.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$3(a,s,et){var tt,at={},ct=null,ut=null;if(s!=null)for(tt in s.ref!==void 0&&(ut=s.ref),s.key!==void 0&&(ct=""+s.key),s)J$2.call(s,tt)&&!L$2.hasOwnProperty(tt)&&(at[tt]=s[tt]);var bt=arguments.length-2;if(bt===1)at.children=et;else if(1<bt){for(var wt=Array(bt),Et=0;Et<bt;Et++)wt[Et]=arguments[Et+2];at.children=wt}if(a&&a.defaultProps)for(tt in bt=a.defaultProps,bt)at[tt]===void 0&&(at[tt]=bt[tt]);return{$$typeof:l$2,type:a,key:ct,ref:ut,props:at,_owner:K$3.current}}function N$2(a,s){return{$$typeof:l$2,type:a.type,key:s,ref:a.ref,props:a.props,_owner:a._owner}}function O$3(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$2}function escape$4(a){var s={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(et){return s[et]})}var P$5=/\/+/g;function Q$1(a,s){return typeof a=="object"&&a!==null&&a.key!=null?escape$4(""+a.key):s.toString(36)}function R$3(a,s,et,tt,at){var ct=typeof a;(ct==="undefined"||ct==="boolean")&&(a=null);var ut=!1;if(a===null)ut=!0;else switch(ct){case"string":case"number":ut=!0;break;case"object":switch(a.$$typeof){case l$2:case n$2:ut=!0}}if(ut)return ut=a,at=at(ut),a=tt===""?"."+Q$1(ut,0):tt,I$5(at)?(et="",a!=null&&(et=a.replace(P$5,"$&/")+"/"),R$3(at,s,et,"",function(Et){return Et})):at!=null&&(O$3(at)&&(at=N$2(at,et+(!at.key||ut&&ut.key===at.key?"":(""+at.key).replace(P$5,"$&/")+"/")+a)),s.push(at)),1;if(ut=0,tt=tt===""?".":tt+":",I$5(a))for(var bt=0;bt<a.length;bt++){ct=a[bt];var wt=tt+Q$1(ct,bt);ut+=R$3(ct,s,et,wt,at)}else if(wt=A$4(a),typeof wt=="function")for(a=wt.call(a),bt=0;!(ct=a.next()).done;)ct=ct.value,wt=tt+Q$1(ct,bt++),ut+=R$3(ct,s,et,wt,at);else if(ct==="object")throw s=String(a),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return ut}function S$4(a,s,et){if(a==null)return a;var tt=[],at=0;return R$3(a,tt,"","",function(ct){return s.call(et,ct,at++)}),tt}function T$3(a){if(a._status===-1){var s=a._result;s=s(),s.then(function(et){(a._status===0||a._status===-1)&&(a._status=1,a._result=et)},function(et){(a._status===0||a._status===-1)&&(a._status=2,a._result=et)}),a._status===-1&&(a._status=0,a._result=s)}if(a._status===1)return a._result.default;throw a._result}var U$2={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$4,forEach:function(a,s,et){S$4(a,function(){s.apply(this,arguments)},et)},count:function(a){var s=0;return S$4(a,function(){s++}),s},toArray:function(a){return S$4(a,function(s){return s})||[]},only:function(a){if(!O$3(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(a,s,et){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var tt=C$1({},a.props),at=a.key,ct=a.ref,ut=a._owner;if(s!=null){if(s.ref!==void 0&&(ct=s.ref,ut=K$3.current),s.key!==void 0&&(at=""+s.key),a.type&&a.type.defaultProps)var bt=a.type.defaultProps;for(wt in s)J$2.call(s,wt)&&!L$2.hasOwnProperty(wt)&&(tt[wt]=s[wt]===void 0&&bt!==void 0?bt[wt]:s[wt])}var wt=arguments.length-2;if(wt===1)tt.children=et;else if(1<wt){bt=Array(wt);for(var Et=0;Et<wt;Et++)bt[Et]=arguments[Et+2];tt.children=bt}return{$$typeof:l$2,type:a.type,key:at,ref:ct,props:tt,_owner:ut}};react_production_min.createContext=function(a){return a={$$typeof:u$2,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$2,_context:a},a.Consumer=a};react_production_min.createElement=M$3;react_production_min.createFactory=function(a){var s=M$3.bind(null,a);return s.type=a,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$6,render:a}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(a){return{$$typeof:y$3,_payload:{_status:-1,_result:a},_init:T$3}};react_production_min.memo=function(a,s){return{$$typeof:x$3,type:a,compare:s===void 0?null:s}};react_production_min.startTransition=function(a){var s=V$2.transition;V$2.transition={};try{a()}finally{V$2.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(a,s){return U$2.current.useCallback(a,s)};react_production_min.useContext=function(a){return U$2.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$2.current.useDeferredValue(a)};react_production_min.useEffect=function(a,s){return U$2.current.useEffect(a,s)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(a,s,et){return U$2.current.useImperativeHandle(a,s,et)};react_production_min.useInsertionEffect=function(a,s){return U$2.current.useInsertionEffect(a,s)};react_production_min.useLayoutEffect=function(a,s){return U$2.current.useLayoutEffect(a,s)};react_production_min.useMemo=function(a,s){return U$2.current.useMemo(a,s)};react_production_min.useReducer=function(a,s,et){return U$2.current.useReducer(a,s,et)};react_production_min.useRef=function(a){return U$2.current.useRef(a)};react_production_min.useState=function(a){return U$2.current.useState(a)};react_production_min.useSyncExternalStore=function(a,s,et){return U$2.current.useSyncExternalStore(a,s,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs$2(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$3=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$4(a,s,et){var tt,at={},ct=null,ut=null;et!==void 0&&(ct=""+et),s.key!==void 0&&(ct=""+s.key),s.ref!==void 0&&(ut=s.ref);for(tt in s)m$5.call(s,tt)&&!p$2.hasOwnProperty(tt)&&(at[tt]=s[tt]);if(a&&a.defaultProps)for(tt in s=a.defaultProps,s)at[tt]===void 0&&(at[tt]=s[tt]);return{$$typeof:k$3,type:a,key:ct,ref:ut,props:at,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function s(dr,gr){var ur=dr.length;dr.push(gr);e:for(;0<ur;){var _r=ur-1>>>1,hr=dr[_r];if(0<at(hr,gr))dr[_r]=gr,dr[ur]=hr,ur=_r;else break e}}function et(dr){return dr.length===0?null:dr[0]}function tt(dr){if(dr.length===0)return null;var gr=dr[0],ur=dr.pop();if(ur!==gr){dr[0]=ur;e:for(var _r=0,hr=dr.length,cr=hr>>>1;_r<cr;){var wr=2*(_r+1)-1,Br=dr[wr],Or=wr+1,Rr=dr[Or];if(0>at(Br,ur))Or<hr&&0>at(Rr,Br)?(dr[_r]=Rr,dr[Or]=ur,_r=Or):(dr[_r]=Br,dr[wr]=ur,_r=wr);else if(Or<hr&&0>at(Rr,ur))dr[_r]=Rr,dr[Or]=ur,_r=Or;else break e}}return gr}function at(dr,gr){var ur=dr.sortIndex-gr.sortIndex;return ur!==0?ur:dr.id-gr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ct=performance;a.unstable_now=function(){return ct.now()}}else{var ut=Date,bt=ut.now();a.unstable_now=function(){return ut.now()-bt}}var wt=[],Et=[],Ft=1,jt=null,Lt=3,Ut=!1,Vt=!1,Yt=!1,er=typeof setTimeout=="function"?setTimeout:null,tr=typeof clearTimeout=="function"?clearTimeout:null,nr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ir(dr){for(var gr=et(Et);gr!==null;){if(gr.callback===null)tt(Et);else if(gr.startTime<=dr)tt(Et),gr.sortIndex=gr.expirationTime,s(wt,gr);else break;gr=et(Et)}}function lr(dr){if(Yt=!1,ir(dr),!Vt)if(et(wt)!==null)Vt=!0,ar(pr);else{var gr=et(Et);gr!==null&&sr(lr,gr.startTime-dr)}}function pr(dr,gr){Vt=!1,Yt&&(Yt=!1,tr(xr),xr=-1),Ut=!0;var ur=Lt;try{for(ir(gr),jt=et(wt);jt!==null&&(!(jt.expirationTime>gr)||dr&&!Sr());){var _r=jt.callback;if(typeof _r=="function"){jt.callback=null,Lt=jt.priorityLevel;var hr=_r(jt.expirationTime<=gr);gr=a.unstable_now(),typeof hr=="function"?jt.callback=hr:jt===et(wt)&&tt(wt),ir(gr)}else tt(wt);jt=et(wt)}if(jt!==null)var cr=!0;else{var wr=et(Et);wr!==null&&sr(lr,wr.startTime-gr),cr=!1}return cr}finally{jt=null,Lt=ur,Ut=!1}}var yr=!1,br=null,xr=-1,Er=5,$r=-1;function Sr(){return!(a.unstable_now()-$r<Er)}function fr(){if(br!==null){var dr=a.unstable_now();$r=dr;var gr=!0;try{gr=br(!0,dr)}finally{gr?vr():(yr=!1,br=null)}}else yr=!1}var vr;if(typeof nr=="function")vr=function(){nr(fr)};else if(typeof MessageChannel<"u"){var or=new MessageChannel,rr=or.port2;or.port1.onmessage=fr,vr=function(){rr.postMessage(null)}}else vr=function(){er(fr,0)};function ar(dr){br=dr,yr||(yr=!0,vr())}function sr(dr,gr){xr=er(function(){dr(a.unstable_now())},gr)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(dr){dr.callback=null},a.unstable_continueExecution=function(){Vt||Ut||(Vt=!0,ar(pr))},a.unstable_forceFrameRate=function(dr){0>dr||125<dr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Er=0<dr?Math.floor(1e3/dr):5},a.unstable_getCurrentPriorityLevel=function(){return Lt},a.unstable_getFirstCallbackNode=function(){return et(wt)},a.unstable_next=function(dr){switch(Lt){case 1:case 2:case 3:var gr=3;break;default:gr=Lt}var ur=Lt;Lt=gr;try{return dr()}finally{Lt=ur}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(dr,gr){switch(dr){case 1:case 2:case 3:case 4:case 5:break;default:dr=3}var ur=Lt;Lt=dr;try{return gr()}finally{Lt=ur}},a.unstable_scheduleCallback=function(dr,gr,ur){var _r=a.unstable_now();switch(typeof ur=="object"&&ur!==null?(ur=ur.delay,ur=typeof ur=="number"&&0<ur?_r+ur:_r):ur=_r,dr){case 1:var hr=-1;break;case 2:hr=250;break;case 5:hr=1073741823;break;case 4:hr=1e4;break;default:hr=5e3}return hr=ur+hr,dr={id:Ft++,callback:gr,priorityLevel:dr,startTime:ur,expirationTime:hr,sortIndex:-1},ur>_r?(dr.sortIndex=ur,s(Et,dr),et(wt)===null&&dr===et(Et)&&(Yt?(tr(xr),xr=-1):Yt=!0,sr(lr,ur-_r))):(dr.sortIndex=hr,s(wt,dr),Vt||Ut||(Vt=!0,ar(pr))),dr},a.unstable_shouldYield=Sr,a.unstable_wrapCallback=function(dr){var gr=Lt;return function(){var ur=Lt;Lt=gr;try{return dr.apply(this,arguments)}finally{Lt=ur}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,et=1;et<arguments.length;et++)s+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,s){ha(a,s),ha(a+"Capture",s)}function ha(a,s){for(ea[a]=s,a=0;a<s.length;a++)da.add(s[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,s,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,s,et,tt){if(s===null||typeof s>"u"||pa(a,s,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$5(a,s,et,tt,at,ct,ut){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=tt,this.attributeNamespace=at,this.mustUseProperty=et,this.propertyName=a,this.type=s,this.sanitizeURL=ct,this.removeEmptyString=ut}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$4[a]=new v$5(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];z$4[s]=new v$5(s,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$4[a]=new v$5(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$4[a]=new v$5(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$4[a]=new v$5(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$4[a]=new v$5(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$4[a]=new v$5(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$4[a]=new v$5(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$4[a]=new v$5(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(ra,sa);z$4[s]=new v$5(s,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(ra,sa);z$4[s]=new v$5(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(ra,sa);z$4[s]=new v$5(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$4[a]=new v$5(a,1,!1,a.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$4[a]=new v$5(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,s,et,tt){var at=z$4.hasOwnProperty(s)?z$4[s]:null;(at!==null?at.type!==0:tt||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,et,at,tt)&&(et=null),tt||at===null?oa(s)&&(et===null?a.removeAttribute(s):a.setAttribute(s,""+et)):at.mustUseProperty?a[at.propertyName]=et===null?at.type===3?!1:"":et:(s=at.attributeName,tt=at.attributeNamespace,et===null?a.removeAttribute(s):(at=at.type,et=at===3||at===4&&et===!0?"":""+et,tt?a.setAttributeNS(tt,s,et):a.setAttribute(s,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$3=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(et){var s=et.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+a}var Na=!1;function Oa(a,s){if(!a||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Et){var tt=Et}Reflect.construct(a,[],s)}else{try{s.call()}catch(Et){tt=Et}a.call(s.prototype)}else{try{throw Error()}catch(Et){tt=Et}a()}}catch(Et){if(Et&&tt&&typeof Et.stack=="string"){for(var at=Et.stack.split(`
`),ct=tt.stack.split(`
`),ut=at.length-1,bt=ct.length-1;1<=ut&&0<=bt&&at[ut]!==ct[bt];)bt--;for(;1<=ut&&0<=bt;ut--,bt--)if(at[ut]!==ct[bt]){if(ut!==1||bt!==1)do if(ut--,bt--,0>bt||at[ut]!==ct[bt]){var wt=`
`+at[ut].replace(" at new "," at ");return a.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",a.displayName)),wt}while(1<=ut&&0<=bt);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return s=a.displayName||null,s!==null?s:Qa(a.type)||"Memo";case Ha:s=a._payload,a=a._init;try{return Qa(a(s))}catch{}}return null}function Ra(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(a){var s=Ta(a)?"checked":"value",et=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),tt=""+a[s];if(!a.hasOwnProperty(s)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var at=et.get,ct=et.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return at.call(this)},set:function(ut){tt=""+ut,ct.call(this,ut)}}),Object.defineProperty(a,s,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(ut){tt=""+ut},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var et=s.getValue(),tt="";return a&&(tt=Ta(a)?a.checked?"true":"false":a.value),a=tt,a!==et?(s.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,s){var et=s.checked;return A$3({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??a._wrapperState.initialChecked})}function Za(a,s){var et=s.defaultValue==null?"":s.defaultValue,tt=s.checked!=null?s.checked:s.defaultChecked;et=Sa(s.value!=null?s.value:et),a._wrapperState={initialChecked:tt,initialValue:et,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(a,s){s=s.checked,s!=null&&ta(a,"checked",s,!1)}function bb(a,s){ab(a,s);var et=Sa(s.value),tt=s.type;if(et!=null)tt==="number"?(et===0&&a.value===""||a.value!=et)&&(a.value=""+et):a.value!==""+et&&(a.value=""+et);else if(tt==="submit"||tt==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?cb(a,s.type,et):s.hasOwnProperty("defaultValue")&&cb(a,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function db(a,s,et){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var tt=s.type;if(!(tt!=="submit"&&tt!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,et||s===a.value||(a.value=s),a.defaultValue=s}et=a.name,et!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,et!==""&&(a.name=et)}function cb(a,s,et){(s!=="number"||Xa(a.ownerDocument)!==a)&&(et==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+et&&(a.defaultValue=""+et))}var eb=Array.isArray;function fb(a,s,et,tt){if(a=a.options,s){s={};for(var at=0;at<et.length;at++)s["$"+et[at]]=!0;for(et=0;et<a.length;et++)at=s.hasOwnProperty("$"+a[et].value),a[et].selected!==at&&(a[et].selected=at),at&&tt&&(a[et].defaultSelected=!0)}else{for(et=""+Sa(et),s=null,at=0;at<a.length;at++){if(a[at].value===et){a[at].selected=!0,tt&&(a[at].defaultSelected=!0);return}s!==null||a[at].disabled||(s=a[at])}s!==null&&(s.selected=!0)}}function gb(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$3({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,s){var et=s.value;if(et==null){if(et=s.children,s=s.defaultValue,et!=null){if(s!=null)throw Error(p$1(92));if(eb(et)){if(1<et.length)throw Error(p$1(93));et=et[0]}s=et}s==null&&(s=""),et=s}a._wrapperState={initialValue:Sa(et)}}function ib(a,s){var et=Sa(s.value),tt=Sa(s.defaultValue);et!=null&&(et=""+et,et!==a.value&&(a.value=et),s.defaultValue==null&&a.defaultValue!==et&&(a.defaultValue=et)),tt!=null&&(a.defaultValue=""+tt)}function jb(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,et,tt,at){MSApp.execUnsafeLocalFunction(function(){return a(s,et,tt,at)})}:a}(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function ob(a,s){if(s){var et=a.firstChild;if(et&&et===a.lastChild&&et.nodeType===3){et.nodeValue=s;return}}a.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),pb[s]=pb[a]})});function rb(a,s,et){return s==null||typeof s=="boolean"||s===""?"":et||typeof s!="number"||s===0||pb.hasOwnProperty(a)&&pb[a]?(""+s).trim():s+"px"}function sb(a,s){a=a.style;for(var et in s)if(s.hasOwnProperty(et)){var tt=et.indexOf("--")===0,at=rb(et,s[et],tt);et==="float"&&(et="cssFloat"),tt?a.setProperty(et,at):a[et]=at}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,s){if(s){if(tb[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p$1(280));var s=a.stateNode;s&&(s=Db(s),yb(a.stateNode,a.type,s))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,s=Ab;if(Ab=zb=null,Bb(a),s)for(a=0;a<s.length;a++)Bb(s[a])}}function Gb(a,s){return a(s)}function Hb(){}var Ib=!1;function Jb(a,s,et){if(Ib)return a(s,et);Ib=!0;try{return Gb(a,s,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,s){var et=a.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(a=a.type,tt=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!tt;break e;default:a=!1}if(a)return null;if(et&&typeof et!="function")throw Error(p$1(231,s,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,s,et,tt,at,ct,ut,bt,wt){var Et=Array.prototype.slice.call(arguments,3);try{s.apply(et,Et)}catch(Ft){this.onError(Ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,s,et,tt,at,ct,ut,bt,wt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,s,et,tt,at,ct,ut,bt,wt){if(Tb.apply(this,arguments),Ob){if(Ob){var Et=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=Et)}}function Vb(a){var s=a,et=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,s.flags&4098&&(et=s.return),a=s.return;while(a)}return s.tag===3?et:null}function Wb(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p$1(188))}function Yb(a){var s=a.alternate;if(!s){if(s=Vb(a),s===null)throw Error(p$1(188));return s!==a?null:a}for(var et=a,tt=s;;){var at=et.return;if(at===null)break;var ct=at.alternate;if(ct===null){if(tt=at.return,tt!==null){et=tt;continue}break}if(at.child===ct.child){for(ct=at.child;ct;){if(ct===et)return Xb(at),a;if(ct===tt)return Xb(at),s;ct=ct.sibling}throw Error(p$1(188))}if(et.return!==tt.return)et=at,tt=ct;else{for(var ut=!1,bt=at.child;bt;){if(bt===et){ut=!0,et=at,tt=ct;break}if(bt===tt){ut=!0,tt=at,et=ct;break}bt=bt.sibling}if(!ut){for(bt=ct.child;bt;){if(bt===et){ut=!0,et=ct,tt=at;break}if(bt===tt){ut=!0,tt=ct,et=at;break}bt=bt.sibling}if(!ut)throw Error(p$1(189))}}if(et.alternate!==tt)throw Error(p$1(190))}if(et.tag!==3)throw Error(p$1(188));return et.stateNode.current===et?a:s}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=$b(a);if(s!==null)return s;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,s){var et=a.pendingLanes;if(et===0)return 0;var tt=0,at=a.suspendedLanes,ct=a.pingedLanes,ut=et&268435455;if(ut!==0){var bt=ut&~at;bt!==0?tt=tc(bt):(ct&=ut,ct!==0&&(tt=tc(ct)))}else ut=et&~at,ut!==0?tt=tc(ut):ct!==0&&(tt=tc(ct));if(tt===0)return 0;if(s!==0&&s!==tt&&!(s&at)&&(at=tt&-tt,ct=s&-s,at>=ct||at===16&&(ct&4194240)!==0))return s;if(tt&4&&(tt|=et&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=tt;0<s;)et=31-oc(s),at=1<<et,tt|=a[et],s&=~at;return tt}function vc(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,s){for(var et=a.suspendedLanes,tt=a.pingedLanes,at=a.expirationTimes,ct=a.pendingLanes;0<ct;){var ut=31-oc(ct),bt=1<<ut,wt=at[ut];wt===-1?(!(bt&et)||bt&tt)&&(at[ut]=vc(bt,s)):wt<=s&&(a.expiredLanes|=bt),ct&=~bt}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var s=[],et=0;31>et;et++)s.push(a);return s}function Ac(a,s,et){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-oc(s),a[s]=et}function Bc(a,s){var et=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var tt=a.eventTimes;for(a=a.expirationTimes;0<et;){var at=31-oc(et),ct=1<<at;s[at]=0,tt[at]=-1,a[at]=-1,et&=~ct}}function Cc(a,s){var et=a.entangledLanes|=s;for(a=a.entanglements;et;){var tt=31-oc(et),at=1<<tt;at&s|a[tt]&s&&(a[tt]|=s),et&=~at}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,s){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(a,s,et,tt,at,ct){return a===null||a.nativeEvent!==ct?(a={blockedOn:s,domEventName:et,eventSystemFlags:tt,nativeEvent:ct,targetContainers:[at]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),a):(a.eventSystemFlags|=tt,s=a.targetContainers,at!==null&&s.indexOf(at)===-1&&s.push(at),a)}function Uc(a,s,et,tt,at){switch(s){case"focusin":return Lc=Tc(Lc,a,s,et,tt,at),!0;case"dragenter":return Mc=Tc(Mc,a,s,et,tt,at),!0;case"mouseover":return Nc=Tc(Nc,a,s,et,tt,at),!0;case"pointerover":var ct=at.pointerId;return Oc.set(ct,Tc(Oc.get(ct)||null,a,s,et,tt,at)),!0;case"gotpointercapture":return ct=at.pointerId,Pc.set(ct,Tc(Pc.get(ct)||null,a,s,et,tt,at)),!0}return!1}function Vc(a){var s=Wc(a.target);if(s!==null){var et=Vb(s);if(et!==null){if(s=et.tag,s===13){if(s=Wb(et),s!==null){a.blockedOn=s,Ic(a.priority,function(){Gc(et)});return}}else if(s===3&&et.stateNode.current.memoizedState.isDehydrated){a.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var et=Yc(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(et===null){et=a.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return s=Cb(et),s!==null&&Fc(s),a.blockedOn=et,!1;s.shift()}return!0}function Zc(a,s,et){Xc(a)&&et.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,s){a.blockedOn===s&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function s(at){return ad(at,a)}if(0<Kc.length){ad(Kc[0],a);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===a&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(s),Pc.forEach(s),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===a&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,s,et,tt){var at=C,ct=cd.transition;cd.transition=null;try{C=1,fd(a,s,et,tt)}finally{C=at,cd.transition=ct}}function gd(a,s,et,tt){var at=C,ct=cd.transition;cd.transition=null;try{C=4,fd(a,s,et,tt)}finally{C=at,cd.transition=ct}}function fd(a,s,et,tt){if(dd){var at=Yc(a,s,et,tt);if(at===null)hd(a,s,tt,id$3,et),Sc(a,tt);else if(Uc(at,a,s,et,tt))tt.stopPropagation();else if(Sc(a,tt),s&4&&-1<Rc.indexOf(a)){for(;at!==null;){var ct=Cb(at);if(ct!==null&&Ec(ct),ct=Yc(a,s,et,tt),ct===null&&hd(a,s,tt,id$3,et),ct===at)break;at=ct}at!==null&&tt.stopPropagation()}else hd(a,s,tt,null,et)}}var id$3=null;function Yc(a,s,et,tt){if(id$3=null,a=xb(tt),a=Wc(a),a!==null)if(s=Vb(a),s===null)a=null;else if(et=s.tag,et===13){if(a=Wb(s),a!==null)return a;a=null}else if(et===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return id$3=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,s=ld,et=s.length,tt,at="value"in kd?kd.value:kd.textContent,ct=at.length;for(a=0;a<et&&s[a]===at[a];a++);var ut=et-a;for(tt=1;tt<=ut&&s[et-tt]===at[ct-tt];tt++);return md=at.slice(a,1<tt?1-tt:void 0)}function od(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function s(et,tt,at,ct,ut){this._reactName=et,this._targetInst=at,this.type=tt,this.nativeEvent=ct,this.target=ut,this.currentTarget=null;for(var bt in a)a.hasOwnProperty(bt)&&(et=a[bt],this[bt]=et?et(ct):ct[bt]);return this.isDefaultPrevented=(ct.defaultPrevented!=null?ct.defaultPrevented:ct.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Od[a])?!!s[a]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(a){if(a.key){var s=Md[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$2||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$1=!1;function ge$3(a,s){switch(a){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie$1=!1;function je$1(a,s){switch(a){case"compositionend":return he$1(s);case"keypress":return s.which!==32?null:(fe$1=!0,ee$2);case"textInput":return a=s.data,a===ee$2&&fe$1?null:a;default:return null}}function ke$2(a,s){if(ie$1)return a==="compositionend"||!ae$2&&ge$3(a,s)?(a=nd(),md=ld=kd=null,ie$1=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de$1&&s.locale!=="ko"?null:s.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!le$2[a.type]:s==="textarea"}function ne$2(a,s,et,tt){Eb(tt),s=oe$1(s,"onChange"),0<s.length&&(et=new td("onChange","change",null,et,tt),a.push({event:et,listeners:s}))}var pe$1=null,qe=null;function re$1(a){se$2(a,0)}function te(a){var s=ue$1(a);if(Wa(s))return a}function ve$2(a,s){if(a==="change")return s}var we$1=!1;if(ia){var xe$2;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$2=typeof ze.oninput=="function"}xe$2=ye$2}else xe$2=!1;we$1=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$2),qe=pe$1=null)}function Be$2(a){if(a.propertyName==="value"&&te(qe)){var s=[];ne$2(s,qe,a,xb(a)),Jb(re$1,s)}}function Ce$1(a,s,et){a==="focusin"?(Ae$1(),pe$1=s,qe=et,pe$1.attachEvent("onpropertychange",Be$2)):a==="focusout"&&Ae$1()}function De$1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee$1(a,s){if(a==="click")return te(s)}function Fe$1(a,s){if(a==="input"||a==="change")return te(s)}function Ge(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(a,s){if(He(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var et=Object.keys(a),tt=Object.keys(s);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var at=et[tt];if(!ja.call(s,at)||!He(a[at],s[at]))return!1}return!0}function Je$1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke$1(a,s){var et=Je$1(a);a=0;for(var tt;et;){if(et.nodeType===3){if(tt=a+et.textContent.length,a<=s&&tt>=s)return{node:et,offset:s-a};a=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je$1(et)}}function Le$2(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Le$2(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var a=window,s=Xa();s instanceof a.HTMLIFrameElement;){try{var et=typeof s.contentWindow.location.href=="string"}catch{et=!1}if(et)a=s.contentWindow;else break;s=Xa(a.document)}return s}function Ne(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function Oe$2(a){var s=Me(),et=a.focusedElem,tt=a.selectionRange;if(s!==et&&et&&et.ownerDocument&&Le$2(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(s=tt.start,a=tt.end,a===void 0&&(a=s),"selectionStart"in et)et.selectionStart=s,et.selectionEnd=Math.min(a,et.value.length);else if(a=(s=et.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var at=et.textContent.length,ct=Math.min(tt.start,at);tt=tt.end===void 0?ct:Math.min(tt.end,at),!a.extend&&ct>tt&&(at=tt,tt=ct,ct=at),at=Ke$1(et,ct);var ut=Ke$1(et,tt);at&&ut&&(a.rangeCount!==1||a.anchorNode!==at.node||a.anchorOffset!==at.offset||a.focusNode!==ut.node||a.focusOffset!==ut.offset)&&(s=s.createRange(),s.setStart(at.node,at.offset),a.removeAllRanges(),ct>tt?(a.addRange(s),a.extend(ut.node,ut.offset)):(s.setEnd(ut.node,ut.offset),a.addRange(s)))}}for(s=[],a=et;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<s.length;et++)a=s[et],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe$3=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(a,s,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie$1(Se,tt)||(Se=tt,tt=oe$1(Re$1,"onSelect"),0<tt.length&&(s=new td("onSelect","select",null,s,et),a.push({event:s,listeners:tt}),s.target=Qe)))}function Ve$3(a,s){var et={};return et[a.toLowerCase()]=s.toLowerCase(),et["Webkit"+a]="webkit"+s,et["Moz"+a]="moz"+s,et}var We$2={animationend:Ve$3("Animation","AnimationEnd"),animationiteration:Ve$3("Animation","AnimationIteration"),animationstart:Ve$3("Animation","AnimationStart"),transitionend:Ve$3("Transition","TransitionEnd")},Xe$2={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$2.animationend.animation,delete We$2.animationiteration.animation,delete We$2.animationstart.animation),"TransitionEvent"in window||delete We$2.transitionend.transition);function Ze(a){if(Xe$2[a])return Xe$2[a];if(!We$2[a])return a;var s=We$2[a],et;for(et in s)if(s.hasOwnProperty(et)&&et in Ye)return Xe$2[a]=s[et];return a}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,s){df.set(a,s),fa(s,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,s,et){var tt=a.type||"unknown-event";a.currentTarget=et,Ub(tt,s,void 0,a),a.currentTarget=null}function se$2(a,s){s=(s&4)!==0;for(var et=0;et<a.length;et++){var tt=a[et],at=tt.event;tt=tt.listeners;e:{var ct=void 0;if(s)for(var ut=tt.length-1;0<=ut;ut--){var bt=tt[ut],wt=bt.instance,Et=bt.currentTarget;if(bt=bt.listener,wt!==ct&&at.isPropagationStopped())break e;nf(at,bt,Et),ct=wt}else for(ut=0;ut<tt.length;ut++){if(bt=tt[ut],wt=bt.instance,Et=bt.currentTarget,bt=bt.listener,wt!==ct&&at.isPropagationStopped())break e;nf(at,bt,Et),ct=wt}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D$2(a,s){var et=s[of];et===void 0&&(et=s[of]=new Set);var tt=a+"__bubble";et.has(tt)||(pf(s,a,2,!1),et.add(tt))}function qf(a,s,et){var tt=0;s&&(tt|=4),pf(et,a,tt,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,a),qf(et,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(a,s,et,tt){switch(jd(s)){case 1:var at=ed;break;case 4:at=gd;break;default:at=fd}et=at.bind(null,s,et,a),at=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(at=!0),tt?at!==void 0?a.addEventListener(s,et,{capture:!0,passive:at}):a.addEventListener(s,et,!0):at!==void 0?a.addEventListener(s,et,{passive:at}):a.addEventListener(s,et,!1)}function hd(a,s,et,tt,at){var ct=tt;if(!(s&1)&&!(s&2)&&tt!==null)e:for(;;){if(tt===null)return;var ut=tt.tag;if(ut===3||ut===4){var bt=tt.stateNode.containerInfo;if(bt===at||bt.nodeType===8&&bt.parentNode===at)break;if(ut===4)for(ut=tt.return;ut!==null;){var wt=ut.tag;if((wt===3||wt===4)&&(wt=ut.stateNode.containerInfo,wt===at||wt.nodeType===8&&wt.parentNode===at))return;ut=ut.return}for(;bt!==null;){if(ut=Wc(bt),ut===null)return;if(wt=ut.tag,wt===5||wt===6){tt=ct=ut;continue e}bt=bt.parentNode}}tt=tt.return}Jb(function(){var Et=ct,Ft=xb(et),jt=[];e:{var Lt=df.get(a);if(Lt!==void 0){var Ut=td,Vt=a;switch(a){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":Ut=Rd;break;case"focusin":Vt="focus",Ut=Fd;break;case"focusout":Vt="blur",Ut=Fd;break;case"beforeblur":case"afterblur":Ut=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ut=Vd;break;case $e$1:case af:case bf:Ut=Hd;break;case cf:Ut=Xd;break;case"scroll":Ut=vd;break;case"wheel":Ut=Zd;break;case"copy":case"cut":case"paste":Ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ut=Td}var Yt=(s&4)!==0,er=!Yt&&a==="scroll",tr=Yt?Lt!==null?Lt+"Capture":null:Lt;Yt=[];for(var nr=Et,ir;nr!==null;){ir=nr;var lr=ir.stateNode;if(ir.tag===5&&lr!==null&&(ir=lr,tr!==null&&(lr=Kb(nr,tr),lr!=null&&Yt.push(tf(nr,lr,ir)))),er)break;nr=nr.return}0<Yt.length&&(Lt=new Ut(Lt,Vt,null,et,Ft),jt.push({event:Lt,listeners:Yt}))}}if(!(s&7)){e:{if(Lt=a==="mouseover"||a==="pointerover",Ut=a==="mouseout"||a==="pointerout",Lt&&et!==wb&&(Vt=et.relatedTarget||et.fromElement)&&(Wc(Vt)||Vt[uf]))break e;if((Ut||Lt)&&(Lt=Ft.window===Ft?Ft:(Lt=Ft.ownerDocument)?Lt.defaultView||Lt.parentWindow:window,Ut?(Vt=et.relatedTarget||et.toElement,Ut=Et,Vt=Vt?Wc(Vt):null,Vt!==null&&(er=Vb(Vt),Vt!==er||Vt.tag!==5&&Vt.tag!==6)&&(Vt=null)):(Ut=null,Vt=Et),Ut!==Vt)){if(Yt=Bd,lr="onMouseLeave",tr="onMouseEnter",nr="mouse",(a==="pointerout"||a==="pointerover")&&(Yt=Td,lr="onPointerLeave",tr="onPointerEnter",nr="pointer"),er=Ut==null?Lt:ue$1(Ut),ir=Vt==null?Lt:ue$1(Vt),Lt=new Yt(lr,nr+"leave",Ut,et,Ft),Lt.target=er,Lt.relatedTarget=ir,lr=null,Wc(Ft)===Et&&(Yt=new Yt(tr,nr+"enter",Vt,et,Ft),Yt.target=ir,Yt.relatedTarget=er,lr=Yt),er=lr,Ut&&Vt)t:{for(Yt=Ut,tr=Vt,nr=0,ir=Yt;ir;ir=vf(ir))nr++;for(ir=0,lr=tr;lr;lr=vf(lr))ir++;for(;0<nr-ir;)Yt=vf(Yt),nr--;for(;0<ir-nr;)tr=vf(tr),ir--;for(;nr--;){if(Yt===tr||tr!==null&&Yt===tr.alternate)break t;Yt=vf(Yt),tr=vf(tr)}Yt=null}else Yt=null;Ut!==null&&wf(jt,Lt,Ut,Yt,!1),Vt!==null&&er!==null&&wf(jt,er,Vt,Yt,!0)}}e:{if(Lt=Et?ue$1(Et):window,Ut=Lt.nodeName&&Lt.nodeName.toLowerCase(),Ut==="select"||Ut==="input"&&Lt.type==="file")var pr=ve$2;else if(me$1(Lt))if(we$1)pr=Fe$1;else{pr=De$1;var yr=Ce$1}else(Ut=Lt.nodeName)&&Ut.toLowerCase()==="input"&&(Lt.type==="checkbox"||Lt.type==="radio")&&(pr=Ee$1);if(pr&&(pr=pr(a,Et))){ne$2(jt,pr,et,Ft);break e}yr&&yr(a,Lt,Et),a==="focusout"&&(yr=Lt._wrapperState)&&yr.controlled&&Lt.type==="number"&&cb(Lt,"number",Lt.value)}switch(yr=Et?ue$1(Et):window,a){case"focusin":(me$1(yr)||yr.contentEditable==="true")&&(Qe=yr,Re$1=Et,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(jt,et,Ft);break;case"selectionchange":if(Pe$3)break;case"keydown":case"keyup":Ue(jt,et,Ft)}var br;if(ae$2)e:{switch(a){case"compositionstart":var xr="onCompositionStart";break e;case"compositionend":xr="onCompositionEnd";break e;case"compositionupdate":xr="onCompositionUpdate";break e}xr=void 0}else ie$1?ge$3(a,et)&&(xr="onCompositionEnd"):a==="keydown"&&et.keyCode===229&&(xr="onCompositionStart");xr&&(de$1&&et.locale!=="ko"&&(ie$1||xr!=="onCompositionStart"?xr==="onCompositionEnd"&&ie$1&&(br=nd()):(kd=Ft,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),yr=oe$1(Et,xr),0<yr.length&&(xr=new Ld(xr,a,null,et,Ft),jt.push({event:xr,listeners:yr}),br?xr.data=br:(br=he$1(et),br!==null&&(xr.data=br)))),(br=ce$2?je$1(a,et):ke$2(a,et))&&(Et=oe$1(Et,"onBeforeInput"),0<Et.length&&(Ft=new Ld("onBeforeInput","beforeinput",null,et,Ft),jt.push({event:Ft,listeners:Et}),Ft.data=br))}se$2(jt,s)})}function tf(a,s,et){return{instance:a,listener:s,currentTarget:et}}function oe$1(a,s){for(var et=s+"Capture",tt=[];a!==null;){var at=a,ct=at.stateNode;at.tag===5&&ct!==null&&(at=ct,ct=Kb(a,et),ct!=null&&tt.unshift(tf(a,ct,at)),ct=Kb(a,s),ct!=null&&tt.push(tf(a,ct,at))),a=a.return}return tt}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,s,et,tt,at){for(var ct=s._reactName,ut=[];et!==null&&et!==tt;){var bt=et,wt=bt.alternate,Et=bt.stateNode;if(wt!==null&&wt===tt)break;bt.tag===5&&Et!==null&&(bt=Et,at?(wt=Kb(et,ct),wt!=null&&ut.unshift(tf(et,wt,bt))):at||(wt=Kb(et,ct),wt!=null&&ut.push(tf(et,wt,bt)))),et=et.return}ut.length!==0&&a.push({event:s,listeners:ut})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,s,et){if(s=zf(s),zf(a)!==s&&et)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,s){var et=s,tt=0;do{var at=et.nextSibling;if(a.removeChild(et),at&&at.nodeType===8)if(et=at.data,et==="/$"){if(tt===0){a.removeChild(at),bd(s);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=at}while(et);bd(s)}function Lf(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var et=a.data;if(et==="$"||et==="$!"||et==="$?"){if(s===0)return a;s--}else et==="/$"&&s++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var s=a[Of];if(s)return s;for(var et=a.parentNode;et;){if(s=et[uf]||et[Of]){if(et=s.alternate,s.child!==null||et!==null&&et.child!==null)for(a=Mf(a);a!==null;){if(et=a[Of])return et;a=Mf(a)}return s}a=et,et=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue$1(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$1(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(a,s){Tf++,Sf[Tf]=a.current,a.current=s}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,s){var et=a.type.contextTypes;if(!et)return Vf;var tt=a.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===s)return tt.__reactInternalMemoizedMaskedChildContext;var at={},ct;for(ct in et)at[ct]=s[ct];return tt&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=at),at}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H$2)}function ag(a,s,et){if(H$2.current!==Vf)throw Error(p$1(168));G$2(H$2,s),G$2(Wf,et)}function bg(a,s,et){var tt=a.stateNode;if(s=s.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var at in tt)if(!(at in s))throw Error(p$1(108,Ra(a)||"Unknown",at));return A$3({},et,tt)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,a),G$2(Wf,Wf.current),!0}function dg(a,s,et){var tt=a.stateNode;if(!tt)throw Error(p$1(169));et?(a=bg(a,s,Xf),tt.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H$2),G$2(H$2,a)):E(Wf),G$2(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,s=C;try{var et=eg;for(C=1;a<et.length;a++){var tt=et[a];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(at){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),at}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,s){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=s}function ug(a,s,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var tt=rg;a=sg;var at=32-oc(tt)-1;tt&=~(1<<at),et+=1;var ct=32-oc(s)+at;if(30<ct){var ut=at-at%5;ct=(tt&(1<<ut)-1).toString(32),tt>>=ut,at-=ut,rg=1<<32-oc(s)+at|et<<at|tt,sg=ct+a}else rg=1<<ct|et<<at|tt,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(a,s){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=s,et.return=a,s=a.deletions,s===null?(a.deletions=[et],a.flags|=16):s.push(et)}function Cg(a,s){switch(a.tag){case 5:var et=a.type;return s=s.nodeType!==1||et.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,xg=a,yg=Lf(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,xg=a,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(et=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:s,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=s,et.return=a,a.child=et,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I$4){var s=yg;if(s){var et=s;if(!Cg(a,s)){if(Dg(a))throw Error(p$1(418));s=Lf(et.nextSibling);var tt=xg;s&&Cg(a,s)?Ag(tt,et):(a.flags=a.flags&-4097|2,I$4=!1,xg=a)}}else{if(Dg(a))throw Error(p$1(418));a.flags=a.flags&-4097|2,I$4=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I$4)return Fg(a),I$4=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!Ef(a.type,a.memoizedProps)),s&&(s=yg)){if(Dg(a))throw Hg(),Error(p$1(418));for(;s;)Ag(a,s),s=Lf(s.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$1(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var et=a.data;if(et==="/$"){if(s===0){yg=Lf(a.nextSibling);break e}s--}else et!=="$"&&et!=="$!"&&et!=="$?"||s++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,s,et){if(a=et.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$1(309));var tt=et.stateNode}if(!tt)throw Error(p$1(147,a));var at=tt,ct=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===ct?s.ref:(s=function(ut){var bt=at.refs;ut===null?delete bt[ct]:bt[ct]=ut},s._stringRef=ct,s)}if(typeof a!="string")throw Error(p$1(284));if(!et._owner)throw Error(p$1(290,a))}return a}function Mg(a,s){throw a=Object.prototype.toString.call(s),Error(p$1(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Ng(a){var s=a._init;return s(a._payload)}function Og(a){function s(tr,nr){if(a){var ir=tr.deletions;ir===null?(tr.deletions=[nr],tr.flags|=16):ir.push(nr)}}function et(tr,nr){if(!a)return null;for(;nr!==null;)s(tr,nr),nr=nr.sibling;return null}function tt(tr,nr){for(tr=new Map;nr!==null;)nr.key!==null?tr.set(nr.key,nr):tr.set(nr.index,nr),nr=nr.sibling;return tr}function at(tr,nr){return tr=Pg(tr,nr),tr.index=0,tr.sibling=null,tr}function ct(tr,nr,ir){return tr.index=ir,a?(ir=tr.alternate,ir!==null?(ir=ir.index,ir<nr?(tr.flags|=2,nr):ir):(tr.flags|=2,nr)):(tr.flags|=1048576,nr)}function ut(tr){return a&&tr.alternate===null&&(tr.flags|=2),tr}function bt(tr,nr,ir,lr){return nr===null||nr.tag!==6?(nr=Qg(ir,tr.mode,lr),nr.return=tr,nr):(nr=at(nr,ir),nr.return=tr,nr)}function wt(tr,nr,ir,lr){var pr=ir.type;return pr===ya?Ft(tr,nr,ir.props.children,lr,ir.key):nr!==null&&(nr.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===Ha&&Ng(pr)===nr.type)?(lr=at(nr,ir.props),lr.ref=Lg(tr,nr,ir),lr.return=tr,lr):(lr=Rg(ir.type,ir.key,ir.props,null,tr.mode,lr),lr.ref=Lg(tr,nr,ir),lr.return=tr,lr)}function Et(tr,nr,ir,lr){return nr===null||nr.tag!==4||nr.stateNode.containerInfo!==ir.containerInfo||nr.stateNode.implementation!==ir.implementation?(nr=Sg(ir,tr.mode,lr),nr.return=tr,nr):(nr=at(nr,ir.children||[]),nr.return=tr,nr)}function Ft(tr,nr,ir,lr,pr){return nr===null||nr.tag!==7?(nr=Tg(ir,tr.mode,lr,pr),nr.return=tr,nr):(nr=at(nr,ir),nr.return=tr,nr)}function jt(tr,nr,ir){if(typeof nr=="string"&&nr!==""||typeof nr=="number")return nr=Qg(""+nr,tr.mode,ir),nr.return=tr,nr;if(typeof nr=="object"&&nr!==null){switch(nr.$$typeof){case va:return ir=Rg(nr.type,nr.key,nr.props,null,tr.mode,ir),ir.ref=Lg(tr,null,nr),ir.return=tr,ir;case wa:return nr=Sg(nr,tr.mode,ir),nr.return=tr,nr;case Ha:var lr=nr._init;return jt(tr,lr(nr._payload),ir)}if(eb(nr)||Ka(nr))return nr=Tg(nr,tr.mode,ir,null),nr.return=tr,nr;Mg(tr,nr)}return null}function Lt(tr,nr,ir,lr){var pr=nr!==null?nr.key:null;if(typeof ir=="string"&&ir!==""||typeof ir=="number")return pr!==null?null:bt(tr,nr,""+ir,lr);if(typeof ir=="object"&&ir!==null){switch(ir.$$typeof){case va:return ir.key===pr?wt(tr,nr,ir,lr):null;case wa:return ir.key===pr?Et(tr,nr,ir,lr):null;case Ha:return pr=ir._init,Lt(tr,nr,pr(ir._payload),lr)}if(eb(ir)||Ka(ir))return pr!==null?null:Ft(tr,nr,ir,lr,null);Mg(tr,ir)}return null}function Ut(tr,nr,ir,lr,pr){if(typeof lr=="string"&&lr!==""||typeof lr=="number")return tr=tr.get(ir)||null,bt(nr,tr,""+lr,pr);if(typeof lr=="object"&&lr!==null){switch(lr.$$typeof){case va:return tr=tr.get(lr.key===null?ir:lr.key)||null,wt(nr,tr,lr,pr);case wa:return tr=tr.get(lr.key===null?ir:lr.key)||null,Et(nr,tr,lr,pr);case Ha:var yr=lr._init;return Ut(tr,nr,ir,yr(lr._payload),pr)}if(eb(lr)||Ka(lr))return tr=tr.get(ir)||null,Ft(nr,tr,lr,pr,null);Mg(nr,lr)}return null}function Vt(tr,nr,ir,lr){for(var pr=null,yr=null,br=nr,xr=nr=0,Er=null;br!==null&&xr<ir.length;xr++){br.index>xr?(Er=br,br=null):Er=br.sibling;var $r=Lt(tr,br,ir[xr],lr);if($r===null){br===null&&(br=Er);break}a&&br&&$r.alternate===null&&s(tr,br),nr=ct($r,nr,xr),yr===null?pr=$r:yr.sibling=$r,yr=$r,br=Er}if(xr===ir.length)return et(tr,br),I$4&&tg(tr,xr),pr;if(br===null){for(;xr<ir.length;xr++)br=jt(tr,ir[xr],lr),br!==null&&(nr=ct(br,nr,xr),yr===null?pr=br:yr.sibling=br,yr=br);return I$4&&tg(tr,xr),pr}for(br=tt(tr,br);xr<ir.length;xr++)Er=Ut(br,tr,xr,ir[xr],lr),Er!==null&&(a&&Er.alternate!==null&&br.delete(Er.key===null?xr:Er.key),nr=ct(Er,nr,xr),yr===null?pr=Er:yr.sibling=Er,yr=Er);return a&&br.forEach(function(Sr){return s(tr,Sr)}),I$4&&tg(tr,xr),pr}function Yt(tr,nr,ir,lr){var pr=Ka(ir);if(typeof pr!="function")throw Error(p$1(150));if(ir=pr.call(ir),ir==null)throw Error(p$1(151));for(var yr=pr=null,br=nr,xr=nr=0,Er=null,$r=ir.next();br!==null&&!$r.done;xr++,$r=ir.next()){br.index>xr?(Er=br,br=null):Er=br.sibling;var Sr=Lt(tr,br,$r.value,lr);if(Sr===null){br===null&&(br=Er);break}a&&br&&Sr.alternate===null&&s(tr,br),nr=ct(Sr,nr,xr),yr===null?pr=Sr:yr.sibling=Sr,yr=Sr,br=Er}if($r.done)return et(tr,br),I$4&&tg(tr,xr),pr;if(br===null){for(;!$r.done;xr++,$r=ir.next())$r=jt(tr,$r.value,lr),$r!==null&&(nr=ct($r,nr,xr),yr===null?pr=$r:yr.sibling=$r,yr=$r);return I$4&&tg(tr,xr),pr}for(br=tt(tr,br);!$r.done;xr++,$r=ir.next())$r=Ut(br,tr,xr,$r.value,lr),$r!==null&&(a&&$r.alternate!==null&&br.delete($r.key===null?xr:$r.key),nr=ct($r,nr,xr),yr===null?pr=$r:yr.sibling=$r,yr=$r);return a&&br.forEach(function(fr){return s(tr,fr)}),I$4&&tg(tr,xr),pr}function er(tr,nr,ir,lr){if(typeof ir=="object"&&ir!==null&&ir.type===ya&&ir.key===null&&(ir=ir.props.children),typeof ir=="object"&&ir!==null){switch(ir.$$typeof){case va:e:{for(var pr=ir.key,yr=nr;yr!==null;){if(yr.key===pr){if(pr=ir.type,pr===ya){if(yr.tag===7){et(tr,yr.sibling),nr=at(yr,ir.props.children),nr.return=tr,tr=nr;break e}}else if(yr.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===Ha&&Ng(pr)===yr.type){et(tr,yr.sibling),nr=at(yr,ir.props),nr.ref=Lg(tr,yr,ir),nr.return=tr,tr=nr;break e}et(tr,yr);break}else s(tr,yr);yr=yr.sibling}ir.type===ya?(nr=Tg(ir.props.children,tr.mode,lr,ir.key),nr.return=tr,tr=nr):(lr=Rg(ir.type,ir.key,ir.props,null,tr.mode,lr),lr.ref=Lg(tr,nr,ir),lr.return=tr,tr=lr)}return ut(tr);case wa:e:{for(yr=ir.key;nr!==null;){if(nr.key===yr)if(nr.tag===4&&nr.stateNode.containerInfo===ir.containerInfo&&nr.stateNode.implementation===ir.implementation){et(tr,nr.sibling),nr=at(nr,ir.children||[]),nr.return=tr,tr=nr;break e}else{et(tr,nr);break}else s(tr,nr);nr=nr.sibling}nr=Sg(ir,tr.mode,lr),nr.return=tr,tr=nr}return ut(tr);case Ha:return yr=ir._init,er(tr,nr,yr(ir._payload),lr)}if(eb(ir))return Vt(tr,nr,ir,lr);if(Ka(ir))return Yt(tr,nr,ir,lr);Mg(tr,ir)}return typeof ir=="string"&&ir!==""||typeof ir=="number"?(ir=""+ir,nr!==null&&nr.tag===6?(et(tr,nr.sibling),nr=at(nr,ir),nr.return=tr,tr=nr):(et(tr,nr),nr=Qg(ir,tr.mode,lr),nr.return=tr,tr=nr),ut(tr)):et(tr,nr)}return er}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var s=Wg.current;E(Wg),a._currentValue=s}function bh(a,s,et){for(;a!==null;){var tt=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,tt!==null&&(tt.childLanes|=s)):tt!==null&&(tt.childLanes&s)!==s&&(tt.childLanes|=s),a===et)break;a=a.return}}function ch(a,s){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&s&&(dh$1=!0),a.firstContext=null)}function eh(a){var s=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return s}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,s,et,tt){var at=s.interleaved;return at===null?(et.next=et,gh(s)):(et.next=at.next,at.next=et),s.interleaved=et,ih(a,tt)}function ih(a,s){a.lanes|=s;var et=a.alternate;for(et!==null&&(et.lanes|=s),et=a,a=a.return;a!==null;)a.childLanes|=s,et=a.alternate,et!==null&&(et.childLanes|=s),et=a,a=a.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(a,s,et){var tt=a.updateQueue;if(tt===null)return null;if(tt=tt.shared,K$2&2){var at=tt.pending;return at===null?s.next=s:(s.next=at.next,at.next=s),tt.pending=s,ih(a,et)}return at=tt.interleaved,at===null?(s.next=s,gh(tt)):(s.next=at.next,at.next=s),tt.interleaved=s,ih(a,et)}function oh(a,s,et){if(s=s.updateQueue,s!==null&&(s=s.shared,(et&4194240)!==0)){var tt=s.lanes;tt&=a.pendingLanes,et|=tt,s.lanes=et,Cc(a,et)}}function ph(a,s){var et=a.updateQueue,tt=a.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var at=null,ct=null;if(et=et.firstBaseUpdate,et!==null){do{var ut={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};ct===null?at=ct=ut:ct=ct.next=ut,et=et.next}while(et!==null);ct===null?at=ct=s:ct=ct.next=s}else at=ct=s;et={baseState:tt.baseState,firstBaseUpdate:at,lastBaseUpdate:ct,shared:tt.shared,effects:tt.effects},a.updateQueue=et;return}a=et.lastBaseUpdate,a===null?et.firstBaseUpdate=s:a.next=s,et.lastBaseUpdate=s}function qh(a,s,et,tt){var at=a.updateQueue;jh=!1;var ct=at.firstBaseUpdate,ut=at.lastBaseUpdate,bt=at.shared.pending;if(bt!==null){at.shared.pending=null;var wt=bt,Et=wt.next;wt.next=null,ut===null?ct=Et:ut.next=Et,ut=wt;var Ft=a.alternate;Ft!==null&&(Ft=Ft.updateQueue,bt=Ft.lastBaseUpdate,bt!==ut&&(bt===null?Ft.firstBaseUpdate=Et:bt.next=Et,Ft.lastBaseUpdate=wt))}if(ct!==null){var jt=at.baseState;ut=0,Ft=Et=wt=null,bt=ct;do{var Lt=bt.lane,Ut=bt.eventTime;if((tt&Lt)===Lt){Ft!==null&&(Ft=Ft.next={eventTime:Ut,lane:0,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null});e:{var Vt=a,Yt=bt;switch(Lt=s,Ut=et,Yt.tag){case 1:if(Vt=Yt.payload,typeof Vt=="function"){jt=Vt.call(Ut,jt,Lt);break e}jt=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Yt.payload,Lt=typeof Vt=="function"?Vt.call(Ut,jt,Lt):Vt,Lt==null)break e;jt=A$3({},jt,Lt);break e;case 2:jh=!0}}bt.callback!==null&&bt.lane!==0&&(a.flags|=64,Lt=at.effects,Lt===null?at.effects=[bt]:Lt.push(bt))}else Ut={eventTime:Ut,lane:Lt,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null},Ft===null?(Et=Ft=Ut,wt=jt):Ft=Ft.next=Ut,ut|=Lt;if(bt=bt.next,bt===null){if(bt=at.shared.pending,bt===null)break;Lt=bt,bt=Lt.next,Lt.next=null,at.lastBaseUpdate=Lt,at.shared.pending=null}}while(!0);if(Ft===null&&(wt=jt),at.baseState=wt,at.firstBaseUpdate=Et,at.lastBaseUpdate=Ft,s=at.shared.interleaved,s!==null){at=s;do ut|=at.lane,at=at.next;while(at!==s)}else ct===null&&(at.shared.lanes=0);rh|=ut,a.lanes=ut,a.memoizedState=jt}}function sh(a,s,et){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var tt=a[s],at=tt.callback;if(at!==null){if(tt.callback=null,tt=et,typeof at!="function")throw Error(p$1(191,at));at.call(tt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p$1(174));return a}function yh(a,s){switch(G$2(wh,s),G$2(vh$1,a),G$2(uh,th),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=lb(s,a)}E(uh),G$2(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(a){xh(wh.current);var s=xh(uh.current),et=lb(s,a.type);s!==et&&(G$2(vh$1,a),G$2(uh,et))}function Bh(a){vh$1.current===a&&(E(uh),E(vh$1))}var L$1=Uf(0);function Ch(a){for(var s=a;s!==null;){if(s.tag===13){var et=s.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N$1=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$1(321))}function Mh(a,s){if(s===null)return!1;for(var et=0;et<s.length&&et<a.length;et++)if(!He(a[et],s[et]))return!1;return!0}function Nh(a,s,et,tt,at,ct){if(Hh=ct,M$2=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=et(tt,at),Jh){ct=0;do{if(Jh=!1,Kh=0,25<=ct)throw Error(p$1(301));ct+=1,O$2=N$1=null,s.updateQueue=null,Fh.current=Qh,a=et(tt,at)}while(Jh)}if(Fh.current=Rh,s=N$1!==null&&N$1.next!==null,Hh=0,O$2=N$1=M$2=null,Ih=!1,s)throw Error(p$1(300));return a}function Sh(){var a=Kh!==0;return Kh=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$2.memoizedState=O$2=a:O$2=O$2.next=a,O$2}function Uh(){if(N$1===null){var a=M$2.alternate;a=a!==null?a.memoizedState:null}else a=N$1.next;var s=O$2===null?M$2.memoizedState:O$2.next;if(s!==null)O$2=s,N$1=a;else{if(a===null)throw Error(p$1(310));N$1=a,a={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$2===null?M$2.memoizedState=O$2=a:O$2=O$2.next=a}return O$2}function Vh(a,s){return typeof s=="function"?s(a):s}function Wh(a){var s=Uh(),et=s.queue;if(et===null)throw Error(p$1(311));et.lastRenderedReducer=a;var tt=N$1,at=tt.baseQueue,ct=et.pending;if(ct!==null){if(at!==null){var ut=at.next;at.next=ct.next,ct.next=ut}tt.baseQueue=at=ct,et.pending=null}if(at!==null){ct=at.next,tt=tt.baseState;var bt=ut=null,wt=null,Et=ct;do{var Ft=Et.lane;if((Hh&Ft)===Ft)wt!==null&&(wt=wt.next={lane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),tt=Et.hasEagerState?Et.eagerState:a(tt,Et.action);else{var jt={lane:Ft,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null};wt===null?(bt=wt=jt,ut=tt):wt=wt.next=jt,M$2.lanes|=Ft,rh|=Ft}Et=Et.next}while(Et!==null&&Et!==ct);wt===null?ut=tt:wt.next=bt,He(tt,s.memoizedState)||(dh$1=!0),s.memoizedState=tt,s.baseState=ut,s.baseQueue=wt,et.lastRenderedState=tt}if(a=et.interleaved,a!==null){at=a;do ct=at.lane,M$2.lanes|=ct,rh|=ct,at=at.next;while(at!==a)}else at===null&&(et.lanes=0);return[s.memoizedState,et.dispatch]}function Xh(a){var s=Uh(),et=s.queue;if(et===null)throw Error(p$1(311));et.lastRenderedReducer=a;var tt=et.dispatch,at=et.pending,ct=s.memoizedState;if(at!==null){et.pending=null;var ut=at=at.next;do ct=a(ct,ut.action),ut=ut.next;while(ut!==at);He(ct,s.memoizedState)||(dh$1=!0),s.memoizedState=ct,s.baseQueue===null&&(s.baseState=ct),et.lastRenderedState=ct}return[ct,tt]}function Yh(){}function Zh(a,s){var et=M$2,tt=Uh(),at=s(),ct=!He(tt.memoizedState,at);if(ct&&(tt.memoizedState=at,dh$1=!0),tt=tt.queue,$h(ai.bind(null,et,tt,a),[a]),tt.getSnapshot!==s||ct||O$2!==null&&O$2.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,tt,at,s),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(et,s,at)}return at}function di(a,s,et){a.flags|=16384,a={getSnapshot:s,value:et},s=M$2.updateQueue,s===null?(s={lastEffect:null,stores:null},M$2.updateQueue=s,s.stores=[a]):(et=s.stores,et===null?s.stores=[a]:et.push(a))}function ci(a,s,et,tt){s.value=et,s.getSnapshot=tt,ei(s)&&fi(a)}function ai(a,s,et){return et(function(){ei(s)&&fi(a)})}function ei(a){var s=a.getSnapshot;a=a.value;try{var et=s();return!He(a,et)}catch{return!0}}function fi(a){var s=ih(a,1);s!==null&&gi(s,a,1,-1)}function hi(a){var s=Th();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},s.queue=a,a=a.dispatch=ii.bind(null,M$2,a),[s.memoizedState,a]}function bi(a,s,et,tt){return a={tag:a,create:s,destroy:et,deps:tt,next:null},s=M$2.updateQueue,s===null?(s={lastEffect:null,stores:null},M$2.updateQueue=s,s.lastEffect=a.next=a):(et=s.lastEffect,et===null?s.lastEffect=a.next=a:(tt=et.next,et.next=a,a.next=tt,s.lastEffect=a)),a}function ji(){return Uh().memoizedState}function ki(a,s,et,tt){var at=Th();M$2.flags|=a,at.memoizedState=bi(1|s,et,void 0,tt===void 0?null:tt)}function li(a,s,et,tt){var at=Uh();tt=tt===void 0?null:tt;var ct=void 0;if(N$1!==null){var ut=N$1.memoizedState;if(ct=ut.destroy,tt!==null&&Mh(tt,ut.deps)){at.memoizedState=bi(s,et,ct,tt);return}}M$2.flags|=a,at.memoizedState=bi(1|s,et,ct,tt)}function mi(a,s){return ki(8390656,8,a,s)}function $h(a,s){return li(2048,8,a,s)}function ni(a,s){return li(4,2,a,s)}function oi(a,s){return li(4,4,a,s)}function pi(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function qi$1(a,s,et){return et=et!=null?et.concat([a]):null,li(4,4,pi.bind(null,s,a),et)}function ri(){}function si$1(a,s){var et=Uh();s=s===void 0?null:s;var tt=et.memoizedState;return tt!==null&&s!==null&&Mh(s,tt[1])?tt[0]:(et.memoizedState=[a,s],a)}function ti(a,s){var et=Uh();s=s===void 0?null:s;var tt=et.memoizedState;return tt!==null&&s!==null&&Mh(s,tt[1])?tt[0]:(a=a(),et.memoizedState=[a,s],a)}function ui(a,s,et){return Hh&21?(He(et,s)||(et=yc(),M$2.lanes|=et,rh|=et,a.baseState=!0),s):(a.baseState&&(a.baseState=!1,dh$1=!0),a.memoizedState=et)}function vi(a,s){var et=C;C=et!==0&&4>et?et:4,a(!0);var tt=Gh.transition;Gh.transition={};try{a(!1),s()}finally{C=et,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi$1(a,s,et){var tt=yi$1(a);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai$1(s,et);else if(et=hh(a,s,et,tt),et!==null){var at=R$2();gi(et,a,tt,at),Bi$1(et,s,tt)}}function ii(a,s,et){var tt=yi$1(a),at={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai$1(s,at);else{var ct=a.alternate;if(a.lanes===0&&(ct===null||ct.lanes===0)&&(ct=s.lastRenderedReducer,ct!==null))try{var ut=s.lastRenderedState,bt=ct(ut,et);if(at.hasEagerState=!0,at.eagerState=bt,He(bt,ut)){var wt=s.interleaved;wt===null?(at.next=at,gh(s)):(at.next=wt.next,wt.next=at),s.interleaved=at;return}}catch{}finally{}et=hh(a,s,at,tt),et!==null&&(at=R$2(),gi(et,a,tt,at),Bi$1(et,s,tt))}}function zi(a){var s=a.alternate;return a===M$2||s!==null&&s===M$2}function Ai$1(a,s){Jh=Ih=!0;var et=a.pending;et===null?s.next=s:(s.next=et.next,et.next=s),a.pending=s}function Bi$1(a,s,et){if(et&4194240){var tt=s.lanes;tt&=a.pendingLanes,et|=tt,s.lanes=et,Cc(a,et)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,s){return Th().memoizedState=[a,s===void 0?null:s],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,s,et){return et=et!=null?et.concat([a]):null,ki(4194308,4,pi.bind(null,s,a),et)},useLayoutEffect:function(a,s){return ki(4194308,4,a,s)},useInsertionEffect:function(a,s){return ki(4,2,a,s)},useMemo:function(a,s){var et=Th();return s=s===void 0?null:s,a=a(),et.memoizedState=[a,s],a},useReducer:function(a,s,et){var tt=Th();return s=et!==void 0?et(s):s,tt.memoizedState=tt.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},tt.queue=a,a=a.dispatch=xi$1.bind(null,M$2,a),[tt.memoizedState,a]},useRef:function(a){var s=Th();return a={current:a},s.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),s=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,et){var tt=M$2,at=Th();if(I$4){if(et===void 0)throw Error(p$1(407));et=et()}else{if(et=s(),Q===null)throw Error(p$1(349));Hh&30||di(tt,s,et)}at.memoizedState=et;var ct={value:et,getSnapshot:s};return at.queue=ct,mi(ai.bind(null,tt,ct,a),[a]),tt.flags|=2048,bi(9,ci.bind(null,tt,ct,et,s),void 0,null),et},useId:function(){var a=Th(),s=Q.identifierPrefix;if(I$4){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,s=":"+s+"R"+et,et=Kh++,0<et&&(s+="H"+et.toString(32)),s+=":"}else et=Lh++,s=":"+s+"r"+et.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return ui(s,N$1.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return N$1===null?s.memoizedState=a:ui(s,N$1.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,s){if(a&&a.defaultProps){s=A$3({},s),a=a.defaultProps;for(var et in a)s[et]===void 0&&(s[et]=a[et]);return s}return s}function Di$1(a,s,et,tt){s=a.memoizedState,et=et(tt,s),et=et==null?s:A$3({},s,et),a.memoizedState=et,a.lanes===0&&(a.updateQueue.baseState=et)}var Ei$1={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,s,et){a=a._reactInternals;var tt=R$2(),at=yi$1(a),ct=mh(tt,at);ct.payload=s,et!=null&&(ct.callback=et),s=nh(a,ct,at),s!==null&&(gi(s,a,at,tt),oh(s,a,at))},enqueueReplaceState:function(a,s,et){a=a._reactInternals;var tt=R$2(),at=yi$1(a),ct=mh(tt,at);ct.tag=1,ct.payload=s,et!=null&&(ct.callback=et),s=nh(a,ct,at),s!==null&&(gi(s,a,at,tt),oh(s,a,at))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var et=R$2(),tt=yi$1(a),at=mh(et,tt);at.tag=2,s!=null&&(at.callback=s),s=nh(a,at,tt),s!==null&&(gi(s,a,tt,et),oh(s,a,tt))}};function Fi$1(a,s,et,tt,at,ct,ut){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(tt,ct,ut):s.prototype&&s.prototype.isPureReactComponent?!Ie$1(et,tt)||!Ie$1(at,ct):!0}function Gi(a,s,et){var tt=!1,at=Vf,ct=s.contextType;return typeof ct=="object"&&ct!==null?ct=eh(ct):(at=Zf(s)?Xf:H$2.current,tt=s.contextTypes,ct=(tt=tt!=null)?Yf(a,at):Vf),s=new s(et,ct),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei$1,a.stateNode=s,s._reactInternals=a,tt&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=at,a.__reactInternalMemoizedMaskedChildContext=ct),s}function Hi(a,s,et,tt){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(et,tt),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(et,tt),s.state!==a&&Ei$1.enqueueReplaceState(s,s.state,null)}function Ii(a,s,et,tt){var at=a.stateNode;at.props=et,at.state=a.memoizedState,at.refs={},kh(a);var ct=s.contextType;typeof ct=="object"&&ct!==null?at.context=eh(ct):(ct=Zf(s)?Xf:H$2.current,at.context=Yf(a,ct)),at.state=a.memoizedState,ct=s.getDerivedStateFromProps,typeof ct=="function"&&(Di$1(a,s,ct,et),at.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(s=at.state,typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount(),s!==at.state&&Ei$1.enqueueReplaceState(at,at.state,null),qh(a,et,at,tt),at.state=a.memoizedState),typeof at.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,s){try{var et="",tt=s;do et+=Pa(tt),tt=tt.return;while(tt);var at=et}catch(ct){at=`
Error generating stack: `+ct.message+`
`+ct.stack}return{value:a,source:s,stack:at,digest:null}}function Ki(a,s,et){return{value:a,source:null,stack:et??null,digest:s??null}}function Li$1(a,s){try{console.error(s.value)}catch(et){setTimeout(function(){throw et})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(a,s,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var tt=s.value;return et.callback=function(){Oi||(Oi=!0,Pi=tt),Li$1(a,s)},et}function Qi(a,s,et){et=mh(-1,et),et.tag=3;var tt=a.type.getDerivedStateFromError;if(typeof tt=="function"){var at=s.value;et.payload=function(){return tt(at)},et.callback=function(){Li$1(a,s)}}var ct=a.stateNode;return ct!==null&&typeof ct.componentDidCatch=="function"&&(et.callback=function(){Li$1(a,s),typeof tt!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var ut=s.stack;this.componentDidCatch(s.value,{componentStack:ut!==null?ut:""})}),et}function Si(a,s,et){var tt=a.pingCache;if(tt===null){tt=a.pingCache=new Mi$1;var at=new Set;tt.set(s,at)}else at=tt.get(s),at===void 0&&(at=new Set,tt.set(s,at));at.has(et)||(at.add(et),a=Ti.bind(null,a,s,et),s.then(a,a))}function Ui(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function Vi(a,s,et,tt,at){return a.mode&1?(a.flags|=65536,a.lanes=at,a):(a===s?a.flags|=65536:(a.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(s=mh(-1,1),s.tag=2,nh(et,s,1))),et.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(a,s,et,tt){s.child=a===null?Vg(s,null,et,tt):Ug(s,a.child,et,tt)}function Yi(a,s,et,tt,at){et=et.render;var ct=s.ref;return ch(s,at),tt=Nh(a,s,et,tt,ct,at),et=Sh(),a!==null&&!dh$1?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~at,Zi(a,s,at)):(I$4&&et&&vg(s),s.flags|=1,Xi(a,s,tt,at),s.child)}function $i(a,s,et,tt,at){if(a===null){var ct=et.type;return typeof ct=="function"&&!aj(ct)&&ct.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(s.tag=15,s.type=ct,bj(a,s,ct,tt,at)):(a=Rg(et.type,null,tt,s,s.mode,at),a.ref=s.ref,a.return=s,s.child=a)}if(ct=a.child,!(a.lanes&at)){var ut=ct.memoizedProps;if(et=et.compare,et=et!==null?et:Ie$1,et(ut,tt)&&a.ref===s.ref)return Zi(a,s,at)}return s.flags|=1,a=Pg(ct,tt),a.ref=s.ref,a.return=s,s.child=a}function bj(a,s,et,tt,at){if(a!==null){var ct=a.memoizedProps;if(Ie$1(ct,tt)&&a.ref===s.ref)if(dh$1=!1,s.pendingProps=tt=ct,(a.lanes&at)!==0)a.flags&131072&&(dh$1=!0);else return s.lanes=a.lanes,Zi(a,s,at)}return cj(a,s,et,tt,at)}function dj(a,s,et){var tt=s.pendingProps,at=tt.children,ct=a!==null?a.memoizedState:null;if(tt.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=et;else{if(!(et&1073741824))return a=ct!==null?ct.baseLanes|et:et,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,G$2(ej,fj),fj|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=ct!==null?ct.baseLanes:et,G$2(ej,fj),fj|=tt}else ct!==null?(tt=ct.baseLanes|et,s.memoizedState=null):tt=et,G$2(ej,fj),fj|=tt;return Xi(a,s,at,et),s.child}function gj(a,s){var et=s.ref;(a===null&&et!==null||a!==null&&a.ref!==et)&&(s.flags|=512,s.flags|=2097152)}function cj(a,s,et,tt,at){var ct=Zf(et)?Xf:H$2.current;return ct=Yf(s,ct),ch(s,at),et=Nh(a,s,et,tt,ct,at),tt=Sh(),a!==null&&!dh$1?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~at,Zi(a,s,at)):(I$4&&tt&&vg(s),s.flags|=1,Xi(a,s,et,at),s.child)}function hj(a,s,et,tt,at){if(Zf(et)){var ct=!0;cg(s)}else ct=!1;if(ch(s,at),s.stateNode===null)ij(a,s),Gi(s,et,tt),Ii(s,et,tt,at),tt=!0;else if(a===null){var ut=s.stateNode,bt=s.memoizedProps;ut.props=bt;var wt=ut.context,Et=et.contextType;typeof Et=="object"&&Et!==null?Et=eh(Et):(Et=Zf(et)?Xf:H$2.current,Et=Yf(s,Et));var Ft=et.getDerivedStateFromProps,jt=typeof Ft=="function"||typeof ut.getSnapshotBeforeUpdate=="function";jt||typeof ut.UNSAFE_componentWillReceiveProps!="function"&&typeof ut.componentWillReceiveProps!="function"||(bt!==tt||wt!==Et)&&Hi(s,ut,tt,Et),jh=!1;var Lt=s.memoizedState;ut.state=Lt,qh(s,tt,ut,at),wt=s.memoizedState,bt!==tt||Lt!==wt||Wf.current||jh?(typeof Ft=="function"&&(Di$1(s,et,Ft,tt),wt=s.memoizedState),(bt=jh||Fi$1(s,et,bt,tt,Lt,wt,Et))?(jt||typeof ut.UNSAFE_componentWillMount!="function"&&typeof ut.componentWillMount!="function"||(typeof ut.componentWillMount=="function"&&ut.componentWillMount(),typeof ut.UNSAFE_componentWillMount=="function"&&ut.UNSAFE_componentWillMount()),typeof ut.componentDidMount=="function"&&(s.flags|=4194308)):(typeof ut.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=tt,s.memoizedState=wt),ut.props=tt,ut.state=wt,ut.context=Et,tt=bt):(typeof ut.componentDidMount=="function"&&(s.flags|=4194308),tt=!1)}else{ut=s.stateNode,lh(a,s),bt=s.memoizedProps,Et=s.type===s.elementType?bt:Ci(s.type,bt),ut.props=Et,jt=s.pendingProps,Lt=ut.context,wt=et.contextType,typeof wt=="object"&&wt!==null?wt=eh(wt):(wt=Zf(et)?Xf:H$2.current,wt=Yf(s,wt));var Ut=et.getDerivedStateFromProps;(Ft=typeof Ut=="function"||typeof ut.getSnapshotBeforeUpdate=="function")||typeof ut.UNSAFE_componentWillReceiveProps!="function"&&typeof ut.componentWillReceiveProps!="function"||(bt!==jt||Lt!==wt)&&Hi(s,ut,tt,wt),jh=!1,Lt=s.memoizedState,ut.state=Lt,qh(s,tt,ut,at);var Vt=s.memoizedState;bt!==jt||Lt!==Vt||Wf.current||jh?(typeof Ut=="function"&&(Di$1(s,et,Ut,tt),Vt=s.memoizedState),(Et=jh||Fi$1(s,et,Et,tt,Lt,Vt,wt)||!1)?(Ft||typeof ut.UNSAFE_componentWillUpdate!="function"&&typeof ut.componentWillUpdate!="function"||(typeof ut.componentWillUpdate=="function"&&ut.componentWillUpdate(tt,Vt,wt),typeof ut.UNSAFE_componentWillUpdate=="function"&&ut.UNSAFE_componentWillUpdate(tt,Vt,wt)),typeof ut.componentDidUpdate=="function"&&(s.flags|=4),typeof ut.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof ut.componentDidUpdate!="function"||bt===a.memoizedProps&&Lt===a.memoizedState||(s.flags|=4),typeof ut.getSnapshotBeforeUpdate!="function"||bt===a.memoizedProps&&Lt===a.memoizedState||(s.flags|=1024),s.memoizedProps=tt,s.memoizedState=Vt),ut.props=tt,ut.state=Vt,ut.context=wt,tt=Et):(typeof ut.componentDidUpdate!="function"||bt===a.memoizedProps&&Lt===a.memoizedState||(s.flags|=4),typeof ut.getSnapshotBeforeUpdate!="function"||bt===a.memoizedProps&&Lt===a.memoizedState||(s.flags|=1024),tt=!1)}return jj(a,s,et,tt,ct,at)}function jj(a,s,et,tt,at,ct){gj(a,s);var ut=(s.flags&128)!==0;if(!tt&&!ut)return at&&dg(s,et,!1),Zi(a,s,ct);tt=s.stateNode,Wi.current=s;var bt=ut&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return s.flags|=1,a!==null&&ut?(s.child=Ug(s,a.child,null,ct),s.child=Ug(s,null,bt,ct)):Xi(a,s,bt,ct),s.memoizedState=tt.state,at&&dg(s,et,!0),s.child}function kj(a){var s=a.stateNode;s.pendingContext?ag(a,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(a,s.context,!1),yh(a,s.containerInfo)}function lj(a,s,et,tt,at){return Ig(),Jg(at),s.flags|=256,Xi(a,s,et,tt),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,s,et){var tt=s.pendingProps,at=L$1.current,ct=!1,ut=(s.flags&128)!==0,bt;if((bt=ut)||(bt=a!==null&&a.memoizedState===null?!1:(at&2)!==0),bt?(ct=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(at|=1),G$2(L$1,at&1),a===null)return Eg(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(s.mode&1?a.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(ut=tt.children,a=tt.fallback,ct?(tt=s.mode,ct=s.child,ut={mode:"hidden",children:ut},!(tt&1)&&ct!==null?(ct.childLanes=0,ct.pendingProps=ut):ct=pj(ut,tt,0,null),a=Tg(a,tt,et,null),ct.return=s,a.return=s,ct.sibling=a,s.child=ct,s.child.memoizedState=nj(et),s.memoizedState=mj,a):qj(s,ut));if(at=a.memoizedState,at!==null&&(bt=at.dehydrated,bt!==null))return rj(a,s,ut,tt,bt,at,et);if(ct){ct=tt.fallback,ut=s.mode,at=a.child,bt=at.sibling;var wt={mode:"hidden",children:tt.children};return!(ut&1)&&s.child!==at?(tt=s.child,tt.childLanes=0,tt.pendingProps=wt,s.deletions=null):(tt=Pg(at,wt),tt.subtreeFlags=at.subtreeFlags&14680064),bt!==null?ct=Pg(bt,ct):(ct=Tg(ct,ut,et,null),ct.flags|=2),ct.return=s,tt.return=s,tt.sibling=ct,s.child=tt,tt=ct,ct=s.child,ut=a.child.memoizedState,ut=ut===null?nj(et):{baseLanes:ut.baseLanes|et,cachePool:null,transitions:ut.transitions},ct.memoizedState=ut,ct.childLanes=a.childLanes&~et,s.memoizedState=mj,tt}return ct=a.child,a=ct.sibling,tt=Pg(ct,{mode:"visible",children:tt.children}),!(s.mode&1)&&(tt.lanes=et),tt.return=s,tt.sibling=null,a!==null&&(et=s.deletions,et===null?(s.deletions=[a],s.flags|=16):et.push(a)),s.child=tt,s.memoizedState=null,tt}function qj(a,s){return s=pj({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function sj(a,s,et,tt){return tt!==null&&Jg(tt),Ug(s,a.child,null,et),a=qj(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function rj(a,s,et,tt,at,ct,ut){if(et)return s.flags&256?(s.flags&=-257,tt=Ki(Error(p$1(422))),sj(a,s,ut,tt)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(ct=tt.fallback,at=s.mode,tt=pj({mode:"visible",children:tt.children},at,0,null),ct=Tg(ct,at,ut,null),ct.flags|=2,tt.return=s,ct.return=s,tt.sibling=ct,s.child=tt,s.mode&1&&Ug(s,a.child,null,ut),s.child.memoizedState=nj(ut),s.memoizedState=mj,ct);if(!(s.mode&1))return sj(a,s,ut,null);if(at.data==="$!"){if(tt=at.nextSibling&&at.nextSibling.dataset,tt)var bt=tt.dgst;return tt=bt,ct=Error(p$1(419)),tt=Ki(ct,tt,void 0),sj(a,s,ut,tt)}if(bt=(ut&a.childLanes)!==0,dh$1||bt){if(tt=Q,tt!==null){switch(ut&-ut){case 4:at=2;break;case 16:at=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:at=32;break;case 536870912:at=268435456;break;default:at=0}at=at&(tt.suspendedLanes|ut)?0:at,at!==0&&at!==ct.retryLane&&(ct.retryLane=at,ih(a,at),gi(tt,a,at,-1))}return tj(),tt=Ki(Error(p$1(421))),sj(a,s,ut,tt)}return at.data==="$?"?(s.flags|=128,s.child=a.child,s=uj.bind(null,a),at._reactRetry=s,null):(a=ct.treeContext,yg=Lf(at.nextSibling),xg=s,I$4=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=s),s=qj(s,tt.children),s.flags|=4096,s)}function vj(a,s,et){a.lanes|=s;var tt=a.alternate;tt!==null&&(tt.lanes|=s),bh(a.return,s,et)}function wj(a,s,et,tt,at){var ct=a.memoizedState;ct===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:at}:(ct.isBackwards=s,ct.rendering=null,ct.renderingStartTime=0,ct.last=tt,ct.tail=et,ct.tailMode=at)}function xj(a,s,et){var tt=s.pendingProps,at=tt.revealOrder,ct=tt.tail;if(Xi(a,s,tt.children,et),tt=L$1.current,tt&2)tt=tt&1|2,s.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,et,s);else if(a.tag===19)vj(a,et,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}tt&=1}if(G$2(L$1,tt),!(s.mode&1))s.memoizedState=null;else switch(at){case"forwards":for(et=s.child,at=null;et!==null;)a=et.alternate,a!==null&&Ch(a)===null&&(at=et),et=et.sibling;et=at,et===null?(at=s.child,s.child=null):(at=et.sibling,et.sibling=null),wj(s,!1,at,et,ct);break;case"backwards":for(et=null,at=s.child,s.child=null;at!==null;){if(a=at.alternate,a!==null&&Ch(a)===null){s.child=at;break}a=at.sibling,at.sibling=et,et=at,at=a}wj(s,!0,et,null,ct);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(a,s){!(s.mode&1)&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function Zi(a,s,et){if(a!==null&&(s.dependencies=a.dependencies),rh|=s.lanes,!(et&s.childLanes))return null;if(a!==null&&s.child!==a.child)throw Error(p$1(153));if(s.child!==null){for(a=s.child,et=Pg(a,a.pendingProps),s.child=et,et.return=s;a.sibling!==null;)a=a.sibling,et=et.sibling=Pg(a,a.pendingProps),et.return=s;et.sibling=null}return s.child}function yj(a,s,et){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var tt=s.type._context,at=s.memoizedProps.value;G$2(Wg,tt._currentValue),tt._currentValue=at;break;case 13:if(tt=s.memoizedState,tt!==null)return tt.dehydrated!==null?(G$2(L$1,L$1.current&1),s.flags|=128,null):et&s.child.childLanes?oj(a,s,et):(G$2(L$1,L$1.current&1),a=Zi(a,s,et),a!==null?a.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(tt=(et&s.childLanes)!==0,a.flags&128){if(tt)return xj(a,s,et);s.flags|=128}if(at=s.memoizedState,at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),G$2(L$1,L$1.current),tt)break;return null;case 22:case 23:return s.lanes=0,dj(a,s,et)}return Zi(a,s,et)}var zj,Aj,Bj,Cj;zj=function(a,s){for(var et=s.child;et!==null;){if(et.tag===5||et.tag===6)a.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===s)break;for(;et.sibling===null;){if(et.return===null||et.return===s)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function(a,s,et,tt){var at=a.memoizedProps;if(at!==tt){a=s.stateNode,xh(uh.current);var ct=null;switch(et){case"input":at=Ya(a,at),tt=Ya(a,tt),ct=[];break;case"select":at=A$3({},at,{value:void 0}),tt=A$3({},tt,{value:void 0}),ct=[];break;case"textarea":at=gb(a,at),tt=gb(a,tt),ct=[];break;default:typeof at.onClick!="function"&&typeof tt.onClick=="function"&&(a.onclick=Bf)}ub(et,tt);var ut;et=null;for(Et in at)if(!tt.hasOwnProperty(Et)&&at.hasOwnProperty(Et)&&at[Et]!=null)if(Et==="style"){var bt=at[Et];for(ut in bt)bt.hasOwnProperty(ut)&&(et||(et={}),et[ut]="")}else Et!=="dangerouslySetInnerHTML"&&Et!=="children"&&Et!=="suppressContentEditableWarning"&&Et!=="suppressHydrationWarning"&&Et!=="autoFocus"&&(ea.hasOwnProperty(Et)?ct||(ct=[]):(ct=ct||[]).push(Et,null));for(Et in tt){var wt=tt[Et];if(bt=at!=null?at[Et]:void 0,tt.hasOwnProperty(Et)&&wt!==bt&&(wt!=null||bt!=null))if(Et==="style")if(bt){for(ut in bt)!bt.hasOwnProperty(ut)||wt&&wt.hasOwnProperty(ut)||(et||(et={}),et[ut]="");for(ut in wt)wt.hasOwnProperty(ut)&&bt[ut]!==wt[ut]&&(et||(et={}),et[ut]=wt[ut])}else et||(ct||(ct=[]),ct.push(Et,et)),et=wt;else Et==="dangerouslySetInnerHTML"?(wt=wt?wt.__html:void 0,bt=bt?bt.__html:void 0,wt!=null&&bt!==wt&&(ct=ct||[]).push(Et,wt)):Et==="children"?typeof wt!="string"&&typeof wt!="number"||(ct=ct||[]).push(Et,""+wt):Et!=="suppressContentEditableWarning"&&Et!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Et)?(wt!=null&&Et==="onScroll"&&D$2("scroll",a),ct||bt===wt||(ct=[])):(ct=ct||[]).push(Et,wt))}et&&(ct=ct||[]).push("style",et);var Et=ct;(s.updateQueue=Et)&&(s.flags|=4)}};Cj=function(a,s,et,tt){et!==tt&&(s.flags|=4)};function Dj(a,s){if(!I$4)switch(a.tailMode){case"hidden":s=a.tail;for(var et=null;s!==null;)s.alternate!==null&&(et=s),s=s.sibling;et===null?a.tail=null:et.sibling=null;break;case"collapsed":et=a.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:tt.sibling=null}}function S$3(a){var s=a.alternate!==null&&a.alternate.child===a.child,et=0,tt=0;if(s)for(var at=a.child;at!==null;)et|=at.lanes|at.childLanes,tt|=at.subtreeFlags&14680064,tt|=at.flags&14680064,at.return=a,at=at.sibling;else for(at=a.child;at!==null;)et|=at.lanes|at.childLanes,tt|=at.subtreeFlags,tt|=at.flags,at.return=a,at=at.sibling;return a.subtreeFlags|=tt,a.childLanes=et,s}function Ej(a,s,et){var tt=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(s),null;case 1:return Zf(s.type)&&$f(),S$3(s),null;case 3:return tt=s.stateNode,zh(),E(Wf),E(H$2),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(a===null||a.child===null)&&(Gg(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,s),S$3(s),null;case 5:Bh(s);var at=xh(wh.current);if(et=s.type,a!==null&&s.stateNode!=null)Bj(a,s,et,tt,at),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!tt){if(s.stateNode===null)throw Error(p$1(166));return S$3(s),null}if(a=xh(uh.current),Gg(s)){tt=s.stateNode,et=s.type;var ct=s.memoizedProps;switch(tt[Of]=s,tt[Pf]=ct,a=(s.mode&1)!==0,et){case"dialog":D$2("cancel",tt),D$2("close",tt);break;case"iframe":case"object":case"embed":D$2("load",tt);break;case"video":case"audio":for(at=0;at<lf.length;at++)D$2(lf[at],tt);break;case"source":D$2("error",tt);break;case"img":case"image":case"link":D$2("error",tt),D$2("load",tt);break;case"details":D$2("toggle",tt);break;case"input":Za(tt,ct),D$2("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!ct.multiple},D$2("invalid",tt);break;case"textarea":hb(tt,ct),D$2("invalid",tt)}ub(et,ct),at=null;for(var ut in ct)if(ct.hasOwnProperty(ut)){var bt=ct[ut];ut==="children"?typeof bt=="string"?tt.textContent!==bt&&(ct.suppressHydrationWarning!==!0&&Af(tt.textContent,bt,a),at=["children",bt]):typeof bt=="number"&&tt.textContent!==""+bt&&(ct.suppressHydrationWarning!==!0&&Af(tt.textContent,bt,a),at=["children",""+bt]):ea.hasOwnProperty(ut)&&bt!=null&&ut==="onScroll"&&D$2("scroll",tt)}switch(et){case"input":Va(tt),db(tt,ct,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof ct.onClick=="function"&&(tt.onclick=Bf)}tt=at,s.updateQueue=tt,tt!==null&&(s.flags|=4)}else{ut=at.nodeType===9?at:at.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(et)),a==="http://www.w3.org/1999/xhtml"?et==="script"?(a=ut.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof tt.is=="string"?a=ut.createElement(et,{is:tt.is}):(a=ut.createElement(et),et==="select"&&(ut=a,tt.multiple?ut.multiple=!0:tt.size&&(ut.size=tt.size))):a=ut.createElementNS(a,et),a[Of]=s,a[Pf]=tt,zj(a,s,!1,!1),s.stateNode=a;e:{switch(ut=vb(et,tt),et){case"dialog":D$2("cancel",a),D$2("close",a),at=tt;break;case"iframe":case"object":case"embed":D$2("load",a),at=tt;break;case"video":case"audio":for(at=0;at<lf.length;at++)D$2(lf[at],a);at=tt;break;case"source":D$2("error",a),at=tt;break;case"img":case"image":case"link":D$2("error",a),D$2("load",a),at=tt;break;case"details":D$2("toggle",a),at=tt;break;case"input":Za(a,tt),at=Ya(a,tt),D$2("invalid",a);break;case"option":at=tt;break;case"select":a._wrapperState={wasMultiple:!!tt.multiple},at=A$3({},tt,{value:void 0}),D$2("invalid",a);break;case"textarea":hb(a,tt),at=gb(a,tt),D$2("invalid",a);break;default:at=tt}ub(et,at),bt=at;for(ct in bt)if(bt.hasOwnProperty(ct)){var wt=bt[ct];ct==="style"?sb(a,wt):ct==="dangerouslySetInnerHTML"?(wt=wt?wt.__html:void 0,wt!=null&&nb(a,wt)):ct==="children"?typeof wt=="string"?(et!=="textarea"||wt!=="")&&ob(a,wt):typeof wt=="number"&&ob(a,""+wt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?wt!=null&&ct==="onScroll"&&D$2("scroll",a):wt!=null&&ta(a,ct,wt,ut))}switch(et){case"input":Va(a),db(a,tt,!1);break;case"textarea":Va(a),jb(a);break;case"option":tt.value!=null&&a.setAttribute("value",""+Sa(tt.value));break;case"select":a.multiple=!!tt.multiple,ct=tt.value,ct!=null?fb(a,!!tt.multiple,ct,!1):tt.defaultValue!=null&&fb(a,!!tt.multiple,tt.defaultValue,!0);break;default:typeof at.onClick=="function"&&(a.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S$3(s),null;case 6:if(a&&s.stateNode!=null)Cj(a,s,a.memoizedProps,tt);else{if(typeof tt!="string"&&s.stateNode===null)throw Error(p$1(166));if(et=xh(wh.current),xh(uh.current),Gg(s)){if(tt=s.stateNode,et=s.memoizedProps,tt[Of]=s,(ct=tt.nodeValue!==et)&&(a=xg,a!==null))switch(a.tag){case 3:Af(tt.nodeValue,et,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,(a.mode&1)!==0)}ct&&(s.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=s,s.stateNode=tt}return S$3(s),null;case 13:if(E(L$1),tt=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,ct=!1;else if(ct=Gg(s),tt!==null&&tt.dehydrated!==null){if(a===null){if(!ct)throw Error(p$1(318));if(ct=s.memoizedState,ct=ct!==null?ct.dehydrated:null,!ct)throw Error(p$1(317));ct[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S$3(s),ct=!1}else zg!==null&&(Fj(zg),zg=null),ct=!0;if(!ct)return s.flags&65536?s:null}return s.flags&128?(s.lanes=et,s):(tt=tt!==null,tt!==(a!==null&&a.memoizedState!==null)&&tt&&(s.child.flags|=8192,s.mode&1&&(a===null||L$1.current&1?T$2===0&&(T$2=3):tj())),s.updateQueue!==null&&(s.flags|=4),S$3(s),null);case 4:return zh(),Aj(a,s),a===null&&sf(s.stateNode.containerInfo),S$3(s),null;case 10:return ah(s.type._context),S$3(s),null;case 17:return Zf(s.type)&&$f(),S$3(s),null;case 19:if(E(L$1),ct=s.memoizedState,ct===null)return S$3(s),null;if(tt=(s.flags&128)!==0,ut=ct.rendering,ut===null)if(tt)Dj(ct,!1);else{if(T$2!==0||a!==null&&a.flags&128)for(a=s.child;a!==null;){if(ut=Ch(a),ut!==null){for(s.flags|=128,Dj(ct,!1),tt=ut.updateQueue,tt!==null&&(s.updateQueue=tt,s.flags|=4),s.subtreeFlags=0,tt=et,et=s.child;et!==null;)ct=et,a=tt,ct.flags&=14680066,ut=ct.alternate,ut===null?(ct.childLanes=0,ct.lanes=a,ct.child=null,ct.subtreeFlags=0,ct.memoizedProps=null,ct.memoizedState=null,ct.updateQueue=null,ct.dependencies=null,ct.stateNode=null):(ct.childLanes=ut.childLanes,ct.lanes=ut.lanes,ct.child=ut.child,ct.subtreeFlags=0,ct.deletions=null,ct.memoizedProps=ut.memoizedProps,ct.memoizedState=ut.memoizedState,ct.updateQueue=ut.updateQueue,ct.type=ut.type,a=ut.dependencies,ct.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),et=et.sibling;return G$2(L$1,L$1.current&1|2),s.child}a=a.sibling}ct.tail!==null&&B$1()>Gj&&(s.flags|=128,tt=!0,Dj(ct,!1),s.lanes=4194304)}else{if(!tt)if(a=Ch(ut),a!==null){if(s.flags|=128,tt=!0,et=a.updateQueue,et!==null&&(s.updateQueue=et,s.flags|=4),Dj(ct,!0),ct.tail===null&&ct.tailMode==="hidden"&&!ut.alternate&&!I$4)return S$3(s),null}else 2*B$1()-ct.renderingStartTime>Gj&&et!==1073741824&&(s.flags|=128,tt=!0,Dj(ct,!1),s.lanes=4194304);ct.isBackwards?(ut.sibling=s.child,s.child=ut):(et=ct.last,et!==null?et.sibling=ut:s.child=ut,ct.last=ut)}return ct.tail!==null?(s=ct.tail,ct.rendering=s,ct.tail=s.sibling,ct.renderingStartTime=B$1(),s.sibling=null,et=L$1.current,G$2(L$1,tt?et&1|2:et&1),s):(S$3(s),null);case 22:case 23:return Hj(),tt=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==tt&&(s.flags|=8192),tt&&s.mode&1?fj&1073741824&&(S$3(s),s.subtreeFlags&6&&(s.flags|=8192)):S$3(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(a,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return zh(),E(Wf),E(H$2),Eh(),a=s.flags,a&65536&&!(a&128)?(s.flags=a&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L$1),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return E(L$1),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(a,s){var et=a.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$2(a,s,tt)}else et.current=null}function Mj(a,s,et){try{et()}catch(tt){W$2(a,s,tt)}}var Nj=!1;function Oj(a,s){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var et={start:a.selectionStart,end:a.selectionEnd};else e:{et=(et=a.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var at=tt.anchorOffset,ct=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,ct.nodeType}catch{et=null;break e}var ut=0,bt=-1,wt=-1,Et=0,Ft=0,jt=a,Lt=null;t:for(;;){for(var Ut;jt!==et||at!==0&&jt.nodeType!==3||(bt=ut+at),jt!==ct||tt!==0&&jt.nodeType!==3||(wt=ut+tt),jt.nodeType===3&&(ut+=jt.nodeValue.length),(Ut=jt.firstChild)!==null;)Lt=jt,jt=Ut;for(;;){if(jt===a)break t;if(Lt===et&&++Et===at&&(bt=ut),Lt===ct&&++Ft===tt&&(wt=ut),(Ut=jt.nextSibling)!==null)break;jt=Lt,Lt=jt.parentNode}jt=Ut}et=bt===-1||wt===-1?null:{start:bt,end:wt}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:a,selectionRange:et},dd=!1,V$1=s;V$1!==null;)if(s=V$1,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,V$1=a;else for(;V$1!==null;){s=V$1;try{var Vt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Vt!==null){var Yt=Vt.memoizedProps,er=Vt.memoizedState,tr=s.stateNode,nr=tr.getSnapshotBeforeUpdate(s.elementType===s.type?Yt:Ci(s.type,Yt),er);tr.__reactInternalSnapshotBeforeUpdate=nr}break;case 3:var ir=s.stateNode.containerInfo;ir.nodeType===1?ir.textContent="":ir.nodeType===9&&ir.documentElement&&ir.removeChild(ir.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(lr){W$2(s,s.return,lr)}if(a=s.sibling,a!==null){a.return=s.return,V$1=a;break}V$1=s.return}return Vt=Nj,Nj=!1,Vt}function Pj(a,s,et){var tt=s.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var at=tt=tt.next;do{if((at.tag&a)===a){var ct=at.destroy;at.destroy=void 0,ct!==void 0&&Mj(s,et,ct)}at=at.next}while(at!==tt)}}function Qj(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var et=s=s.next;do{if((et.tag&a)===a){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==s)}}function Rj(a){var s=a.ref;if(s!==null){var et=a.stateNode;switch(a.tag){case 5:a=et;break;default:a=et}typeof s=="function"?s(a):s.current=a}}function Sj(a){var s=a.alternate;s!==null&&(a.alternate=null,Sj(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,s,et){var tt=a.tag;if(tt===5||tt===6)a=a.stateNode,s?et.nodeType===8?et.parentNode.insertBefore(a,s):et.insertBefore(a,s):(et.nodeType===8?(s=et.parentNode,s.insertBefore(a,et)):(s=et,s.appendChild(a)),et=et._reactRootContainer,et!=null||s.onclick!==null||(s.onclick=Bf));else if(tt!==4&&(a=a.child,a!==null))for(Vj(a,s,et),a=a.sibling;a!==null;)Vj(a,s,et),a=a.sibling}function Wj(a,s,et){var tt=a.tag;if(tt===5||tt===6)a=a.stateNode,s?et.insertBefore(a,s):et.appendChild(a);else if(tt!==4&&(a=a.child,a!==null))for(Wj(a,s,et),a=a.sibling;a!==null;)Wj(a,s,et),a=a.sibling}var X=null,Xj=!1;function Yj(a,s,et){for(et=et.child;et!==null;)Zj(a,s,et),et=et.sibling}function Zj(a,s,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Lj(et,s);case 6:var tt=X,at=Xj;X=null,Yj(a,s,et),X=tt,Xj=at,X!==null&&(Xj?(a=X,et=et.stateNode,a.nodeType===8?a.parentNode.removeChild(et):a.removeChild(et)):X.removeChild(et.stateNode));break;case 18:X!==null&&(Xj?(a=X,et=et.stateNode,a.nodeType===8?Kf(a.parentNode,et):a.nodeType===1&&Kf(a,et),bd(a)):Kf(X,et.stateNode));break;case 4:tt=X,at=Xj,X=et.stateNode.containerInfo,Xj=!0,Yj(a,s,et),X=tt,Xj=at;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){at=tt=tt.next;do{var ct=at,ut=ct.destroy;ct=ct.tag,ut!==void 0&&(ct&2||ct&4)&&Mj(et,s,ut),at=at.next}while(at!==tt)}Yj(a,s,et);break;case 1:if(!U$1&&(Lj(et,s),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(bt){W$2(et,s,bt)}Yj(a,s,et);break;case 21:Yj(a,s,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Yj(a,s,et),U$1=tt):Yj(a,s,et);break;default:Yj(a,s,et)}}function ak(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var et=a.stateNode;et===null&&(et=a.stateNode=new Kj),s.forEach(function(tt){var at=bk.bind(null,a,tt);et.has(tt)||(et.add(tt),tt.then(at,at))})}}function ck(a,s){var et=s.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var at=et[tt];try{var ct=a,ut=s,bt=ut;e:for(;bt!==null;){switch(bt.tag){case 5:X=bt.stateNode,Xj=!1;break e;case 3:X=bt.stateNode.containerInfo,Xj=!0;break e;case 4:X=bt.stateNode.containerInfo,Xj=!0;break e}bt=bt.return}if(X===null)throw Error(p$1(160));Zj(ct,ut,at),X=null,Xj=!1;var wt=at.alternate;wt!==null&&(wt.return=null),at.return=null}catch(Et){W$2(at,s,Et)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,a),s=s.sibling}function dk(a,s){var et=a.alternate,tt=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(s,a),ek(a),tt&4){try{Pj(3,a,a.return),Qj(3,a)}catch(Yt){W$2(a,a.return,Yt)}try{Pj(5,a,a.return)}catch(Yt){W$2(a,a.return,Yt)}}break;case 1:ck(s,a),ek(a),tt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck(s,a),ek(a),tt&512&&et!==null&&Lj(et,et.return),a.flags&32){var at=a.stateNode;try{ob(at,"")}catch(Yt){W$2(a,a.return,Yt)}}if(tt&4&&(at=a.stateNode,at!=null)){var ct=a.memoizedProps,ut=et!==null?et.memoizedProps:ct,bt=a.type,wt=a.updateQueue;if(a.updateQueue=null,wt!==null)try{bt==="input"&&ct.type==="radio"&&ct.name!=null&&ab(at,ct),vb(bt,ut);var Et=vb(bt,ct);for(ut=0;ut<wt.length;ut+=2){var Ft=wt[ut],jt=wt[ut+1];Ft==="style"?sb(at,jt):Ft==="dangerouslySetInnerHTML"?nb(at,jt):Ft==="children"?ob(at,jt):ta(at,Ft,jt,Et)}switch(bt){case"input":bb(at,ct);break;case"textarea":ib(at,ct);break;case"select":var Lt=at._wrapperState.wasMultiple;at._wrapperState.wasMultiple=!!ct.multiple;var Ut=ct.value;Ut!=null?fb(at,!!ct.multiple,Ut,!1):Lt!==!!ct.multiple&&(ct.defaultValue!=null?fb(at,!!ct.multiple,ct.defaultValue,!0):fb(at,!!ct.multiple,ct.multiple?[]:"",!1))}at[Pf]=ct}catch(Yt){W$2(a,a.return,Yt)}}break;case 6:if(ck(s,a),ek(a),tt&4){if(a.stateNode===null)throw Error(p$1(162));at=a.stateNode,ct=a.memoizedProps;try{at.nodeValue=ct}catch(Yt){W$2(a,a.return,Yt)}}break;case 3:if(ck(s,a),ek(a),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(Yt){W$2(a,a.return,Yt)}break;case 4:ck(s,a),ek(a);break;case 13:ck(s,a),ek(a),at=a.child,at.flags&8192&&(ct=at.memoizedState!==null,at.stateNode.isHidden=ct,!ct||at.alternate!==null&&at.alternate.memoizedState!==null||(fk=B$1())),tt&4&&ak(a);break;case 22:if(Ft=et!==null&&et.memoizedState!==null,a.mode&1?(U$1=(Et=U$1)||Ft,ck(s,a),U$1=Et):ck(s,a),ek(a),tt&8192){if(Et=a.memoizedState!==null,(a.stateNode.isHidden=Et)&&!Ft&&a.mode&1)for(V$1=a,Ft=a.child;Ft!==null;){for(jt=V$1=Ft;V$1!==null;){switch(Lt=V$1,Ut=Lt.child,Lt.tag){case 0:case 11:case 14:case 15:Pj(4,Lt,Lt.return);break;case 1:Lj(Lt,Lt.return);var Vt=Lt.stateNode;if(typeof Vt.componentWillUnmount=="function"){tt=Lt,et=Lt.return;try{s=tt,Vt.props=s.memoizedProps,Vt.state=s.memoizedState,Vt.componentWillUnmount()}catch(Yt){W$2(tt,et,Yt)}}break;case 5:Lj(Lt,Lt.return);break;case 22:if(Lt.memoizedState!==null){gk(jt);continue}}Ut!==null?(Ut.return=Lt,V$1=Ut):gk(jt)}Ft=Ft.sibling}e:for(Ft=null,jt=a;;){if(jt.tag===5){if(Ft===null){Ft=jt;try{at=jt.stateNode,Et?(ct=at.style,typeof ct.setProperty=="function"?ct.setProperty("display","none","important"):ct.display="none"):(bt=jt.stateNode,wt=jt.memoizedProps.style,ut=wt!=null&&wt.hasOwnProperty("display")?wt.display:null,bt.style.display=rb("display",ut))}catch(Yt){W$2(a,a.return,Yt)}}}else if(jt.tag===6){if(Ft===null)try{jt.stateNode.nodeValue=Et?"":jt.memoizedProps}catch(Yt){W$2(a,a.return,Yt)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===a)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===a)break e;for(;jt.sibling===null;){if(jt.return===null||jt.return===a)break e;Ft===jt&&(Ft=null),jt=jt.return}Ft===jt&&(Ft=null),jt.sibling.return=jt.return,jt=jt.sibling}}break;case 19:ck(s,a),ek(a),tt&4&&ak(a);break;case 21:break;default:ck(s,a),ek(a)}}function ek(a){var s=a.flags;if(s&2){try{e:{for(var et=a.return;et!==null;){if(Tj(et)){var tt=et;break e}et=et.return}throw Error(p$1(160))}switch(tt.tag){case 5:var at=tt.stateNode;tt.flags&32&&(ob(at,""),tt.flags&=-33);var ct=Uj(a);Wj(a,ct,at);break;case 3:case 4:var ut=tt.stateNode.containerInfo,bt=Uj(a);Vj(a,bt,ut);break;default:throw Error(p$1(161))}}catch(wt){W$2(a,a.return,wt)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function hk(a,s,et){V$1=a,ik(a)}function ik(a,s,et){for(var tt=(a.mode&1)!==0;V$1!==null;){var at=V$1,ct=at.child;if(at.tag===22&&tt){var ut=at.memoizedState!==null||Jj;if(!ut){var bt=at.alternate,wt=bt!==null&&bt.memoizedState!==null||U$1;bt=Jj;var Et=U$1;if(Jj=ut,(U$1=wt)&&!Et)for(V$1=at;V$1!==null;)ut=V$1,wt=ut.child,ut.tag===22&&ut.memoizedState!==null?jk(at):wt!==null?(wt.return=ut,V$1=wt):jk(at);for(;ct!==null;)V$1=ct,ik(ct),ct=ct.sibling;V$1=at,Jj=bt,U$1=Et}kk(a)}else at.subtreeFlags&8772&&ct!==null?(ct.return=at,V$1=ct):kk(a)}}function kk(a){for(;V$1!==null;){var s=V$1;if(s.flags&8772){var et=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$1||Qj(5,s);break;case 1:var tt=s.stateNode;if(s.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var at=s.elementType===s.type?et.memoizedProps:Ci(s.type,et.memoizedProps);tt.componentDidUpdate(at,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var ct=s.updateQueue;ct!==null&&sh(s,ct,tt);break;case 3:var ut=s.updateQueue;if(ut!==null){if(et=null,s.child!==null)switch(s.child.tag){case 5:et=s.child.stateNode;break;case 1:et=s.child.stateNode}sh(s,ut,et)}break;case 5:var bt=s.stateNode;if(et===null&&s.flags&4){et=bt;var wt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":wt.autoFocus&&et.focus();break;case"img":wt.src&&(et.src=wt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Et=s.alternate;if(Et!==null){var Ft=Et.memoizedState;if(Ft!==null){var jt=Ft.dehydrated;jt!==null&&bd(jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||s.flags&512&&Rj(s)}catch(Lt){W$2(s,s.return,Lt)}}if(s===a){V$1=null;break}if(et=s.sibling,et!==null){et.return=s.return,V$1=et;break}V$1=s.return}}function gk(a){for(;V$1!==null;){var s=V$1;if(s===a){V$1=null;break}var et=s.sibling;if(et!==null){et.return=s.return,V$1=et;break}V$1=s.return}}function jk(a){for(;V$1!==null;){var s=V$1;try{switch(s.tag){case 0:case 11:case 15:var et=s.return;try{Qj(4,s)}catch(wt){W$2(s,et,wt)}break;case 1:var tt=s.stateNode;if(typeof tt.componentDidMount=="function"){var at=s.return;try{tt.componentDidMount()}catch(wt){W$2(s,at,wt)}}var ct=s.return;try{Rj(s)}catch(wt){W$2(s,ct,wt)}break;case 5:var ut=s.return;try{Rj(s)}catch(wt){W$2(s,ut,wt)}}}catch(wt){W$2(s,s.return,wt)}if(s===a){V$1=null;break}var bt=s.sibling;if(bt!==null){bt.return=s.return,V$1=bt;break}V$1=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$2&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi$1(a){return a.mode&1?K$2&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,s,et,tt){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(a,et,tt),(!(K$2&2)||a!==Q)&&(a===Q&&(!(K$2&2)&&(qk|=et),T$2===4&&Ck(a,Z$1)),Dk(a,tt),et===1&&K$2===0&&!(s.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(a,s){var et=a.callbackNode;wc(a,s);var tt=uc(a,a===Q?Z$1:0);if(tt===0)et!==null&&bc(et),a.callbackNode=null,a.callbackPriority=0;else if(s=tt&-tt,a.callbackPriority!==s){if(et!=null&&bc(et),s===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K$2&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,a))}a.callbackPriority=s,a.callbackNode=et}}function Gk(a,s){if(Ak=-1,Bk=0,K$2&6)throw Error(p$1(327));var et=a.callbackNode;if(Hk()&&a.callbackNode!==et)return null;var tt=uc(a,a===Q?Z$1:0);if(tt===0)return null;if(tt&30||tt&a.expiredLanes||s)s=Ik(a,tt);else{s=tt;var at=K$2;K$2|=2;var ct=Jk();(Q!==a||Z$1!==s)&&(uk=null,Gj=B$1()+500,Kk(a,s));do try{Lk();break}catch(bt){Mk(a,bt)}while(!0);$g(),mk.current=ct,K$2=at,Y$1!==null?s=0:(Q=null,Z$1=0,s=T$2)}if(s!==0){if(s===2&&(at=xc(a),at!==0&&(tt=at,s=Nk(a,at))),s===1)throw et=pk,Kk(a,0),Ck(a,tt),Dk(a,B$1()),et;if(s===6)Ck(a,tt);else{if(at=a.current.alternate,!(tt&30)&&!Ok(at)&&(s=Ik(a,tt),s===2&&(ct=xc(a),ct!==0&&(tt=ct,s=Nk(a,ct))),s===1))throw et=pk,Kk(a,0),Ck(a,tt),Dk(a,B$1()),et;switch(a.finishedWork=at,a.finishedLanes=tt,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,tt),(tt&130023424)===tt&&(s=fk+500-B$1(),10<s)){if(uc(a,0)!==0)break;if(at=a.suspendedLanes,(at&tt)!==tt){R$2(),a.pingedLanes|=a.suspendedLanes&at;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),s);break}Pk(a,tk,uk);break;case 4:if(Ck(a,tt),(tt&4194240)===tt)break;for(s=a.eventTimes,at=-1;0<tt;){var ut=31-oc(tt);ct=1<<ut,ut=s[ut],ut>at&&(at=ut),tt&=~ct}if(tt=at,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),tt);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(a,B$1()),a.callbackNode===et?Gk.bind(null,a):null}function Nk(a,s){var et=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,s).flags|=256),a=Ik(a,s),a!==2&&(s=tk,tk=et,s!==null&&Fj(s)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var s=a;;){if(s.flags&16384){var et=s.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var at=et[tt],ct=at.getSnapshot;at=at.value;try{if(!He(ct(),at))return!1}catch{return!1}}}if(et=s.child,s.subtreeFlags&16384&&et!==null)et.return=s,s=et;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(a,s){for(s&=~rk,s&=~qk,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var et=31-oc(s),tt=1<<et;a[et]=-1,s&=~tt}}function Ek(a){if(K$2&6)throw Error(p$1(327));Hk();var s=uc(a,0);if(!(s&1))return Dk(a,B$1()),null;var et=Ik(a,s);if(a.tag!==0&&et===2){var tt=xc(a);tt!==0&&(s=tt,et=Nk(a,tt))}if(et===1)throw et=pk,Kk(a,0),Ck(a,s),Dk(a,B$1()),et;if(et===6)throw Error(p$1(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,Pk(a,tk,uk),Dk(a,B$1()),null}function Qk(a,s){var et=K$2;K$2|=1;try{return a(s)}finally{K$2=et,K$2===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var s=K$2;K$2|=1;var et=ok.transition,tt=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=tt,ok.transition=et,K$2=s,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(a,s){a.finishedWork=null,a.finishedLanes=0;var et=a.timeoutHandle;if(et!==-1&&(a.timeoutHandle=-1,Gf(et)),Y$1!==null)for(et=Y$1.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E(Wf),E(H$2),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E(L$1);break;case 19:E(L$1);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q=a,Y$1=a=Pg(a.current,null),Z$1=fj=s,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(et=fh[s],tt=et.interleaved,tt!==null){et.interleaved=null;var at=tt.next,ct=et.pending;if(ct!==null){var ut=ct.next;ct.next=at,tt.next=ut}et.pending=tt}fh=null}return a}function Mk(a,s){do{var et=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var tt=M$2.memoizedState;tt!==null;){var at=tt.queue;at!==null&&(at.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O$2=N$1=M$2=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T$2=1,pk=s,Y$1=null;break}e:{var ct=a,ut=et.return,bt=et,wt=s;if(s=Z$1,bt.flags|=32768,wt!==null&&typeof wt=="object"&&typeof wt.then=="function"){var Et=wt,Ft=bt,jt=Ft.tag;if(!(Ft.mode&1)&&(jt===0||jt===11||jt===15)){var Lt=Ft.alternate;Lt?(Ft.updateQueue=Lt.updateQueue,Ft.memoizedState=Lt.memoizedState,Ft.lanes=Lt.lanes):(Ft.updateQueue=null,Ft.memoizedState=null)}var Ut=Ui(ut);if(Ut!==null){Ut.flags&=-257,Vi(Ut,ut,bt,ct,s),Ut.mode&1&&Si(ct,Et,s),s=Ut,wt=Et;var Vt=s.updateQueue;if(Vt===null){var Yt=new Set;Yt.add(wt),s.updateQueue=Yt}else Vt.add(wt);break e}else{if(!(s&1)){Si(ct,Et,s),tj();break e}wt=Error(p$1(426))}}else if(I$4&&bt.mode&1){var er=Ui(ut);if(er!==null){!(er.flags&65536)&&(er.flags|=256),Vi(er,ut,bt,ct,s),Jg(Ji(wt,bt));break e}}ct=wt=Ji(wt,bt),T$2!==4&&(T$2=2),sk===null?sk=[ct]:sk.push(ct),ct=ut;do{switch(ct.tag){case 3:ct.flags|=65536,s&=-s,ct.lanes|=s;var tr=Ni$1(ct,wt,s);ph(ct,tr);break e;case 1:bt=wt;var nr=ct.type,ir=ct.stateNode;if(!(ct.flags&128)&&(typeof nr.getDerivedStateFromError=="function"||ir!==null&&typeof ir.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(ir)))){ct.flags|=65536,s&=-s,ct.lanes|=s;var lr=Qi(ct,bt,s);ph(ct,lr);break e}}ct=ct.return}while(ct!==null)}Sk(et)}catch(pr){s=pr,Y$1===et&&et!==null&&(Y$1=et=et.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik(a,s){var et=K$2;K$2|=2;var tt=Jk();(Q!==a||Z$1!==s)&&(uk=null,Kk(a,s));do try{Tk();break}catch(at){Mk(a,at)}while(!0);if($g(),K$2=et,mk.current=tt,Y$1!==null)throw Error(p$1(261));return Q=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(a){var s=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,s===null?Sk(a):Y$1=s,nk.current=null}function Sk(a){var s=a;do{var et=s.alternate;if(a=s.return,s.flags&32768){if(et=Ij(et,s),et!==null){et.flags&=32767,Y$1=et;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T$2=6,Y$1=null;return}}else if(et=Ej(et,s,fj),et!==null){Y$1=et;return}if(s=s.sibling,s!==null){Y$1=s;return}Y$1=s=a}while(s!==null);T$2===0&&(T$2=5)}function Pk(a,s,et){var tt=C,at=ok.transition;try{ok.transition=null,C=1,Wk(a,s,et,tt)}finally{ok.transition=at,C=tt}return null}function Wk(a,s,et,tt){do Hk();while(wk!==null);if(K$2&6)throw Error(p$1(327));et=a.finishedWork;var at=a.finishedLanes;if(et===null)return null;if(a.finishedWork=null,a.finishedLanes=0,et===a.current)throw Error(p$1(177));a.callbackNode=null,a.callbackPriority=0;var ct=et.lanes|et.childLanes;if(Bc(a,ct),a===Q&&(Y$1=Q=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ct=(et.flags&15990)!==0,et.subtreeFlags&15990||ct){ct=ok.transition,ok.transition=null;var ut=C;C=1;var bt=K$2;K$2|=4,nk.current=null,Oj(a,et),dk(et,a),Oe$2(Df),dd=!!Cf,Df=Cf=null,a.current=et,hk(et),dc(),K$2=bt,C=ut,ok.transition=ct}else a.current=et;if(vk&&(vk=!1,wk=a,xk=at),ct=a.pendingLanes,ct===0&&(Ri$1=null),mc(et.stateNode),Dk(a,B$1()),s!==null)for(tt=a.onRecoverableError,et=0;et<s.length;et++)at=s[et],tt(at.value,{componentStack:at.stack,digest:at.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),ct=a.pendingLanes,ct&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc(xk),s=ok.transition,et=C;try{if(ok.transition=null,C=16>a?16:a,wk===null)var tt=!1;else{if(a=wk,wk=null,xk=0,K$2&6)throw Error(p$1(331));var at=K$2;for(K$2|=4,V$1=a.current;V$1!==null;){var ct=V$1,ut=ct.child;if(V$1.flags&16){var bt=ct.deletions;if(bt!==null){for(var wt=0;wt<bt.length;wt++){var Et=bt[wt];for(V$1=Et;V$1!==null;){var Ft=V$1;switch(Ft.tag){case 0:case 11:case 15:Pj(8,Ft,ct)}var jt=Ft.child;if(jt!==null)jt.return=Ft,V$1=jt;else for(;V$1!==null;){Ft=V$1;var Lt=Ft.sibling,Ut=Ft.return;if(Sj(Ft),Ft===Et){V$1=null;break}if(Lt!==null){Lt.return=Ut,V$1=Lt;break}V$1=Ut}}}var Vt=ct.alternate;if(Vt!==null){var Yt=Vt.child;if(Yt!==null){Vt.child=null;do{var er=Yt.sibling;Yt.sibling=null,Yt=er}while(Yt!==null)}}V$1=ct}}if(ct.subtreeFlags&2064&&ut!==null)ut.return=ct,V$1=ut;else e:for(;V$1!==null;){if(ct=V$1,ct.flags&2048)switch(ct.tag){case 0:case 11:case 15:Pj(9,ct,ct.return)}var tr=ct.sibling;if(tr!==null){tr.return=ct.return,V$1=tr;break e}V$1=ct.return}}var nr=a.current;for(V$1=nr;V$1!==null;){ut=V$1;var ir=ut.child;if(ut.subtreeFlags&2064&&ir!==null)ir.return=ut,V$1=ir;else e:for(ut=nr;V$1!==null;){if(bt=V$1,bt.flags&2048)try{switch(bt.tag){case 0:case 11:case 15:Qj(9,bt)}}catch(pr){W$2(bt,bt.return,pr)}if(bt===ut){V$1=null;break e}var lr=bt.sibling;if(lr!==null){lr.return=bt.return,V$1=lr;break e}V$1=bt.return}}if(K$2=at,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}tt=!0}return tt}finally{C=et,ok.transition=s}}return!1}function Xk(a,s,et){s=Ji(et,s),s=Ni$1(a,s,1),a=nh(a,s,1),s=R$2(),a!==null&&(Ac(a,1,s),Dk(a,s))}function W$2(a,s,et){if(a.tag===3)Xk(a,a,et);else for(;s!==null;){if(s.tag===3){Xk(s,a,et);break}else if(s.tag===1){var tt=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(tt))){a=Ji(et,a),a=Qi(s,a,1),s=nh(s,a,1),a=R$2(),s!==null&&(Ac(s,1,a),Dk(s,a));break}}s=s.return}}function Ti(a,s,et){var tt=a.pingCache;tt!==null&&tt.delete(s),s=R$2(),a.pingedLanes|=a.suspendedLanes&et,Q===a&&(Z$1&et)===et&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(a,0):rk|=et),Dk(a,s)}function Yk(a,s){s===0&&(a.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var et=R$2();a=ih(a,s),a!==null&&(Ac(a,s,et),Dk(a,et))}function uj(a){var s=a.memoizedState,et=0;s!==null&&(et=s.retryLane),Yk(a,et)}function bk(a,s){var et=0;switch(a.tag){case 13:var tt=a.stateNode,at=a.memoizedState;at!==null&&(et=at.retryLane);break;case 19:tt=a.stateNode;break;default:throw Error(p$1(314))}tt!==null&&tt.delete(s),Yk(a,et)}var Vk;Vk=function(a,s,et){if(a!==null)if(a.memoizedProps!==s.pendingProps||Wf.current)dh$1=!0;else{if(!(a.lanes&et)&&!(s.flags&128))return dh$1=!1,yj(a,s,et);dh$1=!!(a.flags&131072)}else dh$1=!1,I$4&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var tt=s.type;ij(a,s),a=s.pendingProps;var at=Yf(s,H$2.current);ch(s,et),at=Nh(null,s,tt,a,at,et);var ct=Sh();return s.flags|=1,typeof at=="object"&&at!==null&&typeof at.render=="function"&&at.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(tt)?(ct=!0,cg(s)):ct=!1,s.memoizedState=at.state!==null&&at.state!==void 0?at.state:null,kh(s),at.updater=Ei$1,s.stateNode=at,at._reactInternals=s,Ii(s,tt,a,et),s=jj(null,s,tt,!0,ct,et)):(s.tag=0,I$4&&ct&&vg(s),Xi(null,s,at,et),s=s.child),s;case 16:tt=s.elementType;e:{switch(ij(a,s),a=s.pendingProps,at=tt._init,tt=at(tt._payload),s.type=tt,at=s.tag=Zk(tt),a=Ci(tt,a),at){case 0:s=cj(null,s,tt,a,et);break e;case 1:s=hj(null,s,tt,a,et);break e;case 11:s=Yi(null,s,tt,a,et);break e;case 14:s=$i(null,s,tt,Ci(tt.type,a),et);break e}throw Error(p$1(306,tt,""))}return s;case 0:return tt=s.type,at=s.pendingProps,at=s.elementType===tt?at:Ci(tt,at),cj(a,s,tt,at,et);case 1:return tt=s.type,at=s.pendingProps,at=s.elementType===tt?at:Ci(tt,at),hj(a,s,tt,at,et);case 3:e:{if(kj(s),a===null)throw Error(p$1(387));tt=s.pendingProps,ct=s.memoizedState,at=ct.element,lh(a,s),qh(s,tt,null,et);var ut=s.memoizedState;if(tt=ut.element,ct.isDehydrated)if(ct={element:tt,isDehydrated:!1,cache:ut.cache,pendingSuspenseBoundaries:ut.pendingSuspenseBoundaries,transitions:ut.transitions},s.updateQueue.baseState=ct,s.memoizedState=ct,s.flags&256){at=Ji(Error(p$1(423)),s),s=lj(a,s,tt,et,at);break e}else if(tt!==at){at=Ji(Error(p$1(424)),s),s=lj(a,s,tt,et,at);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I$4=!0,zg=null,et=Vg(s,null,tt,et),s.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===at){s=Zi(a,s,et);break e}Xi(a,s,tt,et)}s=s.child}return s;case 5:return Ah(s),a===null&&Eg(s),tt=s.type,at=s.pendingProps,ct=a!==null?a.memoizedProps:null,ut=at.children,Ef(tt,at)?ut=null:ct!==null&&Ef(tt,ct)&&(s.flags|=32),gj(a,s),Xi(a,s,ut,et),s.child;case 6:return a===null&&Eg(s),null;case 13:return oj(a,s,et);case 4:return yh(s,s.stateNode.containerInfo),tt=s.pendingProps,a===null?s.child=Ug(s,null,tt,et):Xi(a,s,tt,et),s.child;case 11:return tt=s.type,at=s.pendingProps,at=s.elementType===tt?at:Ci(tt,at),Yi(a,s,tt,at,et);case 7:return Xi(a,s,s.pendingProps,et),s.child;case 8:return Xi(a,s,s.pendingProps.children,et),s.child;case 12:return Xi(a,s,s.pendingProps.children,et),s.child;case 10:e:{if(tt=s.type._context,at=s.pendingProps,ct=s.memoizedProps,ut=at.value,G$2(Wg,tt._currentValue),tt._currentValue=ut,ct!==null)if(He(ct.value,ut)){if(ct.children===at.children&&!Wf.current){s=Zi(a,s,et);break e}}else for(ct=s.child,ct!==null&&(ct.return=s);ct!==null;){var bt=ct.dependencies;if(bt!==null){ut=ct.child;for(var wt=bt.firstContext;wt!==null;){if(wt.context===tt){if(ct.tag===1){wt=mh(-1,et&-et),wt.tag=2;var Et=ct.updateQueue;if(Et!==null){Et=Et.shared;var Ft=Et.pending;Ft===null?wt.next=wt:(wt.next=Ft.next,Ft.next=wt),Et.pending=wt}}ct.lanes|=et,wt=ct.alternate,wt!==null&&(wt.lanes|=et),bh(ct.return,et,s),bt.lanes|=et;break}wt=wt.next}}else if(ct.tag===10)ut=ct.type===s.type?null:ct.child;else if(ct.tag===18){if(ut=ct.return,ut===null)throw Error(p$1(341));ut.lanes|=et,bt=ut.alternate,bt!==null&&(bt.lanes|=et),bh(ut,et,s),ut=ct.sibling}else ut=ct.child;if(ut!==null)ut.return=ct;else for(ut=ct;ut!==null;){if(ut===s){ut=null;break}if(ct=ut.sibling,ct!==null){ct.return=ut.return,ut=ct;break}ut=ut.return}ct=ut}Xi(a,s,at.children,et),s=s.child}return s;case 9:return at=s.type,tt=s.pendingProps.children,ch(s,et),at=eh(at),tt=tt(at),s.flags|=1,Xi(a,s,tt,et),s.child;case 14:return tt=s.type,at=Ci(tt,s.pendingProps),at=Ci(tt.type,at),$i(a,s,tt,at,et);case 15:return bj(a,s,s.type,s.pendingProps,et);case 17:return tt=s.type,at=s.pendingProps,at=s.elementType===tt?at:Ci(tt,at),ij(a,s),s.tag=1,Zf(tt)?(a=!0,cg(s)):a=!1,ch(s,et),Gi(s,tt,at),Ii(s,tt,at,et),jj(null,s,tt,!0,a,et);case 19:return xj(a,s,et);case 22:return dj(a,s,et)}throw Error(p$1(156,s.tag))};function Fk(a,s){return ac(a,s)}function $k(a,s,et,tt){this.tag=a,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,s,et,tt){return new $k(a,s,et,tt)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,s){var et=a.alternate;return et===null?(et=Bg(a.tag,s,a.key,a.mode),et.elementType=a.elementType,et.type=a.type,et.stateNode=a.stateNode,et.alternate=a,a.alternate=et):(et.pendingProps=s,et.type=a.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=a.flags&14680064,et.childLanes=a.childLanes,et.lanes=a.lanes,et.child=a.child,et.memoizedProps=a.memoizedProps,et.memoizedState=a.memoizedState,et.updateQueue=a.updateQueue,s=a.dependencies,et.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},et.sibling=a.sibling,et.index=a.index,et.ref=a.ref,et}function Rg(a,s,et,tt,at,ct){var ut=2;if(tt=a,typeof a=="function")aj(a)&&(ut=1);else if(typeof a=="string")ut=5;else e:switch(a){case ya:return Tg(et.children,at,ct,s);case za:ut=8,at|=8;break;case Aa:return a=Bg(12,et,s,at|2),a.elementType=Aa,a.lanes=ct,a;case Ea:return a=Bg(13,et,s,at),a.elementType=Ea,a.lanes=ct,a;case Fa:return a=Bg(19,et,s,at),a.elementType=Fa,a.lanes=ct,a;case Ia:return pj(et,at,ct,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:ut=10;break e;case Ca:ut=9;break e;case Da:ut=11;break e;case Ga:ut=14;break e;case Ha:ut=16,tt=null;break e}throw Error(p$1(130,a==null?a:typeof a,""))}return s=Bg(ut,et,s,at),s.elementType=a,s.type=tt,s.lanes=ct,s}function Tg(a,s,et,tt){return a=Bg(7,a,tt,s),a.lanes=et,a}function pj(a,s,et,tt){return a=Bg(22,a,tt,s),a.elementType=Ia,a.lanes=et,a.stateNode={isHidden:!1},a}function Qg(a,s,et){return a=Bg(6,a,null,s),a.lanes=et,a}function Sg(a,s,et){return s=Bg(4,a.children!==null?a.children:[],a.key,s),s.lanes=et,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function al(a,s,et,tt,at){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=at,this.mutableSourceEagerHydrationData=null}function bl(a,s,et,tt,at,ct,ut,bt,wt){return a=new al(a,s,et,bt,wt),s===1?(s=1,ct===!0&&(s|=8)):s=0,ct=Bg(3,null,null,s),a.current=ct,ct.stateNode=a,ct.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ct),a}function cl(a,s,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:a,containerInfo:s,implementation:et}}function dl(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p$1(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(a.tag===1){var et=a.type;if(Zf(et))return bg(a,et,s)}return s}function el(a,s,et,tt,at,ct,ut,bt,wt){return a=bl(et,tt,!0,a,at,ct,ut,bt,wt),a.context=dl(null),et=a.current,tt=R$2(),at=yi$1(et),ct=mh(tt,at),ct.callback=s??null,nh(et,ct,at),a.current.lanes=at,Ac(a,at,tt),Dk(a,tt),a}function fl(a,s,et,tt){var at=s.current,ct=R$2(),ut=yi$1(at);return et=dl(et),s.context===null?s.context=et:s.pendingContext=et,s=mh(ct,ut),s.payload={element:a},tt=tt===void 0?null:tt,tt!==null&&(s.callback=tt),a=nh(at,s,ut),a!==null&&(gi(a,at,ut,ct),oh(a,at,ut)),ut}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var et=a.retryLane;a.retryLane=et!==0&&et<s?et:s}}function il(a,s){hl(a,s),(a=a.alternate)&&hl(a,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(a,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Rk(function(){fl(null,a,null,null)}),s[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var s=Hc();a={blockedOn:null,target:a,priority:s};for(var et=0;et<Qc.length&&s!==0&&s<Qc[et].priority;et++);Qc.splice(et,0,a),et===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,s,et,tt,at){if(at){if(typeof tt=="function"){var ct=tt;tt=function(){var Et=gl(ut);ct.call(Et)}}var ut=el(s,tt,a,0,null,!1,!1,"",pl);return a._reactRootContainer=ut,a[uf]=ut.current,sf(a.nodeType===8?a.parentNode:a),Rk(),ut}for(;at=a.lastChild;)a.removeChild(at);if(typeof tt=="function"){var bt=tt;tt=function(){var Et=gl(wt);bt.call(Et)}}var wt=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=wt,a[uf]=wt.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(s,wt,et,tt)}),wt}function rl(a,s,et,tt,at){var ct=et._reactRootContainer;if(ct){var ut=ct;if(typeof at=="function"){var bt=at;at=function(){var wt=gl(ut);bt.call(wt)}}fl(s,ut,a,at)}else ut=ql(et,s,a,at,tt);return gl(ut)}Ec=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var et=tc(s.pendingLanes);et!==0&&(Cc(s,et|1),Dk(s,B$1()),!(K$2&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var tt=ih(a,1);if(tt!==null){var at=R$2();gi(tt,a,1,at)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var s=ih(a,134217728);if(s!==null){var et=R$2();gi(s,a,134217728,et)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var s=yi$1(a),et=ih(a,s);if(et!==null){var tt=R$2();gi(et,a,s,tt)}il(a,s)}};Hc=function(){return C};Ic=function(a,s){var et=C;try{return C=a,s()}finally{C=et}};yb=function(a,s,et){switch(s){case"input":if(bb(a,et),s=et.name,et.type==="radio"&&s!=null){for(et=a;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<et.length;s++){var tt=et[s];if(tt!==a&&tt.form===a.form){var at=Db(tt);if(!at)throw Error(p$1(90));Wa(tt),bb(tt,at)}}}break;case"textarea":ib(a,et);break;case"select":s=et.value,s!=null&&fb(a,!!et.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(a,s){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(a,s,null,et)};reactDom_production_min.createRoot=function(a,s){if(!nl(a))throw Error(p$1(299));var et=!1,tt="",at=kl;return s!=null&&(s.unstable_strictMode===!0&&(et=!0),s.identifierPrefix!==void 0&&(tt=s.identifierPrefix),s.onRecoverableError!==void 0&&(at=s.onRecoverableError)),s=bl(a,1,!1,null,null,et,!1,tt,at),a[uf]=s.current,sf(a.nodeType===8?a.parentNode:a),new ll(s)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(p$1(188)):(a=Object.keys(a).join(","),Error(p$1(268,a)));return a=Zb(s),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,s,et){if(!ol(s))throw Error(p$1(200));return rl(null,a,s,!0,et)};reactDom_production_min.hydrateRoot=function(a,s,et){if(!nl(a))throw Error(p$1(405));var tt=et!=null&&et.hydratedSources||null,at=!1,ct="",ut=kl;if(et!=null&&(et.unstable_strictMode===!0&&(at=!0),et.identifierPrefix!==void 0&&(ct=et.identifierPrefix),et.onRecoverableError!==void 0&&(ut=et.onRecoverableError)),s=el(s,null,a,1,et??null,at,!1,ct,ut),a[uf]=s.current,sf(a),tt)for(a=0;a<tt.length;a++)et=tt[a],at=et._getVersion,at=at(et._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[et,at]:s.mutableSourceEagerHydrationData.push(et,at);return new ml(s)};reactDom_production_min.render=function(a,s,et){if(!ol(s))throw Error(p$1(200));return rl(null,a,s,!1,et)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p$1(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,s,et,tt){if(!ol(et))throw Error(p$1(200));if(a==null||a._reactInternals===void 0)throw Error(p$1(38));return rl(a,s,et,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$2(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var m$4=reactDomExports;client$1.createRoot=m$4.createRoot,client$1.hydrateRoot=m$4.hydrateRoot;function setRef(a,s){if(typeof a=="function")return a(s);a!=null&&(a.current=s)}function composeRefs(...a){return s=>{let et=!1;const tt=a.map(at=>{const ct=setRef(at,s);return!et&&typeof ct=="function"&&(et=!0),ct});if(et)return()=>{for(let at=0;at<tt.length;at++){const ct=tt[at];typeof ct=="function"?ct():setRef(a[at],null)}}}}var Slot=reactExports.forwardRef((a,s)=>{const{children:et,...tt}=a,at=reactExports.Children.toArray(et),ct=at.find(isSlottable);if(ct){const ut=ct.props.children,bt=at.map(wt=>wt===ct?reactExports.Children.count(ut)>1?reactExports.Children.only(null):reactExports.isValidElement(ut)?ut.props.children:null:wt);return jsxRuntimeExports.jsx(SlotClone,{...tt,ref:s,children:reactExports.isValidElement(ut)?reactExports.cloneElement(ut,void 0,bt):null})}return jsxRuntimeExports.jsx(SlotClone,{...tt,ref:s,children:et})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((a,s)=>{const{children:et,...tt}=a;if(reactExports.isValidElement(et)){const at=getElementRef$1(et),ct=mergeProps(tt,et.props);return et.type!==reactExports.Fragment&&(ct.ref=s?composeRefs(s,at):at),reactExports.cloneElement(et,ct)}return reactExports.Children.count(et)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:a})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a});function isSlottable(a){return reactExports.isValidElement(a)&&a.type===Slottable}function mergeProps(a,s){const et={...s};for(const tt in s){const at=a[tt],ct=s[tt];/^on[A-Z]/.test(tt)?at&&ct?et[tt]=(...bt)=>{ct(...bt),at(...bt)}:at&&(et[tt]=at):tt==="style"?et[tt]={...at,...ct}:tt==="className"&&(et[tt]=[at,ct].filter(Boolean).join(" "))}return{...a,...et}}function getElementRef$1(a){var tt,at;let s=(tt=Object.getOwnPropertyDescriptor(a.props,"ref"))==null?void 0:tt.get,et=s&&"isReactWarning"in s&&s.isReactWarning;return et?a.ref:(s=(at=Object.getOwnPropertyDescriptor(a,"ref"))==null?void 0:at.get,et=s&&"isReactWarning"in s&&s.isReactWarning,et?a.props.ref:a.props.ref||a.ref)}var extendStatics$1=function(a,s){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var at in tt)Object.prototype.hasOwnProperty.call(tt,at)&&(et[at]=tt[at])},extendStatics$1(a,s)};function __extends$1(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");extendStatics$1(a,s);function et(){this.constructor=a}a.prototype=s===null?Object.create(s):(et.prototype=s.prototype,new et)}var __assign$1=function(){return __assign$1=Object.assign||function(s){for(var et,tt=1,at=arguments.length;tt<at;tt++){et=arguments[tt];for(var ct in et)Object.prototype.hasOwnProperty.call(et,ct)&&(s[ct]=et[ct])}return s},__assign$1.apply(this,arguments)};function __rest$1(a,s){var et={};for(var tt in a)Object.prototype.hasOwnProperty.call(a,tt)&&s.indexOf(tt)<0&&(et[tt]=a[tt]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,tt=Object.getOwnPropertySymbols(a);at<tt.length;at++)s.indexOf(tt[at])<0&&Object.prototype.propertyIsEnumerable.call(a,tt[at])&&(et[tt[at]]=a[tt[at]]);return et}function __awaiter(a,s,et,tt){function at(ct){return ct instanceof et?ct:new et(function(ut){ut(ct)})}return new(et||(et=Promise))(function(ct,ut){function bt(Ft){try{Et(tt.next(Ft))}catch(jt){ut(jt)}}function wt(Ft){try{Et(tt.throw(Ft))}catch(jt){ut(jt)}}function Et(Ft){Ft.done?ct(Ft.value):at(Ft.value).then(bt,wt)}Et((tt=tt.apply(a,s||[])).next())})}function __generator$1(a,s){var et={label:0,sent:function(){if(ct[0]&1)throw ct[1];return ct[1]},trys:[],ops:[]},tt,at,ct,ut=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return ut.next=bt(0),ut.throw=bt(1),ut.return=bt(2),typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function bt(Et){return function(Ft){return wt([Et,Ft])}}function wt(Et){if(tt)throw new TypeError("Generator is already executing.");for(;ut&&(ut=0,Et[0]&&(et=0)),et;)try{if(tt=1,at&&(ct=Et[0]&2?at.return:Et[0]?at.throw||((ct=at.return)&&ct.call(at),0):at.next)&&!(ct=ct.call(at,Et[1])).done)return ct;switch(at=0,ct&&(Et=[Et[0]&2,ct.value]),Et[0]){case 0:case 1:ct=Et;break;case 4:return et.label++,{value:Et[1],done:!1};case 5:et.label++,at=Et[1],Et=[0];continue;case 7:Et=et.ops.pop(),et.trys.pop();continue;default:if(ct=et.trys,!(ct=ct.length>0&&ct[ct.length-1])&&(Et[0]===6||Et[0]===2)){et=0;continue}if(Et[0]===3&&(!ct||Et[1]>ct[0]&&Et[1]<ct[3])){et.label=Et[1];break}if(Et[0]===6&&et.label<ct[1]){et.label=ct[1],ct=Et;break}if(ct&&et.label<ct[2]){et.label=ct[2],et.ops.push(Et);break}ct[2]&&et.ops.pop(),et.trys.pop();continue}Et=s.call(a,et)}catch(Ft){Et=[6,Ft],at=0}finally{tt=ct=0}if(Et[0]&5)throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}}function __read$3(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var tt=et.call(a),at,ct=[],ut;try{for(;(s===void 0||s-- >0)&&!(at=tt.next()).done;)ct.push(at.value)}catch(bt){ut={error:bt}}finally{try{at&&!at.done&&(et=tt.return)&&et.call(tt)}finally{if(ut)throw ut.error}}return ct}function __spreadArray(a,s,et){if(et||arguments.length===2)for(var tt=0,at=s.length,ct;tt<at;tt++)(ct||!(tt in s))&&(ct||(ct=Array.prototype.slice.call(s,0,tt)),ct[tt]=s[tt]);return a.concat(ct||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef$1(a,s){return typeof a=="function"?a(s):a&&(a.current=s),a}function useCallbackRef$1(a,s){var et=reactExports.useState(function(){return{value:a,callback:s,facade:{get current(){return et.value},set current(tt){var at=et.value;at!==tt&&(et.value=tt,et.callback(tt,at))}}}})[0];return et.callback=s,et.facade}var useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs$1(a,s){var et=useCallbackRef$1(null,function(tt){return a.forEach(function(at){return assignRef$1(at,tt)})});return useIsomorphicLayoutEffect$2(function(){var tt=currentValues.get(et);if(tt){var at=new Set(tt),ct=new Set(a),ut=et.current;at.forEach(function(bt){ct.has(bt)||assignRef$1(bt,null)}),ct.forEach(function(bt){at.has(bt)||assignRef$1(bt,ut)})}currentValues.set(et,a)},[a]),et}function ItoI(a){return a}function innerCreateMedium(a,s){s===void 0&&(s=ItoI);var et=[],tt=!1,at={read:function(){if(tt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return et.length?et[et.length-1]:a},useMedium:function(ct){var ut=s(ct,tt);return et.push(ut),function(){et=et.filter(function(bt){return bt!==ut})}},assignSyncMedium:function(ct){for(tt=!0;et.length;){var ut=et;et=[],ut.forEach(ct)}et={push:function(bt){return ct(bt)},filter:function(){return et}}},assignMedium:function(ct){tt=!0;var ut=[];if(et.length){var bt=et;et=[],bt.forEach(ct),ut=et}var wt=function(){var Ft=ut;ut=[],Ft.forEach(ct)},Et=function(){return Promise.resolve().then(wt)};Et(),et={push:function(Ft){ut.push(Ft),Et()},filter:function(Ft){return ut=ut.filter(Ft),et}}}};return at}function createMedium(a,s){return s===void 0&&(s=ItoI),innerCreateMedium(a,s)}function createSidecarMedium(a){a===void 0&&(a={});var s=innerCreateMedium(null);return s.options=__assign$1({async:!0,ssr:!1},a),s}var SideCar$1=function(a){var s=a.sideCar,et=__rest$1(a,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var tt=s.read();if(!tt)throw new Error("Sidecar medium not found");return reactExports.createElement(tt,__assign$1({},et))};SideCar$1.isSideCarExport=!0;function exportSidecar(a,s){return a.useMedium(s),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(a,s){var et=reactExports.useRef(null),tt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),at=tt[0],ct=tt[1],ut=a.forwardProps,bt=a.children,wt=a.className,Et=a.removeScrollBar,Ft=a.enabled,jt=a.shards,Lt=a.sideCar,Ut=a.noIsolation,Vt=a.inert,Yt=a.allowPinchZoom,er=a.as,tr=er===void 0?"div":er,nr=a.gapMode,ir=__rest$1(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),lr=Lt,pr=useMergeRefs$1([et,s]),yr=__assign$1(__assign$1({},ir),at);return reactExports.createElement(reactExports.Fragment,null,Ft&&reactExports.createElement(lr,{sideCar:effectCar,removeScrollBar:Et,shards:jt,noIsolation:Ut,inert:Vt,setCallbacks:ct,allowPinchZoom:!!Yt,lockRef:et,gapMode:nr}),ut?reactExports.cloneElement(reactExports.Children.only(bt),__assign$1(__assign$1({},yr),{ref:pr})):reactExports.createElement(tr,__assign$1({},yr,{className:wt,ref:pr}),bt))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var s=getNonce();return s&&a.setAttribute("nonce",s),a}function injectStyles(a,s){a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}function insertStyleTag(a){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(a)}var stylesheetSingleton=function(){var a=0,s=null;return{add:function(et){a==0&&(s=makeStyleTag())&&(injectStyles(s,et),insertStyleTag(s)),a++},remove:function(){a--,!a&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var a=stylesheetSingleton();return function(s,et){reactExports.useEffect(function(){return a.add(s),function(){a.remove()}},[s&&et])}},styleSingleton=function(){var a=styleHookSingleton(),s=function(et){var tt=et.styles,at=et.dynamic;return a(tt,at),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse$3=function(a){return parseInt(a||"",10)||0},getOffset=function(a){var s=window.getComputedStyle(document.body),et=s[a==="padding"?"paddingLeft":"marginLeft"],tt=s[a==="padding"?"paddingTop":"marginTop"],at=s[a==="padding"?"paddingRight":"marginRight"];return[parse$3(et),parse$3(tt),parse$3(at)]},getGapWidth=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return zeroGap;var s=getOffset(a),et=document.documentElement.clientWidth,tt=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,tt-et+s[2]-s[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles$1=function(a,s,et,tt){var at=a.left,ct=a.top,ut=a.right,bt=a.gap;return et===void 0&&(et="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(tt,`;
   padding-right: `).concat(bt,"px ").concat(tt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(tt,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(tt,";"),et==="margin"&&`
    padding-left: `.concat(at,`px;
    padding-top: `).concat(ct,`px;
    padding-right: `).concat(ut,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(bt,"px ").concat(tt,`;
    `),et==="padding"&&"padding-right: ".concat(bt,"px ").concat(tt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(bt,"px ").concat(tt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(bt,"px ").concat(tt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(tt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(tt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(bt,`px;
  }
`)},getCurrentUseCounter=function(){var a=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(a)?a:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var a=getCurrentUseCounter()-1;a<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,a.toString())}},[])},RemoveScrollBar=function(a){var s=a.noRelative,et=a.noImportant,tt=a.gapMode,at=tt===void 0?"margin":tt;useLockAttribute();var ct=reactExports.useMemo(function(){return getGapWidth(at)},[at]);return reactExports.createElement(Style,{styles:getStyles$1(ct,!s,at,et?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(a){return a.tagName==="TEXTAREA"},elementCanBeScrolled=function(a,s){if(!(a instanceof Element))return!1;var et=window.getComputedStyle(a);return et[s]!=="hidden"&&!(et.overflowY===et.overflowX&&!alwaysContainsScroll(a)&&et[s]==="visible")},elementCouldBeVScrolled=function(a){return elementCanBeScrolled(a,"overflowY")},elementCouldBeHScrolled=function(a){return elementCanBeScrolled(a,"overflowX")},locationCouldBeScrolled=function(a,s){var et=s.ownerDocument,tt=s;do{typeof ShadowRoot<"u"&&tt instanceof ShadowRoot&&(tt=tt.host);var at=elementCouldBeScrolled(a,tt);if(at){var ct=getScrollVariables(a,tt),ut=ct[1],bt=ct[2];if(ut>bt)return!0}tt=tt.parentNode}while(tt&&tt!==et.body);return!1},getVScrollVariables=function(a){var s=a.scrollTop,et=a.scrollHeight,tt=a.clientHeight;return[s,et,tt]},getHScrollVariables=function(a){var s=a.scrollLeft,et=a.scrollWidth,tt=a.clientWidth;return[s,et,tt]},elementCouldBeScrolled=function(a,s){return a==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(a,s){return a==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(a,s){return a==="h"&&s==="rtl"?-1:1},handleScroll=function(a,s,et,tt,at){var ct=getDirectionFactor(a,window.getComputedStyle(s).direction),ut=ct*tt,bt=et.target,wt=s.contains(bt),Et=!1,Ft=ut>0,jt=0,Lt=0;do{var Ut=getScrollVariables(a,bt),Vt=Ut[0],Yt=Ut[1],er=Ut[2],tr=Yt-er-ct*Vt;(Vt||tr)&&elementCouldBeScrolled(a,bt)&&(jt+=tr,Lt+=Vt),bt instanceof ShadowRoot?bt=bt.host:bt=bt.parentNode}while(!wt&&bt!==document.body||wt&&(s.contains(bt)||s===bt));return(Ft&&Math.abs(jt)<1||!Ft&&Math.abs(Lt)<1)&&(Et=!0),Et},getTouchXY=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(a){return[a.deltaX,a.deltaY]},extractRef$1=function(a){return a&&"current"in a?a.current:a},deltaCompare=function(a,s){return a[0]===s[0]&&a[1]===s[1]},generateStyle=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(a){var s=reactExports.useRef([]),et=reactExports.useRef([0,0]),tt=reactExports.useRef(),at=reactExports.useState(idCounter++)[0],ct=reactExports.useState(styleSingleton)[0],ut=reactExports.useRef(a);reactExports.useEffect(function(){ut.current=a},[a]),reactExports.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(at));var Yt=__spreadArray([a.lockRef.current],(a.shards||[]).map(extractRef$1),!0).filter(Boolean);return Yt.forEach(function(er){return er.classList.add("allow-interactivity-".concat(at))}),function(){document.body.classList.remove("block-interactivity-".concat(at)),Yt.forEach(function(er){return er.classList.remove("allow-interactivity-".concat(at))})}}},[a.inert,a.lockRef.current,a.shards]);var bt=reactExports.useCallback(function(Yt,er){if("touches"in Yt&&Yt.touches.length===2||Yt.type==="wheel"&&Yt.ctrlKey)return!ut.current.allowPinchZoom;var tr=getTouchXY(Yt),nr=et.current,ir="deltaX"in Yt?Yt.deltaX:nr[0]-tr[0],lr="deltaY"in Yt?Yt.deltaY:nr[1]-tr[1],pr,yr=Yt.target,br=Math.abs(ir)>Math.abs(lr)?"h":"v";if("touches"in Yt&&br==="h"&&yr.type==="range")return!1;var xr=locationCouldBeScrolled(br,yr);if(!xr)return!0;if(xr?pr=br:(pr=br==="v"?"h":"v",xr=locationCouldBeScrolled(br,yr)),!xr)return!1;if(!tt.current&&"changedTouches"in Yt&&(ir||lr)&&(tt.current=pr),!pr)return!0;var Er=tt.current||pr;return handleScroll(Er,er,Yt,Er==="h"?ir:lr)},[]),wt=reactExports.useCallback(function(Yt){var er=Yt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==ct)){var tr="deltaY"in er?getDeltaXY(er):getTouchXY(er),nr=s.current.filter(function(pr){return pr.name===er.type&&(pr.target===er.target||er.target===pr.shadowParent)&&deltaCompare(pr.delta,tr)})[0];if(nr&&nr.should){er.cancelable&&er.preventDefault();return}if(!nr){var ir=(ut.current.shards||[]).map(extractRef$1).filter(Boolean).filter(function(pr){return pr.contains(er.target)}),lr=ir.length>0?bt(er,ir[0]):!ut.current.noIsolation;lr&&er.cancelable&&er.preventDefault()}}},[]),Et=reactExports.useCallback(function(Yt,er,tr,nr){var ir={name:Yt,delta:er,target:tr,should:nr,shadowParent:getOutermostShadowParent(tr)};s.current.push(ir),setTimeout(function(){s.current=s.current.filter(function(lr){return lr!==ir})},1)},[]),Ft=reactExports.useCallback(function(Yt){et.current=getTouchXY(Yt),tt.current=void 0},[]),jt=reactExports.useCallback(function(Yt){Et(Yt.type,getDeltaXY(Yt),Yt.target,bt(Yt,a.lockRef.current))},[]),Lt=reactExports.useCallback(function(Yt){Et(Yt.type,getTouchXY(Yt),Yt.target,bt(Yt,a.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(ct),a.setCallbacks({onScrollCapture:jt,onWheelCapture:jt,onTouchMoveCapture:Lt}),document.addEventListener("wheel",wt,nonPassive),document.addEventListener("touchmove",wt,nonPassive),document.addEventListener("touchstart",Ft,nonPassive),function(){lockStack=lockStack.filter(function(Yt){return Yt!==ct}),document.removeEventListener("wheel",wt,nonPassive),document.removeEventListener("touchmove",wt,nonPassive),document.removeEventListener("touchstart",Ft,nonPassive)}},[]);var Ut=a.removeScrollBar,Vt=a.inert;return reactExports.createElement(reactExports.Fragment,null,Vt?reactExports.createElement(ct,{styles:generateStyle(at)}):null,Ut?reactExports.createElement(RemoveScrollBar,{gapMode:a.gapMode}):null)}function getOutermostShadowParent(a){for(var s=null;a!==null;)a instanceof ShadowRoot&&(s=a.host,a=a.host),a=a.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(a,s){return reactExports.createElement(RemoveScroll,__assign$1({},a,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(a){if(typeof document>"u")return null;var s=Array.isArray(a)?a[0]:a;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(a){return a&&(a.host||unwrapHost(a.parentNode))},correctTargets=function(a,s){return s.map(function(et){if(a.contains(et))return et;var tt=unwrapHost(et);return tt&&a.contains(tt)?tt:(console.error("aria-hidden",et,"in not contained inside",a,". Doing nothing"),null)}).filter(function(et){return!!et})},applyAttributeToOthers=function(a,s,et,tt){var at=correctTargets(s,Array.isArray(a)?a:[a]);markerMap[et]||(markerMap[et]=new WeakMap);var ct=markerMap[et],ut=[],bt=new Set,wt=new Set(at),Et=function(jt){!jt||bt.has(jt)||(bt.add(jt),Et(jt.parentNode))};at.forEach(Et);var Ft=function(jt){!jt||wt.has(jt)||Array.prototype.forEach.call(jt.children,function(Lt){if(bt.has(Lt))Ft(Lt);else try{var Ut=Lt.getAttribute(tt),Vt=Ut!==null&&Ut!=="false",Yt=(counterMap.get(Lt)||0)+1,er=(ct.get(Lt)||0)+1;counterMap.set(Lt,Yt),ct.set(Lt,er),ut.push(Lt),Yt===1&&Vt&&uncontrolledNodes.set(Lt,!0),er===1&&Lt.setAttribute(et,"true"),Vt||Lt.setAttribute(tt,"true")}catch(tr){console.error("aria-hidden: cannot operate on ",Lt,tr)}})};return Ft(s),bt.clear(),lockCount++,function(){ut.forEach(function(jt){var Lt=counterMap.get(jt)-1,Ut=ct.get(jt)-1;counterMap.set(jt,Lt),ct.set(jt,Ut),Lt||(uncontrolledNodes.has(jt)||jt.removeAttribute(tt),uncontrolledNodes.delete(jt)),Ut||jt.removeAttribute(et)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(a,s,et){et===void 0&&(et="data-aria-hidden");var tt=Array.from(Array.isArray(a)?a:[a]),at=getDefaultParent(a);return at?(tt.push.apply(tt,Array.from(at.querySelectorAll("[aria-live]"))),applyAttributeToOthers(tt,at,et,"aria-hidden")):function(){return null}};function r$4(a){var s,et,tt="";if(typeof a=="string"||typeof a=="number")tt+=a;else if(typeof a=="object")if(Array.isArray(a)){var at=a.length;for(s=0;s<at;s++)a[s]&&(et=r$4(a[s]))&&(tt&&(tt+=" "),tt+=et)}else for(et in a)a[et]&&(tt&&(tt+=" "),tt+=et);return tt}function clsx(){for(var a,s,et=0,tt="",at=arguments.length;et<at;et++)(a=arguments[et])&&(s=r$4(a))&&(tt&&(tt+=" "),tt+=s);return tt}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$7(){}function functionalUpdate(a,s){return typeof a=="function"?a(s):a}function isValidTimeout(a){return typeof a=="number"&&a>=0&&a!==1/0}function timeUntilStale(a,s){return Math.max(a+(s||0)-Date.now(),0)}function resolveStaleTime(a,s){return typeof a=="function"?a(s):a}function resolveEnabled(a,s){return typeof a=="function"?a(s):a}function matchQuery(a,s){const{type:et="all",exact:tt,fetchStatus:at,predicate:ct,queryKey:ut,stale:bt}=a;if(ut){if(tt){if(s.queryHash!==hashQueryKeyByOptions(ut,s.options))return!1}else if(!partialMatchKey(s.queryKey,ut))return!1}if(et!=="all"){const wt=s.isActive();if(et==="active"&&!wt||et==="inactive"&&wt)return!1}return!(typeof bt=="boolean"&&s.isStale()!==bt||at&&at!==s.state.fetchStatus||ct&&!ct(s))}function matchMutation(a,s){const{exact:et,status:tt,predicate:at,mutationKey:ct}=a;if(ct){if(!s.options.mutationKey)return!1;if(et){if(hashKey(s.options.mutationKey)!==hashKey(ct))return!1}else if(!partialMatchKey(s.options.mutationKey,ct))return!1}return!(tt&&s.state.status!==tt||at&&!at(s))}function hashQueryKeyByOptions(a,s){return((s==null?void 0:s.queryKeyHashFn)||hashKey)(a)}function hashKey(a){return JSON.stringify(a,(s,et)=>isPlainObject$2(et)?Object.keys(et).sort().reduce((tt,at)=>(tt[at]=et[at],tt),{}):et)}function partialMatchKey(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?!Object.keys(s).some(et=>!partialMatchKey(a[et],s[et])):!1}function replaceEqualDeep(a,s){if(a===s)return a;const et=isPlainArray(a)&&isPlainArray(s);if(et||isPlainObject$2(a)&&isPlainObject$2(s)){const tt=et?a:Object.keys(a),at=tt.length,ct=et?s:Object.keys(s),ut=ct.length,bt=et?[]:{};let wt=0;for(let Et=0;Et<ut;Et++){const Ft=et?Et:ct[Et];(!et&&tt.includes(Ft)||et)&&a[Ft]===void 0&&s[Ft]===void 0?(bt[Ft]=void 0,wt++):(bt[Ft]=replaceEqualDeep(a[Ft],s[Ft]),bt[Ft]===a[Ft]&&a[Ft]!==void 0&&wt++)}return at===ut&&wt===at?a:bt}return s}function shallowEqualObjects(a,s){if(!s||Object.keys(a).length!==Object.keys(s).length)return!1;for(const et in a)if(a[et]!==s[et])return!1;return!0}function isPlainArray(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function isPlainObject$2(a){if(!hasObjectPrototype(a))return!1;const s=a.constructor;if(s===void 0)return!0;const et=s.prototype;return!(!hasObjectPrototype(et)||!et.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function hasObjectPrototype(a){return Object.prototype.toString.call(a)==="[object Object]"}function sleep$1(a){return new Promise(s=>{setTimeout(s,a)})}function replaceData(a,s,et){return typeof et.structuralSharing=="function"?et.structuralSharing(a,s):et.structuralSharing!==!1?replaceEqualDeep(a,s):s}function addToEnd(a,s,et=0){const tt=[...a,s];return et&&tt.length>et?tt.slice(1):tt}function addToStart(a,s,et=0){const tt=[s,...a];return et&&tt.length>et?tt.slice(0,-1):tt}var skipToken=Symbol();function ensureQueryFn(a,s){return!a.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!a.queryFn||a.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var Il,Zs,Kl,_d,FocusManager=(_d=class extends Subscribable{constructor(){super();fo(this,Il);fo(this,Zs);fo(this,Kl);Yn(this,Kl,s=>{if(!isServer&&window.addEventListener){const et=()=>s();return window.addEventListener("visibilitychange",et,!1),()=>{window.removeEventListener("visibilitychange",et)}}})}onSubscribe(){Mr(this,Zs)||this.setEventListener(Mr(this,Kl))}onUnsubscribe(){var s;this.hasListeners()||((s=Mr(this,Zs))==null||s.call(this),Yn(this,Zs,void 0))}setEventListener(s){var et;Yn(this,Kl,s),(et=Mr(this,Zs))==null||et.call(this),Yn(this,Zs,s(tt=>{typeof tt=="boolean"?this.setFocused(tt):this.onFocus()}))}setFocused(s){Mr(this,Il)!==s&&(Yn(this,Il,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(et=>{et(s)})}isFocused(){var s;return typeof Mr(this,Il)=="boolean"?Mr(this,Il):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Il=new WeakMap,Zs=new WeakMap,Kl=new WeakMap,_d),focusManager=new FocusManager,Yl,Qs,Xl,_f,OnlineManager=(_f=class extends Subscribable{constructor(){super();fo(this,Yl,!0);fo(this,Qs);fo(this,Xl);Yn(this,Xl,s=>{if(!isServer&&window.addEventListener){const et=()=>s(!0),tt=()=>s(!1);return window.addEventListener("online",et,!1),window.addEventListener("offline",tt,!1),()=>{window.removeEventListener("online",et),window.removeEventListener("offline",tt)}}})}onSubscribe(){Mr(this,Qs)||this.setEventListener(Mr(this,Xl))}onUnsubscribe(){var s;this.hasListeners()||((s=Mr(this,Qs))==null||s.call(this),Yn(this,Qs,void 0))}setEventListener(s){var et;Yn(this,Xl,s),(et=Mr(this,Qs))==null||et.call(this),Yn(this,Qs,s(this.setOnline.bind(this)))}setOnline(s){Mr(this,Yl)!==s&&(Yn(this,Yl,s),this.listeners.forEach(tt=>{tt(s)}))}isOnline(){return Mr(this,Yl)}},Yl=new WeakMap,Qs=new WeakMap,Xl=new WeakMap,_f),onlineManager=new OnlineManager;function pendingThenable(){let a,s;const et=new Promise((at,ct)=>{a=at,s=ct});et.status="pending",et.catch(()=>{});function tt(at){Object.assign(et,at),delete et.resolve,delete et.reject}return et.resolve=at=>{tt({status:"fulfilled",value:at}),a(at)},et.reject=at=>{tt({status:"rejected",reason:at}),s(at)},et}function defaultRetryDelay(a){return Math.min(1e3*2**a,3e4)}function canFetch(a){return(a??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(a){super("CancelledError"),this.revert=a==null?void 0:a.revert,this.silent=a==null?void 0:a.silent}};function isCancelledError(a){return a instanceof CancelledError}function createRetryer(a){let s=!1,et=0,tt=!1,at;const ct=pendingThenable(),ut=Yt=>{var er;tt||(Lt(new CancelledError(Yt)),(er=a.abort)==null||er.call(a))},bt=()=>{s=!0},wt=()=>{s=!1},Et=()=>focusManager.isFocused()&&(a.networkMode==="always"||onlineManager.isOnline())&&a.canRun(),Ft=()=>canFetch(a.networkMode)&&a.canRun(),jt=Yt=>{var er;tt||(tt=!0,(er=a.onSuccess)==null||er.call(a,Yt),at==null||at(),ct.resolve(Yt))},Lt=Yt=>{var er;tt||(tt=!0,(er=a.onError)==null||er.call(a,Yt),at==null||at(),ct.reject(Yt))},Ut=()=>new Promise(Yt=>{var er;at=tr=>{(tt||Et())&&Yt(tr)},(er=a.onPause)==null||er.call(a)}).then(()=>{var Yt;at=void 0,tt||(Yt=a.onContinue)==null||Yt.call(a)}),Vt=()=>{if(tt)return;let Yt;const er=et===0?a.initialPromise:void 0;try{Yt=er??a.fn()}catch(tr){Yt=Promise.reject(tr)}Promise.resolve(Yt).then(jt).catch(tr=>{var yr;if(tt)return;const nr=a.retry??(isServer?0:3),ir=a.retryDelay??defaultRetryDelay,lr=typeof ir=="function"?ir(et,tr):ir,pr=nr===!0||typeof nr=="number"&&et<nr||typeof nr=="function"&&nr(et,tr);if(s||!pr){Lt(tr);return}et++,(yr=a.onFail)==null||yr.call(a,et,tr),sleep$1(lr).then(()=>Et()?void 0:Ut()).then(()=>{s?Lt(tr):Vt()})})};return{promise:ct,cancel:ut,continue:()=>(at==null||at(),ct),cancelRetry:bt,continueRetry:wt,canStart:Ft,start:()=>(Ft()?Vt():Ut().then(Vt),ct)}}function createNotifyManager(){let a=[],s=0,et=bt=>{bt()},tt=bt=>{bt()},at=bt=>setTimeout(bt,0);const ct=bt=>{s?a.push(bt):at(()=>{et(bt)})},ut=()=>{const bt=a;a=[],bt.length&&at(()=>{tt(()=>{bt.forEach(wt=>{et(wt)})})})};return{batch:bt=>{let wt;s++;try{wt=bt()}finally{s--,s||ut()}return wt},batchCalls:bt=>(...wt)=>{ct(()=>{bt(...wt)})},schedule:ct,setNotifyFunction:bt=>{et=bt},setBatchNotifyFunction:bt=>{tt=bt},setScheduler:bt=>{at=bt}}}var notifyManager=createNotifyManager(),Pl,_h,Removable=(_h=class{constructor(){fo(this,Pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Yn(this,Pl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Mr(this,Pl)&&(clearTimeout(Mr(this,Pl)),Yn(this,Pl,void 0))}},Pl=new WeakMap,_h),Zl,Ql,$s,Ol,cs,gu,Dl,Cs,qs,ep,Query=(ep=class extends Removable{constructor(s){super();fo(this,Cs);fo(this,Zl);fo(this,Ql);fo(this,$s);fo(this,Ol);fo(this,cs);fo(this,gu);fo(this,Dl);Yn(this,Dl,!1),Yn(this,gu,s.defaultOptions),this.setOptions(s.options),this.observers=[],Yn(this,Ol,s.client),Yn(this,$s,Mr(this,Ol).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Yn(this,Zl,getDefaultState$1(this.options)),this.state=s.state??Mr(this,Zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=Mr(this,cs))==null?void 0:s.promise}setOptions(s){this.options={...Mr(this,gu),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Mr(this,$s).remove(this)}setData(s,et){const tt=replaceData(this.state.data,s,this.options);return to(this,Cs,qs).call(this,{data:tt,type:"success",dataUpdatedAt:et==null?void 0:et.updatedAt,manual:et==null?void 0:et.manual}),tt}setState(s,et){to(this,Cs,qs).call(this,{type:"setState",state:s,setStateOptions:et})}cancel(s){var tt,at;const et=(tt=Mr(this,cs))==null?void 0:tt.promise;return(at=Mr(this,cs))==null||at.cancel(s),et?et.then(noop$7).catch(noop$7):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Mr(this,Zl))}isActive(){return this.observers.some(s=>resolveEnabled(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,s)}onFocus(){var et;const s=this.observers.find(tt=>tt.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(et=Mr(this,cs))==null||et.continue()}onOnline(){var et;const s=this.observers.find(tt=>tt.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(et=Mr(this,cs))==null||et.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),Mr(this,$s).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(et=>et!==s),this.observers.length||(Mr(this,cs)&&(Mr(this,Dl)?Mr(this,cs).cancel({revert:!0}):Mr(this,cs).cancelRetry()),this.scheduleGc()),Mr(this,$s).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||to(this,Cs,qs).call(this,{type:"invalidate"})}fetch(s,et){var wt,Et,Ft;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(et!=null&&et.cancelRefetch))this.cancel({silent:!0});else if(Mr(this,cs))return Mr(this,cs).continueRetry(),Mr(this,cs).promise}if(s&&this.setOptions(s),!this.options.queryFn){const jt=this.observers.find(Lt=>Lt.options.queryFn);jt&&this.setOptions(jt.options)}const tt=new AbortController,at=jt=>{Object.defineProperty(jt,"signal",{enumerable:!0,get:()=>(Yn(this,Dl,!0),tt.signal)})},ct=()=>{const jt=ensureQueryFn(this.options,et),Lt={client:Mr(this,Ol),queryKey:this.queryKey,meta:this.meta};return at(Lt),Yn(this,Dl,!1),this.options.persister?this.options.persister(jt,Lt,this):jt(Lt)},ut={fetchOptions:et,options:this.options,queryKey:this.queryKey,client:Mr(this,Ol),state:this.state,fetchFn:ct};at(ut),(wt=this.options.behavior)==null||wt.onFetch(ut,this),Yn(this,Ql,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((Et=ut.fetchOptions)==null?void 0:Et.meta))&&to(this,Cs,qs).call(this,{type:"fetch",meta:(Ft=ut.fetchOptions)==null?void 0:Ft.meta});const bt=jt=>{var Lt,Ut,Vt,Yt;isCancelledError(jt)&&jt.silent||to(this,Cs,qs).call(this,{type:"error",error:jt}),isCancelledError(jt)||((Ut=(Lt=Mr(this,$s).config).onError)==null||Ut.call(Lt,jt,this),(Yt=(Vt=Mr(this,$s).config).onSettled)==null||Yt.call(Vt,this.state.data,jt,this)),this.scheduleGc()};return Yn(this,cs,createRetryer({initialPromise:et==null?void 0:et.initialPromise,fn:ut.fetchFn,abort:tt.abort.bind(tt),onSuccess:jt=>{var Lt,Ut,Vt,Yt;if(jt===void 0){bt(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(jt)}catch(er){bt(er);return}(Ut=(Lt=Mr(this,$s).config).onSuccess)==null||Ut.call(Lt,jt,this),(Yt=(Vt=Mr(this,$s).config).onSettled)==null||Yt.call(Vt,jt,this.state.error,this),this.scheduleGc()},onError:bt,onFail:(jt,Lt)=>{to(this,Cs,qs).call(this,{type:"failed",failureCount:jt,error:Lt})},onPause:()=>{to(this,Cs,qs).call(this,{type:"pause"})},onContinue:()=>{to(this,Cs,qs).call(this,{type:"continue"})},retry:ut.options.retry,retryDelay:ut.options.retryDelay,networkMode:ut.options.networkMode,canRun:()=>!0})),Mr(this,cs).start()}},Zl=new WeakMap,Ql=new WeakMap,$s=new WeakMap,Ol=new WeakMap,cs=new WeakMap,gu=new WeakMap,Dl=new WeakMap,Cs=new WeakSet,qs=function(s){const et=tt=>{switch(s.type){case"failed":return{...tt,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...tt,fetchStatus:"paused"};case"continue":return{...tt,fetchStatus:"fetching"};case"fetch":return{...tt,...fetchState(tt.data,this.options),fetchMeta:s.meta??null};case"success":return{...tt,data:s.data,dataUpdateCount:tt.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const at=s.error;return isCancelledError(at)&&at.revert&&Mr(this,Ql)?{...Mr(this,Ql),fetchStatus:"idle"}:{...tt,error:at,errorUpdateCount:tt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:tt.fetchFailureCount+1,fetchFailureReason:at,fetchStatus:"idle",status:"error"};case"invalidate":return{...tt,isInvalidated:!0};case"setState":return{...tt,...s.state}}};this.state=et(this.state),notifyManager.batch(()=>{this.observers.forEach(tt=>{tt.onQueryUpdate()}),Mr(this,$s).notify({query:this,type:"updated",action:s})})},ep);function fetchState(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,et=s!==void 0,tt=et?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:et?tt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:et?"success":"pending",fetchStatus:"idle"}}var Bs,tp,QueryCache=(tp=class extends Subscribable{constructor(s={}){super();fo(this,Bs);this.config=s,Yn(this,Bs,new Map)}build(s,et,tt){const at=et.queryKey,ct=et.queryHash??hashQueryKeyByOptions(at,et);let ut=this.get(ct);return ut||(ut=new Query({client:s,queryKey:at,queryHash:ct,options:s.defaultQueryOptions(et),state:tt,defaultOptions:s.getQueryDefaults(at)}),this.add(ut)),ut}add(s){Mr(this,Bs).has(s.queryHash)||(Mr(this,Bs).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const et=Mr(this,Bs).get(s.queryHash);et&&(s.destroy(),et===s&&Mr(this,Bs).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return Mr(this,Bs).get(s)}getAll(){return[...Mr(this,Bs).values()]}find(s){const et={exact:!0,...s};return this.getAll().find(tt=>matchQuery(et,tt))}findAll(s={}){const et=this.getAll();return Object.keys(s).length>0?et.filter(tt=>matchQuery(s,tt)):et}notify(s){notifyManager.batch(()=>{this.listeners.forEach(et=>{et(s)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Bs=new WeakMap,tp),Fs,ds,Ml,js,Gs,rp,Mutation=(rp=class extends Removable{constructor(s){super();fo(this,js);fo(this,Fs);fo(this,ds);fo(this,Ml);this.mutationId=s.mutationId,Yn(this,ds,s.mutationCache),Yn(this,Fs,[]),this.state=s.state||getDefaultState(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){Mr(this,Fs).includes(s)||(Mr(this,Fs).push(s),this.clearGcTimeout(),Mr(this,ds).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Yn(this,Fs,Mr(this,Fs).filter(et=>et!==s)),this.scheduleGc(),Mr(this,ds).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){Mr(this,Fs).length||(this.state.status==="pending"?this.scheduleGc():Mr(this,ds).remove(this))}continue(){var s;return((s=Mr(this,Ml))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt,er,tr,nr,ir,lr,pr,yr,br;Yn(this,Ml,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(xr,Er)=>{to(this,js,Gs).call(this,{type:"failed",failureCount:xr,error:Er})},onPause:()=>{to(this,js,Gs).call(this,{type:"pause"})},onContinue:()=>{to(this,js,Gs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Mr(this,ds).canRun(this)}));const et=this.state.status==="pending",tt=!Mr(this,Ml).canStart();try{if(!et){to(this,js,Gs).call(this,{type:"pending",variables:s,isPaused:tt}),await((ct=(at=Mr(this,ds).config).onMutate)==null?void 0:ct.call(at,s,this));const Er=await((bt=(ut=this.options).onMutate)==null?void 0:bt.call(ut,s));Er!==this.state.context&&to(this,js,Gs).call(this,{type:"pending",context:Er,variables:s,isPaused:tt})}const xr=await Mr(this,Ml).start();return await((Et=(wt=Mr(this,ds).config).onSuccess)==null?void 0:Et.call(wt,xr,s,this.state.context,this)),await((jt=(Ft=this.options).onSuccess)==null?void 0:jt.call(Ft,xr,s,this.state.context)),await((Ut=(Lt=Mr(this,ds).config).onSettled)==null?void 0:Ut.call(Lt,xr,null,this.state.variables,this.state.context,this)),await((Yt=(Vt=this.options).onSettled)==null?void 0:Yt.call(Vt,xr,null,s,this.state.context)),to(this,js,Gs).call(this,{type:"success",data:xr}),xr}catch(xr){try{throw await((tr=(er=Mr(this,ds).config).onError)==null?void 0:tr.call(er,xr,s,this.state.context,this)),await((ir=(nr=this.options).onError)==null?void 0:ir.call(nr,xr,s,this.state.context)),await((pr=(lr=Mr(this,ds).config).onSettled)==null?void 0:pr.call(lr,void 0,xr,this.state.variables,this.state.context,this)),await((br=(yr=this.options).onSettled)==null?void 0:br.call(yr,void 0,xr,s,this.state.context)),xr}finally{to(this,js,Gs).call(this,{type:"error",error:xr})}}finally{Mr(this,ds).runNext(this)}}},Fs=new WeakMap,ds=new WeakMap,Ml=new WeakMap,js=new WeakSet,Gs=function(s){const et=tt=>{switch(s.type){case"failed":return{...tt,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...tt,isPaused:!0};case"continue":return{...tt,isPaused:!1};case"pending":return{...tt,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...tt,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...tt,data:void 0,error:s.error,failureCount:tt.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=et(this.state),notifyManager.batch(()=>{Mr(this,Fs).forEach(tt=>{tt.onMutationUpdate(s)}),Mr(this,ds).notify({mutation:this,type:"updated",action:s})})},rp);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Us,Ts,_u,np,MutationCache=(np=class extends Subscribable{constructor(s={}){super();fo(this,Us);fo(this,Ts);fo(this,_u);this.config=s,Yn(this,Us,new Set),Yn(this,Ts,new Map),Yn(this,_u,0)}build(s,et,tt){const at=new Mutation({mutationCache:this,mutationId:++Rl(this,_u)._,options:s.defaultMutationOptions(et),state:tt});return this.add(at),at}add(s){Mr(this,Us).add(s);const et=scopeFor(s);if(typeof et=="string"){const tt=Mr(this,Ts).get(et);tt?tt.push(s):Mr(this,Ts).set(et,[s])}this.notify({type:"added",mutation:s})}remove(s){if(Mr(this,Us).delete(s)){const et=scopeFor(s);if(typeof et=="string"){const tt=Mr(this,Ts).get(et);if(tt)if(tt.length>1){const at=tt.indexOf(s);at!==-1&&tt.splice(at,1)}else tt[0]===s&&Mr(this,Ts).delete(et)}}this.notify({type:"removed",mutation:s})}canRun(s){const et=scopeFor(s);if(typeof et=="string"){const tt=Mr(this,Ts).get(et),at=tt==null?void 0:tt.find(ct=>ct.state.status==="pending");return!at||at===s}else return!0}runNext(s){var tt;const et=scopeFor(s);if(typeof et=="string"){const at=(tt=Mr(this,Ts).get(et))==null?void 0:tt.find(ct=>ct!==s&&ct.state.isPaused);return(at==null?void 0:at.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{Mr(this,Us).forEach(s=>{this.notify({type:"removed",mutation:s})}),Mr(this,Us).clear(),Mr(this,Ts).clear()})}getAll(){return Array.from(Mr(this,Us))}find(s){const et={exact:!0,...s};return this.getAll().find(tt=>matchMutation(et,tt))}findAll(s={}){return this.getAll().filter(et=>matchMutation(s,et))}notify(s){notifyManager.batch(()=>{this.listeners.forEach(et=>{et(s)})})}resumePausedMutations(){const s=this.getAll().filter(et=>et.state.isPaused);return notifyManager.batch(()=>Promise.all(s.map(et=>et.continue().catch(noop$7))))}},Us=new WeakMap,Ts=new WeakMap,_u=new WeakMap,np);function scopeFor(a){var s;return(s=a.options.scope)==null?void 0:s.id}function infiniteQueryBehavior(a){return{onFetch:(s,et)=>{var Ft,jt,Lt,Ut,Vt;const tt=s.options,at=(Lt=(jt=(Ft=s.fetchOptions)==null?void 0:Ft.meta)==null?void 0:jt.fetchMore)==null?void 0:Lt.direction,ct=((Ut=s.state.data)==null?void 0:Ut.pages)||[],ut=((Vt=s.state.data)==null?void 0:Vt.pageParams)||[];let bt={pages:[],pageParams:[]},wt=0;const Et=async()=>{let Yt=!1;const er=ir=>{Object.defineProperty(ir,"signal",{enumerable:!0,get:()=>(s.signal.aborted?Yt=!0:s.signal.addEventListener("abort",()=>{Yt=!0}),s.signal)})},tr=ensureQueryFn(s.options,s.fetchOptions),nr=async(ir,lr,pr)=>{if(Yt)return Promise.reject();if(lr==null&&ir.pages.length)return Promise.resolve(ir);const yr={client:s.client,queryKey:s.queryKey,pageParam:lr,direction:pr?"backward":"forward",meta:s.options.meta};er(yr);const br=await tr(yr),{maxPages:xr}=s.options,Er=pr?addToStart:addToEnd;return{pages:Er(ir.pages,br,xr),pageParams:Er(ir.pageParams,lr,xr)}};if(at&&ct.length){const ir=at==="backward",lr=ir?getPreviousPageParam:getNextPageParam,pr={pages:ct,pageParams:ut},yr=lr(tt,pr);bt=await nr(pr,yr,ir)}else{const ir=a??ct.length;do{const lr=wt===0?ut[0]??tt.initialPageParam:getNextPageParam(tt,bt);if(wt>0&&lr==null)break;bt=await nr(bt,lr),wt++}while(wt<ir)}return bt};s.options.persister?s.fetchFn=()=>{var Yt,er;return(er=(Yt=s.options).persister)==null?void 0:er.call(Yt,Et,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},et)}:s.fetchFn=Et}}}function getNextPageParam(a,{pages:s,pageParams:et}){const tt=s.length-1;return s.length>0?a.getNextPageParam(s[tt],s,et[tt],et):void 0}function getPreviousPageParam(a,{pages:s,pageParams:et}){var tt;return s.length>0?(tt=a.getPreviousPageParam)==null?void 0:tt.call(a,s[0],s,et[0],et):void 0}var es,Js,_l,Jl,_c,yl,eu,tu,ip,QueryClient=(ip=class{constructor(a={}){fo(this,es);fo(this,Js);fo(this,_l);fo(this,Jl);fo(this,_c);fo(this,yl);fo(this,eu);fo(this,tu);Yn(this,es,a.queryCache||new QueryCache),Yn(this,Js,a.mutationCache||new MutationCache),Yn(this,_l,a.defaultOptions||{}),Yn(this,Jl,new Map),Yn(this,_c,new Map),Yn(this,yl,0)}mount(){Rl(this,yl)._++,Mr(this,yl)===1&&(Yn(this,eu,focusManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),Mr(this,es).onFocus())})),Yn(this,tu,onlineManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),Mr(this,es).onOnline())})))}unmount(){var a,s;Rl(this,yl)._--,Mr(this,yl)===0&&((a=Mr(this,eu))==null||a.call(this),Yn(this,eu,void 0),(s=Mr(this,tu))==null||s.call(this),Yn(this,tu,void 0))}isFetching(a){return Mr(this,es).findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return Mr(this,Js).findAll({...a,status:"pending"}).length}getQueryData(a){var et;const s=this.defaultQueryOptions({queryKey:a});return(et=Mr(this,es).get(s.queryHash))==null?void 0:et.state.data}ensureQueryData(a){const s=this.defaultQueryOptions(a),et=Mr(this,es).build(this,s),tt=et.state.data;return tt===void 0?this.fetchQuery(a):(a.revalidateIfStale&&et.isStaleByTime(resolveStaleTime(s.staleTime,et))&&this.prefetchQuery(s),Promise.resolve(tt))}getQueriesData(a){return Mr(this,es).findAll(a).map(({queryKey:s,state:et})=>{const tt=et.data;return[s,tt]})}setQueryData(a,s,et){const tt=this.defaultQueryOptions({queryKey:a}),at=Mr(this,es).get(tt.queryHash),ct=at==null?void 0:at.state.data,ut=functionalUpdate(s,ct);if(ut!==void 0)return Mr(this,es).build(this,tt).setData(ut,{...et,manual:!0})}setQueriesData(a,s,et){return notifyManager.batch(()=>Mr(this,es).findAll(a).map(({queryKey:tt})=>[tt,this.setQueryData(tt,s,et)]))}getQueryState(a){var et;const s=this.defaultQueryOptions({queryKey:a});return(et=Mr(this,es).get(s.queryHash))==null?void 0:et.state}removeQueries(a){const s=Mr(this,es);notifyManager.batch(()=>{s.findAll(a).forEach(et=>{s.remove(et)})})}resetQueries(a,s){const et=Mr(this,es);return notifyManager.batch(()=>(et.findAll(a).forEach(tt=>{tt.reset()}),this.refetchQueries({type:"active",...a},s)))}cancelQueries(a,s={}){const et={revert:!0,...s},tt=notifyManager.batch(()=>Mr(this,es).findAll(a).map(at=>at.cancel(et)));return Promise.all(tt).then(noop$7).catch(noop$7)}invalidateQueries(a,s={}){return notifyManager.batch(()=>(Mr(this,es).findAll(a).forEach(et=>{et.invalidate()}),(a==null?void 0:a.refetchType)==="none"?Promise.resolve():this.refetchQueries({...a,type:(a==null?void 0:a.refetchType)??(a==null?void 0:a.type)??"active"},s)))}refetchQueries(a,s={}){const et={...s,cancelRefetch:s.cancelRefetch??!0},tt=notifyManager.batch(()=>Mr(this,es).findAll(a).filter(at=>!at.isDisabled()).map(at=>{let ct=at.fetch(void 0,et);return et.throwOnError||(ct=ct.catch(noop$7)),at.state.fetchStatus==="paused"?Promise.resolve():ct}));return Promise.all(tt).then(noop$7)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const et=Mr(this,es).build(this,s);return et.isStaleByTime(resolveStaleTime(s.staleTime,et))?et.fetch(s):Promise.resolve(et.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(noop$7).catch(noop$7)}fetchInfiniteQuery(a){return a.behavior=infiniteQueryBehavior(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(noop$7).catch(noop$7)}ensureInfiniteQueryData(a){return a.behavior=infiniteQueryBehavior(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return onlineManager.isOnline()?Mr(this,Js).resumePausedMutations():Promise.resolve()}getQueryCache(){return Mr(this,es)}getMutationCache(){return Mr(this,Js)}getDefaultOptions(){return Mr(this,_l)}setDefaultOptions(a){Yn(this,_l,a)}setQueryDefaults(a,s){Mr(this,Jl).set(hashKey(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...Mr(this,Jl).values()],et={};return s.forEach(tt=>{partialMatchKey(a,tt.queryKey)&&Object.assign(et,tt.defaultOptions)}),et}setMutationDefaults(a,s){Mr(this,_c).set(hashKey(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...Mr(this,_c).values()],et={};return s.forEach(tt=>{partialMatchKey(a,tt.mutationKey)&&Object.assign(et,tt.defaultOptions)}),et}defaultQueryOptions(a){if(a._defaulted)return a;const s={...Mr(this,_l).queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=hashQueryKeyByOptions(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===skipToken&&(s.enabled=!1),s}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...Mr(this,_l).mutations,...(a==null?void 0:a.mutationKey)&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){Mr(this,es).clear(),Mr(this,Js).clear()}},es=new WeakMap,Js=new WeakMap,_l=new WeakMap,Jl=new WeakMap,_c=new WeakMap,yl=new WeakMap,eu=new WeakMap,tu=new WeakMap,ip),gs,Fo,vu,fs,Bl,ru,xl,Ns,bu,nu,iu,Fl,Nl,wl,ou,Ho,pu,Iu,Pu,Ou,Du,Mu,Bu,Fu,Tp,op,QueryObserver=(op=class extends Subscribable{constructor(s,et){super();fo(this,Ho);fo(this,gs);fo(this,Fo);fo(this,vu);fo(this,fs);fo(this,Bl);fo(this,ru);fo(this,xl);fo(this,Ns);fo(this,bu);fo(this,nu);fo(this,iu);fo(this,Fl);fo(this,Nl);fo(this,wl);fo(this,ou,new Set);this.options=et,Yn(this,gs,s),Yn(this,Ns,null),Yn(this,xl,pendingThenable()),this.options.experimental_prefetchInRender||Mr(this,xl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(et)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Mr(this,Fo).addObserver(this),shouldFetchOnMount(Mr(this,Fo),this.options)?to(this,Ho,pu).call(this):this.updateResult(),to(this,Ho,Du).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Mr(this,Fo),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Mr(this,Fo),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,to(this,Ho,Mu).call(this),to(this,Ho,Bu).call(this),Mr(this,Fo).removeObserver(this)}setOptions(s,et){const tt=this.options,at=Mr(this,Fo);if(this.options=Mr(this,gs).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,Mr(this,Fo))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");to(this,Ho,Fu).call(this),Mr(this,Fo).setOptions(this.options),tt._defaulted&&!shallowEqualObjects(this.options,tt)&&Mr(this,gs).getQueryCache().notify({type:"observerOptionsUpdated",query:Mr(this,Fo),observer:this});const ct=this.hasListeners();ct&&shouldFetchOptionally(Mr(this,Fo),at,this.options,tt)&&to(this,Ho,pu).call(this),this.updateResult(et),ct&&(Mr(this,Fo)!==at||resolveEnabled(this.options.enabled,Mr(this,Fo))!==resolveEnabled(tt.enabled,Mr(this,Fo))||resolveStaleTime(this.options.staleTime,Mr(this,Fo))!==resolveStaleTime(tt.staleTime,Mr(this,Fo)))&&to(this,Ho,Iu).call(this);const ut=to(this,Ho,Pu).call(this);ct&&(Mr(this,Fo)!==at||resolveEnabled(this.options.enabled,Mr(this,Fo))!==resolveEnabled(tt.enabled,Mr(this,Fo))||ut!==Mr(this,wl))&&to(this,Ho,Ou).call(this,ut)}getOptimisticResult(s){const et=Mr(this,gs).getQueryCache().build(Mr(this,gs),s),tt=this.createResult(et,s);return shouldAssignObserverCurrentProperties(this,tt)&&(Yn(this,fs,tt),Yn(this,ru,this.options),Yn(this,Bl,Mr(this,Fo).state)),tt}getCurrentResult(){return Mr(this,fs)}trackResult(s,et){const tt={};return Object.keys(s).forEach(at=>{Object.defineProperty(tt,at,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(at),et==null||et(at),s[at])})}),tt}trackProp(s){Mr(this,ou).add(s)}getCurrentQuery(){return Mr(this,Fo)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const et=Mr(this,gs).defaultQueryOptions(s),tt=Mr(this,gs).getQueryCache().build(Mr(this,gs),et);return tt.fetch().then(()=>this.createResult(tt,et))}fetch(s){return to(this,Ho,pu).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),Mr(this,fs)))}createResult(s,et){var xr;const tt=Mr(this,Fo),at=this.options,ct=Mr(this,fs),ut=Mr(this,Bl),bt=Mr(this,ru),Et=s!==tt?s.state:Mr(this,vu),{state:Ft}=s;let jt={...Ft},Lt=!1,Ut;if(et._optimisticResults){const Er=this.hasListeners(),$r=!Er&&shouldFetchOnMount(s,et),Sr=Er&&shouldFetchOptionally(s,tt,et,at);($r||Sr)&&(jt={...jt,...fetchState(Ft.data,s.options)}),et._optimisticResults==="isRestoring"&&(jt.fetchStatus="idle")}let{error:Vt,errorUpdatedAt:Yt,status:er}=jt;if(et.select&&jt.data!==void 0)if(ct&&jt.data===(ut==null?void 0:ut.data)&&et.select===Mr(this,bu))Ut=Mr(this,nu);else try{Yn(this,bu,et.select),Ut=et.select(jt.data),Ut=replaceData(ct==null?void 0:ct.data,Ut,et),Yn(this,nu,Ut),Yn(this,Ns,null)}catch(Er){Yn(this,Ns,Er)}else Ut=jt.data;if(et.placeholderData!==void 0&&Ut===void 0&&er==="pending"){let Er;if(ct!=null&&ct.isPlaceholderData&&et.placeholderData===(bt==null?void 0:bt.placeholderData))Er=ct.data;else if(Er=typeof et.placeholderData=="function"?et.placeholderData((xr=Mr(this,iu))==null?void 0:xr.state.data,Mr(this,iu)):et.placeholderData,et.select&&Er!==void 0)try{Er=et.select(Er),Yn(this,Ns,null)}catch($r){Yn(this,Ns,$r)}Er!==void 0&&(er="success",Ut=replaceData(ct==null?void 0:ct.data,Er,et),Lt=!0)}Mr(this,Ns)&&(Vt=Mr(this,Ns),Ut=Mr(this,nu),Yt=Date.now(),er="error");const tr=jt.fetchStatus==="fetching",nr=er==="pending",ir=er==="error",lr=nr&&tr,pr=Ut!==void 0,br={status:er,fetchStatus:jt.fetchStatus,isPending:nr,isSuccess:er==="success",isError:ir,isInitialLoading:lr,isLoading:lr,data:Ut,dataUpdatedAt:jt.dataUpdatedAt,error:Vt,errorUpdatedAt:Yt,failureCount:jt.fetchFailureCount,failureReason:jt.fetchFailureReason,errorUpdateCount:jt.errorUpdateCount,isFetched:jt.dataUpdateCount>0||jt.errorUpdateCount>0,isFetchedAfterMount:jt.dataUpdateCount>Et.dataUpdateCount||jt.errorUpdateCount>Et.errorUpdateCount,isFetching:tr,isRefetching:tr&&!nr,isLoadingError:ir&&!pr,isPaused:jt.fetchStatus==="paused",isPlaceholderData:Lt,isRefetchError:ir&&pr,isStale:isStale(s,et),refetch:this.refetch,promise:Mr(this,xl)};if(this.options.experimental_prefetchInRender){const Er=fr=>{br.status==="error"?fr.reject(br.error):br.data!==void 0&&fr.resolve(br.data)},$r=()=>{const fr=Yn(this,xl,br.promise=pendingThenable());Er(fr)},Sr=Mr(this,xl);switch(Sr.status){case"pending":s.queryHash===tt.queryHash&&Er(Sr);break;case"fulfilled":(br.status==="error"||br.data!==Sr.value)&&$r();break;case"rejected":(br.status!=="error"||br.error!==Sr.reason)&&$r();break}}return br}updateResult(s){const et=Mr(this,fs),tt=this.createResult(Mr(this,Fo),this.options);if(Yn(this,Bl,Mr(this,Fo).state),Yn(this,ru,this.options),Mr(this,Bl).data!==void 0&&Yn(this,iu,Mr(this,Fo)),shallowEqualObjects(tt,et))return;Yn(this,fs,tt);const at={},ct=()=>{if(!et)return!0;const{notifyOnChangeProps:ut}=this.options,bt=typeof ut=="function"?ut():ut;if(bt==="all"||!bt&&!Mr(this,ou).size)return!0;const wt=new Set(bt??Mr(this,ou));return this.options.throwOnError&&wt.add("error"),Object.keys(Mr(this,fs)).some(Et=>{const Ft=Et;return Mr(this,fs)[Ft]!==et[Ft]&&wt.has(Ft)})};(s==null?void 0:s.listeners)!==!1&&ct()&&(at.listeners=!0),to(this,Ho,Tp).call(this,{...at,...s})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&to(this,Ho,Du).call(this)}},gs=new WeakMap,Fo=new WeakMap,vu=new WeakMap,fs=new WeakMap,Bl=new WeakMap,ru=new WeakMap,xl=new WeakMap,Ns=new WeakMap,bu=new WeakMap,nu=new WeakMap,iu=new WeakMap,Fl=new WeakMap,Nl=new WeakMap,wl=new WeakMap,ou=new WeakMap,Ho=new WeakSet,pu=function(s){to(this,Ho,Fu).call(this);let et=Mr(this,Fo).fetch(this.options,s);return s!=null&&s.throwOnError||(et=et.catch(noop$7)),et},Iu=function(){to(this,Ho,Mu).call(this);const s=resolveStaleTime(this.options.staleTime,Mr(this,Fo));if(isServer||Mr(this,fs).isStale||!isValidTimeout(s))return;const tt=timeUntilStale(Mr(this,fs).dataUpdatedAt,s)+1;Yn(this,Fl,setTimeout(()=>{Mr(this,fs).isStale||this.updateResult()},tt))},Pu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Mr(this,Fo)):this.options.refetchInterval)??!1},Ou=function(s){to(this,Ho,Bu).call(this),Yn(this,wl,s),!(isServer||resolveEnabled(this.options.enabled,Mr(this,Fo))===!1||!isValidTimeout(Mr(this,wl))||Mr(this,wl)===0)&&Yn(this,Nl,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&to(this,Ho,pu).call(this)},Mr(this,wl)))},Du=function(){to(this,Ho,Iu).call(this),to(this,Ho,Ou).call(this,to(this,Ho,Pu).call(this))},Mu=function(){Mr(this,Fl)&&(clearTimeout(Mr(this,Fl)),Yn(this,Fl,void 0))},Bu=function(){Mr(this,Nl)&&(clearInterval(Mr(this,Nl)),Yn(this,Nl,void 0))},Fu=function(){const s=Mr(this,gs).getQueryCache().build(Mr(this,gs),this.options);if(s===Mr(this,Fo))return;const et=Mr(this,Fo);Yn(this,Fo,s),Yn(this,vu,s.state),this.hasListeners()&&(et==null||et.removeObserver(this),s.addObserver(this))},Tp=function(s){notifyManager.batch(()=>{s.listeners&&this.listeners.forEach(et=>{et(Mr(this,fs))}),Mr(this,gs).getQueryCache().notify({query:Mr(this,Fo),type:"observerResultsUpdated"})})},op);function shouldLoadOnMount(a,s){return resolveEnabled(s.enabled,a)!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&s.retryOnMount===!1)}function shouldFetchOnMount(a,s){return shouldLoadOnMount(a,s)||a.state.data!==void 0&&shouldFetchOn(a,s,s.refetchOnMount)}function shouldFetchOn(a,s,et){if(resolveEnabled(s.enabled,a)!==!1){const tt=typeof et=="function"?et(a):et;return tt==="always"||tt!==!1&&isStale(a,s)}return!1}function shouldFetchOptionally(a,s,et,tt){return(a!==s||resolveEnabled(tt.enabled,a)===!1)&&(!et.suspense||a.state.status!=="error")&&isStale(a,et)}function isStale(a,s){return resolveEnabled(s.enabled,a)!==!1&&a.isStaleByTime(resolveStaleTime(s.staleTime,a))}function shouldAssignObserverCurrentProperties(a,s){return!shallowEqualObjects(a.getCurrentResult(),s)}var Sl,$l,_s,Vs,Hs,wu,ju,ap,MutationObserver$1=(ap=class extends Subscribable{constructor(et,tt){super();fo(this,Hs);fo(this,Sl);fo(this,$l);fo(this,_s);fo(this,Vs);Yn(this,Sl,et),this.setOptions(tt),this.bindMethods(),to(this,Hs,wu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(et){var at;const tt=this.options;this.options=Mr(this,Sl).defaultMutationOptions(et),shallowEqualObjects(this.options,tt)||Mr(this,Sl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Mr(this,_s),observer:this}),tt!=null&&tt.mutationKey&&this.options.mutationKey&&hashKey(tt.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((at=Mr(this,_s))==null?void 0:at.state.status)==="pending"&&Mr(this,_s).setOptions(this.options)}onUnsubscribe(){var et;this.hasListeners()||(et=Mr(this,_s))==null||et.removeObserver(this)}onMutationUpdate(et){to(this,Hs,wu).call(this),to(this,Hs,ju).call(this,et)}getCurrentResult(){return Mr(this,$l)}reset(){var et;(et=Mr(this,_s))==null||et.removeObserver(this),Yn(this,_s,void 0),to(this,Hs,wu).call(this),to(this,Hs,ju).call(this)}mutate(et,tt){var at;return Yn(this,Vs,tt),(at=Mr(this,_s))==null||at.removeObserver(this),Yn(this,_s,Mr(this,Sl).getMutationCache().build(Mr(this,Sl),this.options)),Mr(this,_s).addObserver(this),Mr(this,_s).execute(et)}},Sl=new WeakMap,$l=new WeakMap,_s=new WeakMap,Vs=new WeakMap,Hs=new WeakSet,wu=function(){var tt;const et=((tt=Mr(this,_s))==null?void 0:tt.state)??getDefaultState();Yn(this,$l,{...et,isPending:et.status==="pending",isSuccess:et.status==="success",isError:et.status==="error",isIdle:et.status==="idle",mutate:this.mutate,reset:this.reset})},ju=function(et){notifyManager.batch(()=>{var tt,at,ct,ut,bt,wt,Et,Ft;if(Mr(this,Vs)&&this.hasListeners()){const jt=Mr(this,$l).variables,Lt=Mr(this,$l).context;(et==null?void 0:et.type)==="success"?((at=(tt=Mr(this,Vs)).onSuccess)==null||at.call(tt,et.data,jt,Lt),(ut=(ct=Mr(this,Vs)).onSettled)==null||ut.call(ct,et.data,null,jt,Lt)):(et==null?void 0:et.type)==="error"&&((wt=(bt=Mr(this,Vs)).onError)==null||wt.call(bt,et.error,jt,Lt),(Ft=(Et=Mr(this,Vs)).onSettled)==null||Ft.call(Et,void 0,et.error,jt,Lt))}this.listeners.forEach(jt=>{jt(Mr(this,$l))})})},ap),QueryClientContext=reactExports.createContext(void 0),useQueryClient=a=>{const s=reactExports.useContext(QueryClientContext);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},QueryClientProvider=({client:a,children:s})=>(reactExports.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:a,children:s})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(a,s){return typeof a=="function"?a(...s):!!a}function noop$6(){}var ensurePreventErrorBoundaryRetry=(a,s)=>{(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&(s.isReset()||(a.retryOnMount=!1))},useClearResetErrorBoundary=a=>{reactExports.useEffect(()=>{a.clearReset()},[a])},getHasError=({result:a,errorResetBoundary:s,throwOnError:et,query:tt,suspense:at})=>a.isError&&!s.isReset()&&!a.isFetching&&tt&&(at&&a.data===void 0||shouldThrowError(et,[a.error,tt])),ensureSuspenseTimers=a=>{const s=a.staleTime;a.suspense&&(a.staleTime=typeof s=="function"?(...et)=>Math.max(s(...et),1e3):Math.max(s??1e3,1e3),typeof a.gcTime=="number"&&(a.gcTime=Math.max(a.gcTime,1e3)))},willFetch=(a,s)=>a.isLoading&&a.isFetching&&!s,shouldSuspend=(a,s)=>(a==null?void 0:a.suspense)&&s.isPending,fetchOptimistic=(a,s,et)=>s.fetchOptimistic(a).catch(()=>{et.clearReset()});function useBaseQuery(a,s,et){var jt,Lt,Ut,Vt,Yt;const tt=useQueryClient(),at=useIsRestoring(),ct=useQueryErrorResetBoundary(),ut=tt.defaultQueryOptions(a);(Lt=(jt=tt.getDefaultOptions().queries)==null?void 0:jt._experimental_beforeQuery)==null||Lt.call(jt,ut),ut._optimisticResults=at?"isRestoring":"optimistic",ensureSuspenseTimers(ut),ensurePreventErrorBoundaryRetry(ut,ct),useClearResetErrorBoundary(ct);const bt=!tt.getQueryCache().get(ut.queryHash),[wt]=reactExports.useState(()=>new s(tt,ut)),Et=wt.getOptimisticResult(ut),Ft=!at&&a.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(er=>{const tr=Ft?wt.subscribe(notifyManager.batchCalls(er)):noop$6;return wt.updateResult(),tr},[wt,Ft]),()=>wt.getCurrentResult(),()=>wt.getCurrentResult()),reactExports.useEffect(()=>{wt.setOptions(ut,{listeners:!1})},[ut,wt]),shouldSuspend(ut,Et))throw fetchOptimistic(ut,wt,ct);if(getHasError({result:Et,errorResetBoundary:ct,throwOnError:ut.throwOnError,query:tt.getQueryCache().get(ut.queryHash),suspense:ut.suspense}))throw Et.error;if((Vt=(Ut=tt.getDefaultOptions().queries)==null?void 0:Ut._experimental_afterQuery)==null||Vt.call(Ut,ut,Et),ut.experimental_prefetchInRender&&!isServer&&willFetch(Et,at)){const er=bt?fetchOptimistic(ut,wt,ct):(Yt=tt.getQueryCache().get(ut.queryHash))==null?void 0:Yt.promise;er==null||er.catch(noop$6).finally(()=>{wt.updateResult()})}return ut.notifyOnChangeProps?Et:wt.trackResult(Et)}function useQuery(a,s){return useBaseQuery(a,QueryObserver)}function useMutation(a,s){const et=useQueryClient(),[tt]=reactExports.useState(()=>new MutationObserver$1(et,a));reactExports.useEffect(()=>{tt.setOptions(a)},[tt,a]);const at=reactExports.useSyncExternalStore(reactExports.useCallback(ut=>tt.subscribe(notifyManager.batchCalls(ut)),[tt]),()=>tt.getCurrentResult(),()=>tt.getCurrentResult()),ct=reactExports.useCallback((ut,bt)=>{tt.mutate(ut,bt).catch(noop$6)},[tt]);if(at.error&&shouldThrowError(tt.options.throwOnError,[at.error]))throw at.error;return{...at,mutate:ct,mutateAsync:at.mutate}}const __vite_import_meta_env__$2={},createStoreImpl=a=>{let s;const et=new Set,tt=(Ft,jt)=>{const Lt=typeof Ft=="function"?Ft(s):Ft;if(!Object.is(Lt,s)){const Ut=s;s=jt??(typeof Lt!="object"||Lt===null)?Lt:Object.assign({},s,Lt),et.forEach(Vt=>Vt(s,Ut))}},at=()=>s,wt={setState:tt,getState:at,getInitialState:()=>Et,subscribe:Ft=>(et.add(Ft),()=>et.delete(Ft)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),et.clear()}},Et=s=a(tt,at,wt);return wt},createStore$1=a=>a?createStoreImpl(a):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(a,s){var et=s(),tt=useState({inst:{value:et,getSnapshot:s}}),at=tt[0].inst,ct=tt[1];return useLayoutEffect(function(){at.value=et,at.getSnapshot=s,checkIfSnapshotChanged(at)&&ct({inst:at})},[a,et,s]),useEffect$1(function(){return checkIfSnapshotChanged(at)&&ct({inst:at}),a(function(){checkIfSnapshotChanged(at)&&ct({inst:at})})},[a]),useDebugValue$2(et),et}function checkIfSnapshotChanged(a){var s=a.getSnapshot;a=a.value;try{var et=s();return!objectIs$1(a,et)}catch{return!0}}function useSyncExternalStore$1(a,s){return s()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(a,s,et,tt,at){var ct=useRef(null);if(ct.current===null){var ut={hasValue:!1,value:null};ct.current=ut}else ut=ct.current;ct=useMemo(function(){function wt(Ut){if(!Et){if(Et=!0,Ft=Ut,Ut=tt(Ut),at!==void 0&&ut.hasValue){var Vt=ut.value;if(at(Vt,Ut))return jt=Vt}return jt=Ut}if(Vt=jt,objectIs(Ft,Ut))return Vt;var Yt=tt(Ut);return at!==void 0&&at(Vt,Yt)?(Ft=Ut,Vt):(Ft=Ut,jt=Yt)}var Et=!1,Ft,jt,Lt=et===void 0?null:et;return[function(){return wt(s())},Lt===null?void 0:function(){return wt(Lt())}]},[s,et,tt,at]);var bt=useSyncExternalStore(a,ct[0],ct[1]);return useEffect(function(){ut.hasValue=!0,ut.value=bt},[bt]),useDebugValue$1(bt),bt};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs$2(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$1=a=>a;function useStore(a,s=identity$1,et){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&et&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const tt=useSyncExternalStoreWithSelector(a.subscribe,a.getState,a.getServerState||a.getInitialState,s,et);return useDebugValue(tt),tt}const createImpl=a=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof a=="function"?createStore$1(a):a,et=(tt,at)=>useStore(s,tt,at);return Object.assign(et,s),et},create$3=a=>a?createImpl(a):createImpl;var __classPrivateFieldGet$1=function(a,s,et,tt){if(et==="a"&&!tt)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?a!==s||!tt:!s.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?tt:et==="a"?tt.call(a):tt?tt.value:s.get(a)},__classPrivateFieldSet$1=function(a,s,et,tt,at){if(tt==="m")throw new TypeError("Private method is not writable");if(tt==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?a!==s||!at:!s.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return tt==="a"?at.call(a,et):at?at.value=et:s.set(a,et),et},_AppReadyEvent_detail;let wallets;const registeredWalletsSet=new Set;function addRegisteredWallet(a){cachedWalletsArray=void 0,registeredWalletsSet.add(a)}function removeRegisteredWallet(a){cachedWalletsArray=void 0,registeredWalletsSet.delete(a)}const listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$6,on}),typeof window>"u"))return wallets;const a=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:s})=>s(a))}catch(s){console.error(`wallet-standard:register-wallet event listener could not be added
`,s)}try{window.dispatchEvent(new AppReadyEvent(a))}catch(s){console.error(`wallet-standard:app-ready event could not be dispatched
`,s)}return wallets}function register(...a){var s;return a=a.filter(et=>!registeredWalletsSet.has(et)),a.length?(a.forEach(et=>addRegisteredWallet(et)),(s=listeners.register)==null||s.forEach(et=>guard$1(()=>et(...a))),function(){var tt;a.forEach(at=>removeRegisteredWallet(at)),(tt=listeners.unregister)==null||tt.forEach(at=>guard$1(()=>at(...a)))}):()=>{}}let cachedWalletsArray;function get$6(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on(a,s){var et;return(et=listeners[a])!=null&&et.push(s)||(listeners[a]=[s]),function(){var at;listeners[a]=(at=listeners[a])==null?void 0:at.filter(ct=>s!==ct)}}function guard$1(a){try{a()}catch(s){console.error(s)}}class AppReadyEvent extends Event{get detail(){return __classPrivateFieldGet$1(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(s){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet$1(this,_AppReadyEvent_detail,s,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;var __classPrivateFieldGet=function(a,s,et,tt){if(et==="a"&&!tt)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?a!==s||!tt:!s.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?tt:et==="a"?tt.call(a):tt?tt.value:s.get(a)},__classPrivateFieldSet=function(a,s,et,tt,at){if(tt==="m")throw new TypeError("Private method is not writable");if(tt==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?a!==s||!at:!s.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return tt==="a"?at.call(a,et):at?at.value=et:s.set(a,et),et},_ReadonlyWalletAccount_address,_ReadonlyWalletAccount_publicKey,_ReadonlyWalletAccount_chains,_ReadonlyWalletAccount_features,_ReadonlyWalletAccount_label,_ReadonlyWalletAccount_icon;class ReadonlyWalletAccount{get address(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_address,"f")}get publicKey(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_publicKey,"f").slice()}get chains(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_chains,"f").slice()}get features(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_features,"f").slice()}get label(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_label,"f")}get icon(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_icon,"f")}constructor(s){_ReadonlyWalletAccount_address.set(this,void 0),_ReadonlyWalletAccount_publicKey.set(this,void 0),_ReadonlyWalletAccount_chains.set(this,void 0),_ReadonlyWalletAccount_features.set(this,void 0),_ReadonlyWalletAccount_label.set(this,void 0),_ReadonlyWalletAccount_icon.set(this,void 0),new.target===ReadonlyWalletAccount&&Object.freeze(this),__classPrivateFieldSet(this,_ReadonlyWalletAccount_address,s.address,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_publicKey,s.publicKey.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_chains,s.chains.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_features,s.features.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_label,s.label,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_icon,s.icon,"f")}}_ReadonlyWalletAccount_address=new WeakMap,_ReadonlyWalletAccount_publicKey=new WeakMap,_ReadonlyWalletAccount_chains=new WeakMap,_ReadonlyWalletAccount_features=new WeakMap,_ReadonlyWalletAccount_label=new WeakMap,_ReadonlyWalletAccount_icon=new WeakMap;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$2(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function isArrayOf(a,s){return Array.isArray(s)?s.length===0?!0:a?s.every(et=>typeof et=="string"):s.every(et=>Number.isSafeInteger(et)):!1}function afn(a){if(typeof a!="function")throw new Error("function expected");return!0}function astr(a,s){if(typeof s!="string")throw new Error(`${a}: string expected`);return!0}function anumber$1(a){if(!Number.isSafeInteger(a))throw new Error(`invalid integer: ${a}`)}function aArr(a){if(!Array.isArray(a))throw new Error("array expected")}function astrArr(a,s){if(!isArrayOf(!0,s))throw new Error(`${a}: array of strings expected`)}function anumArr(a,s){if(!isArrayOf(!1,s))throw new Error(`${a}: array of numbers expected`)}function chain(...a){const s=ct=>ct,et=(ct,ut)=>bt=>ct(ut(bt)),tt=a.map(ct=>ct.encode).reduceRight(et,s),at=a.map(ct=>ct.decode).reduce(et,s);return{encode:tt,decode:at}}function alphabet(a){const s=typeof a=="string"?a.split(""):a,et=s.length;astrArr("alphabet",s);const tt=new Map(s.map((at,ct)=>[at,ct]));return{encode:at=>(aArr(at),at.map(ct=>{if(!Number.isSafeInteger(ct)||ct<0||ct>=et)throw new Error(`alphabet.encode: digit index outside alphabet "${ct}". Allowed: ${a}`);return s[ct]})),decode:at=>(aArr(at),at.map(ct=>{astr("alphabet.decode",ct);const ut=tt.get(ct);if(ut===void 0)throw new Error(`Unknown letter: "${ct}". Allowed: ${a}`);return ut}))}}function join$1(a=""){return astr("join",a),{encode:s=>(astrArr("join.decode",s),s.join(a)),decode:s=>(astr("join.decode",s),s.split(a))}}function convertRadix(a,s,et){if(s<2)throw new Error(`convertRadix: invalid from=${s}, base cannot be less than 2`);if(et<2)throw new Error(`convertRadix: invalid to=${et}, base cannot be less than 2`);if(aArr(a),!a.length)return[];let tt=0;const at=[],ct=Array.from(a,bt=>{if(anumber$1(bt),bt<0||bt>=s)throw new Error(`invalid integer: ${bt}`);return bt}),ut=ct.length;for(;;){let bt=0,wt=!0;for(let Et=tt;Et<ut;Et++){const Ft=ct[Et],jt=s*bt,Lt=jt+Ft;if(!Number.isSafeInteger(Lt)||jt/s!==bt||Lt-Ft!==jt)throw new Error("convertRadix: carry overflow");const Ut=Lt/et;bt=Lt%et;const Vt=Math.floor(Ut);if(ct[Et]=Vt,!Number.isSafeInteger(Vt)||Vt*et+bt!==Lt)throw new Error("convertRadix: carry overflow");if(wt)Vt?wt=!1:tt=Et;else continue}if(at.push(bt),wt)break}for(let bt=0;bt<a.length-1&&a[bt]===0;bt++)at.push(0);return at.reverse()}const gcd=(a,s)=>s===0?a:gcd(s,a%s),radix2carry=(a,s)=>a+(s-gcd(a,s)),powers$1=(()=>{let a=[];for(let s=0;s<40;s++)a.push(2**s);return a})();function convertRadix2(a,s,et,tt){if(aArr(a),s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(et<=0||et>32)throw new Error(`convertRadix2: wrong to=${et}`);if(radix2carry(s,et)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${et} carryBits=${radix2carry(s,et)}`);let at=0,ct=0;const ut=powers$1[s],bt=powers$1[et]-1,wt=[];for(const Et of a){if(anumber$1(Et),Et>=ut)throw new Error(`convertRadix2: invalid data word=${Et} from=${s}`);if(at=at<<s|Et,ct+s>32)throw new Error(`convertRadix2: carry overflow pos=${ct} from=${s}`);for(ct+=s;ct>=et;ct-=et)wt.push((at>>ct-et&bt)>>>0);const Ft=powers$1[ct];if(Ft===void 0)throw new Error("invalid carry");at&=Ft-1}if(at=at<<et-ct&bt,!tt&&ct>=s)throw new Error("Excess padding");if(!tt&&at>0)throw new Error(`Non-zero padding: ${at}`);return tt&&ct>0&&wt.push(at>>>0),wt}function radix(a){anumber$1(a);const s=2**8;return{encode:et=>{if(!isBytes$2(et))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(et),s,a)},decode:et=>(anumArr("radix.decode",et),Uint8Array.from(convertRadix(et,a,s)))}}function radix2(a,s=!1){if(anumber$1(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,a)>32||radix2carry(a,8)>32)throw new Error("radix2: carry overflow");return{encode:et=>{if(!isBytes$2(et))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(et),8,a,!s)},decode:et=>(anumArr("radix2.decode",et),Uint8Array.from(convertRadix2(et,a,8,s)))}}function unsafeWrapper(a){return afn(a),function(...s){try{return a.apply(null,s)}catch{}}}const genBase58=a=>chain(radix(58),alphabet(a),join$1("")),base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),BECH_ALPHABET=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join$1("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(a){const s=a>>25;let et=(a&33554431)<<5;for(let tt=0;tt<POLYMOD_GENERATORS.length;tt++)(s>>tt&1)===1&&(et^=POLYMOD_GENERATORS[tt]);return et}function bechChecksum(a,s,et=1){const tt=a.length;let at=1;for(let ct=0;ct<tt;ct++){const ut=a.charCodeAt(ct);if(ut<33||ut>126)throw new Error(`Invalid prefix (${a})`);at=bech32Polymod(at)^ut>>5}at=bech32Polymod(at);for(let ct=0;ct<tt;ct++)at=bech32Polymod(at)^a.charCodeAt(ct)&31;for(let ct of s)at=bech32Polymod(at)^ct;for(let ct=0;ct<6;ct++)at=bech32Polymod(at);return at^=et,BECH_ALPHABET.encode(convertRadix2([at%powers$1[30]],30,5,!1))}function genBech32(a){const s=a==="bech32"?1:734539939,et=radix2(5),tt=et.decode,at=et.encode,ct=unsafeWrapper(tt);function ut(jt,Lt,Ut=90){astr("bech32.encode prefix",jt),isBytes$2(Lt)&&(Lt=Array.from(Lt)),anumArr("bech32.encode",Lt);const Vt=jt.length;if(Vt===0)throw new TypeError(`Invalid prefix length ${Vt}`);const Yt=Vt+7+Lt.length;if(Ut!==!1&&Yt>Ut)throw new TypeError(`Length ${Yt} exceeds limit ${Ut}`);const er=jt.toLowerCase(),tr=bechChecksum(er,Lt,s);return`${er}1${BECH_ALPHABET.encode(Lt)}${tr}`}function bt(jt,Lt=90){astr("bech32.decode input",jt);const Ut=jt.length;if(Ut<8||Lt!==!1&&Ut>Lt)throw new TypeError(`invalid string length: ${Ut} (${jt}). Expected (8..${Lt})`);const Vt=jt.toLowerCase();if(jt!==Vt&&jt!==jt.toUpperCase())throw new Error("String must be lowercase or uppercase");const Yt=Vt.lastIndexOf("1");if(Yt===0||Yt===-1)throw new Error('Letter "1" must be present between prefix and data only');const er=Vt.slice(0,Yt),tr=Vt.slice(Yt+1);if(tr.length<6)throw new Error("Data must be at least 6 characters long");const nr=BECH_ALPHABET.decode(tr).slice(0,-6),ir=bechChecksum(er,nr,s);if(!tr.endsWith(ir))throw new Error(`Invalid checksum in ${jt}: expected "${ir}"`);return{prefix:er,words:nr}}const wt=unsafeWrapper(bt);function Et(jt){const{prefix:Lt,words:Ut}=bt(jt,!1);return{prefix:Lt,words:Ut,bytes:tt(Ut)}}function Ft(jt,Lt){return ut(jt,at(Lt))}return{encode:ut,decode:bt,encodeFromBytes:Ft,decodeToBytes:Et,decodeUnsafe:wt,fromWords:tt,fromWordsUnsafe:ct,toWords:at}}const bech32=genBech32("bech32"),toBase58=a=>base58.encode(a),fromBase58=a=>base58.decode(a),toB58=toBase58,fromB58=fromBase58;function fromBase64(a){return Uint8Array.from(atob(a),s=>s.charCodeAt(0))}const CHUNK_SIZE=8192;function toBase64(a){if(a.length<CHUNK_SIZE)return btoa(String.fromCharCode(...a));let s="";for(var et=0;et<a.length;et+=CHUNK_SIZE){const tt=a.slice(et,et+CHUNK_SIZE);s+=String.fromCharCode(...tt)}return btoa(s)}const toB64=toBase64,fromB64=fromBase64;function fromHex(a){var at;const s=a.startsWith("0x")?a.slice(2):a,et=s.length%2===0?s:`0${s}`,tt=((at=et.match(/[0-9a-fA-F]{2}/g))==null?void 0:at.map(ct=>parseInt(ct,16)))??[];if(tt.length!==et.length/2)throw new Error(`Invalid hex string ${a}`);return Uint8Array.from(tt)}function toHex$2(a){return a.reduce((s,et)=>s+et.toString(16).padStart(2,"0"),"")}const toHEX=toHex$2,fromHEX=fromHex;function ulebEncode(a){let s=[],et=0;if(a===0)return[0];for(;a>0;)s[et]=a&127,(a>>=7)&&(s[et]|=128),et+=1;return s}function ulebDecode(a){let s=0,et=0,tt=0;for(;;){let at=a[tt];if(tt+=1,s|=(at&127)<<et,!(at&128))break;et+=7}return{value:s,length:tt}}class BcsReader{constructor(s){this.bytePosition=0,this.dataView=new DataView(s.buffer)}shift(s){return this.bytePosition+=s,this}read8(){let s=this.dataView.getUint8(this.bytePosition);return this.shift(1),s}read16(){let s=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),s}read32(){let s=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),s}read64(){let s=this.read32(),tt=this.read32().toString(16)+s.toString(16).padStart(8,"0");return BigInt("0x"+tt).toString(10)}read128(){let s=BigInt(this.read64()),tt=BigInt(this.read64()).toString(16)+s.toString(16).padStart(16,"0");return BigInt("0x"+tt).toString(10)}read256(){let s=BigInt(this.read128()),tt=BigInt(this.read128()).toString(16)+s.toString(16).padStart(32,"0");return BigInt("0x"+tt).toString(10)}readBytes(s){let et=this.bytePosition+this.dataView.byteOffset,tt=new Uint8Array(this.dataView.buffer,et,s);return this.shift(s),tt}readULEB(){let s=this.bytePosition+this.dataView.byteOffset,et=new Uint8Array(this.dataView.buffer,s),{value:tt,length:at}=ulebDecode(et);return this.shift(at),tt}readVec(s){let et=this.readULEB(),tt=[];for(let at=0;at<et;at++)tt.push(s(this,at,et));return tt}}function encodeStr(a,s){switch(s){case"base58":return toBase58(a);case"base64":return toBase64(a);case"hex":return toHex$2(a);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function decodeStr(a,s){switch(s){case"base58":return fromBase58(a);case"base64":return fromBase64(a);case"hex":return fromHex(a);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function splitGenericParameters(a,s=["<",">"]){const[et,tt]=s,at=[];let ct="",ut=0;for(let bt=0;bt<a.length;bt++){const wt=a[bt];if(wt===et&&ut++,wt===tt&&ut--,ut===0&&wt===","){at.push(ct.trim()),ct="";continue}ct+=wt}return at.push(ct.trim()),at}class BcsWriter{constructor({initialSize:s=1024,maxSize:et=1/0,allocateSize:tt=1024}={}){this.bytePosition=0,this.size=s,this.maxSize=et,this.allocateSize=tt,this.dataView=new DataView(new ArrayBuffer(s))}ensureSizeOrGrow(s){const et=this.bytePosition+s;if(et>this.size){const tt=Math.min(this.maxSize,this.size+this.allocateSize);if(et>tt)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${et}`);this.size=tt;const at=new ArrayBuffer(this.size);new Uint8Array(at).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(at)}}shift(s){return this.bytePosition+=s,this}write8(s){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(s)),this.shift(1)}write16(s){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(s),!0),this.shift(2)}write32(s){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(s),!0),this.shift(4)}write64(s){return toLittleEndian(BigInt(s),8).forEach(et=>this.write8(et)),this}write128(s){return toLittleEndian(BigInt(s),16).forEach(et=>this.write8(et)),this}write256(s){return toLittleEndian(BigInt(s),32).forEach(et=>this.write8(et)),this}writeULEB(s){return ulebEncode(s).forEach(et=>this.write8(et)),this}writeVec(s,et){return this.writeULEB(s.length),Array.from(s).forEach((tt,at)=>et(this,tt,at,s.length)),this}*[Symbol.iterator](){for(let s=0;s<this.bytePosition;s++)yield this.dataView.getUint8(s);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(s){return encodeStr(this.toBytes(),s)}}function toLittleEndian(a,s){let et=new Uint8Array(s),tt=0;for(;a>0;)et[tt]=Number(a%BigInt(256)),a=a/BigInt(256),tt+=1;return et}var __typeError$9=a=>{throw TypeError(a)},__accessCheck$9=(a,s,et)=>s.has(a)||__typeError$9("Cannot "+et),__privateGet$9=(a,s,et)=>(__accessCheck$9(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$9=(a,s,et)=>s.has(a)?__typeError$9("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$8=(a,s,et,tt)=>(__accessCheck$9(a,s,"write to private field"),s.set(a,et),et),_write,_serialize,_schema,_bytes;const _BcsType=class Ap{constructor(s){__privateAdd$9(this,_write),__privateAdd$9(this,_serialize),this.name=s.name,this.read=s.read,this.serializedSize=s.serializedSize??(()=>null),__privateSet$8(this,_write,s.write),__privateSet$8(this,_serialize,s.serialize??((et,tt)=>{const at=new BcsWriter({initialSize:this.serializedSize(et)??void 0,...tt});return __privateGet$9(this,_write).call(this,et,at),at.toBytes()})),this.validate=s.validate??(()=>{})}write(s,et){this.validate(s),__privateGet$9(this,_write).call(this,s,et)}serialize(s,et){return this.validate(s),new SerializedBcs(this,__privateGet$9(this,_serialize).call(this,s,et))}parse(s){const et=new BcsReader(s);return this.read(et)}fromHex(s){return this.parse(fromHex(s))}fromBase58(s){return this.parse(fromBase58(s))}fromBase64(s){return this.parse(fromBase64(s))}transform({name:s,input:et,output:tt,validate:at}){return new Ap({name:s??this.name,read:ct=>tt?tt(this.read(ct)):this.read(ct),write:(ct,ut)=>__privateGet$9(this,_write).call(this,et?et(ct):ct,ut),serializedSize:ct=>this.serializedSize(et?et(ct):ct),serialize:(ct,ut)=>__privateGet$9(this,_serialize).call(this,et?et(ct):ct,ut),validate:ct=>{at==null||at(ct),this.validate(et?et(ct):ct)}})}};_write=new WeakMap;_serialize=new WeakMap;let BcsType=_BcsType;const SERIALIZED_BCS_BRAND=Symbol.for("@mysten/serialized-bcs");function isSerializedBcs(a){return!!a&&typeof a=="object"&&a[SERIALIZED_BCS_BRAND]===!0}class SerializedBcs{constructor(s,et){__privateAdd$9(this,_schema),__privateAdd$9(this,_bytes),__privateSet$8(this,_schema,s),__privateSet$8(this,_bytes,et)}get[SERIALIZED_BCS_BRAND](){return!0}toBytes(){return __privateGet$9(this,_bytes)}toHex(){return toHex$2(__privateGet$9(this,_bytes))}toBase64(){return toBase64(__privateGet$9(this,_bytes))}toBase58(){return toBase58(__privateGet$9(this,_bytes))}parse(){return __privateGet$9(this,_schema).parse(__privateGet$9(this,_bytes))}}_schema=new WeakMap;_bytes=new WeakMap;function fixedSizeBcsType({size:a,...s}){return new BcsType({...s,serializedSize:()=>a})}function uIntBcsType({readMethod:a,writeMethod:s,...et}){return fixedSizeBcsType({...et,read:tt=>tt[a](),write:(tt,at)=>at[s](tt),validate:tt=>{var at;if(tt<0||tt>et.maxValue)throw new TypeError(`Invalid ${et.name} value: ${tt}. Expected value in range 0-${et.maxValue}`);(at=et.validate)==null||at.call(et,tt)}})}function bigUIntBcsType({readMethod:a,writeMethod:s,...et}){return fixedSizeBcsType({...et,read:tt=>tt[a](),write:(tt,at)=>at[s](BigInt(tt)),validate:tt=>{var ct;const at=BigInt(tt);if(at<0||at>et.maxValue)throw new TypeError(`Invalid ${et.name} value: ${at}. Expected value in range 0-${et.maxValue}`);(ct=et.validate)==null||ct.call(et,at)}})}function dynamicSizeBcsType({serialize:a,...s}){const et=new BcsType({...s,serialize:a,write:(tt,at)=>{for(const ct of et.serialize(tt).toBytes())at.write8(ct)}});return et}function stringLikeBcsType({toBytes:a,fromBytes:s,...et}){return new BcsType({...et,read:tt=>{const at=tt.readULEB(),ct=tt.readBytes(at);return s(ct)},write:(tt,at)=>{const ct=a(tt);at.writeULEB(ct.length);for(let ut=0;ut<ct.length;ut++)at.write8(ct[ut])},serialize:tt=>{const at=a(tt),ct=ulebEncode(at.length),ut=new Uint8Array(ct.length+at.length);return ut.set(ct,0),ut.set(at,ct.length),ut},validate:tt=>{var at;if(typeof tt!="string")throw new TypeError(`Invalid ${et.name} value: ${tt}. Expected string`);(at=et.validate)==null||at.call(et,tt)}})}function lazyBcsType(a){let s=null;function et(){return s||(s=a()),s}return new BcsType({name:"lazy",read:tt=>et().read(tt),serializedSize:tt=>et().serializedSize(tt),write:(tt,at)=>et().write(tt,at),serialize:(tt,at)=>et().serialize(tt,at).toBytes()})}const bcs$2={u8(a){return uIntBcsType({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...a})},u16(a){return uIntBcsType({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...a})},u32(a){return uIntBcsType({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...a})},u64(a){return bigUIntBcsType({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...a})},u128(a){return bigUIntBcsType({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...a})},u256(a){return bigUIntBcsType({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...a})},bool(a){return fixedSizeBcsType({name:"bool",size:1,read:s=>s.read8()===1,write:(s,et)=>et.write8(s?1:0),...a,validate:s=>{var et;if((et=a==null?void 0:a.validate)==null||et.call(a,s),typeof s!="boolean")throw new TypeError(`Expected boolean, found ${typeof s}`)}})},uleb128(a){return dynamicSizeBcsType({name:"uleb128",read:s=>s.readULEB(),serialize:s=>Uint8Array.from(ulebEncode(s)),...a})},bytes(a,s){return fixedSizeBcsType({name:`bytes[${a}]`,size:a,read:et=>et.readBytes(a),write:(et,tt)=>{const at=new Uint8Array(et);for(let ct=0;ct<a;ct++)tt.write8(at[ct]??0)},...s,validate:et=>{var tt;if((tt=s==null?void 0:s.validate)==null||tt.call(s,et),!et||typeof et!="object"||!("length"in et))throw new TypeError(`Expected array, found ${typeof et}`);if(et.length!==a)throw new TypeError(`Expected array of length ${a}, found ${et.length}`)}})},byteVector(a){return new BcsType({name:"bytesVector",read:s=>{const et=s.readULEB();return s.readBytes(et)},write:(s,et)=>{const tt=new Uint8Array(s);et.writeULEB(tt.length);for(let at=0;at<tt.length;at++)et.write8(tt[at]??0)},...a,serializedSize:s=>{const et="length"in s?s.length:null;return et==null?null:ulebEncode(et).length+et},validate:s=>{var et;if((et=a==null?void 0:a.validate)==null||et.call(a,s),!s||typeof s!="object"||!("length"in s))throw new TypeError(`Expected array, found ${typeof s}`)}})},string(a){return stringLikeBcsType({name:"string",toBytes:s=>new TextEncoder().encode(s),fromBytes:s=>new TextDecoder().decode(s),...a})},fixedArray(a,s,et){return new BcsType({name:`${s.name}[${a}]`,read:tt=>{const at=new Array(a);for(let ct=0;ct<a;ct++)at[ct]=s.read(tt);return at},write:(tt,at)=>{for(const ct of tt)s.write(ct,at)},...et,validate:tt=>{var at;if((at=et==null?void 0:et.validate)==null||at.call(et,tt),!tt||typeof tt!="object"||!("length"in tt))throw new TypeError(`Expected array, found ${typeof tt}`);if(tt.length!==a)throw new TypeError(`Expected array of length ${a}, found ${tt.length}`)}})},option(a){return bcs$2.enum(`Option<${a.name}>`,{None:null,Some:a}).transform({input:s=>s==null?{None:!0}:{Some:s},output:s=>s.$kind==="Some"?s.Some:null})},vector(a,s){return new BcsType({name:`vector<${a.name}>`,read:et=>{const tt=et.readULEB(),at=new Array(tt);for(let ct=0;ct<tt;ct++)at[ct]=a.read(et);return at},write:(et,tt)=>{tt.writeULEB(et.length);for(const at of et)a.write(at,tt)},...s,validate:et=>{var tt;if((tt=s==null?void 0:s.validate)==null||tt.call(s,et),!et||typeof et!="object"||!("length"in et))throw new TypeError(`Expected array, found ${typeof et}`)}})},tuple(a,s){return new BcsType({name:`(${a.map(et=>et.name).join(", ")})`,serializedSize:et=>{let tt=0;for(let at=0;at<a.length;at++){const ct=a[at].serializedSize(et[at]);if(ct==null)return null;tt+=ct}return tt},read:et=>{const tt=[];for(const at of a)tt.push(at.read(et));return tt},write:(et,tt)=>{for(let at=0;at<a.length;at++)a[at].write(et[at],tt)},...s,validate:et=>{var tt;if((tt=s==null?void 0:s.validate)==null||tt.call(s,et),!Array.isArray(et))throw new TypeError(`Expected array, found ${typeof et}`);if(et.length!==a.length)throw new TypeError(`Expected array of length ${a.length}, found ${et.length}`)}})},struct(a,s,et){const tt=Object.entries(s);return new BcsType({name:a,serializedSize:at=>{let ct=0;for(const[ut,bt]of tt){const wt=bt.serializedSize(at[ut]);if(wt==null)return null;ct+=wt}return ct},read:at=>{const ct={};for(const[ut,bt]of tt)ct[ut]=bt.read(at);return ct},write:(at,ct)=>{for(const[ut,bt]of tt)bt.write(at[ut],ct)},...et,validate:at=>{var ct;if((ct=et==null?void 0:et.validate)==null||ct.call(et,at),typeof at!="object"||at==null)throw new TypeError(`Expected object, found ${typeof at}`)}})},enum(a,s,et){const tt=Object.entries(s);return new BcsType({name:a,read:at=>{const ct=at.readULEB(),ut=tt[ct];if(!ut)throw new TypeError(`Unknown value ${ct} for enum ${a}`);const[bt,wt]=ut;return{[bt]:(wt==null?void 0:wt.read(at))??!0,$kind:bt}},write:(at,ct)=>{const[ut,bt]=Object.entries(at).filter(([wt])=>Object.hasOwn(s,wt))[0];for(let wt=0;wt<tt.length;wt++){const[Et,Ft]=tt[wt];if(Et===ut){ct.writeULEB(wt),Ft==null||Ft.write(bt,ct);return}}},...et,validate:at=>{var bt;if((bt=et==null?void 0:et.validate)==null||bt.call(et,at),typeof at!="object"||at==null)throw new TypeError(`Expected object, found ${typeof at}`);const ct=Object.keys(at).filter(wt=>at[wt]!==void 0&&Object.hasOwn(s,wt));if(ct.length!==1)throw new TypeError(`Expected object with one key, but found ${ct.length} for type ${a}}`);const[ut]=ct;if(!Object.hasOwn(s,ut))throw new TypeError(`Invalid enum variant ${ut}`)}})},map(a,s){return bcs$2.vector(bcs$2.tuple([a,s])).transform({name:`Map<${a.name}, ${s.name}>`,input:et=>[...et.entries()],output:et=>{const tt=new Map;for(const[at,ct]of et)tt.set(at,ct);return tt}})},lazy(a){return lazyBcsType(a)}},esm=Object.freeze(Object.defineProperty({__proto__:null,BcsReader,BcsType,BcsWriter,SerializedBcs,bcs:bcs$2,decodeStr,encodeStr,fromB58,fromB64,fromBase58,fromBase64,fromHEX,fromHex,isSerializedBcs,splitGenericParameters,toB58,toB64,toBase58,toBase64,toHEX,toHex:toHex$2},Symbol.toStringTag,{value:"Module"})),TX_DIGEST_LENGTH$2=32;function isValidTransactionDigest$2(a){try{return fromBase58(a).length===TX_DIGEST_LENGTH$2}catch{return!1}}const SUI_ADDRESS_LENGTH$2=32;function isValidSuiAddress$2(a){return isHex$4(a)&&getHexByteLength$2(a)===SUI_ADDRESS_LENGTH$2}function isValidSuiObjectId$2(a){return isValidSuiAddress$2(a)}function normalizeSuiAddress$2(a,s=!1){let et=a.toLowerCase();return!s&&et.startsWith("0x")&&(et=et.slice(2)),`0x${et.padStart(SUI_ADDRESS_LENGTH$2*2,"0")}`}function normalizeSuiObjectId$2(a,s=!1){return normalizeSuiAddress$2(a,s)}function isHex$4(a){return/^(0x|0X)?[a-fA-F0-9]+$/.test(a)&&a.length%2===0}function getHexByteLength$2(a){return/^(0x|0X)/.test(a)?(a.length-2)/2:a.length/2}const VECTOR_REGEX$2=/^vector<(.+)>$/,STRUCT_REGEX$2=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;let TypeTagSerializer$2=class Hl{static parseFromStr(s,et=!1){if(s==="address")return{address:null};if(s==="bool")return{bool:null};if(s==="u8")return{u8:null};if(s==="u16")return{u16:null};if(s==="u32")return{u32:null};if(s==="u64")return{u64:null};if(s==="u128")return{u128:null};if(s==="u256")return{u256:null};if(s==="signer")return{signer:null};const tt=s.match(VECTOR_REGEX$2);if(tt)return{vector:Hl.parseFromStr(tt[1],et)};const at=s.match(STRUCT_REGEX$2);if(at)return{struct:{address:et?normalizeSuiAddress$2(at[1]):at[1],module:at[2],name:at[3],typeParams:at[5]===void 0?[]:Hl.parseStructTypeArgs(at[5],et)}};throw new Error(`Encountered unexpected token when parsing type args for ${s}`)}static parseStructTypeArgs(s,et=!1){return splitGenericParameters(s).map(tt=>Hl.parseFromStr(tt,et))}static tagToString(s){if("bool"in s)return"bool";if("u8"in s)return"u8";if("u16"in s)return"u16";if("u32"in s)return"u32";if("u64"in s)return"u64";if("u128"in s)return"u128";if("u256"in s)return"u256";if("address"in s)return"address";if("signer"in s)return"signer";if("vector"in s)return`vector<${Hl.tagToString(s.vector)}>`;if("struct"in s){const et=s.struct,tt=et.typeParams.map(Hl.tagToString).join(", ");return`${et.address}::${et.module}::${et.name}${tt?`<${tt}>`:""}`}throw new Error("Invalid TypeTag")}};function unsafe_u64$2(a){return bcs$2.u64({name:"unsafe_u64",...a}).transform({input:s=>s,output:s=>Number(s)})}function optionEnum$2(a){return bcs$2.enum("Option",{None:null,Some:a})}const Address$2=bcs$2.bytes(SUI_ADDRESS_LENGTH$2).transform({validate:a=>{const s=typeof a=="string"?a:toHex$2(a);if(!s||!isValidSuiAddress$2(normalizeSuiAddress$2(s)))throw new Error(`Invalid Sui address ${s}`)},input:a=>typeof a=="string"?fromHex(normalizeSuiAddress$2(a)):a,output:a=>normalizeSuiAddress$2(toHex$2(a))}),ObjectDigest$2=bcs$2.vector(bcs$2.u8()).transform({name:"ObjectDigest",input:a=>fromBase58(a),output:a=>toBase58(new Uint8Array(a)),validate:a=>{if(fromBase58(a).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef$2=bcs$2.struct("SuiObjectRef",{objectId:Address$2,version:bcs$2.u64(),digest:ObjectDigest$2}),SharedObjectRef$2=bcs$2.struct("SharedObjectRef",{objectId:Address$2,initialSharedVersion:bcs$2.u64(),mutable:bcs$2.bool()}),ObjectArg$8=bcs$2.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef$2,SharedObject:SharedObjectRef$2,Receiving:SuiObjectRef$2}),CallArg$6=bcs$2.enum("CallArg",{Pure:bcs$2.struct("Pure",{bytes:bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})}),Object:ObjectArg$8}),InnerTypeTag$2=bcs$2.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:bcs$2.lazy(()=>InnerTypeTag$2),struct:bcs$2.lazy(()=>StructTag$4),u16:null,u32:null,u256:null}),TypeTag$4=InnerTypeTag$2.transform({input:a=>typeof a=="string"?TypeTagSerializer$2.parseFromStr(a,!0):a,output:a=>TypeTagSerializer$2.tagToString(a)}),Argument$6=bcs$2.enum("Argument",{GasCoin:null,Input:bcs$2.u16(),Result:bcs$2.u16(),NestedResult:bcs$2.tuple([bcs$2.u16(),bcs$2.u16()])}),ProgrammableMoveCall$6=bcs$2.struct("ProgrammableMoveCall",{package:Address$2,module:bcs$2.string(),function:bcs$2.string(),typeArguments:bcs$2.vector(TypeTag$4),arguments:bcs$2.vector(Argument$6)}),Command$6=bcs$2.enum("Command",{MoveCall:ProgrammableMoveCall$6,TransferObjects:bcs$2.struct("TransferObjects",{objects:bcs$2.vector(Argument$6),address:Argument$6}),SplitCoins:bcs$2.struct("SplitCoins",{coin:Argument$6,amounts:bcs$2.vector(Argument$6)}),MergeCoins:bcs$2.struct("MergeCoins",{destination:Argument$6,sources:bcs$2.vector(Argument$6)}),Publish:bcs$2.struct("Publish",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})),dependencies:bcs$2.vector(Address$2)}),MakeMoveVec:bcs$2.struct("MakeMoveVec",{type:optionEnum$2(TypeTag$4).transform({input:a=>a===null?{None:!0}:{Some:a},output:a=>a.Some??null}),elements:bcs$2.vector(Argument$6)}),Upgrade:bcs$2.struct("Upgrade",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})),dependencies:bcs$2.vector(Address$2),package:Address$2,ticket:Argument$6})}),ProgrammableTransaction$2=bcs$2.struct("ProgrammableTransaction",{inputs:bcs$2.vector(CallArg$6),commands:bcs$2.vector(Command$6)}),TransactionKind$2=bcs$2.enum("TransactionKind",{ProgrammableTransaction:ProgrammableTransaction$2,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration$8=bcs$2.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64$2()}),StructTag$4=bcs$2.struct("StructTag",{address:Address$2,module:bcs$2.string(),name:bcs$2.string(),typeParams:bcs$2.vector(InnerTypeTag$2)}),GasData$6=bcs$2.struct("GasData",{payment:bcs$2.vector(SuiObjectRef$2),owner:Address$2,price:bcs$2.u64(),budget:bcs$2.u64()}),TransactionDataV1$2=bcs$2.struct("TransactionDataV1",{kind:TransactionKind$2,sender:Address$2,gasData:GasData$6,expiration:TransactionExpiration$8}),TransactionData$4=bcs$2.enum("TransactionData",{V1:TransactionDataV1$2}),IntentScope$2=bcs$2.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion$2=bcs$2.enum("IntentVersion",{V0:null}),AppId$2=bcs$2.enum("AppId",{Sui:null}),Intent$2=bcs$2.struct("Intent",{scope:IntentScope$2,version:IntentVersion$2,appId:AppId$2});function IntentMessage$2(a){return bcs$2.struct(`IntentMessage<${a.name}>`,{intent:Intent$2,value:a})}const CompressedSignature$2=bcs$2.enum("CompressedSignature",{ED25519:bcs$2.fixedArray(64,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(64,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(64,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),PublicKey$3=bcs$2.enum("PublicKey",{ED25519:bcs$2.fixedArray(32,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(33,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(33,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),MultiSigPkMap$2=bcs$2.struct("MultiSigPkMap",{pubKey:PublicKey$3,weight:bcs$2.u8()}),MultiSigPublicKey$2=bcs$2.struct("MultiSigPublicKey",{pk_map:bcs$2.vector(MultiSigPkMap$2),threshold:bcs$2.u16()}),MultiSig$2=bcs$2.struct("MultiSig",{sigs:bcs$2.vector(CompressedSignature$2),bitmap:bcs$2.u16(),multisig_pk:MultiSigPublicKey$2}),base64String$2=bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))}),SenderSignedTransaction$2=bcs$2.struct("SenderSignedTransaction",{intentMessage:IntentMessage$2(TransactionData$4),txSignatures:bcs$2.vector(base64String$2)}),SenderSignedData$2=bcs$2.vector(SenderSignedTransaction$2,{name:"SenderSignedData"}),PasskeyAuthenticator$2=bcs$2.struct("PasskeyAuthenticator",{authenticatorData:bcs$2.vector(bcs$2.u8()),clientDataJson:bcs$2.string(),userSignature:bcs$2.vector(bcs$2.u8())}),PackageUpgradeError$2=bcs$2.enum("PackageUpgradeError",{UnableToFetchPackage:bcs$2.struct("UnableToFetchPackage",{packageId:Address$2}),NotAPackage:bcs$2.struct("NotAPackage",{objectId:Address$2}),IncompatibleUpgrade:null,DigestDoesNotMatch:bcs$2.struct("DigestDoesNotMatch",{digest:bcs$2.vector(bcs$2.u8())}),UnknownUpgradePolicy:bcs$2.struct("UnknownUpgradePolicy",{policy:bcs$2.u8()}),PackageIDDoesNotMatch:bcs$2.struct("PackageIDDoesNotMatch",{packageId:Address$2,ticketId:Address$2})}),ModuleId$2=bcs$2.struct("ModuleId",{address:Address$2,name:bcs$2.string()}),MoveLocation$2=bcs$2.struct("MoveLocation",{module:ModuleId$2,function:bcs$2.u16(),instruction:bcs$2.u16(),functionName:bcs$2.option(bcs$2.string())}),CommandArgumentError$2=bcs$2.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:bcs$2.struct("IndexOutOfBounds",{idx:bcs$2.u16()}),SecondaryIndexOutOfBounds:bcs$2.struct("SecondaryIndexOutOfBounds",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidResultArity:bcs$2.struct("InvalidResultArity",{resultIdx:bcs$2.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError$2=bcs$2.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus$2=bcs$2.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:bcs$2.struct("MoveObjectTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),MovePackageTooBig:bcs$2.struct("MovePackageTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),CircularObjectOwnership:bcs$2.struct("CircularObjectOwnership",{object:Address$2}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:bcs$2.option(MoveLocation$2),MoveAbort:bcs$2.tuple([MoveLocation$2,bcs$2.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:bcs$2.struct("CommandArgumentError",{argIdx:bcs$2.u16(),kind:CommandArgumentError$2}),TypeArgumentError:bcs$2.struct("TypeArgumentError",{argumentIdx:bcs$2.u16(),kind:TypeArgumentError$2}),UnusedValueWithoutDrop:bcs$2.struct("UnusedValueWithoutDrop",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidPublicFunctionReturnType:bcs$2.struct("InvalidPublicFunctionReturnType",{idx:bcs$2.u16()}),InvalidTransferObject:null,EffectsTooLarge:bcs$2.struct("EffectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:bcs$2.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError$2}),WrittenObjectsTooLarge:bcs$2.struct("WrittenObjectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:bcs$2.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:bcs$2.vector(Address$2)}),AddressDeniedForCoin:bcs$2.struct("AddressDeniedForCoin",{address:Address$2,coinType:bcs$2.string()}),CoinTypeGlobalPause:bcs$2.struct("CoinTypeGlobalPause",{coinType:bcs$2.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus$2=bcs$2.enum("ExecutionStatus",{Success:null,Failed:bcs$2.struct("ExecutionFailed",{error:ExecutionFailureStatus$2,command:bcs$2.option(bcs$2.u64())})}),GasCostSummary$2=bcs$2.struct("GasCostSummary",{computationCost:bcs$2.u64(),storageCost:bcs$2.u64(),storageRebate:bcs$2.u64(),nonRefundableStorageFee:bcs$2.u64()}),Owner$2=bcs$2.enum("Owner",{AddressOwner:Address$2,ObjectOwner:Address$2,Shared:bcs$2.struct("Shared",{initialSharedVersion:bcs$2.u64()}),Immutable:null}),TransactionEffectsV1$2=bcs$2.struct("TransactionEffectsV1",{status:ExecutionStatus$2,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$2,modifiedAtVersions:bcs$2.vector(bcs$2.tuple([Address$2,bcs$2.u64()])),sharedObjects:bcs$2.vector(SuiObjectRef$2),transactionDigest:ObjectDigest$2,created:bcs$2.vector(bcs$2.tuple([SuiObjectRef$2,Owner$2])),mutated:bcs$2.vector(bcs$2.tuple([SuiObjectRef$2,Owner$2])),unwrapped:bcs$2.vector(bcs$2.tuple([SuiObjectRef$2,Owner$2])),deleted:bcs$2.vector(SuiObjectRef$2),unwrappedThenDeleted:bcs$2.vector(SuiObjectRef$2),wrapped:bcs$2.vector(SuiObjectRef$2),gasObject:bcs$2.tuple([SuiObjectRef$2,Owner$2]),eventsDigest:bcs$2.option(ObjectDigest$2),dependencies:bcs$2.vector(ObjectDigest$2)}),VersionDigest$2=bcs$2.tuple([bcs$2.u64(),ObjectDigest$2]),ObjectIn$2=bcs$2.enum("ObjectIn",{NotExist:null,Exist:bcs$2.tuple([VersionDigest$2,Owner$2])}),ObjectOut$2=bcs$2.enum("ObjectOut",{NotExist:null,ObjectWrite:bcs$2.tuple([ObjectDigest$2,Owner$2]),PackageWrite:VersionDigest$2}),IDOperation$2=bcs$2.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange$2=bcs$2.struct("EffectsObjectChange",{inputState:ObjectIn$2,outputState:ObjectOut$2,idOperation:IDOperation$2}),UnchangedSharedKind$2=bcs$2.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest$2,MutateDeleted:bcs$2.u64(),ReadDeleted:bcs$2.u64(),Cancelled:bcs$2.u64(),PerEpochConfig:null}),TransactionEffectsV2$2=bcs$2.struct("TransactionEffectsV2",{status:ExecutionStatus$2,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$2,transactionDigest:ObjectDigest$2,gasObjectIndex:bcs$2.option(bcs$2.u32()),eventsDigest:bcs$2.option(ObjectDigest$2),dependencies:bcs$2.vector(ObjectDigest$2),lamportVersion:bcs$2.u64(),changedObjects:bcs$2.vector(bcs$2.tuple([Address$2,EffectsObjectChange$2])),unchangedSharedObjects:bcs$2.vector(bcs$2.tuple([Address$2,UnchangedSharedKind$2])),auxDataDigest:bcs$2.option(ObjectDigest$2)}),TransactionEffects$2=bcs$2.enum("TransactionEffects",{V1:TransactionEffectsV1$2,V2:TransactionEffectsV2$2});function pureBcsSchemaFromTypeName$2(a){switch(a){case"u8":return bcs$2.u8();case"u16":return bcs$2.u16();case"u32":return bcs$2.u32();case"u64":return bcs$2.u64();case"u128":return bcs$2.u128();case"u256":return bcs$2.u256();case"bool":return bcs$2.bool();case"string":return bcs$2.string();case"id":case"address":return Address$2}const s=a.match(/^(vector|option)<(.+)>$/);if(s){const[et,tt]=s.slice(1);return et==="vector"?bcs$2.vector(pureBcsSchemaFromTypeName$2(tt)):bcs$2.option(pureBcsSchemaFromTypeName$2(tt))}throw new Error(`Invalid Pure type name: ${a}`)}const suiBcs$2={...bcs$2,U8:bcs$2.u8(),U16:bcs$2.u16(),U32:bcs$2.u32(),U64:bcs$2.u64(),U128:bcs$2.u128(),U256:bcs$2.u256(),ULEB128:bcs$2.uleb128(),Bool:bcs$2.bool(),String:bcs$2.string(),Address:Address$2,AppId:AppId$2,Argument:Argument$6,CallArg:CallArg$6,CompressedSignature:CompressedSignature$2,GasData:GasData$6,Intent:Intent$2,IntentMessage:IntentMessage$2,IntentScope:IntentScope$2,IntentVersion:IntentVersion$2,MultiSig:MultiSig$2,MultiSigPkMap:MultiSigPkMap$2,MultiSigPublicKey:MultiSigPublicKey$2,ObjectArg:ObjectArg$8,ObjectDigest:ObjectDigest$2,ProgrammableMoveCall:ProgrammableMoveCall$6,ProgrammableTransaction:ProgrammableTransaction$2,PublicKey:PublicKey$3,SenderSignedData:SenderSignedData$2,SenderSignedTransaction:SenderSignedTransaction$2,SharedObjectRef:SharedObjectRef$2,StructTag:StructTag$4,SuiObjectRef:SuiObjectRef$2,Command:Command$6,TransactionData:TransactionData$4,TransactionDataV1:TransactionDataV1$2,TransactionExpiration:TransactionExpiration$8,TransactionKind:TransactionKind$2,TypeTag:TypeTag$4,TransactionEffects:TransactionEffects$2,PasskeyAuthenticator:PasskeyAuthenticator$2},SUI_NS_NAME_REGEX$2=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX$2=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;function normalizeSuiNSName$2(a,s="at"){const et=a.toLowerCase();let tt;if(et.includes("@")){if(!SUI_NS_NAME_REGEX$2.test(et))throw new Error(`Invalid SuiNS name ${a}`);const[at,ct]=et.split("@");tt=[...at?at.split("."):[],ct]}else{if(!SUI_NS_DOMAIN_REGEX$2.test(et))throw new Error(`Invalid SuiNS name ${a}`);tt=et.split(".").slice(0,-1)}return s==="dot"?`${tt.join(".")}.sui`:`${tt.slice(0,-1).join(".")}@${tt[tt.length-1]}`}BigInt(1e9);const MOVE_STDLIB_ADDRESS$2="0x1",SUI_FRAMEWORK_ADDRESS$2="0x2";normalizeSuiObjectId$2("0x6");const SUI_TYPE_ARG$2=`${SUI_FRAMEWORK_ADDRESS$2}::sui::SUI`;normalizeSuiObjectId$2("0x5");function anumber(a){if(!Number.isSafeInteger(a)||a<0)throw new Error("positive integer expected, got "+a)}function isBytes$1(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function abytes$1(a,...s){if(!isBytes$1(a))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(a.length))throw new Error("Uint8Array expected of length "+s+", got length="+a.length)}function ahash(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(a.outputLen),anumber(a.blockLen)}function aexists(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function aoutput(a,s){abytes$1(a);const et=s.outputLen;if(a.length<et)throw new Error("digestInto() expects output buffer of length at least "+et)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function u32(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function createView(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(a){return a<<24&4278190080|a<<8&16711680|a>>>8&65280|a>>>24&255}const byteSwapIfBE=isLE?a=>a:a=>byteSwap(a);function byteSwap32(a){for(let s=0;s<a.length;s++)a[s]=byteSwap(a[s])}const hexes$1=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$1(a){abytes$1(a);let s="";for(let et=0;et<a.length;et++)s+=hexes$1[a[et]];return s}function utf8ToBytes(a){if(typeof a!="string")throw new Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array(new TextEncoder().encode(a))}function toBytes(a){return typeof a=="string"&&(a=utf8ToBytes(a)),abytes$1(a),a}let Hash$1=class{clone(){return this._cloneInto()}};function checkOpts(a,s){if(s!==void 0&&{}.toString.call(s)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(a,s)}function wrapConstructor(a){const s=tt=>a().update(toBytes(tt)).digest(),et=a();return s.outputLen=et.outputLen,s.blockLen=et.blockLen,s.create=()=>a(),s}function wrapConstructorWithOpts(a){const s=(tt,at)=>a(at).update(toBytes(tt)).digest(),et=a({});return s.outputLen=et.outputLen,s.blockLen=et.blockLen,s.create=tt=>a(tt),s}function randomBytes(a=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(a));if(crypto$2&&typeof crypto$2.randomBytes=="function")return crypto$2.randomBytes(a);throw new Error("crypto.getRandomValues must be defined")}const SIGMA$1=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class BLAKE extends Hash$1{constructor(s,et,tt={},at,ct,ut){if(super(),this.blockLen=s,this.outputLen=et,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,anumber(s),anumber(et),anumber(at),et<0||et>at)throw new Error("outputLen bigger than keyLen");if(tt.key!==void 0&&(tt.key.length<1||tt.key.length>at))throw new Error("key length must be undefined or 1.."+at);if(tt.salt!==void 0&&tt.salt.length!==ct)throw new Error("salt must be undefined or "+ct);if(tt.personalization!==void 0&&tt.personalization.length!==ut)throw new Error("personalization must be undefined or "+ut);this.buffer=new Uint8Array(s),this.buffer32=u32(this.buffer)}update(s){aexists(this);const{blockLen:et,buffer:tt,buffer32:at}=this;s=toBytes(s);const ct=s.length,ut=s.byteOffset,bt=s.buffer;for(let wt=0;wt<ct;){this.pos===et&&(isLE||byteSwap32(at),this.compress(at,0,!1),isLE||byteSwap32(at),this.pos=0);const Et=Math.min(et-this.pos,ct-wt),Ft=ut+wt;if(Et===et&&!(Ft%4)&&wt+Et<ct){const jt=new Uint32Array(bt,Ft,Math.floor((ct-wt)/4));isLE||byteSwap32(jt);for(let Lt=0;wt+et<ct;Lt+=at.length,wt+=et)this.length+=et,this.compress(jt,Lt,!1);isLE||byteSwap32(jt);continue}tt.set(s.subarray(wt,wt+Et),this.pos),this.pos+=Et,this.length+=Et,wt+=Et}return this}digestInto(s){aexists(this),aoutput(s,this);const{pos:et,buffer32:tt}=this;this.finished=!0,this.buffer.subarray(et).fill(0),isLE||byteSwap32(tt),this.compress(tt,0,!0),isLE||byteSwap32(tt);const at=u32(s);this.get().forEach((ct,ut)=>at[ut]=byteSwapIfBE(ct))}digest(){const{buffer:s,outputLen:et}=this;this.digestInto(s);const tt=s.slice(0,et);return this.destroy(),tt}_cloneInto(s){const{buffer:et,length:tt,finished:at,destroyed:ct,outputLen:ut,pos:bt}=this;return s||(s=new this.constructor({dkLen:ut})),s.set(...this.get()),s.length=tt,s.finished=at,s.destroyed=ct,s.outputLen=ut,s.buffer.set(et),s.pos=bt,s}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(a,s=!1){return s?{h:Number(a&U32_MASK64),l:Number(a>>_32n&U32_MASK64)}:{h:Number(a>>_32n&U32_MASK64)|0,l:Number(a&U32_MASK64)|0}}function split(a,s=!1){let et=new Uint32Array(a.length),tt=new Uint32Array(a.length);for(let at=0;at<a.length;at++){const{h:ct,l:ut}=fromBig(a[at],s);[et[at],tt[at]]=[ct,ut]}return[et,tt]}const toBig=(a,s)=>BigInt(a>>>0)<<_32n|BigInt(s>>>0),shrSH=(a,s,et)=>a>>>et,shrSL=(a,s,et)=>a<<32-et|s>>>et,rotrSH=(a,s,et)=>a>>>et|s<<32-et,rotrSL=(a,s,et)=>a<<32-et|s>>>et,rotrBH=(a,s,et)=>a<<64-et|s>>>et-32,rotrBL=(a,s,et)=>a>>>et-32|s<<64-et,rotr32H=(a,s)=>s,rotr32L=(a,s)=>a,rotlSH=(a,s,et)=>a<<et|s>>>32-et,rotlSL=(a,s,et)=>s<<et|a>>>32-et,rotlBH=(a,s,et)=>s<<et-32|a>>>64-et,rotlBL=(a,s,et)=>a<<et-32|s>>>64-et;function add$5(a,s,et,tt){const at=(s>>>0)+(tt>>>0);return{h:a+et+(at/2**32|0)|0,l:at|0}}const add3L=(a,s,et)=>(a>>>0)+(s>>>0)+(et>>>0),add3H=(a,s,et,tt)=>s+et+tt+(a/2**32|0)|0,add4L=(a,s,et,tt)=>(a>>>0)+(s>>>0)+(et>>>0)+(tt>>>0),add4H=(a,s,et,tt,at)=>s+et+tt+at+(a/2**32|0)|0,add5L=(a,s,et,tt,at)=>(a>>>0)+(s>>>0)+(et>>>0)+(tt>>>0)+(at>>>0),add5H=(a,s,et,tt,at,ct)=>s+et+tt+at+ct+(a/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add:add$5,add3L,add3H,add4L,add4H,add5H,add5L},B2B_IV=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),BBUF=new Uint32Array(32);function G1b(a,s,et,tt,at,ct){const ut=at[ct],bt=at[ct+1];let wt=BBUF[2*a],Et=BBUF[2*a+1],Ft=BBUF[2*s],jt=BBUF[2*s+1],Lt=BBUF[2*et],Ut=BBUF[2*et+1],Vt=BBUF[2*tt],Yt=BBUF[2*tt+1],er=u64.add3L(wt,Ft,ut);Et=u64.add3H(er,Et,jt,bt),wt=er|0,{Dh:Yt,Dl:Vt}={Dh:Yt^Et,Dl:Vt^wt},{Dh:Yt,Dl:Vt}={Dh:u64.rotr32H(Yt,Vt),Dl:u64.rotr32L(Yt,Vt)},{h:Ut,l:Lt}=u64.add(Ut,Lt,Yt,Vt),{Bh:jt,Bl:Ft}={Bh:jt^Ut,Bl:Ft^Lt},{Bh:jt,Bl:Ft}={Bh:u64.rotrSH(jt,Ft,24),Bl:u64.rotrSL(jt,Ft,24)},BBUF[2*a]=wt,BBUF[2*a+1]=Et,BBUF[2*s]=Ft,BBUF[2*s+1]=jt,BBUF[2*et]=Lt,BBUF[2*et+1]=Ut,BBUF[2*tt]=Vt,BBUF[2*tt+1]=Yt}function G2b(a,s,et,tt,at,ct){const ut=at[ct],bt=at[ct+1];let wt=BBUF[2*a],Et=BBUF[2*a+1],Ft=BBUF[2*s],jt=BBUF[2*s+1],Lt=BBUF[2*et],Ut=BBUF[2*et+1],Vt=BBUF[2*tt],Yt=BBUF[2*tt+1],er=u64.add3L(wt,Ft,ut);Et=u64.add3H(er,Et,jt,bt),wt=er|0,{Dh:Yt,Dl:Vt}={Dh:Yt^Et,Dl:Vt^wt},{Dh:Yt,Dl:Vt}={Dh:u64.rotrSH(Yt,Vt,16),Dl:u64.rotrSL(Yt,Vt,16)},{h:Ut,l:Lt}=u64.add(Ut,Lt,Yt,Vt),{Bh:jt,Bl:Ft}={Bh:jt^Ut,Bl:Ft^Lt},{Bh:jt,Bl:Ft}={Bh:u64.rotrBH(jt,Ft,63),Bl:u64.rotrBL(jt,Ft,63)},BBUF[2*a]=wt,BBUF[2*a+1]=Et,BBUF[2*s]=Ft,BBUF[2*s+1]=jt,BBUF[2*et]=Lt,BBUF[2*et+1]=Ut,BBUF[2*tt]=Vt,BBUF[2*tt+1]=Yt}class BLAKE2b extends BLAKE{constructor(s={}){super(128,s.dkLen===void 0?64:s.dkLen,s,64,16,16),this.v0l=B2B_IV[0]|0,this.v0h=B2B_IV[1]|0,this.v1l=B2B_IV[2]|0,this.v1h=B2B_IV[3]|0,this.v2l=B2B_IV[4]|0,this.v2h=B2B_IV[5]|0,this.v3l=B2B_IV[6]|0,this.v3h=B2B_IV[7]|0,this.v4l=B2B_IV[8]|0,this.v4h=B2B_IV[9]|0,this.v5l=B2B_IV[10]|0,this.v5h=B2B_IV[11]|0,this.v6l=B2B_IV[12]|0,this.v6h=B2B_IV[13]|0,this.v7l=B2B_IV[14]|0,this.v7h=B2B_IV[15]|0;const et=s.key?s.key.length:0;if(this.v0l^=this.outputLen|et<<8|65536|1<<24,s.salt){const tt=u32(toBytes(s.salt));this.v4l^=byteSwapIfBE(tt[0]),this.v4h^=byteSwapIfBE(tt[1]),this.v5l^=byteSwapIfBE(tt[2]),this.v5h^=byteSwapIfBE(tt[3])}if(s.personalization){const tt=u32(toBytes(s.personalization));this.v6l^=byteSwapIfBE(tt[0]),this.v6h^=byteSwapIfBE(tt[1]),this.v7l^=byteSwapIfBE(tt[2]),this.v7h^=byteSwapIfBE(tt[3])}if(s.key){const tt=new Uint8Array(this.blockLen);tt.set(toBytes(s.key)),this.update(tt)}}get(){let{v0l:s,v0h:et,v1l:tt,v1h:at,v2l:ct,v2h:ut,v3l:bt,v3h:wt,v4l:Et,v4h:Ft,v5l:jt,v5h:Lt,v6l:Ut,v6h:Vt,v7l:Yt,v7h:er}=this;return[s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt,er]}set(s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt,er){this.v0l=s|0,this.v0h=et|0,this.v1l=tt|0,this.v1h=at|0,this.v2l=ct|0,this.v2h=ut|0,this.v3l=bt|0,this.v3h=wt|0,this.v4l=Et|0,this.v4h=Ft|0,this.v5l=jt|0,this.v5h=Lt|0,this.v6l=Ut|0,this.v6h=Vt|0,this.v7l=Yt|0,this.v7h=er|0}compress(s,et,tt){this.get().forEach((wt,Et)=>BBUF[Et]=wt),BBUF.set(B2B_IV,16);let{h:at,l:ct}=u64.fromBig(BigInt(this.length));BBUF[24]=B2B_IV[8]^ct,BBUF[25]=B2B_IV[9]^at,tt&&(BBUF[28]=~BBUF[28],BBUF[29]=~BBUF[29]);let ut=0;const bt=SIGMA$1;for(let wt=0;wt<12;wt++)G1b(0,4,8,12,s,et+2*bt[ut++]),G2b(0,4,8,12,s,et+2*bt[ut++]),G1b(1,5,9,13,s,et+2*bt[ut++]),G2b(1,5,9,13,s,et+2*bt[ut++]),G1b(2,6,10,14,s,et+2*bt[ut++]),G2b(2,6,10,14,s,et+2*bt[ut++]),G1b(3,7,11,15,s,et+2*bt[ut++]),G2b(3,7,11,15,s,et+2*bt[ut++]),G1b(0,5,10,15,s,et+2*bt[ut++]),G2b(0,5,10,15,s,et+2*bt[ut++]),G1b(1,6,11,12,s,et+2*bt[ut++]),G2b(1,6,11,12,s,et+2*bt[ut++]),G1b(2,7,8,13,s,et+2*bt[ut++]),G2b(2,7,8,13,s,et+2*bt[ut++]),G1b(3,4,9,14,s,et+2*bt[ut++]),G2b(3,4,9,14,s,et+2*bt[ut++]);this.v0l^=BBUF[0]^BBUF[16],this.v0h^=BBUF[1]^BBUF[17],this.v1l^=BBUF[2]^BBUF[18],this.v1h^=BBUF[3]^BBUF[19],this.v2l^=BBUF[4]^BBUF[20],this.v2h^=BBUF[5]^BBUF[21],this.v3l^=BBUF[6]^BBUF[22],this.v3h^=BBUF[7]^BBUF[23],this.v4l^=BBUF[8]^BBUF[24],this.v4h^=BBUF[9]^BBUF[25],this.v5l^=BBUF[10]^BBUF[26],this.v5h^=BBUF[11]^BBUF[27],this.v6l^=BBUF[12]^BBUF[28],this.v6h^=BBUF[13]^BBUF[29],this.v7l^=BBUF[14]^BBUF[30],this.v7h^=BBUF[15]^BBUF[31],BBUF.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const blake2b$1=wrapConstructorWithOpts(a=>new BLAKE2b(a)),blake2b$2=Object.freeze(Object.defineProperty({__proto__:null,BLAKE2b,blake2b:blake2b$1},Symbol.toStringTag,{value:"Module"})),OBJECT_MODULE_NAME$1="object",ID_STRUCT_NAME$1="ID",STD_ASCII_MODULE_NAME$1="ascii",STD_ASCII_STRUCT_NAME$1="String",STD_UTF8_MODULE_NAME$1="string",STD_UTF8_STRUCT_NAME$1="String",STD_OPTION_MODULE_NAME$1="option",STD_OPTION_STRUCT_NAME$1="Option";function isTxContext$1(a){const s=typeof a.body=="object"&&"datatype"in a.body?a.body.datatype:null;return!!s&&normalizeSuiAddress$2(s.package)===normalizeSuiAddress$2("0x2")&&s.module==="tx_context"&&s.type==="TxContext"}function getPureBcsSchema$1(a){if(typeof a=="string")switch(a){case"address":return suiBcs$2.Address;case"bool":return suiBcs$2.Bool;case"u8":return suiBcs$2.U8;case"u16":return suiBcs$2.U16;case"u32":return suiBcs$2.U32;case"u64":return suiBcs$2.U64;case"u128":return suiBcs$2.U128;case"u256":return suiBcs$2.U256;default:throw new Error(`Unknown type signature ${a}`)}if("vector"in a){if(a.vector==="u8")return suiBcs$2.vector(suiBcs$2.U8).transform({input:et=>typeof et=="string"?new TextEncoder().encode(et):et,output:et=>et});const s=getPureBcsSchema$1(a.vector);return s?suiBcs$2.vector(s):null}if("datatype"in a){const s=normalizeSuiAddress$2(a.datatype.package);if(s===normalizeSuiAddress$2(MOVE_STDLIB_ADDRESS$2)){if(a.datatype.module===STD_ASCII_MODULE_NAME$1&&a.datatype.type===STD_ASCII_STRUCT_NAME$1||a.datatype.module===STD_UTF8_MODULE_NAME$1&&a.datatype.type===STD_UTF8_STRUCT_NAME$1)return suiBcs$2.String;if(a.datatype.module===STD_OPTION_MODULE_NAME$1&&a.datatype.type===STD_OPTION_STRUCT_NAME$1){const et=getPureBcsSchema$1(a.datatype.typeParameters[0]);return et?suiBcs$2.vector(et):null}}if(s===normalizeSuiAddress$2(SUI_FRAMEWORK_ADDRESS$2)&&a.datatype.module===OBJECT_MODULE_NAME$1&&a.datatype.type===ID_STRUCT_NAME$1)return suiBcs$2.Address}return null}function normalizedTypeToMoveTypeSignature$1(a){return typeof a=="object"&&"Reference"in a?{ref:"&",body:normalizedTypeToMoveTypeSignatureBody$1(a.Reference)}:typeof a=="object"&&"MutableReference"in a?{ref:"&mut",body:normalizedTypeToMoveTypeSignatureBody$1(a.MutableReference)}:{ref:null,body:normalizedTypeToMoveTypeSignatureBody$1(a)}}function normalizedTypeToMoveTypeSignatureBody$1(a){if(typeof a=="string")switch(a){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${a}`)}if("Vector"in a)return{vector:normalizedTypeToMoveTypeSignatureBody$1(a.Vector)};if("Struct"in a)return{datatype:{package:a.Struct.address,module:a.Struct.module,type:a.Struct.name,typeParameters:a.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody$1)}};if("TypeParameter"in a)return{typeParameter:a.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(a)}`)}function Pure$1(a){return{$kind:"Pure",Pure:{bytes:a instanceof Uint8Array?toBase64(a):a.toBase64()}}}const Inputs$1={Pure:Pure$1,ObjectRef({objectId:a,digest:s,version:et}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:s,version:et,objectId:normalizeSuiAddress$2(a)}}}},SharedObjectRef({objectId:a,mutable:s,initialSharedVersion:et}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:s,initialSharedVersion:et,objectId:normalizeSuiAddress$2(a)}}}},ReceivingRef({objectId:a,digest:s,version:et}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:s,version:et,objectId:normalizeSuiAddress$2(a)}}}}};var UUID_REGEX=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,store$e;function getGlobalConfig(a){return{lang:(a==null?void 0:a.lang)??(store$e==null?void 0:store$e.lang),message:a==null?void 0:a.message,abortEarly:(a==null?void 0:a.abortEarly)??(store$e==null?void 0:store$e.abortEarly),abortPipeEarly:(a==null?void 0:a.abortPipeEarly)??(store$e==null?void 0:store$e.abortPipeEarly)}}var store2;function getGlobalMessage(a){return store2==null?void 0:store2.get(a)}var store3;function getSchemaMessage(a){return store3==null?void 0:store3.get(a)}var store4;function getSpecificMessage(a,s){var et;return(et=store4==null?void 0:store4.get(a))==null?void 0:et.get(s)}function _stringify(a){var et,tt;const s=typeof a;return s==="string"?`"${a}"`:s==="number"||s==="bigint"||s==="boolean"?`${a}`:s==="object"||s==="function"?(a&&((tt=(et=Object.getPrototypeOf(a))==null?void 0:et.constructor)==null?void 0:tt.name))??"null":s}function _addIssue(a,s,et,tt,at){const ct=at&&"input"in at?at.input:et.value,ut=(at==null?void 0:at.expected)??a.expects??null,bt=(at==null?void 0:at.received)??_stringify(ct),wt={kind:a.kind,type:a.type,input:ct,expected:ut,received:bt,message:`Invalid ${s}: ${ut?`Expected ${ut} but r`:"R"}eceived ${bt}`,requirement:a.requirement,path:at==null?void 0:at.path,issues:at==null?void 0:at.issues,lang:tt.lang,abortEarly:tt.abortEarly,abortPipeEarly:tt.abortPipeEarly},Et=a.kind==="schema",Ft=(at==null?void 0:at.message)??a.message??getSpecificMessage(a.reference,wt.lang)??(Et?getSchemaMessage(wt.lang):null)??tt.message??getGlobalMessage(wt.lang);Ft&&(wt.message=typeof Ft=="function"?Ft(wt):Ft),Et&&(et.typed=!1),et.issues?et.issues.push(wt):et.issues=[wt]}function _isValidObjectKey(a,s){return Object.hasOwn(a,s)&&s!=="__proto__"&&s!=="prototype"&&s!=="constructor"}var ValiError=class extends Error{constructor(s){super(s[0].message);dn(this,"issues");this.name="ValiError",this.issues=s}};function check$1(a,s){return{kind:"validation",type:"check",reference:check$1,async:!1,expects:null,requirement:a,message:s,_run(et,tt){return et.typed&&!this.requirement(et.value)&&_addIssue(this,"input",et,tt),et}}}function integer(a){return{kind:"validation",type:"integer",reference:integer,async:!1,expects:null,requirement:Number.isInteger,message:a,_run(s,et){return s.typed&&!this.requirement(s.value)&&_addIssue(this,"integer",s,et),s}}}function transform$2(a){return{kind:"transformation",type:"transform",reference:transform$2,async:!1,operation:a,_run(s){return s.value=this.operation(s.value),s}}}function url(a){return{kind:"validation",type:"url",reference:url,async:!1,expects:null,requirement(s){try{return new URL(s),!0}catch{return!1}},message:a,_run(s,et){return s.typed&&!this.requirement(s.value)&&_addIssue(this,"URL",s,et),s}}}function uuid(a){return{kind:"validation",type:"uuid",reference:uuid,async:!1,expects:null,requirement:UUID_REGEX,message:a,_run(s,et){return s.typed&&!this.requirement.test(s.value)&&_addIssue(this,"UUID",s,et),s}}}function getDefault(a,s,et){return typeof a.default=="function"?a.default(s,et):a.default}function is(a,s){return!a._run({typed:!1,value:s},{abortEarly:!0}).issues}function array(a,s){return{kind:"schema",type:"array",reference:array,expects:"Array",async:!1,item:a,message:s,_run(et,tt){var ct;const at=et.value;if(Array.isArray(at)){et.typed=!0,et.value=[];for(let ut=0;ut<at.length;ut++){const bt=at[ut],wt=this.item._run({typed:!1,value:bt},tt);if(wt.issues){const Et={type:"array",origin:"value",input:at,key:ut,value:bt};for(const Ft of wt.issues)Ft.path?Ft.path.unshift(Et):Ft.path=[Et],(ct=et.issues)==null||ct.push(Ft);if(et.issues||(et.issues=wt.issues),tt.abortEarly){et.typed=!1;break}}wt.typed||(et.typed=!1),et.value.push(wt.value)}}else _addIssue(this,"type",et,tt);return et}}}function bigint(a){return{kind:"schema",type:"bigint",reference:bigint,expects:"bigint",async:!1,message:a,_run(s,et){return typeof s.value=="bigint"?s.typed=!0:_addIssue(this,"type",s,et),s}}}function boolean(a){return{kind:"schema",type:"boolean",reference:boolean,expects:"boolean",async:!1,message:a,_run(s,et){return typeof s.value=="boolean"?s.typed=!0:_addIssue(this,"type",s,et),s}}}function lazy(a){return{kind:"schema",type:"lazy",reference:lazy,expects:"unknown",async:!1,getter:a,_run(s,et){return this.getter(s.value)._run(s,et)}}}function literal(a,s){return{kind:"schema",type:"literal",reference:literal,expects:_stringify(a),async:!1,literal:a,message:s,_run(et,tt){return et.value===this.literal?et.typed=!0:_addIssue(this,"type",et,tt),et}}}function nullable(a,...s){const et={kind:"schema",type:"nullable",reference:nullable,expects:`${a.expects} | null`,async:!1,wrapped:a,_run(tt,at){return tt.value===null&&("default"in this&&(tt.value=getDefault(this,tt,at)),tt.value===null)?(tt.typed=!0,tt):this.wrapped._run(tt,at)}};return 0 in s&&(et.default=s[0]),et}function nullish(a,...s){const et={kind:"schema",type:"nullish",reference:nullish,expects:`${a.expects} | null | undefined`,async:!1,wrapped:a,_run(tt,at){return(tt.value===null||tt.value===void 0)&&("default"in this&&(tt.value=getDefault(this,tt,at)),tt.value===null||tt.value===void 0)?(tt.typed=!0,tt):this.wrapped._run(tt,at)}};return 0 in s&&(et.default=s[0]),et}function number$1(a){return{kind:"schema",type:"number",reference:number$1,expects:"number",async:!1,message:a,_run(s,et){return typeof s.value=="number"&&!isNaN(s.value)?s.typed=!0:_addIssue(this,"type",s,et),s}}}function object$1(a,s){return{kind:"schema",type:"object",reference:object$1,expects:"Object",async:!1,entries:a,message:s,_run(et,tt){var ct;const at=et.value;if(at&&typeof at=="object"){et.typed=!0,et.value={};for(const ut in this.entries){const bt=at[ut],wt=this.entries[ut]._run({typed:!1,value:bt},tt);if(wt.issues){const Et={type:"object",origin:"value",input:at,key:ut,value:bt};for(const Ft of wt.issues)Ft.path?Ft.path.unshift(Et):Ft.path=[Et],(ct=et.issues)==null||ct.push(Ft);if(et.issues||(et.issues=wt.issues),tt.abortEarly){et.typed=!1;break}}wt.typed||(et.typed=!1),(wt.value!==void 0||ut in at)&&(et.value[ut]=wt.value)}}else _addIssue(this,"type",et,tt);return et}}}function optional(a,...s){const et={kind:"schema",type:"optional",reference:optional,expects:`${a.expects} | undefined`,async:!1,wrapped:a,_run(tt,at){return tt.value===void 0&&("default"in this&&(tt.value=getDefault(this,tt,at)),tt.value===void 0)?(tt.typed=!0,tt):this.wrapped._run(tt,at)}};return 0 in s&&(et.default=s[0]),et}function record(a,s,et){return{kind:"schema",type:"record",reference:record,expects:"Object",async:!1,key:a,value:s,message:et,_run(tt,at){var ut,bt;const ct=tt.value;if(ct&&typeof ct=="object"){tt.typed=!0,tt.value={};for(const wt in ct)if(_isValidObjectKey(ct,wt)){const Et=ct[wt],Ft=this.key._run({typed:!1,value:wt},at);if(Ft.issues){const Lt={type:"object",origin:"key",input:ct,key:wt,value:Et};for(const Ut of Ft.issues)Ut.path=[Lt],(ut=tt.issues)==null||ut.push(Ut);if(tt.issues||(tt.issues=Ft.issues),at.abortEarly){tt.typed=!1;break}}const jt=this.value._run({typed:!1,value:Et},at);if(jt.issues){const Lt={type:"object",origin:"value",input:ct,key:wt,value:Et};for(const Ut of jt.issues)Ut.path?Ut.path.unshift(Lt):Ut.path=[Lt],(bt=tt.issues)==null||bt.push(Ut);if(tt.issues||(tt.issues=jt.issues),at.abortEarly){tt.typed=!1;break}}(!Ft.typed||!jt.typed)&&(tt.typed=!1),Ft.typed&&(tt.value[Ft.value]=jt.value)}}else _addIssue(this,"type",tt,at);return tt}}}function string(a){return{kind:"schema",type:"string",reference:string,expects:"string",async:!1,message:a,_run(s,et){return typeof s.value=="string"?s.typed=!0:_addIssue(this,"type",s,et),s}}}function tuple(a,s){return{kind:"schema",type:"tuple",reference:tuple,expects:"Array",async:!1,items:a,message:s,_run(et,tt){var ct;const at=et.value;if(Array.isArray(at)){et.typed=!0,et.value=[];for(let ut=0;ut<this.items.length;ut++){const bt=at[ut],wt=this.items[ut]._run({typed:!1,value:bt},tt);if(wt.issues){const Et={type:"array",origin:"value",input:at,key:ut,value:bt};for(const Ft of wt.issues)Ft.path?Ft.path.unshift(Et):Ft.path=[Et],(ct=et.issues)==null||ct.push(Ft);if(et.issues||(et.issues=wt.issues),tt.abortEarly){et.typed=!1;break}}wt.typed||(et.typed=!1),et.value.push(wt.value)}}else _addIssue(this,"type",et,tt);return et}}}function _subIssues(a){let s;if(a)for(const et of a)s?s.push(...et.issues):s=et.issues;return s}function union(a,s){return{kind:"schema",type:"union",reference:union,expects:[...new Set(a.map(et=>et.expects))].join(" | ")||"never",async:!1,options:a,message:s,_run(et,tt){let at,ct,ut;for(const bt of this.options){const wt=bt._run({typed:!1,value:et.value},tt);if(wt.typed)if(wt.issues)ct?ct.push(wt):ct=[wt];else{at=wt;break}else ut?ut.push(wt):ut=[wt]}if(at)return at;if(ct){if(ct.length===1)return ct[0];_addIssue(this,"type",et,tt,{issues:_subIssues(ct)}),et.typed=!0}else{if((ut==null?void 0:ut.length)===1)return ut[0];_addIssue(this,"type",et,tt,{issues:_subIssues(ut)})}return et}}}function unknown(){return{kind:"schema",type:"unknown",reference:unknown,expects:"unknown",async:!1,_run(a){return a.typed=!0,a}}}function _discriminators(a,s,et=new Set){for(const tt of s)tt.type==="variant"?_discriminators(a,tt.options,et):et.add(tt.entries[a].expects);return et}function variant(a,s,et){let tt;return{kind:"schema",type:"variant",reference:variant,expects:"Object",async:!1,key:a,options:s,message:et,_run(at,ct){const ut=at.value;if(ut&&typeof ut=="object"){const bt=ut[this.key];if(this.key in ut){let wt;for(const Et of this.options)if(Et.type==="variant"||!Et.entries[this.key]._run({typed:!1,value:bt},ct).issues){const Ft=Et._run({typed:!1,value:ut},ct);if(!Ft.issues)return Ft;(!wt||!wt.typed&&Ft.typed)&&(wt=Ft)}if(wt)return wt}tt||(tt=[..._discriminators(this.key,this.options)].join(" | ")||"never"),_addIssue(this,"type",at,ct,{input:bt,expected:tt,path:[{type:"object",origin:"value",input:ut,key:this.key,value:bt}]})}else _addIssue(this,"type",at,ct);return at}}}function parse$2(a,s,et){const tt=a._run({typed:!1,value:s},getGlobalConfig(et));if(tt.issues)throw new ValiError(tt.issues);return tt.value}function pipe$4(...a){return{...a[0],pipe:a,_run(s,et){for(let tt=0;tt<a.length;tt++){if(s.issues&&(a[tt].kind==="schema"||a[tt].kind==="transformation")){s.typed=!1;break}(!s.issues||!et.abortEarly&&!et.abortPipeEarly)&&(s=a[tt]._run(s,et))}return s}}}function safeParse(a,s,et){const tt=a._run({typed:!1,value:s},getGlobalConfig(et));return{typed:tt.typed,success:!tt.issues,output:tt.value,issues:tt.issues}}function safeEnum$1(a){const s=Object.entries(a).map(([et,tt])=>object$1({[et]:tt}));return pipe$4(union(s),transform$2(et=>({...et,$kind:Object.keys(et)[0]})))}const SuiAddress$1=pipe$4(string(),transform$2(a=>normalizeSuiAddress$2(a)),check$1(isValidSuiAddress$2)),ObjectID$1=SuiAddress$1,BCSBytes$1=string(),JsonU64$1=pipe$4(union([string(),pipe$4(number$1(),integer())]),check$1(a=>{try{return BigInt(a),BigInt(a)>=0&&BigInt(a)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ObjectRef$3=object$1({objectId:SuiAddress$1,version:JsonU64$1,digest:string()}),Argument$5=pipe$4(union([object$1({GasCoin:literal(!0)}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("pure"))}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("object"))}),object$1({Result:pipe$4(number$1(),integer())}),object$1({NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])})]),transform$2(a=>({...a,$kind:Object.keys(a)[0]}))),GasData$5=object$1({budget:nullable(JsonU64$1),price:nullable(JsonU64$1),owner:nullable(SuiAddress$1),payment:nullable(array(ObjectRef$3))}),OpenMoveTypeSignatureBody$1=union([literal("address"),literal("bool"),literal("u8"),literal("u16"),literal("u32"),literal("u64"),literal("u128"),literal("u256"),object$1({vector:lazy(()=>OpenMoveTypeSignatureBody$1)}),object$1({datatype:object$1({package:string(),module:string(),type:string(),typeParameters:array(lazy(()=>OpenMoveTypeSignatureBody$1))})}),object$1({typeParameter:pipe$4(number$1(),integer())})]),OpenMoveTypeSignature$1=object$1({ref:nullable(union([literal("&"),literal("&mut")])),body:OpenMoveTypeSignatureBody$1}),ProgrammableMoveCall$5=object$1({package:ObjectID$1,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$5),_argumentTypes:optional(nullable(array(OpenMoveTypeSignature$1)))}),$Intent$3=object$1({name:string(),inputs:record(string(),union([Argument$5,array(Argument$5)])),data:record(string(),unknown())}),Command$5=safeEnum$1({MoveCall:ProgrammableMoveCall$5,TransferObjects:object$1({objects:array(Argument$5),address:Argument$5}),SplitCoins:object$1({coin:Argument$5,amounts:array(Argument$5)}),MergeCoins:object$1({destination:Argument$5,sources:array(Argument$5)}),Publish:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$5)}),Upgrade:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1),package:ObjectID$1,ticket:Argument$5}),$Intent:$Intent$3}),ObjectArg$7=safeEnum$1({ImmOrOwnedObject:ObjectRef$3,SharedObject:object$1({objectId:ObjectID$1,initialSharedVersion:JsonU64$1,mutable:boolean()}),Receiving:ObjectRef$3}),CallArg$5=safeEnum$1({Object:ObjectArg$7,Pure:object$1({bytes:BCSBytes$1}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID$1,version:optional(nullable(JsonU64$1)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64$1))})}),NormalizedCallArg$3=safeEnum$1({Object:ObjectArg$7,Pure:object$1({bytes:BCSBytes$1})}),TransactionExpiration$7=safeEnum$1({None:literal(!0),Epoch:JsonU64$1}),TransactionData$3=object$1({version:literal(2),sender:nullish(SuiAddress$1),expiration:nullish(TransactionExpiration$7),gasData:GasData$5,inputs:array(CallArg$5),commands:array(Command$5)}),Commands$1={MoveCall(a){const[s,et="",tt=""]="target"in a?a.target.split("::"):[a.package,a.module,a.function];return{$kind:"MoveCall",MoveCall:{package:s,module:et,function:tt,typeArguments:a.typeArguments??[],arguments:a.arguments??[]}}},TransferObjects(a,s){return{$kind:"TransferObjects",TransferObjects:{objects:a.map(et=>parse$2(Argument$5,et)),address:parse$2(Argument$5,s)}}},SplitCoins(a,s){return{$kind:"SplitCoins",SplitCoins:{coin:parse$2(Argument$5,a),amounts:s.map(et=>parse$2(Argument$5,et))}}},MergeCoins(a,s){return{$kind:"MergeCoins",MergeCoins:{destination:parse$2(Argument$5,a),sources:s.map(et=>parse$2(Argument$5,et))}}},Publish({modules:a,dependencies:s}){return{$kind:"Publish",Publish:{modules:a.map(et=>typeof et=="string"?et:toBase64(new Uint8Array(et))),dependencies:s.map(et=>normalizeSuiObjectId$2(et))}}},Upgrade({modules:a,dependencies:s,package:et,ticket:tt}){return{$kind:"Upgrade",Upgrade:{modules:a.map(at=>typeof at=="string"?at:toBase64(new Uint8Array(at))),dependencies:s.map(at=>normalizeSuiObjectId$2(at)),package:et,ticket:parse$2(Argument$5,tt)}}},MakeMoveVec({type:a,elements:s}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:a??null,elements:s.map(et=>parse$2(Argument$5,et))}}},Intent({name:a,inputs:s={},data:et={}}){return{$kind:"$Intent",$Intent:{name:a,inputs:Object.fromEntries(Object.entries(s).map(([tt,at])=>[tt,Array.isArray(at)?at.map(ct=>parse$2(Argument$5,ct)):parse$2(Argument$5,at)])),data:et}}}},ObjectRef$2=object$1({digest:string(),objectId:string(),version:union([pipe$4(number$1(),integer()),string(),bigint()])}),ObjectArg$6=safeEnum$1({ImmOrOwned:ObjectRef$2,Shared:object$1({objectId:ObjectID$1,initialSharedVersion:JsonU64$1,mutable:boolean()}),Receiving:ObjectRef$2}),NormalizedCallArg$2=safeEnum$1({Object:ObjectArg$6,Pure:array(pipe$4(number$1(),integer()))}),TransactionInput$1=union([object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:optional(literal("object"))}),object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:literal("pure")})]),TransactionExpiration$6=union([object$1({Epoch:pipe$4(number$1(),integer())}),object$1({None:nullable(literal(!0))})]),StringEncodedBigint$1=pipe$4(union([number$1(),string(),bigint()]),check$1(a=>{if(!["string","number","bigint"].includes(typeof a))return!1;try{return BigInt(a),!0}catch{return!1}})),TypeTag$3=union([object$1({bool:nullable(literal(!0))}),object$1({u8:nullable(literal(!0))}),object$1({u64:nullable(literal(!0))}),object$1({u128:nullable(literal(!0))}),object$1({address:nullable(literal(!0))}),object$1({signer:nullable(literal(!0))}),object$1({vector:lazy(()=>TypeTag$3)}),object$1({struct:lazy(()=>StructTag$3)}),object$1({u16:nullable(literal(!0))}),object$1({u32:nullable(literal(!0))}),object$1({u256:nullable(literal(!0))})]),StructTag$3=object$1({address:string(),module:string(),name:string(),typeParams:array(TypeTag$3)}),GasConfig$1=object$1({budget:optional(StringEncodedBigint$1),price:optional(StringEncodedBigint$1),payment:optional(array(ObjectRef$2)),owner:optional(string())}),TransactionArgumentTypes$1=[TransactionInput$1,object$1({kind:literal("GasCoin")}),object$1({kind:literal("Result"),index:pipe$4(number$1(),integer())}),object$1({kind:literal("NestedResult"),index:pipe$4(number$1(),integer()),resultIndex:pipe$4(number$1(),integer())})],TransactionArgument$1=union([...TransactionArgumentTypes$1]),MoveCallTransaction$1=object$1({kind:literal("MoveCall"),target:pipe$4(string(),check$1(a=>a.split("::").length===3)),typeArguments:array(string()),arguments:array(TransactionArgument$1)}),TransferObjectsTransaction$1=object$1({kind:literal("TransferObjects"),objects:array(TransactionArgument$1),address:TransactionArgument$1}),SplitCoinsTransaction$1=object$1({kind:literal("SplitCoins"),coin:TransactionArgument$1,amounts:array(TransactionArgument$1)}),MergeCoinsTransaction$1=object$1({kind:literal("MergeCoins"),destination:TransactionArgument$1,sources:array(TransactionArgument$1)}),MakeMoveVecTransaction$1=object$1({kind:literal("MakeMoveVec"),type:union([object$1({Some:TypeTag$3}),object$1({None:nullable(literal(!0))})]),objects:array(TransactionArgument$1)}),PublishTransaction$1=object$1({kind:literal("Publish"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string())}),UpgradeTransaction$1=object$1({kind:literal("Upgrade"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string()),packageId:string(),ticket:TransactionArgument$1}),TransactionTypes$1=[MoveCallTransaction$1,TransferObjectsTransaction$1,SplitCoinsTransaction$1,MergeCoinsTransaction$1,PublishTransaction$1,UpgradeTransaction$1,MakeMoveVecTransaction$1],TransactionType$1=union([...TransactionTypes$1]);object$1({version:literal(1),sender:optional(string()),expiration:nullish(TransactionExpiration$6),gasConfig:GasConfig$1,inputs:array(TransactionInput$1),transactions:array(TransactionType$1)});function serializeV1TransactionData$1(a){var et;const s=a.inputs.map((tt,at)=>{if(tt.Object)return{kind:"Input",index:at,value:{Object:tt.Object.ImmOrOwnedObject?{ImmOrOwned:tt.Object.ImmOrOwnedObject}:tt.Object.Receiving?{Receiving:{digest:tt.Object.Receiving.digest,version:tt.Object.Receiving.version,objectId:tt.Object.Receiving.objectId}}:{Shared:{mutable:tt.Object.SharedObject.mutable,initialSharedVersion:tt.Object.SharedObject.initialSharedVersion,objectId:tt.Object.SharedObject.objectId}}},type:"object"};if(tt.Pure)return{kind:"Input",index:at,value:{Pure:Array.from(fromBase64(tt.Pure.bytes))},type:"pure"};if(tt.UnresolvedPure)return{kind:"Input",type:"pure",index:at,value:tt.UnresolvedPure.value};if(tt.UnresolvedObject)return{kind:"Input",type:"object",index:at,value:tt.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:a.sender??void 0,expiration:((et=a.expiration)==null?void 0:et.$kind)==="Epoch"?{Epoch:Number(a.expiration.Epoch)}:a.expiration?{None:!0}:null,gasConfig:{owner:a.gasData.owner??void 0,budget:a.gasData.budget??void 0,price:a.gasData.price??void 0,payment:a.gasData.payment??void 0},inputs:s,transactions:a.commands.map(tt=>{if(tt.MakeMoveVec)return{kind:"MakeMoveVec",type:tt.MakeMoveVec.type===null?{None:!0}:{Some:TypeTagSerializer$2.parseFromStr(tt.MakeMoveVec.type)},objects:tt.MakeMoveVec.elements.map(at=>convertTransactionArgument$1(at,s))};if(tt.MergeCoins)return{kind:"MergeCoins",destination:convertTransactionArgument$1(tt.MergeCoins.destination,s),sources:tt.MergeCoins.sources.map(at=>convertTransactionArgument$1(at,s))};if(tt.MoveCall)return{kind:"MoveCall",target:`${tt.MoveCall.package}::${tt.MoveCall.module}::${tt.MoveCall.function}`,typeArguments:tt.MoveCall.typeArguments,arguments:tt.MoveCall.arguments.map(at=>convertTransactionArgument$1(at,s))};if(tt.Publish)return{kind:"Publish",modules:tt.Publish.modules.map(at=>Array.from(fromBase64(at))),dependencies:tt.Publish.dependencies};if(tt.SplitCoins)return{kind:"SplitCoins",coin:convertTransactionArgument$1(tt.SplitCoins.coin,s),amounts:tt.SplitCoins.amounts.map(at=>convertTransactionArgument$1(at,s))};if(tt.TransferObjects)return{kind:"TransferObjects",objects:tt.TransferObjects.objects.map(at=>convertTransactionArgument$1(at,s)),address:convertTransactionArgument$1(tt.TransferObjects.address,s)};if(tt.Upgrade)return{kind:"Upgrade",modules:tt.Upgrade.modules.map(at=>Array.from(fromBase64(at))),dependencies:tt.Upgrade.dependencies,packageId:tt.Upgrade.package,ticket:convertTransactionArgument$1(tt.Upgrade.ticket,s)};throw new Error(`Unknown transaction ${Object.keys(tt)}`)})}}function convertTransactionArgument$1(a,s){if(a.$kind==="GasCoin")return{kind:"GasCoin"};if(a.$kind==="Result")return{kind:"Result",index:a.Result};if(a.$kind==="NestedResult")return{kind:"NestedResult",index:a.NestedResult[0],resultIndex:a.NestedResult[1]};if(a.$kind==="Input")return s[a.Input];throw new Error(`Invalid argument ${Object.keys(a)}`)}function transactionDataFromV1$1(a){var s,et,tt;return parse$2(TransactionData$3,{version:2,sender:a.sender??null,expiration:a.expiration?"Epoch"in a.expiration?{Epoch:a.expiration.Epoch}:{None:!0}:null,gasData:{owner:a.gasConfig.owner??null,budget:((s=a.gasConfig.budget)==null?void 0:s.toString())??null,price:((et=a.gasConfig.price)==null?void 0:et.toString())??null,payment:((tt=a.gasConfig.payment)==null?void 0:tt.map(at=>({digest:at.digest,objectId:at.objectId,version:at.version.toString()})))??null},inputs:a.inputs.map(at=>{if(at.kind==="Input"){if(is(NormalizedCallArg$2,at.value)){const ct=parse$2(NormalizedCallArg$2,at.value);if(ct.Object){if(ct.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:ct.Object.ImmOrOwned.objectId,version:String(ct.Object.ImmOrOwned.version),digest:ct.Object.ImmOrOwned.digest}}};if(ct.Object.Shared)return{Object:{SharedObject:{mutable:ct.Object.Shared.mutable??null,initialSharedVersion:ct.Object.Shared.initialSharedVersion,objectId:ct.Object.Shared.objectId}}};if(ct.Object.Receiving)return{Object:{Receiving:{digest:ct.Object.Receiving.digest,version:String(ct.Object.Receiving.version),objectId:ct.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:toBase64(new Uint8Array(ct.Pure))}}}return at.type==="object"?{UnresolvedObject:{objectId:at.value}}:{UnresolvedPure:{value:at.value}}}throw new Error("Invalid input")}),commands:a.transactions.map(at=>{switch(at.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in at.type?TypeTagSerializer$2.tagToString(at.type.Some):null,elements:at.objects.map(ct=>parseV1TransactionArgument$1(ct))}};case"MergeCoins":return{MergeCoins:{destination:parseV1TransactionArgument$1(at.destination),sources:at.sources.map(ct=>parseV1TransactionArgument$1(ct))}};case"MoveCall":{const[ct,ut,bt]=at.target.split("::");return{MoveCall:{package:ct,module:ut,function:bt,typeArguments:at.typeArguments,arguments:at.arguments.map(wt=>parseV1TransactionArgument$1(wt))}}}case"Publish":return{Publish:{modules:at.modules.map(ct=>toBase64(Uint8Array.from(ct))),dependencies:at.dependencies}};case"SplitCoins":return{SplitCoins:{coin:parseV1TransactionArgument$1(at.coin),amounts:at.amounts.map(ct=>parseV1TransactionArgument$1(ct))}};case"TransferObjects":return{TransferObjects:{objects:at.objects.map(ct=>parseV1TransactionArgument$1(ct)),address:parseV1TransactionArgument$1(at.address)}};case"Upgrade":return{Upgrade:{modules:at.modules.map(ct=>toBase64(Uint8Array.from(ct))),dependencies:at.dependencies,package:at.packageId,ticket:parseV1TransactionArgument$1(at.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(at)}`)})})}function parseV1TransactionArgument$1(a){switch(a.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:a.index};case"NestedResult":return{NestedResult:[a.index,a.resultIndex]};case"Input":return{Input:a.index}}}function enumUnion$1(a){return union(Object.entries(a).map(([s,et])=>object$1({[s]:et})))}const Argument$4=enumUnion$1({GasCoin:literal(!0),Input:pipe$4(number$1(),integer()),Result:pipe$4(number$1(),integer()),NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])}),GasData$4=object$1({budget:nullable(JsonU64$1),price:nullable(JsonU64$1),owner:nullable(SuiAddress$1),payment:nullable(array(ObjectRef$3))}),ProgrammableMoveCall$4=object$1({package:ObjectID$1,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$4)}),$Intent$2=object$1({name:string(),inputs:record(string(),union([Argument$4,array(Argument$4)])),data:record(string(),unknown())}),Command$4=enumUnion$1({MoveCall:ProgrammableMoveCall$4,TransferObjects:object$1({objects:array(Argument$4),address:Argument$4}),SplitCoins:object$1({coin:Argument$4,amounts:array(Argument$4)}),MergeCoins:object$1({destination:Argument$4,sources:array(Argument$4)}),Publish:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$4)}),Upgrade:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1),package:ObjectID$1,ticket:Argument$4}),$Intent:$Intent$2}),ObjectArg$5=enumUnion$1({ImmOrOwnedObject:ObjectRef$3,SharedObject:object$1({objectId:ObjectID$1,initialSharedVersion:JsonU64$1,mutable:boolean()}),Receiving:ObjectRef$3}),CallArg$4=enumUnion$1({Object:ObjectArg$5,Pure:object$1({bytes:BCSBytes$1}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID$1,version:optional(nullable(JsonU64$1)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64$1))})}),TransactionExpiration$5=enumUnion$1({None:literal(!0),Epoch:JsonU64$1}),SerializedTransactionDataV2$1=object$1({version:literal(2),sender:nullish(SuiAddress$1),expiration:nullish(TransactionExpiration$5),gasData:GasData$4,inputs:array(CallArg$4),commands:array(Command$4)}),MAX_OBJECTS_PER_FETCH$1=50,GAS_SAFE_OVERHEAD$1=1000n,MAX_GAS$1=5e10;async function resolveTransactionData$1(a,s,et){return await normalizeInputs$1(a,s),await resolveObjectReferences$1(a,s),s.onlyTransactionKind||(await setGasPrice$1(a,s),await setGasBudget$1(a,s),await setGasPayment$1(a,s)),await validate$2(a),await et()}async function setGasPrice$1(a,s){a.gasConfig.price||(a.gasConfig.price=String(await getClient$1(s).getReferenceGasPrice()))}async function setGasBudget$1(a,s){if(a.gasConfig.budget)return;const et=await getClient$1(s).dryRunTransactionBlock({transactionBlock:a.build({overrides:{gasData:{budget:String(MAX_GAS$1),payment:[]}}})});if(et.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${et.effects.status.error}`,{cause:et});const tt=GAS_SAFE_OVERHEAD$1*BigInt(a.gasConfig.price||1n),at=BigInt(et.effects.gasUsed.computationCost)+tt,ct=at+BigInt(et.effects.gasUsed.storageCost)-BigInt(et.effects.gasUsed.storageRebate);a.gasConfig.budget=String(ct>at?ct:at)}async function setGasPayment$1(a,s){if(!a.gasConfig.payment){const tt=(await getClient$1(s).getCoins({owner:a.gasConfig.owner||a.sender,coinType:SUI_TYPE_ARG$2})).data.filter(at=>!a.inputs.find(ut=>{var bt;return(bt=ut.Object)!=null&&bt.ImmOrOwnedObject?at.coinObjectId===ut.Object.ImmOrOwnedObject.objectId:!1})).map(at=>({objectId:at.coinObjectId,digest:at.digest,version:at.version}));if(!tt.length)throw new Error("No valid gas coins found for the transaction.");a.gasConfig.payment=tt.map(at=>parse$2(ObjectRef$3,at))}}async function resolveObjectReferences$1(a,s){const et=a.inputs.filter(Ft=>{var jt;return Ft.UnresolvedObject&&!(Ft.UnresolvedObject.version||(jt=Ft.UnresolvedObject)!=null&&jt.initialSharedVersion)}),tt=[...new Set(et.map(Ft=>normalizeSuiObjectId$2(Ft.UnresolvedObject.objectId)))],at=tt.length?chunk$1(tt,MAX_OBJECTS_PER_FETCH$1):[],ct=(await Promise.all(at.map(Ft=>getClient$1(s).multiGetObjects({ids:Ft,options:{showOwner:!0}})))).flat(),ut=new Map(tt.map((Ft,jt)=>[Ft,ct[jt]])),bt=Array.from(ut).filter(([Ft,jt])=>jt.error).map(([Ft,jt])=>JSON.stringify(jt.error));if(bt.length)throw new Error(`The following input objects are invalid: ${bt.join(", ")}`);const wt=ct.map(Ft=>{if(Ft.error||!Ft.data)throw new Error(`Failed to fetch object: ${Ft.error}`);const jt=Ft.data.owner,Lt=jt&&typeof jt=="object"&&"Shared"in jt?jt.Shared.initial_shared_version:null;return{objectId:Ft.data.objectId,digest:Ft.data.digest,version:Ft.data.version,initialSharedVersion:Lt}}),Et=new Map(tt.map((Ft,jt)=>[Ft,wt[jt]]));for(const[Ft,jt]of a.inputs.entries()){if(!jt.UnresolvedObject)continue;let Lt;const Ut=normalizeSuiAddress$2(jt.UnresolvedObject.objectId),Vt=Et.get(Ut);jt.UnresolvedObject.initialSharedVersion??(Vt==null?void 0:Vt.initialSharedVersion)?Lt=Inputs$1.SharedObjectRef({objectId:Ut,initialSharedVersion:jt.UnresolvedObject.initialSharedVersion||(Vt==null?void 0:Vt.initialSharedVersion),mutable:isUsedAsMutable$1(a,Ft)}):isUsedAsReceiving$1(a,Ft)&&(Lt=Inputs$1.ReceivingRef({objectId:Ut,digest:jt.UnresolvedObject.digest??(Vt==null?void 0:Vt.digest),version:jt.UnresolvedObject.version??(Vt==null?void 0:Vt.version)})),a.inputs[a.inputs.indexOf(jt)]=Lt??Inputs$1.ObjectRef({objectId:Ut,digest:jt.UnresolvedObject.digest??(Vt==null?void 0:Vt.digest),version:jt.UnresolvedObject.version??(Vt==null?void 0:Vt.version)})}}async function normalizeInputs$1(a,s){const{inputs:et,commands:tt}=a,at=[],ct=new Set;tt.forEach(bt=>{if(bt.MoveCall){if(bt.MoveCall._argumentTypes)return;if(bt.MoveCall.arguments.map(Ft=>Ft.$kind==="Input"?a.inputs[Ft.Input]:null).some(Ft=>(Ft==null?void 0:Ft.UnresolvedPure)||(Ft==null?void 0:Ft.UnresolvedObject))){const Ft=`${bt.MoveCall.package}::${bt.MoveCall.module}::${bt.MoveCall.function}`;ct.add(Ft),at.push(bt.MoveCall)}}switch(bt.$kind){case"SplitCoins":bt.SplitCoins.amounts.forEach(wt=>{normalizeRawArgument$1(wt,suiBcs$2.U64,a)});break;case"TransferObjects":normalizeRawArgument$1(bt.TransferObjects.address,suiBcs$2.Address,a);break}});const ut=new Map;if(ct.size>0){const bt=getClient$1(s);await Promise.all([...ct].map(async wt=>{const[Et,Ft,jt]=wt.split("::"),Lt=await bt.getNormalizedMoveFunction({package:Et,module:Ft,function:jt});ut.set(wt,Lt.parameters.map(Ut=>normalizedTypeToMoveTypeSignature$1(Ut)))}))}at.length&&await Promise.all(at.map(async bt=>{const wt=ut.get(`${bt.package}::${bt.module}::${bt.function}`);if(!wt)return;const Ft=wt.length>0&&isTxContext$1(wt.at(-1))?wt.slice(0,wt.length-1):wt;bt._argumentTypes=Ft})),tt.forEach(bt=>{if(!bt.MoveCall)return;const wt=bt.MoveCall,Et=`${wt.package}::${wt.module}::${wt.function}`,Ft=wt._argumentTypes;if(Ft){if(Ft.length!==bt.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${Et}`);Ft.forEach((jt,Lt)=>{var nr,ir;const Ut=wt.arguments[Lt];if(Ut.$kind!=="Input")return;const Vt=et[Ut.Input];if(!Vt.UnresolvedPure&&!Vt.UnresolvedObject)return;const Yt=((nr=Vt.UnresolvedPure)==null?void 0:nr.value)??((ir=Vt.UnresolvedObject)==null?void 0:ir.objectId),er=getPureBcsSchema$1(jt.body);if(er){Ut.type="pure",et[et.indexOf(Vt)]=Inputs$1.Pure(er.serialize(Yt));return}if(typeof Yt!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(Yt,null,2)}`);Ut.type="object";const tr=Vt.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Yt}}:Vt;et[Ut.Input]=tr})}})}function validate$2(a){a.inputs.forEach((s,et)=>{if(s.$kind!=="Object"&&s.$kind!=="Pure")throw new Error(`Input at index ${et} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(s)}`)})}function normalizeRawArgument$1(a,s,et){if(a.$kind!=="Input")return;const tt=et.inputs[a.Input];tt.$kind==="UnresolvedPure"&&(et.inputs[a.Input]=Inputs$1.Pure(s.serialize(tt.UnresolvedPure.value)))}function isUsedAsMutable$1(a,s){let et=!1;return a.getInputUses(s,(tt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const ct=at.MoveCall.arguments.indexOf(tt);et=at.MoveCall._argumentTypes[ct].ref!=="&"||et}(at.$kind==="MakeMoveVec"||at.$kind==="MergeCoins"||at.$kind==="SplitCoins")&&(et=!0)}),et}function isUsedAsReceiving$1(a,s){let et=!1;return a.getInputUses(s,(tt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const ct=at.MoveCall.arguments.indexOf(tt);et=isReceivingType$1(at.MoveCall._argumentTypes[ct])||et}}),et}function isReceivingType$1(a){return typeof a.body!="object"||!("datatype"in a.body)?!1:a.body.datatype.package==="0x2"&&a.body.datatype.module==="transfer"&&a.body.datatype.type==="Receiving"}function getClient$1(a){if(!a.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return a.client}function chunk$1(a,s){return Array.from({length:Math.ceil(a.length/s)},(et,tt)=>a.slice(tt*s,tt*s+s))}function createObjectMethods$1(a){function s(et){return a(et)}return s.system=()=>s("0x5"),s.clock=()=>s("0x6"),s.random=()=>s("0x8"),s.denyList=()=>s("0x403"),s.option=({type:et,value:tt})=>at=>at.moveCall({typeArguments:[et],target:`0x1::option::${tt===null?"none":"some"}`,arguments:tt===null?[]:[at.object(tt)]}),s}function createPure$1(a){function s(et,tt){if(typeof et=="string")return a(pureBcsSchemaFromTypeName$2(et).serialize(tt));if(et instanceof Uint8Array||isSerializedBcs(et))return a(et);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return s.u8=et=>a(suiBcs$2.U8.serialize(et)),s.u16=et=>a(suiBcs$2.U16.serialize(et)),s.u32=et=>a(suiBcs$2.U32.serialize(et)),s.u64=et=>a(suiBcs$2.U64.serialize(et)),s.u128=et=>a(suiBcs$2.U128.serialize(et)),s.u256=et=>a(suiBcs$2.U256.serialize(et)),s.bool=et=>a(suiBcs$2.Bool.serialize(et)),s.string=et=>a(suiBcs$2.String.serialize(et)),s.address=et=>a(suiBcs$2.Address.serialize(et)),s.id=s.address,s.vector=(et,tt)=>a(suiBcs$2.vector(pureBcsSchemaFromTypeName$2(et)).serialize(tt)),s.option=(et,tt)=>a(suiBcs$2.option(pureBcsSchemaFromTypeName$2(et)).serialize(tt)),s}function hashTypedData$1(a,s){const et=Array.from(`${a}::`).map(at=>at.charCodeAt(0)),tt=new Uint8Array(et.length+s.length);return tt.set(et),tt.set(s,et.length),blake2b$1(tt,{dkLen:32})}function prepareSuiAddress$1(a){return normalizeSuiAddress$2(a).replace("0x","")}let TransactionDataBuilder$1=class Gl{constructor(s){this.version=2,this.sender=(s==null?void 0:s.sender)??null,this.expiration=(s==null?void 0:s.expiration)??null,this.inputs=(s==null?void 0:s.inputs)??[],this.commands=(s==null?void 0:s.commands)??[],this.gasData=(s==null?void 0:s.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(s){const tt=suiBcs$2.TransactionKind.parse(s).ProgrammableTransaction;if(!tt)throw new Error("Unable to deserialize from bytes.");return Gl.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:tt.inputs,commands:tt.commands})}static fromBytes(s){const et=suiBcs$2.TransactionData.parse(s),tt=et==null?void 0:et.V1,at=tt.kind.ProgrammableTransaction;if(!tt||!at)throw new Error("Unable to deserialize from bytes.");return Gl.restore({version:2,sender:tt.sender,expiration:tt.expiration,gasData:tt.gasData,inputs:at.inputs,commands:at.commands})}static restore(s){return s.version===2?new Gl(parse$2(TransactionData$3,s)):new Gl(parse$2(TransactionData$3,transactionDataFromV1$1(s)))}static getDigestFromBytes(s){const et=hashTypedData$1("TransactionData",s);return toBase58(et)}get gasConfig(){return this.gasData}set gasConfig(s){this.gasData=s}build({maxSizeBytes:s=1/0,overrides:et,onlyTransactionKind:tt}={}){const at=this.inputs,ct=this.commands,ut={ProgrammableTransaction:{inputs:at,commands:ct}};if(tt)return suiBcs$2.TransactionKind.serialize(ut,{maxSize:s}).toBytes();const bt=(et==null?void 0:et.expiration)??this.expiration,wt=(et==null?void 0:et.sender)??this.sender,Et={...this.gasData,...et==null?void 0:et.gasConfig,...et==null?void 0:et.gasData};if(!wt)throw new Error("Missing transaction sender");if(!Et.budget)throw new Error("Missing gas budget");if(!Et.payment)throw new Error("Missing gas payment");if(!Et.price)throw new Error("Missing gas price");const Ft={sender:prepareSuiAddress$1(wt),expiration:bt||{None:!0},gasData:{payment:Et.payment,owner:prepareSuiAddress$1(this.gasData.owner??wt),price:BigInt(Et.price),budget:BigInt(Et.budget)},kind:{ProgrammableTransaction:{inputs:at,commands:ct}}};return suiBcs$2.TransactionData.serialize({V1:Ft},{maxSize:s}).toBytes()}addInput(s,et){const tt=this.inputs.length;return this.inputs.push(et),{Input:tt,type:s,$kind:"Input"}}getInputUses(s,et){this.mapArguments((tt,at)=>(tt.$kind==="Input"&&tt.Input===s&&et(tt,at),tt))}mapArguments(s){for(const et of this.commands)switch(et.$kind){case"MoveCall":et.MoveCall.arguments=et.MoveCall.arguments.map(at=>s(at,et));break;case"TransferObjects":et.TransferObjects.objects=et.TransferObjects.objects.map(at=>s(at,et)),et.TransferObjects.address=s(et.TransferObjects.address,et);break;case"SplitCoins":et.SplitCoins.coin=s(et.SplitCoins.coin,et),et.SplitCoins.amounts=et.SplitCoins.amounts.map(at=>s(at,et));break;case"MergeCoins":et.MergeCoins.destination=s(et.MergeCoins.destination,et),et.MergeCoins.sources=et.MergeCoins.sources.map(at=>s(at,et));break;case"MakeMoveVec":et.MakeMoveVec.elements=et.MakeMoveVec.elements.map(at=>s(at,et));break;case"Upgrade":et.Upgrade.ticket=s(et.Upgrade.ticket,et);break;case"$Intent":const tt=et.$Intent.inputs;et.$Intent.inputs={};for(const[at,ct]of Object.entries(tt))et.$Intent.inputs[at]=Array.isArray(ct)?ct.map(ut=>s(ut,et)):s(ct,et);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${et.$kind}`)}}replaceCommand(s,et){if(!Array.isArray(et)){this.commands[s]=et;return}const tt=et.length-1;this.commands.splice(s,1,...et),tt!==0&&this.mapArguments(at=>{switch(at.$kind){case"Result":at.Result>s&&(at.Result+=tt);break;case"NestedResult":at.NestedResult[0]>s&&(at.NestedResult[0]+=tt);break}return at})}getDigest(){const s=this.build({onlyTransactionKind:!1});return Gl.getDigestFromBytes(s)}snapshot(){return parse$2(TransactionData$3,this)}};function getIdFromCallArg$1(a){if(typeof a=="string")return normalizeSuiAddress$2(a);if(a.Object)return a.Object.ImmOrOwnedObject?normalizeSuiAddress$2(a.Object.ImmOrOwnedObject.objectId):a.Object.Receiving?normalizeSuiAddress$2(a.Object.Receiving.objectId):normalizeSuiAddress$2(a.Object.SharedObject.objectId);if(a.UnresolvedObject)return normalizeSuiAddress$2(a.UnresolvedObject.objectId)}var __typeError$8=a=>{throw TypeError(a)},__accessCheck$8=(a,s,et)=>s.has(a)||__typeError$8("Cannot "+et),__privateGet$8=(a,s,et)=>(__accessCheck$8(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$8=(a,s,et)=>s.has(a)?__typeError$8("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$7=(a,s,et,tt)=>(__accessCheck$8(a,s,"write to private field"),s.set(a,et),et),__privateMethod$7=(a,s,et)=>(__accessCheck$8(a,s,"access private method"),et),_serializationPlugins$1,_buildPlugins$1,_intentResolvers$1,_data$1,_Transaction_instances$1,normalizeTransactionArgument_fn$1,resolveArgument_fn$1,prepareBuild_fn$1,runPlugins_fn$1;function createTransactionResult$1(a,s=1/0){const et={$kind:"Result",Result:a},tt=[],at=ct=>tt[ct]??(tt[ct]={$kind:"NestedResult",NestedResult:[a,ct]});return new Proxy(et,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(ct,ut){if(ut in ct)return Reflect.get(ct,ut);if(ut===Symbol.iterator)return function*(){let wt=0;for(;wt<s;)yield at(wt),wt++};if(typeof ut=="symbol")return;const bt=parseInt(ut,10);if(!(Number.isNaN(bt)||bt<0))return at(bt)}})}const TRANSACTION_BRAND$1=Symbol.for("@mysten/transaction");function isTransaction$1(a){return!!a&&typeof a=="object"&&a[TRANSACTION_BRAND$1]===!0}const modulePluginRegistry$1={buildPlugins:new Map,serializationPlugins:new Map},TRANSACTION_REGISTRY_KEY$1=Symbol.for("@mysten/transaction/registry");function getGlobalPluginRegistry$1(){try{const a=globalThis;return a[TRANSACTION_REGISTRY_KEY$1]||(a[TRANSACTION_REGISTRY_KEY$1]=modulePluginRegistry$1),a[TRANSACTION_REGISTRY_KEY$1]}catch{return modulePluginRegistry$1}}const _Transaction$1=class Nu{constructor(){__privateAdd$8(this,_Transaction_instances$1),__privateAdd$8(this,_serializationPlugins$1),__privateAdd$8(this,_buildPlugins$1),__privateAdd$8(this,_intentResolvers$1,new Map),__privateAdd$8(this,_data$1),this.object=createObjectMethods$1(et=>{var ct,ut;if(typeof et=="function")return this.object(et(this));if(typeof et=="object"&&is(Argument$5,et))return et;const tt=getIdFromCallArg$1(et),at=__privateGet$8(this,_data$1).inputs.find(bt=>tt===getIdFromCallArg$1(bt));return(ct=at==null?void 0:at.Object)!=null&&ct.SharedObject&&typeof et=="object"&&((ut=et.Object)!=null&&ut.SharedObject)&&(at.Object.SharedObject.mutable=at.Object.SharedObject.mutable||et.Object.SharedObject.mutable),at?{$kind:"Input",Input:__privateGet$8(this,_data$1).inputs.indexOf(at),type:"object"}:__privateGet$8(this,_data$1).addInput("object",typeof et=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:normalizeSuiAddress$2(et)}}:et)});const s=getGlobalPluginRegistry$1();__privateSet$7(this,_data$1,new TransactionDataBuilder$1),__privateSet$7(this,_buildPlugins$1,[...s.buildPlugins.values()]),__privateSet$7(this,_serializationPlugins$1,[...s.serializationPlugins.values()])}static fromKind(s){const et=new Nu;return __privateSet$7(et,_data$1,TransactionDataBuilder$1.fromKindBytes(typeof s=="string"?fromBase64(s):s)),et}static from(s){const et=new Nu;return isTransaction$1(s)?__privateSet$7(et,_data$1,new TransactionDataBuilder$1(s.getData())):typeof s!="string"||!s.startsWith("{")?__privateSet$7(et,_data$1,TransactionDataBuilder$1.fromBytes(typeof s=="string"?fromBase64(s):s)):__privateSet$7(et,_data$1,TransactionDataBuilder$1.restore(JSON.parse(s))),et}static registerGlobalSerializationPlugin(s,et){getGlobalPluginRegistry$1().serializationPlugins.set(s,et??s)}static unregisterGlobalSerializationPlugin(s){getGlobalPluginRegistry$1().serializationPlugins.delete(s)}static registerGlobalBuildPlugin(s,et){getGlobalPluginRegistry$1().buildPlugins.set(s,et??s)}static unregisterGlobalBuildPlugin(s){getGlobalPluginRegistry$1().buildPlugins.delete(s)}addSerializationPlugin(s){__privateGet$8(this,_serializationPlugins$1).push(s)}addBuildPlugin(s){__privateGet$8(this,_buildPlugins$1).push(s)}addIntentResolver(s,et){if(__privateGet$8(this,_intentResolvers$1).has(s)&&__privateGet$8(this,_intentResolvers$1).get(s)!==et)throw new Error(`Intent resolver for ${s} already exists`);__privateGet$8(this,_intentResolvers$1).set(s,et)}setSender(s){__privateGet$8(this,_data$1).sender=s}setSenderIfNotSet(s){__privateGet$8(this,_data$1).sender||(__privateGet$8(this,_data$1).sender=s)}setExpiration(s){__privateGet$8(this,_data$1).expiration=s?parse$2(TransactionExpiration$7,s):null}setGasPrice(s){__privateGet$8(this,_data$1).gasConfig.price=String(s)}setGasBudget(s){__privateGet$8(this,_data$1).gasConfig.budget=String(s)}setGasBudgetIfNotSet(s){__privateGet$8(this,_data$1).gasData.budget==null&&(__privateGet$8(this,_data$1).gasConfig.budget=String(s))}setGasOwner(s){__privateGet$8(this,_data$1).gasConfig.owner=s}setGasPayment(s){__privateGet$8(this,_data$1).gasConfig.payment=s.map(et=>parse$2(ObjectRef$3,et))}get blockData(){return serializeV1TransactionData$1(__privateGet$8(this,_data$1).snapshot())}getData(){return __privateGet$8(this,_data$1).snapshot()}get[TRANSACTION_BRAND$1](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure$1(s=>isSerializedBcs(s)?__privateGet$8(this,_data$1).addInput("pure",{$kind:"Pure",Pure:{bytes:s.toBase64()}}):__privateGet$8(this,_data$1).addInput("pure",is(NormalizedCallArg$3,s)?parse$2(NormalizedCallArg$3,s):s instanceof Uint8Array?Inputs$1.Pure(s):{$kind:"UnresolvedPure",UnresolvedPure:{value:s}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...s){return this.object(Inputs$1.ObjectRef(...s))}receivingRef(...s){return this.object(Inputs$1.ReceivingRef(...s))}sharedObjectRef(...s){return this.object(Inputs$1.SharedObjectRef(...s))}add(s){if(typeof s=="function")return s(this);const et=__privateGet$8(this,_data$1).commands.push(s);return createTransactionResult$1(et-1)}splitCoins(s,et){const tt=Commands$1.SplitCoins(typeof s=="string"?this.object(s):__privateMethod$7(this,_Transaction_instances$1,resolveArgument_fn$1).call(this,s),et.map(ct=>typeof ct=="number"||typeof ct=="bigint"||typeof ct=="string"?this.pure.u64(ct):__privateMethod$7(this,_Transaction_instances$1,normalizeTransactionArgument_fn$1).call(this,ct))),at=__privateGet$8(this,_data$1).commands.push(tt);return createTransactionResult$1(at-1,et.length)}mergeCoins(s,et){return this.add(Commands$1.MergeCoins(this.object(s),et.map(tt=>this.object(tt))))}publish({modules:s,dependencies:et}){return this.add(Commands$1.Publish({modules:s,dependencies:et}))}upgrade({modules:s,dependencies:et,package:tt,ticket:at}){return this.add(Commands$1.Upgrade({modules:s,dependencies:et,package:tt,ticket:this.object(at)}))}moveCall({arguments:s,...et}){return this.add(Commands$1.MoveCall({...et,arguments:s==null?void 0:s.map(tt=>__privateMethod$7(this,_Transaction_instances$1,normalizeTransactionArgument_fn$1).call(this,tt))}))}transferObjects(s,et){return this.add(Commands$1.TransferObjects(s.map(tt=>this.object(tt)),typeof et=="string"?this.pure.address(et):__privateMethod$7(this,_Transaction_instances$1,normalizeTransactionArgument_fn$1).call(this,et)))}makeMoveVec({type:s,elements:et}){return this.add(Commands$1.MakeMoveVec({type:s,elements:et.map(tt=>this.object(tt))}))}serialize(){return JSON.stringify(serializeV1TransactionData$1(__privateGet$8(this,_data$1).snapshot()))}async toJSON(s={}){return await this.prepareForSerialization(s),JSON.stringify(parse$2(SerializedTransactionDataV2$1,__privateGet$8(this,_data$1).snapshot()),(et,tt)=>typeof tt=="bigint"?tt.toString():tt,2)}async sign(s){const{signer:et,...tt}=s,at=await this.build(tt);return et.signTransaction(at)}async build(s={}){return await this.prepareForSerialization(s),await __privateMethod$7(this,_Transaction_instances$1,prepareBuild_fn$1).call(this,s),__privateGet$8(this,_data$1).build({onlyTransactionKind:s.onlyTransactionKind})}async getDigest(s={}){return await __privateMethod$7(this,_Transaction_instances$1,prepareBuild_fn$1).call(this,s),__privateGet$8(this,_data$1).getDigest()}async prepareForSerialization(s){var at;const et=new Set;for(const ct of __privateGet$8(this,_data$1).commands)ct.$Intent&&et.add(ct.$Intent.name);const tt=[...__privateGet$8(this,_serializationPlugins$1)];for(const ct of et)if(!((at=s.supportedIntents)!=null&&at.includes(ct))){if(!__privateGet$8(this,_intentResolvers$1).has(ct))throw new Error(`Missing intent resolver for ${ct}`);tt.push(__privateGet$8(this,_intentResolvers$1).get(ct))}await __privateMethod$7(this,_Transaction_instances$1,runPlugins_fn$1).call(this,tt,s)}};_serializationPlugins$1=new WeakMap;_buildPlugins$1=new WeakMap;_intentResolvers$1=new WeakMap;_data$1=new WeakMap;_Transaction_instances$1=new WeakSet;normalizeTransactionArgument_fn$1=function(a){return isSerializedBcs(a)?this.pure(a):__privateMethod$7(this,_Transaction_instances$1,resolveArgument_fn$1).call(this,a)};resolveArgument_fn$1=function(a){return typeof a=="function"?parse$2(Argument$5,a(this)):parse$2(Argument$5,a)};prepareBuild_fn$1=async function(a){if(!a.onlyTransactionKind&&!__privateGet$8(this,_data$1).sender)throw new Error("Missing transaction sender");await __privateMethod$7(this,_Transaction_instances$1,runPlugins_fn$1).call(this,[...__privateGet$8(this,_buildPlugins$1),resolveTransactionData$1],a)};runPlugins_fn$1=async function(a,s){const et=tt=>{if(tt>=a.length)return()=>{};const at=a[tt];return async()=>{const ct=et(tt+1);let ut=!1,bt=!1;if(await at(__privateGet$8(this,_data$1),s,async()=>{if(ut)throw new Error(`next() was call multiple times in TransactionPlugin ${tt}`);ut=!0,await ct(),bt=!0}),!ut)throw new Error(`next() was not called in TransactionPlugin ${tt}`);if(!bt)throw new Error(`next() was not awaited in TransactionPlugin ${tt}`)}};await et(0)()};let Transaction$1=_Transaction$1;async function signTransaction(a,s){if(a.features["sui:signTransaction"])return a.features["sui:signTransaction"].signTransaction(s);if(!a.features["sui:signTransactionBlock"])throw new Error(`Provided wallet (${a.name}) does not support the signTransaction feature.`);const{signTransactionBlock:et}=a.features["sui:signTransactionBlock"],tt=Transaction$1.from(await s.transaction.toJSON()),{transactionBlockBytes:at,signature:ct}=await et({transactionBlock:tt,account:s.account,chain:s.chain});return{bytes:at,signature:ct}}const REQUIRED_FEATURES=["standard:connect","standard:events"];function isWalletWithRequiredFeatureSet(a,s=[]){return[...REQUIRED_FEATURES,...s].every(et=>et in a.features)}const SUI_DEVNET_CHAIN="sui:devnet",SUI_TESTNET_CHAIN="sui:testnet",SUI_LOCALNET_CHAIN="sui:localnet",SUI_MAINNET_CHAIN="sui:mainnet",SUI_CHAINS=[SUI_DEVNET_CHAIN,SUI_TESTNET_CHAIN,SUI_LOCALNET_CHAIN,SUI_MAINNET_CHAIN];function toPrimitive$2(a,s){if(typeof a!="object"||!a)return a;var et=a[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(a,s);if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function toPropertyKey$2(a){var s=toPrimitive$2(a,"string");return typeof s=="symbol"?s:String(s)}function _defineProperty$2(a,s,et){return s=toPropertyKey$2(s),s in a?Object.defineProperty(a,s,{value:et,enumerable:!0,configurable:!0,writable:!0}):a[s]=et,a}function ownKeys$2(a,s){var et=Object.keys(a);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);s&&(tt=tt.filter(function(at){return Object.getOwnPropertyDescriptor(a,at).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2$b(a){for(var s=1;s<arguments.length;s++){var et=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$2(Object(et),!0).forEach(function(tt){_defineProperty$2(a,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(tt){Object.defineProperty(a,tt,Object.getOwnPropertyDescriptor(et,tt))})}return a}function mapValues(a,s){var et={};for(var tt in a)et[tt]=s(a[tt],tt);return et}var shouldApplyCompound=(a,s,et)=>{for(var tt of Object.keys(a)){var at;if(a[tt]!==((at=s[tt])!==null&&at!==void 0?at:et[tt]))return!1}return!0},createRuntimeFn=a=>{var s=et=>{var tt=a.defaultClassName,at=_objectSpread2$b(_objectSpread2$b({},a.defaultVariants),et);for(var ct in at){var ut,bt=(ut=at[ct])!==null&&ut!==void 0?ut:a.defaultVariants[ct];if(bt!=null){var wt=bt;typeof wt=="boolean"&&(wt=wt===!0?"true":"false");var Et=a.variantClassNames[ct][wt];Et&&(tt+=" "+Et)}}for(var[Ft,jt]of a.compoundVariants)shouldApplyCompound(Ft,at,a.defaultVariants)&&(tt+=" "+jt);return tt};return s.variants=()=>Object.keys(a.variantClassNames),s.classNames={get base(){return a.defaultClassName.split(" ")[0]},get variants(){return mapValues(a.variantClassNames,et=>mapValues(et,tt=>tt.split(" ")[0]))}},s};const PACKAGE_VERSION$1="1.24.0",TARGETED_RPC_VERSION$1="1.45.0",CODE_TO_ERROR_TYPE$1={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};let SuiHTTPTransportError$1=class extends Error{},JsonRpcError$1=class extends SuiHTTPTransportError$1{constructor(s,et){super(s),this.code=et,this.type=CODE_TO_ERROR_TYPE$1[et]??"ServerError"}},SuiHTTPStatusError$1=class extends SuiHTTPTransportError$1{constructor(s,et,tt){super(s),this.status=et,this.statusText=tt}};var __typeError$7=a=>{throw TypeError(a)},__accessCheck$7=(a,s,et)=>s.has(a)||__typeError$7("Cannot "+et),__privateGet$7=(a,s,et)=>(__accessCheck$7(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$7=(a,s,et)=>s.has(a)?__typeError$7("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$6=(a,s,et,tt)=>(__accessCheck$7(a,s,"write to private field"),s.set(a,et),et),__privateMethod$6=(a,s,et)=>(__accessCheck$7(a,s,"access private method"),et),__privateWrapper$1=(a,s,et,tt)=>({set _(at){__privateSet$6(a,s,at)},get _(){return __privateGet$7(a,s,tt)}}),_requestId$3,_disconnects$1,_webSocket$1,_connectionPromise$1,_subscriptions$1,_pendingRequests$1,_WebsocketClient_instances$1,setupWebSocket_fn$1,reconnect_fn$1;function getWebsocketUrl$1(a){const s=new URL(a);return s.protocol=s.protocol.replace("http","ws"),s.toString()}const DEFAULT_CLIENT_OPTIONS$1={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};let WebsocketClient$1=class{constructor(s,et={}){if(__privateAdd$7(this,_WebsocketClient_instances$1),__privateAdd$7(this,_requestId$3,0),__privateAdd$7(this,_disconnects$1,0),__privateAdd$7(this,_webSocket$1,null),__privateAdd$7(this,_connectionPromise$1,null),__privateAdd$7(this,_subscriptions$1,new Set),__privateAdd$7(this,_pendingRequests$1,new Map),this.endpoint=s,this.options={...DEFAULT_CLIENT_OPTIONS$1,...et},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl$1(this.endpoint))}async makeRequest(s,et){const tt=await __privateMethod$6(this,_WebsocketClient_instances$1,setupWebSocket_fn$1).call(this);return new Promise((at,ct)=>{__privateSet$6(this,_requestId$3,__privateGet$7(this,_requestId$3)+1),__privateGet$7(this,_pendingRequests$1).set(__privateGet$7(this,_requestId$3),{resolve:at,reject:ct,timeout:setTimeout(()=>{__privateGet$7(this,_pendingRequests$1).delete(__privateGet$7(this,_requestId$3)),ct(new Error(`Request timeout: ${s}`))},this.options.callTimeout)}),tt.send(JSON.stringify({jsonrpc:"2.0",id:__privateGet$7(this,_requestId$3),method:s,params:et}))}).then(({error:at,result:ct})=>{if(at)throw new JsonRpcError$1(at.message,at.code);return ct})}async subscribe(s){const et=new RpcSubscription$1(s);return __privateGet$7(this,_subscriptions$1).add(et),await et.subscribe(this),()=>et.unsubscribe(this)}};_requestId$3=new WeakMap;_disconnects$1=new WeakMap;_webSocket$1=new WeakMap;_connectionPromise$1=new WeakMap;_subscriptions$1=new WeakMap;_pendingRequests$1=new WeakMap;_WebsocketClient_instances$1=new WeakSet;setupWebSocket_fn$1=function(){return __privateGet$7(this,_connectionPromise$1)?__privateGet$7(this,_connectionPromise$1):(__privateSet$6(this,_connectionPromise$1,new Promise(a=>{var s;(s=__privateGet$7(this,_webSocket$1))==null||s.close(),__privateSet$6(this,_webSocket$1,new this.options.WebSocketConstructor(this.endpoint)),__privateGet$7(this,_webSocket$1).addEventListener("open",()=>{__privateSet$6(this,_disconnects$1,0),a(__privateGet$7(this,_webSocket$1))}),__privateGet$7(this,_webSocket$1).addEventListener("close",()=>{__privateWrapper$1(this,_disconnects$1)._++,__privateGet$7(this,_disconnects$1)<=this.options.maxReconnects&&setTimeout(()=>{__privateMethod$6(this,_WebsocketClient_instances$1,reconnect_fn$1).call(this)},this.options.reconnectTimeout)}),__privateGet$7(this,_webSocket$1).addEventListener("message",({data:et})=>{let tt;try{tt=JSON.parse(et)}catch(at){console.error(new Error(`Failed to parse RPC message: ${et}`,{cause:at}));return}if("id"in tt&&tt.id!=null&&__privateGet$7(this,_pendingRequests$1).has(tt.id)){const{resolve:at,timeout:ct}=__privateGet$7(this,_pendingRequests$1).get(tt.id);clearTimeout(ct),at(tt)}else if("params"in tt){const{params:at}=tt;__privateGet$7(this,_subscriptions$1).forEach(ct=>{ct.subscriptionId===at.subscription&&at.subscription===ct.subscriptionId&&ct.onMessage(at.result)})}})})),__privateGet$7(this,_connectionPromise$1))};reconnect_fn$1=async function(){var a;return(a=__privateGet$7(this,_webSocket$1))==null||a.close(),__privateSet$6(this,_connectionPromise$1,null),Promise.allSettled([...__privateGet$7(this,_subscriptions$1)].map(s=>s.subscribe(this)))};let RpcSubscription$1=class{constructor(s){this.subscriptionId=null,this.subscribed=!1,this.input=s}onMessage(s){this.subscribed&&this.input.onMessage(s)}async unsubscribe(s){const{subscriptionId:et}=this;return this.subscribed=!1,et==null?!1:(this.subscriptionId=null,s.makeRequest(this.input.unsubscribe,[et]))}async subscribe(s){this.subscriptionId=null,this.subscribed=!0;const et=await s.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=et)}};var __typeError$6=a=>{throw TypeError(a)},__accessCheck$6=(a,s,et)=>s.has(a)||__typeError$6("Cannot "+et),__privateGet$6=(a,s,et)=>(__accessCheck$6(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$6=(a,s,et)=>s.has(a)?__typeError$6("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$5=(a,s,et,tt)=>(__accessCheck$6(a,s,"write to private field"),s.set(a,et),et),__privateMethod$5=(a,s,et)=>(__accessCheck$6(a,s,"access private method"),et),_requestId$2,_options$1,_websocketClient$1,_SuiHTTPTransport_instances$1,getWebsocketClient_fn$1;let SuiHTTPTransport$1=class{constructor(s){__privateAdd$6(this,_SuiHTTPTransport_instances$1),__privateAdd$6(this,_requestId$2,0),__privateAdd$6(this,_options$1),__privateAdd$6(this,_websocketClient$1),__privateSet$5(this,_options$1,s)}fetch(s,et){const tt=__privateGet$6(this,_options$1).fetch??fetch;if(!tt)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return tt(s,et)}async request(s){var at,ct;__privateSet$5(this,_requestId$2,__privateGet$6(this,_requestId$2)+1);const et=await this.fetch(((at=__privateGet$6(this,_options$1).rpc)==null?void 0:at.url)??__privateGet$6(this,_options$1).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":PACKAGE_VERSION$1,"Client-Target-Api-Version":TARGETED_RPC_VERSION$1,"Client-Request-Method":s.method,...(ct=__privateGet$6(this,_options$1).rpc)==null?void 0:ct.headers},body:JSON.stringify({jsonrpc:"2.0",id:__privateGet$6(this,_requestId$2),method:s.method,params:s.params})});if(!et.ok)throw new SuiHTTPStatusError$1(`Unexpected status code: ${et.status}`,et.status,et.statusText);const tt=await et.json();if("error"in tt&&tt.error!=null)throw new JsonRpcError$1(tt.error.message,tt.error.code);return tt.result}async subscribe(s){const et=await __privateMethod$5(this,_SuiHTTPTransport_instances$1,getWebsocketClient_fn$1).call(this).subscribe(s);return async()=>!!await et()}};_requestId$2=new WeakMap;_options$1=new WeakMap;_websocketClient$1=new WeakMap;_SuiHTTPTransport_instances$1=new WeakSet;getWebsocketClient_fn$1=function(){var a;if(!__privateGet$6(this,_websocketClient$1)){const s=__privateGet$6(this,_options$1).WebSocketConstructor??WebSocket;if(!s)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");__privateSet$5(this,_websocketClient$1,new WebsocketClient$1(((a=__privateGet$6(this,_options$1).websocket)==null?void 0:a.url)??__privateGet$6(this,_options$1).url,{WebSocketConstructor:s,...__privateGet$6(this,_options$1).websocket}))}return __privateGet$6(this,_websocketClient$1)};function getFullnodeUrl$1(a){switch(a){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${a}`)}}const SUI_CLIENT_BRAND$1=Symbol.for("@mysten/SuiClient");function isSuiClient(a){return typeof a=="object"&&a!==null&&a[SUI_CLIENT_BRAND$1]===!0}let SuiClient$1=class{get[SUI_CLIENT_BRAND$1](){return!0}constructor(s){this.transport=s.transport??new SuiHTTPTransport$1({url:s.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(s){if(!s.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[s.owner,s.coinType,s.cursor,s.limit]})}async getAllCoins(s){if(!s.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[s.owner,s.cursor,s.limit]})}async getBalance(s){if(!s.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[s.owner,s.coinType]})}async getAllBalances(s){if(!s.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[s.owner]})}async getCoinMetadata(s){return await this.transport.request({method:"suix_getCoinMetadata",params:[s.coinType]})}async getTotalSupply(s){return await this.transport.request({method:"suix_getTotalSupply",params:[s.coinType]})}async call(s,et){return await this.transport.request({method:s,params:et})}async getMoveFunctionArgTypes(s){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[s.package,s.module,s.function]})}async getNormalizedMoveModulesByPackage(s){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[s.package]})}async getNormalizedMoveModule(s){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[s.package,s.module]})}async getNormalizedMoveFunction(s){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[s.package,s.module,s.function]})}async getNormalizedMoveStruct(s){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[s.package,s.module,s.struct]})}async getOwnedObjects(s){if(!s.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[s.owner,{filter:s.filter,options:s.options},s.cursor,s.limit]})}async getObject(s){if(!s.id||!isValidSuiObjectId$2(normalizeSuiObjectId$2(s.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[s.id,s.options]})}async tryGetPastObject(s){return await this.transport.request({method:"sui_tryGetPastObject",params:[s.id,s.version,s.options]})}async multiGetObjects(s){if(s.ids.forEach(tt=>{if(!tt||!isValidSuiObjectId$2(normalizeSuiObjectId$2(tt)))throw new Error(`Invalid Sui Object id ${tt}`)}),s.ids.length!==new Set(s.ids).size)throw new Error(`Duplicate object ids in batch call ${s.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[s.ids,s.options]})}async queryTransactionBlocks(s){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:s.filter,options:s.options},s.cursor,s.limit,(s.order||"descending")==="descending"]})}async getTransactionBlock(s){if(!isValidTransactionDigest$2(s.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[s.digest,s.options]})}async multiGetTransactionBlocks(s){if(s.digests.forEach(tt=>{if(!isValidTransactionDigest$2(tt))throw new Error(`Invalid Transaction digest ${tt}`)}),s.digests.length!==new Set(s.digests).size)throw new Error(`Duplicate digests in batch call ${s.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[s.digests,s.options]})}async executeTransactionBlock({transactionBlock:s,signature:et,options:tt,requestType:at}){const ct=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof s=="string"?s:toBase64(s),Array.isArray(et)?et:[et],tt]});if(at==="WaitForLocalExecution")try{await this.waitForTransaction({digest:ct.digest})}catch{}return ct}async signAndExecuteTransaction({transaction:s,signer:et,...tt}){let at;s instanceof Uint8Array?at=s:(s.setSenderIfNotSet(et.toSuiAddress()),at=await s.build({client:this}));const{signature:ct,bytes:ut}=await et.signTransaction(at);return this.executeTransactionBlock({transactionBlock:ut,signature:ct,...tt})}async getTotalTransactionBlocks(){const s=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(s)}async getReferenceGasPrice(){const s=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(s)}async getStakes(s){if(!s.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[s.owner]})}async getStakesByIds(s){return s.stakedSuiIds.forEach(et=>{if(!et||!isValidSuiObjectId$2(normalizeSuiObjectId$2(et)))throw new Error(`Invalid Sui Stake id ${et}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[s.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(s){return await this.transport.request({method:"suix_queryEvents",params:[s.query,s.cursor,s.limit,(s.order||"descending")==="descending"]})}async subscribeEvent(s){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[s.filter],onMessage:s.onMessage})}async subscribeTransaction(s){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[s.filter],onMessage:s.onMessage})}async devInspectTransactionBlock(s){var tt;let et;if(isTransaction$1(s.transactionBlock))s.transactionBlock.setSenderIfNotSet(s.sender),et=toBase64(await s.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof s.transactionBlock=="string")et=s.transactionBlock;else if(s.transactionBlock instanceof Uint8Array)et=toBase64(s.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[s.sender,et,(tt=s.gasPrice)==null?void 0:tt.toString(),s.epoch]})}async dryRunTransactionBlock(s){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof s.transactionBlock=="string"?s.transactionBlock:toBase64(s.transactionBlock)]})}async getDynamicFields(s){if(!s.parentId||!isValidSuiObjectId$2(normalizeSuiObjectId$2(s.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[s.parentId,s.cursor,s.limit]})}async getDynamicFieldObject(s){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[s.parentId,s.name]})}async getLatestCheckpointSequenceNumber(){const s=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(s)}async getCheckpoint(s){return await this.transport.request({method:"sui_getCheckpoint",params:[s.id]})}async getCheckpoints(s){return await this.transport.request({method:"sui_getCheckpoints",params:[s.cursor,s==null?void 0:s.limit,s.descendingOrder]})}async getCommitteeInfo(s){return await this.transport.request({method:"suix_getCommitteeInfo",params:[s==null?void 0:s.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(s){return await this.transport.request({method:"suix_getEpochMetrics",params:[s==null?void 0:s.cursor,s==null?void 0:s.limit,s==null?void 0:s.descendingOrder]})}async getAllEpochAddressMetrics(s){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[s==null?void 0:s.descendingOrder]})}async getEpochs(s){return await this.transport.request({method:"suix_getEpochs",params:[s==null?void 0:s.cursor,s==null?void 0:s.limit,s==null?void 0:s.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const s=await this.getCheckpoint({id:"0"}),et=fromBase58(s.digest);return toHex$2(et.slice(0,4))}async resolveNameServiceAddress(s){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[s.name]})}async resolveNameServiceNames({format:s="dot",...et}){const{nextCursor:tt,hasNextPage:at,data:ct}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[et.address,et.cursor,et.limit]});return{hasNextPage:at,nextCursor:tt,data:ct.map(ut=>normalizeSuiNSName$2(ut,s))}}async getProtocolConfig(s){return await this.transport.request({method:"sui_getProtocolConfig",params:[s==null?void 0:s.version]})}async waitForTransaction({signal:s,timeout:et=60*1e3,pollInterval:tt=2*1e3,...at}){const ct=AbortSignal.timeout(et),ut=new Promise((bt,wt)=>{ct.addEventListener("abort",()=>wt(ct.reason))});for(ut.catch(()=>{});!ct.aborted;){s==null||s.throwIfAborted();try{return await this.getTransactionBlock(at)}catch{await Promise.race([new Promise(wt=>setTimeout(wt,tt)),ut])}}throw ct.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}};function setBigUint64(a,s,et,tt){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,et,tt);const at=BigInt(32),ct=BigInt(4294967295),ut=Number(et>>at&ct),bt=Number(et&ct),wt=tt?4:0,Et=tt?0:4;a.setUint32(s+wt,ut,tt),a.setUint32(s+Et,bt,tt)}class HashMD extends Hash$1{constructor(s,et,tt,at){super(),this.blockLen=s,this.outputLen=et,this.padOffset=tt,this.isLE=at,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){aexists(this);const{view:et,buffer:tt,blockLen:at}=this;s=toBytes(s);const ct=s.length;for(let ut=0;ut<ct;){const bt=Math.min(at-this.pos,ct-ut);if(bt===at){const wt=createView(s);for(;at<=ct-ut;ut+=at)this.process(wt,ut);continue}tt.set(s.subarray(ut,ut+bt),this.pos),this.pos+=bt,ut+=bt,this.pos===at&&(this.process(et,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){aexists(this),aoutput(s,this),this.finished=!0;const{buffer:et,view:tt,blockLen:at,isLE:ct}=this;let{pos:ut}=this;et[ut++]=128,this.buffer.subarray(ut).fill(0),this.padOffset>at-ut&&(this.process(tt,0),ut=0);for(let jt=ut;jt<at;jt++)et[jt]=0;setBigUint64(tt,at-8,BigInt(this.length*8),ct),this.process(tt,0);const bt=createView(s),wt=this.outputLen;if(wt%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Et=wt/4,Ft=this.get();if(Et>Ft.length)throw new Error("_sha2: outputLen bigger than state");for(let jt=0;jt<Et;jt++)bt.setUint32(4*jt,Ft[jt],ct)}digest(){const{buffer:s,outputLen:et}=this;this.digestInto(s);const tt=s.slice(0,et);return this.destroy(),tt}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:et,buffer:tt,length:at,finished:ct,destroyed:ut,pos:bt}=this;return s.length=at,s.pos=bt,s.finished=ct,s.destroyed=ut,at%et&&s.buffer.set(tt),s}}class HMAC extends Hash$1{constructor(s,et){super(),this.finished=!1,this.destroyed=!1,ahash(s);const tt=toBytes(et);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const at=this.blockLen,ct=new Uint8Array(at);ct.set(tt.length>at?s.create().update(tt).digest():tt);for(let ut=0;ut<ct.length;ut++)ct[ut]^=54;this.iHash.update(ct),this.oHash=s.create();for(let ut=0;ut<ct.length;ut++)ct[ut]^=106;this.oHash.update(ct),ct.fill(0)}update(s){return aexists(this),this.iHash.update(s),this}digestInto(s){aexists(this),abytes$1(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:et,iHash:tt,finished:at,destroyed:ct,blockLen:ut,outputLen:bt}=this;return s=s,s.finished=at,s.destroyed=ct,s.blockLen=ut,s.outputLen=bt,s.oHash=et._cloneInto(s.oHash),s.iHash=tt._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$2=(a,s,et)=>new HMAC(a,s).update(et).digest();hmac$2.create=(a,s)=>new HMAC(a,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2);function isBytes(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function abytes(a){if(!isBytes(a))throw new Error("Uint8Array expected")}function abool(a,s){if(typeof s!="boolean")throw new Error(a+" boolean expected, got "+s)}const hexes=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function bytesToHex(a){abytes(a);let s="";for(let et=0;et<a.length;et++)s+=hexes[a[et]];return s}function hexToNumber(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return a===""?_0n$3:BigInt("0x"+a)}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(a){if(a>=asciis._0&&a<=asciis._9)return a-asciis._0;if(a>=asciis.A&&a<=asciis.F)return a-(asciis.A-10);if(a>=asciis.a&&a<=asciis.f)return a-(asciis.a-10)}function hexToBytes(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length,et=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const tt=new Uint8Array(et);for(let at=0,ct=0;at<et;at++,ct+=2){const ut=asciiToBase16(a.charCodeAt(ct)),bt=asciiToBase16(a.charCodeAt(ct+1));if(ut===void 0||bt===void 0){const wt=a[ct]+a[ct+1];throw new Error('hex string expected, got non-hex character "'+wt+'" at index '+ct)}tt[at]=ut*16+bt}return tt}function bytesToNumberBE(a){return hexToNumber(bytesToHex(a))}function bytesToNumberLE(a){return abytes(a),hexToNumber(bytesToHex(Uint8Array.from(a).reverse()))}function numberToBytesBE(a,s){return hexToBytes(a.toString(16).padStart(s*2,"0"))}function numberToBytesLE(a,s){return numberToBytesBE(a,s).reverse()}function ensureBytes(a,s,et){let tt;if(typeof s=="string")try{tt=hexToBytes(s)}catch(ct){throw new Error(a+" must be hex string or Uint8Array, cause: "+ct)}else if(isBytes(s))tt=Uint8Array.from(s);else throw new Error(a+" must be hex string or Uint8Array");const at=tt.length;if(typeof et=="number"&&at!==et)throw new Error(a+" of length "+et+" expected, got "+at);return tt}function concatBytes(...a){let s=0;for(let tt=0;tt<a.length;tt++){const at=a[tt];abytes(at),s+=at.length}const et=new Uint8Array(s);for(let tt=0,at=0;tt<a.length;tt++){const ct=a[tt];et.set(ct,at),at+=ct.length}return et}const isPosBig=a=>typeof a=="bigint"&&_0n$3<=a;function inRange(a,s,et){return isPosBig(a)&&isPosBig(s)&&isPosBig(et)&&s<=a&&a<et}function aInRange(a,s,et,tt){if(!inRange(s,et,tt))throw new Error("expected valid "+a+": "+et+" <= n < "+tt+", got "+s)}function bitLen(a){let s;for(s=0;a>_0n$3;a>>=_1n$4,s+=1);return s}const bitMask=a=>(_2n$3<<BigInt(a-1))-_1n$4,validatorFns={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||isBytes(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,s)=>s.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function validateObject(a,s,et={}){const tt=(at,ct,ut)=>{const bt=validatorFns[ct];if(typeof bt!="function")throw new Error("invalid validator function");const wt=a[at];if(!(ut&&wt===void 0)&&!bt(wt,a))throw new Error("param "+String(at)+" is invalid. Expected "+ct+", got "+wt)};for(const[at,ct]of Object.entries(s))tt(at,ct,!1);for(const[at,ct]of Object.entries(et))tt(at,ct,!0);return a}function memoized(a){const s=new WeakMap;return(et,...tt)=>{const at=s.get(et);if(at!==void 0)return at;const ct=a(et,...tt);return s.set(et,ct),ct}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);function mod$2(a,s){const et=a%s;return et>=_0n$2?et:s+et}function pow$3(a,s,et){if(s<_0n$2)throw new Error("invalid exponent, negatives unsupported");if(et<=_0n$2)throw new Error("invalid modulus");if(et===_1n$3)return _0n$2;let tt=_1n$3;for(;s>_0n$2;)s&_1n$3&&(tt=tt*a%et),a=a*a%et,s>>=_1n$3;return tt}function pow2(a,s,et){let tt=a;for(;s-- >_0n$2;)tt*=tt,tt%=et;return tt}function invert(a,s){if(a===_0n$2)throw new Error("invert: expected non-zero number");if(s<=_0n$2)throw new Error("invert: expected positive modulus, got "+s);let et=mod$2(a,s),tt=s,at=_0n$2,ct=_1n$3;for(;et!==_0n$2;){const bt=tt/et,wt=tt%et,Et=at-ct*bt;tt=et,et=wt,at=ct,ct=Et}if(tt!==_1n$3)throw new Error("invert: does not exist");return mod$2(at,s)}function tonelliShanks(a){const s=(a-_1n$3)/_2n$2;let et,tt,at;for(et=a-_1n$3,tt=0;et%_2n$2===_0n$2;et/=_2n$2,tt++);for(at=_2n$2;at<a&&pow$3(at,s,a)!==a-_1n$3;at++)if(at>1e3)throw new Error("Cannot find square root: likely non-prime P");if(tt===1){const ut=(a+_1n$3)/_4n;return function(wt,Et){const Ft=wt.pow(Et,ut);if(!wt.eql(wt.sqr(Ft),Et))throw new Error("Cannot find square root");return Ft}}const ct=(et+_1n$3)/_2n$2;return function(bt,wt){if(bt.pow(wt,s)===bt.neg(bt.ONE))throw new Error("Cannot find square root");let Et=tt,Ft=bt.pow(bt.mul(bt.ONE,at),et),jt=bt.pow(wt,ct),Lt=bt.pow(wt,et);for(;!bt.eql(Lt,bt.ONE);){if(bt.eql(Lt,bt.ZERO))return bt.ZERO;let Ut=1;for(let Yt=bt.sqr(Lt);Ut<Et&&!bt.eql(Yt,bt.ONE);Ut++)Yt=bt.sqr(Yt);const Vt=bt.pow(Ft,_1n$3<<BigInt(Et-Ut-1));Ft=bt.sqr(Vt),jt=bt.mul(jt,Vt),Lt=bt.mul(Lt,Ft),Et=Ut}return jt}}function FpSqrt(a){if(a%_4n===_3n){const s=(a+_1n$3)/_4n;return function(tt,at){const ct=tt.pow(at,s);if(!tt.eql(tt.sqr(ct),at))throw new Error("Cannot find square root");return ct}}if(a%_8n$2===_5n$1){const s=(a-_5n$1)/_8n$2;return function(tt,at){const ct=tt.mul(at,_2n$2),ut=tt.pow(ct,s),bt=tt.mul(at,ut),wt=tt.mul(tt.mul(bt,_2n$2),ut),Et=tt.mul(bt,tt.sub(wt,tt.ONE));if(!tt.eql(tt.sqr(Et),at))throw new Error("Cannot find square root");return Et}}return tonelliShanks(a)}const isNegativeLE=(a,s)=>(mod$2(a,s)&_1n$3)===_1n$3,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(a){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},et=FIELD_FIELDS.reduce((tt,at)=>(tt[at]="function",tt),s);return validateObject(a,et)}function FpPow(a,s,et){if(et<_0n$2)throw new Error("invalid exponent, negatives unsupported");if(et===_0n$2)return a.ONE;if(et===_1n$3)return s;let tt=a.ONE,at=s;for(;et>_0n$2;)et&_1n$3&&(tt=a.mul(tt,at)),at=a.sqr(at),et>>=_1n$3;return tt}function FpInvertBatch(a,s){const et=new Array(s.length),tt=s.reduce((ct,ut,bt)=>a.is0(ut)?ct:(et[bt]=ct,a.mul(ct,ut)),a.ONE),at=a.inv(tt);return s.reduceRight((ct,ut,bt)=>a.is0(ut)?ct:(et[bt]=a.mul(ct,et[bt]),a.mul(ct,ut)),at),et}function nLength(a,s){const et=s!==void 0?s:a.toString(2).length,tt=Math.ceil(et/8);return{nBitLength:et,nByteLength:tt}}function Field(a,s,et=!1,tt={}){if(a<=_0n$2)throw new Error("invalid field: expected ORDER > 0, got "+a);const{nBitLength:at,nByteLength:ct}=nLength(a,s);if(ct>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let ut;const bt=Object.freeze({ORDER:a,isLE:et,BITS:at,BYTES:ct,MASK:bitMask(at),ZERO:_0n$2,ONE:_1n$3,create:wt=>mod$2(wt,a),isValid:wt=>{if(typeof wt!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof wt);return _0n$2<=wt&&wt<a},is0:wt=>wt===_0n$2,isOdd:wt=>(wt&_1n$3)===_1n$3,neg:wt=>mod$2(-wt,a),eql:(wt,Et)=>wt===Et,sqr:wt=>mod$2(wt*wt,a),add:(wt,Et)=>mod$2(wt+Et,a),sub:(wt,Et)=>mod$2(wt-Et,a),mul:(wt,Et)=>mod$2(wt*Et,a),pow:(wt,Et)=>FpPow(bt,wt,Et),div:(wt,Et)=>mod$2(wt*invert(Et,a),a),sqrN:wt=>wt*wt,addN:(wt,Et)=>wt+Et,subN:(wt,Et)=>wt-Et,mulN:(wt,Et)=>wt*Et,inv:wt=>invert(wt,a),sqrt:tt.sqrt||(wt=>(ut||(ut=FpSqrt(a)),ut(bt,wt))),invertBatch:wt=>FpInvertBatch(bt,wt),cmov:(wt,Et,Ft)=>Ft?Et:wt,toBytes:wt=>et?numberToBytesLE(wt,ct):numberToBytesBE(wt,ct),fromBytes:wt=>{if(wt.length!==ct)throw new Error("Field.fromBytes: expected "+ct+" bytes, got "+wt.length);return et?bytesToNumberLE(wt):bytesToNumberBE(wt)}});return Object.freeze(bt)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function constTimeNegate(a,s){const et=s.negate();return a?et:s}function validateW(a,s){if(!Number.isSafeInteger(a)||a<=0||a>s)throw new Error("invalid window size, expected [1.."+s+"], got W="+a)}function calcWOpts(a,s){validateW(a,s);const et=Math.ceil(s/a)+1,tt=2**(a-1);return{windows:et,windowSize:tt}}function validateMSMPoints(a,s){if(!Array.isArray(a))throw new Error("array expected");a.forEach((et,tt)=>{if(!(et instanceof s))throw new Error("invalid point at index "+tt)})}function validateMSMScalars(a,s){if(!Array.isArray(a))throw new Error("array of scalars expected");a.forEach((et,tt)=>{if(!s.isValid(et))throw new Error("invalid scalar at index "+tt)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(a){return pointWindowSizes.get(a)||1}function wNAF(a,s){return{constTimeNegate,hasPrecomputes(et){return getW(et)!==1},unsafeLadder(et,tt,at=a.ZERO){let ct=et;for(;tt>_0n$1;)tt&_1n$2&&(at=at.add(ct)),ct=ct.double(),tt>>=_1n$2;return at},precomputeWindow(et,tt){const{windows:at,windowSize:ct}=calcWOpts(tt,s),ut=[];let bt=et,wt=bt;for(let Et=0;Et<at;Et++){wt=bt,ut.push(wt);for(let Ft=1;Ft<ct;Ft++)wt=wt.add(bt),ut.push(wt);bt=wt.double()}return ut},wNAF(et,tt,at){const{windows:ct,windowSize:ut}=calcWOpts(et,s);let bt=a.ZERO,wt=a.BASE;const Et=BigInt(2**et-1),Ft=2**et,jt=BigInt(et);for(let Lt=0;Lt<ct;Lt++){const Ut=Lt*ut;let Vt=Number(at&Et);at>>=jt,Vt>ut&&(Vt-=Ft,at+=_1n$2);const Yt=Ut,er=Ut+Math.abs(Vt)-1,tr=Lt%2!==0,nr=Vt<0;Vt===0?wt=wt.add(constTimeNegate(tr,tt[Yt])):bt=bt.add(constTimeNegate(nr,tt[er]))}return{p:bt,f:wt}},wNAFUnsafe(et,tt,at,ct=a.ZERO){const{windows:ut,windowSize:bt}=calcWOpts(et,s),wt=BigInt(2**et-1),Et=2**et,Ft=BigInt(et);for(let jt=0;jt<ut;jt++){const Lt=jt*bt;if(at===_0n$1)break;let Ut=Number(at&wt);if(at>>=Ft,Ut>bt&&(Ut-=Et,at+=_1n$2),Ut===0)continue;let Vt=tt[Lt+Math.abs(Ut)-1];Ut<0&&(Vt=Vt.negate()),ct=ct.add(Vt)}return ct},getPrecomputes(et,tt,at){let ct=pointPrecomputes.get(tt);return ct||(ct=this.precomputeWindow(tt,et),et!==1&&pointPrecomputes.set(tt,at(ct))),ct},wNAFCached(et,tt,at){const ct=getW(et);return this.wNAF(ct,this.getPrecomputes(ct,et,at),tt)},wNAFCachedUnsafe(et,tt,at,ct){const ut=getW(et);return ut===1?this.unsafeLadder(et,tt,ct):this.wNAFUnsafe(ut,this.getPrecomputes(ut,et,at),tt,ct)},setWindowSize(et,tt){validateW(tt,s),pointWindowSizes.set(et,tt),pointPrecomputes.delete(et)}}}function pippenger(a,s,et,tt){if(validateMSMPoints(et,a),validateMSMScalars(tt,s),et.length!==tt.length)throw new Error("arrays of points and scalars must have equal length");const at=a.ZERO,ct=bitLen(BigInt(et.length)),ut=ct>12?ct-3:ct>4?ct-2:ct?2:1,bt=(1<<ut)-1,wt=new Array(bt+1).fill(at),Et=Math.floor((s.BITS-1)/ut)*ut;let Ft=at;for(let jt=Et;jt>=0;jt-=ut){wt.fill(at);for(let Ut=0;Ut<tt.length;Ut++){const Vt=tt[Ut],Yt=Number(Vt>>BigInt(jt)&BigInt(bt));wt[Yt]=wt[Yt].add(et[Ut])}let Lt=at;for(let Ut=wt.length-1,Vt=at;Ut>0;Ut--)Vt=Vt.add(wt[Ut]),Lt=Lt.add(Vt);if(Ft=Ft.add(Lt),jt!==0)for(let Ut=0;Ut<ut;Ut++)Ft=Ft.double()}return Ft}function validateBasic(a){return validateField(a.Fp),validateObject(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function messageWithIntent(a,s){return suiBcs$2.IntentMessage(suiBcs$2.fixedArray(s.length,suiBcs$2.u8())).serialize({intent:{scope:{[a]:!0},version:{V0:!0},appId:{Sui:!0}},value:s}).toBytes()}const SIGNATURE_SCHEME_TO_FLAG={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},SIGNATURE_SCHEME_TO_SIZE={ED25519:32,Secp256k1:33,Secp256r1:33},SIGNATURE_FLAG_TO_SCHEME={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};function bytesEqual(a,s){if(a===s)return!0;if(a.length!==s.length)return!1;for(let et=0;et<a.length;et++)if(a[et]!==s[et])return!1;return!0}let PublicKey$2=class{equals(s){return bytesEqual(this.toRawBytes(),s.toRawBytes())}toBase64(){return toBase64(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const s=this.toSuiBytes();return toBase64(s)}verifyWithIntent(s,et,tt){const at=messageWithIntent(tt,s),ct=blake2b$1(at,{dkLen:32});return this.verify(ct,et)}verifyPersonalMessage(s,et){return this.verifyWithIntent(suiBcs$2.vector(suiBcs$2.u8()).serialize(s).toBytes(),et,"PersonalMessage")}verifyTransaction(s,et){return this.verifyWithIntent(s,et,"TransactionData")}verifyAddress(s){return this.toSuiAddress()===s}toSuiBytes(){const s=this.toRawBytes(),et=new Uint8Array(s.length+1);return et.set([this.flag()]),et.set(s,1),et}toSuiAddress(){return normalizeSuiAddress$2(bytesToHex$1(blake2b$1(this.toSuiBytes(),{dkLen:32})).slice(0,SUI_ADDRESS_LENGTH$2*2))}};function parseSerializedKeypairSignature(a){const s=fromBase64(a),et=SIGNATURE_FLAG_TO_SCHEME[s[0]];switch(et){case"ED25519":case"Secp256k1":case"Secp256r1":const tt=SIGNATURE_SCHEME_TO_SIZE[et],at=s.slice(1,s.length-tt),ct=s.slice(1+at.length);return{serializedSignature:a,signatureScheme:et,signature:at,publicKey:ct,bytes:s};default:throw new Error("Unsupported signature scheme")}}function devAssert(a,s){if(!!!a)throw new Error(s)}function isObjectLike$1(a){return typeof a=="object"&&a!==null}function invariant$R(a,s){if(!!!a)throw new Error("Unexpected invariant triggered.")}const LineRegExp=/\r\n|[\n\r]/g;function getLocation(a,s){let et=0,tt=1;for(const at of a.body.matchAll(LineRegExp)){if(typeof at.index=="number"||invariant$R(!1),at.index>=s)break;et=at.index+at[0].length,tt+=1}return{line:tt,column:s+1-et}}function printLocation(a){return printSourceLocation(a.source,getLocation(a.source,a.start))}function printSourceLocation(a,s){const et=a.locationOffset.column-1,tt="".padStart(et)+a.body,at=s.line-1,ct=a.locationOffset.line-1,ut=s.line+ct,bt=s.line===1?et:0,wt=s.column+bt,Et=`${a.name}:${ut}:${wt}
`,Ft=tt.split(/\r\n|[\n\r]/g),jt=Ft[at];if(jt.length>120){const Lt=Math.floor(wt/80),Ut=wt%80,Vt=[];for(let Yt=0;Yt<jt.length;Yt+=80)Vt.push(jt.slice(Yt,Yt+80));return Et+printPrefixedLines([[`${ut} |`,Vt[0]],...Vt.slice(1,Lt+1).map(Yt=>["|",Yt]),["|","^".padStart(Ut)],["|",Vt[Lt+1]]])}return Et+printPrefixedLines([[`${ut-1} |`,Ft[at-1]],[`${ut} |`,jt],["|","^".padStart(wt)],[`${ut+1} |`,Ft[at+1]]])}function printPrefixedLines(a){const s=a.filter(([tt,at])=>at!==void 0),et=Math.max(...s.map(([tt])=>tt.length));return s.map(([tt,at])=>tt.padStart(et)+(at?" "+at:"")).join(`
`)}function toNormalizedOptions(a){const s=a[0];return s==null||"kind"in s||"length"in s?{nodes:s,source:a[1],positions:a[2],path:a[3],originalError:a[4],extensions:a[5]}:s}class GraphQLError extends Error{constructor(s,...et){var tt,at,ct;const{nodes:ut,source:bt,positions:wt,path:Et,originalError:Ft,extensions:jt}=toNormalizedOptions(et);super(s),this.name="GraphQLError",this.path=Et??void 0,this.originalError=Ft??void 0,this.nodes=undefinedIfEmpty(Array.isArray(ut)?ut:ut?[ut]:void 0);const Lt=undefinedIfEmpty((tt=this.nodes)===null||tt===void 0?void 0:tt.map(Vt=>Vt.loc).filter(Vt=>Vt!=null));this.source=bt??(Lt==null||(at=Lt[0])===null||at===void 0?void 0:at.source),this.positions=wt??(Lt==null?void 0:Lt.map(Vt=>Vt.start)),this.locations=wt&&bt?wt.map(Vt=>getLocation(bt,Vt)):Lt==null?void 0:Lt.map(Vt=>getLocation(Vt.source,Vt.start));const Ut=isObjectLike$1(Ft==null?void 0:Ft.extensions)?Ft==null?void 0:Ft.extensions:void 0;this.extensions=(ct=jt??Ut)!==null&&ct!==void 0?ct:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),Ft!=null&&Ft.stack?Object.defineProperty(this,"stack",{value:Ft.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let s=this.message;if(this.nodes)for(const et of this.nodes)et.loc&&(s+=`

`+printLocation(et.loc));else if(this.source&&this.locations)for(const et of this.locations)s+=`

`+printSourceLocation(this.source,et);return s}toJSON(){const s={message:this.message};return this.locations!=null&&(s.locations=this.locations),this.path!=null&&(s.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(s.extensions=this.extensions),s}}function undefinedIfEmpty(a){return a===void 0||a.length===0?void 0:a}function syntaxError(a,s,et){return new GraphQLError(`Syntax Error: ${et}`,{source:a,positions:[s]})}class Location{constructor(s,et,tt){this.start=s.start,this.end=et.end,this.startToken=s,this.endToken=et,this.source=tt}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Token{constructor(s,et,tt,at,ct,ut){this.kind=s,this.start=et,this.end=tt,this.line=at,this.column=ct,this.value=ut,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kindValues=new Set(Object.keys(QueryDocumentKeys));function isNode(a){const s=a==null?void 0:a.kind;return typeof s=="string"&&kindValues.has(s)}var OperationTypeNode;(function(a){a.QUERY="query",a.MUTATION="mutation",a.SUBSCRIPTION="subscription"})(OperationTypeNode||(OperationTypeNode={}));var DirectiveLocation;(function(a){a.QUERY="QUERY",a.MUTATION="MUTATION",a.SUBSCRIPTION="SUBSCRIPTION",a.FIELD="FIELD",a.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",a.FRAGMENT_SPREAD="FRAGMENT_SPREAD",a.INLINE_FRAGMENT="INLINE_FRAGMENT",a.VARIABLE_DEFINITION="VARIABLE_DEFINITION",a.SCHEMA="SCHEMA",a.SCALAR="SCALAR",a.OBJECT="OBJECT",a.FIELD_DEFINITION="FIELD_DEFINITION",a.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",a.INTERFACE="INTERFACE",a.UNION="UNION",a.ENUM="ENUM",a.ENUM_VALUE="ENUM_VALUE",a.INPUT_OBJECT="INPUT_OBJECT",a.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(DirectiveLocation||(DirectiveLocation={}));var Kind;(function(a){a.NAME="Name",a.DOCUMENT="Document",a.OPERATION_DEFINITION="OperationDefinition",a.VARIABLE_DEFINITION="VariableDefinition",a.SELECTION_SET="SelectionSet",a.FIELD="Field",a.ARGUMENT="Argument",a.FRAGMENT_SPREAD="FragmentSpread",a.INLINE_FRAGMENT="InlineFragment",a.FRAGMENT_DEFINITION="FragmentDefinition",a.VARIABLE="Variable",a.INT="IntValue",a.FLOAT="FloatValue",a.STRING="StringValue",a.BOOLEAN="BooleanValue",a.NULL="NullValue",a.ENUM="EnumValue",a.LIST="ListValue",a.OBJECT="ObjectValue",a.OBJECT_FIELD="ObjectField",a.DIRECTIVE="Directive",a.NAMED_TYPE="NamedType",a.LIST_TYPE="ListType",a.NON_NULL_TYPE="NonNullType",a.SCHEMA_DEFINITION="SchemaDefinition",a.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",a.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",a.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",a.FIELD_DEFINITION="FieldDefinition",a.INPUT_VALUE_DEFINITION="InputValueDefinition",a.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",a.UNION_TYPE_DEFINITION="UnionTypeDefinition",a.ENUM_TYPE_DEFINITION="EnumTypeDefinition",a.ENUM_VALUE_DEFINITION="EnumValueDefinition",a.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",a.DIRECTIVE_DEFINITION="DirectiveDefinition",a.SCHEMA_EXTENSION="SchemaExtension",a.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",a.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",a.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",a.UNION_TYPE_EXTENSION="UnionTypeExtension",a.ENUM_TYPE_EXTENSION="EnumTypeExtension",a.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Kind||(Kind={}));function isWhiteSpace(a){return a===9||a===32}function isDigit(a){return a>=48&&a<=57}function isLetter(a){return a>=97&&a<=122||a>=65&&a<=90}function isNameStart(a){return isLetter(a)||a===95}function isNameContinue(a){return isLetter(a)||isDigit(a)||a===95}function dedentBlockStringLines(a){var s;let et=Number.MAX_SAFE_INTEGER,tt=null,at=-1;for(let ut=0;ut<a.length;++ut){var ct;const bt=a[ut],wt=leadingWhitespace(bt);wt!==bt.length&&(tt=(ct=tt)!==null&&ct!==void 0?ct:ut,at=ut,ut!==0&&wt<et&&(et=wt))}return a.map((ut,bt)=>bt===0?ut:ut.slice(et)).slice((s=tt)!==null&&s!==void 0?s:0,at+1)}function leadingWhitespace(a){let s=0;for(;s<a.length&&isWhiteSpace(a.charCodeAt(s));)++s;return s}function printBlockString(a,s){const et=a.replace(/"""/g,'\\"""'),tt=et.split(/\r\n|[\n\r]/g),at=tt.length===1,ct=tt.length>1&&tt.slice(1).every(Ut=>Ut.length===0||isWhiteSpace(Ut.charCodeAt(0))),ut=et.endsWith('\\"""'),bt=a.endsWith('"')&&!ut,wt=a.endsWith("\\"),Et=bt||wt,Ft=!at||a.length>70||Et||ct||ut;let jt="";const Lt=at&&isWhiteSpace(a.charCodeAt(0));return(Ft&&!Lt||ct)&&(jt+=`
`),jt+=et,(Ft||Et)&&(jt+=`
`),'"""'+jt+'"""'}var TokenKind;(function(a){a.SOF="<SOF>",a.EOF="<EOF>",a.BANG="!",a.DOLLAR="$",a.AMP="&",a.PAREN_L="(",a.PAREN_R=")",a.SPREAD="...",a.COLON=":",a.EQUALS="=",a.AT="@",a.BRACKET_L="[",a.BRACKET_R="]",a.BRACE_L="{",a.PIPE="|",a.BRACE_R="}",a.NAME="Name",a.INT="Int",a.FLOAT="Float",a.STRING="String",a.BLOCK_STRING="BlockString",a.COMMENT="Comment"})(TokenKind||(TokenKind={}));class Lexer{constructor(s){const et=new Token(TokenKind.SOF,0,0,0,0);this.source=s,this.lastToken=et,this.token=et,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let s=this.token;if(s.kind!==TokenKind.EOF)do if(s.next)s=s.next;else{const et=readNextToken(this,s.end);s.next=et,et.prev=s,s=et}while(s.kind===TokenKind.COMMENT);return s}}function isPunctuatorTokenKind(a){return a===TokenKind.BANG||a===TokenKind.DOLLAR||a===TokenKind.AMP||a===TokenKind.PAREN_L||a===TokenKind.PAREN_R||a===TokenKind.SPREAD||a===TokenKind.COLON||a===TokenKind.EQUALS||a===TokenKind.AT||a===TokenKind.BRACKET_L||a===TokenKind.BRACKET_R||a===TokenKind.BRACE_L||a===TokenKind.PIPE||a===TokenKind.BRACE_R}function isUnicodeScalarValue(a){return a>=0&&a<=55295||a>=57344&&a<=1114111}function isSupplementaryCodePoint(a,s){return isLeadingSurrogate(a.charCodeAt(s))&&isTrailingSurrogate(a.charCodeAt(s+1))}function isLeadingSurrogate(a){return a>=55296&&a<=56319}function isTrailingSurrogate(a){return a>=56320&&a<=57343}function printCodePointAt(a,s){const et=a.source.body.codePointAt(s);if(et===void 0)return TokenKind.EOF;if(et>=32&&et<=126){const tt=String.fromCodePoint(et);return tt==='"'?`'"'`:`"${tt}"`}return"U+"+et.toString(16).toUpperCase().padStart(4,"0")}function createToken(a,s,et,tt,at){const ct=a.line,ut=1+et-a.lineStart;return new Token(s,et,tt,ct,ut,at)}function readNextToken(a,s){const et=a.source.body,tt=et.length;let at=s;for(;at<tt;){const ct=et.charCodeAt(at);switch(ct){case 65279:case 9:case 32:case 44:++at;continue;case 10:++at,++a.line,a.lineStart=at;continue;case 13:et.charCodeAt(at+1)===10?at+=2:++at,++a.line,a.lineStart=at;continue;case 35:return readComment(a,at);case 33:return createToken(a,TokenKind.BANG,at,at+1);case 36:return createToken(a,TokenKind.DOLLAR,at,at+1);case 38:return createToken(a,TokenKind.AMP,at,at+1);case 40:return createToken(a,TokenKind.PAREN_L,at,at+1);case 41:return createToken(a,TokenKind.PAREN_R,at,at+1);case 46:if(et.charCodeAt(at+1)===46&&et.charCodeAt(at+2)===46)return createToken(a,TokenKind.SPREAD,at,at+3);break;case 58:return createToken(a,TokenKind.COLON,at,at+1);case 61:return createToken(a,TokenKind.EQUALS,at,at+1);case 64:return createToken(a,TokenKind.AT,at,at+1);case 91:return createToken(a,TokenKind.BRACKET_L,at,at+1);case 93:return createToken(a,TokenKind.BRACKET_R,at,at+1);case 123:return createToken(a,TokenKind.BRACE_L,at,at+1);case 124:return createToken(a,TokenKind.PIPE,at,at+1);case 125:return createToken(a,TokenKind.BRACE_R,at,at+1);case 34:return et.charCodeAt(at+1)===34&&et.charCodeAt(at+2)===34?readBlockString(a,at):readString(a,at)}if(isDigit(ct)||ct===45)return readNumber(a,at,ct);if(isNameStart(ct))return readName(a,at);throw syntaxError(a.source,at,ct===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:isUnicodeScalarValue(ct)||isSupplementaryCodePoint(et,at)?`Unexpected character: ${printCodePointAt(a,at)}.`:`Invalid character: ${printCodePointAt(a,at)}.`)}return createToken(a,TokenKind.EOF,tt,tt)}function readComment(a,s){const et=a.source.body,tt=et.length;let at=s+1;for(;at<tt;){const ct=et.charCodeAt(at);if(ct===10||ct===13)break;if(isUnicodeScalarValue(ct))++at;else if(isSupplementaryCodePoint(et,at))at+=2;else break}return createToken(a,TokenKind.COMMENT,s,at,et.slice(s+1,at))}function readNumber(a,s,et){const tt=a.source.body;let at=s,ct=et,ut=!1;if(ct===45&&(ct=tt.charCodeAt(++at)),ct===48){if(ct=tt.charCodeAt(++at),isDigit(ct))throw syntaxError(a.source,at,`Invalid number, unexpected digit after 0: ${printCodePointAt(a,at)}.`)}else at=readDigits(a,at,ct),ct=tt.charCodeAt(at);if(ct===46&&(ut=!0,ct=tt.charCodeAt(++at),at=readDigits(a,at,ct),ct=tt.charCodeAt(at)),(ct===69||ct===101)&&(ut=!0,ct=tt.charCodeAt(++at),(ct===43||ct===45)&&(ct=tt.charCodeAt(++at)),at=readDigits(a,at,ct),ct=tt.charCodeAt(at)),ct===46||isNameStart(ct))throw syntaxError(a.source,at,`Invalid number, expected digit but got: ${printCodePointAt(a,at)}.`);return createToken(a,ut?TokenKind.FLOAT:TokenKind.INT,s,at,tt.slice(s,at))}function readDigits(a,s,et){if(!isDigit(et))throw syntaxError(a.source,s,`Invalid number, expected digit but got: ${printCodePointAt(a,s)}.`);const tt=a.source.body;let at=s+1;for(;isDigit(tt.charCodeAt(at));)++at;return at}function readString(a,s){const et=a.source.body,tt=et.length;let at=s+1,ct=at,ut="";for(;at<tt;){const bt=et.charCodeAt(at);if(bt===34)return ut+=et.slice(ct,at),createToken(a,TokenKind.STRING,s,at+1,ut);if(bt===92){ut+=et.slice(ct,at);const wt=et.charCodeAt(at+1)===117?et.charCodeAt(at+2)===123?readEscapedUnicodeVariableWidth(a,at):readEscapedUnicodeFixedWidth(a,at):readEscapedCharacter(a,at);ut+=wt.value,at+=wt.size,ct=at;continue}if(bt===10||bt===13)break;if(isUnicodeScalarValue(bt))++at;else if(isSupplementaryCodePoint(et,at))at+=2;else throw syntaxError(a.source,at,`Invalid character within String: ${printCodePointAt(a,at)}.`)}throw syntaxError(a.source,at,"Unterminated string.")}function readEscapedUnicodeVariableWidth(a,s){const et=a.source.body;let tt=0,at=3;for(;at<12;){const ct=et.charCodeAt(s+at++);if(ct===125){if(at<5||!isUnicodeScalarValue(tt))break;return{value:String.fromCodePoint(tt),size:at}}if(tt=tt<<4|readHexDigit(ct),tt<0)break}throw syntaxError(a.source,s,`Invalid Unicode escape sequence: "${et.slice(s,s+at)}".`)}function readEscapedUnicodeFixedWidth(a,s){const et=a.source.body,tt=read16BitHexCode(et,s+2);if(isUnicodeScalarValue(tt))return{value:String.fromCodePoint(tt),size:6};if(isLeadingSurrogate(tt)&&et.charCodeAt(s+6)===92&&et.charCodeAt(s+7)===117){const at=read16BitHexCode(et,s+8);if(isTrailingSurrogate(at))return{value:String.fromCodePoint(tt,at),size:12}}throw syntaxError(a.source,s,`Invalid Unicode escape sequence: "${et.slice(s,s+6)}".`)}function read16BitHexCode(a,s){return readHexDigit(a.charCodeAt(s))<<12|readHexDigit(a.charCodeAt(s+1))<<8|readHexDigit(a.charCodeAt(s+2))<<4|readHexDigit(a.charCodeAt(s+3))}function readHexDigit(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function readEscapedCharacter(a,s){const et=a.source.body;switch(et.charCodeAt(s+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw syntaxError(a.source,s,`Invalid character escape sequence: "${et.slice(s,s+2)}".`)}function readBlockString(a,s){const et=a.source.body,tt=et.length;let at=a.lineStart,ct=s+3,ut=ct,bt="";const wt=[];for(;ct<tt;){const Et=et.charCodeAt(ct);if(Et===34&&et.charCodeAt(ct+1)===34&&et.charCodeAt(ct+2)===34){bt+=et.slice(ut,ct),wt.push(bt);const Ft=createToken(a,TokenKind.BLOCK_STRING,s,ct+3,dedentBlockStringLines(wt).join(`
`));return a.line+=wt.length-1,a.lineStart=at,Ft}if(Et===92&&et.charCodeAt(ct+1)===34&&et.charCodeAt(ct+2)===34&&et.charCodeAt(ct+3)===34){bt+=et.slice(ut,ct),ut=ct+1,ct+=4;continue}if(Et===10||Et===13){bt+=et.slice(ut,ct),wt.push(bt),Et===13&&et.charCodeAt(ct+1)===10?ct+=2:++ct,bt="",ut=ct,at=ct;continue}if(isUnicodeScalarValue(Et))++ct;else if(isSupplementaryCodePoint(et,ct))ct+=2;else throw syntaxError(a.source,ct,`Invalid character within String: ${printCodePointAt(a,ct)}.`)}throw syntaxError(a.source,ct,"Unterminated string.")}function readName(a,s){const et=a.source.body,tt=et.length;let at=s+1;for(;at<tt;){const ct=et.charCodeAt(at);if(isNameContinue(ct))++at;else break}return createToken(a,TokenKind.NAME,s,at,et.slice(s,at))}const MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(a){return formatValue(a,[])}function formatValue(a,s){switch(typeof a){case"string":return JSON.stringify(a);case"function":return a.name?`[function ${a.name}]`:"[function]";case"object":return formatObjectValue(a,s);default:return String(a)}}function formatObjectValue(a,s){if(a===null)return"null";if(s.includes(a))return"[Circular]";const et=[...s,a];if(isJSONable(a)){const tt=a.toJSON();if(tt!==a)return typeof tt=="string"?tt:formatValue(tt,et)}else if(Array.isArray(a))return formatArray(a,et);return formatObject(a,et)}function isJSONable(a){return typeof a.toJSON=="function"}function formatObject(a,s){const et=Object.entries(a);return et.length===0?"{}":s.length>MAX_RECURSIVE_DEPTH?"["+getObjectTag(a)+"]":"{ "+et.map(([at,ct])=>at+": "+formatValue(ct,s)).join(", ")+" }"}function formatArray(a,s){if(a.length===0)return"[]";if(s.length>MAX_RECURSIVE_DEPTH)return"[Array]";const et=Math.min(MAX_ARRAY_LENGTH,a.length),tt=a.length-et,at=[];for(let ct=0;ct<et;++ct)at.push(formatValue(a[ct],s));return tt===1?at.push("... 1 more item"):tt>1&&at.push(`... ${tt} more items`),"["+at.join(", ")+"]"}function getObjectTag(a){const s=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if(s==="Object"&&typeof a.constructor=="function"){const et=a.constructor.name;if(typeof et=="string"&&et!=="")return et}return s}const isProduction=globalThis.process&&!0,instanceOf=isProduction?function(s,et){return s instanceof et}:function(s,et){if(s instanceof et)return!0;if(typeof s=="object"&&s!==null){var tt;const at=et.prototype[Symbol.toStringTag],ct=Symbol.toStringTag in s?s[Symbol.toStringTag]:(tt=s.constructor)===null||tt===void 0?void 0:tt.name;if(at===ct){const ut=inspect(s);throw new Error(`Cannot use ${at} "${ut}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Source{constructor(s,et="GraphQL request",tt={line:1,column:1}){typeof s=="string"||devAssert(!1,`Body must be a string. Received: ${inspect(s)}.`),this.body=s,this.name=et,this.locationOffset=tt,this.locationOffset.line>0||devAssert(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function isSource(a){return instanceOf(a,Source)}function parse$1(a,s){const et=new Parser(a,s),tt=et.parseDocument();return Object.defineProperty(tt,"tokenCount",{enumerable:!1,value:et.tokenCount}),tt}class Parser{constructor(s,et={}){const tt=isSource(s)?s:new Source(s);this._lexer=new Lexer(tt),this._options=et,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const s=this.expectToken(TokenKind.NAME);return this.node(s,{kind:Kind.NAME,value:s.value})}parseDocument(){return this.node(this._lexer.token,{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF)})}parseDefinition(){if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();const s=this.peekDescription(),et=s?this._lexer.lookahead():this._lexer.token;if(et.kind===TokenKind.NAME){switch(et.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(s)throw syntaxError(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(et.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(et)}parseOperationDefinition(){const s=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return this.node(s,{kind:Kind.OPERATION_DEFINITION,operation:OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const et=this.parseOperationType();let tt;return this.peek(TokenKind.NAME)&&(tt=this.parseName()),this.node(s,{kind:Kind.OPERATION_DEFINITION,operation:et,name:tt,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const s=this.expectToken(TokenKind.NAME);switch(s.value){case"query":return OperationTypeNode.QUERY;case"mutation":return OperationTypeNode.MUTATION;case"subscription":return OperationTypeNode.SUBSCRIPTION}throw this.unexpected(s)}parseVariableDefinitions(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const s=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),this.node(s,{kind:Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R)})}parseSelection(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){const s=this._lexer.token,et=this.parseName();let tt,at;return this.expectOptionalToken(TokenKind.COLON)?(tt=et,at=this.parseName()):at=et,this.node(s,{kind:Kind.FIELD,alias:tt,name:at,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(s){const et=s?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,et,TokenKind.PAREN_R)}parseArgument(s=!1){const et=this._lexer.token,tt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(et,{kind:Kind.ARGUMENT,name:tt,value:this.parseValueLiteral(s)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const s=this._lexer.token;this.expectToken(TokenKind.SPREAD);const et=this.expectOptionalKeyword("on");return!et&&this.peek(TokenKind.NAME)?this.node(s,{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(s,{kind:Kind.INLINE_FRAGMENT,typeCondition:et?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const s=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(s,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(s,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(s){const et=this._lexer.token;switch(et.kind){case TokenKind.BRACKET_L:return this.parseList(s);case TokenKind.BRACE_L:return this.parseObject(s);case TokenKind.INT:return this.advanceLexer(),this.node(et,{kind:Kind.INT,value:et.value});case TokenKind.FLOAT:return this.advanceLexer(),this.node(et,{kind:Kind.FLOAT,value:et.value});case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this.advanceLexer(),et.value){case"true":return this.node(et,{kind:Kind.BOOLEAN,value:!0});case"false":return this.node(et,{kind:Kind.BOOLEAN,value:!1});case"null":return this.node(et,{kind:Kind.NULL});default:return this.node(et,{kind:Kind.ENUM,value:et.value})}case TokenKind.DOLLAR:if(s)if(this.expectToken(TokenKind.DOLLAR),this._lexer.token.kind===TokenKind.NAME){const tt=this._lexer.token.value;throw syntaxError(this._lexer.source,et.start,`Unexpected variable "$${tt}" in constant value.`)}else throw this.unexpected(et);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const s=this._lexer.token;return this.advanceLexer(),this.node(s,{kind:Kind.STRING,value:s.value,block:s.kind===TokenKind.BLOCK_STRING})}parseList(s){const et=()=>this.parseValueLiteral(s);return this.node(this._lexer.token,{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,et,TokenKind.BRACKET_R)})}parseObject(s){const et=()=>this.parseObjectField(s);return this.node(this._lexer.token,{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,et,TokenKind.BRACE_R)})}parseObjectField(s){const et=this._lexer.token,tt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(et,{kind:Kind.OBJECT_FIELD,name:tt,value:this.parseValueLiteral(s)})}parseDirectives(s){const et=[];for(;this.peek(TokenKind.AT);)et.push(this.parseDirective(s));return et}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(s){const et=this._lexer.token;return this.expectToken(TokenKind.AT),this.node(et,{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(s)})}parseTypeReference(){const s=this._lexer.token;let et;if(this.expectOptionalToken(TokenKind.BRACKET_L)){const tt=this.parseTypeReference();this.expectToken(TokenKind.BRACKET_R),et=this.node(s,{kind:Kind.LIST_TYPE,type:tt})}else et=this.parseNamedType();return this.expectOptionalToken(TokenKind.BANG)?this.node(s,{kind:Kind.NON_NULL_TYPE,type:et}):et}parseNamedType(){return this.node(this._lexer.token,{kind:Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("schema");const tt=this.parseConstDirectives(),at=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return this.node(s,{kind:Kind.SCHEMA_DEFINITION,description:et,directives:tt,operationTypes:at})}parseOperationTypeDefinition(){const s=this._lexer.token,et=this.parseOperationType();this.expectToken(TokenKind.COLON);const tt=this.parseNamedType();return this.node(s,{kind:Kind.OPERATION_TYPE_DEFINITION,operation:et,type:tt})}parseScalarTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("scalar");const tt=this.parseName(),at=this.parseConstDirectives();return this.node(s,{kind:Kind.SCALAR_TYPE_DEFINITION,description:et,name:tt,directives:at})}parseObjectTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("type");const tt=this.parseName(),at=this.parseImplementsInterfaces(),ct=this.parseConstDirectives(),ut=this.parseFieldsDefinition();return this.node(s,{kind:Kind.OBJECT_TYPE_DEFINITION,description:et,name:tt,interfaces:at,directives:ct,fields:ut})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)}parseFieldDefinition(){const s=this._lexer.token,et=this.parseDescription(),tt=this.parseName(),at=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);const ct=this.parseTypeReference(),ut=this.parseConstDirectives();return this.node(s,{kind:Kind.FIELD_DEFINITION,description:et,name:tt,arguments:at,type:ct,directives:ut})}parseArgumentDefs(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)}parseInputValueDef(){const s=this._lexer.token,et=this.parseDescription(),tt=this.parseName();this.expectToken(TokenKind.COLON);const at=this.parseTypeReference();let ct;this.expectOptionalToken(TokenKind.EQUALS)&&(ct=this.parseConstValueLiteral());const ut=this.parseConstDirectives();return this.node(s,{kind:Kind.INPUT_VALUE_DEFINITION,description:et,name:tt,type:at,defaultValue:ct,directives:ut})}parseInterfaceTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("interface");const tt=this.parseName(),at=this.parseImplementsInterfaces(),ct=this.parseConstDirectives(),ut=this.parseFieldsDefinition();return this.node(s,{kind:Kind.INTERFACE_TYPE_DEFINITION,description:et,name:tt,interfaces:at,directives:ct,fields:ut})}parseUnionTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("union");const tt=this.parseName(),at=this.parseConstDirectives(),ct=this.parseUnionMemberTypes();return this.node(s,{kind:Kind.UNION_TYPE_DEFINITION,description:et,name:tt,directives:at,types:ct})}parseUnionMemberTypes(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("enum");const tt=this.parseName(),at=this.parseConstDirectives(),ct=this.parseEnumValuesDefinition();return this.node(s,{kind:Kind.ENUM_TYPE_DEFINITION,description:et,name:tt,directives:at,values:ct})}parseEnumValuesDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)}parseEnumValueDefinition(){const s=this._lexer.token,et=this.parseDescription(),tt=this.parseEnumValueName(),at=this.parseConstDirectives();return this.node(s,{kind:Kind.ENUM_VALUE_DEFINITION,description:et,name:tt,directives:at})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw syntaxError(this._lexer.source,this._lexer.token.start,`${getTokenDesc(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("input");const tt=this.parseName(),at=this.parseConstDirectives(),ct=this.parseInputFieldsDefinition();return this.node(s,{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:et,name:tt,directives:at,fields:ct})}parseInputFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)}parseTypeSystemExtension(){const s=this._lexer.lookahead();if(s.kind===TokenKind.NAME)switch(s.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(s)}parseSchemaExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const et=this.parseConstDirectives(),tt=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(et.length===0&&tt.length===0)throw this.unexpected();return this.node(s,{kind:Kind.SCHEMA_EXTENSION,directives:et,operationTypes:tt})}parseScalarTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const et=this.parseName(),tt=this.parseConstDirectives();if(tt.length===0)throw this.unexpected();return this.node(s,{kind:Kind.SCALAR_TYPE_EXTENSION,name:et,directives:tt})}parseObjectTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const et=this.parseName(),tt=this.parseImplementsInterfaces(),at=this.parseConstDirectives(),ct=this.parseFieldsDefinition();if(tt.length===0&&at.length===0&&ct.length===0)throw this.unexpected();return this.node(s,{kind:Kind.OBJECT_TYPE_EXTENSION,name:et,interfaces:tt,directives:at,fields:ct})}parseInterfaceTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const et=this.parseName(),tt=this.parseImplementsInterfaces(),at=this.parseConstDirectives(),ct=this.parseFieldsDefinition();if(tt.length===0&&at.length===0&&ct.length===0)throw this.unexpected();return this.node(s,{kind:Kind.INTERFACE_TYPE_EXTENSION,name:et,interfaces:tt,directives:at,fields:ct})}parseUnionTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const et=this.parseName(),tt=this.parseConstDirectives(),at=this.parseUnionMemberTypes();if(tt.length===0&&at.length===0)throw this.unexpected();return this.node(s,{kind:Kind.UNION_TYPE_EXTENSION,name:et,directives:tt,types:at})}parseEnumTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const et=this.parseName(),tt=this.parseConstDirectives(),at=this.parseEnumValuesDefinition();if(tt.length===0&&at.length===0)throw this.unexpected();return this.node(s,{kind:Kind.ENUM_TYPE_EXTENSION,name:et,directives:tt,values:at})}parseInputObjectTypeExtension(){const s=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const et=this.parseName(),tt=this.parseConstDirectives(),at=this.parseInputFieldsDefinition();if(tt.length===0&&at.length===0)throw this.unexpected();return this.node(s,{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:et,directives:tt,fields:at})}parseDirectiveDefinition(){const s=this._lexer.token,et=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);const tt=this.parseName(),at=this.parseArgumentDefs(),ct=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const ut=this.parseDirectiveLocations();return this.node(s,{kind:Kind.DIRECTIVE_DEFINITION,description:et,name:tt,arguments:at,repeatable:ct,locations:ut})}parseDirectiveLocations(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const s=this._lexer.token,et=this.parseName();if(Object.prototype.hasOwnProperty.call(DirectiveLocation,et.value))return et;throw this.unexpected(s)}node(s,et){return this._options.noLocation!==!0&&(et.loc=new Location(s,this._lexer.lastToken,this._lexer.source)),et}peek(s){return this._lexer.token.kind===s}expectToken(s){const et=this._lexer.token;if(et.kind===s)return this.advanceLexer(),et;throw syntaxError(this._lexer.source,et.start,`Expected ${getTokenKindDesc(s)}, found ${getTokenDesc(et)}.`)}expectOptionalToken(s){return this._lexer.token.kind===s?(this.advanceLexer(),!0):!1}expectKeyword(s){const et=this._lexer.token;if(et.kind===TokenKind.NAME&&et.value===s)this.advanceLexer();else throw syntaxError(this._lexer.source,et.start,`Expected "${s}", found ${getTokenDesc(et)}.`)}expectOptionalKeyword(s){const et=this._lexer.token;return et.kind===TokenKind.NAME&&et.value===s?(this.advanceLexer(),!0):!1}unexpected(s){const et=s??this._lexer.token;return syntaxError(this._lexer.source,et.start,`Unexpected ${getTokenDesc(et)}.`)}any(s,et,tt){this.expectToken(s);const at=[];for(;!this.expectOptionalToken(tt);)at.push(et.call(this));return at}optionalMany(s,et,tt){if(this.expectOptionalToken(s)){const at=[];do at.push(et.call(this));while(!this.expectOptionalToken(tt));return at}return[]}many(s,et,tt){this.expectToken(s);const at=[];do at.push(et.call(this));while(!this.expectOptionalToken(tt));return at}delimitedMany(s,et){this.expectOptionalToken(s);const tt=[];do tt.push(et.call(this));while(this.expectOptionalToken(s));return tt}advanceLexer(){const{maxTokens:s}=this._options,et=this._lexer.advance();if(et.kind!==TokenKind.EOF&&(++this._tokenCounter,s!==void 0&&this._tokenCounter>s))throw syntaxError(this._lexer.source,et.start,`Document contains more that ${s} tokens. Parsing aborted.`)}}function getTokenDesc(a){const s=a.value;return getTokenKindDesc(a.kind)+(s!=null?` "${s}"`:"")}function getTokenKindDesc(a){return isPunctuatorTokenKind(a)?`"${a}"`:a}function printString(a){return`"${a.replace(escapedRegExp,escapedReplacer)}"`}const escapedRegExp=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function escapedReplacer(a){return escapeSequences[a.charCodeAt(0)]}const escapeSequences=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],BREAK=Object.freeze({});function visit(a,s,et=QueryDocumentKeys){const tt=new Map;for(const tr of Object.values(Kind))tt.set(tr,getEnterLeaveForKind(s,tr));let at,ct=Array.isArray(a),ut=[a],bt=-1,wt=[],Et=a,Ft,jt;const Lt=[],Ut=[];do{bt++;const tr=bt===ut.length,nr=tr&&wt.length!==0;if(tr){if(Ft=Ut.length===0?void 0:Lt[Lt.length-1],Et=jt,jt=Ut.pop(),nr)if(ct){Et=Et.slice();let lr=0;for(const[pr,yr]of wt){const br=pr-lr;yr===null?(Et.splice(br,1),lr++):Et[br]=yr}}else{Et=Object.defineProperties({},Object.getOwnPropertyDescriptors(Et));for(const[lr,pr]of wt)Et[lr]=pr}bt=at.index,ut=at.keys,wt=at.edits,ct=at.inArray,at=at.prev}else if(jt){if(Ft=ct?bt:ut[bt],Et=jt[Ft],Et==null)continue;Lt.push(Ft)}let ir;if(!Array.isArray(Et)){var Vt,Yt;isNode(Et)||devAssert(!1,`Invalid AST Node: ${inspect(Et)}.`);const lr=tr?(Vt=tt.get(Et.kind))===null||Vt===void 0?void 0:Vt.leave:(Yt=tt.get(Et.kind))===null||Yt===void 0?void 0:Yt.enter;if(ir=lr==null?void 0:lr.call(s,Et,Ft,jt,Lt,Ut),ir===BREAK)break;if(ir===!1){if(!tr){Lt.pop();continue}}else if(ir!==void 0&&(wt.push([Ft,ir]),!tr))if(isNode(ir))Et=ir;else{Lt.pop();continue}}if(ir===void 0&&nr&&wt.push([Ft,Et]),tr)Lt.pop();else{var er;at={inArray:ct,index:bt,keys:ut,edits:wt,prev:at},ct=Array.isArray(Et),ut=ct?Et:(er=et[Et.kind])!==null&&er!==void 0?er:[],bt=-1,wt=[],jt&&Ut.push(jt),jt=Et}}while(at!==void 0);return wt.length!==0?wt[wt.length-1][1]:a}function getEnterLeaveForKind(a,s){const et=a[s];return typeof et=="object"?et:typeof et=="function"?{enter:et,leave:void 0}:{enter:a.enter,leave:a.leave}}function print(a){return visit(a,printDocASTReducer)}const MAX_LINE_LENGTH=80,printDocASTReducer={Name:{leave:a=>a.value},Variable:{leave:a=>"$"+a.name},Document:{leave:a=>join(a.definitions,`

`)},OperationDefinition:{leave(a){const s=wrap$2("(",join(a.variableDefinitions,", "),")"),et=join([a.operation,join([a.name,s]),join(a.directives," ")]," ");return(et==="query"?"":et+" ")+a.selectionSet}},VariableDefinition:{leave:({variable:a,type:s,defaultValue:et,directives:tt})=>a+": "+s+wrap$2(" = ",et)+wrap$2(" ",join(tt," "))},SelectionSet:{leave:({selections:a})=>block(a)},Field:{leave({alias:a,name:s,arguments:et,directives:tt,selectionSet:at}){const ct=wrap$2("",a,": ")+s;let ut=ct+wrap$2("(",join(et,", "),")");return ut.length>MAX_LINE_LENGTH&&(ut=ct+wrap$2(`(
`,indent(join(et,`
`)),`
)`)),join([ut,join(tt," "),at]," ")}},Argument:{leave:({name:a,value:s})=>a+": "+s},FragmentSpread:{leave:({name:a,directives:s})=>"..."+a+wrap$2(" ",join(s," "))},InlineFragment:{leave:({typeCondition:a,directives:s,selectionSet:et})=>join(["...",wrap$2("on ",a),join(s," "),et]," ")},FragmentDefinition:{leave:({name:a,typeCondition:s,variableDefinitions:et,directives:tt,selectionSet:at})=>`fragment ${a}${wrap$2("(",join(et,", "),")")} on ${s} ${wrap$2("",join(tt," ")," ")}`+at},IntValue:{leave:({value:a})=>a},FloatValue:{leave:({value:a})=>a},StringValue:{leave:({value:a,block:s})=>s?printBlockString(a):printString(a)},BooleanValue:{leave:({value:a})=>a?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:a})=>a},ListValue:{leave:({values:a})=>"["+join(a,", ")+"]"},ObjectValue:{leave:({fields:a})=>"{"+join(a,", ")+"}"},ObjectField:{leave:({name:a,value:s})=>a+": "+s},Directive:{leave:({name:a,arguments:s})=>"@"+a+wrap$2("(",join(s,", "),")")},NamedType:{leave:({name:a})=>a},ListType:{leave:({type:a})=>"["+a+"]"},NonNullType:{leave:({type:a})=>a+"!"},SchemaDefinition:{leave:({description:a,directives:s,operationTypes:et})=>wrap$2("",a,`
`)+join(["schema",join(s," "),block(et)]," ")},OperationTypeDefinition:{leave:({operation:a,type:s})=>a+": "+s},ScalarTypeDefinition:{leave:({description:a,name:s,directives:et})=>wrap$2("",a,`
`)+join(["scalar",s,join(et," ")]," ")},ObjectTypeDefinition:{leave:({description:a,name:s,interfaces:et,directives:tt,fields:at})=>wrap$2("",a,`
`)+join(["type",s,wrap$2("implements ",join(et," & ")),join(tt," "),block(at)]," ")},FieldDefinition:{leave:({description:a,name:s,arguments:et,type:tt,directives:at})=>wrap$2("",a,`
`)+s+(hasMultilineItems(et)?wrap$2(`(
`,indent(join(et,`
`)),`
)`):wrap$2("(",join(et,", "),")"))+": "+tt+wrap$2(" ",join(at," "))},InputValueDefinition:{leave:({description:a,name:s,type:et,defaultValue:tt,directives:at})=>wrap$2("",a,`
`)+join([s+": "+et,wrap$2("= ",tt),join(at," ")]," ")},InterfaceTypeDefinition:{leave:({description:a,name:s,interfaces:et,directives:tt,fields:at})=>wrap$2("",a,`
`)+join(["interface",s,wrap$2("implements ",join(et," & ")),join(tt," "),block(at)]," ")},UnionTypeDefinition:{leave:({description:a,name:s,directives:et,types:tt})=>wrap$2("",a,`
`)+join(["union",s,join(et," "),wrap$2("= ",join(tt," | "))]," ")},EnumTypeDefinition:{leave:({description:a,name:s,directives:et,values:tt})=>wrap$2("",a,`
`)+join(["enum",s,join(et," "),block(tt)]," ")},EnumValueDefinition:{leave:({description:a,name:s,directives:et})=>wrap$2("",a,`
`)+join([s,join(et," ")]," ")},InputObjectTypeDefinition:{leave:({description:a,name:s,directives:et,fields:tt})=>wrap$2("",a,`
`)+join(["input",s,join(et," "),block(tt)]," ")},DirectiveDefinition:{leave:({description:a,name:s,arguments:et,repeatable:tt,locations:at})=>wrap$2("",a,`
`)+"directive @"+s+(hasMultilineItems(et)?wrap$2(`(
`,indent(join(et,`
`)),`
)`):wrap$2("(",join(et,", "),")"))+(tt?" repeatable":"")+" on "+join(at," | ")},SchemaExtension:{leave:({directives:a,operationTypes:s})=>join(["extend schema",join(a," "),block(s)]," ")},ScalarTypeExtension:{leave:({name:a,directives:s})=>join(["extend scalar",a,join(s," ")]," ")},ObjectTypeExtension:{leave:({name:a,interfaces:s,directives:et,fields:tt})=>join(["extend type",a,wrap$2("implements ",join(s," & ")),join(et," "),block(tt)]," ")},InterfaceTypeExtension:{leave:({name:a,interfaces:s,directives:et,fields:tt})=>join(["extend interface",a,wrap$2("implements ",join(s," & ")),join(et," "),block(tt)]," ")},UnionTypeExtension:{leave:({name:a,directives:s,types:et})=>join(["extend union",a,join(s," "),wrap$2("= ",join(et," | "))]," ")},EnumTypeExtension:{leave:({name:a,directives:s,values:et})=>join(["extend enum",a,join(s," "),block(et)]," ")},InputObjectTypeExtension:{leave:({name:a,directives:s,fields:et})=>join(["extend input",a,join(s," "),block(et)]," ")}};function join(a,s=""){var et;return(et=a==null?void 0:a.filter(tt=>tt).join(s))!==null&&et!==void 0?et:""}function block(a){return wrap$2(`{
`,indent(join(a,`
`)),`
}`)}function wrap$2(a,s,et=""){return s!=null&&s!==""?a+s+et:""}function indent(a){return wrap$2("  ",a.replace(/\n/g,`
  `))}function hasMultilineItems(a){var s;return(s=a==null?void 0:a.some(et=>et.includes(`
`)))!==null&&s!==void 0?s:!1}function toSerializedSignature({signature:a,signatureScheme:s,publicKey:et}){if(!et)throw new Error("`publicKey` is required");const tt=et.toRawBytes(),at=new Uint8Array(1+a.length+tt.length);return at.set([SIGNATURE_SCHEME_TO_FLAG[s]]),at.set(a,1),at.set(tt,1+a.length),toBase64(at)}function pbkdf2Init(a,s,et,tt){ahash(a);const at=checkOpts({dkLen:32,asyncTick:10},tt),{c:ct,dkLen:ut,asyncTick:bt}=at;if(anumber(ct),anumber(ut),anumber(bt),ct<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const wt=toBytes(s),Et=toBytes(et),Ft=new Uint8Array(ut),jt=hmac$2.create(a,wt),Lt=jt._cloneInto().update(Et);return{c:ct,dkLen:ut,asyncTick:bt,DK:Ft,PRF:jt,PRFSalt:Lt}}function pbkdf2Output(a,s,et,tt,at){return a.destroy(),s.destroy(),tt&&tt.destroy(),at.fill(0),et}function pbkdf2$1(a,s,et,tt){const{c:at,dkLen:ct,DK:ut,PRF:bt,PRFSalt:wt}=pbkdf2Init(a,s,et,tt);let Et;const Ft=new Uint8Array(4),jt=createView(Ft),Lt=new Uint8Array(bt.outputLen);for(let Ut=1,Vt=0;Vt<ct;Ut++,Vt+=bt.outputLen){const Yt=ut.subarray(Vt,Vt+bt.outputLen);jt.setInt32(0,Ut,!1),(Et=wt._cloneInto(Et)).update(Ft).digestInto(Lt),Yt.set(Lt.subarray(0,Yt.length));for(let er=1;er<at;er++){bt._cloneInto(Et).update(Lt).digestInto(Lt);for(let tr=0;tr<Yt.length;tr++)Yt[tr]^=Lt[tr]}}return pbkdf2Output(bt,wt,ut,Et,Lt)}const[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:s,Al:et,Bh:tt,Bl:at,Ch:ct,Cl:ut,Dh:bt,Dl:wt,Eh:Et,El:Ft,Fh:jt,Fl:Lt,Gh:Ut,Gl:Vt,Hh:Yt,Hl:er}=this;return[s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt,er]}set(s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt,er){this.Ah=s|0,this.Al=et|0,this.Bh=tt|0,this.Bl=at|0,this.Ch=ct|0,this.Cl=ut|0,this.Dh=bt|0,this.Dl=wt|0,this.Eh=Et|0,this.El=Ft|0,this.Fh=jt|0,this.Fl=Lt|0,this.Gh=Ut|0,this.Gl=Vt|0,this.Hh=Yt|0,this.Hl=er|0}process(s,et){for(let ir=0;ir<16;ir++,et+=4)SHA512_W_H[ir]=s.getUint32(et),SHA512_W_L[ir]=s.getUint32(et+=4);for(let ir=16;ir<80;ir++){const lr=SHA512_W_H[ir-15]|0,pr=SHA512_W_L[ir-15]|0,yr=u64.rotrSH(lr,pr,1)^u64.rotrSH(lr,pr,8)^u64.shrSH(lr,pr,7),br=u64.rotrSL(lr,pr,1)^u64.rotrSL(lr,pr,8)^u64.shrSL(lr,pr,7),xr=SHA512_W_H[ir-2]|0,Er=SHA512_W_L[ir-2]|0,$r=u64.rotrSH(xr,Er,19)^u64.rotrBH(xr,Er,61)^u64.shrSH(xr,Er,6),Sr=u64.rotrSL(xr,Er,19)^u64.rotrBL(xr,Er,61)^u64.shrSL(xr,Er,6),fr=u64.add4L(br,Sr,SHA512_W_L[ir-7],SHA512_W_L[ir-16]),vr=u64.add4H(fr,yr,$r,SHA512_W_H[ir-7],SHA512_W_H[ir-16]);SHA512_W_H[ir]=vr|0,SHA512_W_L[ir]=fr|0}let{Ah:tt,Al:at,Bh:ct,Bl:ut,Ch:bt,Cl:wt,Dh:Et,Dl:Ft,Eh:jt,El:Lt,Fh:Ut,Fl:Vt,Gh:Yt,Gl:er,Hh:tr,Hl:nr}=this;for(let ir=0;ir<80;ir++){const lr=u64.rotrSH(jt,Lt,14)^u64.rotrSH(jt,Lt,18)^u64.rotrBH(jt,Lt,41),pr=u64.rotrSL(jt,Lt,14)^u64.rotrSL(jt,Lt,18)^u64.rotrBL(jt,Lt,41),yr=jt&Ut^~jt&Yt,br=Lt&Vt^~Lt&er,xr=u64.add5L(nr,pr,br,SHA512_Kl[ir],SHA512_W_L[ir]),Er=u64.add5H(xr,tr,lr,yr,SHA512_Kh[ir],SHA512_W_H[ir]),$r=xr|0,Sr=u64.rotrSH(tt,at,28)^u64.rotrBH(tt,at,34)^u64.rotrBH(tt,at,39),fr=u64.rotrSL(tt,at,28)^u64.rotrBL(tt,at,34)^u64.rotrBL(tt,at,39),vr=tt&ct^tt&bt^ct&bt,or=at&ut^at&wt^ut&wt;tr=Yt|0,nr=er|0,Yt=Ut|0,er=Vt|0,Ut=jt|0,Vt=Lt|0,{h:jt,l:Lt}=u64.add(Et|0,Ft|0,Er|0,$r|0),Et=bt|0,Ft=wt|0,bt=ct|0,wt=ut|0,ct=tt|0,ut=at|0;const rr=u64.add3L($r,fr,or);tt=u64.add3H(rr,Er,Sr,vr),at=rr|0}({h:tt,l:at}=u64.add(this.Ah|0,this.Al|0,tt|0,at|0)),{h:ct,l:ut}=u64.add(this.Bh|0,this.Bl|0,ct|0,ut|0),{h:bt,l:wt}=u64.add(this.Ch|0,this.Cl|0,bt|0,wt|0),{h:Et,l:Ft}=u64.add(this.Dh|0,this.Dl|0,Et|0,Ft|0),{h:jt,l:Lt}=u64.add(this.Eh|0,this.El|0,jt|0,Lt|0),{h:Ut,l:Vt}=u64.add(this.Fh|0,this.Fl|0,Ut|0,Vt|0),{h:Yt,l:er}=u64.add(this.Gh|0,this.Gl|0,Yt|0,er|0),{h:tr,l:nr}=u64.add(this.Hh|0,this.Hl|0,tr|0,nr|0),this.set(tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt,er,tr,nr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$3=wrapConstructor(()=>new SHA512);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function nfkd(a){if(typeof a!="string")throw new TypeError("invalid mnemonic type: "+typeof a);return a.normalize("NFKD")}function normalize$5(a){const s=nfkd(a),et=s.split(" ");if(![12,15,18,21,24].includes(et.length))throw new Error("Invalid mnemonic");return{nfkd:s,words:et}}const psalt=a=>nfkd("mnemonic"+a);function mnemonicToSeedSync(a,s=""){return pbkdf2$1(sha512$3,normalize$5(a).nfkd,psalt(s),{c:2048,dkLen:64})}function isValidHardenedPath(a){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(a)}function mnemonicToSeed(a){return mnemonicToSeedSync(a,"")}function mnemonicToSeedHex(a){return toHex$2(mnemonicToSeed(a))}const PRIVATE_KEY_SIZE=32,SUI_PRIVATE_KEY_PREFIX="suiprivkey";class Signer{async signWithIntent(s,et){const tt=messageWithIntent(et,s),at=blake2b$1(tt,{dkLen:32});return{signature:toSerializedSignature({signature:await this.sign(at),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:toBase64(s)}}async signTransaction(s){return this.signWithIntent(s,"TransactionData")}async signPersonalMessage(s){const{signature:et}=await this.signWithIntent(bcs$2.vector(bcs$2.u8()).serialize(s).toBytes(),"PersonalMessage");return{bytes:toBase64(s),signature:et}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class Keypair extends Signer{}function decodeSuiPrivateKey(a){const{prefix:s,words:et}=bech32.decode(a);if(s!==SUI_PRIVATE_KEY_PREFIX)throw new Error("invalid private key prefix");const tt=new Uint8Array(bech32.fromWords(et)),at=tt.slice(1);return{schema:SIGNATURE_FLAG_TO_SCHEME[tt[0]],secretKey:at}}function encodeSuiPrivateKey(a,s){if(a.length!==PRIVATE_KEY_SIZE)throw new Error("Invalid bytes length");const et=SIGNATURE_SCHEME_TO_FLAG[s],tt=new Uint8Array(a.length+1);return tt.set([et]),tt.set(a,1),bech32.encode(SUI_PRIVATE_KEY_PREFIX,bech32.toWords(tt))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts(a){const s=validateBasic(a);return validateObject(a,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...s})}function twistedEdwards(a){const s=validateOpts(a),{Fp:et,n:tt,prehash:at,hash:ct,randomBytes:ut,nByteLength:bt,h:wt}=s,Et=_2n$1<<BigInt(bt*8)-_1n$1,Ft=et.create,jt=Field(s.n,s.nBitLength),Lt=s.uvRatio||((ar,sr)=>{try{return{isValid:!0,value:et.sqrt(ar*et.inv(sr))}}catch{return{isValid:!1,value:_0n}}}),Ut=s.adjustScalarBytes||(ar=>ar),Vt=s.domain||((ar,sr,dr)=>{if(abool("phflag",dr),sr.length||dr)throw new Error("Contexts/pre-hash are not supported");return ar});function Yt(ar,sr){aInRange("coordinate "+ar,sr,_0n,Et)}function er(ar){if(!(ar instanceof ir))throw new Error("ExtendedPoint expected")}const tr=memoized((ar,sr)=>{const{ex:dr,ey:gr,ez:ur}=ar,_r=ar.is0();sr==null&&(sr=_r?_8n$1:et.inv(ur));const hr=Ft(dr*sr),cr=Ft(gr*sr),wr=Ft(ur*sr);if(_r)return{x:_0n,y:_1n$1};if(wr!==_1n$1)throw new Error("invZ was invalid");return{x:hr,y:cr}}),nr=memoized(ar=>{const{a:sr,d:dr}=s;if(ar.is0())throw new Error("bad point: ZERO");const{ex:gr,ey:ur,ez:_r,et:hr}=ar,cr=Ft(gr*gr),wr=Ft(ur*ur),Br=Ft(_r*_r),Or=Ft(Br*Br),Rr=Ft(cr*sr),Pr=Ft(Br*Ft(Rr+wr)),Ur=Ft(Or+Ft(dr*Ft(cr*wr)));if(Pr!==Ur)throw new Error("bad point: equation left != right (1)");const kr=Ft(gr*ur),Ar=Ft(_r*hr);if(kr!==Ar)throw new Error("bad point: equation left != right (2)");return!0});class ir{constructor(sr,dr,gr,ur){this.ex=sr,this.ey=dr,this.ez=gr,this.et=ur,Yt("x",sr),Yt("y",dr),Yt("z",gr),Yt("t",ur),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(sr){if(sr instanceof ir)throw new Error("extended point not allowed");const{x:dr,y:gr}=sr||{};return Yt("x",dr),Yt("y",gr),new ir(dr,gr,_1n$1,Ft(dr*gr))}static normalizeZ(sr){const dr=et.invertBatch(sr.map(gr=>gr.ez));return sr.map((gr,ur)=>gr.toAffine(dr[ur])).map(ir.fromAffine)}static msm(sr,dr){return pippenger(ir,jt,sr,dr)}_setWindowSize(sr){yr.setWindowSize(this,sr)}assertValidity(){nr(this)}equals(sr){er(sr);const{ex:dr,ey:gr,ez:ur}=this,{ex:_r,ey:hr,ez:cr}=sr,wr=Ft(dr*cr),Br=Ft(_r*ur),Or=Ft(gr*cr),Rr=Ft(hr*ur);return wr===Br&&Or===Rr}is0(){return this.equals(ir.ZERO)}negate(){return new ir(Ft(-this.ex),this.ey,this.ez,Ft(-this.et))}double(){const{a:sr}=s,{ex:dr,ey:gr,ez:ur}=this,_r=Ft(dr*dr),hr=Ft(gr*gr),cr=Ft(_2n$1*Ft(ur*ur)),wr=Ft(sr*_r),Br=dr+gr,Or=Ft(Ft(Br*Br)-_r-hr),Rr=wr+hr,Pr=Rr-cr,Ur=wr-hr,kr=Ft(Or*Pr),Ar=Ft(Rr*Ur),Cr=Ft(Or*Ur),Fr=Ft(Pr*Rr);return new ir(kr,Ar,Fr,Cr)}add(sr){er(sr);const{a:dr,d:gr}=s,{ex:ur,ey:_r,ez:hr,et:cr}=this,{ex:wr,ey:Br,ez:Or,et:Rr}=sr;if(dr===BigInt(-1)){const Wr=Ft((_r-ur)*(Br+wr)),Kr=Ft((_r+ur)*(Br-wr)),an=Ft(Kr-Wr);if(an===_0n)return this.double();const Un=Ft(hr*_2n$1*Rr),Vn=Ft(cr*_2n$1*Or),Kn=Vn+Un,oo=Kr+Wr,Hn=Vn-Un,Qn=Ft(Kn*an),yo=Ft(oo*Hn),Dr=Ft(Kn*Hn),Tr=Ft(an*oo);return new ir(Qn,yo,Tr,Dr)}const Pr=Ft(ur*wr),Ur=Ft(_r*Br),kr=Ft(cr*gr*Rr),Ar=Ft(hr*Or),Cr=Ft((ur+_r)*(wr+Br)-Pr-Ur),Fr=Ar-kr,Lr=Ar+kr,Hr=Ft(Ur-dr*Pr),Gr=Ft(Cr*Fr),Nr=Ft(Lr*Hr),Vr=Ft(Cr*Hr),jr=Ft(Fr*Lr);return new ir(Gr,Nr,jr,Vr)}subtract(sr){return this.add(sr.negate())}wNAF(sr){return yr.wNAFCached(this,sr,ir.normalizeZ)}multiply(sr){const dr=sr;aInRange("scalar",dr,_1n$1,tt);const{p:gr,f:ur}=this.wNAF(dr);return ir.normalizeZ([gr,ur])[0]}multiplyUnsafe(sr,dr=ir.ZERO){const gr=sr;return aInRange("scalar",gr,_0n,tt),gr===_0n?pr:this.is0()||gr===_1n$1?this:yr.wNAFCachedUnsafe(this,gr,ir.normalizeZ,dr)}isSmallOrder(){return this.multiplyUnsafe(wt).is0()}isTorsionFree(){return yr.unsafeLadder(this,tt).is0()}toAffine(sr){return tr(this,sr)}clearCofactor(){const{h:sr}=s;return sr===_1n$1?this:this.multiplyUnsafe(sr)}static fromHex(sr,dr=!1){const{d:gr,a:ur}=s,_r=et.BYTES;sr=ensureBytes("pointHex",sr,_r),abool("zip215",dr);const hr=sr.slice(),cr=sr[_r-1];hr[_r-1]=cr&-129;const wr=bytesToNumberLE(hr),Br=dr?Et:et.ORDER;aInRange("pointHex.y",wr,_0n,Br);const Or=Ft(wr*wr),Rr=Ft(Or-_1n$1),Pr=Ft(gr*Or-ur);let{isValid:Ur,value:kr}=Lt(Rr,Pr);if(!Ur)throw new Error("Point.fromHex: invalid y coordinate");const Ar=(kr&_1n$1)===_1n$1,Cr=(cr&128)!==0;if(!dr&&kr===_0n&&Cr)throw new Error("Point.fromHex: x=0 and x_0=1");return Cr!==Ar&&(kr=Ft(-kr)),ir.fromAffine({x:kr,y:wr})}static fromPrivateKey(sr){return Er(sr).point}toRawBytes(){const{x:sr,y:dr}=this.toAffine(),gr=numberToBytesLE(dr,et.BYTES);return gr[gr.length-1]|=sr&_1n$1?128:0,gr}toHex(){return bytesToHex(this.toRawBytes())}}ir.BASE=new ir(s.Gx,s.Gy,_1n$1,Ft(s.Gx*s.Gy)),ir.ZERO=new ir(_0n,_1n$1,_1n$1,_0n);const{BASE:lr,ZERO:pr}=ir,yr=wNAF(ir,bt*8);function br(ar){return mod$2(ar,tt)}function xr(ar){return br(bytesToNumberLE(ar))}function Er(ar){const sr=et.BYTES;ar=ensureBytes("private key",ar,sr);const dr=ensureBytes("hashed private key",ct(ar),2*sr),gr=Ut(dr.slice(0,sr)),ur=dr.slice(sr,2*sr),_r=xr(gr),hr=lr.multiply(_r),cr=hr.toRawBytes();return{head:gr,prefix:ur,scalar:_r,point:hr,pointBytes:cr}}function $r(ar){return Er(ar).pointBytes}function Sr(ar=new Uint8Array,...sr){const dr=concatBytes(...sr);return xr(ct(Vt(dr,ensureBytes("context",ar),!!at)))}function fr(ar,sr,dr={}){ar=ensureBytes("message",ar),at&&(ar=at(ar));const{prefix:gr,scalar:ur,pointBytes:_r}=Er(sr),hr=Sr(dr.context,gr,ar),cr=lr.multiply(hr).toRawBytes(),wr=Sr(dr.context,cr,_r,ar),Br=br(hr+wr*ur);aInRange("signature.s",Br,_0n,tt);const Or=concatBytes(cr,numberToBytesLE(Br,et.BYTES));return ensureBytes("result",Or,et.BYTES*2)}const vr=VERIFY_DEFAULT;function or(ar,sr,dr,gr=vr){const{context:ur,zip215:_r}=gr,hr=et.BYTES;ar=ensureBytes("signature",ar,2*hr),sr=ensureBytes("message",sr),dr=ensureBytes("publicKey",dr,hr),_r!==void 0&&abool("zip215",_r),at&&(sr=at(sr));const cr=bytesToNumberLE(ar.slice(hr,2*hr));let wr,Br,Or;try{wr=ir.fromHex(dr,_r),Br=ir.fromHex(ar.slice(0,hr),_r),Or=lr.multiplyUnsafe(cr)}catch{return!1}if(!_r&&wr.isSmallOrder())return!1;const Rr=Sr(ur,Br.toRawBytes(),wr.toRawBytes(),sr);return Br.add(wr.multiplyUnsafe(Rr)).subtract(Or).clearCofactor().equals(ir.ZERO)}return lr._setWindowSize(8),{CURVE:s,getPublicKey:$r,sign:fr,verify:or,ExtendedPoint:ir,utils:{getExtendedPublicKey:Er,randomPrivateKey:()=>ut(et.BYTES),precompute(ar=8,sr=ir.BASE){return sr._setWindowSize(ar),sr.multiply(BigInt(3)),sr}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n=BigInt(1),_2n=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(a){const s=BigInt(10),et=BigInt(20),tt=BigInt(40),at=BigInt(80),ct=ED25519_P,bt=a*a%ct*a%ct,wt=pow2(bt,_2n,ct)*bt%ct,Et=pow2(wt,_1n,ct)*a%ct,Ft=pow2(Et,_5n,ct)*Et%ct,jt=pow2(Ft,s,ct)*Ft%ct,Lt=pow2(jt,et,ct)*jt%ct,Ut=pow2(Lt,tt,ct)*Lt%ct,Vt=pow2(Ut,at,ct)*Ut%ct,Yt=pow2(Vt,at,ct)*Ut%ct,er=pow2(Yt,s,ct)*Ft%ct;return{pow_p_5_8:pow2(er,_2n,ct)*a%ct,b2:bt}}function adjustScalarBytes(a){return a[0]&=248,a[31]&=127,a[31]|=64,a}function uvRatio(a,s){const et=ED25519_P,tt=mod$2(s*s*s,et),at=mod$2(tt*tt*s,et),ct=ed25519_pow_2_252_3(a*at).pow_p_5_8;let ut=mod$2(a*tt*ct,et);const bt=mod$2(s*ut*ut,et),wt=ut,Et=mod$2(ut*ED25519_SQRT_M1,et),Ft=bt===a,jt=bt===mod$2(-a,et),Lt=bt===mod$2(-a*ED25519_SQRT_M1,et);return Ft&&(ut=wt),(jt||Lt)&&(ut=Et),isNegativeLE(ut,et)&&(ut=mod$2(-ut,et)),{isValid:Ft||jt,value:ut}}const Fp=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$3,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults),ED25519_CURVE="ed25519 seed",HARDENED_OFFSET=2147483648,pathRegex=new RegExp("^m(\\/[0-9]+')+$"),replaceDerive=a=>a.replace("'",""),getMasterKeyFromSeed=a=>{const et=hmac$2.create(sha512$3,ED25519_CURVE).update(fromHex(a)).digest(),tt=et.slice(0,32),at=et.slice(32);return{key:tt,chainCode:at}},CKDPriv=({key:a,chainCode:s},et)=>{const tt=new ArrayBuffer(4);new DataView(tt).setUint32(0,et);const ct=new Uint8Array(1+a.length+tt.byteLength);ct.set(new Uint8Array(1).fill(0)),ct.set(a,1),ct.set(new Uint8Array(tt,0,tt.byteLength),a.length+1);const ut=hmac$2.create(sha512$3,s).update(ct).digest(),bt=ut.slice(0,32),wt=ut.slice(32);return{key:bt,chainCode:wt}},isValidPath=a=>pathRegex.test(a)?!a.split("/").slice(1).map(replaceDerive).some(isNaN):!1,derivePath=(a,s,et=HARDENED_OFFSET)=>{if(!isValidPath(a))throw new Error("Invalid derivation path");const{key:tt,chainCode:at}=getMasterKeyFromSeed(s);return a.split("/").slice(1).map(replaceDerive).map(ut=>parseInt(ut,10)).reduce((ut,bt)=>CKDPriv(ut,bt+et),{key:tt,chainCode:at})},PUBLIC_KEY_SIZE=32;class Ed25519PublicKey extends PublicKey$2{constructor(s){if(super(),typeof s=="string"?this.data=fromBase64(s):s instanceof Uint8Array?this.data=s:this.data=Uint8Array.from(s),this.data.length!==PUBLIC_KEY_SIZE)throw new Error(`Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`)}equals(s){return super.equals(s)}toRawBytes(){return this.data}flag(){return SIGNATURE_SCHEME_TO_FLAG.ED25519}async verify(s,et){let tt;if(typeof et=="string"){const at=parseSerializedKeypairSignature(et);if(at.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!bytesEqual(this.toRawBytes(),at.publicKey))throw new Error("Signature does not match public key");tt=at.signature}else tt=et;return ed25519.verify(tt,s,this.toRawBytes())}}Ed25519PublicKey.SIZE=PUBLIC_KEY_SIZE;const DEFAULT_ED25519_DERIVATION_PATH="m/44'/784'/0'/0'/0'";class Ed25519Keypair extends Keypair{constructor(s){if(super(),s)this.keypair={publicKey:s.publicKey,secretKey:s.secretKey.slice(0,32)};else{const et=ed25519.utils.randomPrivateKey();this.keypair={publicKey:ed25519.getPublicKey(et),secretKey:et}}}getKeyScheme(){return"ED25519"}static generate(){const s=ed25519.utils.randomPrivateKey();return new Ed25519Keypair({publicKey:ed25519.getPublicKey(s),secretKey:s})}static fromSecretKey(s,et){if(typeof s=="string"){const ct=decodeSuiPrivateKey(s);if(ct.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${ct.schema}`);return this.fromSecretKey(ct.secretKey,et)}const tt=s.length;if(tt!==PRIVATE_KEY_SIZE)throw new Error(`Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${tt}.`);const at={publicKey:ed25519.getPublicKey(s),secretKey:s};if(!et||!et.skipValidation){const ut=new TextEncoder().encode("sui validation"),bt=ed25519.sign(ut,s);if(!ed25519.verify(bt,ut,at.publicKey))throw new Error("provided secretKey is invalid")}return new Ed25519Keypair(at)}getPublicKey(){return new Ed25519PublicKey(this.keypair.publicKey)}getSecretKey(){return encodeSuiPrivateKey(this.keypair.secretKey.slice(0,PRIVATE_KEY_SIZE),this.getKeyScheme())}async sign(s){return ed25519.sign(s,this.keypair.secretKey)}static deriveKeypair(s,et){if(et==null&&(et=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(et))throw new Error("Invalid derivation path");const{key:tt}=derivePath(et,mnemonicToSeedHex(s));return Ed25519Keypair.fromSecretKey(tt)}static deriveKeypairFromSeed(s,et){if(et==null&&(et=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(et))throw new Error("Invalid derivation path");const{key:tt}=derivePath(et,s);return Ed25519Keypair.fromSecretKey(tt)}}function mitt(a){return{all:a=a||new Map,on:function(s,et){var tt=a.get(s);tt?tt.push(et):a.set(s,[et])},off:function(s,et){var tt=a.get(s);tt&&(et?tt.splice(tt.indexOf(et)>>>0,1):a.set(s,[]))},emit:function(s,et){var tt=a.get(s);tt&&tt.slice().map(function(at){at(et)}),(tt=a.get("*"))&&tt.slice().map(function(at){at(s,et)})}}}function withResolvers(){let a,s;return{promise:new Promise((tt,at)=>{a=tt,s=at}),reject:s,resolve:a}}const StashedRequestData=variant("type",[object$1({type:literal("connect")}),object$1({type:literal("sign-transaction-block"),data:string("`data` is required"),address:string("`address` is required")}),object$1({type:literal("sign-personal-message"),bytes:string("`bytes` is required"),address:string("`address` is required")})]);object$1({id:pipe$4(string("`id` is required"),uuid()),origin:pipe$4(string(),url("`origin` must be a valid URL")),name:optional(string()),payload:StashedRequestData});const StashedResponseData=variant("type",[object$1({type:literal("connect"),address:string()}),object$1({type:literal("sign-transaction-block"),bytes:string(),signature:string()}),object$1({type:literal("sign-personal-message"),bytes:string(),signature:string()})]),StashedResponsePayload=variant("type",[object$1({type:literal("reject")}),object$1({type:literal("resolve"),data:StashedResponseData})]),StashedResponse=object$1({id:pipe$4(string(),uuid()),source:literal("zksend-channel"),payload:StashedResponsePayload});var __typeError$5=a=>{throw TypeError(a)},__accessCheck$5=(a,s,et)=>s.has(a)||__typeError$5("Cannot "+et),__privateGet$5=(a,s,et)=>(__accessCheck$5(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$5=(a,s,et)=>s.has(a)?__typeError$5("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$4=(a,s,et,tt)=>(__accessCheck$5(a,s,"write to private field"),s.set(a,et),et),__privateMethod$4=(a,s,et)=>(__accessCheck$5(a,s,"access private method"),et),_popup,_id,_origin$1,_name$1,_network$1,_promise,_resolve,_reject,_interval,_listener,_StashedPopup_instances,cleanup_fn;const DEFAULT_STASHED_ORIGIN="https://getstashed.com";class StashedPopup{constructor({name:s,network:et,origin:tt=DEFAULT_STASHED_ORIGIN}){__privateAdd$5(this,_StashedPopup_instances),__privateAdd$5(this,_popup),__privateAdd$5(this,_id),__privateAdd$5(this,_origin$1),__privateAdd$5(this,_name$1),__privateAdd$5(this,_network$1),__privateAdd$5(this,_promise),__privateAdd$5(this,_resolve),__privateAdd$5(this,_reject),__privateAdd$5(this,_interval,null),__privateAdd$5(this,_listener,wt=>{if(wt.origin!==__privateGet$5(this,_origin$1))return;const{success:Et,output:Ft}=safeParse(StashedResponse,wt.data);!Et||Ft.id!==__privateGet$5(this,_id)||(__privateMethod$4(this,_StashedPopup_instances,cleanup_fn).call(this),Ft.payload.type==="reject"?__privateGet$5(this,_reject).call(this,new Error("User rejected the request")):Ft.payload.type==="resolve"&&__privateGet$5(this,_resolve).call(this,Ft.payload.data))});const at=window.open("about:blank","_blank");if(!at)throw new Error("Failed to open new window");__privateSet$4(this,_popup,at),__privateSet$4(this,_id,crypto.randomUUID()),__privateSet$4(this,_origin$1,tt),__privateSet$4(this,_name$1,s),__privateSet$4(this,_network$1,et);const{promise:ct,resolve:ut,reject:bt}=withResolvers();__privateSet$4(this,_promise,ct),__privateSet$4(this,_resolve,ut),__privateSet$4(this,_reject,bt),__privateSet$4(this,_interval,setInterval(()=>{try{__privateGet$5(this,_popup).closed&&(__privateMethod$4(this,_StashedPopup_instances,cleanup_fn).call(this),bt(new Error("User closed the Stashed window")))}catch{}},1e3))}send({type:s,...et}){return window.addEventListener("message",__privateGet$5(this,_listener)),__privateGet$5(this,_popup).location.assign(`${__privateGet$5(this,_origin$1)}/dapp/${s}?${new URLSearchParams({id:__privateGet$5(this,_id),origin:window.origin,network:__privateGet$5(this,_network$1),name:__privateGet$5(this,_name$1)})}${et?`#${new URLSearchParams(et)}`:""}`),__privateGet$5(this,_promise)}close(){__privateMethod$4(this,_StashedPopup_instances,cleanup_fn).call(this),__privateGet$5(this,_popup).close()}}_popup=new WeakMap;_id=new WeakMap;_origin$1=new WeakMap;_name$1=new WeakMap;_network$1=new WeakMap;_promise=new WeakMap;_resolve=new WeakMap;_reject=new WeakMap;_interval=new WeakMap;_listener=new WeakMap;_StashedPopup_instances=new WeakSet;cleanup_fn=function(){__privateGet$5(this,_interval)&&(clearInterval(__privateGet$5(this,_interval)),__privateSet$4(this,_interval,null)),window.removeEventListener("message",__privateGet$5(this,_listener))};var __typeError$4=a=>{throw TypeError(a)},__accessCheck$4=(a,s,et)=>s.has(a)||__typeError$4("Cannot "+et),__privateGet$4=(a,s,et)=>(__accessCheck$4(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$4=(a,s,et)=>s.has(a)?__typeError$4("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$3=(a,s,et,tt)=>(__accessCheck$4(a,s,"write to private field"),s.set(a,et),et),__privateMethod$3=(a,s,et)=>(__accessCheck$4(a,s,"access private method"),et),_events,_accounts,_origin,_name,_network,_signTransactionBlock,_signTransaction,_signPersonalMessage,_on,_StashedWallet_instances,setAccount_fn,_connect,_disconnect;const STASHED_RECENT_ADDRESS_KEY="stashed:recentAddress",STASHED_WALLET_NAME="Stashed";class StashedWallet{constructor({name:s,network:et,address:tt,origin:at=DEFAULT_STASHED_ORIGIN}){__privateAdd$4(this,_StashedWallet_instances),__privateAdd$4(this,_events),__privateAdd$4(this,_accounts),__privateAdd$4(this,_origin),__privateAdd$4(this,_name),__privateAdd$4(this,_network),__privateAdd$4(this,_signTransactionBlock,async({transactionBlock:ct,account:ut})=>{ct.setSenderIfNotSet(ut.address);const bt=ct.serialize(),Et=await new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}).send({type:"sign-transaction-block",data:bt,address:ut.address});return{transactionBlockBytes:Et.bytes,signature:Et.signature}}),__privateAdd$4(this,_signTransaction,async({transaction:ct,account:ut})=>{const bt=new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}),wt=Transaction$1.from(await ct.toJSON());wt.setSenderIfNotSet(ut.address);const Et=wt.serialize(),Ft=await bt.send({type:"sign-transaction-block",data:Et,address:ut.address});return{bytes:Ft.bytes,signature:Ft.signature}}),__privateAdd$4(this,_signPersonalMessage,async({message:ct,account:ut})=>{const bt=new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}),wt=toBase64(ct),Et=await bt.send({type:"sign-personal-message",bytes:wt,address:ut.address});return{bytes:wt,signature:Et.signature}}),__privateAdd$4(this,_on,(ct,ut)=>(__privateGet$4(this,_events).on(ct,ut),()=>__privateGet$4(this,_events).off(ct,ut))),__privateAdd$4(this,_connect,async ct=>{if(ct!=null&&ct.silent){const wt=localStorage.getItem(STASHED_RECENT_ADDRESS_KEY);return wt&&__privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this,wt),{accounts:this.accounts}}const bt=await new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}).send({type:"connect"});if(!("address"in bt))throw new Error("Unexpected response");return __privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this,bt.address),{accounts:this.accounts}}),__privateAdd$4(this,_disconnect,async()=>{localStorage.removeItem(STASHED_RECENT_ADDRESS_KEY),__privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this)}),__privateSet$3(this,_accounts,[]),__privateSet$3(this,_events,mitt()),__privateSet$3(this,_origin,at),__privateSet$3(this,_name,s),__privateSet$3(this,_network,et),tt&&__privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this,tt)}get name(){return STASHED_WALLET_NAME}get icon(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjU0IiBoZWlnaHQ9IjU0IiB4PSIxIiB5PSIxIiBmaWxsPSIjNTE5REU5IiByeD0iMjciLz48cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHg9IjEiIHk9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iMjciLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTguMzUzIDM1LjA2NGMuOTIxIDMuNDM4IDQuMzYzIDYuNTUxIDExLjQ4MyA0LjY0NCA2Ljc5NC0xLjgyMSAxMS4wNTItNy40MSA5Ljk0OC0xMS41My0uMzgxLTEuNDIzLTEuNTMtMi4zODctMy4zLTIuMjNsLTE1LjgzMiAxLjMyYy0uOTk3LjA3Ni0xLjQ1NC0uMDg4LTEuNzE4LS43MTYtLjI1Ni0uNTk5LS4xMS0xLjI0MSAxLjA5NC0xLjg1bDEyLjA0OC02LjE4M2MuOTI0LS40NyAxLjUzOS0uNjY2IDIuMTAxLS40NjguMzUyLjEyOC41ODQuNjM4LjM3MSAxLjI2N2wtLjc4MSAyLjMwNmMtLjk1OSAyLjgzIDEuMDk0IDMuNDg4IDIuMjUgMy4xNzggMS43NTEtLjQ2OSAyLjE2My0yLjEzNiAxLjU5OS00LjI0LTEuNDMtNS4zMzctNy4wOS02LjE3LTEyLjIyMy00Ljc5Ni01LjIyMiAxLjQtOS43NDggNS42My04LjM2NiAxMC43ODkuMzI1IDEuMjE1IDEuNDQ0IDIuMTg2IDIuNzQgMi4xNTdsMS45NzgtLjAwNWMuNDA3LS4wMS4yNi4wMjQgMS4wNDYtLjA0MS43ODQtLjA2NSAyLjg4LS4zMjMgMi44OC0uMzIzbDEwLjI4Ni0xLjE2NC4yNjUtLjAzOGMuNjAyLS4xMDMgMS4wNTYuMDUzIDEuNDQuNzE1LjU3Ni45OTEtLjMwMiAxLjczOC0xLjM1MiAyLjYzM2wtLjA4NS4wNzItOS4wNDEgNy43OTJjLTEuNTUgMS4zMzctMi42MzkuODM0LTMuMDItLjU4OWwtMS4zNS01LjA0Yy0uMzM0LTEuMjQ0LTEuNTUtMi4yMjEtMi45NzQtMS44NC0xLjc4LjQ3Ny0xLjkyNCAyLjU1LTEuNDg3IDQuMThaIi8+PC9zdmc+Cg=="}get version(){return"1.0.0"}get chains(){return[SUI_MAINNET_CHAIN]}get accounts(){return __privateGet$4(this,_accounts)}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet$4(this,_connect)},"standard:disconnect":{version:"1.0.0",disconnect:__privateGet$4(this,_disconnect)},"standard:events":{version:"1.0.0",on:__privateGet$4(this,_on)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet$4(this,_signTransactionBlock)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet$4(this,_signTransaction)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet$4(this,_signPersonalMessage)}}}}_events=new WeakMap;_accounts=new WeakMap;_origin=new WeakMap;_name=new WeakMap;_network=new WeakMap;_signTransactionBlock=new WeakMap;_signTransaction=new WeakMap;_signPersonalMessage=new WeakMap;_on=new WeakMap;_StashedWallet_instances=new WeakSet;setAccount_fn=function(a){a?(__privateSet$3(this,_accounts,[new ReadonlyWalletAccount({address:a,chains:[SUI_MAINNET_CHAIN],features:["sui:signTransactionBlock","sui:signPersonalMessage"],publicKey:new Uint8Array})]),localStorage.setItem(STASHED_RECENT_ADDRESS_KEY,a)):__privateSet$3(this,_accounts,[]),__privateGet$4(this,_events).emit("change",{accounts:this.accounts})};_connect=new WeakMap;_disconnect=new WeakMap;function registerStashedWallet(a,{origin:s,network:et="mainnet"}={}){const tt=getWallets();let at=null;try{const bt=new URLSearchParams(window.location.search);at=bt.get("stashed_address")||bt.get("zksend_address")}catch{}const ct=new StashedWallet({name:a,network:et,origin:s,address:at}),ut=tt.register(ct);return{wallet:ct,unregister:ut,addressFromRedirect:at}}const __vite_import_meta_env__={};function createJSONStorage(a,s){let et;try{et=a()}catch{return}return{getItem:at=>{var ct;const ut=wt=>wt===null?null:JSON.parse(wt,void 0),bt=(ct=et.getItem(at))!=null?ct:null;return bt instanceof Promise?bt.then(ut):ut(bt)},setItem:(at,ct)=>et.setItem(at,JSON.stringify(ct,void 0)),removeItem:at=>et.removeItem(at)}}const toThenable=a=>s=>{try{const et=a(s);return et instanceof Promise?et:{then(tt){return toThenable(tt)(et)},catch(tt){return this}}}catch(et){return{then(tt){return this},catch(tt){return toThenable(tt)(et)}}}},oldImpl=(a,s)=>(et,tt,at)=>{let ct={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:er=>er,version:0,merge:(er,tr)=>({...tr,...er}),...s},ut=!1;const bt=new Set,wt=new Set;let Et;try{Et=ct.getStorage()}catch{}if(!Et)return a((...er)=>{console.warn(`[zustand persist middleware] Unable to update item '${ct.name}', the given storage is currently unavailable.`),et(...er)},tt,at);const Ft=toThenable(ct.serialize),jt=()=>{const er=ct.partialize({...tt()});let tr;const nr=Ft({state:er,version:ct.version}).then(ir=>Et.setItem(ct.name,ir)).catch(ir=>{tr=ir});if(tr)throw tr;return nr},Lt=at.setState;at.setState=(er,tr)=>{Lt(er,tr),jt()};const Ut=a((...er)=>{et(...er),jt()},tt,at);let Vt;const Yt=()=>{var er;if(!Et)return;ut=!1,bt.forEach(nr=>nr(tt()));const tr=((er=ct.onRehydrateStorage)==null?void 0:er.call(ct,tt()))||void 0;return toThenable(Et.getItem.bind(Et))(ct.name).then(nr=>{if(nr)return ct.deserialize(nr)}).then(nr=>{if(nr)if(typeof nr.version=="number"&&nr.version!==ct.version){if(ct.migrate)return ct.migrate(nr.state,nr.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return nr.state}).then(nr=>{var ir;return Vt=ct.merge(nr,(ir=tt())!=null?ir:Ut),et(Vt,!0),jt()}).then(()=>{tr==null||tr(Vt,void 0),ut=!0,wt.forEach(nr=>nr(Vt))}).catch(nr=>{tr==null||tr(void 0,nr)})};return at.persist={setOptions:er=>{ct={...ct,...er},er.getStorage&&(Et=er.getStorage())},clearStorage:()=>{Et==null||Et.removeItem(ct.name)},getOptions:()=>ct,rehydrate:()=>Yt(),hasHydrated:()=>ut,onHydrate:er=>(bt.add(er),()=>{bt.delete(er)}),onFinishHydration:er=>(wt.add(er),()=>{wt.delete(er)})},Yt(),Vt||Ut},newImpl=(a,s)=>(et,tt,at)=>{let ct={storage:createJSONStorage(()=>localStorage),partialize:Yt=>Yt,version:0,merge:(Yt,er)=>({...er,...Yt}),...s},ut=!1;const bt=new Set,wt=new Set;let Et=ct.storage;if(!Et)return a((...Yt)=>{console.warn(`[zustand persist middleware] Unable to update item '${ct.name}', the given storage is currently unavailable.`),et(...Yt)},tt,at);const Ft=()=>{const Yt=ct.partialize({...tt()});return Et.setItem(ct.name,{state:Yt,version:ct.version})},jt=at.setState;at.setState=(Yt,er)=>{jt(Yt,er),Ft()};const Lt=a((...Yt)=>{et(...Yt),Ft()},tt,at);at.getInitialState=()=>Lt;let Ut;const Vt=()=>{var Yt,er;if(!Et)return;ut=!1,bt.forEach(nr=>{var ir;return nr((ir=tt())!=null?ir:Lt)});const tr=((er=ct.onRehydrateStorage)==null?void 0:er.call(ct,(Yt=tt())!=null?Yt:Lt))||void 0;return toThenable(Et.getItem.bind(Et))(ct.name).then(nr=>{if(nr)if(typeof nr.version=="number"&&nr.version!==ct.version){if(ct.migrate)return[!0,ct.migrate(nr.state,nr.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,nr.state];return[!1,void 0]}).then(nr=>{var ir;const[lr,pr]=nr;if(Ut=ct.merge(pr,(ir=tt())!=null?ir:Lt),et(Ut,!0),lr)return Ft()}).then(()=>{tr==null||tr(Ut,void 0),Ut=tt(),ut=!0,wt.forEach(nr=>nr(Ut))}).catch(nr=>{tr==null||tr(void 0,nr)})};return at.persist={setOptions:Yt=>{ct={...ct,...Yt},Yt.storage&&(Et=Yt.storage)},clearStorage:()=>{Et==null||Et.removeItem(ct.name)},getOptions:()=>ct,rehydrate:()=>Vt(),hasHydrated:()=>ut,onHydrate:Yt=>(bt.add(Yt),()=>{bt.delete(Yt)}),onFinishHydration:Yt=>(wt.add(Yt),()=>{wt.delete(Yt)})},ct.skipHydration||Vt(),Ut||Lt},persistImpl=(a,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(a,s)):newImpl(a,s),persist=persistImpl;function getVarName(a){var s=a.match(/^var\((.*)\)$/);return s?s[1]:a}function get$5(a,s){var et=a;for(var tt of s){if(!(tt in et))throw new Error("Path ".concat(s.join(" -> ")," does not exist in object"));et=et[tt]}return et}function walkObject$1(a,s){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],tt={};for(var at in a){var ct=a[at],ut=[...et,at];typeof ct=="string"||typeof ct=="number"||ct==null?tt[at]=s(ct,ut):typeof ct=="object"&&!Array.isArray(ct)?tt[at]=walkObject$1(ct,s,ut):console.warn('Skipping invalid key "'.concat(ut.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(ct)?"Array":typeof ct,'"'))}return tt}function assignInlineVars(a,s){var et={};if(typeof s=="object"){var tt=a;walkObject$1(s,(bt,wt)=>{if(bt!=null){var Et=get$5(tt,wt);et[getVarName(Et)]=String(bt)}})}else{var at=a;for(var ct in at){var ut=at[ct];ut!=null&&(et[getVarName(ct)]=ut)}}return Object.defineProperty(et,"toString",{value:function(){return Object.keys(this).map(wt=>"".concat(wt,":").concat(this[wt])).join(";")},writable:!1}),et}/*! https://mths.be/cssesc v3.0.0 by @mathias */var object={},hasOwnProperty$c=object.hasOwnProperty,merge$4=function(s,et){if(!s)return et;var tt={};for(var at in et)tt[at]=hasOwnProperty$c.call(s,at)?s[at]:et[at];return tt},regexAnySingleEscape=/[ -,\.\/:-@\[-\^`\{-~]/,regexSingleEscape=/[ -,\.\/:-@\[\]\^`\{-~]/,regexExcessiveSpaces=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,cssesc=function a(s,et){et=merge$4(et,a.options),et.quotes!="single"&&et.quotes!="double"&&(et.quotes="single");for(var tt=et.quotes=="double"?'"':"'",at=et.isIdentifier,ct=s.charAt(0),ut="",bt=0,wt=s.length;bt<wt;){var Et=s.charAt(bt++),Ft=Et.charCodeAt(),jt=void 0;if(Ft<32||Ft>126){if(Ft>=55296&&Ft<=56319&&bt<wt){var Lt=s.charCodeAt(bt++);(Lt&64512)==56320?Ft=((Ft&1023)<<10)+(Lt&1023)+65536:bt--}jt="\\"+Ft.toString(16).toUpperCase()+" "}else et.escapeEverything?regexAnySingleEscape.test(Et)?jt="\\"+Et:jt="\\"+Ft.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(Et)?jt="\\"+Ft.toString(16).toUpperCase()+" ":Et=="\\"||!at&&(Et=='"'&&tt==Et||Et=="'"&&tt==Et)||at&&regexSingleEscape.test(Et)?jt="\\"+Et:jt=Et;ut+=jt}return at&&(/^-[-\d]/.test(ut)?ut="\\-"+ut.slice(1):/\d/.test(ct)&&(ut="\\3"+ct+" "+ut.slice(1))),ut=ut.replace(regexExcessiveSpaces,function(Ut,Vt,Yt){return Vt&&Vt.length%2?Ut:(Vt||"")+Yt}),!at&&et.wrap?tt+ut+tt:ut};cssesc.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};cssesc.version="3.0.0";var cssesc_1=cssesc;const cssesc$1=getDefaultExportFromCjs$2(cssesc_1);var hasConfiguredAdapter=!1,setAdapterIfNotSet=a=>{hasConfiguredAdapter||setAdapter(a)},setAdapter=a=>{if(!a)throw new Error('No adapter provided when calling "setAdapter"');hasConfiguredAdapter=!0};function ownKeys$1(a,s){var et=Object.keys(a);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);s&&(tt=tt.filter(function(at){return Object.getOwnPropertyDescriptor(a,at).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1(a){for(var s=1;s<arguments.length;s++){var et=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty$1(a,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty(a,tt,Object.getOwnPropertyDescriptor(et,tt))})}return a}function _defineProperty$1(a,s,et){return s=_toPropertyKey(s),s in a?Object.defineProperty(a,s,{value:et,enumerable:!0,configurable:!0,writable:!0}):a[s]=et,a}function _toPropertyKey(a){var s=_toPrimitive(a,"string");return typeof s=="symbol"?s:String(s)}function _toPrimitive(a,s){if(typeof a!="object"||a===null)return a;var et=a[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(a,s);if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}createDedent({});function createDedent(a){return s.withOptions=et=>createDedent(_objectSpread$1(_objectSpread$1({},a),et)),s;function s(et,...tt){const at=typeof et=="string"?[et]:et.raw,{escapeSpecialCharacters:ct=Array.isArray(et)}=a;let ut="";for(let Et=0;Et<at.length;Et++){let Ft=at[Et];ct&&(Ft=Ft.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),ut+=Ft,Et<tt.length&&(ut+=tt[Et])}const bt=ut.split(`
`);let wt=null;for(const Et of bt){const Ft=Et.match(/^(\s+)\S+/);if(Ft){const jt=Ft[1].length;wt?wt=Math.min(wt,jt):wt=jt}}if(wt!==null){const Et=wt;ut=bt.map(Ft=>Ft[0]===" "||Ft[0]==="	"?Ft.slice(Et):Ft).join(`
`)}return ut=ut.trim(),ct&&(ut=ut.replace(/\\n/g,`
`)),ut}}var simplePseudoMap={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-calendar-picker-indicator":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},simplePseudos=Object.keys(simplePseudoMap);[...simplePseudos];function murmur2(a){for(var s=0,et,tt=0,at=a.length;at>=4;++tt,at-=4)et=a.charCodeAt(tt)&255|(a.charCodeAt(++tt)&255)<<8|(a.charCodeAt(++tt)&255)<<16|(a.charCodeAt(++tt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,s=(et&65535)*1540483477+((et>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(at){case 3:s^=(a.charCodeAt(tt+2)&255)<<16;case 2:s^=(a.charCodeAt(tt+1)&255)<<8;case 1:s^=a.charCodeAt(tt)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}function getDefaultExportFromCjs$1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var browser$f={exports:{}},process=browser$f.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var s=queue.length;s;){for(currentQueue=queue,queue=[];++queueIndex<s;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,s=queue.length}currentQueue=null,draining=!1,runClearTimeout(a)}}process.nextTick=function(a){var s=new Array(arguments.length-1);if(arguments.length>1)for(var et=1;et<arguments.length;et++)s[et-1]=arguments[et];queue.push(new Item$1(a,s)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item$1(a,s){this.fun=a,this.array=s}Item$1.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$5(){}process.on=noop$5;process.addListener=noop$5;process.once=noop$5;process.off=noop$5;process.removeListener=noop$5;process.removeAllListeners=noop$5;process.emit=noop$5;process.prependListener=noop$5;process.prependOnceListener=noop$5;process.listeners=function(a){return[]};process.binding=function(a){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(a){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$f.exports;const process$1=getDefaultExportFromCjs$1(browserExports),perf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned=new Set,PROCESS=typeof process$1=="object"&&process$1?process$1:{},emitWarning=(a,s,et,tt)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(a,s,et,tt):console.error(`[${et}] ${s}: ${a}`)};let AC=globalThis.AbortController,AS=globalThis.AbortSignal;var sp;if(typeof AC>"u"){AS=class{constructor(){dn(this,"onabort");dn(this,"_onabort",[]);dn(this,"reason");dn(this,"aborted",!1)}addEventListener(tt,at){this._onabort.push(at)}},AC=class{constructor(){dn(this,"signal",new AS);s()}abort(tt){var at,ct;if(!this.signal.aborted){this.signal.reason=tt,this.signal.aborted=!0;for(const ut of this.signal._onabort)ut(tt);(ct=(at=this.signal).onabort)==null||ct.call(at,tt)}}};let a=((sp=PROCESS.env)==null?void 0:sp.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const s=()=>{a&&(a=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",s))}}const shouldWarn=a=>!warned.has(a),isPosInt=a=>a&&a===Math.floor(a)&&a>0&&isFinite(a),getUintArray=a=>isPosInt(a)?a<=Math.pow(2,8)?Uint8Array:a<=Math.pow(2,16)?Uint16Array:a<=Math.pow(2,32)?Uint32Array:a<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(s){super(s),this.fill(0)}}var Ls,au;let Stack$2=(Ls=class{constructor(s,et){dn(this,"heap");dn(this,"length");if(!Mr(Ls,au))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new et(s),this.length=0}static create(s){const et=getUintArray(s);if(!et)return[];Yn(Ls,au,!0);const tt=new Ls(s,et);return Yn(Ls,au,!1),tt}push(s){this.heap[this.length++]=s}pop(){return this.heap[--this.length]}},au=new WeakMap,fo(Ls,au,!1),Ls);var lp,cp,As,bs,Rs,ks,su,lu,as,Is,os,Xo,ko,hs,ys,us,ss,Ps,ls,Os,Ds,xs,Ms,El,ps,po,Lu,Ll,zs,yu,Ss,Rp,Ul,cu,xu,Ws,Ks,qu,Su,$u,Yo,Uu,mu,Ys,Vu;const Hu=class Hu{constructor(s){fo(this,po);fo(this,As);fo(this,bs);fo(this,Rs);fo(this,ks);fo(this,su);fo(this,lu);dn(this,"ttl");dn(this,"ttlResolution");dn(this,"ttlAutopurge");dn(this,"updateAgeOnGet");dn(this,"updateAgeOnHas");dn(this,"allowStale");dn(this,"noDisposeOnSet");dn(this,"noUpdateTTL");dn(this,"maxEntrySize");dn(this,"sizeCalculation");dn(this,"noDeleteOnFetchRejection");dn(this,"noDeleteOnStaleGet");dn(this,"allowStaleOnFetchAbort");dn(this,"allowStaleOnFetchRejection");dn(this,"ignoreFetchAbort");fo(this,as);fo(this,Is);fo(this,os);fo(this,Xo);fo(this,ko);fo(this,hs);fo(this,ys);fo(this,us);fo(this,ss);fo(this,Ps);fo(this,ls);fo(this,Os);fo(this,Ds);fo(this,xs);fo(this,Ms);fo(this,El);fo(this,ps);fo(this,Ll,()=>{});fo(this,zs,()=>{});fo(this,yu,()=>{});fo(this,Ss,()=>!1);fo(this,Ul,s=>{});fo(this,cu,(s,et,tt)=>{});fo(this,xu,(s,et,tt,at)=>{if(tt||at)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});dn(this,lp,"LRUCache");const{max:et=0,ttl:tt,ttlResolution:at=1,ttlAutopurge:ct,updateAgeOnGet:ut,updateAgeOnHas:bt,allowStale:wt,dispose:Et,disposeAfter:Ft,noDisposeOnSet:jt,noUpdateTTL:Lt,maxSize:Ut=0,maxEntrySize:Vt=0,sizeCalculation:Yt,fetchMethod:er,memoMethod:tr,noDeleteOnFetchRejection:nr,noDeleteOnStaleGet:ir,allowStaleOnFetchRejection:lr,allowStaleOnFetchAbort:pr,ignoreFetchAbort:yr}=s;if(et!==0&&!isPosInt(et))throw new TypeError("max option must be a nonnegative integer");const br=et?getUintArray(et):Array;if(!br)throw new Error("invalid max value: "+et);if(Yn(this,As,et),Yn(this,bs,Ut),this.maxEntrySize=Vt||Mr(this,bs),this.sizeCalculation=Yt,this.sizeCalculation){if(!Mr(this,bs)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(tr!==void 0&&typeof tr!="function")throw new TypeError("memoMethod must be a function if defined");if(Yn(this,lu,tr),er!==void 0&&typeof er!="function")throw new TypeError("fetchMethod must be a function if specified");if(Yn(this,su,er),Yn(this,El,!!er),Yn(this,os,new Map),Yn(this,Xo,new Array(et).fill(void 0)),Yn(this,ko,new Array(et).fill(void 0)),Yn(this,hs,new br(et)),Yn(this,ys,new br(et)),Yn(this,us,0),Yn(this,ss,0),Yn(this,Ps,Stack$2.create(et)),Yn(this,as,0),Yn(this,Is,0),typeof Et=="function"&&Yn(this,Rs,Et),typeof Ft=="function"?(Yn(this,ks,Ft),Yn(this,ls,[])):(Yn(this,ks,void 0),Yn(this,ls,void 0)),Yn(this,Ms,!!Mr(this,Rs)),Yn(this,ps,!!Mr(this,ks)),this.noDisposeOnSet=!!jt,this.noUpdateTTL=!!Lt,this.noDeleteOnFetchRejection=!!nr,this.allowStaleOnFetchRejection=!!lr,this.allowStaleOnFetchAbort=!!pr,this.ignoreFetchAbort=!!yr,this.maxEntrySize!==0){if(Mr(this,bs)!==0&&!isPosInt(Mr(this,bs)))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");to(this,po,Rp).call(this)}if(this.allowStale=!!wt,this.noDeleteOnStaleGet=!!ir,this.updateAgeOnGet=!!ut,this.updateAgeOnHas=!!bt,this.ttlResolution=isPosInt(at)||at===0?at:1,this.ttlAutopurge=!!ct,this.ttl=tt||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");to(this,po,Lu).call(this)}if(Mr(this,As)===0&&this.ttl===0&&Mr(this,bs)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!Mr(this,As)&&!Mr(this,bs)){const xr="LRU_CACHE_UNBOUNDED";shouldWarn(xr)&&(warned.add(xr),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",xr,Hu))}}static unsafeExposeInternals(s){return{starts:Mr(s,Ds),ttls:Mr(s,xs),sizes:Mr(s,Os),keyMap:Mr(s,os),keyList:Mr(s,Xo),valList:Mr(s,ko),next:Mr(s,hs),prev:Mr(s,ys),get head(){return Mr(s,us)},get tail(){return Mr(s,ss)},free:Mr(s,Ps),isBackgroundFetch:et=>{var tt;return to(tt=s,po,Yo).call(tt,et)},backgroundFetch:(et,tt,at,ct)=>{var ut;return to(ut=s,po,$u).call(ut,et,tt,at,ct)},moveToTail:et=>{var tt;return to(tt=s,po,mu).call(tt,et)},indexes:et=>{var tt;return to(tt=s,po,Ws).call(tt,et)},rindexes:et=>{var tt;return to(tt=s,po,Ks).call(tt,et)},isStale:et=>{var tt;return Mr(tt=s,Ss).call(tt,et)}}}get max(){return Mr(this,As)}get maxSize(){return Mr(this,bs)}get calculatedSize(){return Mr(this,Is)}get size(){return Mr(this,as)}get fetchMethod(){return Mr(this,su)}get memoMethod(){return Mr(this,lu)}get dispose(){return Mr(this,Rs)}get disposeAfter(){return Mr(this,ks)}getRemainingTTL(s){return Mr(this,os).has(s)?1/0:0}*entries(){for(const s of to(this,po,Ws).call(this))Mr(this,ko)[s]!==void 0&&Mr(this,Xo)[s]!==void 0&&!to(this,po,Yo).call(this,Mr(this,ko)[s])&&(yield[Mr(this,Xo)[s],Mr(this,ko)[s]])}*rentries(){for(const s of to(this,po,Ks).call(this))Mr(this,ko)[s]!==void 0&&Mr(this,Xo)[s]!==void 0&&!to(this,po,Yo).call(this,Mr(this,ko)[s])&&(yield[Mr(this,Xo)[s],Mr(this,ko)[s]])}*keys(){for(const s of to(this,po,Ws).call(this)){const et=Mr(this,Xo)[s];et!==void 0&&!to(this,po,Yo).call(this,Mr(this,ko)[s])&&(yield et)}}*rkeys(){for(const s of to(this,po,Ks).call(this)){const et=Mr(this,Xo)[s];et!==void 0&&!to(this,po,Yo).call(this,Mr(this,ko)[s])&&(yield et)}}*values(){for(const s of to(this,po,Ws).call(this))Mr(this,ko)[s]!==void 0&&!to(this,po,Yo).call(this,Mr(this,ko)[s])&&(yield Mr(this,ko)[s])}*rvalues(){for(const s of to(this,po,Ks).call(this))Mr(this,ko)[s]!==void 0&&!to(this,po,Yo).call(this,Mr(this,ko)[s])&&(yield Mr(this,ko)[s])}[(cp=Symbol.iterator,lp=Symbol.toStringTag,cp)](){return this.entries()}find(s,et={}){for(const tt of to(this,po,Ws).call(this)){const at=Mr(this,ko)[tt],ct=to(this,po,Yo).call(this,at)?at.__staleWhileFetching:at;if(ct!==void 0&&s(ct,Mr(this,Xo)[tt],this))return this.get(Mr(this,Xo)[tt],et)}}forEach(s,et=this){for(const tt of to(this,po,Ws).call(this)){const at=Mr(this,ko)[tt],ct=to(this,po,Yo).call(this,at)?at.__staleWhileFetching:at;ct!==void 0&&s.call(et,ct,Mr(this,Xo)[tt],this)}}rforEach(s,et=this){for(const tt of to(this,po,Ks).call(this)){const at=Mr(this,ko)[tt],ct=to(this,po,Yo).call(this,at)?at.__staleWhileFetching:at;ct!==void 0&&s.call(et,ct,Mr(this,Xo)[tt],this)}}purgeStale(){let s=!1;for(const et of to(this,po,Ks).call(this,{allowStale:!0}))Mr(this,Ss).call(this,et)&&(to(this,po,Ys).call(this,Mr(this,Xo)[et],"expire"),s=!0);return s}info(s){const et=Mr(this,os).get(s);if(et===void 0)return;const tt=Mr(this,ko)[et],at=to(this,po,Yo).call(this,tt)?tt.__staleWhileFetching:tt;if(at===void 0)return;const ct={value:at};if(Mr(this,xs)&&Mr(this,Ds)){const ut=Mr(this,xs)[et],bt=Mr(this,Ds)[et];if(ut&&bt){const wt=ut-(perf.now()-bt);ct.ttl=wt,ct.start=Date.now()}}return Mr(this,Os)&&(ct.size=Mr(this,Os)[et]),ct}dump(){const s=[];for(const et of to(this,po,Ws).call(this,{allowStale:!0})){const tt=Mr(this,Xo)[et],at=Mr(this,ko)[et],ct=to(this,po,Yo).call(this,at)?at.__staleWhileFetching:at;if(ct===void 0||tt===void 0)continue;const ut={value:ct};if(Mr(this,xs)&&Mr(this,Ds)){ut.ttl=Mr(this,xs)[et];const bt=perf.now()-Mr(this,Ds)[et];ut.start=Math.floor(Date.now()-bt)}Mr(this,Os)&&(ut.size=Mr(this,Os)[et]),s.unshift([tt,ut])}return s}load(s){this.clear();for(const[et,tt]of s){if(tt.start){const at=Date.now()-tt.start;tt.start=perf.now()-at}this.set(et,tt.value,tt)}}set(s,et,tt={}){var Lt,Ut,Vt,Yt,er;if(et===void 0)return this.delete(s),this;const{ttl:at=this.ttl,start:ct,noDisposeOnSet:ut=this.noDisposeOnSet,sizeCalculation:bt=this.sizeCalculation,status:wt}=tt;let{noUpdateTTL:Et=this.noUpdateTTL}=tt;const Ft=Mr(this,xu).call(this,s,et,tt.size||0,bt);if(this.maxEntrySize&&Ft>this.maxEntrySize)return wt&&(wt.set="miss",wt.maxEntrySizeExceeded=!0),to(this,po,Ys).call(this,s,"set"),this;let jt=Mr(this,as)===0?void 0:Mr(this,os).get(s);if(jt===void 0)jt=Mr(this,as)===0?Mr(this,ss):Mr(this,Ps).length!==0?Mr(this,Ps).pop():Mr(this,as)===Mr(this,As)?to(this,po,Su).call(this,!1):Mr(this,as),Mr(this,Xo)[jt]=s,Mr(this,ko)[jt]=et,Mr(this,os).set(s,jt),Mr(this,hs)[Mr(this,ss)]=jt,Mr(this,ys)[jt]=Mr(this,ss),Yn(this,ss,jt),Rl(this,as)._++,Mr(this,cu).call(this,jt,Ft,wt),wt&&(wt.set="add"),Et=!1;else{to(this,po,mu).call(this,jt);const tr=Mr(this,ko)[jt];if(et!==tr){if(Mr(this,El)&&to(this,po,Yo).call(this,tr)){tr.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:nr}=tr;nr!==void 0&&!ut&&(Mr(this,Ms)&&((Lt=Mr(this,Rs))==null||Lt.call(this,nr,s,"set")),Mr(this,ps)&&((Ut=Mr(this,ls))==null||Ut.push([nr,s,"set"])))}else ut||(Mr(this,Ms)&&((Vt=Mr(this,Rs))==null||Vt.call(this,tr,s,"set")),Mr(this,ps)&&((Yt=Mr(this,ls))==null||Yt.push([tr,s,"set"])));if(Mr(this,Ul).call(this,jt),Mr(this,cu).call(this,jt,Ft,wt),Mr(this,ko)[jt]=et,wt){wt.set="replace";const nr=tr&&to(this,po,Yo).call(this,tr)?tr.__staleWhileFetching:tr;nr!==void 0&&(wt.oldValue=nr)}}else wt&&(wt.set="update")}if(at!==0&&!Mr(this,xs)&&to(this,po,Lu).call(this),Mr(this,xs)&&(Et||Mr(this,yu).call(this,jt,at,ct),wt&&Mr(this,zs).call(this,wt,jt)),!ut&&Mr(this,ps)&&Mr(this,ls)){const tr=Mr(this,ls);let nr;for(;nr=tr==null?void 0:tr.shift();)(er=Mr(this,ks))==null||er.call(this,...nr)}return this}pop(){var s;try{for(;Mr(this,as);){const et=Mr(this,ko)[Mr(this,us)];if(to(this,po,Su).call(this,!0),to(this,po,Yo).call(this,et)){if(et.__staleWhileFetching)return et.__staleWhileFetching}else if(et!==void 0)return et}}finally{if(Mr(this,ps)&&Mr(this,ls)){const et=Mr(this,ls);let tt;for(;tt=et==null?void 0:et.shift();)(s=Mr(this,ks))==null||s.call(this,...tt)}}}has(s,et={}){const{updateAgeOnHas:tt=this.updateAgeOnHas,status:at}=et,ct=Mr(this,os).get(s);if(ct!==void 0){const ut=Mr(this,ko)[ct];if(to(this,po,Yo).call(this,ut)&&ut.__staleWhileFetching===void 0)return!1;if(Mr(this,Ss).call(this,ct))at&&(at.has="stale",Mr(this,zs).call(this,at,ct));else return tt&&Mr(this,Ll).call(this,ct),at&&(at.has="hit",Mr(this,zs).call(this,at,ct)),!0}else at&&(at.has="miss");return!1}peek(s,et={}){const{allowStale:tt=this.allowStale}=et,at=Mr(this,os).get(s);if(at===void 0||!tt&&Mr(this,Ss).call(this,at))return;const ct=Mr(this,ko)[at];return to(this,po,Yo).call(this,ct)?ct.__staleWhileFetching:ct}async fetch(s,et={}){const{allowStale:tt=this.allowStale,updateAgeOnGet:at=this.updateAgeOnGet,noDeleteOnStaleGet:ct=this.noDeleteOnStaleGet,ttl:ut=this.ttl,noDisposeOnSet:bt=this.noDisposeOnSet,size:wt=0,sizeCalculation:Et=this.sizeCalculation,noUpdateTTL:Ft=this.noUpdateTTL,noDeleteOnFetchRejection:jt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Lt=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ut=this.ignoreFetchAbort,allowStaleOnFetchAbort:Vt=this.allowStaleOnFetchAbort,context:Yt,forceRefresh:er=!1,status:tr,signal:nr}=et;if(!Mr(this,El))return tr&&(tr.fetch="get"),this.get(s,{allowStale:tt,updateAgeOnGet:at,noDeleteOnStaleGet:ct,status:tr});const ir={allowStale:tt,updateAgeOnGet:at,noDeleteOnStaleGet:ct,ttl:ut,noDisposeOnSet:bt,size:wt,sizeCalculation:Et,noUpdateTTL:Ft,noDeleteOnFetchRejection:jt,allowStaleOnFetchRejection:Lt,allowStaleOnFetchAbort:Vt,ignoreFetchAbort:Ut,status:tr,signal:nr};let lr=Mr(this,os).get(s);if(lr===void 0){tr&&(tr.fetch="miss");const pr=to(this,po,$u).call(this,s,lr,ir,Yt);return pr.__returned=pr}else{const pr=Mr(this,ko)[lr];if(to(this,po,Yo).call(this,pr)){const $r=tt&&pr.__staleWhileFetching!==void 0;return tr&&(tr.fetch="inflight",$r&&(tr.returnedStale=!0)),$r?pr.__staleWhileFetching:pr.__returned=pr}const yr=Mr(this,Ss).call(this,lr);if(!er&&!yr)return tr&&(tr.fetch="hit"),to(this,po,mu).call(this,lr),at&&Mr(this,Ll).call(this,lr),tr&&Mr(this,zs).call(this,tr,lr),pr;const br=to(this,po,$u).call(this,s,lr,ir,Yt),Er=br.__staleWhileFetching!==void 0&&tt;return tr&&(tr.fetch=yr?"stale":"refresh",Er&&yr&&(tr.returnedStale=!0)),Er?br.__staleWhileFetching:br.__returned=br}}async forceFetch(s,et={}){const tt=await this.fetch(s,et);if(tt===void 0)throw new Error("fetch() returned undefined");return tt}memo(s,et={}){const tt=Mr(this,lu);if(!tt)throw new Error("no memoMethod provided to constructor");const{context:at,forceRefresh:ct,...ut}=et,bt=this.get(s,ut);if(!ct&&bt!==void 0)return bt;const wt=tt(s,bt,{options:ut,context:at});return this.set(s,wt,ut),wt}get(s,et={}){const{allowStale:tt=this.allowStale,updateAgeOnGet:at=this.updateAgeOnGet,noDeleteOnStaleGet:ct=this.noDeleteOnStaleGet,status:ut}=et,bt=Mr(this,os).get(s);if(bt!==void 0){const wt=Mr(this,ko)[bt],Et=to(this,po,Yo).call(this,wt);return ut&&Mr(this,zs).call(this,ut,bt),Mr(this,Ss).call(this,bt)?(ut&&(ut.get="stale"),Et?(ut&&tt&&wt.__staleWhileFetching!==void 0&&(ut.returnedStale=!0),tt?wt.__staleWhileFetching:void 0):(ct||to(this,po,Ys).call(this,s,"expire"),ut&&tt&&(ut.returnedStale=!0),tt?wt:void 0)):(ut&&(ut.get="hit"),Et?wt.__staleWhileFetching:(to(this,po,mu).call(this,bt),at&&Mr(this,Ll).call(this,bt),wt))}else ut&&(ut.get="miss")}delete(s){return to(this,po,Ys).call(this,s,"delete")}clear(){return to(this,po,Vu).call(this,"delete")}};As=new WeakMap,bs=new WeakMap,Rs=new WeakMap,ks=new WeakMap,su=new WeakMap,lu=new WeakMap,as=new WeakMap,Is=new WeakMap,os=new WeakMap,Xo=new WeakMap,ko=new WeakMap,hs=new WeakMap,ys=new WeakMap,us=new WeakMap,ss=new WeakMap,Ps=new WeakMap,ls=new WeakMap,Os=new WeakMap,Ds=new WeakMap,xs=new WeakMap,Ms=new WeakMap,El=new WeakMap,ps=new WeakMap,po=new WeakSet,Lu=function(){const s=new ZeroArray(Mr(this,As)),et=new ZeroArray(Mr(this,As));Yn(this,xs,s),Yn(this,Ds,et),Yn(this,yu,(ct,ut,bt=perf.now())=>{if(et[ct]=ut!==0?bt:0,s[ct]=ut,ut!==0&&this.ttlAutopurge){const wt=setTimeout(()=>{Mr(this,Ss).call(this,ct)&&to(this,po,Ys).call(this,Mr(this,Xo)[ct],"expire")},ut+1);wt.unref&&wt.unref()}}),Yn(this,Ll,ct=>{et[ct]=s[ct]!==0?perf.now():0}),Yn(this,zs,(ct,ut)=>{if(s[ut]){const bt=s[ut],wt=et[ut];if(!bt||!wt)return;ct.ttl=bt,ct.start=wt,ct.now=tt||at();const Et=ct.now-wt;ct.remainingTTL=bt-Et}});let tt=0;const at=()=>{const ct=perf.now();if(this.ttlResolution>0){tt=ct;const ut=setTimeout(()=>tt=0,this.ttlResolution);ut.unref&&ut.unref()}return ct};this.getRemainingTTL=ct=>{const ut=Mr(this,os).get(ct);if(ut===void 0)return 0;const bt=s[ut],wt=et[ut];if(!bt||!wt)return 1/0;const Et=(tt||at())-wt;return bt-Et},Yn(this,Ss,ct=>{const ut=et[ct],bt=s[ct];return!!bt&&!!ut&&(tt||at())-ut>bt})},Ll=new WeakMap,zs=new WeakMap,yu=new WeakMap,Ss=new WeakMap,Rp=function(){const s=new ZeroArray(Mr(this,As));Yn(this,Is,0),Yn(this,Os,s),Yn(this,Ul,et=>{Yn(this,Is,Mr(this,Is)-s[et]),s[et]=0}),Yn(this,xu,(et,tt,at,ct)=>{if(to(this,po,Yo).call(this,tt))return 0;if(!isPosInt(at))if(ct){if(typeof ct!="function")throw new TypeError("sizeCalculation must be a function");if(at=ct(tt,et),!isPosInt(at))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return at}),Yn(this,cu,(et,tt,at)=>{if(s[et]=tt,Mr(this,bs)){const ct=Mr(this,bs)-s[et];for(;Mr(this,Is)>ct;)to(this,po,Su).call(this,!0)}Yn(this,Is,Mr(this,Is)+s[et]),at&&(at.entrySize=tt,at.totalCalculatedSize=Mr(this,Is))})},Ul=new WeakMap,cu=new WeakMap,xu=new WeakMap,Ws=function*({allowStale:s=this.allowStale}={}){if(Mr(this,as))for(let et=Mr(this,ss);!(!to(this,po,qu).call(this,et)||((s||!Mr(this,Ss).call(this,et))&&(yield et),et===Mr(this,us)));)et=Mr(this,ys)[et]},Ks=function*({allowStale:s=this.allowStale}={}){if(Mr(this,as))for(let et=Mr(this,us);!(!to(this,po,qu).call(this,et)||((s||!Mr(this,Ss).call(this,et))&&(yield et),et===Mr(this,ss)));)et=Mr(this,hs)[et]},qu=function(s){return s!==void 0&&Mr(this,os).get(Mr(this,Xo)[s])===s},Su=function(s){var ct,ut;const et=Mr(this,us),tt=Mr(this,Xo)[et],at=Mr(this,ko)[et];return Mr(this,El)&&to(this,po,Yo).call(this,at)?at.__abortController.abort(new Error("evicted")):(Mr(this,Ms)||Mr(this,ps))&&(Mr(this,Ms)&&((ct=Mr(this,Rs))==null||ct.call(this,at,tt,"evict")),Mr(this,ps)&&((ut=Mr(this,ls))==null||ut.push([at,tt,"evict"]))),Mr(this,Ul).call(this,et),s&&(Mr(this,Xo)[et]=void 0,Mr(this,ko)[et]=void 0,Mr(this,Ps).push(et)),Mr(this,as)===1?(Yn(this,us,Yn(this,ss,0)),Mr(this,Ps).length=0):Yn(this,us,Mr(this,hs)[et]),Mr(this,os).delete(tt),Rl(this,as)._--,et},$u=function(s,et,tt,at){const ct=et===void 0?void 0:Mr(this,ko)[et];if(to(this,po,Yo).call(this,ct))return ct;const ut=new AC,{signal:bt}=tt;bt==null||bt.addEventListener("abort",()=>ut.abort(bt.reason),{signal:ut.signal});const wt={signal:ut.signal,options:tt,context:at},Et=(Yt,er=!1)=>{const{aborted:tr}=ut.signal,nr=tt.ignoreFetchAbort&&Yt!==void 0;if(tt.status&&(tr&&!er?(tt.status.fetchAborted=!0,tt.status.fetchError=ut.signal.reason,nr&&(tt.status.fetchAbortIgnored=!0)):tt.status.fetchResolved=!0),tr&&!nr&&!er)return jt(ut.signal.reason);const ir=Ut;return Mr(this,ko)[et]===Ut&&(Yt===void 0?ir.__staleWhileFetching?Mr(this,ko)[et]=ir.__staleWhileFetching:to(this,po,Ys).call(this,s,"fetch"):(tt.status&&(tt.status.fetchUpdated=!0),this.set(s,Yt,wt.options))),Yt},Ft=Yt=>(tt.status&&(tt.status.fetchRejected=!0,tt.status.fetchError=Yt),jt(Yt)),jt=Yt=>{const{aborted:er}=ut.signal,tr=er&&tt.allowStaleOnFetchAbort,nr=tr||tt.allowStaleOnFetchRejection,ir=nr||tt.noDeleteOnFetchRejection,lr=Ut;if(Mr(this,ko)[et]===Ut&&(!ir||lr.__staleWhileFetching===void 0?to(this,po,Ys).call(this,s,"fetch"):tr||(Mr(this,ko)[et]=lr.__staleWhileFetching)),nr)return tt.status&&lr.__staleWhileFetching!==void 0&&(tt.status.returnedStale=!0),lr.__staleWhileFetching;if(lr.__returned===lr)throw Yt},Lt=(Yt,er)=>{var nr;const tr=(nr=Mr(this,su))==null?void 0:nr.call(this,s,ct,wt);tr&&tr instanceof Promise&&tr.then(ir=>Yt(ir===void 0?void 0:ir),er),ut.signal.addEventListener("abort",()=>{(!tt.ignoreFetchAbort||tt.allowStaleOnFetchAbort)&&(Yt(void 0),tt.allowStaleOnFetchAbort&&(Yt=ir=>Et(ir,!0)))})};tt.status&&(tt.status.fetchDispatched=!0);const Ut=new Promise(Lt).then(Et,Ft),Vt=Object.assign(Ut,{__abortController:ut,__staleWhileFetching:ct,__returned:void 0});return et===void 0?(this.set(s,Vt,{...wt.options,status:void 0}),et=Mr(this,os).get(s)):Mr(this,ko)[et]=Vt,Vt},Yo=function(s){if(!Mr(this,El))return!1;const et=s;return!!et&&et instanceof Promise&&et.hasOwnProperty("__staleWhileFetching")&&et.__abortController instanceof AC},Uu=function(s,et){Mr(this,ys)[et]=s,Mr(this,hs)[s]=et},mu=function(s){s!==Mr(this,ss)&&(s===Mr(this,us)?Yn(this,us,Mr(this,hs)[s]):to(this,po,Uu).call(this,Mr(this,ys)[s],Mr(this,hs)[s]),to(this,po,Uu).call(this,Mr(this,ss),s),Yn(this,ss,s))},Ys=function(s,et){var at,ct,ut,bt;let tt=!1;if(Mr(this,as)!==0){const wt=Mr(this,os).get(s);if(wt!==void 0)if(tt=!0,Mr(this,as)===1)to(this,po,Vu).call(this,et);else{Mr(this,Ul).call(this,wt);const Et=Mr(this,ko)[wt];if(to(this,po,Yo).call(this,Et)?Et.__abortController.abort(new Error("deleted")):(Mr(this,Ms)||Mr(this,ps))&&(Mr(this,Ms)&&((at=Mr(this,Rs))==null||at.call(this,Et,s,et)),Mr(this,ps)&&((ct=Mr(this,ls))==null||ct.push([Et,s,et]))),Mr(this,os).delete(s),Mr(this,Xo)[wt]=void 0,Mr(this,ko)[wt]=void 0,wt===Mr(this,ss))Yn(this,ss,Mr(this,ys)[wt]);else if(wt===Mr(this,us))Yn(this,us,Mr(this,hs)[wt]);else{const Ft=Mr(this,ys)[wt];Mr(this,hs)[Ft]=Mr(this,hs)[wt];const jt=Mr(this,hs)[wt];Mr(this,ys)[jt]=Mr(this,ys)[wt]}Rl(this,as)._--,Mr(this,Ps).push(wt)}}if(Mr(this,ps)&&((ut=Mr(this,ls))!=null&&ut.length)){const wt=Mr(this,ls);let Et;for(;Et=wt==null?void 0:wt.shift();)(bt=Mr(this,ks))==null||bt.call(this,...Et)}return tt},Vu=function(s){var et,tt,at;for(const ct of to(this,po,Ks).call(this,{allowStale:!0})){const ut=Mr(this,ko)[ct];if(to(this,po,Yo).call(this,ut))ut.__abortController.abort(new Error("deleted"));else{const bt=Mr(this,Xo)[ct];Mr(this,Ms)&&((et=Mr(this,Rs))==null||et.call(this,ut,bt,s)),Mr(this,ps)&&((tt=Mr(this,ls))==null||tt.push([ut,bt,s]))}}if(Mr(this,os).clear(),Mr(this,ko).fill(void 0),Mr(this,Xo).fill(void 0),Mr(this,xs)&&Mr(this,Ds)&&(Mr(this,xs).fill(0),Mr(this,Ds).fill(0)),Mr(this,Os)&&Mr(this,Os).fill(0),Yn(this,us,0),Yn(this,ss,0),Mr(this,Ps).length=0,Yn(this,Is,0),Yn(this,as,0),Mr(this,ps)&&Mr(this,ls)){const ct=Mr(this,ls);let ut;for(;ut=ct==null?void 0:ct.shift();)(at=Mr(this,ks))==null||at.call(this,...ut)}};let LRUCache=Hu;var isMergeableObject=function(s){return isNonNullObject(s)&&!isSpecial(s)};function isNonNullObject(a){return!!a&&typeof a=="object"}function isSpecial(a){var s=Object.prototype.toString.call(a);return s==="[object RegExp]"||s==="[object Date]"||isReactElement(a)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(a){return a.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(a){return Array.isArray(a)?[]:{}}function cloneUnlessOtherwiseSpecified(a,s){return s.clone!==!1&&s.isMergeableObject(a)?deepmerge(emptyTarget(a),a,s):a}function defaultArrayMerge(a,s,et){return a.concat(s).map(function(tt){return cloneUnlessOtherwiseSpecified(tt,et)})}function getMergeFunction(a,s){if(!s.customMerge)return deepmerge;var et=s.customMerge(a);return typeof et=="function"?et:deepmerge}function getEnumerableOwnPropertySymbols(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(s){return Object.propertyIsEnumerable.call(a,s)}):[]}function getKeys(a){return Object.keys(a).concat(getEnumerableOwnPropertySymbols(a))}function propertyIsOnObject(a,s){try{return s in a}catch{return!1}}function propertyIsUnsafe(a,s){return propertyIsOnObject(a,s)&&!(Object.hasOwnProperty.call(a,s)&&Object.propertyIsEnumerable.call(a,s))}function mergeObject(a,s,et){var tt={};return et.isMergeableObject(a)&&getKeys(a).forEach(function(at){tt[at]=cloneUnlessOtherwiseSpecified(a[at],et)}),getKeys(s).forEach(function(at){propertyIsUnsafe(a,at)||(propertyIsOnObject(a,at)&&et.isMergeableObject(s[at])?tt[at]=getMergeFunction(at,et)(a[at],s[at],et):tt[at]=cloneUnlessOtherwiseSpecified(s[at],et))}),tt}function deepmerge(a,s,et){et=et||{},et.arrayMerge=et.arrayMerge||defaultArrayMerge,et.isMergeableObject=et.isMergeableObject||isMergeableObject,et.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var tt=Array.isArray(s),at=Array.isArray(a),ct=tt===at;return ct?tt?et.arrayMerge(a,s,et):mergeObject(a,s,et):cloneUnlessOtherwiseSpecified(s,et)}deepmerge.all=function(s,et){if(!Array.isArray(s))throw new Error("first argument should be an array");return s.reduce(function(tt,at){return deepmerge(tt,at,et)},{})};var browserRuntimeAdapter={};setAdapterIfNotSet(browserRuntimeAdapter);var getLastSlashBeforeIndex=(a,s)=>{for(var et=s-1;et>=0;){if(a[et]==="/")return et;et--}return-1},_getDebugFileName=a=>{var s,et=a.lastIndexOf(".css");if(et===-1)return"";var tt=getLastSlashBeforeIndex(a,et);if(s=a.slice(tt+1,et),tt===-1)return s;var at=getLastSlashBeforeIndex(a,tt-1),ct=a.slice(at+1,tt),ut=s!=="index"?s:ct;return ut},memoizedGetDebugFileName=()=>{var a=new LRUCache({max:500});return s=>{var et=a.get(s);if(et)return et;var tt=_getDebugFileName(s);return a.set(s,tt),tt}};memoizedGetDebugFileName();function createGlobalThemeContract(a,s){return walkObject$1(a,(et,tt)=>{var at=typeof s=="function"?s(et,tt):et,ct=typeof at=="string"?at.replace(/^\-\-/,""):null;if(typeof ct!="string"||ct!==cssesc$1(ct,{isIdentifier:!0}))throw new Error('Invalid variable name for "'.concat(tt.join("."),'": ').concat(ct));return"var(--".concat(ct,")")})}var __create$1=Object.create,__defProp$k=Object.defineProperty,__getOwnPropDesc$d=Object.getOwnPropertyDescriptor,__getOwnPropNames$d=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$f=Object.prototype.hasOwnProperty,__typeError$3=a=>{throw TypeError(a)},__esm=(a,s)=>function(){return a&&(s=(0,a[__getOwnPropNames$d(a)[0]])(a=0)),s},__commonJS$1=(a,s)=>function(){return s||(0,a[__getOwnPropNames$d(a)[0]])((s={exports:{}}).exports,s),s.exports},__copyProps$d=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$d(s))!__hasOwnProp$f.call(a,at)&&at!==et&&__defProp$k(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$d(s,at))||tt.enumerable});return a},__toESM$1=(a,s,et)=>(et=a!=null?__create$1(__getProtoOf$1(a)):{},__copyProps$d(!a||!a.__esModule?__defProp$k(et,"default",{value:a,enumerable:!0}):et,a)),__accessCheck$3=(a,s,et)=>s.has(a)||__typeError$3("Cannot "+et),__privateGet$3=(a,s,et)=>(__accessCheck$3(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$3=(a,s,et)=>s.has(a)?__typeError$3("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),init_StyleMarker_css_ts_vanilla=__esm({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),require_StyleMarker_css=__commonJS$1({"src/components/styling/StyleMarker.css.ts"(){init_StyleMarker_css_ts_vanilla()}}),walletMutationKeys={all:{baseScope:"wallet"},connectWallet:formMutationKeyFn("connect-wallet"),autoconnectWallet:formMutationKeyFn("autoconnect-wallet"),disconnectWallet:formMutationKeyFn("disconnect-wallet"),signPersonalMessage:formMutationKeyFn("sign-personal-message"),signTransaction:formMutationKeyFn("sign-transaction"),signAndExecuteTransaction:formMutationKeyFn("sign-and-execute-transaction"),switchAccount:formMutationKeyFn("switch-account"),reportTransactionEffects:formMutationKeyFn("report-transaction-effects")};function formMutationKeyFn(a){return function(et=[]){return[{...walletMutationKeys.all,baseEntity:a},...et]}}var WalletContext=reactExports.createContext(null);function useWalletStore(a){const s=reactExports.useContext(WalletContext);if(!s)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return useStore(s,a)}function useConnectWallet({mutationKey:a,...s}={}){const et=useWalletStore(at=>at.setWalletConnected),tt=useWalletStore(at=>at.setConnectionStatus);return useMutation({mutationKey:walletMutationKeys.connectWallet(a),mutationFn:async({wallet:at,accountAddress:ct,...ut})=>{try{tt("connecting");const bt=await at.features["standard:connect"].connect(ut),wt=bt.accounts.filter(Ft=>Ft.chains.some(jt=>jt.split(":")[0]==="sui")),Et=getSelectedAccount(wt,ct);return et(at,wt,Et,bt.supportedIntents),{accounts:wt}}catch(bt){throw tt("disconnected"),bt}},...s})}function getSelectedAccount(a,s){return a.length===0?null:s?a.find(tt=>tt.address===s)??a[0]:a[0]}function getRegisteredWallets(a,s){const at=getWallets().get().filter(ct=>isWalletWithRequiredFeatureSet(ct)&&(!s||s(ct)));return[...a.map(ct=>at.find(ut=>ut.name===ct)).filter(Boolean),...at.filter(ct=>!a.includes(ct.name))]}function getWalletUniqueIdentifier(a){return(a==null?void 0:a.id)??(a==null?void 0:a.name)}var styleDataAttributeName="data-dapp-kit",styleDataAttributeSelector=`[${styleDataAttributeName}]`,styleDataAttribute={[styleDataAttributeName]:""};__toESM$1(require_StyleMarker_css());var StyleMarker=reactExports.forwardRef(({children:a,...s},et)=>jsxRuntimeExports.jsx(Slot,{ref:et,...s,...styleDataAttribute,children:a}));StyleMarker.displayName="StyleMarker";var headingVariants=createRuntimeFn({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),Heading$1=reactExports.forwardRef(({children:a,className:s,asChild:et=!1,as:tt="h1",size:at,weight:ct,truncate:ut,...bt},wt)=>jsxRuntimeExports.jsx(Slot,{...bt,ref:wt,className:clsx(headingVariants({size:at,weight:ct,truncate:ut}),s),children:et?a:jsxRuntimeExports.jsx(tt,{children:a})}));Heading$1.displayName="Heading";var container$1="IconButton_container__s6n7bq0",IconButton=reactExports.forwardRef(({className:a,asChild:s=!1,...et},tt)=>{const at=s?Slot:"button";return jsxRuntimeExports.jsx(at,{...et,className:clsx(container$1,a),ref:tt})});IconButton.displayName="Button";var buttonVariants=createRuntimeFn({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),Button$1=reactExports.forwardRef(({className:a,variant:s,size:et,asChild:tt=!1,...at},ct)=>{const ut=tt?Slot:"button";return jsxRuntimeExports.jsx(ut,{...at,className:clsx(buttonVariants({variant:s,size:et}),a),ref:ct})});Button$1.displayName="Button";var textVariants=createRuntimeFn({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),Text$1=reactExports.forwardRef(({children:a,className:s,asChild:et=!1,as:tt="div",size:at,weight:ct,color:ut,mono:bt,...wt},Et)=>jsxRuntimeExports.jsx(Slot,{...wt,ref:Et,className:clsx(textVariants({size:at,weight:ct,color:ut,mono:bt}),s),children:et?a:jsxRuntimeExports.jsx(tt,{children:a})}));Text$1.displayName="Text";function useWallets(){return useWalletStore(a=>a.wallets)}function useCurrentAccount(){return useWalletStore(a=>a.currentAccount)}var SuiClientContext=reactExports.createContext(null),DEFAULT_NETWORKS={localnet:{url:getFullnodeUrl$1("localnet")}},DEFAULT_CREATE_CLIENT=function(s,et){return isSuiClient(et)?et:new SuiClient$1(et)};function SuiClientProvider(a){const{onNetworkChange:s,network:et,children:tt}=a,at=a.networks??DEFAULT_NETWORKS,ct=a.createClient??DEFAULT_CREATE_CLIENT,[ut,bt]=reactExports.useState(a.network??a.defaultNetwork??Object.keys(at)[0]),wt=a.network??ut,Et=reactExports.useMemo(()=>ct(wt,at[wt]),[ct,wt,at]),Ft=reactExports.useMemo(()=>({client:Et,networks:at,network:wt,config:at[wt]instanceof SuiClient$1?null:at[wt],selectNetwork:jt=>{wt!==jt&&(!et&&jt!==ut&&bt(jt),s==null||s(jt))}}),[Et,at,ut,wt,et,s]);return jsxRuntimeExports.jsx(SuiClientContext.Provider,{value:Ft,children:tt})}function useSuiClientContext(){const a=reactExports.useContext(SuiClientContext);if(!a)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return a}function useSuiClient(){return useSuiClientContext().client}var WalletNotConnectedError=class extends Error{},WalletNoAccountSelectedError=class extends Error{},WalletFeatureNotSupportedError=class extends Error{},WalletAccountNotFoundError=class extends Error{};function useCurrentWallet(){const a=useWalletStore(tt=>tt.currentWallet),s=useWalletStore(tt=>tt.connectionStatus),et=useWalletStore(tt=>tt.supportedIntents);switch(s){case"connecting":return{connectionStatus:s,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:s,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:s,currentWallet:a,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:et}}}function useDisconnectWallet({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),tt=useWalletStore(at=>at.setWalletDisconnected);return useMutation({mutationKey:walletMutationKeys.disconnectWallet(a),mutationFn:async()=>{var at;if(!et)throw new WalletNotConnectedError("No wallet is connected.");try{await((at=et.features["standard:disconnect"])==null?void 0:at.disconnect())}catch(ct){console.error("Failed to disconnect the application from the current wallet.",ct)}tt()},...s})}function useSwitchAccount({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),tt=useWalletStore(at=>at.setAccountSwitched);return useMutation({mutationKey:walletMutationKeys.switchAccount(a),mutationFn:async({account:at})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const ct=et.accounts.find(ut=>ut.address===at.address);if(!ct)throw new WalletAccountNotFoundError(`No account with address ${at.address} is connected to ${et.name}.`);tt(ct)},...s})}function createInMemoryStore(){const a=new Map;return{getItem(s){return a.get(s)},setItem(s,et){a.set(s,et)},removeItem(s){a.delete(s)}}}var SUI_WALLET_NAME="Sui Wallet",DEFAULT_STORAGE=typeof window<"u"&&window.localStorage?localStorage:createInMemoryStore(),DEFAULT_STORAGE_KEY="sui-dapp-kit:wallet-connection-info",SIGN_FEATURES=["sui:signTransaction","sui:signTransactionBlock"],DEFAULT_WALLET_FILTER=a=>SIGN_FEATURES.some(s=>a.features[s]),DEFAULT_PREFERRED_WALLETS=[SUI_WALLET_NAME,STASHED_WALLET_NAME];function useAutoConnectWallet(){const{mutateAsync:a}=useConnectWallet(),s=useWalletStore(Ft=>Ft.autoConnectEnabled),et=useWalletStore(Ft=>Ft.lastConnectedWalletName),tt=useWalletStore(Ft=>Ft.lastConnectedAccountAddress),at=useWallets(),{isConnected:ct}=useCurrentWallet(),[ut,bt]=reactExports.useState(!1);reactExports.useLayoutEffect(()=>{bt(!0)},[]);const{data:wt,isError:Et}=useQuery({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:ct,autoConnectEnabled:s,lastConnectedWalletName:et,lastConnectedAccountAddress:tt,walletCount:at.length}],queryFn:async()=>{if(!s)return"disabled";if(!et||!tt||ct)return"attempted";const Ft=at.find(jt=>getWalletUniqueIdentifier(jt)===et);return Ft&&await a({wallet:Ft,accountAddress:tt,silent:!0}),"attempted"},enabled:s,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return s?ut?ct||!et||Et?"attempted":wt??"idle":"idle":"disabled"}function useStashedWallet(a){const s=useAutoConnectWallet(),[et,tt]=reactExports.useState(null),[at,ct]=reactExports.useState(null),{mutate:ut}=useConnectWallet();reactExports.useEffect(()=>{!et||!at||s!=="attempted"||(ut({wallet:at,silent:!0}),tt(null))},[et,s,ut,at]),reactExports.useLayoutEffect(()=>{if(!(a!=null&&a.name))return;const{wallet:bt,unregister:wt,addressFromRedirect:Et}=registerStashedWallet(a.name,{origin:a.origin,network:a.network});return Et&&(ct(bt),tt(Et)),wt},[a==null?void 0:a.name,a==null?void 0:a.origin,a==null?void 0:a.network])}var WALLET_NAME="Unsafe Burner Wallet";function useUnsafeBurnerWallet(a){const s=useSuiClient();reactExports.useEffect(()=>a?registerUnsafeBurnerWallet(s):void 0,[a,s])}function registerUnsafeBurnerWallet(a){var s,et,tt,at,ct,ut,bt;const wt=getWallets();if(wt.get().find(Ut=>Ut.name===WALLET_NAME)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const Ft=new Ed25519Keypair,jt=new ReadonlyWalletAccount({address:Ft.getPublicKey().toSuiAddress(),publicKey:Ft.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class Lt{constructor(){__privateAdd$3(this,s,()=>()=>{}),__privateAdd$3(this,et,async()=>({accounts:this.accounts})),__privateAdd$3(this,tt,async Vt=>{const{bytes:Yt,signature:er}=await Ft.signPersonalMessage(Vt.message);return{bytes:Yt,signature:er}}),__privateAdd$3(this,at,async Vt=>{const{bytes:Yt,signature:er}=await Vt.transactionBlock.sign({client:a,signer:Ft});return{transactionBlockBytes:Yt,signature:er}}),__privateAdd$3(this,ct,async Vt=>{var tr;const{bytes:Yt,signature:er}=await Transaction$1.from(await Vt.transaction.toJSON()).sign({client:a,signer:Ft});return(tr=Vt.signal)==null||tr.throwIfAborted(),{bytes:Yt,signature:er}}),__privateAdd$3(this,ut,async Vt=>{const{bytes:Yt,signature:er}=await Vt.transactionBlock.sign({client:a,signer:Ft});return a.executeTransactionBlock({signature:er,transactionBlock:Yt,options:Vt.options})}),__privateAdd$3(this,bt,async Vt=>{var ir;const{bytes:Yt,signature:er}=await Transaction$1.from(await Vt.transaction.toJSON()).sign({client:a,signer:Ft});(ir=Vt.signal)==null||ir.throwIfAborted();const{rawEffects:tr,digest:nr}=await a.executeTransactionBlock({signature:er,transactionBlock:Yt,options:{showRawEffects:!0}});return{bytes:Yt,signature:er,digest:nr,effects:toBase64(new Uint8Array(tr))}})}get version(){return"1.0.0"}get name(){return WALLET_NAME}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return SUI_CHAINS}get accounts(){return[jt]}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet$3(this,et)},"standard:events":{version:"1.0.0",on:__privateGet$3(this,s)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet$3(this,tt)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet$3(this,at)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:__privateGet$3(this,ut)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet$3(this,ct)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:__privateGet$3(this,bt)}}}}return s=new WeakMap,et=new WeakMap,tt=new WeakMap,at=new WeakMap,ct=new WeakMap,ut=new WeakMap,bt=new WeakMap,wt.register(new Lt)}function useWalletPropertiesChanged(){const{currentWallet:a}=useCurrentWallet(),s=useWalletStore(et=>et.updateWalletAccounts);reactExports.useEffect(()=>a==null?void 0:a.features["standard:events"].on("change",({accounts:tt})=>{tt&&s(tt)}),[a==null?void 0:a.features,s])}function useWalletsChanged(a,s){const et=useWalletStore(at=>at.setWalletRegistered),tt=useWalletStore(at=>at.setWalletUnregistered);reactExports.useEffect(()=>{const at=getWallets();et(getRegisteredWallets(a,s));const ct=at.on("register",()=>{et(getRegisteredWallets(a,s))}),ut=at.on("unregister",bt=>{tt(getRegisteredWallets(a,s),bt)});return()=>{ct(),ut()}},[a,s,et,tt])}var lightTheme={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function createWalletStore({wallets:a,storage:s,storageKey:et,autoConnectEnabled:tt}){return createStore$1()(persist((at,ct)=>({autoConnectEnabled:tt,wallets:a,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(ut){at(()=>({connectionStatus:ut}))},setWalletConnected(ut,bt,wt,Et=[]){at(()=>({accounts:bt,currentWallet:ut,currentAccount:wt,lastConnectedWalletName:getWalletUniqueIdentifier(ut),lastConnectedAccountAddress:wt==null?void 0:wt.address,connectionStatus:"connected",supportedIntents:Et}))},setWalletDisconnected(){at(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(ut){at(()=>({currentAccount:ut,lastConnectedAccountAddress:ut.address}))},setWalletRegistered(ut){at(()=>({wallets:ut}))},setWalletUnregistered(ut,bt){bt===ct().currentWallet?at(()=>({wallets:ut,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):at(()=>({wallets:ut}))},updateWalletAccounts(ut){const bt=ct().currentAccount;at(()=>({accounts:ut,currentAccount:bt&&ut.find(({address:wt})=>wt===bt.address)||ut[0]}))}}),{name:et,storage:createJSONStorage(()=>s),partialize:({lastConnectedWalletName:at,lastConnectedAccountAddress:ct})=>({lastConnectedWalletName:at,lastConnectedAccountAddress:ct})}))}var themeContractValues={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},themeVars=createGlobalThemeContract(themeContractValues,(a,s)=>`dapp-kit-${s.join("-")}`);function InjectedThemeStyles({theme:a}){const s=Array.isArray(a)?getDynamicThemeStyles(a):getStaticThemeStyles(a);return jsxRuntimeExports.jsx("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:s}})}function getDynamicThemeStyles(a){return a.map(({mediaQuery:s,selector:et,variables:tt})=>{const at=getStaticThemeStyles(tt),ct=et?`${et} ${at}`:at;return s?`@media ${s}{${ct}}`:ct}).join(" ")}function getStaticThemeStyles(a){return`${styleDataAttributeSelector} {${cssStringFromTheme(a)}}`}function cssStringFromTheme(a){return Object.entries(assignInlineVars(themeVars,a)).map(([s,et])=>`${s}:${et};`).join("")}function WalletProvider({preferredWallets:a=DEFAULT_PREFERRED_WALLETS,walletFilter:s=DEFAULT_WALLET_FILTER,storage:et=DEFAULT_STORAGE,storageKey:tt=DEFAULT_STORAGE_KEY,enableUnsafeBurner:at=!1,autoConnect:ct=!1,stashedWallet:ut,theme:bt=lightTheme,children:wt}){const Et=reactExports.useRef(createWalletStore({autoConnectEnabled:ct,wallets:getRegisteredWallets(a,s),storage:et||createInMemoryStore(),storageKey:tt}));return jsxRuntimeExports.jsx(WalletContext.Provider,{value:Et.current,children:jsxRuntimeExports.jsxs(WalletConnectionManager,{preferredWallets:a,walletFilter:s,enableUnsafeBurner:at,stashedWallet:ut,children:[bt?jsxRuntimeExports.jsx(InjectedThemeStyles,{theme:bt}):null,wt]})})}function WalletConnectionManager({preferredWallets:a=DEFAULT_PREFERRED_WALLETS,walletFilter:s=DEFAULT_WALLET_FILTER,enableUnsafeBurner:et=!1,stashedWallet:tt,children:at}){return useWalletsChanged(a,s),useWalletPropertiesChanged(),useStashedWallet(tt),useUnsafeBurnerWallet(et),useAutoConnectWallet(),at}function createNetworkConfig(a){function s(){const{config:at}=useSuiClientContext();if(!at)throw new Error("No network config found");return at}function et(){const{variables:at}=s();return at??{}}function tt(at){return et()[at]}return{networkConfig:a,useNetworkConfig:s,useNetworkVariables:et,useNetworkVariable:tt}}function useReportTransactionEffects({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),tt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.reportTransactionEffects(a),mutationFn:async({effects:at,chain:ct=et==null?void 0:et.chains[0],account:ut=tt})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");if(!ut)throw new WalletNoAccountSelectedError("No wallet account is selected to report transaction effects for");const bt=et.features["sui:reportTransactionEffects"];if(bt)return await bt.reportTransactionEffects({effects:Array.isArray(at)?toBase64(new Uint8Array(at)):at,account:ut,chain:ct??(et==null?void 0:et.chains[0])})},...s})}function useSignAndExecuteTransaction({mutationKey:a,execute:s,...et}={}){const{currentWallet:tt,supportedIntents:at}=useCurrentWallet(),ct=useCurrentAccount(),ut=useSuiClient(),{mutate:bt}=useReportTransactionEffects(),wt=s??(async({bytes:Et,signature:Ft})=>{const{digest:jt,rawEffects:Lt}=await ut.executeTransactionBlock({transactionBlock:Et,signature:Ft,options:{showRawEffects:!0}});return{digest:jt,rawEffects:Lt,effects:toBase64(new Uint8Array(Lt)),bytes:Et,signature:Ft}});return useMutation({mutationKey:walletMutationKeys.signAndExecuteTransaction(a),mutationFn:async({transaction:Et,...Ft})=>{var tr;if(!tt)throw new WalletNotConnectedError("No wallet is connected.");const jt=Ft.account??ct;if(!jt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");const Lt=Ft.chain??(jt==null?void 0:jt.chains[0]);if(!tt.features["sui:signTransaction"]&&!tt.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{signature:Ut,bytes:Vt}=await signTransaction(tt,{...Ft,transaction:{async toJSON(){return typeof Et=="string"?Et:await Et.toJSON({supportedIntents:at,client:ut})}},account:jt,chain:Ft.chain??jt.chains[0]}),Yt=await wt({bytes:Vt,signature:Ut});let er;if("effects"in Yt&&((tr=Yt.effects)!=null&&tr.bcs))er=Yt.effects.bcs;else if("rawEffects"in Yt)er=toBase64(new Uint8Array(Yt.rawEffects));else throw new Error("Could not parse effects from transaction result.");return bt({effects:er,account:jt,chain:Lt}),Yt},...et})}function useSignPersonalMessage({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),tt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.signPersonalMessage(a),mutationFn:async at=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const ct=at.account??tt;if(!ct)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the personal message with.");const ut=et.features["sui:signPersonalMessage"];if(ut)return await ut.signPersonalMessage({...at,account:ct});const bt=et.features["sui:signMessage"];if(bt){console.warn("This wallet doesn't support the `signPersonalMessage` feature... falling back to `signMessage`.");const{messageBytes:wt,signature:Et}=await bt.signMessage({...at,account:ct});return{bytes:wt,signature:Et}}throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signPersonalMessage` feature.")},...s})}function useSignTransaction({mutationKey:a,...s}={}){const{currentWallet:et}=useCurrentWallet(),tt=useCurrentAccount(),at=useSuiClient(),{mutate:ct}=useReportTransactionEffects();return useMutation({mutationKey:walletMutationKeys.signTransaction(a),mutationFn:async({transaction:ut,...bt})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const wt=bt.account??tt;if(!wt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");if(!et.features["sui:signTransaction"]&&!et.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{bytes:Et,signature:Ft}=await signTransaction(et,{...bt,transaction:{toJSON:async()=>typeof ut=="string"?ut:await ut.toJSON({supportedIntents:[],client:at})},account:wt,chain:bt.chain??wt.chains[0]});return{bytes:Et,signature:Ft,reportTransactionEffects:jt=>{ct({effects:jt,account:wt,chain:bt.chain??wt.chains[0]})}}},...s})}const PACKAGE_VERSION="1.25.0",TARGETED_RPC_VERSION="1.46.0",CODE_TO_ERROR_TYPE={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class SuiHTTPTransportError extends Error{}class JsonRpcError extends SuiHTTPTransportError{constructor(s,et){super(s),this.code=et,this.type=CODE_TO_ERROR_TYPE[et]??"ServerError"}}class SuiHTTPStatusError extends SuiHTTPTransportError{constructor(s,et,tt){super(s),this.status=et,this.statusText=tt}}var __typeError$2=a=>{throw TypeError(a)},__accessCheck$2=(a,s,et)=>s.has(a)||__typeError$2("Cannot "+et),__privateGet$2=(a,s,et)=>(__accessCheck$2(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$2=(a,s,et)=>s.has(a)?__typeError$2("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$2=(a,s,et,tt)=>(__accessCheck$2(a,s,"write to private field"),s.set(a,et),et),__privateMethod$2=(a,s,et)=>(__accessCheck$2(a,s,"access private method"),et),__privateWrapper=(a,s,et,tt)=>({set _(at){__privateSet$2(a,s,at)},get _(){return __privateGet$2(a,s,tt)}}),_requestId$1,_disconnects,_webSocket,_connectionPromise,_subscriptions,_pendingRequests,_WebsocketClient_instances,setupWebSocket_fn,reconnect_fn;function getWebsocketUrl(a){const s=new URL(a);return s.protocol=s.protocol.replace("http","ws"),s.toString()}const DEFAULT_CLIENT_OPTIONS={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class WebsocketClient{constructor(s,et={}){if(__privateAdd$2(this,_WebsocketClient_instances),__privateAdd$2(this,_requestId$1,0),__privateAdd$2(this,_disconnects,0),__privateAdd$2(this,_webSocket,null),__privateAdd$2(this,_connectionPromise,null),__privateAdd$2(this,_subscriptions,new Set),__privateAdd$2(this,_pendingRequests,new Map),this.endpoint=s,this.options={...DEFAULT_CLIENT_OPTIONS,...et},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl(this.endpoint))}async makeRequest(s,et){const tt=await __privateMethod$2(this,_WebsocketClient_instances,setupWebSocket_fn).call(this);return new Promise((at,ct)=>{__privateSet$2(this,_requestId$1,__privateGet$2(this,_requestId$1)+1),__privateGet$2(this,_pendingRequests).set(__privateGet$2(this,_requestId$1),{resolve:at,reject:ct,timeout:setTimeout(()=>{__privateGet$2(this,_pendingRequests).delete(__privateGet$2(this,_requestId$1)),ct(new Error(`Request timeout: ${s}`))},this.options.callTimeout)}),tt.send(JSON.stringify({jsonrpc:"2.0",id:__privateGet$2(this,_requestId$1),method:s,params:et}))}).then(({error:at,result:ct})=>{if(at)throw new JsonRpcError(at.message,at.code);return ct})}async subscribe(s){const et=new RpcSubscription(s);return __privateGet$2(this,_subscriptions).add(et),await et.subscribe(this),()=>et.unsubscribe(this)}}_requestId$1=new WeakMap;_disconnects=new WeakMap;_webSocket=new WeakMap;_connectionPromise=new WeakMap;_subscriptions=new WeakMap;_pendingRequests=new WeakMap;_WebsocketClient_instances=new WeakSet;setupWebSocket_fn=function(){return __privateGet$2(this,_connectionPromise)?__privateGet$2(this,_connectionPromise):(__privateSet$2(this,_connectionPromise,new Promise(a=>{var s;(s=__privateGet$2(this,_webSocket))==null||s.close(),__privateSet$2(this,_webSocket,new this.options.WebSocketConstructor(this.endpoint)),__privateGet$2(this,_webSocket).addEventListener("open",()=>{__privateSet$2(this,_disconnects,0),a(__privateGet$2(this,_webSocket))}),__privateGet$2(this,_webSocket).addEventListener("close",()=>{__privateWrapper(this,_disconnects)._++,__privateGet$2(this,_disconnects)<=this.options.maxReconnects&&setTimeout(()=>{__privateMethod$2(this,_WebsocketClient_instances,reconnect_fn).call(this)},this.options.reconnectTimeout)}),__privateGet$2(this,_webSocket).addEventListener("message",({data:et})=>{let tt;try{tt=JSON.parse(et)}catch(at){console.error(new Error(`Failed to parse RPC message: ${et}`,{cause:at}));return}if("id"in tt&&tt.id!=null&&__privateGet$2(this,_pendingRequests).has(tt.id)){const{resolve:at,timeout:ct}=__privateGet$2(this,_pendingRequests).get(tt.id);clearTimeout(ct),at(tt)}else if("params"in tt){const{params:at}=tt;__privateGet$2(this,_subscriptions).forEach(ct=>{ct.subscriptionId===at.subscription&&at.subscription===ct.subscriptionId&&ct.onMessage(at.result)})}})})),__privateGet$2(this,_connectionPromise))};reconnect_fn=async function(){var a;return(a=__privateGet$2(this,_webSocket))==null||a.close(),__privateSet$2(this,_connectionPromise,null),Promise.allSettled([...__privateGet$2(this,_subscriptions)].map(s=>s.subscribe(this)))};class RpcSubscription{constructor(s){this.subscriptionId=null,this.subscribed=!1,this.input=s}onMessage(s){this.subscribed&&this.input.onMessage(s)}async unsubscribe(s){const{subscriptionId:et}=this;return this.subscribed=!1,et==null?!1:(this.subscriptionId=null,s.makeRequest(this.input.unsubscribe,[et]))}async subscribe(s){this.subscriptionId=null,this.subscribed=!0;const et=await s.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=et)}}var __typeError$1=a=>{throw TypeError(a)},__accessCheck$1=(a,s,et)=>s.has(a)||__typeError$1("Cannot "+et),__privateGet$1=(a,s,et)=>(__accessCheck$1(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd$1=(a,s,et)=>s.has(a)?__typeError$1("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet$1=(a,s,et,tt)=>(__accessCheck$1(a,s,"write to private field"),s.set(a,et),et),__privateMethod$1=(a,s,et)=>(__accessCheck$1(a,s,"access private method"),et),_requestId,_options,_websocketClient,_SuiHTTPTransport_instances,getWebsocketClient_fn;class SuiHTTPTransport{constructor(s){__privateAdd$1(this,_SuiHTTPTransport_instances),__privateAdd$1(this,_requestId,0),__privateAdd$1(this,_options),__privateAdd$1(this,_websocketClient),__privateSet$1(this,_options,s)}fetch(s,et){const tt=__privateGet$1(this,_options).fetch??fetch;if(!tt)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return tt(s,et)}async request(s){var at,ct;__privateSet$1(this,_requestId,__privateGet$1(this,_requestId)+1);const et=await this.fetch(((at=__privateGet$1(this,_options).rpc)==null?void 0:at.url)??__privateGet$1(this,_options).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":PACKAGE_VERSION,"Client-Target-Api-Version":TARGETED_RPC_VERSION,"Client-Request-Method":s.method,...(ct=__privateGet$1(this,_options).rpc)==null?void 0:ct.headers},body:JSON.stringify({jsonrpc:"2.0",id:__privateGet$1(this,_requestId),method:s.method,params:s.params})});if(!et.ok)throw new SuiHTTPStatusError(`Unexpected status code: ${et.status}`,et.status,et.statusText);const tt=await et.json();if("error"in tt&&tt.error!=null)throw new JsonRpcError(tt.error.message,tt.error.code);return tt.result}async subscribe(s){const et=await __privateMethod$1(this,_SuiHTTPTransport_instances,getWebsocketClient_fn).call(this).subscribe(s);return async()=>!!await et()}}_requestId=new WeakMap;_options=new WeakMap;_websocketClient=new WeakMap;_SuiHTTPTransport_instances=new WeakSet;getWebsocketClient_fn=function(){var a;if(!__privateGet$1(this,_websocketClient)){const s=__privateGet$1(this,_options).WebSocketConstructor??WebSocket;if(!s)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");__privateSet$1(this,_websocketClient,new WebsocketClient(((a=__privateGet$1(this,_options).websocket)==null?void 0:a.url)??__privateGet$1(this,_options).url,{WebSocketConstructor:s,...__privateGet$1(this,_options).websocket}))}return __privateGet$1(this,_websocketClient)};function getFullnodeUrl(a){switch(a){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${a}`)}}const SUI_NS_NAME_REGEX$1=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX$1=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH$1=235;function isValidSuiNSName$1(a){return a.length>MAX_SUI_NS_NAME_LENGTH$1?!1:a.includes("@")?SUI_NS_NAME_REGEX$1.test(a):SUI_NS_DOMAIN_REGEX$1.test(a)}function normalizeSuiNSName$1(a,s="at"){const et=a.toLowerCase();let tt;if(et.includes("@")){if(!SUI_NS_NAME_REGEX$1.test(et))throw new Error(`Invalid SuiNS name ${a}`);const[at,ct]=et.split("@");tt=[...at?at.split("."):[],ct]}else{if(!SUI_NS_DOMAIN_REGEX$1.test(et))throw new Error(`Invalid SuiNS name ${a}`);tt=et.split(".").slice(0,-1)}return s==="dot"?`${tt.join(".")}.sui`:`${tt.slice(0,-1).join(".")}@${tt[tt.length-1]}`}const NAME_PATTERN$1=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX$1=/^\d+$/,MAX_APP_SIZE$1=64,NAME_SEPARATOR$1="/",isValidNamedPackage$1=a=>{const s=a.split(NAME_SEPARATOR$1);if(s.length<2||s.length>3)return!1;const[et,tt,at]=s;return at!==void 0&&!VERSION_REGEX$1.test(at)||!isValidSuiNSName$1(et)?!1:NAME_PATTERN$1.test(tt)&&tt.length<MAX_APP_SIZE$1},TX_DIGEST_LENGTH$1=32;function isValidTransactionDigest$1(a){try{return fromBase58(a).length===TX_DIGEST_LENGTH$1}catch{return!1}}const SUI_ADDRESS_LENGTH$1=32;function isValidSuiAddress$1(a){return isHex$3(a)&&getHexByteLength$1(a)===SUI_ADDRESS_LENGTH$1}function isValidSuiObjectId$1(a){return isValidSuiAddress$1(a)}function parseTypeTag$1(a){return a.includes("::")?parseStructTag$1(a):a}function parseStructTag$1(a){const[s,et]=a.split("::"),tt=isValidNamedPackage$1(s),at=a.slice(s.length+et.length+4),ct=at.includes("<")?at.slice(0,at.indexOf("<")):at,ut=at.includes("<")?splitGenericParameters(at.slice(at.indexOf("<")+1,at.lastIndexOf(">"))).map(bt=>parseTypeTag$1(bt.trim())):[];return{address:tt?s:normalizeSuiAddress$1(s),module:et,name:ct,typeParams:ut}}function normalizeStructTag$1(a){const{address:s,module:et,name:tt,typeParams:at}=typeof a=="string"?parseStructTag$1(a):a,ct=(at==null?void 0:at.length)>0?`<${at.map(ut=>typeof ut=="string"?ut:normalizeStructTag$1(ut)).join(",")}>`:"";return`${s}::${et}::${tt}${ct}`}function normalizeSuiAddress$1(a,s=!1){let et=a.toLowerCase();return!s&&et.startsWith("0x")&&(et=et.slice(2)),`0x${et.padStart(SUI_ADDRESS_LENGTH$1*2,"0")}`}function normalizeSuiObjectId$1(a,s=!1){return normalizeSuiAddress$1(a,s)}function isHex$3(a){return/^(0x|0X)?[a-fA-F0-9]+$/.test(a)&&a.length%2===0}function getHexByteLength$1(a){return/^(0x|0X)/.test(a)?(a.length-2)/2:a.length/2}const VECTOR_REGEX$1=/^vector<(.+)>$/,STRUCT_REGEX$1=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;let TypeTagSerializer$1=class Wl{static parseFromStr(s,et=!1){if(s==="address")return{address:null};if(s==="bool")return{bool:null};if(s==="u8")return{u8:null};if(s==="u16")return{u16:null};if(s==="u32")return{u32:null};if(s==="u64")return{u64:null};if(s==="u128")return{u128:null};if(s==="u256")return{u256:null};if(s==="signer")return{signer:null};const tt=s.match(VECTOR_REGEX$1);if(tt)return{vector:Wl.parseFromStr(tt[1],et)};const at=s.match(STRUCT_REGEX$1);if(at)return{struct:{address:et?normalizeSuiAddress$1(at[1]):at[1],module:at[2],name:at[3],typeParams:at[5]===void 0?[]:Wl.parseStructTypeArgs(at[5],et)}};throw new Error(`Encountered unexpected token when parsing type args for ${s}`)}static parseStructTypeArgs(s,et=!1){return splitGenericParameters(s).map(tt=>Wl.parseFromStr(tt,et))}static tagToString(s){if("bool"in s)return"bool";if("u8"in s)return"u8";if("u16"in s)return"u16";if("u32"in s)return"u32";if("u64"in s)return"u64";if("u128"in s)return"u128";if("u256"in s)return"u256";if("address"in s)return"address";if("signer"in s)return"signer";if("vector"in s)return`vector<${Wl.tagToString(s.vector)}>`;if("struct"in s){const et=s.struct,tt=et.typeParams.map(Wl.tagToString).join(", ");return`${et.address}::${et.module}::${et.name}${tt?`<${tt}>`:""}`}throw new Error("Invalid TypeTag")}};function unsafe_u64$1(a){return bcs$2.u64({name:"unsafe_u64",...a}).transform({input:s=>s,output:s=>Number(s)})}function optionEnum$1(a){return bcs$2.enum("Option",{None:null,Some:a})}const Address$1=bcs$2.bytes(SUI_ADDRESS_LENGTH$1).transform({validate:a=>{const s=typeof a=="string"?a:toHex$2(a);if(!s||!isValidSuiAddress$1(normalizeSuiAddress$1(s)))throw new Error(`Invalid Sui address ${s}`)},input:a=>typeof a=="string"?fromHex(normalizeSuiAddress$1(a)):a,output:a=>normalizeSuiAddress$1(toHex$2(a))}),ObjectDigest$1=bcs$2.vector(bcs$2.u8()).transform({name:"ObjectDigest",input:a=>fromBase58(a),output:a=>toBase58(new Uint8Array(a)),validate:a=>{if(fromBase58(a).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef$1=bcs$2.struct("SuiObjectRef",{objectId:Address$1,version:bcs$2.u64(),digest:ObjectDigest$1}),SharedObjectRef$1=bcs$2.struct("SharedObjectRef",{objectId:Address$1,initialSharedVersion:bcs$2.u64(),mutable:bcs$2.bool()}),ObjectArg$4=bcs$2.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef$1,SharedObject:SharedObjectRef$1,Receiving:SuiObjectRef$1}),CallArg$3=bcs$2.enum("CallArg",{Pure:bcs$2.struct("Pure",{bytes:bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})}),Object:ObjectArg$4}),InnerTypeTag$1=bcs$2.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:bcs$2.lazy(()=>InnerTypeTag$1),struct:bcs$2.lazy(()=>StructTag$2),u16:null,u32:null,u256:null}),TypeTag$2=InnerTypeTag$1.transform({input:a=>typeof a=="string"?TypeTagSerializer$1.parseFromStr(a,!0):a,output:a=>TypeTagSerializer$1.tagToString(a)}),Argument$3=bcs$2.enum("Argument",{GasCoin:null,Input:bcs$2.u16(),Result:bcs$2.u16(),NestedResult:bcs$2.tuple([bcs$2.u16(),bcs$2.u16()])}),ProgrammableMoveCall$3=bcs$2.struct("ProgrammableMoveCall",{package:Address$1,module:bcs$2.string(),function:bcs$2.string(),typeArguments:bcs$2.vector(TypeTag$2),arguments:bcs$2.vector(Argument$3)}),Command$3=bcs$2.enum("Command",{MoveCall:ProgrammableMoveCall$3,TransferObjects:bcs$2.struct("TransferObjects",{objects:bcs$2.vector(Argument$3),address:Argument$3}),SplitCoins:bcs$2.struct("SplitCoins",{coin:Argument$3,amounts:bcs$2.vector(Argument$3)}),MergeCoins:bcs$2.struct("MergeCoins",{destination:Argument$3,sources:bcs$2.vector(Argument$3)}),Publish:bcs$2.struct("Publish",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})),dependencies:bcs$2.vector(Address$1)}),MakeMoveVec:bcs$2.struct("MakeMoveVec",{type:optionEnum$1(TypeTag$2).transform({input:a=>a===null?{None:!0}:{Some:a},output:a=>a.Some??null}),elements:bcs$2.vector(Argument$3)}),Upgrade:bcs$2.struct("Upgrade",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))})),dependencies:bcs$2.vector(Address$1),package:Address$1,ticket:Argument$3})}),ProgrammableTransaction$1=bcs$2.struct("ProgrammableTransaction",{inputs:bcs$2.vector(CallArg$3),commands:bcs$2.vector(Command$3)}),TransactionKind$1=bcs$2.enum("TransactionKind",{ProgrammableTransaction:ProgrammableTransaction$1,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration$4=bcs$2.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64$1()}),StructTag$2=bcs$2.struct("StructTag",{address:Address$1,module:bcs$2.string(),name:bcs$2.string(),typeParams:bcs$2.vector(InnerTypeTag$1)}),GasData$3=bcs$2.struct("GasData",{payment:bcs$2.vector(SuiObjectRef$1),owner:Address$1,price:bcs$2.u64(),budget:bcs$2.u64()}),TransactionDataV1$1=bcs$2.struct("TransactionDataV1",{kind:TransactionKind$1,sender:Address$1,gasData:GasData$3,expiration:TransactionExpiration$4}),TransactionData$2=bcs$2.enum("TransactionData",{V1:TransactionDataV1$1}),IntentScope$1=bcs$2.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion$1=bcs$2.enum("IntentVersion",{V0:null}),AppId$1=bcs$2.enum("AppId",{Sui:null}),Intent$1=bcs$2.struct("Intent",{scope:IntentScope$1,version:IntentVersion$1,appId:AppId$1});function IntentMessage$1(a){return bcs$2.struct(`IntentMessage<${a.name}>`,{intent:Intent$1,value:a})}const CompressedSignature$1=bcs$2.enum("CompressedSignature",{ED25519:bcs$2.fixedArray(64,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(64,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(64,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),PublicKey$1=bcs$2.enum("PublicKey",{ED25519:bcs$2.fixedArray(32,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(33,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(33,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),MultiSigPkMap$1=bcs$2.struct("MultiSigPkMap",{pubKey:PublicKey$1,weight:bcs$2.u8()}),MultiSigPublicKey$1=bcs$2.struct("MultiSigPublicKey",{pk_map:bcs$2.vector(MultiSigPkMap$1),threshold:bcs$2.u16()}),MultiSig$1=bcs$2.struct("MultiSig",{sigs:bcs$2.vector(CompressedSignature$1),bitmap:bcs$2.u16(),multisig_pk:MultiSigPublicKey$1}),base64String$1=bcs$2.vector(bcs$2.u8()).transform({input:a=>typeof a=="string"?fromBase64(a):a,output:a=>toBase64(new Uint8Array(a))}),SenderSignedTransaction$1=bcs$2.struct("SenderSignedTransaction",{intentMessage:IntentMessage$1(TransactionData$2),txSignatures:bcs$2.vector(base64String$1)}),SenderSignedData$1=bcs$2.vector(SenderSignedTransaction$1,{name:"SenderSignedData"}),PasskeyAuthenticator$1=bcs$2.struct("PasskeyAuthenticator",{authenticatorData:bcs$2.vector(bcs$2.u8()),clientDataJson:bcs$2.string(),userSignature:bcs$2.vector(bcs$2.u8())}),PackageUpgradeError$1=bcs$2.enum("PackageUpgradeError",{UnableToFetchPackage:bcs$2.struct("UnableToFetchPackage",{packageId:Address$1}),NotAPackage:bcs$2.struct("NotAPackage",{objectId:Address$1}),IncompatibleUpgrade:null,DigestDoesNotMatch:bcs$2.struct("DigestDoesNotMatch",{digest:bcs$2.vector(bcs$2.u8())}),UnknownUpgradePolicy:bcs$2.struct("UnknownUpgradePolicy",{policy:bcs$2.u8()}),PackageIDDoesNotMatch:bcs$2.struct("PackageIDDoesNotMatch",{packageId:Address$1,ticketId:Address$1})}),ModuleId$1=bcs$2.struct("ModuleId",{address:Address$1,name:bcs$2.string()}),MoveLocation$1=bcs$2.struct("MoveLocation",{module:ModuleId$1,function:bcs$2.u16(),instruction:bcs$2.u16(),functionName:bcs$2.option(bcs$2.string())}),CommandArgumentError$1=bcs$2.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:bcs$2.struct("IndexOutOfBounds",{idx:bcs$2.u16()}),SecondaryIndexOutOfBounds:bcs$2.struct("SecondaryIndexOutOfBounds",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidResultArity:bcs$2.struct("InvalidResultArity",{resultIdx:bcs$2.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError$1=bcs$2.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus$1=bcs$2.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:bcs$2.struct("MoveObjectTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),MovePackageTooBig:bcs$2.struct("MovePackageTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),CircularObjectOwnership:bcs$2.struct("CircularObjectOwnership",{object:Address$1}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:bcs$2.option(MoveLocation$1),MoveAbort:bcs$2.tuple([MoveLocation$1,bcs$2.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:bcs$2.struct("CommandArgumentError",{argIdx:bcs$2.u16(),kind:CommandArgumentError$1}),TypeArgumentError:bcs$2.struct("TypeArgumentError",{argumentIdx:bcs$2.u16(),kind:TypeArgumentError$1}),UnusedValueWithoutDrop:bcs$2.struct("UnusedValueWithoutDrop",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidPublicFunctionReturnType:bcs$2.struct("InvalidPublicFunctionReturnType",{idx:bcs$2.u16()}),InvalidTransferObject:null,EffectsTooLarge:bcs$2.struct("EffectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:bcs$2.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError$1}),WrittenObjectsTooLarge:bcs$2.struct("WrittenObjectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:bcs$2.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:bcs$2.vector(Address$1)}),AddressDeniedForCoin:bcs$2.struct("AddressDeniedForCoin",{address:Address$1,coinType:bcs$2.string()}),CoinTypeGlobalPause:bcs$2.struct("CoinTypeGlobalPause",{coinType:bcs$2.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus$1=bcs$2.enum("ExecutionStatus",{Success:null,Failed:bcs$2.struct("ExecutionFailed",{error:ExecutionFailureStatus$1,command:bcs$2.option(bcs$2.u64())})}),GasCostSummary$1=bcs$2.struct("GasCostSummary",{computationCost:bcs$2.u64(),storageCost:bcs$2.u64(),storageRebate:bcs$2.u64(),nonRefundableStorageFee:bcs$2.u64()}),Owner$1=bcs$2.enum("Owner",{AddressOwner:Address$1,ObjectOwner:Address$1,Shared:bcs$2.struct("Shared",{initialSharedVersion:bcs$2.u64()}),Immutable:null}),TransactionEffectsV1$1=bcs$2.struct("TransactionEffectsV1",{status:ExecutionStatus$1,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$1,modifiedAtVersions:bcs$2.vector(bcs$2.tuple([Address$1,bcs$2.u64()])),sharedObjects:bcs$2.vector(SuiObjectRef$1),transactionDigest:ObjectDigest$1,created:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),mutated:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),unwrapped:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),deleted:bcs$2.vector(SuiObjectRef$1),unwrappedThenDeleted:bcs$2.vector(SuiObjectRef$1),wrapped:bcs$2.vector(SuiObjectRef$1),gasObject:bcs$2.tuple([SuiObjectRef$1,Owner$1]),eventsDigest:bcs$2.option(ObjectDigest$1),dependencies:bcs$2.vector(ObjectDigest$1)}),VersionDigest$1=bcs$2.tuple([bcs$2.u64(),ObjectDigest$1]),ObjectIn$1=bcs$2.enum("ObjectIn",{NotExist:null,Exist:bcs$2.tuple([VersionDigest$1,Owner$1])}),ObjectOut$1=bcs$2.enum("ObjectOut",{NotExist:null,ObjectWrite:bcs$2.tuple([ObjectDigest$1,Owner$1]),PackageWrite:VersionDigest$1}),IDOperation$1=bcs$2.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange$1=bcs$2.struct("EffectsObjectChange",{inputState:ObjectIn$1,outputState:ObjectOut$1,idOperation:IDOperation$1}),UnchangedSharedKind$1=bcs$2.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest$1,MutateDeleted:bcs$2.u64(),ReadDeleted:bcs$2.u64(),Cancelled:bcs$2.u64(),PerEpochConfig:null}),TransactionEffectsV2$1=bcs$2.struct("TransactionEffectsV2",{status:ExecutionStatus$1,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$1,transactionDigest:ObjectDigest$1,gasObjectIndex:bcs$2.option(bcs$2.u32()),eventsDigest:bcs$2.option(ObjectDigest$1),dependencies:bcs$2.vector(ObjectDigest$1),lamportVersion:bcs$2.u64(),changedObjects:bcs$2.vector(bcs$2.tuple([Address$1,EffectsObjectChange$1])),unchangedSharedObjects:bcs$2.vector(bcs$2.tuple([Address$1,UnchangedSharedKind$1])),auxDataDigest:bcs$2.option(ObjectDigest$1)}),TransactionEffects$1=bcs$2.enum("TransactionEffects",{V1:TransactionEffectsV1$1,V2:TransactionEffectsV2$1});function pureBcsSchemaFromTypeName$1(a){switch(a){case"u8":return bcs$2.u8();case"u16":return bcs$2.u16();case"u32":return bcs$2.u32();case"u64":return bcs$2.u64();case"u128":return bcs$2.u128();case"u256":return bcs$2.u256();case"bool":return bcs$2.bool();case"string":return bcs$2.string();case"id":case"address":return Address$1}const s=a.match(/^(vector|option)<(.+)>$/);if(s){const[et,tt]=s.slice(1);return et==="vector"?bcs$2.vector(pureBcsSchemaFromTypeName$1(tt)):bcs$2.option(pureBcsSchemaFromTypeName$1(tt))}throw new Error(`Invalid Pure type name: ${a}`)}const suiBcs$1={...bcs$2,U8:bcs$2.u8(),U16:bcs$2.u16(),U32:bcs$2.u32(),U64:bcs$2.u64(),U128:bcs$2.u128(),U256:bcs$2.u256(),ULEB128:bcs$2.uleb128(),Bool:bcs$2.bool(),String:bcs$2.string(),Address:Address$1,AppId:AppId$1,Argument:Argument$3,CallArg:CallArg$3,CompressedSignature:CompressedSignature$1,GasData:GasData$3,Intent:Intent$1,IntentMessage:IntentMessage$1,IntentScope:IntentScope$1,IntentVersion:IntentVersion$1,MultiSig:MultiSig$1,MultiSigPkMap:MultiSigPkMap$1,MultiSigPublicKey:MultiSigPublicKey$1,ObjectArg:ObjectArg$4,ObjectDigest:ObjectDigest$1,ProgrammableMoveCall:ProgrammableMoveCall$3,ProgrammableTransaction:ProgrammableTransaction$1,PublicKey:PublicKey$1,SenderSignedData:SenderSignedData$1,SenderSignedTransaction:SenderSignedTransaction$1,SharedObjectRef:SharedObjectRef$1,StructTag:StructTag$2,SuiObjectRef:SuiObjectRef$1,Command:Command$3,TransactionData:TransactionData$2,TransactionDataV1:TransactionDataV1$1,TransactionExpiration:TransactionExpiration$4,TransactionKind:TransactionKind$1,TypeTag:TypeTag$2,TransactionEffects:TransactionEffects$1,PasskeyAuthenticator:PasskeyAuthenticator$1};BigInt(1e9);const MOVE_STDLIB_ADDRESS$1="0x1",SUI_FRAMEWORK_ADDRESS$1="0x2",SUI_CLOCK_OBJECT_ID$1=normalizeSuiObjectId$1("0x6"),SUI_TYPE_ARG$1=`${SUI_FRAMEWORK_ADDRESS$1}::sui::SUI`;normalizeSuiObjectId$1("0x5");const OBJECT_MODULE_NAME="object",ID_STRUCT_NAME="ID",STD_ASCII_MODULE_NAME="ascii",STD_ASCII_STRUCT_NAME="String",STD_UTF8_MODULE_NAME="string",STD_UTF8_STRUCT_NAME="String",STD_OPTION_MODULE_NAME="option",STD_OPTION_STRUCT_NAME="Option";function isTxContext(a){const s=typeof a.body=="object"&&"datatype"in a.body?a.body.datatype:null;return!!s&&normalizeSuiAddress$1(s.package)===normalizeSuiAddress$1("0x2")&&s.module==="tx_context"&&s.type==="TxContext"}function getPureBcsSchema(a){if(typeof a=="string")switch(a){case"address":return suiBcs$1.Address;case"bool":return suiBcs$1.Bool;case"u8":return suiBcs$1.U8;case"u16":return suiBcs$1.U16;case"u32":return suiBcs$1.U32;case"u64":return suiBcs$1.U64;case"u128":return suiBcs$1.U128;case"u256":return suiBcs$1.U256;default:throw new Error(`Unknown type signature ${a}`)}if("vector"in a){if(a.vector==="u8")return suiBcs$1.vector(suiBcs$1.U8).transform({input:et=>typeof et=="string"?new TextEncoder().encode(et):et,output:et=>et});const s=getPureBcsSchema(a.vector);return s?suiBcs$1.vector(s):null}if("datatype"in a){const s=normalizeSuiAddress$1(a.datatype.package);if(s===normalizeSuiAddress$1(MOVE_STDLIB_ADDRESS$1)){if(a.datatype.module===STD_ASCII_MODULE_NAME&&a.datatype.type===STD_ASCII_STRUCT_NAME||a.datatype.module===STD_UTF8_MODULE_NAME&&a.datatype.type===STD_UTF8_STRUCT_NAME)return suiBcs$1.String;if(a.datatype.module===STD_OPTION_MODULE_NAME&&a.datatype.type===STD_OPTION_STRUCT_NAME){const et=getPureBcsSchema(a.datatype.typeParameters[0]);return et?suiBcs$1.vector(et):null}}if(s===normalizeSuiAddress$1(SUI_FRAMEWORK_ADDRESS$1)&&a.datatype.module===OBJECT_MODULE_NAME&&a.datatype.type===ID_STRUCT_NAME)return suiBcs$1.Address}return null}function normalizedTypeToMoveTypeSignature(a){return typeof a=="object"&&"Reference"in a?{ref:"&",body:normalizedTypeToMoveTypeSignatureBody(a.Reference)}:typeof a=="object"&&"MutableReference"in a?{ref:"&mut",body:normalizedTypeToMoveTypeSignatureBody(a.MutableReference)}:{ref:null,body:normalizedTypeToMoveTypeSignatureBody(a)}}function normalizedTypeToMoveTypeSignatureBody(a){if(typeof a=="string")switch(a){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${a}`)}if("Vector"in a)return{vector:normalizedTypeToMoveTypeSignatureBody(a.Vector)};if("Struct"in a)return{datatype:{package:a.Struct.address,module:a.Struct.module,type:a.Struct.name,typeParameters:a.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody)}};if("TypeParameter"in a)return{typeParameter:a.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(a)}`)}function Pure(a){return{$kind:"Pure",Pure:{bytes:a instanceof Uint8Array?toBase64(a):a.toBase64()}}}const Inputs={Pure,ObjectRef({objectId:a,digest:s,version:et}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:s,version:et,objectId:normalizeSuiAddress$1(a)}}}},SharedObjectRef({objectId:a,mutable:s,initialSharedVersion:et}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:s,initialSharedVersion:et,objectId:normalizeSuiAddress$1(a)}}}},ReceivingRef({objectId:a,digest:s,version:et}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:s,version:et,objectId:normalizeSuiAddress$1(a)}}}}};function safeEnum(a){const s=Object.entries(a).map(([et,tt])=>object$1({[et]:tt}));return pipe$4(union(s),transform$2(et=>({...et,$kind:Object.keys(et)[0]})))}const SuiAddress=pipe$4(string(),transform$2(a=>normalizeSuiAddress$1(a)),check$1(isValidSuiAddress$1)),ObjectID=SuiAddress,BCSBytes=string(),JsonU64=pipe$4(union([string(),pipe$4(number$1(),integer())]),check$1(a=>{try{return BigInt(a),BigInt(a)>=0&&BigInt(a)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ObjectRef$1=object$1({objectId:SuiAddress,version:JsonU64,digest:string()}),Argument$2=pipe$4(union([object$1({GasCoin:literal(!0)}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("pure"))}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("object"))}),object$1({Result:pipe$4(number$1(),integer())}),object$1({NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])})]),transform$2(a=>({...a,$kind:Object.keys(a)[0]}))),GasData$2=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),OpenMoveTypeSignatureBody=union([literal("address"),literal("bool"),literal("u8"),literal("u16"),literal("u32"),literal("u64"),literal("u128"),literal("u256"),object$1({vector:lazy(()=>OpenMoveTypeSignatureBody)}),object$1({datatype:object$1({package:string(),module:string(),type:string(),typeParameters:array(lazy(()=>OpenMoveTypeSignatureBody))})}),object$1({typeParameter:pipe$4(number$1(),integer())})]),OpenMoveTypeSignature=object$1({ref:nullable(union([literal("&"),literal("&mut")])),body:OpenMoveTypeSignatureBody}),ProgrammableMoveCall$2=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$2),_argumentTypes:optional(nullable(array(OpenMoveTypeSignature)))}),$Intent$1=object$1({name:string(),inputs:record(string(),union([Argument$2,array(Argument$2)])),data:record(string(),unknown())}),Command$2=safeEnum({MoveCall:ProgrammableMoveCall$2,TransferObjects:object$1({objects:array(Argument$2),address:Argument$2}),SplitCoins:object$1({coin:Argument$2,amounts:array(Argument$2)}),MergeCoins:object$1({destination:Argument$2,sources:array(Argument$2)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$2)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$2}),$Intent:$Intent$1}),ObjectArg$3=safeEnum({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$2=safeEnum({Object:ObjectArg$3,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),NormalizedCallArg$1=safeEnum({Object:ObjectArg$3,Pure:object$1({bytes:BCSBytes})}),TransactionExpiration$3=safeEnum({None:literal(!0),Epoch:JsonU64}),TransactionData$1=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$3),gasData:GasData$2,inputs:array(CallArg$2),commands:array(Command$2)}),Commands={MoveCall(a){const[s,et="",tt=""]="target"in a?a.target.split("::"):[a.package,a.module,a.function];return{$kind:"MoveCall",MoveCall:{package:s,module:et,function:tt,typeArguments:a.typeArguments??[],arguments:a.arguments??[]}}},TransferObjects(a,s){return{$kind:"TransferObjects",TransferObjects:{objects:a.map(et=>parse$2(Argument$2,et)),address:parse$2(Argument$2,s)}}},SplitCoins(a,s){return{$kind:"SplitCoins",SplitCoins:{coin:parse$2(Argument$2,a),amounts:s.map(et=>parse$2(Argument$2,et))}}},MergeCoins(a,s){return{$kind:"MergeCoins",MergeCoins:{destination:parse$2(Argument$2,a),sources:s.map(et=>parse$2(Argument$2,et))}}},Publish({modules:a,dependencies:s}){return{$kind:"Publish",Publish:{modules:a.map(et=>typeof et=="string"?et:toBase64(new Uint8Array(et))),dependencies:s.map(et=>normalizeSuiObjectId$1(et))}}},Upgrade({modules:a,dependencies:s,package:et,ticket:tt}){return{$kind:"Upgrade",Upgrade:{modules:a.map(at=>typeof at=="string"?at:toBase64(new Uint8Array(at))),dependencies:s.map(at=>normalizeSuiObjectId$1(at)),package:et,ticket:parse$2(Argument$2,tt)}}},MakeMoveVec({type:a,elements:s}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:a??null,elements:s.map(et=>parse$2(Argument$2,et))}}},Intent({name:a,inputs:s={},data:et={}}){return{$kind:"$Intent",$Intent:{name:a,inputs:Object.fromEntries(Object.entries(s).map(([tt,at])=>[tt,Array.isArray(at)?at.map(ct=>parse$2(Argument$2,ct)):parse$2(Argument$2,at)])),data:et}}}},ObjectRef=object$1({digest:string(),objectId:string(),version:union([pipe$4(number$1(),integer()),string(),bigint()])}),ObjectArg$2=safeEnum({ImmOrOwned:ObjectRef,Shared:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef}),NormalizedCallArg=safeEnum({Object:ObjectArg$2,Pure:array(pipe$4(number$1(),integer()))}),TransactionInput=union([object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:optional(literal("object"))}),object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:literal("pure")})]),TransactionExpiration$2=union([object$1({Epoch:pipe$4(number$1(),integer())}),object$1({None:nullable(literal(!0))})]),StringEncodedBigint=pipe$4(union([number$1(),string(),bigint()]),check$1(a=>{if(!["string","number","bigint"].includes(typeof a))return!1;try{return BigInt(a),!0}catch{return!1}})),TypeTag$1=union([object$1({bool:nullable(literal(!0))}),object$1({u8:nullable(literal(!0))}),object$1({u64:nullable(literal(!0))}),object$1({u128:nullable(literal(!0))}),object$1({address:nullable(literal(!0))}),object$1({signer:nullable(literal(!0))}),object$1({vector:lazy(()=>TypeTag$1)}),object$1({struct:lazy(()=>StructTag$1)}),object$1({u16:nullable(literal(!0))}),object$1({u32:nullable(literal(!0))}),object$1({u256:nullable(literal(!0))})]),StructTag$1=object$1({address:string(),module:string(),name:string(),typeParams:array(TypeTag$1)}),GasConfig=object$1({budget:optional(StringEncodedBigint),price:optional(StringEncodedBigint),payment:optional(array(ObjectRef)),owner:optional(string())}),TransactionArgumentTypes=[TransactionInput,object$1({kind:literal("GasCoin")}),object$1({kind:literal("Result"),index:pipe$4(number$1(),integer())}),object$1({kind:literal("NestedResult"),index:pipe$4(number$1(),integer()),resultIndex:pipe$4(number$1(),integer())})],TransactionArgument=union([...TransactionArgumentTypes]),MoveCallTransaction=object$1({kind:literal("MoveCall"),target:pipe$4(string(),check$1(a=>a.split("::").length===3)),typeArguments:array(string()),arguments:array(TransactionArgument)}),TransferObjectsTransaction=object$1({kind:literal("TransferObjects"),objects:array(TransactionArgument),address:TransactionArgument}),SplitCoinsTransaction=object$1({kind:literal("SplitCoins"),coin:TransactionArgument,amounts:array(TransactionArgument)}),MergeCoinsTransaction=object$1({kind:literal("MergeCoins"),destination:TransactionArgument,sources:array(TransactionArgument)}),MakeMoveVecTransaction=object$1({kind:literal("MakeMoveVec"),type:union([object$1({Some:TypeTag$1}),object$1({None:nullable(literal(!0))})]),objects:array(TransactionArgument)}),PublishTransaction=object$1({kind:literal("Publish"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string())}),UpgradeTransaction=object$1({kind:literal("Upgrade"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string()),packageId:string(),ticket:TransactionArgument}),TransactionTypes=[MoveCallTransaction,TransferObjectsTransaction,SplitCoinsTransaction,MergeCoinsTransaction,PublishTransaction,UpgradeTransaction,MakeMoveVecTransaction],TransactionType=union([...TransactionTypes]);object$1({version:literal(1),sender:optional(string()),expiration:nullish(TransactionExpiration$2),gasConfig:GasConfig,inputs:array(TransactionInput),transactions:array(TransactionType)});function serializeV1TransactionData(a){var et;const s=a.inputs.map((tt,at)=>{if(tt.Object)return{kind:"Input",index:at,value:{Object:tt.Object.ImmOrOwnedObject?{ImmOrOwned:tt.Object.ImmOrOwnedObject}:tt.Object.Receiving?{Receiving:{digest:tt.Object.Receiving.digest,version:tt.Object.Receiving.version,objectId:tt.Object.Receiving.objectId}}:{Shared:{mutable:tt.Object.SharedObject.mutable,initialSharedVersion:tt.Object.SharedObject.initialSharedVersion,objectId:tt.Object.SharedObject.objectId}}},type:"object"};if(tt.Pure)return{kind:"Input",index:at,value:{Pure:Array.from(fromBase64(tt.Pure.bytes))},type:"pure"};if(tt.UnresolvedPure)return{kind:"Input",type:"pure",index:at,value:tt.UnresolvedPure.value};if(tt.UnresolvedObject)return{kind:"Input",type:"object",index:at,value:tt.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:a.sender??void 0,expiration:((et=a.expiration)==null?void 0:et.$kind)==="Epoch"?{Epoch:Number(a.expiration.Epoch)}:a.expiration?{None:!0}:null,gasConfig:{owner:a.gasData.owner??void 0,budget:a.gasData.budget??void 0,price:a.gasData.price??void 0,payment:a.gasData.payment??void 0},inputs:s,transactions:a.commands.map(tt=>{if(tt.MakeMoveVec)return{kind:"MakeMoveVec",type:tt.MakeMoveVec.type===null?{None:!0}:{Some:TypeTagSerializer$1.parseFromStr(tt.MakeMoveVec.type)},objects:tt.MakeMoveVec.elements.map(at=>convertTransactionArgument(at,s))};if(tt.MergeCoins)return{kind:"MergeCoins",destination:convertTransactionArgument(tt.MergeCoins.destination,s),sources:tt.MergeCoins.sources.map(at=>convertTransactionArgument(at,s))};if(tt.MoveCall)return{kind:"MoveCall",target:`${tt.MoveCall.package}::${tt.MoveCall.module}::${tt.MoveCall.function}`,typeArguments:tt.MoveCall.typeArguments,arguments:tt.MoveCall.arguments.map(at=>convertTransactionArgument(at,s))};if(tt.Publish)return{kind:"Publish",modules:tt.Publish.modules.map(at=>Array.from(fromBase64(at))),dependencies:tt.Publish.dependencies};if(tt.SplitCoins)return{kind:"SplitCoins",coin:convertTransactionArgument(tt.SplitCoins.coin,s),amounts:tt.SplitCoins.amounts.map(at=>convertTransactionArgument(at,s))};if(tt.TransferObjects)return{kind:"TransferObjects",objects:tt.TransferObjects.objects.map(at=>convertTransactionArgument(at,s)),address:convertTransactionArgument(tt.TransferObjects.address,s)};if(tt.Upgrade)return{kind:"Upgrade",modules:tt.Upgrade.modules.map(at=>Array.from(fromBase64(at))),dependencies:tt.Upgrade.dependencies,packageId:tt.Upgrade.package,ticket:convertTransactionArgument(tt.Upgrade.ticket,s)};throw new Error(`Unknown transaction ${Object.keys(tt)}`)})}}function convertTransactionArgument(a,s){if(a.$kind==="GasCoin")return{kind:"GasCoin"};if(a.$kind==="Result")return{kind:"Result",index:a.Result};if(a.$kind==="NestedResult")return{kind:"NestedResult",index:a.NestedResult[0],resultIndex:a.NestedResult[1]};if(a.$kind==="Input")return s[a.Input];throw new Error(`Invalid argument ${Object.keys(a)}`)}function transactionDataFromV1(a){var s,et,tt;return parse$2(TransactionData$1,{version:2,sender:a.sender??null,expiration:a.expiration?"Epoch"in a.expiration?{Epoch:a.expiration.Epoch}:{None:!0}:null,gasData:{owner:a.gasConfig.owner??null,budget:((s=a.gasConfig.budget)==null?void 0:s.toString())??null,price:((et=a.gasConfig.price)==null?void 0:et.toString())??null,payment:((tt=a.gasConfig.payment)==null?void 0:tt.map(at=>({digest:at.digest,objectId:at.objectId,version:at.version.toString()})))??null},inputs:a.inputs.map(at=>{if(at.kind==="Input"){if(is(NormalizedCallArg,at.value)){const ct=parse$2(NormalizedCallArg,at.value);if(ct.Object){if(ct.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:ct.Object.ImmOrOwned.objectId,version:String(ct.Object.ImmOrOwned.version),digest:ct.Object.ImmOrOwned.digest}}};if(ct.Object.Shared)return{Object:{SharedObject:{mutable:ct.Object.Shared.mutable??null,initialSharedVersion:ct.Object.Shared.initialSharedVersion,objectId:ct.Object.Shared.objectId}}};if(ct.Object.Receiving)return{Object:{Receiving:{digest:ct.Object.Receiving.digest,version:String(ct.Object.Receiving.version),objectId:ct.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:toBase64(new Uint8Array(ct.Pure))}}}return at.type==="object"?{UnresolvedObject:{objectId:at.value}}:{UnresolvedPure:{value:at.value}}}throw new Error("Invalid input")}),commands:a.transactions.map(at=>{switch(at.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in at.type?TypeTagSerializer$1.tagToString(at.type.Some):null,elements:at.objects.map(ct=>parseV1TransactionArgument(ct))}};case"MergeCoins":return{MergeCoins:{destination:parseV1TransactionArgument(at.destination),sources:at.sources.map(ct=>parseV1TransactionArgument(ct))}};case"MoveCall":{const[ct,ut,bt]=at.target.split("::");return{MoveCall:{package:ct,module:ut,function:bt,typeArguments:at.typeArguments,arguments:at.arguments.map(wt=>parseV1TransactionArgument(wt))}}}case"Publish":return{Publish:{modules:at.modules.map(ct=>toBase64(Uint8Array.from(ct))),dependencies:at.dependencies}};case"SplitCoins":return{SplitCoins:{coin:parseV1TransactionArgument(at.coin),amounts:at.amounts.map(ct=>parseV1TransactionArgument(ct))}};case"TransferObjects":return{TransferObjects:{objects:at.objects.map(ct=>parseV1TransactionArgument(ct)),address:parseV1TransactionArgument(at.address)}};case"Upgrade":return{Upgrade:{modules:at.modules.map(ct=>toBase64(Uint8Array.from(ct))),dependencies:at.dependencies,package:at.packageId,ticket:parseV1TransactionArgument(at.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(at)}`)})})}function parseV1TransactionArgument(a){switch(a.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:a.index};case"NestedResult":return{NestedResult:[a.index,a.resultIndex]};case"Input":return{Input:a.index}}}function enumUnion(a){return union(Object.entries(a).map(([s,et])=>object$1({[s]:et})))}const Argument$1=enumUnion({GasCoin:literal(!0),Input:pipe$4(number$1(),integer()),Result:pipe$4(number$1(),integer()),NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])}),GasData$1=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),ProgrammableMoveCall$1=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$1)}),$Intent=object$1({name:string(),inputs:record(string(),union([Argument$1,array(Argument$1)])),data:record(string(),unknown())}),Command$1=enumUnion({MoveCall:ProgrammableMoveCall$1,TransferObjects:object$1({objects:array(Argument$1),address:Argument$1}),SplitCoins:object$1({coin:Argument$1,amounts:array(Argument$1)}),MergeCoins:object$1({destination:Argument$1,sources:array(Argument$1)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$1)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$1}),$Intent}),ObjectArg$1=enumUnion({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$1=enumUnion({Object:ObjectArg$1,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),TransactionExpiration$1=enumUnion({None:literal(!0),Epoch:JsonU64}),SerializedTransactionDataV2=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$1),gasData:GasData$1,inputs:array(CallArg$1),commands:array(Command$1)}),MAX_OBJECTS_PER_FETCH=50,GAS_SAFE_OVERHEAD=1000n,MAX_GAS=5e10;async function resolveTransactionData(a,s,et){return await normalizeInputs(a,s),await resolveObjectReferences(a,s),s.onlyTransactionKind||(await setGasPrice(a,s),await setGasBudget(a,s),await setGasPayment(a,s)),await validate$1(a),await et()}async function setGasPrice(a,s){a.gasConfig.price||(a.gasConfig.price=String(await getClient(s).getReferenceGasPrice()))}async function setGasBudget(a,s){if(a.gasConfig.budget)return;const et=await getClient(s).dryRunTransactionBlock({transactionBlock:a.build({overrides:{gasData:{budget:String(MAX_GAS),payment:[]}}})});if(et.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${et.effects.status.error}`,{cause:et});const tt=GAS_SAFE_OVERHEAD*BigInt(a.gasConfig.price||1n),at=BigInt(et.effects.gasUsed.computationCost)+tt,ct=at+BigInt(et.effects.gasUsed.storageCost)-BigInt(et.effects.gasUsed.storageRebate);a.gasConfig.budget=String(ct>at?ct:at)}async function setGasPayment(a,s){if(!a.gasConfig.payment){const tt=(await getClient(s).getCoins({owner:a.gasConfig.owner||a.sender,coinType:SUI_TYPE_ARG$1})).data.filter(at=>!a.inputs.find(ut=>{var bt;return(bt=ut.Object)!=null&&bt.ImmOrOwnedObject?at.coinObjectId===ut.Object.ImmOrOwnedObject.objectId:!1})).map(at=>({objectId:at.coinObjectId,digest:at.digest,version:at.version}));if(!tt.length)throw new Error("No valid gas coins found for the transaction.");a.gasConfig.payment=tt.map(at=>parse$2(ObjectRef$1,at))}}async function resolveObjectReferences(a,s){const et=a.inputs.filter(Ft=>{var jt;return Ft.UnresolvedObject&&!(Ft.UnresolvedObject.version||(jt=Ft.UnresolvedObject)!=null&&jt.initialSharedVersion)}),tt=[...new Set(et.map(Ft=>normalizeSuiObjectId$1(Ft.UnresolvedObject.objectId)))],at=tt.length?chunk(tt,MAX_OBJECTS_PER_FETCH):[],ct=(await Promise.all(at.map(Ft=>getClient(s).multiGetObjects({ids:Ft,options:{showOwner:!0}})))).flat(),ut=new Map(tt.map((Ft,jt)=>[Ft,ct[jt]])),bt=Array.from(ut).filter(([Ft,jt])=>jt.error).map(([Ft,jt])=>JSON.stringify(jt.error));if(bt.length)throw new Error(`The following input objects are invalid: ${bt.join(", ")}`);const wt=ct.map(Ft=>{if(Ft.error||!Ft.data)throw new Error(`Failed to fetch object: ${Ft.error}`);const jt=Ft.data.owner,Lt=jt&&typeof jt=="object"&&"Shared"in jt?jt.Shared.initial_shared_version:null;return{objectId:Ft.data.objectId,digest:Ft.data.digest,version:Ft.data.version,initialSharedVersion:Lt}}),Et=new Map(tt.map((Ft,jt)=>[Ft,wt[jt]]));for(const[Ft,jt]of a.inputs.entries()){if(!jt.UnresolvedObject)continue;let Lt;const Ut=normalizeSuiAddress$1(jt.UnresolvedObject.objectId),Vt=Et.get(Ut);jt.UnresolvedObject.initialSharedVersion??(Vt==null?void 0:Vt.initialSharedVersion)?Lt=Inputs.SharedObjectRef({objectId:Ut,initialSharedVersion:jt.UnresolvedObject.initialSharedVersion||(Vt==null?void 0:Vt.initialSharedVersion),mutable:isUsedAsMutable(a,Ft)}):isUsedAsReceiving(a,Ft)&&(Lt=Inputs.ReceivingRef({objectId:Ut,digest:jt.UnresolvedObject.digest??(Vt==null?void 0:Vt.digest),version:jt.UnresolvedObject.version??(Vt==null?void 0:Vt.version)})),a.inputs[a.inputs.indexOf(jt)]=Lt??Inputs.ObjectRef({objectId:Ut,digest:jt.UnresolvedObject.digest??(Vt==null?void 0:Vt.digest),version:jt.UnresolvedObject.version??(Vt==null?void 0:Vt.version)})}}async function normalizeInputs(a,s){const{inputs:et,commands:tt}=a,at=[],ct=new Set;tt.forEach(bt=>{if(bt.MoveCall){if(bt.MoveCall._argumentTypes)return;if(bt.MoveCall.arguments.map(Ft=>Ft.$kind==="Input"?a.inputs[Ft.Input]:null).some(Ft=>(Ft==null?void 0:Ft.UnresolvedPure)||(Ft==null?void 0:Ft.UnresolvedObject))){const Ft=`${bt.MoveCall.package}::${bt.MoveCall.module}::${bt.MoveCall.function}`;ct.add(Ft),at.push(bt.MoveCall)}}switch(bt.$kind){case"SplitCoins":bt.SplitCoins.amounts.forEach(wt=>{normalizeRawArgument(wt,suiBcs$1.U64,a)});break;case"TransferObjects":normalizeRawArgument(bt.TransferObjects.address,suiBcs$1.Address,a);break}});const ut=new Map;if(ct.size>0){const bt=getClient(s);await Promise.all([...ct].map(async wt=>{const[Et,Ft,jt]=wt.split("::"),Lt=await bt.getNormalizedMoveFunction({package:Et,module:Ft,function:jt});ut.set(wt,Lt.parameters.map(Ut=>normalizedTypeToMoveTypeSignature(Ut)))}))}at.length&&await Promise.all(at.map(async bt=>{const wt=ut.get(`${bt.package}::${bt.module}::${bt.function}`);if(!wt)return;const Ft=wt.length>0&&isTxContext(wt.at(-1))?wt.slice(0,wt.length-1):wt;bt._argumentTypes=Ft})),tt.forEach(bt=>{if(!bt.MoveCall)return;const wt=bt.MoveCall,Et=`${wt.package}::${wt.module}::${wt.function}`,Ft=wt._argumentTypes;if(Ft){if(Ft.length!==bt.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${Et}`);Ft.forEach((jt,Lt)=>{var nr,ir;const Ut=wt.arguments[Lt];if(Ut.$kind!=="Input")return;const Vt=et[Ut.Input];if(!Vt.UnresolvedPure&&!Vt.UnresolvedObject)return;const Yt=((nr=Vt.UnresolvedPure)==null?void 0:nr.value)??((ir=Vt.UnresolvedObject)==null?void 0:ir.objectId),er=getPureBcsSchema(jt.body);if(er){Ut.type="pure",et[et.indexOf(Vt)]=Inputs.Pure(er.serialize(Yt));return}if(typeof Yt!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(Yt,null,2)}`);Ut.type="object";const tr=Vt.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Yt}}:Vt;et[Ut.Input]=tr})}})}function validate$1(a){a.inputs.forEach((s,et)=>{if(s.$kind!=="Object"&&s.$kind!=="Pure")throw new Error(`Input at index ${et} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(s)}`)})}function normalizeRawArgument(a,s,et){if(a.$kind!=="Input")return;const tt=et.inputs[a.Input];tt.$kind==="UnresolvedPure"&&(et.inputs[a.Input]=Inputs.Pure(s.serialize(tt.UnresolvedPure.value)))}function isUsedAsMutable(a,s){let et=!1;return a.getInputUses(s,(tt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const ct=at.MoveCall.arguments.indexOf(tt);et=at.MoveCall._argumentTypes[ct].ref!=="&"||et}(at.$kind==="MakeMoveVec"||at.$kind==="MergeCoins"||at.$kind==="SplitCoins")&&(et=!0)}),et}function isUsedAsReceiving(a,s){let et=!1;return a.getInputUses(s,(tt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const ct=at.MoveCall.arguments.indexOf(tt);et=isReceivingType(at.MoveCall._argumentTypes[ct])||et}}),et}function isReceivingType(a){return typeof a.body!="object"||!("datatype"in a.body)?!1:a.body.datatype.package==="0x2"&&a.body.datatype.module==="transfer"&&a.body.datatype.type==="Receiving"}function getClient(a){if(!a.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return a.client}function chunk(a,s){return Array.from({length:Math.ceil(a.length/s)},(et,tt)=>a.slice(tt*s,tt*s+s))}function createObjectMethods(a){function s(et){return a(et)}return s.system=()=>s("0x5"),s.clock=()=>s("0x6"),s.random=()=>s("0x8"),s.denyList=()=>s("0x403"),s.option=({type:et,value:tt})=>at=>at.moveCall({typeArguments:[et],target:`0x1::option::${tt===null?"none":"some"}`,arguments:tt===null?[]:[at.object(tt)]}),s}function createPure(a){function s(et,tt){if(typeof et=="string")return a(pureBcsSchemaFromTypeName$1(et).serialize(tt));if(et instanceof Uint8Array||isSerializedBcs(et))return a(et);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return s.u8=et=>a(suiBcs$1.U8.serialize(et)),s.u16=et=>a(suiBcs$1.U16.serialize(et)),s.u32=et=>a(suiBcs$1.U32.serialize(et)),s.u64=et=>a(suiBcs$1.U64.serialize(et)),s.u128=et=>a(suiBcs$1.U128.serialize(et)),s.u256=et=>a(suiBcs$1.U256.serialize(et)),s.bool=et=>a(suiBcs$1.Bool.serialize(et)),s.string=et=>a(suiBcs$1.String.serialize(et)),s.address=et=>a(suiBcs$1.Address.serialize(et)),s.id=s.address,s.vector=(et,tt)=>a(suiBcs$1.vector(pureBcsSchemaFromTypeName$1(et)).serialize(tt)),s.option=(et,tt)=>a(suiBcs$1.option(pureBcsSchemaFromTypeName$1(et)).serialize(tt)),s}function hashTypedData(a,s){const et=Array.from(`${a}::`).map(at=>at.charCodeAt(0)),tt=new Uint8Array(et.length+s.length);return tt.set(et),tt.set(s,et.length),blake2b$1(tt,{dkLen:32})}function prepareSuiAddress(a){return normalizeSuiAddress$1(a).replace("0x","")}class TransactionDataBuilder{constructor(s){this.version=2,this.sender=(s==null?void 0:s.sender)??null,this.expiration=(s==null?void 0:s.expiration)??null,this.inputs=(s==null?void 0:s.inputs)??[],this.commands=(s==null?void 0:s.commands)??[],this.gasData=(s==null?void 0:s.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(s){const tt=suiBcs$1.TransactionKind.parse(s).ProgrammableTransaction;if(!tt)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:tt.inputs,commands:tt.commands})}static fromBytes(s){const et=suiBcs$1.TransactionData.parse(s),tt=et==null?void 0:et.V1,at=tt.kind.ProgrammableTransaction;if(!tt||!at)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:tt.sender,expiration:tt.expiration,gasData:tt.gasData,inputs:at.inputs,commands:at.commands})}static restore(s){return s.version===2?new TransactionDataBuilder(parse$2(TransactionData$1,s)):new TransactionDataBuilder(parse$2(TransactionData$1,transactionDataFromV1(s)))}static getDigestFromBytes(s){const et=hashTypedData("TransactionData",s);return toBase58(et)}get gasConfig(){return this.gasData}set gasConfig(s){this.gasData=s}build({maxSizeBytes:s=1/0,overrides:et,onlyTransactionKind:tt}={}){const at=this.inputs,ct=this.commands,ut={ProgrammableTransaction:{inputs:at,commands:ct}};if(tt)return suiBcs$1.TransactionKind.serialize(ut,{maxSize:s}).toBytes();const bt=(et==null?void 0:et.expiration)??this.expiration,wt=(et==null?void 0:et.sender)??this.sender,Et={...this.gasData,...et==null?void 0:et.gasConfig,...et==null?void 0:et.gasData};if(!wt)throw new Error("Missing transaction sender");if(!Et.budget)throw new Error("Missing gas budget");if(!Et.payment)throw new Error("Missing gas payment");if(!Et.price)throw new Error("Missing gas price");const Ft={sender:prepareSuiAddress(wt),expiration:bt||{None:!0},gasData:{payment:Et.payment,owner:prepareSuiAddress(this.gasData.owner??wt),price:BigInt(Et.price),budget:BigInt(Et.budget)},kind:{ProgrammableTransaction:{inputs:at,commands:ct}}};return suiBcs$1.TransactionData.serialize({V1:Ft},{maxSize:s}).toBytes()}addInput(s,et){const tt=this.inputs.length;return this.inputs.push(et),{Input:tt,type:s,$kind:"Input"}}getInputUses(s,et){this.mapArguments((tt,at)=>(tt.$kind==="Input"&&tt.Input===s&&et(tt,at),tt))}mapArguments(s){for(const et of this.commands)switch(et.$kind){case"MoveCall":et.MoveCall.arguments=et.MoveCall.arguments.map(at=>s(at,et));break;case"TransferObjects":et.TransferObjects.objects=et.TransferObjects.objects.map(at=>s(at,et)),et.TransferObjects.address=s(et.TransferObjects.address,et);break;case"SplitCoins":et.SplitCoins.coin=s(et.SplitCoins.coin,et),et.SplitCoins.amounts=et.SplitCoins.amounts.map(at=>s(at,et));break;case"MergeCoins":et.MergeCoins.destination=s(et.MergeCoins.destination,et),et.MergeCoins.sources=et.MergeCoins.sources.map(at=>s(at,et));break;case"MakeMoveVec":et.MakeMoveVec.elements=et.MakeMoveVec.elements.map(at=>s(at,et));break;case"Upgrade":et.Upgrade.ticket=s(et.Upgrade.ticket,et);break;case"$Intent":const tt=et.$Intent.inputs;et.$Intent.inputs={};for(const[at,ct]of Object.entries(tt))et.$Intent.inputs[at]=Array.isArray(ct)?ct.map(ut=>s(ut,et)):s(ct,et);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${et.$kind}`)}}replaceCommand(s,et){if(!Array.isArray(et)){this.commands[s]=et;return}const tt=et.length-1;this.commands.splice(s,1,...et),tt!==0&&this.mapArguments(at=>{switch(at.$kind){case"Result":at.Result>s&&(at.Result+=tt);break;case"NestedResult":at.NestedResult[0]>s&&(at.NestedResult[0]+=tt);break}return at})}getDigest(){const s=this.build({onlyTransactionKind:!1});return TransactionDataBuilder.getDigestFromBytes(s)}snapshot(){return parse$2(TransactionData$1,this)}}function getIdFromCallArg(a){if(typeof a=="string")return normalizeSuiAddress$1(a);if(a.Object)return a.Object.ImmOrOwnedObject?normalizeSuiAddress$1(a.Object.ImmOrOwnedObject.objectId):a.Object.Receiving?normalizeSuiAddress$1(a.Object.Receiving.objectId):normalizeSuiAddress$1(a.Object.SharedObject.objectId);if(a.UnresolvedObject)return normalizeSuiAddress$1(a.UnresolvedObject.objectId)}var __typeError=a=>{throw TypeError(a)},__accessCheck=(a,s,et)=>s.has(a)||__typeError("Cannot "+et),__privateGet=(a,s,et)=>(__accessCheck(a,s,"read from private field"),et?et.call(a):s.get(a)),__privateAdd=(a,s,et)=>s.has(a)?__typeError("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,et),__privateSet=(a,s,et,tt)=>(__accessCheck(a,s,"write to private field"),s.set(a,et),et),__privateMethod=(a,s,et)=>(__accessCheck(a,s,"access private method"),et),_serializationPlugins,_buildPlugins,_intentResolvers,_data,_Transaction_instances,normalizeTransactionArgument_fn,resolveArgument_fn,prepareBuild_fn,runPlugins_fn;function createTransactionResult(a,s=1/0){const et={$kind:"Result",Result:a},tt=[],at=ct=>tt[ct]??(tt[ct]={$kind:"NestedResult",NestedResult:[a,ct]});return new Proxy(et,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(ct,ut){if(ut in ct)return Reflect.get(ct,ut);if(ut===Symbol.iterator)return function*(){let wt=0;for(;wt<s;)yield at(wt),wt++};if(typeof ut=="symbol")return;const bt=parseInt(ut,10);if(!(Number.isNaN(bt)||bt<0))return at(bt)}})}const TRANSACTION_BRAND=Symbol.for("@mysten/transaction");function isTransaction(a){return!!a&&typeof a=="object"&&a[TRANSACTION_BRAND]===!0}const modulePluginRegistry={buildPlugins:new Map,serializationPlugins:new Map},TRANSACTION_REGISTRY_KEY=Symbol.for("@mysten/transaction/registry");function getGlobalPluginRegistry(){try{const a=globalThis;return a[TRANSACTION_REGISTRY_KEY]||(a[TRANSACTION_REGISTRY_KEY]=modulePluginRegistry),a[TRANSACTION_REGISTRY_KEY]}catch{return modulePluginRegistry}}const _Transaction=class zu{constructor(){__privateAdd(this,_Transaction_instances),__privateAdd(this,_serializationPlugins),__privateAdd(this,_buildPlugins),__privateAdd(this,_intentResolvers,new Map),__privateAdd(this,_data),this.object=createObjectMethods(et=>{var ct,ut;if(typeof et=="function")return this.object(et(this));if(typeof et=="object"&&is(Argument$2,et))return et;const tt=getIdFromCallArg(et),at=__privateGet(this,_data).inputs.find(bt=>tt===getIdFromCallArg(bt));return(ct=at==null?void 0:at.Object)!=null&&ct.SharedObject&&typeof et=="object"&&((ut=et.Object)!=null&&ut.SharedObject)&&(at.Object.SharedObject.mutable=at.Object.SharedObject.mutable||et.Object.SharedObject.mutable),at?{$kind:"Input",Input:__privateGet(this,_data).inputs.indexOf(at),type:"object"}:__privateGet(this,_data).addInput("object",typeof et=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:normalizeSuiAddress$1(et)}}:et)});const s=getGlobalPluginRegistry();__privateSet(this,_data,new TransactionDataBuilder),__privateSet(this,_buildPlugins,[...s.buildPlugins.values()]),__privateSet(this,_serializationPlugins,[...s.serializationPlugins.values()])}static fromKind(s){const et=new zu;return __privateSet(et,_data,TransactionDataBuilder.fromKindBytes(typeof s=="string"?fromBase64(s):s)),et}static from(s){const et=new zu;return isTransaction(s)?__privateSet(et,_data,new TransactionDataBuilder(s.getData())):typeof s!="string"||!s.startsWith("{")?__privateSet(et,_data,TransactionDataBuilder.fromBytes(typeof s=="string"?fromBase64(s):s)):__privateSet(et,_data,TransactionDataBuilder.restore(JSON.parse(s))),et}static registerGlobalSerializationPlugin(s,et){getGlobalPluginRegistry().serializationPlugins.set(s,et??s)}static unregisterGlobalSerializationPlugin(s){getGlobalPluginRegistry().serializationPlugins.delete(s)}static registerGlobalBuildPlugin(s,et){getGlobalPluginRegistry().buildPlugins.set(s,et??s)}static unregisterGlobalBuildPlugin(s){getGlobalPluginRegistry().buildPlugins.delete(s)}addSerializationPlugin(s){__privateGet(this,_serializationPlugins).push(s)}addBuildPlugin(s){__privateGet(this,_buildPlugins).push(s)}addIntentResolver(s,et){if(__privateGet(this,_intentResolvers).has(s)&&__privateGet(this,_intentResolvers).get(s)!==et)throw new Error(`Intent resolver for ${s} already exists`);__privateGet(this,_intentResolvers).set(s,et)}setSender(s){__privateGet(this,_data).sender=s}setSenderIfNotSet(s){__privateGet(this,_data).sender||(__privateGet(this,_data).sender=s)}setExpiration(s){__privateGet(this,_data).expiration=s?parse$2(TransactionExpiration$3,s):null}setGasPrice(s){__privateGet(this,_data).gasConfig.price=String(s)}setGasBudget(s){__privateGet(this,_data).gasConfig.budget=String(s)}setGasBudgetIfNotSet(s){__privateGet(this,_data).gasData.budget==null&&(__privateGet(this,_data).gasConfig.budget=String(s))}setGasOwner(s){__privateGet(this,_data).gasConfig.owner=s}setGasPayment(s){__privateGet(this,_data).gasConfig.payment=s.map(et=>parse$2(ObjectRef$1,et))}get blockData(){return serializeV1TransactionData(__privateGet(this,_data).snapshot())}getData(){return __privateGet(this,_data).snapshot()}get[TRANSACTION_BRAND](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure(s=>isSerializedBcs(s)?__privateGet(this,_data).addInput("pure",{$kind:"Pure",Pure:{bytes:s.toBase64()}}):__privateGet(this,_data).addInput("pure",is(NormalizedCallArg$1,s)?parse$2(NormalizedCallArg$1,s):s instanceof Uint8Array?Inputs.Pure(s):{$kind:"UnresolvedPure",UnresolvedPure:{value:s}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...s){return this.object(Inputs.ObjectRef(...s))}receivingRef(...s){return this.object(Inputs.ReceivingRef(...s))}sharedObjectRef(...s){return this.object(Inputs.SharedObjectRef(...s))}add(s){if(typeof s=="function")return s(this);const et=__privateGet(this,_data).commands.push(s);return createTransactionResult(et-1)}splitCoins(s,et){const tt=Commands.SplitCoins(typeof s=="string"?this.object(s):__privateMethod(this,_Transaction_instances,resolveArgument_fn).call(this,s),et.map(ct=>typeof ct=="number"||typeof ct=="bigint"||typeof ct=="string"?this.pure.u64(ct):__privateMethod(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,ct))),at=__privateGet(this,_data).commands.push(tt);return createTransactionResult(at-1,et.length)}mergeCoins(s,et){return this.add(Commands.MergeCoins(this.object(s),et.map(tt=>this.object(tt))))}publish({modules:s,dependencies:et}){return this.add(Commands.Publish({modules:s,dependencies:et}))}upgrade({modules:s,dependencies:et,package:tt,ticket:at}){return this.add(Commands.Upgrade({modules:s,dependencies:et,package:tt,ticket:this.object(at)}))}moveCall({arguments:s,...et}){return this.add(Commands.MoveCall({...et,arguments:s==null?void 0:s.map(tt=>__privateMethod(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,tt))}))}transferObjects(s,et){return this.add(Commands.TransferObjects(s.map(tt=>this.object(tt)),typeof et=="string"?this.pure.address(et):__privateMethod(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,et)))}makeMoveVec({type:s,elements:et}){return this.add(Commands.MakeMoveVec({type:s,elements:et.map(tt=>this.object(tt))}))}serialize(){return JSON.stringify(serializeV1TransactionData(__privateGet(this,_data).snapshot()))}async toJSON(s={}){return await this.prepareForSerialization(s),JSON.stringify(parse$2(SerializedTransactionDataV2,__privateGet(this,_data).snapshot()),(et,tt)=>typeof tt=="bigint"?tt.toString():tt,2)}async sign(s){const{signer:et,...tt}=s,at=await this.build(tt);return et.signTransaction(at)}async build(s={}){return await this.prepareForSerialization(s),await __privateMethod(this,_Transaction_instances,prepareBuild_fn).call(this,s),__privateGet(this,_data).build({onlyTransactionKind:s.onlyTransactionKind})}async getDigest(s={}){return await __privateMethod(this,_Transaction_instances,prepareBuild_fn).call(this,s),__privateGet(this,_data).getDigest()}async prepareForSerialization(s){var at;const et=new Set;for(const ct of __privateGet(this,_data).commands)ct.$Intent&&et.add(ct.$Intent.name);const tt=[...__privateGet(this,_serializationPlugins)];for(const ct of et)if(!((at=s.supportedIntents)!=null&&at.includes(ct))){if(!__privateGet(this,_intentResolvers).has(ct))throw new Error(`Missing intent resolver for ${ct}`);tt.push(__privateGet(this,_intentResolvers).get(ct))}await __privateMethod(this,_Transaction_instances,runPlugins_fn).call(this,tt,s)}};_serializationPlugins=new WeakMap;_buildPlugins=new WeakMap;_intentResolvers=new WeakMap;_data=new WeakMap;_Transaction_instances=new WeakSet;normalizeTransactionArgument_fn=function(a){return isSerializedBcs(a)?this.pure(a):__privateMethod(this,_Transaction_instances,resolveArgument_fn).call(this,a)};resolveArgument_fn=function(a){return typeof a=="function"?parse$2(Argument$2,a(this)):parse$2(Argument$2,a)};prepareBuild_fn=async function(a){if(!a.onlyTransactionKind&&!__privateGet(this,_data).sender)throw new Error("Missing transaction sender");await __privateMethod(this,_Transaction_instances,runPlugins_fn).call(this,[...__privateGet(this,_buildPlugins),resolveTransactionData],a)};runPlugins_fn=async function(a,s){const et=tt=>{if(tt>=a.length)return()=>{};const at=a[tt];return async()=>{const ct=et(tt+1);let ut=!1,bt=!1;if(await at(__privateGet(this,_data),s,async()=>{if(ut)throw new Error(`next() was call multiple times in TransactionPlugin ${tt}`);ut=!0,await ct(),bt=!0}),!ut)throw new Error(`next() was not called in TransactionPlugin ${tt}`);if(!bt)throw new Error(`next() was not awaited in TransactionPlugin ${tt}`)}};await et(0)()};let Transaction=_Transaction;const COIN_WITH_BALANCE="CoinWithBalance",SUI_TYPE=normalizeStructTag$1("0x2::sui::SUI");function coinWithBalance({type:a=SUI_TYPE,balance:s,useGasCoin:et=!0}){return tt=>{tt.addIntentResolver(COIN_WITH_BALANCE,resolveCoinBalance);const at=a==="gas"?a:normalizeStructTag$1(a);return tt.add(Commands.Intent({name:COIN_WITH_BALANCE,inputs:{},data:{type:at===SUI_TYPE&&et?"gas":at,balance:BigInt(s)}}))}}const CoinWithBalanceData=object$1({type:string(),balance:bigint()});async function resolveCoinBalance(a,s,et){var Et,Ft;const tt=new Set,at=new Map;if(!a.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const jt of a.commands)if(jt.$kind==="$Intent"&&jt.$Intent.name===COIN_WITH_BALANCE){const{type:Lt,balance:Ut}=parse$2(CoinWithBalanceData,jt.$Intent.data);Lt!=="gas"&&Ut>0n&&tt.add(Lt),at.set(Lt,(at.get(Lt)??0n)+Ut)}const ct=new Set;for(const jt of a.inputs)(Et=jt.Object)!=null&&Et.ImmOrOwnedObject&&ct.add(jt.Object.ImmOrOwnedObject.objectId),(Ft=jt.UnresolvedObject)!=null&&Ft.objectId&&ct.add(jt.UnresolvedObject.objectId);const ut=new Map,bt=getClient(s);await Promise.all([...tt].map(async jt=>{ut.set(jt,await getCoinsOfType({coinType:jt,balance:at.get(jt),client:bt,owner:a.sender,usedIds:ct}))}));const wt=new Map;wt.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[jt,Lt]of a.commands.entries()){if(Lt.$kind!=="$Intent"||Lt.$Intent.name!==COIN_WITH_BALANCE)continue;const{type:Ut,balance:Vt}=Lt.$Intent.data;if(Vt===0n){a.replaceCommand(jt,Commands.MoveCall({target:"0x2::coin::zero",typeArguments:[Ut]}));continue}const Yt=[];if(!wt.has(Ut)){const[er,...tr]=ut.get(Ut).map(nr=>a.addInput("object",Inputs.ObjectRef({objectId:nr.coinObjectId,digest:nr.digest,version:nr.version})));tr.length>0&&Yt.push(Commands.MergeCoins(er,tr)),wt.set(Ut,er)}Yt.push(Commands.SplitCoins(wt.get(Ut),[a.addInput("pure",Inputs.Pure(suiBcs$1.u64().serialize(Vt)))])),a.replaceCommand(jt,Yt),a.mapArguments(er=>er.$kind==="Result"&&er.Result===jt?{$kind:"NestedResult",NestedResult:[jt+Yt.length-1,0]}:er)}return et()}async function getCoinsOfType({coinType:a,balance:s,client:et,owner:tt,usedIds:at}){let ct=s;const ut=[];return bt();async function bt(wt=null){const{data:Et,hasNextPage:Ft,nextCursor:jt}=await et.getCoins({owner:tt,coinType:a,cursor:wt}),Lt=Et.sort((Ut,Vt)=>Number(BigInt(Vt.balance)-BigInt(Ut.balance)));for(const Ut of Lt){if(at.has(Ut.coinObjectId))continue;const Vt=BigInt(Ut.balance);if(ut.push(Ut),ct-=Vt,ct<=0)return ut}if(Ft)return bt(jt);throw new Error(`Not enough coins of type ${a} to satisfy requested balance`)}}const SUI_CLIENT_BRAND=Symbol.for("@mysten/SuiClient");class SuiClient{get[SUI_CLIENT_BRAND](){return!0}constructor(s){this.transport=s.transport??new SuiHTTPTransport({url:s.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(s){if(!s.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[s.owner,s.coinType,s.cursor,s.limit]})}async getAllCoins(s){if(!s.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[s.owner,s.cursor,s.limit]})}async getBalance(s){if(!s.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[s.owner,s.coinType]})}async getAllBalances(s){if(!s.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[s.owner]})}async getCoinMetadata(s){return await this.transport.request({method:"suix_getCoinMetadata",params:[s.coinType]})}async getTotalSupply(s){return await this.transport.request({method:"suix_getTotalSupply",params:[s.coinType]})}async call(s,et){return await this.transport.request({method:s,params:et})}async getMoveFunctionArgTypes(s){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[s.package,s.module,s.function]})}async getNormalizedMoveModulesByPackage(s){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[s.package]})}async getNormalizedMoveModule(s){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[s.package,s.module]})}async getNormalizedMoveFunction(s){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[s.package,s.module,s.function]})}async getNormalizedMoveStruct(s){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[s.package,s.module,s.struct]})}async getOwnedObjects(s){if(!s.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[s.owner,{filter:s.filter,options:s.options},s.cursor,s.limit]})}async getObject(s){if(!s.id||!isValidSuiObjectId$1(normalizeSuiObjectId$1(s.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[s.id,s.options]})}async tryGetPastObject(s){return await this.transport.request({method:"sui_tryGetPastObject",params:[s.id,s.version,s.options]})}async multiGetObjects(s){if(s.ids.forEach(tt=>{if(!tt||!isValidSuiObjectId$1(normalizeSuiObjectId$1(tt)))throw new Error(`Invalid Sui Object id ${tt}`)}),s.ids.length!==new Set(s.ids).size)throw new Error(`Duplicate object ids in batch call ${s.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[s.ids,s.options]})}async queryTransactionBlocks(s){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:s.filter,options:s.options},s.cursor,s.limit,(s.order||"descending")==="descending"]})}async getTransactionBlock(s){if(!isValidTransactionDigest$1(s.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[s.digest,s.options]})}async multiGetTransactionBlocks(s){if(s.digests.forEach(tt=>{if(!isValidTransactionDigest$1(tt))throw new Error(`Invalid Transaction digest ${tt}`)}),s.digests.length!==new Set(s.digests).size)throw new Error(`Duplicate digests in batch call ${s.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[s.digests,s.options]})}async executeTransactionBlock({transactionBlock:s,signature:et,options:tt,requestType:at}){const ct=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof s=="string"?s:toBase64(s),Array.isArray(et)?et:[et],tt]});if(at==="WaitForLocalExecution")try{await this.waitForTransaction({digest:ct.digest})}catch{}return ct}async signAndExecuteTransaction({transaction:s,signer:et,...tt}){let at;s instanceof Uint8Array?at=s:(s.setSenderIfNotSet(et.toSuiAddress()),at=await s.build({client:this}));const{signature:ct,bytes:ut}=await et.signTransaction(at);return this.executeTransactionBlock({transactionBlock:ut,signature:ct,...tt})}async getTotalTransactionBlocks(){const s=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(s)}async getReferenceGasPrice(){const s=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(s)}async getStakes(s){if(!s.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(s.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[s.owner]})}async getStakesByIds(s){return s.stakedSuiIds.forEach(et=>{if(!et||!isValidSuiObjectId$1(normalizeSuiObjectId$1(et)))throw new Error(`Invalid Sui Stake id ${et}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[s.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(s){return await this.transport.request({method:"suix_queryEvents",params:[s.query,s.cursor,s.limit,(s.order||"descending")==="descending"]})}async subscribeEvent(s){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[s.filter],onMessage:s.onMessage})}async subscribeTransaction(s){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[s.filter],onMessage:s.onMessage})}async devInspectTransactionBlock(s){var tt;let et;if(isTransaction(s.transactionBlock))s.transactionBlock.setSenderIfNotSet(s.sender),et=toBase64(await s.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof s.transactionBlock=="string")et=s.transactionBlock;else if(s.transactionBlock instanceof Uint8Array)et=toBase64(s.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[s.sender,et,(tt=s.gasPrice)==null?void 0:tt.toString(),s.epoch]})}async dryRunTransactionBlock(s){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof s.transactionBlock=="string"?s.transactionBlock:toBase64(s.transactionBlock)]})}async getDynamicFields(s){if(!s.parentId||!isValidSuiObjectId$1(normalizeSuiObjectId$1(s.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[s.parentId,s.cursor,s.limit]})}async getDynamicFieldObject(s){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[s.parentId,s.name]})}async getLatestCheckpointSequenceNumber(){const s=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(s)}async getCheckpoint(s){return await this.transport.request({method:"sui_getCheckpoint",params:[s.id]})}async getCheckpoints(s){return await this.transport.request({method:"sui_getCheckpoints",params:[s.cursor,s==null?void 0:s.limit,s.descendingOrder]})}async getCommitteeInfo(s){return await this.transport.request({method:"suix_getCommitteeInfo",params:[s==null?void 0:s.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(s){return await this.transport.request({method:"suix_getEpochMetrics",params:[s==null?void 0:s.cursor,s==null?void 0:s.limit,s==null?void 0:s.descendingOrder]})}async getAllEpochAddressMetrics(s){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[s==null?void 0:s.descendingOrder]})}async getEpochs(s){return await this.transport.request({method:"suix_getEpochs",params:[s==null?void 0:s.cursor,s==null?void 0:s.limit,s==null?void 0:s.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const s=await this.getCheckpoint({id:"0"}),et=fromBase58(s.digest);return toHex$2(et.slice(0,4))}async resolveNameServiceAddress(s){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[s.name]})}async resolveNameServiceNames({format:s="dot",...et}){const{nextCursor:tt,hasNextPage:at,data:ct}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[et.address,et.cursor,et.limit]});return{hasNextPage:at,nextCursor:tt,data:ct.map(ut=>normalizeSuiNSName$1(ut,s))}}async getProtocolConfig(s){return await this.transport.request({method:"sui_getProtocolConfig",params:[s==null?void 0:s.version]})}async waitForTransaction({signal:s,timeout:et=60*1e3,pollInterval:tt=2*1e3,...at}){const ct=AbortSignal.timeout(et),ut=new Promise((bt,wt)=>{ct.addEventListener("abort",()=>wt(ct.reason))});for(ut.catch(()=>{});!ct.aborted;){s==null||s.throwIfAborted();try{return await this.getTransactionBlock(at)}catch{await Promise.race([new Promise(wt=>setTimeout(wt,tt)),ut])}}throw ct.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(a[tt]=et[tt])}return a},_extends$3.apply(this,arguments)}var Action$1;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(a){a===void 0&&(a={});function s(tt,at){let{pathname:ct,search:ut,hash:bt}=tt.location;return createLocation("",{pathname:ct,search:ut,hash:bt},at.state&&at.state.usr||null,at.state&&at.state.key||"default")}function et(tt,at){return typeof at=="string"?at:createPath(at)}return getUrlBasedHistory(s,et,null,a)}function invariant$Q(a,s){if(a===!1||a===null||typeof a>"u")throw new Error(s)}function warning$4(a,s){if(!a){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,s){return{usr:a.state,key:a.key,idx:s}}function createLocation(a,s,et,tt){return et===void 0&&(et=null),_extends$3({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:et,key:s&&s.key||tt||createKey()})}function createPath(a){let{pathname:s="/",search:et="",hash:tt=""}=a;return et&&et!=="?"&&(s+=et.charAt(0)==="?"?et:"?"+et),tt&&tt!=="#"&&(s+=tt.charAt(0)==="#"?tt:"#"+tt),s}function parsePath(a){let s={};if(a){let et=a.indexOf("#");et>=0&&(s.hash=a.substr(et),a=a.substr(0,et));let tt=a.indexOf("?");tt>=0&&(s.search=a.substr(tt),a=a.substr(0,tt)),a&&(s.pathname=a)}return s}function getUrlBasedHistory(a,s,et,tt){tt===void 0&&(tt={});let{window:at=document.defaultView,v5Compat:ct=!1}=tt,ut=at.history,bt=Action$1.Pop,wt=null,Et=Ft();Et==null&&(Et=0,ut.replaceState(_extends$3({},ut.state,{idx:Et}),""));function Ft(){return(ut.state||{idx:null}).idx}function jt(){bt=Action$1.Pop;let er=Ft(),tr=er==null?null:er-Et;Et=er,wt&&wt({action:bt,location:Yt.location,delta:tr})}function Lt(er,tr){bt=Action$1.Push;let nr=createLocation(Yt.location,er,tr);Et=Ft()+1;let ir=getHistoryState(nr,Et),lr=Yt.createHref(nr);try{ut.pushState(ir,"",lr)}catch(pr){if(pr instanceof DOMException&&pr.name==="DataCloneError")throw pr;at.location.assign(lr)}ct&&wt&&wt({action:bt,location:Yt.location,delta:1})}function Ut(er,tr){bt=Action$1.Replace;let nr=createLocation(Yt.location,er,tr);Et=Ft();let ir=getHistoryState(nr,Et),lr=Yt.createHref(nr);ut.replaceState(ir,"",lr),ct&&wt&&wt({action:bt,location:Yt.location,delta:0})}function Vt(er){let tr=at.location.origin!=="null"?at.location.origin:at.location.href,nr=typeof er=="string"?er:createPath(er);return nr=nr.replace(/ $/,"%20"),invariant$Q(tr,"No window.location.(origin|href) available to create URL for href: "+nr),new URL(nr,tr)}let Yt={get action(){return bt},get location(){return a(at,ut)},listen(er){if(wt)throw new Error("A history only accepts one active listener");return at.addEventListener(PopStateEventType,jt),wt=er,()=>{at.removeEventListener(PopStateEventType,jt),wt=null}},createHref(er){return s(at,er)},createURL:Vt,encodeLocation(er){let tr=Vt(er);return{pathname:tr.pathname,search:tr.search,hash:tr.hash}},push:Lt,replace:Ut,go(er){return ut.go(er)}};return Yt}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(a){return a.index===!0}function convertRoutesToDataRoutes(a,s,et,tt){return et===void 0&&(et=[]),tt===void 0&&(tt={}),a.map((at,ct)=>{let ut=[...et,String(ct)],bt=typeof at.id=="string"?at.id:ut.join("-");if(invariant$Q(at.index!==!0||!at.children,"Cannot specify children on an index route"),invariant$Q(!tt[bt],'Found a route id collision on id "'+bt+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(at)){let wt=_extends$3({},at,s(at),{id:bt});return tt[bt]=wt,wt}else{let wt=_extends$3({},at,s(at),{id:bt,children:void 0});return tt[bt]=wt,at.children&&(wt.children=convertRoutesToDataRoutes(at.children,s,ut,tt)),wt}})}function matchRoutes(a,s,et){return et===void 0&&(et="/"),matchRoutesImpl(a,s,et,!1)}function matchRoutesImpl(a,s,et,tt){let at=typeof s=="string"?parsePath(s):s,ct=stripBasename(at.pathname||"/",et);if(ct==null)return null;let ut=flattenRoutes(a);rankRouteBranches(ut);let bt=null;for(let wt=0;bt==null&&wt<ut.length;++wt){let Et=decodePath(ct);bt=matchRouteBranch(ut[wt],Et,tt)}return bt}function convertRouteMatchToUiMatch(a,s){let{route:et,pathname:tt,params:at}=a;return{id:et.id,pathname:tt,params:at,data:s[et.id],handle:et.handle}}function flattenRoutes(a,s,et,tt){s===void 0&&(s=[]),et===void 0&&(et=[]),tt===void 0&&(tt="");let at=(ct,ut,bt)=>{let wt={relativePath:bt===void 0?ct.path||"":bt,caseSensitive:ct.caseSensitive===!0,childrenIndex:ut,route:ct};wt.relativePath.startsWith("/")&&(invariant$Q(wt.relativePath.startsWith(tt),'Absolute route path "'+wt.relativePath+'" nested under path '+('"'+tt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),wt.relativePath=wt.relativePath.slice(tt.length));let Et=joinPaths([tt,wt.relativePath]),Ft=et.concat(wt);ct.children&&ct.children.length>0&&(invariant$Q(ct.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Et+'".')),flattenRoutes(ct.children,s,Ft,Et)),!(ct.path==null&&!ct.index)&&s.push({path:Et,score:computeScore(Et,ct.index),routesMeta:Ft})};return a.forEach((ct,ut)=>{var bt;if(ct.path===""||!((bt=ct.path)!=null&&bt.includes("?")))at(ct,ut);else for(let wt of explodeOptionalSegments(ct.path))at(ct,ut,wt)}),s}function explodeOptionalSegments(a){let s=a.split("/");if(s.length===0)return[];let[et,...tt]=s,at=et.endsWith("?"),ct=et.replace(/\?$/,"");if(tt.length===0)return at?[ct,""]:[ct];let ut=explodeOptionalSegments(tt.join("/")),bt=[];return bt.push(...ut.map(wt=>wt===""?ct:[ct,wt].join("/"))),at&&bt.push(...ut),bt.map(wt=>a.startsWith("/")&&wt===""?"/":wt)}function rankRouteBranches(a){a.sort((s,et)=>s.score!==et.score?et.score-s.score:compareIndexes(s.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,s){let et=a.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),s&&(tt+=indexRouteValue),et.filter(at=>!isSplat(at)).reduce((at,ct)=>at+(paramRe.test(ct)?dynamicSegmentValue:ct===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes(a,s){return a.length===s.length&&a.slice(0,-1).every((tt,at)=>tt===s[at])?a[a.length-1]-s[s.length-1]:0}function matchRouteBranch(a,s,et){et===void 0&&(et=!1);let{routesMeta:tt}=a,at={},ct="/",ut=[];for(let bt=0;bt<tt.length;++bt){let wt=tt[bt],Et=bt===tt.length-1,Ft=ct==="/"?s:s.slice(ct.length)||"/",jt=matchPath({path:wt.relativePath,caseSensitive:wt.caseSensitive,end:Et},Ft),Lt=wt.route;if(!jt&&Et&&et&&!tt[tt.length-1].route.index&&(jt=matchPath({path:wt.relativePath,caseSensitive:wt.caseSensitive,end:!1},Ft)),!jt)return null;Object.assign(at,jt.params),ut.push({params:at,pathname:joinPaths([ct,jt.pathname]),pathnameBase:normalizePathname(joinPaths([ct,jt.pathnameBase])),route:Lt}),jt.pathnameBase!=="/"&&(ct=joinPaths([ct,jt.pathnameBase]))}return ut}function matchPath(a,s){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[et,tt]=compilePath(a.path,a.caseSensitive,a.end),at=s.match(et);if(!at)return null;let ct=at[0],ut=ct.replace(/(.)\/+$/,"$1"),bt=at.slice(1);return{params:tt.reduce((Et,Ft,jt)=>{let{paramName:Lt,isOptional:Ut}=Ft;if(Lt==="*"){let Yt=bt[jt]||"";ut=ct.slice(0,ct.length-Yt.length).replace(/(.)\/+$/,"$1")}const Vt=bt[jt];return Ut&&!Vt?Et[Lt]=void 0:Et[Lt]=(Vt||"").replace(/%2F/g,"/"),Et},{}),pathname:ct,pathnameBase:ut,pattern:a}}function compilePath(a,s,et){s===void 0&&(s=!1),et===void 0&&(et=!0),warning$4(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let tt=[],at="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ut,bt,wt)=>(tt.push({paramName:bt,isOptional:wt!=null}),wt?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(tt.push({paramName:"*"}),at+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?at+="\\/*$":a!==""&&a!=="/"&&(at+="(?:(?=\\/|$))"),[new RegExp(at,s?void 0:"i"),tt]}function decodePath(a){try{return a.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning$4(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),a}}function stripBasename(a,s){if(s==="/")return a;if(!a.toLowerCase().startsWith(s.toLowerCase()))return null;let et=s.endsWith("/")?s.length-1:s.length,tt=a.charAt(et);return tt&&tt!=="/"?null:a.slice(et)||"/"}function resolvePath(a,s){s===void 0&&(s="/");let{pathname:et,search:tt="",hash:at=""}=typeof a=="string"?parsePath(a):a;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,s):s,search:normalizeSearch(tt),hash:normalizeHash(at)}}function resolvePathname(a,s){let et=s.replace(/\/+$/,"").split("/");return a.split("/").forEach(at=>{at===".."?et.length>1&&et.pop():at!=="."&&et.push(at)}),et.length>1?et.join("/"):"/"}function getInvalidPathError(a,s,et,tt){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(tt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((s,et)=>et===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(a,s){let et=getPathContributingMatches(a);return s?et.map((tt,at)=>at===et.length-1?tt.pathname:tt.pathnameBase):et.map(tt=>tt.pathnameBase)}function resolveTo(a,s,et,tt){tt===void 0&&(tt=!1);let at;typeof a=="string"?at=parsePath(a):(at=_extends$3({},a),invariant$Q(!at.pathname||!at.pathname.includes("?"),getInvalidPathError("?","pathname","search",at)),invariant$Q(!at.pathname||!at.pathname.includes("#"),getInvalidPathError("#","pathname","hash",at)),invariant$Q(!at.search||!at.search.includes("#"),getInvalidPathError("#","search","hash",at)));let ct=a===""||at.pathname==="",ut=ct?"/":at.pathname,bt;if(ut==null)bt=et;else{let jt=s.length-1;if(!tt&&ut.startsWith("..")){let Lt=ut.split("/");for(;Lt[0]==="..";)Lt.shift(),jt-=1;at.pathname=Lt.join("/")}bt=jt>=0?s[jt]:"/"}let wt=resolvePath(at,bt),Et=ut&&ut!=="/"&&ut.endsWith("/"),Ft=(ct||ut===".")&&et.endsWith("/");return!wt.pathname.endsWith("/")&&(Et||Ft)&&(wt.pathname+="/"),wt}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;class ErrorResponseImpl{constructor(s,et,tt,at){at===void 0&&(at=!1),this.status=s,this.statusText=et||"",this.internal=at,tt instanceof Error?(this.data=tt.toString(),this.error=tt):this.data=tt}}function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(a){const s=a.window?a.window:typeof window<"u"?window:void 0,et=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u",tt=!et;invariant$Q(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let at;if(a.mapRouteProperties)at=a.mapRouteProperties;else if(a.detectErrorBoundary){let Xr=a.detectErrorBoundary;at=Jr=>({hasErrorBoundary:Xr(Jr)})}else at=defaultMapRouteProperties;let ct={},ut=convertRoutesToDataRoutes(a.routes,at,void 0,ct),bt,wt=a.basename||"/",Et=a.dataStrategy||defaultDataStrategy,Ft=a.patchRoutesOnNavigation,jt=_extends$3({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},a.future),Lt=null,Ut=new Set,Vt=null,Yt=null,er=null,tr=a.hydrationData!=null,nr=matchRoutes(ut,a.history.location,wt),ir=!1,lr=null;if(nr==null&&!Ft){let Xr=getInternalRouterError(404,{pathname:a.history.location.pathname}),{matches:Jr,route:Dn}=getShortCircuitMatches(ut);nr=Jr,lr={[Dn.id]:Xr}}nr&&!a.hydrationData&&Mo(nr,ut,a.history.location.pathname).active&&(nr=null);let pr;if(nr)if(nr.some(Xr=>Xr.route.lazy))pr=!1;else if(!nr.some(Xr=>Xr.route.loader))pr=!0;else if(jt.v7_partialHydration){let Xr=a.hydrationData?a.hydrationData.loaderData:null,Jr=a.hydrationData?a.hydrationData.errors:null;if(Jr){let Dn=nr.findIndex(Ln=>Jr[Ln.route.id]!==void 0);pr=nr.slice(0,Dn+1).every(Ln=>!shouldLoadRouteOnHydration(Ln.route,Xr,Jr))}else pr=nr.every(Dn=>!shouldLoadRouteOnHydration(Dn.route,Xr,Jr))}else pr=a.hydrationData!=null;else if(pr=!1,nr=[],jt.v7_partialHydration){let Xr=Mo(null,ut,a.history.location.pathname);Xr.active&&Xr.matches&&(ir=!0,nr=Xr.matches)}let yr,br={historyAction:a.history.action,location:a.history.location,matches:nr,initialized:pr,navigation:IDLE_NAVIGATION,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||lr,fetchers:new Map,blockers:new Map},xr=Action$1.Pop,Er=!1,$r,Sr=!1,fr=new Map,vr=null,or=!1,rr=!1,ar=[],sr=new Set,dr=new Map,gr=0,ur=-1,_r=new Map,hr=new Set,cr=new Map,wr=new Map,Br=new Set,Or=new Map,Rr=new Map,Pr;function Ur(){if(Lt=a.history.listen(Xr=>{let{action:Jr,location:Dn,delta:Ln}=Xr;if(Pr){Pr(),Pr=void 0;return}warning$4(Rr.size===0||Ln!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Gn=lo({currentLocation:br.location,nextLocation:Dn,historyAction:Jr});if(Gn&&Ln!=null){let co=new Promise(Jn=>{Pr=Jn});a.history.go(Ln*-1),no(Gn,{state:"blocked",location:Dn,proceed(){no(Gn,{state:"proceeding",proceed:void 0,reset:void 0,location:Dn}),co.then(()=>a.history.go(Ln))},reset(){let Jn=new Map(br.blockers);Jn.set(Gn,IDLE_BLOCKER),Cr({blockers:Jn})}});return}return Gr(Jr,Dn)}),et){restoreAppliedTransitions(s,fr);let Xr=()=>persistAppliedTransitions(s,fr);s.addEventListener("pagehide",Xr),vr=()=>s.removeEventListener("pagehide",Xr)}return br.initialized||Gr(Action$1.Pop,br.location,{initialHydration:!0}),yr}function kr(){Lt&&Lt(),vr&&vr(),Ut.clear(),$r&&$r.abort(),br.fetchers.forEach((Xr,Jr)=>Tr(Jr)),br.blockers.forEach((Xr,Jr)=>xo(Jr))}function Ar(Xr){return Ut.add(Xr),()=>Ut.delete(Xr)}function Cr(Xr,Jr){Jr===void 0&&(Jr={}),br=_extends$3({},br,Xr);let Dn=[],Ln=[];jt.v7_fetcherPersist&&br.fetchers.forEach((Gn,co)=>{Gn.state==="idle"&&(Br.has(co)?Ln.push(co):Dn.push(co))}),Br.forEach(Gn=>{!br.fetchers.has(Gn)&&!dr.has(Gn)&&Ln.push(Gn)}),[...Ut].forEach(Gn=>Gn(br,{deletedFetchers:Ln,viewTransitionOpts:Jr.viewTransitionOpts,flushSync:Jr.flushSync===!0})),jt.v7_fetcherPersist?(Dn.forEach(Gn=>br.fetchers.delete(Gn)),Ln.forEach(Gn=>Tr(Gn))):Ln.forEach(Gn=>Br.delete(Gn))}function Fr(Xr,Jr,Dn){var Ln,Gn;let{flushSync:co}=Dn===void 0?{}:Dn,Jn=br.actionData!=null&&br.navigation.formMethod!=null&&isMutationMethod(br.navigation.formMethod)&&br.navigation.state==="loading"&&((Ln=Xr.state)==null?void 0:Ln._isRedirect)!==!0,_i;Jr.actionData?Object.keys(Jr.actionData).length>0?_i=Jr.actionData:_i=null:Jn?_i=br.actionData:_i=null;let ao=Jr.loaderData?mergeLoaderData(br.loaderData,Jr.loaderData,Jr.matches||[],Jr.errors):br.loaderData,Wn=br.blockers;Wn.size>0&&(Wn=new Map(Wn),Wn.forEach((ho,To)=>Wn.set(To,IDLE_BLOCKER)));let eo=Er===!0||br.navigation.formMethod!=null&&isMutationMethod(br.navigation.formMethod)&&((Gn=Xr.state)==null?void 0:Gn._isRedirect)!==!0;bt&&(ut=bt,bt=void 0),or||xr===Action$1.Pop||(xr===Action$1.Push?a.history.push(Xr,Xr.state):xr===Action$1.Replace&&a.history.replace(Xr,Xr.state));let _o;if(xr===Action$1.Pop){let ho=fr.get(br.location.pathname);ho&&ho.has(Xr.pathname)?_o={currentLocation:br.location,nextLocation:Xr}:fr.has(Xr.pathname)&&(_o={currentLocation:Xr,nextLocation:br.location})}else if(Sr){let ho=fr.get(br.location.pathname);ho?ho.add(Xr.pathname):(ho=new Set([Xr.pathname]),fr.set(br.location.pathname,ho)),_o={currentLocation:br.location,nextLocation:Xr}}Cr(_extends$3({},Jr,{actionData:_i,loaderData:ao,historyAction:xr,location:Xr,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Co(Xr,Jr.matches||br.matches),preventScrollReset:eo,blockers:Wn}),{viewTransitionOpts:_o,flushSync:co===!0}),xr=Action$1.Pop,Er=!1,Sr=!1,or=!1,rr=!1,ar=[]}async function Lr(Xr,Jr){if(typeof Xr=="number"){a.history.go(Xr);return}let Dn=normalizeTo(br.location,br.matches,wt,jt.v7_prependBasename,Xr,jt.v7_relativeSplatPath,Jr==null?void 0:Jr.fromRouteId,Jr==null?void 0:Jr.relative),{path:Ln,submission:Gn,error:co}=normalizeNavigateOptions(jt.v7_normalizeFormMethod,!1,Dn,Jr),Jn=br.location,_i=createLocation(br.location,Ln,Jr&&Jr.state);_i=_extends$3({},_i,a.history.encodeLocation(_i));let ao=Jr&&Jr.replace!=null?Jr.replace:void 0,Wn=Action$1.Push;ao===!0?Wn=Action$1.Replace:ao===!1||Gn!=null&&isMutationMethod(Gn.formMethod)&&Gn.formAction===br.location.pathname+br.location.search&&(Wn=Action$1.Replace);let eo=Jr&&"preventScrollReset"in Jr?Jr.preventScrollReset===!0:void 0,_o=(Jr&&Jr.flushSync)===!0,ho=lo({currentLocation:Jn,nextLocation:_i,historyAction:Wn});if(ho){no(ho,{state:"blocked",location:_i,proceed(){no(ho,{state:"proceeding",proceed:void 0,reset:void 0,location:_i}),Lr(Xr,Jr)},reset(){let To=new Map(br.blockers);To.set(ho,IDLE_BLOCKER),Cr({blockers:To})}});return}return await Gr(Wn,_i,{submission:Gn,pendingError:co,preventScrollReset:eo,replace:Jr&&Jr.replace,enableViewTransition:Jr&&Jr.viewTransition,flushSync:_o})}function Hr(){if(Hn(),Cr({revalidation:"loading"}),br.navigation.state!=="submitting"){if(br.navigation.state==="idle"){Gr(br.historyAction,br.location,{startUninterruptedRevalidation:!0});return}Gr(xr||br.historyAction,br.navigation.location,{overrideNavigation:br.navigation,enableViewTransition:Sr===!0})}}async function Gr(Xr,Jr,Dn){$r&&$r.abort(),$r=null,xr=Xr,or=(Dn&&Dn.startUninterruptedRevalidation)===!0,vo(br.location,br.matches),Er=(Dn&&Dn.preventScrollReset)===!0,Sr=(Dn&&Dn.enableViewTransition)===!0;let Ln=bt||ut,Gn=Dn&&Dn.overrideNavigation,co=Dn!=null&&Dn.initialHydration&&br.matches&&br.matches.length>0&&!ir?br.matches:matchRoutes(Ln,Jr,wt),Jn=(Dn&&Dn.flushSync)===!0;if(co&&br.initialized&&!rr&&isHashChangeOnly(br.location,Jr)&&!(Dn&&Dn.submission&&isMutationMethod(Dn.submission.formMethod))){Fr(Jr,{matches:co},{flushSync:Jn});return}let _i=Mo(co,Ln,Jr.pathname);if(_i.active&&_i.matches&&(co=_i.matches),!co){let{error:Io,notFoundMatches:Ro,route:Do}=bo(Jr.pathname);Fr(Jr,{matches:Ro,loaderData:{},errors:{[Do.id]:Io}},{flushSync:Jn});return}$r=new AbortController;let ao=createClientSideRequest(a.history,Jr,$r.signal,Dn&&Dn.submission),Wn;if(Dn&&Dn.pendingError)Wn=[findNearestBoundary(co).route.id,{type:ResultType.error,error:Dn.pendingError}];else if(Dn&&Dn.submission&&isMutationMethod(Dn.submission.formMethod)){let Io=await Nr(ao,Jr,Dn.submission,co,_i.active,{replace:Dn.replace,flushSync:Jn});if(Io.shortCircuited)return;if(Io.pendingActionResult){let[Ro,Do]=Io.pendingActionResult;if(isErrorResult$2(Do)&&isRouteErrorResponse(Do.error)&&Do.error.status===404){$r=null,Fr(Jr,{matches:Io.matches,loaderData:{},errors:{[Ro]:Do.error}});return}}co=Io.matches||co,Wn=Io.pendingActionResult,Gn=getLoadingNavigation(Jr,Dn.submission),Jn=!1,_i.active=!1,ao=createClientSideRequest(a.history,ao.url,ao.signal)}let{shortCircuited:eo,matches:_o,loaderData:ho,errors:To}=await Vr(ao,Jr,co,_i.active,Gn,Dn&&Dn.submission,Dn&&Dn.fetcherSubmission,Dn&&Dn.replace,Dn&&Dn.initialHydration===!0,Jn,Wn);eo||($r=null,Fr(Jr,_extends$3({matches:_o||co},getActionDataForCommit(Wn),{loaderData:ho,errors:To})))}async function Nr(Xr,Jr,Dn,Ln,Gn,co){co===void 0&&(co={}),Hn();let Jn=getSubmittingNavigation(Jr,Dn);if(Cr({navigation:Jn},{flushSync:co.flushSync===!0}),Gn){let Wn=await go(Ln,Jr.pathname,Xr.signal);if(Wn.type==="aborted")return{shortCircuited:!0};if(Wn.type==="error"){let eo=findNearestBoundary(Wn.partialMatches).route.id;return{matches:Wn.partialMatches,pendingActionResult:[eo,{type:ResultType.error,error:Wn.error}]}}else if(Wn.matches)Ln=Wn.matches;else{let{notFoundMatches:eo,error:_o,route:ho}=bo(Jr.pathname);return{matches:eo,pendingActionResult:[ho.id,{type:ResultType.error,error:_o}]}}}let _i,ao=getTargetMatch(Ln,Jr);if(!ao.route.action&&!ao.route.lazy)_i={type:ResultType.error,error:getInternalRouterError(405,{method:Xr.method,pathname:Jr.pathname,routeId:ao.route.id})};else if(_i=(await Kn("action",br,Xr,[ao],Ln,null))[ao.route.id],Xr.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(_i)){let Wn;return co&&co.replace!=null?Wn=co.replace:Wn=normalizeRedirectLocation(_i.response.headers.get("Location"),new URL(Xr.url),wt)===br.location.pathname+br.location.search,await Vn(Xr,_i,!0,{submission:Dn,replace:Wn}),{shortCircuited:!0}}if(isDeferredResult(_i))throw getInternalRouterError(400,{type:"defer-action"});if(isErrorResult$2(_i)){let Wn=findNearestBoundary(Ln,ao.route.id);return(co&&co.replace)!==!0&&(xr=Action$1.Push),{matches:Ln,pendingActionResult:[Wn.route.id,_i]}}return{matches:Ln,pendingActionResult:[ao.route.id,_i]}}async function Vr(Xr,Jr,Dn,Ln,Gn,co,Jn,_i,ao,Wn,eo){let _o=Gn||getLoadingNavigation(Jr,co),ho=co||Jn||getSubmissionFromNavigation(_o),To=!or&&(!jt.v7_partialHydration||!ao);if(Ln){if(To){let Oo=jr(eo);Cr(_extends$3({navigation:_o},Oo!==void 0?{actionData:Oo}:{}),{flushSync:Wn})}let Ao=await go(Dn,Jr.pathname,Xr.signal);if(Ao.type==="aborted")return{shortCircuited:!0};if(Ao.type==="error"){let Oo=findNearestBoundary(Ao.partialMatches).route.id;return{matches:Ao.partialMatches,loaderData:{},errors:{[Oo]:Ao.error}}}else if(Ao.matches)Dn=Ao.matches;else{let{error:Oo,notFoundMatches:Jo,route:rs}=bo(Jr.pathname);return{matches:Jo,loaderData:{},errors:{[rs.id]:Oo}}}}let Io=bt||ut,[Ro,Do]=getMatchesToLoad(a.history,br,Dn,ho,Jr,jt.v7_partialHydration&&ao===!0,jt.v7_skipActionErrorRevalidation,rr,ar,sr,Br,cr,hr,Io,wt,eo);if(mo(Ao=>!(Dn&&Dn.some(Oo=>Oo.route.id===Ao))||Ro&&Ro.some(Oo=>Oo.route.id===Ao)),ur=++gr,Ro.length===0&&Do.length===0){let Ao=sn();return Fr(Jr,_extends$3({matches:Dn,loaderData:{},errors:eo&&isErrorResult$2(eo[1])?{[eo[0]]:eo[1].error}:null},getActionDataForCommit(eo),Ao?{fetchers:new Map(br.fetchers)}:{}),{flushSync:Wn}),{shortCircuited:!0}}if(To){let Ao={};if(!Ln){Ao.navigation=_o;let Oo=jr(eo);Oo!==void 0&&(Ao.actionData=Oo)}Do.length>0&&(Ao.fetchers=Wr(Do)),Cr(Ao,{flushSync:Wn})}Do.forEach(Ao=>{qr(Ao.key),Ao.controller&&dr.set(Ao.key,Ao.controller)});let Zo=()=>Do.forEach(Ao=>qr(Ao.key));$r&&$r.signal.addEventListener("abort",Zo);let{loaderResults:ts,fetcherResults:Go}=await oo(br,Dn,Ro,Do,Xr);if(Xr.signal.aborted)return{shortCircuited:!0};$r&&$r.signal.removeEventListener("abort",Zo),Do.forEach(Ao=>dr.delete(Ao.key));let Lo=findRedirect(ts);if(Lo)return await Vn(Xr,Lo.result,!0,{replace:_i}),{shortCircuited:!0};if(Lo=findRedirect(Go),Lo)return hr.add(Lo.key),await Vn(Xr,Lo.result,!0,{replace:_i}),{shortCircuited:!0};let{loaderData:ns,errors:Wo}=processLoaderData(br,Dn,ts,eo,Do,Go,Or);Or.forEach((Ao,Oo)=>{Ao.subscribe(Jo=>{(Jo||Ao.done)&&Or.delete(Oo)})}),jt.v7_partialHydration&&ao&&br.errors&&(Wo=_extends$3({},br.errors,Wo));let Qo=sn(),_a=nn(ur),$a=Qo||_a||Do.length>0;return _extends$3({matches:Dn,loaderData:ns,errors:Wo},$a?{fetchers:new Map(br.fetchers)}:{})}function jr(Xr){if(Xr&&!isErrorResult$2(Xr[1]))return{[Xr[0]]:Xr[1].data};if(br.actionData)return Object.keys(br.actionData).length===0?null:br.actionData}function Wr(Xr){return Xr.forEach(Jr=>{let Dn=br.fetchers.get(Jr.key),Ln=getLoadingFetcher(void 0,Dn?Dn.data:void 0);br.fetchers.set(Jr.key,Ln)}),new Map(br.fetchers)}function Kr(Xr,Jr,Dn,Ln){if(tt)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");qr(Xr);let Gn=(Ln&&Ln.flushSync)===!0,co=bt||ut,Jn=normalizeTo(br.location,br.matches,wt,jt.v7_prependBasename,Dn,jt.v7_relativeSplatPath,Jr,Ln==null?void 0:Ln.relative),_i=matchRoutes(co,Jn,wt),ao=Mo(_i,co,Jn);if(ao.active&&ao.matches&&(_i=ao.matches),!_i){yo(Xr,Jr,getInternalRouterError(404,{pathname:Jn}),{flushSync:Gn});return}let{path:Wn,submission:eo,error:_o}=normalizeNavigateOptions(jt.v7_normalizeFormMethod,!0,Jn,Ln);if(_o){yo(Xr,Jr,_o,{flushSync:Gn});return}let ho=getTargetMatch(_i,Wn),To=(Ln&&Ln.preventScrollReset)===!0;if(eo&&isMutationMethod(eo.formMethod)){an(Xr,Jr,Wn,ho,_i,ao.active,Gn,To,eo);return}cr.set(Xr,{routeId:Jr,path:Wn}),Un(Xr,Jr,Wn,ho,_i,ao.active,Gn,To,eo)}async function an(Xr,Jr,Dn,Ln,Gn,co,Jn,_i,ao){Hn(),cr.delete(Xr);function Wn(qo){if(!qo.route.action&&!qo.route.lazy){let zr=getInternalRouterError(405,{method:ao.formMethod,pathname:Dn,routeId:Jr});return yo(Xr,Jr,zr,{flushSync:Jn}),!0}return!1}if(!co&&Wn(Ln))return;let eo=br.fetchers.get(Xr);Qn(Xr,getSubmittingFetcher(ao,eo),{flushSync:Jn});let _o=new AbortController,ho=createClientSideRequest(a.history,Dn,_o.signal,ao);if(co){let qo=await go(Gn,new URL(ho.url).pathname,ho.signal,Xr);if(qo.type==="aborted")return;if(qo.type==="error"){yo(Xr,Jr,qo.error,{flushSync:Jn});return}else if(qo.matches){if(Gn=qo.matches,Ln=getTargetMatch(Gn,Dn),Wn(Ln))return}else{yo(Xr,Jr,getInternalRouterError(404,{pathname:Dn}),{flushSync:Jn});return}}dr.set(Xr,_o);let To=gr,Ro=(await Kn("action",br,ho,[Ln],Gn,Xr))[Ln.route.id];if(ho.signal.aborted){dr.get(Xr)===_o&&dr.delete(Xr);return}if(jt.v7_fetcherPersist&&Br.has(Xr)){if(isRedirectResult(Ro)||isErrorResult$2(Ro)){Qn(Xr,getDoneFetcher(void 0));return}}else{if(isRedirectResult(Ro))if(dr.delete(Xr),ur>To){Qn(Xr,getDoneFetcher(void 0));return}else return hr.add(Xr),Qn(Xr,getLoadingFetcher(ao)),Vn(ho,Ro,!1,{fetcherSubmission:ao,preventScrollReset:_i});if(isErrorResult$2(Ro)){yo(Xr,Jr,Ro.error);return}}if(isDeferredResult(Ro))throw getInternalRouterError(400,{type:"defer-action"});let Do=br.navigation.location||br.location,Zo=createClientSideRequest(a.history,Do,_o.signal),ts=bt||ut,Go=br.navigation.state!=="idle"?matchRoutes(ts,br.navigation.location,wt):br.matches;invariant$Q(Go,"Didn't find any matches after fetcher action");let Lo=++gr;_r.set(Xr,Lo);let ns=getLoadingFetcher(ao,Ro.data);br.fetchers.set(Xr,ns);let[Wo,Qo]=getMatchesToLoad(a.history,br,Go,ao,Do,!1,jt.v7_skipActionErrorRevalidation,rr,ar,sr,Br,cr,hr,ts,wt,[Ln.route.id,Ro]);Qo.filter(qo=>qo.key!==Xr).forEach(qo=>{let zr=qo.key,rn=br.fetchers.get(zr),Yr=getLoadingFetcher(void 0,rn?rn.data:void 0);br.fetchers.set(zr,Yr),qr(zr),qo.controller&&dr.set(zr,qo.controller)}),Cr({fetchers:new Map(br.fetchers)});let _a=()=>Qo.forEach(qo=>qr(qo.key));_o.signal.addEventListener("abort",_a);let{loaderResults:$a,fetcherResults:Ao}=await oo(br,Go,Wo,Qo,Zo);if(_o.signal.aborted)return;_o.signal.removeEventListener("abort",_a),_r.delete(Xr),dr.delete(Xr),Qo.forEach(qo=>dr.delete(qo.key));let Oo=findRedirect($a);if(Oo)return Vn(Zo,Oo.result,!1,{preventScrollReset:_i});if(Oo=findRedirect(Ao),Oo)return hr.add(Oo.key),Vn(Zo,Oo.result,!1,{preventScrollReset:_i});let{loaderData:Jo,errors:rs}=processLoaderData(br,Go,$a,void 0,Qo,Ao,Or);if(br.fetchers.has(Xr)){let qo=getDoneFetcher(Ro.data);br.fetchers.set(Xr,qo)}nn(Lo),br.navigation.state==="loading"&&Lo>ur?(invariant$Q(xr,"Expected pending action"),$r&&$r.abort(),Fr(br.navigation.location,{matches:Go,loaderData:Jo,errors:rs,fetchers:new Map(br.fetchers)})):(Cr({errors:rs,loaderData:mergeLoaderData(br.loaderData,Jo,Go,rs),fetchers:new Map(br.fetchers)}),rr=!1)}async function Un(Xr,Jr,Dn,Ln,Gn,co,Jn,_i,ao){let Wn=br.fetchers.get(Xr);Qn(Xr,getLoadingFetcher(ao,Wn?Wn.data:void 0),{flushSync:Jn});let eo=new AbortController,_o=createClientSideRequest(a.history,Dn,eo.signal);if(co){let Ro=await go(Gn,new URL(_o.url).pathname,_o.signal,Xr);if(Ro.type==="aborted")return;if(Ro.type==="error"){yo(Xr,Jr,Ro.error,{flushSync:Jn});return}else if(Ro.matches)Gn=Ro.matches,Ln=getTargetMatch(Gn,Dn);else{yo(Xr,Jr,getInternalRouterError(404,{pathname:Dn}),{flushSync:Jn});return}}dr.set(Xr,eo);let ho=gr,Io=(await Kn("loader",br,_o,[Ln],Gn,Xr))[Ln.route.id];if(isDeferredResult(Io)&&(Io=await resolveDeferredData(Io,_o.signal,!0)||Io),dr.get(Xr)===eo&&dr.delete(Xr),!_o.signal.aborted){if(Br.has(Xr)){Qn(Xr,getDoneFetcher(void 0));return}if(isRedirectResult(Io))if(ur>ho){Qn(Xr,getDoneFetcher(void 0));return}else{hr.add(Xr),await Vn(_o,Io,!1,{preventScrollReset:_i});return}if(isErrorResult$2(Io)){yo(Xr,Jr,Io.error);return}invariant$Q(!isDeferredResult(Io),"Unhandled fetcher deferred data"),Qn(Xr,getDoneFetcher(Io.data))}}async function Vn(Xr,Jr,Dn,Ln){let{submission:Gn,fetcherSubmission:co,preventScrollReset:Jn,replace:_i}=Ln===void 0?{}:Ln;Jr.response.headers.has("X-Remix-Revalidate")&&(rr=!0);let ao=Jr.response.headers.get("Location");invariant$Q(ao,"Expected a Location header on the redirect Response"),ao=normalizeRedirectLocation(ao,new URL(Xr.url),wt);let Wn=createLocation(br.location,ao,{_isRedirect:!0});if(et){let Ro=!1;if(Jr.response.headers.has("X-Remix-Reload-Document"))Ro=!0;else if(ABSOLUTE_URL_REGEX$1.test(ao)){const Do=a.history.createURL(ao);Ro=Do.origin!==s.location.origin||stripBasename(Do.pathname,wt)==null}if(Ro){_i?s.location.replace(ao):s.location.assign(ao);return}}$r=null;let eo=_i===!0||Jr.response.headers.has("X-Remix-Replace")?Action$1.Replace:Action$1.Push,{formMethod:_o,formAction:ho,formEncType:To}=br.navigation;!Gn&&!co&&_o&&ho&&To&&(Gn=getSubmissionFromNavigation(br.navigation));let Io=Gn||co;if(redirectPreserveMethodStatusCodes.has(Jr.response.status)&&Io&&isMutationMethod(Io.formMethod))await Gr(eo,Wn,{submission:_extends$3({},Io,{formAction:ao}),preventScrollReset:Jn||Er,enableViewTransition:Dn?Sr:void 0});else{let Ro=getLoadingNavigation(Wn,Gn);await Gr(eo,Wn,{overrideNavigation:Ro,fetcherSubmission:co,preventScrollReset:Jn||Er,enableViewTransition:Dn?Sr:void 0})}}async function Kn(Xr,Jr,Dn,Ln,Gn,co){let Jn,_i={};try{Jn=await callDataStrategyImpl(Et,Xr,Jr,Dn,Ln,Gn,co,ct,at)}catch(ao){return Ln.forEach(Wn=>{_i[Wn.route.id]={type:ResultType.error,error:ao}}),_i}for(let[ao,Wn]of Object.entries(Jn))if(isRedirectDataStrategyResultResult(Wn)){let eo=Wn.result;_i[ao]={type:ResultType.redirect,response:normalizeRelativeRoutingRedirectResponse(eo,Dn,ao,Gn,wt,jt.v7_relativeSplatPath)}}else _i[ao]=await convertDataStrategyResultToDataResult(Wn);return _i}async function oo(Xr,Jr,Dn,Ln,Gn){let co=Xr.matches,Jn=Kn("loader",Xr,Gn,Dn,Jr,null),_i=Promise.all(Ln.map(async eo=>{if(eo.matches&&eo.match&&eo.controller){let ho=(await Kn("loader",Xr,createClientSideRequest(a.history,eo.path,eo.controller.signal),[eo.match],eo.matches,eo.key))[eo.match.route.id];return{[eo.key]:ho}}else return Promise.resolve({[eo.key]:{type:ResultType.error,error:getInternalRouterError(404,{pathname:eo.path})}})})),ao=await Jn,Wn=(await _i).reduce((eo,_o)=>Object.assign(eo,_o),{});return await Promise.all([resolveNavigationDeferredResults(Jr,ao,Gn.signal,co,Xr.loaderData),resolveFetcherDeferredResults(Jr,Wn,Ln)]),{loaderResults:ao,fetcherResults:Wn}}function Hn(){rr=!0,ar.push(...mo()),cr.forEach((Xr,Jr)=>{dr.has(Jr)&&sr.add(Jr),qr(Jr)})}function Qn(Xr,Jr,Dn){Dn===void 0&&(Dn={}),br.fetchers.set(Xr,Jr),Cr({fetchers:new Map(br.fetchers)},{flushSync:(Dn&&Dn.flushSync)===!0})}function yo(Xr,Jr,Dn,Ln){Ln===void 0&&(Ln={});let Gn=findNearestBoundary(br.matches,Jr);Tr(Xr),Cr({errors:{[Gn.route.id]:Dn},fetchers:new Map(br.fetchers)},{flushSync:(Ln&&Ln.flushSync)===!0})}function Dr(Xr){return wr.set(Xr,(wr.get(Xr)||0)+1),Br.has(Xr)&&Br.delete(Xr),br.fetchers.get(Xr)||IDLE_FETCHER}function Tr(Xr){let Jr=br.fetchers.get(Xr);dr.has(Xr)&&!(Jr&&Jr.state==="loading"&&_r.has(Xr))&&qr(Xr),cr.delete(Xr),_r.delete(Xr),hr.delete(Xr),jt.v7_fetcherPersist&&Br.delete(Xr),sr.delete(Xr),br.fetchers.delete(Xr)}function Ir(Xr){let Jr=(wr.get(Xr)||0)-1;Jr<=0?(wr.delete(Xr),Br.add(Xr),jt.v7_fetcherPersist||Tr(Xr)):wr.set(Xr,Jr),Cr({fetchers:new Map(br.fetchers)})}function qr(Xr){let Jr=dr.get(Xr);Jr&&(Jr.abort(),dr.delete(Xr))}function Qr(Xr){for(let Jr of Xr){let Dn=Dr(Jr),Ln=getDoneFetcher(Dn.data);br.fetchers.set(Jr,Ln)}}function sn(){let Xr=[],Jr=!1;for(let Dn of hr){let Ln=br.fetchers.get(Dn);invariant$Q(Ln,"Expected fetcher: "+Dn),Ln.state==="loading"&&(hr.delete(Dn),Xr.push(Dn),Jr=!0)}return Qr(Xr),Jr}function nn(Xr){let Jr=[];for(let[Dn,Ln]of _r)if(Ln<Xr){let Gn=br.fetchers.get(Dn);invariant$Q(Gn,"Expected fetcher: "+Dn),Gn.state==="loading"&&(qr(Dn),_r.delete(Dn),Jr.push(Dn))}return Qr(Jr),Jr.length>0}function Xn(Xr,Jr){let Dn=br.blockers.get(Xr)||IDLE_BLOCKER;return Rr.get(Xr)!==Jr&&Rr.set(Xr,Jr),Dn}function xo(Xr){br.blockers.delete(Xr),Rr.delete(Xr)}function no(Xr,Jr){let Dn=br.blockers.get(Xr)||IDLE_BLOCKER;invariant$Q(Dn.state==="unblocked"&&Jr.state==="blocked"||Dn.state==="blocked"&&Jr.state==="blocked"||Dn.state==="blocked"&&Jr.state==="proceeding"||Dn.state==="blocked"&&Jr.state==="unblocked"||Dn.state==="proceeding"&&Jr.state==="unblocked","Invalid blocker state transition: "+Dn.state+" -> "+Jr.state);let Ln=new Map(br.blockers);Ln.set(Xr,Jr),Cr({blockers:Ln})}function lo(Xr){let{currentLocation:Jr,nextLocation:Dn,historyAction:Ln}=Xr;if(Rr.size===0)return;Rr.size>1&&warning$4(!1,"A router only supports one blocker at a time");let Gn=Array.from(Rr.entries()),[co,Jn]=Gn[Gn.length-1],_i=br.blockers.get(co);if(!(_i&&_i.state==="proceeding")&&Jn({currentLocation:Jr,nextLocation:Dn,historyAction:Ln}))return co}function bo(Xr){let Jr=getInternalRouterError(404,{pathname:Xr}),Dn=bt||ut,{matches:Ln,route:Gn}=getShortCircuitMatches(Dn);return mo(),{notFoundMatches:Ln,route:Gn,error:Jr}}function mo(Xr){let Jr=[];return Or.forEach((Dn,Ln)=>{(!Xr||Xr(Ln))&&(Dn.cancel(),Jr.push(Ln),Or.delete(Ln))}),Jr}function Eo(Xr,Jr,Dn){if(Vt=Xr,er=Jr,Yt=Dn||null,!tr&&br.navigation===IDLE_NAVIGATION){tr=!0;let Ln=Co(br.location,br.matches);Ln!=null&&Cr({restoreScrollPosition:Ln})}return()=>{Vt=null,er=null,Yt=null}}function Bo(Xr,Jr){return Yt&&Yt(Xr,Jr.map(Ln=>convertRouteMatchToUiMatch(Ln,br.loaderData)))||Xr.key}function vo(Xr,Jr){if(Vt&&er){let Dn=Bo(Xr,Jr);Vt[Dn]=er()}}function Co(Xr,Jr){if(Vt){let Dn=Bo(Xr,Jr),Ln=Vt[Dn];if(typeof Ln=="number")return Ln}return null}function Mo(Xr,Jr,Dn){if(Ft)if(Xr){if(Object.keys(Xr[0].params).length>0)return{active:!0,matches:matchRoutesImpl(Jr,Dn,wt,!0)}}else return{active:!0,matches:matchRoutesImpl(Jr,Dn,wt,!0)||[]};return{active:!1,matches:null}}async function go(Xr,Jr,Dn,Ln){if(!Ft)return{type:"success",matches:Xr};let Gn=Xr;for(;;){let co=bt==null,Jn=bt||ut,_i=ct;try{await Ft({signal:Dn,path:Jr,matches:Gn,fetcherKey:Ln,patch:(eo,_o)=>{Dn.aborted||patchRoutesImpl(eo,_o,Jn,_i,at)}})}catch(eo){return{type:"error",error:eo,partialMatches:Gn}}finally{co&&!Dn.aborted&&(ut=[...ut])}if(Dn.aborted)return{type:"aborted"};let ao=matchRoutes(Jn,Jr,wt);if(ao)return{type:"success",matches:ao};let Wn=matchRoutesImpl(Jn,Jr,wt,!0);if(!Wn||Gn.length===Wn.length&&Gn.every((eo,_o)=>eo.route.id===Wn[_o].route.id))return{type:"success",matches:null};Gn=Wn}}function $o(Xr){ct={},bt=convertRoutesToDataRoutes(Xr,at,void 0,ct)}function jo(Xr,Jr){let Dn=bt==null;patchRoutesImpl(Xr,Jr,bt||ut,ct,at),Dn&&(ut=[...ut],Cr({}))}return yr={get basename(){return wt},get future(){return jt},get state(){return br},get routes(){return ut},get window(){return s},initialize:Ur,subscribe:Ar,enableScrollRestoration:Eo,navigate:Lr,fetch:Kr,revalidate:Hr,createHref:Xr=>a.history.createHref(Xr),encodeLocation:Xr=>a.history.encodeLocation(Xr),getFetcher:Dr,deleteFetcher:Ir,dispose:kr,getBlocker:Xn,deleteBlocker:xo,patchRoutes:jo,_internalFetchControllers:dr,_internalActiveDeferreds:Or,_internalSetRoutes:$o},yr}function isSubmissionNavigation(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function normalizeTo(a,s,et,tt,at,ct,ut,bt){let wt,Et;if(ut){wt=[];for(let jt of s)if(wt.push(jt),jt.route.id===ut){Et=jt;break}}else wt=s,Et=s[s.length-1];let Ft=resolveTo(at||".",getResolveToMatches(wt,ct),stripBasename(a.pathname,et)||a.pathname,bt==="path");if(at==null&&(Ft.search=a.search,Ft.hash=a.hash),(at==null||at===""||at===".")&&Et){let jt=hasNakedIndexQuery(Ft.search);if(Et.route.index&&!jt)Ft.search=Ft.search?Ft.search.replace(/^\?/,"?index&"):"?index";else if(!Et.route.index&&jt){let Lt=new URLSearchParams(Ft.search),Ut=Lt.getAll("index");Lt.delete("index"),Ut.filter(Yt=>Yt).forEach(Yt=>Lt.append("index",Yt));let Vt=Lt.toString();Ft.search=Vt?"?"+Vt:""}}return tt&&et!=="/"&&(Ft.pathname=Ft.pathname==="/"?et:joinPaths([et,Ft.pathname])),createPath(Ft)}function normalizeNavigateOptions(a,s,et,tt){if(!tt||!isSubmissionNavigation(tt))return{path:et};if(tt.formMethod&&!isValidMethod(tt.formMethod))return{path:et,error:getInternalRouterError(405,{method:tt.formMethod})};let at=()=>({path:et,error:getInternalRouterError(400,{type:"invalid-body"})}),ct=tt.formMethod||"get",ut=a?ct.toUpperCase():ct.toLowerCase(),bt=stripHashFromPath(et);if(tt.body!==void 0){if(tt.formEncType==="text/plain"){if(!isMutationMethod(ut))return at();let Lt=typeof tt.body=="string"?tt.body:tt.body instanceof FormData||tt.body instanceof URLSearchParams?Array.from(tt.body.entries()).reduce((Ut,Vt)=>{let[Yt,er]=Vt;return""+Ut+Yt+"="+er+`
`},""):String(tt.body);return{path:et,submission:{formMethod:ut,formAction:bt,formEncType:tt.formEncType,formData:void 0,json:void 0,text:Lt}}}else if(tt.formEncType==="application/json"){if(!isMutationMethod(ut))return at();try{let Lt=typeof tt.body=="string"?JSON.parse(tt.body):tt.body;return{path:et,submission:{formMethod:ut,formAction:bt,formEncType:tt.formEncType,formData:void 0,json:Lt,text:void 0}}}catch{return at()}}}invariant$Q(typeof FormData=="function","FormData is not available in this environment");let wt,Et;if(tt.formData)wt=convertFormDataToSearchParams(tt.formData),Et=tt.formData;else if(tt.body instanceof FormData)wt=convertFormDataToSearchParams(tt.body),Et=tt.body;else if(tt.body instanceof URLSearchParams)wt=tt.body,Et=convertSearchParamsToFormData(wt);else if(tt.body==null)wt=new URLSearchParams,Et=new FormData;else try{wt=new URLSearchParams(tt.body),Et=convertSearchParamsToFormData(wt)}catch{return at()}let Ft={formMethod:ut,formAction:bt,formEncType:tt&&tt.formEncType||"application/x-www-form-urlencoded",formData:Et,json:void 0,text:void 0};if(isMutationMethod(Ft.formMethod))return{path:et,submission:Ft};let jt=parsePath(et);return s&&jt.search&&hasNakedIndexQuery(jt.search)&&wt.append("index",""),jt.search="?"+wt,{path:createPath(jt),submission:Ft}}function getLoaderMatchesUntilBoundary(a,s,et){et===void 0&&(et=!1);let tt=a.findIndex(at=>at.route.id===s);return tt>=0?a.slice(0,et?tt+1:tt):a}function getMatchesToLoad(a,s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt){let er=Yt?isErrorResult$2(Yt[1])?Yt[1].error:Yt[1].data:void 0,tr=a.createURL(s.location),nr=a.createURL(at),ir=et;ct&&s.errors?ir=getLoaderMatchesUntilBoundary(et,Object.keys(s.errors)[0],!0):Yt&&isErrorResult$2(Yt[1])&&(ir=getLoaderMatchesUntilBoundary(et,Yt[0]));let lr=Yt?Yt[1].statusCode:void 0,pr=ut&&lr&&lr>=400,yr=ir.filter((xr,Er)=>{let{route:$r}=xr;if($r.lazy)return!0;if($r.loader==null)return!1;if(ct)return shouldLoadRouteOnHydration($r,s.loaderData,s.errors);if(isNewLoader(s.loaderData,s.matches[Er],xr)||wt.some(vr=>vr===xr.route.id))return!0;let Sr=s.matches[Er],fr=xr;return shouldRevalidateLoader(xr,_extends$3({currentUrl:tr,currentParams:Sr.params,nextUrl:nr,nextParams:fr.params},tt,{actionResult:er,actionStatus:lr,defaultShouldRevalidate:pr?!1:bt||tr.pathname+tr.search===nr.pathname+nr.search||tr.search!==nr.search||isNewRouteInstance(Sr,fr)}))}),br=[];return jt.forEach((xr,Er)=>{if(ct||!et.some(or=>or.route.id===xr.routeId)||Ft.has(Er))return;let $r=matchRoutes(Ut,xr.path,Vt);if(!$r){br.push({key:Er,routeId:xr.routeId,path:xr.path,matches:null,match:null,controller:null});return}let Sr=s.fetchers.get(Er),fr=getTargetMatch($r,xr.path),vr=!1;Lt.has(Er)?vr=!1:Et.has(Er)?(Et.delete(Er),vr=!0):Sr&&Sr.state!=="idle"&&Sr.data===void 0?vr=bt:vr=shouldRevalidateLoader(fr,_extends$3({currentUrl:tr,currentParams:s.matches[s.matches.length-1].params,nextUrl:nr,nextParams:et[et.length-1].params},tt,{actionResult:er,actionStatus:lr,defaultShouldRevalidate:pr?!1:bt})),vr&&br.push({key:Er,routeId:xr.routeId,path:xr.path,matches:$r,match:fr,controller:new AbortController})}),[yr,br]}function shouldLoadRouteOnHydration(a,s,et){if(a.lazy)return!0;if(!a.loader)return!1;let tt=s!=null&&s[a.id]!==void 0,at=et!=null&&et[a.id]!==void 0;return!tt&&at?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!tt&&!at}function isNewLoader(a,s,et){let tt=!s||et.route.id!==s.route.id,at=a[et.route.id]===void 0;return tt||at}function isNewRouteInstance(a,s){let et=a.route.path;return a.pathname!==s.pathname||et!=null&&et.endsWith("*")&&a.params["*"]!==s.params["*"]}function shouldRevalidateLoader(a,s){if(a.route.shouldRevalidate){let et=a.route.shouldRevalidate(s);if(typeof et=="boolean")return et}return s.defaultShouldRevalidate}function patchRoutesImpl(a,s,et,tt,at){var ct;let ut;if(a){let Et=tt[a];invariant$Q(Et,"No route found to patch children into: routeId = "+a),Et.children||(Et.children=[]),ut=Et.children}else ut=et;let bt=s.filter(Et=>!ut.some(Ft=>isSameRoute(Et,Ft))),wt=convertRoutesToDataRoutes(bt,at,[a||"_","patch",String(((ct=ut)==null?void 0:ct.length)||"0")],tt);ut.push(...wt)}function isSameRoute(a,s){return"id"in a&&"id"in s&&a.id===s.id?!0:a.index===s.index&&a.path===s.path&&a.caseSensitive===s.caseSensitive?(!a.children||a.children.length===0)&&(!s.children||s.children.length===0)?!0:a.children.every((et,tt)=>{var at;return(at=s.children)==null?void 0:at.some(ct=>isSameRoute(et,ct))}):!1}async function loadLazyRouteModule(a,s,et){if(!a.lazy)return;let tt=await a.lazy();if(!a.lazy)return;let at=et[a.id];invariant$Q(at,"No route found in manifest");let ct={};for(let ut in tt){let wt=at[ut]!==void 0&&ut!=="hasErrorBoundary";warning$4(!wt,'Route "'+at.id+'" has a static property "'+ut+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+ut+'" will be ignored.')),!wt&&!immutableRouteKeys.has(ut)&&(ct[ut]=tt[ut])}Object.assign(at,ct),Object.assign(at,_extends$3({},s(at),{lazy:void 0}))}async function defaultDataStrategy(a){let{matches:s}=a,et=s.filter(at=>at.shouldLoad);return(await Promise.all(et.map(at=>at.resolve()))).reduce((at,ct,ut)=>Object.assign(at,{[et[ut].route.id]:ct}),{})}async function callDataStrategyImpl(a,s,et,tt,at,ct,ut,bt,wt,Et){let Ft=ct.map(Ut=>Ut.route.lazy?loadLazyRouteModule(Ut.route,wt,bt):void 0),jt=ct.map((Ut,Vt)=>{let Yt=Ft[Vt],er=at.some(nr=>nr.route.id===Ut.route.id);return _extends$3({},Ut,{shouldLoad:er,resolve:async nr=>(nr&&tt.method==="GET"&&(Ut.route.lazy||Ut.route.loader)&&(er=!0),er?callLoaderOrAction(s,tt,Ut,Yt,nr,Et):Promise.resolve({type:ResultType.data,result:void 0}))})}),Lt=await a({matches:jt,request:tt,params:ct[0].params,fetcherKey:ut,context:Et});try{await Promise.all(Ft)}catch{}return Lt}async function callLoaderOrAction(a,s,et,tt,at,ct){let ut,bt,wt=Et=>{let Ft,jt=new Promise((Vt,Yt)=>Ft=Yt);bt=()=>Ft(),s.signal.addEventListener("abort",bt);let Lt=Vt=>typeof Et!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+a+'" [routeId: '+et.route.id+"]"))):Et({request:s,params:et.params,context:ct},...Vt!==void 0?[Vt]:[]),Ut=(async()=>{try{return{type:"data",result:await(at?at(Yt=>Lt(Yt)):Lt())}}catch(Vt){return{type:"error",result:Vt}}})();return Promise.race([Ut,jt])};try{let Et=et.route[a];if(tt)if(Et){let Ft,[jt]=await Promise.all([wt(Et).catch(Lt=>{Ft=Lt}),tt]);if(Ft!==void 0)throw Ft;ut=jt}else if(await tt,Et=et.route[a],Et)ut=await wt(Et);else if(a==="action"){let Ft=new URL(s.url),jt=Ft.pathname+Ft.search;throw getInternalRouterError(405,{method:s.method,pathname:jt,routeId:et.route.id})}else return{type:ResultType.data,result:void 0};else if(Et)ut=await wt(Et);else{let Ft=new URL(s.url),jt=Ft.pathname+Ft.search;throw getInternalRouterError(404,{pathname:jt})}invariant$Q(ut.result!==void 0,"You defined "+(a==="action"?"an action":"a loader")+" for route "+('"'+et.route.id+"\" but didn't return anything from your `"+a+"` ")+"function. Please return a value or `null`.")}catch(Et){return{type:ResultType.error,result:Et}}finally{bt&&s.signal.removeEventListener("abort",bt)}return ut}async function convertDataStrategyResultToDataResult(a){let{result:s,type:et}=a;if(isResponse$2(s)){let jt;try{let Lt=s.headers.get("Content-Type");Lt&&/\bapplication\/json\b/.test(Lt)?s.body==null?jt=null:jt=await s.json():jt=await s.text()}catch(Lt){return{type:ResultType.error,error:Lt}}return et===ResultType.error?{type:ResultType.error,error:new ErrorResponseImpl(s.status,s.statusText,jt),statusCode:s.status,headers:s.headers}:{type:ResultType.data,data:jt,statusCode:s.status,headers:s.headers}}if(et===ResultType.error){if(isDataWithResponseInit(s)){var tt,at;if(s.data instanceof Error){var ct,ut;return{type:ResultType.error,error:s.data,statusCode:(ct=s.init)==null?void 0:ct.status,headers:(ut=s.init)!=null&&ut.headers?new Headers(s.init.headers):void 0}}return{type:ResultType.error,error:new ErrorResponseImpl(((tt=s.init)==null?void 0:tt.status)||500,void 0,s.data),statusCode:isRouteErrorResponse(s)?s.status:void 0,headers:(at=s.init)!=null&&at.headers?new Headers(s.init.headers):void 0}}return{type:ResultType.error,error:s,statusCode:isRouteErrorResponse(s)?s.status:void 0}}if(isDeferredData(s)){var bt,wt;return{type:ResultType.deferred,deferredData:s,statusCode:(bt=s.init)==null?void 0:bt.status,headers:((wt=s.init)==null?void 0:wt.headers)&&new Headers(s.init.headers)}}if(isDataWithResponseInit(s)){var Et,Ft;return{type:ResultType.data,data:s.data,statusCode:(Et=s.init)==null?void 0:Et.status,headers:(Ft=s.init)!=null&&Ft.headers?new Headers(s.init.headers):void 0}}return{type:ResultType.data,data:s}}function normalizeRelativeRoutingRedirectResponse(a,s,et,tt,at,ct){let ut=a.headers.get("Location");if(invariant$Q(ut,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(ut)){let bt=tt.slice(0,tt.findIndex(wt=>wt.route.id===et)+1);ut=normalizeTo(new URL(s.url),bt,at,!0,ut,ct),a.headers.set("Location",ut)}return a}function normalizeRedirectLocation(a,s,et){if(ABSOLUTE_URL_REGEX$1.test(a)){let tt=a,at=tt.startsWith("//")?new URL(s.protocol+tt):new URL(tt),ct=stripBasename(at.pathname,et)!=null;if(at.origin===s.origin&&ct)return at.pathname+at.search+at.hash}return a}function createClientSideRequest(a,s,et,tt){let at=a.createURL(stripHashFromPath(s)).toString(),ct={signal:et};if(tt&&isMutationMethod(tt.formMethod)){let{formMethod:ut,formEncType:bt}=tt;ct.method=ut.toUpperCase(),bt==="application/json"?(ct.headers=new Headers({"Content-Type":bt}),ct.body=JSON.stringify(tt.json)):bt==="text/plain"?ct.body=tt.text:bt==="application/x-www-form-urlencoded"&&tt.formData?ct.body=convertFormDataToSearchParams(tt.formData):ct.body=tt.formData}return new Request(at,ct)}function convertFormDataToSearchParams(a){let s=new URLSearchParams;for(let[et,tt]of a.entries())s.append(et,typeof tt=="string"?tt:tt.name);return s}function convertSearchParamsToFormData(a){let s=new FormData;for(let[et,tt]of a.entries())s.append(et,tt);return s}function processRouteLoaderData(a,s,et,tt,at){let ct={},ut=null,bt,wt=!1,Et={},Ft=et&&isErrorResult$2(et[1])?et[1].error:void 0;return a.forEach(jt=>{if(!(jt.route.id in s))return;let Lt=jt.route.id,Ut=s[Lt];if(invariant$Q(!isRedirectResult(Ut),"Cannot handle redirect results in processLoaderData"),isErrorResult$2(Ut)){let Vt=Ut.error;Ft!==void 0&&(Vt=Ft,Ft=void 0),ut=ut||{};{let Yt=findNearestBoundary(a,Lt);ut[Yt.route.id]==null&&(ut[Yt.route.id]=Vt)}ct[Lt]=void 0,wt||(wt=!0,bt=isRouteErrorResponse(Ut.error)?Ut.error.status:500),Ut.headers&&(Et[Lt]=Ut.headers)}else isDeferredResult(Ut)?(tt.set(Lt,Ut.deferredData),ct[Lt]=Ut.deferredData.data,Ut.statusCode!=null&&Ut.statusCode!==200&&!wt&&(bt=Ut.statusCode),Ut.headers&&(Et[Lt]=Ut.headers)):(ct[Lt]=Ut.data,Ut.statusCode&&Ut.statusCode!==200&&!wt&&(bt=Ut.statusCode),Ut.headers&&(Et[Lt]=Ut.headers))}),Ft!==void 0&&et&&(ut={[et[0]]:Ft},ct[et[0]]=void 0),{loaderData:ct,errors:ut,statusCode:bt||200,loaderHeaders:Et}}function processLoaderData(a,s,et,tt,at,ct,ut){let{loaderData:bt,errors:wt}=processRouteLoaderData(s,et,tt,ut);return at.forEach(Et=>{let{key:Ft,match:jt,controller:Lt}=Et,Ut=ct[Ft];if(invariant$Q(Ut,"Did not find corresponding fetcher result"),!(Lt&&Lt.signal.aborted))if(isErrorResult$2(Ut)){let Vt=findNearestBoundary(a.matches,jt==null?void 0:jt.route.id);wt&&wt[Vt.route.id]||(wt=_extends$3({},wt,{[Vt.route.id]:Ut.error})),a.fetchers.delete(Ft)}else if(isRedirectResult(Ut))invariant$Q(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(Ut))invariant$Q(!1,"Unhandled fetcher deferred data");else{let Vt=getDoneFetcher(Ut.data);a.fetchers.set(Ft,Vt)}}),{loaderData:bt,errors:wt}}function mergeLoaderData(a,s,et,tt){let at=_extends$3({},s);for(let ct of et){let ut=ct.route.id;if(s.hasOwnProperty(ut)?s[ut]!==void 0&&(at[ut]=s[ut]):a[ut]!==void 0&&ct.route.loader&&(at[ut]=a[ut]),tt&&tt.hasOwnProperty(ut))break}return at}function getActionDataForCommit(a){return a?isErrorResult$2(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function findNearestBoundary(a,s){return(s?a.slice(0,a.findIndex(tt=>tt.route.id===s)+1):[...a]).reverse().find(tt=>tt.route.hasErrorBoundary===!0)||a[0]}function getShortCircuitMatches(a){let s=a.length===1?a[0]:a.find(et=>et.index||!et.path||et.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function getInternalRouterError(a,s){let{pathname:et,routeId:tt,method:at,type:ct,message:ut}=s===void 0?{}:s,bt="Unknown Server Error",wt="Unknown @remix-run/router error";return a===400?(bt="Bad Request",at&&et&&tt?wt="You made a "+at+' request to "'+et+'" but '+('did not provide a `loader` for route "'+tt+'", ')+"so there is no way to handle the request.":ct==="defer-action"?wt="defer() is not supported in actions":ct==="invalid-body"&&(wt="Unable to encode submission body")):a===403?(bt="Forbidden",wt='Route "'+tt+'" does not match URL "'+et+'"'):a===404?(bt="Not Found",wt='No route matches URL "'+et+'"'):a===405&&(bt="Method Not Allowed",at&&et&&tt?wt="You made a "+at.toUpperCase()+' request to "'+et+'" but '+('did not provide an `action` for route "'+tt+'", ')+"so there is no way to handle the request.":at&&(wt='Invalid request method "'+at.toUpperCase()+'"')),new ErrorResponseImpl(a||500,bt,new Error(wt),!0)}function findRedirect(a){let s=Object.entries(a);for(let et=s.length-1;et>=0;et--){let[tt,at]=s[et];if(isRedirectResult(at))return{key:tt,result:at}}}function stripHashFromPath(a){let s=typeof a=="string"?parsePath(a):a;return createPath(_extends$3({},s,{hash:""}))}function isHashChangeOnly(a,s){return a.pathname!==s.pathname||a.search!==s.search?!1:a.hash===""?s.hash!=="":a.hash===s.hash?!0:s.hash!==""}function isRedirectDataStrategyResultResult(a){return isResponse$2(a.result)&&redirectStatusCodes.has(a.result.status)}function isDeferredResult(a){return a.type===ResultType.deferred}function isErrorResult$2(a){return a.type===ResultType.error}function isRedirectResult(a){return(a&&a.type)===ResultType.redirect}function isDataWithResponseInit(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function isDeferredData(a){let s=a;return s&&typeof s=="object"&&typeof s.data=="object"&&typeof s.subscribe=="function"&&typeof s.cancel=="function"&&typeof s.resolveData=="function"}function isResponse$2(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function isValidMethod(a){return validRequestMethods.has(a.toLowerCase())}function isMutationMethod(a){return validMutationMethods.has(a.toLowerCase())}async function resolveNavigationDeferredResults(a,s,et,tt,at){let ct=Object.entries(s);for(let ut=0;ut<ct.length;ut++){let[bt,wt]=ct[ut],Et=a.find(Lt=>(Lt==null?void 0:Lt.route.id)===bt);if(!Et)continue;let Ft=tt.find(Lt=>Lt.route.id===Et.route.id),jt=Ft!=null&&!isNewRouteInstance(Ft,Et)&&(at&&at[Et.route.id])!==void 0;isDeferredResult(wt)&&jt&&await resolveDeferredData(wt,et,!1).then(Lt=>{Lt&&(s[bt]=Lt)})}}async function resolveFetcherDeferredResults(a,s,et){for(let tt=0;tt<et.length;tt++){let{key:at,routeId:ct,controller:ut}=et[tt],bt=s[at];a.find(Et=>(Et==null?void 0:Et.route.id)===ct)&&isDeferredResult(bt)&&(invariant$Q(ut,"Expected an AbortController for revalidating fetcher deferred result"),await resolveDeferredData(bt,ut.signal,!0).then(Et=>{Et&&(s[at]=Et)}))}}async function resolveDeferredData(a,s,et){if(et===void 0&&(et=!1),!await a.deferredData.resolveData(s)){if(et)try{return{type:ResultType.data,data:a.deferredData.unwrappedData}}catch(at){return{type:ResultType.error,error:at}}return{type:ResultType.data,data:a.deferredData.data}}}function hasNakedIndexQuery(a){return new URLSearchParams(a).getAll("index").some(s=>s==="")}function getTargetMatch(a,s){let et=typeof s=="string"?parsePath(s).search:s.search;if(a[a.length-1].route.index&&hasNakedIndexQuery(et||""))return a[a.length-1];let tt=getPathContributingMatches(a);return tt[tt.length-1]}function getSubmissionFromNavigation(a){let{formMethod:s,formAction:et,formEncType:tt,text:at,formData:ct,json:ut}=a;if(!(!s||!et||!tt)){if(at!=null)return{formMethod:s,formAction:et,formEncType:tt,formData:void 0,json:void 0,text:at};if(ct!=null)return{formMethod:s,formAction:et,formEncType:tt,formData:ct,json:void 0,text:void 0};if(ut!==void 0)return{formMethod:s,formAction:et,formEncType:tt,formData:void 0,json:ut,text:void 0}}}function getLoadingNavigation(a,s){return s?{state:"loading",location:a,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(a,s){return{state:"submitting",location:a,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function getLoadingFetcher(a,s){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function getSubmittingFetcher(a,s){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:s?s.data:void 0}}function getDoneFetcher(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function restoreAppliedTransitions(a,s){try{let et=a.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(et){let tt=JSON.parse(et);for(let[at,ct]of Object.entries(tt||{}))ct&&Array.isArray(ct)&&s.set(at,new Set(ct||[]))}}catch{}}function persistAppliedTransitions(a,s){if(s.size>0){let et={};for(let[tt,at]of s)et[tt]=[...at];try{a.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(et))}catch(tt){warning$4(!1,"Failed to save applied view transitions in sessionStorage ("+tt+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(a[tt]=et[tt])}return a},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,s){let{relative:et}=s===void 0?{}:s;useInRouterContext()||invariant$Q(!1);let{basename:tt,navigator:at}=reactExports.useContext(NavigationContext),{hash:ct,pathname:ut,search:bt}=useResolvedPath(a,{relative:et}),wt=ut;return tt!=="/"&&(wt=ut==="/"?tt:joinPaths([tt,ut])),at.createHref({pathname:wt,search:bt,hash:ct})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$Q(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$Q(!1);let a=reactExports.useContext(DataRouterContext),{basename:s,future:et,navigator:tt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:ct}=useLocation(),ut=JSON.stringify(getResolveToMatches(at,et.v7_relativeSplatPath)),bt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{bt.current=!0}),reactExports.useCallback(function(Et,Ft){if(Ft===void 0&&(Ft={}),!bt.current)return;if(typeof Et=="number"){tt.go(Et);return}let jt=resolveTo(Et,JSON.parse(ut),ct,Ft.relative==="path");a==null&&s!=="/"&&(jt.pathname=jt.pathname==="/"?s:joinPaths([s,jt.pathname])),(Ft.replace?tt.replace:tt.push)(jt,Ft.state,Ft)},[s,tt,ut,ct,a])}const OutletContext=reactExports.createContext(null);function useOutlet(a){let s=reactExports.useContext(RouteContext).outlet;return s&&reactExports.createElement(OutletContext.Provider,{value:a},s)}function useParams(){let{matches:a}=reactExports.useContext(RouteContext),s=a[a.length-1];return s?s.params:{}}function useResolvedPath(a,s){let{relative:et}=s===void 0?{}:s,{future:tt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:ct}=useLocation(),ut=JSON.stringify(getResolveToMatches(at,tt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(ut),ct,et==="path"),[a,ut,ct,et])}function useRoutesImpl(a,s,et,tt){useInRouterContext()||invariant$Q(!1);let{navigator:at,static:ct}=reactExports.useContext(NavigationContext),{matches:ut}=reactExports.useContext(RouteContext),bt=ut[ut.length-1],wt=bt?bt.params:{};bt&&bt.pathname;let Et=bt?bt.pathnameBase:"/";bt&&bt.route;let Ft=useLocation(),jt;jt=Ft;let Lt=jt.pathname||"/",Ut=Lt;if(Et!=="/"){let er=Et.replace(/^\//,"").split("/");Ut="/"+Lt.replace(/^\//,"").split("/").slice(er.length).join("/")}let Vt=!ct&&et&&et.matches&&et.matches.length>0?et.matches:matchRoutes(a,{pathname:Ut});return _renderMatches(Vt&&Vt.map(er=>Object.assign({},er,{params:Object.assign({},wt,er.params),pathname:joinPaths([Et,at.encodeLocation?at.encodeLocation(er.pathname).pathname:er.pathname]),pathnameBase:er.pathnameBase==="/"?Et:joinPaths([Et,at.encodeLocation?at.encodeLocation(er.pathnameBase).pathname:er.pathnameBase])})),ut,et,tt)}function DefaultErrorComponent(){let a=useRouteError(),s=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),et=a instanceof Error?a.stack:null,at={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),et?reactExports.createElement("pre",{style:at},et):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,et){return et.location!==s.location||et.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:et.error,location:et.location,revalidation:s.revalidation||et.revalidation}}componentDidCatch(s,et){console.error("React Router caught the following error during render",s,et)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:s,match:et,children:tt}=a,at=reactExports.useContext(DataRouterContext);return at&&at.static&&at.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(at.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:s},tt)}function _renderMatches(a,s,et,tt){var at;if(s===void 0&&(s=[]),et===void 0&&(et=null),tt===void 0&&(tt=null),a==null){var ct;if(!et)return null;if(et.errors)a=et.matches;else if((ct=tt)!=null&&ct.v7_partialHydration&&s.length===0&&!et.initialized&&et.matches.length>0)a=et.matches;else return null}let ut=a,bt=(at=et)==null?void 0:at.errors;if(bt!=null){let Ft=ut.findIndex(jt=>jt.route.id&&(bt==null?void 0:bt[jt.route.id])!==void 0);Ft>=0||invariant$Q(!1),ut=ut.slice(0,Math.min(ut.length,Ft+1))}let wt=!1,Et=-1;if(et&&tt&&tt.v7_partialHydration)for(let Ft=0;Ft<ut.length;Ft++){let jt=ut[Ft];if((jt.route.HydrateFallback||jt.route.hydrateFallbackElement)&&(Et=Ft),jt.route.id){let{loaderData:Lt,errors:Ut}=et,Vt=jt.route.loader&&Lt[jt.route.id]===void 0&&(!Ut||Ut[jt.route.id]===void 0);if(jt.route.lazy||Vt){wt=!0,Et>=0?ut=ut.slice(0,Et+1):ut=[ut[0]];break}}}return ut.reduceRight((Ft,jt,Lt)=>{let Ut,Vt=!1,Yt=null,er=null;et&&(Ut=bt&&jt.route.id?bt[jt.route.id]:void 0,Yt=jt.route.errorElement||defaultErrorElement,wt&&(Et<0&&Lt===0?(warningOnce("route-fallback"),Vt=!0,er=null):Et===Lt&&(Vt=!0,er=jt.route.hydrateFallbackElement||null)));let tr=s.concat(ut.slice(0,Lt+1)),nr=()=>{let ir;return Ut?ir=Yt:Vt?ir=er:jt.route.Component?ir=reactExports.createElement(jt.route.Component,null):jt.route.element?ir=jt.route.element:ir=Ft,reactExports.createElement(RenderedRoute,{match:jt,routeContext:{outlet:Ft,matches:tr,isDataRoute:et!=null},children:ir})};return et&&(jt.route.ErrorBoundary||jt.route.errorElement||Lt===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:Yt,error:Ut,children:nr(),routeContext:{outlet:null,matches:tr,isDataRoute:!0}}):nr()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext(a){let s=reactExports.useContext(DataRouterContext);return s||invariant$Q(!1),s}function useDataRouterState(a){let s=reactExports.useContext(DataRouterStateContext);return s||invariant$Q(!1),s}function useRouteContext(a){let s=reactExports.useContext(RouteContext);return s||invariant$Q(!1),s}function useCurrentRouteId(a){let s=useRouteContext(),et=s.matches[s.matches.length-1];return et.route.id||invariant$Q(!1),et.route.id}function useRouteError(){var a;let s=reactExports.useContext(RouteErrorContext),et=useDataRouterState(),tt=useCurrentRouteId();return s!==void 0?s:(a=et.errors)==null?void 0:a[tt]}function useNavigateStable(){let{router:a}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{et.current=!0}),reactExports.useCallback(function(at,ct){ct===void 0&&(ct={}),et.current&&(typeof at=="number"?a.navigate(at):a.navigate(at,_extends$2({fromRouteId:s},ct)))},[a,s])}const alreadyWarned$1={};function warningOnce(a,s,et){alreadyWarned$1[a]||(alreadyWarned$1[a]=!0)}function logV6DeprecationWarnings(a,s){a==null||a.v7_startTransition,(a==null?void 0:a.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function Navigate(a){let{to:s,replace:et,state:tt,relative:at}=a;useInRouterContext()||invariant$Q(!1);let{future:ct,static:ut}=reactExports.useContext(NavigationContext),{matches:bt}=reactExports.useContext(RouteContext),{pathname:wt}=useLocation(),Et=useNavigate(),Ft=resolveTo(s,getResolveToMatches(bt,ct.v7_relativeSplatPath),wt,at==="path"),jt=JSON.stringify(Ft);return reactExports.useEffect(()=>Et(JSON.parse(jt),{replace:et,state:tt,relative:at}),[Et,jt,at,et,tt]),null}function Outlet(a){return useOutlet(a.context)}function Router(a){let{basename:s="/",children:et=null,location:tt,navigationType:at=Action$1.Pop,navigator:ct,static:ut=!1,future:bt}=a;useInRouterContext()&&invariant$Q(!1);let wt=s.replace(/^\/*/,"/"),Et=reactExports.useMemo(()=>({basename:wt,navigator:ct,static:ut,future:_extends$2({v7_relativeSplatPath:!1},bt)}),[wt,bt,ct,ut]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:Ft="/",search:jt="",hash:Lt="",state:Ut=null,key:Vt="default"}=tt,Yt=reactExports.useMemo(()=>{let er=stripBasename(Ft,wt);return er==null?null:{location:{pathname:er,search:jt,hash:Lt,state:Ut,key:Vt},navigationType:at}},[wt,Ft,jt,Lt,Ut,Vt,at]);return Yt==null?null:reactExports.createElement(NavigationContext.Provider,{value:Et},reactExports.createElement(LocationContext.Provider,{children:et,value:Yt}))}new Promise(()=>{});function mapRouteProperties(a){let s={hasErrorBoundary:a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&Object.assign(s,{element:reactExports.createElement(a.Component),Component:void 0}),a.HydrateFallback&&Object.assign(s,{hydrateFallbackElement:reactExports.createElement(a.HydrateFallback),HydrateFallback:void 0}),a.ErrorBoundary&&Object.assign(s,{errorElement:reactExports.createElement(a.ErrorBoundary),ErrorBoundary:void 0}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(a[tt]=et[tt])}return a},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(a,s){if(a==null)return{};var et={},tt=Object.keys(a),at,ct;for(ct=0;ct<tt.length;ct++)at=tt[ct],!(s.indexOf(at)>=0)&&(et[at]=a[at]);return et}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,s){return a.button===0&&(!s||s==="_self")&&!isModifiedEvent(a)}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}function createBrowserRouter(a,s){return createRouter({basename:void 0,future:_extends$1({},void 0,{v7_prependBasename:!0}),history:createBrowserHistory({window:void 0}),hydrationData:parseHydrationData(),routes:a,mapRouteProperties,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function parseHydrationData(){var a;let s=(a=window)==null?void 0:a.__staticRouterHydrationData;return s&&s.errors&&(s=_extends$1({},s,{errors:deserializeErrors(s.errors)})),s}function deserializeErrors(a){if(!a)return null;let s=Object.entries(a),et={};for(let[tt,at]of s)if(at&&at.__type==="RouteErrorResponse")et[tt]=new ErrorResponseImpl(at.status,at.statusText,at.data,at.internal===!0);else if(at&&at.__type==="Error"){if(at.__subType){let ct=window[at.__subType];if(typeof ct=="function")try{let ut=new ct(at.message);ut.stack="",et[tt]=ut}catch{}}if(et[tt]==null){let ct=new Error(at.message);ct.stack="",et[tt]=ct}}else et[tt]=at;return et}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),FetchersContext=reactExports.createContext(new Map),START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION],FLUSH_SYNC="flushSync",flushSyncImpl=ReactDOM$1[FLUSH_SYNC];function startTransitionSafe(a){startTransitionImpl?startTransitionImpl(a):a()}function flushSyncSafe(a){flushSyncImpl?flushSyncImpl(a):a()}class Deferred{constructor(){this.status="pending",this.promise=new Promise((s,et)=>{this.resolve=tt=>{this.status==="pending"&&(this.status="resolved",s(tt))},this.reject=tt=>{this.status==="pending"&&(this.status="rejected",et(tt))}})}}function RouterProvider(a){let{fallbackElement:s,router:et,future:tt}=a,[at,ct]=reactExports.useState(et.state),[ut,bt]=reactExports.useState(),[wt,Et]=reactExports.useState({isTransitioning:!1}),[Ft,jt]=reactExports.useState(),[Lt,Ut]=reactExports.useState(),[Vt,Yt]=reactExports.useState(),er=reactExports.useRef(new Map),{v7_startTransition:tr}=tt||{},nr=reactExports.useCallback(xr=>{tr?startTransitionSafe(xr):xr()},[tr]),ir=reactExports.useCallback((xr,Er)=>{let{deletedFetchers:$r,flushSync:Sr,viewTransitionOpts:fr}=Er;xr.fetchers.forEach((or,rr)=>{or.data!==void 0&&er.current.set(rr,or.data)}),$r.forEach(or=>er.current.delete(or));let vr=et.window==null||et.window.document==null||typeof et.window.document.startViewTransition!="function";if(!fr||vr){Sr?flushSyncSafe(()=>ct(xr)):nr(()=>ct(xr));return}if(Sr){flushSyncSafe(()=>{Lt&&(Ft&&Ft.resolve(),Lt.skipTransition()),Et({isTransitioning:!0,flushSync:!0,currentLocation:fr.currentLocation,nextLocation:fr.nextLocation})});let or=et.window.document.startViewTransition(()=>{flushSyncSafe(()=>ct(xr))});or.finished.finally(()=>{flushSyncSafe(()=>{jt(void 0),Ut(void 0),bt(void 0),Et({isTransitioning:!1})})}),flushSyncSafe(()=>Ut(or));return}Lt?(Ft&&Ft.resolve(),Lt.skipTransition(),Yt({state:xr,currentLocation:fr.currentLocation,nextLocation:fr.nextLocation})):(bt(xr),Et({isTransitioning:!0,flushSync:!1,currentLocation:fr.currentLocation,nextLocation:fr.nextLocation}))},[et.window,Lt,Ft,er,nr]);reactExports.useLayoutEffect(()=>et.subscribe(ir),[et,ir]),reactExports.useEffect(()=>{wt.isTransitioning&&!wt.flushSync&&jt(new Deferred)},[wt]),reactExports.useEffect(()=>{if(Ft&&ut&&et.window){let xr=ut,Er=Ft.promise,$r=et.window.document.startViewTransition(async()=>{nr(()=>ct(xr)),await Er});$r.finished.finally(()=>{jt(void 0),Ut(void 0),bt(void 0),Et({isTransitioning:!1})}),Ut($r)}},[nr,ut,Ft,et.window]),reactExports.useEffect(()=>{Ft&&ut&&at.location.key===ut.location.key&&Ft.resolve()},[Ft,Lt,at.location,ut]),reactExports.useEffect(()=>{!wt.isTransitioning&&Vt&&(bt(Vt.state),Et({isTransitioning:!0,flushSync:!1,currentLocation:Vt.currentLocation,nextLocation:Vt.nextLocation}),Yt(void 0))},[wt.isTransitioning,Vt]),reactExports.useEffect(()=>{},[]);let lr=reactExports.useMemo(()=>({createHref:et.createHref,encodeLocation:et.encodeLocation,go:xr=>et.navigate(xr),push:(xr,Er,$r)=>et.navigate(xr,{state:Er,preventScrollReset:$r==null?void 0:$r.preventScrollReset}),replace:(xr,Er,$r)=>et.navigate(xr,{replace:!0,state:Er,preventScrollReset:$r==null?void 0:$r.preventScrollReset})}),[et]),pr=et.basename||"/",yr=reactExports.useMemo(()=>({router:et,navigator:lr,static:!1,basename:pr}),[et,lr,pr]),br=reactExports.useMemo(()=>({v7_relativeSplatPath:et.future.v7_relativeSplatPath}),[et.future.v7_relativeSplatPath]);return reactExports.useEffect(()=>logV6DeprecationWarnings(tt,et.future),[tt,et.future]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:yr},reactExports.createElement(DataRouterStateContext.Provider,{value:at},reactExports.createElement(FetchersContext.Provider,{value:er.current},reactExports.createElement(ViewTransitionContext.Provider,{value:wt},reactExports.createElement(Router,{basename:pr,location:at.location,navigationType:at.historyAction,navigator:lr,future:br},at.initialized||et.future.v7_partialHydration?reactExports.createElement(MemoizedDataRoutes,{routes:et.routes,future:et.future,state:at}):s))))),null)}const MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes(a){let{routes:s,future:et,state:tt}=a;return useRoutesImpl(s,void 0,tt,et)}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function(s,et){let{onClick:tt,relative:at,reloadDocument:ct,replace:ut,state:bt,target:wt,to:Et,preventScrollReset:Ft,viewTransition:jt}=s,Lt=_objectWithoutPropertiesLoose$1(s,_excluded$2),{basename:Ut}=reactExports.useContext(NavigationContext),Vt,Yt=!1;if(typeof Et=="string"&&ABSOLUTE_URL_REGEX.test(Et)&&(Vt=Et,isBrowser$3))try{let ir=new URL(window.location.href),lr=Et.startsWith("//")?new URL(ir.protocol+Et):new URL(Et),pr=stripBasename(lr.pathname,Ut);lr.origin===ir.origin&&pr!=null?Et=pr+lr.search+lr.hash:Yt=!0}catch{}let er=useHref(Et,{relative:at}),tr=useLinkClickHandler(Et,{replace:ut,state:bt,target:wt,preventScrollReset:Ft,relative:at,viewTransition:jt});function nr(ir){tt&&tt(ir),ir.defaultPrevented||tr(ir)}return reactExports.createElement("a",_extends$1({},Lt,{href:Vt||er,onClick:Yt||ct?tt:nr,ref:et,target:wt}))});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(a,s){let{target:et,replace:tt,state:at,preventScrollReset:ct,relative:ut,viewTransition:bt}=s===void 0?{}:s,wt=useNavigate(),Et=useLocation(),Ft=useResolvedPath(a,{relative:ut});return reactExports.useCallback(jt=>{if(shouldProcessLinkClick(jt,et)){jt.preventDefault();let Lt=tt!==void 0?tt:createPath(Et)===createPath(Ft);wt(a,{replace:Lt,state:at,preventScrollReset:ct,relative:ut,viewTransition:bt})}},[Et,wt,Ft,tt,at,et,a,ct,ut,bt])}const scriptRel="modulepreload",assetsURL=function(a){return"/"+a},seen={},__vitePreload=function(s,et,tt){let at=Promise.resolve();if(et&&et.length>0){document.getElementsByTagName("link");const ut=document.querySelector("meta[property=csp-nonce]"),bt=(ut==null?void 0:ut.nonce)||(ut==null?void 0:ut.getAttribute("nonce"));at=Promise.allSettled(et.map(wt=>{if(wt=assetsURL(wt),wt in seen)return;seen[wt]=!0;const Et=wt.endsWith(".css"),Ft=Et?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${wt}"]${Ft}`))return;const jt=document.createElement("link");if(jt.rel=Et?"stylesheet":scriptRel,Et||(jt.as="script"),jt.crossOrigin="",jt.href=wt,bt&&jt.setAttribute("nonce",bt),document.head.appendChild(jt),Et)return new Promise((Lt,Ut)=>{jt.addEventListener("load",Lt),jt.addEventListener("error",()=>Ut(new Error(`Unable to preload CSS for ${wt}`)))})}))}function ct(ut){const bt=new Event("vite:preloadError",{cancelable:!0});if(bt.payload=ut,window.dispatchEvent(bt),!bt.defaultPrevented)throw ut}return at.then(ut=>{for(const bt of ut||[])bt.status==="rejected"&&ct(bt.reason);return s().catch(ct)})},GeneralLoading=()=>{const a=reactExports.useRef(null);return reactExports.useEffect(()=>{if(a.current){const s=a.current.style;s.setProperty("--size-loader","50px"),s.setProperty("--size-orbe","10px")}},[]),jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",background:"#161616",position:"relative"},children:jsxRuntimeExports.jsx("div",{ref:a,style:{width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px"},children:jsxRuntimeExports.jsx("img",{src:"/images/img-bg-loading.gif",alt:"icon",style:{width:"100px",height:"100px"}})})})},store$d=(a,s)=>({showConvertModel:!0,phaseDividendInfoMap:{},dividendManager:void 0,XCetusManager:void 0,dividendRewardList:[],lockCetusListLoading:!1,veNFT:void 0,veNFTLoading:!1,lockCetusList:[],owner:"",setVeNFTLoading:et=>{a(()=>({veNFTLoading:et}))},setVeNFT:(et,tt)=>{a(()=>({veNFT:et,owner:tt}))},setLockCetusList:et=>{a(()=>({lockCetusList:[...et]}))},setLockCetusListLoading:et=>{a(()=>({lockCetusListLoading:et}))},setXCetusManager:et=>{a(()=>({XCetusManager:et}))},setDividendManager:et=>{a(()=>({dividendManager:et}))},setDividendRewardList:et=>{a(()=>({dividendRewardList:et}))},setPhaseDividendInfoMap:et=>{const tt=s().phaseDividendInfoMap;tt[et.phase]=et,a(()=>({phaseDividendInfoMap:{...tt}}))},setShowConvertModel:et=>{a(()=>({showConvertModel:et}))},clearData:()=>{a(()=>({veNFT:void 0,owner:"",lockCetusList:[],lockCetusListLoading:!1,veNFTLoading:!1,dividendRewardList:[]}))}}),useXCetusStore=create$3(persist(store$d,{name:"useXCetusStore",partialize:a=>{const{owner:s,veNFT:et,lockCetusList:tt,XCetusManager:at,dividendManager:ct,phaseDividendInfoMap:ut,showConvertModel:bt}=a;return{owner:s,veNFT:et,lockCetusList:tt,XCetusManager:at,dividendManager:ct,phaseDividendInfoMap:ut,showConvertModel:bt}}}));function useDebounceFunction(a,s=1e3){const et=reactExports.useRef(),tt=reactExports.useCallback((...at)=>{et.current&&clearTimeout(et.current),et.current=setTimeout(()=>{a(...at)},s)},[a,s]);return reactExports.useEffect(()=>()=>{et.current&&clearTimeout(et.current)},[]),tt}function useWindowWidth(){const[a,s]=reactExports.useState(window.innerWidth),et=useDebounceFunction(()=>{s(window.innerWidth)},300);reactExports.useEffect(()=>(window.addEventListener("resize",et),()=>{window.removeEventListener("resize",et)}),[]);const tt=reactExports.useMemo(()=>a<810,[a]);return{windowWidth:a,isApp:tt}}const isSuiObjectType=a=>a.split("::").length==3,add0x=a=>{let s;return a.startsWith("0x")?s=a:s=`0x${a}`,s},getSuiObjectType=a=>{const s=a.split("::");return s.length==3?`${add0x(s[0])}::${s[1]}::${s[2].toUpperCase()}`.replace(/\s+/g,""):a.toLowerCase()};function suiAddressLongToShort(a){return a.toLocaleLowerCase()=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::sui"?"0x2::sui::SUI":a}const fetchGet=async function(a,s,et=3e4){const tt=[];let at="";if(s){for(const wt in s){const Et=`${wt}=${s[wt]}`;tt.push(Et)}const bt=tt.join("&");at=`${a}?${bt}`}else at=a;const ct=new AbortController,ut=setTimeout(()=>{ct.abort()},et);try{const bt=await fetch(at,{signal:ct.signal});if(clearTimeout(ut),!bt.ok)throw new Error("Request failed");const wt=await bt.json();return(wt==null?void 0:wt.data)||wt}catch(bt){throw clearTimeout(ut),bt.name==="AbortError"?new Error("request time out"):bt}},fetchPost=async function(a,s,et=3e4,tt){const at=new AbortController,ct=setTimeout(()=>{at.abort()},et);try{const ut=await fetch(a,{headers:tt,body:JSON.stringify(s),method:"POST",signal:at.signal});if(clearTimeout(ct),!ut.ok)throw new Error("Request failed");return ut.json()}catch(ut){throw clearTimeout(ct),ut.name==="AbortError"?new Error("request time out"):ut}};var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(a){var s=a.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var et=a.indexOf("=");et===-1&&(et=s);var tt=et===s?0:4-et%4;return[et,tt]}function byteLength(a){var s=getLens(a),et=s[0],tt=s[1];return(et+tt)*3/4-tt}function _byteLength(a,s,et){return(s+et)*3/4-et}function toByteArray(a){var s,et=getLens(a),tt=et[0],at=et[1],ct=new Arr(_byteLength(a,tt,at)),ut=0,bt=at>0?tt-4:tt,wt;for(wt=0;wt<bt;wt+=4)s=revLookup[a.charCodeAt(wt)]<<18|revLookup[a.charCodeAt(wt+1)]<<12|revLookup[a.charCodeAt(wt+2)]<<6|revLookup[a.charCodeAt(wt+3)],ct[ut++]=s>>16&255,ct[ut++]=s>>8&255,ct[ut++]=s&255;return at===2&&(s=revLookup[a.charCodeAt(wt)]<<2|revLookup[a.charCodeAt(wt+1)]>>4,ct[ut++]=s&255),at===1&&(s=revLookup[a.charCodeAt(wt)]<<10|revLookup[a.charCodeAt(wt+1)]<<4|revLookup[a.charCodeAt(wt+2)]>>2,ct[ut++]=s>>8&255,ct[ut++]=s&255),ct}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,s,et){for(var tt,at=[],ct=s;ct<et;ct+=3)tt=(a[ct]<<16&16711680)+(a[ct+1]<<8&65280)+(a[ct+2]&255),at.push(tripletToBase64(tt));return at.join("")}function fromByteArray(a){for(var s,et=a.length,tt=et%3,at=[],ct=16383,ut=0,bt=et-tt;ut<bt;ut+=ct)at.push(encodeChunk(a,ut,ut+ct>bt?bt:ut+ct));return tt===1?(s=a[et-1],at.push(lookup[s>>2]+lookup[s<<4&63]+"==")):tt===2&&(s=(a[et-2]<<8)+a[et-1],at.push(lookup[s>>10]+lookup[s>>4&63]+lookup[s<<2&63]+"=")),at.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,s,et,tt,at){var ct,ut,bt=at*8-tt-1,wt=(1<<bt)-1,Et=wt>>1,Ft=-7,jt=et?at-1:0,Lt=et?-1:1,Ut=a[s+jt];for(jt+=Lt,ct=Ut&(1<<-Ft)-1,Ut>>=-Ft,Ft+=bt;Ft>0;ct=ct*256+a[s+jt],jt+=Lt,Ft-=8);for(ut=ct&(1<<-Ft)-1,ct>>=-Ft,Ft+=tt;Ft>0;ut=ut*256+a[s+jt],jt+=Lt,Ft-=8);if(ct===0)ct=1-Et;else{if(ct===wt)return ut?NaN:(Ut?-1:1)*(1/0);ut=ut+Math.pow(2,tt),ct=ct-Et}return(Ut?-1:1)*ut*Math.pow(2,ct-tt)};ieee754.write=function(a,s,et,tt,at,ct){var ut,bt,wt,Et=ct*8-at-1,Ft=(1<<Et)-1,jt=Ft>>1,Lt=at===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ut=tt?0:ct-1,Vt=tt?1:-1,Yt=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(bt=isNaN(s)?1:0,ut=Ft):(ut=Math.floor(Math.log(s)/Math.LN2),s*(wt=Math.pow(2,-ut))<1&&(ut--,wt*=2),ut+jt>=1?s+=Lt/wt:s+=Lt*Math.pow(2,1-jt),s*wt>=2&&(ut++,wt/=2),ut+jt>=Ft?(bt=0,ut=Ft):ut+jt>=1?(bt=(s*wt-1)*Math.pow(2,at),ut=ut+jt):(bt=s*Math.pow(2,jt-1)*Math.pow(2,at),ut=0));at>=8;a[et+Ut]=bt&255,Ut+=Vt,bt/=256,at-=8);for(ut=ut<<at|bt,Et+=at;Et>0;a[et+Ut]=ut&255,Ut+=Vt,ut/=256,Et-=8);a[et+Ut-Vt]|=Yt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const s=base64Js,et=ieee754,tt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=Ft,a.SlowBuffer=pr,a.INSPECT_MAX_BYTES=50;const at=2147483647;a.kMaxLength=at;const{Uint8Array:ct,ArrayBuffer:ut,SharedArrayBuffer:bt}=globalThis;Ft.TYPED_ARRAY_SUPPORT=wt(),!Ft.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function wt(){try{const Dr=new ct(1),Tr={foo:function(){return 42}};return Object.setPrototypeOf(Tr,ct.prototype),Object.setPrototypeOf(Dr,Tr),Dr.foo()===42}catch{return!1}}Object.defineProperty(Ft.prototype,"parent",{enumerable:!0,get:function(){if(Ft.isBuffer(this))return this.buffer}}),Object.defineProperty(Ft.prototype,"offset",{enumerable:!0,get:function(){if(Ft.isBuffer(this))return this.byteOffset}});function Et(Dr){if(Dr>at)throw new RangeError('The value "'+Dr+'" is invalid for option "size"');const Tr=new ct(Dr);return Object.setPrototypeOf(Tr,Ft.prototype),Tr}function Ft(Dr,Tr,Ir){if(typeof Dr=="number"){if(typeof Tr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Vt(Dr)}return jt(Dr,Tr,Ir)}Ft.poolSize=8192;function jt(Dr,Tr,Ir){if(typeof Dr=="string")return Yt(Dr,Tr);if(ut.isView(Dr))return tr(Dr);if(Dr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Dr);if(Kn(Dr,ut)||Dr&&Kn(Dr.buffer,ut)||typeof bt<"u"&&(Kn(Dr,bt)||Dr&&Kn(Dr.buffer,bt)))return nr(Dr,Tr,Ir);if(typeof Dr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const qr=Dr.valueOf&&Dr.valueOf();if(qr!=null&&qr!==Dr)return Ft.from(qr,Tr,Ir);const Qr=ir(Dr);if(Qr)return Qr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Dr[Symbol.toPrimitive]=="function")return Ft.from(Dr[Symbol.toPrimitive]("string"),Tr,Ir);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Dr)}Ft.from=function(Dr,Tr,Ir){return jt(Dr,Tr,Ir)},Object.setPrototypeOf(Ft.prototype,ct.prototype),Object.setPrototypeOf(Ft,ct);function Lt(Dr){if(typeof Dr!="number")throw new TypeError('"size" argument must be of type number');if(Dr<0)throw new RangeError('The value "'+Dr+'" is invalid for option "size"')}function Ut(Dr,Tr,Ir){return Lt(Dr),Dr<=0?Et(Dr):Tr!==void 0?typeof Ir=="string"?Et(Dr).fill(Tr,Ir):Et(Dr).fill(Tr):Et(Dr)}Ft.alloc=function(Dr,Tr,Ir){return Ut(Dr,Tr,Ir)};function Vt(Dr){return Lt(Dr),Et(Dr<0?0:lr(Dr)|0)}Ft.allocUnsafe=function(Dr){return Vt(Dr)},Ft.allocUnsafeSlow=function(Dr){return Vt(Dr)};function Yt(Dr,Tr){if((typeof Tr!="string"||Tr==="")&&(Tr="utf8"),!Ft.isEncoding(Tr))throw new TypeError("Unknown encoding: "+Tr);const Ir=yr(Dr,Tr)|0;let qr=Et(Ir);const Qr=qr.write(Dr,Tr);return Qr!==Ir&&(qr=qr.slice(0,Qr)),qr}function er(Dr){const Tr=Dr.length<0?0:lr(Dr.length)|0,Ir=Et(Tr);for(let qr=0;qr<Tr;qr+=1)Ir[qr]=Dr[qr]&255;return Ir}function tr(Dr){if(Kn(Dr,ct)){const Tr=new ct(Dr);return nr(Tr.buffer,Tr.byteOffset,Tr.byteLength)}return er(Dr)}function nr(Dr,Tr,Ir){if(Tr<0||Dr.byteLength<Tr)throw new RangeError('"offset" is outside of buffer bounds');if(Dr.byteLength<Tr+(Ir||0))throw new RangeError('"length" is outside of buffer bounds');let qr;return Tr===void 0&&Ir===void 0?qr=new ct(Dr):Ir===void 0?qr=new ct(Dr,Tr):qr=new ct(Dr,Tr,Ir),Object.setPrototypeOf(qr,Ft.prototype),qr}function ir(Dr){if(Ft.isBuffer(Dr)){const Tr=lr(Dr.length)|0,Ir=Et(Tr);return Ir.length===0||Dr.copy(Ir,0,0,Tr),Ir}if(Dr.length!==void 0)return typeof Dr.length!="number"||oo(Dr.length)?Et(0):er(Dr);if(Dr.type==="Buffer"&&Array.isArray(Dr.data))return er(Dr.data)}function lr(Dr){if(Dr>=at)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+at.toString(16)+" bytes");return Dr|0}function pr(Dr){return+Dr!=Dr&&(Dr=0),Ft.alloc(+Dr)}Ft.isBuffer=function(Tr){return Tr!=null&&Tr._isBuffer===!0&&Tr!==Ft.prototype},Ft.compare=function(Tr,Ir){if(Kn(Tr,ct)&&(Tr=Ft.from(Tr,Tr.offset,Tr.byteLength)),Kn(Ir,ct)&&(Ir=Ft.from(Ir,Ir.offset,Ir.byteLength)),!Ft.isBuffer(Tr)||!Ft.isBuffer(Ir))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Tr===Ir)return 0;let qr=Tr.length,Qr=Ir.length;for(let sn=0,nn=Math.min(qr,Qr);sn<nn;++sn)if(Tr[sn]!==Ir[sn]){qr=Tr[sn],Qr=Ir[sn];break}return qr<Qr?-1:Qr<qr?1:0},Ft.isEncoding=function(Tr){switch(String(Tr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ft.concat=function(Tr,Ir){if(!Array.isArray(Tr))throw new TypeError('"list" argument must be an Array of Buffers');if(Tr.length===0)return Ft.alloc(0);let qr;if(Ir===void 0)for(Ir=0,qr=0;qr<Tr.length;++qr)Ir+=Tr[qr].length;const Qr=Ft.allocUnsafe(Ir);let sn=0;for(qr=0;qr<Tr.length;++qr){let nn=Tr[qr];if(Kn(nn,ct))sn+nn.length>Qr.length?(Ft.isBuffer(nn)||(nn=Ft.from(nn)),nn.copy(Qr,sn)):ct.prototype.set.call(Qr,nn,sn);else if(Ft.isBuffer(nn))nn.copy(Qr,sn);else throw new TypeError('"list" argument must be an Array of Buffers');sn+=nn.length}return Qr};function yr(Dr,Tr){if(Ft.isBuffer(Dr))return Dr.length;if(ut.isView(Dr)||Kn(Dr,ut))return Dr.byteLength;if(typeof Dr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Dr);const Ir=Dr.length,qr=arguments.length>2&&arguments[2]===!0;if(!qr&&Ir===0)return 0;let Qr=!1;for(;;)switch(Tr){case"ascii":case"latin1":case"binary":return Ir;case"utf8":case"utf-8":return Wr(Dr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ir*2;case"hex":return Ir>>>1;case"base64":return Un(Dr).length;default:if(Qr)return qr?-1:Wr(Dr).length;Tr=(""+Tr).toLowerCase(),Qr=!0}}Ft.byteLength=yr;function br(Dr,Tr,Ir){let qr=!1;if((Tr===void 0||Tr<0)&&(Tr=0),Tr>this.length||((Ir===void 0||Ir>this.length)&&(Ir=this.length),Ir<=0)||(Ir>>>=0,Tr>>>=0,Ir<=Tr))return"";for(Dr||(Dr="utf8");;)switch(Dr){case"hex":return hr(this,Tr,Ir);case"utf8":case"utf-8":return sr(this,Tr,Ir);case"ascii":return ur(this,Tr,Ir);case"latin1":case"binary":return _r(this,Tr,Ir);case"base64":return ar(this,Tr,Ir);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cr(this,Tr,Ir);default:if(qr)throw new TypeError("Unknown encoding: "+Dr);Dr=(Dr+"").toLowerCase(),qr=!0}}Ft.prototype._isBuffer=!0;function xr(Dr,Tr,Ir){const qr=Dr[Tr];Dr[Tr]=Dr[Ir],Dr[Ir]=qr}Ft.prototype.swap16=function(){const Tr=this.length;if(Tr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ir=0;Ir<Tr;Ir+=2)xr(this,Ir,Ir+1);return this},Ft.prototype.swap32=function(){const Tr=this.length;if(Tr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ir=0;Ir<Tr;Ir+=4)xr(this,Ir,Ir+3),xr(this,Ir+1,Ir+2);return this},Ft.prototype.swap64=function(){const Tr=this.length;if(Tr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ir=0;Ir<Tr;Ir+=8)xr(this,Ir,Ir+7),xr(this,Ir+1,Ir+6),xr(this,Ir+2,Ir+5),xr(this,Ir+3,Ir+4);return this},Ft.prototype.toString=function(){const Tr=this.length;return Tr===0?"":arguments.length===0?sr(this,0,Tr):br.apply(this,arguments)},Ft.prototype.toLocaleString=Ft.prototype.toString,Ft.prototype.equals=function(Tr){if(!Ft.isBuffer(Tr))throw new TypeError("Argument must be a Buffer");return this===Tr?!0:Ft.compare(this,Tr)===0},Ft.prototype.inspect=function(){let Tr="";const Ir=a.INSPECT_MAX_BYTES;return Tr=this.toString("hex",0,Ir).replace(/(.{2})/g,"$1 ").trim(),this.length>Ir&&(Tr+=" ... "),"<Buffer "+Tr+">"},tt&&(Ft.prototype[tt]=Ft.prototype.inspect),Ft.prototype.compare=function(Tr,Ir,qr,Qr,sn){if(Kn(Tr,ct)&&(Tr=Ft.from(Tr,Tr.offset,Tr.byteLength)),!Ft.isBuffer(Tr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Tr);if(Ir===void 0&&(Ir=0),qr===void 0&&(qr=Tr?Tr.length:0),Qr===void 0&&(Qr=0),sn===void 0&&(sn=this.length),Ir<0||qr>Tr.length||Qr<0||sn>this.length)throw new RangeError("out of range index");if(Qr>=sn&&Ir>=qr)return 0;if(Qr>=sn)return-1;if(Ir>=qr)return 1;if(Ir>>>=0,qr>>>=0,Qr>>>=0,sn>>>=0,this===Tr)return 0;let nn=sn-Qr,Xn=qr-Ir;const xo=Math.min(nn,Xn),no=this.slice(Qr,sn),lo=Tr.slice(Ir,qr);for(let bo=0;bo<xo;++bo)if(no[bo]!==lo[bo]){nn=no[bo],Xn=lo[bo];break}return nn<Xn?-1:Xn<nn?1:0};function Er(Dr,Tr,Ir,qr,Qr){if(Dr.length===0)return-1;if(typeof Ir=="string"?(qr=Ir,Ir=0):Ir>2147483647?Ir=2147483647:Ir<-2147483648&&(Ir=-2147483648),Ir=+Ir,oo(Ir)&&(Ir=Qr?0:Dr.length-1),Ir<0&&(Ir=Dr.length+Ir),Ir>=Dr.length){if(Qr)return-1;Ir=Dr.length-1}else if(Ir<0)if(Qr)Ir=0;else return-1;if(typeof Tr=="string"&&(Tr=Ft.from(Tr,qr)),Ft.isBuffer(Tr))return Tr.length===0?-1:$r(Dr,Tr,Ir,qr,Qr);if(typeof Tr=="number")return Tr=Tr&255,typeof ct.prototype.indexOf=="function"?Qr?ct.prototype.indexOf.call(Dr,Tr,Ir):ct.prototype.lastIndexOf.call(Dr,Tr,Ir):$r(Dr,[Tr],Ir,qr,Qr);throw new TypeError("val must be string, number or Buffer")}function $r(Dr,Tr,Ir,qr,Qr){let sn=1,nn=Dr.length,Xn=Tr.length;if(qr!==void 0&&(qr=String(qr).toLowerCase(),qr==="ucs2"||qr==="ucs-2"||qr==="utf16le"||qr==="utf-16le")){if(Dr.length<2||Tr.length<2)return-1;sn=2,nn/=2,Xn/=2,Ir/=2}function xo(lo,bo){return sn===1?lo[bo]:lo.readUInt16BE(bo*sn)}let no;if(Qr){let lo=-1;for(no=Ir;no<nn;no++)if(xo(Dr,no)===xo(Tr,lo===-1?0:no-lo)){if(lo===-1&&(lo=no),no-lo+1===Xn)return lo*sn}else lo!==-1&&(no-=no-lo),lo=-1}else for(Ir+Xn>nn&&(Ir=nn-Xn),no=Ir;no>=0;no--){let lo=!0;for(let bo=0;bo<Xn;bo++)if(xo(Dr,no+bo)!==xo(Tr,bo)){lo=!1;break}if(lo)return no}return-1}Ft.prototype.includes=function(Tr,Ir,qr){return this.indexOf(Tr,Ir,qr)!==-1},Ft.prototype.indexOf=function(Tr,Ir,qr){return Er(this,Tr,Ir,qr,!0)},Ft.prototype.lastIndexOf=function(Tr,Ir,qr){return Er(this,Tr,Ir,qr,!1)};function Sr(Dr,Tr,Ir,qr){Ir=Number(Ir)||0;const Qr=Dr.length-Ir;qr?(qr=Number(qr),qr>Qr&&(qr=Qr)):qr=Qr;const sn=Tr.length;qr>sn/2&&(qr=sn/2);let nn;for(nn=0;nn<qr;++nn){const Xn=parseInt(Tr.substr(nn*2,2),16);if(oo(Xn))return nn;Dr[Ir+nn]=Xn}return nn}function fr(Dr,Tr,Ir,qr){return Vn(Wr(Tr,Dr.length-Ir),Dr,Ir,qr)}function vr(Dr,Tr,Ir,qr){return Vn(Kr(Tr),Dr,Ir,qr)}function or(Dr,Tr,Ir,qr){return Vn(Un(Tr),Dr,Ir,qr)}function rr(Dr,Tr,Ir,qr){return Vn(an(Tr,Dr.length-Ir),Dr,Ir,qr)}Ft.prototype.write=function(Tr,Ir,qr,Qr){if(Ir===void 0)Qr="utf8",qr=this.length,Ir=0;else if(qr===void 0&&typeof Ir=="string")Qr=Ir,qr=this.length,Ir=0;else if(isFinite(Ir))Ir=Ir>>>0,isFinite(qr)?(qr=qr>>>0,Qr===void 0&&(Qr="utf8")):(Qr=qr,qr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const sn=this.length-Ir;if((qr===void 0||qr>sn)&&(qr=sn),Tr.length>0&&(qr<0||Ir<0)||Ir>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qr||(Qr="utf8");let nn=!1;for(;;)switch(Qr){case"hex":return Sr(this,Tr,Ir,qr);case"utf8":case"utf-8":return fr(this,Tr,Ir,qr);case"ascii":case"latin1":case"binary":return vr(this,Tr,Ir,qr);case"base64":return or(this,Tr,Ir,qr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rr(this,Tr,Ir,qr);default:if(nn)throw new TypeError("Unknown encoding: "+Qr);Qr=(""+Qr).toLowerCase(),nn=!0}},Ft.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ar(Dr,Tr,Ir){return Tr===0&&Ir===Dr.length?s.fromByteArray(Dr):s.fromByteArray(Dr.slice(Tr,Ir))}function sr(Dr,Tr,Ir){Ir=Math.min(Dr.length,Ir);const qr=[];let Qr=Tr;for(;Qr<Ir;){const sn=Dr[Qr];let nn=null,Xn=sn>239?4:sn>223?3:sn>191?2:1;if(Qr+Xn<=Ir){let xo,no,lo,bo;switch(Xn){case 1:sn<128&&(nn=sn);break;case 2:xo=Dr[Qr+1],(xo&192)===128&&(bo=(sn&31)<<6|xo&63,bo>127&&(nn=bo));break;case 3:xo=Dr[Qr+1],no=Dr[Qr+2],(xo&192)===128&&(no&192)===128&&(bo=(sn&15)<<12|(xo&63)<<6|no&63,bo>2047&&(bo<55296||bo>57343)&&(nn=bo));break;case 4:xo=Dr[Qr+1],no=Dr[Qr+2],lo=Dr[Qr+3],(xo&192)===128&&(no&192)===128&&(lo&192)===128&&(bo=(sn&15)<<18|(xo&63)<<12|(no&63)<<6|lo&63,bo>65535&&bo<1114112&&(nn=bo))}}nn===null?(nn=65533,Xn=1):nn>65535&&(nn-=65536,qr.push(nn>>>10&1023|55296),nn=56320|nn&1023),qr.push(nn),Qr+=Xn}return gr(qr)}const dr=4096;function gr(Dr){const Tr=Dr.length;if(Tr<=dr)return String.fromCharCode.apply(String,Dr);let Ir="",qr=0;for(;qr<Tr;)Ir+=String.fromCharCode.apply(String,Dr.slice(qr,qr+=dr));return Ir}function ur(Dr,Tr,Ir){let qr="";Ir=Math.min(Dr.length,Ir);for(let Qr=Tr;Qr<Ir;++Qr)qr+=String.fromCharCode(Dr[Qr]&127);return qr}function _r(Dr,Tr,Ir){let qr="";Ir=Math.min(Dr.length,Ir);for(let Qr=Tr;Qr<Ir;++Qr)qr+=String.fromCharCode(Dr[Qr]);return qr}function hr(Dr,Tr,Ir){const qr=Dr.length;(!Tr||Tr<0)&&(Tr=0),(!Ir||Ir<0||Ir>qr)&&(Ir=qr);let Qr="";for(let sn=Tr;sn<Ir;++sn)Qr+=Hn[Dr[sn]];return Qr}function cr(Dr,Tr,Ir){const qr=Dr.slice(Tr,Ir);let Qr="";for(let sn=0;sn<qr.length-1;sn+=2)Qr+=String.fromCharCode(qr[sn]+qr[sn+1]*256);return Qr}Ft.prototype.slice=function(Tr,Ir){const qr=this.length;Tr=~~Tr,Ir=Ir===void 0?qr:~~Ir,Tr<0?(Tr+=qr,Tr<0&&(Tr=0)):Tr>qr&&(Tr=qr),Ir<0?(Ir+=qr,Ir<0&&(Ir=0)):Ir>qr&&(Ir=qr),Ir<Tr&&(Ir=Tr);const Qr=this.subarray(Tr,Ir);return Object.setPrototypeOf(Qr,Ft.prototype),Qr};function wr(Dr,Tr,Ir){if(Dr%1!==0||Dr<0)throw new RangeError("offset is not uint");if(Dr+Tr>Ir)throw new RangeError("Trying to access beyond buffer length")}Ft.prototype.readUintLE=Ft.prototype.readUIntLE=function(Tr,Ir,qr){Tr=Tr>>>0,Ir=Ir>>>0,qr||wr(Tr,Ir,this.length);let Qr=this[Tr],sn=1,nn=0;for(;++nn<Ir&&(sn*=256);)Qr+=this[Tr+nn]*sn;return Qr},Ft.prototype.readUintBE=Ft.prototype.readUIntBE=function(Tr,Ir,qr){Tr=Tr>>>0,Ir=Ir>>>0,qr||wr(Tr,Ir,this.length);let Qr=this[Tr+--Ir],sn=1;for(;Ir>0&&(sn*=256);)Qr+=this[Tr+--Ir]*sn;return Qr},Ft.prototype.readUint8=Ft.prototype.readUInt8=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,1,this.length),this[Tr]},Ft.prototype.readUint16LE=Ft.prototype.readUInt16LE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,2,this.length),this[Tr]|this[Tr+1]<<8},Ft.prototype.readUint16BE=Ft.prototype.readUInt16BE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,2,this.length),this[Tr]<<8|this[Tr+1]},Ft.prototype.readUint32LE=Ft.prototype.readUInt32LE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,4,this.length),(this[Tr]|this[Tr+1]<<8|this[Tr+2]<<16)+this[Tr+3]*16777216},Ft.prototype.readUint32BE=Ft.prototype.readUInt32BE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,4,this.length),this[Tr]*16777216+(this[Tr+1]<<16|this[Tr+2]<<8|this[Tr+3])},Ft.prototype.readBigUInt64LE=Qn(function(Tr){Tr=Tr>>>0,Gr(Tr,"offset");const Ir=this[Tr],qr=this[Tr+7];(Ir===void 0||qr===void 0)&&Nr(Tr,this.length-8);const Qr=Ir+this[++Tr]*2**8+this[++Tr]*2**16+this[++Tr]*2**24,sn=this[++Tr]+this[++Tr]*2**8+this[++Tr]*2**16+qr*2**24;return BigInt(Qr)+(BigInt(sn)<<BigInt(32))}),Ft.prototype.readBigUInt64BE=Qn(function(Tr){Tr=Tr>>>0,Gr(Tr,"offset");const Ir=this[Tr],qr=this[Tr+7];(Ir===void 0||qr===void 0)&&Nr(Tr,this.length-8);const Qr=Ir*2**24+this[++Tr]*2**16+this[++Tr]*2**8+this[++Tr],sn=this[++Tr]*2**24+this[++Tr]*2**16+this[++Tr]*2**8+qr;return(BigInt(Qr)<<BigInt(32))+BigInt(sn)}),Ft.prototype.readIntLE=function(Tr,Ir,qr){Tr=Tr>>>0,Ir=Ir>>>0,qr||wr(Tr,Ir,this.length);let Qr=this[Tr],sn=1,nn=0;for(;++nn<Ir&&(sn*=256);)Qr+=this[Tr+nn]*sn;return sn*=128,Qr>=sn&&(Qr-=Math.pow(2,8*Ir)),Qr},Ft.prototype.readIntBE=function(Tr,Ir,qr){Tr=Tr>>>0,Ir=Ir>>>0,qr||wr(Tr,Ir,this.length);let Qr=Ir,sn=1,nn=this[Tr+--Qr];for(;Qr>0&&(sn*=256);)nn+=this[Tr+--Qr]*sn;return sn*=128,nn>=sn&&(nn-=Math.pow(2,8*Ir)),nn},Ft.prototype.readInt8=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,1,this.length),this[Tr]&128?(255-this[Tr]+1)*-1:this[Tr]},Ft.prototype.readInt16LE=function(Tr,Ir){Tr=Tr>>>0,Ir||wr(Tr,2,this.length);const qr=this[Tr]|this[Tr+1]<<8;return qr&32768?qr|4294901760:qr},Ft.prototype.readInt16BE=function(Tr,Ir){Tr=Tr>>>0,Ir||wr(Tr,2,this.length);const qr=this[Tr+1]|this[Tr]<<8;return qr&32768?qr|4294901760:qr},Ft.prototype.readInt32LE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,4,this.length),this[Tr]|this[Tr+1]<<8|this[Tr+2]<<16|this[Tr+3]<<24},Ft.prototype.readInt32BE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,4,this.length),this[Tr]<<24|this[Tr+1]<<16|this[Tr+2]<<8|this[Tr+3]},Ft.prototype.readBigInt64LE=Qn(function(Tr){Tr=Tr>>>0,Gr(Tr,"offset");const Ir=this[Tr],qr=this[Tr+7];(Ir===void 0||qr===void 0)&&Nr(Tr,this.length-8);const Qr=this[Tr+4]+this[Tr+5]*2**8+this[Tr+6]*2**16+(qr<<24);return(BigInt(Qr)<<BigInt(32))+BigInt(Ir+this[++Tr]*2**8+this[++Tr]*2**16+this[++Tr]*2**24)}),Ft.prototype.readBigInt64BE=Qn(function(Tr){Tr=Tr>>>0,Gr(Tr,"offset");const Ir=this[Tr],qr=this[Tr+7];(Ir===void 0||qr===void 0)&&Nr(Tr,this.length-8);const Qr=(Ir<<24)+this[++Tr]*2**16+this[++Tr]*2**8+this[++Tr];return(BigInt(Qr)<<BigInt(32))+BigInt(this[++Tr]*2**24+this[++Tr]*2**16+this[++Tr]*2**8+qr)}),Ft.prototype.readFloatLE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,4,this.length),et.read(this,Tr,!0,23,4)},Ft.prototype.readFloatBE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,4,this.length),et.read(this,Tr,!1,23,4)},Ft.prototype.readDoubleLE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,8,this.length),et.read(this,Tr,!0,52,8)},Ft.prototype.readDoubleBE=function(Tr,Ir){return Tr=Tr>>>0,Ir||wr(Tr,8,this.length),et.read(this,Tr,!1,52,8)};function Br(Dr,Tr,Ir,qr,Qr,sn){if(!Ft.isBuffer(Dr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Tr>Qr||Tr<sn)throw new RangeError('"value" argument is out of bounds');if(Ir+qr>Dr.length)throw new RangeError("Index out of range")}Ft.prototype.writeUintLE=Ft.prototype.writeUIntLE=function(Tr,Ir,qr,Qr){if(Tr=+Tr,Ir=Ir>>>0,qr=qr>>>0,!Qr){const Xn=Math.pow(2,8*qr)-1;Br(this,Tr,Ir,qr,Xn,0)}let sn=1,nn=0;for(this[Ir]=Tr&255;++nn<qr&&(sn*=256);)this[Ir+nn]=Tr/sn&255;return Ir+qr},Ft.prototype.writeUintBE=Ft.prototype.writeUIntBE=function(Tr,Ir,qr,Qr){if(Tr=+Tr,Ir=Ir>>>0,qr=qr>>>0,!Qr){const Xn=Math.pow(2,8*qr)-1;Br(this,Tr,Ir,qr,Xn,0)}let sn=qr-1,nn=1;for(this[Ir+sn]=Tr&255;--sn>=0&&(nn*=256);)this[Ir+sn]=Tr/nn&255;return Ir+qr},Ft.prototype.writeUint8=Ft.prototype.writeUInt8=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,1,255,0),this[Ir]=Tr&255,Ir+1},Ft.prototype.writeUint16LE=Ft.prototype.writeUInt16LE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,2,65535,0),this[Ir]=Tr&255,this[Ir+1]=Tr>>>8,Ir+2},Ft.prototype.writeUint16BE=Ft.prototype.writeUInt16BE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,2,65535,0),this[Ir]=Tr>>>8,this[Ir+1]=Tr&255,Ir+2},Ft.prototype.writeUint32LE=Ft.prototype.writeUInt32LE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,4,4294967295,0),this[Ir+3]=Tr>>>24,this[Ir+2]=Tr>>>16,this[Ir+1]=Tr>>>8,this[Ir]=Tr&255,Ir+4},Ft.prototype.writeUint32BE=Ft.prototype.writeUInt32BE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,4,4294967295,0),this[Ir]=Tr>>>24,this[Ir+1]=Tr>>>16,this[Ir+2]=Tr>>>8,this[Ir+3]=Tr&255,Ir+4};function Or(Dr,Tr,Ir,qr,Qr){Hr(Tr,qr,Qr,Dr,Ir,7);let sn=Number(Tr&BigInt(4294967295));Dr[Ir++]=sn,sn=sn>>8,Dr[Ir++]=sn,sn=sn>>8,Dr[Ir++]=sn,sn=sn>>8,Dr[Ir++]=sn;let nn=Number(Tr>>BigInt(32)&BigInt(4294967295));return Dr[Ir++]=nn,nn=nn>>8,Dr[Ir++]=nn,nn=nn>>8,Dr[Ir++]=nn,nn=nn>>8,Dr[Ir++]=nn,Ir}function Rr(Dr,Tr,Ir,qr,Qr){Hr(Tr,qr,Qr,Dr,Ir,7);let sn=Number(Tr&BigInt(4294967295));Dr[Ir+7]=sn,sn=sn>>8,Dr[Ir+6]=sn,sn=sn>>8,Dr[Ir+5]=sn,sn=sn>>8,Dr[Ir+4]=sn;let nn=Number(Tr>>BigInt(32)&BigInt(4294967295));return Dr[Ir+3]=nn,nn=nn>>8,Dr[Ir+2]=nn,nn=nn>>8,Dr[Ir+1]=nn,nn=nn>>8,Dr[Ir]=nn,Ir+8}Ft.prototype.writeBigUInt64LE=Qn(function(Tr,Ir=0){return Or(this,Tr,Ir,BigInt(0),BigInt("0xffffffffffffffff"))}),Ft.prototype.writeBigUInt64BE=Qn(function(Tr,Ir=0){return Rr(this,Tr,Ir,BigInt(0),BigInt("0xffffffffffffffff"))}),Ft.prototype.writeIntLE=function(Tr,Ir,qr,Qr){if(Tr=+Tr,Ir=Ir>>>0,!Qr){const xo=Math.pow(2,8*qr-1);Br(this,Tr,Ir,qr,xo-1,-xo)}let sn=0,nn=1,Xn=0;for(this[Ir]=Tr&255;++sn<qr&&(nn*=256);)Tr<0&&Xn===0&&this[Ir+sn-1]!==0&&(Xn=1),this[Ir+sn]=(Tr/nn>>0)-Xn&255;return Ir+qr},Ft.prototype.writeIntBE=function(Tr,Ir,qr,Qr){if(Tr=+Tr,Ir=Ir>>>0,!Qr){const xo=Math.pow(2,8*qr-1);Br(this,Tr,Ir,qr,xo-1,-xo)}let sn=qr-1,nn=1,Xn=0;for(this[Ir+sn]=Tr&255;--sn>=0&&(nn*=256);)Tr<0&&Xn===0&&this[Ir+sn+1]!==0&&(Xn=1),this[Ir+sn]=(Tr/nn>>0)-Xn&255;return Ir+qr},Ft.prototype.writeInt8=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,1,127,-128),Tr<0&&(Tr=255+Tr+1),this[Ir]=Tr&255,Ir+1},Ft.prototype.writeInt16LE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,2,32767,-32768),this[Ir]=Tr&255,this[Ir+1]=Tr>>>8,Ir+2},Ft.prototype.writeInt16BE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,2,32767,-32768),this[Ir]=Tr>>>8,this[Ir+1]=Tr&255,Ir+2},Ft.prototype.writeInt32LE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,4,2147483647,-2147483648),this[Ir]=Tr&255,this[Ir+1]=Tr>>>8,this[Ir+2]=Tr>>>16,this[Ir+3]=Tr>>>24,Ir+4},Ft.prototype.writeInt32BE=function(Tr,Ir,qr){return Tr=+Tr,Ir=Ir>>>0,qr||Br(this,Tr,Ir,4,2147483647,-2147483648),Tr<0&&(Tr=4294967295+Tr+1),this[Ir]=Tr>>>24,this[Ir+1]=Tr>>>16,this[Ir+2]=Tr>>>8,this[Ir+3]=Tr&255,Ir+4},Ft.prototype.writeBigInt64LE=Qn(function(Tr,Ir=0){return Or(this,Tr,Ir,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Ft.prototype.writeBigInt64BE=Qn(function(Tr,Ir=0){return Rr(this,Tr,Ir,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pr(Dr,Tr,Ir,qr,Qr,sn){if(Ir+qr>Dr.length)throw new RangeError("Index out of range");if(Ir<0)throw new RangeError("Index out of range")}function Ur(Dr,Tr,Ir,qr,Qr){return Tr=+Tr,Ir=Ir>>>0,Qr||Pr(Dr,Tr,Ir,4),et.write(Dr,Tr,Ir,qr,23,4),Ir+4}Ft.prototype.writeFloatLE=function(Tr,Ir,qr){return Ur(this,Tr,Ir,!0,qr)},Ft.prototype.writeFloatBE=function(Tr,Ir,qr){return Ur(this,Tr,Ir,!1,qr)};function kr(Dr,Tr,Ir,qr,Qr){return Tr=+Tr,Ir=Ir>>>0,Qr||Pr(Dr,Tr,Ir,8),et.write(Dr,Tr,Ir,qr,52,8),Ir+8}Ft.prototype.writeDoubleLE=function(Tr,Ir,qr){return kr(this,Tr,Ir,!0,qr)},Ft.prototype.writeDoubleBE=function(Tr,Ir,qr){return kr(this,Tr,Ir,!1,qr)},Ft.prototype.copy=function(Tr,Ir,qr,Qr){if(!Ft.isBuffer(Tr))throw new TypeError("argument should be a Buffer");if(qr||(qr=0),!Qr&&Qr!==0&&(Qr=this.length),Ir>=Tr.length&&(Ir=Tr.length),Ir||(Ir=0),Qr>0&&Qr<qr&&(Qr=qr),Qr===qr||Tr.length===0||this.length===0)return 0;if(Ir<0)throw new RangeError("targetStart out of bounds");if(qr<0||qr>=this.length)throw new RangeError("Index out of range");if(Qr<0)throw new RangeError("sourceEnd out of bounds");Qr>this.length&&(Qr=this.length),Tr.length-Ir<Qr-qr&&(Qr=Tr.length-Ir+qr);const sn=Qr-qr;return this===Tr&&typeof ct.prototype.copyWithin=="function"?this.copyWithin(Ir,qr,Qr):ct.prototype.set.call(Tr,this.subarray(qr,Qr),Ir),sn},Ft.prototype.fill=function(Tr,Ir,qr,Qr){if(typeof Tr=="string"){if(typeof Ir=="string"?(Qr=Ir,Ir=0,qr=this.length):typeof qr=="string"&&(Qr=qr,qr=this.length),Qr!==void 0&&typeof Qr!="string")throw new TypeError("encoding must be a string");if(typeof Qr=="string"&&!Ft.isEncoding(Qr))throw new TypeError("Unknown encoding: "+Qr);if(Tr.length===1){const nn=Tr.charCodeAt(0);(Qr==="utf8"&&nn<128||Qr==="latin1")&&(Tr=nn)}}else typeof Tr=="number"?Tr=Tr&255:typeof Tr=="boolean"&&(Tr=Number(Tr));if(Ir<0||this.length<Ir||this.length<qr)throw new RangeError("Out of range index");if(qr<=Ir)return this;Ir=Ir>>>0,qr=qr===void 0?this.length:qr>>>0,Tr||(Tr=0);let sn;if(typeof Tr=="number")for(sn=Ir;sn<qr;++sn)this[sn]=Tr;else{const nn=Ft.isBuffer(Tr)?Tr:Ft.from(Tr,Qr),Xn=nn.length;if(Xn===0)throw new TypeError('The value "'+Tr+'" is invalid for argument "value"');for(sn=0;sn<qr-Ir;++sn)this[sn+Ir]=nn[sn%Xn]}return this};const Ar={};function Cr(Dr,Tr,Ir){Ar[Dr]=class extends Ir{constructor(){super(),Object.defineProperty(this,"message",{value:Tr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Dr}]`,this.stack,delete this.name}get code(){return Dr}set code(Qr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qr,writable:!0})}toString(){return`${this.name} [${Dr}]: ${this.message}`}}}Cr("ERR_BUFFER_OUT_OF_BOUNDS",function(Dr){return Dr?`${Dr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Cr("ERR_INVALID_ARG_TYPE",function(Dr,Tr){return`The "${Dr}" argument must be of type number. Received type ${typeof Tr}`},TypeError),Cr("ERR_OUT_OF_RANGE",function(Dr,Tr,Ir){let qr=`The value of "${Dr}" is out of range.`,Qr=Ir;return Number.isInteger(Ir)&&Math.abs(Ir)>2**32?Qr=Fr(String(Ir)):typeof Ir=="bigint"&&(Qr=String(Ir),(Ir>BigInt(2)**BigInt(32)||Ir<-(BigInt(2)**BigInt(32)))&&(Qr=Fr(Qr)),Qr+="n"),qr+=` It must be ${Tr}. Received ${Qr}`,qr},RangeError);function Fr(Dr){let Tr="",Ir=Dr.length;const qr=Dr[0]==="-"?1:0;for(;Ir>=qr+4;Ir-=3)Tr=`_${Dr.slice(Ir-3,Ir)}${Tr}`;return`${Dr.slice(0,Ir)}${Tr}`}function Lr(Dr,Tr,Ir){Gr(Tr,"offset"),(Dr[Tr]===void 0||Dr[Tr+Ir]===void 0)&&Nr(Tr,Dr.length-(Ir+1))}function Hr(Dr,Tr,Ir,qr,Qr,sn){if(Dr>Ir||Dr<Tr){const nn=typeof Tr=="bigint"?"n":"";let Xn;throw Tr===0||Tr===BigInt(0)?Xn=`>= 0${nn} and < 2${nn} ** ${(sn+1)*8}${nn}`:Xn=`>= -(2${nn} ** ${(sn+1)*8-1}${nn}) and < 2 ** ${(sn+1)*8-1}${nn}`,new Ar.ERR_OUT_OF_RANGE("value",Xn,Dr)}Lr(qr,Qr,sn)}function Gr(Dr,Tr){if(typeof Dr!="number")throw new Ar.ERR_INVALID_ARG_TYPE(Tr,"number",Dr)}function Nr(Dr,Tr,Ir){throw Math.floor(Dr)!==Dr?(Gr(Dr,Ir),new Ar.ERR_OUT_OF_RANGE("offset","an integer",Dr)):Tr<0?new Ar.ERR_BUFFER_OUT_OF_BOUNDS:new Ar.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Tr}`,Dr)}const Vr=/[^+/0-9A-Za-z-_]/g;function jr(Dr){if(Dr=Dr.split("=")[0],Dr=Dr.trim().replace(Vr,""),Dr.length<2)return"";for(;Dr.length%4!==0;)Dr=Dr+"=";return Dr}function Wr(Dr,Tr){Tr=Tr||1/0;let Ir;const qr=Dr.length;let Qr=null;const sn=[];for(let nn=0;nn<qr;++nn){if(Ir=Dr.charCodeAt(nn),Ir>55295&&Ir<57344){if(!Qr){if(Ir>56319){(Tr-=3)>-1&&sn.push(239,191,189);continue}else if(nn+1===qr){(Tr-=3)>-1&&sn.push(239,191,189);continue}Qr=Ir;continue}if(Ir<56320){(Tr-=3)>-1&&sn.push(239,191,189),Qr=Ir;continue}Ir=(Qr-55296<<10|Ir-56320)+65536}else Qr&&(Tr-=3)>-1&&sn.push(239,191,189);if(Qr=null,Ir<128){if((Tr-=1)<0)break;sn.push(Ir)}else if(Ir<2048){if((Tr-=2)<0)break;sn.push(Ir>>6|192,Ir&63|128)}else if(Ir<65536){if((Tr-=3)<0)break;sn.push(Ir>>12|224,Ir>>6&63|128,Ir&63|128)}else if(Ir<1114112){if((Tr-=4)<0)break;sn.push(Ir>>18|240,Ir>>12&63|128,Ir>>6&63|128,Ir&63|128)}else throw new Error("Invalid code point")}return sn}function Kr(Dr){const Tr=[];for(let Ir=0;Ir<Dr.length;++Ir)Tr.push(Dr.charCodeAt(Ir)&255);return Tr}function an(Dr,Tr){let Ir,qr,Qr;const sn=[];for(let nn=0;nn<Dr.length&&!((Tr-=2)<0);++nn)Ir=Dr.charCodeAt(nn),qr=Ir>>8,Qr=Ir%256,sn.push(Qr),sn.push(qr);return sn}function Un(Dr){return s.toByteArray(jr(Dr))}function Vn(Dr,Tr,Ir,qr){let Qr;for(Qr=0;Qr<qr&&!(Qr+Ir>=Tr.length||Qr>=Dr.length);++Qr)Tr[Qr+Ir]=Dr[Qr];return Qr}function Kn(Dr,Tr){return Dr instanceof Tr||Dr!=null&&Dr.constructor!=null&&Dr.constructor.name!=null&&Dr.constructor.name===Tr.name}function oo(Dr){return Dr!==Dr}const Hn=function(){const Dr="0123456789abcdef",Tr=new Array(256);for(let Ir=0;Ir<16;++Ir){const qr=Ir*16;for(let Qr=0;Qr<16;++Qr)Tr[qr+Qr]=Dr[Ir]+Dr[Qr]}return Tr}();function Qn(Dr){return typeof BigInt>"u"?yo:Dr}function yo(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$1=buffer$1.Buffer,Blob$3=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File$1=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$2=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$3,BlobOptions,Buffer:Buffer$1$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$2,default:Buffer$1,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var bn$3={exports:{}};const require$$1$3=getAugmentedNamespace(dist);bn$3.exports;(function(a){(function(s,et){function tt(vr,or){if(!vr)throw new Error(or||"Assertion failed")}function at(vr,or){vr.super_=or;var rr=function(){};rr.prototype=or.prototype,vr.prototype=new rr,vr.prototype.constructor=vr}function ct(vr,or,rr){if(ct.isBN(vr))return vr;this.negative=0,this.words=null,this.length=0,this.red=null,vr!==null&&((or==="le"||or==="be")&&(rr=or,or=10),this._init(vr||0,or||10,rr||"be"))}typeof s=="object"?s.exports=ct:et.BN=ct,ct.BN=ct,ct.wordSize=26;var ut;try{typeof window<"u"&&typeof window.Buffer<"u"?ut=window.Buffer:ut=require$$1$3.Buffer}catch{}ct.isBN=function(or){return or instanceof ct?!0:or!==null&&typeof or=="object"&&or.constructor.wordSize===ct.wordSize&&Array.isArray(or.words)},ct.max=function(or,rr){return or.cmp(rr)>0?or:rr},ct.min=function(or,rr){return or.cmp(rr)<0?or:rr},ct.prototype._init=function(or,rr,ar){if(typeof or=="number")return this._initNumber(or,rr,ar);if(typeof or=="object")return this._initArray(or,rr,ar);rr==="hex"&&(rr=16),tt(rr===(rr|0)&&rr>=2&&rr<=36),or=or.toString().replace(/\s+/g,"");var sr=0;or[0]==="-"&&(sr++,this.negative=1),sr<or.length&&(rr===16?this._parseHex(or,sr,ar):(this._parseBase(or,rr,sr),ar==="le"&&this._initArray(this.toArray(),rr,ar)))},ct.prototype._initNumber=function(or,rr,ar){or<0&&(this.negative=1,or=-or),or<67108864?(this.words=[or&67108863],this.length=1):or<4503599627370496?(this.words=[or&67108863,or/67108864&67108863],this.length=2):(tt(or<9007199254740992),this.words=[or&67108863,or/67108864&67108863,1],this.length=3),ar==="le"&&this._initArray(this.toArray(),rr,ar)},ct.prototype._initArray=function(or,rr,ar){if(tt(typeof or.length=="number"),or.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(or.length/3),this.words=new Array(this.length);for(var sr=0;sr<this.length;sr++)this.words[sr]=0;var dr,gr,ur=0;if(ar==="be")for(sr=or.length-1,dr=0;sr>=0;sr-=3)gr=or[sr]|or[sr-1]<<8|or[sr-2]<<16,this.words[dr]|=gr<<ur&67108863,this.words[dr+1]=gr>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,dr++);else if(ar==="le")for(sr=0,dr=0;sr<or.length;sr+=3)gr=or[sr]|or[sr+1]<<8|or[sr+2]<<16,this.words[dr]|=gr<<ur&67108863,this.words[dr+1]=gr>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,dr++);return this._strip()};function bt(vr,or){var rr=vr.charCodeAt(or);if(rr>=48&&rr<=57)return rr-48;if(rr>=65&&rr<=70)return rr-55;if(rr>=97&&rr<=102)return rr-87;tt(!1,"Invalid character in "+vr)}function wt(vr,or,rr){var ar=bt(vr,rr);return rr-1>=or&&(ar|=bt(vr,rr-1)<<4),ar}ct.prototype._parseHex=function(or,rr,ar){this.length=Math.ceil((or.length-rr)/6),this.words=new Array(this.length);for(var sr=0;sr<this.length;sr++)this.words[sr]=0;var dr=0,gr=0,ur;if(ar==="be")for(sr=or.length-1;sr>=rr;sr-=2)ur=wt(or,rr,sr)<<dr,this.words[gr]|=ur&67108863,dr>=18?(dr-=18,gr+=1,this.words[gr]|=ur>>>26):dr+=8;else{var _r=or.length-rr;for(sr=_r%2===0?rr+1:rr;sr<or.length;sr+=2)ur=wt(or,rr,sr)<<dr,this.words[gr]|=ur&67108863,dr>=18?(dr-=18,gr+=1,this.words[gr]|=ur>>>26):dr+=8}this._strip()};function Et(vr,or,rr,ar){for(var sr=0,dr=0,gr=Math.min(vr.length,rr),ur=or;ur<gr;ur++){var _r=vr.charCodeAt(ur)-48;sr*=ar,_r>=49?dr=_r-49+10:_r>=17?dr=_r-17+10:dr=_r,tt(_r>=0&&dr<ar,"Invalid character"),sr+=dr}return sr}ct.prototype._parseBase=function(or,rr,ar){this.words=[0],this.length=1;for(var sr=0,dr=1;dr<=67108863;dr*=rr)sr++;sr--,dr=dr/rr|0;for(var gr=or.length-ar,ur=gr%sr,_r=Math.min(gr,gr-ur)+ar,hr=0,cr=ar;cr<_r;cr+=sr)hr=Et(or,cr,cr+sr,rr),this.imuln(dr),this.words[0]+hr<67108864?this.words[0]+=hr:this._iaddn(hr);if(ur!==0){var wr=1;for(hr=Et(or,cr,or.length,rr),cr=0;cr<ur;cr++)wr*=rr;this.imuln(wr),this.words[0]+hr<67108864?this.words[0]+=hr:this._iaddn(hr)}this._strip()},ct.prototype.copy=function(or){or.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)or.words[rr]=this.words[rr];or.length=this.length,or.negative=this.negative,or.red=this.red};function Ft(vr,or){vr.words=or.words,vr.length=or.length,vr.negative=or.negative,vr.red=or.red}if(ct.prototype._move=function(or){Ft(or,this)},ct.prototype.clone=function(){var or=new ct(null);return this.copy(or),or},ct.prototype._expand=function(or){for(;this.length<or;)this.words[this.length++]=0;return this},ct.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ct.prototype[Symbol.for("nodejs.util.inspect.custom")]=jt}catch{ct.prototype.inspect=jt}else ct.prototype.inspect=jt;function jt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ut=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Vt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ct.prototype.toString=function(or,rr){or=or||10,rr=rr|0||1;var ar;if(or===16||or==="hex"){ar="";for(var sr=0,dr=0,gr=0;gr<this.length;gr++){var ur=this.words[gr],_r=((ur<<sr|dr)&16777215).toString(16);dr=ur>>>24-sr&16777215,sr+=2,sr>=26&&(sr-=26,gr--),dr!==0||gr!==this.length-1?ar=Lt[6-_r.length]+_r+ar:ar=_r+ar}for(dr!==0&&(ar=dr.toString(16)+ar);ar.length%rr!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}if(or===(or|0)&&or>=2&&or<=36){var hr=Ut[or],cr=Vt[or];ar="";var wr=this.clone();for(wr.negative=0;!wr.isZero();){var Br=wr.modrn(cr).toString(or);wr=wr.idivn(cr),wr.isZero()?ar=Br+ar:ar=Lt[hr-Br.length]+Br+ar}for(this.isZero()&&(ar="0"+ar);ar.length%rr!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}tt(!1,"Base should be between 2 and 36")},ct.prototype.toNumber=function(){var or=this.words[0];return this.length===2?or+=this.words[1]*67108864:this.length===3&&this.words[2]===1?or+=4503599627370496+this.words[1]*67108864:this.length>2&&tt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-or:or},ct.prototype.toJSON=function(){return this.toString(16,2)},ut&&(ct.prototype.toBuffer=function(or,rr){return this.toArrayLike(ut,or,rr)}),ct.prototype.toArray=function(or,rr){return this.toArrayLike(Array,or,rr)};var Yt=function(or,rr){return or.allocUnsafe?or.allocUnsafe(rr):new or(rr)};ct.prototype.toArrayLike=function(or,rr,ar){this._strip();var sr=this.byteLength(),dr=ar||Math.max(1,sr);tt(sr<=dr,"byte array longer than desired length"),tt(dr>0,"Requested array length <= 0");var gr=Yt(or,dr),ur=rr==="le"?"LE":"BE";return this["_toArrayLike"+ur](gr,sr),gr},ct.prototype._toArrayLikeLE=function(or,rr){for(var ar=0,sr=0,dr=0,gr=0;dr<this.length;dr++){var ur=this.words[dr]<<gr|sr;or[ar++]=ur&255,ar<or.length&&(or[ar++]=ur>>8&255),ar<or.length&&(or[ar++]=ur>>16&255),gr===6?(ar<or.length&&(or[ar++]=ur>>24&255),sr=0,gr=0):(sr=ur>>>24,gr+=2)}if(ar<or.length)for(or[ar++]=sr;ar<or.length;)or[ar++]=0},ct.prototype._toArrayLikeBE=function(or,rr){for(var ar=or.length-1,sr=0,dr=0,gr=0;dr<this.length;dr++){var ur=this.words[dr]<<gr|sr;or[ar--]=ur&255,ar>=0&&(or[ar--]=ur>>8&255),ar>=0&&(or[ar--]=ur>>16&255),gr===6?(ar>=0&&(or[ar--]=ur>>24&255),sr=0,gr=0):(sr=ur>>>24,gr+=2)}if(ar>=0)for(or[ar--]=sr;ar>=0;)or[ar--]=0},Math.clz32?ct.prototype._countBits=function(or){return 32-Math.clz32(or)}:ct.prototype._countBits=function(or){var rr=or,ar=0;return rr>=4096&&(ar+=13,rr>>>=13),rr>=64&&(ar+=7,rr>>>=7),rr>=8&&(ar+=4,rr>>>=4),rr>=2&&(ar+=2,rr>>>=2),ar+rr},ct.prototype._zeroBits=function(or){if(or===0)return 26;var rr=or,ar=0;return rr&8191||(ar+=13,rr>>>=13),rr&127||(ar+=7,rr>>>=7),rr&15||(ar+=4,rr>>>=4),rr&3||(ar+=2,rr>>>=2),rr&1||ar++,ar},ct.prototype.bitLength=function(){var or=this.words[this.length-1],rr=this._countBits(or);return(this.length-1)*26+rr};function er(vr){for(var or=new Array(vr.bitLength()),rr=0;rr<or.length;rr++){var ar=rr/26|0,sr=rr%26;or[rr]=vr.words[ar]>>>sr&1}return or}ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var or=0,rr=0;rr<this.length;rr++){var ar=this._zeroBits(this.words[rr]);if(or+=ar,ar!==26)break}return or},ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ct.prototype.toTwos=function(or){return this.negative!==0?this.abs().inotn(or).iaddn(1):this.clone()},ct.prototype.fromTwos=function(or){return this.testn(or-1)?this.notn(or).iaddn(1).ineg():this.clone()},ct.prototype.isNeg=function(){return this.negative!==0},ct.prototype.neg=function(){return this.clone().ineg()},ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ct.prototype.iuor=function(or){for(;this.length<or.length;)this.words[this.length++]=0;for(var rr=0;rr<or.length;rr++)this.words[rr]=this.words[rr]|or.words[rr];return this._strip()},ct.prototype.ior=function(or){return tt((this.negative|or.negative)===0),this.iuor(or)},ct.prototype.or=function(or){return this.length>or.length?this.clone().ior(or):or.clone().ior(this)},ct.prototype.uor=function(or){return this.length>or.length?this.clone().iuor(or):or.clone().iuor(this)},ct.prototype.iuand=function(or){var rr;this.length>or.length?rr=or:rr=this;for(var ar=0;ar<rr.length;ar++)this.words[ar]=this.words[ar]&or.words[ar];return this.length=rr.length,this._strip()},ct.prototype.iand=function(or){return tt((this.negative|or.negative)===0),this.iuand(or)},ct.prototype.and=function(or){return this.length>or.length?this.clone().iand(or):or.clone().iand(this)},ct.prototype.uand=function(or){return this.length>or.length?this.clone().iuand(or):or.clone().iuand(this)},ct.prototype.iuxor=function(or){var rr,ar;this.length>or.length?(rr=this,ar=or):(rr=or,ar=this);for(var sr=0;sr<ar.length;sr++)this.words[sr]=rr.words[sr]^ar.words[sr];if(this!==rr)for(;sr<rr.length;sr++)this.words[sr]=rr.words[sr];return this.length=rr.length,this._strip()},ct.prototype.ixor=function(or){return tt((this.negative|or.negative)===0),this.iuxor(or)},ct.prototype.xor=function(or){return this.length>or.length?this.clone().ixor(or):or.clone().ixor(this)},ct.prototype.uxor=function(or){return this.length>or.length?this.clone().iuxor(or):or.clone().iuxor(this)},ct.prototype.inotn=function(or){tt(typeof or=="number"&&or>=0);var rr=Math.ceil(or/26)|0,ar=or%26;this._expand(rr),ar>0&&rr--;for(var sr=0;sr<rr;sr++)this.words[sr]=~this.words[sr]&67108863;return ar>0&&(this.words[sr]=~this.words[sr]&67108863>>26-ar),this._strip()},ct.prototype.notn=function(or){return this.clone().inotn(or)},ct.prototype.setn=function(or,rr){tt(typeof or=="number"&&or>=0);var ar=or/26|0,sr=or%26;return this._expand(ar+1),rr?this.words[ar]=this.words[ar]|1<<sr:this.words[ar]=this.words[ar]&~(1<<sr),this._strip()},ct.prototype.iadd=function(or){var rr;if(this.negative!==0&&or.negative===0)return this.negative=0,rr=this.isub(or),this.negative^=1,this._normSign();if(this.negative===0&&or.negative!==0)return or.negative=0,rr=this.isub(or),or.negative=1,rr._normSign();var ar,sr;this.length>or.length?(ar=this,sr=or):(ar=or,sr=this);for(var dr=0,gr=0;gr<sr.length;gr++)rr=(ar.words[gr]|0)+(sr.words[gr]|0)+dr,this.words[gr]=rr&67108863,dr=rr>>>26;for(;dr!==0&&gr<ar.length;gr++)rr=(ar.words[gr]|0)+dr,this.words[gr]=rr&67108863,dr=rr>>>26;if(this.length=ar.length,dr!==0)this.words[this.length]=dr,this.length++;else if(ar!==this)for(;gr<ar.length;gr++)this.words[gr]=ar.words[gr];return this},ct.prototype.add=function(or){var rr;return or.negative!==0&&this.negative===0?(or.negative=0,rr=this.sub(or),or.negative^=1,rr):or.negative===0&&this.negative!==0?(this.negative=0,rr=or.sub(this),this.negative=1,rr):this.length>or.length?this.clone().iadd(or):or.clone().iadd(this)},ct.prototype.isub=function(or){if(or.negative!==0){or.negative=0;var rr=this.iadd(or);return or.negative=1,rr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(or),this.negative=1,this._normSign();var ar=this.cmp(or);if(ar===0)return this.negative=0,this.length=1,this.words[0]=0,this;var sr,dr;ar>0?(sr=this,dr=or):(sr=or,dr=this);for(var gr=0,ur=0;ur<dr.length;ur++)rr=(sr.words[ur]|0)-(dr.words[ur]|0)+gr,gr=rr>>26,this.words[ur]=rr&67108863;for(;gr!==0&&ur<sr.length;ur++)rr=(sr.words[ur]|0)+gr,gr=rr>>26,this.words[ur]=rr&67108863;if(gr===0&&ur<sr.length&&sr!==this)for(;ur<sr.length;ur++)this.words[ur]=sr.words[ur];return this.length=Math.max(this.length,ur),sr!==this&&(this.negative=1),this._strip()},ct.prototype.sub=function(or){return this.clone().isub(or)};function tr(vr,or,rr){rr.negative=or.negative^vr.negative;var ar=vr.length+or.length|0;rr.length=ar,ar=ar-1|0;var sr=vr.words[0]|0,dr=or.words[0]|0,gr=sr*dr,ur=gr&67108863,_r=gr/67108864|0;rr.words[0]=ur;for(var hr=1;hr<ar;hr++){for(var cr=_r>>>26,wr=_r&67108863,Br=Math.min(hr,or.length-1),Or=Math.max(0,hr-vr.length+1);Or<=Br;Or++){var Rr=hr-Or|0;sr=vr.words[Rr]|0,dr=or.words[Or]|0,gr=sr*dr+wr,cr+=gr/67108864|0,wr=gr&67108863}rr.words[hr]=wr|0,_r=cr|0}return _r!==0?rr.words[hr]=_r|0:rr.length--,rr._strip()}var nr=function(or,rr,ar){var sr=or.words,dr=rr.words,gr=ar.words,ur=0,_r,hr,cr,wr=sr[0]|0,Br=wr&8191,Or=wr>>>13,Rr=sr[1]|0,Pr=Rr&8191,Ur=Rr>>>13,kr=sr[2]|0,Ar=kr&8191,Cr=kr>>>13,Fr=sr[3]|0,Lr=Fr&8191,Hr=Fr>>>13,Gr=sr[4]|0,Nr=Gr&8191,Vr=Gr>>>13,jr=sr[5]|0,Wr=jr&8191,Kr=jr>>>13,an=sr[6]|0,Un=an&8191,Vn=an>>>13,Kn=sr[7]|0,oo=Kn&8191,Hn=Kn>>>13,Qn=sr[8]|0,yo=Qn&8191,Dr=Qn>>>13,Tr=sr[9]|0,Ir=Tr&8191,qr=Tr>>>13,Qr=dr[0]|0,sn=Qr&8191,nn=Qr>>>13,Xn=dr[1]|0,xo=Xn&8191,no=Xn>>>13,lo=dr[2]|0,bo=lo&8191,mo=lo>>>13,Eo=dr[3]|0,Bo=Eo&8191,vo=Eo>>>13,Co=dr[4]|0,Mo=Co&8191,go=Co>>>13,$o=dr[5]|0,jo=$o&8191,Xr=$o>>>13,Jr=dr[6]|0,Dn=Jr&8191,Ln=Jr>>>13,Gn=dr[7]|0,co=Gn&8191,Jn=Gn>>>13,_i=dr[8]|0,ao=_i&8191,Wn=_i>>>13,eo=dr[9]|0,_o=eo&8191,ho=eo>>>13;ar.negative=or.negative^rr.negative,ar.length=19,_r=Math.imul(Br,sn),hr=Math.imul(Br,nn),hr=hr+Math.imul(Or,sn)|0,cr=Math.imul(Or,nn);var To=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(To>>>26)|0,To&=67108863,_r=Math.imul(Pr,sn),hr=Math.imul(Pr,nn),hr=hr+Math.imul(Ur,sn)|0,cr=Math.imul(Ur,nn),_r=_r+Math.imul(Br,xo)|0,hr=hr+Math.imul(Br,no)|0,hr=hr+Math.imul(Or,xo)|0,cr=cr+Math.imul(Or,no)|0;var Io=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Io>>>26)|0,Io&=67108863,_r=Math.imul(Ar,sn),hr=Math.imul(Ar,nn),hr=hr+Math.imul(Cr,sn)|0,cr=Math.imul(Cr,nn),_r=_r+Math.imul(Pr,xo)|0,hr=hr+Math.imul(Pr,no)|0,hr=hr+Math.imul(Ur,xo)|0,cr=cr+Math.imul(Ur,no)|0,_r=_r+Math.imul(Br,bo)|0,hr=hr+Math.imul(Br,mo)|0,hr=hr+Math.imul(Or,bo)|0,cr=cr+Math.imul(Or,mo)|0;var Ro=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,_r=Math.imul(Lr,sn),hr=Math.imul(Lr,nn),hr=hr+Math.imul(Hr,sn)|0,cr=Math.imul(Hr,nn),_r=_r+Math.imul(Ar,xo)|0,hr=hr+Math.imul(Ar,no)|0,hr=hr+Math.imul(Cr,xo)|0,cr=cr+Math.imul(Cr,no)|0,_r=_r+Math.imul(Pr,bo)|0,hr=hr+Math.imul(Pr,mo)|0,hr=hr+Math.imul(Ur,bo)|0,cr=cr+Math.imul(Ur,mo)|0,_r=_r+Math.imul(Br,Bo)|0,hr=hr+Math.imul(Br,vo)|0,hr=hr+Math.imul(Or,Bo)|0,cr=cr+Math.imul(Or,vo)|0;var Do=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Do>>>26)|0,Do&=67108863,_r=Math.imul(Nr,sn),hr=Math.imul(Nr,nn),hr=hr+Math.imul(Vr,sn)|0,cr=Math.imul(Vr,nn),_r=_r+Math.imul(Lr,xo)|0,hr=hr+Math.imul(Lr,no)|0,hr=hr+Math.imul(Hr,xo)|0,cr=cr+Math.imul(Hr,no)|0,_r=_r+Math.imul(Ar,bo)|0,hr=hr+Math.imul(Ar,mo)|0,hr=hr+Math.imul(Cr,bo)|0,cr=cr+Math.imul(Cr,mo)|0,_r=_r+Math.imul(Pr,Bo)|0,hr=hr+Math.imul(Pr,vo)|0,hr=hr+Math.imul(Ur,Bo)|0,cr=cr+Math.imul(Ur,vo)|0,_r=_r+Math.imul(Br,Mo)|0,hr=hr+Math.imul(Br,go)|0,hr=hr+Math.imul(Or,Mo)|0,cr=cr+Math.imul(Or,go)|0;var Zo=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,_r=Math.imul(Wr,sn),hr=Math.imul(Wr,nn),hr=hr+Math.imul(Kr,sn)|0,cr=Math.imul(Kr,nn),_r=_r+Math.imul(Nr,xo)|0,hr=hr+Math.imul(Nr,no)|0,hr=hr+Math.imul(Vr,xo)|0,cr=cr+Math.imul(Vr,no)|0,_r=_r+Math.imul(Lr,bo)|0,hr=hr+Math.imul(Lr,mo)|0,hr=hr+Math.imul(Hr,bo)|0,cr=cr+Math.imul(Hr,mo)|0,_r=_r+Math.imul(Ar,Bo)|0,hr=hr+Math.imul(Ar,vo)|0,hr=hr+Math.imul(Cr,Bo)|0,cr=cr+Math.imul(Cr,vo)|0,_r=_r+Math.imul(Pr,Mo)|0,hr=hr+Math.imul(Pr,go)|0,hr=hr+Math.imul(Ur,Mo)|0,cr=cr+Math.imul(Ur,go)|0,_r=_r+Math.imul(Br,jo)|0,hr=hr+Math.imul(Br,Xr)|0,hr=hr+Math.imul(Or,jo)|0,cr=cr+Math.imul(Or,Xr)|0;var ts=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(ts>>>26)|0,ts&=67108863,_r=Math.imul(Un,sn),hr=Math.imul(Un,nn),hr=hr+Math.imul(Vn,sn)|0,cr=Math.imul(Vn,nn),_r=_r+Math.imul(Wr,xo)|0,hr=hr+Math.imul(Wr,no)|0,hr=hr+Math.imul(Kr,xo)|0,cr=cr+Math.imul(Kr,no)|0,_r=_r+Math.imul(Nr,bo)|0,hr=hr+Math.imul(Nr,mo)|0,hr=hr+Math.imul(Vr,bo)|0,cr=cr+Math.imul(Vr,mo)|0,_r=_r+Math.imul(Lr,Bo)|0,hr=hr+Math.imul(Lr,vo)|0,hr=hr+Math.imul(Hr,Bo)|0,cr=cr+Math.imul(Hr,vo)|0,_r=_r+Math.imul(Ar,Mo)|0,hr=hr+Math.imul(Ar,go)|0,hr=hr+Math.imul(Cr,Mo)|0,cr=cr+Math.imul(Cr,go)|0,_r=_r+Math.imul(Pr,jo)|0,hr=hr+Math.imul(Pr,Xr)|0,hr=hr+Math.imul(Ur,jo)|0,cr=cr+Math.imul(Ur,Xr)|0,_r=_r+Math.imul(Br,Dn)|0,hr=hr+Math.imul(Br,Ln)|0,hr=hr+Math.imul(Or,Dn)|0,cr=cr+Math.imul(Or,Ln)|0;var Go=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Go>>>26)|0,Go&=67108863,_r=Math.imul(oo,sn),hr=Math.imul(oo,nn),hr=hr+Math.imul(Hn,sn)|0,cr=Math.imul(Hn,nn),_r=_r+Math.imul(Un,xo)|0,hr=hr+Math.imul(Un,no)|0,hr=hr+Math.imul(Vn,xo)|0,cr=cr+Math.imul(Vn,no)|0,_r=_r+Math.imul(Wr,bo)|0,hr=hr+Math.imul(Wr,mo)|0,hr=hr+Math.imul(Kr,bo)|0,cr=cr+Math.imul(Kr,mo)|0,_r=_r+Math.imul(Nr,Bo)|0,hr=hr+Math.imul(Nr,vo)|0,hr=hr+Math.imul(Vr,Bo)|0,cr=cr+Math.imul(Vr,vo)|0,_r=_r+Math.imul(Lr,Mo)|0,hr=hr+Math.imul(Lr,go)|0,hr=hr+Math.imul(Hr,Mo)|0,cr=cr+Math.imul(Hr,go)|0,_r=_r+Math.imul(Ar,jo)|0,hr=hr+Math.imul(Ar,Xr)|0,hr=hr+Math.imul(Cr,jo)|0,cr=cr+Math.imul(Cr,Xr)|0,_r=_r+Math.imul(Pr,Dn)|0,hr=hr+Math.imul(Pr,Ln)|0,hr=hr+Math.imul(Ur,Dn)|0,cr=cr+Math.imul(Ur,Ln)|0,_r=_r+Math.imul(Br,co)|0,hr=hr+Math.imul(Br,Jn)|0,hr=hr+Math.imul(Or,co)|0,cr=cr+Math.imul(Or,Jn)|0;var Lo=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,_r=Math.imul(yo,sn),hr=Math.imul(yo,nn),hr=hr+Math.imul(Dr,sn)|0,cr=Math.imul(Dr,nn),_r=_r+Math.imul(oo,xo)|0,hr=hr+Math.imul(oo,no)|0,hr=hr+Math.imul(Hn,xo)|0,cr=cr+Math.imul(Hn,no)|0,_r=_r+Math.imul(Un,bo)|0,hr=hr+Math.imul(Un,mo)|0,hr=hr+Math.imul(Vn,bo)|0,cr=cr+Math.imul(Vn,mo)|0,_r=_r+Math.imul(Wr,Bo)|0,hr=hr+Math.imul(Wr,vo)|0,hr=hr+Math.imul(Kr,Bo)|0,cr=cr+Math.imul(Kr,vo)|0,_r=_r+Math.imul(Nr,Mo)|0,hr=hr+Math.imul(Nr,go)|0,hr=hr+Math.imul(Vr,Mo)|0,cr=cr+Math.imul(Vr,go)|0,_r=_r+Math.imul(Lr,jo)|0,hr=hr+Math.imul(Lr,Xr)|0,hr=hr+Math.imul(Hr,jo)|0,cr=cr+Math.imul(Hr,Xr)|0,_r=_r+Math.imul(Ar,Dn)|0,hr=hr+Math.imul(Ar,Ln)|0,hr=hr+Math.imul(Cr,Dn)|0,cr=cr+Math.imul(Cr,Ln)|0,_r=_r+Math.imul(Pr,co)|0,hr=hr+Math.imul(Pr,Jn)|0,hr=hr+Math.imul(Ur,co)|0,cr=cr+Math.imul(Ur,Jn)|0,_r=_r+Math.imul(Br,ao)|0,hr=hr+Math.imul(Br,Wn)|0,hr=hr+Math.imul(Or,ao)|0,cr=cr+Math.imul(Or,Wn)|0;var ns=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(ns>>>26)|0,ns&=67108863,_r=Math.imul(Ir,sn),hr=Math.imul(Ir,nn),hr=hr+Math.imul(qr,sn)|0,cr=Math.imul(qr,nn),_r=_r+Math.imul(yo,xo)|0,hr=hr+Math.imul(yo,no)|0,hr=hr+Math.imul(Dr,xo)|0,cr=cr+Math.imul(Dr,no)|0,_r=_r+Math.imul(oo,bo)|0,hr=hr+Math.imul(oo,mo)|0,hr=hr+Math.imul(Hn,bo)|0,cr=cr+Math.imul(Hn,mo)|0,_r=_r+Math.imul(Un,Bo)|0,hr=hr+Math.imul(Un,vo)|0,hr=hr+Math.imul(Vn,Bo)|0,cr=cr+Math.imul(Vn,vo)|0,_r=_r+Math.imul(Wr,Mo)|0,hr=hr+Math.imul(Wr,go)|0,hr=hr+Math.imul(Kr,Mo)|0,cr=cr+Math.imul(Kr,go)|0,_r=_r+Math.imul(Nr,jo)|0,hr=hr+Math.imul(Nr,Xr)|0,hr=hr+Math.imul(Vr,jo)|0,cr=cr+Math.imul(Vr,Xr)|0,_r=_r+Math.imul(Lr,Dn)|0,hr=hr+Math.imul(Lr,Ln)|0,hr=hr+Math.imul(Hr,Dn)|0,cr=cr+Math.imul(Hr,Ln)|0,_r=_r+Math.imul(Ar,co)|0,hr=hr+Math.imul(Ar,Jn)|0,hr=hr+Math.imul(Cr,co)|0,cr=cr+Math.imul(Cr,Jn)|0,_r=_r+Math.imul(Pr,ao)|0,hr=hr+Math.imul(Pr,Wn)|0,hr=hr+Math.imul(Ur,ao)|0,cr=cr+Math.imul(Ur,Wn)|0,_r=_r+Math.imul(Br,_o)|0,hr=hr+Math.imul(Br,ho)|0,hr=hr+Math.imul(Or,_o)|0,cr=cr+Math.imul(Or,ho)|0;var Wo=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,_r=Math.imul(Ir,xo),hr=Math.imul(Ir,no),hr=hr+Math.imul(qr,xo)|0,cr=Math.imul(qr,no),_r=_r+Math.imul(yo,bo)|0,hr=hr+Math.imul(yo,mo)|0,hr=hr+Math.imul(Dr,bo)|0,cr=cr+Math.imul(Dr,mo)|0,_r=_r+Math.imul(oo,Bo)|0,hr=hr+Math.imul(oo,vo)|0,hr=hr+Math.imul(Hn,Bo)|0,cr=cr+Math.imul(Hn,vo)|0,_r=_r+Math.imul(Un,Mo)|0,hr=hr+Math.imul(Un,go)|0,hr=hr+Math.imul(Vn,Mo)|0,cr=cr+Math.imul(Vn,go)|0,_r=_r+Math.imul(Wr,jo)|0,hr=hr+Math.imul(Wr,Xr)|0,hr=hr+Math.imul(Kr,jo)|0,cr=cr+Math.imul(Kr,Xr)|0,_r=_r+Math.imul(Nr,Dn)|0,hr=hr+Math.imul(Nr,Ln)|0,hr=hr+Math.imul(Vr,Dn)|0,cr=cr+Math.imul(Vr,Ln)|0,_r=_r+Math.imul(Lr,co)|0,hr=hr+Math.imul(Lr,Jn)|0,hr=hr+Math.imul(Hr,co)|0,cr=cr+Math.imul(Hr,Jn)|0,_r=_r+Math.imul(Ar,ao)|0,hr=hr+Math.imul(Ar,Wn)|0,hr=hr+Math.imul(Cr,ao)|0,cr=cr+Math.imul(Cr,Wn)|0,_r=_r+Math.imul(Pr,_o)|0,hr=hr+Math.imul(Pr,ho)|0,hr=hr+Math.imul(Ur,_o)|0,cr=cr+Math.imul(Ur,ho)|0;var Qo=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,_r=Math.imul(Ir,bo),hr=Math.imul(Ir,mo),hr=hr+Math.imul(qr,bo)|0,cr=Math.imul(qr,mo),_r=_r+Math.imul(yo,Bo)|0,hr=hr+Math.imul(yo,vo)|0,hr=hr+Math.imul(Dr,Bo)|0,cr=cr+Math.imul(Dr,vo)|0,_r=_r+Math.imul(oo,Mo)|0,hr=hr+Math.imul(oo,go)|0,hr=hr+Math.imul(Hn,Mo)|0,cr=cr+Math.imul(Hn,go)|0,_r=_r+Math.imul(Un,jo)|0,hr=hr+Math.imul(Un,Xr)|0,hr=hr+Math.imul(Vn,jo)|0,cr=cr+Math.imul(Vn,Xr)|0,_r=_r+Math.imul(Wr,Dn)|0,hr=hr+Math.imul(Wr,Ln)|0,hr=hr+Math.imul(Kr,Dn)|0,cr=cr+Math.imul(Kr,Ln)|0,_r=_r+Math.imul(Nr,co)|0,hr=hr+Math.imul(Nr,Jn)|0,hr=hr+Math.imul(Vr,co)|0,cr=cr+Math.imul(Vr,Jn)|0,_r=_r+Math.imul(Lr,ao)|0,hr=hr+Math.imul(Lr,Wn)|0,hr=hr+Math.imul(Hr,ao)|0,cr=cr+Math.imul(Hr,Wn)|0,_r=_r+Math.imul(Ar,_o)|0,hr=hr+Math.imul(Ar,ho)|0,hr=hr+Math.imul(Cr,_o)|0,cr=cr+Math.imul(Cr,ho)|0;var _a=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(_a>>>26)|0,_a&=67108863,_r=Math.imul(Ir,Bo),hr=Math.imul(Ir,vo),hr=hr+Math.imul(qr,Bo)|0,cr=Math.imul(qr,vo),_r=_r+Math.imul(yo,Mo)|0,hr=hr+Math.imul(yo,go)|0,hr=hr+Math.imul(Dr,Mo)|0,cr=cr+Math.imul(Dr,go)|0,_r=_r+Math.imul(oo,jo)|0,hr=hr+Math.imul(oo,Xr)|0,hr=hr+Math.imul(Hn,jo)|0,cr=cr+Math.imul(Hn,Xr)|0,_r=_r+Math.imul(Un,Dn)|0,hr=hr+Math.imul(Un,Ln)|0,hr=hr+Math.imul(Vn,Dn)|0,cr=cr+Math.imul(Vn,Ln)|0,_r=_r+Math.imul(Wr,co)|0,hr=hr+Math.imul(Wr,Jn)|0,hr=hr+Math.imul(Kr,co)|0,cr=cr+Math.imul(Kr,Jn)|0,_r=_r+Math.imul(Nr,ao)|0,hr=hr+Math.imul(Nr,Wn)|0,hr=hr+Math.imul(Vr,ao)|0,cr=cr+Math.imul(Vr,Wn)|0,_r=_r+Math.imul(Lr,_o)|0,hr=hr+Math.imul(Lr,ho)|0,hr=hr+Math.imul(Hr,_o)|0,cr=cr+Math.imul(Hr,ho)|0;var $a=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+($a>>>26)|0,$a&=67108863,_r=Math.imul(Ir,Mo),hr=Math.imul(Ir,go),hr=hr+Math.imul(qr,Mo)|0,cr=Math.imul(qr,go),_r=_r+Math.imul(yo,jo)|0,hr=hr+Math.imul(yo,Xr)|0,hr=hr+Math.imul(Dr,jo)|0,cr=cr+Math.imul(Dr,Xr)|0,_r=_r+Math.imul(oo,Dn)|0,hr=hr+Math.imul(oo,Ln)|0,hr=hr+Math.imul(Hn,Dn)|0,cr=cr+Math.imul(Hn,Ln)|0,_r=_r+Math.imul(Un,co)|0,hr=hr+Math.imul(Un,Jn)|0,hr=hr+Math.imul(Vn,co)|0,cr=cr+Math.imul(Vn,Jn)|0,_r=_r+Math.imul(Wr,ao)|0,hr=hr+Math.imul(Wr,Wn)|0,hr=hr+Math.imul(Kr,ao)|0,cr=cr+Math.imul(Kr,Wn)|0,_r=_r+Math.imul(Nr,_o)|0,hr=hr+Math.imul(Nr,ho)|0,hr=hr+Math.imul(Vr,_o)|0,cr=cr+Math.imul(Vr,ho)|0;var Ao=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,_r=Math.imul(Ir,jo),hr=Math.imul(Ir,Xr),hr=hr+Math.imul(qr,jo)|0,cr=Math.imul(qr,Xr),_r=_r+Math.imul(yo,Dn)|0,hr=hr+Math.imul(yo,Ln)|0,hr=hr+Math.imul(Dr,Dn)|0,cr=cr+Math.imul(Dr,Ln)|0,_r=_r+Math.imul(oo,co)|0,hr=hr+Math.imul(oo,Jn)|0,hr=hr+Math.imul(Hn,co)|0,cr=cr+Math.imul(Hn,Jn)|0,_r=_r+Math.imul(Un,ao)|0,hr=hr+Math.imul(Un,Wn)|0,hr=hr+Math.imul(Vn,ao)|0,cr=cr+Math.imul(Vn,Wn)|0,_r=_r+Math.imul(Wr,_o)|0,hr=hr+Math.imul(Wr,ho)|0,hr=hr+Math.imul(Kr,_o)|0,cr=cr+Math.imul(Kr,ho)|0;var Oo=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,_r=Math.imul(Ir,Dn),hr=Math.imul(Ir,Ln),hr=hr+Math.imul(qr,Dn)|0,cr=Math.imul(qr,Ln),_r=_r+Math.imul(yo,co)|0,hr=hr+Math.imul(yo,Jn)|0,hr=hr+Math.imul(Dr,co)|0,cr=cr+Math.imul(Dr,Jn)|0,_r=_r+Math.imul(oo,ao)|0,hr=hr+Math.imul(oo,Wn)|0,hr=hr+Math.imul(Hn,ao)|0,cr=cr+Math.imul(Hn,Wn)|0,_r=_r+Math.imul(Un,_o)|0,hr=hr+Math.imul(Un,ho)|0,hr=hr+Math.imul(Vn,_o)|0,cr=cr+Math.imul(Vn,ho)|0;var Jo=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,_r=Math.imul(Ir,co),hr=Math.imul(Ir,Jn),hr=hr+Math.imul(qr,co)|0,cr=Math.imul(qr,Jn),_r=_r+Math.imul(yo,ao)|0,hr=hr+Math.imul(yo,Wn)|0,hr=hr+Math.imul(Dr,ao)|0,cr=cr+Math.imul(Dr,Wn)|0,_r=_r+Math.imul(oo,_o)|0,hr=hr+Math.imul(oo,ho)|0,hr=hr+Math.imul(Hn,_o)|0,cr=cr+Math.imul(Hn,ho)|0;var rs=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(rs>>>26)|0,rs&=67108863,_r=Math.imul(Ir,ao),hr=Math.imul(Ir,Wn),hr=hr+Math.imul(qr,ao)|0,cr=Math.imul(qr,Wn),_r=_r+Math.imul(yo,_o)|0,hr=hr+Math.imul(yo,ho)|0,hr=hr+Math.imul(Dr,_o)|0,cr=cr+Math.imul(Dr,ho)|0;var qo=(ur+_r|0)+((hr&8191)<<13)|0;ur=(cr+(hr>>>13)|0)+(qo>>>26)|0,qo&=67108863,_r=Math.imul(Ir,_o),hr=Math.imul(Ir,ho),hr=hr+Math.imul(qr,_o)|0,cr=Math.imul(qr,ho);var zr=(ur+_r|0)+((hr&8191)<<13)|0;return ur=(cr+(hr>>>13)|0)+(zr>>>26)|0,zr&=67108863,gr[0]=To,gr[1]=Io,gr[2]=Ro,gr[3]=Do,gr[4]=Zo,gr[5]=ts,gr[6]=Go,gr[7]=Lo,gr[8]=ns,gr[9]=Wo,gr[10]=Qo,gr[11]=_a,gr[12]=$a,gr[13]=Ao,gr[14]=Oo,gr[15]=Jo,gr[16]=rs,gr[17]=qo,gr[18]=zr,ur!==0&&(gr[19]=ur,ar.length++),ar};Math.imul||(nr=tr);function ir(vr,or,rr){rr.negative=or.negative^vr.negative,rr.length=vr.length+or.length;for(var ar=0,sr=0,dr=0;dr<rr.length-1;dr++){var gr=sr;sr=0;for(var ur=ar&67108863,_r=Math.min(dr,or.length-1),hr=Math.max(0,dr-vr.length+1);hr<=_r;hr++){var cr=dr-hr,wr=vr.words[cr]|0,Br=or.words[hr]|0,Or=wr*Br,Rr=Or&67108863;gr=gr+(Or/67108864|0)|0,Rr=Rr+ur|0,ur=Rr&67108863,gr=gr+(Rr>>>26)|0,sr+=gr>>>26,gr&=67108863}rr.words[dr]=ur,ar=gr,gr=sr}return ar!==0?rr.words[dr]=ar:rr.length--,rr._strip()}function lr(vr,or,rr){return ir(vr,or,rr)}ct.prototype.mulTo=function(or,rr){var ar,sr=this.length+or.length;return this.length===10&&or.length===10?ar=nr(this,or,rr):sr<63?ar=tr(this,or,rr):sr<1024?ar=ir(this,or,rr):ar=lr(this,or,rr),ar},ct.prototype.mul=function(or){var rr=new ct(null);return rr.words=new Array(this.length+or.length),this.mulTo(or,rr)},ct.prototype.mulf=function(or){var rr=new ct(null);return rr.words=new Array(this.length+or.length),lr(this,or,rr)},ct.prototype.imul=function(or){return this.clone().mulTo(or,this)},ct.prototype.imuln=function(or){var rr=or<0;rr&&(or=-or),tt(typeof or=="number"),tt(or<67108864);for(var ar=0,sr=0;sr<this.length;sr++){var dr=(this.words[sr]|0)*or,gr=(dr&67108863)+(ar&67108863);ar>>=26,ar+=dr/67108864|0,ar+=gr>>>26,this.words[sr]=gr&67108863}return ar!==0&&(this.words[sr]=ar,this.length++),rr?this.ineg():this},ct.prototype.muln=function(or){return this.clone().imuln(or)},ct.prototype.sqr=function(){return this.mul(this)},ct.prototype.isqr=function(){return this.imul(this.clone())},ct.prototype.pow=function(or){var rr=er(or);if(rr.length===0)return new ct(1);for(var ar=this,sr=0;sr<rr.length&&rr[sr]===0;sr++,ar=ar.sqr());if(++sr<rr.length)for(var dr=ar.sqr();sr<rr.length;sr++,dr=dr.sqr())rr[sr]!==0&&(ar=ar.mul(dr));return ar},ct.prototype.iushln=function(or){tt(typeof or=="number"&&or>=0);var rr=or%26,ar=(or-rr)/26,sr=67108863>>>26-rr<<26-rr,dr;if(rr!==0){var gr=0;for(dr=0;dr<this.length;dr++){var ur=this.words[dr]&sr,_r=(this.words[dr]|0)-ur<<rr;this.words[dr]=_r|gr,gr=ur>>>26-rr}gr&&(this.words[dr]=gr,this.length++)}if(ar!==0){for(dr=this.length-1;dr>=0;dr--)this.words[dr+ar]=this.words[dr];for(dr=0;dr<ar;dr++)this.words[dr]=0;this.length+=ar}return this._strip()},ct.prototype.ishln=function(or){return tt(this.negative===0),this.iushln(or)},ct.prototype.iushrn=function(or,rr,ar){tt(typeof or=="number"&&or>=0);var sr;rr?sr=(rr-rr%26)/26:sr=0;var dr=or%26,gr=Math.min((or-dr)/26,this.length),ur=67108863^67108863>>>dr<<dr,_r=ar;if(sr-=gr,sr=Math.max(0,sr),_r){for(var hr=0;hr<gr;hr++)_r.words[hr]=this.words[hr];_r.length=gr}if(gr!==0)if(this.length>gr)for(this.length-=gr,hr=0;hr<this.length;hr++)this.words[hr]=this.words[hr+gr];else this.words[0]=0,this.length=1;var cr=0;for(hr=this.length-1;hr>=0&&(cr!==0||hr>=sr);hr--){var wr=this.words[hr]|0;this.words[hr]=cr<<26-dr|wr>>>dr,cr=wr&ur}return _r&&cr!==0&&(_r.words[_r.length++]=cr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ct.prototype.ishrn=function(or,rr,ar){return tt(this.negative===0),this.iushrn(or,rr,ar)},ct.prototype.shln=function(or){return this.clone().ishln(or)},ct.prototype.ushln=function(or){return this.clone().iushln(or)},ct.prototype.shrn=function(or){return this.clone().ishrn(or)},ct.prototype.ushrn=function(or){return this.clone().iushrn(or)},ct.prototype.testn=function(or){tt(typeof or=="number"&&or>=0);var rr=or%26,ar=(or-rr)/26,sr=1<<rr;if(this.length<=ar)return!1;var dr=this.words[ar];return!!(dr&sr)},ct.prototype.imaskn=function(or){tt(typeof or=="number"&&or>=0);var rr=or%26,ar=(or-rr)/26;if(tt(this.negative===0,"imaskn works only with positive numbers"),this.length<=ar)return this;if(rr!==0&&ar++,this.length=Math.min(ar,this.length),rr!==0){var sr=67108863^67108863>>>rr<<rr;this.words[this.length-1]&=sr}return this._strip()},ct.prototype.maskn=function(or){return this.clone().imaskn(or)},ct.prototype.iaddn=function(or){return tt(typeof or=="number"),tt(or<67108864),or<0?this.isubn(-or):this.negative!==0?this.length===1&&(this.words[0]|0)<=or?(this.words[0]=or-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(or),this.negative=1,this):this._iaddn(or)},ct.prototype._iaddn=function(or){this.words[0]+=or;for(var rr=0;rr<this.length&&this.words[rr]>=67108864;rr++)this.words[rr]-=67108864,rr===this.length-1?this.words[rr+1]=1:this.words[rr+1]++;return this.length=Math.max(this.length,rr+1),this},ct.prototype.isubn=function(or){if(tt(typeof or=="number"),tt(or<67108864),or<0)return this.iaddn(-or);if(this.negative!==0)return this.negative=0,this.iaddn(or),this.negative=1,this;if(this.words[0]-=or,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var rr=0;rr<this.length&&this.words[rr]<0;rr++)this.words[rr]+=67108864,this.words[rr+1]-=1;return this._strip()},ct.prototype.addn=function(or){return this.clone().iaddn(or)},ct.prototype.subn=function(or){return this.clone().isubn(or)},ct.prototype.iabs=function(){return this.negative=0,this},ct.prototype.abs=function(){return this.clone().iabs()},ct.prototype._ishlnsubmul=function(or,rr,ar){var sr=or.length+ar,dr;this._expand(sr);var gr,ur=0;for(dr=0;dr<or.length;dr++){gr=(this.words[dr+ar]|0)+ur;var _r=(or.words[dr]|0)*rr;gr-=_r&67108863,ur=(gr>>26)-(_r/67108864|0),this.words[dr+ar]=gr&67108863}for(;dr<this.length-ar;dr++)gr=(this.words[dr+ar]|0)+ur,ur=gr>>26,this.words[dr+ar]=gr&67108863;if(ur===0)return this._strip();for(tt(ur===-1),ur=0,dr=0;dr<this.length;dr++)gr=-(this.words[dr]|0)+ur,ur=gr>>26,this.words[dr]=gr&67108863;return this.negative=1,this._strip()},ct.prototype._wordDiv=function(or,rr){var ar=this.length-or.length,sr=this.clone(),dr=or,gr=dr.words[dr.length-1]|0,ur=this._countBits(gr);ar=26-ur,ar!==0&&(dr=dr.ushln(ar),sr.iushln(ar),gr=dr.words[dr.length-1]|0);var _r=sr.length-dr.length,hr;if(rr!=="mod"){hr=new ct(null),hr.length=_r+1,hr.words=new Array(hr.length);for(var cr=0;cr<hr.length;cr++)hr.words[cr]=0}var wr=sr.clone()._ishlnsubmul(dr,1,_r);wr.negative===0&&(sr=wr,hr&&(hr.words[_r]=1));for(var Br=_r-1;Br>=0;Br--){var Or=(sr.words[dr.length+Br]|0)*67108864+(sr.words[dr.length+Br-1]|0);for(Or=Math.min(Or/gr|0,67108863),sr._ishlnsubmul(dr,Or,Br);sr.negative!==0;)Or--,sr.negative=0,sr._ishlnsubmul(dr,1,Br),sr.isZero()||(sr.negative^=1);hr&&(hr.words[Br]=Or)}return hr&&hr._strip(),sr._strip(),rr!=="div"&&ar!==0&&sr.iushrn(ar),{div:hr||null,mod:sr}},ct.prototype.divmod=function(or,rr,ar){if(tt(!or.isZero()),this.isZero())return{div:new ct(0),mod:new ct(0)};var sr,dr,gr;return this.negative!==0&&or.negative===0?(gr=this.neg().divmod(or,rr),rr!=="mod"&&(sr=gr.div.neg()),rr!=="div"&&(dr=gr.mod.neg(),ar&&dr.negative!==0&&dr.iadd(or)),{div:sr,mod:dr}):this.negative===0&&or.negative!==0?(gr=this.divmod(or.neg(),rr),rr!=="mod"&&(sr=gr.div.neg()),{div:sr,mod:gr.mod}):this.negative&or.negative?(gr=this.neg().divmod(or.neg(),rr),rr!=="div"&&(dr=gr.mod.neg(),ar&&dr.negative!==0&&dr.isub(or)),{div:gr.div,mod:dr}):or.length>this.length||this.cmp(or)<0?{div:new ct(0),mod:this}:or.length===1?rr==="div"?{div:this.divn(or.words[0]),mod:null}:rr==="mod"?{div:null,mod:new ct(this.modrn(or.words[0]))}:{div:this.divn(or.words[0]),mod:new ct(this.modrn(or.words[0]))}:this._wordDiv(or,rr)},ct.prototype.div=function(or){return this.divmod(or,"div",!1).div},ct.prototype.mod=function(or){return this.divmod(or,"mod",!1).mod},ct.prototype.umod=function(or){return this.divmod(or,"mod",!0).mod},ct.prototype.divRound=function(or){var rr=this.divmod(or);if(rr.mod.isZero())return rr.div;var ar=rr.div.negative!==0?rr.mod.isub(or):rr.mod,sr=or.ushrn(1),dr=or.andln(1),gr=ar.cmp(sr);return gr<0||dr===1&&gr===0?rr.div:rr.div.negative!==0?rr.div.isubn(1):rr.div.iaddn(1)},ct.prototype.modrn=function(or){var rr=or<0;rr&&(or=-or),tt(or<=67108863);for(var ar=(1<<26)%or,sr=0,dr=this.length-1;dr>=0;dr--)sr=(ar*sr+(this.words[dr]|0))%or;return rr?-sr:sr},ct.prototype.modn=function(or){return this.modrn(or)},ct.prototype.idivn=function(or){var rr=or<0;rr&&(or=-or),tt(or<=67108863);for(var ar=0,sr=this.length-1;sr>=0;sr--){var dr=(this.words[sr]|0)+ar*67108864;this.words[sr]=dr/or|0,ar=dr%or}return this._strip(),rr?this.ineg():this},ct.prototype.divn=function(or){return this.clone().idivn(or)},ct.prototype.egcd=function(or){tt(or.negative===0),tt(!or.isZero());var rr=this,ar=or.clone();rr.negative!==0?rr=rr.umod(or):rr=rr.clone();for(var sr=new ct(1),dr=new ct(0),gr=new ct(0),ur=new ct(1),_r=0;rr.isEven()&&ar.isEven();)rr.iushrn(1),ar.iushrn(1),++_r;for(var hr=ar.clone(),cr=rr.clone();!rr.isZero();){for(var wr=0,Br=1;!(rr.words[0]&Br)&&wr<26;++wr,Br<<=1);if(wr>0)for(rr.iushrn(wr);wr-- >0;)(sr.isOdd()||dr.isOdd())&&(sr.iadd(hr),dr.isub(cr)),sr.iushrn(1),dr.iushrn(1);for(var Or=0,Rr=1;!(ar.words[0]&Rr)&&Or<26;++Or,Rr<<=1);if(Or>0)for(ar.iushrn(Or);Or-- >0;)(gr.isOdd()||ur.isOdd())&&(gr.iadd(hr),ur.isub(cr)),gr.iushrn(1),ur.iushrn(1);rr.cmp(ar)>=0?(rr.isub(ar),sr.isub(gr),dr.isub(ur)):(ar.isub(rr),gr.isub(sr),ur.isub(dr))}return{a:gr,b:ur,gcd:ar.iushln(_r)}},ct.prototype._invmp=function(or){tt(or.negative===0),tt(!or.isZero());var rr=this,ar=or.clone();rr.negative!==0?rr=rr.umod(or):rr=rr.clone();for(var sr=new ct(1),dr=new ct(0),gr=ar.clone();rr.cmpn(1)>0&&ar.cmpn(1)>0;){for(var ur=0,_r=1;!(rr.words[0]&_r)&&ur<26;++ur,_r<<=1);if(ur>0)for(rr.iushrn(ur);ur-- >0;)sr.isOdd()&&sr.iadd(gr),sr.iushrn(1);for(var hr=0,cr=1;!(ar.words[0]&cr)&&hr<26;++hr,cr<<=1);if(hr>0)for(ar.iushrn(hr);hr-- >0;)dr.isOdd()&&dr.iadd(gr),dr.iushrn(1);rr.cmp(ar)>=0?(rr.isub(ar),sr.isub(dr)):(ar.isub(rr),dr.isub(sr))}var wr;return rr.cmpn(1)===0?wr=sr:wr=dr,wr.cmpn(0)<0&&wr.iadd(or),wr},ct.prototype.gcd=function(or){if(this.isZero())return or.abs();if(or.isZero())return this.abs();var rr=this.clone(),ar=or.clone();rr.negative=0,ar.negative=0;for(var sr=0;rr.isEven()&&ar.isEven();sr++)rr.iushrn(1),ar.iushrn(1);do{for(;rr.isEven();)rr.iushrn(1);for(;ar.isEven();)ar.iushrn(1);var dr=rr.cmp(ar);if(dr<0){var gr=rr;rr=ar,ar=gr}else if(dr===0||ar.cmpn(1)===0)break;rr.isub(ar)}while(!0);return ar.iushln(sr)},ct.prototype.invm=function(or){return this.egcd(or).a.umod(or)},ct.prototype.isEven=function(){return(this.words[0]&1)===0},ct.prototype.isOdd=function(){return(this.words[0]&1)===1},ct.prototype.andln=function(or){return this.words[0]&or},ct.prototype.bincn=function(or){tt(typeof or=="number");var rr=or%26,ar=(or-rr)/26,sr=1<<rr;if(this.length<=ar)return this._expand(ar+1),this.words[ar]|=sr,this;for(var dr=sr,gr=ar;dr!==0&&gr<this.length;gr++){var ur=this.words[gr]|0;ur+=dr,dr=ur>>>26,ur&=67108863,this.words[gr]=ur}return dr!==0&&(this.words[gr]=dr,this.length++),this},ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ct.prototype.cmpn=function(or){var rr=or<0;if(this.negative!==0&&!rr)return-1;if(this.negative===0&&rr)return 1;this._strip();var ar;if(this.length>1)ar=1;else{rr&&(or=-or),tt(or<=67108863,"Number is too big");var sr=this.words[0]|0;ar=sr===or?0:sr<or?-1:1}return this.negative!==0?-ar|0:ar},ct.prototype.cmp=function(or){if(this.negative!==0&&or.negative===0)return-1;if(this.negative===0&&or.negative!==0)return 1;var rr=this.ucmp(or);return this.negative!==0?-rr|0:rr},ct.prototype.ucmp=function(or){if(this.length>or.length)return 1;if(this.length<or.length)return-1;for(var rr=0,ar=this.length-1;ar>=0;ar--){var sr=this.words[ar]|0,dr=or.words[ar]|0;if(sr!==dr){sr<dr?rr=-1:sr>dr&&(rr=1);break}}return rr},ct.prototype.gtn=function(or){return this.cmpn(or)===1},ct.prototype.gt=function(or){return this.cmp(or)===1},ct.prototype.gten=function(or){return this.cmpn(or)>=0},ct.prototype.gte=function(or){return this.cmp(or)>=0},ct.prototype.ltn=function(or){return this.cmpn(or)===-1},ct.prototype.lt=function(or){return this.cmp(or)===-1},ct.prototype.lten=function(or){return this.cmpn(or)<=0},ct.prototype.lte=function(or){return this.cmp(or)<=0},ct.prototype.eqn=function(or){return this.cmpn(or)===0},ct.prototype.eq=function(or){return this.cmp(or)===0},ct.red=function(or){return new Sr(or)},ct.prototype.toRed=function(or){return tt(!this.red,"Already a number in reduction context"),tt(this.negative===0,"red works only with positives"),or.convertTo(this)._forceRed(or)},ct.prototype.fromRed=function(){return tt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ct.prototype._forceRed=function(or){return this.red=or,this},ct.prototype.forceRed=function(or){return tt(!this.red,"Already a number in reduction context"),this._forceRed(or)},ct.prototype.redAdd=function(or){return tt(this.red,"redAdd works only with red numbers"),this.red.add(this,or)},ct.prototype.redIAdd=function(or){return tt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,or)},ct.prototype.redSub=function(or){return tt(this.red,"redSub works only with red numbers"),this.red.sub(this,or)},ct.prototype.redISub=function(or){return tt(this.red,"redISub works only with red numbers"),this.red.isub(this,or)},ct.prototype.redShl=function(or){return tt(this.red,"redShl works only with red numbers"),this.red.shl(this,or)},ct.prototype.redMul=function(or){return tt(this.red,"redMul works only with red numbers"),this.red._verify2(this,or),this.red.mul(this,or)},ct.prototype.redIMul=function(or){return tt(this.red,"redMul works only with red numbers"),this.red._verify2(this,or),this.red.imul(this,or)},ct.prototype.redSqr=function(){return tt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ct.prototype.redISqr=function(){return tt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ct.prototype.redSqrt=function(){return tt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ct.prototype.redInvm=function(){return tt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ct.prototype.redNeg=function(){return tt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ct.prototype.redPow=function(or){return tt(this.red&&!or.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,or)};var pr={k256:null,p224:null,p192:null,p25519:null};function yr(vr,or){this.name=vr,this.p=new ct(or,16),this.n=this.p.bitLength(),this.k=new ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}yr.prototype._tmp=function(){var or=new ct(null);return or.words=new Array(Math.ceil(this.n/13)),or},yr.prototype.ireduce=function(or){var rr=or,ar;do this.split(rr,this.tmp),rr=this.imulK(rr),rr=rr.iadd(this.tmp),ar=rr.bitLength();while(ar>this.n);var sr=ar<this.n?-1:rr.ucmp(this.p);return sr===0?(rr.words[0]=0,rr.length=1):sr>0?rr.isub(this.p):rr.strip!==void 0?rr.strip():rr._strip(),rr},yr.prototype.split=function(or,rr){or.iushrn(this.n,0,rr)},yr.prototype.imulK=function(or){return or.imul(this.k)};function br(){yr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(br,yr),br.prototype.split=function(or,rr){for(var ar=4194303,sr=Math.min(or.length,9),dr=0;dr<sr;dr++)rr.words[dr]=or.words[dr];if(rr.length=sr,or.length<=9){or.words[0]=0,or.length=1;return}var gr=or.words[9];for(rr.words[rr.length++]=gr&ar,dr=10;dr<or.length;dr++){var ur=or.words[dr]|0;or.words[dr-10]=(ur&ar)<<4|gr>>>22,gr=ur}gr>>>=22,or.words[dr-10]=gr,gr===0&&or.length>10?or.length-=10:or.length-=9},br.prototype.imulK=function(or){or.words[or.length]=0,or.words[or.length+1]=0,or.length+=2;for(var rr=0,ar=0;ar<or.length;ar++){var sr=or.words[ar]|0;rr+=sr*977,or.words[ar]=rr&67108863,rr=sr*64+(rr/67108864|0)}return or.words[or.length-1]===0&&(or.length--,or.words[or.length-1]===0&&or.length--),or};function xr(){yr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(xr,yr);function Er(){yr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(Er,yr);function $r(){yr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at($r,yr),$r.prototype.imulK=function(or){for(var rr=0,ar=0;ar<or.length;ar++){var sr=(or.words[ar]|0)*19+rr,dr=sr&67108863;sr>>>=26,or.words[ar]=dr,rr=sr}return rr!==0&&(or.words[or.length++]=rr),or},ct._prime=function(or){if(pr[or])return pr[or];var rr;if(or==="k256")rr=new br;else if(or==="p224")rr=new xr;else if(or==="p192")rr=new Er;else if(or==="p25519")rr=new $r;else throw new Error("Unknown prime "+or);return pr[or]=rr,rr};function Sr(vr){if(typeof vr=="string"){var or=ct._prime(vr);this.m=or.p,this.prime=or}else tt(vr.gtn(1),"modulus must be greater than 1"),this.m=vr,this.prime=null}Sr.prototype._verify1=function(or){tt(or.negative===0,"red works only with positives"),tt(or.red,"red works only with red numbers")},Sr.prototype._verify2=function(or,rr){tt((or.negative|rr.negative)===0,"red works only with positives"),tt(or.red&&or.red===rr.red,"red works only with red numbers")},Sr.prototype.imod=function(or){return this.prime?this.prime.ireduce(or)._forceRed(this):(Ft(or,or.umod(this.m)._forceRed(this)),or)},Sr.prototype.neg=function(or){return or.isZero()?or.clone():this.m.sub(or)._forceRed(this)},Sr.prototype.add=function(or,rr){this._verify2(or,rr);var ar=or.add(rr);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar._forceRed(this)},Sr.prototype.iadd=function(or,rr){this._verify2(or,rr);var ar=or.iadd(rr);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar},Sr.prototype.sub=function(or,rr){this._verify2(or,rr);var ar=or.sub(rr);return ar.cmpn(0)<0&&ar.iadd(this.m),ar._forceRed(this)},Sr.prototype.isub=function(or,rr){this._verify2(or,rr);var ar=or.isub(rr);return ar.cmpn(0)<0&&ar.iadd(this.m),ar},Sr.prototype.shl=function(or,rr){return this._verify1(or),this.imod(or.ushln(rr))},Sr.prototype.imul=function(or,rr){return this._verify2(or,rr),this.imod(or.imul(rr))},Sr.prototype.mul=function(or,rr){return this._verify2(or,rr),this.imod(or.mul(rr))},Sr.prototype.isqr=function(or){return this.imul(or,or.clone())},Sr.prototype.sqr=function(or){return this.mul(or,or)},Sr.prototype.sqrt=function(or){if(or.isZero())return or.clone();var rr=this.m.andln(3);if(tt(rr%2===1),rr===3){var ar=this.m.add(new ct(1)).iushrn(2);return this.pow(or,ar)}for(var sr=this.m.subn(1),dr=0;!sr.isZero()&&sr.andln(1)===0;)dr++,sr.iushrn(1);tt(!sr.isZero());var gr=new ct(1).toRed(this),ur=gr.redNeg(),_r=this.m.subn(1).iushrn(1),hr=this.m.bitLength();for(hr=new ct(2*hr*hr).toRed(this);this.pow(hr,_r).cmp(ur)!==0;)hr.redIAdd(ur);for(var cr=this.pow(hr,sr),wr=this.pow(or,sr.addn(1).iushrn(1)),Br=this.pow(or,sr),Or=dr;Br.cmp(gr)!==0;){for(var Rr=Br,Pr=0;Rr.cmp(gr)!==0;Pr++)Rr=Rr.redSqr();tt(Pr<Or);var Ur=this.pow(cr,new ct(1).iushln(Or-Pr-1));wr=wr.redMul(Ur),cr=Ur.redSqr(),Br=Br.redMul(cr),Or=Pr}return wr},Sr.prototype.invm=function(or){var rr=or._invmp(this.m);return rr.negative!==0?(rr.negative=0,this.imod(rr).redNeg()):this.imod(rr)},Sr.prototype.pow=function(or,rr){if(rr.isZero())return new ct(1).toRed(this);if(rr.cmpn(1)===0)return or.clone();var ar=4,sr=new Array(1<<ar);sr[0]=new ct(1).toRed(this),sr[1]=or;for(var dr=2;dr<sr.length;dr++)sr[dr]=this.mul(sr[dr-1],or);var gr=sr[0],ur=0,_r=0,hr=rr.bitLength()%26;for(hr===0&&(hr=26),dr=rr.length-1;dr>=0;dr--){for(var cr=rr.words[dr],wr=hr-1;wr>=0;wr--){var Br=cr>>wr&1;if(gr!==sr[0]&&(gr=this.sqr(gr)),Br===0&&ur===0){_r=0;continue}ur<<=1,ur|=Br,_r++,!(_r!==ar&&(dr!==0||wr!==0))&&(gr=this.mul(gr,sr[ur]),_r=0,ur=0)}hr=26}return gr},Sr.prototype.convertTo=function(or){var rr=or.umod(this.m);return rr===or?rr.clone():rr},Sr.prototype.convertFrom=function(or){var rr=or.clone();return rr.red=null,rr},ct.mont=function(or){return new fr(or)};function fr(vr){Sr.call(this,vr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(fr,Sr),fr.prototype.convertTo=function(or){return this.imod(or.ushln(this.shift))},fr.prototype.convertFrom=function(or){var rr=this.imod(or.mul(this.rinv));return rr.red=null,rr},fr.prototype.imul=function(or,rr){if(or.isZero()||rr.isZero())return or.words[0]=0,or.length=1,or;var ar=or.imul(rr),sr=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),dr=ar.isub(sr).iushrn(this.shift),gr=dr;return dr.cmp(this.m)>=0?gr=dr.isub(this.m):dr.cmpn(0)<0&&(gr=dr.iadd(this.m)),gr._forceRed(this)},fr.prototype.mul=function(or,rr){if(or.isZero()||rr.isZero())return new ct(0)._forceRed(this);var ar=or.mul(rr),sr=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),dr=ar.isub(sr).iushrn(this.shift),gr=dr;return dr.cmp(this.m)>=0?gr=dr.isub(this.m):dr.cmpn(0)<0&&(gr=dr.iadd(this.m)),gr._forceRed(this)},fr.prototype.invm=function(or){var rr=this.imod(or._invmp(this.m).mul(this.r2));return rr._forceRed(this)}})(a,commonjsGlobal$1)})(bn$3);var bnExports=bn$3.exports;const BN=getDefaultExportFromCjs$2(bnExports);/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT$1=9e15,MAX_DIGITS$1=1e9,NUMERALS$1="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI$1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT$1,crypto:!1},inexact$1,quadrant$1,external$1=!0,decimalError$1="[DecimalError] ",invalidArgument$1=decimalError$1+"Invalid argument: ",precisionLimitExceeded$1=decimalError$1+"Precision limit exceeded",cryptoUnavailable$1=decimalError$1+"crypto unavailable",tag$1="[object Decimal]",mathfloor$1=Math.floor,mathpow$1=Math.pow,isBinary$1=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex$2=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal$1=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal$2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE$1=1e7,LOG_BASE$1=7,MAX_SAFE_INTEGER$3=9007199254740991,LN10_PRECISION$1=LN10$1.length-1,PI_PRECISION$1=PI$1.length-1,P$3={toStringTag:tag$1};P$3.absoluteValue=P$3.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),finalise$1(a)};P$3.ceil=function(){return finalise$1(new this.constructor(this),this.e+1,2)};P$3.clampedTo=P$3.clamp=function(a,s){var et,tt=this,at=tt.constructor;if(a=new at(a),s=new at(s),!a.s||!s.s)return new at(NaN);if(a.gt(s))throw Error(invalidArgument$1+s);return et=tt.cmp(a),et<0?a:tt.cmp(s)>0?s:new at(tt)};P$3.comparedTo=P$3.cmp=function(a){var s,et,tt,at,ct=this,ut=ct.d,bt=(a=new ct.constructor(a)).d,wt=ct.s,Et=a.s;if(!ut||!bt)return!wt||!Et?NaN:wt!==Et?wt:ut===bt?0:!ut^wt<0?1:-1;if(!ut[0]||!bt[0])return ut[0]?wt:bt[0]?-Et:0;if(wt!==Et)return wt;if(ct.e!==a.e)return ct.e>a.e^wt<0?1:-1;for(tt=ut.length,at=bt.length,s=0,et=tt<at?tt:at;s<et;++s)if(ut[s]!==bt[s])return ut[s]>bt[s]^wt<0?1:-1;return tt===at?0:tt>at^wt<0?1:-1};P$3.cosine=P$3.cos=function(){var a,s,et=this,tt=et.constructor;return et.d?et.d[0]?(a=tt.precision,s=tt.rounding,tt.precision=a+Math.max(et.e,et.sd())+LOG_BASE$1,tt.rounding=1,et=cosine$1(tt,toLessThanHalfPi$1(tt,et)),tt.precision=a,tt.rounding=s,finalise$1(quadrant$1==2||quadrant$1==3?et.neg():et,a,s,!0)):new tt(1):new tt(NaN)};P$3.cubeRoot=P$3.cbrt=function(){var a,s,et,tt,at,ct,ut,bt,wt,Et,Ft=this,jt=Ft.constructor;if(!Ft.isFinite()||Ft.isZero())return new jt(Ft);for(external$1=!1,ct=Ft.s*mathpow$1(Ft.s*Ft,1/3),!ct||Math.abs(ct)==1/0?(et=digitsToString$1(Ft.d),a=Ft.e,(ct=(a-et.length+1)%3)&&(et+=ct==1||ct==-2?"0":"00"),ct=mathpow$1(et,1/3),a=mathfloor$1((a+1)/3)-(a%3==(a<0?-1:2)),ct==1/0?et="5e"+a:(et=ct.toExponential(),et=et.slice(0,et.indexOf("e")+1)+a),tt=new jt(et),tt.s=Ft.s):tt=new jt(ct.toString()),ut=(a=jt.precision)+3;;)if(bt=tt,wt=bt.times(bt).times(bt),Et=wt.plus(Ft),tt=divide$4(Et.plus(Ft).times(bt),Et.plus(wt),ut+2,1),digitsToString$1(bt.d).slice(0,ut)===(et=digitsToString$1(tt.d)).slice(0,ut))if(et=et.slice(ut-3,ut+1),et=="9999"||!at&&et=="4999"){if(!at&&(finalise$1(bt,a+1,0),bt.times(bt).times(bt).eq(Ft))){tt=bt;break}ut+=4,at=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise$1(tt,a+1,1),s=!tt.times(tt).times(tt).eq(Ft));break}return external$1=!0,finalise$1(tt,a,jt.rounding,s)};P$3.decimalPlaces=P$3.dp=function(){var a,s=this.d,et=NaN;if(s){if(a=s.length-1,et=(a-mathfloor$1(this.e/LOG_BASE$1))*LOG_BASE$1,a=s[a],a)for(;a%10==0;a/=10)et--;et<0&&(et=0)}return et};P$3.dividedBy=P$3.div=function(a){return divide$4(this,new this.constructor(a))};P$3.dividedToIntegerBy=P$3.divToInt=function(a){var s=this,et=s.constructor;return finalise$1(divide$4(s,new et(a),0,1,1),et.precision,et.rounding)};P$3.equals=P$3.eq=function(a){return this.cmp(a)===0};P$3.floor=function(){return finalise$1(new this.constructor(this),this.e+1,3)};P$3.greaterThan=P$3.gt=function(a){return this.cmp(a)>0};P$3.greaterThanOrEqualTo=P$3.gte=function(a){var s=this.cmp(a);return s==1||s===0};P$3.hyperbolicCosine=P$3.cosh=function(){var a,s,et,tt,at,ct=this,ut=ct.constructor,bt=new ut(1);if(!ct.isFinite())return new ut(ct.s?1/0:NaN);if(ct.isZero())return bt;et=ut.precision,tt=ut.rounding,ut.precision=et+Math.max(ct.e,ct.sd())+4,ut.rounding=1,at=ct.d.length,at<32?(a=Math.ceil(at/3),s=(1/tinyPow$1(4,a)).toString()):(a=16,s="2.3283064365386962890625e-10"),ct=taylorSeries$1(ut,1,ct.times(s),new ut(1),!0);for(var wt,Et=a,Ft=new ut(8);Et--;)wt=ct.times(ct),ct=bt.minus(wt.times(Ft.minus(wt.times(Ft))));return finalise$1(ct,ut.precision=et,ut.rounding=tt,!0)};P$3.hyperbolicSine=P$3.sinh=function(){var a,s,et,tt,at=this,ct=at.constructor;if(!at.isFinite()||at.isZero())return new ct(at);if(s=ct.precision,et=ct.rounding,ct.precision=s+Math.max(at.e,at.sd())+4,ct.rounding=1,tt=at.d.length,tt<3)at=taylorSeries$1(ct,2,at,at,!0);else{a=1.4*Math.sqrt(tt),a=a>16?16:a|0,at=at.times(1/tinyPow$1(5,a)),at=taylorSeries$1(ct,2,at,at,!0);for(var ut,bt=new ct(5),wt=new ct(16),Et=new ct(20);a--;)ut=at.times(at),at=at.times(bt.plus(ut.times(wt.times(ut).plus(Et))))}return ct.precision=s,ct.rounding=et,finalise$1(at,s,et,!0)};P$3.hyperbolicTangent=P$3.tanh=function(){var a,s,et=this,tt=et.constructor;return et.isFinite()?et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+7,tt.rounding=1,divide$4(et.sinh(),et.cosh(),tt.precision=a,tt.rounding=s)):new tt(et.s)};P$3.inverseCosine=P$3.acos=function(){var a=this,s=a.constructor,et=a.abs().cmp(1),tt=s.precision,at=s.rounding;return et!==-1?et===0?a.isNeg()?getPi$1(s,tt,at):new s(0):new s(NaN):a.isZero()?getPi$1(s,tt+4,at).times(.5):(s.precision=tt+6,s.rounding=1,a=new s(1).minus(a).div(a.plus(1)).sqrt().atan(),s.precision=tt,s.rounding=at,a.times(2))};P$3.inverseHyperbolicCosine=P$3.acosh=function(){var a,s,et=this,tt=et.constructor;return et.lte(1)?new tt(et.eq(1)?0:NaN):et.isFinite()?(a=tt.precision,s=tt.rounding,tt.precision=a+Math.max(Math.abs(et.e),et.sd())+4,tt.rounding=1,external$1=!1,et=et.times(et).minus(1).sqrt().plus(et),external$1=!0,tt.precision=a,tt.rounding=s,et.ln()):new tt(et)};P$3.inverseHyperbolicSine=P$3.asinh=function(){var a,s,et=this,tt=et.constructor;return!et.isFinite()||et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+2*Math.max(Math.abs(et.e),et.sd())+6,tt.rounding=1,external$1=!1,et=et.times(et).plus(1).sqrt().plus(et),external$1=!0,tt.precision=a,tt.rounding=s,et.ln())};P$3.inverseHyperbolicTangent=P$3.atanh=function(){var a,s,et,tt,at=this,ct=at.constructor;return at.isFinite()?at.e>=0?new ct(at.abs().eq(1)?at.s/0:at.isZero()?at:NaN):(a=ct.precision,s=ct.rounding,tt=at.sd(),Math.max(tt,a)<2*-at.e-1?finalise$1(new ct(at),a,s,!0):(ct.precision=et=tt-at.e,at=divide$4(at.plus(1),new ct(1).minus(at),et+a,1),ct.precision=a+4,ct.rounding=1,at=at.ln(),ct.precision=a,ct.rounding=s,at.times(.5))):new ct(NaN)};P$3.inverseSine=P$3.asin=function(){var a,s,et,tt,at=this,ct=at.constructor;return at.isZero()?new ct(at):(s=at.abs().cmp(1),et=ct.precision,tt=ct.rounding,s!==-1?s===0?(a=getPi$1(ct,et+4,tt).times(.5),a.s=at.s,a):new ct(NaN):(ct.precision=et+6,ct.rounding=1,at=at.div(new ct(1).minus(at.times(at)).sqrt().plus(1)).atan(),ct.precision=et,ct.rounding=tt,at.times(2)))};P$3.inverseTangent=P$3.atan=function(){var a,s,et,tt,at,ct,ut,bt,wt,Et=this,Ft=Et.constructor,jt=Ft.precision,Lt=Ft.rounding;if(Et.isFinite()){if(Et.isZero())return new Ft(Et);if(Et.abs().eq(1)&&jt+4<=PI_PRECISION$1)return ut=getPi$1(Ft,jt+4,Lt).times(.25),ut.s=Et.s,ut}else{if(!Et.s)return new Ft(NaN);if(jt+4<=PI_PRECISION$1)return ut=getPi$1(Ft,jt+4,Lt).times(.5),ut.s=Et.s,ut}for(Ft.precision=bt=jt+10,Ft.rounding=1,et=Math.min(28,bt/LOG_BASE$1+2|0),a=et;a;--a)Et=Et.div(Et.times(Et).plus(1).sqrt().plus(1));for(external$1=!1,s=Math.ceil(bt/LOG_BASE$1),tt=1,wt=Et.times(Et),ut=new Ft(Et),at=Et;a!==-1;)if(at=at.times(wt),ct=ut.minus(at.div(tt+=2)),at=at.times(wt),ut=ct.plus(at.div(tt+=2)),ut.d[s]!==void 0)for(a=s;ut.d[a]===ct.d[a]&&a--;);return et&&(ut=ut.times(2<<et-1)),external$1=!0,finalise$1(ut,Ft.precision=jt,Ft.rounding=Lt,!0)};P$3.isFinite=function(){return!!this.d};P$3.isInteger=P$3.isInt=function(){return!!this.d&&mathfloor$1(this.e/LOG_BASE$1)>this.d.length-2};P$3.isNaN=function(){return!this.s};P$3.isNegative=P$3.isNeg=function(){return this.s<0};P$3.isPositive=P$3.isPos=function(){return this.s>0};P$3.isZero=function(){return!!this.d&&this.d[0]===0};P$3.lessThan=P$3.lt=function(a){return this.cmp(a)<0};P$3.lessThanOrEqualTo=P$3.lte=function(a){return this.cmp(a)<1};P$3.logarithm=P$3.log=function(a){var s,et,tt,at,ct,ut,bt,wt,Et=this,Ft=Et.constructor,jt=Ft.precision,Lt=Ft.rounding,Ut=5;if(a==null)a=new Ft(10),s=!0;else{if(a=new Ft(a),et=a.d,a.s<0||!et||!et[0]||a.eq(1))return new Ft(NaN);s=a.eq(10)}if(et=Et.d,Et.s<0||!et||!et[0]||Et.eq(1))return new Ft(et&&!et[0]?-1/0:Et.s!=1?NaN:et?0:1/0);if(s)if(et.length>1)ct=!0;else{for(at=et[0];at%10===0;)at/=10;ct=at!==1}if(external$1=!1,bt=jt+Ut,ut=naturalLogarithm$1(Et,bt),tt=s?getLn10$1(Ft,bt+10):naturalLogarithm$1(a,bt),wt=divide$4(ut,tt,bt,1),checkRoundingDigits$1(wt.d,at=jt,Lt))do if(bt+=10,ut=naturalLogarithm$1(Et,bt),tt=s?getLn10$1(Ft,bt+10):naturalLogarithm$1(a,bt),wt=divide$4(ut,tt,bt,1),!ct){+digitsToString$1(wt.d).slice(at+1,at+15)+1==1e14&&(wt=finalise$1(wt,jt+1,0));break}while(checkRoundingDigits$1(wt.d,at+=10,Lt));return external$1=!0,finalise$1(wt,jt,Lt)};P$3.minus=P$3.sub=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=this,Vt=Ut.constructor;if(a=new Vt(a),!Ut.d||!a.d)return!Ut.s||!a.s?a=new Vt(NaN):Ut.d?a.s=-a.s:a=new Vt(a.d||Ut.s!==a.s?Ut:NaN),a;if(Ut.s!=a.s)return a.s=-a.s,Ut.plus(a);if(Et=Ut.d,Lt=a.d,bt=Vt.precision,wt=Vt.rounding,!Et[0]||!Lt[0]){if(Lt[0])a.s=-a.s;else if(Et[0])a=new Vt(Ut);else return new Vt(wt===3?-0:0);return external$1?finalise$1(a,bt,wt):a}if(et=mathfloor$1(a.e/LOG_BASE$1),Ft=mathfloor$1(Ut.e/LOG_BASE$1),Et=Et.slice(),ct=Ft-et,ct){for(jt=ct<0,jt?(s=Et,ct=-ct,ut=Lt.length):(s=Lt,et=Ft,ut=Et.length),tt=Math.max(Math.ceil(bt/LOG_BASE$1),ut)+2,ct>tt&&(ct=tt,s.length=1),s.reverse(),tt=ct;tt--;)s.push(0);s.reverse()}else{for(tt=Et.length,ut=Lt.length,jt=tt<ut,jt&&(ut=tt),tt=0;tt<ut;tt++)if(Et[tt]!=Lt[tt]){jt=Et[tt]<Lt[tt];break}ct=0}for(jt&&(s=Et,Et=Lt,Lt=s,a.s=-a.s),ut=Et.length,tt=Lt.length-ut;tt>0;--tt)Et[ut++]=0;for(tt=Lt.length;tt>ct;){if(Et[--tt]<Lt[tt]){for(at=tt;at&&Et[--at]===0;)Et[at]=BASE$1-1;--Et[at],Et[tt]+=BASE$1}Et[tt]-=Lt[tt]}for(;Et[--ut]===0;)Et.pop();for(;Et[0]===0;Et.shift())--et;return Et[0]?(a.d=Et,a.e=getBase10Exponent$1(Et,et),external$1?finalise$1(a,bt,wt):a):new Vt(wt===3?-0:0)};P$3.modulo=P$3.mod=function(a){var s,et=this,tt=et.constructor;return a=new tt(a),!et.d||!a.s||a.d&&!a.d[0]?new tt(NaN):!a.d||et.d&&!et.d[0]?finalise$1(new tt(et),tt.precision,tt.rounding):(external$1=!1,tt.modulo==9?(s=divide$4(et,a.abs(),0,3,1),s.s*=a.s):s=divide$4(et,a,0,tt.modulo,1),s=s.times(a),external$1=!0,et.minus(s))};P$3.naturalExponential=P$3.exp=function(){return naturalExponential$1(this)};P$3.naturalLogarithm=P$3.ln=function(){return naturalLogarithm$1(this)};P$3.negated=P$3.neg=function(){var a=new this.constructor(this);return a.s=-a.s,finalise$1(a)};P$3.plus=P$3.add=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt=this,Lt=jt.constructor;if(a=new Lt(a),!jt.d||!a.d)return!jt.s||!a.s?a=new Lt(NaN):jt.d||(a=new Lt(a.d||jt.s===a.s?jt:NaN)),a;if(jt.s!=a.s)return a.s=-a.s,jt.minus(a);if(Et=jt.d,Ft=a.d,bt=Lt.precision,wt=Lt.rounding,!Et[0]||!Ft[0])return Ft[0]||(a=new Lt(jt)),external$1?finalise$1(a,bt,wt):a;if(ct=mathfloor$1(jt.e/LOG_BASE$1),tt=mathfloor$1(a.e/LOG_BASE$1),Et=Et.slice(),at=ct-tt,at){for(at<0?(et=Et,at=-at,ut=Ft.length):(et=Ft,tt=ct,ut=Et.length),ct=Math.ceil(bt/LOG_BASE$1),ut=ct>ut?ct+1:ut+1,at>ut&&(at=ut,et.length=1),et.reverse();at--;)et.push(0);et.reverse()}for(ut=Et.length,at=Ft.length,ut-at<0&&(at=ut,et=Ft,Ft=Et,Et=et),s=0;at;)s=(Et[--at]=Et[at]+Ft[at]+s)/BASE$1|0,Et[at]%=BASE$1;for(s&&(Et.unshift(s),++tt),ut=Et.length;Et[--ut]==0;)Et.pop();return a.d=Et,a.e=getBase10Exponent$1(Et,tt),external$1?finalise$1(a,bt,wt):a};P$3.precision=P$3.sd=function(a){var s,et=this;if(a!==void 0&&a!==!!a&&a!==1&&a!==0)throw Error(invalidArgument$1+a);return et.d?(s=getPrecision$1(et.d),a&&et.e+1>s&&(s=et.e+1)):s=NaN,s};P$3.round=function(){var a=this,s=a.constructor;return finalise$1(new s(a),a.e+1,s.rounding)};P$3.sine=P$3.sin=function(){var a,s,et=this,tt=et.constructor;return et.isFinite()?et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+Math.max(et.e,et.sd())+LOG_BASE$1,tt.rounding=1,et=sine$1(tt,toLessThanHalfPi$1(tt,et)),tt.precision=a,tt.rounding=s,finalise$1(quadrant$1>2?et.neg():et,a,s,!0)):new tt(NaN)};P$3.squareRoot=P$3.sqrt=function(){var a,s,et,tt,at,ct,ut=this,bt=ut.d,wt=ut.e,Et=ut.s,Ft=ut.constructor;if(Et!==1||!bt||!bt[0])return new Ft(!Et||Et<0&&(!bt||bt[0])?NaN:bt?ut:1/0);for(external$1=!1,Et=Math.sqrt(+ut),Et==0||Et==1/0?(s=digitsToString$1(bt),(s.length+wt)%2==0&&(s+="0"),Et=Math.sqrt(s),wt=mathfloor$1((wt+1)/2)-(wt<0||wt%2),Et==1/0?s="5e"+wt:(s=Et.toExponential(),s=s.slice(0,s.indexOf("e")+1)+wt),tt=new Ft(s)):tt=new Ft(Et.toString()),et=(wt=Ft.precision)+3;;)if(ct=tt,tt=ct.plus(divide$4(ut,ct,et+2,1)).times(.5),digitsToString$1(ct.d).slice(0,et)===(s=digitsToString$1(tt.d)).slice(0,et))if(s=s.slice(et-3,et+1),s=="9999"||!at&&s=="4999"){if(!at&&(finalise$1(ct,wt+1,0),ct.times(ct).eq(ut))){tt=ct;break}et+=4,at=1}else{(!+s||!+s.slice(1)&&s.charAt(0)=="5")&&(finalise$1(tt,wt+1,1),a=!tt.times(tt).eq(ut));break}return external$1=!0,finalise$1(tt,wt,Ft.rounding,a)};P$3.tangent=P$3.tan=function(){var a,s,et=this,tt=et.constructor;return et.isFinite()?et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+10,tt.rounding=1,et=et.sin(),et.s=1,et=divide$4(et,new tt(1).minus(et.times(et)).sqrt(),a+10,0),tt.precision=a,tt.rounding=s,finalise$1(quadrant$1==2||quadrant$1==4?et.neg():et,a,s,!0)):new tt(NaN)};P$3.times=P$3.mul=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft=this,jt=Ft.constructor,Lt=Ft.d,Ut=(a=new jt(a)).d;if(a.s*=Ft.s,!Lt||!Lt[0]||!Ut||!Ut[0])return new jt(!a.s||Lt&&!Lt[0]&&!Ut||Ut&&!Ut[0]&&!Lt?NaN:!Lt||!Ut?a.s/0:a.s*0);for(et=mathfloor$1(Ft.e/LOG_BASE$1)+mathfloor$1(a.e/LOG_BASE$1),wt=Lt.length,Et=Ut.length,wt<Et&&(ct=Lt,Lt=Ut,Ut=ct,ut=wt,wt=Et,Et=ut),ct=[],ut=wt+Et,tt=ut;tt--;)ct.push(0);for(tt=Et;--tt>=0;){for(s=0,at=wt+tt;at>tt;)bt=ct[at]+Ut[tt]*Lt[at-tt-1]+s,ct[at--]=bt%BASE$1|0,s=bt/BASE$1|0;ct[at]=(ct[at]+s)%BASE$1|0}for(;!ct[--ut];)ct.pop();return s?++et:ct.shift(),a.d=ct,a.e=getBase10Exponent$1(ct,et),external$1?finalise$1(a,jt.precision,jt.rounding):a};P$3.toBinary=function(a,s){return toStringBinary$1(this,2,a,s)};P$3.toDecimalPlaces=P$3.toDP=function(a,s){var et=this,tt=et.constructor;return et=new tt(et),a===void 0?et:(checkInt32$1(a,0,MAX_DIGITS$1),s===void 0?s=tt.rounding:checkInt32$1(s,0,8),finalise$1(et,a+et.e+1,s))};P$3.toExponential=function(a,s){var et,tt=this,at=tt.constructor;return a===void 0?et=finiteToString$1(tt,!0):(checkInt32$1(a,0,MAX_DIGITS$1),s===void 0?s=at.rounding:checkInt32$1(s,0,8),tt=finalise$1(new at(tt),a+1,s),et=finiteToString$1(tt,!0,a+1)),tt.isNeg()&&!tt.isZero()?"-"+et:et};P$3.toFixed=function(a,s){var et,tt,at=this,ct=at.constructor;return a===void 0?et=finiteToString$1(at):(checkInt32$1(a,0,MAX_DIGITS$1),s===void 0?s=ct.rounding:checkInt32$1(s,0,8),tt=finalise$1(new ct(at),a+at.e+1,s),et=finiteToString$1(tt,!1,a+tt.e+1)),at.isNeg()&&!at.isZero()?"-"+et:et};P$3.toFraction=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=this,Vt=Ut.d,Yt=Ut.constructor;if(!Vt)return new Yt(Ut);if(Et=et=new Yt(1),tt=wt=new Yt(0),s=new Yt(tt),ct=s.e=getPrecision$1(Vt)-Ut.e-1,ut=ct%LOG_BASE$1,s.d[0]=mathpow$1(10,ut<0?LOG_BASE$1+ut:ut),a==null)a=ct>0?s:Et;else{if(bt=new Yt(a),!bt.isInt()||bt.lt(Et))throw Error(invalidArgument$1+bt);a=bt.gt(s)?ct>0?s:Et:bt}for(external$1=!1,bt=new Yt(digitsToString$1(Vt)),Ft=Yt.precision,Yt.precision=ct=Vt.length*LOG_BASE$1*2;jt=divide$4(bt,s,0,1,1),at=et.plus(jt.times(tt)),at.cmp(a)!=1;)et=tt,tt=at,at=Et,Et=wt.plus(jt.times(at)),wt=at,at=s,s=bt.minus(jt.times(at)),bt=at;return at=divide$4(a.minus(et),tt,0,1,1),wt=wt.plus(at.times(Et)),et=et.plus(at.times(tt)),wt.s=Et.s=Ut.s,Lt=divide$4(Et,tt,ct,1).minus(Ut).abs().cmp(divide$4(wt,et,ct,1).minus(Ut).abs())<1?[Et,tt]:[wt,et],Yt.precision=Ft,external$1=!0,Lt};P$3.toHexadecimal=P$3.toHex=function(a,s){return toStringBinary$1(this,16,a,s)};P$3.toNearest=function(a,s){var et=this,tt=et.constructor;if(et=new tt(et),a==null){if(!et.d)return et;a=new tt(1),s=tt.rounding}else{if(a=new tt(a),s===void 0?s=tt.rounding:checkInt32$1(s,0,8),!et.d)return a.s?et:a;if(!a.d)return a.s&&(a.s=et.s),a}return a.d[0]?(external$1=!1,et=divide$4(et,a,0,s,1).times(a),external$1=!0,finalise$1(et)):(a.s=et.s,et=a),et};P$3.toNumber=function(){return+this};P$3.toOctal=function(a,s){return toStringBinary$1(this,8,a,s)};P$3.toPower=P$3.pow=function(a){var s,et,tt,at,ct,ut,bt=this,wt=bt.constructor,Et=+(a=new wt(a));if(!bt.d||!a.d||!bt.d[0]||!a.d[0])return new wt(mathpow$1(+bt,Et));if(bt=new wt(bt),bt.eq(1))return bt;if(tt=wt.precision,ct=wt.rounding,a.eq(1))return finalise$1(bt,tt,ct);if(s=mathfloor$1(a.e/LOG_BASE$1),s>=a.d.length-1&&(et=Et<0?-Et:Et)<=MAX_SAFE_INTEGER$3)return at=intPow$1(wt,bt,et,tt),a.s<0?new wt(1).div(at):finalise$1(at,tt,ct);if(ut=bt.s,ut<0){if(s<a.d.length-1)return new wt(NaN);if(a.d[s]&1||(ut=1),bt.e==0&&bt.d[0]==1&&bt.d.length==1)return bt.s=ut,bt}return et=mathpow$1(+bt,Et),s=et==0||!isFinite(et)?mathfloor$1(Et*(Math.log("0."+digitsToString$1(bt.d))/Math.LN10+bt.e+1)):new wt(et+"").e,s>wt.maxE+1||s<wt.minE-1?new wt(s>0?ut/0:0):(external$1=!1,wt.rounding=bt.s=1,et=Math.min(12,(s+"").length),at=naturalExponential$1(a.times(naturalLogarithm$1(bt,tt+et)),tt),at.d&&(at=finalise$1(at,tt+5,1),checkRoundingDigits$1(at.d,tt,ct)&&(s=tt+10,at=finalise$1(naturalExponential$1(a.times(naturalLogarithm$1(bt,s+et)),s),s+5,1),+digitsToString$1(at.d).slice(tt+1,tt+15)+1==1e14&&(at=finalise$1(at,tt+1,0)))),at.s=ut,external$1=!0,wt.rounding=ct,finalise$1(at,tt,ct))};P$3.toPrecision=function(a,s){var et,tt=this,at=tt.constructor;return a===void 0?et=finiteToString$1(tt,tt.e<=at.toExpNeg||tt.e>=at.toExpPos):(checkInt32$1(a,1,MAX_DIGITS$1),s===void 0?s=at.rounding:checkInt32$1(s,0,8),tt=finalise$1(new at(tt),a,s),et=finiteToString$1(tt,a<=tt.e||tt.e<=at.toExpNeg,a)),tt.isNeg()&&!tt.isZero()?"-"+et:et};P$3.toSignificantDigits=P$3.toSD=function(a,s){var et=this,tt=et.constructor;return a===void 0?(a=tt.precision,s=tt.rounding):(checkInt32$1(a,1,MAX_DIGITS$1),s===void 0?s=tt.rounding:checkInt32$1(s,0,8)),finalise$1(new tt(et),a,s)};P$3.toString=function(){var a=this,s=a.constructor,et=finiteToString$1(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()&&!a.isZero()?"-"+et:et};P$3.truncated=P$3.trunc=function(){return finalise$1(new this.constructor(this),this.e+1,1)};P$3.valueOf=P$3.toJSON=function(){var a=this,s=a.constructor,et=finiteToString$1(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()?"-"+et:et};function digitsToString$1(a){var s,et,tt,at=a.length-1,ct="",ut=a[0];if(at>0){for(ct+=ut,s=1;s<at;s++)tt=a[s]+"",et=LOG_BASE$1-tt.length,et&&(ct+=getZeroString$1(et)),ct+=tt;ut=a[s],tt=ut+"",et=LOG_BASE$1-tt.length,et&&(ct+=getZeroString$1(et))}else if(ut===0)return"0";for(;ut%10===0;)ut/=10;return ct+ut}function checkInt32$1(a,s,et){if(a!==~~a||a<s||a>et)throw Error(invalidArgument$1+a)}function checkRoundingDigits$1(a,s,et,tt){var at,ct,ut,bt;for(ct=a[0];ct>=10;ct/=10)--s;return--s<0?(s+=LOG_BASE$1,at=0):(at=Math.ceil((s+1)/LOG_BASE$1),s%=LOG_BASE$1),ct=mathpow$1(10,LOG_BASE$1-s),bt=a[at]%ct|0,tt==null?s<3?(s==0?bt=bt/100|0:s==1&&(bt=bt/10|0),ut=et<4&&bt==99999||et>3&&bt==49999||bt==5e4||bt==0):ut=(et<4&&bt+1==ct||et>3&&bt+1==ct/2)&&(a[at+1]/ct/100|0)==mathpow$1(10,s-2)-1||(bt==ct/2||bt==0)&&(a[at+1]/ct/100|0)==0:s<4?(s==0?bt=bt/1e3|0:s==1?bt=bt/100|0:s==2&&(bt=bt/10|0),ut=(tt||et<4)&&bt==9999||!tt&&et>3&&bt==4999):ut=((tt||et<4)&&bt+1==ct||!tt&&et>3&&bt+1==ct/2)&&(a[at+1]/ct/1e3|0)==mathpow$1(10,s-3)-1,ut}function convertBase$1(a,s,et){for(var tt,at=[0],ct,ut=0,bt=a.length;ut<bt;){for(ct=at.length;ct--;)at[ct]*=s;for(at[0]+=NUMERALS$1.indexOf(a.charAt(ut++)),tt=0;tt<at.length;tt++)at[tt]>et-1&&(at[tt+1]===void 0&&(at[tt+1]=0),at[tt+1]+=at[tt]/et|0,at[tt]%=et)}return at.reverse()}function cosine$1(a,s){var et,tt,at;if(s.isZero())return s;tt=s.d.length,tt<32?(et=Math.ceil(tt/3),at=(1/tinyPow$1(4,et)).toString()):(et=16,at="2.3283064365386962890625e-10"),a.precision+=et,s=taylorSeries$1(a,1,s.times(at),new a(1));for(var ct=et;ct--;){var ut=s.times(s);s=ut.times(ut).minus(ut).times(8).plus(1)}return a.precision-=et,s}var divide$4=function(){function a(tt,at,ct){var ut,bt=0,wt=tt.length;for(tt=tt.slice();wt--;)ut=tt[wt]*at+bt,tt[wt]=ut%ct|0,bt=ut/ct|0;return bt&&tt.unshift(bt),tt}function s(tt,at,ct,ut){var bt,wt;if(ct!=ut)wt=ct>ut?1:-1;else for(bt=wt=0;bt<ct;bt++)if(tt[bt]!=at[bt]){wt=tt[bt]>at[bt]?1:-1;break}return wt}function et(tt,at,ct,ut){for(var bt=0;ct--;)tt[ct]-=bt,bt=tt[ct]<at[ct]?1:0,tt[ct]=bt*ut+tt[ct]-at[ct];for(;!tt[0]&&tt.length>1;)tt.shift()}return function(tt,at,ct,ut,bt,wt){var Et,Ft,jt,Lt,Ut,Vt,Yt,er,tr,nr,ir,lr,pr,yr,br,xr,Er,$r,Sr,fr,vr=tt.constructor,or=tt.s==at.s?1:-1,rr=tt.d,ar=at.d;if(!rr||!rr[0]||!ar||!ar[0])return new vr(!tt.s||!at.s||(rr?ar&&rr[0]==ar[0]:!ar)?NaN:rr&&rr[0]==0||!ar?or*0:or/0);for(wt?(Ut=1,Ft=tt.e-at.e):(wt=BASE$1,Ut=LOG_BASE$1,Ft=mathfloor$1(tt.e/Ut)-mathfloor$1(at.e/Ut)),Sr=ar.length,Er=rr.length,tr=new vr(or),nr=tr.d=[],jt=0;ar[jt]==(rr[jt]||0);jt++);if(ar[jt]>(rr[jt]||0)&&Ft--,ct==null?(yr=ct=vr.precision,ut=vr.rounding):bt?yr=ct+(tt.e-at.e)+1:yr=ct,yr<0)nr.push(1),Vt=!0;else{if(yr=yr/Ut+2|0,jt=0,Sr==1){for(Lt=0,ar=ar[0],yr++;(jt<Er||Lt)&&yr--;jt++)br=Lt*wt+(rr[jt]||0),nr[jt]=br/ar|0,Lt=br%ar|0;Vt=Lt||jt<Er}else{for(Lt=wt/(ar[0]+1)|0,Lt>1&&(ar=a(ar,Lt,wt),rr=a(rr,Lt,wt),Sr=ar.length,Er=rr.length),xr=Sr,ir=rr.slice(0,Sr),lr=ir.length;lr<Sr;)ir[lr++]=0;fr=ar.slice(),fr.unshift(0),$r=ar[0],ar[1]>=wt/2&&++$r;do Lt=0,Et=s(ar,ir,Sr,lr),Et<0?(pr=ir[0],Sr!=lr&&(pr=pr*wt+(ir[1]||0)),Lt=pr/$r|0,Lt>1?(Lt>=wt&&(Lt=wt-1),Yt=a(ar,Lt,wt),er=Yt.length,lr=ir.length,Et=s(Yt,ir,er,lr),Et==1&&(Lt--,et(Yt,Sr<er?fr:ar,er,wt))):(Lt==0&&(Et=Lt=1),Yt=ar.slice()),er=Yt.length,er<lr&&Yt.unshift(0),et(ir,Yt,lr,wt),Et==-1&&(lr=ir.length,Et=s(ar,ir,Sr,lr),Et<1&&(Lt++,et(ir,Sr<lr?fr:ar,lr,wt))),lr=ir.length):Et===0&&(Lt++,ir=[0]),nr[jt++]=Lt,Et&&ir[0]?ir[lr++]=rr[xr]||0:(ir=[rr[xr]],lr=1);while((xr++<Er||ir[0]!==void 0)&&yr--);Vt=ir[0]!==void 0}nr[0]||nr.shift()}if(Ut==1)tr.e=Ft,inexact$1=Vt;else{for(jt=1,Lt=nr[0];Lt>=10;Lt/=10)jt++;tr.e=jt+Ft*Ut-1,finalise$1(tr,bt?ct+tr.e+1:ct,ut,Vt)}return tr}}();function finalise$1(a,s,et,tt){var at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=a.constructor;e:if(s!=null){if(jt=a.d,!jt)return a;for(at=1,bt=jt[0];bt>=10;bt/=10)at++;if(ct=s-at,ct<0)ct+=LOG_BASE$1,ut=s,Ft=jt[Lt=0],wt=Ft/mathpow$1(10,at-ut-1)%10|0;else if(Lt=Math.ceil((ct+1)/LOG_BASE$1),bt=jt.length,Lt>=bt)if(tt){for(;bt++<=Lt;)jt.push(0);Ft=wt=0,at=1,ct%=LOG_BASE$1,ut=ct-LOG_BASE$1+1}else break e;else{for(Ft=bt=jt[Lt],at=1;bt>=10;bt/=10)at++;ct%=LOG_BASE$1,ut=ct-LOG_BASE$1+at,wt=ut<0?0:Ft/mathpow$1(10,at-ut-1)%10|0}if(tt=tt||s<0||jt[Lt+1]!==void 0||(ut<0?Ft:Ft%mathpow$1(10,at-ut-1)),Et=et<4?(wt||tt)&&(et==0||et==(a.s<0?3:2)):wt>5||wt==5&&(et==4||tt||et==6&&(ct>0?ut>0?Ft/mathpow$1(10,at-ut):0:jt[Lt-1])%10&1||et==(a.s<0?8:7)),s<1||!jt[0])return jt.length=0,Et?(s-=a.e+1,jt[0]=mathpow$1(10,(LOG_BASE$1-s%LOG_BASE$1)%LOG_BASE$1),a.e=-s||0):jt[0]=a.e=0,a;if(ct==0?(jt.length=Lt,bt=1,Lt--):(jt.length=Lt+1,bt=mathpow$1(10,LOG_BASE$1-ct),jt[Lt]=ut>0?(Ft/mathpow$1(10,at-ut)%mathpow$1(10,ut)|0)*bt:0),Et)for(;;)if(Lt==0){for(ct=1,ut=jt[0];ut>=10;ut/=10)ct++;for(ut=jt[0]+=bt,bt=1;ut>=10;ut/=10)bt++;ct!=bt&&(a.e++,jt[0]==BASE$1&&(jt[0]=1));break}else{if(jt[Lt]+=bt,jt[Lt]!=BASE$1)break;jt[Lt--]=0,bt=1}for(ct=jt.length;jt[--ct]===0;)jt.pop()}return external$1&&(a.e>Ut.maxE?(a.d=null,a.e=NaN):a.e<Ut.minE&&(a.e=0,a.d=[0])),a}function finiteToString$1(a,s,et){if(!a.isFinite())return nonFiniteToString$1(a);var tt,at=a.e,ct=digitsToString$1(a.d),ut=ct.length;return s?(et&&(tt=et-ut)>0?ct=ct.charAt(0)+"."+ct.slice(1)+getZeroString$1(tt):ut>1&&(ct=ct.charAt(0)+"."+ct.slice(1)),ct=ct+(a.e<0?"e":"e+")+a.e):at<0?(ct="0."+getZeroString$1(-at-1)+ct,et&&(tt=et-ut)>0&&(ct+=getZeroString$1(tt))):at>=ut?(ct+=getZeroString$1(at+1-ut),et&&(tt=et-at-1)>0&&(ct=ct+"."+getZeroString$1(tt))):((tt=at+1)<ut&&(ct=ct.slice(0,tt)+"."+ct.slice(tt)),et&&(tt=et-ut)>0&&(at+1===ut&&(ct+="."),ct+=getZeroString$1(tt))),ct}function getBase10Exponent$1(a,s){var et=a[0];for(s*=LOG_BASE$1;et>=10;et/=10)s++;return s}function getLn10$1(a,s,et){if(s>LN10_PRECISION$1)throw external$1=!0,et&&(a.precision=et),Error(precisionLimitExceeded$1);return finalise$1(new a(LN10$1),s,1,!0)}function getPi$1(a,s,et){if(s>PI_PRECISION$1)throw Error(precisionLimitExceeded$1);return finalise$1(new a(PI$1),s,et,!0)}function getPrecision$1(a){var s=a.length-1,et=s*LOG_BASE$1+1;if(s=a[s],s){for(;s%10==0;s/=10)et--;for(s=a[0];s>=10;s/=10)et++}return et}function getZeroString$1(a){for(var s="";a--;)s+="0";return s}function intPow$1(a,s,et,tt){var at,ct=new a(1),ut=Math.ceil(tt/LOG_BASE$1+4);for(external$1=!1;;){if(et%2&&(ct=ct.times(s),truncate$1(ct.d,ut)&&(at=!0)),et=mathfloor$1(et/2),et===0){et=ct.d.length-1,at&&ct.d[et]===0&&++ct.d[et];break}s=s.times(s),truncate$1(s.d,ut)}return external$1=!0,ct}function isOdd$1(a){return a.d[a.d.length-1]&1}function maxOrMin$1(a,s,et){for(var tt,at,ct=new a(s[0]),ut=0;++ut<s.length;){if(at=new a(s[ut]),!at.s){ct=at;break}tt=ct.cmp(at),(tt===et||tt===0&&ct.s===et)&&(ct=at)}return ct}function naturalExponential$1(a,s){var et,tt,at,ct,ut,bt,wt,Et=0,Ft=0,jt=0,Lt=a.constructor,Ut=Lt.rounding,Vt=Lt.precision;if(!a.d||!a.d[0]||a.e>17)return new Lt(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(s==null?(external$1=!1,wt=Vt):wt=s,bt=new Lt(.03125);a.e>-2;)a=a.times(bt),jt+=5;for(tt=Math.log(mathpow$1(2,jt))/Math.LN10*2+5|0,wt+=tt,et=ct=ut=new Lt(1),Lt.precision=wt;;){if(ct=finalise$1(ct.times(a),wt,1),et=et.times(++Ft),bt=ut.plus(divide$4(ct,et,wt,1)),digitsToString$1(bt.d).slice(0,wt)===digitsToString$1(ut.d).slice(0,wt)){for(at=jt;at--;)ut=finalise$1(ut.times(ut),wt,1);if(s==null)if(Et<3&&checkRoundingDigits$1(ut.d,wt-tt,Ut,Et))Lt.precision=wt+=10,et=ct=bt=new Lt(1),Ft=0,Et++;else return finalise$1(ut,Lt.precision=Vt,Ut,external$1=!0);else return Lt.precision=Vt,ut}ut=bt}}function naturalLogarithm$1(a,s){var et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=1,Vt=10,Yt=a,er=Yt.d,tr=Yt.constructor,nr=tr.rounding,ir=tr.precision;if(Yt.s<0||!er||!er[0]||!Yt.e&&er[0]==1&&er.length==1)return new tr(er&&!er[0]?-1/0:Yt.s!=1?NaN:er?0:Yt);if(s==null?(external$1=!1,Ft=ir):Ft=s,tr.precision=Ft+=Vt,et=digitsToString$1(er),tt=et.charAt(0),Math.abs(ct=Yt.e)<15e14){for(;tt<7&&tt!=1||tt==1&&et.charAt(1)>3;)Yt=Yt.times(a),et=digitsToString$1(Yt.d),tt=et.charAt(0),Ut++;ct=Yt.e,tt>1?(Yt=new tr("0."+et),ct++):Yt=new tr(tt+"."+et.slice(1))}else return Et=getLn10$1(tr,Ft+2,ir).times(ct+""),Yt=naturalLogarithm$1(new tr(tt+"."+et.slice(1)),Ft-Vt).plus(Et),tr.precision=ir,s==null?finalise$1(Yt,ir,nr,external$1=!0):Yt;for(jt=Yt,wt=ut=Yt=divide$4(Yt.minus(1),Yt.plus(1),Ft,1),Lt=finalise$1(Yt.times(Yt),Ft,1),at=3;;){if(ut=finalise$1(ut.times(Lt),Ft,1),Et=wt.plus(divide$4(ut,new tr(at),Ft,1)),digitsToString$1(Et.d).slice(0,Ft)===digitsToString$1(wt.d).slice(0,Ft))if(wt=wt.times(2),ct!==0&&(wt=wt.plus(getLn10$1(tr,Ft+2,ir).times(ct+""))),wt=divide$4(wt,new tr(Ut),Ft,1),s==null)if(checkRoundingDigits$1(wt.d,Ft-Vt,nr,bt))tr.precision=Ft+=Vt,Et=ut=Yt=divide$4(jt.minus(1),jt.plus(1),Ft,1),Lt=finalise$1(Yt.times(Yt),Ft,1),at=bt=1;else return finalise$1(wt,tr.precision=ir,nr,external$1=!0);else return tr.precision=ir,wt;wt=Et,at+=2}}function nonFiniteToString$1(a){return String(a.s*a.s/0)}function parseDecimal$1(a,s){var et,tt,at;for((et=s.indexOf("."))>-1&&(s=s.replace(".","")),(tt=s.search(/e/i))>0?(et<0&&(et=tt),et+=+s.slice(tt+1),s=s.substring(0,tt)):et<0&&(et=s.length),tt=0;s.charCodeAt(tt)===48;tt++);for(at=s.length;s.charCodeAt(at-1)===48;--at);if(s=s.slice(tt,at),s){if(at-=tt,a.e=et=et-tt-1,a.d=[],tt=(et+1)%LOG_BASE$1,et<0&&(tt+=LOG_BASE$1),tt<at){for(tt&&a.d.push(+s.slice(0,tt)),at-=LOG_BASE$1;tt<at;)a.d.push(+s.slice(tt,tt+=LOG_BASE$1));s=s.slice(tt),tt=LOG_BASE$1-s.length}else tt-=at;for(;tt--;)s+="0";a.d.push(+s),external$1&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function parseOther$1(a,s){var et,tt,at,ct,ut,bt,wt,Et,Ft;if(s.indexOf("_")>-1){if(s=s.replace(/(\d)_(?=\d)/g,"$1"),isDecimal$2.test(s))return parseDecimal$1(a,s)}else if(s==="Infinity"||s==="NaN")return+s||(a.s=NaN),a.e=NaN,a.d=null,a;if(isHex$2.test(s))et=16,s=s.toLowerCase();else if(isBinary$1.test(s))et=2;else if(isOctal$1.test(s))et=8;else throw Error(invalidArgument$1+s);for(ct=s.search(/p/i),ct>0?(wt=+s.slice(ct+1),s=s.substring(2,ct)):s=s.slice(2),ct=s.indexOf("."),ut=ct>=0,tt=a.constructor,ut&&(s=s.replace(".",""),bt=s.length,ct=bt-ct,at=intPow$1(tt,new tt(et),ct,ct*2)),Et=convertBase$1(s,et,BASE$1),Ft=Et.length-1,ct=Ft;Et[ct]===0;--ct)Et.pop();return ct<0?new tt(a.s*0):(a.e=getBase10Exponent$1(Et,Ft),a.d=Et,external$1=!1,ut&&(a=divide$4(a,at,bt*4)),wt&&(a=a.times(Math.abs(wt)<54?mathpow$1(2,wt):Decimal$1.pow(2,wt))),external$1=!0,a)}function sine$1(a,s){var et,tt=s.d.length;if(tt<3)return s.isZero()?s:taylorSeries$1(a,2,s,s);et=1.4*Math.sqrt(tt),et=et>16?16:et|0,s=s.times(1/tinyPow$1(5,et)),s=taylorSeries$1(a,2,s,s);for(var at,ct=new a(5),ut=new a(16),bt=new a(20);et--;)at=s.times(s),s=s.times(ct.plus(at.times(ut.times(at).minus(bt))));return s}function taylorSeries$1(a,s,et,tt,at){var ct,ut,bt,wt,Et=a.precision,Ft=Math.ceil(Et/LOG_BASE$1);for(external$1=!1,wt=et.times(et),bt=new a(tt);;){if(ut=divide$4(bt.times(wt),new a(s++*s++),Et,1),bt=at?tt.plus(ut):tt.minus(ut),tt=divide$4(ut.times(wt),new a(s++*s++),Et,1),ut=bt.plus(tt),ut.d[Ft]!==void 0){for(ct=Ft;ut.d[ct]===bt.d[ct]&&ct--;);if(ct==-1)break}ct=bt,bt=tt,tt=ut,ut=ct}return external$1=!0,ut.d.length=Ft+1,ut}function tinyPow$1(a,s){for(var et=a;--s;)et*=a;return et}function toLessThanHalfPi$1(a,s){var et,tt=s.s<0,at=getPi$1(a,a.precision,1),ct=at.times(.5);if(s=s.abs(),s.lte(ct))return quadrant$1=tt?4:1,s;if(et=s.divToInt(at),et.isZero())quadrant$1=tt?3:2;else{if(s=s.minus(et.times(at)),s.lte(ct))return quadrant$1=isOdd$1(et)?tt?2:3:tt?4:1,s;quadrant$1=isOdd$1(et)?tt?1:4:tt?3:2}return s.minus(at).abs()}function toStringBinary$1(a,s,et,tt){var at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=a.constructor,Vt=et!==void 0;if(Vt?(checkInt32$1(et,1,MAX_DIGITS$1),tt===void 0?tt=Ut.rounding:checkInt32$1(tt,0,8)):(et=Ut.precision,tt=Ut.rounding),!a.isFinite())Ft=nonFiniteToString$1(a);else{for(Ft=finiteToString$1(a),ut=Ft.indexOf("."),Vt?(at=2,s==16?et=et*4-3:s==8&&(et=et*3-2)):at=s,ut>=0&&(Ft=Ft.replace(".",""),Lt=new Ut(1),Lt.e=Ft.length-ut,Lt.d=convertBase$1(finiteToString$1(Lt),10,at),Lt.e=Lt.d.length),jt=convertBase$1(Ft,10,at),ct=wt=jt.length;jt[--wt]==0;)jt.pop();if(!jt[0])Ft=Vt?"0p+0":"0";else{if(ut<0?ct--:(a=new Ut(a),a.d=jt,a.e=ct,a=divide$4(a,Lt,et,tt,0,at),jt=a.d,ct=a.e,Et=inexact$1),ut=jt[et],bt=at/2,Et=Et||jt[et+1]!==void 0,Et=tt<4?(ut!==void 0||Et)&&(tt===0||tt===(a.s<0?3:2)):ut>bt||ut===bt&&(tt===4||Et||tt===6&&jt[et-1]&1||tt===(a.s<0?8:7)),jt.length=et,Et)for(;++jt[--et]>at-1;)jt[et]=0,et||(++ct,jt.unshift(1));for(wt=jt.length;!jt[wt-1];--wt);for(ut=0,Ft="";ut<wt;ut++)Ft+=NUMERALS$1.charAt(jt[ut]);if(Vt){if(wt>1)if(s==16||s==8){for(ut=s==16?4:3,--wt;wt%ut;wt++)Ft+="0";for(jt=convertBase$1(Ft,at,s),wt=jt.length;!jt[wt-1];--wt);for(ut=1,Ft="1.";ut<wt;ut++)Ft+=NUMERALS$1.charAt(jt[ut])}else Ft=Ft.charAt(0)+"."+Ft.slice(1);Ft=Ft+(ct<0?"p":"p+")+ct}else if(ct<0){for(;++ct;)Ft="0"+Ft;Ft="0."+Ft}else if(++ct>wt)for(ct-=wt;ct--;)Ft+="0";else ct<wt&&(Ft=Ft.slice(0,ct)+"."+Ft.slice(ct))}Ft=(s==16?"0x":s==2?"0b":s==8?"0o":"")+Ft}return a.s<0?"-"+Ft:Ft}function truncate$1(a,s){if(a.length>s)return a.length=s,!0}function abs$3(a){return new this(a).abs()}function acos$1(a){return new this(a).acos()}function acosh$1(a){return new this(a).acosh()}function add$4(a,s){return new this(a).plus(s)}function asin$1(a){return new this(a).asin()}function asinh$1(a){return new this(a).asinh()}function atan$1(a){return new this(a).atan()}function atanh$1(a){return new this(a).atanh()}function atan2$1(a,s){a=new this(a),s=new this(s);var et,tt=this.precision,at=this.rounding,ct=tt+4;return!a.s||!s.s?et=new this(NaN):!a.d&&!s.d?(et=getPi$1(this,ct,1).times(s.s>0?.25:.75),et.s=a.s):!s.d||a.isZero()?(et=s.s<0?getPi$1(this,tt,at):new this(0),et.s=a.s):!a.d||s.isZero()?(et=getPi$1(this,ct,1).times(.5),et.s=a.s):s.s<0?(this.precision=ct,this.rounding=1,et=this.atan(divide$4(a,s,ct,1)),s=getPi$1(this,ct,1),this.precision=tt,this.rounding=at,et=a.s<0?et.minus(s):et.plus(s)):et=this.atan(divide$4(a,s,ct,1)),et}function cbrt$1(a){return new this(a).cbrt()}function ceil$1(a){return finalise$1(a=new this(a),a.e+1,2)}function clamp$4(a,s,et){return new this(a).clamp(s,et)}function config$4(a){if(!a||typeof a!="object")throw Error(decimalError$1+"Object expected");var s,et,tt,at=a.defaults===!0,ct=["precision",1,MAX_DIGITS$1,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT$1,"maxE",0,EXP_LIMIT$1,"minE",-9e15,0,"modulo",0,9];for(s=0;s<ct.length;s+=3)if(et=ct[s],at&&(this[et]=DEFAULTS$1[et]),(tt=a[et])!==void 0)if(mathfloor$1(tt)===tt&&tt>=ct[s+1]&&tt<=ct[s+2])this[et]=tt;else throw Error(invalidArgument$1+et+": "+tt);if(et="crypto",at&&(this[et]=DEFAULTS$1[et]),(tt=a[et])!==void 0)if(tt===!0||tt===!1||tt===0||tt===1)if(tt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[et]=!0;else throw Error(cryptoUnavailable$1);else this[et]=!1;else throw Error(invalidArgument$1+et+": "+tt);return this}function cos$1(a){return new this(a).cos()}function cosh$1(a){return new this(a).cosh()}function clone$2(a){var s,et,tt;function at(ct){var ut,bt,wt,Et=this;if(!(Et instanceof at))return new at(ct);if(Et.constructor=at,isDecimalInstance$1(ct)){Et.s=ct.s,external$1?!ct.d||ct.e>at.maxE?(Et.e=NaN,Et.d=null):ct.e<at.minE?(Et.e=0,Et.d=[0]):(Et.e=ct.e,Et.d=ct.d.slice()):(Et.e=ct.e,Et.d=ct.d?ct.d.slice():ct.d);return}if(wt=typeof ct,wt==="number"){if(ct===0){Et.s=1/ct<0?-1:1,Et.e=0,Et.d=[0];return}if(ct<0?(ct=-ct,Et.s=-1):Et.s=1,ct===~~ct&&ct<1e7){for(ut=0,bt=ct;bt>=10;bt/=10)ut++;external$1?ut>at.maxE?(Et.e=NaN,Et.d=null):ut<at.minE?(Et.e=0,Et.d=[0]):(Et.e=ut,Et.d=[ct]):(Et.e=ut,Et.d=[ct]);return}if(ct*0!==0){ct||(Et.s=NaN),Et.e=NaN,Et.d=null;return}return parseDecimal$1(Et,ct.toString())}if(wt==="string")return(bt=ct.charCodeAt(0))===45?(ct=ct.slice(1),Et.s=-1):(bt===43&&(ct=ct.slice(1)),Et.s=1),isDecimal$2.test(ct)?parseDecimal$1(Et,ct):parseOther$1(Et,ct);if(wt==="bigint")return ct<0?(ct=-ct,Et.s=-1):Et.s=1,parseDecimal$1(Et,ct.toString());throw Error(invalidArgument$1+ct)}if(at.prototype=P$3,at.ROUND_UP=0,at.ROUND_DOWN=1,at.ROUND_CEIL=2,at.ROUND_FLOOR=3,at.ROUND_HALF_UP=4,at.ROUND_HALF_DOWN=5,at.ROUND_HALF_EVEN=6,at.ROUND_HALF_CEIL=7,at.ROUND_HALF_FLOOR=8,at.EUCLID=9,at.config=at.set=config$4,at.clone=clone$2,at.isDecimal=isDecimalInstance$1,at.abs=abs$3,at.acos=acos$1,at.acosh=acosh$1,at.add=add$4,at.asin=asin$1,at.asinh=asinh$1,at.atan=atan$1,at.atanh=atanh$1,at.atan2=atan2$1,at.cbrt=cbrt$1,at.ceil=ceil$1,at.clamp=clamp$4,at.cos=cos$1,at.cosh=cosh$1,at.div=div$1,at.exp=exp$1,at.floor=floor$2,at.hypot=hypot$1,at.ln=ln$2,at.log=log$1,at.log10=log10$1,at.log2=log2$1,at.max=max$3,at.min=min$3,at.mod=mod$1,at.mul=mul$1,at.pow=pow$2,at.random=random$1,at.round=round$3,at.sign=sign$3,at.sin=sin$1,at.sinh=sinh$1,at.sqrt=sqrt$1,at.sub=sub$1,at.sum=sum$1,at.tan=tan$1,at.tanh=tanh$1,at.trunc=trunc$1,a===void 0&&(a={}),a&&a.defaults!==!0)for(tt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],s=0;s<tt.length;)a.hasOwnProperty(et=tt[s++])||(a[et]=this[et]);return at.config(a),at}function div$1(a,s){return new this(a).div(s)}function exp$1(a){return new this(a).exp()}function floor$2(a){return finalise$1(a=new this(a),a.e+1,3)}function hypot$1(){var a,s,et=new this(0);for(external$1=!1,a=0;a<arguments.length;)if(s=new this(arguments[a++]),s.d)et.d&&(et=et.plus(s.times(s)));else{if(s.s)return external$1=!0,new this(1/0);et=s}return external$1=!0,et.sqrt()}function isDecimalInstance$1(a){return a instanceof Decimal$1||a&&a.toStringTag===tag$1||!1}function ln$2(a){return new this(a).ln()}function log$1(a,s){return new this(a).log(s)}function log2$1(a){return new this(a).log(2)}function log10$1(a){return new this(a).log(10)}function max$3(){return maxOrMin$1(this,arguments,-1)}function min$3(){return maxOrMin$1(this,arguments,1)}function mod$1(a,s){return new this(a).mod(s)}function mul$1(a,s){return new this(a).mul(s)}function pow$2(a,s){return new this(a).pow(s)}function random$1(a){var s,et,tt,at,ct=0,ut=new this(1),bt=[];if(a===void 0?a=this.precision:checkInt32$1(a,1,MAX_DIGITS$1),tt=Math.ceil(a/LOG_BASE$1),this.crypto)if(crypto.getRandomValues)for(s=crypto.getRandomValues(new Uint32Array(tt));ct<tt;)at=s[ct],at>=429e7?s[ct]=crypto.getRandomValues(new Uint32Array(1))[0]:bt[ct++]=at%1e7;else if(crypto.randomBytes){for(s=crypto.randomBytes(tt*=4);ct<tt;)at=s[ct]+(s[ct+1]<<8)+(s[ct+2]<<16)+((s[ct+3]&127)<<24),at>=214e7?crypto.randomBytes(4).copy(s,ct):(bt.push(at%1e7),ct+=4);ct=tt/4}else throw Error(cryptoUnavailable$1);else for(;ct<tt;)bt[ct++]=Math.random()*1e7|0;for(tt=bt[--ct],a%=LOG_BASE$1,tt&&a&&(at=mathpow$1(10,LOG_BASE$1-a),bt[ct]=(tt/at|0)*at);bt[ct]===0;ct--)bt.pop();if(ct<0)et=0,bt=[0];else{for(et=-1;bt[0]===0;et-=LOG_BASE$1)bt.shift();for(tt=1,at=bt[0];at>=10;at/=10)tt++;tt<LOG_BASE$1&&(et-=LOG_BASE$1-tt)}return ut.e=et,ut.d=bt,ut}function round$3(a){return finalise$1(a=new this(a),a.e+1,this.rounding)}function sign$3(a){return a=new this(a),a.d?a.d[0]?a.s:0*a.s:a.s||NaN}function sin$1(a){return new this(a).sin()}function sinh$1(a){return new this(a).sinh()}function sqrt$1(a){return new this(a).sqrt()}function sub$1(a,s){return new this(a).sub(s)}function sum$1(){var a=0,s=arguments,et=new this(s[a]);for(external$1=!1;et.s&&++a<s.length;)et=et.plus(s[a]);return external$1=!0,finalise$1(et,this.precision,this.rounding)}function tan$1(a){return new this(a).tan()}function tanh$1(a){return new this(a).tanh()}function trunc$1(a){return finalise$1(a=new this(a),a.e+1,1)}P$3[Symbol.for("nodejs.util.inspect.custom")]=P$3.toString;P$3[Symbol.toStringTag]="Decimal";var Decimal$1=P$3.constructor=clone$2(DEFAULTS$1);LN10$1=new Decimal$1(LN10$1);PI$1=new Decimal$1(PI$1);var CompareResult;(function(a){a[a.EQUAL=0]="EQUAL",a[a.GREATER=1]="GREATER",a[a.LESS=-1]="LESS"})(CompareResult||(CompareResult={}));var Comparator=function(){function a(s){this.compare=s||a.defaultCompareFunction}return a.defaultCompareFunction=function(s,et){return s===et?CompareResult.EQUAL:s<et?CompareResult.LESS:CompareResult.GREATER},a.prototype.equal=function(s,et){return this.compare(s,et)===CompareResult.EQUAL},a.prototype.lessThan=function(s,et){return this.compare(s,et)===CompareResult.LESS},a.prototype.greaterThan=function(s,et){return this.compare(s,et)===CompareResult.GREATER},a.prototype.lessThanOrEqual=function(s,et){return this.lessThan(s,et)||this.equal(s,et)},a.prototype.greaterThanOrEqual=function(s,et){return this.greaterThan(s,et)||this.equal(s,et)},a.prototype.reverse=function(){var s=this.compare;this.compare=function(et,tt){return s(tt,et)}},a}(),SinglyNode=function(){function a(s){this.value=s,this.next=null}return a}(),DoublyNode=function(){function a(s){this.value=s,this.next=null,this.prev=null}return a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(a,s){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var at in tt)tt.hasOwnProperty(at)&&(et[at]=tt[at])},extendStatics(a,s)};function __extends(a,s){extendStatics(a,s);function et(){this.constructor=a}a.prototype=s===null?Object.create(s):(et.prototype=s.prototype,new et)}function __generator(a,s){var et={label:0,sent:function(){if(ct[0]&1)throw ct[1];return ct[1]},trys:[],ops:[]},tt,at,ct,ut;return ut={next:bt(0),throw:bt(1),return:bt(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function bt(Et){return function(Ft){return wt([Et,Ft])}}function wt(Et){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,at&&(ct=Et[0]&2?at.return:Et[0]?at.throw||((ct=at.return)&&ct.call(at),0):at.next)&&!(ct=ct.call(at,Et[1])).done)return ct;switch(at=0,ct&&(Et=[Et[0]&2,ct.value]),Et[0]){case 0:case 1:ct=Et;break;case 4:return et.label++,{value:Et[1],done:!1};case 5:et.label++,at=Et[1],Et=[0];continue;case 7:Et=et.ops.pop(),et.trys.pop();continue;default:if(ct=et.trys,!(ct=ct.length>0&&ct[ct.length-1])&&(Et[0]===6||Et[0]===2)){et=0;continue}if(Et[0]===3&&(!ct||Et[1]>ct[0]&&Et[1]<ct[3])){et.label=Et[1];break}if(Et[0]===6&&et.label<ct[1]){et.label=ct[1],ct=Et;break}if(ct&&et.label<ct[2]){et.label=ct[2],et.ops.push(Et);break}ct[2]&&et.ops.pop(),et.trys.pop();continue}Et=s.call(a,et)}catch(Ft){Et=[6,Ft],at=0}finally{tt=ct=0}if(Et[0]&5)throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}}function __read$2(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var tt=et.call(a),at,ct=[],ut;try{for(;(s===void 0||s-- >0)&&!(at=tt.next()).done;)ct.push(at.value)}catch(bt){ut={error:bt}}finally{try{at&&!at.done&&(et=tt.return)&&et.call(tt)}finally{if(ut)throw ut.error}}return ct}function __spread$2(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(__read$2(arguments[s]));return a}var OBFUSCATED_ERROR="obfuse error occur";function invariant$P(a,s){if(!a)throw new Error("[linked-list] "+(s||OBFUSCATED_ERROR))}var INDEX_NOT_FOUND=-1,List=function(){function a(){for(var s=this,et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];this._head=null,this._tail=null,this._length=0,this.compare=new Comparator,et.length>0&&et.forEach(function(at){s.append(at)})}return Object.defineProperty(a.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"loopLength",{get:function(){var s=!1,et=1;if(!this._head)return 0;for(var tt=this._head,at=this._head;at.next&&at.next.next;)if(at=at.next.next,tt=tt.next,tt===at){s=!0;break}if(s){for(at=at.next;tt!==at;)et++,at=at.next;return et}else return 0},enumerable:!0,configurable:!0}),a.prototype.getNode=function(s){var et=this._length;invariant$P(et>0&&s>=0&&s<et,"[linked-list] index "+s+" out of scope of list, which length is "+et);for(var tt=this._head,at=0;at<s;)tt=tt.next,at++;return tt},a.prototype.get=function(s){var et=this.getNode(s);return et?et.value:null},a.prototype.find=function(s){var et=s.value,tt=s.callback;if(!this._head)return null;for(var at=this._head;at;){if(tt&&tt(at.value)||et!==void 0&&this.compare.equal(at.value,et))return at;at=at.next}return null},a.prototype.indexOf=function(s){if(!this._head)return INDEX_NOT_FOUND;for(var et=this._head,tt=-1;et.next;){if(tt++,this.compare.equal(et.value,s))return tt;et=et.next}return et===this._tail&&this.compare.equal(et.value,s)&&(tt+=1),tt},a.prototype.first=function(s){invariant$P(s>=0,"[linked-list] param 'num' ("+s+") should not less than 0");for(var et=this.iterator(),tt=[],at=Math.min(s,this.length),ct=0;ct<at;ct++){var ut=et.next();tt.push(ut.value)}return tt},a.prototype.toArray=function(){return __spread$2(this)},a.prototype.isEmpty=function(){return this._head===null},a.prototype.iterator=function(){var s;return __generator(this,function(et){switch(et.label){case 0:s=this._head,et.label=1;case 1:return s?[4,s.value]:[3,3];case 2:return et.sent(),s=s.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a}(),SinglyList=function(a){__extends(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return a.apply(this,__spread$2(et))||this}return s.prototype.append=function(et){var tt=new SinglyNode(et);return this._tail?(this._tail.next=tt,this._tail=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.prepend=function(et){var tt=new SinglyNode(et);return this._head?(tt.next=this._head,this._head=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.remove=function(et){var tt=this._head;if(tt){if(this.compare.equal(tt.value,et))return tt.next?(this._head=tt.next,tt.next=null):this._head=this._tail=null,this._length--,et;for(var at=tt;;){if(this.compare.equal(tt.value,et))return tt.next?at.next=tt.next:(this._tail=at,this._tail.next=null),tt.next=null,this._length--,et;if(tt.next)at=tt,tt=tt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et){if(!this._head.next)this._head=null,this._tail=null;else{for(var tt=this._head;tt.next!==et;)tt=tt.next;tt.next=null,this._tail=tt}return this._length--,et.value}},s.prototype.reverse=function(){if(this._head){var et=this._head,tt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=tt,tt=et,et=at;this._head=tt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s}(List),AbstractCircleSinglyList=function(a){__extends(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return __generator(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return __generator(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var tt=[],at=1;at<arguments.length;at++)tt[at-1]=arguments[at];this.breakCircle();var ct=a.prototype[et].apply(this,tt);return this.cyclization(),ct},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){invariant$P(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var tt=this.circleIterator(),at=[],ct=0;ct<et;ct++){var ut=tt.next();at.push(ut.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(SinglyList);(function(a){__extends(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},s.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s})(AbstractCircleSinglyList);var DoublyList=function(a){__extends(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return a.apply(this,__spread$2(et))||this}return s.prototype.append=function(et){var tt=new DoublyNode(et);return this._tail?(this._tail.next=tt,tt.prev=this._tail,this._tail=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.prepend=function(et){var tt=new DoublyNode(et);return this._head?(tt.next=this._head,this._head.prev=tt,this._head=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.remove=function(et){var tt=this._head;if(tt){if(this.compare.equal(tt.value,et))return tt.next?(this._head=tt.next,this._head.prev=null,tt.next=tt.prev=null):this._head=this._tail=null,this._length--,et;for(;;){if(this.compare.equal(tt.value,et))return tt.next?(tt.prev.next=tt.next,tt.next.prev=tt.prev,tt.next=tt.prev=null):(tt.prev.next=null,this._tail=tt.prev,tt.next=tt.prev=null),this._length--,tt.value;if(tt.next)tt=tt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(et.next.prev=null,this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et)return this._head.next?(et.prev.next=null,this._tail=et.prev,et.next=et.prev=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.reverse=function(){if(this._head){var et=this._head,tt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=tt,et.prev=at,tt=et,et=at;this._head=tt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s}(List),AbstractCircleDoublyList=function(a){__extends(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return __generator(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return __generator(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var tt=[],at=1;at<arguments.length;at++)tt[at-1]=arguments[at];this.breakCircle();var ct=a.prototype[et].apply(this,tt);return this.cyclization(),ct},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){invariant$P(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var tt=this.circleIterator(),at=[],ct=0;ct<et;ct++){var ut=tt.next();at.push(ut.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(DoublyList);(function(a){__extends(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,__spread$2(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},s.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,__spread$2([void 0],et)))},s})(AbstractCircleDoublyList);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read$1(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var tt=et.call(a),at,ct=[],ut;try{for(;(s===void 0||s-- >0)&&!(at=tt.next()).done;)ct.push(at.value)}catch(bt){ut={error:bt}}finally{try{at&&!at.done&&(et=tt.return)&&et.call(tt)}finally{if(ut)throw ut.error}}return ct}function __spread$1(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(__read$1(arguments[s]));return a}var Queue=function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.queue=new(SinglyList.bind.apply(SinglyList,__spread$1([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.queue.isEmpty()},a.prototype.enqueue=function(s){return this.queue.append(s)},a.prototype.dequeue=function(){var s=this.queue.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.queue.toArray()},a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var tt=et.call(a),at,ct=[],ut;try{for(;(s===void 0||s-- >0)&&!(at=tt.next()).done;)ct.push(at.value)}catch(bt){ut={error:bt}}finally{try{at&&!at.done&&(et=tt.return)&&et.call(tt)}finally{if(ut)throw ut.error}}return ct}function __spread(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(__read(arguments[s]));return a}var stack=function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.stack=new(SinglyList.bind.apply(SinglyList,__spread([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.stack.isEmpty()},a.prototype.push=function(s){return this.stack.append(s)},a.prototype.pop=function(){var s=this.stack.removeTail();return typeof s<"u"?s:void 0},a.prototype.popBottom=function(){var s=this.stack.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.stack.toArray()},a}(),GraphEdge=function(){function a(s,et,tt){tt===void 0&&(tt=0),this.startVertex=s,this.endVertex=et,this.weight=tt}return a.prototype.getKey=function(){var s=this.startVertex.getKey(),et=this.endVertex.getKey();return s+"_"+et},a.prototype.reverse=function(){var s=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=s,this},a.prototype.clone=function(){return new a(this.startVertex,this.endVertex,this.weight)},a.prototype.toString=function(){return this.getKey()},a}();function invariant$O(a,s,et){if(et===void 0&&(et="cc-graph"),!a)throw new Error((et?"["+et+"]":"")+" Invariant failed: "+s)}function isExist(a,s){s===void 0&&(s=!0);var et=typeof a<"u"&&a!==null;return s?et&&a!=="undefined"&&a!=="null":et}var GraphVertex=function(){function a(s){invariant$O(isExist(s),"Graph vertex must have a value"),this.value=s,this.edges=new Map}return a.prototype.addEdge=function(s){return this.edges.set(s.getKey(),s),this},a.prototype.deleteEdge=function(s){this.edges.delete(s.getKey())},a.prototype.getNeighbors=function(){var s=this,et=this.getEdges(),tt=function(at){return at.startVertex===s?at.endVertex:at.startVertex};return et.map(tt)},a.prototype.getEdges=function(){return Array.from(this.edges.values())},a.prototype.getDegree=function(){return this.getEdges().length},a.prototype.hasEdge=function(s){var et=this.getEdges().find(function(tt){return tt===s});return!!et},a.prototype.hasNeighbor=function(s){var et=this.getEdges().find(function(tt){return tt.startVertex===s||tt.endVertex===s});return!!et},a.prototype.findEdge=function(s){var et=function(at){return at.startVertex===s||at.endVertex===s},tt=this.getEdges().find(et);return tt||null},a.prototype.getKey=function(){return this.value},a.prototype.deleteAllEdges=function(){var s=this;return this.getEdges().forEach(function(et){return s.deleteEdge(et)}),this},a.prototype.toString=function(s){return s?s(this.value):""+this.value},a}();function buildDualStack(a,s,et,tt){if(a){s.push(a),tt.set(a.getKey(),!0);var at=a.getNeighbors().filter(function(ct){return!tt.get(ct.getKey())});et.push(at)}}function cutdownDualStack(a,s,et){var tt=a.pop();tt&&et.set(tt.getKey(),!1),s.pop()}var Graph=function(){function a(s){s===void 0&&(s=!1),this.vertices={},this.edges={},this.isDirected=s}return a.prototype.addVertex=function(s){return this.vertices[s.getKey()]=s,this},a.prototype.getVertexByKey=function(s){return this.vertices[s]},a.prototype.getNeighbors=function(s){return s.getNeighbors()},a.prototype.getAllVertices=function(){return Object.values(this.vertices)},a.prototype.getAllEdges=function(){return Object.values(this.edges)},a.prototype.addEdge=function(s,et){if(et===void 0&&(et=!1),this.edges[s.getKey()]){if(et)return this;invariant$O(!1,"Edge has already been added before")}var tt=this.getVertexByKey(s.startVertex.getKey()),at=this.getVertexByKey(s.endVertex.getKey());if(tt||(this.addVertex(s.startVertex),tt=this.getVertexByKey(s.startVertex.getKey())),at||(this.addVertex(s.endVertex),at=this.getVertexByKey(s.endVertex.getKey())),this.edges[s.getKey()]=s,this.isDirected)tt.addEdge(s);else{tt.addEdge(s);var ct=s.clone();at.addEdge(ct.reverse())}return this},a.prototype.deleteEdge=function(s,et){if(et===void 0&&(et=!1),!this.edges[s.getKey()]){if(et)return this;invariant$O(!1,"Edge not found in graph")}delete this.edges[s.getKey()];var tt=this.getVertexByKey(s.startVertex.getKey()),at=this.getVertexByKey(s.endVertex.getKey());return tt.deleteEdge(s),at.deleteEdge(s),this},a.prototype.findEdge=function(s,et){var tt=this.getVertexByKey(s.getKey());return tt?tt.findEdge(et):null},a.prototype.getWeight=function(){return this.getAllEdges().reduce(function(s,et){return s+et.weight},0)},a.prototype.reverse=function(){var s=this;return this.getAllEdges().forEach(function(et){s.deleteEdge(et),et.reverse(),s.addEdge(et)}),this},a.prototype.getVerticesIndices=function(){var s={};return this.getAllVertices().forEach(function(et,tt){s[et.getKey()]=tt}),s},a.prototype.getAdjacencyMatrix=function(){var s=this,et=this.getAllVertices(),tt=this.getVerticesIndices(),at=Array(et.length).fill(null).map(function(){return Array(et.length).fill(1/0)});return et.forEach(function(ct,ut){ct.getNeighbors().forEach(function(bt){var wt=tt[bt.getKey()],Et=s.findEdge(ct,bt);Et&&(at[ut][wt]=Et.weight)})}),at},a.prototype.toString=function(){return Object.keys(this.vertices).toString()},a.prototype.bfs=function(s){var et,tt,at;return __generator$1(this,function(ct){switch(ct.label){case 0:et=new Map,tt=new Queue,tt.enqueue(s),ct.label=1;case 1:return tt.isEmpty()?[3,4]:(at=tt.dequeue(),at&&!et.has(at.getKey())?[4,at]:[3,3]);case 2:ct.sent(),et.set(at.getKey(),at),at.getNeighbors().forEach(function(ut){return tt.enqueue(ut)}),ct.label=3;case 3:return[3,1];case 4:return[2]}})},a.prototype.dfs=function(s){var et,tt,at;return __generator$1(this,function(ct){switch(ct.label){case 0:et=new Map,tt=new stack,tt.push(s),ct.label=1;case 1:return tt.isEmpty()?[3,4]:(at=tt.pop(),at&&!et.has(at.getKey())?[4,at]:[3,3]);case 2:ct.sent(),et.set(at.getKey(),at),at.getNeighbors().forEach(function(ut){return tt.push(ut)}),ct.label=3;case 3:return[3,1];case 4:return[2]}})},a.prototype.findAllPath=function(s,et){var tt,at,ct,ut,bt,wt,Et;return __generator$1(this,function(Ft){switch(Ft.label){case 0:return tt=[],s!==et?[3,2]:(tt.push(s),[4,tt]);case 1:return Ft.sent(),[2];case 2:at=new Map,ct=new stack,ut=new stack,buildDualStack(s,ct,ut,at),Ft.label=3;case 3:if(ct.isEmpty())return[3,6];if(bt=ut.pop(),bt&&bt.length)wt=bt.shift(),ut.push(bt),wt&&buildDualStack(wt,ct,ut,at);else return ut.push(bt),cutdownDualStack(ct,ut,at),[3,3];return Et=ct.peek,Et!==et?[3,5]:[4,ct.toArray()];case 4:Ft.sent(),cutdownDualStack(ct,ut,at),Ft.label=5;case 5:return[3,3];case 6:return[2]}})},a}();const version$2="3.7.7",VERSION$4=version$2,_hasBuffer=typeof Buffer$1=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(a=>{let s={};return a.forEach((et,tt)=>s[et]=tt),s})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):a=>new Uint8Array(Array.prototype.slice.call(a,0)),_mkUriSafe=a=>a.replace(/=/g,"").replace(/[+\/]/g,s=>s=="+"?"-":"_"),_tidyB64=a=>a.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=a=>{let s,et,tt,at,ct="";const ut=a.length%3;for(let bt=0;bt<a.length;){if((et=a.charCodeAt(bt++))>255||(tt=a.charCodeAt(bt++))>255||(at=a.charCodeAt(bt++))>255)throw new TypeError("invalid character found");s=et<<16|tt<<8|at,ct+=b64chs[s>>18&63]+b64chs[s>>12&63]+b64chs[s>>6&63]+b64chs[s&63]}return ut?ct.slice(0,ut-3)+"===".substring(ut):ct},_btoa=typeof btoa=="function"?a=>btoa(a):_hasBuffer?a=>Buffer$1.from(a,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?a=>Buffer$1.from(a).toString("base64"):a=>{let et=[];for(let tt=0,at=a.length;tt<at;tt+=4096)et.push(_fromCC.apply(null,a.subarray(tt,tt+4096)));return _btoa(et.join(""))},fromUint8Array=(a,s=!1)=>s?_mkUriSafe(_fromUint8Array(a)):_fromUint8Array(a),cb_utob=a=>{if(a.length<2){var s=a.charCodeAt(0);return s<128?a:s<2048?_fromCC(192|s>>>6)+_fromCC(128|s&63):_fromCC(224|s>>>12&15)+_fromCC(128|s>>>6&63)+_fromCC(128|s&63)}else{var s=65536+(a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320);return _fromCC(240|s>>>18&7)+_fromCC(128|s>>>12&63)+_fromCC(128|s>>>6&63)+_fromCC(128|s&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=a=>a.replace(re_utob,cb_utob),_encode=_hasBuffer?a=>Buffer$1.from(a,"utf8").toString("base64"):_TE?a=>_fromUint8Array(_TE.encode(a)):a=>_btoa(utob(a)),encode$4=(a,s=!1)=>s?_mkUriSafe(_encode(a)):_encode(a),encodeURI$1=a=>encode$4(a,!0),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=a=>{switch(a.length){case 4:var s=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),et=s-65536;return _fromCC((et>>>10)+55296)+_fromCC((et&1023)+56320);case 3:return _fromCC((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return _fromCC((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},btou=a=>a.replace(re_btou,cb_btou),atobPolyfill=a=>{if(a=a.replace(/\s+/g,""),!b64re.test(a))throw new TypeError("malformed base64.");a+="==".slice(2-(a.length&3));let s,et="",tt,at;for(let ct=0;ct<a.length;)s=b64tab[a.charAt(ct++)]<<18|b64tab[a.charAt(ct++)]<<12|(tt=b64tab[a.charAt(ct++)])<<6|(at=b64tab[a.charAt(ct++)]),et+=tt===64?_fromCC(s>>16&255):at===64?_fromCC(s>>16&255,s>>8&255):_fromCC(s>>16&255,s>>8&255,s&255);return et},_atob=typeof atob=="function"?a=>atob(_tidyB64(a)):_hasBuffer?a=>Buffer$1.from(a,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?a=>_U8Afrom(Buffer$1.from(a,"base64")):a=>_U8Afrom(_atob(a).split("").map(s=>s.charCodeAt(0))),toUint8Array=a=>_toUint8Array(_unURI(a)),_decode=_hasBuffer?a=>Buffer$1.from(a,"base64").toString("utf8"):_TD?a=>_TD.decode(_toUint8Array(a)):a=>btou(_atob(a)),_unURI=a=>_tidyB64(a.replace(/[-_]/g,s=>s=="-"?"+":"/")),decode=a=>_decode(_unURI(a)),isValid=a=>{if(typeof a!="string")return!1;const s=a.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(s)||!/[^\s0-9a-zA-Z\-_]/.test(s)},_noEnum=a=>({value:a,enumerable:!1,writable:!0,configurable:!0}),extendString=function(){const a=(s,et)=>Object.defineProperty(String.prototype,s,_noEnum(et));a("fromBase64",function(){return decode(this)}),a("toBase64",function(s){return encode$4(this,s)}),a("toBase64URI",function(){return encode$4(this,!0)}),a("toBase64URL",function(){return encode$4(this,!0)}),a("toUint8Array",function(){return toUint8Array(this)})},extendUint8Array=function(){const a=(s,et)=>Object.defineProperty(Uint8Array.prototype,s,_noEnum(et));a("toBase64",function(s){return fromUint8Array(this,s)}),a("toBase64URI",function(){return fromUint8Array(this,!0)}),a("toBase64URL",function(){return fromUint8Array(this,!0)})},extendBuiltins=()=>{extendString(),extendUint8Array()},gBase64={version:version$2,VERSION:VERSION$4,atob:_atob,atobPolyfill,btoa:_btoa,btoaPolyfill,fromBase64:decode,toBase64:encode$4,encode:encode$4,encodeURI:encodeURI$1,encodeURL:encodeURI$1,utob,btou,decode,isValid,fromUint8Array,toUint8Array,extendString,extendUint8Array,extendBuiltins};let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let a=0;a<256;++a)byteToHex$1.push((a+256).toString(16).slice(1));function unsafeStringify(a,s=0){return byteToHex$1[a[s+0]]+byteToHex$1[a[s+1]]+byteToHex$1[a[s+2]]+byteToHex$1[a[s+3]]+"-"+byteToHex$1[a[s+4]]+byteToHex$1[a[s+5]]+"-"+byteToHex$1[a[s+6]]+byteToHex$1[a[s+7]]+"-"+byteToHex$1[a[s+8]]+byteToHex$1[a[s+9]]+"-"+byteToHex$1[a[s+10]]+byteToHex$1[a[s+11]]+byteToHex$1[a[s+12]]+byteToHex$1[a[s+13]]+byteToHex$1[a[s+14]]+byteToHex$1[a[s+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4$1(a,s,et){if(native.randomUUID&&!a)return native.randomUUID();a=a||{};const tt=a.random||(a.rng||rng$1)();return tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,unsafeStringify(tt)}const global$1=globalThis||void 0||self;function bind$1(a,s){return function(){return a.apply(s,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf$1=(a=>s=>{const et=toString$2.call(s);return a[et]||(a[et]=et.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest$1=a=>(a=a.toLowerCase(),s=>kindOf$1(s)===a),typeOfTest$1=a=>s=>typeof s===a,{isArray:isArray$3}=Array,isUndefined$1=typeOfTest$1("undefined");function isBuffer$2(a){return a!==null&&!isUndefined$1(a)&&a.constructor!==null&&!isUndefined$1(a.constructor)&&isFunction$5(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const isArrayBuffer$1=kindOfTest$1("ArrayBuffer");function isArrayBufferView$1(a){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(a):s=a&&a.buffer&&isArrayBuffer$1(a.buffer),s}const isString$1=typeOfTest$1("string"),isFunction$5=typeOfTest$1("function"),isNumber$1=typeOfTest$1("number"),isObject$4=a=>a!==null&&typeof a=="object",isBoolean$1=a=>a===!0||a===!1,isPlainObject$1=a=>{if(kindOf$1(a)!=="object")return!1;const s=getPrototypeOf$1(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},isDate$1=kindOfTest$1("Date"),isFile$1=kindOfTest$1("File"),isBlob$1=kindOfTest$1("Blob"),isFileList$1=kindOfTest$1("FileList"),isStream$1=a=>isObject$4(a)&&isFunction$5(a.pipe),isFormData$1=a=>{let s;return a&&(typeof FormData=="function"&&a instanceof FormData||isFunction$5(a.append)&&((s=kindOf$1(a))==="formdata"||s==="object"&&isFunction$5(a.toString)&&a.toString()==="[object FormData]"))},isURLSearchParams$1=kindOfTest$1("URLSearchParams"),[isReadableStream$1,isRequest$2,isResponse$1,isHeaders$1]=["ReadableStream","Request","Response","Headers"].map(kindOfTest$1),trim$2=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(a,s,{allOwnKeys:et=!1}={}){if(a===null||typeof a>"u")return;let tt,at;if(typeof a!="object"&&(a=[a]),isArray$3(a))for(tt=0,at=a.length;tt<at;tt++)s.call(null,a[tt],tt,a);else{const ct=et?Object.getOwnPropertyNames(a):Object.keys(a),ut=ct.length;let bt;for(tt=0;tt<ut;tt++)bt=ct[tt],s.call(null,a[bt],bt,a)}}function findKey$1(a,s){s=s.toLowerCase();const et=Object.keys(a);let tt=et.length,at;for(;tt-- >0;)if(at=et[tt],s===at.toLowerCase())return at;return null}const _global$2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined$1=a=>!isUndefined$1(a)&&a!==_global$2;function merge$3(){const{caseless:a}=isContextDefined$1(this)&&this||{},s={},et=(tt,at)=>{const ct=a&&findKey$1(s,at)||at;isPlainObject$1(s[ct])&&isPlainObject$1(tt)?s[ct]=merge$3(s[ct],tt):isPlainObject$1(tt)?s[ct]=merge$3({},tt):isArray$3(tt)?s[ct]=tt.slice():s[ct]=tt};for(let tt=0,at=arguments.length;tt<at;tt++)arguments[tt]&&forEach$2(arguments[tt],et);return s}const extend$1=(a,s,et,{allOwnKeys:tt}={})=>(forEach$2(s,(at,ct)=>{et&&isFunction$5(at)?a[ct]=bind$1(at,et):a[ct]=at},{allOwnKeys:tt}),a),stripBOM$1=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),inherits$1=(a,s,et,tt)=>{a.prototype=Object.create(s.prototype,tt),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:s.prototype}),et&&Object.assign(a.prototype,et)},toFlatObject$1=(a,s,et,tt)=>{let at,ct,ut;const bt={};if(s=s||{},a==null)return s;do{for(at=Object.getOwnPropertyNames(a),ct=at.length;ct-- >0;)ut=at[ct],(!tt||tt(ut,a,s))&&!bt[ut]&&(s[ut]=a[ut],bt[ut]=!0);a=et!==!1&&getPrototypeOf$1(a)}while(a&&(!et||et(a,s))&&a!==Object.prototype);return s},endsWith$1=(a,s,et)=>{a=String(a),(et===void 0||et>a.length)&&(et=a.length),et-=s.length;const tt=a.indexOf(s,et);return tt!==-1&&tt===et},toArray$2=a=>{if(!a)return null;if(isArray$3(a))return a;let s=a.length;if(!isNumber$1(s))return null;const et=new Array(s);for(;s-- >0;)et[s]=a[s];return et},isTypedArray$3=(a=>s=>a&&s instanceof a)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry$1=(a,s)=>{const tt=(a&&a[Symbol.iterator]).call(a);let at;for(;(at=tt.next())&&!at.done;){const ct=at.value;s.call(a,ct[0],ct[1])}},matchAll$1=(a,s)=>{let et;const tt=[];for(;(et=a.exec(s))!==null;)tt.push(et);return tt},isHTMLForm$1=kindOfTest$1("HTMLFormElement"),toCamelCase$1=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(et,tt,at){return tt.toUpperCase()+at}),hasOwnProperty$b=(({hasOwnProperty:a})=>(s,et)=>a.call(s,et))(Object.prototype),isRegExp$1=kindOfTest$1("RegExp"),reduceDescriptors$1=(a,s)=>{const et=Object.getOwnPropertyDescriptors(a),tt={};forEach$2(et,(at,ct)=>{let ut;(ut=s(at,ct,a))!==!1&&(tt[ct]=ut||at)}),Object.defineProperties(a,tt)},freezeMethods$1=a=>{reduceDescriptors$1(a,(s,et)=>{if(isFunction$5(a)&&["arguments","caller","callee"].indexOf(et)!==-1)return!1;const tt=a[et];if(isFunction$5(tt)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+et+"'")})}})},toObjectSet$1=(a,s)=>{const et={},tt=at=>{at.forEach(ct=>{et[ct]=!0})};return isArray$3(a)?tt(a):tt(String(a).split(s)),et},noop$4=()=>{},toFiniteNumber$1=(a,s)=>a!=null&&Number.isFinite(a=+a)?a:s;function isSpecCompliantForm$1(a){return!!(a&&isFunction$5(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const toJSONObject$1=a=>{const s=new Array(10),et=(tt,at)=>{if(isObject$4(tt)){if(s.indexOf(tt)>=0)return;if(!("toJSON"in tt)){s[at]=tt;const ct=isArray$3(tt)?[]:{};return forEach$2(tt,(ut,bt)=>{const wt=et(ut,at+1);!isUndefined$1(wt)&&(ct[bt]=wt)}),s[at]=void 0,ct}}return tt};return et(a,0)},isAsyncFn$1=kindOfTest$1("AsyncFunction"),isThenable$1=a=>a&&(isObject$4(a)||isFunction$5(a))&&isFunction$5(a.then)&&isFunction$5(a.catch),_setImmediate$1=((a,s)=>a?setImmediate:s?((et,tt)=>(_global$2.addEventListener("message",({source:at,data:ct})=>{at===_global$2&&ct===et&&tt.length&&tt.shift()()},!1),at=>{tt.push(at),_global$2.postMessage(et,"*")}))(`axios@${Math.random()}`,[]):et=>setTimeout(et))(typeof setImmediate=="function",isFunction$5(_global$2.postMessage)),asap$1=typeof queueMicrotask<"u"?queueMicrotask.bind(_global$2):typeof process$1<"u"&&process$1.nextTick||_setImmediate$1,utils$8={isArray:isArray$3,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$2,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$4,isPlainObject:isPlainObject$1,isReadableStream:isReadableStream$1,isRequest:isRequest$2,isResponse:isResponse$1,isHeaders:isHeaders$1,isUndefined:isUndefined$1,isDate:isDate$1,isFile:isFile$1,isBlob:isBlob$1,isRegExp:isRegExp$1,isFunction:isFunction$5,isStream:isStream$1,isURLSearchParams:isURLSearchParams$1,isTypedArray:isTypedArray$3,isFileList:isFileList$1,forEach:forEach$2,merge:merge$3,extend:extend$1,trim:trim$2,stripBOM:stripBOM$1,inherits:inherits$1,toFlatObject:toFlatObject$1,kindOf:kindOf$1,kindOfTest:kindOfTest$1,endsWith:endsWith$1,toArray:toArray$2,forEachEntry:forEachEntry$1,matchAll:matchAll$1,isHTMLForm:isHTMLForm$1,hasOwnProperty:hasOwnProperty$b,hasOwnProp:hasOwnProperty$b,reduceDescriptors:reduceDescriptors$1,freezeMethods:freezeMethods$1,toObjectSet:toObjectSet$1,toCamelCase:toCamelCase$1,noop:noop$4,toFiniteNumber:toFiniteNumber$1,findKey:findKey$1,global:_global$2,isContextDefined:isContextDefined$1,isSpecCompliantForm:isSpecCompliantForm$1,toJSONObject:toJSONObject$1,isAsyncFn:isAsyncFn$1,isThenable:isThenable$1,setImmediate:_setImmediate$1,asap:asap$1};function AxiosError$2(a,s,et,tt,at){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",s&&(this.code=s),et&&(this.config=et),tt&&(this.request=tt),at&&(this.response=at,this.status=at.status?at.status:null)}utils$8.inherits(AxiosError$2,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$8.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$3=AxiosError$2.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{descriptors$1[a]={value:a}});Object.defineProperties(AxiosError$2,descriptors$1);Object.defineProperty(prototype$3,"isAxiosError",{value:!0});AxiosError$2.from=(a,s,et,tt,at,ct)=>{const ut=Object.create(prototype$3);return utils$8.toFlatObject(a,ut,function(wt){return wt!==Error.prototype},bt=>bt!=="isAxiosError"),AxiosError$2.call(ut,a.message,s,et,tt,at),ut.cause=a,ut.name=a.name,ct&&Object.assign(ut,ct),ut};const httpAdapter$1=null;function isVisitable$1(a){return utils$8.isPlainObject(a)||utils$8.isArray(a)}function removeBrackets$1(a){return utils$8.endsWith(a,"[]")?a.slice(0,-2):a}function renderKey$1(a,s,et){return a?a.concat(s).map(function(at,ct){return at=removeBrackets$1(at),!et&&ct?"["+at+"]":at}).join(et?".":""):s}function isFlatArray$1(a){return utils$8.isArray(a)&&!a.some(isVisitable$1)}const predicates$1=utils$8.toFlatObject(utils$8,{},null,function(s){return/^is[A-Z]/.test(s)});function toFormData$2(a,s,et){if(!utils$8.isObject(a))throw new TypeError("target must be an object");s=s||new FormData,et=utils$8.toFlatObject(et,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Yt,er){return!utils$8.isUndefined(er[Yt])});const tt=et.metaTokens,at=et.visitor||Ft,ct=et.dots,ut=et.indexes,wt=(et.Blob||typeof Blob<"u"&&Blob)&&utils$8.isSpecCompliantForm(s);if(!utils$8.isFunction(at))throw new TypeError("visitor must be a function");function Et(Vt){if(Vt===null)return"";if(utils$8.isDate(Vt))return Vt.toISOString();if(!wt&&utils$8.isBlob(Vt))throw new AxiosError$2("Blob is not supported. Use a Buffer instead.");return utils$8.isArrayBuffer(Vt)||utils$8.isTypedArray(Vt)?wt&&typeof Blob=="function"?new Blob([Vt]):Buffer$1.from(Vt):Vt}function Ft(Vt,Yt,er){let tr=Vt;if(Vt&&!er&&typeof Vt=="object"){if(utils$8.endsWith(Yt,"{}"))Yt=tt?Yt:Yt.slice(0,-2),Vt=JSON.stringify(Vt);else if(utils$8.isArray(Vt)&&isFlatArray$1(Vt)||(utils$8.isFileList(Vt)||utils$8.endsWith(Yt,"[]"))&&(tr=utils$8.toArray(Vt)))return Yt=removeBrackets$1(Yt),tr.forEach(function(ir,lr){!(utils$8.isUndefined(ir)||ir===null)&&s.append(ut===!0?renderKey$1([Yt],lr,ct):ut===null?Yt:Yt+"[]",Et(ir))}),!1}return isVisitable$1(Vt)?!0:(s.append(renderKey$1(er,Yt,ct),Et(Vt)),!1)}const jt=[],Lt=Object.assign(predicates$1,{defaultVisitor:Ft,convertValue:Et,isVisitable:isVisitable$1});function Ut(Vt,Yt){if(!utils$8.isUndefined(Vt)){if(jt.indexOf(Vt)!==-1)throw Error("Circular reference detected in "+Yt.join("."));jt.push(Vt),utils$8.forEach(Vt,function(tr,nr){(!(utils$8.isUndefined(tr)||tr===null)&&at.call(s,tr,utils$8.isString(nr)?nr.trim():nr,Yt,Lt))===!0&&Ut(tr,Yt?Yt.concat(nr):[nr])}),jt.pop()}}if(!utils$8.isObject(a))throw new TypeError("data must be an object");return Ut(a),s}function encode$3(a){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(tt){return s[tt]})}function AxiosURLSearchParams$1(a,s){this._pairs=[],a&&toFormData$2(a,this,s)}const prototype$2=AxiosURLSearchParams$1.prototype;prototype$2.append=function(s,et){this._pairs.push([s,et])};prototype$2.toString=function(s){const et=s?function(tt){return s.call(this,tt,encode$3)}:encode$3;return this._pairs.map(function(at){return et(at[0])+"="+et(at[1])},"").join("&")};function encode$2(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL$1(a,s,et){if(!s)return a;const tt=et&&et.encode||encode$2;utils$8.isFunction(et)&&(et={serialize:et});const at=et&&et.serialize;let ct;if(at?ct=at(s,et):ct=utils$8.isURLSearchParams(s)?s.toString():new AxiosURLSearchParams$1(s,et).toString(tt),ct){const ut=a.indexOf("#");ut!==-1&&(a=a.slice(0,ut)),a+=(a.indexOf("?")===-1?"?":"&")+ct}return a}let InterceptorManager$2=class{constructor(){this.handlers=[]}use(s,et,tt){return this.handlers.push({fulfilled:s,rejected:et,synchronous:tt?tt.synchronous:!1,runWhen:tt?tt.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){utils$8.forEach(this.handlers,function(tt){tt!==null&&s(tt)})}};const transitionalDefaults$1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$2=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams$1,FormData$2=typeof FormData<"u"?FormData:null,Blob$2=typeof Blob<"u"?Blob:null,platform$3={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$2,FormData:FormData$2,Blob:Blob$2},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv$1=typeof window<"u"&&typeof document<"u",_navigator$1=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv$1=hasBrowserEnv$1&&(!_navigator$1||["ReactNative","NativeScript","NS"].indexOf(_navigator$1.product)<0),hasStandardBrowserWebWorkerEnv$1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin$1=hasBrowserEnv$1&&window.location.href||"http://localhost",utils$7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hasBrowserEnv$1,hasStandardBrowserEnv:hasStandardBrowserEnv$1,hasStandardBrowserWebWorkerEnv:hasStandardBrowserWebWorkerEnv$1,navigator:_navigator$1,origin:origin$1},Symbol.toStringTag,{value:"Module"})),platform$2={...utils$7,...platform$3};function toURLEncodedForm$1(a,s){return toFormData$2(a,new platform$2.classes.URLSearchParams,Object.assign({visitor:function(et,tt,at,ct){return platform$2.isNode&&utils$8.isBuffer(et)?(this.append(tt,et.toString("base64")),!1):ct.defaultVisitor.apply(this,arguments)}},s))}function parsePropPath$1(a){return utils$8.matchAll(/\w+|\[(\w*)]/g,a).map(s=>s[0]==="[]"?"":s[1]||s[0])}function arrayToObject$1(a){const s={},et=Object.keys(a);let tt;const at=et.length;let ct;for(tt=0;tt<at;tt++)ct=et[tt],s[ct]=a[ct];return s}function formDataToJSON$1(a){function s(et,tt,at,ct){let ut=et[ct++];if(ut==="__proto__")return!0;const bt=Number.isFinite(+ut),wt=ct>=et.length;return ut=!ut&&utils$8.isArray(at)?at.length:ut,wt?(utils$8.hasOwnProp(at,ut)?at[ut]=[at[ut],tt]:at[ut]=tt,!bt):((!at[ut]||!utils$8.isObject(at[ut]))&&(at[ut]=[]),s(et,tt,at[ut],ct)&&utils$8.isArray(at[ut])&&(at[ut]=arrayToObject$1(at[ut])),!bt)}if(utils$8.isFormData(a)&&utils$8.isFunction(a.entries)){const et={};return utils$8.forEachEntry(a,(tt,at)=>{s(parsePropPath$1(tt),at,et,0)}),et}return null}function stringifySafely$1(a,s,et){if(utils$8.isString(a))try{return(s||JSON.parse)(a),utils$8.trim(a)}catch(tt){if(tt.name!=="SyntaxError")throw tt}return(et||JSON.stringify)(a)}const defaults$2={transitional:transitionalDefaults$1,adapter:["xhr","http","fetch"],transformRequest:[function(s,et){const tt=et.getContentType()||"",at=tt.indexOf("application/json")>-1,ct=utils$8.isObject(s);if(ct&&utils$8.isHTMLForm(s)&&(s=new FormData(s)),utils$8.isFormData(s))return at?JSON.stringify(formDataToJSON$1(s)):s;if(utils$8.isArrayBuffer(s)||utils$8.isBuffer(s)||utils$8.isStream(s)||utils$8.isFile(s)||utils$8.isBlob(s)||utils$8.isReadableStream(s))return s;if(utils$8.isArrayBufferView(s))return s.buffer;if(utils$8.isURLSearchParams(s))return et.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let bt;if(ct){if(tt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm$1(s,this.formSerializer).toString();if((bt=utils$8.isFileList(s))||tt.indexOf("multipart/form-data")>-1){const wt=this.env&&this.env.FormData;return toFormData$2(bt?{"files[]":s}:s,wt&&new wt,this.formSerializer)}}return ct||at?(et.setContentType("application/json",!1),stringifySafely$1(s)):s}],transformResponse:[function(s){const et=this.transitional||defaults$2.transitional,tt=et&&et.forcedJSONParsing,at=this.responseType==="json";if(utils$8.isResponse(s)||utils$8.isReadableStream(s))return s;if(s&&utils$8.isString(s)&&(tt&&!this.responseType||at)){const ut=!(et&&et.silentJSONParsing)&&at;try{return JSON.parse(s)}catch(bt){if(ut)throw bt.name==="SyntaxError"?AxiosError$2.from(bt,AxiosError$2.ERR_BAD_RESPONSE,this,null,this.response):bt}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$2.classes.FormData,Blob:platform$2.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$8.forEach(["delete","get","head","post","put","patch"],a=>{defaults$2.headers[a]={}});const ignoreDuplicateOf$1=utils$8.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$1=a=>{const s={};let et,tt,at;return a&&a.split(`
`).forEach(function(ut){at=ut.indexOf(":"),et=ut.substring(0,at).trim().toLowerCase(),tt=ut.substring(at+1).trim(),!(!et||s[et]&&ignoreDuplicateOf$1[et])&&(et==="set-cookie"?s[et]?s[et].push(tt):s[et]=[tt]:s[et]=s[et]?s[et]+", "+tt:tt)}),s},$internals$1=Symbol("internals");function normalizeHeader$1(a){return a&&String(a).trim().toLowerCase()}function normalizeValue$1(a){return a===!1||a==null?a:utils$8.isArray(a)?a.map(normalizeValue$1):String(a)}function parseTokens$1(a){const s=Object.create(null),et=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let tt;for(;tt=et.exec(a);)s[tt[1]]=tt[2];return s}const isValidHeaderName$1=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function matchHeaderValue$1(a,s,et,tt,at){if(utils$8.isFunction(tt))return tt.call(this,s,et);if(at&&(s=et),!!utils$8.isString(s)){if(utils$8.isString(tt))return s.indexOf(tt)!==-1;if(utils$8.isRegExp(tt))return tt.test(s)}}function formatHeader$1(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,et,tt)=>et.toUpperCase()+tt)}function buildAccessors$1(a,s){const et=utils$8.toCamelCase(" "+s);["get","set","has"].forEach(tt=>{Object.defineProperty(a,tt+et,{value:function(at,ct,ut){return this[tt].call(this,s,at,ct,ut)},configurable:!0})})}let AxiosHeaders$3=class{constructor(s){s&&this.set(s)}set(s,et,tt){const at=this;function ct(bt,wt,Et){const Ft=normalizeHeader$1(wt);if(!Ft)throw new Error("header name must be a non-empty string");const jt=utils$8.findKey(at,Ft);(!jt||at[jt]===void 0||Et===!0||Et===void 0&&at[jt]!==!1)&&(at[jt||wt]=normalizeValue$1(bt))}const ut=(bt,wt)=>utils$8.forEach(bt,(Et,Ft)=>ct(Et,Ft,wt));if(utils$8.isPlainObject(s)||s instanceof this.constructor)ut(s,et);else if(utils$8.isString(s)&&(s=s.trim())&&!isValidHeaderName$1(s))ut(parseHeaders$1(s),et);else if(utils$8.isHeaders(s))for(const[bt,wt]of s.entries())ct(wt,bt,tt);else s!=null&&ct(et,s,tt);return this}get(s,et){if(s=normalizeHeader$1(s),s){const tt=utils$8.findKey(this,s);if(tt){const at=this[tt];if(!et)return at;if(et===!0)return parseTokens$1(at);if(utils$8.isFunction(et))return et.call(this,at,tt);if(utils$8.isRegExp(et))return et.exec(at);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,et){if(s=normalizeHeader$1(s),s){const tt=utils$8.findKey(this,s);return!!(tt&&this[tt]!==void 0&&(!et||matchHeaderValue$1(this,this[tt],tt,et)))}return!1}delete(s,et){const tt=this;let at=!1;function ct(ut){if(ut=normalizeHeader$1(ut),ut){const bt=utils$8.findKey(tt,ut);bt&&(!et||matchHeaderValue$1(tt,tt[bt],bt,et))&&(delete tt[bt],at=!0)}}return utils$8.isArray(s)?s.forEach(ct):ct(s),at}clear(s){const et=Object.keys(this);let tt=et.length,at=!1;for(;tt--;){const ct=et[tt];(!s||matchHeaderValue$1(this,this[ct],ct,s,!0))&&(delete this[ct],at=!0)}return at}normalize(s){const et=this,tt={};return utils$8.forEach(this,(at,ct)=>{const ut=utils$8.findKey(tt,ct);if(ut){et[ut]=normalizeValue$1(at),delete et[ct];return}const bt=s?formatHeader$1(ct):String(ct).trim();bt!==ct&&delete et[ct],et[bt]=normalizeValue$1(at),tt[bt]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const et=Object.create(null);return utils$8.forEach(this,(tt,at)=>{tt!=null&&tt!==!1&&(et[at]=s&&utils$8.isArray(tt)?tt.join(", "):tt)}),et}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,et])=>s+": "+et).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...et){const tt=new this(s);return et.forEach(at=>tt.set(at)),tt}static accessor(s){const tt=(this[$internals$1]=this[$internals$1]={accessors:{}}).accessors,at=this.prototype;function ct(ut){const bt=normalizeHeader$1(ut);tt[bt]||(buildAccessors$1(at,ut),tt[bt]=!0)}return utils$8.isArray(s)?s.forEach(ct):ct(s),this}};AxiosHeaders$3.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$8.reduceDescriptors(AxiosHeaders$3.prototype,({value:a},s)=>{let et=s[0].toUpperCase()+s.slice(1);return{get:()=>a,set(tt){this[et]=tt}}});utils$8.freezeMethods(AxiosHeaders$3);function transformData$1(a,s){const et=this||defaults$2,tt=s||et,at=AxiosHeaders$3.from(tt.headers);let ct=tt.data;return utils$8.forEach(a,function(bt){ct=bt.call(et,ct,at.normalize(),s?s.status:void 0)}),at.normalize(),ct}function isCancel$2(a){return!!(a&&a.__CANCEL__)}function CanceledError$2(a,s,et){AxiosError$2.call(this,a??"canceled",AxiosError$2.ERR_CANCELED,s,et),this.name="CanceledError"}utils$8.inherits(CanceledError$2,AxiosError$2,{__CANCEL__:!0});function settle$1(a,s,et){const tt=et.config.validateStatus;!et.status||!tt||tt(et.status)?a(et):s(new AxiosError$2("Request failed with status code "+et.status,[AxiosError$2.ERR_BAD_REQUEST,AxiosError$2.ERR_BAD_RESPONSE][Math.floor(et.status/100)-4],et.config,et.request,et))}function parseProtocol$1(a){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return s&&s[1]||""}function speedometer$1(a,s){a=a||10;const et=new Array(a),tt=new Array(a);let at=0,ct=0,ut;return s=s!==void 0?s:1e3,function(wt){const Et=Date.now(),Ft=tt[ct];ut||(ut=Et),et[at]=wt,tt[at]=Et;let jt=ct,Lt=0;for(;jt!==at;)Lt+=et[jt++],jt=jt%a;if(at=(at+1)%a,at===ct&&(ct=(ct+1)%a),Et-ut<s)return;const Ut=Ft&&Et-Ft;return Ut?Math.round(Lt*1e3/Ut):void 0}}function throttle$1(a,s){let et=0,tt=1e3/s,at,ct;const ut=(Et,Ft=Date.now())=>{et=Ft,at=null,ct&&(clearTimeout(ct),ct=null),a.apply(null,Et)};return[(...Et)=>{const Ft=Date.now(),jt=Ft-et;jt>=tt?ut(Et,Ft):(at=Et,ct||(ct=setTimeout(()=>{ct=null,ut(at)},tt-jt)))},()=>at&&ut(at)]}const progressEventReducer$1=(a,s,et=3)=>{let tt=0;const at=speedometer$1(50,250);return throttle$1(ct=>{const ut=ct.loaded,bt=ct.lengthComputable?ct.total:void 0,wt=ut-tt,Et=at(wt),Ft=ut<=bt;tt=ut;const jt={loaded:ut,total:bt,progress:bt?ut/bt:void 0,bytes:wt,rate:Et||void 0,estimated:Et&&bt&&Ft?(bt-ut)/Et:void 0,event:ct,lengthComputable:bt!=null,[s?"download":"upload"]:!0};a(jt)},et)},progressEventDecorator$1=(a,s)=>{const et=a!=null;return[tt=>s[0]({lengthComputable:et,total:a,loaded:tt}),s[1]]},asyncDecorator$1=a=>(...s)=>utils$8.asap(()=>a(...s)),isURLSameOrigin$1=platform$2.hasStandardBrowserEnv?((a,s)=>et=>(et=new URL(et,platform$2.origin),a.protocol===et.protocol&&a.host===et.host&&(s||a.port===et.port)))(new URL(platform$2.origin),platform$2.navigator&&/(msie|trident)/i.test(platform$2.navigator.userAgent)):()=>!0,cookies$1=platform$2.hasStandardBrowserEnv?{write(a,s,et,tt,at,ct){const ut=[a+"="+encodeURIComponent(s)];utils$8.isNumber(et)&&ut.push("expires="+new Date(et).toGMTString()),utils$8.isString(tt)&&ut.push("path="+tt),utils$8.isString(at)&&ut.push("domain="+at),ct===!0&&ut.push("secure"),document.cookie=ut.join("; ")},read(a){const s=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL$1(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function combineURLs$1(a,s){return s?a.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):a}function buildFullPath$1(a,s,et){let tt=!isAbsoluteURL$1(s);return a&&(tt||et==!1)?combineURLs$1(a,s):s}const headersToObject$1=a=>a instanceof AxiosHeaders$3?{...a}:a;function mergeConfig$2(a,s){s=s||{};const et={};function tt(Et,Ft,jt,Lt){return utils$8.isPlainObject(Et)&&utils$8.isPlainObject(Ft)?utils$8.merge.call({caseless:Lt},Et,Ft):utils$8.isPlainObject(Ft)?utils$8.merge({},Ft):utils$8.isArray(Ft)?Ft.slice():Ft}function at(Et,Ft,jt,Lt){if(utils$8.isUndefined(Ft)){if(!utils$8.isUndefined(Et))return tt(void 0,Et,jt,Lt)}else return tt(Et,Ft,jt,Lt)}function ct(Et,Ft){if(!utils$8.isUndefined(Ft))return tt(void 0,Ft)}function ut(Et,Ft){if(utils$8.isUndefined(Ft)){if(!utils$8.isUndefined(Et))return tt(void 0,Et)}else return tt(void 0,Ft)}function bt(Et,Ft,jt){if(jt in s)return tt(Et,Ft);if(jt in a)return tt(void 0,Et)}const wt={url:ct,method:ct,data:ct,baseURL:ut,transformRequest:ut,transformResponse:ut,paramsSerializer:ut,timeout:ut,timeoutMessage:ut,withCredentials:ut,withXSRFToken:ut,adapter:ut,responseType:ut,xsrfCookieName:ut,xsrfHeaderName:ut,onUploadProgress:ut,onDownloadProgress:ut,decompress:ut,maxContentLength:ut,maxBodyLength:ut,beforeRedirect:ut,transport:ut,httpAgent:ut,httpsAgent:ut,cancelToken:ut,socketPath:ut,responseEncoding:ut,validateStatus:bt,headers:(Et,Ft,jt)=>at(headersToObject$1(Et),headersToObject$1(Ft),jt,!0)};return utils$8.forEach(Object.keys(Object.assign({},a,s)),function(Ft){const jt=wt[Ft]||at,Lt=jt(a[Ft],s[Ft],Ft);utils$8.isUndefined(Lt)&&jt!==bt||(et[Ft]=Lt)}),et}const resolveConfig$1=a=>{const s=mergeConfig$2({},a);let{data:et,withXSRFToken:tt,xsrfHeaderName:at,xsrfCookieName:ct,headers:ut,auth:bt}=s;s.headers=ut=AxiosHeaders$3.from(ut),s.url=buildURL$1(buildFullPath$1(s.baseURL,s.url,s.allowAbsoluteUrls),a.params,a.paramsSerializer),bt&&ut.set("Authorization","Basic "+btoa((bt.username||"")+":"+(bt.password?unescape(encodeURIComponent(bt.password)):"")));let wt;if(utils$8.isFormData(et)){if(platform$2.hasStandardBrowserEnv||platform$2.hasStandardBrowserWebWorkerEnv)ut.setContentType(void 0);else if((wt=ut.getContentType())!==!1){const[Et,...Ft]=wt?wt.split(";").map(jt=>jt.trim()).filter(Boolean):[];ut.setContentType([Et||"multipart/form-data",...Ft].join("; "))}}if(platform$2.hasStandardBrowserEnv&&(tt&&utils$8.isFunction(tt)&&(tt=tt(s)),tt||tt!==!1&&isURLSameOrigin$1(s.url))){const Et=at&&ct&&cookies$1.read(ct);Et&&ut.set(at,Et)}return s},isXHRAdapterSupported$1=typeof XMLHttpRequest<"u",xhrAdapter$1=isXHRAdapterSupported$1&&function(a){return new Promise(function(et,tt){const at=resolveConfig$1(a);let ct=at.data;const ut=AxiosHeaders$3.from(at.headers).normalize();let{responseType:bt,onUploadProgress:wt,onDownloadProgress:Et}=at,Ft,jt,Lt,Ut,Vt;function Yt(){Ut&&Ut(),Vt&&Vt(),at.cancelToken&&at.cancelToken.unsubscribe(Ft),at.signal&&at.signal.removeEventListener("abort",Ft)}let er=new XMLHttpRequest;er.open(at.method.toUpperCase(),at.url,!0),er.timeout=at.timeout;function tr(){if(!er)return;const ir=AxiosHeaders$3.from("getAllResponseHeaders"in er&&er.getAllResponseHeaders()),pr={data:!bt||bt==="text"||bt==="json"?er.responseText:er.response,status:er.status,statusText:er.statusText,headers:ir,config:a,request:er};settle$1(function(br){et(br),Yt()},function(br){tt(br),Yt()},pr),er=null}"onloadend"in er?er.onloadend=tr:er.onreadystatechange=function(){!er||er.readyState!==4||er.status===0&&!(er.responseURL&&er.responseURL.indexOf("file:")===0)||setTimeout(tr)},er.onabort=function(){er&&(tt(new AxiosError$2("Request aborted",AxiosError$2.ECONNABORTED,a,er)),er=null)},er.onerror=function(){tt(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,a,er)),er=null},er.ontimeout=function(){let lr=at.timeout?"timeout of "+at.timeout+"ms exceeded":"timeout exceeded";const pr=at.transitional||transitionalDefaults$1;at.timeoutErrorMessage&&(lr=at.timeoutErrorMessage),tt(new AxiosError$2(lr,pr.clarifyTimeoutError?AxiosError$2.ETIMEDOUT:AxiosError$2.ECONNABORTED,a,er)),er=null},ct===void 0&&ut.setContentType(null),"setRequestHeader"in er&&utils$8.forEach(ut.toJSON(),function(lr,pr){er.setRequestHeader(pr,lr)}),utils$8.isUndefined(at.withCredentials)||(er.withCredentials=!!at.withCredentials),bt&&bt!=="json"&&(er.responseType=at.responseType),Et&&([Lt,Vt]=progressEventReducer$1(Et,!0),er.addEventListener("progress",Lt)),wt&&er.upload&&([jt,Ut]=progressEventReducer$1(wt),er.upload.addEventListener("progress",jt),er.upload.addEventListener("loadend",Ut)),(at.cancelToken||at.signal)&&(Ft=ir=>{er&&(tt(!ir||ir.type?new CanceledError$2(null,a,er):ir),er.abort(),er=null)},at.cancelToken&&at.cancelToken.subscribe(Ft),at.signal&&(at.signal.aborted?Ft():at.signal.addEventListener("abort",Ft)));const nr=parseProtocol$1(at.url);if(nr&&platform$2.protocols.indexOf(nr)===-1){tt(new AxiosError$2("Unsupported protocol "+nr+":",AxiosError$2.ERR_BAD_REQUEST,a));return}er.send(ct||null)})},composeSignals$2=(a,s)=>{const{length:et}=a=a?a.filter(Boolean):[];if(s||et){let tt=new AbortController,at;const ct=function(Et){if(!at){at=!0,bt();const Ft=Et instanceof Error?Et:this.reason;tt.abort(Ft instanceof AxiosError$2?Ft:new CanceledError$2(Ft instanceof Error?Ft.message:Ft))}};let ut=s&&setTimeout(()=>{ut=null,ct(new AxiosError$2(`timeout ${s} of ms exceeded`,AxiosError$2.ETIMEDOUT))},s);const bt=()=>{a&&(ut&&clearTimeout(ut),ut=null,a.forEach(Et=>{Et.unsubscribe?Et.unsubscribe(ct):Et.removeEventListener("abort",ct)}),a=null)};a.forEach(Et=>Et.addEventListener("abort",ct));const{signal:wt}=tt;return wt.unsubscribe=()=>utils$8.asap(bt),wt}},streamChunk$1=function*(a,s){let et=a.byteLength;if(et<s){yield a;return}let tt=0,at;for(;tt<et;)at=tt+s,yield a.slice(tt,at),tt=at},readBytes$1=async function*(a,s){for await(const et of readStream$1(a))yield*streamChunk$1(et,s)},readStream$1=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const s=a.getReader();try{for(;;){const{done:et,value:tt}=await s.read();if(et)break;yield tt}}finally{await s.cancel()}},trackStream$1=(a,s,et,tt)=>{const at=readBytes$1(a,s);let ct=0,ut,bt=wt=>{ut||(ut=!0,tt&&tt(wt))};return new ReadableStream({async pull(wt){try{const{done:Et,value:Ft}=await at.next();if(Et){bt(),wt.close();return}let jt=Ft.byteLength;if(et){let Lt=ct+=jt;et(Lt)}wt.enqueue(new Uint8Array(Ft))}catch(Et){throw bt(Et),Et}},cancel(wt){return bt(wt),at.return()}},{highWaterMark:2})},isFetchSupported$1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported$1=isFetchSupported$1&&typeof ReadableStream=="function",encodeText$1=isFetchSupported$1&&(typeof TextEncoder=="function"?(a=>s=>a.encode(s))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),test$2=(a,...s)=>{try{return!!a(...s)}catch{return!1}},supportsRequestStream$1=isReadableStreamSupported$1&&test$2(()=>{let a=!1;const s=new Request(platform$2.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!s}),DEFAULT_CHUNK_SIZE$1=64*1024,supportsResponseStream$1=isReadableStreamSupported$1&&test$2(()=>utils$8.isReadableStream(new Response("").body)),resolvers$1={stream:supportsResponseStream$1&&(a=>a.body)};isFetchSupported$1&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!resolvers$1[s]&&(resolvers$1[s]=utils$8.isFunction(a[s])?et=>et[s]():(et,tt)=>{throw new AxiosError$2(`Response type '${s}' is not supported`,AxiosError$2.ERR_NOT_SUPPORT,tt)})})})(new Response);const getBodyLength$1=async a=>{if(a==null)return 0;if(utils$8.isBlob(a))return a.size;if(utils$8.isSpecCompliantForm(a))return(await new Request(platform$2.origin,{method:"POST",body:a}).arrayBuffer()).byteLength;if(utils$8.isArrayBufferView(a)||utils$8.isArrayBuffer(a))return a.byteLength;if(utils$8.isURLSearchParams(a)&&(a=a+""),utils$8.isString(a))return(await encodeText$1(a)).byteLength},resolveBodyLength$1=async(a,s)=>{const et=utils$8.toFiniteNumber(a.getContentLength());return et??getBodyLength$1(s)},fetchAdapter$1=isFetchSupported$1&&(async a=>{let{url:s,method:et,data:tt,signal:at,cancelToken:ct,timeout:ut,onDownloadProgress:bt,onUploadProgress:wt,responseType:Et,headers:Ft,withCredentials:jt="same-origin",fetchOptions:Lt}=resolveConfig$1(a);Et=Et?(Et+"").toLowerCase():"text";let Ut=composeSignals$2([at,ct&&ct.toAbortSignal()],ut),Vt;const Yt=Ut&&Ut.unsubscribe&&(()=>{Ut.unsubscribe()});let er;try{if(wt&&supportsRequestStream$1&&et!=="get"&&et!=="head"&&(er=await resolveBodyLength$1(Ft,tt))!==0){let pr=new Request(s,{method:"POST",body:tt,duplex:"half"}),yr;if(utils$8.isFormData(tt)&&(yr=pr.headers.get("content-type"))&&Ft.setContentType(yr),pr.body){const[br,xr]=progressEventDecorator$1(er,progressEventReducer$1(asyncDecorator$1(wt)));tt=trackStream$1(pr.body,DEFAULT_CHUNK_SIZE$1,br,xr)}}utils$8.isString(jt)||(jt=jt?"include":"omit");const tr="credentials"in Request.prototype;Vt=new Request(s,{...Lt,signal:Ut,method:et.toUpperCase(),headers:Ft.normalize().toJSON(),body:tt,duplex:"half",credentials:tr?jt:void 0});let nr=await fetch(Vt);const ir=supportsResponseStream$1&&(Et==="stream"||Et==="response");if(supportsResponseStream$1&&(bt||ir&&Yt)){const pr={};["status","statusText","headers"].forEach(Er=>{pr[Er]=nr[Er]});const yr=utils$8.toFiniteNumber(nr.headers.get("content-length")),[br,xr]=bt&&progressEventDecorator$1(yr,progressEventReducer$1(asyncDecorator$1(bt),!0))||[];nr=new Response(trackStream$1(nr.body,DEFAULT_CHUNK_SIZE$1,br,()=>{xr&&xr(),Yt&&Yt()}),pr)}Et=Et||"text";let lr=await resolvers$1[utils$8.findKey(resolvers$1,Et)||"text"](nr,a);return!ir&&Yt&&Yt(),await new Promise((pr,yr)=>{settle$1(pr,yr,{data:lr,headers:AxiosHeaders$3.from(nr.headers),status:nr.status,statusText:nr.statusText,config:a,request:Vt})})}catch(tr){throw Yt&&Yt(),tr&&tr.name==="TypeError"&&/fetch/i.test(tr.message)?Object.assign(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,a,Vt),{cause:tr.cause||tr}):AxiosError$2.from(tr,tr&&tr.code,a,Vt)}}),knownAdapters$1={http:httpAdapter$1,xhr:xhrAdapter$1,fetch:fetchAdapter$1};utils$8.forEach(knownAdapters$1,(a,s)=>{if(a){try{Object.defineProperty(a,"name",{value:s})}catch{}Object.defineProperty(a,"adapterName",{value:s})}});const renderReason$1=a=>`- ${a}`,isResolvedHandle$1=a=>utils$8.isFunction(a)||a===null||a===!1,adapters$1={getAdapter:a=>{a=utils$8.isArray(a)?a:[a];const{length:s}=a;let et,tt;const at={};for(let ct=0;ct<s;ct++){et=a[ct];let ut;if(tt=et,!isResolvedHandle$1(et)&&(tt=knownAdapters$1[(ut=String(et)).toLowerCase()],tt===void 0))throw new AxiosError$2(`Unknown adapter '${ut}'`);if(tt)break;at[ut||"#"+ct]=tt}if(!tt){const ct=Object.entries(at).map(([bt,wt])=>`adapter ${bt} `+(wt===!1?"is not supported by the environment":"is not available in the build"));let ut=s?ct.length>1?`since :
`+ct.map(renderReason$1).join(`
`):" "+renderReason$1(ct[0]):"as no adapter specified";throw new AxiosError$2("There is no suitable adapter to dispatch the request "+ut,"ERR_NOT_SUPPORT")}return tt},adapters:knownAdapters$1};function throwIfCancellationRequested$1(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError$2(null,a)}function dispatchRequest$1(a){return throwIfCancellationRequested$1(a),a.headers=AxiosHeaders$3.from(a.headers),a.data=transformData$1.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),adapters$1.getAdapter(a.adapter||defaults$2.adapter)(a).then(function(tt){return throwIfCancellationRequested$1(a),tt.data=transformData$1.call(a,a.transformResponse,tt),tt.headers=AxiosHeaders$3.from(tt.headers),tt},function(tt){return isCancel$2(tt)||(throwIfCancellationRequested$1(a),tt&&tt.response&&(tt.response.data=transformData$1.call(a,a.transformResponse,tt.response),tt.response.headers=AxiosHeaders$3.from(tt.response.headers))),Promise.reject(tt)})}const VERSION$3="1.8.4",validators$3={};["object","boolean","number","function","string","symbol"].forEach((a,s)=>{validators$3[a]=function(tt){return typeof tt===a||"a"+(s<1?"n ":" ")+a}});const deprecatedWarnings$1={};validators$3.transitional=function(s,et,tt){function at(ct,ut){return"[Axios v"+VERSION$3+"] Transitional option '"+ct+"'"+ut+(tt?". "+tt:"")}return(ct,ut,bt)=>{if(s===!1)throw new AxiosError$2(at(ut," has been removed"+(et?" in "+et:"")),AxiosError$2.ERR_DEPRECATED);return et&&!deprecatedWarnings$1[ut]&&(deprecatedWarnings$1[ut]=!0,console.warn(at(ut," has been deprecated since v"+et+" and will be removed in the near future"))),s?s(ct,ut,bt):!0}};validators$3.spelling=function(s){return(et,tt)=>(console.warn(`${tt} is likely a misspelling of ${s}`),!0)};function assertOptions$1(a,s,et){if(typeof a!="object")throw new AxiosError$2("options must be an object",AxiosError$2.ERR_BAD_OPTION_VALUE);const tt=Object.keys(a);let at=tt.length;for(;at-- >0;){const ct=tt[at],ut=s[ct];if(ut){const bt=a[ct],wt=bt===void 0||ut(bt,ct,a);if(wt!==!0)throw new AxiosError$2("option "+ct+" must be "+wt,AxiosError$2.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError$2("Unknown option "+ct,AxiosError$2.ERR_BAD_OPTION)}}const validator$2={assertOptions:assertOptions$1,validators:validators$3},validators$2=validator$2.validators;let Axios$3=class{constructor(s){this.defaults=s,this.interceptors={request:new InterceptorManager$2,response:new InterceptorManager$2}}async request(s,et){try{return await this._request(s,et)}catch(tt){if(tt instanceof Error){let at={};Error.captureStackTrace?Error.captureStackTrace(at):at=new Error;const ct=at.stack?at.stack.replace(/^.+\n/,""):"";try{tt.stack?ct&&!String(tt.stack).endsWith(ct.replace(/^.+\n.+\n/,""))&&(tt.stack+=`
`+ct):tt.stack=ct}catch{}}throw tt}}_request(s,et){typeof s=="string"?(et=et||{},et.url=s):et=s||{},et=mergeConfig$2(this.defaults,et);const{transitional:tt,paramsSerializer:at,headers:ct}=et;tt!==void 0&&validator$2.assertOptions(tt,{silentJSONParsing:validators$2.transitional(validators$2.boolean),forcedJSONParsing:validators$2.transitional(validators$2.boolean),clarifyTimeoutError:validators$2.transitional(validators$2.boolean)},!1),at!=null&&(utils$8.isFunction(at)?et.paramsSerializer={serialize:at}:validator$2.assertOptions(at,{encode:validators$2.function,serialize:validators$2.function},!0)),et.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?et.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:et.allowAbsoluteUrls=!0),validator$2.assertOptions(et,{baseUrl:validators$2.spelling("baseURL"),withXsrfToken:validators$2.spelling("withXSRFToken")},!0),et.method=(et.method||this.defaults.method||"get").toLowerCase();let ut=ct&&utils$8.merge(ct.common,ct[et.method]);ct&&utils$8.forEach(["delete","get","head","post","put","patch","common"],Vt=>{delete ct[Vt]}),et.headers=AxiosHeaders$3.concat(ut,ct);const bt=[];let wt=!0;this.interceptors.request.forEach(function(Yt){typeof Yt.runWhen=="function"&&Yt.runWhen(et)===!1||(wt=wt&&Yt.synchronous,bt.unshift(Yt.fulfilled,Yt.rejected))});const Et=[];this.interceptors.response.forEach(function(Yt){Et.push(Yt.fulfilled,Yt.rejected)});let Ft,jt=0,Lt;if(!wt){const Vt=[dispatchRequest$1.bind(this),void 0];for(Vt.unshift.apply(Vt,bt),Vt.push.apply(Vt,Et),Lt=Vt.length,Ft=Promise.resolve(et);jt<Lt;)Ft=Ft.then(Vt[jt++],Vt[jt++]);return Ft}Lt=bt.length;let Ut=et;for(jt=0;jt<Lt;){const Vt=bt[jt++],Yt=bt[jt++];try{Ut=Vt(Ut)}catch(er){Yt.call(this,er);break}}try{Ft=dispatchRequest$1.call(this,Ut)}catch(Vt){return Promise.reject(Vt)}for(jt=0,Lt=Et.length;jt<Lt;)Ft=Ft.then(Et[jt++],Et[jt++]);return Ft}getUri(s){s=mergeConfig$2(this.defaults,s);const et=buildFullPath$1(s.baseURL,s.url,s.allowAbsoluteUrls);return buildURL$1(et,s.params,s.paramsSerializer)}};utils$8.forEach(["delete","get","head","options"],function(s){Axios$3.prototype[s]=function(et,tt){return this.request(mergeConfig$2(tt||{},{method:s,url:et,data:(tt||{}).data}))}});utils$8.forEach(["post","put","patch"],function(s){function et(tt){return function(ct,ut,bt){return this.request(mergeConfig$2(bt||{},{method:s,headers:tt?{"Content-Type":"multipart/form-data"}:{},url:ct,data:ut}))}}Axios$3.prototype[s]=et(),Axios$3.prototype[s+"Form"]=et(!0)});let CancelToken$3=class kp{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let et;this.promise=new Promise(function(ct){et=ct});const tt=this;this.promise.then(at=>{if(!tt._listeners)return;let ct=tt._listeners.length;for(;ct-- >0;)tt._listeners[ct](at);tt._listeners=null}),this.promise.then=at=>{let ct;const ut=new Promise(bt=>{tt.subscribe(bt),ct=bt}).then(at);return ut.cancel=function(){tt.unsubscribe(ct)},ut},s(function(ct,ut,bt){tt.reason||(tt.reason=new CanceledError$2(ct,ut,bt),et(tt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const et=this._listeners.indexOf(s);et!==-1&&this._listeners.splice(et,1)}toAbortSignal(){const s=new AbortController,et=tt=>{s.abort(tt)};return this.subscribe(et),s.signal.unsubscribe=()=>this.unsubscribe(et),s.signal}static source(){let s;return{token:new kp(function(at){s=at}),cancel:s}}};function spread$2(a){return function(et){return a.apply(null,et)}}function isAxiosError$2(a){return utils$8.isObject(a)&&a.isAxiosError===!0}const HttpStatusCode$3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$3).forEach(([a,s])=>{HttpStatusCode$3[s]=a});function createInstance$1(a){const s=new Axios$3(a),et=bind$1(Axios$3.prototype.request,s);return utils$8.extend(et,Axios$3.prototype,s,{allOwnKeys:!0}),utils$8.extend(et,s,null,{allOwnKeys:!0}),et.create=function(at){return createInstance$1(mergeConfig$2(a,at))},et}const axios$1=createInstance$1(defaults$2);axios$1.Axios=Axios$3;axios$1.CanceledError=CanceledError$2;axios$1.CancelToken=CancelToken$3;axios$1.isCancel=isCancel$2;axios$1.VERSION=VERSION$3;axios$1.toFormData=toFormData$2;axios$1.AxiosError=AxiosError$2;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(s){return Promise.all(s)};axios$1.spread=spread$2;axios$1.isAxiosError=isAxiosError$2;axios$1.mergeConfig=mergeConfig$2;axios$1.AxiosHeaders=AxiosHeaders$3;axios$1.formToJSON=a=>formDataToJSON$1(utils$8.isHTMLForm(a)?new FormData(a):a);axios$1.getAdapter=adapters$1.getAdapter;axios$1.HttpStatusCode=HttpStatusCode$3;axios$1.default=axios$1;const{Axios:Axios$2,AxiosError:AxiosError$1,CanceledError:CanceledError$1,isCancel:isCancel$1,CancelToken:CancelToken$2,VERSION:VERSION$2,all,Cancel,isAxiosError:isAxiosError$1,spread:spread$1,toFormData:toFormData$1,AxiosHeaders:AxiosHeaders$2,HttpStatusCode:HttpStatusCode$2,formToJSON,getAdapter,mergeConfig:mergeConfig$1}=axios$1;var __defProp$j=Object.defineProperty,__defNormalProp$7=(a,s,et)=>s in a?__defProp$j(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$4=(a,s,et)=>(__defNormalProp$7(a,s+"",et),et),cacheTime5min=5*60*1e3,cacheTime24h=24*60*60*1e3;function getFutureTime(a){return Date.parse(new Date().toString())+a}var CachedContent=class{constructor(a,s=0){dn(this,"overdueTime");dn(this,"value");this.overdueTime=s,this.value=a}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var decimal_default$1=Decimal$1,ClmmpoolsError=class extends Error{constructor(s,et){super(s);dn(this,"message");dn(this,"errorCode");this.message=s,this.errorCode=et}static isClmmpoolsErrorCode(s,et){return s instanceof ClmmpoolsError&&s.errorCode===et}},ZERO$1=new BN(0),ONE=new BN(1),TWO$1=new BN(2);TWO$1.pow(new BN(128));var U64_MAX=TWO$1.pow(new BN(64)).sub(ONE),U128_MAX=TWO$1.pow(new BN(128)).sub(ONE),MathUtil=class{static toX64_BN(a){return a.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(a){return a.mul(decimal_default$1.pow(2,64))}static toX64(a){return new BN(a.mul(decimal_default$1.pow(2,64)).floor().toFixed())}static fromX64(a){return new decimal_default$1(a.toString()).mul(decimal_default$1.pow(2,-64))}static fromX64_Decimal(a){return a.mul(decimal_default$1.pow(2,-64))}static fromX64_BN(a){return a.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(a){let s=a.shrn(64);return a.mod(U64_MAX).gt(ZERO$1)&&(s=s.add(ONE)),s}static divRoundUp(a,s){return a.mod(s).eq(ZERO$1)?a.div(s):a.div(s).add(new BN(1))}static subUnderflowU128(a,s){return a.lt(s)?a.sub(s).add(U128_MAX):a.sub(s)}static checkUnsignedSub(a,s){const et=a.sub(s);if(et.isNeg())throw new ClmmpoolsError("Unsigned integer sub overflow","UnsignedIntegerOverflow");return et}static checkMul(a,s,et){const tt=a.mul(s);if(this.isOverflow(tt,et))throw new ClmmpoolsError("Multiplication overflow","MultiplicationOverflow");return tt}static checkMulDivFloor(a,s,et,tt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=a.mul(s).div(et);if(this.isOverflow(at,tt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivCeil(a,s,et,tt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=a.mul(s).add(et.sub(ONE)).div(et);if(this.isOverflow(at,tt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivRound(a,s,et,tt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=a.mul(s.add(et.shrn(1))).div(et);if(this.isOverflow(at,tt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulShiftRight(a,s,et,tt){const at=a.mul(s).div(new BN(2).pow(new BN(et)));if(this.isOverflow(at,tt))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return at}static checkMulShiftRight64RoundUpIf(a,s,et,tt){const at=a.mul(s),ut=tt&&at.and(U64_MAX).gt(ZERO$1)?at.shrn(64).add(ONE):at.shrn(64);if(this.isOverflow(ut,et))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return ut}static checkMulShiftLeft(a,s,et,tt){const at=a.mul(s).shln(et);if(this.isOverflow(at,tt))throw new ClmmpoolsError("Multiplication shift left overflow","MulShiftLeftOverflow");return at}static checkDivRoundUpIf(a,s,et){if(s.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");return et?this.divRoundUp(a,s):a.div(s)}static isOverflow(a,s){return a.gte(TWO$1.pow(new BN(s)))}static sign(a){return a.testn(127)?1:0}static is_neg(a){return this.sign(a)===1}static abs_u128(a){return a.gt(ZERO$1)?a:this.u128_neg(a.subn(1))}static u128_neg(a){return a.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(a){return this.is_neg(a)?a.abs():this.neg_from(a)}static abs(a){return this.sign(a)===0?a:this.u128_neg(a.sub(new BN(1)))}static neg_from(a){return a.eq(ZERO$1)?a:this.u128_neg(a).add(new BN(1)).or(new BN(1).shln(127))}};function transClmmpoolDataWithoutTicks(a){return{coinA:a.coinTypeA,coinB:a.coinTypeB,currentSqrtPrice:new BN(a.current_sqrt_price),currentTickIndex:a.current_tick_index,feeGrowthGlobalA:new BN(a.fee_growth_global_a),feeGrowthGlobalB:new BN(a.fee_growth_global_b),feeProtocolCoinA:new BN(a.fee_protocol_coin_a),feeProtocolCoinB:new BN(a.fee_protocol_coin_b),feeRate:new BN(a.fee_rate),liquidity:new BN(a.liquidity),tickIndexes:[],tickSpacing:Number(a.tickSpacing),ticks:[],collection_name:""}}var MAX_TICK_INDEX=443636,MIN_TICK_INDEX=-443636,MAX_SQRT_PRICE="79226673515401279992447579055",MIN_SQRT_PRICE="4295048016",FEE_RATE_DENOMINATOR=new BN(1e6),CLOCK_ADDRESS$1="0x0000000000000000000000000000000000000000000000000000000000000006",ClmmPartnerModule="partner",ClmmIntegratePoolModule="pool_script",ClmmIntegratePoolV2Module="pool_script_v2",ClmmIntegratePoolV3Module="pool_script_v3",ClmmIntegrateRouterModule="router",ClmmIntegrateRouterWithPartnerModule="router_with_partner",ClmmFetcherModule="fetcher_script",ClmmExpectSwapModule="expect_swap",ClmmIntegrateUtilsModule="utils",DeepbookCustodianV2Moudle="custodian_v2",DeepbookClobV2Moudle="clob_v2",DeepbookEndpointsV2Moudle="endpoints_v2",ClmmPositionStatus=(a=>(a.Deleted="Deleted",a.Exists="Exists",a.NotExists="NotExists",a))(ClmmPositionStatus||{});function getPackagerConfigs(a){if(a.config===void 0)throw new ClmmpoolsError(`package: ${a.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return a.config}var poolFilterEvenTypes=["RemoveLiquidityEvent","SwapEvent","AddLiquidityEvent"],BIT_PRECISION=14,LOG_B_2_X32="59543866431248",LOG_B_P_ERR_MARGIN_LOWER_X64="184467440737095516",LOG_B_P_ERR_MARGIN_UPPER_X64="15793534762490258745",TICK_BOUND=443636;function signedShiftLeft(a,s,et){const tt=a.toTwos(et).shln(s);return tt.imaskn(et+1),tt.fromTwos(et)}function signedShiftRight(a,s,et){const tt=a.toTwos(et).shrn(s);return tt.imaskn(et-s+1),tt.fromTwos(et-s)}function tickIndexToSqrtPricePositive(a){let s;return a&1?s=new BN("79232123823359799118286999567"):s=new BN("79228162514264337593543950336"),a&2&&(s=signedShiftRight(s.mul(new BN("79236085330515764027303304731")),96,256)),a&4&&(s=signedShiftRight(s.mul(new BN("79244008939048815603706035061")),96,256)),a&8&&(s=signedShiftRight(s.mul(new BN("79259858533276714757314932305")),96,256)),a&16&&(s=signedShiftRight(s.mul(new BN("79291567232598584799939703904")),96,256)),a&32&&(s=signedShiftRight(s.mul(new BN("79355022692464371645785046466")),96,256)),a&64&&(s=signedShiftRight(s.mul(new BN("79482085999252804386437311141")),96,256)),a&128&&(s=signedShiftRight(s.mul(new BN("79736823300114093921829183326")),96,256)),a&256&&(s=signedShiftRight(s.mul(new BN("80248749790819932309965073892")),96,256)),a&512&&(s=signedShiftRight(s.mul(new BN("81282483887344747381513967011")),96,256)),a&1024&&(s=signedShiftRight(s.mul(new BN("83390072131320151908154831281")),96,256)),a&2048&&(s=signedShiftRight(s.mul(new BN("87770609709833776024991924138")),96,256)),a&4096&&(s=signedShiftRight(s.mul(new BN("97234110755111693312479820773")),96,256)),a&8192&&(s=signedShiftRight(s.mul(new BN("119332217159966728226237229890")),96,256)),a&16384&&(s=signedShiftRight(s.mul(new BN("179736315981702064433883588727")),96,256)),a&32768&&(s=signedShiftRight(s.mul(new BN("407748233172238350107850275304")),96,256)),a&65536&&(s=signedShiftRight(s.mul(new BN("2098478828474011932436660412517")),96,256)),a&131072&&(s=signedShiftRight(s.mul(new BN("55581415166113811149459800483533")),96,256)),a&262144&&(s=signedShiftRight(s.mul(new BN("38992368544603139932233054999993551")),96,256)),signedShiftRight(s,32,256)}function tickIndexToSqrtPriceNegative(a){const s=Math.abs(a);let et;return s&1?et=new BN("18445821805675392311"):et=new BN("18446744073709551616"),s&2&&(et=signedShiftRight(et.mul(new BN("18444899583751176498")),64,256)),s&4&&(et=signedShiftRight(et.mul(new BN("18443055278223354162")),64,256)),s&8&&(et=signedShiftRight(et.mul(new BN("18439367220385604838")),64,256)),s&16&&(et=signedShiftRight(et.mul(new BN("18431993317065449817")),64,256)),s&32&&(et=signedShiftRight(et.mul(new BN("18417254355718160513")),64,256)),s&64&&(et=signedShiftRight(et.mul(new BN("18387811781193591352")),64,256)),s&128&&(et=signedShiftRight(et.mul(new BN("18329067761203520168")),64,256)),s&256&&(et=signedShiftRight(et.mul(new BN("18212142134806087854")),64,256)),s&512&&(et=signedShiftRight(et.mul(new BN("17980523815641551639")),64,256)),s&1024&&(et=signedShiftRight(et.mul(new BN("17526086738831147013")),64,256)),s&2048&&(et=signedShiftRight(et.mul(new BN("16651378430235024244")),64,256)),s&4096&&(et=signedShiftRight(et.mul(new BN("15030750278693429944")),64,256)),s&8192&&(et=signedShiftRight(et.mul(new BN("12247334978882834399")),64,256)),s&16384&&(et=signedShiftRight(et.mul(new BN("8131365268884726200")),64,256)),s&32768&&(et=signedShiftRight(et.mul(new BN("3584323654723342297")),64,256)),s&65536&&(et=signedShiftRight(et.mul(new BN("696457651847595233")),64,256)),s&131072&&(et=signedShiftRight(et.mul(new BN("26294789957452057")),64,256)),s&262144&&(et=signedShiftRight(et.mul(new BN("37481735321082")),64,256)),et}var TickMath=class{static priceToSqrtPriceX64(a,s,et){return MathUtil.toX64(a.mul(decimal_default$1.pow(10,et-s)).sqrt())}static sqrtPriceX64ToPrice(a,s,et){return MathUtil.fromX64(a).pow(2).mul(decimal_default$1.pow(10,s-et))}static tickIndexToSqrtPriceX64(a){return a>0?new BN(tickIndexToSqrtPricePositive(a)):new BN(tickIndexToSqrtPriceNegative(a))}static sqrtPriceX64ToTickIndex(a){if(a.gt(new BN(MAX_SQRT_PRICE))||a.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");const s=a.bitLength()-1,et=new BN(s-64),tt=signedShiftLeft(et,32,128);let at=new BN("8000000000000000","hex"),ct=0,ut=new BN(0),bt=s>=64?a.shrn(s-63):a.shln(63-s);for(;at.gt(new BN(0))&&ct<BIT_PRECISION;){bt=bt.mul(bt);const Vt=bt.shrn(127);bt=bt.shrn(63+Vt.toNumber()),ut=ut.add(at.mul(Vt)),at=at.shrn(1),ct+=1}const wt=ut.shrn(32),Ft=tt.add(wt).mul(new BN(LOG_B_2_X32)),jt=signedShiftRight(Ft.sub(new BN(LOG_B_P_ERR_MARGIN_LOWER_X64)),64,128).toNumber(),Lt=signedShiftRight(Ft.add(new BN(LOG_B_P_ERR_MARGIN_UPPER_X64)),64,128).toNumber();return jt===Lt?jt:TickMath.tickIndexToSqrtPriceX64(Lt).lte(a)?Lt:jt}static tickIndexToPrice(a,s,et){return TickMath.sqrtPriceX64ToPrice(TickMath.tickIndexToSqrtPriceX64(a),s,et)}static priceToTickIndex(a,s,et){return TickMath.sqrtPriceX64ToTickIndex(TickMath.priceToSqrtPriceX64(a,s,et))}static priceToInitializableTickIndex(a,s,et,tt){return TickMath.getInitializableTickIndex(TickMath.priceToTickIndex(a,s,et),tt)}static getInitializableTickIndex(a,s){return a-a%s}static getNextInitializableTickIndex(a,s){return TickMath.getInitializableTickIndex(a,s)+s}static getPrevInitializableTickIndex(a,s){return TickMath.getInitializableTickIndex(a,s)-s}};function getTickDataFromUrlData(a){const s=[];for(const et of a){const tt={objectId:et.objectId,index:Number(asIntN(BigInt(et.index)).toString()),sqrtPrice:et.sqrtPrice,liquidityNet:new BN(BigInt.asIntN(128,BigInt(BigInt(et.liquidityNet.toString()))).toString()),liquidityGross:et.liquidityGross,feeGrowthOutsideA:et.feeGrowthOutsideA,feeGrowthOutsideB:et.feeGrowthOutsideB,rewardersGrowthOutside:[new BN(et.rewardersGrowthOutside[0]),new BN(et.rewardersGrowthOutside[1]),new BN(et.rewardersGrowthOutside[2])]};s.push(tt)}return s}function tickScore(a){return d$3(a).add(d$3(TICK_BOUND))}new BN(365);new BN(24);new BN(3600);new BN(.5);var SwapUtils=class{static getDefaultSqrtPriceLimit(a){return new BN(a?MIN_SQRT_PRICE:MAX_SQRT_PRICE)}static getDefaultOtherAmountThreshold(a){return a?ZERO$1:U64_MAX}};function getNextSqrtPriceAUp(a,s,et,tt){if(et.eq(ZERO$1))return a;const at=MathUtil.checkMulShiftLeft(a,s,64,256),ct=s.shln(64),ut=MathUtil.checkMul(a,et,256);if(!tt&&ct.lte(ut))throw new ClmmpoolsError("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const bt=tt?MathUtil.checkDivRoundUpIf(at,ct.add(ut),!0):MathUtil.checkDivRoundUpIf(at,ct.sub(ut),!0);if(bt.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(bt.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return bt}function getNextSqrtPriceBDown(a,s,et,tt){const at=MathUtil.checkDivRoundUpIf(et.shln(64),s,!tt),ct=tt?a.add(at):a.sub(at);if(ct.lt(new BN(MIN_SQRT_PRICE))||ct.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return ct}function getNextSqrtPriceFromInput(a,s,et,tt){return tt?getNextSqrtPriceAUp(a,s,et,!0):getNextSqrtPriceBDown(a,s,et,!0)}function getNextSqrtPriceFromOutput(a,s,et,tt){return tt?getNextSqrtPriceBDown(a,s,et,!1):getNextSqrtPriceAUp(a,s,et,!1)}function getDeltaUpFromInput(a,s,et,tt){const at=a.gt(s)?a.sub(s):s.sub(a);if(et.lte(ZERO$1)||at.eq(ZERO$1))return ZERO$1;let ct;if(tt){const ut=new BN(et).mul(new BN(at)).shln(64),bt=s.mul(a),wt=ut.div(bt);ct=ut.mod(bt).eq(ZERO$1)?wt:wt.add(ONE)}else{const ut=new BN(et).mul(new BN(at));ct=ut.and(U64_MAX).gt(ZERO$1)?ut.shrn(64).add(ONE):ut.shrn(64)}return ct}function getDeltaDownFromOutput(a,s,et,tt){const at=a.gt(s)?a.sub(s):s.sub(a);if(et.lte(ZERO$1)||at.eq(ZERO$1))return ZERO$1;let ct;if(tt)ct=et.mul(at).shrn(64);else{const ut=et.mul(at).shln(64),bt=s.mul(a);ct=ut.div(bt)}return ct}function computeSwapStep(a,s,et,tt,at,ct){if(et===ZERO$1)return{amountIn:ZERO$1,amountOut:ZERO$1,nextSqrtPrice:s,feeAmount:ZERO$1};const ut=a.gte(s);let bt,wt,Et,Ft;if(ct){const jt=MathUtil.checkMulDivFloor(tt,MathUtil.checkUnsignedSub(FEE_RATE_DENOMINATOR,at),FEE_RATE_DENOMINATOR,64),Lt=getDeltaUpFromInput(a,s,et,ut);Lt.gt(jt)?(bt=jt,Ft=MathUtil.checkUnsignedSub(tt,jt),Et=getNextSqrtPriceFromInput(a,et,jt,ut)):(bt=Lt,Ft=MathUtil.checkMulDivCeil(bt,at,FEE_RATE_DENOMINATOR.sub(at),64),Et=s),wt=getDeltaDownFromOutput(a,Et,et,ut)}else{const jt=getDeltaDownFromOutput(a,s,et,ut);jt.gt(tt)?(wt=tt,Et=getNextSqrtPriceFromOutput(a,et,tt,ut)):(wt=jt,Et=s),bt=getDeltaUpFromInput(a,Et,et,ut),Ft=MathUtil.checkMulDivCeil(bt,at,FEE_RATE_DENOMINATOR.sub(at),64)}return{amountIn:bt,amountOut:wt,nextSqrtPrice:Et,feeAmount:Ft}}function computeSwap(a,s,et,tt,at){let ct=et,ut=tt.liquidity,{currentSqrtPrice:bt}=tt;const wt={amountIn:ZERO$1,amountOut:ZERO$1,feeAmount:ZERO$1,refAmount:ZERO$1,nextSqrtPrice:ZERO$1,crossTickNum:0};let Et,Ft;const jt=SwapUtils.getDefaultSqrtPriceLimit(a);for(const Lt of at){if(a&&tt.currentTickIndex<Lt.index||!a&&tt.currentTickIndex>=Lt.index||Lt===null)continue;a&&jt.gt(Lt.sqrtPrice)||!a&&jt.lt(Lt.sqrtPrice)?Et=jt:Et=Lt.sqrtPrice;const Ut=computeSwapStep(bt,Et,ut,ct,tt.feeRate,s);if(Ut.amountIn.eq(ZERO$1)||(ct=s?ct.sub(Ut.amountIn.add(Ut.feeAmount)):ct.sub(Ut.amountOut)),wt.amountIn=wt.amountIn.add(Ut.amountIn),wt.amountOut=wt.amountOut.add(Ut.amountOut),wt.feeAmount=wt.feeAmount.add(Ut.feeAmount),Ut.nextSqrtPrice.eq(Lt.sqrtPrice)?(Ft=Lt.liquidityNet.mul(new BN(-1)),a?MathUtil.is_neg(Ft)?ut=ut.add(new BN(asUintN(BigInt(Ft.toString()),128))):ut=ut.add(Ft):MathUtil.is_neg(Ft)?ut=ut.sub(new BN(asUintN(BigInt(Ft.toString()),128))):ut=ut.sub(Ft),bt=Lt.sqrtPrice):bt=Ut.nextSqrtPrice,wt.crossTickNum+=1,ct.eq(ZERO$1))break}return wt.amountIn=wt.amountIn.add(wt.feeAmount),wt.nextSqrtPrice=bt,wt}function estimateLiquidityForCoinA(a,s,et){const tt=BN.min(a,s),at=BN.max(a,s),ct=MathUtil.fromX64_BN(et.mul(at).mul(tt)),ut=at.sub(tt);return!ct.isZero()&&!ut.isZero()?ct.div(ut):new BN(0)}function estimateLiquidityForCoinB(a,s,et){const tt=BN.min(a,s),ct=BN.max(a,s).sub(tt);return ct.isZero()?new BN(0):et.shln(64).div(ct)}var ClmmPoolUtil=class{static updateFeeRate(a,s,et,tt,at){const ct=MathUtil.checkMulDivCeil(s,new BN(tt),FEE_RATE_DENOMINATOR,64),ut=et===0?ZERO$1:MathUtil.checkMulDivFloor(s,new BN(et),FEE_RATE_DENOMINATOR,64),bt=s.mul(ct).mul(ut);if(at?a.feeProtocolCoinA=a.feeProtocolCoinA.add(ct):a.feeProtocolCoinB=a.feeProtocolCoinB.add(ct),bt.eq(ZERO$1)||a.liquidity.eq(ZERO$1))return{refFee:ut,clmm:a};const wt=bt.shln(64).div(a.liquidity);return at?a.feeGrowthGlobalA=a.feeGrowthGlobalA.add(wt):a.feeGrowthGlobalB=a.feeGrowthGlobalB.add(wt),{refFee:ut,clmm:a}}static getCoinAmountFromLiquidity(a,s,et,tt,at){const ct=new decimal_default$1(a.toString()),ut=new decimal_default$1(s.toString()),bt=new decimal_default$1(et.toString()),wt=new decimal_default$1(tt.toString());let Et,Ft;return s.lt(et)?(Et=MathUtil.toX64_Decimal(ct).mul(wt.sub(bt)).div(bt.mul(wt)),Ft=new decimal_default$1(0)):s.lt(tt)?(Et=MathUtil.toX64_Decimal(ct).mul(wt.sub(ut)).div(ut.mul(wt)),Ft=MathUtil.fromX64_Decimal(ct.mul(ut.sub(bt)))):(Et=new decimal_default$1(0),Ft=MathUtil.fromX64_Decimal(ct.mul(wt.sub(bt)))),at?{coinA:new BN(Et.ceil().toString()),coinB:new BN(Ft.ceil().toString())}:{coinA:new BN(Et.floor().toString()),coinB:new BN(Ft.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(a,s,et,tt,at,ct,ut){const bt=TickMath.sqrtPriceX64ToTickIndex(ut),wt=TickMath.tickIndexToSqrtPriceX64(a),Et=TickMath.tickIndexToSqrtPriceX64(s);let Ft;if(bt<a){if(!tt)throw new ClmmpoolsError("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");Ft=estimateLiquidityForCoinA(wt,Et,et)}else if(bt>s){if(tt)throw new ClmmpoolsError("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");Ft=estimateLiquidityForCoinB(Et,wt,et)}else tt?Ft=estimateLiquidityForCoinA(ut,Et,et):Ft=estimateLiquidityForCoinB(ut,wt,et);const jt=ClmmPoolUtil.getCoinAmountFromLiquidity(Ft,ut,wt,Et,at),Lt=at?d$3(jt.coinA.toString()).mul(1+ct).toString():d$3(jt.coinA.toString()).mul(1-ct).toString(),Ut=at?d$3(jt.coinB.toString()).mul(1+ct).toString():d$3(jt.coinB.toString()).mul(1-ct).toString();return{coinAmountA:jt.coinA,coinAmountB:jt.coinB,tokenMaxA:at?new BN(decimal_default$1.ceil(Lt).toString()):new BN(decimal_default$1.floor(Lt).toString()),tokenMaxB:at?new BN(decimal_default$1.ceil(Ut).toString()):new BN(decimal_default$1.floor(Ut).toString()),liquidityAmount:Ft,fix_amount_a:tt}}static estimateLiquidityFromcoinAmounts(a,s,et,tt){if(s>et)throw new ClmmpoolsError("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");const at=TickMath.sqrtPriceX64ToTickIndex(a),ct=TickMath.tickIndexToSqrtPriceX64(s),ut=TickMath.tickIndexToSqrtPriceX64(et);if(at<s)return estimateLiquidityForCoinA(ct,ut,tt.coinA);if(at>=et)return estimateLiquidityForCoinB(ut,ct,tt.coinB);const bt=estimateLiquidityForCoinA(a,ut,tt.coinA),wt=estimateLiquidityForCoinB(a,ct,tt.coinB);return BN.min(bt,wt)}static estCoinAmountsFromTotalAmount(a,s,et,tt,at,ct){const{ratioA:ut,ratioB:bt}=ClmmPoolUtil.calculateDepositRatioFixTokenA(a,s,et),wt=d$3(tt).mul(ut).div(at),Et=d$3(tt).mul(bt).div(ct);return{amountA:wt,amountB:Et}}static calculateDepositRatioFixTokenA(a,s,et){const tt=new BN(1e8),{coinAmountB:at}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a,s,tt,!0,!0,0,et),ct=TickMath.sqrtPriceX64ToPrice(et,0,0),ut=d$3(tt.toString()).mul(ct),bt=ut.add(at.toString()),wt=ut.div(bt),Et=d$3(at.toString()).div(bt);return{ratioA:wt,ratioB:Et}}};function removeHexPrefix(a){return a.startsWith("0x")?`${a.slice(2)}`:a}var EQUAL=0,LESS_THAN=1,GREATER_THAN=2;function cmp(a,s){return a===s?EQUAL:a<s?LESS_THAN:GREATER_THAN}function compare(a,s){let et=0;const tt=a.length<=s.length?a.length:s.length,at=cmp(a.length,s.length);for(;et<tt;){const ct=cmp(a.charCodeAt(et),s.charCodeAt(et));if(et+=1,ct!==0)return ct}return at}function isSortedSymbols(a,s){return compare(a,s)===LESS_THAN}function composeType$1(a,...s){const et=Array.isArray(s[s.length-1])?s.pop():[];let at=[a,...s].filter(Boolean).join("::");return et&&et.length&&(at+=`<${et.join(", ")}>`),at}function extractStructTagFromType$1(a){var s;try{let et=a.replace(/\s/g,"");const tt=et.match(/(<.+>)$/),at=(s=tt==null?void 0:tt[0])==null?void 0:s.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){et=et.slice(0,et.indexOf("<"));const Et={...extractStructTagFromType$1(et),type_arguments:at.map(Ft=>extractStructTagFromType$1(Ft).source_address)};return Et.type_arguments=Et.type_arguments.map(Ft=>CoinAssist.isSuiCoin(Ft)?Ft:extractStructTagFromType$1(Ft).source_address),Et.source_address=composeType$1(Et.full_address,Et.type_arguments),Et}const ct=et.split("::"),bt={full_address:et,address:et===GAS_TYPE_ARG$1||et===GAS_TYPE_ARG_LONG$1?"0x2":normalizeSuiObjectId$1(ct[0]),module:ct[1],name:ct[2],type_arguments:[],source_address:""};return bt.full_address=`${bt.address}::${bt.module}::${bt.name}`,bt.source_address=composeType$1(bt.full_address,bt.type_arguments),bt}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function normalizeCoinType$1(a){return extractStructTagFromType$1(a).source_address}function fixSuiObjectId(a){return a.toLowerCase().startsWith("0x")?normalizeSuiObjectId$1(a):a}var fixCoinType=(a,s=!0)=>{const et=a.split("::"),tt=et.shift();let at=normalizeSuiObjectId$1(tt);return s&&(at=removeHexPrefix(at)),`${at}::${et.join("::")}`};function patchFixSuiObjectId(a){for(const s in a){const et=typeof a[s];if(et==="object")patchFixSuiObjectId(a[s]);else if(et==="string"){const tt=a[s];tt&&!tt.includes("::")&&(a[s]=fixSuiObjectId(tt))}}}var COIN_TYPE$1="0x2::coin::Coin",COIN_TYPE_ARG_REGEX$1=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG$1="0x2::sui::SUI",GAS_TYPE_ARG_LONG$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinAssist=class{static getCoinTypeArg(a){const s=a.type.match(COIN_TYPE_ARG_REGEX$1);return s?s[1]:null}static isSUI(a){const s=CoinAssist.getCoinTypeArg(a);return s?CoinAssist.getCoinSymbol(s)==="SUI":!1}static getCoinSymbol(a){return a.substring(a.lastIndexOf(":")+1)}static getBalance(a){return BigInt(a.fields.balance)}static totalBalance(a,s){let et=BigInt(0);return a.forEach(tt=>{s===tt.coinAddress&&(et+=BigInt(tt.balance))}),et}static getID(a){return a.fields.id.id}static getCoinTypeFromArg(a){return`${COIN_TYPE$1}<${a}>`}static getFaucetCoins(a){const{events:s}=a,et=[];return s==null||s.forEach(tt=>{const{type:at}=tt;if(extractStructTagFromType$1(at).name==="InitEvent"){const ct=tt.parsedJson;et.push({transactionModule:tt.transactionModule,suplyID:ct.suplyID,decimals:ct.decimals})}}),et}static getCoinAssets(a,s){const et=[];return s.forEach(tt=>{normalizeCoinType$1(tt.coinAddress)===normalizeCoinType$1(a)&&et.push(tt)}),et}static isSuiCoin(a){return extractStructTagFromType$1(a).full_address===GAS_TYPE_ARG$1}static selectCoinObjectIdGreaterThanOrEqual(a,s,et=[]){const tt=CoinAssist.selectCoinAssetGreaterThanOrEqual(a,s,et),at=tt.selectedCoins.map(bt=>bt.coinObjectId),ct=tt.remainingCoins,ut=tt.selectedCoins.map(bt=>bt.balance.toString());return{objectArray:at,remainCoins:ct,amountArray:ut}}static selectCoinAssetGreaterThanOrEqual(a,s,et=[]){const tt=CoinAssist.sortByBalance(a.filter(wt=>!et.includes(wt.coinObjectId))),at=CoinAssist.calculateTotalBalance(tt);if(at<s)return{selectedCoins:[],remainingCoins:tt};if(at===s)return{selectedCoins:tt,remainingCoins:[]};let ct=BigInt(0);const ut=[],bt=[...tt];for(;ct<at;){const wt=s-ct,Et=bt.findIndex(jt=>jt.balance>=wt);if(Et!==-1){ut.push(bt[Et]),bt.splice(Et,1);break}const Ft=bt.pop();Ft.balance>0&&(ut.push(Ft),ct+=Ft.balance)}return{selectedCoins:CoinAssist.sortByBalance(ut),remainingCoins:CoinAssist.sortByBalance(bt)}}static sortByBalance(a){return a.sort((s,et)=>s.balance<et.balance?-1:s.balance>et.balance?1:0)}static sortByBalanceDes(a){return a.sort((s,et)=>s.balance>et.balance?-1:s.balance<et.balance?0:1)}static calculateTotalBalance(a){return a.reduce((s,et)=>s+et.balance,BigInt(0))}},Percentage=class{constructor(a,s){dn(this,"numerator");dn(this,"denominator");this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=a,this.denominator=s}static fromDecimal(a){return Percentage.fromFraction(a.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(a,s){const et=typeof a=="number"?new BN(a.toString()):a,tt=typeof s=="number"?new BN(s.toString()):s;return new Percentage(et,tt)}};function adjustForSlippage(a,{numerator:s,denominator:et},tt){return tt?a.mul(et.add(s)).div(et):a.mul(et).div(et.add(s))}function adjustForCoinSlippage(a,s,et){return{tokenMaxA:adjustForSlippage(a.coinA,s,et),tokenMaxB:adjustForSlippage(a.coinB,s,et)}}function d$3(a){return Decimal$1.isDecimal(a)?a:new Decimal$1(a===void 0?0:a)}function decimalsMultiplier(a){return d$3(10).pow(d$3(a).abs())}function getSuiObjectData(a){return a.data}function getObjectDeletedResponse(a){if(a.error&&"object_id"in a.error&&"version"in a.error&&"digest"in a.error){const{error:s}=a;return{objectId:s.object_id,version:s.version,digest:s.digest}}}function getObjectNotExistsResponse(a){if(a.error&&"object_id"in a.error&&!("version"in a.error)&&!("digest"in a.error))return a.error.object_id}function getObjectReference(a){if("reference"in a)return a.reference;const s=getSuiObjectData(a);return s?{objectId:s.objectId,version:s.version,digest:s.digest}:getObjectDeletedResponse(a)}function getObjectId(a){var s;return"objectId"in a?a.objectId:((s=getObjectReference(a))==null?void 0:s.objectId)??getObjectNotExistsResponse(a)}function isSuiObjectResponse(a){return a.data!==void 0}function isSuiObjectDataWithContent(a){return a.content!==void 0}function getMoveObject(a){const s="data"in a?getSuiObjectData(a):a;if(!(!s||!isSuiObjectDataWithContent(s)||s.content.dataType!=="moveObject"))return s.content}function getMoveObjectType(a){var s;return(s=getMoveObject(a))==null?void 0:s.type}function getObjectType(a){var et;const s=isSuiObjectResponse(a)?a.data:a;return!(s!=null&&s.type)&&"data"in a?((et=s==null?void 0:s.content)==null?void 0:et.dataType)==="package"?"package":getMoveObjectType(a):s==null?void 0:s.type}function getObjectPreviousTransactionDigest(a){var s;return(s=getSuiObjectData(a))==null?void 0:s.previousTransaction}function getObjectOwner(a){var s;return(s=getSuiObjectData(a))==null?void 0:s.owner}function getObjectDisplay(a){var et;const s=(et=getSuiObjectData(a))==null?void 0:et.display;return s||{data:null,error:null}}function getObjectFields(a){var et;const s=(et=getMoveObject(a))==null?void 0:et.fields;if(s)return"fields"in s?s.fields:s}function toDecimalsAmount(a,s){const et=decimalsMultiplier(d$3(s));return Number(d$3(a).mul(et))}function asUintN(a,s=32){return BigInt.asUintN(s,BigInt(a)).toString()}function asIntN(a,s=32){return Number(BigInt.asIntN(s,BigInt(a)))}function fromDecimalsAmount(a,s){const et=decimalsMultiplier(d$3(s));return Number(d$3(a).div(et))}function buildPoolName(a,s,et){const tt=extractStructTagFromType$1(a).name,at=extractStructTagFromType$1(s).name;return`${tt}-${at}[${et}]`}function buildPool(a){const s=getMoveObjectType(a),et=extractStructTagFromType$1(s),tt=getObjectFields(a);if(tt==null)throw new ClmmpoolsError(`Pool id ${getObjectId(a)} not exists.`,"InvalidPoolObject");const at=[];tt.rewarder_manager.fields.rewarders.forEach(ut=>{const{emissions_per_second:bt}=ut.fields,wt=MathUtil.fromX64(new BN(bt)),Et=Math.floor(wt.toNumber()*60*60*24);at.push({emissions_per_second:bt,coinAddress:extractStructTagFromType$1(ut.fields.reward_coin.fields.name).source_address,growth_global:ut.fields.growth_global,emissionsEveryDay:Et})});const ct={poolAddress:getObjectId(a),poolType:s,coinTypeA:et.type_arguments[0],coinTypeB:et.type_arguments[1],coinAmountA:tt.coin_a,coinAmountB:tt.coin_b,current_sqrt_price:tt.current_sqrt_price,current_tick_index:asIntN(BigInt(tt.current_tick_index.fields.bits)),fee_growth_global_a:tt.fee_growth_global_a,fee_growth_global_b:tt.fee_growth_global_b,fee_protocol_coin_a:tt.fee_protocol_coin_a,fee_protocol_coin_b:tt.fee_protocol_coin_b,fee_rate:tt.fee_rate,is_pause:tt.is_pause,liquidity:tt.liquidity,position_manager:{positions_handle:tt.position_manager.fields.positions.fields.id.id,size:tt.position_manager.fields.positions.fields.size},rewarder_infos:at,rewarder_last_updated_time:tt.rewarder_manager.fields.last_updated_time,tickSpacing:tt.tick_spacing,ticks_handle:tt.tick_manager.fields.ticks.fields.id.id,uri:tt.url,index:Number(tt.index),name:""};return ct.name=buildPoolName(ct.coinTypeA,ct.coinTypeB,ct.tickSpacing),ct}function buildNFT(a){const s=getObjectDisplay(a).data,et={creator:"",description:"",image_url:"",link:"",name:"",project_url:""};return s&&(et.creator=s.creator,et.description=s.description,et.image_url=s.image_url,et.link=s.link,et.name=s.name,et.project_url=s.project_url),et}function buildPosition(a){var ut,bt;if(a.error!=null||((bt=(ut=a.data)==null?void 0:ut.content)==null?void 0:bt.dataType)!=="moveObject")throw new ClmmpoolsError(`Position not exists. Get Position error:${a.error}`,"InvalidPositionObject");let s={creator:"",description:"",image_url:"",link:"",name:"",project_url:""},et={...s,pos_object_id:"",owner:"",type:"",coin_type_a:"",coin_type_b:"",liquidity:"",tick_lower_index:0,tick_upper_index:0,index:0,pool:"",reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"},tt=getObjectFields(a);if(tt){const wt=getMoveObjectType(a),Et=getObjectOwner(a);"nft"in tt?(tt=tt.nft.fields,s.description=tt.description,s.name=tt.name,s.link=tt.url):s=buildNFT(a),et={...s,pos_object_id:tt.id.id,owner:Et.AddressOwner,type:wt,liquidity:tt.liquidity,coin_type_a:tt.coin_type_a.fields.name,coin_type_b:tt.coin_type_b.fields.name,tick_lower_index:asIntN(BigInt(tt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(tt.tick_upper_index.fields.bits)),index:tt.index,pool:tt.pool,reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"}}const at=getObjectDeletedResponse(a);at&&(et.pos_object_id=at.objectId,et.position_status="Deleted");const ct=getObjectNotExistsResponse(a);return ct&&(et.pos_object_id=ct,et.position_status="NotExists"),et}function buildPositionReward(a){const s={reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0"};a="fields"in a?a.fields:a,a.rewards.forEach((ct,ut)=>{const{amount_owned:bt,growth_inside:wt}="fields"in ct?ct.fields:ct;ut===0?(s.reward_amount_owed_0=bt,s.reward_growth_inside_0=wt):ut===1?(s.reward_amount_owed_1=bt,s.reward_growth_inside_1=wt):ut===2&&(s.reward_amount_owed_2=bt,s.reward_growth_inside_2=wt)});const et="fields"in a.tick_lower_index?a.tick_lower_index.fields.bits:a.tick_lower_index.bits,tt="fields"in a.tick_upper_index?a.tick_upper_index.fields.bits:a.tick_upper_index.bits;return{liquidity:a.liquidity,tick_lower_index:asIntN(BigInt(et)),tick_upper_index:asIntN(BigInt(tt)),...s,fee_growth_inside_a:a.fee_growth_inside_a,fee_owed_a:a.fee_owned_a,fee_growth_inside_b:a.fee_growth_inside_b,fee_owed_b:a.fee_owned_b,pos_object_id:a.position_id}}function buildTickData(a){var at,ct;if(a.error!=null||((ct=(at=a.data)==null?void 0:at.content)==null?void 0:ct.dataType)!=="moveObject")throw new ClmmpoolsError(`Tick not exists. Get tick data error:${a.error}`,"InvalidTickObject");const et=getObjectFields(a).value.fields.value.fields;return{objectId:getObjectId(a),index:asIntN(BigInt(et.index.fields.bits)),sqrtPrice:new BN(et.sqrt_price),liquidityNet:new BN(et.liquidity_net.fields.bits),liquidityGross:new BN(et.liquidity_gross),feeGrowthOutsideA:new BN(et.fee_growth_outside_a),feeGrowthOutsideB:new BN(et.fee_growth_outside_b),rewardersGrowthOutside:et.rewards_growth_outside}}function buildTickDataByEvent(a){if(!a||!a.index||!a.sqrt_price||!a.liquidity_net||!a.liquidity_gross||!a.fee_growth_outside_a||!a.fee_growth_outside_b)throw new ClmmpoolsError("Invalid tick fields.","InvalidTickFields");const s=asIntN(BigInt(a.index.bits)),et=new BN(a.sqrt_price),tt=new BN(a.liquidity_net.bits),at=new BN(a.liquidity_gross),ct=new BN(a.fee_growth_outside_a),ut=new BN(a.fee_growth_outside_b),bt=a.rewards_growth_outside||[];return{objectId:"",index:s,sqrtPrice:et,liquidityNet:tt,liquidityGross:at,feeGrowthOutsideA:ct,feeGrowthOutsideB:ut,rewardersGrowthOutside:bt}}function buildPositionTransactionInfo(a,s,et){const tt=[],{timestampMs:at,events:ct}=a,ut=["AddLiquidityEvent","RemoveLiquidityEvent","CollectFeeEvent","CollectRewardEvent","CollectRewardV2Event","HarvestEvent"];return ct==null||ct.forEach((bt,wt)=>{const Et=extractStructTagFromType$1(bt.type).name;if(ut.includes(Et)){const Ft={txDigest:bt.id.txDigest,packageId:bt.packageId,transactionModule:bt.transactionModule,sender:bt.sender,type:bt.type,timestampMs:at||"0",parsedJson:bt.parsedJson,index:`${s}_${wt}`};switch(Et){case"CollectFeeEvent":et.includes(Ft.parsedJson.position)&&(d$3(Ft.parsedJson.amount_a).gt(0)||d$3(Ft.parsedJson.amount_b).gt(0))&&tt.push(Ft);break;case"RemoveLiquidityEvent":case"AddLiquidityEvent":(d$3(Ft.parsedJson.amount_a).gt(0)||d$3(Ft.parsedJson.amount_b).gt(0))&&tt.push(Ft);break;case"CollectRewardEvent":case"HarvestEvent":case"CollectRewardV2Event":(et.includes(Ft.parsedJson.position)||et.includes(Ft.parsedJson.wrapped_position_id))&&d$3(Ft.parsedJson.amount).gt(0)&&tt.push(Ft);break}}}),tt}function buildPoolTransactionInfo(a,s,et,tt){const at=[],{timestampMs:ct,events:ut}=a;return ut==null||ut.forEach((bt,wt)=>{const{name:Et,address:Ft}=extractStructTagFromType$1(bt.type);if(poolFilterEvenTypes.includes(Et)&&Ft===et&&tt===bt.parsedJson.pool){const jt={tx:bt.id.txDigest,sender:bt.sender,type:bt.type,block_time:ct||"0",index:`${s}_${wt}`,parsedJson:bt.parsedJson};at.push(jt)}}),at}var TickUtil=class{static getMinIndex(a){return MIN_TICK_INDEX+Math.abs(MIN_TICK_INDEX)%a}static getMaxIndex(a){return MAX_TICK_INDEX-MAX_TICK_INDEX%a}};function getNearestTickByTick(a,s){const et=Math.abs(a)%s;return a>0?et>s/2?a+s-et:a-et:et>s/2?a-s+et:a+et}function getRewardInTickRange(a,s,et,tt,at,ct){const ut=a.rewarder_infos,bt=[];for(let wt=0;wt<ut.length;wt+=1){let Et=ct[wt];s!==null&&(a.current_tick_index<tt?Et=ct[wt].sub(new BN(s.rewardersGrowthOutside[wt])):Et=s.rewardersGrowthOutside[wt]);let Ft=new BN(0);et!==null&&(a.current_tick_index>=at?Ft=ct[wt].sub(new BN(et.rewardersGrowthOutside[wt])):Ft=et.rewardersGrowthOutside[wt]);const jt=MathUtil.subUnderflowU128(MathUtil.subUnderflowU128(new BN(ct[wt]),new BN(Et)),new BN(Ft));bt.push(jt)}return bt}function findAdjustCoin(a){const s=CoinAssist.isSuiCoin(a.coinTypeA),et=CoinAssist.isSuiCoin(a.coinTypeB);return{isAdjustCoinA:s,isAdjustCoinB:et}}function reverSlippageAmount(a,s){return Decimal$1.ceil(d$3(a).div(1+s)).toString()}var _TransactionUtil=class{static createCollectRewarderAndFeeParams(a,s,et,tt,at,ct){at===void 0&&(at=[...tt]),ct===void 0&&(ct=[...tt]);const ut=normalizeCoinType$1(et.coinTypeA),bt=normalizeCoinType$1(et.coinTypeB);if(et.collect_fee){const Et=_TransactionUtil.buildCoinForAmount(s,at,BigInt(0),ut,!1);at=Et.remainCoins;const Ft=_TransactionUtil.buildCoinForAmount(s,ct,BigInt(0),bt,!1);ct=Ft.remainCoins,s=a.Position.createCollectFeePaylod({pool_id:et.pool_id,pos_id:et.pos_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},s,Et.targetCoin,Ft.targetCoin)}const wt=[];return et.rewarder_coin_types.forEach(Et=>{switch(normalizeCoinType$1(Et)){case ut:wt.push(_TransactionUtil.buildCoinForAmount(s,at,BigInt(0),Et,!1).targetCoin);break;case bt:wt.push(_TransactionUtil.buildCoinForAmount(s,ct,BigInt(0),Et,!1).targetCoin);break;default:wt.push(_TransactionUtil.buildCoinForAmount(s,tt,BigInt(0),Et,!1).targetCoin);break}}),s=a.Rewarder.createCollectRewarderPaylod(et,s,wt),s}static async adjustTransactionForGas(a,s,et,tt){tt.setSender(a.senderAddress);const at=CoinAssist.selectCoinAssetGreaterThanOrEqual(s,et).selectedCoins;if(at.length===0)throw new ClmmpoolsError("Insufficient balance","InsufficientBalance");const ct=CoinAssist.calculateTotalBalance(s);if(ct-et>1e9)return{fixAmount:et};const ut=await a.fullClient.calculationTxGas(tt);if(CoinAssist.selectCoinAssetGreaterThanOrEqual(s,BigInt(ut),at.map(wt=>wt.coinObjectId)).selectedCoins.length===0){const wt=BigInt(ut)+BigInt(500);if(ct-et<wt){if(et-=wt,et<0)throw new ClmmpoolsError("gas Insufficient balance","InsufficientBalance");const Et=new Transaction;return{fixAmount:et,newTx:Et}}}return{fixAmount:et}}static async buildAddLiquidityFixTokenForGas(a,s,et,tt,at,ct,ut){at=await _TransactionUtil.buildAddLiquidityFixToken(a,s,et,at,ct,ut);const{isAdjustCoinA:bt}=findAdjustCoin(et),wt=bt?et.amount_a:et.amount_b,Et=await _TransactionUtil.adjustTransactionForGas(a,CoinAssist.getCoinAssets(bt?et.coinTypeA:et.coinTypeB,s),BigInt(wt),at),{fixAmount:Ft}=Et,{newTx:jt}=Et;if(jt!=null){let Lt,Ut;if(bt)et.amount_a=Number(Ft),Lt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeA,s,!1,!0),Ut=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0);else return et.amount_b=Number(Ft),Lt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),Ut=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeB,s,!1,!0),et=_TransactionUtil.fixAddLiquidityFixTokenParams(et,tt.slippage,tt.curSqrtPrice),at=await _TransactionUtil.buildAddLiquidityFixTokenArgs(jt,a,s,et,Lt,Ut),at}return at}static async buildAddLiquidityFixToken(a,s,et,tt,at,ct){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");tt=tt||new Transaction;let ut,bt;return at==null||ct==null?(ut=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(tt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),bt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(tt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0)):(ut={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},bt={targetCoin:ct,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),tt=_TransactionUtil.buildAddLiquidityFixTokenArgs(tt,a,s,et,ut,bt),tt}static buildAddLiquidityFixTokenCoinInput(a,s,et,tt,at,ct,ut=!0,bt=!0){return s?_TransactionUtil.buildCoinForAmountInterval(a,ct,{amountSecond:BigInt(reverSlippageAmount(et,tt)),amountFirst:BigInt(et)},at,ut,bt):_TransactionUtil.buildCoinForAmount(a,ct,BigInt(et),at,ut,bt)}static fixAddLiquidityFixTokenParams(a,s,et){const tt=a.fix_amount_a?a.amount_a:a.amount_b,at=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(Number(a.tick_lower),Number(a.tick_upper),new BN(tt),a.fix_amount_a,!0,s,et);return a.amount_a=a.fix_amount_a?a.amount_a:at.tokenMaxA.toNumber(),a.amount_b=a.fix_amount_a?at.tokenMaxB.toNumber():a.amount_b,a}static buildAddLiquidityFixTokenArgs(a,s,et,tt,at,ct){const ut=[tt.coinTypeA,tt.coinTypeB],bt=tt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:wt,integrate:Et}=s.sdkOptions;tt.is_open||(a=_TransactionUtil.createCollectRewarderAndFeeParams(s,a,tt,et,at.remainCoins,ct.remainCoins));const Ft=getPackagerConfigs(wt),jt=tt.is_open?[a.object(Ft.global_config_id),a.object(tt.pool_id),a.pure.u32(Number(asUintN(BigInt(tt.tick_lower)).toString())),a.pure.u32(Number(asUintN(BigInt(tt.tick_upper)).toString())),at.targetCoin,ct.targetCoin,a.pure.u64(tt.amount_a),a.pure.u64(tt.amount_b),a.pure.bool(tt.fix_amount_a),a.object(CLOCK_ADDRESS$1)]:[a.object(Ft.global_config_id),a.object(tt.pool_id),a.object(tt.pos_id),at.targetCoin,ct.targetCoin,a.pure.u64(tt.amount_a),a.pure.u64(tt.amount_b),a.pure.bool(tt.fix_amount_a),a.object(CLOCK_ADDRESS$1)];return a.moveCall({target:`${Et.published_at}::${ClmmIntegratePoolV2Module}::${bt}`,typeArguments:ut,arguments:jt}),a}static async buildSwapTransactionForGas(a,s,et,tt){let at=_TransactionUtil.buildSwapTransaction(a,s,et);at.setSender(a.senderAddress);const ct=await _TransactionUtil.adjustTransactionForGas(a,CoinAssist.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:ut,newTx:bt}=ct;if(bt!==void 0){bt.setSender(a.senderAddress),s.by_amount_in?s.amount=ut.toString():s.amount_limit=ut.toString(),s=await _TransactionUtil.fixSwapParams(a,s,tt);const wt=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA),Et=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB);at=_TransactionUtil.buildSwapTransactionArgs(bt,s,a.sdkOptions,wt,Et)}return at}static buildSwapTransaction(a,s,et){let tt=new Transaction;tt.setSender(a.senderAddress);const at=_TransactionUtil.buildCoinForAmount(tt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1),ct=_TransactionUtil.buildCoinForAmount(tt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1);return tt=_TransactionUtil.buildSwapTransactionArgs(tt,s,a.sdkOptions,at,ct),tt}static buildSwapTransactionArgs(a,s,et,tt,at){const{clmm_pool:ct,integrate:ut}=et,bt=SwapUtils.getDefaultSqrtPriceLimit(s.a2b),wt=[s.coinTypeA,s.coinTypeB],{global_config_id:Et}=getPackagerConfigs(ct);if(Et===void 0)throw Error("clmm.config.global_config_id is undefined");const Ft=s.swap_partner!==void 0,jt=Ft?s.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":s.a2b?"swap_a2b":"swap_b2a",Lt=Ft?[a.object(Et),a.object(s.pool_id),a.object(s.swap_partner),tt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128(bt.toString()),a.object(CLOCK_ADDRESS$1)]:[a.object(Et),a.object(s.pool_id),tt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128(bt.toString()),a.object(CLOCK_ADDRESS$1)];return a.moveCall({target:`${ut.published_at}::${ClmmIntegratePoolV2Module}::${jt}`,typeArguments:wt,arguments:Lt}),a}static async buildSwapTransactionWithoutTransferCoinsForGas(a,s,et,tt){let{tx:at,coinABs:ct}=_TransactionUtil.buildSwapTransactionWithoutTransferCoins(a,s,et);at.setSender(a.senderAddress);const ut=await _TransactionUtil.adjustTransactionForGas(a,CoinAssist.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:bt,newTx:wt}=ut;if(wt!==void 0){wt.setSender(a.senderAddress),s.by_amount_in?s.amount=bt.toString():s.amount_limit=bt.toString(),s=await _TransactionUtil.fixSwapParams(a,s,tt);const Et=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),Ft=_TransactionUtil.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),jt=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(a,wt,s,a.sdkOptions,Et,Ft);at=jt.tx,ct=jt.txRes}return{tx:at,coinABs:ct}}static buildSwapTransactionWithoutTransferCoins(a,s,et){const tt=new Transaction;tt.setSender(a.senderAddress);const at=_TransactionUtil.buildCoinForAmount(tt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),ct=_TransactionUtil.buildCoinForAmount(tt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),ut=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(a,tt,s,a.sdkOptions,at,ct);return{tx:ut.tx,coinABs:ut.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(a,s,et,tt,at,ct){const{clmm_pool:ut,integrate:bt}=tt,wt=SwapUtils.getDefaultSqrtPriceLimit(et.a2b),{global_config_id:Et}=getPackagerConfigs(ut);if(Et===void 0)throw Error("clmm.config.global_config_id is undefined");const Ft=et.swap_partner!==void 0,jt=Ft?"swap_with_partner":"swap",Lt=Ft?ClmmIntegrateRouterWithPartnerModule:ClmmIntegrateRouterModule,Ut=Ft?[s.object(Et),s.object(et.pool_id),s.object(et.swap_partner),at.targetCoin,ct.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(wt.toString()),s.pure.bool(!1),s.object(CLOCK_ADDRESS$1)]:[s.object(Et),s.object(et.pool_id),at.targetCoin,ct.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(wt.toString()),s.pure.bool(!1),s.object(CLOCK_ADDRESS$1)],Vt=[et.coinTypeA,et.coinTypeB],Yt=s.moveCall({target:`${bt.published_at}::${Lt}::${jt}`,typeArguments:Vt,arguments:Ut});if(et.by_amount_in){const er=et.a2b?et.coinTypeB:et.coinTypeA,tr=et.a2b?Yt[1]:Yt[0],nr=Number(et.amount_limit);this.checkCoinThreshold(a,et.by_amount_in,s,tr,nr,er)}return{tx:s,txRes:Yt}}static async fixSwapParams(a,s,et){const{currentPool:tt}=et;try{const at=await a.Swap.preswap({decimalsA:et.decimalsA,decimalsB:et.decimalsB,a2b:s.a2b,byAmountIn:s.by_amount_in,amount:s.amount,pool:tt,currentSqrtPrice:tt.current_sqrt_price,coinTypeA:tt.coinTypeA,coinTypeB:tt.coinTypeB}),ct=et.byAmountIn?at.estimatedAmountOut:at.estimatedAmountIn,ut=adjustForSlippage(ct,et.slippage,!et.byAmountIn);s.amount_limit=ut.toString()}catch(at){console.log("fixSwapParams",at)}return s}static async syncBuildCoinInputForAmount(a,s,et,tt,at=!0,ct=!0){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const ut=await a.getOwnerCoinAssets(a.senderAddress,tt);return _TransactionUtil.buildCoinForAmount(s,ut,et,tt,at,ct).targetCoin}static buildCoinForAmount(a,s,et,tt,at=!0,ct=!0){const ut=CoinAssist.getCoinAssets(tt,s);if(et===BigInt(0))return _TransactionUtil.buildZeroValueCoin(s,a,tt,at);const bt=CoinAssist.calculateTotalBalance(ut);if(bt<et)throw new ClmmpoolsError(`The amount(${bt}) is Insufficient balance for ${tt} , expect ${et} `,"InsufficientBalance");return _TransactionUtil.buildCoin(a,s,ut,et,tt,at,ct)}static buildCoinWithBalance(a,s){return a===BigInt(0)&&CoinAssist.isSuiCoin(s)?coinWithBalance({balance:a,useGasCoin:!1}):coinWithBalance({balance:a,type:s})}static buildVectorCoin(a,s,et,tt,at,ct=!0){if(CoinAssist.isSuiCoin(at)){const jt=a.splitCoins(a.gas,[a.pure.u64(tt)]);return{targetCoin:a.makeMoveVec({elements:[jt]}),remainCoins:s,tragetCoinAmount:tt.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}const{targetCoin:ut,originalSplitedCoin:bt,tragetCoinAmount:wt,selectedCoinsResult:Et,coinObjectIds:Ft}=this.buildSpitTargeCoin(a,tt,et,ct);return ct?{targetCoin:a.makeMoveVec({elements:[ut]}),remainCoins:Et.remainCoins,originalSplitedCoin:bt,tragetCoinAmount:wt,isMintZeroCoin:!1}:{targetCoin:a.makeMoveVec({elements:Ft.map(jt=>a.object(jt))}),remainCoins:Et.remainCoins,tragetCoinAmount:Et.amountArray.reduce((jt,Lt)=>Number(jt)+Number(Lt),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(a,s,et,tt,at=!0){if(CoinAssist.isSuiCoin(tt)){if(et===0n&&s.length>1){const jt=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.object(jt.objectArray[0]),remainCoins:jt.remainCoins,tragetCoinAmount:jt.amountArray[0],isMintZeroCoin:!1}}const Et=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.splitCoins(a.gas,[a.pure.u64(et)]),remainCoins:Et.remainCoins,tragetCoinAmount:et.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}const{targetCoin:ct,originalSplitedCoin:ut,tragetCoinAmount:bt,selectedCoinsResult:wt}=this.buildSpitTargeCoin(a,et,s,at);return{targetCoin:ct,remainCoins:wt.remainCoins,originalSplitedCoin:ut,tragetCoinAmount:bt,isMintZeroCoin:!1}}static buildSpitTargeCoin(a,s,et,tt){const at=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(et,s),ct=at.amountArray.reduce((Ut,Vt)=>Number(Ut)+Number(Vt),0).toString(),ut=at.objectArray,[bt,...wt]=ut,Et=a.object(bt);let Ft=Et;const jt=at.amountArray.reduce((Ut,Vt)=>Number(Ut)+Number(Vt),0).toString();let Lt;return wt.length>0&&a.mergeCoins(Et,wt.map(Ut=>a.object(Ut))),tt&&Number(ct)>Number(s)&&(Ft=a.splitCoins(Et,[a.pure.u64(s)]),Lt=Et),{originalSplitedCoin:Lt,targetCoin:Ft,tragetCoinAmount:jt,selectedCoinsResult:at,coinObjectIds:ut}}static buildCoin(a,s,et,tt,at,ct=!0,ut=!0){return ct?this.buildVectorCoin(a,s,et,tt,at,ut):this.buildOneCoin(a,et,tt,at,ut)}static buildZeroValueCoin(a,s,et,tt=!0){const at=_TransactionUtil.callMintZeroValueCoin(s,et);let ct;return tt?ct=s.makeMoveVec({elements:[at]}):ct=at,{targetCoin:ct,remainCoins:a,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(a,s,et,tt,at=!0,ct=!0){const ut=CoinAssist.getCoinAssets(tt,s);if(et.amountFirst===BigInt(0))return ut.length>0?_TransactionUtil.buildCoin(a,[...s],[...ut],et.amountFirst,tt,at,ct):_TransactionUtil.buildZeroValueCoin(s,a,tt,at);const bt=CoinAssist.calculateTotalBalance(ut);if(bt>=et.amountFirst)return _TransactionUtil.buildCoin(a,[...s],[...ut],et.amountFirst,tt,at,ct);if(bt<et.amountSecond)throw new ClmmpoolsError(`The amount(${bt}) is Insufficient balance for ${tt} , expect ${et.amountSecond} `,"InsufficientBalance");return _TransactionUtil.buildCoin(a,[...s],[...ut],et.amountSecond,tt,at,ct)}static async buildRouterSwapTransaction(a,s,et,tt,at){let ct=new Transaction;return s.paths.length>1&&(s.partner=""),ct=await this.buildRouterBasePathTx(a,s,et,tt,ct,at),ct}static async buildRouterBasePathTx(a,s,et,tt,at,ct){const ut=s.paths.filter(ir=>ir&&ir.poolAddress),bt=Number(ut.reduce((ir,lr)=>ir.add(lr.amountIn),ZERO$1).toString()),wt=Number(ut.reduce((ir,lr)=>ir.add(lr.amountOut),ZERO$1).toString()),Et=Math.round(et?Number(wt.toString())*(1-s.priceSlippagePoint):Number(bt.toString())*(1+s.priceSlippagePoint)),Ft=s.paths[0].coinType[0],jt=s.paths[0].coinType[s.paths[0].coinType.length-1],Lt=_TransactionUtil.buildCoinForAmount(at,tt,BigInt(et?bt:Et),Ft,!1,!0),Ut=Lt.originalSplitedCoin!==void 0,Vt=_TransactionUtil.buildCoinForAmount(at,tt,0n,jt,!1),Yt=await this.buildRouterBasePathReturnCoins(a,s,et,Lt,Vt,at),er=[],{toCoin:tr,fromCoin:nr}=Yt;if(at=Yt.tx,Vt.isMintZeroCoin?er.push({coinType:jt,coin:tr}):Vt.originalSplitedCoin!==void 0?at.mergeCoins(Vt.originalSplitedCoin,[tr]):at.mergeCoins(Vt.targetCoin,[tr]),Ut){const ir=Lt==null?void 0:Lt.originalSplitedCoin;at.mergeCoins(ir,[nr])}else er.push({coinType:Ft,coin:nr});for(let ir=0;ir<er.length;ir++)this.buildTransferCoin(a,at,er[ir].coin,er[ir].coinType,ct);return at}static async buildRouterBasePathReturnCoins(a,s,et,tt,at,ct){const{clmm_pool:ut,integrate:bt}=a.sdkOptions,wt=getPackagerConfigs(ut).global_config_id,Et=s.paths.filter(ir=>ir&&ir.poolAddress),Ft=Number(Et.reduce((ir,lr)=>ir.add(lr.amountIn),ZERO$1).toString()),jt=Number(Et.reduce((ir,lr)=>ir.add(lr.amountOut),ZERO$1).toString()),Lt=Math.round(et?Number(jt.toString())*(1-s.priceSlippagePoint):Number(Ft.toString())*(1+s.priceSlippagePoint)),Ut=s.paths[0].coinType[0],Vt=s.paths[0].coinType[s.paths[0].coinType.length-1];let Yt=tt.targetCoin,er;at.isMintZeroCoin||at.originalSplitedCoin!==void 0?er=at.targetCoin:er=_TransactionUtil.callMintZeroValueCoin(ct,Vt);const tr=s.partner==="",nr=tr?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule;for(const ir of Et)if(ir.poolAddress.length===1){const lr=ir.a2b[0],pr={amount:Number(ir.amountIn.toString()),poolCoinA:ir.a2b[0]?Ut:Vt,poolCoinB:ir.a2b[0]?Vt:Ut},yr=tr?"swap":"swap_with_partner",br=lr?Yt:er,xr=lr?er:Yt,Er=et?ir.amountIn.toString():ir.amountOut.toString(),$r=SwapUtils.getDefaultSqrtPriceLimit(lr).toString(),Sr=tr?[ct.object(wt),ct.object(ir.poolAddress[0]),br,xr,ct.pure.bool(lr),ct.pure.bool(et),ct.pure.u64(Er),ct.pure.u128($r),ct.pure.bool(!1),ct.object(CLOCK_ADDRESS$1)]:[ct.object(wt),ct.object(ir.poolAddress[0]),ct.object(s.partner),br,xr,ct.pure.bool(lr),ct.pure.bool(et),ct.pure.u64(Er),ct.pure.u128($r),ct.pure.bool(!1),ct.object(CLOCK_ADDRESS$1)],fr=[pr.poolCoinA,pr.poolCoinB],vr=ct.moveCall({target:`${a.sdkOptions.integrate.published_at}::${nr}::${yr}`,typeArguments:fr,arguments:Sr});Yt=lr?vr[0]:vr[1],er=lr?vr[1]:vr[0]}else{const lr=et?ir.amountIn:ir.rawAmountLimit[0],pr=et?0:ir.amountOut;let yr="";ir.a2b[0]?ir.a2b[1]?yr="swap_ab_bc":yr="swap_ab_cb":ir.a2b[1]?yr="swap_ba_bc":yr="swap_ba_cb",tr||(yr=`${yr}_with_partner`);const br=SwapUtils.getDefaultSqrtPriceLimit(ir.a2b[0]),xr=SwapUtils.getDefaultSqrtPriceLimit(ir.a2b[1]),Er=tr?[ct.object(wt),ct.object(ir.poolAddress[0]),ct.object(ir.poolAddress[1]),Yt,er,ct.pure.bool(et),ct.pure.u64(lr.toString()),ct.pure.u64(pr.toString()),ct.pure.u128(br.toString()),ct.pure.u128(xr.toString()),ct.object(CLOCK_ADDRESS$1)]:[ct.object(wt),ct.object(ir.poolAddress[0]),ct.object(ir.poolAddress[1]),ct.object(s.partner),Yt,er,ct.pure.bool(et),ct.pure.u64(lr.toString()),ct.pure.u64(pr.toString()),ct.pure.u128(br.toString()),ct.pure.u128(xr.toString()),ct.object(CLOCK_ADDRESS$1)],$r=[ir.coinType[0],ir.coinType[1],ir.coinType[2]],Sr=ct.moveCall({target:`${bt.published_at}::${nr}::${yr}`,typeArguments:$r,arguments:Er});Yt=Sr[0],er=Sr[1]}return this.checkCoinThreshold(a,et,ct,er,Lt,Vt),{fromCoin:Yt,toCoin:er,tx:ct}}static async buildAggregatorSwapReturnCoins(a,s,et,tt,at,ct,ut,bt){if(bt==null){if(a.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");bt=a.senderAddress}s.splitPaths.length>1&&(at="");let wt,Et;const Ft=s.splitPaths.some(jt=>jt.basePaths.some(Lt=>Lt.label==="Deepbook"));if((!s.byAmountIn||s.splitPaths.length===1)&&!Ft){const jt=[];for(const Vt of s.splitPaths){const Yt=[],er=[],tr=[],nr=[];for(let lr=0;lr<Vt.basePaths.length;lr+=1){const pr=Vt.basePaths[lr];Yt.push(pr.direction),er.push(pr.poolAddress),tr.push(new BN(pr.inputAmount.toString())),lr===0?nr.push(pr.fromCoin,pr.toCoin):nr.push(pr.toCoin)}const ir={amountIn:new BN(Vt.inputAmount.toString()),amountOut:new BN(Vt.outputAmount.toString()),poolAddress:er,a2b:Yt,rawAmountLimit:tr,isExceed:!1,coinType:nr};jt.push(ir)}const Lt={paths:jt,partner:at,priceSlippagePoint:ct},Ut=await this.buildRouterBasePathReturnCoins(a,Lt,s.byAmountIn,et,tt,ut);wt=Ut.fromCoin,Et=Ut.toCoin,ut=Ut.tx}else{const jt=Math.round(s.outputAmount*(1-ct));wt=et.targetCoin,tt.isMintZeroCoin||tt.originalSplitedCoin!==void 0?Et=tt.targetCoin:Et=_TransactionUtil.callMintZeroValueCoin(ut,s.toCoin);let Lt=!1,Ut;if(Ft){const[Vt,Yt]=DeepbookUtils.createAccountCap(bt,a.sdkOptions,ut);ut=Yt,Ut=Vt,Lt=!0}for(let Vt=0;Vt<s.splitPaths.length;Vt+=1){const Yt=s.splitPaths[Vt];let er;for(let tr=0;tr<Yt.basePaths.length;tr+=1){const nr=Yt.basePaths[tr];if(nr.label==="Deepbook")if(tr===0)if(Yt.basePaths.length===1){const ir=this.buildDeepbookBasePathTx(a,nr,ut,Ut,wt,Et,!1);wt=ir.from,Et=ir.to}else{er=_TransactionUtil.callMintZeroValueCoin(ut,nr.toCoin);const ir=this.buildDeepbookBasePathTx(a,nr,ut,Ut,wt,er,!1);wt=ir.from,er=ir.to}else{const ir=this.buildDeepbookBasePathTx(a,nr,ut,Ut,er,Et,!0);er=ir.from,Et=ir.to}if(nr.label==="Cetus")if(tr===0)if(Yt.basePaths.length===1){const ir=this.buildClmmBasePathTx(a,nr,ut,s.byAmountIn,wt,Et,!1,at);wt=ir.from,Et=ir.to}else{er=_TransactionUtil.callMintZeroValueCoin(ut,nr.toCoin);const ir=this.buildClmmBasePathTx(a,nr,ut,s.byAmountIn,wt,er,!1,at);wt=ir.from,er=ir.to}else{const ir=this.buildClmmBasePathTx(a,nr,ut,s.byAmountIn,er,Et,!0,at);er=ir.from,Et=ir.to,ut.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::send_coin`,typeArguments:[nr.fromCoin],arguments:[er,ut.pure.address(bt)]})}}}this.checkCoinThreshold(a,s.byAmountIn,ut,Et,jt,s.toCoin),Lt&&(ut=DeepbookUtils.deleteAccountCapByObject(Ut,a.sdkOptions,ut))}return{fromCoin:wt,toCoin:Et,tx:ut}}static async buildAggregatorSwapTransaction(a,s,et,tt,at,ct){let ut=new Transaction;const bt=s.byAmountIn?Math.round(s.outputAmount*(1-at)):Math.round(s.inputAmount*(1+at)),wt=_TransactionUtil.buildCoinForAmount(ut,et,s.byAmountIn?BigInt(s.inputAmount):BigInt(bt),s.fromCoin,!1,!0),Et=wt.originalSplitedCoin!=null,Ft=_TransactionUtil.buildCoinForAmount(ut,et,0n,s.toCoin,!1),jt=await this.buildAggregatorSwapReturnCoins(a,s,wt,Ft,tt,at,ut,ct),{fromCoin:Lt,toCoin:Ut}=jt;ut=jt.tx;const Vt=[];if(Ft.isMintZeroCoin?Vt.push({coinType:s.toCoin,coin:Ut}):Ft.originalSplitedCoin!=null?ut.mergeCoins(Ft.originalSplitedCoin,[Ut]):ut.mergeCoins(Ft.targetCoin,[Ut]),Et){const Yt=wt.originalSplitedCoin;ut.mergeCoins(Yt,[Lt])}else Vt.push({coinType:s.fromCoin,coin:Lt});for(let Yt=0;Yt<Vt.length;Yt++)this.buildTransferCoin(a,ut,Vt[Yt].coin,Vt[Yt].coinType,ct);return ut}static checkCoinThreshold(a,s,et,tt,at,ct){s&&et.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ClmmIntegrateRouterModule}::check_coin_threshold`,typeArguments:[ct],arguments:[tt,et.pure.u64(at)]})}static buildDeepbookBasePathTx(a,s,et,tt,at,ct,ut){const bt=s.direction?at:ct,wt=s.direction?ct:at,Et=[et.object(s.poolAddress),tt,et.pure.u64(s.inputAmount),et.pure.u64(0),et.pure.bool(s.direction),bt,wt,et.pure.bool(ut),et.object(CLOCK_ADDRESS$1)],Ft=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],jt=et.moveCall({target:`${a.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Ft,arguments:Et});return at=s.direction?jt[0]:jt[1],ct=s.direction?jt[1]:jt[0],{from:at,to:ct,tx:et}}static buildClmmBasePathTx(a,s,et,tt,at,ct,ut,bt){const{clmm_pool:wt,integrate:Et}=a.sdkOptions,Ft=getPackagerConfigs(wt).global_config_id;let jt=s.direction?at:ct,Lt=s.direction?ct:at;const Ut=bt==="",Vt=Ut?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule,Yt=Ut?"swap":"swap_with_partner",er=tt?s.inputAmount.toString():s.outputAmount.toString(),tr=SwapUtils.getDefaultSqrtPriceLimit(s.direction),nr=Ut?[et.object(Ft),et.object(s.poolAddress),jt,Lt,et.pure.bool(s.direction),et.pure.bool(tt),et.pure.u64(er),et.pure.u128(tr.toString()),et.pure.bool(ut),et.object(CLOCK_ADDRESS$1)]:[et.object(Ft),et.object(s.poolAddress),et.object(bt),jt,Lt,et.pure.bool(s.direction),et.pure.bool(tt),et.pure.u64(er),et.pure.u128(tr.toString()),et.pure.bool(ut),et.object(CLOCK_ADDRESS$1)],ir=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],lr=et.moveCall({target:`${Et.published_at}::${Vt}::${Yt}`,typeArguments:ir,arguments:nr});return jt=lr[0],Lt=lr[1],at=s.direction?jt:Lt,ct=s.direction?Lt:jt,{from:at,to:ct,tx:et}}static buildCoinTypePair(a,s){const et=[];if(a.length===2){const tt=[];tt.push(a[0],a[1]),et.push(tt)}else{const tt=[];tt.push(a[0],a[a.length-1]),et.push(tt);for(let at=1;at<a.length-1;at+=1){if(s[at-1]===0)continue;const ct=[];ct.push(a[0],a[at],a[a.length-1]),et.push(ct)}}return et}static buildTransferCoinToSender(a,s,et,tt){s.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::transfer_coin_to_sender`,typeArguments:[tt],arguments:[et]})}static buildTransferCoin(a,s,et,tt,at){at!=null?s.transferObjects([et],s.pure.address(at)):_TransactionUtil.buildTransferCoinToSender(a,s,et,tt)}},TransactionUtil=_TransactionUtil;__publicField$4(TransactionUtil,"callMintZeroValueCoin",(a,s)=>a.moveCall({target:"0x2::coin::zero",typeArguments:[s]}));function checkInvalidSuiAddress$1(a){return!(!a.startsWith("0x")||a.length!==66)}var FLOAT_SCALING=new BN(1e9),DeepbookUtils=class{static createAccountCap(a,s,et,tt=!1){if(a.length===0)throw Error("this config sdk senderAddress is empty");const{deepbook:at}=s,[ct]=et.moveCall({target:`${at.published_at}::${DeepbookClobV2Moudle}::create_account`,typeArguments:[],arguments:[]});return tt&&et.transferObjects([ct],et.pure.address(a)),[ct,et]}static deleteAccountCap(a,s,et){const{deepbook:tt}=s,at=[et.object(a)];return et.moveCall({target:`${tt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:at}),et}static deleteAccountCapByObject(a,s,et){const{deepbook:tt}=s,at=[a];return et.moveCall({target:`${tt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:at}),et}static async getAccountCap(a,s=!0){const et=await a.fullClient.getOwnedObjectsByPage(a.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:s,showOwner:!0},filter:{MoveModule:{package:a.sdkOptions.deepbook.package_id,module:DeepbookCustodianV2Moudle}}});return et.data.length===0?"":et.data[0].data.objectId}static async getPools(a){const s=a.sdkOptions.deepbook.package_id,et=[];try{(await a.fullClient.queryEventsByPage({MoveEventType:`${s}::clob_v2::PoolCreated`})).data.forEach(at=>{const ct=at.parsedJson;ct&&et.push({poolID:ct.pool_id,tickSize:Number(ct.tick_size),lotSize:Number(ct.lot_size),takerFeeRate:Number(ct.taker_fee_rate),makerRebateRate:Number(ct.maker_rebate_rate),baseAsset:ct.base_asset.name,quoteAsset:ct.quote_asset.name})})}catch(tt){console.log("getPoolImmutables",tt)}return et}static async getPoolAsks(a,s,et,tt){var Lt;const{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:ct}=a.sdkOptions,ut=new Transaction,bt=[],wt=[et,tt],Et=[ut.object(s),ut.pure.u64("0"),ut.pure.u64("999999999999"),ut.object(CLOCK_ADDRESS$1)];ut.moveCall({target:`${ct.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:Et,typeArguments:wt});const jt=(Lt=(await a.fullClient.devInspectTransactionBlock({transactionBlock:ut,sender:at.address})).events)==null?void 0:Lt.filter(Ut=>extractStructTagFromType$1(Ut.type).name==="BookStatus");if(jt.length===0)return bt;for(let Ut=0;Ut<jt[0].parsedJson.depths.length;Ut++){const Vt=jt[0].parsedJson.price[Ut],Yt=jt[0].parsedJson.depths[Ut],er={price:parseInt(Vt,10),quantity:parseInt(Yt,10)};bt.push(er)}return bt}static async getPoolBids(a,s,et,tt){var Lt;const{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:ct}=a.sdkOptions,ut=new Transaction,bt=[],wt=[et,tt],Et=[ut.object(s),ut.pure.u64("0"),ut.pure.u64("999999999999"),ut.object(CLOCK_ADDRESS$1)];ut.moveCall({target:`${ct.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:Et,typeArguments:wt});const jt=(Lt=(await a.fullClient.devInspectTransactionBlock({transactionBlock:ut,sender:at.address})).events)==null?void 0:Lt.filter(Ut=>extractStructTagFromType$1(Ut.type).name==="BookStatus");if(jt.length===0)return bt;for(let Ut=0;Ut<jt[0].parsedJson.depths.length;Ut++){const Vt=jt[0].parsedJson.price[Ut],Yt=jt[0].parsedJson.depths[Ut],er={price:parseInt(Vt,10),quantity:parseInt(Yt,10)};bt.push(er)}return bt}static async preSwap(a,s,et,tt){let at=!1,ct=ZERO$1,ut=new BN(tt),bt=ZERO$1;const wt=new BN(tt);if(et){let Et=await this.getPoolBids(a,s.poolID,s.baseAsset,s.quoteAsset);Et===null&&(at=!0),Et=Et.sort((Ft,jt)=>jt.price-Ft.price);for(let Ft=0;Ft<Et.length;Ft+=1){const jt=new BN(Et[Ft].quantity),Lt=new BN(Et[Ft].price),Ut=jt.mul(new BN(Lt)).mul(new BN(s.takerFeeRate)).div(FLOAT_SCALING).div(FLOAT_SCALING);if(ut.gt(jt))ut=ut.sub(jt),ct=ct.add(jt.mul(Lt).div(FLOAT_SCALING).sub(Ut)),bt=bt.add(Ut);else{const Vt=ut.mul(new BN(Et[Ft].price)).div(FLOAT_SCALING),Yt=Vt.mul(new BN(s.takerFeeRate)).div(FLOAT_SCALING);ct=ct.add(Vt.sub(Yt)),ut=ut.sub(ut),bt=bt.add(Yt)}if(ut.eq(ZERO$1))break}}else{const Et=await this.getPoolAsks(a,s.poolID,s.baseAsset,s.quoteAsset);Et===null&&(at=!0);for(let Ft=0;Ft<Et.length;Ft+=1){const jt=new BN(Et[Ft].price).mul(new BN(Et[Ft].quantity)).div(new BN(1e9)),Lt=jt.mul(new BN(s.takerFeeRate)).div(FLOAT_SCALING),Ut=jt.add(Lt);if(ut.gt(jt))ct=ct.add(new BN(Et[Ft].quantity)),ut=ut.sub(Ut),bt=bt.add(Lt);else{const Vt=new BN(Et[Ft].quantity).div(new BN(s.lotSize)),Yt=Ut.div(Vt),er=ut.div(Yt);ct=ct.add(er.muln(s.lotSize)),ut=ut.sub(er.mul(Yt)),bt=bt.add(er.div(Vt).mul(Lt))}if(ut.eq(ZERO$1))break}}return{poolAddress:s.poolID,estimatedAmountIn:wt.sub(ut).toNumber(),estimatedAmountOut:ct.toNumber(),estimatedFeeAmount:bt,isExceed:at,amount:Number(tt),aToB:et,byAmountIn:!0}}static async simulateSwap(a,s,et,tt,at,ct){var pr;const{deepbook_endpoint_v2:ut}=a.sdkOptions;let bt=new Transaction;const wt=await this.getAccountCap(a);let Et;if(wt===""){const yr=this.createAccountCap(a.senderAddress,a.sdkOptions,bt),br=yr[0];bt=yr[1],Et=br}else Et=bt.object(wt);const Ft=await a.getOwnerCoinAssets(a.senderAddress),jt=TransactionUtil.buildCoinForAmount(bt,Ft,BigInt(ct),et,!1),Lt=jt==null?void 0:jt.targetCoin,Ut=TransactionUtil.buildCoinForAmount(bt,Ft,BigInt(ct),tt,!1),Vt=Ut==null?void 0:Ut.targetCoin,Yt=[et,tt],er=[bt.object(s),Et,bt.pure.u64(ct),bt.pure.u64(0),bt.pure.bool(at),Lt,Vt,bt.object(CLOCK_ADDRESS$1)];bt.moveCall({target:`${ut.published_at}::${DeepbookEndpointsV2Moudle}::swap`,arguments:er,typeArguments:Yt});const{simulationAccount:tr}=a.sdkOptions,ir=(pr=(await a.fullClient.devInspectTransactionBlock({transactionBlock:bt,sender:tr.address})).events)==null?void 0:pr.filter(yr=>extractStructTagFromType$1(yr.type).name==="DeepbookSwapEvent");if(ir.length===0)return null;const lr=ir[0].parsedJson;return{poolAddress:lr.pool,estimatedAmountIn:lr.amount_in,estimatedAmountOut:lr.amount_out,aToB:lr.atob}}},RpcModule=class extends SuiClient{async queryEventsByPage(a,s="all"){let et=[],tt=!0;const at=s==="all";let ct=at?null:s.cursor;do{const ut=await this.queryEvents({query:a,cursor:ct,limit:at?null:s.limit});ut.data?(et=[...et,...ut.data],tt=ut.hasNextPage,ct=ut.nextCursor):tt=!1}while(at&&tt);return{data:et,nextCursor:ct,hasNextPage:tt}}async queryTransactionBlocksByPage(a,s="all",et="ascending"){let tt=[],at=!0;const ct=s==="all";let ut=ct?null:s.cursor;do{const bt=await this.queryTransactionBlocks({filter:a,cursor:ut,order:et,limit:ct?null:s.limit,options:{showEvents:!0}});bt.data?(tt=[...tt,...bt.data],at=bt.hasNextPage,ut=bt.nextCursor):at=!1}while(ct&&at);return{data:tt,nextCursor:ut,hasNextPage:at}}async getOwnedObjectsByPage(a,s,et="all"){let tt=[],at=!0;const ct=et==="all";let ut=ct?null:et.cursor;do{const bt=await this.getOwnedObjects({owner:a,...s,cursor:ut,limit:ct?null:et.limit});bt.data?(tt=[...tt,...bt.data],at=bt.hasNextPage,ut=bt.nextCursor):at=!1}while(ct&&at);return{data:tt,nextCursor:ut,hasNextPage:at}}async getDynamicFieldsByPage(a,s="all"){let et=[],tt=!0;const at=s==="all";let ct=at?null:s.cursor;do{const ut=await this.getDynamicFields({parentId:a,cursor:ct,limit:at?null:s.limit});ut.data?(et=[...et,...ut.data],tt=ut.hasNextPage,ct=ut.nextCursor):tt=!1}while(at&&tt);return{data:et,nextCursor:ct,hasNextPage:tt}}async batchGetObjects(a,s,et=50){let tt=[];try{for(let at=0;at<Math.ceil(a.length/et);at++){const ct=await this.multiGetObjects({ids:a.slice(at*et,et*(at+1)),options:s});tt=[...tt,...ct]}}catch(at){console.log(at)}return tt}async calculationTxGas(a){const{sender:s}=a.blockData;if(s===void 0)throw Error("sdk sender is empty");const et=await this.devInspectTransactionBlock({transactionBlock:a,sender:s}),{gasUsed:tt}=et.effects;return Number(tt.computationCost)+Number(tt.storageCost)-Number(tt.storageRebate)}async sendTransaction(a,s){try{return await this.signAndExecuteTransaction({transaction:s,signer:a,options:{showEffects:!0,showEvents:!0}})}catch(et){console.log("error: ",et)}}async sendSimulationTransaction(a,s,et=!0){try{if(et)return await this.devInspectTransactionBlock({transactionBlock:a,sender:s})}catch(tt){console.log("devInspectTransactionBlock error",tt)}}},PoolModule=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPositionList(a,s="all"){const et={data:[],hasNextPage:!0},tt=await this._sdk.fullClient.getDynamicFieldsByPage(a,s);et.hasNextPage=tt.hasNextPage,et.nextCursor=tt.nextCursor;const at=tt.data.map(ut=>{if(ut.error!=null)throw new ClmmpoolsError(`when getPositionList get position objects error: ${ut.error}, please check the rpc, contracts address config and position id.`,"InvalidConfig");return ut.name.value}),ct=await this._sdk.Position.getSipmlePositionList(at);return et.data=ct,et}async getPoolImmutables(a=[],s=0,et=100,tt=!1){const{package_id:at}=this._sdk.sdkOptions.clmm_pool,ct=`${at}_getInitPoolEvent`,ut=this.getCache(ct,tt),bt=[],wt=[];if(ut!==void 0&&bt.push(...ut),bt.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${at}::factory::CreatePoolEvent`})).data.forEach(jt=>{const Lt=jt.parsedJson;Lt&&bt.push({poolAddress:Lt.pool_id,tickSpacing:Lt.tick_spacing,coinTypeA:extractStructTagFromType$1(Lt.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(Lt.coin_type_b).full_address})}),this.updateCache(ct,bt,cacheTime24h)}catch(Ft){console.log("getPoolImmutables",Ft)}const Et=a.length>0;for(let Ft=0;Ft<bt.length;Ft+=1){const jt=bt[Ft];Et&&!a.includes(jt.poolAddress)||!Et&&(Ft<s||Ft>=s+et)||wt.push(jt)}return wt}async getPools(a=[],s=0,et=100){var ut,bt,wt;const tt=[];let at=[];a.length>0?at=[...a]:(await this.getPoolImmutables([],s,et,!1)).forEach(Ft=>at.push(Ft.poolAddress));const ct=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(const Et of ct){if(Et.error!=null||((bt=(ut=Et.data)==null?void 0:ut.content)==null?void 0:bt.dataType)!=="moveObject")throw new ClmmpoolsError(`getPools error code: ${((wt=Et.error)==null?void 0:wt.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Ft=buildPool(Et);tt.push(Ft);const jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,cacheTime24h)}return tt}async getPoolImmutablesWithPage(a="all",s=!1){const{package_id:et}=this._sdk.sdkOptions.clmm_pool,tt=[],at={data:[],hasNextPage:!1},ct=a==="all",ut=`${et}_getPoolImmutables`;if(ct){const bt=this.getCache(ut,s);bt&&tt.push(...bt)}if(tt.length===0)try{const bt=`${et}::factory::CreatePoolEvent`,wt=await this._sdk.fullClient.queryEventsByPage({MoveEventType:bt},a);at.hasNextPage=wt.hasNextPage,at.nextCursor=wt.nextCursor,wt.data.forEach(Et=>{const Ft=Et.parsedJson;if(Ft){const jt={poolAddress:Ft.pool_id,tickSpacing:Ft.tick_spacing,coinTypeA:extractStructTagFromType$1(Ft.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(Ft.coin_type_b).full_address};tt.push(jt)}})}catch(bt){console.log("getPoolImmutables",bt)}return at.data=tt,ct&&this.updateCache(`${et}_getPoolImmutables`,tt,cacheTime24h),at}async getPoolsWithPage(a=[],s="all",et=!1){var ut,bt,wt;const tt=[];let at=[];a.length>0?at=[...a]:(await this.getPoolImmutablesWithPage(s,et)).data.forEach(Ft=>at.push(Ft.poolAddress));const ct=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(const Et of ct){if(Et.error!=null||((bt=(ut=Et.data)==null?void 0:ut.content)==null?void 0:bt.dataType)!=="moveObject")throw new ClmmpoolsError(`getPoolWithPages error code: ${((wt=Et.error)==null?void 0:wt.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Ft=buildPool(Et);tt.push(Ft);const jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,cacheTime24h)}return tt}async getPool(a,s=!0){var ut,bt,wt;const et=`${a}_getPoolObject`,tt=this.getCache(et,s);if(tt!==void 0)return tt;const at=await this._sdk.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if(at.error!=null||((bt=(ut=at.data)==null?void 0:ut.content)==null?void 0:bt.dataType)!=="moveObject")throw new ClmmpoolsError(`getPool error code: ${((wt=at.error)==null?void 0:wt.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");const ct=buildPool(at);return this.updateCache(et,ct),ct}async getPoolByCoins(a,s){if(a.length===0)return[];for(let bt=0;bt<a.length;bt++)a[bt]==="0x2::sui::SUI"&&(a[bt]="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI");let et=this._sdk.sdkOptions.statsPoolsUrl;if(!et)throw new ClmmpoolsError("statsPoolsUrl is not set in the sdk options.","StatsPoolsUrlNotSet");et+=`?order_by=-fees&limit=100&has_mining=true&has_farming=true&no_incentives=true&display_all_pools=true&coin_type=${a.join(",")}`;const tt=await fetch(et);let at;try{at=await tt.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${et}].`,"InvalidSwapCountUrl")}const ct=at.data.lp_list;if(!ct||ct.length===0)throw new ClmmpoolsError(`Failed tp [arse response from ${et}].`,"PoolsNotFound");const ut=[];for(const bt of ct)a.includes(bt.coin_a_address)&&a.includes(bt.coin_b_address)&&(s!=null?bt.fee===s.toString()&&ut.push(bt.address):ut.push(bt.address));return ut.length>0?await this.getPools(ut):[]}async creatPoolsTransactionPayload(a){for(const et of a)if(isSortedSymbols(normalizeSuiAddress$1(et.coinTypeA),normalizeSuiAddress$1(et.coinTypeB))){const tt=et.coinTypeB;et.coinTypeB=et.coinTypeA,et.coinTypeA=tt}return await this.creatPool(a)}async creatPoolTransactionPayload(a){if(isSortedSymbols(normalizeSuiAddress$1(a.coinTypeA),normalizeSuiAddress$1(a.coinTypeB))){const s=a.coinTypeB;a.coinTypeB=a.coinTypeA,a.coinTypeA=s;const et=a.metadata_b;a.metadata_b=a.metadata_a,a.metadata_a=et}return await this.createPoolAndAddLiquidity(a)}async createPoolTransactionPayload(a){if(isSortedSymbols(normalizeSuiAddress$1(a.coinTypeA),normalizeSuiAddress$1(a.coinTypeB))){const s=a.coinTypeB;a.coinTypeB=a.coinTypeA,a.coinTypeA=s;const et=a.metadata_b;a.metadata_b=a.metadata_a,a.metadata_a=et}return await this.createPoolAndAddLiquidity(a)}async createPoolTransactionRowPayload(a){if(isSortedSymbols(normalizeSuiAddress$1(a.coinTypeA),normalizeSuiAddress$1(a.coinTypeB))){const s=a.coinTypeB;a.coinTypeB=a.coinTypeA,a.coinTypeA=s;const et=a.metadata_b;a.metadata_b=a.metadata_a,a.metadata_a=et}return await this.createPoolAndAddLiquidityRow(a)}async getClmmConfigs(a=!1){const{package_id:s}=this._sdk.sdkOptions.clmm_pool,et=`${s}_getInitEvent`,tt=this.getCache(et,a);if(tt!==void 0)return tt;const at=await this._sdk.fullClient.getObject({id:s,options:{showPreviousTransaction:!0}}),ct=getObjectPreviousTransactionDigest(at),ut=(await this._sdk.fullClient.queryEventsByPage({Transaction:ct})).data,bt={pools_id:"",global_config_id:"",global_vault_id:"",admin_cap_id:""};return ut.length>0&&(ut.forEach(wt=>{const Et=wt.parsedJson;if(wt.type)switch(extractStructTagFromType$1(wt.type).full_address){case`${s}::config::InitConfigEvent`:bt.global_config_id=Et.global_config_id,bt.admin_cap_id=Et.admin_cap_id;break;case`${s}::factory::InitFactoryEvent`:bt.pools_id=Et.pools_id;break;case`${s}::rewarder::RewarderInitEvent`:bt.global_vault_id=Et.global_vault_id;break;case`${s}::partner::InitPartnerEvent`:bt.partners_id=Et.partners_id;break}}),this.updateCache(et,bt,cacheTime24h)),bt}async getSuiTransactionResponse(a,s=!1){const et=`${a}_getSuiTransactionResponse`,tt=this.getCache(et,s);if(tt!==void 0)return tt;let at;try{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(et,at,cacheTime24h),at}async getPoolTransactionList({poolId:a,paginationArgs:s,order:et="descending",fullRpcUrl:tt}){const{fullClient:at,sdkOptions:ct}=this._sdk;let ut;tt?ut=new RpcModule({url:tt}):ut=at;const bt={data:[],hasNextPage:!1},wt=s,Et=s.limit||10;do{const Ft=await ut.queryTransactionBlocksByPage({ChangedObject:a},{...wt,limit:50},et);Ft.data.forEach((jt,Lt)=>{bt.nextCursor=Ft.nextCursor;const Ut=buildPoolTransactionInfo(jt,Lt,ct.clmm_pool.package_id,a);bt.data=[...bt.data,...Ut]}),bt.hasNextPage=Ft.hasNextPage,bt.nextCursor=Ft.nextCursor,wt.cursor=Ft.nextCursor}while(bt.data.length<Et&&bt.hasNextPage);return bt.data.length>Et&&(bt.data=bt.data.slice(0,Et),bt.nextCursor=bt.data[bt.data.length-1].tx),bt}async creatPool(a){const s=new Transaction,{integrate:et,clmm_pool:tt}=this.sdk.sdkOptions,at=getPackagerConfigs(tt),ct=at.global_config_id,ut=at.pools_id;return a.forEach(bt=>{const wt=[s.object(ct),s.object(ut),s.pure.u32(bt.tick_spacing),s.pure.u128(bt.initialize_sqrt_price),s.pure.string(bt.uri),s.object(CLOCK_ADDRESS$1)];s.moveCall({target:`${et.published_at}::${ClmmIntegratePoolModule}::create_pool`,typeArguments:[bt.coinTypeA,bt.coinTypeB],arguments:wt})}),s}async createPoolAndAddLiquidity(a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const s=new Transaction;s.setSender(this.sdk.senderAddress);const{integrate:et,clmm_pool:tt}=this.sdk.sdkOptions,at=getPackagerConfigs(tt),ct=at.global_config_id,ut=at.pools_id,bt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),wt=TransactionUtil.buildCoinForAmount(s,bt,BigInt(a.amount_a),a.coinTypeA,!1,!0),Et=TransactionUtil.buildCoinForAmount(s,bt,BigInt(a.amount_b),a.coinTypeB,!1,!0),Ft=[s.object(ct),s.object(ut),s.pure.u32(a.tick_spacing),s.pure.u128(a.initialize_sqrt_price),s.pure.string(a.uri),s.pure.u32(Number(asUintN(BigInt(a.tick_lower)).toString())),s.pure.u32(Number(asUintN(BigInt(a.tick_upper)).toString())),wt.targetCoin,Et.targetCoin,s.object(a.metadata_a),s.object(a.metadata_b),s.pure.bool(a.fix_amount_a),s.object(CLOCK_ADDRESS$1)];return s.moveCall({target:`${et.published_at}::pool_creator_v2::create_pool_v2`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:Ft}),TransactionUtil.buildTransferCoinToSender(this._sdk,s,wt.targetCoin,a.coinTypeA),TransactionUtil.buildTransferCoinToSender(this._sdk,s,Et.targetCoin,a.coinTypeB),s}async createPoolAndAddLiquidityRow(a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const s=new Transaction,{clmm_pool:et}=this.sdk.sdkOptions,tt=getPackagerConfigs(et),at=tt.global_config_id,ct=tt.pools_id,ut=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),bt=TransactionUtil.buildCoinForAmount(s,ut,BigInt(a.amount_a),a.coinTypeA,!1,!0),wt=TransactionUtil.buildCoinForAmount(s,ut,BigInt(a.amount_b),a.coinTypeB,!1,!0),Et=[s.object(at),s.object(ct),s.pure.u32(a.tick_spacing),s.pure.u128(a.initialize_sqrt_price),s.pure.string(a.uri),s.pure.u32(Number(asUintN(BigInt(a.tick_lower)).toString())),s.pure.u32(Number(asUintN(BigInt(a.tick_upper)).toString())),bt.targetCoin,wt.targetCoin,s.object(a.metadata_a),s.object(a.metadata_b),s.pure.bool(a.fix_amount_a),s.object(CLOCK_ADDRESS$1)],Ft=s.moveCall({target:`${et.published_at}::pool_creator::create_pool_v2`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:Et});return{transaction:s,position:Ft[0],coinAObject:Ft[1],coinBObject:Ft[2],coinAType:a.coinTypeA,coinBType:a.coinTypeB}}async fetchTicks(a){let s=[],et=[];for(;;){const at=await this.getTicks({pool_id:a.pool_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,start:et,limit:512});if(s=[...s,...at],at.length<512)break;et=[Number(asUintN(BigInt(at[at.length-1].index)))]}return s}async getTicks(a){var Et;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,tt=[],at=[a.coinTypeA,a.coinTypeB],ct=new Transaction,ut=ct.makeMoveVec({elements:a.start.map(Ft=>ct.pure.u32(Ft)),type:"u32"}),bt=[ct.object(a.pool_id),ut,ct.pure.u64(a.limit.toString())];if(ct.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::fetch_ticks`,arguments:bt,typeArguments:at}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("Invalid simulation account: Configuration requires a valid Sui address. Please check your SDK configuration.","InvalidSimulateAccount");const wt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:ct,sender:et.address});if(wt.error!=null)throw new ClmmpoolsError(`getTicks error code: ${wt.error??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return(Et=wt.events)==null||Et.forEach(Ft=>{extractStructTagFromType$1(Ft.type).name==="FetchTicksResultEvent"&&Ft.parsedJson.ticks.forEach(jt=>{tt.push(buildTickDataByEvent(jt))})}),tt}async fetchPositionRewardList(a){var ut;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,tt=[];let at=[];const ct=512;for(;;){const bt=[a.coinTypeA,a.coinTypeB],wt=new Transaction,Et=wt.makeMoveVec({elements:at.map(Ut=>wt.pure.address(Ut)),type:void 0}),Ft=[wt.object(a.pool_id),Et,wt.pure.u64(ct)];if(wt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::fetch_positions`,arguments:Ft,typeArguments:bt}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const jt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:et.address});if(jt.error!=null)throw new ClmmpoolsError(`fetch position reward error code: ${jt.error??"unknown error"}, please check config and tick object ids`,"InvalidPositionRewardObject");const Lt=[];if((ut=jt==null?void 0:jt.events)==null||ut.forEach(Ut=>{extractStructTagFromType$1(Ut.type).name==="FetchPositionsEvent"&&Ut.parsedJson.positions.forEach(Vt=>{const Yt=buildPositionReward(Vt);Lt.push(Yt)})}),tt.push(...Lt),Lt.length<ct)break;at=[Lt[Lt.length-1].pos_object_id]}return tt}async fetchTicksByRpc(a){let s=[],et=null;const tt=50;for(;;){const at=[],ct=await this.sdk.fullClient.getDynamicFields({parentId:a,cursor:et,limit:tt});if(et=ct.nextCursor,ct.data.forEach(ut=>{extractStructTagFromType$1(ut.objectType).module==="skip_list"&&at.push(ut.objectId)}),s=[...s,...await this.getTicksByRpc(at)],!ct.hasNextPage)break}return s}async getTicksByRpc(a){var tt,at,ct;const s=[],et=await this.sdk.fullClient.batchGetObjects(a,{showContent:!0,showType:!0});for(const ut of et){if(ut.error!=null||((at=(tt=ut.data)==null?void 0:tt.content)==null?void 0:at.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${((ct=ut.error)==null?void 0:ct.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");const bt=buildTickData(ut);bt!=null&&s.push(bt)}return s}async getTickDataByIndex(a,s){var at,ct;const et={type:"u64",value:asUintN(BigInt(tickScore(s).toString())).toString()},tt=await this.sdk.fullClient.getDynamicFieldObject({parentId:a,name:et});if(tt.error!=null||((ct=(at=tt.data)==null?void 0:at.content)==null?void 0:ct.dataType)!=="moveObject")throw new ClmmpoolsError(`get tick by index: ${s} error: ${tt.error}`,"InvalidTickIndex");return buildTickData(tt)}async getTickDataByObjectId(a){var et,tt,at;const s=await this.sdk.fullClient.getObject({id:a,options:{showContent:!0}});if(s.error!=null||((tt=(et=s.data)==null?void 0:et.content)==null?void 0:tt.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${((at=s.error)==null?void 0:at.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return buildTickData(s)}async getPartnerRefFeeAmount(a,s=!0){var wt,Et;const et=await this._sdk.fullClient.batchGetObjects([a],{showOwner:!0,showContent:!0,showDisplay:s,showType:!0});if(((Et=(wt=et[0].data)==null?void 0:wt.content)==null?void 0:Et.dataType)!=="moveObject")throw new ClmmpoolsError(`get partner by object id: ${a} error: ${et[0].error}`,"NotFoundPartnerObject");const tt=et[0].data.content.fields.balances,at=await this._sdk.fullClient.getDynamicFieldsByPage(tt.fields.id.id),ct=[];at.data.forEach(Ft=>{Ft.objectId!=null&&ct.push(Ft.objectId)});const ut=[];return(await this._sdk.fullClient.batchGetObjects(ct,{showOwner:!0,showContent:!0,showDisplay:s,showType:!0})).forEach(Ft=>{var Lt,Ut;if(Ft.error!=null||((Ut=(Lt=Ft.data)==null?void 0:Lt.content)==null?void 0:Ut.dataType)!=="moveObject")throw new ClmmpoolsError(`get coin by object id: ${Ft.data.objectId} error: ${Ft.error}`,"InvalidParnterRefFeeFields");const jt={coinAddress:Ft.data.content.fields.name,coinObjectId:Ft.data.objectId,balance:BigInt(Ft.data.content.fields.value)};ut.push(jt)}),ut}async claimPartnerRefFeePayload(a,s,et){const tt=new Transaction,{clmm_pool:at}=this.sdk.sdkOptions,{global_config_id:ct}=getPackagerConfigs(at),ut=[et],bt=[tt.object(ct),tt.object(a),tt.object(s)];return tt.moveCall({target:`${at.published_at}::${ClmmPartnerModule}::claim_ref_fee`,arguments:bt,typeArguments:ut}),tt}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){const et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},PositionModule=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}buildPositionType(){return`${this._sdk.sdkOptions.clmm_pool.package_id}::position::Position`}async getPositionTransactionList({posId:a,paginationArgs:s="all",order:et="ascending",fullRpcUrl:tt,originPosId:at}){const{fullClient:ct}=this._sdk,ut=[a];at&&ut.push(at);let bt;tt?bt=new RpcModule({url:tt}):bt=ct;const wt={data:[],hasNextPage:!1};try{const Et=await bt.queryTransactionBlocksByPage({ChangedObject:a},s,et);return Et.data.forEach((Ft,jt)=>{const Lt=buildPositionTransactionInfo(Ft,jt,ut);wt.data=[...wt.data,...Lt]}),wt.hasNextPage=Et.hasNextPage,wt.nextCursor=Et.nextCursor,wt}catch(Et){console.log("Error in getPositionTransactionList:",Et)}return wt}async getPositionList(a,s=[],et=!0){const tt=[],at=await this._sdk.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:et,showOwner:!0},filter:{Package:this._sdk.sdkOptions.clmm_pool.package_id}}),ct=s.length>0;for(const ut of at.data)if(extractStructTagFromType$1(ut.data.type).full_address===this.buildPositionType()){const wt=buildPosition(ut),Et=`${wt.pos_object_id}_getPositionList`;this.updateCache(Et,wt,cacheTime24h),ct?s.includes(wt.pool)&&tt.push(wt):tt.push(wt)}return tt}async getPosition(a,s,et=!0,tt=!0){let at=await this.getSimplePosition(s,tt);return et&&(at=await this.updatePositionRewarders(a,at)),at}async getPositionById(a,s=!0,et=!0){const tt=await this.getSimplePosition(a,et);if(s){const at=await this._sdk.Pool.getPool(tt.pool,!1);return await this.updatePositionRewarders(at.position_manager.positions_handle,tt)}return tt}async getSimplePosition(a,s=!0){const et=`${a}_getPositionList`;let tt=this.getSimplePositionByCache(a);if(tt===void 0){const at=await this.sdk.fullClient.getObject({id:a,options:{showContent:!0,showType:!0,showDisplay:s,showOwner:!0}});tt=buildPosition(at),this.updateCache(et,tt,cacheTime24h)}return tt}getSimplePositionByCache(a){const s=`${a}_getPositionList`;return this.getCache(s)}async getSipmlePositionList(a,s=!0){const et=[],tt=[];return a.forEach(at=>{const ct=this.getSimplePositionByCache(at);ct?et.push(ct):tt.push(at)}),tt.length>0&&(await this._sdk.fullClient.batchGetObjects(tt,{showOwner:!0,showContent:!0,showDisplay:s,showType:!0})).forEach(ct=>{if(ct.error==null){const ut=buildPosition(ct);et.push(ut);const bt=`${ut.pos_object_id}_getPositionList`;this.updateCache(bt,ut,cacheTime24h)}}),et}async updatePositionRewarders(a,s){const et=await this.getPositionRewarders(a,s.pos_object_id);return{...s,...et}}async getPositionRewarders(a,s){try{const et=await this._sdk.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}}),at=getObjectFields(et.data).value.fields.value;return buildPositionReward(at)}catch(et){console.log(et);return}}async fetchPosFeeAmount(a){var wt;const{clmm_pool:s,integrate:et,simulationAccount:tt}=this.sdk.sdkOptions,at=new Transaction;for(const Et of a){const Ft=[Et.coinTypeA,Et.coinTypeB],jt=[at.object(getPackagerConfigs(s).global_config_id),at.object(Et.poolAddress),at.pure.address(Et.positionId)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft})}if(!checkInvalidSuiAddress$1(tt.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:tt.address});if(ct.error!=null)throw new ClmmpoolsError(`fetch position fee error code: ${ct.error??"unknown error"}, please check config and postion and pool object ids`,"InvalidPoolObject");const ut=(wt=ct.events)==null?void 0:wt.filter(Et=>extractStructTagFromType$1(Et.type).name==="FetchPositionFeesEvent");if(ut.length===0)return[];const bt=[];for(let Et=0;Et<ut.length;Et+=1){const{parsedJson:Ft}=ut[Et],jt={feeOwedA:new BN(Ft.fee_owned_a),feeOwedB:new BN(Ft.fee_owned_b),position_id:Ft.position_id};bt.push(jt)}return bt}async batchFetchPositionFees(a){const s=[];for(const tt of a){const at=await this._sdk.Position.getPositionById(tt,!1),ct=await this._sdk.Pool.getPool(at.pool,!1);s.push({poolAddress:ct.poolAddress,positionId:at.pos_object_id,coinTypeA:ct.coinTypeA,coinTypeB:ct.coinTypeB})}const et={};if(s.length>0){const tt=await this.fetchPosFeeAmount(s);for(const at of tt)et[at.position_id]=at;return et}return et}async createAddLiquidityFixTokenPayload(a,s,et,tt,at){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const ct=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(s){const{isAdjustCoinA:ut,isAdjustCoinB:bt}=findAdjustCoin(a);if(a=a,a.fix_amount_a&&ut||!a.fix_amount_a&&bt)return et=await TransactionUtil.buildAddLiquidityFixTokenForGas(this._sdk,ct,a,s,et,tt,at),et}return TransactionUtil.buildAddLiquidityFixToken(this._sdk,ct,a,et,tt,at)}async createAddLiquidityPayload(a,s,et,tt){const{integrate:at,clmm_pool:ct}=this._sdk.sdkOptions;if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const ut=asUintN(BigInt(a.tick_lower)).toString(),bt=asUintN(BigInt(a.tick_upper)).toString(),wt=[a.coinTypeA,a.coinTypeB];s=s||new Transaction;const Et=!isValidSuiObjectId$1(a.pos_id),Ft=BigInt(a.max_amount_a),jt=BigInt(a.max_amount_b);let Lt,Ut;if(et==null||tt==null){const Vt=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);Lt=TransactionUtil.buildCoinForAmount(s,Vt,Ft,a.coinTypeA,!1,!0),Ut=TransactionUtil.buildCoinForAmount(s,Vt,jt,a.coinTypeB,!1,!0)}else Lt={targetCoin:et,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},Ut={targetCoin:tt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"};if(Et)s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::open_position_with_liquidity`,typeArguments:wt,arguments:[s.object(getPackagerConfigs(ct).global_config_id),s.object(a.pool_id),s.pure.u32(Number(ut)),s.pure.u32(Number(bt)),Lt.targetCoin,Ut.targetCoin,s.pure.u64(a.max_amount_a),s.pure.u64(a.max_amount_b),s.pure.u128(a.delta_liquidity),s.object(CLOCK_ADDRESS$1)]});else{const Vt=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);s=TransactionUtil.createCollectRewarderAndFeeParams(this.sdk,s,a,Vt,Lt.remainCoins,Ut.remainCoins),s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity`,typeArguments:wt,arguments:[s.object(getPackagerConfigs(ct).global_config_id),s.object(a.pool_id),s.object(a.pos_id),Lt.targetCoin,Ut.targetCoin,s.pure.u64(a.max_amount_a),s.pure.u64(a.max_amount_b),s.pure.u128(a.delta_liquidity),s.object(CLOCK_ADDRESS$1)]})}return s}async removeLiquidityTransactionPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:et,integrate:tt}=this.sdk.sdkOptions,at="remove_liquidity";s=s||new Transaction;const ct=[a.coinTypeA,a.coinTypeB],ut=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);s=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,s,a,ut);const bt=[s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.pure.u128(a.delta_liquidity),s.pure.u64(a.min_amount_a),s.pure.u64(a.min_amount_b),s.object(CLOCK_ADDRESS$1)];return s.moveCall({target:`${tt.published_at}::${ClmmIntegratePoolModule}::${at}`,typeArguments:ct,arguments:bt}),s}async closePositionTransactionPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:et,integrate:tt}=this.sdk.sdkOptions;s=s||new Transaction;const at=[a.coinTypeA,a.coinTypeB],ct=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);return s=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,s,a,ct),s.moveCall({target:`${tt.published_at}::${ClmmIntegratePoolModule}::close_position`,typeArguments:at,arguments:[s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.pure.u64(a.min_amount_a),s.pure.u64(a.min_amount_b),s.object(CLOCK_ADDRESS$1)]}),s}openPositionTransactionPayload(a,s){const{clmm_pool:et,integrate:tt}=this.sdk.sdkOptions;s=s||new Transaction;const at=[a.coinTypeA,a.coinTypeB],ct=asUintN(BigInt(a.tick_lower)).toString(),ut=asUintN(BigInt(a.tick_upper)).toString(),bt=[s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_id),s.pure.u32(Number(ct)),s.pure.u32(Number(ut))];return s.moveCall({target:`${tt.published_at}::${ClmmIntegratePoolModule}::open_position`,typeArguments:at,arguments:bt}),s}async collectFeeTransactionPayload(a,s,et,tt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");s=s||new Transaction;const at=et||TransactionUtil.buildCoinWithBalance(BigInt(0),a.coinTypeA),ct=tt||TransactionUtil.buildCoinWithBalance(BigInt(0),a.coinTypeB);return this.createCollectFeePaylod(a,s,at,ct),s}createCollectFeePaylod(a,s,et,tt){const{clmm_pool:at,integrate:ct}=this.sdk.sdkOptions,ut=[a.coinTypeA,a.coinTypeB],bt=[s.object(getPackagerConfigs(at).global_config_id),s.object(a.pool_id),s.object(a.pos_id),et,tt];return s.moveCall({target:`${ct.published_at}::${ClmmIntegratePoolV2Module}::collect_fee`,typeArguments:ut,arguments:bt}),s}createCollectFeeNoSendPaylod(a,s,et,tt){const{clmm_pool:at,integrate:ct}=this.sdk.sdkOptions,ut=[a.coinTypeA,a.coinTypeB],bt=[s.object(getPackagerConfigs(at).global_config_id),s.object(a.pool_id),s.object(a.pos_id),et,tt];return s.moveCall({target:`${ct.published_at}::${ClmmIntegratePoolV3Module}::collect_fee`,typeArguments:ut,arguments:bt}),s}async calculateFee(a){const s=await this.collectFeeTransactionPayload(a);if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:s,sender:this.sdk.senderAddress});for(const tt of et.events)if(extractStructTagFromType$1(tt.type).name==="CollectFeeEvent"){const at=tt.parsedJson;return{feeOwedA:at.amount_a,feeOwedB:at.amount_b}}return{feeOwedA:"0",feeOwedB:"0"}}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){const et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},RewarderModule=class{constructor(a){dn(this,"_sdk");dn(this,"growthGlobal");this._sdk=a,this.growthGlobal=[ZERO$1,ZERO$1,ZERO$1]}get sdk(){return this._sdk}async emissionsEveryDay(a){const et=(await this.sdk.Pool.getPool(a)).rewarder_infos;if(!et)return null;const tt=[];for(const at of et){const ct=MathUtil.fromX64(new BN(at.emissions_per_second));tt.push({emissions:Math.floor(ct.toNumber()*60*60*24),coin_address:at.coinAddress})}return tt}async updatePoolRewarder(a,s){const et=await this.sdk.Pool.getPool(a),tt=et.rewarder_last_updated_time;if(et.rewarder_last_updated_time=s.toString(),Number(et.liquidity)===0||s.eq(new BN(tt)))return et;const at=s.div(new BN(1e3)).sub(new BN(tt)).add(new BN(15)),ct=et.rewarder_infos;for(let ut=0;ut<ct.length;ut+=1){const bt=ct[ut],wt=MathUtil.checkMulDivFloor(at,new BN(bt.emissions_per_second),new BN(et.liquidity),128);this.growthGlobal[ut]=new BN(bt.growth_global).add(new BN(wt))}return et}async posRewardersAmount(a,s,et){const tt=Date.parse(new Date().toString()),at=await this.updatePoolRewarder(a,new BN(tt)),ct=await this.sdk.Position.getPositionRewarders(s,et);if(ct===void 0)return[];const ut=at.ticks_handle,bt=await this.sdk.Pool.getTickDataByIndex(ut,ct.tick_lower_index),wt=await this.sdk.Pool.getTickDataByIndex(ut,ct.tick_upper_index);return this.posRewardersAmountInternal(at,ct,bt,wt)}async poolRewardersAmount(a,s){const et=Date.parse(new Date().toString()),tt=await this.updatePoolRewarder(s,new BN(et)),at=await this.sdk.Position.getPositionList(a,[s]),ct=await this.getPoolLowerAndUpperTicks(tt.ticks_handle,at),ut=[ZERO$1,ZERO$1,ZERO$1];for(let bt=0;bt<at.length;bt+=1){const wt=await this.posRewardersAmountInternal(tt,at[bt],ct[0][bt],ct[1][bt]);for(let Et=0;Et<3;Et+=1)ut[Et]=ut[Et].add(wt[Et].amount_owed)}return ut}posRewardersAmountInternal(a,s,et,tt){const at=s.tick_lower_index,ct=s.tick_upper_index,ut=getRewardInTickRange(a,et,tt,at,ct,this.growthGlobal),bt=[],wt=[];if(ut.length>0){let Et=MathUtil.subUnderflowU128(ut[0],new BN(s.reward_growth_inside_0));Et.gt(new BN("3402823669209384634633745948738404"))&&(Et=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(s.liquidity),Et,64,128);bt.push(ut[0]),wt.push({amount_owed:new BN(s.reward_amount_owed_0).add(Ft),coin_address:a.rewarder_infos[0].coinAddress})}if(ut.length>1){let Et=MathUtil.subUnderflowU128(ut[1],new BN(s.reward_growth_inside_1));Et.gt(new BN("3402823669209384634633745948738404"))&&(Et=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(s.liquidity),Et,64,128);bt.push(ut[1]),wt.push({amount_owed:new BN(s.reward_amount_owed_1).add(Ft),coin_address:a.rewarder_infos[1].coinAddress})}if(ut.length>2){let Et=MathUtil.subUnderflowU128(ut[2],new BN(s.reward_growth_inside_2));Et.gt(new BN("3402823669209384634633745948738404"))&&(Et=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(s.liquidity),Et,64,128);bt.push(ut[2]),wt.push({amount_owed:new BN(s.reward_amount_owed_2).add(Ft),coin_address:a.rewarder_infos[2].coinAddress})}return wt}async batchFetchPositionRewarders(a){const s=[];for(const tt of a){const at=await this._sdk.Position.getPositionById(tt,!1),ct=await this._sdk.Pool.getPool(at.pool,!1);s.push({poolAddress:ct.poolAddress,positionId:at.pos_object_id,coinTypeA:ct.coinTypeA,coinTypeB:ct.coinTypeB,rewarderInfo:ct.rewarder_infos})}const et={};if(s.length>0){const tt=await this.fetchPosRewardersAmount(s);for(const at of tt)et[at.positionId]=at.rewarderAmountOwed;return et}return et}async fetchPositionRewarders(a,s){const et={poolAddress:a.poolAddress,positionId:s,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,rewarderInfo:a.rewarder_infos};return(await this.fetchPosRewardersAmount([et]))[0].rewarderAmountOwed}async batchFetchPositionFees(a){const s=[];for(const tt of a){const at=await this._sdk.Position.getPositionById(tt,!1),ct=await this._sdk.Pool.getPool(at.pool,!1);s.push({poolAddress:ct.poolAddress,positionId:at.pos_object_id,coinTypeA:ct.coinTypeA,coinTypeB:ct.coinTypeB})}const et={};if(s.length>0){const tt=await this.fetchPosFeeAmount(s);for(const at of tt)et[at.position_id]=at;return et}return et}async fetchPosFeeAmount(a){var wt;const{clmm_pool:s,integrate:et,simulationAccount:tt}=this.sdk.sdkOptions,at=new Transaction;for(const Et of a){const Ft=[Et.coinTypeA,Et.coinTypeB],jt=[at.object(getPackagerConfigs(s).global_config_id),at.object(Et.poolAddress),at.pure.address(Et.positionId)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft})}const ut=(wt=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:tt.address})).events)==null?void 0:wt.filter(Et=>extractStructTagFromType$1(Et.type).name==="FetchPositionFeesEvent");if(ut.length===0)return[];const bt=[];for(let Et=0;Et<ut.length;Et+=1){const{parsedJson:Ft}=ut[Et],jt={feeOwedA:new BN(Ft.fee_owned_a),feeOwedB:new BN(Ft.fee_owned_b),position_id:Ft.position_id};bt.push(jt)}return bt}async fetchPosRewardersAmount(a){var wt;const{clmm_pool:s,integrate:et,simulationAccount:tt}=this.sdk.sdkOptions,at=new Transaction;for(const Et of a){const Ft=[Et.coinTypeA,Et.coinTypeB],jt=[at.object(getPackagerConfigs(s).global_config_id),at.object(Et.poolAddress),at.pure.address(Et.positionId),at.object(CLOCK_ADDRESS$1)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:jt,typeArguments:Ft})}if(!checkInvalidSuiAddress$1(tt.address))throw new ClmmpoolsError(`this config simulationAccount: ${tt.address} is not set right`,"InvalidSimulateAccount");const ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:tt.address});if(ct.error!=null)throw new ClmmpoolsError(`fetch position rewards error code: ${ct.error??"unknown error"}, please check config and params`,"InvalidConfig");const ut=(wt=ct.events)==null?void 0:wt.filter(Et=>extractStructTagFromType$1(Et.type).name==="FetchPositionRewardsEvent");if(ut.length===0)return[];if(ut.length!==a.length)throw new ClmmpoolsError("valueData.length !== params.pools.length");const bt=[];for(let Et=0;Et<ut.length;Et+=1){const Ft={poolAddress:a[Et].poolAddress,positionId:a[Et].positionId,rewarderAmountOwed:[]};for(let jt=0;jt<a[Et].rewarderInfo.length;jt+=1)Ft.rewarderAmountOwed.push({amount_owed:new BN(ut[Et].parsedJson.data[jt]),coin_address:a[Et].rewarderInfo[jt].coinAddress});bt.push(Ft)}return bt}async fetchPoolRewardersAmount(a,s){const et=await this.sdk.Pool.getPool(s),tt=await this.sdk.Position.getPositionList(a,[s]),at=[];for(const bt of tt)at.push({poolAddress:et.poolAddress,positionId:bt.pos_object_id,rewarderInfo:et.rewarder_infos,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB});const ct=await this.fetchPosRewardersAmount(at),ut=[ZERO$1,ZERO$1,ZERO$1];if(ct!=null)for(const bt of ct)for(let wt=0;wt<bt.rewarderAmountOwed.length;wt+=1)ut[wt]=ut[wt].add(bt.rewarderAmountOwed[wt].amount_owed);return ut}async getPoolLowerAndUpperTicks(a,s){const et=[],tt=[];for(const at of s){const ct=await this.sdk.Pool.getTickDataByIndex(a,at.tick_lower_index),ut=await this.sdk.Pool.getTickDataByIndex(a,at.tick_upper_index);et.push(ct),tt.push(ut)}return[et,tt]}async collectRewarderTransactionPayload(a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const s=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);let et=new Transaction;return et=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,et,a,s),et}async batchCollectRewardePayload(a,s,et,tt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const at=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);s=s||new Transaction;const ct={};return a.forEach(ut=>{const bt=normalizeCoinType$1(ut.coinTypeA),wt=normalizeCoinType$1(ut.coinTypeB);if(ut.collect_fee){let Ft=ct[bt];Ft==null&&(et==null?Ft=TransactionUtil.buildCoinForAmount(s,at,BigInt(0),bt,!1):Ft={targetCoin:et,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},ct[bt]=Ft);let jt=ct[wt];jt==null&&(tt==null?jt=TransactionUtil.buildCoinForAmount(s,at,BigInt(0),wt,!1):jt={targetCoin:tt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},ct[wt]=jt),s=this._sdk.Position.createCollectFeeNoSendPaylod({pool_id:ut.pool_id,pos_id:ut.pos_id,coinTypeA:ut.coinTypeA,coinTypeB:ut.coinTypeB},s,Ft.targetCoin,jt.targetCoin)}const Et=[];ut.rewarder_coin_types.forEach(Ft=>{const jt=normalizeCoinType$1(Ft);let Lt=ct[Ft];Lt===void 0&&(Lt=TransactionUtil.buildCoinForAmount(s,at,BigInt(0),jt,!1),ct[jt]=Lt),Et.push(Lt.targetCoin)}),s=this.createCollectRewarderNoSendPaylod(ut,s,Et)}),Object.keys(ct).forEach(ut=>{const bt=ct[ut];bt.isMintZeroCoin&&TransactionUtil.buildTransferCoin(this.sdk,s,bt.targetCoin,ut,this.sdk.senderAddress)}),s}createCollectRewarderPaylod(a,s,et){const{clmm_pool:tt,integrate:at}=this.sdk.sdkOptions,ct=getPackagerConfigs(tt),ut=[a.coinTypeA,a.coinTypeB];return a.rewarder_coin_types.forEach((bt,wt)=>{s&&s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::collect_reward`,typeArguments:[...ut,bt],arguments:[s.object(ct.global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.object(ct.global_vault_id),et[wt],s.object(CLOCK_ADDRESS$1)]})}),s}createCollectRewarderNoSendPaylod(a,s,et){const{clmm_pool:tt,integrate:at}=this.sdk.sdkOptions,ct=getPackagerConfigs(tt),ut=[a.coinTypeA,a.coinTypeB];return a.rewarder_coin_types.forEach((bt,wt)=>{s&&s.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV3Module}::collect_reward`,typeArguments:[...ut,bt],arguments:[s.object(ct.global_config_id),s.object(a.pool_id),s.object(a.pos_id),s.object(ct.global_vault_id),et[wt],s.object(CLOCK_ADDRESS$1)]})}),s}};function _pairSymbol(a,s){return{pair:`${a}-${s}`,reversePair:`${s}-${a}`}}var RouterModule=class{constructor(a){dn(this,"graph");dn(this,"pathProviders");dn(this,"coinProviders");dn(this,"_coinAddressMap");dn(this,"poolAddressMap");dn(this,"_sdk");this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new Graph(!1),this._coinAddressMap=new Map,this.poolAddressMap=new Map,this._sdk=a,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.preRouterSwapA2B2C=this.preRouterSwapA2B2C.bind(this),this.price=this.price.bind(this),this.getPoolWithTVL=this.getPoolWithTVL.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(a,s){const{pair:et,reversePair:tt}=_pairSymbol(a,s);let at=this.poolAddressMap.get(et);if(at!=null)return{addressMap:at,direction:!0};if(at=this.poolAddressMap.get(tt),at!=null)return{addressMap:at,direction:!1}}setCoinList(){this.coinProviders.coins.forEach(a=>{this._coinAddressMap.set(a.address,a)})}loadGraph(a,s){this.addCoinProvider(a),this.addPathProvider(s),this.setCoinList(),this.pathProviders.forEach(et=>{const{paths:tt}=et;tt.forEach(at=>{const ct=this.graph.getVertexByKey(at.base)??new GraphVertex(at.base),ut=this.graph.getVertexByKey(at.quote)??new GraphVertex(at.quote);this.graph.addEdge(new GraphEdge(ct,ut));const bt=this._coinAddressMap.get(at.base),wt=this._coinAddressMap.get(at.quote);if(bt!=null&&wt!=null){const Et=_pairSymbol(at.base,at.quote).pair;this.poolAddressMap.set(Et,at.addressMap)}})})}addPathProvider(a){for(let s=0;s<a.paths.length;s+=1){const{base:et,quote:tt}=a.paths[s];et.localeCompare(tt)<0&&(a.paths[s].base=tt,a.paths[s].quote=et),et==="0x2::sui::SUI"&&(a.paths[s].base=tt,a.paths[s].quote=et),tt==="0x2::sui::SUI"&&(a.paths[s].base=et,a.paths[s].quote=tt)}return this.pathProviders.push(a),this}addCoinProvider(a){return this.coinProviders=a,this}tokenInfo(a){return this._coinAddressMap.get(a)}getFeeRate(a,s,et){const tt=_pairSymbol(a,s).pair,at=this.poolAddressMap.get(tt);if(at!=null){for(const[bt,wt]of at.entries())if(wt===et)return bt*100}const ct=_pairSymbol(a,s).reversePair,ut=this.poolAddressMap.get(ct);if(ut!=null){for(const[bt,wt]of ut.entries())if(wt===et)return bt*100}return 0}async price(a,s,et,tt,at,ct,ut){const bt=this.tokenInfo(a),wt=this.tokenInfo(s);if(bt===void 0||wt===void 0)throw new ClmmpoolsError("From/To coin is undefined","InvalidCoin");const Et=this.graph.getVertexByKey(bt.address),Ft=this.graph.getVertexByKey(wt.address),jt=this.graph.findAllPath(Et,Ft),Lt=Array.from(jt);if(Lt.length===0)throw new ClmmpoolsError("No find valid path in coin graph","NotFoundPath");let Ut=[];for(let $r=0;$r<Lt.length;$r+=1){const Sr=Lt[$r];if(Sr.length>3)continue;const fr=[],vr=[],or=[],rr=[];for(let ar=0;ar<Sr.length-1;ar+=1){const sr=Sr[ar].value.toString(),dr=Sr[ar+1].value.toString(),gr=this.getPoolAddressMapAndDirection(sr,dr),ur=gr==null?void 0:gr.addressMap,_r=gr==null?void 0:gr.direction;ur!=null&&_r!=null&&(vr.push(_r),fr.push(sr),fr.push(dr),ur.forEach(hr=>{ar===0?or.push(hr):rr.push(hr)}))}for(const ar of or)if(rr.length>0)for(const sr of rr){const dr={stepNums:2,poolAB:ar,poolBC:sr,a2b:vr[0],b2c:vr[1],amount:et,byAmountIn:tt,coinTypeA:fr[0],coinTypeB:fr[1],coinTypeC:fr[3]};Ut.push(dr)}else{const sr={stepNums:1,poolAB:ar,poolBC:void 0,a2b:vr[0],b2c:void 0,amount:et,byAmountIn:tt,coinTypeA:fr[0],coinTypeB:fr[1],coinTypeC:void 0};Ut.push(sr)}}const Vt=Ut.filter($r=>$r.stepNums===1),Yt=Ut.filter($r=>$r.stepNums!==1);let er=[];try{er=await this.getPoolWithTVL()}catch{er=[]}if(er.length>0){const $r=new Map(er.map(Sr=>[Sr.poolAddress,Sr]));Yt.sort((Sr,fr)=>{let vr=0,or=0;if($r.has(Sr.poolAB)&&$r.has(Sr.poolBC)){const rr=$r.get(Sr.poolAB),ar=$r.get(Sr.poolBC);vr=Math.min(rr.tvl,ar.tvl)}if($r.has(fr.poolAB)&&$r.has(fr.poolBC)){const rr=$r.get(fr.poolAB),ar=$r.get(fr.poolBC);or=Math.min(rr.tvl,ar.tvl)}return or-vr})}if(Ut=[...Vt,...Yt],Ut.length===0){if(ut!=null){const $r=await this.sdk.Swap.preSwapWithMultiPool(ut),Sr={amountIn:new BN($r.estimatedAmountIn),amountOut:new BN($r.estimatedAmountOut),poolAddress:[$r.poolAddress],a2b:[$r.aToB],rawAmountLimit:tt?[$r.estimatedAmountOut]:[$r.estimatedAmountIn],isExceed:$r.isExceed,coinType:[a,s]},fr={paths:[Sr],partner:ct,priceSlippagePoint:at};return{amountIn:new BN($r.estimatedAmountIn),amountOut:new BN($r.estimatedAmountOut),paths:[Sr],a2b:$r.aToB,b2c:void 0,byAmountIn:tt,isExceed:$r.isExceed,targetSqrtPrice:[$r.estimatedEndSqrtPrice],currentSqrtPrice:[$r.estimatedStartSqrtPrice],coinTypeA:a,coinTypeB:s,coinTypeC:void 0,createTxParams:fr}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}const tr=await this.preRouterSwapA2B2C(Ut.slice(0,16));if(tr==null){if(ut!=null){const Sr=await this.sdk.Swap.preSwapWithMultiPool(ut),fr={amountIn:new BN(Sr.estimatedAmountIn),amountOut:new BN(Sr.estimatedAmountOut),poolAddress:[Sr.poolAddress],a2b:[Sr.aToB],rawAmountLimit:tt?[Sr.estimatedAmountOut]:[Sr.estimatedAmountIn],isExceed:Sr.isExceed,coinType:[a,s]},vr={paths:[fr],partner:ct,priceSlippagePoint:at};return{amountIn:new BN(Sr.estimatedAmountIn),amountOut:new BN(Sr.estimatedAmountOut),paths:[fr],a2b:Sr.aToB,b2c:void 0,byAmountIn:tt,isExceed:Sr.isExceed,targetSqrtPrice:[Sr.estimatedEndSqrtPrice],currentSqrtPrice:[Sr.estimatedStartSqrtPrice],coinTypeA:a,coinTypeB:s,coinTypeC:void 0,createTxParams:vr}}return{amountIn:ZERO$1,amountOut:ZERO$1,paths:[],a2b:!1,b2c:!1,byAmountIn:tt,isExceed:!0,targetSqrtPrice:[],currentSqrtPrice:[],coinTypeA:"",coinTypeB:"",coinTypeC:void 0,createTxParams:void 0}}const nr=tr.index,ir=Ut[nr].poolBC!=null?[Ut[nr].poolAB,Ut[nr].poolBC]:[Ut[nr].poolAB],lr=tt?[tr.amountMedium,tr.amountOut]:[tr.amountIn,tr.amountMedium],pr=[];pr.push(Ut[nr].a2b),tr.stepNum>1&&pr.push(Ut[nr].b2c);const yr=[];yr.push(Ut[nr].coinTypeA),yr.push(Ut[nr].coinTypeB),tr.stepNum>1&&yr.push(Ut[nr].coinTypeC);const br={amountIn:tr.amountIn,amountOut:tr.amountOut,poolAddress:ir,a2b:pr,rawAmountLimit:lr,isExceed:tr.isExceed,coinType:yr},xr={paths:[br],partner:ct,priceSlippagePoint:at};return{amountIn:tr.amountIn,amountOut:tr.amountOut,paths:[br],a2b:Ut[nr].a2b,b2c:tr.stepNum>1?Ut[nr].b2c:void 0,byAmountIn:tt,isExceed:tr.isExceed,targetSqrtPrice:tr.targetSqrtPrice,currentSqrtPrice:tr.currentSqrtPrice,coinTypeA:Ut[nr].coinTypeA,coinTypeB:Ut[nr].coinTypeB,coinTypeC:tr.stepNum>1?Ut[nr].coinTypeC:void 0,createTxParams:xr}}async priceUseV1(a,s,et,tt,at,ct,ut){if(ut!=null){const bt=await this.sdk.Swap.preSwapWithMultiPool(ut),wt={amountIn:new BN(bt.estimatedAmountIn),amountOut:new BN(bt.estimatedAmountOut),poolAddress:[bt.poolAddress],a2b:[bt.aToB],rawAmountLimit:tt?[bt.estimatedAmountOut]:[bt.estimatedAmountIn],isExceed:bt.isExceed,coinType:[a,s]},Et={paths:[wt],partner:ct,priceSlippagePoint:at};return{amountIn:new BN(bt.estimatedAmountIn),amountOut:new BN(bt.estimatedAmountOut),paths:[wt],a2b:bt.aToB,b2c:void 0,byAmountIn:tt,isExceed:bt.isExceed,targetSqrtPrice:[bt.estimatedEndSqrtPrice],currentSqrtPrice:[bt.estimatedStartSqrtPrice],coinTypeA:a,coinTypeB:s,coinTypeC:void 0,createTxParams:Et}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}async preRouterSwapA2B2C(a){var jt;if(a.length===0)return null;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,tt=new Transaction;for(const Lt of a)if(Lt.stepNums>1){const Ut=[tt.object(Lt.poolAB),tt.object(Lt.poolBC),tt.pure.bool(Lt.a2b),tt.pure.bool(Lt.b2c),tt.pure.bool(Lt.byAmountIn),tt.pure.u64(Lt.amount.toString())],Vt=[];Lt.a2b?Vt.push(Lt.coinTypeA,Lt.coinTypeB):Vt.push(Lt.coinTypeB,Lt.coinTypeA),Lt.b2c?Vt.push(Lt.coinTypeB,Lt.coinTypeC):Vt.push(Lt.coinTypeC,Lt.coinTypeB),tt.moveCall({target:`${s.published_at}::${ClmmIntegrateRouterModule}::calculate_router_swap_result`,typeArguments:Vt,arguments:Ut})}else{const Ut=[tt.object(Lt.poolAB),tt.pure.bool(Lt.a2b),tt.pure.bool(Lt.byAmountIn),tt.pure.u64(Lt.amount.toString())],Vt=Lt.a2b?[Lt.coinTypeA,Lt.coinTypeB]:[Lt.coinTypeB,Lt.coinTypeA];tt.moveCall({target:`${s.published_at}::${ClmmExpectSwapModule}::get_expect_swap_result`,arguments:Ut,typeArguments:Vt})}if(!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const ct=(jt=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:tt,sender:et.address})).events)==null?void 0:jt.filter(Lt=>extractStructTagFromType$1(Lt.type).name==="CalculatedRouterSwapResultEvent"||extractStructTagFromType$1(Lt.type).name==="ExpectSwapResultEvent");if(ct.length===0)return null;let ut=a[0].byAmountIn?ZERO$1:U64_MAX,bt=0;for(let Lt=0;Lt<ct.length;Lt+=1)if(!ct[Lt].parsedJson.data.is_exceed)if(a[0].byAmountIn){const Ut=new BN(ct[Lt].parsedJson.data.amount_out);Ut.gt(ut)&&(bt=Lt,ut=Ut)}else{const Ut=a[Lt].stepNums>1?new BN(ct[Lt].parsedJson.data.amount_in):new BN(ct[Lt].parsedJson.data.amount_in).add(new BN(ct[Lt].parsedJson.data.fee_amount));Ut.lt(ut)&&(bt=Lt,ut=Ut)}const wt=[],Et=[];return a[bt].stepNums>1?(Et.push(ct[bt].parsedJson.data.target_sqrt_price_ab,ct[bt].parsedJson.data.target_sqrt_price_cd),wt.push(ct[bt].parsedJson.data.current_sqrt_price_ab,ct[bt].parsedJson.data.current_sqrt_price_cd)):(Et.push(ct[bt].parsedJson.data.after_sqrt_price),wt.push(ct[bt].parsedJson.current_sqrt_price)),{index:bt,amountIn:a[0].byAmountIn?a[bt].amount:ut,amountMedium:ct[bt].parsedJson.data.amount_medium,amountOut:a[0].byAmountIn?ut:a[bt].amount,targetSqrtPrice:Et,currentSqrtPrice:wt,isExceed:ct[bt].parsedJson.data.is_exceed,stepNum:a[bt].stepNums}}async getPoolWithTVL(){const a=[],{swapCountUrl:s}=this._sdk.sdkOptions;if(!s)return a;let et;try{et=await fetch(s)}catch{throw new ClmmpoolsError(`Failed to get pool list with liquidity from ${s}.`,"InvalidSwapCountUrl")}let tt;try{tt=await et.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${s}].`,"InvalidSwapCountUrl")}if(tt.code!==200)throw new ClmmpoolsError(`Failed to get pool list from ${s}. Statu code is ${tt.code}.`,"InvalidSwapCountUrl");const{pools:at}=tt.data;for(const ct of at)a.push({poolAddress:ct.swap_account,tvl:Number(ct.tvl_in_usd)});return a}},SwapModule=class{constructor(a){dn(this,"_sdk");dn(this,"calculateSingleImpact",(a,s)=>s.minus(a).div(s).mul(100));this._sdk=a}get sdk(){return this._sdk}calculateSwapFee(a){let s=d$3(0);return a.forEach(et=>{const tt=et.basePaths.length;if(tt>0){const at=et.basePaths[0],ct=at.label==="Cetus"?new Decimal$1(at.feeRate).div(10**6):new Decimal$1(at.feeRate).div(10**9),ut=d$3(at.inputAmount).div(10**at.fromDecimal).mul(ct);if(s=s.add(ut),tt>1){const bt=et.basePaths[1],wt=at.direction?at.currentPrice:new Decimal$1(1).div(at.currentPrice),Et=bt.direction?bt.currentPrice:new Decimal$1(1).div(bt.currentPrice),Ft=bt.label==="Cetus"?new Decimal$1(bt.feeRate).div(10**6):new Decimal$1(bt.feeRate).div(10**9),Lt=d$3(bt.outputAmount).div(10**bt.toDecimal).mul(Ft).div(wt.mul(Et));s=s.add(Lt)}}}),s.toString()}calculateSwapPriceImpact(a){let s=d$3(0);return a.forEach(et=>{const tt=et.basePaths.length;if(tt===1){const at=et.basePaths[0],ct=d$3(at.outputAmount).div(10**at.toDecimal),ut=d$3(at.inputAmount).div(10**at.fromDecimal),bt=ct.div(ut),wt=at.direction?new Decimal$1(at.currentPrice):new Decimal$1(1).div(at.currentPrice);s=s.add(this.calculateSingleImpact(bt,wt))}if(tt===2){const at=et.basePaths[0],ct=et.basePaths[1],ut=at.direction?new Decimal$1(at.currentPrice):new Decimal$1(1).div(at.currentPrice),bt=ct.direction?new Decimal$1(ct.currentPrice):new Decimal$1(1).div(ct.currentPrice),wt=ut.mul(bt),Et=new Decimal$1(ct.outputAmount).div(10**ct.toDecimal),Ft=new Decimal$1(at.inputAmount).div(10**at.fromDecimal),jt=Et.div(Ft);s=s.add(this.calculateSingleImpact(jt,wt))}}),s.toString()}async preSwapWithMultiPool(a){var Et;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,tt=new Transaction,at=[a.coinTypeA,a.coinTypeB];for(let Ft=0;Ft<a.poolAddresses.length;Ft+=1){const jt=[tt.object(a.poolAddresses[Ft]),tt.pure.bool(a.a2b),tt.pure.bool(a.byAmountIn),tt.pure.u64(a.amount)];tt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:jt,typeArguments:at})}if(!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:tt,sender:et.address});if(ct.error!=null)throw new ClmmpoolsError(`pre swap with multi pools error code: ${ct.error??"unknown error"}, please check config and params`,"InvalidConfig");const ut=(Et=ct.events)==null?void 0:Et.filter(Ft=>extractStructTagFromType$1(Ft.type).name==="CalculatedSwapResultEvent");if(ut.length===0)return null;if(ut.length!==a.poolAddresses.length)throw new ClmmpoolsError("valueData.length !== params.pools.length","ParamsLengthNotEqual");let bt=a.byAmountIn?ZERO$1:U64_MAX,wt=0;for(let Ft=0;Ft<ut.length;Ft+=1)if(!ut[Ft].parsedJson.data.is_exceed)if(a.byAmountIn){const jt=new BN(ut[Ft].parsedJson.data.amount_out);jt.gt(bt)&&(wt=Ft,bt=jt)}else{const jt=new BN(ut[Ft].parsedJson.data.amount_out);jt.lt(bt)&&(wt=Ft,bt=jt)}return this.transformSwapWithMultiPoolData({poolAddress:a.poolAddresses[wt],a2b:a.a2b,byAmountIn:a.byAmountIn,amount:a.amount,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB},ut[wt].parsedJson)}async preswap(a){var wt;const{integrate:s,simulationAccount:et}=this.sdk.sdkOptions,tt=new Transaction,at=[a.coinTypeA,a.coinTypeB],ct=[tt.object(a.pool.poolAddress),tt.pure.bool(a.a2b),tt.pure.bool(a.byAmountIn),tt.pure.u64(a.amount)];if(tt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:ct,typeArguments:at}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const ut=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:tt,sender:et.address});if(ut.error!=null)throw new ClmmpoolsError(`preswap error code: ${ut.error??"unknown error"}, please check config and params`,"InvalidConfig");const bt=(wt=ut.events)==null?void 0:wt.filter(Et=>extractStructTagFromType$1(Et.type).name==="CalculatedSwapResultEvent");return bt.length===0?null:this.transformSwapData(a,bt[0].parsedJson.data)}transformSwapData(a,s){const et=s.amount_in&&s.fee_amount?new BN(s.amount_in).add(new BN(s.fee_amount)).toString():"";return{poolAddress:a.pool.poolAddress,currentSqrtPrice:a.currentSqrtPrice,estimatedAmountIn:et,estimatedAmountOut:s.amount_out,estimatedEndSqrtPrice:s.after_sqrt_price,estimatedFeeAmount:s.fee_amount,isExceed:s.is_exceed,amount:a.amount,aToB:a.a2b,byAmountIn:a.byAmountIn}}transformSwapWithMultiPoolData(a,s){const{data:et}=s;console.log("json data. ",et);const tt=et.amount_in&&et.fee_amount?new BN(et.amount_in).add(new BN(et.fee_amount)).toString():"";return{poolAddress:a.poolAddress,estimatedAmountIn:tt,estimatedAmountOut:et.amount_out,estimatedEndSqrtPrice:et.after_sqrt_price,estimatedStartSqrtPrice:et.step_results[0].current_sqrt_price,estimatedFeeAmount:et.fee_amount,isExceed:et.is_exceed,amount:a.amount,aToB:a.a2b,byAmountIn:a.byAmountIn}}calculateRates(a){const{currentPool:s}=a,et=transClmmpoolDataWithoutTicks(s);let tt;a.a2b?tt=a.swapTicks.sort((jt,Lt)=>Lt.index-jt.index):tt=a.swapTicks.sort((jt,Lt)=>jt.index-Lt.index);const at=computeSwap(a.a2b,a.byAmountIn,a.amount,et,tt);let ct=!1;a.byAmountIn?ct=at.amountIn.lt(a.amount):ct=at.amountOut.lt(a.amount);const ut=SwapUtils.getDefaultSqrtPriceLimit(a.a2b);a.a2b&&at.nextSqrtPrice.lt(ut)&&(ct=!0),!a.a2b&&at.nextSqrtPrice.gt(ut)&&(ct=!0);let bt=0;at.crossTickNum>6&&at.crossTickNum<40&&(bt=22e3*(at.crossTickNum-6)),at.crossTickNum>40&&(ct=!0);const wt=TickMath.sqrtPriceX64ToPrice(et.currentSqrtPrice,a.decimalsA,a.decimalsB).toNumber(),Et=TickMath.sqrtPriceX64ToPrice(at.nextSqrtPrice,a.decimalsA,a.decimalsB).toNumber(),Ft=Math.abs(wt-Et)/wt*100;return{estimatedAmountIn:at.amountIn,estimatedAmountOut:at.amountOut,estimatedEndSqrtPrice:at.nextSqrtPrice,estimatedFeeAmount:at.feeAmount,isExceed:ct,extraComputeLimit:bt,amount:a.amount,aToB:a.a2b,byAmountIn:a.byAmountIn,priceImpactPct:Ft}}async createSwapTransactionPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(s){const{isAdjustCoinA:tt,isAdjustCoinB:at}=findAdjustCoin(a);if(a.a2b&&tt||!a.a2b&&at)return await TransactionUtil.buildSwapTransactionForGas(this._sdk,a,et,s)}return TransactionUtil.buildSwapTransaction(this.sdk,a,et)}async createSwapTransactionWithoutTransferCoinsPayload(a,s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(s){const{isAdjustCoinA:tt,isAdjustCoinB:at}=findAdjustCoin(a);if(a.a2b&&tt||!a.a2b&&at)return await TransactionUtil.buildSwapTransactionWithoutTransferCoinsForGas(this._sdk,a,et,s)}return TransactionUtil.buildSwapTransactionWithoutTransferCoins(this.sdk,a,et)}},TokenModule=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getAllRegisteredTokenList(a=!1){return await this.factchTokenList("",a)}async getOwnerTokenList(a="",s=!1){return await this.factchTokenList(a,s)}async getAllRegisteredPoolList(a=!1){return await this.factchPoolList("",a)}async getOwnerPoolList(a="",s=!1){return await this.factchPoolList(a,s)}async getWarpPoolList(a=!1){return await this.factchWarpPoolList("","",a)}async getOwnerWarpPoolList(a="",s="",et=!1){return await this.factchWarpPoolList(a,s,et)}async getTokenListByCoinTypes(a){const s={},tt=this.getCache("getAllRegisteredTokenList");if(tt!==void 0){const ct=tt;for(const ut of a)for(const bt of ct)if(normalizeCoinType$1(ut)===normalizeCoinType$1(bt.address)){s[ut]=bt;continue}}const at=a.filter(ct=>s[ct]===void 0);for(const ct of at){const ut=`${ct}_metadata`,bt=this.getCache(ut);if(bt!==void 0)s[ct]=bt;else{const wt=await this._sdk.fullClient.getCoinMetadata({coinType:ct});if(wt){const Et={id:wt.id,name:wt.name,symbol:wt.symbol,official_symbol:wt.symbol,coingecko_id:"",decimals:wt.decimals,project_url:"",logo_url:wt.iconUrl,address:ct};s[ct]=Et,this.updateCache(ut,Et,cacheTime24h)}}}return s}async factchTokenList(a="",s=!1){var jt;const{simulationAccount:et,token:tt}=this.sdk.sdkOptions,ct=this.getCache("getAllRegisteredTokenList",s);if(ct!==void 0)return ct;const ut=a.length>0,bt=512;let wt=0,Et=[];if(tt===void 0)throw Error("please config token ofsdkOptions");const Ft=getPackagerConfigs(tt);for(;;){const Lt=new Transaction;Lt.moveCall({target:`${tt.published_at}::coin_list::${ut?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:ut?[Lt.pure.address(Ft.coin_registry_id),Lt.pure.address(a),Lt.pure.u64(wt),Lt.pure.u64(bt)]:[Lt.pure.address(Ft.coin_registry_id),Lt.pure.u64(wt),Lt.pure.u64(bt)]});const Ut=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Lt,sender:et.address}),Vt=[];if((jt=Ut.events)==null||jt.forEach(Yt=>{extractStructTagFromType$1(Yt.type).full_address===`${tt.published_at}::coin_list::FetchCoinListEvent`&&Yt.parsedJson.full_list.value_list.forEach(tr=>{Vt.push(this.transformData(tr,!1))})}),Et=[...Et,...Vt],Vt.length<bt)break;wt=Et.length}return Et}async factchPoolList(a="",s=!1){var jt;const{simulationAccount:et,token:tt}=this.sdk.sdkOptions,ct=this.getCache("getAllRegisteredPoolList",s);if(ct!==void 0)return ct;let ut=[];const bt=512;let wt=0;const Et=a.length>0;if(tt===void 0)throw Error("please config token ofsdkOptions");const Ft=getPackagerConfigs(tt);for(;;){const Lt=new Transaction;if(Lt.moveCall({target:`${tt.published_at}::lp_list::${Et?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:Et?[Lt.pure.address(Ft.pool_registry_id),Lt.pure.address(a),Lt.pure.u64(wt),Lt.pure.u64(bt)]:[Lt.pure.address(Ft.pool_registry_id),Lt.pure.u64(wt),Lt.pure.u64(bt)]}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const Ut=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Lt,sender:et.address}),Vt=[];if((jt=Ut.events)==null||jt.forEach(Yt=>{extractStructTagFromType$1(Yt.type).full_address===`${tt.published_at}::lp_list::FetchPoolListEvent`&&Yt.parsedJson.full_list.value_list.forEach(tr=>{Vt.push(this.transformData(tr,!0))})}),ut=[...ut,...Vt],Vt.length<bt)break;wt=ut.length}return ut}async factchWarpPoolList(a="",s="",et=!1){const tt=await this.factchPoolList(a,et);if(tt.length===0)return[];const at=await this.factchTokenList(s,et),ct=[];for(const ut of tt){for(const bt of at)bt.address===ut.coin_a_address&&(ut.coinA=bt),bt.address===ut.coin_b_address&&(ut.coinB=bt);ct.push(ut)}return ct}async getTokenConfigEvent(a=!1){const s=this._sdk.sdkOptions.token.package_id,et=`${s}_getTokenConfigEvent`,tt=this.getCache(et,a);if(tt!==void 0)return tt;const at=await this._sdk.fullClient.getObject({id:s,options:{showPreviousTransaction:!0}}),ct=getObjectPreviousTransactionDigest(at),ut=await this._sdk.fullClient.queryEventsByPage({Transaction:ct}),bt={coin_registry_id:"",pool_registry_id:"",coin_list_owner:"",pool_list_owner:""};return ut.data.length>0&&ut.data.forEach(wt=>{const Et=extractStructTagFromType$1(wt.type);if(wt.transactionModule==="coin_list")switch(Et.name){case"InitListEvent":bt.coin_list_owner=wt.parsedJson.list_id;break;case"InitRegistryEvent":bt.coin_registry_id=wt.parsedJson.registry_id;break}else if(wt.transactionModule==="lp_list")switch(Et.name){case"InitListEvent<address>":bt.pool_list_owner=wt.parsedJson.list_id;break;case"InitRegistryEvent<address>":bt.pool_registry_id=wt.parsedJson.registry_id;break}}),bt.coin_registry_id.length>0&&this.updateCache(et,bt,cacheTime24h),bt}transformData(a,s){const et={...a};if(s)try{et.coin_a_address=extractStructTagFromType$1(et.coin_a_address).full_address,et.coin_b_address=extractStructTagFromType$1(et.coin_b_address).full_address}catch{}else et.address=extractStructTagFromType$1(et.address).full_address;if(a.extensions){const tt=a.extensions.contents;for(const at of tt){const{key:ct}=at;let{value:ut}=at;if(ct==="labels")try{ut=JSON.parse(decodeURIComponent(gBase64.decode(ut)))}catch{}ct==="pyth_id"&&(ut=normalizeSuiObjectId$1(ut)),et[ct]=ut}delete et.extensions}return et}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){const et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},RouterModuleV2=class{constructor(a){dn(this,"_sdk");this._sdk=a}get sdk(){return this._sdk}calculatePrice(a,s,et,tt,at){const ct=tt?s:et,ut=tt?et:s;return at==="Cetus"?TickMath.sqrtPriceX64ToPrice(a,ct,ut):new Decimal$1(a.toString()).div(new Decimal$1(10).pow(new Decimal$1(ut+9-ct)))}parseJsonResult(a){return{isExceed:a.is_exceed,isTimeout:a.is_timeout,inputAmount:a.input_amount,outputAmount:a.output_amount,fromCoin:a.from_coin,toCoin:a.to_coin,byAmountIn:a.by_amount_in,splitPaths:a.split_paths.map(et=>({pathIndex:et.path_index,lastQuoteOutput:et.last_quote_output,percent:et.percent,basePaths:et.best_path.map(at=>({direction:at.direction,label:at.label,poolAddress:at.provider,fromCoin:at.from_coin,toCoin:at.to_coin,outputAmount:at.output_amount,inputAmount:at.input_amount,feeRate:at.fee_rate,currentSqrtPrice:new BN(at.current_sqrt_price.toString()),afterSqrtPrice:at.label==="Cetus"?new BN(at.after_sqrt_price.toString()):ZERO$1,fromDecimal:at.from_decimal,toDecimal:at.to_decimal,currentPrice:this.calculatePrice(new BN(at.current_sqrt_price.toString()),at.from_decimal,at.to_decimal,at.direction,at.label)})),inputAmount:et.input_amount,outputAmount:et.output_amount}))}}async fetchDataWithAxios(a,s,et){try{const tt={...s,timeout:et},at=await axios$1(a,tt);return at.status===200?this.parseJsonResult(at.data):null}catch(tt){return console.error(tt),null}}async getBestRouter(a,s,et,tt,at,ct,ut,bt,wt=!1,Et=!1,Ft=[]){let jt=null,Lt="v2",Ut={},Vt=this.sdk.sdkOptions.aggregatorUrl;if(Ft.length>0){const Yt=new URL(Vt);Vt=`${Yt.protocol}//${Yt.hostname}/router_with_lp_changes`,Ut={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:a,to:s,amount:et,by_amount_in:tt,order_split:wt,external_router:Et,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:Ft})}}else Vt=`
      ${Vt}?from=${encodeURIComponent(a)}&to=${encodeURIComponent(s)}&amount=${encodeURIComponent(et)}&by_amount_in=${encodeURIComponent(tt)}&order_split=${encodeURIComponent(wt)}&external_router=${encodeURIComponent(Et)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(jt=await this.fetchDataWithAxios(Vt,Ut,6e3),jt==null){const Yt=await this.sdk.Router.priceUseV1(a,s,new BN(et),tt,at,ct,bt),er=[];for(const nr of Yt.paths){const ir=[];if(nr.poolAddress.length>1){const pr=this.sdk.Router.tokenInfo(nr.coinType[0]).decimals,yr=this.sdk.Router.tokenInfo(nr.coinType[1]).decimals,br=nr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(Yt.currentSqrtPrice[0]),pr,yr):TickMath.sqrtPriceX64ToPrice(new BN(Yt.currentSqrtPrice[0]),yr,pr),xr={direction:nr.a2b[0],label:"Cetus",poolAddress:nr.poolAddress[0],fromCoin:nr.coinType[0],toCoin:nr.coinType[1],feeRate:this.sdk.Router.getFeeRate(nr.coinType[0],nr.coinType[1],nr.poolAddress[0]),outputAmount:Yt.byAmountIn?nr.rawAmountLimit[0].toString():nr.rawAmountLimit[1].toString(),inputAmount:nr.amountIn.toString(),currentSqrtPrice:Yt.currentSqrtPrice[0],currentPrice:br,fromDecimal:pr,toDecimal:yr},Er=this.sdk.Router.tokenInfo(nr.coinType[1]).decimals,$r=this.sdk.Router.tokenInfo(nr.coinType[2]).decimals,Sr=nr.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN(Yt.currentSqrtPrice[1]),Er,$r):TickMath.sqrtPriceX64ToPrice(new BN(Yt.currentSqrtPrice[1]),$r,Er),fr={direction:nr.a2b[1],label:"Cetus",poolAddress:nr.poolAddress[1],fromCoin:nr.coinType[1],toCoin:nr.coinType[2],feeRate:this.sdk.Router.getFeeRate(nr.coinType[1],nr.coinType[2],nr.poolAddress[1]),outputAmount:nr.amountOut.toString(),inputAmount:Yt.byAmountIn?nr.rawAmountLimit[0].toString():nr.rawAmountLimit[1].toString(),currentSqrtPrice:Yt.currentSqrtPrice[1],currentPrice:Sr,fromDecimal:Er,toDecimal:$r};ir.push(xr,fr)}else{const pr=this.sdk.Router.tokenInfo(nr.coinType[0]).decimals,yr=this.sdk.Router.tokenInfo(nr.coinType[1]).decimals,br=nr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(Yt.currentSqrtPrice[0]),pr,yr):TickMath.sqrtPriceX64ToPrice(new BN(Yt.currentSqrtPrice[0]),yr,pr),xr={direction:nr.a2b[0],label:"Cetus",poolAddress:nr.poolAddress[0],fromCoin:nr.coinType[0],toCoin:nr.coinType[1],feeRate:this.sdk.Router.getFeeRate(nr.coinType[0],nr.coinType[1],nr.poolAddress[0]),outputAmount:nr.amountOut.toString(),inputAmount:nr.amountIn.toString(),currentSqrtPrice:Yt.currentSqrtPrice[0],currentPrice:br,fromDecimal:pr,toDecimal:yr};ir.push(xr)}const lr={percent:Number(nr.amountIn)/Number(Yt.amountIn)*100,inputAmount:Number(nr.amountIn.toString()),outputAmount:Number(nr.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:ir};er.push(lr)}const tr={isExceed:Yt.isExceed,isTimeout:!0,inputAmount:Number(Yt.amountIn.toString()),outputAmount:Number(Yt.amountOut.toString()),fromCoin:Yt.coinTypeA,toCoin:Yt.coinTypeC!=null?Yt.coinTypeC:Yt.coinTypeB,byAmountIn:Yt.byAmountIn,splitPaths:er};Lt="v1",jt=tr}return{result:jt,version:Lt}}async getBestRouterByServer(a,s,et,tt,at,ct=!1,ut=!1,bt=[]){let wt=null,Et={},Ft=this.sdk.sdkOptions.aggregatorUrl;if(bt.length>0){const jt=new URL(Ft);Ft=`${jt.protocol}//${jt.hostname}/router_with_lp_changes`,Et={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:a,to:s,amount:et,by_amount_in:tt,order_split:ct,external_router:ut,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:bt})}}else Ft=`
      ${Ft}?from=${encodeURIComponent(a)}&to=${encodeURIComponent(s)}&amount=${encodeURIComponent(et)}&by_amount_in=${encodeURIComponent(tt)}&order_split=${encodeURIComponent(ct)}&external_router=${encodeURIComponent(ut)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(wt=await this.fetchDataWithAxios(Ft,Et,6e3),wt==null)throw new ClmmpoolsError("Invalid server response","InvalidServerResponse");return wt}async getBestRouterByRpc(a,s,et,tt,at,ct,ut){const bt=await this.sdk.Router.priceUseV1(a,s,new BN(et),tt,at,ct,ut),wt=[];for(const Ft of bt.paths){const jt=[];if(Ft.poolAddress.length>1){const Ut=this.sdk.Router.tokenInfo(Ft.coinType[0]).decimals,Vt=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,Yt=Ft.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(bt.currentSqrtPrice[0]),Ut,Vt):TickMath.sqrtPriceX64ToPrice(new BN(bt.currentSqrtPrice[0]),Vt,Ut),er={direction:Ft.a2b[0],label:"Cetus",poolAddress:Ft.poolAddress[0],fromCoin:Ft.coinType[0],toCoin:Ft.coinType[1],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[0],Ft.coinType[1],Ft.poolAddress[0]),outputAmount:bt.byAmountIn?Ft.rawAmountLimit[0].toString():Ft.rawAmountLimit[1].toString(),inputAmount:Ft.amountIn.toString(),currentSqrtPrice:bt.currentSqrtPrice[0],currentPrice:Yt,fromDecimal:Ut,toDecimal:Vt},tr=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,nr=this.sdk.Router.tokenInfo(Ft.coinType[2]).decimals,ir=Ft.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN(bt.currentSqrtPrice[1]),tr,nr):TickMath.sqrtPriceX64ToPrice(new BN(bt.currentSqrtPrice[1]),nr,tr),lr={direction:Ft.a2b[1],label:"Cetus",poolAddress:Ft.poolAddress[1],fromCoin:Ft.coinType[1],toCoin:Ft.coinType[2],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[1],Ft.coinType[2],Ft.poolAddress[1]),outputAmount:Ft.amountOut.toString(),inputAmount:bt.byAmountIn?Ft.rawAmountLimit[0].toString():Ft.rawAmountLimit[1].toString(),currentSqrtPrice:bt.currentSqrtPrice[1],currentPrice:ir,fromDecimal:tr,toDecimal:nr};jt.push(er,lr)}else{const Ut=this.sdk.Router.tokenInfo(Ft.coinType[0]).decimals,Vt=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,Yt=Ft.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(bt.currentSqrtPrice[0]),Ut,Vt):TickMath.sqrtPriceX64ToPrice(new BN(bt.currentSqrtPrice[0]),Vt,Ut),er={direction:Ft.a2b[0],label:"Cetus",poolAddress:Ft.poolAddress[0],fromCoin:Ft.coinType[0],toCoin:Ft.coinType[1],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[0],Ft.coinType[1],Ft.poolAddress[0]),outputAmount:Ft.amountOut.toString(),inputAmount:Ft.amountIn.toString(),currentSqrtPrice:bt.currentSqrtPrice[0],currentPrice:Yt,fromDecimal:Ut,toDecimal:Vt};jt.push(er)}const Lt={percent:Number(Ft.amountIn)/Number(bt.amountIn)*100,inputAmount:Number(Ft.amountIn.toString()),outputAmount:Number(Ft.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:jt};wt.push(Lt)}return{isExceed:bt.isExceed,isTimeout:!0,inputAmount:Number(bt.amountIn.toString()),outputAmount:Number(bt.amountOut.toString()),fromCoin:bt.coinTypeA,toCoin:bt.coinTypeC!=null?bt.coinTypeC:bt.coinTypeB,byAmountIn:bt.byAmountIn,splitPaths:wt}}},ConfigModule=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}setTokenListCache(a){const{coin_list_handle:s}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),et=`${s}_getCoinConfigs`,tt=this.getCache(et),at=tt?[...tt,...a]:a;this.updateCache(et,at,cacheTime24h)}async getTokenListByCoinTypes(a){const s={},{coin_list_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),tt=`${et}_getCoinConfigs`,at=this.getCache(tt);if(at!==void 0){const ut=at;for(const bt of a)for(const wt of ut)if(normalizeCoinType$1(bt)===normalizeCoinType$1(wt.address)){s[bt]=wt;continue}}const ct=a.filter(ut=>s[ut]===void 0);for(const ut of ct){const bt=`${ut}_metadata`,wt=this.getCache(bt);if(wt!==void 0)s[ut]=wt;else{const Et=await this._sdk.fullClient.getCoinMetadata({coinType:ut});if(Et){const Ft={id:Et.id,pyth_id:"",name:Et.name,symbol:Et.symbol,official_symbol:Et.symbol,coingecko_id:"",decimals:Et.decimals,project_url:"",logo_url:Et.iconUrl,address:ut};s[ut]=Ft,this.updateCache(bt,Ft,cacheTime24h)}else console.log(`not found ${ut}`)}}return s}async getCoinConfigs(a=!1,s=!0){const{coin_list_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),tt=`${et}_getCoinConfigs`,at=this.getCache(tt,a);if(at)return at;const ut=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Et=>Et.objectId),bt=await this._sdk.fullClient.batchGetObjects(ut,{showContent:!0}),wt=[];return bt.forEach(Et=>{var jt,Lt;if(Et.error!=null||((Lt=(jt=Et.data)==null?void 0:jt.content)==null?void 0:Lt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${Et.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildCoinConfig(Et,s);this.updateCache(`${et}_${Ft.address}_getCoinConfig`,Ft,cacheTime24h),wt.push({...Ft})}),this.updateCache(tt,wt,cacheTime24h),wt}async getCoinConfig(a,s=!1,et=!0){var wt,Et;const{coin_list_handle:tt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${tt}_${a}_getCoinConfig`,ct=this.getCache(at,s);if(ct)return ct;const ut=await this._sdk.fullClient.getDynamicFieldObject({parentId:tt,name:{type:"0x1::type_name::TypeName",value:{name:fixCoinType(a)}}});if(ut.error!=null||((Et=(wt=ut.data)==null?void 0:wt.content)==null?void 0:Et.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfig get object error: ${ut.error}, please check the rpc and contracts address config.`,"InvalidConfig");const bt=this.buildCoinConfig(ut,et);return this.updateCache(at,bt,cacheTime24h),bt}buildCoinConfig(a,s=!0){let et=getObjectFields(a);et=et.value.fields;const tt={...et};return tt.id=getObjectId(a),tt.address=extractStructTagFromType$1(et.coin_type.fields.name).full_address,et.pyth_id&&(tt.pyth_id=normalizeSuiObjectId$1(et.pyth_id)),this.transformExtensions(tt,et.extension_fields.fields.contents,s),delete tt.coin_type,tt}async getClmmPoolConfigs(a=!1,s=!0){const{clmm_pools_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),tt=`${et}_getClmmPoolConfigs`,at=this.getCache(tt,a);if(at)return at;const ut=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Et=>Et.objectId),bt=await this._sdk.fullClient.batchGetObjects(ut,{showContent:!0}),wt=[];return bt.forEach(Et=>{var jt,Lt;if(Et.error!=null||((Lt=(jt=Et.data)==null?void 0:jt.content)==null?void 0:Lt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getClmmPoolsConfigs get objects error: ${Et.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildClmmPoolConfig(Et,s);this.updateCache(`${Ft.pool_address}_getClmmPoolConfig`,Ft,cacheTime24h),wt.push({...Ft})}),this.updateCache(tt,wt,cacheTime24h),wt}async getClmmPoolConfig(a,s=!1,et=!0){const{clmm_pools_handle:tt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${a}_getClmmPoolConfig`,ct=this.getCache(at,s);if(ct)return ct;const ut=await this._sdk.fullClient.getDynamicFieldObject({parentId:tt,name:{type:"address",value:a}}),bt=this.buildClmmPoolConfig(ut,et);return this.updateCache(at,bt,cacheTime24h),bt}buildClmmPoolConfig(a,s=!0){let et=getObjectFields(a);et=et.value.fields;const tt={...et};return tt.id=getObjectId(a),tt.pool_address=normalizeSuiObjectId$1(et.pool_address),this.transformExtensions(tt,et.extension_fields.fields.contents,s),tt}async getLaunchpadPoolConfigs(a=!1,s=!0){const{launchpad_pools_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),tt=`${et}_getLaunchpadPoolConfigs`,at=this.getCache(tt,a);if(at)return at;const ut=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Et=>Et.objectId),bt=await this._sdk.fullClient.batchGetObjects(ut,{showContent:!0}),wt=[];return bt.forEach(Et=>{var jt,Lt;if(Et.error!=null||((Lt=(jt=Et.data)==null?void 0:jt.content)==null?void 0:Lt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${Et.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildLaunchpadPoolConfig(Et,s);this.updateCache(`${Ft.pool_address}_getLaunchpadPoolConfig`,Ft,cacheTime24h),wt.push({...Ft})}),this.updateCache(tt,wt,cacheTime24h),wt}async getLaunchpadPoolConfig(a,s=!1,et=!0){const{launchpad_pools_handle:tt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${a}_getLaunchpadPoolConfig`,ct=this.getCache(at,s);if(ct)return ct;const ut=await this._sdk.fullClient.getDynamicFieldObject({parentId:tt,name:{type:"address",value:a}}),bt=this.buildLaunchpadPoolConfig(ut,et);return this.updateCache(at,bt,cacheTime24h),bt}buildLaunchpadPoolConfig(a,s=!0){let et=getObjectFields(a);et=et.value.fields;const tt={...et};tt.id=getObjectId(a),tt.pool_address=normalizeSuiObjectId$1(et.pool_address),this.transformExtensions(tt,et.extension_fields.fields.contents,s);const at=[];et.social_media.fields.contents.forEach(ct=>{at.push({name:ct.fields.value.fields.name,link:ct.fields.value.fields.link})}),tt.social_media=at;try{tt.regulation=decodeURIComponent(gBase64.decode(tt.regulation).replace(/%/g,"%25"))}catch{tt.regulation=gBase64.decode(tt.regulation)}return tt}transformExtensions(a,s,et=!0){const tt=[];for(const at of s){const{key:ct}=at.fields;let{value:ut}=at.fields;if(ct==="labels")try{const bt=decodeURIComponent(gBase64.decode(ut));try{ut=JSON.parse(bt)}catch{ut=bt}}catch{}et&&(a[ct]=ut),tt.push({key:ct,value:ut})}delete a.extension_fields,et||(a.extensions=tt)}async getCetusConfig(a=!1){const s=this._sdk.sdkOptions.cetus_config.package_id,et=`${s}_getCetusConfig`,tt=this.getCache(et,a);if(tt!==void 0)return tt;const at=await this._sdk.fullClient.getObject({id:s,options:{showPreviousTransaction:!0}}),ct=getObjectPreviousTransactionDigest(at),ut=await this._sdk.fullClient.queryEventsByPage({Transaction:ct});let bt={coin_list_id:"",launchpad_pools_id:"",clmm_pools_id:"",admin_cap_id:"",global_config_id:"",coin_list_handle:"",launchpad_pools_handle:"",clmm_pools_handle:""};if(ut.data.length>0)for(const wt of ut.data)switch(extractStructTagFromType$1(wt.type).name){case"InitCoinListEvent":bt.coin_list_id=wt.parsedJson.coin_list_id;break;case"InitLaunchpadPoolsEvent":bt.launchpad_pools_id=wt.parsedJson.launchpad_pools_id;break;case"InitClmmPoolsEvent":bt.clmm_pools_id=wt.parsedJson.pools_id;break;case"InitConfigEvent":bt.global_config_id=wt.parsedJson.global_config_id,bt.admin_cap_id=wt.parsedJson.admin_cap_id;break}return bt=await this.getCetusConfigHandle(bt),bt.clmm_pools_id.length>0&&this.updateCache(et,bt,cacheTime24h),bt}async getCetusConfigHandle(a){const s=[a.clmm_pools_id,a.coin_list_id,a.launchpad_pools_id];return(await this._sdk.fullClient.multiGetObjects({ids:s,options:{showContent:!0}})).forEach(tt=>{var ut,bt;if(tt.error!=null||((bt=(ut=tt.data)==null?void 0:ut.content)==null?void 0:bt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCetusConfigHandle get objects error: ${tt.error}, please check the rpc and contracts address config.`,"InvalidConfigHandle");const at=getObjectFields(tt),ct=getObjectType(tt);switch(extractStructTagFromType$1(ct).name){case"ClmmPools":a.clmm_pools_handle=at.pools.fields.id.id;break;case"CoinList":a.coin_list_handle=at.coins.fields.id.id;break;case"LaunchpadPools":a.launchpad_pools_handle=at.pools.fields.id.id;break}}),a}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){try{const et=this._cache[a];if(!et)return;if(s||!et.isValid()){delete this._cache[a];return}return et.value}catch(et){console.error(`Error accessing cache for key ${a}:`,et);return}}},CetusClmmSDK=class{constructor(a){dn(this,"_cache",{});dn(this,"_rpcModule");dn(this,"_pool");dn(this,"_position");dn(this,"_swap");dn(this,"_rewarder");dn(this,"_router");dn(this,"_router_v2");dn(this,"_token");dn(this,"_config");dn(this,"_sdkOptions");dn(this,"_senderAddress","");this._sdkOptions=a,this._rpcModule=new RpcModule({url:a.fullRpcUrl}),this._swap=new SwapModule(this),this._pool=new PoolModule(this),this._position=new PositionModule(this),this._rewarder=new RewarderModule(this),this._router=new RouterModule(this),this._router_v2=new RouterModuleV2(this),this._token=new TokenModule(this),this._config=new ConfigModule(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a}get Swap(){return this._swap}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Pool(){return this._pool}get Position(){return this._position}get Rewarder(){return this._rewarder}get Router(){return this._router}get RouterV2(){return this._router_v2}get CetusConfig(){return this._config}get Token(){return this._token}async getOwnerCoinAssets(a,s,et=!0){const tt=[];let at=null;const ct=`${this.sdkOptions.fullRpcUrl}_${a}_${s}_getOwnerCoinAssets`,ut=this.getCache(ct,et);if(ut)return ut;for(;;){const bt=await(s?this.fullClient.getCoins({owner:a,coinType:s,cursor:at}):this.fullClient.getAllCoins({owner:a,cursor:at}));if(bt.data.forEach(wt=>{BigInt(wt.balance)>0&&tt.push({coinAddress:extractStructTagFromType$1(wt.coinType).source_address,coinObjectId:wt.coinObjectId,balance:BigInt(wt.balance)})}),at=bt.nextCursor,!bt.hasNextPage)break}return this.updateCache(ct,tt,30*1e3),tt}async getOwnerCoinBalances(a,s){let et=[];return s?et=[await this.fullClient.getBalance({owner:a,coinType:s})]:et=[...await this.fullClient.getAllBalances({owner:a})],et}updateCache(a,s,et=cacheTime24h){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){const et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},main_default=CetusClmmSDK,SDKConfig={clmmConfig:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",admin_cap_id:"0x89c1a321291d15ddae5a086c9abc533dff697fde3d89e0ca836c41af73e36a75"},cetusConfig:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}},clmmMainnet={fullRpcUrl:"https://mainnet.suiet.app:443",simulationAccount:{address:"0x0000000000000000000000000000000000000000000000000000000000000000"},cetus_config:{package_id:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",published_at:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",config:SDKConfig.cetusConfig},clmm_pool:{package_id:"0x1eabed72c53feb3805120a081dc15963c204dc8d091542592abaf7a35689b2fb",published_at:"0xc6faf3703b0e8ba9ed06b7851134bbbe7565eb35ff823fd78432baa4cbeaa12e",config:SDKConfig.clmmConfig},integrate:{package_id:"0x996c4d9480708fb8b92aa7acf819fb0497b5ec8e65ba06601cae2fb6db3312c3",published_at:"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4"},deepbook:{package_id:"0x000000000000000000000000000000000000000000000000000000000000dee9",published_at:"0x000000000000000000000000000000000000000000000000000000000000dee9"},deepbook_endpoint_v2:{package_id:"0xac95e8a5e873cfa2544916c16fe1461b6a45542d9e65504c1794ae390b3345a7",published_at:"0xac95e8a5e873cfa2544916c16fe1461b6a45542d9e65504c1794ae390b3345a7"},aggregatorUrl:"https://api-sui.cetus.zone/router",swapCountUrl:"https://api-sui.cetus.zone/v2/sui/swap/count",statsPoolsUrl:"https://api-sui.cetus.zone/v2/sui/stats_pools"};function initMainnetSDK(a,s){a&&(clmmMainnet.fullRpcUrl=a);const et=new main_default(clmmMainnet);return s&&checkInvalidSuiAddress$1(s)&&(et.senderAddress=s),et}var SDKConfig2={clmmConfig:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",admin_cap_id:"0xa456f86a53fc31e1243f065738ff1fc93f5a62cc080ff894a0fb3747556a799b"},cetusConfig:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}},clmmTestnet={fullRpcUrl:getFullnodeUrl("testnet"),simulationAccount:{address:"0x0000000000000000000000000000000000000000000000000000000000000000"},faucet:{package_id:"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc",published_at:"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc"},cetus_config:{package_id:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",published_at:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",config:SDKConfig2.cetusConfig},clmm_pool:{package_id:"0x0c7ae833c220aa73a3643a0d508afa4ac5d50d97312ea4584e35f9eb21b9df12",published_at:"0x85e61285a10efc6602ab00df70a0c06357c384ef4c5633ecf73016df1500c704",config:SDKConfig2.clmmConfig},integrate:{package_id:"0x2918cf39850de6d5d94d8196dc878c8c722cd79db659318e00bff57fbb4e2ede",published_at:"0x19dd42e05fa6c9988a60d30686ee3feb776672b5547e328d6dab16563da65293"},deepbook:{package_id:"0x000000000000000000000000000000000000000000000000000000000000dee9",published_at:"0x000000000000000000000000000000000000000000000000000000000000dee9"},deepbook_endpoint_v2:{package_id:"0x56d90d0c055edb534b11e7548270bb458fd47c69b77bf40c14d5eb00e6e6cf64",published_at:"0x56d90d0c055edb534b11e7548270bb458fd47c69b77bf40c14d5eb00e6e6cf64"},aggregatorUrl:"https://api-sui.devcetus.com/router",swapCountUrl:"https://api-sui.devcetus.com/v2/sui/swap/count",statsPoolsUrl:"https://api-sui.devcetus.com/v2/sui/stats_pools"};function initTestnetSDK(a,s){a&&(clmmTestnet.fullRpcUrl=a);const et=new main_default(clmmTestnet);return s&&checkInvalidSuiAddress$1(s)&&(et.senderAddress=s),et}function initCetusSDK(a){const{network:s,fullNodeUrl:et,wallet:tt}=a;return s==="mainnet"?initMainnetSDK(et,tt):initTestnetSDK(et,tt)}var src_default=CetusClmmSDK,dayjs_min={exports:{}};(function(a,s){(function(et,tt){a.exports=tt()})(commonjsGlobal$1,function(){var et=1e3,tt=6e4,at=36e5,ct="millisecond",ut="second",bt="minute",wt="hour",Et="day",Ft="week",jt="month",Lt="quarter",Ut="year",Vt="date",Yt="Invalid Date",er=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,tr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,nr={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(or){var rr=["th","st","nd","rd"],ar=or%100;return"["+or+(rr[(ar-20)%10]||rr[ar]||rr[0])+"]"}},ir=function(or,rr,ar){var sr=String(or);return!sr||sr.length>=rr?or:""+Array(rr+1-sr.length).join(ar)+or},lr={s:ir,z:function(or){var rr=-or.utcOffset(),ar=Math.abs(rr),sr=Math.floor(ar/60),dr=ar%60;return(rr<=0?"+":"-")+ir(sr,2,"0")+":"+ir(dr,2,"0")},m:function or(rr,ar){if(rr.date()<ar.date())return-or(ar,rr);var sr=12*(ar.year()-rr.year())+(ar.month()-rr.month()),dr=rr.clone().add(sr,jt),gr=ar-dr<0,ur=rr.clone().add(sr+(gr?-1:1),jt);return+(-(sr+(ar-dr)/(gr?dr-ur:ur-dr))||0)},a:function(or){return or<0?Math.ceil(or)||0:Math.floor(or)},p:function(or){return{M:jt,y:Ut,w:Ft,d:Et,D:Vt,h:wt,m:bt,s:ut,ms:ct,Q:Lt}[or]||String(or||"").toLowerCase().replace(/s$/,"")},u:function(or){return or===void 0}},pr="en",yr={};yr[pr]=nr;var br="$isDayjsObject",xr=function(or){return or instanceof fr||!(!or||!or[br])},Er=function or(rr,ar,sr){var dr;if(!rr)return pr;if(typeof rr=="string"){var gr=rr.toLowerCase();yr[gr]&&(dr=gr),ar&&(yr[gr]=ar,dr=gr);var ur=rr.split("-");if(!dr&&ur.length>1)return or(ur[0])}else{var _r=rr.name;yr[_r]=rr,dr=_r}return!sr&&dr&&(pr=dr),dr||!sr&&pr},$r=function(or,rr){if(xr(or))return or.clone();var ar=typeof rr=="object"?rr:{};return ar.date=or,ar.args=arguments,new fr(ar)},Sr=lr;Sr.l=Er,Sr.i=xr,Sr.w=function(or,rr){return $r(or,{locale:rr.$L,utc:rr.$u,x:rr.$x,$offset:rr.$offset})};var fr=function(){function or(ar){this.$L=Er(ar.locale,null,!0),this.parse(ar),this.$x=this.$x||ar.x||{},this[br]=!0}var rr=or.prototype;return rr.parse=function(ar){this.$d=function(sr){var dr=sr.date,gr=sr.utc;if(dr===null)return new Date(NaN);if(Sr.u(dr))return new Date;if(dr instanceof Date)return new Date(dr);if(typeof dr=="string"&&!/Z$/i.test(dr)){var ur=dr.match(er);if(ur){var _r=ur[2]-1||0,hr=(ur[7]||"0").substring(0,3);return gr?new Date(Date.UTC(ur[1],_r,ur[3]||1,ur[4]||0,ur[5]||0,ur[6]||0,hr)):new Date(ur[1],_r,ur[3]||1,ur[4]||0,ur[5]||0,ur[6]||0,hr)}}return new Date(dr)}(ar),this.init()},rr.init=function(){var ar=this.$d;this.$y=ar.getFullYear(),this.$M=ar.getMonth(),this.$D=ar.getDate(),this.$W=ar.getDay(),this.$H=ar.getHours(),this.$m=ar.getMinutes(),this.$s=ar.getSeconds(),this.$ms=ar.getMilliseconds()},rr.$utils=function(){return Sr},rr.isValid=function(){return this.$d.toString()!==Yt},rr.isSame=function(ar,sr){var dr=$r(ar);return this.startOf(sr)<=dr&&dr<=this.endOf(sr)},rr.isAfter=function(ar,sr){return $r(ar)<this.startOf(sr)},rr.isBefore=function(ar,sr){return this.endOf(sr)<$r(ar)},rr.$g=function(ar,sr,dr){return Sr.u(ar)?this[sr]:this.set(dr,ar)},rr.unix=function(){return Math.floor(this.valueOf()/1e3)},rr.valueOf=function(){return this.$d.getTime()},rr.startOf=function(ar,sr){var dr=this,gr=!!Sr.u(sr)||sr,ur=Sr.p(ar),_r=function(Ur,kr){var Ar=Sr.w(dr.$u?Date.UTC(dr.$y,kr,Ur):new Date(dr.$y,kr,Ur),dr);return gr?Ar:Ar.endOf(Et)},hr=function(Ur,kr){return Sr.w(dr.toDate()[Ur].apply(dr.toDate("s"),(gr?[0,0,0,0]:[23,59,59,999]).slice(kr)),dr)},cr=this.$W,wr=this.$M,Br=this.$D,Or="set"+(this.$u?"UTC":"");switch(ur){case Ut:return gr?_r(1,0):_r(31,11);case jt:return gr?_r(1,wr):_r(0,wr+1);case Ft:var Rr=this.$locale().weekStart||0,Pr=(cr<Rr?cr+7:cr)-Rr;return _r(gr?Br-Pr:Br+(6-Pr),wr);case Et:case Vt:return hr(Or+"Hours",0);case wt:return hr(Or+"Minutes",1);case bt:return hr(Or+"Seconds",2);case ut:return hr(Or+"Milliseconds",3);default:return this.clone()}},rr.endOf=function(ar){return this.startOf(ar,!1)},rr.$set=function(ar,sr){var dr,gr=Sr.p(ar),ur="set"+(this.$u?"UTC":""),_r=(dr={},dr[Et]=ur+"Date",dr[Vt]=ur+"Date",dr[jt]=ur+"Month",dr[Ut]=ur+"FullYear",dr[wt]=ur+"Hours",dr[bt]=ur+"Minutes",dr[ut]=ur+"Seconds",dr[ct]=ur+"Milliseconds",dr)[gr],hr=gr===Et?this.$D+(sr-this.$W):sr;if(gr===jt||gr===Ut){var cr=this.clone().set(Vt,1);cr.$d[_r](hr),cr.init(),this.$d=cr.set(Vt,Math.min(this.$D,cr.daysInMonth())).$d}else _r&&this.$d[_r](hr);return this.init(),this},rr.set=function(ar,sr){return this.clone().$set(ar,sr)},rr.get=function(ar){return this[Sr.p(ar)]()},rr.add=function(ar,sr){var dr,gr=this;ar=Number(ar);var ur=Sr.p(sr),_r=function(wr){var Br=$r(gr);return Sr.w(Br.date(Br.date()+Math.round(wr*ar)),gr)};if(ur===jt)return this.set(jt,this.$M+ar);if(ur===Ut)return this.set(Ut,this.$y+ar);if(ur===Et)return _r(1);if(ur===Ft)return _r(7);var hr=(dr={},dr[bt]=tt,dr[wt]=at,dr[ut]=et,dr)[ur]||1,cr=this.$d.getTime()+ar*hr;return Sr.w(cr,this)},rr.subtract=function(ar,sr){return this.add(-1*ar,sr)},rr.format=function(ar){var sr=this,dr=this.$locale();if(!this.isValid())return dr.invalidDate||Yt;var gr=ar||"YYYY-MM-DDTHH:mm:ssZ",ur=Sr.z(this),_r=this.$H,hr=this.$m,cr=this.$M,wr=dr.weekdays,Br=dr.months,Or=dr.meridiem,Rr=function(kr,Ar,Cr,Fr){return kr&&(kr[Ar]||kr(sr,gr))||Cr[Ar].slice(0,Fr)},Pr=function(kr){return Sr.s(_r%12||12,kr,"0")},Ur=Or||function(kr,Ar,Cr){var Fr=kr<12?"AM":"PM";return Cr?Fr.toLowerCase():Fr};return gr.replace(tr,function(kr,Ar){return Ar||function(Cr){switch(Cr){case"YY":return String(sr.$y).slice(-2);case"YYYY":return Sr.s(sr.$y,4,"0");case"M":return cr+1;case"MM":return Sr.s(cr+1,2,"0");case"MMM":return Rr(dr.monthsShort,cr,Br,3);case"MMMM":return Rr(Br,cr);case"D":return sr.$D;case"DD":return Sr.s(sr.$D,2,"0");case"d":return String(sr.$W);case"dd":return Rr(dr.weekdaysMin,sr.$W,wr,2);case"ddd":return Rr(dr.weekdaysShort,sr.$W,wr,3);case"dddd":return wr[sr.$W];case"H":return String(_r);case"HH":return Sr.s(_r,2,"0");case"h":return Pr(1);case"hh":return Pr(2);case"a":return Ur(_r,hr,!0);case"A":return Ur(_r,hr,!1);case"m":return String(hr);case"mm":return Sr.s(hr,2,"0");case"s":return String(sr.$s);case"ss":return Sr.s(sr.$s,2,"0");case"SSS":return Sr.s(sr.$ms,3,"0");case"Z":return ur}return null}(kr)||ur.replace(":","")})},rr.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},rr.diff=function(ar,sr,dr){var gr,ur=this,_r=Sr.p(sr),hr=$r(ar),cr=(hr.utcOffset()-this.utcOffset())*tt,wr=this-hr,Br=function(){return Sr.m(ur,hr)};switch(_r){case Ut:gr=Br()/12;break;case jt:gr=Br();break;case Lt:gr=Br()/3;break;case Ft:gr=(wr-cr)/6048e5;break;case Et:gr=(wr-cr)/864e5;break;case wt:gr=wr/at;break;case bt:gr=wr/tt;break;case ut:gr=wr/et;break;default:gr=wr}return dr?gr:Sr.a(gr)},rr.daysInMonth=function(){return this.endOf(jt).$D},rr.$locale=function(){return yr[this.$L]},rr.locale=function(ar,sr){if(!ar)return this.$L;var dr=this.clone(),gr=Er(ar,sr,!0);return gr&&(dr.$L=gr),dr},rr.clone=function(){return Sr.w(this.$d,this)},rr.toDate=function(){return new Date(this.valueOf())},rr.toJSON=function(){return this.isValid()?this.toISOString():null},rr.toISOString=function(){return this.$d.toISOString()},rr.toString=function(){return this.$d.toUTCString()},or}(),vr=fr.prototype;return $r.prototype=vr,[["$ms",ct],["$s",ut],["$m",bt],["$H",wt],["$W",Et],["$M",jt],["$y",Ut],["$D",Vt]].forEach(function(or){vr[or[1]]=function(rr){return this.$g(rr,or[0],or[1])}}),$r.extend=function(or,rr){return or.$i||(or(rr,fr,$r),or.$i=!0),$r},$r.locale=Er,$r.isDayjs=xr,$r.unix=function(or){return $r(1e3*or)},$r.en=yr[pr],$r.Ls=yr,$r.p={},$r})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs$2(dayjs_minExports);var duration$1={exports:{}};(function(a,s){(function(et,tt){a.exports=tt()})(commonjsGlobal$1,function(){var et,tt,at=1e3,ct=6e4,ut=36e5,bt=864e5,wt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Et=31536e6,Ft=2628e6,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,Lt={years:Et,months:Ft,days:bt,hours:ut,minutes:ct,seconds:at,milliseconds:1,weeks:6048e5},Ut=function(yr){return yr instanceof lr},Vt=function(yr,br,xr){return new lr(yr,xr,br.$l)},Yt=function(yr){return tt.p(yr)+"s"},er=function(yr){return yr<0},tr=function(yr){return er(yr)?Math.ceil(yr):Math.floor(yr)},nr=function(yr){return Math.abs(yr)},ir=function(yr,br){return yr?er(yr)?{negative:!0,format:""+nr(yr)+br}:{negative:!1,format:""+yr+br}:{negative:!1,format:""}},lr=function(){function yr(xr,Er,$r){var Sr=this;if(this.$d={},this.$l=$r,xr===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Er)return Vt(xr*Lt[Yt(Er)],this);if(typeof xr=="number")return this.$ms=xr,this.parseFromMilliseconds(),this;if(typeof xr=="object")return Object.keys(xr).forEach(function(or){Sr.$d[Yt(or)]=xr[or]}),this.calMilliseconds(),this;if(typeof xr=="string"){var fr=xr.match(jt);if(fr){var vr=fr.slice(2).map(function(or){return or!=null?Number(or):0});return this.$d.years=vr[0],this.$d.months=vr[1],this.$d.weeks=vr[2],this.$d.days=vr[3],this.$d.hours=vr[4],this.$d.minutes=vr[5],this.$d.seconds=vr[6],this.calMilliseconds(),this}}return this}var br=yr.prototype;return br.calMilliseconds=function(){var xr=this;this.$ms=Object.keys(this.$d).reduce(function(Er,$r){return Er+(xr.$d[$r]||0)*Lt[$r]},0)},br.parseFromMilliseconds=function(){var xr=this.$ms;this.$d.years=tr(xr/Et),xr%=Et,this.$d.months=tr(xr/Ft),xr%=Ft,this.$d.days=tr(xr/bt),xr%=bt,this.$d.hours=tr(xr/ut),xr%=ut,this.$d.minutes=tr(xr/ct),xr%=ct,this.$d.seconds=tr(xr/at),xr%=at,this.$d.milliseconds=xr},br.toISOString=function(){var xr=ir(this.$d.years,"Y"),Er=ir(this.$d.months,"M"),$r=+this.$d.days||0;this.$d.weeks&&($r+=7*this.$d.weeks);var Sr=ir($r,"D"),fr=ir(this.$d.hours,"H"),vr=ir(this.$d.minutes,"M"),or=this.$d.seconds||0;this.$d.milliseconds&&(or+=this.$d.milliseconds/1e3,or=Math.round(1e3*or)/1e3);var rr=ir(or,"S"),ar=xr.negative||Er.negative||Sr.negative||fr.negative||vr.negative||rr.negative,sr=fr.format||vr.format||rr.format?"T":"",dr=(ar?"-":"")+"P"+xr.format+Er.format+Sr.format+sr+fr.format+vr.format+rr.format;return dr==="P"||dr==="-P"?"P0D":dr},br.toJSON=function(){return this.toISOString()},br.format=function(xr){var Er=xr||"YYYY-MM-DDTHH:mm:ss",$r={Y:this.$d.years,YY:tt.s(this.$d.years,2,"0"),YYYY:tt.s(this.$d.years,4,"0"),M:this.$d.months,MM:tt.s(this.$d.months,2,"0"),D:this.$d.days,DD:tt.s(this.$d.days,2,"0"),H:this.$d.hours,HH:tt.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:tt.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:tt.s(this.$d.seconds,2,"0"),SSS:tt.s(this.$d.milliseconds,3,"0")};return Er.replace(wt,function(Sr,fr){return fr||String($r[Sr])})},br.as=function(xr){return this.$ms/Lt[Yt(xr)]},br.get=function(xr){var Er=this.$ms,$r=Yt(xr);return $r==="milliseconds"?Er%=1e3:Er=$r==="weeks"?tr(Er/Lt[$r]):this.$d[$r],Er||0},br.add=function(xr,Er,$r){var Sr;return Sr=Er?xr*Lt[Yt(Er)]:Ut(xr)?xr.$ms:Vt(xr,this).$ms,Vt(this.$ms+Sr*($r?-1:1),this)},br.subtract=function(xr,Er){return this.add(xr,Er,!0)},br.locale=function(xr){var Er=this.clone();return Er.$l=xr,Er},br.clone=function(){return Vt(this.$ms,this)},br.humanize=function(xr){return et().add(this.$ms,"ms").locale(this.$l).fromNow(!xr)},br.valueOf=function(){return this.asMilliseconds()},br.milliseconds=function(){return this.get("milliseconds")},br.asMilliseconds=function(){return this.as("milliseconds")},br.seconds=function(){return this.get("seconds")},br.asSeconds=function(){return this.as("seconds")},br.minutes=function(){return this.get("minutes")},br.asMinutes=function(){return this.as("minutes")},br.hours=function(){return this.get("hours")},br.asHours=function(){return this.as("hours")},br.days=function(){return this.get("days")},br.asDays=function(){return this.as("days")},br.weeks=function(){return this.get("weeks")},br.asWeeks=function(){return this.as("weeks")},br.months=function(){return this.get("months")},br.asMonths=function(){return this.as("months")},br.years=function(){return this.get("years")},br.asYears=function(){return this.as("years")},yr}(),pr=function(yr,br,xr){return yr.add(br.years()*xr,"y").add(br.months()*xr,"M").add(br.days()*xr,"d").add(br.hours()*xr,"h").add(br.minutes()*xr,"m").add(br.seconds()*xr,"s").add(br.milliseconds()*xr,"ms")};return function(yr,br,xr){et=xr,tt=xr().$utils(),xr.duration=function(Sr,fr){var vr=xr.locale();return Vt(Sr,{$l:vr},fr)},xr.isDuration=Ut;var Er=br.prototype.add,$r=br.prototype.subtract;br.prototype.add=function(Sr,fr){return Ut(Sr)?pr(this,Sr,1):Er.bind(this)(Sr,fr)},br.prototype.subtract=function(Sr,fr){return Ut(Sr)?pr(this,Sr,-1):$r.bind(this)(Sr,fr)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs$2(durationExports);var relativeTime$1={exports:{}};(function(a,s){(function(et,tt){a.exports=tt()})(commonjsGlobal$1,function(){return function(et,tt,at){et=et||{};var ct=tt.prototype,ut={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function bt(Et,Ft,jt,Lt){return ct.fromToBase(Et,Ft,jt,Lt)}at.en.relativeTime=ut,ct.fromToBase=function(Et,Ft,jt,Lt,Ut){for(var Vt,Yt,er,tr=jt.$locale().relativeTime||ut,nr=et.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],ir=nr.length,lr=0;lr<ir;lr+=1){var pr=nr[lr];pr.d&&(Vt=Lt?at(Et).diff(jt,pr.d,!0):jt.diff(Et,pr.d,!0));var yr=(et.rounding||Math.round)(Math.abs(Vt));if(er=Vt>0,yr<=pr.r||!pr.r){yr<=1&&lr>0&&(pr=nr[lr-1]);var br=tr[pr.l];Ut&&(yr=Ut(""+yr)),Yt=typeof br=="string"?br.replace("%d",yr):br(yr,Ft,pr.l,er);break}}if(Ft)return Yt;var xr=er?tr.future:tr.past;return typeof xr=="function"?xr(Yt):xr.replace("%s",Yt)},ct.to=function(Et,Ft){return bt(Et,Ft,this,!0)},ct.from=function(Et,Ft){return bt(Et,Ft,this)};var wt=function(Et){return Et.$u?at.utc():at()};ct.toNow=function(Et){return this.to(wt(this),Et)},ct.fromNow=function(Et){return this.from(wt(this),Et)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs$2(relativeTimeExports);Decimal$1.config({precision:256,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-256,toExpPos:256});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var enUS,hasRequiredEnUS;function requireEnUS(){return hasRequiredEnUS||(hasRequiredEnUS=1,enUS={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(a){let s=a%10;return~~(a%100/10)===1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),enUS}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var unformatting,hasRequiredUnformatting;function requireUnformatting(){if(hasRequiredUnformatting)return unformatting;hasRequiredUnformatting=1;const a=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function s(wt){return wt.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(wt,Et,Ft,jt,Lt,Ut,Vt){if(!isNaN(+wt))return+wt;let Yt="",er=wt.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(er!==wt)return-1*et(er,Et,Ft,jt,Lt,Ut);for(let yr=0;yr<a.length;yr++){let br=a[yr];if(Yt=wt.replace(RegExp(`([0-9 ])(${br.key})$`),"$1"),Yt!==wt)return et(Yt,Et,Ft,jt,Lt,Ut)*br.factor}if(Yt=wt.replace("%",""),Yt!==wt)return et(Yt,Et,Ft,jt,Lt,Ut)/100;let tr=parseFloat(wt);if(isNaN(tr))return;let nr=jt(tr);if(nr&&nr!=="."&&(Yt=wt.replace(new RegExp(`${s(nr)}$`),""),Yt!==wt))return et(Yt,Et,Ft,jt,Lt,Ut);let ir={};Object.keys(Ut).forEach(yr=>{ir[Ut[yr]]=yr});let lr=Object.keys(ir).sort().reverse(),pr=lr.length;for(let yr=0;yr<pr;yr++){let br=lr[yr],xr=ir[br];if(Yt=wt.replace(br,""),Yt!==wt){let Er;switch(xr){case"thousand":Er=Math.pow(10,3);break;case"million":Er=Math.pow(10,6);break;case"billion":Er=Math.pow(10,9);break;case"trillion":Er=Math.pow(10,12);break}return et(Yt,Et,Ft,jt,Lt,Ut)*Er}}}function tt(wt,Et,Ft){let jt=wt.replace(Ft,"");return jt=jt.replace(new RegExp(`([0-9])${s(Et.thousands)}([0-9])`,"g"),"$1$2"),jt=jt.replace(Et.decimal,"."),jt}function at(wt,Et,Ft="",jt,Lt,Ut,Vt){if(wt==="")return;if(wt===Lt)return 0;let Yt=tt(wt,Et,Ft);return et(Yt,Et,Ft,jt,Lt,Ut)}function ct(wt,Et){if(!(wt.indexOf(":")&&Et.thousands!==":"))return!1;let jt=wt.split(":");if(jt.length!==3)return!1;let Lt=+jt[0],Ut=+jt[1],Vt=+jt[2];return!isNaN(Lt)&&!isNaN(Ut)&&!isNaN(Vt)}function ut(wt){let Et=wt.split(":"),Ft=+Et[0],jt=+Et[1];return+Et[2]+60*jt+3600*Ft}function bt(wt,Et){const Ft=requireGlobalState();let jt=Ft.currentDelimiters(),Lt=Ft.currentCurrency().symbol,Ut=Ft.currentOrdinal(),Vt=Ft.getZeroFormat(),Yt=Ft.currentAbbreviations(),er;if(typeof wt=="string")ct(wt,jt)?er=ut(wt):er=at(wt,jt,Lt,Ut,Vt,Yt);else if(typeof wt=="number")er=wt;else return;if(er!==void 0)return er}return unformatting={unformat:bt},unformatting}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var validating$1,hasRequiredValidating;function requireValidating(){if(hasRequiredValidating)return validating$1;hasRequiredValidating=1;let a=requireUnformatting();const s=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,et=["currency","percent","byte","time","ordinal","number"],tt=["trillion","billion","million","thousand"],at=["prefix","infix","postfix"],ct=["sign","parenthesis"],ut={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},Et={output:{type:"string",validValues:et},base:{type:"string",validValues:["decimal","binary","general"],restriction:(er,tr)=>tr.output==="byte",message:"`base` must be provided only when the output is `byte`",mandatory:er=>er.output==="byte"},characteristic:{type:"number",restriction:er=>er>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:tt},average:"boolean",lowPrecision:{type:"boolean",restriction:(er,tr)=>tr.average===!0,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:at},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:er=>er>=0,message:"value must be positive"},{restriction:(er,tr)=>!tr.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:er=>er>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:ct},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(er,tr)=>tr.output==="percent",message:"`prefixSymbol` can be provided only when the output is `percent`"}},Ft={languageTag:{type:"string",mandatory:!0,restriction:er=>er.match(s),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:ut,spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function jt(er,tr){let nr=Lt(er),ir=Vt(tr);return nr&&ir}function Lt(er){return a.unformat(er)!==void 0}function Ut(er,tr,nr,ir=!1){let lr=Object.keys(er).map(pr=>{if(!tr[pr])return console.error(`${nr} Invalid key: ${pr}`),!1;let yr=er[pr],br=tr[pr];if(typeof br=="string"&&(br={type:br}),br.type==="format"){if(!Ut(yr,Et,`[Validate ${pr}]`,!0))return!1}else if(typeof yr!==br.type)return console.error(`${nr} ${pr} type mismatched: "${br.type}" expected, "${typeof yr}" provided`),!1;if(br.restrictions&&br.restrictions.length){let xr=br.restrictions.length;for(let Er=0;Er<xr;Er++){let{restriction:$r,message:Sr}=br.restrictions[Er];if(!$r(yr,er))return console.error(`${nr} ${pr} invalid value: ${Sr}`),!1}}return br.restriction&&!br.restriction(yr,er)?(console.error(`${nr} ${pr} invalid value: ${br.message}`),!1):br.validValues&&br.validValues.indexOf(yr)===-1?(console.error(`${nr} ${pr} invalid value: must be among ${JSON.stringify(br.validValues)}, "${yr}" provided`),!1):!(br.children&&!Ut(yr,br.children,`[Validate ${pr}]`))});return ir||lr.push(...Object.keys(tr).map(pr=>{let yr=tr[pr];if(typeof yr=="string"&&(yr={type:yr}),yr.mandatory){let br=yr.mandatory;if(typeof br=="function"&&(br=br(er)),br&&er[pr]===void 0)return console.error(`${nr} Missing mandatory key "${pr}"`),!1}return!0})),lr.reduce((pr,yr)=>pr&&yr,!0)}function Vt(er){return Ut(er,Et,"[Validate format]")}function Yt(er){return Ut(er,Ft,"[Validate language]")}return validating$1={validate:jt,validateFormat:Vt,validateInput:Lt,validateLanguage:Yt},validating$1}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function parsePrefix(a,s){let et=a.match(/^{([^}]*)}/);return et?(s.prefix=et[1],a.slice(et[0].length)):a}function parsePostfix(a,s){let et=a.match(/{([^}]*)}$/);return et?(s.postfix=et[1],a.slice(0,-et[0].length)):a}function parseOutput(a,s){if(a.indexOf("$")!==-1){s.output="currency";return}if(a.indexOf("%")!==-1){s.output="percent";return}if(a.indexOf("bd")!==-1){s.output="byte",s.base="general";return}if(a.indexOf("b")!==-1){s.output="byte",s.base="binary";return}if(a.indexOf("d")!==-1){s.output="byte",s.base="decimal";return}if(a.indexOf(":")!==-1){s.output="time";return}a.indexOf("o")!==-1&&(s.output="ordinal")}function parseThousandSeparated(a,s){a.indexOf(",")!==-1&&(s.thousandSeparated=!0)}function parseSpaceSeparated(a,s){a.indexOf(" ")!==-1&&(s.spaceSeparated=!0,s.spaceSeparatedCurrency=!0,(s.average||s.forceAverage)&&(s.spaceSeparatedAbbreviation=!0))}function parseTotalLength(a,s){let et=a.match(/[1-9]+[0-9]*/);et&&(s.totalLength=+et[0])}function parseCharacteristic(a,s){let tt=a.split(".")[0].match(/0+/);tt&&(s.characteristic=tt[0].length)}function parseMantissa(a,s){let et=a.split(".")[1];if(et){let tt=et.match(/0+/);tt&&(s.mantissa=tt[0].length)}}function parseTrimMantissa(a,s){const et=a.split(".")[1];et&&(s.trimMantissa=et.indexOf("[")!==-1)}function parseAverage(a,s){a.indexOf("a")!==-1&&(s.average=!0)}function parseForceAverage(a,s){a.indexOf("K")!==-1?s.forceAverage="thousand":a.indexOf("M")!==-1?s.forceAverage="million":a.indexOf("B")!==-1?s.forceAverage="billion":a.indexOf("T")!==-1&&(s.forceAverage="trillion")}function parseOptionalMantissa(a,s){a.match(/\[\.]/)?s.optionalMantissa=!0:a.match(/\./)&&(s.optionalMantissa=!1)}function parseOptionalCharacteristic(a,s){if(a.indexOf(".")!==-1){let et=a.split(".")[0];s.optionalCharacteristic=et.indexOf("0")===-1}}function parseNegative(a,s){a.match(/^\+?\([^)]*\)$/)&&(s.negative="parenthesis"),a.match(/^\+?-/)&&(s.negative="sign")}function parseForceSign(a,s){a.match(/^\+/)&&(s.forceSign=!0)}function parseFormat(a,s={}){return typeof a!="string"?a:(a=parsePrefix(a,s),a=parsePostfix(a,s),parseOutput(a,s),parseTotalLength(a,s),parseCharacteristic(a,s),parseOptionalCharacteristic(a,s),parseAverage(a,s),parseForceAverage(a,s),parseMantissa(a,s),parseOptionalMantissa(a,s),parseTrimMantissa(a,s),parseThousandSeparated(a,s),parseSpaceSeparated(a,s),parseNegative(a,s),parseForceSign(a,s),s)}var parsing$2={parseFormat};/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var globalState$2,hasRequiredGlobalState;function requireGlobalState(){if(hasRequiredGlobalState)return globalState$2;hasRequiredGlobalState=1;const a=requireEnUS(),s=requireValidating(),et=parsing$2;let tt={},at,ct={},ut=null,bt={};function wt(Ft){at=Ft}function Et(){return ct[at]}return tt.languages=()=>Object.assign({},ct),tt.currentLanguage=()=>at,tt.currentBytes=()=>Et().bytes||{},tt.currentCurrency=()=>Et().currency,tt.currentAbbreviations=()=>Et().abbreviations,tt.currentDelimiters=()=>Et().delimiters,tt.currentOrdinal=()=>Et().ordinal,tt.currentDefaults=()=>Object.assign({},Et().defaults,bt),tt.currentOrdinalDefaultFormat=()=>Object.assign({},tt.currentDefaults(),Et().ordinalFormat),tt.currentByteDefaultFormat=()=>Object.assign({},tt.currentDefaults(),Et().byteFormat),tt.currentPercentageDefaultFormat=()=>Object.assign({},tt.currentDefaults(),Et().percentageFormat),tt.currentCurrencyDefaultFormat=()=>Object.assign({},tt.currentDefaults(),Et().currencyFormat),tt.currentTimeDefaultFormat=()=>Object.assign({},tt.currentDefaults(),Et().timeFormat),tt.setDefaults=Ft=>{Ft=et.parseFormat(Ft),s.validateFormat(Ft)&&(bt=Ft)},tt.getZeroFormat=()=>ut,tt.setZeroFormat=Ft=>ut=typeof Ft=="string"?Ft:null,tt.hasZeroFormat=()=>ut!==null,tt.languageData=Ft=>{if(Ft){if(ct[Ft])return ct[Ft];throw new Error(`Unknown tag "${Ft}"`)}return Et()},tt.registerLanguage=(Ft,jt=!1)=>{if(!s.validateLanguage(Ft))throw new Error("Invalid language data");ct[Ft.languageTag]=Ft,jt&&wt(Ft.languageTag)},tt.setLanguage=(Ft,jt=a.languageTag)=>{if(!ct[Ft]){let Lt=Ft.split("-")[0],Ut=Object.keys(ct).find(Vt=>Vt.split("-")[0]===Lt);if(!ct[Ut]){wt(jt);return}wt(Ut);return}wt(Ft)},tt.registerLanguage(a),at=a.languageTag,globalState$2=tt,globalState$2}function commonjsRequire$1(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function loadLanguagesInNode(a,s){a.forEach(et=>{let tt;try{tt=commonjsRequire$1(`../languages/${et}`)}catch{console.error(`Unable to load "${et}". No matching language file found.`)}tt&&s.registerLanguage(tt)})}var loading=a=>({loadLanguagesInNode:s=>loadLanguagesInNode(s,a)}),bignumber={exports:{}};(function(a){(function(s){var et,tt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,at=Math.ceil,ct=Math.floor,ut="[BigNumber Error] ",bt=ut+"Number primitive has more than 15 significant digits: ",wt=1e14,Et=14,Ft=9007199254740991,jt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Lt=1e7,Ut=1e9;function Vt(yr){var br,xr,Er,$r=wr.prototype={constructor:wr,toString:null,valueOf:null},Sr=new wr(1),fr=20,vr=4,or=-7,rr=21,ar=-1e7,sr=1e7,dr=!1,gr=1,ur=0,_r={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},hr="0123456789abcdefghijklmnopqrstuvwxyz",cr=!0;function wr(kr,Ar){var Cr,Fr,Lr,Hr,Gr,Nr,Vr,jr,Wr=this;if(!(Wr instanceof wr))return new wr(kr,Ar);if(Ar==null){if(kr&&kr._isBigNumber===!0){Wr.s=kr.s,!kr.c||kr.e>sr?Wr.c=Wr.e=null:kr.e<ar?Wr.c=[Wr.e=0]:(Wr.e=kr.e,Wr.c=kr.c.slice());return}if((Nr=typeof kr=="number")&&kr*0==0){if(Wr.s=1/kr<0?(kr=-kr,-1):1,kr===~~kr){for(Hr=0,Gr=kr;Gr>=10;Gr/=10,Hr++);Hr>sr?Wr.c=Wr.e=null:(Wr.e=Hr,Wr.c=[kr]);return}jr=String(kr)}else{if(!tt.test(jr=String(kr)))return Er(Wr,jr,Nr);Wr.s=jr.charCodeAt(0)==45?(jr=jr.slice(1),-1):1}(Hr=jr.indexOf("."))>-1&&(jr=jr.replace(".","")),(Gr=jr.search(/e/i))>0?(Hr<0&&(Hr=Gr),Hr+=+jr.slice(Gr+1),jr=jr.substring(0,Gr)):Hr<0&&(Hr=jr.length)}else{if(nr(Ar,2,hr.length,"Base"),Ar==10&&cr)return Wr=new wr(kr),Pr(Wr,fr+Wr.e+1,vr);if(jr=String(kr),Nr=typeof kr=="number"){if(kr*0!=0)return Er(Wr,jr,Nr,Ar);if(Wr.s=1/kr<0?(jr=jr.slice(1),-1):1,wr.DEBUG&&jr.replace(/^0\.0*|\./,"").length>15)throw Error(bt+kr)}else Wr.s=jr.charCodeAt(0)===45?(jr=jr.slice(1),-1):1;for(Cr=hr.slice(0,Ar),Hr=Gr=0,Vr=jr.length;Gr<Vr;Gr++)if(Cr.indexOf(Fr=jr.charAt(Gr))<0){if(Fr=="."){if(Gr>Hr){Hr=Vr;continue}}else if(!Lr&&(jr==jr.toUpperCase()&&(jr=jr.toLowerCase())||jr==jr.toLowerCase()&&(jr=jr.toUpperCase()))){Lr=!0,Gr=-1,Hr=0;continue}return Er(Wr,String(kr),Nr,Ar)}Nr=!1,jr=xr(jr,Ar,10,Wr.s),(Hr=jr.indexOf("."))>-1?jr=jr.replace(".",""):Hr=jr.length}for(Gr=0;jr.charCodeAt(Gr)===48;Gr++);for(Vr=jr.length;jr.charCodeAt(--Vr)===48;);if(jr=jr.slice(Gr,++Vr)){if(Vr-=Gr,Nr&&wr.DEBUG&&Vr>15&&(kr>Ft||kr!==ct(kr)))throw Error(bt+Wr.s*kr);if((Hr=Hr-Gr-1)>sr)Wr.c=Wr.e=null;else if(Hr<ar)Wr.c=[Wr.e=0];else{if(Wr.e=Hr,Wr.c=[],Gr=(Hr+1)%Et,Hr<0&&(Gr+=Et),Gr<Vr){for(Gr&&Wr.c.push(+jr.slice(0,Gr)),Vr-=Et;Gr<Vr;)Wr.c.push(+jr.slice(Gr,Gr+=Et));Gr=Et-(jr=jr.slice(Gr)).length}else Gr-=Vr;for(;Gr--;jr+="0");Wr.c.push(+jr)}}else Wr.c=[Wr.e=0]}wr.clone=Vt,wr.ROUND_UP=0,wr.ROUND_DOWN=1,wr.ROUND_CEIL=2,wr.ROUND_FLOOR=3,wr.ROUND_HALF_UP=4,wr.ROUND_HALF_DOWN=5,wr.ROUND_HALF_EVEN=6,wr.ROUND_HALF_CEIL=7,wr.ROUND_HALF_FLOOR=8,wr.EUCLID=9,wr.config=wr.set=function(kr){var Ar,Cr;if(kr!=null)if(typeof kr=="object"){if(kr.hasOwnProperty(Ar="DECIMAL_PLACES")&&(Cr=kr[Ar],nr(Cr,0,Ut,Ar),fr=Cr),kr.hasOwnProperty(Ar="ROUNDING_MODE")&&(Cr=kr[Ar],nr(Cr,0,8,Ar),vr=Cr),kr.hasOwnProperty(Ar="EXPONENTIAL_AT")&&(Cr=kr[Ar],Cr&&Cr.pop?(nr(Cr[0],-1e9,0,Ar),nr(Cr[1],0,Ut,Ar),or=Cr[0],rr=Cr[1]):(nr(Cr,-1e9,Ut,Ar),or=-(rr=Cr<0?-Cr:Cr))),kr.hasOwnProperty(Ar="RANGE"))if(Cr=kr[Ar],Cr&&Cr.pop)nr(Cr[0],-1e9,-1,Ar),nr(Cr[1],1,Ut,Ar),ar=Cr[0],sr=Cr[1];else if(nr(Cr,-1e9,Ut,Ar),Cr)ar=-(sr=Cr<0?-Cr:Cr);else throw Error(ut+Ar+" cannot be zero: "+Cr);if(kr.hasOwnProperty(Ar="CRYPTO"))if(Cr=kr[Ar],Cr===!!Cr)if(Cr)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))dr=Cr;else throw dr=!Cr,Error(ut+"crypto unavailable");else dr=Cr;else throw Error(ut+Ar+" not true or false: "+Cr);if(kr.hasOwnProperty(Ar="MODULO_MODE")&&(Cr=kr[Ar],nr(Cr,0,9,Ar),gr=Cr),kr.hasOwnProperty(Ar="POW_PRECISION")&&(Cr=kr[Ar],nr(Cr,0,Ut,Ar),ur=Cr),kr.hasOwnProperty(Ar="FORMAT"))if(Cr=kr[Ar],typeof Cr=="object")_r=Cr;else throw Error(ut+Ar+" not an object: "+Cr);if(kr.hasOwnProperty(Ar="ALPHABET"))if(Cr=kr[Ar],typeof Cr=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Cr))cr=Cr.slice(0,10)=="0123456789",hr=Cr;else throw Error(ut+Ar+" invalid: "+Cr)}else throw Error(ut+"Object expected: "+kr);return{DECIMAL_PLACES:fr,ROUNDING_MODE:vr,EXPONENTIAL_AT:[or,rr],RANGE:[ar,sr],CRYPTO:dr,MODULO_MODE:gr,POW_PRECISION:ur,FORMAT:_r,ALPHABET:hr}},wr.isBigNumber=function(kr){if(!kr||kr._isBigNumber!==!0)return!1;if(!wr.DEBUG)return!0;var Ar,Cr,Fr=kr.c,Lr=kr.e,Hr=kr.s;e:if({}.toString.call(Fr)=="[object Array]"){if((Hr===1||Hr===-1)&&Lr>=-1e9&&Lr<=Ut&&Lr===ct(Lr)){if(Fr[0]===0){if(Lr===0&&Fr.length===1)return!0;break e}if(Ar=(Lr+1)%Et,Ar<1&&(Ar+=Et),String(Fr[0]).length==Ar){for(Ar=0;Ar<Fr.length;Ar++)if(Cr=Fr[Ar],Cr<0||Cr>=wt||Cr!==ct(Cr))break e;if(Cr!==0)return!0}}}else if(Fr===null&&Lr===null&&(Hr===null||Hr===1||Hr===-1))return!0;throw Error(ut+"Invalid BigNumber: "+kr)},wr.maximum=wr.max=function(){return Or(arguments,-1)},wr.minimum=wr.min=function(){return Or(arguments,1)},wr.random=function(){var kr=9007199254740992,Ar=Math.random()*kr&2097151?function(){return ct(Math.random()*kr)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Cr){var Fr,Lr,Hr,Gr,Nr,Vr=0,jr=[],Wr=new wr(Sr);if(Cr==null?Cr=fr:nr(Cr,0,Ut),Gr=at(Cr/Et),dr)if(crypto.getRandomValues){for(Fr=crypto.getRandomValues(new Uint32Array(Gr*=2));Vr<Gr;)Nr=Fr[Vr]*131072+(Fr[Vr+1]>>>11),Nr>=9e15?(Lr=crypto.getRandomValues(new Uint32Array(2)),Fr[Vr]=Lr[0],Fr[Vr+1]=Lr[1]):(jr.push(Nr%1e14),Vr+=2);Vr=Gr/2}else if(crypto.randomBytes){for(Fr=crypto.randomBytes(Gr*=7);Vr<Gr;)Nr=(Fr[Vr]&31)*281474976710656+Fr[Vr+1]*1099511627776+Fr[Vr+2]*4294967296+Fr[Vr+3]*16777216+(Fr[Vr+4]<<16)+(Fr[Vr+5]<<8)+Fr[Vr+6],Nr>=9e15?crypto.randomBytes(7).copy(Fr,Vr):(jr.push(Nr%1e14),Vr+=7);Vr=Gr/7}else throw dr=!1,Error(ut+"crypto unavailable");if(!dr)for(;Vr<Gr;)Nr=Ar(),Nr<9e15&&(jr[Vr++]=Nr%1e14);for(Gr=jr[--Vr],Cr%=Et,Gr&&Cr&&(Nr=jt[Et-Cr],jr[Vr]=ct(Gr/Nr)*Nr);jr[Vr]===0;jr.pop(),Vr--);if(Vr<0)jr=[Hr=0];else{for(Hr=-1;jr[0]===0;jr.splice(0,1),Hr-=Et);for(Vr=1,Nr=jr[0];Nr>=10;Nr/=10,Vr++);Vr<Et&&(Hr-=Et-Vr)}return Wr.e=Hr,Wr.c=jr,Wr}}(),wr.sum=function(){for(var kr=1,Ar=arguments,Cr=new wr(Ar[0]);kr<Ar.length;)Cr=Cr.plus(Ar[kr++]);return Cr},xr=function(){var kr="0123456789";function Ar(Cr,Fr,Lr,Hr){for(var Gr,Nr=[0],Vr,jr=0,Wr=Cr.length;jr<Wr;){for(Vr=Nr.length;Vr--;Nr[Vr]*=Fr);for(Nr[0]+=Hr.indexOf(Cr.charAt(jr++)),Gr=0;Gr<Nr.length;Gr++)Nr[Gr]>Lr-1&&(Nr[Gr+1]==null&&(Nr[Gr+1]=0),Nr[Gr+1]+=Nr[Gr]/Lr|0,Nr[Gr]%=Lr)}return Nr.reverse()}return function(Cr,Fr,Lr,Hr,Gr){var Nr,Vr,jr,Wr,Kr,an,Un,Vn,Kn=Cr.indexOf("."),oo=fr,Hn=vr;for(Kn>=0&&(Wr=ur,ur=0,Cr=Cr.replace(".",""),Vn=new wr(Fr),an=Vn.pow(Cr.length-Kn),ur=Wr,Vn.c=Ar(pr(er(an.c),an.e,"0"),10,Lr,kr),Vn.e=Vn.c.length),Un=Ar(Cr,Fr,Lr,Gr?(Nr=hr,kr):(Nr=kr,hr)),jr=Wr=Un.length;Un[--Wr]==0;Un.pop());if(!Un[0])return Nr.charAt(0);if(Kn<0?--jr:(an.c=Un,an.e=jr,an.s=Hr,an=br(an,Vn,oo,Hn,Lr),Un=an.c,Kr=an.r,jr=an.e),Vr=jr+oo+1,Kn=Un[Vr],Wr=Lr/2,Kr=Kr||Vr<0||Un[Vr+1]!=null,Kr=Hn<4?(Kn!=null||Kr)&&(Hn==0||Hn==(an.s<0?3:2)):Kn>Wr||Kn==Wr&&(Hn==4||Kr||Hn==6&&Un[Vr-1]&1||Hn==(an.s<0?8:7)),Vr<1||!Un[0])Cr=Kr?pr(Nr.charAt(1),-oo,Nr.charAt(0)):Nr.charAt(0);else{if(Un.length=Vr,Kr)for(--Lr;++Un[--Vr]>Lr;)Un[Vr]=0,Vr||(++jr,Un=[1].concat(Un));for(Wr=Un.length;!Un[--Wr];);for(Kn=0,Cr="";Kn<=Wr;Cr+=Nr.charAt(Un[Kn++]));Cr=pr(Cr,jr,Nr.charAt(0))}return Cr}}(),br=function(){function kr(Fr,Lr,Hr){var Gr,Nr,Vr,jr,Wr=0,Kr=Fr.length,an=Lr%Lt,Un=Lr/Lt|0;for(Fr=Fr.slice();Kr--;)Vr=Fr[Kr]%Lt,jr=Fr[Kr]/Lt|0,Gr=Un*Vr+jr*an,Nr=an*Vr+Gr%Lt*Lt+Wr,Wr=(Nr/Hr|0)+(Gr/Lt|0)+Un*jr,Fr[Kr]=Nr%Hr;return Wr&&(Fr=[Wr].concat(Fr)),Fr}function Ar(Fr,Lr,Hr,Gr){var Nr,Vr;if(Hr!=Gr)Vr=Hr>Gr?1:-1;else for(Nr=Vr=0;Nr<Hr;Nr++)if(Fr[Nr]!=Lr[Nr]){Vr=Fr[Nr]>Lr[Nr]?1:-1;break}return Vr}function Cr(Fr,Lr,Hr,Gr){for(var Nr=0;Hr--;)Fr[Hr]-=Nr,Nr=Fr[Hr]<Lr[Hr]?1:0,Fr[Hr]=Nr*Gr+Fr[Hr]-Lr[Hr];for(;!Fr[0]&&Fr.length>1;Fr.splice(0,1));}return function(Fr,Lr,Hr,Gr,Nr){var Vr,jr,Wr,Kr,an,Un,Vn,Kn,oo,Hn,Qn,yo,Dr,Tr,Ir,qr,Qr,sn=Fr.s==Lr.s?1:-1,nn=Fr.c,Xn=Lr.c;if(!nn||!nn[0]||!Xn||!Xn[0])return new wr(!Fr.s||!Lr.s||(nn?Xn&&nn[0]==Xn[0]:!Xn)?NaN:nn&&nn[0]==0||!Xn?sn*0:sn/0);for(Kn=new wr(sn),oo=Kn.c=[],jr=Fr.e-Lr.e,sn=Hr+jr+1,Nr||(Nr=wt,jr=Yt(Fr.e/Et)-Yt(Lr.e/Et),sn=sn/Et|0),Wr=0;Xn[Wr]==(nn[Wr]||0);Wr++);if(Xn[Wr]>(nn[Wr]||0)&&jr--,sn<0)oo.push(1),Kr=!0;else{for(Tr=nn.length,qr=Xn.length,Wr=0,sn+=2,an=ct(Nr/(Xn[0]+1)),an>1&&(Xn=kr(Xn,an,Nr),nn=kr(nn,an,Nr),qr=Xn.length,Tr=nn.length),Dr=qr,Hn=nn.slice(0,qr),Qn=Hn.length;Qn<qr;Hn[Qn++]=0);Qr=Xn.slice(),Qr=[0].concat(Qr),Ir=Xn[0],Xn[1]>=Nr/2&&Ir++;do{if(an=0,Vr=Ar(Xn,Hn,qr,Qn),Vr<0){if(yo=Hn[0],qr!=Qn&&(yo=yo*Nr+(Hn[1]||0)),an=ct(yo/Ir),an>1)for(an>=Nr&&(an=Nr-1),Un=kr(Xn,an,Nr),Vn=Un.length,Qn=Hn.length;Ar(Un,Hn,Vn,Qn)==1;)an--,Cr(Un,qr<Vn?Qr:Xn,Vn,Nr),Vn=Un.length,Vr=1;else an==0&&(Vr=an=1),Un=Xn.slice(),Vn=Un.length;if(Vn<Qn&&(Un=[0].concat(Un)),Cr(Hn,Un,Qn,Nr),Qn=Hn.length,Vr==-1)for(;Ar(Xn,Hn,qr,Qn)<1;)an++,Cr(Hn,qr<Qn?Qr:Xn,Qn,Nr),Qn=Hn.length}else Vr===0&&(an++,Hn=[0]);oo[Wr++]=an,Hn[0]?Hn[Qn++]=nn[Dr]||0:(Hn=[nn[Dr]],Qn=1)}while((Dr++<Tr||Hn[0]!=null)&&sn--);Kr=Hn[0]!=null,oo[0]||oo.splice(0,1)}if(Nr==wt){for(Wr=1,sn=oo[0];sn>=10;sn/=10,Wr++);Pr(Kn,Hr+(Kn.e=Wr+jr*Et-1)+1,Gr,Kr)}else Kn.e=jr,Kn.r=+Kr;return Kn}}();function Br(kr,Ar,Cr,Fr){var Lr,Hr,Gr,Nr,Vr;if(Cr==null?Cr=vr:nr(Cr,0,8),!kr.c)return kr.toString();if(Lr=kr.c[0],Gr=kr.e,Ar==null)Vr=er(kr.c),Vr=Fr==1||Fr==2&&(Gr<=or||Gr>=rr)?lr(Vr,Gr):pr(Vr,Gr,"0");else if(kr=Pr(new wr(kr),Ar,Cr),Hr=kr.e,Vr=er(kr.c),Nr=Vr.length,Fr==1||Fr==2&&(Ar<=Hr||Hr<=or)){for(;Nr<Ar;Vr+="0",Nr++);Vr=lr(Vr,Hr)}else if(Ar-=Gr,Vr=pr(Vr,Hr,"0"),Hr+1>Nr){if(--Ar>0)for(Vr+=".";Ar--;Vr+="0");}else if(Ar+=Hr-Nr,Ar>0)for(Hr+1==Nr&&(Vr+=".");Ar--;Vr+="0");return kr.s<0&&Lr?"-"+Vr:Vr}function Or(kr,Ar){for(var Cr,Fr,Lr=1,Hr=new wr(kr[0]);Lr<kr.length;Lr++)Fr=new wr(kr[Lr]),(!Fr.s||(Cr=tr(Hr,Fr))===Ar||Cr===0&&Hr.s===Ar)&&(Hr=Fr);return Hr}function Rr(kr,Ar,Cr){for(var Fr=1,Lr=Ar.length;!Ar[--Lr];Ar.pop());for(Lr=Ar[0];Lr>=10;Lr/=10,Fr++);return(Cr=Fr+Cr*Et-1)>sr?kr.c=kr.e=null:Cr<ar?kr.c=[kr.e=0]:(kr.e=Cr,kr.c=Ar),kr}Er=function(){var kr=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Ar=/^([^.]+)\.$/,Cr=/^\.([^.]+)$/,Fr=/^-?(Infinity|NaN)$/,Lr=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Hr,Gr,Nr,Vr){var jr,Wr=Nr?Gr:Gr.replace(Lr,"");if(Fr.test(Wr))Hr.s=isNaN(Wr)?null:Wr<0?-1:1;else{if(!Nr&&(Wr=Wr.replace(kr,function(Kr,an,Un){return jr=(Un=Un.toLowerCase())=="x"?16:Un=="b"?2:8,!Vr||Vr==jr?an:Kr}),Vr&&(jr=Vr,Wr=Wr.replace(Ar,"$1").replace(Cr,"0.$1")),Gr!=Wr))return new wr(Wr,jr);if(wr.DEBUG)throw Error(ut+"Not a"+(Vr?" base "+Vr:"")+" number: "+Gr);Hr.s=null}Hr.c=Hr.e=null}}();function Pr(kr,Ar,Cr,Fr){var Lr,Hr,Gr,Nr,Vr,jr,Wr,Kr=kr.c,an=jt;if(Kr){e:{for(Lr=1,Nr=Kr[0];Nr>=10;Nr/=10,Lr++);if(Hr=Ar-Lr,Hr<0)Hr+=Et,Gr=Ar,Vr=Kr[jr=0],Wr=ct(Vr/an[Lr-Gr-1]%10);else if(jr=at((Hr+1)/Et),jr>=Kr.length)if(Fr){for(;Kr.length<=jr;Kr.push(0));Vr=Wr=0,Lr=1,Hr%=Et,Gr=Hr-Et+1}else break e;else{for(Vr=Nr=Kr[jr],Lr=1;Nr>=10;Nr/=10,Lr++);Hr%=Et,Gr=Hr-Et+Lr,Wr=Gr<0?0:ct(Vr/an[Lr-Gr-1]%10)}if(Fr=Fr||Ar<0||Kr[jr+1]!=null||(Gr<0?Vr:Vr%an[Lr-Gr-1]),Fr=Cr<4?(Wr||Fr)&&(Cr==0||Cr==(kr.s<0?3:2)):Wr>5||Wr==5&&(Cr==4||Fr||Cr==6&&(Hr>0?Gr>0?Vr/an[Lr-Gr]:0:Kr[jr-1])%10&1||Cr==(kr.s<0?8:7)),Ar<1||!Kr[0])return Kr.length=0,Fr?(Ar-=kr.e+1,Kr[0]=an[(Et-Ar%Et)%Et],kr.e=-Ar||0):Kr[0]=kr.e=0,kr;if(Hr==0?(Kr.length=jr,Nr=1,jr--):(Kr.length=jr+1,Nr=an[Et-Hr],Kr[jr]=Gr>0?ct(Vr/an[Lr-Gr]%an[Gr])*Nr:0),Fr)for(;;)if(jr==0){for(Hr=1,Gr=Kr[0];Gr>=10;Gr/=10,Hr++);for(Gr=Kr[0]+=Nr,Nr=1;Gr>=10;Gr/=10,Nr++);Hr!=Nr&&(kr.e++,Kr[0]==wt&&(Kr[0]=1));break}else{if(Kr[jr]+=Nr,Kr[jr]!=wt)break;Kr[jr--]=0,Nr=1}for(Hr=Kr.length;Kr[--Hr]===0;Kr.pop());}kr.e>sr?kr.c=kr.e=null:kr.e<ar&&(kr.c=[kr.e=0])}return kr}function Ur(kr){var Ar,Cr=kr.e;return Cr===null?kr.toString():(Ar=er(kr.c),Ar=Cr<=or||Cr>=rr?lr(Ar,Cr):pr(Ar,Cr,"0"),kr.s<0?"-"+Ar:Ar)}return $r.absoluteValue=$r.abs=function(){var kr=new wr(this);return kr.s<0&&(kr.s=1),kr},$r.comparedTo=function(kr,Ar){return tr(this,new wr(kr,Ar))},$r.decimalPlaces=$r.dp=function(kr,Ar){var Cr,Fr,Lr,Hr=this;if(kr!=null)return nr(kr,0,Ut),Ar==null?Ar=vr:nr(Ar,0,8),Pr(new wr(Hr),kr+Hr.e+1,Ar);if(!(Cr=Hr.c))return null;if(Fr=((Lr=Cr.length-1)-Yt(this.e/Et))*Et,Lr=Cr[Lr])for(;Lr%10==0;Lr/=10,Fr--);return Fr<0&&(Fr=0),Fr},$r.dividedBy=$r.div=function(kr,Ar){return br(this,new wr(kr,Ar),fr,vr)},$r.dividedToIntegerBy=$r.idiv=function(kr,Ar){return br(this,new wr(kr,Ar),0,1)},$r.exponentiatedBy=$r.pow=function(kr,Ar){var Cr,Fr,Lr,Hr,Gr,Nr,Vr,jr,Wr,Kr=this;if(kr=new wr(kr),kr.c&&!kr.isInteger())throw Error(ut+"Exponent not an integer: "+Ur(kr));if(Ar!=null&&(Ar=new wr(Ar)),Nr=kr.e>14,!Kr.c||!Kr.c[0]||Kr.c[0]==1&&!Kr.e&&Kr.c.length==1||!kr.c||!kr.c[0])return Wr=new wr(Math.pow(+Ur(Kr),Nr?kr.s*(2-ir(kr)):+Ur(kr))),Ar?Wr.mod(Ar):Wr;if(Vr=kr.s<0,Ar){if(Ar.c?!Ar.c[0]:!Ar.s)return new wr(NaN);Fr=!Vr&&Kr.isInteger()&&Ar.isInteger(),Fr&&(Kr=Kr.mod(Ar))}else{if(kr.e>9&&(Kr.e>0||Kr.e<-1||(Kr.e==0?Kr.c[0]>1||Nr&&Kr.c[1]>=24e7:Kr.c[0]<8e13||Nr&&Kr.c[0]<=9999975e7)))return Hr=Kr.s<0&&ir(kr)?-0:0,Kr.e>-1&&(Hr=1/Hr),new wr(Vr?1/Hr:Hr);ur&&(Hr=at(ur/Et+2))}for(Nr?(Cr=new wr(.5),Vr&&(kr.s=1),jr=ir(kr)):(Lr=Math.abs(+Ur(kr)),jr=Lr%2),Wr=new wr(Sr);;){if(jr){if(Wr=Wr.times(Kr),!Wr.c)break;Hr?Wr.c.length>Hr&&(Wr.c.length=Hr):Fr&&(Wr=Wr.mod(Ar))}if(Lr){if(Lr=ct(Lr/2),Lr===0)break;jr=Lr%2}else if(kr=kr.times(Cr),Pr(kr,kr.e+1,1),kr.e>14)jr=ir(kr);else{if(Lr=+Ur(kr),Lr===0)break;jr=Lr%2}Kr=Kr.times(Kr),Hr?Kr.c&&Kr.c.length>Hr&&(Kr.c.length=Hr):Fr&&(Kr=Kr.mod(Ar))}return Fr?Wr:(Vr&&(Wr=Sr.div(Wr)),Ar?Wr.mod(Ar):Hr?Pr(Wr,ur,vr,Gr):Wr)},$r.integerValue=function(kr){var Ar=new wr(this);return kr==null?kr=vr:nr(kr,0,8),Pr(Ar,Ar.e+1,kr)},$r.isEqualTo=$r.eq=function(kr,Ar){return tr(this,new wr(kr,Ar))===0},$r.isFinite=function(){return!!this.c},$r.isGreaterThan=$r.gt=function(kr,Ar){return tr(this,new wr(kr,Ar))>0},$r.isGreaterThanOrEqualTo=$r.gte=function(kr,Ar){return(Ar=tr(this,new wr(kr,Ar)))===1||Ar===0},$r.isInteger=function(){return!!this.c&&Yt(this.e/Et)>this.c.length-2},$r.isLessThan=$r.lt=function(kr,Ar){return tr(this,new wr(kr,Ar))<0},$r.isLessThanOrEqualTo=$r.lte=function(kr,Ar){return(Ar=tr(this,new wr(kr,Ar)))===-1||Ar===0},$r.isNaN=function(){return!this.s},$r.isNegative=function(){return this.s<0},$r.isPositive=function(){return this.s>0},$r.isZero=function(){return!!this.c&&this.c[0]==0},$r.minus=function(kr,Ar){var Cr,Fr,Lr,Hr,Gr=this,Nr=Gr.s;if(kr=new wr(kr,Ar),Ar=kr.s,!Nr||!Ar)return new wr(NaN);if(Nr!=Ar)return kr.s=-Ar,Gr.plus(kr);var Vr=Gr.e/Et,jr=kr.e/Et,Wr=Gr.c,Kr=kr.c;if(!Vr||!jr){if(!Wr||!Kr)return Wr?(kr.s=-Ar,kr):new wr(Kr?Gr:NaN);if(!Wr[0]||!Kr[0])return Kr[0]?(kr.s=-Ar,kr):new wr(Wr[0]?Gr:vr==3?-0:0)}if(Vr=Yt(Vr),jr=Yt(jr),Wr=Wr.slice(),Nr=Vr-jr){for((Hr=Nr<0)?(Nr=-Nr,Lr=Wr):(jr=Vr,Lr=Kr),Lr.reverse(),Ar=Nr;Ar--;Lr.push(0));Lr.reverse()}else for(Fr=(Hr=(Nr=Wr.length)<(Ar=Kr.length))?Nr:Ar,Nr=Ar=0;Ar<Fr;Ar++)if(Wr[Ar]!=Kr[Ar]){Hr=Wr[Ar]<Kr[Ar];break}if(Hr&&(Lr=Wr,Wr=Kr,Kr=Lr,kr.s=-kr.s),Ar=(Fr=Kr.length)-(Cr=Wr.length),Ar>0)for(;Ar--;Wr[Cr++]=0);for(Ar=wt-1;Fr>Nr;){if(Wr[--Fr]<Kr[Fr]){for(Cr=Fr;Cr&&!Wr[--Cr];Wr[Cr]=Ar);--Wr[Cr],Wr[Fr]+=wt}Wr[Fr]-=Kr[Fr]}for(;Wr[0]==0;Wr.splice(0,1),--jr);return Wr[0]?Rr(kr,Wr,jr):(kr.s=vr==3?-1:1,kr.c=[kr.e=0],kr)},$r.modulo=$r.mod=function(kr,Ar){var Cr,Fr,Lr=this;return kr=new wr(kr,Ar),!Lr.c||!kr.s||kr.c&&!kr.c[0]?new wr(NaN):!kr.c||Lr.c&&!Lr.c[0]?new wr(Lr):(gr==9?(Fr=kr.s,kr.s=1,Cr=br(Lr,kr,0,3),kr.s=Fr,Cr.s*=Fr):Cr=br(Lr,kr,0,gr),kr=Lr.minus(Cr.times(kr)),!kr.c[0]&&gr==1&&(kr.s=Lr.s),kr)},$r.multipliedBy=$r.times=function(kr,Ar){var Cr,Fr,Lr,Hr,Gr,Nr,Vr,jr,Wr,Kr,an,Un,Vn,Kn,oo,Hn=this,Qn=Hn.c,yo=(kr=new wr(kr,Ar)).c;if(!Qn||!yo||!Qn[0]||!yo[0])return!Hn.s||!kr.s||Qn&&!Qn[0]&&!yo||yo&&!yo[0]&&!Qn?kr.c=kr.e=kr.s=null:(kr.s*=Hn.s,!Qn||!yo?kr.c=kr.e=null:(kr.c=[0],kr.e=0)),kr;for(Fr=Yt(Hn.e/Et)+Yt(kr.e/Et),kr.s*=Hn.s,Vr=Qn.length,Kr=yo.length,Vr<Kr&&(Vn=Qn,Qn=yo,yo=Vn,Lr=Vr,Vr=Kr,Kr=Lr),Lr=Vr+Kr,Vn=[];Lr--;Vn.push(0));for(Kn=wt,oo=Lt,Lr=Kr;--Lr>=0;){for(Cr=0,an=yo[Lr]%oo,Un=yo[Lr]/oo|0,Gr=Vr,Hr=Lr+Gr;Hr>Lr;)jr=Qn[--Gr]%oo,Wr=Qn[Gr]/oo|0,Nr=Un*jr+Wr*an,jr=an*jr+Nr%oo*oo+Vn[Hr]+Cr,Cr=(jr/Kn|0)+(Nr/oo|0)+Un*Wr,Vn[Hr--]=jr%Kn;Vn[Hr]=Cr}return Cr?++Fr:Vn.splice(0,1),Rr(kr,Vn,Fr)},$r.negated=function(){var kr=new wr(this);return kr.s=-kr.s||null,kr},$r.plus=function(kr,Ar){var Cr,Fr=this,Lr=Fr.s;if(kr=new wr(kr,Ar),Ar=kr.s,!Lr||!Ar)return new wr(NaN);if(Lr!=Ar)return kr.s=-Ar,Fr.minus(kr);var Hr=Fr.e/Et,Gr=kr.e/Et,Nr=Fr.c,Vr=kr.c;if(!Hr||!Gr){if(!Nr||!Vr)return new wr(Lr/0);if(!Nr[0]||!Vr[0])return Vr[0]?kr:new wr(Nr[0]?Fr:Lr*0)}if(Hr=Yt(Hr),Gr=Yt(Gr),Nr=Nr.slice(),Lr=Hr-Gr){for(Lr>0?(Gr=Hr,Cr=Vr):(Lr=-Lr,Cr=Nr),Cr.reverse();Lr--;Cr.push(0));Cr.reverse()}for(Lr=Nr.length,Ar=Vr.length,Lr-Ar<0&&(Cr=Vr,Vr=Nr,Nr=Cr,Ar=Lr),Lr=0;Ar;)Lr=(Nr[--Ar]=Nr[Ar]+Vr[Ar]+Lr)/wt|0,Nr[Ar]=wt===Nr[Ar]?0:Nr[Ar]%wt;return Lr&&(Nr=[Lr].concat(Nr),++Gr),Rr(kr,Nr,Gr)},$r.precision=$r.sd=function(kr,Ar){var Cr,Fr,Lr,Hr=this;if(kr!=null&&kr!==!!kr)return nr(kr,1,Ut),Ar==null?Ar=vr:nr(Ar,0,8),Pr(new wr(Hr),kr,Ar);if(!(Cr=Hr.c))return null;if(Lr=Cr.length-1,Fr=Lr*Et+1,Lr=Cr[Lr]){for(;Lr%10==0;Lr/=10,Fr--);for(Lr=Cr[0];Lr>=10;Lr/=10,Fr++);}return kr&&Hr.e+1>Fr&&(Fr=Hr.e+1),Fr},$r.shiftedBy=function(kr){return nr(kr,-9007199254740991,Ft),this.times("1e"+kr)},$r.squareRoot=$r.sqrt=function(){var kr,Ar,Cr,Fr,Lr,Hr=this,Gr=Hr.c,Nr=Hr.s,Vr=Hr.e,jr=fr+4,Wr=new wr("0.5");if(Nr!==1||!Gr||!Gr[0])return new wr(!Nr||Nr<0&&(!Gr||Gr[0])?NaN:Gr?Hr:1/0);if(Nr=Math.sqrt(+Ur(Hr)),Nr==0||Nr==1/0?(Ar=er(Gr),(Ar.length+Vr)%2==0&&(Ar+="0"),Nr=Math.sqrt(+Ar),Vr=Yt((Vr+1)/2)-(Vr<0||Vr%2),Nr==1/0?Ar="5e"+Vr:(Ar=Nr.toExponential(),Ar=Ar.slice(0,Ar.indexOf("e")+1)+Vr),Cr=new wr(Ar)):Cr=new wr(Nr+""),Cr.c[0]){for(Vr=Cr.e,Nr=Vr+jr,Nr<3&&(Nr=0);;)if(Lr=Cr,Cr=Wr.times(Lr.plus(br(Hr,Lr,jr,1))),er(Lr.c).slice(0,Nr)===(Ar=er(Cr.c)).slice(0,Nr))if(Cr.e<Vr&&--Nr,Ar=Ar.slice(Nr-3,Nr+1),Ar=="9999"||!Fr&&Ar=="4999"){if(!Fr&&(Pr(Lr,Lr.e+fr+2,0),Lr.times(Lr).eq(Hr))){Cr=Lr;break}jr+=4,Nr+=4,Fr=1}else{(!+Ar||!+Ar.slice(1)&&Ar.charAt(0)=="5")&&(Pr(Cr,Cr.e+fr+2,1),kr=!Cr.times(Cr).eq(Hr));break}}return Pr(Cr,Cr.e+fr+1,vr,kr)},$r.toExponential=function(kr,Ar){return kr!=null&&(nr(kr,0,Ut),kr++),Br(this,kr,Ar,1)},$r.toFixed=function(kr,Ar){return kr!=null&&(nr(kr,0,Ut),kr=kr+this.e+1),Br(this,kr,Ar)},$r.toFormat=function(kr,Ar,Cr){var Fr,Lr=this;if(Cr==null)kr!=null&&Ar&&typeof Ar=="object"?(Cr=Ar,Ar=null):kr&&typeof kr=="object"?(Cr=kr,kr=Ar=null):Cr=_r;else if(typeof Cr!="object")throw Error(ut+"Argument not an object: "+Cr);if(Fr=Lr.toFixed(kr,Ar),Lr.c){var Hr,Gr=Fr.split("."),Nr=+Cr.groupSize,Vr=+Cr.secondaryGroupSize,jr=Cr.groupSeparator||"",Wr=Gr[0],Kr=Gr[1],an=Lr.s<0,Un=an?Wr.slice(1):Wr,Vn=Un.length;if(Vr&&(Hr=Nr,Nr=Vr,Vr=Hr,Vn-=Hr),Nr>0&&Vn>0){for(Hr=Vn%Nr||Nr,Wr=Un.substr(0,Hr);Hr<Vn;Hr+=Nr)Wr+=jr+Un.substr(Hr,Nr);Vr>0&&(Wr+=jr+Un.slice(Hr)),an&&(Wr="-"+Wr)}Fr=Kr?Wr+(Cr.decimalSeparator||"")+((Vr=+Cr.fractionGroupSize)?Kr.replace(new RegExp("\\d{"+Vr+"}\\B","g"),"$&"+(Cr.fractionGroupSeparator||"")):Kr):Wr}return(Cr.prefix||"")+Fr+(Cr.suffix||"")},$r.toFraction=function(kr){var Ar,Cr,Fr,Lr,Hr,Gr,Nr,Vr,jr,Wr,Kr,an,Un=this,Vn=Un.c;if(kr!=null&&(Nr=new wr(kr),!Nr.isInteger()&&(Nr.c||Nr.s!==1)||Nr.lt(Sr)))throw Error(ut+"Argument "+(Nr.isInteger()?"out of range: ":"not an integer: ")+Ur(Nr));if(!Vn)return new wr(Un);for(Ar=new wr(Sr),jr=Cr=new wr(Sr),Fr=Vr=new wr(Sr),an=er(Vn),Hr=Ar.e=an.length-Un.e-1,Ar.c[0]=jt[(Gr=Hr%Et)<0?Et+Gr:Gr],kr=!kr||Nr.comparedTo(Ar)>0?Hr>0?Ar:jr:Nr,Gr=sr,sr=1/0,Nr=new wr(an),Vr.c[0]=0;Wr=br(Nr,Ar,0,1),Lr=Cr.plus(Wr.times(Fr)),Lr.comparedTo(kr)!=1;)Cr=Fr,Fr=Lr,jr=Vr.plus(Wr.times(Lr=jr)),Vr=Lr,Ar=Nr.minus(Wr.times(Lr=Ar)),Nr=Lr;return Lr=br(kr.minus(Cr),Fr,0,1),Vr=Vr.plus(Lr.times(jr)),Cr=Cr.plus(Lr.times(Fr)),Vr.s=jr.s=Un.s,Hr=Hr*2,Kr=br(jr,Fr,Hr,vr).minus(Un).abs().comparedTo(br(Vr,Cr,Hr,vr).minus(Un).abs())<1?[jr,Fr]:[Vr,Cr],sr=Gr,Kr},$r.toNumber=function(){return+Ur(this)},$r.toPrecision=function(kr,Ar){return kr!=null&&nr(kr,1,Ut),Br(this,kr,Ar,2)},$r.toString=function(kr){var Ar,Cr=this,Fr=Cr.s,Lr=Cr.e;return Lr===null?Fr?(Ar="Infinity",Fr<0&&(Ar="-"+Ar)):Ar="NaN":(kr==null?Ar=Lr<=or||Lr>=rr?lr(er(Cr.c),Lr):pr(er(Cr.c),Lr,"0"):kr===10&&cr?(Cr=Pr(new wr(Cr),fr+Lr+1,vr),Ar=pr(er(Cr.c),Cr.e,"0")):(nr(kr,2,hr.length,"Base"),Ar=xr(pr(er(Cr.c),Lr,"0"),10,kr,Fr,!0)),Fr<0&&Cr.c[0]&&(Ar="-"+Ar)),Ar},$r.valueOf=$r.toJSON=function(){return Ur(this)},$r._isBigNumber=!0,yr!=null&&wr.set(yr),wr}function Yt(yr){var br=yr|0;return yr>0||yr===br?br:br-1}function er(yr){for(var br,xr,Er=1,$r=yr.length,Sr=yr[0]+"";Er<$r;){for(br=yr[Er++]+"",xr=Et-br.length;xr--;br="0"+br);Sr+=br}for($r=Sr.length;Sr.charCodeAt(--$r)===48;);return Sr.slice(0,$r+1||1)}function tr(yr,br){var xr,Er,$r=yr.c,Sr=br.c,fr=yr.s,vr=br.s,or=yr.e,rr=br.e;if(!fr||!vr)return null;if(xr=$r&&!$r[0],Er=Sr&&!Sr[0],xr||Er)return xr?Er?0:-vr:fr;if(fr!=vr)return fr;if(xr=fr<0,Er=or==rr,!$r||!Sr)return Er?0:!$r^xr?1:-1;if(!Er)return or>rr^xr?1:-1;for(vr=(or=$r.length)<(rr=Sr.length)?or:rr,fr=0;fr<vr;fr++)if($r[fr]!=Sr[fr])return $r[fr]>Sr[fr]^xr?1:-1;return or==rr?0:or>rr^xr?1:-1}function nr(yr,br,xr,Er){if(yr<br||yr>xr||yr!==ct(yr))throw Error(ut+(Er||"Argument")+(typeof yr=="number"?yr<br||yr>xr?" out of range: ":" not an integer: ":" not a primitive number: ")+String(yr))}function ir(yr){var br=yr.c.length-1;return Yt(yr.e/Et)==br&&yr.c[br]%2!=0}function lr(yr,br){return(yr.length>1?yr.charAt(0)+"."+yr.slice(1):yr)+(br<0?"e":"e+")+br}function pr(yr,br,xr){var Er,$r;if(br<0){for($r=xr+".";++br;$r+=xr);yr=$r+yr}else if(Er=yr.length,++br>Er){for($r=xr,br-=Er;--br;$r+=xr);yr+=$r}else br<Er&&(yr=yr.slice(0,br)+"."+yr.slice(br));return yr}et=Vt(),et.default=et.BigNumber=et,a.exports?a.exports=et:(s||(s=typeof self<"u"&&self?self:window),s.BigNumber=et)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const globalState$1=requireGlobalState(),validating=requireValidating(),parsing$1=parsing$2,BigNumber$1=bignumberExports,powers={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},defaultOptions$2={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes,decimalSuffixes}=globalState$1.currentBytes(),bytes={general:{scale:1024,suffixes:decimalSuffixes},binary:{scale:1024,suffixes:binarySuffixes},decimal:{scale:1e3,suffixes:decimalSuffixes}};function format$2(a,s={},et){if(typeof s=="string"&&(s=parsing$1.parseFormat(s)),!validating.validateFormat(s))return"ERROR: invalid format";let at=s.prefix||"",ct=s.postfix||"",ut=formatNumbro(a,s,et);return ut=insertPrefix(ut,at),ut=insertPostfix(ut,ct),ut}function formatNumbro(a,s,et){switch(s.output){case"currency":return s=formatOrDefault(s,globalState$1.currentCurrencyDefaultFormat()),formatCurrency$2(a,s,globalState$1);case"percent":return s=formatOrDefault(s,globalState$1.currentPercentageDefaultFormat()),formatPercentage$1(a,s,globalState$1,et);case"byte":return s=formatOrDefault(s,globalState$1.currentByteDefaultFormat()),formatByte(a,s,globalState$1,et);case"time":return s=formatOrDefault(s,globalState$1.currentTimeDefaultFormat()),formatTime(a);case"ordinal":return s=formatOrDefault(s,globalState$1.currentOrdinalDefaultFormat()),formatOrdinal(a,s,globalState$1);case"number":default:return formatNumber$1({instance:a,providedFormat:s})}}function getDecimalByteUnit(a){let s=bytes.decimal;return getFormatByteUnits(a._value,s.suffixes,s.scale).suffix}function getBinaryByteUnit(a){let s=bytes.binary;return getFormatByteUnits(a._value,s.suffixes,s.scale).suffix}function getByteUnit(a){let s=bytes.general;return getFormatByteUnits(a._value,s.suffixes,s.scale).suffix}function getFormatByteUnits(a,s,et){let tt=s[0],at=Math.abs(a);if(at>=et){for(let ct=1;ct<s.length;++ct){let ut=Math.pow(et,ct),bt=Math.pow(et,ct+1);if(at>=ut&&at<bt){tt=s[ct],a=a/ut;break}}tt===s[0]&&(a=a/Math.pow(et,s.length-1),tt=s[s.length-1])}return{value:a,suffix:tt}}function formatByte(a,s,et,tt){let at=s.base||"binary",ct=Object.assign({},defaultOptions$2,s);const{binarySuffixes:ut,decimalSuffixes:bt}=et.currentBytes();let Et={general:{scale:1024,suffixes:bt||decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:ut||binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:bt||decimalSuffixes,marker:"d"}}[at],{value:Ft,suffix:jt}=getFormatByteUnits(a._value,Et.suffixes,Et.scale);return`${formatNumber$1({instance:tt(Ft),providedFormat:s,state:et,defaults:et.currentByteDefaultFormat()})}${ct.spaceSeparated?" ":""}${jt}`}function formatOrdinal(a,s,et){let tt=et.currentOrdinal(),at=Object.assign({},defaultOptions$2,s),ct=formatNumber$1({instance:a,providedFormat:s,state:et}),ut=tt(a._value);return`${ct}${at.spaceSeparated?" ":""}${ut}`}function formatTime(a){let s=Math.floor(a._value/60/60),et=Math.floor((a._value-s*60*60)/60),tt=Math.round(a._value-s*60*60-et*60);return`${s}:${et<10?"0":""}${et}:${tt<10?"0":""}${tt}`}function formatPercentage$1(a,s,et,tt){let at=s.prefixSymbol,ct=formatNumber$1({instance:tt(a._value*100),providedFormat:s,state:et}),ut=Object.assign({},defaultOptions$2,s);return at?`%${ut.spaceSeparated?" ":""}${ct}`:`${ct}${ut.spaceSeparated?" ":""}%`}function formatCurrency$2(a,s,et){const tt=et.currentCurrency();let at=Object.assign({},s),ct=Object.assign({},defaultOptions$2,at),ut,bt="",wt=!!ct.totalLength||!!ct.forceAverage||ct.average,Et=at.currencyPosition||tt.position,Ft=at.currencySymbol||tt.symbol;const jt=ct.spaceSeparatedCurrency!==void 0?ct.spaceSeparatedCurrency:ct.spaceSeparated;at.lowPrecision===void 0&&(at.lowPrecision=!1),jt&&(bt=" "),Et==="infix"&&(ut=bt+Ft+bt);let Lt=formatNumber$1({instance:a,providedFormat:at,state:et,decimalSeparator:ut});return Et==="prefix"&&(a._value<0&&ct.negative==="sign"?Lt=`-${bt}${Ft}${Lt.slice(1)}`:a._value>0&&ct.forceSign?Lt=`+${bt}${Ft}${Lt.slice(1)}`:Lt=Ft+bt+Lt),(!Et||Et==="postfix")&&(bt=!ct.spaceSeparatedAbbreviation&&wt?"":bt,Lt=Lt+bt+Ft),Lt}function computeAverage({value:a,forceAverage:s,lowPrecision:et=!0,abbreviations:tt,spaceSeparated:at=!1,totalLength:ct=0,roundingFunction:ut=Math.round}){let bt="",wt=Math.abs(a),Et=-1;if(s&&tt[s]&&powers[s]?(bt=tt[s],a=a/powers[s]):wt>=powers.trillion||et&&ut(wt/powers.trillion)===1?(bt=tt.trillion,a=a/powers.trillion):wt<powers.trillion&&wt>=powers.billion||et&&ut(wt/powers.billion)===1?(bt=tt.billion,a=a/powers.billion):wt<powers.billion&&wt>=powers.million||et&&ut(wt/powers.million)===1?(bt=tt.million,a=a/powers.million):(wt<powers.million&&wt>=powers.thousand||et&&ut(wt/powers.thousand)===1)&&(bt=tt.thousand,a=a/powers.thousand),bt&&(bt=(at?" ":"")+bt),ct){let jt=a<0,Lt=a.toString().split(".")[0],Ut=jt?Lt.length-1:Lt.length;Et=Math.max(ct-Ut,0)}return{value:a,abbreviation:bt,mantissaPrecision:Et}}function computeExponential({value:a,characteristicPrecision:s}){let[et,tt]=a.toExponential().split("e"),at=+et;if(!s)return{value:at,abbreviation:`e${tt}`};let ct=1;return ct<s&&(at=at*Math.pow(10,s-ct),tt=+tt-(s-ct),tt=tt>=0?`+${tt}`:tt),{value:at,abbreviation:`e${tt}`}}function zeroes(a){let s="";for(let et=0;et<a;et++)s+="0";return s}function toFixedLarge(a,s){let et=a.toString(),[tt,at]=et.split("e"),[ct,ut=""]=tt.split(".");if(+at>0)et=ct+ut+zeroes(at-ut.length);else{let bt=".";+ct<0?bt=`-0${bt}`:bt=`0${bt}`;let wt=(zeroes(-at-1)+Math.abs(ct)+ut).substr(0,s);wt.length<s&&(wt+=zeroes(s-wt.length)),et=bt+wt}return+at>0&&s>0&&(et+=`.${zeroes(s)}`),et}function toFixed(a,s,et=Math.round){return a.toString().indexOf("e")!==-1?toFixedLarge(a,s):new BigNumber$1(et(+`${a}e+${s}`)/Math.pow(10,s)).toFixed(s)}function setMantissaPrecision(a,s,et,tt,at,ct){if(tt===-1)return a;let ut=toFixed(s,tt,ct),[bt,wt=""]=ut.toString().split(".");if(wt.match(/^0+$/)&&(et||at))return bt;let Et=wt.match(/0+$/);return at&&Et?`${bt}.${wt.toString().slice(0,Et.index)}`:ut.toString()}function setCharacteristicPrecision(a,s,et,tt){let at=a,[ct,ut]=at.toString().split(".");if(ct.match(/^-?0$/)&&et)return ut?`${ct.replace("0","")}.${ut}`:ct.replace("0","");const bt=s<0&&ct.indexOf("-")===0;if(bt&&(ct=ct.slice(1),at=at.slice(1)),ct.length<tt){let wt=tt-ct.length;for(let Et=0;Et<wt;Et++)at=`0${at}`}return bt&&(at=`-${at}`),at.toString()}function indexesOfGroupSpaces(a,s){let et=[],tt=0;for(let at=a;at>0;at--)tt===s&&(et.unshift(at),tt=0),tt++;return et}function replaceDelimiters(a,s,et,tt,at){let ct=tt.currentDelimiters(),ut=ct.thousands;at=at||ct.decimal;let bt=ct.thousandsSize||3,wt=a.toString(),Et=wt.split(".")[0],Ft=wt.split(".")[1];const jt=s<0&&Et.indexOf("-")===0;return et&&(jt&&(Et=Et.slice(1)),indexesOfGroupSpaces(Et.length,bt).forEach((Ut,Vt)=>{Et=Et.slice(0,Ut+Vt)+ut+Et.slice(Ut+Vt)}),jt&&(Et=`-${Et}`)),Ft?wt=Et+at+Ft:wt=Et,wt}function insertAbbreviation(a,s){return a+s}function insertSign(a,s,et){return s===0?a:+a==0?a.replace("-",""):s>0?`+${a}`:et==="sign"?a:`(${a.replace("-","")})`}function insertPrefix(a,s){return s+a}function insertPostfix(a,s){return a+s}function formatNumber$1({instance:a,providedFormat:s,state:et=globalState$1,decimalSeparator:tt,defaults:at=et.currentDefaults()}){let ct=a._value;if(ct===0&&et.hasZeroFormat())return et.getZeroFormat();if(!isFinite(ct))return ct.toString();let ut=Object.assign({},defaultOptions$2,at,s),bt=ut.totalLength,wt=bt?0:ut.characteristic,Et=ut.optionalCharacteristic,Ft=ut.forceAverage,jt=ut.lowPrecision,Lt=!!bt||!!Ft||ut.average,Ut=bt?-1:Lt&&s.mantissa===void 0?0:ut.mantissa,Vt=bt?!1:s.optionalMantissa===void 0?Ut===-1:ut.optionalMantissa,Yt=ut.trimMantissa,er=ut.thousandSeparated,tr=ut.spaceSeparated,nr=ut.negative,ir=ut.forceSign,lr=ut.exponential,pr=ut.roundingFunction,yr="";if(Lt){let xr=computeAverage({value:ct,forceAverage:Ft,lowPrecision:jt,abbreviations:et.currentAbbreviations(),spaceSeparated:tr,roundingFunction:pr,totalLength:bt});ct=xr.value,yr+=xr.abbreviation,bt&&(Ut=xr.mantissaPrecision)}if(lr){let xr=computeExponential({value:ct,characteristicPrecision:wt});ct=xr.value,yr=xr.abbreviation+yr}let br=setMantissaPrecision(ct.toString(),ct,Vt,Ut,Yt,pr);return br=setCharacteristicPrecision(br,ct,Et,wt),br=replaceDelimiters(br,ct,er,et,tt),(Lt||lr)&&(br=insertAbbreviation(br,yr)),(ir||ct<0)&&(br=insertSign(br,ct,nr)),br}function formatOrDefault(a,s){if(!a)return s;let et=Object.keys(a);return et.length===1&&et[0]==="output"?s:a}var formatting=a=>({format:(...s)=>format$2(...s,a),getByteUnit:(...s)=>getByteUnit(...s,a),getBinaryByteUnit:(...s)=>getBinaryByteUnit(...s,a),getDecimalByteUnit:(...s)=>getDecimalByteUnit(...s,a),formatOrDefault});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const BigNumber=bignumberExports;function add$3(a,s,et){let tt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=tt.plus(at).toNumber(),a}function subtract$4(a,s,et){let tt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=tt.minus(at).toNumber(),a}function multiply$2(a,s,et){let tt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=tt.times(at).toNumber(),a}function divide$3(a,s,et){let tt=new BigNumber(a._value),at=s;return et.isNumbro(s)&&(at=s._value),at=new BigNumber(at),a._value=tt.dividedBy(at).toNumber(),a}function set(a,s,et){let tt=s;return et.isNumbro(s)&&(tt=s._value),a._value=tt,a}function difference(a,s,et){let tt=et(a._value);return subtract$4(tt,s,et),Math.abs(tt._value)}var manipulating=a=>({add:(s,et)=>add$3(s,et,a),subtract:(s,et)=>subtract$4(s,et,a),multiply:(s,et)=>multiply$2(s,et,a),divide:(s,et)=>divide$3(s,et,a),set:(s,et)=>set(s,et,a),difference:(s,et)=>difference(s,et,a),BigNumber});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const VERSION$1="2.5.0",globalState=requireGlobalState(),validator$1=requireValidating(),loader=loading(numbro),unformatter=requireUnformatting();let formatter=formatting(numbro),manipulate=manipulating(numbro);const parsing=parsing$2;class Numbro{constructor(s){this._value=s}clone(){return numbro(this._value)}format(s={}){return formatter.format(this,s)}formatCurrency(s){return typeof s=="string"&&(s=parsing.parseFormat(s)),s=formatter.formatOrDefault(s,globalState.currentCurrencyDefaultFormat()),s.output="currency",formatter.format(this,s)}formatTime(s={}){return s.output="time",formatter.format(this,s)}binaryByteUnits(){return formatter.getBinaryByteUnit(this)}decimalByteUnits(){return formatter.getDecimalByteUnit(this)}byteUnits(){return formatter.getByteUnit(this)}difference(s){return manipulate.difference(this,s)}add(s){return manipulate.add(this,s)}subtract(s){return manipulate.subtract(this,s)}multiply(s){return manipulate.multiply(this,s)}divide(s){return manipulate.divide(this,s)}set(s){return manipulate.set(this,normalizeInput$1(s))}value(){return this._value}valueOf(){return this._value}}function normalizeInput$1(a){let s=a;return numbro.isNumbro(a)?s=a._value:typeof a=="string"?s=numbro.unformat(a):isNaN(a)&&(s=NaN),s}function numbro(a){return new Numbro(normalizeInput$1(a))}numbro.version=VERSION$1;numbro.isNumbro=function(a){return a instanceof Numbro};numbro.language=globalState.currentLanguage;numbro.registerLanguage=globalState.registerLanguage;numbro.setLanguage=globalState.setLanguage;numbro.languages=globalState.languages;numbro.languageData=globalState.languageData;numbro.zeroFormat=globalState.setZeroFormat;numbro.defaultFormat=globalState.currentDefaults;numbro.setDefaults=globalState.setDefaults;numbro.defaultCurrencyFormat=globalState.currentCurrencyDefaultFormat;numbro.validate=validator$1.validate;numbro.loadLanguagesInNode=loader.loadLanguagesInNode;numbro.unformat=unformatter.unformat;numbro.BigNumber=manipulate.BigNumber;var numbro_1=numbro,numbro$1=getDefaultExportFromCjs(numbro_1);const d$2=a=>Decimal$1.isDecimal(a)?a:new Decimal$1(typeof a>"u"||a==="undefined"||!a?0:a),addComma=a=>{try{return d$2(a).gt(1)?numbro$1(a).format({thousandSeparated:!0,exponential:!1}):a}catch{return a}},addCommaWithNoMantissa=a=>{try{return d$2(a).gt(1)?numbro$1(a).format({thousandSeparated:!0,mantissa:0}):a}catch{return a}},fixRounding=(a,s)=>d$2(a).toDP(s,Decimal$1.ROUND_HALF_DOWN).toString(),fixNumber=(a,s,et)=>d$2(a).toDP(s,et).toString(),fixDown=(a,s)=>{try{return d$2(a).toDP(s,Decimal$1.ROUND_DOWN).toString()}catch{return String(a)}};function getGtZeroIndex(a){let s=0;if(a)for(;s<a.length;){if(d$2(a[s]).gt(0))return s;s++}return 0}dayjs.extend(relativeTime);dayjs.extend(duration);const formatCurrency$1=(a,s,et,tt)=>{try{if(a===void 0||a==="--")return"$--";const at=formatNumberWithDown(a,s,!0).toString();if(d$2(at).equals(0))return"$0";const ct=at.startsWith("-");let ut=tt?at:addComma(at).toString();return ut.includes("e")&&(ut=tt?at:addCommaWithNoMantissa(at).toString()),!et&&Number(at)<Math.pow(10,-s)?ct?`-$${ut.slice(1)}`:`<$${Math.pow(10,-s).toFixed(s)}`:ct?`-$${ut.slice(1)}`:`$${ut}`}catch(at){return console.log("🚀 ~ formatCurrency ~ error:",at),"$--"}},formatPercentage=(a,s=2,et=!1,tt=!1)=>{if(a===void 0)return"--";if(d$2(a).equals(0))return tt?`< ${Math.pow(10,-s)}%`:"0%";if(!et){if(Number(a)>=0&&Number(a)<=Math.pow(10,-s))return`<${Math.pow(10,-s).toFixed(s)}%`;if(Number(a)<0&&Number(a)*-1<=Math.pow(10,-s))return` < -${Math.pow(10,-s).toFixed(s)}%`}return`${fixDown(a,s)}%`},formatNumber=(a,s,et,tt=Decimal$1.ROUND_HALF_DOWN,at=!1)=>{if(a==="∞")return"∞";if(a!=="0"&&!a||(a=convertScientificToDecimal(a.toString(),s),d$2(a).equals(0)))return"0";if(s!==void 0){const Ft=fixNumber(a,s,tt);if(d$2(Ft).equals(0)){if(at)return Ft}else return et?Ft:addComma(Ft)}const ct=d$2(a).toString(),ut=ct.split("."),bt=ut[0],wt=ut[1];let Et;if(d$2(bt).gt(0))!wt||d$2(bt.length).gte(9)?Et=fixNumber(ct,0,tt):d$2(bt.length).gte(4)?Et=fixNumber(ct,2,tt):Et=fixNumber(ct,4,tt);else{fixNumber(ct,6,tt);const Ft=getGtZeroIndex(wt);if(Ft<6)Et=fixNumber(ct,Ft+6,tt);else if(Ft>=6&&Ft<=38)Et=fixNumber(ct,Ft+4,tt);else return"0"}return et||d$2(bt).lt(1)?Et:addComma(Et)},formatNumberWithDown=(a,s,et,tt=!1)=>formatNumber(a,s,et,Decimal$1.ROUND_DOWN,tt),formatTickPrice=(a,s,et)=>{const at=d$2(a).toString().split("."),ct=at[0],ut=at[1];if(ct==="0"&&s){const bt=getGtZeroIndex(ut),wt=s-bt,Et=wt<=0?Number(bt):s;return wt<=2?formatNumber(a,Et+2,et,Decimal$1.ROUND_DOWN):formatNumber(a,s,et,Decimal$1.ROUND_DOWN)}else return formatNumber(a,s,et,Decimal$1.ROUND_DOWN)},formatNumberWithThreshold=(a,s,et,tt)=>{const at=formatNumberWithLtMinPrecision(a,s);return at==`< ${Math.pow(10,-2)}`&&et?String(formatNumberWithLtMinPrecision(a,et)):String(at)},formatPrice=(a,s,et)=>{if(a==="∞")return"∞";if(a!=="0"&&!a||d$2(a).equals(0))return"0";if(s!==void 0){const wt=fixDown(a,s);if(!d$2(wt).equals(0))return String(et?wt:addComma(wt))}const tt=d$2(a).toString(),at=tt.split("."),ct=at[0],ut=at[1];let bt;if(d$2(ct).gt(0))d$2(ct).gt(9)?bt=fixDown(tt,2):bt=fixDown(tt,3);else{const wt=getGtZeroIndex(ut);bt=fixDown(tt,wt+3)}return et||d$2(ct).lt(1)?String(bt):String(addComma(bt))},formatNumberWithLtMinPrecision=(a,s=2,et)=>a==="∞"?"∞":a!=="0"&&!a||d$2(a).equals(0)?"0":d$2(a).lt(Math.pow(10,-s))?`< ${Math.pow(10,-s)}`:formatNumber(a,s,et),formatNumberWithKMB=(a,s=2)=>{var at,ct,ut;const et=d$2(a||"0");let tt;return et.gte(Math.pow(10,9))?tt=addComma(fixRounding((at=et.div(Math.pow(10,9)))==null?void 0:at.toString(),s))+"B":et.gte(Math.pow(10,6))?tt=addComma(fixRounding((ct=et.div(Math.pow(10,6)))==null?void 0:ct.toString(),s))+"M":et.gte(d$2(1e3))?tt=addComma(fixRounding((ut=et.div(1e3))==null?void 0:ut.toString(),s))+"K":tt=addComma(fixRounding(Number(a),s)),tt},formatCurrencyWithKMB=(a,s=2)=>{var at;const et=d$2(a||"0");let tt;return et.gte(Math.pow(10,9))?tt=formatCurrency$1(fixRounding((at=et.div(Math.pow(10,9)))==null?void 0:at.toString(),s),s)+"B":tt=formatCurrency$1(a,s),tt},formatDateTime=a=>a?dayjs(a).format("YYYY-MM-DD HH:mm:ss"):"",fixDEAdd=(a,s,et=!0)=>{if(`${a}`=="0")return!parseFloat(s)||!et?"0":"0.".padEnd(s+2,"0");if(!a)return"--";const tt=parseFloat(a),at=a.toString(),ct=tt<0;let ut=at;if(at.toLowerCase().includes("e")){const bt=at.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/);if(!bt)return a.toString();const wt=bt[1]||"0",Et=bt[2]||"",Ft=bt[3],jt=parseInt(bt[4],10);let Lt="",Ut=Et.substring(jt)||"";if(Ut&&(Ut=`.${Ut}`),Ft!=="-"){for(let Vt=0;Vt<jt;Vt++)Lt+=Et[Vt]||"0";ut=wt+Lt+Ut}else{let Vt="0";for(let Yt=0;Yt<jt;Yt++)Lt=(wt[wt.length-Yt-1]||"0")+Lt;wt.length>jt&&(Vt=wt.substring(0,wt.length-jt)),ut=`${Vt}.${Lt}${Et}`}}if(s&&et){let bt=`${ut.split(".")[0]}.`;const wt=ut.split(".")[1]||"";for(let Et=0;Et<s;Et++)bt+=wt[Et]||"0";ut=bt}return`${ct?"-":""}${ut}`};function formatCurrencyInput(a,s=6){try{const et=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${s}})?).*$`);return a.replace(et,"$1")}catch(et){return console.log("🚀 ~ formatCurrencyInput ~ error:",et),""}}const inputValue="abc123.456def",formattedValue=formatCurrencyInput(inputValue,2);console.log(formattedValue);function fromDecimalsAmountFix(a,s){const et=fromDecimalsAmount(a,s);return convertScientificToDecimal(et.toString(),Number(s))}function convertScientificToDecimal(a,s=9){if(a===void 0)return"";const et=a==null?void 0:a.toLowerCase();if(et.includes("e")){if(et.includes("+"))return fixDEAdd(et,s);const[tt,at]=et.split("e");let ct=tt;const ut=Math.abs(parseInt(at,10));let bt="",wt=ct.length;if(tt.includes(".")){const[Et,Ft]=tt.split(".");ct=Et+Ft,wt=Et.length}for(let Et=0;Et<ut-wt;Et++)bt+="0";return`0.${bt}${ct}`.slice(0,s+2)}return a}const removePercentSign=a=>{if(a!=null&&a.includes("%")){const s=a.split("%");return d$2(s==null?void 0:s[0]).equals("0")?"0":d$2(s==null?void 0:s[0]).div(100).toString()}return a};function symbolDataDisplayProcessing(a,s="$",et=2,tt=!1){if(a==="--")return"--";const at=d$2(10).pow(-et).toString();return d$2(a).gt(0)&&d$2(a).lt(at)?s==="%"?`<${at}${s}`:`<${s}${at}`:s==="%"?tt&&d$2(a).gt(1e6)?`>1,000,000${s}`:`${formatNumberWithDown(a,et)}${s}`:`${s}${formatNumberWithDown(a,et)}`}function cancelBubble(a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation()}const addressAbridge=(a,s="")=>s=="long"?a&&a.length>40?a.substring(0,40)+"...":a&&a.length<40?a:"":a?a.substring(0,6)+"..."+a.substring(a.length-4):"",sleepTime=async a=>new Promise(s=>{setTimeout(()=>{s(1)},a)});function singleFormat(a){return a.toString().length===1?"0"+a:a}function getYMD(a){const s=a.getFullYear(),et=a.getMonth()+1,tt=a.getDate();return s+"/"+singleFormat(et)+"/"+singleFormat(tt)}function getMD(a){const s=a.getMonth()+1,et=a.getDate();return singleFormat(s)+"/"+singleFormat(et)}function getMDY(a){const s=a.getFullYear(),et=a.getMonth()+1,tt=a.getDate();return singleFormat(et)+"/"+singleFormat(tt)+"/"+new String(s).slice(2,4)}function getHMS(a){const s=a.getHours(),et=a.getMinutes(),tt=a.getSeconds();return singleFormat(s)+":"+singleFormat(et)+":"+singleFormat(tt)}function getHM(a){const s=a.getHours(),et=a.getMinutes();return singleFormat(s)+":"+singleFormat(et)}function getTimeZone(a){const et=new Date(a),tt=et.getTimezoneOffset()+480;return et.setMinutes(et.getMinutes()+tt),et}const timeFormat=(a,s)=>{if(a){const et=getTimeZone(a);switch(s){case"HMS":return getHMS(et);case"MDY":return getMDY(et);case"YMD":return getYMD(et);case"MD":return getMD(et);case"HM":return getHM(et)}}},timeFormatUTC=(a,s)=>{if(a){const et=new Date(a);if(!s)return getYMDUTC(et)+" "+getHMSUTC(et);switch(s){case"HMS":return getHMSUTC(et);case"YMD":return getYMDUTC(et);case"MD":return getMDUTC(et);case"HM":return getHMUTC(et);case"YMDHM":return getYMDUTC(et)+" "+getHMUTC(et);default:return"--"}}};function getYMDUTC(a){const s=a.getUTCFullYear(),et=a.getUTCMonth()+1,tt=a.getUTCDate();return s+"-"+singleFormat(et)+"-"+singleFormat(tt)}function getMDUTC(a){const s=a.getUTCMonth()+1,et=a.getUTCDate();return singleFormat(s)+"/"+singleFormat(et)}function getHMSUTC(a){const s=a.getUTCHours(),et=a.getUTCMinutes(),tt=a.getUTCSeconds();return singleFormat(s)+":"+singleFormat(et)+":"+singleFormat(tt)}function getHMUTC(a){const s=a.getUTCHours(),et=a.getUTCMinutes();return singleFormat(s)+":"+singleFormat(et)}const getTimeDifferenceString=a=>{const s=Math.floor(a/1e3),et=Math.floor(new Date().getTime()/1e3),tt=60,at=60*tt,ct=24*at,ut=30*ct,bt=365*ct,wt=et-s;if(wt<tt)return"recently";if(wt<at){const Et=Math.floor(wt/tt);return Et==1?`${Et} minute ago`:`${Et} minutes ago`}else if(wt<ct){const Et=Math.floor(wt/at);return Et==1?`${Et} hour ago`:`${Et} hours ago`}else if(wt<ut){const Et=Math.floor(wt/ct);return Et==1?`${Et} day ago`:`${Et} days ago`}else if(wt<bt){const Et=Math.floor(wt/ut);return Et==1?`${Et} mouth ago`:`${Et} mouths ago`}else{const Et=Math.floor(wt/bt);return Et==1?`${Et} year ago`:`${Et} years ago`}};function amountToBN(a,s){if(s===void 0)return new BN(0);if(a===""||d$2(a).equals(0))return new BN(0);const et=d$2(a).mul(Math.pow(10,s)).toString();if(d$2(et).gte(1))return new BN(et);throw Error("amountToBN value lt 1")}function bnToAmount(a,s){return s===void 0?"":d$2(a==null?void 0:a.toString()).div(Math.pow(10,s)).toString()}function parseOwnerBalanceChanges(a,s,et=!1){var bt;const tt=a.balanceChanges,at=(bt=a.effects)==null?void 0:bt.gasUsed,ct={};let ut="0";return at&&(ut=d$2(at.computationCost).add(at.storageCost).sub(at.storageRebate).mul(-1).toFixed(0)),tt&&tt.forEach(wt=>{const Et=extractStructTagFromType$1(wt.coinType).full_address;if(wt.owner.AddressOwner===s){const Ft=CoinAssist.isSuiCoin(Et);let jt=wt.amount;Ft&&(jt=et?jt:d$2(jt).sub(ut).toFixed(0));const Lt={coinType:Et,amount:jt};ct[Et]=Lt}}),ct}function getBalanceChanges(a,s){if(s){const et=a[extractStructTagFromType$1(s.coin_type).full_address];if(console.log("🚀🚀🚀 ~ common.ts:289 ~ getBalanceChanges ~ extractStructTagFromType(coinInfo.coin_type).full_address:",extractStructTagFromType$1(s.coin_type).full_address),console.log("🚀🚀🚀 ~ common.ts:291 ~ getBalanceChanges ~ obj:",et),et)return fromDecimalsAmountFix(d$2(et.amount).abs().toFixed(0),s.decimals)}}function coinMetadataToCoinInfo(a,s){return{id:a.id||void 0,logo_url:a.iconUrl||void 0,coin_type:s,decimals:a.decimals,description:a.description,name:a.name,symbol:a.symbol}}function parsePositionIdFromEvent(a){var ct,ut;let s,et;const tt=(ct=a.events)==null?void 0:ct.find(bt=>bt.type.includes("pool::OpenPositionEvent"));tt&&(s=tt.parsedJson.position);const at=(ut=a.events)==null?void 0:ut.find(bt=>bt.type.includes("pool::DepositEvent"));return at&&(et=at.parsedJson.wrapped_position_id),{posId:s,farmsPosId:et}}const isHexColor=a=>/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/i.test(a),isRgbColor=a=>/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/.test(a),isRgbaColor=a=>/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(a),isColorValue=a=>isHexColor(a)||isRgbColor(a)||isRgbaColor(a),isAvailableObject=a=>a===null||typeof a!="object"||Array.isArray(a)?!1:Object.keys(a).length>0,removeComma=a=>(a+"").replace(/,/g,""),formatTimestamp=a=>{const s=new Date(a),et=s.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),tt=s.getUTCDate(),at=s.getUTCFullYear();let ct=s.getUTCHours();const ut=String(s.getUTCMinutes()).padStart(2,"0"),bt=ct>=12?"PM":"AM";return ct=ct%12||12,`${et} ${tt}, ${at} ${ct}:${ut} ${bt}`};function base64ToUint8Array(a){const s=Buffer$1.from(a,"base64").toString("binary"),et=new Uint8Array(s.length);for(let tt=0;tt<s.length;tt++)et[tt]=s.charCodeAt(tt);return et}const TOKEN_MAP_KEY="tokenMap",COLLECT_TOKEN_LIST="collectTokenList",USER_COLLECT_TOKEN_LIST="userCollectTokenList",IMPORT_TOKEN_LIST="importTokenList",LIQUIDITY_TRUST_TOKEN_LIST="liquidityTrustTokenList",IS_WATCH_LIST="isWatchList",IS_ALL_POOLS="isAllPools",IS_INCENTIVIZED_ONLY="isIncentivizedOnly",POOL_FAVORITE_LIST="poolFavoriteList",NOTIFI_SIGNATURE="notifiSignature";function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(a,s){(function(et){a.exports=et()})(function(){return function et(tt,at,ct){function ut(Et,Ft){if(!at[Et]){if(!tt[Et]){var jt=typeof commonjsRequire=="function"&&commonjsRequire;if(!Ft&&jt)return jt(Et,!0);if(bt)return bt(Et,!0);var Lt=new Error("Cannot find module '"+Et+"'");throw Lt.code="MODULE_NOT_FOUND",Lt}var Ut=at[Et]={exports:{}};tt[Et][0].call(Ut.exports,function(Vt){var Yt=tt[Et][1][Vt];return ut(Yt||Vt)},Ut,Ut.exports,et,tt,at,ct)}return at[Et].exports}for(var bt=typeof commonjsRequire=="function"&&commonjsRequire,wt=0;wt<ct.length;wt++)ut(ct[wt]);return ut}({1:[function(et,tt,at){(function(ct){var ut=ct.MutationObserver||ct.WebKitMutationObserver,bt;if(ut){var wt=0,Et=new ut(Vt),Ft=ct.document.createTextNode("");Et.observe(Ft,{characterData:!0}),bt=function(){Ft.data=wt=++wt%2}}else if(!ct.setImmediate&&typeof ct.MessageChannel<"u"){var jt=new ct.MessageChannel;jt.port1.onmessage=Vt,bt=function(){jt.port2.postMessage(0)}}else"document"in ct&&"onreadystatechange"in ct.document.createElement("script")?bt=function(){var er=ct.document.createElement("script");er.onreadystatechange=function(){Vt(),er.onreadystatechange=null,er.parentNode.removeChild(er),er=null},ct.document.documentElement.appendChild(er)}:bt=function(){setTimeout(Vt,0)};var Lt,Ut=[];function Vt(){Lt=!0;for(var er,tr,nr=Ut.length;nr;){for(tr=Ut,Ut=[],er=-1;++er<nr;)tr[er]();nr=Ut.length}Lt=!1}tt.exports=Yt;function Yt(er){Ut.push(er)===1&&!Lt&&bt()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(et,tt,at){var ct=et(1);function ut(){}var bt={},wt=["REJECTED"],Et=["FULFILLED"],Ft=["PENDING"];tt.exports=jt;function jt(pr){if(typeof pr!="function")throw new TypeError("resolver must be a function");this.state=Ft,this.queue=[],this.outcome=void 0,pr!==ut&&Yt(this,pr)}jt.prototype.catch=function(pr){return this.then(null,pr)},jt.prototype.then=function(pr,yr){if(typeof pr!="function"&&this.state===Et||typeof yr!="function"&&this.state===wt)return this;var br=new this.constructor(ut);if(this.state!==Ft){var xr=this.state===Et?pr:yr;Ut(br,xr,this.outcome)}else this.queue.push(new Lt(br,pr,yr));return br};function Lt(pr,yr,br){this.promise=pr,typeof yr=="function"&&(this.onFulfilled=yr,this.callFulfilled=this.otherCallFulfilled),typeof br=="function"&&(this.onRejected=br,this.callRejected=this.otherCallRejected)}Lt.prototype.callFulfilled=function(pr){bt.resolve(this.promise,pr)},Lt.prototype.otherCallFulfilled=function(pr){Ut(this.promise,this.onFulfilled,pr)},Lt.prototype.callRejected=function(pr){bt.reject(this.promise,pr)},Lt.prototype.otherCallRejected=function(pr){Ut(this.promise,this.onRejected,pr)};function Ut(pr,yr,br){ct(function(){var xr;try{xr=yr(br)}catch(Er){return bt.reject(pr,Er)}xr===pr?bt.reject(pr,new TypeError("Cannot resolve promise with itself")):bt.resolve(pr,xr)})}bt.resolve=function(pr,yr){var br=er(Vt,yr);if(br.status==="error")return bt.reject(pr,br.value);var xr=br.value;if(xr)Yt(pr,xr);else{pr.state=Et,pr.outcome=yr;for(var Er=-1,$r=pr.queue.length;++Er<$r;)pr.queue[Er].callFulfilled(yr)}return pr},bt.reject=function(pr,yr){pr.state=wt,pr.outcome=yr;for(var br=-1,xr=pr.queue.length;++br<xr;)pr.queue[br].callRejected(yr);return pr};function Vt(pr){var yr=pr&&pr.then;if(pr&&(typeof pr=="object"||typeof pr=="function")&&typeof yr=="function")return function(){yr.apply(pr,arguments)}}function Yt(pr,yr){var br=!1;function xr(fr){br||(br=!0,bt.reject(pr,fr))}function Er(fr){br||(br=!0,bt.resolve(pr,fr))}function $r(){yr(Er,xr)}var Sr=er($r);Sr.status==="error"&&xr(Sr.value)}function er(pr,yr){var br={};try{br.value=pr(yr),br.status="success"}catch(xr){br.status="error",br.value=xr}return br}jt.resolve=tr;function tr(pr){return pr instanceof this?pr:bt.resolve(new this(ut),pr)}jt.reject=nr;function nr(pr){var yr=new this(ut);return bt.reject(yr,pr)}jt.all=ir;function ir(pr){var yr=this;if(Object.prototype.toString.call(pr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var br=pr.length,xr=!1;if(!br)return this.resolve([]);for(var Er=new Array(br),$r=0,Sr=-1,fr=new this(ut);++Sr<br;)vr(pr[Sr],Sr);return fr;function vr(or,rr){yr.resolve(or).then(ar,function(sr){xr||(xr=!0,bt.reject(fr,sr))});function ar(sr){Er[rr]=sr,++$r===br&&!xr&&(xr=!0,bt.resolve(fr,Er))}}}jt.race=lr;function lr(pr){var yr=this;if(Object.prototype.toString.call(pr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var br=pr.length,xr=!1;if(!br)return this.resolve([]);for(var Er=-1,$r=new this(ut);++Er<br;)Sr(pr[Er]);return $r;function Sr(fr){yr.resolve(fr).then(function(vr){xr||(xr=!0,bt.resolve($r,vr))},function(vr){xr||(xr=!0,bt.reject($r,vr))})}}},{1:1}],3:[function(et,tt,at){(function(ct){typeof ct.Promise!="function"&&(ct.Promise=et(2))}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(et,tt,at){var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zr){return typeof zr}:function(zr){return zr&&typeof Symbol=="function"&&zr.constructor===Symbol&&zr!==Symbol.prototype?"symbol":typeof zr};function ut(zr,rn){if(!(zr instanceof rn))throw new TypeError("Cannot call a class as a function")}function bt(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var wt=bt();function Et(){try{if(!wt||!wt.open)return!1;var zr=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),rn=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!zr||rn)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function Ft(zr,rn){zr=zr||[],rn=rn||{};try{return new Blob(zr,rn)}catch(pn){if(pn.name!=="TypeError")throw pn;for(var Yr=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,$n=new Yr,Nn=0;Nn<zr.length;Nn+=1)$n.append(zr[Nn]);return $n.getBlob(rn.type)}}typeof Promise>"u"&&et(3);var jt=Promise;function Lt(zr,rn){rn&&zr.then(function(Yr){rn(null,Yr)},function(Yr){rn(Yr)})}function Ut(zr,rn,Yr){typeof rn=="function"&&zr.then(rn),typeof Yr=="function"&&zr.catch(Yr)}function Vt(zr){return typeof zr!="string"&&(console.warn(zr+" used as a key, but it is not a string."),zr=String(zr)),zr}function Yt(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var er="local-forage-detect-blob-support",tr=void 0,nr={},ir=Object.prototype.toString,lr="readonly",pr="readwrite";function yr(zr){for(var rn=zr.length,Yr=new ArrayBuffer(rn),$n=new Uint8Array(Yr),Nn=0;Nn<rn;Nn++)$n[Nn]=zr.charCodeAt(Nn);return Yr}function br(zr){return new jt(function(rn){var Yr=zr.transaction(er,pr),$n=Ft([""]);Yr.objectStore(er).put($n,"key"),Yr.onabort=function(Nn){Nn.preventDefault(),Nn.stopPropagation(),rn(!1)},Yr.oncomplete=function(){var Nn=navigator.userAgent.match(/Chrome\/(\d+)/),pn=navigator.userAgent.match(/Edge\//);rn(pn||!Nn||parseInt(Nn[1],10)>=43)}}).catch(function(){return!1})}function xr(zr){return typeof tr=="boolean"?jt.resolve(tr):br(zr).then(function(rn){return tr=rn,tr})}function Er(zr){var rn=nr[zr.name],Yr={};Yr.promise=new jt(function($n,Nn){Yr.resolve=$n,Yr.reject=Nn}),rn.deferredOperations.push(Yr),rn.dbReady?rn.dbReady=rn.dbReady.then(function(){return Yr.promise}):rn.dbReady=Yr.promise}function $r(zr){var rn=nr[zr.name],Yr=rn.deferredOperations.pop();if(Yr)return Yr.resolve(),Yr.promise}function Sr(zr,rn){var Yr=nr[zr.name],$n=Yr.deferredOperations.pop();if($n)return $n.reject(rn),$n.promise}function fr(zr,rn){return new jt(function(Yr,$n){if(nr[zr.name]=nr[zr.name]||hr(),zr.db)if(rn)Er(zr),zr.db.close();else return Yr(zr.db);var Nn=[zr.name];rn&&Nn.push(zr.version);var pn=wt.open.apply(wt,Nn);rn&&(pn.onupgradeneeded=function(Zn){var ro=pn.result;try{ro.createObjectStore(zr.storeName),Zn.oldVersion<=1&&ro.createObjectStore(er)}catch(io){if(io.name==="ConstraintError")console.warn('The database "'+zr.name+'" has been upgraded from version '+Zn.oldVersion+" to version "+Zn.newVersion+', but the storage "'+zr.storeName+'" already exists.');else throw io}}),pn.onerror=function(Zn){Zn.preventDefault(),$n(pn.error)},pn.onsuccess=function(){var Zn=pn.result;Zn.onversionchange=function(ro){ro.target.close()},Yr(Zn),$r(zr)}})}function vr(zr){return fr(zr,!1)}function or(zr){return fr(zr,!0)}function rr(zr,rn){if(!zr.db)return!0;var Yr=!zr.db.objectStoreNames.contains(zr.storeName),$n=zr.version<zr.db.version,Nn=zr.version>zr.db.version;if($n&&(zr.version!==rn&&console.warn('The database "'+zr.name+`" can't be downgraded from version `+zr.db.version+" to version "+zr.version+"."),zr.version=zr.db.version),Nn||Yr){if(Yr){var pn=zr.db.version+1;pn>zr.version&&(zr.version=pn)}return!0}return!1}function ar(zr){return new jt(function(rn,Yr){var $n=new FileReader;$n.onerror=Yr,$n.onloadend=function(Nn){var pn=btoa(Nn.target.result||"");rn({__local_forage_encoded_blob:!0,data:pn,type:zr.type})},$n.readAsBinaryString(zr)})}function sr(zr){var rn=yr(atob(zr.data));return Ft([rn],{type:zr.type})}function dr(zr){return zr&&zr.__local_forage_encoded_blob}function gr(zr){var rn=this,Yr=rn._initReady().then(function(){var $n=nr[rn._dbInfo.name];if($n&&$n.dbReady)return $n.dbReady});return Ut(Yr,zr,zr),Yr}function ur(zr){Er(zr);for(var rn=nr[zr.name],Yr=rn.forages,$n=0;$n<Yr.length;$n++){var Nn=Yr[$n];Nn._dbInfo.db&&(Nn._dbInfo.db.close(),Nn._dbInfo.db=null)}return zr.db=null,vr(zr).then(function(pn){return zr.db=pn,rr(zr)?or(zr):pn}).then(function(pn){zr.db=rn.db=pn;for(var Zn=0;Zn<Yr.length;Zn++)Yr[Zn]._dbInfo.db=pn}).catch(function(pn){throw Sr(zr,pn),pn})}function _r(zr,rn,Yr,$n){$n===void 0&&($n=1);try{var Nn=zr.db.transaction(zr.storeName,rn);Yr(null,Nn)}catch(pn){if($n>0&&(!zr.db||pn.name==="InvalidStateError"||pn.name==="NotFoundError"))return jt.resolve().then(function(){if(!zr.db||pn.name==="NotFoundError"&&!zr.db.objectStoreNames.contains(zr.storeName)&&zr.version<=zr.db.version)return zr.db&&(zr.version=zr.db.version+1),or(zr)}).then(function(){return ur(zr).then(function(){_r(zr,rn,Yr,$n-1)})}).catch(Yr);Yr(pn)}}function hr(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function cr(zr){var rn=this,Yr={db:null};if(zr)for(var $n in zr)Yr[$n]=zr[$n];var Nn=nr[Yr.name];Nn||(Nn=hr(),nr[Yr.name]=Nn),Nn.forages.push(rn),rn._initReady||(rn._initReady=rn.ready,rn.ready=gr);var pn=[];function Zn(){return jt.resolve()}for(var ro=0;ro<Nn.forages.length;ro++){var io=Nn.forages[ro];io!==rn&&pn.push(io._initReady().catch(Zn))}var so=Nn.forages.slice(0);return jt.all(pn).then(function(){return Yr.db=Nn.db,vr(Yr)}).then(function(uo){return Yr.db=uo,rr(Yr,rn._defaultConfig.version)?or(Yr):uo}).then(function(uo){Yr.db=Nn.db=uo,rn._dbInfo=Yr;for(var wo=0;wo<so.length;wo++){var Po=so[wo];Po!==rn&&(Po._dbInfo.db=Yr.db,Po._dbInfo.version=Yr.version)}})}function wr(zr,rn){var Yr=this;zr=Vt(zr);var $n=new jt(function(Nn,pn){Yr.ready().then(function(){_r(Yr._dbInfo,lr,function(Zn,ro){if(Zn)return pn(Zn);try{var io=ro.objectStore(Yr._dbInfo.storeName),so=io.get(zr);so.onsuccess=function(){var uo=so.result;uo===void 0&&(uo=null),dr(uo)&&(uo=sr(uo)),Nn(uo)},so.onerror=function(){pn(so.error)}}catch(uo){pn(uo)}})}).catch(pn)});return Lt($n,rn),$n}function Br(zr,rn){var Yr=this,$n=new jt(function(Nn,pn){Yr.ready().then(function(){_r(Yr._dbInfo,lr,function(Zn,ro){if(Zn)return pn(Zn);try{var io=ro.objectStore(Yr._dbInfo.storeName),so=io.openCursor(),uo=1;so.onsuccess=function(){var wo=so.result;if(wo){var Po=wo.value;dr(Po)&&(Po=sr(Po));var Uo=zr(Po,wo.key,uo++);Uo!==void 0?Nn(Uo):wo.continue()}else Nn()},so.onerror=function(){pn(so.error)}}catch(wo){pn(wo)}})}).catch(pn)});return Lt($n,rn),$n}function Or(zr,rn,Yr){var $n=this;zr=Vt(zr);var Nn=new jt(function(pn,Zn){var ro;$n.ready().then(function(){return ro=$n._dbInfo,ir.call(rn)==="[object Blob]"?xr(ro.db).then(function(io){return io?rn:ar(rn)}):rn}).then(function(io){_r($n._dbInfo,pr,function(so,uo){if(so)return Zn(so);try{var wo=uo.objectStore($n._dbInfo.storeName);io===null&&(io=void 0);var Po=wo.put(io,zr);uo.oncomplete=function(){io===void 0&&(io=null),pn(io)},uo.onabort=uo.onerror=function(){var Uo=Po.error?Po.error:Po.transaction.error;Zn(Uo)}}catch(Uo){Zn(Uo)}})}).catch(Zn)});return Lt(Nn,Yr),Nn}function Rr(zr,rn){var Yr=this;zr=Vt(zr);var $n=new jt(function(Nn,pn){Yr.ready().then(function(){_r(Yr._dbInfo,pr,function(Zn,ro){if(Zn)return pn(Zn);try{var io=ro.objectStore(Yr._dbInfo.storeName),so=io.delete(zr);ro.oncomplete=function(){Nn()},ro.onerror=function(){pn(so.error)},ro.onabort=function(){var uo=so.error?so.error:so.transaction.error;pn(uo)}}catch(uo){pn(uo)}})}).catch(pn)});return Lt($n,rn),$n}function Pr(zr){var rn=this,Yr=new jt(function($n,Nn){rn.ready().then(function(){_r(rn._dbInfo,pr,function(pn,Zn){if(pn)return Nn(pn);try{var ro=Zn.objectStore(rn._dbInfo.storeName),io=ro.clear();Zn.oncomplete=function(){$n()},Zn.onabort=Zn.onerror=function(){var so=io.error?io.error:io.transaction.error;Nn(so)}}catch(so){Nn(so)}})}).catch(Nn)});return Lt(Yr,zr),Yr}function Ur(zr){var rn=this,Yr=new jt(function($n,Nn){rn.ready().then(function(){_r(rn._dbInfo,lr,function(pn,Zn){if(pn)return Nn(pn);try{var ro=Zn.objectStore(rn._dbInfo.storeName),io=ro.count();io.onsuccess=function(){$n(io.result)},io.onerror=function(){Nn(io.error)}}catch(so){Nn(so)}})}).catch(Nn)});return Lt(Yr,zr),Yr}function kr(zr,rn){var Yr=this,$n=new jt(function(Nn,pn){if(zr<0){Nn(null);return}Yr.ready().then(function(){_r(Yr._dbInfo,lr,function(Zn,ro){if(Zn)return pn(Zn);try{var io=ro.objectStore(Yr._dbInfo.storeName),so=!1,uo=io.openKeyCursor();uo.onsuccess=function(){var wo=uo.result;if(!wo){Nn(null);return}zr===0||so?Nn(wo.key):(so=!0,wo.advance(zr))},uo.onerror=function(){pn(uo.error)}}catch(wo){pn(wo)}})}).catch(pn)});return Lt($n,rn),$n}function Ar(zr){var rn=this,Yr=new jt(function($n,Nn){rn.ready().then(function(){_r(rn._dbInfo,lr,function(pn,Zn){if(pn)return Nn(pn);try{var ro=Zn.objectStore(rn._dbInfo.storeName),io=ro.openKeyCursor(),so=[];io.onsuccess=function(){var uo=io.result;if(!uo){$n(so);return}so.push(uo.key),uo.continue()},io.onerror=function(){Nn(io.error)}}catch(uo){Nn(uo)}})}).catch(Nn)});return Lt(Yr,zr),Yr}function Cr(zr,rn){rn=Yt.apply(this,arguments);var Yr=this.config();zr=typeof zr!="function"&&zr||{},zr.name||(zr.name=zr.name||Yr.name,zr.storeName=zr.storeName||Yr.storeName);var $n=this,Nn;if(!zr.name)Nn=jt.reject("Invalid arguments");else{var pn=zr.name===Yr.name&&$n._dbInfo.db,Zn=pn?jt.resolve($n._dbInfo.db):vr(zr).then(function(ro){var io=nr[zr.name],so=io.forages;io.db=ro;for(var uo=0;uo<so.length;uo++)so[uo]._dbInfo.db=ro;return ro});zr.storeName?Nn=Zn.then(function(ro){if(ro.objectStoreNames.contains(zr.storeName)){var io=ro.version+1;Er(zr);var so=nr[zr.name],uo=so.forages;ro.close();for(var wo=0;wo<uo.length;wo++){var Po=uo[wo];Po._dbInfo.db=null,Po._dbInfo.version=io}var Uo=new jt(function(Vo,ba){var xa=wt.open(zr.name,io);xa.onerror=function(ms){var Cl=xa.result;Cl.close(),ba(ms)},xa.onupgradeneeded=function(){var ms=xa.result;ms.deleteObjectStore(zr.storeName)},xa.onsuccess=function(){var ms=xa.result;ms.close(),Vo(ms)}});return Uo.then(function(Vo){so.db=Vo;for(var ba=0;ba<uo.length;ba++){var xa=uo[ba];xa._dbInfo.db=Vo,$r(xa._dbInfo)}}).catch(function(Vo){throw(Sr(zr,Vo)||jt.resolve()).catch(function(){}),Vo})}}):Nn=Zn.then(function(ro){Er(zr);var io=nr[zr.name],so=io.forages;ro.close();for(var uo=0;uo<so.length;uo++){var wo=so[uo];wo._dbInfo.db=null}var Po=new jt(function(Uo,Vo){var ba=wt.deleteDatabase(zr.name);ba.onerror=function(){var xa=ba.result;xa&&xa.close(),Vo(ba.error)},ba.onblocked=function(){console.warn('dropInstance blocked for database "'+zr.name+'" until all open connections are closed')},ba.onsuccess=function(){var xa=ba.result;xa&&xa.close(),Uo(xa)}});return Po.then(function(Uo){io.db=Uo;for(var Vo=0;Vo<so.length;Vo++){var ba=so[Vo];$r(ba._dbInfo)}}).catch(function(Uo){throw(Sr(zr,Uo)||jt.resolve()).catch(function(){}),Uo})})}return Lt(Nn,rn),Nn}var Fr={_driver:"asyncStorage",_initStorage:cr,_support:Et(),iterate:Br,getItem:wr,setItem:Or,removeItem:Rr,clear:Pr,length:Ur,key:kr,keys:Ar,dropInstance:Cr};function Lr(){return typeof openDatabase=="function"}var Hr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gr="~~local_forage_type~",Nr=/^~~local_forage_type~([^~]+)~/,Vr="__lfsc__:",jr=Vr.length,Wr="arbf",Kr="blob",an="si08",Un="ui08",Vn="uic8",Kn="si16",oo="si32",Hn="ur16",Qn="ui32",yo="fl32",Dr="fl64",Tr=jr+Wr.length,Ir=Object.prototype.toString;function qr(zr){var rn=zr.length*.75,Yr=zr.length,$n,Nn=0,pn,Zn,ro,io;zr[zr.length-1]==="="&&(rn--,zr[zr.length-2]==="="&&rn--);var so=new ArrayBuffer(rn),uo=new Uint8Array(so);for($n=0;$n<Yr;$n+=4)pn=Hr.indexOf(zr[$n]),Zn=Hr.indexOf(zr[$n+1]),ro=Hr.indexOf(zr[$n+2]),io=Hr.indexOf(zr[$n+3]),uo[Nn++]=pn<<2|Zn>>4,uo[Nn++]=(Zn&15)<<4|ro>>2,uo[Nn++]=(ro&3)<<6|io&63;return so}function Qr(zr){var rn=new Uint8Array(zr),Yr="",$n;for($n=0;$n<rn.length;$n+=3)Yr+=Hr[rn[$n]>>2],Yr+=Hr[(rn[$n]&3)<<4|rn[$n+1]>>4],Yr+=Hr[(rn[$n+1]&15)<<2|rn[$n+2]>>6],Yr+=Hr[rn[$n+2]&63];return rn.length%3===2?Yr=Yr.substring(0,Yr.length-1)+"=":rn.length%3===1&&(Yr=Yr.substring(0,Yr.length-2)+"=="),Yr}function sn(zr,rn){var Yr="";if(zr&&(Yr=Ir.call(zr)),zr&&(Yr==="[object ArrayBuffer]"||zr.buffer&&Ir.call(zr.buffer)==="[object ArrayBuffer]")){var $n,Nn=Vr;zr instanceof ArrayBuffer?($n=zr,Nn+=Wr):($n=zr.buffer,Yr==="[object Int8Array]"?Nn+=an:Yr==="[object Uint8Array]"?Nn+=Un:Yr==="[object Uint8ClampedArray]"?Nn+=Vn:Yr==="[object Int16Array]"?Nn+=Kn:Yr==="[object Uint16Array]"?Nn+=Hn:Yr==="[object Int32Array]"?Nn+=oo:Yr==="[object Uint32Array]"?Nn+=Qn:Yr==="[object Float32Array]"?Nn+=yo:Yr==="[object Float64Array]"?Nn+=Dr:rn(new Error("Failed to get type for BinaryArray"))),rn(Nn+Qr($n))}else if(Yr==="[object Blob]"){var pn=new FileReader;pn.onload=function(){var Zn=Gr+zr.type+"~"+Qr(this.result);rn(Vr+Kr+Zn)},pn.readAsArrayBuffer(zr)}else try{rn(JSON.stringify(zr))}catch(Zn){console.error("Couldn't convert value into a JSON string: ",zr),rn(null,Zn)}}function nn(zr){if(zr.substring(0,jr)!==Vr)return JSON.parse(zr);var rn=zr.substring(Tr),Yr=zr.substring(jr,Tr),$n;if(Yr===Kr&&Nr.test(rn)){var Nn=rn.match(Nr);$n=Nn[1],rn=rn.substring(Nn[0].length)}var pn=qr(rn);switch(Yr){case Wr:return pn;case Kr:return Ft([pn],{type:$n});case an:return new Int8Array(pn);case Un:return new Uint8Array(pn);case Vn:return new Uint8ClampedArray(pn);case Kn:return new Int16Array(pn);case Hn:return new Uint16Array(pn);case oo:return new Int32Array(pn);case Qn:return new Uint32Array(pn);case yo:return new Float32Array(pn);case Dr:return new Float64Array(pn);default:throw new Error("Unkown type: "+Yr)}}var Xn={serialize:sn,deserialize:nn,stringToBuffer:qr,bufferToString:Qr};function xo(zr,rn,Yr,$n){zr.executeSql("CREATE TABLE IF NOT EXISTS "+rn.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Yr,$n)}function no(zr){var rn=this,Yr={db:null};if(zr)for(var $n in zr)Yr[$n]=typeof zr[$n]!="string"?zr[$n].toString():zr[$n];var Nn=new jt(function(pn,Zn){try{Yr.db=openDatabase(Yr.name,String(Yr.version),Yr.description,Yr.size)}catch(ro){return Zn(ro)}Yr.db.transaction(function(ro){xo(ro,Yr,function(){rn._dbInfo=Yr,pn()},function(io,so){Zn(so)})},Zn)});return Yr.serializer=Xn,Nn}function lo(zr,rn,Yr,$n,Nn,pn){zr.executeSql(Yr,$n,Nn,function(Zn,ro){ro.code===ro.SYNTAX_ERR?Zn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[rn.storeName],function(io,so){so.rows.length?pn(io,ro):xo(io,rn,function(){io.executeSql(Yr,$n,Nn,pn)},pn)},pn):pn(Zn,ro)},pn)}function bo(zr,rn){var Yr=this;zr=Vt(zr);var $n=new jt(function(Nn,pn){Yr.ready().then(function(){var Zn=Yr._dbInfo;Zn.db.transaction(function(ro){lo(ro,Zn,"SELECT * FROM "+Zn.storeName+" WHERE key = ? LIMIT 1",[zr],function(io,so){var uo=so.rows.length?so.rows.item(0).value:null;uo&&(uo=Zn.serializer.deserialize(uo)),Nn(uo)},function(io,so){pn(so)})})}).catch(pn)});return Lt($n,rn),$n}function mo(zr,rn){var Yr=this,$n=new jt(function(Nn,pn){Yr.ready().then(function(){var Zn=Yr._dbInfo;Zn.db.transaction(function(ro){lo(ro,Zn,"SELECT * FROM "+Zn.storeName,[],function(io,so){for(var uo=so.rows,wo=uo.length,Po=0;Po<wo;Po++){var Uo=uo.item(Po),Vo=Uo.value;if(Vo&&(Vo=Zn.serializer.deserialize(Vo)),Vo=zr(Vo,Uo.key,Po+1),Vo!==void 0){Nn(Vo);return}}Nn()},function(io,so){pn(so)})})}).catch(pn)});return Lt($n,rn),$n}function Eo(zr,rn,Yr,$n){var Nn=this;zr=Vt(zr);var pn=new jt(function(Zn,ro){Nn.ready().then(function(){rn===void 0&&(rn=null);var io=rn,so=Nn._dbInfo;so.serializer.serialize(rn,function(uo,wo){wo?ro(wo):so.db.transaction(function(Po){lo(Po,so,"INSERT OR REPLACE INTO "+so.storeName+" (key, value) VALUES (?, ?)",[zr,uo],function(){Zn(io)},function(Uo,Vo){ro(Vo)})},function(Po){if(Po.code===Po.QUOTA_ERR){if($n>0){Zn(Eo.apply(Nn,[zr,io,Yr,$n-1]));return}ro(Po)}})})}).catch(ro)});return Lt(pn,Yr),pn}function Bo(zr,rn,Yr){return Eo.apply(this,[zr,rn,Yr,1])}function vo(zr,rn){var Yr=this;zr=Vt(zr);var $n=new jt(function(Nn,pn){Yr.ready().then(function(){var Zn=Yr._dbInfo;Zn.db.transaction(function(ro){lo(ro,Zn,"DELETE FROM "+Zn.storeName+" WHERE key = ?",[zr],function(){Nn()},function(io,so){pn(so)})})}).catch(pn)});return Lt($n,rn),$n}function Co(zr){var rn=this,Yr=new jt(function($n,Nn){rn.ready().then(function(){var pn=rn._dbInfo;pn.db.transaction(function(Zn){lo(Zn,pn,"DELETE FROM "+pn.storeName,[],function(){$n()},function(ro,io){Nn(io)})})}).catch(Nn)});return Lt(Yr,zr),Yr}function Mo(zr){var rn=this,Yr=new jt(function($n,Nn){rn.ready().then(function(){var pn=rn._dbInfo;pn.db.transaction(function(Zn){lo(Zn,pn,"SELECT COUNT(key) as c FROM "+pn.storeName,[],function(ro,io){var so=io.rows.item(0).c;$n(so)},function(ro,io){Nn(io)})})}).catch(Nn)});return Lt(Yr,zr),Yr}function go(zr,rn){var Yr=this,$n=new jt(function(Nn,pn){Yr.ready().then(function(){var Zn=Yr._dbInfo;Zn.db.transaction(function(ro){lo(ro,Zn,"SELECT key FROM "+Zn.storeName+" WHERE id = ? LIMIT 1",[zr+1],function(io,so){var uo=so.rows.length?so.rows.item(0).key:null;Nn(uo)},function(io,so){pn(so)})})}).catch(pn)});return Lt($n,rn),$n}function $o(zr){var rn=this,Yr=new jt(function($n,Nn){rn.ready().then(function(){var pn=rn._dbInfo;pn.db.transaction(function(Zn){lo(Zn,pn,"SELECT key FROM "+pn.storeName,[],function(ro,io){for(var so=[],uo=0;uo<io.rows.length;uo++)so.push(io.rows.item(uo).key);$n(so)},function(ro,io){Nn(io)})})}).catch(Nn)});return Lt(Yr,zr),Yr}function jo(zr){return new jt(function(rn,Yr){zr.transaction(function($n){$n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Nn,pn){for(var Zn=[],ro=0;ro<pn.rows.length;ro++)Zn.push(pn.rows.item(ro).name);rn({db:zr,storeNames:Zn})},function(Nn,pn){Yr(pn)})},function($n){Yr($n)})})}function Xr(zr,rn){rn=Yt.apply(this,arguments);var Yr=this.config();zr=typeof zr!="function"&&zr||{},zr.name||(zr.name=zr.name||Yr.name,zr.storeName=zr.storeName||Yr.storeName);var $n=this,Nn;return zr.name?Nn=new jt(function(pn){var Zn;zr.name===Yr.name?Zn=$n._dbInfo.db:Zn=openDatabase(zr.name,"","",0),zr.storeName?pn({db:Zn,storeNames:[zr.storeName]}):pn(jo(Zn))}).then(function(pn){return new jt(function(Zn,ro){pn.db.transaction(function(io){function so(Uo){return new jt(function(Vo,ba){io.executeSql("DROP TABLE IF EXISTS "+Uo,[],function(){Vo()},function(xa,ms){ba(ms)})})}for(var uo=[],wo=0,Po=pn.storeNames.length;wo<Po;wo++)uo.push(so(pn.storeNames[wo]));jt.all(uo).then(function(){Zn()}).catch(function(Uo){ro(Uo)})},function(io){ro(io)})})}):Nn=jt.reject("Invalid arguments"),Lt(Nn,rn),Nn}var Jr={_driver:"webSQLStorage",_initStorage:no,_support:Lr(),iterate:mo,getItem:bo,setItem:Bo,removeItem:vo,clear:Co,length:Mo,key:go,keys:$o,dropInstance:Xr};function Dn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ln(zr,rn){var Yr=zr.name+"/";return zr.storeName!==rn.storeName&&(Yr+=zr.storeName+"/"),Yr}function Gn(){var zr="_localforage_support_test";try{return localStorage.setItem(zr,!0),localStorage.removeItem(zr),!1}catch{return!0}}function co(){return!Gn()||localStorage.length>0}function Jn(zr){var rn=this,Yr={};if(zr)for(var $n in zr)Yr[$n]=zr[$n];return Yr.keyPrefix=Ln(zr,rn._defaultConfig),co()?(rn._dbInfo=Yr,Yr.serializer=Xn,jt.resolve()):jt.reject()}function _i(zr){var rn=this,Yr=rn.ready().then(function(){for(var $n=rn._dbInfo.keyPrefix,Nn=localStorage.length-1;Nn>=0;Nn--){var pn=localStorage.key(Nn);pn.indexOf($n)===0&&localStorage.removeItem(pn)}});return Lt(Yr,zr),Yr}function ao(zr,rn){var Yr=this;zr=Vt(zr);var $n=Yr.ready().then(function(){var Nn=Yr._dbInfo,pn=localStorage.getItem(Nn.keyPrefix+zr);return pn&&(pn=Nn.serializer.deserialize(pn)),pn});return Lt($n,rn),$n}function Wn(zr,rn){var Yr=this,$n=Yr.ready().then(function(){for(var Nn=Yr._dbInfo,pn=Nn.keyPrefix,Zn=pn.length,ro=localStorage.length,io=1,so=0;so<ro;so++){var uo=localStorage.key(so);if(uo.indexOf(pn)===0){var wo=localStorage.getItem(uo);if(wo&&(wo=Nn.serializer.deserialize(wo)),wo=zr(wo,uo.substring(Zn),io++),wo!==void 0)return wo}}});return Lt($n,rn),$n}function eo(zr,rn){var Yr=this,$n=Yr.ready().then(function(){var Nn=Yr._dbInfo,pn;try{pn=localStorage.key(zr)}catch{pn=null}return pn&&(pn=pn.substring(Nn.keyPrefix.length)),pn});return Lt($n,rn),$n}function _o(zr){var rn=this,Yr=rn.ready().then(function(){for(var $n=rn._dbInfo,Nn=localStorage.length,pn=[],Zn=0;Zn<Nn;Zn++){var ro=localStorage.key(Zn);ro.indexOf($n.keyPrefix)===0&&pn.push(ro.substring($n.keyPrefix.length))}return pn});return Lt(Yr,zr),Yr}function ho(zr){var rn=this,Yr=rn.keys().then(function($n){return $n.length});return Lt(Yr,zr),Yr}function To(zr,rn){var Yr=this;zr=Vt(zr);var $n=Yr.ready().then(function(){var Nn=Yr._dbInfo;localStorage.removeItem(Nn.keyPrefix+zr)});return Lt($n,rn),$n}function Io(zr,rn,Yr){var $n=this;zr=Vt(zr);var Nn=$n.ready().then(function(){rn===void 0&&(rn=null);var pn=rn;return new jt(function(Zn,ro){var io=$n._dbInfo;io.serializer.serialize(rn,function(so,uo){if(uo)ro(uo);else try{localStorage.setItem(io.keyPrefix+zr,so),Zn(pn)}catch(wo){(wo.name==="QuotaExceededError"||wo.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ro(wo),ro(wo)}})})});return Lt(Nn,Yr),Nn}function Ro(zr,rn){if(rn=Yt.apply(this,arguments),zr=typeof zr!="function"&&zr||{},!zr.name){var Yr=this.config();zr.name=zr.name||Yr.name,zr.storeName=zr.storeName||Yr.storeName}var $n=this,Nn;return zr.name?Nn=new jt(function(pn){zr.storeName?pn(Ln(zr,$n._defaultConfig)):pn(zr.name+"/")}).then(function(pn){for(var Zn=localStorage.length-1;Zn>=0;Zn--){var ro=localStorage.key(Zn);ro.indexOf(pn)===0&&localStorage.removeItem(ro)}}):Nn=jt.reject("Invalid arguments"),Lt(Nn,rn),Nn}var Do={_driver:"localStorageWrapper",_initStorage:Jn,_support:Dn(),iterate:Wn,getItem:ao,setItem:Io,removeItem:To,clear:_i,length:ho,key:eo,keys:_o,dropInstance:Ro},Zo=function(rn,Yr){return rn===Yr||typeof rn=="number"&&typeof Yr=="number"&&isNaN(rn)&&isNaN(Yr)},ts=function(rn,Yr){for(var $n=rn.length,Nn=0;Nn<$n;){if(Zo(rn[Nn],Yr))return!0;Nn++}return!1},Go=Array.isArray||function(zr){return Object.prototype.toString.call(zr)==="[object Array]"},Lo={},ns={},Wo={INDEXEDDB:Fr,WEBSQL:Jr,LOCALSTORAGE:Do},Qo=[Wo.INDEXEDDB._driver,Wo.WEBSQL._driver,Wo.LOCALSTORAGE._driver],_a=["dropInstance"],$a=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(_a),Ao={description:"",driver:Qo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Oo(zr,rn){zr[rn]=function(){var Yr=arguments;return zr.ready().then(function(){return zr[rn].apply(zr,Yr)})}}function Jo(){for(var zr=1;zr<arguments.length;zr++){var rn=arguments[zr];if(rn)for(var Yr in rn)rn.hasOwnProperty(Yr)&&(Go(rn[Yr])?arguments[0][Yr]=rn[Yr].slice():arguments[0][Yr]=rn[Yr])}return arguments[0]}var rs=function(){function zr(rn){ut(this,zr);for(var Yr in Wo)if(Wo.hasOwnProperty(Yr)){var $n=Wo[Yr],Nn=$n._driver;this[Yr]=Nn,Lo[Nn]||this.defineDriver($n)}this._defaultConfig=Jo({},Ao),this._config=Jo({},this._defaultConfig,rn),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return zr.prototype.config=function(Yr){if((typeof Yr>"u"?"undefined":ct(Yr))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var $n in Yr){if($n==="storeName"&&(Yr[$n]=Yr[$n].replace(/\W/g,"_")),$n==="version"&&typeof Yr[$n]!="number")return new Error("Database version must be a number.");this._config[$n]=Yr[$n]}return"driver"in Yr&&Yr.driver?this.setDriver(this._config.driver):!0}else return typeof Yr=="string"?this._config[Yr]:this._config},zr.prototype.defineDriver=function(Yr,$n,Nn){var pn=new jt(function(Zn,ro){try{var io=Yr._driver,so=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Yr._driver){ro(so);return}for(var uo=$a.concat("_initStorage"),wo=0,Po=uo.length;wo<Po;wo++){var Uo=uo[wo],Vo=!ts(_a,Uo);if((Vo||Yr[Uo])&&typeof Yr[Uo]!="function"){ro(so);return}}var ba=function(){for(var Cl=function(Vl){return function(){var du=new Error("Method "+Vl+" is not implemented by the current driver"),zl=jt.reject(du);return Lt(zl,arguments[arguments.length-1]),zl}},Tl=0,Eu=_a.length;Tl<Eu;Tl++){var uu=_a[Tl];Yr[uu]||(Yr[uu]=Cl(uu))}};ba();var xa=function(Cl){Lo[io]&&console.info("Redefining LocalForage driver: "+io),Lo[io]=Yr,ns[io]=Cl,Zn()};"_support"in Yr?Yr._support&&typeof Yr._support=="function"?Yr._support().then(xa,ro):xa(!!Yr._support):xa(!0)}catch(ms){ro(ms)}});return Ut(pn,$n,Nn),pn},zr.prototype.driver=function(){return this._driver||null},zr.prototype.getDriver=function(Yr,$n,Nn){var pn=Lo[Yr]?jt.resolve(Lo[Yr]):jt.reject(new Error("Driver not found."));return Ut(pn,$n,Nn),pn},zr.prototype.getSerializer=function(Yr){var $n=jt.resolve(Xn);return Ut($n,Yr),$n},zr.prototype.ready=function(Yr){var $n=this,Nn=$n._driverSet.then(function(){return $n._ready===null&&($n._ready=$n._initDriver()),$n._ready});return Ut(Nn,Yr,Yr),Nn},zr.prototype.setDriver=function(Yr,$n,Nn){var pn=this;Go(Yr)||(Yr=[Yr]);var Zn=this._getSupportedDrivers(Yr);function ro(){pn._config.driver=pn.driver()}function io(wo){return pn._extend(wo),ro(),pn._ready=pn._initStorage(pn._config),pn._ready}function so(wo){return function(){var Po=0;function Uo(){for(;Po<wo.length;){var Vo=wo[Po];return Po++,pn._dbInfo=null,pn._ready=null,pn.getDriver(Vo).then(io).catch(Uo)}ro();var ba=new Error("No available storage method found.");return pn._driverSet=jt.reject(ba),pn._driverSet}return Uo()}}var uo=this._driverSet!==null?this._driverSet.catch(function(){return jt.resolve()}):jt.resolve();return this._driverSet=uo.then(function(){var wo=Zn[0];return pn._dbInfo=null,pn._ready=null,pn.getDriver(wo).then(function(Po){pn._driver=Po._driver,ro(),pn._wrapLibraryMethodsWithReady(),pn._initDriver=so(Zn)})}).catch(function(){ro();var wo=new Error("No available storage method found.");return pn._driverSet=jt.reject(wo),pn._driverSet}),Ut(this._driverSet,$n,Nn),this._driverSet},zr.prototype.supports=function(Yr){return!!ns[Yr]},zr.prototype._extend=function(Yr){Jo(this,Yr)},zr.prototype._getSupportedDrivers=function(Yr){for(var $n=[],Nn=0,pn=Yr.length;Nn<pn;Nn++){var Zn=Yr[Nn];this.supports(Zn)&&$n.push(Zn)}return $n},zr.prototype._wrapLibraryMethodsWithReady=function(){for(var Yr=0,$n=$a.length;Yr<$n;Yr++)Oo(this,$a[Yr])},zr.prototype.createInstance=function(Yr){return new zr(Yr)},zr}(),qo=new rs;tt.exports=qo},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs$2(localforageExports);localforage.config({name:"CetusSite",storeName:"tokens"});class LocalStorageService{static async setItem(s,et){try{await localforage.setItem(s,et)}catch(tt){console.error(`Failed to set item with key "${s}"`,tt)}}static async getItem(s){try{return await localforage.getItem(s)}catch(et){return console.error(`Failed to get item with key "${s}"`,et),null}}static async removeItem(s){try{await localforage.removeItem(s)}catch(et){console.error(`Failed to remove item with key "${s}"`,et)}}static async clear(){try{await localforage.clear()}catch(s){console.error("Failed to clear storage",s)}}}const textEllipses=(a,s=10)=>a?(a==null?void 0:a.length)>s&&d$2(s).gt(0)?`${a.slice(0,s)}...`:a:"";function addDomEvent$1(a,s,et,tt){return a.addEventListener(s,et,tt),()=>{a.removeEventListener(s,et,tt)}}function isHTMLElement$2(a){return a!=null&&typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}function isBrowser$2(){return!!(globalThis!=null&&globalThis.document)}function isHiddenElement(a){return a.parentElement&&isHiddenElement(a.parentElement)?!0:a.hidden}function isContentEditableElement(a){const s=a.getAttribute("contenteditable");return s!=="false"&&s!=null}function isDisabledElement(a){return!!a.getAttribute("disabled")||!!a.getAttribute("aria-disabled")}function getOwnerWindow(a){var s;return((s=getOwnerDocument$2(a))==null?void 0:s.defaultView)??window}function getOwnerDocument$2(a){return isHTMLElement$2(a)?a.ownerDocument:document}function getEventWindow(a){return a.view??window}function getActiveElement$1(a){return getOwnerDocument$2(a).activeElement}function isMouseEvent(a){const s=getEventWindow(a);return typeof s.PointerEvent<"u"&&a instanceof s.PointerEvent?a.pointerType==="mouse":a instanceof s.MouseEvent}function isTouchEvent(a){return!!a.touches}function isMultiTouchEvent(a){return isTouchEvent(a)&&a.touches.length>1}function pointFromTouch(a,s="page"){const et=a.touches[0]||a.changedTouches[0];return{x:et[`${s}X`],y:et[`${s}Y`]}}function pointFromMouse(a,s="page"){return{x:a[`${s}X`],y:a[`${s}Y`]}}function getEventPoint(a,s="page"){return isTouchEvent(a)?pointFromTouch(a,s):pointFromMouse(a,s)}function filter$2(a){return s=>{const et=isMouseEvent(s);(!et||et&&s.button===0)&&a(s)}}function wrap$1(a,s=!1){function et(at){a(at,{point:getEventPoint(at)})}return s?filter$2(et):et}function addPointerEvent$1(a,s,et,tt){return addDomEvent$1(a,s,wrap$1(et,s==="pointerdown"),tt)}function assignAfter(a,...s){if(a==null)throw new TypeError("Cannot convert undefined or null to object");const et={...a};for(const tt of s)if(tt!=null)for(const at in tt)Object.prototype.hasOwnProperty.call(tt,at)&&(at in et&&delete et[at],et[at]=tt[at]);return et}const dataAttr=a=>a?"":void 0,ariaAttr=a=>a?!0:void 0;function isArray$2(a){return Array.isArray(a)}function isObject$3(a){const s=typeof a;return a!=null&&(s==="object"||s==="function")&&!isArray$2(a)}function getLastItem(a){const s=a==null?0:a.length;return s?a[s-1]:void 0}function analyzeCSSValue$1(a){const s=parseFloat(a.toString()),et=a.toString().replace(String(s),"");return{unitless:!et,value:s,unit:et}}function px$1(a){if(a==null)return a;const{unitless:s}=analyzeCSSValue$1(a);return s||typeof a=="number"?`${a}px`:a}const sortByBreakpointValue=(a,s)=>parseInt(a[1],10)>parseInt(s[1],10)?1:-1,sortBps=a=>Object.fromEntries(Object.entries(a).sort(sortByBreakpointValue));function normalize$4(a){const s=sortBps(a);return Object.assign(Object.values(s),s)}function keys$1(a){const s=Object.keys(sortBps(a));return new Set(s)}function subtract$3(a){if(!a)return a;a=px$1(a)??a;const s=-.02;return typeof a=="number"?`${a+s}`:a.replace(/(\d+\.?\d*)/u,et=>`${parseFloat(et)+s}`)}function toMediaQueryString(a,s){const et=["@media screen"];return a&&et.push("and",`(min-width: ${px$1(a)})`),s&&et.push("and",`(max-width: ${px$1(s)})`),et.join(" ")}function analyzeBreakpoints(a){if(!a)return null;a.base=a.base??"0px";const s=normalize$4(a),et=Object.entries(a).sort(sortByBreakpointValue).map(([ct,ut],bt,wt)=>{let[,Et]=wt[bt+1]??[];return Et=parseFloat(Et)>0?subtract$3(Et):void 0,{_minW:subtract$3(ut),breakpoint:ct,minW:ut,maxW:Et,maxWQuery:toMediaQueryString(null,Et),minWQuery:toMediaQueryString(ut),minMaxQuery:toMediaQueryString(ut,Et)}}),tt=keys$1(a),at=Array.from(tt.values());return{keys:tt,normalized:s,isResponsive(ct){const ut=Object.keys(ct);return ut.length>0&&ut.every(bt=>tt.has(bt))},asObject:sortBps(a),asArray:normalize$4(a),details:et,get(ct){return et.find(ut=>ut.breakpoint===ct)},media:[null,...s.map(ct=>toMediaQueryString(ct)).slice(1)],toArrayValue(ct){if(!isObject$3(ct))throw new Error("toArrayValue: value must be an object");const ut=at.map(bt=>ct[bt]??null);for(;getLastItem(ut)===null;)ut.pop();return ut},toObjectValue(ct){if(!Array.isArray(ct))throw new Error("toObjectValue: value must be an array");return ct.reduce((ut,bt,wt)=>{const Et=at[wt];return Et!=null&&bt!=null&&(ut[Et]=bt),ut},{})}}}function callAll(...a){return function(...et){a.forEach(tt=>tt==null?void 0:tt(...et))}}function callAllHandlers(...a){return function(et){a.some(tt=>(tt==null||tt(et),et==null?void 0:et.defaultPrevented))}}function getValidChildren(a){return reactExports.Children.toArray(a).filter(s=>reactExports.isValidElement(s))}function compact(a){const s=Object.assign({},a);for(let et in s)s[et]===void 0&&delete s[et];return s}function getErrorMessage(a,s){return`${a} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext(a={}){const{name:s,strict:et=!0,hookName:tt="useContext",providerName:at="Provider",errorMessage:ct,defaultValue:ut}=a,bt=reactExports.createContext(ut);bt.displayName=s;function wt(){var Ft;const Et=reactExports.useContext(bt);if(!Et&&et){const jt=new Error(ct??getErrorMessage(tt,at));throw jt.name="ContextError",(Ft=Error.captureStackTrace)==null||Ft.call(Error,jt,wt),jt}return Et}return[bt.Provider,wt,bt]}const cx=(...a)=>a.filter(Boolean).join(" "),hasTabIndex=a=>a.hasAttribute("tabindex"),hasNegativeTabIndex=a=>hasTabIndex(a)&&a.tabIndex===-1;function isFocusable(a){if(!isHTMLElement$2(a)||isHiddenElement(a)||isDisabledElement(a))return!1;const{localName:s}=a;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const tt={a:()=>a.hasAttribute("href"),audio:()=>a.hasAttribute("controls"),video:()=>a.hasAttribute("controls")};return s in tt?tt[s]():isContentEditableElement(a)?!0:hasTabIndex(a)}function isTabbable(a){return a?isHTMLElement$2(a)&&isFocusable(a)&&!hasNegativeTabIndex(a):!1}const focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=a=>a.offsetWidth>0&&a.offsetHeight>0;function getAllFocusable(a){const s=Array.from(a.querySelectorAll(focusableElSelector));return s.unshift(a),s.filter(et=>isFocusable(et)&&isVisible(et))}function get$4(a,s,et,tt){const at=typeof s=="string"?s.split("."):[s];for(tt=0;tt<at.length&&a;tt+=1)a=a[at[tt]];return a===void 0?et:a}const memoize$3=a=>{const s=new WeakMap;return(tt,at,ct,ut)=>{if(typeof tt>"u")return a(tt,at,ct);s.has(tt)||s.set(tt,new Map);const bt=s.get(tt);if(bt.has(at))return bt.get(at);const wt=a(tt,at,ct,ut);return bt.set(at,wt),wt}},memoizedGet$1=memoize$3(get$4),interopDefault=a=>a.default||a;function lazyDisclosure(a){const{wasSelected:s,enabled:et,isSelected:tt,mode:at="unmount"}=a;return!!(!et||tt||at==="keepMounted"&&s)}function toNumber(a){const s=parseFloat(a);return typeof s!="number"||Number.isNaN(s)?0:s}function toPrecision(a,s){let et=toNumber(a);const tt=10**(s??10);return et=Math.round(et*tt)/tt,s?et.toFixed(s):et.toString()}function countDecimalPlaces(a){if(!Number.isFinite(a))return 0;let s=1,et=0;for(;Math.round(a*s)/s!==a;)s*=10,et+=1;return et}function valueToPercent(a,s,et){return(a-s)*100/(et-s)}function percentToValue(a,s,et){return(et-s)*a+s}function roundValueToStep(a,s,et){const tt=Math.round((a-s)/et)*et+s,at=countDecimalPlaces(et);return toPrecision(tt,at)}function clampValue(a,s,et){return a==null?a:(et<s&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(a,s),et))}function omit(a,s=[]){const et=Object.assign({},a);for(const tt of s)tt in et&&delete et[tt];return et}function pick(a,s){const et={};for(const tt of s)tt in a&&(et[tt]=a[tt]);return et}function mapResponsive(a,s){return Array.isArray(a)?a.map(et=>et===null?null:s(et)):isObject$3(a)?Object.keys(a).reduce((et,tt)=>(et[tt]=s(a[tt]),et),{}):a!=null?s(a):null}const isFunction$4=a=>typeof a=="function";function runIfFn$1(a,...s){return isFunction$4(a)?a(...s):a}function isScrollParent$1(a){const s=a.ownerDocument.defaultView||window,{overflow:et,overflowX:tt,overflowY:at}=s.getComputedStyle(a);return/auto|scroll|overlay|hidden/.test(et+at+tt)}function getParent(a){return a.localName==="html"?a:a.assignedSlot||a.parentElement||a.ownerDocument.documentElement}function getScrollParent$1(a){return["html","body","#document"].includes(a.localName)?a.ownerDocument.body:isHTMLElement$2(a)&&isScrollParent$1(a)?a:getScrollParent$1(getParent(a))}function splitProps(a,...s){const et=Object.getOwnPropertyDescriptors(a),tt=Object.keys(et),at=ut=>{const bt={};for(let wt=0;wt<ut.length;wt++){const Et=ut[wt];et[Et]&&(Object.defineProperty(bt,Et,et[Et]),delete et[Et])}return bt},ct=ut=>at(Array.isArray(ut)?ut:tt.filter(ut));return s.map(ct).concat(at(tt))}function walkObject(a,s,et={}){const{stop:tt,getKey:at}=et;function ct(ut,bt=[]){if(isObject$3(ut)||Array.isArray(ut)){const wt={};for(const[Et,Ft]of Object.entries(ut)){const jt=(at==null?void 0:at(Et))??Et,Lt=[...bt,jt];if(tt!=null&&tt(ut,Lt))return s(ut,bt);wt[jt]=ct(Ft,Lt)}return wt}return s(ut,bt)}return ct(a)}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(a,s){var et=200,tt="__lodash_hash_undefined__",at=800,ct=16,ut=9007199254740991,bt="[object Arguments]",wt="[object Array]",Et="[object AsyncFunction]",Ft="[object Boolean]",jt="[object Date]",Lt="[object Error]",Ut="[object Function]",Vt="[object GeneratorFunction]",Yt="[object Map]",er="[object Number]",tr="[object Null]",nr="[object Object]",ir="[object Proxy]",lr="[object RegExp]",pr="[object Set]",yr="[object String]",br="[object Undefined]",xr="[object WeakMap]",Er="[object ArrayBuffer]",$r="[object DataView]",Sr="[object Float32Array]",fr="[object Float64Array]",vr="[object Int8Array]",or="[object Int16Array]",rr="[object Int32Array]",ar="[object Uint8Array]",sr="[object Uint8ClampedArray]",dr="[object Uint16Array]",gr="[object Uint32Array]",ur=/[\\^$.*+?()[\]{}|]/g,_r=/^\[object .+?Constructor\]$/,hr=/^(?:0|[1-9]\d*)$/,cr={};cr[Sr]=cr[fr]=cr[vr]=cr[or]=cr[rr]=cr[ar]=cr[sr]=cr[dr]=cr[gr]=!0,cr[bt]=cr[wt]=cr[Er]=cr[Ft]=cr[$r]=cr[jt]=cr[Lt]=cr[Ut]=cr[Yt]=cr[er]=cr[nr]=cr[lr]=cr[pr]=cr[yr]=cr[xr]=!1;var wr=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,Br=typeof self=="object"&&self&&self.Object===Object&&self,Or=wr||Br||Function("return this")(),Rr=s&&!s.nodeType&&s,Pr=Rr&&!0&&a&&!a.nodeType&&a,Ur=Pr&&Pr.exports===Rr,kr=Ur&&wr.process,Ar=function(){try{var Zr=Pr&&Pr.require&&Pr.require("util").types;return Zr||kr&&kr.binding&&kr.binding("util")}catch{}}(),Cr=Ar&&Ar.isTypedArray;function Fr(Zr,Cn,zn){switch(zn.length){case 0:return Zr.call(Cn);case 1:return Zr.call(Cn,zn[0]);case 2:return Zr.call(Cn,zn[0],zn[1]);case 3:return Zr.call(Cn,zn[0],zn[1],zn[2])}return Zr.apply(Cn,zn)}function Lr(Zr,Cn){for(var zn=-1,So=Array(Zr);++zn<Zr;)So[zn]=Cn(zn);return So}function Hr(Zr){return function(Cn){return Zr(Cn)}}function Gr(Zr,Cn){return Zr==null?void 0:Zr[Cn]}function Nr(Zr,Cn){return function(zn){return Zr(Cn(zn))}}var Vr=Array.prototype,jr=Function.prototype,Wr=Object.prototype,Kr=Or["__core-js_shared__"],an=jr.toString,Un=Wr.hasOwnProperty,Vn=function(){var Zr=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return Zr?"Symbol(src)_1."+Zr:""}(),Kn=Wr.toString,oo=an.call(Object),Hn=RegExp("^"+an.call(Un).replace(ur,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qn=Ur?Or.Buffer:void 0,yo=Or.Symbol,Dr=Or.Uint8Array;Qn&&Qn.allocUnsafe;var Tr=Nr(Object.getPrototypeOf,Object),Ir=Object.create,qr=Wr.propertyIsEnumerable,Qr=Vr.splice,sn=yo?yo.toStringTag:void 0,nn=function(){try{var Zr=io(Object,"defineProperty");return Zr({},"",{}),Zr}catch{}}(),Xn=Qn?Qn.isBuffer:void 0,xo=Math.max,no=Date.now,lo=io(Or,"Map"),bo=io(Object,"create"),mo=function(){function Zr(){}return function(Cn){if(!Al(Cn))return{};if(Ir)return Ir(Cn);Zr.prototype=Cn;var zn=new Zr;return Zr.prototype=void 0,zn}}();function Eo(Zr){var Cn=-1,zn=Zr==null?0:Zr.length;for(this.clear();++Cn<zn;){var So=Zr[Cn];this.set(So[0],So[1])}}function Bo(){this.__data__=bo?bo(null):{},this.size=0}function vo(Zr){var Cn=this.has(Zr)&&delete this.__data__[Zr];return this.size-=Cn?1:0,Cn}function Co(Zr){var Cn=this.__data__;if(bo){var zn=Cn[Zr];return zn===tt?void 0:zn}return Un.call(Cn,Zr)?Cn[Zr]:void 0}function Mo(Zr){var Cn=this.__data__;return bo?Cn[Zr]!==void 0:Un.call(Cn,Zr)}function go(Zr,Cn){var zn=this.__data__;return this.size+=this.has(Zr)?0:1,zn[Zr]=bo&&Cn===void 0?tt:Cn,this}Eo.prototype.clear=Bo,Eo.prototype.delete=vo,Eo.prototype.get=Co,Eo.prototype.has=Mo,Eo.prototype.set=go;function $o(Zr){var Cn=-1,zn=Zr==null?0:Zr.length;for(this.clear();++Cn<zn;){var So=Zr[Cn];this.set(So[0],So[1])}}function jo(){this.__data__=[],this.size=0}function Xr(Zr){var Cn=this.__data__,zn=Go(Cn,Zr);if(zn<0)return!1;var So=Cn.length-1;return zn==So?Cn.pop():Qr.call(Cn,zn,1),--this.size,!0}function Jr(Zr){var Cn=this.__data__,zn=Go(Cn,Zr);return zn<0?void 0:Cn[zn][1]}function Dn(Zr){return Go(this.__data__,Zr)>-1}function Ln(Zr,Cn){var zn=this.__data__,So=Go(zn,Zr);return So<0?(++this.size,zn.push([Zr,Cn])):zn[So][1]=Cn,this}$o.prototype.clear=jo,$o.prototype.delete=Xr,$o.prototype.get=Jr,$o.prototype.has=Dn,$o.prototype.set=Ln;function Gn(Zr){var Cn=-1,zn=Zr==null?0:Zr.length;for(this.clear();++Cn<zn;){var So=Zr[Cn];this.set(So[0],So[1])}}function co(){this.size=0,this.__data__={hash:new Eo,map:new(lo||$o),string:new Eo}}function Jn(Zr){var Cn=ro(this,Zr).delete(Zr);return this.size-=Cn?1:0,Cn}function _i(Zr){return ro(this,Zr).get(Zr)}function ao(Zr){return ro(this,Zr).has(Zr)}function Wn(Zr,Cn){var zn=ro(this,Zr),So=zn.size;return zn.set(Zr,Cn),this.size+=zn.size==So?0:1,this}Gn.prototype.clear=co,Gn.prototype.delete=Jn,Gn.prototype.get=_i,Gn.prototype.has=ao,Gn.prototype.set=Wn;function eo(Zr){var Cn=this.__data__=new $o(Zr);this.size=Cn.size}function _o(){this.__data__=new $o,this.size=0}function ho(Zr){var Cn=this.__data__,zn=Cn.delete(Zr);return this.size=Cn.size,zn}function To(Zr){return this.__data__.get(Zr)}function Io(Zr){return this.__data__.has(Zr)}function Ro(Zr,Cn){var zn=this.__data__;if(zn instanceof $o){var So=zn.__data__;if(!lo||So.length<et-1)return So.push([Zr,Cn]),this.size=++zn.size,this;zn=this.__data__=new Gn(So)}return zn.set(Zr,Cn),this.size=zn.size,this}eo.prototype.clear=_o,eo.prototype.delete=ho,eo.prototype.get=To,eo.prototype.has=Io,eo.prototype.set=Ro;function Do(Zr,Cn){var zn=zl(Zr),So=!zn&&du(Zr),No=!zn&&!So&&Wu(Zr),Ko=!zn&&!So&&!No&&Yu(Zr),na=zn||So||No||Ko,zo=na?Lr(Zr.length,String):[],ga=zo.length;for(var Es in Zr)na&&(Es=="length"||No&&(Es=="offset"||Es=="parent")||Ko&&(Es=="buffer"||Es=="byteLength"||Es=="byteOffset")||wo(Es,ga))||zo.push(Es);return zo}function Zo(Zr,Cn,zn){(zn!==void 0&&!Vl(Zr[Cn],zn)||zn===void 0&&!(Cn in Zr))&&Lo(Zr,Cn,zn)}function ts(Zr,Cn,zn){var So=Zr[Cn];(!(Un.call(Zr,Cn)&&Vl(So,zn))||zn===void 0&&!(Cn in Zr))&&Lo(Zr,Cn,zn)}function Go(Zr,Cn){for(var zn=Zr.length;zn--;)if(Vl(Zr[zn][0],Cn))return zn;return-1}function Lo(Zr,Cn,zn){Cn=="__proto__"&&nn?nn(Zr,Cn,{configurable:!0,enumerable:!0,value:zn,writable:!0}):Zr[Cn]=zn}var ns=Zn();function Wo(Zr){return Zr==null?Zr===void 0?br:tr:sn&&sn in Object(Zr)?so(Zr):ms(Zr)}function Qo(Zr){return fu(Zr)&&Wo(Zr)==bt}function _a(Zr){if(!Al(Zr)||Vo(Zr))return!1;var Cn=Tu(Zr)?Hn:_r;return Cn.test(Gu(Zr))}function $a(Zr){return fu(Zr)&&Ku(Zr.length)&&!!cr[Wo(Zr)]}function Ao(Zr){if(!Al(Zr))return xa(Zr);var Cn=ba(Zr),zn=[];for(var So in Zr)So=="constructor"&&(Cn||!Un.call(Zr,So))||zn.push(So);return zn}function Oo(Zr,Cn,zn,So,No){Zr!==Cn&&ns(Cn,function(Ko,na){if(No||(No=new eo),Al(Ko))Jo(Zr,Cn,na,zn,Oo,So,No);else{var zo=So?So(Tl(Zr,na),Ko,na+"",Zr,Cn,No):void 0;zo===void 0&&(zo=Ko),Zo(Zr,na,zo)}},Xu)}function Jo(Zr,Cn,zn,So,No,Ko,na){var zo=Tl(Zr,zn),ga=Tl(Cn,zn),Es=na.get(ga);if(Es){Zo(Zr,zn,Es);return}var vs=Ko?Ko(zo,ga,zn+"",Zr,Cn,na):void 0,hu=vs===void 0;if(hu){var Au=zl(ga),Ru=!Au&&Wu(ga),Qu=!Au&&!Ru&&Yu(ga);vs=ga,Au||Ru||Qu?zl(zo)?vs=zo:Op(zo)?vs=$n(zo):Ru?(hu=!1,vs=zr(ga)):Qu?(hu=!1,vs=Yr(ga)):vs=[]:Dp(ga)||du(ga)?(vs=zo,du(zo)?vs=Mp(zo):(!Al(zo)||Tu(zo))&&(vs=uo(ga))):hu=!1}hu&&(na.set(ga,vs),No(vs,ga,So,Ko,na),na.delete(ga)),Zo(Zr,zn,vs)}function rs(Zr,Cn){return Eu(Cl(Zr,Cn,Zu),Zr+"")}var qo=nn?function(Zr,Cn){return nn(Zr,"toString",{configurable:!0,enumerable:!1,value:jp(Cn),writable:!0})}:Zu;function zr(Zr,Cn){return Zr.slice()}function rn(Zr){var Cn=new Zr.constructor(Zr.byteLength);return new Dr(Cn).set(new Dr(Zr)),Cn}function Yr(Zr,Cn){var zn=rn(Zr.buffer);return new Zr.constructor(zn,Zr.byteOffset,Zr.length)}function $n(Zr,Cn){var zn=-1,So=Zr.length;for(Cn||(Cn=Array(So));++zn<So;)Cn[zn]=Zr[zn];return Cn}function Nn(Zr,Cn,zn,So){var No=!zn;zn||(zn={});for(var Ko=-1,na=Cn.length;++Ko<na;){var zo=Cn[Ko],ga=void 0;ga===void 0&&(ga=Zr[zo]),No?Lo(zn,zo,ga):ts(zn,zo,ga)}return zn}function pn(Zr){return rs(function(Cn,zn){var So=-1,No=zn.length,Ko=No>1?zn[No-1]:void 0,na=No>2?zn[2]:void 0;for(Ko=Zr.length>3&&typeof Ko=="function"?(No--,Ko):void 0,na&&Po(zn[0],zn[1],na)&&(Ko=No<3?void 0:Ko,No=1),Cn=Object(Cn);++So<No;){var zo=zn[So];zo&&Zr(Cn,zo,So,Ko)}return Cn})}function Zn(Zr){return function(Cn,zn,So){for(var No=-1,Ko=Object(Cn),na=So(Cn),zo=na.length;zo--;){var ga=na[++No];if(zn(Ko[ga],ga,Ko)===!1)break}return Cn}}function ro(Zr,Cn){var zn=Zr.__data__;return Uo(Cn)?zn[typeof Cn=="string"?"string":"hash"]:zn.map}function io(Zr,Cn){var zn=Gr(Zr,Cn);return _a(zn)?zn:void 0}function so(Zr){var Cn=Un.call(Zr,sn),zn=Zr[sn];try{Zr[sn]=void 0;var So=!0}catch{}var No=Kn.call(Zr);return So&&(Cn?Zr[sn]=zn:delete Zr[sn]),No}function uo(Zr){return typeof Zr.constructor=="function"&&!ba(Zr)?mo(Tr(Zr)):{}}function wo(Zr,Cn){var zn=typeof Zr;return Cn=Cn??ut,!!Cn&&(zn=="number"||zn!="symbol"&&hr.test(Zr))&&Zr>-1&&Zr%1==0&&Zr<Cn}function Po(Zr,Cn,zn){if(!Al(zn))return!1;var So=typeof Cn;return(So=="number"?Cu(zn)&&wo(Cn,zn.length):So=="string"&&Cn in zn)?Vl(zn[Cn],Zr):!1}function Uo(Zr){var Cn=typeof Zr;return Cn=="string"||Cn=="number"||Cn=="symbol"||Cn=="boolean"?Zr!=="__proto__":Zr===null}function Vo(Zr){return!!Vn&&Vn in Zr}function ba(Zr){var Cn=Zr&&Zr.constructor,zn=typeof Cn=="function"&&Cn.prototype||Wr;return Zr===zn}function xa(Zr){var Cn=[];if(Zr!=null)for(var zn in Object(Zr))Cn.push(zn);return Cn}function ms(Zr){return Kn.call(Zr)}function Cl(Zr,Cn,zn){return Cn=xo(Cn===void 0?Zr.length-1:Cn,0),function(){for(var So=arguments,No=-1,Ko=xo(So.length-Cn,0),na=Array(Ko);++No<Ko;)na[No]=So[Cn+No];No=-1;for(var zo=Array(Cn+1);++No<Cn;)zo[No]=So[No];return zo[Cn]=zn(na),Fr(Zr,this,zo)}}function Tl(Zr,Cn){if(!(Cn==="constructor"&&typeof Zr[Cn]=="function")&&Cn!="__proto__")return Zr[Cn]}var Eu=uu(qo);function uu(Zr){var Cn=0,zn=0;return function(){var So=no(),No=ct-(So-zn);if(zn=So,No>0){if(++Cn>=at)return arguments[0]}else Cn=0;return Zr.apply(void 0,arguments)}}function Gu(Zr){if(Zr!=null){try{return an.call(Zr)}catch{}try{return Zr+""}catch{}}return""}function Vl(Zr,Cn){return Zr===Cn||Zr!==Zr&&Cn!==Cn}var du=Qo(function(){return arguments}())?Qo:function(Zr){return fu(Zr)&&Un.call(Zr,"callee")&&!qr.call(Zr,"callee")},zl=Array.isArray;function Cu(Zr){return Zr!=null&&Ku(Zr.length)&&!Tu(Zr)}function Op(Zr){return fu(Zr)&&Cu(Zr)}var Wu=Xn||Np;function Tu(Zr){if(!Al(Zr))return!1;var Cn=Wo(Zr);return Cn==Ut||Cn==Vt||Cn==Et||Cn==ir}function Ku(Zr){return typeof Zr=="number"&&Zr>-1&&Zr%1==0&&Zr<=ut}function Al(Zr){var Cn=typeof Zr;return Zr!=null&&(Cn=="object"||Cn=="function")}function fu(Zr){return Zr!=null&&typeof Zr=="object"}function Dp(Zr){if(!fu(Zr)||Wo(Zr)!=nr)return!1;var Cn=Tr(Zr);if(Cn===null)return!0;var zn=Un.call(Cn,"constructor")&&Cn.constructor;return typeof zn=="function"&&zn instanceof zn&&an.call(zn)==oo}var Yu=Cr?Hr(Cr):$a;function Mp(Zr){return Nn(Zr,Xu(Zr))}function Xu(Zr){return Cu(Zr)?Do(Zr):Ao(Zr)}var Bp=pn(function(Zr,Cn,zn,So){Oo(Zr,Cn,zn,So)});function jp(Zr){return function(){return Zr}}function Zu(Zr){return Zr}function Np(){return!1}a.exports=Bp})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs$2(lodash_mergewithExports);function useCallbackRef(a,s=[]){const et=reactExports.useRef(a);return reactExports.useEffect(()=>{et.current=a}),reactExports.useCallback((...tt)=>{var at;return(at=et.current)==null?void 0:at.call(et,...tt)},s)}function useEventListener(a,s,et,tt){const at=useCallbackRef(et);return reactExports.useEffect(()=>{const ct=typeof a=="function"?a():a??document;if(!(!et||!ct))return ct.addEventListener(s,at,tt),()=>{ct.removeEventListener(s,at,tt)}},[s,a,tt,at,et]),()=>{const ct=typeof a=="function"?a():a??document;ct==null||ct.removeEventListener(s,at,tt)}}function useAnimationState(a){const{isOpen:s,ref:et}=a,[tt,at]=reactExports.useState(s),[ct,ut]=reactExports.useState(!1);return reactExports.useEffect(()=>{ct||(at(s),ut(!0))},[s,ct,tt]),useEventListener(()=>et.current,"animationend",()=>{at(s)}),{present:!(s?!1:!tt),onComplete(){var Ft;const wt=getOwnerWindow(et.current),Et=new wt.CustomEvent("animationend",{bubbles:!0});(Ft=et.current)==null||Ft.dispatchEvent(Et)}}}function useControllableState(a){const{value:s,defaultValue:et,onChange:tt,shouldUpdate:at=(Lt,Ut)=>Lt!==Ut}=a,ct=useCallbackRef(tt),ut=useCallbackRef(at),[bt,wt]=reactExports.useState(et),Et=s!==void 0,Ft=Et?s:bt,jt=useCallbackRef(Lt=>{const Vt=typeof Lt=="function"?Lt(Ft):Lt;ut(Ft,Vt)&&(Et||wt(Vt),ct(Vt))},[Et,ct,Ft,ut]);return[Ft,jt]}function useDisclosure(a={}){const{onClose:s,onOpen:et,isOpen:tt,id:at}=a,ct=useCallbackRef(et),ut=useCallbackRef(s),[bt,wt]=reactExports.useState(a.defaultIsOpen||!1),Et=tt!==void 0?tt:bt,Ft=tt!==void 0,jt=reactExports.useId(),Lt=at??`disclosure-${jt}`,Ut=reactExports.useCallback(()=>{Ft||wt(!1),ut==null||ut()},[Ft,ut]),Vt=reactExports.useCallback(()=>{Ft||wt(!0),ct==null||ct()},[Ft,ct]),Yt=reactExports.useCallback(()=>{Et?Ut():Vt()},[Et,Vt,Ut]);function er(nr={}){return{...nr,"aria-expanded":Et,"aria-controls":Lt,onClick(ir){var lr;(lr=nr.onClick)==null||lr.call(nr,ir),Yt()}}}function tr(nr={}){return{...nr,hidden:!Et,id:Lt}}return{isOpen:Et,onOpen:Vt,onClose:Ut,onToggle:Yt,isControlled:Ft,getButtonProps:er,getDisclosureProps:tr}}const useSafeLayoutEffect$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,useUpdateEffect=(a,s)=>{const et=reactExports.useRef(!1),tt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(et.current&&tt.current)return a();tt.current=!0},s),reactExports.useEffect(()=>(et.current=!0,()=>{et.current=!1}),[])};function preventReturnFocus(a){const s=a.current;if(!s)return!1;const et=getActiveElement$1(s);return!et||s.contains(et)?!1:!!isTabbable(et)}function useFocusOnHide(a,s){const{shouldFocus:et,visible:tt,focusRef:at}=s,ct=et&&!tt;useUpdateEffect(()=>{if(!ct||preventReturnFocus(a))return;const ut=(at==null?void 0:at.current)||a.current;let bt;if(ut)return bt=requestAnimationFrame(()=>{ut.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(bt)}},[ct,a,at])}const defaultOptions$1={preventScroll:!0,shouldFocus:!1};function useFocusOnShow(a,s=defaultOptions$1){const{focusRef:et,preventScroll:tt,shouldFocus:at,visible:ct}=s,ut=isRefObject$2(a)?a.current:a,bt=at&&ct,wt=reactExports.useRef(bt),Et=reactExports.useRef(ct);useSafeLayoutEffect$2(()=>{!Et.current&&ct&&(wt.current=bt),Et.current=ct},[ct,bt]);const Ft=reactExports.useCallback(()=>{if(!(!ct||!ut||!wt.current)&&(wt.current=!1,!ut.contains(document.activeElement)))if(et!=null&&et.current)requestAnimationFrame(()=>{var jt;(jt=et.current)==null||jt.focus({preventScroll:tt})});else{const jt=getAllFocusable(ut);jt.length>0&&requestAnimationFrame(()=>{jt[0].focus({preventScroll:tt})})}},[ct,tt,ut,et]);useUpdateEffect(()=>{Ft()},[Ft]),useEventListener(ut,"transitionend",Ft)}function isRefObject$2(a){return"current"in a}function isRefObject$1(a){return"current"in a}const isDom$1=()=>typeof window<"u";function getPlatform(){const a=navigator.userAgentData;return(a==null?void 0:a.platform)??navigator.platform}const vn$1=a=>isDom$1()&&a.test(navigator.vendor),pt$2=a=>isDom$1()&&a.test(getPlatform()),isApple=()=>pt$2(/mac|iphone|ipad|ipod/i),isSafari=()=>isApple()&&vn$1(/apple/i);function useFocusOnPointerDown(a){const{ref:s,elements:et,enabled:tt}=a,at=()=>{var ct;return((ct=s.current)==null?void 0:ct.ownerDocument)??document};useEventListener(at,"pointerdown",ct=>{var Et,Ft;if(!isSafari()||!tt)return;const ut=((Ft=(Et=ct.composedPath)==null?void 0:Et.call(ct))==null?void 0:Ft[0])??ct.target,wt=(et??[s]).some(jt=>{const Lt=isRefObject$1(jt)?jt.current:jt;return(Lt==null?void 0:Lt.contains(ut))||Lt===ut});at().activeElement!==ut&&wt&&(ct.preventDefault(),ut.focus())})}function useId(a,s){const et=reactExports.useId();return reactExports.useMemo(()=>a||[s,et].filter(Boolean).join("-"),[a,s,et])}function useIds$1(a,...s){const et=useId(a);return reactExports.useMemo(()=>s.map(tt=>`${tt}-${et}`),[et,s])}function useLatestRef(a){const s=reactExports.useRef(null);return s.current=a,s}function assignRef(a,s){if(a!=null){if(typeof a=="function"){a(s);return}try{a.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${a}'`)}}}function mergeRefs(...a){return s=>{a.forEach(et=>{assignRef(et,s)})}}function useMergeRefs(...a){return reactExports.useMemo(()=>mergeRefs(...a),a)}function useOutsideClick(a){const{ref:s,handler:et,enabled:tt=!0}=a,at=useCallbackRef(et),ut=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!tt)return;const bt=jt=>{isValidEvent(jt,s)&&(ut.isPointerDown=!0)},wt=jt=>{if(ut.ignoreEmulatedMouseEvents){ut.ignoreEmulatedMouseEvents=!1;return}ut.isPointerDown&&et&&isValidEvent(jt,s)&&(ut.isPointerDown=!1,at(jt))},Et=jt=>{ut.ignoreEmulatedMouseEvents=!0,et&&ut.isPointerDown&&isValidEvent(jt,s)&&(ut.isPointerDown=!1,at(jt))},Ft=getOwnerDocument$1(s.current);return Ft.addEventListener("mousedown",bt,!0),Ft.addEventListener("mouseup",wt,!0),Ft.addEventListener("touchstart",bt,!0),Ft.addEventListener("touchend",Et,!0),()=>{Ft.removeEventListener("mousedown",bt,!0),Ft.removeEventListener("mouseup",wt,!0),Ft.removeEventListener("touchstart",bt,!0),Ft.removeEventListener("touchend",Et,!0)}},[et,s,at,ut,tt])}function isValidEvent(a,s){var tt,at;const et=((tt=a.composedPath)==null?void 0:tt.call(a)[0])??a.target;return et&&!getOwnerDocument$1(et).contains(et)?!1:!((at=s.current)!=null&&at.contains(et))}function getOwnerDocument$1(a){return(a==null?void 0:a.ownerDocument)??document}function usePrevious(a){const s=reactExports.useRef(void 0);return reactExports.useEffect(()=>{s.current=a},[a]),s.current}function useTimeout(a,s){const et=useCallbackRef(a);reactExports.useEffect(()=>{if(s==null)return;let tt=null;return tt=window.setTimeout(()=>{et()},s),()=>{tt&&window.clearTimeout(tt)}},[s,et])}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?a=>window.requestAnimationFrame(a):a=>setTimeout(()=>a(getCurrentTime()),defaultTimestep);function createRenderStep$1(a){let s=[],et=[],tt=0,at=!1,ct=!1;const ut=new WeakSet,bt={schedule:(wt,Et=!1,Ft=!1)=>{const jt=Ft&&at,Lt=jt?s:et;return Et&&ut.add(wt),Lt.indexOf(wt)===-1&&(Lt.push(wt),jt&&at&&(tt=s.length)),wt},cancel:wt=>{const Et=et.indexOf(wt);Et!==-1&&et.splice(Et,1),ut.delete(wt)},process:wt=>{if(at){ct=!0;return}if(at=!0,[s,et]=[et,s],et.length=0,tt=s.length,tt)for(let Et=0;Et<tt;Et++){const Ft=s[Et];Ft(wt),ut.has(Ft)&&(bt.schedule(Ft),a())}at=!1,ct&&(ct=!1,bt.process(wt))}};return bt}const maxElapsed$1=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame$1={delta:0,timestamp:0},stepsOrder$1=["read","update","preRender","render","postRender"],steps=stepsOrder$1.reduce((a,s)=>(a[s]=createRenderStep$1(()=>runNextFrame=!0),a),{}),sync=stepsOrder$1.reduce((a,s)=>{const et=steps[s];return a[s]=(tt,at=!1,ct=!1)=>(runNextFrame||startLoop(),et.schedule(tt,at,ct)),a},{}),cancelSync=stepsOrder$1.reduce((a,s)=>(a[s]=steps[s].cancel,a),{});stepsOrder$1.reduce((a,s)=>(a[s]=()=>steps[s].process(frame$1),a),{});const processStep=a=>steps[a].process(frame$1),processFrame=a=>{runNextFrame=!1,frame$1.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(a-frame$1.timestamp,maxElapsed$1),1),frame$1.timestamp=a,isProcessing=!0,stepsOrder$1.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame$1;var __defProp$i=Object.defineProperty,__defNormalProp$6=(a,s,et)=>s in a?__defProp$i(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$3=(a,s,et)=>(__defNormalProp$6(a,typeof s!="symbol"?s+"":s,et),et);class PanEvent{constructor(s,et,tt){if(__publicField$3(this,"history",[]),__publicField$3(this,"startEvent",null),__publicField$3(this,"lastEvent",null),__publicField$3(this,"lastEventInfo",null),__publicField$3(this,"handlers",{}),__publicField$3(this,"removeListeners",()=>{}),__publicField$3(this,"threshold",3),__publicField$3(this,"win"),__publicField$3(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const bt=getPanInfo$1(this.lastEventInfo,this.history),wt=this.startEvent!==null,Et=distance$1(bt.offset,{x:0,y:0})>=this.threshold;if(!wt&&!Et)return;const{timestamp:Ft}=getFrameData();this.history.push({...bt.point,timestamp:Ft});const{onStart:jt,onMove:Lt}=this.handlers;wt||(jt==null||jt(this.lastEvent,bt),this.startEvent=this.lastEvent),Lt==null||Lt(this.lastEvent,bt)}),__publicField$3(this,"onPointerMove",(bt,wt)=>{this.lastEvent=bt,this.lastEventInfo=wt,sync.update(this.updatePoint,!0)}),__publicField$3(this,"onPointerUp",(bt,wt)=>{const Et=getPanInfo$1(wt,this.history),{onEnd:Ft,onSessionEnd:jt}=this.handlers;jt==null||jt(bt,Et),this.end(),!(!Ft||!this.startEvent)&&(Ft==null||Ft(bt,Et))}),this.win=s.view??window,isMultiTouchEvent(s))return;this.handlers=et,tt&&(this.threshold=tt),s.stopPropagation(),s.preventDefault();const at={point:getEventPoint(s)},{timestamp:ct}=getFrameData();this.history=[{...at.point,timestamp:ct}];const{onSessionStart:ut}=et;ut==null||ut(s,getPanInfo$1(at,this.history)),this.removeListeners=pipe$3(addPointerEvent$1(this.win,"pointermove",this.onPointerMove),addPointerEvent$1(this.win,"pointerup",this.onPointerUp),addPointerEvent$1(this.win,"pointercancel",this.onPointerUp))}updateHandlers(s){this.handlers=s}end(){var s;(s=this.removeListeners)==null||s.call(this),cancelSync.update(this.updatePoint)}}function subtract$2(a,s){return{x:a.x-s.x,y:a.y-s.y}}function getPanInfo$1(a,s){return{point:a.point,delta:subtract$2(a.point,s[s.length-1]),offset:subtract$2(a.point,s[0]),velocity:getVelocity$1(s,.1)}}const toMilliseconds=a=>a*1e3;function getVelocity$1(a,s){if(a.length<2)return{x:0,y:0};let et=a.length-1,tt=null;const at=a[a.length-1];for(;et>=0&&(tt=a[et],!(at.timestamp-tt.timestamp>toMilliseconds(s)));)et--;if(!tt)return{x:0,y:0};const ct=(at.timestamp-tt.timestamp)/1e3;if(ct===0)return{x:0,y:0};const ut={x:(at.x-tt.x)/ct,y:(at.y-tt.y)/ct};return ut.x===1/0&&(ut.x=0),ut.y===1/0&&(ut.y=0),ut}function pipe$3(...a){return s=>a.reduce((et,tt)=>tt(et),s)}function distance1D(a,s){return Math.abs(a-s)}function isPoint(a){return"x"in a&&"y"in a}function distance$1(a,s){if(typeof a=="number"&&typeof s=="number")return distance1D(a,s);if(isPoint(a)&&isPoint(s)){const et=distance1D(a.x,s.x),tt=distance1D(a.y,s.y);return Math.sqrt(et**2+tt**2)}return 0}function usePanEvent(a,s){const{onPan:et,onPanStart:tt,onPanEnd:at,onPanSessionStart:ct,onPanSessionEnd:ut,threshold:bt}=s,wt=!!(et||tt||at||ct||ut),Et=reactExports.useRef(null),Ft=useLatestRef({onSessionStart:ct,onSessionEnd:ut,onStart:tt,onMove:et,onEnd(jt,Lt){Et.current=null,at==null||at(jt,Lt)}});reactExports.useEffect(()=>{var jt;(jt=Et.current)==null||jt.updateHandlers(Ft.current)}),reactExports.useEffect(()=>{const jt=a.current;if(!jt||!wt)return;function Lt(Ut){Et.current=new PanEvent(Ut,Ft.current,bt)}return addPointerEvent$1(jt,"pointerdown",Lt)},[a,wt,Ft,bt]),reactExports.useEffect(()=>()=>{var jt;(jt=Et.current)==null||jt.end(),Et.current=null},[])}const state$1={open:(a,s)=>`${a}[data-open], ${a}[open], ${a}[data-state=open] ${s}`,closed:(a,s)=>`${a}[data-closed], ${a}[data-state=closed] ${s}`,hover:(a,s)=>`${a}:hover ${s}, ${a}[data-hover] ${s}`,focus:(a,s)=>`${a}:focus ${s}, ${a}[data-focus] ${s}`,focusVisible:(a,s)=>`${a}:focus-visible ${s}`,focusWithin:(a,s)=>`${a}:focus-within ${s}`,active:(a,s)=>`${a}:active ${s}, ${a}[data-active] ${s}`,disabled:(a,s)=>`${a}:disabled ${s}, ${a}[data-disabled] ${s}`,invalid:(a,s)=>`${a}:invalid ${s}, ${a}[data-invalid] ${s}`,checked:(a,s)=>`${a}:checked ${s}, ${a}[data-checked] ${s}`,placeholderShown:(a,s)=>`${a}:placeholder-shown ${s}`},toGroup=a=>merge$2(s=>a(s,"&"),"[role=group]","[data-group]",".group"),toPeer=a=>merge$2(s=>a(s,"~ &"),"[data-peer]",".peer"),merge$2=(a,...s)=>s.map(a).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:toGroup(state$1.open),_groupClosed:toGroup(state$1.closed),_groupHover:toGroup(state$1.hover),_peerHover:toPeer(state$1.hover),_groupFocus:toGroup(state$1.focus),_peerFocus:toPeer(state$1.focus),_groupFocusVisible:toGroup(state$1.focusVisible),_peerFocusVisible:toPeer(state$1.focusVisible),_groupActive:toGroup(state$1.active),_peerActive:toPeer(state$1.active),_groupDisabled:toGroup(state$1.disabled),_peerDisabled:toPeer(state$1.disabled),_groupInvalid:toGroup(state$1.invalid),_peerInvalid:toPeer(state$1.invalid),_groupChecked:toGroup(state$1.checked),_peerChecked:toPeer(state$1.checked),_groupFocusWithin:toGroup(state$1.focusWithin),_peerFocusWithin:toPeer(state$1.focusWithin),_peerPlaceholderShown:toPeer(state$1.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},pseudoPropNames=Object.keys(pseudoSelectors),isImportant=a=>/!(important)?$/.test(a),withoutImportant=a=>typeof a=="string"?a.replace(/!(important)?$/,"").trim():a,tokenToCSSVar=(a,s)=>et=>{const tt=String(s),at=isImportant(tt),ct=withoutImportant(tt),ut=a?`${a}.${ct}`:ct;let bt=isObject$3(et.__cssMap)&&ut in et.__cssMap?et.__cssMap[ut].varRef:s;return bt=withoutImportant(bt),at?`${bt} !important`:bt};function createTransform(a){const{scale:s,transform:et,compose:tt}=a;return(ct,ut)=>{const bt=tokenToCSSVar(s,ct)(ut);let wt=(et==null?void 0:et(bt,ut))??bt;return tt&&(wt=tt(wt,ut)),wt}}const pipe$2=(...a)=>s=>a.reduce((et,tt)=>tt(et),s);function toConfig(a,s){return et=>{const tt={property:et,scale:a};return tt.transform=createTransform({scale:a,transform:s}),tt}}const getRtl=({rtl:a,ltr:s})=>et=>et.direction==="rtl"?a:s;function logical(a){const{property:s,scale:et,transform:tt}=a;return{scale:et,property:getRtl(s),transform:et?createTransform({scale:et,compose:tt}):tt}}const transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}const filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(a){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":a,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=a=>a.trim();function parseGradient(a,s){if(a==null||globalSet.has(a))return a;if(!(isCSSFunction(a)||globalSet.has(a)))return`url('${a}')`;const at=/(^[a-z-A-Z]+)\((.*)\)/g.exec(a),ct=at==null?void 0:at[1],ut=at==null?void 0:at[2];if(!ct||!ut)return a;const bt=ct.includes("-gradient")?ct:`${ct}-gradient`,[wt,...Et]=ut.split(",").map(trimSpace).filter(Boolean);if((Et==null?void 0:Et.length)===0)return a;const Ft=wt in directionMap?directionMap[wt]:wt;Et.unshift(Ft);const jt=Et.map(Lt=>{if(valueSet.has(Lt))return Lt;const Ut=Lt.indexOf(" "),[Vt,Yt]=Ut!==-1?[Lt.substr(0,Ut),Lt.substr(Ut+1)]:[Lt],er=isCSSFunction(Yt)?Yt:Yt&&Yt.split(" "),tr=`colors.${Vt}`,nr=tr in s.__cssMap?s.__cssMap[tr].varRef:Vt;return er?[nr,...Array.isArray(er)?er:[er]].join(" "):nr});return`${bt}(${jt.join(", ")})`}const isCSSFunction=a=>typeof a=="string"&&a.includes("(")&&a.includes(")"),gradientTransform=(a,s)=>parseGradient(a,s??{});function isCssVar$1(a){return/^var\(--.+\)$/.test(a)}const analyzeCSSValue=a=>{const s=parseFloat(a.toString()),et=a.toString().replace(String(s),"");return{unitless:!et,value:s,unit:et}},wrap=a=>s=>`${a}(${s})`,transformFunctions={filter(a){return a!=="auto"?a:filterTemplate},backdropFilter(a){return a!=="auto"?a:backdropFilterTemplate},ring(a){return getRingTemplate(transformFunctions.px(a))},bgClip(a){return a==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:a}},transform(a){return a==="auto"?getTransformTemplate():a==="auto-gpu"?getTransformGpuTemplate():a},vh(a){return a==="$100vh"?"var(--chakra-vh)":a},px(a){if(a==null)return a;const{unitless:s}=analyzeCSSValue(a);return s||typeof a=="number"?`${a}px`:a},fraction(a){return typeof a!="number"||a>1?a:`${a*100}%`},float(a,s){const et={left:"right",right:"left"};return s.direction==="rtl"?et[a]:a},degree(a){if(isCssVar$1(a)||a==null)return a;const s=typeof a=="string"&&!a.endsWith("deg");return typeof a=="number"||s?`${a}deg`:a},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:a=>wrap("hue-rotate")(transformFunctions.degree(a)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(a){return a==null||isCSSFunction(a)||globalSet.has(a)?a:`url(${a})`},outline(a){const s=String(a)==="0"||String(a)==="none";return a!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:a}},flexDirection(a){const{space:s,divide:et}=flexDirectionTemplate[a]??{},tt={flexDirection:a};return s&&(tt[s]=1),et&&(tt[et]=1),tt}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(a){return{property:a,transform:transformFunctions.degree}},prop(a,s,et){return{property:a,scale:s,...s&&{transform:createTransform({scale:s,transform:et})}}},propT(a,s){return{property:a,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});const border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});const color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke"),accentColor:t$1.colors("accentColor"),textFillColor:t$1.colors("textFillColor")},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});const layout$1={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(a,s)=>{var at,ct;return{[`@media screen and (min-width: ${((ct=(at=s.__breakpoints)==null?void 0:at.get(a))==null?void 0:ct.minW)??a})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(a,s)=>{var at,ct;return{[`@media screen and (max-width: ${((ct=(at=s.__breakpoints)==null?void 0:at.get(a))==null?void 0:ct._minW)??a})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});const filter$1={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function get$3(a,s,et,tt){const at=typeof s=="string"?s.split("."):[s];for(tt=0;tt<at.length&&a;tt+=1)a=a[at[tt]];return a===void 0?et:a}const memoize$2=a=>{const s=new WeakMap;return(tt,at,ct,ut)=>{if(typeof tt>"u")return a(tt,at,ct);s.has(tt)||s.set(tt,new Map);const bt=s.get(tt);if(bt.has(at))return bt.get(at);const wt=a(tt,at,ct,ut);return bt.set(at,wt),wt}},memoizedGet=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(a,s,et)=>{const tt={},at=memoizedGet(a,s,{});for(const ct in at)ct in et&&et[ct]!=null||(tt[ct]=at[ct]);return tt},others={srOnly:{transform(a){return a===!0?srOnly:a==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(a,s,et)=>getWithPriority(s,`layerStyles.${a}`,et)},textStyle:{processResult:!0,transform:(a,s,et)=>getWithPriority(s,`textStyles.${a}`,et)},apply:{processResult:!0,transform:(a,s,et)=>getWithPriority(s,a,et)}},position$1={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});const effect$3={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect$3,{shadow:effect$3.boxShadow});const space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});const scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},typography$2={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(a){if(a===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform$1={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},list={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$1,ring,interactivity,grid,others,position$1,effect$3,space,scroll,typography$2,textDecoration,transform$1,list,transition$1);Object.assign({},space,layout$1,flexbox,grid,position$1);const propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=a=>a in styleProps,expandResponsive=a=>s=>{if(!s.__breakpoints)return a;const{isResponsive:et,toArrayValue:tt,media:at}=s.__breakpoints,ct={};for(const ut in a){let bt=runIfFn$1(a[ut],s);if(bt==null)continue;if(bt=isObject$3(bt)&&et(bt)?tt(bt):bt,!Array.isArray(bt)){ct[ut]=bt;continue}const wt=bt.slice(0,at.length).length;for(let Et=0;Et<wt;Et+=1){const Ft=at==null?void 0:at[Et];if(!Ft){ct[ut]=bt[Et];continue}ct[Ft]=ct[Ft]||{},bt[Et]!=null&&(ct[Ft][ut]=bt[Et])}}return ct};function splitByComma(a){const s=[];let et="",tt=!1;for(let at=0;at<a.length;at++){const ct=a[at];ct==="("?(tt=!0,et+=ct):ct===")"?(tt=!1,et+=ct):ct===","&&!tt?(s.push(et),et=""):et+=ct}return et=et.trim(),et&&s.push(et),s}function isCssVar(a){return/^var\(--.+\)$/.test(a)}const isCSSVariableTokenValue=(a,s)=>a.startsWith("--")&&typeof s=="string"&&!isCssVar(s),resolveTokenValue=(a,s)=>{if(s==null)return s;const et=ut=>{var bt,wt;return(wt=(bt=a.__cssMap)==null?void 0:bt[ut])==null?void 0:wt.varRef},tt=ut=>et(ut)??ut,[at,ct]=splitByComma(s);return s=et(at)??tt(ct)??tt(s),s};function getCss(a){const{configs:s={},pseudos:et={},theme:tt}=a,at=(ct,ut=!1)=>{var Ft;const bt=runIfFn$1(ct,tt),wt=expandResponsive(bt)(tt);let Et={};for(let jt in wt){const Lt=wt[jt];let Ut=runIfFn$1(Lt,tt);jt in et&&(jt=et[jt]),isCSSVariableTokenValue(jt,Ut)&&(Ut=resolveTokenValue(tt,Ut));let Vt=s[jt];if(Vt===!0&&(Vt={property:jt}),isObject$3(Ut)){Et[jt]=Et[jt]??{},Et[jt]=mergeWith({},Et[jt],at(Ut,!0));continue}let Yt=((Ft=Vt==null?void 0:Vt.transform)==null?void 0:Ft.call(Vt,Ut,tt,bt))??Ut;Yt=Vt!=null&&Vt.processResult?at(Yt,!0):Yt;const er=runIfFn$1(Vt==null?void 0:Vt.property,tt);if(!ut&&(Vt!=null&&Vt.static)){const tr=runIfFn$1(Vt.static,tt);Et=mergeWith({},Et,tr)}if(er&&Array.isArray(er)){for(const tr of er)Et[tr]=Yt;continue}if(er){er==="&"&&isObject$3(Yt)?Et=mergeWith({},Et,Yt):Et[er]=Yt;continue}if(isObject$3(Yt)){Et=mergeWith({},Et,Yt);continue}Et[jt]=Yt}return Et};return at}const css$2=a=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(a);function defineStyle$1(a){return a}function defineStyleConfig$1(a){return a}function createMultiStyleConfigHelpers(a){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:a,...s}}}}function getCSSVar(a,s,et){var tt,at;return((at=(tt=a.__cssMap)==null?void 0:tt[`${s}.${et}`])==null?void 0:at.varRef)??et}function normalize$3(a,s){if(Array.isArray(a))return a;if(isObject$3(a))return s(a);if(a!=null)return[a]}function getNextIndex$1(a,s){for(let et=s+1;et<a.length;et++)if(a[et]!=null)return et;return-1}function createResolver(a){const s=a.__breakpoints;return function(tt,at,ct,ut){var Lt,Ut;if(!s)return;const bt={},wt=normalize$3(ct,s.toArrayValue);if(!wt)return bt;const Et=wt.length,Ft=Et===1,jt=!!tt.parts;for(let Vt=0;Vt<Et;Vt++){const Yt=s.details[Vt],er=s.details[getNextIndex$1(wt,Vt)],tr=toMediaQueryString(Yt.minW,er==null?void 0:er._minW),nr=runIfFn$1((Lt=tt[at])==null?void 0:Lt[wt[Vt]],ut);if(nr){if(jt){(Ut=tt.parts)==null||Ut.forEach(ir=>{mergeWith(bt,{[ir]:Ft?nr[ir]:{[tr]:nr[ir]}})});continue}if(!jt){Ft?mergeWith(bt,nr):bt[tr]=nr;continue}bt[tr]=nr}}return bt}}function resolveStyleConfig(a){return s=>{const{variant:et,size:tt,theme:at}=s,ct=createResolver(at);return mergeWith({},runIfFn$1(a.baseStyle??{},s),ct(a,"sizes",tt,s),ct(a,"variants",et,s))}}function omitThemingProps(a){return omit(a,["styleConfig","size","variant","colorScheme"])}function resolveReference(a){return isObject$3(a)&&a.reference?a.reference:String(a)}const toExpression=(a,...s)=>s.map(resolveReference).join(` ${a} `).replace(/calc/g,""),add$2=(...a)=>`calc(${toExpression("+",...a)})`,subtract$1=(...a)=>`calc(${toExpression("-",...a)})`,multiply$1=(...a)=>`calc(${toExpression("*",...a)})`,divide$2=(...a)=>`calc(${toExpression("/",...a)})`,negate$1=a=>{const s=resolveReference(a);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc$1=Object.assign(a=>({add:(...s)=>calc$1(add$2(a,...s)),subtract:(...s)=>calc$1(subtract$1(a,...s)),multiply:(...s)=>calc$1(multiply$1(a,...s)),divide:(...s)=>calc$1(divide$2(a,...s)),negate:()=>calc$1(negate$1(a)),toString:()=>a.toString()}),{add:add$2,subtract:subtract$1,multiply:multiply$1,divide:divide$2,negate:negate$1});function replaceWhiteSpace$1(a,s="-"){return a.replace(/\s+/g,s)}function escape$3(a){const s=replaceWhiteSpace$1(a.toString());return escapeSymbol(escapeDot(s))}function escapeDot(a){return a.includes("\\.")?a:!Number.isInteger(parseFloat(a.toString()))?a.replace(".","\\."):a}function escapeSymbol(a){return a.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(a,s=""){return[s,a].filter(Boolean).join("-")}function toVarReference(a,s){return`var(${a}${s?`, ${s}`:""})`}function toVarDefinition(a,s=""){return escape$3(`--${addPrefix$1(a,s)}`)}function cssVar$1(a,s,et){const tt=toVarDefinition(a,et);return{variable:tt,reference:toVarReference(tt,s)}}function defineCssVars(a,s){const et={};for(const tt of s){if(Array.isArray(tt)){const[at,ct]=tt;et[at]=cssVar$1(`${a}-${at}`,ct);continue}et[tt]=cssVar$1(`${a}-${tt}`)}return et}const tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(a){return pick(a,tokens)}function extractSemanticTokens(a){return a.semanticTokens}function omitVars(a){const{__cssMap:s,__cssVars:et,__breakpoints:tt,...at}=a;return at}function flattenTokens(a){const s=extractTokens(a),et=extractSemanticTokens(a),tt=ct=>pseudoPropNames.includes(ct)||ct==="default",at={};return walkObject(s,(ct,ut)=>{ct!=null&&(at[ut.join(".")]={isSemantic:!1,value:ct})}),walkObject(et,(ct,ut)=>{ct!=null&&(at[ut.join(".")]={isSemantic:!0,value:ct})},{stop:ct=>Object.keys(ct).every(tt)}),at}function tokenToCssVar(a,s){return cssVar$1(String(a).replace(/\./g,"-"),void 0,s)}function createThemeVars(a){var ut;const s=flattenTokens(a),et=(ut=a.config)==null?void 0:ut.cssVarPrefix;let tt={};const at={};function ct(bt,wt){const Ft=[String(bt).split(".")[0],wt].join(".");if(!s[Ft])return wt;const{reference:Lt}=tokenToCssVar(Ft,et);return Lt}for(const[bt,wt]of Object.entries(s)){const{isSemantic:Et,value:Ft}=wt,{variable:jt,reference:Lt}=tokenToCssVar(bt,et);if(!Et){if(bt.startsWith("space")){const Vt=bt.split("."),[Yt,...er]=Vt,tr=`${Yt}.-${er.join(".")}`,nr=calc$1.negate(Ft),ir=calc$1.negate(Lt);at[tr]={value:nr,var:jt,varRef:ir}}tt[jt]=Ft,at[bt]={value:Ft,var:jt,varRef:Lt};continue}const Ut=isObject$3(Ft)?Ft:{default:Ft};tt=mergeWith(tt,Object.entries(Ut).reduce((Vt,[Yt,er])=>{if(!er)return Vt;const tr=ct(bt,`${er}`);if(Yt==="default")return Vt[jt]=tr,Vt;const nr=(pseudoSelectors==null?void 0:pseudoSelectors[Yt])??Yt;return Vt[nr]={[jt]:tr},Vt},{})),at[bt]={value:Lt,var:jt,varRef:Lt}}return{cssVars:tt,cssMap:at}}function toCSSVar(a){const s=omitVars(a),{cssMap:et,cssVars:tt}=createThemeVars(s);return Object.assign(s,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...tt},__cssMap:et,__breakpoints:analyzeBreakpoints(s.breakpoints)}),s}function anatomy(a,s={}){let et=!1;function tt(){if(!et){et=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function at(...Ft){tt();for(const jt of Ft)s[jt]=wt(jt);return anatomy(a,s)}function ct(...Ft){for(const jt of Ft)jt in s||(s[jt]=wt(jt));return anatomy(a,s)}function ut(){return Object.fromEntries(Object.entries(s).map(([jt,Lt])=>[jt,Lt.selector]))}function bt(){return Object.fromEntries(Object.entries(s).map(([jt,Lt])=>[jt,Lt.className]))}function wt(Ft){const Ut=`chakra-${(["container","root"].includes(Ft??"")?[a]:[a,Ft]).filter(Boolean).join("__")}`;return{className:Ut,selector:`.${Ut}`,toString:()=>Ft}}return{parts:at,toPart:wt,extend:ct,selectors:ut,classnames:bt,get keys(){return Object.keys(s)},__type:{}}}const accordionAnatomy=anatomy("accordion").parts("root","container","button","panel","icon"),alertAnatomy=anatomy("alert").parts("title","description","container","icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container","excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container","separator");anatomy("button").parts();const checkboxAnatomy=anatomy("checkbox").parts("control","icon","container","label");anatomy("progress").parts("track","filledTrack","label");const drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item","groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");const popoverAnatomy=anatomy("popover").parts("content","header","body","footer","popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$4={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon$6={fontSize:"1.25em"},baseStyle$H=definePartsStyle$p({container:baseStyleContainer$4,button:baseStyleButton$1,panel:baseStylePanel,icon:baseStyleIcon$6}),accordionTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$H});function guard(a,s,et){return Math.min(Math.max(a,et),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(a){if(typeof a!="string")throw new ColorError$1(a);if(a.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=a.trim();s=namedColorRegex.test(a)?nameToHex(a):a;const et=reducedHexRegex.exec(s);if(et){const ut=Array.from(et).slice(1);return[...ut.slice(0,3).map(bt=>parseInt(r$3(bt,2),16)),parseInt(r$3(ut[3]||"f",2),16)/255]}const tt=hexRegex.exec(s);if(tt){const ut=Array.from(tt).slice(1);return[...ut.slice(0,3).map(bt=>parseInt(bt,16)),parseInt(ut[3]||"ff",16)/255]}const at=rgbaRegex.exec(s);if(at){const ut=Array.from(at).slice(1);return[...ut.slice(0,3).map(bt=>parseInt(bt,10)),parseFloat(ut[3]||"1")]}const ct=hslaRegex.exec(s);if(ct){const[ut,bt,wt,Et]=Array.from(ct).slice(1).map(parseFloat);if(guard(0,100,bt)!==bt)throw new ColorError$1(a);if(guard(0,100,wt)!==wt)throw new ColorError$1(a);return[...hslToRgb(ut,bt,wt),Number.isNaN(Et)?1:Et]}throw new ColorError$1(a)}function hash$5(a){let s=5381,et=a.length;for(;et;)s=s*33^a.charCodeAt(--et);return(s>>>0)%2341}const colorToInt=a=>parseInt(a.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((a,s)=>{const et=colorToInt(s.substring(0,3)),tt=colorToInt(s.substring(3)).toString(16);let at="";for(let ct=0;ct<6-tt.length;ct++)at+="0";return a[et]=`${at}${tt}`,a},{});function nameToHex(a){const s=a.toLowerCase().trim(),et=compressedColorMap[hash$5(s)];if(!et)throw new ColorError$1(a);return`#${et}`}const r$3=(a,s)=>Array.from(Array(s)).map(()=>a).join(""),reducedHexRegex=new RegExp(`^#${r$3("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$3("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$3(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=a=>Math.round(a*255),hslToRgb=(a,s,et)=>{let tt=et/100;if(s===0)return[tt,tt,tt].map(roundColor);const at=(a%360+360)%360/60,ct=(1-Math.abs(2*tt-1))*(s/100),ut=ct*(1-Math.abs(at%2-1));let bt=0,wt=0,Et=0;at>=0&&at<1?(bt=ct,wt=ut):at>=1&&at<2?(bt=ut,wt=ct):at>=2&&at<3?(wt=ct,Et=ut):at>=3&&at<4?(wt=ut,Et=ct):at>=4&&at<5?(bt=ut,Et=ct):at>=5&&at<6&&(bt=ct,Et=ut);const Ft=tt-ct/2,jt=bt+Ft,Lt=wt+Ft,Ut=Et+Ft;return[jt,Lt,Ut].map(roundColor)};function rgba$1(a,s,et,tt){return`rgba(${guard(0,255,a).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,et).toFixed()}, ${parseFloat(guard(0,1,tt).toFixed(3))})`}function transparentize$1(a,s){const[et,tt,at,ct]=parseToRgba(a);return rgba$1(et,tt,at,ct-s)}function toHex$1(a){const[s,et,tt,at]=parseToRgba(a);let ct=ut=>{const bt=guard(0,255,ut).toString(16);return bt.length===1?`0${bt}`:bt};return`#${ct(s)}${ct(et)}${ct(tt)}${at<1?ct(Math.round(at*255)):""}`}const isEmptyObject$2=a=>Object.keys(a).length===0;function get$2(a,s,et,tt,at){for(s=s.split?s.split("."):s,tt=0;tt<s.length;tt++)a=a?a[s[tt]]:at;return a===at?et:a}const getColor=(a,s,et)=>{const tt=get$2(a,`colors.${s}`,s);try{return toHex$1(tt),tt}catch{return et??"#000000"}},getBrightness=a=>{const[s,et,tt]=parseToRgba(a);return(s*299+et*587+tt*114)/1e3},tone=a=>s=>{const et=getColor(s,a);return getBrightness(et)<128?"dark":"light"},isDark=a=>s=>tone(a)(s)==="dark",transparentize=(a,s)=>et=>{const tt=getColor(et,a);return transparentize$1(tt,1-s)};function generateStripe(a="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${a} ${a}`}}const randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(a){const s=randomHex();return!a||isEmptyObject$2(a)?s:a.string&&a.colors?randomColorFromList(a.string,a.colors):a.string&&!a.colors?randomColorFromString(a.string):a.colors&&!a.string?randomFromList(a.colors):s}function randomColorFromString(a){let s=0;if(a.length===0)return s.toString();for(let tt=0;tt<a.length;tt+=1)s=a.charCodeAt(tt)+((s<<5)-s),s=s&s;let et="#";for(let tt=0;tt<3;tt+=1){const at=s>>tt*8&255;et+=`00${at.toString(16)}`.substr(-2)}return et}function randomColorFromList(a,s){let et=0;if(a.length===0)return s[0];for(let tt=0;tt<a.length;tt+=1)et=a.charCodeAt(tt)+((et<<5)-et),et=et&et;return et=(et%s.length+s.length)%s.length,s[et]}function randomFromList(a){return a[Math.floor(Math.random()*a.length)]}function mode(a,s){return et=>et.colorMode==="dark"?s:a}function orient$2(a){const{orientation:s,vertical:et,horizontal:tt}=a;return s?s==="vertical"?et:tt:{}}function toRef(a){return isObject$3(a)&&a.reference?a.reference:String(a)}const toExpr=(a,...s)=>s.map(toRef).join(` ${a} `).replace(/calc/g,""),add$1=(...a)=>`calc(${toExpr("+",...a)})`,subtract=(...a)=>`calc(${toExpr("-",...a)})`,multiply=(...a)=>`calc(${toExpr("*",...a)})`,divide$1=(...a)=>`calc(${toExpr("/",...a)})`,negate=a=>{const s=toRef(a);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply(s,-1)},calc=Object.assign(a=>({add:(...s)=>calc(add$1(a,...s)),subtract:(...s)=>calc(subtract(a,...s)),multiply:(...s)=>calc(multiply(a,...s)),divide:(...s)=>calc(divide$1(a,...s)),negate:()=>calc(negate(a)),toString:()=>a.toString()}),{add:add$1,subtract,multiply,divide:divide$1,negate});function isDecimal$1(a){return!Number.isInteger(parseFloat(a.toString()))}function replaceWhiteSpace(a,s="-"){return a.replace(/\s+/g,s)}function escape$2(a){const s=replaceWhiteSpace(a.toString());return s.includes("\\.")?a:isDecimal$1(a)?s.replace(".","\\."):a}function addPrefix(a,s=""){return[s,escape$2(a)].filter(Boolean).join("-")}function toVarRef(a,s){return`var(${escape$2(a)}${s?`, ${s}`:""})`}function toVar$1(a,s=""){return`--${addPrefix(a,s)}`}function cssVar(a,s){const et=toVar$1(a,s==null?void 0:s.prefix);return{variable:et,reference:toVarRef(et,getFallback(s==null?void 0:s.fallback))}}function getFallback(a){return a==null?void 0:a.reference}const{definePartsStyle:definePartsStyle$o,defineMultiStyleConfig:defineMultiStyleConfig$o}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg$5=cssVar$1("alert-fg"),$bg$f=cssVar$1("alert-bg"),baseStyle$G=definePartsStyle$o({container:{bg:$bg$f.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(a){const{theme:s,colorScheme:et}=a,tt=transparentize(`${et}.200`,.16)(s);return{light:`colors.${et}.100`,dark:tt}}const variantSubtle$1=definePartsStyle$o(a=>{const{colorScheme:s}=a,et=getBg(a);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:et.dark}}}}),variantLeftAccent=definePartsStyle$o(a=>{const{colorScheme:s}=a,et=getBg(a);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:et.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg$5.reference}}}),variantTopAccent=definePartsStyle$o(a=>{const{colorScheme:s}=a,et=getBg(a);return{container:{[$fg$5.variable]:`colors.${s}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${s}.200`,[$bg$f.variable]:et.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg$5.reference}}}),variantSolid$3=definePartsStyle$o(a=>{const{colorScheme:s}=a;return{container:{[$fg$5.variable]:"colors.white",[$bg$f.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:"colors.gray.900",[$bg$f.variable]:`colors.${s}.200`},color:$fg$5.reference}}}),variants$g={subtle:variantSubtle$1,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid$3},alertTheme$1=defineMultiStyleConfig$o({baseStyle:baseStyle$G,variants:variants$g,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},isFunction$3=a=>typeof a=="function";function runIfFn(a,...s){return isFunction$3(a)?a(...s):a}const{definePartsStyle:definePartsStyle$n,defineMultiStyleConfig:defineMultiStyleConfig$n}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border$3=cssVar$1("avatar-border-color"),$bg$e=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size$4=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border$3.reference,[$border$3.variable]:"white",_dark:{[$border$3.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg$e.reference,fontSize:$fs.reference,width:$size$4.reference,height:$size$4.reference,lineHeight:"1",[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"}},baseStyleContainer$3=a=>{const{name:s,theme:et}=a,tt=s?randomColor({string:s}):"colors.gray.400",at=isDark(tt)(et);let ct="white";return at||(ct="gray.800"),{bg:$bg$e.reference,fontSize:$fs.reference,color:ct,borderColor:$border$3.reference,verticalAlign:"top",width:$size$4.reference,height:$size$4.reference,"&:not([data-loaded])":{[$bg$e.variable]:tt},[$border$3.variable]:"colors.white",_dark:{[$border$3.variable]:"colors.gray.800"}}},baseStyleLabel$4={fontSize:$fs.reference,lineHeight:"1"},baseStyle$F=definePartsStyle$n(a=>({badge:runIfFn(baseStyleBadge,a),excessLabel:runIfFn(baseStyleExcessLabel,a),container:runIfFn(baseStyleContainer$3,a),label:baseStyleLabel$4}));function getSize$3(a){const s=a!=="100%"?sizes$m[a]:void 0;return definePartsStyle$n({container:{[$size$4.variable]:s??a,[$fs.variable]:`calc(${s??a} / 2.5)`},excessLabel:{[$size$4.variable]:s??a,[$fs.variable]:`calc(${s??a} / 2.5)`}})}const sizes$l={"2xs":getSize$3(4),xs:getSize$3(6),sm:getSize$3(8),md:getSize$3(12),lg:getSize$3(16),xl:getSize$3(24),"2xl":getSize$3(32),full:getSize$3("100%")},avatarTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$F,sizes:sizes$l,defaultProps:{size:"md"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$E={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$2=a=>{const{colorScheme:s,theme:et}=a,tt=transparentize(`${s}.500`,.6)(et);return{[vars.bg.variable]:`colors.${s}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:tt,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle=a=>{const{colorScheme:s,theme:et}=a,tt=transparentize(`${s}.200`,.16)(et);return{[vars.bg.variable]:`colors.${s}.100`,[vars.color.variable]:`colors.${s}.800`,_dark:{[vars.bg.variable]:tt,[vars.color.variable]:`colors.${s}.200`}}},variantOutline$2=a=>{const{colorScheme:s,theme:et}=a,tt=transparentize(`${s}.200`,.8)(et);return{[vars.color.variable]:`colors.${s}.500`,_dark:{[vars.color.variable]:tt},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$f={solid:variantSolid$2,subtle:variantSubtle,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$E,variants:variants$f,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$D=definePartsStyle$m({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$D}),baseStyle$C={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=a=>{const{colorScheme:s,theme:et}=a;if(s==="gray")return{color:mode("gray.800","whiteAlpha.900")(a),_hover:{bg:mode("gray.100","whiteAlpha.200")(a)},_active:{bg:mode("gray.200","whiteAlpha.300")(a)}};const tt=transparentize(`${s}.200`,.12)(et),at=transparentize(`${s}.200`,.24)(et);return{color:mode(`${s}.600`,`${s}.200`)(a),bg:"transparent",_hover:{bg:mode(`${s}.50`,tt)(a)},_active:{bg:mode(`${s}.100`,at)(a)}}},variantOutline$1=a=>{const{colorScheme:s}=a,et=mode("gray.200","whiteAlpha.300")(a);return{border:"1px solid",borderColor:s==="gray"?et:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn(variantGhost,a)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$1=a=>{const{colorScheme:s}=a;if(s==="gray"){const bt=mode("gray.100","whiteAlpha.200")(a);return{bg:bt,color:mode("gray.800","whiteAlpha.900")(a),_hover:{bg:mode("gray.200","whiteAlpha.300")(a),_disabled:{bg:bt}},_active:{bg:mode("gray.300","whiteAlpha.400")(a)}}}const{bg:et=`${s}.500`,color:tt="white",hoverBg:at=`${s}.600`,activeBg:ct=`${s}.700`}=accessibleColorMap[s]??{},ut=mode(et,`${s}.200`)(a);return{bg:ut,color:mode(tt,"gray.800")(a),_hover:{bg:mode(at,`${s}.300`)(a),_disabled:{bg:ut}},_active:{bg:mode(ct,`${s}.400`)(a)}}},variantLink=a=>{const{colorScheme:s}=a;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(a),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(a)}}},variantUnstyled$2={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$e={ghost:variantGhost,outline:variantOutline$1,solid:variantSolid$1,link:variantLink,unstyled:variantUnstyled$2},sizes$k={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme$1={baseStyle:baseStyle$C,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$l,defineMultiStyleConfig:defineMultiStyleConfig$l}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$d=cssVar$1("card-bg"),$padding$1=cssVar$1("card-padding"),$shadow$3=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$2=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$B=definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-body-bg",backgroundColor:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$2.reference,borderColor:$borderColor.reference},body:{padding:$padding$1.reference,flex:"1 1 0%"},header:{padding:$padding$1.reference},footer:{padding:$padding$1.reference}}),sizes$j={sm:definePartsStyle$l({container:{[$radius.variable]:"radii.base",[$padding$1.variable]:"space.3"}}),md:definePartsStyle$l({container:{[$radius.variable]:"radii.md",[$padding$1.variable]:"space.5"}}),lg:definePartsStyle$l({container:{[$radius.variable]:"radii.xl",[$padding$1.variable]:"space.7"}})},variants$d={elevated:definePartsStyle$l({container:{[$shadow$3.variable]:"shadows.base",_dark:{[$bg$d.variable]:"colors.gray.700"}}}),outline:definePartsStyle$l({container:{[$border$2.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding$1.variable]:0},header:{[$padding$1.variable]:0},footer:{[$padding$1.variable]:0}}},cardTheme$1=defineMultiStyleConfig$l({baseStyle:baseStyle$B,variants:variants$d,sizes:sizes$j,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=a=>{const{colorScheme:s}=a;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(a),borderColor:mode(`${s}.500`,`${s}.200`)(a),color:mode("white","gray.900")(a),_hover:{bg:mode(`${s}.600`,`${s}.300`)(a),borderColor:mode(`${s}.600`,`${s}.300`)(a)},_disabled:{borderColor:mode("gray.200","transparent")(a),bg:mode("gray.200","whiteAlpha.300")(a),color:mode("gray.500","whiteAlpha.500")(a)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(a),borderColor:mode(`${s}.500`,`${s}.200`)(a),color:mode("white","gray.900")(a)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(a),borderColor:mode("gray.100","transparent")(a)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(a)}}},baseStyleContainer$2={_disabled:{cursor:"not-allowed"}},baseStyleLabel$3={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$A=definePartsStyle$k(a=>({icon:baseStyleIcon$5,container:baseStyleContainer$2,control:runIfFn(baseStyleControl$1,a),label:baseStyleLabel$3})),sizes$i={sm:definePartsStyle$k({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$k({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$k({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme$1=defineMultiStyleConfig$k({baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("close-button-size"),$bg$c=cssVar("close-button-bg"),baseStyle$z={w:[$size$2.reference],h:[$size$2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$c.variable]:"colors.blackAlpha.100",_dark:{[$bg$c.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$c.variable]:"colors.blackAlpha.200",_dark:{[$bg$c.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$c.reference},sizes$h={lg:{[$size$2.variable]:"sizes.10",fontSize:"md"},md:{[$size$2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$z,sizes:sizes$h,defaultProps:{size:"md"}},{variants:variants$c,defaultProps}=badgeTheme,baseStyle$y={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$y,variants:variants$c,defaultProps},baseStyle$x={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$x},baseStyle$w={opacity:.6,borderColor:"inherit"},variantSolid={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$b={solid:variantSolid,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$w,variants:variants$b,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$j,defineMultiStyleConfig:defineMultiStyleConfig$j}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$b=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$2(a){return definePartsStyle$j(a==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:a}})}const baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog$1=a=>{const{isFullHeight:s}=a;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$b.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$b.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$b.reference,boxShadow:$bs.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$3={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter$2={px:"6",py:"4"},baseStyle$v=definePartsStyle$j(a=>({overlay:baseStyleOverlay$1,dialogContainer:baseStyleDialogContainer$1,dialog:runIfFn(baseStyleDialog$1,a),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$3,body:baseStyleBody$2,footer:baseStyleFooter$2})),sizes$g={xs:getSize$2("xs"),sm:getSize$2("md"),md:getSize$2("lg"),lg:getSize$2("2xl"),xl:getSize$2("4xl"),full:getSize$2("full")},drawerTheme$1=defineMultiStyleConfig$j({baseStyle:baseStyle$v,sizes:sizes$g,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$u=definePartsStyle$i({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$u}),{definePartsStyle:definePartsStyle$h,defineMultiStyleConfig:defineMultiStyleConfig$h}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$4=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$4.variable]:"colors.red.500",_dark:{[$fg$4.variable]:"colors.red.300"},color:$fg$4.reference},baseStyleHelperText={mt:"2",[$fg$4.variable]:"colors.gray.600",_dark:{[$fg$4.variable]:"colors.whiteAlpha.600"},color:$fg$4.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$t=definePartsStyle$h({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme$1=defineMultiStyleConfig$h({baseStyle:baseStyle$t}),{definePartsStyle:definePartsStyle$g,defineMultiStyleConfig:defineMultiStyleConfig$g}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$3=cssVar$1("form-error-color"),baseStyleText={[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$4={marginEnd:"0.5em",[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference},baseStyle$s=definePartsStyle$g({text:baseStyleText,icon:baseStyleIcon$4}),formErrorTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$s}),baseStyle$r={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$r},baseStyle$q={fontFamily:"heading",fontWeight:"bold"},sizes$f={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme$1={baseStyle:baseStyle$q,sizes:sizes$f,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height$1=cssVar$1("input-height"),$fontSize$1=cssVar$1("input-font-size"),$padding=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$p=definePartsStyle$f({addon:{height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize$1.variable]:"fontSizes.lg",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.12"},md:{[$fontSize$1.variable]:"fontSizes.md",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.10"},sm:{[$fontSize$1.variable]:"fontSizes.sm",[$padding.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.8"},xs:{[$fontSize$1.variable]:"fontSizes.xs",[$padding.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.6"}},sizes$e={lg:definePartsStyle$f({field:size.lg,group:size.lg}),md:definePartsStyle$f({field:size.md,group:size.md}),sm:definePartsStyle$f({field:size.sm,group:size.sm}),xs:definePartsStyle$f({field:size.xs,group:size.xs})};function getDefaults(a){const{focusBorderColor:s,errorBorderColor:et}=a;return{focusBorderColor:s||mode("blue.500","blue.300")(a),errorBorderColor:et||mode("red.500","red.300")(a)}}const variantOutline=definePartsStyle$f(a=>{const{theme:s}=a,{focusBorderColor:et,errorBorderColor:tt}=getDefaults(a);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,tt),boxShadow:`0 0 0 1px ${getColor(s,tt)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,et),boxShadow:`0 0 0 1px ${getColor(s,et)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(a),bg:mode("gray.100","whiteAlpha.300")(a)}}}),variantFilled=definePartsStyle$f(a=>{const{theme:s}=a,{focusBorderColor:et,errorBorderColor:tt}=getDefaults(a);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(a),_hover:{bg:mode("gray.200","whiteAlpha.100")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,tt)},_focusVisible:{bg:"transparent",borderColor:getColor(s,et)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(a)}}}),variantFlushed=definePartsStyle$f(a=>{const{theme:s}=a,{focusBorderColor:et,errorBorderColor:tt}=getDefaults(a);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,tt),boxShadow:`0px 1px 0px 0px ${getColor(s,tt)}`},_focusVisible:{borderColor:getColor(s,et),boxShadow:`0px 1px 0px 0px ${getColor(s,et)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$f({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme$1=defineMultiStyleConfig$f({baseStyle:baseStyle$p,sizes:sizes$e,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),$bg$a=cssVar$1("kbd-bg"),baseStyle$o={[$bg$a.variable]:"colors.gray.100",_dark:{[$bg$a.variable]:"colors.whiteAlpha.100"},bg:$bg$a.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$o},baseStyle$n={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$n},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$m=definePartsStyle$e({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$m}),{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$9=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$9.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$9.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:$bg$9.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$9.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton={transitionProperty:"common",transitionDuration:"normal"},baseStyle$l=definePartsStyle$d({button:baseStyleButton,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme$1=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$8=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer=a=>{const{isCentered:s,scrollBehavior:et}=a;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:et==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog=a=>{const{isCentered:s,scrollBehavior:et}=a;return{borderRadius:"md",color:"inherit",my:s?"auto":"16",mx:s?"auto":void 0,zIndex:"modal",maxH:et==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$8.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$8.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$8.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$1={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$1=a=>{const{scrollBehavior:s}=a;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$1={px:"6",py:"4"},baseStyle$k=definePartsStyle$c(a=>({overlay:baseStyleOverlay,dialogContainer:runIfFn(baseStyleDialogContainer,a),dialog:runIfFn(baseStyleDialog,a),header:baseStyleHeader$1,closeButton:baseStyleCloseButton$2,body:runIfFn(baseStyleBody$1,a),footer:baseStyleFooter$1}));function getSize$1(a){return definePartsStyle$c(a==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:a}})}const sizes$d={xs:getSize$1("xs"),sm:getSize$1("sm"),md:getSize$1("md"),lg:getSize$1("lg"),xl:getSize$1("xl"),"2xl":getSize$1("2xl"),"3xl":getSize$1("3xl"),"4xl":getSize$1("4xl"),"5xl":getSize$1("5xl"),"6xl":getSize$1("6xl"),full:getSize$1("full")},modalTheme$1=defineMultiStyleConfig$c({baseStyle:baseStyle$k,sizes:sizes$d,defaultProps:{size:"md"}}),typography$1={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$7=cssVar("number-input-bg"),$fg$2=cssVar("number-input-color"),$border$1=cssVar("number-input-border-color"),baseStyleRoot$1={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField$1=a=>{var s;return((s=runIfFn(inputTheme$1.baseStyle,a))==null?void 0:s.field)??{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$1.reference,color:$fg$2.reference,bg:$bg$7.reference,[$fg$2.variable]:"colors.chakra-body-text",[$border$1.variable]:"colors.chakra-border-color",_dark:{[$fg$2.variable]:"colors.whiteAlpha.800",[$border$1.variable]:"colors.whiteAlpha.300"},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$j=definePartsStyle$b(a=>({root:baseStyleRoot$1,field:runIfFn(baseStyleField$1,a)??{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}));function getSize(a){var ct,ut;const s=(ct=inputTheme$1.sizes)==null?void 0:ct[a],et={lg:"md",md:"md",sm:"sm",xs:"sm"},tt=((ut=s.field)==null?void 0:ut.fontSize)??"md",at=typography$1.fontSizes[tt];return definePartsStyle$b({field:{...s.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(at).multiply(.75).toString(),_first:{borderTopEndRadius:et[a]},_last:{borderBottomEndRadius:et[a],mt:"-1px",borderTopWidth:1}}})}const sizes$c={xs:getSize("xs"),sm:getSize("sm"),md:getSize("md"),lg:getSize("lg")},numberInputTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$c,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps});var up;const baseStyle$i={...(up=inputTheme$1.baseStyle)==null?void 0:up.field,textAlign:"center"},sizes$b={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var dp;const variants$9={outline:a=>{var s,et;return((et=runIfFn((s=inputTheme$1.variants)==null?void 0:s.outline,a))==null?void 0:et.field)??{}},flushed:a=>{var s,et;return((et=runIfFn((s=inputTheme$1.variants)==null?void 0:s.flushed,a))==null?void 0:et.field)??{}},filled:a=>{var s,et;return((et=runIfFn((s=inputTheme$1.variants)==null?void 0:s.filled,a))==null?void 0:et.field)??{}},unstyled:((dp=inputTheme$1.variants)==null?void 0:dp.unstyled.field)??{}},pinInputTheme={baseStyle:baseStyle$i,sizes:sizes$b,variants:variants$9,defaultProps:inputTheme$1.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg$1=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:"popover"},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg$1.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody={px:3,py:2},baseStyleFooter={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$h=definePartsStyle$a({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader,body:baseStyleBody,footer:baseStyleFooter,closeButton:baseStyleCloseButton$1}),popoverTheme$1=defineMultiStyleConfig$a({baseStyle:baseStyle$h}),{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=a=>{const{colorScheme:s,theme:et,isIndeterminate:tt,hasStripe:at}=a,ct=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(a),ut=mode(`${s}.500`,`${s}.200`)(a),bt=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(et,ut)} 50%,
    transparent 100%
  )`;return{...!tt&&at&&ct,...tt?{bgImage:bt}:{bgColor:ut}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$2=a=>({bg:mode("gray.100","whiteAlpha.300")(a)}),baseStyleFilledTrack$1=a=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(a)}),baseStyle$g=definePartsStyle$9(a=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(a),track:baseStyleTrack$2(a)})),sizes$a={xs:definePartsStyle$9({track:{h:"1"}}),sm:definePartsStyle$9({track:{h:"2"}}),md:definePartsStyle$9({track:{h:"3"}}),lg:definePartsStyle$9({track:{h:"4"}})},progressTheme$1=defineMultiStyleConfig$9({sizes:sizes$a,baseStyle:baseStyle$g,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$8,definePartsStyle:definePartsStyle$8}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=a=>{var et;const s=(et=runIfFn(checkboxTheme$1.baseStyle,a))==null?void 0:et.control;return{...s,borderRadius:"full",_checked:{...s==null?void 0:s._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$f=definePartsStyle$8(a=>{var s,et;return{label:(s=checkboxTheme$1.baseStyle)==null?void 0:s.call(checkboxTheme$1,a).label,container:(et=checkboxTheme$1.baseStyle)==null?void 0:et.call(checkboxTheme$1,a).container,control:baseStyleControl(a)}}),sizes$9={md:definePartsStyle$8({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$8({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$8({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$7,definePartsStyle:definePartsStyle$7}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$6=cssVar$1("select-bg");var fp;const baseStyleField={...(fp=inputTheme$1.baseStyle)==null?void 0:fp.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$6.reference,[$bg$6.variable]:"colors.white",_dark:{[$bg$6.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$6.reference}},baseStyleIcon$1={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$e=definePartsStyle$7({field:baseStyleField,icon:baseStyleIcon$1}),iconSpacing={paddingInlineEnd:"8"};var hp,pp,mp,gp,_p,vp,bp,yp;const sizes$8={lg:{...(hp=inputTheme$1.sizes)==null?void 0:hp.lg,field:{...(pp=inputTheme$1.sizes)==null?void 0:pp.lg.field,...iconSpacing}},md:{...(mp=inputTheme$1.sizes)==null?void 0:mp.md,field:{...(gp=inputTheme$1.sizes)==null?void 0:gp.md.field,...iconSpacing}},sm:{...(_p=inputTheme$1.sizes)==null?void 0:_p.sm,field:{...(vp=inputTheme$1.sizes)==null?void 0:vp.sm.field,...iconSpacing}},xs:{...(bp=inputTheme$1.sizes)==null?void 0:bp.xs,field:{...(yp=inputTheme$1.sizes)==null?void 0:yp.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e,sizes:sizes$8,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps}),$startColor$2=cssVar$1("skeleton-start-color"),$endColor$2=cssVar$1("skeleton-end-color"),baseStyle$d={[$startColor$2.variable]:"colors.gray.100",[$endColor$2.variable]:"colors.gray.400",_dark:{[$startColor$2.variable]:"colors.gray.800",[$endColor$2.variable]:"colors.gray.600"},background:$startColor$2.reference,borderColor:$endColor$2.reference,opacity:.7,borderRadius:"sm"},skeletonTheme$1={baseStyle:baseStyle$d},$bg$5=cssVar$1("skip-link-bg"),baseStyle$c={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$5.variable]:"colors.white",_dark:{[$bg$5.variable]:"colors.gray.700"},bg:$bg$5.reference}},skipLinkTheme={baseStyle:baseStyle$c},{defineMultiStyleConfig:defineMultiStyleConfig$6,definePartsStyle:definePartsStyle$6}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$4=cssVar$1("slider-bg"),baseStyleContainer$1=a=>{const{orientation:s}=a;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient$2({orientation:s,vertical:{h:"100%",px:calc$1($thumbSize.reference).divide(2).toString()},horizontal:{w:"100%",py:calc$1($thumbSize.reference).divide(2).toString()}})}},baseStyleTrack$1=a=>({...orient$2({orientation:a.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$4.variable]:"colors.gray.200",_dark:{[$bg$4.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$4.variable]:"colors.gray.300",_dark:{[$bg$4.variable]:"colors.whiteAlpha.300"}},bg:$bg$4.reference}),baseStyleThumb$1=a=>{const{orientation:s}=a;return{...orient$2({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=a=>{const{colorScheme:s}=a;return{width:"inherit",height:"inherit",[$bg$4.variable]:`colors.${s}.500`,_dark:{[$bg$4.variable]:`colors.${s}.200`},bg:$bg$4.reference}},baseStyle$b=definePartsStyle$6(a=>({container:baseStyleContainer$1(a),track:baseStyleTrack$1(a),thumb:baseStyleThumb$1(a),filledTrack:baseStyleFilledTrack(a)})),sizeLg=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$7={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme$1=defineMultiStyleConfig$6({baseStyle:baseStyle$b,sizes:sizes$7,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$a={width:[$size$1.reference],height:[$size$1.reference]},sizes$6={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$a,sizes:sizes$6,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$5,definePartsStyle:definePartsStyle$5}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$9=definePartsStyle$5({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon}),sizes$5={md:definePartsStyle$5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$9,sizes:sizes$5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$8=definePartsStyle$4(({colorScheme:a})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${a}.500`,_dark:{[$accentColor.variable]:`colors.${a}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size.reference,height:$size.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size.reference} - 8px)`,top:`calc(${$size.reference} + 4px)`,insetStart:`calc(${$size.reference} / 2 - 1px)`}}})),stepperTheme$1=defineMultiStyleConfig$4({baseStyle:baseStyle$8,sizes:{xs:definePartsStyle$4({stepper:{[$size.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$4({stepper:{[$size.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$4({stepper:{[$size.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$4({stepper:{[$size.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$3,definePartsStyle:definePartsStyle$3}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$3=cssVar("switch-bg"),baseStyleTrack=a=>{const{colorScheme:s}=a;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$3.variable]:"colors.gray.300",_dark:{[$bg$3.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$3.variable]:`colors.${s}.500`,_dark:{[$bg$3.variable]:`colors.${s}.200`}},bg:$bg$3.reference}},baseStyleThumb={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$7=definePartsStyle$3(a=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack(a),thumb:baseStyleThumb})),sizes$4={sm:definePartsStyle$3({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$3({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$3({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme$1=defineMultiStyleConfig$3({baseStyle:baseStyle$7,sizes:sizes$4,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$2,definePartsStyle:definePartsStyle$2}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$6=definePartsStyle$2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$2(a=>{const{colorScheme:s}=a;return{th:{color:mode("gray.600","gray.400")(a),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},caption:{color:mode("gray.600","gray.100")(a)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$2(a=>{const{colorScheme:s}=a;return{th:{color:mode("gray.600","gray.400")(a),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a),...numericStyles},caption:{color:mode("gray.600","gray.100")(a)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(a)},td:{background:mode(`${s}.100`,`${s}.700`)(a)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$8={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$3={sm:definePartsStyle$2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme$1=defineMultiStyleConfig$2({baseStyle:baseStyle$6,variants:variants$8,sizes:sizes$3,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$1=cssVar$1("tabs-color"),$bg$2=cssVar$1("tabs-bg"),$border=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$1,definePartsStyle:definePartsStyle$1}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot=a=>{const{orientation:s}=a;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=a=>{const{isFitted:s}=a;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=a=>{const{align:s="start",orientation:et}=a;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:et==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$5=definePartsStyle$1(a=>({root:baseStyleRoot(a),tab:baseStyleTab(a),tablist:baseStyleTablist(a),tabpanel:baseStyleTabpanel})),sizes$2={sm:definePartsStyle$1({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$1({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$1({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$1(a=>{const{colorScheme:s,orientation:et}=a,tt=et==="vertical",at=tt?"borderStart":"borderBottom",ct=tt?"marginStart":"marginBottom";return{tablist:{[at]:"2px solid",borderColor:"inherit"},tab:{[at]:"2px solid",borderColor:"transparent",[ct]:"-2px",_selected:{[$fg$1.variable]:`colors.${s}.600`,_dark:{[$fg$1.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$2.variable]:"colors.gray.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantEnclosed=definePartsStyle$1(a=>{const{colorScheme:s}=a;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border.variable]:"transparent",_selected:{[$fg$1.variable]:`colors.${s}.600`,[$border.variable]:"colors.white",_dark:{[$fg$1.variable]:`colors.${s}.300`,[$border.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border.reference},color:$fg$1.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$1(a=>{const{colorScheme:s}=a;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$2.variable]:"colors.gray.50",_dark:{[$bg$2.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$2.variable]:"colors.white",[$fg$1.variable]:`colors.${s}.600`,_dark:{[$bg$2.variable]:"colors.gray.800",[$fg$1.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$1.reference,bg:$bg$2.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$1(a=>{const{colorScheme:s,theme:et}=a;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(et,`${s}.700`),bg:getColor(et,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$1(a=>{const{colorScheme:s}=a;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$1.variable]:"colors.gray.600",_dark:{[$fg$1.variable]:"inherit"},_selected:{[$fg$1.variable]:"colors.white",[$bg$2.variable]:`colors.${s}.600`,_dark:{[$fg$1.variable]:"colors.gray.800",[$bg$2.variable]:`colors.${s}.300`}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantUnstyled=definePartsStyle$1({}),variants$7={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled},tabsTheme$1=defineMultiStyleConfig$1({baseStyle:baseStyle$5,sizes:sizes$2,variants:variants$7,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig,definePartsStyle}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$1=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$1.variable]:vars.bg.reference,[$shadow.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$1.reference,boxShadow:$shadow.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize.reference,px:$paddingX.reference,_focusVisible:{[$shadow.variable]:"shadows.outline"}},baseStyleLabel={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$4=definePartsStyle({container:baseStyleContainer,label:baseStyleLabel,closeButton:baseStyleCloseButton}),sizes$1={sm:definePartsStyle({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$6={subtle:definePartsStyle(a=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(a)}}),solid:definePartsStyle(a=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(a)}}),outline:definePartsStyle(a=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(a)}})},tagTheme=defineMultiStyleConfig({variants:variants$6,baseStyle:baseStyle$4,sizes:sizes$1,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var xp;const baseStyle$3={...(xp=inputTheme$1.baseStyle)==null?void 0:xp.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var wp;const variants$5={outline:a=>{var s;return((s=inputTheme$1.variants)==null?void 0:s.outline(a).field)??{}},flushed:a=>{var s;return((s=inputTheme$1.variants)==null?void 0:s.flushed(a).field)??{}},filled:a=>{var s;return((s=inputTheme$1.variants)==null?void 0:s.filled(a).field)??{}},unstyled:((wp=inputTheme$1.variants)==null?void 0:wp.unstyled.field)??{}};var Sp,$p,Ep,Cp;const sizes={xs:((Sp=inputTheme$1.sizes)==null?void 0:Sp.xs.field)??{},sm:(($p=inputTheme$1.sizes)==null?void 0:$p.sm.field)??{},md:((Ep=inputTheme$1.sizes)==null?void 0:Ep.md.field)??{},lg:((Cp=inputTheme$1.sizes)==null?void 0:Cp.lg.field)??{}},textareaTheme={baseStyle:baseStyle$3,sizes,variants:variants$5,defaultProps:{size:"md",variant:"outline"}},$bg=cssVar("tooltip-bg"),$fg=cssVar("tooltip-fg"),$arrowBg=cssVar("popper-arrow-bg"),baseStyle$2={bg:$bg.reference,color:$fg.reference,[$bg.variable]:"colors.gray.700",[$fg.variable]:"colors.whiteAlpha.900",_dark:{[$bg.variable]:"colors.gray.300",[$fg.variable]:"colors.gray.900"},[$arrowBg.variable]:$bg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme$1={baseStyle:baseStyle$2},components$1={Accordion:accordionTheme,Alert:alertTheme$1,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme$1,Checkbox:checkboxTheme$1,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme$1,Editable:editableTheme,Form:formTheme$1,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme$1,Input:inputTheme$1,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme$1,Modal:modalTheme$1,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme$1,Progress:progressTheme$1,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme$1,SkipLink:skipLinkTheme,Slider:sliderTheme$1,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme$1,Table:tableTheme$1,Tabs:tabsTheme$1,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme$1,Card:cardTheme$1,Stepper:stepperTheme$1},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},colors$1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},foundations$1={breakpoints:breakpoints$1,zIndices,radii,blur,colors:colors$1,...typography$1,sizes:sizes$m,shadows,space:spacing,borders:borders$1,transition},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles$1={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(a){return isObject$3(a)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(a,s)):!1}const direction="ltr",config$3={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations$1,components:components$1,styles:styles$1,config:config$3};function sheetForTag(a){if(a.sheet)return a.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===a)return document.styleSheets[s]}function createStyleElement(a){var s=document.createElement("style");return s.setAttribute("data-emotion",a.key),a.nonce!==void 0&&s.setAttribute("nonce",a.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function a(et){var tt=this;this._insertTag=function(at){var ct;tt.tags.length===0?tt.insertionPoint?ct=tt.insertionPoint.nextSibling:tt.prepend?ct=tt.container.firstChild:ct=tt.before:ct=tt.tags[tt.tags.length-1].nextSibling,tt.container.insertBefore(at,ct),tt.tags.push(at)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var s=a.prototype;return s.hydrate=function(tt){tt.forEach(this._insertTag)},s.insert=function(tt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var at=this.tags[this.tags.length-1];if(this.isSpeedy){var ct=sheetForTag(at);try{ct.insertRule(tt,ct.cssRules.length)}catch{}}else at.appendChild(document.createTextNode(tt));this.ctr++},s.flush=function(){this.tags.forEach(function(tt){var at;return(at=tt.parentNode)==null?void 0:at.removeChild(tt)}),this.tags=[],this.ctr=0},a}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$2=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$4(a,s){return charat(a,0)^45?(((s<<2^charat(a,0))<<2^charat(a,1))<<2^charat(a,2))<<2^charat(a,3):0}function trim$1(a){return a.trim()}function match(a,s){return(a=s.exec(a))?a[0]:a}function replace(a,s,et){return a.replace(s,et)}function indexof(a,s){return a.indexOf(s)}function charat(a,s){return a.charCodeAt(s)|0}function substr(a,s,et){return a.slice(s,et)}function strlen(a){return a.length}function sizeof(a){return a.length}function append(a,s){return s.push(a),a}function combine(a,s){return a.map(s).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node$1(a,s,et,tt,at,ct,ut){return{value:a,root:s,parent:et,type:tt,props:at,children:ct,line,column,length:ut,return:""}}function copy(a,s){return assign(node$1("",null,null,"",null,null,0),a,{length:-a.length},s)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(a,s){return substr(characters,a,s)}function token(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(a){return line=column=1,length=strlen(characters=a),position=0,[]}function dealloc(a){return characters="",a}function delimit(a){return trim$1(slice(position-1,delimiter(a===91?a+2:a===40?a+1:a)))}function whitespace(a){for(;(character=peek())&&character<33;)next();return token(a)>2||token(character)>3?"":" "}function escaping(a,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(a,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(a){for(;next();)switch(character){case a:return position;case 34:case 39:a!==34&&a!==39&&delimiter(character);break;case 40:a===41&&delimiter(a);break;case 92:next();break}return position}function commenter(a,s){for(;next()&&a+character!==57;)if(a+character===84&&peek()===47)break;return"/*"+slice(s,position-1)+"*"+from(a===47?a:next())}function identifier(a){for(;!token(peek());)next();return slice(a,position)}function compile(a){return dealloc(parse("",null,null,null,[""],a=alloc(a),0,[0],a))}function parse(a,s,et,tt,at,ct,ut,bt,wt){for(var Et=0,Ft=0,jt=ut,Lt=0,Ut=0,Vt=0,Yt=1,er=1,tr=1,nr=0,ir="",lr=at,pr=ct,yr=tt,br=ir;er;)switch(Vt=nr,nr=next()){case 40:if(Vt!=108&&charat(br,jt-1)==58){indexof(br+=replace(delimit(nr),"&","&\f"),"&\f")!=-1&&(tr=-1);break}case 34:case 39:case 91:br+=delimit(nr);break;case 9:case 10:case 13:case 32:br+=whitespace(Vt);break;case 92:br+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,et),wt);break;default:br+="/"}break;case 123*Yt:bt[Et++]=strlen(br)*tr;case 125*Yt:case 59:case 0:switch(nr){case 0:case 125:er=0;case 59+Ft:tr==-1&&(br=replace(br,/\f/g,"")),Ut>0&&strlen(br)-jt&&append(Ut>32?declaration(br+";",tt,et,jt-1):declaration(replace(br," ","")+";",tt,et,jt-2),wt);break;case 59:br+=";";default:if(append(yr=ruleset(br,s,et,Et,Ft,at,bt,ir,lr=[],pr=[],jt),ct),nr===123)if(Ft===0)parse(br,s,yr,yr,lr,ct,jt,bt,pr);else switch(Lt===99&&charat(br,3)===110?100:Lt){case 100:case 108:case 109:case 115:parse(a,yr,yr,tt&&append(ruleset(a,yr,yr,0,0,at,bt,ir,at,lr=[],jt),pr),at,pr,jt,bt,tt?lr:pr);break;default:parse(br,yr,yr,yr,[""],pr,0,bt,pr)}}Et=Ft=Ut=0,Yt=tr=1,ir=br="",jt=ut;break;case 58:jt=1+strlen(br),Ut=Vt;default:if(Yt<1){if(nr==123)--Yt;else if(nr==125&&Yt++==0&&prev()==125)continue}switch(br+=from(nr),nr*Yt){case 38:tr=Ft>0?1:(br+="\f",-1);break;case 44:bt[Et++]=(strlen(br)-1)*tr,tr=1;break;case 64:peek()===45&&(br+=delimit(next())),Lt=peek(),Ft=jt=strlen(ir=br+=identifier(caret())),nr++;break;case 45:Vt===45&&strlen(br)==2&&(Yt=0)}}return ct}function ruleset(a,s,et,tt,at,ct,ut,bt,wt,Et,Ft){for(var jt=at-1,Lt=at===0?ct:[""],Ut=sizeof(Lt),Vt=0,Yt=0,er=0;Vt<tt;++Vt)for(var tr=0,nr=substr(a,jt+1,jt=abs$2(Yt=ut[Vt])),ir=a;tr<Ut;++tr)(ir=trim$1(Yt>0?Lt[tr]+" "+nr:replace(nr,/&\f/g,Lt[tr])))&&(wt[er++]=ir);return node$1(a,s,et,at===0?RULESET:bt,wt,Et,Ft)}function comment(a,s,et){return node$1(a,s,et,COMMENT,from(char()),substr(a,2,-2),0)}function declaration(a,s,et,tt){return node$1(a,s,et,DECLARATION,substr(a,0,tt),substr(a,tt+1,-1),tt)}function serialize(a,s){for(var et="",tt=sizeof(a),at=0;at<tt;at++)et+=s(a[at],at,a,s)||"";return et}function stringify$1(a,s,et,tt){switch(a.type){case LAYER:if(a.children.length)break;case IMPORT:case DECLARATION:return a.return=a.return||a.value;case COMMENT:return"";case KEYFRAMES:return a.return=a.value+"{"+serialize(a.children,tt)+"}";case RULESET:a.value=a.props.join(",")}return strlen(et=serialize(a.children,tt))?a.return=a.value+"{"+et+"}":""}function middleware(a){var s=sizeof(a);return function(et,tt,at,ct){for(var ut="",bt=0;bt<s;bt++)ut+=a[bt](et,tt,at,ct)||"";return ut}}function rulesheet(a){return function(s){s.root||(s=s.return)&&a(s)}}var weakMemoize=function(s){var et=new WeakMap;return function(tt){if(et.has(tt))return et.get(tt);var at=s(tt);return et.set(tt,at),at}};function memoize$1(a){var s=Object.create(null);return function(et){return s[et]===void 0&&(s[et]=a(et)),s[et]}}var identifierWithPointTracking=function(s,et,tt){for(var at=0,ct=0;at=ct,ct=peek(),at===38&&ct===12&&(et[tt]=1),!token(ct);)next();return slice(s,position)},toRules=function(s,et){var tt=-1,at=44;do switch(token(at)){case 0:at===38&&peek()===12&&(et[tt]=1),s[tt]+=identifierWithPointTracking(position-1,et,tt);break;case 2:s[tt]+=delimit(at);break;case 4:if(at===44){s[++tt]=peek()===58?"&\f":"",et[tt]=s[tt].length;break}default:s[tt]+=from(at)}while(at=next());return s},getRules=function(s,et){return dealloc(toRules(alloc(s),et))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var et=s.value,tt=s.parent,at=s.column===tt.column&&s.line===tt.line;tt.type!=="rule";)if(tt=tt.parent,!tt)return;if(!(s.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(tt))&&!at){fixedElements.set(s,!0);for(var ct=[],ut=getRules(et,ct),bt=tt.props,wt=0,Et=0;wt<ut.length;wt++)for(var Ft=0;Ft<bt.length;Ft++,Et++)s.props[Et]=ct[wt]?ut[wt].replace(/&\f/g,bt[Ft]):bt[Ft]+" "+ut[wt]}}},removeLabel=function(s){if(s.type==="decl"){var et=s.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(a,s){switch(hash$4(a,s)){case 5103:return WEBKIT+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+a+MOZ+a+MS+a+a;case 6828:case 4268:return WEBKIT+a+MS+a+a;case 6165:return WEBKIT+a+MS+"flex-"+a+a;case 5187:return WEBKIT+a+replace(a,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+a;case 5443:return WEBKIT+a+MS+"flex-item-"+replace(a,/flex-|-self/,"")+a;case 4675:return WEBKIT+a+MS+"flex-line-pack"+replace(a,/align-content|flex-|-self/,"")+a;case 5548:return WEBKIT+a+MS+replace(a,"shrink","negative")+a;case 5292:return WEBKIT+a+MS+replace(a,"basis","preferred-size")+a;case 6060:return WEBKIT+"box-"+replace(a,"-grow","")+WEBKIT+a+MS+replace(a,"grow","positive")+a;case 4554:return WEBKIT+replace(a,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+a;case 6187:return replace(replace(replace(a,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),a,"")+a;case 5495:case 3959:return replace(a,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(a,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+a+a;case 4095:case 3583:case 4068:case 2532:return replace(a,/(.+)-inline(.+)/,WEBKIT+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(a)-1-s>6)switch(charat(a,s+1)){case 109:if(charat(a,s+4)!==45)break;case 102:return replace(a,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(a,s+3)==108?"$3":"$2-$3"))+a;case 115:return~indexof(a,"stretch")?prefix(replace(a,"stretch","fill-available"),s)+a:a}break;case 4949:if(charat(a,s+1)!==115)break;case 6444:switch(charat(a,strlen(a)-3-(~indexof(a,"!important")&&10))){case 107:return replace(a,":",":"+WEBKIT)+a;case 101:return replace(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(a,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+a}break;case 5936:switch(charat(a,s+11)){case 114:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return WEBKIT+a+MS+a+a}return a}var prefixer=function(s,et,tt,at){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],at);case RULESET:if(s.length)return combine(s.props,function(ct){switch(match(ct,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(ct,/:(read-\w+)/,":"+MOZ+"$1")]})],at);case"::placeholder":return serialize([copy(s,{props:[replace(ct,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(ct,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(ct,/:(plac\w+)/,MS+"input-$1")]})],at)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var et=s.key;if(et==="css"){var tt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(tt,function(Yt){var er=Yt.getAttribute("data-emotion");er.indexOf(" ")!==-1&&(document.head.appendChild(Yt),Yt.setAttribute("data-s",""))})}var at=s.stylisPlugins||defaultStylisPlugins,ct={},ut,bt=[];ut=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(Yt){for(var er=Yt.getAttribute("data-emotion").split(" "),tr=1;tr<er.length;tr++)ct[er[tr]]=!0;bt.push(Yt)});var wt,Et=[compat,removeLabel];{var Ft,jt=[stringify$1,rulesheet(function(Yt){Ft.insert(Yt)})],Lt=middleware(Et.concat(at,jt)),Ut=function(er){return serialize(compile(er),Lt)};wt=function(er,tr,nr,ir){Ft=nr,Ut(er?er+"{"+tr.styles+"}":tr.styles),ir&&(Vt.inserted[tr.name]=!0)}}var Vt={key:et,sheet:new StyleSheet({key:et,container:ut,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:ct,registered:{},insert:wt};return Vt.sheet.hydrate(bt),Vt};function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var tt in et)({}).hasOwnProperty.call(et,tt)&&(a[tt]=et[tt])}return a},_extends.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$1=b$2?Symbol.for("react.element"):60103,d$1=b$2?Symbol.for("react.portal"):60106,e=b$2?Symbol.for("react.fragment"):60107,f=b$2?Symbol.for("react.strict_mode"):60108,g$1=b$2?Symbol.for("react.profiler"):60114,h$1=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l=b$2?Symbol.for("react.async_mode"):60111,m$3=b$2?Symbol.for("react.concurrent_mode"):60111,n=b$2?Symbol.for("react.forward_ref"):60112,p=b$2?Symbol.for("react.suspense"):60113,q$3=b$2?Symbol.for("react.suspense_list"):60120,r$2=b$2?Symbol.for("react.memo"):60115,t=b$2?Symbol.for("react.lazy"):60116,v$4=b$2?Symbol.for("react.block"):60121,w$2=b$2?Symbol.for("react.fundamental"):60117,x$2=b$2?Symbol.for("react.responder"):60118,y$2=b$2?Symbol.for("react.scope"):60119;function z$3(a){if(typeof a=="object"&&a!==null){var s=a.$$typeof;switch(s){case c$1:switch(a=a.type,a){case l:case m$3:case e:case g$1:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k$2:case n:case t:case r$2:case h$1:return a;default:return s}}case d$1:return s}}}function A$2(a){return z$3(a)===m$3}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$3;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$2;reactIs_production_min.Portal=d$1;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(a){return A$2(a)||z$3(a)===l};reactIs_production_min.isConcurrentMode=A$2;reactIs_production_min.isContextConsumer=function(a){return z$3(a)===k$2};reactIs_production_min.isContextProvider=function(a){return z$3(a)===h$1};reactIs_production_min.isElement=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===c$1};reactIs_production_min.isForwardRef=function(a){return z$3(a)===n};reactIs_production_min.isFragment=function(a){return z$3(a)===e};reactIs_production_min.isLazy=function(a){return z$3(a)===t};reactIs_production_min.isMemo=function(a){return z$3(a)===r$2};reactIs_production_min.isPortal=function(a){return z$3(a)===d$1};reactIs_production_min.isProfiler=function(a){return z$3(a)===g$1};reactIs_production_min.isStrictMode=function(a){return z$3(a)===f};reactIs_production_min.isSuspense=function(a){return z$3(a)===p};reactIs_production_min.isValidElementType=function(a){return typeof a=="string"||typeof a=="function"||a===e||a===m$3||a===g$1||a===f||a===p||a===q$3||typeof a=="object"&&a!==null&&(a.$$typeof===t||a.$$typeof===r$2||a.$$typeof===h$1||a.$$typeof===k$2||a.$$typeof===n||a.$$typeof===w$2||a.$$typeof===x$2||a.$$typeof===y$2||a.$$typeof===v$4)};reactIs_production_min.typeOf=z$3;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(a,s,et){var tt="";return et.split(" ").forEach(function(at){a[at]!==void 0?s.push(a[at]+";"):at&&(tt+=at+" ")}),tt}var registerStyles=function(s,et,tt){var at=s.key+"-"+et.name;(tt===!1||isBrowser$1===!1)&&s.registered[at]===void 0&&(s.registered[at]=et.styles)},insertStyles=function(s,et,tt){registerStyles(s,et,tt);var at=s.key+"-"+et.name;if(s.inserted[et.name]===void 0){var ct=et;do s.insert(et===ct?"."+at:"",ct,s.sheet,!0),ct=ct.next;while(ct!==void 0)}},unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$1(function(a){return isCustomProperty(a)?a:a.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,et){switch(s){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(tt,at,ct){return cursor={name:at,styles:ct,next:cursor},at})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof et=="number"&&et!==0?et+"px":et};function handleInterpolation(a,s,et){if(et==null)return"";var tt=et;if(tt.__emotion_styles!==void 0)return tt;switch(typeof et){case"boolean":return"";case"object":{var at=et;if(at.anim===1)return cursor={name:at.name,styles:at.styles,next:cursor},at.name;var ct=et;if(ct.styles!==void 0){var ut=ct.next;if(ut!==void 0)for(;ut!==void 0;)cursor={name:ut.name,styles:ut.styles,next:cursor},ut=ut.next;var bt=ct.styles+";";return bt}return createStringFromObject(a,s,et)}case"function":{if(a!==void 0){var wt=cursor,Et=et(a);return cursor=wt,handleInterpolation(a,s,Et)}break}}var Ft=et;if(s==null)return Ft;var jt=s[Ft];return jt!==void 0?jt:Ft}function createStringFromObject(a,s,et){var tt="";if(Array.isArray(et))for(var at=0;at<et.length;at++)tt+=handleInterpolation(a,s,et[at])+";";else for(var ct in et){var ut=et[ct];if(typeof ut!="object"){var bt=ut;s!=null&&s[bt]!==void 0?tt+=ct+"{"+s[bt]+"}":isProcessableValue(bt)&&(tt+=processStyleName(ct)+":"+processStyleValue(ct,bt)+";")}else if(Array.isArray(ut)&&typeof ut[0]=="string"&&(s==null||s[ut[0]]===void 0))for(var wt=0;wt<ut.length;wt++)isProcessableValue(ut[wt])&&(tt+=processStyleName(ct)+":"+processStyleValue(ct,ut[wt])+";");else{var Et=handleInterpolation(a,s,ut);switch(ct){case"animation":case"animationName":{tt+=processStyleName(ct)+":"+Et+";";break}default:tt+=ct+"{"+Et+"}"}}}return tt}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(a,s,et){if(a.length===1&&typeof a[0]=="object"&&a[0]!==null&&a[0].styles!==void 0)return a[0];var tt=!0,at="";cursor=void 0;var ct=a[0];if(ct==null||ct.raw===void 0)tt=!1,at+=handleInterpolation(et,s,ct);else{var ut=ct;at+=ut[0]}for(var bt=1;bt<a.length;bt++)if(at+=handleInterpolation(et,s,a[bt]),tt){var wt=ct;at+=wt[bt]}labelPattern.lastIndex=0;for(var Et="",Ft;(Ft=labelPattern.exec(at))!==null;)Et+="-"+Ft[1];var jt=murmur2(at)+Et;return{name:jt,styles:at,next:cursor}}var syncFallback=function(s){return s()},useInsertionEffect=React$3.useInsertionEffect?React$3.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var __unsafe_useEmotionCache=function(){return reactExports.useContext(EmotionCacheContext)},withEmotionCache=function(s){return reactExports.forwardRef(function(et,tt){var at=reactExports.useContext(EmotionCacheContext);return s(et,at,tt)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(s,et){if(typeof et=="function"){var tt=et(s);return tt}return _extends({},s,et)},createCacheWithTheme=weakMemoize(function(a){return weakMemoize(function(s){return getTheme$1(a,s)})}),ThemeProvider$1=function(s){var et=reactExports.useContext(ThemeContext);return s.theme!==et&&(et=createCacheWithTheme(et)(s.theme)),reactExports.createElement(ThemeContext.Provider,{value:et},s.children)},hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(s,et){var tt={};for(var at in et)hasOwn.call(et,at)&&(tt[at]=et[at]);return tt[typePropName]=s,tt},Insertion$1=function(s){var et=s.cache,tt=s.serialized,at=s.isStringTag;return registerStyles(et,tt,at),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,tt,at)}),null},Emotion=withEmotionCache(function(a,s,et){var tt=a.css;typeof tt=="string"&&s.registered[tt]!==void 0&&(tt=s.registered[tt]);var at=a[typePropName],ct=[tt],ut="";typeof a.className=="string"?ut=getRegisteredStyles(s.registered,ct,a.className):a.className!=null&&(ut=a.className+" ");var bt=serializeStyles(ct,void 0,reactExports.useContext(ThemeContext));ut+=s.key+"-"+bt.name;var wt={};for(var Et in a)hasOwn.call(a,Et)&&Et!=="css"&&Et!==typePropName&&(wt[Et]=a[Et]);return wt.className=ut,et&&(wt.ref=et),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:s,serialized:bt,isStringTag:typeof at=="string"}),reactExports.createElement(at,wt))}),Emotion$1=Emotion,jsx=function(s,et){var tt=arguments;if(et==null||!hasOwn.call(et,"css"))return reactExports.createElement.apply(void 0,tt);var at=tt.length,ct=new Array(at);ct[0]=Emotion$1,ct[1]=createEmotionProps(s,et);for(var ut=2;ut<at;ut++)ct[ut]=tt[ut];return reactExports.createElement.apply(null,ct)};(function(a){var s;s||(s=a.JSX||(a.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(a,s){var et=a.styles,tt=serializeStyles([et],void 0,reactExports.useContext(ThemeContext)),at=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var ct=s.key+"-global",ut=new s.sheet.constructor({key:ct,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),bt=!1,wt=document.querySelector('style[data-emotion="'+ct+" "+tt.name+'"]');return s.sheet.tags.length&&(ut.before=s.sheet.tags[0]),wt!==null&&(bt=!0,wt.setAttribute("data-emotion",ct),ut.hydrate([wt])),at.current=[ut,bt],function(){ut.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var ct=at.current,ut=ct[0],bt=ct[1];if(bt){ct[1]=!1;return}if(tt.next!==void 0&&insertStyles(s,tt.next,!0),ut.tags.length){var wt=ut.tags[ut.tags.length-1].nextElementSibling;ut.before=wt,ut.flush()}s.insert("",tt,ut,!1)},[s,tt.name]),null});function css$1(){for(var a=arguments.length,s=new Array(a),et=0;et<a;et++)s[et]=arguments[et];return serializeStyles(s)}function keyframes$1(){var a=css$1.apply(void 0,arguments),s="animation-"+a.name;return{name:s,styles:"@keyframes "+s+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const a=reactExports.useContext(ColorModeContext);if(a===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return a}const classNames$1={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(a={}){const{preventTransition:s=!0,nonce:et}=a,tt={setDataset:at=>{const ct=s?tt.preventTransition():void 0;document.documentElement.dataset.theme=at,document.documentElement.style.colorScheme=at,ct==null||ct()},setClassName(at){document.body.classList.add(at?classNames$1.dark:classNames$1.light),document.body.classList.remove(at?classNames$1.light:classNames$1.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(at){return tt.query().matches??at==="dark"?"dark":"light"},addListener(at){const ct=tt.query(),ut=bt=>{at(bt.matches?"dark":"light")};return typeof ct.addListener=="function"?ct.addListener(ut):ct.addEventListener("change",ut),()=>{typeof ct.removeListener=="function"?ct.removeListener(ut):ct.removeEventListener("change",ut)}},preventTransition(){const at=document.createElement("style");return at.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),et!==void 0&&(at.nonce=et),document.head.appendChild(at),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(at)})})}}};return tt}const STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(a){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let et;try{et=localStorage.getItem(a)||s}catch{}return et||s},set(s){try{localStorage.setItem(a,s)}catch{}}}}const localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$3=()=>{},useSafeLayoutEffect$1=isBrowser$2()?reactExports.useLayoutEffect:reactExports.useEffect;function getTheme(a,s){return a.type==="cookie"&&a.ssr?a.get(s):s}const ColorModeProvider=function(s){const{value:et,children:tt,options:{useSystemColorMode:at,initialColorMode:ct,disableTransitionOnChange:ut}={},colorModeManager:bt=localStorageManager}=s,wt=__unsafe_useEmotionCache(),Et=ct==="dark"?"dark":"light",[Ft,jt]=reactExports.useState(()=>getTheme(bt,Et)),[Lt,Ut]=reactExports.useState(()=>getTheme(bt)),{getSystemTheme:Vt,setClassName:Yt,setDataset:er,addListener:tr}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:ut,nonce:wt==null?void 0:wt.nonce}),[ut,wt==null?void 0:wt.nonce]),nr=ct==="system"&&!Ft?Lt:Ft,ir=reactExports.useCallback(yr=>{const br=yr==="system"?Vt():yr;jt(br),Yt(br==="dark"),er(br),bt.set(br)},[bt,Vt,Yt,er]);useSafeLayoutEffect$1(()=>{ct==="system"&&Ut(Vt())},[]),reactExports.useEffect(()=>{const yr=bt.get();if(yr){ir(yr);return}if(ct==="system"){ir("system");return}ir(Et)},[bt,Et,ct,ir]);const lr=reactExports.useCallback(()=>{ir(nr==="dark"?"light":"dark")},[nr,ir]);reactExports.useEffect(()=>{if(at)return tr(ir)},[at,tr,ir]);const pr=reactExports.useMemo(()=>({colorMode:et??nr,toggleColorMode:et?noop$3:lr,setColorMode:et?noop$3:ir,forced:et!==void 0}),[nr,lr,ir,et]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:pr,children:tt})};ColorModeProvider.displayName="ColorModeProvider";const css=String.raw,vhPolyfill=css`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:a=""})=>jsxRuntimeExports.jsx(Global,{styles:css`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${a} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${a} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${a} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${a} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${a} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${a} :where(b, strong) {
        font-weight: bold;
      }

      ${a} small {
        font-size: 80%;
      }

      ${a} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${a} sub {
        bottom: -0.25em;
      }

      ${a} sup {
        top: -0.5em;
      }

      ${a} img {
        border-style: none;
      }

      ${a} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${a} :where(button, input) {
        overflow: visible;
      }

      ${a} :where(button, select) {
        text-transform: none;
      }

      ${a} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${a} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${a} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${a} progress {
        vertical-align: baseline;
      }

      ${a} textarea {
        overflow: auto;
      }

      ${a} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${a} input[type="number"]::-webkit-inner-spin-button,
      ${a} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${a} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${a} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${a} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${a} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${a} details {
        display: block;
      }

      ${a} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${a} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${a} button {
        background: transparent;
        padding: 0;
      }

      ${a} fieldset {
        margin: 0;
        padding: 0;
      }

      ${a} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${a} textarea {
        resize: vertical;
      }

      ${a} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${a} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${a} table {
        border-collapse: collapse;
      }

      ${a} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${a} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${a} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${a} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${a} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function ThemeProvider(a){const{cssVarsRoot:s,theme:et,children:tt}=a,at=reactExports.useMemo(()=>toCSSVar(et),[et]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:at,children:[jsxRuntimeExports.jsx(CSSVars,{root:s}),tt]})}function CSSVars({root:a=":host, :root"}){const s=[a,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:et=>({[s]:et.__cssVars})})}createContext({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GlobalStyle(){const{colorMode:a}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:s=>{const et=memoizedGet$1(s,"styles.global"),tt=runIfFn$1(et,{theme:s,colorMode:a});return tt?css$2(tt)(s):void 0}})}const[PortalManagerContextProvider,usePortalManager]=createContext({strict:!1,name:"PortalManagerContext"});function PortalManager(a){const{children:s,zIndex:et}=a;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:et},children:s})}PortalManager.displayName="PortalManager";const EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(a){const{children:s,environment:et,disabled:tt}=a,at=reactExports.useRef(null),ct=reactExports.useMemo(()=>et||{getDocument:()=>{var bt;return((bt=at.current)==null?void 0:bt.ownerDocument)??document},getWindow:()=>{var bt;return((bt=at.current)==null?void 0:bt.ownerDocument.defaultView)??window}},[et]),ut=!tt||!et;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:ct,children:[s,ut&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:at})]})}EnvironmentProvider.displayName="EnvironmentProvider";const Provider=a=>{const{children:s,colorModeManager:et,portalZIndex:tt,resetScope:at,resetCSS:ct=!0,theme:ut={},environment:bt,cssVarsRoot:wt,disableEnvironment:Et,disableGlobalStyle:Ft}=a,jt=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:bt,disabled:Et,children:s});return jsxRuntimeExports.jsx(ThemeProvider,{theme:ut,cssVarsRoot:wt,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:et,options:ut.config,children:[ct?jsxRuntimeExports.jsx(CSSReset,{scope:at}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!Ft&&jsxRuntimeExports.jsx(GlobalStyle,{}),tt?jsxRuntimeExports.jsx(PortalManager,{zIndex:tt,children:jt}):jt]})})},LayoutGroupContext=reactExports.createContext({});function useConstant(a){const s=reactExports.useRef(null);return s.current===null&&(s.current=a()),s.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const et=this.props.childRef.current;if(et&&s.isPresent&&!this.props.isPresent){const tt=this.props.sizeRef.current;tt.height=et.offsetHeight||0,tt.width=et.offsetWidth||0,tt.top=et.offsetTop,tt.left=et.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:a,isPresent:s}){const et=reactExports.useId(),tt=reactExports.useRef(null),at=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:ct}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:ut,height:bt,top:wt,left:Et}=at.current;if(s||!tt.current||!ut||!bt)return;tt.current.dataset.motionPopId=et;const Ft=document.createElement("style");return ct&&(Ft.nonce=ct),document.head.appendChild(Ft),Ft.sheet&&Ft.sheet.insertRule(`
          [data-motion-pop-id="${et}"] {
            position: absolute !important;
            width: ${ut}px !important;
            height: ${bt}px !important;
            top: ${wt}px !important;
            left: ${Et}px !important;
          }
        `),()=>{document.head.removeChild(Ft)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:tt,sizeRef:at,children:reactExports.cloneElement(a,{ref:tt})})}const PresenceChild=({children:a,initial:s,isPresent:et,onExitComplete:tt,custom:at,presenceAffectsLayout:ct,mode:ut})=>{const bt=useConstant(newChildrenMap),wt=reactExports.useId(),Et=reactExports.useCallback(jt=>{bt.set(jt,!0);for(const Lt of bt.values())if(!Lt)return;tt&&tt()},[bt,tt]),Ft=reactExports.useMemo(()=>({id:wt,initial:s,isPresent:et,custom:at,onExitComplete:Et,register:jt=>(bt.set(jt,!1),()=>bt.delete(jt))}),ct?[Math.random(),Et]:[et,Et]);return reactExports.useMemo(()=>{bt.forEach((jt,Lt)=>bt.set(Lt,!1))},[et]),reactExports.useEffect(()=>{!et&&!bt.size&&tt&&tt()},[et]),ut==="popLayout"&&(a=jsxRuntimeExports.jsx(PopChild,{isPresent:et,children:a})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Ft,children:a})};function newChildrenMap(){return new Map}function usePresence(a=!0){const s=reactExports.useContext(PresenceContext);if(s===null)return[!0,null];const{isPresent:et,onExitComplete:tt,register:at}=s,ct=reactExports.useId();reactExports.useEffect(()=>{a&&at(ct)},[a]);const ut=reactExports.useCallback(()=>a&&tt&&tt(ct),[ct,tt,a]);return!et&&tt?[!1,ut]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(a){return a===null?!0:a.isPresent}const getChildKey=a=>a.key||"";function onlyElements(a){const s=[];return reactExports.Children.forEach(a,et=>{reactExports.isValidElement(et)&&s.push(et)}),s}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:a,custom:s,initial:et=!0,onExitComplete:tt,presenceAffectsLayout:at=!0,mode:ct="sync",propagate:ut=!1})=>{const[bt,wt]=usePresence(ut),Et=reactExports.useMemo(()=>onlyElements(a),[a]),Ft=ut&&!bt?[]:Et.map(getChildKey),jt=reactExports.useRef(!0),Lt=reactExports.useRef(Et),Ut=useConstant(()=>new Map),[Vt,Yt]=reactExports.useState(Et),[er,tr]=reactExports.useState(Et);useIsomorphicLayoutEffect(()=>{jt.current=!1,Lt.current=Et;for(let lr=0;lr<er.length;lr++){const pr=getChildKey(er[lr]);Ft.includes(pr)?Ut.delete(pr):Ut.get(pr)!==!0&&Ut.set(pr,!1)}},[er,Ft.length,Ft.join("-")]);const nr=[];if(Et!==Vt){let lr=[...Et];for(let pr=0;pr<er.length;pr++){const yr=er[pr],br=getChildKey(yr);Ft.includes(br)||(lr.splice(pr,0,yr),nr.push(yr))}ct==="wait"&&nr.length&&(lr=nr),tr(onlyElements(lr)),Yt(Et);return}const{forceRender:ir}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:er.map(lr=>{const pr=getChildKey(lr),yr=ut&&!bt?!1:Et===er||Ft.includes(pr),br=()=>{if(Ut.has(pr))Ut.set(pr,!0);else return;let xr=!0;Ut.forEach(Er=>{Er||(xr=!1)}),xr&&(ir==null||ir(),tr(Lt.current),ut&&(wt==null||wt()),tt&&tt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:yr,initial:!jt.current||et?void 0:!1,custom:yr?void 0:s,presenceAffectsLayout:at,mode:ct,onExitComplete:yr?void 0:br,children:lr},pr)})})},noop$2=a=>a;let invariant$N=noop$2;function memo(a){let s;return()=>(s===void 0&&(s=a()),s)}const progress=(a,s,et)=>{const tt=s-a;return tt===0?1:(et-a)/tt},secondsToMilliseconds=a=>a*1e3,millisecondsToSeconds=a=>a/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(a){let s=new Set,et=new Set,tt=!1,at=!1;const ct=new WeakSet;let ut={delta:0,timestamp:0,isProcessing:!1};function bt(Et){ct.has(Et)&&(wt.schedule(Et),a()),Et(ut)}const wt={schedule:(Et,Ft=!1,jt=!1)=>{const Ut=jt&&tt?s:et;return Ft&&ct.add(Et),Ut.has(Et)||Ut.add(Et),Et},cancel:Et=>{et.delete(Et),ct.delete(Et)},process:Et=>{if(ut=Et,tt){at=!0;return}tt=!0,[s,et]=[et,s],s.forEach(bt),s.clear(),tt=!1,at&&(at=!1,wt.process(Et))}};return wt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(a,s){let et=!1,tt=!0;const at={delta:0,timestamp:0,isProcessing:!1},ct=()=>et=!0,ut=stepsOrder.reduce((tr,nr)=>(tr[nr]=createRenderStep(ct),tr),{}),{read:bt,resolveKeyframes:wt,update:Et,preRender:Ft,render:jt,postRender:Lt}=ut,Ut=()=>{const tr=performance.now();et=!1,at.delta=tt?1e3/60:Math.max(Math.min(tr-at.timestamp,maxElapsed),1),at.timestamp=tr,at.isProcessing=!0,bt.process(at),wt.process(at),Et.process(at),Ft.process(at),jt.process(at),Lt.process(at),at.isProcessing=!1,et&&s&&(tt=!1,a(Ut))},Vt=()=>{et=!0,tt=!0,at.isProcessing||a(Ut)};return{schedule:stepsOrder.reduce((tr,nr)=>{const ir=ut[nr];return tr[nr]=(lr,pr=!1,yr=!1)=>(et||Vt(),ir.schedule(lr,pr,yr)),tr},{}),cancel:tr=>{for(let nr=0;nr<stepsOrder.length;nr++)ut[stepsOrder[nr]].cancel(tr)},state:at,steps:ut}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const a in featureProps)featureDefinitions[a]={isEnabled:s=>featureProps[a].some(et=>!!s[et])};function loadFeatures(a){for(const s in a)featureDefinitions[s]={...featureDefinitions[s],...a[s]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||validMotionProps.has(a)}let shouldForward=a=>!isValidMotionProp(a);function loadExternalIsValidProp(a){a&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):a(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(a,s,et){const tt={};for(const at in a)at==="values"&&typeof a.values=="object"||(shouldForward(at)||et===!0&&isValidMotionProp(at)||!s&&!isValidMotionProp(at)||a.draggable&&at.startsWith("onDrag"))&&(tt[at]=a[at]);return tt}function createDOMMotionComponentProxy(a){if(typeof Proxy>"u")return a;const s=new Map,et=(...tt)=>a(...tt);return new Proxy(et,{get:(tt,at)=>at==="create"?a:(s.has(at)||s.set(at,a(at)),s.get(at))})}const MotionContext=reactExports.createContext({});function isVariantLabel(a){return typeof a=="string"||Array.isArray(a)}function isAnimationControls(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(a){return isAnimationControls(a.animate)||variantProps.some(s=>isVariantLabel(a[s]))}function isVariantNode(a){return!!(isControllingVariants(a)||a.variants)}function getCurrentTreeVariants(a,s){if(isControllingVariants(a)){const{initial:et,animate:tt}=a;return{initial:et===!1||isVariantLabel(et)?et:void 0,animate:isVariantLabel(tt)?tt:void 0}}return a.inherit!==!1?s:{}}function useCreateMotionContext(a){const{initial:s,animate:et}=getCurrentTreeVariants(a,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:et}),[variantLabelsAsDependency(s),variantLabelsAsDependency(et)])}function variantLabelsAsDependency(a){return Array.isArray(a)?a.join(" "):a}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function useMotionRef(a,s,et){return reactExports.useCallback(tt=>{tt&&a.onMount&&a.onMount(tt),s&&(tt?s.mount(tt):s.unmount()),et&&(typeof et=="function"?et(tt):isRefObject(et)&&(et.current=tt))},[s])}const camelToDash=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(a,s,et,tt,at){var ct,ut;const{visualElement:bt}=reactExports.useContext(MotionContext),wt=reactExports.useContext(LazyContext),Et=reactExports.useContext(PresenceContext),Ft=reactExports.useContext(MotionConfigContext).reducedMotion,jt=reactExports.useRef(null);tt=tt||wt.renderer,!jt.current&&tt&&(jt.current=tt(a,{visualState:s,parent:bt,props:et,presenceContext:Et,blockInitialAnimation:Et?Et.initial===!1:!1,reducedMotionConfig:Ft}));const Lt=jt.current,Ut=reactExports.useContext(SwitchLayoutGroupContext);Lt&&!Lt.projection&&at&&(Lt.type==="html"||Lt.type==="svg")&&createProjectionNode$1(jt.current,et,at,Ut);const Vt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Lt&&Vt.current&&Lt.update(et,Et)});const Yt=et[optimizedAppearDataAttribute],er=reactExports.useRef(!!Yt&&!(!((ct=window.MotionHandoffIsComplete)===null||ct===void 0)&&ct.call(window,Yt))&&((ut=window.MotionHasOptimisedAnimation)===null||ut===void 0?void 0:ut.call(window,Yt)));return useIsomorphicLayoutEffect(()=>{Lt&&(Vt.current=!0,window.MotionIsMounted=!0,Lt.updateFeatures(),microtask.render(Lt.render),er.current&&Lt.animationState&&Lt.animationState.animateChanges())}),reactExports.useEffect(()=>{Lt&&(!er.current&&Lt.animationState&&Lt.animationState.animateChanges(),er.current&&(queueMicrotask(()=>{var tr;(tr=window.MotionHandoffMarkAsComplete)===null||tr===void 0||tr.call(window,Yt)}),er.current=!1))}),Lt}function createProjectionNode$1(a,s,et,tt){const{layoutId:at,layout:ct,drag:ut,dragConstraints:bt,layoutScroll:wt,layoutRoot:Et}=s;a.projection=new et(a.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(a.parent)),a.projection.setOptions({layoutId:at,layout:ct,alwaysMeasureLayout:!!ut||bt&&isRefObject(bt),visualElement:a,animationType:typeof ct=="string"?ct:"both",initialPromotionConfig:tt,layoutScroll:wt,layoutRoot:Et})}function getClosestProjectingNode(a){if(a)return a.options.allowProjection!==!1?a.projection:getClosestProjectingNode(a.parent)}function createRendererMotionComponent({preloadedFeatures:a,createVisualElement:s,useRender:et,useVisualState:tt,Component:at}){var ct,ut;a&&loadFeatures(a);function bt(Et,Ft){let jt;const Lt={...reactExports.useContext(MotionConfigContext),...Et,layoutId:useLayoutId(Et)},{isStatic:Ut}=Lt,Vt=useCreateMotionContext(Et),Yt=tt(Et,Ut);if(!Ut&&isBrowser){useStrictMode();const er=getProjectionFunctionality(Lt);jt=er.MeasureLayout,Vt.visualElement=useVisualElement(at,Yt,Lt,s,er.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Vt,children:[jt&&Vt.visualElement?jsxRuntimeExports.jsx(jt,{visualElement:Vt.visualElement,...Lt}):null,et(at,Et,useMotionRef(Yt,Vt.visualElement,Ft),Yt,Ut,Vt.visualElement)]})}bt.displayName=`motion.${typeof at=="string"?at:`create(${(ut=(ct=at.displayName)!==null&&ct!==void 0?ct:at.name)!==null&&ut!==void 0?ut:""})`}`;const wt=reactExports.forwardRef(bt);return wt[motionComponentSymbol]=at,wt}function useLayoutId({layoutId:a}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&a!==void 0?s+"-"+a:a}function useStrictMode(a,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(a){const{drag:s,layout:et}=featureDefinitions;if(!s&&!et)return{};const tt={...s,...et};return{MeasureLayout:s!=null&&s.isEnabled(a)||et!=null&&et.isEnabled(a)?tt.MeasureLayout:void 0,ProjectionNode:tt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(a){return typeof a!="string"||a.includes("-")?!1:!!(lowercaseSVGElements.indexOf(a)>-1||/[A-Z]/u.test(a))}function getValueState(a){const s=[{},{}];return a==null||a.values.forEach((et,tt)=>{s[0][tt]=et.get(),s[1][tt]=et.getVelocity()}),s}function resolveVariantFromProps(a,s,et,tt){if(typeof s=="function"){const[at,ct]=getValueState(tt);s=s(et!==void 0?et:a.custom,at,ct)}if(typeof s=="string"&&(s=a.variants&&a.variants[s]),typeof s=="function"){const[at,ct]=getValueState(tt);s=s(et!==void 0?et:a.custom,at,ct)}return s}const isKeyframesTarget=a=>Array.isArray(a),isCustomValue=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),resolveFinalValueInKeyframes=a=>isKeyframesTarget(a)?a[a.length-1]||0:a,isMotionValue=a=>!!(a&&a.getVelocity);function resolveMotionValue(a){const s=isMotionValue(a)?a.get():a;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:a,createRenderState:s,onUpdate:et},tt,at,ct){const ut={latestValues:makeLatestValues(tt,at,ct,a),renderState:s()};return et&&(ut.onMount=bt=>et({props:tt,current:bt,...ut}),ut.onUpdate=bt=>et(bt)),ut}const makeUseVisualState=a=>(s,et)=>{const tt=reactExports.useContext(MotionContext),at=reactExports.useContext(PresenceContext),ct=()=>makeState(a,s,tt,at);return et?ct():useConstant(ct)};function makeLatestValues(a,s,et,tt){const at={},ct=tt(a,{});for(const Lt in ct)at[Lt]=resolveMotionValue(ct[Lt]);let{initial:ut,animate:bt}=a;const wt=isControllingVariants(a),Et=isVariantNode(a);s&&Et&&!wt&&a.inherit!==!1&&(ut===void 0&&(ut=s.initial),bt===void 0&&(bt=s.animate));let Ft=et?et.initial===!1:!1;Ft=Ft||ut===!1;const jt=Ft?bt:ut;if(jt&&typeof jt!="boolean"&&!isAnimationControls(jt)){const Lt=Array.isArray(jt)?jt:[jt];for(let Ut=0;Ut<Lt.length;Ut++){const Vt=resolveVariantFromProps(a,Lt[Ut]);if(Vt){const{transitionEnd:Yt,transition:er,...tr}=Vt;for(const nr in tr){let ir=tr[nr];if(Array.isArray(ir)){const lr=Ft?ir.length-1:0;ir=ir[lr]}ir!==null&&(at[nr]=ir)}for(const nr in Yt)at[nr]=Yt[nr]}}}return at}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=a=>s=>typeof s=="string"&&s.startsWith(a),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=a=>startsAsVariableToken(a)?singleCssVariableRegex.test(a.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(a,s)=>s&&typeof a=="number"?s.transform(a):a,clamp$3=(a,s,et)=>et>s?s:et<a?a:et,number={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},alpha={...number,transform:a=>clamp$3(0,1,a)},scale$1={...number,default:1},createUnitType=a=>({test:s=>typeof s=="string"&&s.endsWith(a)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${a}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:a=>percent.parse(a)/100,transform:a=>percent.transform(a*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(a,s,et){let tt="",at=!0;for(let ct=0;ct<numTransforms;ct++){const ut=transformPropOrder[ct],bt=a[ut];if(bt===void 0)continue;let wt=!0;if(typeof bt=="number"?wt=bt===(ut.startsWith("scale")?1:0):wt=parseFloat(bt)===0,!wt||et){const Et=getValueAsType(bt,numberValueTypes[ut]);if(!wt){at=!1;const Ft=translateAlias[ut]||ut;tt+=`${Ft}(${Et}) `}et&&(s[ut]=Et)}}return tt=tt.trim(),et?tt=et(s,at?"":tt):at&&(tt="none"),tt}function buildHTMLStyles(a,s,et){const{style:tt,vars:at,transformOrigin:ct}=a;let ut=!1,bt=!1;for(const wt in s){const Et=s[wt];if(transformProps.has(wt)){ut=!0;continue}else if(isCSSVariableName(wt)){at[wt]=Et;continue}else{const Ft=getValueAsType(Et,numberValueTypes[wt]);wt.startsWith("origin")?(bt=!0,ct[wt]=Ft):tt[wt]=Ft}}if(s.transform||(ut||et?tt.transform=buildTransform(s,a.transform,et):tt.transform&&(tt.transform="none")),bt){const{originX:wt="50%",originY:Et="50%",originZ:Ft=0}=ct;tt.transformOrigin=`${wt} ${Et} ${Ft}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(a,s,et=1,tt=0,at=!0){a.pathLength=1;const ct=at?dashKeys:camelKeys;a[ct.offset]=px.transform(-tt);const ut=px.transform(s),bt=px.transform(et);a[ct.array]=`${ut} ${bt}`}function calcOrigin$1(a,s,et){return typeof a=="string"?a:px.transform(s+et*a)}function calcSVGTransformOrigin(a,s,et){const tt=calcOrigin$1(s,a.x,a.width),at=calcOrigin$1(et,a.y,a.height);return`${tt} ${at}`}function buildSVGAttrs(a,{attrX:s,attrY:et,attrScale:tt,originX:at,originY:ct,pathLength:ut,pathSpacing:bt=1,pathOffset:wt=0,...Et},Ft,jt){if(buildHTMLStyles(a,Et,jt),Ft){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:Lt,style:Ut,dimensions:Vt}=a;Lt.transform&&(Vt&&(Ut.transform=Lt.transform),delete Lt.transform),Vt&&(at!==void 0||ct!==void 0||Ut.transform)&&(Ut.transformOrigin=calcSVGTransformOrigin(Vt,at!==void 0?at:.5,ct!==void 0?ct:.5)),s!==void 0&&(Lt.x=s),et!==void 0&&(Lt.y=et),tt!==void 0&&(Lt.scale=tt),ut!==void 0&&buildSVGPath(Lt,ut,bt,wt,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=a=>typeof a=="string"&&a.toLowerCase()==="svg";function renderHTML(a,{style:s,vars:et},tt,at){Object.assign(a.style,s,at&&at.getProjectionStyles(tt));for(const ct in et)a.style.setProperty(ct,et[ct])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(a,s,et,tt){renderHTML(a,s,void 0,tt);for(const at in s.attrs)a.setAttribute(camelCaseAttributes.has(at)?at:camelToDash(at),s.attrs[at])}const scaleCorrectors={};function addScaleCorrector(a){Object.assign(scaleCorrectors,a)}function isForcedMotionValue(a,{layout:s,layoutId:et}){return transformProps.has(a)||a.startsWith("origin")||(s||et!==void 0)&&(!!scaleCorrectors[a]||a==="opacity")}function scrapeMotionValuesFromProps$1(a,s,et){var tt;const{style:at}=a,ct={};for(const ut in at)(isMotionValue(at[ut])||s.style&&isMotionValue(s.style[ut])||isForcedMotionValue(ut,a)||((tt=et==null?void 0:et.getValue(ut))===null||tt===void 0?void 0:tt.liveStyle)!==void 0)&&(ct[ut]=at[ut]);return ct}function scrapeMotionValuesFromProps(a,s,et){const tt=scrapeMotionValuesFromProps$1(a,s,et);for(const at in a)if(isMotionValue(a[at])||isMotionValue(s[at])){const ct=transformPropOrder.indexOf(at)!==-1?"attr"+at.charAt(0).toUpperCase()+at.substring(1):at;tt[ct]=a[at]}return tt}function updateSVGDimensions(a,s){try{s.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:a,prevProps:s,current:et,renderState:tt,latestValues:at})=>{if(!et)return;let ct=!!a.drag;if(!ct){for(const bt in at)if(transformProps.has(bt)){ct=!0;break}}if(!ct)return;let ut=!s;if(s)for(let bt=0;bt<layoutProps.length;bt++){const wt=layoutProps[bt];a[wt]!==s[wt]&&(ut=!0)}ut&&frame.read(()=>{updateSVGDimensions(et,tt),frame.render(()=>{buildSVGAttrs(tt,at,isSVGTag(et.tagName),a.transformTemplate),renderSVG(et,tt)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(a,s,et){for(const tt in s)!isMotionValue(s[tt])&&!isForcedMotionValue(tt,et)&&(a[tt]=s[tt])}function useInitialMotionValues({transformTemplate:a},s){return reactExports.useMemo(()=>{const et=createHtmlRenderState();return buildHTMLStyles(et,s,a),Object.assign({},et.vars,et.style)},[s])}function useStyle(a,s){const et=a.style||{},tt={};return copyRawValuesOnly(tt,et,a),Object.assign(tt,useInitialMotionValues(a,s)),tt}function useHTMLProps(a,s){const et={},tt=useStyle(a,s);return a.drag&&a.dragListener!==!1&&(et.draggable=!1,tt.userSelect=tt.WebkitUserSelect=tt.WebkitTouchCallout="none",tt.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(et.tabIndex=0),et.style=tt,et}function useSVGProps(a,s,et,tt){const at=reactExports.useMemo(()=>{const ct=createSvgRenderState();return buildSVGAttrs(ct,s,isSVGTag(tt),a.transformTemplate),{...ct.attrs,style:{...ct.style}}},[s]);if(a.style){const ct={};copyRawValuesOnly(ct,a.style,a),at.style={...ct,...at.style}}return at}function createUseRender(a=!1){return(et,tt,at,{latestValues:ct},ut)=>{const wt=(isSVGComponent(et)?useSVGProps:useHTMLProps)(tt,ct,ut,et),Et=filterProps(tt,typeof et=="string",a),Ft=et!==reactExports.Fragment?{...Et,...wt,ref:at}:{},{children:jt}=tt,Lt=reactExports.useMemo(()=>isMotionValue(jt)?jt.get():jt,[jt]);return reactExports.createElement(et,{...Ft,children:Lt})}}function createMotionComponentFactory(a,s){return function(tt,{forwardMotionProps:at}={forwardMotionProps:!1}){const ut={...isSVGComponent(tt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:a,useRender:createUseRender(at),createVisualElement:s,Component:tt};return createRendererMotionComponent(ut)}}function shallowCompare(a,s){if(!Array.isArray(s))return!1;const et=s.length;if(et!==a.length)return!1;for(let tt=0;tt<et;tt++)if(s[tt]!==a[tt])return!1;return!0}function resolveVariant(a,s,et){const tt=a.getProps();return resolveVariantFromProps(tt,s,et!==void 0?et:tt.custom,a)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,et){for(let tt=0;tt<this.animations.length;tt++)this.animations[tt][s]=et}attachTimeline(s,et){const tt=this.animations.map(at=>{if(supportsScrollTimeline()&&at.attachTimeline)return at.attachTimeline(s);if(typeof et=="function")return et(at)});return()=>{tt.forEach((at,ct)=>{at&&at(),this.animations[ct].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let et=0;et<this.animations.length;et++)s=Math.max(s,this.animations[et].duration);return s}runAll(s){this.animations.forEach(et=>et[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(s,et){return Promise.all(this.animations).then(s).catch(et)}}function getValueTransition(a,s){return a?a[s]||a.default||a:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(a){let s=0;const et=50;let tt=a.next(s);for(;!tt.done&&s<maxGeneratorDuration;)s+=et,tt=a.next(s);return s>=maxGeneratorDuration?1/0:s}function isGenerator(a){return typeof a=="function"}function attachTimeline(a,s){a.timeline=s,a.onfinish=null}const isBezierDefinition=a=>Array.isArray(a)&&typeof a[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(a,s){const et=memo(a);return()=>{var tt;return(tt=supportsFlags[s])!==null&&tt!==void 0?tt:et()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(a,s,et=10)=>{let tt="";const at=Math.max(Math.round(s/et),2);for(let ct=0;ct<at;ct++)tt+=a(progress(0,at-1,ct))+", ";return`linear(${tt.substring(0,tt.length-2)})`};function isWaapiSupportedEasing(a){return!!(typeof a=="function"&&supportsLinearEasing()||!a||typeof a=="string"&&(a in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(a)||Array.isArray(a)&&a.every(isWaapiSupportedEasing))}const cubicBezierAsString=([a,s,et,tt])=>`cubic-bezier(${a}, ${s}, ${et}, ${tt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(a,s){if(a)return typeof a=="function"&&supportsLinearEasing()?generateLinearEasing(a,s):isBezierDefinition(a)?cubicBezierAsString(a):Array.isArray(a)?a.map(et=>mapEasingToNativeEasing(et,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[a]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(a,s,et){var tt;if(a instanceof Element)return[a];if(typeof a=="string"){let at=document;const ct=(tt=void 0)!==null&&tt!==void 0?tt:at.querySelectorAll(a);return ct?Array.from(ct):[]}return Array.from(a)}function setupGesture(a,s){const et=resolveElements(a),tt=new AbortController,at={passive:!0,...s,signal:tt.signal};return[et,at,()=>tt.abort()]}function filterEvents$1(a){return s=>{s.pointerType==="touch"||isDragActive()||a(s)}}function hover(a,s,et={}){const[tt,at,ct]=setupGesture(a,et),ut=filterEvents$1(bt=>{const{target:wt}=bt,Et=s(bt);if(typeof Et!="function"||!wt)return;const Ft=filterEvents$1(jt=>{Et(jt),wt.removeEventListener("pointerleave",Ft)});wt.addEventListener("pointerleave",Ft,at)});return tt.forEach(bt=>{bt.addEventListener("pointerenter",ut,at)}),ct}const isNodeOrChild=(a,s)=>s?a===s?!0:isNodeOrChild(a,s.parentElement):!1,isPrimaryPointer=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(a){return focusableElements.has(a.tagName)||a.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(a){return s=>{s.key==="Enter"&&a(s)}}function firePointerEvent(a,s){a.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(a,s)=>{const et=a.currentTarget;if(!et)return;const tt=filterEvents(()=>{if(isPressing.has(et))return;firePointerEvent(et,"down");const at=filterEvents(()=>{firePointerEvent(et,"up")}),ct=()=>firePointerEvent(et,"cancel");et.addEventListener("keyup",at,s),et.addEventListener("blur",ct,s)});et.addEventListener("keydown",tt,s),et.addEventListener("blur",()=>et.removeEventListener("keydown",tt),s)};function isValidPressEvent(a){return isPrimaryPointer(a)&&!isDragActive()}function press(a,s,et={}){const[tt,at,ct]=setupGesture(a,et),ut=bt=>{const wt=bt.currentTarget;if(!isValidPressEvent(bt)||isPressing.has(wt))return;isPressing.add(wt);const Et=s(bt),Ft=(Ut,Vt)=>{window.removeEventListener("pointerup",jt),window.removeEventListener("pointercancel",Lt),!(!isValidPressEvent(Ut)||!isPressing.has(wt))&&(isPressing.delete(wt),typeof Et=="function"&&Et(Ut,{success:Vt}))},jt=Ut=>{Ft(Ut,et.useGlobalTarget||isNodeOrChild(wt,Ut.target))},Lt=Ut=>{Ft(Ut,!1)};window.addEventListener("pointerup",jt,at),window.addEventListener("pointercancel",Lt,at)};return tt.forEach(bt=>{!isElementKeyboardAccessible(bt)&&bt.getAttribute("tabindex")===null&&(bt.tabIndex=0),(et.useGlobalTarget?window:bt).addEventListener("pointerdown",ut,at),bt.addEventListener("focus",Et=>enableKeyboardPress(Et,at),at)}),ct}function setDragLock(a){return a==="x"||a==="y"?isDragging[a]?null:(isDragging[a]=!0,()=>{isDragging[a]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:a=>{now=a,queueMicrotask(clearTime)}};function addUniqueItem(a,s){a.indexOf(s)===-1&&a.push(s)}function removeItem(a,s){const et=a.indexOf(s);et>-1&&a.splice(et,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,et,tt){const at=this.subscriptions.length;if(at)if(at===1)this.subscriptions[0](s,et,tt);else for(let ct=0;ct<at;ct++){const ut=this.subscriptions[ct];ut&&ut(s,et,tt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(a,s){return s?a*(1e3/s):0}const MAX_VELOCITY_DELTA=30,isFloat=a=>!isNaN(parseFloat(a));class MotionValue{constructor(s,et={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(tt,at=!0)=>{const ct=time.now();this.updatedAt!==ct&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(tt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),at&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=et.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,et){this.events[s]||(this.events[s]=new SubscriptionManager);const tt=this.events[s].add(et);return s==="change"?()=>{tt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:tt}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,et){this.passiveEffect=s,this.stopPassiveEffect=et}set(s,et=!0){!et||!this.passiveEffect?this.updateAndNotify(s,et):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,et,tt){this.set(et),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-tt}jump(s,et=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,et&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const et=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),et)}start(s){return this.stop(),new Promise(et=>{this.hasAnimated=!0,this.animation=s(et),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(a,s){return new MotionValue(a,s)}function setMotionValue(a,s,et){a.hasValue(s)?a.getValue(s).set(et):a.addValue(s,motionValue(et))}function setTarget(a,s){const et=resolveVariant(a,s);let{transitionEnd:tt={},transition:at={},...ct}=et||{};ct={...ct,...tt};for(const ut in ct){const bt=resolveFinalValueInKeyframes(ct[ut]);setMotionValue(a,ut,bt)}}function isWillChangeMotionValue(a){return!!(isMotionValue(a)&&a.add)}function addValueToWillChange(a,s){const et=a.getValue("willChange");if(isWillChangeMotionValue(et))return et.add(s)}function getOptimisedAppearId(a){return a.props[optimizedAppearDataAttribute]}const calcBezier=(a,s,et)=>(((1-3*et+3*s)*a+(3*et-6*s))*a+3*s)*a,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(a,s,et,tt,at){let ct,ut,bt=0;do ut=s+(et-s)/2,ct=calcBezier(ut,tt,at)-a,ct>0?et=ut:s=ut;while(Math.abs(ct)>subdivisionPrecision&&++bt<subdivisionMaxIterations);return ut}function cubicBezier(a,s,et,tt){if(a===s&&et===tt)return noop$2;const at=ct=>binarySubdivide(ct,0,1,a,et);return ct=>ct===0||ct===1?ct:calcBezier(at(ct),s,tt)}const mirrorEasing=a=>s=>s<=.5?a(2*s)/2:(2-a(2*(1-s)))/2,reverseEasing=a=>s=>1-a(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=a=>(a*=2)<1?.5*backIn(a):.5*(2-Math.pow(2,-10*(a-1))),circIn=a=>1-Math.sin(Math.acos(a)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=a=>/^0[^.\s]+$/u.test(a);function isNone(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||isZeroValueString(a):!0}const sanitize=a=>Math.round(a*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(a){return a==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(a,s)=>et=>!!(typeof et=="string"&&singleColorRegex.test(et)&&et.startsWith(a)||s&&!isNullish(et)&&Object.prototype.hasOwnProperty.call(et,s)),splitColor=(a,s,et)=>tt=>{if(typeof tt!="string")return tt;const[at,ct,ut,bt]=tt.match(floatRegex);return{[a]:parseFloat(at),[s]:parseFloat(ct),[et]:parseFloat(ut),alpha:bt!==void 0?parseFloat(bt):1}},clampRgbUnit=a=>clamp$3(0,255,a),rgbUnit={...number,transform:a=>Math.round(clampRgbUnit(a))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:a,green:s,blue:et,alpha:tt=1})=>"rgba("+rgbUnit.transform(a)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(et)+", "+sanitize(alpha.transform(tt))+")"};function parseHex(a){let s="",et="",tt="",at="";return a.length>5?(s=a.substring(1,3),et=a.substring(3,5),tt=a.substring(5,7),at=a.substring(7,9)):(s=a.substring(1,2),et=a.substring(2,3),tt=a.substring(3,4),at=a.substring(4,5),s+=s,et+=et,tt+=tt,at+=at),{red:parseInt(s,16),green:parseInt(et,16),blue:parseInt(tt,16),alpha:at?parseInt(at,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:a,saturation:s,lightness:et,alpha:tt=1})=>"hsla("+Math.round(a)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(et))+", "+sanitize(alpha.transform(tt))+")"},color={test:a=>rgba.test(a)||hex.test(a)||hsla.test(a),parse:a=>rgba.test(a)?rgba.parse(a):hsla.test(a)?hsla.parse(a):hex.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?rgba.transform(a):hsla.transform(a)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(a){var s,et;return isNaN(a)&&typeof a=="string"&&(((s=a.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((et=a.match(colorRegex))===null||et===void 0?void 0:et.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(a){const s=a.toString(),et=[],tt={color:[],number:[],var:[]},at=[];let ct=0;const bt=s.replace(complexRegex,wt=>(color.test(wt)?(tt.color.push(ct),at.push(COLOR_TOKEN),et.push(color.parse(wt))):wt.startsWith(VAR_FUNCTION_TOKEN)?(tt.var.push(ct),at.push(VAR_TOKEN),et.push(wt)):(tt.number.push(ct),at.push(NUMBER_TOKEN),et.push(parseFloat(wt))),++ct,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:et,split:bt,indexes:tt,types:at}}function parseComplexValue(a){return analyseComplexValue(a).values}function createTransformer(a){const{split:s,types:et}=analyseComplexValue(a),tt=s.length;return at=>{let ct="";for(let ut=0;ut<tt;ut++)if(ct+=s[ut],at[ut]!==void 0){const bt=et[ut];bt===NUMBER_TOKEN?ct+=sanitize(at[ut]):bt===COLOR_TOKEN?ct+=color.transform(at[ut]):ct+=at[ut]}return ct}}const convertNumbersToZero=a=>typeof a=="number"?0:a;function getAnimatableNone$1(a){const s=parseComplexValue(a);return createTransformer(a)(s.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(a){const[s,et]=a.slice(0,-1).split("(");if(s==="drop-shadow")return a;const[tt]=et.match(floatRegex)||[];if(!tt)return a;const at=et.replace(tt,"");let ct=maxDefaults.has(s)?1:0;return tt!==et&&(ct*=100),s+"("+ct+at+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:a=>{const s=a.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):a}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=a=>defaultValueTypes[a];function getAnimatableNone(a,s){let et=getDefaultValueType(a);return et!==filter&&(et=complex),et.getAnimatableNone?et.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(a,s,et){let tt=0,at;for(;tt<a.length&&!at;){const ct=a[tt];typeof ct=="string"&&!invalidTemplates.has(ct)&&analyseComplexValue(ct).values.length&&(at=a[tt]),tt++}if(at&&et)for(const ct of s)a[ct]=getAnimatableNone(et,at)}const isNumOrPxType=a=>a===number||a===px,getPosFromMatrix=(a,s)=>parseFloat(a.split(", ")[s]),getTranslateFromMatrix=(a,s)=>(et,{transform:tt})=>{if(tt==="none"||!tt)return 0;const at=tt.match(/^matrix3d\((.+)\)$/u);if(at)return getPosFromMatrix(at[1],s);{const ct=tt.match(/^matrix\((.+)\)$/u);return ct?getPosFromMatrix(ct[1],a):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(a=>!transformKeys.has(a));function removeNonTranslationalTransform(a){const s=[];return nonTranslationalTransformKeys.forEach(et=>{const tt=a.getValue(et);tt!==void 0&&(s.push([et,tt.get()]),tt.set(et.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:a},{paddingLeft:s="0",paddingRight:et="0"})=>a.max-a.min-parseFloat(s)-parseFloat(et),height:({y:a},{paddingTop:s="0",paddingBottom:et="0"})=>a.max-a.min-parseFloat(s)-parseFloat(et),top:(a,{top:s})=>parseFloat(s),left:(a,{left:s})=>parseFloat(s),bottom:({y:a},{top:s})=>parseFloat(s)+(a.max-a.min),right:({x:a},{left:s})=>parseFloat(s)+(a.max-a.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const a=Array.from(toResolve).filter(tt=>tt.needsMeasurement),s=new Set(a.map(tt=>tt.element)),et=new Map;s.forEach(tt=>{const at=removeNonTranslationalTransform(tt);at.length&&(et.set(tt,at),tt.render())}),a.forEach(tt=>tt.measureInitialState()),s.forEach(tt=>{tt.render();const at=et.get(tt);at&&at.forEach(([ct,ut])=>{var bt;(bt=tt.getValue(ct))===null||bt===void 0||bt.set(ut)})}),a.forEach(tt=>tt.measureEndState()),a.forEach(tt=>{tt.suspendedScrollY!==void 0&&window.scrollTo(0,tt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(a=>a.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,et,tt,at,ct,ut=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=et,this.name=tt,this.motionValue=at,this.element=ct,this.isAsync=ut}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:et,element:tt,motionValue:at}=this;for(let ct=0;ct<s.length;ct++)if(s[ct]===null)if(ct===0){const ut=at==null?void 0:at.get(),bt=s[s.length-1];if(ut!==void 0)s[0]=ut;else if(tt&&et){const wt=tt.readValue(et,bt);wt!=null&&(s[0]=wt)}s[0]===void 0&&(s[0]=bt),at&&ut===void 0&&at.set(s[0])}else s[ct]=s[ct-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(a){const s=splitCSSVariableRegex.exec(a);if(!s)return[,];const[,et,tt,at]=s;return[`--${et??tt}`,at]}function getVariableValue(a,s,et=1){const[tt,at]=parseCSSVariable(a);if(!tt)return;const ct=window.getComputedStyle(s).getPropertyValue(tt);if(ct){const ut=ct.trim();return isNumericalString(ut)?parseFloat(ut):ut}return isCSSVariableToken(at)?getVariableValue(at,s,et+1):at}const testValueType=a=>s=>s.test(a),auto$1={test:a=>a==="auto",parse:a=>a},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=a=>dimensionValueTypes.find(testValueType(a));class DOMKeyframesResolver extends KeyframeResolver{constructor(s,et,tt,at,ct){super(s,et,tt,at,ct,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:et,name:tt}=this;if(!et||!et.current)return;super.readKeyframes();for(let wt=0;wt<s.length;wt++){let Et=s[wt];if(typeof Et=="string"&&(Et=Et.trim(),isCSSVariableToken(Et))){const Ft=getVariableValue(Et,et.current);Ft!==void 0&&(s[wt]=Ft),wt===s.length-1&&(this.finalKeyframe=Et)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(tt)||s.length!==2)return;const[at,ct]=s,ut=findDimensionValueType(at),bt=findDimensionValueType(ct);if(ut!==bt)if(isNumOrPxType(ut)&&isNumOrPxType(bt))for(let wt=0;wt<s.length;wt++){const Et=s[wt];typeof Et=="string"&&(s[wt]=parseFloat(Et))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:et}=this,tt=[];for(let at=0;at<s.length;at++)isNone(s[at])&&tt.push(at);tt.length&&makeNoneKeyframesAnimatable(s,tt,et)}measureInitialState(){const{element:s,unresolvedKeyframes:et,name:tt}=this;if(!s||!s.current)return;tt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[tt](s.measureViewportBox(),window.getComputedStyle(s.current)),et[0]=this.measuredOrigin;const at=et[et.length-1];at!==void 0&&s.getValue(tt,at).jump(at,!1)}measureEndState(){var s;const{element:et,name:tt,unresolvedKeyframes:at}=this;if(!et||!et.current)return;const ct=et.getValue(tt);ct&&ct.jump(this.measuredOrigin,!1);const ut=at.length-1,bt=at[ut];at[ut]=positionalValues[tt](et.measureViewportBox(),window.getComputedStyle(et.current)),bt!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=bt),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([wt,Et])=>{et.getValue(wt).set(Et)}),this.resolveNoneKeyframes()}}const isAnimatable=(a,s)=>s==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(complex.test(a)||a==="0")&&!a.startsWith("url("));function hasKeyframesChanged(a){const s=a[0];if(a.length===1)return!0;for(let et=0;et<a.length;et++)if(a[et]!==s)return!0}function canAnimate(a,s,et,tt){const at=a[0];if(at===null)return!1;if(s==="display"||s==="visibility")return!0;const ct=a[a.length-1],ut=isAnimatable(at,s),bt=isAnimatable(ct,s);return!ut||!bt?!1:hasKeyframesChanged(a)||(et==="spring"||isGenerator(et))&&tt}const isNotNull=a=>a!==null;function getFinalKeyframe(a,{repeat:s,repeatType:et="loop"},tt){const at=a.filter(isNotNull),ct=s&&et!=="loop"&&s%2===1?0:at.length-1;return!ct||tt===void 0?at[ct]:tt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:et=0,type:tt="keyframes",repeat:at=0,repeatDelay:ct=0,repeatType:ut="loop",...bt}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:et,type:tt,repeat:at,repeatDelay:ct,repeatType:ut,...bt},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,et){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:tt,type:at,velocity:ct,delay:ut,onComplete:bt,onUpdate:wt,isGenerator:Et}=this.options;if(!Et&&!canAnimate(s,tt,at,ct))if(ut)this.options.duration=0;else{wt&&wt(getFinalKeyframe(s,this.options,et)),bt&&bt(),this.resolveFinishedPromise();return}const Ft=this.initPlayback(s,et);Ft!==!1&&(this._resolved={keyframes:s,finalKeyframe:et,...Ft},this.onPostResolved())}onPostResolved(){}then(s,et){return this.currentFinishedPromise.then(s,et)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const mixNumber$1=(a,s,et)=>a+(s-a)*et;function hueToRgb(a,s,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?a+(s-a)*6*et:et<1/2?s:et<2/3?a+(s-a)*(2/3-et)*6:a}function hslaToRgba({hue:a,saturation:s,lightness:et,alpha:tt}){a/=360,s/=100,et/=100;let at=0,ct=0,ut=0;if(!s)at=ct=ut=et;else{const bt=et<.5?et*(1+s):et+s-et*s,wt=2*et-bt;at=hueToRgb(wt,bt,a+1/3),ct=hueToRgb(wt,bt,a),ut=hueToRgb(wt,bt,a-1/3)}return{red:Math.round(at*255),green:Math.round(ct*255),blue:Math.round(ut*255),alpha:tt}}function mixImmediate(a,s){return et=>et>0?s:a}const mixLinearColor=(a,s,et)=>{const tt=a*a,at=et*(s*s-tt)+tt;return at<0?0:Math.sqrt(at)},colorTypes=[hex,rgba,hsla],getColorType=a=>colorTypes.find(s=>s.test(a));function asRGBA(a){const s=getColorType(a);if(!s)return!1;let et=s.parse(a);return s===hsla&&(et=hslaToRgba(et)),et}const mixColor=(a,s)=>{const et=asRGBA(a),tt=asRGBA(s);if(!et||!tt)return mixImmediate(a,s);const at={...et};return ct=>(at.red=mixLinearColor(et.red,tt.red,ct),at.green=mixLinearColor(et.green,tt.green,ct),at.blue=mixLinearColor(et.blue,tt.blue,ct),at.alpha=mixNumber$1(et.alpha,tt.alpha,ct),rgba.transform(at))},combineFunctions=(a,s)=>et=>s(a(et)),pipe$1=(...a)=>a.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(a,s){return invisibleValues.has(a)?et=>et<=0?a:s:et=>et>=1?s:a}function mixNumber(a,s){return et=>mixNumber$1(a,s,et)}function getMixer(a){return typeof a=="number"?mixNumber:typeof a=="string"?isCSSVariableToken(a)?mixImmediate:color.test(a)?mixColor:mixComplex:Array.isArray(a)?mixArray:typeof a=="object"?color.test(a)?mixColor:mixObject:mixImmediate}function mixArray(a,s){const et=[...a],tt=et.length,at=a.map((ct,ut)=>getMixer(ct)(ct,s[ut]));return ct=>{for(let ut=0;ut<tt;ut++)et[ut]=at[ut](ct);return et}}function mixObject(a,s){const et={...a,...s},tt={};for(const at in et)a[at]!==void 0&&s[at]!==void 0&&(tt[at]=getMixer(a[at])(a[at],s[at]));return at=>{for(const ct in tt)et[ct]=tt[ct](at);return et}}function matchOrder(a,s){var et;const tt=[],at={color:0,var:0,number:0};for(let ct=0;ct<s.values.length;ct++){const ut=s.types[ct],bt=a.indexes[ut][at[ut]],wt=(et=a.values[bt])!==null&&et!==void 0?et:0;tt[ct]=wt,at[ut]++}return tt}const mixComplex=(a,s)=>{const et=complex.createTransformer(s),tt=analyseComplexValue(a),at=analyseComplexValue(s);return tt.indexes.var.length===at.indexes.var.length&&tt.indexes.color.length===at.indexes.color.length&&tt.indexes.number.length>=at.indexes.number.length?invisibleValues.has(a)&&!at.values.length||invisibleValues.has(s)&&!tt.values.length?mixVisibility(a,s):pipe$1(mixArray(matchOrder(tt,at),at.values),et):mixImmediate(a,s)};function mix(a,s,et){return typeof a=="number"&&typeof s=="number"&&typeof et=="number"?mixNumber$1(a,s,et):getMixer(a)(a,s)}const velocitySampleDuration=5;function calcGeneratorVelocity(a,s,et){const tt=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(et-a(tt),s-tt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:a=springDefaults.duration,bounce:s=springDefaults.bounce,velocity:et=springDefaults.velocity,mass:tt=springDefaults.mass}){let at,ct,ut=1-s;ut=clamp$3(springDefaults.minDamping,springDefaults.maxDamping,ut),a=clamp$3(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(a)),ut<1?(at=Et=>{const Ft=Et*ut,jt=Ft*a,Lt=Ft-et,Ut=calcAngularFreq(Et,ut),Vt=Math.exp(-jt);return safeMin-Lt/Ut*Vt},ct=Et=>{const jt=Et*ut*a,Lt=jt*et+et,Ut=Math.pow(ut,2)*Math.pow(Et,2)*a,Vt=Math.exp(-jt),Yt=calcAngularFreq(Math.pow(Et,2),ut);return(-at(Et)+safeMin>0?-1:1)*((Lt-Ut)*Vt)/Yt}):(at=Et=>{const Ft=Math.exp(-Et*a),jt=(Et-et)*a+1;return-.001+Ft*jt},ct=Et=>{const Ft=Math.exp(-Et*a),jt=(et-Et)*(a*a);return Ft*jt});const bt=5/a,wt=approximateRoot(at,ct,bt);if(a=secondsToMilliseconds(a),isNaN(wt))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:a};{const Et=Math.pow(wt,2)*tt;return{stiffness:Et,damping:ut*2*Math.sqrt(tt*Et),duration:a}}}const rootIterations=12;function approximateRoot(a,s,et){let tt=et;for(let at=1;at<rootIterations;at++)tt=tt-a(tt)/s(tt);return tt}function calcAngularFreq(a,s){return a*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(a,s){return s.some(et=>a[et]!==void 0)}function getSpringOptions(a){let s={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...a};if(!isSpringType(a,physicsKeys)&&isSpringType(a,durationKeys))if(a.visualDuration){const et=a.visualDuration,tt=2*Math.PI/(et*1.2),at=tt*tt,ct=2*clamp$3(.05,1,1-(a.bounce||0))*Math.sqrt(at);s={...s,mass:springDefaults.mass,stiffness:at,damping:ct}}else{const et=findSpring(a);s={...s,...et,mass:springDefaults.mass},s.isResolvedFromDuration=!0}return s}function spring(a=springDefaults.visualDuration,s=springDefaults.bounce){const et=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:s}:a;let{restSpeed:tt,restDelta:at}=et;const ct=et.keyframes[0],ut=et.keyframes[et.keyframes.length-1],bt={done:!1,value:ct},{stiffness:wt,damping:Et,mass:Ft,duration:jt,velocity:Lt,isResolvedFromDuration:Ut}=getSpringOptions({...et,velocity:-millisecondsToSeconds(et.velocity||0)}),Vt=Lt||0,Yt=Et/(2*Math.sqrt(wt*Ft)),er=ut-ct,tr=millisecondsToSeconds(Math.sqrt(wt/Ft)),nr=Math.abs(er)<5;tt||(tt=nr?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),at||(at=nr?springDefaults.restDelta.granular:springDefaults.restDelta.default);let ir;if(Yt<1){const pr=calcAngularFreq(tr,Yt);ir=yr=>{const br=Math.exp(-Yt*tr*yr);return ut-br*((Vt+Yt*tr*er)/pr*Math.sin(pr*yr)+er*Math.cos(pr*yr))}}else if(Yt===1)ir=pr=>ut-Math.exp(-tr*pr)*(er+(Vt+tr*er)*pr);else{const pr=tr*Math.sqrt(Yt*Yt-1);ir=yr=>{const br=Math.exp(-Yt*tr*yr),xr=Math.min(pr*yr,300);return ut-br*((Vt+Yt*tr*er)*Math.sinh(xr)+pr*er*Math.cosh(xr))/pr}}const lr={calculatedDuration:Ut&&jt||null,next:pr=>{const yr=ir(pr);if(Ut)bt.done=pr>=jt;else{let br=0;Yt<1&&(br=pr===0?secondsToMilliseconds(Vt):calcGeneratorVelocity(ir,pr,yr));const xr=Math.abs(br)<=tt,Er=Math.abs(ut-yr)<=at;bt.done=xr&&Er}return bt.value=bt.done?ut:yr,bt},toString:()=>{const pr=Math.min(calcGeneratorDuration(lr),maxGeneratorDuration),yr=generateLinearEasing(br=>lr.next(pr*br).value,pr,30);return pr+"ms "+yr}};return lr}function inertia({keyframes:a,velocity:s=0,power:et=.8,timeConstant:tt=325,bounceDamping:at=10,bounceStiffness:ct=500,modifyTarget:ut,min:bt,max:wt,restDelta:Et=.5,restSpeed:Ft}){const jt=a[0],Lt={done:!1,value:jt},Ut=xr=>bt!==void 0&&xr<bt||wt!==void 0&&xr>wt,Vt=xr=>bt===void 0?wt:wt===void 0||Math.abs(bt-xr)<Math.abs(wt-xr)?bt:wt;let Yt=et*s;const er=jt+Yt,tr=ut===void 0?er:ut(er);tr!==er&&(Yt=tr-jt);const nr=xr=>-Yt*Math.exp(-xr/tt),ir=xr=>tr+nr(xr),lr=xr=>{const Er=nr(xr),$r=ir(xr);Lt.done=Math.abs(Er)<=Et,Lt.value=Lt.done?tr:$r};let pr,yr;const br=xr=>{Ut(Lt.value)&&(pr=xr,yr=spring({keyframes:[Lt.value,Vt(Lt.value)],velocity:calcGeneratorVelocity(ir,xr,Lt.value),damping:at,stiffness:ct,restDelta:Et,restSpeed:Ft}))};return br(0),{calculatedDuration:null,next:xr=>{let Er=!1;return!yr&&pr===void 0&&(Er=!0,lr(xr),br(xr)),pr!==void 0&&xr>=pr?yr.next(xr-pr):(!Er&&lr(xr),Lt)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=a=>Array.isArray(a)&&typeof a[0]!="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=a=>{if(isBezierDefinition(a)){invariant$N(a.length===4);const[s,et,tt,at]=a;return cubicBezier(s,et,tt,at)}else if(typeof a=="string")return easingLookup[a];return a};function createMixers(a,s,et){const tt=[],at=et||mix,ct=a.length-1;for(let ut=0;ut<ct;ut++){let bt=at(a[ut],a[ut+1]);if(s){const wt=Array.isArray(s)?s[ut]||noop$2:s;bt=pipe$1(wt,bt)}tt.push(bt)}return tt}function interpolate(a,s,{clamp:et=!0,ease:tt,mixer:at}={}){const ct=a.length;if(invariant$N(ct===s.length),ct===1)return()=>s[0];if(ct===2&&s[0]===s[1])return()=>s[1];const ut=a[0]===a[1];a[0]>a[ct-1]&&(a=[...a].reverse(),s=[...s].reverse());const bt=createMixers(s,tt,at),wt=bt.length,Et=Ft=>{if(ut&&Ft<a[0])return s[0];let jt=0;if(wt>1)for(;jt<a.length-2&&!(Ft<a[jt+1]);jt++);const Lt=progress(a[jt],a[jt+1],Ft);return bt[jt](Lt)};return et?Ft=>Et(clamp$3(a[0],a[ct-1],Ft)):Et}function fillOffset(a,s){const et=a[a.length-1];for(let tt=1;tt<=s;tt++){const at=progress(0,s,tt);a.push(mixNumber$1(et,1,at))}}function defaultOffset(a){const s=[0];return fillOffset(s,a.length-1),s}function convertOffsetToTimes(a,s){return a.map(et=>et*s)}function defaultEasing(a,s){return a.map(()=>s||easeInOut).splice(0,a.length-1)}function keyframes({duration:a=300,keyframes:s,times:et,ease:tt="easeInOut"}){const at=isEasingArray(tt)?tt.map(easingDefinitionToFunction):easingDefinitionToFunction(tt),ct={done:!1,value:s[0]},ut=convertOffsetToTimes(et&&et.length===s.length?et:defaultOffset(s),a),bt=interpolate(ut,s,{ease:Array.isArray(at)?at:defaultEasing(s,at)});return{calculatedDuration:a,next:wt=>(ct.value=bt(wt),ct.done=wt>=a,ct)}}const frameloopDriver=a=>{const s=({timestamp:et})=>a(et);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=a=>a/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:wt}=this.options;wt&&wt()};const{name:et,motionValue:tt,element:at,keyframes:ct}=this.options,ut=(at==null?void 0:at.KeyframeResolver)||KeyframeResolver,bt=(wt,Et)=>this.onKeyframesResolved(wt,Et);this.resolver=new ut(ct,bt,et,tt,at),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:et="keyframes",repeat:tt=0,repeatDelay:at=0,repeatType:ct,velocity:ut=0}=this.options,bt=isGenerator(et)?et:generators[et]||keyframes;let wt,Et;bt!==keyframes&&typeof s[0]!="number"&&(wt=pipe$1(percentToProgress,mix(s[0],s[1])),s=[0,100]);const Ft=bt({...this.options,keyframes:s});ct==="mirror"&&(Et=bt({...this.options,keyframes:[...s].reverse(),velocity:-ut})),Ft.calculatedDuration===null&&(Ft.calculatedDuration=calcGeneratorDuration(Ft));const{calculatedDuration:jt}=Ft,Lt=jt+at,Ut=Lt*(tt+1)-at;return{generator:Ft,mirroredGenerator:Et,mapPercentToKeyframes:wt,calculatedDuration:jt,resolvedDuration:Lt,totalDuration:Ut}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,et=!1){const{resolved:tt}=this;if(!tt){const{keyframes:xr}=this.options;return{done:!0,value:xr[xr.length-1]}}const{finalKeyframe:at,generator:ct,mirroredGenerator:ut,mapPercentToKeyframes:bt,keyframes:wt,calculatedDuration:Et,totalDuration:Ft,resolvedDuration:jt}=tt;if(this.startTime===null)return ct.next(0);const{delay:Lt,repeat:Ut,repeatType:Vt,repeatDelay:Yt,onUpdate:er}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-Ft/this.speed,this.startTime)),et?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const tr=this.currentTime-Lt*(this.speed>=0?1:-1),nr=this.speed>=0?tr<0:tr>Ft;this.currentTime=Math.max(tr,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Ft);let ir=this.currentTime,lr=ct;if(Ut){const xr=Math.min(this.currentTime,Ft)/jt;let Er=Math.floor(xr),$r=xr%1;!$r&&xr>=1&&($r=1),$r===1&&Er--,Er=Math.min(Er,Ut+1),!!(Er%2)&&(Vt==="reverse"?($r=1-$r,Yt&&($r-=Yt/jt)):Vt==="mirror"&&(lr=ut)),ir=clamp$3(0,1,$r)*jt}const pr=nr?{done:!1,value:wt[0]}:lr.next(ir);bt&&(pr.value=bt(pr.value));let{done:yr}=pr;!nr&&Et!==null&&(yr=this.speed>=0?this.currentTime>=Ft:this.currentTime<=0);const br=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&yr);return br&&at!==void 0&&(pr.value=getFinalKeyframe(wt,this.options,at)),er&&er(pr.value),br&&this.finish(),pr}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const et=this.playbackSpeed!==s;this.playbackSpeed=s,et&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:et,startTime:tt}=this.options;this.driver||(this.driver=s(ct=>this.tick(ct))),et&&et();const at=this.driver.now();this.holdTime!==null?this.startTime=at-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=at):this.startTime=tt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(a,s,et,{delay:tt=0,duration:at=300,repeat:ct=0,repeatType:ut="loop",ease:bt="easeInOut",times:wt}={}){const Et={[s]:et};wt&&(Et.offset=wt);const Ft=mapEasingToNativeEasing(bt,at);return Array.isArray(Ft)&&(Et.easing=Ft),a.animate(Et,{delay:tt,duration:at,easing:Array.isArray(Ft)?"linear":Ft,fill:"both",iterations:ct+1,direction:ut==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(a){return isGenerator(a.type)||a.type==="spring"||!isWaapiSupportedEasing(a.ease)}function pregenerateKeyframes(a,s){const et=new MainThreadAnimation({...s,keyframes:a,repeat:0,delay:0,isGenerator:!0});let tt={done:!1,value:a[0]};const at=[];let ct=0;for(;!tt.done&&ct<maxDuration;)tt=et.sample(ct),at.push(tt.value),ct+=sampleDelta;return{times:void 0,keyframes:at,duration:ct-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(a){return a in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:et,motionValue:tt,element:at,keyframes:ct}=this.options;this.resolver=new DOMKeyframesResolver(ct,(ut,bt)=>this.onKeyframesResolved(ut,bt),et,tt,at),this.resolver.scheduleResolve()}initPlayback(s,et){let{duration:tt=300,times:at,ease:ct,type:ut,motionValue:bt,name:wt,startTime:Et}=this.options;if(!bt.owner||!bt.owner.current)return!1;if(typeof ct=="string"&&supportsLinearEasing()&&isUnsupportedEase(ct)&&(ct=unsupportedEasingFunctions[ct]),requiresPregeneratedKeyframes(this.options)){const{onComplete:jt,onUpdate:Lt,motionValue:Ut,element:Vt,...Yt}=this.options,er=pregenerateKeyframes(s,Yt);s=er.keyframes,s.length===1&&(s[1]=s[0]),tt=er.duration,at=er.times,ct=er.ease,ut="keyframes"}const Ft=startWaapiAnimation(bt.owner.current,wt,s,{...this.options,duration:tt,times:at,ease:ct});return Ft.startTime=Et??this.calcStartTime(),this.pendingTimeline?(attachTimeline(Ft,this.pendingTimeline),this.pendingTimeline=void 0):Ft.onfinish=()=>{const{onComplete:jt}=this.options;bt.set(getFinalKeyframe(s,this.options,et)),jt&&jt(),this.cancel(),this.resolveFinishedPromise()},{animation:Ft,duration:tt,times:at,type:ut,ease:ct,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:et}=s;return millisecondsToSeconds(et)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:et}=s;return millisecondsToSeconds(et.currentTime||0)}set time(s){const{resolved:et}=this;if(!et)return;const{animation:tt}=et;tt.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:et}=s;return et.playbackRate}set speed(s){const{resolved:et}=this;if(!et)return;const{animation:tt}=et;tt.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:et}=s;return et.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:et}=s;return et.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:et}=this;if(!et)return noop$2;const{animation:tt}=et;attachTimeline(tt,s)}return noop$2}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:et}=s;et.playState==="finished"&&this.updateFinishedPromise(),et.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:et}=s;et.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:et,keyframes:tt,duration:at,type:ct,ease:ut,times:bt}=s;if(et.playState==="idle"||et.playState==="finished")return;if(this.time){const{motionValue:Et,onUpdate:Ft,onComplete:jt,element:Lt,...Ut}=this.options,Vt=new MainThreadAnimation({...Ut,keyframes:tt,duration:at,type:ct,ease:ut,times:bt,isGenerator:!0}),Yt=secondsToMilliseconds(this.time);Et.setWithVelocity(Vt.sample(Yt-sampleDelta).value,Vt.sample(Yt).value,sampleDelta)}const{onStop:wt}=this.options;wt&&wt(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:et,name:tt,repeatDelay:at,repeatType:ct,damping:ut,type:bt}=s;if(!et||!et.owner||!(et.owner.current instanceof HTMLElement))return!1;const{onUpdate:wt,transformTemplate:Et}=et.owner.getProps();return supportsWaapi()&&tt&&acceleratedValues.has(tt)&&!wt&&!Et&&!at&&ct!=="mirror"&&ut!==0&&bt!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(a,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(a)?a.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:a,delay:s,delayChildren:et,staggerChildren:tt,staggerDirection:at,repeat:ct,repeatType:ut,repeatDelay:bt,from:wt,elapsed:Et,...Ft}){return!!Object.keys(Ft).length}const animateMotionValue=(a,s,et,tt={},at,ct)=>ut=>{const bt=getValueTransition(tt,a)||{},wt=bt.delay||tt.delay||0;let{elapsed:Et=0}=tt;Et=Et-secondsToMilliseconds(wt);let Ft={keyframes:Array.isArray(et)?et:[null,et],ease:"easeOut",velocity:s.getVelocity(),...bt,delay:-Et,onUpdate:Lt=>{s.set(Lt),bt.onUpdate&&bt.onUpdate(Lt)},onComplete:()=>{ut(),bt.onComplete&&bt.onComplete()},name:a,motionValue:s,element:ct?void 0:at};isTransitionDefined(bt)||(Ft={...Ft,...getDefaultTransition(a,Ft)}),Ft.duration&&(Ft.duration=secondsToMilliseconds(Ft.duration)),Ft.repeatDelay&&(Ft.repeatDelay=secondsToMilliseconds(Ft.repeatDelay)),Ft.from!==void 0&&(Ft.keyframes[0]=Ft.from);let jt=!1;if((Ft.type===!1||Ft.duration===0&&!Ft.repeatDelay)&&(Ft.duration=0,Ft.delay===0&&(jt=!0)),jt&&!ct&&s.get()!==void 0){const Lt=getFinalKeyframe(Ft.keyframes,bt);if(Lt!==void 0)return frame.update(()=>{Ft.onUpdate(Lt),Ft.onComplete()}),new GroupPlaybackControls([])}return!ct&&AcceleratedAnimation.supports(Ft)?new AcceleratedAnimation(Ft):new MainThreadAnimation(Ft)};function shouldBlockAnimation({protectedKeys:a,needsAnimating:s},et){const tt=a.hasOwnProperty(et)&&s[et]!==!0;return s[et]=!1,tt}function animateTarget(a,s,{delay:et=0,transitionOverride:tt,type:at}={}){var ct;let{transition:ut=a.getDefaultTransition(),transitionEnd:bt,...wt}=s;tt&&(ut=tt);const Et=[],Ft=at&&a.animationState&&a.animationState.getState()[at];for(const jt in wt){const Lt=a.getValue(jt,(ct=a.latestValues[jt])!==null&&ct!==void 0?ct:null),Ut=wt[jt];if(Ut===void 0||Ft&&shouldBlockAnimation(Ft,jt))continue;const Vt={delay:et,...getValueTransition(ut||{},jt)};let Yt=!1;if(window.MotionHandoffAnimation){const tr=getOptimisedAppearId(a);if(tr){const nr=window.MotionHandoffAnimation(tr,jt,frame);nr!==null&&(Vt.startTime=nr,Yt=!0)}}addValueToWillChange(a,jt),Lt.start(animateMotionValue(jt,Lt,Ut,a.shouldReduceMotion&&positionalKeys.has(jt)?{type:!1}:Vt,a,Yt));const er=Lt.animation;er&&Et.push(er)}return bt&&Promise.all(Et).then(()=>{frame.update(()=>{bt&&setTarget(a,bt)})}),Et}function animateVariant(a,s,et={}){var tt;const at=resolveVariant(a,s,et.type==="exit"?(tt=a.presenceContext)===null||tt===void 0?void 0:tt.custom:void 0);let{transition:ct=a.getDefaultTransition()||{}}=at||{};et.transitionOverride&&(ct=et.transitionOverride);const ut=at?()=>Promise.all(animateTarget(a,at,et)):()=>Promise.resolve(),bt=a.variantChildren&&a.variantChildren.size?(Et=0)=>{const{delayChildren:Ft=0,staggerChildren:jt,staggerDirection:Lt}=ct;return animateChildren(a,s,Ft+Et,jt,Lt,et)}:()=>Promise.resolve(),{when:wt}=ct;if(wt){const[Et,Ft]=wt==="beforeChildren"?[ut,bt]:[bt,ut];return Et().then(()=>Ft())}else return Promise.all([ut(),bt(et.delay)])}function animateChildren(a,s,et=0,tt=0,at=1,ct){const ut=[],bt=(a.variantChildren.size-1)*tt,wt=at===1?(Et=0)=>Et*tt:(Et=0)=>bt-Et*tt;return Array.from(a.variantChildren).sort(sortByTreeOrder).forEach((Et,Ft)=>{Et.notify("AnimationStart",s),ut.push(animateVariant(Et,s,{...ct,delay:et+wt(Ft)}).then(()=>Et.notify("AnimationComplete",s)))}),Promise.all(ut)}function sortByTreeOrder(a,s){return a.sortNodePosition(s)}function animateVisualElement(a,s,et={}){a.notify("AnimationStart",s);let tt;if(Array.isArray(s)){const at=s.map(ct=>animateVariant(a,ct,et));tt=Promise.all(at)}else if(typeof s=="string")tt=animateVariant(a,s,et);else{const at=typeof s=="function"?resolveVariant(a,s,et.custom):s;tt=Promise.all(animateTarget(a,at,et))}return tt.then(()=>{a.notify("AnimationComplete",s)})}const numVariantProps=variantProps.length;function getVariantContext(a){if(!a)return;if(!a.isControllingVariants){const et=a.parent?getVariantContext(a.parent)||{}:{};return a.props.initial!==void 0&&(et.initial=a.props.initial),et}const s={};for(let et=0;et<numVariantProps;et++){const tt=variantProps[et],at=a.props[tt];(isVariantLabel(at)||at===!1)&&(s[tt]=at)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(a){return s=>Promise.all(s.map(({animation:et,options:tt})=>animateVisualElement(a,et,tt)))}function createAnimationState(a){let s=animateList(a),et=createState(),tt=!0;const at=wt=>(Et,Ft)=>{var jt;const Lt=resolveVariant(a,Ft,wt==="exit"?(jt=a.presenceContext)===null||jt===void 0?void 0:jt.custom:void 0);if(Lt){const{transition:Ut,transitionEnd:Vt,...Yt}=Lt;Et={...Et,...Yt,...Vt}}return Et};function ct(wt){s=wt(a)}function ut(wt){const{props:Et}=a,Ft=getVariantContext(a.parent)||{},jt=[],Lt=new Set;let Ut={},Vt=1/0;for(let er=0;er<numAnimationTypes;er++){const tr=reversePriorityOrder[er],nr=et[tr],ir=Et[tr]!==void 0?Et[tr]:Ft[tr],lr=isVariantLabel(ir),pr=tr===wt?nr.isActive:null;pr===!1&&(Vt=er);let yr=ir===Ft[tr]&&ir!==Et[tr]&&lr;if(yr&&tt&&a.manuallyAnimateOnMount&&(yr=!1),nr.protectedKeys={...Ut},!nr.isActive&&pr===null||!ir&&!nr.prevProp||isAnimationControls(ir)||typeof ir=="boolean")continue;const br=checkVariantsDidChange(nr.prevProp,ir);let xr=br||tr===wt&&nr.isActive&&!yr&&lr||er>Vt&&lr,Er=!1;const $r=Array.isArray(ir)?ir:[ir];let Sr=$r.reduce(at(tr),{});pr===!1&&(Sr={});const{prevResolvedValues:fr={}}=nr,vr={...fr,...Sr},or=sr=>{xr=!0,Lt.has(sr)&&(Er=!0,Lt.delete(sr)),nr.needsAnimating[sr]=!0;const dr=a.getValue(sr);dr&&(dr.liveStyle=!1)};for(const sr in vr){const dr=Sr[sr],gr=fr[sr];if(Ut.hasOwnProperty(sr))continue;let ur=!1;isKeyframesTarget(dr)&&isKeyframesTarget(gr)?ur=!shallowCompare(dr,gr):ur=dr!==gr,ur?dr!=null?or(sr):Lt.add(sr):dr!==void 0&&Lt.has(sr)?or(sr):nr.protectedKeys[sr]=!0}nr.prevProp=ir,nr.prevResolvedValues=Sr,nr.isActive&&(Ut={...Ut,...Sr}),tt&&a.blockInitialAnimation&&(xr=!1),xr&&(!(yr&&br)||Er)&&jt.push(...$r.map(sr=>({animation:sr,options:{type:tr}})))}if(Lt.size){const er={};Lt.forEach(tr=>{const nr=a.getBaseTarget(tr),ir=a.getValue(tr);ir&&(ir.liveStyle=!0),er[tr]=nr??null}),jt.push({animation:er})}let Yt=!!jt.length;return tt&&(Et.initial===!1||Et.initial===Et.animate)&&!a.manuallyAnimateOnMount&&(Yt=!1),tt=!1,Yt?s(jt):Promise.resolve()}function bt(wt,Et){var Ft;if(et[wt].isActive===Et)return Promise.resolve();(Ft=a.variantChildren)===null||Ft===void 0||Ft.forEach(Lt=>{var Ut;return(Ut=Lt.animationState)===null||Ut===void 0?void 0:Ut.setActive(wt,Et)}),et[wt].isActive=Et;const jt=ut(wt);for(const Lt in et)et[Lt].protectedKeys={};return jt}return{animateChanges:ut,setActive:bt,setAnimateFunction:ct,getState:()=>et,reset:()=>{et=createState(),tt=!0}}}function checkVariantsDidChange(a,s){return typeof s=="string"?s!==a:Array.isArray(s)?!shallowCompare(s,a):!1}function createTypeState(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:et}=this.node.prevProps||{};s!==et&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:et}=this.node.presenceContext,{isPresent:tt}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===tt)return;const at=this.node.animationState.setActive("exit",!s);et&&!s&&at.then(()=>et(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(a,s,et,tt={passive:!0}){return a.addEventListener(s,et,tt),()=>a.removeEventListener(s,et)}function extractEventInfo(a){return{point:{x:a.pageX,y:a.pageY}}}const addPointerInfo=a=>s=>isPrimaryPointer(s)&&a(s,extractEventInfo(s));function addPointerEvent(a,s,et,tt){return addDomEvent(a,s,addPointerInfo(et),tt)}const distance=(a,s)=>Math.abs(a-s);function distance2D(a,s){const et=distance(a.x,s.x),tt=distance(a.y,s.y);return Math.sqrt(et**2+tt**2)}class PanSession{constructor(s,et,{transformPagePoint:tt,contextWindow:at,dragSnapToOrigin:ct=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const jt=getPanInfo(this.lastMoveEventInfo,this.history),Lt=this.startEvent!==null,Ut=distance2D(jt.offset,{x:0,y:0})>=3;if(!Lt&&!Ut)return;const{point:Vt}=jt,{timestamp:Yt}=frameData;this.history.push({...Vt,timestamp:Yt});const{onStart:er,onMove:tr}=this.handlers;Lt||(er&&er(this.lastMoveEvent,jt),this.startEvent=this.lastMoveEvent),tr&&tr(this.lastMoveEvent,jt)},this.handlePointerMove=(jt,Lt)=>{this.lastMoveEvent=jt,this.lastMoveEventInfo=transformPoint(Lt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(jt,Lt)=>{this.end();const{onEnd:Ut,onSessionEnd:Vt,resumeAnimation:Yt}=this.handlers;if(this.dragSnapToOrigin&&Yt&&Yt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const er=getPanInfo(jt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Lt,this.transformPagePoint),this.history);this.startEvent&&Ut&&Ut(jt,er),Vt&&Vt(jt,er)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=ct,this.handlers=et,this.transformPagePoint=tt,this.contextWindow=at||window;const ut=extractEventInfo(s),bt=transformPoint(ut,this.transformPagePoint),{point:wt}=bt,{timestamp:Et}=frameData;this.history=[{...wt,timestamp:Et}];const{onSessionStart:Ft}=et;Ft&&Ft(s,getPanInfo(bt,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(a,s){return s?{point:s(a.point)}:a}function subtractPoint(a,s){return{x:a.x-s.x,y:a.y-s.y}}function getPanInfo({point:a},s){return{point:a,delta:subtractPoint(a,lastDevicePoint(s)),offset:subtractPoint(a,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(a){return a[0]}function lastDevicePoint(a){return a[a.length-1]}function getVelocity(a,s){if(a.length<2)return{x:0,y:0};let et=a.length-1,tt=null;const at=lastDevicePoint(a);for(;et>=0&&(tt=a[et],!(at.timestamp-tt.timestamp>secondsToMilliseconds(s)));)et--;if(!tt)return{x:0,y:0};const ct=millisecondsToSeconds(at.timestamp-tt.timestamp);if(ct===0)return{x:0,y:0};const ut={x:(at.x-tt.x)/ct,y:(at.y-tt.y)/ct};return ut.x===1/0&&(ut.x=0),ut.y===1/0&&(ut.y=0),ut}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(a){return a.max-a.min}function isNear(a,s,et){return Math.abs(a-s)<=et}function calcAxisDelta(a,s,et,tt=.5){a.origin=tt,a.originPoint=mixNumber$1(s.min,s.max,a.origin),a.scale=calcLength(et)/calcLength(s),a.translate=mixNumber$1(et.min,et.max,a.origin)-a.originPoint,(a.scale>=SCALE_MIN&&a.scale<=SCALE_MAX||isNaN(a.scale))&&(a.scale=1),(a.translate>=TRANSLATE_MIN&&a.translate<=TRANSLATE_MAX||isNaN(a.translate))&&(a.translate=0)}function calcBoxDelta(a,s,et,tt){calcAxisDelta(a.x,s.x,et.x,tt?tt.originX:void 0),calcAxisDelta(a.y,s.y,et.y,tt?tt.originY:void 0)}function calcRelativeAxis(a,s,et){a.min=et.min+s.min,a.max=a.min+calcLength(s)}function calcRelativeBox(a,s,et){calcRelativeAxis(a.x,s.x,et.x),calcRelativeAxis(a.y,s.y,et.y)}function calcRelativeAxisPosition(a,s,et){a.min=s.min-et.min,a.max=a.min+calcLength(s)}function calcRelativePosition(a,s,et){calcRelativeAxisPosition(a.x,s.x,et.x),calcRelativeAxisPosition(a.y,s.y,et.y)}function applyConstraints(a,{min:s,max:et},tt){return s!==void 0&&a<s?a=tt?mixNumber$1(s,a,tt.min):Math.max(a,s):et!==void 0&&a>et&&(a=tt?mixNumber$1(et,a,tt.max):Math.min(a,et)),a}function calcRelativeAxisConstraints(a,s,et){return{min:s!==void 0?a.min+s:void 0,max:et!==void 0?a.max+et-(a.max-a.min):void 0}}function calcRelativeConstraints(a,{top:s,left:et,bottom:tt,right:at}){return{x:calcRelativeAxisConstraints(a.x,et,at),y:calcRelativeAxisConstraints(a.y,s,tt)}}function calcViewportAxisConstraints(a,s){let et=s.min-a.min,tt=s.max-a.max;return s.max-s.min<a.max-a.min&&([et,tt]=[tt,et]),{min:et,max:tt}}function calcViewportConstraints(a,s){return{x:calcViewportAxisConstraints(a.x,s.x),y:calcViewportAxisConstraints(a.y,s.y)}}function calcOrigin(a,s){let et=.5;const tt=calcLength(a),at=calcLength(s);return at>tt?et=progress(s.min,s.max-tt,a.min):tt>at&&(et=progress(a.min,a.max-at,s.min)),clamp$3(0,1,et)}function rebaseAxisConstraints(a,s){const et={};return s.min!==void 0&&(et.min=s.min-a.min),s.max!==void 0&&(et.max=s.max-a.min),et}const defaultElastic=.35;function resolveDragElastic(a=defaultElastic){return a===!1?a=0:a===!0&&(a=defaultElastic),{x:resolveAxisElastic(a,"left","right"),y:resolveAxisElastic(a,"top","bottom")}}function resolveAxisElastic(a,s,et){return{min:resolvePointElastic(a,s),max:resolvePointElastic(a,et)}}function resolvePointElastic(a,s){return typeof a=="number"?a:a[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(a){return[a("x"),a("y")]}function convertBoundingBoxToBox({top:a,left:s,right:et,bottom:tt}){return{x:{min:s,max:et},y:{min:a,max:tt}}}function convertBoxToBoundingBox({x:a,y:s}){return{top:s.min,right:a.max,bottom:s.max,left:a.min}}function transformBoxPoints(a,s){if(!s)return a;const et=s({x:a.left,y:a.top}),tt=s({x:a.right,y:a.bottom});return{top:et.y,left:et.x,bottom:tt.y,right:tt.x}}function isIdentityScale(a){return a===void 0||a===1}function hasScale({scale:a,scaleX:s,scaleY:et}){return!isIdentityScale(a)||!isIdentityScale(s)||!isIdentityScale(et)}function hasTransform(a){return hasScale(a)||has2DTranslate(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function has2DTranslate(a){return is2DTranslate(a.x)||is2DTranslate(a.y)}function is2DTranslate(a){return a&&a!=="0%"}function scalePoint(a,s,et){const tt=a-et,at=s*tt;return et+at}function applyPointDelta(a,s,et,tt,at){return at!==void 0&&(a=scalePoint(a,at,tt)),scalePoint(a,et,tt)+s}function applyAxisDelta(a,s=0,et=1,tt,at){a.min=applyPointDelta(a.min,s,et,tt,at),a.max=applyPointDelta(a.max,s,et,tt,at)}function applyBoxDelta(a,{x:s,y:et}){applyAxisDelta(a.x,s.translate,s.scale,s.originPoint),applyAxisDelta(a.y,et.translate,et.scale,et.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(a,s,et,tt=!1){const at=et.length;if(!at)return;s.x=s.y=1;let ct,ut;for(let bt=0;bt<at;bt++){ct=et[bt],ut=ct.projectionDelta;const{visualElement:wt}=ct.options;wt&&wt.props.style&&wt.props.style.display==="contents"||(tt&&ct.options.layoutScroll&&ct.scroll&&ct!==ct.root&&transformBox(a,{x:-ct.scroll.offset.x,y:-ct.scroll.offset.y}),ut&&(s.x*=ut.x.scale,s.y*=ut.y.scale,applyBoxDelta(a,ut)),tt&&hasTransform(ct.latestValues)&&transformBox(a,ct.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(a,s){a.min=a.min+s,a.max=a.max+s}function transformAxis(a,s,et,tt,at=.5){const ct=mixNumber$1(a.min,a.max,at);applyAxisDelta(a,s,et,ct,tt)}function transformBox(a,s){transformAxis(a.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(a.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(a,s){return convertBoundingBoxToBox(transformBoxPoints(a.getBoundingClientRect(),s))}function measurePageBox(a,s,et){const tt=measureViewportBox(a,et),{scroll:at}=s;return at&&(translateAxis(tt.x,at.offset.x),translateAxis(tt.y,at.offset.y)),tt}const getContextWindow=({current:a})=>a?a.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:et=!1}={}){const{presenceContext:tt}=this.visualElement;if(tt&&tt.isPresent===!1)return;const at=Ft=>{const{dragSnapToOrigin:jt}=this.getProps();jt?this.pauseAnimation():this.stopAnimation(),et&&this.snapToCursor(extractEventInfo(Ft).point)},ct=(Ft,jt)=>{const{drag:Lt,dragPropagation:Ut,onDragStart:Vt}=this.getProps();if(Lt&&!Ut&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(Lt),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(er=>{let tr=this.getAxisMotionValue(er).get()||0;if(percent.test(tr)){const{projection:nr}=this.visualElement;if(nr&&nr.layout){const ir=nr.layout.layoutBox[er];ir&&(tr=calcLength(ir)*(parseFloat(tr)/100))}}this.originPoint[er]=tr}),Vt&&frame.postRender(()=>Vt(Ft,jt)),addValueToWillChange(this.visualElement,"transform");const{animationState:Yt}=this.visualElement;Yt&&Yt.setActive("whileDrag",!0)},ut=(Ft,jt)=>{const{dragPropagation:Lt,dragDirectionLock:Ut,onDirectionLock:Vt,onDrag:Yt}=this.getProps();if(!Lt&&!this.openDragLock)return;const{offset:er}=jt;if(Ut&&this.currentDirection===null){this.currentDirection=getCurrentDirection(er),this.currentDirection!==null&&Vt&&Vt(this.currentDirection);return}this.updateAxis("x",jt.point,er),this.updateAxis("y",jt.point,er),this.visualElement.render(),Yt&&Yt(Ft,jt)},bt=(Ft,jt)=>this.stop(Ft,jt),wt=()=>eachAxis(Ft=>{var jt;return this.getAnimationState(Ft)==="paused"&&((jt=this.getAxisMotionValue(Ft).animation)===null||jt===void 0?void 0:jt.play())}),{dragSnapToOrigin:Et}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:at,onStart:ct,onMove:ut,onSessionEnd:bt,resumeAnimation:wt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Et,contextWindow:getContextWindow(this.visualElement)})}stop(s,et){const tt=this.isDragging;if(this.cancel(),!tt)return;const{velocity:at}=et;this.startAnimation(at);const{onDragEnd:ct}=this.getProps();ct&&frame.postRender(()=>ct(s,et))}cancel(){this.isDragging=!1;const{projection:s,animationState:et}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:tt}=this.getProps();!tt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),et&&et.setActive("whileDrag",!1)}updateAxis(s,et,tt){const{drag:at}=this.getProps();if(!tt||!shouldDrag(s,at,this.currentDirection))return;const ct=this.getAxisMotionValue(s);let ut=this.originPoint[s]+tt[s];this.constraints&&this.constraints[s]&&(ut=applyConstraints(ut,this.constraints[s],this.elastic[s])),ct.set(ut)}resolveConstraints(){var s;const{dragConstraints:et,dragElastic:tt}=this.getProps(),at=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,ct=this.constraints;et&&isRefObject(et)?this.constraints||(this.constraints=this.resolveRefConstraints()):et&&at?this.constraints=calcRelativeConstraints(at.layoutBox,et):this.constraints=!1,this.elastic=resolveDragElastic(tt),ct!==this.constraints&&at&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(ut=>{this.constraints!==!1&&this.getAxisMotionValue(ut)&&(this.constraints[ut]=rebaseAxisConstraints(at.layoutBox[ut],this.constraints[ut]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:et}=this.getProps();if(!s||!isRefObject(s))return!1;const tt=s.current,{projection:at}=this.visualElement;if(!at||!at.layout)return!1;const ct=measurePageBox(tt,at.root,this.visualElement.getTransformPagePoint());let ut=calcViewportConstraints(at.layout.layoutBox,ct);if(et){const bt=et(convertBoxToBoundingBox(ut));this.hasMutatedConstraints=!!bt,bt&&(ut=convertBoundingBoxToBox(bt))}return ut}startAnimation(s){const{drag:et,dragMomentum:tt,dragElastic:at,dragTransition:ct,dragSnapToOrigin:ut,onDragTransitionEnd:bt}=this.getProps(),wt=this.constraints||{},Et=eachAxis(Ft=>{if(!shouldDrag(Ft,et,this.currentDirection))return;let jt=wt&&wt[Ft]||{};ut&&(jt={min:0,max:0});const Lt=at?200:1e6,Ut=at?40:1e7,Vt={type:"inertia",velocity:tt?s[Ft]:0,bounceStiffness:Lt,bounceDamping:Ut,timeConstant:750,restDelta:1,restSpeed:10,...ct,...jt};return this.startAxisValueAnimation(Ft,Vt)});return Promise.all(Et).then(bt)}startAxisValueAnimation(s,et){const tt=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),tt.start(animateMotionValue(s,tt,0,et,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var et;return(et=this.getAxisMotionValue(s).animation)===null||et===void 0?void 0:et.pause()})}getAnimationState(s){var et;return(et=this.getAxisMotionValue(s).animation)===null||et===void 0?void 0:et.state}getAxisMotionValue(s){const et=`_drag${s.toUpperCase()}`,tt=this.visualElement.getProps(),at=tt[et];return at||this.visualElement.getValue(s,(tt.initial?tt.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(et=>{const{drag:tt}=this.getProps();if(!shouldDrag(et,tt,this.currentDirection))return;const{projection:at}=this.visualElement,ct=this.getAxisMotionValue(et);if(at&&at.layout){const{min:ut,max:bt}=at.layout.layoutBox[et];ct.set(s[et]-mixNumber$1(ut,bt,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:et}=this.getProps(),{projection:tt}=this.visualElement;if(!isRefObject(et)||!tt||!this.constraints)return;this.stopAnimation();const at={x:0,y:0};eachAxis(ut=>{const bt=this.getAxisMotionValue(ut);if(bt&&this.constraints!==!1){const wt=bt.get();at[ut]=calcOrigin({min:wt,max:wt},this.constraints[ut])}});const{transformTemplate:ct}=this.visualElement.getProps();this.visualElement.current.style.transform=ct?ct({},""):"none",tt.root&&tt.root.updateScroll(),tt.updateLayout(),this.resolveConstraints(),eachAxis(ut=>{if(!shouldDrag(ut,s,null))return;const bt=this.getAxisMotionValue(ut),{min:wt,max:Et}=this.constraints[ut];bt.set(mixNumber$1(wt,Et,at[ut]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,et=addPointerEvent(s,"pointerdown",wt=>{const{drag:Et,dragListener:Ft=!0}=this.getProps();Et&&Ft&&this.start(wt)}),tt=()=>{const{dragConstraints:wt}=this.getProps();isRefObject(wt)&&wt.current&&(this.constraints=this.resolveRefConstraints())},{projection:at}=this.visualElement,ct=at.addEventListener("measure",tt);at&&!at.layout&&(at.root&&at.root.updateScroll(),at.updateLayout()),frame.read(tt);const ut=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),bt=at.addEventListener("didUpdate",({delta:wt,hasLayoutChanged:Et})=>{this.isDragging&&Et&&(eachAxis(Ft=>{const jt=this.getAxisMotionValue(Ft);jt&&(this.originPoint[Ft]+=wt[Ft].translate,jt.set(jt.get()+wt[Ft].translate))}),this.visualElement.render())});return()=>{ut(),et(),ct(),bt&&bt()}}getProps(){const s=this.visualElement.getProps(),{drag:et=!1,dragDirectionLock:tt=!1,dragPropagation:at=!1,dragConstraints:ct=!1,dragElastic:ut=defaultElastic,dragMomentum:bt=!0}=s;return{...s,drag:et,dragDirectionLock:tt,dragPropagation:at,dragConstraints:ct,dragElastic:ut,dragMomentum:bt}}}function shouldDrag(a,s,et){return(s===!0||s===a)&&(et===null||et===a)}function getCurrentDirection(a,s=10){let et=null;return Math.abs(a.y)>s?et="y":Math.abs(a.x)>s&&(et="x"),et}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=a=>(s,et)=>{a&&frame.postRender(()=>a(s,et))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:et,onPan:tt,onPanEnd:at}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(et),onMove:tt,onEnd:(ct,ut)=>{delete this.session,at&&frame.postRender(()=>at(ct,ut))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(a,s){return s.max===s.min?0:a/(s.max-s.min)*100}const correctBorderRadius={correct:(a,s)=>{if(!s.target)return a;if(typeof a=="string")if(px.test(a))a=parseFloat(a);else return a;const et=pixelsToPercent(a,s.target.x),tt=pixelsToPercent(a,s.target.y);return`${et}% ${tt}%`}},correctBoxShadow={correct:(a,{treeScale:s,projectionDelta:et})=>{const tt=a,at=complex.parse(a);if(at.length>5)return tt;const ct=complex.createTransformer(a),ut=typeof at[0]!="number"?1:0,bt=et.x.scale*s.x,wt=et.y.scale*s.y;at[0+ut]/=bt,at[1+ut]/=wt;const Et=mixNumber$1(bt,wt,.5);return typeof at[2+ut]=="number"&&(at[2+ut]/=Et),typeof at[3+ut]=="number"&&(at[3+ut]/=Et),ct(at)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:et,switchLayoutGroup:tt,layoutId:at}=this.props,{projection:ct}=s;addScaleCorrector(defaultScaleCorrectors),ct&&(et.group&&et.group.add(ct),tt&&tt.register&&at&&tt.register(ct),ct.root.didUpdate(),ct.addEventListener("animationComplete",()=>{this.safeToRemove()}),ct.setOptions({...ct.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:et,visualElement:tt,drag:at,isPresent:ct}=this.props,ut=tt.projection;return ut&&(ut.isPresent=ct,at||s.layoutDependency!==et||et===void 0?ut.willUpdate():this.safeToRemove(),s.isPresent!==ct&&(ct?ut.promote():ut.relegate()||frame.postRender(()=>{const bt=ut.getStack();(!bt||!bt.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:et,switchLayoutGroup:tt}=this.props,{projection:at}=s;at&&(at.scheduleCheckAfterUnmount(),et&&et.group&&et.group.remove(at),tt&&tt.deregister&&tt.deregister(at))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(a){const[s,et]=usePresence(),tt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...a,layoutGroup:tt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:et})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(a,s,et){const tt=isMotionValue(a)?a:motionValue(a);return tt.start(animateMotionValue("",tt,s,et)),tt.animation}function isSVGElement(a){return a instanceof SVGElement&&a.tagName!=="svg"}const compareByDepth=(a,s)=>a.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(a,s){const et=time.now(),tt=({timestamp:at})=>{const ct=at-et;ct>=s&&(cancelFrame(tt),a(ct-s))};return frame.read(tt,!0),()=>cancelFrame(tt)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=a=>typeof a=="string"?parseFloat(a):a,isPx=a=>typeof a=="number"||px.test(a);function mixValues(a,s,et,tt,at,ct){at?(a.opacity=mixNumber$1(0,et.opacity!==void 0?et.opacity:1,easeCrossfadeIn(tt)),a.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(tt))):ct&&(a.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,et.opacity!==void 0?et.opacity:1,tt));for(let ut=0;ut<numBorders;ut++){const bt=`border${borders[ut]}Radius`;let wt=getRadius(s,bt),Et=getRadius(et,bt);if(wt===void 0&&Et===void 0)continue;wt||(wt=0),Et||(Et=0),wt===0||Et===0||isPx(wt)===isPx(Et)?(a[bt]=Math.max(mixNumber$1(asNumber(wt),asNumber(Et),tt),0),(percent.test(Et)||percent.test(wt))&&(a[bt]+="%")):a[bt]=Et}(s.rotate||et.rotate)&&(a.rotate=mixNumber$1(s.rotate||0,et.rotate||0,tt))}function getRadius(a,s){return a[s]!==void 0?a[s]:a.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(a,s,et){return tt=>tt<a?0:tt>s?1:et(progress(a,s,tt))}function copyAxisInto(a,s){a.min=s.min,a.max=s.max}function copyBoxInto(a,s){copyAxisInto(a.x,s.x),copyAxisInto(a.y,s.y)}function copyAxisDeltaInto(a,s){a.translate=s.translate,a.scale=s.scale,a.originPoint=s.originPoint,a.origin=s.origin}function removePointDelta(a,s,et,tt,at){return a-=s,a=scalePoint(a,1/et,tt),at!==void 0&&(a=scalePoint(a,1/at,tt)),a}function removeAxisDelta(a,s=0,et=1,tt=.5,at,ct=a,ut=a){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(ut.min,ut.max,s/100)-ut.min),typeof s!="number")return;let bt=mixNumber$1(ct.min,ct.max,tt);a===ct&&(bt-=s),a.min=removePointDelta(a.min,s,et,bt,at),a.max=removePointDelta(a.max,s,et,bt,at)}function removeAxisTransforms(a,s,[et,tt,at],ct,ut){removeAxisDelta(a,s[et],s[tt],s[at],s.scale,ct,ut)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(a,s,et,tt){removeAxisTransforms(a.x,s,xKeys,et?et.x:void 0,tt?tt.x:void 0),removeAxisTransforms(a.y,s,yKeys,et?et.y:void 0,tt?tt.y:void 0)}function isAxisDeltaZero(a){return a.translate===0&&a.scale===1}function isDeltaZero(a){return isAxisDeltaZero(a.x)&&isAxisDeltaZero(a.y)}function axisEquals(a,s){return a.min===s.min&&a.max===s.max}function boxEquals(a,s){return axisEquals(a.x,s.x)&&axisEquals(a.y,s.y)}function axisEqualsRounded(a,s){return Math.round(a.min)===Math.round(s.min)&&Math.round(a.max)===Math.round(s.max)}function boxEqualsRounded(a,s){return axisEqualsRounded(a.x,s.x)&&axisEqualsRounded(a.y,s.y)}function aspectRatio(a){return calcLength(a.x)/calcLength(a.y)}function axisDeltaEquals(a,s){return a.translate===s.translate&&a.scale===s.scale&&a.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const et=this.members[this.members.length-1];et&&this.promote(et)}}relegate(s){const et=this.members.findIndex(at=>s===at);if(et===0)return!1;let tt;for(let at=et;at>=0;at--){const ct=this.members[at];if(ct.isPresent!==!1){tt=ct;break}}return tt?(this.promote(tt),!0):!1}promote(s,et){const tt=this.lead;if(s!==tt&&(this.prevLead=tt,this.lead=s,s.show(),tt)){tt.instance&&tt.scheduleRender(),s.scheduleRender(),s.resumeFrom=tt,et&&(s.resumeFrom.preserveOpacity=!0),tt.snapshot&&(s.snapshot=tt.snapshot,s.snapshot.latestValues=tt.animationValues||tt.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:at}=s.options;at===!1&&tt.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:et,resumingFrom:tt}=s;et.onExitComplete&&et.onExitComplete(),tt&&tt.options.onExitComplete&&tt.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(a,s,et){let tt="";const at=a.x.translate/s.x,ct=a.y.translate/s.y,ut=(et==null?void 0:et.z)||0;if((at||ct||ut)&&(tt=`translate3d(${at}px, ${ct}px, ${ut}px) `),(s.x!==1||s.y!==1)&&(tt+=`scale(${1/s.x}, ${1/s.y}) `),et){const{transformPerspective:Et,rotate:Ft,rotateX:jt,rotateY:Lt,skewX:Ut,skewY:Vt}=et;Et&&(tt=`perspective(${Et}px) ${tt}`),Ft&&(tt+=`rotate(${Ft}deg) `),jt&&(tt+=`rotateX(${jt}deg) `),Lt&&(tt+=`rotateY(${Lt}deg) `),Ut&&(tt+=`skewX(${Ut}deg) `),Vt&&(tt+=`skewY(${Vt}deg) `)}const bt=a.x.scale*s.x,wt=a.y.scale*s.y;return(bt!==1||wt!==1)&&(tt+=`scale(${bt}, ${wt})`),tt||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;function resetDistortingTransform(a,s,et,tt){const{latestValues:at}=s;at[a]&&(et[a]=at[a],s.setStaticValue(a,0),tt&&(tt[a]=0))}function cancelTreeOptimisedTransformAnimations(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:s}=a.options;if(!s)return;const et=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(et,"transform")){const{layout:at,layoutId:ct}=a.options;window.MotionCancelOptimisedAnimation(et,"transform",frame,!(at||ct))}const{parent:tt}=a;tt&&!tt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(tt)}function createProjectionNode({attachResizeListener:a,defaultParent:s,measureScroll:et,checkIsScrollRoot:tt,resetTransform:at}){return class{constructor(ut={},bt=s==null?void 0:s()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=ut,this.root=bt?bt.root||bt:this,this.path=bt?[...bt.path,bt]:[],this.parent=bt,this.depth=bt?bt.depth+1:0;for(let wt=0;wt<this.path.length;wt++)this.path[wt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(ut,bt){return this.eventHandlers.has(ut)||this.eventHandlers.set(ut,new SubscriptionManager),this.eventHandlers.get(ut).add(bt)}notifyListeners(ut,...bt){const wt=this.eventHandlers.get(ut);wt&&wt.notify(...bt)}hasListeners(ut){return this.eventHandlers.has(ut)}mount(ut,bt=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(ut),this.instance=ut;const{layoutId:wt,layout:Et,visualElement:Ft}=this.options;if(Ft&&!Ft.current&&Ft.mount(ut),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),bt&&(Et||wt)&&(this.isLayoutDirty=!0),a){let jt;const Lt=()=>this.root.updateBlockedByResize=!1;a(ut,()=>{this.root.updateBlockedByResize=!0,jt&&jt(),jt=delay(Lt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}wt&&this.root.registerSharedNode(wt,this),this.options.animate!==!1&&Ft&&(wt||Et)&&this.addEventListener("didUpdate",({delta:jt,hasLayoutChanged:Lt,hasRelativeTargetChanged:Ut,layout:Vt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Yt=this.options.transition||Ft.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:er,onLayoutAnimationComplete:tr}=Ft.getProps(),nr=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Vt)||Ut,ir=!Lt&&Ut;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ir||Lt&&(nr||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(jt,ir);const lr={...getValueTransition(Yt,"layout"),onPlay:er,onComplete:tr};(Ft.shouldReduceMotion||this.options.layoutRoot)&&(lr.delay=0,lr.type=!1),this.startAnimation(lr)}else Lt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Vt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const ut=this.getStack();ut&&ut.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:ut}=this.options;return ut&&ut.getProps().transformTemplate}willUpdate(ut=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Ft=0;Ft<this.path.length;Ft++){const jt=this.path[Ft];jt.shouldResetTransform=!0,jt.updateScroll("snapshot"),jt.options.layoutRoot&&jt.willUpdate(!1)}const{layoutId:bt,layout:wt}=this.options;if(bt===void 0&&!wt)return;const Et=this.getTransformTemplate();this.prevTransformTemplateValue=Et?Et(this.latestValues,""):void 0,this.updateSnapshot(),ut&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const bt=time.now();frameData.delta=clamp$3(0,1e3/60,bt-frameData.timestamp),frameData.timestamp=bt,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let wt=0;wt<this.path.length;wt++)this.path[wt].updateScroll();const ut=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:bt}=this.options;bt&&bt.notify("LayoutMeasure",this.layout.layoutBox,ut?ut.layoutBox:void 0)}updateScroll(ut="measure"){let bt=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===ut&&(bt=!1),bt){const wt=tt(this.instance);this.scroll={animationId:this.root.animationId,phase:ut,isRoot:wt,offset:et(this.instance),wasRoot:this.scroll?this.scroll.isRoot:wt}}}resetTransform(){if(!at)return;const ut=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,bt=this.projectionDelta&&!isDeltaZero(this.projectionDelta),wt=this.getTransformTemplate(),Et=wt?wt(this.latestValues,""):void 0,Ft=Et!==this.prevTransformTemplateValue;ut&&(bt||hasTransform(this.latestValues)||Ft)&&(at(this.instance,Et),this.shouldResetTransform=!1,this.scheduleRender())}measure(ut=!0){const bt=this.measurePageBox();let wt=this.removeElementScroll(bt);return ut&&(wt=this.removeTransform(wt)),roundBox(wt),{animationId:this.root.animationId,measuredBox:bt,layoutBox:wt,latestValues:{},source:this.id}}measurePageBox(){var ut;const{visualElement:bt}=this.options;if(!bt)return createBox();const wt=bt.measureViewportBox();if(!(((ut=this.scroll)===null||ut===void 0?void 0:ut.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Ft}=this.root;Ft&&(translateAxis(wt.x,Ft.offset.x),translateAxis(wt.y,Ft.offset.y))}return wt}removeElementScroll(ut){var bt;const wt=createBox();if(copyBoxInto(wt,ut),!((bt=this.scroll)===null||bt===void 0)&&bt.wasRoot)return wt;for(let Et=0;Et<this.path.length;Et++){const Ft=this.path[Et],{scroll:jt,options:Lt}=Ft;Ft!==this.root&&jt&&Lt.layoutScroll&&(jt.wasRoot&&copyBoxInto(wt,ut),translateAxis(wt.x,jt.offset.x),translateAxis(wt.y,jt.offset.y))}return wt}applyTransform(ut,bt=!1){const wt=createBox();copyBoxInto(wt,ut);for(let Et=0;Et<this.path.length;Et++){const Ft=this.path[Et];!bt&&Ft.options.layoutScroll&&Ft.scroll&&Ft!==Ft.root&&transformBox(wt,{x:-Ft.scroll.offset.x,y:-Ft.scroll.offset.y}),hasTransform(Ft.latestValues)&&transformBox(wt,Ft.latestValues)}return hasTransform(this.latestValues)&&transformBox(wt,this.latestValues),wt}removeTransform(ut){const bt=createBox();copyBoxInto(bt,ut);for(let wt=0;wt<this.path.length;wt++){const Et=this.path[wt];if(!Et.instance||!hasTransform(Et.latestValues))continue;hasScale(Et.latestValues)&&Et.updateSnapshot();const Ft=createBox(),jt=Et.measurePageBox();copyBoxInto(Ft,jt),removeBoxTransforms(bt,Et.latestValues,Et.snapshot?Et.snapshot.layoutBox:void 0,Ft)}return hasTransform(this.latestValues)&&removeBoxTransforms(bt,this.latestValues),bt}setTargetDelta(ut){this.targetDelta=ut,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(ut){this.options={...this.options,...ut,crossfade:ut.crossfade!==void 0?ut.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(ut=!1){var bt;const wt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=wt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=wt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=wt.isSharedProjectionDirty);const Et=!!this.resumingFrom||this!==wt;if(!(ut||Et&&this.isSharedProjectionDirty||this.isProjectionDirty||!((bt=this.parent)===null||bt===void 0)&&bt.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:jt,layoutId:Lt}=this.options;if(!(!this.layout||!(jt||Lt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Ut=this.getClosestProjectingParent();Ut&&Ut.layout&&this.animationProgress!==1?(this.relativeParent=Ut,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Ut.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const Ut=this.getClosestProjectingParent();Ut&&!!Ut.resumingFrom==!!this.resumingFrom&&!Ut.options.layoutScroll&&Ut.target&&this.animationProgress!==1?(this.relativeParent=Ut,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Ut.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var ut;const bt=this.getLead(),wt=!!this.resumingFrom||this!==bt;let Et=!0;if((this.isProjectionDirty||!((ut=this.parent)===null||ut===void 0)&&ut.isProjectionDirty)&&(Et=!1),wt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Et=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Et=!1),Et)return;const{layout:Ft,layoutId:jt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Ft||jt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Lt=this.treeScale.x,Ut=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,wt),bt.layout&&!bt.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(bt.target=bt.layout.layoutBox,bt.targetWithTransforms=createBox());const{target:Vt}=bt;if(!Vt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,Vt,this.latestValues),(this.treeScale.x!==Lt||this.treeScale.y!==Ut||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Vt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(ut=!0){var bt;if((bt=this.options.visualElement)===null||bt===void 0||bt.scheduleRender(),ut){const wt=this.getStack();wt&&wt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(ut,bt=!1){const wt=this.snapshot,Et=wt?wt.latestValues:{},Ft={...this.latestValues},jt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!bt;const Lt=createBox(),Ut=wt?wt.source:void 0,Vt=this.layout?this.layout.source:void 0,Yt=Ut!==Vt,er=this.getStack(),tr=!er||er.members.length<=1,nr=!!(Yt&&!tr&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ir;this.mixTargetDelta=lr=>{const pr=lr/1e3;mixAxisDelta(jt.x,ut.x,pr),mixAxisDelta(jt.y,ut.y,pr),this.setTargetDelta(jt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Lt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Lt,pr),ir&&boxEquals(this.relativeTarget,ir)&&(this.isProjectionDirty=!1),ir||(ir=createBox()),copyBoxInto(ir,this.relativeTarget)),Yt&&(this.animationValues=Ft,mixValues(Ft,Et,this.latestValues,pr,nr,tr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=pr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(ut){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...ut,onUpdate:bt=>{this.mixTargetDelta(bt),ut.onUpdate&&ut.onUpdate(bt)},onComplete:()=>{ut.onComplete&&ut.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const ut=this.getStack();ut&&ut.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const ut=this.getLead();let{targetWithTransforms:bt,target:wt,layout:Et,latestValues:Ft}=ut;if(!(!bt||!wt||!Et)){if(this!==ut&&this.layout&&Et&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Et.layoutBox)){wt=this.target||createBox();const jt=calcLength(this.layout.layoutBox.x);wt.x.min=ut.target.x.min,wt.x.max=wt.x.min+jt;const Lt=calcLength(this.layout.layoutBox.y);wt.y.min=ut.target.y.min,wt.y.max=wt.y.min+Lt}copyBoxInto(bt,wt),transformBox(bt,Ft),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,bt,Ft)}}registerSharedNode(ut,bt){this.sharedNodes.has(ut)||this.sharedNodes.set(ut,new NodeStack),this.sharedNodes.get(ut).add(bt);const Et=bt.options.initialPromotionConfig;bt.promote({transition:Et?Et.transition:void 0,preserveFollowOpacity:Et&&Et.shouldPreserveFollowOpacity?Et.shouldPreserveFollowOpacity(bt):void 0})}isLead(){const ut=this.getStack();return ut?ut.lead===this:!0}getLead(){var ut;const{layoutId:bt}=this.options;return bt?((ut=this.getStack())===null||ut===void 0?void 0:ut.lead)||this:this}getPrevLead(){var ut;const{layoutId:bt}=this.options;return bt?(ut=this.getStack())===null||ut===void 0?void 0:ut.prevLead:void 0}getStack(){const{layoutId:ut}=this.options;if(ut)return this.root.sharedNodes.get(ut)}promote({needsReset:ut,transition:bt,preserveFollowOpacity:wt}={}){const Et=this.getStack();Et&&Et.promote(this,wt),ut&&(this.projectionDelta=void 0,this.needsReset=!0),bt&&this.setOptions({transition:bt})}relegate(){const ut=this.getStack();return ut?ut.relegate(this):!1}resetSkewAndRotation(){const{visualElement:ut}=this.options;if(!ut)return;let bt=!1;const{latestValues:wt}=ut;if((wt.z||wt.rotate||wt.rotateX||wt.rotateY||wt.rotateZ||wt.skewX||wt.skewY)&&(bt=!0),!bt)return;const Et={};wt.z&&resetDistortingTransform("z",ut,Et,this.animationValues);for(let Ft=0;Ft<transformAxes.length;Ft++)resetDistortingTransform(`rotate${transformAxes[Ft]}`,ut,Et,this.animationValues),resetDistortingTransform(`skew${transformAxes[Ft]}`,ut,Et,this.animationValues);ut.render();for(const Ft in Et)ut.setStaticValue(Ft,Et[Ft]),this.animationValues&&(this.animationValues[Ft]=Et[Ft]);ut.scheduleRender()}getProjectionStyles(ut){var bt,wt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Et={visibility:""},Ft=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Et.opacity="",Et.pointerEvents=resolveMotionValue(ut==null?void 0:ut.pointerEvents)||"",Et.transform=Ft?Ft(this.latestValues,""):"none",Et;const jt=this.getLead();if(!this.projectionDelta||!this.layout||!jt.target){const Yt={};return this.options.layoutId&&(Yt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Yt.pointerEvents=resolveMotionValue(ut==null?void 0:ut.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Yt.transform=Ft?Ft({},""):"none",this.hasProjected=!1),Yt}const Lt=jt.animationValues||jt.latestValues;this.applyTransformsToTarget(),Et.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Lt),Ft&&(Et.transform=Ft(Lt,Et.transform));const{x:Ut,y:Vt}=this.projectionDelta;Et.transformOrigin=`${Ut.origin*100}% ${Vt.origin*100}% 0`,jt.animationValues?Et.opacity=jt===this?(wt=(bt=Lt.opacity)!==null&&bt!==void 0?bt:this.latestValues.opacity)!==null&&wt!==void 0?wt:1:this.preserveOpacity?this.latestValues.opacity:Lt.opacityExit:Et.opacity=jt===this?Lt.opacity!==void 0?Lt.opacity:"":Lt.opacityExit!==void 0?Lt.opacityExit:0;for(const Yt in scaleCorrectors){if(Lt[Yt]===void 0)continue;const{correct:er,applyTo:tr}=scaleCorrectors[Yt],nr=Et.transform==="none"?Lt[Yt]:er(Lt[Yt],jt);if(tr){const ir=tr.length;for(let lr=0;lr<ir;lr++)Et[tr[lr]]=nr}else Et[Yt]=nr}return this.options.layoutId&&(Et.pointerEvents=jt===this?resolveMotionValue(ut==null?void 0:ut.pointerEvents)||"":"none"),Et}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(ut=>{var bt;return(bt=ut.currentAnimation)===null||bt===void 0?void 0:bt.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(a){a.updateLayout()}function notifyLayoutUpdate(a){var s;const et=((s=a.resumeFrom)===null||s===void 0?void 0:s.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&et&&a.hasListeners("didUpdate")){const{layoutBox:tt,measuredBox:at}=a.layout,{animationType:ct}=a.options,ut=et.source!==a.layout.source;ct==="size"?eachAxis(jt=>{const Lt=ut?et.measuredBox[jt]:et.layoutBox[jt],Ut=calcLength(Lt);Lt.min=tt[jt].min,Lt.max=Lt.min+Ut}):shouldAnimatePositionOnly(ct,et.layoutBox,tt)&&eachAxis(jt=>{const Lt=ut?et.measuredBox[jt]:et.layoutBox[jt],Ut=calcLength(tt[jt]);Lt.max=Lt.min+Ut,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[jt].max=a.relativeTarget[jt].min+Ut)});const bt=createDelta();calcBoxDelta(bt,tt,et.layoutBox);const wt=createDelta();ut?calcBoxDelta(wt,a.applyTransform(at,!0),et.measuredBox):calcBoxDelta(wt,tt,et.layoutBox);const Et=!isDeltaZero(bt);let Ft=!1;if(!a.resumeFrom){const jt=a.getClosestProjectingParent();if(jt&&!jt.resumeFrom){const{snapshot:Lt,layout:Ut}=jt;if(Lt&&Ut){const Vt=createBox();calcRelativePosition(Vt,et.layoutBox,Lt.layoutBox);const Yt=createBox();calcRelativePosition(Yt,tt,Ut.layoutBox),boxEqualsRounded(Vt,Yt)||(Ft=!0),jt.options.layoutRoot&&(a.relativeTarget=Yt,a.relativeTargetOrigin=Vt,a.relativeParent=jt)}}}a.notifyListeners("didUpdate",{layout:tt,snapshot:et,delta:wt,layoutDelta:bt,hasLayoutChanged:Et,hasRelativeTargetChanged:Ft})}else if(a.isLead()){const{onExitComplete:tt}=a.options;tt&&tt()}a.options.transition=void 0}function propagateDirtyNodes(a){isDebug&&metrics.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function cleanDirtyNodes(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function clearSnapshot(a){a.clearSnapshot()}function clearMeasurements(a){a.clearMeasurements()}function clearIsLayoutDirty(a){a.isLayoutDirty=!1}function resetTransformStyle(a){const{visualElement:s}=a.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),a.resetTransform()}function finishAnimation(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function resolveTargetDelta(a){a.resolveTargetDelta()}function calcProjection(a){a.calcProjection()}function resetSkewAndRotation(a){a.resetSkewAndRotation()}function removeLeadSnapshots(a){a.removeLeadSnapshot()}function mixAxisDelta(a,s,et){a.translate=mixNumber$1(s.translate,0,et),a.scale=mixNumber$1(s.scale,1,et),a.origin=s.origin,a.originPoint=s.originPoint}function mixAxis(a,s,et,tt){a.min=mixNumber$1(s.min,et.min,tt),a.max=mixNumber$1(s.max,et.max,tt)}function mixBox(a,s,et,tt){mixAxis(a.x,s.x,et.x,tt),mixAxis(a.y,s.y,et.y,tt)}function hasOpacityCrossfade(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(a){a.min=roundPoint(a.min),a.max=roundPoint(a.max)}function roundBox(a){roundAxis(a.x),roundAxis(a.y)}function shouldAnimatePositionOnly(a,s,et){return a==="position"||a==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(et),.2)}function checkNodeWasScrollRoot(a){var s;return a!==a.root&&((s=a.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(a,s)=>addDomEvent(a,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const a=new DocumentProjectionNode({});a.mount(window),a.setOptions({layoutScroll:!0}),rootProjectionNode.current=a}return rootProjectionNode.current},resetTransform:(a,s)=>{a.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(a,s,et){const{props:tt}=a;a.animationState&&tt.whileHover&&a.animationState.setActive("whileHover",et==="Start");const at="onHover"+et,ct=tt[at];ct&&frame.postRender(()=>ct(s,extractEventInfo(s)))}class HoverGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=hover(s,et=>(handleHoverEvent(this.node,et,"Start"),tt=>handleHoverEvent(this.node,tt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(a,s,et){const{props:tt}=a;a.animationState&&tt.whileTap&&a.animationState.setActive("whileTap",et==="Start");const at="onTap"+(et==="End"?"":et),ct=tt[at];ct&&frame.postRender(()=>ct(s,extractEventInfo(s)))}class PressGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=press(s,et=>(handlePressEvent(this.node,et,"Start"),(tt,{success:at})=>handlePressEvent(this.node,tt,at?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=a=>{const s=observerCallbacks.get(a.target);s&&s(a)},fireAllObserverCallbacks=a=>{a.forEach(fireObserverCallback)};function initIntersectionObserver({root:a,...s}){const et=a||document;observers.has(et)||observers.set(et,{});const tt=observers.get(et),at=JSON.stringify(s);return tt[at]||(tt[at]=new IntersectionObserver(fireAllObserverCallbacks,{root:a,...s})),tt[at]}function observeIntersection(a,s,et){const tt=initIntersectionObserver(s);return observerCallbacks.set(a,et),tt.observe(a),()=>{observerCallbacks.delete(a),tt.unobserve(a)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:et,margin:tt,amount:at="some",once:ct}=s,ut={root:et?et.current:void 0,rootMargin:tt,threshold:typeof at=="number"?at:thresholdNames[at]},bt=wt=>{const{isIntersecting:Et}=wt;if(this.isInView===Et||(this.isInView=Et,ct&&!Et&&this.hasEnteredView))return;Et&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Et);const{onViewportEnter:Ft,onViewportLeave:jt}=this.node.getProps(),Lt=Et?Ft:jt;Lt&&Lt(wt)};return observeIntersection(this.node.current,ut,bt)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:et}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,et))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:a={}},{viewport:s={}}={}){return et=>a[et]!==s[et]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=a.matches;a.addListener(s),s()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=a=>valueTypes.find(testValueType(a)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(a,s,et){for(const tt in s){const at=s[tt],ct=et[tt];if(isMotionValue(at))a.addValue(tt,at);else if(isMotionValue(ct))a.addValue(tt,motionValue(at,{owner:a}));else if(ct!==at)if(a.hasValue(tt)){const ut=a.getValue(tt);ut.liveStyle===!0?ut.jump(at):ut.hasAnimated||ut.set(at)}else{const ut=a.getStaticValue(tt);a.addValue(tt,motionValue(ut!==void 0?ut:at,{owner:a}))}}for(const tt in et)s[tt]===void 0&&a.removeValue(tt);return s}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,et,tt){return{}}constructor({parent:s,props:et,presenceContext:tt,reducedMotionConfig:at,blockInitialAnimation:ct,visualState:ut},bt={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Ut=time.now();this.renderScheduledAt<Ut&&(this.renderScheduledAt=Ut,frame.render(this.render,!1,!0))};const{latestValues:wt,renderState:Et,onUpdate:Ft}=ut;this.onUpdate=Ft,this.latestValues=wt,this.baseTarget={...wt},this.initialValues=et.initial?{...wt}:{},this.renderState=Et,this.parent=s,this.props=et,this.presenceContext=tt,this.depth=s?s.depth+1:0,this.reducedMotionConfig=at,this.options=bt,this.blockInitialAnimation=!!ct,this.isControllingVariants=isControllingVariants(et),this.isVariantNode=isVariantNode(et),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:jt,...Lt}=this.scrapeMotionValuesFromProps(et,{},this);for(const Ut in Lt){const Vt=Lt[Ut];wt[Ut]!==void 0&&isMotionValue(Vt)&&Vt.set(wt[Ut],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((et,tt)=>this.bindToMotionValue(tt,et)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const et=this.features[s];et&&(et.unmount(),et.isMounted=!1)}this.current=null}bindToMotionValue(s,et){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const tt=transformProps.has(s),at=et.on("change",bt=>{this.latestValues[s]=bt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),tt&&this.projection&&(this.projection.isTransformDirty=!0)}),ct=et.on("renderRequest",this.scheduleRender);let ut;window.MotionCheckAppearSync&&(ut=window.MotionCheckAppearSync(this,s,et)),this.valueSubscriptions.set(s,()=>{at(),ct(),ut&&ut(),et.owner&&et.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const et=featureDefinitions[s];if(!et)continue;const{isEnabled:tt,Feature:at}=et;if(!this.features[s]&&at&&tt(this.props)&&(this.features[s]=new at(this)),this.features[s]){const ct=this.features[s];ct.isMounted?ct.update():(ct.mount(),ct.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,et){this.latestValues[s]=et}update(s,et){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=et;for(let tt=0;tt<propEventHandlers.length;tt++){const at=propEventHandlers[tt];this.propEventSubscriptions[at]&&(this.propEventSubscriptions[at](),delete this.propEventSubscriptions[at]);const ct="on"+at,ut=s[ct];ut&&(this.propEventSubscriptions[at]=this.on(at,ut))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const et=this.getClosestVariantNode();if(et)return et.variantChildren&&et.variantChildren.add(s),()=>et.variantChildren.delete(s)}addValue(s,et){const tt=this.values.get(s);et!==tt&&(tt&&this.removeValue(s),this.bindToMotionValue(s,et),this.values.set(s,et),this.latestValues[s]=et.get())}removeValue(s){this.values.delete(s);const et=this.valueSubscriptions.get(s);et&&(et(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,et){if(this.props.values&&this.props.values[s])return this.props.values[s];let tt=this.values.get(s);return tt===void 0&&et!==void 0&&(tt=motionValue(et===null?void 0:et,{owner:this}),this.addValue(s,tt)),tt}readValue(s,et){var tt;let at=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(tt=this.getBaseTargetFromProps(this.props,s))!==null&&tt!==void 0?tt:this.readValueFromInstance(this.current,s,this.options);return at!=null&&(typeof at=="string"&&(isNumericalString(at)||isZeroValueString(at))?at=parseFloat(at):!findValueType(at)&&complex.test(et)&&(at=getAnimatableNone(s,et)),this.setBaseTarget(s,isMotionValue(at)?at.get():at)),isMotionValue(at)?at.get():at}setBaseTarget(s,et){this.baseTarget[s]=et}getBaseTarget(s){var et;const{initial:tt}=this.props;let at;if(typeof tt=="string"||typeof tt=="object"){const ut=resolveVariantFromProps(this.props,tt,(et=this.presenceContext)===null||et===void 0?void 0:et.custom);ut&&(at=ut[s])}if(tt&&at!==void 0)return at;const ct=this.getBaseTargetFromProps(this.props,s);return ct!==void 0&&!isMotionValue(ct)?ct:this.initialValues[s]!==void 0&&at===void 0?void 0:this.baseTarget[s]}on(s,et){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(et)}notify(s,...et){this.events[s]&&this.events[s].notify(...et)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,et){return s.compareDocumentPosition(et)&2?1:-1}getBaseTargetFromProps(s,et){return s.style?s.style[et]:void 0}removeValueFromRenderState(s,{vars:et,style:tt}){delete et[s],delete tt[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",et=>{this.current&&(this.current.textContent=`${et}`)}))}}function getComputedStyle$1(a){return window.getComputedStyle(a)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,et){if(transformProps.has(et)){const tt=getDefaultValueType(et);return tt&&tt.default||0}else{const tt=getComputedStyle$1(s),at=(isCSSVariableName(et)?tt.getPropertyValue(et):tt[et])||0;return typeof at=="string"?at.trim():at}}measureInstanceViewportBox(s,{transformPagePoint:et}){return measureViewportBox(s,et)}build(s,et,tt){buildHTMLStyles(s,et,tt.transformTemplate)}scrapeMotionValuesFromProps(s,et,tt){return scrapeMotionValuesFromProps$1(s,et,tt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,et){return s[et]}readValueFromInstance(s,et){if(transformProps.has(et)){const tt=getDefaultValueType(et);return tt&&tt.default||0}return et=camelCaseAttributes.has(et)?et:camelToDash(et),s.getAttribute(et)}scrapeMotionValuesFromProps(s,et,tt){return scrapeMotionValuesFromProps(s,et,tt)}build(s,et,tt){buildSVGAttrs(s,et,this.isSVGTag,tt.transformTemplate)}renderInstance(s,et,tt,at){renderSVG(s,et,tt,at)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(a,s)=>isSVGComponent(a)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:a!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),findById=(a,s)=>a.find(et=>et.id===s);function findToast(a,s){const et=getToastPosition(a,s),tt=et?a[et].findIndex(at=>at.id===s):-1;return{position:et,index:tt}}function getToastPosition(a,s){for(const[et,tt]of Object.entries(a))if(findById(tt,s))return et}function getToastStyle(a){const s=a.includes("right"),et=a.includes("left");let tt="center";return s&&(tt="flex-end"),et&&(tt="flex-start"),{display:"flex",flexDirection:"column",alignItems:tt}}function getToastListStyle(a){const et=a==="top"||a==="bottom"?"0 auto":void 0,tt=a.includes("top")?"env(safe-area-inset-top, 0px)":void 0,at=a.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,ct=a.includes("left")?void 0:"env(safe-area-inset-right, 0px)",ut=a.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:et,top:tt,bottom:at,right:ct,left:ut}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(a){return reactPropsRegex.test(a)||a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,et,tt){var at;if(et){var ct=et.shouldForwardProp;at=s.__emotion_forwardProp&&ct?function(ut){return s.__emotion_forwardProp(ut)&&ct(ut)}:ct}return typeof at!="function"&&tt&&(at=s.__emotion_forwardProp),at},Insertion=function(s){var et=s.cache,tt=s.serialized,at=s.isStringTag;return registerStyles(et,tt,at),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,tt,at)}),null},createStyled=function a(s,et){var tt=s.__emotion_real===s,at=tt&&s.__emotion_base||s,ct,ut;et!==void 0&&(ct=et.label,ut=et.target);var bt=composeShouldForwardProps(s,et,tt),wt=bt||getDefaultShouldForwardProp(at),Et=!wt("as");return function(){var Ft=arguments,jt=tt&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(ct!==void 0&&jt.push("label:"+ct+";"),Ft[0]==null||Ft[0].raw===void 0)jt.push.apply(jt,Ft);else{var Lt=Ft[0];jt.push(Lt[0]);for(var Ut=Ft.length,Vt=1;Vt<Ut;Vt++)jt.push(Ft[Vt],Lt[Vt])}var Yt=withEmotionCache(function(er,tr,nr){var ir=Et&&er.as||at,lr="",pr=[],yr=er;if(er.theme==null){yr={};for(var br in er)yr[br]=er[br];yr.theme=reactExports.useContext(ThemeContext)}typeof er.className=="string"?lr=getRegisteredStyles(tr.registered,pr,er.className):er.className!=null&&(lr=er.className+" ");var xr=serializeStyles(jt.concat(pr),tr.registered,yr);lr+=tr.key+"-"+xr.name,ut!==void 0&&(lr+=" "+ut);var Er=Et&&bt===void 0?getDefaultShouldForwardProp(ir):wt,$r={};for(var Sr in er)Et&&Sr==="as"||Er(Sr)&&($r[Sr]=er[Sr]);return $r.className=lr,nr&&($r.ref=nr),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:tr,serialized:xr,isStringTag:typeof ir=="string"}),reactExports.createElement(ir,$r))});return Yt.displayName=ct!==void 0?ct:"Styled("+(typeof at=="string"?at:at.displayName||at.name||"Component")+")",Yt.defaultProps=s.defaultProps,Yt.__emotion_real=Yt,Yt.__emotion_base=at,Yt.__emotion_styles=jt,Yt.__emotion_forwardProp=bt,Object.defineProperty(Yt,"toString",{value:function(){return"."+ut}}),Yt.withComponent=function(er,tr){var nr=a(er,_extends({},et,tr,{shouldForwardProp:composeShouldForwardProps(Yt,tr,!0)}));return nr.apply(void 0,jt)},Yt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind(null);tags.forEach(function(a){newStyled[a]=newStyled(a)});const allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(a){return(validHTMLProps.has(a)||!allPropNames.has(a))&&a[0]!=="_"}const emotion_styled=interopDefault(newStyled),toCSSObject=({baseStyle:a})=>s=>{const{theme:et,css:tt,__css:at,sx:ct,...ut}=s,[bt]=splitProps(ut,isStyleProp),wt=runIfFn$1(a,s),Et=assignAfter({},at,wt,compact(bt),ct),Ft=css$2(Et)(s.theme);return tt?[Ft,tt]:Ft};function styled(a,s){const{baseStyle:et,...tt}=s??{};tt.shouldForwardProp||(tt.shouldForwardProp=shouldForwardProp);const at=toCSSObject({baseStyle:et}),ct=emotion_styled(a,tt)(at);return reactExports.forwardRef(function(wt,Et){const{children:Ft,...jt}=wt,{colorMode:Lt,forced:Ut}=useColorMode(),Vt=Ut?Lt:void 0;return reactExports.createElement(ct,{ref:Et,"data-theme":Vt,...jt},Ft)})}function factory(){const a=new Map;return new Proxy(styled,{apply(s,et,tt){return styled(...tt)},get(s,et){return a.has(et)||a.set(et,styled(et)),a.get(et)}})}const chakra=factory(),toastMotionVariants={initial:a=>{const{position:s}=a,et=["top","bottom"].includes(s)?"y":"x";let tt=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(tt=1),{opacity:0,[et]:tt*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(a=>{const{id:s,message:et,onCloseComplete:tt,onRequestRemove:at,requestClose:ct=!1,position:ut="bottom",duration:bt=5e3,containerStyle:wt,motionVariants:Et=toastMotionVariants,toastSpacing:Ft="0.5rem"}=a,[jt,Lt]=reactExports.useState(bt),Ut=useIsPresent();useUpdateEffect(()=>{Ut||tt==null||tt()},[Ut]),useUpdateEffect(()=>{Lt(bt)},[bt]);const Vt=()=>Lt(null),Yt=()=>Lt(bt),er=()=>{Ut&&at()};reactExports.useEffect(()=>{Ut&&ct&&at()},[Ut,ct,at]),useTimeout(er,jt);const tr=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:Ft,...wt}),[wt,Ft]),nr=reactExports.useMemo(()=>getToastStyle(ut),[ut]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:Et,initial:"initial",animate:"animate",exit:"exit",onHoverStart:Vt,onHoverEnd:Yt,custom:{position:ut},style:nr,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:tr,children:runIfFn$1(et,{id:s,onClose:er})})})});ToastComponent.displayName="ToastComponent";function forwardRef(a){return reactExports.forwardRef(a)}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var et,tt,at;if(Array.isArray(a)){if(et=a.length,et!=s.length)return!1;for(tt=et;tt--!==0;)if(!equal(a[tt],s[tt]))return!1;return!0}var ct;if(hasMap&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(ct=a.entries();!(tt=ct.next()).done;)if(!s.has(tt.value[0]))return!1;for(ct=a.entries();!(tt=ct.next()).done;)if(!equal(tt.value[1],s.get(tt.value[0])))return!1;return!0}if(hasSet&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(ct=a.entries();!(tt=ct.next()).done;)if(!s.has(tt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if(et=a.length,et!=s.length)return!1;for(tt=et;tt--!==0;)if(a[tt]!==s[tt])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof s.valueOf=="function")return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof s.toString=="function")return a.toString()===s.toString();if(at=Object.keys(a),et=at.length,et!==Object.keys(s).length)return!1;for(tt=et;tt--!==0;)if(!Object.prototype.hasOwnProperty.call(s,at[tt]))return!1;if(hasElementType&&a instanceof Element)return!1;for(tt=et;tt--!==0;)if(!((at[tt]==="_owner"||at[tt]==="__v"||at[tt]==="__o")&&a.$$typeof)&&!equal(a[at[tt]],s[at[tt]]))return!1;return!0}return a!==a&&s!==s}var reactFastCompare=function(s,et){try{return equal(s,et)}catch(tt){if((tt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw tt}};const isEqual=getDefaultExportFromCjs$2(reactFastCompare);function useTheme(){const a=reactExports.useContext(ThemeContext);if(!a)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return a}function useChakra(){const a=useColorMode(),s=useTheme();return{...a,theme:s}}function getTokenValue(a,s,et){if(s==null)return s;const tt=at=>{var ct,ut;return(ut=(ct=a.__cssMap)==null?void 0:ct[at])==null?void 0:ut.value};return tt(s)??tt(et)??et}function useToken(a,s,et){const tt=useTheme();return getToken(a,s,et)(tt)}function getToken(a,s,et){const tt=Array.isArray(s)?s:[s],at=Array.isArray(et)?et:[et];return ct=>{const ut=at.filter(Boolean),bt=tt.map((wt,Et)=>{const Ft=`${a}.${wt}`;return getTokenValue(ct,Ft,ut[Et]??wt)});return Array.isArray(s)?bt:bt[0]}}function useStyleConfigImpl(a,s={}){const{styleConfig:et,...tt}=s,{theme:at,colorMode:ct}=useChakra(),ut=a?memoizedGet$1(at,`components.${a}`):void 0,bt=et||ut,wt=mergeWith({theme:at,colorMode:ct},(bt==null?void 0:bt.defaultProps)??{},compact(omit(tt,["children"])),(Ft,jt)=>Ft?void 0:jt),Et=reactExports.useRef({});if(bt){const jt=resolveStyleConfig(bt)(wt);isEqual(Et.current,jt)||(Et.current=jt)}return Et.current}function useStyleConfig(a,s={}){return useStyleConfigImpl(a,s)}function useMultiStyleConfig(a,s={}){return useStyleConfigImpl(a,s)}const fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon$1=forwardRef((a,s)=>{const{as:et,viewBox:tt,color:at="currentColor",focusable:ct=!1,children:ut,className:bt,__css:wt,...Et}=a,Ft=cx("chakra-icon",bt),jt=useStyleConfig("Icon",a),Lt={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:at,...wt,...jt},Ut={ref:s,focusable:ct,className:Ft,__css:Lt},Vt=tt??fallbackIcon.viewBox;if(et&&typeof et!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:et,...Ut,...Et});const Yt=ut??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:Vt,...Ut,...Et,children:Yt})});Icon$1.displayName="Icon";function CheckIcon(a){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(a){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(a){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const spin$1=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner$1=forwardRef((a,s)=>{const et=useStyleConfig("Spinner",a),{label:tt="Loading...",thickness:at="2px",speed:ct="0.45s",emptyColor:ut="transparent",className:bt,...wt}=omitThemingProps(a),Et=cx("chakra-spinner",bt),Ft={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:at,borderBottomColor:ut,borderLeftColor:ut,animation:`${spin$1} ${ct} linear infinite`,...et};return jsxRuntimeExports.jsx(chakra.div,{ref:s,__css:Ft,className:Et,...wt,children:tt&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:tt})})});Spinner$1.displayName="Spinner";const[AlertProvider,useAlertContext]=createContext({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner$1,colorScheme:"blue"}};function getStatusColorScheme(a){return STATUSES[a].colorScheme}function getStatusIcon(a){return STATUSES[a].icon}const Alert=forwardRef(function(s,et){const{status:tt="info",addRole:at=!0,...ct}=omitThemingProps(s),ut=s.colorScheme??getStatusColorScheme(tt),bt=useMultiStyleConfig("Alert",{...s,colorScheme:ut}),wt={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...bt.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:tt},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:bt,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":tt,role:at?"alert":void 0,ref:et,...ct,className:cx("chakra-alert",s.className),__css:wt})})})});Alert.displayName="Alert";function AlertIcon(a){const{status:s}=useAlertContext(),et=getStatusIcon(s),tt=useAlertStyles(),at=s==="loading"?tt.spinner:tt.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":s,...a,className:cx("chakra-alert__icon",a.className),__css:at,children:a.children||jsxRuntimeExports.jsx(et,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";const AlertTitle=forwardRef(function(s,et){const tt=useAlertStyles(),{status:at}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:et,"data-status":at,...s,className:cx("chakra-alert__title",s.className),__css:tt.title})});AlertTitle.displayName="AlertTitle";const AlertDescription=forwardRef(function(s,et){const{status:tt}=useAlertContext(),at=useAlertStyles(),ct={display:"inline",...at.description};return jsxRuntimeExports.jsx(chakra.div,{ref:et,"data-status":tt,...s,className:cx("chakra-alert__desc",s.className),__css:ct})});AlertDescription.displayName="AlertDescription";function CloseIcon(a){return jsxRuntimeExports.jsx(Icon$1,{focusable:"false","aria-hidden":!0,...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const CloseButton=forwardRef(function(s,et){const tt=useStyleConfig("CloseButton",s),{children:at,isDisabled:ct,__css:ut,...bt}=omitThemingProps(s),wt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:et,disabled:ct,__css:{...wt,...tt,...ut},...bt,children:at||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";const Toast$1=a=>{const{status:s,variant:et="solid",id:tt,title:at,isClosable:ct,onClose:ut,description:bt,colorScheme:wt,icon:Et}=a,Ft=tt?{root:`toast-${tt}`,title:`toast-${tt}-title`,description:`toast-${tt}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:s,variant:et,id:Ft==null?void 0:Ft.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:wt,children:[jsxRuntimeExports.jsx(AlertIcon,{children:Et}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[at&&jsxRuntimeExports.jsx(AlertTitle,{id:Ft==null?void 0:Ft.title,children:at}),bt&&jsxRuntimeExports.jsx(AlertDescription,{id:Ft==null?void 0:Ft.description,display:"block",children:bt})]}),ct&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:ut,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(a={}){const{render:s,toastComponent:et=Toast$1}=a;return at=>typeof s=="function"?s({...at,...a}):jsxRuntimeExports.jsx(et,{...at,...a})}const initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(a){let s=a;const et=new Set,tt=at=>{s=at(s),et.forEach(ct=>ct())};return{getState:()=>s,subscribe:at=>(et.add(at),()=>{tt(()=>a),et.delete(at)}),removeToast:(at,ct)=>{tt(ut=>({...ut,[ct]:ut[ct].filter(bt=>bt.id!=at)}))},notify:(at,ct)=>{const ut=createToast(at,ct),{position:bt,id:wt}=ut;return tt(Et=>{const jt=bt.includes("top")?[ut,...Et[bt]??[]]:[...Et[bt]??[],ut];return{...Et,[bt]:jt}}),wt},update:(at,ct)=>{at&&tt(ut=>{const bt={...ut},{position:wt,index:Et}=findToast(bt,at);return wt&&Et!==-1&&(bt[wt][Et]={...bt[wt][Et],...ct,message:createRenderToast(ct)}),bt})},closeAll:({positions:at}={})=>{tt(ct=>(at??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((wt,Et)=>(wt[Et]=ct[Et].map(Ft=>({...Ft,requestClose:!0})),wt),{...ct}))},close:at=>{tt(ct=>{const ut=getToastPosition(ct,at);return ut?{...ct,[ut]:ct[ut].map(bt=>bt.id==at?{...bt,requestClose:!0}:bt)}:ct})},isActive:at=>!!findToast(toastStore.getState(),at).position}}let counter=0;function createToast(a,s={}){counter+=1;const et=s.id??counter,tt=s.position??"bottom";return{id:et,message:a,position:tt,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(et),tt),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}const[PortalContextProvider,usePortalContext]=createContext({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=a=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:a.zIndex,top:0,left:0,right:0},children:a.children}),DefaultPortal=a=>{const{appendToParentPortal:s,children:et}=a,[tt,at]=reactExports.useState(null),ct=reactExports.useRef(null),[,ut]=reactExports.useState({});reactExports.useEffect(()=>ut({}),[]);const bt=usePortalContext(),wt=usePortalManager();useSafeLayoutEffect$2(()=>{if(!tt)return;const Ft=tt.ownerDocument,jt=s?bt??Ft.body:Ft.body;if(!jt)return;ct.current=Ft.createElement("div"),ct.current.className=PORTAL_CLASSNAME,jt.appendChild(ct.current),ut({});const Lt=ct.current;return()=>{jt.contains(Lt)&&jt.removeChild(Lt)}},[tt]);const Et=wt!=null&&wt.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:wt==null?void 0:wt.zIndex,children:et}):et;return ct.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:ct.current,children:Et}),ct.current):jsxRuntimeExports.jsx("span",{ref:Ft=>{Ft&&at(Ft)}})},ContainerPortal=a=>{const{children:s,containerRef:et,appendToParentPortal:tt}=a,at=et.current,ct=at??(typeof window<"u"?document.body:void 0),ut=reactExports.useMemo(()=>{const wt=at==null?void 0:at.ownerDocument.createElement("div");return wt&&(wt.className=PORTAL_CLASSNAME),wt},[at]),[,bt]=reactExports.useState({});return useSafeLayoutEffect$2(()=>bt({}),[]),useSafeLayoutEffect$2(()=>{if(!(!ut||!ct))return ct.appendChild(ut),()=>{ct.removeChild(ut)}},[ut,ct]),ct&&ut?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:tt?ut:null,children:s}),ut):null};function Portal(a){const s={appendToParentPortal:!0,...a},{containerRef:et,...tt}=s;return et?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:et,...tt}):jsxRuntimeExports.jsx(DefaultPortal,{...tt})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";const[ToastOptionProvider,useToastOptionContext]=createContext({name:"ToastOptionsContext",strict:!1}),ToastProvider=a=>{const s=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:et,component:tt=ToastComponent,portalProps:at,animatePresenceProps:ct}=a,bt=Object.keys(s).map(wt=>{const Et=s[wt];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${wt}`,id:`chakra-toast-manager-${wt}`,style:getToastListStyle(wt),children:jsxRuntimeExports.jsx(AnimatePresence,{...ct,initial:!1,children:Et.map(Ft=>jsxRuntimeExports.jsx(tt,{motionVariants:et,...Ft},Ft.id))})},wt)});return jsxRuntimeExports.jsx(Portal,{...at,children:bt})},createProvider=a=>function({children:et,theme:tt=a,toastOptions:at,...ct}){return jsxRuntimeExports.jsxs(Provider,{theme:tt,...ct,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:at==null?void 0:at.defaultOptions,children:et}),jsxRuntimeExports.jsx(ToastProvider,{...at})]})},ChakraProvider=createProvider(theme$1);function sortNodes(a){return a.sort((s,et)=>{const tt=s.compareDocumentPosition(et);if(tt&Node.DOCUMENT_POSITION_FOLLOWING||tt&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(tt&Node.DOCUMENT_POSITION_PRECEDING||tt&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(tt&Node.DOCUMENT_POSITION_DISCONNECTED||tt&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const isElement$2=a=>typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE;function getNextIndex(a,s,et){let tt=a+1;return et&&tt>=s&&(tt=0),tt}function getPrevIndex(a,s,et){let tt=a-1;return et&&tt<0&&(tt=s),tt}const useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,cast$1=a=>a;var __defProp$h=Object.defineProperty,__defNormalProp$5=(a,s,et)=>s in a?__defProp$h(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$2=(a,s,et)=>(__defNormalProp$5(a,typeof s!="symbol"?s+"":s,et),et);class DescendantsManager{constructor(){__publicField$2(this,"descendants",new Map),__publicField$2(this,"register",s=>{if(s!=null)return isElement$2(s)?this.registerNode(s):et=>{this.registerNode(et,s)}}),__publicField$2(this,"unregister",s=>{this.descendants.delete(s);const et=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(et)}),__publicField$2(this,"destroy",()=>{this.descendants.clear()}),__publicField$2(this,"assignIndex",s=>{this.descendants.forEach(et=>{const tt=s.indexOf(et.node);et.index=tt,et.node.dataset.index=et.index.toString()})}),__publicField$2(this,"count",()=>this.descendants.size),__publicField$2(this,"enabledCount",()=>this.enabledValues().length),__publicField$2(this,"values",()=>Array.from(this.descendants.values()).sort((et,tt)=>et.index-tt.index)),__publicField$2(this,"enabledValues",()=>this.values().filter(s=>!s.disabled)),__publicField$2(this,"item",s=>{if(this.count()!==0)return this.values()[s]}),__publicField$2(this,"enabledItem",s=>{if(this.enabledCount()!==0)return this.enabledValues()[s]}),__publicField$2(this,"first",()=>this.item(0)),__publicField$2(this,"firstEnabled",()=>this.enabledItem(0)),__publicField$2(this,"last",()=>this.item(this.descendants.size-1)),__publicField$2(this,"lastEnabled",()=>{const s=this.enabledValues().length-1;return this.enabledItem(s)}),__publicField$2(this,"indexOf",s=>{var et;return s?((et=this.descendants.get(s))==null?void 0:et.index)??-1:-1}),__publicField$2(this,"enabledIndexOf",s=>s==null?-1:this.enabledValues().findIndex(et=>et.node.isSameNode(s))),__publicField$2(this,"next",(s,et=!0)=>{const tt=getNextIndex(s,this.count(),et);return this.item(tt)}),__publicField$2(this,"nextEnabled",(s,et=!0)=>{const tt=this.item(s);if(!tt)return;const at=this.enabledIndexOf(tt.node),ct=getNextIndex(at,this.enabledCount(),et);return this.enabledItem(ct)}),__publicField$2(this,"prev",(s,et=!0)=>{const tt=getPrevIndex(s,this.count()-1,et);return this.item(tt)}),__publicField$2(this,"prevEnabled",(s,et=!0)=>{const tt=this.item(s);if(!tt)return;const at=this.enabledIndexOf(tt.node),ct=getPrevIndex(at,this.enabledCount()-1,et);return this.enabledItem(ct)}),__publicField$2(this,"registerNode",(s,et)=>{if(!s||this.descendants.has(s))return;const tt=Array.from(this.descendants.keys()).concat(s),at=sortNodes(tt);et!=null&&et.disabled&&(et.disabled=!!et.disabled);const ct={node:s,index:-1,...et};this.descendants.set(s,ct),this.assignIndex(at)})}}function createDescendantContext(){const[a,s]=createContext({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[a,s,()=>{const at=reactExports.useRef(new DescendantsManager);return useSafeLayoutEffect(()=>()=>at.current.destroy()),at.current},at=>{const ct=s(),[ut,bt]=reactExports.useState(-1),wt=reactExports.useRef(null);useSafeLayoutEffect(()=>()=>{wt.current&&ct.unregister(wt.current)},[]),useSafeLayoutEffect(()=>{if(!wt.current)return;const Ft=Number(wt.current.dataset.index);ut!=Ft&&!Number.isNaN(Ft)&&bt(Ft)});const Et=cast$1(at?ct.register(at):ct.register);return{descendants:ct,index:ut,enabledIndex:ct.enabledIndexOf(wt.current),register:mergeRefs(Et,wt)}}]}const TRANSITION_EASINGS={easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_VARIANTS={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function getSlideTransition(a){switch((a==null?void 0:a.direction)??"right"){case"right":return TRANSITION_VARIANTS.slideRight;case"left":return TRANSITION_VARIANTS.slideLeft;case"bottom":return TRANSITION_VARIANTS.slideDown;case"top":return TRANSITION_VARIANTS.slideUp;default:return TRANSITION_VARIANTS.slideRight}}const TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(a,s)=>({...a,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(a,s)=>({...a,delay:typeof s=="number"?s:s==null?void 0:s.exit})};function useImage(a){const{loading:s,src:et,srcSet:tt,onLoad:at,onError:ct,crossOrigin:ut,sizes:bt,ignoreFallback:wt}=a,[Et,Ft]=reactExports.useState("pending");reactExports.useEffect(()=>{Ft(et?"loading":"pending")},[et]);const jt=reactExports.useRef(null),Lt=reactExports.useCallback(()=>{if(!et)return;Ut();const Vt=new Image;Vt.src=et,ut&&(Vt.crossOrigin=ut),tt&&(Vt.srcset=tt),bt&&(Vt.sizes=bt),s&&(Vt.loading=s),Vt.onload=Yt=>{Ut(),Ft("loaded"),at==null||at(Yt)},Vt.onerror=Yt=>{Ut(),Ft("failed"),ct==null||ct(Yt)},jt.current=Vt},[et,ut,tt,bt,at,ct,s]),Ut=()=>{jt.current&&(jt.current.onload=null,jt.current.onerror=null,jt.current=null)};return useSafeLayoutEffect$2(()=>{if(!wt)return Et==="loading"&&Lt(),()=>{Ut()}},[Et,Lt,wt]),wt?"loaded":Et}const shouldShowFallbackImage=(a,s)=>a!=="loaded"&&s==="beforeLoadOrError"||a==="failed"&&s==="onError",Box=chakra("div");Box.displayName="Box";const[ButtonGroupProvider,useButtonGroup]=createContext({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(a){const{children:s,className:et,...tt}=a,at=reactExports.isValidElement(s)?reactExports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,ct=cx("chakra-button__icon",et);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...tt,className:ct,children:at})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(a){const{label:s,placement:et,spacing:tt="0.5rem",children:at=jsxRuntimeExports.jsx(Spinner$1,{color:"currentColor",width:"1em",height:"1em"}),className:ct,__css:ut,...bt}=a,wt=cx("chakra-button__spinner",ct),Et=et==="start"?"marginEnd":"marginStart",Ft=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[Et]:s?tt:0,fontSize:"1em",lineHeight:"normal",...ut}),[ut,s,Et,tt]);return jsxRuntimeExports.jsx(chakra.div,{className:wt,...bt,__css:Ft,children:at})}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(a){const[s,et]=reactExports.useState(!a);return{ref:reactExports.useCallback(ct=>{ct&&et(ct.tagName==="BUTTON")},[]),type:s?"button":void 0}}const Button=forwardRef((a,s)=>{const et=useButtonGroup(),tt=useStyleConfig("Button",{...et,...a}),{isDisabled:at=et==null?void 0:et.isDisabled,isLoading:ct,isActive:ut,children:bt,leftIcon:wt,rightIcon:Et,loadingText:Ft,iconSpacing:jt="0.5rem",type:Lt,spinner:Ut,spinnerPlacement:Vt="start",className:Yt,as:er,shouldWrapChildren:tr,...nr}=omitThemingProps(a),ir=reactExports.useMemo(()=>{const br={...tt==null?void 0:tt._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...tt,...!!et&&{_focus:br}}},[tt,et]),{ref:lr,type:pr}=useButtonType(er),yr={rightIcon:Et,leftIcon:wt,iconSpacing:jt,children:bt,shouldWrapChildren:tr};return jsxRuntimeExports.jsxs(chakra.button,{disabled:at||ct,ref:useMergeRefs(s,lr),as:er,type:Lt??pr,"data-active":dataAttr(ut),"data-loading":dataAttr(ct),__css:ir,className:cx("chakra-button",Yt),...nr,children:[ct&&Vt==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:Ft,placement:"start",spacing:jt,children:Ut}),ct?Ft||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...yr})}):jsxRuntimeExports.jsx(ButtonContent,{...yr}),ct&&Vt==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:Ft,placement:"end",spacing:jt,children:Ut})]})});Button.displayName="Button";function ButtonContent(a){const{leftIcon:s,rightIcon:et,children:tt,iconSpacing:at,shouldWrapChildren:ct}=a;return ct?jsxRuntimeExports.jsxs("span",{style:{display:"contents"},children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:at,children:s}),tt,et&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:at,children:et})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:at,children:s}),tt,et&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:at,children:et})]})}const Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";const centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function(s,et){const{axis:tt="both",...at}=s;return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:centerStyles[tt],...at,position:"absolute"})});var isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(a,s){handlers.forEach(et=>et(a,s))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(a){return!(a.metaKey||!isMac&&a.altKey||a.ctrlKey||a.key==="Control"||a.key==="Shift"||a.key==="Meta")}function onKeyboardEvent(a){hasEventBeforeFocus=!0,isValidKey(a)&&(modality="keyboard",trigger("keyboard",a))}function onPointerEvent(a){if(modality="pointer",a.type==="mousedown"||a.type==="pointerdown"){hasEventBeforeFocus=!0;const s=a.composedPath?a.composedPath()[0]:a.target;let et=!1;try{et=s.matches(":focus-visible")}catch{}if(et)return;trigger("pointer",a)}}function isVirtualClick(a){return a.mozInputSource===0&&a.isTrusted?!0:a.detail===0&&!a.pointerType}function onClickEvent(a){isVirtualClick(a)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus$1(a){a.target===window||a.target===document||a.target instanceof Element&&a.target.hasAttribute("tabindex")||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",a)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:a}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...et){hasEventBeforeFocus=!0,a.apply(this,et)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus$1,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(a){setupGlobalFocusEvents(),a(isFocusVisible());const s=()=>a(isFocusVisible());return handlers.add(s),()=>{handlers.delete(s)}}const[FormControlStylesProvider,useFormControlStyles]=createContext({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext({strict:!1,name:"FormControlContext"});function useFormControlProvider(a){const{id:s,isRequired:et,isInvalid:tt,isDisabled:at,isReadOnly:ct,...ut}=a,bt=reactExports.useId(),wt=s||`field-${bt}`,Et=`${wt}-label`,Ft=`${wt}-feedback`,jt=`${wt}-helptext`,[Lt,Ut]=reactExports.useState(!1),[Vt,Yt]=reactExports.useState(!1),[er,tr]=reactExports.useState(!1),nr=reactExports.useCallback((br={},xr=null)=>({id:jt,...br,ref:mergeRefs(xr,Er=>{Er&&Yt(!0)})}),[jt]),ir=reactExports.useCallback((br={},xr=null)=>({...br,ref:xr,"data-focus":dataAttr(er),"data-disabled":dataAttr(at),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(ct),id:br.id!==void 0?br.id:Et,htmlFor:br.htmlFor!==void 0?br.htmlFor:wt}),[wt,at,er,tt,ct,Et]),lr=reactExports.useCallback((br={},xr=null)=>({id:Ft,...br,ref:mergeRefs(xr,Er=>{Er&&Ut(!0)}),"aria-live":"polite"}),[Ft]),pr=reactExports.useCallback((br={},xr=null)=>({...br,...ut,ref:xr,role:"group","data-focus":dataAttr(er),"data-disabled":dataAttr(at),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(ct)}),[ut,at,er,tt,ct]),yr=reactExports.useCallback((br={},xr=null)=>({...br,ref:xr,role:"presentation","aria-hidden":!0,children:br.children||"*"}),[]);return{isRequired:!!et,isInvalid:!!tt,isReadOnly:!!ct,isDisabled:!!at,isFocused:!!er,onFocus:()=>tr(!0),onBlur:()=>tr(!1),hasFeedbackText:Lt,setHasFeedbackText:Ut,hasHelpText:Vt,setHasHelpText:Yt,id:wt,labelId:Et,feedbackId:Ft,helpTextId:jt,htmlProps:ut,getHelpTextProps:nr,getErrorMessageProps:lr,getRootProps:pr,getLabelProps:ir,getRequiredIndicatorProps:yr}}const FormControl=forwardRef(function(s,et){const tt=useMultiStyleConfig("Form",s),at=omitThemingProps(s),{getRootProps:ct,htmlProps:ut,...bt}=useFormControlProvider(at),wt=cx("chakra-form-control",s.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:bt,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:tt,children:jsxRuntimeExports.jsx(chakra.div,{...ct({},et),className:wt,__css:tt.container})})})});FormControl.displayName="FormControl";const FormHelperText=forwardRef(function(s,et){const tt=useFormControlContext(),at=useFormControlStyles(),ct=cx("chakra-form__helper-text",s.className);return jsxRuntimeExports.jsx(chakra.div,{...tt==null?void 0:tt.getHelpTextProps(s,et),__css:at.helperText,className:ct})});FormHelperText.displayName="FormHelperText";function useFormControl(a){const{isDisabled:s,isInvalid:et,isReadOnly:tt,isRequired:at,...ct}=useFormControlProps(a);return{...ct,disabled:s,readOnly:tt,required:at,"aria-invalid":ariaAttr(et),"aria-required":ariaAttr(at),"aria-readonly":ariaAttr(tt)}}function useFormControlProps(a){const s=useFormControlContext(),{id:et,disabled:tt,readOnly:at,required:ct,isRequired:ut,isInvalid:bt,isReadOnly:wt,isDisabled:Et,onFocus:Ft,onBlur:jt,...Lt}=a,Ut=a["aria-describedby"]?[a["aria-describedby"]]:[];return s!=null&&s.hasFeedbackText&&(s!=null&&s.isInvalid)&&Ut.push(s.feedbackId),s!=null&&s.hasHelpText&&Ut.push(s.helpTextId),{...Lt,"aria-describedby":Ut.join(" ")||void 0,id:et??(s==null?void 0:s.id),isDisabled:tt??Et??(s==null?void 0:s.isDisabled),isReadOnly:at??wt??(s==null?void 0:s.isReadOnly),isRequired:ct??ut??(s==null?void 0:s.isRequired),isInvalid:bt??(s==null?void 0:s.isInvalid),onFocus:callAllHandlers(s==null?void 0:s.onFocus,Ft),onBlur:callAllHandlers(s==null?void 0:s.onBlur,jt)}}const visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useCheckbox(a={}){const s=useFormControlProps(a),{isDisabled:et,isReadOnly:tt,isRequired:at,isInvalid:ct,id:ut,onBlur:bt,onFocus:wt,"aria-describedby":Et}=s,{defaultChecked:Ft,isChecked:jt,isFocusable:Lt,onChange:Ut,isIndeterminate:Vt,name:Yt,value:er,tabIndex:tr=void 0,"aria-label":nr,"aria-labelledby":ir,"aria-invalid":lr,...pr}=a,yr=omit(pr,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),br=useCallbackRef(Ut),xr=useCallbackRef(bt),Er=useCallbackRef(wt),[$r,Sr]=reactExports.useState(!1),[fr,vr]=reactExports.useState(!1),[or,rr]=reactExports.useState(!1),ar=reactExports.useRef(!1);reactExports.useEffect(()=>trackFocusVisible(Lr=>{ar.current=Lr}),[]);const sr=reactExports.useRef(null),[dr,gr]=reactExports.useState(!0),[ur,_r]=reactExports.useState(!!Ft),hr=jt!==void 0,cr=hr?jt:ur,wr=reactExports.useCallback(Lr=>{if(tt||et){Lr.preventDefault();return}hr||_r(cr?Lr.currentTarget.checked:Vt?!0:Lr.currentTarget.checked),br==null||br(Lr)},[tt,et,cr,hr,Vt,br]);useSafeLayoutEffect$2(()=>{sr.current&&(sr.current.indeterminate=!!Vt)},[Vt]),useUpdateEffect(()=>{et&&Sr(!1)},[et,Sr]),useSafeLayoutEffect$2(()=>{const Lr=sr.current;if(!(Lr!=null&&Lr.form))return;const Hr=()=>{_r(!!Ft)};return Lr.form.addEventListener("reset",Hr),()=>{var Gr;return(Gr=Lr.form)==null?void 0:Gr.removeEventListener("reset",Hr)}},[]);const Br=et&&!Lt,Or=reactExports.useCallback(Lr=>{Lr.key===" "&&rr(!0)},[rr]),Rr=reactExports.useCallback(Lr=>{Lr.key===" "&&rr(!1)},[rr]);useSafeLayoutEffect$2(()=>{if(!sr.current)return;sr.current.checked!==cr&&_r(sr.current.checked)},[sr.current]);const Pr=reactExports.useCallback((Lr={},Hr=null)=>{const Gr=Nr=>{$r&&Nr.preventDefault(),rr(!0)};return{...Lr,ref:Hr,"data-active":dataAttr(or),"data-hover":dataAttr(fr),"data-checked":dataAttr(cr),"data-focus":dataAttr($r),"data-focus-visible":dataAttr($r&&ar.current),"data-indeterminate":dataAttr(Vt),"data-disabled":dataAttr(et),"data-invalid":dataAttr(ct),"data-readonly":dataAttr(tt),"aria-hidden":!0,onMouseDown:callAllHandlers(Lr.onMouseDown,Gr),onMouseUp:callAllHandlers(Lr.onMouseUp,()=>rr(!1)),onMouseEnter:callAllHandlers(Lr.onMouseEnter,()=>vr(!0)),onMouseLeave:callAllHandlers(Lr.onMouseLeave,()=>vr(!1))}},[or,cr,et,$r,fr,Vt,ct,tt]),Ur=reactExports.useCallback((Lr={},Hr=null)=>({...Lr,ref:Hr,"data-active":dataAttr(or),"data-hover":dataAttr(fr),"data-checked":dataAttr(cr),"data-focus":dataAttr($r),"data-focus-visible":dataAttr($r&&ar.current),"data-indeterminate":dataAttr(Vt),"data-disabled":dataAttr(et),"data-invalid":dataAttr(ct),"data-readonly":dataAttr(tt)}),[or,cr,et,$r,fr,Vt,ct,tt]),kr=reactExports.useCallback((Lr={},Hr=null)=>({...yr,...Lr,ref:mergeRefs(Hr,Gr=>{Gr&&gr(Gr.tagName==="LABEL")}),onClick:callAllHandlers(Lr.onClick,()=>{var Gr;dr||((Gr=sr.current)==null||Gr.click(),requestAnimationFrame(()=>{var Nr;(Nr=sr.current)==null||Nr.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(et),"data-checked":dataAttr(cr),"data-invalid":dataAttr(ct)}),[yr,et,cr,ct,dr]),Ar=reactExports.useCallback((Lr={},Hr=null)=>({...Lr,ref:mergeRefs(sr,Hr),type:"checkbox",name:Yt,value:er,id:ut,tabIndex:tr,onChange:callAllHandlers(Lr.onChange,wr),onBlur:callAllHandlers(Lr.onBlur,xr,()=>Sr(!1)),onFocus:callAllHandlers(Lr.onFocus,Er,()=>Sr(!0)),onKeyDown:callAllHandlers(Lr.onKeyDown,Or),onKeyUp:callAllHandlers(Lr.onKeyUp,Rr),required:at,checked:cr,disabled:Br,readOnly:tt,"aria-label":nr,"aria-labelledby":ir,"aria-invalid":lr?!!lr:ct,"aria-describedby":Et,"aria-disabled":et,"aria-checked":Vt?"mixed":cr,style:visuallyHiddenStyle}),[Yt,er,ut,tr,wr,xr,Er,Or,Rr,at,cr,Br,tt,nr,ir,lr,ct,Et,et,Vt]),Cr=reactExports.useCallback((Lr={},Hr=null)=>({...Lr,ref:Hr,onMouseDown:callAllHandlers(Lr.onMouseDown,stopEvent),"data-disabled":dataAttr(et),"data-checked":dataAttr(cr),"data-invalid":dataAttr(ct)}),[cr,et,ct]);return{state:{isInvalid:ct,isFocused:$r,isChecked:cr,isActive:or,isHovered:fr,isIndeterminate:Vt,isDisabled:et,isReadOnly:tt,isRequired:at},getRootProps:kr,getCheckboxProps:Pr,getIndicatorProps:Ur,getInputProps:Ar,getLabelProps:Cr,htmlProps:yr}}function stopEvent(a){a.preventDefault(),a.stopPropagation()}const Divider$1=forwardRef(function(s,et){const{borderLeftWidth:tt,borderBottomWidth:at,borderTopWidth:ct,borderRightWidth:ut,borderWidth:bt,borderStyle:wt,borderColor:Et,...Ft}=useStyleConfig("Divider",s),{className:jt,orientation:Lt="horizontal",__css:Ut,...Vt}=omitThemingProps(s),Yt={vertical:{borderLeftWidth:tt||ut||bt||"1px",height:"100%"},horizontal:{borderBottomWidth:at||ct||bt||"1px",width:"100%"}};return jsxRuntimeExports.jsx(chakra.hr,{ref:et,"aria-orientation":Lt,...Vt,__css:{...Ft,border:"0",borderColor:Et,borderStyle:wt,...Yt[Lt],...Ut},className:cx("chakra-divider",jt)})});Divider$1.displayName="Divider";function isFunction$2(a){return typeof a=="function"}function pipe(...a){return s=>a.reduce((et,tt)=>tt(et),s)}const createExtendTheme=a=>function(...et){let tt=[...et],at=et[et.length-1];return isChakraTheme(at)&&tt.length>1?tt=tt.slice(0,tt.length-1):at=a,pipe(...tt.map(ct=>ut=>isFunction$2(ct)?ct(ut):mergeThemeOverride(ut,ct)))(at)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...a){return mergeWith({},...a,mergeThemeCustomizer)}function mergeThemeCustomizer(a,s,et,tt){if((isFunction$2(a)||isFunction$2(s))&&Object.prototype.hasOwnProperty.call(tt,et))return(...at)=>{const ct=isFunction$2(a)?a(...at):a,ut=isFunction$2(s)?s(...at):s;return mergeWith({},ct,ut,mergeThemeCustomizer)};if(isObject$3(a)&&isArray$2(s)||isArray$2(a)&&isObject$3(s))return s}const Flex=forwardRef(function(s,et){const{direction:tt,align:at,justify:ct,wrap:ut,basis:bt,grow:wt,shrink:Et,...Ft}=s,jt={display:"flex",flexDirection:tt,alignItems:at,justifyContent:ct,flexWrap:ut,flexBasis:bt,flexGrow:wt,flexShrink:Et};return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:jt,...Ft})});Flex.displayName="Flex";function _objectWithoutPropertiesLoose(a,s){if(a==null)return{};var et={};for(var tt in a)if({}.hasOwnProperty.call(a,tt)){if(s.indexOf(tt)!==-1)continue;et[tt]=a[tt]}return et}var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus",hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},mediumFocus=createMedium({},function(a){var s=a.target,et=a.currentTarget;return{target:s,currentTarget:et}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(s,et){var tt,at=reactExports.useState(),ct=at[0],ut=at[1],bt=reactExports.useRef(),wt=reactExports.useRef(!1),Et=reactExports.useRef(null),Ft=reactExports.useState({}),jt=Ft[1],Lt=s.children,Ut=s.disabled,Vt=Ut===void 0?!1:Ut,Yt=s.noFocusGuards,er=Yt===void 0?!1:Yt,tr=s.persistentFocus,nr=tr===void 0?!1:tr,ir=s.crossFrame,lr=ir===void 0?!0:ir,pr=s.autoFocus,yr=pr===void 0?!0:pr;s.allowTextSelection;var br=s.group,xr=s.className,Er=s.whiteList,$r=s.hasPositiveIndices,Sr=s.shards,fr=Sr===void 0?emptyArray:Sr,vr=s.as,or=vr===void 0?"div":vr,rr=s.lockProps,ar=rr===void 0?{}:rr,sr=s.sideCar,dr=s.returnFocus,gr=dr===void 0?!1:dr,ur=s.focusOptions,_r=s.onActivation,hr=s.onDeactivation,cr=reactExports.useState({}),wr=cr[0],Br=reactExports.useCallback(function(Gr){var Nr=Gr.captureFocusRestore;if(!Et.current){var Vr,jr=(Vr=document)==null?void 0:Vr.activeElement;Et.current=jr,jr!==document.body&&(Et.current=Nr(jr))}bt.current&&_r&&_r(bt.current),wt.current=!0,jt()},[_r]),Or=reactExports.useCallback(function(){wt.current=!1,hr&&hr(bt.current),jt()},[hr]),Rr=reactExports.useCallback(function(Gr){var Nr=Et.current;if(Nr){var Vr=(typeof Nr=="function"?Nr():Nr)||document.body,jr=typeof gr=="function"?gr(Vr):gr;if(jr){var Wr=typeof jr=="object"?jr:void 0;Et.current=null,Gr?Promise.resolve().then(function(){return Vr.focus(Wr)}):Vr.focus(Wr)}}},[gr]),Pr=reactExports.useCallback(function(Gr){wt.current&&mediumFocus.useMedium(Gr)},[]),Ur=mediumBlur.useMedium,kr=reactExports.useCallback(function(Gr){bt.current!==Gr&&(bt.current=Gr,ut(Gr))},[]),Ar=_extends((tt={},tt[FOCUS_DISABLED]=Vt&&"disabled",tt[FOCUS_GROUP]=br,tt),ar),Cr=er!==!0,Fr=Cr&&er!=="tail",Lr=useMergeRefs$1([et,kr]),Hr=reactExports.useMemo(function(){return{observed:bt,shards:fr,enabled:!Vt,active:wt.current}},[Vt,wt.current,fr,ct]);return React$2.createElement(reactExports.Fragment,null,Cr&&[React$2.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:Vt?-1:0,style:hiddenGuard}),$r?React$2.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:Vt?-1:1,style:hiddenGuard}):null],!Vt&&React$2.createElement(sr,{id:wr,sideCar:mediumSidecar,observed:ct,disabled:Vt,persistentFocus:nr,crossFrame:lr,autoFocus:yr,whiteList:Er,shards:fr,onActivation:Br,onDeactivation:Or,returnFocus:Rr,focusOptions:ur,noFocusGuards:er}),React$2.createElement(or,_extends({ref:Lr},Ar,{className:xr,onBlur:Ur,onFocus:Pr}),React$2.createElement(focusScope.Provider,{value:Hr},Lt)),Fr&&React$2.createElement("div",{"data-focus-guard":!0,tabIndex:Vt?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(a,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,tt){return et.__proto__=tt,et},_setPrototypeOf(a,s)}function _inheritsLoose(a,s){a.prototype=Object.create(s.prototype),a.prototype.constructor=a,_setPrototypeOf(a,s)}function _typeof$1(a){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(a)}function toPrimitive$1(a,s){if(_typeof$1(a)!="object"||!a)return a;var et=a[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(a,s);if(_typeof$1(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function toPropertyKey$1(a){var s=toPrimitive$1(a,"string");return _typeof$1(s)=="symbol"?s:s+""}function _defineProperty(a,s,et){return(s=toPropertyKey$1(s))in a?Object.defineProperty(a,s,{value:et,enumerable:!0,configurable:!0,writable:!0}):a[s]=et,a}function withSideEffect(a,s){function et(tt){return tt.displayName||tt.name||"Component"}return function(at){var ct=[],ut;function bt(){ut=a(ct.map(function(Et){return Et.props})),s(ut)}var wt=function(Et){_inheritsLoose(Ft,Et);function Ft(){return Et.apply(this,arguments)||this}Ft.peek=function(){return ut};var jt=Ft.prototype;return jt.componentDidMount=function(){ct.push(this),bt()},jt.componentDidUpdate=function(){bt()},jt.componentWillUnmount=function(){var Ut=ct.indexOf(this);ct.splice(Ut,1),bt()},jt.render=function(){return React$2.createElement(at,this.props)},Ft}(reactExports.PureComponent);return _defineProperty(wt,"displayName","SideEffect("+et(at)+")"),wt}}var toArray$1=function(a){for(var s=Array(a.length),et=0;et<a.length;++et)s[et]=a[et];return s},asArray=function(a){return Array.isArray(a)?a:[a]},getFirst=function(a){return Array.isArray(a)?a[0]:a},isElementHidden=function(a){if(a.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(a,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode$1=function(a){return a.parentNode&&a.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?a.parentNode.host:a.parentNode},isTopNode=function(a){return a===document||a&&a.nodeType===Node.DOCUMENT_NODE},isInert=function(a){return a.hasAttribute("inert")},isVisibleUncached=function(a,s){return!a||isTopNode(a)||!isElementHidden(a)&&!isInert(a)&&s(getParentNode$1(a))},isVisibleCached=function(a,s){var et=a.get(s);if(et!==void 0)return et;var tt=isVisibleUncached(s,isVisibleCached.bind(void 0,a));return a.set(s,tt),tt},isAutoFocusAllowedUncached=function(a,s){return a&&!isTopNode(a)?isAutoFocusAllowed(a)?s(getParentNode$1(a)):!1:!0},isAutoFocusAllowedCached=function(a,s){var et=a.get(s);if(et!==void 0)return et;var tt=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,a));return a.set(s,tt),tt},getDataset=function(a){return a.dataset},isHTMLButtonElement=function(a){return a.tagName==="BUTTON"},isHTMLInputElement=function(a){return a.tagName==="INPUT"},isRadioElement=function(a){return isHTMLInputElement(a)&&a.type==="radio"},notHiddenInput=function(a){return!((isHTMLInputElement(a)||isHTMLButtonElement(a))&&(a.type==="hidden"||a.disabled))},isAutoFocusAllowed=function(a){var s=a.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(a){var s;return!!(a&&(!((s=getDataset(a))===null||s===void 0)&&s.focusGuard))},isNotAGuard=function(a){return!isGuard(a)},isDefined=function(a){return!!a},tabSort=function(a,s){var et=Math.max(0,a.tabIndex),tt=Math.max(0,s.tabIndex),at=et-tt,ct=a.index-s.index;if(at){if(!et)return 1;if(!tt)return-1}return at||ct},getTabIndex=function(a){return a.tabIndex<0&&!a.hasAttribute("tabindex")?0:a.tabIndex},orderByTabIndex=function(a,s,et){return toArray$1(a).map(function(tt,at){var ct=getTabIndex(tt);return{node:tt,index:at,tabIndex:et&&ct===-1?(tt.dataset||{}).focusGuard?0:-1:ct}}).filter(function(tt){return!s||tt.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(a,s){return toArray$1((a.shadowRoot||a).children).reduce(function(et,tt){return et.concat(tt.matches(s?queryGuardTabbables:queryTabbables)?[tt]:[],getFocusablesWithShadowDom(tt))},[])},getFocusablesWithIFrame=function(a,s){var et;return a instanceof HTMLIFrameElement&&(!((et=a.contentDocument)===null||et===void 0)&&et.body)?getFocusables([a.contentDocument.body],s):[a]},getFocusables=function(a,s){return a.reduce(function(et,tt){var at,ct=getFocusablesWithShadowDom(tt,s),ut=(at=[]).concat.apply(at,ct.map(function(bt){return getFocusablesWithIFrame(bt,s)}));return et.concat(ut,tt.parentNode?toArray$1(tt.parentNode.querySelectorAll(queryTabbables)).filter(function(bt){return bt===tt}):[])},[])},getParentAutofocusables=function(a){var s=a.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray$1(s).map(function(et){return getFocusables([et])}).reduce(function(et,tt){return et.concat(tt)},[])},filterFocusable=function(a,s){return toArray$1(a).filter(function(et){return isVisibleCached(s,et)}).filter(function(et){return notHiddenInput(et)})},filterAutoFocusable=function(a,s){return s===void 0&&(s=new Map),toArray$1(a).filter(function(et){return isAutoFocusAllowedCached(s,et)})},getTabbableNodes=function(a,s,et){return orderByTabIndex(filterFocusable(getFocusables(a,et),s),!0,et)},getFocusableNodes=function(a,s){return orderByTabIndex(filterFocusable(getFocusables(a),s),!1)},parentAutofocusables=function(a,s){return filterFocusable(getParentAutofocusables(a),s)},contains$2=function(a,s){return a.shadowRoot?contains$2(a.shadowRoot,s):Object.getPrototypeOf(a).contains!==void 0&&Object.getPrototypeOf(a).contains.call(a,s)?!0:toArray$1(a.children).some(function(et){var tt;if(et instanceof HTMLIFrameElement){var at=(tt=et.contentDocument)===null||tt===void 0?void 0:tt.body;return at?contains$2(at,s):!1}return contains$2(et,s)})},filterNested=function(a){for(var s=new Set,et=a.length,tt=0;tt<et;tt+=1)for(var at=tt+1;at<et;at+=1){var ct=a[tt].compareDocumentPosition(a[at]);(ct&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(at),(ct&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(tt)}return a.filter(function(ut,bt){return!s.has(bt)})},getTopParent=function(a){return a.parentNode?getTopParent(a.parentNode):a},getAllAffectedNodes=function(a){var s=asArray(a);return s.filter(Boolean).reduce(function(et,tt){var at=tt.getAttribute(FOCUS_GROUP);return et.push.apply(et,at?filterNested(toArray$1(getTopParent(tt).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(at,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[tt]),et},[])},safeProbe=function(a){try{return a()}catch{return}},getActiveElement=function(a){if(a===void 0&&(a=document),!(!a||!a.activeElement)){var s=a.activeElement;return s.shadowRoot?getActiveElement(s.shadowRoot):s instanceof HTMLIFrameElement&&safeProbe(function(){return s.contentWindow.document})?getActiveElement(s.contentWindow.document):s}},focusInFrame=function(a,s){return a===s},focusInsideIframe=function(a,s){return!!toArray$1(a.querySelectorAll("iframe")).some(function(et){return focusInFrame(et,s)})},focusInside=function(a,s){return s===void 0&&(s=getActiveElement(getFirst(a).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(a).some(function(et){return contains$2(et,s)||focusInsideIframe(et,s)})},focusIsHidden=function(a){a===void 0&&(a=document);var s=getActiveElement(a);return s?toArray$1(a.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(et){return contains$2(et,s)}):!1},findSelectedRadio=function(a,s){return s.filter(isRadioElement).filter(function(et){return et.name===a.name}).filter(function(et){return et.checked})[0]||a},correctNode=function(a,s){return isRadioElement(a)&&a.name?findSelectedRadio(a,s):a},correctNodes=function(a){var s=new Set;return a.forEach(function(et){return s.add(correctNode(et,a))}),a.filter(function(et){return s.has(et)})},pickFirstFocus=function(a){return a[0]&&a.length>1?correctNode(a[0],a):a[0]},pickFocusable=function(a,s){return a.indexOf(correctNode(s,a))},NEW_FOCUS="NEW_FOCUS",newFocus=function(a,s,et,tt,at){var ct=a.length,ut=a[0],bt=a[ct-1],wt=isGuard(tt);if(!(tt&&a.indexOf(tt)>=0)){var Et=tt!==void 0?et.indexOf(tt):-1,Ft=at?et.indexOf(at):Et,jt=at?a.indexOf(at):-1;if(Et===-1)return jt!==-1?jt:NEW_FOCUS;if(jt===-1)return NEW_FOCUS;var Lt=Et-Ft,Ut=et.indexOf(ut),Vt=et.indexOf(bt),Yt=correctNodes(et),er=tt!==void 0?Yt.indexOf(tt):-1,tr=at?Yt.indexOf(at):er,nr=Yt.filter(function(xr){return xr.tabIndex>=0}),ir=tt!==void 0?nr.indexOf(tt):-1,lr=at?nr.indexOf(at):ir,pr=ir>=0&&lr>=0?lr-ir:tr-er;if(!Lt&&jt>=0||s.length===0)return jt;var yr=pickFocusable(a,s[0]),br=pickFocusable(a,s[s.length-1]);if(Et<=Ut&&wt&&Math.abs(Lt)>1)return br;if(Et>=Vt&&wt&&Math.abs(Lt)>1)return yr;if(Lt&&Math.abs(pr)>1)return jt;if(Et<=Ut)return br;if(Et>Vt)return yr;if(Lt)return Math.abs(Lt)>1?jt:(ct+jt+Lt)%ct}},findAutoFocused=function(a){return function(s){var et,tt=(et=getDataset(s))===null||et===void 0?void 0:et.autofocus;return s.autofocus||tt!==void 0&&tt!=="false"||a.indexOf(s)>=0}},pickAutofocus=function(a,s,et){var tt=a.map(function(ct){var ut=ct.node;return ut}),at=filterAutoFocusable(tt.filter(findAutoFocused(et)));return at&&at.length?pickFirstFocus(at):pickFirstFocus(filterAutoFocusable(s))},getParents=function(a,s){return s===void 0&&(s=[]),s.push(a),a.parentNode&&getParents(a.parentNode.host||a.parentNode,s),s},getCommonParent=function(a,s){for(var et=getParents(a),tt=getParents(s),at=0;at<et.length;at+=1){var ct=et[at];if(tt.indexOf(ct)>=0)return ct}return!1},getTopCommonParent=function(a,s,et){var tt=asArray(a),at=asArray(s),ct=tt[0],ut=!1;return at.filter(Boolean).forEach(function(bt){ut=getCommonParent(ut||bt,bt)||ut,et.filter(Boolean).forEach(function(wt){var Et=getCommonParent(ct,wt);Et&&(!ut||contains$2(Et,ut)?ut=Et:ut=getCommonParent(Et,ut))})}),ut},allParentAutofocusables=function(a,s){return a.reduce(function(et,tt){return et.concat(parentAutofocusables(tt,s))},[])},reorderNodes=function(a,s){var et=new Map;return s.forEach(function(tt){return et.set(tt.node,tt)}),a.map(function(tt){return et.get(tt)}).filter(isDefined)},focusSolver=function(a,s){var et=getActiveElement(asArray(a).length>0?document:getFirst(a).ownerDocument),tt=getAllAffectedNodes(a).filter(isNotAGuard),at=getTopCommonParent(et||a,a,tt),ct=new Map,ut=getFocusableNodes(tt,ct),bt=ut.filter(function(Vt){var Yt=Vt.node;return isNotAGuard(Yt)});if(bt[0]){var wt=getFocusableNodes([at],ct).map(function(Vt){var Yt=Vt.node;return Yt}),Et=reorderNodes(wt,bt),Ft=Et.map(function(Vt){var Yt=Vt.node;return Yt}),jt=Et.filter(function(Vt){var Yt=Vt.tabIndex;return Yt>=0}).map(function(Vt){var Yt=Vt.node;return Yt}),Lt=newFocus(Ft,jt,wt,et,s);if(Lt===NEW_FOCUS){var Ut=pickAutofocus(ut,jt,allParentAutofocusables(tt,ct))||pickAutofocus(ut,Ft,allParentAutofocusables(tt,ct));if(Ut)return{node:Ut};console.warn("focus-lock: cannot find any node to move focus into");return}return Lt===void 0?Lt:Et[Lt]}},expandFocusableNodes=function(a){var s=getAllAffectedNodes(a).filter(isNotAGuard),et=getTopCommonParent(a,a,s),tt=orderByTabIndex(getFocusables([et],!0),!0,!0),at=getFocusables(s,!1);return tt.map(function(ct){var ut=ct.node,bt=ct.index;return{node:ut,index:bt,lockItem:at.indexOf(ut)>=0,guard:isGuard(ut)}})},focusOn=function(a,s){a&&("focus"in a&&a.focus(s),"contentWindow"in a&&a.contentWindow&&a.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(a,s,et){et===void 0&&(et={});var tt=focusSolver(a,s);if(!lockDisabled&&tt){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(tt.node,et.focusOptions),guardCount--}};function weakRef(a){if(!a)return null;if(typeof WeakRef>"u")return function(){return a||null};var s=a?new WeakRef(a):null;return function(){return(s==null?void 0:s.deref())||null}}var recordElementLocation=function(a){if(!a)return null;for(var s=[],et=a;et&&et!==document.body;)s.push({current:weakRef(et),parent:weakRef(et.parentElement),left:weakRef(et.previousElementSibling),right:weakRef(et.nextElementSibling)}),et=et.parentElement;return{element:weakRef(a),stack:s,ownerDocument:a.ownerDocument}},restoreFocusTo=function(a){var s,et,tt,at,ct;if(a)for(var ut=a.stack,bt=a.ownerDocument,wt=new Map,Et=0,Ft=ut;Et<Ft.length;Et++){var jt=Ft[Et],Lt=(s=jt.parent)===null||s===void 0?void 0:s.call(jt);if(Lt&&bt.contains(Lt)){for(var Ut=(et=jt.left)===null||et===void 0?void 0:et.call(jt),Vt=jt.current(),Yt=Lt.contains(Vt)?Vt:void 0,er=(tt=jt.right)===null||tt===void 0?void 0:tt.call(jt),tr=getTabbableNodes([Lt],wt),nr=(ct=(at=Yt??(Ut==null?void 0:Ut.nextElementSibling))!==null&&at!==void 0?at:er)!==null&&ct!==void 0?ct:Ut;nr;){for(var ir=0,lr=tr;ir<lr.length;ir++){var pr=lr[ir];if(nr!=null&&nr.contains(pr.node))return pr.node}nr=nr.nextElementSibling}if(tr.length)return tr[0].node}}},captureFocusRestore=function(a){var s=recordElementLocation(a);return function(){return restoreFocusTo(s)}},getRelativeFocusable=function(a,s,et){if(!a||!s)return console.error("no element or scope given"),{};var tt=asArray(s);if(tt.every(function(ut){return!contains$2(ut,a)}))return console.error("Active element is not contained in the scope"),{};var at=et?getTabbableNodes(tt,new Map):getFocusableNodes(tt,new Map),ct=at.findIndex(function(ut){var bt=ut.node;return bt===a});if(ct!==-1)return{prev:at[ct-1],next:at[ct+1],first:at[0],last:at[at.length-1]}},getBoundary=function(a,s){var et=s?getTabbableNodes(asArray(a),new Map):getFocusableNodes(asArray(a),new Map);return{first:et[0],last:et[et.length-1]}},defaultOptions=function(a){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},a)},moveFocus=function(a,s,et){s===void 0&&(s={});var tt=defaultOptions(s),at=getRelativeFocusable(a,tt.scope,tt.onlyTabbable);if(at){var ct=et(at,tt.cycle);ct&&focusOn(ct.node,tt.focusOptions)}},focusNextElement=function(a,s){s===void 0&&(s={}),moveFocus(a,s,function(et,tt){var at=et.next,ct=et.first;return at||tt&&ct})},focusPrevElement=function(a,s){s===void 0&&(s={}),moveFocus(a,s,function(et,tt){var at=et.prev,ct=et.last;return at||tt&&ct})},pickBoundary=function(a,s,et){var tt,at=getBoundary(a,(tt=s.onlyTabbable)!==null&&tt!==void 0?tt:!0),ct=at[et];ct&&focusOn(ct.node,s.focusOptions)},focusFirstElement=function(a,s){s===void 0&&(s={}),pickBoundary(a,s,"first")},focusLastElement=function(a,s){s===void 0&&(s={}),pickBoundary(a,s,"last")};function deferAction(a){setTimeout(a,1)}var extractRef=function(s){return s&&"current"in s?s.current:s},focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function(s,et){lastPortaledElement={observerNode:s,portaledElement:et}},focusIsPortaledPair=function(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(a,s,et,tt){var at=null,ct=a;do{var ut=tt[ct];if(ut.guard)ut.node.dataset.focusAutoGuard&&(at=ut);else if(ut.lockItem){if(ct!==a)return;at=null}else break}while((ct+=et)!==s);at&&(at.node.tabIndex=0)}var focusWasOutside=function(s){return s?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function a(s,et,tt){return et&&(et.host===s&&(!et.activeElement||tt.contains(et.activeElement))||et.parentNode&&a(s,et.parentNode,tt))},withinHost=function(s,et){return et.some(function(tt){return checkInHost(s,tt,tt)})},getNodeFocusables=function(s){return getFocusableNodes(s,new Map)},isNotFocusable=function(s){return!getNodeFocusables([s.parentNode]).some(function(et){return et.node===s})},activateTrap=function(){var s=!1;if(lastActiveTrap){var et=lastActiveTrap,tt=et.observed,at=et.persistentFocus,ct=et.autoFocus,ut=et.shards,bt=et.crossFrame,wt=et.focusOptions,Et=et.noFocusGuards,Ft=tt||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&lastActiveFocus!==document.body&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){var jt=tryRestoreFocus();jt&&jt.focus()}var Lt=document&&document.activeElement;if(Ft){var Ut=[Ft].concat(ut.map(extractRef).filter(Boolean)),Vt=function(){if(!focusWasOutside(bt)||!Et||!lastActiveFocus||windowFocused)return!1;var ir=getNodeFocusables(Ut),lr=ir.findIndex(function(pr){var yr=pr.node;return yr===lastActiveFocus});return lr===0||lr===ir.length-1};if((!Lt||focusWhitelisted(Lt))&&(at||Vt()||!isFreeFocus()||!lastActiveFocus&&ct)&&(Ft&&!(focusInside(Ut)||Lt&&withinHost(Lt,Ut)||focusIsPortaledPair(Lt))&&(document&&!lastActiveFocus&&Lt&&!ct?(Lt.blur&&Lt.blur(),document.body.focus()):(s=moveFocusInside(Ut,lastActiveFocus,{focusOptions:wt}),lastPortaledElement={})),lastActiveFocus=document&&document.activeElement,lastActiveFocus!==document.body&&(tryRestoreFocus=captureFocusRestore(lastActiveFocus)),focusWasOutsideWindow=!1),document&&Lt!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var Yt=document&&document.activeElement,er=expandFocusableNodes(Ut),tr=er.map(function(nr){var ir=nr.node;return ir}).indexOf(Yt);tr>-1&&(er.filter(function(nr){var ir=nr.guard,lr=nr.node;return ir&&lr.dataset.focusAutoGuard}).forEach(function(nr){var ir=nr.node;return ir.removeAttribute("tabIndex")}),autoGuard(tr,er.length,1,er),autoGuard(tr,-1,-1,er))}}}return s},onTrap=function(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(s){var et=s.target,tt=s.currentTarget;tt.contains(et)||recordPortal(tt,et)},FocusWatcher=function(){return null},onWindowFocus=function(){windowFocused=!0},onWindowBlur=function(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(a){return a.filter(function(s){var et=s.disabled;return!et})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(a){var s=a.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var et=lastActiveTrap,tt=et&&s&&s.id===et.id;lastActiveTrap=s,et&&!tt&&(et.onDeactivation(),a.filter(function(at){var ct=at.id;return ct===et.id}).length||et.returnFocus(!s)),s?(lastActiveFocus=null,(!tt||et.observed!==s.observed)&&s.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(a){return a(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(s,et){return React$2.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:et},s))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusTrap=FocusLockCombination.default??FocusLockCombination,FocusLock=a=>{const{initialFocusRef:s,finalFocusRef:et,contentRef:tt,restoreFocus:at,children:ct,isDisabled:ut,autoFocus:bt,persistentFocus:wt,lockFocusAcrossFrames:Et}=a,Ft=reactExports.useCallback(()=>{s!=null&&s.current?s.current.focus():tt!=null&&tt.current&&getAllFocusable(tt.current).length===0&&requestAnimationFrame(()=>{var Vt;(Vt=tt.current)==null||Vt.focus()})},[s,tt]),jt=reactExports.useCallback(()=>{var Ut;(Ut=et==null?void 0:et.current)==null||Ut.focus()},[et]),Lt=at&&!et;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:Et,persistentFocus:wt,autoFocus:bt,disabled:ut,onActivation:Ft,onDeactivation:jt,returnFocus:Lt,children:ct})};FocusLock.displayName="FocusLock";const Grid=forwardRef(function(s,et){const{templateAreas:tt,gap:at,rowGap:ct,columnGap:ut,column:bt,row:wt,autoFlow:Et,autoRows:Ft,templateRows:jt,autoColumns:Lt,templateColumns:Ut,...Vt}=s,Yt={display:"grid",gridTemplateAreas:tt,gridGap:at,gridRowGap:ct,gridColumnGap:ut,gridAutoColumns:Lt,gridColumn:bt,gridRow:wt,gridAutoFlow:Et,gridAutoRows:Ft,gridTemplateRows:jt,gridTemplateColumns:Ut};return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:Yt,...Vt})});Grid.displayName="Grid";function spanFn(a){return mapResponsive(a,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}const GridItem=forwardRef(function(s,et){const{area:tt,colSpan:at,colStart:ct,colEnd:ut,rowEnd:bt,rowSpan:wt,rowStart:Et,...Ft}=s,jt=compact({gridArea:tt,gridColumn:spanFn(at),gridRow:spanFn(wt),gridColumnStart:ct,gridColumnEnd:ut,gridRowStart:Et,gridRowEnd:bt});return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:jt,...Ft})});GridItem.displayName="GridItem";const NativeImage=forwardRef(function(s,et){const{htmlWidth:tt,htmlHeight:at,alt:ct,...ut}=s;return jsxRuntimeExports.jsx("img",{width:tt,height:at,ref:et,alt:ct,...ut})});NativeImage.displayName="NativeImage";const Image$1=forwardRef(function(s,et){const{fallbackSrc:tt,fallback:at,src:ct,srcSet:ut,align:bt,fit:wt,loading:Et,ignoreFallback:Ft,crossOrigin:jt,fallbackStrategy:Lt="beforeLoadOrError",referrerPolicy:Ut,...Vt}=s,Yt=tt!==void 0||at!==void 0,er=Et!=null||Ft||!Yt,tr=useImage({...s,crossOrigin:jt,ignoreFallback:er}),nr=shouldShowFallbackImage(tr,Lt),ir={ref:et,objectFit:wt,objectPosition:bt,...er?Vt:omit(Vt,["onError","onLoad"])};return nr?at||jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,className:"chakra-image__placeholder",src:tt,...ir}):jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,src:ct,srcSet:ut,crossOrigin:jt,loading:Et,referrerPolicy:Ut,className:"chakra-image",...ir})});Image$1.displayName="Image";const Input=forwardRef(function(s,et){const{htmlSize:tt,...at}=s,ct=useMultiStyleConfig("Input",at),ut=omitThemingProps(at),bt=useFormControl(ut),wt=cx("chakra-input",s.className);return jsxRuntimeExports.jsx(chakra.input,{size:tt,...bt,__css:ct.field,ref:et,className:wt})});Input.displayName="Input";Input.id="Input";const[InputGroupStylesProvider,useInputGroupStyles]=createContext({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),InputGroup=forwardRef(function(s,et){const tt=useMultiStyleConfig("Input",s),{children:at,className:ct,...ut}=omitThemingProps(s),bt=cx("chakra-input__group",ct),wt={},Et=getValidChildren(at),Ft=tt.field;Et.forEach(Lt=>{tt&&(Ft&&Lt.type.id==="InputLeftElement"&&(wt.paddingStart=Ft.height??Ft.h),Ft&&Lt.type.id==="InputRightElement"&&(wt.paddingEnd=Ft.height??Ft.h),Lt.type.id==="InputRightAddon"&&(wt.borderEndRadius=0),Lt.type.id==="InputLeftAddon"&&(wt.borderStartRadius=0))});const jt=Et.map(Lt=>{var Vt,Yt;const Ut=compact({size:((Vt=Lt.props)==null?void 0:Vt.size)||s.size,variant:((Yt=Lt.props)==null?void 0:Yt.variant)||s.variant});return Lt.type.id!=="Input"?reactExports.cloneElement(Lt,Ut):reactExports.cloneElement(Lt,Object.assign(Ut,wt,Lt.props))});return jsxRuntimeExports.jsx(chakra.div,{className:bt,ref:et,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...tt.group},"data-group":!0,...ut,children:jsxRuntimeExports.jsx(InputGroupStylesProvider,{value:tt,children:jt})})});InputGroup.displayName="InputGroup";const placements$1={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},StyledAddon=chakra("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),InputAddon=forwardRef(function(s,et){const{placement:tt="left",...at}=s,ct=placements$1[tt]??{},ut=useInputGroupStyles();return jsxRuntimeExports.jsx(StyledAddon,{ref:et,...at,__css:{...ut.addon,...ct}})});InputAddon.displayName="InputAddon";const InputLeftAddon=forwardRef(function(s,et){return jsxRuntimeExports.jsx(InputAddon,{ref:et,placement:"left",...s,className:cx("chakra-input__left-addon",s.className)})});InputLeftAddon.displayName="InputLeftAddon";InputLeftAddon.id="InputLeftAddon";const InputRightAddon=forwardRef(function(s,et){return jsxRuntimeExports.jsx(InputAddon,{ref:et,placement:"right",...s,className:cx("chakra-input__right-addon",s.className)})});InputRightAddon.displayName="InputRightAddon";InputRightAddon.id="InputRightAddon";const StyledInputElement=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),InputElement=forwardRef(function(s,et){const{placement:tt="left",...at}=s,ct=useInputGroupStyles(),ut=ct.field,wt={[tt==="left"?"insetStart":"insetEnd"]:"0",width:(ut==null?void 0:ut.height)??(ut==null?void 0:ut.h),height:(ut==null?void 0:ut.height)??(ut==null?void 0:ut.h),fontSize:ut==null?void 0:ut.fontSize,...ct.element};return jsxRuntimeExports.jsx(StyledInputElement,{ref:et,__css:wt,...at})});InputElement.id="InputElement";InputElement.displayName="InputElement";const InputLeftElement=forwardRef(function(s,et){const{className:tt,...at}=s,ct=cx("chakra-input__left-element",tt);return jsxRuntimeExports.jsx(InputElement,{ref:et,placement:"left",className:ct,...at})});InputLeftElement.id="InputLeftElement";InputLeftElement.displayName="InputLeftElement";const InputRightElement=forwardRef(function(s,et){const{className:tt,...at}=s,ct=cx("chakra-input__right-element",tt);return jsxRuntimeExports.jsx(InputElement,{ref:et,placement:"right",className:ct,...at})});InputRightElement.id="InputRightElement";InputRightElement.displayName="InputRightElement";const Link=forwardRef(function(s,et){const tt=useStyleConfig("Link",s),{className:at,isExternal:ct,...ut}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.a,{target:ct?"_blank":void 0,rel:ct?"noopener":void 0,ref:et,className:cx("chakra-link",at),...ut,__css:tt})});Link.displayName="Link";function getNextItemFromSearch(a,s,et,tt){if(s==null)return tt;if(!tt)return a.find(ut=>et(ut).toLowerCase().startsWith(s.toLowerCase()));const at=a.filter(ct=>et(ct).toLowerCase().startsWith(s.toLowerCase()));if(at.length>0){let ct;return at.includes(tt)?(ct=at.indexOf(tt)+1,ct===at.length&&(ct=0),at[ct]):(ct=a.indexOf(at[0]),a[ct])}return tt}function isPrintableCharacter(a){const{key:s}=a;return s.length===1||s.length>1&&/[^a-zA-Z0-9]/.test(s)}function useShortcut(a={}){const{timeout:s=300,preventDefault:et=()=>!0}=a,[tt,at]=reactExports.useState([]),ct=reactExports.useRef(void 0),ut=()=>{ct.current&&(clearTimeout(ct.current),ct.current=null)},bt=()=>{ut(),ct.current=setTimeout(()=>{at([]),ct.current=null},s)};reactExports.useEffect(()=>ut,[]);function wt(Et){return Ft=>{if(Ft.key==="Backspace"){const jt=[...tt];jt.pop(),at(jt);return}if(isPrintableCharacter(Ft)){const jt=tt.concat(Ft.key);et(Ft)&&(Ft.preventDefault(),Ft.stopPropagation()),at(jt),Et(jt.join("")),bt()}}}return wt}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(a,s){return a.concat([s+"-"+start,s+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(a,s){return a.concat([s,s+"-"+start,s+"-"+end])},[]),beforeRead="beforeRead",read$1="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read$1,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(a){return a?(a.nodeName||"").toLowerCase():null}function getWindow(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var s=a.ownerDocument;return s&&s.defaultView||window}return a}function isElement$1(a){var s=getWindow(a).Element;return a instanceof s||a instanceof Element}function isHTMLElement$1(a){var s=getWindow(a).HTMLElement;return a instanceof s||a instanceof HTMLElement}function isShadowRoot(a){if(typeof ShadowRoot>"u")return!1;var s=getWindow(a).ShadowRoot;return a instanceof s||a instanceof ShadowRoot}function applyStyles(a){var s=a.state;Object.keys(s.elements).forEach(function(et){var tt=s.styles[et]||{},at=s.attributes[et]||{},ct=s.elements[et];!isHTMLElement$1(ct)||!getNodeName(ct)||(Object.assign(ct.style,tt),Object.keys(at).forEach(function(ut){var bt=at[ut];bt===!1?ct.removeAttribute(ut):ct.setAttribute(ut,bt===!0?"":bt)}))})}function effect$2(a){var s=a.state,et={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,et.popper),s.styles=et,s.elements.arrow&&Object.assign(s.elements.arrow.style,et.arrow),function(){Object.keys(s.elements).forEach(function(tt){var at=s.elements[tt],ct=s.attributes[tt]||{},ut=Object.keys(s.styles.hasOwnProperty(tt)?s.styles[tt]:et[tt]),bt=ut.reduce(function(wt,Et){return wt[Et]="",wt},{});!isHTMLElement$1(at)||!getNodeName(at)||(Object.assign(at.style,bt),Object.keys(ct).forEach(function(wt){at.removeAttribute(wt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(a){return a.split("-")[0]}var max$2=Math.max,min$2=Math.min,round$2=Math.round;function getUAString(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(a,s,et){s===void 0&&(s=!1),et===void 0&&(et=!1);var tt=a.getBoundingClientRect(),at=1,ct=1;s&&isHTMLElement$1(a)&&(at=a.offsetWidth>0&&round$2(tt.width)/a.offsetWidth||1,ct=a.offsetHeight>0&&round$2(tt.height)/a.offsetHeight||1);var ut=isElement$1(a)?getWindow(a):window,bt=ut.visualViewport,wt=!isLayoutViewport()&&et,Et=(tt.left+(wt&&bt?bt.offsetLeft:0))/at,Ft=(tt.top+(wt&&bt?bt.offsetTop:0))/ct,jt=tt.width/at,Lt=tt.height/ct;return{width:jt,height:Lt,top:Ft,right:Et+jt,bottom:Ft+Lt,left:Et,x:Et,y:Ft}}function getLayoutRect(a){var s=getBoundingClientRect(a),et=a.offsetWidth,tt=a.offsetHeight;return Math.abs(s.width-et)<=1&&(et=s.width),Math.abs(s.height-tt)<=1&&(tt=s.height),{x:a.offsetLeft,y:a.offsetTop,width:et,height:tt}}function contains$1(a,s){var et=s.getRootNode&&s.getRootNode();if(a.contains(s))return!0;if(et&&isShadowRoot(et)){var tt=s;do{if(tt&&a.isSameNode(tt))return!0;tt=tt.parentNode||tt.host}while(tt)}return!1}function getComputedStyle(a){return getWindow(a).getComputedStyle(a)}function isTableElement(a){return["table","td","th"].indexOf(getNodeName(a))>=0}function getDocumentElement(a){return((isElement$1(a)?a.ownerDocument:a.document)||window.document).documentElement}function getParentNode(a){return getNodeName(a)==="html"?a:a.assignedSlot||a.parentNode||(isShadowRoot(a)?a.host:null)||getDocumentElement(a)}function getTrueOffsetParent(a){return!isHTMLElement$1(a)||getComputedStyle(a).position==="fixed"?null:a.offsetParent}function getContainingBlock(a){var s=/firefox/i.test(getUAString()),et=/Trident/i.test(getUAString());if(et&&isHTMLElement$1(a)){var tt=getComputedStyle(a);if(tt.position==="fixed")return null}var at=getParentNode(a);for(isShadowRoot(at)&&(at=at.host);isHTMLElement$1(at)&&["html","body"].indexOf(getNodeName(at))<0;){var ct=getComputedStyle(at);if(ct.transform!=="none"||ct.perspective!=="none"||ct.contain==="paint"||["transform","perspective"].indexOf(ct.willChange)!==-1||s&&ct.willChange==="filter"||s&&ct.filter&&ct.filter!=="none")return at;at=at.parentNode}return null}function getOffsetParent(a){for(var s=getWindow(a),et=getTrueOffsetParent(a);et&&isTableElement(et)&&getComputedStyle(et).position==="static";)et=getTrueOffsetParent(et);return et&&(getNodeName(et)==="html"||getNodeName(et)==="body"&&getComputedStyle(et).position==="static")?s:et||getContainingBlock(a)||s}function getMainAxisFromPlacement(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function within(a,s,et){return max$2(a,min$2(s,et))}function withinMaxClamp(a,s,et){var tt=within(a,s,et);return tt>et?et:tt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(a){return Object.assign({},getFreshSideObject(),a)}function expandToHashMap(a,s){return s.reduce(function(et,tt){return et[tt]=a,et},{})}var toPaddingObject=function(s,et){return s=typeof s=="function"?s(Object.assign({},et.rects,{placement:et.placement})):s,mergePaddingObject(typeof s!="number"?s:expandToHashMap(s,basePlacements))};function arrow(a){var s,et=a.state,tt=a.name,at=a.options,ct=et.elements.arrow,ut=et.modifiersData.popperOffsets,bt=getBasePlacement(et.placement),wt=getMainAxisFromPlacement(bt),Et=[left,right].indexOf(bt)>=0,Ft=Et?"height":"width";if(!(!ct||!ut)){var jt=toPaddingObject(at.padding,et),Lt=getLayoutRect(ct),Ut=wt==="y"?top:left,Vt=wt==="y"?bottom:right,Yt=et.rects.reference[Ft]+et.rects.reference[wt]-ut[wt]-et.rects.popper[Ft],er=ut[wt]-et.rects.reference[wt],tr=getOffsetParent(ct),nr=tr?wt==="y"?tr.clientHeight||0:tr.clientWidth||0:0,ir=Yt/2-er/2,lr=jt[Ut],pr=nr-Lt[Ft]-jt[Vt],yr=nr/2-Lt[Ft]/2+ir,br=within(lr,yr,pr),xr=wt;et.modifiersData[tt]=(s={},s[xr]=br,s.centerOffset=br-yr,s)}}function effect$1(a){var s=a.state,et=a.options,tt=et.element,at=tt===void 0?"[data-popper-arrow]":tt;at!=null&&(typeof at=="string"&&(at=s.elements.popper.querySelector(at),!at)||contains$1(s.elements.popper,at)&&(s.elements.arrow=at))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(a){return a.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(a,s){var et=a.x,tt=a.y,at=s.devicePixelRatio||1;return{x:round$2(et*at)/at||0,y:round$2(tt*at)/at||0}}function mapToStyles(a){var s,et=a.popper,tt=a.popperRect,at=a.placement,ct=a.variation,ut=a.offsets,bt=a.position,wt=a.gpuAcceleration,Et=a.adaptive,Ft=a.roundOffsets,jt=a.isFixed,Lt=ut.x,Ut=Lt===void 0?0:Lt,Vt=ut.y,Yt=Vt===void 0?0:Vt,er=typeof Ft=="function"?Ft({x:Ut,y:Yt}):{x:Ut,y:Yt};Ut=er.x,Yt=er.y;var tr=ut.hasOwnProperty("x"),nr=ut.hasOwnProperty("y"),ir=left,lr=top,pr=window;if(Et){var yr=getOffsetParent(et),br="clientHeight",xr="clientWidth";if(yr===getWindow(et)&&(yr=getDocumentElement(et),getComputedStyle(yr).position!=="static"&&bt==="absolute"&&(br="scrollHeight",xr="scrollWidth")),yr=yr,at===top||(at===left||at===right)&&ct===end){lr=bottom;var Er=jt&&yr===pr&&pr.visualViewport?pr.visualViewport.height:yr[br];Yt-=Er-tt.height,Yt*=wt?1:-1}if(at===left||(at===top||at===bottom)&&ct===end){ir=right;var $r=jt&&yr===pr&&pr.visualViewport?pr.visualViewport.width:yr[xr];Ut-=$r-tt.width,Ut*=wt?1:-1}}var Sr=Object.assign({position:bt},Et&&unsetSides),fr=Ft===!0?roundOffsetsByDPR({x:Ut,y:Yt},getWindow(et)):{x:Ut,y:Yt};if(Ut=fr.x,Yt=fr.y,wt){var vr;return Object.assign({},Sr,(vr={},vr[lr]=nr?"0":"",vr[ir]=tr?"0":"",vr.transform=(pr.devicePixelRatio||1)<=1?"translate("+Ut+"px, "+Yt+"px)":"translate3d("+Ut+"px, "+Yt+"px, 0)",vr))}return Object.assign({},Sr,(s={},s[lr]=nr?Yt+"px":"",s[ir]=tr?Ut+"px":"",s.transform="",s))}function computeStyles(a){var s=a.state,et=a.options,tt=et.gpuAcceleration,at=tt===void 0?!0:tt,ct=et.adaptive,ut=ct===void 0?!0:ct,bt=et.roundOffsets,wt=bt===void 0?!0:bt,Et={placement:getBasePlacement(s.placement),variation:getVariation(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:at,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,mapToStyles(Object.assign({},Et,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:ut,roundOffsets:wt})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,mapToStyles(Object.assign({},Et,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:wt})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(a){var s=a.state,et=a.instance,tt=a.options,at=tt.scroll,ct=at===void 0?!0:at,ut=tt.resize,bt=ut===void 0?!0:ut,wt=getWindow(s.elements.popper),Et=[].concat(s.scrollParents.reference,s.scrollParents.popper);return ct&&Et.forEach(function(Ft){Ft.addEventListener("scroll",et.update,passive)}),bt&&wt.addEventListener("resize",et.update,passive),function(){ct&&Et.forEach(function(Ft){Ft.removeEventListener("scroll",et.update,passive)}),bt&&wt.removeEventListener("resize",et.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$3={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,function(s){return hash$3[s]})}var hash$2={start:"end",end:"start"};function getOppositeVariationPlacement(a){return a.replace(/start|end/g,function(s){return hash$2[s]})}function getWindowScroll(a){var s=getWindow(a),et=s.pageXOffset,tt=s.pageYOffset;return{scrollLeft:et,scrollTop:tt}}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getWindowScroll(a).scrollLeft}function getViewportRect(a,s){var et=getWindow(a),tt=getDocumentElement(a),at=et.visualViewport,ct=tt.clientWidth,ut=tt.clientHeight,bt=0,wt=0;if(at){ct=at.width,ut=at.height;var Et=isLayoutViewport();(Et||!Et&&s==="fixed")&&(bt=at.offsetLeft,wt=at.offsetTop)}return{width:ct,height:ut,x:bt+getWindowScrollBarX(a),y:wt}}function getDocumentRect(a){var s,et=getDocumentElement(a),tt=getWindowScroll(a),at=(s=a.ownerDocument)==null?void 0:s.body,ct=max$2(et.scrollWidth,et.clientWidth,at?at.scrollWidth:0,at?at.clientWidth:0),ut=max$2(et.scrollHeight,et.clientHeight,at?at.scrollHeight:0,at?at.clientHeight:0),bt=-tt.scrollLeft+getWindowScrollBarX(a),wt=-tt.scrollTop;return getComputedStyle(at||et).direction==="rtl"&&(bt+=max$2(et.clientWidth,at?at.clientWidth:0)-ct),{width:ct,height:ut,x:bt,y:wt}}function isScrollParent(a){var s=getComputedStyle(a),et=s.overflow,tt=s.overflowX,at=s.overflowY;return/auto|scroll|overlay|hidden/.test(et+at+tt)}function getScrollParent(a){return["html","body","#document"].indexOf(getNodeName(a))>=0?a.ownerDocument.body:isHTMLElement$1(a)&&isScrollParent(a)?a:getScrollParent(getParentNode(a))}function listScrollParents(a,s){var et;s===void 0&&(s=[]);var tt=getScrollParent(a),at=tt===((et=a.ownerDocument)==null?void 0:et.body),ct=getWindow(tt),ut=at?[ct].concat(ct.visualViewport||[],isScrollParent(tt)?tt:[]):tt,bt=s.concat(ut);return at?bt:bt.concat(listScrollParents(getParentNode(ut)))}function rectToClientRect(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function getInnerBoundingClientRect(a,s){var et=getBoundingClientRect(a,!1,s==="fixed");return et.top=et.top+a.clientTop,et.left=et.left+a.clientLeft,et.bottom=et.top+a.clientHeight,et.right=et.left+a.clientWidth,et.width=a.clientWidth,et.height=a.clientHeight,et.x=et.left,et.y=et.top,et}function getClientRectFromMixedType(a,s,et){return s===viewport?rectToClientRect(getViewportRect(a,et)):isElement$1(s)?getInnerBoundingClientRect(s,et):rectToClientRect(getDocumentRect(getDocumentElement(a)))}function getClippingParents(a){var s=listScrollParents(getParentNode(a)),et=["absolute","fixed"].indexOf(getComputedStyle(a).position)>=0,tt=et&&isHTMLElement$1(a)?getOffsetParent(a):a;return isElement$1(tt)?s.filter(function(at){return isElement$1(at)&&contains$1(at,tt)&&getNodeName(at)!=="body"}):[]}function getClippingRect(a,s,et,tt){var at=s==="clippingParents"?getClippingParents(a):[].concat(s),ct=[].concat(at,[et]),ut=ct[0],bt=ct.reduce(function(wt,Et){var Ft=getClientRectFromMixedType(a,Et,tt);return wt.top=max$2(Ft.top,wt.top),wt.right=min$2(Ft.right,wt.right),wt.bottom=min$2(Ft.bottom,wt.bottom),wt.left=max$2(Ft.left,wt.left),wt},getClientRectFromMixedType(a,ut,tt));return bt.width=bt.right-bt.left,bt.height=bt.bottom-bt.top,bt.x=bt.left,bt.y=bt.top,bt}function computeOffsets(a){var s=a.reference,et=a.element,tt=a.placement,at=tt?getBasePlacement(tt):null,ct=tt?getVariation(tt):null,ut=s.x+s.width/2-et.width/2,bt=s.y+s.height/2-et.height/2,wt;switch(at){case top:wt={x:ut,y:s.y-et.height};break;case bottom:wt={x:ut,y:s.y+s.height};break;case right:wt={x:s.x+s.width,y:bt};break;case left:wt={x:s.x-et.width,y:bt};break;default:wt={x:s.x,y:s.y}}var Et=at?getMainAxisFromPlacement(at):null;if(Et!=null){var Ft=Et==="y"?"height":"width";switch(ct){case start:wt[Et]=wt[Et]-(s[Ft]/2-et[Ft]/2);break;case end:wt[Et]=wt[Et]+(s[Ft]/2-et[Ft]/2);break}}return wt}function detectOverflow(a,s){s===void 0&&(s={});var et=s,tt=et.placement,at=tt===void 0?a.placement:tt,ct=et.strategy,ut=ct===void 0?a.strategy:ct,bt=et.boundary,wt=bt===void 0?clippingParents:bt,Et=et.rootBoundary,Ft=Et===void 0?viewport:Et,jt=et.elementContext,Lt=jt===void 0?popper:jt,Ut=et.altBoundary,Vt=Ut===void 0?!1:Ut,Yt=et.padding,er=Yt===void 0?0:Yt,tr=mergePaddingObject(typeof er!="number"?er:expandToHashMap(er,basePlacements)),nr=Lt===popper?reference:popper,ir=a.rects.popper,lr=a.elements[Vt?nr:Lt],pr=getClippingRect(isElement$1(lr)?lr:lr.contextElement||getDocumentElement(a.elements.popper),wt,Ft,ut),yr=getBoundingClientRect(a.elements.reference),br=computeOffsets({reference:yr,element:ir,placement:at}),xr=rectToClientRect(Object.assign({},ir,br)),Er=Lt===popper?xr:yr,$r={top:pr.top-Er.top+tr.top,bottom:Er.bottom-pr.bottom+tr.bottom,left:pr.left-Er.left+tr.left,right:Er.right-pr.right+tr.right},Sr=a.modifiersData.offset;if(Lt===popper&&Sr){var fr=Sr[at];Object.keys($r).forEach(function(vr){var or=[right,bottom].indexOf(vr)>=0?1:-1,rr=[top,bottom].indexOf(vr)>=0?"y":"x";$r[vr]+=fr[rr]*or})}return $r}function computeAutoPlacement(a,s){s===void 0&&(s={});var et=s,tt=et.placement,at=et.boundary,ct=et.rootBoundary,ut=et.padding,bt=et.flipVariations,wt=et.allowedAutoPlacements,Et=wt===void 0?placements:wt,Ft=getVariation(tt),jt=Ft?bt?variationPlacements:variationPlacements.filter(function(Vt){return getVariation(Vt)===Ft}):basePlacements,Lt=jt.filter(function(Vt){return Et.indexOf(Vt)>=0});Lt.length===0&&(Lt=jt);var Ut=Lt.reduce(function(Vt,Yt){return Vt[Yt]=detectOverflow(a,{placement:Yt,boundary:at,rootBoundary:ct,padding:ut})[getBasePlacement(Yt)],Vt},{});return Object.keys(Ut).sort(function(Vt,Yt){return Ut[Vt]-Ut[Yt]})}function getExpandedFallbackPlacements(a){if(getBasePlacement(a)===auto)return[];var s=getOppositePlacement(a);return[getOppositeVariationPlacement(a),s,getOppositeVariationPlacement(s)]}function flip(a){var s=a.state,et=a.options,tt=a.name;if(!s.modifiersData[tt]._skip){for(var at=et.mainAxis,ct=at===void 0?!0:at,ut=et.altAxis,bt=ut===void 0?!0:ut,wt=et.fallbackPlacements,Et=et.padding,Ft=et.boundary,jt=et.rootBoundary,Lt=et.altBoundary,Ut=et.flipVariations,Vt=Ut===void 0?!0:Ut,Yt=et.allowedAutoPlacements,er=s.options.placement,tr=getBasePlacement(er),nr=tr===er,ir=wt||(nr||!Vt?[getOppositePlacement(er)]:getExpandedFallbackPlacements(er)),lr=[er].concat(ir).reduce(function(wr,Br){return wr.concat(getBasePlacement(Br)===auto?computeAutoPlacement(s,{placement:Br,boundary:Ft,rootBoundary:jt,padding:Et,flipVariations:Vt,allowedAutoPlacements:Yt}):Br)},[]),pr=s.rects.reference,yr=s.rects.popper,br=new Map,xr=!0,Er=lr[0],$r=0;$r<lr.length;$r++){var Sr=lr[$r],fr=getBasePlacement(Sr),vr=getVariation(Sr)===start,or=[top,bottom].indexOf(fr)>=0,rr=or?"width":"height",ar=detectOverflow(s,{placement:Sr,boundary:Ft,rootBoundary:jt,altBoundary:Lt,padding:Et}),sr=or?vr?right:left:vr?bottom:top;pr[rr]>yr[rr]&&(sr=getOppositePlacement(sr));var dr=getOppositePlacement(sr),gr=[];if(ct&&gr.push(ar[fr]<=0),bt&&gr.push(ar[sr]<=0,ar[dr]<=0),gr.every(function(wr){return wr})){Er=Sr,xr=!1;break}br.set(Sr,gr)}if(xr)for(var ur=Vt?3:1,_r=function(Br){var Or=lr.find(function(Rr){var Pr=br.get(Rr);if(Pr)return Pr.slice(0,Br).every(function(Ur){return Ur})});if(Or)return Er=Or,"break"},hr=ur;hr>0;hr--){var cr=_r(hr);if(cr==="break")break}s.placement!==Er&&(s.modifiersData[tt]._skip=!0,s.placement=Er,s.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(a,s,et){return et===void 0&&(et={x:0,y:0}),{top:a.top-s.height-et.y,right:a.right-s.width+et.x,bottom:a.bottom-s.height+et.y,left:a.left-s.width-et.x}}function isAnySideFullyClipped(a){return[top,right,bottom,left].some(function(s){return a[s]>=0})}function hide(a){var s=a.state,et=a.name,tt=s.rects.reference,at=s.rects.popper,ct=s.modifiersData.preventOverflow,ut=detectOverflow(s,{elementContext:"reference"}),bt=detectOverflow(s,{altBoundary:!0}),wt=getSideOffsets(ut,tt),Et=getSideOffsets(bt,at,ct),Ft=isAnySideFullyClipped(wt),jt=isAnySideFullyClipped(Et);s.modifiersData[et]={referenceClippingOffsets:wt,popperEscapeOffsets:Et,isReferenceHidden:Ft,hasPopperEscaped:jt},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":Ft,"data-popper-escaped":jt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(a,s,et){var tt=getBasePlacement(a),at=[left,top].indexOf(tt)>=0?-1:1,ct=typeof et=="function"?et(Object.assign({},s,{placement:a})):et,ut=ct[0],bt=ct[1];return ut=ut||0,bt=(bt||0)*at,[left,right].indexOf(tt)>=0?{x:bt,y:ut}:{x:ut,y:bt}}function offset(a){var s=a.state,et=a.options,tt=a.name,at=et.offset,ct=at===void 0?[0,0]:at,ut=placements.reduce(function(Ft,jt){return Ft[jt]=distanceAndSkiddingToXY(jt,s.rects,ct),Ft},{}),bt=ut[s.placement],wt=bt.x,Et=bt.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=wt,s.modifiersData.popperOffsets.y+=Et),s.modifiersData[tt]=ut}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(a){var s=a.state,et=a.name;s.modifiersData[et]=computeOffsets({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(a){return a==="x"?"y":"x"}function preventOverflow(a){var s=a.state,et=a.options,tt=a.name,at=et.mainAxis,ct=at===void 0?!0:at,ut=et.altAxis,bt=ut===void 0?!1:ut,wt=et.boundary,Et=et.rootBoundary,Ft=et.altBoundary,jt=et.padding,Lt=et.tether,Ut=Lt===void 0?!0:Lt,Vt=et.tetherOffset,Yt=Vt===void 0?0:Vt,er=detectOverflow(s,{boundary:wt,rootBoundary:Et,padding:jt,altBoundary:Ft}),tr=getBasePlacement(s.placement),nr=getVariation(s.placement),ir=!nr,lr=getMainAxisFromPlacement(tr),pr=getAltAxis(lr),yr=s.modifiersData.popperOffsets,br=s.rects.reference,xr=s.rects.popper,Er=typeof Yt=="function"?Yt(Object.assign({},s.rects,{placement:s.placement})):Yt,$r=typeof Er=="number"?{mainAxis:Er,altAxis:Er}:Object.assign({mainAxis:0,altAxis:0},Er),Sr=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,fr={x:0,y:0};if(yr){if(ct){var vr,or=lr==="y"?top:left,rr=lr==="y"?bottom:right,ar=lr==="y"?"height":"width",sr=yr[lr],dr=sr+er[or],gr=sr-er[rr],ur=Ut?-xr[ar]/2:0,_r=nr===start?br[ar]:xr[ar],hr=nr===start?-xr[ar]:-br[ar],cr=s.elements.arrow,wr=Ut&&cr?getLayoutRect(cr):{width:0,height:0},Br=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Or=Br[or],Rr=Br[rr],Pr=within(0,br[ar],wr[ar]),Ur=ir?br[ar]/2-ur-Pr-Or-$r.mainAxis:_r-Pr-Or-$r.mainAxis,kr=ir?-br[ar]/2+ur+Pr+Rr+$r.mainAxis:hr+Pr+Rr+$r.mainAxis,Ar=s.elements.arrow&&getOffsetParent(s.elements.arrow),Cr=Ar?lr==="y"?Ar.clientTop||0:Ar.clientLeft||0:0,Fr=(vr=Sr==null?void 0:Sr[lr])!=null?vr:0,Lr=sr+Ur-Fr-Cr,Hr=sr+kr-Fr,Gr=within(Ut?min$2(dr,Lr):dr,sr,Ut?max$2(gr,Hr):gr);yr[lr]=Gr,fr[lr]=Gr-sr}if(bt){var Nr,Vr=lr==="x"?top:left,jr=lr==="x"?bottom:right,Wr=yr[pr],Kr=pr==="y"?"height":"width",an=Wr+er[Vr],Un=Wr-er[jr],Vn=[top,left].indexOf(tr)!==-1,Kn=(Nr=Sr==null?void 0:Sr[pr])!=null?Nr:0,oo=Vn?an:Wr-br[Kr]-xr[Kr]-Kn+$r.altAxis,Hn=Vn?Wr+br[Kr]+xr[Kr]-Kn-$r.altAxis:Un,Qn=Ut&&Vn?withinMaxClamp(oo,Wr,Hn):within(Ut?oo:an,Wr,Ut?Hn:Un);yr[pr]=Qn,fr[pr]=Qn-Wr}s.modifiersData[tt]=fr}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function getNodeScroll(a){return a===getWindow(a)||!isHTMLElement$1(a)?getWindowScroll(a):getHTMLElementScroll(a)}function isElementScaled(a){var s=a.getBoundingClientRect(),et=round$2(s.width)/a.offsetWidth||1,tt=round$2(s.height)/a.offsetHeight||1;return et!==1||tt!==1}function getCompositeRect(a,s,et){et===void 0&&(et=!1);var tt=isHTMLElement$1(s),at=isHTMLElement$1(s)&&isElementScaled(s),ct=getDocumentElement(s),ut=getBoundingClientRect(a,at,et),bt={scrollLeft:0,scrollTop:0},wt={x:0,y:0};return(tt||!tt&&!et)&&((getNodeName(s)!=="body"||isScrollParent(ct))&&(bt=getNodeScroll(s)),isHTMLElement$1(s)?(wt=getBoundingClientRect(s,!0),wt.x+=s.clientLeft,wt.y+=s.clientTop):ct&&(wt.x=getWindowScrollBarX(ct))),{x:ut.left+bt.scrollLeft-wt.x,y:ut.top+bt.scrollTop-wt.y,width:ut.width,height:ut.height}}function order(a){var s=new Map,et=new Set,tt=[];a.forEach(function(ct){s.set(ct.name,ct)});function at(ct){et.add(ct.name);var ut=[].concat(ct.requires||[],ct.requiresIfExists||[]);ut.forEach(function(bt){if(!et.has(bt)){var wt=s.get(bt);wt&&at(wt)}}),tt.push(ct)}return a.forEach(function(ct){et.has(ct.name)||at(ct)}),tt}function orderModifiers(a){var s=order(a);return modifierPhases.reduce(function(et,tt){return et.concat(s.filter(function(at){return at.phase===tt}))},[])}function debounce(a){var s;return function(){return s||(s=new Promise(function(et){Promise.resolve().then(function(){s=void 0,et(a())})})),s}}function mergeByName(a){var s=a.reduce(function(et,tt){var at=et[tt.name];return et[tt.name]=at?Object.assign({},at,tt,{options:Object.assign({},at.options,tt.options),data:Object.assign({},at.data,tt.data)}):tt,et},{});return Object.keys(s).map(function(et){return s[et]})}var DEFAULT_OPTIONS$1={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var a=arguments.length,s=new Array(a),et=0;et<a;et++)s[et]=arguments[et];return!s.some(function(tt){return!(tt&&typeof tt.getBoundingClientRect=="function")})}function popperGenerator(a){a===void 0&&(a={});var s=a,et=s.defaultModifiers,tt=et===void 0?[]:et,at=s.defaultOptions,ct=at===void 0?DEFAULT_OPTIONS$1:at;return function(bt,wt,Et){Et===void 0&&(Et=ct);var Ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$1,ct),modifiersData:{},elements:{reference:bt,popper:wt},attributes:{},styles:{}},jt=[],Lt=!1,Ut={state:Ft,setOptions:function(tr){var nr=typeof tr=="function"?tr(Ft.options):tr;Yt(),Ft.options=Object.assign({},ct,Ft.options,nr),Ft.scrollParents={reference:isElement$1(bt)?listScrollParents(bt):bt.contextElement?listScrollParents(bt.contextElement):[],popper:listScrollParents(wt)};var ir=orderModifiers(mergeByName([].concat(tt,Ft.options.modifiers)));return Ft.orderedModifiers=ir.filter(function(lr){return lr.enabled}),Vt(),Ut.update()},forceUpdate:function(){if(!Lt){var tr=Ft.elements,nr=tr.reference,ir=tr.popper;if(areValidElements(nr,ir)){Ft.rects={reference:getCompositeRect(nr,getOffsetParent(ir),Ft.options.strategy==="fixed"),popper:getLayoutRect(ir)},Ft.reset=!1,Ft.placement=Ft.options.placement,Ft.orderedModifiers.forEach(function($r){return Ft.modifiersData[$r.name]=Object.assign({},$r.data)});for(var lr=0;lr<Ft.orderedModifiers.length;lr++){if(Ft.reset===!0){Ft.reset=!1,lr=-1;continue}var pr=Ft.orderedModifiers[lr],yr=pr.fn,br=pr.options,xr=br===void 0?{}:br,Er=pr.name;typeof yr=="function"&&(Ft=yr({state:Ft,options:xr,name:Er,instance:Ut})||Ft)}}}},update:debounce(function(){return new Promise(function(er){Ut.forceUpdate(),er(Ft)})}),destroy:function(){Yt(),Lt=!0}};if(!areValidElements(bt,wt))return Ut;Ut.setOptions(Et).then(function(er){!Lt&&Et.onFirstUpdate&&Et.onFirstUpdate(er)});function Vt(){Ft.orderedModifiers.forEach(function(er){var tr=er.name,nr=er.options,ir=nr===void 0?{}:nr,lr=er.effect;if(typeof lr=="function"){var pr=lr({state:Ft,name:tr,instance:Ut,options:ir}),yr=function(){};jt.push(pr||yr)}})}function Yt(){jt.forEach(function(er){return er()}),jt=[]}return Ut}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const toVar=(a,s)=>({var:a,varRef:s?`var(${a}, ${s})`:`var(${a})`}),cssVars={arrowShadowColor:toVar("--popper-arrow-shadow-color"),arrowSize:toVar("--popper-arrow-size","8px"),arrowSizeHalf:toVar("--popper-arrow-size-half"),arrowBg:toVar("--popper-arrow-bg"),transformOrigin:toVar("--popper-transform-origin"),arrowOffset:toVar("--popper-arrow-offset")};function getBoxShadow(a){if(a.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const transforms={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},toTransformOrigin=a=>transforms[a],defaultEventListeners={scroll:!0,resize:!0};function getEventListenerOptions(a){let s;return typeof a=="object"?s={enabled:!0,options:{...defaultEventListeners,...a}}:s={enabled:a,options:defaultEventListeners},s}const matchWidth={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:a})=>{a.styles.popper.width=`${a.rects.reference.width}px`},effect:({state:a})=>()=>{const s=a.elements.reference;a.elements.popper.style.width=`${s.offsetWidth}px`}},transformOrigin={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:a})=>{setTransformOrigin(a)},effect:({state:a})=>()=>{setTransformOrigin(a)}},setTransformOrigin=a=>{a.elements.popper.style.setProperty(cssVars.transformOrigin.var,toTransformOrigin(a.placement))},positionArrow={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:a})=>{setArrowStyles(a)}},setArrowStyles=a=>{var et;if(!a.placement)return;const s=getArrowStyle$1(a.placement);if((et=a.elements)!=null&&et.arrow&&s){Object.assign(a.elements.arrow.style,{[s.property]:s.value,width:cssVars.arrowSize.varRef,height:cssVars.arrowSize.varRef,zIndex:-1});const tt={[cssVars.arrowSizeHalf.var]:`calc(${cssVars.arrowSize.varRef} / 2 - 1px)`,[cssVars.arrowOffset.var]:`calc(${cssVars.arrowSizeHalf.varRef} * -1)`};for(const at in tt)a.elements.arrow.style.setProperty(at,tt[at])}},getArrowStyle$1=a=>{if(a.startsWith("top"))return{property:"bottom",value:cssVars.arrowOffset.varRef};if(a.startsWith("bottom"))return{property:"top",value:cssVars.arrowOffset.varRef};if(a.startsWith("left"))return{property:"right",value:cssVars.arrowOffset.varRef};if(a.startsWith("right"))return{property:"left",value:cssVars.arrowOffset.varRef}},innerArrow={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:a})=>{setInnerArrowStyles(a)},effect:({state:a})=>()=>{setInnerArrowStyles(a)}},setInnerArrowStyles=a=>{if(!a.elements.arrow)return;const s=a.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!s)return;const et=getBoxShadow(a.placement);et&&s.style.setProperty("--popper-arrow-default-shadow",et),Object.assign(s.style,{transform:"rotate(45deg)",background:cssVars.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},logicals={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},opposites={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function getPopperPlacement(a,s="ltr"){var tt;const et=((tt=logicals[a])==null?void 0:tt[s])||a;return s==="ltr"?et:opposites[a]??et}function usePopper(a={}){const{enabled:s=!0,modifiers:et,placement:tt="bottom",strategy:at="absolute",arrowPadding:ct=8,eventListeners:ut=!0,offset:bt,gutter:wt=8,flip:Et=!0,boundary:Ft="clippingParents",preventOverflow:jt=!0,matchWidth:Lt,direction:Ut="ltr"}=a,Vt=reactExports.useRef(null),Yt=reactExports.useRef(null),er=reactExports.useRef(null),tr=getPopperPlacement(tt,Ut),nr=reactExports.useRef(()=>{}),ir=reactExports.useCallback(()=>{var $r;!s||!Vt.current||!Yt.current||(($r=nr.current)==null||$r.call(nr),er.current=createPopper(Vt.current,Yt.current,{placement:tr,modifiers:[innerArrow,positionArrow,transformOrigin,{...matchWidth,enabled:!!Lt},{name:"eventListeners",...getEventListenerOptions(ut)},{name:"arrow",options:{padding:ct}},{name:"offset",options:{offset:bt??[0,wt]}},{name:"flip",enabled:!!Et,options:{padding:8}},{name:"preventOverflow",enabled:!!jt,options:{boundary:Ft}},...et??[]],strategy:at}),er.current.forceUpdate(),nr.current=er.current.destroy)},[tr,s,et,Lt,ut,ct,bt,wt,Et,jt,Ft,at]);reactExports.useEffect(()=>()=>{var $r;!Vt.current&&!Yt.current&&(($r=er.current)==null||$r.destroy(),er.current=null)},[]);const lr=reactExports.useCallback($r=>{Vt.current=$r,ir()},[ir]),pr=reactExports.useCallback(($r={},Sr=null)=>({...$r,ref:mergeRefs(lr,Sr)}),[lr]),yr=reactExports.useCallback($r=>{Yt.current=$r,ir()},[ir]),br=reactExports.useCallback(($r={},Sr=null)=>({...$r,ref:mergeRefs(yr,Sr),style:{...$r.style,position:at,minWidth:Lt?void 0:"max-content",inset:"0 auto auto 0"}}),[at,yr,Lt]),xr=reactExports.useCallback(($r={},Sr=null)=>{const{size:fr,shadowColor:vr,bg:or,style:rr,...ar}=$r;return{...ar,ref:Sr,"data-popper-arrow":"",style:getArrowStyle($r)}},[]),Er=reactExports.useCallback(($r={},Sr=null)=>({...$r,ref:Sr,"data-popper-arrow-inner":""}),[]);return{update(){var $r;($r=er.current)==null||$r.update()},forceUpdate(){var $r;($r=er.current)==null||$r.forceUpdate()},transformOrigin:cssVars.transformOrigin.varRef,referenceRef:lr,popperRef:yr,getPopperProps:br,getArrowProps:xr,getArrowInnerProps:Er,getReferenceProps:pr}}function getArrowStyle(a){const{size:s,shadowColor:et,bg:tt,style:at}=a,ct={...at,position:"absolute"};return s&&(ct["--popper-arrow-size"]=s),et&&(ct["--popper-arrow-shadow-color"]=et),tt&&(ct["--popper-arrow-bg"]=tt),ct}function useEventListeners(){const a=reactExports.useRef(new Map),s=a.current,et=reactExports.useCallback((at,ct,ut,bt)=>{a.current.set(ut,{type:ct,el:at,options:bt}),at.addEventListener(ct,ut,bt)},[]),tt=reactExports.useCallback((at,ct,ut,bt)=>{at.removeEventListener(ct,ut,bt),a.current.delete(ut)},[]);return reactExports.useEffect(()=>()=>{s.forEach((at,ct)=>{tt(at.el,at.type,ct,at.options)})},[tt,s]),{add:et,remove:tt}}function isValidElement(a){var at,ct;const s=((ct=(at=a.composedPath)==null?void 0:at.call(a))==null?void 0:ct[0])??a.target,{tagName:et,isContentEditable:tt}=s;return et!=="INPUT"&&et!=="TEXTAREA"&&tt!==!0}function useClickable(a={}){const{ref:s,isDisabled:et,isFocusable:tt,clickOnEnter:at=!0,clickOnSpace:ct=!0,onMouseDown:ut,onMouseUp:bt,onClick:wt,onKeyDown:Et,onKeyUp:Ft,tabIndex:jt,onMouseOver:Lt,onMouseLeave:Ut,...Vt}=a,[Yt,er]=reactExports.useState(!0),[tr,nr]=reactExports.useState(!1),ir=useEventListeners(),lr=sr=>{sr&&sr.tagName!=="BUTTON"&&er(!1)},pr=Yt?jt:jt||0,yr=et&&!tt,br=reactExports.useCallback(sr=>{if(et){sr.stopPropagation(),sr.preventDefault();return}sr.currentTarget.focus(),wt==null||wt(sr)},[et,wt]),xr=reactExports.useCallback(sr=>{tr&&isValidElement(sr)&&(sr.preventDefault(),sr.stopPropagation(),nr(!1),ir.remove(document,"keyup",xr,!1))},[tr,ir]),Er=reactExports.useCallback(sr=>{if(Et==null||Et(sr),et||sr.defaultPrevented||sr.metaKey||!isValidElement(sr.nativeEvent)||Yt)return;const dr=at&&sr.key==="Enter";ct&&sr.key===" "&&(sr.preventDefault(),nr(!0)),dr&&(sr.preventDefault(),sr.currentTarget.click()),ir.add(document,"keyup",xr,!1)},[et,Yt,Et,at,ct,ir,xr]),$r=reactExports.useCallback(sr=>{if(Ft==null||Ft(sr),et||sr.defaultPrevented||sr.metaKey||!isValidElement(sr.nativeEvent)||Yt)return;ct&&sr.key===" "&&(sr.preventDefault(),nr(!1),sr.currentTarget.click())},[ct,Yt,et,Ft]),Sr=reactExports.useCallback(sr=>{sr.button===0&&(nr(!1),ir.remove(document,"mouseup",Sr,!1))},[ir]),fr=reactExports.useCallback(sr=>{if(sr.button!==0)return;if(et){sr.stopPropagation(),sr.preventDefault();return}Yt||nr(!0),sr.currentTarget.focus({preventScroll:!0}),ir.add(document,"mouseup",Sr,!1),ut==null||ut(sr)},[et,Yt,ut,ir,Sr]),vr=reactExports.useCallback(sr=>{sr.button===0&&(Yt||nr(!1),bt==null||bt(sr))},[bt,Yt]),or=reactExports.useCallback(sr=>{if(et){sr.preventDefault();return}Lt==null||Lt(sr)},[et,Lt]),rr=reactExports.useCallback(sr=>{tr&&(sr.preventDefault(),nr(!1)),Ut==null||Ut(sr)},[tr,Ut]),ar=mergeRefs(s,lr);return Yt?{...Vt,ref:ar,type:"button","aria-disabled":yr?void 0:et,disabled:yr,onClick:br,onMouseDown:ut,onMouseUp:bt,onKeyUp:Ft,onKeyDown:Et,onMouseOver:Lt,onMouseLeave:Ut}:{...Vt,ref:ar,role:"button","data-active":dataAttr(tr),"aria-disabled":et?"true":void 0,tabIndex:yr?void 0:pr,onClick:br,onMouseDown:fr,onMouseUp:vr,onKeyUp:$r,onKeyDown:Er,onMouseOver:or,onMouseLeave:rr}}const[MenuDescendantsProvider,useMenuDescendantsContext,useMenuDescendants,useMenuDescendant]=createDescendantContext(),[MenuProvider,useMenuContext]=createContext({strict:!1,name:"MenuContext"});function getOwnerDocument(a){return(a==null?void 0:a.ownerDocument)??document}function isActiveElement(a){return getOwnerDocument(a).activeElement===a}function useMenu(a={}){const{id:s,closeOnSelect:et=!0,closeOnBlur:tt=!0,initialFocusRef:at,autoSelect:ct=!0,isLazy:ut,isOpen:bt,defaultIsOpen:wt,onClose:Et,onOpen:Ft,placement:jt="bottom-start",lazyBehavior:Lt="unmount",direction:Ut,computePositionOnMount:Vt=!1,...Yt}=a,er=reactExports.useRef(null),tr=reactExports.useRef(null),nr=reactExports.useRef(!0),ir=useMenuDescendants(),lr=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var cr;(cr=er.current)==null||cr.focus({preventScroll:!1})})},[]),pr=reactExports.useCallback(()=>{const cr=setTimeout(()=>{var wr,Br;if(at)(wr=at.current)==null||wr.focus();else if(!ir.count())(Br=er.current)==null||Br.focus({preventScroll:!1});else{const Or=ir.firstEnabled();Or&&or(Or.index)}});gr.current.add(cr)},[ir,at]),yr=reactExports.useCallback(()=>{const cr=setTimeout(()=>{var wr;if(!ir.count())(wr=er.current)==null||wr.focus({preventScroll:!1});else{const Br=ir.lastEnabled();Br&&or(Br.index)}});gr.current.add(cr)},[ir]),br=reactExports.useCallback(()=>{Ft==null||Ft(),ct?pr():lr()},[ct,pr,lr,Ft]),{isOpen:xr,onOpen:Er,onClose:$r,onToggle:Sr}=useDisclosure({isOpen:bt,defaultIsOpen:wt,onClose:Et,onOpen:br});useOutsideClick({enabled:xr&&tt,ref:er,handler:cr=>{var Br,Or,Rr;const wr=((Or=(Br=cr.composedPath)==null?void 0:Br.call(cr))==null?void 0:Or[0])??cr.target;(Rr=tr.current)!=null&&Rr.contains(wr)||$r()}});const fr=usePopper({...Yt,enabled:xr||Vt,placement:jt,direction:Ut}),[vr,or]=reactExports.useState(-1);useFocusOnHide(er,{focusRef:tr,visible:xr,shouldFocus:!0});const rr=useAnimationState({isOpen:xr,ref:er}),[ar,sr]=useIds$1(s,"menu-button","menu-list"),dr=reactExports.useCallback(()=>{Er(),lr()},[Er,lr]),gr=reactExports.useRef(new Set([]));reactExports.useEffect(()=>{const cr=gr.current;return()=>{cr.forEach(wr=>clearTimeout(wr)),cr.clear()}},[]),useUpdateEffect(()=>{var cr;xr||(or(-1),(cr=er.current)==null||cr.scrollTo(0,0))},[xr]),useUpdateEffect(()=>{xr&&vr===-1&&lr()},[vr,xr]),reactExports.useEffect(()=>{var wr;if(!xr)return;const cr=ir.item(vr);(wr=cr==null?void 0:cr.node)==null||wr.focus({preventScroll:!nr.current})},[ir,vr,xr]);const ur=reactExports.useCallback(()=>{Er(),pr()},[pr,Er]),_r=reactExports.useCallback(()=>{nr.current=!0,Er(),yr()},[Er,yr]),hr=reactExports.useCallback(()=>{var Rr,Pr;const cr=getOwnerDocument(er.current),wr=(Rr=er.current)==null?void 0:Rr.contains(cr.activeElement);if(!(xr&&!wr))return;const Or=(Pr=ir.item(vr))==null?void 0:Pr.node;Or==null||Or.focus({preventScroll:!nr.current})},[xr,vr,ir]);return{openAndFocusMenu:dr,openAndFocusFirstItem:ur,openAndFocusLastItem:_r,onTransitionEnd:hr,unstable__animationState:rr,descendants:ir,popper:fr,buttonId:ar,menuId:sr,forceUpdate:fr.forceUpdate,orientation:"vertical",isOpen:xr,onToggle:Sr,onOpen:Er,onClose:$r,menuRef:er,buttonRef:tr,focusedIndex:vr,closeOnSelect:et,closeOnBlur:tt,autoSelect:ct,setFocusedIndex:or,isLazy:ut,lazyBehavior:Lt,initialFocusRef:at,scrollIntoViewRef:nr}}function useMenuButton(a={},s=null){const et=useMenuContext(),{onToggle:tt,popper:at,openAndFocusFirstItem:ct,openAndFocusLastItem:ut,scrollIntoViewRef:bt}=et,wt=reactExports.useCallback(Et=>{const Ft=Et.key,Lt={Enter:ct,ArrowDown:ct,ArrowUp:ut}[Ft];Lt&&(bt.current=!0,Et.preventDefault(),Et.stopPropagation(),Lt(Et))},[ct,ut,bt]);return{...a,ref:mergeRefs(et.buttonRef,s,at.referenceRef),id:et.buttonId,"data-active":dataAttr(et.isOpen),"aria-expanded":et.isOpen,"aria-haspopup":"menu","aria-controls":et.menuId,onClick:callAllHandlers(a.onClick,tt),onKeyDown:callAllHandlers(a.onKeyDown,wt)}}function isTargetMenuItem(a){var s;return isHTMLElement(a)&&!!((s=a==null?void 0:a.getAttribute("role"))!=null&&s.startsWith("menuitem"))}function useMenuList(a={},s=null){const et=useMenuContext();if(!et)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:tt,setFocusedIndex:at,menuRef:ct,isOpen:ut,onClose:bt,menuId:wt,isLazy:Et,lazyBehavior:Ft,scrollIntoViewRef:jt,unstable__animationState:Lt}=et,Ut=useMenuDescendantsContext(),Vt=useShortcut({preventDefault:nr=>nr.key!==" "&&isTargetMenuItem(nr.target)}),Yt=reactExports.useCallback(nr=>{if(!nr.currentTarget.contains(nr.target))return;const ir=nr.key,pr={Tab:br=>br.preventDefault(),Escape:br=>{br.stopPropagation(),bt()},ArrowDown:()=>{jt.current=!0;const br=Ut.nextEnabled(tt)??Ut.firstEnabled();br&&at(br.index)},ArrowUp:()=>{jt.current=!0;const br=Ut.prevEnabled(tt)??Ut.firstEnabled();br&&at(br.index)}}[ir];if(pr){nr.preventDefault(),pr(nr);return}const yr=Vt(br=>{const xr=getNextItemFromSearch(Ut.values(),br,Er=>{var $r;return(($r=Er==null?void 0:Er.node)==null?void 0:$r.textContent)??""},Ut.item(tt));if(xr){const Er=Ut.indexOf(xr.node);at(Er)}});isTargetMenuItem(nr.target)&&yr(nr)},[Ut,tt,Vt,bt,at,jt]),er=reactExports.useRef(!1);ut&&(er.current=!0);const tr=lazyDisclosure({wasSelected:er.current,enabled:Et,mode:Ft,isSelected:Lt.present});return{...a,ref:mergeRefs(ct,s),children:tr?a.children:null,tabIndex:-1,role:"menu",id:wt,style:{...a.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:callAllHandlers(a.onKeyDown,Yt)}}function useMenuPositioner(a={}){const{popper:s,isOpen:et}=useMenuContext();return s.getPopperProps({...a,style:{visibility:et?"visible":"hidden",...a.style}})}function useMenuItem(a={},s=null){const{onMouseEnter:et,onMouseMove:tt,onMouseLeave:at,onClick:ct,onFocus:ut,isDisabled:bt,isFocusable:wt,closeOnSelect:Et,type:Ft,...jt}=a,Lt=useMenuContext(),{setFocusedIndex:Ut,focusedIndex:Vt,closeOnSelect:Yt,onClose:er,menuId:tr,scrollIntoViewRef:nr}=Lt,ir=reactExports.useRef(null),lr=`${tr}-menuitem-${reactExports.useId()}`,{index:pr,register:yr}=useMenuDescendant({disabled:bt&&!wt}),br=reactExports.useCallback(or=>{et==null||et(or),!bt&&(nr.current=!1,Ut(pr))},[Ut,pr,bt,et,nr]),xr=reactExports.useCallback(or=>{tt==null||tt(or),ir.current&&!isActiveElement(ir.current)&&br(or)},[br,tt]),Er=reactExports.useCallback(or=>{at==null||at(or),!bt&&Ut(-1)},[Ut,bt,at]),$r=reactExports.useCallback(or=>{ct==null||ct(or),isTargetMenuItem(or.currentTarget)&&(Et??Yt)&&er()},[er,ct,Yt,Et]),Sr=reactExports.useCallback(or=>{ut==null||ut(or),Ut(pr)},[Ut,ut,pr]),fr=pr===Vt,vr=useClickable({onClick:$r,onFocus:Sr,onMouseEnter:br,onMouseMove:xr,onMouseLeave:Er,ref:mergeRefs(yr,ir,s),isDisabled:bt,isFocusable:wt});return{...jt,...vr,type:Ft??vr.type,id:lr,role:"menuitem",tabIndex:fr?0:-1}}function isHTMLElement(a){if(!isElement(a))return!1;const s=a.ownerDocument.defaultView??window;return a instanceof s.HTMLElement}function isElement(a){return a!=null&&typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}const[MenuStylesProvider,useMenuStyles]=createContext({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Menu=a=>{const{children:s}=a,et=useMultiStyleConfig("Menu",a),tt=omitThemingProps(a),{direction:at}=useTheme(),{descendants:ct,...ut}=useMenu({...tt,direction:at}),bt=reactExports.useMemo(()=>ut,[ut]),{isOpen:wt,onClose:Et,forceUpdate:Ft}=bt;return jsxRuntimeExports.jsx(MenuDescendantsProvider,{value:ct,children:jsxRuntimeExports.jsx(MenuProvider,{value:bt,children:jsxRuntimeExports.jsx(MenuStylesProvider,{value:et,children:runIfFn$1(s,{isOpen:wt,onClose:Et,forceUpdate:Ft})})})})};Menu.displayName="Menu";const StyledMenuButton=forwardRef((a,s)=>{const et=useMenuStyles();return jsxRuntimeExports.jsx(chakra.button,{ref:s,...a,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...et.button}})}),MenuButton=forwardRef((a,s)=>{const{children:et,as:tt,...at}=a,ct=useMenuButton(at,s),ut=tt||StyledMenuButton;return jsxRuntimeExports.jsx(ut,{...ct,className:cx("chakra-menu__menu-button",a.className),children:jsxRuntimeExports.jsx(chakra.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:a.children})})});MenuButton.displayName="MenuButton";const MenuCommand=forwardRef((a,s)=>{const et=useMenuStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:s,...a,__css:et.command,className:"chakra-menu__command"})});MenuCommand.displayName="MenuCommand";const MenuIcon=a=>{const{className:s,children:et,...tt}=a,at=useMenuStyles(),ct=reactExports.Children.only(et),ut=reactExports.isValidElement(ct)?reactExports.cloneElement(ct,{focusable:"false","aria-hidden":!0,className:cx("chakra-menu__icon",ct.props.className)}):null,bt=cx("chakra-menu__icon-wrapper",s);return jsxRuntimeExports.jsx(chakra.span,{className:bt,...tt,__css:at.icon,children:ut})};MenuIcon.displayName="MenuIcon";const StyledMenuItem=forwardRef((a,s)=>{const{type:et,...tt}=a,at=useMenuStyles(),ct=tt.as||et?et??void 0:"button",ut=reactExports.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...at.item}),[at.item]);return jsxRuntimeExports.jsx(chakra.button,{ref:s,type:ct,...tt,__css:ut})}),MenuItem=forwardRef((a,s)=>{const{icon:et,iconSpacing:tt="0.75rem",command:at,commandSpacing:ct="0.75rem",children:ut,...bt}=a,wt=useMenuItem(bt,s),Ft=et||at?jsxRuntimeExports.jsx("span",{style:{pointerEvents:"none",flex:1},children:ut}):ut;return jsxRuntimeExports.jsxs(StyledMenuItem,{...wt,className:cx("chakra-menu__menuitem",wt.className),children:[et&&jsxRuntimeExports.jsx(MenuIcon,{fontSize:"0.8em",marginEnd:tt,children:et}),Ft,at&&jsxRuntimeExports.jsx(MenuCommand,{marginStart:ct,children:at})]})});MenuItem.displayName="MenuItem";const motionVariants={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},MenuTransition=chakra(motion.div),MenuList=forwardRef(function(s,et){var Lt;const{rootProps:tt,motionProps:at,...ct}=s,{isOpen:ut,onTransitionEnd:bt,unstable__animationState:wt}=useMenuContext(),Et=useMenuList(ct,et),Ft=useMenuPositioner(tt),jt=useMenuStyles();return jsxRuntimeExports.jsx(chakra.div,{...Ft,__css:{zIndex:s.zIndex??((Lt=jt.list)==null?void 0:Lt.zIndex)},children:jsxRuntimeExports.jsx(MenuTransition,{variants:motionVariants,initial:!1,animate:ut?"enter":"exit",__css:{outline:0,...jt.list},...at,...Et,className:cx("chakra-menu__menu-list",Et.className),onUpdate:bt,onAnimationComplete:callAll(wt.onComplete,Et.onAnimationComplete)})})});MenuList.displayName="MenuList";var __defProp$g=Object.defineProperty,__defNormalProp$4=(a,s,et)=>s in a?__defProp$g(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__publicField$1=(a,s,et)=>(__defNormalProp$4(a,s+"",et),et);class ModalManager{constructor(){__publicField$1(this,"modals"),this.modals=new Set}add(s){return this.modals.add(s),this.modals.size}remove(s){this.modals.delete(s)}isTopModal(s){if(!s)return!1;const et=Array.from(this.modals)[this.modals.size-1];return s===et}}const modalManager=new ModalManager;function useModalManager(a,s){const[et,tt]=reactExports.useState(0);return reactExports.useEffect(()=>{const at=a.current;if(at){if(s){const ct=modalManager.add(at);tt(ct)}return()=>{modalManager.remove(at),tt(0)}}},[s,a]),et}function useModal(a){const{isOpen:s,onClose:et,id:tt,closeOnOverlayClick:at=!0,closeOnEsc:ct=!0,useInert:ut=!0,onOverlayClick:bt,onEsc:wt}=a,Et=reactExports.useRef(null),Ft=reactExports.useRef(null),[jt,Lt,Ut]=useIds(tt,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(Et,s&&ut);const Vt=useModalManager(Et,s),Yt=reactExports.useRef(null),er=reactExports.useCallback(Er=>{Yt.current=Er.target},[]),tr=reactExports.useCallback(Er=>{Er.key==="Escape"&&(Er.stopPropagation(),ct&&(et==null||et()),wt==null||wt())},[ct,et,wt]),[nr,ir]=reactExports.useState(!1),[lr,pr]=reactExports.useState(!1),yr=reactExports.useCallback((Er={},$r=null)=>({role:"dialog",...Er,ref:mergeRefs($r,Et),id:jt,tabIndex:-1,"aria-modal":!0,"aria-labelledby":nr?Lt:void 0,"aria-describedby":lr?Ut:void 0,onClick:callAllHandlers(Er.onClick,Sr=>Sr.stopPropagation())}),[Ut,lr,jt,Lt,nr]),br=reactExports.useCallback(Er=>{Er.stopPropagation(),Yt.current===Er.target&&modalManager.isTopModal(Et.current)&&(at&&(et==null||et()),bt==null||bt())},[et,at,bt]),xr=reactExports.useCallback((Er={},$r=null)=>({...Er,ref:mergeRefs($r,Ft),onClick:callAllHandlers(Er.onClick,br),onKeyDown:callAllHandlers(Er.onKeyDown,tr),onMouseDown:callAllHandlers(Er.onMouseDown,er)}),[tr,er,br]);return{isOpen:s,onClose:et,headerId:Lt,bodyId:Ut,setBodyMounted:pr,setHeaderMounted:ir,dialogRef:Et,overlayRef:Ft,getDialogProps:yr,getDialogContainerProps:xr,index:Vt}}function useAriaHidden(a,s){const et=a.current;reactExports.useEffect(()=>{if(!(!a.current||!s))return hideOthers(a.current)},[s,a,et])}function useIds(a,...s){const et=reactExports.useId(),tt=a||et;return reactExports.useMemo(()=>s.map(at=>`${at}-${tt}`),[tt,s])}const[ModalStylesProvider,useModalStyles]=createContext({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal$1=a=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...a,lockFocusAcrossFrames:a.lockFocusAcrossFrames||!0},{portalProps:et,children:tt,autoFocus:at,trapFocus:ct,initialFocusRef:ut,finalFocusRef:bt,returnFocusOnClose:wt,blockScrollOnMount:Et,allowPinchZoom:Ft,preserveScrollBarGap:jt,motionPreset:Lt,lockFocusAcrossFrames:Ut,animatePresenceProps:Vt,onCloseComplete:Yt}=s,er=useMultiStyleConfig("Modal",s),nr={...useModal(s),autoFocus:at,trapFocus:ct,initialFocusRef:ut,finalFocusRef:bt,returnFocusOnClose:wt,blockScrollOnMount:Et,allowPinchZoom:Ft,preserveScrollBarGap:jt,motionPreset:Lt,lockFocusAcrossFrames:Ut};return jsxRuntimeExports.jsx(ModalContextProvider,{value:nr,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:er,children:jsxRuntimeExports.jsx(AnimatePresence,{...Vt,onExitComplete:Yt,children:nr.isOpen&&jsxRuntimeExports.jsx(Portal,{...et,children:tt})})})})};Modal$1.displayName="Modal";function ModalFocusScope(a){const{autoFocus:s,trapFocus:et,dialogRef:tt,initialFocusRef:at,blockScrollOnMount:ct,allowPinchZoom:ut,finalFocusRef:bt,returnFocusOnClose:wt,preserveScrollBarGap:Et,lockFocusAcrossFrames:Ft,isOpen:jt}=useModalContext(),[Lt,Ut]=usePresence();reactExports.useEffect(()=>{!Lt&&Ut&&setTimeout(Ut)},[Lt,Ut]);const Vt=useModalManager(tt,jt);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:s,isDisabled:!et,initialFocusRef:at,finalFocusRef:bt,restoreFocus:wt,contentRef:tt,lockFocusAcrossFrames:Ft,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!Et,allowPinchZoom:ut,enabled:Vt===1&&ct,forwardProps:!0,children:a.children})})}const variants$4={initial:({offsetX:a,offsetY:s,transition:et,transitionEnd:tt,delay:at})=>({opacity:0,x:a,y:s,transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,at),transitionEnd:tt==null?void 0:tt.exit}),enter:({transition:a,transitionEnd:s,delay:et})=>({opacity:1,x:0,y:0,transition:(a==null?void 0:a.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:s==null?void 0:s.enter}),exit:({offsetY:a,offsetX:s,transition:et,transitionEnd:tt,reverse:at,delay:ct})=>{const ut={x:s,y:a};return{opacity:0,transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,ct),...at?{...ut,transitionEnd:tt==null?void 0:tt.exit}:{transitionEnd:{...ut,...tt==null?void 0:tt.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$4},SlideFade=reactExports.forwardRef(function(s,et){const{unmountOnExit:tt,in:at,reverse:ct=!0,className:ut,offsetX:bt=0,offsetY:wt=8,transition:Et,transitionEnd:Ft,delay:jt,animatePresenceProps:Lt,...Ut}=s,Vt=tt?at&&tt:!0,Yt=at||tt?"enter":"exit",er={offsetX:bt,offsetY:wt,reverse:ct,transition:Et,transitionEnd:Ft,delay:jt};return jsxRuntimeExports.jsx(AnimatePresence,{...Lt,custom:er,children:Vt&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-offset-slide",ut),custom:er,...slideFadeConfig,animate:Yt,...Ut})})});SlideFade.displayName="SlideFade";const variants$3={exit:({reverse:a,initialScale:s,transition:et,transitionEnd:tt,delay:at})=>({opacity:0,...a?{scale:s,transitionEnd:tt==null?void 0:tt.exit}:{transitionEnd:{scale:s,...tt==null?void 0:tt.exit}},transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,at)}),enter:({transitionEnd:a,transition:s,delay:et})=>({opacity:1,scale:1,transition:(s==null?void 0:s.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:a==null?void 0:a.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$3},ScaleFade=reactExports.forwardRef(function(s,et){const{unmountOnExit:tt,in:at,reverse:ct=!0,initialScale:ut=.95,className:bt,transition:wt,transitionEnd:Et,delay:Ft,animatePresenceProps:jt,...Lt}=s,Ut=tt?at&&tt:!0,Vt=at||tt?"enter":"exit",Yt={initialScale:ut,reverse:ct,transition:wt,transitionEnd:Et,delay:Ft};return jsxRuntimeExports.jsx(AnimatePresence,{...jt,custom:Yt,children:Ut&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-offset-slide",bt),...scaleFadeConfig,animate:Vt,custom:Yt,...Lt})})});ScaleFade.displayName="ScaleFade";const transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection$1=chakra(motion.section),getMotionProps=a=>transitions[a||"none"],ModalTransition=reactExports.forwardRef((a,s)=>{const{preset:et,motionProps:tt=getMotionProps(et),...at}=a;return jsxRuntimeExports.jsx(MotionSection$1,{ref:s,...tt,...at})});ModalTransition.displayName="ModalTransition";const ModalContent=forwardRef((a,s)=>{const{className:et,children:tt,containerProps:at,motionProps:ct,...ut}=a,{getDialogProps:bt,getDialogContainerProps:wt}=useModalContext(),Et=bt(ut,s),Ft=wt(at),jt=cx("chakra-modal__content",et),Lt=useModalStyles(),Ut={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...Lt.dialog},Vt={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...Lt.dialogContainer},{motionPreset:Yt}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...Ft,className:"chakra-modal__content-container",tabIndex:-1,__css:Vt,children:jsxRuntimeExports.jsx(ModalTransition,{preset:Yt,motionProps:ct,className:jt,...Et,__css:Ut,children:tt})})})});ModalContent.displayName="ModalContent";const ModalBody=forwardRef((a,s)=>{const{className:et,...tt}=a,{bodyId:at,setBodyMounted:ct}=useModalContext();reactExports.useEffect(()=>(ct(!0),()=>ct(!1)),[ct]);const ut=cx("chakra-modal__body",et),bt=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:ut,id:at,...tt,__css:bt.body})});ModalBody.displayName="ModalBody";const ModalCloseButton=forwardRef((a,s)=>{const{onClick:et,className:tt,...at}=a,{onClose:ct}=useModalContext(),ut=cx("chakra-modal__close-btn",tt),bt=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:s,__css:bt.closeButton,className:ut,onClick:callAllHandlers(et,wt=>{wt.stopPropagation(),ct()}),...at})});ModalCloseButton.displayName="ModalCloseButton";const ModalFooter=forwardRef((a,s)=>{const{className:et,...tt}=a,at=cx("chakra-modal__footer",et),ct=useModalStyles(),ut={display:"flex",alignItems:"center",justifyContent:"flex-end",...ct.footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:s,...tt,__css:ut,className:at})});ModalFooter.displayName="ModalFooter";const ModalHeader=forwardRef((a,s)=>{const{className:et,...tt}=a,{headerId:at,setHeaderMounted:ct}=useModalContext();reactExports.useEffect(()=>(ct(!0),()=>ct(!1)),[ct]);const ut=cx("chakra-modal__header",et),bt=useModalStyles(),wt={flex:0,...bt.header};return jsxRuntimeExports.jsx(chakra.header,{ref:s,className:ut,id:at,...tt,__css:wt})});ModalHeader.displayName="ModalHeader";const variants$2={enter:({transition:a,transitionEnd:s,delay:et}={})=>({opacity:1,transition:(a==null?void 0:a.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:s==null?void 0:s.enter}),exit:({transition:a,transitionEnd:s,delay:et}={})=>({opacity:0,transition:(a==null?void 0:a.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,et),transitionEnd:s==null?void 0:s.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function(s,et){const{unmountOnExit:tt,in:at,className:ct,transition:ut,transitionEnd:bt,delay:wt,animatePresenceProps:Et,...Ft}=s,jt=at||tt?"enter":"exit",Lt=tt?at&&tt:!0,Ut={transition:ut,transitionEnd:bt,delay:wt};return jsxRuntimeExports.jsx(AnimatePresence,{...Et,custom:Ut,children:Lt&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-fade",ct),custom:Ut,...fadeConfig,animate:jt,...Ft})})});Fade.displayName="Fade";const MotionDiv$2=chakra(motion.div),ModalOverlay=forwardRef((a,s)=>{const{className:et,transition:tt,motionProps:at,...ct}=a,ut=cx("chakra-modal__overlay",et),wt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:Et}=useModalContext(),jt=at||(Et==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv$2,{...jt,__css:wt,ref:s,className:ut,...ct})});ModalOverlay.displayName="ModalOverlay";const[DrawerContextProvider,useDrawerContext]=createContext(),placementMap={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function getDrawerPlacement(a,s){var et;if(a)return((et=placementMap[a])==null?void 0:et[s])??a}function Drawer$1(a){var Et;const{isOpen:s,onClose:et,placement:tt="right",children:at,...ct}=a,ut=useTheme(),bt=(Et=ut.components)==null?void 0:Et.Drawer,wt=getDrawerPlacement(tt,ut.direction);return jsxRuntimeExports.jsx(DrawerContextProvider,{value:{placement:wt},children:jsxRuntimeExports.jsx(Modal$1,{isOpen:s,onClose:et,styleConfig:bt,...ct,children:at})})}const defaultTransition={exit:{duration:.15,ease:TRANSITION_EASINGS.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},variants$1={exit:({direction:a,transition:s,transitionEnd:et,delay:tt})=>{const{exit:at}=getSlideTransition({direction:a});return{...at,transition:(s==null?void 0:s.exit)??withDelay.exit(defaultTransition.exit,tt),transitionEnd:et==null?void 0:et.exit}},enter:({direction:a,transitionEnd:s,transition:et,delay:tt})=>{const{enter:at}=getSlideTransition({direction:a});return{...at,transition:(et==null?void 0:et.enter)??withDelay.enter(defaultTransition.enter,tt),transitionEnd:s==null?void 0:s.enter}}},Slide=reactExports.forwardRef(function(s,et){const{direction:tt="right",style:at,unmountOnExit:ct,in:ut,className:bt,transition:wt,transitionEnd:Et,delay:Ft,motionProps:jt,animatePresenceProps:Lt,...Ut}=s,Vt=getSlideTransition({direction:tt}),Yt=Object.assign({position:"fixed"},Vt.position,at),er=ct?ut&&ct:!0,tr=ut||ct?"enter":"exit",nr={transitionEnd:Et,transition:wt,direction:tt,delay:Ft};return jsxRuntimeExports.jsx(AnimatePresence,{...Lt,custom:nr,children:er&&jsxRuntimeExports.jsx(motion.div,{...Ut,ref:et,initial:"exit",className:cx("chakra-slide",bt),animate:tr,exit:"exit",custom:nr,variants:variants$1,style:Yt,...jt})})});Slide.displayName="Slide";const MotionDiv$1=chakra(Slide),DrawerContent=forwardRef((a,s)=>{const{className:et,children:tt,motionProps:at,containerProps:ct,...ut}=a,{getDialogProps:bt,getDialogContainerProps:wt,isOpen:Et}=useModalContext(),Ft=bt(ut,s),jt=wt(ct),Lt=cx("chakra-modal__content",et),Ut=useModalStyles(),Vt={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...Ut.dialog},Yt={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...Ut.dialogContainer},{placement:er}=useDrawerContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...jt,className:"chakra-modal__content-container",__css:Yt,children:jsxRuntimeExports.jsx(MotionDiv$1,{motionProps:at,direction:er,in:Et,className:Lt,...Ft,__css:Vt,children:tt})})})});DrawerContent.displayName="DrawerContent";const[PopoverProvider,usePopoverContext]=createContext({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[PopoverStylesProvider,usePopoverStyles]=createContext({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),TRIGGER={click:"click",hover:"hover"};function usePopover(a={}){const{closeOnBlur:s=!0,closeOnEsc:et=!0,initialFocusRef:tt,id:at,returnFocusOnClose:ct=!0,autoFocus:ut=!0,arrowSize:bt,arrowShadowColor:wt,trigger:Et=TRIGGER.click,openDelay:Ft=200,closeDelay:jt=200,isLazy:Lt,lazyBehavior:Ut="unmount",computePositionOnMount:Vt,...Yt}=a,{isOpen:er,onClose:tr,onOpen:nr,onToggle:ir}=useDisclosure(a),[lr,pr]=reactExports.useState(ct);reactExports.useEffect(()=>pr(ct),[ct]);const yr=reactExports.useRef(null),br=reactExports.useRef(null),xr=reactExports.useRef(null),Er=reactExports.useRef(!1),$r=reactExports.useRef(!1);er&&($r.current=!0);const[Sr,fr]=reactExports.useState(!1),[vr,or]=reactExports.useState(!1),rr=reactExports.useId(),ar=at??rr,[sr,dr,gr,ur]=["popover-trigger","popover-content","popover-header","popover-body"].map(Nr=>`${Nr}-${ar}`),{referenceRef:_r,getArrowProps:hr,getPopperProps:cr,getArrowInnerProps:wr,forceUpdate:Br}=usePopper({...Yt,enabled:er||!!Vt}),Or=useAnimationState({isOpen:er,ref:xr});useFocusOnPointerDown({enabled:er,ref:br}),useFocusOnHide(xr,{focusRef:br,visible:er,shouldFocus:lr&&Et===TRIGGER.click}),useFocusOnShow(xr,{focusRef:tt,visible:er,shouldFocus:ut&&Et===TRIGGER.click}),useOutsideClick({enabled:er&&s,ref:xr,handler(Nr){var jr;const Vr=((jr=Nr.composedPath)==null?void 0:jr.call(Nr)[0])??[Nr.target];contains(br.current,Vr)||(Vr&&pr(!isFocusable(Vr)),tr())}});const Rr=lazyDisclosure({wasSelected:$r.current,enabled:Lt,mode:Ut,isSelected:Or.present}),Pr=reactExports.useCallback((Nr={},Vr=null)=>{const jr={...Nr,style:{...Nr.style,transformOrigin:cssVars.transformOrigin.varRef,[cssVars.arrowSize.var]:bt?`${bt}px`:void 0,[cssVars.arrowShadowColor.var]:wt},ref:mergeRefs(xr,Vr),children:Rr?Nr.children:null,id:dr,tabIndex:-1,role:"dialog",onKeyDown:callAllHandlers(Nr.onKeyDown,Wr=>{Wr.nativeEvent.isComposing||et&&Wr.key==="Escape"&&(Wr.preventDefault(),Wr.stopPropagation(),tr())}),onBlur:callAllHandlers(Nr.onBlur,Wr=>{const Kr=getRelatedTarget(Wr),an=contains(xr.current,Kr),Un=contains(br.current,Kr),Vn=!an&&!Un;Kr&&pr(!isFocusable(Kr)),er&&s&&Vn&&tr()}),"aria-labelledby":Sr?gr:void 0,"aria-describedby":vr?ur:void 0};return Et===TRIGGER.hover&&(jr.role="tooltip",jr.onMouseEnter=callAllHandlers(Nr.onMouseEnter,()=>{Er.current=!0}),jr.onMouseLeave=callAllHandlers(Nr.onMouseLeave,Wr=>{Wr.nativeEvent.relatedTarget!==null&&(Er.current=!1,setTimeout(()=>tr(),jt))})),jr},[Rr,dr,Sr,gr,vr,ur,Et,et,tr,er,s,jt,wt,bt]),Ur=reactExports.useCallback((Nr={},Vr=null)=>cr({...Nr,style:{visibility:er?"visible":"hidden",...Nr.style}},Vr),[er,cr]),kr=reactExports.useCallback((Nr,Vr=null)=>({...Nr,ref:mergeRefs(Vr,yr,_r)}),[yr,_r]),Ar=reactExports.useRef(void 0),Cr=reactExports.useRef(void 0),Fr=reactExports.useCallback(Nr=>{yr.current==null&&_r(Nr)},[_r]),Lr=reactExports.useCallback((Nr={},Vr=null)=>{const jr={...Nr,ref:mergeRefs(br,Vr,Fr),id:sr,"aria-haspopup":"dialog","aria-expanded":er,"aria-controls":dr};return Et===TRIGGER.click&&(jr.onClick=callAllHandlers(Nr.onClick,ir)),Et===TRIGGER.hover&&(jr.onFocus=callAllHandlers(Nr.onFocus,()=>{Ar.current===void 0&&nr()}),jr.onBlur=callAllHandlers(Nr.onBlur,Wr=>{const Kr=getRelatedTarget(Wr),an=!contains(xr.current,Kr);er&&s&&an&&tr()}),jr.onKeyDown=callAllHandlers(Nr.onKeyDown,Wr=>{Wr.key==="Escape"&&tr()}),jr.onMouseEnter=callAllHandlers(Nr.onMouseEnter,()=>{Er.current=!0,Ar.current=window.setTimeout(()=>nr(),Ft)}),jr.onMouseLeave=callAllHandlers(Nr.onMouseLeave,()=>{Er.current=!1,Ar.current&&(clearTimeout(Ar.current),Ar.current=void 0),Cr.current=window.setTimeout(()=>{Er.current===!1&&tr()},jt)})),jr},[sr,er,dr,Et,Fr,ir,nr,s,tr,Ft,jt]);reactExports.useEffect(()=>()=>{Ar.current&&clearTimeout(Ar.current),Cr.current&&clearTimeout(Cr.current)},[]);const Hr=reactExports.useCallback((Nr={},Vr=null)=>({...Nr,id:gr,ref:mergeRefs(Vr,jr=>{fr(!!jr)})}),[gr]),Gr=reactExports.useCallback((Nr={},Vr=null)=>({...Nr,id:ur,ref:mergeRefs(Vr,jr=>{or(!!jr)})}),[ur]);return{forceUpdate:Br,isOpen:er,onAnimationComplete:Or.onComplete,onClose:tr,getAnchorProps:kr,getArrowProps:hr,getArrowInnerProps:wr,getPopoverPositionerProps:Ur,getPopoverProps:Pr,getTriggerProps:Lr,getHeaderProps:Hr,getBodyProps:Gr}}function contains(a,s){return a===s||(a==null?void 0:a.contains(s))}function getRelatedTarget(a){const s=a.currentTarget.ownerDocument.activeElement;return a.relatedTarget??s}function Popover(a){const s=useMultiStyleConfig("Popover",a),{children:et,...tt}=omitThemingProps(a),at=useTheme(),ct=usePopover({...tt,direction:at.direction});return jsxRuntimeExports.jsx(PopoverProvider,{value:ct,children:jsxRuntimeExports.jsx(PopoverStylesProvider,{value:s,children:runIfFn$1(et,{isOpen:ct.isOpen,onClose:ct.onClose,forceUpdate:ct.forceUpdate})})})}Popover.displayName="Popover";function getElementRef(a){var et;const s=reactExports.version;return typeof s!="string"||s.startsWith("18.")?a==null?void 0:a.ref:(et=a==null?void 0:a.props)==null?void 0:et.ref}const PopoverBody=forwardRef(function(s,et){const{getBodyProps:tt}=usePopoverContext(),at=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.div,{...tt(s,et),className:cx("chakra-popover__body",s.className),__css:at.body})});PopoverBody.displayName="PopoverBody";function mergeVariants(a){if(a)return{enter:{...a.enter,visibility:"visible"},exit:{...a.exit,transitionEnd:{visibility:"hidden"}}}}const scaleFade={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},MotionSection=chakra(motion.section),PopoverTransition=forwardRef(function(s,et){const{variants:tt=scaleFade,...at}=s,{isOpen:ct}=usePopoverContext();return jsxRuntimeExports.jsx(MotionSection,{ref:et,variants:mergeVariants(tt),initial:!1,animate:ct?"enter":"exit",...at})});PopoverTransition.displayName="PopoverTransition";const PopoverContent=forwardRef(function(s,et){const{rootProps:tt,motionProps:at,...ct}=s,{getPopoverProps:ut,getPopoverPositionerProps:bt,onAnimationComplete:wt}=usePopoverContext(),Et=usePopoverStyles(),Ft={position:"relative",display:"flex",flexDirection:"column",...Et.content};return jsxRuntimeExports.jsx(chakra.div,{...bt(tt),__css:Et.popper,className:"chakra-popover__popper",children:jsxRuntimeExports.jsx(PopoverTransition,{...at,...ut(ct,et),onAnimationComplete:callAll(wt,ct.onAnimationComplete),className:cx("chakra-popover__content",s.className),__css:Ft})})});PopoverContent.displayName="PopoverContent";function PopoverFooter(a){const s=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.footer,{...a,className:cx("chakra-popover__footer",a.className),__css:s.footer})}PopoverFooter.displayName="PopoverFooter";function PopoverTrigger(a){const s=reactExports.Children.only(a.children),{getTriggerProps:et}=usePopoverContext();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reactExports.cloneElement(s,et(s.props,getElementRef(s)))})}PopoverTrigger.displayName="PopoverTrigger";function useIsFirstRender(){const a=reactExports.useRef(!0);return reactExports.useEffect(()=>{a.current=!1},[]),a.current}const StyledSkeleton=chakra("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),$startColor$1=cssVar$1("skeleton-start-color"),$endColor$1=cssVar$1("skeleton-end-color"),fade=keyframes$1({from:{opacity:0},to:{opacity:1}}),bgFade=keyframes$1({from:{borderColor:$startColor$1.reference,background:$startColor$1.reference},to:{borderColor:$endColor$1.reference,background:$endColor$1.reference}}),Skeleton=forwardRef((a,s)=>{const et={...a,fadeDuration:typeof a.fadeDuration=="number"?a.fadeDuration:.4,speed:typeof a.speed=="number"?a.speed:.8},tt=useStyleConfig("Skeleton",et),at=useIsFirstRender(),{startColor:ct="",endColor:ut="",isLoaded:bt,fadeDuration:wt,speed:Et,className:Ft,fitContent:jt,animation:Lt,...Ut}=omitThemingProps(et),[Vt,Yt]=useToken("colors",[ct,ut]),er=usePrevious(bt),tr=cx("chakra-skeleton",Ft),nr={...Vt&&{[$startColor$1.variable]:Vt},...Yt&&{[$endColor$1.variable]:Yt}};if(bt){const ir=at||er?"none":`${fade} ${wt}s`;return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:tr,__css:{animation:ir},...Ut})}return jsxRuntimeExports.jsx(StyledSkeleton,{ref:s,className:tr,...Ut,__css:{width:jt?"fit-content":void 0,...tt,...nr,_dark:{...tt._dark,...nr},animation:Lt||`${Et}s linear infinite alternate ${bgFade}`}})});Skeleton.displayName="Skeleton";const SkeletonCircle=({size:a="2rem",...s})=>jsxRuntimeExports.jsx(Skeleton,{borderRadius:"full",boxSize:a,...s});SkeletonCircle.displayName="SkeletonCircle";function getIds(a){return{root:`slider-root-${a}`,getThumb:s=>`slider-thumb-${a}-${s}`,getInput:s=>`slider-input-${a}-${s}`,track:`slider-track-${a}`,innerTrack:`slider-filled-track-${a}`,getMarker:s=>`slider-marker-${a}-${s}`,output:`slider-output-${a}`}}function orient$1(a){const{orientation:s,vertical:et,horizontal:tt}=a;return s==="vertical"?et:tt}function getStyles(a){const{orientation:s,thumbPercents:et,isReversed:tt}=a,at=Ut=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...orient$1({orientation:s,vertical:{bottom:`calc(${et[Ut]}% - var(--slider-thumb-size) / 2)`},horizontal:{left:`calc(${et[Ut]}% - var(--slider-thumb-size) / 2)`}})}),ct={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},ut={position:"absolute",...orient$1({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},bt=et.length===1,wt=[0,tt?100-et[0]:et[0]],Et=bt?wt:et;let Ft=Et[0];!bt&&tt&&(Ft=100-Ft);const jt=Math.abs(Et[Et.length-1]-Et[0]),Lt={...ut,...orient$1({orientation:s,vertical:tt?{height:`${jt}%`,top:`${Ft}%`}:{height:`${jt}%`,bottom:`${Ft}%`},horizontal:tt?{width:`${jt}%`,right:`${Ft}%`}:{width:`${jt}%`,left:`${Ft}%`}})};return{trackStyle:ut,innerTrackStyle:Lt,rootStyle:ct,getThumbStyle:at}}function getIsReversed(a){const{isReversed:s,direction:et,orientation:tt}=a;return et==="ltr"||tt==="vertical"?s:!s}function useSlider(a){const{min:s=0,max:et=100,onChange:tt,value:at,defaultValue:ct,isReversed:ut,direction:bt="ltr",orientation:wt="horizontal",id:Et,isDisabled:Ft,isReadOnly:jt,onChangeStart:Lt,onChangeEnd:Ut,step:Vt=1,getAriaValueText:Yt,"aria-valuetext":er,"aria-label":tr,"aria-labelledby":nr,name:ir,focusThumbOnChange:lr=!0,...pr}=a,yr=useCallbackRef(Lt),br=useCallbackRef(Ut),xr=useCallbackRef(Yt),Er=getIsReversed({isReversed:ut,direction:bt,orientation:wt}),[$r,Sr]=useControllableState({value:at,defaultValue:ct??getDefaultValue(s,et),onChange:tt}),[fr,vr]=reactExports.useState(!1),[or,rr]=reactExports.useState(!1),ar=!(Ft||jt),sr=(et-s)/10,dr=Vt||(et-s)/100,gr=clampValue($r,s,et),ur=et-gr+s,hr=valueToPercent(Er?ur:gr,s,et),cr=wt==="vertical",wr=useLatestRef({min:s,max:et,step:Vt,isDisabled:Ft,value:gr,isInteractive:ar,isReversed:Er,isVertical:cr,eventSource:null,focusThumbOnChange:lr,orientation:wt}),Br=reactExports.useRef(null),Or=reactExports.useRef(null),Rr=reactExports.useRef(null),Pr=reactExports.useId(),Ur=Et??Pr,[kr,Ar]=[`slider-thumb-${Ur}`,`slider-track-${Ur}`],Cr=reactExports.useCallback(Dr=>{var no;if(!Br.current)return;const Tr=wr.current;Tr.eventSource="pointer";const Ir=Br.current.getBoundingClientRect(),{clientX:qr,clientY:Qr}=((no=Dr.touches)==null?void 0:no[0])??Dr,sn=cr?Ir.bottom-Qr:qr-Ir.left,nn=cr?Ir.height:Ir.width;let Xn=sn/nn;Er&&(Xn=1-Xn);let xo=percentToValue(Xn,Tr.min,Tr.max);return Tr.step&&(xo=parseFloat(roundValueToStep(xo,Tr.min,Tr.step))),xo=clampValue(xo,Tr.min,Tr.max),xo},[cr,Er,wr]),Fr=reactExports.useCallback(Dr=>{const Tr=wr.current;Tr.isInteractive&&(Dr=parseFloat(roundValueToStep(Dr,Tr.min,dr)),Dr=clampValue(Dr,Tr.min,Tr.max),Sr(Dr))},[dr,Sr,wr]),Lr=reactExports.useMemo(()=>({stepUp(Dr=dr){const Tr=Er?gr-Dr:gr+Dr;Fr(Tr)},stepDown(Dr=dr){const Tr=Er?gr+Dr:gr-Dr;Fr(Tr)},reset(){Fr(ct||0)},stepTo(Dr){Fr(Dr)}}),[Fr,Er,gr,dr,ct]),Hr=reactExports.useCallback(Dr=>{const Tr=wr.current,qr={ArrowRight:()=>Lr.stepUp(),ArrowUp:()=>Lr.stepUp(),ArrowLeft:()=>Lr.stepDown(),ArrowDown:()=>Lr.stepDown(),PageUp:()=>Lr.stepUp(sr),PageDown:()=>Lr.stepDown(sr),Home:()=>Fr(Tr.min),End:()=>Fr(Tr.max)}[Dr.key];qr&&(Dr.preventDefault(),Dr.stopPropagation(),qr(Dr),Tr.eventSource="keyboard")},[Lr,Fr,sr,wr]),Gr=(xr==null?void 0:xr(gr))??er,{getThumbStyle:Nr,rootStyle:Vr,trackStyle:jr,innerTrackStyle:Wr}=reactExports.useMemo(()=>{const Dr=wr.current;return getStyles({isReversed:Er,orientation:Dr.orientation,thumbPercents:[hr]})},[Er,hr,wr]),Kr=reactExports.useCallback(()=>{wr.current.focusThumbOnChange&&setTimeout(()=>{var Tr;return(Tr=Or.current)==null?void 0:Tr.focus()})},[wr]);useUpdateEffect(()=>{const Dr=wr.current;Kr(),Dr.eventSource==="keyboard"&&(br==null||br(Dr.value))},[gr,br]);function an(Dr){const Tr=Cr(Dr);Tr!=null&&Tr!==wr.current.value&&Sr(Tr)}usePanEvent(Rr,{onPanSessionStart(Dr){const Tr=wr.current;Tr.isInteractive&&(vr(!0),Kr(),an(Dr),yr==null||yr(Tr.value))},onPanSessionEnd(){const Dr=wr.current;Dr.isInteractive&&(vr(!1),br==null||br(Dr.value))},onPan(Dr){wr.current.isInteractive&&an(Dr)}});const Un=reactExports.useCallback((Dr={},Tr=null)=>({...Dr,...pr,ref:mergeRefs(Tr,Rr),tabIndex:-1,"aria-disabled":ariaAttr(Ft),"data-focused":dataAttr(or),style:{...Dr.style,...Vr}}),[pr,Ft,or,Vr]),Vn=reactExports.useCallback((Dr={},Tr=null)=>({...Dr,ref:mergeRefs(Tr,Br),id:Ar,"data-disabled":dataAttr(Ft),style:{...Dr.style,...jr}}),[Ft,Ar,jr]),Kn=reactExports.useCallback((Dr={},Tr=null)=>({...Dr,ref:Tr,style:{...Dr.style,...Wr}}),[Wr]),oo=reactExports.useCallback((Dr={},Tr=null)=>({...Dr,ref:mergeRefs(Tr,Or),role:"slider",tabIndex:ar?0:void 0,id:kr,"data-active":dataAttr(fr),"aria-valuetext":Gr,"aria-valuemin":s,"aria-valuemax":et,"aria-valuenow":gr,"aria-orientation":wt,"aria-disabled":ariaAttr(Ft),"aria-readonly":ariaAttr(jt),"aria-label":tr,"aria-labelledby":tr?void 0:nr,style:{...Dr.style,...Nr(0)},onKeyDown:callAllHandlers(Dr.onKeyDown,Hr),onFocus:callAllHandlers(Dr.onFocus,()=>rr(!0)),onBlur:callAllHandlers(Dr.onBlur,()=>rr(!1))}),[ar,kr,fr,Gr,s,et,gr,wt,Ft,jt,tr,nr,Nr,Hr]),Hn=reactExports.useCallback((Dr,Tr=null)=>{const Ir=!(Dr.value<s||Dr.value>et),qr=gr>=Dr.value,Qr=valueToPercent(Dr.value,s,et),sn={position:"absolute",pointerEvents:"none",...orient({orientation:wt,vertical:{bottom:Er?`${100-Qr}%`:`${Qr}%`},horizontal:{left:Er?`${100-Qr}%`:`${Qr}%`}})};return{...Dr,ref:Tr,role:"presentation","aria-hidden":!0,"data-disabled":dataAttr(Ft),"data-invalid":dataAttr(!Ir),"data-highlighted":dataAttr(qr),style:{...Dr.style,...sn}}},[Ft,Er,et,s,wt,gr]),Qn=reactExports.useCallback((Dr={},Tr=null)=>({...Dr,ref:Tr,type:"hidden",value:gr,name:ir}),[ir,gr]);return{state:{value:gr,isFocused:or,isDragging:fr},actions:Lr,getRootProps:Un,getTrackProps:Vn,getInnerTrackProps:Kn,getThumbProps:oo,getMarkerProps:Hn,getInputProps:Qn}}function orient(a){const{orientation:s,vertical:et,horizontal:tt}=a;return s==="vertical"?et:tt}function getDefaultValue(a,s){return s<a?a:a+(s-a)/2}const[SliderProvider,useSliderContext]=createContext({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[SliderStylesProvider,useSliderStyles]=createContext({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),Slider=forwardRef((a,s)=>{const et={...a,orientation:(a==null?void 0:a.orientation)??"horizontal"},tt=useMultiStyleConfig("Slider",et),at=omitThemingProps(et),{direction:ct}=useTheme();at.direction=ct;const{getInputProps:ut,getRootProps:bt,...wt}=useSlider(at),Et=bt(),Ft=ut({},s);return jsxRuntimeExports.jsx(SliderProvider,{value:wt,children:jsxRuntimeExports.jsx(SliderStylesProvider,{value:tt,children:jsxRuntimeExports.jsxs(chakra.div,{...Et,className:cx("chakra-slider",et.className),__css:tt.container,children:[et.children,jsxRuntimeExports.jsx("input",{...Ft})]})})})});Slider.displayName="Slider";const SliderThumb=forwardRef((a,s)=>{const{getThumbProps:et}=useSliderContext(),tt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__thumb",a.className),__css:tt.thumb})});SliderThumb.displayName="SliderThumb";const SliderTrack=forwardRef((a,s)=>{const{getTrackProps:et}=useSliderContext(),tt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__track",a.className),__css:tt.track})});SliderTrack.displayName="SliderTrack";const SliderFilledTrack=forwardRef((a,s)=>{const{getInnerTrackProps:et}=useSliderContext(),tt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__filled-track",a.className),__css:tt.filledTrack})});SliderFilledTrack.displayName="SliderFilledTrack";const SliderMark=forwardRef((a,s)=>{const{getMarkerProps:et}=useSliderContext(),tt=useSliderStyles(),at=et(a,s);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__marker",a.className),__css:tt.mark})});SliderMark.displayName="SliderMark";const StackItem=a=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...a,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...a.__css}});StackItem.displayName="StackItem";function getDividerStyles(a){const{spacing:s,direction:et}=a,tt={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(et,at=>tt[at])}}const Stack$1=forwardRef((a,s)=>{const{isInline:et,direction:tt,align:at,justify:ct,spacing:ut="0.5rem",wrap:bt,children:wt,divider:Et,className:Ft,shouldWrapChildren:jt,...Lt}=a,Ut=et?"row":tt??"column",Vt=reactExports.useMemo(()=>getDividerStyles({spacing:ut,direction:Ut}),[ut,Ut]),Yt=!!Et,er=!jt&&!Yt,tr=reactExports.useMemo(()=>{const ir=getValidChildren(wt);return er?ir:ir.map((lr,pr)=>{const yr=typeof lr.key<"u"?lr.key:pr,br=pr+1===ir.length,Er=jt?jsxRuntimeExports.jsx(StackItem,{children:lr},yr):lr;if(!Yt)return Er;const $r=reactExports.cloneElement(Et,{__css:Vt}),Sr=br?null:$r;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Er,Sr]},yr)})},[Et,Vt,Yt,er,jt,wt]),nr=cx("chakra-stack",Ft);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:at,justifyContent:ct,flexDirection:Ut,flexWrap:bt,gap:Yt?void 0:ut,className:nr,...Lt,children:tr})});Stack$1.displayName="Stack";const HStack=forwardRef((a,s)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...a,direction:"row",ref:s}));HStack.displayName="HStack";const VStack=forwardRef((a,s)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...a,direction:"column",ref:s}));VStack.displayName="VStack";const Switch=forwardRef(function(s,et){const tt=useMultiStyleConfig("Switch",s),{spacing:at="0.5rem",children:ct,...ut}=omitThemingProps(s),{getIndicatorProps:bt,getInputProps:wt,getCheckboxProps:Et,getRootProps:Ft,getLabelProps:jt}=useCheckbox(ut),Lt=reactExports.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...tt.container}),[tt.container]),Ut=reactExports.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...tt.track}),[tt.track]),Vt=reactExports.useMemo(()=>({userSelect:"none",marginStart:at,...tt.label}),[at,tt.label]);return jsxRuntimeExports.jsxs(chakra.label,{...Ft(),className:cx("chakra-switch",s.className),__css:Lt,children:[jsxRuntimeExports.jsx("input",{className:"chakra-switch__input",...wt({},et)}),jsxRuntimeExports.jsx(chakra.span,{...Et(),className:"chakra-switch__track",__css:Ut,children:jsxRuntimeExports.jsx(chakra.span,{__css:tt.thumb,className:"chakra-switch__thumb",...bt()})}),ct&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-switch__label",...jt(),__css:Vt,children:ct})]})});Switch.displayName="Switch";const[TagStylesProvider,useTagStyles]=createContext({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Tag=forwardRef((a,s)=>{const et=useMultiStyleConfig("Tag",a),tt=omitThemingProps(a),at={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...et.container};return jsxRuntimeExports.jsx(TagStylesProvider,{value:et,children:jsxRuntimeExports.jsx(chakra.span,{ref:s,...tt,__css:at})})});Tag.displayName="Tag";const TagLabel=forwardRef((a,s)=>{const et=useTagStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:s,noOfLines:1,...a,__css:et.label})});TagLabel.displayName="TagLabel";const TagLeftIcon=forwardRef((a,s)=>jsxRuntimeExports.jsx(Icon$1,{ref:s,verticalAlign:"top",marginEnd:"0.5rem",...a}));TagLeftIcon.displayName="TagLeftIcon";const TagRightIcon=forwardRef((a,s)=>jsxRuntimeExports.jsx(Icon$1,{ref:s,verticalAlign:"top",marginStart:"0.5rem",...a}));TagRightIcon.displayName="TagRightIcon";const TagCloseIcon=a=>jsxRuntimeExports.jsx(Icon$1,{verticalAlign:"inherit",viewBox:"0 0 512 512",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});TagCloseIcon.displayName="TagCloseIcon";const TagCloseButton=forwardRef((a,s)=>{const{isDisabled:et,children:tt,...at}=a,ut={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...useTagStyles().closeButton};return jsxRuntimeExports.jsx(chakra.button,{ref:s,"aria-label":"close",...at,type:"button",disabled:et,__css:ut,children:tt||jsxRuntimeExports.jsx(TagCloseIcon,{})})});TagCloseButton.displayName="TagCloseButton";function getToastPlacement(a,s){const et=a??"bottom",at={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[et];return(at==null?void 0:at[s])??et}function createToastFn(a,s){const et=at=>({...s,...at,position:getToastPlacement((at==null?void 0:at.position)??(s==null?void 0:s.position),a)}),tt=at=>{const ct=et(at),ut=createRenderToast(ct);return toastStore.notify(ut,ct)};return tt.update=(at,ct)=>{toastStore.update(at,et(ct))},tt.promise=(at,ct)=>{const ut=tt({...ct.loading,status:"loading",duration:null});at.then(bt=>tt.update(ut,{status:"success",duration:5e3,...runIfFn$1(ct.success,bt)})).catch(bt=>tt.update(ut,{status:"error",duration:5e3,...runIfFn$1(ct.error,bt)}))},tt.closeAll=toastStore.closeAll,tt.close=toastStore.close,tt.isActive=toastStore.isActive,tt}function useToast(a){const{theme:s}=useChakra(),et=useToastOptionContext();return reactExports.useMemo(()=>createToastFn(s.direction,{...et,...a}),[a,s.direction,et])}const scale={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},getDoc=a=>{var s;return((s=a.current)==null?void 0:s.ownerDocument)||document},getWin=a=>{var s,et;return((et=(s=a.current)==null?void 0:s.ownerDocument)==null?void 0:et.defaultView)||window};function useTooltip(a={}){const{openDelay:s=0,closeDelay:et=0,closeOnClick:tt=!0,closeOnMouseDown:at,closeOnScroll:ct,closeOnPointerDown:ut=at,closeOnEsc:bt=!0,onOpen:wt,onClose:Et,placement:Ft,id:jt,isOpen:Lt,defaultIsOpen:Ut,arrowSize:Vt=10,arrowShadowColor:Yt,arrowPadding:er,modifiers:tr,isDisabled:nr,gutter:ir,offset:lr,direction:pr,...yr}=a,{isOpen:br,onOpen:xr,onClose:Er}=useDisclosure({isOpen:Lt,defaultIsOpen:Ut,onOpen:wt,onClose:Et}),{referenceRef:$r,getPopperProps:Sr,getArrowInnerProps:fr,getArrowProps:vr}=usePopper({enabled:br,placement:Ft,arrowPadding:er,modifiers:tr,gutter:ir,offset:lr,direction:pr}),or=reactExports.useId(),ar=`tooltip-${jt??or}`,sr=reactExports.useRef(null),dr=reactExports.useRef(void 0),gr=reactExports.useCallback(()=>{dr.current&&(clearTimeout(dr.current),dr.current=void 0)},[]),ur=reactExports.useRef(void 0),_r=reactExports.useCallback(()=>{ur.current&&(clearTimeout(ur.current),ur.current=void 0)},[]),hr=reactExports.useCallback(()=>{_r(),Er()},[Er,_r]),cr=useCloseEvent(sr,hr),wr=reactExports.useCallback(()=>{if(!nr&&!dr.current){br&&cr();const Cr=getWin(sr);dr.current=Cr.setTimeout(xr,s)}},[cr,nr,br,xr,s]),Br=reactExports.useCallback(()=>{gr();const Cr=getWin(sr);ur.current=Cr.setTimeout(hr,et)},[et,hr,gr]),Or=reactExports.useCallback(()=>{br&&tt&&Br()},[tt,Br,br]),Rr=reactExports.useCallback(()=>{br&&ut&&Br()},[ut,Br,br]),Pr=reactExports.useCallback(Cr=>{br&&Cr.key==="Escape"&&Br()},[br,Br]);useEventListener(()=>getDoc(sr),"keydown",bt?Pr:void 0),useEventListener(()=>{if(!ct)return null;const Cr=sr.current;if(!Cr)return null;const Fr=getScrollParent$1(Cr);return Fr.localName==="body"?getWin(sr):Fr},"scroll",()=>{br&&ct&&hr()},{passive:!0,capture:!0}),reactExports.useEffect(()=>{nr&&(gr(),br&&Er())},[nr,br,Er,gr]),reactExports.useEffect(()=>()=>{gr(),_r()},[gr,_r]),useEventListener(()=>sr.current,"pointerleave",Br);const Ur=reactExports.useCallback((Cr={},Fr=null)=>({...Cr,ref:mergeRefs(sr,Fr,$r),onPointerEnter:callAllHandlers(Cr.onPointerEnter,Hr=>{Hr.pointerType!=="touch"&&wr()}),onClick:callAllHandlers(Cr.onClick,Or),onPointerDown:callAllHandlers(Cr.onPointerDown,Rr),onFocus:callAllHandlers(Cr.onFocus,wr),onBlur:callAllHandlers(Cr.onBlur,Br),"aria-describedby":br?ar:void 0}),[wr,Br,Rr,br,ar,Or,$r]),kr=reactExports.useCallback((Cr={},Fr=null)=>Sr({...Cr,style:{...Cr.style,[cssVars.arrowSize.var]:Vt?`${Vt}px`:void 0,[cssVars.arrowShadowColor.var]:Yt}},Fr),[Sr,Vt,Yt]),Ar=reactExports.useCallback((Cr={},Fr=null)=>{const Lr={...Cr.style,position:"relative",transformOrigin:cssVars.transformOrigin.varRef};return{ref:Fr,...yr,...Cr,id:ar,role:"tooltip",style:Lr}},[yr,ar]);return{isOpen:br,show:wr,hide:Br,getTriggerProps:Ur,getTooltipProps:Ar,getTooltipPositionerProps:kr,getArrowProps:vr,getArrowInnerProps:fr}}const closeEventName="chakra-ui:close-tooltip";function useCloseEvent(a,s){return reactExports.useEffect(()=>{const et=getDoc(a);return et.addEventListener(closeEventName,s),()=>et.removeEventListener(closeEventName,s)},[s,a]),()=>{const et=getDoc(a),tt=getWin(a);et.dispatchEvent(new tt.CustomEvent(closeEventName))}}const MotionDiv=chakra(motion.div),Tooltip=forwardRef((a,s)=>{const et=useStyleConfig("Tooltip",a),tt=omitThemingProps(a),at=useTheme(),{children:ct,label:ut,shouldWrapChildren:bt,"aria-label":wt,hasArrow:Et,bg:Ft,portalProps:jt,background:Lt,backgroundColor:Ut,bgColor:Vt,motionProps:Yt,animatePresenceProps:er,...tr}=tt,nr=Lt??Ut??Ft??Vt;if(nr){et.bg=nr;const $r=getCSSVar(at,"colors",nr);et[cssVars.arrowBg.var]=$r}const ir=useTooltip({...tr,direction:at.direction}),lr=!reactExports.isValidElement(ct)||bt;let pr;if(lr)pr=jsxRuntimeExports.jsx(chakra.span,{display:"inline-block",tabIndex:0,...ir.getTriggerProps(),children:ct});else{const $r=reactExports.Children.only(ct);pr=reactExports.cloneElement($r,ir.getTriggerProps($r.props,getElementRef($r)))}const yr=!!wt,br=ir.getTooltipProps({},s),xr=yr?omit(br,["role","id"]):br,Er=pick(br,["role","id"]);return ut?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[pr,jsxRuntimeExports.jsx(AnimatePresence,{...er,children:ir.isOpen&&jsxRuntimeExports.jsx(Portal,{...jt,children:jsxRuntimeExports.jsx(chakra.div,{...ir.getTooltipPositionerProps(),__css:{zIndex:et.zIndex,pointerEvents:"none"},children:jsxRuntimeExports.jsxs(MotionDiv,{variants:scale,initial:"exit",animate:"enter",exit:"exit",...Yt,...xr,__css:et,children:[ut,yr&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,...Er,children:wt}),Et&&jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:et.bg}})})]})})})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ct})});Tooltip.displayName="Tooltip";const Heading=forwardRef(function(s,et){const tt=useStyleConfig("Heading",s),{className:at,...ct}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.h2,{ref:et,className:cx("chakra-heading",s.className),...ct,__css:tt})});Heading.displayName="Heading";const Text=forwardRef(function(s,et){const tt=useStyleConfig("Text",s),{className:at,align:ct,decoration:ut,casing:bt,...wt}=omitThemingProps(s),Et=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:et,className:cx("chakra-text",s.className),...Et,...wt,__css:tt})});Text.displayName="Text";function Icon(a){const{xlinkHref:s,fontSize:et,svgW:tt,svgH:at,boxW:ct,boxH:ut,variant:bt,svgHover:wt,svgFill:Et,onClick:Ft,iconCursor:jt="pointer",isActive:Lt,activeColor:Ut,activeHoverColor:Vt,...Yt}=a,[er,tr]=reactExports.useState(!1),{isApp:nr}=useWindowWidth(),ir=pr=>{nr&&tr(!0),Ft&&Ft(pr)},lr=reactExports.useMemo(()=>{const pr={base:{box:{w:ct||et||"20px",h:ut||et||"20px",bg:"none",_hover:!er&&!nr?{svg:{fill:Lt&&Vt?Vt:wt||"text_caption"}}:void 0},svg:{fill:Lt&&Ut?isColorValue(Ut)?Ut:`var(--chakra-colors-${Ut||"text_paragraph"})`:Et&&isColorValue(Et)?Et:`var(--chakra-colors-${Et||"text_paragraph"})`,width:tt||et||"20px",height:at||et||"20px"}},gray:{box:{w:ut||et||"20px",h:ut||et||"20px",bg:"none",_hover:!er&&!nr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:tt||et||"20px",height:at||et||"20px"}},primary:{box:{w:ut||et||"20px",h:ut||et||"20px",bg:"none",_hover:!er&&!nr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:tt||et||"20px",height:at||et||"20px"}},warning:{box:{w:ut||et||"20px",h:ut||et||"20px",bg:"none",_hover:!er&&!nr?{svg:{fill:"primary_yellow"}}:void 0},svg:{fill:"var(--chakra-colors-primary_yellow)",width:tt||et||"20px",height:at||et||"20px"}},error:{box:{w:ut||et||"20px",h:ut||et||"20px",bg:"none",_hover:!er&&!nr?{svg:{fill:"primary_red"}}:void 0},svg:{fill:"var(--chakra-colors-primary_red)",width:tt||et||"20px",height:at||et||"20px"}},solid:{box:{bg:"checked_bg",w:ct||et||"24px",h:ut||et||"24px",borderRadius:"4px",_hover:!er&&!nr?{svg:{fill:Lt&&Vt?Vt:wt||"text_caption"}}:void 0},svg:{fill:Lt&&Ut?isColorValue(Ut)?Ut:`var(--chakra-colors-${Ut||"text_paragraph"})`:Et&&isColorValue(Et)?Et:`var(--chakra-colors-${Et||"text_paragraph"})`,width:tt||et||"16px",height:at||et||"16px"}},rectangle:{box:{bg:"card_bg",w:ct||et||"28px",h:ut||et||"20px",borderRadius:"8px",_hover:!er&&!nr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-primary)",width:tt||et||"16px",height:at||et||"16px"}},round:{box:{bg:"card_bg",w:ct||et||"20px",h:ut||et||"20px",borderRadius:"50%",border:"1px",borderStyle:"solid",borderColor:"var(--chakra-colors-border)",background:"var(--chakra-colors-bg_secondary)",_hover:!er&&!nr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:tt||et||"16px",height:at||et||"16px"}}};return bt?pr[bt]:pr.base},[bt,tt,at,ct,ut,et,Et,wt,Lt,Ut,Vt]);return jsxRuntimeExports.jsx(Center,{cursor:jt,...lr.box,...Yt,onClick:ir,children:jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",...lr.svg,children:jsxRuntimeExports.jsx("use",{xlinkHref:s})})})}function Block({children:a,...s}){return jsxRuntimeExports.jsx(Box,{as:"div",w:"100%",borderRadius:"20px",border:"1px solid",borderColor:"border",bg:"bg_secondary",p:"20px 16px",...s,children:a})}var depsEqual=function(a,s){return a===void 0&&(a=[]),s===void 0&&(s=[]),isEqual(a,s)},createDeepCompareEffect=function(a){return function(s,et){var tt=reactExports.useRef(),at=reactExports.useRef(0);(et===void 0||!depsEqual(et,tt.current))&&(at.current+=1),tt.current=et,a(s,[at.current])}};const useDeepCompareEffect=createDeepCompareEffect(reactExports.useEffect);function CetusTooltip({children:a,tooltip:s,placement:et,maxW:tt="320px",bodyPadding:at="8px",showTooltip:ct=!0}){const{isApp:ut}=useWindowWidth();return jsxRuntimeExports.jsxs(Popover,{isLazy:!0,trigger:ut?"click":"hover",placement:et,autoFocus:!1,returnFocusOnClose:!1,gutter:4,children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Box,{as:"button",children:a})}),ct&&jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(PopoverContent,{w:"fit-content",maxW:tt,children:jsxRuntimeExports.jsx(PopoverBody,{p:at,fontSize:"12px",w:"fit-content",children:s})})})]})}function SwitchChain({chainsList:a,currentChain:s,onChange:et}){const{isApp:tt}=useWindowWidth();return jsxRuntimeExports.jsx(Menu,{isLazy:!0,children:({isOpen:at})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MenuButton,{as:Button,variant:"outline",h:"36px",borderRadius:"8px",p:tt?"6px":"6px 11px",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Image$1,{src:s.icon,w:"20px",h:"20px",borderRadius:"50%"}),!tt&&jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:s.name})]})})})})}function BackButton({text:a,onClick:s,...et}){const tt=useNavigate();return jsxRuntimeExports.jsxs(Flex,{w:"73px",h:"32px",align:"center",justifyContent:"center",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",fontWeight:"500",onClick:()=>{s?s():tt(-1)},sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},...et,children:[a!=="Back to DEX"&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_descending",fontSize:"16px",transform:"rotate(90deg)"}),jsxRuntimeExports.jsx(Text,{lineHeight:"1",children:a||"Back"})]})}function CheckBox(a){const{checked:s,width:et,height:tt,borderRadius:at,onClick:ct,cursor:ut="pointer"}=a;return jsxRuntimeExports.jsx(Flex,{align:"center",justifyContent:"center",background:"checked_bg",border:"1px solid",borderColor:"border",cursor:ut,width:et||"20px",height:tt||"20px",borderRadius:at||"4px",onClick:ct,sx:{svg:{fill:"primary !important"}},children:s?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check"}):null})}const store$c=(a,s)=>({collectList:[],collectObj:{},setCollectList:et=>{a(()=>({collectList:et,collectObj:Object.fromEntries(et.map(tt=>[tt.coin_type,tt]))}))},trustedTokenList:[],setTrustedList:et=>{a(()=>({trustedTokenList:et}))},filterTokenLoading:!1,setFilterTokenLoading:et=>{a(()=>({filterTokenLoading:et}))},filterTokenList:[],setFilterTokenList:et=>{a(()=>({filterTokenList:et}))},importTokenList:[],setImportTokenList:et=>{a(()=>({importTokenList:et}))},liquidityTrustTokenList:[],setLiquidityTrustTokenList:et=>{a(()=>({liquidityTrustTokenList:et}))},isShowImportBtn:!1,setShowImportBtn:et=>{a(()=>({isShowImportBtn:et}))},trustedListLabel:[],setTrustedListLabel:et=>{a(()=>({trustedListLabel:et}))},tokenModalOpacity:1,setTokenModalOpacity:et=>{a(()=>({tokenModalOpacity:et}))},userCollectList:[],userCollectObj:{},setUserCollectList:et=>{a(()=>({userCollectList:et,userCollectObj:Object.fromEntries(et.map(tt=>[tt.coin_type,tt]))}))}}),useTokenSelectStore=create$3(persist(store$c,{name:"useTokenSelectStore",partialize:a=>{const{importTokenList:s,liquidityTrustTokenList:et}=a;return{importTokenList:s,liquidityTrustTokenList:et}}})),APP_ENV="mainnet",VAULT_FILTER=!0;function getQueryParam(a){const s=new URLSearchParams(window.location.search);return window.location.host==="app.cetus.zone"?"":s.get(a)}let apiUrl="";try{apiUrl=getQueryParam("apiUrl")||""}catch(a){console.log("🚀 ~ error:",a),apiUrl=""}const baseConfigMainnet={fullRpcUrl:"https://fullnode.mainnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigMainnet={...baseConfigMainnet,cetus_config:{package_id:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",published_at:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",version:void 0,config:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}},clmm_pool:{package_id:"0x1eabed72c53feb3805120a081dc15963c204dc8d091542592abaf7a35689b2fb",published_at:"0xc6faf3703b0e8ba9ed06b7851134bbbe7565eb35ff823fd78432baa4cbeaa12e",version:0,config:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",admin_cap_id:"",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"}},integrate:{package_id:"0x996c4d9480708fb8b92aa7acf819fb0497b5ec8e65ba06601cae2fb6db3312c3",published_at:"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:`${apiUrl||"https://api-sui.cetus.zone"}/router_v2`},burnConfigMainnet={...baseConfigMainnet,burn:{package_id:"0x12d73de9a6bc3cb658ec9dc0fe7de2662be1cea5c76c092fcc3606048cdbac27",published_at:"0xb977b00649d3ab8950bcbbafb01fcf32e2e7718eb3133eff2e48c0cef04b1495",manager_id:"0x1d94aa32518d0cb00f9de6ed60d450c9a2090761f326752ffad06b2e9404f845",clmm_global_config:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",clmm_global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",burn_pool_handle:"0xc9aacf74bd7cc8da8820ae28ca4473b7e01c87be19bc35bf81c9c7311e1b299e"}},peripheryConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"},limit_order:{package_id:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",published_at:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",config:{rate_orders_indexer_id:"0xe7fa62b6fc095ed5659b85c735f4322059e1f4616dcf3343adece6e7eb52bf47",rate_orders_indexer_handle:"0x81a95c812cab1c9cc7a1c10446d93d2d9517097211c72b544f7efed33b540bcc",global_config_id:"0xd3403f23a053b52e5c4ef0c2a8be316120c435ec338f2596647b6befd569fd9c",token_list_handle:"0x644a7f05eff2a1b4c266d7ce849c8494fb068a4e29037c7c523e5eb822389d8d",user_orders_indexer_id:"0x7f851ac19e438f97e78a5335eed4f12766a3a0ae94340bab7956a402f0e6212e",user_orders_indexer_handle:"0x84703679acd2eeaee8de4945be79d029ab94966bc22e0f6cfd696032fd31bbc7"}},frams:{package_id:"0x11ea791d82b5742cc8cab0bf7946035c97d9001d7c3803a93f119753da66f526",published_at:"0x585381670c3d7c1f78caeb6c803f449442659743f4047a01b942da08bbfa19f6",config:{global_config_id:"0x21215f2f6de04b57dd87d9be7bb4e15499aec935e36078e2488f36436d64996e",rewarder_manager_id:"0xe0e155a88c77025056da08db5b1701a91b79edb6167462f768e387c3ed6614d5",rewarder_manager_handle:"0xb32e312cbb3367d6f3d2b4e57c9225e903d29b7b9f612dae2ddf75bdeb26a5aa",admin_cap_id:"0xf10fbf1fea5b7aeaa524b87769461a28c5c977613046360093673991f26d886c"}},dca:{package_id:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",published_at:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",config:{admin_cap_id:"0xbcdd7391245dd8d6118a39bc83e6d9a7cfca899d06cc283c1a4cae41b2508574",global_config_id:"0x5db218756f8486fa2ac26fab590c4be4e439be54e6d932c9a30b20573a5b706a",indexer_id:"0x713f0968d042b48f4ec57e4e21bd7e346d06355f59776faedc9497ca990a9f77",user_indexer_id:"0x0ae365f60f2fa692831f9496c9e49b2440c74f14e8eab6f88dbb418c443b5020",in_coin_whitelist_id:"0x845643253afdfef9c4202e7af5e2de374b7f4766f78694903e8b2c0f83dab3ce",out_coin_whitelist_id:"0xe398b24a2b28f1ffd18394eaa78538d6ec8111dcb5fd919424bd3d42764c19f7"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:""}}}}},MainnetTokens={SUI:{id:"0x9258181f5ceac8dbffb7030890243caed69a9599d2886d957a9cb7656af3bdb3",coin_type:"0x2::sui::SUI",decimals:9,description:"",name:"Sui",symbol:"SUI",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",is_trusted:!0,extensions:{rank:"880"}},CETUS:{id:"0x4c0dce55eff2db5419bbd2d239d1aa22b4a400c01bbb648b058a9883989025da",coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",decimals:9,description:"",name:"Cetus Token",symbol:"CETUS",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",is_trusted:!0},xCETUS:{coin_type:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0},USDC:{id:"0x69b7a7c3c200439c1b5f3b19d7d495d5966d5f08de66c69276152f8db3992ec6",coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",decimals:6,description:"",name:"USDC",symbol:"USDC",logo_url:"https://circle.com/usdc-icon",is_trusted:!0,extensions:{rank:"1000"}}},MainnetCreatePoolQuoteTokens=["0x2::sui::SUI","0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x375f70cf2ae4c00bf37117d0c85a2c71545e6ee05c4a5c7d282cd66a4504b068::usdt::USDT","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS","0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI","0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK","0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT","0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI","0x83556891f4a0f233ce7b05cfe7f957d4020492a34f5405b2cb9377d060bef4bf::spring_sui::SPRING_SUI","0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN","0xaafb102dd0902f5055cadecd687fb5b71ca82ef0e0285d90afde828ec58ca96b::btc::BTC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0x356a26eb9e012a68958082340d4c4116e7f55615cf27affcff209cf0ae544f59::wal::WAL"];var lib$3={},SuiPriceServiceConnection$1={},lib$2={},PriceServiceConnection$1={},lib$1={},PriceFeed={};Object.defineProperty(PriceFeed,"__esModule",{value:!0});PriceFeed.Convert=void 0;class Convert{static toPriceFeed(s){return cast(s,r$1("PriceFeed"))}static priceFeedToJson(s){return uncast(s,r$1("PriceFeed"))}static toPrice(s){return cast(s,r$1("Price"))}static priceToJson(s){return uncast(s,r$1("Price"))}static toPriceFeedMetadata(s){return cast(s,r$1("PriceFeedMetadata"))}static priceFeedMetadataToJson(s){return uncast(s,r$1("PriceFeedMetadata"))}}PriceFeed.Convert=Convert;function invalidValue(a,s,et=""){throw Error(et?`Invalid value for key "${et}". Expected type ${JSON.stringify(a)} but got ${JSON.stringify(s)}`:`Invalid value ${JSON.stringify(s)} for type ${JSON.stringify(a)}`)}function jsonToJSProps(a){if(a.jsonToJS===void 0){const s={};a.props.forEach(et=>s[et.json]={key:et.js,typ:et.typ}),a.jsonToJS=s}return a.jsonToJS}function jsToJSONProps(a){if(a.jsToJSON===void 0){const s={};a.props.forEach(et=>s[et.js]={key:et.json,typ:et.typ}),a.jsToJSON=s}return a.jsToJSON}function transform(a,s,et,tt=""){function at(Ft,jt){return typeof Ft==typeof jt?jt:invalidValue(Ft,jt,tt)}function ct(Ft,jt){const Lt=Ft.length;for(let Ut=0;Ut<Lt;Ut++){const Vt=Ft[Ut];try{return transform(jt,Vt,et)}catch{}}return invalidValue(Ft,jt)}function ut(Ft,jt){return Ft.indexOf(jt)!==-1?jt:invalidValue(Ft,jt)}function bt(Ft,jt){return Array.isArray(jt)?jt.map(Lt=>transform(Lt,Ft,et)):invalidValue("array",jt)}function wt(Ft){if(Ft===null)return null;const jt=new Date(Ft);return isNaN(jt.valueOf())?invalidValue("Date",Ft):jt}function Et(Ft,jt,Lt){if(Lt===null||typeof Lt!="object"||Array.isArray(Lt))return invalidValue("object",Lt);const Ut={};return Object.getOwnPropertyNames(Ft).forEach(Vt=>{const Yt=Ft[Vt],er=Object.prototype.hasOwnProperty.call(Lt,Vt)?Lt[Vt]:void 0;Ut[Yt.key]=transform(er,Yt.typ,et,Yt.key)}),Object.getOwnPropertyNames(Lt).forEach(Vt=>{Object.prototype.hasOwnProperty.call(Ft,Vt)||(Ut[Vt]=transform(Lt[Vt],jt,et,Vt))}),Ut}if(s==="any")return a;if(s===null)return a===null?a:invalidValue(s,a);if(s===!1)return invalidValue(s,a);for(;typeof s=="object"&&s.ref!==void 0;)s=typeMap[s.ref];return Array.isArray(s)?ut(s,a):typeof s=="object"?s.hasOwnProperty("unionMembers")?ct(s.unionMembers,a):s.hasOwnProperty("arrayItems")?bt(s.arrayItems,a):s.hasOwnProperty("props")?Et(et(s),s.additional,a):invalidValue(s,a):s===Date&&typeof a!="number"?wt(a):at(s,a)}function cast(a,s){return transform(a,s,jsonToJSProps)}function uncast(a,s){return transform(a,s,jsToJSONProps)}function u$1(...a){return{unionMembers:a}}function o(a,s){return{props:a,additional:s}}function r$1(a){return{ref:a}}const typeMap={PriceFeed:o([{json:"ema_price",js:"ema_price",typ:r$1("Price")},{json:"id",js:"id",typ:""},{json:"metadata",js:"metadata",typ:u$1(void 0,r$1("PriceFeedMetadata"))},{json:"price",js:"price",typ:r$1("Price")},{json:"vaa",js:"vaa",typ:u$1(void 0,"")}],"any"),Price:o([{json:"conf",js:"conf",typ:""},{json:"expo",js:"expo",typ:0},{json:"price",js:"price",typ:""},{json:"publish_time",js:"publish_time",typ:0}],"any"),PriceFeedMetadata:o([{json:"attestation_time",js:"attestation_time",typ:u$1(void 0,0)},{json:"emitter_chain",js:"emitter_chain",typ:0},{json:"prev_publish_time",js:"prev_publish_time",typ:u$1(void 0,0)},{json:"price_service_receive_time",js:"price_service_receive_time",typ:u$1(void 0,0)},{json:"sequence_number",js:"sequence_number",typ:u$1(void 0,0)},{json:"slot",js:"slot",typ:u$1(void 0,0)}],"any")};var AccumulatorUpdateData={},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(AccumulatorUpdateData,"__esModule",{value:!0});AccumulatorUpdateData.parseAccumulatorUpdateData=AccumulatorUpdateData.sliceAccumulatorUpdateData=AccumulatorUpdateData.parseTwapMessage=AccumulatorUpdateData.parsePriceFeedMessage=AccumulatorUpdateData.isAccumulatorUpdateData=void 0;const bn_js_1=__importDefault$2(bnExports),ACCUMULATOR_MAGIC="504e4155",MAJOR_VERSION=1,MINOR_VERSION=0,KECCAK160_HASH_SIZE=20,PRICE_FEED_MESSAGE_VARIANT=0,TWAP_MESSAGE_VARIANT=1;function isAccumulatorUpdateData(a){return a.toString("hex").slice(0,8)===ACCUMULATOR_MAGIC&&a[4]===MAJOR_VERSION&&a[5]===MINOR_VERSION}AccumulatorUpdateData.isAccumulatorUpdateData=isAccumulatorUpdateData;function parsePriceFeedMessage(a){let s=0;if(a.readUInt8(s)!==PRICE_FEED_MESSAGE_VARIANT)throw new Error("Not a price feed message");s+=1;const tt=a.subarray(s,s+32);s+=32;const at=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const ct=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const ut=a.readInt32BE(s);s+=4;const bt=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const wt=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Et=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Ft=new bn_js_1.default(a.subarray(s,s+8),"be");return s+=8,{feedId:tt,price:at,confidence:ct,exponent:ut,publishTime:bt,prevPublishTime:wt,emaPrice:Et,emaConf:Ft}}AccumulatorUpdateData.parsePriceFeedMessage=parsePriceFeedMessage;function parseTwapMessage(a){let s=0;if(a.readUInt8(s)!==TWAP_MESSAGE_VARIANT)throw new Error("Not a twap message");s+=1;const tt=a.subarray(s,s+32);s+=32;const at=new bn_js_1.default(a.subarray(s,s+16),"be");s+=16;const ct=new bn_js_1.default(a.subarray(s,s+16),"be");s+=16;const ut=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const bt=a.readInt32BE(s);s+=4;const wt=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Et=new bn_js_1.default(a.subarray(s,s+8),"be");s+=8;const Ft=new bn_js_1.default(a.subarray(s,s+8),"be");return s+=8,{feedId:tt,cumulativePrice:at,cumulativeConf:ct,numDownSlots:ut,exponent:bt,publishTime:wt,prevPublishTime:Et,publishSlot:Ft}}AccumulatorUpdateData.parseTwapMessage=parseTwapMessage;function sliceAccumulatorUpdateData(a,s,et){if(!isAccumulatorUpdateData(a))throw new Error("Invalid accumulator message");let tt=6;const at=a.readUint8(tt);tt+=1+at,tt+=1;const ct=a.readUint16BE(tt);tt+=2,tt+=ct;const ut=tt,bt=[],wt=a.readUInt8(tt);tt+=1;for(let Ft=0;Ft<wt;Ft++){const jt=tt,Lt=a.readUint16BE(tt);tt+=2,tt+=Lt;const Ut=a.readUInt8(tt);tt+=1,tt+=KECCAK160_HASH_SIZE*Ut,bt.push(a.subarray(jt,tt))}if(tt!==a.length)throw new Error("Didn't reach the end of the message");const Et=bt.slice(s,et);return Buffer$1.concat([a.subarray(0,ut),Buffer$1.from([Et.length]),...bt.slice(s,et)])}AccumulatorUpdateData.sliceAccumulatorUpdateData=sliceAccumulatorUpdateData;function parseAccumulatorUpdateData(a){if(!isAccumulatorUpdateData(a))throw new Error("Invalid accumulator message");let s=6;const et=a.readUint8(s);s+=1+et,s+=1;const tt=a.readUint16BE(s);s+=2;const at=a.subarray(s,s+tt);s+=tt;const ct=a.readUInt8(s),ut=[];s+=1;for(let bt=0;bt<ct;bt++){const wt=a.readUint16BE(s);s+=2;const Et=a.subarray(s,s+wt);s+=wt;const Ft=a.readUInt8(s);s+=1;const jt=[];for(let Lt=0;Lt<Ft;Lt++)jt.push(Array.from(a.subarray(s,s+KECCAK160_HASH_SIZE))),s+=KECCAK160_HASH_SIZE;ut.push({message:Et,proof:jt})}if(s!==a.length)throw new Error("Didn't reach the end of the message");return{vaa:at,updates:ut}}AccumulatorUpdateData.parseAccumulatorUpdateData=parseAccumulatorUpdateData;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PriceFeed=a.PriceFeedMetadata=a.Price=a.parseTwapMessage=a.parsePriceFeedMessage=a.parseAccumulatorUpdateData=a.sliceAccumulatorUpdateData=a.isAccumulatorUpdateData=void 0;const s=PriceFeed;var et=AccumulatorUpdateData;Object.defineProperty(a,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return et.isAccumulatorUpdateData}}),Object.defineProperty(a,"sliceAccumulatorUpdateData",{enumerable:!0,get:function(){return et.sliceAccumulatorUpdateData}}),Object.defineProperty(a,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return et.parseAccumulatorUpdateData}}),Object.defineProperty(a,"parsePriceFeedMessage",{enumerable:!0,get:function(){return et.parsePriceFeedMessage}}),Object.defineProperty(a,"parseTwapMessage",{enumerable:!0,get:function(){return et.parseTwapMessage}});class tt{constructor(bt){dn(this,"conf");dn(this,"expo");dn(this,"price");dn(this,"publishTime");this.conf=bt.conf,this.expo=bt.expo,this.price=bt.price,this.publishTime=bt.publishTime}getPriceAsNumberUnchecked(){return Number(this.price)*10**this.expo}getConfAsNumberUnchecked(){return Number(this.conf)*10**this.expo}static fromJson(bt){const wt=s.Convert.toPrice(bt);return new tt({conf:wt.conf,expo:wt.expo,price:wt.price,publishTime:wt.publish_time})}toJson(){const bt={conf:this.conf,expo:this.expo,price:this.price,publish_time:this.publishTime};return s.Convert.priceToJson(bt)}}a.Price=tt;class at{constructor(bt){dn(this,"attestationTime");dn(this,"emitterChain");dn(this,"priceServiceReceiveTime");dn(this,"sequenceNumber");dn(this,"slot");dn(this,"prevPublishTime");this.attestationTime=bt.attestationTime,this.emitterChain=bt.emitterChain,this.priceServiceReceiveTime=bt.receiveTime,this.sequenceNumber=bt.sequenceNumber,this.slot=bt.slot,this.prevPublishTime=bt.prevPublishTime}static fromJson(bt){if(bt===void 0)return;const wt=s.Convert.toPriceFeedMetadata(bt);return new at({attestationTime:wt.attestation_time,emitterChain:wt.emitter_chain,receiveTime:wt.price_service_receive_time,sequenceNumber:wt.sequence_number,slot:wt.slot,prevPublishTime:wt.prev_publish_time})}toJson(){const bt={attestation_time:this.attestationTime,emitter_chain:this.emitterChain,price_service_receive_time:this.priceServiceReceiveTime,sequence_number:this.sequenceNumber,slot:this.slot,prev_publish_time:this.prevPublishTime};return s.Convert.priceFeedMetadataToJson(bt)}}a.PriceFeedMetadata=at;let ct=class Ip{constructor(bt){dn(this,"emaPrice");dn(this,"id");dn(this,"metadata");dn(this,"vaa");dn(this,"price");this.emaPrice=bt.emaPrice,this.id=bt.id,this.metadata=bt.metadata,this.vaa=bt.vaa,this.price=bt.price}static fromJson(bt){const wt=s.Convert.toPriceFeed(bt);return new Ip({emaPrice:tt.fromJson(wt.ema_price),id:wt.id,metadata:at.fromJson(wt.metadata),vaa:wt.vaa,price:tt.fromJson(wt.price)})}toJson(){var wt;const bt={ema_price:this.emaPrice.toJson(),id:this.id,metadata:(wt=this.metadata)==null?void 0:wt.toJson(),price:this.price.toJson()};return s.Convert.priceFeedToJson(bt)}getPriceUnchecked(){return this.price}getEmaPriceUnchecked(){return this.emaPrice}getPriceNoOlderThan(bt){const wt=this.getPriceUnchecked(),Et=Math.floor(Date.now()/1e3);if(!(Math.abs(Et-wt.publishTime)>bt))return wt}getEmaPriceNoOlderThan(bt){const wt=this.getEmaPriceUnchecked(),Et=Math.floor(Date.now()/1e3);if(!(Math.abs(Et-wt.publishTime)>bt))return wt}getMetadata(){return this.metadata}getVAA(){return this.vaa}};a.PriceFeed=ct})(lib$1);function bind(a,s){return function(){return a.apply(s,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(a=>s=>{const et=toString$1.call(s);return a[et]||(a[et]=et.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=a=>(a=a.toLowerCase(),s=>kindOf(s)===a),typeOfTest=a=>s=>typeof s===a,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&isFunction$1(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(a){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(a):s=a&&a.buffer&&isArrayBuffer(a.buffer),s}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=a=>a!==null&&typeof a=="object",isBoolean=a=>a===!0||a===!1,isPlainObject=a=>{if(kindOf(a)!=="object")return!1;const s=getPrototypeOf(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=a=>isObject$2(a)&&isFunction$1(a.pipe),isFormData=a=>{let s;return a&&(typeof FormData=="function"&&a instanceof FormData||isFunction$1(a.append)&&((s=kindOf(a))==="formdata"||s==="object"&&isFunction$1(a.toString)&&a.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest$1,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(a,s,{allOwnKeys:et=!1}={}){if(a===null||typeof a>"u")return;let tt,at;if(typeof a!="object"&&(a=[a]),isArray$1(a))for(tt=0,at=a.length;tt<at;tt++)s.call(null,a[tt],tt,a);else{const ct=et?Object.getOwnPropertyNames(a):Object.keys(a),ut=ct.length;let bt;for(tt=0;tt<ut;tt++)bt=ct[tt],s.call(null,a[bt],bt,a)}}function findKey(a,s){s=s.toLowerCase();const et=Object.keys(a);let tt=et.length,at;for(;tt-- >0;)if(at=et[tt],s===at.toLowerCase())return at;return null}const _global$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,isContextDefined=a=>!isUndefined(a)&&a!==_global$1;function merge$1(){const{caseless:a}=isContextDefined(this)&&this||{},s={},et=(tt,at)=>{const ct=a&&findKey(s,at)||at;isPlainObject(s[ct])&&isPlainObject(tt)?s[ct]=merge$1(s[ct],tt):isPlainObject(tt)?s[ct]=merge$1({},tt):isArray$1(tt)?s[ct]=tt.slice():s[ct]=tt};for(let tt=0,at=arguments.length;tt<at;tt++)arguments[tt]&&forEach$1(arguments[tt],et);return s}const extend=(a,s,et,{allOwnKeys:tt}={})=>(forEach$1(s,(at,ct)=>{et&&isFunction$1(at)?a[ct]=bind(at,et):a[ct]=at},{allOwnKeys:tt}),a),stripBOM=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),inherits=(a,s,et,tt)=>{a.prototype=Object.create(s.prototype,tt),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:s.prototype}),et&&Object.assign(a.prototype,et)},toFlatObject=(a,s,et,tt)=>{let at,ct,ut;const bt={};if(s=s||{},a==null)return s;do{for(at=Object.getOwnPropertyNames(a),ct=at.length;ct-- >0;)ut=at[ct],(!tt||tt(ut,a,s))&&!bt[ut]&&(s[ut]=a[ut],bt[ut]=!0);a=et!==!1&&getPrototypeOf(a)}while(a&&(!et||et(a,s))&&a!==Object.prototype);return s},endsWith=(a,s,et)=>{a=String(a),(et===void 0||et>a.length)&&(et=a.length),et-=s.length;const tt=a.indexOf(s,et);return tt!==-1&&tt===et},toArray=a=>{if(!a)return null;if(isArray$1(a))return a;let s=a.length;if(!isNumber(s))return null;const et=new Array(s);for(;s-- >0;)et[s]=a[s];return et},isTypedArray$2=(a=>s=>a&&s instanceof a)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(a,s)=>{const tt=(a&&a[Symbol.iterator]).call(a);let at;for(;(at=tt.next())&&!at.done;){const ct=at.value;s.call(a,ct[0],ct[1])}},matchAll=(a,s)=>{let et;const tt=[];for(;(et=a.exec(s))!==null;)tt.push(et);return tt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(et,tt,at){return tt.toUpperCase()+at}),hasOwnProperty$a=(({hasOwnProperty:a})=>(s,et)=>a.call(s,et))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(a,s)=>{const et=Object.getOwnPropertyDescriptors(a),tt={};forEach$1(et,(at,ct)=>{let ut;(ut=s(at,ct,a))!==!1&&(tt[ct]=ut||at)}),Object.defineProperties(a,tt)},freezeMethods=a=>{reduceDescriptors(a,(s,et)=>{if(isFunction$1(a)&&["arguments","caller","callee"].indexOf(et)!==-1)return!1;const tt=a[et];if(isFunction$1(tt)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+et+"'")})}})},toObjectSet=(a,s)=>{const et={},tt=at=>{at.forEach(ct=>{et[ct]=!0})};return isArray$1(a)?tt(a):tt(String(a).split(s)),et},noop$1=()=>{},toFiniteNumber=(a,s)=>a!=null&&Number.isFinite(a=+a)?a:s;function isSpecCompliantForm(a){return!!(a&&isFunction$1(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const toJSONObject=a=>{const s=new Array(10),et=(tt,at)=>{if(isObject$2(tt)){if(s.indexOf(tt)>=0)return;if(!("toJSON"in tt)){s[at]=tt;const ct=isArray$1(tt)?[]:{};return forEach$1(tt,(ut,bt)=>{const wt=et(ut,at+1);!isUndefined(wt)&&(ct[bt]=wt)}),s[at]=void 0,ct}}return tt};return et(a,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=a=>a&&(isObject$2(a)||isFunction$1(a))&&isFunction$1(a.then)&&isFunction$1(a.catch),_setImmediate=((a,s)=>a?setImmediate:s?((et,tt)=>(_global$1.addEventListener("message",({source:at,data:ct})=>{at===_global$1&&ct===et&&tt.length&&tt.shift()()},!1),at=>{tt.push(at),_global$1.postMessage(et,"*")}))(`axios@${Math.random()}`,[]):et=>setTimeout(et))(typeof setImmediate=="function",isFunction$1(_global$1.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global$1):typeof process$1<"u"&&process$1.nextTick||_setImmediate;var utils$1$1={isArray:isArray$1,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$2,isPlainObject,isReadableStream,isRequest:isRequest$1,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$2,isFileList,forEach:forEach$1,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$a,hasOwnProp:hasOwnProperty$a,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global$1,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(a,s,et,tt,at){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",s&&(this.code=s),et&&(this.config=et),tt&&(this.request=tt),at&&(this.response=at,this.status=at.status?at.status:null)}utils$1$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{descriptors[a]={value:a}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(a,s,et,tt,at,ct)=>{const ut=Object.create(prototype$1);return utils$1$1.toFlatObject(a,ut,function(wt){return wt!==Error.prototype},bt=>bt!=="isAxiosError"),AxiosError.call(ut,a.message,s,et,tt,at),ut.cause=a,ut.name=a.name,ct&&Object.assign(ut,ct),ut};var httpAdapter=null;function isVisitable(a){return utils$1$1.isPlainObject(a)||utils$1$1.isArray(a)}function removeBrackets(a){return utils$1$1.endsWith(a,"[]")?a.slice(0,-2):a}function renderKey(a,s,et){return a?a.concat(s).map(function(at,ct){return at=removeBrackets(at),!et&&ct?"["+at+"]":at}).join(et?".":""):s}function isFlatArray(a){return utils$1$1.isArray(a)&&!a.some(isVisitable)}const predicates=utils$1$1.toFlatObject(utils$1$1,{},null,function(s){return/^is[A-Z]/.test(s)});function toFormData(a,s,et){if(!utils$1$1.isObject(a))throw new TypeError("target must be an object");s=s||new FormData,et=utils$1$1.toFlatObject(et,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Yt,er){return!utils$1$1.isUndefined(er[Yt])});const tt=et.metaTokens,at=et.visitor||Ft,ct=et.dots,ut=et.indexes,wt=(et.Blob||typeof Blob<"u"&&Blob)&&utils$1$1.isSpecCompliantForm(s);if(!utils$1$1.isFunction(at))throw new TypeError("visitor must be a function");function Et(Vt){if(Vt===null)return"";if(utils$1$1.isDate(Vt))return Vt.toISOString();if(!wt&&utils$1$1.isBlob(Vt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1$1.isArrayBuffer(Vt)||utils$1$1.isTypedArray(Vt)?wt&&typeof Blob=="function"?new Blob([Vt]):Buffer$1.from(Vt):Vt}function Ft(Vt,Yt,er){let tr=Vt;if(Vt&&!er&&typeof Vt=="object"){if(utils$1$1.endsWith(Yt,"{}"))Yt=tt?Yt:Yt.slice(0,-2),Vt=JSON.stringify(Vt);else if(utils$1$1.isArray(Vt)&&isFlatArray(Vt)||(utils$1$1.isFileList(Vt)||utils$1$1.endsWith(Yt,"[]"))&&(tr=utils$1$1.toArray(Vt)))return Yt=removeBrackets(Yt),tr.forEach(function(ir,lr){!(utils$1$1.isUndefined(ir)||ir===null)&&s.append(ut===!0?renderKey([Yt],lr,ct):ut===null?Yt:Yt+"[]",Et(ir))}),!1}return isVisitable(Vt)?!0:(s.append(renderKey(er,Yt,ct),Et(Vt)),!1)}const jt=[],Lt=Object.assign(predicates,{defaultVisitor:Ft,convertValue:Et,isVisitable});function Ut(Vt,Yt){if(!utils$1$1.isUndefined(Vt)){if(jt.indexOf(Vt)!==-1)throw Error("Circular reference detected in "+Yt.join("."));jt.push(Vt),utils$1$1.forEach(Vt,function(tr,nr){(!(utils$1$1.isUndefined(tr)||tr===null)&&at.call(s,tr,utils$1$1.isString(nr)?nr.trim():nr,Yt,Lt))===!0&&Ut(tr,Yt?Yt.concat(nr):[nr])}),jt.pop()}}if(!utils$1$1.isObject(a))throw new TypeError("data must be an object");return Ut(a),s}function encode$1(a){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(tt){return s[tt]})}function AxiosURLSearchParams(a,s){this._pairs=[],a&&toFormData(a,this,s)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(s,et){this._pairs.push([s,et])};prototype.toString=function(s){const et=s?function(tt){return s.call(this,tt,encode$1)}:encode$1;return this._pairs.map(function(at){return et(at[0])+"="+et(at[1])},"").join("&")};function encode(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(a,s,et){if(!s)return a;const tt=et&&et.encode||encode;utils$1$1.isFunction(et)&&(et={serialize:et});const at=et&&et.serialize;let ct;if(at?ct=at(s,et):ct=utils$1$1.isURLSearchParams(s)?s.toString():new AxiosURLSearchParams(s,et).toString(tt),ct){const ut=a.indexOf("#");ut!==-1&&(a=a.slice(0,ut)),a+=(a.indexOf("?")===-1?"?":"&")+ct}return a}class InterceptorManager{constructor(){this.handlers=[]}use(s,et,tt){return this.handlers.push({fulfilled:s,rejected:et,synchronous:tt?tt.synchronous:!1,runWhen:tt?tt.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){utils$1$1.forEach(this.handlers,function(tt){tt!==null&&s(tt)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost";var utils$6=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv,navigator:_navigator,origin}),platform={...utils$6,...platform$1};function toURLEncodedForm(a,s){return toFormData(a,new platform.classes.URLSearchParams,Object.assign({visitor:function(et,tt,at,ct){return platform.isNode&&utils$1$1.isBuffer(et)?(this.append(tt,et.toString("base64")),!1):ct.defaultVisitor.apply(this,arguments)}},s))}function parsePropPath(a){return utils$1$1.matchAll(/\w+|\[(\w*)]/g,a).map(s=>s[0]==="[]"?"":s[1]||s[0])}function arrayToObject(a){const s={},et=Object.keys(a);let tt;const at=et.length;let ct;for(tt=0;tt<at;tt++)ct=et[tt],s[ct]=a[ct];return s}function formDataToJSON(a){function s(et,tt,at,ct){let ut=et[ct++];if(ut==="__proto__")return!0;const bt=Number.isFinite(+ut),wt=ct>=et.length;return ut=!ut&&utils$1$1.isArray(at)?at.length:ut,wt?(utils$1$1.hasOwnProp(at,ut)?at[ut]=[at[ut],tt]:at[ut]=tt,!bt):((!at[ut]||!utils$1$1.isObject(at[ut]))&&(at[ut]=[]),s(et,tt,at[ut],ct)&&utils$1$1.isArray(at[ut])&&(at[ut]=arrayToObject(at[ut])),!bt)}if(utils$1$1.isFormData(a)&&utils$1$1.isFunction(a.entries)){const et={};return utils$1$1.forEachEntry(a,(tt,at)=>{s(parsePropPath(tt),at,et,0)}),et}return null}function stringifySafely(a,s,et){if(utils$1$1.isString(a))try{return(s||JSON.parse)(a),utils$1$1.trim(a)}catch(tt){if(tt.name!=="SyntaxError")throw tt}return(et||JSON.stringify)(a)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(s,et){const tt=et.getContentType()||"",at=tt.indexOf("application/json")>-1,ct=utils$1$1.isObject(s);if(ct&&utils$1$1.isHTMLForm(s)&&(s=new FormData(s)),utils$1$1.isFormData(s))return at?JSON.stringify(formDataToJSON(s)):s;if(utils$1$1.isArrayBuffer(s)||utils$1$1.isBuffer(s)||utils$1$1.isStream(s)||utils$1$1.isFile(s)||utils$1$1.isBlob(s)||utils$1$1.isReadableStream(s))return s;if(utils$1$1.isArrayBufferView(s))return s.buffer;if(utils$1$1.isURLSearchParams(s))return et.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let bt;if(ct){if(tt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(s,this.formSerializer).toString();if((bt=utils$1$1.isFileList(s))||tt.indexOf("multipart/form-data")>-1){const wt=this.env&&this.env.FormData;return toFormData(bt?{"files[]":s}:s,wt&&new wt,this.formSerializer)}}return ct||at?(et.setContentType("application/json",!1),stringifySafely(s)):s}],transformResponse:[function(s){const et=this.transitional||defaults.transitional,tt=et&&et.forcedJSONParsing,at=this.responseType==="json";if(utils$1$1.isResponse(s)||utils$1$1.isReadableStream(s))return s;if(s&&utils$1$1.isString(s)&&(tt&&!this.responseType||at)){const ut=!(et&&et.silentJSONParsing)&&at;try{return JSON.parse(s)}catch(bt){if(ut)throw bt.name==="SyntaxError"?AxiosError.from(bt,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):bt}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1$1.forEach(["delete","get","head","post","put","patch"],a=>{defaults.headers[a]={}});var defaults$1=defaults;const ignoreDuplicateOf=utils$1$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=a=>{const s={};let et,tt,at;return a&&a.split(`
`).forEach(function(ut){at=ut.indexOf(":"),et=ut.substring(0,at).trim().toLowerCase(),tt=ut.substring(at+1).trim(),!(!et||s[et]&&ignoreDuplicateOf[et])&&(et==="set-cookie"?s[et]?s[et].push(tt):s[et]=[tt]:s[et]=s[et]?s[et]+", "+tt:tt)}),s};const $internals=Symbol("internals");function normalizeHeader(a){return a&&String(a).trim().toLowerCase()}function normalizeValue(a){return a===!1||a==null?a:utils$1$1.isArray(a)?a.map(normalizeValue):String(a)}function parseTokens(a){const s=Object.create(null),et=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let tt;for(;tt=et.exec(a);)s[tt[1]]=tt[2];return s}const isValidHeaderName=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function matchHeaderValue(a,s,et,tt,at){if(utils$1$1.isFunction(tt))return tt.call(this,s,et);if(at&&(s=et),!!utils$1$1.isString(s)){if(utils$1$1.isString(tt))return s.indexOf(tt)!==-1;if(utils$1$1.isRegExp(tt))return tt.test(s)}}function formatHeader(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,et,tt)=>et.toUpperCase()+tt)}function buildAccessors(a,s){const et=utils$1$1.toCamelCase(" "+s);["get","set","has"].forEach(tt=>{Object.defineProperty(a,tt+et,{value:function(at,ct,ut){return this[tt].call(this,s,at,ct,ut)},configurable:!0})})}class AxiosHeaders{constructor(s){s&&this.set(s)}set(s,et,tt){const at=this;function ct(bt,wt,Et){const Ft=normalizeHeader(wt);if(!Ft)throw new Error("header name must be a non-empty string");const jt=utils$1$1.findKey(at,Ft);(!jt||at[jt]===void 0||Et===!0||Et===void 0&&at[jt]!==!1)&&(at[jt||wt]=normalizeValue(bt))}const ut=(bt,wt)=>utils$1$1.forEach(bt,(Et,Ft)=>ct(Et,Ft,wt));if(utils$1$1.isPlainObject(s)||s instanceof this.constructor)ut(s,et);else if(utils$1$1.isString(s)&&(s=s.trim())&&!isValidHeaderName(s))ut(parseHeaders(s),et);else if(utils$1$1.isHeaders(s))for(const[bt,wt]of s.entries())ct(wt,bt,tt);else s!=null&&ct(et,s,tt);return this}get(s,et){if(s=normalizeHeader(s),s){const tt=utils$1$1.findKey(this,s);if(tt){const at=this[tt];if(!et)return at;if(et===!0)return parseTokens(at);if(utils$1$1.isFunction(et))return et.call(this,at,tt);if(utils$1$1.isRegExp(et))return et.exec(at);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,et){if(s=normalizeHeader(s),s){const tt=utils$1$1.findKey(this,s);return!!(tt&&this[tt]!==void 0&&(!et||matchHeaderValue(this,this[tt],tt,et)))}return!1}delete(s,et){const tt=this;let at=!1;function ct(ut){if(ut=normalizeHeader(ut),ut){const bt=utils$1$1.findKey(tt,ut);bt&&(!et||matchHeaderValue(tt,tt[bt],bt,et))&&(delete tt[bt],at=!0)}}return utils$1$1.isArray(s)?s.forEach(ct):ct(s),at}clear(s){const et=Object.keys(this);let tt=et.length,at=!1;for(;tt--;){const ct=et[tt];(!s||matchHeaderValue(this,this[ct],ct,s,!0))&&(delete this[ct],at=!0)}return at}normalize(s){const et=this,tt={};return utils$1$1.forEach(this,(at,ct)=>{const ut=utils$1$1.findKey(tt,ct);if(ut){et[ut]=normalizeValue(at),delete et[ct];return}const bt=s?formatHeader(ct):String(ct).trim();bt!==ct&&delete et[ct],et[bt]=normalizeValue(at),tt[bt]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const et=Object.create(null);return utils$1$1.forEach(this,(tt,at)=>{tt!=null&&tt!==!1&&(et[at]=s&&utils$1$1.isArray(tt)?tt.join(", "):tt)}),et}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,et])=>s+": "+et).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...et){const tt=new this(s);return et.forEach(at=>tt.set(at)),tt}static accessor(s){const tt=(this[$internals]=this[$internals]={accessors:{}}).accessors,at=this.prototype;function ct(ut){const bt=normalizeHeader(ut);tt[bt]||(buildAccessors(at,ut),tt[bt]=!0)}return utils$1$1.isArray(s)?s.forEach(ct):ct(s),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1$1.reduceDescriptors(AxiosHeaders.prototype,({value:a},s)=>{let et=s[0].toUpperCase()+s.slice(1);return{get:()=>a,set(tt){this[et]=tt}}});utils$1$1.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(a,s){const et=this||defaults$1,tt=s||et,at=AxiosHeaders$1.from(tt.headers);let ct=tt.data;return utils$1$1.forEach(a,function(bt){ct=bt.call(et,ct,at.normalize(),s?s.status:void 0)}),at.normalize(),ct}function isCancel(a){return!!(a&&a.__CANCEL__)}function CanceledError(a,s,et){AxiosError.call(this,a??"canceled",AxiosError.ERR_CANCELED,s,et),this.name="CanceledError"}utils$1$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(a,s,et){const tt=et.config.validateStatus;!et.status||!tt||tt(et.status)?a(et):s(new AxiosError("Request failed with status code "+et.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(et.status/100)-4],et.config,et.request,et))}function parseProtocol(a){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return s&&s[1]||""}function speedometer(a,s){a=a||10;const et=new Array(a),tt=new Array(a);let at=0,ct=0,ut;return s=s!==void 0?s:1e3,function(wt){const Et=Date.now(),Ft=tt[ct];ut||(ut=Et),et[at]=wt,tt[at]=Et;let jt=ct,Lt=0;for(;jt!==at;)Lt+=et[jt++],jt=jt%a;if(at=(at+1)%a,at===ct&&(ct=(ct+1)%a),Et-ut<s)return;const Ut=Ft&&Et-Ft;return Ut?Math.round(Lt*1e3/Ut):void 0}}function throttle(a,s){let et=0,tt=1e3/s,at,ct;const ut=(Et,Ft=Date.now())=>{et=Ft,at=null,ct&&(clearTimeout(ct),ct=null),a.apply(null,Et)};return[(...Et)=>{const Ft=Date.now(),jt=Ft-et;jt>=tt?ut(Et,Ft):(at=Et,ct||(ct=setTimeout(()=>{ct=null,ut(at)},tt-jt)))},()=>at&&ut(at)]}const progressEventReducer=(a,s,et=3)=>{let tt=0;const at=speedometer(50,250);return throttle(ct=>{const ut=ct.loaded,bt=ct.lengthComputable?ct.total:void 0,wt=ut-tt,Et=at(wt),Ft=ut<=bt;tt=ut;const jt={loaded:ut,total:bt,progress:bt?ut/bt:void 0,bytes:wt,rate:Et||void 0,estimated:Et&&bt&&Ft?(bt-ut)/Et:void 0,event:ct,lengthComputable:bt!=null,[s?"download":"upload"]:!0};a(jt)},et)},progressEventDecorator=(a,s)=>{const et=a!=null;return[tt=>s[0]({lengthComputable:et,total:a,loaded:tt}),s[1]]},asyncDecorator=a=>(...s)=>utils$1$1.asap(()=>a(...s));var isURLSameOrigin=platform.hasStandardBrowserEnv?((a,s)=>et=>(et=new URL(et,platform.origin),a.protocol===et.protocol&&a.host===et.host&&(s||a.port===et.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(a,s,et,tt,at,ct){const ut=[a+"="+encodeURIComponent(s)];utils$1$1.isNumber(et)&&ut.push("expires="+new Date(et).toGMTString()),utils$1$1.isString(tt)&&ut.push("path="+tt),utils$1$1.isString(at)&&ut.push("domain="+at),ct===!0&&ut.push("secure"),document.cookie=ut.join("; ")},read(a){const s=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function combineURLs(a,s){return s?a.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):a}function buildFullPath(a,s,et){let tt=!isAbsoluteURL(s);return a&&(tt||et==!1)?combineURLs(a,s):s}const headersToObject=a=>a instanceof AxiosHeaders$1?{...a}:a;function mergeConfig(a,s){s=s||{};const et={};function tt(Et,Ft,jt,Lt){return utils$1$1.isPlainObject(Et)&&utils$1$1.isPlainObject(Ft)?utils$1$1.merge.call({caseless:Lt},Et,Ft):utils$1$1.isPlainObject(Ft)?utils$1$1.merge({},Ft):utils$1$1.isArray(Ft)?Ft.slice():Ft}function at(Et,Ft,jt,Lt){if(utils$1$1.isUndefined(Ft)){if(!utils$1$1.isUndefined(Et))return tt(void 0,Et,jt,Lt)}else return tt(Et,Ft,jt,Lt)}function ct(Et,Ft){if(!utils$1$1.isUndefined(Ft))return tt(void 0,Ft)}function ut(Et,Ft){if(utils$1$1.isUndefined(Ft)){if(!utils$1$1.isUndefined(Et))return tt(void 0,Et)}else return tt(void 0,Ft)}function bt(Et,Ft,jt){if(jt in s)return tt(Et,Ft);if(jt in a)return tt(void 0,Et)}const wt={url:ct,method:ct,data:ct,baseURL:ut,transformRequest:ut,transformResponse:ut,paramsSerializer:ut,timeout:ut,timeoutMessage:ut,withCredentials:ut,withXSRFToken:ut,adapter:ut,responseType:ut,xsrfCookieName:ut,xsrfHeaderName:ut,onUploadProgress:ut,onDownloadProgress:ut,decompress:ut,maxContentLength:ut,maxBodyLength:ut,beforeRedirect:ut,transport:ut,httpAgent:ut,httpsAgent:ut,cancelToken:ut,socketPath:ut,responseEncoding:ut,validateStatus:bt,headers:(Et,Ft,jt)=>at(headersToObject(Et),headersToObject(Ft),jt,!0)};return utils$1$1.forEach(Object.keys(Object.assign({},a,s)),function(Ft){const jt=wt[Ft]||at,Lt=jt(a[Ft],s[Ft],Ft);utils$1$1.isUndefined(Lt)&&jt!==bt||(et[Ft]=Lt)}),et}var resolveConfig=a=>{const s=mergeConfig({},a);let{data:et,withXSRFToken:tt,xsrfHeaderName:at,xsrfCookieName:ct,headers:ut,auth:bt}=s;s.headers=ut=AxiosHeaders$1.from(ut),s.url=buildURL(buildFullPath(s.baseURL,s.url,s.allowAbsoluteUrls),a.params,a.paramsSerializer),bt&&ut.set("Authorization","Basic "+btoa((bt.username||"")+":"+(bt.password?unescape(encodeURIComponent(bt.password)):"")));let wt;if(utils$1$1.isFormData(et)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)ut.setContentType(void 0);else if((wt=ut.getContentType())!==!1){const[Et,...Ft]=wt?wt.split(";").map(jt=>jt.trim()).filter(Boolean):[];ut.setContentType([Et||"multipart/form-data",...Ft].join("; "))}}if(platform.hasStandardBrowserEnv&&(tt&&utils$1$1.isFunction(tt)&&(tt=tt(s)),tt||tt!==!1&&isURLSameOrigin(s.url))){const Et=at&&ct&&cookies.read(ct);Et&&ut.set(at,Et)}return s};const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(a){return new Promise(function(et,tt){const at=resolveConfig(a);let ct=at.data;const ut=AxiosHeaders$1.from(at.headers).normalize();let{responseType:bt,onUploadProgress:wt,onDownloadProgress:Et}=at,Ft,jt,Lt,Ut,Vt;function Yt(){Ut&&Ut(),Vt&&Vt(),at.cancelToken&&at.cancelToken.unsubscribe(Ft),at.signal&&at.signal.removeEventListener("abort",Ft)}let er=new XMLHttpRequest;er.open(at.method.toUpperCase(),at.url,!0),er.timeout=at.timeout;function tr(){if(!er)return;const ir=AxiosHeaders$1.from("getAllResponseHeaders"in er&&er.getAllResponseHeaders()),pr={data:!bt||bt==="text"||bt==="json"?er.responseText:er.response,status:er.status,statusText:er.statusText,headers:ir,config:a,request:er};settle(function(br){et(br),Yt()},function(br){tt(br),Yt()},pr),er=null}"onloadend"in er?er.onloadend=tr:er.onreadystatechange=function(){!er||er.readyState!==4||er.status===0&&!(er.responseURL&&er.responseURL.indexOf("file:")===0)||setTimeout(tr)},er.onabort=function(){er&&(tt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,a,er)),er=null)},er.onerror=function(){tt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,a,er)),er=null},er.ontimeout=function(){let lr=at.timeout?"timeout of "+at.timeout+"ms exceeded":"timeout exceeded";const pr=at.transitional||transitionalDefaults;at.timeoutErrorMessage&&(lr=at.timeoutErrorMessage),tt(new AxiosError(lr,pr.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,a,er)),er=null},ct===void 0&&ut.setContentType(null),"setRequestHeader"in er&&utils$1$1.forEach(ut.toJSON(),function(lr,pr){er.setRequestHeader(pr,lr)}),utils$1$1.isUndefined(at.withCredentials)||(er.withCredentials=!!at.withCredentials),bt&&bt!=="json"&&(er.responseType=at.responseType),Et&&([Lt,Vt]=progressEventReducer(Et,!0),er.addEventListener("progress",Lt)),wt&&er.upload&&([jt,Ut]=progressEventReducer(wt),er.upload.addEventListener("progress",jt),er.upload.addEventListener("loadend",Ut)),(at.cancelToken||at.signal)&&(Ft=ir=>{er&&(tt(!ir||ir.type?new CanceledError(null,a,er):ir),er.abort(),er=null)},at.cancelToken&&at.cancelToken.subscribe(Ft),at.signal&&(at.signal.aborted?Ft():at.signal.addEventListener("abort",Ft)));const nr=parseProtocol(at.url);if(nr&&platform.protocols.indexOf(nr)===-1){tt(new AxiosError("Unsupported protocol "+nr+":",AxiosError.ERR_BAD_REQUEST,a));return}er.send(ct||null)})};const composeSignals=(a,s)=>{const{length:et}=a=a?a.filter(Boolean):[];if(s||et){let tt=new AbortController,at;const ct=function(Et){if(!at){at=!0,bt();const Ft=Et instanceof Error?Et:this.reason;tt.abort(Ft instanceof AxiosError?Ft:new CanceledError(Ft instanceof Error?Ft.message:Ft))}};let ut=s&&setTimeout(()=>{ut=null,ct(new AxiosError(`timeout ${s} of ms exceeded`,AxiosError.ETIMEDOUT))},s);const bt=()=>{a&&(ut&&clearTimeout(ut),ut=null,a.forEach(Et=>{Et.unsubscribe?Et.unsubscribe(ct):Et.removeEventListener("abort",ct)}),a=null)};a.forEach(Et=>Et.addEventListener("abort",ct));const{signal:wt}=tt;return wt.unsubscribe=()=>utils$1$1.asap(bt),wt}};var composeSignals$1=composeSignals;const streamChunk=function*(a,s){let et=a.byteLength;if(et<s){yield a;return}let tt=0,at;for(;tt<et;)at=tt+s,yield a.slice(tt,at),tt=at},readBytes=async function*(a,s){for await(const et of readStream(a))yield*streamChunk(et,s)},readStream=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const s=a.getReader();try{for(;;){const{done:et,value:tt}=await s.read();if(et)break;yield tt}}finally{await s.cancel()}},trackStream=(a,s,et,tt)=>{const at=readBytes(a,s);let ct=0,ut,bt=wt=>{ut||(ut=!0,tt&&tt(wt))};return new ReadableStream({async pull(wt){try{const{done:Et,value:Ft}=await at.next();if(Et){bt(),wt.close();return}let jt=Ft.byteLength;if(et){let Lt=ct+=jt;et(Lt)}wt.enqueue(new Uint8Array(Ft))}catch(Et){throw bt(Et),Et}},cancel(wt){return bt(wt),at.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(a=>s=>a.encode(s))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),test=(a,...s)=>{try{return!!a(...s)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let a=!1;const s=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!s}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(a=>a.body)};isFetchSupported&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!resolvers[s]&&(resolvers[s]=utils$1$1.isFunction(a[s])?et=>et[s]():(et,tt)=>{throw new AxiosError(`Response type '${s}' is not supported`,AxiosError.ERR_NOT_SUPPORT,tt)})})})(new Response);const getBodyLength=async a=>{if(a==null)return 0;if(utils$1$1.isBlob(a))return a.size;if(utils$1$1.isSpecCompliantForm(a))return(await new Request(platform.origin,{method:"POST",body:a}).arrayBuffer()).byteLength;if(utils$1$1.isArrayBufferView(a)||utils$1$1.isArrayBuffer(a))return a.byteLength;if(utils$1$1.isURLSearchParams(a)&&(a=a+""),utils$1$1.isString(a))return(await encodeText(a)).byteLength},resolveBodyLength=async(a,s)=>{const et=utils$1$1.toFiniteNumber(a.getContentLength());return et??getBodyLength(s)};var fetchAdapter=isFetchSupported&&(async a=>{let{url:s,method:et,data:tt,signal:at,cancelToken:ct,timeout:ut,onDownloadProgress:bt,onUploadProgress:wt,responseType:Et,headers:Ft,withCredentials:jt="same-origin",fetchOptions:Lt}=resolveConfig(a);Et=Et?(Et+"").toLowerCase():"text";let Ut=composeSignals$1([at,ct&&ct.toAbortSignal()],ut),Vt;const Yt=Ut&&Ut.unsubscribe&&(()=>{Ut.unsubscribe()});let er;try{if(wt&&supportsRequestStream&&et!=="get"&&et!=="head"&&(er=await resolveBodyLength(Ft,tt))!==0){let pr=new Request(s,{method:"POST",body:tt,duplex:"half"}),yr;if(utils$1$1.isFormData(tt)&&(yr=pr.headers.get("content-type"))&&Ft.setContentType(yr),pr.body){const[br,xr]=progressEventDecorator(er,progressEventReducer(asyncDecorator(wt)));tt=trackStream(pr.body,DEFAULT_CHUNK_SIZE,br,xr)}}utils$1$1.isString(jt)||(jt=jt?"include":"omit");const tr="credentials"in Request.prototype;Vt=new Request(s,{...Lt,signal:Ut,method:et.toUpperCase(),headers:Ft.normalize().toJSON(),body:tt,duplex:"half",credentials:tr?jt:void 0});let nr=await fetch(Vt);const ir=supportsResponseStream&&(Et==="stream"||Et==="response");if(supportsResponseStream&&(bt||ir&&Yt)){const pr={};["status","statusText","headers"].forEach(Er=>{pr[Er]=nr[Er]});const yr=utils$1$1.toFiniteNumber(nr.headers.get("content-length")),[br,xr]=bt&&progressEventDecorator(yr,progressEventReducer(asyncDecorator(bt),!0))||[];nr=new Response(trackStream(nr.body,DEFAULT_CHUNK_SIZE,br,()=>{xr&&xr(),Yt&&Yt()}),pr)}Et=Et||"text";let lr=await resolvers[utils$1$1.findKey(resolvers,Et)||"text"](nr,a);return!ir&&Yt&&Yt(),await new Promise((pr,yr)=>{settle(pr,yr,{data:lr,headers:AxiosHeaders$1.from(nr.headers),status:nr.status,statusText:nr.statusText,config:a,request:Vt})})}catch(tr){throw Yt&&Yt(),tr&&tr.name==="TypeError"&&/fetch/i.test(tr.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,a,Vt),{cause:tr.cause||tr}):AxiosError.from(tr,tr&&tr.code,a,Vt)}});const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1$1.forEach(knownAdapters,(a,s)=>{if(a){try{Object.defineProperty(a,"name",{value:s})}catch{}Object.defineProperty(a,"adapterName",{value:s})}});const renderReason=a=>`- ${a}`,isResolvedHandle=a=>utils$1$1.isFunction(a)||a===null||a===!1;var adapters={getAdapter:a=>{a=utils$1$1.isArray(a)?a:[a];const{length:s}=a;let et,tt;const at={};for(let ct=0;ct<s;ct++){et=a[ct];let ut;if(tt=et,!isResolvedHandle(et)&&(tt=knownAdapters[(ut=String(et)).toLowerCase()],tt===void 0))throw new AxiosError(`Unknown adapter '${ut}'`);if(tt)break;at[ut||"#"+ct]=tt}if(!tt){const ct=Object.entries(at).map(([bt,wt])=>`adapter ${bt} `+(wt===!1?"is not supported by the environment":"is not available in the build"));let ut=s?ct.length>1?`since :
`+ct.map(renderReason).join(`
`):" "+renderReason(ct[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+ut,"ERR_NOT_SUPPORT")}return tt},adapters:knownAdapters};function throwIfCancellationRequested(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError(null,a)}function dispatchRequest(a){return throwIfCancellationRequested(a),a.headers=AxiosHeaders$1.from(a.headers),a.data=transformData.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(a.adapter||defaults$1.adapter)(a).then(function(tt){return throwIfCancellationRequested(a),tt.data=transformData.call(a,a.transformResponse,tt),tt.headers=AxiosHeaders$1.from(tt.headers),tt},function(tt){return isCancel(tt)||(throwIfCancellationRequested(a),tt&&tt.response&&(tt.response.data=transformData.call(a,a.transformResponse,tt.response),tt.response.headers=AxiosHeaders$1.from(tt.response.headers))),Promise.reject(tt)})}const VERSION="1.8.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((a,s)=>{validators$1[a]=function(tt){return typeof tt===a||"a"+(s<1?"n ":" ")+a}});const deprecatedWarnings={};validators$1.transitional=function(s,et,tt){function at(ct,ut){return"[Axios v"+VERSION+"] Transitional option '"+ct+"'"+ut+(tt?". "+tt:"")}return(ct,ut,bt)=>{if(s===!1)throw new AxiosError(at(ut," has been removed"+(et?" in "+et:"")),AxiosError.ERR_DEPRECATED);return et&&!deprecatedWarnings[ut]&&(deprecatedWarnings[ut]=!0,console.warn(at(ut," has been deprecated since v"+et+" and will be removed in the near future"))),s?s(ct,ut,bt):!0}};validators$1.spelling=function(s){return(et,tt)=>(console.warn(`${tt} is likely a misspelling of ${s}`),!0)};function assertOptions(a,s,et){if(typeof a!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const tt=Object.keys(a);let at=tt.length;for(;at-- >0;){const ct=tt[at],ut=s[ct];if(ut){const bt=a[ct],wt=bt===void 0||ut(bt,ct,a);if(wt!==!0)throw new AxiosError("option "+ct+" must be "+wt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError("Unknown option "+ct,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(s){this.defaults=s,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(s,et){try{return await this._request(s,et)}catch(tt){if(tt instanceof Error){let at={};Error.captureStackTrace?Error.captureStackTrace(at):at=new Error;const ct=at.stack?at.stack.replace(/^.+\n/,""):"";try{tt.stack?ct&&!String(tt.stack).endsWith(ct.replace(/^.+\n.+\n/,""))&&(tt.stack+=`
`+ct):tt.stack=ct}catch{}}throw tt}}_request(s,et){typeof s=="string"?(et=et||{},et.url=s):et=s||{},et=mergeConfig(this.defaults,et);const{transitional:tt,paramsSerializer:at,headers:ct}=et;tt!==void 0&&validator.assertOptions(tt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),at!=null&&(utils$1$1.isFunction(at)?et.paramsSerializer={serialize:at}:validator.assertOptions(at,{encode:validators.function,serialize:validators.function},!0)),et.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?et.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:et.allowAbsoluteUrls=!0),validator.assertOptions(et,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),et.method=(et.method||this.defaults.method||"get").toLowerCase();let ut=ct&&utils$1$1.merge(ct.common,ct[et.method]);ct&&utils$1$1.forEach(["delete","get","head","post","put","patch","common"],Vt=>{delete ct[Vt]}),et.headers=AxiosHeaders$1.concat(ut,ct);const bt=[];let wt=!0;this.interceptors.request.forEach(function(Yt){typeof Yt.runWhen=="function"&&Yt.runWhen(et)===!1||(wt=wt&&Yt.synchronous,bt.unshift(Yt.fulfilled,Yt.rejected))});const Et=[];this.interceptors.response.forEach(function(Yt){Et.push(Yt.fulfilled,Yt.rejected)});let Ft,jt=0,Lt;if(!wt){const Vt=[dispatchRequest.bind(this),void 0];for(Vt.unshift.apply(Vt,bt),Vt.push.apply(Vt,Et),Lt=Vt.length,Ft=Promise.resolve(et);jt<Lt;)Ft=Ft.then(Vt[jt++],Vt[jt++]);return Ft}Lt=bt.length;let Ut=et;for(jt=0;jt<Lt;){const Vt=bt[jt++],Yt=bt[jt++];try{Ut=Vt(Ut)}catch(er){Yt.call(this,er);break}}try{Ft=dispatchRequest.call(this,Ut)}catch(Vt){return Promise.reject(Vt)}for(jt=0,Lt=Et.length;jt<Lt;)Ft=Ft.then(Et[jt++],Et[jt++]);return Ft}getUri(s){s=mergeConfig(this.defaults,s);const et=buildFullPath(s.baseURL,s.url,s.allowAbsoluteUrls);return buildURL(et,s.params,s.paramsSerializer)}}utils$1$1.forEach(["delete","get","head","options"],function(s){Axios.prototype[s]=function(et,tt){return this.request(mergeConfig(tt||{},{method:s,url:et,data:(tt||{}).data}))}});utils$1$1.forEach(["post","put","patch"],function(s){function et(tt){return function(ct,ut,bt){return this.request(mergeConfig(bt||{},{method:s,headers:tt?{"Content-Type":"multipart/form-data"}:{},url:ct,data:ut}))}}Axios.prototype[s]=et(),Axios.prototype[s+"Form"]=et(!0)});var Axios$1=Axios;class CancelToken{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let et;this.promise=new Promise(function(ct){et=ct});const tt=this;this.promise.then(at=>{if(!tt._listeners)return;let ct=tt._listeners.length;for(;ct-- >0;)tt._listeners[ct](at);tt._listeners=null}),this.promise.then=at=>{let ct;const ut=new Promise(bt=>{tt.subscribe(bt),ct=bt}).then(at);return ut.cancel=function(){tt.unsubscribe(ct)},ut},s(function(ct,ut,bt){tt.reason||(tt.reason=new CanceledError(ct,ut,bt),et(tt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const et=this._listeners.indexOf(s);et!==-1&&this._listeners.splice(et,1)}toAbortSignal(){const s=new AbortController,et=tt=>{s.abort(tt)};return this.subscribe(et),s.signal.unsubscribe=()=>this.unsubscribe(et),s.signal}static source(){let s;return{token:new CancelToken(function(at){s=at}),cancel:s}}}var CancelToken$1=CancelToken;function spread(a){return function(et){return a.apply(null,et)}}function isAxiosError(a){return utils$1$1.isObject(a)&&a.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([a,s])=>{HttpStatusCode[s]=a});var HttpStatusCode$1=HttpStatusCode;function createInstance(a){const s=new Axios$1(a),et=bind(Axios$1.prototype.request,s);return utils$1$1.extend(et,Axios$1.prototype,s,{allOwnKeys:!0}),utils$1$1.extend(et,s,null,{allOwnKeys:!0}),et.create=function(at){return createInstance(mergeConfig(a,at))},et}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(s){return Promise.all(s)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=a=>formDataToJSON(utils$1$1.isHTMLForm(a)?new FormData(a):a);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;var axios_1$1=axios,axiosRetry$2={exports:{}},cjs={},interopRequireDefault={exports:{}};(function(a){function s(et){return et&&et.__esModule?et:{default:et}}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,regeneratorRuntime$1={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(a){function s(et){"@babel/helpers - typeof";return a.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},a.exports.__esModule=!0,a.exports.default=a.exports,s(et)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}(_typeof)),_typeof.exports}var hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(a){var s=require_typeof().default;function et(){a.exports=et=function(){return at},a.exports.__esModule=!0,a.exports.default=a.exports;var tt,at={},ct=Object.prototype,ut=ct.hasOwnProperty,bt=Object.defineProperty||function(gr,ur,_r){gr[ur]=_r.value},wt=typeof Symbol=="function"?Symbol:{},Et=wt.iterator||"@@iterator",Ft=wt.asyncIterator||"@@asyncIterator",jt=wt.toStringTag||"@@toStringTag";function Lt(gr,ur,_r){return Object.defineProperty(gr,ur,{value:_r,enumerable:!0,configurable:!0,writable:!0}),gr[ur]}try{Lt({},"")}catch{Lt=function(_r,hr,cr){return _r[hr]=cr}}function Ut(gr,ur,_r,hr){var cr=ur&&ur.prototype instanceof lr?ur:lr,wr=Object.create(cr.prototype),Br=new sr(hr||[]);return bt(wr,"_invoke",{value:vr(gr,_r,Br)}),wr}function Vt(gr,ur,_r){try{return{type:"normal",arg:gr.call(ur,_r)}}catch(hr){return{type:"throw",arg:hr}}}at.wrap=Ut;var Yt="suspendedStart",er="suspendedYield",tr="executing",nr="completed",ir={};function lr(){}function pr(){}function yr(){}var br={};Lt(br,Et,function(){return this});var xr=Object.getPrototypeOf,Er=xr&&xr(xr(dr([])));Er&&Er!==ct&&ut.call(Er,Et)&&(br=Er);var $r=yr.prototype=lr.prototype=Object.create(br);function Sr(gr){["next","throw","return"].forEach(function(ur){Lt(gr,ur,function(_r){return this._invoke(ur,_r)})})}function fr(gr,ur){function _r(cr,wr,Br,Or){var Rr=Vt(gr[cr],gr,wr);if(Rr.type!=="throw"){var Pr=Rr.arg,Ur=Pr.value;return Ur&&s(Ur)=="object"&&ut.call(Ur,"__await")?ur.resolve(Ur.__await).then(function(kr){_r("next",kr,Br,Or)},function(kr){_r("throw",kr,Br,Or)}):ur.resolve(Ur).then(function(kr){Pr.value=kr,Br(Pr)},function(kr){return _r("throw",kr,Br,Or)})}Or(Rr.arg)}var hr;bt(this,"_invoke",{value:function(wr,Br){function Or(){return new ur(function(Rr,Pr){_r(wr,Br,Rr,Pr)})}return hr=hr?hr.then(Or,Or):Or()}})}function vr(gr,ur,_r){var hr=Yt;return function(cr,wr){if(hr===tr)throw Error("Generator is already running");if(hr===nr){if(cr==="throw")throw wr;return{value:tt,done:!0}}for(_r.method=cr,_r.arg=wr;;){var Br=_r.delegate;if(Br){var Or=or(Br,_r);if(Or){if(Or===ir)continue;return Or}}if(_r.method==="next")_r.sent=_r._sent=_r.arg;else if(_r.method==="throw"){if(hr===Yt)throw hr=nr,_r.arg;_r.dispatchException(_r.arg)}else _r.method==="return"&&_r.abrupt("return",_r.arg);hr=tr;var Rr=Vt(gr,ur,_r);if(Rr.type==="normal"){if(hr=_r.done?nr:er,Rr.arg===ir)continue;return{value:Rr.arg,done:_r.done}}Rr.type==="throw"&&(hr=nr,_r.method="throw",_r.arg=Rr.arg)}}}function or(gr,ur){var _r=ur.method,hr=gr.iterator[_r];if(hr===tt)return ur.delegate=null,_r==="throw"&&gr.iterator.return&&(ur.method="return",ur.arg=tt,or(gr,ur),ur.method==="throw")||_r!=="return"&&(ur.method="throw",ur.arg=new TypeError("The iterator does not provide a '"+_r+"' method")),ir;var cr=Vt(hr,gr.iterator,ur.arg);if(cr.type==="throw")return ur.method="throw",ur.arg=cr.arg,ur.delegate=null,ir;var wr=cr.arg;return wr?wr.done?(ur[gr.resultName]=wr.value,ur.next=gr.nextLoc,ur.method!=="return"&&(ur.method="next",ur.arg=tt),ur.delegate=null,ir):wr:(ur.method="throw",ur.arg=new TypeError("iterator result is not an object"),ur.delegate=null,ir)}function rr(gr){var ur={tryLoc:gr[0]};1 in gr&&(ur.catchLoc=gr[1]),2 in gr&&(ur.finallyLoc=gr[2],ur.afterLoc=gr[3]),this.tryEntries.push(ur)}function ar(gr){var ur=gr.completion||{};ur.type="normal",delete ur.arg,gr.completion=ur}function sr(gr){this.tryEntries=[{tryLoc:"root"}],gr.forEach(rr,this),this.reset(!0)}function dr(gr){if(gr||gr===""){var ur=gr[Et];if(ur)return ur.call(gr);if(typeof gr.next=="function")return gr;if(!isNaN(gr.length)){var _r=-1,hr=function cr(){for(;++_r<gr.length;)if(ut.call(gr,_r))return cr.value=gr[_r],cr.done=!1,cr;return cr.value=tt,cr.done=!0,cr};return hr.next=hr}}throw new TypeError(s(gr)+" is not iterable")}return pr.prototype=yr,bt($r,"constructor",{value:yr,configurable:!0}),bt(yr,"constructor",{value:pr,configurable:!0}),pr.displayName=Lt(yr,jt,"GeneratorFunction"),at.isGeneratorFunction=function(gr){var ur=typeof gr=="function"&&gr.constructor;return!!ur&&(ur===pr||(ur.displayName||ur.name)==="GeneratorFunction")},at.mark=function(gr){return Object.setPrototypeOf?Object.setPrototypeOf(gr,yr):(gr.__proto__=yr,Lt(gr,jt,"GeneratorFunction")),gr.prototype=Object.create($r),gr},at.awrap=function(gr){return{__await:gr}},Sr(fr.prototype),Lt(fr.prototype,Ft,function(){return this}),at.AsyncIterator=fr,at.async=function(gr,ur,_r,hr,cr){cr===void 0&&(cr=Promise);var wr=new fr(Ut(gr,ur,_r,hr),cr);return at.isGeneratorFunction(ur)?wr:wr.next().then(function(Br){return Br.done?Br.value:wr.next()})},Sr($r),Lt($r,jt,"Generator"),Lt($r,Et,function(){return this}),Lt($r,"toString",function(){return"[object Generator]"}),at.keys=function(gr){var ur=Object(gr),_r=[];for(var hr in ur)_r.push(hr);return _r.reverse(),function cr(){for(;_r.length;){var wr=_r.pop();if(wr in ur)return cr.value=wr,cr.done=!1,cr}return cr.done=!0,cr}},at.values=dr,sr.prototype={constructor:sr,reset:function(ur){if(this.prev=0,this.next=0,this.sent=this._sent=tt,this.done=!1,this.delegate=null,this.method="next",this.arg=tt,this.tryEntries.forEach(ar),!ur)for(var _r in this)_r.charAt(0)==="t"&&ut.call(this,_r)&&!isNaN(+_r.slice(1))&&(this[_r]=tt)},stop:function(){this.done=!0;var ur=this.tryEntries[0].completion;if(ur.type==="throw")throw ur.arg;return this.rval},dispatchException:function(ur){if(this.done)throw ur;var _r=this;function hr(Pr,Ur){return Br.type="throw",Br.arg=ur,_r.next=Pr,Ur&&(_r.method="next",_r.arg=tt),!!Ur}for(var cr=this.tryEntries.length-1;cr>=0;--cr){var wr=this.tryEntries[cr],Br=wr.completion;if(wr.tryLoc==="root")return hr("end");if(wr.tryLoc<=this.prev){var Or=ut.call(wr,"catchLoc"),Rr=ut.call(wr,"finallyLoc");if(Or&&Rr){if(this.prev<wr.catchLoc)return hr(wr.catchLoc,!0);if(this.prev<wr.finallyLoc)return hr(wr.finallyLoc)}else if(Or){if(this.prev<wr.catchLoc)return hr(wr.catchLoc,!0)}else{if(!Rr)throw Error("try statement without catch or finally");if(this.prev<wr.finallyLoc)return hr(wr.finallyLoc)}}}},abrupt:function(ur,_r){for(var hr=this.tryEntries.length-1;hr>=0;--hr){var cr=this.tryEntries[hr];if(cr.tryLoc<=this.prev&&ut.call(cr,"finallyLoc")&&this.prev<cr.finallyLoc){var wr=cr;break}}wr&&(ur==="break"||ur==="continue")&&wr.tryLoc<=_r&&_r<=wr.finallyLoc&&(wr=null);var Br=wr?wr.completion:{};return Br.type=ur,Br.arg=_r,wr?(this.method="next",this.next=wr.finallyLoc,ir):this.complete(Br)},complete:function(ur,_r){if(ur.type==="throw")throw ur.arg;return ur.type==="break"||ur.type==="continue"?this.next=ur.arg:ur.type==="return"?(this.rval=this.arg=ur.arg,this.method="return",this.next="end"):ur.type==="normal"&&_r&&(this.next=_r),ir},finish:function(ur){for(var _r=this.tryEntries.length-1;_r>=0;--_r){var hr=this.tryEntries[_r];if(hr.finallyLoc===ur)return this.complete(hr.completion,hr.afterLoc),ar(hr),ir}},catch:function(ur){for(var _r=this.tryEntries.length-1;_r>=0;--_r){var hr=this.tryEntries[_r];if(hr.tryLoc===ur){var cr=hr.completion;if(cr.type==="throw"){var wr=cr.arg;ar(hr)}return wr}}throw Error("illegal catch attempt")},delegateYield:function(ur,_r,hr){return this.delegate={iterator:dr(ur),resultName:_r,nextLoc:hr},this.method==="next"&&(this.arg=tt),ir}},at}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var a=requireRegeneratorRuntime()();regenerator=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(a){function s(tt,at,ct,ut,bt,wt,Et){try{var Ft=tt[wt](Et),jt=Ft.value}catch(Lt){return void ct(Lt)}Ft.done?at(jt):Promise.resolve(jt).then(ut,bt)}function et(tt){return function(){var at=this,ct=arguments;return new Promise(function(ut,bt){var wt=tt.apply(at,ct);function Et(jt){s(wt,ut,bt,Et,Ft,"next",jt)}function Ft(jt){s(wt,ut,bt,Et,Ft,"throw",jt)}Et(void 0)})}}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(asyncToGenerator)),asyncToGenerator.exports}var defineProperty={exports:{}},toPropertyKey={exports:{}},toPrimitive={exports:{}},hasRequiredToPrimitive;function requireToPrimitive(){return hasRequiredToPrimitive||(hasRequiredToPrimitive=1,function(a){var s=require_typeof().default;function et(tt,at){if(s(tt)!="object"||!tt)return tt;var ct=tt[Symbol.toPrimitive];if(ct!==void 0){var ut=ct.call(tt,at||"default");if(s(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return(at==="string"?String:Number)(tt)}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(toPrimitive)),toPrimitive.exports}var hasRequiredToPropertyKey;function requireToPropertyKey(){return hasRequiredToPropertyKey||(hasRequiredToPropertyKey=1,function(a){var s=require_typeof().default,et=requireToPrimitive();function tt(at){var ct=et(at,"string");return s(ct)=="symbol"?ct:ct+""}a.exports=tt,a.exports.__esModule=!0,a.exports.default=a.exports}(toPropertyKey)),toPropertyKey.exports}var hasRequiredDefineProperty;function requireDefineProperty(){return hasRequiredDefineProperty||(hasRequiredDefineProperty=1,function(a){var s=requireToPropertyKey();function et(tt,at,ct){return(at=s(at))in tt?Object.defineProperty(tt,at,{value:ct,enumerable:!0,configurable:!0,writable:!0}):tt[at]=ct,tt}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports}(defineProperty)),defineProperty.exports}var isRetryAllowed,hasRequiredIsRetryAllowed;function requireIsRetryAllowed(){if(hasRequiredIsRetryAllowed)return isRetryAllowed;hasRequiredIsRetryAllowed=1;const a=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return isRetryAllowed=s=>!a.has(s&&s.code),isRetryAllowed}var _interopRequireDefault$t=interopRequireDefaultExports;Object.defineProperty(cjs,"__esModule",{value:!0});cjs.isNetworkError=isNetworkError;cjs.isRetryableError=isRetryableError;cjs.isSafeRequestError=isSafeRequestError;cjs.isIdempotentRequestError=isIdempotentRequestError;cjs.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;cjs.exponentialDelay=exponentialDelay;cjs.default=axiosRetry$1;cjs.DEFAULT_OPTIONS=cjs.namespace=void 0;var _regenerator=_interopRequireDefault$t(requireRegenerator()),_typeof2=_interopRequireDefault$t(require_typeof()),_asyncToGenerator2=_interopRequireDefault$t(requireAsyncToGenerator()),_defineProperty2$6=_interopRequireDefault$t(requireDefineProperty()),_isRetryAllowed=_interopRequireDefault$t(requireIsRetryAllowed());function ownKeys(a,s){var et=Object.keys(a);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);s&&(tt=tt.filter(function(at){return Object.getOwnPropertyDescriptor(a,at).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread(a){for(var s=1;s<arguments.length;s++){var et=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(et),!0).forEach(function(tt){(0,_defineProperty2$6.default)(a,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty(a,tt,Object.getOwnPropertyDescriptor(et,tt))})}return a}var namespace="axios-retry";cjs.namespace=namespace;function isNetworkError(a){var s=["ERR_CANCELED","ECONNABORTED"];return!a.response&&!!a.code&&!s.includes(a.code)&&(0,_isRetryAllowed.default)(a)}var SAFE_HTTP_METHODS=["get","head","options"],IDEMPOTENT_HTTP_METHODS=SAFE_HTTP_METHODS.concat(["put","delete"]);function isRetryableError(a){return a.code!=="ECONNABORTED"&&(!a.response||a.response.status>=500&&a.response.status<=599)}function isSafeRequestError(a){return a.config?isRetryableError(a)&&SAFE_HTTP_METHODS.indexOf(a.config.method)!==-1:!1}function isIdempotentRequestError(a){return a.config?isRetryableError(a)&&IDEMPOTENT_HTTP_METHODS.indexOf(a.config.method)!==-1:!1}function isNetworkOrIdempotentRequestError(a){return isNetworkError(a)||isIdempotentRequestError(a)}function noDelay(){return 0}function exponentialDelay(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,et=Math.pow(2,a)*s,tt=et*.2*Math.random();return et+tt}var DEFAULT_OPTIONS={retries:3,retryCondition:isNetworkOrIdempotentRequestError,retryDelay:noDelay,shouldResetTimeout:!1,onRetry:function(){}};cjs.DEFAULT_OPTIONS=DEFAULT_OPTIONS;function getRequestOptions(a,s){return _objectSpread(_objectSpread(_objectSpread({},DEFAULT_OPTIONS),s),a[namespace])}function getCurrentState(a,s){var et=getRequestOptions(a,s);return et.retryCount=et.retryCount||0,a[namespace]=et,et}function fixConfig(a,s){a.defaults.agent===s.agent&&delete s.agent,a.defaults.httpAgent===s.httpAgent&&delete s.httpAgent,a.defaults.httpsAgent===s.httpsAgent&&delete s.httpsAgent}function shouldRetry(a,s){return _shouldRetry.apply(this,arguments)}function _shouldRetry(){return _shouldRetry=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function a(s,et){var tt,at,ct,ut;return _regenerator.default.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(tt=s.retries,at=s.retryCondition,ct=s.retryCount<tt&&at(et),(0,_typeof2.default)(ct)!=="object"){wt.next=13;break}return wt.prev=3,wt.next=6,ct;case 6:return ut=wt.sent,wt.abrupt("return",ut!==!1);case 10:return wt.prev=10,wt.t0=wt.catch(3),wt.abrupt("return",!1);case 13:return wt.abrupt("return",ct);case 14:case"end":return wt.stop()}},a,null,[[3,10]])})),_shouldRetry.apply(this,arguments)}function axiosRetry$1(a,s){var et=a.interceptors.request.use(function(at){var ct=getCurrentState(at,s);return ct.lastRequestTime=Date.now(),at}),tt=a.interceptors.response.use(null,function(){var at=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function ct(ut){var bt,wt,Et,Ft,jt,Lt,Ut,Vt;return _regenerator.default.wrap(function(er){for(;;)switch(er.prev=er.next){case 0:if(bt=ut.config,bt){er.next=3;break}return er.abrupt("return",Promise.reject(ut));case 3:return wt=getCurrentState(bt,s),er.next=6,shouldRetry(wt,ut);case 6:if(!er.sent){er.next=21;break}if(wt.retryCount+=1,Et=wt.retryDelay,Ft=wt.shouldResetTimeout,jt=wt.onRetry,Lt=Et(wt.retryCount,ut),fixConfig(a,bt),!(!Ft&&bt.timeout&&wt.lastRequestTime)){er.next=17;break}if(Ut=Date.now()-wt.lastRequestTime,Vt=bt.timeout-Ut-Lt,!(Vt<=0)){er.next=16;break}return er.abrupt("return",Promise.reject(ut));case 16:bt.timeout=Vt;case 17:return bt.transformRequest=[function(tr){return tr}],er.next=20,jt(wt.retryCount,ut,bt);case 20:return er.abrupt("return",new Promise(function(tr){return setTimeout(function(){return tr(a(bt))},Lt)}));case 21:return er.abrupt("return",Promise.reject(ut));case 22:case"end":return er.stop()}},ct)}));return function(ct){return at.apply(this,arguments)}}());return{requestInterceptorId:et,responseInterceptorId:tt}}axiosRetry$1.isNetworkError=isNetworkError;axiosRetry$1.isSafeRequestError=isSafeRequestError;axiosRetry$1.isIdempotentRequestError=isIdempotentRequestError;axiosRetry$1.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;axiosRetry$1.exponentialDelay=exponentialDelay;axiosRetry$1.isRetryableError=isRetryableError;const axiosRetry=cjs.default;axiosRetry$2.exports=axiosRetry;axiosRetry$2.exports.default=axiosRetry;var axiosRetryExports=axiosRetry$2.exports,ResillientWebSocket={},ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof commonjsGlobal$1<"u"?ws=commonjsGlobal$1.WebSocket||commonjsGlobal$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);var browser$e=ws,__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ResillientWebSocket,"__esModule",{value:!0});ResillientWebSocket.ResilientWebSocket=void 0;const isomorphic_ws_1=__importDefault$1(browser$e),PING_TIMEOUT_DURATION=33e3;class ResilientWebSocket{constructor(s,et){dn(this,"endpoint");dn(this,"wsClient");dn(this,"wsUserClosed");dn(this,"wsFailedAttempts");dn(this,"pingTimeout");dn(this,"logger");dn(this,"onError");dn(this,"onMessage");dn(this,"onReconnect");this.endpoint=s,this.logger=et,this.wsFailedAttempts=0,this.onError=tt=>{var at;(at=this.logger)==null||at.error(tt)},this.wsUserClosed=!0,this.onMessage=()=>{},this.onReconnect=()=>{}}async send(s){var et,tt,at;(et=this.logger)==null||et.info(`Sending ${s}`),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0?(tt=this.logger)==null||tt.error("Couldn't connect to the websocket server. Error callback is called."):(at=this.wsClient)==null||at.send(s)}async startWebSocket(){var s;this.wsClient===void 0&&((s=this.logger)==null||s.info("Creating Web Socket client"),this.wsClient=new isomorphic_ws_1.default(this.endpoint),this.wsUserClosed=!1,this.wsClient.onopen=()=>{this.wsFailedAttempts=0,this.wsClient.on!==void 0&&this.heartbeat()},this.wsClient.onerror=et=>{this.onError(et.error)},this.wsClient.onmessage=et=>{this.onMessage(et.data)},this.wsClient.onclose=async()=>{var et,tt;if(this.pingTimeout!==void 0&&clearInterval(this.pingTimeout),this.wsUserClosed===!1){this.wsFailedAttempts+=1,this.wsClient=void 0;const at=expoBackoff(this.wsFailedAttempts);(et=this.logger)==null||et.error(`Connection closed unexpectedly or because of timeout. Reconnecting after ${at}ms.`),await sleep(at),this.restartUnexpectedClosedWebsocket()}else(tt=this.logger)==null||tt.info("The connection has been closed successfully.")},this.wsClient.on!==void 0&&this.wsClient.on("ping",this.heartbeat.bind(this)))}heartbeat(){var s;(s=this.logger)==null||s.info("Heartbeat"),this.pingTimeout!==void 0&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var et,tt;(et=this.logger)==null||et.warn("Connection timed out. Reconnecting..."),(tt=this.wsClient)==null||tt.terminate(),this.restartUnexpectedClosedWebsocket()},PING_TIMEOUT_DURATION)}async waitForMaybeReadyWebSocket(){let s=0;for(;this.wsClient!==void 0&&this.wsClient.readyState!==this.wsClient.OPEN;)if(s>5e3){this.wsClient.close();return}else s+=10,await sleep(10)}async restartUnexpectedClosedWebsocket(){var s;if(this.wsUserClosed!==!0){if(await this.startWebSocket(),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0){(s=this.logger)==null||s.error("Couldn't reconnect to websocket. Error callback is called.");return}this.onReconnect()}}closeWebSocket(){if(this.wsClient!==void 0){const s=this.wsClient;this.wsClient=void 0,s.close()}this.wsUserClosed=!0}}ResillientWebSocket.ResilientWebSocket=ResilientWebSocket;async function sleep(a){return new Promise(s=>setTimeout(s,a))}function expoBackoff(a){return 2**a*100}var utils$5={};Object.defineProperty(utils$5,"__esModule",{value:!0});utils$5.removeLeading0xIfExists=utils$5.makeWebsocketUrl=void 0;function makeWebsocketUrl(a){const s=new URL("ws",a),et=s.protocol==="https:";return s.protocol=et?"wss:":"ws:",s.toString()}utils$5.makeWebsocketUrl=makeWebsocketUrl;function removeLeading0xIfExists(a){return a.startsWith("0x")?a.substring(2):a}utils$5.removeLeading0xIfExists=removeLeading0xIfExists;var __importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(PriceServiceConnection$1,"__esModule",{value:!0});PriceServiceConnection$1.PriceServiceConnection=void 0;const price_service_sdk_1=lib$1,axios_1=__importDefault(axios_1$1),axios_retry_1=__importDefault(axiosRetryExports),ResillientWebSocket_1=ResillientWebSocket,utils_1$1=utils$5;class PriceServiceConnection{constructor(s,et){dn(this,"httpClient");dn(this,"priceFeedCallbacks");dn(this,"wsClient");dn(this,"wsEndpoint");dn(this,"logger");dn(this,"priceFeedRequestConfig");dn(this,"onWsError");var tt,at,ct;this.httpClient=axios_1.default.create({baseURL:s,timeout:(et==null?void 0:et.timeout)||5e3}),(0,axios_retry_1.default)(this.httpClient,{retries:(et==null?void 0:et.httpRetries)||3,retryDelay:axios_retry_1.default.exponentialDelay}),this.priceFeedRequestConfig={binary:(tt=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:tt.binary,verbose:((at=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:at.verbose)??(et==null?void 0:et.verbose),allowOutOfOrder:(ct=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:ct.allowOutOfOrder},this.priceFeedCallbacks=new Map,this.logger=(et==null?void 0:et.logger)||{trace:()=>{},debug:()=>{},info:()=>{},warn:console.warn,error:console.error},this.onWsError=ut=>{this.logger.error(ut),typeof process$1<"u"&&typeof process$1.exit=="function"?(this.logger.error("Halting the process due to the websocket error"),process$1.exit(1)):this.logger.error("Cannot halt process. Please handle the websocket error.")},this.wsEndpoint=(0,utils_1$1.makeWebsocketUrl)(s)}async getLatestPriceFeeds(s){return s.length===0?[]:(await this.httpClient.get("/api/latest_price_feeds",{params:{ids:s,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}})).data.map(at=>price_service_sdk_1.PriceFeed.fromJson(at))}async getLatestVaas(s){return(await this.httpClient.get("/api/latest_vaas",{params:{ids:s}})).data}async getVaa(s,et){const tt=await this.httpClient.get("/api/get_vaa",{params:{id:s,publish_time:et}});return[tt.data.vaa,tt.data.publishTime]}async getPriceFeed(s,et){const tt=await this.httpClient.get("/api/get_price_feed",{params:{id:s,publish_time:et,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}});return price_service_sdk_1.PriceFeed.fromJson(tt.data)}async getPriceFeedIds(){return(await this.httpClient.get("/api/price_feed_ids")).data}async subscribePriceFeedUpdates(s,et){var ct;this.wsClient===void 0&&await this.startWebSocket(),s=s.map(ut=>(0,utils_1$1.removeLeading0xIfExists)(ut));const tt=[];for(const ut of s)this.priceFeedCallbacks.has(ut)||(this.priceFeedCallbacks.set(ut,new Set),tt.push(ut)),this.priceFeedCallbacks.get(ut).add(et);const at={ids:tt,type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};await((ct=this.wsClient)==null?void 0:ct.send(JSON.stringify(at)))}async unsubscribePriceFeedUpdates(s,et){var ct;this.wsClient===void 0&&await this.startWebSocket(),s=s.map(ut=>(0,utils_1$1.removeLeading0xIfExists)(ut));const tt=[];for(const ut of s)if(this.priceFeedCallbacks.has(ut)){let bt=!1;et===void 0?(this.priceFeedCallbacks.delete(ut),bt=!0):(this.priceFeedCallbacks.get(ut).delete(et),this.priceFeedCallbacks.get(ut).size===0&&(this.priceFeedCallbacks.delete(ut),bt=!0)),bt&&tt.push(ut)}const at={ids:tt,type:"unsubscribe"};await((ct=this.wsClient)==null?void 0:ct.send(JSON.stringify(at))),this.priceFeedCallbacks.size===0&&this.closeWebSocket()}async startWebSocket(){if(this.wsEndpoint===void 0)throw new Error("Websocket endpoint is undefined.");this.wsClient=new ResillientWebSocket_1.ResilientWebSocket(this.wsEndpoint,this.logger),this.wsClient.onError=this.onWsError,this.wsClient.onReconnect=()=>{var s;if(this.priceFeedCallbacks.size>0){const et={ids:Array.from(this.priceFeedCallbacks.keys()),type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};this.logger.info("Resubscribing to existing price feeds."),(s=this.wsClient)==null||s.send(JSON.stringify(et))}},this.wsClient.onMessage=s=>{this.logger.info(`Received message ${s.toString()}`);let et;try{et=JSON.parse(s.toString())}catch(tt){this.logger.error(`Error parsing message ${s.toString()} as JSON.`),this.logger.error(tt),this.onWsError(tt);return}if(et.type==="response")et.status==="error"&&(this.logger.error(`Error response from the websocket server ${et.error}.`),this.onWsError(new Error(et.error)));else if(et.type==="price_update"){let tt;try{tt=price_service_sdk_1.PriceFeed.fromJson(et.price_feed)}catch(at){this.logger.error(`Error parsing price feeds from message ${s.toString()}.`),this.logger.error(at),this.onWsError(at);return}if(this.priceFeedCallbacks.has(tt.id))for(const at of this.priceFeedCallbacks.get(tt.id))at(tt)}else this.logger.warn(`Ignoring unsupported server response ${s.toString()}.`)},await this.wsClient.startWebSocket()}closeWebSocket(){var s;(s=this.wsClient)==null||s.closeWebSocket(),this.wsClient=void 0,this.priceFeedCallbacks.clear()}}PriceServiceConnection$1.PriceServiceConnection=PriceServiceConnection;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.parseAccumulatorUpdateData=a.isAccumulatorUpdateData=a.Price=a.PriceFeed=a.PriceFeedMetadata=a.PriceServiceConnection=void 0;var s=PriceServiceConnection$1;Object.defineProperty(a,"PriceServiceConnection",{enumerable:!0,get:function(){return s.PriceServiceConnection}});var et=lib$1;Object.defineProperty(a,"PriceFeedMetadata",{enumerable:!0,get:function(){return et.PriceFeedMetadata}}),Object.defineProperty(a,"PriceFeed",{enumerable:!0,get:function(){return et.PriceFeed}}),Object.defineProperty(a,"Price",{enumerable:!0,get:function(){return et.Price}}),Object.defineProperty(a,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return et.isAccumulatorUpdateData}}),Object.defineProperty(a,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return et.parseAccumulatorUpdateData}})})(lib$2);Object.defineProperty(SuiPriceServiceConnection$1,"__esModule",{value:!0});SuiPriceServiceConnection$1.SuiPriceServiceConnection=void 0;const price_service_client_1=lib$2,buffer_1$1=require$$1$3;class SuiPriceServiceConnection extends price_service_client_1.PriceServiceConnection{async getPriceFeedsUpdateData(s){return(await this.getLatestVaas(s)).map(tt=>buffer_1$1.Buffer.from(tt,"base64"))}}SuiPriceServiceConnection$1.SuiPriceServiceConnection=SuiPriceServiceConnection;var client={},__defProp$f=Object.defineProperty,__getOwnPropDesc$c=Object.getOwnPropertyDescriptor,__getOwnPropNames$c=Object.getOwnPropertyNames,__hasOwnProp$e=Object.prototype.hasOwnProperty,__export$b=(a,s)=>{for(var et in s)__defProp$f(a,et,{get:s[et],enumerable:!0})},__copyProps$c=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$c(s))!__hasOwnProp$e.call(a,at)&&at!==et&&__defProp$f(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$c(s,at))||tt.enumerable});return a},__toCommonJS$b=a=>__copyProps$c(__defProp$f({},"__esModule",{value:!0}),a),format_exports={};__export$b(format_exports,{formatAddress:()=>formatAddress,formatDigest:()=>formatDigest});var format$1=__toCommonJS$b(format_exports);const ELLIPSIS="…";function formatAddress(a){if(a.length<=6)return a;const s=a.startsWith("0x")?2:0;return`0x${a.slice(s,s+4)}${ELLIPSIS}${a.slice(-4)}`}function formatDigest(a){return`${a.slice(0,10)}${ELLIPSIS}`}const require$$2$1=getAugmentedNamespace(esm);var __defProp$e=Object.defineProperty,__getOwnPropDesc$b=Object.getOwnPropertyDescriptor,__getOwnPropNames$b=Object.getOwnPropertyNames,__hasOwnProp$d=Object.prototype.hasOwnProperty,__export$a=(a,s)=>{for(var et in s)__defProp$e(a,et,{get:s[et],enumerable:!0})},__copyProps$b=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$b(s))!__hasOwnProp$d.call(a,at)&&at!==et&&__defProp$e(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$b(s,at))||tt.enumerable});return a},__toCommonJS$a=a=>__copyProps$b(__defProp$e({},"__esModule",{value:!0}),a),suins_exports={};__export$a(suins_exports,{isValidSuiNSName:()=>isValidSuiNSName,normalizeSuiNSName:()=>normalizeSuiNSName});var suins=__toCommonJS$a(suins_exports);const SUI_NS_NAME_REGEX=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH=235;function isValidSuiNSName(a){return a.length>MAX_SUI_NS_NAME_LENGTH?!1:a.includes("@")?SUI_NS_NAME_REGEX.test(a):SUI_NS_DOMAIN_REGEX.test(a)}function normalizeSuiNSName(a,s="at"){const et=a.toLowerCase();let tt;if(et.includes("@")){if(!SUI_NS_NAME_REGEX.test(et))throw new Error(`Invalid SuiNS name ${a}`);const[at,ct]=et.split("@");tt=[...at?at.split("."):[],ct]}else{if(!SUI_NS_DOMAIN_REGEX.test(et))throw new Error(`Invalid SuiNS name ${a}`);tt=et.split(".").slice(0,-1)}return s==="dot"?`${tt.join(".")}.sui`:`${tt.slice(0,-1).join(".")}@${tt[tt.length-1]}`}var __defProp$d=Object.defineProperty,__getOwnPropDesc$a=Object.getOwnPropertyDescriptor,__getOwnPropNames$a=Object.getOwnPropertyNames,__hasOwnProp$c=Object.prototype.hasOwnProperty,__export$9=(a,s)=>{for(var et in s)__defProp$d(a,et,{get:s[et],enumerable:!0})},__copyProps$a=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$a(s))!__hasOwnProp$c.call(a,at)&&at!==et&&__defProp$d(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$a(s,at))||tt.enumerable});return a},__toCommonJS$9=a=>__copyProps$a(__defProp$d({},"__esModule",{value:!0}),a),move_registry_exports={};__export$9(move_registry_exports,{isValidNamedPackage:()=>isValidNamedPackage,isValidNamedType:()=>isValidNamedType});var moveRegistry=__toCommonJS$9(move_registry_exports),import_suins$1=suins;const NAME_PATTERN=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX=/^\d+$/,MAX_APP_SIZE=64,NAME_SEPARATOR="/",isValidNamedPackage=a=>{const s=a.split(NAME_SEPARATOR);if(s.length<2||s.length>3)return!1;const[et,tt,at]=s;return at!==void 0&&!VERSION_REGEX.test(at)||!(0,import_suins$1.isValidSuiNSName)(et)?!1:NAME_PATTERN.test(tt)&&tt.length<MAX_APP_SIZE},isValidNamedType=a=>{const s=a.split(/::|<|>|,/);for(const et of s)if(et.includes(NAME_SEPARATOR)&&!isValidNamedPackage(et))return!1;return!0};var __defProp$c=Object.defineProperty,__getOwnPropDesc$9=Object.getOwnPropertyDescriptor,__getOwnPropNames$9=Object.getOwnPropertyNames,__hasOwnProp$b=Object.prototype.hasOwnProperty,__export$8=(a,s)=>{for(var et in s)__defProp$c(a,et,{get:s[et],enumerable:!0})},__copyProps$9=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$9(s))!__hasOwnProp$b.call(a,at)&&at!==et&&__defProp$c(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$9(s,at))||tt.enumerable});return a},__toCommonJS$8=a=>__copyProps$9(__defProp$c({},"__esModule",{value:!0}),a),sui_types_exports={};__export$8(sui_types_exports,{SUI_ADDRESS_LENGTH:()=>SUI_ADDRESS_LENGTH,isValidSuiAddress:()=>isValidSuiAddress,isValidSuiObjectId:()=>isValidSuiObjectId,isValidTransactionDigest:()=>isValidTransactionDigest,normalizeStructTag:()=>normalizeStructTag,normalizeSuiAddress:()=>normalizeSuiAddress,normalizeSuiObjectId:()=>normalizeSuiObjectId,parseStructTag:()=>parseStructTag});var suiTypes=__toCommonJS$8(sui_types_exports),import_bcs$7=require$$2$1,import_move_registry$1=moveRegistry;const TX_DIGEST_LENGTH=32;function isValidTransactionDigest(a){try{return(0,import_bcs$7.fromBase58)(a).length===TX_DIGEST_LENGTH}catch{return!1}}const SUI_ADDRESS_LENGTH=32;function isValidSuiAddress(a){return isHex$1(a)&&getHexByteLength(a)===SUI_ADDRESS_LENGTH}function isValidSuiObjectId(a){return isValidSuiAddress(a)}function parseTypeTag(a){return a.includes("::")?parseStructTag(a):a}function parseStructTag(a){const[s,et]=a.split("::"),tt=(0,import_move_registry$1.isValidNamedPackage)(s),at=a.slice(s.length+et.length+4),ct=at.includes("<")?at.slice(0,at.indexOf("<")):at,ut=at.includes("<")?(0,import_bcs$7.splitGenericParameters)(at.slice(at.indexOf("<")+1,at.lastIndexOf(">"))).map(bt=>parseTypeTag(bt.trim())):[];return{address:tt?s:normalizeSuiAddress(s),module:et,name:ct,typeParams:ut}}function normalizeStructTag(a){const{address:s,module:et,name:tt,typeParams:at}=typeof a=="string"?parseStructTag(a):a,ct=(at==null?void 0:at.length)>0?`<${at.map(ut=>typeof ut=="string"?ut:normalizeStructTag(ut)).join(",")}>`:"";return`${s}::${et}::${tt}${ct}`}function normalizeSuiAddress(a,s=!1){let et=a.toLowerCase();return!s&&et.startsWith("0x")&&(et=et.slice(2)),`0x${et.padStart(SUI_ADDRESS_LENGTH*2,"0")}`}function normalizeSuiObjectId(a,s=!1){return normalizeSuiAddress(a,s)}function isHex$1(a){return/^(0x|0X)?[a-fA-F0-9]+$/.test(a)&&a.length%2===0}function getHexByteLength(a){return/^(0x|0X)/.test(a)?(a.length-2)/2:a.length/2}var __defProp$b=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__getOwnPropNames$8=Object.getOwnPropertyNames,__hasOwnProp$a=Object.prototype.hasOwnProperty,__export$7=(a,s)=>{for(var et in s)__defProp$b(a,et,{get:s[et],enumerable:!0})},__copyProps$8=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$8(s))!__hasOwnProp$a.call(a,at)&&at!==et&&__defProp$b(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$8(s,at))||tt.enumerable});return a},__toCommonJS$7=a=>__copyProps$8(__defProp$b({},"__esModule",{value:!0}),a),constants_exports={};__export$7(constants_exports,{MIST_PER_SUI:()=>MIST_PER_SUI,MOVE_STDLIB_ADDRESS:()=>MOVE_STDLIB_ADDRESS,SUI_CLOCK_OBJECT_ID:()=>SUI_CLOCK_OBJECT_ID,SUI_DECIMALS:()=>SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS:()=>SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS:()=>SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME:()=>SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID:()=>SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG:()=>SUI_TYPE_ARG});var constants$1=__toCommonJS$7(constants_exports),import_sui_types$3=suiTypes;const SUI_DECIMALS=9,MIST_PER_SUI=BigInt(1e9),MOVE_STDLIB_ADDRESS="0x1",SUI_FRAMEWORK_ADDRESS="0x2",SUI_SYSTEM_ADDRESS="0x3",SUI_CLOCK_OBJECT_ID=(0,import_sui_types$3.normalizeSuiObjectId)("0x6"),SUI_SYSTEM_MODULE_NAME="sui_system",SUI_TYPE_ARG=`${SUI_FRAMEWORK_ADDRESS}::sui::SUI`,SUI_SYSTEM_STATE_OBJECT_ID=(0,import_sui_types$3.normalizeSuiObjectId)("0x5"),require$$1$2=getAugmentedNamespace(blake2b$2);var __defProp$a=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__getOwnPropNames$7=Object.getOwnPropertyNames,__hasOwnProp$9=Object.prototype.hasOwnProperty,__export$6=(a,s)=>{for(var et in s)__defProp$a(a,et,{get:s[et],enumerable:!0})},__copyProps$7=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$7(s))!__hasOwnProp$9.call(a,at)&&at!==et&&__defProp$a(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$7(s,at))||tt.enumerable});return a},__toCommonJS$6=a=>__copyProps$7(__defProp$a({},"__esModule",{value:!0}),a),type_tag_serializer_exports={};__export$6(type_tag_serializer_exports,{TypeTagSerializer:()=>TypeTagSerializer});var typeTagSerializer=__toCommonJS$6(type_tag_serializer_exports),import_bcs$6=require$$2$1,import_sui_types$2=suiTypes;const VECTOR_REGEX=/^vector<(.+)>$/,STRUCT_REGEX=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class TypeTagSerializer{static parseFromStr(s,et=!1){if(s==="address")return{address:null};if(s==="bool")return{bool:null};if(s==="u8")return{u8:null};if(s==="u16")return{u16:null};if(s==="u32")return{u32:null};if(s==="u64")return{u64:null};if(s==="u128")return{u128:null};if(s==="u256")return{u256:null};if(s==="signer")return{signer:null};const tt=s.match(VECTOR_REGEX);if(tt)return{vector:TypeTagSerializer.parseFromStr(tt[1],et)};const at=s.match(STRUCT_REGEX);if(at)return{struct:{address:et?(0,import_sui_types$2.normalizeSuiAddress)(at[1]):at[1],module:at[2],name:at[3],typeParams:at[5]===void 0?[]:TypeTagSerializer.parseStructTypeArgs(at[5],et)}};throw new Error(`Encountered unexpected token when parsing type args for ${s}`)}static parseStructTypeArgs(s,et=!1){return(0,import_bcs$6.splitGenericParameters)(s).map(tt=>TypeTagSerializer.parseFromStr(tt,et))}static tagToString(s){if("bool"in s)return"bool";if("u8"in s)return"u8";if("u16"in s)return"u16";if("u32"in s)return"u32";if("u64"in s)return"u64";if("u128"in s)return"u128";if("u256"in s)return"u256";if("address"in s)return"address";if("signer"in s)return"signer";if("vector"in s)return`vector<${TypeTagSerializer.tagToString(s.vector)}>`;if("struct"in s){const et=s.struct,tt=et.typeParams.map(TypeTagSerializer.tagToString).join(", ");return`${et.address}::${et.module}::${et.name}${tt?`<${tt}>`:""}`}throw new Error("Invalid TypeTag")}}var __defProp$9=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__hasOwnProp$8=Object.prototype.hasOwnProperty,__export$5=(a,s)=>{for(var et in s)__defProp$9(a,et,{get:s[et],enumerable:!0})},__copyProps$6=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$6(s))!__hasOwnProp$8.call(a,at)&&at!==et&&__defProp$9(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$6(s,at))||tt.enumerable});return a},__toCommonJS$5=a=>__copyProps$6(__defProp$9({},"__esModule",{value:!0}),a),bcs_exports$1={};__export$5(bcs_exports$1,{Address:()=>Address,AppId:()=>AppId,Argument:()=>Argument,CallArg:()=>CallArg,Command:()=>Command,CompressedSignature:()=>CompressedSignature,GasData:()=>GasData,Intent:()=>Intent,IntentMessage:()=>IntentMessage,IntentScope:()=>IntentScope,IntentVersion:()=>IntentVersion,MultiSig:()=>MultiSig,MultiSigPkMap:()=>MultiSigPkMap,MultiSigPublicKey:()=>MultiSigPublicKey,ObjectArg:()=>ObjectArg,ObjectDigest:()=>ObjectDigest,PasskeyAuthenticator:()=>PasskeyAuthenticator,ProgrammableMoveCall:()=>ProgrammableMoveCall,ProgrammableTransaction:()=>ProgrammableTransaction,PublicKey:()=>PublicKey,SenderSignedData:()=>SenderSignedData,SenderSignedTransaction:()=>SenderSignedTransaction,SharedObjectRef:()=>SharedObjectRef,StructTag:()=>StructTag,SuiObjectRef:()=>SuiObjectRef,TransactionData:()=>TransactionData,TransactionDataV1:()=>TransactionDataV1,TransactionExpiration:()=>TransactionExpiration,TransactionKind:()=>TransactionKind,TypeTag:()=>TypeTag,base64String:()=>base64String});var bcs$1=__toCommonJS$5(bcs_exports$1),import_bcs$5=require$$2$1,import_sui_types$1=suiTypes,import_type_tag_serializer$1=typeTagSerializer;function unsafe_u64(a){return import_bcs$5.bcs.u64({name:"unsafe_u64",...a}).transform({input:s=>s,output:s=>Number(s)})}function optionEnum(a){return import_bcs$5.bcs.enum("Option",{None:null,Some:a})}const Address=import_bcs$5.bcs.bytes(import_sui_types$1.SUI_ADDRESS_LENGTH).transform({validate:a=>{const s=typeof a=="string"?a:(0,import_bcs$5.toHex)(a);if(!s||!(0,import_sui_types$1.isValidSuiAddress)((0,import_sui_types$1.normalizeSuiAddress)(s)))throw new Error(`Invalid Sui address ${s}`)},input:a=>typeof a=="string"?(0,import_bcs$5.fromHex)((0,import_sui_types$1.normalizeSuiAddress)(a)):a,output:a=>(0,import_sui_types$1.normalizeSuiAddress)((0,import_bcs$5.toHex)(a))}),ObjectDigest=import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({name:"ObjectDigest",input:a=>(0,import_bcs$5.fromBase58)(a),output:a=>(0,import_bcs$5.toBase58)(new Uint8Array(a)),validate:a=>{if((0,import_bcs$5.fromBase58)(a).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef=import_bcs$5.bcs.struct("SuiObjectRef",{objectId:Address,version:import_bcs$5.bcs.u64(),digest:ObjectDigest}),SharedObjectRef=import_bcs$5.bcs.struct("SharedObjectRef",{objectId:Address,initialSharedVersion:import_bcs$5.bcs.u64(),mutable:import_bcs$5.bcs.bool()}),ObjectArg=import_bcs$5.bcs.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef,SharedObject:SharedObjectRef,Receiving:SuiObjectRef}),CallArg=import_bcs$5.bcs.enum("CallArg",{Pure:import_bcs$5.bcs.struct("Pure",{bytes:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:a=>typeof a=="string"?(0,import_bcs$5.fromBase64)(a):a,output:a=>(0,import_bcs$5.toBase64)(new Uint8Array(a))})}),Object:ObjectArg}),InnerTypeTag=import_bcs$5.bcs.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:import_bcs$5.bcs.lazy(()=>InnerTypeTag),struct:import_bcs$5.bcs.lazy(()=>StructTag),u16:null,u32:null,u256:null}),TypeTag=InnerTypeTag.transform({input:a=>typeof a=="string"?import_type_tag_serializer$1.TypeTagSerializer.parseFromStr(a,!0):a,output:a=>import_type_tag_serializer$1.TypeTagSerializer.tagToString(a)}),Argument=import_bcs$5.bcs.enum("Argument",{GasCoin:null,Input:import_bcs$5.bcs.u16(),Result:import_bcs$5.bcs.u16(),NestedResult:import_bcs$5.bcs.tuple([import_bcs$5.bcs.u16(),import_bcs$5.bcs.u16()])}),ProgrammableMoveCall=import_bcs$5.bcs.struct("ProgrammableMoveCall",{package:Address,module:import_bcs$5.bcs.string(),function:import_bcs$5.bcs.string(),typeArguments:import_bcs$5.bcs.vector(TypeTag),arguments:import_bcs$5.bcs.vector(Argument)}),Command=import_bcs$5.bcs.enum("Command",{MoveCall:ProgrammableMoveCall,TransferObjects:import_bcs$5.bcs.struct("TransferObjects",{objects:import_bcs$5.bcs.vector(Argument),address:Argument}),SplitCoins:import_bcs$5.bcs.struct("SplitCoins",{coin:Argument,amounts:import_bcs$5.bcs.vector(Argument)}),MergeCoins:import_bcs$5.bcs.struct("MergeCoins",{destination:Argument,sources:import_bcs$5.bcs.vector(Argument)}),Publish:import_bcs$5.bcs.struct("Publish",{modules:import_bcs$5.bcs.vector(import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:a=>typeof a=="string"?(0,import_bcs$5.fromBase64)(a):a,output:a=>(0,import_bcs$5.toBase64)(new Uint8Array(a))})),dependencies:import_bcs$5.bcs.vector(Address)}),MakeMoveVec:import_bcs$5.bcs.struct("MakeMoveVec",{type:optionEnum(TypeTag).transform({input:a=>a===null?{None:!0}:{Some:a},output:a=>a.Some??null}),elements:import_bcs$5.bcs.vector(Argument)}),Upgrade:import_bcs$5.bcs.struct("Upgrade",{modules:import_bcs$5.bcs.vector(import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:a=>typeof a=="string"?(0,import_bcs$5.fromBase64)(a):a,output:a=>(0,import_bcs$5.toBase64)(new Uint8Array(a))})),dependencies:import_bcs$5.bcs.vector(Address),package:Address,ticket:Argument})}),ProgrammableTransaction=import_bcs$5.bcs.struct("ProgrammableTransaction",{inputs:import_bcs$5.bcs.vector(CallArg),commands:import_bcs$5.bcs.vector(Command)}),TransactionKind=import_bcs$5.bcs.enum("TransactionKind",{ProgrammableTransaction,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration=import_bcs$5.bcs.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64()}),StructTag=import_bcs$5.bcs.struct("StructTag",{address:Address,module:import_bcs$5.bcs.string(),name:import_bcs$5.bcs.string(),typeParams:import_bcs$5.bcs.vector(InnerTypeTag)}),GasData=import_bcs$5.bcs.struct("GasData",{payment:import_bcs$5.bcs.vector(SuiObjectRef),owner:Address,price:import_bcs$5.bcs.u64(),budget:import_bcs$5.bcs.u64()}),TransactionDataV1=import_bcs$5.bcs.struct("TransactionDataV1",{kind:TransactionKind,sender:Address,gasData:GasData,expiration:TransactionExpiration}),TransactionData=import_bcs$5.bcs.enum("TransactionData",{V1:TransactionDataV1}),IntentScope=import_bcs$5.bcs.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion=import_bcs$5.bcs.enum("IntentVersion",{V0:null}),AppId=import_bcs$5.bcs.enum("AppId",{Sui:null}),Intent=import_bcs$5.bcs.struct("Intent",{scope:IntentScope,version:IntentVersion,appId:AppId});function IntentMessage(a){return import_bcs$5.bcs.struct(`IntentMessage<${a.name}>`,{intent:Intent,value:a})}const CompressedSignature=import_bcs$5.bcs.enum("CompressedSignature",{ED25519:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),Secp256k1:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),Secp256r1:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),ZkLogin:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())}),PublicKey=import_bcs$5.bcs.enum("PublicKey",{ED25519:import_bcs$5.bcs.fixedArray(32,import_bcs$5.bcs.u8()),Secp256k1:import_bcs$5.bcs.fixedArray(33,import_bcs$5.bcs.u8()),Secp256r1:import_bcs$5.bcs.fixedArray(33,import_bcs$5.bcs.u8()),ZkLogin:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())}),MultiSigPkMap=import_bcs$5.bcs.struct("MultiSigPkMap",{pubKey:PublicKey,weight:import_bcs$5.bcs.u8()}),MultiSigPublicKey=import_bcs$5.bcs.struct("MultiSigPublicKey",{pk_map:import_bcs$5.bcs.vector(MultiSigPkMap),threshold:import_bcs$5.bcs.u16()}),MultiSig=import_bcs$5.bcs.struct("MultiSig",{sigs:import_bcs$5.bcs.vector(CompressedSignature),bitmap:import_bcs$5.bcs.u16(),multisig_pk:MultiSigPublicKey}),base64String=import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:a=>typeof a=="string"?(0,import_bcs$5.fromBase64)(a):a,output:a=>(0,import_bcs$5.toBase64)(new Uint8Array(a))}),SenderSignedTransaction=import_bcs$5.bcs.struct("SenderSignedTransaction",{intentMessage:IntentMessage(TransactionData),txSignatures:import_bcs$5.bcs.vector(base64String)}),SenderSignedData=import_bcs$5.bcs.vector(SenderSignedTransaction,{name:"SenderSignedData"}),PasskeyAuthenticator=import_bcs$5.bcs.struct("PasskeyAuthenticator",{authenticatorData:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()),clientDataJson:import_bcs$5.bcs.string(),userSignature:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())});var __defProp$8=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$7=Object.prototype.hasOwnProperty,__export$4=(a,s)=>{for(var et in s)__defProp$8(a,et,{get:s[et],enumerable:!0})},__copyProps$5=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$5(s))!__hasOwnProp$7.call(a,at)&&at!==et&&__defProp$8(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$5(s,at))||tt.enumerable});return a},__toCommonJS$4=a=>__copyProps$5(__defProp$8({},"__esModule",{value:!0}),a),effects_exports={};__export$4(effects_exports,{TransactionEffects:()=>TransactionEffects});var effects=__toCommonJS$4(effects_exports),import_bcs$4=require$$2$1,import_bcs2$3=bcs$1;const PackageUpgradeError=import_bcs$4.bcs.enum("PackageUpgradeError",{UnableToFetchPackage:import_bcs$4.bcs.struct("UnableToFetchPackage",{packageId:import_bcs2$3.Address}),NotAPackage:import_bcs$4.bcs.struct("NotAPackage",{objectId:import_bcs2$3.Address}),IncompatibleUpgrade:null,DigestDoesNotMatch:import_bcs$4.bcs.struct("DigestDoesNotMatch",{digest:import_bcs$4.bcs.vector(import_bcs$4.bcs.u8())}),UnknownUpgradePolicy:import_bcs$4.bcs.struct("UnknownUpgradePolicy",{policy:import_bcs$4.bcs.u8()}),PackageIDDoesNotMatch:import_bcs$4.bcs.struct("PackageIDDoesNotMatch",{packageId:import_bcs2$3.Address,ticketId:import_bcs2$3.Address})}),ModuleId=import_bcs$4.bcs.struct("ModuleId",{address:import_bcs2$3.Address,name:import_bcs$4.bcs.string()}),MoveLocation=import_bcs$4.bcs.struct("MoveLocation",{module:ModuleId,function:import_bcs$4.bcs.u16(),instruction:import_bcs$4.bcs.u16(),functionName:import_bcs$4.bcs.option(import_bcs$4.bcs.string())}),CommandArgumentError=import_bcs$4.bcs.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:import_bcs$4.bcs.struct("IndexOutOfBounds",{idx:import_bcs$4.bcs.u16()}),SecondaryIndexOutOfBounds:import_bcs$4.bcs.struct("SecondaryIndexOutOfBounds",{resultIdx:import_bcs$4.bcs.u16(),secondaryIdx:import_bcs$4.bcs.u16()}),InvalidResultArity:import_bcs$4.bcs.struct("InvalidResultArity",{resultIdx:import_bcs$4.bcs.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError=import_bcs$4.bcs.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus=import_bcs$4.bcs.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:import_bcs$4.bcs.struct("MoveObjectTooBig",{objectSize:import_bcs$4.bcs.u64(),maxObjectSize:import_bcs$4.bcs.u64()}),MovePackageTooBig:import_bcs$4.bcs.struct("MovePackageTooBig",{objectSize:import_bcs$4.bcs.u64(),maxObjectSize:import_bcs$4.bcs.u64()}),CircularObjectOwnership:import_bcs$4.bcs.struct("CircularObjectOwnership",{object:import_bcs2$3.Address}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:import_bcs$4.bcs.option(MoveLocation),MoveAbort:import_bcs$4.bcs.tuple([MoveLocation,import_bcs$4.bcs.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:import_bcs$4.bcs.struct("CommandArgumentError",{argIdx:import_bcs$4.bcs.u16(),kind:CommandArgumentError}),TypeArgumentError:import_bcs$4.bcs.struct("TypeArgumentError",{argumentIdx:import_bcs$4.bcs.u16(),kind:TypeArgumentError}),UnusedValueWithoutDrop:import_bcs$4.bcs.struct("UnusedValueWithoutDrop",{resultIdx:import_bcs$4.bcs.u16(),secondaryIdx:import_bcs$4.bcs.u16()}),InvalidPublicFunctionReturnType:import_bcs$4.bcs.struct("InvalidPublicFunctionReturnType",{idx:import_bcs$4.bcs.u16()}),InvalidTransferObject:null,EffectsTooLarge:import_bcs$4.bcs.struct("EffectsTooLarge",{currentSize:import_bcs$4.bcs.u64(),maxSize:import_bcs$4.bcs.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:import_bcs$4.bcs.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError}),WrittenObjectsTooLarge:import_bcs$4.bcs.struct("WrittenObjectsTooLarge",{currentSize:import_bcs$4.bcs.u64(),maxSize:import_bcs$4.bcs.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:import_bcs$4.bcs.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:import_bcs$4.bcs.vector(import_bcs2$3.Address)}),AddressDeniedForCoin:import_bcs$4.bcs.struct("AddressDeniedForCoin",{address:import_bcs2$3.Address,coinType:import_bcs$4.bcs.string()}),CoinTypeGlobalPause:import_bcs$4.bcs.struct("CoinTypeGlobalPause",{coinType:import_bcs$4.bcs.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus=import_bcs$4.bcs.enum("ExecutionStatus",{Success:null,Failed:import_bcs$4.bcs.struct("ExecutionFailed",{error:ExecutionFailureStatus,command:import_bcs$4.bcs.option(import_bcs$4.bcs.u64())})}),GasCostSummary=import_bcs$4.bcs.struct("GasCostSummary",{computationCost:import_bcs$4.bcs.u64(),storageCost:import_bcs$4.bcs.u64(),storageRebate:import_bcs$4.bcs.u64(),nonRefundableStorageFee:import_bcs$4.bcs.u64()}),Owner=import_bcs$4.bcs.enum("Owner",{AddressOwner:import_bcs2$3.Address,ObjectOwner:import_bcs2$3.Address,Shared:import_bcs$4.bcs.struct("Shared",{initialSharedVersion:import_bcs$4.bcs.u64()}),Immutable:null}),TransactionEffectsV1=import_bcs$4.bcs.struct("TransactionEffectsV1",{status:ExecutionStatus,executedEpoch:import_bcs$4.bcs.u64(),gasUsed:GasCostSummary,modifiedAtVersions:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,import_bcs$4.bcs.u64()])),sharedObjects:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),transactionDigest:import_bcs2$3.ObjectDigest,created:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner])),mutated:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner])),unwrapped:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner])),deleted:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),unwrappedThenDeleted:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),wrapped:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),gasObject:import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner]),eventsDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest),dependencies:import_bcs$4.bcs.vector(import_bcs2$3.ObjectDigest)}),VersionDigest=import_bcs$4.bcs.tuple([import_bcs$4.bcs.u64(),import_bcs2$3.ObjectDigest]),ObjectIn=import_bcs$4.bcs.enum("ObjectIn",{NotExist:null,Exist:import_bcs$4.bcs.tuple([VersionDigest,Owner])}),ObjectOut=import_bcs$4.bcs.enum("ObjectOut",{NotExist:null,ObjectWrite:import_bcs$4.bcs.tuple([import_bcs2$3.ObjectDigest,Owner]),PackageWrite:VersionDigest}),IDOperation=import_bcs$4.bcs.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange=import_bcs$4.bcs.struct("EffectsObjectChange",{inputState:ObjectIn,outputState:ObjectOut,idOperation:IDOperation}),UnchangedSharedKind=import_bcs$4.bcs.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest,MutateDeleted:import_bcs$4.bcs.u64(),ReadDeleted:import_bcs$4.bcs.u64(),Cancelled:import_bcs$4.bcs.u64(),PerEpochConfig:null}),TransactionEffectsV2=import_bcs$4.bcs.struct("TransactionEffectsV2",{status:ExecutionStatus,executedEpoch:import_bcs$4.bcs.u64(),gasUsed:GasCostSummary,transactionDigest:import_bcs2$3.ObjectDigest,gasObjectIndex:import_bcs$4.bcs.option(import_bcs$4.bcs.u32()),eventsDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest),dependencies:import_bcs$4.bcs.vector(import_bcs2$3.ObjectDigest),lamportVersion:import_bcs$4.bcs.u64(),changedObjects:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,EffectsObjectChange])),unchangedSharedObjects:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,UnchangedSharedKind])),auxDataDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest)}),TransactionEffects=import_bcs$4.bcs.enum("TransactionEffects",{V1:TransactionEffectsV1,V2:TransactionEffectsV2});var __defProp$7=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$3=(a,s)=>{for(var et in s)__defProp$7(a,et,{get:s[et],enumerable:!0})},__copyProps$4=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$4(s))!__hasOwnProp$6.call(a,at)&&at!==et&&__defProp$7(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$4(s,at))||tt.enumerable});return a},__toCommonJS$3=a=>__copyProps$4(__defProp$7({},"__esModule",{value:!0}),a),pure_exports={};__export$3(pure_exports,{pureBcsSchemaFromTypeName:()=>pureBcsSchemaFromTypeName});var pure=__toCommonJS$3(pure_exports),import_bcs$3=require$$2$1,import_bcs2$2=bcs$1;function pureBcsSchemaFromTypeName(a){switch(a){case"u8":return import_bcs$3.bcs.u8();case"u16":return import_bcs$3.bcs.u16();case"u32":return import_bcs$3.bcs.u32();case"u64":return import_bcs$3.bcs.u64();case"u128":return import_bcs$3.bcs.u128();case"u256":return import_bcs$3.bcs.u256();case"bool":return import_bcs$3.bcs.bool();case"string":return import_bcs$3.bcs.string();case"id":case"address":return import_bcs2$2.Address}const s=a.match(/^(vector|option)<(.+)>$/);if(s){const[et,tt]=s.slice(1);return et==="vector"?import_bcs$3.bcs.vector(pureBcsSchemaFromTypeName(tt)):import_bcs$3.bcs.option(pureBcsSchemaFromTypeName(tt))}throw new Error(`Invalid Pure type name: ${a}`)}var __defProp$6=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$2=(a,s)=>{for(var et in s)__defProp$6(a,et,{get:s[et],enumerable:!0})},__copyProps$3=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$3(s))!__hasOwnProp$5.call(a,at)&&at!==et&&__defProp$6(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$3(s,at))||tt.enumerable});return a},__toCommonJS$2=a=>__copyProps$3(__defProp$6({},"__esModule",{value:!0}),a),bcs_exports={};__export$2(bcs_exports,{BcsType:()=>import_bcs3.BcsType,TypeTagSerializer:()=>import_type_tag_serializer.TypeTagSerializer,bcs:()=>suiBcs,pureBcsSchemaFromTypeName:()=>import_pure.pureBcsSchemaFromTypeName});var bcs=__toCommonJS$2(bcs_exports),import_bcs$2=require$$2$1,import_bcs2$1=bcs$1,import_effects=effects,import_type_tag_serializer=typeTagSerializer,import_bcs3=require$$2$1,import_pure=pure;const suiBcs={...import_bcs$2.bcs,U8:import_bcs$2.bcs.u8(),U16:import_bcs$2.bcs.u16(),U32:import_bcs$2.bcs.u32(),U64:import_bcs$2.bcs.u64(),U128:import_bcs$2.bcs.u128(),U256:import_bcs$2.bcs.u256(),ULEB128:import_bcs$2.bcs.uleb128(),Bool:import_bcs$2.bcs.bool(),String:import_bcs$2.bcs.string(),Address:import_bcs2$1.Address,AppId:import_bcs2$1.AppId,Argument:import_bcs2$1.Argument,CallArg:import_bcs2$1.CallArg,CompressedSignature:import_bcs2$1.CompressedSignature,GasData:import_bcs2$1.GasData,Intent:import_bcs2$1.Intent,IntentMessage:import_bcs2$1.IntentMessage,IntentScope:import_bcs2$1.IntentScope,IntentVersion:import_bcs2$1.IntentVersion,MultiSig:import_bcs2$1.MultiSig,MultiSigPkMap:import_bcs2$1.MultiSigPkMap,MultiSigPublicKey:import_bcs2$1.MultiSigPublicKey,ObjectArg:import_bcs2$1.ObjectArg,ObjectDigest:import_bcs2$1.ObjectDigest,ProgrammableMoveCall:import_bcs2$1.ProgrammableMoveCall,ProgrammableTransaction:import_bcs2$1.ProgrammableTransaction,PublicKey:import_bcs2$1.PublicKey,SenderSignedData:import_bcs2$1.SenderSignedData,SenderSignedTransaction:import_bcs2$1.SenderSignedTransaction,SharedObjectRef:import_bcs2$1.SharedObjectRef,StructTag:import_bcs2$1.StructTag,SuiObjectRef:import_bcs2$1.SuiObjectRef,Command:import_bcs2$1.Command,TransactionData:import_bcs2$1.TransactionData,TransactionDataV1:import_bcs2$1.TransactionDataV1,TransactionExpiration:import_bcs2$1.TransactionExpiration,TransactionKind:import_bcs2$1.TransactionKind,TypeTag:import_bcs2$1.TypeTag,TransactionEffects:import_effects.TransactionEffects,PasskeyAuthenticator:import_bcs2$1.PasskeyAuthenticator};var __defProp$5=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$1=(a,s)=>{for(var et in s)__defProp$5(a,et,{get:s[et],enumerable:!0})},__copyProps$2=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$2(s))!__hasOwnProp$4.call(a,at)&&at!==et&&__defProp$5(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$2(s,at))||tt.enumerable});return a},__toCommonJS$1=a=>__copyProps$2(__defProp$5({},"__esModule",{value:!0}),a),dynamic_fields_exports={};__export$1(dynamic_fields_exports,{deriveDynamicFieldID:()=>deriveDynamicFieldID});var dynamicFields=__toCommonJS$1(dynamic_fields_exports),import_bcs$1=require$$2$1,import_blake2b=require$$1$2,import_bcs2=bcs;function deriveDynamicFieldID(a,s,et){const tt=import_bcs2.bcs.Address.serialize(a).toBytes(),at=import_bcs2.bcs.TypeTag.serialize(s).toBytes(),ct=import_bcs2.bcs.u64().serialize(et.length).toBytes(),ut=import_blake2b.blake2b.create({dkLen:32});return ut.update(new Uint8Array([240])),ut.update(tt),ut.update(ct),ut.update(et),ut.update(at),`0x${(0,import_bcs$1.toHex)(ut.digest().slice(0,32))}`}var __defProp$4=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export=(a,s)=>{for(var et in s)__defProp$4(a,et,{get:s[et],enumerable:!0})},__copyProps$1=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames$1(s))!__hasOwnProp$3.call(a,at)&&at!==et&&__defProp$4(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc$1(s,at))||tt.enumerable});return a},__toCommonJS=a=>__copyProps$1(__defProp$4({},"__esModule",{value:!0}),a),utils_exports={};__export(utils_exports,{MIST_PER_SUI:()=>import_constants.MIST_PER_SUI,MOVE_STDLIB_ADDRESS:()=>import_constants.MOVE_STDLIB_ADDRESS,SUI_ADDRESS_LENGTH:()=>import_sui_types.SUI_ADDRESS_LENGTH,SUI_CLOCK_OBJECT_ID:()=>import_constants.SUI_CLOCK_OBJECT_ID,SUI_DECIMALS:()=>import_constants.SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS:()=>import_constants.SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS:()=>import_constants.SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME:()=>import_constants.SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID:()=>import_constants.SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG:()=>import_constants.SUI_TYPE_ARG,deriveDynamicFieldID:()=>import_dynamic_fields.deriveDynamicFieldID,formatAddress:()=>import_format.formatAddress,formatDigest:()=>import_format.formatDigest,fromB64:()=>import_bcs.fromB64,fromBase58:()=>import_bcs.fromBase58,fromBase64:()=>import_bcs.fromBase64,fromHEX:()=>import_bcs.fromHEX,fromHex:()=>import_bcs.fromHex,isValidNamedPackage:()=>import_move_registry.isValidNamedPackage,isValidNamedType:()=>import_move_registry.isValidNamedType,isValidSuiAddress:()=>import_sui_types.isValidSuiAddress,isValidSuiNSName:()=>import_suins.isValidSuiNSName,isValidSuiObjectId:()=>import_sui_types.isValidSuiObjectId,isValidTransactionDigest:()=>import_sui_types.isValidTransactionDigest,normalizeStructTag:()=>import_sui_types.normalizeStructTag,normalizeSuiAddress:()=>import_sui_types.normalizeSuiAddress,normalizeSuiNSName:()=>import_suins.normalizeSuiNSName,normalizeSuiObjectId:()=>import_sui_types.normalizeSuiObjectId,parseStructTag:()=>import_sui_types.parseStructTag,toB64:()=>import_bcs.toB64,toBase58:()=>import_bcs.toBase58,toBase64:()=>import_bcs.toBase64,toHEX:()=>import_bcs.toHEX,toHex:()=>import_bcs.toHex});var utils$4=__toCommonJS(utils_exports),import_format=format$1,import_sui_types=suiTypes,import_bcs=require$$2$1,import_suins=suins,import_constants=constants$1,import_move_registry=moveRegistry,import_dynamic_fields=dynamicFields;Object.defineProperty(client,"__esModule",{value:!0});client.SuiPythClient=void 0;const utils_1=utils$4,bcs_1=bcs,buffer_1=require$$1$3,MAX_ARGUMENT_SIZE=16*1024;class SuiPythClient{constructor(s,et,tt){dn(this,"provider");dn(this,"pythStateId");dn(this,"wormholeStateId");dn(this,"pythPackageId");dn(this,"wormholePackageId");dn(this,"priceTableInfo");dn(this,"priceFeedObjectIdCache",new Map);dn(this,"baseUpdateFee");this.provider=s,this.pythStateId=et,this.wormholeStateId=tt,this.pythPackageId=void 0,this.wormholePackageId=void 0}async getBaseUpdateFee(){if(this.baseUpdateFee===void 0){const s=await this.provider.getObject({id:this.pythStateId,options:{showContent:!0}});if(!s.data||!s.data.content||s.data.content.dataType!=="moveObject")throw new Error("Unable to fetch pyth state object");this.baseUpdateFee=s.data.content.fields.base_update_fee}return this.baseUpdateFee}async getPackageId(s){const et=await this.provider.getObject({id:s,options:{showContent:!0}}).then(tt=>{var at,ct,ut;if(((ct=(at=tt.data)==null?void 0:at.content)==null?void 0:ct.dataType)=="moveObject")return tt.data.content.fields;throw console.log((ut=tt.data)==null?void 0:ut.content),new Error(`Cannot fetch package id for object ${s}`)});if("upgrade_cap"in et)return et.upgrade_cap.fields.package;throw new Error("upgrade_cap not found")}async verifyVaas(s,et){const tt=await this.getWormholePackageId(),at=[];for(const ct of s){const[ut]=et.moveCall({target:`${tt}::vaa::parse_and_verify`,arguments:[et.object(this.wormholeStateId),et.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(ct),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),et.object(utils_1.SUI_CLOCK_OBJECT_ID)]});at.push(ut)}return at}async updatePriceFeeds(s,et,tt){const at=await this.getPythPackageId();let ct;if(et.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const ut=this.extractVaaBytesFromAccumulatorMessage(et[0]),bt=await this.verifyVaas([ut],s);[ct]=s.moveCall({target:`${at}::pyth::create_authenticated_price_infos_using_accumulator`,arguments:[s.object(this.pythStateId),s.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(et[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),bt[0],s.object(utils_1.SUI_CLOCK_OBJECT_ID)]});const wt=[],Et=await this.getBaseUpdateFee(),Ft=s.splitCoins(s.gas,tt.map(()=>s.pure.u64(Et)));let jt=0;for(const Lt of tt){const Ut=await this.getPriceFeedObjectId(Lt);if(!Ut)throw new Error(`Price feed ${Lt} not found, please create it first`);wt.push(Ut),[ct]=s.moveCall({target:`${at}::pyth::update_single_price_feed`,arguments:[s.object(this.pythStateId),ct,s.object(Ut),Ft[jt],s.object(utils_1.SUI_CLOCK_OBJECT_ID)]}),jt++}return s.moveCall({target:`${at}::hot_potato_vector::destroy`,arguments:[ct],typeArguments:[`${at}::price_info::PriceInfo`]}),wt}async createPriceFeed(s,et){const tt=await this.getPythPackageId();if(et.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const at=this.extractVaaBytesFromAccumulatorMessage(et[0]),ct=await this.verifyVaas([at],s);s.moveCall({target:`${tt}::pyth::create_price_feeds_using_accumulator`,arguments:[s.object(this.pythStateId),s.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(et[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),ct[0],s.object(utils_1.SUI_CLOCK_OBJECT_ID)]})}async getWormholePackageId(){return this.wormholePackageId||(this.wormholePackageId=await this.getPackageId(this.wormholeStateId)),this.wormholePackageId}async getPythPackageId(){return this.pythPackageId||(this.pythPackageId=await this.getPackageId(this.pythStateId)),this.pythPackageId}async getPriceFeedObjectId(s){const et=s.replace("0x","");if(!this.priceFeedObjectIdCache.has(et)){const{id:tt,fieldType:at}=await this.getPriceTableInfo(),ct=await this.provider.getDynamicFieldObject({parentId:tt,name:{type:`${at}::price_identifier::PriceIdentifier`,value:{bytes:Array.from(buffer_1.Buffer.from(et,"hex"))}}});if(!ct.data||!ct.data.content)return;if(ct.data.content.dataType!=="moveObject")throw new Error("Price feed type mismatch");this.priceFeedObjectIdCache.set(et,ct.data.content.fields.value)}return this.priceFeedObjectIdCache.get(et)}async getPriceTableInfo(){if(this.priceTableInfo===void 0){const s=await this.provider.getDynamicFieldObject({parentId:this.pythStateId,name:{type:"vector<u8>",value:"price_info"}});if(!s.data||!s.data.type)throw new Error("Price Table not found, contract may not be initialized");let et=s.data.type.replace("0x2::table::Table<","");et=et.replace("::price_identifier::PriceIdentifier, 0x2::object::ID>",""),this.priceTableInfo={id:s.data.objectId,fieldType:et}}return this.priceTableInfo}extractVaaBytesFromAccumulatorMessage(s){const tt=7+s.readUint8(6)+1,at=s.readUint16BE(tt),ct=tt+2;return s.subarray(ct,ct+at)}}client.SuiPythClient=SuiPythClient;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PriceFeed=a.Price=a.SuiPythClient=a.SuiPriceServiceConnection=void 0;var s=SuiPriceServiceConnection$1;Object.defineProperty(a,"SuiPriceServiceConnection",{enumerable:!0,get:function(){return s.SuiPriceServiceConnection}});var et=client;Object.defineProperty(a,"SuiPythClient",{enumerable:!0,get:function(){return et.SuiPythClient}});var tt=lib$2;Object.defineProperty(a,"Price",{enumerable:!0,get:function(){return tt.Price}}),Object.defineProperty(a,"PriceFeed",{enumerable:!0,get:function(){return tt.PriceFeed}})})(lib$3);var __create=Object.create,__defProp$3=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(a,s,et)=>s in a?__defProp$3(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__spreadValues$2=(a,s)=>{for(var et in s||(s={}))__hasOwnProp$2.call(s,et)&&__defNormalProp$3(a,et,s[et]);if(__getOwnPropSymbols$2)for(var et of __getOwnPropSymbols$2(s))__propIsEnum$2.call(s,et)&&__defNormalProp$3(a,et,s[et]);return a},__spreadProps$1=(a,s)=>__defProps$1(a,__getOwnPropDescs$1(s)),__require=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(s,et)=>(typeof require<"u"?require:s)[et]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')}),__commonJS=(a,s)=>function(){return s||(0,a[__getOwnPropNames(a)[0]])((s={exports:{}}).exports,s),s.exports},__copyProps=(a,s,et,tt)=>{if(s&&typeof s=="object"||typeof s=="function")for(let at of __getOwnPropNames(s))!__hasOwnProp$2.call(a,at)&&at!==et&&__defProp$3(a,at,{get:()=>s[at],enumerable:!(tt=__getOwnPropDesc(s,at))||tt.enumerable});return a},__toESM=(a,s,et)=>(et=a!=null?__create(__getProtoOf(a)):{},__copyProps(!a||!a.__esModule?__defProp$3(et,"default",{value:a,enumerable:!0}):et,a)),__async=(a,s,et)=>new Promise((tt,at)=>{var ct=wt=>{try{bt(et.next(wt))}catch(Et){at(Et)}},ut=wt=>{try{bt(et.throw(wt))}catch(Et){at(Et)}},bt=wt=>wt.done?tt(wt.value):Promise.resolve(wt.value).then(ct,ut);bt((et=et.apply(a,s)).next())}),require_bn=__commonJS({"node_modules/bn.js/lib/bn.js"(a,s){(function(et,tt){function at(or,rr){if(!or)throw new Error(rr||"Assertion failed")}function ct(or,rr){or.super_=rr;var ar=function(){};ar.prototype=rr.prototype,or.prototype=new ar,or.prototype.constructor=or}function ut(or,rr,ar){if(ut.isBN(or))return or;this.negative=0,this.words=null,this.length=0,this.red=null,or!==null&&((rr==="le"||rr==="be")&&(ar=rr,rr=10),this._init(or||0,rr||10,ar||"be"))}typeof et=="object"?et.exports=ut:tt.BN=ut,ut.BN=ut,ut.wordSize=26;var bt;try{typeof window<"u"&&typeof window.Buffer<"u"?bt=window.Buffer:bt=__require("buffer").Buffer}catch{}ut.isBN=function(rr){return rr instanceof ut?!0:rr!==null&&typeof rr=="object"&&rr.constructor.wordSize===ut.wordSize&&Array.isArray(rr.words)},ut.max=function(rr,ar){return rr.cmp(ar)>0?rr:ar},ut.min=function(rr,ar){return rr.cmp(ar)<0?rr:ar},ut.prototype._init=function(rr,ar,sr){if(typeof rr=="number")return this._initNumber(rr,ar,sr);if(typeof rr=="object")return this._initArray(rr,ar,sr);ar==="hex"&&(ar=16),at(ar===(ar|0)&&ar>=2&&ar<=36),rr=rr.toString().replace(/\s+/g,"");var dr=0;rr[0]==="-"&&(dr++,this.negative=1),dr<rr.length&&(ar===16?this._parseHex(rr,dr,sr):(this._parseBase(rr,ar,dr),sr==="le"&&this._initArray(this.toArray(),ar,sr)))},ut.prototype._initNumber=function(rr,ar,sr){rr<0&&(this.negative=1,rr=-rr),rr<67108864?(this.words=[rr&67108863],this.length=1):rr<4503599627370496?(this.words=[rr&67108863,rr/67108864&67108863],this.length=2):(at(rr<9007199254740992),this.words=[rr&67108863,rr/67108864&67108863,1],this.length=3),sr==="le"&&this._initArray(this.toArray(),ar,sr)},ut.prototype._initArray=function(rr,ar,sr){if(at(typeof rr.length=="number"),rr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(rr.length/3),this.words=new Array(this.length);for(var dr=0;dr<this.length;dr++)this.words[dr]=0;var gr,ur,_r=0;if(sr==="be")for(dr=rr.length-1,gr=0;dr>=0;dr-=3)ur=rr[dr]|rr[dr-1]<<8|rr[dr-2]<<16,this.words[gr]|=ur<<_r&67108863,this.words[gr+1]=ur>>>26-_r&67108863,_r+=24,_r>=26&&(_r-=26,gr++);else if(sr==="le")for(dr=0,gr=0;dr<rr.length;dr+=3)ur=rr[dr]|rr[dr+1]<<8|rr[dr+2]<<16,this.words[gr]|=ur<<_r&67108863,this.words[gr+1]=ur>>>26-_r&67108863,_r+=24,_r>=26&&(_r-=26,gr++);return this._strip()};function wt(or,rr){var ar=or.charCodeAt(rr);if(ar>=48&&ar<=57)return ar-48;if(ar>=65&&ar<=70)return ar-55;if(ar>=97&&ar<=102)return ar-87;at(!1,"Invalid character in "+or)}function Et(or,rr,ar){var sr=wt(or,ar);return ar-1>=rr&&(sr|=wt(or,ar-1)<<4),sr}ut.prototype._parseHex=function(rr,ar,sr){this.length=Math.ceil((rr.length-ar)/6),this.words=new Array(this.length);for(var dr=0;dr<this.length;dr++)this.words[dr]=0;var gr=0,ur=0,_r;if(sr==="be")for(dr=rr.length-1;dr>=ar;dr-=2)_r=Et(rr,ar,dr)<<gr,this.words[ur]|=_r&67108863,gr>=18?(gr-=18,ur+=1,this.words[ur]|=_r>>>26):gr+=8;else{var hr=rr.length-ar;for(dr=hr%2===0?ar+1:ar;dr<rr.length;dr+=2)_r=Et(rr,ar,dr)<<gr,this.words[ur]|=_r&67108863,gr>=18?(gr-=18,ur+=1,this.words[ur]|=_r>>>26):gr+=8}this._strip()};function Ft(or,rr,ar,sr){for(var dr=0,gr=0,ur=Math.min(or.length,ar),_r=rr;_r<ur;_r++){var hr=or.charCodeAt(_r)-48;dr*=sr,hr>=49?gr=hr-49+10:hr>=17?gr=hr-17+10:gr=hr,at(hr>=0&&gr<sr,"Invalid character"),dr+=gr}return dr}ut.prototype._parseBase=function(rr,ar,sr){this.words=[0],this.length=1;for(var dr=0,gr=1;gr<=67108863;gr*=ar)dr++;dr--,gr=gr/ar|0;for(var ur=rr.length-sr,_r=ur%dr,hr=Math.min(ur,ur-_r)+sr,cr=0,wr=sr;wr<hr;wr+=dr)cr=Ft(rr,wr,wr+dr,ar),this.imuln(gr),this.words[0]+cr<67108864?this.words[0]+=cr:this._iaddn(cr);if(_r!==0){var Br=1;for(cr=Ft(rr,wr,rr.length,ar),wr=0;wr<_r;wr++)Br*=ar;this.imuln(Br),this.words[0]+cr<67108864?this.words[0]+=cr:this._iaddn(cr)}this._strip()},ut.prototype.copy=function(rr){rr.words=new Array(this.length);for(var ar=0;ar<this.length;ar++)rr.words[ar]=this.words[ar];rr.length=this.length,rr.negative=this.negative,rr.red=this.red};function jt(or,rr){or.words=rr.words,or.length=rr.length,or.negative=rr.negative,or.red=rr.red}if(ut.prototype._move=function(rr){jt(rr,this)},ut.prototype.clone=function(){var rr=new ut(null);return this.copy(rr),rr},ut.prototype._expand=function(rr){for(;this.length<rr;)this.words[this.length++]=0;return this},ut.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ut.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ut.prototype[Symbol.for("nodejs.util.inspect.custom")]=Lt}catch{ut.prototype.inspect=Lt}else ut.prototype.inspect=Lt;function Lt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Yt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ut.prototype.toString=function(rr,ar){rr=rr||10,ar=ar|0||1;var sr;if(rr===16||rr==="hex"){sr="";for(var dr=0,gr=0,ur=0;ur<this.length;ur++){var _r=this.words[ur],hr=((_r<<dr|gr)&16777215).toString(16);gr=_r>>>24-dr&16777215,dr+=2,dr>=26&&(dr-=26,ur--),gr!==0||ur!==this.length-1?sr=Ut[6-hr.length]+hr+sr:sr=hr+sr}for(gr!==0&&(sr=gr.toString(16)+sr);sr.length%ar!==0;)sr="0"+sr;return this.negative!==0&&(sr="-"+sr),sr}if(rr===(rr|0)&&rr>=2&&rr<=36){var cr=Vt[rr],wr=Yt[rr];sr="";var Br=this.clone();for(Br.negative=0;!Br.isZero();){var Or=Br.modrn(wr).toString(rr);Br=Br.idivn(wr),Br.isZero()?sr=Or+sr:sr=Ut[cr-Or.length]+Or+sr}for(this.isZero()&&(sr="0"+sr);sr.length%ar!==0;)sr="0"+sr;return this.negative!==0&&(sr="-"+sr),sr}at(!1,"Base should be between 2 and 36")},ut.prototype.toNumber=function(){var rr=this.words[0];return this.length===2?rr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?rr+=4503599627370496+this.words[1]*67108864:this.length>2&&at(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-rr:rr},ut.prototype.toJSON=function(){return this.toString(16,2)},bt&&(ut.prototype.toBuffer=function(rr,ar){return this.toArrayLike(bt,rr,ar)}),ut.prototype.toArray=function(rr,ar){return this.toArrayLike(Array,rr,ar)};var er=function(rr,ar){return rr.allocUnsafe?rr.allocUnsafe(ar):new rr(ar)};ut.prototype.toArrayLike=function(rr,ar,sr){this._strip();var dr=this.byteLength(),gr=sr||Math.max(1,dr);at(dr<=gr,"byte array longer than desired length"),at(gr>0,"Requested array length <= 0");var ur=er(rr,gr),_r=ar==="le"?"LE":"BE";return this["_toArrayLike"+_r](ur,dr),ur},ut.prototype._toArrayLikeLE=function(rr,ar){for(var sr=0,dr=0,gr=0,ur=0;gr<this.length;gr++){var _r=this.words[gr]<<ur|dr;rr[sr++]=_r&255,sr<rr.length&&(rr[sr++]=_r>>8&255),sr<rr.length&&(rr[sr++]=_r>>16&255),ur===6?(sr<rr.length&&(rr[sr++]=_r>>24&255),dr=0,ur=0):(dr=_r>>>24,ur+=2)}if(sr<rr.length)for(rr[sr++]=dr;sr<rr.length;)rr[sr++]=0},ut.prototype._toArrayLikeBE=function(rr,ar){for(var sr=rr.length-1,dr=0,gr=0,ur=0;gr<this.length;gr++){var _r=this.words[gr]<<ur|dr;rr[sr--]=_r&255,sr>=0&&(rr[sr--]=_r>>8&255),sr>=0&&(rr[sr--]=_r>>16&255),ur===6?(sr>=0&&(rr[sr--]=_r>>24&255),dr=0,ur=0):(dr=_r>>>24,ur+=2)}if(sr>=0)for(rr[sr--]=dr;sr>=0;)rr[sr--]=0},Math.clz32?ut.prototype._countBits=function(rr){return 32-Math.clz32(rr)}:ut.prototype._countBits=function(rr){var ar=rr,sr=0;return ar>=4096&&(sr+=13,ar>>>=13),ar>=64&&(sr+=7,ar>>>=7),ar>=8&&(sr+=4,ar>>>=4),ar>=2&&(sr+=2,ar>>>=2),sr+ar},ut.prototype._zeroBits=function(rr){if(rr===0)return 26;var ar=rr,sr=0;return ar&8191||(sr+=13,ar>>>=13),ar&127||(sr+=7,ar>>>=7),ar&15||(sr+=4,ar>>>=4),ar&3||(sr+=2,ar>>>=2),ar&1||sr++,sr},ut.prototype.bitLength=function(){var rr=this.words[this.length-1],ar=this._countBits(rr);return(this.length-1)*26+ar};function tr(or){for(var rr=new Array(or.bitLength()),ar=0;ar<rr.length;ar++){var sr=ar/26|0,dr=ar%26;rr[ar]=or.words[sr]>>>dr&1}return rr}ut.prototype.zeroBits=function(){if(this.isZero())return 0;for(var rr=0,ar=0;ar<this.length;ar++){var sr=this._zeroBits(this.words[ar]);if(rr+=sr,sr!==26)break}return rr},ut.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ut.prototype.toTwos=function(rr){return this.negative!==0?this.abs().inotn(rr).iaddn(1):this.clone()},ut.prototype.fromTwos=function(rr){return this.testn(rr-1)?this.notn(rr).iaddn(1).ineg():this.clone()},ut.prototype.isNeg=function(){return this.negative!==0},ut.prototype.neg=function(){return this.clone().ineg()},ut.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ut.prototype.iuor=function(rr){for(;this.length<rr.length;)this.words[this.length++]=0;for(var ar=0;ar<rr.length;ar++)this.words[ar]=this.words[ar]|rr.words[ar];return this._strip()},ut.prototype.ior=function(rr){return at((this.negative|rr.negative)===0),this.iuor(rr)},ut.prototype.or=function(rr){return this.length>rr.length?this.clone().ior(rr):rr.clone().ior(this)},ut.prototype.uor=function(rr){return this.length>rr.length?this.clone().iuor(rr):rr.clone().iuor(this)},ut.prototype.iuand=function(rr){var ar;this.length>rr.length?ar=rr:ar=this;for(var sr=0;sr<ar.length;sr++)this.words[sr]=this.words[sr]&rr.words[sr];return this.length=ar.length,this._strip()},ut.prototype.iand=function(rr){return at((this.negative|rr.negative)===0),this.iuand(rr)},ut.prototype.and=function(rr){return this.length>rr.length?this.clone().iand(rr):rr.clone().iand(this)},ut.prototype.uand=function(rr){return this.length>rr.length?this.clone().iuand(rr):rr.clone().iuand(this)},ut.prototype.iuxor=function(rr){var ar,sr;this.length>rr.length?(ar=this,sr=rr):(ar=rr,sr=this);for(var dr=0;dr<sr.length;dr++)this.words[dr]=ar.words[dr]^sr.words[dr];if(this!==ar)for(;dr<ar.length;dr++)this.words[dr]=ar.words[dr];return this.length=ar.length,this._strip()},ut.prototype.ixor=function(rr){return at((this.negative|rr.negative)===0),this.iuxor(rr)},ut.prototype.xor=function(rr){return this.length>rr.length?this.clone().ixor(rr):rr.clone().ixor(this)},ut.prototype.uxor=function(rr){return this.length>rr.length?this.clone().iuxor(rr):rr.clone().iuxor(this)},ut.prototype.inotn=function(rr){at(typeof rr=="number"&&rr>=0);var ar=Math.ceil(rr/26)|0,sr=rr%26;this._expand(ar),sr>0&&ar--;for(var dr=0;dr<ar;dr++)this.words[dr]=~this.words[dr]&67108863;return sr>0&&(this.words[dr]=~this.words[dr]&67108863>>26-sr),this._strip()},ut.prototype.notn=function(rr){return this.clone().inotn(rr)},ut.prototype.setn=function(rr,ar){at(typeof rr=="number"&&rr>=0);var sr=rr/26|0,dr=rr%26;return this._expand(sr+1),ar?this.words[sr]=this.words[sr]|1<<dr:this.words[sr]=this.words[sr]&~(1<<dr),this._strip()},ut.prototype.iadd=function(rr){var ar;if(this.negative!==0&&rr.negative===0)return this.negative=0,ar=this.isub(rr),this.negative^=1,this._normSign();if(this.negative===0&&rr.negative!==0)return rr.negative=0,ar=this.isub(rr),rr.negative=1,ar._normSign();var sr,dr;this.length>rr.length?(sr=this,dr=rr):(sr=rr,dr=this);for(var gr=0,ur=0;ur<dr.length;ur++)ar=(sr.words[ur]|0)+(dr.words[ur]|0)+gr,this.words[ur]=ar&67108863,gr=ar>>>26;for(;gr!==0&&ur<sr.length;ur++)ar=(sr.words[ur]|0)+gr,this.words[ur]=ar&67108863,gr=ar>>>26;if(this.length=sr.length,gr!==0)this.words[this.length]=gr,this.length++;else if(sr!==this)for(;ur<sr.length;ur++)this.words[ur]=sr.words[ur];return this},ut.prototype.add=function(rr){var ar;return rr.negative!==0&&this.negative===0?(rr.negative=0,ar=this.sub(rr),rr.negative^=1,ar):rr.negative===0&&this.negative!==0?(this.negative=0,ar=rr.sub(this),this.negative=1,ar):this.length>rr.length?this.clone().iadd(rr):rr.clone().iadd(this)},ut.prototype.isub=function(rr){if(rr.negative!==0){rr.negative=0;var ar=this.iadd(rr);return rr.negative=1,ar._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(rr),this.negative=1,this._normSign();var sr=this.cmp(rr);if(sr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var dr,gr;sr>0?(dr=this,gr=rr):(dr=rr,gr=this);for(var ur=0,_r=0;_r<gr.length;_r++)ar=(dr.words[_r]|0)-(gr.words[_r]|0)+ur,ur=ar>>26,this.words[_r]=ar&67108863;for(;ur!==0&&_r<dr.length;_r++)ar=(dr.words[_r]|0)+ur,ur=ar>>26,this.words[_r]=ar&67108863;if(ur===0&&_r<dr.length&&dr!==this)for(;_r<dr.length;_r++)this.words[_r]=dr.words[_r];return this.length=Math.max(this.length,_r),dr!==this&&(this.negative=1),this._strip()},ut.prototype.sub=function(rr){return this.clone().isub(rr)};function nr(or,rr,ar){ar.negative=rr.negative^or.negative;var sr=or.length+rr.length|0;ar.length=sr,sr=sr-1|0;var dr=or.words[0]|0,gr=rr.words[0]|0,ur=dr*gr,_r=ur&67108863,hr=ur/67108864|0;ar.words[0]=_r;for(var cr=1;cr<sr;cr++){for(var wr=hr>>>26,Br=hr&67108863,Or=Math.min(cr,rr.length-1),Rr=Math.max(0,cr-or.length+1);Rr<=Or;Rr++){var Pr=cr-Rr|0;dr=or.words[Pr]|0,gr=rr.words[Rr]|0,ur=dr*gr+Br,wr+=ur/67108864|0,Br=ur&67108863}ar.words[cr]=Br|0,hr=wr|0}return hr!==0?ar.words[cr]=hr|0:ar.length--,ar._strip()}var ir=function(rr,ar,sr){var dr=rr.words,gr=ar.words,ur=sr.words,_r=0,hr,cr,wr,Br=dr[0]|0,Or=Br&8191,Rr=Br>>>13,Pr=dr[1]|0,Ur=Pr&8191,kr=Pr>>>13,Ar=dr[2]|0,Cr=Ar&8191,Fr=Ar>>>13,Lr=dr[3]|0,Hr=Lr&8191,Gr=Lr>>>13,Nr=dr[4]|0,Vr=Nr&8191,jr=Nr>>>13,Wr=dr[5]|0,Kr=Wr&8191,an=Wr>>>13,Un=dr[6]|0,Vn=Un&8191,Kn=Un>>>13,oo=dr[7]|0,Hn=oo&8191,Qn=oo>>>13,yo=dr[8]|0,Dr=yo&8191,Tr=yo>>>13,Ir=dr[9]|0,qr=Ir&8191,Qr=Ir>>>13,sn=gr[0]|0,nn=sn&8191,Xn=sn>>>13,xo=gr[1]|0,no=xo&8191,lo=xo>>>13,bo=gr[2]|0,mo=bo&8191,Eo=bo>>>13,Bo=gr[3]|0,vo=Bo&8191,Co=Bo>>>13,Mo=gr[4]|0,go=Mo&8191,$o=Mo>>>13,jo=gr[5]|0,Xr=jo&8191,Jr=jo>>>13,Dn=gr[6]|0,Ln=Dn&8191,Gn=Dn>>>13,co=gr[7]|0,Jn=co&8191,_i=co>>>13,ao=gr[8]|0,Wn=ao&8191,eo=ao>>>13,_o=gr[9]|0,ho=_o&8191,To=_o>>>13;sr.negative=rr.negative^ar.negative,sr.length=19,hr=Math.imul(Or,nn),cr=Math.imul(Or,Xn),cr=cr+Math.imul(Rr,nn)|0,wr=Math.imul(Rr,Xn);var Io=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Io>>>26)|0,Io&=67108863,hr=Math.imul(Ur,nn),cr=Math.imul(Ur,Xn),cr=cr+Math.imul(kr,nn)|0,wr=Math.imul(kr,Xn),hr=hr+Math.imul(Or,no)|0,cr=cr+Math.imul(Or,lo)|0,cr=cr+Math.imul(Rr,no)|0,wr=wr+Math.imul(Rr,lo)|0;var Ro=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,hr=Math.imul(Cr,nn),cr=Math.imul(Cr,Xn),cr=cr+Math.imul(Fr,nn)|0,wr=Math.imul(Fr,Xn),hr=hr+Math.imul(Ur,no)|0,cr=cr+Math.imul(Ur,lo)|0,cr=cr+Math.imul(kr,no)|0,wr=wr+Math.imul(kr,lo)|0,hr=hr+Math.imul(Or,mo)|0,cr=cr+Math.imul(Or,Eo)|0,cr=cr+Math.imul(Rr,mo)|0,wr=wr+Math.imul(Rr,Eo)|0;var Do=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Do>>>26)|0,Do&=67108863,hr=Math.imul(Hr,nn),cr=Math.imul(Hr,Xn),cr=cr+Math.imul(Gr,nn)|0,wr=Math.imul(Gr,Xn),hr=hr+Math.imul(Cr,no)|0,cr=cr+Math.imul(Cr,lo)|0,cr=cr+Math.imul(Fr,no)|0,wr=wr+Math.imul(Fr,lo)|0,hr=hr+Math.imul(Ur,mo)|0,cr=cr+Math.imul(Ur,Eo)|0,cr=cr+Math.imul(kr,mo)|0,wr=wr+Math.imul(kr,Eo)|0,hr=hr+Math.imul(Or,vo)|0,cr=cr+Math.imul(Or,Co)|0,cr=cr+Math.imul(Rr,vo)|0,wr=wr+Math.imul(Rr,Co)|0;var Zo=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,hr=Math.imul(Vr,nn),cr=Math.imul(Vr,Xn),cr=cr+Math.imul(jr,nn)|0,wr=Math.imul(jr,Xn),hr=hr+Math.imul(Hr,no)|0,cr=cr+Math.imul(Hr,lo)|0,cr=cr+Math.imul(Gr,no)|0,wr=wr+Math.imul(Gr,lo)|0,hr=hr+Math.imul(Cr,mo)|0,cr=cr+Math.imul(Cr,Eo)|0,cr=cr+Math.imul(Fr,mo)|0,wr=wr+Math.imul(Fr,Eo)|0,hr=hr+Math.imul(Ur,vo)|0,cr=cr+Math.imul(Ur,Co)|0,cr=cr+Math.imul(kr,vo)|0,wr=wr+Math.imul(kr,Co)|0,hr=hr+Math.imul(Or,go)|0,cr=cr+Math.imul(Or,$o)|0,cr=cr+Math.imul(Rr,go)|0,wr=wr+Math.imul(Rr,$o)|0;var ts=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(ts>>>26)|0,ts&=67108863,hr=Math.imul(Kr,nn),cr=Math.imul(Kr,Xn),cr=cr+Math.imul(an,nn)|0,wr=Math.imul(an,Xn),hr=hr+Math.imul(Vr,no)|0,cr=cr+Math.imul(Vr,lo)|0,cr=cr+Math.imul(jr,no)|0,wr=wr+Math.imul(jr,lo)|0,hr=hr+Math.imul(Hr,mo)|0,cr=cr+Math.imul(Hr,Eo)|0,cr=cr+Math.imul(Gr,mo)|0,wr=wr+Math.imul(Gr,Eo)|0,hr=hr+Math.imul(Cr,vo)|0,cr=cr+Math.imul(Cr,Co)|0,cr=cr+Math.imul(Fr,vo)|0,wr=wr+Math.imul(Fr,Co)|0,hr=hr+Math.imul(Ur,go)|0,cr=cr+Math.imul(Ur,$o)|0,cr=cr+Math.imul(kr,go)|0,wr=wr+Math.imul(kr,$o)|0,hr=hr+Math.imul(Or,Xr)|0,cr=cr+Math.imul(Or,Jr)|0,cr=cr+Math.imul(Rr,Xr)|0,wr=wr+Math.imul(Rr,Jr)|0;var Go=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Go>>>26)|0,Go&=67108863,hr=Math.imul(Vn,nn),cr=Math.imul(Vn,Xn),cr=cr+Math.imul(Kn,nn)|0,wr=Math.imul(Kn,Xn),hr=hr+Math.imul(Kr,no)|0,cr=cr+Math.imul(Kr,lo)|0,cr=cr+Math.imul(an,no)|0,wr=wr+Math.imul(an,lo)|0,hr=hr+Math.imul(Vr,mo)|0,cr=cr+Math.imul(Vr,Eo)|0,cr=cr+Math.imul(jr,mo)|0,wr=wr+Math.imul(jr,Eo)|0,hr=hr+Math.imul(Hr,vo)|0,cr=cr+Math.imul(Hr,Co)|0,cr=cr+Math.imul(Gr,vo)|0,wr=wr+Math.imul(Gr,Co)|0,hr=hr+Math.imul(Cr,go)|0,cr=cr+Math.imul(Cr,$o)|0,cr=cr+Math.imul(Fr,go)|0,wr=wr+Math.imul(Fr,$o)|0,hr=hr+Math.imul(Ur,Xr)|0,cr=cr+Math.imul(Ur,Jr)|0,cr=cr+Math.imul(kr,Xr)|0,wr=wr+Math.imul(kr,Jr)|0,hr=hr+Math.imul(Or,Ln)|0,cr=cr+Math.imul(Or,Gn)|0,cr=cr+Math.imul(Rr,Ln)|0,wr=wr+Math.imul(Rr,Gn)|0;var Lo=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,hr=Math.imul(Hn,nn),cr=Math.imul(Hn,Xn),cr=cr+Math.imul(Qn,nn)|0,wr=Math.imul(Qn,Xn),hr=hr+Math.imul(Vn,no)|0,cr=cr+Math.imul(Vn,lo)|0,cr=cr+Math.imul(Kn,no)|0,wr=wr+Math.imul(Kn,lo)|0,hr=hr+Math.imul(Kr,mo)|0,cr=cr+Math.imul(Kr,Eo)|0,cr=cr+Math.imul(an,mo)|0,wr=wr+Math.imul(an,Eo)|0,hr=hr+Math.imul(Vr,vo)|0,cr=cr+Math.imul(Vr,Co)|0,cr=cr+Math.imul(jr,vo)|0,wr=wr+Math.imul(jr,Co)|0,hr=hr+Math.imul(Hr,go)|0,cr=cr+Math.imul(Hr,$o)|0,cr=cr+Math.imul(Gr,go)|0,wr=wr+Math.imul(Gr,$o)|0,hr=hr+Math.imul(Cr,Xr)|0,cr=cr+Math.imul(Cr,Jr)|0,cr=cr+Math.imul(Fr,Xr)|0,wr=wr+Math.imul(Fr,Jr)|0,hr=hr+Math.imul(Ur,Ln)|0,cr=cr+Math.imul(Ur,Gn)|0,cr=cr+Math.imul(kr,Ln)|0,wr=wr+Math.imul(kr,Gn)|0,hr=hr+Math.imul(Or,Jn)|0,cr=cr+Math.imul(Or,_i)|0,cr=cr+Math.imul(Rr,Jn)|0,wr=wr+Math.imul(Rr,_i)|0;var ns=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(ns>>>26)|0,ns&=67108863,hr=Math.imul(Dr,nn),cr=Math.imul(Dr,Xn),cr=cr+Math.imul(Tr,nn)|0,wr=Math.imul(Tr,Xn),hr=hr+Math.imul(Hn,no)|0,cr=cr+Math.imul(Hn,lo)|0,cr=cr+Math.imul(Qn,no)|0,wr=wr+Math.imul(Qn,lo)|0,hr=hr+Math.imul(Vn,mo)|0,cr=cr+Math.imul(Vn,Eo)|0,cr=cr+Math.imul(Kn,mo)|0,wr=wr+Math.imul(Kn,Eo)|0,hr=hr+Math.imul(Kr,vo)|0,cr=cr+Math.imul(Kr,Co)|0,cr=cr+Math.imul(an,vo)|0,wr=wr+Math.imul(an,Co)|0,hr=hr+Math.imul(Vr,go)|0,cr=cr+Math.imul(Vr,$o)|0,cr=cr+Math.imul(jr,go)|0,wr=wr+Math.imul(jr,$o)|0,hr=hr+Math.imul(Hr,Xr)|0,cr=cr+Math.imul(Hr,Jr)|0,cr=cr+Math.imul(Gr,Xr)|0,wr=wr+Math.imul(Gr,Jr)|0,hr=hr+Math.imul(Cr,Ln)|0,cr=cr+Math.imul(Cr,Gn)|0,cr=cr+Math.imul(Fr,Ln)|0,wr=wr+Math.imul(Fr,Gn)|0,hr=hr+Math.imul(Ur,Jn)|0,cr=cr+Math.imul(Ur,_i)|0,cr=cr+Math.imul(kr,Jn)|0,wr=wr+Math.imul(kr,_i)|0,hr=hr+Math.imul(Or,Wn)|0,cr=cr+Math.imul(Or,eo)|0,cr=cr+Math.imul(Rr,Wn)|0,wr=wr+Math.imul(Rr,eo)|0;var Wo=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,hr=Math.imul(qr,nn),cr=Math.imul(qr,Xn),cr=cr+Math.imul(Qr,nn)|0,wr=Math.imul(Qr,Xn),hr=hr+Math.imul(Dr,no)|0,cr=cr+Math.imul(Dr,lo)|0,cr=cr+Math.imul(Tr,no)|0,wr=wr+Math.imul(Tr,lo)|0,hr=hr+Math.imul(Hn,mo)|0,cr=cr+Math.imul(Hn,Eo)|0,cr=cr+Math.imul(Qn,mo)|0,wr=wr+Math.imul(Qn,Eo)|0,hr=hr+Math.imul(Vn,vo)|0,cr=cr+Math.imul(Vn,Co)|0,cr=cr+Math.imul(Kn,vo)|0,wr=wr+Math.imul(Kn,Co)|0,hr=hr+Math.imul(Kr,go)|0,cr=cr+Math.imul(Kr,$o)|0,cr=cr+Math.imul(an,go)|0,wr=wr+Math.imul(an,$o)|0,hr=hr+Math.imul(Vr,Xr)|0,cr=cr+Math.imul(Vr,Jr)|0,cr=cr+Math.imul(jr,Xr)|0,wr=wr+Math.imul(jr,Jr)|0,hr=hr+Math.imul(Hr,Ln)|0,cr=cr+Math.imul(Hr,Gn)|0,cr=cr+Math.imul(Gr,Ln)|0,wr=wr+Math.imul(Gr,Gn)|0,hr=hr+Math.imul(Cr,Jn)|0,cr=cr+Math.imul(Cr,_i)|0,cr=cr+Math.imul(Fr,Jn)|0,wr=wr+Math.imul(Fr,_i)|0,hr=hr+Math.imul(Ur,Wn)|0,cr=cr+Math.imul(Ur,eo)|0,cr=cr+Math.imul(kr,Wn)|0,wr=wr+Math.imul(kr,eo)|0,hr=hr+Math.imul(Or,ho)|0,cr=cr+Math.imul(Or,To)|0,cr=cr+Math.imul(Rr,ho)|0,wr=wr+Math.imul(Rr,To)|0;var Qo=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,hr=Math.imul(qr,no),cr=Math.imul(qr,lo),cr=cr+Math.imul(Qr,no)|0,wr=Math.imul(Qr,lo),hr=hr+Math.imul(Dr,mo)|0,cr=cr+Math.imul(Dr,Eo)|0,cr=cr+Math.imul(Tr,mo)|0,wr=wr+Math.imul(Tr,Eo)|0,hr=hr+Math.imul(Hn,vo)|0,cr=cr+Math.imul(Hn,Co)|0,cr=cr+Math.imul(Qn,vo)|0,wr=wr+Math.imul(Qn,Co)|0,hr=hr+Math.imul(Vn,go)|0,cr=cr+Math.imul(Vn,$o)|0,cr=cr+Math.imul(Kn,go)|0,wr=wr+Math.imul(Kn,$o)|0,hr=hr+Math.imul(Kr,Xr)|0,cr=cr+Math.imul(Kr,Jr)|0,cr=cr+Math.imul(an,Xr)|0,wr=wr+Math.imul(an,Jr)|0,hr=hr+Math.imul(Vr,Ln)|0,cr=cr+Math.imul(Vr,Gn)|0,cr=cr+Math.imul(jr,Ln)|0,wr=wr+Math.imul(jr,Gn)|0,hr=hr+Math.imul(Hr,Jn)|0,cr=cr+Math.imul(Hr,_i)|0,cr=cr+Math.imul(Gr,Jn)|0,wr=wr+Math.imul(Gr,_i)|0,hr=hr+Math.imul(Cr,Wn)|0,cr=cr+Math.imul(Cr,eo)|0,cr=cr+Math.imul(Fr,Wn)|0,wr=wr+Math.imul(Fr,eo)|0,hr=hr+Math.imul(Ur,ho)|0,cr=cr+Math.imul(Ur,To)|0,cr=cr+Math.imul(kr,ho)|0,wr=wr+Math.imul(kr,To)|0;var _a=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(_a>>>26)|0,_a&=67108863,hr=Math.imul(qr,mo),cr=Math.imul(qr,Eo),cr=cr+Math.imul(Qr,mo)|0,wr=Math.imul(Qr,Eo),hr=hr+Math.imul(Dr,vo)|0,cr=cr+Math.imul(Dr,Co)|0,cr=cr+Math.imul(Tr,vo)|0,wr=wr+Math.imul(Tr,Co)|0,hr=hr+Math.imul(Hn,go)|0,cr=cr+Math.imul(Hn,$o)|0,cr=cr+Math.imul(Qn,go)|0,wr=wr+Math.imul(Qn,$o)|0,hr=hr+Math.imul(Vn,Xr)|0,cr=cr+Math.imul(Vn,Jr)|0,cr=cr+Math.imul(Kn,Xr)|0,wr=wr+Math.imul(Kn,Jr)|0,hr=hr+Math.imul(Kr,Ln)|0,cr=cr+Math.imul(Kr,Gn)|0,cr=cr+Math.imul(an,Ln)|0,wr=wr+Math.imul(an,Gn)|0,hr=hr+Math.imul(Vr,Jn)|0,cr=cr+Math.imul(Vr,_i)|0,cr=cr+Math.imul(jr,Jn)|0,wr=wr+Math.imul(jr,_i)|0,hr=hr+Math.imul(Hr,Wn)|0,cr=cr+Math.imul(Hr,eo)|0,cr=cr+Math.imul(Gr,Wn)|0,wr=wr+Math.imul(Gr,eo)|0,hr=hr+Math.imul(Cr,ho)|0,cr=cr+Math.imul(Cr,To)|0,cr=cr+Math.imul(Fr,ho)|0,wr=wr+Math.imul(Fr,To)|0;var $a=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+($a>>>26)|0,$a&=67108863,hr=Math.imul(qr,vo),cr=Math.imul(qr,Co),cr=cr+Math.imul(Qr,vo)|0,wr=Math.imul(Qr,Co),hr=hr+Math.imul(Dr,go)|0,cr=cr+Math.imul(Dr,$o)|0,cr=cr+Math.imul(Tr,go)|0,wr=wr+Math.imul(Tr,$o)|0,hr=hr+Math.imul(Hn,Xr)|0,cr=cr+Math.imul(Hn,Jr)|0,cr=cr+Math.imul(Qn,Xr)|0,wr=wr+Math.imul(Qn,Jr)|0,hr=hr+Math.imul(Vn,Ln)|0,cr=cr+Math.imul(Vn,Gn)|0,cr=cr+Math.imul(Kn,Ln)|0,wr=wr+Math.imul(Kn,Gn)|0,hr=hr+Math.imul(Kr,Jn)|0,cr=cr+Math.imul(Kr,_i)|0,cr=cr+Math.imul(an,Jn)|0,wr=wr+Math.imul(an,_i)|0,hr=hr+Math.imul(Vr,Wn)|0,cr=cr+Math.imul(Vr,eo)|0,cr=cr+Math.imul(jr,Wn)|0,wr=wr+Math.imul(jr,eo)|0,hr=hr+Math.imul(Hr,ho)|0,cr=cr+Math.imul(Hr,To)|0,cr=cr+Math.imul(Gr,ho)|0,wr=wr+Math.imul(Gr,To)|0;var Ao=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,hr=Math.imul(qr,go),cr=Math.imul(qr,$o),cr=cr+Math.imul(Qr,go)|0,wr=Math.imul(Qr,$o),hr=hr+Math.imul(Dr,Xr)|0,cr=cr+Math.imul(Dr,Jr)|0,cr=cr+Math.imul(Tr,Xr)|0,wr=wr+Math.imul(Tr,Jr)|0,hr=hr+Math.imul(Hn,Ln)|0,cr=cr+Math.imul(Hn,Gn)|0,cr=cr+Math.imul(Qn,Ln)|0,wr=wr+Math.imul(Qn,Gn)|0,hr=hr+Math.imul(Vn,Jn)|0,cr=cr+Math.imul(Vn,_i)|0,cr=cr+Math.imul(Kn,Jn)|0,wr=wr+Math.imul(Kn,_i)|0,hr=hr+Math.imul(Kr,Wn)|0,cr=cr+Math.imul(Kr,eo)|0,cr=cr+Math.imul(an,Wn)|0,wr=wr+Math.imul(an,eo)|0,hr=hr+Math.imul(Vr,ho)|0,cr=cr+Math.imul(Vr,To)|0,cr=cr+Math.imul(jr,ho)|0,wr=wr+Math.imul(jr,To)|0;var Oo=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,hr=Math.imul(qr,Xr),cr=Math.imul(qr,Jr),cr=cr+Math.imul(Qr,Xr)|0,wr=Math.imul(Qr,Jr),hr=hr+Math.imul(Dr,Ln)|0,cr=cr+Math.imul(Dr,Gn)|0,cr=cr+Math.imul(Tr,Ln)|0,wr=wr+Math.imul(Tr,Gn)|0,hr=hr+Math.imul(Hn,Jn)|0,cr=cr+Math.imul(Hn,_i)|0,cr=cr+Math.imul(Qn,Jn)|0,wr=wr+Math.imul(Qn,_i)|0,hr=hr+Math.imul(Vn,Wn)|0,cr=cr+Math.imul(Vn,eo)|0,cr=cr+Math.imul(Kn,Wn)|0,wr=wr+Math.imul(Kn,eo)|0,hr=hr+Math.imul(Kr,ho)|0,cr=cr+Math.imul(Kr,To)|0,cr=cr+Math.imul(an,ho)|0,wr=wr+Math.imul(an,To)|0;var Jo=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,hr=Math.imul(qr,Ln),cr=Math.imul(qr,Gn),cr=cr+Math.imul(Qr,Ln)|0,wr=Math.imul(Qr,Gn),hr=hr+Math.imul(Dr,Jn)|0,cr=cr+Math.imul(Dr,_i)|0,cr=cr+Math.imul(Tr,Jn)|0,wr=wr+Math.imul(Tr,_i)|0,hr=hr+Math.imul(Hn,Wn)|0,cr=cr+Math.imul(Hn,eo)|0,cr=cr+Math.imul(Qn,Wn)|0,wr=wr+Math.imul(Qn,eo)|0,hr=hr+Math.imul(Vn,ho)|0,cr=cr+Math.imul(Vn,To)|0,cr=cr+Math.imul(Kn,ho)|0,wr=wr+Math.imul(Kn,To)|0;var rs=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(rs>>>26)|0,rs&=67108863,hr=Math.imul(qr,Jn),cr=Math.imul(qr,_i),cr=cr+Math.imul(Qr,Jn)|0,wr=Math.imul(Qr,_i),hr=hr+Math.imul(Dr,Wn)|0,cr=cr+Math.imul(Dr,eo)|0,cr=cr+Math.imul(Tr,Wn)|0,wr=wr+Math.imul(Tr,eo)|0,hr=hr+Math.imul(Hn,ho)|0,cr=cr+Math.imul(Hn,To)|0,cr=cr+Math.imul(Qn,ho)|0,wr=wr+Math.imul(Qn,To)|0;var qo=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(qo>>>26)|0,qo&=67108863,hr=Math.imul(qr,Wn),cr=Math.imul(qr,eo),cr=cr+Math.imul(Qr,Wn)|0,wr=Math.imul(Qr,eo),hr=hr+Math.imul(Dr,ho)|0,cr=cr+Math.imul(Dr,To)|0,cr=cr+Math.imul(Tr,ho)|0,wr=wr+Math.imul(Tr,To)|0;var zr=(_r+hr|0)+((cr&8191)<<13)|0;_r=(wr+(cr>>>13)|0)+(zr>>>26)|0,zr&=67108863,hr=Math.imul(qr,ho),cr=Math.imul(qr,To),cr=cr+Math.imul(Qr,ho)|0,wr=Math.imul(Qr,To);var rn=(_r+hr|0)+((cr&8191)<<13)|0;return _r=(wr+(cr>>>13)|0)+(rn>>>26)|0,rn&=67108863,ur[0]=Io,ur[1]=Ro,ur[2]=Do,ur[3]=Zo,ur[4]=ts,ur[5]=Go,ur[6]=Lo,ur[7]=ns,ur[8]=Wo,ur[9]=Qo,ur[10]=_a,ur[11]=$a,ur[12]=Ao,ur[13]=Oo,ur[14]=Jo,ur[15]=rs,ur[16]=qo,ur[17]=zr,ur[18]=rn,_r!==0&&(ur[19]=_r,sr.length++),sr};Math.imul||(ir=nr);function lr(or,rr,ar){ar.negative=rr.negative^or.negative,ar.length=or.length+rr.length;for(var sr=0,dr=0,gr=0;gr<ar.length-1;gr++){var ur=dr;dr=0;for(var _r=sr&67108863,hr=Math.min(gr,rr.length-1),cr=Math.max(0,gr-or.length+1);cr<=hr;cr++){var wr=gr-cr,Br=or.words[wr]|0,Or=rr.words[cr]|0,Rr=Br*Or,Pr=Rr&67108863;ur=ur+(Rr/67108864|0)|0,Pr=Pr+_r|0,_r=Pr&67108863,ur=ur+(Pr>>>26)|0,dr+=ur>>>26,ur&=67108863}ar.words[gr]=_r,sr=ur,ur=dr}return sr!==0?ar.words[gr]=sr:ar.length--,ar._strip()}function pr(or,rr,ar){return lr(or,rr,ar)}ut.prototype.mulTo=function(rr,ar){var sr,dr=this.length+rr.length;return this.length===10&&rr.length===10?sr=ir(this,rr,ar):dr<63?sr=nr(this,rr,ar):dr<1024?sr=lr(this,rr,ar):sr=pr(this,rr,ar),sr},ut.prototype.mul=function(rr){var ar=new ut(null);return ar.words=new Array(this.length+rr.length),this.mulTo(rr,ar)},ut.prototype.mulf=function(rr){var ar=new ut(null);return ar.words=new Array(this.length+rr.length),pr(this,rr,ar)},ut.prototype.imul=function(rr){return this.clone().mulTo(rr,this)},ut.prototype.imuln=function(rr){var ar=rr<0;ar&&(rr=-rr),at(typeof rr=="number"),at(rr<67108864);for(var sr=0,dr=0;dr<this.length;dr++){var gr=(this.words[dr]|0)*rr,ur=(gr&67108863)+(sr&67108863);sr>>=26,sr+=gr/67108864|0,sr+=ur>>>26,this.words[dr]=ur&67108863}return sr!==0&&(this.words[dr]=sr,this.length++),ar?this.ineg():this},ut.prototype.muln=function(rr){return this.clone().imuln(rr)},ut.prototype.sqr=function(){return this.mul(this)},ut.prototype.isqr=function(){return this.imul(this.clone())},ut.prototype.pow=function(rr){var ar=tr(rr);if(ar.length===0)return new ut(1);for(var sr=this,dr=0;dr<ar.length&&ar[dr]===0;dr++,sr=sr.sqr());if(++dr<ar.length)for(var gr=sr.sqr();dr<ar.length;dr++,gr=gr.sqr())ar[dr]!==0&&(sr=sr.mul(gr));return sr},ut.prototype.iushln=function(rr){at(typeof rr=="number"&&rr>=0);var ar=rr%26,sr=(rr-ar)/26,dr=67108863>>>26-ar<<26-ar,gr;if(ar!==0){var ur=0;for(gr=0;gr<this.length;gr++){var _r=this.words[gr]&dr,hr=(this.words[gr]|0)-_r<<ar;this.words[gr]=hr|ur,ur=_r>>>26-ar}ur&&(this.words[gr]=ur,this.length++)}if(sr!==0){for(gr=this.length-1;gr>=0;gr--)this.words[gr+sr]=this.words[gr];for(gr=0;gr<sr;gr++)this.words[gr]=0;this.length+=sr}return this._strip()},ut.prototype.ishln=function(rr){return at(this.negative===0),this.iushln(rr)},ut.prototype.iushrn=function(rr,ar,sr){at(typeof rr=="number"&&rr>=0);var dr;ar?dr=(ar-ar%26)/26:dr=0;var gr=rr%26,ur=Math.min((rr-gr)/26,this.length),_r=67108863^67108863>>>gr<<gr,hr=sr;if(dr-=ur,dr=Math.max(0,dr),hr){for(var cr=0;cr<ur;cr++)hr.words[cr]=this.words[cr];hr.length=ur}if(ur!==0)if(this.length>ur)for(this.length-=ur,cr=0;cr<this.length;cr++)this.words[cr]=this.words[cr+ur];else this.words[0]=0,this.length=1;var wr=0;for(cr=this.length-1;cr>=0&&(wr!==0||cr>=dr);cr--){var Br=this.words[cr]|0;this.words[cr]=wr<<26-gr|Br>>>gr,wr=Br&_r}return hr&&wr!==0&&(hr.words[hr.length++]=wr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ut.prototype.ishrn=function(rr,ar,sr){return at(this.negative===0),this.iushrn(rr,ar,sr)},ut.prototype.shln=function(rr){return this.clone().ishln(rr)},ut.prototype.ushln=function(rr){return this.clone().iushln(rr)},ut.prototype.shrn=function(rr){return this.clone().ishrn(rr)},ut.prototype.ushrn=function(rr){return this.clone().iushrn(rr)},ut.prototype.testn=function(rr){at(typeof rr=="number"&&rr>=0);var ar=rr%26,sr=(rr-ar)/26,dr=1<<ar;if(this.length<=sr)return!1;var gr=this.words[sr];return!!(gr&dr)},ut.prototype.imaskn=function(rr){at(typeof rr=="number"&&rr>=0);var ar=rr%26,sr=(rr-ar)/26;if(at(this.negative===0,"imaskn works only with positive numbers"),this.length<=sr)return this;if(ar!==0&&sr++,this.length=Math.min(sr,this.length),ar!==0){var dr=67108863^67108863>>>ar<<ar;this.words[this.length-1]&=dr}return this._strip()},ut.prototype.maskn=function(rr){return this.clone().imaskn(rr)},ut.prototype.iaddn=function(rr){return at(typeof rr=="number"),at(rr<67108864),rr<0?this.isubn(-rr):this.negative!==0?this.length===1&&(this.words[0]|0)<=rr?(this.words[0]=rr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(rr),this.negative=1,this):this._iaddn(rr)},ut.prototype._iaddn=function(rr){this.words[0]+=rr;for(var ar=0;ar<this.length&&this.words[ar]>=67108864;ar++)this.words[ar]-=67108864,ar===this.length-1?this.words[ar+1]=1:this.words[ar+1]++;return this.length=Math.max(this.length,ar+1),this},ut.prototype.isubn=function(rr){if(at(typeof rr=="number"),at(rr<67108864),rr<0)return this.iaddn(-rr);if(this.negative!==0)return this.negative=0,this.iaddn(rr),this.negative=1,this;if(this.words[0]-=rr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ar=0;ar<this.length&&this.words[ar]<0;ar++)this.words[ar]+=67108864,this.words[ar+1]-=1;return this._strip()},ut.prototype.addn=function(rr){return this.clone().iaddn(rr)},ut.prototype.subn=function(rr){return this.clone().isubn(rr)},ut.prototype.iabs=function(){return this.negative=0,this},ut.prototype.abs=function(){return this.clone().iabs()},ut.prototype._ishlnsubmul=function(rr,ar,sr){var dr=rr.length+sr,gr;this._expand(dr);var ur,_r=0;for(gr=0;gr<rr.length;gr++){ur=(this.words[gr+sr]|0)+_r;var hr=(rr.words[gr]|0)*ar;ur-=hr&67108863,_r=(ur>>26)-(hr/67108864|0),this.words[gr+sr]=ur&67108863}for(;gr<this.length-sr;gr++)ur=(this.words[gr+sr]|0)+_r,_r=ur>>26,this.words[gr+sr]=ur&67108863;if(_r===0)return this._strip();for(at(_r===-1),_r=0,gr=0;gr<this.length;gr++)ur=-(this.words[gr]|0)+_r,_r=ur>>26,this.words[gr]=ur&67108863;return this.negative=1,this._strip()},ut.prototype._wordDiv=function(rr,ar){var sr=this.length-rr.length,dr=this.clone(),gr=rr,ur=gr.words[gr.length-1]|0,_r=this._countBits(ur);sr=26-_r,sr!==0&&(gr=gr.ushln(sr),dr.iushln(sr),ur=gr.words[gr.length-1]|0);var hr=dr.length-gr.length,cr;if(ar!=="mod"){cr=new ut(null),cr.length=hr+1,cr.words=new Array(cr.length);for(var wr=0;wr<cr.length;wr++)cr.words[wr]=0}var Br=dr.clone()._ishlnsubmul(gr,1,hr);Br.negative===0&&(dr=Br,cr&&(cr.words[hr]=1));for(var Or=hr-1;Or>=0;Or--){var Rr=(dr.words[gr.length+Or]|0)*67108864+(dr.words[gr.length+Or-1]|0);for(Rr=Math.min(Rr/ur|0,67108863),dr._ishlnsubmul(gr,Rr,Or);dr.negative!==0;)Rr--,dr.negative=0,dr._ishlnsubmul(gr,1,Or),dr.isZero()||(dr.negative^=1);cr&&(cr.words[Or]=Rr)}return cr&&cr._strip(),dr._strip(),ar!=="div"&&sr!==0&&dr.iushrn(sr),{div:cr||null,mod:dr}},ut.prototype.divmod=function(rr,ar,sr){if(at(!rr.isZero()),this.isZero())return{div:new ut(0),mod:new ut(0)};var dr,gr,ur;return this.negative!==0&&rr.negative===0?(ur=this.neg().divmod(rr,ar),ar!=="mod"&&(dr=ur.div.neg()),ar!=="div"&&(gr=ur.mod.neg(),sr&&gr.negative!==0&&gr.iadd(rr)),{div:dr,mod:gr}):this.negative===0&&rr.negative!==0?(ur=this.divmod(rr.neg(),ar),ar!=="mod"&&(dr=ur.div.neg()),{div:dr,mod:ur.mod}):this.negative&rr.negative?(ur=this.neg().divmod(rr.neg(),ar),ar!=="div"&&(gr=ur.mod.neg(),sr&&gr.negative!==0&&gr.isub(rr)),{div:ur.div,mod:gr}):rr.length>this.length||this.cmp(rr)<0?{div:new ut(0),mod:this}:rr.length===1?ar==="div"?{div:this.divn(rr.words[0]),mod:null}:ar==="mod"?{div:null,mod:new ut(this.modrn(rr.words[0]))}:{div:this.divn(rr.words[0]),mod:new ut(this.modrn(rr.words[0]))}:this._wordDiv(rr,ar)},ut.prototype.div=function(rr){return this.divmod(rr,"div",!1).div},ut.prototype.mod=function(rr){return this.divmod(rr,"mod",!1).mod},ut.prototype.umod=function(rr){return this.divmod(rr,"mod",!0).mod},ut.prototype.divRound=function(rr){var ar=this.divmod(rr);if(ar.mod.isZero())return ar.div;var sr=ar.div.negative!==0?ar.mod.isub(rr):ar.mod,dr=rr.ushrn(1),gr=rr.andln(1),ur=sr.cmp(dr);return ur<0||gr===1&&ur===0?ar.div:ar.div.negative!==0?ar.div.isubn(1):ar.div.iaddn(1)},ut.prototype.modrn=function(rr){var ar=rr<0;ar&&(rr=-rr),at(rr<=67108863);for(var sr=(1<<26)%rr,dr=0,gr=this.length-1;gr>=0;gr--)dr=(sr*dr+(this.words[gr]|0))%rr;return ar?-dr:dr},ut.prototype.modn=function(rr){return this.modrn(rr)},ut.prototype.idivn=function(rr){var ar=rr<0;ar&&(rr=-rr),at(rr<=67108863);for(var sr=0,dr=this.length-1;dr>=0;dr--){var gr=(this.words[dr]|0)+sr*67108864;this.words[dr]=gr/rr|0,sr=gr%rr}return this._strip(),ar?this.ineg():this},ut.prototype.divn=function(rr){return this.clone().idivn(rr)},ut.prototype.egcd=function(rr){at(rr.negative===0),at(!rr.isZero());var ar=this,sr=rr.clone();ar.negative!==0?ar=ar.umod(rr):ar=ar.clone();for(var dr=new ut(1),gr=new ut(0),ur=new ut(0),_r=new ut(1),hr=0;ar.isEven()&&sr.isEven();)ar.iushrn(1),sr.iushrn(1),++hr;for(var cr=sr.clone(),wr=ar.clone();!ar.isZero();){for(var Br=0,Or=1;!(ar.words[0]&Or)&&Br<26;++Br,Or<<=1);if(Br>0)for(ar.iushrn(Br);Br-- >0;)(dr.isOdd()||gr.isOdd())&&(dr.iadd(cr),gr.isub(wr)),dr.iushrn(1),gr.iushrn(1);for(var Rr=0,Pr=1;!(sr.words[0]&Pr)&&Rr<26;++Rr,Pr<<=1);if(Rr>0)for(sr.iushrn(Rr);Rr-- >0;)(ur.isOdd()||_r.isOdd())&&(ur.iadd(cr),_r.isub(wr)),ur.iushrn(1),_r.iushrn(1);ar.cmp(sr)>=0?(ar.isub(sr),dr.isub(ur),gr.isub(_r)):(sr.isub(ar),ur.isub(dr),_r.isub(gr))}return{a:ur,b:_r,gcd:sr.iushln(hr)}},ut.prototype._invmp=function(rr){at(rr.negative===0),at(!rr.isZero());var ar=this,sr=rr.clone();ar.negative!==0?ar=ar.umod(rr):ar=ar.clone();for(var dr=new ut(1),gr=new ut(0),ur=sr.clone();ar.cmpn(1)>0&&sr.cmpn(1)>0;){for(var _r=0,hr=1;!(ar.words[0]&hr)&&_r<26;++_r,hr<<=1);if(_r>0)for(ar.iushrn(_r);_r-- >0;)dr.isOdd()&&dr.iadd(ur),dr.iushrn(1);for(var cr=0,wr=1;!(sr.words[0]&wr)&&cr<26;++cr,wr<<=1);if(cr>0)for(sr.iushrn(cr);cr-- >0;)gr.isOdd()&&gr.iadd(ur),gr.iushrn(1);ar.cmp(sr)>=0?(ar.isub(sr),dr.isub(gr)):(sr.isub(ar),gr.isub(dr))}var Br;return ar.cmpn(1)===0?Br=dr:Br=gr,Br.cmpn(0)<0&&Br.iadd(rr),Br},ut.prototype.gcd=function(rr){if(this.isZero())return rr.abs();if(rr.isZero())return this.abs();var ar=this.clone(),sr=rr.clone();ar.negative=0,sr.negative=0;for(var dr=0;ar.isEven()&&sr.isEven();dr++)ar.iushrn(1),sr.iushrn(1);do{for(;ar.isEven();)ar.iushrn(1);for(;sr.isEven();)sr.iushrn(1);var gr=ar.cmp(sr);if(gr<0){var ur=ar;ar=sr,sr=ur}else if(gr===0||sr.cmpn(1)===0)break;ar.isub(sr)}while(!0);return sr.iushln(dr)},ut.prototype.invm=function(rr){return this.egcd(rr).a.umod(rr)},ut.prototype.isEven=function(){return(this.words[0]&1)===0},ut.prototype.isOdd=function(){return(this.words[0]&1)===1},ut.prototype.andln=function(rr){return this.words[0]&rr},ut.prototype.bincn=function(rr){at(typeof rr=="number");var ar=rr%26,sr=(rr-ar)/26,dr=1<<ar;if(this.length<=sr)return this._expand(sr+1),this.words[sr]|=dr,this;for(var gr=dr,ur=sr;gr!==0&&ur<this.length;ur++){var _r=this.words[ur]|0;_r+=gr,gr=_r>>>26,_r&=67108863,this.words[ur]=_r}return gr!==0&&(this.words[ur]=gr,this.length++),this},ut.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ut.prototype.cmpn=function(rr){var ar=rr<0;if(this.negative!==0&&!ar)return-1;if(this.negative===0&&ar)return 1;this._strip();var sr;if(this.length>1)sr=1;else{ar&&(rr=-rr),at(rr<=67108863,"Number is too big");var dr=this.words[0]|0;sr=dr===rr?0:dr<rr?-1:1}return this.negative!==0?-sr|0:sr},ut.prototype.cmp=function(rr){if(this.negative!==0&&rr.negative===0)return-1;if(this.negative===0&&rr.negative!==0)return 1;var ar=this.ucmp(rr);return this.negative!==0?-ar|0:ar},ut.prototype.ucmp=function(rr){if(this.length>rr.length)return 1;if(this.length<rr.length)return-1;for(var ar=0,sr=this.length-1;sr>=0;sr--){var dr=this.words[sr]|0,gr=rr.words[sr]|0;if(dr!==gr){dr<gr?ar=-1:dr>gr&&(ar=1);break}}return ar},ut.prototype.gtn=function(rr){return this.cmpn(rr)===1},ut.prototype.gt=function(rr){return this.cmp(rr)===1},ut.prototype.gten=function(rr){return this.cmpn(rr)>=0},ut.prototype.gte=function(rr){return this.cmp(rr)>=0},ut.prototype.ltn=function(rr){return this.cmpn(rr)===-1},ut.prototype.lt=function(rr){return this.cmp(rr)===-1},ut.prototype.lten=function(rr){return this.cmpn(rr)<=0},ut.prototype.lte=function(rr){return this.cmp(rr)<=0},ut.prototype.eqn=function(rr){return this.cmpn(rr)===0},ut.prototype.eq=function(rr){return this.cmp(rr)===0},ut.red=function(rr){return new fr(rr)},ut.prototype.toRed=function(rr){return at(!this.red,"Already a number in reduction context"),at(this.negative===0,"red works only with positives"),rr.convertTo(this)._forceRed(rr)},ut.prototype.fromRed=function(){return at(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ut.prototype._forceRed=function(rr){return this.red=rr,this},ut.prototype.forceRed=function(rr){return at(!this.red,"Already a number in reduction context"),this._forceRed(rr)},ut.prototype.redAdd=function(rr){return at(this.red,"redAdd works only with red numbers"),this.red.add(this,rr)},ut.prototype.redIAdd=function(rr){return at(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,rr)},ut.prototype.redSub=function(rr){return at(this.red,"redSub works only with red numbers"),this.red.sub(this,rr)},ut.prototype.redISub=function(rr){return at(this.red,"redISub works only with red numbers"),this.red.isub(this,rr)},ut.prototype.redShl=function(rr){return at(this.red,"redShl works only with red numbers"),this.red.shl(this,rr)},ut.prototype.redMul=function(rr){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,rr),this.red.mul(this,rr)},ut.prototype.redIMul=function(rr){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,rr),this.red.imul(this,rr)},ut.prototype.redSqr=function(){return at(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ut.prototype.redISqr=function(){return at(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ut.prototype.redSqrt=function(){return at(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ut.prototype.redInvm=function(){return at(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ut.prototype.redNeg=function(){return at(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ut.prototype.redPow=function(rr){return at(this.red&&!rr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,rr)};var yr={k256:null,p224:null,p192:null,p25519:null};function br(or,rr){this.name=or,this.p=new ut(rr,16),this.n=this.p.bitLength(),this.k=new ut(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var rr=new ut(null);return rr.words=new Array(Math.ceil(this.n/13)),rr},br.prototype.ireduce=function(rr){var ar=rr,sr;do this.split(ar,this.tmp),ar=this.imulK(ar),ar=ar.iadd(this.tmp),sr=ar.bitLength();while(sr>this.n);var dr=sr<this.n?-1:ar.ucmp(this.p);return dr===0?(ar.words[0]=0,ar.length=1):dr>0?ar.isub(this.p):ar.strip!==void 0?ar.strip():ar._strip(),ar},br.prototype.split=function(rr,ar){rr.iushrn(this.n,0,ar)},br.prototype.imulK=function(rr){return rr.imul(this.k)};function xr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ct(xr,br),xr.prototype.split=function(rr,ar){for(var sr=4194303,dr=Math.min(rr.length,9),gr=0;gr<dr;gr++)ar.words[gr]=rr.words[gr];if(ar.length=dr,rr.length<=9){rr.words[0]=0,rr.length=1;return}var ur=rr.words[9];for(ar.words[ar.length++]=ur&sr,gr=10;gr<rr.length;gr++){var _r=rr.words[gr]|0;rr.words[gr-10]=(_r&sr)<<4|ur>>>22,ur=_r}ur>>>=22,rr.words[gr-10]=ur,ur===0&&rr.length>10?rr.length-=10:rr.length-=9},xr.prototype.imulK=function(rr){rr.words[rr.length]=0,rr.words[rr.length+1]=0,rr.length+=2;for(var ar=0,sr=0;sr<rr.length;sr++){var dr=rr.words[sr]|0;ar+=dr*977,rr.words[sr]=ar&67108863,ar=dr*64+(ar/67108864|0)}return rr.words[rr.length-1]===0&&(rr.length--,rr.words[rr.length-1]===0&&rr.length--),rr};function Er(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ct(Er,br);function $r(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ct($r,br);function Sr(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ct(Sr,br),Sr.prototype.imulK=function(rr){for(var ar=0,sr=0;sr<rr.length;sr++){var dr=(rr.words[sr]|0)*19+ar,gr=dr&67108863;dr>>>=26,rr.words[sr]=gr,ar=dr}return ar!==0&&(rr.words[rr.length++]=ar),rr},ut._prime=function(rr){if(yr[rr])return yr[rr];var ar;if(rr==="k256")ar=new xr;else if(rr==="p224")ar=new Er;else if(rr==="p192")ar=new $r;else if(rr==="p25519")ar=new Sr;else throw new Error("Unknown prime "+rr);return yr[rr]=ar,ar};function fr(or){if(typeof or=="string"){var rr=ut._prime(or);this.m=rr.p,this.prime=rr}else at(or.gtn(1),"modulus must be greater than 1"),this.m=or,this.prime=null}fr.prototype._verify1=function(rr){at(rr.negative===0,"red works only with positives"),at(rr.red,"red works only with red numbers")},fr.prototype._verify2=function(rr,ar){at((rr.negative|ar.negative)===0,"red works only with positives"),at(rr.red&&rr.red===ar.red,"red works only with red numbers")},fr.prototype.imod=function(rr){return this.prime?this.prime.ireduce(rr)._forceRed(this):(jt(rr,rr.umod(this.m)._forceRed(this)),rr)},fr.prototype.neg=function(rr){return rr.isZero()?rr.clone():this.m.sub(rr)._forceRed(this)},fr.prototype.add=function(rr,ar){this._verify2(rr,ar);var sr=rr.add(ar);return sr.cmp(this.m)>=0&&sr.isub(this.m),sr._forceRed(this)},fr.prototype.iadd=function(rr,ar){this._verify2(rr,ar);var sr=rr.iadd(ar);return sr.cmp(this.m)>=0&&sr.isub(this.m),sr},fr.prototype.sub=function(rr,ar){this._verify2(rr,ar);var sr=rr.sub(ar);return sr.cmpn(0)<0&&sr.iadd(this.m),sr._forceRed(this)},fr.prototype.isub=function(rr,ar){this._verify2(rr,ar);var sr=rr.isub(ar);return sr.cmpn(0)<0&&sr.iadd(this.m),sr},fr.prototype.shl=function(rr,ar){return this._verify1(rr),this.imod(rr.ushln(ar))},fr.prototype.imul=function(rr,ar){return this._verify2(rr,ar),this.imod(rr.imul(ar))},fr.prototype.mul=function(rr,ar){return this._verify2(rr,ar),this.imod(rr.mul(ar))},fr.prototype.isqr=function(rr){return this.imul(rr,rr.clone())},fr.prototype.sqr=function(rr){return this.mul(rr,rr)},fr.prototype.sqrt=function(rr){if(rr.isZero())return rr.clone();var ar=this.m.andln(3);if(at(ar%2===1),ar===3){var sr=this.m.add(new ut(1)).iushrn(2);return this.pow(rr,sr)}for(var dr=this.m.subn(1),gr=0;!dr.isZero()&&dr.andln(1)===0;)gr++,dr.iushrn(1);at(!dr.isZero());var ur=new ut(1).toRed(this),_r=ur.redNeg(),hr=this.m.subn(1).iushrn(1),cr=this.m.bitLength();for(cr=new ut(2*cr*cr).toRed(this);this.pow(cr,hr).cmp(_r)!==0;)cr.redIAdd(_r);for(var wr=this.pow(cr,dr),Br=this.pow(rr,dr.addn(1).iushrn(1)),Or=this.pow(rr,dr),Rr=gr;Or.cmp(ur)!==0;){for(var Pr=Or,Ur=0;Pr.cmp(ur)!==0;Ur++)Pr=Pr.redSqr();at(Ur<Rr);var kr=this.pow(wr,new ut(1).iushln(Rr-Ur-1));Br=Br.redMul(kr),wr=kr.redSqr(),Or=Or.redMul(wr),Rr=Ur}return Br},fr.prototype.invm=function(rr){var ar=rr._invmp(this.m);return ar.negative!==0?(ar.negative=0,this.imod(ar).redNeg()):this.imod(ar)},fr.prototype.pow=function(rr,ar){if(ar.isZero())return new ut(1).toRed(this);if(ar.cmpn(1)===0)return rr.clone();var sr=4,dr=new Array(1<<sr);dr[0]=new ut(1).toRed(this),dr[1]=rr;for(var gr=2;gr<dr.length;gr++)dr[gr]=this.mul(dr[gr-1],rr);var ur=dr[0],_r=0,hr=0,cr=ar.bitLength()%26;for(cr===0&&(cr=26),gr=ar.length-1;gr>=0;gr--){for(var wr=ar.words[gr],Br=cr-1;Br>=0;Br--){var Or=wr>>Br&1;if(ur!==dr[0]&&(ur=this.sqr(ur)),Or===0&&_r===0){hr=0;continue}_r<<=1,_r|=Or,hr++,!(hr!==sr&&(gr!==0||Br!==0))&&(ur=this.mul(ur,dr[_r]),hr=0,_r=0)}cr=26}return ur},fr.prototype.convertTo=function(rr){var ar=rr.umod(this.m);return ar===rr?ar.clone():ar},fr.prototype.convertFrom=function(rr){var ar=rr.clone();return ar.red=null,ar},ut.mont=function(rr){return new vr(rr)};function vr(or){fr.call(this,or),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ut(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ct(vr,fr),vr.prototype.convertTo=function(rr){return this.imod(rr.ushln(this.shift))},vr.prototype.convertFrom=function(rr){var ar=this.imod(rr.mul(this.rinv));return ar.red=null,ar},vr.prototype.imul=function(rr,ar){if(rr.isZero()||ar.isZero())return rr.words[0]=0,rr.length=1,rr;var sr=rr.imul(ar),dr=sr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),gr=sr.isub(dr).iushrn(this.shift),ur=gr;return gr.cmp(this.m)>=0?ur=gr.isub(this.m):gr.cmpn(0)<0&&(ur=gr.iadd(this.m)),ur._forceRed(this)},vr.prototype.mul=function(rr,ar){if(rr.isZero()||ar.isZero())return new ut(0)._forceRed(this);var sr=rr.mul(ar),dr=sr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),gr=sr.isub(dr).iushrn(this.shift),ur=gr;return gr.cmp(this.m)>=0?ur=gr.isub(this.m):gr.cmpn(0)<0&&(ur=gr.iadd(this.m)),ur._forceRed(this)},vr.prototype.invm=function(rr){var ar=this.imod(rr._invmp(this.m).mul(this.r2));return ar._forceRed(this)}})(typeof s>"u"||s,a)}}),EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER$2=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P$2={toStringTag:tag};P$2.absoluteValue=P$2.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),finalise(a)};P$2.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$2.clampedTo=P$2.clamp=function(a,s){var et,tt=this,at=tt.constructor;if(a=new at(a),s=new at(s),!a.s||!s.s)return new at(NaN);if(a.gt(s))throw Error(invalidArgument+s);return et=tt.cmp(a),et<0?a:tt.cmp(s)>0?s:new at(tt)};P$2.comparedTo=P$2.cmp=function(a){var s,et,tt,at,ct=this,ut=ct.d,bt=(a=new ct.constructor(a)).d,wt=ct.s,Et=a.s;if(!ut||!bt)return!wt||!Et?NaN:wt!==Et?wt:ut===bt?0:!ut^wt<0?1:-1;if(!ut[0]||!bt[0])return ut[0]?wt:bt[0]?-Et:0;if(wt!==Et)return wt;if(ct.e!==a.e)return ct.e>a.e^wt<0?1:-1;for(tt=ut.length,at=bt.length,s=0,et=tt<at?tt:at;s<et;++s)if(ut[s]!==bt[s])return ut[s]>bt[s]^wt<0?1:-1;return tt===at?0:tt>at^wt<0?1:-1};P$2.cosine=P$2.cos=function(){var a,s,et=this,tt=et.constructor;return et.d?et.d[0]?(a=tt.precision,s=tt.rounding,tt.precision=a+Math.max(et.e,et.sd())+LOG_BASE,tt.rounding=1,et=cosine(tt,toLessThanHalfPi(tt,et)),tt.precision=a,tt.rounding=s,finalise(quadrant==2||quadrant==3?et.neg():et,a,s,!0)):new tt(1):new tt(NaN)};P$2.cubeRoot=P$2.cbrt=function(){var a,s,et,tt,at,ct,ut,bt,wt,Et,Ft=this,jt=Ft.constructor;if(!Ft.isFinite()||Ft.isZero())return new jt(Ft);for(external=!1,ct=Ft.s*mathpow(Ft.s*Ft,1/3),!ct||Math.abs(ct)==1/0?(et=digitsToString(Ft.d),a=Ft.e,(ct=(a-et.length+1)%3)&&(et+=ct==1||ct==-2?"0":"00"),ct=mathpow(et,1/3),a=mathfloor((a+1)/3)-(a%3==(a<0?-1:2)),ct==1/0?et="5e"+a:(et=ct.toExponential(),et=et.slice(0,et.indexOf("e")+1)+a),tt=new jt(et),tt.s=Ft.s):tt=new jt(ct.toString()),ut=(a=jt.precision)+3;;)if(bt=tt,wt=bt.times(bt).times(bt),Et=wt.plus(Ft),tt=divide(Et.plus(Ft).times(bt),Et.plus(wt),ut+2,1),digitsToString(bt.d).slice(0,ut)===(et=digitsToString(tt.d)).slice(0,ut))if(et=et.slice(ut-3,ut+1),et=="9999"||!at&&et=="4999"){if(!at&&(finalise(bt,a+1,0),bt.times(bt).times(bt).eq(Ft))){tt=bt;break}ut+=4,at=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise(tt,a+1,1),s=!tt.times(tt).times(tt).eq(Ft));break}return external=!0,finalise(tt,a,jt.rounding,s)};P$2.decimalPlaces=P$2.dp=function(){var a,s=this.d,et=NaN;if(s){if(a=s.length-1,et=(a-mathfloor(this.e/LOG_BASE))*LOG_BASE,a=s[a],a)for(;a%10==0;a/=10)et--;et<0&&(et=0)}return et};P$2.dividedBy=P$2.div=function(a){return divide(this,new this.constructor(a))};P$2.dividedToIntegerBy=P$2.divToInt=function(a){var s=this,et=s.constructor;return finalise(divide(s,new et(a),0,1,1),et.precision,et.rounding)};P$2.equals=P$2.eq=function(a){return this.cmp(a)===0};P$2.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$2.greaterThan=P$2.gt=function(a){return this.cmp(a)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(a){var s=this.cmp(a);return s==1||s===0};P$2.hyperbolicCosine=P$2.cosh=function(){var a,s,et,tt,at,ct=this,ut=ct.constructor,bt=new ut(1);if(!ct.isFinite())return new ut(ct.s?1/0:NaN);if(ct.isZero())return bt;et=ut.precision,tt=ut.rounding,ut.precision=et+Math.max(ct.e,ct.sd())+4,ut.rounding=1,at=ct.d.length,at<32?(a=Math.ceil(at/3),s=(1/tinyPow(4,a)).toString()):(a=16,s="2.3283064365386962890625e-10"),ct=taylorSeries(ut,1,ct.times(s),new ut(1),!0);for(var wt,Et=a,Ft=new ut(8);Et--;)wt=ct.times(ct),ct=bt.minus(wt.times(Ft.minus(wt.times(Ft))));return finalise(ct,ut.precision=et,ut.rounding=tt,!0)};P$2.hyperbolicSine=P$2.sinh=function(){var a,s,et,tt,at=this,ct=at.constructor;if(!at.isFinite()||at.isZero())return new ct(at);if(s=ct.precision,et=ct.rounding,ct.precision=s+Math.max(at.e,at.sd())+4,ct.rounding=1,tt=at.d.length,tt<3)at=taylorSeries(ct,2,at,at,!0);else{a=1.4*Math.sqrt(tt),a=a>16?16:a|0,at=at.times(1/tinyPow(5,a)),at=taylorSeries(ct,2,at,at,!0);for(var ut,bt=new ct(5),wt=new ct(16),Et=new ct(20);a--;)ut=at.times(at),at=at.times(bt.plus(ut.times(wt.times(ut).plus(Et))))}return ct.precision=s,ct.rounding=et,finalise(at,s,et,!0)};P$2.hyperbolicTangent=P$2.tanh=function(){var a,s,et=this,tt=et.constructor;return et.isFinite()?et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+7,tt.rounding=1,divide(et.sinh(),et.cosh(),tt.precision=a,tt.rounding=s)):new tt(et.s)};P$2.inverseCosine=P$2.acos=function(){var a,s=this,et=s.constructor,tt=s.abs().cmp(1),at=et.precision,ct=et.rounding;return tt!==-1?tt===0?s.isNeg()?getPi(et,at,ct):new et(0):new et(NaN):s.isZero()?getPi(et,at+4,ct).times(.5):(et.precision=at+6,et.rounding=1,s=s.asin(),a=getPi(et,at+4,ct).times(.5),et.precision=at,et.rounding=ct,a.minus(s))};P$2.inverseHyperbolicCosine=P$2.acosh=function(){var a,s,et=this,tt=et.constructor;return et.lte(1)?new tt(et.eq(1)?0:NaN):et.isFinite()?(a=tt.precision,s=tt.rounding,tt.precision=a+Math.max(Math.abs(et.e),et.sd())+4,tt.rounding=1,external=!1,et=et.times(et).minus(1).sqrt().plus(et),external=!0,tt.precision=a,tt.rounding=s,et.ln()):new tt(et)};P$2.inverseHyperbolicSine=P$2.asinh=function(){var a,s,et=this,tt=et.constructor;return!et.isFinite()||et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+2*Math.max(Math.abs(et.e),et.sd())+6,tt.rounding=1,external=!1,et=et.times(et).plus(1).sqrt().plus(et),external=!0,tt.precision=a,tt.rounding=s,et.ln())};P$2.inverseHyperbolicTangent=P$2.atanh=function(){var a,s,et,tt,at=this,ct=at.constructor;return at.isFinite()?at.e>=0?new ct(at.abs().eq(1)?at.s/0:at.isZero()?at:NaN):(a=ct.precision,s=ct.rounding,tt=at.sd(),Math.max(tt,a)<2*-at.e-1?finalise(new ct(at),a,s,!0):(ct.precision=et=tt-at.e,at=divide(at.plus(1),new ct(1).minus(at),et+a,1),ct.precision=a+4,ct.rounding=1,at=at.ln(),ct.precision=a,ct.rounding=s,at.times(.5))):new ct(NaN)};P$2.inverseSine=P$2.asin=function(){var a,s,et,tt,at=this,ct=at.constructor;return at.isZero()?new ct(at):(s=at.abs().cmp(1),et=ct.precision,tt=ct.rounding,s!==-1?s===0?(a=getPi(ct,et+4,tt).times(.5),a.s=at.s,a):new ct(NaN):(ct.precision=et+6,ct.rounding=1,at=at.div(new ct(1).minus(at.times(at)).sqrt().plus(1)).atan(),ct.precision=et,ct.rounding=tt,at.times(2)))};P$2.inverseTangent=P$2.atan=function(){var a,s,et,tt,at,ct,ut,bt,wt,Et=this,Ft=Et.constructor,jt=Ft.precision,Lt=Ft.rounding;if(Et.isFinite()){if(Et.isZero())return new Ft(Et);if(Et.abs().eq(1)&&jt+4<=PI_PRECISION)return ut=getPi(Ft,jt+4,Lt).times(.25),ut.s=Et.s,ut}else{if(!Et.s)return new Ft(NaN);if(jt+4<=PI_PRECISION)return ut=getPi(Ft,jt+4,Lt).times(.5),ut.s=Et.s,ut}for(Ft.precision=bt=jt+10,Ft.rounding=1,et=Math.min(28,bt/LOG_BASE+2|0),a=et;a;--a)Et=Et.div(Et.times(Et).plus(1).sqrt().plus(1));for(external=!1,s=Math.ceil(bt/LOG_BASE),tt=1,wt=Et.times(Et),ut=new Ft(Et),at=Et;a!==-1;)if(at=at.times(wt),ct=ut.minus(at.div(tt+=2)),at=at.times(wt),ut=ct.plus(at.div(tt+=2)),ut.d[s]!==void 0)for(a=s;ut.d[a]===ct.d[a]&&a--;);return et&&(ut=ut.times(2<<et-1)),external=!0,finalise(ut,Ft.precision=jt,Ft.rounding=Lt,!0)};P$2.isFinite=function(){return!!this.d};P$2.isInteger=P$2.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$2.isNaN=function(){return!this.s};P$2.isNegative=P$2.isNeg=function(){return this.s<0};P$2.isPositive=P$2.isPos=function(){return this.s>0};P$2.isZero=function(){return!!this.d&&this.d[0]===0};P$2.lessThan=P$2.lt=function(a){return this.cmp(a)<0};P$2.lessThanOrEqualTo=P$2.lte=function(a){return this.cmp(a)<1};P$2.logarithm=P$2.log=function(a){var s,et,tt,at,ct,ut,bt,wt,Et=this,Ft=Et.constructor,jt=Ft.precision,Lt=Ft.rounding,Ut=5;if(a==null)a=new Ft(10),s=!0;else{if(a=new Ft(a),et=a.d,a.s<0||!et||!et[0]||a.eq(1))return new Ft(NaN);s=a.eq(10)}if(et=Et.d,Et.s<0||!et||!et[0]||Et.eq(1))return new Ft(et&&!et[0]?-1/0:Et.s!=1?NaN:et?0:1/0);if(s)if(et.length>1)ct=!0;else{for(at=et[0];at%10===0;)at/=10;ct=at!==1}if(external=!1,bt=jt+Ut,ut=naturalLogarithm(Et,bt),tt=s?getLn10(Ft,bt+10):naturalLogarithm(a,bt),wt=divide(ut,tt,bt,1),checkRoundingDigits(wt.d,at=jt,Lt))do if(bt+=10,ut=naturalLogarithm(Et,bt),tt=s?getLn10(Ft,bt+10):naturalLogarithm(a,bt),wt=divide(ut,tt,bt,1),!ct){+digitsToString(wt.d).slice(at+1,at+15)+1==1e14&&(wt=finalise(wt,jt+1,0));break}while(checkRoundingDigits(wt.d,at+=10,Lt));return external=!0,finalise(wt,jt,Lt)};P$2.minus=P$2.sub=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=this,Vt=Ut.constructor;if(a=new Vt(a),!Ut.d||!a.d)return!Ut.s||!a.s?a=new Vt(NaN):Ut.d?a.s=-a.s:a=new Vt(a.d||Ut.s!==a.s?Ut:NaN),a;if(Ut.s!=a.s)return a.s=-a.s,Ut.plus(a);if(Et=Ut.d,Lt=a.d,bt=Vt.precision,wt=Vt.rounding,!Et[0]||!Lt[0]){if(Lt[0])a.s=-a.s;else if(Et[0])a=new Vt(Ut);else return new Vt(wt===3?-0:0);return external?finalise(a,bt,wt):a}if(et=mathfloor(a.e/LOG_BASE),Ft=mathfloor(Ut.e/LOG_BASE),Et=Et.slice(),ct=Ft-et,ct){for(jt=ct<0,jt?(s=Et,ct=-ct,ut=Lt.length):(s=Lt,et=Ft,ut=Et.length),tt=Math.max(Math.ceil(bt/LOG_BASE),ut)+2,ct>tt&&(ct=tt,s.length=1),s.reverse(),tt=ct;tt--;)s.push(0);s.reverse()}else{for(tt=Et.length,ut=Lt.length,jt=tt<ut,jt&&(ut=tt),tt=0;tt<ut;tt++)if(Et[tt]!=Lt[tt]){jt=Et[tt]<Lt[tt];break}ct=0}for(jt&&(s=Et,Et=Lt,Lt=s,a.s=-a.s),ut=Et.length,tt=Lt.length-ut;tt>0;--tt)Et[ut++]=0;for(tt=Lt.length;tt>ct;){if(Et[--tt]<Lt[tt]){for(at=tt;at&&Et[--at]===0;)Et[at]=BASE-1;--Et[at],Et[tt]+=BASE}Et[tt]-=Lt[tt]}for(;Et[--ut]===0;)Et.pop();for(;Et[0]===0;Et.shift())--et;return Et[0]?(a.d=Et,a.e=getBase10Exponent(Et,et),external?finalise(a,bt,wt):a):new Vt(wt===3?-0:0)};P$2.modulo=P$2.mod=function(a){var s,et=this,tt=et.constructor;return a=new tt(a),!et.d||!a.s||a.d&&!a.d[0]?new tt(NaN):!a.d||et.d&&!et.d[0]?finalise(new tt(et),tt.precision,tt.rounding):(external=!1,tt.modulo==9?(s=divide(et,a.abs(),0,3,1),s.s*=a.s):s=divide(et,a,0,tt.modulo,1),s=s.times(a),external=!0,et.minus(s))};P$2.naturalExponential=P$2.exp=function(){return naturalExponential(this)};P$2.naturalLogarithm=P$2.ln=function(){return naturalLogarithm(this)};P$2.negated=P$2.neg=function(){var a=new this.constructor(this);return a.s=-a.s,finalise(a)};P$2.plus=P$2.add=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt=this,Lt=jt.constructor;if(a=new Lt(a),!jt.d||!a.d)return!jt.s||!a.s?a=new Lt(NaN):jt.d||(a=new Lt(a.d||jt.s===a.s?jt:NaN)),a;if(jt.s!=a.s)return a.s=-a.s,jt.minus(a);if(Et=jt.d,Ft=a.d,bt=Lt.precision,wt=Lt.rounding,!Et[0]||!Ft[0])return Ft[0]||(a=new Lt(jt)),external?finalise(a,bt,wt):a;if(ct=mathfloor(jt.e/LOG_BASE),tt=mathfloor(a.e/LOG_BASE),Et=Et.slice(),at=ct-tt,at){for(at<0?(et=Et,at=-at,ut=Ft.length):(et=Ft,tt=ct,ut=Et.length),ct=Math.ceil(bt/LOG_BASE),ut=ct>ut?ct+1:ut+1,at>ut&&(at=ut,et.length=1),et.reverse();at--;)et.push(0);et.reverse()}for(ut=Et.length,at=Ft.length,ut-at<0&&(at=ut,et=Ft,Ft=Et,Et=et),s=0;at;)s=(Et[--at]=Et[at]+Ft[at]+s)/BASE|0,Et[at]%=BASE;for(s&&(Et.unshift(s),++tt),ut=Et.length;Et[--ut]==0;)Et.pop();return a.d=Et,a.e=getBase10Exponent(Et,tt),external?finalise(a,bt,wt):a};P$2.precision=P$2.sd=function(a){var s,et=this;if(a!==void 0&&a!==!!a&&a!==1&&a!==0)throw Error(invalidArgument+a);return et.d?(s=getPrecision(et.d),a&&et.e+1>s&&(s=et.e+1)):s=NaN,s};P$2.round=function(){var a=this,s=a.constructor;return finalise(new s(a),a.e+1,s.rounding)};P$2.sine=P$2.sin=function(){var a,s,et=this,tt=et.constructor;return et.isFinite()?et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+Math.max(et.e,et.sd())+LOG_BASE,tt.rounding=1,et=sine(tt,toLessThanHalfPi(tt,et)),tt.precision=a,tt.rounding=s,finalise(quadrant>2?et.neg():et,a,s,!0)):new tt(NaN)};P$2.squareRoot=P$2.sqrt=function(){var a,s,et,tt,at,ct,ut=this,bt=ut.d,wt=ut.e,Et=ut.s,Ft=ut.constructor;if(Et!==1||!bt||!bt[0])return new Ft(!Et||Et<0&&(!bt||bt[0])?NaN:bt?ut:1/0);for(external=!1,Et=Math.sqrt(+ut),Et==0||Et==1/0?(s=digitsToString(bt),(s.length+wt)%2==0&&(s+="0"),Et=Math.sqrt(s),wt=mathfloor((wt+1)/2)-(wt<0||wt%2),Et==1/0?s="5e"+wt:(s=Et.toExponential(),s=s.slice(0,s.indexOf("e")+1)+wt),tt=new Ft(s)):tt=new Ft(Et.toString()),et=(wt=Ft.precision)+3;;)if(ct=tt,tt=ct.plus(divide(ut,ct,et+2,1)).times(.5),digitsToString(ct.d).slice(0,et)===(s=digitsToString(tt.d)).slice(0,et))if(s=s.slice(et-3,et+1),s=="9999"||!at&&s=="4999"){if(!at&&(finalise(ct,wt+1,0),ct.times(ct).eq(ut))){tt=ct;break}et+=4,at=1}else{(!+s||!+s.slice(1)&&s.charAt(0)=="5")&&(finalise(tt,wt+1,1),a=!tt.times(tt).eq(ut));break}return external=!0,finalise(tt,wt,Ft.rounding,a)};P$2.tangent=P$2.tan=function(){var a,s,et=this,tt=et.constructor;return et.isFinite()?et.isZero()?new tt(et):(a=tt.precision,s=tt.rounding,tt.precision=a+10,tt.rounding=1,et=et.sin(),et.s=1,et=divide(et,new tt(1).minus(et.times(et)).sqrt(),a+10,0),tt.precision=a,tt.rounding=s,finalise(quadrant==2||quadrant==4?et.neg():et,a,s,!0)):new tt(NaN)};P$2.times=P$2.mul=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft=this,jt=Ft.constructor,Lt=Ft.d,Ut=(a=new jt(a)).d;if(a.s*=Ft.s,!Lt||!Lt[0]||!Ut||!Ut[0])return new jt(!a.s||Lt&&!Lt[0]&&!Ut||Ut&&!Ut[0]&&!Lt?NaN:!Lt||!Ut?a.s/0:a.s*0);for(et=mathfloor(Ft.e/LOG_BASE)+mathfloor(a.e/LOG_BASE),wt=Lt.length,Et=Ut.length,wt<Et&&(ct=Lt,Lt=Ut,Ut=ct,ut=wt,wt=Et,Et=ut),ct=[],ut=wt+Et,tt=ut;tt--;)ct.push(0);for(tt=Et;--tt>=0;){for(s=0,at=wt+tt;at>tt;)bt=ct[at]+Ut[tt]*Lt[at-tt-1]+s,ct[at--]=bt%BASE|0,s=bt/BASE|0;ct[at]=(ct[at]+s)%BASE|0}for(;!ct[--ut];)ct.pop();return s?++et:ct.shift(),a.d=ct,a.e=getBase10Exponent(ct,et),external?finalise(a,jt.precision,jt.rounding):a};P$2.toBinary=function(a,s){return toStringBinary(this,2,a,s)};P$2.toDecimalPlaces=P$2.toDP=function(a,s){var et=this,tt=et.constructor;return et=new tt(et),a===void 0?et:(checkInt32(a,0,MAX_DIGITS),s===void 0?s=tt.rounding:checkInt32(s,0,8),finalise(et,a+et.e+1,s))};P$2.toExponential=function(a,s){var et,tt=this,at=tt.constructor;return a===void 0?et=finiteToString(tt,!0):(checkInt32(a,0,MAX_DIGITS),s===void 0?s=at.rounding:checkInt32(s,0,8),tt=finalise(new at(tt),a+1,s),et=finiteToString(tt,!0,a+1)),tt.isNeg()&&!tt.isZero()?"-"+et:et};P$2.toFixed=function(a,s){var et,tt,at=this,ct=at.constructor;return a===void 0?et=finiteToString(at):(checkInt32(a,0,MAX_DIGITS),s===void 0?s=ct.rounding:checkInt32(s,0,8),tt=finalise(new ct(at),a+at.e+1,s),et=finiteToString(tt,!1,a+tt.e+1)),at.isNeg()&&!at.isZero()?"-"+et:et};P$2.toFraction=function(a){var s,et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=this,Vt=Ut.d,Yt=Ut.constructor;if(!Vt)return new Yt(Ut);if(Et=et=new Yt(1),tt=wt=new Yt(0),s=new Yt(tt),ct=s.e=getPrecision(Vt)-Ut.e-1,ut=ct%LOG_BASE,s.d[0]=mathpow(10,ut<0?LOG_BASE+ut:ut),a==null)a=ct>0?s:Et;else{if(bt=new Yt(a),!bt.isInt()||bt.lt(Et))throw Error(invalidArgument+bt);a=bt.gt(s)?ct>0?s:Et:bt}for(external=!1,bt=new Yt(digitsToString(Vt)),Ft=Yt.precision,Yt.precision=ct=Vt.length*LOG_BASE*2;jt=divide(bt,s,0,1,1),at=et.plus(jt.times(tt)),at.cmp(a)!=1;)et=tt,tt=at,at=Et,Et=wt.plus(jt.times(at)),wt=at,at=s,s=bt.minus(jt.times(at)),bt=at;return at=divide(a.minus(et),tt,0,1,1),wt=wt.plus(at.times(Et)),et=et.plus(at.times(tt)),wt.s=Et.s=Ut.s,Lt=divide(Et,tt,ct,1).minus(Ut).abs().cmp(divide(wt,et,ct,1).minus(Ut).abs())<1?[Et,tt]:[wt,et],Yt.precision=Ft,external=!0,Lt};P$2.toHexadecimal=P$2.toHex=function(a,s){return toStringBinary(this,16,a,s)};P$2.toNearest=function(a,s){var et=this,tt=et.constructor;if(et=new tt(et),a==null){if(!et.d)return et;a=new tt(1),s=tt.rounding}else{if(a=new tt(a),s===void 0?s=tt.rounding:checkInt32(s,0,8),!et.d)return a.s?et:a;if(!a.d)return a.s&&(a.s=et.s),a}return a.d[0]?(external=!1,et=divide(et,a,0,s,1).times(a),external=!0,finalise(et)):(a.s=et.s,et=a),et};P$2.toNumber=function(){return+this};P$2.toOctal=function(a,s){return toStringBinary(this,8,a,s)};P$2.toPower=P$2.pow=function(a){var s,et,tt,at,ct,ut,bt=this,wt=bt.constructor,Et=+(a=new wt(a));if(!bt.d||!a.d||!bt.d[0]||!a.d[0])return new wt(mathpow(+bt,Et));if(bt=new wt(bt),bt.eq(1))return bt;if(tt=wt.precision,ct=wt.rounding,a.eq(1))return finalise(bt,tt,ct);if(s=mathfloor(a.e/LOG_BASE),s>=a.d.length-1&&(et=Et<0?-Et:Et)<=MAX_SAFE_INTEGER$2)return at=intPow(wt,bt,et,tt),a.s<0?new wt(1).div(at):finalise(at,tt,ct);if(ut=bt.s,ut<0){if(s<a.d.length-1)return new wt(NaN);if(a.d[s]&1||(ut=1),bt.e==0&&bt.d[0]==1&&bt.d.length==1)return bt.s=ut,bt}return et=mathpow(+bt,Et),s=et==0||!isFinite(et)?mathfloor(Et*(Math.log("0."+digitsToString(bt.d))/Math.LN10+bt.e+1)):new wt(et+"").e,s>wt.maxE+1||s<wt.minE-1?new wt(s>0?ut/0:0):(external=!1,wt.rounding=bt.s=1,et=Math.min(12,(s+"").length),at=naturalExponential(a.times(naturalLogarithm(bt,tt+et)),tt),at.d&&(at=finalise(at,tt+5,1),checkRoundingDigits(at.d,tt,ct)&&(s=tt+10,at=finalise(naturalExponential(a.times(naturalLogarithm(bt,s+et)),s),s+5,1),+digitsToString(at.d).slice(tt+1,tt+15)+1==1e14&&(at=finalise(at,tt+1,0)))),at.s=ut,external=!0,wt.rounding=ct,finalise(at,tt,ct))};P$2.toPrecision=function(a,s){var et,tt=this,at=tt.constructor;return a===void 0?et=finiteToString(tt,tt.e<=at.toExpNeg||tt.e>=at.toExpPos):(checkInt32(a,1,MAX_DIGITS),s===void 0?s=at.rounding:checkInt32(s,0,8),tt=finalise(new at(tt),a,s),et=finiteToString(tt,a<=tt.e||tt.e<=at.toExpNeg,a)),tt.isNeg()&&!tt.isZero()?"-"+et:et};P$2.toSignificantDigits=P$2.toSD=function(a,s){var et=this,tt=et.constructor;return a===void 0?(a=tt.precision,s=tt.rounding):(checkInt32(a,1,MAX_DIGITS),s===void 0?s=tt.rounding:checkInt32(s,0,8)),finalise(new tt(et),a,s)};P$2.toString=function(){var a=this,s=a.constructor,et=finiteToString(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()&&!a.isZero()?"-"+et:et};P$2.truncated=P$2.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$2.valueOf=P$2.toJSON=function(){var a=this,s=a.constructor,et=finiteToString(a,a.e<=s.toExpNeg||a.e>=s.toExpPos);return a.isNeg()?"-"+et:et};function digitsToString(a){var s,et,tt,at=a.length-1,ct="",ut=a[0];if(at>0){for(ct+=ut,s=1;s<at;s++)tt=a[s]+"",et=LOG_BASE-tt.length,et&&(ct+=getZeroString(et)),ct+=tt;ut=a[s],tt=ut+"",et=LOG_BASE-tt.length,et&&(ct+=getZeroString(et))}else if(ut===0)return"0";for(;ut%10===0;)ut/=10;return ct+ut}function checkInt32(a,s,et){if(a!==~~a||a<s||a>et)throw Error(invalidArgument+a)}function checkRoundingDigits(a,s,et,tt){var at,ct,ut,bt;for(ct=a[0];ct>=10;ct/=10)--s;return--s<0?(s+=LOG_BASE,at=0):(at=Math.ceil((s+1)/LOG_BASE),s%=LOG_BASE),ct=mathpow(10,LOG_BASE-s),bt=a[at]%ct|0,tt==null?s<3?(s==0?bt=bt/100|0:s==1&&(bt=bt/10|0),ut=et<4&&bt==99999||et>3&&bt==49999||bt==5e4||bt==0):ut=(et<4&&bt+1==ct||et>3&&bt+1==ct/2)&&(a[at+1]/ct/100|0)==mathpow(10,s-2)-1||(bt==ct/2||bt==0)&&(a[at+1]/ct/100|0)==0:s<4?(s==0?bt=bt/1e3|0:s==1?bt=bt/100|0:s==2&&(bt=bt/10|0),ut=(tt||et<4)&&bt==9999||!tt&&et>3&&bt==4999):ut=((tt||et<4)&&bt+1==ct||!tt&&et>3&&bt+1==ct/2)&&(a[at+1]/ct/1e3|0)==mathpow(10,s-3)-1,ut}function convertBase(a,s,et){for(var tt,at=[0],ct,ut=0,bt=a.length;ut<bt;){for(ct=at.length;ct--;)at[ct]*=s;for(at[0]+=NUMERALS.indexOf(a.charAt(ut++)),tt=0;tt<at.length;tt++)at[tt]>et-1&&(at[tt+1]===void 0&&(at[tt+1]=0),at[tt+1]+=at[tt]/et|0,at[tt]%=et)}return at.reverse()}function cosine(a,s){var et,tt,at;if(s.isZero())return s;tt=s.d.length,tt<32?(et=Math.ceil(tt/3),at=(1/tinyPow(4,et)).toString()):(et=16,at="2.3283064365386962890625e-10"),a.precision+=et,s=taylorSeries(a,1,s.times(at),new a(1));for(var ct=et;ct--;){var ut=s.times(s);s=ut.times(ut).minus(ut).times(8).plus(1)}return a.precision-=et,s}var divide=function(){function a(tt,at,ct){var ut,bt=0,wt=tt.length;for(tt=tt.slice();wt--;)ut=tt[wt]*at+bt,tt[wt]=ut%ct|0,bt=ut/ct|0;return bt&&tt.unshift(bt),tt}function s(tt,at,ct,ut){var bt,wt;if(ct!=ut)wt=ct>ut?1:-1;else for(bt=wt=0;bt<ct;bt++)if(tt[bt]!=at[bt]){wt=tt[bt]>at[bt]?1:-1;break}return wt}function et(tt,at,ct,ut){for(var bt=0;ct--;)tt[ct]-=bt,bt=tt[ct]<at[ct]?1:0,tt[ct]=bt*ut+tt[ct]-at[ct];for(;!tt[0]&&tt.length>1;)tt.shift()}return function(tt,at,ct,ut,bt,wt){var Et,Ft,jt,Lt,Ut,Vt,Yt,er,tr,nr,ir,lr,pr,yr,br,xr,Er,$r,Sr,fr,vr=tt.constructor,or=tt.s==at.s?1:-1,rr=tt.d,ar=at.d;if(!rr||!rr[0]||!ar||!ar[0])return new vr(!tt.s||!at.s||(rr?ar&&rr[0]==ar[0]:!ar)?NaN:rr&&rr[0]==0||!ar?or*0:or/0);for(wt?(Ut=1,Ft=tt.e-at.e):(wt=BASE,Ut=LOG_BASE,Ft=mathfloor(tt.e/Ut)-mathfloor(at.e/Ut)),Sr=ar.length,Er=rr.length,tr=new vr(or),nr=tr.d=[],jt=0;ar[jt]==(rr[jt]||0);jt++);if(ar[jt]>(rr[jt]||0)&&Ft--,ct==null?(yr=ct=vr.precision,ut=vr.rounding):bt?yr=ct+(tt.e-at.e)+1:yr=ct,yr<0)nr.push(1),Vt=!0;else{if(yr=yr/Ut+2|0,jt=0,Sr==1){for(Lt=0,ar=ar[0],yr++;(jt<Er||Lt)&&yr--;jt++)br=Lt*wt+(rr[jt]||0),nr[jt]=br/ar|0,Lt=br%ar|0;Vt=Lt||jt<Er}else{for(Lt=wt/(ar[0]+1)|0,Lt>1&&(ar=a(ar,Lt,wt),rr=a(rr,Lt,wt),Sr=ar.length,Er=rr.length),xr=Sr,ir=rr.slice(0,Sr),lr=ir.length;lr<Sr;)ir[lr++]=0;fr=ar.slice(),fr.unshift(0),$r=ar[0],ar[1]>=wt/2&&++$r;do Lt=0,Et=s(ar,ir,Sr,lr),Et<0?(pr=ir[0],Sr!=lr&&(pr=pr*wt+(ir[1]||0)),Lt=pr/$r|0,Lt>1?(Lt>=wt&&(Lt=wt-1),Yt=a(ar,Lt,wt),er=Yt.length,lr=ir.length,Et=s(Yt,ir,er,lr),Et==1&&(Lt--,et(Yt,Sr<er?fr:ar,er,wt))):(Lt==0&&(Et=Lt=1),Yt=ar.slice()),er=Yt.length,er<lr&&Yt.unshift(0),et(ir,Yt,lr,wt),Et==-1&&(lr=ir.length,Et=s(ar,ir,Sr,lr),Et<1&&(Lt++,et(ir,Sr<lr?fr:ar,lr,wt))),lr=ir.length):Et===0&&(Lt++,ir=[0]),nr[jt++]=Lt,Et&&ir[0]?ir[lr++]=rr[xr]||0:(ir=[rr[xr]],lr=1);while((xr++<Er||ir[0]!==void 0)&&yr--);Vt=ir[0]!==void 0}nr[0]||nr.shift()}if(Ut==1)tr.e=Ft,inexact=Vt;else{for(jt=1,Lt=nr[0];Lt>=10;Lt/=10)jt++;tr.e=jt+Ft*Ut-1,finalise(tr,bt?ct+tr.e+1:ct,ut,Vt)}return tr}}();function finalise(a,s,et,tt){var at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=a.constructor;e:if(s!=null){if(jt=a.d,!jt)return a;for(at=1,bt=jt[0];bt>=10;bt/=10)at++;if(ct=s-at,ct<0)ct+=LOG_BASE,ut=s,Ft=jt[Lt=0],wt=Ft/mathpow(10,at-ut-1)%10|0;else if(Lt=Math.ceil((ct+1)/LOG_BASE),bt=jt.length,Lt>=bt)if(tt){for(;bt++<=Lt;)jt.push(0);Ft=wt=0,at=1,ct%=LOG_BASE,ut=ct-LOG_BASE+1}else break e;else{for(Ft=bt=jt[Lt],at=1;bt>=10;bt/=10)at++;ct%=LOG_BASE,ut=ct-LOG_BASE+at,wt=ut<0?0:Ft/mathpow(10,at-ut-1)%10|0}if(tt=tt||s<0||jt[Lt+1]!==void 0||(ut<0?Ft:Ft%mathpow(10,at-ut-1)),Et=et<4?(wt||tt)&&(et==0||et==(a.s<0?3:2)):wt>5||wt==5&&(et==4||tt||et==6&&(ct>0?ut>0?Ft/mathpow(10,at-ut):0:jt[Lt-1])%10&1||et==(a.s<0?8:7)),s<1||!jt[0])return jt.length=0,Et?(s-=a.e+1,jt[0]=mathpow(10,(LOG_BASE-s%LOG_BASE)%LOG_BASE),a.e=-s||0):jt[0]=a.e=0,a;if(ct==0?(jt.length=Lt,bt=1,Lt--):(jt.length=Lt+1,bt=mathpow(10,LOG_BASE-ct),jt[Lt]=ut>0?(Ft/mathpow(10,at-ut)%mathpow(10,ut)|0)*bt:0),Et)for(;;)if(Lt==0){for(ct=1,ut=jt[0];ut>=10;ut/=10)ct++;for(ut=jt[0]+=bt,bt=1;ut>=10;ut/=10)bt++;ct!=bt&&(a.e++,jt[0]==BASE&&(jt[0]=1));break}else{if(jt[Lt]+=bt,jt[Lt]!=BASE)break;jt[Lt--]=0,bt=1}for(ct=jt.length;jt[--ct]===0;)jt.pop()}return external&&(a.e>Ut.maxE?(a.d=null,a.e=NaN):a.e<Ut.minE&&(a.e=0,a.d=[0])),a}function finiteToString(a,s,et){if(!a.isFinite())return nonFiniteToString(a);var tt,at=a.e,ct=digitsToString(a.d),ut=ct.length;return s?(et&&(tt=et-ut)>0?ct=ct.charAt(0)+"."+ct.slice(1)+getZeroString(tt):ut>1&&(ct=ct.charAt(0)+"."+ct.slice(1)),ct=ct+(a.e<0?"e":"e+")+a.e):at<0?(ct="0."+getZeroString(-at-1)+ct,et&&(tt=et-ut)>0&&(ct+=getZeroString(tt))):at>=ut?(ct+=getZeroString(at+1-ut),et&&(tt=et-at-1)>0&&(ct=ct+"."+getZeroString(tt))):((tt=at+1)<ut&&(ct=ct.slice(0,tt)+"."+ct.slice(tt)),et&&(tt=et-ut)>0&&(at+1===ut&&(ct+="."),ct+=getZeroString(tt))),ct}function getBase10Exponent(a,s){var et=a[0];for(s*=LOG_BASE;et>=10;et/=10)s++;return s}function getLn10(a,s,et){if(s>LN10_PRECISION)throw external=!0,et&&(a.precision=et),Error(precisionLimitExceeded);return finalise(new a(LN10),s,1,!0)}function getPi(a,s,et){if(s>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new a(PI),s,et,!0)}function getPrecision(a){var s=a.length-1,et=s*LOG_BASE+1;if(s=a[s],s){for(;s%10==0;s/=10)et--;for(s=a[0];s>=10;s/=10)et++}return et}function getZeroString(a){for(var s="";a--;)s+="0";return s}function intPow(a,s,et,tt){var at,ct=new a(1),ut=Math.ceil(tt/LOG_BASE+4);for(external=!1;;){if(et%2&&(ct=ct.times(s),truncate(ct.d,ut)&&(at=!0)),et=mathfloor(et/2),et===0){et=ct.d.length-1,at&&ct.d[et]===0&&++ct.d[et];break}s=s.times(s),truncate(s.d,ut)}return external=!0,ct}function isOdd(a){return a.d[a.d.length-1]&1}function maxOrMin(a,s,et){for(var tt,at=new a(s[0]),ct=0;++ct<s.length;)if(tt=new a(s[ct]),tt.s)at[et](tt)&&(at=tt);else{at=tt;break}return at}function naturalExponential(a,s){var et,tt,at,ct,ut,bt,wt,Et=0,Ft=0,jt=0,Lt=a.constructor,Ut=Lt.rounding,Vt=Lt.precision;if(!a.d||!a.d[0]||a.e>17)return new Lt(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(s==null?(external=!1,wt=Vt):wt=s,bt=new Lt(.03125);a.e>-2;)a=a.times(bt),jt+=5;for(tt=Math.log(mathpow(2,jt))/Math.LN10*2+5|0,wt+=tt,et=ct=ut=new Lt(1),Lt.precision=wt;;){if(ct=finalise(ct.times(a),wt,1),et=et.times(++Ft),bt=ut.plus(divide(ct,et,wt,1)),digitsToString(bt.d).slice(0,wt)===digitsToString(ut.d).slice(0,wt)){for(at=jt;at--;)ut=finalise(ut.times(ut),wt,1);if(s==null)if(Et<3&&checkRoundingDigits(ut.d,wt-tt,Ut,Et))Lt.precision=wt+=10,et=ct=bt=new Lt(1),Ft=0,Et++;else return finalise(ut,Lt.precision=Vt,Ut,external=!0);else return Lt.precision=Vt,ut}ut=bt}}function naturalLogarithm(a,s){var et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=1,Vt=10,Yt=a,er=Yt.d,tr=Yt.constructor,nr=tr.rounding,ir=tr.precision;if(Yt.s<0||!er||!er[0]||!Yt.e&&er[0]==1&&er.length==1)return new tr(er&&!er[0]?-1/0:Yt.s!=1?NaN:er?0:Yt);if(s==null?(external=!1,Ft=ir):Ft=s,tr.precision=Ft+=Vt,et=digitsToString(er),tt=et.charAt(0),Math.abs(ct=Yt.e)<15e14){for(;tt<7&&tt!=1||tt==1&&et.charAt(1)>3;)Yt=Yt.times(a),et=digitsToString(Yt.d),tt=et.charAt(0),Ut++;ct=Yt.e,tt>1?(Yt=new tr("0."+et),ct++):Yt=new tr(tt+"."+et.slice(1))}else return Et=getLn10(tr,Ft+2,ir).times(ct+""),Yt=naturalLogarithm(new tr(tt+"."+et.slice(1)),Ft-Vt).plus(Et),tr.precision=ir,s==null?finalise(Yt,ir,nr,external=!0):Yt;for(jt=Yt,wt=ut=Yt=divide(Yt.minus(1),Yt.plus(1),Ft,1),Lt=finalise(Yt.times(Yt),Ft,1),at=3;;){if(ut=finalise(ut.times(Lt),Ft,1),Et=wt.plus(divide(ut,new tr(at),Ft,1)),digitsToString(Et.d).slice(0,Ft)===digitsToString(wt.d).slice(0,Ft))if(wt=wt.times(2),ct!==0&&(wt=wt.plus(getLn10(tr,Ft+2,ir).times(ct+""))),wt=divide(wt,new tr(Ut),Ft,1),s==null)if(checkRoundingDigits(wt.d,Ft-Vt,nr,bt))tr.precision=Ft+=Vt,Et=ut=Yt=divide(jt.minus(1),jt.plus(1),Ft,1),Lt=finalise(Yt.times(Yt),Ft,1),at=bt=1;else return finalise(wt,tr.precision=ir,nr,external=!0);else return tr.precision=ir,wt;wt=Et,at+=2}}function nonFiniteToString(a){return String(a.s*a.s/0)}function parseDecimal(a,s){var et,tt,at;for((et=s.indexOf("."))>-1&&(s=s.replace(".","")),(tt=s.search(/e/i))>0?(et<0&&(et=tt),et+=+s.slice(tt+1),s=s.substring(0,tt)):et<0&&(et=s.length),tt=0;s.charCodeAt(tt)===48;tt++);for(at=s.length;s.charCodeAt(at-1)===48;--at);if(s=s.slice(tt,at),s){if(at-=tt,a.e=et=et-tt-1,a.d=[],tt=(et+1)%LOG_BASE,et<0&&(tt+=LOG_BASE),tt<at){for(tt&&a.d.push(+s.slice(0,tt)),at-=LOG_BASE;tt<at;)a.d.push(+s.slice(tt,tt+=LOG_BASE));s=s.slice(tt),tt=LOG_BASE-s.length}else tt-=at;for(;tt--;)s+="0";a.d.push(+s),external&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function parseOther(a,s){var et,tt,at,ct,ut,bt,wt,Et,Ft;if(s.indexOf("_")>-1){if(s=s.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(s))return parseDecimal(a,s)}else if(s==="Infinity"||s==="NaN")return+s||(a.s=NaN),a.e=NaN,a.d=null,a;if(isHex.test(s))et=16,s=s.toLowerCase();else if(isBinary.test(s))et=2;else if(isOctal.test(s))et=8;else throw Error(invalidArgument+s);for(ct=s.search(/p/i),ct>0?(wt=+s.slice(ct+1),s=s.substring(2,ct)):s=s.slice(2),ct=s.indexOf("."),ut=ct>=0,tt=a.constructor,ut&&(s=s.replace(".",""),bt=s.length,ct=bt-ct,at=intPow(tt,new tt(et),ct,ct*2)),Et=convertBase(s,et,BASE),Ft=Et.length-1,ct=Ft;Et[ct]===0;--ct)Et.pop();return ct<0?new tt(a.s*0):(a.e=getBase10Exponent(Et,Ft),a.d=Et,external=!1,ut&&(a=divide(a,at,bt*4)),wt&&(a=a.times(Math.abs(wt)<54?mathpow(2,wt):Decimal.pow(2,wt))),external=!0,a)}function sine(a,s){var et,tt=s.d.length;if(tt<3)return s.isZero()?s:taylorSeries(a,2,s,s);et=1.4*Math.sqrt(tt),et=et>16?16:et|0,s=s.times(1/tinyPow(5,et)),s=taylorSeries(a,2,s,s);for(var at,ct=new a(5),ut=new a(16),bt=new a(20);et--;)at=s.times(s),s=s.times(ct.plus(at.times(ut.times(at).minus(bt))));return s}function taylorSeries(a,s,et,tt,at){var ct,ut,bt,wt,Et=a.precision,Ft=Math.ceil(Et/LOG_BASE);for(external=!1,wt=et.times(et),bt=new a(tt);;){if(ut=divide(bt.times(wt),new a(s++*s++),Et,1),bt=at?tt.plus(ut):tt.minus(ut),tt=divide(ut.times(wt),new a(s++*s++),Et,1),ut=bt.plus(tt),ut.d[Ft]!==void 0){for(ct=Ft;ut.d[ct]===bt.d[ct]&&ct--;);if(ct==-1)break}ct=bt,bt=tt,tt=ut,ut=ct}return external=!0,ut.d.length=Ft+1,ut}function tinyPow(a,s){for(var et=a;--s;)et*=a;return et}function toLessThanHalfPi(a,s){var et,tt=s.s<0,at=getPi(a,a.precision,1),ct=at.times(.5);if(s=s.abs(),s.lte(ct))return quadrant=tt?4:1,s;if(et=s.divToInt(at),et.isZero())quadrant=tt?3:2;else{if(s=s.minus(et.times(at)),s.lte(ct))return quadrant=isOdd(et)?tt?2:3:tt?4:1,s;quadrant=isOdd(et)?tt?1:4:tt?3:2}return s.minus(at).abs()}function toStringBinary(a,s,et,tt){var at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut=a.constructor,Vt=et!==void 0;if(Vt?(checkInt32(et,1,MAX_DIGITS),tt===void 0?tt=Ut.rounding:checkInt32(tt,0,8)):(et=Ut.precision,tt=Ut.rounding),!a.isFinite())Ft=nonFiniteToString(a);else{for(Ft=finiteToString(a),ut=Ft.indexOf("."),Vt?(at=2,s==16?et=et*4-3:s==8&&(et=et*3-2)):at=s,ut>=0&&(Ft=Ft.replace(".",""),Lt=new Ut(1),Lt.e=Ft.length-ut,Lt.d=convertBase(finiteToString(Lt),10,at),Lt.e=Lt.d.length),jt=convertBase(Ft,10,at),ct=wt=jt.length;jt[--wt]==0;)jt.pop();if(!jt[0])Ft=Vt?"0p+0":"0";else{if(ut<0?ct--:(a=new Ut(a),a.d=jt,a.e=ct,a=divide(a,Lt,et,tt,0,at),jt=a.d,ct=a.e,Et=inexact),ut=jt[et],bt=at/2,Et=Et||jt[et+1]!==void 0,Et=tt<4?(ut!==void 0||Et)&&(tt===0||tt===(a.s<0?3:2)):ut>bt||ut===bt&&(tt===4||Et||tt===6&&jt[et-1]&1||tt===(a.s<0?8:7)),jt.length=et,Et)for(;++jt[--et]>at-1;)jt[et]=0,et||(++ct,jt.unshift(1));for(wt=jt.length;!jt[wt-1];--wt);for(ut=0,Ft="";ut<wt;ut++)Ft+=NUMERALS.charAt(jt[ut]);if(Vt){if(wt>1)if(s==16||s==8){for(ut=s==16?4:3,--wt;wt%ut;wt++)Ft+="0";for(jt=convertBase(Ft,at,s),wt=jt.length;!jt[wt-1];--wt);for(ut=1,Ft="1.";ut<wt;ut++)Ft+=NUMERALS.charAt(jt[ut])}else Ft=Ft.charAt(0)+"."+Ft.slice(1);Ft=Ft+(ct<0?"p":"p+")+ct}else if(ct<0){for(;++ct;)Ft="0"+Ft;Ft="0."+Ft}else if(++ct>wt)for(ct-=wt;ct--;)Ft+="0";else ct<wt&&(Ft=Ft.slice(0,ct)+"."+Ft.slice(ct))}Ft=(s==16?"0x":s==2?"0b":s==8?"0o":"")+Ft}return a.s<0?"-"+Ft:Ft}function truncate(a,s){if(a.length>s)return a.length=s,!0}function abs$1(a){return new this(a).abs()}function acos(a){return new this(a).acos()}function acosh(a){return new this(a).acosh()}function add(a,s){return new this(a).plus(s)}function asin(a){return new this(a).asin()}function asinh(a){return new this(a).asinh()}function atan(a){return new this(a).atan()}function atanh(a){return new this(a).atanh()}function atan2(a,s){a=new this(a),s=new this(s);var et,tt=this.precision,at=this.rounding,ct=tt+4;return!a.s||!s.s?et=new this(NaN):!a.d&&!s.d?(et=getPi(this,ct,1).times(s.s>0?.25:.75),et.s=a.s):!s.d||a.isZero()?(et=s.s<0?getPi(this,tt,at):new this(0),et.s=a.s):!a.d||s.isZero()?(et=getPi(this,ct,1).times(.5),et.s=a.s):s.s<0?(this.precision=ct,this.rounding=1,et=this.atan(divide(a,s,ct,1)),s=getPi(this,ct,1),this.precision=tt,this.rounding=at,et=a.s<0?et.minus(s):et.plus(s)):et=this.atan(divide(a,s,ct,1)),et}function cbrt(a){return new this(a).cbrt()}function ceil(a){return finalise(a=new this(a),a.e+1,2)}function clamp$2(a,s,et){return new this(a).clamp(s,et)}function config$2(a){if(!a||typeof a!="object")throw Error(decimalError+"Object expected");var s,et,tt,at=a.defaults===!0,ct=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-9e15,0,"modulo",0,9];for(s=0;s<ct.length;s+=3)if(et=ct[s],at&&(this[et]=DEFAULTS[et]),(tt=a[et])!==void 0)if(mathfloor(tt)===tt&&tt>=ct[s+1]&&tt<=ct[s+2])this[et]=tt;else throw Error(invalidArgument+et+": "+tt);if(et="crypto",at&&(this[et]=DEFAULTS[et]),(tt=a[et])!==void 0)if(tt===!0||tt===!1||tt===0||tt===1)if(tt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[et]=!0;else throw Error(cryptoUnavailable);else this[et]=!1;else throw Error(invalidArgument+et+": "+tt);return this}function cos(a){return new this(a).cos()}function cosh(a){return new this(a).cosh()}function clone$1(a){var s,et,tt;function at(ct){var ut,bt,wt,Et=this;if(!(Et instanceof at))return new at(ct);if(Et.constructor=at,isDecimalInstance(ct)){Et.s=ct.s,external?!ct.d||ct.e>at.maxE?(Et.e=NaN,Et.d=null):ct.e<at.minE?(Et.e=0,Et.d=[0]):(Et.e=ct.e,Et.d=ct.d.slice()):(Et.e=ct.e,Et.d=ct.d?ct.d.slice():ct.d);return}if(wt=typeof ct,wt==="number"){if(ct===0){Et.s=1/ct<0?-1:1,Et.e=0,Et.d=[0];return}if(ct<0?(ct=-ct,Et.s=-1):Et.s=1,ct===~~ct&&ct<1e7){for(ut=0,bt=ct;bt>=10;bt/=10)ut++;external?ut>at.maxE?(Et.e=NaN,Et.d=null):ut<at.minE?(Et.e=0,Et.d=[0]):(Et.e=ut,Et.d=[ct]):(Et.e=ut,Et.d=[ct]);return}else if(ct*0!==0){ct||(Et.s=NaN),Et.e=NaN,Et.d=null;return}return parseDecimal(Et,ct.toString())}else if(wt!=="string")throw Error(invalidArgument+ct);return(bt=ct.charCodeAt(0))===45?(ct=ct.slice(1),Et.s=-1):(bt===43&&(ct=ct.slice(1)),Et.s=1),isDecimal.test(ct)?parseDecimal(Et,ct):parseOther(Et,ct)}if(at.prototype=P$2,at.ROUND_UP=0,at.ROUND_DOWN=1,at.ROUND_CEIL=2,at.ROUND_FLOOR=3,at.ROUND_HALF_UP=4,at.ROUND_HALF_DOWN=5,at.ROUND_HALF_EVEN=6,at.ROUND_HALF_CEIL=7,at.ROUND_HALF_FLOOR=8,at.EUCLID=9,at.config=at.set=config$2,at.clone=clone$1,at.isDecimal=isDecimalInstance,at.abs=abs$1,at.acos=acos,at.acosh=acosh,at.add=add,at.asin=asin,at.asinh=asinh,at.atan=atan,at.atanh=atanh,at.atan2=atan2,at.cbrt=cbrt,at.ceil=ceil,at.clamp=clamp$2,at.cos=cos,at.cosh=cosh,at.div=div,at.exp=exp,at.floor=floor$1,at.hypot=hypot,at.ln=ln$1,at.log=log,at.log10=log10,at.log2=log2,at.max=max$1,at.min=min$1,at.mod=mod,at.mul=mul,at.pow=pow$1,at.random=random,at.round=round$1,at.sign=sign$2,at.sin=sin,at.sinh=sinh,at.sqrt=sqrt,at.sub=sub,at.sum=sum,at.tan=tan,at.tanh=tanh,at.trunc=trunc,a===void 0&&(a={}),a&&a.defaults!==!0)for(tt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],s=0;s<tt.length;)a.hasOwnProperty(et=tt[s++])||(a[et]=this[et]);return at.config(a),at}function div(a,s){return new this(a).div(s)}function exp(a){return new this(a).exp()}function floor$1(a){return finalise(a=new this(a),a.e+1,3)}function hypot(){var a,s,et=new this(0);for(external=!1,a=0;a<arguments.length;)if(s=new this(arguments[a++]),s.d)et.d&&(et=et.plus(s.times(s)));else{if(s.s)return external=!0,new this(1/0);et=s}return external=!0,et.sqrt()}function isDecimalInstance(a){return a instanceof Decimal||a&&a.toStringTag===tag||!1}function ln$1(a){return new this(a).ln()}function log(a,s){return new this(a).log(s)}function log2(a){return new this(a).log(2)}function log10(a){return new this(a).log(10)}function max$1(){return maxOrMin(this,arguments,"lt")}function min$1(){return maxOrMin(this,arguments,"gt")}function mod(a,s){return new this(a).mod(s)}function mul(a,s){return new this(a).mul(s)}function pow$1(a,s){return new this(a).pow(s)}function random(a){var s,et,tt,at,ct=0,ut=new this(1),bt=[];if(a===void 0?a=this.precision:checkInt32(a,1,MAX_DIGITS),tt=Math.ceil(a/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(s=crypto.getRandomValues(new Uint32Array(tt));ct<tt;)at=s[ct],at>=429e7?s[ct]=crypto.getRandomValues(new Uint32Array(1))[0]:bt[ct++]=at%1e7;else if(crypto.randomBytes){for(s=crypto.randomBytes(tt*=4);ct<tt;)at=s[ct]+(s[ct+1]<<8)+(s[ct+2]<<16)+((s[ct+3]&127)<<24),at>=214e7?crypto.randomBytes(4).copy(s,ct):(bt.push(at%1e7),ct+=4);ct=tt/4}else throw Error(cryptoUnavailable);else for(;ct<tt;)bt[ct++]=Math.random()*1e7|0;for(tt=bt[--ct],a%=LOG_BASE,tt&&a&&(at=mathpow(10,LOG_BASE-a),bt[ct]=(tt/at|0)*at);bt[ct]===0;ct--)bt.pop();if(ct<0)et=0,bt=[0];else{for(et=-1;bt[0]===0;et-=LOG_BASE)bt.shift();for(tt=1,at=bt[0];at>=10;at/=10)tt++;tt<LOG_BASE&&(et-=LOG_BASE-tt)}return ut.e=et,ut.d=bt,ut}function round$1(a){return finalise(a=new this(a),a.e+1,this.rounding)}function sign$2(a){return a=new this(a),a.d?a.d[0]?a.s:0*a.s:a.s||NaN}function sin(a){return new this(a).sin()}function sinh(a){return new this(a).sinh()}function sqrt(a){return new this(a).sqrt()}function sub(a,s){return new this(a).sub(s)}function sum(){var a=0,s=arguments,et=new this(s[a]);for(external=!1;et.s&&++a<s.length;)et=et.plus(s[a]);return external=!0,finalise(et,this.precision,this.rounding)}function tan(a){return new this(a).tan()}function tanh(a){return new this(a).tanh()}function trunc(a){return finalise(a=new this(a),a.e+1,1)}P$2[Symbol.for("nodejs.util.inspect.custom")]=P$2.toString;P$2[Symbol.toStringTag]="Decimal";var Decimal=P$2.constructor=clone$1(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);var decimal_default=Decimal,import_bn5=__toESM(require_bn()),import_bn=__toESM(require_bn()),Aftermath=class{constructor(a){if(a!==0)throw new Error("Aftermath only supported on mainnet");this.slippage="900000000000000000",this.poolRegistry="0xfcc774493db2c45c79f688f88d28023a3e7d98e4ee9f48bbf5c7990f651577ae",this.protocolFeeVault="0xf194d9b1bcad972e45a7dd67dd49b3ee1e3357a00a50850c52cd51bb450e13b4",this.treasury="0x28e499dff5e864a2eafe476269a4f5035f1c16f338da7be18b103499abf271ce",this.insuranceFund="0xf0c40d67b078000e18032334c3325c47b9ec9f3d9ae4128be820d54663d14e3b",this.referrealVault="0x35d35b0e5b177593d8c3a801462485572fc30861e6ce96a55af6dc4730709278"}amountLimit(a){return new import_bn.default(a).mul(new import_bn.default(this.slippage)).div(new import_bn.default("1000000000000000000")).toString()}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.aftermathLpSupplyType==null)throw new Error("LP supply type not supported");const jt=[s.object(et.id),s.object(this.poolRegistry),s.object(this.protocolFeeVault),s.object(this.treasury),s.object(this.insuranceFund),s.object(this.referrealVault),s.pure.u64(this.amountLimit(et.amountOut)),s.pure.u64(this.slippage),tt],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::aftermath::${wt}`,typeArguments:[Et,Ft,et.extendedDetails.aftermathLpSupplyType],arguments:jt})})}},DEEPBOOK_PACKAGE_ID="0x000000000000000000000000000000000000000000000000000000000000dee9",DeepbookV2=class{constructor(a){if(a!==0)throw new Error("Aftermath only supported on mainnet")}getAccountCap(a,s){return __async(this,null,function*(){let et=50,tt=null;for(;;){const at=a.getOwnedObjects({owner:s,cursor:tt,limit:et,filter:{MoveModule:{package:DEEPBOOK_PACKAGE_ID,module:"custodian_v2"}}});if(at!=null&&at.data!=null){if(at.data.length!==0)return at.data[0].data.objectId;if(at.data.length<50)break}else break}return null})}getOrCreateAccountCap(a,s,et){return __async(this,null,function*(){let tt=yield this.getAccountCap(s,et);return tt!==null?{accountCap:a.object(tt),isCreate:!1}:{accountCap:a.moveCall({target:`${DEEPBOOK_PACKAGE_ID}::clob_v2::create_account`,typeArguments:[],arguments:[]}),isCreate:!0}})}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=yield this.getOrCreateAccountCap(s,a.client,a.signer),Lt=[s.object(et.id),tt,jt.accountCap,s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at),Vt=s.moveCall({target:`${Ut}::deepbook::${wt}`,typeArguments:[Et,Ft],arguments:Lt});return jt.isCreate&&s.transferObjects([jt.accountCap],a.signer),Vt})}},KriyaV2=class{constructor(a){if(a!==0)throw new Error("Kriya amm only supported on mainnet")}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=[s.object(et.id),tt],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::kriya_amm::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}},KriyaV3=class{constructor(a){if(a!==0)throw new Error("Kriya clmm only supported on mainnet");this.version="0xf5145a7ac345ca8736cf8c76047d00d6d378f30e81be6f6eb557184d9de93c78"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=[s.object(et.id),tt,s.object(this.version),s.object(CLOCK_ADDRESS)],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::kriya_clmm::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}},FlowxV2=class{constructor(a){if(a!==0)throw new Error("Flowx only supported on mainnet");this.container="0xb65dcbf63fd3ad5d0ebfbf334780dc9f785eff38a4459e37ab08fa79576ee511"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=[s.object(this.container),tt],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::flowx_amm::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}},FlowxV3=class{constructor(a){if(a!==0)throw new Error("Flowx clmm only supported on mainnet");this.versioned="0x67624a1533b5aff5d0dfcf5e598684350efd38134d2d245f475524c03a64e656",this.poolRegistry="0x27565d24a4cd51127ac90e4074a841bbe356cca7bf5759ddc14a975be1632abc"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=[s.object(this.poolRegistry),s.pure.u64(et.feeRate*1e6),tt,s.object(this.versioned),s.object(CLOCK_ADDRESS)],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::flowx_clmm::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}},Turbos=class{constructor(a){if(a!==0)throw new Error("Turbos only supported on mainnet");this.versioned="0xf1cf0e81048df168ebeb1b8030fad24b3e0b53ae827c25053fff0779c1445b6f"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.turbosFeeType==null)throw new Error("Turbos fee type not supported");const jt=[s.object(et.id),tt,s.object(CLOCK_ADDRESS),s.object(this.versioned)],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::turbos::${wt}`,typeArguments:[Et,Ft,et.extendedDetails.turbosFeeType],arguments:jt})})}},Cetus=class{constructor(a,s){this.globalConfig=a===0?"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f":"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",this.partner=s??(a===0?"0x639b5e433da31739e800cd085f356e64cae222966d0f1b11bd9dc76b322ff58b":"0x1f5fa5c820f40d43fc47815ad06d95e40a1942ff72a732a92e8ef4aa8cde70a5")}flash_swap(a,s,et,tt,at){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["flash_swap_a2b",ut,bt]:["flash_swap_b2a",bt,ut];let jt=tt?et.amountIn:et.amountOut;const Lt=[s.object(this.globalConfig),s.object(et.id),s.object(this.partner),s.pure.u64(jt),s.pure.bool(tt),s.object(CLOCK_ADDRESS)],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),at),Vt=s.moveCall({target:`${Ut}::cetus::${wt}`,typeArguments:[Et,Ft],arguments:Lt});return{targetCoin:Vt[0],flashReceipt:Vt[1],payAmount:Vt[2]}}repay_flash_swap(a,s,et,tt,at,ct){const{direction:ut,from:bt,target:wt}=et,[Et,Ft,jt]=ut?["repay_flash_swap_a2b",bt,wt]:["repay_flash_swap_b2a",wt,bt],Lt=[s.object(this.globalConfig),s.object(et.id),s.object(this.partner),tt,at],Ut=getAggregatorV2PublishedAt(a.publishedAtV2(),ct);return s.moveCall({target:`${Ut}::cetus::${Et}`,typeArguments:[Ft,jt],arguments:Lt})[0]}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=[s.object(this.globalConfig),s.object(et.id),s.object(this.partner),tt,s.object(CLOCK_ADDRESS)],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::cetus::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}};function composeType(a,...s){const et=Array.isArray(s[s.length-1])?s.pop():[];let at=[a,...s].filter(Boolean).join("::");return et&&et.length&&(at+=`<${et.join(", ")}>`),at}function extractStructTagFromType(a){var s;try{let et=a.replace(/\s/g,"");const tt=et.match(/(<.+>)$/),at=(s=tt==null?void 0:tt[0])==null?void 0:s.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){et=et.slice(0,et.indexOf("<"));const wt=extractStructTagFromType(et),Et=__spreadProps$1(__spreadValues$2({},wt),{type_arguments:at.map(Ft=>extractStructTagFromType(Ft).source_address)});return Et.type_arguments=Et.type_arguments.map(Ft=>CoinUtils.isSuiCoin(Ft)?Ft:extractStructTagFromType(Ft).source_address),Et.source_address=composeType(Et.full_address,Et.type_arguments),Et}const ct=et.split("::"),bt={full_address:et,address:et===GAS_TYPE_ARG||et===GAS_TYPE_ARG_LONG?"0x2":normalizeSuiObjectId$1(ct[0]),module:ct[1],name:ct[2],type_arguments:[],source_address:""};return bt.full_address=`${bt.address}::${bt.module}::${bt.name}`,bt.source_address=composeType(bt.full_address,bt.type_arguments),bt}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function normalizeCoinType(a){return extractStructTagFromType(a).source_address}var COIN_TYPE="0x2::coin::Coin",COIN_TYPE_ARG_REGEX=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG="0x2::sui::SUI",GAS_TYPE_ARG_LONG="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinUtils=class Xs{static getCoinTypeArg(s){const et=s.type.match(COIN_TYPE_ARG_REGEX);return et?et[1]:null}static isSUI(s){const et=Xs.getCoinTypeArg(s);return et?Xs.getCoinSymbol(et)==="SUI":!1}static getCoinSymbol(s){return s.substring(s.lastIndexOf(":")+1)}static getBalance(s){return BigInt(s.fields.balance)}static totalBalance(s,et){let tt=BigInt(0);return s.forEach(at=>{et===at.coinAddress&&(tt+=BigInt(at.balance))}),tt}static getID(s){return s.fields.id.id}static getCoinTypeFromArg(s){return`${COIN_TYPE}<${s}>`}static getCoinAssets(s,et){const tt=[];return et.forEach(at=>{normalizeCoinType(at.coinAddress)===normalizeCoinType(s)&&tt.push(at)}),tt}static isSuiCoin(s){return extractStructTagFromType(s).full_address===GAS_TYPE_ARG}static selectCoinObjectIdGreaterThanOrEqual(s,et,tt=[]){const at=Xs.selectCoinAssetGreaterThanOrEqual(s,et,tt),ct=at.selectedCoins.map(wt=>wt.coinObjectId),ut=at.remainingCoins,bt=at.selectedCoins.map(wt=>wt.balance.toString());return{objectArray:ct,remainCoins:ut,amountArray:bt}}static selectCoinAssetGreaterThanOrEqual(s,et,tt=[]){const at=Xs.sortByBalance(s.filter(Et=>!tt.includes(Et.coinObjectId))),ct=Xs.calculateTotalBalance(at);if(ct<et)return{selectedCoins:[],remainingCoins:at};if(ct===et)return{selectedCoins:at,remainingCoins:[]};let ut=BigInt(0);const bt=[],wt=[...at];for(;ut<ct;){const Et=et-ut,Ft=wt.findIndex(Lt=>Lt.balance>=Et);if(Ft!==-1){bt.push(wt[Ft]),wt.splice(Ft,1);break}const jt=wt.pop();jt.balance>0&&(bt.push(jt),ut+=jt.balance)}return{selectedCoins:Xs.sortByBalance(bt),remainingCoins:Xs.sortByBalance(wt)}}static sortByBalance(s){return s.sort((et,tt)=>et.balance<tt.balance?-1:et.balance>tt.balance?1:0)}static sortByBalanceDes(s){return s.sort((et,tt)=>et.balance>tt.balance?-1:et.balance<tt.balance?0:1)}static calculateTotalBalance(s){return s.reduce((et,tt)=>et+tt.balance,BigInt(0))}};function getAggregatorServerErrorMessage(a){switch(a){case 1e4:return"Calculate error";case 10001:return"Input number too large can not fit in target type";case 10002:return"No router";case 10003:return"Insufficient Liquidity";case 10004:return"Target token is detected as a HoneyPot scam";case 10005:return"Too many requests. Please try again later";default:return"Unknown error"}}function completionCoin(a){const s=a.indexOf("::");if(s===-1)return a;const et=a.substring(0,s),tt=a.substring(s);if(!et.startsWith("0x"))return a;const at=et.substring(2);return at.length>64?a:`0x${at.padStart(64,"0")}${tt}`}function compareCoins(a,s){a=completionCoin(a),s=completionCoin(s);const et=Math.min(a.length,s.length);for(let tt=0;tt<et;tt++){if(a[tt]>s[tt])return!0;if(a[tt]<s[tt])return!1}return!0}function mintZeroCoin(a,s){return a.moveCall({target:"0x2::coin::zero",typeArguments:[s]})}function buildInputCoin(a,s,et,tt){const at=CoinUtils.getCoinAssets(tt,s);if(et===BigInt(0))return CoinUtils.isSuiCoin(tt)||at.length===0&&!CoinUtils.isSuiCoin(tt)?{targetCoin:mintZeroCoin(a,tt),isMintZeroCoin:!0,targetCoinAmount:0}:{targetCoin:a.object(at[0].coinObjectId),isMintZeroCoin:!1,targetCoinAmount:Number(at[0].balance.toString())};if(CoinUtils.calculateTotalBalance(at)<et)throw new AggregateError("Insufficient balance when build merge coin, coinType: "+tt,"InsufficientBalance"+tt);if(CoinUtils.isSuiCoin(tt))return{targetCoin:a.splitCoins(a.gas,[a.pure.u64(et.toString())]),isMintZeroCoin:!0,targetCoinAmount:Number(et.toString())};let ut=CoinUtils.sortByBalance(at);ut.slice(0,3).reduce((Lt,Ut)=>Lt+Ut.balance,BigInt(0))<BigInt(et)&&(ut=CoinUtils.sortByBalanceDes(at));let wt=CoinUtils.selectCoinObjectIdGreaterThanOrEqual(ut,et);const[Et,...Ft]=wt.objectArray;return Ft.length>0&&a.mergeCoins(Et,Ft.map(Lt=>a.object(Lt))),{targetCoin:a.splitCoins(a.object(Et),[a.pure.u64(et.toString())]),isMintZeroCoin:!1,targetCoinAmount:Number(et.toString())}}function checkInvalidSuiAddress(a){return!(!a.startsWith("0x")||a.length!==66)}var import_bn4=__toESM(require_bn()),import_bn3=__toESM(require_bn()),import_bn2=__toESM(require_bn()),ZERO=new import_bn2.default(0);new import_bn2.default(1);var TWO=new import_bn2.default(2);TWO.pow(new import_bn2.default(128));var U64_MAX_BN=new import_bn2.default("18446744073709551615"),TEN_POW_NINE=1e9;function CalculateAmountLimit(a,s,et){let tt=ZERO;return s?tt=a.mul(new import_bn3.default(TEN_POW_NINE-et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):tt=a.mul(new import_bn3.default(TEN_POW_NINE+et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),Number(tt.toString())}function CalculateAmountLimitBN(a,s,et){let tt=ZERO;return s?tt=a.mul(new import_bn3.default(TEN_POW_NINE-et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):tt=a.mul(new import_bn3.default(TEN_POW_NINE+et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),tt}function sqrtPriceX64ToPrice(a,s,et){return new decimal_default(a).mul(decimal_default.pow(2,-64)).pow(2).mul(decimal_default.pow(10,s-et))}function swapInPools(a,s,et,tt){return __async(this,null,function*(){var at,ct,ut,bt,wt;const{from:Et,target:Ft,amount:jt,byAmountIn:Lt,pools:Ut}=s,Vt=completionCoin(Et),Yt=completionCoin(Ft),er=new Transaction,tr=compareCoins(Vt,Yt),nr=tt===0?"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4":"0x4f920e1ef6318cfba77e20a0538a419a5a504c14230169438b99aba485db40a6",ir=tr?Vt:Yt,lr=tr?Yt:Vt,pr=[ir,lr];for(let _r=0;_r<Ut.length;_r++){const hr=[er.object(Ut[_r]),er.pure.bool(tr),er.pure.bool(Lt),er.pure.u64(jt.toString())];er.moveCall({target:`${nr}::fetcher_script::calculate_swap_result`,arguments:hr,typeArguments:pr})}if(!checkInvalidSuiAddress(et))throw new AggregateError("Aggregator package not set","InvalidWallet");const yr=yield a.devInspectTransactionBlock({transactionBlock:er,sender:et});if(yr.error!=null)throw console.log("simulateRes.error",yr.error),new AggregateError("Aggregator package not set","SimulateError");const br=(at=yr.events)==null?void 0:at.filter(_r=>_r.type.includes("CalculatedSwapResultEvent"));if(br.length===0||br.length!==Ut.length)throw new AggregateError("Simulate event result error","simulateEventError");let xr=Lt?ZERO:U64_MAX_BN,Er=0;for(let _r=0;_r<br.length;_r+=1)if(!br[_r].parsedJson.data.is_exceed)if(s.byAmountIn){const hr=new import_bn4.BN(br[_r].parsedJson.data.amount_out);hr.gt(xr)&&(Er=_r,xr=hr)}else{const hr=new import_bn4.BN(br[_r].parsedJson.data.amount_out);hr.lt(xr)&&(Er=_r,xr=hr)}const $r=br[Er].parsedJson.data,Sr=$r.step_results[0].current_sqrt_price,[fr,vr]=yield Promise.all([a.getCoinMetadata({coinType:ir}).then(_r=>_r==null?void 0:_r.decimals),a.getCoinMetadata({coinType:lr}).then(_r=>_r==null?void 0:_r.decimals)]);if(fr==null||vr==null)throw new AggregateError("Simulate event result error","CannotGetDecimals");const or=sqrtPriceX64ToPrice(Sr,fr,vr),rr=Number($r.fee_rate)/1e6,ar=new import_bn4.BN((ct=$r.amount_in)!=null?ct:0),sr=new import_bn4.BN((ut=$r.fee_amount)!=null?ut:0),dr=ar.add(sr),gr={amountIn:dr,amountOut:new import_bn4.BN((bt=$r.amount_out)!=null?bt:0),routes:[{path:[{id:Ut[Er],direction:tr,provider:"CETUS",from:Vt,target:Yt,feeRate:rr,amountIn:$r.amount_in,amountOut:$r.amount_out,extendedDetails:{afterSqrtPrice:$r.after_sqrt_price}}],amountIn:dr,amountOut:new import_bn4.BN((wt=$r.amount_out)!=null?wt:0),initialPrice:or}],insufficientLiquidity:!1,byAmountIn:s.byAmountIn};return{isExceed:$r.is_exceed,routeData:gr}})}var Haedal=class{constructor(a){if(a!==0)throw new Error("Haedal only supported on mainnet")}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct}=et,ut=ct?"swap_a2b":"swap_b2a",bt=[s.object(et.id),s.object("0x5"),tt],wt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${wt}::haedal::${ut}`,typeArguments:[],arguments:bt})})}},Afsui=class{constructor(a){if(a!==0)throw new Error("Afsui only supported on mainnet");this.stakedSuiVault="0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",this.safe="0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",this.referVault="0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",this.validator="0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct}=et;if(!ct)throw new Error("Afsui not support b2a swap");const ut="swap_a2b",bt=[s.object(this.stakedSuiVault),s.object(this.safe),s.object("0x5"),s.object(this.referVault),s.object(this.validator),tt],wt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${wt}::afsui::${ut}`,typeArguments:[],arguments:bt})})}},Volo=class{constructor(a){if(a!==0)throw new Error("Volo only supported on mainnet");this.nativePool="0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",this.metadata="0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct}=et;if(!ct)throw new Error("Volo not support b2a swap");const ut="swap_a2b",bt=[s.object(this.nativePool),s.object(this.metadata),s.object("0x5"),tt],wt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${wt}::volo::${ut}`,typeArguments:[],arguments:bt})})}},Bluemove=class{constructor(a){if(a!==0)throw new Error("Bluemove only supported on mainnet");this.dexInfo="0x3f2d9f724f4a1ce5e71676448dc452be9a6243dac9c5b975a588c8c867066e92"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=[s.object(this.dexInfo),tt],Lt=getAggregatorV2PublishedAt(a.publishedAtV2(),at);return s.moveCall({target:`${Lt}::bluemove::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}},DeepbookV3=class{constructor(a){this.deepbookV3Config=a===0?"0xe4099d0cda04f3aa80028fac91a9b3dbe50d08f2ff42aa2c29473926e34ca48c":"0xe19b5d072346cae83a037d4e3c8492068a74410a74e5830b3a68012db38296aa"}swap(a,s,et,tt,at,ct){return __async(this,null,function*(){const{direction:ut,from:bt,target:wt}=et,[Et,Ft,jt]=ut?["swap_a2b",bt,wt]:["swap_b2a",wt,bt];let Lt;ct?Lt=ct:Lt=mintZeroCoin(s,a.deepbookv3DeepFeeType());const Ut=[s.object(this.deepbookV3Config),s.object(et.id),tt,Lt,s.object(CLOCK_ADDRESS)],Vt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${Vt}::deepbookv3::${Et}`,typeArguments:[Ft,jt],arguments:Ut})})}},Scallop=class{constructor(a){if(a!==0)throw new Error("Scallop only supported on mainnet");this.version=a===0?"0x07871c4b3c847a0f674510d4978d5cf6f960452795e8ff6f189fd2088a3f6ac7":"0x0",this.market=a===0?"0xa757975255146dc9686aa823b7838b507f315d704f428cbadad2f4ea061939d9":"0x0"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",ut,bt];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.scallopScoinTreasury==null)throw new Error("Scallop coin treasury not supported");const jt=[s.object(this.version),s.object(this.market),s.object(et.extendedDetails.scallopScoinTreasury),tt,s.object(CLOCK_ADDRESS)],Lt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${Lt}::scallop::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}},Suilend=class{constructor(a){if(a!==0)throw new Error("Suilend only supported on mainnet");this.sui_system_state=a===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et]=ct?["swap_a2b",bt]:["swap_b2a",ut],Ft=[s.object(et.id),s.object(this.sui_system_state),tt],jt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${jt}::suilend::${wt}`,typeArguments:[Et],arguments:Ft})})}},Bluefin=class{constructor(a){if(a!==0)throw new Error("Bluefin only supported on mainnet");this.globalConfig="0x03db251ba509a8d5d8777b6338836082335d93eecbdd09a11e190a1cff51c352"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut],jt=[s.object(this.globalConfig),s.object(et.id),tt,s.object(CLOCK_ADDRESS)],Lt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${Lt}::bluefin::${wt}`,typeArguments:[Et,Ft],arguments:jt})})}},HaedalPmm=class{constructor(a,s){if(a===1)throw new Error("HaedalPmm is not supported on testnet");this.pythPriceIDs=s}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut];let jt,Lt;if(et.extendedDetails==null)throw new Error("Extended details not supported haedal pmm");if(!et.extendedDetails.haedalPmmBasePriceSeed||!et.extendedDetails.haedalPmmQuotePriceSeed)throw new Error("Base price seed or quote price seed not supported");jt=et.extendedDetails.haedalPmmBasePriceSeed,Lt=et.extendedDetails.haedalPmmQuotePriceSeed;const Ut=this.pythPriceIDs.get(jt),Vt=this.pythPriceIDs.get(Lt);if(!Ut||!Vt)throw new Error("Base price info object id or quote price info object id not found");const Yt=[s.object(et.id),s.object(Ut),s.object(Vt),tt,s.object(CLOCK_ADDRESS)],er=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${er}::haedalpmm::${wt}`,typeArguments:[Et,Ft],arguments:Yt})})}},Alphafi=class{constructor(a){if(a!==0)throw new Error("Alphafi only supported on mainnet");this.sui_system_state=a===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et]=ct?["swap_a2b",bt]:["swap_b2a",ut],Ft=[s.object(et.id),s.object(this.sui_system_state),tt],jt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${jt}::alphafi::${wt}`,typeArguments:[Et],arguments:Ft})})}},Steamm=class{constructor(a){if(a!==0)throw new Error("Steamm only supported on mainnet")}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.steammBankA==null)throw new Error("Steamm bank a type not supported");if(et.extendedDetails.steammBankB==null)throw new Error("Steamm bank b type not supported");if(et.extendedDetails.steammLendingMarket==null)throw new Error("Steamm lending market not supported");if(et.extendedDetails.steammLendingMarketType==null)throw new Error("Steamm lending market type not supported");if(et.extendedDetails.steammBCoinAType==null)throw new Error("Steamm b coin a type not supported");if(et.extendedDetails.steammBCoinBType==null)throw new Error("Steamm b coin b type not supported");if(et.extendedDetails.steammLPToken==null)throw new Error("Steamm lp token not supported");const jt=[s.object(et.id),s.object(et.extendedDetails.steammBankA),s.object(et.extendedDetails.steammBankB),s.object(et.extendedDetails.steammLendingMarket),tt,s.object(CLOCK_ADDRESS)],Lt=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${Lt}::steammfe::${wt}`,typeArguments:[et.extendedDetails.steammLendingMarketType,Et,Ft,et.extendedDetails.steammBCoinAType,et.extendedDetails.steammBCoinBType,et.extendedDetails.steammLPToken],arguments:jt})})}},SUPER_SUI_TYPE="0x790f258062909e3a0ffc78b3c53ac2f62d7084c3bab95644bdeb05add7250001::super_sui::SUPER_SUI",MUSD_TYPE="0xe44df51c0b21a27ab915fa1fe2ca610cd3eaa6d9666fe5e62b988bf7f0bd8722::musd::MUSD",METH_TYPE="0xccd628c2334c5ed33e6c47d6c21bb664f8b6307b2ac32c2462a61f69a31ebcee::meth::METH",Metastable=class{constructor(a,s){if(a!==0)throw new Error("Metastable only supported on mainnet");this.versionID="0x4696559327b35ff2ab26904e7426a1646312e9c836d5c6cff6709a5ccc30915c",this.pythPriceIDs=s}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft,jt]=ct?["swap_a2b","create_deposit_cap",ut,bt]:["swap_b2a","create_withdraw_cap",bt,ut];let Lt="",Ut="pyth",Vt="";if(et.extendedDetails==null)throw new Error("Extended details not supported metastable");if(!et.extendedDetails.metastableCreateCapPkgId||!et.extendedDetails.metastableCreateCapModule||!et.extendedDetails.metastableRegistryId||!et.extendedDetails.metastableWhitelistedAppId)throw new Error("CreateCapPkgId or CreateCapModule or RegistryId or WhitelistedAppId or CreateCapAllTypeParams not supported");Lt=et.extendedDetails.metastableCreateCapPkgId,Ut=et.extendedDetails.metastableCreateCapModule,Vt=et.extendedDetails.metastableWhitelistedAppId;const Yt=[jt];et.extendedDetails.metastableCreateCapAllTypeParams&&Yt.push(Ft);const er=[s.object(Vt),s.object(et.id)];switch(jt){case SUPER_SUI_TYPE:{if(!et.extendedDetails.metastableRegistryId)throw new Error("Not found registry id for super sui");er.push(s.object(et.extendedDetails.metastableRegistryId));break}case MUSD_TYPE:{if(et.extendedDetails.metastablePriceSeed!=null){const pr=this.pythPriceIDs.get(et.extendedDetails.metastablePriceSeed);if(pr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastablePriceSeed);er.push(s.object(pr))}if(et.extendedDetails.metastableETHPriceSeed!=null){const pr=this.pythPriceIDs.get(et.extendedDetails.metastableETHPriceSeed);if(pr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastableETHPriceSeed);er.push(s.object(pr))}er.push(s.object(CLOCK_ADDRESS));break}case METH_TYPE:{if(et.extendedDetails.metastablePriceSeed!=null){const pr=this.pythPriceIDs.get(et.extendedDetails.metastablePriceSeed);if(pr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastablePriceSeed);er.push(s.object(pr))}if(et.extendedDetails.metastableETHPriceSeed!=null){const pr=this.pythPriceIDs.get(et.extendedDetails.metastableETHPriceSeed);if(pr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastableETHPriceSeed);er.push(s.object(pr))}er.push(s.object(CLOCK_ADDRESS));break}default:throw new Error("Invalid Metacoin: "+jt)}const tr=s.moveCall({target:`${Lt}::${Ut}::${Et}`,typeArguments:Yt,arguments:er}),nr=[s.object(et.id),s.object(this.versionID),tr,tt],ir=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${ir}::metastable::${wt}`,typeArguments:[Ft,jt],arguments:nr})})}},Obric=class{constructor(a,s){if(a===1)throw new Error("Obric is not supported on testnet");this.pythPriceIDs=s,this.pythStateObjectId="0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}swap(a,s,et,tt,at){return __async(this,null,function*(){const{direction:ct,from:ut,target:bt}=et,[wt,Et,Ft]=ct?["swap_a2b",ut,bt]:["swap_b2a",bt,ut];let jt,Lt,Ut,Vt;if(et.extendedDetails==null)throw new Error("Extended details not supported in obric");if(et.extendedDetails.obricCoinAPriceSeed&&et.extendedDetails.obricCoinBPriceSeed)jt=et.extendedDetails.obricCoinAPriceSeed,Ut=this.pythPriceIDs.get(jt),Lt=et.extendedDetails.obricCoinBPriceSeed,Vt=this.pythPriceIDs.get(Lt);else{if(!et.extendedDetails.obricCoinAPriceId||!et.extendedDetails.obricCoinBPriceId)throw new Error("Base price id or quote price id not supported");Ut=et.extendedDetails.obricCoinAPriceId,Vt=et.extendedDetails.obricCoinBPriceId}if(!Ut||!Vt)throw new Error("Base price info object id or quote price info object id not found");const Yt=[s.object(et.id),tt,s.object(this.pythStateObjectId),s.object(Ut),s.object(Vt),s.object(CLOCK_ADDRESS)],er=getAggregatorV2ExtendPublishedAt(a.publishedAtV2Extend(),at);return s.moveCall({target:`${er}::obric::${wt}`,typeArguments:[Et,Ft],arguments:Yt})})}},CETUS="CETUS",DEEPBOOKV2="DEEPBOOK",KRIYA="KRIYA",FLOWXV2="FLOWX",FLOWXV3="FLOWXV3",KRIYAV3="KRIYAV3",TURBOS="TURBOS",AFTERMATH="AFTERMATH",HAEDAL="HAEDAL",VOLO="VOLO",AFSUI="AFSUI",BLUEMOVE="BLUEMOVE",DEEPBOOKV3="DEEPBOOKV3",SCALLOP="SCALLOP",SUILEND="SUILEND",BLUEFIN="BLUEFIN",HAEDALPMM="HAEDALPMM",ALPHAFI="ALPHAFI",SPRINGSUI="SPRINGSUI",STEAMM="STEAMM",METASTABLE="METASTABLE",OBRIC="OBRIC",DEFAULT_ENDPOINT="https://api-sui.cetus.zone/router_v2";function isBuilderRouterSwapParams(a){return Array.isArray(a.routers)}function isBuilderFastRouterSwapParams(a){return Array.isArray(a.routers)}var _AggregatorClient=class Pp{constructor(s){var et;this.endpoint=s.endpoint?processEndpoint(s.endpoint):DEFAULT_ENDPOINT,this.client=s.client||new SuiClient({url:getFullnodeUrl("mainnet")}),this.signer=s.signer||"",this.env=s.env||0,this.allCoins=new Map;const tt=Pp.CONFIG[this.env];this.pythConnections=this.newPythClients((et=s.pythUrls)!=null?et:[]),this.pythClient=new lib$3.SuiPythClient(this.client,tt.pythStateId,tt.wormholeStateId),this.apiKey=s.apiKey||""}newPythClients(s){return s.includes("https://hermes.pyth.network")||s.push("https://hermes.pyth.network"),s.map(tt=>new lib$3.SuiPriceServiceConnection(tt,{timeout:3e3}))}getCoins(s,et=!0){return __async(this,null,function*(){if(this.signer==="")throw new Error("Signer is required, but not provided.");let tt=null,at=50;if(!et){const ut=this.allCoins.get(s);if(ut)return ut}const ct=[];for(;;)try{const ut=yield this.client.getCoins({owner:this.signer,coinType:s,cursor:tt,limit:at});for(const bt of ut.data)ct.push({coinAddress:extractStructTagFromType(bt.coinType).source_address,coinObjectId:bt.coinObjectId,balance:BigInt(bt.balance)});if(!ut.hasNextPage)break;tt=ut.nextCursor}catch(ut){console.error("getCoins error:",ut);break}return this.allCoins.set(s,ct),ct})}findRouters(s){return __async(this,null,function*(){return getRouterResult(this.endpoint,this.apiKey,s)})}executeFlexibleInputSwap(s,et,tt,at,ct,ut,bt,wt){return __async(this,null,function*(){if(tt.length===0)throw new Error("No router found");const Et=tt[0].path[tt[0].path.length-1].target,Ft=[];for(let Vt=0;Vt<tt.length-1;Vt++){if(tt[Vt].path.length===0)throw new Error("Empty path");let er=s.splitCoins(et,[tt[Vt].amountIn.toString()])[0];for(const tr of tt[Vt].path)er=yield this.newDex(tr.provider,ct,ut).swap(this,s,tr,er,wt,bt);Ft.push(er)}if(tt[tt.length-1].path.length===0)throw new Error("Empty path");let jt=et;for(const Vt of tt[tt.length-1].path)jt=yield this.newDex(Vt.provider,ct,ut).swap(this,s,Vt,jt,wt,bt);Ft.push(jt);const Lt=getAggregatorV2PublishedAt(this.publishedAtV2(),wt);return this.checkCoinThresholdAndMergeCoin(s,Ft,Et,at,Lt)})}expectInputSwap(s,et,tt,at,ct,ut,bt,wt){return __async(this,null,function*(){if(tt.length===0)throw new Error("No router found");const Et=tt.map(er=>er.amountIn.toString()),Ft=tt[0].path[0].from,jt=tt[0].path[tt[0].path.length-1].target,Lt=s.splitCoins(et,Et),Ut=[];for(let er=0;er<tt.length;er++){if(tt[er].path.length===0)throw new Error("Empty path");let tr=Lt[er];for(const nr of tt[er].path)tr=yield this.newDex(nr.provider,ct,ut).swap(this,s,nr,tr,wt,bt);Ut.push(tr)}const Vt=getAggregatorV2PublishedAt(this.publishedAtV2(),wt);return this.transferOrDestoryCoin(s,et,Ft,this.publishedAtV2()),this.checkCoinThresholdAndMergeCoin(s,Ut,jt,at,Vt)})}expectOutputSwap(s,et,tt,at,ct){return __async(this,null,function*(){const ut=[],bt=[],wt=[],Et=new Cetus(this.env,at),Ft=getAggregatorV2PublishedAt(this.publishedAtV2(),ct);for(let Lt=0;Lt<tt.length;Lt++){const Ut=tt[Lt];for(let Yt=Ut.path.length-1;Yt>=0;Yt--){const er=Ut.path[Yt],tr=Et.flash_swap(this,s,er,!1);ut.unshift(tr.targetCoin),bt.unshift(tr.flashReceipt)}let Vt=et;for(let Yt=0;Yt<Ut.path.length;Yt++){const er=Ut.path[Yt],tr=Et.repay_flash_swap(this,s,er,Vt,bt[Yt]);Vt=ut[Yt],Yt===0?et=tr:this.transferOrDestoryCoin(s,tr,er.from,Ft),Yt===Ut.path.length-1&&wt.push(Vt)}}const jt=tt[0].path[0].from;if(this.transferOrDestoryCoin(s,et,jt,Ft),wt.length>1){const Lt=s.makeMoveVec({elements:wt.slice(1)});s.moveCall({target:`${SUI_FRAMEWORK_ADDRESS$1}::pay::join_vec`,typeArguments:[tt[0].path[tt[0].path.length-1].target],arguments:[wt[0],Lt]})}return wt[0]})}swapInPools(s){return __async(this,null,function*(){let et;try{et=yield swapInPools(this.client,s,this.signer,this.env)}catch(tt){return console.error("swapInPools error:",tt),null}return et})}routerSwap(s){return __async(this,null,function*(){const{routers:et,inputCoin:tt,slippage:at,txb:ct,partner:ut,deepbookv3DeepFee:bt}=s,wt=Array.isArray(et)?et:et.routes,Et=isBuilderRouterSwapParams(s)?s.byAmountIn:s.routers.byAmountIn,Ft=wt.reduce((ir,lr)=>ir.add(lr.amountIn),new import_bn5.default(0)),jt=wt.reduce((ir,lr)=>ir.add(lr.amountOut),new import_bn5.default(0)),Lt=CalculateAmountLimitBN(Et?jt:Ft,Et,at),Ut=isBuilderRouterSwapParams(s)?void 0:s.routers.packages,Vt=getAggregatorV2PublishedAt(this.publishedAtV2(),Ut),Yt=findPythPriceIDs(wt),er=Yt.length>0?yield this.updatePythPriceIDs(Yt,ct):new Map;if(Et)return yield this.expectInputSwap(ct,tt,wt,Lt,er,ut,bt,Ut);const tr=ct.splitCoins(tt,[Lt.toString()]);return this.transferOrDestoryCoin(ct,tt,wt[0].path[0].from,Vt),yield this.expectOutputSwap(ct,tr[0],wt,ut)})}fixableRouterSwap(s){return __async(this,null,function*(){const{routers:et,inputCoin:tt,slippage:at,txb:ct,partner:ut,deepbookv3DeepFee:bt}=s,wt=Array.isArray(et)?et:et.routes,Et=s.routers.byAmountIn,Ft=wt.reduce((tr,nr)=>tr.add(nr.amountIn),new import_bn5.default(0)),jt=wt.reduce((tr,nr)=>tr.add(nr.amountOut),new import_bn5.default(0)),Lt=CalculateAmountLimitBN(Et?jt:Ft,Et,at),Ut=isBuilderRouterSwapParams(s)?void 0:s.routers.packages;getAggregatorV2PublishedAt(this.publishedAtV2(),Ut);const Vt=findPythPriceIDs(wt),Yt=Vt.length>0?yield this.updatePythPriceIDs(Vt,ct):new Map;return Et?yield this.executeFlexibleInputSwap(ct,tt,wt,Lt,Yt,ut,bt,Ut):yield this.expectOutputSwap(ct,tt,wt,ut)})}fastRouterSwap(s){return __async(this,null,function*(){const{routers:et,slippage:tt,txb:at,partner:ct,refreshAllCoins:ut,payDeepFeeAmount:bt}=s,wt=Array.isArray(et)?et:et.routes,Et=wt[0].path[0].from;let Ft=yield this.getCoins(Et,ut);const jt=wt[0].path[wt[0].path.length-1].target,Lt=wt.reduce((pr,yr)=>pr.add(yr.amountIn),new import_bn5.default(0)),Ut=wt.reduce((pr,yr)=>pr.add(yr.amountOut),new import_bn5.default(0)),Vt=isBuilderFastRouterSwapParams(s)?s.byAmountIn:s.routers.byAmountIn,Yt=CalculateAmountLimit(Vt?Ut:Lt,Vt,tt),tr=buildInputCoin(at,Ft,BigInt((Vt?Lt:Yt).toString()),Et);let nr;if(bt&&bt>0){let pr=yield this.getCoins(this.deepbookv3DeepFeeType());nr=buildInputCoin(at,pr,BigInt(bt),this.deepbookv3DeepFeeType()).targetCoin}const ir=isBuilderFastRouterSwapParams(s)?{routers:wt,inputCoin:tr.targetCoin,slippage:tt,byAmountIn:Vt,txb:at,partner:ct,deepbookv3DeepFee:nr}:{routers:s.routers,inputCoin:tr.targetCoin,slippage:tt,byAmountIn:Vt,txb:at,partner:ct,deepbookv3DeepFee:nr},lr=yield this.routerSwap(ir);if(CoinUtils.isSuiCoin(jt))at.mergeCoins(at.gas,[lr]);else{let pr=yield this.getCoins(jt,ut);const yr=buildInputCoin(at,pr,BigInt(0),jt),br=isBuilderFastRouterSwapParams(s)?void 0:s.routers.packages,xr=getAggregatorV2PublishedAt(this.publishedAtV2(),br);at.mergeCoins(yr.targetCoin,[lr]),yr.isMintZeroCoin&&this.transferOrDestoryCoin(at,yr.targetCoin,jt,xr)}})}publishedAtV2(){return this.env===0?"0x3864c7c59a4889fec05d1aae4bc9dba5a0e0940594b424fbed44cb3f6ac4c032":"0x52eae33adeb44de55cfb3f281d4cc9e02d976181c0952f5323648b5717b33934"}publishedAtV2Extend(){return this.env===0?"0x200e762fa2c49f3dc150813038fbf22fd4f894ac6f23ebe1085c62f2ef97f1ca":"0xabb6a81c8a216828e317719e06125de5bb2cb0fe8f9916ff8c023ca5be224c78"}deepbookv3DeepFeeType(){return this.env===0?"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":"0x36dbef866a1d62bf7328989a10fb2f07d769f4ee587c0de4a0a256e57e0a58a8::deep::DEEP"}transferOrDestoryCoin(s,et,tt,at){s.moveCall({target:`${at}::utils::transfer_or_destroy_coin`,typeArguments:[tt],arguments:[et]})}checkCoinThresholdAndMergeCoin(s,et,tt,at,ct){let ut=et[0];if(et.length>1){let bt=s.makeMoveVec({elements:et.slice(1)});s.moveCall({target:`${SUI_FRAMEWORK_ADDRESS$1}::pay::join_vec`,typeArguments:[tt],arguments:[et[0],bt]}),ut=et[0]}return s.moveCall({target:`${ct}::utils::check_coin_threshold`,typeArguments:[tt],arguments:[ut,s.pure.u64(at.toString())]}),ut}newDex(s,et,tt){switch(s){case CETUS:return new Cetus(this.env,tt);case DEEPBOOKV2:return new DeepbookV2(this.env);case DEEPBOOKV3:return new DeepbookV3(this.env);case KRIYA:return new KriyaV2(this.env);case KRIYAV3:return new KriyaV3(this.env);case FLOWXV2:return new FlowxV2(this.env);case FLOWXV3:return new FlowxV3(this.env);case TURBOS:return new Turbos(this.env);case AFTERMATH:return new Aftermath(this.env);case HAEDAL:return new Haedal(this.env);case AFSUI:return new Afsui(this.env);case VOLO:return new Volo(this.env);case BLUEMOVE:return new Bluemove(this.env);case SCALLOP:return new Scallop(this.env);case SUILEND:return new Suilend(this.env);case SPRINGSUI:return new Suilend(this.env);case BLUEFIN:return new Bluefin(this.env);case HAEDALPMM:return new HaedalPmm(this.env,et);case ALPHAFI:return new Alphafi(this.env);case STEAMM:return new Steamm(this.env);case METASTABLE:return new Metastable(this.env,et);case OBRIC:return new Obric(this.env,et);default:throw new Error(`Unsupported dex ${s}`)}}signAndExecuteTransaction(s,et){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:s,signer:et,options:{showEffects:!0,showEvents:!0,showInput:!0,showBalanceChanges:!0}})})}devInspectTransactionBlock(s){return __async(this,null,function*(){return yield this.client.devInspectTransactionBlock({transactionBlock:s,sender:this.signer})})}sendTransaction(s,et){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:s,signer:et})})}getDeepbookV3Config(){return __async(this,null,function*(){const s=yield getDeepbookV3Config(this.endpoint);return s?s.data:null})}updatePythPriceIDs(s,et){return __async(this,null,function*(){let tt=null,at=null;for(const bt of this.pythConnections)try{tt=yield bt.getPriceFeedsUpdateData(s);break}catch(wt){at=wt,console.log("Error: ",wt);continue}if(tt==null)throw new Error(`All Pyth price nodes are unavailable. Cannot fetch price data. Please switch to or add new available Pyth nodes. Detailed error: ${at==null?void 0:at.message}`);let ct=[];try{ct=yield this.pythClient.updatePriceFeeds(et,tt,s)}catch(bt){throw new Error(`All Pyth price nodes are unavailable. Cannot fetch price data. Please switch to or add new available Pyth nodes in the pythUrls parameter when initializing AggregatorClient, for example: new AggregatorClient({ pythUrls: ["https://your-pyth-node-url"] }). Detailed error: ${bt}`)}let ut=new Map;for(let bt=0;bt<s.length;bt++)ut.set(s[bt],ct[bt]);return ut})}};_AggregatorClient.CONFIG={1:{wormholeStateId:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",pythStateId:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c"},0:{wormholeStateId:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pythStateId:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}};var AggregatorClient22=_AggregatorClient;function findPythPriceIDs(a){const s=new Set;for(const et of a)for(const tt of et.path)tt.provider===HAEDALPMM&&tt.extendedDetails&&tt.extendedDetails.haedalPmmBasePriceSeed&&tt.extendedDetails.haedalPmmQuotePriceSeed&&(s.add(tt.extendedDetails.haedalPmmBasePriceSeed),s.add(tt.extendedDetails.haedalPmmQuotePriceSeed)),tt.provider===METASTABLE&&(tt.extendedDetails&&tt.extendedDetails.metastablePriceSeed&&s.add(tt.extendedDetails.metastablePriceSeed),tt.extendedDetails&&tt.extendedDetails.metastableETHPriceSeed&&s.add(tt.extendedDetails.metastableETHPriceSeed)),tt.provider===OBRIC&&(tt.extendedDetails&&tt.extendedDetails.obricCoinAPriceSeed&&s.add(tt.extendedDetails.obricCoinAPriceSeed),tt.extendedDetails&&tt.extendedDetails.obricCoinBPriceSeed&&s.add(tt.extendedDetails.obricCoinBPriceSeed));return Array.from(s)}function parseRouterResponse(a,s){let et=0;for(const ct of a.routes)for(const ut of ct.path)ut.extended_details&&ut.extended_details.deepbookv3_deep_fee&&(et+=Number(ut.extended_details.deepbookv3_deep_fee));let tt;if(a.packages!=null){tt=new Map;for(const[ct,ut]of Object.entries(a.packages))tt.set(ct,ut)}return{amountIn:new import_bn5.default(a.amount_in.toString()),amountOut:new import_bn5.default(a.amount_out.toString()),byAmountIn:s,insufficientLiquidity:!1,routes:a.routes.map(ct=>({path:ct.path.map(ut=>{var bt,wt,Et,Ft,jt,Lt,Ut,Vt,Yt,er,tr,nr,ir,lr,pr,yr,br,xr,Er,$r,Sr,fr,vr,or,rr;let ar;ut.provider===AFTERMATH&&(ar=ut.extended_details.aftermath_pool_flatness===0?"v2":"v3");let sr;return(ut.provider===TURBOS||ut.provider===AFTERMATH||ut.provider===CETUS||ut.provider===DEEPBOOKV3||ut.provider===SCALLOP||ut.provider===HAEDALPMM||ut.provider===STEAMM||ut.provider===METASTABLE||ut.provider===OBRIC)&&(sr={aftermathLpSupplyType:(bt=ut.extended_details)==null?void 0:bt.aftermath_lp_supply_type,turbosFeeType:(wt=ut.extended_details)==null?void 0:wt.turbos_fee_type,afterSqrtPrice:(Et=ut.extended_details)==null?void 0:Et.after_sqrt_price,deepbookv3DeepFee:(Ft=ut.extended_details)==null?void 0:Ft.deepbookv3_deep_fee,scallopScoinTreasury:(jt=ut.extended_details)==null?void 0:jt.scallop_scoin_treasury,haedalPmmBasePriceSeed:(Lt=ut.extended_details)==null?void 0:Lt.haedal_pmm_base_price_seed,haedalPmmQuotePriceSeed:(Ut=ut.extended_details)==null?void 0:Ut.haedal_pmm_quote_price_seed,steammBankA:(Vt=ut.extended_details)==null?void 0:Vt.steamm_bank_a,steammBankB:(Yt=ut.extended_details)==null?void 0:Yt.steamm_bank_b,steammLendingMarket:(er=ut.extended_details)==null?void 0:er.steamm_lending_market,steammLendingMarketType:(tr=ut.extended_details)==null?void 0:tr.steamm_lending_market_type,steammBCoinAType:(nr=ut.extended_details)==null?void 0:nr.steamm_btoken_a_type,steammBCoinBType:(ir=ut.extended_details)==null?void 0:ir.steamm_btoken_b_type,steammLPToken:(lr=ut.extended_details)==null?void 0:lr.steamm_lp_token_type,metastablePriceSeed:(pr=ut.extended_details)==null?void 0:pr.metastable_price_seed,metastableETHPriceSeed:(yr=ut.extended_details)==null?void 0:yr.metastable_eth_price_seed,metastableWhitelistedAppId:(br=ut.extended_details)==null?void 0:br.metastable_whitelisted_app_id,metastableCreateCapPkgId:(xr=ut.extended_details)==null?void 0:xr.metastable_create_cap_pkg_id,metastableCreateCapModule:(Er=ut.extended_details)==null?void 0:Er.metastable_create_cap_module,metastableCreateCapAllTypeParams:($r=ut.extended_details)==null?void 0:$r.metastable_create_cap_all_type_params,metastableRegistryId:(Sr=ut.extended_details)==null?void 0:Sr.metastable_registry_id,obricCoinAPriceSeed:(fr=ut.extended_details)==null?void 0:fr.obric_coin_a_price_seed,obricCoinBPriceSeed:(vr=ut.extended_details)==null?void 0:vr.obric_coin_b_price_seed,obricCoinAPriceId:(or=ut.extended_details)==null?void 0:or.obric_coin_a_price_id,obricCoinBPriceId:(rr=ut.extended_details)==null?void 0:rr.obric_coin_b_price_id}),{id:ut.id,direction:ut.direction,provider:ut.provider,from:ut.from,target:ut.target,feeRate:ut.fee_rate,amountIn:ut.amount_in,amountOut:ut.amount_out,extendedDetails:sr,version:ar}}),amountIn:new import_bn5.default(ct.amount_in.toString()),amountOut:new import_bn5.default(ct.amount_out.toString()),initialPrice:new decimal_default(ct.initial_price.toString())})),totalDeepFee:et,packages:tt}}var CLOCK_ADDRESS=SUI_CLOCK_OBJECT_ID$1,AGGREGATOR_V2="aggregator_v2",AGGREGATOR_V2_EXTEND="aggregator_v2_extend";function getAggregatorV2PublishedAt(a,s){var et;return s instanceof Map&&(et=s.get(AGGREGATOR_V2))!=null?et:a}function getAggregatorV2ExtendPublishedAt(a,s){var et;return s instanceof Map&&(et=s.get(AGGREGATOR_V2_EXTEND))!=null?et:a}__toESM(require_bn());var dealWithFastRouterSwapParamsForMsafe=a=>{var s,et,tt;return __spreadProps$1(__spreadValues$2({},a),{amountIn:(s=a==null?void 0:a.amountIn)==null?void 0:s.toString(),amountOut:(et=a==null?void 0:a.amountIn)==null?void 0:et.toString(),routes:(tt=a==null?void 0:a.routes)==null?void 0:tt.map(ct=>{var ut,bt,wt;return __spreadProps$1(__spreadValues$2({},ct),{amountIn:(ut=ct==null?void 0:ct.amountIn)==null?void 0:ut.toString(),amountOut:(bt=ct==null?void 0:ct.amountOut)==null?void 0:bt.toString(),initialPrice:(wt=ct==null?void 0:ct.initialPrice)==null?void 0:wt.toString()})})})};function processEndpoint(a){return a.endsWith("/find_routes")?a.replace("/find_routes",""):a}var SDK_VERSION=1000404;function getRouterResult(a,s,et){return __async(this,null,function*(){let tt;if(et.liquidityChanges&&et.liquidityChanges.length>0?tt=yield postRouterWithLiquidityChanges(a,et):tt=yield getRouter(a,s,et),!tt)return null;if(!tt.ok){let ut=10001;return tt.status===429&&(ut=10005),{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:et.byAmountIn,insufficientLiquidity:!1,error:{code:ut,msg:getAggregatorServerErrorMessage(ut)}}}const at=yield tt.json(),ct=at.msg==="liquidity is not enough";return at.msg&&at.msg.indexOf("HoneyPot scam")>-1?{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:et.byAmountIn,insufficientLiquidity:ct,error:{code:10004,msg:getAggregatorServerErrorMessage(10004)}}:at.data!=null?parseRouterResponse(at.data,et.byAmountIn):{amountIn:ZERO,amountOut:ZERO,routes:[],insufficientLiquidity:ct,byAmountIn:et.byAmountIn,error:{code:10003,msg:getAggregatorServerErrorMessage(10003)}}})}function getRouter(a,s,et){return __async(this,null,function*(){try{const{from:tt,target:at,amount:ct,byAmountIn:ut,depth:bt,splitAlgorithm:wt,splitFactor:Et,splitCount:Ft,providers:jt}=et,Lt=completionCoin(tt),Ut=completionCoin(at);let Vt=`${a}/find_routes?from=${Lt}&target=${Ut}&amount=${ct.toString()}&by_amount_in=${ut}`;return bt&&(Vt+=`&depth=${bt}`),wt&&(Vt+=`&split_algorithm=${wt}`),Et&&(Vt+=`&split_factor=${Et}`),Ft&&(Vt+=`&split_count=${Ft}`),jt&&jt.length>0&&(Vt+=`&providers=${jt.join(",")}`),s.length>0&&(Vt+=`&apiKey=${s}`),Vt+=`&v=${SDK_VERSION}`,yield fetch(Vt)}catch(tt){return console.error(tt),null}})}function postRouterWithLiquidityChanges(a,s){return __async(this,null,function*(){const{from:et,target:tt,amount:at,byAmountIn:ct,depth:ut,splitAlgorithm:bt,splitFactor:wt,splitCount:Et,providers:Ft,liquidityChanges:jt}=s,Lt=completionCoin(et),Ut=completionCoin(tt),Vt=`${a}/find_routes`,Yt=Ft==null?void 0:Ft.join(","),er={from:Lt,target:Ut,amount:Number(at.toString()),by_amount_in:ct,depth:ut,split_algorithm:bt,split_factor:wt,split_count:Et,providers:Yt,liquidity_changes:jt.map(tr=>({pool:tr.poolID,tick_lower:tr.ticklower,tick_upper:tr.tickUpper,delta_liquidity:tr.deltaLiquidity})),v:SDK_VERSION};try{return yield fetch(Vt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(er)})}catch(tr){return console.error("Error:",tr),null}})}function getDeepbookV3Config(a){return __async(this,null,function*(){const s=`${a}/deepbookv3_config`;try{return(yield fetch(s)).json()}catch(et){return console.error("Error:",et),null}})}var Env=(a=>(a[a.Mainnet=0]="Mainnet",a[a.Testnet=1]="Testnet",a))(Env||{});const vaultsConfigMainnet={...baseConfigMainnet,vaults:{package_id:"0xd3453d9be7e35efe222f78a810bb3af1859fd1600926afced8b4936d825c9a05",published_at:"0x1ed1fef522ccea98a4fbd954543d5019238ec89282fbdea9a753e0a17e96fc28",config:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d",published_at:"0xaabf0856070391df81fad9240049d69c5a51c3d376cc0885eeedd516526cc79b",version:1,config:{staking_id:"0x47b224762220393057ebf4f70501b6e657c3e56684737568439a04f80849b2ca",coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI"}},volo:{package_id:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",published_at:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",version:1,config:{native_pool:"0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",vsui_metadata:"0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60",coin_type:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT"}},aftermath:{package_id:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",published_at:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",version:1,config:{staked_sui_vault:"0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",referral_vault:"0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",safe:"0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",validator_address:"0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2",coin_type:"0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI"}}}},frams:peripheryConfigMainnet.frams,aggregator:{endPoint:clmmConfigMainnet.aggregatorUrl+"/find_routes",fullNodeurl:clmmConfigMainnet.fullRpcUrl,walletAddress:clmmConfigMainnet.simulationAccount.address,env:Env.Mainnet,providers:[],pythUrls:[]},clmm_pool:clmmConfigMainnet.clmm_pool,integrate:clmmConfigMainnet.integrate},volatileVaultsConfigMainnet={...baseConfigMainnet,env:"mainnet",aggregatorUrl:clmmConfigMainnet.aggregatorUrl,providers:[],vaults:{package_id:"0xc4ebf35be1478318d78c324342854dd2735a036139373a9d41a1aa3a46a01d05",published_at:"0xc4ebf35be1478318d78c324342854dd2735a036139373a9d41a1aa3a46a01d05",configs:{registry_id:"0x23014734280164270fa4c58f973c00079651e730d6f46491678ea8858f3bd13a",pools_handle:"0x31c810b6fcf3bb8699384e7c61fe9f7db53a04c4c22d514b3f79b6caa86183a8",pyth_oracle_id:"0xaed73fd854dfceedb2522903feec8c0e251764f5945bd38f969473024c4fb4d0",oracle_infos_handle:"0x6951ab4b36639e79ddbd9ba4478d7f72d1c5396b9198d0864c00e796c5815b01",prices_handle:"0x20a65a0f747f4f1ad465bdb61d784bbc5080ee5d200d5dd6594a354723b8c171",global_config_id:"0x5f8371674cd8e1e9eef5542ffe8adb339e3ff3a67894b14c954c7a92e992e0c1"},clmm_configs:{global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"},pyth_configs:{pyth_state_id:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8",hermes_service_urls:{primary:"https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com",secondary:"https://hermes.pyth.network"},wormhole_state_id:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pyth_package_id:"0x04e20ddf36af412a4096f9014f4a565af9e812db9a05cc40254846cf6ed0ad91",pyth_published_at:"0x04e20ddf36af412a4096f9014f4a565af9e812db9a05cc40254846cf6ed0ad91"}}},xCetusConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"}},baseConfigTestnet={fullRpcUrl:"https://fullnode.testnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigTestnet={...baseConfigTestnet,cetus_config:{package_id:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",published_at:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",version:void 0,config:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}},clmm_pool:{package_id:"0x0c7ae833c220aa73a3643a0d508afa4ac5d50d97312ea4584e35f9eb21b9df12",published_at:"0x85e61285a10efc6602ab00df70a0c06357c384ef4c5633ecf73016df1500c704",version:0,config:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",admin_cap_id:"0xd0accadc3d0b27f0cfaebe8e546968ac7874b9a9f5964669b4c9a7e1dcf80a28",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea"}},integrate:{package_id:"0x2918cf39850de6d5d94d8196dc878c8c722cd79db659318e00bff57fbb4e2ede",published_at:"0x19dd42e05fa6c9988a60d30686ee3feb776672b5547e328d6dab16563da65293",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:"https://api-sui.devcetus.com/router_v2"},burnConfigTestnet={...baseConfigTestnet,burn:{package_id:"0x3b494006831b046481c8046910106e2dfbe0d1fa9bc01e41783fb3ff6534ed3a",published_at:"0xaf89f8215c5b07eaac8b77c7745ce62f94cb76ef4bcb854e283f644c519ef43e",manager_id:"0xd04529ef15b7dad6699ee905daca0698858cab49724b2b2a1fc6b1ebc5e474ef",clmm_global_config:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",clmm_global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",burn_pool_handle:"0x20262dac8853ab8f63c98e0b17bfb1c758efc33d0092ac3c5f204dfb7ba81ac5"}},peripheryConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"},limit_order:{package_id:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",published_at:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",config:{rate_orders_indexer_id:"0xeaa7dc3a4b70c14b434aed2cef0bdd272a781c630ea3c54c25fa53c72fb3cf96",rate_orders_indexer_handle:"0x62eea7ce7be125e6b43fac6158d0ac8a6b0f263446d4631ad5a3629d82fef2ed",global_config_id:"0xd4d98f126233057b3a01f17adfb5bc77d7bdb0332fe982ab44c6c7a2f66443dc",token_list_handle:"0x81233cdf2165f013a57c3ab180b079e0f411483ba7f80dd6fbcb74426d2045f9",user_orders_indexer_id:"0x18ff28ae25ea50c703a0dfcc49653cc7dd7035207e26c8f86fa9e4aea49037d0",user_orders_indexer_handle:"0xbe3301b85fb0fc99deacb68c31d971837ae23a65c38680cf79a6b8562518b4c7"}},frams:{package_id:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",published_at:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",config:{global_config_id:"0x499132a4baf342a0fe9528a3666a77b2aece3be129f4a3ada469fef4b9c34fb4",rewarder_manager_id:"0x960c7800e301fd1e47b79037927b426db57b643bd2934f7069d81c2dae092230",rewarder_manager_handle:"0x1274149371876b60742cd02071a09f2aa72ffee75b76fdfc45724d98f18ea5b5",admin_cap_id:"0x110175e641c1ea8f9287f4fd59cb6a1fb97a3f3ec595aa30d0e6ed93ac4caa0c"}},dca:{package_id:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",published_at:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",config:{admin_cap_id:"0xf54334a5cf41874d151cc610f7575f2b9ca8aab32103be3ed87f07f73388dcf2",global_config_id:"0xdac150723df0b51c1407ea942036d7f9d4e3b064ff35a4136dd31ffb397497e0",indexer_id:"0xacd0ab94883a8785c5258388618b6252f0c2e9384b23f91fc23f6c8ef44d445c",user_indexer_id:"0xc4ca05342746468383922650a3137bd3efc49d4c7a37431ed11a94c08dbfb677",in_coin_whitelist_id:"0xe72cdb8a0777bbcb5105b7045b90f5fdc8c7b946d48fd4cec0607d201a45a9b7",out_coin_whitelist_id:"0xbe67538ca0e4683fef704b374d034f5a4f79cdc756ea47cec82df55b37d4ff0a"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:"::afsui::AFSUI"}}}}},TestnetTokens={SUI:{decimals:9,name:"Sui",symbol:"SUI",description:"",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",id:"0x587c29de216efd4219573e08a1f6964d4fa7cb714518c2c8a0f29abfa264327d",coin_type:"0x2::sui::SUI",is_trusted:!0},CETUS:{decimals:9,name:"Cetus Token",symbol:"CETUS",description:"CETUS is the native token of Cetus Protocol.",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",id:"0xf5dd74cd76c4bb4b0c6ac1b1388982a64f2cd089278d453e2067038fe50cbc1d",coin_type:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7::cetus::CETUS",is_trusted:!0},xCETUS:{coin_type:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0},USDC:{coin_type:"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdc::USDC",decimals:6,description:"",name:"USD Coin",symbol:"USDC",logo_url:"https://archive.cetus.zone/assets/image/sui/usdc.png",is_trusted:!0}},TestnetCreatePoolQuoteTokens=["0x2::sui::SUI","0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::cetus::CETUS"],vaultsConfigTestnet={...baseConfigTestnet,vaults:{package_id:"",published_at:""},frams:peripheryConfigTestnet.frams,aggregator:{endPoint:clmmConfigTestnet.aggregatorUrl,fullNodeurl:clmmConfigTestnet.fullRpcUrl,walletAddress:clmmConfigTestnet.simulationAccount.address,env:Env.Mainnet},clmm_pool:clmmConfigTestnet.clmm_pool,integrate:clmmConfigTestnet.integrate},volatileVaultsConfigTestnet={...baseConfigTestnet,env:"testnet",aggregatorUrl:clmmConfigTestnet.aggregatorUrl,providers:[],vaults:{package_id:"0x0a624f2dcafc9f7f381684b3d553a9837411925b6e8530b1f8f4e6ff3f1fde77",published_at:"0x36f9d8e6219e6ba4d8840165ec27676a1bcb43fc5712f87ca702ac7b5924507d",configs:{registry_id:"0xa2ebae3656c5fbdd2473caadfc077cd1780a881759a356f1a5bc0f9fd470adb9",pools_handle:"0x0df305d395f8e0359da0ac5717bc96e0e1da9792684ec8e8f6a20b7ab544f98e",pyth_oracle_id:"0x6c74aec8d4471d9b05f718c467204c9010c450b94a4e40b0b4031a7d6c386337",global_config_id:"0x8969b09cfdd72b1635263b569027ded4b91bbabd7d8cd91b21e355325e218b10",oracle_infos_handle:"0x8707c6665d202f277ffe8e7fd58684e232622a3e6826b94ba99f7569f253fa9d",prices_handle:"0x74230bb2c6a63235acbfe477ce16144afca7ccd16a458fa93f4605330b5d1c58"},clmm_configs:{global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea"},pyth_configs:{pyth_state_id:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c",wormhole_state_id:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",hermes_service_urls:{primary:"https://hermes-beta.pyth.network"},pyth_package_id:"0xabf837e98c26087cba0883c0a7a28326b1fa3c5e1e2c5abdb486f9e8f594c837",pyth_published_at:"0xabf837e98c26087cba0883c0a7a28326b1fa3c5e1e2c5abdb486f9e8f594c837"}}},xCetusConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"}},envConfigs={mainnet:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:apiUrl||"https://api-sui.cetus.zone",notifi_api:"https://api.notifi.network/gql",pythUrls:["https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com"],clmm_sdk_options:clmmConfigMainnet,periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigMainnet},pre:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:"https://api-sui-cloudfront.cetus.zone",notifi_api:"https://api.notifi.network/gql",pythUrls:["https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com"],clmm_sdk_options:{...clmmConfigMainnet,aggregatorUrl:"https://api-sui-cloudfront.cetus.zone/router_v2"},periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigMainnet},testnet:{env:"testnet",cetus_clmm_site:"https://cetus-cmm-app-testnet.netlify.app",cetus_api:"https://api-sui.devcetus.com",notifi_api:"https://api.notifi.network/gql",pythUrls:[],clmm_sdk_options:clmmConfigTestnet,periphery_sdk_options:peripheryConfigTestnet,burn_sdk_options:burnConfigTestnet,sui_coin:TestnetTokens.SUI,cetus_coin:TestnetTokens.CETUS,clmm_swap:{from_coin:TestnetTokens.USDC,to_coin:TestnetTokens.SUI},vaults_sdk_options:vaultsConfigTestnet,xcetus_sdk_options:xCetusConfigTestnet,x_cetus_coin:TestnetTokens.xCETUS,create_pool_quote_coin_list:TestnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigTestnet}},envConfigs$1=envConfigs[APP_ENV];function useGetTokenSource(){const{trustedTokenList:a,importTokenList:s,liquidityTrustTokenList:et}=useTokenSelectStore();return{getTokenSource:ut=>{console.log("🚀🚀🚀 ~ file: useGetTokenSource.ts:8 ~ getTokenSource ~ tokensInfo:",ut);const bt=[],wt=new Set([...a.map(Et=>Et.coin_type),...s.map(Et=>Et.coin_type)]);console.log("🚀 ~ getTokenSource ~ tokenTypesSet:",wt);for(const Et of ut)wt.has(suiAddressLongToShort(add0x(Et.coin_type)))||bt.push(Et);return bt},getTrustTokenSource:ut=>{const bt=[],wt=new Set([...a.map(Et=>Et.coin_type),...s.map(Et=>Et.coin_type),...et.map(Et=>Et.coin_type)]);for(const Et of ut)wt.has(suiAddressLongToShort(add0x(Et.coin_type||(Et==null?void 0:Et.address)||"")))||bt.push(Et);return bt},getShowCoinTag:ut=>{if(fixCoinType(ut)===fixCoinType(envConfigs$1.x_cetus_coin.coin_type))return!1;const bt=Array.from(new Set([...a.map(wt=>wt.coin_type),...s.map(wt=>wt.coin_type)]));return!((bt==null?void 0:bt.length)>0&&(bt!=null&&bt.includes(suiAddressLongToShort(add0x(ut)))))}}}const IconTipsTriangle="/images/token-warning@2x.png",placeholderImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAQcklEQVR4Ac07C3BUVZb33vfp7nQSgiEhYYYgESEj40oZjERH/MxAnFEGQQYUZILRGix1y3V3q3bZqd2trZpZqram1rJ2tMZZiUGFAURQ4romiALjmlkFB2eGEVyMEAQSEiSQ9O+9fvfuOfe923Q66aQ7dDS3q/vcd9+553fPOffzXlMyxqX4hc1Vls9p4Iao5nm8Mp5HSoSfmsIUGjcJRfbMIoJa1CFRbhlh2k3CrJ3F6EG/rTWee3DlkbEUUQqQawYTX3ppVTxInoxN4rPjVxAfAf0kDwG/WEM4RKGUEiEEQYgF0ITxJY2ZPfSwHiJPnV+9etMQ3S6rKWcGmPTcq+XWxOhzVhlfGJ8oQGkoSlnFJcUAAlSk8EHoort1bPMaXGN5lzoao5O1muf9a3vW3nvGRbq8XyXaqKlMebG5IpTXtzF6JZ/PfYINSyjFADDUoCA0eiN+SVvXINIuKKF3qQzKLMr9x9n+YLig/vSPF3UMy3OEm6M2ALgqLd6y5fnwVXyNCJChFZcKU2GcoyGtlx6FuD7MYuQDjemHhNC7mLggR5HTCeWUxic7JD6HG6QGDDmbTxSzrCtEELRPKyOLEB74jDWdu+++hyFslJlGUHng7bTEB6INvPrGC6/O65tmt1iTeKGKWxfDGy7OhL+Tduq9ZLMZ9j19uuGekwMpZHY1pfG1qVZe7Il4EV8ZLSNlYGZgIK3qEXDrZje5GOgw67oevPd3mVG+hJW1AUpf3vpI+GrxjAOj7qmrIpZQhwr/CdbG+sz67tWLj11ic/m1kpden8ELrI2RabyWaIO9QkNv+D/9sbMPLPtVNtyyMsDkra809s8iawjjXj9lAhjxk+TTYLdY1bFm+cFsBMgWt6JpW3WomG6KVpCZhCg5XCqUMBE8Qpq6VvyoIVO6GRmg+oAwvji9sy00zalWKrsMBPF1sW69kzzU9eNlzZkyzQXelM2vLbImORtik3mJoqeCw39CO1gxZUntwbnUVvfSwRENgMp39OzoiJWJsgFZG5JO8BjdfWbpkrp0xL+K9sk7drZEruILYDZxZ0/PCj7IQRXFSytGMsLQ2TtJ8tOnX2+zy2kZo5CBgAdCZjNR8Alb/3Urj2J2wQAUHNHWs7gGczBmSfxlxC6jZadA9iRVhqwOa4CpW3c1RqeRalRcKg+E9X5m5x81lp1acc9Ph6T4NTSiLPlH2TI9BEMDJlDyxipI9dStzY3DiZQ2BK78TfMjfVXiWYHUvKKHme1v1+Z0PPCDP6u28QQrXn7zmmilcyieB6sJKFJwUAA85NHj99815OwwpAfM2PLmvHCleAbmeHR86VK6o4n8z/X7xqvyqDDKhjKirDIc0HOhhKc7z6BOiJNaBhkAV3jhUtEiTMZcV5ImEAXt+vr2Vd/fkUpgvF2jjCgrGEAagaED+xiTOmGiTCmDGiq3v7khdBVpkHjeOj3vBG39/J7v5yTbz9y2pyZO4/cIH68RGisV1PEJjerUZr3MEqepTd+JGUUvnlp647kUWbO6nL7rv1vC3+QLZRzgzAAl2E4b25f94CH3yv0dYICq37Rd2VfZ+5ljgNdjQeP10O4TC+4sddFH94tTae/J1v+0J4il9kRRgHbFkroXSuyLOBG+bnbcd8H4+6Mr7tjmYmf/O233W2djk0SJUpLGCJ/YUTD98PLvdChqA0IgHux/QRiUuRMJ/moi0E0HWEx1zBRevW33yp7w7guRaaTeLiIFFBwTJ2z5wRjFD0L4qqkWJKDWZDK972p7y1Vv7P4thmWm/JLxUHYIBJnHZS6HsI75IxuTcRKEv/Xq/vL+qdEvhA7B42H4z7Kjn935varkDtnUZ2/f+9cXKuxfEH1oBbw1S2K3m0obhUOcwBn6x2N3LfiL1PuZXF/91ttHwiV8lsJlccLzv/B/85N755/BtoQHCM1+juhgepnzYfS5JvIuslWqY7Zw1ta9t/dNc35BNfR0dy7BnS3W5Q4XR9yrJzzOa8PEJZOXB2EneO23tu/5WbYyIL4fdGACZgVcwCE/g8El6OqVhAGsK8hC5YoI8zq1tj8uv2NUGxt0WV4qXgd+lKEFgB5+UQAFk+uJ+x4u9pFf7IF1+MRK2d8oobOBqAPqInl44WaDroqGNMC1r7y3igeZLyEc7OeDjlmvkLKF1726/x/sQoz3S/GtaCPUYESCZ/S2CZ/7/nLSZ+bcwuPaT/292peEo0uC4wNMrmMbDwr/ddvfW56tLIjvt7QHkSfSQWM6Qeq79pV90rt1RIDT2ielc4KzYsz5e1nnR4tvGvV+PjaBPCGVl2kes72XaoA4A+MWHGf1Hy+/5SXk7RX0tH+dtWffWasIsrbKTIAv6ygUFJg6lwDIelb4eOktn1a17uu0ilm5O9OAQfPok0Brk/SAeFDMxpjDDI3QF9ZfRoajKTVv/2+xU0QnSWvLpQjGM9JF21OS36ntTFE+wSZw3vgXxFOeI3uAPAjx42gkkcwSnTKs+EJsM+YepIPQBp2xK6vefqDKKdB8ig06qBHW/yNDuoPQ7Ivxh3HIL9FT4sOkaml81qKb07qxYeu70BM176PqCGVd6P2DGGbYYEZ9T+O0rsKAg86oOxOG1QCjLnMk+r+vn4U+vL/mZIZ0B6E5wfxfFp7QH8w/pW0PnGPHjQizlQK+C/TYKxQegKQpIo/f7I4QIKD7w0gpKHMHZ6fSdB2xGXUy+2kIB0Z6GAdgOA260Fk1k5GPvAQxI9rREakNg/CHuutCcLvJ+0rM2uYDVZbD7xe287FsSPNj+cXPpHAw3ljQj2BGkRCMKLSY9m9pumbUjLo5QQ6nWi59WPNU67DyqyTczTJyrozTP2VELQuktkVz8fHWPw/XZe6uD/89VMwrKYehUVkQvQCFBeg/T08eWHbD74ejMdI9nWuHIQNUKzyui0omfLRERSlaH7aSHyqErwreuPPAP0ZK+V8BfxmK0k1lunIj1rA1J9hv/PBy5dFs9gHqqkKSmFqJDkskHzapAiIcUvWvAtb810cbw6V8NSjtPtrA0XcdUoYkCCzyusnj7y29ftjwyURWqZsAD1PIBjV1ouHy1ysQb36f2aUuxxLiarHmrY/ejxTzeaiwikulPPLW4owHv6SPv7/4+iFPc7KVD3ULEczBrsaCMU2nGuiPqwNsBuubNC43CbJhDH/mtfz+gFVMr8cHWirmVcJDqEdppKBPq9t393W/zZUYqFtykoVzCKpj4kOGsiiYK45p6Nz8xh/+KTTRcZXH0fDYq4QX6NU+KY36bty1uKovDYlRN8NaAAzudsddtq7B4yzHSwIogBXVy+H2qJfBmUhm5Yu/w5GQkqDRPYnAE/D8YdP/3HXt6kzoZIuDulEShwnV7QkPuCAK4hT0dz/SPQxtcraEs8G/tfmTRTzA8uQuD4yQgFDP+5K1jJXyKCMF3dwlPww18NMc5jDmUAsb5VeGA5+TjUJZ4zJxp4x7GAU5JXnQtDWrvG723VnTy6KDcPgceeokp0IIhjixdCPOuh2Bz+HBQvDljN6QBc2sUSHpTlErT+yssr8ZoYeGWyZnzWiIDtSgNW4SdG/qFu1msPBp12Dk8St3gxr99hB9c9hE8y+FnAo95K3hEnpMC+yEZrte5+qqC61d17h2kApxB3LG0eAmHfWWMxPpNc4+CPSTShcXfQ4zEmRjTrN+uSETfsk43NRmUbkQcqcBqfvC5s+r+kvif5ZPVyU2FfkX6bTWuhmj3hEmMx0v9YUtx6b2F/ATcpTdmUfk9xjXsNZF04+YMRZTbgnOAZMRe2K8CJ4rOVAn1E3paVoshrrLIzHDZocdgyd2SY5JVgLjv80Vc0Xn7uaeb0Ty+xJr+ksB4GIELO3h5rqK1xR+LiHqJDdZEHH4cp5hk8NIH3aHcAji6E956UhOTXaAlv3w3ZMz8F4uC2fRYNwniuM+Ir+2V0eIXzgLxUVYzgvqYvnhHQdQ3D0Wg2M/x3wKGUkDvFE3dZNhURkGOE3gCVGc8425lqQACMqZBgRBYSQvD8qFiStOrtkSC3RJuD8EAaw5YqgzMpIGwIrfYq3JAsX8tPaultOJsECcyy4+d/GT7sEIYdpls0glgDrYAVarpj+EvhhtVXgJA5j+wFo4O4fXrnBssBmSoc6llRRyLiCuAlUiSoW5oJ9KQ+qAp2rg2cgbpmFu8sBahZcwwI75JWf8UbbftZTrnpaPzry35dQihXz50Jd40qP4KIgCqofSl8/HpYCyW342UxkaBxZ13HFnSWLLnzAAdvH7J9aDD3DVAb0garINuRII0q2Me3c0UBzwNsw53ifXISBlT4w+GJhrHHVM1sddEiW1LNl9dkPY7zRgEwSBPCvIg/yw87uT65LQRl39kRBpAz2Xe4Ele7paIj6ReAaIAgcirHHngtKHkoUfZAA8qlq8r7vX1gS8BwyzBsQNPOEUeRG2fvv3Jo2bN8OSlUitL3u75+chP193aXULD4UdevH1W0uKcJmXjD8gBPAGIgRsrQ4e6cN7GuieYAU4R4yYfN2Kd3qWJncej3WUMWqKdTiVQyaTwQWvFnPUKVV5lH+QAbBx64Li3wUd/TGNum9byVgFN4jpbMuqt/uuQZzxWFA2lBFHEZWXD9YpE/mO+RjqNJTMQxoAEbfcfsWvIPabXC9w05QD/2CJmM6h8egJK945vzRsxA/BatJQSRZlRx223F6U9lR5UA5ItdLydy8ciGnePgGxMSdAbsxztPWbbyscFzlh5d6LPw8zZx2Kliw//IHl4LZbJ8xNbkutp/UAhVh0W2Gtj7NOdClpWeQB8RXWxLqVe/taFN7XBVEGlAWHRYYqyIfQz7XOovmFtSPJNcBi6ZB/IoTRv7+/LUrEwKUxuILBRXfAMR9q+q6/OV3/sWhfs+fioohGNsCj5xJFHyMfj/gDVDsYvCWv9tc0B6/LK+IIH9jb3xhjdA3HA3VZcEYBzwC+JiefGpyu2nhHcFTvFbn0Rv6tfydU7TC6KcbETJyyB/TA0OS06cXbgg0D2oe5GEhgGER1a827oUcijDwjX+fBcPCOtLz7wk9oW4Hhr3/2JprTZwuPvi9m9NmRjVFCwK09xV37SxEglnlAkMeabg+mTXhKh2SYtQGw88PvWfMijtNiC1KYbADwBLlwwreMDSE6dUI3BwK+p5+toaM6Xnv0AzE1EoE/TRGyEly9LHXE0d3R7eFU52JA0+qe/4455FSXrHBqfVQGQCIoTMN+6/kYERASQ68nJDNYWIEhQhoRR+H57580h3zo9xuHoE9XXpDITUk4RMpjlEymUXsOvAd0A4TYtx1CZ8UJHNenunmSBvBUk8PuoqlxvvnV/m0uSQbyxGFR0X8uvjFGyHzO4eB5mKJGDKEsKRGEM436N+lQZJTHg4fhHwL2Fxbr9U/Pph1D4WbaNmoPSGXwk/2inAvnOYuLhfAA2of3lcCeuoMzhooZhLIDYKo2t2XArw7vSxqEtsLjtLW/nk+l9wxAGMVFzgyQzPvRNrHKtvmTNiezwZV96dx4JAPBcgPCR8R0Sg6bJnvq2Vqa+wOaZMHHov74+6LKiZMGSGTVEPeV4P0lkMNNgBrMJHIAIG7gRRV4c0EQS6OkG1rbIbEd1HTS+Mub6JGxkEvR/H/1GixGG+ou8QAAAABJRU5ErkJggg==";function SingleCoinImage(a){const{coinType:s,variant:et,imageUrl:tt,w:at,h:ct,p:ut,showTag:bt=!0,showTagWidth:wt,showTagHeight:Et,borderColor:Ft,imageStyle:jt={},imgBoxStyle:Lt={},...Ut}=a,Vt=reactExports.useMemo(()=>{const ir={default:{box:{border:"none",w:at||"32px",h:ct||"32px"}},border:{box:{bg:"checked_bg",border:"1px",borderColor:Ft||"border",borderRadius:"100%",w:at||"46px",h:at||"46px",p:ut||"5px"}}};return et?ir[et]:ir.default},[et,at,Ft,ut]),{getShowCoinTag:Yt}=useGetTokenSource(),{trustedTokenList:er,importTokenList:tr}=useTokenSelectStore(),nr=reactExports.useMemo(()=>s&&(er==null?void 0:er.length)>0?Yt(s):!1,[s,er,tr]);return jsxRuntimeExports.jsxs(Flex,{display:"flex",position:"relative",children:[jsxRuntimeExports.jsx(Center,{...Vt.box,...Lt,...Ut,children:jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:tt,fallbackSrc:placeholderImg,borderRadius:"100%",w:"100%",h:"100%",...jt,minW:jt.w||"unset",minH:jt.h||"unset"},tt)}),nr&&bt&&jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:IconTipsTriangle,fallbackSrc:placeholderImg,w:wt||"16px",h:Et||"16px",right:et==="border"?"1px":"-3px",style:{position:"absolute",bottom:"0px"}})]})}function CoinPairImage(a){const{coinAIconUrl:s,coinBIconUrl:et,coinACoinType:tt,coinBCoinType:at,ml:ct,showATag:ut,showBTag:bt,...wt}=a;return jsxRuntimeExports.jsxs(HStack,{gap:"0px",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:s,...wt,showTag:ut,coinType:tt}),jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et,...wt,ml:ct||"0px",showTag:bt,coinType:at})]})}const formatCurrency=a=>{try{return a.startsWith("-")?`-$${a.slice(1)}`:`$${a}`}catch(s){return console.log("🚀 ~ formatCurrency ~ error:",s),"$--"}};function Comma({value:a,currency:s}){const et=(s?formatCurrency(a+""):a)+"",tt=(et+"").indexOf("$"),at=tt>-1?(addComma(et.slice(tt+1))+"").split(","):(addComma(et)+"").split(","),ct=at.length;return jsxRuntimeExports.jsxs(Box,{as:"span",children:[tt>-1&&et.slice(0,tt+1),at.map((ut,bt)=>jsxRuntimeExports.jsxs(Box,{as:"span",children:[ut,bt<ct-1&&jsxRuntimeExports.jsx(Box,{as:"span",className:"delimiter",children:","})]},`${ut}-${bt}`))]})}function Drawer({title:a,isOpen:s,onClose:et,children:tt,cancelText:at,okText:ct,onSubmit:ut,footer:bt=!1,placement:wt,size:Et}){return jsxRuntimeExports.jsxs(Drawer$1,{isOpen:s,placement:wt||"right",onClose:et,size:Et||"md",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(DrawerContent,{h:"100dvh !important",minH:"calc(100vh - 80px) !important",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{children:a}),jsxRuntimeExports.jsx(ModalBody,{children:tt}),jsxRuntimeExports.jsx(ModalFooter,{children:typeof bt!="boolean"?bt:bt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",mr:3,onClick:et,children:at}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:ut,children:ct})]})})]})]})}const TextWrap=({children:a,haveTooltip:s=!0,...et})=>{const tt=reactExports.useRef(null),[at,ct]=reactExports.useState(!1),ut=()=>{const wt=tt.current;wt&&wt.scrollWidth>wt.clientWidth?ct(!0):ct(!1)},{isApp:bt}=useWindowWidth();return jsxRuntimeExports.jsx(Box,{w:"100%",onClick:wt=>cancelBubble(wt),children:bt?jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"wrap",wordBreak:"break-all",textAlign:"right",...et,children:a}):at&&s?jsxRuntimeExports.jsx(Tooltip,{placement:"top",label:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:a}),children:jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:tt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseLeave:()=>ct(!1),tabIndex:0,...et,children:a})}):jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:tt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseEnter:ut,tabIndex:0,...et,children:a})})},SingleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"130px"})]})]}),SingleTokenInfoH5=({data:a})=>{const{loading:s,imageUrl:et,symbol:tt,name:at}=a;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s?jsxRuntimeExports.jsx(SingleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et,w:"24px",h:"24px"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:{md:"0",lg:"0.5rem"},children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",children:tt}),jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:at})]})]})})},DoubleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsx(Box,{ml:"-8px",children:jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"})}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"60px"})]})]}),PairTokenInfo=({data:a,fee:s,loading:et})=>{var tt,at,ct,ut;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et?jsxRuntimeExports.jsx(DoubleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{gap:"0px",w:"100%",children:[jsxRuntimeExports.jsx(CoinPairImage,{w:"40px",variant:"border",coinAIconUrl:(tt=a[0])==null?void 0:tt.imageUrl,coinBIconUrl:(at=a[1])==null?void 0:at.imageUrl}),jsxRuntimeExports.jsx(VStack,{gap:"0px",ml:"8px",align:"flex-start",children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(ct=a[0])==null?void 0:ct.symbol}),jsxRuntimeExports.jsx(Text,{color:"text_caption",children:"-"}),jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(ut=a[1])==null?void 0:ut.symbol})]})})]})})};var HandleEventType=(a=>(a.Add="add",a.Edit="edit",a.Delete="delete",a))(HandleEventType||{}),H5MapTableCells=(a=>(a.Regular="regular",a.Double="double",a.Divider="divider",a.Action="action",a.Cos="cos",a))(H5MapTableCells||{}),TitleEnum=(a=>(a.SingleToken="SingleToken",a.ST="ST",a.DoubleToken="DoubleToken",a.DT="DT",a))(TitleEnum||{});const handleElement=({value:a})=>{let s,et;if(reactExports.isValidElement(a)||typeof a=="string"||typeof a=="number")s=a;else if(typeof a=="function")s=a();else if(typeof a=="object"&&a!==null){const{text:tt,render:at}=a;if("color"in a&&(et=a.color),tt)s=tt;else if(at)s=handleElement({value:at});else throw new Error("You must select one of text or render to assign a valid value.")}else throw new Error("A valid value is required here.");return[s,et]},renderNode=a=>handleElement({value:a})[0];function transColumns2H5(a,s,et){return a.map(tt=>({type:H5MapTableCells.Cos,label:tt.title,showLabel:tt==null?void 0:tt.showLabel,key:tt.key,hidden:tt.hidden?typeof tt.hidden=="function"?tt.hidden(s):tt.hidden:!1,value:typeof tt.render=="function"?tt.render(s,et):tt.render||s[tt.key]}))}const Regular=({value:a,...s})=>{let et="text_caption";"color"in s&&(et=s.color);const[tt,at]=handleElement({value:a});return et=at||et,jsxRuntimeExports.jsx(Text,{color:et,children:tt})},Action=({value:a,onChange:s,btn:et,...tt})=>{if(!a){const{text:bt,color:wt="primary",bg_color:Et="bg_secondary"}=et;return jsxRuntimeExports.jsx(Button,{w:"60px",h:"20px",borderRadius:"4px",color:wt,bgColor:Et,size:"xs",onClick:(...Ft)=>s==null?void 0:s(HandleEventType.Add,...Ft),children:bt})}let at="text_caption";"color"in tt&&(at=tt.color||at);const[ct,ut]=handleElement({value:a});return at=ut||at,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:at,children:ct}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",onClick:(...bt)=>s==null?void 0:s(HandleEventType.Edit,...bt)}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",onClick:(...bt)=>s==null?void 0:s(HandleEventType.Delete,...bt)})]})},Divider=({value:a})=>{let s="text_caption",et="text_paragraph";const[tt,at]=handleElement({value:a[0]}),[ct,ut]=handleElement({value:a[1]});return s=at||s,et=ut||et,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:s,children:tt}),jsxRuntimeExports.jsxs(Text,{color:et,children:["/ ",ct]})]})},Double=({value:a,onChange:s})=>{var wt;let et="text_caption",tt="text_paragraph";const[at,ct]=handleElement({value:a[0]}),[ut,bt]=handleElement({value:a[1]});return et=ct||et,tt=bt||tt,jsxRuntimeExports.jsxs(VStack,{gap:"0.2em",alignItems:"flex-end",children:[jsxRuntimeExports.jsxs(HStack,{h:"12px",children:[jsxRuntimeExports.jsx(Text,{color:et,children:at}),typeof a[0]=="object"&&((wt=a[0])==null?void 0:wt.editable)&&jsxRuntimeExports.jsx(Icon,{onClick:(...Et)=>s==null?void 0:s(HandleEventType.Edit,...Et),xlinkHref:"#icon-icon_edit"})]}),jsxRuntimeExports.jsx(Text,{h:"12px",color:tt,children:ut})]})},Cos=({value:a})=>typeof a=="function"?a():jsxRuntimeExports.jsx(Box,{fontFamily:"Inter",fontSize:"14px",color:"text_caption",children:a});function useTextColor({isLong:a}){const s=reactExports.useMemo(()=>a?"primary":"primary_red",[a]),et=reactExports.useMemo(()=>a?"primary_opacity.10":"primary_red_opacity.10",[a]);return{color:s,bg:et}}const ItemsMap={[H5MapTableCells.Regular]:Regular,[H5MapTableCells.Action]:Action,[H5MapTableCells.Divider]:Divider,[H5MapTableCells.Double]:Double,[H5MapTableCells.Cos]:Cos},TitleMap={[TitleEnum.SingleToken]:SingleTokenInfoH5,[TitleEnum.ST]:SingleTokenInfoH5,[TitleEnum.DoubleToken]:PairTokenInfo,[TitleEnum.DT]:PairTokenInfo},Title=({data:a})=>{if(!a)return null;const{type:s,...et}=a,tt=TitleMap[s];return jsxRuntimeExports.jsx(tt,{...et})},Bottom=({data:a})=>{if(typeof a=="function")return a();if(reactExports.isValidElement(a))return a;if(typeof a=="object"&&(a!=null&&a.data)&&Array.isArray(a==null?void 0:a.data)){const{style:s,data:et}=a;return jsxRuntimeExports.jsx(HStack,{w:"100%",justifyContent:"space-between",...s,children:et.map(tt=>{const{text:at,render:ct,...ut}=tt;return jsxRuntimeExports.jsx(Button,{...ut,children:renderNode({text:at,render:ct})},tt.key||tt.text)})})}if(typeof a=="object"){const{text:s,render:et,...tt}=a;return jsxRuntimeExports.jsx(Button,{...tt,children:renderNode({text:s,render:et})})}return null};function H5MapTableItem({data:a,children:s,loading:et,skeletonLength:tt=5,itemHeight:at="40px",style:ct,title:ut,bottom:bt,onClick:wt}){const Et=new Array(tt).fill(0);return jsxRuntimeExports.jsxs(VStack,{gap:"0.5em",...ct,onClick:wt,children:[s,jsxRuntimeExports.jsx(Title,{data:ut}),et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Et==null?void 0:Et.map((Ft,jt)=>jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",flexBasis:at,children:[jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"}),jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"})]},jt))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a==null?void 0:a.map(Ft=>{const{label:jt,type:Lt,key:Ut,showLabel:Vt=!0,hidden:Yt=!1,...er}=Ft,tr=ItemsMap[Lt];return jsxRuntimeExports.jsx(React$2.Fragment,{children:!Yt&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:Yt?"-8px":"0",flexBasis:at,children:[Vt&&jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Box,{children:renderNode(jt)}),typeof jt=="object"&&(jt==null?void 0:jt.tooltip)&&jsxRuntimeExports.jsx(Tooltip,{label:renderNode(jt==null?void 0:jt.tooltip),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_tips",cursor:"help"})})]}),jsxRuntimeExports.jsx(tr,{...er})]},Ut||(jt==null?void 0:jt.toString()))},Ut||(jt==null?void 0:jt.toString()))})}),jsxRuntimeExports.jsx(Bottom,{data:bt})]})}const Logo=({name:a,logo:s,multiple:et,isLong:tt})=>{const{color:at,bg:ct}=useTextColor({isLong:tt});return jsxRuntimeExports.jsxs(HStack,{flexBasis:"32px",gap:"8px",children:[jsxRuntimeExports.jsx(Box,{flexBasis:"32px",children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"50%",src:s})}),jsxRuntimeExports.jsxs(VStack,{gap:"2px",alignItems:"flex-start",children:[jsxRuntimeExports.jsx(Text,{flexBasis:"14px",color:"text_caption",children:a}),jsxRuntimeExports.jsx(Tag,{flexBasis:"16px",color:at,bgColor:ct,children:`${et}x ${tt?"Long":"Short"}`})]})]})};H5MapTableItem.Logo=Logo;function Modal({title:a="",isOpen:s,showOverlay:et=!0,closeable:tt=!0,isCentered:at=!0,onClose:ct,children:ut,footer:bt,okText:wt="OK",cancelText:Et="Cancel",onOk:Ft,onCancel:jt}){return jsxRuntimeExports.jsxs(Modal$1,{isOpen:s,onClose:ct,isCentered:at,children:[et&&jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:a}),tt&&jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:ut}),bt||(bt===null?null:jsxRuntimeExports.jsxs(ModalFooter,{children:[jsxRuntimeExports.jsx(Button,{mr:3,onClick:jt,variant:"outline",children:Et}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:Ft,children:wt})]}))]})]})}function __rest(a,s){var et={};for(var tt in a)Object.prototype.hasOwnProperty.call(a,tt)&&s.indexOf(tt)<0&&(et[tt]=a[tt]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,tt=Object.getOwnPropertySymbols(a);at<tt.length;at++)s.indexOf(tt[at])<0&&Object.prototype.propertyIsEnumerable.call(a,tt[at])&&(et[tt[at]]=a[tt[at]]);return et}var SourceType;(function(a){a.event="event",a.props="prop"})(SourceType||(SourceType={}));function noop(){}function memoizeOnce(a){var s,et=void 0;return function(){for(var tt=[],at=arguments.length;at--;)tt[at]=arguments[at];return s&&tt.length===s.length&&tt.every(function(ct,ut){return ct===s[ut]})||(s=tt,et=a.apply(void 0,tt)),et}}function charIsNumber(a){return!!(a||"").match(/\d/)}function isNil(a){return a==null}function isNanValue(a){return typeof a=="number"&&isNaN(a)}function isNotValidValue(a){return isNil(a)||isNanValue(a)||typeof a=="number"&&!isFinite(a)}function escapeRegExp(a){return a.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(a){switch(a){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(a,s,et){var tt=getThousandsGroupRegex(et),at=a.search(/[1-9]/);return at=at===-1?a.length:at,a.substring(0,at)+a.substring(at,a.length).replace(tt,"$1"+s)}function usePersistentCallback(a){var s=reactExports.useRef(a);s.current=a;var et=reactExports.useRef(function(){for(var tt=[],at=arguments.length;at--;)tt[at]=arguments[at];return s.current.apply(s,tt)});return et.current}function splitDecimal(a,s){s===void 0&&(s=!0);var et=a[0]==="-",tt=et&&s;a=a.replace("-","");var at=a.split("."),ct=at[0],ut=at[1]||"";return{beforeDecimal:ct,afterDecimal:ut,hasNegation:et,addNegation:tt}}function fixLeadingZero(a){if(!a)return a;var s=a[0]==="-";s&&(a=a.substring(1,a.length));var et=a.split("."),tt=et[0].replace(/^0+/,"")||"0",at=et[1]||"";return(s?"-":"")+tt+(at?"."+at:"")}function limitToScale(a,s,et){for(var tt="",at=et?"0":"",ct=0;ct<=s-1;ct++)tt+=a[ct]||at;return tt}function repeat(a,s){return Array(s+1).join(a)}function toNumericString(a){var s=a+"",et=s[0]==="-"?"-":"";et&&(s=s.substring(1));var tt=s.split(/[eE]/g),at=tt[0],ct=tt[1];if(ct=Number(ct),!ct)return et+at;at=at.replace(".","");var ut=1+ct,bt=at.length;return ut<0?at="0."+repeat("0",Math.abs(ut))+at:ut>=bt?at=at+repeat("0",ut-bt):at=(at.substring(0,ut)||"0")+"."+at.substring(ut),et+at}function roundToPrecision(a,s,et){if(["","-"].indexOf(a)!==-1)return a;var tt=(a.indexOf(".")!==-1||et)&&s,at=splitDecimal(a),ct=at.beforeDecimal,ut=at.afterDecimal,bt=at.hasNegation,wt=parseFloat("0."+(ut||"0")),Et=ut.length<=s?"0."+ut:wt.toFixed(s),Ft=Et.split("."),jt=ct;ct&&Number(Ft[0])&&(jt=ct.split("").reverse().reduce(function(Yt,er,tr){return Yt.length>tr?(Number(Yt[0])+Number(er)).toString()+Yt.substring(1,Yt.length):er+Yt},Ft[0]));var Lt=limitToScale(Ft[1]||"",s,et),Ut=bt?"-":"",Vt=tt?".":"";return""+Ut+jt+Vt+Lt}function setCaretPosition(a,s){if(a.value=a.value,a!==null){if(a.createTextRange){var et=a.createTextRange();return et.move("character",s),et.select(),!0}return a.selectionStart||a.selectionStart===0?(a.focus(),a.setSelectionRange(s,s),!0):(a.focus(),!1)}}var findChangeRange=memoizeOnce(function(a,s){for(var et=0,tt=0,at=a.length,ct=s.length;a[et]===s[et]&&et<at;)et++;for(;a[at-1-tt]===s[ct-1-tt]&&ct-tt>et&&at-tt>et;)tt++;return{from:{start:et,end:at-tt},to:{start:et,end:ct-tt}}}),findChangedRangeFromCaretPositions=function(a,s){var et=Math.min(a.selectionStart,s);return{from:{start:et,end:a.selectionEnd},to:{start:et,end:s}}};function clamp$1(a,s,et){return Math.min(Math.max(a,s),et)}function geInputCaretPosition(a){return Math.max(a.selectionStart,a.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(a){return{from:{start:0,end:0},to:{start:0,end:a.length},lastValue:""}}function defaultIsCharacterSame(a){var s=a.currentValue,et=a.formattedValue,tt=a.currentValueIndex,at=a.formattedValueIndex;return s[tt]===et[at]}function getCaretPosition(a,s,et,tt,at,ct,ut){ut===void 0&&(ut=defaultIsCharacterSame);var bt=at.findIndex(function(lr){return lr}),wt=a.slice(0,bt);!s&&!et.startsWith(wt)&&(s=wt,et=wt+et,tt=tt+wt.length);for(var Et=et.length,Ft=a.length,jt={},Lt=new Array(Et),Ut=0;Ut<Et;Ut++){Lt[Ut]=-1;for(var Vt=0,Yt=Ft;Vt<Yt;Vt++){var er=ut({currentValue:et,lastValue:s,formattedValue:a,currentValueIndex:Ut,formattedValueIndex:Vt});if(er&&jt[Vt]!==!0){Lt[Ut]=Vt,jt[Vt]=!0;break}}}for(var tr=tt;tr<Et&&(Lt[tr]===-1||!ct(et[tr]));)tr++;var nr=tr===Et||Lt[tr]===-1?Ft:Lt[tr];for(tr=tt-1;tr>0&&Lt[tr]===-1;)tr--;var ir=tr===-1||Lt[tr]===-1?0:Lt[tr]+1;return ir>nr?nr:tt-ir<nr-tt?ir:nr}function getCaretPosInBoundary(a,s,et,tt){var at=a.length;if(s=clamp$1(s,0,at),tt==="left"){for(;s>=0&&!et[s];)s--;s===-1&&(s=et.indexOf(!0))}else{for(;s<=at&&!et[s];)s++;s>at&&(s=et.lastIndexOf(!0))}return s===-1&&(s=at),s}function caretUnknownFormatBoundary(a){for(var s=Array.from({length:a.length+1}).map(function(){return!0}),et=0,tt=s.length;et<tt;et++)s[et]=!!(charIsNumber(a[et])||charIsNumber(a[et-1]));return s}function useInternalValues(a,s,et,tt,at,ct){ct===void 0&&(ct=noop);var ut=usePersistentCallback(function(Vt,Yt){var er,tr;return isNotValidValue(Vt)?(tr="",er=""):typeof Vt=="number"||Yt?(tr=typeof Vt=="number"?toNumericString(Vt):Vt,er=tt(tr)):(tr=at(Vt,void 0),er=tt(tr)),{formattedValue:er,numAsString:tr}}),bt=reactExports.useState(function(){return ut(isNil(a)?s:a,et)}),wt=bt[0],Et=bt[1],Ft=function(Vt,Yt){Vt.formattedValue!==wt.formattedValue&&Et({formattedValue:Vt.formattedValue,numAsString:Vt.value}),ct(Vt,Yt)},jt=a,Lt=et;isNil(a)&&(jt=wt.numAsString,Lt=!0);var Ut=ut(jt,Lt);return reactExports.useMemo(function(){Et(Ut)},[Ut.formattedValue]),[wt,Ft]}function defaultRemoveFormatting(a){return a.replace(/[^0-9]/g,"")}function defaultFormat(a){return a}function NumberFormatBase(a){var s=a.type;s===void 0&&(s="text");var et=a.displayType;et===void 0&&(et="input");var tt=a.customInput,at=a.renderText,ct=a.getInputRef,ut=a.format;ut===void 0&&(ut=defaultFormat);var bt=a.removeFormatting;bt===void 0&&(bt=defaultRemoveFormatting);var wt=a.defaultValue,Et=a.valueIsNumericString,Ft=a.onValueChange,jt=a.isAllowed,Lt=a.onChange;Lt===void 0&&(Lt=noop);var Ut=a.onKeyDown;Ut===void 0&&(Ut=noop);var Vt=a.onMouseUp;Vt===void 0&&(Vt=noop);var Yt=a.onFocus;Yt===void 0&&(Yt=noop);var er=a.onBlur;er===void 0&&(er=noop);var tr=a.value,nr=a.getCaretBoundary;nr===void 0&&(nr=caretUnknownFormatBoundary);var ir=a.isValidInputCharacter;ir===void 0&&(ir=charIsNumber);var lr=a.isCharacterSame,pr=__rest(a,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),yr=useInternalValues(tr,wt,!!Et,ut,bt,Ft),br=yr[0],xr=br.formattedValue,Er=br.numAsString,$r=yr[1],Sr=reactExports.useRef(),fr=reactExports.useRef({formattedValue:xr,numAsString:Er}),vr=function(Nr,Vr){fr.current={formattedValue:Nr.formattedValue,numAsString:Nr.value},$r(Nr,Vr)},or=reactExports.useState(!1),rr=or[0],ar=or[1],sr=reactExports.useRef(null),dr=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return ar(!0),function(){clearTimeout(dr.current.setCaretTimeout),clearTimeout(dr.current.focusTimeout)}},[]);var gr=ut,ur=function(Nr,Vr){var jr=parseFloat(Vr);return{formattedValue:Nr,value:Vr,floatValue:isNaN(jr)?void 0:jr}},_r=function(Nr,Vr,jr){Nr.selectionStart===0&&Nr.selectionEnd===Nr.value.length||(setCaretPosition(Nr,Vr),dr.current.setCaretTimeout=setTimeout(function(){Nr.value===jr&&Nr.selectionStart!==Vr&&setCaretPosition(Nr,Vr)},0))},hr=function(Nr,Vr,jr){return getCaretPosInBoundary(Nr,Vr,nr(Nr),jr)},cr=function(Nr,Vr,jr){var Wr=nr(Vr),Kr=getCaretPosition(Vr,xr,Nr,jr,Wr,ir,lr);return Kr=getCaretPosInBoundary(Vr,Kr,Wr),Kr},wr=function(Nr){var Vr=Nr.formattedValue;Vr===void 0&&(Vr="");var jr=Nr.input,Wr=Nr.source,Kr=Nr.event,an=Nr.numAsString,Un;if(jr){var Vn=Nr.inputValue||jr.value,Kn=geInputCaretPosition(jr);jr.value=Vr,Un=cr(Vn,Vr,Kn),Un!==void 0&&_r(jr,Un,Vr)}Vr!==xr&&vr(ur(Vr,an),{event:Kr,source:Wr})};reactExports.useEffect(function(){var Nr=fr.current,Vr=Nr.formattedValue,jr=Nr.numAsString;(xr!==Vr||Er!==jr)&&vr(ur(xr,Er),{event:void 0,source:SourceType.props})},[xr,Er]);var Br=sr.current?geInputCaretPosition(sr.current):void 0,Or=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;Or(function(){var Nr=sr.current;if(xr!==fr.current.formattedValue&&Nr){var Vr=cr(fr.current.formattedValue,xr,Br);Nr.value=xr,_r(Nr,Vr,xr)}},[xr]);var Rr=function(Nr,Vr,jr){var Wr=Vr.target,Kr=Sr.current?findChangedRangeFromCaretPositions(Sr.current,Wr.selectionEnd):findChangeRange(xr,Nr),an=Object.assign(Object.assign({},Kr),{lastValue:xr}),Un=bt(Nr,an),Vn=gr(Un);if(Un=bt(Vn,void 0),jt&&!jt(ur(Vn,Un))){var Kn=Vr.target,oo=geInputCaretPosition(Kn),Hn=cr(Nr,xr,oo);return Kn.value=xr,_r(Kn,Hn,xr),!1}return wr({formattedValue:Vn,numAsString:Un,inputValue:Nr,event:Vr,source:jr,input:Vr.target}),!0},Pr=function(Nr,Vr){Vr===void 0&&(Vr=0);var jr=Nr.selectionStart,Wr=Nr.selectionEnd;Sr.current={selectionStart:jr,selectionEnd:Wr+Vr}},Ur=function(Nr){var Vr=Nr.target,jr=Vr.value,Wr=Rr(jr,Nr,SourceType.event);Wr&&Lt(Nr),Sr.current=void 0},kr=function(Nr){var Vr=Nr.target,jr=Nr.key,Wr=Vr.selectionStart,Kr=Vr.selectionEnd,an=Vr.value;an===void 0&&(an="");var Un;jr==="ArrowLeft"||jr==="Backspace"?Un=Math.max(Wr-1,0):jr==="ArrowRight"?Un=Math.min(Wr+1,an.length):jr==="Delete"&&(Un=Wr);var Vn=0;jr==="Delete"&&Wr===Kr&&(Vn=1);var Kn=jr==="ArrowLeft"||jr==="ArrowRight";if(Un===void 0||Wr!==Kr&&!Kn){Ut(Nr),Pr(Vr,Vn);return}var oo=Un;if(Kn){var Hn=jr==="ArrowLeft"?"left":"right";oo=hr(an,Un,Hn),oo!==Un&&Nr.preventDefault()}else jr==="Delete"&&!ir(an[Un])?oo=hr(an,Un,"right"):jr==="Backspace"&&!ir(an[Un])&&(oo=hr(an,Un,"left"));oo!==Un&&_r(Vr,oo,an),Ut(Nr),Pr(Vr,Vn)},Ar=function(Nr){var Vr=Nr.target,jr=function(){var Wr=Vr.selectionStart,Kr=Vr.selectionEnd,an=Vr.value;if(an===void 0&&(an=""),Wr===Kr){var Un=hr(an,Wr);Un!==Wr&&_r(Vr,Un,an)}};jr(),requestAnimationFrame(function(){jr()}),Vt(Nr),Pr(Vr)},Cr=function(Nr){Nr.persist&&Nr.persist();var Vr=Nr.target,jr=Nr.currentTarget;sr.current=Vr,dr.current.focusTimeout=setTimeout(function(){var Wr=Vr.selectionStart,Kr=Vr.selectionEnd,an=Vr.value;an===void 0&&(an="");var Un=hr(an,Wr);Un!==Wr&&!(Wr===0&&Kr===an.length)&&_r(Vr,Un,an),Yt(Object.assign(Object.assign({},Nr),{currentTarget:jr}))},0)},Fr=function(Nr){sr.current=null,clearTimeout(dr.current.focusTimeout),clearTimeout(dr.current.setCaretTimeout),er(Nr)},Lr=rr&&addInputMode()?"numeric":void 0,Hr=Object.assign({inputMode:Lr},pr,{type:s,value:xr,onChange:Ur,onKeyDown:kr,onMouseUp:Ar,onFocus:Cr,onBlur:Fr});if(et==="text")return at?React$2.createElement(React$2.Fragment,null,at(xr,pr)||null):React$2.createElement("span",Object.assign({},pr,{ref:ct}),xr);if(tt){var Gr=tt;return React$2.createElement(Gr,Object.assign({},Hr,{ref:ct}))}return React$2.createElement("input",Object.assign({},Hr,{ref:ct}))}function format(a,s){var et=s.decimalScale,tt=s.fixedDecimalScale,at=s.prefix;at===void 0&&(at="");var ct=s.suffix;ct===void 0&&(ct="");var ut=s.allowNegative,bt=s.thousandsGroupStyle;if(bt===void 0&&(bt="thousand"),a===""||a==="-")return a;var wt=getSeparators(s),Et=wt.thousandSeparator,Ft=wt.decimalSeparator,jt=et!==0&&a.indexOf(".")!==-1||et&&tt,Lt=splitDecimal(a,ut),Ut=Lt.beforeDecimal,Vt=Lt.afterDecimal,Yt=Lt.addNegation;return et!==void 0&&(Vt=limitToScale(Vt,et,!!tt)),Et&&(Ut=applyThousandSeparator(Ut,Et,bt)),at&&(Ut=at+Ut),ct&&(Vt=Vt+ct),Yt&&(Ut="-"+Ut),a=Ut+(jt&&Ft||"")+Vt,a}function getSeparators(a){var s=a.decimalSeparator;s===void 0&&(s=".");var et=a.thousandSeparator,tt=a.allowedDecimalSeparators;return et===!0&&(et=","),tt||(tt=[s,"."]),{decimalSeparator:s,thousandSeparator:et,allowedDecimalSeparators:tt}}function handleNegation(a,s){a===void 0&&(a="");var et=new RegExp("(-)"),tt=new RegExp("(-)(.)*(-)"),at=et.test(a),ct=tt.test(a);return a=a.replace(/-/g,""),at&&!ct&&s&&(a="-"+a),a}function getNumberRegex(a,s){return new RegExp("(^-)|[0-9]|"+escapeRegExp(a),"g")}function isNumericString(a,s,et){return a===""?!0:!(s!=null&&s.match(/\d/))&&!(et!=null&&et.match(/\d/))&&typeof a=="string"&&!isNaN(Number(a))}function removeFormatting(a,s,et){var tt;s===void 0&&(s=getDefaultChangeMeta(a));var at=et.allowNegative,ct=et.prefix;ct===void 0&&(ct="");var ut=et.suffix;ut===void 0&&(ut="");var bt=et.decimalScale,wt=s.from,Et=s.to,Ft=Et.start,jt=Et.end,Lt=getSeparators(et),Ut=Lt.allowedDecimalSeparators,Vt=Lt.decimalSeparator,Yt=a[jt]===Vt;if(charIsNumber(a)&&(a===ct||a===ut)&&s.lastValue==="")return a;if(jt-Ft===1&&Ut.indexOf(a[Ft])!==-1){var er=bt===0?"":Vt;a=a.substring(0,Ft)+er+a.substring(Ft+1,a.length)}var tr=function(sr,dr,gr){var ur=!1,_r=!1;ct.startsWith("-")?ur=!1:sr.startsWith("--")?(ur=!1,_r=!0):ut.startsWith("-")&&sr.length===ut.length?ur=!1:sr[0]==="-"&&(ur=!0);var hr=ur?1:0;return _r&&(hr=2),hr&&(sr=sr.substring(hr),dr-=hr,gr-=hr),{value:sr,start:dr,end:gr,hasNegation:ur}},nr=tr(a,Ft,jt),ir=nr.hasNegation;tt=nr,a=tt.value,Ft=tt.start,jt=tt.end;var lr=tr(s.lastValue,wt.start,wt.end),pr=lr.start,yr=lr.end,br=lr.value,xr=a.substring(Ft,jt);a.length&&br.length&&(pr>br.length-ut.length||yr<ct.length)&&!(xr&&ut.startsWith(xr))&&(a=br);var Er=0;a.startsWith(ct)?Er+=ct.length:Ft<ct.length&&(Er=Ft),a=a.substring(Er),jt-=Er;var $r=a.length,Sr=a.length-ut.length;a.endsWith(ut)?$r=Sr:(jt>Sr||jt>a.length-ut.length)&&($r=jt),a=a.substring(0,$r),a=handleNegation(ir?"-"+a:a,at),a=(a.match(getNumberRegex(Vt))||[]).join("");var fr=a.indexOf(Vt);a=a.replace(new RegExp(escapeRegExp(Vt),"g"),function(sr,dr){return dr===fr?".":""});var vr=splitDecimal(a,at),or=vr.beforeDecimal,rr=vr.afterDecimal,ar=vr.addNegation;return Et.end-Et.start<wt.end-wt.start&&or===""&&Yt&&!parseFloat(rr)&&(a=ar?"-":""),a}function getCaretBoundary(a,s){var et=s.prefix;et===void 0&&(et="");var tt=s.suffix;tt===void 0&&(tt="");var at=Array.from({length:a.length+1}).map(function(){return!0}),ct=a[0]==="-";at.fill(!1,0,et.length+(ct?1:0));var ut=a.length;return at.fill(!1,ut-tt.length+1,ut+1),at}function validateAndUpdateProps(a){var s=getSeparators(a),et=s.thousandSeparator,tt=s.decimalSeparator,at=a.prefix;at===void 0&&(at="");var ct=a.allowNegative;if(ct===void 0&&(ct=!0),et===tt)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+et+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+tt+` (default value for decimalSeparator is .)
     `);return at.startsWith("-")&&ct&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+at+`
      allowNegative: `+ct+`
    `),ct=!1),Object.assign(Object.assign({},a),{allowNegative:ct})}function useNumericFormat(a){a=validateAndUpdateProps(a),a.decimalSeparator,a.allowedDecimalSeparators,a.thousandsGroupStyle;var s=a.suffix,et=a.allowNegative,tt=a.allowLeadingZeros,at=a.onKeyDown;at===void 0&&(at=noop);var ct=a.onBlur;ct===void 0&&(ct=noop);var ut=a.thousandSeparator,bt=a.decimalScale,wt=a.fixedDecimalScale,Et=a.prefix;Et===void 0&&(Et="");var Ft=a.defaultValue,jt=a.value,Lt=a.valueIsNumericString,Ut=a.onValueChange,Vt=__rest(a,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),Yt=getSeparators(a),er=Yt.decimalSeparator,tr=Yt.allowedDecimalSeparators,nr=function(ar){return format(ar,a)},ir=function(ar,sr){return removeFormatting(ar,sr,a)},lr=isNil(jt)?Ft:jt,pr=Lt??isNumericString(lr,Et,s);isNil(jt)?isNil(Ft)||(pr=pr||typeof Ft=="number"):pr=pr||typeof jt=="number";var yr=function(ar){return isNotValidValue(ar)?ar:(typeof ar=="number"&&(ar=toNumericString(ar)),pr&&typeof bt=="number"?roundToPrecision(ar,bt,!!wt):ar)},br=useInternalValues(yr(jt),yr(Ft),!!pr,nr,ir,Ut),xr=br[0],Er=xr.numAsString,$r=xr.formattedValue,Sr=br[1],fr=function(ar){var sr=ar.target,dr=ar.key,gr=sr.selectionStart,ur=sr.selectionEnd,_r=sr.value;if(_r===void 0&&(_r=""),(dr==="Backspace"||dr==="Delete")&&ur<Et.length){ar.preventDefault();return}if(gr!==ur){at(ar);return}dr==="Backspace"&&_r[0]==="-"&&gr===Et.length+1&&et&&setCaretPosition(sr,1),bt&&wt&&(dr==="Backspace"&&_r[gr-1]===er?(setCaretPosition(sr,gr-1),ar.preventDefault()):dr==="Delete"&&_r[gr]===er&&ar.preventDefault()),tr!=null&&tr.includes(dr)&&_r[gr]===er&&setCaretPosition(sr,gr+1);var hr=ut===!0?",":ut;dr==="Backspace"&&_r[gr-1]===hr&&setCaretPosition(sr,gr-1),dr==="Delete"&&_r[gr]===hr&&setCaretPosition(sr,gr+1),at(ar)},vr=function(ar){var sr=Er;if(sr.match(/\d/g)||(sr=""),tt||(sr=fixLeadingZero(sr)),wt&&bt&&(sr=roundToPrecision(sr,bt,wt)),sr!==Er){var dr=format(sr,a);Sr({formattedValue:dr,value:sr,floatValue:parseFloat(sr)},{event:ar,source:SourceType.event})}ct(ar)},or=function(ar){return ar===er?!0:charIsNumber(ar)},rr=function(ar){var sr=ar.currentValue,dr=ar.lastValue,gr=ar.formattedValue,ur=ar.currentValueIndex,_r=ar.formattedValueIndex,hr=sr[ur],cr=gr[_r],wr=findChangeRange(dr,sr),Br=wr.to,Or=function(Rr){return ir(Rr).indexOf(".")+Et.length};return jt===0&&wt&&bt&&sr[Br.start]===er&&Or(sr)<ur&&Or(gr)>_r?!1:ur>=Br.start&&ur<Br.end&&tr&&tr.includes(hr)&&cr===er?!0:hr===cr};return Object.assign(Object.assign({},Vt),{value:$r,valueIsNumericString:!1,isValidInputCharacter:or,isCharacterSame:rr,onValueChange:Sr,format:nr,removeFormatting:ir,getCaretBoundary:function(ar){return getCaretBoundary(ar,a)},onKeyDown:fr,onBlur:vr})}function NumericFormat(a){var s=useNumericFormat(a);return React$2.createElement(NumberFormatBase,Object.assign({},s))}function NumericFormatInput(a){const{value:s,decimals:et,placeholder:tt,style:at,onChange:ct,maxValue:ut,minValue:bt=0,inputAllowed:wt=!0,prefix:Et,...Ft}=a,jt=Lt=>{var Vt;const Ut=(Vt=Lt==null?void 0:Lt.target)==null?void 0:Vt.value;if(Ut){if(Ut.startsWith(".")){ct(Ut.slice(1,Ut.length));return}try{if(d$2(Ut).eq(0)){ct("0");return}}catch(er){console.log("🚀 ~ handleChange ~ error:",er)}let Yt=Ut.replace(/^0+$/,"0").replace(/^0+(?!\.\d+$)/g,"").replace(/,/g,"")||"";if(Yt.startsWith("-")){ct("");return}Et&&(Yt=Yt.replace(Et,"")),ut!==void 0&&d$2(Yt).gt(ut)?Yt=ut.toString():bt!==void 0&&d$2(Yt).lt(bt)&&(Yt=bt.toString()),ct(String(Yt))}else ct("")};return jsxRuntimeExports.jsx(NumericFormat,{value:s,disabled:!wt,placeholder:tt,decimalScale:et,prefix:Et,allowLeadingZeros:!0,thousandSeparator:",",onMouseDown:Lt=>{cancelBubble(Lt)},isAllowed:Lt=>!Lt.value.startsWith("-"),onChange:jt,...Ft,style:{...at,cursor:wt?"text":"not-allowed",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontFeatureSettings:"tnum",fontVariant:"tabular-nums"}})}const GhostLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA6RJREFUWEfNl2von2MYxz/fbdnCvBA1ipKMcopFEXOYGCWxYmi1N8KmyCEph/bCqRSWkawZy8ihkY1lSu3NbHthYjO1lReIlpkmYw5fz7Wu5+/e7//8fr9nz2juV7/fdd/X9/re132dHtFx2Z4AzEn1ZyX92gVKw5Rsj5H0V+8526cAs1O+WNLnw7Ca9gcSsH0yMBdYK+mlEsD26cCslC2R9GnP/pXAScAySVv6kRtGYCZwUSovlLS+BhpEwPapwIw8u07Se10JTAbuSuUfgQcl7Y7//QjYPgi4DTiseJ6vOhFIQzcDZybAcknvpvx44NaUPydpa8rDYxekfJOk1wfFRpsgPAKYB4wDdki6Nw2NKZ7nozpQbYfHJgJ/AM9I2tGKQLr0DCDebFNPQE0DrgXWSFo8CND29cCJwEpJH/fgHFMFZQTvF7XH9nggUg2IKB+bCmuBpZK2FUE3oU2uJ9b4ylO7Ct2IhwuBE1IWaf10eG3kCWzHW9dvF+d+rxRekfRBl/wujEf8TC0uF1sbJa2MH3vFgO1zgRuAwxMg3nF2UyFqQ8p23Pym4uxOYLWkzbVsVBDaHg9EEbkM2CBpQRtjTWfyOa4GJgGfAOslhWdH1tAs6Gq8rd6BJ2D7YOC0zPOa+E8ZKKOaUNub9aRfXPQoIDpovQL7W9meX6XgcQ3AL0t6o4vBXh3bUV/OasD64X9B4MA+wb/h4v3B6JsFtsdK+nN/wNvoNhWiiNQYRK6rhorPgPu6ErEd+K8CEYTRa56S9EvfQmT7YuAW4Mji0ExJ37e5TUP0H1KV4m+AaHax4vcDkt4cVYptR5+fXoBEyYxBY1kX47WO7egFjwBR4uv1oqTb40/djqMNR3eKoSPW6jT+XQE0TlI0p4HLdmBMkvR1oXss8HDVD65K2TZJMVH90w1tnwOcB6yStKG0YjsGzHuAtyU9NoiB7aXZ+++XtKgHJ/AjvmJYWb4XgX6gtqOEvlW5MYbN7ZIujbPZ6epW+0K07Mgc4EsgastvwPmlJ5psDG1Gth8HYiSL9ZqkJ5LA2cCSlM+StC7ldwN3pnyFpHIeGMVh2HfBlKqJPJ9a24FrJP2chi6PtMq9OyS9n/K4fcTQ0bk3Q9Kafh4eRiDePepBrIckrSgCq5FAkoghpB5k3qnSuB7f99kDEZiPVrNijN0xmo8s230JJIknqwn7ivhIkbSqkwf6KaWBS4pbzpX04aDz/wWBQ2NqTuAb69jYVxJ/A8eXcdbPzepuAAAAAElFTkSuQmCC",PrimaryLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAbKADAAQAAAABAAAAbAAAAAD529oeAAAJzUlEQVR4Ae1dz4sURxj9undNVkLMikSIoJ5zCYSQy6oQFQNBE5ND9p6jxvwAYf+IgBCj0WPu5pCYuJeMPwLqXiQEctmzK6wgSH4RNHHdzns1U2PP7MzO7E5V12uYRu2enpn6Xr3X1V399fuczGq+XPit2P70sR0tMjuCruyxwnZZhr9cClvG9jK2lrLCGhNTNn/ytex3915N/8lqitvO/1J8sLpqnxSFHUAfJofsx0qW2c08t3On3si+G/I7Uh+rnWDn7hT7CrMvINTMKExCuAV0fu6TN7Pbo7RT9XdrI9ilopi4/4udsVX7LChJuZ195Q07PZtlT4O2G6mxWgj2za/F9F8rdgnXJF6nwi+ZNbZN2uxHr2d/hG88bIvygrXEWoBYr4bteldrmS1CtBl10fIu2FIveRpsjay4YrHXOCAYizGlSOgCIy2Yu2bFOg12EeFeIpaL2es9kX2yp0TOBlcLu5WCpzyz/aqzR9kRxql7CrEYM2XsQX2WFIw3xaPeZw3q+HrvMzYxrPeZVO9JCsYMRipCfFwFDB5LeS13DWNu8MljewCQw6abyv0Jub2yZcp2quUe5UbYk3/tmIBYFH6yhSXkQTByW3KCYcjHyWZsgiolLB6+nGAAttuDE1grYXF06AnG51kqixKWFid6gvmHjwqiKWFRFQz3QLhv1ViUsHhG5EYYLvT3PbjUayUsngs5wVoeDI8v7brpB0mLoSu6nmAwzHRhTPlSCYvjQU4wXMCuplSoHJtOq/JrhW05wbY8b1dAzIoAOSu0xQng6IAgJxhzd7SidaBM8IIY1PKIpEFOMAcKvsEEGnWEpHexY4fIC8xcNZev7hS3Uz0To2fx0zezfYrMSI4wEoUjaS4VYSljD+qzrGDOUwGT56AOBH8fMVX9HOyrrGAER0cuhlp1U2vEcjEZXHSRFoz2aTpyIdpidP6aRtJZdcu2tGAUiU5cOnKjjrSmVVve9Us+ZGeJBFdexsUQTTZqI5gXb1xu5Jmo2Xpc0FczwTxcZ4uD0wqnCpp3duPxZ6+S2XtIKjeYp1RMN/m+DLPe8CnxxJViuz21oyQIdcV7kNGmB8P7MJaxbxn7lkiQTdj8xWP1rikehsTyZ27eLbb/a6i55gFUoOaa3HirAWuuzdVdL4G/xvNm8wf2boyfoQX7+EfYp+nIzewAUkZDmTyR4lkB6JsZ8nJfv1vPmuKyGOttX7uHmuunm+Mnn7Bzh3cPx89AwU5dRhUJa4ptxJpiswXcQ8ydP16vmuL1ROJ71+8W+/As6AscmCPVXGMgLGAUzB3auz4/fQXjNPrnH+wMhApaU4yAZ996rz41xf0EK8DPtSU7g5KooPyg1Ons4T12OutTc91TsM9vFNP//W3QLI4LF6fKxnMv2uyXB/VrinsJduP3YvrJX3Frrrdss9mD29fys0awllgLECtqmSpEW4RoM3UTjWKt/GkLOPPE5cdscfIlm+kWrSM1xdNga2RFBcOjlgcEYzFmr6NYcR9PgxxZscVy/OCAcLG6+OkQzF2zIp0GewnAUy5j9npPcR+vWZhcVFesgVguZomM9imRs0H8zyJJaooxxParzx7dbDBRzfUkaq797LE9wjh1LwlZ6WbK2MN21E3dh/1w4M+VYzvB3E3xiPdZo2DkPR4xjNJGzO/ypnjk+6xRAOIez2FAG04wl8EYpcEA31XA0K8bLoPR782K9nsMGXOD2ao9wARgqHRTLHxMYxW57VTLPTI3+Ng0+Jky25nnq3YstVg8CIiBWGIdEJtt95Hp8EMs4KjCaeoA1pSweKiYRlc3jfdB+6yJhdcwpTpeJSxN2gohfoAlbz3P6qNptbuVsJR67p/1lXYl29zFESYFKBkV/QL7h4/93q9yP7DkuAfCH41FCUubEaGaayhV4PHLuKa4LU7vDZmaa8C7n9OD0Rtn9XuVsJR6L8MPMC1z0rFUApd0UwlLm4hMhx/YCJZyZBiutsEl3sA1rLrChyH7Ckwy/ODy1chXc7vCtNCQ+KN9zGGALS5agE02vNV0+KEtLne5O1jRNtmfcF8DBrU8IjvnfIMi/BCLy9bTNxiO+c21pIChH3L6Bvu9V9V+jwGnxeZy8jJqihM9EwOIhQvHNWuKPT8/3S1uJ3smBs/i23ub/LgRRlDYSFZTnDK2F2TQmibPQZ+J9X45dlsweipwpFdeU8yY6n4OCkFPBU2esUTp1y5jej8HP9MWjC/oyMVsrbKpNWMxJmPXYaEjF/dClfHDWC5miZwOwVjfS0cuiIxeU8wYjKVeU1ziymifpiMXZ4X4/CCGi9Vl2e4QjODoxKUjN+ZIY9t1dP2SHzpx6ciNOtLATy/XL+PjYOm90JE7LobozQ33ShVDlGGOy43KbKzdlik36oY2LujrZqTztUxBXycsM9ri6G5qGWZ2tx7r+6fWrmQW37mHi2ODeUrFdFN3n0K+pi2O7iZca1gyS49Kr5JZV3PNPGW0ktmQnQrZ1tEL8A3mdhQ/bnPE11wjY+MOIJDWrrnGf6fXmFq1+fmTG6spDok1RFt9Jx0hGo/ZxqGLqCku3K8gHUCcYU2wfCpxEzej566fGK6mOGYfNtN27QQ7eLHYh1NNkJprzJHnbpxYv6Z4M6TG/E5tBPvwUjHx8GGcmuIdO+z0t7Pj33EOdqC9/00x/cfjuDXF01M2+/1Ha2uKg3UiUEPyI8yJ9cgW0N/YZbyL01ttRl20NampQAdCkGZ4GnQjK75YxPsqYzFmEPCRGpEWjNcsTDCqK0ZALBczEtkhmpU9JXI2iBKkWyE6udE2kJzerzp71B1hmLpvlOhgn08Ze0AnJAXjTXEqfwn5YmxiGMBdkrclBWtlMJIQ4oMqYPBYymu5axhzg/+gphggh003lfsTcnvlBdQUq+Ue5UbYo0znd5xbWEIeBCO3JScYrh/VTeMH0KeExUNVFEymzhmCyWCRFUypzlkJi6xgOKr902uPMdlaCYsnQe6UiGdU4ElkUcLSokROMJyGZGqKlbD4Q1hOMKU6ZyUssoLhqF7y4FKvlbB4LuRGGDLlMjXFdFp5olTWcoJtLXR+x5m2OBWhPA45wVq5u/Q117DDqeURKZqcYA4UfIP+iEq1pncxVez14spl6z3YgxfS1lzfOKlZcy05wpxoMHl68Spfp4w9oLOygtFTkaqmWNXPQS1lBSM4OnKjVjoySHlB5aOLWd4nti17DfM8jY2knonmWnqEESKduHTkRh1pGFl1cP2SD3nBvGgv77B3YlzT2CbbVrdokwcu8qfEJsxn/47LjZ5xUautcUFfreR6Bpa2OLqb8NTzCP66mmv/pBinj2bJLGqusd1gnlIx3fSsN4O3/geTqWMhW4ldAwAAAABJRU5ErkJggg==",spin=keyframes$1`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`,imageMap={primary:PrimaryLoading,ghost:GhostLoading};function Spinner({size:a="20px",variant:s="primary",wrapStyle:et={}}){return jsxRuntimeExports.jsx(Center,{w:"100%",h:"100%",...et,children:jsxRuntimeExports.jsx(Image$1,{boxSize:a,src:imageMap[s],alt:"Loading",animation:`${spin} 1s linear infinite`})})}const alertTheme={baseStyle:{zIndex:999999,button:{color:"orange"},container:{zIndex:999999,bg:"none"},icon:{color:"text_paragraph"},spinner:{color:"text_paragraph"},title:{color:"text_caption",fontSize:"md"},description:{color:"text_paragraph",fontSize:"sm"}},variants:{subtle:{}},defaultProps:{variant:"subtle"}};function defineStyle(a){return a}function defineStyleConfig(a){return a}const baseStyle$1={fontWeight:"normal",borderRadius:"12px",fontFamily:"Inter",minW:"unset !important",_focusVisible:{boxShadow:"none",outline:"none"}},variants={solid:{bg:"primary",minW:"unset !important",_hover:{bg:{base:"",lg:"primary_hover"},_disabled:{bg:"primary_disabled",color:"primary_gray"}},_active:{bg:"primary_hover"},_disabled:{opacity:1,bg:"primary_disabled",color:"primary_gray",_hover:{bg:"unset",color:"unset",opacity:1}},color:"block_color"},outline:{bg:"button_outline_bg",border:"1px solid ",borderColor:"border !important",color:"primary",minW:"unset !important",_hover:{borderColor:"border",bg:{base:"",lg:"button_outline_hov_bg"},color:{base:"",lg:"primary"}},_active:{borderColor:"border",bg:"button_outline_hov_bg",color:"primary"},_disabled:{opacity:1,bg:"button_outline_disabled_bg",color:"primary_gray",border:"1px solid",borderColor:"border",_hover:{opacity:1,color:"primary_gray",bg:"button_outline_disabled_bg !important"}}},ghost:{bg:"button_ghost_bg !important",borderRadius:"8px",border:"1px solid",borderColor:"border !important",color:"primary_gray",minW:"unset !important",_hover:{border:{base:"",lg:"1px solid"},borderColor:{base:"",lg:"border !important"},bg:{base:"",lg:"button_ghost_hov_bg !important"},color:"primary_gray"},_active:{border:"1px solid",borderColor:"border !important",bg:"button_ghost_hov_bg !important",color:"primary_gray"},_disabled:{opacity:1,border:"1px solid",borderColor:"border !important",bg:"button_ghost_disabled_bg !important",color:"primary_gray",_hover:{opacity:1,bg:"button_ghost_disabled_bg !important",color:"primary_gray"}}}},buttonTheme={baseStyle:baseStyle$1,variants,defaultProps:{size:"md",variant:"solid"},sizes:{lg:{fontWeight:"550",height:"48px"},md:{fontWeight:"400"}}},cardTheme={baseStyle:{container:{borderRadius:"16px",paddingLeft:"16px",paddingRight:"16px",paddingTop:"20px",paddingBottom:"20px"},body:{color:"text_paragraph",padding:"0px,0px,0px,0px"},header:{color:"text_caption"},footer:{}},variants:{filled:{container:{bg:"card_bg"}},outline:{container:{bg:"card_bg"}}},defaultProps:{variant:"filled"}},checkboxTheme={baseStyle:{icon:{},container:{},control:{bg:"checked_bg",border:"0px",borderRadius:"4px",color:"primary",_hover:{bg:"checked_bg",color:"primary"},_checked:{bg:"checked_bg",color:"primary"}},label:{color:"text_caption",_checked:{color:"primary"}}}},drawerTheme={baseStyle:{overlay:{bg:"block_color_opacity.80",backdropFilter:"blur(10px)"},dialogContainer:{padding:{md:"0 8px",lg:"0px"}},dialog:{bg:"block_color_opacity.93",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)"},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},baseStyle={fontFamily:"Inter"},formTheme={baseStyle},headingTheme={baseStyle:{fontFamily:"Inter",color:"text_caption"}},inputTheme={baseStyle:{addon:{"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},field:{fontFamily:"Inter","::placeholder":{color:"text_paragraph"},_light:{"::placeholder":{color:"text_paragraph"}}}},variants:{unstyled:{field:{color:"text_caption",fontSize:"2xl",_disabled:{color:"text_paragraph",opacity:1}},"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},outline:{field:{bg:"bg_secondary",color:"text_caption",border:"1px",borderColor:"border",borderRadius:"16px",fontSize:"2xl",height:"52px",width:"100%",_hover:{borderColor:"border",bg:"bg_secondary"},"::placeholder":{color:"text_paragraph"},_focusVisible:{borderColor:"primary",boxShadow:"0px 1px 0px 0px primary"}},addon:{height:"100%"}}},defaultProps:{variant:"unstyled"}},menuTheme={baseStyle:{button:{bg:"bg_secondary",color:"text_paragraph"},list:{bg:"bg_secondary",p:"16px",borderRadius:"12px",backdropFilter:"blur(20px)",border:"1px solid",borderColor:"border",boxShadow:"unset !important"},item:{bg:"none",color:"text_paragraph",fontSize:"sm"},groupTitle:{},icon:{},command:{},divider:{}}},modalTheme={baseStyle:{overlay:{bg:"rgba(0,0,0,0.8)"},dialogContainer:{top:"28px",bottom:"28px",overflowY:"scroll",padding:{base:"0 8px 56px",lg:"0px 0 56px"}},dialog:{bg:"background",border:"1px solid",borderColor:"border",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)",transition:{duration:.1}},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},popoverTheme={baseStyle:{popper:{bg:"transparent",color:"text_paragraph",borderRadius:"0px",border:"0px solid",borderColor:"border",_focus:{outline:"none !important",boxShadow:"unset !important"}},content:{bg:"bg_secondary",border:"1px solid",borderColor:"border",borderRadius:"8px",_focus:{outline:"unset",boxShadow:"unset !important"}},header:{color:"text_caption",fontSize:"12px"},body:{color:"text_paragraph",borderRadius:"8px"},footer:{color:"text_paragraph"},closeButton:{color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"}}}},progressTheme={baseStyle:{track:{borderRadius:"8px",bg:"transparent",border:"0px",borderColor:"none"},filledTrack:{bg:"process_bg",borderRadius:"8px"}},defaultProps:{}},$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),skeletonTheme={baseStyle:{[$startColor.variable]:"var(--chakra-colors-loading_gradient_start)",[$endColor.variable]:"var(--chakra-colors-loading_gradient_end)",background:"background",width:"96px",height:"16px",borderRadius:"4px",opacity:"0.5"}},sliderTheme={baseStyle:{container:{},track:{bg:"bg_four",h:"4px",borderRadius:"4px"},thumb:{w:"12px",h:"12px",bg:"primary",borderRadius:"10px",border:"1px",borderColor:"bg_four",position:"relative",_before:{content:"''",width:"6px",height:"6px",borderRadius:"100%",background:"bg_four",position:"absolute",left:"50%",top:"50%",marginLeft:"-3px",marginTop:"-3px"},_focusVisible:{boxShadow:"sm"}},filledTrack:{bg:"primary"}},defaultProps:{colorScheme:"primary"}},stepperTheme={baseStyle:{stepper:{},title:{fontSize:"14px",color:"text_caption",opacity:.5,"&[data-status=complete]":{color:"primary",opacity:1},"&[data-status=active]":{color:"primary",opacity:1}},description:{},number:{},step:{minH:"66px",display:"flex",justifyContent:"flex-start",alignItems:"center"},icon:{},indicator:{w:"28px",h:"28px",borderRadius:"8px","&[data-status=complete]":{bg:"none",borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=active]":{borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=incomplete]":{bg:"none",borderWidth:"1px",borderColor:"border",color:"#FFCA680"}},separator:{marginTop:"14px","&[data-orientation=vertical]":{w:"1px",h:"32px",bg:"primary",maxH:"auto"}}}},switchTheme={baseStyle:{thumb:{w:"14px",h:"14px",borderRadius:"7px",bg:"switch_inactive_bg",_checked:{bg:"switch_active_bg"}},track:{align:"center",w:"28px",h:"14px",bg:"block_color",p:"1px",border:"1px solid",borderRadius:"9px",borderColor:"border !important",_checked:{bg:"aggregator_switch_track_active"},_focusVisible:{boxShadow:"unset !important"}}}},tableTheme={baseStyle:{fontFamily:"Inter"},sizes:{sm:{th:{fontSize:"12px"},td:{fontSize:"14px"}}},variants:{unstyled:{table:{},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",textTransform:"none",fontSize:"14px",p:"8px !important",_first:{pl:"16px !important"},_last:{textAlign:"right",pr:"16px !important"}},tbody:{tr:{td:{textAlign:"right",color:"text_caption",fontFamily:"Inter",p:"8px !important",_first:{pl:"16px !important",textAlign:"left",borderRadius:"12px 0 0 12px"},_last:{pr:"16px !important",borderRadius:"0 12px  12px 0"}},_hover:{bg:"primary_opacity.10",borderRadius:"12px",backdropFilter:"blur(10px)"}}}},simple:{table:{borderCollapse:"separate",borderSpacing:"0px 4px"},th:{fontFamily:"Inter",textTransform:"none",fontSize:"14px",fontWeight:"400",borderBottom:"0px",padding:"0px"},tr:{_last:{td:{border:"none"}}},td:{fontFamily:"Inter",borderColor:"border",padding:"16px 0px"}},simple_list:{table:{borderCollapse:"separate",borderSpacing:"0px 0px"},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",fontSize:"14px",textTransform:"none",textAlign:"right",padding:"12px 8px",_first:{pl:"16px",textAlign:"left"},_last:{textAlign:"right",pr:"16px"}},tbody:{tr:{td:{fontFamily:"Inter",bg:"bg_secondary",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"border",textAlign:"right",padding:"16px 8px",_first:{pl:"16px",borderRadius:"16px 0 0 16px",borderLeft:"1px solid",borderColor:"border",textAlign:"left"},_last:{pr:"16px",borderRadius:"0 16px  16px 0",borderRight:"1px solid",borderColor:"border"}},_hover:{bg:"primary_opacity.10",borderRadius:"16px",backdropFilter:"blur(10px)"}}}},striped:{table:{},th:{fontFamily:"Inter",color:"text_paragraph",textTransform:"none",padding:"16px",border:"none"},td:{fontFamily:"Inter",color:"text_caption",border:"none !important",padding:"16px"}}},defaultProps:{variant:"unstyled"}},tabsTheme={variants:{}},textTheme={baseStyle:{fontSize:"sm",color:"text_paragraph",fontFamily:"Inter"}},tooltipTheme={baseStyle:{bg:"bg_secondary",color:"text_paragraph",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"9px 12px",fontSize:"12px",boxShadow:"unset"}},components={Button:buttonTheme,Switch:switchTheme,Input:inputTheme,Text:textTheme,Heading:headingTheme,Checkbox:checkboxTheme,Progress:progressTheme,Slider:sliderTheme,Card:cardTheme,Menu:menuTheme,Modal:modalTheme,Tooltip:tooltipTheme,Popover:popoverTheme,Stepper:stepperTheme,Skeleton:skeletonTheme,Table:tableTheme,Alert:alertTheme,Drawer:drawerTheme,FormControl:formTheme,Tabs:tabsTheme},typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},foundations={typography},colors={background:"#161616",bg_primary:"#161616",bg_secondary:"#0F0F0F",bg_third:"#191919",bg_four:"#202224",bg_fifth:"#1A1D21",bg_six:"#191B1E",bg_seven:"#171717",bg_eight:"rgba(114,193,247,0.1)",menu_item_bg:"#181818",menu_item_hover_bg:"#1f1f1f",block_color:"#000000",text_caption:"#FFFFFF",text_paragraph:"#909CA4",text_highlight:"#72C1F7",top_coin_address_text:"#86FFE4",primary:"#75C8FF",primary_gray:"#7F98A7",primary_green:"#68FFD8",primary_yellow:"#FFCA68",primary_red:"#FF5073",primary_blue:"#62AADB",light_coral:"#AE6161",quote_green:"#027658",text_green:"#AAFFC9",primary_hover:"#8DD2FF",primary_disabled:"#25303A",button_outline_bg:"#0F0F0F",button_outline_hov_bg:"rgba(114,193,247,0.1)",button_outline_disabled_bg:"#25303A",button_ghost_bg:"#1A1C25",button_ghost_hov_bg:"#242733",button_ghost_disabled_bg:"#25303A",switch_active_bg:"#72C1F7",switch_inactive_bg:"#768691",switch_thumb:"#FFFFFF",aggregator_switch:"#222530",aggregator_switch_track_active:"#1B2E3B",border:"#2A3238",button_outline_border:"#00334C",input_error_border:"#FC8181",h5_route_border:"#8BABBE",h5_router_percentage_bg:"#22333D",token_inactive_border:"#2b3239",token_active_border:"#4F86AB",trade_input_border_light:"#344E61",border_secondary:"#23252C",checked_bg:"#1A1C25",process_bg_gray:"#2A3238",process_bg:"#3C60F7",process_bg_value:"#2CDAB0",card_bg:"#192128",card_bg_hover:"#1D262E",form_card_bg:"#1D1F21",input_bg:"#141414",input_disabled:"#121719",launch_title:"#C3F8E6",scroll_header_bg:"linear-gradient( 270deg, #003D4C 0%, #170033 100%)",scroll_header_border:"linear-gradient( 270deg, #005B99 0%, #480077 100%)",ranking_table_bg:"linear-gradient( 0deg, #151A29 0%, #0F0F0F 100%)",market_table_bg:"linear-gradient( 0deg, #152429 0%, #0F0F0F 100%)",status_text:"linear-gradient(to left, #4CB6FF 0%, #7CFFD0 100%)",ranking_list_h5_bg:"linear-gradient( 180deg, #0F0F0F 100%, #151A29 0%)",bubble_bg_created:"#003254",bubble_bg_complete:"linear-gradient( 270deg, #055C45 0%, #002E73 100%)",bubble_bg_buy:"#006147",bubble_bg_sell:"#46121C",plus_mode_color:"linear-gradient(90deg, #c7f9d4, #eff7d0 48%, #f8beff)",beta_tag_color:"linear-gradient( 90deg, #C6F9D4 5%, #FFFDB3 30%, #D5ECFA 66%, #FBD7FF 87%, #F7B8FF 100%)",beta_tag_border_color:"linear-gradient(90deg, rgba(198, 249, 212, 1), rgba(255, 253, 179, 1), rgba(213, 236, 250, 1), rgba(251, 215, 255, 1), rgba(247, 184, 255, 1)) 1 1",aggregator_box_shadow:"linear-gradient(180deg, rgba(22,22,22,0) 0%, #161616 100%)",circle_progress_color:"#72C1F7",circle_progress_track_color:"#333333",crop_slider_tracker:"#1F272D",status_tag_bg:"#313336",progress_track:"linear-gradient( 270deg, #22A5FF 0%, #7CFFD0 100%)",skeleton_light:"linear-gradient( 270deg, #606060 0%, #313131 100%)",pending_yield_bg:"#192128",position_status_bg:"rgba(118, 200, 255, 0.1)",position_farms_bg:"rgba(203, 150, 255, 0.2)",position_farms_color:"rgba(203, 150, 255, 1)",modal_bg:"rgba(32, 32, 32, 0.8)",primary_opacity:{10:"rgba(117,200,255,0.1)",50:"rgba(117,200,255,0.5)",60:"rgba(117,200,255,0.6)"},primary_green_opacity:{10:"rgba(104,255,216,0.1)"},primary_yellow_opacity:{10:"rgba(255,202,104,0.1)"},primary_red_bg:"rgba(63, 35, 40,0.8)",primary_red_opacity:{10:"rgba(255,80,115,0.1)"},text_paragraph_opacity:{20:"rgba(144,156,164,0.2)"},text_highlight_opacity:{10:"rgba(114,193,247,0.1)",20:"rgba(114,193,247,0.2)",30:"rgba(114,193,247,0.3)"},block_color_opacity:{4:"rgba(0,0,0,0.04)",10:"rgba(0,0,0,0.1)",50:"rgba(0,0,0,0.5)",93:"rgba(0,0,0,0.93)",80:"rgba(0,0,0,0.8)"},white_color_opacity:{10:"rgba(255,255,255,0.1)",50:"rgba(255,255,255,0.5)",80:"rgba(255,255,255,0.8)"},frosted_glass:{1:"rgba(59,59,59,0.1)",5:"rgba(218,218,218,0.05)"},swap_bg_primary:"#1B242C",swap_bg_secondary:"#161A1E",swap_card_bg:"#161A1E",swap_card_bg_2:"rgba(114, 193, 247, 0.05)",swap_input_bg:"rgba(15,15,15,0.4)",swap_border:"rgba(114, 193, 247, 0.2)",text_haedal:"#C4A992"},styles={global:{"@font-face":{fontFamily:"Inter",fontWeight:"normal",fontStyle:"normal",fontDisplay:"swap"},"html body":{width:"100%",background:"background",fontFamily:"Inter"},body:{lineHeight:1},label:{fontFamily:"Inter"},button:{fontFamily:"Inter",_focusVisible:{boxShadow:"none",outline:"none"}},input:{fontFamily:"Inter",caretColor:"var(--chakra-colors-text_caption) !important"},".recharts-cartesian-axis-line":{display:"none"},".recharts-sector:focus":{outline:"none !important"},".recharts-cartesian-axis-ticks":{marginTop:"4px"},".chakra-input__right-element":{height:"100% !important"},".chakra-toast__inner":{button:{color:"text_paragraph",_hover:{color:"text_caption"}}},".exchange":{w:"40px",h:"44px",cursor:"pointer",bgSize:"100% auto",bgRepeat:"no-repeat",bgPosition:"center center",mt:"-20px",mb:"-2px",zIndex:9},".swap-exchange":{bgImage:'url("/images/btn_swap@2x.png")',_hover:{bgImage:'url("/images/btn_swap_hov@2x.png")'}},".liquidity-add":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add_hov@2x.png")'}},".position-img":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add@2x.png")'}},".confirm-order-img":{w:"30px",h:"33px",bgImage:'url("/images/btn_down@2x.png")',_hover:{bgImage:'url("/images/btn_down@2x.png")'}},".aprTooltip_btn":{display:"flex",alignItems:"center"},".delimiter":{fontFamily:"Inter",fontWeight:"normal"},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},".loading_animation":{animation:"rotate 1s linear infinite"},".price-historical-selection":{display:"none !important"},".price-historical-y-axis text":{display:"none"},".price-historical-y-axis line":{display:"none"},".price-historical-y-axis path":{display:"none"},".price-historical-x-axis line":{display:"none"},".price-historical-x-axis path":{display:"none"}}},config$1={initialColorMode:"dark",useSystemColorMode:!1},textStyles={caption:{fontWeight:400,lineHeight:"100%",color:"text_caption",fontFamily:"Inter"},paragraph:{fontWeight:400,lineHeight:"100%",color:"text_paragraph",fontFamily:"Inter"}},breakpoints={base:"0px",md:"500px",lg:"810px",xl:"1200px","2xl":"2500px"},theme=extendTheme({config:config$1,styles,textStyles,breakpoints,...foundations,components,semanticTokens:{colors},shadows:{trade_icon_shadow:"inset 0px 0px 6px 0px rgba(255,255,255,0.2)",aggregator_shadow:"inset 0px 0px 10px 0px rgba(0,152,255,0.2)"}});function TokenAvatar({coin_type:a,size:s="38px",src:et,is_trusted:tt=!0,variant:at,style:ct={}}){return jsxRuntimeExports.jsx(Box,{w:s,h:s,minW:s,minH:s,maxW:s,maxH:s,borderRadius:"50%",children:jsxRuntimeExports.jsx(SingleCoinImage,{variant:at,imageUrl:et,w:s,h:s,borderRadius:"50%",coinType:a,p:"4px",imgBoxStyle:ct})})}const TokenSelectModal$1=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0));function CoinSelect$1({value:a,onSelect:s,loading:et,currentCoinKey:tt,whiteTokenList:at,tokenStyle:ct={},tokenSize:ut="38px",symbolStyle:bt={},wrapStyle:wt={},isShowLabelTab:Et=!0,isShowCollectListBox:Ft=!0,isShowTokenListTab:jt=!0,disabled:Lt=!1,openSelectTokenModal:Ut,selectModalCallback:Vt}){const{isOpen:Yt,onOpen:er,onClose:tr}=useDisclosure(),[nr,ir]=reactExports.useState(!1),{pathname:lr}=useLocation();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{w:"100%",variant:"unstyled",display:"flex",alignItems:"center",gap:"8px",onClick:()=>{Ut?Ut():er(),Vt&&Vt(!0)},cursor:"pointer",onMouseEnter:()=>ir(!0),onMouseLeave:()=>ir(!1),isDisabled:Lt,...wt,children:[et?jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SkeletonCircle,{w:ut,h:ut}),jsxRuntimeExports.jsx(Skeleton,{h:bt.fontSize||"16px"})]}):a?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TokenAvatar,{variant:"border",src:(a==null?void 0:a.logo_url)||"",is_trusted:a==null?void 0:a.is_trusted,coin_type:a==null?void 0:a.coin_type,size:ut,style:nr?{...ct,borderColor:"token_active_border",boxShadow:"0px 0px 6px 0px #0067AD"}:ct}),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",...bt,children:textEllipses((a==null?void 0:a.symbol)||"",10)})]}):jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",fontWeight:"600",children:"Select a token"}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",svgFill:nr?"text_caption":"text_paragraph"})]}),jsxRuntimeExports.jsx(TokenSelectModal$1,{tokenInfo:a,lastSelectedToken:(a==null?void 0:a.coin_type)||"",isOpen:Yt,currentCoinKey:tt,whiteTokenList:at,isShowLabelTab:Et,isShowTokenListTab:jt&&lr!=="/dca",isShowCollectListBox:Ft&&lr!=="/dca",onSelectToken:pr=>{s(pr)},onClose:()=>{tr(),Vt&&Vt(!1)}})]})}const CoinSelect$2=reactExports.memo(CoinSelect$1),CoinSelect$3=Object.freeze(Object.defineProperty({__proto__:null,default:CoinSelect$2},Symbol.toStringTag,{value:"Module"})),uploadFilePath="/api/v1/upload";function useFileUpload(){const[a,s]=reactExports.useState(!1);return{doUploadFile:async tt=>{const at=new FormData;at.append("file",tt);try{s(!0);const ct=`${envConfigs$1.pump_api.api_primary_domain}${uploadFilePath}`,ut=await fetch(ct,{method:"POST",body:at});if(!ut.ok){const{error:wt}=await ut.json();throw wt?new Error(wt):new Error("Upload failed")}const bt=await ut.json();return console.log("🚀 ~ file: useFileUpload.tsx:26 ~ doUploadFile ~ result:",bt),bt}catch(ct){throw console.log("🚀 ~ file: useFileUpload.tsx:29 ~ doUploadFile ~ error:",ct.message),new Error(ct.message)}finally{s(!1)}},uploadLoading:a}}const store$b=(a,s)=>({currentCrypto:"",setCurrentCrypto:et=>{a(()=>({currentCrypto:et}))},isShowAlchemyCrypto:!1,setIsShowAlchemyCrypto:et=>{a(()=>({isShowAlchemyCrypto:et}))},isShowKodoCrypto:!1,setIsShowKodoCrypto:et=>{a(()=>({isShowKodoCrypto:et}))}}),useCryptoStore=create$3(store$b),store$a=(a,s)=>({globalLoading:!0,setGlobalLoading:et=>{a(()=>({globalLoading:et}))},isScrollTop:!1,setIsScrollTop:et=>{a(()=>({isScrollTop:et}))}});create$3(store$a);const store$9=(a,s)=>({notifiAlerts:[],setNotifiAlerts:et=>{a(()=>({notifiAlerts:et}))},notifiSourceGroups:[],setNotifiSourceGroups:et=>{a(()=>({notifiSourceGroups:et}))},notifiSources:[],setNotifiSources:et=>{a(()=>({notifiSources:et}))},isChecked:!1,setIsChecked:et=>{a(()=>({isChecked:et}))},isShowNotifi:!1,setIsShowNotifi:et=>{a(()=>({isShowNotifi:et}))},notifiSubscriptionLoading:!1,setNotifiSubscriptionLoading:et=>{a(()=>({notifiSubscriptionLoading:et}))},notifiLoginLoading:!1,setNotifiLoginLoading:et=>{a(()=>({notifiLoginLoading:et}))},notifiClient:{},setNotifiClient:et=>{a(()=>({notifiClient:et}))},notifiStatus:"",setNotifiStatus:et=>{a(()=>({notifiStatus:et}))},defaultTargetGroup:[],setDefaultTargetGroup:et=>{a(()=>({defaultTargetGroup:et}))},notifiAccountAddress:"",setNotifiAccountAddress:et=>{a(()=>({notifiAccountAddress:et}))},emailTarget:{},setEmailTarget:et=>{a(()=>({emailTarget:et}))},telegramTarget:{},setTelegramTarget:et=>{a(()=>({telegramTarget:et}))},smsTarget:{},setSmsTarget:et=>{a(()=>({smsTarget:et}))}}),useNotifiStore=create$3(store$9);LocalStorageService.getItem(NOTIFI_SIGNATURE).then(a=>{});const useToastStore=create$3((a,s)=>({toastId:0,accumulateToastId:()=>{const et=s().toastId+1;return a(()=>({toastId:et})),et}})),store$8=(a,s)=>({requestTokenList:[],addRequestTokenList:et=>{a(()=>({requestTokenList:[...s().requestTokenList,et]}))},setToken:et=>{const{tokenMap:tt,requestTokenList:at}=s(),ct=new Map(tt);ct.set(extractStructTagFromType$1(et.coin_type).full_address,et);const ut=at.filter(bt=>bt!==et.coin_type);a(()=>({tokenMap:ct,requestTokenList:[...ut]})),LocalStorageService.setItem(TOKEN_MAP_KEY,ct)},tokenMap:new Map,setTokenMap:et=>{a(()=>({tokenMap:et})),LocalStorageService.setItem(TOKEN_MAP_KEY,et)}}),useTokenStore=create$3(store$8);LocalStorageService.getItem(TOKEN_MAP_KEY).then(a=>{console.log("🚀 ~ file: token.ts:57 ~ savedTokenMap:",a),a!==null&&useTokenStore.getState().setTokenMap(a)});const store$7=(a,s)=>({isLoading:!1,ownerAddress:void 0,tokenBalanceObj:{},setTokenBalanceObj:(et,tt)=>{const{tokenBalanceObj:at,ownerAddress:ct}=s();a(tt!==ct?()=>({tokenBalanceObj:{...et},ownerAddress:tt}):()=>({tokenBalanceObj:{...at,...et},ownerAddress:tt}))},setIsLoading:et=>{a(()=>({isLoading:et}))},clearData:()=>{a(()=>({tokenBalanceObj:{},ownerAddress:void 0}))}}),useTokenBalanceStore=create$3(persist(store$7,{name:"useTokenBalanceStore",version:1}));var x$1=24*60*60*1e3;function T$1(a){return Date.parse(new Date().toString())+a}var b$1=class{constructor(s,et=0){dn(this,"overdueTime");dn(this,"value");this.overdueTime=et,this.value=s}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};function S$2(a,s=32){return Number(BigInt.asIntN(s,BigInt(a)))}var D$1="0x2::coin::Coin",v$3=/^0x2::coin::Coin<(.+)>$/,P$1="0x2::sui::SUI",j$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",u=class{static getCoinTypeArg(a){let s=a.type.match(v$3);return s?s[1]:null}static isSUI(a){let s=u.getCoinTypeArg(a);return s?u.getCoinSymbol(s)==="SUI":!1}static getCoinSymbol(a){return a.substring(a.lastIndexOf(":")+1)}static getBalance(a){return BigInt(a.fields.balance)}static totalBalance(a,s){let et=BigInt(0);return a.forEach(tt=>{s===tt.coinAddress&&(et+=BigInt(tt.balance))}),et}static getID(a){return a.fields.id.id}static getCoinTypeFromArg(a){return`${D$1}<${a}>`}static getFaucetCoins(a){let{events:s}=a,et=[];return s==null||s.forEach(tt=>{let{type:at}=tt;if(d(at).name==="InitEvent"){let ct=tt.parsedJson;et.push({transactionModule:tt.transactionModule,suplyID:ct.suplyID,decimals:ct.decimals})}}),et}static getCoinAssets(a,s){let et=[];return s.forEach(tt=>{A$1(tt.coinAddress)===A$1(a)&&et.push(tt)}),et}static isSuiCoin(a){return d(a).full_address===P$1}static selectCoinObjectIdGreaterThanOrEqual(a,s,et=[]){let tt=u.selectCoinAssetGreaterThanOrEqual(a,s,et),at=tt.selectedCoins.map(bt=>bt.coinObjectId),ct=tt.remainingCoins,ut=tt.selectedCoins.map(bt=>bt.balance.toString());return{objectArray:at,remainCoins:ct,amountArray:ut}}static selectCoinAssetGreaterThanOrEqual(a,s,et=[]){let tt=u.sortByBalance(a.filter(wt=>!et.includes(wt.coinObjectId))),at=u.calculateTotalBalance(tt);if(at<s)return{selectedCoins:[],remainingCoins:tt};if(at===s)return{selectedCoins:tt,remainingCoins:[]};let ct=BigInt(0),ut=[],bt=[...tt];for(;ct<at;){let wt=s-ct,Et=bt.findIndex(jt=>jt.balance>=wt);if(Et!==-1){ut.push(bt[Et]),bt.splice(Et,1);break}let Ft=bt.pop();Ft.balance>0&&(ut.push(Ft),ct+=Ft.balance)}return{selectedCoins:u.sortByBalance(ut),remainingCoins:u.sortByBalance(bt)}}static sortByBalance(a){return a.sort((s,et)=>s.balance<et.balance?-1:s.balance>et.balance?1:0)}static sortByBalanceDes(a){return a.sort((s,et)=>s.balance>et.balance?-1:s.balance<et.balance?0:1)}static calculateTotalBalance(a){return a.reduce((s,et)=>s+et.balance,BigInt(0))}};function k$1(a){return a.startsWith("0x")?`${a.slice(2)}`:a}function I$3(a,...s){let et=Array.isArray(s[s.length-1])?s.pop():[],tt=[a,...s].filter(Boolean).join("::");return et&&et.length&&(tt+=`<${et.join(", ")}>`),tt}function d(a){var s,et;try{let tt=a.replace(/\s/g,""),at=(et=(s=tt.match(/(<.+>)$/))==null?void 0:s[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){tt=tt.slice(0,tt.indexOf("<"));let bt={...d(tt),type_arguments:at.map(wt=>d(wt).source_address)};return bt.type_arguments=bt.type_arguments.map(wt=>u.isSuiCoin(wt)?wt:d(wt).source_address),bt.source_address=I$3(bt.full_address,bt.type_arguments),bt}let ct=tt.split("::"),ut={full_address:tt,address:tt===P$1||tt===j$1?"0x2":normalizeSuiObjectId$1(ct[0]),module:ct[1],name:ct[2],type_arguments:[],source_address:""};return ut.full_address=`${ut.address}::${ut.module}::${ut.name}`,ut.source_address=I$3(ut.full_address,ut.type_arguments),ut}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function A$1(a){return d(a).source_address}function L(a){return a.toLowerCase().startsWith("0x")?normalizeSuiObjectId$1(a):a}var ee$1=(a,s=!0)=>{let et=a.split("::"),tt=et.shift(),at=normalizeSuiObjectId$1(tt);return s&&(at=k$1(at)),`${at}::${et.join("::")}`};function O$1(a){for(let s in a){let et=typeof a[s];if(et==="object")O$1(a[s]);else if(et==="string"){let tt=a[s];tt&&!tt.includes("::")&&(a[s]=L(tt))}}}var g=class{static buildBurnPositionNFT(a){var tt;let s=a.position.fields,et=`Cetus Burned LP | Pool${(tt=s.name.split("Pool"))==null?void 0:tt[1]}`;return{id:a.id.id,url:s.url,pool_id:s.pool,coinTypeA:d(s.coin_type_a.fields.name).full_address,coinTypeB:d(s.coin_type_b.fields.name).full_address,description:s.description,name:et,liquidity:s.liquidity,clmm_position_id:s.id.id,clmm_pool_id:s.pool,tick_lower_index:S$2(BigInt(s.tick_lower_index.fields.bits)),tick_upper_index:S$2(BigInt(s.tick_upper_index.fields.bits)),index:s.index,is_lp_burn:!0}}},w$1="0x0000000000000000000000000000000000000000000000000000000000000006",h=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getHaveBurnPoolList(){var a,s,et,tt,at,ct,ut,bt;try{let{package_id:wt,manager_id:Et}=this._sdk.sdkOptions.burn,Ft=await this._sdk.fullClient.getObject({id:Et,options:{showType:!0,showContent:!0}});console.log("🚀 ~ file: burnModule.ts:32 ~ BurnModule ~ getHaveBurnPoolList ~ object:",Ft);let jt=(ct=(at=(tt=(et=(s=(a=Ft==null?void 0:Ft.data)==null?void 0:a.content)==null?void 0:s.fields)==null?void 0:et.position)==null?void 0:tt.fields)==null?void 0:at.id)==null?void 0:ct.id;return(bt=(ut=await this._sdk.fullClient.getDynamicFieldsByPage(jt))==null?void 0:ut.data)==null?void 0:bt.map(Lt=>{var Ut;return(Ut=Lt==null?void 0:Lt.name)==null?void 0:Ut.value})}catch(wt){return console.log("getHaveBurnPoolList ~ error:",wt),[]}}async getPositionHandle(a){let{burn_pool_handle:s}=this._sdk.sdkOptions.burn,et=`getPosHandle_${a}`,tt=this._sdk.getCache(et);return tt||(tt=(await this._sdk.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:a}})).data.content.fields.value.fields.id.id,tt&&this._sdk.updateCache(et,tt),tt)}async getPoolBurnPositionList(a){var s,et,tt;try{let at=await this.getPositionHandle(a);if(at===void 0)throw Error("Not found posHandle");let ct=(et=(s=await this._sdk.fullClient.getDynamicFieldsByPage(at))==null?void 0:s.data)==null?void 0:et.map(ut=>ut.objectId);if(ct.length>0){let ut=(await this._sdk.fullClient.batchGetObjects(ct,{showContent:!0})).map(bt=>bt.data.content.fields.value.fields.burned_position_id);return(tt=await this._sdk.fullClient.batchGetObjects(ut,{showContent:!0}))==null?void 0:tt.map(bt=>{var wt,Et;return g.buildBurnPositionNFT((Et=(wt=bt==null?void 0:bt.data)==null?void 0:wt.content)==null?void 0:Et.fields)})}return[]}catch(at){return console.log("getPoolBurnPositionList ~ error:",at),[]}}async getBurnPositionList(a){var et,tt;let{package_id:s}=this._sdk.sdkOptions.burn;return(tt=(et=await this._sdk.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showOwner:!0,showDisplay:!0},filter:{MatchAny:[{StructType:`${s}::lp_burn::CetusLPBurnProof`}]}}))==null?void 0:et.data)==null?void 0:tt.map(at=>{var ct,ut;return g.buildBurnPositionNFT((ut=(ct=at==null?void 0:at.data)==null?void 0:ct.content)==null?void 0:ut.fields)})}async getBurnPositon(a){var et,tt,at,ct;let s=await this._sdk.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}});return(tt=(et=s==null?void 0:s.data)==null?void 0:et.content)!=null&&tt.fields?g.buildBurnPositionNFT((ct=(at=s==null?void 0:s.data)==null?void 0:at.content)==null?void 0:ct.fields):null}createBurnPayload(a,s){s=s||new Transaction;let et=typeof a.pos=="string"?s.object(a.pos):a.pos,{published_at:tt,manager_id:at}=this._sdk.sdkOptions.burn,ct=`${tt}::lp_burn::burn`;return s.moveCall({target:ct,arguments:[s.object(at),s.object(a.pool),et],typeArguments:[a.coinTypeA,a.coinTypeB]}),s}createBurnLPV2Payload(a,s){s=s||new Transaction;let et=typeof a=="string"?s.object(a):a,{published_at:tt,manager_id:at}=this._sdk.sdkOptions.burn,ct=`${tt}::lp_burn::burn_lp_v2`,[ut]=s.moveCall({target:ct,arguments:[s.object(at),et],typeArguments:[]});return ut}createCollectFeePaylaod(a,s){s=s||new Transaction;let{published_at:et,manager_id:tt,clmm_global_config:at}=this._sdk.sdkOptions.burn,ct=`${et}::lp_burn::collect_fee`,ut=s.moveCall({target:ct,arguments:[s.object(tt),s.object(at),s.object(a.pool),s.object(a.pos)],typeArguments:[a.coinTypeA,a.coinTypeB]});return s.transferObjects([ut[0]],s.pure.address(a.account)),s.transferObjects([ut[1]],s.pure.address(a.account)),s}crateCollectRewardPayload(a,s){var bt,wt;s=s||new Transaction;let{published_at:et,manager_id:tt,clmm_global_config:at,clmm_global_vault_id:ct}=this._sdk.sdkOptions.burn,ut=`${et}::lp_burn::collect_reward`;for(let Et=0;Et<((bt=a.rewarderCoinTypes)==null?void 0:bt.length);Et++){let Ft=(wt=a.rewarderCoinTypes)==null?void 0:wt[Et],jt=s.moveCall({target:ut,arguments:[s.object(tt),s.object(at),s.object(a.pool),s.object(a.pos),s.object(ct),s.object(w$1)],typeArguments:[a.coinTypeA,a.coinTypeB,Ft]});s.transferObjects([jt],s.pure.address(a.account))}return s}createCollectFeesPaylaod(a,s){s=s||new Transaction;let{published_at:et,manager_id:tt,clmm_global_config:at}=this._sdk.sdkOptions.burn,ct=`${et}::lp_burn::collect_fee`;for(let ut=0;ut<a.length;ut++){let bt=a[ut],wt=s.moveCall({target:ct,arguments:[s.object(tt),s.object(at),s.object(bt.pool),s.object(bt.pos)],typeArguments:[bt.coinTypeA,bt.coinTypeB]});s.transferObjects([wt[0]],s.pure.address(bt.account)),s.transferObjects([wt[1]],s.pure.address(bt.account))}return s}crateCollectRewardsPayload(a,s){var bt,wt;s=s||new Transaction;let{published_at:et,manager_id:tt,clmm_global_config:at,clmm_global_vault_id:ct}=this._sdk.sdkOptions.burn,ut=`${et}::lp_burn::collect_reward`;for(let Et=0;Et<a.length;Et++){let Ft=a[Et];for(let jt=0;jt<((bt=Ft.rewarderCoinTypes)==null?void 0:bt.length);jt++){let Lt=(wt=Ft.rewarderCoinTypes)==null?void 0:wt[jt],Ut=s.moveCall({target:ut,arguments:[s.object(tt),s.object(at),s.object(Ft.pool),s.object(Ft.pos),s.object(ct),s.object(w$1)],typeArguments:[Ft.coinTypeA,Ft.coinTypeB,Lt]});s.transferObjects([Ut],s.pure.address(Ft.account))}}return s}},y$1=class extends SuiClient{async queryEventsByPage(s,et="all"){let tt=[],at=!0,ct=et==="all",ut=ct?null:et.cursor;do{let bt=await this.queryEvents({query:s,cursor:ut,limit:ct?null:et.limit});bt.data?(tt=[...tt,...bt.data],at=bt.hasNextPage,ut=bt.nextCursor):at=!1}while(ct&&at);return{data:tt,nextCursor:ut,hasNextPage:at}}async getOwnedObjectsByPage(s,et,tt="all"){let at=[],ct=!0,ut=tt==="all",bt=ut?null:tt.cursor;do{let wt=await this.getOwnedObjects({owner:s,...et,cursor:bt,limit:ut?null:tt.limit});wt.data?(at=[...at,...wt.data],ct=wt.hasNextPage,bt=wt.nextCursor):ct=!1}while(ut&&ct);return{data:at,nextCursor:bt,hasNextPage:ct}}async getDynamicFieldsByPage(s,et="all"){let tt=[],at=!0,ct=et==="all",ut=ct?null:et.cursor;do{let bt=await this.getDynamicFields({parentId:s,cursor:ut,limit:ct?null:et.limit});bt.data?(tt=[...tt,...bt.data],at=bt.hasNextPage,ut=bt.nextCursor):at=!1}while(ct&&at);return{data:tt,nextCursor:ut,hasNextPage:at}}async batchGetObjects(s,et,tt=50){let at=[];try{for(let ct=0;ct<Math.ceil(s.length/tt);ct++){let ut=await this.multiGetObjects({ids:s.slice(ct*tt,tt*(ct+1)),options:et});at=[...at,...ut]}}catch(ct){console.log(ct)}return at}async calculationTxGas(s){let{sender:et}=s.blockData;if(et===void 0)throw Error("sdk sender is empty");let tt=await this.devInspectTransactionBlock({transactionBlock:s,sender:et}),{gasUsed:at}=tt.effects;return Number(at.computationCost)+Number(at.storageCost)-Number(at.storageRebate)}async sendTransaction(s,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:s,options:{showEffects:!0,showEvents:!0}})}catch(tt){console.log("error: ",tt)}}async sendSimulationTransaction(s,et,tt=!0){try{if(tt)return await this.devInspectTransactionBlock({transactionBlock:s,sender:et})}catch(at){console.log("devInspectTransactionBlock error",at)}}},_$1=class{constructor(s){dn(this,"_cache",{});dn(this,"_rpcModule");dn(this,"_sdkOptions");dn(this,"_senderAddress","");dn(this,"_burn");this._sdkOptions=s,this._rpcModule=new y$1({url:s.fullRpcUrl}),this._burn=new h(this),O$1(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(s){this._senderAddress=s}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Burn(){return this._burn}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(s,et,tt=!0){let at=[],ct=null,ut=`${this.sdkOptions.fullRpcUrl}_${s}_${et}_getOwnerCoinAssets`,bt=this.getCache(ut,tt);if(bt)return bt;for(;;){let wt=await(et?this.fullClient.getCoins({owner:s,coinType:et,cursor:ct}):this.fullClient.getAllCoins({owner:s,cursor:ct}));if(wt.data.forEach(Et=>{BigInt(Et.balance)>0&&at.push({coinAddress:d(Et.coinType).source_address,coinObjectId:Et.coinObjectId,balance:BigInt(Et.balance)})}),ct=wt.nextCursor,!wt.hasNextPage)break}return this.updateCache(ut,at,30*1e3),at}async getOwnerCoinBalances(s,et){let tt=[];return et?tt=[await this.fullClient.getBalance({owner:s,coinType:et})]:tt=[...await this.fullClient.getAllBalances({owner:s})],tt}updateCache(s,et,tt=x$1){let at=this._cache[s];at?(at.overdueTime=T$1(tt),at.value=et):at=new b$1(et,T$1(tt)),this._cache[s]=at}getCache(s,et=!1){let tt=this._cache[s],at=tt==null?void 0:tt.isValid();if(!et&&at)return tt.value;at||delete this._cache[s]}};const store$6=(a,s)=>({coinPriceObj:{},setPriceObj:et=>{const tt=s().coinPriceObj;a({coinPriceObj:{...tt,...et}})},clearPriceObj:et=>{const tt=s().coinPriceObj;et.forEach(at=>{delete tt[d(at).full_address]}),a({coinPriceObj:{...tt}})}}),useTokenPriceStore=create$3(store$6),useTransactionStore=create$3((a,s)=>({manualCloseIdList:[],transactionModalVisible:!1,transactionData:void 0,setTransactionModalVisible:et=>{a(()=>({transactionModalVisible:et}))},setTransactionData:et=>{a(()=>({transactionData:et}))},setManualCloseId:et=>{a(tt=>({manualCloseIdList:[...tt.manualCloseIdList,et]}))}})),store$5=(a,s)=>({addressChangeVersion:0,accounts:[],currentAccount:void 0,isOpenWalletModal:!1,saveCurrentAccount:et=>{var ct;const tt=(ct=s().currentAccount)==null?void 0:ct.address,at=s().addressChangeVersion;tt&&et&&tt!==et.address?a({currentAccount:et,addressChangeVersion:at+1}):a({currentAccount:et})},saveAccounts:et=>{a({accounts:et})},onWalletModal:et=>{a({isOpenWalletModal:et})},accountServiceNameObj:{},setAccountServiceNameObj:et=>{const tt=s().accountServiceNameObj;a({accountServiceNameObj:{...tt,...et}})}}),useAccountStore=create$3(persist(store$5,{name:"useAccountStore",partialize:a=>{const{accountServiceNameObj:s}=a;return{accountServiceNameObj:s}},version:3}));console.log("🚀🚀🚀 ~ useClmmSDKStore.ts:2 ~ envConfigs:",envConfigs$1);const store$4=(a,s)=>({isInitLoading:!1,clmmSdk:new CetusClmmSDK(envConfigs$1.clmm_sdk_options),aggregatorSDK:new AggregatorClient22({signer:envConfigs$1.clmm_sdk_options.simulationAccount.address,client:new SuiClient({url:envConfigs$1.clmm_sdk_options.fullRpcUrl}),env:envConfigs$1.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:envConfigs$1.pythUrls}),setClmmSdk:et=>{a(()=>({clmmSdk:et}))},setAggregatorSDK:et=>{a(()=>({aggregatorSDK:et}))},setIsInitLoading:et=>{a(()=>({isInitLoading:et}))}}),useClmmSDKStore=create$3(store$4),store$3=(a,s)=>({domains:[envConfigs$1.cetus_api],unhealthyDomains:[],currentDomain:envConfigs$1.cetus_api,setCurrentDomain:et=>{a(()=>({currentDomain:et}))},setUnhealthyDomains:et=>{a(()=>({unhealthyDomains:[...s().unhealthyDomains,et]}))}}),useGlobalApiDomainStore=create$3(store$3),defaultMainnetNodes=[{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"BlockVision 2",link:"https://cetus-mainnet-endpoint.blockvision.org"},{name:"Suiet",link:"https://mainnet.suiet.app:443"},{name:"Blast",link:"https://sui-mainnet.blastapi.io/5e2b3e4f-dc83-432b-86d1-70fb73e88187"},{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"Triton",link:"https://cetus-suimain-e31f.mainnet.sui.rpcpool.com"},{name:"Custom",link:""}],defaultMainnetExplorers=[{name:"SuiVision",link:"https://suivision.xyz",img:"/images/img_suivision@2x.png"},{name:"Suiscan",link:"https://suiscan.xyz/mainnet",img:"/images/img_suiscan@2x.png"}],defaultNodes=defaultMainnetNodes,defaultNode=defaultMainnetNodes[0],defaultExplorers=defaultMainnetExplorers,defaultExplorer=defaultMainnetExplorers[0],suiWalletList=[{name:"Sui Wallet",walletName:"Sui Wallet",url:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",icon:"sui-wallet-icon"},{name:"Phantom",walletName:"Phantom",url:"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa",icon:"phantom"},{name:"OKX",walletName:"OKX Wallet",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"okx"},{name:"Suiet",walletName:"Suiet",url:"https://chrome.google.com/webstore/detail/suiet-sui-wallet/khpkpbbcccdmmclmpigdgddabeilkdpd",icon:"suiet-icon"},{name:"Binance",walletName:"Binance Wallet",url:"https://chromewebstore.google.com/detail/%E5%B8%81%E5%AE%89%E9%93%BE%E9%92%B1%E5%8C%85/fhbohimaelbohpjbbldcngcnapndodjp?hl=zh-CN&utm_source=ext_sidebar",icon:"binance"},{name:"Stashed",walletName:"Stashed",url:"https://getstashed.com",icon:"stashed"},{name:"Bybit Wallet",walletName:"Bybit Wallet",url:"https://chromewebstore.google.com/search/Bybit%20Wallet?hl=zh-CN&utm_source=ext_sidebar",icon:"bybit"},{name:"Gate",walletName:"Gate Wallet",url:"https://chromewebstore.google.com/detail/gate-wallet/cpmkedoipcpimgecpmgpldfpohjplkpp",icon:"gate"},{name:"Bitget Wallet",walletName:"Bitget Wallet",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",icon:"bitget"},{name:"SuiMetaMaskSnap",walletName:"Sui MetaMask Snap",url:"https://suisnap.com",icon:"metamask"},{name:"Surf",walletName:"Surf Wallet",url:"https://chrome.google.com/webstore/detail/surf-wallet/emeeapjkbcbpbpgaagfchmcgglmebnen",icon:"surf"},{name:"Coin98",walletName:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",icon:"coin98"},{name:"MSafe",walletName:"MSafe Wallet",url:"https://sui.m-safe.io/",icon:"msafe"},{name:"OneKey",walletName:"OneKey Wallet",url:"https://chromewebstore.google.com/detail/onekey/jnmbobjmhlngoefaiojfljckilhhlhcj",icon:"onekey"},{name:"TokenPocket",walletName:"TokenPocket Wallet",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",icon:"tokenpocket"},{name:"Nightly",walletName:"Nightly",url:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa",icon:"nightly"},{name:"Martian",walletName:"Martian Sui Wallet",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",icon:"martian"},{name:"Fewcha",walletName:"Fewcha Move Wallet",url:"https://fewcha.app/",icon:"fewcha"},{name:"SafePal",walletName:"SafePal",url:"https://chrome.google.com/webstore/detail/safepal-extension-wallet/lgmpcpglpngdoalbgeoldeajfclnhafa",icon:"safepal"},{name:"Math",walletName:"MathWallet",url:"https://mathwallet.org/",icon:"math"}],store$2=(a,s)=>({rpcSpeed:{},currentExplorer:defaultExplorer,explorerList:[...defaultExplorers],currentNode:{...defaultNode},nodes:[...defaultNodes],switchNode:et=>{a(()=>({currentNode:et}))},switchExplorer:et=>{a(()=>({currentExplorer:et}))},setNodeList:et=>{a(()=>({nodes:[...et]}))},setRpcSpeed:et=>{a(()=>({rpcSpeed:et}))}}),useRpcConfigStore=create$3(persist(store$2,{name:"useRpcConfigStore",version:4})),store$1=(a,s)=>({deepbookV3Config:null,providers:["CETUS"],isBuyCryptoConfirm:!1,setIsBuyCryptoConfirm:et=>{a(()=>({isBuyCryptoConfirm:et}))},isTerm:!1,setIsTerm:et=>{a(()=>({isTerm:et}))},setProviders:et=>{a(()=>({providers:et}))},setDeepbookV3Config:et=>{a(()=>({deepbookV3Config:et}))},isSwapWidgetDisplay:!0,setIsSwapWidgetDisplay:et=>{a(()=>({isSwapWidgetDisplay:et}))},showSwapWidgetTips:!0,setShowSwapWidgetTips:et=>{a(()=>({showSwapWidgetTips:et}))}}),useWebConfigStore=create$3(persist(store$1,{name:"useWebConfigStore",version:3}));function useGlobalToast(){const{accumulateToastId:a}=useToastStore(),s=useToast({position:"top-right",duration:5e3,containerStyle:{maxW:"660px"}}),et=Ft=>Ft||`toast${a()}`;return{closeToast:Ft=>{s.close(Ft)},successTsToast:Ft=>{const{transactionId:jt}=Ft,Lt=et(jt);return s({id:Lt,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Lt,status:"success",onClose:()=>s.close(Lt)})}),Lt},failedTsToast:Ft=>{const{transactionId:jt}=Ft,Lt=et(jt);return s({id:Lt,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Lt,status:"rejected",onClose:()=>s.close(Lt)})}),Lt},submittedTsToast:Ft=>{const{transactionId:jt}=Ft,Lt=et(jt);return s({id:Lt,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Lt,status:"submitted",onClose:()=>s.close(Lt)})}),Lt},closeAllToast:()=>{s.closeAll()},customToast:Ft=>{const jt=et();return s({id:jt,render:()=>jsxRuntimeExports.jsx(CustomToast,{onClose:()=>s.close(jt),children:Ft})}),jt},showCommonToast:(Ft,jt="success",Lt)=>{const Ut=et(),Vt={getShowInfo:()=>({toastTitleText:Ft,toastDescriptionContent:Lt})};return s({id:Ut,render:()=>jsxRuntimeExports.jsx(Toast,{...Vt,transactionId:Ut,status:jt,onClose:()=>s.close(Ut)})}),Ut}}}var cryptoJs={exports:{}},core={exports:{}},cryptoBrowserify={},browser$d={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(a,s){var et=require$$1$3,tt=et.Buffer;function at(ut,bt){for(var wt in ut)bt[wt]=ut[wt]}tt.from&&tt.alloc&&tt.allocUnsafe&&tt.allocUnsafeSlow?a.exports=et:(at(et,s),s.Buffer=ct);function ct(ut,bt,wt){return tt(ut,bt,wt)}ct.prototype=Object.create(tt.prototype),at(tt,ct),ct.from=function(ut,bt,wt){if(typeof ut=="number")throw new TypeError("Argument must not be a number");return tt(ut,bt,wt)},ct.alloc=function(ut,bt,wt){if(typeof ut!="number")throw new TypeError("Argument must be a number");var Et=tt(ut);return bt!==void 0?typeof wt=="string"?Et.fill(bt,wt):Et.fill(bt):Et.fill(0),Et},ct.allocUnsafe=function(ut){if(typeof ut!="number")throw new TypeError("Argument must be a number");return tt(ut)},ct.allocUnsafeSlow=function(ut){if(typeof ut!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(ut)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$d.exports;hasRequiredBrowser$b=1;var a=65536,s=4294967295;function et(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var tt=requireSafeBuffer$1().Buffer,at=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;at&&at.getRandomValues?browser$d.exports=ct:browser$d.exports=et;function ct(ut,bt){if(ut>s)throw new RangeError("requested too many random bytes");var wt=tt.allocUnsafe(ut);if(ut>0)if(ut>a)for(var Et=0;Et<ut;Et+=a)at.getRandomValues(wt.slice(Et,Et+a));else at.getRandomValues(wt);return typeof bt=="function"?process$1.nextTick(function(){bt(null,wt)}):wt}return browser$d.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(s,et){et&&(s.super_=et,s.prototype=Object.create(et.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(s,et){if(et){s.super_=et;var tt=function(){};tt.prototype=et.prototype,s.prototype=new tt,s.prototype.constructor=s}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var a=typeof Reflect=="object"?Reflect:null,s=a&&typeof a.apply=="function"?a.apply:function(pr,yr,br){return Function.prototype.apply.call(pr,yr,br)},et;a&&typeof a.ownKeys=="function"?et=a.ownKeys:Object.getOwnPropertySymbols?et=function(pr){return Object.getOwnPropertyNames(pr).concat(Object.getOwnPropertySymbols(pr))}:et=function(pr){return Object.getOwnPropertyNames(pr)};function tt(lr){console&&console.warn&&console.warn(lr)}var at=Number.isNaN||function(pr){return pr!==pr};function ct(){ct.init.call(this)}events.exports=ct,events.exports.once=tr,ct.EventEmitter=ct,ct.prototype._events=void 0,ct.prototype._eventsCount=0,ct.prototype._maxListeners=void 0;var ut=10;function bt(lr){if(typeof lr!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof lr)}Object.defineProperty(ct,"defaultMaxListeners",{enumerable:!0,get:function(){return ut},set:function(lr){if(typeof lr!="number"||lr<0||at(lr))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+lr+".");ut=lr}}),ct.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ct.prototype.setMaxListeners=function(pr){if(typeof pr!="number"||pr<0||at(pr))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+pr+".");return this._maxListeners=pr,this};function wt(lr){return lr._maxListeners===void 0?ct.defaultMaxListeners:lr._maxListeners}ct.prototype.getMaxListeners=function(){return wt(this)},ct.prototype.emit=function(pr){for(var yr=[],br=1;br<arguments.length;br++)yr.push(arguments[br]);var xr=pr==="error",Er=this._events;if(Er!==void 0)xr=xr&&Er.error===void 0;else if(!xr)return!1;if(xr){var $r;if(yr.length>0&&($r=yr[0]),$r instanceof Error)throw $r;var Sr=new Error("Unhandled error."+($r?" ("+$r.message+")":""));throw Sr.context=$r,Sr}var fr=Er[pr];if(fr===void 0)return!1;if(typeof fr=="function")s(fr,this,yr);else for(var vr=fr.length,or=Vt(fr,vr),br=0;br<vr;++br)s(or[br],this,yr);return!0};function Et(lr,pr,yr,br){var xr,Er,$r;if(bt(yr),Er=lr._events,Er===void 0?(Er=lr._events=Object.create(null),lr._eventsCount=0):(Er.newListener!==void 0&&(lr.emit("newListener",pr,yr.listener?yr.listener:yr),Er=lr._events),$r=Er[pr]),$r===void 0)$r=Er[pr]=yr,++lr._eventsCount;else if(typeof $r=="function"?$r=Er[pr]=br?[yr,$r]:[$r,yr]:br?$r.unshift(yr):$r.push(yr),xr=wt(lr),xr>0&&$r.length>xr&&!$r.warned){$r.warned=!0;var Sr=new Error("Possible EventEmitter memory leak detected. "+$r.length+" "+String(pr)+" listeners added. Use emitter.setMaxListeners() to increase limit");Sr.name="MaxListenersExceededWarning",Sr.emitter=lr,Sr.type=pr,Sr.count=$r.length,tt(Sr)}return lr}ct.prototype.addListener=function(pr,yr){return Et(this,pr,yr,!1)},ct.prototype.on=ct.prototype.addListener,ct.prototype.prependListener=function(pr,yr){return Et(this,pr,yr,!0)};function Ft(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jt(lr,pr,yr){var br={fired:!1,wrapFn:void 0,target:lr,type:pr,listener:yr},xr=Ft.bind(br);return xr.listener=yr,br.wrapFn=xr,xr}ct.prototype.once=function(pr,yr){return bt(yr),this.on(pr,jt(this,pr,yr)),this},ct.prototype.prependOnceListener=function(pr,yr){return bt(yr),this.prependListener(pr,jt(this,pr,yr)),this},ct.prototype.removeListener=function(pr,yr){var br,xr,Er,$r,Sr;if(bt(yr),xr=this._events,xr===void 0)return this;if(br=xr[pr],br===void 0)return this;if(br===yr||br.listener===yr)--this._eventsCount===0?this._events=Object.create(null):(delete xr[pr],xr.removeListener&&this.emit("removeListener",pr,br.listener||yr));else if(typeof br!="function"){for(Er=-1,$r=br.length-1;$r>=0;$r--)if(br[$r]===yr||br[$r].listener===yr){Sr=br[$r].listener,Er=$r;break}if(Er<0)return this;Er===0?br.shift():Yt(br,Er),br.length===1&&(xr[pr]=br[0]),xr.removeListener!==void 0&&this.emit("removeListener",pr,Sr||yr)}return this},ct.prototype.off=ct.prototype.removeListener,ct.prototype.removeAllListeners=function(pr){var yr,br,xr;if(br=this._events,br===void 0)return this;if(br.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):br[pr]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete br[pr]),this;if(arguments.length===0){var Er=Object.keys(br),$r;for(xr=0;xr<Er.length;++xr)$r=Er[xr],$r!=="removeListener"&&this.removeAllListeners($r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(yr=br[pr],typeof yr=="function")this.removeListener(pr,yr);else if(yr!==void 0)for(xr=yr.length-1;xr>=0;xr--)this.removeListener(pr,yr[xr]);return this};function Lt(lr,pr,yr){var br=lr._events;if(br===void 0)return[];var xr=br[pr];return xr===void 0?[]:typeof xr=="function"?yr?[xr.listener||xr]:[xr]:yr?er(xr):Vt(xr,xr.length)}ct.prototype.listeners=function(pr){return Lt(this,pr,!0)},ct.prototype.rawListeners=function(pr){return Lt(this,pr,!1)},ct.listenerCount=function(lr,pr){return typeof lr.listenerCount=="function"?lr.listenerCount(pr):Ut.call(lr,pr)},ct.prototype.listenerCount=Ut;function Ut(lr){var pr=this._events;if(pr!==void 0){var yr=pr[lr];if(typeof yr=="function")return 1;if(yr!==void 0)return yr.length}return 0}ct.prototype.eventNames=function(){return this._eventsCount>0?et(this._events):[]};function Vt(lr,pr){for(var yr=new Array(pr),br=0;br<pr;++br)yr[br]=lr[br];return yr}function Yt(lr,pr){for(;pr+1<lr.length;pr++)lr[pr]=lr[pr+1];lr.pop()}function er(lr){for(var pr=new Array(lr.length),yr=0;yr<pr.length;++yr)pr[yr]=lr[yr].listener||lr[yr];return pr}function tr(lr,pr){return new Promise(function(yr,br){function xr($r){lr.removeListener(pr,Er),br($r)}function Er(){typeof lr.removeListener=="function"&&lr.removeListener("error",xr),yr([].slice.call(arguments))}ir(lr,pr,Er,{once:!0}),pr!=="error"&&nr(lr,xr,{once:!0})})}function nr(lr,pr,yr){typeof lr.on=="function"&&ir(lr,"error",pr,yr)}function ir(lr,pr,yr,br){if(typeof lr.on=="function")br.once?lr.once(pr,yr):lr.on(pr,yr);else if(typeof lr.addEventListener=="function")lr.addEventListener(pr,function xr(Er){br.once&&lr.removeEventListener(pr,xr),yr(Er)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof lr)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$4={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},et=Symbol("test"),tt=Object(et);if(typeof et=="string"||Object.prototype.toString.call(et)!=="[object Symbol]"||Object.prototype.toString.call(tt)!=="[object Symbol]")return!1;var at=42;s[et]=at;for(var ct in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var ut=Object.getOwnPropertySymbols(s);if(ut.length!==1||ut[0]!==et||!Object.prototype.propertyIsEnumerable.call(s,et))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var bt=Object.getOwnPropertyDescriptor(s,et);if(bt.value!==at||bt.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var a=requireShams$1();return shams=function(){return a()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(s){return s!==s}),_isNaN}var sign$1,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$1;hasRequiredSign$1=1;var a=require_isNaN();return sign$1=function(et){return a(et)||et===0?et:et<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var a=requireGOPD();if(a)try{a([],"length")}catch{a=null}return gopd=a,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var a=Object.defineProperty||!1;if(a)try{a({},"a",{value:1})}catch{a=!1}return esDefineProperty=a,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var a=typeof Symbol<"u"&&Symbol,s=requireShams$1();return hasSymbols=function(){return typeof a!="function"||typeof Symbol!="function"||typeof a("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:s()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var a=requireEsObjectAtoms();return Object_getPrototypeOf=a.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var a="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,et=Math.max,tt="[object Function]",at=function(wt,Et){for(var Ft=[],jt=0;jt<wt.length;jt+=1)Ft[jt]=wt[jt];for(var Lt=0;Lt<Et.length;Lt+=1)Ft[Lt+wt.length]=Et[Lt];return Ft},ct=function(wt,Et){for(var Ft=[],jt=Et,Lt=0;jt<wt.length;jt+=1,Lt+=1)Ft[Lt]=wt[jt];return Ft},ut=function(bt,wt){for(var Et="",Ft=0;Ft<bt.length;Ft+=1)Et+=bt[Ft],Ft+1<bt.length&&(Et+=wt);return Et};return implementation=function(wt){var Et=this;if(typeof Et!="function"||s.apply(Et)!==tt)throw new TypeError(a+Et);for(var Ft=ct(arguments,1),jt,Lt=function(){if(this instanceof jt){var tr=Et.apply(this,at(Ft,arguments));return Object(tr)===tr?tr:this}return Et.apply(wt,at(Ft,arguments))},Ut=et(0,Et.length-Ft.length),Vt=[],Yt=0;Yt<Ut;Yt++)Vt[Yt]="$"+Yt;if(jt=Function("binder","return function ("+ut(Vt,",")+"){ return binder.apply(this,arguments); }")(Lt),Et.prototype){var er=function(){};er.prototype=Et.prototype,jt.prototype=new er,er.prototype=null}return jt},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var a=requireImplementation();return functionBind=Function.prototype.bind||a,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var a=requireFunctionBind(),s=requireFunctionApply(),et=requireFunctionCall(),tt=requireReflectApply();return actualApply=tt||a.call(et,s),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var a=requireFunctionBind(),s=requireType(),et=requireFunctionCall(),tt=requireActualApply();return callBindApplyHelpers=function(ct){if(ct.length<1||typeof ct[0]!="function")throw new s("a function is required");return tt(a,et,ct)},callBindApplyHelpers}var get$1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$1;hasRequiredGet=1;var a=requireCallBindApplyHelpers(),s=requireGopd(),et;try{et=[].__proto__===Array.prototype}catch(ut){if(!ut||typeof ut!="object"||!("code"in ut)||ut.code!=="ERR_PROTO_ACCESS")throw ut}var tt=!!et&&s&&s(Object.prototype,"__proto__"),at=Object,ct=at.getPrototypeOf;return get$1=tt&&typeof tt.get=="function"?a([tt.get]):typeof ct=="function"?function(bt){return ct(bt==null?bt:at(bt))}:!1,get$1}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var a=requireReflect_getPrototypeOf(),s=requireObject_getPrototypeOf(),et=requireGet();return getProto=a?function(at){return a(at)}:s?function(at){if(!at||typeof at!="object"&&typeof at!="function")throw new TypeError("getProto: not an object");return s(at)}:et?function(at){return et(at)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var a=Function.prototype.call,s=Object.prototype.hasOwnProperty,et=requireFunctionBind();return hasown=et.call(a,s),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var a,s=requireEsObjectAtoms(),et=requireEsErrors(),tt=require_eval(),at=requireRange(),ct=requireRef(),ut=requireSyntax(),bt=requireType(),wt=requireUri(),Et=requireAbs(),Ft=requireFloor(),jt=requireMax(),Lt=requireMin(),Ut=requirePow(),Vt=requireRound(),Yt=requireSign$1(),er=Function,tr=function(Ur){try{return er('"use strict"; return ('+Ur+").constructor;")()}catch{}},nr=requireGopd(),ir=requireEsDefineProperty(),lr=function(){throw new bt},pr=nr?function(){try{return arguments.callee,lr}catch{try{return nr(arguments,"callee").get}catch{return lr}}}():lr,yr=requireHasSymbols()(),br=requireGetProto(),xr=requireObject_getPrototypeOf(),Er=requireReflect_getPrototypeOf(),$r=requireFunctionApply(),Sr=requireFunctionCall(),fr={},vr=typeof Uint8Array>"u"||!br?a:br(Uint8Array),or={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?a:ArrayBuffer,"%ArrayIteratorPrototype%":yr&&br?br([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":fr,"%AsyncGenerator%":fr,"%AsyncGeneratorFunction%":fr,"%AsyncIteratorPrototype%":fr,"%Atomics%":typeof Atomics>"u"?a:Atomics,"%BigInt%":typeof BigInt>"u"?a:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?a:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":et,"%eval%":eval,"%EvalError%":tt,"%Float16Array%":typeof Float16Array>"u"?a:Float16Array,"%Float32Array%":typeof Float32Array>"u"?a:Float32Array,"%Float64Array%":typeof Float64Array>"u"?a:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?a:FinalizationRegistry,"%Function%":er,"%GeneratorFunction%":fr,"%Int8Array%":typeof Int8Array>"u"?a:Int8Array,"%Int16Array%":typeof Int16Array>"u"?a:Int16Array,"%Int32Array%":typeof Int32Array>"u"?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":yr&&br?br(br([][Symbol.iterator]())):a,"%JSON%":typeof JSON=="object"?JSON:a,"%Map%":typeof Map>"u"?a:Map,"%MapIteratorPrototype%":typeof Map>"u"||!yr||!br?a:br(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":s,"%Object.getOwnPropertyDescriptor%":nr,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?a:Promise,"%Proxy%":typeof Proxy>"u"?a:Proxy,"%RangeError%":at,"%ReferenceError%":ct,"%Reflect%":typeof Reflect>"u"?a:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?a:Set,"%SetIteratorPrototype%":typeof Set>"u"||!yr||!br?a:br(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":yr&&br?br(""[Symbol.iterator]()):a,"%Symbol%":yr?Symbol:a,"%SyntaxError%":ut,"%ThrowTypeError%":pr,"%TypedArray%":vr,"%TypeError%":bt,"%Uint8Array%":typeof Uint8Array>"u"?a:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?a:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?a:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?a:Uint32Array,"%URIError%":wt,"%WeakMap%":typeof WeakMap>"u"?a:WeakMap,"%WeakRef%":typeof WeakRef>"u"?a:WeakRef,"%WeakSet%":typeof WeakSet>"u"?a:WeakSet,"%Function.prototype.call%":Sr,"%Function.prototype.apply%":$r,"%Object.defineProperty%":ir,"%Object.getPrototypeOf%":xr,"%Math.abs%":Et,"%Math.floor%":Ft,"%Math.max%":jt,"%Math.min%":Lt,"%Math.pow%":Ut,"%Math.round%":Vt,"%Math.sign%":Yt,"%Reflect.getPrototypeOf%":Er};if(br)try{null.error}catch(Ur){var rr=br(br(Ur));or["%Error.prototype%"]=rr}var ar=function Ur(kr){var Ar;if(kr==="%AsyncFunction%")Ar=tr("async function () {}");else if(kr==="%GeneratorFunction%")Ar=tr("function* () {}");else if(kr==="%AsyncGeneratorFunction%")Ar=tr("async function* () {}");else if(kr==="%AsyncGenerator%"){var Cr=Ur("%AsyncGeneratorFunction%");Cr&&(Ar=Cr.prototype)}else if(kr==="%AsyncIteratorPrototype%"){var Fr=Ur("%AsyncGenerator%");Fr&&br&&(Ar=br(Fr.prototype))}return or[kr]=Ar,Ar},sr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},dr=requireFunctionBind(),gr=requireHasown(),ur=dr.call(Sr,Array.prototype.concat),_r=dr.call($r,Array.prototype.splice),hr=dr.call(Sr,String.prototype.replace),cr=dr.call(Sr,String.prototype.slice),wr=dr.call(Sr,RegExp.prototype.exec),Br=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Or=/\\(\\)?/g,Rr=function(kr){var Ar=cr(kr,0,1),Cr=cr(kr,-1);if(Ar==="%"&&Cr!=="%")throw new ut("invalid intrinsic syntax, expected closing `%`");if(Cr==="%"&&Ar!=="%")throw new ut("invalid intrinsic syntax, expected opening `%`");var Fr=[];return hr(kr,Br,function(Lr,Hr,Gr,Nr){Fr[Fr.length]=Gr?hr(Nr,Or,"$1"):Hr||Lr}),Fr},Pr=function(kr,Ar){var Cr=kr,Fr;if(gr(sr,Cr)&&(Fr=sr[Cr],Cr="%"+Fr[0]+"%"),gr(or,Cr)){var Lr=or[Cr];if(Lr===fr&&(Lr=ar(Cr)),typeof Lr>"u"&&!Ar)throw new bt("intrinsic "+kr+" exists, but is not available. Please file an issue!");return{alias:Fr,name:Cr,value:Lr}}throw new ut("intrinsic "+kr+" does not exist!")};return getIntrinsic=function(kr,Ar){if(typeof kr!="string"||kr.length===0)throw new bt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ar!="boolean")throw new bt('"allowMissing" argument must be a boolean');if(wr(/^%?[^%]*%?$/,kr)===null)throw new ut("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Cr=Rr(kr),Fr=Cr.length>0?Cr[0]:"",Lr=Pr("%"+Fr+"%",Ar),Hr=Lr.name,Gr=Lr.value,Nr=!1,Vr=Lr.alias;Vr&&(Fr=Vr[0],_r(Cr,ur([0,1],Vr)));for(var jr=1,Wr=!0;jr<Cr.length;jr+=1){var Kr=Cr[jr],an=cr(Kr,0,1),Un=cr(Kr,-1);if((an==='"'||an==="'"||an==="`"||Un==='"'||Un==="'"||Un==="`")&&an!==Un)throw new ut("property names with quotes must have matching quotes");if((Kr==="constructor"||!Wr)&&(Nr=!0),Fr+="."+Kr,Hr="%"+Fr+"%",gr(or,Hr))Gr=or[Hr];else if(Gr!=null){if(!(Kr in Gr)){if(!Ar)throw new bt("base intrinsic for "+kr+" exists, but the property is not available.");return}if(nr&&jr+1>=Cr.length){var Vn=nr(Gr,Kr);Wr=!!Vn,Wr&&"get"in Vn&&!("originalValue"in Vn.get)?Gr=Vn.get:Gr=Gr[Kr]}else Wr=gr(Gr,Kr),Gr=Gr[Kr];Wr&&!Nr&&(or[Hr]=Gr)}}return Gr},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var a=requireGetIntrinsic(),s=requireCallBindApplyHelpers(),et=s([a("%String.prototype.indexOf%")]);return callBound=function(at,ct){var ut=a(at,!!ct);return typeof ut=="function"&&et(at,".prototype.")>-1?s([ut]):ut},callBound}var isArguments$1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$1;hasRequiredIsArguments=1;var a=requireShams()(),s=requireCallBound(),et=s("Object.prototype.toString"),tt=function(bt){return a&&bt&&typeof bt=="object"&&Symbol.toStringTag in bt?!1:et(bt)==="[object Arguments]"},at=function(bt){return tt(bt)?!0:bt!==null&&typeof bt=="object"&&"length"in bt&&typeof bt.length=="number"&&bt.length>=0&&et(bt)!=="[object Array]"&&"callee"in bt&&et(bt.callee)==="[object Function]"},ct=function(){return tt(arguments)}();return tt.isLegacyArguments=at,isArguments$1=ct?tt:at,isArguments$1}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var a=requireCallBound(),s=requireShams()(),et=requireHasown(),tt=requireGopd(),at;if(s){var ct=a("RegExp.prototype.exec"),ut={},bt=function(){throw ut},wt={toString:bt,valueOf:bt};typeof Symbol.toPrimitive=="symbol"&&(wt[Symbol.toPrimitive]=bt),at=function(Lt){if(!Lt||typeof Lt!="object")return!1;var Ut=tt(Lt,"lastIndex"),Vt=Ut&&et(Ut,"value");if(!Vt)return!1;try{ct(Lt,wt)}catch(Yt){return Yt===ut}}}else{var Et=a("Object.prototype.toString"),Ft="[object RegExp]";at=function(Lt){return!Lt||typeof Lt!="object"&&typeof Lt!="function"?!1:Et(Lt)===Ft}}return isRegex=at,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var a=requireCallBound(),s=requireIsRegex(),et=a("RegExp.prototype.exec"),tt=requireType();return safeRegexTest=function(ct){if(!s(ct))throw new tt("`regex` must be a RegExp");return function(bt){return et(ct,bt)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var a=requireCallBound(),s=requireSafeRegexTest(),et=s(/^\s*(?:function)?\*/),tt=requireShams()(),at=requireGetProto(),ct=a("Object.prototype.toString"),ut=a("Function.prototype.toString"),bt=function(){if(!tt)return!1;try{return Function("return function*() {}")()}catch{}},wt;return isGeneratorFunction=function(Ft){if(typeof Ft!="function")return!1;if(et(ut(Ft)))return!0;if(!tt){var jt=ct(Ft);return jt==="[object GeneratorFunction]"}if(!at)return!1;if(typeof wt>"u"){var Lt=bt();wt=Lt?at(Lt):!1}return at(Ft)===wt},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var a=Function.prototype.toString,s=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,et,tt;if(typeof s=="function"&&typeof Object.defineProperty=="function")try{et=Object.defineProperty({},"length",{get:function(){throw tt}}),tt={},s(function(){throw 42},null,et)}catch(nr){nr!==tt&&(s=null)}else s=null;var at=/^\s*class\b/,ct=function(ir){try{var lr=a.call(ir);return at.test(lr)}catch{return!1}},ut=function(ir){try{return ct(ir)?!1:(a.call(ir),!0)}catch{return!1}},bt=Object.prototype.toString,wt="[object Object]",Et="[object Function]",Ft="[object GeneratorFunction]",jt="[object HTMLAllCollection]",Lt="[object HTML document.all class]",Ut="[object HTMLCollection]",Vt=typeof Symbol=="function"&&!!Symbol.toStringTag,Yt=!(0 in[,]),er=function(){return!1};if(typeof document=="object"){var tr=document.all;bt.call(tr)===bt.call(document.all)&&(er=function(ir){if((Yt||!ir)&&(typeof ir>"u"||typeof ir=="object"))try{var lr=bt.call(ir);return(lr===jt||lr===Lt||lr===Ut||lr===wt)&&ir("")==null}catch{}return!1})}return isCallable=s?function(ir){if(er(ir))return!0;if(!ir||typeof ir!="function"&&typeof ir!="object")return!1;try{s(ir,null,et)}catch(lr){if(lr!==tt)return!1}return!ct(ir)&&ut(ir)}:function(ir){if(er(ir))return!0;if(!ir||typeof ir!="function"&&typeof ir!="object")return!1;if(Vt)return ut(ir);if(ct(ir))return!1;var lr=bt.call(ir);return lr!==Et&&lr!==Ft&&!/^\[object HTML/.test(lr)?!1:ut(ir)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var a=requireIsCallable(),s=Object.prototype.toString,et=Object.prototype.hasOwnProperty,tt=function(wt,Et,Ft){for(var jt=0,Lt=wt.length;jt<Lt;jt++)et.call(wt,jt)&&(Ft==null?Et(wt[jt],jt,wt):Et.call(Ft,wt[jt],jt,wt))},at=function(wt,Et,Ft){for(var jt=0,Lt=wt.length;jt<Lt;jt++)Ft==null?Et(wt.charAt(jt),jt,wt):Et.call(Ft,wt.charAt(jt),jt,wt)},ct=function(wt,Et,Ft){for(var jt in wt)et.call(wt,jt)&&(Ft==null?Et(wt[jt],jt,wt):Et.call(Ft,wt[jt],jt,wt))};function ut(bt){return s.call(bt)==="[object Array]"}return forEach=function(wt,Et,Ft){if(!a(Et))throw new TypeError("iterator must be a function");var jt;arguments.length>=3&&(jt=Ft),ut(wt)?tt(wt,Et,jt):typeof wt=="string"?at(wt,Et,jt):ct(wt,Et,jt)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var a=requirePossibleTypedArrayNames(),s=typeof globalThis>"u"?commonjsGlobal$1:globalThis;return availableTypedArrays=function(){for(var tt=[],at=0;at<a.length;at++)typeof s[a[at]]=="function"&&(tt[tt.length]=a[at]);return tt},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var a=requireEsDefineProperty(),s=requireSyntax(),et=requireType(),tt=requireGopd();return defineDataProperty=function(ct,ut,bt){if(!ct||typeof ct!="object"&&typeof ct!="function")throw new et("`obj` must be an object or a function`");if(typeof ut!="string"&&typeof ut!="symbol")throw new et("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new et("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new et("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new et("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new et("`loose`, if provided, must be a boolean");var wt=arguments.length>3?arguments[3]:null,Et=arguments.length>4?arguments[4]:null,Ft=arguments.length>5?arguments[5]:null,jt=arguments.length>6?arguments[6]:!1,Lt=!!tt&&tt(ct,ut);if(a)a(ct,ut,{configurable:Ft===null&&Lt?Lt.configurable:!Ft,enumerable:wt===null&&Lt?Lt.enumerable:!wt,value:bt,writable:Et===null&&Lt?Lt.writable:!Et});else if(jt||!wt&&!Et&&!Ft)ct[ut]=bt;else throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var a=requireEsDefineProperty(),s=function(){return!!a};return s.hasArrayLengthDefineBug=function(){if(!a)return null;try{return a([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=s,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var a=requireGetIntrinsic(),s=requireDefineDataProperty(),et=requireHasPropertyDescriptors()(),tt=requireGopd(),at=requireType(),ct=a("%Math.floor%");return setFunctionLength=function(bt,wt){if(typeof bt!="function")throw new at("`fn` is not a function");if(typeof wt!="number"||wt<0||wt>4294967295||ct(wt)!==wt)throw new at("`length` must be a positive 32-bit integer");var Et=arguments.length>2&&!!arguments[2],Ft=!0,jt=!0;if("length"in bt&&tt){var Lt=tt(bt,"length");Lt&&!Lt.configurable&&(Ft=!1),Lt&&!Lt.writable&&(jt=!1)}return(Ft||jt||!Et)&&(et?s(bt,"length",wt,!0,!0):s(bt,"length",wt)),bt},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var a=requireFunctionBind(),s=requireFunctionApply(),et=requireActualApply();return applyBind=function(){return et(a,s,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(a){var s=requireSetFunctionLength(),et=requireEsDefineProperty(),tt=requireCallBindApplyHelpers(),at=requireApplyBind();a.exports=function(ut){var bt=tt(arguments),wt=ut.length-(arguments.length-1);return s(bt,1+(wt>0?wt:0),!0)},et?et(a.exports,"apply",{value:at}):a.exports.apply=at}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var a=requireForEach(),s=requireAvailableTypedArrays(),et=requireCallBind(),tt=requireCallBound(),at=requireGopd(),ct=requireGetProto(),ut=tt("Object.prototype.toString"),bt=requireShams()(),wt=typeof globalThis>"u"?commonjsGlobal$1:globalThis,Et=s(),Ft=tt("String.prototype.slice"),jt=tt("Array.prototype.indexOf",!0)||function(er,tr){for(var nr=0;nr<er.length;nr+=1)if(er[nr]===tr)return nr;return-1},Lt={__proto__:null};bt&&at&&ct?a(Et,function(Yt){var er=new wt[Yt];if(Symbol.toStringTag in er&&ct){var tr=ct(er),nr=at(tr,Symbol.toStringTag);if(!nr&&tr){var ir=ct(tr);nr=at(ir,Symbol.toStringTag)}Lt["$"+Yt]=et(nr.get)}}):a(Et,function(Yt){var er=new wt[Yt],tr=er.slice||er.set;tr&&(Lt["$"+Yt]=et(tr))});var Ut=function(er){var tr=!1;return a(Lt,function(nr,ir){if(!tr)try{"$"+nr(er)===ir&&(tr=Ft(ir,1))}catch{}}),tr},Vt=function(er){var tr=!1;return a(Lt,function(nr,ir){if(!tr)try{nr(er),tr=Ft(ir,1)}catch{}}),tr};return whichTypedArray=function(er){if(!er||typeof er!="object")return!1;if(!bt){var tr=Ft(ut(er),8,-1);return jt(Et,tr)>-1?tr:tr!=="Object"?!1:Vt(er)}return at?Ut(er):null},whichTypedArray}var isTypedArray$1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$1;hasRequiredIsTypedArray=1;var a=requireWhichTypedArray();return isTypedArray$1=function(et){return!!a(et)},isTypedArray$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(a){var s=requireIsArguments(),et=requireIsGeneratorFunction(),tt=requireWhichTypedArray(),at=requireIsTypedArray();function ct(jr){return jr.call.bind(jr)}var ut=typeof BigInt<"u",bt=typeof Symbol<"u",wt=ct(Object.prototype.toString),Et=ct(Number.prototype.valueOf),Ft=ct(String.prototype.valueOf),jt=ct(Boolean.prototype.valueOf);if(ut)var Lt=ct(BigInt.prototype.valueOf);if(bt)var Ut=ct(Symbol.prototype.valueOf);function Vt(jr,Wr){if(typeof jr!="object")return!1;try{return Wr(jr),!0}catch{return!1}}a.isArgumentsObject=s,a.isGeneratorFunction=et,a.isTypedArray=at;function Yt(jr){return typeof Promise<"u"&&jr instanceof Promise||jr!==null&&typeof jr=="object"&&typeof jr.then=="function"&&typeof jr.catch=="function"}a.isPromise=Yt;function er(jr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(jr):at(jr)||cr(jr)}a.isArrayBufferView=er;function tr(jr){return tt(jr)==="Uint8Array"}a.isUint8Array=tr;function nr(jr){return tt(jr)==="Uint8ClampedArray"}a.isUint8ClampedArray=nr;function ir(jr){return tt(jr)==="Uint16Array"}a.isUint16Array=ir;function lr(jr){return tt(jr)==="Uint32Array"}a.isUint32Array=lr;function pr(jr){return tt(jr)==="Int8Array"}a.isInt8Array=pr;function yr(jr){return tt(jr)==="Int16Array"}a.isInt16Array=yr;function br(jr){return tt(jr)==="Int32Array"}a.isInt32Array=br;function xr(jr){return tt(jr)==="Float32Array"}a.isFloat32Array=xr;function Er(jr){return tt(jr)==="Float64Array"}a.isFloat64Array=Er;function $r(jr){return tt(jr)==="BigInt64Array"}a.isBigInt64Array=$r;function Sr(jr){return tt(jr)==="BigUint64Array"}a.isBigUint64Array=Sr;function fr(jr){return wt(jr)==="[object Map]"}fr.working=typeof Map<"u"&&fr(new Map);function vr(jr){return typeof Map>"u"?!1:fr.working?fr(jr):jr instanceof Map}a.isMap=vr;function or(jr){return wt(jr)==="[object Set]"}or.working=typeof Set<"u"&&or(new Set);function rr(jr){return typeof Set>"u"?!1:or.working?or(jr):jr instanceof Set}a.isSet=rr;function ar(jr){return wt(jr)==="[object WeakMap]"}ar.working=typeof WeakMap<"u"&&ar(new WeakMap);function sr(jr){return typeof WeakMap>"u"?!1:ar.working?ar(jr):jr instanceof WeakMap}a.isWeakMap=sr;function dr(jr){return wt(jr)==="[object WeakSet]"}dr.working=typeof WeakSet<"u"&&dr(new WeakSet);function gr(jr){return dr(jr)}a.isWeakSet=gr;function ur(jr){return wt(jr)==="[object ArrayBuffer]"}ur.working=typeof ArrayBuffer<"u"&&ur(new ArrayBuffer);function _r(jr){return typeof ArrayBuffer>"u"?!1:ur.working?ur(jr):jr instanceof ArrayBuffer}a.isArrayBuffer=_r;function hr(jr){return wt(jr)==="[object DataView]"}hr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&hr(new DataView(new ArrayBuffer(1),0,1));function cr(jr){return typeof DataView>"u"?!1:hr.working?hr(jr):jr instanceof DataView}a.isDataView=cr;var wr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Br(jr){return wt(jr)==="[object SharedArrayBuffer]"}function Or(jr){return typeof wr>"u"?!1:(typeof Br.working>"u"&&(Br.working=Br(new wr)),Br.working?Br(jr):jr instanceof wr)}a.isSharedArrayBuffer=Or;function Rr(jr){return wt(jr)==="[object AsyncFunction]"}a.isAsyncFunction=Rr;function Pr(jr){return wt(jr)==="[object Map Iterator]"}a.isMapIterator=Pr;function Ur(jr){return wt(jr)==="[object Set Iterator]"}a.isSetIterator=Ur;function kr(jr){return wt(jr)==="[object Generator]"}a.isGeneratorObject=kr;function Ar(jr){return wt(jr)==="[object WebAssembly.Module]"}a.isWebAssemblyCompiledModule=Ar;function Cr(jr){return Vt(jr,Et)}a.isNumberObject=Cr;function Fr(jr){return Vt(jr,Ft)}a.isStringObject=Fr;function Lr(jr){return Vt(jr,jt)}a.isBooleanObject=Lr;function Hr(jr){return ut&&Vt(jr,Lt)}a.isBigIntObject=Hr;function Gr(jr){return bt&&Vt(jr,Ut)}a.isSymbolObject=Gr;function Nr(jr){return Cr(jr)||Fr(jr)||Lr(jr)||Hr(jr)||Gr(jr)}a.isBoxedPrimitive=Nr;function Vr(jr){return typeof Uint8Array<"u"&&(_r(jr)||Or(jr))}a.isAnyArrayBuffer=Vr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(jr){Object.defineProperty(a,jr,{enumerable:!1,value:function(){throw new Error(jr+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(a){var s={},et=Object.getOwnPropertyDescriptors||function(wr){for(var Br=Object.keys(wr),Or={},Rr=0;Rr<Br.length;Rr++)Or[Br[Rr]]=Object.getOwnPropertyDescriptor(wr,Br[Rr]);return Or},tt=/%[sdj%]/g;a.format=function(cr){if(!yr(cr)){for(var wr=[],Br=0;Br<arguments.length;Br++)wr.push(bt(arguments[Br]));return wr.join(" ")}for(var Br=1,Or=arguments,Rr=Or.length,Pr=String(cr).replace(tt,function(kr){if(kr==="%%")return"%";if(Br>=Rr)return kr;switch(kr){case"%s":return String(Or[Br++]);case"%d":return Number(Or[Br++]);case"%j":try{return JSON.stringify(Or[Br++])}catch{return"[Circular]"}default:return kr}}),Ur=Or[Br];Br<Rr;Ur=Or[++Br])ir(Ur)||!$r(Ur)?Pr+=" "+Ur:Pr+=" "+bt(Ur);return Pr},a.deprecate=function(cr,wr){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return cr;if(typeof process$1>"u")return function(){return a.deprecate(cr,wr).apply(this,arguments)};var Br=!1;function Or(){if(!Br){if(process$1.throwDeprecation)throw new Error(wr);process$1.traceDeprecation?console.trace(wr):console.error(wr),Br=!0}return cr.apply(this,arguments)}return Or};var at={},ct=/^$/;if(s.NODE_DEBUG){var ut=s.NODE_DEBUG;ut=ut.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ct=new RegExp("^"+ut+"$","i")}a.debuglog=function(cr){if(cr=cr.toUpperCase(),!at[cr])if(ct.test(cr)){var wr=process$1.pid;at[cr]=function(){var Br=a.format.apply(a,arguments);console.error("%s %d: %s",cr,wr,Br)}}else at[cr]=function(){};return at[cr]};function bt(cr,wr){var Br={seen:[],stylize:Et};return arguments.length>=3&&(Br.depth=arguments[2]),arguments.length>=4&&(Br.colors=arguments[3]),nr(wr)?Br.showHidden=wr:wr&&a._extend(Br,wr),xr(Br.showHidden)&&(Br.showHidden=!1),xr(Br.depth)&&(Br.depth=2),xr(Br.colors)&&(Br.colors=!1),xr(Br.customInspect)&&(Br.customInspect=!0),Br.colors&&(Br.stylize=wt),jt(Br,cr,Br.depth)}a.inspect=bt,bt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},bt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function wt(cr,wr){var Br=bt.styles[wr];return Br?"\x1B["+bt.colors[Br][0]+"m"+cr+"\x1B["+bt.colors[Br][1]+"m":cr}function Et(cr,wr){return cr}function Ft(cr){var wr={};return cr.forEach(function(Br,Or){wr[Br]=!0}),wr}function jt(cr,wr,Br){if(cr.customInspect&&wr&&vr(wr.inspect)&&wr.inspect!==a.inspect&&!(wr.constructor&&wr.constructor.prototype===wr)){var Or=wr.inspect(Br,cr);return yr(Or)||(Or=jt(cr,Or,Br)),Or}var Rr=Lt(cr,wr);if(Rr)return Rr;var Pr=Object.keys(wr),Ur=Ft(Pr);if(cr.showHidden&&(Pr=Object.getOwnPropertyNames(wr)),fr(wr)&&(Pr.indexOf("message")>=0||Pr.indexOf("description")>=0))return Ut(wr);if(Pr.length===0){if(vr(wr)){var kr=wr.name?": "+wr.name:"";return cr.stylize("[Function"+kr+"]","special")}if(Er(wr))return cr.stylize(RegExp.prototype.toString.call(wr),"regexp");if(Sr(wr))return cr.stylize(Date.prototype.toString.call(wr),"date");if(fr(wr))return Ut(wr)}var Ar="",Cr=!1,Fr=["{","}"];if(tr(wr)&&(Cr=!0,Fr=["[","]"]),vr(wr)){var Lr=wr.name?": "+wr.name:"";Ar=" [Function"+Lr+"]"}if(Er(wr)&&(Ar=" "+RegExp.prototype.toString.call(wr)),Sr(wr)&&(Ar=" "+Date.prototype.toUTCString.call(wr)),fr(wr)&&(Ar=" "+Ut(wr)),Pr.length===0&&(!Cr||wr.length==0))return Fr[0]+Ar+Fr[1];if(Br<0)return Er(wr)?cr.stylize(RegExp.prototype.toString.call(wr),"regexp"):cr.stylize("[Object]","special");cr.seen.push(wr);var Hr;return Cr?Hr=Vt(cr,wr,Br,Ur,Pr):Hr=Pr.map(function(Gr){return Yt(cr,wr,Br,Ur,Gr,Cr)}),cr.seen.pop(),er(Hr,Ar,Fr)}function Lt(cr,wr){if(xr(wr))return cr.stylize("undefined","undefined");if(yr(wr)){var Br="'"+JSON.stringify(wr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return cr.stylize(Br,"string")}if(pr(wr))return cr.stylize(""+wr,"number");if(nr(wr))return cr.stylize(""+wr,"boolean");if(ir(wr))return cr.stylize("null","null")}function Ut(cr){return"["+Error.prototype.toString.call(cr)+"]"}function Vt(cr,wr,Br,Or,Rr){for(var Pr=[],Ur=0,kr=wr.length;Ur<kr;++Ur)gr(wr,String(Ur))?Pr.push(Yt(cr,wr,Br,Or,String(Ur),!0)):Pr.push("");return Rr.forEach(function(Ar){Ar.match(/^\d+$/)||Pr.push(Yt(cr,wr,Br,Or,Ar,!0))}),Pr}function Yt(cr,wr,Br,Or,Rr,Pr){var Ur,kr,Ar;if(Ar=Object.getOwnPropertyDescriptor(wr,Rr)||{value:wr[Rr]},Ar.get?Ar.set?kr=cr.stylize("[Getter/Setter]","special"):kr=cr.stylize("[Getter]","special"):Ar.set&&(kr=cr.stylize("[Setter]","special")),gr(Or,Rr)||(Ur="["+Rr+"]"),kr||(cr.seen.indexOf(Ar.value)<0?(ir(Br)?kr=jt(cr,Ar.value,null):kr=jt(cr,Ar.value,Br-1),kr.indexOf(`
`)>-1&&(Pr?kr=kr.split(`
`).map(function(Cr){return"  "+Cr}).join(`
`).slice(2):kr=`
`+kr.split(`
`).map(function(Cr){return"   "+Cr}).join(`
`))):kr=cr.stylize("[Circular]","special")),xr(Ur)){if(Pr&&Rr.match(/^\d+$/))return kr;Ur=JSON.stringify(""+Rr),Ur.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ur=Ur.slice(1,-1),Ur=cr.stylize(Ur,"name")):(Ur=Ur.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ur=cr.stylize(Ur,"string"))}return Ur+": "+kr}function er(cr,wr,Br){var Or=cr.reduce(function(Rr,Pr){return Pr.indexOf(`
`)>=0,Rr+Pr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Or>60?Br[0]+(wr===""?"":wr+`
 `)+" "+cr.join(`,
  `)+" "+Br[1]:Br[0]+wr+" "+cr.join(", ")+" "+Br[1]}a.types=requireTypes();function tr(cr){return Array.isArray(cr)}a.isArray=tr;function nr(cr){return typeof cr=="boolean"}a.isBoolean=nr;function ir(cr){return cr===null}a.isNull=ir;function lr(cr){return cr==null}a.isNullOrUndefined=lr;function pr(cr){return typeof cr=="number"}a.isNumber=pr;function yr(cr){return typeof cr=="string"}a.isString=yr;function br(cr){return typeof cr=="symbol"}a.isSymbol=br;function xr(cr){return cr===void 0}a.isUndefined=xr;function Er(cr){return $r(cr)&&rr(cr)==="[object RegExp]"}a.isRegExp=Er,a.types.isRegExp=Er;function $r(cr){return typeof cr=="object"&&cr!==null}a.isObject=$r;function Sr(cr){return $r(cr)&&rr(cr)==="[object Date]"}a.isDate=Sr,a.types.isDate=Sr;function fr(cr){return $r(cr)&&(rr(cr)==="[object Error]"||cr instanceof Error)}a.isError=fr,a.types.isNativeError=fr;function vr(cr){return typeof cr=="function"}a.isFunction=vr;function or(cr){return cr===null||typeof cr=="boolean"||typeof cr=="number"||typeof cr=="string"||typeof cr=="symbol"||typeof cr>"u"}a.isPrimitive=or,a.isBuffer=requireIsBufferBrowser();function rr(cr){return Object.prototype.toString.call(cr)}function ar(cr){return cr<10?"0"+cr.toString(10):cr.toString(10)}var sr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function dr(){var cr=new Date,wr=[ar(cr.getHours()),ar(cr.getMinutes()),ar(cr.getSeconds())].join(":");return[cr.getDate(),sr[cr.getMonth()],wr].join(" ")}a.log=function(){console.log("%s - %s",dr(),a.format.apply(a,arguments))},a.inherits=requireInherits_browser(),a._extend=function(cr,wr){if(!wr||!$r(wr))return cr;for(var Br=Object.keys(wr),Or=Br.length;Or--;)cr[Br[Or]]=wr[Br[Or]];return cr};function gr(cr,wr){return Object.prototype.hasOwnProperty.call(cr,wr)}var ur=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;a.promisify=function(wr){if(typeof wr!="function")throw new TypeError('The "original" argument must be of type Function');if(ur&&wr[ur]){var Br=wr[ur];if(typeof Br!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Br,ur,{value:Br,enumerable:!1,writable:!1,configurable:!0}),Br}function Br(){for(var Or,Rr,Pr=new Promise(function(Ar,Cr){Or=Ar,Rr=Cr}),Ur=[],kr=0;kr<arguments.length;kr++)Ur.push(arguments[kr]);Ur.push(function(Ar,Cr){Ar?Rr(Ar):Or(Cr)});try{wr.apply(this,Ur)}catch(Ar){Rr(Ar)}return Pr}return Object.setPrototypeOf(Br,Object.getPrototypeOf(wr)),ur&&Object.defineProperty(Br,ur,{value:Br,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Br,et(wr))},a.promisify.custom=ur;function _r(cr,wr){if(!cr){var Br=new Error("Promise was rejected with a falsy value");Br.reason=cr,cr=Br}return wr(cr)}function hr(cr){if(typeof cr!="function")throw new TypeError('The "original" argument must be of type Function');function wr(){for(var Br=[],Or=0;Or<arguments.length;Or++)Br.push(arguments[Or]);var Rr=Br.pop();if(typeof Rr!="function")throw new TypeError("The last argument must be of type Function");var Pr=this,Ur=function(){return Rr.apply(Pr,arguments)};cr.apply(this,Br).then(function(kr){process$1.nextTick(Ur.bind(null,null,kr))},function(kr){process$1.nextTick(_r.bind(null,kr,Ur))})}return Object.setPrototypeOf(wr,Object.getPrototypeOf(cr)),Object.defineProperties(wr,et(cr)),wr}a.callbackify=hr}(util$4)),util$4}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function a(Vt,Yt){var er=Object.keys(Vt);if(Object.getOwnPropertySymbols){var tr=Object.getOwnPropertySymbols(Vt);Yt&&(tr=tr.filter(function(nr){return Object.getOwnPropertyDescriptor(Vt,nr).enumerable})),er.push.apply(er,tr)}return er}function s(Vt){for(var Yt=1;Yt<arguments.length;Yt++){var er=arguments[Yt]!=null?arguments[Yt]:{};Yt%2?a(Object(er),!0).forEach(function(tr){et(Vt,tr,er[tr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Vt,Object.getOwnPropertyDescriptors(er)):a(Object(er)).forEach(function(tr){Object.defineProperty(Vt,tr,Object.getOwnPropertyDescriptor(er,tr))})}return Vt}function et(Vt,Yt,er){return Yt=ut(Yt),Yt in Vt?Object.defineProperty(Vt,Yt,{value:er,enumerable:!0,configurable:!0,writable:!0}):Vt[Yt]=er,Vt}function tt(Vt,Yt){if(!(Vt instanceof Yt))throw new TypeError("Cannot call a class as a function")}function at(Vt,Yt){for(var er=0;er<Yt.length;er++){var tr=Yt[er];tr.enumerable=tr.enumerable||!1,tr.configurable=!0,"value"in tr&&(tr.writable=!0),Object.defineProperty(Vt,ut(tr.key),tr)}}function ct(Vt,Yt,er){return Yt&&at(Vt.prototype,Yt),Object.defineProperty(Vt,"prototype",{writable:!1}),Vt}function ut(Vt){var Yt=bt(Vt,"string");return typeof Yt=="symbol"?Yt:String(Yt)}function bt(Vt,Yt){if(typeof Vt!="object"||Vt===null)return Vt;var er=Vt[Symbol.toPrimitive];if(er!==void 0){var tr=er.call(Vt,Yt);if(typeof tr!="object")return tr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Vt)}var wt=require$$1$3,Et=wt.Buffer,Ft=requireUtil$1(),jt=Ft.inspect,Lt=jt&&jt.custom||"inspect";function Ut(Vt,Yt,er){Et.prototype.copy.call(Vt,Yt,er)}return buffer_list=function(){function Vt(){tt(this,Vt),this.head=null,this.tail=null,this.length=0}return ct(Vt,[{key:"push",value:function(er){var tr={data:er,next:null};this.length>0?this.tail.next=tr:this.head=tr,this.tail=tr,++this.length}},{key:"unshift",value:function(er){var tr={data:er,next:this.head};this.length===0&&(this.tail=tr),this.head=tr,++this.length}},{key:"shift",value:function(){if(this.length!==0){var er=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,er}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(er){if(this.length===0)return"";for(var tr=this.head,nr=""+tr.data;tr=tr.next;)nr+=er+tr.data;return nr}},{key:"concat",value:function(er){if(this.length===0)return Et.alloc(0);for(var tr=Et.allocUnsafe(er>>>0),nr=this.head,ir=0;nr;)Ut(nr.data,tr,ir),ir+=nr.data.length,nr=nr.next;return tr}},{key:"consume",value:function(er,tr){var nr;return er<this.head.data.length?(nr=this.head.data.slice(0,er),this.head.data=this.head.data.slice(er)):er===this.head.data.length?nr=this.shift():nr=tr?this._getString(er):this._getBuffer(er),nr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(er){var tr=this.head,nr=1,ir=tr.data;for(er-=ir.length;tr=tr.next;){var lr=tr.data,pr=er>lr.length?lr.length:er;if(pr===lr.length?ir+=lr:ir+=lr.slice(0,er),er-=pr,er===0){pr===lr.length?(++nr,tr.next?this.head=tr.next:this.head=this.tail=null):(this.head=tr,tr.data=lr.slice(pr));break}++nr}return this.length-=nr,ir}},{key:"_getBuffer",value:function(er){var tr=Et.allocUnsafe(er),nr=this.head,ir=1;for(nr.data.copy(tr),er-=nr.data.length;nr=nr.next;){var lr=nr.data,pr=er>lr.length?lr.length:er;if(lr.copy(tr,tr.length-er,0,pr),er-=pr,er===0){pr===lr.length?(++ir,nr.next?this.head=nr.next:this.head=this.tail=null):(this.head=nr,nr.data=lr.slice(pr));break}++ir}return this.length-=ir,tr}},{key:Lt,value:function(er,tr){return jt(this,s(s({},tr),{},{depth:0,customInspect:!1}))}}]),Vt}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function a(ut,bt){var wt=this,Et=this._readableState&&this._readableState.destroyed,Ft=this._writableState&&this._writableState.destroyed;return Et||Ft?(bt?bt(ut):ut&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(at,this,ut)):process$1.nextTick(at,this,ut)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ut||null,function(jt){!bt&&jt?wt._writableState?wt._writableState.errorEmitted?process$1.nextTick(et,wt):(wt._writableState.errorEmitted=!0,process$1.nextTick(s,wt,jt)):process$1.nextTick(s,wt,jt):bt?(process$1.nextTick(et,wt),bt(jt)):process$1.nextTick(et,wt)}),this)}function s(ut,bt){at(ut,bt),et(ut)}function et(ut){ut._writableState&&!ut._writableState.emitClose||ut._readableState&&!ut._readableState.emitClose||ut.emit("close")}function tt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function at(ut,bt){ut.emit("error",bt)}function ct(ut,bt){var wt=ut._readableState,Et=ut._writableState;wt&&wt.autoDestroy||Et&&Et.autoDestroy?ut.destroy(bt):ut.emit("error",bt)}return destroy_1$1={destroy:a,undestroy:tt,errorOrDestroy:ct},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function a(bt,wt){bt.prototype=Object.create(wt.prototype),bt.prototype.constructor=bt,bt.__proto__=wt}var s={};function et(bt,wt,Et){Et||(Et=Error);function Ft(Lt,Ut,Vt){return typeof wt=="string"?wt:wt(Lt,Ut,Vt)}var jt=function(Lt){a(Ut,Lt);function Ut(Vt,Yt,er){return Lt.call(this,Ft(Vt,Yt,er))||this}return Ut}(Et);jt.prototype.name=Et.name,jt.prototype.code=bt,s[bt]=jt}function tt(bt,wt){if(Array.isArray(bt)){var Et=bt.length;return bt=bt.map(function(Ft){return String(Ft)}),Et>2?"one of ".concat(wt," ").concat(bt.slice(0,Et-1).join(", "),", or ")+bt[Et-1]:Et===2?"one of ".concat(wt," ").concat(bt[0]," or ").concat(bt[1]):"of ".concat(wt," ").concat(bt[0])}else return"of ".concat(wt," ").concat(String(bt))}function at(bt,wt,Et){return bt.substr(0,wt.length)===wt}function ct(bt,wt,Et){return(Et===void 0||Et>bt.length)&&(Et=bt.length),bt.substring(Et-wt.length,Et)===wt}function ut(bt,wt,Et){return typeof Et!="number"&&(Et=0),Et+wt.length>bt.length?!1:bt.indexOf(wt,Et)!==-1}return et("ERR_INVALID_OPT_VALUE",function(bt,wt){return'The value "'+wt+'" is invalid for option "'+bt+'"'},TypeError),et("ERR_INVALID_ARG_TYPE",function(bt,wt,Et){var Ft;typeof wt=="string"&&at(wt,"not ")?(Ft="must not be",wt=wt.replace(/^not /,"")):Ft="must be";var jt;if(ct(bt," argument"))jt="The ".concat(bt," ").concat(Ft," ").concat(tt(wt,"type"));else{var Lt=ut(bt,".")?"property":"argument";jt='The "'.concat(bt,'" ').concat(Lt," ").concat(Ft," ").concat(tt(wt,"type"))}return jt+=". Received type ".concat(typeof Et),jt},TypeError),et("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),et("ERR_METHOD_NOT_IMPLEMENTED",function(bt){return"The "+bt+" method is not implemented"}),et("ERR_STREAM_PREMATURE_CLOSE","Premature close"),et("ERR_STREAM_DESTROYED",function(bt){return"Cannot call "+bt+" after a stream was destroyed"}),et("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),et("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),et("ERR_STREAM_WRITE_AFTER_END","write after end"),et("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),et("ERR_UNKNOWN_ENCODING",function(bt){return"Unknown encoding: "+bt},TypeError),et("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=s,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var a=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function s(tt,at,ct){return tt.highWaterMark!=null?tt.highWaterMark:at?tt[ct]:null}function et(tt,at,ct,ut){var bt=s(at,ut,ct);if(bt!=null){if(!(isFinite(bt)&&Math.floor(bt)===bt)||bt<0){var wt=ut?ct:"highWaterMark";throw new a(wt,bt)}return Math.floor(bt)}return tt.objectMode?16:16*1024}return state={getHighWaterMark:et},state}var browser$c,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$c;hasRequiredBrowser$a=1,browser$c=a;function a(et,tt){if(s("noDeprecation"))return et;var at=!1;function ct(){if(!at){if(s("throwDeprecation"))throw new Error(tt);s("traceDeprecation")?console.trace(tt):console.warn(tt),at=!0}return et.apply(this,arguments)}return ct}function s(et){try{if(!commonjsGlobal$1.localStorage)return!1}catch{return!1}var tt=commonjsGlobal$1.localStorage[et];return tt==null?!1:String(tt).toLowerCase()==="true"}return browser$c}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=xr;function a(Or){var Rr=this;this.next=null,this.entry=null,this.finish=function(){Br(Rr,Or)}}var s;xr.WritableState=yr;var et={deprecate:requireBrowser$a()},tt=requireStreamBrowser$1(),at=require$$1$3.Buffer,ct=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ut(Or){return at.from(Or)}function bt(Or){return at.isBuffer(Or)||Or instanceof ct}var wt=requireDestroy$1(),Et=requireState(),Ft=Et.getHighWaterMark,jt=requireErrorsBrowser().codes,Lt=jt.ERR_INVALID_ARG_TYPE,Ut=jt.ERR_METHOD_NOT_IMPLEMENTED,Vt=jt.ERR_MULTIPLE_CALLBACK,Yt=jt.ERR_STREAM_CANNOT_PIPE,er=jt.ERR_STREAM_DESTROYED,tr=jt.ERR_STREAM_NULL_VALUES,nr=jt.ERR_STREAM_WRITE_AFTER_END,ir=jt.ERR_UNKNOWN_ENCODING,lr=wt.errorOrDestroy;requireInherits_browser()(xr,tt);function pr(){}function yr(Or,Rr,Pr){s=s||require_stream_duplex$1(),Or=Or||{},typeof Pr!="boolean"&&(Pr=Rr instanceof s),this.objectMode=!!Or.objectMode,Pr&&(this.objectMode=this.objectMode||!!Or.writableObjectMode),this.highWaterMark=Ft(this,Or,"writableHighWaterMark",Pr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ur=Or.decodeStrings===!1;this.decodeStrings=!Ur,this.defaultEncoding=Or.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(kr){ar(Rr,kr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Or.emitClose!==!1,this.autoDestroy=!!Or.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}yr.prototype.getBuffer=function(){for(var Rr=this.bufferedRequest,Pr=[];Rr;)Pr.push(Rr),Rr=Rr.next;return Pr},function(){try{Object.defineProperty(yr.prototype,"buffer",{get:et.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var br;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(br=Function.prototype[Symbol.hasInstance],Object.defineProperty(xr,Symbol.hasInstance,{value:function(Rr){return br.call(this,Rr)?!0:this!==xr?!1:Rr&&Rr._writableState instanceof yr}})):br=function(Rr){return Rr instanceof this};function xr(Or){s=s||require_stream_duplex$1();var Rr=this instanceof s;if(!Rr&&!br.call(xr,this))return new xr(Or);this._writableState=new yr(Or,this,Rr),this.writable=!0,Or&&(typeof Or.write=="function"&&(this._write=Or.write),typeof Or.writev=="function"&&(this._writev=Or.writev),typeof Or.destroy=="function"&&(this._destroy=Or.destroy),typeof Or.final=="function"&&(this._final=Or.final)),tt.call(this)}xr.prototype.pipe=function(){lr(this,new Yt)};function Er(Or,Rr){var Pr=new nr;lr(Or,Pr),process$1.nextTick(Rr,Pr)}function $r(Or,Rr,Pr,Ur){var kr;return Pr===null?kr=new tr:typeof Pr!="string"&&!Rr.objectMode&&(kr=new Lt("chunk",["string","Buffer"],Pr)),kr?(lr(Or,kr),process$1.nextTick(Ur,kr),!1):!0}xr.prototype.write=function(Or,Rr,Pr){var Ur=this._writableState,kr=!1,Ar=!Ur.objectMode&&bt(Or);return Ar&&!at.isBuffer(Or)&&(Or=ut(Or)),typeof Rr=="function"&&(Pr=Rr,Rr=null),Ar?Rr="buffer":Rr||(Rr=Ur.defaultEncoding),typeof Pr!="function"&&(Pr=pr),Ur.ending?Er(this,Pr):(Ar||$r(this,Ur,Or,Pr))&&(Ur.pendingcb++,kr=fr(this,Ur,Ar,Or,Rr,Pr)),kr},xr.prototype.cork=function(){this._writableState.corked++},xr.prototype.uncork=function(){var Or=this._writableState;Or.corked&&(Or.corked--,!Or.writing&&!Or.corked&&!Or.bufferProcessing&&Or.bufferedRequest&&gr(this,Or))},xr.prototype.setDefaultEncoding=function(Rr){if(typeof Rr=="string"&&(Rr=Rr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Rr+"").toLowerCase())>-1))throw new ir(Rr);return this._writableState.defaultEncoding=Rr,this},Object.defineProperty(xr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Sr(Or,Rr,Pr){return!Or.objectMode&&Or.decodeStrings!==!1&&typeof Rr=="string"&&(Rr=at.from(Rr,Pr)),Rr}Object.defineProperty(xr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function fr(Or,Rr,Pr,Ur,kr,Ar){if(!Pr){var Cr=Sr(Rr,Ur,kr);Ur!==Cr&&(Pr=!0,kr="buffer",Ur=Cr)}var Fr=Rr.objectMode?1:Ur.length;Rr.length+=Fr;var Lr=Rr.length<Rr.highWaterMark;if(Lr||(Rr.needDrain=!0),Rr.writing||Rr.corked){var Hr=Rr.lastBufferedRequest;Rr.lastBufferedRequest={chunk:Ur,encoding:kr,isBuf:Pr,callback:Ar,next:null},Hr?Hr.next=Rr.lastBufferedRequest:Rr.bufferedRequest=Rr.lastBufferedRequest,Rr.bufferedRequestCount+=1}else vr(Or,Rr,!1,Fr,Ur,kr,Ar);return Lr}function vr(Or,Rr,Pr,Ur,kr,Ar,Cr){Rr.writelen=Ur,Rr.writecb=Cr,Rr.writing=!0,Rr.sync=!0,Rr.destroyed?Rr.onwrite(new er("write")):Pr?Or._writev(kr,Rr.onwrite):Or._write(kr,Ar,Rr.onwrite),Rr.sync=!1}function or(Or,Rr,Pr,Ur,kr){--Rr.pendingcb,Pr?(process$1.nextTick(kr,Ur),process$1.nextTick(cr,Or,Rr),Or._writableState.errorEmitted=!0,lr(Or,Ur)):(kr(Ur),Or._writableState.errorEmitted=!0,lr(Or,Ur),cr(Or,Rr))}function rr(Or){Or.writing=!1,Or.writecb=null,Or.length-=Or.writelen,Or.writelen=0}function ar(Or,Rr){var Pr=Or._writableState,Ur=Pr.sync,kr=Pr.writecb;if(typeof kr!="function")throw new Vt;if(rr(Pr),Rr)or(Or,Pr,Ur,Rr,kr);else{var Ar=ur(Pr)||Or.destroyed;!Ar&&!Pr.corked&&!Pr.bufferProcessing&&Pr.bufferedRequest&&gr(Or,Pr),Ur?process$1.nextTick(sr,Or,Pr,Ar,kr):sr(Or,Pr,Ar,kr)}}function sr(Or,Rr,Pr,Ur){Pr||dr(Or,Rr),Rr.pendingcb--,Ur(),cr(Or,Rr)}function dr(Or,Rr){Rr.length===0&&Rr.needDrain&&(Rr.needDrain=!1,Or.emit("drain"))}function gr(Or,Rr){Rr.bufferProcessing=!0;var Pr=Rr.bufferedRequest;if(Or._writev&&Pr&&Pr.next){var Ur=Rr.bufferedRequestCount,kr=new Array(Ur),Ar=Rr.corkedRequestsFree;Ar.entry=Pr;for(var Cr=0,Fr=!0;Pr;)kr[Cr]=Pr,Pr.isBuf||(Fr=!1),Pr=Pr.next,Cr+=1;kr.allBuffers=Fr,vr(Or,Rr,!0,Rr.length,kr,"",Ar.finish),Rr.pendingcb++,Rr.lastBufferedRequest=null,Ar.next?(Rr.corkedRequestsFree=Ar.next,Ar.next=null):Rr.corkedRequestsFree=new a(Rr),Rr.bufferedRequestCount=0}else{for(;Pr;){var Lr=Pr.chunk,Hr=Pr.encoding,Gr=Pr.callback,Nr=Rr.objectMode?1:Lr.length;if(vr(Or,Rr,!1,Nr,Lr,Hr,Gr),Pr=Pr.next,Rr.bufferedRequestCount--,Rr.writing)break}Pr===null&&(Rr.lastBufferedRequest=null)}Rr.bufferedRequest=Pr,Rr.bufferProcessing=!1}xr.prototype._write=function(Or,Rr,Pr){Pr(new Ut("_write()"))},xr.prototype._writev=null,xr.prototype.end=function(Or,Rr,Pr){var Ur=this._writableState;return typeof Or=="function"?(Pr=Or,Or=null,Rr=null):typeof Rr=="function"&&(Pr=Rr,Rr=null),Or!=null&&this.write(Or,Rr),Ur.corked&&(Ur.corked=1,this.uncork()),Ur.ending||wr(this,Ur,Pr),this},Object.defineProperty(xr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ur(Or){return Or.ending&&Or.length===0&&Or.bufferedRequest===null&&!Or.finished&&!Or.writing}function _r(Or,Rr){Or._final(function(Pr){Rr.pendingcb--,Pr&&lr(Or,Pr),Rr.prefinished=!0,Or.emit("prefinish"),cr(Or,Rr)})}function hr(Or,Rr){!Rr.prefinished&&!Rr.finalCalled&&(typeof Or._final=="function"&&!Rr.destroyed?(Rr.pendingcb++,Rr.finalCalled=!0,process$1.nextTick(_r,Or,Rr)):(Rr.prefinished=!0,Or.emit("prefinish")))}function cr(Or,Rr){var Pr=ur(Rr);if(Pr&&(hr(Or,Rr),Rr.pendingcb===0&&(Rr.finished=!0,Or.emit("finish"),Rr.autoDestroy))){var Ur=Or._readableState;(!Ur||Ur.autoDestroy&&Ur.endEmitted)&&Or.destroy()}return Pr}function wr(Or,Rr,Pr){Rr.ending=!0,cr(Or,Rr),Pr&&(Rr.finished?process$1.nextTick(Pr):Or.once("finish",Pr)),Rr.ended=!0,Or.writable=!1}function Br(Or,Rr,Pr){var Ur=Or.entry;for(Or.entry=null;Ur;){var kr=Ur.callback;Rr.pendingcb--,kr(Pr),Ur=Ur.next}Rr.corkedRequestsFree.next=Or}return Object.defineProperty(xr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Rr){this._writableState&&(this._writableState.destroyed=Rr)}}),xr.prototype.destroy=wt.destroy,xr.prototype._undestroy=wt.undestroy,xr.prototype._destroy=function(Or,Rr){Rr(Or)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var a=Object.keys||function(Et){var Ft=[];for(var jt in Et)Ft.push(jt);return Ft};_stream_duplex$1=ut;var s=require_stream_readable$1(),et=require_stream_writable$1();requireInherits_browser()(ut,s);for(var tt=a(et.prototype),at=0;at<tt.length;at++){var ct=tt[at];ut.prototype[ct]||(ut.prototype[ct]=et.prototype[ct])}function ut(Et){if(!(this instanceof ut))return new ut(Et);s.call(this,Et),et.call(this,Et),this.allowHalfOpen=!0,Et&&(Et.readable===!1&&(this.readable=!1),Et.writable===!1&&(this.writable=!1),Et.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",bt)))}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ut.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function bt(){this._writableState.ended||process$1.nextTick(wt,this)}function wt(Et){Et.end()}return Object.defineProperty(ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Ft){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Ft,this._writableState.destroyed=Ft)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var a=requireSafeBuffer$1().Buffer,s=a.isEncoding||function(tr){switch(tr=""+tr,tr&&tr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function et(tr){if(!tr)return"utf8";for(var nr;;)switch(tr){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return tr;default:if(nr)return;tr=(""+tr).toLowerCase(),nr=!0}}function tt(tr){var nr=et(tr);if(typeof nr!="string"&&(a.isEncoding===s||!s(tr)))throw new Error("Unknown encoding: "+tr);return nr||tr}string_decoder.StringDecoder=at;function at(tr){this.encoding=tt(tr);var nr;switch(this.encoding){case"utf16le":this.text=jt,this.end=Lt,nr=4;break;case"utf8":this.fillLast=wt,nr=4;break;case"base64":this.text=Ut,this.end=Vt,nr=3;break;default:this.write=Yt,this.end=er;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(nr)}at.prototype.write=function(tr){if(tr.length===0)return"";var nr,ir;if(this.lastNeed){if(nr=this.fillLast(tr),nr===void 0)return"";ir=this.lastNeed,this.lastNeed=0}else ir=0;return ir<tr.length?nr?nr+this.text(tr,ir):this.text(tr,ir):nr||""},at.prototype.end=Ft,at.prototype.text=Et,at.prototype.fillLast=function(tr){if(this.lastNeed<=tr.length)return tr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);tr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,tr.length),this.lastNeed-=tr.length};function ct(tr){return tr<=127?0:tr>>5===6?2:tr>>4===14?3:tr>>3===30?4:tr>>6===2?-1:-2}function ut(tr,nr,ir){var lr=nr.length-1;if(lr<ir)return 0;var pr=ct(nr[lr]);return pr>=0?(pr>0&&(tr.lastNeed=pr-1),pr):--lr<ir||pr===-2?0:(pr=ct(nr[lr]),pr>=0?(pr>0&&(tr.lastNeed=pr-2),pr):--lr<ir||pr===-2?0:(pr=ct(nr[lr]),pr>=0?(pr>0&&(pr===2?pr=0:tr.lastNeed=pr-3),pr):0))}function bt(tr,nr,ir){if((nr[0]&192)!==128)return tr.lastNeed=0,"�";if(tr.lastNeed>1&&nr.length>1){if((nr[1]&192)!==128)return tr.lastNeed=1,"�";if(tr.lastNeed>2&&nr.length>2&&(nr[2]&192)!==128)return tr.lastNeed=2,"�"}}function wt(tr){var nr=this.lastTotal-this.lastNeed,ir=bt(this,tr);if(ir!==void 0)return ir;if(this.lastNeed<=tr.length)return tr.copy(this.lastChar,nr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);tr.copy(this.lastChar,nr,0,tr.length),this.lastNeed-=tr.length}function Et(tr,nr){var ir=ut(this,tr,nr);if(!this.lastNeed)return tr.toString("utf8",nr);this.lastTotal=ir;var lr=tr.length-(ir-this.lastNeed);return tr.copy(this.lastChar,0,lr),tr.toString("utf8",nr,lr)}function Ft(tr){var nr=tr&&tr.length?this.write(tr):"";return this.lastNeed?nr+"�":nr}function jt(tr,nr){if((tr.length-nr)%2===0){var ir=tr.toString("utf16le",nr);if(ir){var lr=ir.charCodeAt(ir.length-1);if(lr>=55296&&lr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=tr[tr.length-2],this.lastChar[1]=tr[tr.length-1],ir.slice(0,-1)}return ir}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=tr[tr.length-1],tr.toString("utf16le",nr,tr.length-1)}function Lt(tr){var nr=tr&&tr.length?this.write(tr):"";if(this.lastNeed){var ir=this.lastTotal-this.lastNeed;return nr+this.lastChar.toString("utf16le",0,ir)}return nr}function Ut(tr,nr){var ir=(tr.length-nr)%3;return ir===0?tr.toString("base64",nr):(this.lastNeed=3-ir,this.lastTotal=3,ir===1?this.lastChar[0]=tr[tr.length-1]:(this.lastChar[0]=tr[tr.length-2],this.lastChar[1]=tr[tr.length-1]),tr.toString("base64",nr,tr.length-ir))}function Vt(tr){var nr=tr&&tr.length?this.write(tr):"";return this.lastNeed?nr+this.lastChar.toString("base64",0,3-this.lastNeed):nr}function Yt(tr){return tr.toString(this.encoding)}function er(tr){return tr&&tr.length?this.write(tr):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var a=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function s(ct){var ut=!1;return function(){if(!ut){ut=!0;for(var bt=arguments.length,wt=new Array(bt),Et=0;Et<bt;Et++)wt[Et]=arguments[Et];ct.apply(this,wt)}}}function et(){}function tt(ct){return ct.setHeader&&typeof ct.abort=="function"}function at(ct,ut,bt){if(typeof ut=="function")return at(ct,null,ut);ut||(ut={}),bt=s(bt||et);var wt=ut.readable||ut.readable!==!1&&ct.readable,Et=ut.writable||ut.writable!==!1&&ct.writable,Ft=function(){ct.writable||Lt()},jt=ct._writableState&&ct._writableState.finished,Lt=function(){Et=!1,jt=!0,wt||bt.call(ct)},Ut=ct._readableState&&ct._readableState.endEmitted,Vt=function(){wt=!1,Ut=!0,Et||bt.call(ct)},Yt=function(ir){bt.call(ct,ir)},er=function(){var ir;if(wt&&!Ut)return(!ct._readableState||!ct._readableState.ended)&&(ir=new a),bt.call(ct,ir);if(Et&&!jt)return(!ct._writableState||!ct._writableState.ended)&&(ir=new a),bt.call(ct,ir)},tr=function(){ct.req.on("finish",Lt)};return tt(ct)?(ct.on("complete",Lt),ct.on("abort",er),ct.req?tr():ct.on("request",tr)):Et&&!ct._writableState&&(ct.on("end",Ft),ct.on("close",Ft)),ct.on("end",Vt),ct.on("finish",Lt),ut.error!==!1&&ct.on("error",Yt),ct.on("close",er),function(){ct.removeListener("complete",Lt),ct.removeListener("abort",er),ct.removeListener("request",tr),ct.req&&ct.req.removeListener("finish",Lt),ct.removeListener("end",Ft),ct.removeListener("close",Ft),ct.removeListener("finish",Lt),ct.removeListener("end",Vt),ct.removeListener("error",Yt),ct.removeListener("close",er)}}return endOfStream=at,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var a;function s(ir,lr,pr){return lr=et(lr),lr in ir?Object.defineProperty(ir,lr,{value:pr,enumerable:!0,configurable:!0,writable:!0}):ir[lr]=pr,ir}function et(ir){var lr=tt(ir,"string");return typeof lr=="symbol"?lr:String(lr)}function tt(ir,lr){if(typeof ir!="object"||ir===null)return ir;var pr=ir[Symbol.toPrimitive];if(pr!==void 0){var yr=pr.call(ir,lr);if(typeof yr!="object")return yr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lr==="string"?String:Number)(ir)}var at=requireEndOfStream(),ct=Symbol("lastResolve"),ut=Symbol("lastReject"),bt=Symbol("error"),wt=Symbol("ended"),Et=Symbol("lastPromise"),Ft=Symbol("handlePromise"),jt=Symbol("stream");function Lt(ir,lr){return{value:ir,done:lr}}function Ut(ir){var lr=ir[ct];if(lr!==null){var pr=ir[jt].read();pr!==null&&(ir[Et]=null,ir[ct]=null,ir[ut]=null,lr(Lt(pr,!1)))}}function Vt(ir){process$1.nextTick(Ut,ir)}function Yt(ir,lr){return function(pr,yr){ir.then(function(){if(lr[wt]){pr(Lt(void 0,!0));return}lr[Ft](pr,yr)},yr)}}var er=Object.getPrototypeOf(function(){}),tr=Object.setPrototypeOf((a={get stream(){return this[jt]},next:function(){var lr=this,pr=this[bt];if(pr!==null)return Promise.reject(pr);if(this[wt])return Promise.resolve(Lt(void 0,!0));if(this[jt].destroyed)return new Promise(function(Er,$r){process$1.nextTick(function(){lr[bt]?$r(lr[bt]):Er(Lt(void 0,!0))})});var yr=this[Et],br;if(yr)br=new Promise(Yt(yr,this));else{var xr=this[jt].read();if(xr!==null)return Promise.resolve(Lt(xr,!1));br=new Promise(this[Ft])}return this[Et]=br,br}},s(a,Symbol.asyncIterator,function(){return this}),s(a,"return",function(){var lr=this;return new Promise(function(pr,yr){lr[jt].destroy(null,function(br){if(br){yr(br);return}pr(Lt(void 0,!0))})})}),a),er),nr=function(lr){var pr,yr=Object.create(tr,(pr={},s(pr,jt,{value:lr,writable:!0}),s(pr,ct,{value:null,writable:!0}),s(pr,ut,{value:null,writable:!0}),s(pr,bt,{value:null,writable:!0}),s(pr,wt,{value:lr._readableState.endEmitted,writable:!0}),s(pr,Ft,{value:function(xr,Er){var $r=yr[jt].read();$r?(yr[Et]=null,yr[ct]=null,yr[ut]=null,xr(Lt($r,!1))):(yr[ct]=xr,yr[ut]=Er)},writable:!0}),pr));return yr[Et]=null,at(lr,function(br){if(br&&br.code!=="ERR_STREAM_PREMATURE_CLOSE"){var xr=yr[ut];xr!==null&&(yr[Et]=null,yr[ct]=null,yr[ut]=null,xr(br)),yr[bt]=br;return}var Er=yr[ct];Er!==null&&(yr[Et]=null,yr[ct]=null,yr[ut]=null,Er(Lt(void 0,!0))),yr[wt]=!0}),lr.on("readable",Vt.bind(null,yr)),yr};return async_iterator=nr,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Er;var a;Er.ReadableState=xr,requireEvents().EventEmitter;var s=function(Cr,Fr){return Cr.listeners(Fr).length},et=requireStreamBrowser$1(),tt=require$$1$3.Buffer,at=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ct(Ar){return tt.from(Ar)}function ut(Ar){return tt.isBuffer(Ar)||Ar instanceof at}var bt=requireUtil$1(),wt;bt&&bt.debuglog?wt=bt.debuglog("stream"):wt=function(){};var Et=requireBuffer_list(),Ft=requireDestroy$1(),jt=requireState(),Lt=jt.getHighWaterMark,Ut=requireErrorsBrowser().codes,Vt=Ut.ERR_INVALID_ARG_TYPE,Yt=Ut.ERR_STREAM_PUSH_AFTER_EOF,er=Ut.ERR_METHOD_NOT_IMPLEMENTED,tr=Ut.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,nr,ir,lr;requireInherits_browser()(Er,et);var pr=Ft.errorOrDestroy,yr=["error","close","destroy","pause","resume"];function br(Ar,Cr,Fr){if(typeof Ar.prependListener=="function")return Ar.prependListener(Cr,Fr);!Ar._events||!Ar._events[Cr]?Ar.on(Cr,Fr):Array.isArray(Ar._events[Cr])?Ar._events[Cr].unshift(Fr):Ar._events[Cr]=[Fr,Ar._events[Cr]]}function xr(Ar,Cr,Fr){a=a||require_stream_duplex$1(),Ar=Ar||{},typeof Fr!="boolean"&&(Fr=Cr instanceof a),this.objectMode=!!Ar.objectMode,Fr&&(this.objectMode=this.objectMode||!!Ar.readableObjectMode),this.highWaterMark=Lt(this,Ar,"readableHighWaterMark",Fr),this.buffer=new Et,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Ar.emitClose!==!1,this.autoDestroy=!!Ar.autoDestroy,this.destroyed=!1,this.defaultEncoding=Ar.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ar.encoding&&(nr||(nr=requireString_decoder().StringDecoder),this.decoder=new nr(Ar.encoding),this.encoding=Ar.encoding)}function Er(Ar){if(a=a||require_stream_duplex$1(),!(this instanceof Er))return new Er(Ar);var Cr=this instanceof a;this._readableState=new xr(Ar,this,Cr),this.readable=!0,Ar&&(typeof Ar.read=="function"&&(this._read=Ar.read),typeof Ar.destroy=="function"&&(this._destroy=Ar.destroy)),et.call(this)}Object.defineProperty(Er.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Cr){this._readableState&&(this._readableState.destroyed=Cr)}}),Er.prototype.destroy=Ft.destroy,Er.prototype._undestroy=Ft.undestroy,Er.prototype._destroy=function(Ar,Cr){Cr(Ar)},Er.prototype.push=function(Ar,Cr){var Fr=this._readableState,Lr;return Fr.objectMode?Lr=!0:typeof Ar=="string"&&(Cr=Cr||Fr.defaultEncoding,Cr!==Fr.encoding&&(Ar=tt.from(Ar,Cr),Cr=""),Lr=!0),$r(this,Ar,Cr,!1,Lr)},Er.prototype.unshift=function(Ar){return $r(this,Ar,null,!0,!1)};function $r(Ar,Cr,Fr,Lr,Hr){wt("readableAddChunk",Cr);var Gr=Ar._readableState;if(Cr===null)Gr.reading=!1,ar(Ar,Gr);else{var Nr;if(Hr||(Nr=fr(Gr,Cr)),Nr)pr(Ar,Nr);else if(Gr.objectMode||Cr&&Cr.length>0)if(typeof Cr!="string"&&!Gr.objectMode&&Object.getPrototypeOf(Cr)!==tt.prototype&&(Cr=ct(Cr)),Lr)Gr.endEmitted?pr(Ar,new tr):Sr(Ar,Gr,Cr,!0);else if(Gr.ended)pr(Ar,new Yt);else{if(Gr.destroyed)return!1;Gr.reading=!1,Gr.decoder&&!Fr?(Cr=Gr.decoder.write(Cr),Gr.objectMode||Cr.length!==0?Sr(Ar,Gr,Cr,!1):gr(Ar,Gr)):Sr(Ar,Gr,Cr,!1)}else Lr||(Gr.reading=!1,gr(Ar,Gr))}return!Gr.ended&&(Gr.length<Gr.highWaterMark||Gr.length===0)}function Sr(Ar,Cr,Fr,Lr){Cr.flowing&&Cr.length===0&&!Cr.sync?(Cr.awaitDrain=0,Ar.emit("data",Fr)):(Cr.length+=Cr.objectMode?1:Fr.length,Lr?Cr.buffer.unshift(Fr):Cr.buffer.push(Fr),Cr.needReadable&&sr(Ar)),gr(Ar,Cr)}function fr(Ar,Cr){var Fr;return!ut(Cr)&&typeof Cr!="string"&&Cr!==void 0&&!Ar.objectMode&&(Fr=new Vt("chunk",["string","Buffer","Uint8Array"],Cr)),Fr}Er.prototype.isPaused=function(){return this._readableState.flowing===!1},Er.prototype.setEncoding=function(Ar){nr||(nr=requireString_decoder().StringDecoder);var Cr=new nr(Ar);this._readableState.decoder=Cr,this._readableState.encoding=this._readableState.decoder.encoding;for(var Fr=this._readableState.buffer.head,Lr="";Fr!==null;)Lr+=Cr.write(Fr.data),Fr=Fr.next;return this._readableState.buffer.clear(),Lr!==""&&this._readableState.buffer.push(Lr),this._readableState.length=Lr.length,this};var vr=1073741824;function or(Ar){return Ar>=vr?Ar=vr:(Ar--,Ar|=Ar>>>1,Ar|=Ar>>>2,Ar|=Ar>>>4,Ar|=Ar>>>8,Ar|=Ar>>>16,Ar++),Ar}function rr(Ar,Cr){return Ar<=0||Cr.length===0&&Cr.ended?0:Cr.objectMode?1:Ar!==Ar?Cr.flowing&&Cr.length?Cr.buffer.head.data.length:Cr.length:(Ar>Cr.highWaterMark&&(Cr.highWaterMark=or(Ar)),Ar<=Cr.length?Ar:Cr.ended?Cr.length:(Cr.needReadable=!0,0))}Er.prototype.read=function(Ar){wt("read",Ar),Ar=parseInt(Ar,10);var Cr=this._readableState,Fr=Ar;if(Ar!==0&&(Cr.emittedReadable=!1),Ar===0&&Cr.needReadable&&((Cr.highWaterMark!==0?Cr.length>=Cr.highWaterMark:Cr.length>0)||Cr.ended))return wt("read: emitReadable",Cr.length,Cr.ended),Cr.length===0&&Cr.ended?Pr(this):sr(this),null;if(Ar=rr(Ar,Cr),Ar===0&&Cr.ended)return Cr.length===0&&Pr(this),null;var Lr=Cr.needReadable;wt("need readable",Lr),(Cr.length===0||Cr.length-Ar<Cr.highWaterMark)&&(Lr=!0,wt("length less than watermark",Lr)),Cr.ended||Cr.reading?(Lr=!1,wt("reading or ended",Lr)):Lr&&(wt("do read"),Cr.reading=!0,Cr.sync=!0,Cr.length===0&&(Cr.needReadable=!0),this._read(Cr.highWaterMark),Cr.sync=!1,Cr.reading||(Ar=rr(Fr,Cr)));var Hr;return Ar>0?Hr=Rr(Ar,Cr):Hr=null,Hr===null?(Cr.needReadable=Cr.length<=Cr.highWaterMark,Ar=0):(Cr.length-=Ar,Cr.awaitDrain=0),Cr.length===0&&(Cr.ended||(Cr.needReadable=!0),Fr!==Ar&&Cr.ended&&Pr(this)),Hr!==null&&this.emit("data",Hr),Hr};function ar(Ar,Cr){if(wt("onEofChunk"),!Cr.ended){if(Cr.decoder){var Fr=Cr.decoder.end();Fr&&Fr.length&&(Cr.buffer.push(Fr),Cr.length+=Cr.objectMode?1:Fr.length)}Cr.ended=!0,Cr.sync?sr(Ar):(Cr.needReadable=!1,Cr.emittedReadable||(Cr.emittedReadable=!0,dr(Ar)))}}function sr(Ar){var Cr=Ar._readableState;wt("emitReadable",Cr.needReadable,Cr.emittedReadable),Cr.needReadable=!1,Cr.emittedReadable||(wt("emitReadable",Cr.flowing),Cr.emittedReadable=!0,process$1.nextTick(dr,Ar))}function dr(Ar){var Cr=Ar._readableState;wt("emitReadable_",Cr.destroyed,Cr.length,Cr.ended),!Cr.destroyed&&(Cr.length||Cr.ended)&&(Ar.emit("readable"),Cr.emittedReadable=!1),Cr.needReadable=!Cr.flowing&&!Cr.ended&&Cr.length<=Cr.highWaterMark,Or(Ar)}function gr(Ar,Cr){Cr.readingMore||(Cr.readingMore=!0,process$1.nextTick(ur,Ar,Cr))}function ur(Ar,Cr){for(;!Cr.reading&&!Cr.ended&&(Cr.length<Cr.highWaterMark||Cr.flowing&&Cr.length===0);){var Fr=Cr.length;if(wt("maybeReadMore read 0"),Ar.read(0),Fr===Cr.length)break}Cr.readingMore=!1}Er.prototype._read=function(Ar){pr(this,new er("_read()"))},Er.prototype.pipe=function(Ar,Cr){var Fr=this,Lr=this._readableState;switch(Lr.pipesCount){case 0:Lr.pipes=Ar;break;case 1:Lr.pipes=[Lr.pipes,Ar];break;default:Lr.pipes.push(Ar);break}Lr.pipesCount+=1,wt("pipe count=%d opts=%j",Lr.pipesCount,Cr);var Hr=(!Cr||Cr.end!==!1)&&Ar!==process$1.stdout&&Ar!==process$1.stderr,Gr=Hr?Vr:oo;Lr.endEmitted?process$1.nextTick(Gr):Fr.once("end",Gr),Ar.on("unpipe",Nr);function Nr(Hn,Qn){wt("onunpipe"),Hn===Fr&&Qn&&Qn.hasUnpiped===!1&&(Qn.hasUnpiped=!0,Kr())}function Vr(){wt("onend"),Ar.end()}var jr=_r(Fr);Ar.on("drain",jr);var Wr=!1;function Kr(){wt("cleanup"),Ar.removeListener("close",Vn),Ar.removeListener("finish",Kn),Ar.removeListener("drain",jr),Ar.removeListener("error",Un),Ar.removeListener("unpipe",Nr),Fr.removeListener("end",Vr),Fr.removeListener("end",oo),Fr.removeListener("data",an),Wr=!0,Lr.awaitDrain&&(!Ar._writableState||Ar._writableState.needDrain)&&jr()}Fr.on("data",an);function an(Hn){wt("ondata");var Qn=Ar.write(Hn);wt("dest.write",Qn),Qn===!1&&((Lr.pipesCount===1&&Lr.pipes===Ar||Lr.pipesCount>1&&kr(Lr.pipes,Ar)!==-1)&&!Wr&&(wt("false write response, pause",Lr.awaitDrain),Lr.awaitDrain++),Fr.pause())}function Un(Hn){wt("onerror",Hn),oo(),Ar.removeListener("error",Un),s(Ar,"error")===0&&pr(Ar,Hn)}br(Ar,"error",Un);function Vn(){Ar.removeListener("finish",Kn),oo()}Ar.once("close",Vn);function Kn(){wt("onfinish"),Ar.removeListener("close",Vn),oo()}Ar.once("finish",Kn);function oo(){wt("unpipe"),Fr.unpipe(Ar)}return Ar.emit("pipe",Fr),Lr.flowing||(wt("pipe resume"),Fr.resume()),Ar};function _r(Ar){return function(){var Fr=Ar._readableState;wt("pipeOnDrain",Fr.awaitDrain),Fr.awaitDrain&&Fr.awaitDrain--,Fr.awaitDrain===0&&s(Ar,"data")&&(Fr.flowing=!0,Or(Ar))}}Er.prototype.unpipe=function(Ar){var Cr=this._readableState,Fr={hasUnpiped:!1};if(Cr.pipesCount===0)return this;if(Cr.pipesCount===1)return Ar&&Ar!==Cr.pipes?this:(Ar||(Ar=Cr.pipes),Cr.pipes=null,Cr.pipesCount=0,Cr.flowing=!1,Ar&&Ar.emit("unpipe",this,Fr),this);if(!Ar){var Lr=Cr.pipes,Hr=Cr.pipesCount;Cr.pipes=null,Cr.pipesCount=0,Cr.flowing=!1;for(var Gr=0;Gr<Hr;Gr++)Lr[Gr].emit("unpipe",this,{hasUnpiped:!1});return this}var Nr=kr(Cr.pipes,Ar);return Nr===-1?this:(Cr.pipes.splice(Nr,1),Cr.pipesCount-=1,Cr.pipesCount===1&&(Cr.pipes=Cr.pipes[0]),Ar.emit("unpipe",this,Fr),this)},Er.prototype.on=function(Ar,Cr){var Fr=et.prototype.on.call(this,Ar,Cr),Lr=this._readableState;return Ar==="data"?(Lr.readableListening=this.listenerCount("readable")>0,Lr.flowing!==!1&&this.resume()):Ar==="readable"&&!Lr.endEmitted&&!Lr.readableListening&&(Lr.readableListening=Lr.needReadable=!0,Lr.flowing=!1,Lr.emittedReadable=!1,wt("on readable",Lr.length,Lr.reading),Lr.length?sr(this):Lr.reading||process$1.nextTick(cr,this)),Fr},Er.prototype.addListener=Er.prototype.on,Er.prototype.removeListener=function(Ar,Cr){var Fr=et.prototype.removeListener.call(this,Ar,Cr);return Ar==="readable"&&process$1.nextTick(hr,this),Fr},Er.prototype.removeAllListeners=function(Ar){var Cr=et.prototype.removeAllListeners.apply(this,arguments);return(Ar==="readable"||Ar===void 0)&&process$1.nextTick(hr,this),Cr};function hr(Ar){var Cr=Ar._readableState;Cr.readableListening=Ar.listenerCount("readable")>0,Cr.resumeScheduled&&!Cr.paused?Cr.flowing=!0:Ar.listenerCount("data")>0&&Ar.resume()}function cr(Ar){wt("readable nexttick read 0"),Ar.read(0)}Er.prototype.resume=function(){var Ar=this._readableState;return Ar.flowing||(wt("resume"),Ar.flowing=!Ar.readableListening,wr(this,Ar)),Ar.paused=!1,this};function wr(Ar,Cr){Cr.resumeScheduled||(Cr.resumeScheduled=!0,process$1.nextTick(Br,Ar,Cr))}function Br(Ar,Cr){wt("resume",Cr.reading),Cr.reading||Ar.read(0),Cr.resumeScheduled=!1,Ar.emit("resume"),Or(Ar),Cr.flowing&&!Cr.reading&&Ar.read(0)}Er.prototype.pause=function(){return wt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(wt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Or(Ar){var Cr=Ar._readableState;for(wt("flow",Cr.flowing);Cr.flowing&&Ar.read()!==null;);}Er.prototype.wrap=function(Ar){var Cr=this,Fr=this._readableState,Lr=!1;Ar.on("end",function(){if(wt("wrapped end"),Fr.decoder&&!Fr.ended){var Nr=Fr.decoder.end();Nr&&Nr.length&&Cr.push(Nr)}Cr.push(null)}),Ar.on("data",function(Nr){if(wt("wrapped data"),Fr.decoder&&(Nr=Fr.decoder.write(Nr)),!(Fr.objectMode&&Nr==null)&&!(!Fr.objectMode&&(!Nr||!Nr.length))){var Vr=Cr.push(Nr);Vr||(Lr=!0,Ar.pause())}});for(var Hr in Ar)this[Hr]===void 0&&typeof Ar[Hr]=="function"&&(this[Hr]=function(Vr){return function(){return Ar[Vr].apply(Ar,arguments)}}(Hr));for(var Gr=0;Gr<yr.length;Gr++)Ar.on(yr[Gr],this.emit.bind(this,yr[Gr]));return this._read=function(Nr){wt("wrapped _read",Nr),Lr&&(Lr=!1,Ar.resume())},this},typeof Symbol=="function"&&(Er.prototype[Symbol.asyncIterator]=function(){return ir===void 0&&(ir=requireAsync_iterator()),ir(this)}),Object.defineProperty(Er.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Er.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Er.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Cr){this._readableState&&(this._readableState.flowing=Cr)}}),Er._fromList=Rr,Object.defineProperty(Er.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Rr(Ar,Cr){if(Cr.length===0)return null;var Fr;return Cr.objectMode?Fr=Cr.buffer.shift():!Ar||Ar>=Cr.length?(Cr.decoder?Fr=Cr.buffer.join(""):Cr.buffer.length===1?Fr=Cr.buffer.first():Fr=Cr.buffer.concat(Cr.length),Cr.buffer.clear()):Fr=Cr.buffer.consume(Ar,Cr.decoder),Fr}function Pr(Ar){var Cr=Ar._readableState;wt("endReadable",Cr.endEmitted),Cr.endEmitted||(Cr.ended=!0,process$1.nextTick(Ur,Cr,Ar))}function Ur(Ar,Cr){if(wt("endReadableNT",Ar.endEmitted,Ar.length),!Ar.endEmitted&&Ar.length===0&&(Ar.endEmitted=!0,Cr.readable=!1,Cr.emit("end"),Ar.autoDestroy)){var Fr=Cr._writableState;(!Fr||Fr.autoDestroy&&Fr.finished)&&Cr.destroy()}}typeof Symbol=="function"&&(Er.from=function(Ar,Cr){return lr===void 0&&(lr=requireFromBrowser()),lr(Er,Ar,Cr)});function kr(Ar,Cr){for(var Fr=0,Lr=Ar.length;Fr<Lr;Fr++)if(Ar[Fr]===Cr)return Fr;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=bt;var a=requireErrorsBrowser().codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,et=a.ERR_MULTIPLE_CALLBACK,tt=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,at=a.ERR_TRANSFORM_WITH_LENGTH_0,ct=require_stream_duplex$1();requireInherits_browser()(bt,ct);function ut(Ft,jt){var Lt=this._transformState;Lt.transforming=!1;var Ut=Lt.writecb;if(Ut===null)return this.emit("error",new et);Lt.writechunk=null,Lt.writecb=null,jt!=null&&this.push(jt),Ut(Ft);var Vt=this._readableState;Vt.reading=!1,(Vt.needReadable||Vt.length<Vt.highWaterMark)&&this._read(Vt.highWaterMark)}function bt(Ft){if(!(this instanceof bt))return new bt(Ft);ct.call(this,Ft),this._transformState={afterTransform:ut.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Ft&&(typeof Ft.transform=="function"&&(this._transform=Ft.transform),typeof Ft.flush=="function"&&(this._flush=Ft.flush)),this.on("prefinish",wt)}function wt(){var Ft=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(jt,Lt){Et(Ft,jt,Lt)}):Et(this,null,null)}bt.prototype.push=function(Ft,jt){return this._transformState.needTransform=!1,ct.prototype.push.call(this,Ft,jt)},bt.prototype._transform=function(Ft,jt,Lt){Lt(new s("_transform()"))},bt.prototype._write=function(Ft,jt,Lt){var Ut=this._transformState;if(Ut.writecb=Lt,Ut.writechunk=Ft,Ut.writeencoding=jt,!Ut.transforming){var Vt=this._readableState;(Ut.needTransform||Vt.needReadable||Vt.length<Vt.highWaterMark)&&this._read(Vt.highWaterMark)}},bt.prototype._read=function(Ft){var jt=this._transformState;jt.writechunk!==null&&!jt.transforming?(jt.transforming=!0,this._transform(jt.writechunk,jt.writeencoding,jt.afterTransform)):jt.needTransform=!0},bt.prototype._destroy=function(Ft,jt){ct.prototype._destroy.call(this,Ft,function(Lt){jt(Lt)})};function Et(Ft,jt,Lt){if(jt)return Ft.emit("error",jt);if(Lt!=null&&Ft.push(Lt),Ft._writableState.length)throw new at;if(Ft._transformState.transforming)throw new tt;return Ft.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=s;var a=require_stream_transform$1();requireInherits_browser()(s,a);function s(et){if(!(this instanceof s))return new s(et);a.call(this,et)}return s.prototype._transform=function(et,tt,at){at(null,et)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var a;function s(Lt){var Ut=!1;return function(){Ut||(Ut=!0,Lt.apply(void 0,arguments))}}var et=requireErrorsBrowser().codes,tt=et.ERR_MISSING_ARGS,at=et.ERR_STREAM_DESTROYED;function ct(Lt){if(Lt)throw Lt}function ut(Lt){return Lt.setHeader&&typeof Lt.abort=="function"}function bt(Lt,Ut,Vt,Yt){Yt=s(Yt);var er=!1;Lt.on("close",function(){er=!0}),a===void 0&&(a=requireEndOfStream()),a(Lt,{readable:Ut,writable:Vt},function(nr){if(nr)return Yt(nr);er=!0,Yt()});var tr=!1;return function(nr){if(!er&&!tr){if(tr=!0,ut(Lt))return Lt.abort();if(typeof Lt.destroy=="function")return Lt.destroy();Yt(nr||new at("pipe"))}}}function wt(Lt){Lt()}function Et(Lt,Ut){return Lt.pipe(Ut)}function Ft(Lt){return!Lt.length||typeof Lt[Lt.length-1]!="function"?ct:Lt.pop()}function jt(){for(var Lt=arguments.length,Ut=new Array(Lt),Vt=0;Vt<Lt;Vt++)Ut[Vt]=arguments[Vt];var Yt=Ft(Ut);if(Array.isArray(Ut[0])&&(Ut=Ut[0]),Ut.length<2)throw new tt("streams");var er,tr=Ut.map(function(nr,ir){var lr=ir<Ut.length-1,pr=ir>0;return bt(nr,lr,pr,function(yr){er||(er=yr),yr&&tr.forEach(wt),!lr&&(tr.forEach(wt),Yt(er))})});return Ut.reduce(Et)}return pipeline_1=jt,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=et;var a=requireEvents().EventEmitter,s=requireInherits_browser();s(et,a),et.Readable=require_stream_readable$1(),et.Writable=require_stream_writable$1(),et.Duplex=require_stream_duplex$1(),et.Transform=require_stream_transform$1(),et.PassThrough=require_stream_passthrough$1(),et.finished=requireEndOfStream(),et.pipeline=requirePipeline(),et.Stream=et;function et(){a.call(this)}return et.prototype.pipe=function(tt,at){var ct=this;function ut(Ut){tt.writable&&tt.write(Ut)===!1&&ct.pause&&ct.pause()}ct.on("data",ut);function bt(){ct.readable&&ct.resume&&ct.resume()}tt.on("drain",bt),!tt._isStdio&&(!at||at.end!==!1)&&(ct.on("end",Et),ct.on("close",Ft));var wt=!1;function Et(){wt||(wt=!0,tt.end())}function Ft(){wt||(wt=!0,typeof tt.destroy=="function"&&tt.destroy())}function jt(Ut){if(Lt(),a.listenerCount(this,"error")===0)throw Ut}ct.on("error",jt),tt.on("error",jt);function Lt(){ct.removeListener("data",ut),tt.removeListener("drain",bt),ct.removeListener("end",Et),ct.removeListener("close",Ft),ct.removeListener("error",jt),tt.removeListener("error",jt),ct.removeListener("end",Lt),ct.removeListener("close",Lt),tt.removeListener("close",Lt)}return ct.on("end",Lt),ct.on("close",Lt),tt.on("close",Lt),tt.emit("pipe",ct),tt},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var a=requireSafeBuffer$1().Buffer,s=requireStreamBrowserify().Transform,et=requireInherits_browser();function tt(bt){s.call(this),this._block=a.allocUnsafe(bt),this._blockSize=bt,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}et(tt,s),tt.prototype._transform=function(bt,wt,Et){var Ft=null;try{this.update(bt,wt)}catch(jt){Ft=jt}Et(Ft)},tt.prototype._flush=function(bt){var wt=null;try{this.push(this.digest())}catch(Et){wt=Et}bt(wt)};var at=typeof Uint8Array<"u",ct=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(a.prototype instanceof Uint8Array||a.TYPED_ARRAY_SUPPORT);function ut(bt,wt){if(bt instanceof a)return bt;if(typeof bt=="string")return a.from(bt,wt);if(ct&&ArrayBuffer.isView(bt)){if(bt.byteLength===0)return a.alloc(0);var Et=a.from(bt.buffer,bt.byteOffset,bt.byteLength);if(Et.byteLength===bt.byteLength)return Et}if(at&&bt instanceof Uint8Array||a.isBuffer(bt)&&bt.constructor&&typeof bt.constructor.isBuffer=="function"&&bt.constructor.isBuffer(bt))return a.from(bt);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return tt.prototype.update=function(bt,wt){if(this._finalized)throw new Error("Digest already called");bt=ut(bt,wt);for(var Et=this._block,Ft=0;this._blockOffset+bt.length-Ft>=this._blockSize;){for(var jt=this._blockOffset;jt<this._blockSize;)Et[jt++]=bt[Ft++];this._update(),this._blockOffset=0}for(;Ft<bt.length;)Et[this._blockOffset++]=bt[Ft++];for(var Lt=0,Ut=bt.length*8;Ut>0;++Lt)this._length[Lt]+=Ut,Ut=this._length[Lt]/4294967296|0,Ut>0&&(this._length[Lt]-=4294967296*Ut);return this},tt.prototype._update=function(){throw new Error("_update is not implemented")},tt.prototype.digest=function(bt){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var wt=this._digest();bt!==void 0&&(wt=wt.toString(bt)),this._block.fill(0),this._blockOffset=0;for(var Et=0;Et<4;++Et)this._length[Et]=0;return wt},tt.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=tt,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var a=requireInherits_browser(),s=requireHashBase(),et=requireSafeBuffer$1().Buffer,tt=new Array(16);function at(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}a(at,s),at.prototype._update=function(){for(var Ft=tt,jt=0;jt<16;++jt)Ft[jt]=this._block.readInt32LE(jt*4);var Lt=this._a,Ut=this._b,Vt=this._c,Yt=this._d;Lt=ut(Lt,Ut,Vt,Yt,Ft[0],3614090360,7),Yt=ut(Yt,Lt,Ut,Vt,Ft[1],3905402710,12),Vt=ut(Vt,Yt,Lt,Ut,Ft[2],606105819,17),Ut=ut(Ut,Vt,Yt,Lt,Ft[3],3250441966,22),Lt=ut(Lt,Ut,Vt,Yt,Ft[4],4118548399,7),Yt=ut(Yt,Lt,Ut,Vt,Ft[5],1200080426,12),Vt=ut(Vt,Yt,Lt,Ut,Ft[6],2821735955,17),Ut=ut(Ut,Vt,Yt,Lt,Ft[7],4249261313,22),Lt=ut(Lt,Ut,Vt,Yt,Ft[8],1770035416,7),Yt=ut(Yt,Lt,Ut,Vt,Ft[9],2336552879,12),Vt=ut(Vt,Yt,Lt,Ut,Ft[10],4294925233,17),Ut=ut(Ut,Vt,Yt,Lt,Ft[11],2304563134,22),Lt=ut(Lt,Ut,Vt,Yt,Ft[12],1804603682,7),Yt=ut(Yt,Lt,Ut,Vt,Ft[13],4254626195,12),Vt=ut(Vt,Yt,Lt,Ut,Ft[14],2792965006,17),Ut=ut(Ut,Vt,Yt,Lt,Ft[15],1236535329,22),Lt=bt(Lt,Ut,Vt,Yt,Ft[1],4129170786,5),Yt=bt(Yt,Lt,Ut,Vt,Ft[6],3225465664,9),Vt=bt(Vt,Yt,Lt,Ut,Ft[11],643717713,14),Ut=bt(Ut,Vt,Yt,Lt,Ft[0],3921069994,20),Lt=bt(Lt,Ut,Vt,Yt,Ft[5],3593408605,5),Yt=bt(Yt,Lt,Ut,Vt,Ft[10],38016083,9),Vt=bt(Vt,Yt,Lt,Ut,Ft[15],3634488961,14),Ut=bt(Ut,Vt,Yt,Lt,Ft[4],3889429448,20),Lt=bt(Lt,Ut,Vt,Yt,Ft[9],568446438,5),Yt=bt(Yt,Lt,Ut,Vt,Ft[14],3275163606,9),Vt=bt(Vt,Yt,Lt,Ut,Ft[3],4107603335,14),Ut=bt(Ut,Vt,Yt,Lt,Ft[8],1163531501,20),Lt=bt(Lt,Ut,Vt,Yt,Ft[13],2850285829,5),Yt=bt(Yt,Lt,Ut,Vt,Ft[2],4243563512,9),Vt=bt(Vt,Yt,Lt,Ut,Ft[7],1735328473,14),Ut=bt(Ut,Vt,Yt,Lt,Ft[12],2368359562,20),Lt=wt(Lt,Ut,Vt,Yt,Ft[5],4294588738,4),Yt=wt(Yt,Lt,Ut,Vt,Ft[8],2272392833,11),Vt=wt(Vt,Yt,Lt,Ut,Ft[11],1839030562,16),Ut=wt(Ut,Vt,Yt,Lt,Ft[14],4259657740,23),Lt=wt(Lt,Ut,Vt,Yt,Ft[1],2763975236,4),Yt=wt(Yt,Lt,Ut,Vt,Ft[4],1272893353,11),Vt=wt(Vt,Yt,Lt,Ut,Ft[7],4139469664,16),Ut=wt(Ut,Vt,Yt,Lt,Ft[10],3200236656,23),Lt=wt(Lt,Ut,Vt,Yt,Ft[13],681279174,4),Yt=wt(Yt,Lt,Ut,Vt,Ft[0],3936430074,11),Vt=wt(Vt,Yt,Lt,Ut,Ft[3],3572445317,16),Ut=wt(Ut,Vt,Yt,Lt,Ft[6],76029189,23),Lt=wt(Lt,Ut,Vt,Yt,Ft[9],3654602809,4),Yt=wt(Yt,Lt,Ut,Vt,Ft[12],3873151461,11),Vt=wt(Vt,Yt,Lt,Ut,Ft[15],530742520,16),Ut=wt(Ut,Vt,Yt,Lt,Ft[2],3299628645,23),Lt=Et(Lt,Ut,Vt,Yt,Ft[0],4096336452,6),Yt=Et(Yt,Lt,Ut,Vt,Ft[7],1126891415,10),Vt=Et(Vt,Yt,Lt,Ut,Ft[14],2878612391,15),Ut=Et(Ut,Vt,Yt,Lt,Ft[5],4237533241,21),Lt=Et(Lt,Ut,Vt,Yt,Ft[12],1700485571,6),Yt=Et(Yt,Lt,Ut,Vt,Ft[3],2399980690,10),Vt=Et(Vt,Yt,Lt,Ut,Ft[10],4293915773,15),Ut=Et(Ut,Vt,Yt,Lt,Ft[1],2240044497,21),Lt=Et(Lt,Ut,Vt,Yt,Ft[8],1873313359,6),Yt=Et(Yt,Lt,Ut,Vt,Ft[15],4264355552,10),Vt=Et(Vt,Yt,Lt,Ut,Ft[6],2734768916,15),Ut=Et(Ut,Vt,Yt,Lt,Ft[13],1309151649,21),Lt=Et(Lt,Ut,Vt,Yt,Ft[4],4149444226,6),Yt=Et(Yt,Lt,Ut,Vt,Ft[11],3174756917,10),Vt=Et(Vt,Yt,Lt,Ut,Ft[2],718787259,15),Ut=Et(Ut,Vt,Yt,Lt,Ft[9],3951481745,21),this._a=this._a+Lt|0,this._b=this._b+Ut|0,this._c=this._c+Vt|0,this._d=this._d+Yt|0},at.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Ft=et.allocUnsafe(16);return Ft.writeInt32LE(this._a,0),Ft.writeInt32LE(this._b,4),Ft.writeInt32LE(this._c,8),Ft.writeInt32LE(this._d,12),Ft};function ct(Ft,jt){return Ft<<jt|Ft>>>32-jt}function ut(Ft,jt,Lt,Ut,Vt,Yt,er){return ct(Ft+(jt&Lt|~jt&Ut)+Vt+Yt|0,er)+jt|0}function bt(Ft,jt,Lt,Ut,Vt,Yt,er){return ct(Ft+(jt&Ut|Lt&~Ut)+Vt+Yt|0,er)+jt|0}function wt(Ft,jt,Lt,Ut,Vt,Yt,er){return ct(Ft+(jt^Lt^Ut)+Vt+Yt|0,er)+jt|0}function Et(Ft,jt,Lt,Ut,Vt,Yt,er){return ct(Ft+(Lt^(jt|~Ut))+Vt+Yt|0,er)+jt|0}return md5_js=at,md5_js}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var a=require$$1$3.Buffer,s=requireInherits_browser(),et=requireHashBase(),tt=new Array(16),at=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ct=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ut=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],wt=[0,1518500249,1859775393,2400959708,2840853838],Et=[1352829926,1548603684,1836072691,2053994217,0];function Ft(){et.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}s(Ft,et),Ft.prototype._update=function(){for(var tr=tt,nr=0;nr<16;++nr)tr[nr]=this._block.readInt32LE(nr*4);for(var ir=this._a|0,lr=this._b|0,pr=this._c|0,yr=this._d|0,br=this._e|0,xr=this._a|0,Er=this._b|0,$r=this._c|0,Sr=this._d|0,fr=this._e|0,vr=0;vr<80;vr+=1){var or,rr;vr<16?(or=Lt(ir,lr,pr,yr,br,tr[at[vr]],wt[0],ut[vr]),rr=er(xr,Er,$r,Sr,fr,tr[ct[vr]],Et[0],bt[vr])):vr<32?(or=Ut(ir,lr,pr,yr,br,tr[at[vr]],wt[1],ut[vr]),rr=Yt(xr,Er,$r,Sr,fr,tr[ct[vr]],Et[1],bt[vr])):vr<48?(or=Vt(ir,lr,pr,yr,br,tr[at[vr]],wt[2],ut[vr]),rr=Vt(xr,Er,$r,Sr,fr,tr[ct[vr]],Et[2],bt[vr])):vr<64?(or=Yt(ir,lr,pr,yr,br,tr[at[vr]],wt[3],ut[vr]),rr=Ut(xr,Er,$r,Sr,fr,tr[ct[vr]],Et[3],bt[vr])):(or=er(ir,lr,pr,yr,br,tr[at[vr]],wt[4],ut[vr]),rr=Lt(xr,Er,$r,Sr,fr,tr[ct[vr]],Et[4],bt[vr])),ir=br,br=yr,yr=jt(pr,10),pr=lr,lr=or,xr=fr,fr=Sr,Sr=jt($r,10),$r=Er,Er=rr}var ar=this._b+pr+Sr|0;this._b=this._c+yr+fr|0,this._c=this._d+br+xr|0,this._d=this._e+ir+Er|0,this._e=this._a+lr+$r|0,this._a=ar},Ft.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var tr=a.alloc?a.alloc(20):new a(20);return tr.writeInt32LE(this._a,0),tr.writeInt32LE(this._b,4),tr.writeInt32LE(this._c,8),tr.writeInt32LE(this._d,12),tr.writeInt32LE(this._e,16),tr};function jt(tr,nr){return tr<<nr|tr>>>32-nr}function Lt(tr,nr,ir,lr,pr,yr,br,xr){return jt(tr+(nr^ir^lr)+yr+br|0,xr)+pr|0}function Ut(tr,nr,ir,lr,pr,yr,br,xr){return jt(tr+(nr&ir|~nr&lr)+yr+br|0,xr)+pr|0}function Vt(tr,nr,ir,lr,pr,yr,br,xr){return jt(tr+((nr|~ir)^lr)+yr+br|0,xr)+pr|0}function Yt(tr,nr,ir,lr,pr,yr,br,xr){return jt(tr+(nr&lr|ir&~lr)+yr+br|0,xr)+pr|0}function er(tr,nr,ir,lr,pr,yr,br,xr){return jt(tr+(nr^(ir|~lr))+yr+br|0,xr)+pr|0}return ripemd160$1=Ft,ripemd160$1}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var a=requireSafeBuffer$1().Buffer;function s(et,tt){this._block=a.alloc(et),this._finalSize=tt,this._blockSize=et,this._len=0}return s.prototype.update=function(et,tt){typeof et=="string"&&(tt=tt||"utf8",et=a.from(et,tt));for(var at=this._block,ct=this._blockSize,ut=et.length,bt=this._len,wt=0;wt<ut;){for(var Et=bt%ct,Ft=Math.min(ut-wt,ct-Et),jt=0;jt<Ft;jt++)at[Et+jt]=et[wt+jt];bt+=Ft,wt+=Ft,bt%ct===0&&this._update(at)}return this._len+=ut,this},s.prototype.digest=function(et){var tt=this._len%this._blockSize;this._block[tt]=128,this._block.fill(0,tt+1),tt>=this._finalSize&&(this._update(this._block),this._block.fill(0));var at=this._len*8;if(at<=4294967295)this._block.writeUInt32BE(at,this._blockSize-4);else{var ct=(at&4294967295)>>>0,ut=(at-ct)/4294967296;this._block.writeUInt32BE(ut,this._blockSize-8),this._block.writeUInt32BE(ct,this._blockSize-4)}this._update(this._block);var bt=this._hash();return et?bt.toString(et):bt},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=s,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,tt=[1518500249,1859775393,-1894007588,-899497514],at=new Array(80);function ct(){this.init(),this._w=at,s.call(this,64,56)}a(ct,s),ct.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ut(Et){return Et<<5|Et>>>27}function bt(Et){return Et<<30|Et>>>2}function wt(Et,Ft,jt,Lt){return Et===0?Ft&jt|~Ft&Lt:Et===2?Ft&jt|Ft&Lt|jt&Lt:Ft^jt^Lt}return ct.prototype._update=function(Et){for(var Ft=this._w,jt=this._a|0,Lt=this._b|0,Ut=this._c|0,Vt=this._d|0,Yt=this._e|0,er=0;er<16;++er)Ft[er]=Et.readInt32BE(er*4);for(;er<80;++er)Ft[er]=Ft[er-3]^Ft[er-8]^Ft[er-14]^Ft[er-16];for(var tr=0;tr<80;++tr){var nr=~~(tr/20),ir=ut(jt)+wt(nr,Lt,Ut,Vt)+Yt+Ft[tr]+tt[nr]|0;Yt=Vt,Vt=Ut,Ut=bt(Lt),Lt=jt,jt=ir}this._a=jt+this._a|0,this._b=Lt+this._b|0,this._c=Ut+this._c|0,this._d=Vt+this._d|0,this._e=Yt+this._e|0},ct.prototype._hash=function(){var Et=et.allocUnsafe(20);return Et.writeInt32BE(this._a|0,0),Et.writeInt32BE(this._b|0,4),Et.writeInt32BE(this._c|0,8),Et.writeInt32BE(this._d|0,12),Et.writeInt32BE(this._e|0,16),Et},sha$1=ct,sha$1}var sha1$1,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,tt=[1518500249,1859775393,-1894007588,-899497514],at=new Array(80);function ct(){this.init(),this._w=at,s.call(this,64,56)}a(ct,s),ct.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ut(Ft){return Ft<<1|Ft>>>31}function bt(Ft){return Ft<<5|Ft>>>27}function wt(Ft){return Ft<<30|Ft>>>2}function Et(Ft,jt,Lt,Ut){return Ft===0?jt&Lt|~jt&Ut:Ft===2?jt&Lt|jt&Ut|Lt&Ut:jt^Lt^Ut}return ct.prototype._update=function(Ft){for(var jt=this._w,Lt=this._a|0,Ut=this._b|0,Vt=this._c|0,Yt=this._d|0,er=this._e|0,tr=0;tr<16;++tr)jt[tr]=Ft.readInt32BE(tr*4);for(;tr<80;++tr)jt[tr]=ut(jt[tr-3]^jt[tr-8]^jt[tr-14]^jt[tr-16]);for(var nr=0;nr<80;++nr){var ir=~~(nr/20),lr=bt(Lt)+Et(ir,Ut,Vt,Yt)+er+jt[nr]+tt[ir]|0;er=Yt,Yt=Vt,Vt=wt(Ut),Ut=Lt,Lt=lr}this._a=Lt+this._a|0,this._b=Ut+this._b|0,this._c=Vt+this._c|0,this._d=Yt+this._d|0,this._e=er+this._e|0},ct.prototype._hash=function(){var Ft=et.allocUnsafe(20);return Ft.writeInt32BE(this._a|0,0),Ft.writeInt32BE(this._b|0,4),Ft.writeInt32BE(this._c|0,8),Ft.writeInt32BE(this._d|0,12),Ft.writeInt32BE(this._e|0,16),Ft},sha1$1=ct,sha1$1}var sha256$2,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$2;hasRequiredSha256$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,tt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],at=new Array(64);function ct(){this.init(),this._w=at,s.call(this,64,56)}a(ct,s),ct.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ut(Lt,Ut,Vt){return Vt^Lt&(Ut^Vt)}function bt(Lt,Ut,Vt){return Lt&Ut|Vt&(Lt|Ut)}function wt(Lt){return(Lt>>>2|Lt<<30)^(Lt>>>13|Lt<<19)^(Lt>>>22|Lt<<10)}function Et(Lt){return(Lt>>>6|Lt<<26)^(Lt>>>11|Lt<<21)^(Lt>>>25|Lt<<7)}function Ft(Lt){return(Lt>>>7|Lt<<25)^(Lt>>>18|Lt<<14)^Lt>>>3}function jt(Lt){return(Lt>>>17|Lt<<15)^(Lt>>>19|Lt<<13)^Lt>>>10}return ct.prototype._update=function(Lt){for(var Ut=this._w,Vt=this._a|0,Yt=this._b|0,er=this._c|0,tr=this._d|0,nr=this._e|0,ir=this._f|0,lr=this._g|0,pr=this._h|0,yr=0;yr<16;++yr)Ut[yr]=Lt.readInt32BE(yr*4);for(;yr<64;++yr)Ut[yr]=jt(Ut[yr-2])+Ut[yr-7]+Ft(Ut[yr-15])+Ut[yr-16]|0;for(var br=0;br<64;++br){var xr=pr+Et(nr)+ut(nr,ir,lr)+tt[br]+Ut[br]|0,Er=wt(Vt)+bt(Vt,Yt,er)|0;pr=lr,lr=ir,ir=nr,nr=tr+xr|0,tr=er,er=Yt,Yt=Vt,Vt=xr+Er|0}this._a=Vt+this._a|0,this._b=Yt+this._b|0,this._c=er+this._c|0,this._d=tr+this._d|0,this._e=nr+this._e|0,this._f=ir+this._f|0,this._g=lr+this._g|0,this._h=pr+this._h|0},ct.prototype._hash=function(){var Lt=et.allocUnsafe(32);return Lt.writeInt32BE(this._a,0),Lt.writeInt32BE(this._b,4),Lt.writeInt32BE(this._c,8),Lt.writeInt32BE(this._d,12),Lt.writeInt32BE(this._e,16),Lt.writeInt32BE(this._f,20),Lt.writeInt32BE(this._g,24),Lt.writeInt32BE(this._h,28),Lt},sha256$2=ct,sha256$2}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var a=requireInherits_browser(),s=requireSha256$1(),et=requireHash$1(),tt=requireSafeBuffer$1().Buffer,at=new Array(64);function ct(){this.init(),this._w=at,et.call(this,64,56)}return a(ct,s),ct.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},ct.prototype._hash=function(){var ut=tt.allocUnsafe(28);return ut.writeInt32BE(this._a,0),ut.writeInt32BE(this._b,4),ut.writeInt32BE(this._c,8),ut.writeInt32BE(this._d,12),ut.writeInt32BE(this._e,16),ut.writeInt32BE(this._f,20),ut.writeInt32BE(this._g,24),ut},sha224$2=ct,sha224$2}var sha512$2,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$2;hasRequiredSha512$1=1;var a=requireInherits_browser(),s=requireHash$1(),et=requireSafeBuffer$1().Buffer,tt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],at=new Array(160);function ct(){this.init(),this._w=at,s.call(this,128,112)}a(ct,s),ct.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function ut(Yt,er,tr){return tr^Yt&(er^tr)}function bt(Yt,er,tr){return Yt&er|tr&(Yt|er)}function wt(Yt,er){return(Yt>>>28|er<<4)^(er>>>2|Yt<<30)^(er>>>7|Yt<<25)}function Et(Yt,er){return(Yt>>>14|er<<18)^(Yt>>>18|er<<14)^(er>>>9|Yt<<23)}function Ft(Yt,er){return(Yt>>>1|er<<31)^(Yt>>>8|er<<24)^Yt>>>7}function jt(Yt,er){return(Yt>>>1|er<<31)^(Yt>>>8|er<<24)^(Yt>>>7|er<<25)}function Lt(Yt,er){return(Yt>>>19|er<<13)^(er>>>29|Yt<<3)^Yt>>>6}function Ut(Yt,er){return(Yt>>>19|er<<13)^(er>>>29|Yt<<3)^(Yt>>>6|er<<26)}function Vt(Yt,er){return Yt>>>0<er>>>0?1:0}return ct.prototype._update=function(Yt){for(var er=this._w,tr=this._ah|0,nr=this._bh|0,ir=this._ch|0,lr=this._dh|0,pr=this._eh|0,yr=this._fh|0,br=this._gh|0,xr=this._hh|0,Er=this._al|0,$r=this._bl|0,Sr=this._cl|0,fr=this._dl|0,vr=this._el|0,or=this._fl|0,rr=this._gl|0,ar=this._hl|0,sr=0;sr<32;sr+=2)er[sr]=Yt.readInt32BE(sr*4),er[sr+1]=Yt.readInt32BE(sr*4+4);for(;sr<160;sr+=2){var dr=er[sr-30],gr=er[sr-15*2+1],ur=Ft(dr,gr),_r=jt(gr,dr);dr=er[sr-2*2],gr=er[sr-2*2+1];var hr=Lt(dr,gr),cr=Ut(gr,dr),wr=er[sr-7*2],Br=er[sr-7*2+1],Or=er[sr-16*2],Rr=er[sr-16*2+1],Pr=_r+Br|0,Ur=ur+wr+Vt(Pr,_r)|0;Pr=Pr+cr|0,Ur=Ur+hr+Vt(Pr,cr)|0,Pr=Pr+Rr|0,Ur=Ur+Or+Vt(Pr,Rr)|0,er[sr]=Ur,er[sr+1]=Pr}for(var kr=0;kr<160;kr+=2){Ur=er[kr],Pr=er[kr+1];var Ar=bt(tr,nr,ir),Cr=bt(Er,$r,Sr),Fr=wt(tr,Er),Lr=wt(Er,tr),Hr=Et(pr,vr),Gr=Et(vr,pr),Nr=tt[kr],Vr=tt[kr+1],jr=ut(pr,yr,br),Wr=ut(vr,or,rr),Kr=ar+Gr|0,an=xr+Hr+Vt(Kr,ar)|0;Kr=Kr+Wr|0,an=an+jr+Vt(Kr,Wr)|0,Kr=Kr+Vr|0,an=an+Nr+Vt(Kr,Vr)|0,Kr=Kr+Pr|0,an=an+Ur+Vt(Kr,Pr)|0;var Un=Lr+Cr|0,Vn=Fr+Ar+Vt(Un,Lr)|0;xr=br,ar=rr,br=yr,rr=or,yr=pr,or=vr,vr=fr+Kr|0,pr=lr+an+Vt(vr,fr)|0,lr=ir,fr=Sr,ir=nr,Sr=$r,nr=tr,$r=Er,Er=Kr+Un|0,tr=an+Vn+Vt(Er,Kr)|0}this._al=this._al+Er|0,this._bl=this._bl+$r|0,this._cl=this._cl+Sr|0,this._dl=this._dl+fr|0,this._el=this._el+vr|0,this._fl=this._fl+or|0,this._gl=this._gl+rr|0,this._hl=this._hl+ar|0,this._ah=this._ah+tr+Vt(this._al,Er)|0,this._bh=this._bh+nr+Vt(this._bl,$r)|0,this._ch=this._ch+ir+Vt(this._cl,Sr)|0,this._dh=this._dh+lr+Vt(this._dl,fr)|0,this._eh=this._eh+pr+Vt(this._el,vr)|0,this._fh=this._fh+yr+Vt(this._fl,or)|0,this._gh=this._gh+br+Vt(this._gl,rr)|0,this._hh=this._hh+xr+Vt(this._hl,ar)|0},ct.prototype._hash=function(){var Yt=et.allocUnsafe(64);function er(tr,nr,ir){Yt.writeInt32BE(tr,ir),Yt.writeInt32BE(nr,ir+4)}return er(this._ah,this._al,0),er(this._bh,this._bl,8),er(this._ch,this._cl,16),er(this._dh,this._dl,24),er(this._eh,this._el,32),er(this._fh,this._fl,40),er(this._gh,this._gl,48),er(this._hh,this._hl,56),Yt},sha512$2=ct,sha512$2}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var a=requireInherits_browser(),s=requireSha512$1(),et=requireHash$1(),tt=requireSafeBuffer$1().Buffer,at=new Array(160);function ct(){this.init(),this._w=at,et.call(this,128,112)}return a(ct,s),ct.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},ct.prototype._hash=function(){var ut=tt.allocUnsafe(48);function bt(wt,Et,Ft){ut.writeInt32BE(wt,Ft),ut.writeInt32BE(Et,Ft+4)}return bt(this._ah,this._al,0),bt(this._bh,this._bl,8),bt(this._ch,this._cl,16),bt(this._dh,this._dl,24),bt(this._eh,this._el,32),bt(this._fh,this._fl,40),ut},sha384$2=ct,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var a=sha_js.exports=function(et){et=et.toLowerCase();var tt=a[et];if(!tt)throw new Error(et+" is not supported (we accept pull requests)");return new tt};return a.sha=requireSha$1(),a.sha1=requireSha1$1(),a.sha224=requireSha224$1(),a.sha256=requireSha256$1(),a.sha384=requireSha384$1(),a.sha512=requireSha512$1(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var a=requireSafeBuffer$1().Buffer,s=requireStreamBrowserify().Transform,et=requireString_decoder().StringDecoder,tt=requireInherits_browser();function at(wt){s.call(this),this.hashMode=typeof wt=="string",this.hashMode?this[wt]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}tt(at,s);var ct=typeof Uint8Array<"u",ut=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(a.prototype instanceof Uint8Array||a.TYPED_ARRAY_SUPPORT);function bt(wt,Et){if(wt instanceof a)return wt;if(typeof wt=="string")return a.from(wt,Et);if(ut&&ArrayBuffer.isView(wt)){if(wt.byteLength===0)return a.alloc(0);var Ft=a.from(wt.buffer,wt.byteOffset,wt.byteLength);if(Ft.byteLength===wt.byteLength)return Ft}if(ct&&wt instanceof Uint8Array||a.isBuffer(wt)&&wt.constructor&&typeof wt.constructor.isBuffer=="function"&&wt.constructor.isBuffer(wt))return a.from(wt);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return at.prototype.update=function(wt,Et,Ft){var jt=bt(wt,Et),Lt=this._update(jt);return this.hashMode?this:(Ft&&(Lt=this._toString(Lt,Ft)),Lt)},at.prototype.setAutoPadding=function(){},at.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},at.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},at.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},at.prototype._transform=function(wt,Et,Ft){var jt;try{this.hashMode?this._update(wt):this.push(this._update(wt))}catch(Lt){jt=Lt}finally{Ft(jt)}},at.prototype._flush=function(wt){var Et;try{this.push(this.__final())}catch(Ft){Et=Ft}wt(Et)},at.prototype._finalOrDigest=function(wt){var Et=this.__final()||a.alloc(0);return wt&&(Et=this._toString(Et,wt,!0)),Et},at.prototype._toString=function(wt,Et,Ft){if(this._decoder||(this._decoder=new et(Et),this._encoding=Et),this._encoding!==Et)throw new Error("can’t switch encodings");var jt=this._decoder.write(wt);return Ft&&(jt+=this._decoder.end()),jt},cipherBase=at,cipherBase}var browser$b,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$b;hasRequiredBrowser$9=1;var a=requireInherits_browser(),s=requireMd5_js(),et=requireRipemd160$1(),tt=requireSha_js(),at=requireCipherBase();function ct(ut){at.call(this,"digest"),this._hash=ut}return a(ct,at),ct.prototype._update=function(ut){this._hash.update(ut)},ct.prototype._final=function(){return this._hash.digest()},browser$b=function(bt){return bt=bt.toLowerCase(),bt==="md5"?new s:bt==="rmd160"||bt==="ripemd160"?new et:new ct(tt(bt))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var a=requireInherits_browser(),s=requireSafeBuffer$1().Buffer,et=requireCipherBase(),tt=s.alloc(128),at=64;function ct(ut,bt){et.call(this,"digest"),typeof bt=="string"&&(bt=s.from(bt)),this._alg=ut,this._key=bt,bt.length>at?bt=ut(bt):bt.length<at&&(bt=s.concat([bt,tt],at));for(var wt=this._ipad=s.allocUnsafe(at),Et=this._opad=s.allocUnsafe(at),Ft=0;Ft<at;Ft++)wt[Ft]=bt[Ft]^54,Et[Ft]=bt[Ft]^92;this._hash=[wt]}return a(ct,et),ct.prototype._update=function(ut){this._hash.push(ut)},ct.prototype._final=function(){var ut=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,ut]))},legacy=ct,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var a=requireMd5_js();return md5$1=function(s){return new a().update(s).digest()},md5$1}var browser$a,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a;hasRequiredBrowser$8=1;var a=requireInherits_browser(),s=requireLegacy(),et=requireCipherBase(),tt=requireSafeBuffer$1().Buffer,at=requireMd5$1(),ct=requireRipemd160$1(),ut=requireSha_js(),bt=tt.alloc(128);function wt(Et,Ft){et.call(this,"digest"),typeof Ft=="string"&&(Ft=tt.from(Ft));var jt=Et==="sha512"||Et==="sha384"?128:64;if(this._alg=Et,this._key=Ft,Ft.length>jt){var Lt=Et==="rmd160"?new ct:ut(Et);Ft=Lt.update(Ft).digest()}else Ft.length<jt&&(Ft=tt.concat([Ft,bt],jt));for(var Ut=this._ipad=tt.allocUnsafe(jt),Vt=this._opad=tt.allocUnsafe(jt),Yt=0;Yt<jt;Yt++)Ut[Yt]=Ft[Yt]^54,Vt[Yt]=Ft[Yt]^92;this._hash=Et==="rmd160"?new ct:ut(Et),this._hash.update(Ut)}return a(wt,et),wt.prototype._update=function(Et){this._hash.update(Et)},wt.prototype._final=function(){var Et=this._hash.digest(),Ft=this._alg==="rmd160"?new ct:ut(this._alg);return Ft.update(this._opad).update(Et).digest()},browser$a=function(Ft,jt){return Ft=Ft.toLowerCase(),Ft==="rmd160"||Ft==="ripemd160"?new wt("rmd160",jt):Ft==="md5"?new s(at,jt):new wt(Ft,jt)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224:sha224$1,sha384:sha384$1,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var a=Math.pow(2,30)-1;return precondition=function(s,et){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof et!="number")throw new TypeError("Key length not a number");if(et<0||et>a||et!==et)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var a;if(commonjsGlobal$1.process&&commonjsGlobal$1.process.browser)a="utf-8";else if(commonjsGlobal$1.process&&commonjsGlobal$1.process.version){var s=parseInt(process$1.version.split(".")[0].slice(1),10);a=s>=6?"utf-8":"binary"}else a="utf-8";return defaultEncoding_1=a,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var a=requireSafeBuffer$1().Buffer;return toBuffer=function(s,et,tt){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,et);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(tt+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var a=requireMd5$1(),s=requireRipemd160$1(),et=requireSha_js(),tt=requireSafeBuffer$1().Buffer,at=requirePrecondition(),ct=requireDefaultEncoding(),ut=requireToBuffer(),bt=tt.alloc(128),wt={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Et(Lt,Ut,Vt){var Yt=Ft(Lt),er=Lt==="sha512"||Lt==="sha384"?128:64;Ut.length>er?Ut=Yt(Ut):Ut.length<er&&(Ut=tt.concat([Ut,bt],er));for(var tr=tt.allocUnsafe(er+wt[Lt]),nr=tt.allocUnsafe(er+wt[Lt]),ir=0;ir<er;ir++)tr[ir]=Ut[ir]^54,nr[ir]=Ut[ir]^92;var lr=tt.allocUnsafe(er+Vt+4);tr.copy(lr,0,0,er),this.ipad1=lr,this.ipad2=tr,this.opad=nr,this.alg=Lt,this.blocksize=er,this.hash=Yt,this.size=wt[Lt]}Et.prototype.run=function(Lt,Ut){Lt.copy(Ut,this.blocksize);var Vt=this.hash(Ut);return Vt.copy(this.opad,this.blocksize),this.hash(this.opad)};function Ft(Lt){function Ut(Yt){return et(Lt).update(Yt).digest()}function Vt(Yt){return new s().update(Yt).digest()}return Lt==="rmd160"||Lt==="ripemd160"?Vt:Lt==="md5"?a:Ut}function jt(Lt,Ut,Vt,Yt,er){at(Vt,Yt),Lt=ut(Lt,ct,"Password"),Ut=ut(Ut,ct,"Salt"),er=er||"sha1";var tr=new Et(er,Lt,Ut.length),nr=tt.allocUnsafe(Yt),ir=tt.allocUnsafe(Ut.length+4);Ut.copy(ir,0,0,Ut.length);for(var lr=0,pr=wt[er],yr=Math.ceil(Yt/pr),br=1;br<=yr;br++){ir.writeUInt32BE(br,Ut.length);for(var xr=tr.run(ir,tr.ipad1),Er=xr,$r=1;$r<Vt;$r++){Er=tr.run(Er,tr.ipad2);for(var Sr=0;Sr<pr;Sr++)xr[Sr]^=Er[Sr]}xr.copy(nr,lr),lr+=pr}return nr}return syncBrowser=jt,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var a=requireSafeBuffer$1().Buffer,s=requirePrecondition(),et=requireDefaultEncoding(),tt=requireSyncBrowser(),at=requireToBuffer(),ct,ut=commonjsGlobal$1.crypto&&commonjsGlobal$1.crypto.subtle,bt={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},wt=[];function Et(Vt){if(commonjsGlobal$1.process&&!commonjsGlobal$1.process.browser||!ut||!ut.importKey||!ut.deriveBits)return Promise.resolve(!1);if(wt[Vt]!==void 0)return wt[Vt];ct=ct||a.alloc(8);var Yt=Lt(ct,ct,10,128,Vt).then(function(){return!0}).catch(function(){return!1});return wt[Vt]=Yt,Yt}var Ft;function jt(){return Ft||(commonjsGlobal$1.process&&commonjsGlobal$1.process.nextTick?Ft=commonjsGlobal$1.process.nextTick:commonjsGlobal$1.queueMicrotask?Ft=commonjsGlobal$1.queueMicrotask:commonjsGlobal$1.setImmediate?Ft=commonjsGlobal$1.setImmediate:Ft=commonjsGlobal$1.setTimeout,Ft)}function Lt(Vt,Yt,er,tr,nr){return ut.importKey("raw",Vt,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ir){return ut.deriveBits({name:"PBKDF2",salt:Yt,iterations:er,hash:{name:nr}},ir,tr<<3)}).then(function(ir){return a.from(ir)})}function Ut(Vt,Yt){Vt.then(function(er){jt()(function(){Yt(null,er)})},function(er){jt()(function(){Yt(er)})})}return async=function(Vt,Yt,er,tr,nr,ir){typeof nr=="function"&&(ir=nr,nr=void 0),nr=nr||"sha1";var lr=bt[nr.toLowerCase()];if(!lr||typeof commonjsGlobal$1.Promise!="function"){jt()(function(){var pr;try{pr=tt(Vt,Yt,er,tr,nr)}catch(yr){return ir(yr)}ir(null,pr)});return}if(s(er,tr),Vt=at(Vt,et,"Password"),Yt=at(Yt,et,"Salt"),typeof ir!="function")throw new Error("No callback provided to pbkdf2");Ut(Et(lr).then(function(pr){return pr?Lt(Vt,Yt,er,tr,lr):tt(Vt,Yt,er,tr,nr)}),ir)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(at,ct){var ut=at[0+ct]<<24|at[1+ct]<<16|at[2+ct]<<8|at[3+ct];return ut>>>0},utils$3.writeUInt32BE=function(at,ct,ut){at[0+ut]=ct>>>24,at[1+ut]=ct>>>16&255,at[2+ut]=ct>>>8&255,at[3+ut]=ct&255},utils$3.ip=function(at,ct,ut,bt){for(var wt=0,Et=0,Ft=6;Ft>=0;Ft-=2){for(var jt=0;jt<=24;jt+=8)wt<<=1,wt|=ct>>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)wt<<=1,wt|=at>>>jt+Ft&1}for(var Ft=6;Ft>=0;Ft-=2){for(var jt=1;jt<=25;jt+=8)Et<<=1,Et|=ct>>>jt+Ft&1;for(var jt=1;jt<=25;jt+=8)Et<<=1,Et|=at>>>jt+Ft&1}ut[bt+0]=wt>>>0,ut[bt+1]=Et>>>0},utils$3.rip=function(at,ct,ut,bt){for(var wt=0,Et=0,Ft=0;Ft<4;Ft++)for(var jt=24;jt>=0;jt-=8)wt<<=1,wt|=ct>>>jt+Ft&1,wt<<=1,wt|=at>>>jt+Ft&1;for(var Ft=4;Ft<8;Ft++)for(var jt=24;jt>=0;jt-=8)Et<<=1,Et|=ct>>>jt+Ft&1,Et<<=1,Et|=at>>>jt+Ft&1;ut[bt+0]=wt>>>0,ut[bt+1]=Et>>>0},utils$3.pc1=function(at,ct,ut,bt){for(var wt=0,Et=0,Ft=7;Ft>=5;Ft--){for(var jt=0;jt<=24;jt+=8)wt<<=1,wt|=ct>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)wt<<=1,wt|=at>>jt+Ft&1}for(var jt=0;jt<=24;jt+=8)wt<<=1,wt|=ct>>jt+Ft&1;for(var Ft=1;Ft<=3;Ft++){for(var jt=0;jt<=24;jt+=8)Et<<=1,Et|=ct>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)Et<<=1,Et|=at>>jt+Ft&1}for(var jt=0;jt<=24;jt+=8)Et<<=1,Et|=at>>jt+Ft&1;ut[bt+0]=wt>>>0,ut[bt+1]=Et>>>0},utils$3.r28shl=function(at,ct){return at<<ct&268435455|at>>>28-ct};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(at,ct,ut,bt){for(var wt=0,Et=0,Ft=a.length>>>1,jt=0;jt<Ft;jt++)wt<<=1,wt|=at>>>a[jt]&1;for(var jt=Ft;jt<a.length;jt++)Et<<=1,Et|=ct>>>a[jt]&1;ut[bt+0]=wt>>>0,ut[bt+1]=Et>>>0},utils$3.expand=function(at,ct,ut){var bt=0,wt=0;bt=(at&1)<<5|at>>>27;for(var Et=23;Et>=15;Et-=4)bt<<=6,bt|=at>>>Et&63;for(var Et=11;Et>=3;Et-=4)wt|=at>>>Et&63,wt<<=6;wt|=(at&31)<<1|at>>>31,ct[ut+0]=bt>>>0,ct[ut+1]=wt>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(at,ct){for(var ut=0,bt=0;bt<4;bt++){var wt=at>>>18-bt*6&63,Et=s[bt*64+wt];ut<<=4,ut|=Et}for(var bt=0;bt<4;bt++){var wt=ct>>>18-bt*6&63,Et=s[4*64+bt*64+wt];ut<<=4,ut|=Et}return ut>>>0};var et=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(at){for(var ct=0,ut=0;ut<et.length;ut++)ct<<=1,ct|=at>>>et[ut]&1;return ct>>>0},utils$3.padSplit=function(at,ct,ut){for(var bt=at.toString(2);bt.length<ct;)bt="0"+bt;for(var wt=[],Et=0;Et<ct;Et+=ut)wt.push(bt.slice(Et,Et+ut));return wt.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=a;function a(s,et){if(!s)throw new Error(et||"Assertion failed")}return a.equal=function(et,tt,at){if(et!=tt)throw new Error(at||"Assertion failed: "+et+" != "+tt)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var a=requireMinimalisticAssert();function s(et){this.options=et,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=et.padding!==!1}return cipher=s,s.prototype._init=function(){},s.prototype.update=function(tt){return tt.length===0?[]:this.type==="decrypt"?this._updateDecrypt(tt):this._updateEncrypt(tt)},s.prototype._buffer=function(tt,at){for(var ct=Math.min(this.buffer.length-this.bufferOff,tt.length-at),ut=0;ut<ct;ut++)this.buffer[this.bufferOff+ut]=tt[at+ut];return this.bufferOff+=ct,ct},s.prototype._flushBuffer=function(tt,at){return this._update(this.buffer,0,tt,at),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(tt){var at=0,ct=0,ut=(this.bufferOff+tt.length)/this.blockSize|0,bt=new Array(ut*this.blockSize);this.bufferOff!==0&&(at+=this._buffer(tt,at),this.bufferOff===this.buffer.length&&(ct+=this._flushBuffer(bt,ct)));for(var wt=tt.length-(tt.length-at)%this.blockSize;at<wt;at+=this.blockSize)this._update(tt,at,bt,ct),ct+=this.blockSize;for(;at<tt.length;at++,this.bufferOff++)this.buffer[this.bufferOff]=tt[at];return bt},s.prototype._updateDecrypt=function(tt){for(var at=0,ct=0,ut=Math.ceil((this.bufferOff+tt.length)/this.blockSize)-1,bt=new Array(ut*this.blockSize);ut>0;ut--)at+=this._buffer(tt,at),ct+=this._flushBuffer(bt,ct);return at+=this._buffer(tt,at),bt},s.prototype.final=function(tt){var at;tt&&(at=this.update(tt));var ct;return this.type==="encrypt"?ct=this._finalEncrypt():ct=this._finalDecrypt(),at?at.concat(ct):ct},s.prototype._pad=function(tt,at){if(at===0)return!1;for(;at<tt.length;)tt[at++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var tt=new Array(this.blockSize);return this._update(this.buffer,0,tt,0),tt},s.prototype._unpad=function(tt){return tt},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var tt=new Array(this.blockSize);return this._flushBuffer(tt,0),this._unpad(tt)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var a=requireMinimalisticAssert(),s=requireInherits_browser(),et=requireUtils$3(),tt=requireCipher();function at(){this.tmp=new Array(2),this.keys=null}function ct(bt){tt.call(this,bt);var wt=new at;this._desState=wt,this.deriveKeys(wt,bt.key)}s(ct,tt),des=ct,ct.create=function(wt){return new ct(wt)};var ut=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return ct.prototype.deriveKeys=function(wt,Et){wt.keys=new Array(16*2),a.equal(Et.length,this.blockSize,"Invalid key length");var Ft=et.readUInt32BE(Et,0),jt=et.readUInt32BE(Et,4);et.pc1(Ft,jt,wt.tmp,0),Ft=wt.tmp[0],jt=wt.tmp[1];for(var Lt=0;Lt<wt.keys.length;Lt+=2){var Ut=ut[Lt>>>1];Ft=et.r28shl(Ft,Ut),jt=et.r28shl(jt,Ut),et.pc2(Ft,jt,wt.keys,Lt)}},ct.prototype._update=function(wt,Et,Ft,jt){var Lt=this._desState,Ut=et.readUInt32BE(wt,Et),Vt=et.readUInt32BE(wt,Et+4);et.ip(Ut,Vt,Lt.tmp,0),Ut=Lt.tmp[0],Vt=Lt.tmp[1],this.type==="encrypt"?this._encrypt(Lt,Ut,Vt,Lt.tmp,0):this._decrypt(Lt,Ut,Vt,Lt.tmp,0),Ut=Lt.tmp[0],Vt=Lt.tmp[1],et.writeUInt32BE(Ft,Ut,jt),et.writeUInt32BE(Ft,Vt,jt+4)},ct.prototype._pad=function(wt,Et){if(this.padding===!1)return!1;for(var Ft=wt.length-Et,jt=Et;jt<wt.length;jt++)wt[jt]=Ft;return!0},ct.prototype._unpad=function(wt){if(this.padding===!1)return wt;for(var Et=wt[wt.length-1],Ft=wt.length-Et;Ft<wt.length;Ft++)a.equal(wt[Ft],Et);return wt.slice(0,wt.length-Et)},ct.prototype._encrypt=function(wt,Et,Ft,jt,Lt){for(var Ut=Et,Vt=Ft,Yt=0;Yt<wt.keys.length;Yt+=2){var er=wt.keys[Yt],tr=wt.keys[Yt+1];et.expand(Vt,wt.tmp,0),er^=wt.tmp[0],tr^=wt.tmp[1];var nr=et.substitute(er,tr),ir=et.permute(nr),lr=Vt;Vt=(Ut^ir)>>>0,Ut=lr}et.rip(Vt,Ut,jt,Lt)},ct.prototype._decrypt=function(wt,Et,Ft,jt,Lt){for(var Ut=Ft,Vt=Et,Yt=wt.keys.length-2;Yt>=0;Yt-=2){var er=wt.keys[Yt],tr=wt.keys[Yt+1];et.expand(Ut,wt.tmp,0),er^=wt.tmp[0],tr^=wt.tmp[1];var nr=et.substitute(er,tr),ir=et.permute(nr),lr=Ut;Ut=(Vt^ir)>>>0,Vt=lr}et.rip(Ut,Vt,jt,Lt)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var a=requireMinimalisticAssert(),s=requireInherits_browser(),et={};function tt(ct){a.equal(ct.length,8,"Invalid IV length"),this.iv=new Array(8);for(var ut=0;ut<this.iv.length;ut++)this.iv[ut]=ct[ut]}function at(ct){function ut(Ft){ct.call(this,Ft),this._cbcInit()}s(ut,ct);for(var bt=Object.keys(et),wt=0;wt<bt.length;wt++){var Et=bt[wt];ut.prototype[Et]=et[Et]}return ut.create=function(jt){return new ut(jt)},ut}return cbc$1.instantiate=at,et._cbcInit=function(){var ut=new tt(this.options.iv);this._cbcState=ut},et._update=function(ut,bt,wt,Et){var Ft=this._cbcState,jt=this.constructor.super_.prototype,Lt=Ft.iv;if(this.type==="encrypt"){for(var Ut=0;Ut<this.blockSize;Ut++)Lt[Ut]^=ut[bt+Ut];jt._update.call(this,Lt,0,wt,Et);for(var Ut=0;Ut<this.blockSize;Ut++)Lt[Ut]=wt[Et+Ut]}else{jt._update.call(this,ut,bt,wt,Et);for(var Ut=0;Ut<this.blockSize;Ut++)wt[Et+Ut]^=Lt[Ut];for(var Ut=0;Ut<this.blockSize;Ut++)Lt[Ut]=ut[bt+Ut]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var a=requireMinimalisticAssert(),s=requireInherits_browser(),et=requireCipher(),tt=requireDes$1();function at(ut,bt){a.equal(bt.length,24,"Invalid key length");var wt=bt.slice(0,8),Et=bt.slice(8,16),Ft=bt.slice(16,24);ut==="encrypt"?this.ciphers=[tt.create({type:"encrypt",key:wt}),tt.create({type:"decrypt",key:Et}),tt.create({type:"encrypt",key:Ft})]:this.ciphers=[tt.create({type:"decrypt",key:Ft}),tt.create({type:"encrypt",key:Et}),tt.create({type:"decrypt",key:wt})]}function ct(ut){et.call(this,ut);var bt=new at(this.type,this.options.key);this._edeState=bt}return s(ct,et),ede=ct,ct.create=function(bt){return new ct(bt)},ct.prototype._update=function(bt,wt,Et,Ft){var jt=this._edeState;jt.ciphers[0]._update(bt,wt,Et,Ft),jt.ciphers[1]._update(Et,Ft,Et,Ft),jt.ciphers[2]._update(Et,Ft,Et,Ft)},ct.prototype._pad=tt.prototype._pad,ct.prototype._unpad=tt.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var a=requireCipherBase(),s=requireDes(),et=requireInherits_browser(),tt=requireSafeBuffer$1().Buffer,at={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};at.des=at["des-cbc"],at.des3=at["des-ede3-cbc"],browserifyDes=ct,et(ct,a);function ct(ut){a.call(this);var bt=ut.mode.toLowerCase(),wt=at[bt],Et;ut.decrypt?Et="decrypt":Et="encrypt";var Ft=ut.key;tt.isBuffer(Ft)||(Ft=tt.from(Ft)),(bt==="des-ede"||bt==="des-ede-cbc")&&(Ft=tt.concat([Ft,Ft.slice(0,8)]));var jt=ut.iv;tt.isBuffer(jt)||(jt=tt.from(jt)),this._des=wt.create({key:Ft,iv:jt,type:Et})}return ct.prototype._update=function(ut){return tt.from(this._des.update(ut))},ct.prototype._final=function(){return tt.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(a,s){return a._cipher.encryptBlock(s)},ecb.decrypt=function(a,s){return a._cipher.decryptBlock(s)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(s,et){for(var tt=Math.min(s.length,et.length),at=new Buffer$1(tt),ct=0;ct<tt;++ct)at[ct]=s[ct]^et[ct];return at}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var a=requireBufferXor();return cbc.encrypt=function(s,et){var tt=a(et,s._prev);return s._prev=s._cipher.encryptBlock(tt),s._prev},cbc.decrypt=function(s,et){var tt=s._prev;s._prev=et;var at=s._cipher.decryptBlock(et);return a(at,tt)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var a=requireSafeBuffer$1().Buffer,s=requireBufferXor();function et(tt,at,ct){var ut=at.length,bt=s(at,tt._cache);return tt._cache=tt._cache.slice(ut),tt._prev=a.concat([tt._prev,ct?at:bt]),bt}return cfb.encrypt=function(tt,at,ct){for(var ut=a.allocUnsafe(0),bt;at.length;)if(tt._cache.length===0&&(tt._cache=tt._cipher.encryptBlock(tt._prev),tt._prev=a.allocUnsafe(0)),tt._cache.length<=at.length)bt=tt._cache.length,ut=a.concat([ut,et(tt,at.slice(0,bt),ct)]),at=at.slice(bt);else{ut=a.concat([ut,et(tt,at,ct)]);break}return ut},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var a=requireSafeBuffer$1().Buffer;function s(et,tt,at){var ct=et._cipher.encryptBlock(et._prev),ut=ct[0]^tt;return et._prev=a.concat([et._prev.slice(1),a.from([at?tt:ut])]),ut}return cfb8.encrypt=function(et,tt,at){for(var ct=tt.length,ut=a.allocUnsafe(ct),bt=-1;++bt<ct;)ut[bt]=s(et,tt[bt],at);return ut},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var a=requireSafeBuffer$1().Buffer;function s(tt,at,ct){for(var ut,bt=-1,wt=8,Et=0,Ft,jt;++bt<wt;)ut=tt._cipher.encryptBlock(tt._prev),Ft=at&1<<7-bt?128:0,jt=ut[0]^Ft,Et+=(jt&128)>>bt%8,tt._prev=et(tt._prev,ct?Ft:jt);return Et}function et(tt,at){var ct=tt.length,ut=-1,bt=a.allocUnsafe(tt.length);for(tt=a.concat([tt,a.from([at])]);++ut<ct;)bt[ut]=tt[ut]<<1|tt[ut+1]>>7;return bt}return cfb1.encrypt=function(tt,at,ct){for(var ut=at.length,bt=a.allocUnsafe(ut),wt=-1;++wt<ut;)bt[wt]=s(tt,at[wt],ct);return bt},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var a=requireBufferXor();function s(et){return et._prev=et._cipher.encryptBlock(et._prev),et._prev}return ofb.encrypt=function(et,tt){for(;et._cache.length<tt.length;)et._cache=Buffer$1.concat([et._cache,s(et)]);var at=et._cache.slice(0,tt.length);return et._cache=et._cache.slice(tt.length),a(tt,at)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function a(s){for(var et=s.length,tt;et--;)if(tt=s.readUInt8(et),tt===255)s.writeUInt8(0,et);else{tt++,s.writeUInt8(tt,et);break}}return incr32_1=a,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var a=requireBufferXor(),s=requireSafeBuffer$1().Buffer,et=requireIncr32();function tt(ct){var ut=ct._cipher.encryptBlockRaw(ct._prev);return et(ct._prev),ut}var at=16;return ctr.encrypt=function(ct,ut){var bt=Math.ceil(ut.length/at),wt=ct._cache.length;ct._cache=s.concat([ct._cache,s.allocUnsafe(bt*at)]);for(var Et=0;Et<bt;Et++){var Ft=tt(ct),jt=wt+Et*at;ct._cache.writeUInt32BE(Ft[0],jt+0),ct._cache.writeUInt32BE(Ft[1],jt+4),ct._cache.writeUInt32BE(Ft[2],jt+8),ct._cache.writeUInt32BE(Ft[3],jt+12)}var Lt=ct._cache.slice(0,ut.length);return ct._cache=ct._cache.slice(ut.length),a(ut,Lt)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var a={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},s=require$$2;for(var et in s)s[et].module=a[s[et].mode];return modes_1=s,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var a=requireSafeBuffer$1().Buffer;function s(bt){a.isBuffer(bt)||(bt=a.from(bt));for(var wt=bt.length/4|0,Et=new Array(wt),Ft=0;Ft<wt;Ft++)Et[Ft]=bt.readUInt32BE(Ft*4);return Et}function et(bt){for(var wt=0;wt<bt.length;bt++)bt[wt]=0}function tt(bt,wt,Et,Ft,jt){for(var Lt=Et[0],Ut=Et[1],Vt=Et[2],Yt=Et[3],er=bt[0]^wt[0],tr=bt[1]^wt[1],nr=bt[2]^wt[2],ir=bt[3]^wt[3],lr,pr,yr,br,xr=4,Er=1;Er<jt;Er++)lr=Lt[er>>>24]^Ut[tr>>>16&255]^Vt[nr>>>8&255]^Yt[ir&255]^wt[xr++],pr=Lt[tr>>>24]^Ut[nr>>>16&255]^Vt[ir>>>8&255]^Yt[er&255]^wt[xr++],yr=Lt[nr>>>24]^Ut[ir>>>16&255]^Vt[er>>>8&255]^Yt[tr&255]^wt[xr++],br=Lt[ir>>>24]^Ut[er>>>16&255]^Vt[tr>>>8&255]^Yt[nr&255]^wt[xr++],er=lr,tr=pr,nr=yr,ir=br;return lr=(Ft[er>>>24]<<24|Ft[tr>>>16&255]<<16|Ft[nr>>>8&255]<<8|Ft[ir&255])^wt[xr++],pr=(Ft[tr>>>24]<<24|Ft[nr>>>16&255]<<16|Ft[ir>>>8&255]<<8|Ft[er&255])^wt[xr++],yr=(Ft[nr>>>24]<<24|Ft[ir>>>16&255]<<16|Ft[er>>>8&255]<<8|Ft[tr&255])^wt[xr++],br=(Ft[ir>>>24]<<24|Ft[er>>>16&255]<<16|Ft[tr>>>8&255]<<8|Ft[nr&255])^wt[xr++],lr=lr>>>0,pr=pr>>>0,yr=yr>>>0,br=br>>>0,[lr,pr,yr,br]}var at=[0,1,2,4,8,16,32,64,128,27,54],ct=function(){for(var bt=new Array(256),wt=0;wt<256;wt++)wt<128?bt[wt]=wt<<1:bt[wt]=wt<<1^283;for(var Et=[],Ft=[],jt=[[],[],[],[]],Lt=[[],[],[],[]],Ut=0,Vt=0,Yt=0;Yt<256;++Yt){var er=Vt^Vt<<1^Vt<<2^Vt<<3^Vt<<4;er=er>>>8^er&255^99,Et[Ut]=er,Ft[er]=Ut;var tr=bt[Ut],nr=bt[tr],ir=bt[nr],lr=bt[er]*257^er*16843008;jt[0][Ut]=lr<<24|lr>>>8,jt[1][Ut]=lr<<16|lr>>>16,jt[2][Ut]=lr<<8|lr>>>24,jt[3][Ut]=lr,lr=ir*16843009^nr*65537^tr*257^Ut*16843008,Lt[0][er]=lr<<24|lr>>>8,Lt[1][er]=lr<<16|lr>>>16,Lt[2][er]=lr<<8|lr>>>24,Lt[3][er]=lr,Ut===0?Ut=Vt=1:(Ut=tr^bt[bt[bt[ir^tr]]],Vt^=bt[bt[Vt]])}return{SBOX:Et,INV_SBOX:Ft,SUB_MIX:jt,INV_SUB_MIX:Lt}}();function ut(bt){this._key=s(bt),this._reset()}return ut.blockSize=4*4,ut.keySize=256/8,ut.prototype.blockSize=ut.blockSize,ut.prototype.keySize=ut.keySize,ut.prototype._reset=function(){for(var bt=this._key,wt=bt.length,Et=wt+6,Ft=(Et+1)*4,jt=[],Lt=0;Lt<wt;Lt++)jt[Lt]=bt[Lt];for(Lt=wt;Lt<Ft;Lt++){var Ut=jt[Lt-1];Lt%wt===0?(Ut=Ut<<8|Ut>>>24,Ut=ct.SBOX[Ut>>>24]<<24|ct.SBOX[Ut>>>16&255]<<16|ct.SBOX[Ut>>>8&255]<<8|ct.SBOX[Ut&255],Ut^=at[Lt/wt|0]<<24):wt>6&&Lt%wt===4&&(Ut=ct.SBOX[Ut>>>24]<<24|ct.SBOX[Ut>>>16&255]<<16|ct.SBOX[Ut>>>8&255]<<8|ct.SBOX[Ut&255]),jt[Lt]=jt[Lt-wt]^Ut}for(var Vt=[],Yt=0;Yt<Ft;Yt++){var er=Ft-Yt,tr=jt[er-(Yt%4?0:4)];Yt<4||er<=4?Vt[Yt]=tr:Vt[Yt]=ct.INV_SUB_MIX[0][ct.SBOX[tr>>>24]]^ct.INV_SUB_MIX[1][ct.SBOX[tr>>>16&255]]^ct.INV_SUB_MIX[2][ct.SBOX[tr>>>8&255]]^ct.INV_SUB_MIX[3][ct.SBOX[tr&255]]}this._nRounds=Et,this._keySchedule=jt,this._invKeySchedule=Vt},ut.prototype.encryptBlockRaw=function(bt){return bt=s(bt),tt(bt,this._keySchedule,ct.SUB_MIX,ct.SBOX,this._nRounds)},ut.prototype.encryptBlock=function(bt){var wt=this.encryptBlockRaw(bt),Et=a.allocUnsafe(16);return Et.writeUInt32BE(wt[0],0),Et.writeUInt32BE(wt[1],4),Et.writeUInt32BE(wt[2],8),Et.writeUInt32BE(wt[3],12),Et},ut.prototype.decryptBlock=function(bt){bt=s(bt);var wt=bt[1];bt[1]=bt[3],bt[3]=wt;var Et=tt(bt,this._invKeySchedule,ct.INV_SUB_MIX,ct.INV_SBOX,this._nRounds),Ft=a.allocUnsafe(16);return Ft.writeUInt32BE(Et[0],0),Ft.writeUInt32BE(Et[3],4),Ft.writeUInt32BE(Et[2],8),Ft.writeUInt32BE(Et[1],12),Ft},ut.prototype.scrub=function(){et(this._keySchedule),et(this._invKeySchedule),et(this._key)},aes$1.AES=ut,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var a=requireSafeBuffer$1().Buffer,s=a.alloc(16,0);function et(ct){return[ct.readUInt32BE(0),ct.readUInt32BE(4),ct.readUInt32BE(8),ct.readUInt32BE(12)]}function tt(ct){var ut=a.allocUnsafe(16);return ut.writeUInt32BE(ct[0]>>>0,0),ut.writeUInt32BE(ct[1]>>>0,4),ut.writeUInt32BE(ct[2]>>>0,8),ut.writeUInt32BE(ct[3]>>>0,12),ut}function at(ct){this.h=ct,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}return at.prototype.ghash=function(ct){for(var ut=-1;++ut<ct.length;)this.state[ut]^=ct[ut];this._multiply()},at.prototype._multiply=function(){for(var ct=et(this.h),ut=[0,0,0,0],bt,wt,Et,Ft=-1;++Ft<128;){for(wt=(this.state[~~(Ft/8)]&1<<7-Ft%8)!==0,wt&&(ut[0]^=ct[0],ut[1]^=ct[1],ut[2]^=ct[2],ut[3]^=ct[3]),Et=(ct[3]&1)!==0,bt=3;bt>0;bt--)ct[bt]=ct[bt]>>>1|(ct[bt-1]&1)<<31;ct[0]=ct[0]>>>1,Et&&(ct[0]=ct[0]^225<<24)}this.state=tt(ut)},at.prototype.update=function(ct){this.cache=a.concat([this.cache,ct]);for(var ut;this.cache.length>=16;)ut=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(ut)},at.prototype.final=function(ct,ut){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(tt([0,ct,0,ut])),this.state},ghash=at,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var a=requireAes$1(),s=requireSafeBuffer$1().Buffer,et=requireCipherBase(),tt=requireInherits_browser(),at=requireGhash(),ct=requireBufferXor(),ut=requireIncr32();function bt(Ft,jt){var Lt=0;Ft.length!==jt.length&&Lt++;for(var Ut=Math.min(Ft.length,jt.length),Vt=0;Vt<Ut;++Vt)Lt+=Ft[Vt]^jt[Vt];return Lt}function wt(Ft,jt,Lt){if(jt.length===12)return Ft._finID=s.concat([jt,s.from([0,0,0,1])]),s.concat([jt,s.from([0,0,0,2])]);var Ut=new at(Lt),Vt=jt.length,Yt=Vt%16;Ut.update(jt),Yt&&(Yt=16-Yt,Ut.update(s.alloc(Yt,0))),Ut.update(s.alloc(8,0));var er=Vt*8,tr=s.alloc(8);tr.writeUIntBE(er,0,8),Ut.update(tr),Ft._finID=Ut.state;var nr=s.from(Ft._finID);return ut(nr),nr}function Et(Ft,jt,Lt,Ut){et.call(this);var Vt=s.alloc(4,0);this._cipher=new a.AES(jt);var Yt=this._cipher.encryptBlock(Vt);this._ghash=new at(Yt),Lt=wt(this,Lt,Yt),this._prev=s.from(Lt),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=Ut,this._alen=0,this._len=0,this._mode=Ft,this._authTag=null,this._called=!1}return tt(Et,et),Et.prototype._update=function(Ft){if(!this._called&&this._alen){var jt=16-this._alen%16;jt<16&&(jt=s.alloc(jt,0),this._ghash.update(jt))}this._called=!0;var Lt=this._mode.encrypt(this,Ft);return this._decrypt?this._ghash.update(Ft):this._ghash.update(Lt),this._len+=Ft.length,Lt},Et.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Ft=ct(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&bt(Ft,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Ft,this._cipher.scrub()},Et.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Et.prototype.setAuthTag=function(jt){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=jt},Et.prototype.setAAD=function(jt){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(jt),this._alen+=jt.length},authCipher=Et,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var a=requireAes$1(),s=requireSafeBuffer$1().Buffer,et=requireCipherBase(),tt=requireInherits_browser();function at(ct,ut,bt,wt){et.call(this),this._cipher=new a.AES(ut),this._prev=s.from(bt),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=wt,this._mode=ct}return tt(at,et),at.prototype._update=function(ct){return this._mode.encrypt(this,ct,this._decrypt)},at.prototype._final=function(){this._cipher.scrub()},streamCipher=at,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var a=requireSafeBuffer$1().Buffer,s=requireMd5_js();function et(tt,at,ct,ut){if(a.isBuffer(tt)||(tt=a.from(tt,"binary")),at&&(a.isBuffer(at)||(at=a.from(at,"binary")),at.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var bt=ct/8,wt=a.alloc(bt),Et=a.alloc(ut||0),Ft=a.alloc(0);bt>0||ut>0;){var jt=new s;jt.update(Ft),jt.update(tt),at&&jt.update(at),Ft=jt.digest();var Lt=0;if(bt>0){var Ut=wt.length-bt;Lt=Math.min(bt,Ft.length),Ft.copy(wt,Ut,0,Lt),bt-=Lt}if(Lt<Ft.length&&ut>0){var Vt=Et.length-ut,Yt=Math.min(ut,Ft.length-Lt);Ft.copy(Et,Vt,Lt,Lt+Yt),ut-=Yt}}return Ft.fill(0),{key:wt,iv:Et}}return evp_bytestokey=et,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var a=requireModes$1(),s=requireAuthCipher(),et=requireSafeBuffer$1().Buffer,tt=requireStreamCipher(),at=requireCipherBase(),ct=requireAes$1(),ut=requireEvp_bytestokey(),bt=requireInherits_browser();function wt(Ut,Vt,Yt){at.call(this),this._cache=new Ft,this._cipher=new ct.AES(Vt),this._prev=et.from(Yt),this._mode=Ut,this._autopadding=!0}bt(wt,at),wt.prototype._update=function(Ut){this._cache.add(Ut);for(var Vt,Yt,er=[];Vt=this._cache.get();)Yt=this._mode.encrypt(this,Vt),er.push(Yt);return et.concat(er)};var Et=et.alloc(16,16);wt.prototype._final=function(){var Ut=this._cache.flush();if(this._autopadding)return Ut=this._mode.encrypt(this,Ut),this._cipher.scrub(),Ut;if(!Ut.equals(Et))throw this._cipher.scrub(),new Error("data not multiple of block length")},wt.prototype.setAutoPadding=function(Ut){return this._autopadding=!!Ut,this};function Ft(){this.cache=et.allocUnsafe(0)}Ft.prototype.add=function(Ut){this.cache=et.concat([this.cache,Ut])},Ft.prototype.get=function(){if(this.cache.length>15){var Ut=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Ut}return null},Ft.prototype.flush=function(){for(var Ut=16-this.cache.length,Vt=et.allocUnsafe(Ut),Yt=-1;++Yt<Ut;)Vt.writeUInt8(Ut,Yt);return et.concat([this.cache,Vt])};function jt(Ut,Vt,Yt){var er=a[Ut.toLowerCase()];if(!er)throw new TypeError("invalid suite type");if(typeof Vt=="string"&&(Vt=et.from(Vt)),Vt.length!==er.key/8)throw new TypeError("invalid key length "+Vt.length);if(typeof Yt=="string"&&(Yt=et.from(Yt)),er.mode!=="GCM"&&Yt.length!==er.iv)throw new TypeError("invalid iv length "+Yt.length);return er.type==="stream"?new tt(er.module,Vt,Yt):er.type==="auth"?new s(er.module,Vt,Yt):new wt(er.module,Vt,Yt)}function Lt(Ut,Vt){var Yt=a[Ut.toLowerCase()];if(!Yt)throw new TypeError("invalid suite type");var er=ut(Vt,!1,Yt.key,Yt.iv);return jt(Ut,er.key,er.iv)}return encrypter.createCipheriv=jt,encrypter.createCipher=Lt,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var a=requireAuthCipher(),s=requireSafeBuffer$1().Buffer,et=requireModes$1(),tt=requireStreamCipher(),at=requireCipherBase(),ct=requireAes$1(),ut=requireEvp_bytestokey(),bt=requireInherits_browser();function wt(Ut,Vt,Yt){at.call(this),this._cache=new Et,this._last=void 0,this._cipher=new ct.AES(Vt),this._prev=s.from(Yt),this._mode=Ut,this._autopadding=!0}bt(wt,at),wt.prototype._update=function(Ut){this._cache.add(Ut);for(var Vt,Yt,er=[];Vt=this._cache.get(this._autopadding);)Yt=this._mode.decrypt(this,Vt),er.push(Yt);return s.concat(er)},wt.prototype._final=function(){var Ut=this._cache.flush();if(this._autopadding)return Ft(this._mode.decrypt(this,Ut));if(Ut)throw new Error("data not multiple of block length")},wt.prototype.setAutoPadding=function(Ut){return this._autopadding=!!Ut,this};function Et(){this.cache=s.allocUnsafe(0)}Et.prototype.add=function(Ut){this.cache=s.concat([this.cache,Ut])},Et.prototype.get=function(Ut){var Vt;if(Ut){if(this.cache.length>16)return Vt=this.cache.slice(0,16),this.cache=this.cache.slice(16),Vt}else if(this.cache.length>=16)return Vt=this.cache.slice(0,16),this.cache=this.cache.slice(16),Vt;return null},Et.prototype.flush=function(){if(this.cache.length)return this.cache};function Ft(Ut){var Vt=Ut[15];if(Vt<1||Vt>16)throw new Error("unable to decrypt data");for(var Yt=-1;++Yt<Vt;)if(Ut[Yt+(16-Vt)]!==Vt)throw new Error("unable to decrypt data");if(Vt!==16)return Ut.slice(0,16-Vt)}function jt(Ut,Vt,Yt){var er=et[Ut.toLowerCase()];if(!er)throw new TypeError("invalid suite type");if(typeof Yt=="string"&&(Yt=s.from(Yt)),er.mode!=="GCM"&&Yt.length!==er.iv)throw new TypeError("invalid iv length "+Yt.length);if(typeof Vt=="string"&&(Vt=s.from(Vt)),Vt.length!==er.key/8)throw new TypeError("invalid key length "+Vt.length);return er.type==="stream"?new tt(er.module,Vt,Yt,!0):er.type==="auth"?new a(er.module,Vt,Yt,!0):new wt(er.module,Vt,Yt)}function Lt(Ut,Vt){var Yt=et[Ut.toLowerCase()];if(!Yt)throw new TypeError("invalid suite type");var er=ut(Vt,!1,Yt.key,Yt.iv);return jt(Ut,er.key,er.iv)}return decrypter.createDecipher=Lt,decrypter.createDecipheriv=jt,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$7;hasRequiredBrowser$6=1;var a=requireEncrypter(),s=requireDecrypter(),et=require$$2;function tt(){return Object.keys(et)}return browser$7.createCipher=browser$7.Cipher=a.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=a.createCipheriv,browser$7.createDecipher=browser$7.Decipher=s.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=s.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=tt,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(a){a["des-ecb"]={key:8,iv:0},a["des-cbc"]=a.des={key:8,iv:8},a["des-ede3-cbc"]=a.des3={key:24,iv:8},a["des-ede3"]={key:24,iv:0},a["des-ede-cbc"]={key:16,iv:8},a["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$8;hasRequiredBrowser$5=1;var a=requireBrowserifyDes(),s=requireBrowser$6(),et=requireModes$1(),tt=requireModes(),at=requireEvp_bytestokey();function ct(Ft,jt){Ft=Ft.toLowerCase();var Lt,Ut;if(et[Ft])Lt=et[Ft].key,Ut=et[Ft].iv;else if(tt[Ft])Lt=tt[Ft].key*8,Ut=tt[Ft].iv;else throw new TypeError("invalid suite type");var Vt=at(jt,!1,Lt,Ut);return bt(Ft,Vt.key,Vt.iv)}function ut(Ft,jt){Ft=Ft.toLowerCase();var Lt,Ut;if(et[Ft])Lt=et[Ft].key,Ut=et[Ft].iv;else if(tt[Ft])Lt=tt[Ft].key*8,Ut=tt[Ft].iv;else throw new TypeError("invalid suite type");var Vt=at(jt,!1,Lt,Ut);return wt(Ft,Vt.key,Vt.iv)}function bt(Ft,jt,Lt){if(Ft=Ft.toLowerCase(),et[Ft])return s.createCipheriv(Ft,jt,Lt);if(tt[Ft])return new a({key:jt,iv:Lt,mode:Ft});throw new TypeError("invalid suite type")}function wt(Ft,jt,Lt){if(Ft=Ft.toLowerCase(),et[Ft])return s.createDecipheriv(Ft,jt,Lt);if(tt[Ft])return new a({key:jt,iv:Lt,mode:Ft,decrypt:!0});throw new TypeError("invalid suite type")}function Et(){return Object.keys(tt).concat(s.getCiphers())}return browser$8.createCipher=browser$8.Cipher=ct,browser$8.createCipheriv=browser$8.Cipheriv=bt,browser$8.createDecipher=browser$8.Decipher=ut,browser$8.createDecipheriv=browser$8.Decipheriv=wt,browser$8.listCiphers=browser$8.getCiphers=Et,browser$8}var browser$6={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(a){(function(s,et){function tt(Sr,fr){if(!Sr)throw new Error(fr||"Assertion failed")}function at(Sr,fr){Sr.super_=fr;var vr=function(){};vr.prototype=fr.prototype,Sr.prototype=new vr,Sr.prototype.constructor=Sr}function ct(Sr,fr,vr){if(ct.isBN(Sr))return Sr;this.negative=0,this.words=null,this.length=0,this.red=null,Sr!==null&&((fr==="le"||fr==="be")&&(vr=fr,fr=10),this._init(Sr||0,fr||10,vr||"be"))}typeof s=="object"?s.exports=ct:et.BN=ct,ct.BN=ct,ct.wordSize=26;var ut;try{typeof window<"u"&&typeof window.Buffer<"u"?ut=window.Buffer:ut=require$$1$3.Buffer}catch{}ct.isBN=function(fr){return fr instanceof ct?!0:fr!==null&&typeof fr=="object"&&fr.constructor.wordSize===ct.wordSize&&Array.isArray(fr.words)},ct.max=function(fr,vr){return fr.cmp(vr)>0?fr:vr},ct.min=function(fr,vr){return fr.cmp(vr)<0?fr:vr},ct.prototype._init=function(fr,vr,or){if(typeof fr=="number")return this._initNumber(fr,vr,or);if(typeof fr=="object")return this._initArray(fr,vr,or);vr==="hex"&&(vr=16),tt(vr===(vr|0)&&vr>=2&&vr<=36),fr=fr.toString().replace(/\s+/g,"");var rr=0;fr[0]==="-"&&(rr++,this.negative=1),rr<fr.length&&(vr===16?this._parseHex(fr,rr,or):(this._parseBase(fr,vr,rr),or==="le"&&this._initArray(this.toArray(),vr,or)))},ct.prototype._initNumber=function(fr,vr,or){fr<0&&(this.negative=1,fr=-fr),fr<67108864?(this.words=[fr&67108863],this.length=1):fr<4503599627370496?(this.words=[fr&67108863,fr/67108864&67108863],this.length=2):(tt(fr<9007199254740992),this.words=[fr&67108863,fr/67108864&67108863,1],this.length=3),or==="le"&&this._initArray(this.toArray(),vr,or)},ct.prototype._initArray=function(fr,vr,or){if(tt(typeof fr.length=="number"),fr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(fr.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar,sr,dr=0;if(or==="be")for(rr=fr.length-1,ar=0;rr>=0;rr-=3)sr=fr[rr]|fr[rr-1]<<8|fr[rr-2]<<16,this.words[ar]|=sr<<dr&67108863,this.words[ar+1]=sr>>>26-dr&67108863,dr+=24,dr>=26&&(dr-=26,ar++);else if(or==="le")for(rr=0,ar=0;rr<fr.length;rr+=3)sr=fr[rr]|fr[rr+1]<<8|fr[rr+2]<<16,this.words[ar]|=sr<<dr&67108863,this.words[ar+1]=sr>>>26-dr&67108863,dr+=24,dr>=26&&(dr-=26,ar++);return this.strip()};function bt(Sr,fr){var vr=Sr.charCodeAt(fr);return vr>=65&&vr<=70?vr-55:vr>=97&&vr<=102?vr-87:vr-48&15}function wt(Sr,fr,vr){var or=bt(Sr,vr);return vr-1>=fr&&(or|=bt(Sr,vr-1)<<4),or}ct.prototype._parseHex=function(fr,vr,or){this.length=Math.ceil((fr.length-vr)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar=0,sr=0,dr;if(or==="be")for(rr=fr.length-1;rr>=vr;rr-=2)dr=wt(fr,vr,rr)<<ar,this.words[sr]|=dr&67108863,ar>=18?(ar-=18,sr+=1,this.words[sr]|=dr>>>26):ar+=8;else{var gr=fr.length-vr;for(rr=gr%2===0?vr+1:vr;rr<fr.length;rr+=2)dr=wt(fr,vr,rr)<<ar,this.words[sr]|=dr&67108863,ar>=18?(ar-=18,sr+=1,this.words[sr]|=dr>>>26):ar+=8}this.strip()};function Et(Sr,fr,vr,or){for(var rr=0,ar=Math.min(Sr.length,vr),sr=fr;sr<ar;sr++){var dr=Sr.charCodeAt(sr)-48;rr*=or,dr>=49?rr+=dr-49+10:dr>=17?rr+=dr-17+10:rr+=dr}return rr}ct.prototype._parseBase=function(fr,vr,or){this.words=[0],this.length=1;for(var rr=0,ar=1;ar<=67108863;ar*=vr)rr++;rr--,ar=ar/vr|0;for(var sr=fr.length-or,dr=sr%rr,gr=Math.min(sr,sr-dr)+or,ur=0,_r=or;_r<gr;_r+=rr)ur=Et(fr,_r,_r+rr,vr),this.imuln(ar),this.words[0]+ur<67108864?this.words[0]+=ur:this._iaddn(ur);if(dr!==0){var hr=1;for(ur=Et(fr,_r,fr.length,vr),_r=0;_r<dr;_r++)hr*=vr;this.imuln(hr),this.words[0]+ur<67108864?this.words[0]+=ur:this._iaddn(ur)}this.strip()},ct.prototype.copy=function(fr){fr.words=new Array(this.length);for(var vr=0;vr<this.length;vr++)fr.words[vr]=this.words[vr];fr.length=this.length,fr.negative=this.negative,fr.red=this.red},ct.prototype.clone=function(){var fr=new ct(null);return this.copy(fr),fr},ct.prototype._expand=function(fr){for(;this.length<fr;)this.words[this.length++]=0;return this},ct.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ct.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Lt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ct.prototype.toString=function(fr,vr){fr=fr||10,vr=vr|0||1;var or;if(fr===16||fr==="hex"){or="";for(var rr=0,ar=0,sr=0;sr<this.length;sr++){var dr=this.words[sr],gr=((dr<<rr|ar)&16777215).toString(16);ar=dr>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,sr--),ar!==0||sr!==this.length-1?or=Ft[6-gr.length]+gr+or:or=gr+or}for(ar!==0&&(or=ar.toString(16)+or);or.length%vr!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}if(fr===(fr|0)&&fr>=2&&fr<=36){var ur=jt[fr],_r=Lt[fr];or="";var hr=this.clone();for(hr.negative=0;!hr.isZero();){var cr=hr.modn(_r).toString(fr);hr=hr.idivn(_r),hr.isZero()?or=cr+or:or=Ft[ur-cr.length]+cr+or}for(this.isZero()&&(or="0"+or);or.length%vr!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}tt(!1,"Base should be between 2 and 36")},ct.prototype.toNumber=function(){var fr=this.words[0];return this.length===2?fr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?fr+=4503599627370496+this.words[1]*67108864:this.length>2&&tt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-fr:fr},ct.prototype.toJSON=function(){return this.toString(16)},ct.prototype.toBuffer=function(fr,vr){return tt(typeof ut<"u"),this.toArrayLike(ut,fr,vr)},ct.prototype.toArray=function(fr,vr){return this.toArrayLike(Array,fr,vr)},ct.prototype.toArrayLike=function(fr,vr,or){var rr=this.byteLength(),ar=or||Math.max(1,rr);tt(rr<=ar,"byte array longer than desired length"),tt(ar>0,"Requested array length <= 0"),this.strip();var sr=vr==="le",dr=new fr(ar),gr,ur,_r=this.clone();if(sr){for(ur=0;!_r.isZero();ur++)gr=_r.andln(255),_r.iushrn(8),dr[ur]=gr;for(;ur<ar;ur++)dr[ur]=0}else{for(ur=0;ur<ar-rr;ur++)dr[ur]=0;for(ur=0;!_r.isZero();ur++)gr=_r.andln(255),_r.iushrn(8),dr[ar-ur-1]=gr}return dr},Math.clz32?ct.prototype._countBits=function(fr){return 32-Math.clz32(fr)}:ct.prototype._countBits=function(fr){var vr=fr,or=0;return vr>=4096&&(or+=13,vr>>>=13),vr>=64&&(or+=7,vr>>>=7),vr>=8&&(or+=4,vr>>>=4),vr>=2&&(or+=2,vr>>>=2),or+vr},ct.prototype._zeroBits=function(fr){if(fr===0)return 26;var vr=fr,or=0;return vr&8191||(or+=13,vr>>>=13),vr&127||(or+=7,vr>>>=7),vr&15||(or+=4,vr>>>=4),vr&3||(or+=2,vr>>>=2),vr&1||or++,or},ct.prototype.bitLength=function(){var fr=this.words[this.length-1],vr=this._countBits(fr);return(this.length-1)*26+vr};function Ut(Sr){for(var fr=new Array(Sr.bitLength()),vr=0;vr<fr.length;vr++){var or=vr/26|0,rr=vr%26;fr[vr]=(Sr.words[or]&1<<rr)>>>rr}return fr}ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var fr=0,vr=0;vr<this.length;vr++){var or=this._zeroBits(this.words[vr]);if(fr+=or,or!==26)break}return fr},ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ct.prototype.toTwos=function(fr){return this.negative!==0?this.abs().inotn(fr).iaddn(1):this.clone()},ct.prototype.fromTwos=function(fr){return this.testn(fr-1)?this.notn(fr).iaddn(1).ineg():this.clone()},ct.prototype.isNeg=function(){return this.negative!==0},ct.prototype.neg=function(){return this.clone().ineg()},ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ct.prototype.iuor=function(fr){for(;this.length<fr.length;)this.words[this.length++]=0;for(var vr=0;vr<fr.length;vr++)this.words[vr]=this.words[vr]|fr.words[vr];return this.strip()},ct.prototype.ior=function(fr){return tt((this.negative|fr.negative)===0),this.iuor(fr)},ct.prototype.or=function(fr){return this.length>fr.length?this.clone().ior(fr):fr.clone().ior(this)},ct.prototype.uor=function(fr){return this.length>fr.length?this.clone().iuor(fr):fr.clone().iuor(this)},ct.prototype.iuand=function(fr){var vr;this.length>fr.length?vr=fr:vr=this;for(var or=0;or<vr.length;or++)this.words[or]=this.words[or]&fr.words[or];return this.length=vr.length,this.strip()},ct.prototype.iand=function(fr){return tt((this.negative|fr.negative)===0),this.iuand(fr)},ct.prototype.and=function(fr){return this.length>fr.length?this.clone().iand(fr):fr.clone().iand(this)},ct.prototype.uand=function(fr){return this.length>fr.length?this.clone().iuand(fr):fr.clone().iuand(this)},ct.prototype.iuxor=function(fr){var vr,or;this.length>fr.length?(vr=this,or=fr):(vr=fr,or=this);for(var rr=0;rr<or.length;rr++)this.words[rr]=vr.words[rr]^or.words[rr];if(this!==vr)for(;rr<vr.length;rr++)this.words[rr]=vr.words[rr];return this.length=vr.length,this.strip()},ct.prototype.ixor=function(fr){return tt((this.negative|fr.negative)===0),this.iuxor(fr)},ct.prototype.xor=function(fr){return this.length>fr.length?this.clone().ixor(fr):fr.clone().ixor(this)},ct.prototype.uxor=function(fr){return this.length>fr.length?this.clone().iuxor(fr):fr.clone().iuxor(this)},ct.prototype.inotn=function(fr){tt(typeof fr=="number"&&fr>=0);var vr=Math.ceil(fr/26)|0,or=fr%26;this._expand(vr),or>0&&vr--;for(var rr=0;rr<vr;rr++)this.words[rr]=~this.words[rr]&67108863;return or>0&&(this.words[rr]=~this.words[rr]&67108863>>26-or),this.strip()},ct.prototype.notn=function(fr){return this.clone().inotn(fr)},ct.prototype.setn=function(fr,vr){tt(typeof fr=="number"&&fr>=0);var or=fr/26|0,rr=fr%26;return this._expand(or+1),vr?this.words[or]=this.words[or]|1<<rr:this.words[or]=this.words[or]&~(1<<rr),this.strip()},ct.prototype.iadd=function(fr){var vr;if(this.negative!==0&&fr.negative===0)return this.negative=0,vr=this.isub(fr),this.negative^=1,this._normSign();if(this.negative===0&&fr.negative!==0)return fr.negative=0,vr=this.isub(fr),fr.negative=1,vr._normSign();var or,rr;this.length>fr.length?(or=this,rr=fr):(or=fr,rr=this);for(var ar=0,sr=0;sr<rr.length;sr++)vr=(or.words[sr]|0)+(rr.words[sr]|0)+ar,this.words[sr]=vr&67108863,ar=vr>>>26;for(;ar!==0&&sr<or.length;sr++)vr=(or.words[sr]|0)+ar,this.words[sr]=vr&67108863,ar=vr>>>26;if(this.length=or.length,ar!==0)this.words[this.length]=ar,this.length++;else if(or!==this)for(;sr<or.length;sr++)this.words[sr]=or.words[sr];return this},ct.prototype.add=function(fr){var vr;return fr.negative!==0&&this.negative===0?(fr.negative=0,vr=this.sub(fr),fr.negative^=1,vr):fr.negative===0&&this.negative!==0?(this.negative=0,vr=fr.sub(this),this.negative=1,vr):this.length>fr.length?this.clone().iadd(fr):fr.clone().iadd(this)},ct.prototype.isub=function(fr){if(fr.negative!==0){fr.negative=0;var vr=this.iadd(fr);return fr.negative=1,vr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(fr),this.negative=1,this._normSign();var or=this.cmp(fr);if(or===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,ar;or>0?(rr=this,ar=fr):(rr=fr,ar=this);for(var sr=0,dr=0;dr<ar.length;dr++)vr=(rr.words[dr]|0)-(ar.words[dr]|0)+sr,sr=vr>>26,this.words[dr]=vr&67108863;for(;sr!==0&&dr<rr.length;dr++)vr=(rr.words[dr]|0)+sr,sr=vr>>26,this.words[dr]=vr&67108863;if(sr===0&&dr<rr.length&&rr!==this)for(;dr<rr.length;dr++)this.words[dr]=rr.words[dr];return this.length=Math.max(this.length,dr),rr!==this&&(this.negative=1),this.strip()},ct.prototype.sub=function(fr){return this.clone().isub(fr)};function Vt(Sr,fr,vr){vr.negative=fr.negative^Sr.negative;var or=Sr.length+fr.length|0;vr.length=or,or=or-1|0;var rr=Sr.words[0]|0,ar=fr.words[0]|0,sr=rr*ar,dr=sr&67108863,gr=sr/67108864|0;vr.words[0]=dr;for(var ur=1;ur<or;ur++){for(var _r=gr>>>26,hr=gr&67108863,cr=Math.min(ur,fr.length-1),wr=Math.max(0,ur-Sr.length+1);wr<=cr;wr++){var Br=ur-wr|0;rr=Sr.words[Br]|0,ar=fr.words[wr]|0,sr=rr*ar+hr,_r+=sr/67108864|0,hr=sr&67108863}vr.words[ur]=hr|0,gr=_r|0}return gr!==0?vr.words[ur]=gr|0:vr.length--,vr.strip()}var Yt=function(fr,vr,or){var rr=fr.words,ar=vr.words,sr=or.words,dr=0,gr,ur,_r,hr=rr[0]|0,cr=hr&8191,wr=hr>>>13,Br=rr[1]|0,Or=Br&8191,Rr=Br>>>13,Pr=rr[2]|0,Ur=Pr&8191,kr=Pr>>>13,Ar=rr[3]|0,Cr=Ar&8191,Fr=Ar>>>13,Lr=rr[4]|0,Hr=Lr&8191,Gr=Lr>>>13,Nr=rr[5]|0,Vr=Nr&8191,jr=Nr>>>13,Wr=rr[6]|0,Kr=Wr&8191,an=Wr>>>13,Un=rr[7]|0,Vn=Un&8191,Kn=Un>>>13,oo=rr[8]|0,Hn=oo&8191,Qn=oo>>>13,yo=rr[9]|0,Dr=yo&8191,Tr=yo>>>13,Ir=ar[0]|0,qr=Ir&8191,Qr=Ir>>>13,sn=ar[1]|0,nn=sn&8191,Xn=sn>>>13,xo=ar[2]|0,no=xo&8191,lo=xo>>>13,bo=ar[3]|0,mo=bo&8191,Eo=bo>>>13,Bo=ar[4]|0,vo=Bo&8191,Co=Bo>>>13,Mo=ar[5]|0,go=Mo&8191,$o=Mo>>>13,jo=ar[6]|0,Xr=jo&8191,Jr=jo>>>13,Dn=ar[7]|0,Ln=Dn&8191,Gn=Dn>>>13,co=ar[8]|0,Jn=co&8191,_i=co>>>13,ao=ar[9]|0,Wn=ao&8191,eo=ao>>>13;or.negative=fr.negative^vr.negative,or.length=19,gr=Math.imul(cr,qr),ur=Math.imul(cr,Qr),ur=ur+Math.imul(wr,qr)|0,_r=Math.imul(wr,Qr);var _o=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(_o>>>26)|0,_o&=67108863,gr=Math.imul(Or,qr),ur=Math.imul(Or,Qr),ur=ur+Math.imul(Rr,qr)|0,_r=Math.imul(Rr,Qr),gr=gr+Math.imul(cr,nn)|0,ur=ur+Math.imul(cr,Xn)|0,ur=ur+Math.imul(wr,nn)|0,_r=_r+Math.imul(wr,Xn)|0;var ho=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(ho>>>26)|0,ho&=67108863,gr=Math.imul(Ur,qr),ur=Math.imul(Ur,Qr),ur=ur+Math.imul(kr,qr)|0,_r=Math.imul(kr,Qr),gr=gr+Math.imul(Or,nn)|0,ur=ur+Math.imul(Or,Xn)|0,ur=ur+Math.imul(Rr,nn)|0,_r=_r+Math.imul(Rr,Xn)|0,gr=gr+Math.imul(cr,no)|0,ur=ur+Math.imul(cr,lo)|0,ur=ur+Math.imul(wr,no)|0,_r=_r+Math.imul(wr,lo)|0;var To=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(To>>>26)|0,To&=67108863,gr=Math.imul(Cr,qr),ur=Math.imul(Cr,Qr),ur=ur+Math.imul(Fr,qr)|0,_r=Math.imul(Fr,Qr),gr=gr+Math.imul(Ur,nn)|0,ur=ur+Math.imul(Ur,Xn)|0,ur=ur+Math.imul(kr,nn)|0,_r=_r+Math.imul(kr,Xn)|0,gr=gr+Math.imul(Or,no)|0,ur=ur+Math.imul(Or,lo)|0,ur=ur+Math.imul(Rr,no)|0,_r=_r+Math.imul(Rr,lo)|0,gr=gr+Math.imul(cr,mo)|0,ur=ur+Math.imul(cr,Eo)|0,ur=ur+Math.imul(wr,mo)|0,_r=_r+Math.imul(wr,Eo)|0;var Io=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Io>>>26)|0,Io&=67108863,gr=Math.imul(Hr,qr),ur=Math.imul(Hr,Qr),ur=ur+Math.imul(Gr,qr)|0,_r=Math.imul(Gr,Qr),gr=gr+Math.imul(Cr,nn)|0,ur=ur+Math.imul(Cr,Xn)|0,ur=ur+Math.imul(Fr,nn)|0,_r=_r+Math.imul(Fr,Xn)|0,gr=gr+Math.imul(Ur,no)|0,ur=ur+Math.imul(Ur,lo)|0,ur=ur+Math.imul(kr,no)|0,_r=_r+Math.imul(kr,lo)|0,gr=gr+Math.imul(Or,mo)|0,ur=ur+Math.imul(Or,Eo)|0,ur=ur+Math.imul(Rr,mo)|0,_r=_r+Math.imul(Rr,Eo)|0,gr=gr+Math.imul(cr,vo)|0,ur=ur+Math.imul(cr,Co)|0,ur=ur+Math.imul(wr,vo)|0,_r=_r+Math.imul(wr,Co)|0;var Ro=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,gr=Math.imul(Vr,qr),ur=Math.imul(Vr,Qr),ur=ur+Math.imul(jr,qr)|0,_r=Math.imul(jr,Qr),gr=gr+Math.imul(Hr,nn)|0,ur=ur+Math.imul(Hr,Xn)|0,ur=ur+Math.imul(Gr,nn)|0,_r=_r+Math.imul(Gr,Xn)|0,gr=gr+Math.imul(Cr,no)|0,ur=ur+Math.imul(Cr,lo)|0,ur=ur+Math.imul(Fr,no)|0,_r=_r+Math.imul(Fr,lo)|0,gr=gr+Math.imul(Ur,mo)|0,ur=ur+Math.imul(Ur,Eo)|0,ur=ur+Math.imul(kr,mo)|0,_r=_r+Math.imul(kr,Eo)|0,gr=gr+Math.imul(Or,vo)|0,ur=ur+Math.imul(Or,Co)|0,ur=ur+Math.imul(Rr,vo)|0,_r=_r+Math.imul(Rr,Co)|0,gr=gr+Math.imul(cr,go)|0,ur=ur+Math.imul(cr,$o)|0,ur=ur+Math.imul(wr,go)|0,_r=_r+Math.imul(wr,$o)|0;var Do=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Do>>>26)|0,Do&=67108863,gr=Math.imul(Kr,qr),ur=Math.imul(Kr,Qr),ur=ur+Math.imul(an,qr)|0,_r=Math.imul(an,Qr),gr=gr+Math.imul(Vr,nn)|0,ur=ur+Math.imul(Vr,Xn)|0,ur=ur+Math.imul(jr,nn)|0,_r=_r+Math.imul(jr,Xn)|0,gr=gr+Math.imul(Hr,no)|0,ur=ur+Math.imul(Hr,lo)|0,ur=ur+Math.imul(Gr,no)|0,_r=_r+Math.imul(Gr,lo)|0,gr=gr+Math.imul(Cr,mo)|0,ur=ur+Math.imul(Cr,Eo)|0,ur=ur+Math.imul(Fr,mo)|0,_r=_r+Math.imul(Fr,Eo)|0,gr=gr+Math.imul(Ur,vo)|0,ur=ur+Math.imul(Ur,Co)|0,ur=ur+Math.imul(kr,vo)|0,_r=_r+Math.imul(kr,Co)|0,gr=gr+Math.imul(Or,go)|0,ur=ur+Math.imul(Or,$o)|0,ur=ur+Math.imul(Rr,go)|0,_r=_r+Math.imul(Rr,$o)|0,gr=gr+Math.imul(cr,Xr)|0,ur=ur+Math.imul(cr,Jr)|0,ur=ur+Math.imul(wr,Xr)|0,_r=_r+Math.imul(wr,Jr)|0;var Zo=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,gr=Math.imul(Vn,qr),ur=Math.imul(Vn,Qr),ur=ur+Math.imul(Kn,qr)|0,_r=Math.imul(Kn,Qr),gr=gr+Math.imul(Kr,nn)|0,ur=ur+Math.imul(Kr,Xn)|0,ur=ur+Math.imul(an,nn)|0,_r=_r+Math.imul(an,Xn)|0,gr=gr+Math.imul(Vr,no)|0,ur=ur+Math.imul(Vr,lo)|0,ur=ur+Math.imul(jr,no)|0,_r=_r+Math.imul(jr,lo)|0,gr=gr+Math.imul(Hr,mo)|0,ur=ur+Math.imul(Hr,Eo)|0,ur=ur+Math.imul(Gr,mo)|0,_r=_r+Math.imul(Gr,Eo)|0,gr=gr+Math.imul(Cr,vo)|0,ur=ur+Math.imul(Cr,Co)|0,ur=ur+Math.imul(Fr,vo)|0,_r=_r+Math.imul(Fr,Co)|0,gr=gr+Math.imul(Ur,go)|0,ur=ur+Math.imul(Ur,$o)|0,ur=ur+Math.imul(kr,go)|0,_r=_r+Math.imul(kr,$o)|0,gr=gr+Math.imul(Or,Xr)|0,ur=ur+Math.imul(Or,Jr)|0,ur=ur+Math.imul(Rr,Xr)|0,_r=_r+Math.imul(Rr,Jr)|0,gr=gr+Math.imul(cr,Ln)|0,ur=ur+Math.imul(cr,Gn)|0,ur=ur+Math.imul(wr,Ln)|0,_r=_r+Math.imul(wr,Gn)|0;var ts=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(ts>>>26)|0,ts&=67108863,gr=Math.imul(Hn,qr),ur=Math.imul(Hn,Qr),ur=ur+Math.imul(Qn,qr)|0,_r=Math.imul(Qn,Qr),gr=gr+Math.imul(Vn,nn)|0,ur=ur+Math.imul(Vn,Xn)|0,ur=ur+Math.imul(Kn,nn)|0,_r=_r+Math.imul(Kn,Xn)|0,gr=gr+Math.imul(Kr,no)|0,ur=ur+Math.imul(Kr,lo)|0,ur=ur+Math.imul(an,no)|0,_r=_r+Math.imul(an,lo)|0,gr=gr+Math.imul(Vr,mo)|0,ur=ur+Math.imul(Vr,Eo)|0,ur=ur+Math.imul(jr,mo)|0,_r=_r+Math.imul(jr,Eo)|0,gr=gr+Math.imul(Hr,vo)|0,ur=ur+Math.imul(Hr,Co)|0,ur=ur+Math.imul(Gr,vo)|0,_r=_r+Math.imul(Gr,Co)|0,gr=gr+Math.imul(Cr,go)|0,ur=ur+Math.imul(Cr,$o)|0,ur=ur+Math.imul(Fr,go)|0,_r=_r+Math.imul(Fr,$o)|0,gr=gr+Math.imul(Ur,Xr)|0,ur=ur+Math.imul(Ur,Jr)|0,ur=ur+Math.imul(kr,Xr)|0,_r=_r+Math.imul(kr,Jr)|0,gr=gr+Math.imul(Or,Ln)|0,ur=ur+Math.imul(Or,Gn)|0,ur=ur+Math.imul(Rr,Ln)|0,_r=_r+Math.imul(Rr,Gn)|0,gr=gr+Math.imul(cr,Jn)|0,ur=ur+Math.imul(cr,_i)|0,ur=ur+Math.imul(wr,Jn)|0,_r=_r+Math.imul(wr,_i)|0;var Go=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Go>>>26)|0,Go&=67108863,gr=Math.imul(Dr,qr),ur=Math.imul(Dr,Qr),ur=ur+Math.imul(Tr,qr)|0,_r=Math.imul(Tr,Qr),gr=gr+Math.imul(Hn,nn)|0,ur=ur+Math.imul(Hn,Xn)|0,ur=ur+Math.imul(Qn,nn)|0,_r=_r+Math.imul(Qn,Xn)|0,gr=gr+Math.imul(Vn,no)|0,ur=ur+Math.imul(Vn,lo)|0,ur=ur+Math.imul(Kn,no)|0,_r=_r+Math.imul(Kn,lo)|0,gr=gr+Math.imul(Kr,mo)|0,ur=ur+Math.imul(Kr,Eo)|0,ur=ur+Math.imul(an,mo)|0,_r=_r+Math.imul(an,Eo)|0,gr=gr+Math.imul(Vr,vo)|0,ur=ur+Math.imul(Vr,Co)|0,ur=ur+Math.imul(jr,vo)|0,_r=_r+Math.imul(jr,Co)|0,gr=gr+Math.imul(Hr,go)|0,ur=ur+Math.imul(Hr,$o)|0,ur=ur+Math.imul(Gr,go)|0,_r=_r+Math.imul(Gr,$o)|0,gr=gr+Math.imul(Cr,Xr)|0,ur=ur+Math.imul(Cr,Jr)|0,ur=ur+Math.imul(Fr,Xr)|0,_r=_r+Math.imul(Fr,Jr)|0,gr=gr+Math.imul(Ur,Ln)|0,ur=ur+Math.imul(Ur,Gn)|0,ur=ur+Math.imul(kr,Ln)|0,_r=_r+Math.imul(kr,Gn)|0,gr=gr+Math.imul(Or,Jn)|0,ur=ur+Math.imul(Or,_i)|0,ur=ur+Math.imul(Rr,Jn)|0,_r=_r+Math.imul(Rr,_i)|0,gr=gr+Math.imul(cr,Wn)|0,ur=ur+Math.imul(cr,eo)|0,ur=ur+Math.imul(wr,Wn)|0,_r=_r+Math.imul(wr,eo)|0;var Lo=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,gr=Math.imul(Dr,nn),ur=Math.imul(Dr,Xn),ur=ur+Math.imul(Tr,nn)|0,_r=Math.imul(Tr,Xn),gr=gr+Math.imul(Hn,no)|0,ur=ur+Math.imul(Hn,lo)|0,ur=ur+Math.imul(Qn,no)|0,_r=_r+Math.imul(Qn,lo)|0,gr=gr+Math.imul(Vn,mo)|0,ur=ur+Math.imul(Vn,Eo)|0,ur=ur+Math.imul(Kn,mo)|0,_r=_r+Math.imul(Kn,Eo)|0,gr=gr+Math.imul(Kr,vo)|0,ur=ur+Math.imul(Kr,Co)|0,ur=ur+Math.imul(an,vo)|0,_r=_r+Math.imul(an,Co)|0,gr=gr+Math.imul(Vr,go)|0,ur=ur+Math.imul(Vr,$o)|0,ur=ur+Math.imul(jr,go)|0,_r=_r+Math.imul(jr,$o)|0,gr=gr+Math.imul(Hr,Xr)|0,ur=ur+Math.imul(Hr,Jr)|0,ur=ur+Math.imul(Gr,Xr)|0,_r=_r+Math.imul(Gr,Jr)|0,gr=gr+Math.imul(Cr,Ln)|0,ur=ur+Math.imul(Cr,Gn)|0,ur=ur+Math.imul(Fr,Ln)|0,_r=_r+Math.imul(Fr,Gn)|0,gr=gr+Math.imul(Ur,Jn)|0,ur=ur+Math.imul(Ur,_i)|0,ur=ur+Math.imul(kr,Jn)|0,_r=_r+Math.imul(kr,_i)|0,gr=gr+Math.imul(Or,Wn)|0,ur=ur+Math.imul(Or,eo)|0,ur=ur+Math.imul(Rr,Wn)|0,_r=_r+Math.imul(Rr,eo)|0;var ns=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(ns>>>26)|0,ns&=67108863,gr=Math.imul(Dr,no),ur=Math.imul(Dr,lo),ur=ur+Math.imul(Tr,no)|0,_r=Math.imul(Tr,lo),gr=gr+Math.imul(Hn,mo)|0,ur=ur+Math.imul(Hn,Eo)|0,ur=ur+Math.imul(Qn,mo)|0,_r=_r+Math.imul(Qn,Eo)|0,gr=gr+Math.imul(Vn,vo)|0,ur=ur+Math.imul(Vn,Co)|0,ur=ur+Math.imul(Kn,vo)|0,_r=_r+Math.imul(Kn,Co)|0,gr=gr+Math.imul(Kr,go)|0,ur=ur+Math.imul(Kr,$o)|0,ur=ur+Math.imul(an,go)|0,_r=_r+Math.imul(an,$o)|0,gr=gr+Math.imul(Vr,Xr)|0,ur=ur+Math.imul(Vr,Jr)|0,ur=ur+Math.imul(jr,Xr)|0,_r=_r+Math.imul(jr,Jr)|0,gr=gr+Math.imul(Hr,Ln)|0,ur=ur+Math.imul(Hr,Gn)|0,ur=ur+Math.imul(Gr,Ln)|0,_r=_r+Math.imul(Gr,Gn)|0,gr=gr+Math.imul(Cr,Jn)|0,ur=ur+Math.imul(Cr,_i)|0,ur=ur+Math.imul(Fr,Jn)|0,_r=_r+Math.imul(Fr,_i)|0,gr=gr+Math.imul(Ur,Wn)|0,ur=ur+Math.imul(Ur,eo)|0,ur=ur+Math.imul(kr,Wn)|0,_r=_r+Math.imul(kr,eo)|0;var Wo=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,gr=Math.imul(Dr,mo),ur=Math.imul(Dr,Eo),ur=ur+Math.imul(Tr,mo)|0,_r=Math.imul(Tr,Eo),gr=gr+Math.imul(Hn,vo)|0,ur=ur+Math.imul(Hn,Co)|0,ur=ur+Math.imul(Qn,vo)|0,_r=_r+Math.imul(Qn,Co)|0,gr=gr+Math.imul(Vn,go)|0,ur=ur+Math.imul(Vn,$o)|0,ur=ur+Math.imul(Kn,go)|0,_r=_r+Math.imul(Kn,$o)|0,gr=gr+Math.imul(Kr,Xr)|0,ur=ur+Math.imul(Kr,Jr)|0,ur=ur+Math.imul(an,Xr)|0,_r=_r+Math.imul(an,Jr)|0,gr=gr+Math.imul(Vr,Ln)|0,ur=ur+Math.imul(Vr,Gn)|0,ur=ur+Math.imul(jr,Ln)|0,_r=_r+Math.imul(jr,Gn)|0,gr=gr+Math.imul(Hr,Jn)|0,ur=ur+Math.imul(Hr,_i)|0,ur=ur+Math.imul(Gr,Jn)|0,_r=_r+Math.imul(Gr,_i)|0,gr=gr+Math.imul(Cr,Wn)|0,ur=ur+Math.imul(Cr,eo)|0,ur=ur+Math.imul(Fr,Wn)|0,_r=_r+Math.imul(Fr,eo)|0;var Qo=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,gr=Math.imul(Dr,vo),ur=Math.imul(Dr,Co),ur=ur+Math.imul(Tr,vo)|0,_r=Math.imul(Tr,Co),gr=gr+Math.imul(Hn,go)|0,ur=ur+Math.imul(Hn,$o)|0,ur=ur+Math.imul(Qn,go)|0,_r=_r+Math.imul(Qn,$o)|0,gr=gr+Math.imul(Vn,Xr)|0,ur=ur+Math.imul(Vn,Jr)|0,ur=ur+Math.imul(Kn,Xr)|0,_r=_r+Math.imul(Kn,Jr)|0,gr=gr+Math.imul(Kr,Ln)|0,ur=ur+Math.imul(Kr,Gn)|0,ur=ur+Math.imul(an,Ln)|0,_r=_r+Math.imul(an,Gn)|0,gr=gr+Math.imul(Vr,Jn)|0,ur=ur+Math.imul(Vr,_i)|0,ur=ur+Math.imul(jr,Jn)|0,_r=_r+Math.imul(jr,_i)|0,gr=gr+Math.imul(Hr,Wn)|0,ur=ur+Math.imul(Hr,eo)|0,ur=ur+Math.imul(Gr,Wn)|0,_r=_r+Math.imul(Gr,eo)|0;var _a=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(_a>>>26)|0,_a&=67108863,gr=Math.imul(Dr,go),ur=Math.imul(Dr,$o),ur=ur+Math.imul(Tr,go)|0,_r=Math.imul(Tr,$o),gr=gr+Math.imul(Hn,Xr)|0,ur=ur+Math.imul(Hn,Jr)|0,ur=ur+Math.imul(Qn,Xr)|0,_r=_r+Math.imul(Qn,Jr)|0,gr=gr+Math.imul(Vn,Ln)|0,ur=ur+Math.imul(Vn,Gn)|0,ur=ur+Math.imul(Kn,Ln)|0,_r=_r+Math.imul(Kn,Gn)|0,gr=gr+Math.imul(Kr,Jn)|0,ur=ur+Math.imul(Kr,_i)|0,ur=ur+Math.imul(an,Jn)|0,_r=_r+Math.imul(an,_i)|0,gr=gr+Math.imul(Vr,Wn)|0,ur=ur+Math.imul(Vr,eo)|0,ur=ur+Math.imul(jr,Wn)|0,_r=_r+Math.imul(jr,eo)|0;var $a=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+($a>>>26)|0,$a&=67108863,gr=Math.imul(Dr,Xr),ur=Math.imul(Dr,Jr),ur=ur+Math.imul(Tr,Xr)|0,_r=Math.imul(Tr,Jr),gr=gr+Math.imul(Hn,Ln)|0,ur=ur+Math.imul(Hn,Gn)|0,ur=ur+Math.imul(Qn,Ln)|0,_r=_r+Math.imul(Qn,Gn)|0,gr=gr+Math.imul(Vn,Jn)|0,ur=ur+Math.imul(Vn,_i)|0,ur=ur+Math.imul(Kn,Jn)|0,_r=_r+Math.imul(Kn,_i)|0,gr=gr+Math.imul(Kr,Wn)|0,ur=ur+Math.imul(Kr,eo)|0,ur=ur+Math.imul(an,Wn)|0,_r=_r+Math.imul(an,eo)|0;var Ao=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,gr=Math.imul(Dr,Ln),ur=Math.imul(Dr,Gn),ur=ur+Math.imul(Tr,Ln)|0,_r=Math.imul(Tr,Gn),gr=gr+Math.imul(Hn,Jn)|0,ur=ur+Math.imul(Hn,_i)|0,ur=ur+Math.imul(Qn,Jn)|0,_r=_r+Math.imul(Qn,_i)|0,gr=gr+Math.imul(Vn,Wn)|0,ur=ur+Math.imul(Vn,eo)|0,ur=ur+Math.imul(Kn,Wn)|0,_r=_r+Math.imul(Kn,eo)|0;var Oo=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,gr=Math.imul(Dr,Jn),ur=Math.imul(Dr,_i),ur=ur+Math.imul(Tr,Jn)|0,_r=Math.imul(Tr,_i),gr=gr+Math.imul(Hn,Wn)|0,ur=ur+Math.imul(Hn,eo)|0,ur=ur+Math.imul(Qn,Wn)|0,_r=_r+Math.imul(Qn,eo)|0;var Jo=(dr+gr|0)+((ur&8191)<<13)|0;dr=(_r+(ur>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,gr=Math.imul(Dr,Wn),ur=Math.imul(Dr,eo),ur=ur+Math.imul(Tr,Wn)|0,_r=Math.imul(Tr,eo);var rs=(dr+gr|0)+((ur&8191)<<13)|0;return dr=(_r+(ur>>>13)|0)+(rs>>>26)|0,rs&=67108863,sr[0]=_o,sr[1]=ho,sr[2]=To,sr[3]=Io,sr[4]=Ro,sr[5]=Do,sr[6]=Zo,sr[7]=ts,sr[8]=Go,sr[9]=Lo,sr[10]=ns,sr[11]=Wo,sr[12]=Qo,sr[13]=_a,sr[14]=$a,sr[15]=Ao,sr[16]=Oo,sr[17]=Jo,sr[18]=rs,dr!==0&&(sr[19]=dr,or.length++),or};Math.imul||(Yt=Vt);function er(Sr,fr,vr){vr.negative=fr.negative^Sr.negative,vr.length=Sr.length+fr.length;for(var or=0,rr=0,ar=0;ar<vr.length-1;ar++){var sr=rr;rr=0;for(var dr=or&67108863,gr=Math.min(ar,fr.length-1),ur=Math.max(0,ar-Sr.length+1);ur<=gr;ur++){var _r=ar-ur,hr=Sr.words[_r]|0,cr=fr.words[ur]|0,wr=hr*cr,Br=wr&67108863;sr=sr+(wr/67108864|0)|0,Br=Br+dr|0,dr=Br&67108863,sr=sr+(Br>>>26)|0,rr+=sr>>>26,sr&=67108863}vr.words[ar]=dr,or=sr,sr=rr}return or!==0?vr.words[ar]=or:vr.length--,vr.strip()}function tr(Sr,fr,vr){var or=new nr;return or.mulp(Sr,fr,vr)}ct.prototype.mulTo=function(fr,vr){var or,rr=this.length+fr.length;return this.length===10&&fr.length===10?or=Yt(this,fr,vr):rr<63?or=Vt(this,fr,vr):rr<1024?or=er(this,fr,vr):or=tr(this,fr,vr),or};function nr(Sr,fr){this.x=Sr,this.y=fr}nr.prototype.makeRBT=function(fr){for(var vr=new Array(fr),or=ct.prototype._countBits(fr)-1,rr=0;rr<fr;rr++)vr[rr]=this.revBin(rr,or,fr);return vr},nr.prototype.revBin=function(fr,vr,or){if(fr===0||fr===or-1)return fr;for(var rr=0,ar=0;ar<vr;ar++)rr|=(fr&1)<<vr-ar-1,fr>>=1;return rr},nr.prototype.permute=function(fr,vr,or,rr,ar,sr){for(var dr=0;dr<sr;dr++)rr[dr]=vr[fr[dr]],ar[dr]=or[fr[dr]]},nr.prototype.transform=function(fr,vr,or,rr,ar,sr){this.permute(sr,fr,vr,or,rr,ar);for(var dr=1;dr<ar;dr<<=1)for(var gr=dr<<1,ur=Math.cos(2*Math.PI/gr),_r=Math.sin(2*Math.PI/gr),hr=0;hr<ar;hr+=gr)for(var cr=ur,wr=_r,Br=0;Br<dr;Br++){var Or=or[hr+Br],Rr=rr[hr+Br],Pr=or[hr+Br+dr],Ur=rr[hr+Br+dr],kr=cr*Pr-wr*Ur;Ur=cr*Ur+wr*Pr,Pr=kr,or[hr+Br]=Or+Pr,rr[hr+Br]=Rr+Ur,or[hr+Br+dr]=Or-Pr,rr[hr+Br+dr]=Rr-Ur,Br!==gr&&(kr=ur*cr-_r*wr,wr=ur*wr+_r*cr,cr=kr)}},nr.prototype.guessLen13b=function(fr,vr){var or=Math.max(vr,fr)|1,rr=or&1,ar=0;for(or=or/2|0;or;or=or>>>1)ar++;return 1<<ar+1+rr},nr.prototype.conjugate=function(fr,vr,or){if(!(or<=1))for(var rr=0;rr<or/2;rr++){var ar=fr[rr];fr[rr]=fr[or-rr-1],fr[or-rr-1]=ar,ar=vr[rr],vr[rr]=-vr[or-rr-1],vr[or-rr-1]=-ar}},nr.prototype.normalize13b=function(fr,vr){for(var or=0,rr=0;rr<vr/2;rr++){var ar=Math.round(fr[2*rr+1]/vr)*8192+Math.round(fr[2*rr]/vr)+or;fr[rr]=ar&67108863,ar<67108864?or=0:or=ar/67108864|0}return fr},nr.prototype.convert13b=function(fr,vr,or,rr){for(var ar=0,sr=0;sr<vr;sr++)ar=ar+(fr[sr]|0),or[2*sr]=ar&8191,ar=ar>>>13,or[2*sr+1]=ar&8191,ar=ar>>>13;for(sr=2*vr;sr<rr;++sr)or[sr]=0;tt(ar===0),tt((ar&-8192)===0)},nr.prototype.stub=function(fr){for(var vr=new Array(fr),or=0;or<fr;or++)vr[or]=0;return vr},nr.prototype.mulp=function(fr,vr,or){var rr=2*this.guessLen13b(fr.length,vr.length),ar=this.makeRBT(rr),sr=this.stub(rr),dr=new Array(rr),gr=new Array(rr),ur=new Array(rr),_r=new Array(rr),hr=new Array(rr),cr=new Array(rr),wr=or.words;wr.length=rr,this.convert13b(fr.words,fr.length,dr,rr),this.convert13b(vr.words,vr.length,_r,rr),this.transform(dr,sr,gr,ur,rr,ar),this.transform(_r,sr,hr,cr,rr,ar);for(var Br=0;Br<rr;Br++){var Or=gr[Br]*hr[Br]-ur[Br]*cr[Br];ur[Br]=gr[Br]*cr[Br]+ur[Br]*hr[Br],gr[Br]=Or}return this.conjugate(gr,ur,rr),this.transform(gr,ur,wr,sr,rr,ar),this.conjugate(wr,sr,rr),this.normalize13b(wr,rr),or.negative=fr.negative^vr.negative,or.length=fr.length+vr.length,or.strip()},ct.prototype.mul=function(fr){var vr=new ct(null);return vr.words=new Array(this.length+fr.length),this.mulTo(fr,vr)},ct.prototype.mulf=function(fr){var vr=new ct(null);return vr.words=new Array(this.length+fr.length),tr(this,fr,vr)},ct.prototype.imul=function(fr){return this.clone().mulTo(fr,this)},ct.prototype.imuln=function(fr){tt(typeof fr=="number"),tt(fr<67108864);for(var vr=0,or=0;or<this.length;or++){var rr=(this.words[or]|0)*fr,ar=(rr&67108863)+(vr&67108863);vr>>=26,vr+=rr/67108864|0,vr+=ar>>>26,this.words[or]=ar&67108863}return vr!==0&&(this.words[or]=vr,this.length++),this},ct.prototype.muln=function(fr){return this.clone().imuln(fr)},ct.prototype.sqr=function(){return this.mul(this)},ct.prototype.isqr=function(){return this.imul(this.clone())},ct.prototype.pow=function(fr){var vr=Ut(fr);if(vr.length===0)return new ct(1);for(var or=this,rr=0;rr<vr.length&&vr[rr]===0;rr++,or=or.sqr());if(++rr<vr.length)for(var ar=or.sqr();rr<vr.length;rr++,ar=ar.sqr())vr[rr]!==0&&(or=or.mul(ar));return or},ct.prototype.iushln=function(fr){tt(typeof fr=="number"&&fr>=0);var vr=fr%26,or=(fr-vr)/26,rr=67108863>>>26-vr<<26-vr,ar;if(vr!==0){var sr=0;for(ar=0;ar<this.length;ar++){var dr=this.words[ar]&rr,gr=(this.words[ar]|0)-dr<<vr;this.words[ar]=gr|sr,sr=dr>>>26-vr}sr&&(this.words[ar]=sr,this.length++)}if(or!==0){for(ar=this.length-1;ar>=0;ar--)this.words[ar+or]=this.words[ar];for(ar=0;ar<or;ar++)this.words[ar]=0;this.length+=or}return this.strip()},ct.prototype.ishln=function(fr){return tt(this.negative===0),this.iushln(fr)},ct.prototype.iushrn=function(fr,vr,or){tt(typeof fr=="number"&&fr>=0);var rr;vr?rr=(vr-vr%26)/26:rr=0;var ar=fr%26,sr=Math.min((fr-ar)/26,this.length),dr=67108863^67108863>>>ar<<ar,gr=or;if(rr-=sr,rr=Math.max(0,rr),gr){for(var ur=0;ur<sr;ur++)gr.words[ur]=this.words[ur];gr.length=sr}if(sr!==0)if(this.length>sr)for(this.length-=sr,ur=0;ur<this.length;ur++)this.words[ur]=this.words[ur+sr];else this.words[0]=0,this.length=1;var _r=0;for(ur=this.length-1;ur>=0&&(_r!==0||ur>=rr);ur--){var hr=this.words[ur]|0;this.words[ur]=_r<<26-ar|hr>>>ar,_r=hr&dr}return gr&&_r!==0&&(gr.words[gr.length++]=_r),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ct.prototype.ishrn=function(fr,vr,or){return tt(this.negative===0),this.iushrn(fr,vr,or)},ct.prototype.shln=function(fr){return this.clone().ishln(fr)},ct.prototype.ushln=function(fr){return this.clone().iushln(fr)},ct.prototype.shrn=function(fr){return this.clone().ishrn(fr)},ct.prototype.ushrn=function(fr){return this.clone().iushrn(fr)},ct.prototype.testn=function(fr){tt(typeof fr=="number"&&fr>=0);var vr=fr%26,or=(fr-vr)/26,rr=1<<vr;if(this.length<=or)return!1;var ar=this.words[or];return!!(ar&rr)},ct.prototype.imaskn=function(fr){tt(typeof fr=="number"&&fr>=0);var vr=fr%26,or=(fr-vr)/26;if(tt(this.negative===0,"imaskn works only with positive numbers"),this.length<=or)return this;if(vr!==0&&or++,this.length=Math.min(or,this.length),vr!==0){var rr=67108863^67108863>>>vr<<vr;this.words[this.length-1]&=rr}return this.strip()},ct.prototype.maskn=function(fr){return this.clone().imaskn(fr)},ct.prototype.iaddn=function(fr){return tt(typeof fr=="number"),tt(fr<67108864),fr<0?this.isubn(-fr):this.negative!==0?this.length===1&&(this.words[0]|0)<fr?(this.words[0]=fr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(fr),this.negative=1,this):this._iaddn(fr)},ct.prototype._iaddn=function(fr){this.words[0]+=fr;for(var vr=0;vr<this.length&&this.words[vr]>=67108864;vr++)this.words[vr]-=67108864,vr===this.length-1?this.words[vr+1]=1:this.words[vr+1]++;return this.length=Math.max(this.length,vr+1),this},ct.prototype.isubn=function(fr){if(tt(typeof fr=="number"),tt(fr<67108864),fr<0)return this.iaddn(-fr);if(this.negative!==0)return this.negative=0,this.iaddn(fr),this.negative=1,this;if(this.words[0]-=fr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var vr=0;vr<this.length&&this.words[vr]<0;vr++)this.words[vr]+=67108864,this.words[vr+1]-=1;return this.strip()},ct.prototype.addn=function(fr){return this.clone().iaddn(fr)},ct.prototype.subn=function(fr){return this.clone().isubn(fr)},ct.prototype.iabs=function(){return this.negative=0,this},ct.prototype.abs=function(){return this.clone().iabs()},ct.prototype._ishlnsubmul=function(fr,vr,or){var rr=fr.length+or,ar;this._expand(rr);var sr,dr=0;for(ar=0;ar<fr.length;ar++){sr=(this.words[ar+or]|0)+dr;var gr=(fr.words[ar]|0)*vr;sr-=gr&67108863,dr=(sr>>26)-(gr/67108864|0),this.words[ar+or]=sr&67108863}for(;ar<this.length-or;ar++)sr=(this.words[ar+or]|0)+dr,dr=sr>>26,this.words[ar+or]=sr&67108863;if(dr===0)return this.strip();for(tt(dr===-1),dr=0,ar=0;ar<this.length;ar++)sr=-(this.words[ar]|0)+dr,dr=sr>>26,this.words[ar]=sr&67108863;return this.negative=1,this.strip()},ct.prototype._wordDiv=function(fr,vr){var or=this.length-fr.length,rr=this.clone(),ar=fr,sr=ar.words[ar.length-1]|0,dr=this._countBits(sr);or=26-dr,or!==0&&(ar=ar.ushln(or),rr.iushln(or),sr=ar.words[ar.length-1]|0);var gr=rr.length-ar.length,ur;if(vr!=="mod"){ur=new ct(null),ur.length=gr+1,ur.words=new Array(ur.length);for(var _r=0;_r<ur.length;_r++)ur.words[_r]=0}var hr=rr.clone()._ishlnsubmul(ar,1,gr);hr.negative===0&&(rr=hr,ur&&(ur.words[gr]=1));for(var cr=gr-1;cr>=0;cr--){var wr=(rr.words[ar.length+cr]|0)*67108864+(rr.words[ar.length+cr-1]|0);for(wr=Math.min(wr/sr|0,67108863),rr._ishlnsubmul(ar,wr,cr);rr.negative!==0;)wr--,rr.negative=0,rr._ishlnsubmul(ar,1,cr),rr.isZero()||(rr.negative^=1);ur&&(ur.words[cr]=wr)}return ur&&ur.strip(),rr.strip(),vr!=="div"&&or!==0&&rr.iushrn(or),{div:ur||null,mod:rr}},ct.prototype.divmod=function(fr,vr,or){if(tt(!fr.isZero()),this.isZero())return{div:new ct(0),mod:new ct(0)};var rr,ar,sr;return this.negative!==0&&fr.negative===0?(sr=this.neg().divmod(fr,vr),vr!=="mod"&&(rr=sr.div.neg()),vr!=="div"&&(ar=sr.mod.neg(),or&&ar.negative!==0&&ar.iadd(fr)),{div:rr,mod:ar}):this.negative===0&&fr.negative!==0?(sr=this.divmod(fr.neg(),vr),vr!=="mod"&&(rr=sr.div.neg()),{div:rr,mod:sr.mod}):this.negative&fr.negative?(sr=this.neg().divmod(fr.neg(),vr),vr!=="div"&&(ar=sr.mod.neg(),or&&ar.negative!==0&&ar.isub(fr)),{div:sr.div,mod:ar}):fr.length>this.length||this.cmp(fr)<0?{div:new ct(0),mod:this}:fr.length===1?vr==="div"?{div:this.divn(fr.words[0]),mod:null}:vr==="mod"?{div:null,mod:new ct(this.modn(fr.words[0]))}:{div:this.divn(fr.words[0]),mod:new ct(this.modn(fr.words[0]))}:this._wordDiv(fr,vr)},ct.prototype.div=function(fr){return this.divmod(fr,"div",!1).div},ct.prototype.mod=function(fr){return this.divmod(fr,"mod",!1).mod},ct.prototype.umod=function(fr){return this.divmod(fr,"mod",!0).mod},ct.prototype.divRound=function(fr){var vr=this.divmod(fr);if(vr.mod.isZero())return vr.div;var or=vr.div.negative!==0?vr.mod.isub(fr):vr.mod,rr=fr.ushrn(1),ar=fr.andln(1),sr=or.cmp(rr);return sr<0||ar===1&&sr===0?vr.div:vr.div.negative!==0?vr.div.isubn(1):vr.div.iaddn(1)},ct.prototype.modn=function(fr){tt(fr<=67108863);for(var vr=(1<<26)%fr,or=0,rr=this.length-1;rr>=0;rr--)or=(vr*or+(this.words[rr]|0))%fr;return or},ct.prototype.idivn=function(fr){tt(fr<=67108863);for(var vr=0,or=this.length-1;or>=0;or--){var rr=(this.words[or]|0)+vr*67108864;this.words[or]=rr/fr|0,vr=rr%fr}return this.strip()},ct.prototype.divn=function(fr){return this.clone().idivn(fr)},ct.prototype.egcd=function(fr){tt(fr.negative===0),tt(!fr.isZero());var vr=this,or=fr.clone();vr.negative!==0?vr=vr.umod(fr):vr=vr.clone();for(var rr=new ct(1),ar=new ct(0),sr=new ct(0),dr=new ct(1),gr=0;vr.isEven()&&or.isEven();)vr.iushrn(1),or.iushrn(1),++gr;for(var ur=or.clone(),_r=vr.clone();!vr.isZero();){for(var hr=0,cr=1;!(vr.words[0]&cr)&&hr<26;++hr,cr<<=1);if(hr>0)for(vr.iushrn(hr);hr-- >0;)(rr.isOdd()||ar.isOdd())&&(rr.iadd(ur),ar.isub(_r)),rr.iushrn(1),ar.iushrn(1);for(var wr=0,Br=1;!(or.words[0]&Br)&&wr<26;++wr,Br<<=1);if(wr>0)for(or.iushrn(wr);wr-- >0;)(sr.isOdd()||dr.isOdd())&&(sr.iadd(ur),dr.isub(_r)),sr.iushrn(1),dr.iushrn(1);vr.cmp(or)>=0?(vr.isub(or),rr.isub(sr),ar.isub(dr)):(or.isub(vr),sr.isub(rr),dr.isub(ar))}return{a:sr,b:dr,gcd:or.iushln(gr)}},ct.prototype._invmp=function(fr){tt(fr.negative===0),tt(!fr.isZero());var vr=this,or=fr.clone();vr.negative!==0?vr=vr.umod(fr):vr=vr.clone();for(var rr=new ct(1),ar=new ct(0),sr=or.clone();vr.cmpn(1)>0&&or.cmpn(1)>0;){for(var dr=0,gr=1;!(vr.words[0]&gr)&&dr<26;++dr,gr<<=1);if(dr>0)for(vr.iushrn(dr);dr-- >0;)rr.isOdd()&&rr.iadd(sr),rr.iushrn(1);for(var ur=0,_r=1;!(or.words[0]&_r)&&ur<26;++ur,_r<<=1);if(ur>0)for(or.iushrn(ur);ur-- >0;)ar.isOdd()&&ar.iadd(sr),ar.iushrn(1);vr.cmp(or)>=0?(vr.isub(or),rr.isub(ar)):(or.isub(vr),ar.isub(rr))}var hr;return vr.cmpn(1)===0?hr=rr:hr=ar,hr.cmpn(0)<0&&hr.iadd(fr),hr},ct.prototype.gcd=function(fr){if(this.isZero())return fr.abs();if(fr.isZero())return this.abs();var vr=this.clone(),or=fr.clone();vr.negative=0,or.negative=0;for(var rr=0;vr.isEven()&&or.isEven();rr++)vr.iushrn(1),or.iushrn(1);do{for(;vr.isEven();)vr.iushrn(1);for(;or.isEven();)or.iushrn(1);var ar=vr.cmp(or);if(ar<0){var sr=vr;vr=or,or=sr}else if(ar===0||or.cmpn(1)===0)break;vr.isub(or)}while(!0);return or.iushln(rr)},ct.prototype.invm=function(fr){return this.egcd(fr).a.umod(fr)},ct.prototype.isEven=function(){return(this.words[0]&1)===0},ct.prototype.isOdd=function(){return(this.words[0]&1)===1},ct.prototype.andln=function(fr){return this.words[0]&fr},ct.prototype.bincn=function(fr){tt(typeof fr=="number");var vr=fr%26,or=(fr-vr)/26,rr=1<<vr;if(this.length<=or)return this._expand(or+1),this.words[or]|=rr,this;for(var ar=rr,sr=or;ar!==0&&sr<this.length;sr++){var dr=this.words[sr]|0;dr+=ar,ar=dr>>>26,dr&=67108863,this.words[sr]=dr}return ar!==0&&(this.words[sr]=ar,this.length++),this},ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ct.prototype.cmpn=function(fr){var vr=fr<0;if(this.negative!==0&&!vr)return-1;if(this.negative===0&&vr)return 1;this.strip();var or;if(this.length>1)or=1;else{vr&&(fr=-fr),tt(fr<=67108863,"Number is too big");var rr=this.words[0]|0;or=rr===fr?0:rr<fr?-1:1}return this.negative!==0?-or|0:or},ct.prototype.cmp=function(fr){if(this.negative!==0&&fr.negative===0)return-1;if(this.negative===0&&fr.negative!==0)return 1;var vr=this.ucmp(fr);return this.negative!==0?-vr|0:vr},ct.prototype.ucmp=function(fr){if(this.length>fr.length)return 1;if(this.length<fr.length)return-1;for(var vr=0,or=this.length-1;or>=0;or--){var rr=this.words[or]|0,ar=fr.words[or]|0;if(rr!==ar){rr<ar?vr=-1:rr>ar&&(vr=1);break}}return vr},ct.prototype.gtn=function(fr){return this.cmpn(fr)===1},ct.prototype.gt=function(fr){return this.cmp(fr)===1},ct.prototype.gten=function(fr){return this.cmpn(fr)>=0},ct.prototype.gte=function(fr){return this.cmp(fr)>=0},ct.prototype.ltn=function(fr){return this.cmpn(fr)===-1},ct.prototype.lt=function(fr){return this.cmp(fr)===-1},ct.prototype.lten=function(fr){return this.cmpn(fr)<=0},ct.prototype.lte=function(fr){return this.cmp(fr)<=0},ct.prototype.eqn=function(fr){return this.cmpn(fr)===0},ct.prototype.eq=function(fr){return this.cmp(fr)===0},ct.red=function(fr){return new Er(fr)},ct.prototype.toRed=function(fr){return tt(!this.red,"Already a number in reduction context"),tt(this.negative===0,"red works only with positives"),fr.convertTo(this)._forceRed(fr)},ct.prototype.fromRed=function(){return tt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ct.prototype._forceRed=function(fr){return this.red=fr,this},ct.prototype.forceRed=function(fr){return tt(!this.red,"Already a number in reduction context"),this._forceRed(fr)},ct.prototype.redAdd=function(fr){return tt(this.red,"redAdd works only with red numbers"),this.red.add(this,fr)},ct.prototype.redIAdd=function(fr){return tt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,fr)},ct.prototype.redSub=function(fr){return tt(this.red,"redSub works only with red numbers"),this.red.sub(this,fr)},ct.prototype.redISub=function(fr){return tt(this.red,"redISub works only with red numbers"),this.red.isub(this,fr)},ct.prototype.redShl=function(fr){return tt(this.red,"redShl works only with red numbers"),this.red.shl(this,fr)},ct.prototype.redMul=function(fr){return tt(this.red,"redMul works only with red numbers"),this.red._verify2(this,fr),this.red.mul(this,fr)},ct.prototype.redIMul=function(fr){return tt(this.red,"redMul works only with red numbers"),this.red._verify2(this,fr),this.red.imul(this,fr)},ct.prototype.redSqr=function(){return tt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ct.prototype.redISqr=function(){return tt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ct.prototype.redSqrt=function(){return tt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ct.prototype.redInvm=function(){return tt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ct.prototype.redNeg=function(){return tt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ct.prototype.redPow=function(fr){return tt(this.red&&!fr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,fr)};var ir={k256:null,p224:null,p192:null,p25519:null};function lr(Sr,fr){this.name=Sr,this.p=new ct(fr,16),this.n=this.p.bitLength(),this.k=new ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}lr.prototype._tmp=function(){var fr=new ct(null);return fr.words=new Array(Math.ceil(this.n/13)),fr},lr.prototype.ireduce=function(fr){var vr=fr,or;do this.split(vr,this.tmp),vr=this.imulK(vr),vr=vr.iadd(this.tmp),or=vr.bitLength();while(or>this.n);var rr=or<this.n?-1:vr.ucmp(this.p);return rr===0?(vr.words[0]=0,vr.length=1):rr>0?vr.isub(this.p):vr.strip!==void 0?vr.strip():vr._strip(),vr},lr.prototype.split=function(fr,vr){fr.iushrn(this.n,0,vr)},lr.prototype.imulK=function(fr){return fr.imul(this.k)};function pr(){lr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(pr,lr),pr.prototype.split=function(fr,vr){for(var or=4194303,rr=Math.min(fr.length,9),ar=0;ar<rr;ar++)vr.words[ar]=fr.words[ar];if(vr.length=rr,fr.length<=9){fr.words[0]=0,fr.length=1;return}var sr=fr.words[9];for(vr.words[vr.length++]=sr&or,ar=10;ar<fr.length;ar++){var dr=fr.words[ar]|0;fr.words[ar-10]=(dr&or)<<4|sr>>>22,sr=dr}sr>>>=22,fr.words[ar-10]=sr,sr===0&&fr.length>10?fr.length-=10:fr.length-=9},pr.prototype.imulK=function(fr){fr.words[fr.length]=0,fr.words[fr.length+1]=0,fr.length+=2;for(var vr=0,or=0;or<fr.length;or++){var rr=fr.words[or]|0;vr+=rr*977,fr.words[or]=vr&67108863,vr=rr*64+(vr/67108864|0)}return fr.words[fr.length-1]===0&&(fr.length--,fr.words[fr.length-1]===0&&fr.length--),fr};function yr(){lr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(yr,lr);function br(){lr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(br,lr);function xr(){lr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(xr,lr),xr.prototype.imulK=function(fr){for(var vr=0,or=0;or<fr.length;or++){var rr=(fr.words[or]|0)*19+vr,ar=rr&67108863;rr>>>=26,fr.words[or]=ar,vr=rr}return vr!==0&&(fr.words[fr.length++]=vr),fr},ct._prime=function(fr){if(ir[fr])return ir[fr];var vr;if(fr==="k256")vr=new pr;else if(fr==="p224")vr=new yr;else if(fr==="p192")vr=new br;else if(fr==="p25519")vr=new xr;else throw new Error("Unknown prime "+fr);return ir[fr]=vr,vr};function Er(Sr){if(typeof Sr=="string"){var fr=ct._prime(Sr);this.m=fr.p,this.prime=fr}else tt(Sr.gtn(1),"modulus must be greater than 1"),this.m=Sr,this.prime=null}Er.prototype._verify1=function(fr){tt(fr.negative===0,"red works only with positives"),tt(fr.red,"red works only with red numbers")},Er.prototype._verify2=function(fr,vr){tt((fr.negative|vr.negative)===0,"red works only with positives"),tt(fr.red&&fr.red===vr.red,"red works only with red numbers")},Er.prototype.imod=function(fr){return this.prime?this.prime.ireduce(fr)._forceRed(this):fr.umod(this.m)._forceRed(this)},Er.prototype.neg=function(fr){return fr.isZero()?fr.clone():this.m.sub(fr)._forceRed(this)},Er.prototype.add=function(fr,vr){this._verify2(fr,vr);var or=fr.add(vr);return or.cmp(this.m)>=0&&or.isub(this.m),or._forceRed(this)},Er.prototype.iadd=function(fr,vr){this._verify2(fr,vr);var or=fr.iadd(vr);return or.cmp(this.m)>=0&&or.isub(this.m),or},Er.prototype.sub=function(fr,vr){this._verify2(fr,vr);var or=fr.sub(vr);return or.cmpn(0)<0&&or.iadd(this.m),or._forceRed(this)},Er.prototype.isub=function(fr,vr){this._verify2(fr,vr);var or=fr.isub(vr);return or.cmpn(0)<0&&or.iadd(this.m),or},Er.prototype.shl=function(fr,vr){return this._verify1(fr),this.imod(fr.ushln(vr))},Er.prototype.imul=function(fr,vr){return this._verify2(fr,vr),this.imod(fr.imul(vr))},Er.prototype.mul=function(fr,vr){return this._verify2(fr,vr),this.imod(fr.mul(vr))},Er.prototype.isqr=function(fr){return this.imul(fr,fr.clone())},Er.prototype.sqr=function(fr){return this.mul(fr,fr)},Er.prototype.sqrt=function(fr){if(fr.isZero())return fr.clone();var vr=this.m.andln(3);if(tt(vr%2===1),vr===3){var or=this.m.add(new ct(1)).iushrn(2);return this.pow(fr,or)}for(var rr=this.m.subn(1),ar=0;!rr.isZero()&&rr.andln(1)===0;)ar++,rr.iushrn(1);tt(!rr.isZero());var sr=new ct(1).toRed(this),dr=sr.redNeg(),gr=this.m.subn(1).iushrn(1),ur=this.m.bitLength();for(ur=new ct(2*ur*ur).toRed(this);this.pow(ur,gr).cmp(dr)!==0;)ur.redIAdd(dr);for(var _r=this.pow(ur,rr),hr=this.pow(fr,rr.addn(1).iushrn(1)),cr=this.pow(fr,rr),wr=ar;cr.cmp(sr)!==0;){for(var Br=cr,Or=0;Br.cmp(sr)!==0;Or++)Br=Br.redSqr();tt(Or<wr);var Rr=this.pow(_r,new ct(1).iushln(wr-Or-1));hr=hr.redMul(Rr),_r=Rr.redSqr(),cr=cr.redMul(_r),wr=Or}return hr},Er.prototype.invm=function(fr){var vr=fr._invmp(this.m);return vr.negative!==0?(vr.negative=0,this.imod(vr).redNeg()):this.imod(vr)},Er.prototype.pow=function(fr,vr){if(vr.isZero())return new ct(1).toRed(this);if(vr.cmpn(1)===0)return fr.clone();var or=4,rr=new Array(1<<or);rr[0]=new ct(1).toRed(this),rr[1]=fr;for(var ar=2;ar<rr.length;ar++)rr[ar]=this.mul(rr[ar-1],fr);var sr=rr[0],dr=0,gr=0,ur=vr.bitLength()%26;for(ur===0&&(ur=26),ar=vr.length-1;ar>=0;ar--){for(var _r=vr.words[ar],hr=ur-1;hr>=0;hr--){var cr=_r>>hr&1;if(sr!==rr[0]&&(sr=this.sqr(sr)),cr===0&&dr===0){gr=0;continue}dr<<=1,dr|=cr,gr++,!(gr!==or&&(ar!==0||hr!==0))&&(sr=this.mul(sr,rr[dr]),gr=0,dr=0)}ur=26}return sr},Er.prototype.convertTo=function(fr){var vr=fr.umod(this.m);return vr===fr?vr.clone():vr},Er.prototype.convertFrom=function(fr){var vr=fr.clone();return vr.red=null,vr},ct.mont=function(fr){return new $r(fr)};function $r(Sr){Er.call(this,Sr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at($r,Er),$r.prototype.convertTo=function(fr){return this.imod(fr.ushln(this.shift))},$r.prototype.convertFrom=function(fr){var vr=this.imod(fr.mul(this.rinv));return vr.red=null,vr},$r.prototype.imul=function(fr,vr){if(fr.isZero()||vr.isZero())return fr.words[0]=0,fr.length=1,fr;var or=fr.imul(vr),rr=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=or.isub(rr).iushrn(this.shift),sr=ar;return ar.cmp(this.m)>=0?sr=ar.isub(this.m):ar.cmpn(0)<0&&(sr=ar.iadd(this.m)),sr._forceRed(this)},$r.prototype.mul=function(fr,vr){if(fr.isZero()||vr.isZero())return new ct(0)._forceRed(this);var or=fr.mul(vr),rr=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=or.isub(rr).iushrn(this.shift),sr=ar;return ar.cmp(this.m)>=0?sr=ar.isub(this.m):ar.cmpn(0)<0&&(sr=ar.iadd(this.m)),sr._forceRed(this)},$r.prototype.invm=function(fr){var vr=this.imod(fr._invmp(this.m).mul(this.r2));return vr._forceRed(this)}})(a,commonjsGlobal$1)}(bn$2)),bn$2.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var a;brorand.exports=function(at){return a||(a=new s(null)),a.generate(at)};function s(tt){this.rand=tt}if(brorand.exports.Rand=s,s.prototype.generate=function(at){return this._rand(at)},s.prototype._rand=function(at){if(this.rand.getBytes)return this.rand.getBytes(at);for(var ct=new Uint8Array(at),ut=0;ut<ct.length;ut++)ct[ut]=this.rand.getByte();return ct},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(at){var ct=new Uint8Array(at);return self.crypto.getRandomValues(ct),ct}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(at){var ct=new Uint8Array(at);return self.msCrypto.getRandomValues(ct),ct}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var et=requireCryptoBrowserify();if(typeof et.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(at){return et.randomBytes(at)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var a=requireBn(),s=requireBrorand();function et(tt){this.rand=tt||new s.Rand}return mr=et,et.create=function(at){return new et(at)},et.prototype._randbelow=function(at){var ct=at.bitLength(),ut=Math.ceil(ct/8);do var bt=new a(this.rand.generate(ut));while(bt.cmp(at)>=0);return bt},et.prototype._randrange=function(at,ct){var ut=ct.sub(at);return at.add(this._randbelow(ut))},et.prototype.test=function(at,ct,ut){var bt=at.bitLength(),wt=a.mont(at),Et=new a(1).toRed(wt);ct||(ct=Math.max(1,bt/48|0));for(var Ft=at.subn(1),jt=0;!Ft.testn(jt);jt++);for(var Lt=at.shrn(jt),Ut=Ft.toRed(wt),Vt=!0;ct>0;ct--){var Yt=this._randrange(new a(2),Ft);ut&&ut(Yt);var er=Yt.toRed(wt).redPow(Lt);if(!(er.cmp(Et)===0||er.cmp(Ut)===0)){for(var tr=1;tr<jt;tr++){if(er=er.redSqr(),er.cmp(Et)===0)return!1;if(er.cmp(Ut)===0)break}if(tr===jt)return!1}}return Vt},et.prototype.getDivisor=function(at,ct){var ut=at.bitLength(),bt=a.mont(at),wt=new a(1).toRed(bt);ct||(ct=Math.max(1,ut/48|0));for(var Et=at.subn(1),Ft=0;!Et.testn(Ft);Ft++);for(var jt=at.shrn(Ft),Lt=Et.toRed(bt);ct>0;ct--){var Ut=this._randrange(new a(2),Et),Vt=at.gcd(Ut);if(Vt.cmpn(1)!==0)return Vt;var Yt=Ut.toRed(bt).redPow(jt);if(!(Yt.cmp(wt)===0||Yt.cmp(Lt)===0)){for(var er=1;er<Ft;er++){if(Yt=Yt.redSqr(),Yt.cmp(wt)===0)return Yt.fromRed().subn(1).gcd(at);if(Yt.cmp(Lt)===0)break}if(er===Ft)return Yt=Yt.redSqr(),Yt.fromRed().subn(1).gcd(at)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var a=requireBrowser$b();generatePrime=er,er.simpleSieve=Vt,er.fermatTest=Yt;var s=requireBn(),et=new s(24),tt=requireMr(),at=new tt,ct=new s(1),ut=new s(2),bt=new s(5);new s(16),new s(8);var wt=new s(10),Et=new s(3);new s(7);var Ft=new s(11),jt=new s(4);new s(12);var Lt=null;function Ut(){if(Lt!==null)return Lt;var tr=1048576,nr=[];nr[0]=2;for(var ir=1,lr=3;lr<tr;lr+=2){for(var pr=Math.ceil(Math.sqrt(lr)),yr=0;yr<ir&&nr[yr]<=pr&&lr%nr[yr]!==0;yr++);ir!==yr&&nr[yr]<=pr||(nr[ir++]=lr)}return Lt=nr,nr}function Vt(tr){for(var nr=Ut(),ir=0;ir<nr.length;ir++)if(tr.modn(nr[ir])===0)return tr.cmpn(nr[ir])===0;return!0}function Yt(tr){var nr=s.mont(tr);return ut.toRed(nr).redPow(tr.subn(1)).fromRed().cmpn(1)===0}function er(tr,nr){if(tr<16)return nr===2||nr===5?new s([140,123]):new s([140,39]);nr=new s(nr);for(var ir,lr;;){for(ir=new s(a(Math.ceil(tr/8)));ir.bitLength()>tr;)ir.ishrn(1);if(ir.isEven()&&ir.iadd(ct),ir.testn(1)||ir.iadd(ut),nr.cmp(ut)){if(!nr.cmp(bt))for(;ir.mod(wt).cmp(Et);)ir.iadd(jt)}else for(;ir.mod(et).cmp(Ft);)ir.iadd(jt);if(lr=ir.shrn(1),Vt(lr)&&Vt(ir)&&Yt(lr)&&Yt(ir)&&at.test(lr)&&at.test(ir))return ir}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var a=requireBn(),s=requireMr(),et=new s,tt=new a(24),at=new a(11),ct=new a(10),ut=new a(3),bt=new a(7),wt=requireGeneratePrime(),Et=requireBrowser$b();dh=Vt;function Ft(er,tr){return tr=tr||"utf8",Buffer$1.isBuffer(er)||(er=new Buffer$1(er,tr)),this._pub=new a(er),this}function jt(er,tr){return tr=tr||"utf8",Buffer$1.isBuffer(er)||(er=new Buffer$1(er,tr)),this._priv=new a(er),this}var Lt={};function Ut(er,tr){var nr=tr.toString("hex"),ir=[nr,er.toString(16)].join("_");if(ir in Lt)return Lt[ir];var lr=0;if(er.isEven()||!wt.simpleSieve||!wt.fermatTest(er)||!et.test(er))return lr+=1,nr==="02"||nr==="05"?lr+=8:lr+=4,Lt[ir]=lr,lr;et.test(er.shrn(1))||(lr+=2);var pr;switch(nr){case"02":er.mod(tt).cmp(at)&&(lr+=8);break;case"05":pr=er.mod(ct),pr.cmp(ut)&&pr.cmp(bt)&&(lr+=8);break;default:lr+=4}return Lt[ir]=lr,lr}function Vt(er,tr,nr){this.setGenerator(tr),this.__prime=new a(er),this._prime=a.mont(this.__prime),this._primeLen=er.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,nr?(this.setPublicKey=Ft,this.setPrivateKey=jt):this._primeCode=8}Object.defineProperty(Vt.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Ut(this.__prime,this.__gen)),this._primeCode}}),Vt.prototype.generateKeys=function(){return this._priv||(this._priv=new a(Et(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Vt.prototype.computeSecret=function(er){er=new a(er),er=er.toRed(this._prime);var tr=er.redPow(this._priv).fromRed(),nr=new Buffer$1(tr.toArray()),ir=this.getPrime();if(nr.length<ir.length){var lr=new Buffer$1(ir.length-nr.length);lr.fill(0),nr=Buffer$1.concat([lr,nr])}return nr},Vt.prototype.getPublicKey=function(tr){return Yt(this._pub,tr)},Vt.prototype.getPrivateKey=function(tr){return Yt(this._priv,tr)},Vt.prototype.getPrime=function(er){return Yt(this.__prime,er)},Vt.prototype.getGenerator=function(er){return Yt(this._gen,er)},Vt.prototype.setGenerator=function(er,tr){return tr=tr||"utf8",Buffer$1.isBuffer(er)||(er=new Buffer$1(er,tr)),this.__gen=er,this._gen=new a(er),this};function Yt(er,tr){var nr=new Buffer$1(er.toArray());return tr?nr.toString(tr):nr}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$6;hasRequiredBrowser$4=1;var a=requireGeneratePrime(),s=require$$1$1,et=requireDh();function tt(ut){var bt=new Buffer$1(s[ut].prime,"hex"),wt=new Buffer$1(s[ut].gen,"hex");return new et(bt,wt)}var at={binary:!0,hex:!0,base64:!0};function ct(ut,bt,wt,Et){return Buffer$1.isBuffer(bt)||at[bt]===void 0?ct(ut,"binary",bt,wt):(bt=bt||"binary",Et=Et||"binary",wt=wt||new Buffer$1([2]),Buffer$1.isBuffer(wt)||(wt=new Buffer$1(wt,Et)),typeof ut=="number"?new et(a(ut,wt),wt,!0):(Buffer$1.isBuffer(ut)||(ut=new Buffer$1(ut,bt)),new et(ut,wt,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=tt,browser$6.createDiffieHellman=browser$6.DiffieHellman=ct,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:a}:processNextickArgs.exports=process$1;function a(s,et,tt,at){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var ct=arguments.length,ut,bt;switch(ct){case 0:case 1:return process$1.nextTick(s);case 2:return process$1.nextTick(function(){s.call(null,et)});case 3:return process$1.nextTick(function(){s.call(null,et,tt)});case 4:return process$1.nextTick(function(){s.call(null,et,tt,at)});default:for(ut=new Array(ct-1),bt=0;bt<ut.length;)ut[bt++]=arguments[bt];return process$1.nextTick(function(){s.apply(null,ut)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var a={}.toString;return isarray=Array.isArray||function(s){return a.call(s)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(a,s){var et=require$$1$3,tt=et.Buffer;function at(ut,bt){for(var wt in ut)bt[wt]=ut[wt]}tt.from&&tt.alloc&&tt.allocUnsafe&&tt.allocUnsafeSlow?a.exports=et:(at(et,s),s.Buffer=ct);function ct(ut,bt,wt){return tt(ut,bt,wt)}at(tt,ct),ct.from=function(ut,bt,wt){if(typeof ut=="number")throw new TypeError("Argument must not be a number");return tt(ut,bt,wt)},ct.alloc=function(ut,bt,wt){if(typeof ut!="number")throw new TypeError("Argument must be a number");var Et=tt(ut);return bt!==void 0?typeof wt=="string"?Et.fill(bt,wt):Et.fill(bt):Et.fill(0),Et},ct.allocUnsafe=function(ut){if(typeof ut!="number")throw new TypeError("Argument must be a number");return tt(ut)},ct.allocUnsafeSlow=function(ut){if(typeof ut!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(ut)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$3={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$3;hasRequiredUtil=1;function a(Yt){return Array.isArray?Array.isArray(Yt):Vt(Yt)==="[object Array]"}util$3.isArray=a;function s(Yt){return typeof Yt=="boolean"}util$3.isBoolean=s;function et(Yt){return Yt===null}util$3.isNull=et;function tt(Yt){return Yt==null}util$3.isNullOrUndefined=tt;function at(Yt){return typeof Yt=="number"}util$3.isNumber=at;function ct(Yt){return typeof Yt=="string"}util$3.isString=ct;function ut(Yt){return typeof Yt=="symbol"}util$3.isSymbol=ut;function bt(Yt){return Yt===void 0}util$3.isUndefined=bt;function wt(Yt){return Vt(Yt)==="[object RegExp]"}util$3.isRegExp=wt;function Et(Yt){return typeof Yt=="object"&&Yt!==null}util$3.isObject=Et;function Ft(Yt){return Vt(Yt)==="[object Date]"}util$3.isDate=Ft;function jt(Yt){return Vt(Yt)==="[object Error]"||Yt instanceof Error}util$3.isError=jt;function Lt(Yt){return typeof Yt=="function"}util$3.isFunction=Lt;function Ut(Yt){return Yt===null||typeof Yt=="boolean"||typeof Yt=="number"||typeof Yt=="string"||typeof Yt=="symbol"||typeof Yt>"u"}util$3.isPrimitive=Ut,util$3.isBuffer=require$$1$3.Buffer.isBuffer;function Vt(Yt){return Object.prototype.toString.call(Yt)}return util$3}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(a){function s(ct,ut){if(!(ct instanceof ut))throw new TypeError("Cannot call a class as a function")}var et=requireSafeBuffer().Buffer,tt=requireUtil$1();function at(ct,ut,bt){ct.copy(ut,bt)}a.exports=function(){function ct(){s(this,ct),this.head=null,this.tail=null,this.length=0}return ct.prototype.push=function(bt){var wt={data:bt,next:null};this.length>0?this.tail.next=wt:this.head=wt,this.tail=wt,++this.length},ct.prototype.unshift=function(bt){var wt={data:bt,next:this.head};this.length===0&&(this.tail=wt),this.head=wt,++this.length},ct.prototype.shift=function(){if(this.length!==0){var bt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,bt}},ct.prototype.clear=function(){this.head=this.tail=null,this.length=0},ct.prototype.join=function(bt){if(this.length===0)return"";for(var wt=this.head,Et=""+wt.data;wt=wt.next;)Et+=bt+wt.data;return Et},ct.prototype.concat=function(bt){if(this.length===0)return et.alloc(0);for(var wt=et.allocUnsafe(bt>>>0),Et=this.head,Ft=0;Et;)at(Et.data,wt,Ft),Ft+=Et.data.length,Et=Et.next;return wt},ct}(),tt&&tt.inspect&&tt.inspect.custom&&(a.exports.prototype[tt.inspect.custom]=function(){var ct=tt.inspect({length:this.length});return this.constructor.name+" "+ct})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var a=requireProcessNextickArgs();function s(at,ct){var ut=this,bt=this._readableState&&this._readableState.destroyed,wt=this._writableState&&this._writableState.destroyed;return bt||wt?(ct?ct(at):at&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(tt,this,at)):a.nextTick(tt,this,at)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(at||null,function(Et){!ct&&Et?ut._writableState?ut._writableState.errorEmitted||(ut._writableState.errorEmitted=!0,a.nextTick(tt,ut,Et)):a.nextTick(tt,ut,Et):ct&&ct(Et)}),this)}function et(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function tt(at,ct){at.emit("error",ct)}return destroy_1={destroy:s,undestroy:et},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var a=requireProcessNextickArgs();_stream_writable=Yt;function s(sr){var dr=this;this.next=null,this.entry=null,this.finish=function(){ar(dr,sr)}}var et=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:a.nextTick,tt;Yt.WritableState=Ut;var at=Object.create(requireUtil());at.inherits=requireInherits_browser();var ct={deprecate:requireBrowser$a()},ut=requireStreamBrowser(),bt=requireSafeBuffer().Buffer,wt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Et(sr){return bt.from(sr)}function Ft(sr){return bt.isBuffer(sr)||sr instanceof wt}var jt=requireDestroy();at.inherits(Yt,ut);function Lt(){}function Ut(sr,dr){tt=tt||require_stream_duplex(),sr=sr||{};var gr=dr instanceof tt;this.objectMode=!!sr.objectMode,gr&&(this.objectMode=this.objectMode||!!sr.writableObjectMode);var ur=sr.highWaterMark,_r=sr.writableHighWaterMark,hr=this.objectMode?16:16*1024;ur||ur===0?this.highWaterMark=ur:gr&&(_r||_r===0)?this.highWaterMark=_r:this.highWaterMark=hr,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var cr=sr.decodeStrings===!1;this.decodeStrings=!cr,this.defaultEncoding=sr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(wr){br(dr,wr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}Ut.prototype.getBuffer=function(){for(var dr=this.bufferedRequest,gr=[];dr;)gr.push(dr),dr=dr.next;return gr},function(){try{Object.defineProperty(Ut.prototype,"buffer",{get:ct.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Vt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Vt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Yt,Symbol.hasInstance,{value:function(sr){return Vt.call(this,sr)?!0:this!==Yt?!1:sr&&sr._writableState instanceof Ut}})):Vt=function(sr){return sr instanceof this};function Yt(sr){if(tt=tt||require_stream_duplex(),!Vt.call(Yt,this)&&!(this instanceof tt))return new Yt(sr);this._writableState=new Ut(sr,this),this.writable=!0,sr&&(typeof sr.write=="function"&&(this._write=sr.write),typeof sr.writev=="function"&&(this._writev=sr.writev),typeof sr.destroy=="function"&&(this._destroy=sr.destroy),typeof sr.final=="function"&&(this._final=sr.final)),ut.call(this)}Yt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function er(sr,dr){var gr=new Error("write after end");sr.emit("error",gr),a.nextTick(dr,gr)}function tr(sr,dr,gr,ur){var _r=!0,hr=!1;return gr===null?hr=new TypeError("May not write null values to stream"):typeof gr!="string"&&gr!==void 0&&!dr.objectMode&&(hr=new TypeError("Invalid non-string/buffer chunk")),hr&&(sr.emit("error",hr),a.nextTick(ur,hr),_r=!1),_r}Yt.prototype.write=function(sr,dr,gr){var ur=this._writableState,_r=!1,hr=!ur.objectMode&&Ft(sr);return hr&&!bt.isBuffer(sr)&&(sr=Et(sr)),typeof dr=="function"&&(gr=dr,dr=null),hr?dr="buffer":dr||(dr=ur.defaultEncoding),typeof gr!="function"&&(gr=Lt),ur.ended?er(this,gr):(hr||tr(this,ur,sr,gr))&&(ur.pendingcb++,_r=ir(this,ur,hr,sr,dr,gr)),_r},Yt.prototype.cork=function(){var sr=this._writableState;sr.corked++},Yt.prototype.uncork=function(){var sr=this._writableState;sr.corked&&(sr.corked--,!sr.writing&&!sr.corked&&!sr.bufferProcessing&&sr.bufferedRequest&&$r(this,sr))},Yt.prototype.setDefaultEncoding=function(dr){if(typeof dr=="string"&&(dr=dr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((dr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+dr);return this._writableState.defaultEncoding=dr,this};function nr(sr,dr,gr){return!sr.objectMode&&sr.decodeStrings!==!1&&typeof dr=="string"&&(dr=bt.from(dr,gr)),dr}Object.defineProperty(Yt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ir(sr,dr,gr,ur,_r,hr){if(!gr){var cr=nr(dr,ur,_r);ur!==cr&&(gr=!0,_r="buffer",ur=cr)}var wr=dr.objectMode?1:ur.length;dr.length+=wr;var Br=dr.length<dr.highWaterMark;if(Br||(dr.needDrain=!0),dr.writing||dr.corked){var Or=dr.lastBufferedRequest;dr.lastBufferedRequest={chunk:ur,encoding:_r,isBuf:gr,callback:hr,next:null},Or?Or.next=dr.lastBufferedRequest:dr.bufferedRequest=dr.lastBufferedRequest,dr.bufferedRequestCount+=1}else lr(sr,dr,!1,wr,ur,_r,hr);return Br}function lr(sr,dr,gr,ur,_r,hr,cr){dr.writelen=ur,dr.writecb=cr,dr.writing=!0,dr.sync=!0,gr?sr._writev(_r,dr.onwrite):sr._write(_r,hr,dr.onwrite),dr.sync=!1}function pr(sr,dr,gr,ur,_r){--dr.pendingcb,gr?(a.nextTick(_r,ur),a.nextTick(or,sr,dr),sr._writableState.errorEmitted=!0,sr.emit("error",ur)):(_r(ur),sr._writableState.errorEmitted=!0,sr.emit("error",ur),or(sr,dr))}function yr(sr){sr.writing=!1,sr.writecb=null,sr.length-=sr.writelen,sr.writelen=0}function br(sr,dr){var gr=sr._writableState,ur=gr.sync,_r=gr.writecb;if(yr(gr),dr)pr(sr,gr,ur,dr,_r);else{var hr=Sr(gr);!hr&&!gr.corked&&!gr.bufferProcessing&&gr.bufferedRequest&&$r(sr,gr),ur?et(xr,sr,gr,hr,_r):xr(sr,gr,hr,_r)}}function xr(sr,dr,gr,ur){gr||Er(sr,dr),dr.pendingcb--,ur(),or(sr,dr)}function Er(sr,dr){dr.length===0&&dr.needDrain&&(dr.needDrain=!1,sr.emit("drain"))}function $r(sr,dr){dr.bufferProcessing=!0;var gr=dr.bufferedRequest;if(sr._writev&&gr&&gr.next){var ur=dr.bufferedRequestCount,_r=new Array(ur),hr=dr.corkedRequestsFree;hr.entry=gr;for(var cr=0,wr=!0;gr;)_r[cr]=gr,gr.isBuf||(wr=!1),gr=gr.next,cr+=1;_r.allBuffers=wr,lr(sr,dr,!0,dr.length,_r,"",hr.finish),dr.pendingcb++,dr.lastBufferedRequest=null,hr.next?(dr.corkedRequestsFree=hr.next,hr.next=null):dr.corkedRequestsFree=new s(dr),dr.bufferedRequestCount=0}else{for(;gr;){var Br=gr.chunk,Or=gr.encoding,Rr=gr.callback,Pr=dr.objectMode?1:Br.length;if(lr(sr,dr,!1,Pr,Br,Or,Rr),gr=gr.next,dr.bufferedRequestCount--,dr.writing)break}gr===null&&(dr.lastBufferedRequest=null)}dr.bufferedRequest=gr,dr.bufferProcessing=!1}Yt.prototype._write=function(sr,dr,gr){gr(new Error("_write() is not implemented"))},Yt.prototype._writev=null,Yt.prototype.end=function(sr,dr,gr){var ur=this._writableState;typeof sr=="function"?(gr=sr,sr=null,dr=null):typeof dr=="function"&&(gr=dr,dr=null),sr!=null&&this.write(sr,dr),ur.corked&&(ur.corked=1,this.uncork()),ur.ending||rr(this,ur,gr)};function Sr(sr){return sr.ending&&sr.length===0&&sr.bufferedRequest===null&&!sr.finished&&!sr.writing}function fr(sr,dr){sr._final(function(gr){dr.pendingcb--,gr&&sr.emit("error",gr),dr.prefinished=!0,sr.emit("prefinish"),or(sr,dr)})}function vr(sr,dr){!dr.prefinished&&!dr.finalCalled&&(typeof sr._final=="function"?(dr.pendingcb++,dr.finalCalled=!0,a.nextTick(fr,sr,dr)):(dr.prefinished=!0,sr.emit("prefinish")))}function or(sr,dr){var gr=Sr(dr);return gr&&(vr(sr,dr),dr.pendingcb===0&&(dr.finished=!0,sr.emit("finish"))),gr}function rr(sr,dr,gr){dr.ending=!0,or(sr,dr),gr&&(dr.finished?a.nextTick(gr):sr.once("finish",gr)),dr.ended=!0,sr.writable=!1}function ar(sr,dr,gr){var ur=sr.entry;for(sr.entry=null;ur;){var _r=ur.callback;dr.pendingcb--,_r(gr),ur=ur.next}dr.corkedRequestsFree.next=sr}return Object.defineProperty(Yt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(sr){this._writableState&&(this._writableState.destroyed=sr)}}),Yt.prototype.destroy=jt.destroy,Yt.prototype._undestroy=jt.undestroy,Yt.prototype._destroy=function(sr,dr){this.end(),dr(sr)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var a=requireProcessNextickArgs(),s=Object.keys||function(jt){var Lt=[];for(var Ut in jt)Lt.push(Ut);return Lt};_stream_duplex=wt;var et=Object.create(requireUtil());et.inherits=requireInherits_browser();var tt=require_stream_readable(),at=require_stream_writable();et.inherits(wt,tt);for(var ct=s(at.prototype),ut=0;ut<ct.length;ut++){var bt=ct[ut];wt.prototype[bt]||(wt.prototype[bt]=at.prototype[bt])}function wt(jt){if(!(this instanceof wt))return new wt(jt);tt.call(this,jt),at.call(this,jt),jt&&jt.readable===!1&&(this.readable=!1),jt&&jt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,jt&&jt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Et)}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Et(){this.allowHalfOpen||this._writableState.ended||a.nextTick(Ft,this)}function Ft(jt){jt.end()}return Object.defineProperty(wt.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(jt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=jt,this._writableState.destroyed=jt)}}),wt.prototype._destroy=function(jt,Lt){this.push(null),this.end(),a.nextTick(Lt,jt)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var a=requireProcessNextickArgs();_stream_readable=nr;var s=requireIsarray(),et;nr.ReadableState=tr,requireEvents().EventEmitter;var tt=function(Rr,Pr){return Rr.listeners(Pr).length},at=requireStreamBrowser(),ct=requireSafeBuffer().Buffer,ut=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function bt(Rr){return ct.from(Rr)}function wt(Rr){return ct.isBuffer(Rr)||Rr instanceof ut}var Et=Object.create(requireUtil());Et.inherits=requireInherits_browser();var Ft=requireUtil$1(),jt=void 0;Ft&&Ft.debuglog?jt=Ft.debuglog("stream"):jt=function(){};var Lt=requireBufferList(),Ut=requireDestroy(),Vt;Et.inherits(nr,at);var Yt=["error","close","destroy","pause","resume"];function er(Rr,Pr,Ur){if(typeof Rr.prependListener=="function")return Rr.prependListener(Pr,Ur);!Rr._events||!Rr._events[Pr]?Rr.on(Pr,Ur):s(Rr._events[Pr])?Rr._events[Pr].unshift(Ur):Rr._events[Pr]=[Ur,Rr._events[Pr]]}function tr(Rr,Pr){et=et||require_stream_duplex(),Rr=Rr||{};var Ur=Pr instanceof et;this.objectMode=!!Rr.objectMode,Ur&&(this.objectMode=this.objectMode||!!Rr.readableObjectMode);var kr=Rr.highWaterMark,Ar=Rr.readableHighWaterMark,Cr=this.objectMode?16:16*1024;kr||kr===0?this.highWaterMark=kr:Ur&&(Ar||Ar===0)?this.highWaterMark=Ar:this.highWaterMark=Cr,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Lt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Rr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Rr.encoding&&(Vt||(Vt=requireString_decoder().StringDecoder),this.decoder=new Vt(Rr.encoding),this.encoding=Rr.encoding)}function nr(Rr){if(et=et||require_stream_duplex(),!(this instanceof nr))return new nr(Rr);this._readableState=new tr(Rr,this),this.readable=!0,Rr&&(typeof Rr.read=="function"&&(this._read=Rr.read),typeof Rr.destroy=="function"&&(this._destroy=Rr.destroy)),at.call(this)}Object.defineProperty(nr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Rr){this._readableState&&(this._readableState.destroyed=Rr)}}),nr.prototype.destroy=Ut.destroy,nr.prototype._undestroy=Ut.undestroy,nr.prototype._destroy=function(Rr,Pr){this.push(null),Pr(Rr)},nr.prototype.push=function(Rr,Pr){var Ur=this._readableState,kr;return Ur.objectMode?kr=!0:typeof Rr=="string"&&(Pr=Pr||Ur.defaultEncoding,Pr!==Ur.encoding&&(Rr=ct.from(Rr,Pr),Pr=""),kr=!0),ir(this,Rr,Pr,!1,kr)},nr.prototype.unshift=function(Rr){return ir(this,Rr,null,!0,!1)};function ir(Rr,Pr,Ur,kr,Ar){var Cr=Rr._readableState;if(Pr===null)Cr.reading=!1,$r(Rr,Cr);else{var Fr;Ar||(Fr=pr(Cr,Pr)),Fr?Rr.emit("error",Fr):Cr.objectMode||Pr&&Pr.length>0?(typeof Pr!="string"&&!Cr.objectMode&&Object.getPrototypeOf(Pr)!==ct.prototype&&(Pr=bt(Pr)),kr?Cr.endEmitted?Rr.emit("error",new Error("stream.unshift() after end event")):lr(Rr,Cr,Pr,!0):Cr.ended?Rr.emit("error",new Error("stream.push() after EOF")):(Cr.reading=!1,Cr.decoder&&!Ur?(Pr=Cr.decoder.write(Pr),Cr.objectMode||Pr.length!==0?lr(Rr,Cr,Pr,!1):vr(Rr,Cr)):lr(Rr,Cr,Pr,!1))):kr||(Cr.reading=!1)}return yr(Cr)}function lr(Rr,Pr,Ur,kr){Pr.flowing&&Pr.length===0&&!Pr.sync?(Rr.emit("data",Ur),Rr.read(0)):(Pr.length+=Pr.objectMode?1:Ur.length,kr?Pr.buffer.unshift(Ur):Pr.buffer.push(Ur),Pr.needReadable&&Sr(Rr)),vr(Rr,Pr)}function pr(Rr,Pr){var Ur;return!wt(Pr)&&typeof Pr!="string"&&Pr!==void 0&&!Rr.objectMode&&(Ur=new TypeError("Invalid non-string/buffer chunk")),Ur}function yr(Rr){return!Rr.ended&&(Rr.needReadable||Rr.length<Rr.highWaterMark||Rr.length===0)}nr.prototype.isPaused=function(){return this._readableState.flowing===!1},nr.prototype.setEncoding=function(Rr){return Vt||(Vt=requireString_decoder().StringDecoder),this._readableState.decoder=new Vt(Rr),this._readableState.encoding=Rr,this};var br=8388608;function xr(Rr){return Rr>=br?Rr=br:(Rr--,Rr|=Rr>>>1,Rr|=Rr>>>2,Rr|=Rr>>>4,Rr|=Rr>>>8,Rr|=Rr>>>16,Rr++),Rr}function Er(Rr,Pr){return Rr<=0||Pr.length===0&&Pr.ended?0:Pr.objectMode?1:Rr!==Rr?Pr.flowing&&Pr.length?Pr.buffer.head.data.length:Pr.length:(Rr>Pr.highWaterMark&&(Pr.highWaterMark=xr(Rr)),Rr<=Pr.length?Rr:Pr.ended?Pr.length:(Pr.needReadable=!0,0))}nr.prototype.read=function(Rr){jt("read",Rr),Rr=parseInt(Rr,10);var Pr=this._readableState,Ur=Rr;if(Rr!==0&&(Pr.emittedReadable=!1),Rr===0&&Pr.needReadable&&(Pr.length>=Pr.highWaterMark||Pr.ended))return jt("read: emitReadable",Pr.length,Pr.ended),Pr.length===0&&Pr.ended?wr(this):Sr(this),null;if(Rr=Er(Rr,Pr),Rr===0&&Pr.ended)return Pr.length===0&&wr(this),null;var kr=Pr.needReadable;jt("need readable",kr),(Pr.length===0||Pr.length-Rr<Pr.highWaterMark)&&(kr=!0,jt("length less than watermark",kr)),Pr.ended||Pr.reading?(kr=!1,jt("reading or ended",kr)):kr&&(jt("do read"),Pr.reading=!0,Pr.sync=!0,Pr.length===0&&(Pr.needReadable=!0),this._read(Pr.highWaterMark),Pr.sync=!1,Pr.reading||(Rr=Er(Ur,Pr)));var Ar;return Rr>0?Ar=ur(Rr,Pr):Ar=null,Ar===null?(Pr.needReadable=!0,Rr=0):Pr.length-=Rr,Pr.length===0&&(Pr.ended||(Pr.needReadable=!0),Ur!==Rr&&Pr.ended&&wr(this)),Ar!==null&&this.emit("data",Ar),Ar};function $r(Rr,Pr){if(!Pr.ended){if(Pr.decoder){var Ur=Pr.decoder.end();Ur&&Ur.length&&(Pr.buffer.push(Ur),Pr.length+=Pr.objectMode?1:Ur.length)}Pr.ended=!0,Sr(Rr)}}function Sr(Rr){var Pr=Rr._readableState;Pr.needReadable=!1,Pr.emittedReadable||(jt("emitReadable",Pr.flowing),Pr.emittedReadable=!0,Pr.sync?a.nextTick(fr,Rr):fr(Rr))}function fr(Rr){jt("emit readable"),Rr.emit("readable"),gr(Rr)}function vr(Rr,Pr){Pr.readingMore||(Pr.readingMore=!0,a.nextTick(or,Rr,Pr))}function or(Rr,Pr){for(var Ur=Pr.length;!Pr.reading&&!Pr.flowing&&!Pr.ended&&Pr.length<Pr.highWaterMark&&(jt("maybeReadMore read 0"),Rr.read(0),Ur!==Pr.length);)Ur=Pr.length;Pr.readingMore=!1}nr.prototype._read=function(Rr){this.emit("error",new Error("_read() is not implemented"))},nr.prototype.pipe=function(Rr,Pr){var Ur=this,kr=this._readableState;switch(kr.pipesCount){case 0:kr.pipes=Rr;break;case 1:kr.pipes=[kr.pipes,Rr];break;default:kr.pipes.push(Rr);break}kr.pipesCount+=1,jt("pipe count=%d opts=%j",kr.pipesCount,Pr);var Ar=(!Pr||Pr.end!==!1)&&Rr!==process$1.stdout&&Rr!==process$1.stderr,Cr=Ar?Lr:Un;kr.endEmitted?a.nextTick(Cr):Ur.once("end",Cr),Rr.on("unpipe",Fr);function Fr(Vn,Kn){jt("onunpipe"),Vn===Ur&&Kn&&Kn.hasUnpiped===!1&&(Kn.hasUnpiped=!0,Nr())}function Lr(){jt("onend"),Rr.end()}var Hr=rr(Ur);Rr.on("drain",Hr);var Gr=!1;function Nr(){jt("cleanup"),Rr.removeListener("close",Kr),Rr.removeListener("finish",an),Rr.removeListener("drain",Hr),Rr.removeListener("error",Wr),Rr.removeListener("unpipe",Fr),Ur.removeListener("end",Lr),Ur.removeListener("end",Un),Ur.removeListener("data",jr),Gr=!0,kr.awaitDrain&&(!Rr._writableState||Rr._writableState.needDrain)&&Hr()}var Vr=!1;Ur.on("data",jr);function jr(Vn){jt("ondata"),Vr=!1;var Kn=Rr.write(Vn);Kn===!1&&!Vr&&((kr.pipesCount===1&&kr.pipes===Rr||kr.pipesCount>1&&Or(kr.pipes,Rr)!==-1)&&!Gr&&(jt("false write response, pause",kr.awaitDrain),kr.awaitDrain++,Vr=!0),Ur.pause())}function Wr(Vn){jt("onerror",Vn),Un(),Rr.removeListener("error",Wr),tt(Rr,"error")===0&&Rr.emit("error",Vn)}er(Rr,"error",Wr);function Kr(){Rr.removeListener("finish",an),Un()}Rr.once("close",Kr);function an(){jt("onfinish"),Rr.removeListener("close",Kr),Un()}Rr.once("finish",an);function Un(){jt("unpipe"),Ur.unpipe(Rr)}return Rr.emit("pipe",Ur),kr.flowing||(jt("pipe resume"),Ur.resume()),Rr};function rr(Rr){return function(){var Pr=Rr._readableState;jt("pipeOnDrain",Pr.awaitDrain),Pr.awaitDrain&&Pr.awaitDrain--,Pr.awaitDrain===0&&tt(Rr,"data")&&(Pr.flowing=!0,gr(Rr))}}nr.prototype.unpipe=function(Rr){var Pr=this._readableState,Ur={hasUnpiped:!1};if(Pr.pipesCount===0)return this;if(Pr.pipesCount===1)return Rr&&Rr!==Pr.pipes?this:(Rr||(Rr=Pr.pipes),Pr.pipes=null,Pr.pipesCount=0,Pr.flowing=!1,Rr&&Rr.emit("unpipe",this,Ur),this);if(!Rr){var kr=Pr.pipes,Ar=Pr.pipesCount;Pr.pipes=null,Pr.pipesCount=0,Pr.flowing=!1;for(var Cr=0;Cr<Ar;Cr++)kr[Cr].emit("unpipe",this,{hasUnpiped:!1});return this}var Fr=Or(Pr.pipes,Rr);return Fr===-1?this:(Pr.pipes.splice(Fr,1),Pr.pipesCount-=1,Pr.pipesCount===1&&(Pr.pipes=Pr.pipes[0]),Rr.emit("unpipe",this,Ur),this)},nr.prototype.on=function(Rr,Pr){var Ur=at.prototype.on.call(this,Rr,Pr);if(Rr==="data")this._readableState.flowing!==!1&&this.resume();else if(Rr==="readable"){var kr=this._readableState;!kr.endEmitted&&!kr.readableListening&&(kr.readableListening=kr.needReadable=!0,kr.emittedReadable=!1,kr.reading?kr.length&&Sr(this):a.nextTick(ar,this))}return Ur},nr.prototype.addListener=nr.prototype.on;function ar(Rr){jt("readable nexttick read 0"),Rr.read(0)}nr.prototype.resume=function(){var Rr=this._readableState;return Rr.flowing||(jt("resume"),Rr.flowing=!0,sr(this,Rr)),this};function sr(Rr,Pr){Pr.resumeScheduled||(Pr.resumeScheduled=!0,a.nextTick(dr,Rr,Pr))}function dr(Rr,Pr){Pr.reading||(jt("resume read 0"),Rr.read(0)),Pr.resumeScheduled=!1,Pr.awaitDrain=0,Rr.emit("resume"),gr(Rr),Pr.flowing&&!Pr.reading&&Rr.read(0)}nr.prototype.pause=function(){return jt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(jt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function gr(Rr){var Pr=Rr._readableState;for(jt("flow",Pr.flowing);Pr.flowing&&Rr.read()!==null;);}nr.prototype.wrap=function(Rr){var Pr=this,Ur=this._readableState,kr=!1;Rr.on("end",function(){if(jt("wrapped end"),Ur.decoder&&!Ur.ended){var Fr=Ur.decoder.end();Fr&&Fr.length&&Pr.push(Fr)}Pr.push(null)}),Rr.on("data",function(Fr){if(jt("wrapped data"),Ur.decoder&&(Fr=Ur.decoder.write(Fr)),!(Ur.objectMode&&Fr==null)&&!(!Ur.objectMode&&(!Fr||!Fr.length))){var Lr=Pr.push(Fr);Lr||(kr=!0,Rr.pause())}});for(var Ar in Rr)this[Ar]===void 0&&typeof Rr[Ar]=="function"&&(this[Ar]=function(Fr){return function(){return Rr[Fr].apply(Rr,arguments)}}(Ar));for(var Cr=0;Cr<Yt.length;Cr++)Rr.on(Yt[Cr],this.emit.bind(this,Yt[Cr]));return this._read=function(Fr){jt("wrapped _read",Fr),kr&&(kr=!1,Rr.resume())},this},Object.defineProperty(nr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),nr._fromList=ur;function ur(Rr,Pr){if(Pr.length===0)return null;var Ur;return Pr.objectMode?Ur=Pr.buffer.shift():!Rr||Rr>=Pr.length?(Pr.decoder?Ur=Pr.buffer.join(""):Pr.buffer.length===1?Ur=Pr.buffer.head.data:Ur=Pr.buffer.concat(Pr.length),Pr.buffer.clear()):Ur=_r(Rr,Pr.buffer,Pr.decoder),Ur}function _r(Rr,Pr,Ur){var kr;return Rr<Pr.head.data.length?(kr=Pr.head.data.slice(0,Rr),Pr.head.data=Pr.head.data.slice(Rr)):Rr===Pr.head.data.length?kr=Pr.shift():kr=Ur?hr(Rr,Pr):cr(Rr,Pr),kr}function hr(Rr,Pr){var Ur=Pr.head,kr=1,Ar=Ur.data;for(Rr-=Ar.length;Ur=Ur.next;){var Cr=Ur.data,Fr=Rr>Cr.length?Cr.length:Rr;if(Fr===Cr.length?Ar+=Cr:Ar+=Cr.slice(0,Rr),Rr-=Fr,Rr===0){Fr===Cr.length?(++kr,Ur.next?Pr.head=Ur.next:Pr.head=Pr.tail=null):(Pr.head=Ur,Ur.data=Cr.slice(Fr));break}++kr}return Pr.length-=kr,Ar}function cr(Rr,Pr){var Ur=ct.allocUnsafe(Rr),kr=Pr.head,Ar=1;for(kr.data.copy(Ur),Rr-=kr.data.length;kr=kr.next;){var Cr=kr.data,Fr=Rr>Cr.length?Cr.length:Rr;if(Cr.copy(Ur,Ur.length-Rr,0,Fr),Rr-=Fr,Rr===0){Fr===Cr.length?(++Ar,kr.next?Pr.head=kr.next:Pr.head=Pr.tail=null):(Pr.head=kr,kr.data=Cr.slice(Fr));break}++Ar}return Pr.length-=Ar,Ur}function wr(Rr){var Pr=Rr._readableState;if(Pr.length>0)throw new Error('"endReadable()" called on non-empty stream');Pr.endEmitted||(Pr.ended=!0,a.nextTick(Br,Pr,Rr))}function Br(Rr,Pr){!Rr.endEmitted&&Rr.length===0&&(Rr.endEmitted=!0,Pr.readable=!1,Pr.emit("end"))}function Or(Rr,Pr){for(var Ur=0,kr=Rr.length;Ur<kr;Ur++)if(Rr[Ur]===Pr)return Ur;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=tt;var a=require_stream_duplex(),s=Object.create(requireUtil());s.inherits=requireInherits_browser(),s.inherits(tt,a);function et(ut,bt){var wt=this._transformState;wt.transforming=!1;var Et=wt.writecb;if(!Et)return this.emit("error",new Error("write callback called multiple times"));wt.writechunk=null,wt.writecb=null,bt!=null&&this.push(bt),Et(ut);var Ft=this._readableState;Ft.reading=!1,(Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}function tt(ut){if(!(this instanceof tt))return new tt(ut);a.call(this,ut),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ut&&(typeof ut.transform=="function"&&(this._transform=ut.transform),typeof ut.flush=="function"&&(this._flush=ut.flush)),this.on("prefinish",at)}function at(){var ut=this;typeof this._flush=="function"?this._flush(function(bt,wt){ct(ut,bt,wt)}):ct(this,null,null)}tt.prototype.push=function(ut,bt){return this._transformState.needTransform=!1,a.prototype.push.call(this,ut,bt)},tt.prototype._transform=function(ut,bt,wt){throw new Error("_transform() is not implemented")},tt.prototype._write=function(ut,bt,wt){var Et=this._transformState;if(Et.writecb=wt,Et.writechunk=ut,Et.writeencoding=bt,!Et.transforming){var Ft=this._readableState;(Et.needTransform||Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}},tt.prototype._read=function(ut){var bt=this._transformState;bt.writechunk!==null&&bt.writecb&&!bt.transforming?(bt.transforming=!0,this._transform(bt.writechunk,bt.writeencoding,bt.afterTransform)):bt.needTransform=!0},tt.prototype._destroy=function(ut,bt){var wt=this;a.prototype._destroy.call(this,ut,function(Et){bt(Et),wt.emit("close")})};function ct(ut,bt,wt){if(bt)return ut.emit("error",bt);if(wt!=null&&ut.push(wt),ut._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ut._transformState.transforming)throw new Error("Calling transform done when still transforming");return ut.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=et;var a=require_stream_transform(),s=Object.create(requireUtil());s.inherits=requireInherits_browser(),s.inherits(et,a);function et(tt){if(!(this instanceof et))return new et(tt);a.call(this,tt)}return et.prototype._transform=function(tt,at,ct){ct(null,tt)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(a,s){s=a.exports=require_stream_readable(),s.Stream=s,s.Readable=s,s.Writable=require_stream_writable(),s.Duplex=require_stream_duplex(),s.Transform=require_stream_transform(),s.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var a=bnExports,s=requireBrowser$b(),et=requireSafeBuffer$1().Buffer;function tt(ut){var bt=ut.modulus.byteLength(),wt;do wt=new a(s(bt));while(wt.cmp(ut.modulus)>=0||!wt.umod(ut.prime1)||!wt.umod(ut.prime2));return wt}function at(ut){var bt=tt(ut),wt=bt.toRed(a.mont(ut.modulus)).redPow(new a(ut.publicExponent)).fromRed();return{blinder:wt,unblinder:bt.invm(ut.modulus)}}function ct(ut,bt){var wt=at(bt),Et=bt.modulus.byteLength(),Ft=new a(ut).mul(wt.blinder).umod(bt.modulus),jt=Ft.toRed(a.mont(bt.prime1)),Lt=Ft.toRed(a.mont(bt.prime2)),Ut=bt.coefficient,Vt=bt.prime1,Yt=bt.prime2,er=jt.redPow(bt.exponent1).fromRed(),tr=Lt.redPow(bt.exponent2).fromRed(),nr=er.isub(tr).imul(Ut).umod(Vt).imul(Yt);return tr.iadd(nr).imul(wt.unblinder).umod(bt.modulus).toArrayLike(et,"be",Et)}return ct.getr=tt,browserifyRsa=ct,browserifyRsa}var elliptic={};const version$1="6.6.1",require$$0={version:version$1};var utils$2={},utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(a){var s=a;function et(ct,ut){if(Array.isArray(ct))return ct.slice();if(!ct)return[];var bt=[];if(typeof ct!="string"){for(var wt=0;wt<ct.length;wt++)bt[wt]=ct[wt]|0;return bt}if(ut==="hex"){ct=ct.replace(/[^a-z0-9]+/ig,""),ct.length%2!==0&&(ct="0"+ct);for(var wt=0;wt<ct.length;wt+=2)bt.push(parseInt(ct[wt]+ct[wt+1],16))}else for(var wt=0;wt<ct.length;wt++){var Et=ct.charCodeAt(wt),Ft=Et>>8,jt=Et&255;Ft?bt.push(Ft,jt):bt.push(jt)}return bt}s.toArray=et;function tt(ct){return ct.length===1?"0"+ct:ct}s.zero2=tt;function at(ct){for(var ut="",bt=0;bt<ct.length;bt++)ut+=tt(ct[bt].toString(16));return ut}s.toHex=at,s.encode=function(ut,bt){return bt==="hex"?at(ut):ut}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(a){var s=a,et=requireBn(),tt=requireMinimalisticAssert(),at=requireUtils$2();s.assert=tt,s.toArray=at.toArray,s.zero2=at.zero2,s.toHex=at.toHex,s.encode=at.encode;function ct(Ft,jt,Lt){var Ut=new Array(Math.max(Ft.bitLength(),Lt)+1),Vt;for(Vt=0;Vt<Ut.length;Vt+=1)Ut[Vt]=0;var Yt=1<<jt+1,er=Ft.clone();for(Vt=0;Vt<Ut.length;Vt++){var tr,nr=er.andln(Yt-1);er.isOdd()?(nr>(Yt>>1)-1?tr=(Yt>>1)-nr:tr=nr,er.isubn(tr)):tr=0,Ut[Vt]=tr,er.iushrn(1)}return Ut}s.getNAF=ct;function ut(Ft,jt){var Lt=[[],[]];Ft=Ft.clone(),jt=jt.clone();for(var Ut=0,Vt=0,Yt;Ft.cmpn(-Ut)>0||jt.cmpn(-Vt)>0;){var er=Ft.andln(3)+Ut&3,tr=jt.andln(3)+Vt&3;er===3&&(er=-1),tr===3&&(tr=-1);var nr;er&1?(Yt=Ft.andln(7)+Ut&7,(Yt===3||Yt===5)&&tr===2?nr=-er:nr=er):nr=0,Lt[0].push(nr);var ir;tr&1?(Yt=jt.andln(7)+Vt&7,(Yt===3||Yt===5)&&er===2?ir=-tr:ir=tr):ir=0,Lt[1].push(ir),2*Ut===nr+1&&(Ut=1-Ut),2*Vt===ir+1&&(Vt=1-Vt),Ft.iushrn(1),jt.iushrn(1)}return Lt}s.getJSF=ut;function bt(Ft,jt,Lt){var Ut="_"+jt;Ft.prototype[jt]=function(){return this[Ut]!==void 0?this[Ut]:this[Ut]=Lt.call(this)}}s.cachedProperty=bt;function wt(Ft){return typeof Ft=="string"?s.toArray(Ft,"hex"):Ft}s.parseBytes=wt;function Et(Ft){return new et(Ft,"hex","le")}s.intFromLE=Et}(utils$2)),utils$2}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var a=requireBn(),s=requireUtils$1(),et=s.getNAF,tt=s.getJSF,at=s.assert;function ct(bt,wt){this.type=bt,this.p=new a(wt.p,16),this.red=wt.prime?a.red(wt.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=wt.n&&new a(wt.n,16),this.g=wt.g&&this.pointFromJSON(wt.g,wt.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Et=this.n&&this.p.div(this.n);!Et||Et.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=ct,ct.prototype.point=function(){throw new Error("Not implemented")},ct.prototype.validate=function(){throw new Error("Not implemented")},ct.prototype._fixedNafMul=function(wt,Et){at(wt.precomputed);var Ft=wt._getDoubles(),jt=et(Et,1,this._bitLength),Lt=(1<<Ft.step+1)-(Ft.step%2===0?2:1);Lt/=3;var Ut=[],Vt,Yt;for(Vt=0;Vt<jt.length;Vt+=Ft.step){Yt=0;for(var er=Vt+Ft.step-1;er>=Vt;er--)Yt=(Yt<<1)+jt[er];Ut.push(Yt)}for(var tr=this.jpoint(null,null,null),nr=this.jpoint(null,null,null),ir=Lt;ir>0;ir--){for(Vt=0;Vt<Ut.length;Vt++)Yt=Ut[Vt],Yt===ir?nr=nr.mixedAdd(Ft.points[Vt]):Yt===-ir&&(nr=nr.mixedAdd(Ft.points[Vt].neg()));tr=tr.add(nr)}return tr.toP()},ct.prototype._wnafMul=function(wt,Et){var Ft=4,jt=wt._getNAFPoints(Ft);Ft=jt.wnd;for(var Lt=jt.points,Ut=et(Et,Ft,this._bitLength),Vt=this.jpoint(null,null,null),Yt=Ut.length-1;Yt>=0;Yt--){for(var er=0;Yt>=0&&Ut[Yt]===0;Yt--)er++;if(Yt>=0&&er++,Vt=Vt.dblp(er),Yt<0)break;var tr=Ut[Yt];at(tr!==0),wt.type==="affine"?tr>0?Vt=Vt.mixedAdd(Lt[tr-1>>1]):Vt=Vt.mixedAdd(Lt[-tr-1>>1].neg()):tr>0?Vt=Vt.add(Lt[tr-1>>1]):Vt=Vt.add(Lt[-tr-1>>1].neg())}return wt.type==="affine"?Vt.toP():Vt},ct.prototype._wnafMulAdd=function(wt,Et,Ft,jt,Lt){var Ut=this._wnafT1,Vt=this._wnafT2,Yt=this._wnafT3,er=0,tr,nr,ir;for(tr=0;tr<jt;tr++){ir=Et[tr];var lr=ir._getNAFPoints(wt);Ut[tr]=lr.wnd,Vt[tr]=lr.points}for(tr=jt-1;tr>=1;tr-=2){var pr=tr-1,yr=tr;if(Ut[pr]!==1||Ut[yr]!==1){Yt[pr]=et(Ft[pr],Ut[pr],this._bitLength),Yt[yr]=et(Ft[yr],Ut[yr],this._bitLength),er=Math.max(Yt[pr].length,er),er=Math.max(Yt[yr].length,er);continue}var br=[Et[pr],null,null,Et[yr]];Et[pr].y.cmp(Et[yr].y)===0?(br[1]=Et[pr].add(Et[yr]),br[2]=Et[pr].toJ().mixedAdd(Et[yr].neg())):Et[pr].y.cmp(Et[yr].y.redNeg())===0?(br[1]=Et[pr].toJ().mixedAdd(Et[yr]),br[2]=Et[pr].add(Et[yr].neg())):(br[1]=Et[pr].toJ().mixedAdd(Et[yr]),br[2]=Et[pr].toJ().mixedAdd(Et[yr].neg()));var xr=[-3,-1,-5,-7,0,7,5,1,3],Er=tt(Ft[pr],Ft[yr]);for(er=Math.max(Er[0].length,er),Yt[pr]=new Array(er),Yt[yr]=new Array(er),nr=0;nr<er;nr++){var $r=Er[0][nr]|0,Sr=Er[1][nr]|0;Yt[pr][nr]=xr[($r+1)*3+(Sr+1)],Yt[yr][nr]=0,Vt[pr]=br}}var fr=this.jpoint(null,null,null),vr=this._wnafT4;for(tr=er;tr>=0;tr--){for(var or=0;tr>=0;){var rr=!0;for(nr=0;nr<jt;nr++)vr[nr]=Yt[nr][tr]|0,vr[nr]!==0&&(rr=!1);if(!rr)break;or++,tr--}if(tr>=0&&or++,fr=fr.dblp(or),tr<0)break;for(nr=0;nr<jt;nr++){var ar=vr[nr];ar!==0&&(ar>0?ir=Vt[nr][ar-1>>1]:ar<0&&(ir=Vt[nr][-ar-1>>1].neg()),ir.type==="affine"?fr=fr.mixedAdd(ir):fr=fr.add(ir))}}for(tr=0;tr<jt;tr++)Vt[tr]=null;return Lt?fr:fr.toP()};function ut(bt,wt){this.curve=bt,this.type=wt,this.precomputed=null}return ct.BasePoint=ut,ut.prototype.eq=function(){throw new Error("Not implemented")},ut.prototype.validate=function(){return this.curve.validate(this)},ct.prototype.decodePoint=function(wt,Et){wt=s.toArray(wt,Et);var Ft=this.p.byteLength();if((wt[0]===4||wt[0]===6||wt[0]===7)&&wt.length-1===2*Ft){wt[0]===6?at(wt[wt.length-1]%2===0):wt[0]===7&&at(wt[wt.length-1]%2===1);var jt=this.point(wt.slice(1,1+Ft),wt.slice(1+Ft,1+2*Ft));return jt}else if((wt[0]===2||wt[0]===3)&&wt.length-1===Ft)return this.pointFromX(wt.slice(1,1+Ft),wt[0]===3);throw new Error("Unknown point format")},ut.prototype.encodeCompressed=function(wt){return this.encode(wt,!0)},ut.prototype._encode=function(wt){var Et=this.curve.p.byteLength(),Ft=this.getX().toArray("be",Et);return wt?[this.getY().isEven()?2:3].concat(Ft):[4].concat(Ft,this.getY().toArray("be",Et))},ut.prototype.encode=function(wt,Et){return s.encode(this._encode(Et),wt)},ut.prototype.precompute=function(wt){if(this.precomputed)return this;var Et={doubles:null,naf:null,beta:null};return Et.naf=this._getNAFPoints(8),Et.doubles=this._getDoubles(4,wt),Et.beta=this._getBeta(),this.precomputed=Et,this},ut.prototype._hasDoubles=function(wt){if(!this.precomputed)return!1;var Et=this.precomputed.doubles;return Et?Et.points.length>=Math.ceil((wt.bitLength()+1)/Et.step):!1},ut.prototype._getDoubles=function(wt,Et){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Ft=[this],jt=this,Lt=0;Lt<Et;Lt+=wt){for(var Ut=0;Ut<wt;Ut++)jt=jt.dbl();Ft.push(jt)}return{step:wt,points:Ft}},ut.prototype._getNAFPoints=function(wt){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Et=[this],Ft=(1<<wt)-1,jt=Ft===1?null:this.dbl(),Lt=1;Lt<Ft;Lt++)Et[Lt]=Et[Lt-1].add(jt);return{wnd:wt,points:Et}},ut.prototype._getBeta=function(){return null},ut.prototype.dblp=function(wt){for(var Et=this,Ft=0;Ft<wt;Ft++)Et=Et.dbl();return Et},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var a=requireUtils$1(),s=requireBn(),et=requireInherits_browser(),tt=requireBase$1(),at=a.assert;function ct(wt){tt.call(this,"short",wt),this.a=new s(wt.a,16).toRed(this.red),this.b=new s(wt.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(wt),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}et(ct,tt),short=ct,ct.prototype._getEndomorphism=function(Et){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Ft,jt;if(Et.beta)Ft=new s(Et.beta,16).toRed(this.red);else{var Lt=this._getEndoRoots(this.p);Ft=Lt[0].cmp(Lt[1])<0?Lt[0]:Lt[1],Ft=Ft.toRed(this.red)}if(Et.lambda)jt=new s(Et.lambda,16);else{var Ut=this._getEndoRoots(this.n);this.g.mul(Ut[0]).x.cmp(this.g.x.redMul(Ft))===0?jt=Ut[0]:(jt=Ut[1],at(this.g.mul(jt).x.cmp(this.g.x.redMul(Ft))===0))}var Vt;return Et.basis?Vt=Et.basis.map(function(Yt){return{a:new s(Yt.a,16),b:new s(Yt.b,16)}}):Vt=this._getEndoBasis(jt),{beta:Ft,lambda:jt,basis:Vt}}},ct.prototype._getEndoRoots=function(Et){var Ft=Et===this.p?this.red:s.mont(Et),jt=new s(2).toRed(Ft).redInvm(),Lt=jt.redNeg(),Ut=new s(3).toRed(Ft).redNeg().redSqrt().redMul(jt),Vt=Lt.redAdd(Ut).fromRed(),Yt=Lt.redSub(Ut).fromRed();return[Vt,Yt]},ct.prototype._getEndoBasis=function(Et){for(var Ft=this.n.ushrn(Math.floor(this.n.bitLength()/2)),jt=Et,Lt=this.n.clone(),Ut=new s(1),Vt=new s(0),Yt=new s(0),er=new s(1),tr,nr,ir,lr,pr,yr,br,xr=0,Er,$r;jt.cmpn(0)!==0;){var Sr=Lt.div(jt);Er=Lt.sub(Sr.mul(jt)),$r=Yt.sub(Sr.mul(Ut));var fr=er.sub(Sr.mul(Vt));if(!ir&&Er.cmp(Ft)<0)tr=br.neg(),nr=Ut,ir=Er.neg(),lr=$r;else if(ir&&++xr===2)break;br=Er,Lt=jt,jt=Er,Yt=Ut,Ut=$r,er=Vt,Vt=fr}pr=Er.neg(),yr=$r;var vr=ir.sqr().add(lr.sqr()),or=pr.sqr().add(yr.sqr());return or.cmp(vr)>=0&&(pr=tr,yr=nr),ir.negative&&(ir=ir.neg(),lr=lr.neg()),pr.negative&&(pr=pr.neg(),yr=yr.neg()),[{a:ir,b:lr},{a:pr,b:yr}]},ct.prototype._endoSplit=function(Et){var Ft=this.endo.basis,jt=Ft[0],Lt=Ft[1],Ut=Lt.b.mul(Et).divRound(this.n),Vt=jt.b.neg().mul(Et).divRound(this.n),Yt=Ut.mul(jt.a),er=Vt.mul(Lt.a),tr=Ut.mul(jt.b),nr=Vt.mul(Lt.b),ir=Et.sub(Yt).sub(er),lr=tr.add(nr).neg();return{k1:ir,k2:lr}},ct.prototype.pointFromX=function(Et,Ft){Et=new s(Et,16),Et.red||(Et=Et.toRed(this.red));var jt=Et.redSqr().redMul(Et).redIAdd(Et.redMul(this.a)).redIAdd(this.b),Lt=jt.redSqrt();if(Lt.redSqr().redSub(jt).cmp(this.zero)!==0)throw new Error("invalid point");var Ut=Lt.fromRed().isOdd();return(Ft&&!Ut||!Ft&&Ut)&&(Lt=Lt.redNeg()),this.point(Et,Lt)},ct.prototype.validate=function(Et){if(Et.inf)return!0;var Ft=Et.x,jt=Et.y,Lt=this.a.redMul(Ft),Ut=Ft.redSqr().redMul(Ft).redIAdd(Lt).redIAdd(this.b);return jt.redSqr().redISub(Ut).cmpn(0)===0},ct.prototype._endoWnafMulAdd=function(Et,Ft,jt){for(var Lt=this._endoWnafT1,Ut=this._endoWnafT2,Vt=0;Vt<Et.length;Vt++){var Yt=this._endoSplit(Ft[Vt]),er=Et[Vt],tr=er._getBeta();Yt.k1.negative&&(Yt.k1.ineg(),er=er.neg(!0)),Yt.k2.negative&&(Yt.k2.ineg(),tr=tr.neg(!0)),Lt[Vt*2]=er,Lt[Vt*2+1]=tr,Ut[Vt*2]=Yt.k1,Ut[Vt*2+1]=Yt.k2}for(var nr=this._wnafMulAdd(1,Lt,Ut,Vt*2,jt),ir=0;ir<Vt*2;ir++)Lt[ir]=null,Ut[ir]=null;return nr};function ut(wt,Et,Ft,jt){tt.BasePoint.call(this,wt,"affine"),Et===null&&Ft===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(Et,16),this.y=new s(Ft,16),jt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}et(ut,tt.BasePoint),ct.prototype.point=function(Et,Ft,jt){return new ut(this,Et,Ft,jt)},ct.prototype.pointFromJSON=function(Et,Ft){return ut.fromJSON(this,Et,Ft)},ut.prototype._getBeta=function(){if(this.curve.endo){var Et=this.precomputed;if(Et&&Et.beta)return Et.beta;var Ft=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Et){var jt=this.curve,Lt=function(Ut){return jt.point(Ut.x.redMul(jt.endo.beta),Ut.y)};Et.beta=Ft,Ft.precomputed={beta:null,naf:Et.naf&&{wnd:Et.naf.wnd,points:Et.naf.points.map(Lt)},doubles:Et.doubles&&{step:Et.doubles.step,points:Et.doubles.points.map(Lt)}}}return Ft}},ut.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ut.fromJSON=function(Et,Ft,jt){typeof Ft=="string"&&(Ft=JSON.parse(Ft));var Lt=Et.point(Ft[0],Ft[1],jt);if(!Ft[2])return Lt;function Ut(Yt){return Et.point(Yt[0],Yt[1],jt)}var Vt=Ft[2];return Lt.precomputed={beta:null,doubles:Vt.doubles&&{step:Vt.doubles.step,points:[Lt].concat(Vt.doubles.points.map(Ut))},naf:Vt.naf&&{wnd:Vt.naf.wnd,points:[Lt].concat(Vt.naf.points.map(Ut))}},Lt},ut.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ut.prototype.isInfinity=function(){return this.inf},ut.prototype.add=function(Et){if(this.inf)return Et;if(Et.inf)return this;if(this.eq(Et))return this.dbl();if(this.neg().eq(Et))return this.curve.point(null,null);if(this.x.cmp(Et.x)===0)return this.curve.point(null,null);var Ft=this.y.redSub(Et.y);Ft.cmpn(0)!==0&&(Ft=Ft.redMul(this.x.redSub(Et.x).redInvm()));var jt=Ft.redSqr().redISub(this.x).redISub(Et.x),Lt=Ft.redMul(this.x.redSub(jt)).redISub(this.y);return this.curve.point(jt,Lt)},ut.prototype.dbl=function(){if(this.inf)return this;var Et=this.y.redAdd(this.y);if(Et.cmpn(0)===0)return this.curve.point(null,null);var Ft=this.curve.a,jt=this.x.redSqr(),Lt=Et.redInvm(),Ut=jt.redAdd(jt).redIAdd(jt).redIAdd(Ft).redMul(Lt),Vt=Ut.redSqr().redISub(this.x.redAdd(this.x)),Yt=Ut.redMul(this.x.redSub(Vt)).redISub(this.y);return this.curve.point(Vt,Yt)},ut.prototype.getX=function(){return this.x.fromRed()},ut.prototype.getY=function(){return this.y.fromRed()},ut.prototype.mul=function(Et){return Et=new s(Et,16),this.isInfinity()?this:this._hasDoubles(Et)?this.curve._fixedNafMul(this,Et):this.curve.endo?this.curve._endoWnafMulAdd([this],[Et]):this.curve._wnafMul(this,Et)},ut.prototype.mulAdd=function(Et,Ft,jt){var Lt=[this,Ft],Ut=[Et,jt];return this.curve.endo?this.curve._endoWnafMulAdd(Lt,Ut):this.curve._wnafMulAdd(1,Lt,Ut,2)},ut.prototype.jmulAdd=function(Et,Ft,jt){var Lt=[this,Ft],Ut=[Et,jt];return this.curve.endo?this.curve._endoWnafMulAdd(Lt,Ut,!0):this.curve._wnafMulAdd(1,Lt,Ut,2,!0)},ut.prototype.eq=function(Et){return this===Et||this.inf===Et.inf&&(this.inf||this.x.cmp(Et.x)===0&&this.y.cmp(Et.y)===0)},ut.prototype.neg=function(Et){if(this.inf)return this;var Ft=this.curve.point(this.x,this.y.redNeg());if(Et&&this.precomputed){var jt=this.precomputed,Lt=function(Ut){return Ut.neg()};Ft.precomputed={naf:jt.naf&&{wnd:jt.naf.wnd,points:jt.naf.points.map(Lt)},doubles:jt.doubles&&{step:jt.doubles.step,points:jt.doubles.points.map(Lt)}}}return Ft},ut.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Et=this.curve.jpoint(this.x,this.y,this.curve.one);return Et};function bt(wt,Et,Ft,jt){tt.BasePoint.call(this,wt,"jacobian"),Et===null&&Ft===null&&jt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(Et,16),this.y=new s(Ft,16),this.z=new s(jt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return et(bt,tt.BasePoint),ct.prototype.jpoint=function(Et,Ft,jt){return new bt(this,Et,Ft,jt)},bt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Et=this.z.redInvm(),Ft=Et.redSqr(),jt=this.x.redMul(Ft),Lt=this.y.redMul(Ft).redMul(Et);return this.curve.point(jt,Lt)},bt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},bt.prototype.add=function(Et){if(this.isInfinity())return Et;if(Et.isInfinity())return this;var Ft=Et.z.redSqr(),jt=this.z.redSqr(),Lt=this.x.redMul(Ft),Ut=Et.x.redMul(jt),Vt=this.y.redMul(Ft.redMul(Et.z)),Yt=Et.y.redMul(jt.redMul(this.z)),er=Lt.redSub(Ut),tr=Vt.redSub(Yt);if(er.cmpn(0)===0)return tr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var nr=er.redSqr(),ir=nr.redMul(er),lr=Lt.redMul(nr),pr=tr.redSqr().redIAdd(ir).redISub(lr).redISub(lr),yr=tr.redMul(lr.redISub(pr)).redISub(Vt.redMul(ir)),br=this.z.redMul(Et.z).redMul(er);return this.curve.jpoint(pr,yr,br)},bt.prototype.mixedAdd=function(Et){if(this.isInfinity())return Et.toJ();if(Et.isInfinity())return this;var Ft=this.z.redSqr(),jt=this.x,Lt=Et.x.redMul(Ft),Ut=this.y,Vt=Et.y.redMul(Ft).redMul(this.z),Yt=jt.redSub(Lt),er=Ut.redSub(Vt);if(Yt.cmpn(0)===0)return er.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var tr=Yt.redSqr(),nr=tr.redMul(Yt),ir=jt.redMul(tr),lr=er.redSqr().redIAdd(nr).redISub(ir).redISub(ir),pr=er.redMul(ir.redISub(lr)).redISub(Ut.redMul(nr)),yr=this.z.redMul(Yt);return this.curve.jpoint(lr,pr,yr)},bt.prototype.dblp=function(Et){if(Et===0)return this;if(this.isInfinity())return this;if(!Et)return this.dbl();var Ft;if(this.curve.zeroA||this.curve.threeA){var jt=this;for(Ft=0;Ft<Et;Ft++)jt=jt.dbl();return jt}var Lt=this.curve.a,Ut=this.curve.tinv,Vt=this.x,Yt=this.y,er=this.z,tr=er.redSqr().redSqr(),nr=Yt.redAdd(Yt);for(Ft=0;Ft<Et;Ft++){var ir=Vt.redSqr(),lr=nr.redSqr(),pr=lr.redSqr(),yr=ir.redAdd(ir).redIAdd(ir).redIAdd(Lt.redMul(tr)),br=Vt.redMul(lr),xr=yr.redSqr().redISub(br.redAdd(br)),Er=br.redISub(xr),$r=yr.redMul(Er);$r=$r.redIAdd($r).redISub(pr);var Sr=nr.redMul(er);Ft+1<Et&&(tr=tr.redMul(pr)),Vt=xr,er=Sr,nr=$r}return this.curve.jpoint(Vt,nr.redMul(Ut),er)},bt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},bt.prototype._zeroDbl=function(){var Et,Ft,jt;if(this.zOne){var Lt=this.x.redSqr(),Ut=this.y.redSqr(),Vt=Ut.redSqr(),Yt=this.x.redAdd(Ut).redSqr().redISub(Lt).redISub(Vt);Yt=Yt.redIAdd(Yt);var er=Lt.redAdd(Lt).redIAdd(Lt),tr=er.redSqr().redISub(Yt).redISub(Yt),nr=Vt.redIAdd(Vt);nr=nr.redIAdd(nr),nr=nr.redIAdd(nr),Et=tr,Ft=er.redMul(Yt.redISub(tr)).redISub(nr),jt=this.y.redAdd(this.y)}else{var ir=this.x.redSqr(),lr=this.y.redSqr(),pr=lr.redSqr(),yr=this.x.redAdd(lr).redSqr().redISub(ir).redISub(pr);yr=yr.redIAdd(yr);var br=ir.redAdd(ir).redIAdd(ir),xr=br.redSqr(),Er=pr.redIAdd(pr);Er=Er.redIAdd(Er),Er=Er.redIAdd(Er),Et=xr.redISub(yr).redISub(yr),Ft=br.redMul(yr.redISub(Et)).redISub(Er),jt=this.y.redMul(this.z),jt=jt.redIAdd(jt)}return this.curve.jpoint(Et,Ft,jt)},bt.prototype._threeDbl=function(){var Et,Ft,jt;if(this.zOne){var Lt=this.x.redSqr(),Ut=this.y.redSqr(),Vt=Ut.redSqr(),Yt=this.x.redAdd(Ut).redSqr().redISub(Lt).redISub(Vt);Yt=Yt.redIAdd(Yt);var er=Lt.redAdd(Lt).redIAdd(Lt).redIAdd(this.curve.a),tr=er.redSqr().redISub(Yt).redISub(Yt);Et=tr;var nr=Vt.redIAdd(Vt);nr=nr.redIAdd(nr),nr=nr.redIAdd(nr),Ft=er.redMul(Yt.redISub(tr)).redISub(nr),jt=this.y.redAdd(this.y)}else{var ir=this.z.redSqr(),lr=this.y.redSqr(),pr=this.x.redMul(lr),yr=this.x.redSub(ir).redMul(this.x.redAdd(ir));yr=yr.redAdd(yr).redIAdd(yr);var br=pr.redIAdd(pr);br=br.redIAdd(br);var xr=br.redAdd(br);Et=yr.redSqr().redISub(xr),jt=this.y.redAdd(this.z).redSqr().redISub(lr).redISub(ir);var Er=lr.redSqr();Er=Er.redIAdd(Er),Er=Er.redIAdd(Er),Er=Er.redIAdd(Er),Ft=yr.redMul(br.redISub(Et)).redISub(Er)}return this.curve.jpoint(Et,Ft,jt)},bt.prototype._dbl=function(){var Et=this.curve.a,Ft=this.x,jt=this.y,Lt=this.z,Ut=Lt.redSqr().redSqr(),Vt=Ft.redSqr(),Yt=jt.redSqr(),er=Vt.redAdd(Vt).redIAdd(Vt).redIAdd(Et.redMul(Ut)),tr=Ft.redAdd(Ft);tr=tr.redIAdd(tr);var nr=tr.redMul(Yt),ir=er.redSqr().redISub(nr.redAdd(nr)),lr=nr.redISub(ir),pr=Yt.redSqr();pr=pr.redIAdd(pr),pr=pr.redIAdd(pr),pr=pr.redIAdd(pr);var yr=er.redMul(lr).redISub(pr),br=jt.redAdd(jt).redMul(Lt);return this.curve.jpoint(ir,yr,br)},bt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Et=this.x.redSqr(),Ft=this.y.redSqr(),jt=this.z.redSqr(),Lt=Ft.redSqr(),Ut=Et.redAdd(Et).redIAdd(Et),Vt=Ut.redSqr(),Yt=this.x.redAdd(Ft).redSqr().redISub(Et).redISub(Lt);Yt=Yt.redIAdd(Yt),Yt=Yt.redAdd(Yt).redIAdd(Yt),Yt=Yt.redISub(Vt);var er=Yt.redSqr(),tr=Lt.redIAdd(Lt);tr=tr.redIAdd(tr),tr=tr.redIAdd(tr),tr=tr.redIAdd(tr);var nr=Ut.redIAdd(Yt).redSqr().redISub(Vt).redISub(er).redISub(tr),ir=Ft.redMul(nr);ir=ir.redIAdd(ir),ir=ir.redIAdd(ir);var lr=this.x.redMul(er).redISub(ir);lr=lr.redIAdd(lr),lr=lr.redIAdd(lr);var pr=this.y.redMul(nr.redMul(tr.redISub(nr)).redISub(Yt.redMul(er)));pr=pr.redIAdd(pr),pr=pr.redIAdd(pr),pr=pr.redIAdd(pr);var yr=this.z.redAdd(Yt).redSqr().redISub(jt).redISub(er);return this.curve.jpoint(lr,pr,yr)},bt.prototype.mul=function(Et,Ft){return Et=new s(Et,Ft),this.curve._wnafMul(this,Et)},bt.prototype.eq=function(Et){if(Et.type==="affine")return this.eq(Et.toJ());if(this===Et)return!0;var Ft=this.z.redSqr(),jt=Et.z.redSqr();if(this.x.redMul(jt).redISub(Et.x.redMul(Ft)).cmpn(0)!==0)return!1;var Lt=Ft.redMul(this.z),Ut=jt.redMul(Et.z);return this.y.redMul(Ut).redISub(Et.y.redMul(Lt)).cmpn(0)===0},bt.prototype.eqXToP=function(Et){var Ft=this.z.redSqr(),jt=Et.toRed(this.curve.red).redMul(Ft);if(this.x.cmp(jt)===0)return!0;for(var Lt=Et.clone(),Ut=this.curve.redN.redMul(Ft);;){if(Lt.iadd(this.curve.n),Lt.cmp(this.curve.p)>=0)return!1;if(jt.redIAdd(Ut),this.x.cmp(jt)===0)return!0}},bt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},bt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var a=requireBn(),s=requireInherits_browser(),et=requireBase$1(),tt=requireUtils$1();function at(ut){et.call(this,"mont",ut),this.a=new a(ut.a,16).toRed(this.red),this.b=new a(ut.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}s(at,et),mont=at,at.prototype.validate=function(bt){var wt=bt.normalize().x,Et=wt.redSqr(),Ft=Et.redMul(wt).redAdd(Et.redMul(this.a)).redAdd(wt),jt=Ft.redSqrt();return jt.redSqr().cmp(Ft)===0};function ct(ut,bt,wt){et.BasePoint.call(this,ut,"projective"),bt===null&&wt===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(bt,16),this.z=new a(wt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return s(ct,et.BasePoint),at.prototype.decodePoint=function(bt,wt){return this.point(tt.toArray(bt,wt),1)},at.prototype.point=function(bt,wt){return new ct(this,bt,wt)},at.prototype.pointFromJSON=function(bt){return ct.fromJSON(this,bt)},ct.prototype.precompute=function(){},ct.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},ct.fromJSON=function(bt,wt){return new ct(bt,wt[0],wt[1]||bt.one)},ct.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ct.prototype.isInfinity=function(){return this.z.cmpn(0)===0},ct.prototype.dbl=function(){var bt=this.x.redAdd(this.z),wt=bt.redSqr(),Et=this.x.redSub(this.z),Ft=Et.redSqr(),jt=wt.redSub(Ft),Lt=wt.redMul(Ft),Ut=jt.redMul(Ft.redAdd(this.curve.a24.redMul(jt)));return this.curve.point(Lt,Ut)},ct.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},ct.prototype.diffAdd=function(bt,wt){var Et=this.x.redAdd(this.z),Ft=this.x.redSub(this.z),jt=bt.x.redAdd(bt.z),Lt=bt.x.redSub(bt.z),Ut=Lt.redMul(Et),Vt=jt.redMul(Ft),Yt=wt.z.redMul(Ut.redAdd(Vt).redSqr()),er=wt.x.redMul(Ut.redISub(Vt).redSqr());return this.curve.point(Yt,er)},ct.prototype.mul=function(bt){for(var wt=bt.clone(),Et=this,Ft=this.curve.point(null,null),jt=this,Lt=[];wt.cmpn(0)!==0;wt.iushrn(1))Lt.push(wt.andln(1));for(var Ut=Lt.length-1;Ut>=0;Ut--)Lt[Ut]===0?(Et=Et.diffAdd(Ft,jt),Ft=Ft.dbl()):(Ft=Et.diffAdd(Ft,jt),Et=Et.dbl());return Ft},ct.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},ct.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},ct.prototype.eq=function(bt){return this.getX().cmp(bt.getX())===0},ct.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},ct.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var a=requireUtils$1(),s=requireBn(),et=requireInherits_browser(),tt=requireBase$1(),at=a.assert;function ct(bt){this.twisted=(bt.a|0)!==1,this.mOneA=this.twisted&&(bt.a|0)===-1,this.extended=this.mOneA,tt.call(this,"edwards",bt),this.a=new s(bt.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(bt.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(bt.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),at(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(bt.c|0)===1}et(ct,tt),edwards=ct,ct.prototype._mulA=function(wt){return this.mOneA?wt.redNeg():this.a.redMul(wt)},ct.prototype._mulC=function(wt){return this.oneC?wt:this.c.redMul(wt)},ct.prototype.jpoint=function(wt,Et,Ft,jt){return this.point(wt,Et,Ft,jt)},ct.prototype.pointFromX=function(wt,Et){wt=new s(wt,16),wt.red||(wt=wt.toRed(this.red));var Ft=wt.redSqr(),jt=this.c2.redSub(this.a.redMul(Ft)),Lt=this.one.redSub(this.c2.redMul(this.d).redMul(Ft)),Ut=jt.redMul(Lt.redInvm()),Vt=Ut.redSqrt();if(Vt.redSqr().redSub(Ut).cmp(this.zero)!==0)throw new Error("invalid point");var Yt=Vt.fromRed().isOdd();return(Et&&!Yt||!Et&&Yt)&&(Vt=Vt.redNeg()),this.point(wt,Vt)},ct.prototype.pointFromY=function(wt,Et){wt=new s(wt,16),wt.red||(wt=wt.toRed(this.red));var Ft=wt.redSqr(),jt=Ft.redSub(this.c2),Lt=Ft.redMul(this.d).redMul(this.c2).redSub(this.a),Ut=jt.redMul(Lt.redInvm());if(Ut.cmp(this.zero)===0){if(Et)throw new Error("invalid point");return this.point(this.zero,wt)}var Vt=Ut.redSqrt();if(Vt.redSqr().redSub(Ut).cmp(this.zero)!==0)throw new Error("invalid point");return Vt.fromRed().isOdd()!==Et&&(Vt=Vt.redNeg()),this.point(Vt,wt)},ct.prototype.validate=function(wt){if(wt.isInfinity())return!0;wt.normalize();var Et=wt.x.redSqr(),Ft=wt.y.redSqr(),jt=Et.redMul(this.a).redAdd(Ft),Lt=this.c2.redMul(this.one.redAdd(this.d.redMul(Et).redMul(Ft)));return jt.cmp(Lt)===0};function ut(bt,wt,Et,Ft,jt){tt.BasePoint.call(this,bt,"projective"),wt===null&&Et===null&&Ft===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(wt,16),this.y=new s(Et,16),this.z=Ft?new s(Ft,16):this.curve.one,this.t=jt&&new s(jt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return et(ut,tt.BasePoint),ct.prototype.pointFromJSON=function(wt){return ut.fromJSON(this,wt)},ct.prototype.point=function(wt,Et,Ft,jt){return new ut(this,wt,Et,Ft,jt)},ut.fromJSON=function(wt,Et){return new ut(wt,Et[0],Et[1],Et[2])},ut.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ut.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},ut.prototype._extDbl=function(){var wt=this.x.redSqr(),Et=this.y.redSqr(),Ft=this.z.redSqr();Ft=Ft.redIAdd(Ft);var jt=this.curve._mulA(wt),Lt=this.x.redAdd(this.y).redSqr().redISub(wt).redISub(Et),Ut=jt.redAdd(Et),Vt=Ut.redSub(Ft),Yt=jt.redSub(Et),er=Lt.redMul(Vt),tr=Ut.redMul(Yt),nr=Lt.redMul(Yt),ir=Vt.redMul(Ut);return this.curve.point(er,tr,ir,nr)},ut.prototype._projDbl=function(){var wt=this.x.redAdd(this.y).redSqr(),Et=this.x.redSqr(),Ft=this.y.redSqr(),jt,Lt,Ut,Vt,Yt,er;if(this.curve.twisted){Vt=this.curve._mulA(Et);var tr=Vt.redAdd(Ft);this.zOne?(jt=wt.redSub(Et).redSub(Ft).redMul(tr.redSub(this.curve.two)),Lt=tr.redMul(Vt.redSub(Ft)),Ut=tr.redSqr().redSub(tr).redSub(tr)):(Yt=this.z.redSqr(),er=tr.redSub(Yt).redISub(Yt),jt=wt.redSub(Et).redISub(Ft).redMul(er),Lt=tr.redMul(Vt.redSub(Ft)),Ut=tr.redMul(er))}else Vt=Et.redAdd(Ft),Yt=this.curve._mulC(this.z).redSqr(),er=Vt.redSub(Yt).redSub(Yt),jt=this.curve._mulC(wt.redISub(Vt)).redMul(er),Lt=this.curve._mulC(Vt).redMul(Et.redISub(Ft)),Ut=Vt.redMul(er);return this.curve.point(jt,Lt,Ut)},ut.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},ut.prototype._extAdd=function(wt){var Et=this.y.redSub(this.x).redMul(wt.y.redSub(wt.x)),Ft=this.y.redAdd(this.x).redMul(wt.y.redAdd(wt.x)),jt=this.t.redMul(this.curve.dd).redMul(wt.t),Lt=this.z.redMul(wt.z.redAdd(wt.z)),Ut=Ft.redSub(Et),Vt=Lt.redSub(jt),Yt=Lt.redAdd(jt),er=Ft.redAdd(Et),tr=Ut.redMul(Vt),nr=Yt.redMul(er),ir=Ut.redMul(er),lr=Vt.redMul(Yt);return this.curve.point(tr,nr,lr,ir)},ut.prototype._projAdd=function(wt){var Et=this.z.redMul(wt.z),Ft=Et.redSqr(),jt=this.x.redMul(wt.x),Lt=this.y.redMul(wt.y),Ut=this.curve.d.redMul(jt).redMul(Lt),Vt=Ft.redSub(Ut),Yt=Ft.redAdd(Ut),er=this.x.redAdd(this.y).redMul(wt.x.redAdd(wt.y)).redISub(jt).redISub(Lt),tr=Et.redMul(Vt).redMul(er),nr,ir;return this.curve.twisted?(nr=Et.redMul(Yt).redMul(Lt.redSub(this.curve._mulA(jt))),ir=Vt.redMul(Yt)):(nr=Et.redMul(Yt).redMul(Lt.redSub(jt)),ir=this.curve._mulC(Vt).redMul(Yt)),this.curve.point(tr,nr,ir)},ut.prototype.add=function(wt){return this.isInfinity()?wt:wt.isInfinity()?this:this.curve.extended?this._extAdd(wt):this._projAdd(wt)},ut.prototype.mul=function(wt){return this._hasDoubles(wt)?this.curve._fixedNafMul(this,wt):this.curve._wnafMul(this,wt)},ut.prototype.mulAdd=function(wt,Et,Ft){return this.curve._wnafMulAdd(1,[this,Et],[wt,Ft],2,!1)},ut.prototype.jmulAdd=function(wt,Et,Ft){return this.curve._wnafMulAdd(1,[this,Et],[wt,Ft],2,!0)},ut.prototype.normalize=function(){if(this.zOne)return this;var wt=this.z.redInvm();return this.x=this.x.redMul(wt),this.y=this.y.redMul(wt),this.t&&(this.t=this.t.redMul(wt)),this.z=this.curve.one,this.zOne=!0,this},ut.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},ut.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ut.prototype.getY=function(){return this.normalize(),this.y.fromRed()},ut.prototype.eq=function(wt){return this===wt||this.getX().cmp(wt.getX())===0&&this.getY().cmp(wt.getY())===0},ut.prototype.eqXToP=function(wt){var Et=wt.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Et)===0)return!0;for(var Ft=wt.clone(),jt=this.curve.redN.redMul(this.z);;){if(Ft.iadd(this.curve.n),Ft.cmp(this.curve.p)>=0)return!1;if(Et.redIAdd(jt),this.x.cmp(Et)===0)return!0}},ut.prototype.toP=ut.prototype.normalize,ut.prototype.mixedAdd=ut.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(a){var s=a;s.base=requireBase$1(),s.short=requireShort(),s.mont=requireMont(),s.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var a=requireMinimalisticAssert(),s=requireInherits_browser();utils.inherits=s;function et(fr,vr){return(fr.charCodeAt(vr)&64512)!==55296||vr<0||vr+1>=fr.length?!1:(fr.charCodeAt(vr+1)&64512)===56320}function tt(fr,vr){if(Array.isArray(fr))return fr.slice();if(!fr)return[];var or=[];if(typeof fr=="string")if(vr){if(vr==="hex")for(fr=fr.replace(/[^a-z0-9]+/ig,""),fr.length%2!==0&&(fr="0"+fr),ar=0;ar<fr.length;ar+=2)or.push(parseInt(fr[ar]+fr[ar+1],16))}else for(var rr=0,ar=0;ar<fr.length;ar++){var sr=fr.charCodeAt(ar);sr<128?or[rr++]=sr:sr<2048?(or[rr++]=sr>>6|192,or[rr++]=sr&63|128):et(fr,ar)?(sr=65536+((sr&1023)<<10)+(fr.charCodeAt(++ar)&1023),or[rr++]=sr>>18|240,or[rr++]=sr>>12&63|128,or[rr++]=sr>>6&63|128,or[rr++]=sr&63|128):(or[rr++]=sr>>12|224,or[rr++]=sr>>6&63|128,or[rr++]=sr&63|128)}else for(ar=0;ar<fr.length;ar++)or[ar]=fr[ar]|0;return or}utils.toArray=tt;function at(fr){for(var vr="",or=0;or<fr.length;or++)vr+=bt(fr[or].toString(16));return vr}utils.toHex=at;function ct(fr){var vr=fr>>>24|fr>>>8&65280|fr<<8&16711680|(fr&255)<<24;return vr>>>0}utils.htonl=ct;function ut(fr,vr){for(var or="",rr=0;rr<fr.length;rr++){var ar=fr[rr];vr==="little"&&(ar=ct(ar)),or+=wt(ar.toString(16))}return or}utils.toHex32=ut;function bt(fr){return fr.length===1?"0"+fr:fr}utils.zero2=bt;function wt(fr){return fr.length===7?"0"+fr:fr.length===6?"00"+fr:fr.length===5?"000"+fr:fr.length===4?"0000"+fr:fr.length===3?"00000"+fr:fr.length===2?"000000"+fr:fr.length===1?"0000000"+fr:fr}utils.zero8=wt;function Et(fr,vr,or,rr){var ar=or-vr;a(ar%4===0);for(var sr=new Array(ar/4),dr=0,gr=vr;dr<sr.length;dr++,gr+=4){var ur;rr==="big"?ur=fr[gr]<<24|fr[gr+1]<<16|fr[gr+2]<<8|fr[gr+3]:ur=fr[gr+3]<<24|fr[gr+2]<<16|fr[gr+1]<<8|fr[gr],sr[dr]=ur>>>0}return sr}utils.join32=Et;function Ft(fr,vr){for(var or=new Array(fr.length*4),rr=0,ar=0;rr<fr.length;rr++,ar+=4){var sr=fr[rr];vr==="big"?(or[ar]=sr>>>24,or[ar+1]=sr>>>16&255,or[ar+2]=sr>>>8&255,or[ar+3]=sr&255):(or[ar+3]=sr>>>24,or[ar+2]=sr>>>16&255,or[ar+1]=sr>>>8&255,or[ar]=sr&255)}return or}utils.split32=Ft;function jt(fr,vr){return fr>>>vr|fr<<32-vr}utils.rotr32=jt;function Lt(fr,vr){return fr<<vr|fr>>>32-vr}utils.rotl32=Lt;function Ut(fr,vr){return fr+vr>>>0}utils.sum32=Ut;function Vt(fr,vr,or){return fr+vr+or>>>0}utils.sum32_3=Vt;function Yt(fr,vr,or,rr){return fr+vr+or+rr>>>0}utils.sum32_4=Yt;function er(fr,vr,or,rr,ar){return fr+vr+or+rr+ar>>>0}utils.sum32_5=er;function tr(fr,vr,or,rr){var ar=fr[vr],sr=fr[vr+1],dr=rr+sr>>>0,gr=(dr<rr?1:0)+or+ar;fr[vr]=gr>>>0,fr[vr+1]=dr}utils.sum64=tr;function nr(fr,vr,or,rr){var ar=vr+rr>>>0,sr=(ar<vr?1:0)+fr+or;return sr>>>0}utils.sum64_hi=nr;function ir(fr,vr,or,rr){var ar=vr+rr;return ar>>>0}utils.sum64_lo=ir;function lr(fr,vr,or,rr,ar,sr,dr,gr){var ur=0,_r=vr;_r=_r+rr>>>0,ur+=_r<vr?1:0,_r=_r+sr>>>0,ur+=_r<sr?1:0,_r=_r+gr>>>0,ur+=_r<gr?1:0;var hr=fr+or+ar+dr+ur;return hr>>>0}utils.sum64_4_hi=lr;function pr(fr,vr,or,rr,ar,sr,dr,gr){var ur=vr+rr+sr+gr;return ur>>>0}utils.sum64_4_lo=pr;function yr(fr,vr,or,rr,ar,sr,dr,gr,ur,_r){var hr=0,cr=vr;cr=cr+rr>>>0,hr+=cr<vr?1:0,cr=cr+sr>>>0,hr+=cr<sr?1:0,cr=cr+gr>>>0,hr+=cr<gr?1:0,cr=cr+_r>>>0,hr+=cr<_r?1:0;var wr=fr+or+ar+dr+ur+hr;return wr>>>0}utils.sum64_5_hi=yr;function br(fr,vr,or,rr,ar,sr,dr,gr,ur,_r){var hr=vr+rr+sr+gr+_r;return hr>>>0}utils.sum64_5_lo=br;function xr(fr,vr,or){var rr=vr<<32-or|fr>>>or;return rr>>>0}utils.rotr64_hi=xr;function Er(fr,vr,or){var rr=fr<<32-or|vr>>>or;return rr>>>0}utils.rotr64_lo=Er;function $r(fr,vr,or){return fr>>>or}utils.shr64_hi=$r;function Sr(fr,vr,or){var rr=fr<<32-or|vr>>>or;return rr>>>0}return utils.shr64_lo=Sr,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var a=requireUtils(),s=requireMinimalisticAssert();function et(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=et,et.prototype.update=function(at,ct){if(at=a.toArray(at,ct),this.pending?this.pending=this.pending.concat(at):this.pending=at,this.pendingTotal+=at.length,this.pending.length>=this._delta8){at=this.pending;var ut=at.length%this._delta8;this.pending=at.slice(at.length-ut,at.length),this.pending.length===0&&(this.pending=null),at=a.join32(at,0,at.length-ut,this.endian);for(var bt=0;bt<at.length;bt+=this._delta32)this._update(at,bt,bt+this._delta32)}return this},et.prototype.digest=function(at){return this.update(this._pad()),s(this.pending===null),this._digest(at)},et.prototype._pad=function(){var at=this.pendingTotal,ct=this._delta8,ut=ct-(at+this.padLength)%ct,bt=new Array(ut+this.padLength);bt[0]=128;for(var wt=1;wt<ut;wt++)bt[wt]=0;if(at<<=3,this.endian==="big"){for(var Et=8;Et<this.padLength;Et++)bt[wt++]=0;bt[wt++]=0,bt[wt++]=0,bt[wt++]=0,bt[wt++]=0,bt[wt++]=at>>>24&255,bt[wt++]=at>>>16&255,bt[wt++]=at>>>8&255,bt[wt++]=at&255}else for(bt[wt++]=at&255,bt[wt++]=at>>>8&255,bt[wt++]=at>>>16&255,bt[wt++]=at>>>24&255,bt[wt++]=0,bt[wt++]=0,bt[wt++]=0,bt[wt++]=0,Et=8;Et<this.padLength;Et++)bt[wt++]=0;return bt},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var a=requireUtils(),s=a.rotr32;function et(Ft,jt,Lt,Ut){if(Ft===0)return tt(jt,Lt,Ut);if(Ft===1||Ft===3)return ct(jt,Lt,Ut);if(Ft===2)return at(jt,Lt,Ut)}common.ft_1=et;function tt(Ft,jt,Lt){return Ft&jt^~Ft&Lt}common.ch32=tt;function at(Ft,jt,Lt){return Ft&jt^Ft&Lt^jt&Lt}common.maj32=at;function ct(Ft,jt,Lt){return Ft^jt^Lt}common.p32=ct;function ut(Ft){return s(Ft,2)^s(Ft,13)^s(Ft,22)}common.s0_256=ut;function bt(Ft){return s(Ft,6)^s(Ft,11)^s(Ft,25)}common.s1_256=bt;function wt(Ft){return s(Ft,7)^s(Ft,18)^Ft>>>3}common.g0_256=wt;function Et(Ft){return s(Ft,17)^s(Ft,19)^Ft>>>10}return common.g1_256=Et,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var a=requireUtils(),s=requireCommon$1(),et=requireCommon(),tt=a.rotl32,at=a.sum32,ct=a.sum32_5,ut=et.ft_1,bt=s.BlockHash,wt=[1518500249,1859775393,2400959708,3395469782];function Et(){if(!(this instanceof Et))return new Et;bt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return a.inherits(Et,bt),_1=Et,Et.blockSize=512,Et.outSize=160,Et.hmacStrength=80,Et.padLength=64,Et.prototype._update=function(jt,Lt){for(var Ut=this.W,Vt=0;Vt<16;Vt++)Ut[Vt]=jt[Lt+Vt];for(;Vt<Ut.length;Vt++)Ut[Vt]=tt(Ut[Vt-3]^Ut[Vt-8]^Ut[Vt-14]^Ut[Vt-16],1);var Yt=this.h[0],er=this.h[1],tr=this.h[2],nr=this.h[3],ir=this.h[4];for(Vt=0;Vt<Ut.length;Vt++){var lr=~~(Vt/20),pr=ct(tt(Yt,5),ut(lr,er,tr,nr),ir,Ut[Vt],wt[lr]);ir=nr,nr=tr,tr=tt(er,30),er=Yt,Yt=pr}this.h[0]=at(this.h[0],Yt),this.h[1]=at(this.h[1],er),this.h[2]=at(this.h[2],tr),this.h[3]=at(this.h[3],nr),this.h[4]=at(this.h[4],ir)},Et.prototype._digest=function(jt){return jt==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var a=requireUtils(),s=requireCommon$1(),et=requireCommon(),tt=requireMinimalisticAssert(),at=a.sum32,ct=a.sum32_4,ut=a.sum32_5,bt=et.ch32,wt=et.maj32,Et=et.s0_256,Ft=et.s1_256,jt=et.g0_256,Lt=et.g1_256,Ut=s.BlockHash,Vt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yt(){if(!(this instanceof Yt))return new Yt;Ut.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Vt,this.W=new Array(64)}return a.inherits(Yt,Ut),_256=Yt,Yt.blockSize=512,Yt.outSize=256,Yt.hmacStrength=192,Yt.padLength=64,Yt.prototype._update=function(tr,nr){for(var ir=this.W,lr=0;lr<16;lr++)ir[lr]=tr[nr+lr];for(;lr<ir.length;lr++)ir[lr]=ct(Lt(ir[lr-2]),ir[lr-7],jt(ir[lr-15]),ir[lr-16]);var pr=this.h[0],yr=this.h[1],br=this.h[2],xr=this.h[3],Er=this.h[4],$r=this.h[5],Sr=this.h[6],fr=this.h[7];for(tt(this.k.length===ir.length),lr=0;lr<ir.length;lr++){var vr=ut(fr,Ft(Er),bt(Er,$r,Sr),this.k[lr],ir[lr]),or=at(Et(pr),wt(pr,yr,br));fr=Sr,Sr=$r,$r=Er,Er=at(xr,vr),xr=br,br=yr,yr=pr,pr=at(vr,or)}this.h[0]=at(this.h[0],pr),this.h[1]=at(this.h[1],yr),this.h[2]=at(this.h[2],br),this.h[3]=at(this.h[3],xr),this.h[4]=at(this.h[4],Er),this.h[5]=at(this.h[5],$r),this.h[6]=at(this.h[6],Sr),this.h[7]=at(this.h[7],fr)},Yt.prototype._digest=function(tr){return tr==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var a=requireUtils(),s=require_256();function et(){if(!(this instanceof et))return new et;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return a.inherits(et,s),_224=et,et.blockSize=512,et.outSize=224,et.hmacStrength=192,et.padLength=64,et.prototype._digest=function(at){return at==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var a=requireUtils(),s=requireCommon$1(),et=requireMinimalisticAssert(),tt=a.rotr64_hi,at=a.rotr64_lo,ct=a.shr64_hi,ut=a.shr64_lo,bt=a.sum64,wt=a.sum64_hi,Et=a.sum64_lo,Ft=a.sum64_4_hi,jt=a.sum64_4_lo,Lt=a.sum64_5_hi,Ut=a.sum64_5_lo,Vt=s.BlockHash,Yt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function er(){if(!(this instanceof er))return new er;Vt.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Yt,this.W=new Array(160)}a.inherits(er,Vt),_512=er,er.blockSize=1024,er.outSize=512,er.hmacStrength=192,er.padLength=128,er.prototype._prepareBlock=function(or,rr){for(var ar=this.W,sr=0;sr<32;sr++)ar[sr]=or[rr+sr];for(;sr<ar.length;sr+=2){var dr=Sr(ar[sr-4],ar[sr-3]),gr=fr(ar[sr-4],ar[sr-3]),ur=ar[sr-14],_r=ar[sr-13],hr=Er(ar[sr-30],ar[sr-29]),cr=$r(ar[sr-30],ar[sr-29]),wr=ar[sr-32],Br=ar[sr-31];ar[sr]=Ft(dr,gr,ur,_r,hr,cr,wr,Br),ar[sr+1]=jt(dr,gr,ur,_r,hr,cr,wr,Br)}},er.prototype._update=function(or,rr){this._prepareBlock(or,rr);var ar=this.W,sr=this.h[0],dr=this.h[1],gr=this.h[2],ur=this.h[3],_r=this.h[4],hr=this.h[5],cr=this.h[6],wr=this.h[7],Br=this.h[8],Or=this.h[9],Rr=this.h[10],Pr=this.h[11],Ur=this.h[12],kr=this.h[13],Ar=this.h[14],Cr=this.h[15];et(this.k.length===ar.length);for(var Fr=0;Fr<ar.length;Fr+=2){var Lr=Ar,Hr=Cr,Gr=br(Br,Or),Nr=xr(Br,Or),Vr=tr(Br,Or,Rr,Pr,Ur),jr=nr(Br,Or,Rr,Pr,Ur,kr),Wr=this.k[Fr],Kr=this.k[Fr+1],an=ar[Fr],Un=ar[Fr+1],Vn=Lt(Lr,Hr,Gr,Nr,Vr,jr,Wr,Kr,an,Un),Kn=Ut(Lr,Hr,Gr,Nr,Vr,jr,Wr,Kr,an,Un);Lr=pr(sr,dr),Hr=yr(sr,dr),Gr=ir(sr,dr,gr,ur,_r),Nr=lr(sr,dr,gr,ur,_r,hr);var oo=wt(Lr,Hr,Gr,Nr),Hn=Et(Lr,Hr,Gr,Nr);Ar=Ur,Cr=kr,Ur=Rr,kr=Pr,Rr=Br,Pr=Or,Br=wt(cr,wr,Vn,Kn),Or=Et(wr,wr,Vn,Kn),cr=_r,wr=hr,_r=gr,hr=ur,gr=sr,ur=dr,sr=wt(Vn,Kn,oo,Hn),dr=Et(Vn,Kn,oo,Hn)}bt(this.h,0,sr,dr),bt(this.h,2,gr,ur),bt(this.h,4,_r,hr),bt(this.h,6,cr,wr),bt(this.h,8,Br,Or),bt(this.h,10,Rr,Pr),bt(this.h,12,Ur,kr),bt(this.h,14,Ar,Cr)},er.prototype._digest=function(or){return or==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")};function tr(vr,or,rr,ar,sr){var dr=vr&rr^~vr&sr;return dr<0&&(dr+=4294967296),dr}function nr(vr,or,rr,ar,sr,dr){var gr=or&ar^~or&dr;return gr<0&&(gr+=4294967296),gr}function ir(vr,or,rr,ar,sr){var dr=vr&rr^vr&sr^rr&sr;return dr<0&&(dr+=4294967296),dr}function lr(vr,or,rr,ar,sr,dr){var gr=or&ar^or&dr^ar&dr;return gr<0&&(gr+=4294967296),gr}function pr(vr,or){var rr=tt(vr,or,28),ar=tt(or,vr,2),sr=tt(or,vr,7),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}function yr(vr,or){var rr=at(vr,or,28),ar=at(or,vr,2),sr=at(or,vr,7),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}function br(vr,or){var rr=tt(vr,or,14),ar=tt(vr,or,18),sr=tt(or,vr,9),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}function xr(vr,or){var rr=at(vr,or,14),ar=at(vr,or,18),sr=at(or,vr,9),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}function Er(vr,or){var rr=tt(vr,or,1),ar=tt(vr,or,8),sr=ct(vr,or,7),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}function $r(vr,or){var rr=at(vr,or,1),ar=at(vr,or,8),sr=ut(vr,or,7),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}function Sr(vr,or){var rr=tt(vr,or,19),ar=tt(or,vr,29),sr=ct(vr,or,6),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}function fr(vr,or){var rr=at(vr,or,19),ar=at(or,vr,29),sr=ut(vr,or,6),dr=rr^ar^sr;return dr<0&&(dr+=4294967296),dr}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var a=requireUtils(),s=require_512();function et(){if(!(this instanceof et))return new et;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return a.inherits(et,s),_384=et,et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(at){return at==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var a=requireUtils(),s=requireCommon$1(),et=a.rotl32,tt=a.sum32,at=a.sum32_3,ct=a.sum32_4,ut=s.BlockHash;function bt(){if(!(this instanceof bt))return new bt;ut.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a.inherits(bt,ut),ripemd.ripemd160=bt,bt.blockSize=512,bt.outSize=160,bt.hmacStrength=192,bt.padLength=64,bt.prototype._update=function(er,tr){for(var nr=this.h[0],ir=this.h[1],lr=this.h[2],pr=this.h[3],yr=this.h[4],br=nr,xr=ir,Er=lr,$r=pr,Sr=yr,fr=0;fr<80;fr++){var vr=tt(et(ct(nr,wt(fr,ir,lr,pr),er[jt[fr]+tr],Et(fr)),Ut[fr]),yr);nr=yr,yr=pr,pr=et(lr,10),lr=ir,ir=vr,vr=tt(et(ct(br,wt(79-fr,xr,Er,$r),er[Lt[fr]+tr],Ft(fr)),Vt[fr]),Sr),br=Sr,Sr=$r,$r=et(Er,10),Er=xr,xr=vr}vr=at(this.h[1],lr,$r),this.h[1]=at(this.h[2],pr,Sr),this.h[2]=at(this.h[3],yr,br),this.h[3]=at(this.h[4],nr,xr),this.h[4]=at(this.h[0],ir,Er),this.h[0]=vr},bt.prototype._digest=function(er){return er==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};function wt(Yt,er,tr,nr){return Yt<=15?er^tr^nr:Yt<=31?er&tr|~er&nr:Yt<=47?(er|~tr)^nr:Yt<=63?er&nr|tr&~nr:er^(tr|~nr)}function Et(Yt){return Yt<=15?0:Yt<=31?1518500249:Yt<=47?1859775393:Yt<=63?2400959708:2840853838}function Ft(Yt){return Yt<=15?1352829926:Yt<=31?1548603684:Yt<=47?1836072691:Yt<=63?2053994217:0}var jt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Lt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ut=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Vt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var a=requireUtils(),s=requireMinimalisticAssert();function et(tt,at,ct){if(!(this instanceof et))return new et(tt,at,ct);this.Hash=tt,this.blockSize=tt.blockSize/8,this.outSize=tt.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(at,ct))}return hmac$1=et,et.prototype._init=function(at){at.length>this.blockSize&&(at=new this.Hash().update(at).digest()),s(at.length<=this.blockSize);for(var ct=at.length;ct<this.blockSize;ct++)at.push(0);for(ct=0;ct<at.length;ct++)at[ct]^=54;for(this.inner=new this.Hash().update(at),ct=0;ct<at.length;ct++)at[ct]^=106;this.outer=new this.Hash().update(at)},et.prototype.update=function(at,ct){return this.inner.update(at,ct),this},et.prototype.digest=function(at){return this.outer.update(this.inner.digest()),this.outer.digest(at)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(a){var s=a;s.utils=requireUtils(),s.common=requireCommon$1(),s.sha=requireSha(),s.ripemd=requireRipemd(),s.hmac=requireHmac$1(),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(a){var s=a,et=requireHash(),tt=requireCurve(),at=requireUtils$1(),ct=at.assert;function ut(Et){Et.type==="short"?this.curve=new tt.short(Et):Et.type==="edwards"?this.curve=new tt.edwards(Et):this.curve=new tt.mont(Et),this.g=this.curve.g,this.n=this.curve.n,this.hash=Et.hash,ct(this.g.validate(),"Invalid curve"),ct(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}s.PresetCurve=ut;function bt(Et,Ft){Object.defineProperty(s,Et,{configurable:!0,enumerable:!0,get:function(){var jt=new ut(Ft);return Object.defineProperty(s,Et,{configurable:!0,enumerable:!0,value:jt}),jt}})}bt("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:et.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),bt("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:et.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),bt("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:et.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),bt("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:et.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),bt("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:et.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),bt("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["9"]}),bt("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var wt;try{wt=requireSecp256k1()}catch{wt=void 0}bt("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:et.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",wt]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var a=requireHash(),s=requireUtils$2(),et=requireMinimalisticAssert();function tt(at){if(!(this instanceof tt))return new tt(at);this.hash=at.hash,this.predResist=!!at.predResist,this.outLen=this.hash.outSize,this.minEntropy=at.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ct=s.toArray(at.entropy,at.entropyEnc||"hex"),ut=s.toArray(at.nonce,at.nonceEnc||"hex"),bt=s.toArray(at.pers,at.persEnc||"hex");et(ct.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ct,ut,bt)}return hmacDrbg=tt,tt.prototype._init=function(ct,ut,bt){var wt=ct.concat(ut).concat(bt);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Et=0;Et<this.V.length;Et++)this.K[Et]=0,this.V[Et]=1;this._update(wt),this._reseed=1,this.reseedInterval=281474976710656},tt.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},tt.prototype._update=function(ct){var ut=this._hmac().update(this.V).update([0]);ct&&(ut=ut.update(ct)),this.K=ut.digest(),this.V=this._hmac().update(this.V).digest(),ct&&(this.K=this._hmac().update(this.V).update([1]).update(ct).digest(),this.V=this._hmac().update(this.V).digest())},tt.prototype.reseed=function(ct,ut,bt,wt){typeof ut!="string"&&(wt=bt,bt=ut,ut=null),ct=s.toArray(ct,ut),bt=s.toArray(bt,wt),et(ct.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ct.concat(bt||[])),this._reseed=1},tt.prototype.generate=function(ct,ut,bt,wt){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof ut!="string"&&(wt=bt,bt=ut,ut=null),bt&&(bt=s.toArray(bt,wt||"hex"),this._update(bt));for(var Et=[];Et.length<ct;)this.V=this._hmac().update(this.V).digest(),Et=Et.concat(this.V);var Ft=Et.slice(0,ct);return this._update(bt),this._reseed++,s.encode(Ft,ut)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var a=requireBn(),s=requireUtils$1(),et=s.assert;function tt(at,ct){this.ec=at,this.priv=null,this.pub=null,ct.priv&&this._importPrivate(ct.priv,ct.privEnc),ct.pub&&this._importPublic(ct.pub,ct.pubEnc)}return key$1=tt,tt.fromPublic=function(ct,ut,bt){return ut instanceof tt?ut:new tt(ct,{pub:ut,pubEnc:bt})},tt.fromPrivate=function(ct,ut,bt){return ut instanceof tt?ut:new tt(ct,{priv:ut,privEnc:bt})},tt.prototype.validate=function(){var ct=this.getPublic();return ct.isInfinity()?{result:!1,reason:"Invalid public key"}:ct.validate()?ct.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},tt.prototype.getPublic=function(ct,ut){return typeof ct=="string"&&(ut=ct,ct=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),ut?this.pub.encode(ut,ct):this.pub},tt.prototype.getPrivate=function(ct){return ct==="hex"?this.priv.toString(16,2):this.priv},tt.prototype._importPrivate=function(ct,ut){this.priv=new a(ct,ut||16),this.priv=this.priv.umod(this.ec.curve.n)},tt.prototype._importPublic=function(ct,ut){if(ct.x||ct.y){this.ec.curve.type==="mont"?et(ct.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&et(ct.x&&ct.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ct.x,ct.y);return}this.pub=this.ec.curve.decodePoint(ct,ut)},tt.prototype.derive=function(ct){return ct.validate()||et(ct.validate(),"public point not validated"),ct.mul(this.priv).getX()},tt.prototype.sign=function(ct,ut,bt){return this.ec.sign(ct,this,ut,bt)},tt.prototype.verify=function(ct,ut,bt){return this.ec.verify(ct,ut,this,void 0,bt)},tt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var a=requireBn(),s=requireUtils$1(),et=s.assert;function tt(wt,Et){if(wt instanceof tt)return wt;this._importDER(wt,Et)||(et(wt.r&&wt.s,"Signature without r or s"),this.r=new a(wt.r,16),this.s=new a(wt.s,16),wt.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=wt.recoveryParam)}signature$1=tt;function at(){this.place=0}function ct(wt,Et){var Ft=wt[Et.place++];if(!(Ft&128))return Ft;var jt=Ft&15;if(jt===0||jt>4||wt[Et.place]===0)return!1;for(var Lt=0,Ut=0,Vt=Et.place;Ut<jt;Ut++,Vt++)Lt<<=8,Lt|=wt[Vt],Lt>>>=0;return Lt<=127?!1:(Et.place=Vt,Lt)}function ut(wt){for(var Et=0,Ft=wt.length-1;!wt[Et]&&!(wt[Et+1]&128)&&Et<Ft;)Et++;return Et===0?wt:wt.slice(Et)}tt.prototype._importDER=function(Et,Ft){Et=s.toArray(Et,Ft);var jt=new at;if(Et[jt.place++]!==48)return!1;var Lt=ct(Et,jt);if(Lt===!1||Lt+jt.place!==Et.length||Et[jt.place++]!==2)return!1;var Ut=ct(Et,jt);if(Ut===!1||Et[jt.place]&128)return!1;var Vt=Et.slice(jt.place,Ut+jt.place);if(jt.place+=Ut,Et[jt.place++]!==2)return!1;var Yt=ct(Et,jt);if(Yt===!1||Et.length!==Yt+jt.place||Et[jt.place]&128)return!1;var er=Et.slice(jt.place,Yt+jt.place);if(Vt[0]===0)if(Vt[1]&128)Vt=Vt.slice(1);else return!1;if(er[0]===0)if(er[1]&128)er=er.slice(1);else return!1;return this.r=new a(Vt),this.s=new a(er),this.recoveryParam=null,!0};function bt(wt,Et){if(Et<128){wt.push(Et);return}var Ft=1+(Math.log(Et)/Math.LN2>>>3);for(wt.push(Ft|128);--Ft;)wt.push(Et>>>(Ft<<3)&255);wt.push(Et)}return tt.prototype.toDER=function(Et){var Ft=this.r.toArray(),jt=this.s.toArray();for(Ft[0]&128&&(Ft=[0].concat(Ft)),jt[0]&128&&(jt=[0].concat(jt)),Ft=ut(Ft),jt=ut(jt);!jt[0]&&!(jt[1]&128);)jt=jt.slice(1);var Lt=[2];bt(Lt,Ft.length),Lt=Lt.concat(Ft),Lt.push(2),bt(Lt,jt.length);var Ut=Lt.concat(jt),Vt=[48];return bt(Vt,Ut.length),Vt=Vt.concat(Ut),s.encode(Vt,Et)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var a=requireBn(),s=requireHmacDrbg(),et=requireUtils$1(),tt=requireCurves(),at=requireBrorand(),ct=et.assert,ut=requireKey$1(),bt=requireSignature$1();function wt(Et){if(!(this instanceof wt))return new wt(Et);typeof Et=="string"&&(ct(Object.prototype.hasOwnProperty.call(tt,Et),"Unknown curve "+Et),Et=tt[Et]),Et instanceof tt.PresetCurve&&(Et={curve:Et}),this.curve=Et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Et.curve.g,this.g.precompute(Et.curve.n.bitLength()+1),this.hash=Et.hash||Et.curve.hash}return ec=wt,wt.prototype.keyPair=function(Ft){return new ut(this,Ft)},wt.prototype.keyFromPrivate=function(Ft,jt){return ut.fromPrivate(this,Ft,jt)},wt.prototype.keyFromPublic=function(Ft,jt){return ut.fromPublic(this,Ft,jt)},wt.prototype.genKeyPair=function(Ft){Ft||(Ft={});for(var jt=new s({hash:this.hash,pers:Ft.pers,persEnc:Ft.persEnc||"utf8",entropy:Ft.entropy||at(this.hash.hmacStrength),entropyEnc:Ft.entropy&&Ft.entropyEnc||"utf8",nonce:this.n.toArray()}),Lt=this.n.byteLength(),Ut=this.n.sub(new a(2));;){var Vt=new a(jt.generate(Lt));if(!(Vt.cmp(Ut)>0))return Vt.iaddn(1),this.keyFromPrivate(Vt)}},wt.prototype._truncateToN=function(Ft,jt,Lt){var Ut;if(a.isBN(Ft)||typeof Ft=="number")Ft=new a(Ft,16),Ut=Ft.byteLength();else if(typeof Ft=="object")Ut=Ft.length,Ft=new a(Ft,16);else{var Vt=Ft.toString();Ut=Vt.length+1>>>1,Ft=new a(Vt,16)}typeof Lt!="number"&&(Lt=Ut*8);var Yt=Lt-this.n.bitLength();return Yt>0&&(Ft=Ft.ushrn(Yt)),!jt&&Ft.cmp(this.n)>=0?Ft.sub(this.n):Ft},wt.prototype.sign=function(Ft,jt,Lt,Ut){if(typeof Lt=="object"&&(Ut=Lt,Lt=null),Ut||(Ut={}),typeof Ft!="string"&&typeof Ft!="number"&&!a.isBN(Ft)){ct(typeof Ft=="object"&&Ft&&typeof Ft.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ct(Ft.length>>>0===Ft.length);for(var Vt=0;Vt<Ft.length;Vt++)ct((Ft[Vt]&255)===Ft[Vt])}jt=this.keyFromPrivate(jt,Lt),Ft=this._truncateToN(Ft,!1,Ut.msgBitLength),ct(!Ft.isNeg(),"Can not sign a negative message");var Yt=this.n.byteLength(),er=jt.getPrivate().toArray("be",Yt),tr=Ft.toArray("be",Yt);ct(new a(tr).eq(Ft),"Can not sign message");for(var nr=new s({hash:this.hash,entropy:er,nonce:tr,pers:Ut.pers,persEnc:Ut.persEnc||"utf8"}),ir=this.n.sub(new a(1)),lr=0;;lr++){var pr=Ut.k?Ut.k(lr):new a(nr.generate(this.n.byteLength()));if(pr=this._truncateToN(pr,!0),!(pr.cmpn(1)<=0||pr.cmp(ir)>=0)){var yr=this.g.mul(pr);if(!yr.isInfinity()){var br=yr.getX(),xr=br.umod(this.n);if(xr.cmpn(0)!==0){var Er=pr.invm(this.n).mul(xr.mul(jt.getPrivate()).iadd(Ft));if(Er=Er.umod(this.n),Er.cmpn(0)!==0){var $r=(yr.getY().isOdd()?1:0)|(br.cmp(xr)!==0?2:0);return Ut.canonical&&Er.cmp(this.nh)>0&&(Er=this.n.sub(Er),$r^=1),new bt({r:xr,s:Er,recoveryParam:$r})}}}}}},wt.prototype.verify=function(Ft,jt,Lt,Ut,Vt){Vt||(Vt={}),Ft=this._truncateToN(Ft,!1,Vt.msgBitLength),Lt=this.keyFromPublic(Lt,Ut),jt=new bt(jt,"hex");var Yt=jt.r,er=jt.s;if(Yt.cmpn(1)<0||Yt.cmp(this.n)>=0||er.cmpn(1)<0||er.cmp(this.n)>=0)return!1;var tr=er.invm(this.n),nr=tr.mul(Ft).umod(this.n),ir=tr.mul(Yt).umod(this.n),lr;return this.curve._maxwellTrick?(lr=this.g.jmulAdd(nr,Lt.getPublic(),ir),lr.isInfinity()?!1:lr.eqXToP(Yt)):(lr=this.g.mulAdd(nr,Lt.getPublic(),ir),lr.isInfinity()?!1:lr.getX().umod(this.n).cmp(Yt)===0)},wt.prototype.recoverPubKey=function(Et,Ft,jt,Lt){ct((3&jt)===jt,"The recovery param is more than two bits"),Ft=new bt(Ft,Lt);var Ut=this.n,Vt=new a(Et),Yt=Ft.r,er=Ft.s,tr=jt&1,nr=jt>>1;if(Yt.cmp(this.curve.p.umod(this.curve.n))>=0&&nr)throw new Error("Unable to find sencond key candinate");nr?Yt=this.curve.pointFromX(Yt.add(this.curve.n),tr):Yt=this.curve.pointFromX(Yt,tr);var ir=Ft.r.invm(Ut),lr=Ut.sub(Vt).mul(ir).umod(Ut),pr=er.mul(ir).umod(Ut);return this.g.mulAdd(lr,Yt,pr)},wt.prototype.getKeyRecoveryParam=function(Et,Ft,jt,Lt){if(Ft=new bt(Ft,Lt),Ft.recoveryParam!==null)return Ft.recoveryParam;for(var Ut=0;Ut<4;Ut++){var Vt;try{Vt=this.recoverPubKey(Et,Ft,Ut)}catch{continue}if(Vt.eq(jt))return Ut}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var a=requireUtils$1(),s=a.assert,et=a.parseBytes,tt=a.cachedProperty;function at(ct,ut){this.eddsa=ct,this._secret=et(ut.secret),ct.isPoint(ut.pub)?this._pub=ut.pub:this._pubBytes=et(ut.pub)}return at.fromPublic=function(ut,bt){return bt instanceof at?bt:new at(ut,{pub:bt})},at.fromSecret=function(ut,bt){return bt instanceof at?bt:new at(ut,{secret:bt})},at.prototype.secret=function(){return this._secret},tt(at,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),tt(at,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),tt(at,"privBytes",function(){var ut=this.eddsa,bt=this.hash(),wt=ut.encodingLength-1,Et=bt.slice(0,ut.encodingLength);return Et[0]&=248,Et[wt]&=127,Et[wt]|=64,Et}),tt(at,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),tt(at,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),tt(at,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),at.prototype.sign=function(ut){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(ut,this)},at.prototype.verify=function(ut,bt){return this.eddsa.verify(ut,bt,this)},at.prototype.getSecret=function(ut){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),ut)},at.prototype.getPublic=function(ut){return a.encode(this.pubBytes(),ut)},key=at,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var a=requireBn(),s=requireUtils$1(),et=s.assert,tt=s.cachedProperty,at=s.parseBytes;function ct(ut,bt){this.eddsa=ut,typeof bt!="object"&&(bt=at(bt)),Array.isArray(bt)&&(et(bt.length===ut.encodingLength*2,"Signature has invalid size"),bt={R:bt.slice(0,ut.encodingLength),S:bt.slice(ut.encodingLength)}),et(bt.R&&bt.S,"Signature without R or S"),ut.isPoint(bt.R)&&(this._R=bt.R),bt.S instanceof a&&(this._S=bt.S),this._Rencoded=Array.isArray(bt.R)?bt.R:bt.Rencoded,this._Sencoded=Array.isArray(bt.S)?bt.S:bt.Sencoded}return tt(ct,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),tt(ct,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),tt(ct,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),tt(ct,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),ct.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},ct.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},signature=ct,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var a=requireHash(),s=requireCurves(),et=requireUtils$1(),tt=et.assert,at=et.parseBytes,ct=requireKey(),ut=requireSignature();function bt(wt){if(tt(wt==="ed25519","only tested with ed25519 so far"),!(this instanceof bt))return new bt(wt);wt=s[wt].curve,this.curve=wt,this.g=wt.g,this.g.precompute(wt.n.bitLength()+1),this.pointClass=wt.point().constructor,this.encodingLength=Math.ceil(wt.n.bitLength()/8),this.hash=a.sha512}return eddsa=bt,bt.prototype.sign=function(Et,Ft){Et=at(Et);var jt=this.keyFromSecret(Ft),Lt=this.hashInt(jt.messagePrefix(),Et),Ut=this.g.mul(Lt),Vt=this.encodePoint(Ut),Yt=this.hashInt(Vt,jt.pubBytes(),Et).mul(jt.priv()),er=Lt.add(Yt).umod(this.curve.n);return this.makeSignature({R:Ut,S:er,Rencoded:Vt})},bt.prototype.verify=function(Et,Ft,jt){if(Et=at(Et),Ft=this.makeSignature(Ft),Ft.S().gte(Ft.eddsa.curve.n)||Ft.S().isNeg())return!1;var Lt=this.keyFromPublic(jt),Ut=this.hashInt(Ft.Rencoded(),Lt.pubBytes(),Et),Vt=this.g.mul(Ft.S()),Yt=Ft.R().add(Lt.pub().mul(Ut));return Yt.eq(Vt)},bt.prototype.hashInt=function(){for(var Et=this.hash(),Ft=0;Ft<arguments.length;Ft++)Et.update(arguments[Ft]);return et.intFromLE(Et.digest()).umod(this.curve.n)},bt.prototype.keyFromPublic=function(Et){return ct.fromPublic(this,Et)},bt.prototype.keyFromSecret=function(Et){return ct.fromSecret(this,Et)},bt.prototype.makeSignature=function(Et){return Et instanceof ut?Et:new ut(this,Et)},bt.prototype.encodePoint=function(Et){var Ft=Et.getY().toArray("le",this.encodingLength);return Ft[this.encodingLength-1]|=Et.getX().isOdd()?128:0,Ft},bt.prototype.decodePoint=function(Et){Et=et.parseBytes(Et);var Ft=Et.length-1,jt=Et.slice(0,Ft).concat(Et[Ft]&-129),Lt=(Et[Ft]&128)!==0,Ut=et.intFromLE(jt);return this.curve.pointFromY(Ut,Lt)},bt.prototype.encodeInt=function(Et){return Et.toArray("le",this.encodingLength)},bt.prototype.decodeInt=function(Et){return et.intFromLE(Et)},bt.prototype.isPoint=function(Et){return Et instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(a){var s=a;s.version=require$$0.version,s.utils=requireUtils$1(),s.rand=requireBrorand(),s.curve=requireCurve(),s.curves=requireCurves(),s.ec=requireEc(),s.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(a,s){if(a.indexOf)return a.indexOf(s);for(var et=0;et<a.length;et++)if(a[et]===s)return et;return-1},Object_keys=function(a){if(Object.keys)return Object.keys(a);var s=[];for(var et in a)s.push(et);return s},forEach=function(a,s){if(a.forEach)return a.forEach(s);for(var et=0;et<a.length;et++)s(a[et],et,a)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(a,s,et){Object.defineProperty(a,s,{writable:!0,enumerable:!1,configurable:!0,value:et})}}catch{return function(s,et,tt){s[et]=tt}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(s){if(!(this instanceof Script))return new Script(s);this.code=s};Script.prototype.runInContext=function(a){if(!(a instanceof Context))throw new TypeError("needs a 'context' argument.");var s=document.createElement("iframe");s.style||(s.style={}),s.style.display="none",document.body.appendChild(s);var et=s.contentWindow,tt=et.eval,at=et.execScript;!tt&&at&&(at.call(et,"null"),tt=et.eval),forEach(Object_keys(a),function(bt){et[bt]=a[bt]}),forEach(globals,function(bt){a[bt]&&(et[bt]=a[bt])});var ct=Object_keys(et),ut=tt.call(et,this.code);return forEach(Object_keys(et),function(bt){(bt in a||indexOf(ct,bt)===-1)&&(a[bt]=et[bt])}),forEach(globals,function(bt){bt in a||defineProp(a,bt,et[bt])}),document.body.removeChild(s),ut},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(a){var s=Script.createContext(a),et=this.runInContext(s);return a&&forEach(Object_keys(s),function(tt){a[tt]=s[tt]}),et},forEach(Object_keys(Script.prototype),function(a){exports[a]=Script[a]=function(s){var et=Script(s);return et[a].apply(et,[].slice.call(arguments,1))}}),exports.isContext=function(a){return a instanceof Context},exports.createScript=function(a){return exports.Script(a)},exports.createContext=Script.createContext=function(a){var s=new Context;return typeof a=="object"&&forEach(Object_keys(a),function(et){s[et]=a[et]}),s}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(a){var s=requireAsn1$1(),et=requireInherits_browser(),tt=a;tt.define=function(ut,bt){return new at(ut,bt)};function at(ct,ut){this.name=ct,this.body=ut,this.decoders={},this.encoders={}}at.prototype._createNamed=function(ut){var bt;try{bt=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{bt=function(Et){this._initNamed(Et)}}return et(bt,ut),bt.prototype._initNamed=function(Et){ut.call(this,Et)},new bt(this)},at.prototype._getDecoder=function(ut){return ut=ut||"der",this.decoders.hasOwnProperty(ut)||(this.decoders[ut]=this._createNamed(s.decoders[ut])),this.decoders[ut]},at.prototype.decode=function(ut,bt,wt){return this._getDecoder(bt).decode(ut,wt)},at.prototype._getEncoder=function(ut){return ut=ut||"der",this.encoders.hasOwnProperty(ut)||(this.encoders[ut]=this._createNamed(s.encoders[ut])),this.encoders[ut]},at.prototype.encode=function(ut,bt,wt){return this._getEncoder(bt).encode(ut,wt)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var a=requireInherits_browser();function s(tt){this._reporterState={obj:null,path:[],options:tt||{},errors:[]}}reporter.Reporter=s,s.prototype.isError=function(at){return at instanceof et},s.prototype.save=function(){var at=this._reporterState;return{obj:at.obj,pathLen:at.path.length}},s.prototype.restore=function(at){var ct=this._reporterState;ct.obj=at.obj,ct.path=ct.path.slice(0,at.pathLen)},s.prototype.enterKey=function(at){return this._reporterState.path.push(at)},s.prototype.exitKey=function(at){var ct=this._reporterState;ct.path=ct.path.slice(0,at-1)},s.prototype.leaveKey=function(at,ct,ut){var bt=this._reporterState;this.exitKey(at),bt.obj!==null&&(bt.obj[ct]=ut)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){var at=this._reporterState,ct=at.obj;return at.obj={},ct},s.prototype.leaveObject=function(at){var ct=this._reporterState,ut=ct.obj;return ct.obj=at,ut},s.prototype.error=function(at){var ct,ut=this._reporterState,bt=at instanceof et;if(bt?ct=at:ct=new et(ut.path.map(function(wt){return"["+JSON.stringify(wt)+"]"}).join(""),at.message||at,at.stack),!ut.options.partial)throw ct;return bt||ut.errors.push(ct),ct},s.prototype.wrapResult=function(at){var ct=this._reporterState;return ct.options.partial?{result:this.isError(at)?null:at,errors:ct.errors}:at};function et(tt,at){this.path=tt,this.rethrow(at)}return a(et,Error),et.prototype.rethrow=function(at){if(this.message=at+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,et),!this.stack)try{throw new Error(this.message)}catch(ct){this.stack=ct.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var a=requireInherits_browser(),s=requireBase().Reporter,et=require$$1$3.Buffer;function tt(ct,ut){if(s.call(this,ut),!et.isBuffer(ct)){this.error("Input not Buffer");return}this.base=ct,this.offset=0,this.length=ct.length}a(tt,s),buffer.DecoderBuffer=tt,tt.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},tt.prototype.restore=function(ut){var bt=new tt(this.base);return bt.offset=ut.offset,bt.length=this.offset,this.offset=ut.offset,s.prototype.restore.call(this,ut.reporter),bt},tt.prototype.isEmpty=function(){return this.offset===this.length},tt.prototype.readUInt8=function(ut){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(ut||"DecoderBuffer overrun")},tt.prototype.skip=function(ut,bt){if(!(this.offset+ut<=this.length))return this.error(bt||"DecoderBuffer overrun");var wt=new tt(this.base);return wt._reporterState=this._reporterState,wt.offset=this.offset,wt.length=this.offset+ut,this.offset+=ut,wt},tt.prototype.raw=function(ut){return this.base.slice(ut?ut.offset:this.offset,this.length)};function at(ct,ut){if(Array.isArray(ct))this.length=0,this.value=ct.map(function(bt){return bt instanceof at||(bt=new at(bt,ut)),this.length+=bt.length,bt},this);else if(typeof ct=="number"){if(!(0<=ct&&ct<=255))return ut.error("non-byte EncoderBuffer value");this.value=ct,this.length=1}else if(typeof ct=="string")this.value=ct,this.length=et.byteLength(ct);else if(et.isBuffer(ct))this.value=ct,this.length=ct.length;else return ut.error("Unsupported type: "+typeof ct)}return buffer.EncoderBuffer=at,at.prototype.join=function(ut,bt){return ut||(ut=new et(this.length)),bt||(bt=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(wt){wt.join(ut,bt),bt+=wt.length}):(typeof this.value=="number"?ut[bt]=this.value:typeof this.value=="string"?ut.write(this.value,bt):et.isBuffer(this.value)&&this.value.copy(ut,bt),bt+=this.length)),ut},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var a=requireBase().Reporter,s=requireBase().EncoderBuffer,et=requireBase().DecoderBuffer,tt=requireMinimalisticAssert(),at=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],ct=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(at),ut=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function bt(Et,Ft){var jt={};this._baseState=jt,jt.enc=Et,jt.parent=Ft||null,jt.children=null,jt.tag=null,jt.args=null,jt.reverseArgs=null,jt.choice=null,jt.optional=!1,jt.any=!1,jt.obj=!1,jt.use=null,jt.useDecoder=null,jt.key=null,jt.default=null,jt.explicit=null,jt.implicit=null,jt.contains=null,jt.parent||(jt.children=[],this._wrap())}node=bt;var wt=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return bt.prototype.clone=function(){var Ft=this._baseState,jt={};wt.forEach(function(Ut){jt[Ut]=Ft[Ut]});var Lt=new this.constructor(jt.parent);return Lt._baseState=jt,Lt},bt.prototype._wrap=function(){var Ft=this._baseState;ct.forEach(function(jt){this[jt]=function(){var Ut=new this.constructor(this);return Ft.children.push(Ut),Ut[jt].apply(Ut,arguments)}},this)},bt.prototype._init=function(Ft){var jt=this._baseState;tt(jt.parent===null),Ft.call(this),jt.children=jt.children.filter(function(Lt){return Lt._baseState.parent===this},this),tt.equal(jt.children.length,1,"Root node can have only one child")},bt.prototype._useArgs=function(Ft){var jt=this._baseState,Lt=Ft.filter(function(Ut){return Ut instanceof this.constructor},this);Ft=Ft.filter(function(Ut){return!(Ut instanceof this.constructor)},this),Lt.length!==0&&(tt(jt.children===null),jt.children=Lt,Lt.forEach(function(Ut){Ut._baseState.parent=this},this)),Ft.length!==0&&(tt(jt.args===null),jt.args=Ft,jt.reverseArgs=Ft.map(function(Ut){if(typeof Ut!="object"||Ut.constructor!==Object)return Ut;var Vt={};return Object.keys(Ut).forEach(function(Yt){Yt==(Yt|0)&&(Yt|=0);var er=Ut[Yt];Vt[er]=Yt}),Vt}))},ut.forEach(function(Et){bt.prototype[Et]=function(){var jt=this._baseState;throw new Error(Et+" not implemented for encoding: "+jt.enc)}}),at.forEach(function(Et){bt.prototype[Et]=function(){var jt=this._baseState,Lt=Array.prototype.slice.call(arguments);return tt(jt.tag===null),jt.tag=Et,this._useArgs(Lt),this}}),bt.prototype.use=function(Ft){tt(Ft);var jt=this._baseState;return tt(jt.use===null),jt.use=Ft,this},bt.prototype.optional=function(){var Ft=this._baseState;return Ft.optional=!0,this},bt.prototype.def=function(Ft){var jt=this._baseState;return tt(jt.default===null),jt.default=Ft,jt.optional=!0,this},bt.prototype.explicit=function(Ft){var jt=this._baseState;return tt(jt.explicit===null&&jt.implicit===null),jt.explicit=Ft,this},bt.prototype.implicit=function(Ft){var jt=this._baseState;return tt(jt.explicit===null&&jt.implicit===null),jt.implicit=Ft,this},bt.prototype.obj=function(){var Ft=this._baseState,jt=Array.prototype.slice.call(arguments);return Ft.obj=!0,jt.length!==0&&this._useArgs(jt),this},bt.prototype.key=function(Ft){var jt=this._baseState;return tt(jt.key===null),jt.key=Ft,this},bt.prototype.any=function(){var Ft=this._baseState;return Ft.any=!0,this},bt.prototype.choice=function(Ft){var jt=this._baseState;return tt(jt.choice===null),jt.choice=Ft,this._useArgs(Object.keys(Ft).map(function(Lt){return Ft[Lt]})),this},bt.prototype.contains=function(Ft){var jt=this._baseState;return tt(jt.use===null),jt.contains=Ft,this},bt.prototype._decode=function(Ft,jt){var Lt=this._baseState;if(Lt.parent===null)return Ft.wrapResult(Lt.children[0]._decode(Ft,jt));var Ut=Lt.default,Vt=!0,Yt=null;if(Lt.key!==null&&(Yt=Ft.enterKey(Lt.key)),Lt.optional){var er=null;if(Lt.explicit!==null?er=Lt.explicit:Lt.implicit!==null?er=Lt.implicit:Lt.tag!==null&&(er=Lt.tag),er===null&&!Lt.any){var tr=Ft.save();try{Lt.choice===null?this._decodeGeneric(Lt.tag,Ft,jt):this._decodeChoice(Ft,jt),Vt=!0}catch{Vt=!1}Ft.restore(tr)}else if(Vt=this._peekTag(Ft,er,Lt.any),Ft.isError(Vt))return Vt}var nr;if(Lt.obj&&Vt&&(nr=Ft.enterObject()),Vt){if(Lt.explicit!==null){var ir=this._decodeTag(Ft,Lt.explicit);if(Ft.isError(ir))return ir;Ft=ir}var lr=Ft.offset;if(Lt.use===null&&Lt.choice===null){if(Lt.any)var tr=Ft.save();var pr=this._decodeTag(Ft,Lt.implicit!==null?Lt.implicit:Lt.tag,Lt.any);if(Ft.isError(pr))return pr;Lt.any?Ut=Ft.raw(tr):Ft=pr}if(jt&&jt.track&&Lt.tag!==null&&jt.track(Ft.path(),lr,Ft.length,"tagged"),jt&&jt.track&&Lt.tag!==null&&jt.track(Ft.path(),Ft.offset,Ft.length,"content"),Lt.any?Ut=Ut:Lt.choice===null?Ut=this._decodeGeneric(Lt.tag,Ft,jt):Ut=this._decodeChoice(Ft,jt),Ft.isError(Ut))return Ut;if(!Lt.any&&Lt.choice===null&&Lt.children!==null&&Lt.children.forEach(function(xr){xr._decode(Ft,jt)}),Lt.contains&&(Lt.tag==="octstr"||Lt.tag==="bitstr")){var yr=new et(Ut);Ut=this._getUse(Lt.contains,Ft._reporterState.obj)._decode(yr,jt)}}return Lt.obj&&Vt&&(Ut=Ft.leaveObject(nr)),Lt.key!==null&&(Ut!==null||Vt===!0)?Ft.leaveKey(Yt,Lt.key,Ut):Yt!==null&&Ft.exitKey(Yt),Ut},bt.prototype._decodeGeneric=function(Ft,jt,Lt){var Ut=this._baseState;return Ft==="seq"||Ft==="set"?null:Ft==="seqof"||Ft==="setof"?this._decodeList(jt,Ft,Ut.args[0],Lt):/str$/.test(Ft)?this._decodeStr(jt,Ft,Lt):Ft==="objid"&&Ut.args?this._decodeObjid(jt,Ut.args[0],Ut.args[1],Lt):Ft==="objid"?this._decodeObjid(jt,null,null,Lt):Ft==="gentime"||Ft==="utctime"?this._decodeTime(jt,Ft,Lt):Ft==="null_"?this._decodeNull(jt,Lt):Ft==="bool"?this._decodeBool(jt,Lt):Ft==="objDesc"?this._decodeStr(jt,Ft,Lt):Ft==="int"||Ft==="enum"?this._decodeInt(jt,Ut.args&&Ut.args[0],Lt):Ut.use!==null?this._getUse(Ut.use,jt._reporterState.obj)._decode(jt,Lt):jt.error("unknown tag: "+Ft)},bt.prototype._getUse=function(Ft,jt){var Lt=this._baseState;return Lt.useDecoder=this._use(Ft,jt),tt(Lt.useDecoder._baseState.parent===null),Lt.useDecoder=Lt.useDecoder._baseState.children[0],Lt.implicit!==Lt.useDecoder._baseState.implicit&&(Lt.useDecoder=Lt.useDecoder.clone(),Lt.useDecoder._baseState.implicit=Lt.implicit),Lt.useDecoder},bt.prototype._decodeChoice=function(Ft,jt){var Lt=this._baseState,Ut=null,Vt=!1;return Object.keys(Lt.choice).some(function(Yt){var er=Ft.save(),tr=Lt.choice[Yt];try{var nr=tr._decode(Ft,jt);if(Ft.isError(nr))return!1;Ut={type:Yt,value:nr},Vt=!0}catch{return Ft.restore(er),!1}return!0},this),Vt?Ut:Ft.error("Choice not matched")},bt.prototype._createEncoderBuffer=function(Ft){return new s(Ft,this.reporter)},bt.prototype._encode=function(Ft,jt,Lt){var Ut=this._baseState;if(!(Ut.default!==null&&Ut.default===Ft)){var Vt=this._encodeValue(Ft,jt,Lt);if(Vt!==void 0&&!this._skipDefault(Vt,jt,Lt))return Vt}},bt.prototype._encodeValue=function(Ft,jt,Lt){var Ut=this._baseState;if(Ut.parent===null)return Ut.children[0]._encode(Ft,jt||new a);var tr=null;if(this.reporter=jt,Ut.optional&&Ft===void 0)if(Ut.default!==null)Ft=Ut.default;else return;var Vt=null,Yt=!1;if(Ut.any)tr=this._createEncoderBuffer(Ft);else if(Ut.choice)tr=this._encodeChoice(Ft,jt);else if(Ut.contains)Vt=this._getUse(Ut.contains,Lt)._encode(Ft,jt),Yt=!0;else if(Ut.children)Vt=Ut.children.map(function(lr){if(lr._baseState.tag==="null_")return lr._encode(null,jt,Ft);if(lr._baseState.key===null)return jt.error("Child should have a key");var pr=jt.enterKey(lr._baseState.key);if(typeof Ft!="object")return jt.error("Child expected, but input is not object");var yr=lr._encode(Ft[lr._baseState.key],jt,Ft);return jt.leaveKey(pr),yr},this).filter(function(lr){return lr}),Vt=this._createEncoderBuffer(Vt);else if(Ut.tag==="seqof"||Ut.tag==="setof"){if(!(Ut.args&&Ut.args.length===1))return jt.error("Too many args for : "+Ut.tag);if(!Array.isArray(Ft))return jt.error("seqof/setof, but data is not Array");var er=this.clone();er._baseState.implicit=null,Vt=this._createEncoderBuffer(Ft.map(function(lr){var pr=this._baseState;return this._getUse(pr.args[0],Ft)._encode(lr,jt)},er))}else Ut.use!==null?tr=this._getUse(Ut.use,Lt)._encode(Ft,jt):(Vt=this._encodePrimitive(Ut.tag,Ft),Yt=!0);var tr;if(!Ut.any&&Ut.choice===null){var nr=Ut.implicit!==null?Ut.implicit:Ut.tag,ir=Ut.implicit===null?"universal":"context";nr===null?Ut.use===null&&jt.error("Tag could be omitted only for .use()"):Ut.use===null&&(tr=this._encodeComposite(nr,Yt,ir,Vt))}return Ut.explicit!==null&&(tr=this._encodeComposite(Ut.explicit,!1,"context",tr)),tr},bt.prototype._encodeChoice=function(Ft,jt){var Lt=this._baseState,Ut=Lt.choice[Ft.type];return Ut||tt(!1,Ft.type+" not found in "+JSON.stringify(Object.keys(Lt.choice))),Ut._encode(Ft.value,jt)},bt.prototype._encodePrimitive=function(Ft,jt){var Lt=this._baseState;if(/str$/.test(Ft))return this._encodeStr(jt,Ft);if(Ft==="objid"&&Lt.args)return this._encodeObjid(jt,Lt.reverseArgs[0],Lt.args[1]);if(Ft==="objid")return this._encodeObjid(jt,null,null);if(Ft==="gentime"||Ft==="utctime")return this._encodeTime(jt,Ft);if(Ft==="null_")return this._encodeNull();if(Ft==="int"||Ft==="enum")return this._encodeInt(jt,Lt.args&&Lt.reverseArgs[0]);if(Ft==="bool")return this._encodeBool(jt);if(Ft==="objDesc")return this._encodeStr(jt,Ft);throw new Error("Unsupported tag: "+Ft)},bt.prototype._isNumstr=function(Ft){return/^[0-9 ]*$/.test(Ft)},bt.prototype._isPrintstr=function(Ft){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(Ft)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(a){var s=a;s.Reporter=requireReporter().Reporter,s.DecoderBuffer=requireBuffer().DecoderBuffer,s.EncoderBuffer=requireBuffer().EncoderBuffer,s.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(a){var s=requireConstants();a.tagClass={0:"universal",1:"application",2:"context",3:"private"},a.tagClassByName=s._reverse(a.tagClass),a.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},a.tagByName=s._reverse(a.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(a){var s=a;s._reverse=function(tt){var at={};return Object.keys(tt).forEach(function(ct){(ct|0)==ct&&(ct=ct|0);var ut=tt[ct];at[ut]=ct}),at},s.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var a=requireInherits_browser(),s=requireAsn1$1(),et=s.base,tt=s.bignum,at=s.constants.der;function ct(Et){this.enc="der",this.name=Et.name,this.entity=Et,this.tree=new ut,this.tree._init(Et.body)}der_1$1=ct,ct.prototype.decode=function(Ft,jt){return Ft instanceof et.DecoderBuffer||(Ft=new et.DecoderBuffer(Ft,jt)),this.tree._decode(Ft,jt)};function ut(Et){et.Node.call(this,"der",Et)}a(ut,et.Node),ut.prototype._peekTag=function(Ft,jt,Lt){if(Ft.isEmpty())return!1;var Ut=Ft.save(),Vt=bt(Ft,'Failed to peek tag: "'+jt+'"');return Ft.isError(Vt)?Vt:(Ft.restore(Ut),Vt.tag===jt||Vt.tagStr===jt||Vt.tagStr+"of"===jt||Lt)},ut.prototype._decodeTag=function(Ft,jt,Lt){var Ut=bt(Ft,'Failed to decode tag of "'+jt+'"');if(Ft.isError(Ut))return Ut;var Vt=wt(Ft,Ut.primitive,'Failed to get length of "'+jt+'"');if(Ft.isError(Vt))return Vt;if(!Lt&&Ut.tag!==jt&&Ut.tagStr!==jt&&Ut.tagStr+"of"!==jt)return Ft.error('Failed to match tag: "'+jt+'"');if(Ut.primitive||Vt!==null)return Ft.skip(Vt,'Failed to match body of: "'+jt+'"');var Yt=Ft.save(),er=this._skipUntilEnd(Ft,'Failed to skip indefinite length body: "'+this.tag+'"');return Ft.isError(er)?er:(Vt=Ft.offset-Yt.offset,Ft.restore(Yt),Ft.skip(Vt,'Failed to match body of: "'+jt+'"'))},ut.prototype._skipUntilEnd=function(Ft,jt){for(;;){var Lt=bt(Ft,jt);if(Ft.isError(Lt))return Lt;var Ut=wt(Ft,Lt.primitive,jt);if(Ft.isError(Ut))return Ut;var Vt;if(Lt.primitive||Ut!==null?Vt=Ft.skip(Ut):Vt=this._skipUntilEnd(Ft,jt),Ft.isError(Vt))return Vt;if(Lt.tagStr==="end")break}},ut.prototype._decodeList=function(Ft,jt,Lt,Ut){for(var Vt=[];!Ft.isEmpty();){var Yt=this._peekTag(Ft,"end");if(Ft.isError(Yt))return Yt;var er=Lt.decode(Ft,"der",Ut);if(Ft.isError(er)&&Yt)break;Vt.push(er)}return Vt},ut.prototype._decodeStr=function(Ft,jt){if(jt==="bitstr"){var Lt=Ft.readUInt8();return Ft.isError(Lt)?Lt:{unused:Lt,data:Ft.raw()}}else if(jt==="bmpstr"){var Ut=Ft.raw();if(Ut.length%2===1)return Ft.error("Decoding of string type: bmpstr length mismatch");for(var Vt="",Yt=0;Yt<Ut.length/2;Yt++)Vt+=String.fromCharCode(Ut.readUInt16BE(Yt*2));return Vt}else if(jt==="numstr"){var er=Ft.raw().toString("ascii");return this._isNumstr(er)?er:Ft.error("Decoding of string type: numstr unsupported characters")}else{if(jt==="octstr")return Ft.raw();if(jt==="objDesc")return Ft.raw();if(jt==="printstr"){var tr=Ft.raw().toString("ascii");return this._isPrintstr(tr)?tr:Ft.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(jt)?Ft.raw().toString():Ft.error("Decoding of string type: "+jt+" unsupported")}},ut.prototype._decodeObjid=function(Ft,jt,Lt){for(var Ut,Vt=[],Yt=0;!Ft.isEmpty();){var er=Ft.readUInt8();Yt<<=7,Yt|=er&127,er&128||(Vt.push(Yt),Yt=0)}er&128&&Vt.push(Yt);var tr=Vt[0]/40|0,nr=Vt[0]%40;if(Lt?Ut=Vt:Ut=[tr,nr].concat(Vt.slice(1)),jt){var ir=jt[Ut.join(" ")];ir===void 0&&(ir=jt[Ut.join(".")]),ir!==void 0&&(Ut=ir)}return Ut},ut.prototype._decodeTime=function(Ft,jt){var Lt=Ft.raw().toString();if(jt==="gentime")var Ut=Lt.slice(0,4)|0,Vt=Lt.slice(4,6)|0,Yt=Lt.slice(6,8)|0,er=Lt.slice(8,10)|0,tr=Lt.slice(10,12)|0,nr=Lt.slice(12,14)|0;else if(jt==="utctime"){var Ut=Lt.slice(0,2)|0,Vt=Lt.slice(2,4)|0,Yt=Lt.slice(4,6)|0,er=Lt.slice(6,8)|0,tr=Lt.slice(8,10)|0,nr=Lt.slice(10,12)|0;Ut<70?Ut=2e3+Ut:Ut=1900+Ut}else return Ft.error("Decoding "+jt+" time is not supported yet");return Date.UTC(Ut,Vt-1,Yt,er,tr,nr,0)},ut.prototype._decodeNull=function(Ft){return null},ut.prototype._decodeBool=function(Ft){var jt=Ft.readUInt8();return Ft.isError(jt)?jt:jt!==0},ut.prototype._decodeInt=function(Ft,jt){var Lt=Ft.raw(),Ut=new tt(Lt);return jt&&(Ut=jt[Ut.toString(10)]||Ut),Ut},ut.prototype._use=function(Ft,jt){return typeof Ft=="function"&&(Ft=Ft(jt)),Ft._getDecoder("der").tree};function bt(Et,Ft){var jt=Et.readUInt8(Ft);if(Et.isError(jt))return jt;var Lt=at.tagClass[jt>>6],Ut=(jt&32)===0;if((jt&31)===31){var Vt=jt;for(jt=0;(Vt&128)===128;){if(Vt=Et.readUInt8(Ft),Et.isError(Vt))return Vt;jt<<=7,jt|=Vt&127}}else jt&=31;var Yt=at.tag[jt];return{cls:Lt,primitive:Ut,tag:jt,tagStr:Yt}}function wt(Et,Ft,jt){var Lt=Et.readUInt8(jt);if(Et.isError(Lt))return Lt;if(!Ft&&Lt===128)return null;if(!(Lt&128))return Lt;var Ut=Lt&127;if(Ut>4)return Et.error("length octect is too long");Lt=0;for(var Vt=0;Vt<Ut;Vt++){Lt<<=8;var Yt=Et.readUInt8(jt);if(Et.isError(Yt))return Yt;Lt|=Yt}return Lt}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var a=requireInherits_browser(),s=require$$1$3.Buffer,et=requireDer$1();function tt(at){et.call(this,at),this.enc="pem"}return a(tt,et),pem$1=tt,tt.prototype.decode=function(ct,ut){for(var bt=ct.toString().split(/[\r\n]+/g),wt=ut.label.toUpperCase(),Et=/^-----(BEGIN|END) ([^-]+)-----$/,Ft=-1,jt=-1,Lt=0;Lt<bt.length;Lt++){var Ut=bt[Lt].match(Et);if(Ut!==null&&Ut[2]===wt)if(Ft===-1){if(Ut[1]!=="BEGIN")break;Ft=Lt}else{if(Ut[1]!=="END")break;jt=Lt;break}}if(Ft===-1||jt===-1)throw new Error("PEM section not found for: "+wt);var Vt=bt.slice(Ft+1,jt).join("");Vt.replace(/[^a-z0-9\+\/=]+/gi,"");var Yt=new s(Vt,"base64");return et.prototype.decode.call(this,Yt,ut)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(a){var s=a;s.der=requireDer$1(),s.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var a=requireInherits_browser(),s=require$$1$3.Buffer,et=requireAsn1$1(),tt=et.base,at=et.constants.der;function ct(Et){this.enc="der",this.name=Et.name,this.entity=Et,this.tree=new ut,this.tree._init(Et.body)}der_1=ct,ct.prototype.encode=function(Ft,jt){return this.tree._encode(Ft,jt).join()};function ut(Et){tt.Node.call(this,"der",Et)}a(ut,tt.Node),ut.prototype._encodeComposite=function(Ft,jt,Lt,Ut){var Vt=wt(Ft,jt,Lt,this.reporter);if(Ut.length<128){var tr=new s(2);return tr[0]=Vt,tr[1]=Ut.length,this._createEncoderBuffer([tr,Ut])}for(var Yt=1,er=Ut.length;er>=256;er>>=8)Yt++;var tr=new s(2+Yt);tr[0]=Vt,tr[1]=128|Yt;for(var er=1+Yt,nr=Ut.length;nr>0;er--,nr>>=8)tr[er]=nr&255;return this._createEncoderBuffer([tr,Ut])},ut.prototype._encodeStr=function(Ft,jt){if(jt==="bitstr")return this._createEncoderBuffer([Ft.unused|0,Ft.data]);if(jt==="bmpstr"){for(var Lt=new s(Ft.length*2),Ut=0;Ut<Ft.length;Ut++)Lt.writeUInt16BE(Ft.charCodeAt(Ut),Ut*2);return this._createEncoderBuffer(Lt)}else return jt==="numstr"?this._isNumstr(Ft)?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: numstr supports only digits and space"):jt==="printstr"?this._isPrintstr(Ft)?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(jt)?this._createEncoderBuffer(Ft):jt==="objDesc"?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: "+jt+" unsupported")},ut.prototype._encodeObjid=function(Ft,jt,Lt){if(typeof Ft=="string"){if(!jt)return this.reporter.error("string objid given, but no values map found");if(!jt.hasOwnProperty(Ft))return this.reporter.error("objid not found in values map");Ft=jt[Ft].split(/[\s\.]+/g);for(var Ut=0;Ut<Ft.length;Ut++)Ft[Ut]|=0}else if(Array.isArray(Ft)){Ft=Ft.slice();for(var Ut=0;Ut<Ft.length;Ut++)Ft[Ut]|=0}if(!Array.isArray(Ft))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(Ft));if(!Lt){if(Ft[1]>=40)return this.reporter.error("Second objid identifier OOB");Ft.splice(0,2,Ft[0]*40+Ft[1])}for(var Vt=0,Ut=0;Ut<Ft.length;Ut++){var Yt=Ft[Ut];for(Vt++;Yt>=128;Yt>>=7)Vt++}for(var er=new s(Vt),tr=er.length-1,Ut=Ft.length-1;Ut>=0;Ut--){var Yt=Ft[Ut];for(er[tr--]=Yt&127;(Yt>>=7)>0;)er[tr--]=128|Yt&127}return this._createEncoderBuffer(er)};function bt(Et){return Et<10?"0"+Et:Et}ut.prototype._encodeTime=function(Ft,jt){var Lt,Ut=new Date(Ft);return jt==="gentime"?Lt=[bt(Ut.getFullYear()),bt(Ut.getUTCMonth()+1),bt(Ut.getUTCDate()),bt(Ut.getUTCHours()),bt(Ut.getUTCMinutes()),bt(Ut.getUTCSeconds()),"Z"].join(""):jt==="utctime"?Lt=[bt(Ut.getFullYear()%100),bt(Ut.getUTCMonth()+1),bt(Ut.getUTCDate()),bt(Ut.getUTCHours()),bt(Ut.getUTCMinutes()),bt(Ut.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+jt+" time is not supported yet"),this._encodeStr(Lt,"octstr")},ut.prototype._encodeNull=function(){return this._createEncoderBuffer("")},ut.prototype._encodeInt=function(Ft,jt){if(typeof Ft=="string"){if(!jt)return this.reporter.error("String int or enum given, but no values map");if(!jt.hasOwnProperty(Ft))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(Ft));Ft=jt[Ft]}if(typeof Ft!="number"&&!s.isBuffer(Ft)){var Lt=Ft.toArray();!Ft.sign&&Lt[0]&128&&Lt.unshift(0),Ft=new s(Lt)}if(s.isBuffer(Ft)){var Ut=Ft.length;Ft.length===0&&Ut++;var Yt=new s(Ut);return Ft.copy(Yt),Ft.length===0&&(Yt[0]=0),this._createEncoderBuffer(Yt)}if(Ft<128)return this._createEncoderBuffer(Ft);if(Ft<256)return this._createEncoderBuffer([0,Ft]);for(var Ut=1,Vt=Ft;Vt>=256;Vt>>=8)Ut++;for(var Yt=new Array(Ut),Vt=Yt.length-1;Vt>=0;Vt--)Yt[Vt]=Ft&255,Ft>>=8;return Yt[0]&128&&Yt.unshift(0),this._createEncoderBuffer(new s(Yt))},ut.prototype._encodeBool=function(Ft){return this._createEncoderBuffer(Ft?255:0)},ut.prototype._use=function(Ft,jt){return typeof Ft=="function"&&(Ft=Ft(jt)),Ft._getEncoder("der").tree},ut.prototype._skipDefault=function(Ft,jt,Lt){var Ut=this._baseState,Vt;if(Ut.default===null)return!1;var Yt=Ft.join();if(Ut.defaultBuffer===void 0&&(Ut.defaultBuffer=this._encodeValue(Ut.default,jt,Lt).join()),Yt.length!==Ut.defaultBuffer.length)return!1;for(Vt=0;Vt<Yt.length;Vt++)if(Yt[Vt]!==Ut.defaultBuffer[Vt])return!1;return!0};function wt(Et,Ft,jt,Lt){var Ut;if(Et==="seqof"?Et="seq":Et==="setof"&&(Et="set"),at.tagByName.hasOwnProperty(Et))Ut=at.tagByName[Et];else if(typeof Et=="number"&&(Et|0)===Et)Ut=Et;else return Lt.error("Unknown tag: "+Et);return Ut>=31?Lt.error("Multi-octet tag encoding unsupported"):(Ft||(Ut|=32),Ut|=at.tagClassByName[jt||"universal"]<<6,Ut)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var a=requireInherits_browser(),s=requireDer();function et(tt){s.call(this,tt),this.enc="pem"}return a(et,s),pem=et,et.prototype.encode=function(at,ct){for(var ut=s.prototype.encode.call(this,at),bt=ut.toString("base64"),wt=["-----BEGIN "+ct.label+"-----"],Et=0;Et<bt.length;Et+=64)wt.push(bt.slice(Et,Et+64));return wt.push("-----END "+ct.label+"-----"),wt.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(a){var s=a;s.der=requireDer(),s.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(a){var s=a;s.bignum=requireBn(),s.define=requireApi().define,s.base=requireBase(),s.constants=requireConstants(),s.decoders=requireDecoders(),s.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var a=requireAsn1$1(),s=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),et=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),tt=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),at=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(tt),this.key("subjectPublicKey").bitstr())}),ct=a.define("RelativeDistinguishedName",function(){this.setof(et)}),ut=a.define("RDNSequence",function(){this.seqof(ct)}),bt=a.define("Name",function(){this.choice({rdnSequence:this.use(ut)})}),wt=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),Et=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Ft=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(tt),this.key("issuer").use(bt),this.key("validity").use(wt),this.key("subject").use(bt),this.key("subjectPublicKeyInfo").use(at),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Et).optional())}),jt=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Ft),this.key("signatureAlgorithm").use(tt),this.key("signatureValue").bitstr())});return certificate=jt,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var a=requireAsn1$1();asn1$1.certificate=requireCertificate();var s=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=s;var et=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=et;var tt=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),at=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(tt),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=at;var ct=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(tt),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=ct;var ut=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=ut;var bt=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=bt,asn1$1.DSAparam=a.define("DSAparam",function(){this.int()});var wt=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Et=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(wt),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Et,asn1$1.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,et=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,tt=requireEvp_bytestokey(),at=requireBrowser$6(),ct=requireSafeBuffer$1().Buffer;return fixProc=function(ut,bt){var wt=ut.toString(),Et=wt.match(a),Ft;if(Et){var Lt="aes"+Et[1],Ut=ct.from(Et[2],"hex"),Vt=ct.from(Et[3].replace(/[\r\n]/g,""),"base64"),Yt=tt(bt,Ut.slice(0,8),parseInt(Et[1],10)).key,er=[],tr=at.createDecipheriv(Lt,Yt,Ut);er.push(tr.update(Vt)),er.push(tr.final()),Ft=ct.concat(er)}else{var jt=wt.match(et);Ft=ct.from(jt[2].replace(/[\r\n]/g,""),"base64")}var nr=wt.match(s)[1];return{tag:nr,data:Ft}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var a=requireAsn1(),s=require$$1,et=requireFixProc(),tt=requireBrowser$6(),at=requireBrowser$7(),ct=requireSafeBuffer$1().Buffer;function ut(wt,Et){var Ft=wt.algorithm.decrypt.kde.kdeparams.salt,jt=parseInt(wt.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Lt=s[wt.algorithm.decrypt.cipher.algo.join(".")],Ut=wt.algorithm.decrypt.cipher.iv,Vt=wt.subjectPrivateKey,Yt=parseInt(Lt.split("-")[1],10)/8,er=at.pbkdf2Sync(Et,Ft,jt,Yt,"sha1"),tr=tt.createDecipheriv(Lt,er,Ut),nr=[];return nr.push(tr.update(Vt)),nr.push(tr.final()),ct.concat(nr)}function bt(wt){var Et;typeof wt=="object"&&!ct.isBuffer(wt)&&(Et=wt.passphrase,wt=wt.key),typeof wt=="string"&&(wt=ct.from(wt));var Ft=et(wt,Et),jt=Ft.tag,Lt=Ft.data,Ut,Vt;switch(jt){case"CERTIFICATE":Vt=a.certificate.decode(Lt,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Vt||(Vt=a.PublicKey.decode(Lt,"der")),Ut=Vt.algorithm.algorithm.join("."),Ut){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(Vt.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Vt.subjectPrivateKey=Vt.subjectPublicKey,{type:"ec",data:Vt};case"1.2.840.10040.4.1":return Vt.algorithm.params.pub_key=a.DSAparam.decode(Vt.subjectPublicKey.data,"der"),{type:"dsa",data:Vt.algorithm.params};default:throw new Error("unknown key id "+Ut)}case"ENCRYPTED PRIVATE KEY":Lt=a.EncryptedPrivateKey.decode(Lt,"der"),Lt=ut(Lt,Et);case"PRIVATE KEY":switch(Vt=a.PrivateKey.decode(Lt,"der"),Ut=Vt.algorithm.algorithm.join("."),Ut){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(Vt.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Vt.algorithm.curve,privateKey:a.ECPrivateKey.decode(Vt.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Vt.algorithm.params.priv_key=a.DSAparam.decode(Vt.subjectPrivateKey,"der"),{type:"dsa",params:Vt.algorithm.params};default:throw new Error("unknown key id "+Ut)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(Lt,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(Lt,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(Lt,"der")};case"EC PRIVATE KEY":return Lt=a.ECPrivateKey.decode(Lt,"der"),{curve:Lt.parameters.value,privateKey:Lt.privateKey};default:throw new Error("unknown key type "+jt)}}return bt.signature=a.signature,parseAsn1=bt,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var a=requireSafeBuffer$1().Buffer,s=requireBrowser$8(),et=requireBrowserifyRsa(),tt=requireElliptic().ec,at=bnExports,ct=requireParseAsn1(),ut=require$$4,bt=1;function wt(tr,nr,ir,lr,pr){var yr=ct(nr);if(yr.curve){if(lr!=="ecdsa"&&lr!=="ecdsa/rsa")throw new Error("wrong private key type");return Et(tr,yr)}else if(yr.type==="dsa"){if(lr!=="dsa")throw new Error("wrong private key type");return Ft(tr,yr,ir)}if(lr!=="rsa"&&lr!=="ecdsa/rsa")throw new Error("wrong private key type");if(nr.padding!==void 0&&nr.padding!==bt)throw new Error("illegal or unsupported padding mode");tr=a.concat([pr,tr]);for(var br=yr.modulus.byteLength(),xr=[0,1];tr.length+xr.length+1<br;)xr.push(255);xr.push(0);for(var Er=-1;++Er<tr.length;)xr.push(tr[Er]);var $r=et(xr,yr);return $r}function Et(tr,nr){var ir=ut[nr.curve.join(".")];if(!ir)throw new Error("unknown curve "+nr.curve.join("."));var lr=new tt(ir),pr=lr.keyFromPrivate(nr.privateKey),yr=pr.sign(tr);return a.from(yr.toDER())}function Ft(tr,nr,ir){for(var lr=nr.params.priv_key,pr=nr.params.p,yr=nr.params.q,br=nr.params.g,xr=new at(0),Er,$r=Ut(tr,yr).mod(yr),Sr=!1,fr=Lt(lr,yr,tr,ir);Sr===!1;)Er=Yt(yr,fr,ir),xr=er(br,Er,pr,yr),Sr=Er.invm(yr).imul($r.add(lr.mul(xr))).mod(yr),Sr.cmpn(0)===0&&(Sr=!1,xr=new at(0));return jt(xr,Sr)}function jt(tr,nr){tr=tr.toArray(),nr=nr.toArray(),tr[0]&128&&(tr=[0].concat(tr)),nr[0]&128&&(nr=[0].concat(nr));var ir=tr.length+nr.length+4,lr=[48,ir,2,tr.length];return lr=lr.concat(tr,[2,nr.length],nr),a.from(lr)}function Lt(tr,nr,ir,lr){if(tr=a.from(tr.toArray()),tr.length<nr.byteLength()){var pr=a.alloc(nr.byteLength()-tr.length);tr=a.concat([pr,tr])}var yr=ir.length,br=Vt(ir,nr),xr=a.alloc(yr);xr.fill(1);var Er=a.alloc(yr);return Er=s(lr,Er).update(xr).update(a.from([0])).update(tr).update(br).digest(),xr=s(lr,Er).update(xr).digest(),Er=s(lr,Er).update(xr).update(a.from([1])).update(tr).update(br).digest(),xr=s(lr,Er).update(xr).digest(),{k:Er,v:xr}}function Ut(tr,nr){var ir=new at(tr),lr=(tr.length<<3)-nr.bitLength();return lr>0&&ir.ishrn(lr),ir}function Vt(tr,nr){tr=Ut(tr,nr),tr=tr.mod(nr);var ir=a.from(tr.toArray());if(ir.length<nr.byteLength()){var lr=a.alloc(nr.byteLength()-ir.length);ir=a.concat([lr,ir])}return ir}function Yt(tr,nr,ir){var lr,pr;do{for(lr=a.alloc(0);lr.length*8<tr.bitLength();)nr.v=s(ir,nr.k).update(nr.v).digest(),lr=a.concat([lr,nr.v]);pr=Ut(lr,tr),nr.k=s(ir,nr.k).update(nr.v).update(a.from([0])).digest(),nr.v=s(ir,nr.k).update(nr.v).digest()}while(pr.cmp(tr)!==-1);return pr}function er(tr,nr,ir,lr){return tr.toRed(at.mont(ir)).redPow(nr).fromRed().mod(lr)}return sign.exports=wt,sign.exports.getKey=Lt,sign.exports.makeKey=Yt,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var a=requireSafeBuffer$1().Buffer,s=bnExports,et=requireElliptic().ec,tt=requireParseAsn1(),at=require$$4;function ct(Et,Ft,jt,Lt,Ut){var Vt=tt(jt);if(Vt.type==="ec"){if(Lt!=="ecdsa"&&Lt!=="ecdsa/rsa")throw new Error("wrong public key type");return ut(Et,Ft,Vt)}else if(Vt.type==="dsa"){if(Lt!=="dsa")throw new Error("wrong public key type");return bt(Et,Ft,Vt)}if(Lt!=="rsa"&&Lt!=="ecdsa/rsa")throw new Error("wrong public key type");Ft=a.concat([Ut,Ft]);for(var Yt=Vt.modulus.byteLength(),er=[1],tr=0;Ft.length+er.length+2<Yt;)er.push(255),tr+=1;er.push(0);for(var nr=-1;++nr<Ft.length;)er.push(Ft[nr]);er=a.from(er);var ir=s.mont(Vt.modulus);Et=new s(Et).toRed(ir),Et=Et.redPow(new s(Vt.publicExponent)),Et=a.from(Et.fromRed().toArray());var lr=tr<8?1:0;for(Yt=Math.min(Et.length,er.length),Et.length!==er.length&&(lr=1),nr=-1;++nr<Yt;)lr|=Et[nr]^er[nr];return lr===0}function ut(Et,Ft,jt){var Lt=at[jt.data.algorithm.curve.join(".")];if(!Lt)throw new Error("unknown curve "+jt.data.algorithm.curve.join("."));var Ut=new et(Lt),Vt=jt.data.subjectPrivateKey.data;return Ut.verify(Ft,Et,Vt)}function bt(Et,Ft,jt){var Lt=jt.data.p,Ut=jt.data.q,Vt=jt.data.g,Yt=jt.data.pub_key,er=tt.signature.decode(Et,"der"),tr=er.s,nr=er.r;wt(tr,Ut),wt(nr,Ut);var ir=s.mont(Lt),lr=tr.invm(Ut),pr=Vt.toRed(ir).redPow(new s(Ft).mul(lr).mod(Ut)).fromRed().mul(Yt.toRed(ir).redPow(nr.mul(lr).mod(Ut)).fromRed()).mod(Lt).mod(Ut);return pr.cmp(nr)===0}function wt(Et,Ft){if(Et.cmpn(0)<=0)throw new Error("invalid sig");if(Et.cmp(Ft)>=0)throw new Error("invalid sig")}return verify_1=ct,verify_1}var browser$5,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$5;hasRequiredBrowser$3=1;var a=requireSafeBuffer$1().Buffer,s=requireBrowser$9(),et=requireReadableBrowser(),tt=requireInherits_browser(),at=requireSign(),ct=requireVerify(),ut=require$$6;Object.keys(ut).forEach(function(jt){ut[jt].id=a.from(ut[jt].id,"hex"),ut[jt.toLowerCase()]=ut[jt]});function bt(jt){et.Writable.call(this);var Lt=ut[jt];if(!Lt)throw new Error("Unknown message digest");this._hashType=Lt.hash,this._hash=s(Lt.hash),this._tag=Lt.id,this._signType=Lt.sign}tt(bt,et.Writable),bt.prototype._write=function(Lt,Ut,Vt){this._hash.update(Lt),Vt()},bt.prototype.update=function(Lt,Ut){return this._hash.update(typeof Lt=="string"?a.from(Lt,Ut):Lt),this},bt.prototype.sign=function(Lt,Ut){this.end();var Vt=this._hash.digest(),Yt=at(Vt,Lt,this._hashType,this._signType,this._tag);return Ut?Yt.toString(Ut):Yt};function wt(jt){et.Writable.call(this);var Lt=ut[jt];if(!Lt)throw new Error("Unknown message digest");this._hash=s(Lt.hash),this._tag=Lt.id,this._signType=Lt.sign}tt(wt,et.Writable),wt.prototype._write=function(Lt,Ut,Vt){this._hash.update(Lt),Vt()},wt.prototype.update=function(Lt,Ut){return this._hash.update(typeof Lt=="string"?a.from(Lt,Ut):Lt),this},wt.prototype.verify=function(Lt,Ut,Vt){var Yt=typeof Ut=="string"?a.from(Ut,Vt):Ut;this.end();var er=this._hash.digest();return ct(Yt,er,Lt,this._signType,this._tag)};function Et(jt){return new bt(jt)}function Ft(jt){return new wt(jt)}return browser$5={Sign:Et,Verify:Ft,createSign:Et,createVerify:Ft},browser$5}var browser$4,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var a=requireElliptic(),s=requireBn();browser$4=function(ut){return new tt(ut)};var et={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};et.p224=et.secp224r1,et.p256=et.secp256r1=et.prime256v1,et.p192=et.secp192r1=et.prime192v1,et.p384=et.secp384r1,et.p521=et.secp521r1;function tt(ct){this.curveType=et[ct],this.curveType||(this.curveType={name:ct}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}tt.prototype.generateKeys=function(ct,ut){return this.keys=this.curve.genKeyPair(),this.getPublicKey(ct,ut)},tt.prototype.computeSecret=function(ct,ut,bt){ut=ut||"utf8",Buffer$1.isBuffer(ct)||(ct=new Buffer$1(ct,ut));var wt=this.curve.keyFromPublic(ct).getPublic(),Et=wt.mul(this.keys.getPrivate()).getX();return at(Et,bt,this.curveType.byteLength)},tt.prototype.getPublicKey=function(ct,ut){var bt=this.keys.getPublic(ut==="compressed",!0);return ut==="hybrid"&&(bt[bt.length-1]%2?bt[0]=7:bt[0]=6),at(bt,ct)},tt.prototype.getPrivateKey=function(ct){return at(this.keys.getPrivate(),ct)},tt.prototype.setPublicKey=function(ct,ut){return ut=ut||"utf8",Buffer$1.isBuffer(ct)||(ct=new Buffer$1(ct,ut)),this.keys._importPublic(ct),this},tt.prototype.setPrivateKey=function(ct,ut){ut=ut||"utf8",Buffer$1.isBuffer(ct)||(ct=new Buffer$1(ct,ut));var bt=new s(ct);return bt=bt.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(bt),this};function at(ct,ut,bt){Array.isArray(ct)||(ct=ct.toArray());var wt=new Buffer$1(ct);if(bt&&wt.length<bt){var Et=new Buffer$1(bt-wt.length);Et.fill(0),wt=Buffer$1.concat([Et,wt])}return ut?wt.toString(ut):wt}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var a=requireBrowser$9(),s=requireSafeBuffer$1().Buffer;mgf=function(tt,at){for(var ct=s.alloc(0),ut=0,bt;ct.length<at;)bt=et(ut++),ct=s.concat([ct,a("sha1").update(tt).update(bt).digest()]);return ct.slice(0,at)};function et(tt){var at=s.allocUnsafe(4);return at.writeUInt32BE(tt,0),at}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(s,et){for(var tt=s.length,at=-1;++at<tt;)s[at]^=et[at];return s}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var a=requireBn(),s=requireSafeBuffer$1().Buffer;function et(tt,at){return s.from(tt.toRed(a.mont(at.modulus)).redPow(new a(at.publicExponent)).fromRed().toArray())}return withPublic_1=et,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var a=requireParseAsn1(),s=requireBrowser$b(),et=requireBrowser$9(),tt=requireMgf(),at=requireXor(),ct=requireBn(),ut=requireWithPublic(),bt=requireBrowserifyRsa(),wt=requireSafeBuffer$1().Buffer;publicEncrypt=function(Ut,Vt,Yt){var er;Ut.padding?er=Ut.padding:Yt?er=1:er=4;var tr=a(Ut),nr;if(er===4)nr=Et(tr,Vt);else if(er===1)nr=Ft(tr,Vt,Yt);else if(er===3){if(nr=new ct(Vt),nr.cmp(tr.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Yt?bt(nr,tr):ut(nr,tr)};function Et(Lt,Ut){var Vt=Lt.modulus.byteLength(),Yt=Ut.length,er=et("sha1").update(wt.alloc(0)).digest(),tr=er.length,nr=2*tr;if(Yt>Vt-nr-2)throw new Error("message too long");var ir=wt.alloc(Vt-Yt-nr-2),lr=Vt-tr-1,pr=s(tr),yr=at(wt.concat([er,ir,wt.alloc(1,1),Ut],lr),tt(pr,lr)),br=at(pr,tt(yr,tr));return new ct(wt.concat([wt.alloc(1),br,yr],Vt))}function Ft(Lt,Ut,Vt){var Yt=Ut.length,er=Lt.modulus.byteLength();if(Yt>er-11)throw new Error("message too long");var tr;return Vt?tr=wt.alloc(er-Yt-3,255):tr=jt(er-Yt-3),new ct(wt.concat([wt.from([0,Vt?1:2]),tr,wt.alloc(1),Ut],er))}function jt(Lt){for(var Ut=wt.allocUnsafe(Lt),Vt=0,Yt=s(Lt*2),er=0,tr;Vt<Lt;)er===Yt.length&&(Yt=s(Lt*2),er=0),tr=Yt[er++],tr&&(Ut[Vt++]=tr);return Ut}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var a=requireParseAsn1(),s=requireMgf(),et=requireXor(),tt=requireBn(),at=requireBrowserifyRsa(),ct=requireBrowser$9(),ut=requireWithPublic(),bt=requireSafeBuffer$1().Buffer;privateDecrypt=function(Lt,Ut,Vt){var Yt;Lt.padding?Yt=Lt.padding:Vt?Yt=1:Yt=4;var er=a(Lt),tr=er.modulus.byteLength();if(Ut.length>tr||new tt(Ut).cmp(er.modulus)>=0)throw new Error("decryption error");var nr;Vt?nr=ut(new tt(Ut),er):nr=at(Ut,er);var ir=bt.alloc(tr-nr.length);if(nr=bt.concat([ir,nr],tr),Yt===4)return wt(er,nr);if(Yt===1)return Et(er,nr,Vt);if(Yt===3)return nr;throw new Error("unknown padding")};function wt(jt,Lt){var Ut=jt.modulus.byteLength(),Vt=ct("sha1").update(bt.alloc(0)).digest(),Yt=Vt.length;if(Lt[0]!==0)throw new Error("decryption error");var er=Lt.slice(1,Yt+1),tr=Lt.slice(Yt+1),nr=et(er,s(tr,Yt)),ir=et(tr,s(nr,Ut-Yt-1));if(Ft(Vt,ir.slice(0,Yt)))throw new Error("decryption error");for(var lr=Yt;ir[lr]===0;)lr++;if(ir[lr++]!==1)throw new Error("decryption error");return ir.slice(lr)}function Et(jt,Lt,Ut){for(var Vt=Lt.slice(0,2),Yt=2,er=0;Lt[Yt++]!==0;)if(Yt>=Lt.length){er++;break}var tr=Lt.slice(2,Yt-1);if((Vt.toString("hex")!=="0002"&&!Ut||Vt.toString("hex")!=="0001"&&Ut)&&er++,tr.length<8&&er++,er)throw new Error("decryption error");return Lt.slice(Yt)}function Ft(jt,Lt){jt=bt.from(jt),Lt=bt.from(Lt);var Ut=0,Vt=jt.length;jt.length!==Lt.length&&(Ut++,Vt=Math.min(jt.length,Lt.length));for(var Yt=-1;++Yt<Vt;)Ut+=jt[Yt]^Lt[Yt];return Ut}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(a){a.publicEncrypt=requirePublicEncrypt(),a.privateDecrypt=requirePrivateDecrypt(),a.privateEncrypt=function(et,tt){return a.publicEncrypt(et,tt,!0)},a.publicDecrypt=function(et,tt){return a.privateDecrypt(et,tt,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=requireSafeBuffer$1(),et=requireBrowser$b(),tt=s.Buffer,at=s.kMaxLength,ct=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto,ut=Math.pow(2,32)-1;function bt(Lt,Ut){if(typeof Lt!="number"||Lt!==Lt)throw new TypeError("offset must be a number");if(Lt>ut||Lt<0)throw new TypeError("offset must be a uint32");if(Lt>at||Lt>Ut)throw new RangeError("offset out of range")}function wt(Lt,Ut,Vt){if(typeof Lt!="number"||Lt!==Lt)throw new TypeError("size must be a number");if(Lt>ut||Lt<0)throw new TypeError("size must be a uint32");if(Lt+Ut>Vt||Lt>at)throw new RangeError("buffer too small")}ct&&ct.getRandomValues||!process$1.browser?(browser$2.randomFill=Et,browser$2.randomFillSync=jt):(browser$2.randomFill=a,browser$2.randomFillSync=a);function Et(Lt,Ut,Vt,Yt){if(!tt.isBuffer(Lt)&&!(Lt instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof Ut=="function")Yt=Ut,Ut=0,Vt=Lt.length;else if(typeof Vt=="function")Yt=Vt,Vt=Lt.length-Ut;else if(typeof Yt!="function")throw new TypeError('"cb" argument must be a function');return bt(Ut,Lt.length),wt(Vt,Ut,Lt.length),Ft(Lt,Ut,Vt,Yt)}function Ft(Lt,Ut,Vt,Yt){if(process$1.browser){var er=Lt.buffer,tr=new Uint8Array(er,Ut,Vt);if(ct.getRandomValues(tr),Yt){process$1.nextTick(function(){Yt(null,Lt)});return}return Lt}if(Yt){et(Vt,function(ir,lr){if(ir)return Yt(ir);lr.copy(Lt,Ut),Yt(null,Lt)});return}var nr=et(Vt);return nr.copy(Lt,Ut),Lt}function jt(Lt,Ut,Vt){if(typeof Ut>"u"&&(Ut=0),!tt.isBuffer(Lt)&&!(Lt instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return bt(Ut,Lt.length),Vt===void 0&&(Vt=Lt.length-Ut),wt(Vt,Ut,Lt.length),Ft(Lt,Ut,Vt)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var a=requireAlgos(),s=Object.keys(a),et=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);cryptoBrowserify.getHashes=function(){return et};var tt=requireBrowser$7();cryptoBrowserify.pbkdf2=tt.pbkdf2,cryptoBrowserify.pbkdf2Sync=tt.pbkdf2Sync;var at=requireBrowser$5();cryptoBrowserify.Cipher=at.Cipher,cryptoBrowserify.createCipher=at.createCipher,cryptoBrowserify.Cipheriv=at.Cipheriv,cryptoBrowserify.createCipheriv=at.createCipheriv,cryptoBrowserify.Decipher=at.Decipher,cryptoBrowserify.createDecipher=at.createDecipher,cryptoBrowserify.Decipheriv=at.Decipheriv,cryptoBrowserify.createDecipheriv=at.createDecipheriv,cryptoBrowserify.getCiphers=at.getCiphers,cryptoBrowserify.listCiphers=at.listCiphers;var ct=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=ct.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=ct.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=ct.getDiffieHellman,cryptoBrowserify.createDiffieHellman=ct.createDiffieHellman,cryptoBrowserify.DiffieHellman=ct.DiffieHellman;var ut=requireBrowser$3();cryptoBrowserify.createSign=ut.createSign,cryptoBrowserify.Sign=ut.Sign,cryptoBrowserify.createVerify=ut.createVerify,cryptoBrowserify.Verify=ut.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var bt=requireBrowser$1();cryptoBrowserify.publicEncrypt=bt.publicEncrypt,cryptoBrowserify.privateEncrypt=bt.privateEncrypt,cryptoBrowserify.publicDecrypt=bt.publicDecrypt,cryptoBrowserify.privateDecrypt=bt.privateDecrypt;var wt=requireBrowser();return cryptoBrowserify.randomFill=wt.randomFill,cryptoBrowserify.randomFillSync=wt.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(a,s){(function(et,tt){a.exports=tt()})(commonjsGlobal$1,function(){var et=et||function(tt,at){var ct;if(typeof window<"u"&&window.crypto&&(ct=window.crypto),typeof self<"u"&&self.crypto&&(ct=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(ct=globalThis.crypto),!ct&&typeof window<"u"&&window.msCrypto&&(ct=window.msCrypto),!ct&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(ct=commonjsGlobal$1.crypto),!ct&&typeof commonjsRequire=="function")try{ct=requireCryptoBrowserify()}catch{}var ut=function(){if(ct){if(typeof ct.getRandomValues=="function")try{return ct.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof ct.randomBytes=="function")try{return ct.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},bt=Object.create||function(){function nr(){}return function(ir){var lr;return nr.prototype=ir,lr=new nr,nr.prototype=null,lr}}(),wt={},Et=wt.lib={},Ft=Et.Base=function(){return{extend:function(nr){var ir=bt(this);return nr&&ir.mixIn(nr),(!ir.hasOwnProperty("init")||this.init===ir.init)&&(ir.init=function(){ir.$super.init.apply(this,arguments)}),ir.init.prototype=ir,ir.$super=this,ir},create:function(){var nr=this.extend();return nr.init.apply(nr,arguments),nr},init:function(){},mixIn:function(nr){for(var ir in nr)nr.hasOwnProperty(ir)&&(this[ir]=nr[ir]);nr.hasOwnProperty("toString")&&(this.toString=nr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),jt=Et.WordArray=Ft.extend({init:function(nr,ir){nr=this.words=nr||[],ir!=at?this.sigBytes=ir:this.sigBytes=nr.length*4},toString:function(nr){return(nr||Ut).stringify(this)},concat:function(nr){var ir=this.words,lr=nr.words,pr=this.sigBytes,yr=nr.sigBytes;if(this.clamp(),pr%4)for(var br=0;br<yr;br++){var xr=lr[br>>>2]>>>24-br%4*8&255;ir[pr+br>>>2]|=xr<<24-(pr+br)%4*8}else for(var Er=0;Er<yr;Er+=4)ir[pr+Er>>>2]=lr[Er>>>2];return this.sigBytes+=yr,this},clamp:function(){var nr=this.words,ir=this.sigBytes;nr[ir>>>2]&=4294967295<<32-ir%4*8,nr.length=tt.ceil(ir/4)},clone:function(){var nr=Ft.clone.call(this);return nr.words=this.words.slice(0),nr},random:function(nr){for(var ir=[],lr=0;lr<nr;lr+=4)ir.push(ut());return new jt.init(ir,nr)}}),Lt=wt.enc={},Ut=Lt.Hex={stringify:function(nr){for(var ir=nr.words,lr=nr.sigBytes,pr=[],yr=0;yr<lr;yr++){var br=ir[yr>>>2]>>>24-yr%4*8&255;pr.push((br>>>4).toString(16)),pr.push((br&15).toString(16))}return pr.join("")},parse:function(nr){for(var ir=nr.length,lr=[],pr=0;pr<ir;pr+=2)lr[pr>>>3]|=parseInt(nr.substr(pr,2),16)<<24-pr%8*4;return new jt.init(lr,ir/2)}},Vt=Lt.Latin1={stringify:function(nr){for(var ir=nr.words,lr=nr.sigBytes,pr=[],yr=0;yr<lr;yr++){var br=ir[yr>>>2]>>>24-yr%4*8&255;pr.push(String.fromCharCode(br))}return pr.join("")},parse:function(nr){for(var ir=nr.length,lr=[],pr=0;pr<ir;pr++)lr[pr>>>2]|=(nr.charCodeAt(pr)&255)<<24-pr%4*8;return new jt.init(lr,ir)}},Yt=Lt.Utf8={stringify:function(nr){try{return decodeURIComponent(escape(Vt.stringify(nr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(nr){return Vt.parse(unescape(encodeURIComponent(nr)))}},er=Et.BufferedBlockAlgorithm=Ft.extend({reset:function(){this._data=new jt.init,this._nDataBytes=0},_append:function(nr){typeof nr=="string"&&(nr=Yt.parse(nr)),this._data.concat(nr),this._nDataBytes+=nr.sigBytes},_process:function(nr){var ir,lr=this._data,pr=lr.words,yr=lr.sigBytes,br=this.blockSize,xr=br*4,Er=yr/xr;nr?Er=tt.ceil(Er):Er=tt.max((Er|0)-this._minBufferSize,0);var $r=Er*br,Sr=tt.min($r*4,yr);if($r){for(var fr=0;fr<$r;fr+=br)this._doProcessBlock(pr,fr);ir=pr.splice(0,$r),lr.sigBytes-=Sr}return new jt.init(ir,Sr)},clone:function(){var nr=Ft.clone.call(this);return nr._data=this._data.clone(),nr},_minBufferSize:0});Et.Hasher=er.extend({cfg:Ft.extend(),init:function(nr){this.cfg=this.cfg.extend(nr),this.reset()},reset:function(){er.reset.call(this),this._doReset()},update:function(nr){return this._append(nr),this._process(),this},finalize:function(nr){nr&&this._append(nr);var ir=this._doFinalize();return ir},blockSize:16,_createHelper:function(nr){return function(ir,lr){return new nr.init(lr).finalize(ir)}},_createHmacHelper:function(nr){return function(ir,lr){return new tr.HMAC.init(nr,lr).finalize(ir)}}});var tr=wt.algo={};return wt}(Math);return et})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(tt){var at=et,ct=at.lib,ut=ct.Base,bt=ct.WordArray,wt=at.x64={};wt.Word=ut.extend({init:function(Et,Ft){this.high=Et,this.low=Ft}}),wt.WordArray=ut.extend({init:function(Et,Ft){Et=this.words=Et||[],Ft!=tt?this.sigBytes=Ft:this.sigBytes=Et.length*8},toX32:function(){for(var Et=this.words,Ft=Et.length,jt=[],Lt=0;Lt<Ft;Lt++){var Ut=Et[Lt];jt.push(Ut.high),jt.push(Ut.low)}return bt.create(jt,this.sigBytes)},clone:function(){for(var Et=ut.clone.call(this),Ft=Et.words=this.words.slice(0),jt=Ft.length,Lt=0;Lt<jt;Lt++)Ft[Lt]=Ft[Lt].clone();return Et}})}(),et})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(){if(typeof ArrayBuffer=="function"){var tt=et,at=tt.lib,ct=at.WordArray,ut=ct.init,bt=ct.init=function(wt){if(wt instanceof ArrayBuffer&&(wt=new Uint8Array(wt)),(wt instanceof Int8Array||typeof Uint8ClampedArray<"u"&&wt instanceof Uint8ClampedArray||wt instanceof Int16Array||wt instanceof Uint16Array||wt instanceof Int32Array||wt instanceof Uint32Array||wt instanceof Float32Array||wt instanceof Float64Array)&&(wt=new Uint8Array(wt.buffer,wt.byteOffset,wt.byteLength)),wt instanceof Uint8Array){for(var Et=wt.byteLength,Ft=[],jt=0;jt<Et;jt++)Ft[jt>>>2]|=wt[jt]<<24-jt%4*8;ut.call(this,Ft,Et)}else ut.apply(this,arguments)};bt.prototype=ct}}(),et.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.WordArray,ut=tt.enc;ut.Utf16=ut.Utf16BE={stringify:function(wt){for(var Et=wt.words,Ft=wt.sigBytes,jt=[],Lt=0;Lt<Ft;Lt+=2){var Ut=Et[Lt>>>2]>>>16-Lt%4*8&65535;jt.push(String.fromCharCode(Ut))}return jt.join("")},parse:function(wt){for(var Et=wt.length,Ft=[],jt=0;jt<Et;jt++)Ft[jt>>>1]|=wt.charCodeAt(jt)<<16-jt%2*16;return ct.create(Ft,Et*2)}},ut.Utf16LE={stringify:function(wt){for(var Et=wt.words,Ft=wt.sigBytes,jt=[],Lt=0;Lt<Ft;Lt+=2){var Ut=bt(Et[Lt>>>2]>>>16-Lt%4*8&65535);jt.push(String.fromCharCode(Ut))}return jt.join("")},parse:function(wt){for(var Et=wt.length,Ft=[],jt=0;jt<Et;jt++)Ft[jt>>>1]|=bt(wt.charCodeAt(jt)<<16-jt%2*16);return ct.create(Ft,Et*2)}};function bt(wt){return wt<<8&4278255360|wt>>>8&16711935}}(),et.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.WordArray,ut=tt.enc;ut.Base64={stringify:function(wt){var Et=wt.words,Ft=wt.sigBytes,jt=this._map;wt.clamp();for(var Lt=[],Ut=0;Ut<Ft;Ut+=3)for(var Vt=Et[Ut>>>2]>>>24-Ut%4*8&255,Yt=Et[Ut+1>>>2]>>>24-(Ut+1)%4*8&255,er=Et[Ut+2>>>2]>>>24-(Ut+2)%4*8&255,tr=Vt<<16|Yt<<8|er,nr=0;nr<4&&Ut+nr*.75<Ft;nr++)Lt.push(jt.charAt(tr>>>6*(3-nr)&63));var ir=jt.charAt(64);if(ir)for(;Lt.length%4;)Lt.push(ir);return Lt.join("")},parse:function(wt){var Et=wt.length,Ft=this._map,jt=this._reverseMap;if(!jt){jt=this._reverseMap=[];for(var Lt=0;Lt<Ft.length;Lt++)jt[Ft.charCodeAt(Lt)]=Lt}var Ut=Ft.charAt(64);if(Ut){var Vt=wt.indexOf(Ut);Vt!==-1&&(Et=Vt)}return bt(wt,Et,jt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function bt(wt,Et,Ft){for(var jt=[],Lt=0,Ut=0;Ut<Et;Ut++)if(Ut%4){var Vt=Ft[wt.charCodeAt(Ut-1)]<<Ut%4*2,Yt=Ft[wt.charCodeAt(Ut)]>>>6-Ut%4*2,er=Vt|Yt;jt[Lt>>>2]|=er<<24-Lt%4*8,Lt++}return ct.create(jt,Lt)}}(),et.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.WordArray,ut=tt.enc;ut.Base64url={stringify:function(wt,Et){Et===void 0&&(Et=!0);var Ft=wt.words,jt=wt.sigBytes,Lt=Et?this._safe_map:this._map;wt.clamp();for(var Ut=[],Vt=0;Vt<jt;Vt+=3)for(var Yt=Ft[Vt>>>2]>>>24-Vt%4*8&255,er=Ft[Vt+1>>>2]>>>24-(Vt+1)%4*8&255,tr=Ft[Vt+2>>>2]>>>24-(Vt+2)%4*8&255,nr=Yt<<16|er<<8|tr,ir=0;ir<4&&Vt+ir*.75<jt;ir++)Ut.push(Lt.charAt(nr>>>6*(3-ir)&63));var lr=Lt.charAt(64);if(lr)for(;Ut.length%4;)Ut.push(lr);return Ut.join("")},parse:function(wt,Et){Et===void 0&&(Et=!0);var Ft=wt.length,jt=Et?this._safe_map:this._map,Lt=this._reverseMap;if(!Lt){Lt=this._reverseMap=[];for(var Ut=0;Ut<jt.length;Ut++)Lt[jt.charCodeAt(Ut)]=Ut}var Vt=jt.charAt(64);if(Vt){var Yt=wt.indexOf(Vt);Yt!==-1&&(Ft=Yt)}return bt(wt,Ft,Lt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function bt(wt,Et,Ft){for(var jt=[],Lt=0,Ut=0;Ut<Et;Ut++)if(Ut%4){var Vt=Ft[wt.charCodeAt(Ut-1)]<<Ut%4*2,Yt=Ft[wt.charCodeAt(Ut)]>>>6-Ut%4*2,er=Vt|Yt;jt[Lt>>>2]|=er<<24-Lt%4*8,Lt++}return ct.create(jt,Lt)}}(),et.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(tt){var at=et,ct=at.lib,ut=ct.WordArray,bt=ct.Hasher,wt=at.algo,Et=[];(function(){for(var Yt=0;Yt<64;Yt++)Et[Yt]=tt.abs(tt.sin(Yt+1))*4294967296|0})();var Ft=wt.MD5=bt.extend({_doReset:function(){this._hash=new ut.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Yt,er){for(var tr=0;tr<16;tr++){var nr=er+tr,ir=Yt[nr];Yt[nr]=(ir<<8|ir>>>24)&16711935|(ir<<24|ir>>>8)&4278255360}var lr=this._hash.words,pr=Yt[er+0],yr=Yt[er+1],br=Yt[er+2],xr=Yt[er+3],Er=Yt[er+4],$r=Yt[er+5],Sr=Yt[er+6],fr=Yt[er+7],vr=Yt[er+8],or=Yt[er+9],rr=Yt[er+10],ar=Yt[er+11],sr=Yt[er+12],dr=Yt[er+13],gr=Yt[er+14],ur=Yt[er+15],_r=lr[0],hr=lr[1],cr=lr[2],wr=lr[3];_r=jt(_r,hr,cr,wr,pr,7,Et[0]),wr=jt(wr,_r,hr,cr,yr,12,Et[1]),cr=jt(cr,wr,_r,hr,br,17,Et[2]),hr=jt(hr,cr,wr,_r,xr,22,Et[3]),_r=jt(_r,hr,cr,wr,Er,7,Et[4]),wr=jt(wr,_r,hr,cr,$r,12,Et[5]),cr=jt(cr,wr,_r,hr,Sr,17,Et[6]),hr=jt(hr,cr,wr,_r,fr,22,Et[7]),_r=jt(_r,hr,cr,wr,vr,7,Et[8]),wr=jt(wr,_r,hr,cr,or,12,Et[9]),cr=jt(cr,wr,_r,hr,rr,17,Et[10]),hr=jt(hr,cr,wr,_r,ar,22,Et[11]),_r=jt(_r,hr,cr,wr,sr,7,Et[12]),wr=jt(wr,_r,hr,cr,dr,12,Et[13]),cr=jt(cr,wr,_r,hr,gr,17,Et[14]),hr=jt(hr,cr,wr,_r,ur,22,Et[15]),_r=Lt(_r,hr,cr,wr,yr,5,Et[16]),wr=Lt(wr,_r,hr,cr,Sr,9,Et[17]),cr=Lt(cr,wr,_r,hr,ar,14,Et[18]),hr=Lt(hr,cr,wr,_r,pr,20,Et[19]),_r=Lt(_r,hr,cr,wr,$r,5,Et[20]),wr=Lt(wr,_r,hr,cr,rr,9,Et[21]),cr=Lt(cr,wr,_r,hr,ur,14,Et[22]),hr=Lt(hr,cr,wr,_r,Er,20,Et[23]),_r=Lt(_r,hr,cr,wr,or,5,Et[24]),wr=Lt(wr,_r,hr,cr,gr,9,Et[25]),cr=Lt(cr,wr,_r,hr,xr,14,Et[26]),hr=Lt(hr,cr,wr,_r,vr,20,Et[27]),_r=Lt(_r,hr,cr,wr,dr,5,Et[28]),wr=Lt(wr,_r,hr,cr,br,9,Et[29]),cr=Lt(cr,wr,_r,hr,fr,14,Et[30]),hr=Lt(hr,cr,wr,_r,sr,20,Et[31]),_r=Ut(_r,hr,cr,wr,$r,4,Et[32]),wr=Ut(wr,_r,hr,cr,vr,11,Et[33]),cr=Ut(cr,wr,_r,hr,ar,16,Et[34]),hr=Ut(hr,cr,wr,_r,gr,23,Et[35]),_r=Ut(_r,hr,cr,wr,yr,4,Et[36]),wr=Ut(wr,_r,hr,cr,Er,11,Et[37]),cr=Ut(cr,wr,_r,hr,fr,16,Et[38]),hr=Ut(hr,cr,wr,_r,rr,23,Et[39]),_r=Ut(_r,hr,cr,wr,dr,4,Et[40]),wr=Ut(wr,_r,hr,cr,pr,11,Et[41]),cr=Ut(cr,wr,_r,hr,xr,16,Et[42]),hr=Ut(hr,cr,wr,_r,Sr,23,Et[43]),_r=Ut(_r,hr,cr,wr,or,4,Et[44]),wr=Ut(wr,_r,hr,cr,sr,11,Et[45]),cr=Ut(cr,wr,_r,hr,ur,16,Et[46]),hr=Ut(hr,cr,wr,_r,br,23,Et[47]),_r=Vt(_r,hr,cr,wr,pr,6,Et[48]),wr=Vt(wr,_r,hr,cr,fr,10,Et[49]),cr=Vt(cr,wr,_r,hr,gr,15,Et[50]),hr=Vt(hr,cr,wr,_r,$r,21,Et[51]),_r=Vt(_r,hr,cr,wr,sr,6,Et[52]),wr=Vt(wr,_r,hr,cr,xr,10,Et[53]),cr=Vt(cr,wr,_r,hr,rr,15,Et[54]),hr=Vt(hr,cr,wr,_r,yr,21,Et[55]),_r=Vt(_r,hr,cr,wr,vr,6,Et[56]),wr=Vt(wr,_r,hr,cr,ur,10,Et[57]),cr=Vt(cr,wr,_r,hr,Sr,15,Et[58]),hr=Vt(hr,cr,wr,_r,dr,21,Et[59]),_r=Vt(_r,hr,cr,wr,Er,6,Et[60]),wr=Vt(wr,_r,hr,cr,ar,10,Et[61]),cr=Vt(cr,wr,_r,hr,br,15,Et[62]),hr=Vt(hr,cr,wr,_r,or,21,Et[63]),lr[0]=lr[0]+_r|0,lr[1]=lr[1]+hr|0,lr[2]=lr[2]+cr|0,lr[3]=lr[3]+wr|0},_doFinalize:function(){var Yt=this._data,er=Yt.words,tr=this._nDataBytes*8,nr=Yt.sigBytes*8;er[nr>>>5]|=128<<24-nr%32;var ir=tt.floor(tr/4294967296),lr=tr;er[(nr+64>>>9<<4)+15]=(ir<<8|ir>>>24)&16711935|(ir<<24|ir>>>8)&4278255360,er[(nr+64>>>9<<4)+14]=(lr<<8|lr>>>24)&16711935|(lr<<24|lr>>>8)&4278255360,Yt.sigBytes=(er.length+1)*4,this._process();for(var pr=this._hash,yr=pr.words,br=0;br<4;br++){var xr=yr[br];yr[br]=(xr<<8|xr>>>24)&16711935|(xr<<24|xr>>>8)&4278255360}return pr},clone:function(){var Yt=bt.clone.call(this);return Yt._hash=this._hash.clone(),Yt}});function jt(Yt,er,tr,nr,ir,lr,pr){var yr=Yt+(er&tr|~er&nr)+ir+pr;return(yr<<lr|yr>>>32-lr)+er}function Lt(Yt,er,tr,nr,ir,lr,pr){var yr=Yt+(er&nr|tr&~nr)+ir+pr;return(yr<<lr|yr>>>32-lr)+er}function Ut(Yt,er,tr,nr,ir,lr,pr){var yr=Yt+(er^tr^nr)+ir+pr;return(yr<<lr|yr>>>32-lr)+er}function Vt(Yt,er,tr,nr,ir,lr,pr){var yr=Yt+(tr^(er|~nr))+ir+pr;return(yr<<lr|yr>>>32-lr)+er}at.MD5=bt._createHelper(Ft),at.HmacMD5=bt._createHmacHelper(Ft)}(Math),et.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.WordArray,ut=at.Hasher,bt=tt.algo,wt=[],Et=bt.SHA1=ut.extend({_doReset:function(){this._hash=new ct.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ft,jt){for(var Lt=this._hash.words,Ut=Lt[0],Vt=Lt[1],Yt=Lt[2],er=Lt[3],tr=Lt[4],nr=0;nr<80;nr++){if(nr<16)wt[nr]=Ft[jt+nr]|0;else{var ir=wt[nr-3]^wt[nr-8]^wt[nr-14]^wt[nr-16];wt[nr]=ir<<1|ir>>>31}var lr=(Ut<<5|Ut>>>27)+tr+wt[nr];nr<20?lr+=(Vt&Yt|~Vt&er)+1518500249:nr<40?lr+=(Vt^Yt^er)+1859775393:nr<60?lr+=(Vt&Yt|Vt&er|Yt&er)-1894007588:lr+=(Vt^Yt^er)-899497514,tr=er,er=Yt,Yt=Vt<<30|Vt>>>2,Vt=Ut,Ut=lr}Lt[0]=Lt[0]+Ut|0,Lt[1]=Lt[1]+Vt|0,Lt[2]=Lt[2]+Yt|0,Lt[3]=Lt[3]+er|0,Lt[4]=Lt[4]+tr|0},_doFinalize:function(){var Ft=this._data,jt=Ft.words,Lt=this._nDataBytes*8,Ut=Ft.sigBytes*8;return jt[Ut>>>5]|=128<<24-Ut%32,jt[(Ut+64>>>9<<4)+14]=Math.floor(Lt/4294967296),jt[(Ut+64>>>9<<4)+15]=Lt,Ft.sigBytes=jt.length*4,this._process(),this._hash},clone:function(){var Ft=ut.clone.call(this);return Ft._hash=this._hash.clone(),Ft}});tt.SHA1=ut._createHelper(Et),tt.HmacSHA1=ut._createHmacHelper(Et)}(),et.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){return function(tt){var at=et,ct=at.lib,ut=ct.WordArray,bt=ct.Hasher,wt=at.algo,Et=[],Ft=[];(function(){function Ut(tr){for(var nr=tt.sqrt(tr),ir=2;ir<=nr;ir++)if(!(tr%ir))return!1;return!0}function Vt(tr){return(tr-(tr|0))*4294967296|0}for(var Yt=2,er=0;er<64;)Ut(Yt)&&(er<8&&(Et[er]=Vt(tt.pow(Yt,1/2))),Ft[er]=Vt(tt.pow(Yt,1/3)),er++),Yt++})();var jt=[],Lt=wt.SHA256=bt.extend({_doReset:function(){this._hash=new ut.init(Et.slice(0))},_doProcessBlock:function(Ut,Vt){for(var Yt=this._hash.words,er=Yt[0],tr=Yt[1],nr=Yt[2],ir=Yt[3],lr=Yt[4],pr=Yt[5],yr=Yt[6],br=Yt[7],xr=0;xr<64;xr++){if(xr<16)jt[xr]=Ut[Vt+xr]|0;else{var Er=jt[xr-15],$r=(Er<<25|Er>>>7)^(Er<<14|Er>>>18)^Er>>>3,Sr=jt[xr-2],fr=(Sr<<15|Sr>>>17)^(Sr<<13|Sr>>>19)^Sr>>>10;jt[xr]=$r+jt[xr-7]+fr+jt[xr-16]}var vr=lr&pr^~lr&yr,or=er&tr^er&nr^tr&nr,rr=(er<<30|er>>>2)^(er<<19|er>>>13)^(er<<10|er>>>22),ar=(lr<<26|lr>>>6)^(lr<<21|lr>>>11)^(lr<<7|lr>>>25),sr=br+ar+vr+Ft[xr]+jt[xr],dr=rr+or;br=yr,yr=pr,pr=lr,lr=ir+sr|0,ir=nr,nr=tr,tr=er,er=sr+dr|0}Yt[0]=Yt[0]+er|0,Yt[1]=Yt[1]+tr|0,Yt[2]=Yt[2]+nr|0,Yt[3]=Yt[3]+ir|0,Yt[4]=Yt[4]+lr|0,Yt[5]=Yt[5]+pr|0,Yt[6]=Yt[6]+yr|0,Yt[7]=Yt[7]+br|0},_doFinalize:function(){var Ut=this._data,Vt=Ut.words,Yt=this._nDataBytes*8,er=Ut.sigBytes*8;return Vt[er>>>5]|=128<<24-er%32,Vt[(er+64>>>9<<4)+14]=tt.floor(Yt/4294967296),Vt[(er+64>>>9<<4)+15]=Yt,Ut.sigBytes=Vt.length*4,this._process(),this._hash},clone:function(){var Ut=bt.clone.call(this);return Ut._hash=this._hash.clone(),Ut}});at.SHA256=bt._createHelper(Lt),at.HmacSHA256=bt._createHmacHelper(Lt)}(Math),et.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireSha256())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.WordArray,ut=tt.algo,bt=ut.SHA256,wt=ut.SHA224=bt.extend({_doReset:function(){this._hash=new ct.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Et=bt._doFinalize.call(this);return Et.sigBytes-=4,Et}});tt.SHA224=bt._createHelper(wt),tt.HmacSHA224=bt._createHmacHelper(wt)}(),et.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.Hasher,ut=tt.x64,bt=ut.Word,wt=ut.WordArray,Et=tt.algo;function Ft(){return bt.create.apply(bt,arguments)}var jt=[Ft(1116352408,3609767458),Ft(1899447441,602891725),Ft(3049323471,3964484399),Ft(3921009573,2173295548),Ft(961987163,4081628472),Ft(1508970993,3053834265),Ft(2453635748,2937671579),Ft(2870763221,3664609560),Ft(3624381080,2734883394),Ft(310598401,1164996542),Ft(607225278,1323610764),Ft(1426881987,3590304994),Ft(1925078388,4068182383),Ft(2162078206,991336113),Ft(2614888103,633803317),Ft(3248222580,3479774868),Ft(3835390401,2666613458),Ft(4022224774,944711139),Ft(264347078,2341262773),Ft(604807628,2007800933),Ft(770255983,1495990901),Ft(1249150122,1856431235),Ft(1555081692,3175218132),Ft(1996064986,2198950837),Ft(2554220882,3999719339),Ft(2821834349,766784016),Ft(2952996808,2566594879),Ft(3210313671,3203337956),Ft(3336571891,1034457026),Ft(3584528711,2466948901),Ft(113926993,3758326383),Ft(338241895,168717936),Ft(666307205,1188179964),Ft(773529912,1546045734),Ft(1294757372,1522805485),Ft(1396182291,2643833823),Ft(1695183700,2343527390),Ft(1986661051,1014477480),Ft(2177026350,1206759142),Ft(2456956037,344077627),Ft(2730485921,1290863460),Ft(2820302411,3158454273),Ft(3259730800,3505952657),Ft(3345764771,106217008),Ft(3516065817,3606008344),Ft(3600352804,1432725776),Ft(4094571909,1467031594),Ft(275423344,851169720),Ft(430227734,3100823752),Ft(506948616,1363258195),Ft(659060556,3750685593),Ft(883997877,3785050280),Ft(958139571,3318307427),Ft(1322822218,3812723403),Ft(1537002063,2003034995),Ft(1747873779,3602036899),Ft(1955562222,1575990012),Ft(2024104815,1125592928),Ft(2227730452,2716904306),Ft(2361852424,442776044),Ft(2428436474,593698344),Ft(2756734187,3733110249),Ft(3204031479,2999351573),Ft(3329325298,3815920427),Ft(3391569614,3928383900),Ft(3515267271,566280711),Ft(3940187606,3454069534),Ft(4118630271,4000239992),Ft(116418474,1914138554),Ft(174292421,2731055270),Ft(289380356,3203993006),Ft(460393269,320620315),Ft(685471733,587496836),Ft(852142971,1086792851),Ft(1017036298,365543100),Ft(1126000580,2618297676),Ft(1288033470,3409855158),Ft(1501505948,4234509866),Ft(1607167915,987167468),Ft(1816402316,1246189591)],Lt=[];(function(){for(var Vt=0;Vt<80;Vt++)Lt[Vt]=Ft()})();var Ut=Et.SHA512=ct.extend({_doReset:function(){this._hash=new wt.init([new bt.init(1779033703,4089235720),new bt.init(3144134277,2227873595),new bt.init(1013904242,4271175723),new bt.init(2773480762,1595750129),new bt.init(1359893119,2917565137),new bt.init(2600822924,725511199),new bt.init(528734635,4215389547),new bt.init(1541459225,327033209)])},_doProcessBlock:function(Vt,Yt){for(var er=this._hash.words,tr=er[0],nr=er[1],ir=er[2],lr=er[3],pr=er[4],yr=er[5],br=er[6],xr=er[7],Er=tr.high,$r=tr.low,Sr=nr.high,fr=nr.low,vr=ir.high,or=ir.low,rr=lr.high,ar=lr.low,sr=pr.high,dr=pr.low,gr=yr.high,ur=yr.low,_r=br.high,hr=br.low,cr=xr.high,wr=xr.low,Br=Er,Or=$r,Rr=Sr,Pr=fr,Ur=vr,kr=or,Ar=rr,Cr=ar,Fr=sr,Lr=dr,Hr=gr,Gr=ur,Nr=_r,Vr=hr,jr=cr,Wr=wr,Kr=0;Kr<80;Kr++){var an,Un,Vn=Lt[Kr];if(Kr<16)Un=Vn.high=Vt[Yt+Kr*2]|0,an=Vn.low=Vt[Yt+Kr*2+1]|0;else{var Kn=Lt[Kr-15],oo=Kn.high,Hn=Kn.low,Qn=(oo>>>1|Hn<<31)^(oo>>>8|Hn<<24)^oo>>>7,yo=(Hn>>>1|oo<<31)^(Hn>>>8|oo<<24)^(Hn>>>7|oo<<25),Dr=Lt[Kr-2],Tr=Dr.high,Ir=Dr.low,qr=(Tr>>>19|Ir<<13)^(Tr<<3|Ir>>>29)^Tr>>>6,Qr=(Ir>>>19|Tr<<13)^(Ir<<3|Tr>>>29)^(Ir>>>6|Tr<<26),sn=Lt[Kr-7],nn=sn.high,Xn=sn.low,xo=Lt[Kr-16],no=xo.high,lo=xo.low;an=yo+Xn,Un=Qn+nn+(an>>>0<yo>>>0?1:0),an=an+Qr,Un=Un+qr+(an>>>0<Qr>>>0?1:0),an=an+lo,Un=Un+no+(an>>>0<lo>>>0?1:0),Vn.high=Un,Vn.low=an}var bo=Fr&Hr^~Fr&Nr,mo=Lr&Gr^~Lr&Vr,Eo=Br&Rr^Br&Ur^Rr&Ur,Bo=Or&Pr^Or&kr^Pr&kr,vo=(Br>>>28|Or<<4)^(Br<<30|Or>>>2)^(Br<<25|Or>>>7),Co=(Or>>>28|Br<<4)^(Or<<30|Br>>>2)^(Or<<25|Br>>>7),Mo=(Fr>>>14|Lr<<18)^(Fr>>>18|Lr<<14)^(Fr<<23|Lr>>>9),go=(Lr>>>14|Fr<<18)^(Lr>>>18|Fr<<14)^(Lr<<23|Fr>>>9),$o=jt[Kr],jo=$o.high,Xr=$o.low,Jr=Wr+go,Dn=jr+Mo+(Jr>>>0<Wr>>>0?1:0),Jr=Jr+mo,Dn=Dn+bo+(Jr>>>0<mo>>>0?1:0),Jr=Jr+Xr,Dn=Dn+jo+(Jr>>>0<Xr>>>0?1:0),Jr=Jr+an,Dn=Dn+Un+(Jr>>>0<an>>>0?1:0),Ln=Co+Bo,Gn=vo+Eo+(Ln>>>0<Co>>>0?1:0);jr=Nr,Wr=Vr,Nr=Hr,Vr=Gr,Hr=Fr,Gr=Lr,Lr=Cr+Jr|0,Fr=Ar+Dn+(Lr>>>0<Cr>>>0?1:0)|0,Ar=Ur,Cr=kr,Ur=Rr,kr=Pr,Rr=Br,Pr=Or,Or=Jr+Ln|0,Br=Dn+Gn+(Or>>>0<Jr>>>0?1:0)|0}$r=tr.low=$r+Or,tr.high=Er+Br+($r>>>0<Or>>>0?1:0),fr=nr.low=fr+Pr,nr.high=Sr+Rr+(fr>>>0<Pr>>>0?1:0),or=ir.low=or+kr,ir.high=vr+Ur+(or>>>0<kr>>>0?1:0),ar=lr.low=ar+Cr,lr.high=rr+Ar+(ar>>>0<Cr>>>0?1:0),dr=pr.low=dr+Lr,pr.high=sr+Fr+(dr>>>0<Lr>>>0?1:0),ur=yr.low=ur+Gr,yr.high=gr+Hr+(ur>>>0<Gr>>>0?1:0),hr=br.low=hr+Vr,br.high=_r+Nr+(hr>>>0<Vr>>>0?1:0),wr=xr.low=wr+Wr,xr.high=cr+jr+(wr>>>0<Wr>>>0?1:0)},_doFinalize:function(){var Vt=this._data,Yt=Vt.words,er=this._nDataBytes*8,tr=Vt.sigBytes*8;Yt[tr>>>5]|=128<<24-tr%32,Yt[(tr+128>>>10<<5)+30]=Math.floor(er/4294967296),Yt[(tr+128>>>10<<5)+31]=er,Vt.sigBytes=Yt.length*4,this._process();var nr=this._hash.toX32();return nr},clone:function(){var Vt=ct.clone.call(this);return Vt._hash=this._hash.clone(),Vt},blockSize:1024/32});tt.SHA512=ct._createHelper(Ut),tt.HmacSHA512=ct._createHmacHelper(Ut)}(),et.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.x64,ct=at.Word,ut=at.WordArray,bt=tt.algo,wt=bt.SHA512,Et=bt.SHA384=wt.extend({_doReset:function(){this._hash=new ut.init([new ct.init(3418070365,3238371032),new ct.init(1654270250,914150663),new ct.init(2438529370,812702999),new ct.init(355462360,4144912697),new ct.init(1731405415,4290775857),new ct.init(2394180231,1750603025),new ct.init(3675008525,1694076839),new ct.init(1203062813,3204075428)])},_doFinalize:function(){var Ft=wt._doFinalize.call(this);return Ft.sigBytes-=16,Ft}});tt.SHA384=wt._createHelper(Et),tt.HmacSHA384=wt._createHmacHelper(Et)}(),et.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(et){return function(tt){var at=et,ct=at.lib,ut=ct.WordArray,bt=ct.Hasher,wt=at.x64,Et=wt.Word,Ft=at.algo,jt=[],Lt=[],Ut=[];(function(){for(var er=1,tr=0,nr=0;nr<24;nr++){jt[er+5*tr]=(nr+1)*(nr+2)/2%64;var ir=tr%5,lr=(2*er+3*tr)%5;er=ir,tr=lr}for(var er=0;er<5;er++)for(var tr=0;tr<5;tr++)Lt[er+5*tr]=tr+(2*er+3*tr)%5*5;for(var pr=1,yr=0;yr<24;yr++){for(var br=0,xr=0,Er=0;Er<7;Er++){if(pr&1){var $r=(1<<Er)-1;$r<32?xr^=1<<$r:br^=1<<$r-32}pr&128?pr=pr<<1^113:pr<<=1}Ut[yr]=Et.create(br,xr)}})();var Vt=[];(function(){for(var er=0;er<25;er++)Vt[er]=Et.create()})();var Yt=Ft.SHA3=bt.extend({cfg:bt.cfg.extend({outputLength:512}),_doReset:function(){for(var er=this._state=[],tr=0;tr<25;tr++)er[tr]=new Et.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(er,tr){for(var nr=this._state,ir=this.blockSize/2,lr=0;lr<ir;lr++){var pr=er[tr+2*lr],yr=er[tr+2*lr+1];pr=(pr<<8|pr>>>24)&16711935|(pr<<24|pr>>>8)&4278255360,yr=(yr<<8|yr>>>24)&16711935|(yr<<24|yr>>>8)&4278255360;var br=nr[lr];br.high^=yr,br.low^=pr}for(var xr=0;xr<24;xr++){for(var Er=0;Er<5;Er++){for(var $r=0,Sr=0,fr=0;fr<5;fr++){var br=nr[Er+5*fr];$r^=br.high,Sr^=br.low}var vr=Vt[Er];vr.high=$r,vr.low=Sr}for(var Er=0;Er<5;Er++)for(var or=Vt[(Er+4)%5],rr=Vt[(Er+1)%5],ar=rr.high,sr=rr.low,$r=or.high^(ar<<1|sr>>>31),Sr=or.low^(sr<<1|ar>>>31),fr=0;fr<5;fr++){var br=nr[Er+5*fr];br.high^=$r,br.low^=Sr}for(var dr=1;dr<25;dr++){var $r,Sr,br=nr[dr],gr=br.high,ur=br.low,_r=jt[dr];_r<32?($r=gr<<_r|ur>>>32-_r,Sr=ur<<_r|gr>>>32-_r):($r=ur<<_r-32|gr>>>64-_r,Sr=gr<<_r-32|ur>>>64-_r);var hr=Vt[Lt[dr]];hr.high=$r,hr.low=Sr}var cr=Vt[0],wr=nr[0];cr.high=wr.high,cr.low=wr.low;for(var Er=0;Er<5;Er++)for(var fr=0;fr<5;fr++){var dr=Er+5*fr,br=nr[dr],Br=Vt[dr],Or=Vt[(Er+1)%5+5*fr],Rr=Vt[(Er+2)%5+5*fr];br.high=Br.high^~Or.high&Rr.high,br.low=Br.low^~Or.low&Rr.low}var br=nr[0],Pr=Ut[xr];br.high^=Pr.high,br.low^=Pr.low}},_doFinalize:function(){var er=this._data,tr=er.words;this._nDataBytes*8;var nr=er.sigBytes*8,ir=this.blockSize*32;tr[nr>>>5]|=1<<24-nr%32,tr[(tt.ceil((nr+1)/ir)*ir>>>5)-1]|=128,er.sigBytes=tr.length*4,this._process();for(var lr=this._state,pr=this.cfg.outputLength/8,yr=pr/8,br=[],xr=0;xr<yr;xr++){var Er=lr[xr],$r=Er.high,Sr=Er.low;$r=($r<<8|$r>>>24)&16711935|($r<<24|$r>>>8)&4278255360,Sr=(Sr<<8|Sr>>>24)&16711935|(Sr<<24|Sr>>>8)&4278255360,br.push(Sr),br.push($r)}return new ut.init(br,pr)},clone:function(){for(var er=bt.clone.call(this),tr=er._state=this._state.slice(0),nr=0;nr<25;nr++)tr[nr]=tr[nr].clone();return er}});at.SHA3=bt._createHelper(Yt),at.HmacSHA3=bt._createHmacHelper(Yt)}(Math),et.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(tt){var at=et,ct=at.lib,ut=ct.WordArray,bt=ct.Hasher,wt=at.algo,Et=ut.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Ft=ut.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),jt=ut.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Lt=ut.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ut=ut.create([0,1518500249,1859775393,2400959708,2840853838]),Vt=ut.create([1352829926,1548603684,1836072691,2053994217,0]),Yt=wt.RIPEMD160=bt.extend({_doReset:function(){this._hash=ut.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(yr,br){for(var xr=0;xr<16;xr++){var Er=br+xr,$r=yr[Er];yr[Er]=($r<<8|$r>>>24)&16711935|($r<<24|$r>>>8)&4278255360}var Sr=this._hash.words,fr=Ut.words,vr=Vt.words,or=Et.words,rr=Ft.words,ar=jt.words,sr=Lt.words,dr,gr,ur,_r,hr,cr,wr,Br,Or,Rr;cr=dr=Sr[0],wr=gr=Sr[1],Br=ur=Sr[2],Or=_r=Sr[3],Rr=hr=Sr[4];for(var Pr,xr=0;xr<80;xr+=1)Pr=dr+yr[br+or[xr]]|0,xr<16?Pr+=er(gr,ur,_r)+fr[0]:xr<32?Pr+=tr(gr,ur,_r)+fr[1]:xr<48?Pr+=nr(gr,ur,_r)+fr[2]:xr<64?Pr+=ir(gr,ur,_r)+fr[3]:Pr+=lr(gr,ur,_r)+fr[4],Pr=Pr|0,Pr=pr(Pr,ar[xr]),Pr=Pr+hr|0,dr=hr,hr=_r,_r=pr(ur,10),ur=gr,gr=Pr,Pr=cr+yr[br+rr[xr]]|0,xr<16?Pr+=lr(wr,Br,Or)+vr[0]:xr<32?Pr+=ir(wr,Br,Or)+vr[1]:xr<48?Pr+=nr(wr,Br,Or)+vr[2]:xr<64?Pr+=tr(wr,Br,Or)+vr[3]:Pr+=er(wr,Br,Or)+vr[4],Pr=Pr|0,Pr=pr(Pr,sr[xr]),Pr=Pr+Rr|0,cr=Rr,Rr=Or,Or=pr(Br,10),Br=wr,wr=Pr;Pr=Sr[1]+ur+Or|0,Sr[1]=Sr[2]+_r+Rr|0,Sr[2]=Sr[3]+hr+cr|0,Sr[3]=Sr[4]+dr+wr|0,Sr[4]=Sr[0]+gr+Br|0,Sr[0]=Pr},_doFinalize:function(){var yr=this._data,br=yr.words,xr=this._nDataBytes*8,Er=yr.sigBytes*8;br[Er>>>5]|=128<<24-Er%32,br[(Er+64>>>9<<4)+14]=(xr<<8|xr>>>24)&16711935|(xr<<24|xr>>>8)&4278255360,yr.sigBytes=(br.length+1)*4,this._process();for(var $r=this._hash,Sr=$r.words,fr=0;fr<5;fr++){var vr=Sr[fr];Sr[fr]=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360}return $r},clone:function(){var yr=bt.clone.call(this);return yr._hash=this._hash.clone(),yr}});function er(yr,br,xr){return yr^br^xr}function tr(yr,br,xr){return yr&br|~yr&xr}function nr(yr,br,xr){return(yr|~br)^xr}function ir(yr,br,xr){return yr&xr|br&~xr}function lr(yr,br,xr){return yr^(br|~xr)}function pr(yr,br){return yr<<br|yr>>>32-br}at.RIPEMD160=bt._createHelper(Yt),at.HmacRIPEMD160=bt._createHmacHelper(Yt)}(),et.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(a,s){(function(et,tt){a.exports=tt(requireCore())})(commonjsGlobal$1,function(et){(function(){var tt=et,at=tt.lib,ct=at.Base,ut=tt.enc,bt=ut.Utf8,wt=tt.algo;wt.HMAC=ct.extend({init:function(Et,Ft){Et=this._hasher=new Et.init,typeof Ft=="string"&&(Ft=bt.parse(Ft));var jt=Et.blockSize,Lt=jt*4;Ft.sigBytes>Lt&&(Ft=Et.finalize(Ft)),Ft.clamp();for(var Ut=this._oKey=Ft.clone(),Vt=this._iKey=Ft.clone(),Yt=Ut.words,er=Vt.words,tr=0;tr<jt;tr++)Yt[tr]^=1549556828,er[tr]^=909522486;Ut.sigBytes=Vt.sigBytes=Lt,this.reset()},reset:function(){var Et=this._hasher;Et.reset(),Et.update(this._iKey)},update:function(Et){return this._hasher.update(Et),this},finalize:function(Et){var Ft=this._hasher,jt=Ft.finalize(Et);Ft.reset();var Lt=Ft.finalize(this._oKey.clone().concat(jt));return Lt}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.Base,ut=at.WordArray,bt=tt.algo,wt=bt.SHA256,Et=bt.HMAC,Ft=bt.PBKDF2=ct.extend({cfg:ct.extend({keySize:128/32,hasher:wt,iterations:25e4}),init:function(jt){this.cfg=this.cfg.extend(jt)},compute:function(jt,Lt){for(var Ut=this.cfg,Vt=Et.create(Ut.hasher,jt),Yt=ut.create(),er=ut.create([1]),tr=Yt.words,nr=er.words,ir=Ut.keySize,lr=Ut.iterations;tr.length<ir;){var pr=Vt.update(Lt).finalize(er);Vt.reset();for(var yr=pr.words,br=yr.length,xr=pr,Er=1;Er<lr;Er++){xr=Vt.finalize(xr),Vt.reset();for(var $r=xr.words,Sr=0;Sr<br;Sr++)yr[Sr]^=$r[Sr]}Yt.concat(pr),nr[0]++}return Yt.sigBytes=ir*4,Yt}});tt.PBKDF2=function(jt,Lt,Ut){return Ft.create(Ut).compute(jt,Lt)}}(),et.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.Base,ut=at.WordArray,bt=tt.algo,wt=bt.MD5,Et=bt.EvpKDF=ct.extend({cfg:ct.extend({keySize:128/32,hasher:wt,iterations:1}),init:function(Ft){this.cfg=this.cfg.extend(Ft)},compute:function(Ft,jt){for(var Lt,Ut=this.cfg,Vt=Ut.hasher.create(),Yt=ut.create(),er=Yt.words,tr=Ut.keySize,nr=Ut.iterations;er.length<tr;){Lt&&Vt.update(Lt),Lt=Vt.update(Ft).finalize(jt),Vt.reset();for(var ir=1;ir<nr;ir++)Lt=Vt.finalize(Lt),Vt.reset();Yt.concat(Lt)}return Yt.sigBytes=tr*4,Yt}});tt.EvpKDF=function(Ft,jt,Lt){return Et.create(Lt).compute(Ft,jt)}}(),et.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(et){et.lib.Cipher||function(tt){var at=et,ct=at.lib,ut=ct.Base,bt=ct.WordArray,wt=ct.BufferedBlockAlgorithm,Et=at.enc;Et.Utf8;var Ft=Et.Base64,jt=at.algo,Lt=jt.EvpKDF,Ut=ct.Cipher=wt.extend({cfg:ut.extend(),createEncryptor:function($r,Sr){return this.create(this._ENC_XFORM_MODE,$r,Sr)},createDecryptor:function($r,Sr){return this.create(this._DEC_XFORM_MODE,$r,Sr)},init:function($r,Sr,fr){this.cfg=this.cfg.extend(fr),this._xformMode=$r,this._key=Sr,this.reset()},reset:function(){wt.reset.call(this),this._doReset()},process:function($r){return this._append($r),this._process()},finalize:function($r){$r&&this._append($r);var Sr=this._doFinalize();return Sr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function $r(Sr){return typeof Sr=="string"?Er:yr}return function(Sr){return{encrypt:function(fr,vr,or){return $r(vr).encrypt(Sr,fr,vr,or)},decrypt:function(fr,vr,or){return $r(vr).decrypt(Sr,fr,vr,or)}}}}()});ct.StreamCipher=Ut.extend({_doFinalize:function(){var $r=this._process(!0);return $r},blockSize:1});var Vt=at.mode={},Yt=ct.BlockCipherMode=ut.extend({createEncryptor:function($r,Sr){return this.Encryptor.create($r,Sr)},createDecryptor:function($r,Sr){return this.Decryptor.create($r,Sr)},init:function($r,Sr){this._cipher=$r,this._iv=Sr}}),er=Vt.CBC=function(){var $r=Yt.extend();$r.Encryptor=$r.extend({processBlock:function(fr,vr){var or=this._cipher,rr=or.blockSize;Sr.call(this,fr,vr,rr),or.encryptBlock(fr,vr),this._prevBlock=fr.slice(vr,vr+rr)}}),$r.Decryptor=$r.extend({processBlock:function(fr,vr){var or=this._cipher,rr=or.blockSize,ar=fr.slice(vr,vr+rr);or.decryptBlock(fr,vr),Sr.call(this,fr,vr,rr),this._prevBlock=ar}});function Sr(fr,vr,or){var rr,ar=this._iv;ar?(rr=ar,this._iv=tt):rr=this._prevBlock;for(var sr=0;sr<or;sr++)fr[vr+sr]^=rr[sr]}return $r}(),tr=at.pad={},nr=tr.Pkcs7={pad:function($r,Sr){for(var fr=Sr*4,vr=fr-$r.sigBytes%fr,or=vr<<24|vr<<16|vr<<8|vr,rr=[],ar=0;ar<vr;ar+=4)rr.push(or);var sr=bt.create(rr,vr);$r.concat(sr)},unpad:function($r){var Sr=$r.words[$r.sigBytes-1>>>2]&255;$r.sigBytes-=Sr}};ct.BlockCipher=Ut.extend({cfg:Ut.cfg.extend({mode:er,padding:nr}),reset:function(){var $r;Ut.reset.call(this);var Sr=this.cfg,fr=Sr.iv,vr=Sr.mode;this._xformMode==this._ENC_XFORM_MODE?$r=vr.createEncryptor:($r=vr.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==$r?this._mode.init(this,fr&&fr.words):(this._mode=$r.call(vr,this,fr&&fr.words),this._mode.__creator=$r)},_doProcessBlock:function($r,Sr){this._mode.processBlock($r,Sr)},_doFinalize:function(){var $r,Sr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Sr.pad(this._data,this.blockSize),$r=this._process(!0)):($r=this._process(!0),Sr.unpad($r)),$r},blockSize:128/32});var ir=ct.CipherParams=ut.extend({init:function($r){this.mixIn($r)},toString:function($r){return($r||this.formatter).stringify(this)}}),lr=at.format={},pr=lr.OpenSSL={stringify:function($r){var Sr,fr=$r.ciphertext,vr=$r.salt;return vr?Sr=bt.create([1398893684,1701076831]).concat(vr).concat(fr):Sr=fr,Sr.toString(Ft)},parse:function($r){var Sr,fr=Ft.parse($r),vr=fr.words;return vr[0]==1398893684&&vr[1]==1701076831&&(Sr=bt.create(vr.slice(2,4)),vr.splice(0,4),fr.sigBytes-=16),ir.create({ciphertext:fr,salt:Sr})}},yr=ct.SerializableCipher=ut.extend({cfg:ut.extend({format:pr}),encrypt:function($r,Sr,fr,vr){vr=this.cfg.extend(vr);var or=$r.createEncryptor(fr,vr),rr=or.finalize(Sr),ar=or.cfg;return ir.create({ciphertext:rr,key:fr,iv:ar.iv,algorithm:$r,mode:ar.mode,padding:ar.padding,blockSize:$r.blockSize,formatter:vr.format})},decrypt:function($r,Sr,fr,vr){vr=this.cfg.extend(vr),Sr=this._parse(Sr,vr.format);var or=$r.createDecryptor(fr,vr).finalize(Sr.ciphertext);return or},_parse:function($r,Sr){return typeof $r=="string"?Sr.parse($r,this):$r}}),br=at.kdf={},xr=br.OpenSSL={execute:function($r,Sr,fr,vr,or){if(vr||(vr=bt.random(64/8)),or)var rr=Lt.create({keySize:Sr+fr,hasher:or}).compute($r,vr);else var rr=Lt.create({keySize:Sr+fr}).compute($r,vr);var ar=bt.create(rr.words.slice(Sr),fr*4);return rr.sigBytes=Sr*4,ir.create({key:rr,iv:ar,salt:vr})}},Er=ct.PasswordBasedCipher=yr.extend({cfg:yr.cfg.extend({kdf:xr}),encrypt:function($r,Sr,fr,vr){vr=this.cfg.extend(vr);var or=vr.kdf.execute(fr,$r.keySize,$r.ivSize,vr.salt,vr.hasher);vr.iv=or.iv;var rr=yr.encrypt.call(this,$r,Sr,or.key,vr);return rr.mixIn(or),rr},decrypt:function($r,Sr,fr,vr){vr=this.cfg.extend(vr),Sr=this._parse(Sr,vr.format);var or=vr.kdf.execute(fr,$r.keySize,$r.ivSize,Sr.salt,vr.hasher);vr.iv=or.iv;var rr=yr.decrypt.call(this,$r,Sr,or.key,vr);return rr}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.CFB=function(){var tt=et.lib.BlockCipherMode.extend();tt.Encryptor=tt.extend({processBlock:function(ct,ut){var bt=this._cipher,wt=bt.blockSize;at.call(this,ct,ut,wt,bt),this._prevBlock=ct.slice(ut,ut+wt)}}),tt.Decryptor=tt.extend({processBlock:function(ct,ut){var bt=this._cipher,wt=bt.blockSize,Et=ct.slice(ut,ut+wt);at.call(this,ct,ut,wt,bt),this._prevBlock=Et}});function at(ct,ut,bt,wt){var Et,Ft=this._iv;Ft?(Et=Ft.slice(0),this._iv=void 0):Et=this._prevBlock,wt.encryptBlock(Et,0);for(var jt=0;jt<bt;jt++)ct[ut+jt]^=Et[jt]}return tt}(),et.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.CTR=function(){var tt=et.lib.BlockCipherMode.extend(),at=tt.Encryptor=tt.extend({processBlock:function(ct,ut){var bt=this._cipher,wt=bt.blockSize,Et=this._iv,Ft=this._counter;Et&&(Ft=this._counter=Et.slice(0),this._iv=void 0);var jt=Ft.slice(0);bt.encryptBlock(jt,0),Ft[wt-1]=Ft[wt-1]+1|0;for(var Lt=0;Lt<wt;Lt++)ct[ut+Lt]^=jt[Lt]}});return tt.Decryptor=at,tt}(),et.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return et.mode.CTRGladman=function(){var tt=et.lib.BlockCipherMode.extend();function at(bt){if((bt>>24&255)===255){var wt=bt>>16&255,Et=bt>>8&255,Ft=bt&255;wt===255?(wt=0,Et===255?(Et=0,Ft===255?Ft=0:++Ft):++Et):++wt,bt=0,bt+=wt<<16,bt+=Et<<8,bt+=Ft}else bt+=1<<24;return bt}function ct(bt){return(bt[0]=at(bt[0]))===0&&(bt[1]=at(bt[1])),bt}var ut=tt.Encryptor=tt.extend({processBlock:function(bt,wt){var Et=this._cipher,Ft=Et.blockSize,jt=this._iv,Lt=this._counter;jt&&(Lt=this._counter=jt.slice(0),this._iv=void 0),ct(Lt);var Ut=Lt.slice(0);Et.encryptBlock(Ut,0);for(var Vt=0;Vt<Ft;Vt++)bt[wt+Vt]^=Ut[Vt]}});return tt.Decryptor=ut,tt}(),et.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.OFB=function(){var tt=et.lib.BlockCipherMode.extend(),at=tt.Encryptor=tt.extend({processBlock:function(ct,ut){var bt=this._cipher,wt=bt.blockSize,Et=this._iv,Ft=this._keystream;Et&&(Ft=this._keystream=Et.slice(0),this._iv=void 0),bt.encryptBlock(Ft,0);for(var jt=0;jt<wt;jt++)ct[ut+jt]^=Ft[jt]}});return tt.Decryptor=at,tt}(),et.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.ECB=function(){var tt=et.lib.BlockCipherMode.extend();return tt.Encryptor=tt.extend({processBlock:function(at,ct){this._cipher.encryptBlock(at,ct)}}),tt.Decryptor=tt.extend({processBlock:function(at,ct){this._cipher.decryptBlock(at,ct)}}),tt}(),et.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.AnsiX923={pad:function(tt,at){var ct=tt.sigBytes,ut=at*4,bt=ut-ct%ut,wt=ct+bt-1;tt.clamp(),tt.words[wt>>>2]|=bt<<24-wt%4*8,tt.sigBytes+=bt},unpad:function(tt){var at=tt.words[tt.sigBytes-1>>>2]&255;tt.sigBytes-=at}},et.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.Iso10126={pad:function(tt,at){var ct=at*4,ut=ct-tt.sigBytes%ct;tt.concat(et.lib.WordArray.random(ut-1)).concat(et.lib.WordArray.create([ut<<24],1))},unpad:function(tt){var at=tt.words[tt.sigBytes-1>>>2]&255;tt.sigBytes-=at}},et.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.Iso97971={pad:function(tt,at){tt.concat(et.lib.WordArray.create([2147483648],1)),et.pad.ZeroPadding.pad(tt,at)},unpad:function(tt){et.pad.ZeroPadding.unpad(tt),tt.sigBytes--}},et.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.ZeroPadding={pad:function(tt,at){var ct=at*4;tt.clamp(),tt.sigBytes+=ct-(tt.sigBytes%ct||ct)},unpad:function(tt){for(var at=tt.words,ct=tt.sigBytes-1,ct=tt.sigBytes-1;ct>=0;ct--)if(at[ct>>>2]>>>24-ct%4*8&255){tt.sigBytes=ct+1;break}}},et.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.NoPadding={pad:function(){},unpad:function(){}},et.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(tt){var at=et,ct=at.lib,ut=ct.CipherParams,bt=at.enc,wt=bt.Hex,Et=at.format;Et.Hex={stringify:function(Ft){return Ft.ciphertext.toString(wt)},parse:function(Ft){var jt=wt.parse(Ft);return ut.create({ciphertext:jt})}}}(),et.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.BlockCipher,ut=tt.algo,bt=[],wt=[],Et=[],Ft=[],jt=[],Lt=[],Ut=[],Vt=[],Yt=[],er=[];(function(){for(var ir=[],lr=0;lr<256;lr++)lr<128?ir[lr]=lr<<1:ir[lr]=lr<<1^283;for(var pr=0,yr=0,lr=0;lr<256;lr++){var br=yr^yr<<1^yr<<2^yr<<3^yr<<4;br=br>>>8^br&255^99,bt[pr]=br,wt[br]=pr;var xr=ir[pr],Er=ir[xr],$r=ir[Er],Sr=ir[br]*257^br*16843008;Et[pr]=Sr<<24|Sr>>>8,Ft[pr]=Sr<<16|Sr>>>16,jt[pr]=Sr<<8|Sr>>>24,Lt[pr]=Sr;var Sr=$r*16843009^Er*65537^xr*257^pr*16843008;Ut[br]=Sr<<24|Sr>>>8,Vt[br]=Sr<<16|Sr>>>16,Yt[br]=Sr<<8|Sr>>>24,er[br]=Sr,pr?(pr=xr^ir[ir[ir[$r^xr]]],yr^=ir[ir[yr]]):pr=yr=1}})();var tr=[0,1,2,4,8,16,32,64,128,27,54],nr=ut.AES=ct.extend({_doReset:function(){var ir;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var lr=this._keyPriorReset=this._key,pr=lr.words,yr=lr.sigBytes/4,br=this._nRounds=yr+6,xr=(br+1)*4,Er=this._keySchedule=[],$r=0;$r<xr;$r++)$r<yr?Er[$r]=pr[$r]:(ir=Er[$r-1],$r%yr?yr>6&&$r%yr==4&&(ir=bt[ir>>>24]<<24|bt[ir>>>16&255]<<16|bt[ir>>>8&255]<<8|bt[ir&255]):(ir=ir<<8|ir>>>24,ir=bt[ir>>>24]<<24|bt[ir>>>16&255]<<16|bt[ir>>>8&255]<<8|bt[ir&255],ir^=tr[$r/yr|0]<<24),Er[$r]=Er[$r-yr]^ir);for(var Sr=this._invKeySchedule=[],fr=0;fr<xr;fr++){var $r=xr-fr;if(fr%4)var ir=Er[$r];else var ir=Er[$r-4];fr<4||$r<=4?Sr[fr]=ir:Sr[fr]=Ut[bt[ir>>>24]]^Vt[bt[ir>>>16&255]]^Yt[bt[ir>>>8&255]]^er[bt[ir&255]]}}},encryptBlock:function(ir,lr){this._doCryptBlock(ir,lr,this._keySchedule,Et,Ft,jt,Lt,bt)},decryptBlock:function(ir,lr){var pr=ir[lr+1];ir[lr+1]=ir[lr+3],ir[lr+3]=pr,this._doCryptBlock(ir,lr,this._invKeySchedule,Ut,Vt,Yt,er,wt);var pr=ir[lr+1];ir[lr+1]=ir[lr+3],ir[lr+3]=pr},_doCryptBlock:function(ir,lr,pr,yr,br,xr,Er,$r){for(var Sr=this._nRounds,fr=ir[lr]^pr[0],vr=ir[lr+1]^pr[1],or=ir[lr+2]^pr[2],rr=ir[lr+3]^pr[3],ar=4,sr=1;sr<Sr;sr++){var dr=yr[fr>>>24]^br[vr>>>16&255]^xr[or>>>8&255]^Er[rr&255]^pr[ar++],gr=yr[vr>>>24]^br[or>>>16&255]^xr[rr>>>8&255]^Er[fr&255]^pr[ar++],ur=yr[or>>>24]^br[rr>>>16&255]^xr[fr>>>8&255]^Er[vr&255]^pr[ar++],_r=yr[rr>>>24]^br[fr>>>16&255]^xr[vr>>>8&255]^Er[or&255]^pr[ar++];fr=dr,vr=gr,or=ur,rr=_r}var dr=($r[fr>>>24]<<24|$r[vr>>>16&255]<<16|$r[or>>>8&255]<<8|$r[rr&255])^pr[ar++],gr=($r[vr>>>24]<<24|$r[or>>>16&255]<<16|$r[rr>>>8&255]<<8|$r[fr&255])^pr[ar++],ur=($r[or>>>24]<<24|$r[rr>>>16&255]<<16|$r[fr>>>8&255]<<8|$r[vr&255])^pr[ar++],_r=($r[rr>>>24]<<24|$r[fr>>>16&255]<<16|$r[vr>>>8&255]<<8|$r[or&255])^pr[ar++];ir[lr]=dr,ir[lr+1]=gr,ir[lr+2]=ur,ir[lr+3]=_r},keySize:256/32});tt.AES=ct._createHelper(nr)}(),et.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.WordArray,ut=at.BlockCipher,bt=tt.algo,wt=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Et=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Ft=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],jt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Lt=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ut=bt.DES=ut.extend({_doReset:function(){for(var tr=this._key,nr=tr.words,ir=[],lr=0;lr<56;lr++){var pr=wt[lr]-1;ir[lr]=nr[pr>>>5]>>>31-pr%32&1}for(var yr=this._subKeys=[],br=0;br<16;br++){for(var xr=yr[br]=[],Er=Ft[br],lr=0;lr<24;lr++)xr[lr/6|0]|=ir[(Et[lr]-1+Er)%28]<<31-lr%6,xr[4+(lr/6|0)]|=ir[28+(Et[lr+24]-1+Er)%28]<<31-lr%6;xr[0]=xr[0]<<1|xr[0]>>>31;for(var lr=1;lr<7;lr++)xr[lr]=xr[lr]>>>(lr-1)*4+3;xr[7]=xr[7]<<5|xr[7]>>>27}for(var $r=this._invSubKeys=[],lr=0;lr<16;lr++)$r[lr]=yr[15-lr]},encryptBlock:function(tr,nr){this._doCryptBlock(tr,nr,this._subKeys)},decryptBlock:function(tr,nr){this._doCryptBlock(tr,nr,this._invSubKeys)},_doCryptBlock:function(tr,nr,ir){this._lBlock=tr[nr],this._rBlock=tr[nr+1],Vt.call(this,4,252645135),Vt.call(this,16,65535),Yt.call(this,2,858993459),Yt.call(this,8,16711935),Vt.call(this,1,1431655765);for(var lr=0;lr<16;lr++){for(var pr=ir[lr],yr=this._lBlock,br=this._rBlock,xr=0,Er=0;Er<8;Er++)xr|=jt[Er][((br^pr[Er])&Lt[Er])>>>0];this._lBlock=br,this._rBlock=yr^xr}var $r=this._lBlock;this._lBlock=this._rBlock,this._rBlock=$r,Vt.call(this,1,1431655765),Yt.call(this,8,16711935),Yt.call(this,2,858993459),Vt.call(this,16,65535),Vt.call(this,4,252645135),tr[nr]=this._lBlock,tr[nr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Vt(tr,nr){var ir=(this._lBlock>>>tr^this._rBlock)&nr;this._rBlock^=ir,this._lBlock^=ir<<tr}function Yt(tr,nr){var ir=(this._rBlock>>>tr^this._lBlock)&nr;this._lBlock^=ir,this._rBlock^=ir<<tr}tt.DES=ut._createHelper(Ut);var er=bt.TripleDES=ut.extend({_doReset:function(){var tr=this._key,nr=tr.words;if(nr.length!==2&&nr.length!==4&&nr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var ir=nr.slice(0,2),lr=nr.length<4?nr.slice(0,2):nr.slice(2,4),pr=nr.length<6?nr.slice(0,2):nr.slice(4,6);this._des1=Ut.createEncryptor(ct.create(ir)),this._des2=Ut.createEncryptor(ct.create(lr)),this._des3=Ut.createEncryptor(ct.create(pr))},encryptBlock:function(tr,nr){this._des1.encryptBlock(tr,nr),this._des2.decryptBlock(tr,nr),this._des3.encryptBlock(tr,nr)},decryptBlock:function(tr,nr){this._des3.decryptBlock(tr,nr),this._des2.encryptBlock(tr,nr),this._des1.decryptBlock(tr,nr)},keySize:192/32,ivSize:64/32,blockSize:64/32});tt.TripleDES=ut._createHelper(er)}(),et.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.StreamCipher,ut=tt.algo,bt=ut.RC4=ct.extend({_doReset:function(){for(var Ft=this._key,jt=Ft.words,Lt=Ft.sigBytes,Ut=this._S=[],Vt=0;Vt<256;Vt++)Ut[Vt]=Vt;for(var Vt=0,Yt=0;Vt<256;Vt++){var er=Vt%Lt,tr=jt[er>>>2]>>>24-er%4*8&255;Yt=(Yt+Ut[Vt]+tr)%256;var nr=Ut[Vt];Ut[Vt]=Ut[Yt],Ut[Yt]=nr}this._i=this._j=0},_doProcessBlock:function(Ft,jt){Ft[jt]^=wt.call(this)},keySize:256/32,ivSize:0});function wt(){for(var Ft=this._S,jt=this._i,Lt=this._j,Ut=0,Vt=0;Vt<4;Vt++){jt=(jt+1)%256,Lt=(Lt+Ft[jt])%256;var Yt=Ft[jt];Ft[jt]=Ft[Lt],Ft[Lt]=Yt,Ut|=Ft[(Ft[jt]+Ft[Lt])%256]<<24-Vt*8}return this._i=jt,this._j=Lt,Ut}tt.RC4=ct._createHelper(bt);var Et=ut.RC4Drop=bt.extend({cfg:bt.cfg.extend({drop:192}),_doReset:function(){bt._doReset.call(this);for(var Ft=this.cfg.drop;Ft>0;Ft--)wt.call(this)}});tt.RC4Drop=ct._createHelper(Et)}(),et.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.StreamCipher,ut=tt.algo,bt=[],wt=[],Et=[],Ft=ut.Rabbit=ct.extend({_doReset:function(){for(var Lt=this._key.words,Ut=this.cfg.iv,Vt=0;Vt<4;Vt++)Lt[Vt]=(Lt[Vt]<<8|Lt[Vt]>>>24)&16711935|(Lt[Vt]<<24|Lt[Vt]>>>8)&4278255360;var Yt=this._X=[Lt[0],Lt[3]<<16|Lt[2]>>>16,Lt[1],Lt[0]<<16|Lt[3]>>>16,Lt[2],Lt[1]<<16|Lt[0]>>>16,Lt[3],Lt[2]<<16|Lt[1]>>>16],er=this._C=[Lt[2]<<16|Lt[2]>>>16,Lt[0]&4294901760|Lt[1]&65535,Lt[3]<<16|Lt[3]>>>16,Lt[1]&4294901760|Lt[2]&65535,Lt[0]<<16|Lt[0]>>>16,Lt[2]&4294901760|Lt[3]&65535,Lt[1]<<16|Lt[1]>>>16,Lt[3]&4294901760|Lt[0]&65535];this._b=0;for(var Vt=0;Vt<4;Vt++)jt.call(this);for(var Vt=0;Vt<8;Vt++)er[Vt]^=Yt[Vt+4&7];if(Ut){var tr=Ut.words,nr=tr[0],ir=tr[1],lr=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360,pr=(ir<<8|ir>>>24)&16711935|(ir<<24|ir>>>8)&4278255360,yr=lr>>>16|pr&4294901760,br=pr<<16|lr&65535;er[0]^=lr,er[1]^=yr,er[2]^=pr,er[3]^=br,er[4]^=lr,er[5]^=yr,er[6]^=pr,er[7]^=br;for(var Vt=0;Vt<4;Vt++)jt.call(this)}},_doProcessBlock:function(Lt,Ut){var Vt=this._X;jt.call(this),bt[0]=Vt[0]^Vt[5]>>>16^Vt[3]<<16,bt[1]=Vt[2]^Vt[7]>>>16^Vt[5]<<16,bt[2]=Vt[4]^Vt[1]>>>16^Vt[7]<<16,bt[3]=Vt[6]^Vt[3]>>>16^Vt[1]<<16;for(var Yt=0;Yt<4;Yt++)bt[Yt]=(bt[Yt]<<8|bt[Yt]>>>24)&16711935|(bt[Yt]<<24|bt[Yt]>>>8)&4278255360,Lt[Ut+Yt]^=bt[Yt]},blockSize:128/32,ivSize:64/32});function jt(){for(var Lt=this._X,Ut=this._C,Vt=0;Vt<8;Vt++)wt[Vt]=Ut[Vt];Ut[0]=Ut[0]+1295307597+this._b|0,Ut[1]=Ut[1]+3545052371+(Ut[0]>>>0<wt[0]>>>0?1:0)|0,Ut[2]=Ut[2]+886263092+(Ut[1]>>>0<wt[1]>>>0?1:0)|0,Ut[3]=Ut[3]+1295307597+(Ut[2]>>>0<wt[2]>>>0?1:0)|0,Ut[4]=Ut[4]+3545052371+(Ut[3]>>>0<wt[3]>>>0?1:0)|0,Ut[5]=Ut[5]+886263092+(Ut[4]>>>0<wt[4]>>>0?1:0)|0,Ut[6]=Ut[6]+1295307597+(Ut[5]>>>0<wt[5]>>>0?1:0)|0,Ut[7]=Ut[7]+3545052371+(Ut[6]>>>0<wt[6]>>>0?1:0)|0,this._b=Ut[7]>>>0<wt[7]>>>0?1:0;for(var Vt=0;Vt<8;Vt++){var Yt=Lt[Vt]+Ut[Vt],er=Yt&65535,tr=Yt>>>16,nr=((er*er>>>17)+er*tr>>>15)+tr*tr,ir=((Yt&4294901760)*Yt|0)+((Yt&65535)*Yt|0);Et[Vt]=nr^ir}Lt[0]=Et[0]+(Et[7]<<16|Et[7]>>>16)+(Et[6]<<16|Et[6]>>>16)|0,Lt[1]=Et[1]+(Et[0]<<8|Et[0]>>>24)+Et[7]|0,Lt[2]=Et[2]+(Et[1]<<16|Et[1]>>>16)+(Et[0]<<16|Et[0]>>>16)|0,Lt[3]=Et[3]+(Et[2]<<8|Et[2]>>>24)+Et[1]|0,Lt[4]=Et[4]+(Et[3]<<16|Et[3]>>>16)+(Et[2]<<16|Et[2]>>>16)|0,Lt[5]=Et[5]+(Et[4]<<8|Et[4]>>>24)+Et[3]|0,Lt[6]=Et[6]+(Et[5]<<16|Et[5]>>>16)+(Et[4]<<16|Et[4]>>>16)|0,Lt[7]=Et[7]+(Et[6]<<8|Et[6]>>>24)+Et[5]|0}tt.Rabbit=ct._createHelper(Ft)}(),et.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.StreamCipher,ut=tt.algo,bt=[],wt=[],Et=[],Ft=ut.RabbitLegacy=ct.extend({_doReset:function(){var Lt=this._key.words,Ut=this.cfg.iv,Vt=this._X=[Lt[0],Lt[3]<<16|Lt[2]>>>16,Lt[1],Lt[0]<<16|Lt[3]>>>16,Lt[2],Lt[1]<<16|Lt[0]>>>16,Lt[3],Lt[2]<<16|Lt[1]>>>16],Yt=this._C=[Lt[2]<<16|Lt[2]>>>16,Lt[0]&4294901760|Lt[1]&65535,Lt[3]<<16|Lt[3]>>>16,Lt[1]&4294901760|Lt[2]&65535,Lt[0]<<16|Lt[0]>>>16,Lt[2]&4294901760|Lt[3]&65535,Lt[1]<<16|Lt[1]>>>16,Lt[3]&4294901760|Lt[0]&65535];this._b=0;for(var er=0;er<4;er++)jt.call(this);for(var er=0;er<8;er++)Yt[er]^=Vt[er+4&7];if(Ut){var tr=Ut.words,nr=tr[0],ir=tr[1],lr=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360,pr=(ir<<8|ir>>>24)&16711935|(ir<<24|ir>>>8)&4278255360,yr=lr>>>16|pr&4294901760,br=pr<<16|lr&65535;Yt[0]^=lr,Yt[1]^=yr,Yt[2]^=pr,Yt[3]^=br,Yt[4]^=lr,Yt[5]^=yr,Yt[6]^=pr,Yt[7]^=br;for(var er=0;er<4;er++)jt.call(this)}},_doProcessBlock:function(Lt,Ut){var Vt=this._X;jt.call(this),bt[0]=Vt[0]^Vt[5]>>>16^Vt[3]<<16,bt[1]=Vt[2]^Vt[7]>>>16^Vt[5]<<16,bt[2]=Vt[4]^Vt[1]>>>16^Vt[7]<<16,bt[3]=Vt[6]^Vt[3]>>>16^Vt[1]<<16;for(var Yt=0;Yt<4;Yt++)bt[Yt]=(bt[Yt]<<8|bt[Yt]>>>24)&16711935|(bt[Yt]<<24|bt[Yt]>>>8)&4278255360,Lt[Ut+Yt]^=bt[Yt]},blockSize:128/32,ivSize:64/32});function jt(){for(var Lt=this._X,Ut=this._C,Vt=0;Vt<8;Vt++)wt[Vt]=Ut[Vt];Ut[0]=Ut[0]+1295307597+this._b|0,Ut[1]=Ut[1]+3545052371+(Ut[0]>>>0<wt[0]>>>0?1:0)|0,Ut[2]=Ut[2]+886263092+(Ut[1]>>>0<wt[1]>>>0?1:0)|0,Ut[3]=Ut[3]+1295307597+(Ut[2]>>>0<wt[2]>>>0?1:0)|0,Ut[4]=Ut[4]+3545052371+(Ut[3]>>>0<wt[3]>>>0?1:0)|0,Ut[5]=Ut[5]+886263092+(Ut[4]>>>0<wt[4]>>>0?1:0)|0,Ut[6]=Ut[6]+1295307597+(Ut[5]>>>0<wt[5]>>>0?1:0)|0,Ut[7]=Ut[7]+3545052371+(Ut[6]>>>0<wt[6]>>>0?1:0)|0,this._b=Ut[7]>>>0<wt[7]>>>0?1:0;for(var Vt=0;Vt<8;Vt++){var Yt=Lt[Vt]+Ut[Vt],er=Yt&65535,tr=Yt>>>16,nr=((er*er>>>17)+er*tr>>>15)+tr*tr,ir=((Yt&4294901760)*Yt|0)+((Yt&65535)*Yt|0);Et[Vt]=nr^ir}Lt[0]=Et[0]+(Et[7]<<16|Et[7]>>>16)+(Et[6]<<16|Et[6]>>>16)|0,Lt[1]=Et[1]+(Et[0]<<8|Et[0]>>>24)+Et[7]|0,Lt[2]=Et[2]+(Et[1]<<16|Et[1]>>>16)+(Et[0]<<16|Et[0]>>>16)|0,Lt[3]=Et[3]+(Et[2]<<8|Et[2]>>>24)+Et[1]|0,Lt[4]=Et[4]+(Et[3]<<16|Et[3]>>>16)+(Et[2]<<16|Et[2]>>>16)|0,Lt[5]=Et[5]+(Et[4]<<8|Et[4]>>>24)+Et[3]|0,Lt[6]=Et[6]+(Et[5]<<16|Et[5]>>>16)+(Et[4]<<16|Et[4]>>>16)|0,Lt[7]=Et[7]+(Et[6]<<8|Et[6]>>>24)+Et[5]|0}tt.RabbitLegacy=ct._createHelper(Ft)}(),et.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var tt=et,at=tt.lib,ct=at.BlockCipher,ut=tt.algo;const bt=16,wt=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Et=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Ft={pbox:[],sbox:[]};function jt(er,tr){let nr=tr>>24&255,ir=tr>>16&255,lr=tr>>8&255,pr=tr&255,yr=er.sbox[0][nr]+er.sbox[1][ir];return yr=yr^er.sbox[2][lr],yr=yr+er.sbox[3][pr],yr}function Lt(er,tr,nr){let ir=tr,lr=nr,pr;for(let yr=0;yr<bt;++yr)ir=ir^er.pbox[yr],lr=jt(er,ir)^lr,pr=ir,ir=lr,lr=pr;return pr=ir,ir=lr,lr=pr,lr=lr^er.pbox[bt],ir=ir^er.pbox[bt+1],{left:ir,right:lr}}function Ut(er,tr,nr){let ir=tr,lr=nr,pr;for(let yr=bt+1;yr>1;--yr)ir=ir^er.pbox[yr],lr=jt(er,ir)^lr,pr=ir,ir=lr,lr=pr;return pr=ir,ir=lr,lr=pr,lr=lr^er.pbox[1],ir=ir^er.pbox[0],{left:ir,right:lr}}function Vt(er,tr,nr){for(let br=0;br<4;br++){er.sbox[br]=[];for(let xr=0;xr<256;xr++)er.sbox[br][xr]=Et[br][xr]}let ir=0;for(let br=0;br<bt+2;br++)er.pbox[br]=wt[br]^tr[ir],ir++,ir>=nr&&(ir=0);let lr=0,pr=0,yr=0;for(let br=0;br<bt+2;br+=2)yr=Lt(er,lr,pr),lr=yr.left,pr=yr.right,er.pbox[br]=lr,er.pbox[br+1]=pr;for(let br=0;br<4;br++)for(let xr=0;xr<256;xr+=2)yr=Lt(er,lr,pr),lr=yr.left,pr=yr.right,er.sbox[br][xr]=lr,er.sbox[br][xr+1]=pr;return!0}var Yt=ut.Blowfish=ct.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var er=this._keyPriorReset=this._key,tr=er.words,nr=er.sigBytes/4;Vt(Ft,tr,nr)}},encryptBlock:function(er,tr){var nr=Lt(Ft,er[tr],er[tr+1]);er[tr]=nr.left,er[tr+1]=nr.right},decryptBlock:function(er,tr){var nr=Ut(Ft,er[tr],er[tr+1]);er[tr]=nr.left,er[tr+1]=nr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});tt.Blowfish=ct._createHelper(Yt)}(),et.Blowfish})}(blowfish)),blowfish.exports}(function(a,s){(function(et,tt,at){a.exports=tt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(et){return et})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const crypto$1=getDefaultExportFromCjs$2(cryptoJsExports);var __defProp$2=Object.defineProperty,__defNormalProp$2=(a,s,et)=>s in a?__defProp$2(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__name=(a,s)=>__defProp$2(a,"name",{value:s,configurable:!0}),__publicField=(a,s,et)=>(__defNormalProp$2(a,typeof s!="symbol"?s+"":s,et),et),DEFAULT_HOST="https://pay.coinbase.com",generateOnRampURL=__name(({host:a=DEFAULT_HOST,...s})=>{const et=new URL(a);if(et.pathname="/buy/select-asset",s.destinationWallets&&s.addresses)throw new Error("Only one of destinationWallets or addresses can be provided");if(!s.destinationWallets&&!s.addresses)throw new Error("One of destinationWallets or addresses must be provided");return Object.keys(s).forEach(tt=>{const at=s[tt];at!==void 0&&(["string","number","boolean"].includes(typeof at)?et.searchParams.append(tt,at.toString()):et.searchParams.append(tt,JSON.stringify(at)))}),et.searchParams.sort(),et.toString()},"generateOnRampURL"),EMBEDDED_IFRAME_ID="cbpay-embedded-onramp",createEmbeddedContent=__name(({url:a,width:s="100%",height:et="100%",position:tt="fixed",top:at="0px"})=>{const ct=document.createElement("iframe");return ct.style.border="unset",ct.style.borderWidth="0",ct.style.width=s.toString(),ct.style.height=et.toString(),ct.style.position=tt,ct.style.top=at,ct.id=EMBEDDED_IFRAME_ID,ct.src=a,ct},"createEmbeddedContent"),MessageCodes;(function(a){a.LaunchEmbedded="launch_embedded",a.AppReady="app_ready",a.AppParams="app_params",a.SigninSuccess="signin_success",a.Success="success",a.Exit="exit",a.Event="event",a.Error="error",a.PixelReady="pixel_ready",a.OnAppParamsNonce="on_app_params_nonce"})(MessageCodes||(MessageCodes={}));var onBroadcastedPostMessage=__name((a,{onMessage:s,shouldUnsubscribe:et=!0,allowedOrigin:tt,onValidateOrigin:at=__name(()=>Promise.resolve(!0),"onValidateOrigin")})=>{const ct=__name(ut=>{const{eventName:bt,data:wt}=parsePostMessage(ut.data),Et=!tt||ut.origin===tt;bt===a&&(async()=>Et&&await at(ut.origin)&&(s(wt),et&&window.removeEventListener("message",ct)))()},"onMessage");return window.addEventListener("message",ct),()=>{window.removeEventListener("message",ct)}},"onBroadcastedPostMessage"),broadcastPostMessage=__name((a,s,{allowedOrigin:et="*",data:tt}={})=>{const at=formatPostMessage(s,tt);a.postMessage(at,et)},"broadcastPostMessage"),parsePostMessage=__name(a=>{try{return JSON.parse(a)}catch{return{eventName:a}}},"parsePostMessage"),formatPostMessage=__name((a,s)=>s?JSON.stringify({eventName:a,data:s}):a,"formatPostMessage"),generateOffRampURL=__name(({host:a=DEFAULT_HOST,...s})=>{const et=new URL(a);return et.pathname="/v3/sell/input",Object.keys(s).forEach(tt=>{const at=s[tt];at!==void 0&&(["string","number","boolean"].includes(typeof at)?et.searchParams.append(tt,at.toString()):et.searchParams.append(tt,JSON.stringify(at)))}),et.searchParams.sort(),et.toString()},"generateOffRampURL"),PopupSizes={signin:{width:460,height:730},widget:{width:430,height:600}},CoinbasePixel=class{constructor({host:a=DEFAULT_HOST,appId:s,appParams:et,debug:tt,theme:at}){__publicField(this,"debug"),__publicField(this,"host"),__publicField(this,"appId"),__publicField(this,"eventStreamListeners",{}),__publicField(this,"unsubs",[]),__publicField(this,"appParams"),__publicField(this,"removeEventListener"),__publicField(this,"theme"),__publicField(this,"openExperience",__name(ct=>{var jt,Lt,Ut,Vt;this.log("Attempting to open experience"),this.setupExperienceListeners(ct);const{experienceLoggedIn:ut,experienceLoggedOut:bt,embeddedContentStyles:wt}=ct,Et=bt||ut;let Ft="";if(ct.path==="/v3/sell"?Ft=generateOffRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}):Ft=generateOnRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}),this.log("Opening experience",{experience:Et}),Et==="embedded"){this.log("DEPRECATION WARNING: Two factor authentication does not work in an iframe, so the embedded experience should not be used. It will be removed in a future release");const Yt=__name(()=>{var tr;const er=createEmbeddedContent({url:Ft,...wt});wt!=null&&wt.target?(tr=document.querySelector(wt==null?void 0:wt.target))==null||tr.replaceChildren(er):document.body.appendChild(er)},"openEmbeddedExperience");this.startDirectSignin(Yt)}else Et==="popup"&&((Lt=(jt=window.chrome)==null?void 0:jt.windows)!=null&&Lt.create)?window.chrome.windows.create({url:Ft,setSelfAsOpener:!0,type:"popup",focused:!0,width:PopupSizes.signin.width,height:PopupSizes.signin.height,left:window.screenLeft-PopupSizes.signin.width-10,top:window.screenTop},Yt=>{const er=__name(()=>{Yt!=null&&Yt.id&&(chrome.windows.update(Yt.id,{width:PopupSizes.widget.width,height:PopupSizes.widget.height,left:window.screenLeft-PopupSizes.widget.width-10,top:window.screenTop}),this.removeEventStreamListener("open",er))},"onOpenCallback");this.addEventStreamListener("open",er)}):Et==="new_tab"&&((Vt=(Ut=window.chrome)==null?void 0:Ut.tabs)!=null&&Vt.create)?window.chrome.tabs.create({url:Ft}):openWindow(Ft,Et)},"openExperience")),__publicField(this,"endExperience",__name(()=>{var ct;(ct=document.getElementById(EMBEDDED_IFRAME_ID))==null||ct.remove()},"endExperience")),__publicField(this,"destroy",__name(()=>{this.unsubs.forEach(ct=>ct())},"destroy")),__publicField(this,"setupExperienceListeners",__name(({onSuccess:ct,onExit:ut,onEvent:bt,onRequestedUrl:wt})=>{this.removeEventListener&&this.removeEventListener(),this.removeEventListener=this.onMessage("event",{shouldUnsubscribe:!1,onMessage:Et=>{var jt;const Ft=Et;(jt=this.eventStreamListeners[Ft.eventName])==null||jt.forEach(Lt=>Lt==null?void 0:Lt()),Ft.eventName==="success"&&(ct==null||ct()),Ft.eventName==="exit"&&(ut==null||ut(Ft.error)),Ft.eventName==="request_open_url"&&(wt==null||wt(Ft.url)),bt==null||bt(Et)}})},"setupExperienceListeners")),__publicField(this,"startDirectSignin",__name(ct=>{const ut=new URLSearchParams;ut.set("appId",this.appId),ut.set("type","direct");const bt=`${this.host}/signin?${ut.toString()}`,wt=openWindow(bt,"popup");this.onMessage("signin_success",{onMessage:()=>{wt==null||wt.close(),ct()}})},"startDirectSignin")),__publicField(this,"addEventStreamListener",__name((ct,ut)=>{var bt;this.eventStreamListeners[ct]?(bt=this.eventStreamListeners[ct])==null||bt.push(ut):this.eventStreamListeners[ct]=[ut]},"addEventStreamListener")),__publicField(this,"removeEventStreamListener",__name((ct,ut)=>{var bt;if(this.eventStreamListeners[ct]){const wt=(bt=this.eventStreamListeners[ct])==null?void 0:bt.filter(Et=>Et!==ut);this.eventStreamListeners[ct]=wt}},"removeEventStreamListener")),__publicField(this,"onMessage",__name((...ct)=>{const ut=onBroadcastedPostMessage(ct[0],{allowedOrigin:this.host,...ct[1]});return this.unsubs.push(ut),ut},"onMessage")),__publicField(this,"log",__name((...ct)=>{this.debug&&console.log("[CBPAY]",...ct)},"log")),this.host=a,this.appId=s,this.appParams=et,this.debug=tt||!1,this.theme=at}};__name(CoinbasePixel,"CoinbasePixel");function openWindow(a,s){return window.open(a,"Coinbase",s==="popup"?`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, height=${PopupSizes.signin.height},width=${PopupSizes.signin.width}`:void 0)}__name(openWindow,"openWindow");var widgetRoutes={buy:"/buy",checkout:"/checkout",sell:"/v3/sell"},CBPayInstance=class{constructor(a){if(__publicField(this,"pixel"),__publicField(this,"options"),__publicField(this,"open",__name(()=>{const{widget:s,experienceLoggedIn:et,experienceLoggedOut:tt,embeddedContentStyles:at,onExit:ct,onSuccess:ut,onEvent:bt,onRequestedUrl:wt,closeOnSuccess:Et,closeOnExit:Ft}=this.options;this.pixel.openExperience({path:widgetRoutes[s],experienceLoggedIn:et,experienceLoggedOut:tt,embeddedContentStyles:at,onExit:()=>{ct==null||ct(),Ft&&this.pixel.endExperience()},onSuccess:()=>{ut==null||ut(),Et&&this.pixel.endExperience()},onRequestedUrl:wt,onEvent:bt})},"open")),__publicField(this,"destroy",__name(()=>{this.pixel.destroy()},"destroy")),this.options=a,this.pixel=new CoinbasePixel({...a,appParams:{widget:a.widget,...a.appParams}}),a.target){const s=document.querySelector(a.target);s&&s.addEventListener("click",this.open)}}};__name(CBPayInstance,"CBPayInstance");function broadcastEvent(a,s){broadcastPostMessage(a,"event",{data:s})}__name(broadcastEvent,"broadcastEvent");function CustomToast(a){const{children:s,onClose:et}=a;return jsxRuntimeExports.jsxs(HStack,{w:"440px",bg:"background",border:"2px",borderColor:"border",borderRadius:"12px",p:"16px",position:"relative",gap:"16px",sx:{"@media screen and (max-width: 810px)":{w:"unset",minW:"330px",p:"16px"}},children:[jsxRuntimeExports.jsx(VStack,{w:"100%",alignItems:"start",children:s}),jsxRuntimeExports.jsx(Center,{onClick:et,position:"absolute",right:"16px",top:"16px",children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}const img_nodata_error="/assets/img_nodata@2x-BiWQ6WZn.png";function Notfound$1(){return jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsxs(Flex,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"background",direction:"column",left:"50%",top:"0px",transform:"translateX(-50%)",children:[jsxRuntimeExports.jsx(Text,{fontSize:"20px",mb:"-50px",textColor:"text_caption",children:"Oops..."}),jsxRuntimeExports.jsx(Image$1,{w:"350px",h:"529px",src:img_nodata_error}),jsxRuntimeExports.jsx(Text,{fontSize:{md:"32px",lg:"60px"},textColor:"primary",mt:"-80px",children:"Something Error"}),jsxRuntimeExports.jsx(Button,{mt:"40px",w:"200px",onClick:()=>window.location.reload(),children:"Refresh"})]})})}const MAX_RETRY_COUNT=1;class ErrorBoundary extends React$2.Component{constructor(s){super(s),this.state={showErrorComponent:!1,hasError:!1,retryCount:0}}getRetryCountFromURL(){const s=new URLSearchParams(window.location.search);return parseInt(s.get("retryCount")||"0",10)}updateRetryCountInURL(s){const et=new URLSearchParams(window.location.search);et.set("retryCount",s.toString()),window.history.replaceState(null,"",`${window.location.pathname}?${et.toString()}`)}static getDerivedStateFromError(s){return{hasError:!0,showErrorComponent:!1}}componentDidCatch(s,et){if(console.error("Error caught in Error Boundary: ",s,et),s&&String(s).includes("Failed to fetch dynamically imported module")){const at=this.getRetryCountFromURL();if(at<MAX_RETRY_COUNT){const ct=at+1;this.updateRetryCountInURL(ct),console.log(`Retrying... (${ct}/${MAX_RETRY_COUNT})`),window.location.reload()}else console.error("Max retry count reached. Showing fallback UI."),this.setState({showErrorComponent:!0,hasError:!0})}else this.setState({showErrorComponent:!0,hasError:!0})}render(){return this.state.hasError?this.state.showErrorComponent?jsxRuntimeExports.jsx(Notfound$1,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):this.props.children}}function NavLink(a){const{children:s,link:et,type:tt="reactRouterLink",isActive:at,fontSize:ct,...ut}=a,bt={fontFamily:"Inter",color:at?"text_caption":"text_paragraph",fontSize:ct||"15px",cursor:"pointer",height:"24px",lineHeight:"24px",_hover:{color:"text_caption"}};return tt==="reactRouterLink"?jsxRuntimeExports.jsx(Link,{as:Link$1,to:et,...bt,...ut,children:s}):tt==="_blank"?jsxRuntimeExports.jsx(Link,{href:et,target:"_blank",...bt,...ut,children:s}):jsxRuntimeExports.jsx(Box,{as:"a",...bt,...ut,children:s})}function useTokenPrice(){const{coinPriceObj:a,setPriceObj:s,clearPriceObj:et}=useTokenPriceStore(),tt=async wt=>{try{const Et=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/market_price`,Ft=await fetchGet(Et,{base_symbol_address_pair:wt.map(Lt=>fixCoinType(Lt,!1))});console.log("🚀 ~ file: useRates.ts:8 ~ fetchRates ~ res:",Ft);const jt=Ft.prices;if(jt){const Lt={},Ut=new Date().getTime();jt.forEach(Vt=>{Vt.update_time=Ut,Lt[extractStructTagFromType$1(Vt.base_symbol).full_address]=Vt}),s(Lt)}return jt}catch(Et){return console.log("🚀 ~ file: useRates.ts:21 ~ fetchRates ~ error:",Et),et(wt),null}},at=reactExports.useCallback((wt,Et)=>{if(!wt)return;const Ft=a[extractStructTagFromType$1(wt).full_address];if(Ft&&!(Et&&new Date().getTime()-Ft.update_time>Et))return Ft},[a]),ct=reactExports.useCallback((wt,Et,Ft)=>{const jt=Number(Et)==0||!Ft?"0":Ft;if(Et&&wt&&+Et){const Lt=at(wt);if(Lt)return d$3(Et).mul(Lt.price).toString()}return jt},[a]),ut=reactExports.useCallback((wt,Et,Ft)=>{const jt=Number(Et)==0||!Ft?"0":Ft;if(Et&&wt&&+Et){const Lt=at(wt);if(Lt)return d$3(Et).div(Lt.price).toString()}return jt},[a]);return{getTokenAmountValue:ct,getTokenAmount:ut,getTokenPrice:at,fetchTokenPrices:tt,getPriceKline:async(wt,Et)=>{var Lt;const Ft=wt==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":wt,jt=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/coin/kline?coin_address=${Ft}&interval=day&market=${Et}`;try{const Ut=await fetchGet(jt),Vt=Math.min(...Ut.list.map(Yt=>Number(Yt==null?void 0:Yt.price)));return{price:((Lt=Ut==null?void 0:Ut.list)==null?void 0:Lt.reverse().map(Yt=>({...Yt,value:d$3(Yt==null?void 0:Yt.price).minus(Vt).toString()})))||[],daily_rate:Ut==null?void 0:Ut.daily_rate.replace("%","")}}catch{return{price:[],daily_rate:""}}}}}var freeGlobal=typeof global$1=="object"&&global$1&&global$1.Object===Object&&global$1,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(a){var s=hasOwnProperty$9.call(a,symToStringTag$1),et=a[symToStringTag$1];try{a[symToStringTag$1]=void 0;var tt=!0}catch{}var at=nativeObjectToString$1.call(a);return tt&&(s?a[symToStringTag$1]=et:delete a[symToStringTag$1]),at}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(a){return nativeObjectToString.call(a)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(a){return a==null?a===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(a)?getRawTag(a):objectToString(a)}function isObjectLike(a){return a!=null&&typeof a=="object"}var symbolTag$1="[object Symbol]";function isSymbol(a){return typeof a=="symbol"||isObjectLike(a)&&baseGetTag(a)==symbolTag$1}function arrayMap(a,s){for(var et=-1,tt=a==null?0:a.length,at=Array(tt);++et<tt;)at[et]=s(a[et],et,a);return at}var isArray=Array.isArray,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(a){if(typeof a=="string")return a;if(isArray(a))return arrayMap(a,baseToString)+"";if(isSymbol(a))return symbolToString?symbolToString.call(a):"";var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function isObject$1(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}function identity(a){return a}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(a){if(!isObject$1(a))return!1;var s=baseGetTag(a);return s==funcTag$1||s==genTag||s==asyncTag||s==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var a=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function isMasked(a){return!!maskSrcKey&&maskSrcKey in a}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(a){if(a!=null){try{return funcToString$1.call(a)}catch{}try{return a+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(a){if(!isObject$1(a)||isMasked(a))return!1;var s=isFunction(a)?reIsNative:reIsHostCtor;return s.test(toSource(a))}function getValue$1(a,s){return a==null?void 0:a[s]}function getNative(a,s){var et=getValue$1(a,s);return baseIsNative(et)?et:void 0}var WeakMap$1=getNative(root,"WeakMap"),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(a,s){var et=typeof a;return s=s??MAX_SAFE_INTEGER$1,!!s&&(et=="number"||et!="symbol"&&reIsUint.test(a))&&a>-1&&a%1==0&&a<s}function eq$1(a,s){return a===s||a!==a&&s!==s}var MAX_SAFE_INTEGER=9007199254740991;function isLength(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=MAX_SAFE_INTEGER}function isArrayLike(a){return a!=null&&isLength(a.length)&&!isFunction(a)}var objectProto$8=Object.prototype;function isPrototype(a){var s=a&&a.constructor,et=typeof s=="function"&&s.prototype||objectProto$8;return a===et}function baseTimes(a,s){for(var et=-1,tt=Array(a);++et<a;)tt[et]=s(et);return tt}var argsTag$2="[object Arguments]";function baseIsArguments(a){return isObjectLike(a)&&baseGetTag(a)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(a){return isObjectLike(a)&&hasOwnProperty$7.call(a,"callee")&&!propertyIsEnumerable$1.call(a,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[baseGetTag(a)]}function baseUnary(a){return function(s){return a(s)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var a=freeModule&&freeModule.require&&freeModule.require("util").types;return a||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(a,s){var et=isArray(a),tt=!et&&isArguments(a),at=!et&&!tt&&isBuffer(a),ct=!et&&!tt&&!at&&isTypedArray(a),ut=et||tt||at||ct,bt=ut?baseTimes(a.length,String):[],wt=bt.length;for(var Et in a)(s||hasOwnProperty$6.call(a,Et))&&!(ut&&(Et=="length"||at&&(Et=="offset"||Et=="parent")||ct&&(Et=="buffer"||Et=="byteLength"||Et=="byteOffset")||isIndex(Et,wt)))&&bt.push(Et);return bt}function overArg(a,s){return function(et){return a(s(et))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(a){if(!isPrototype(a))return nativeKeys(a);var s=[];for(var et in Object(a))hasOwnProperty$5.call(a,et)&&et!="constructor"&&s.push(et);return s}function keys(a){return isArrayLike(a)?arrayLikeKeys(a):baseKeys(a)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(a,s){if(isArray(a))return!1;var et=typeof a;return et=="number"||et=="symbol"||et=="boolean"||a==null||isSymbol(a)?!0:reIsPlainProp.test(a)||!reIsDeepProp.test(a)||s!=null&&a in Object(s)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(a){var s=this.__data__;if(nativeCreate){var et=s[a];return et===HASH_UNDEFINED$2?void 0:et}return hasOwnProperty$4.call(s,a)?s[a]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(a){var s=this.__data__;return nativeCreate?s[a]!==void 0:hasOwnProperty$3.call(s,a)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(a,s){var et=this.__data__;return this.size+=this.has(a)?0:1,et[a]=nativeCreate&&s===void 0?HASH_UNDEFINED$1:s,this}function Hash(a){var s=-1,et=a==null?0:a.length;for(this.clear();++s<et;){var tt=a[s];this.set(tt[0],tt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(a,s){for(var et=a.length;et--;)if(eq$1(a[et][0],s))return et;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(a){var s=this.__data__,et=assocIndexOf(s,a);if(et<0)return!1;var tt=s.length-1;return et==tt?s.pop():splice.call(s,et,1),--this.size,!0}function listCacheGet(a){var s=this.__data__,et=assocIndexOf(s,a);return et<0?void 0:s[et][1]}function listCacheHas(a){return assocIndexOf(this.__data__,a)>-1}function listCacheSet(a,s){var et=this.__data__,tt=assocIndexOf(et,a);return tt<0?(++this.size,et.push([a,s])):et[tt][1]=s,this}function ListCache(a){var s=-1,et=a==null?0:a.length;for(this.clear();++s<et;){var tt=a[s];this.set(tt[0],tt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function getMapData(a,s){var et=a.__data__;return isKeyable(s)?et[typeof s=="string"?"string":"hash"]:et.map}function mapCacheDelete(a){var s=getMapData(this,a).delete(a);return this.size-=s?1:0,s}function mapCacheGet(a){return getMapData(this,a).get(a)}function mapCacheHas(a){return getMapData(this,a).has(a)}function mapCacheSet(a,s){var et=getMapData(this,a),tt=et.size;return et.set(a,s),this.size+=et.size==tt?0:1,this}function MapCache(a){var s=-1,et=a==null?0:a.length;for(this.clear();++s<et;){var tt=a[s];this.set(tt[0],tt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var et=function(){var tt=arguments,at=s?s.apply(this,tt):tt[0],ct=et.cache;if(ct.has(at))return ct.get(at);var ut=a.apply(this,tt);return et.cache=ct.set(at,ut)||ct,ut};return et.cache=new(memoize.Cache||MapCache),et}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(a){var s=memoize(a,function(tt){return et.size===MAX_MEMOIZE_SIZE&&et.clear(),tt}),et=s.cache;return s}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(rePropName,function(et,tt,at,ct){s.push(at?ct.replace(reEscapeChar,"$1"):tt||et)}),s});function toString(a){return a==null?"":baseToString(a)}function castPath(a,s){return isArray(a)?a:isKey(a,s)?[a]:stringToPath(toString(a))}function toKey(a){if(typeof a=="string"||isSymbol(a))return a;var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}function baseGet(a,s){s=castPath(s,a);for(var et=0,tt=s.length;a!=null&&et<tt;)a=a[toKey(s[et++])];return et&&et==tt?a:void 0}function get(a,s,et){var tt=a==null?void 0:baseGet(a,s);return tt===void 0?et:tt}function arrayPush(a,s){for(var et=-1,tt=s.length,at=a.length;++et<tt;)a[at+et]=s[et];return a}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(a){var s=this.__data__,et=s.delete(a);return this.size=s.size,et}function stackGet(a){return this.__data__.get(a)}function stackHas(a){return this.__data__.has(a)}var LARGE_ARRAY_SIZE=200;function stackSet(a,s){var et=this.__data__;if(et instanceof ListCache){var tt=et.__data__;if(!Map$1||tt.length<LARGE_ARRAY_SIZE-1)return tt.push([a,s]),this.size=++et.size,this;et=this.__data__=new MapCache(tt)}return et.set(a,s),this.size=et.size,this}function Stack(a){var s=this.__data__=new ListCache(a);this.size=s.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(a,s){for(var et=-1,tt=a==null?0:a.length,at=0,ct=[];++et<tt;){var ut=a[et];s(ut,et,a)&&(ct[at++]=ut)}return ct}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(a){return a==null?[]:(a=Object(a),arrayFilter(nativeGetSymbols(a),function(s){return propertyIsEnumerable.call(a,s)}))}:stubArray;function baseGetAllKeys(a,s,et){var tt=s(a);return isArray(a)?tt:arrayPush(tt,et(a))}function getAllKeys(a){return baseGetAllKeys(a,keys,getSymbols)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(a){var s=baseGetTag(a),et=s==objectTag$1?a.constructor:void 0,tt=et?toSource(et):"";if(tt)switch(tt){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return s});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(a){return this.__data__.set(a,HASH_UNDEFINED),this}function setCacheHas(a){return this.__data__.has(a)}function SetCache(a){var s=-1,et=a==null?0:a.length;for(this.__data__=new MapCache;++s<et;)this.add(a[s])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(a,s){for(var et=-1,tt=a==null?0:a.length;++et<tt;)if(s(a[et],et,a))return!0;return!1}function cacheHas(a,s){return a.has(s)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(a,s,et,tt,at,ct){var ut=et&COMPARE_PARTIAL_FLAG$5,bt=a.length,wt=s.length;if(bt!=wt&&!(ut&&wt>bt))return!1;var Et=ct.get(a),Ft=ct.get(s);if(Et&&Ft)return Et==s&&Ft==a;var jt=-1,Lt=!0,Ut=et&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(ct.set(a,s),ct.set(s,a);++jt<bt;){var Vt=a[jt],Yt=s[jt];if(tt)var er=ut?tt(Yt,Vt,jt,s,a,ct):tt(Vt,Yt,jt,a,s,ct);if(er!==void 0){if(er)continue;Lt=!1;break}if(Ut){if(!arraySome(s,function(tr,nr){if(!cacheHas(Ut,nr)&&(Vt===tr||at(Vt,tr,et,tt,ct)))return Ut.push(nr)})){Lt=!1;break}}else if(!(Vt===Yt||at(Vt,Yt,et,tt,ct))){Lt=!1;break}}return ct.delete(a),ct.delete(s),Lt}function mapToArray(a){var s=-1,et=Array(a.size);return a.forEach(function(tt,at){et[++s]=[at,tt]}),et}function setToArray(a){var s=-1,et=Array(a.size);return a.forEach(function(tt){et[++s]=tt}),et}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(a,s,et,tt,at,ct,ut){switch(et){case dataViewTag:if(a.byteLength!=s.byteLength||a.byteOffset!=s.byteOffset)return!1;a=a.buffer,s=s.buffer;case arrayBufferTag:return!(a.byteLength!=s.byteLength||!ct(new Uint8Array$1(a),new Uint8Array$1(s)));case boolTag:case dateTag:case numberTag:return eq$1(+a,+s);case errorTag:return a.name==s.name&&a.message==s.message;case regexpTag:case stringTag:return a==s+"";case mapTag:var bt=mapToArray;case setTag:var wt=tt&COMPARE_PARTIAL_FLAG$4;if(bt||(bt=setToArray),a.size!=s.size&&!wt)return!1;var Et=ut.get(a);if(Et)return Et==s;tt|=COMPARE_UNORDERED_FLAG$2,ut.set(a,s);var Ft=equalArrays(bt(a),bt(s),tt,at,ct,ut);return ut.delete(a),Ft;case symbolTag:if(symbolValueOf)return symbolValueOf.call(a)==symbolValueOf.call(s)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(a,s,et,tt,at,ct){var ut=et&COMPARE_PARTIAL_FLAG$3,bt=getAllKeys(a),wt=bt.length,Et=getAllKeys(s),Ft=Et.length;if(wt!=Ft&&!ut)return!1;for(var jt=wt;jt--;){var Lt=bt[jt];if(!(ut?Lt in s:hasOwnProperty$2.call(s,Lt)))return!1}var Ut=ct.get(a),Vt=ct.get(s);if(Ut&&Vt)return Ut==s&&Vt==a;var Yt=!0;ct.set(a,s),ct.set(s,a);for(var er=ut;++jt<wt;){Lt=bt[jt];var tr=a[Lt],nr=s[Lt];if(tt)var ir=ut?tt(nr,tr,Lt,s,a,ct):tt(tr,nr,Lt,a,s,ct);if(!(ir===void 0?tr===nr||at(tr,nr,et,tt,ct):ir)){Yt=!1;break}er||(er=Lt=="constructor")}if(Yt&&!er){var lr=a.constructor,pr=s.constructor;lr!=pr&&"constructor"in a&&"constructor"in s&&!(typeof lr=="function"&&lr instanceof lr&&typeof pr=="function"&&pr instanceof pr)&&(Yt=!1)}return ct.delete(a),ct.delete(s),Yt}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(a,s,et,tt,at,ct){var ut=isArray(a),bt=isArray(s),wt=ut?arrayTag:getTag(a),Et=bt?arrayTag:getTag(s);wt=wt==argsTag?objectTag:wt,Et=Et==argsTag?objectTag:Et;var Ft=wt==objectTag,jt=Et==objectTag,Lt=wt==Et;if(Lt&&isBuffer(a)){if(!isBuffer(s))return!1;ut=!0,Ft=!1}if(Lt&&!Ft)return ct||(ct=new Stack),ut||isTypedArray(a)?equalArrays(a,s,et,tt,at,ct):equalByTag(a,s,wt,et,tt,at,ct);if(!(et&COMPARE_PARTIAL_FLAG$2)){var Ut=Ft&&hasOwnProperty$1.call(a,"__wrapped__"),Vt=jt&&hasOwnProperty$1.call(s,"__wrapped__");if(Ut||Vt){var Yt=Ut?a.value():a,er=Vt?s.value():s;return ct||(ct=new Stack),at(Yt,er,et,tt,ct)}}return Lt?(ct||(ct=new Stack),equalObjects(a,s,et,tt,at,ct)):!1}function baseIsEqual(a,s,et,tt,at){return a===s?!0:a==null||s==null||!isObjectLike(a)&&!isObjectLike(s)?a!==a&&s!==s:baseIsEqualDeep(a,s,et,tt,baseIsEqual,at)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(a,s,et,tt){var at=et.length,ct=at;if(a==null)return!ct;for(a=Object(a);at--;){var ut=et[at];if(ut[2]?ut[1]!==a[ut[0]]:!(ut[0]in a))return!1}for(;++at<ct;){ut=et[at];var bt=ut[0],wt=a[bt],Et=ut[1];if(ut[2]){if(wt===void 0&&!(bt in a))return!1}else{var Ft=new Stack,jt;if(!(jt===void 0?baseIsEqual(Et,wt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,tt,Ft):jt))return!1}}return!0}function isStrictComparable(a){return a===a&&!isObject$1(a)}function getMatchData(a){for(var s=keys(a),et=s.length;et--;){var tt=s[et],at=a[tt];s[et]=[tt,at,isStrictComparable(at)]}return s}function matchesStrictComparable(a,s){return function(et){return et==null?!1:et[a]===s&&(s!==void 0||a in Object(et))}}function baseMatches(a){var s=getMatchData(a);return s.length==1&&s[0][2]?matchesStrictComparable(s[0][0],s[0][1]):function(et){return et===a||baseIsMatch(et,a,s)}}function baseHasIn(a,s){return a!=null&&s in Object(a)}function hasPath(a,s,et){s=castPath(s,a);for(var tt=-1,at=s.length,ct=!1;++tt<at;){var ut=toKey(s[tt]);if(!(ct=a!=null&&et(a,ut)))break;a=a[ut]}return ct||++tt!=at?ct:(at=a==null?0:a.length,!!at&&isLength(at)&&isIndex(ut,at)&&(isArray(a)||isArguments(a)))}function hasIn(a,s){return a!=null&&hasPath(a,s,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(a,s){return isKey(a)&&isStrictComparable(s)?matchesStrictComparable(toKey(a),s):function(et){var tt=get(et,a);return tt===void 0&&tt===s?hasIn(et,a):baseIsEqual(s,tt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(a){return function(s){return s==null?void 0:s[a]}}function basePropertyDeep(a){return function(s){return baseGet(s,a)}}function property(a){return isKey(a)?baseProperty(toKey(a)):basePropertyDeep(a)}function baseIteratee(a){return typeof a=="function"?a:a==null?identity:typeof a=="object"?isArray(a)?baseMatchesProperty(a[0],a[1]):baseMatches(a):property(a)}function createBaseFor(a){return function(s,et,tt){for(var at=-1,ct=Object(s),ut=tt(s),bt=ut.length;bt--;){var wt=ut[++at];if(et(ct[wt],wt,ct)===!1)break}return s}}var baseFor=createBaseFor();function baseForOwn(a,s){return a&&baseFor(a,s,keys)}function createBaseEach(a,s){return function(et,tt){if(et==null)return et;if(!isArrayLike(et))return a(et,tt);for(var at=et.length,ct=-1,ut=Object(et);++ct<at&&tt(ut[ct],ct,ut)!==!1;);return et}}var baseEach=createBaseEach(baseForOwn);function baseMap(a,s){var et=-1,tt=isArrayLike(a)?Array(a.length):[];return baseEach(a,function(at,ct,ut){tt[++et]=s(at,ct,ut)}),tt}function baseSortBy(a,s){var et=a.length;for(a.sort(s);et--;)a[et]=a[et].value;return a}function compareAscending(a,s){if(a!==s){var et=a!==void 0,tt=a===null,at=a===a,ct=isSymbol(a),ut=s!==void 0,bt=s===null,wt=s===s,Et=isSymbol(s);if(!bt&&!Et&&!ct&&a>s||ct&&ut&&wt&&!bt&&!Et||tt&&ut&&wt||!et&&wt||!at)return 1;if(!tt&&!ct&&!Et&&a<s||Et&&et&&at&&!tt&&!ct||bt&&et&&at||!ut&&at||!wt)return-1}return 0}function compareMultiple(a,s,et){for(var tt=-1,at=a.criteria,ct=s.criteria,ut=at.length,bt=et.length;++tt<ut;){var wt=compareAscending(at[tt],ct[tt]);if(wt){if(tt>=bt)return wt;var Et=et[tt];return wt*(Et=="desc"?-1:1)}}return a.index-s.index}function baseOrderBy(a,s,et){s.length?s=arrayMap(s,function(ct){return isArray(ct)?function(ut){return baseGet(ut,ct.length===1?ct[0]:ct)}:ct}):s=[identity];var tt=-1;s=arrayMap(s,baseUnary(baseIteratee));var at=baseMap(a,function(ct,ut,bt){var wt=arrayMap(s,function(Et){return Et(ct)});return{criteria:wt,index:++tt,value:ct}});return baseSortBy(at,function(ct,ut){return compareMultiple(ct,ut,et)})}function orderBy(a,s,et,tt){return a==null?[]:(isArray(s)||(s=s==null?[]:[s]),et=et,isArray(et)||(et=et==null?[]:[et]),baseOrderBy(a,s,et))}function useTokenSelect(){const{tokenMap:a}=useTokenStore(),{setCollectList:s,collectList:et,setTrustedList:tt,setFilterTokenLoading:at,setFilterTokenList:ct,importTokenList:ut,setImportTokenList:bt,liquidityTrustTokenList:wt,setLiquidityTrustTokenList:Et,setShowImportBtn:Ft,trustedTokenList:jt,setTrustedListLabel:Lt,setUserCollectList:Ut,userCollectList:Vt}=useTokenSelectStore(),{tokenBalanceObj:Yt}=useTokenBalanceStore(),{currentAccount:er}=useAccountStore(),{getTokenPrice:tr}=useTokenPrice(),{clmmSdk:nr}=useClmmSDKStore(),{showCommonToast:ir}=useGlobalToast(),lr=async()=>{const _r=jt.filter(Or=>Or.suggested_priority&&Or.suggested_priority[0]),cr=_r.sort((Or,Rr)=>Number(Rr.suggested_priority[0])-Number(Or.suggested_priority[0]));LocalStorageService.setItem(COLLECT_TOKEN_LIST,cr);const wr=[..._r,...cr],Br=[...new Map(wr.map(Or=>[extractStructTagFromType$1((Or==null?void 0:Or.coin_type)||(Or==null?void 0:Or.address)).full_address||(Or==null?void 0:Or.address),Or])).values()];s(Br)},pr=async()=>{const _r=await LocalStorageService.getItem(USER_COLLECT_TOKEN_LIST)||[];Ut(_r)},yr=_r=>{const hr=Vt.filter(cr=>cr.coin_type!==_r.coin_type);Ut(hr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,hr),ir("Removed","success")},br=_r=>{const hr=_r.map(wr=>wr.coin_type),cr=Vt.filter(wr=>!hr.includes(wr.coin_type));Ut(cr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,cr)},xr=_r=>{const hr=[...Vt,_r];Ut(hr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,hr),ir("Added","success")},Er=async()=>{const _r=await LocalStorageService.getItem(IMPORT_TOKEN_LIST);_r&&bt(_r)},$r=_r=>{const hr=[...ut,..._r];bt(hr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,hr),ir("Imported","success")},Sr=_r=>{const hr=_r.map(wr=>wr.coin_type),cr=ut.filter(wr=>!hr.includes(wr.coin_type));bt(cr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,cr),br(_r),ir((_r==null?void 0:_r.length)==(ut==null?void 0:ut.length)?"Cleared":"Removed","success")},fr=()=>{const _r=jt.map(cr=>cr.coin_type),hr=ut.filter(cr=>!_r.includes(cr.coin_type));bt(hr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,hr)},vr=_r=>{const hr=[...wt,..._r];console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:100 ~ addImportTokenList ~ list:",hr),Et(hr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,hr)},or=_r=>{const hr=_r.map(wr=>wr.coin_type),cr=wt.filter(wr=>!hr.includes(wr.coin_type));Et(cr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,cr)},rr=(_r,hr)=>Yt[_r]&&(er!=null&&er.address)?bnToAmount(Yt[_r].totalBalance,hr):0,ar=(_r,hr,cr=!0)=>{console.log("🚀🚀🚀 ~ useTokenSelect.ts:160 ~ sortWithTokenList ~ keyword:",hr);const wr=hr&&hr.toLocaleLowerCase(),Br=_r.map(Rr=>{var Fr;let Pr=0,Ur=0;Rr.symbol.toLowerCase()===wr||Rr.name.toLowerCase()===wr||Rr.coin_type.toLowerCase()===wr?(Pr=1e3,Ur=2):Rr.symbol.toLowerCase().indexOf(wr)>-1?(Pr=100,Ur=0):Rr.name.toLowerCase().indexOf(wr)>-1?(Pr=10,Ur=0):Rr.coin_type.toLowerCase().indexOf(wr)>-1?(Pr=1,Ur=0):(Rr.coin_type.toLowerCase()=="0x2::sui::sui"||Rr.coin_type.toLocaleLowerCase()=="0000000000000000000000000000000000000000000000000000000000000002::sui::sui")&&(Ur=1);const kr=cr&&rr(extractStructTagFromType$1(Rr.coin_type).full_address,Rr.decimals)||0,Ar=cr&&((Fr=tr(Rr.coin_type))==null?void 0:Fr.price)||void 0,Cr=Array.isArray(Rr==null?void 0:Rr.coin_priority)?Number(Rr.coin_priority[0])||0:Number(Rr==null?void 0:Rr.coin_priority)||0;return{...Rr,coin_priority_sort:Cr,mark:Pr,sort:Ur,balance:kr,price:Ar,balanceUSD:Ar?d$2(kr).mul(d$2(Ar)).toNumber():"0"}}),Or=orderBy(Br,["sort","mark","balanceUSD","balance","coin_priority_sort","symbol"],["desc","desc","desc","desc","desc","asc"]);return console.log("🚀🚀🚀 ~ useTokenSelect.ts:202 ~ sortWithTokenList ~ sortedTokens:",Or),Or},sr=()=>{const _r=[],hr=[],cr=[{label:"All",value:"All"},{label:"Native",value:"Native"}];console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:199 ~ getDefaultTokenList ~ tokenMap.values():",a.values());for(const Or of a.values())Or.is_trusted&&Or.coin_type!=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"&&(_r.push(Or),Or.labels&&Or.labels[0]&&hr.push({label:Or.labels[0],value:Or.labels[0]}));const wr=ar(_r,"");console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:211 ~ getDefaultTokenList ~ result:",_r),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:221 ~ getDefaultTokenList ~ sortResult:",wr),tt(wr);const Br=Array.from(new Set(hr.map(Or=>Or.label))).map(Or=>hr.find(Rr=>Rr.label===Or));Lt(cr.concat(Br)),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:194 ~ getDefaultTokenList ~ trustedListLabel.concat(Array.from(new Set(labelList))):",cr.concat(Array.from(new Set(hr))))},dr=async(_r,hr,cr,wr=!0,Br=!0)=>{let Or=!1;Ft(!1);const Rr=getSuiObjectType(_r),Pr=isSuiObjectType(_r)?suiAddressLongToShort(extractStructTagFromType$1(suiAddressLongToShort(_r).toLowerCase()).full_address).toLocaleLowerCase():_r.toLowerCase(),Ur=hr.filter(Fr=>{var Lr;return Fr.symbol.toLowerCase().indexOf(Pr)!==-1||Fr.coin_type.toLowerCase().indexOf(Pr)!==-1||Fr.name.toLowerCase().indexOf(Pr)!==-1||(Fr==null?void 0:Fr.coin_type)&&((Lr=Fr==null?void 0:Fr.coin_type)==null?void 0:Lr.toLowerCase().indexOf(Pr))!==-1}),kr=cr.filter(Fr=>Fr.symbol.toLowerCase().indexOf(Pr)!==-1||Fr.coin_type.toLowerCase().indexOf(Pr)!==-1||Fr.name.toLowerCase().indexOf(Pr)!==-1);let Ar=Ur.concat(kr);if(Ar&&Ar.length==0&&Rr.split("::").length==3&&Br)try{const Fr=await nr.CetusConfig.getTokenListByCoinTypes([Rr]);if(Fr[Rr])Ar=[{...Fr[Rr],is_trusted:!1,coin_type:extractStructTagFromType$1(Rr).full_address,description:""}],Or=!0;else{const{data:Lr}=await fetch(`/data/hop-coin-info.json?timestamp=${new Date().getTime()}`).then(Gr=>Gr.json()),Hr=Lr[Rr];Lr&&Hr&&(Ar=[{...Hr,is_trusted:!1,logo_url:Hr.iconUrl,coin_type:extractStructTagFromType$1(Rr).full_address}],Or=!0)}}catch(Fr){console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:90 ~ filterTokenList ~ error:",Fr)}const Cr=ar(Ar,Rr);ct(Cr),Ft(wr?Or:!1),at(!1),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:238 ~ filterTokenListFun ~ filterTokenListFun:",Cr)},gr=(_r,hr)=>{const cr=hr.filter(Br=>_r=="Native"?!Br.labels||Br.labels.length==0||Br.labels=="Native":Br.labels&&Br.labels.length>0&&Br.labels[0].toLowerCase()==_r.toLowerCase());console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:279 ~ filterTokenWithLabel ~ result:",cr);const wr=ar(cr,"");ct(wr)},ur=(_r,hr,cr)=>{let wr=hr.findIndex(Br=>Br.coin_type.toLowerCase()==_r.toLowerCase());return wr>=0?"Default":(wr=cr.findIndex(Br=>Br.coin_type.toLowerCase()==_r.toLowerCase()),wr>=0?"Imported":"Default")};return reactExports.useEffect(()=>()=>{Ft(!1)},[]),{getCollectList:lr,getDefaultTokenList:sr,filterTokenListFun:dr,filterTokenWithLabel:gr,getImportTokenList:Er,addImportTokenList:$r,delImportTokenList:Sr,addLiquidityTrustTokenList:vr,removeLiquidityTrustTokenList:or,updateImportTokenList:fr,sortWithTokenList:ar,getTabByAddress:ur,getUserCollectList:pr,delUserCollectTokens:br,addUserCollectToken:xr,delUserCollectToken:yr}}function useExplorer(){const{currentExplorer:a}=useRpcConfigStore();return{getExplorerUrl:(et,tt="account",at=a)=>{const ct=at.name.toLocaleLowerCase().indexOf("suivision")>-1?"SuiVision":at.name.toLocaleLowerCase().indexOf("suiscan")>-1?"Suiscan":"";let ut;return ct=="SuiVision"?ut=`${at.link}/${getSuiVisionKey(tt)}/${et}`:ut=`${at.link}/${getSuiscanKey(tt)}/${et}`,ut}}}const getSuiscanKey=a=>{switch(a){case"account":return"address";case"token":return"object";case"tx":return"tx";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},getSuiVisionKey=a=>{switch(a){case"account":return"account";case"token":return"object";case"tx":return"txblock";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},useFetch=()=>{const{domains:a,currentDomain:s,setCurrentDomain:et,setUnhealthyDomains:tt,unhealthyDomains:at}=useGlobalApiDomainStore(),ct=()=>{const bt=a.length;if(bt>1&&at.length<bt-1){tt(s);const wt=a.indexOf(s);let Et="";return wt!==bt-1?Et=a[wt+1]:Et=a[0],Et}return""},ut=async(bt,wt,Et,Ft)=>{console.log("🚀 ~ file: useFetch.ts:30 ~ fetchByApi ~ params:",{path:bt,type:wt,options:Et,domain:Ft||s});try{return wt==="GET"?await fetchGet(`${Ft||s}${bt}`,Et):await fetchPost(`${Ft||s}${bt}`,Et)}catch(jt){console.log("🚀 ~ file: useFetch.ts:41 ~ fetchByApi ~ error:",jt);const Lt=ct();if(Lt)return et(Lt),ut(bt,wt,Et,Lt);throw jt}};return{fetchByApi:ut}};function useGetTokens(){const{fetchByApi:a}=useFetch(),{setTokenMap:s}=useTokenStore(),{setTrustedList:et}=useTokenSelectStore();return{getTokens:async()=>{var bt;const at=await a("/v2/sui/coins_info","GET"),ct=(bt=at==null?void 0:at.list)==null?void 0:bt.reduce((wt,Et)=>(wt.set(Et.coin_type,Et),wt),new Map);ct&&(ct.set("0x2::sui::SUI",{...ct.get("0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"),coin_type:"0x2::sui::SUI"}),s(ct));const ut=[];for(const[wt,Et]of ct)Et.is_trusted&&Et.coin_type!=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"&&ut.push(Et);console.log("🚀 ~ file: useGetTokens.ts:8 ~ getTokens ~ res:",ut),et(ut)}}}const ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(a){let s;if(a instanceof Uint8Array)s=a;else if(typeof a=="string")s=new TextEncoder().encode(a);else throw new Error(ERROR_MSG_INPUT);return s}function toHex(a){return Array.prototype.map.call(a,function(s){return(s<16?"0":"")+s.toString(16)}).join("")}function uint32ToHex(a){return(4294967296+a).toString(16).substring(1)}function debugPrint(a,s,et){let tt=`
`+a+" = ";for(let at=0;at<s.length;at+=2){if(et===32)tt+=uint32ToHex(s[at]).toUpperCase(),tt+=" ",tt+=uint32ToHex(s[at+1]).toUpperCase();else if(et===64)tt+=uint32ToHex(s[at+1]).toUpperCase(),tt+=uint32ToHex(s[at]).toUpperCase();else throw new Error("Invalid size "+et);at%6===4?tt+=`
`+new Array(a.length+4).join(" "):at<s.length-2&&(tt+=" ")}console.log(tt)}function testSpeed(a,s,et){let tt=new Date().getTime();const at=new Uint8Array(s);for(let ut=0;ut<s;ut++)at[ut]=ut%256;const ct=new Date().getTime();console.log("Generated random input in "+(ct-tt)+"ms"),tt=ct;for(let ut=0;ut<et;ut++){const bt=a(at),wt=new Date().getTime(),Et=wt-tt;tt=wt,console.log("Hashed in "+Et+"ms: "+bt.substring(0,20)+"..."),console.log(Math.round(s/(1<<20)/(Et/1e3)*100)/100+" MB PER SECOND")}}var util$2={normalizeInput,toHex,debugPrint,testSpeed};const util$1=util$2;function ADD64AA(a,s,et){const tt=a[s]+a[et];let at=a[s+1]+a[et+1];tt>=4294967296&&at++,a[s]=tt,a[s+1]=at}function ADD64AC(a,s,et,tt){let at=a[s]+et;et<0&&(at+=4294967296);let ct=a[s+1]+tt;at>=4294967296&&ct++,a[s]=at,a[s+1]=ct}function B2B_GET32(a,s){return a[s]^a[s+1]<<8^a[s+2]<<16^a[s+3]<<24}function B2B_G(a,s,et,tt,at,ct){const ut=m$2[at],bt=m$2[at+1],wt=m$2[ct],Et=m$2[ct+1];ADD64AA(v$2,a,s),ADD64AC(v$2,a,ut,bt);let Ft=v$2[tt]^v$2[a],jt=v$2[tt+1]^v$2[a+1];v$2[tt]=jt,v$2[tt+1]=Ft,ADD64AA(v$2,et,tt),Ft=v$2[s]^v$2[et],jt=v$2[s+1]^v$2[et+1],v$2[s]=Ft>>>24^jt<<8,v$2[s+1]=jt>>>24^Ft<<8,ADD64AA(v$2,a,s),ADD64AC(v$2,a,wt,Et),Ft=v$2[tt]^v$2[a],jt=v$2[tt+1]^v$2[a+1],v$2[tt]=Ft>>>16^jt<<16,v$2[tt+1]=jt>>>16^Ft<<16,ADD64AA(v$2,et,tt),Ft=v$2[s]^v$2[et],jt=v$2[s+1]^v$2[et+1],v$2[s]=jt>>>31^Ft<<1,v$2[s+1]=Ft>>>31^jt<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(a){return a*2})),v$2=new Uint32Array(32),m$2=new Uint32Array(32);function blake2bCompress(a,s){let et=0;for(et=0;et<16;et++)v$2[et]=a.h[et],v$2[et+16]=BLAKE2B_IV32[et];for(v$2[24]=v$2[24]^a.t,v$2[25]=v$2[25]^a.t/4294967296,s&&(v$2[28]=~v$2[28],v$2[29]=~v$2[29]),et=0;et<32;et++)m$2[et]=B2B_GET32(a.b,4*et);for(et=0;et<12;et++)B2B_G(0,8,16,24,SIGMA82[et*16+0],SIGMA82[et*16+1]),B2B_G(2,10,18,26,SIGMA82[et*16+2],SIGMA82[et*16+3]),B2B_G(4,12,20,28,SIGMA82[et*16+4],SIGMA82[et*16+5]),B2B_G(6,14,22,30,SIGMA82[et*16+6],SIGMA82[et*16+7]),B2B_G(0,10,20,30,SIGMA82[et*16+8],SIGMA82[et*16+9]),B2B_G(2,12,22,24,SIGMA82[et*16+10],SIGMA82[et*16+11]),B2B_G(4,14,16,26,SIGMA82[et*16+12],SIGMA82[et*16+13]),B2B_G(6,8,18,28,SIGMA82[et*16+14],SIGMA82[et*16+15]);for(et=0;et<16;et++)a.h[et]=a.h[et]^v$2[et]^v$2[et+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(a,s,et,tt){if(a===0||a>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(s&&s.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(et&&et.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(tt&&tt.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const at={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:a};parameterBlock.fill(0),parameterBlock[0]=a,s&&(parameterBlock[1]=s.length),parameterBlock[2]=1,parameterBlock[3]=1,et&&parameterBlock.set(et,32),tt&&parameterBlock.set(tt,48);for(let ct=0;ct<16;ct++)at.h[ct]=BLAKE2B_IV32[ct]^B2B_GET32(parameterBlock,ct*4);return s&&(blake2bUpdate(at,s),at.c=128),at}function blake2bUpdate(a,s){for(let et=0;et<s.length;et++)a.c===128&&(a.t+=a.c,blake2bCompress(a,!1),a.c=0),a.b[a.c++]=s[et]}function blake2bFinal(a){for(a.t+=a.c;a.c<128;)a.b[a.c++]=0;blake2bCompress(a,!0);const s=new Uint8Array(a.outlen);for(let et=0;et<a.outlen;et++)s[et]=a.h[et>>2]>>8*(et&3);return s}function blake2b(a,s,et,tt,at){et=et||64,a=util$1.normalizeInput(a),tt&&(tt=util$1.normalizeInput(tt)),at&&(at=util$1.normalizeInput(at));const ct=blake2bInit(et,s,tt,at);return blake2bUpdate(ct,a),blake2bFinal(ct)}function blake2bHex(a,s,et,tt,at){const ct=blake2b(a,s,et,tt,at);return util$1.toHex(ct)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util=util$2;function B2S_GET32(a,s){return a[s]^a[s+1]<<8^a[s+2]<<16^a[s+3]<<24}function B2S_G(a,s,et,tt,at,ct){v$1[a]=v$1[a]+v$1[s]+at,v$1[tt]=ROTR32(v$1[tt]^v$1[a],16),v$1[et]=v$1[et]+v$1[tt],v$1[s]=ROTR32(v$1[s]^v$1[et],12),v$1[a]=v$1[a]+v$1[s]+ct,v$1[tt]=ROTR32(v$1[tt]^v$1[a],8),v$1[et]=v$1[et]+v$1[tt],v$1[s]=ROTR32(v$1[s]^v$1[et],7)}function ROTR32(a,s){return a>>>s^a<<32-s}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$1=new Uint32Array(16),m$1=new Uint32Array(16);function blake2sCompress(a,s){let et=0;for(et=0;et<8;et++)v$1[et]=a.h[et],v$1[et+8]=BLAKE2S_IV[et];for(v$1[12]^=a.t,v$1[13]^=a.t/4294967296,s&&(v$1[14]=~v$1[14]),et=0;et<16;et++)m$1[et]=B2S_GET32(a.b,4*et);for(et=0;et<10;et++)B2S_G(0,4,8,12,m$1[SIGMA[et*16+0]],m$1[SIGMA[et*16+1]]),B2S_G(1,5,9,13,m$1[SIGMA[et*16+2]],m$1[SIGMA[et*16+3]]),B2S_G(2,6,10,14,m$1[SIGMA[et*16+4]],m$1[SIGMA[et*16+5]]),B2S_G(3,7,11,15,m$1[SIGMA[et*16+6]],m$1[SIGMA[et*16+7]]),B2S_G(0,5,10,15,m$1[SIGMA[et*16+8]],m$1[SIGMA[et*16+9]]),B2S_G(1,6,11,12,m$1[SIGMA[et*16+10]],m$1[SIGMA[et*16+11]]),B2S_G(2,7,8,13,m$1[SIGMA[et*16+12]],m$1[SIGMA[et*16+13]]),B2S_G(3,4,9,14,m$1[SIGMA[et*16+14]],m$1[SIGMA[et*16+15]]);for(et=0;et<8;et++)a.h[et]^=v$1[et]^v$1[et+8]}function blake2sInit(a,s){if(!(a>0&&a<=32))throw new Error("Incorrect output length, should be in [1, 32]");const et=s?s.length:0;if(s&&!(et>0&&et<=32))throw new Error("Incorrect key length, should be in [1, 32]");const tt={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:a};return tt.h[0]^=16842752^et<<8^a,et>0&&(blake2sUpdate(tt,s),tt.c=64),tt}function blake2sUpdate(a,s){for(let et=0;et<s.length;et++)a.c===64&&(a.t+=a.c,blake2sCompress(a,!1),a.c=0),a.b[a.c++]=s[et]}function blake2sFinal(a){for(a.t+=a.c;a.c<64;)a.b[a.c++]=0;blake2sCompress(a,!0);const s=new Uint8Array(a.outlen);for(let et=0;et<a.outlen;et++)s[et]=a.h[et>>2]>>8*(et&3)&255;return s}function blake2s(a,s,et){et=et||32,a=util.normalizeInput(a);const tt=blake2sInit(et,s);return blake2sUpdate(tt,a),blake2sFinal(tt)}function blake2sHex(a,s,et){const tt=blake2s(a,s,et);return util.toHex(tt)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal},_t$1="router",ge$2=1e4,ne$1=class{static buildPoolImmutables(s){let{fields:et}=s.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(et.clmm_pool_id).address,booster_type:extractStructTagFromType$1(et.booster_type.fields.name).source_address,pool_id:extractStructTagFromType$1(et.pool_id).address,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).source_address}}static buildPoolState(s){let et=getObjectFields(s),tt=[];return et.config.fields.contents.forEach(at=>{tt.push({lock_day:Number(at.fields.key),multiplier:Number(d$3(at.fields.value).div(ge$2))})}),{basic_percent:Number(d$3(et.basic_percent).div(ge$2)),balances:{balances_handle:et.balances.fields.id.id,size:et.balances.fields.size},config:tt,lock_positions:{lock_positions_handle:et.lock_positions.fields.id.id,size:et.lock_positions.fields.size},is_open:et.is_open,index:Number(et.index),pool_id:getObjectId(s)}}static buildLockNFT(s){let et=extractStructTagFromType$1(getObjectId(s)).address;return{lock_clmm_position:buildPosition(s),locked_nft_id:et}}static buildLockPositionInfo(s){let et=getObjectFields(s),{value:tt}=et.value.fields;return{type:tt.type,position_id:tt.fields.position_id,start_time:Number(tt.fields.start_time),lock_period:Number(tt.fields.lock_period),end_time:Number(tt.fields.end_time),growth_rewarder:tt.fields.growth_rewarder,rewarder_owned:tt.fields.rewarder_owned,is_settled:tt.fields.is_settled}}static isLocked(s){return s.end_time>Date.parse(new Date().toString())/1e3}},mt=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPoolImmutables(a=!1){var ct;let{booster:s}=this._sdk.sdkOptions,et=`${s.package_id}_getPoolImmutables`,tt=this.getCache(et,a),at=[];if(tt!==void 0)at.push(...tt);else{let ut=[];(ct=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(s).booster_pool_handle)).data)==null||ct.forEach(wt=>{ut.push(wt.objectId)});let bt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(ut,{showContent:!0});for(let wt of bt){let Et=getObjectFields(wt);if(Et){let Ft=ne$1.buildPoolImmutables(Et);this.updateCache(`${Ft.pool_id}_getPoolImmutable`,Ft,cacheTime24h),at.push(Ft)}}}return this.updateCache(et,at,cacheTime24h),at}async getPoolImmutable(a){let{booster:s}=this._sdk.sdkOptions,et=`${a}_getPoolImmutable`,tt=this.getCache(et);if(tt!==void 0)return tt;let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(s).booster_pool_handle,name:{type:"0x2::object::ID",value:a}}),ct=getObjectFields(at),ut=ne$1.buildPoolImmutables(ct);return this.updateCache(et,ut,cacheTime24h),ut}async getPools(){let a=[],s=(await this.getPoolImmutables()).map(tt=>tt.pool_id),et=await this._sdk.ClmmSDK.fullClient.batchGetObjects(s,{showType:!0,showContent:!0});for(let tt of et){let at=ne$1.buildPoolState(tt);if(at){let ct={...await this.getPoolImmutable(at.pool_id),...at};a.push(ct);let ut=`${ct.pool_id}_getPoolObject`;this.updateCache(ut,ct,cacheTime24h)}}return a}async getPool(a,s=!0){let et=`${a}_getPoolObject`,tt=this.getCache(et,s),at=await this.getPoolImmutable(a);if(tt!==void 0)return{...at,...tt};let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}}),ut=ne$1.buildPoolState(ct),bt={...at,...ut};return this.updateCache(et,bt,cacheTime24h),bt}async getPoolHandleId(a){let s=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0}}),et=getObjectFields(s);return et?et.list.fields.id.id:""}async getBoosterInitConfigs(){var tt;let{package_id:a}=this.sdk.sdkOptions.booster,s=(tt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitEvent`}))==null?void 0:tt.data,et={booster_config_id:"",booster_pool_handle:""};return s.length>0&&s.forEach(at=>{let ct=at.parsedJson;ct&&(et.booster_config_id=ct.config_id)}),et.booster_pool_handle=await this.getPoolHandleId(et.booster_config_id),et}async getOwnerBoosterPositions(a,s,et){let{booster:tt}=this.sdk.sdkOptions,at=[],ct=[],ut=`${tt.package_id}::lock_nft::LockNFT<${this._sdk.ClmmSDK.Position.buildPositionType()}>`,bt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showOwner:!0},filter:{StructType:ut}});for(let Et of bt.data)if(extractStructTagFromType$1(getMoveObjectType(Et)).source_address===ut&&Et.data){let Ft=ne$1.buildLockNFT(Et);this.updateCache(`${Ft.locked_nft_id}_getBoosterPositionById`,Ft,cacheTime24h),Ft&&(s===void 0||s===Ft.lock_clmm_position.pool)&&at.push(Ft)}let wt=await this.getLockPositionInfos(et,at.map(Et=>Et.locked_nft_id));for(let Et of at)for(let Ft of wt)if(Et.lock_clmm_position.pos_object_id===Ft.position_id){ct.push({...Et,...Ft});break}return ct}async getBoosterPosition(a,s){let et=`${s}_getBoosterPositionById`,tt=this.getCache(et),at;if(tt!==void 0)at=tt;else{let ut=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showOwner:!0}});at=ne$1.buildLockNFT(ut),this.updateCache(et,at,cacheTime24h)}let ct=await this.getLockPositionInfo(a,s);return{...at,...ct}}async getLockPositionInfos(a,s=[]){var ct;let et=await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(a),tt=[],at=[];return(ct=et.data)==null||ct.forEach(ut=>{s.length>0?s.includes(ut.name.value)&&tt.push(ut.objectId):tt.push(ut.objectId)}),tt.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(tt,{showContent:!0})).forEach(ut=>{let bt=ne$1.buildLockPositionInfo(ut);bt&&at.push(bt)}),at}async getLockPositionInfo(a,s){let et=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}});return ne$1.buildLockPositionInfo(et)}calculateXCetusRewarder(a,s,et){let tt=s.basic_percent,at="0";a.forEach(ut=>{ut.coin_address===s.booster_type&&(at=ut.amount_owed.toString())}),et.is_settled||s.config.forEach(ut=>{ut.lock_day===et.lock_period&&(tt=ut.multiplier)});let ct=d$3(at).sub(et.growth_rewarder).mul(tt);return d$3(et.rewarder_owned).add(ct).toString()}lockPositionPayload(a){let{booster:s}=this.sdk.sdkOptions,{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,tt=new Transaction;return tt.moveCall({target:`${s.published_at}::${_t$1}::lock_position`,typeArguments:[a.booster_type,a.coinTypeA,a.coinTypeB],arguments:[tt.object(getPackagerConfigs(s).booster_config_id),tt.object(getPackagerConfigs(et).global_config_id),tt.object(a.booster_pool_id),tt.object(a.clmm_pool_id),tt.object(a.clmm_position_id),tt.pure.u16(a.lock_day),tt.object(CLOCK_ADDRESS$1)]}),tt}canceLockPositionPayload(a){let{booster:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${_t$1}::cancel_lock`,typeArguments:[a.booster_type],arguments:[et.object(getPackagerConfigs(s).booster_config_id),et.object(a.booster_pool_id),et.object(a.lock_nft_id),et.object(CLOCK_ADDRESS$1)]}),et}redeemPayload(a){let{booster:s,xcetus:et}=this.sdk.sdkOptions,{clmm_pool:tt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,ct=getPackagerConfigs(et);return at.moveCall({target:`${s.published_at}::${_t$1}::redeem`,typeArguments:[a.booster_type,a.coinTypeA,a.coinTypeB],arguments:[at.object(getPackagerConfigs(s).booster_config_id),at.object(getPackagerConfigs(tt).global_config_id),at.object(a.booster_pool_id),at.object(a.lock_nft_id),at.object(a.clmm_pool_id),at.object(ct.lock_manager_id),at.object(ct.xcetus_manager_id),at.object(a.ve_nft_id),at.object(CLOCK_ADDRESS$1)]}),at}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a];if(!s&&(et!=null&&et.isValid()))return et.value;delete this._cache[a]}},K$1="router",pt$1=1e9,yi=(a=>(a.Upcoming="Upcoming",a.Live="Live",a.Settle="Settle",a.Ended="Ended",a.Failed="Failed",a.Canceled="Canceled",a))(yi||{}),I$2=class{static priceRealToFix(s,et,tt){let at=d$3(et-tt).toNumber();return Number(d$3(s).div(d$3(10).pow(d$3(at))).toString())}static priceFixToReal(s,et,tt){let at=d$3(et-tt).toNumber();return Number(d$3(s).mul(d$3(10).pow(d$3(at))).toString())}static raiseTotalAmount(s,et,tt){let at=d$3(et-tt).abs().toNumber();return et>tt?Number(d$3(s.total_supply).mul(s.current_price).div(d$3(10).pow(d$3(at))).toString()):Number(d$3(s.total_supply).mul(s.current_price).mul(d$3(10).pow(d$3(at))).toString())}static buildLaunchPadPool(s){let et=getMoveObjectType(s),tt=extractStructTagFromType$1(et),at=getObjectFields(s),ct={coin_type_sale:tt.type_arguments[0],coin_type_raise:tt.type_arguments[1],pool_address:normalizeSuiObjectId$1(getObjectId(s)),is_settle:at.is_settle,current_price:d$3(at.initialize_price).div(d$3(pt$1)).toString(),price:at.initialize_price,min_price:"0",max_price:"0",sale_coin_amount:at.sale_coin,raise_coin_amount:at.raise_coin,total_purchase_amount:at.reality_raise_total,total_supply:at.sale_total,min_purchase:at.min_purchase,max_purchase:at.max_purchase,complete_raise_limit:at.least_raise_amount,softcap:at.softcap,max_raise_amount:at.hardcap,sale_decimals:0,raise_decimals:0,liquidity_injection_ratio:Number(at.liquidity_rate)/1e4,is_cancel:at.is_cancel,duration_summary:{start_time:Number(at.duration_manager.fields.start_time),end_time:0,settle_end_time:0,purchase_duration:Number(at.duration_manager.fields.activity_duration),settle_duration:Number(at.duration_manager.fields.settle_duration),lock_up_duration:Number(at.duration_manager.fields.locked_duration)},white_summary:{white_handle:at.white_list.fields.users.fields.id.id,protection_hard_cap:at.white_list.fields.hard_cap_total,protection_limit_used:at.white_list.fields.purchase_total,size:Number(at.white_list.fields.users.fields.size)},unused_sale:at.unused_sale,harvest_raise:at.harvest_raise,tick_spacing:Number(at.tick_spacing),owner:at.recipient,purchase_summary:{purchase_handle:at.purchase_list.fields.id.id,size:Number(at.purchase_list.fields.size)},pool_status:"Failed"};return I$2.updatePoolStatus(ct),ct}static updatePoolStatus(s){let et=Number(d$3(Date.now()/1e3).toFixed(0)),{duration_summary:tt}=s,at=tt.start_time+tt.purchase_duration,ct=at+tt.settle_duration;if(tt.end_time=at,tt.settle_end_time=ct,s.is_settle)s.pool_status="Ended";else if(s.is_cancel)s.pool_status="Canceled";else if(et<tt.start_time)s.pool_status="Upcoming";else if(et>tt.start_time&&et<at)s.pool_status="Live";else if(et>at&&et<ct){let ut=s.raise_coin_amount;Number(ut)<Number(s.complete_raise_limit)?s.pool_status="Failed":s.pool_status="Settle"}return s}static async calculatePoolPrice(s,et){let tt=await s.ClmmSDK.CetusConfig.getTokenListByCoinTypes([et.coin_type_sale,et.coin_type_raise]),at=tt[et.coin_type_sale].decimals,ct=tt[et.coin_type_raise].decimals;et.min_price=this.priceFixToReal(Number(d$3(et.softcap).div(d$3(et.total_supply))),at,ct).toString(),et.max_price=this.priceFixToReal(Number(d$3(et.max_raise_amount).div(d$3(et.total_supply))),at,ct).toString(),et.current_price=this.priceFixToReal(Number(et.current_price),at,ct).toString(),et.sale_decimals=at,et.raise_decimals=ct}static async getWithdrawRaise(s){return s.pool_status==="Ended"?s.harvest_raise:"0"}static async getWithdrawSale(s){return s.pool_status==="Ended"?s.unused_sale:s.sale_coin_amount}static async getHistoryWithdrawRaise(s,et){if(et.pool_status==="Ended"){if(d$3(et.harvest_raise).equals(d$3(0))){let at=await s.Launchpad.getSettleEvent(et.pool_address);at&&(et.harvest_raise=at.unused_raise)}let tt=bnExports.min(new BN(et.total_purchase_amount),new BN(et.max_raise_amount));return d$3(tt.toString()).mul(1-et.liquidity_injection_ratio).toString()}return"0"}static async getHistoryWithdrawSale(s,et){if(et.pool_status==="Ended"){let tt=await s.Launchpad.getSettleEvent(et.pool_address);return tt&&(et.unused_sale=tt.unused_sale),et.unused_sale}return"0"}static async getOverrecruitReverseAmount(s,et){let tt=await s.Launchpad.getPurchaseMarks(s.ClmmSDK.senderAddress,[et.pool_address],!1);if(tt.length>0){let at=tt[0].purchased_raise_amount,ct=(await s.Launchpad.getPurchaseAmount(et.white_summary.white_handle,s.ClmmSDK.senderAddress)).safe_purchased_amount,{protection_limit_used:ut}=et.white_summary;return d$3(at).sub(ct).div(d$3(et.total_purchase_amount).sub(ut)).mul(d$3(et.total_purchase_amount).sub(et.max_raise_amount)).toString()}return"0"}static async getCanPurchaseAmount(s,et){let tt=await I$2.getOverrecruitReverseAmount(s,et),at=await s.Launchpad.getPurchaseMarks(s.ClmmSDK.senderAddress,[et.pool_address],!1);if(at){let ct=at[0].purchased_raise_amount;d$3(ct).sub(tt).div(et.current_price)}return"0"}},ft$1=class{constructor(s){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s=[],et=0,tt=100,at=!1){var jt;let{package_id:ct}=this._sdk.sdkOptions.launchpad;if(ct===void 0)throw Error("sdk.sdkOptions.launchpad is undefined");let ut=`${ct}_getPoolImmutables`,bt=this.getCache(ut,at),wt=[],Et=[];if(bt!==void 0&&wt.push(...bt),wt.length===0)try{((jt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${ct}::factory::CreatePoolEvent`}))==null?void 0:jt.data).forEach(Lt=>{let Ut=Lt.parsedJson;Ut&&wt.push({pool_address:Ut.pool_id,coin_type_sale:extractStructTagFromType$1(Ut.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(Ut.raise_coin.name).full_address})}),this.updateCache(ut,wt,cacheTime24h)}catch(Lt){console.log("getPoolImmutables",Lt)}let Ft=s.length>0;for(let Lt=0;Lt<wt.length;Lt+=1){let Ut=wt[Lt];if(!(Ft&&!s.includes(Ut.pool_address))){if(!Ft){let Vt=Lt;if(Vt<et||Vt>=et+tt)continue}Et.push(Ut)}}return Et}async getPoolImmutablesWithPage(s="all",et=!1){let{package_id:tt}=this._sdk.sdkOptions.launchpad,at=`${tt}_getPoolImmutables`,ct=[],ut={data:[],hasNextPage:!1},bt=s==="all";if(bt){let wt=this.getCache(at,et);wt&&ct.push(...wt)}if(ct.length===0)try{let wt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${tt}::factory::CreatePoolEvent`},s);ut.hasNextPage=wt.hasNextPage,ut.nextCursor=wt.nextCursor,wt.data.forEach(Et=>{let Ft=Et.parsedJson;Ft&&ct.push({pool_address:Ft.pool_id,coin_type_sale:extractStructTagFromType$1(Ft.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(Ft.raise_coin.name).full_address})})}catch(wt){console.log("getPoolImmutables",wt)}return ut.data=ct,bt&&this.updateCache(at,ct,cacheTime24h),ut}async getPools(s=[],et=0,tt=100){let at=[],ct=[];s.length>0?ct=[...s]:(await this.getPoolImmutables([],et,tt,!1)).forEach(bt=>{ct.push(bt.pool_address)});let ut=await this._sdk.ClmmSDK.fullClient.batchGetObjects(ct,{showType:!0,showContent:!0});for(let bt of ut){let wt=I$2.buildLaunchPadPool(bt);await I$2.calculatePoolPrice(this._sdk,wt),at.push(wt);let Et=`${wt.pool_address}_getPoolObject`;this.updateCache(Et,wt,cacheTime24h)}return at}async getPool(s,et=!0){let tt=`${s}_getPoolObject`,at=this.getCache(tt,et);if(at!==void 0){let bt=at;return I$2.updatePoolStatus(bt),bt}let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),ut=I$2.buildLaunchPadPool(ct);return await I$2.calculatePoolPrice(this._sdk,ut),this.updateCache(tt,ut),ut}async getInitConfig(s=!1){var Et;let et=this._sdk.sdkOptions.launchpad.package_id,tt=`${et}_getInitEvent`,at=this.getCache(tt,s);if(at!==void 0)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),ut=getObjectPreviousTransactionDigest(ct),bt=(Et=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:ut}))==null?void 0:Et.data,wt={pools_id:"",admin_cap_id:"",config_cap_id:""};return bt.length>0&&(bt.forEach(Ft=>{let jt=Ft.parsedJson;if(jt)switch(extractStructTagFromType$1(Ft.type).full_address){case`${et}::config::InitConfigEvent`:wt.admin_cap_id=jt.admin_cap_id,wt.config_cap_id=jt.config_cap_id;break;case`${et}::factory::InitFactoryEvent`:wt.pools_id=jt.pools_id;break}}),this.updateCache(tt,wt,cacheTime24h)),wt}async getLockNFT(s,et=!1){let tt=`${s}_getLockNFT`,at=this.getCache(tt,et);if(at!==void 0)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!ct.error)return buildPosition(ct)}async getLockNFTList(s){var ct;let{package_id:et}=this._sdk.ClmmSDK.sdkOptions.clmm_pool,{sdkOptions:tt}=this._sdk,at=[];try{let ut=(ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${tt.launchpad.package_id}::lock::LockNFTEvent`}))==null?void 0:ct.data;for(let bt of ut){let wt=bt.parsedJson;if(wt){let Et={locked_time:Number(wt.locked_time),end_lock_time:Number(wt.end_lock_time),nft_type:wt.nft_type_name.name,lock_nft_id:wt.lock_nft_id,recipient:wt.recipient};if(s===Et.recipient&&`${et}`===extractStructTagFromType$1(Et.nft_type).address){let Ft=await this.getLockNFT(Et.lock_nft_id);if(Ft){let jt=extractStructTagFromType$1(Ft.coin_type_a).full_address,Lt=extractStructTagFromType$1(Ft.coin_type_b).full_address;at.push({...Ft,coin_type_a:jt,coin_type_b:Lt,...Et})}}}}return at}catch(ut){return console.log("getLockNFTList:",ut),[]}}async creatPoolTransactionPayload(s){let{launchpad:et}=this.sdk.sdkOptions,tt=getPackagerConfigs(et);if(this.assertLuanchpadConfig(),this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let at=I$2.priceRealToFix(Number(s.initialize_price),s.sale_decimals,s.raise_decimals),ct=new Transaction,ut=d$3(s.total_supply).add(d$3(s.total_supply).mul(d$3(s.liquidity_rate))).toNumber(),bt=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,ct,BigInt(ut),s.coin_type_sale),wt=[ct.object(tt.admin_cap_id),ct.object(tt.config_cap_id),ct.object(tt.pools_id),ct.object(normalizeSuiAddress$1(s.recipient)),ct.pure.u128((at*pt$1).toString()),bt,ct.pure.u64(s.total_supply.toString()),ct.pure.u64(s.min_purchase.toString()),ct.pure.u64(s.max_purchase.toString()),ct.pure.u64(s.least_raise_amount.toString()),ct.pure.u64(s.hardcap.toString()),ct.pure.u64((s.liquidity_rate*1e3).toString()),ct.pure.u64(s.start_time.toString()),ct.pure.u64(s.activity_duration.toString()),ct.pure.u64(s.settle_duration.toString()),ct.pure.u64(s.locked_duration.toString()),ct.pure.u32(s.tick_spacing),ct.object(CLOCK_ADDRESS$1)],Et=[s.coin_type_sale,s.coin_type_raise];return ct.moveCall({target:`${et.published_at}::${K$1}::create_launch_pool`,typeArguments:Et,arguments:wt}),ct}async creatPurchasePayload(s){let{launchpad:et}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let tt=new Transaction,at=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,tt,BigInt(s.purchase_amount),s.coin_type_raise),ct=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[s.pool_address],!1))[0],ut=[s.coin_type_sale,s.coin_type_raise],bt;return ct?bt=[tt.object(s.pool_address),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(ct.id),at,tt.pure.u64(s.purchase_amount.toString()),tt.object(CLOCK_ADDRESS$1)]:bt=[tt.object(s.pool_address),tt.object(getPackagerConfigs(et).config_cap_id),at,tt.pure.u64(s.purchase_amount.toString()),tt.object(CLOCK_ADDRESS$1)],tt.moveCall({target:`${et.published_at}::${K$1}::${ct===void 0?"create_and_purchase":"purchase"}`,typeArguments:ut,arguments:bt}),tt}async creatClaimPayload(s){let{launchpad:et}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let tt=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[s.pool_address],!1))[0],at=new Transaction,ct=[s.coin_type_sale,s.coin_type_raise],ut=[at.object(s.pool_address),at.object(getPackagerConfigs(et).config_cap_id),at.object(tt==null?void 0:tt.id),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${K$1}::claim`,typeArguments:ct,arguments:ut}),at}async creatSettlePayload(s){let{launchpad:et}=this.sdk.sdkOptions,{clmm_pool:tt}=this.sdk.ClmmSDK.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");this.assertLuanchpadConfig();let at=getPackagerConfigs(tt),{clmm_args:ct}=s,ut=new Transaction;ut.setSender(this.sdk.ClmmSDK.senderAddress);let bt=[s.coin_type_sale,s.coin_type_raise];if(ct){let wt=ct.opposite?TickMath.priceToSqrtPriceX64(d$3(1).div(ct.current_price),ct.raise_decimals,ct.sale_decimals).toString():TickMath.priceToSqrtPriceX64(d$3(ct.current_price),ct.sale_decimals,ct.raise_decimals).toString(),Et=BigInt(wt)<BigInt(ct.clmm_sqrt_price),Ft=ct.opposite?Et?s.coin_type_raise:s.coin_type_sale:Et?s.coin_type_sale:s.coin_type_raise,jt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,Ft),Lt=CoinAssist.calculateTotalBalance(jt);CoinAssist.isSuiCoin(Ft)&&(Lt-=BigInt(2e8));let Ut=TransactionUtil.buildCoinForAmount(ut,jt,Lt,Ft).targetCoin,Vt=ct.opposite?Et?"settle_with_reverse_clmm_only_with_a":"settle_with_reverse_clmm_only_with_b":Et?"settle_only_with_a":"settle_only_with_b",Yt=[ut.object(s.pool_address),ut.object(getPackagerConfigs(et).config_cap_id),ut.object(ct.clmm_pool_address),ut.object(at.global_config_id),ut.pure.u128(wt),Ut,ut.object(CLOCK_ADDRESS$1)];ut.moveCall({target:`${et.published_at}::${K$1}::${Vt}`,typeArguments:bt,arguments:Yt})}else ut.moveCall({target:`${et.published_at}::${K$1}::settle`,typeArguments:bt,arguments:[ut.object(s.pool_address),ut.object(getPackagerConfigs(et).config_cap_id),ut.object(CLOCK_ADDRESS$1)]});return ut}creatWithdrawPayload(s){let{launchpad:et}=this.sdk.sdkOptions,tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],ct=[tt.object(s.pool_address),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(CLOCK_ADDRESS$1)];return s.sale_amount>BigInt(0)&&tt.moveCall({target:`${et.published_at}::${K$1}::withdraw_sale`,typeArguments:at,arguments:ct}),s.raise_amount>BigInt(0)&&tt.moveCall({target:`${et.published_at}::${K$1}::withdraw_raise`,typeArguments:at,arguments:ct}),tt}addUserToWhitelisPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.user_addrs.forEach(ct=>{let ut=[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(s.pool_address),tt.object(ct),tt.pure.u64(s.safe_limit_amount),tt.object(CLOCK_ADDRESS$1)];tt.moveCall({target:`${et.published_at}::${K$1}::add_user_to_whitelist`,typeArguments:at,arguments:ut})}),tt}updateWhitelistCapPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.safe_limit_amount>0&&tt.moveCall({target:`${et.published_at}::${K$1}::update_whitelist_member_safe_limit_amount`,typeArguments:at,arguments:[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(s.pool_address),tt.pure.address(s.white_list_member),tt.pure.u64(s.safe_limit_amount),tt.object(CLOCK_ADDRESS$1)]}),s.hard_cap_total>0&&tt.moveCall({target:`${et.published_at}::${K$1}::update_whitelist_hard_cap_total`,typeArguments:at,arguments:[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(s.pool_address),tt.pure.u64(s.hard_cap_total),tt.object(CLOCK_ADDRESS$1)]}),tt}creatRemoveWhitelistPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.user_addrs.forEach(ct=>{let ut=[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(s.pool_address),tt.object(ct),tt.object(CLOCK_ADDRESS$1)];tt.moveCall({target:`${et.published_at}::${K$1}::remove_user_from_whitelist`,typeArguments:at,arguments:ut})}),tt}creatCancelPoolPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],ct=[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(s.pool_address),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::${K$1}::cancel`,typeArguments:at,arguments:ct}),tt}updateRecipientPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],ct=[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(s.pool_address),tt.object(s.new_recipient),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::${K$1}::update_recipient_address`,typeArguments:at,arguments:ct}),tt}updatePoolDuractionPayload(s){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],ct=[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).config_cap_id),tt.object(s.pool_address),tt.pure.u64(s.activity_duration),tt.pure.u64(s.settle_duration),tt.pure.u64(s.lock_duration),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::${K$1}::update_pool_duration`,typeArguments:at,arguments:ct}),tt}creatUnlockNftPayload(s){let{launchpad:et}=this.sdk.sdkOptions;if(getPackagerConfigs(et)===void 0)throw Error("getPackagerConfigs(launchpad)  is null");let tt=new Transaction,at=[s.nft_type],ct=[tt.object(s.lock_nft),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::lock::unlock_nft`,typeArguments:at,arguments:ct}),tt}async isAdminCap(s){let{launchpad:et}=this._sdk.sdkOptions;if(getPackagerConfigs(et)===void 0)throw Error("launchpad config is empty");let tt=`${s}_isAdminCap`,at=this.getCache(tt);if(at)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(et).admin_cap_id,options:{showType:!0,showOwner:!0}}),ut=getObjectType(ct),bt=getObjectOwner(ct),wt=!1;return bt&&ut&&extractStructTagFromType$1(ut).source_address===`${et.package_id}::config::AdminCap`&&(wt=normalizeSuiAddress$1(bt.AddressOwner)===normalizeSuiAddress$1(s)),this.updateCache(tt,wt,cacheTime24h),wt}async isWhiteListUser(s,et){let tt={type:"address",value:et};try{let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:tt});return!!(at&&at.data)}catch{return!1}}async getPurchaseAmount(s,et){var at;let tt={type:"address",value:et};try{let ct=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:tt}),ut=getObjectFields(ct);if(ut)return(at=ut==null?void 0:ut.value)==null?void 0:at.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getPurchaseMarks(s,et=[],tt=!0){let{launchpad:at}=this._sdk.sdkOptions,ct=`${et}_getPurchaseMark`,ut=this.getCache(ct,tt);if(!tt&&ut!==void 0)return ut;let bt=null,wt=[];for(;;){let Et=await this._sdk.ClmmSDK.fullClient.getOwnedObjects({owner:s,options:{showType:!0,showContent:!0,showDisplay:!0},cursor:bt});for(let Ft of Et.data){let{fields:jt}=Ft.data.content;if(extractStructTagFromType$1(getMoveObjectType(Ft)).source_address===`${at.package_id}::pool::PurchaseMark`){console.log("fields: ",jt);let Lt={id:jt.id.id,pool_id:extractStructTagFromType$1(jt.pool_id).address,purchased_raise_amount:jt.purchase_total,obtain_sale_amount:jt.obtain_sale_amount,used_raise_amount:jt.used_raise_amount};et.length>0?et.includes(Lt.pool_id)&&wt.push(Lt):wt.push(Lt)}}if(Et.hasNextPage)bt=Et.nextCursor;else break}return this.updateCache(ct,wt,cacheTime24h),wt}async getSettleEvent(s){let{launchpad:et}=this._sdk.sdkOptions,tt=`${s}_getPurchaseMark`,at=this.getCache(tt);if(at!==void 0)return at;let ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et.package_id}::pool::SettleEvent`});for(let ut of ct.data){let bt=ut.parsedJson;if(s===normalizeSuiObjectId$1(bt.pool_id)){let wt={pool_id:bt.pool_id,settle_price:bt.settle_price,unused_sale:bt.unused_sale,unused_raise:bt.unused_raise,white_purchase_total:bt.white_purchase_total};return this.updateCache(tt,wt,cacheTime24h),wt}}}buildLaunchpadCoinType(s,et){return composeType$1(this._sdk.sdkOptions.launchpad.package_id,"pool","PoolLiquidityCoin",[s,et])}assertLuanchpadConfig(){let{launchpad:s}=this.sdk.sdkOptions;if(getPackagerConfigs(s)===void 0)throw Error("sdk getPackagerConfigs(launchpad) is null")}updateCache(s,et,tt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(tt),at.value=et):at=new CachedContent(et,getFutureTime(tt)),this._cache[s]=at}getCache(s,et=!1){let tt=this._cache[s];if(!et&&(tt!=null&&tt.isValid()))return tt.value;delete this._cache[s]}},ae$1=class{static buildPoolImmutables(s){let{fields:et}=s.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(et.clmm_pool_id).address,bonus_type:extractStructTagFromType$1(et.bonus_type.fields.name).source_address,pool_id:extractStructTagFromType$1(et.pool_id).address,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).source_address}}static buildPoolState(s){let et=getObjectFields(s),tt=[];return et.config.fields.contents.forEach(at=>{tt.push({rate:Number(d$3(at.fields.key).div(ge$2)),multiplier:Number(d$3(at.fields.value).div(ge$2))})}),{balance:et.balance,config:tt,is_open:et.is_open,index:Number(et.index),start_time:Number(et.start_time),interval_day:Number(et.interval_day),minimum_percent_to_reward:Number(d$3(et.minimum_percent_to_reward).div(ge$2)),rewarders:{rewarder_handle:et.rewarders.fields.id.id,size:Number(et.rewarders.fields.size)},whale_nfts:{whale_nfts_handle:et.whale_nfts.fields.id.id,size:Number(et.whale_nfts.fields.size)},points:{point_handle:et.points.fields.id.id,size:Number(et.points.fields.size)}}}static buildMarkerPositions(s){let{contents:et}=s.value.fields.value.fields,tt=[],at=s.id.id;return et.forEach(ct=>{let{key:ut,value:bt}=ct.fields,wt={id:ut,period_id:at,bonus_num:bt.fields.bonus_num,point:bt.fields.point,is_burn:bt.fields.is_burn,point_after_multiplier:bt.fields.point_after_multiplier,percent:Number(d$3(bt.fields.percent).div(ge$2)),fee_share_rate:0,is_redeemed:bt.fields.is_redeemed};tt.push(wt)}),tt}static buildPoolBonusInfo(s){let{fields:et,type:tt}=s.value.fields.value;return{type:tt,time:Number(et.time),settle_time:Number(et.settle_time),settled_num:et.settled_num,is_settled:et.is_settled,basis_bonus:et.basis_bonus,total_bonus:et.total_bonus,is_vacant:et.is_vacant,redeemed_num:et.redeemed_num}}static getBonusPercent(s,et){let tt=0;for(let at of s)et>=at.rate&&at.rate>tt&&(tt=at.multiplier);return tt}},Gt$1="router",ht$1=class{constructor(s){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s=!1){var ut;let{maker_bonus:et}=this._sdk.sdkOptions,tt=`${et.package_id}_getPoolImmutables`,at=this.getCache(tt,s),ct=[];if(at!==void 0)ct.push(...at);else{let bt=[];(ut=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(et).maker_pool_handle)).data)==null||ut.forEach(Et=>{bt.push(Et.objectId)});let wt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(bt,{showContent:!0});for(let Et of wt){let Ft=getObjectFields(Et);Ft&&ct.push(ae$1.buildPoolImmutables(Ft))}}return ct}async getPoolImmutable(s){let{maker_bonus:et}=this._sdk.sdkOptions,tt=`${et.package_id}_getPoolImmutables`,at=this.getCache(tt);if(at!==void 0){let bt=at.filter(wt=>s===wt.pool_id);if(bt.length>0)return bt[0]}let ct=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(et).maker_pool_handle,name:{type:"0x2::object::ID",value:s}}),ut=getObjectFields(ct);return ae$1.buildPoolImmutables(ut)}async getPools(){let s=[],et=await this.getPoolImmutables(),tt=et.map(ut=>ut.pool_id),at=await this._sdk.ClmmSDK.fullClient.batchGetObjects(tt,{showType:!0,showContent:!0}),ct=0;for(let ut of at){let bt=ae$1.buildPoolState(ut);if(bt){let wt={...et[ct],...bt};s.push(wt);let Et=`${wt.pool_id}_getPoolObject`;this.updateCache(Et,wt,cacheTime24h)}ct+=1}return s}async getPool(s,et=!0){let tt=`${s}_getPoolObject`,at=this.getCache(tt,et),ct=await this.getPoolImmutable(s);if(at!==void 0)return at;let ut=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),bt=ae$1.buildPoolState(ut),wt={...ct,...bt};return this.updateCache(tt,wt,cacheTime24h),wt}async getPoolHandleId(s){let et=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),tt=getObjectFields(et);return tt?tt.list.fields.id.id:""}async getMakerPoolPeriods(s,et=!1){let tt=[],at=`${s.pool_id}_getMakerPoolPeriods`,ct=this.getCache(at,et);return ct!==void 0?ct:((await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(s.whale_nfts.whale_nfts_handle)).data.forEach(ut=>{let bt={id:ut.objectId,start_time:0,end_time:0,period:Number(ut.name.value)};bt.start_time=Number(d$3(s.start_time).add(d$3(s.interval_day).mul(24*3600).mul(bt.period)).toFixed(0,Decimal$1.ROUND_DOWN)),bt.end_time=Number(d$3(bt.start_time).add(d$3(s.interval_day).mul(24*3600)).toFixed(0,Decimal$1.ROUND_DOWN)),tt.push(bt)}),this.updateCache(at,tt,cacheTime24h),tt)}async getMakerBonusInitConfigs(){var at;let{package_id:s}=this.sdk.sdkOptions.maker_bonus,et=(at=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::config::InitEvent`}))==null?void 0:at.data,tt={maker_config_id:"",maker_pool_handle:""};return et.length>0&&et.forEach(ct=>{let ut=ct.parsedJson;ut&&(tt.maker_config_id=ut.config_id)}),tt.maker_pool_handle=await this.getPoolHandleId(tt.maker_config_id),tt}async getPoolMarkerPositionList(s,et,tt=!1){let at={},ct=[];tt||et.forEach(ut=>{let bt=`${s}_${ut.period}_getPoolMarkerPositionList`,wt=this.getCache(bt);wt!==void 0?at[ut.period]=wt:(at[ut.period]=[],ct.push(ut))});try{ct.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(ct.map(bt=>bt.id),{showContent:!0})).forEach(bt=>{let wt=getObjectFields(bt),Et=ae$1.buildMarkerPositions(wt);if(Et.length>0){let{period_id:Ft}=Et[0],jt=et.filter(Lt=>Lt.id===Ft)[0];at[jt.period]=Et}});let ut=[];for(let bt in at)at[bt].forEach(wt=>{ut.push(wt)});if(ut.length>0){let bt=await this._sdk.ClmmSDK.Position.getSipmlePositionList(ut.map(wt=>wt.id));for(let wt of ut)for(let Et of bt)if(wt.id===Et.pos_object_id){wt.clmm_position=Et;break}}}catch(ut){console.log(ut)}for(let ut in at){let bt=`${s}_${ut}_getPoolMarkerPositionList`;this.updateCache(bt,at[ut],cacheTime24h)}return at}async updateXCetusRewarderAndFee(s,et,tt){let at=await this.calculateTotalPointsAfterMultiper(s,tt);for(let ct of et)await this.calculateXCetusRewarder(s,ct,tt.period,at);return et}async calculateXCetusRewarder(s,et,tt,at){let ct=await this.getPoolBonusInfo(s.rewarders.rewarder_handle,tt),{fee_share_rate:ut}=this.calculateFeeShareRate(s,et,at),bt=d$3(ut).mul(ct.total_bonus);return et.is_redeemed?et.bonus_num="0":et.bonus_num=bt.toString(),et.bonus_num}calculateFeeShareRate(s,et,tt){let at=ae$1.getBonusPercent(s.config,et.percent),ct=d$3(et.point).mul(at),ut=d$3(ct).div(tt);return et.point_after_multiplier=ct.toString(),et.fee_share_rate=Number(ut),{fee_share_rate:Number(ut),points_after_multiper:ct.toString()}}async calculateTotalPointsAfterMultiper(s,et){let tt=await this.getPoolMarkerPositionList(s.whale_nfts.whale_nfts_handle,[et]),at=d$3(0),ct=tt[et.period];for(let ut of ct){let bt=ae$1.getBonusPercent(s.config,ut.percent),wt=d$3(ut.point).mul(bt);at=at.add(wt)}return at.toString()}async calculateAllXCetusRewarder(s){let et=this._sdk.ClmmSDK.senderAddress,tt=d$3(0),at=[];for(let ct of s){let ut=await this._sdk.MakerModule.getMakerPoolPeriods(ct),bt=await this._sdk.MakerModule.getPoolMarkerPositionList(ct.whale_nfts.whale_nfts_handle,ut),wt=[];for(let Et of ut){let Ft=bt[Et.period].filter(jt=>{var Lt;return et.length===0?!1:((Lt=jt.clmm_position)==null?void 0:Lt.owner)===et});Ft.length>0&&(await this._sdk.MakerModule.updateXCetusRewarderAndFee(ct,Ft,Et),Ft.forEach(jt=>{var Lt;((Lt=jt.clmm_position)==null?void 0:Lt.position_status)===ClmmPositionStatus.Exists&&d$3(jt.bonus_num).greaterThan(0)&&(tt=tt.add(jt.bonus_num),wt.includes(jt.clmm_position.pos_object_id)||wt.push(jt.clmm_position.pos_object_id))}))}at.push({bonus_type:ct.bonus_type,pool_id:ct.pool_id,nft_ids:wt})}return{claimtotal:tt,claimRecord:at}}async getPoolBonusInfo(s,et,tt=!1){let at=`${s}_${et}_getPoolBonusInfo`,ct=this.getCache(at,tt);if(ct!==void 0)return ct;let ut=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"u64",value:et.toString()}}),bt=getObjectFields(ut),wt=ae$1.buildPoolBonusInfo(bt);return this.updateCache(at,wt,cacheTime5min),wt}claimPayload(s){let{maker_bonus:et,xcetus:tt}=this.sdk.sdkOptions,at=new Transaction;return at.moveCall({target:`${et.published_at}::${Gt$1}::claim`,typeArguments:[s.bonus_type],arguments:[at.object(getPackagerConfigs(et).maker_config_id),at.object(s.market_pool_id),at.object(s.position_nft_id),at.pure.u8(s.phase),at.object(getPackagerConfigs(tt).lock_manager_id),at.object(getPackagerConfigs(tt).xcetus_manager_id),at.object(s.ve_nft_id)]}),at}claimAllPayload(s){let{maker_bonus:et,xcetus:tt}=this.sdk.sdkOptions,at=new Transaction;return s.whale_nfts.forEach(ct=>{ct.nft_ids.forEach(ut=>{at.moveCall({target:`${et.published_at}::${Gt$1}::claim_all`,typeArguments:[ct.bonus_type],arguments:[at.object(getPackagerConfigs(et).maker_config_id),at.object(ct.pool_id),at.object(ut),at.object(getPackagerConfigs(tt).lock_manager_id),at.object(getPackagerConfigs(tt).xcetus_manager_id),at.object(s.ve_nft_id)]})})}),at}updateCache(s,et,tt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(tt),at.value=et):at=new CachedContent(et,getFutureTime(tt)),this._cache[s]=at}getCache(s,et=!1){let tt=this._cache[s];if(!et&&(tt!=null&&tt.isValid()))return tt.value;delete this._cache[s]}},je="router",nt="router",Oe$1=24*3600,Be$1=1e3,U=1e11,z$2={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},W$1=class{static buildVeNFTDividendInfo(s){let et={id:s.id.id,ve_nft_id:s.name,rewards:[]};return s.value.fields.value.fields.dividends.fields.contents.forEach(tt=>{let at=[];tt.fields.value.fields.contents.forEach(ct=>{at.push({coin_type:extractStructTagFromType$1(ct.fields.key.fields.name).source_address,amount:ct.fields.value})}),et.rewards.push({period:Number(tt.fields.key),rewards:at,vesrion:"v1"})}),et}static buildDividendManager(s){let et={id:s.id.id,dividends:{id:s.dividends.fields.id.id,size:s.dividends.fields.size},venft_dividends:{id:s.venft_dividends.fields.id.id,size:s.venft_dividends.fields.size},bonus_types:[],start_time:Number(s.start_time),interval_day:Number(s.interval_day),balances:{id:s.balances.fields.id.id,size:s.balances.fields.size},is_open:s.is_open};return s.bonus_types.forEach(tt=>{et.bonus_types.push(extractStructTagFromType$1(tt.fields.name).source_address)}),et}static buildLockUpManager(s){return{id:s.id.id,balance:s.balance,treasury_manager:s.treasury_manager,extra_treasury:s.extra_treasury,lock_infos:{lock_handle_id:s.lock_infos.fields.id.id,size:Number(s.lock_infos.fields.size)},type_name:normalizeCoinType$1(s.type_name.fields.name),min_lock_day:Number(s.min_lock_day),max_lock_day:Number(s.max_lock_day),package_version:Number(s.package_version),max_percent_numerator:Number(s.max_percent_numerator),min_percent_numerator:Number(s.min_percent_numerator)}}static buildLockCetus(s){let et=s.fields,tt={id:et.id.id,type:extractStructTagFromType$1(s.type).source_address,locked_start_time:Number(et.locked_start_time),locked_until_time:Number(et.locked_until_time),cetus_amount:et.balance,xcetus_amount:"0",lock_day:0};return tt.lock_day=(tt.locked_until_time-tt.locked_start_time)/Oe$1,tt}static getAvailableXCetus(s,et){let tt=d$3(0);return et.forEach(at=>{tt=tt.add(at.xcetus_amount)}),d$3(s.xcetus_balance).sub(tt).toString()}static getWaitUnLockCetuss(s){return s.filter(et=>!W$1.isLocked(et))}static getLockingCetuss(s){return s.filter(et=>W$1.isLocked(et))}static isLocked(s){return s.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(s,et){let tt=new Set;return s==null||s.forEach(at=>{at.rewards.forEach(ct=>{d$3(ct.amount).gt(0)&&tt.add(ct.coin_type)})}),et==null||et.forEach(at=>{at.rewards.forEach(ct=>{d$3(ct.amount).gt(0)&&tt.add(ct.coin_type)})}),Array.from(tt)}static buildDividendRewardTypeListV2(s){let et={};return s==null||s.forEach(tt=>{tt.vesrion==="v2"&&tt.rewards.forEach(at=>{et[at.coin_type]||(et[at.coin_type]=[]),et[at.coin_type].push(tt.period)})}),et}static getNextStartTime(s){let et=Date.now()/1e3,{start_time:tt,interval_day:at}=s,ct=Math.ceil((et-tt)/(at*Oe$1));return tt+ct*at*Oe$1}},Ct=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getOwnerVeNFT(a,s=!0){let{xcetus:et}=this.sdk.sdkOptions,tt=`${a}_getLockUpManagerEvent`,at=this.getCache(tt,s);if(at!==void 0)return at;let ct,ut=`${et.package_id}::xcetus::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:ut}})).data.forEach(bt=>{let wt=extractStructTagFromType$1(getMoveObjectType(bt)).source_address;if(wt===ut&&bt.data&&bt.data.content){let{fields:Et}=bt.data.content;ct={...buildNFT(bt),id:Et.id.id,index:Et.index,type:wt,xcetus_balance:Et.xcetus_balance},this.updateCache(tt,ct,cacheTime24h)}}),ct}async getOwnerLockCetuss(a){let{xcetus:s}=this.sdk.sdkOptions,et=[],tt=`${s.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,at=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0},filter:{StructType:tt}});for(let ct of at.data)if(extractStructTagFromType$1(getMoveObjectType(ct)).source_address===tt&&ct.data){let ut=W$1.buildLockCetus(ct.data.content);ut.xcetus_amount=await this.getXCetusAmount(ut.id),et.push(ut)}return et}async getLockCetus(a){var et;let s=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if((et=s.data)!=null&&et.content){let tt=W$1.buildLockCetus(s.data.content);return tt.xcetus_amount=await this.getXCetusAmount(tt.id),tt}}async getOwnerCetusCoins(a){return await this._sdk.ClmmSDK.getOwnerCoinAssets(a,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:a}=this.sdk.sdkOptions,s=new Transaction;return s.moveCall({target:`${a.published_at}::${je}::mint_venft`,typeArguments:[],arguments:[s.object(getPackagerConfigs(a).xcetus_manager_id)]}),s}async convertPayload(a,s){let{xcetus:et}=this.sdk.sdkOptions;s=s||new Transaction;let tt=this.buileCetusCoinType(),at=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,s,BigInt(a.amount),tt);return a.venft_id===void 0?s.moveCall({target:`${et.published_at}::${je}::mint_and_convert`,typeArguments:[],arguments:[s.object(getPackagerConfigs(et).lock_manager_id),s.object(getPackagerConfigs(et).xcetus_manager_id),at,s.pure.u64(a.amount)]}):s.moveCall({target:`${et.published_at}::${je}::convert`,typeArguments:[],arguments:[s.object(getPackagerConfigs(et).lock_manager_id),s.object(getPackagerConfigs(et).xcetus_manager_id),at,s.pure.u64(a.amount),s.object(a.venft_id)]}),s}redeemLockPayload(a){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${je}::redeem_lock`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).lock_manager_id),et.object(getPackagerConfigs(s).xcetus_manager_id),et.object(a.venft_id),et.pure.u64(a.amount),et.pure.u64(a.lock_day),et.object(CLOCK_ADDRESS$1)]}),et}redeemPayload(a){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${je}::redeem`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).lock_manager_id),et.object(getPackagerConfigs(s).xcetus_manager_id),et.object(a.venft_id),et.object(a.lock_id),et.object(CLOCK_ADDRESS$1)]}),et}redeemDividendPayload(a,s){let{xcetus:et,xcetus_dividends:tt}=this.sdk.sdkOptions,at=new Transaction;return s.forEach(ct=>{at.moveCall({target:`${et.published_at}::${nt}::redeem`,typeArguments:[ct],arguments:[at.object(getPackagerConfigs(tt).dividend_manager_id),at.object(a)]})}),at}redeemDividendV2Payload(a,s,et){let{xcetus_dividends:tt}=this.sdk.sdkOptions,at=new Transaction;return s.filter(ct=>et.includes(ct)).length>0&&(at=this.redeemDividendXTokenPayload(a,at)),s.forEach(ct=>{et.includes(ct)||at.moveCall({target:`${tt.published_at}::${nt}::redeem_v2`,typeArguments:[ct],arguments:[at.object(getPackagerConfigs(tt).dividend_manager_id),at.object(a),at.object(CLOCK_ADDRESS$1)]})}),at}redeemDividendV3Payload(a,s){let{xcetus_dividends:et}=this.sdk.sdkOptions,tt=new Transaction,at=W$1.buildDividendRewardTypeList(s),ct=W$1.buildDividendRewardTypeListV2(s);return at.forEach(ut=>{tt.moveCall({target:`${et.published_at}::${nt}::redeem_v3`,typeArguments:[ut],arguments:[tt.object(getPackagerConfigs(et).dividend_manager_id),tt.object(getPackagerConfigs(et).venft_dividends_id),tt.makeMoveVec({elements:ct[ut].map(bt=>tt.pure.u64(bt)),type:"u64"}),tt.object(a),tt.object(CLOCK_ADDRESS$1)]})}),tt}redeemDividendXTokenPayload(a,s){let{xcetus_dividends:et,xcetus:tt}=this.sdk.sdkOptions,{xcetus_manager_id:at,lock_manager_id:ct}=getPackagerConfigs(tt),{dividend_manager_id:ut}=getPackagerConfigs(et);return s=s===void 0?new Transaction:s,s.moveCall({target:`${et.published_at}::${nt}::redeem_xtoken`,typeArguments:[],arguments:[s.object(ct),s.object(at),s.object(ut),s.object(a),s.object(CLOCK_ADDRESS$1)]}),s}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(a=this._sdk.sdkOptions.xcetus.package_id,s="xcetus",et="XCETUS"){return`${a}::${s}::${et}`}cancelRedeemPayload(a){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${je}::cancel_redeem_lock`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).lock_manager_id),et.object(getPackagerConfigs(s).xcetus_manager_id),et.object(a.venft_id),et.object(a.lock_id),et.object(CLOCK_ADDRESS$1)]}),et}async getInitConfigs(){var ut,bt;let{package_id:a}=this.sdk.sdkOptions.xcetus,s=`${a}_getInitFactoryEvent`,et=this.getCache(s);if(et!==void 0)return et;let tt=(ut=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::xcetus::InitEvent`}))==null?void 0:ut.data,at={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};tt.length>0&&tt.forEach(wt=>{let Et=wt.parsedJson;Et&&(at.xcetus_manager_id=Et.xcetus_manager)});let ct=(bt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::locking::InitializeEvent`}))==null?void 0:bt.data;return ct.length>0&&ct.forEach(wt=>{let Et=wt.parsedJson;Et&&(at.lock_manager_id=Et.lock_manager)}),at.lock_manager_id.length>0&&(at.lock_handle_id=(await this.getLockUpManager(at.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(s,at,cacheTime24h),at}async getLockUpManager(a=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,s=!1){let et=`${a}_getLockUpManager`,tt=this.getCache(et,s);if(tt!==void 0)return tt;let at=await this.sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0}}),ct=W$1.buildLockUpManager(getObjectFields(at));return this.updateCache(et,ct,cacheTime24h),ct}async getDividendConfigs(){var Et,Ft,jt;let{package_id:a}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:s,venft_dividends_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),tt=`${a}_getDividendManagerEvent`,at=this.getCache(tt);if(at!==void 0)return at;let ct=(Et=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::dividend::InitEvent`}))==null?void 0:Et.data,ut=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),bt={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};ct.length>0&&ct.forEach(Lt=>{let Ut=Lt.parsedJson;Ut&&(bt.dividend_manager_id=Ut.manager_id,bt.dividend_admin_id=Ut.admin_id,bt.dividend_settle_id=Ut.settle_id,this.updateCache(tt,bt,cacheTime24h))}),ut&&ut.data&&ut.data.content&&(bt.venft_dividends_id=(jt=(Ft=ut.data.content)==null?void 0:Ft.fields)==null?void 0:jt.value,this.updateCache(tt,bt,cacheTime24h));let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}});return bt.venft_dividends_id_v2=wt.data.content.fields.venft_dividends.fields.id.id,bt}async getDividendManager(a=!1){let{dividend_manager_id:s}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),et=`${s}_getDividendManager`,tt=this.getCache(et,a);if(tt!==void 0)return tt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),ct=getObjectFields(at),ut=W$1.buildDividendManager(ct);return this.updateCache(et,ut,cacheTime24h),ut}async getXcetusManager(a=!0){let{xcetus_manager_id:s}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),et=`${s}_getXcetusManager`,tt=this.getCache(et,a);if(tt)return tt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),ct=getObjectFields(at),ut={id:ct.id.id,index:Number(ct.index),has_venft:{handle:ct.has_venft.fields.id.id,size:ct.has_venft.fields.size},nfts:{handle:ct.nfts.fields.id.id,size:ct.nfts.fields.size},total_locked:ct.total_locked,treasury:ct.treasury.fields.total_supply.fields.value};return this.updateCache(et,ut),ut}async getVeNFTDividendInfoV2(a){let{xcetus_dividends:s}=this._sdk.sdkOptions,{dividend_manager_id:et,venft_dividends_id:tt}=getPackagerConfigs(s),at=new Transaction;at.moveCall({target:`${s.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[at.object(et),at.object(tt),at.object(a)]});let ct=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:this._sdk.ClmmSDK.senderAddress}),{contents:ut}=ct.events[0].parsedJson.info,bt={id:"",ve_nft_id:a,rewards:[]};return ut.forEach(wt=>{let Et=[],Ft=wt.key,{contents:jt}=wt.value;jt.forEach(Lt=>{Et.push({coin_type:extractStructTagFromType$1(Lt.key.name).source_address,amount:Lt.value})}),bt.rewards.push({period:Number(Ft),rewards:Et,vesrion:Number(Ft)>66?"v2":"v1"})}),bt}async getVeNFTDividendInfo(a,s,et){let tt,at={id:"",ve_nft_id:et,rewards:[]};try{tt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:et}});let ut=getObjectFields(tt);at=W$1.buildVeNFTDividendInfo(ut)}catch{tt=void 0}let ct=[];try{let ut=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:et}}),bt=getObjectFields(ut).value.fields.value.fields.dividends.fields.id.id,wt=null,Et=50,Ft=[];for(;;){let jt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:bt,cursor:wt,limit:Et});if(jt.data.forEach(Lt=>{Ft.push(Lt.objectId)}),wt=jt.nextCursor,wt===null||jt.data.length<Et)break}(await this._sdk.ClmmSDK.fullClient.batchGetObjects(Ft,{showType:!0,showContent:!0})).forEach(jt=>{ct.push({period:Number(jt.data.content.fields.name),vesrion:"v2",rewards:jt.data.content.fields.value.fields.contents.map(Lt=>({coin_type:extractStructTagFromType$1(Lt.fields.key.fields.name).source_address,amount:Lt.fields.value}))})})}catch(ut){console.log("error:",ut)}return{...at,rewards:[...at.rewards,...ct]}}redeemNum(a,s){if(BigInt(a)===BigInt(0))return{amountOut:"0",percent:"0"};let et=d$3(U).mul(d$3(z$2.max_lock_day).sub(d$3(s))).mul(d$3(z$2.max_percent_numerator).sub(d$3(z$2.min_percent_numerator))).div(d$3(z$2.max_lock_day).sub(d$3(z$2.min_lock_day))),tt=d$3(U).mul(d$3(z$2.max_percent_numerator)).sub(et).div(d$3(Be$1)).div(U);return{amountOut:d$3(tt).mul(d$3(a)).round().toString(),percent:tt.toString()}}reverseRedeemNum(a,s){if(BigInt(a)===BigInt(0))return{amountOut:"0",percent:"0"};let et=d$3(U).mul(d$3(z$2.max_lock_day).sub(d$3(s))).mul(d$3(z$2.max_percent_numerator).sub(d$3(z$2.min_percent_numerator))).div(d$3(z$2.max_lock_day).sub(d$3(z$2.min_lock_day))),tt=d$3(U).mul(d$3(z$2.max_percent_numerator)).sub(et).div(d$3(Be$1)).div(U);return{amountOut:d$3(a).div(tt).toFixed(0,Decimal$1.ROUND_UP),percent:tt.toString()}}async getXCetusAmount(a){let{lock_handle_id:s}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),et=`${a}_getXCetusAmount`,tt=this.getCache(et);if(tt!==void 0)return tt;try{let at=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:a}}),ct=getObjectFields(at);if(ct){let{xcetus_amount:ut}=ct.value.fields.value.fields;return this.updateCache(et,ut,cacheTime24h),ut}}catch{}return"0"}async getVeNftAmount(a,s){try{let et=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}}),tt=getObjectFields(et);if(tt){let{lock_amount:at,xcetus_amount:ct}=tt.value.fields.value.fields;return{lock_amount:at,xcetus_amount:ct}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(a,s=!1){let et=(await this.getDividendManager()).dividends.id,tt=`${et}_${a}_getPhaseDividendInfo`,at=this._sdk.getCache(tt,s);if(at)return at;try{let ct=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"u64",value:a}}),ut=getObjectFields(ct),bt=ut.value.fields.value.fields,wt=bt.redeemed_num.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),Et=bt.bonus_types.map(Lt=>Lt.fields.name),Ft=bt.bonus.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),jt={id:getObjectId(ct),phase:ut.name,settled_num:bt.settled_num,register_time:bt.register_time,redeemed_num:wt,is_settled:bt.is_settled,bonus_types:Et,bonus:Ft,phase_end_time:""};return this.updateCache(tt,jt),jt}catch{}}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a];if(!s&&(et!=null&&et.isValid()))return et.value;delete this._cache[a]}},Ai="factory",H$1="oversubscribe_pool",Pt$1=1e6,ke$1=1e18,xi=(a=>(a.Upcoming="Upcoming",a.Live="Live",a.Ended="Ended",a.Failed="Failed",a.Canceled="Canceled",a))(xi||{}),xe$1="router",Tt$1="router",st$1="router",Di=(a=>(a.BOTH="both",a.LEFT="left",a.Right="right",a))(Di||{}),Li=(a=>(a[a.CURVE=3]="CURVE",a[a.BID_ASK=4]="BID_ASK",a))(Li||{}),Zt$1={curve:{strategy:3,both_side:{div_width:10,ratios:[.333333,.266666,.2,.133333,.066666]},one_side:{div_width:5,ratios:[.333333,.266666,.2,.133333,.066666]}},bidAsk:{strategy:4,both_side:{div_width:10,ratios:[.172413793,.137931034,.103448276,.068965517,.034482759,.068965517,.103448276,.137931034,.172413793]},one_side:{div_width:5,ratios:[.066666667,.13333333,.2,.266666667,.333333333]}}};function Fi(a){return"master_address"in a}var Mi="router",Ri="vaults",qi=1e4,Ni=(a=>(a.STATUS_RUNNING="STATUS_RUNNING",a.STATUS_REBALANCING="STATUS_REBALANCING",a))(Ni||{}),Bi=(a=>(a.Haedal="Haedal",a.Volo="Volo",a.Aftermath="aftermath",a))(Bi||{}),Ei=(a=>(a.Running="Running",a.PartialCompleted="PartialCompleted",a.Completed="Completed",a.Cancelled="Cancelled",a))(Ei||{}),A=class{static buildIdoPoolImmutables(a){return{pool_address:normalizeSuiObjectId$1(a.pool_id),coin_type_sale:extractStructTagFromType$1(a.sale_coin_type.name).full_address,coin_type_raise:extractStructTagFromType$1(a.raise_coin_type.name).full_address,tick_spacing:Number(a.tick_spacing),total_supply:a.total_supply,min_purchase:a.min_purchase_amount,max_purchase:a.max_purchase_amount}}static buildIdoPool(a){let s=getMoveObjectType(a),et=extractStructTagFromType$1(s),tt=getObjectFields(a),at={pool_address:normalizeSuiObjectId$1(tt.id.id),coin_type_sale:et.type_arguments[0],coin_type_raise:et.type_arguments[1],tick_spacing:Number(tt.tick_spacing),total_supply:tt.total_supply,min_purchase:tt.min_purchase_amount,max_purchase:tt.max_purchase_amount},ct={start_time:Number(tt.duration_manager.fields.start_time),lock_up_duration:Number(tt.duration_manager.fields.lock_up_duration),purchase_duration:Number(tt.duration_manager.fields.purchase_duration),end_time:0};ct.end_time=ct.start_time+ct.purchase_duration;let ut={complete_raise_limit:tt.complete_raise_limit,liquidity_injection_ratio:d$3(tt.liquidity_injection_ratio).div(Pt$1).toNumber(),current_sqrt_price_min:tt.current_sqrt_price_min,current_sqrt_price_max:tt.current_sqrt_price_max,owner:tt.owner,sale_coin_amount:tt.sale_coin,raise_coin_amount:tt.raise_coin,price:tt.price,current_price:tt.price,duration_summary:ct,is_cancelled:tt.is_cancelled,is_liquidity_injected:tt.is_liquidity_injected,liquidity_used_raise_amount:tt.liquidity_used_raise_amount,liquidity_used_sale_amount:tt.liquidity_used_sale_amount,purchase_summary:{size:Number(tt.purchase_manager.fields.purchases.fields.size),purchase_handle:tt.purchase_manager.fields.purchases.fields.id.id},total_purchase_amount:tt.total_purchase_amount,white_summary:{white_list_id:tt.white_list.fields.id.id,protection_limit_used:tt.white_list.fields.protection_limit_used,protection_hard_cap:tt.white_list.fields.protection_hard_cap,white_handle:tt.white_list.fields.addresses.fields.id.id,size:Number(tt.white_list.fields.addresses.fields.size)},pool_status:"Upcoming",max_raise_amount:"",sale_decimals:0,raise_decimals:0,is_withdrawn:tt.is_withdrawn};return A.updatePoolStatus(ut),{...at,...ut}}static is_init_period(a){return Number(d$3(Date.now()/1e3).toFixed(0))<a.start_time}static is_purchase_period(a){let s=Number(d$3(Date.now()/1e3).toFixed(0));return s>=a.start_time&&s<=a.start_time+a.purchase_duration}static is_claim_period(a){let s=Number(d$3(Date.now()/1e3).toFixed(0)),et=a.start_time+a.purchase_duration;return s>et}static is_can_inject_liquidity(a){return!a.is_cancelled&&a.liquidity_injection_ratio!==0&&A.is_claim_period(a.duration_summary)&&!a.is_liquidity_injected}static is_can_withdraw(a){return a.is_withdrawn?!1:A.is_sale_failed(a)?!0:(a.liquidity_injection_ratio===0||a.is_liquidity_injected)&&A.is_claim_period(a.duration_summary)}static is_sale_failed(a){return!!(a.is_cancelled||A.is_claim_period(a.duration_summary)&&d$3(a.total_purchase_amount).lessThan(a.complete_raise_limit))}static buildPurchaseInfo(a){return{...a.value.fields.value.fields,owner:a.name}}static calculateRedeemAmount(a,s){let et,tt;if(A.is_sale_failed(a))et="0",tt="0";else if(s.is_redeemed)et=s.obtained_sale_amount,tt=s.used_raise_amount;else if(d$3(a.total_purchase_amount).lessThanOrEqualTo(a.max_raise_amount))et=d$3(s.purchased_raise_amount).mul(ke$1).div(a.price).toString(),tt=s.purchased_raise_amount;else{let ct=A.redeemForSaleOversubcribeV2(a,s);et=ct.user_obtained_sale_amount,tt=ct.user_used_raise_amount_ceil}et=Decimal$1.floor(et);let at=Decimal$1.floor(d$3(s.purchased_raise_amount).sub(tt).toString());return{obtained_sale_amount:et,refunded_raise_amount:at}}static calculateWithdrawAmount(a){let s,et,tt=d$3(a.total_supply).mul(a.liquidity_injection_ratio);if(A.is_sale_failed(a))s="0",et=d$3(tt).add(a.total_supply);else{let{max_raise_amount:at}=a;d$3(a.total_purchase_amount).greaterThanOrEqualTo(at)?(s=d$3(at).sub(a.liquidity_used_raise_amount).toString(),et="0"):(s=d$3(a.total_purchase_amount).sub(a.liquidity_used_raise_amount),et=d$3(a.total_supply).add(tt).sub(a.liquidity_used_sale_amount).sub(A.get_sold_amount(a)))}return{obtained_raise_amount:Decimal$1.floor(s).toString(),refunded_sale_amount:Decimal$1.ceil(et).toString()}}static get_sold_amount(a){return d$3(a.total_purchase_amount).greaterThanOrEqualTo(a.max_raise_amount)?a.total_supply:d$3(a.total_purchase_amount).mul(ke$1).div(a.price)}static redeemForSaleOversubcribe(a,s){let et=s.protection_raise_amount,tt=d$3(s.purchased_raise_amount).sub(et),at=a.max_raise_amount,{protection_limit_used:ct}=a.white_summary,ut=d$3(at).sub(ct),bt=d$3(a.total_purchase_amount).sub(ct),wt=Decimal$1.ceil(tt.mul(ut).div(bt).add(et)),Et=Decimal$1.floor(tt.mul(ut).div(bt).add(et));return{user_obtained_sale_amount:Decimal$1.floor(d$3(a.total_supply).mul(Et).div(at)),user_used_raise_amount_ceil:wt}}static redeemForSaleOversubcribeV2(a,s){let et=s.protection_raise_amount,tt=d$3(s.purchased_raise_amount).sub(et),at=a.max_raise_amount,{protection_limit_used:ct}=a.white_summary,ut=d$3(at).sub(ct),bt=d$3(a.total_purchase_amount).sub(ct),wt=d$3(et).mul(bt).add(d$3(tt).mul(ut)).mul(ke$1).div(d$3(bt).mul(a.price)),Et=Decimal$1.ceil(wt.mul(a.price).div(ke$1));return{user_obtained_sale_amount:wt,user_used_raise_amount_ceil:Et}}static raiseTotalAmount(a){let s=d$3(a.sale_decimals-a.raise_decimals).abs().toNumber();return a.sale_decimals>a.raise_decimals?d$3(a.total_supply).mul(a.current_price).div(d$3(10).pow(d$3(s))).toString():d$3(a.total_supply).mul(a.current_price).mul(d$3(10).pow(d$3(s))).toString()}static updatePoolStatus(a){let s=Number(d$3(Date.now()/1e3).toFixed(0)),et=a.duration_summary,tt=et.start_time+et.purchase_duration;a.is_cancelled?a.pool_status="Canceled":s<et.start_time?a.pool_status="Upcoming":s>et.start_time&&s<tt?a.pool_status="Live":d$3(a.total_purchase_amount).lessThan(a.complete_raise_limit)?a.pool_status="Failed":a.pool_status="Ended"}static async calculatePoolUiPrice(a,s){let et=await a.ClmmSDK.CetusConfig.getTokenListByCoinTypes([s.coin_type_sale,s.coin_type_raise]),tt=et[s.coin_type_sale].decimals,at=et[s.coin_type_raise].decimals;s.current_price=I$2.priceFixToReal(Number(d$3(s.price).div(d$3(ke$1)).toString()),tt,at).toString(),s.sale_decimals=tt,s.raise_decimals=at,s.max_raise_amount=this.raiseTotalAmount(s)}},bn$1=(a=>(a.V1="1",a.V2="2",a))(bn$1||{}),ce$1=class{static buildVeNFTDividendInfo(s){let et={id:s.id.id,ve_nft_id:s.name,rewards:[]};return s.value.fields.value.fields.dividends.fields.contents.forEach(tt=>{let at=[];tt.fields.value.fields.contents.forEach(ct=>{at.push({coin_type:extractStructTagFromType$1(ct.fields.key.fields.name).source_address,amount:ct.fields.value})}),et.rewards.push({period:Number(tt.fields.key),rewards:at})}),et}static buildDividendManager(s){let et={id:s.id.id,dividends:{id:s.dividends.fields.id.id,size:s.dividends.fields.size},venft_dividends:{id:s.venft_dividends.fields.id.id,size:s.venft_dividends.fields.size},bonus_types:[],start_time:Number(s.start_time),interval_day:Number(s.interval_day),balances:{id:s.balances.fields.id.id,size:s.balances.fields.size},is_open:s.is_open};return s.bonus_types.forEach(tt=>{et.bonus_types.push(extractStructTagFromType$1(tt.fields.name).source_address)}),et}static buildLockUpManager(s){return{id:s.id.id,balance:s.balance,treasury_manager:s.treasury_manager,extra_treasury:s.extra_treasury,lock_infos:{lock_handle_id:s.lock_infos.fields.id.id,size:Number(s.lock_infos.fields.size)},type_name:normalizeCoinType$1(s.type_name.fields.name),min_lock_day:Number(s.min_lock_day),max_lock_day:Number(s.max_lock_day),package_version:Number(s.package_version),max_percent_numerator:Number(s.max_percent_numerator),min_percent_numerator:Number(s.min_percent_numerator)}}static buildLockToken(s){let et=s.fields,tt={id:et.id.id,type:extractStructTagFromType$1(s.type).source_address,locked_start_time:Number(et.locked_start_time),locked_until_time:Number(et.locked_until_time),token_amount:et.balance,xtoken_amount:"0",lock_day:0};return tt.lock_day=(tt.locked_until_time-tt.locked_start_time)/Oe$1,tt}static getAvailableXToken(s,et){let tt=d$3(0);return et.forEach(at=>{tt=tt.add(at.xtoken_amount)}),d$3(s.xtoken_balance).sub(tt).toString()}static getWaitUnLockTokens(s){return s.filter(et=>!ce$1.isLocked(et))}static getLockingTokens(s){return s.filter(et=>ce$1.isLocked(et))}static buildDividendRewardTypeList(s){let et=new Set;return s.forEach(tt=>{tt.rewards.forEach(at=>{et.add(at.coin_type)})}),Array.from(et)}static isLocked(s){return s.locked_until_time>Date.parse(new Date().toString())/1e3}static getNextStartTime(s,et=Oe$1){let tt=Date.now()/1e3,{start_time:at,interval_day:ct}=s,ut=Math.ceil((tt-at)/(ct*et));return at+ut*ct*et}},J$1=class{static getDefaultStrategyConfig(s){let et;switch(s){case 4:et=Zt$1.bidAsk;break;default:et=Zt$1.curve;break}return et}static geTickIndexRange(s,et,tt,at){let ct,ut;switch(s=TickMath.getInitializableTickIndex(s,et),at){case"left":s>0?(ut=d$3(s).sub(et).toNumber(),ct=d$3(s).mul(d$3(1).add(tt)).toDecimalPlaces(0).toNumber()):(ut=d$3(s).sub(et).toNumber(),ct=d$3(s).mul(d$3(1).sub(tt)).toDecimalPlaces(0).toNumber());break;case"right":s>0?(ut=d$3(s).mul(d$3(1).add(tt)).toDecimalPlaces(0).toNumber(),ct=d$3(s).add(et).toNumber()):(ut=d$3(s).mul(d$3(1).sub(tt)).toDecimalPlaces(0).toNumber(),ct=d$3(s).add(et).toNumber());break;default:s>0?(ct=d$3(s).mul(d$3(1).sub(tt)).toDecimalPlaces(0).toNumber(),ut=d$3(s).mul(d$3(1).add(tt)).toDecimalPlaces(0).toNumber()):(ct=d$3(s).mul(d$3(1).add(tt)).toDecimalPlaces(0).toNumber(),ut=d$3(s).mul(d$3(1).sub(tt)).toDecimalPlaces(0).toNumber());break}if(ct=TickMath.getInitializableTickIndex(ct,et),ut=TickMath.getInitializableTickIndex(ut,et),ct<MIN_TICK_INDEX)throw Error("Tick lower value is below the minimum allowed value.");if(ut>MAX_TICK_INDEX)throw Error("Tick upper value is above the maximum allowed value.");return{tick_lower:ct,tick_upper:ut}}static getCreateLiquidityBins(s,et){let tt=[];switch(et){case 4:tt=J$1.getCreateBidAskLiquidityBins(s);break;default:tt=J$1.getCreateCurveLiquidityBins(s);break}return tt}static getCreateBidAskLiquidityBins(s){let et=d$3(Math.floor(d$3(s.tick_upper).sub(s.tick_lower).div(s.div_width).toNumber())).abs(),tt=[],at=s.ratios,ct,ut;for(let bt=0;bt<at.length;bt++){let wt,Et;s.tick_upper<=s.curr_tick?(Et=d$3(s.tick_upper).sub(et.mul(bt)).toNumber(),wt=d$3(Et).sub(et).toNumber()):s.tick_lower>=s.curr_tick?(wt=d$3(s.tick_lower).add(et.mul(bt)).toNumber(),Et=d$3(s.tick_lower).add(et.mul(bt+1)).toNumber()):bt===4?(wt=d$3(s.tick_lower).add(et.mul(bt)).toNumber(),Et=d$3(wt).add(et.mul(2)).toNumber()):bt>4?(wt=d$3(s.tick_lower).add(et.mul(bt+1)).toNumber(),Et=d$3(wt).add(et).toNumber()):(wt=d$3(s.tick_lower).add(et.mul(bt)).toNumber(),Et=d$3(wt).add(et).toNumber()),ct=TickMath.getInitializableTickIndex(wt,s.tick_spacing),ut=TickMath.getInitializableTickIndex(Et,s.tick_spacing),tt.push({tick_lower:ct,tick_upper:ut,ratio:at[bt],liquidity:"0"})}return tt}static getCreateCurveLiquidityBins(s){let et=d$3(Math.floor(d$3(s.tick_upper).sub(s.tick_lower).div(s.div_width).toNumber())).abs(),tt=[],at=s.ratios;for(let ct=0;ct<at.length;ct++){let ut,bt;s.tick_upper<=s.curr_tick?(bt=s.tick_upper,ut=d$3(s.tick_upper).sub(et.mul(ct+1)).toNumber()):s.tick_lower>=s.curr_tick?(ut=s.tick_lower,bt=d$3(ut).add(et.mul(ct+1)).toNumber()):(ut=d$3(s.curr_tick).sub(et.mul(ct+1)).toNumber(),bt=d$3(s.curr_tick).add(et.mul(ct+1)).toNumber()),tt.push({tick_lower:TickMath.getInitializableTickIndex(ut,s.tick_spacing),tick_upper:TickMath.getInitializableTickIndex(bt,s.tick_spacing),ratio:at[ct],liquidity:"0"})}return tt}static calculateAddLiquidityInputs(s){let et=new BN(TickMath.tickIndexToSqrtPriceX64(s.curr_tick)),tt=J$1.calculateCoinRatios(s.curr_tick,s.liquidity_bins),at=s.liquidity_bins.map((ct,ut)=>{let bt=tt[ut],wt=d$3(s.coin_amount).mul(s.fix_amount_a?bt.coinRatioA:bt.coinRatioB).toFixed(0).toString();try{return{...ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(ct.tick_lower,ct.tick_upper,new BN(wt),s.fix_amount_a,!0,s.slippage,et),...ct}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!s.fix_amount_a,...ct}}});return J$1.fixLiquidityInputs(et,s.slippage,at,!0)}static fixLiquidityInputs(s,et,tt,at){let ct=tt.filter(bt=>bt.liquidityAmount.gt(ZERO$1));if(ct.length===0)return[];let ut=ct[0];return tt.map(bt=>{if(bt.liquidityAmount.eq(ZERO$1)){let wt=d$3(ut.liquidityAmount.toString()).mul(bt.ratio).div(ut.ratio).toFixed(0),Et=TickMath.tickIndexToSqrtPriceX64(bt.tick_lower),Ft=TickMath.tickIndexToSqrtPriceX64(bt.tick_upper),jt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(wt.toString()),s,Et,Ft,!1);return{coinAmountA:jt.coinA,coinAmountB:jt.coinB,liquidityAmount:new BN(wt.toString()),fix_amount_a:bt.fix_amount_a,...adjustForCoinSlippage(jt,Percentage.fromDecimal(d$3(et).mul(100)),at)}}return bt})}static calculateCoinRatios(s,et){let tt=new BN(TickMath.tickIndexToSqrtPriceX64(s)),at=[],ct=d$3(0),ut=d$3(0),bt=et.map(Ft=>{let jt=d$3(toDecimalsAmount(100,6).toString()).mul(Ft.ratio).toFixed(0).toString(),Lt=TickMath.tickIndexToSqrtPriceX64(Ft.tick_lower),Ut=TickMath.tickIndexToSqrtPriceX64(Ft.tick_upper),Vt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(jt),tt,Lt,Ut,!0);return ct=ct.add(Vt.coinA.toString()),ut=ut.add(Vt.coinB.toString()),{...Vt,liquidity:jt}}),wt=[],Et=[];return bt.forEach((Ft,jt)=>{let Lt={coinRatioA:ct.eq(d$3(0))?0:d$3(Ft.coinA.toString()).div(ct).toNumber(),coinRatioB:ut.eq(d$3(0))?0:d$3(Ft.coinB.toString()).div(ut).toNumber(),liquiditys:Ft.liquidity,tick_lower:et[jt].tick_lower,tick_upper:et[jt].tick_upper};at.push(Lt),wt.push(ct.eq(d$3(0))?0:d$3(Ft.coinA.toString()).div(ct).toNumber()),Et.push(ut.eq(d$3(0))?0:d$3(Ft.coinB.toString()).div(ut).toNumber())}),at}static calculateCloseMasterLiquidityInputs(s){let et=new BN(TickMath.tickIndexToSqrtPriceX64(s.curr_tick));return s.positions.map(tt=>{let at=new BN(tt.liquidity),ct=TickMath.tickIndexToSqrtPriceX64(tt.tick_lower_index),ut=TickMath.tickIndexToSqrtPriceX64(tt.tick_upper_index),bt=ClmmPoolUtil.getCoinAmountFromLiquidity(at,et,ct,ut,!1),wt=Percentage.fromDecimal(d$3(s.slippage).mul(100)),{tokenMaxA:Et,tokenMaxB:Ft}=adjustForCoinSlippage(bt,wt,!1);return{coinAmountA:bt.coinA,coinAmountB:bt.coinB,tokenMaxA:Et,tokenMaxB:Ft,liquidityAmount:at,fix_amount_a:!1}})}static calculateRemoveMasterLiquidityInputs(s){let et=new BN(TickMath.tickIndexToSqrtPriceX64(s.curr_tick)),{fix_token:tt}=s;if(tt){let at=s.positions.map((bt,wt)=>({tick_lower:bt.tick_lower_index,tick_upper:bt.tick_upper_index,ratio:s.ratios[wt]})),ct=J$1.calculateCoinRatios(s.curr_tick,at),ut=s.positions.map((bt,wt)=>{let Et=ct[wt],Ft=d$3(tt.coin_amount).mul(tt.fix_amount_a?Et.coinRatioA:Et.coinRatioB).toFixed(0).toString();try{let jt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(bt.tick_lower_index,bt.tick_upper_index,new BN(Ft),tt.fix_amount_a,!1,s.slippage,et);return{...jt,tick_lower:bt.tick_lower_index,tick_upper:bt.tick_upper_index,liquidity:jt.liquidityAmount.toString(),ratio:s.ratios[wt]}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!tt.fix_amount_a,tick_lower:bt.tick_lower_index,tick_upper:bt.tick_upper_index,liquidity:"0",ratio:s.ratios[wt]}}});return J$1.fixLiquidityInputs(et,s.slippage,ut,!1)}return s.positions.map((at,ct)=>{let ut=s.ratios[ct],bt=d$3(s.liquidity).mul(ut).toFixed(0);d$3(bt).greaterThan(at.liquidity)&&(bt=at.liquidity);let wt=TickMath.tickIndexToSqrtPriceX64(at.tick_lower_index),Et=TickMath.tickIndexToSqrtPriceX64(at.tick_upper_index),Ft=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(bt),et,wt,Et,!1),jt=Percentage.fromDecimal(d$3(s.slippage).mul(100)),{tokenMaxA:Lt,tokenMaxB:Ut}=adjustForCoinSlippage(Ft,jt,!1);return{coinAmountA:Ft.coinA,coinAmountB:Ft.coinB,tokenMaxA:Lt,tokenMaxB:Ut,liquidityAmount:new BN(bt),fix_amount_a:!1}})}static buildMasterPosition(s){return{coin_type_a:extractStructTagFromType$1(s.coin_type_a.fields.name).full_address,coin_type_b:extractStructTagFromType$1(s.coin_type_b.fields.name).full_address,description:s.description,id:s.id.id,index:s.index,liquidity:s.liquidity,name:s.name,pool:s.pool,tick_lower_index:asIntN(BigInt(s.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(s.tick_upper_index.fields.bits)),url:s.url}}static buildMasterNFT(s){let et=getObjectFields(s);if(et){let tt={id:et.id.id,pool_id:et.pool_id,index:Number(et.index),strategy:Number(et.strategy),tick_lower_index:asIntN(BigInt(et.tick_lower_index)),tick_upper_index:asIntN(BigInt(et.tick_upper_index)),positions:[],...buildNFT(s)};return tt.positions=et.positions.map(at=>J$1.buildMasterPosition(at.fields)),tt}}},q$2=class{static generateNextTickRange(s,et,tt){let at=s-et/2,ct=s+et/2;return{new_tick_lower:q$2.getValidTickIndex(at,tt),new_tick_upper:q$2.getValidTickIndex(ct,tt)}}static calculateDepositRatio(s,et,tt){let at=TickMath.sqrtPriceX64ToTickIndex(tt);if(at<s)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if(at>et)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let ct=new BN(1e8),{coinAmountB:ut}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(s,et,ct,!0,!0,0,tt),bt=TickMath.sqrtPriceX64ToPrice(tt,0,0),wt=d$3(ct.toString()).mul(bt),Et=wt.add(ut.toString()),Ft=wt.div(Et),jt=d$3(ut.toString()).div(Et);return{ratioA:Ft,ratioB:jt}}static getValidTickIndex(s,et){if(s%et===0)return s;let tt;if(s>0?tt=s-s%et+et:s<0?tt=s+Math.abs(s)%et-et:tt=s,tt%et!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(tt)<Math.abs(s))throw new Error("Assertion failed: res.abs() >= tickIndex");return tt}static get_lp_amount_by_liquidity(s,et){return s.total_supply==="0"?"0":d$3(s.total_supply).mul(et).div(s.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(s,et){return s.total_supply==="0"?"0":d$3(et).mul(s.liquidity).div(s.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(s,et){return d$3(et).mul(s.protocol_fee_rate).div(qi).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(s){let et=s.clmm_postion.fields;return{id:s.id.id,url:et.url,pool_id:s.pool_id,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).full_address,description:et.description,name:et.name,liquidity:et.liquidity,clmm_position_id:et.id.id,clmm_pool_id:et.pool,tick_lower_index:asIntN(BigInt(et.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(et.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(s){let et=getObjectFields(s),tt=getObjectType(s),{positions:at}=et;if(et&&at.length>0){let ct=q$2.buildFramsPositionNFT(at[0].fields);return{id:et.id.id,pool_id:et.pool,protocol_fee_rate:et.protocol_fee_rate,is_pause:et.is_pause,harvest_assets:{harvest_assets_handle:et.harvest_assets.fields.id.id,size:Number(et.harvest_assets.fields.size)},lp_token_type:extractStructTagFromType$1(tt).type_arguments[0],total_supply:et.lp_token_treasury.fields.total_supply.fields.value,liquidity:et.liquidity,max_quota:et.max_quota,status:et.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:et.quota_based_type.fields.name,position:ct}}}static async getSuiCoin(s,et,tt){let at=await s.ClmmSDK.getOwnerCoinAssets(s.getVerifySenderAddress(),GAS_TYPE_ARG$1);tt=tt||new Transaction;let ct;if(et>95e10){let[ut,...bt]=at;bt.length>0&&tt.mergeCoins(tt.object(ut.coinObjectId),bt.map(wt=>tt.object(wt.coinObjectId))),ct=tt.splitCoins(tt.object(ut.coinObjectId),[et])}else ct=TransactionUtil.buildCoinForAmount(tt,at,BigInt(et),GAS_TYPE_ARG$1,!1,!0).targetCoin;return ct}},Le$1=class{static calculatePositionShare(s,et,tt,at,ct,ut,bt){if(et<=ct||s>=ut)return"0";let wt=0;s<ct?wt=ct:wt=s;let Et=0;et<ut?Et=et:Et=ut;let Ft=TickMath.tickIndexToSqrtPriceX64(wt),jt=TickMath.tickIndexToSqrtPriceX64(Et),{coinA:Lt,coinB:Ut}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(tt),new BN(bt),Ft,jt,!0);return d$3(Lt.toString()).mul(at).div(1e12).add(Ut.toString()).toString()}static buildFramsPool(s){let et=getObjectFields(s);if(et)try{let tt=[];return et.rewarders.forEach(at=>{tt.push({reward_coin:extractStructTagFromType$1(at.fields.name).full_address,last_reward_time:"",emission_per_second:"",total_allocate_point:"",allocate_point:""})}),{id:et.id.id,clmm_pool_id:et.clmm_pool_id,effective_tick_lower:asIntN(BigInt(et.effective_tick_lower.fields.bits)),effective_tick_upper:asIntN(BigInt(et.effective_tick_upper.fields.bits)),total_share:et.total_share,rewarders:tt,positions:{positions_handle:et.positions.fields.id.id,size:et.positions.fields.size},sqrt_price:et.sqrt_price}}catch(tt){console.log(tt)}}static buildFramsPositionNFT(s){let et=getObjectFields(s);if(et){let tt=et.clmm_postion.fields;return{id:et.id.id,url:tt.url,pool_id:et.pool_id,coinTypeA:extractStructTagFromType$1(tt.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(tt.coin_type_b.fields.name).full_address,description:tt.description,name:tt.name,liquidity:tt.liquidity,clmm_position_id:tt.id.id,clmm_pool_id:tt.pool,tick_lower_index:asIntN(BigInt(tt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(tt.tick_upper_index.fields.bits)),rewards:[]}}}},Pe$2=class{static buildOrderLimitEvent(s,et){let{events:tt}=s,at=[];return tt&&tt.forEach(ct=>{let ut=extractStructTagFromType$1(ct.type).name;if(et.includes(ut)){let bt={digest:s.digest,type:ut,timestampMs:s.timestampMs,parsedJson:ct.parsedJson};at.push(bt)}}),at}static buildLimitOrderInfo(s){let et=getObjectFields(s),tt=getObjectType(s);if(et&&tt)try{let at=extractStructTagFromType$1(tt),ct={pay_coin_type:at.type_arguments[0],target_coin_type:at.type_arguments[1],canceled_ts:et.canceled_ts==="18446744073709551615"?0:Number(et.canceled_ts),id:et.id.id,obtained_amount:et.obtained_amount,owner:et.owner,rate:et.rate,rate_order_indexer_id:et.rate_order_indexer_id,expire_ts:Number(et.expire_ts),total_pay_amount:et.total_pay_amount,pay_balance:et.pay_balance,target_balance:et.target_balance,claimed_amount:et.claimed_amount,status:"Running",created_ts:Number(et.created_ts)};return ct.canceled_ts===0?(ct.status="Running",d$3(ct.pay_balance).eq(0)?ct.status="Completed":d$3(ct.pay_balance).lessThan(ct.total_pay_amount)&&(ct.status="PartialCompleted")):ct.status="Cancelled",ct}catch(at){console.log(at)}}static rateToPrice(s,et,tt){let at=18+et-tt;return d$3(10**at).div(s).toString()}static priceToRate(s,et,tt){let at=18+et-tt;return d$3(10).pow(at).div(d$3(s)).toFixed(0).toString()}},Ve$2=class{static async getExchangeRateForStake(s,et,tt){let{vaults:at}=s.sdkOptions,{haedal:ct}=getPackagerConfigs(at);if(ct===void 0)throw Error("the haedal config is undefined");let{simulationAccount:ut}=s.ClmmSDK.sdkOptions,{staking_id:bt}=getPackagerConfigs(ct);try{let wt=new Transaction;et?await this.requestStake(s,tt||1e9,wt):wt.moveCall({target:`${ct.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[wt.object(bt)]});let Et=await s.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:et?s.ClmmSDK.senderAddress:ut.address});if(et){let jt=Et.events.find(Vt=>Vt.type.includes("UserStaked")),{sui_amount:Lt,st_amount:Ut}=jt.parsedJson;return d$3(Lt).div(Ut).toString()}let Ft=Et.results[0].returnValues[0][0];return d$3(suiBcs$1.u64().parse(Uint8Array.from(Ft))).div(1e6).toString()}catch(wt){console.log("getExchangeRateForHaedal",wt)}return"0"}static async requestStake(s,et,tt){var ut,bt;let{vaults:at}=s.sdkOptions;tt=tt||new Transaction;let ct=await q$2.getSuiCoin(s,et,tt);return tt.moveCall({target:`${(bt=(ut=at.config)==null?void 0:ut.haedal)==null?void 0:bt.published_at}::interface::request_stake`,typeArguments:[],arguments:[tt.object(normalizeSuiObjectId$1("0x5")),tt.object(at.config.haedal.config.staking_id),ct,tt.pure.address(normalizeSuiObjectId$1("0x0"))]}),tt}static requestStakeCoin(s,et,tt){let{haedal:at}=s.sdkOptions.vaults.config;return et.moveCall({target:`${at.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[et.object(normalizeSuiObjectId$1("0x5")),et.object(at.config.staking_id),tt,et.pure.address(normalizeSuiObjectId$1("0x0"))]})}},Xe$1=class{static async getExchangeRateForStake(s,et,tt){let{vaults:at}=s.sdkOptions,{volo:ct}=getPackagerConfigs(at);if(ct===void 0)throw Error("the volo config is undefined");let{simulationAccount:ut}=s.ClmmSDK.sdkOptions,{native_pool:bt,vsui_metadata:wt}=getPackagerConfigs(ct);try{let Et=new Transaction;et?await this.requestStake(s,tt||1e9,Et):Et.moveCall({target:`${ct.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[Et.object(bt),Et.object(wt)]});let Ft=await s.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Et,sender:et?s.ClmmSDK.senderAddress:ut.address});if(et){let Ut=Ft.events.find(er=>er.type.includes("StakedEvent")),{cert_amount:Vt,sui_amount:Yt}=Ut.parsedJson;return d$3(Yt).div(Vt).toString()}let jt=Ft.results[0].returnValues[0][0],Lt=d$3(suiBcs$1.u256().parse(Uint8Array.from(jt))).div("1000000000000000000").toNumber();return d$3(1).div(Lt).toString()}catch(Et){console.log("getExchangeRateForHaedal",Et)}return"0"}static async requestStake(s,et,tt){let{vaults:at}=s.sdkOptions,{volo:ct}=getPackagerConfigs(at);if(ct===void 0)throw Error("the volo config is undefined");tt=tt||new Transaction;let{native_pool:ut,vsui_metadata:bt}=getPackagerConfigs(ct),wt=await q$2.getSuiCoin(s,et,tt);return tt.moveCall({target:`${ct.published_at}::native_pool::stake`,typeArguments:[],arguments:[tt.object(ut),tt.object(bt),tt.object(normalizeSuiObjectId$1("0x5")),wt]}),tt}static requestStakeCoin(s,et,tt){let{vaults:at}=s.sdkOptions,{volo:ct}=getPackagerConfigs(at);if(ct===void 0)throw Error("the volo config is undefined");et=et||new Transaction;let{native_pool:ut,vsui_metadata:bt}=getPackagerConfigs(ct);return et.moveCall({target:`${ct.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[et.object(ut),et.object(bt),et.object(normalizeSuiObjectId$1("0x5")),tt]})}},We$1=class{static async getExchangeRateForStake(s,et,tt){let{vaults:at}=s.sdkOptions,{aftermath:ct}=getPackagerConfigs(at);if(ct===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:ut}=s.ClmmSDK.sdkOptions,{staked_sui_vault:bt,safe:wt}=getPackagerConfigs(ct);try{let Et=new Transaction;et?await this.requestStake(s,tt||1e9,Et):Et.moveCall({target:`${ct.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[Et.object(bt),Et.object(wt)]});let Ft=await s.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Et,sender:et?s.ClmmSDK.senderAddress:ut.address});if(et){let Lt=Ft.events.find(Yt=>Yt.type.includes("StakedEvent")),{afsui_amount:Ut,sui_amount:Vt}=Lt.parsedJson;return d$3(Vt).div(Ut).toString()}let jt=Ft.results[0].returnValues[0][0];return d$3(suiBcs$1.u128().parse(Uint8Array.from(jt))).div(1e18).toString()}catch(Et){console.log("getExchangeRateForHaedal",Et)}return"0"}static async requestStake(s,et,tt){let{vaults:at}=s.sdkOptions,{aftermath:ct}=getPackagerConfigs(at);if(ct===void 0)throw Error("the aftermath config is undefined");tt=tt||new Transaction;let{staked_sui_vault:ut,referral_vault:bt,safe:wt,validator_address:Et}=getPackagerConfigs(ct),Ft=await q$2.getSuiCoin(s,et,tt);return tt.moveCall({target:`${ct.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[tt.object(ut),tt.object(wt),tt.object(normalizeSuiObjectId$1("0x5")),tt.object(bt),Ft,tt.pure.address(normalizeSuiObjectId$1(Et))]}),tt}static requestStakeCoin(s,et,tt){let{vaults:at}=s.sdkOptions,{aftermath:ct}=getPackagerConfigs(at);if(ct===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:ut,referral_vault:bt,safe:wt,validator_address:Et}=getPackagerConfigs(ct);return et.moveCall({target:`${ct.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[et.object(ut),et.object(wt),et.object(normalizeSuiObjectId$1("0x5")),et.object(bt),tt,et.pure.address(normalizeSuiObjectId$1(Et))]})}},Ot$1=class{constructor(s){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s="all",et=!1){let{package_id:tt}=this._sdk.sdkOptions.ido,at=`${tt}_getPoolImmutables`,ct=this.getCache(at,et),ut={data:[],hasNextPage:!1},bt=[];if(ct!==void 0&&bt.push(...ct),bt.length===0)try{let wt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${tt}::oversubscribe_pool::CreatePoolEvent`},s);wt.data.forEach(Et=>{let Ft=Et.parsedJson;if(Ft){let jt=A.buildIdoPoolImmutables(Ft);bt.push(jt)}}),ut.hasNextPage=wt.hasNextPage,ut.nextCursor=wt.nextCursor,this.updateCache(at,bt,cacheTime24h)}catch(wt){console.log("getPoolImmutables",wt)}return ut.data=bt,ut}async getPools(s=[],et=!1){let tt=[],at=[];s.length>0?at=[...s]:(await this.getPoolImmutables("all",et)).data.forEach(ut=>{at.push(ut.pool_address)});let ct=await this._sdk.ClmmSDK.fullClient.batchGetObjects(at,{showType:!0,showContent:!0});for(let ut of ct){let bt=A.buildIdoPool(ut);await A.calculatePoolUiPrice(this._sdk,bt),tt.push(bt);let wt=`${bt.pool_address}_getPoolObject`;this.updateCache(wt,bt,cacheTime24h)}return tt}async getPool(s,et=!0){let tt=`${s}_getPoolObject`,at=this.getCache(tt,et);if(at!==void 0)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),ut=A.buildIdoPool(ct);return await A.calculatePoolUiPrice(this._sdk,ut),this.updateCache(tt,ut),ut}async getIdoConfigs(s=!1){var Et;let{package_id:et}=this._sdk.sdkOptions.ido,tt=`${et}_getInitEvent`,at=this.getCache(tt,s);if(at!==void 0)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),ut=getObjectPreviousTransactionDigest(ct),bt=(Et=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:ut}))==null?void 0:Et.data,wt={pools_id:"",admin_cap_id:"",package_version_id:""};return bt.length>0&&(bt.forEach(Ft=>{let jt=Ft.parsedJson;if(jt)switch(extractStructTagFromType$1(Ft.type).full_address){case`${et}::config::InitConfigEvent`:wt.admin_cap_id=jt.admin_cap_id,wt.package_version_id=jt.package_version_id;break;case`${et}::factory::InitFactoryEvent`:wt.pools_id=jt.pools_id;break}}),this.updateCache(tt,wt,cacheTime24h)),wt}async getPurchaseInfo(s,et,tt=!0){let at=`${s}_${et}_getPurchaseInfo`,ct=this.getCache(at,tt);if(ct)return ct;try{let ut=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"address",value:et}}),bt=A.buildPurchaseInfo(getObjectFields(ut));return this.updateCache(at,bt,cacheTime5min),bt}catch{return}}async getLockNFT(s,et=!1){let tt=`${s}_getLockNFT`,at=this.getCache(tt,et);if(at!==void 0)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!ct.error)return buildPosition(ct)}async getLockNFTList(s){var ct;let{clmm_pool:et}=this._sdk.ClmmSDK.sdkOptions,{ido:tt}=this._sdk.sdkOptions,at=[];try{let ut=(ct=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{filter:{StructType:`${tt.package_id}::lock::LockedNFT<${et.package_id}::position::Position>`},options:{showContent:!0}}))==null?void 0:ct.data;for(let bt of ut){let wt=getObjectFields(bt);if(wt){let Et=wt.nft.fields,Ft={locked_at:Number(wt.locked_at),lock_duration:Number(wt.lock_duration),lock_nft_id:wt.id.id,type:wt.nft.type,...Et};Ft.end_lock_time=Ft.locked_at+Ft.lock_duration,Ft.coin_type_a=extractStructTagFromType$1(Et.coin_type_a.fields.name).full_address,Ft.coin_type_b=extractStructTagFromType$1(Et.coin_type_b.fields.name).full_address,Ft.id=Et.id.id,Ft.tick_lower_index=asIntN(BigInt(Et.tick_lower_index.fields.bits)),Ft.tick_upper_index=asIntN(BigInt(Et.tick_upper_index.fields.bits)),at.push(Ft)}}return at}catch(ut){return console.log("getLockNFTList:",ut),[]}}async creatPool(s){let{ido:et}=this.sdk.sdkOptions;isSortedSymbols(normalizeSuiAddress$1(s.coin_type_sale),normalizeSuiAddress$1(s.coin_type_raise))&&(s.price_min=d$3(1).div(s.price_max).toNumber(),s.price_max=d$3(1).div(s.price_min).toNumber());let tt=I$2.priceRealToFix(Number(s.price),s.sale_decimals,s.raise_decimals),at=TickMath.priceToSqrtPriceX64(d$3(s.price_min),s.sale_decimals,s.raise_decimals).toString(),ct=TickMath.priceToSqrtPriceX64(d$3(s.price_max),s.sale_decimals,s.raise_decimals).toString(),ut=new Transaction,bt=d$3(s.total_supply).add(d$3(s.total_supply).mul(d$3(s.liquidity_injection_ratio))).toNumber(),wt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,s.coin_type_sale),Et=TransactionUtil.buildCoinForAmount(ut,wt,BigInt(bt),s.coin_type_sale,!1),Ft=[ut.object(getPackagerConfigs(et).admin_cap_id),ut.object(getPackagerConfigs(et).package_version_id),ut.object(getPackagerConfigs(et).pools_id),ut.object(normalizeSuiAddress$1(s.owner)),ut.pure.u128(d$3(tt).mul(ke$1).toString()),ut.pure.u64(s.total_supply),ut.pure.u64(s.complete_raise_limit),ut.pure.u64(s.min_purchase_amount),ut.pure.u64(s.max_purchase_amount),ut.pure.u64(s.start_time),ut.pure.u64(s.purchase_duration),ut.pure.u64(s.lock_up_duration),ut.pure.u64((s.liquidity_injection_ratio*Pt$1).toString()),ut.pure.u128(at),ut.pure.u128(ct),ut.pure.u32(s.tick_spacing),Et.targetCoin,ut.pure.u64(s.protection_hard_cap.toString()),ut.object(CLOCK_ADDRESS$1)],jt=[s.coin_type_sale,s.coin_type_raise];return ut.moveCall({target:`${et.published_at}::${Ai}::create_oversubscribe_pool`,typeArguments:jt,arguments:Ft}),ut}async creatPurchasePayload(s){let{ido:et}=this.sdk.sdkOptions,tt=new Transaction,at=await this.getPurchaseInfo(s.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1),ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,s.coin_type_raise),ut=TransactionUtil.buildCoinForAmount(tt,ct,BigInt(s.raise_amount),s.coin_type_raise,!1),bt=[s.coin_type_sale,s.coin_type_raise],wt,Et;return at?(Et="purchase",wt=[tt.object(getPackagerConfigs(et).package_version_id),tt.object(s.pool_address),tt.object(at.purchase_certificate_id),tt.pure.u64(s.raise_amount.toString()),ut.targetCoin,tt.object(CLOCK_ADDRESS$1)]):(Et="create_certificate_and_purchase",wt=[tt.object(getPackagerConfigs(et).package_version_id),tt.object(s.pool_address),tt.pure.u64(s.raise_amount.toString()),ut.targetCoin,tt.object(CLOCK_ADDRESS$1)]),tt.moveCall({target:`${et.published_at}::${H$1}::${Et}`,typeArguments:bt,arguments:wt}),tt}async redeemPayload(s){let{ido:et}=this.sdk.sdkOptions,tt=await this.getPurchaseInfo(s.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1);if(tt===void 0)throw Error("get purchase certificate fail");let at=new Transaction,ct=[s.coin_type_sale,s.coin_type_raise],ut=[at.object(getPackagerConfigs(et).package_version_id),at.object(s.pool_address),at.object(tt.purchase_certificate_id),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${H$1}::redeem`,typeArguments:ct,arguments:ut}),at}injectLiquidityPayload(s){let{ido:et}=this.sdk.sdkOptions,{clmm_pool:tt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,ct=[s.coin_type_sale,s.coin_type_raise],ut=s.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",bt=[at.object(getPackagerConfigs(et).package_version_id),at.object(s.pool_address),at.object(getPackagerConfigs(tt).global_config_id),at.object(s.clmm_pool_address),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${H$1}::${ut}`,typeArguments:ct,arguments:bt}),at}unPauseInjectLiquidity(s){let{ido:et}=this.sdk.sdkOptions,{integrate:tt,clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions,ct=new Transaction;ct.moveCall({target:`${tt.published_at}::${ClmmIntegratePoolModule}::unpause_pool`,typeArguments:[s.coin_type_a,s.coin_type_b],arguments:[ct.object(getPackagerConfigs(at).global_config_id),ct.object(s.clmm_pool_address)]});let ut=[s.coin_type_sale,s.coin_type_raise],bt=s.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",wt=[ct.object(getPackagerConfigs(et).package_version_id),ct.object(s.pool_address),ct.object(getPackagerConfigs(at).global_config_id),ct.object(s.clmm_pool_address),ct.object(CLOCK_ADDRESS$1)];return ct.moveCall({target:`${et.published_at}::${H$1}::${bt}`,typeArguments:ut,arguments:wt}),ct}async findClmmPoolForLiquidity(s){let et=null,tt=!1,at=await this.sdk.ClmmSDK.Pool.getPoolImmutables();for(let ct of at){if(ct.coinTypeA===s.coin_type_sale&&ct.coinTypeB===s.coin_type_raise&&Number(ct.tickSpacing)===s.tick_spacing){et=await this._sdk.ClmmSDK.Pool.getPool(ct.poolAddress);break}if(ct.coinTypeA===s.coin_type_raise&&ct.coinTypeB===s.coin_type_sale&&Number(ct.tickSpacing)===s.tick_spacing){et=await this._sdk.ClmmSDK.Pool.getPool(ct.poolAddress),tt=!0;break}}return et&&(d$3(et.current_sqrt_price).lessThanOrEqualTo(s.current_sqrt_price_min)||d$3(et.current_sqrt_price).greaterThanOrEqualTo(s.current_sqrt_price_max))?{is_reverse:tt,clmmPool:null}:{is_reverse:tt,clmmPool:et}}withdrawPayload(s){let{ido:et}=this.sdk.sdkOptions,tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],ct=[tt.object(getPackagerConfigs(et).package_version_id),tt.object(s.pool_address),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::${H$1}::withdraw`,typeArguments:at,arguments:ct}),tt}updateWhitelistCapPayload(s){let{ido:et}=this.sdk.sdkOptions,tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise];return s.add_whites&&s.add_whites.addresses.length>0&&tt.moveCall({target:`${et.published_at}::${H$1}::add_white_listed_addresses`,typeArguments:at,arguments:[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).package_version_id),tt.object(s.pool_address),tt.makeMoveVec({type:"address",elements:s.add_whites.addresses.map(ct=>tt.pure.address(normalizeSuiObjectId$1(ct)))}),tt.pure.u64(s.add_whites.protection_limit),tt.object(CLOCK_ADDRESS$1)]}),s.remove_whites&&s.remove_whites.length>0&&tt.moveCall({target:`${et.published_at}::${H$1}::remove_white_listed_addresses`,typeArguments:at,arguments:[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).package_version_id),tt.object(s.pool_address),tt.makeMoveVec({type:"address",elements:s.remove_whites.map(ct=>tt.pure.address(normalizeSuiObjectId$1(ct)))}),tt.object(CLOCK_ADDRESS$1)]}),s.update_whites&&s.update_whites.forEach(ct=>{tt.moveCall({target:`${et.published_at}::${H$1}::update_white_listed_address`,typeArguments:at,arguments:[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).package_version_id),tt.object(s.pool_address),tt.object(ct.address),tt.pure.u64(ct.protection_limit),tt.object(CLOCK_ADDRESS$1)]})}),tt}creatCancelPoolPayload(s){let{ido:et}=this.sdk.sdkOptions,tt=new Transaction,at=[s.coin_type_sale,s.coin_type_raise],ct=[tt.object(getPackagerConfigs(et).admin_cap_id),tt.object(getPackagerConfigs(et).package_version_id),tt.object(s.pool_address),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::${H$1}::cancel`,typeArguments:at,arguments:ct}),tt}updatePoolOwnerPayload(s,et){let{ido:tt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[s.coin_type_sale,s.coin_type_raise],ct=[et.object(getPackagerConfigs(tt).admin_cap_id),et.object(getPackagerConfigs(tt).package_version_id),et.object(s.pool_address),et.object(s.new_owner),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${tt.published_at}::${H$1}::update_pool_owner`,typeArguments:at,arguments:ct}),et}updatePoolDuractionPayload(s,et){let{ido:tt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[s.coin_type_sale,s.coin_type_raise],ct=[et.object(getPackagerConfigs(tt).admin_cap_id),et.object(getPackagerConfigs(tt).package_version_id),et.object(s.pool_address),et.pure.u64(s.start_time),et.pure.u64(s.purchase_duration),et.pure.u64(s.lock_duration),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${tt.published_at}::${H$1}::update_pool_duration`,typeArguments:at,arguments:ct}),et}updateProtectionHardCapPayload(s,et){let{ido:tt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[s.coin_type_sale,s.coin_type_raise],ct=[et.object(getPackagerConfigs(tt).admin_cap_id),et.object(getPackagerConfigs(tt).package_version_id),et.object(s.pool_address),et.pure.u64(s.protection_hard_cap),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${tt.published_at}::${H$1}::update_protection_hard_cap`,typeArguments:at,arguments:ct}),et}unlockNftPayload(s){let{ido:et}=this.sdk.sdkOptions,tt=new Transaction,at=[s.nft_type],ct=[tt.object(s.lock_nft_id),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::lock::unlock_nft`,typeArguments:at,arguments:ct}),tt}async isAdminCap(s){let{ido:et}=this._sdk.sdkOptions,tt=`${et.package_id}_${s}_isAdminCap`,at=this.getCache(tt);if(at)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(et).admin_cap_id,options:{showType:!0,showOwner:!0}});console.log(ct);let ut=getObjectType(ct),bt=getObjectOwner(ct),wt=!1;return bt&&ut&&extractStructTagFromType$1(ut).source_address===`${et.package_id}::config::AdminCap`&&(wt=normalizeSuiAddress$1(bt.AddressOwner)===normalizeSuiAddress$1(s)),this.updateCache(tt,wt,cacheTime24h),wt}async getWhiteProtectionLimit(s,et,tt=!0){let at=`${s}_${et}_getWhiteProtectionLimit`,ct=this._sdk.getCache(at,tt);if(ct)return ct;try{let ut=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"address",value:et}});if(ut&&ut.data){let bt=getObjectFields(ut);return this._sdk.updateCache(at,bt.value),bt.value}return}catch{return}}async getWhiteList(s,et){var at;let tt={type:"address",value:et};try{let ct=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:tt}),ut=getObjectFields(ct);if(console.log(ut),ut)return(at=ut==null?void 0:ut.value)==null?void 0:at.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getAdminAddress(){let{ido:s}=this._sdk.sdkOptions,et=`${getPackagerConfigs(s).admin_cap_id}_getAdminAddress`,tt=this.getCache(et);if(tt)return tt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(s).admin_cap_id,options:{showType:!0,showOwner:!0}}),ct=getObjectType(at),ut=getObjectOwner(at);if(ut&&ct&&extractStructTagFromType$1(ct).source_address===`${s.package_id}::config::AdminCap`){let bt=normalizeSuiAddress$1(ut.AddressOwner);return this.updateCache(et,bt,cacheTime24h),bt}return""}updateCache(s,et,tt=cacheTime24h){let at=this._cache[s];at?(at.overdueTime=getFutureTime(tt),at.value=et):at=new CachedContent(et,getFutureTime(tt)),this._cache[s]=at}getCache(s,et=!1){let tt=this._cache[s];if(!et&&(tt!=null&&tt.isValid()))return tt.value;delete this._cache[s]}},At$1=class{constructor(s){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getOwnerVeNFT(s,et=!0){let{xtoken:tt}=this.sdk.sdkOptions,at=`${s}_getLockUpManagerEvent`,ct=this.getCache(at,et);if(ct!==void 0)return ct;let ut,bt=`${tt.package_id}::xtoken::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:bt}})).data.forEach(wt=>{let Et=extractStructTagFromType$1(getMoveObjectType(wt)).source_address;if(Et===bt&&wt.data&&wt.data.content){let{fields:Ft}=wt.data.content;ut={...buildNFT(wt),id:Ft.id.id,index:Ft.index,type:Et,xtoken_balance:Ft.xtoken_balance},this.updateCache(at,ut,cacheTime24h)}}),ut}async getOwnerLockTokens(s){let{xtoken:et}=this.sdk.sdkOptions,tt=[],at=`${et.package_id}::lock_coin::LockedCoin<${this.buileTokenCoinType()}>`,ct=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0},filter:{StructType:at}});for(let ut of ct.data)if(extractStructTagFromType$1(getMoveObjectType(ut)).source_address===at&&ut.data){let bt=ce$1.buildLockToken(ut.data.content),wt=await this.getLockXToken(bt.id);wt&&(bt.xtoken_amount=wt.xtoken_amount),tt.push(bt)}return tt}async getLockToken(s){var tt;let et=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});if((tt=et.data)!=null&&tt.content){let at=ce$1.buildLockToken(et.data.content),ct=await this.getLockXToken(at.id);return ct&&(at.xtoken_amount=ct.xtoken_amount),at}}async getOwnerTokenCoins(s){return await this._sdk.ClmmSDK.getOwnerCoinAssets(s,this.buileTokenCoinType())}mintVeNFTPayload(){let{xtoken:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${xe$1}::mint_venft`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).xtoken_manager_id)]}),et}async convertPayload(s,et){let{xtoken:tt}=this.sdk.sdkOptions;et=et||new Transaction;let at=this.buileTokenCoinType(),ct=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,et,BigInt(s.amount),at);return s.venft_id===void 0?et.moveCall({target:`${tt.published_at}::${xe$1}::mint_and_convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(tt).lock_manager_id),et.object(getPackagerConfigs(tt).xtoken_manager_id),ct,et.pure.u64(s.amount)]}):et.moveCall({target:`${tt.published_at}::${xe$1}::convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(tt).lock_manager_id),et.object(getPackagerConfigs(tt).xtoken_manager_id),ct,et.pure.u64(s.amount),et.object(s.venft_id)]}),et}redeemLockPayload(s){let{xtoken:et}=this.sdk.sdkOptions,tt=new Transaction;return tt.moveCall({target:`${et.published_at}::${xe$1}::redeem_lock`,typeArguments:[],arguments:[tt.object(getPackagerConfigs(et).lock_manager_id),tt.object(getPackagerConfigs(et).xtoken_manager_id),tt.object(s.venft_id),tt.pure.u64(s.amount),tt.pure.u64(s.lock_day),tt.object(CLOCK_ADDRESS$1)]}),tt}redeemPayload(s){let{xtoken:et}=this.sdk.sdkOptions,tt=new Transaction;return tt.moveCall({target:`${et.published_at}::${xe$1}::redeem`,typeArguments:[],arguments:[tt.object(getPackagerConfigs(et).lock_manager_id),tt.object(getPackagerConfigs(et).xtoken_manager_id),tt.object(s.venft_id),tt.object(s.lock_id),tt.object(CLOCK_ADDRESS$1)]}),tt}redeemDividendPayload(s,et){let{xtoken_dividends:tt}=this.sdk.sdkOptions,at=new Transaction;return et.forEach(ct=>{at.moveCall({target:`${tt.published_at}::${Tt$1}::redeem`,typeArguments:[ct],arguments:[at.object(getPackagerConfigs(tt).dividend_manager_id),at.object(s)]})}),at}redeemDividendV2Payload(s,et,tt){let{xtoken_dividends:at}=this.sdk.sdkOptions,ct=new Transaction;return et.filter(ut=>tt.includes(ut)).length>0&&(ct=this.redeemDividendXTokenPayload(s,ct)),et.forEach(ut=>{tt.includes(ut)||ct.moveCall({target:`${at.published_at}::${Tt$1}::redeem_v2`,typeArguments:[ut],arguments:[ct.object(getPackagerConfigs(at).dividend_manager_id),ct.object(s),ct.object(CLOCK_ADDRESS$1)]})}),ct}redeemDividendXTokenPayload(s,et){let{xtoken_dividends:tt,xtoken:at}=this.sdk.sdkOptions,{xtoken_manager_id:ct,lock_manager_id:ut}=getPackagerConfigs(at),{dividend_manager_id:bt}=getPackagerConfigs(tt);return et=et===void 0?new Transaction:et,et.moveCall({target:`${tt.published_at}::${Tt$1}::redeem_xtoken`,typeArguments:[],arguments:[et.object(ut),et.object(ct),et.object(bt),et.object(s),et.object(CLOCK_ADDRESS$1)]}),et}buileTokenCoinType(){return`${this.sdk.sdkOptions.token_faucet.package_id}::token::TOKEN`}buileXTokenCoinType(s=this._sdk.sdkOptions.xtoken.package_id,et="xtoken",tt="XTOKEN"){return`${s}::${et}::${tt}`}cancelRedeemPayload(s){let{xtoken:et}=this.sdk.sdkOptions,tt=new Transaction;return tt.moveCall({target:`${et.published_at}::${xe$1}::cancel_redeem_lock`,typeArguments:[],arguments:[tt.object(getPackagerConfigs(et).lock_manager_id),tt.object(getPackagerConfigs(et).xtoken_manager_id),tt.object(s.venft_id),tt.object(s.lock_id),tt.object(CLOCK_ADDRESS$1)]}),tt}async getInitConfigs(){var bt,wt;let{package_id:s}=this.sdk.sdkOptions.xtoken,et=`${s}_getInitFactoryEvent`,tt=this.getCache(et);if(tt!==void 0)return tt;let at=(bt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::xtoken::InitEvent`}))==null?void 0:bt.data,ct={xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""};at.length>0&&at.forEach(Et=>{let Ft=Et.parsedJson;Ft&&(ct.xtoken_manager_id=Ft.xtoken_manager)});let ut=(wt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::locking::InitializeEvent`}))==null?void 0:wt.data;return ut.length>0&&ut.forEach(Et=>{let Ft=Et.parsedJson;Ft&&(ct.lock_manager_id=Ft.lock_manager)}),ct.lock_handle_id=(await this.getLockUpManager(ct.lock_manager_id)).lock_infos.lock_handle_id,this.updateCache(et,ct,cacheTime24h),ct}async getLockUpManager(s=getPackagerConfigs(this.sdk.sdkOptions.xtoken).lock_manager_id,et=!1){let tt=`${s}_getLockUpManagerEvent`,at=this.getCache(tt,et);if(at!==void 0)return at;let ct=await this.sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),ut=ce$1.buildLockUpManager(getObjectFields(ct));return this.updateCache(tt,ut,cacheTime24h),ut}async getLockInfoHandle(s){let et=`${s}_getLockInfoHandle`,tt=this.getCache(et);if(tt!==void 0)return tt;let at="",ct=await this.sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),ut=getObjectFields(ct);return ut&&(at=ut.lock_infos.fields.id.id,this.updateCache(et,at,cacheTime24h)),at}async getDividendConfigs(){var ut;let{package_id:s}=this.sdk.sdkOptions.xtoken_dividends,et=`${s}_getDividendManagerEvent`,tt=this.getCache(et);if(tt!==void 0)return tt;let at=(ut=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::dividend::InitEvent`}))==null?void 0:ut.data,ct={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""};return at.length>0&&at.forEach(bt=>{let wt=bt.parsedJson;wt&&(ct.dividend_manager_id=wt.manager_id,ct.dividend_admin_id=wt.admin_id,ct.dividend_settle_id=wt.settle_id,this.updateCache(et,ct,cacheTime24h))}),ct}async getDividendManager(s=!1){let{dividend_manager_id:et}=getPackagerConfigs(this.sdk.sdkOptions.xtoken_dividends),tt=`${et}_getDividendManager`,at=this.getCache(tt,s);if(at!==void 0)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),ut=getObjectFields(ct),bt=ce$1.buildDividendManager(ut);return this.updateCache(tt,bt,cacheTime24h),bt}async getXcetusManager(s=!0){let{xtoken_manager_id:et}=getPackagerConfigs(this.sdk.sdkOptions.xtoken),tt=`${et}_getXcetusManager`,at=this.getCache(tt,s);if(at)return at;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),ut=getObjectFields(ct),bt={id:ut.id.id,index:Number(ut.index),has_venft:{handle:ut.has_venft.fields.id.id,size:ut.has_venft.fields.size},nfts:{handle:ut.nfts.fields.id.id,size:ut.nfts.fields.size},total_locked:ut.total_locked,treasury:ut.treasury.fields.total_supply.fields.value};return this.updateCache(tt,bt),bt}async getVeNFTDividendInfo(s,et){try{let tt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(tt);return ce$1.buildVeNFTDividendInfo(at)}catch{return}}async redeemNum(s,et){if(BigInt(s)===BigInt(0))return{amountOut:"0",percent:"0"};let tt=await this.getLockUpManager(),at=d$3(U).mul(d$3(tt.max_lock_day).sub(d$3(et))).mul(d$3(tt.max_percent_numerator).sub(d$3(tt.min_percent_numerator))).div(d$3(tt.max_lock_day).sub(d$3(tt.min_lock_day))),ct=d$3(U).mul(d$3(tt.max_percent_numerator)).sub(at).div(d$3(Be$1)).div(U);return{amountOut:d$3(ct).mul(d$3(s)).round().toString(),percent:ct.toString()}}async reverseRedeemNum(s,et){if(BigInt(s)===BigInt(0))return{amountOut:"0",percent:"0"};let tt=await this.getLockUpManager(),at=d$3(U).mul(d$3(tt.max_lock_day).sub(d$3(et))).mul(d$3(tt.max_percent_numerator).sub(d$3(tt.min_percent_numerator))).div(d$3(tt.max_lock_day).sub(d$3(tt.min_lock_day))),ct=d$3(U).mul(d$3(tt.max_percent_numerator)).sub(at).div(d$3(Be$1)).div(U);return{amountOut:d$3(s).div(ct).toFixed(0,Decimal$1.ROUND_UP),percent:ct.toString()}}async getLockXToken(s){let{lock_handle_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xtoken),tt=`${s}_getXTokenAmount`,at=this.getCache(tt);if(at)return at;try{let ct=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:s}}),ut=getObjectFields(ct);if(ut){let bt=ut.value.fields.value.fields;return this.updateCache(tt,bt,cacheTime24h),bt}}catch{}}async getVeNftAmount(s,et){try{let tt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(tt);if(at){let{lock_amount:ct,xtoken_amount:ut}=at.value.fields.value.fields;return{lock_amount:ct,xtoken_amount:ut}}}catch{}return{lock_amount:"0",xtoken_amount:"0"}}async getPhaseDividendInfo(s,et=!1){let tt=(await this.getDividendManager()).dividends.id,at=`${tt}_${s}_getPhaseDividendInfo`,ct=this._sdk.getCache(at,et);if(ct)return ct;try{let ut=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:tt,name:{type:"u64",value:s}}),bt=getObjectFields(ut),wt=bt.value.fields.value.fields,Et=wt.redeemed_num.fields.contents.map(Ut=>({name:Ut.fields.key.fields.name,value:Ut.fields.value})),Ft=wt.bonus_types.map(Ut=>Ut.fields.name),jt=wt.bonus.fields.contents.map(Ut=>({name:Ut.fields.key.fields.name,value:Ut.fields.value})),Lt={id:getObjectId(ut),phase:bt.name,settled_num:wt.settled_num,register_time:wt.register_time,redeemed_num:Et,is_settled:wt.is_settled,bonus_types:Ft,bonus:jt,phase_end_time:""};return this.updateCache(at,Lt),Lt}catch{}}updateCache(s,et,tt=cacheTime5min){let at=this._cache[s];at?(at.overdueTime=getFutureTime(tt),at.value=et):at=new CachedContent(et,getFutureTime(tt)),this._cache[s]=at}getCache(s,et=!1){let tt=this._cache[s];if(!et&&(tt!=null&&tt.isValid()))return tt.value;delete this._cache[s]}},Dt=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async addMasterLiquidity(a){var Yt,er;let{liquidity_stratefy:s}=this._sdk.sdkOptions,{clmm_pool:et}=this._sdk.ClmmSDK.sdkOptions,tt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),at=d$3(0),ct=d$3(0),ut=[],bt=[],wt=[],Et=[],Ft=[];a.liquidity_bins.forEach((tr,nr)=>{let ir=a.amounts_a[nr],lr=a.amounts_b[nr],pr=a.bins_fix_amount_a[nr];at=at.add(ir),ct=ct.add(lr),ut.push(ir),bt.push(lr),wt.push(asUintN(BigInt(tr.tick_lower)).toString()),Et.push(asUintN(BigInt(tr.tick_upper)).toString()),Ft.push(pr)});let jt=[a.coinTypeA,a.coinTypeB],Lt=new Transaction,Ut=(Yt=TransactionUtil.buildAddLiquidityFixTokenCoinInput(Lt,!a.fix_amount_a,at.toString(),a.slippage,a.coinTypeA,tt,!1))==null?void 0:Yt.targetCoin,Vt=(er=TransactionUtil.buildAddLiquidityFixTokenCoinInput(Lt,a.fix_amount_a,ct.toString(),a.slippage,a.coinTypeB,tt,!1))==null?void 0:er.targetCoin;return Fi(a)?Lt.moveCall({target:`${s.published_at}::router::increase_liquidity`,typeArguments:jt,arguments:[Lt.object(getPackagerConfigs(s).master_manger_id),Lt.object(a.master_address),Lt.object(getPackagerConfigs(et).global_config_id),Lt.object(a.pool_address),Ut,Vt,Lt.makeMoveVec({elements:ut.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:bt.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:Ft.map(tr=>Lt.pure.bool(tr))}),Lt.object(CLOCK_ADDRESS$1)]}):Lt.moveCall({target:`${s.published_at}::router::create_master_liquidity`,typeArguments:jt,arguments:[Lt.object(getPackagerConfigs(s).master_manger_id),Lt.object(getPackagerConfigs(et).global_config_id),Lt.object(a.pool_address),Ut,Vt,Lt.makeMoveVec({elements:wt.map(tr=>Lt.pure.u32(Number(tr)))}),Lt.makeMoveVec({elements:Et.map(tr=>Lt.pure.u32(Number(tr)))}),Lt.makeMoveVec({elements:ut.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:bt.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:Ft.map(tr=>Lt.pure.bool(tr))}),Lt.pure.u8(a.strategy),Lt.pure.u32(Number(asUintN(BigInt(a.tick_lower)).toString())),Lt.pure.u32(Number(asUintN(BigInt(a.tick_upper)).toString())),Lt.object(CLOCK_ADDRESS$1)]}),Lt}buildMasterNFTType(){return`${this._sdk.sdkOptions.liquidity_stratefy.package_id}::master_liquidity::MasterLiquidity`}async getMasterNFTList(a,s=[]){let et=[],tt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0},filter:{Package:this._sdk.sdkOptions.liquidity_stratefy.package_id}}),at=s.length>0;for(let ct of tt.data)if(extractStructTagFromType$1(ct.data.type).full_address===this.buildMasterNFTType()){let ut=J$1.buildMasterNFT(ct);if(ut){let bt=`${ut.id}_masterNFT`;this.updateCache(bt,ut,cacheTime24h),at?s.includes(ut.pool_id)&&et.push(ut):et.push(ut)}}return et}async getMasterNFT(a,s=!1){let et="$masterId}_masterNFT",tt=this.getCache(et,s);if(tt)return tt;try{let at=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(extractStructTagFromType$1(at.data.type).full_address===this.buildMasterNFTType()){let ct=J$1.buildMasterNFT(at);return ct&&this.updateCache(et,ct,cacheTime24h),ct}}catch(at){console.log(at)}}async fetchMasterPositionInfos(a){var ut;let s={},{clmm_pool:et,integrate:tt,simulationAccount:at}=this.sdk.ClmmSDK.sdkOptions,ct=new Transaction;return a.forEach(bt=>{bt.position_ids.forEach(wt=>{let Et=[bt.coinTypeA,bt.coinTypeB],Ft=[ct.object(getPackagerConfigs(et).global_config_id),ct.object(bt.pool_id),ct.object(wt)];ct.moveCall({target:`${tt.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:Ft,typeArguments:Et}),ct.moveCall({target:`${tt.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:[...Ft,ct.object(CLOCK_ADDRESS$1)],typeArguments:Et})})}),(ut=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:ct,sender:at.address})).events)==null||ut.forEach(bt=>{let{parsedJson:wt}=bt,{position_id:Et}=wt,Ft=s[Et];switch(Ft===void 0&&(Ft={position_id:Et,feeOwedA:"0",feeOwedB:"0",rewarders:[]},s[Et]=Ft),extractStructTagFromType$1(bt.type).name){case"FetchPositionFeesEvent":Ft.feeOwedA=wt.fee_owned_a,Ft.feeOwedB=wt.fee_owned_b;break;case"FetchPositionRewardsEvent":Ft.rewarders=wt.data;break}}),s}async getLiquidityStrategyConfigs(a=!1){let{package_id:s}=this._sdk.sdkOptions.liquidity_stratefy,et=`${s}_getLiquidityStrategyConfigst`,tt=this.getCache(et,a);if(tt!==void 0)return tt;let at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::master_liquidity::MasterLiquidityManagerCreatedEvent`})).data,ct={master_manger_id:"",master_liquidity_handle:""};if(at.length>0){for(let ut of at){let bt=ut.parsedJson;ct.master_manger_id=bt.id;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:bt.id,options:{showContent:!0}}),Et=getObjectFields(wt);ct.master_liquidity_handle=Et.position_maps.fields.id.id;break}this.updateCache(et,ct,cacheTime24h)}return ct}removeMasterLiquidity(a){let{clmm_pool:s}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:et}=this.sdk.sdkOptions,tt=new Transaction,at=[a.coinTypeA,a.coinTypeB];this.collectReward({coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collect_fee:!1,rewarder_coin_types:a.rewarder_coin_types,master_address:a.master_address,pool_address:a.pool_address},tt);let ct=[tt.object(getPackagerConfigs(et).master_manger_id),tt.object(a.pool_address),tt.object(a.master_address),tt.object(getPackagerConfigs(s).global_config_id),tt.makeMoveVec({elements:a.delta_liquidities.map(ut=>tt.pure.u128(ut))}),tt.makeMoveVec({elements:a.min_amounts_a.map(ut=>tt.pure.u64(ut))}),tt.makeMoveVec({elements:a.min_amounts_a.map(ut=>tt.pure.u64(ut))}),tt.object(CLOCK_ADDRESS$1)];return tt.moveCall({target:`${et.published_at}::${st$1}::remove_liquidity`,typeArguments:at,arguments:ct}),tt}closeMasterLiquidity(a){let{clmm_pool:s}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:et}=this.sdk.sdkOptions,tt=new Transaction,at=[a.coinTypeA,a.coinTypeB];return this.collectReward({coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collect_fee:!1,rewarder_coin_types:a.rewarder_coin_types,master_address:a.master_address,pool_address:a.pool_address},tt),tt.moveCall({target:`${et.published_at}::${st$1}::close_master_liquidity`,typeArguments:at,arguments:[tt.object(getPackagerConfigs(et).master_manger_id),tt.object(a.master_address),tt.object(getPackagerConfigs(s).global_config_id),tt.object(a.pool_address),tt.makeMoveVec({elements:a.min_amounts_a.map(ct=>tt.pure.u64(ct))}),tt.makeMoveVec({elements:a.min_amounts_a.map(ct=>tt.pure.u64(ct))}),tt.object(CLOCK_ADDRESS$1)]}),tt}collectFee(a,s){let{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:tt}=this.sdk.sdkOptions;s=s===void 0?new Transaction:s;let at=[a.coinTypeA,a.coinTypeB],ct=[s.object(getPackagerConfigs(tt).master_manger_id),s.object(a.master_address),s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_address)];return s.moveCall({target:`${tt.published_at}::${st$1}::collect_fee`,typeArguments:at,arguments:ct}),s}collectReward(a,s){let{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:tt}=this.sdk.sdkOptions;return s=s===void 0?new Transaction:s,a.collect_fee&&this.collectFee({...a},s),a.rewarder_coin_types.forEach(at=>{let ct=[a.coinTypeA,a.coinTypeB,at];if(s){let ut=[s.object(getPackagerConfigs(tt).master_manger_id),s.object(a.master_address),s.object(getPackagerConfigs(et).global_config_id),s.object(a.pool_address),s.object(getPackagerConfigs(et).global_vault_id),s.object(CLOCK_ADDRESS$1)];s.moveCall({target:`${tt.published_at}::${st$1}::collect_reward`,typeArguments:ct,arguments:ut})}}),s}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},Mt=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}buildCoinInput(a,s,et,tt,at){let{selectedCoins:ct,remainingCoins:ut}=CoinAssist.selectCoinAssetGreaterThanOrEqual(s,BigInt(tt)),bt=CoinAssist.calculateTotalBalance(ct);if(bt<BigInt(tt))throw new Error(`The amount(${bt}) is Insufficient balance for ${et} , expect ${tt} `);let wt=bt-BigInt(tt),Et;if(CoinAssist.isSuiCoin(et))Et=a.splitCoins(a.gas,[a.pure.u64(tt)]);else{let[Ft,...jt]=ct.map(Lt=>Lt.coinObjectId);Et=a.object(Ft),jt.length>0?at?a.mergeCoins(Et,[...jt.map(Lt=>a.object(Lt)),at]):a.mergeCoins(Et,[...jt.map(Lt=>a.object(Lt))]):at&&a.mergeCoins(Et,[at])}return{selectedUnusedAmount:wt,coinInput:Et,remainingCoins:ut}}async deposit(a){var jt,Lt;let{vaults:s,frams:et}=this._sdk.sdkOptions,{clmm_pool:tt}=this._sdk.ClmmSDK.sdkOptions,at=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress()),ct=new Transaction,ut,bt;if(a.swapParams){let Ut=await this.handleDepositSwap(a,ct,at);ut=Ut.primaryCoinAInputs,bt=Ut.primaryCoinBInputs}else ut=(jt=TransactionUtil.buildAddLiquidityFixTokenCoinInput(ct,!a.fix_amount_a,a.amount_a,a.slippage,a.coinTypeA,at,!1))==null?void 0:jt.targetCoin,bt=(Lt=TransactionUtil.buildAddLiquidityFixTokenCoinInput(ct,a.fix_amount_a,a.amount_b,a.slippage,a.coinTypeB,at,!1))==null?void 0:Lt.targetCoin;let wt=getPackagerConfigs(s),Et=getPackagerConfigs(et),Ft=getPackagerConfigs(tt);return ct.moveCall({target:`${s.published_at}::${Mi}::deposit`,typeArguments:[a.coinTypeA,a.coinTypeB,a.lp_token_type],arguments:[ct.object(wt.vaults_manager_id),ct.object(a.vault_id),ct.object(Et.rewarder_manager_id),ct.object(Et.global_config_id),ct.object(a.farming_pool),ct.object(Ft.global_config_id),ct.object(a.clmm_pool),ut,bt,ct.pure.u64(a.amount_a),ct.pure.u64(a.amount_b),ct.pure.bool(a.fix_amount_a),ct.object(CLOCK_ADDRESS$1)]}),ct}async handleDepositSwap(a,s,et){let{clmm_pool:tt,integrate:at}=this._sdk.ClmmSDK.sdkOptions,{swap_amount:ct,a2b:ut,route_obj:bt,stakeProtocol:wt}=a.swapParams,Et=ut?a.coinTypeA:a.coinTypeB,Ft=TransactionUtil.buildCoinForAmount(s,et,BigInt(ct),Et,!1),jt=BigInt(Ft.tragetCoinAmount)-BigInt(ct),Lt=[];if(wt){let tr=this.requestStakeCoin(wt,s,Ft.targetCoin),nr=TransactionUtil.buildCoinForAmount(s,Ft.remainCoins,BigInt(0),Et,!1).targetCoin;Lt=ut?[nr,tr]:[tr,nr]}else if(bt){let tr=TransactionUtil.buildCoinForAmount(s,et,0n,ut?a.coinTypeB:a.coinTypeA,!1),nr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,bt,Ft,tr,"",a.slippage,s);Lt=ut?[nr.fromCoin,nr.toCoin]:[nr.toCoin,nr.fromCoin],!tr.isMintZeroCoin&&tr.originalSplitedCoin===void 0&&s.transferObjects([tr.targetCoin],s.pure.address(this._sdk.getVerifySenderAddress()))}else{let tr=TransactionUtil.buildCoinForAmount(s,et,0n,ut?a.coinTypeB:a.coinTypeA,!1),nr=SwapUtils.getDefaultSqrtPriceLimit(ut).toString();Lt=s.moveCall({target:`${at.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[s.object(getPackagerConfigs(tt).global_config_id),s.object(a.clmm_pool),ut?Ft.targetCoin:tr.targetCoin,ut?tr.targetCoin:Ft.targetCoin,s.pure.bool(ut),s.pure.bool(!0),s.pure.u64(ct),s.pure.u128(nr),s.pure.bool(!1),s.object(CLOCK_ADDRESS$1)]})}let Ut,Vt,Yt=Lt[0],er=Lt[1];if(ut){let tr=BigInt(a.amount_a)-jt;CoinAssist.isSuiCoin(Et)?(s.transferObjects([Yt],s.pure.address(this._sdk.getVerifySenderAddress())),Ut=s.splitCoins(s.gas,[s.pure.u64(a.amount_a)])):tr>0n?Ut=this.buildCoinInput(s,Ft.remainCoins,Et,tr,Yt).coinInput:Ut=Yt,Vt=er}else{Ut=Yt;let tr=BigInt(a.amount_b)-jt;CoinAssist.isSuiCoin(Et)?(s.transferObjects([er],s.pure.address(this._sdk.getVerifySenderAddress())),Vt=s.splitCoins(s.gas,[s.pure.u64(a.amount_b)])):tr>0n?Vt=this.buildCoinInput(s,Ft.remainCoins,Et,tr,er).coinInput:Vt=er}return{primaryCoinAInputs:Ut,primaryCoinBInputs:Vt}}async remove(a){let{vaults:s,frams:et}=this.sdk.sdkOptions,{clmm_pool:tt,integrate:at}=this._sdk.ClmmSDK.sdkOptions,ct=new Transaction,ut=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress(),a.lp_token_type),bt=TransactionUtil.buildCoinForAmount(ct,ut,BigInt(a.lp_token_amount),a.lp_token_type,!1).targetCoin,wt=getPackagerConfigs(s),Et=getPackagerConfigs(et),Ft=getPackagerConfigs(tt),jt=[a.coinTypeA,a.coinTypeB,a.lp_token_type],Lt=ct.moveCall({target:`${s.published_at}::${Ri}::remove`,typeArguments:jt,arguments:[ct.object(wt.vaults_manager_id),ct.object(a.vault_id),ct.object(Et.rewarder_manager_id),ct.object(Et.global_config_id),ct.object(a.farming_pool),ct.object(Ft.global_config_id),ct.object(a.clmm_pool),bt,ct.pure.u64(a.lp_token_amount),ct.pure.u64(a.min_amount_a),ct.pure.u64(a.min_amount_b),ct.object(CLOCK_ADDRESS$1)]}),Ut=Lt[0],Vt=Lt[1];if(a.swapParams){let{a2b:Yt,swap_amount:er,route_obj:tr}=a.swapParams;if(tr){let nr={targetCoin:Yt?Ut:Vt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},ir={targetCoin:Yt?Vt:Ut,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},lr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,tr,nr,ir,"",a.slippage,ct),pr=Yt?[lr.fromCoin,lr.toCoin]:[lr.toCoin,lr.fromCoin];Yt?ct.mergeCoins(pr[1],[Vt]):ct.mergeCoins(pr[0],[Ut]),ct.transferObjects([...pr],ct.pure.address(this._sdk.getVerifySenderAddress()))}else{let nr=SwapUtils.getDefaultSqrtPriceLimit(Yt).toString(),ir=ct.moveCall({target:`${at.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[ct.object(getPackagerConfigs(tt).global_config_id),ct.object(a.clmm_pool),Ut,Vt,ct.pure.bool(Yt),ct.pure.bool(!0),ct.pure.u64(er),ct.pure.u128(nr),ct.pure.bool(!0),ct.object(CLOCK_ADDRESS$1)]});ct.transferObjects([ir[0],ir[1]],ct.pure.address(this._sdk.getVerifySenderAddress()))}}else ct.transferObjects([Ut,Vt],ct.pure.address(this._sdk.getVerifySenderAddress()));return ct}async getVaultList(a="all"){let{vaults:s}=this._sdk.sdkOptions,et=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s.package_id}::vaults::CreateEvent`},a),tt=et.data.map(ut=>ut.parsedJson.id),at=await this._sdk.ClmmSDK.fullClient.batchGetObjects(tt,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),ct=[];return at.forEach(ut=>{let bt=q$2.buildPool(ut);bt&&(bt.stake_protocol=this.findStakeProtocol(bt.position.coinTypeA,bt.position.coinTypeB),this.savePoolToCache(bt),ct.push(bt))}),et.data=ct,et}findStakeProtocol(a,s){let{haedal:et,volo:tt,aftermath:at}=getPackagerConfigs(this._sdk.sdkOptions.vaults),ct=extractStructTagFromType$1(a).full_address,ut=extractStructTagFromType$1(s).full_address;if(CoinAssist.isSuiCoin(ct)||CoinAssist.isSuiCoin(ut)){if(et){let bt=extractStructTagFromType$1(getPackagerConfigs(et).coin_type).full_address;if(ct===bt||ut===bt)return"Haedal"}if(tt){let bt=extractStructTagFromType$1(getPackagerConfigs(tt).coin_type).full_address;if(ct===bt||ut===bt)return"Volo"}if(at){let bt=extractStructTagFromType$1(getPackagerConfigs(at).coin_type).full_address;if(ct===bt||ut===bt)return"aftermath"}}}savePoolToCache(a){let s=`${a.id}_mirrorPool`;this.updateCache(s,a,cacheTime24h)}readPoolFromCache(a,s=!1){let et=`${a}_mirrorPool`;return this.getCache(et,s)}async calculateMaxAvailable(a){var Vt;let{integrate:s,simulationAccount:et}=this.sdk.ClmmSDK.sdkOptions,tt=new Transaction,at=TickMath.tickIndexToSqrtPriceX64(a.lowerTick),ct=TickMath.tickIndexToSqrtPriceX64(a.upperTick),ut=new BN(a.curSqrtPrice),bt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(a.input_amount),ut,at,ct,!1),wt=[a.coinTypeA,a.coinTypeB];tt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[tt.object(a.clmm_pool),tt.pure.bool(!0),tt.pure.bool(!0),tt.pure.u64(bt.coinA.toString())],typeArguments:wt}),tt.moveCall({target:`${s.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[tt.object(a.clmm_pool),tt.pure.bool(!1),tt.pure.bool(!0),tt.pure.u64(bt.coinB.toString())],typeArguments:wt});let Et=(Vt=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:tt,sender:et.address})).events)==null?void 0:Vt.filter(Yt=>extractStructTagFromType$1(Yt.type).name==="CalculatedSwapResultEvent");if(Et.length===0)return null;let Ft=Et[0].parsedJson.data,jt=Et[1].parsedJson.data,Lt=d$3(bt.coinB.toString()).add(Ft.amount_out),Ut=d$3(bt.coinA.toString()).add(jt.amount_out);return{maxAmountB:Lt,maxAmountA:Ut}}async calculateRemoveSwapAmount(a,s){let et=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(a.curSqrtPrice)),tt=a.fix_amount_a?et.ratioA:et.ratioB,at=d$3(a.receive_amount).mul(tt),ct,ut;if(a.removeLiquidity){let Yt=TickMath.tickIndexToSqrtPriceX64(a.lowerTick),er=TickMath.tickIndexToSqrtPriceX64(a.upperTick),tr=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(a.removeLiquidity),new BN(a.curSqrtPrice),Yt,er,!1);ut=a.removeLiquidity,ct=a.fix_amount_a?tr.coinB.toString():tr.coinA.toString(),at=a.fix_amount_a?d$3(tr.coinA.toString()):d$3(tr.coinB.toString())}else{let Yt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,new BN(at.toFixed(0)),a.fix_amount_a,!1,.2,new BN(a.curSqrtPrice));ut=Yt.liquidityAmount.toString(),ct=a.fix_amount_a?Yt.coinAmountB.toString():Yt.coinAmountA.toString()}let bt=!a.fix_amount_a,wt=await this.clmmPreSwap(a.clmm_pool,a.curSqrtPrice,bt,d$3(ct),a.coinTypeA,a.coinTypeB,!0,a.priceSplitPoint,a.use_route,[{pool_id:a.clmm_pool,tick_lower:a.lowerTick,tick_upper:a.upperTick,delta_liquidity:Number(ut),is_increase:!1}]),Et=at.add(wt.amount_out),Ft=d$3(a.receive_amount),jt=Ft.sub(Et);if((!a.removeLiquidity||a.removeLiquidity&&s)&&jt.abs().greaterThan(Ft.mul(.01))){let Yt=Et.lessThan(Ft),er,tr;s?Yt?(er=d$3(ut),tr=s.right):(er=s.left,tr=d$3(ut)):(er=d$3(Yt?ut:0),tr=d$3(Yt?a.maxLiquidity:ut));let nr=d$3(er).add(tr).div(2).toFixed(0);if(!s||s&&s.count<15&&er<tr)return await this.calculateRemoveSwapAmount({...a,removeLiquidity:nr},{left:er,right:tr,count:s?s.count+1:0})}let Lt=wt.amount_in&&wt.fee_amount?new BN(wt.amount_in).add(new BN(wt.fee_amount)).toString():wt.amount_in,Ut=wt.amount_out,{is_exceed:Vt}=wt;return{swapInAmount:Lt,swapOutAmount:Ut,liquidity:ut,is_exceed:Vt,routeObj:wt.route_obj,request_id:a.request_id}}async calculateStakeDepositFixSui(a){let s=a.inputSuiAmount.mul(a.remainRate),et=a.inputSuiAmount.sub(a.swapSuiAmount),tt=a.exchangeRate?a.exchangeRate:await this.getExchangeRateForStake(a.stakeProtocol,a.shouldRequestStake,Number(a.swapSuiAmount.toFixed(0))),at=a.swapSuiAmount.div(tt).toFixed(0),ct=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,new BN(at.toString()),!a.fixCoinA,!0,0,new BN(a.curSqrtPrice)),ut=a.fixCoinA?ct.coinAmountA.toString():ct.coinAmountB.toString(),bt=d$3(et).sub(ut);return bt.greaterThanOrEqualTo(0)&&bt.lessThanOrEqualTo(s)||a.rebalanceCount>12||a.leftSuiAmount.greaterThanOrEqualTo(a.rightSuiAmount)?{swapInAmount:a.swapSuiAmount.toFixed(0),swapOutAmount:at,afterSqrtPrice:a.curSqrtPrice,fixAmountA:!a.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:a.stakeProtocol}:bt.lessThan(0)?await this.calculateStakeDepositFixSui({...a,rightSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.leftSuiAmount).div(2),exchangeRate:tt,rebalanceCount:a.rebalanceCount+1}):bt.greaterThan(s)?await this.calculateStakeDepositFixSui({...a,leftSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.rightSuiAmount).div(2),exchangeRate:tt,rebalanceCount:a.rebalanceCount+1}):null}async calculateDepositSwapAmount(a,s=!1){let et=TickMath.sqrtPriceX64ToTickIndex(new BN(a.curSqrtPrice)),{ratioA:tt,ratioB:at}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(a.curSqrtPrice)),ct=d$3(a.input_amount).mul(a.fix_amount_a?tt:at),ut=d$3(a.input_amount).sub(ct),bt=a.fix_amount_a;if(ut.toFixed(0)==="0")return null;if(a.stakeProtocol){if(CoinAssist.isSuiCoin(a.coinTypeA)&&a.fix_amount_a||CoinAssist.isSuiCoin(a.coinTypeB)&&!a.fix_amount_a){let pr=await this.calculateStakeDepositFixSui({inputSuiAmount:d$3(a.input_amount),swapSuiAmount:ut,lowerTick:a.lowerTick,upperTick:a.upperTick,curSqrtPrice:a.curSqrtPrice,remainRate:a.remainRate?a.remainRate:.01,fixCoinA:a.fix_amount_a,rebalanceCount:0,shouldRequestStake:a.shouldRequestStake,leftSuiAmount:bt?new Decimal$1(ut.toFixed(0)):new Decimal$1(0),rightSuiAmount:bt?new Decimal$1(a.input_amount):new Decimal$1(ut.toFixed(0)),stakeProtocol:a.stakeProtocol});return pr?{...pr,request_id:a.request_id}:null}throw Error("Only support fix sui")}let wt=et<a.lowerTick||et>a.upperTick,Et={clmm_pool:a.clmm_pool,curSqrtPrice:a.curSqrtPrice,a2b:bt,amount_a:bt?new Decimal$1(a.input_amount):new Decimal$1(0),amount_b:bt?new Decimal$1(0):new Decimal$1(a.input_amount),amount_left:bt?new Decimal$1(ut.toFixed(0)):new Decimal$1(0),amount_right:bt?new Decimal$1(a.input_amount):new Decimal$1(ut.toFixed(0)),lowerTick:a.lowerTick,upperTick:a.upperTick,tick_spacing:2,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,useRoute:a.use_route,remainRate:a.remainRate?a.remainRate:.01,priceSplitPoint:a.priceSplitPoint},Ft=s&&et<=a.upperTick,jt=Ft?await this.calculateRebalance(Et):await this.clmmPreSwap(a.clmm_pool,a.curSqrtPrice,bt,ut,a.coinTypeA,a.coinTypeB,!0,a.priceSplitPoint,a.use_route),Lt=jt.after_sqrt_price,Ut=TickMath.sqrtPriceX64ToTickIndex(new BN(Lt)),Vt=Ut<a.lowerTick||Ut>a.upperTick;if(wt!==Vt&&!Ft&&Ut<=a.upperTick){let{ratioA:pr,ratioB:yr}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(Lt));ut=d$3(a.input_amount).sub(d$3(a.input_amount).mul(a.fix_amount_a?pr:yr)),Et.amount_left=bt?new Decimal$1(ut.toFixed(0)):new Decimal$1(0),Et.amount_right=bt?new Decimal$1(a.input_amount):new Decimal$1(ut.toFixed(0)),jt=await this.calculateRebalance(Et),Lt=jt.after_sqrt_price,TickMath.sqrtPriceX64ToTickIndex(new BN(Lt))}let{ratioA:Yt,ratioB:er}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(Lt)),tr=er.div(Yt).sub(at.div(tt)).greaterThan("0"),nr=jt.amount_in&&jt.fee_amount?new BN(jt.amount_in).add(new BN(jt.fee_amount)).toString():jt.amount_in,ir=jt.amount_out,{is_exceed:lr}=jt;if(Ut<a.lowerTick)tr=!0;else if(Ut>a.upperTick)tr=!1;else{let pr=tr===bt?new BN(d$3(a.input_amount).sub(nr).toString()):new BN(ir),yr=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,pr,tr,!0,0,new BN(Lt)),br=yr.coinAmountA,xr=yr.coinAmountB;d$3(a.fix_amount_a?br.toString():xr.toString()).add(nr).greaterThanOrEqualTo(a.input_amount)&&(tr=!tr)}return{swapInAmount:nr,swapOutAmount:ir,afterSqrtPrice:Lt,is_exceed:lr,fixAmountA:tr,routeObj:jt.route_obj,request_id:a.request_id,use_Haedal_stake:!1}}async calculateHaedalDepositSwapAmount(a){TickMath.sqrtPriceX64ToTickIndex(new BN(a.curSqrtPrice));let{ratioA:s,ratioB:et}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(a.curSqrtPrice)),tt=d$3(a.input_amount).mul(a.fix_amount_a?s:et),at=d$3(a.input_amount).sub(tt),ct=a.fix_amount_a;if(at.toFixed(0)==="0")return null;if(a.stakeProtocol){if(CoinAssist.isSuiCoin(a.coinTypeA)&&a.fix_amount_a||CoinAssist.isSuiCoin(a.coinTypeB)&&!a.fix_amount_a){let ut=await this.calculateStakeDepositFixSui({inputSuiAmount:d$3(a.input_amount),swapSuiAmount:at,lowerTick:a.lowerTick,upperTick:a.upperTick,curSqrtPrice:a.curSqrtPrice,remainRate:a.remainRate?a.remainRate:.01,fixCoinA:a.fix_amount_a,rebalanceCount:0,shouldRequestStake:a.shouldRequestStake,leftSuiAmount:ct?new Decimal$1(at.toFixed(0)):new Decimal$1(0),rightSuiAmount:ct?new Decimal$1(a.input_amount):new Decimal$1(at.toFixed(0)),stakeProtocol:a.stakeProtocol});return ut?{...ut,request_id:a.request_id}:null}throw Error("Only support fix sui")}return null}async calculateRebalance(a){let{clmm_pool:s,a2b:et,curSqrtPrice:tt,amount_a:at,amount_b:ct,lowerTick:ut,upperTick:bt,amount_left:wt,amount_right:Et,coinTypeA:Ft,coinTypeB:jt,useRoute:Lt,priceSplitPoint:Ut,remainRate:Vt}=a,Yt=async(er,tr,nr)=>{let ir=er.plus(tr).div(2),lr=await this.clmmPreSwap(s,tt,et,ir,Ft,jt,!0,Ut,Lt);if(lr.amount_out==="0")return lr;if(lr.after_sqrt_price||(lr.after_sqrt_price=a.curSqrtPrice),lr.is_exceed)return tr=ir,Yt(er,tr);let pr=et?at.sub(lr.amount_in):at.add(lr.amount_out),yr=et?ct.add(lr.amount_out):ct.sub(lr.amount_in);TickMath.sqrtPriceX64ToTickIndex(new BN(lr.after_sqrt_price));let br=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(ut,bt,new BN(pr.toString()),!0,!0,1,new BN(lr.after_sqrt_price)),xr=new Decimal$1(br.coinAmountA.toString()),Er=new Decimal$1(br.coinAmountB.toString());if(xr.toString()!==pr.toString())throw new Error("usedA does not match afterA");if(yr.lessThan(Er))et?er=ir:tr=ir;else{et?tr=ir:er=ir;let $r=yr.sub(Er);if(yr.mul(Vt).sub($r).greaterThanOrEqualTo(0))return{...lr,remainingB:$r}}return er.greaterThan(tr)||tr.sub(er).lessThan(10)?lr:Yt(er,tr)};return wt.greaterThanOrEqualTo(Et)?Yt(new Decimal$1(0),wt):Yt(wt,Et)}async clmmPreSwap(a,s,et,tt,at,ct,ut,bt,wt,Et){var er;if(wt)try{let tr=await this._sdk.ClmmSDK.RouterV2.getBestRouter(et?at:ct,et?ct:at,Number(tt.toFixed(0)),ut,bt,"",void 0,void 0,!0,!1,Et);if(!tr.result)throw new Error("route unavailable");let{result:nr}=tr,ir=s;return nr.splitPaths.forEach(lr=>{let pr=lr.basePaths.find(yr=>yr.poolAddress.toLowerCase()===a.toLowerCase());pr&&(ir=pr.afterSqrtPrice.toString())}),{amount_in:nr.inputAmount.toString(),amount_out:nr.outputAmount.toString(),after_sqrt_price:ir,is_exceed:nr.isExceed,route_obj:nr}}catch{throw new Error("route unavailable")}let{integrate:Ft,simulationAccount:jt}=this.sdk.ClmmSDK.sdkOptions,Lt=new Transaction,Ut=[at,ct],Vt=[Lt.object(a),Lt.pure.bool(et),Lt.pure.bool(ut),Lt.pure.u64(tt.toFixed(0))];Lt.moveCall({target:`${Ft.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:Vt,typeArguments:Ut});let Yt=(er=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Lt,sender:jt.address})).events)==null?void 0:er.filter(tr=>extractStructTagFromType$1(tr.type).name==="CalculatedSwapResultEvent");return Yt.length===0?null:Yt[0].parsedJson.data}async getVault(a,s=!1){let et=this.readPoolFromCache(a,s);if(et)return et;try{let tt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),at=q$2.buildPool(tt);if(at)return at.stake_protocol=this.findStakeProtocol(at.position.coinTypeA,at.position.coinTypeB),this.savePoolToCache(at),at}catch(tt){console.log(tt)}}async getVaultsConfigs(a=!1){let{package_id:s}=this._sdk.sdkOptions.vaults,et=`${s}_getMirrorPoolConfigs`,tt=this.getCache(et,a);if(tt!==void 0)return tt;let at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::vaults::InitEvent`})).data,ct={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(at.length>0){for(let ut of at){let bt=ut.parsedJson;ct.admin_cap_id=bt.admin_cap_id,ct.vaults_manager_id=bt.manager_id;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:ct.vaults_manager_id,options:{showContent:!0}}),Et=getObjectFields(wt);ct.vaults_pool_handle=Et.vault_to_pool_maps.fields.id.id;break}this.updateCache(et,ct,cacheTime24h)}return ct}async getExchangeRateForStake(a,s,et){return a==="Haedal"?await Ve$2.getExchangeRateForStake(this._sdk,s,et):a==="Volo"?await Xe$1.getExchangeRateForStake(this._sdk,s,et):a==="aftermath"?await We$1.getExchangeRateForStake(this._sdk,s,et):"0"}requestStakeCoin(a,s,et){if(a==="Haedal")return Ve$2.requestStakeCoin(this._sdk,s,et);if(a==="Volo")return Xe$1.requestStakeCoin(this._sdk,s,et);if(a==="aftermath")return We$1.requestStakeCoin(this._sdk,s,et)}async requestStake(a,s,et){if(a==="Haedal")return await Ve$2.requestStake(this._sdk,s,et);if(a==="Volo")return await Xe$1.requestStake(this._sdk,s,et);if(a==="aftermath")return await We$1.requestStake(this._sdk,s,et)}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},Nt=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getLimitOrderTokenList(){let{limit_order:a}=this._sdk.sdkOptions,{token_list_handle:s}=getPackagerConfigs(a),{fullClient:et}=this._sdk.ClmmSDK,tt=(await et.getDynamicFieldsByPage(s)).data.map(at=>at.objectId);return(await et.batchGetObjects(tt,{showContent:!0})).map(at=>{let{fields:ct}=at.data.content;return{coin_type:extractStructTagFromType$1(ct.name.fields.name).full_address,min_trade_amount:Number(ct.value)}})}async getLimitOrderPoolList(){let{limit_order:a}=this._sdk.sdkOptions,{rate_orders_indexer_handle:s}=getPackagerConfigs(a),{fullClient:et}=this._sdk.ClmmSDK,tt=(await et.getDynamicFieldsByPage(s)).data.map(at=>at.objectId);return(await et.batchGetObjects(tt,{showContent:!0})).map(at=>{let{fields:ct}=at.data.content.fields.value,ut={pay_coin_type:extractStructTagFromType$1(ct.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(ct.target_coin.fields.name).full_address,indexer_id:ct.indexer_id,indexer_key:ct.indexer_key};return this._sdk.updateCache(`${ut.pay_coin_type}_${ut.target_coin_type}`,ut.indexer_id),ut})}async getLimitOrderPool(a,s){let{limit_order:et}=this._sdk.sdkOptions,{rate_orders_indexer_handle:tt}=getPackagerConfigs(et),{fullClient:at}=this._sdk.ClmmSDK;try{let ct=await at.getDynamicFieldObject({parentId:tt,name:{type:"0x2::object::ID",value:this.buildPoolKey(fixCoinType(a,!0),fixCoinType(s,!0))}}),{fields:ut}=getObjectFields(ct).value,bt={pay_coin_type:extractStructTagFromType$1(ut.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(ut.target_coin.fields.name).full_address,indexer_id:ut.indexer_id,indexer_key:ut.indexer_key};return this._sdk.updateCache(`${bt.pay_coin_type}_${bt.target_coin_type}`,bt.indexer_id),bt}catch(ct){console.log("🚀🚀🚀 ~ file: LimitOrderModule.ts:122 ~ LimitOrderModule ~ getLimitOrderPool ~ error:",ct)}}async getPoolIndexerId(a,s){let et=this._sdk.getCache(`${a}_${s}`);try{if(et===void 0){let tt=await this.getLimitOrderPool(a,s);if(tt)return tt.indexer_id}}catch{}return et}async getOwnerLimitOrderList(a,s){let{fullClient:et}=this._sdk.ClmmSDK,tt={data:[],hasNextPage:!1};try{let at=await this.getUserIndexerHandle(a);if(!at)return tt;let ct=await et.getDynamicFieldsByPage(at,s);tt.hasNextPage=ct.hasNextPage,tt.nextCursor=ct.nextCursor;let ut=ct.data.map(wt=>wt.name.value),bt=(await et.batchGetObjects(ut,{showContent:!0})).map(wt=>Pe$2.buildLimitOrderInfo(wt)).filter(wt=>wt!==void 0);tt.data=bt}catch(at){console.log("Error in getOwnerLimitOrderList:",at)}return tt}async getLimitOrderConfigs(){let{package_id:a}=this._sdk.sdkOptions.limit_order,s={rate_orders_indexer_id:"",rate_orders_indexer_handle:"",global_config_id:"",token_list_handle:"",user_orders_indexer_id:"",user_orders_indexer_handle:""},et=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::limit_order::InitEvent`})).data;if(et.length>0){let at=et[0].parsedJson;s.rate_orders_indexer_id=at.rate_orders_indexer_id,s.user_orders_indexer_id=at.user_orders_indexer_id;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:s.rate_orders_indexer_id,options:{showContent:!0}});s.rate_orders_indexer_handle=getObjectFields(ct).list.fields.id.id;let ut=await this._sdk.ClmmSDK.fullClient.getObject({id:s.user_orders_indexer_id,options:{showContent:!0}});s.user_orders_indexer_handle=getObjectFields(ut).indexer.fields.id.id}let tt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitFactoryEvent`})).data;if(tt.length>0){let at=tt[0].parsedJson;s.global_config_id=at.global_config_id;let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:s.global_config_id,options:{showContent:!0}}),ut=getObjectFields(ct);s.token_list_handle=ut.token_white_list.fields.id.id}return s}async getLimitOrder(a){let{fullClient:s}=this._sdk.ClmmSDK;try{let et=await s.getObject({id:a,options:{showContent:!0}});return Pe$2.buildLimitOrderInfo(et)}catch(et){console.log("Error in getLimitOrder:",et);return}}async getLimitOrderLogs(a){let{fullClient:s}=this._sdk.ClmmSDK;try{let et=await s.queryTransactionBlocks({filter:{ChangedObject:a},options:{showEvents:!0}}),tt=[];return et.data.forEach(at=>{tt.push(...Pe$2.buildOrderLimitEvent(at,["OrderPlacedEvent","OrderCanceledEvent","FlashLoanEvent"]))}),tt}catch(et){return console.log("Error in getLimitOrderLogs:",et),[]}}async getLimitOrderClaimLogs(a){let{fullClient:s}=this._sdk.ClmmSDK;try{let et=await s.queryTransactionBlocks({filter:{ChangedObject:a},options:{showEvents:!0}}),tt=[];return et.data.forEach(at=>{tt.push(...Pe$2.buildOrderLimitEvent(at,["ClaimTargetCoinEvent"]))}),tt}catch(et){return console.log("Error in getLimitOrderLogs:",et),[]}}buildRateOrdersIndexerType(a){let{limit_order:s}=this._sdk.sdkOptions;return composeType$1(`${s.package_id}::limit_order::RateOrdersIndexer`,[a.pay_coin_type,a.target_coin_type])}buildPoolKey(a,s){let et=Buffer$1.from(a,"ascii"),tt=Buffer$1.from(s,"ascii"),at=Buffer$1.concat([et,tt]),ct=blakejs.blake2b(at,void 0,32);return`0x${Buffer$1.from(ct).toString("hex")}`}async placeLimitOrder(a){let{limit_order:s}=this._sdk.sdkOptions,{user_orders_indexer_id:et,global_config_id:tt,rate_orders_indexer_id:at}=getPackagerConfigs(s),ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,a.pay_coin_type),ut=new Transaction,bt=await this.getPoolIndexerId(a.pay_coin_type,a.target_coin_type),wt=TransactionUtil.buildCoinForAmount(ut,ct,BigInt(a.pay_coin_amount),a.pay_coin_type,!1,!0);return ut.moveCall({target:`${s.published_at}::limit_order::${bt===void 0?"create_indexer_and_place_limit_order":"place_limit_order"}`,typeArguments:[a.pay_coin_type,a.target_coin_type],arguments:[ut.object(tt),bt===void 0?ut.object(at):ut.object(bt),ut.object(et),wt.targetCoin,ut.pure.u128(Pe$2.priceToRate(a.price,a.pay_decimal,a.target_decimal)),ut.pure.u64(a.expired_ts),ut.object(CLOCK_ADDRESS$1)]}),ut}async claimTargetCoin(a){let{limit_order:s}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(s),tt=new Transaction;return tt.moveCall({target:`${s.published_at}::limit_order::claim_target_coin`,typeArguments:[a.pay_coin_type,a.target_coin_type],arguments:[tt.object(et),tt.object(a.order_id)]}),tt}async cancelOrdersByOwner(a){let{limit_order:s}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(s),tt=new Transaction,at={};for(let ct=0;ct<a.length;ct++){let ut=a[ct],bt=await this.getPoolIndexerId(ut.pay_coin_type,ut.target_coin_type);if(bt===void 0)throw Error("not found indexerId");at[ut.order_id]=bt}return a.forEach(ct=>{tt.moveCall({target:`${s.published_at}::limit_order::cancel_order_by_owner`,typeArguments:[ct.pay_coin_type,ct.target_coin_type],arguments:[tt.object(et),tt.object(at[ct.order_id]),tt.object(ct.order_id),tt.object(CLOCK_ADDRESS$1)]})}),tt}async getUserIndexerHandle(a){let{fullClient:s}=this._sdk.ClmmSDK,{limit_order:et}=this._sdk.sdkOptions,tt=this.getUserIndexerHandleByCache(a);if(tt===void 0){let at=new Transaction;at.moveCall({target:`${et.published_at}::limit_order::get_orders_indexer_by_owner`,typeArguments:[],arguments:[at.pure.address(a),at.object(getPackagerConfigs(et).user_orders_indexer_id)]}),tt=(await s.devInspectTransactionBlock({transactionBlock:at,sender:this._sdk.ClmmSDK.sdkOptions.simulationAccount.address})).events[0].parsedJson.orders_table_id,tt&&this.saveUserIndexerHandleByCache(a,tt)}return tt}getUserIndexerHandleByCache(a){let s=`getUserIndexerHandleByCache_${a}`;return this.getCache(s)}saveUserIndexerHandleByCache(a,s){let et=`getUserIndexerHandleByCache_${a}`;return this.updateCache(et,s)}updateCache(a,s,et=cacheTime24h){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},Bt$1=class{constructor(s){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getFramsPoolList(s="all"){let{package_id:et}=this._sdk.sdkOptions.frams,tt={data:[],hasNextPage:!1};try{let at=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::pool::CreatePoolEvent`},s),ct=at.data.map(ut=>ut.parsedJson.pool_id);if(tt.hasNextPage=at.hasNextPage,tt.nextCursor=at.nextCursor,ct.length>0){let ut=await this._sdk.ClmmSDK.fullClient.batchGetObjects(ct,{showType:!0,showContent:!0});for(let bt of ut){let wt=Le$1.buildFramsPool(bt);wt&&(wt.rewarders=await this.getFramsRewarderConfig(wt.clmm_pool_id,wt.rewarders.map(Et=>Et.reward_coin)),tt.data.push(wt),this.updateCache(wt.id,wt))}}}catch(at){console.log("getFramsPoolList error ",at)}return tt}async getFramsPool(s,et=!1){let tt=this.getCache(s,et);if(tt)return tt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}}),ct=Le$1.buildFramsPool(at.data);return ct&&(ct.rewarders=await this.getFramsRewarderConfig(ct.clmm_pool_id,ct.rewarders.map(ut=>ut.reward_coin)),this.updateCache(ct.id,ct)),ct}async getFramsRewarderConfig(s,et,tt=!1){let{frams:at}=this._sdk.sdkOptions,ct=[];for(let ut of et){let bt=`getFramsRewarderConfig_${ut}_${s}`,wt=this.getCache(bt,tt);if(wt)ct.push(wt);else try{let Et=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(at).rewarder_manager_handle,name:{type:"0x1::type_name::TypeName",value:removeHexPrefix(ut)}}),{fields:Ft}=Et.data.content.fields.value.fields.value,jt={reward_coin:ut,last_reward_time:Ft.last_reward_time,emission_per_second:Ft.emission_per_second,total_allocate_point:Ft.total_allocate_point,allocate_point:""},Lt=Ft.pools.fields.id.id,Ut=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:Lt,name:{type:"0x2::object::ID",value:s}}),{allocate_point:Vt}=Ut.data.content.fields.value.fields.value.fields;jt.allocate_point=Vt,this.updateCache(bt,jt),ct.push(jt)}catch(Et){console.log(Et)}}return ct}async getOwnedFramsPositionNFTList(s,et=[],tt=!1,at="all"){let{package_id:ct}=this._sdk.sdkOptions.frams,ut={data:[],hasNextPage:!1},bt={},wt=[],Et=et.length>0,Ft=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{filter:{StructType:`${ct}::pool::WrappedPositionNFT`},options:{showContent:!0}},at);ut.hasNextPage=Ft.hasNextPage,ut.nextCursor=Ft.nextCursor;for(let jt of Ft.data){let Lt=Le$1.buildFramsPositionNFT(jt);if(Lt)if(Et){if(et.includes(Lt.pool_id)){wt.push(Lt);let Ut=bt[Lt.pool_id];Ut?Ut.push(Lt):Ut=[Lt],bt[Lt.pool_id]=Ut}}else wt.push(Lt)}if(tt&&wt.length>0){let jt=await this.calculateFarmingRewards(wt.map(Lt=>({pool_id:Lt.pool_id,position_nft_id:Lt.id,clmm_pool_id:Lt.clmm_pool_id})));Et?(bt={},wt.forEach(Lt=>{jt[Lt.id]&&(Lt.rewards=jt[Lt.id]);let Ut=bt[Lt.pool_id];Ut?Ut.push(Lt):Ut=[Lt],bt[Lt.pool_id]=Ut})):wt.forEach(Lt=>{jt[Lt.id]&&(Lt.rewards=jt[Lt.id])})}return Et?bt:(ut.data=wt,ut)}async getFramsPositionNFT(s,et=!0){let tt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),at=Le$1.buildFramsPositionNFT(tt);if(et&&at){let ct=await this.calculateFarmingRewards([{pool_id:at.pool_id,position_nft_id:at.id}]);ct[at.id]&&(at.rewards=ct[at.id])}return at}async calculateFarmingRewards(s){var bt,wt;let{frams:et}=this._sdk.sdkOptions,tt=new Transaction,{rewarder_manager_id:at,global_config_id:ct}=getPackagerConfigs(et);s.forEach(Et=>{tt.moveCall({target:`${et.published_at}::router::accumulated_position_rewards`,typeArguments:[],arguments:[tt.object(ct),tt.object(at),tt.object(Et.pool_id),tt.pure.address(Et.position_nft_id),tt.object(CLOCK_ADDRESS$1)]})});let ut={};try{let Et=(wt=(bt=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:tt,sender:this.sdk.ClmmSDK.senderAddress}))==null?void 0:bt.events)==null?void 0:wt.filter(Ft=>extractStructTagFromType$1(Ft.type).name==="AccumulatedPositionRewardsEvent");if(Et&&Et.length>0)for(let Ft=0;Ft<Et.length;Ft+=1){let{parsedJson:jt}=Et[Ft],Lt=[];jt.rewards.contents.forEach(Ut=>{Lt.push({rewarder_type:extractStructTagFromType$1(Ut.key.name).full_address,rewarder_amount:Ut.value})}),ut[jt.wrapped_position_id]=Lt}}catch(Et){console.log(Et)}return ut}depositPayload(s,et){let{frams:tt}=this.sdk.sdkOptions;et=et||new Transaction;let{global_config_id:at,rewarder_manager_id:ct}=getPackagerConfigs(tt);return et.moveCall({target:`${tt.published_at}::router::deposit`,typeArguments:[],arguments:[et.object(at),et.object(ct),et.object(s.pool_id),et.object(s.clmm_position_id),et.object(CLOCK_ADDRESS$1)]}),et}async withdrawPayload(s,et){let{frams:tt}=this.sdk.sdkOptions,{global_config_id:at,rewarder_manager_id:ct}=getPackagerConfigs(tt);return et=et||new Transaction,et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id},et),et.moveCall({target:`${tt.published_at}::router::withdraw`,typeArguments:[],arguments:[et.object(at),et.object(ct),et.object(s.pool_id),et.object(s.position_nft_id),et.object(CLOCK_ADDRESS$1)]}),et}async batchHarvestPayload(s,et){et=et||new Transaction;for(let tt of s)await this.harvestPayload(tt,et);return et}async batchHarvestAndClmmFeePayload(s,et){if(!checkInvalidSuiAddress$1(this._sdk.ClmmSDK.senderAddress))throw new Error("this config sdk senderAddress is not set right");let tt=new Transaction,at={},ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,null);for(let Et of et)this.collectClmmFeeInternal(Et,at,tt,ct),this.collectClmmRewardInternal(Et,at,tt,ct);let{frams:ut}=this.sdk.sdkOptions,{global_config_id:bt,rewarder_manager_id:wt}=getPackagerConfigs(ut);for(let Et of s){let Ft=await this.getFramsPool(Et.pool_id,!1);if(Ft===void 0)throw Error(`not found ${Et.pool_id}`);Et.collect_fee&&this.collectFeeInternal(Et,at,tt,ct),Et.clmm_rewarder_types.length>0&&await this.collectRewardInternal(Et,at,tt,ct),Et.collect_frams_rewarder&&Ft.rewarders.forEach(jt=>{tt&&tt.moveCall({target:`${ut.published_at}::router::harvest`,typeArguments:[jt.reward_coin],arguments:[tt.object(bt),tt.object(wt),tt.object(Et.pool_id),tt.object(Et.position_nft_id),tt.object(CLOCK_ADDRESS$1)]})})}return Object.keys(at).forEach(Et=>{let Ft=at[Et],{originalSplitedCoin:jt}=Ft;(Ft.isMintZeroCoin||jt&&(jt==null?void 0:jt.$kind)==="GasCoin")&&TransactionUtil.buildTransferCoin(this._sdk.ClmmSDK,tt,Ft.targetCoin,Et,this._sdk.ClmmSDK.senderAddress)}),tt}async collectRewardInternal(s,et,tt,at){let ct=[];s.clmm_rewarder_types.forEach(ut=>{let bt=normalizeCoinType$1(ut),wt=et[ut];wt===void 0&&(wt=TransactionUtil.buildCoinForAmount(tt,at,BigInt(0),bt,!1),et[bt]=wt),ct.push(wt.targetCoin)}),await this.collectClmmRewardNoSendPayload(s,tt)}collectFeeInternal(s,et,tt,at){let{frams:ct}=this.sdk.sdkOptions,{global_config_id:ut}=getPackagerConfigs(ct),{clmm_pool:bt,integrate:wt}=this.sdk.ClmmSDK.sdkOptions,Et=getPackagerConfigs(bt),Ft=normalizeCoinType$1(s.coinTypeA),jt=normalizeCoinType$1(s.coinTypeB),Lt=et[Ft];Lt===void 0&&(Lt=TransactionUtil.buildCoinForAmount(tt,at,BigInt(0),Ft,!1),et[Ft]=Lt);let Ut=et[jt];Ut===void 0&&(Ut=TransactionUtil.buildCoinForAmount(tt,at,BigInt(0),jt,!1),et[jt]=Ut),tt.moveCall({target:`${wt.published_at}::stable_farming::collect_fee`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[tt.object(ut),tt.object(Et.global_config_id),tt.object(s.clmm_pool_id),tt.object(s.position_nft_id),Lt.targetCoin,Ut.targetCoin]})}collectClmmRewardInternal(s,et,tt,at){let ct=[];s.rewarder_coin_types.forEach(ut=>{let bt=normalizeCoinType$1(ut),wt=et[ut];wt===void 0&&(wt=TransactionUtil.buildCoinForAmount(tt,at,BigInt(0),bt,!1),et[bt]=wt),ct.push(wt.targetCoin)}),this._sdk.ClmmSDK.Rewarder.createCollectRewarderNoSendPaylod(s,tt,ct)}collectClmmFeeInternal(s,et,tt,at){if(s.collect_fee){let ct=normalizeCoinType$1(s.coinTypeA),ut=normalizeCoinType$1(s.coinTypeB),bt=et[ct];bt===void 0&&(bt=TransactionUtil.buildCoinForAmount(tt,at,BigInt(0),ct,!1),et[ct]=bt);let wt=et[ut];wt===void 0&&(wt=TransactionUtil.buildCoinForAmount(tt,at,BigInt(0),ut,!1),et[ut]=wt),this._sdk.ClmmSDK.Position.createCollectFeeNoSendPaylod({pool_id:s.pool_id,pos_id:s.pos_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB},tt,bt.targetCoin,wt.targetCoin)}}async harvestPayload(s,et){let{frams:tt}=this.sdk.sdkOptions;et=et||new Transaction;let at=await this.getFramsPool(s.pool_id,!1);if(at===void 0)throw Error(`not found ${s.pool_id}`);let{global_config_id:ct,rewarder_manager_id:ut}=getPackagerConfigs(tt);if("collect_fee"in s&&(s.collect_fee||s.clmm_rewarder_types.length>0)){let bt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,bt)}return at.rewarders.forEach(bt=>{et&&et.moveCall({target:`${tt.published_at}::router::harvest`,typeArguments:[bt.reward_coin],arguments:[et.object(ct),et.object(ut),et.object(s.pool_id),et.object(s.position_nft_id),et.object(CLOCK_ADDRESS$1)]})}),et}async claimFeeAndClmmReward(s){let et=new Transaction,tt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);return await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,tt),et}async openPositionAddLiquidityStakePaylod(s){let et=new Transaction,{clmm_pool:tt,integrate:at}=this._sdk.ClmmSDK.sdkOptions,ct=getPackagerConfigs(tt),ut=et.moveCall({target:`${tt.published_at}::pool::open_position`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(ct.global_config_id),et.object(s.clmm_pool_id),et.pure.u32(Number(asUintN(BigInt(s.tick_lower)).toString())),et.pure.u32(Number(asUintN(BigInt(s.tick_upper)).toString()))]}),bt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),wt=TransactionUtil.buildCoinForAmount(et,bt,BigInt(s.amount_a),s.coinTypeA,!1),Et=TransactionUtil.buildCoinForAmount(et,bt,BigInt(s.amount_b),s.coinTypeB,!1);et.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity_by_fix_coin`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(ct.global_config_id),et.object(s.clmm_pool_id),ut,wt.targetCoin,Et.targetCoin,et.pure.u64(s.amount_a.toString()),et.pure.u64(s.amount_b.toString()),et.pure.bool(s.fix_amount_a),et.object(CLOCK_ADDRESS$1)]});let{frams:Ft}=this.sdk.sdkOptions,{global_config_id:jt,rewarder_manager_id:Lt}=getPackagerConfigs(Ft);return et.moveCall({target:`${Ft.published_at}::router::deposit`,typeArguments:[],arguments:[et.object(jt),et.object(Lt),et.object(s.pool_id),ut,et.object(CLOCK_ADDRESS$1)]}),et}async addLiquidityPayload(s,et){let{frams:tt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let ct=getPackagerConfigs(tt),ut=getPackagerConfigs(at),bt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),wt=TransactionUtil.buildCoinForAmount(et,bt,BigInt(s.amount_limit_a),s.coinTypeA,!1),Et=TransactionUtil.buildCoinForAmount(et,bt,BigInt(s.amount_limit_b),s.coinTypeB,!1);if(s.collect_rewarder&&(et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id,clmm_pool_id:s.clmm_pool_id},et)),s.collect_fee||s.clmm_rewarder_types.length>0){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,Ft,wt.remainCoins,Et.remainCoins)}return et.moveCall({target:`${tt.published_at}::router::add_liquidity`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(ct.global_config_id),et.object(ut.global_config_id),et.object(ct.rewarder_manager_id),et.object(s.pool_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),wt.targetCoin,Et.targetCoin,et.pure.u64(s.amount_limit_a),et.pure.u64(s.amount_limit_b),et.pure.u128(s.delta_liquidity),et.object(CLOCK_ADDRESS$1)]}),et}async addLiquidityFixCoinPayload(s,et){let{frams:tt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let ct=getPackagerConfigs(tt),ut=getPackagerConfigs(at),bt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),wt=TransactionUtil.buildCoinForAmount(et,bt,BigInt(s.amount_a),s.coinTypeA,!1),Et=TransactionUtil.buildCoinForAmount(et,bt,BigInt(s.amount_b),s.coinTypeB,!1);if(s.collect_rewarder&&(et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id,clmm_pool_id:s.clmm_pool_id},et)),s.collect_fee||s.clmm_rewarder_types.length>0){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:s.collect_fee,clmm_rewarder_types:s.clmm_rewarder_types},et,Ft,wt.remainCoins,Et.remainCoins)}return et.moveCall({target:`${tt.published_at}::router::add_liquidity_fix_coin`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(ct.global_config_id),et.object(ut.global_config_id),et.object(ct.rewarder_manager_id),et.object(s.pool_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),wt.targetCoin,Et.targetCoin,et.pure.u64(s.amount_a.toString()),et.pure.u64(s.amount_b.toString()),et.pure.bool(s.fix_amount_a),et.object(CLOCK_ADDRESS$1)]}),et}async removeLiquidityPayload(s,et){let{frams:tt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let ct=getPackagerConfigs(tt),ut=getPackagerConfigs(at);if(s.collect_rewarder&&(!s.unstake||s.close_position)&&(et=await this.harvestPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id,clmm_pool_id:s.clmm_pool_id},et)),s.clmm_rewarder_types.length>0){let bt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,collectFee:!1,clmm_rewarder_types:s.clmm_rewarder_types},et,bt)}if(s.close_position){if(s.clmm_position_id===void 0)throw Error("close_position need clmm_position_id");et.moveCall({target:`${tt.published_at}::router::close_position`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(ct.global_config_id),et.object(ct.rewarder_manager_id),et.object(s.pool_id),et.object(ut.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.pure.u64(s.min_amount_a),et.pure.u64(s.min_amount_b),et.object(CLOCK_ADDRESS$1)]})}else et.moveCall({target:`${tt.published_at}::router::remove_liquidity`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(ct.global_config_id),et.object(ut.global_config_id),et.object(ct.rewarder_manager_id),et.object(s.pool_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.pure.u128(s.delta_liquidity),et.pure.u64(s.min_amount_a),et.pure.u64(s.min_amount_b),et.object(CLOCK_ADDRESS$1)]}),s.unstake&&this.withdrawPayload({pool_id:s.pool_id,position_nft_id:s.position_nft_id});return et}async buildCollectRewarderAndFeeParams(s,et,tt,at,ct){at===void 0&&(at=[...tt]),ct===void 0&&(ct=[...tt]);let ut=normalizeCoinType$1(s.coinTypeA),bt=normalizeCoinType$1(s.coinTypeB);s.collectFee&&this.collectFeePayload({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB},et);let wt=[];return s.clmm_rewarder_types.forEach(Et=>{switch(normalizeCoinType$1(Et)){case ut:wt.push(TransactionUtil.buildCoinForAmount(et,at,BigInt(0),Et,!1).targetCoin);break;case bt:wt.push(TransactionUtil.buildCoinForAmount(et,ct,BigInt(0),Et,!1).targetCoin);break;default:wt.push(TransactionUtil.buildCoinForAmount(et,tt,BigInt(0),Et,!1).targetCoin);break}}),this.collectClmmRewardPayload({clmm_pool_id:s.clmm_pool_id,position_nft_id:s.position_nft_id,clmm_rewarder_types:s.clmm_rewarder_types,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,reward_coins:wt},et),et}collectFeePayload(s,et){let{frams:tt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let ct=getPackagerConfigs(tt),ut=getPackagerConfigs(at);return et.moveCall({target:`${tt.published_at}::router::collect_fee`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[et.object(ct.global_config_id),et.object(ut.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id)]}),et}async collectClmmRewardPayload(s,et){var wt;let{frams:tt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let ct=s.reward_coins;if(s.clmm_rewarder_types.length>0&&ct===void 0){ct=[];let Et=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);s.clmm_rewarder_types.forEach(Ft=>{ct.push(TransactionUtil.buildCoinForAmount(et,Et,BigInt(0),Ft,!1).targetCoin)})}let ut=getPackagerConfigs(tt),bt=getPackagerConfigs(at);return(wt=s.clmm_rewarder_types)==null||wt.forEach((Et,Ft)=>{et&&et.moveCall({target:`${tt.published_at}::router::collect_clmm_reward`,typeArguments:[Et,s.coinTypeA,s.coinTypeB],arguments:[et.object(ut.global_config_id),et.object(bt.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.object(bt.global_vault_id),ct[Ft],et.object(CLOCK_ADDRESS$1)]})}),et}async collectClmmRewardNoSendPayload(s,et){var Et;let{frams:tt}=this.sdk.sdkOptions,{clmm_pool:at,integrate:ct}=this.sdk.ClmmSDK.sdkOptions,ut=s.reward_coins;if(s.clmm_rewarder_types.length>0&&ut===void 0){ut=[];let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);s.clmm_rewarder_types.forEach(jt=>{ut.push(TransactionUtil.buildCoinForAmount(et,Ft,BigInt(0),jt,!1).targetCoin)})}let bt=getPackagerConfigs(tt),wt=getPackagerConfigs(at);return(Et=s.clmm_rewarder_types)==null||Et.forEach((Ft,jt)=>{et&&et.moveCall({target:`${ct.published_at}::stable_farming::collect_clmm_reward`,typeArguments:[Ft,s.coinTypeA,s.coinTypeB],arguments:[et.object(bt.global_config_id),et.object(wt.global_config_id),et.object(s.clmm_pool_id),et.object(s.position_nft_id),et.object(wt.global_vault_id),ut[jt],et.object(CLOCK_ADDRESS$1)]})}),et}async getFrarmsConfigs(){let{package_id:s}=this._sdk.sdkOptions.frams,et={global_config_id:"",rewarder_manager_id:"",rewarder_manager_handle:""},tt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::config::InitConfigEvent`})).data;if(tt.length>0){let ct=tt[0].parsedJson;et.global_config_id=ct.global_config_id,et.admin_cap_id=ct.admin_cap_id}let at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::rewarder::InitRewarderManagerEvent`})).data;if(at.length>0){let ct=at[0].parsedJson;et.rewarder_manager_id=ct.id;let ut=await this._sdk.ClmmSDK.fullClient.getObject({id:et.rewarder_manager_id,options:{showContent:!0}});et.rewarder_manager_handle=ut.data.content.fields.rewarders.fields.id.id}return et}updateCache(s,et,tt=cacheTime24h){let at=this._cache[s];at?(at.overdueTime=getFutureTime(tt),at.value=et):at=new CachedContent(et,getFutureTime(tt)),this._cache[s]=at}getCache(s,et=!1){let tt=this._cache[s];if(!et&&(tt!=null&&tt.isValid()))return tt.value;delete this._cache[s]}},lt$1=class{static buildDcaOrderList(s){let{parsedJson:et}=s;if(et&&et.order_id)return{created_at:et.created_at,cycle_count:et.cycle_count,cycle_frequency:et.cycle_frequency,in_coin:extractStructTagFromType$1(et.in_coin.name).full_address,in_deposited:et.in_deposited,order_id:et.order_id,out_coin:extractStructTagFromType$1(et.out_coin.name).full_address,per_cycle_in_amount_limit:et.per_cycle_in_amount_limit,per_cycle_max_out_amount:et.per_cycle_max_out_amount,per_cycle_min_out_amount:et.per_cycle_min_out_amount}}static buildDcaGlobalConfig(s){if(s&&s.id.id)return{min_cycle_count:s.min_cycle_count,min_cycle_frequency:s.min_cycle_frequency,whitelist_mode:s.whitelist_mode}}static buildOrderHistoryList(s,et){let{events:tt}=s,at=[];return tt&&tt.forEach(ct=>{let ut=extractStructTagFromType$1(ct.type).name;if(et.includes(ut)){let bt={digest:s.digest,type:ut,timestampMs:s.timestampMs,parsedJson:ct.parsedJson};at.push(bt)}}),at}},$t=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async dcaOpenOrderPayload(a){let{dca:s}=this._sdk.sdkOptions,{global_config_id:et,indexer_id:tt}=getPackagerConfigs(s),at=new Transaction,ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,a.in_coin_type),ut=TransactionUtil.buildCoinForAmount(at,ct,BigInt(a.in_coin_amount),a.in_coin_type,!1,!0);return at.moveCall({target:`${s.published_at}::order::open_order`,typeArguments:[a.in_coin_type,a.out_coin_type],arguments:[at.object(et),ut.targetCoin,at.pure.u64(a.cycle_frequency),at.pure.u64(a.cycle_count),at.pure.u64(a.per_cycle_min_out_amount),at.pure.u64(a.per_cycle_max_out_amount),at.pure.u64(a.per_cycle_in_amount_limit),at.pure.u64(a.fee_rate),at.pure.u64(a.timestamp),at.pure.string(a.signature),at.object(CLOCK_ADDRESS$1),at.object(tt)]}),at}dcaCloseOrderPayload(a){let{dca:s}=this._sdk.sdkOptions,{global_config_id:et,indexer_id:tt}=getPackagerConfigs(s),at=new Transaction;return a.forEach(ct=>{let ut=at.moveCall({target:`${s.published_at}::order::cancle_order`,typeArguments:[ct.in_coin_type,ct.out_coin_type],arguments:[at.object(et),at.object(ct.order_id),at.object(tt),at.object(CLOCK_ADDRESS$1)]});at.transferObjects([ut[0],ut[1]],at.pure.address(this._sdk.getVerifySenderAddress()))}),at}async getDcaOrders(a){let s={data:[],hasNextPage:!1},{dca:et}=this._sdk.sdkOptions,{user_indexer_id:tt}=getPackagerConfigs(et);try{let at,ct=this.getCache(`${a}_dca_table_id`);if(ct)at=ct;else{let jt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:tt,name:{type:"address",value:a}});at=getObjectFields(jt).value.fields.id.id,this.updateCache(`${a}_dca_table_id`,at)}let ut=null,bt=50,wt=[];for(;;){let jt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:at,cursor:ut,limit:bt});if(jt.data.forEach(Lt=>{wt.push(Lt.name.value)}),ut=jt.nextCursor,ut===null||jt.data.length<bt)break}let Et=[],Ft=await this._sdk.ClmmSDK.fullClient.batchGetObjects(wt,{showType:!0,showContent:!0});for(let jt=0;jt<Ft.length;jt++){let Lt=Ft[jt],Ut=extractStructTagFromType$1(Lt.data.type),Vt=Ut.type_arguments[0],Yt=Ut.type_arguments[1];Et.push({in_coin_type:Vt,out_coin_type:Yt,...Lt.data.content.fields,id:Lt.data.content.fields.id.id,version:Lt.data.version})}return s.data=Et,s}catch{return s}}async withdraw(a){let{dca:s}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(s),tt=new Transaction,at=tt.moveCall({target:`${s.published_at}::order::withdraw`,typeArguments:[a.in_coin_type,a.out_coin_type],arguments:[tt.object(et),tt.object(a.order_id),tt.object(CLOCK_ADDRESS$1)]});return tt.transferObjects([at[0]],tt.pure.address(this._sdk.getVerifySenderAddress())),tt}async withdrawAll(a){let{dca:s}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(s),tt=new Transaction;for(let at=0;at<a.length;at++){let ct=tt.moveCall({target:`${s.published_at}::order::withdraw`,typeArguments:[a[at].in_coin_type,a[at].out_coin_type],arguments:[tt.object(et),tt.object(a[at].order_id),tt.object(CLOCK_ADDRESS$1)]});tt.transferObjects([ct[0]],tt.pure.address(this._sdk.getVerifySenderAddress()))}return tt}async getDcaOrdersMakeDeal(a){let s=this.getCache(`${a}_tx`),et=[],tt=null,at=50;for(;;){let bt=await this._sdk.ClmmSDK.fullClient.queryTransactionBlocks({filter:{ChangedObject:a},limit:at});if(bt.data.forEach(wt=>{et.push(wt.digest)}),tt=bt.nextCursor,tt===null||bt.data.length<at)break}if(this.updateCache(`${a}_tx`,et),s&&s.length===et.length)return this.getCache(`${a}_history_list`);let ct=await this._sdk.ClmmSDK.fullClient.multiGetTransactionBlocks({digests:et,options:{showInput:!0,showEffects:!0,showEvents:!0}}),ut=[];return ct.forEach(bt=>{ut.push(...lt$1.buildOrderHistoryList(bt,["MakeDealEvent"]))}),this.updateCache(`${a}_history_list`,ut),ut}async getDcaCoinWhiteList(a){let{in_coin_whitelist_id:s,out_coin_whitelist_id:et}=getPackagerConfigs(this._sdk.sdkOptions.dca),tt=[],at=[];if(a===1||a===3){let ct=null,ut=50;for(;;){let bt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:s,cursor:ct,limit:ut});if(bt.data.forEach(wt=>{tt.push(extractStructTagFromType$1(wt.name.value.name).full_address)}),ct=bt.nextCursor,ct===null||bt.data.length<ut)break}}if(a===2||a===3){let ct=null,ut=50;for(;;){let bt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:et,cursor:ct,limit:ut});if(bt.data.forEach(wt=>{at.push(extractStructTagFromType$1(wt.name.value.name).full_address)}),ct=bt.nextCursor,ct===null||bt.data.length<ut)break}}return{inCoinList:tt,outCoinList:at}}async getDcaGlobalConfig(){let{global_config_id:a}=getPackagerConfigs(this._sdk.sdkOptions.dca),s=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});return lt$1.buildDcaGlobalConfig(s.data.content.fields)}async getDcaConfigs(){var at;let{package_id:a}=this._sdk.sdkOptions.dca,s={admin_cap_id:"",global_config_id:"",indexer_id:"",user_indexer_id:"",in_coin_whitelist_id:"",out_coin_whitelist_id:""},et=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitEvent`})).data,tt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::order::InitEvent`})).data;if(et&&et.length>0){let{parsedJson:ct}=et[0];s.admin_cap_id=ct.admin_cap_id,s.global_config_id=ct.global_config_id}if(tt&&tt.length>0){let{parsedJson:ct}=tt[0];s.indexer_id=ct.indexer_id;let ut=await this._sdk.ClmmSDK.fullClient.getObject({id:ct.indexer_id,options:{showType:!0,showContent:!0}});s.user_indexer_id=(at=ut.data)==null?void 0:at.content.fields.user_orders.fields.id.id}if(s.global_config_id){let ct=await this._sdk.ClmmSDK.fullClient.getObject({id:s.global_config_id,options:{showType:!0,showContent:!0}});s.in_coin_whitelist_id=ct.data.content.fields.in_coin_whitelist.fields.id.id,s.out_coin_whitelist_id=ct.data.content.fields.out_coin_whitelist.fields.id.id}return s}updateCache(a,s,et=cacheTime24h){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},ve$1=class{constructor(s,et){dn(this,"_cache",{});dn(this,"_sdkOptions");dn(this,"_launchpad");dn(this,"_ido");dn(this,"_xcetusModule");dn(this,"_xtokenModule");dn(this,"_boosterModule");dn(this,"_makerModule");dn(this,"_clmmSDK");dn(this,"_liquidityStrategy");dn(this,"_vaults");dn(this,"_limitOrder");dn(this,"_farmsModule");dn(this,"_dcaModule");this._sdkOptions=s;let tt=s.env||"mainnet";this._clmmSDK=et||initCetusSDK({network:tt,fullNodeUrl:s.fullRpcUrl}),this._launchpad=new ft$1(this),this._ido=new Ot$1(this),this._xcetusModule=new Ct(this),this._xtokenModule=new At$1(this),this._boosterModule=new mt(this),this._makerModule=new ht$1(this),this._vaults=new Mt(this),this._limitOrder=new Nt(this),this._farmsModule=new Bt$1(this),this._dcaModule=new $t(this),this._liquidityStrategy=new Dt(this),patchFixSuiObjectId(this._sdkOptions)}get ClmmSDK(){return this._clmmSDK}get sdkOptions(){return this._sdkOptions}get Launchpad(){return this._launchpad}get Ido(){return this._ido}get XToken(){return this._xtokenModule}get XCetusModule(){return this._xcetusModule}get BoosterModule(){return this._boosterModule}get MakerModule(){return this._makerModule}get LiquidityStrategy(){return this._liquidityStrategy}get Vaults(){return this._vaults}get LimitOrder(){return this._limitOrder}get Farms(){return this._farmsModule}get Dca(){return this._dcaModule}set senderAddress(s){this.ClmmSDK.senderAddress=s}getVerifySenderAddress(){let{senderAddress:s}=this.ClmmSDK;if(s.length===0||!isValidSuiAddress$1(s))throw Error("this clmm config sdk senderAddess is illegal");return s}updateCache(s,et,tt=cacheTime24h){let at=this._cache[s];at?(at.overdueTime=getFutureTime(tt),at.value=et):at=new CachedContent(et,getFutureTime(tt)),this._cache[s]=at}getCache(s,et=!1){let tt=this._cache[s];if(!et&&(tt!=null&&tt.isValid()))return tt.value;delete this._cache[s]}},F_=ve$1,b="router",D="router",O=24*3600,I$1=1e3,k=1e11,_={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},m=class{static buildVeNFTDividendInfo(a){let s={id:a.id.id,ve_nft_id:a.name,rewards:[]};return a.value.fields.value.fields.dividends.fields.contents.forEach(et=>{let tt=[];et.fields.value.fields.contents.forEach(at=>{let ct=at.fields.value;d$3(ct).gt(0)&&tt.push({coin_type:extractStructTagFromType$1(at.fields.key.fields.name).source_address,amount:ct})}),tt.length>0&&s.rewards.push({period:Number(et.fields.key),rewards:tt,vesrion:"v1"})}),s}static buildDividendManager(a){let s={id:a.id.id,dividends:{id:a.dividends.fields.id.id,size:a.dividends.fields.size},venft_dividends:{id:a.venft_dividends.fields.id.id,size:a.venft_dividends.fields.size},bonus_types:[],start_time:Number(a.start_time),interval_day:Number(a.interval_day),balances:{id:a.balances.fields.id.id,size:a.balances.fields.size},is_open:a.is_open};return a.bonus_types.forEach(et=>{s.bonus_types.push(extractStructTagFromType$1(et.fields.name).source_address)}),s}static buildLockUpManager(a){return{id:a.id.id,balance:a.balance,treasury_manager:a.treasury_manager,extra_treasury:a.extra_treasury,lock_infos:{lock_handle_id:a.lock_infos.fields.id.id,size:Number(a.lock_infos.fields.size)},type_name:normalizeCoinType$1(a.type_name.fields.name),min_lock_day:Number(a.min_lock_day),max_lock_day:Number(a.max_lock_day),package_version:Number(a.package_version),max_percent_numerator:Number(a.max_percent_numerator),min_percent_numerator:Number(a.min_percent_numerator)}}static buildLockCetus(a){let s=a.fields,et={id:s.id.id,type:extractStructTagFromType$1(a.type).source_address,locked_start_time:Number(s.locked_start_time),locked_until_time:Number(s.locked_until_time),cetus_amount:s.balance,xcetus_amount:"0",lock_day:0};return et.lock_day=(et.locked_until_time-et.locked_start_time)/O,et}static getAvailableXCetus(a,s){let et=d$3(0);return s.forEach(tt=>{et=et.add(tt.xcetus_amount)}),d$3(a.xcetus_balance).sub(et).toString()}static getWaitUnLockCetuss(a){return a.filter(s=>!m.isLocked(s))}static getLockingCetuss(a){return a.filter(s=>m.isLocked(s))}static isLocked(a){return a.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(a,s){let et=new Set;return a==null||a.forEach(tt=>{tt.rewards.forEach(at=>{et.add(at.coin_type)})}),s==null||s.forEach(tt=>{tt.rewards.forEach(at=>{et.add(at.coin_type)})}),Array.from(et)}static buildDividendRewardTypeListV2(a){let s={};return a==null||a.forEach(et=>{et.vesrion==="v2"&&et.rewards.forEach(tt=>{s[tt.coin_type]||(s[tt.coin_type]=[]),s[tt.coin_type].push(et.period)})}),s}static getNextStartTime(a){let s=Date.now()/1e3,{start_time:et,interval_day:tt}=a,at=Math.ceil((s-et)/(tt*O));return et+at*tt*O}},w=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getOwnerVeNFT(a,s=!0){let{xcetus:et}=this.sdk.sdkOptions,tt=`${a}_getLockUpManagerEvent`,at=this.getCache(tt,s);if(at!==void 0)return at;let ct,ut=`${et.package_id}::xcetus::VeNFT`;return(await this._sdk.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:ut}})).data.forEach(bt=>{let wt=extractStructTagFromType$1(getMoveObjectType(bt)).source_address;if(wt===ut&&bt.data&&bt.data.content){let{fields:Et}=bt.data.content;ct={...buildNFT(bt),id:Et.id.id,index:Et.index,type:wt,xcetus_balance:Et.xcetus_balance},this.updateCache(tt,ct,cacheTime24h)}}),ct}async getOwnerRedeemLockList(a){let{xcetus:s}=this.sdk.sdkOptions,et=[],tt=`${s.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,at=await this._sdk.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0},filter:{StructType:tt}});for(let ct of at.data)if(extractStructTagFromType$1(getMoveObjectType(ct)).source_address===tt&&ct.data){let ut=m.buildLockCetus(ct.data.content);ut.xcetus_amount=await this.getXCetusAmount(ut.id),et.push(ut)}return et}async getLockCetus(a){var et;let s=await this._sdk.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if((et=s.data)!=null&&et.content){let tt=m.buildLockCetus(s.data.content);return tt.xcetus_amount=await this.getXCetusAmount(tt.id),tt}}async getOwnerCetusCoins(a){return await this._sdk.getOwnerCoinAssets(a,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:a}=this.sdk.sdkOptions,s=new Transaction;return s.moveCall({target:`${a.published_at}::${b}::mint_venft`,typeArguments:[],arguments:[s.object(getPackagerConfigs(a).xcetus_manager_id)]}),s}convertPayload(a,s){let{xcetus:et}=this.sdk.sdkOptions;s=s||new Transaction;let tt=this.buileCetusCoinType();if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");s.setSender(this._sdk.senderAddress);let at=TransactionUtil.buildCoinWithBalance(BigInt(a.amount),tt);return a.venft_id===void 0?s.moveCall({target:`${et.published_at}::${b}::mint_and_convert`,typeArguments:[],arguments:[s.object(getPackagerConfigs(et).lock_manager_id),s.object(getPackagerConfigs(et).xcetus_manager_id),s.makeMoveVec({elements:[at]}),s.pure.u64(a.amount)]}):s.moveCall({target:`${et.published_at}::${b}::convert`,typeArguments:[],arguments:[s.object(getPackagerConfigs(et).lock_manager_id),s.object(getPackagerConfigs(et).xcetus_manager_id),s.makeMoveVec({elements:[at]}),s.pure.u64(a.amount),s.object(a.venft_id)]}),s}redeemLockPayload(a){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${b}::redeem_lock`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).lock_manager_id),et.object(getPackagerConfigs(s).xcetus_manager_id),et.object(a.venft_id),et.pure.u64(a.amount),et.pure.u64(a.lock_day),et.object(CLOCK_ADDRESS$1)]}),et}redeemPayload(a){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${b}::redeem`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).lock_manager_id),et.object(getPackagerConfigs(s).xcetus_manager_id),et.object(a.venft_id),et.object(a.lock_id),et.object(CLOCK_ADDRESS$1)]}),et}redeemDividendPayload(a,s){let{xcetus:et,xcetus_dividends:tt}=this.sdk.sdkOptions,at=new Transaction;return s.forEach(ct=>{at.moveCall({target:`${et.published_at}::${D}::redeem`,typeArguments:[ct],arguments:[at.object(getPackagerConfigs(tt).dividend_manager_id),at.object(a)]})}),at}redeemDividendV2Payload(a,s,et){let{xcetus_dividends:tt}=this.sdk.sdkOptions,at=new Transaction;return s.filter(ct=>et.includes(ct)).length>0&&(at=this.redeemDividendXTokenPayload(a,at)),s.forEach(ct=>{et.includes(ct)||at.moveCall({target:`${tt.published_at}::${D}::redeem_v2`,typeArguments:[ct],arguments:[at.object(getPackagerConfigs(tt).dividend_manager_id),at.object(a),at.object(CLOCK_ADDRESS$1)]})}),at}redeemDividendV3Payload(a,s){let{xcetus_dividends:et}=this.sdk.sdkOptions,tt=new Transaction,at=m.buildDividendRewardTypeList(s),ct=m.buildDividendRewardTypeListV2(s),ut=extractStructTagFromType$1(this.buileXTokenCoinType()).full_address;return at.find(bt=>extractStructTagFromType$1(bt).full_address===ut)!==void 0&&this.redeemDividendXTokenPayload(a,tt),at.forEach(bt=>{tt.moveCall({target:`${et.published_at}::${D}::redeem_v3`,typeArguments:[bt],arguments:[tt.object(getPackagerConfigs(et).dividend_manager_id),tt.object(getPackagerConfigs(et).venft_dividends_id),tt.makeMoveVec({elements:ct[bt].map(wt=>tt.pure.u64(wt)),type:"u64"}),tt.object(a),tt.object(CLOCK_ADDRESS$1)]})}),tt}redeemDividendXTokenPayload(a,s){let{xcetus_dividends:et,xcetus:tt}=this.sdk.sdkOptions,{xcetus_manager_id:at,lock_manager_id:ct}=getPackagerConfigs(tt),{dividend_manager_id:ut}=getPackagerConfigs(et);return s=s===void 0?new Transaction:s,s.moveCall({target:`${et.published_at}::${D}::redeem_xtoken`,typeArguments:[],arguments:[s.object(ct),s.object(at),s.object(ut),s.object(a),s.object(CLOCK_ADDRESS$1)]}),s}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(a=this._sdk.sdkOptions.xcetus.package_id,s="xcetus",et="XCETUS"){return`${a}::${s}::${et}`}cancelRedeemPayload(a){let{xcetus:s}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${s.published_at}::${b}::cancel_redeem_lock`,typeArguments:[],arguments:[et.object(getPackagerConfigs(s).lock_manager_id),et.object(getPackagerConfigs(s).xcetus_manager_id),et.object(a.venft_id),et.object(a.lock_id),et.object(CLOCK_ADDRESS$1)]}),et}async getInitConfigs(){var ut,bt;let{package_id:a}=this.sdk.sdkOptions.xcetus,s=`${a}_getInitFactoryEvent`,et=this.getCache(s);if(et!==void 0)return et;let tt=(ut=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${a}::xcetus::InitEvent`}))==null?void 0:ut.data,at={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};tt.length>0&&tt.forEach(wt=>{let Et=wt.parsedJson;Et&&(at.xcetus_manager_id=Et.xcetus_manager)});let ct=(bt=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${a}::locking::InitializeEvent`}))==null?void 0:bt.data;return ct.length>0&&ct.forEach(wt=>{let Et=wt.parsedJson;Et&&(at.lock_manager_id=Et.lock_manager)}),at.lock_manager_id.length>0&&(at.lock_handle_id=(await this.getLockUpManager(at.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(s,at,cacheTime24h),at}async getLockUpManager(a=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,s=!1){let et=`${a}_getLockUpManager`,tt=this.getCache(et,s);if(tt!==void 0)return tt;let at=await this.sdk.fullClient.getObject({id:a,options:{showContent:!0}}),ct=m.buildLockUpManager(getObjectFields(at));return this.updateCache(et,ct,cacheTime24h),ct}async getDividendConfigs(){var Et,Ft,jt;let{package_id:a}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:s,venft_dividends_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),tt=`${a}_getDividendManagerEvent`,at=this.getCache(tt);if(at!==void 0)return at;let ct=(Et=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${a}::dividend::InitEvent`}))==null?void 0:Et.data,ut=await this._sdk.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),bt={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};ct.length>0&&ct.forEach(Lt=>{let Ut=Lt.parsedJson;Ut&&(bt.dividend_manager_id=Ut.manager_id,bt.dividend_admin_id=Ut.admin_id,bt.dividend_settle_id=Ut.settle_id,this.updateCache(tt,bt,cacheTime24h))}),ut&&ut.data&&ut.data.content&&(bt.venft_dividends_id=(jt=(Ft=ut.data.content)==null?void 0:Ft.fields)==null?void 0:jt.value,this.updateCache(tt,bt,cacheTime24h));let wt=await this._sdk.fullClient.getObject({id:et,options:{showContent:!0}});return bt.venft_dividends_id_v2=wt.data.content.fields.venft_dividends.fields.id.id,bt}async getDividendManager(a=!1){let{dividend_manager_id:s}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),et=`${s}_getDividendManager`,tt=this.getCache(et,a);if(tt!==void 0)return tt;let at=await this._sdk.fullClient.getObject({id:s,options:{showContent:!0}}),ct=getObjectFields(at),ut=m.buildDividendManager(ct);return this.updateCache(et,ut,cacheTime24h),ut}async getXcetusManager(a=!0){let{xcetus_manager_id:s}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),et=`${s}_getXcetusManager`,tt=this.getCache(et,a);if(tt)return tt;let at=await this._sdk.fullClient.getObject({id:s,options:{showContent:!0}}),ct=getObjectFields(at),ut={id:ct.id.id,index:Number(ct.index),has_venft:{handle:ct.has_venft.fields.id.id,size:ct.has_venft.fields.size},nfts:{handle:ct.nfts.fields.id.id,size:ct.nfts.fields.size},total_locked:ct.total_locked,treasury:ct.treasury.fields.total_supply.fields.value};return this.updateCache(et,ut),ut}async fetchDividendInfo(a){let{xcetus_dividends:s}=this._sdk.sdkOptions,{dividend_manager_id:et,venft_dividends_id:tt}=getPackagerConfigs(s),at=new Transaction;at.moveCall({target:`${s.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[at.object(et),at.object(tt),at.object(a)]});let ct=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:this._sdk.senderAddress}),{contents:ut}=ct.events[0].parsedJson.info,bt={id:"",ve_nft_id:a,rewards:[]};return ut.forEach(wt=>{let Et=[],Ft=wt.key,{contents:jt}=wt.value;jt.forEach(Lt=>{d$3(Lt.value).gt(0)&&Et.push({coin_type:extractStructTagFromType$1(Lt.key.name).source_address,amount:Lt.value})}),Et.length>0&&bt.rewards.push({period:Number(Ft),rewards:Et,vesrion:Number(Ft)>66?"v2":"v1"})}),bt}async getVeNFTDividendInfo(a){try{return await this.fetchDividendInfo(a)}catch{return await this.getVeNFTDividendInfoV2(a)}}async getVeNFTDividendInfoV2(a){let{xcetus_dividends:s}=this._sdk.sdkOptions,{venft_dividends_id_v2:et}=getPackagerConfigs(s),tt={id:"",ve_nft_id:a,rewards:[]},at=[];try{let ct=await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:a}}),ut=getObjectFields(ct).value.fields.value.fields.dividends.fields.id.id,bt=null,wt=50,Et=[];for(;;){let Ft=await this._sdk.fullClient.getDynamicFields({parentId:ut,cursor:bt,limit:wt});if(Ft.data.forEach(jt=>{Et.push(jt.objectId)}),bt=Ft.nextCursor,bt===null||Ft.data.length<wt)break}(await this._sdk.fullClient.batchGetObjects(Et,{showType:!0,showContent:!0})).forEach(Ft=>{at.push({period:Number(Ft.data.content.fields.name),vesrion:"v2",rewards:Ft.data.content.fields.value.fields.contents.map(jt=>({coin_type:extractStructTagFromType$1(jt.fields.key.fields.name).source_address,amount:jt.fields.value}))})})}catch(ct){console.log(ct)}return{...tt,rewards:[...at]}}async getVeNFTDividendInfoV1(a){let{xcetus_dividends:s}=this._sdk.sdkOptions,{venft_dividends_id:et}=getPackagerConfigs(s),tt={id:"",ve_nft_id:a,rewards:[]};try{let at=await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:a}}),ct=getObjectFields(at);tt=m.buildVeNFTDividendInfo(ct)}catch(at){console.log("🚀 ~ file: xcetusModule.ts:839 ~ XCetusModule ~ error:",at)}return tt}redeemNum(a,s){if(BigInt(a)===BigInt(0))return{amount_out:"0",percent:"0"};let et=d$3(k).mul(d$3(_.max_lock_day).sub(d$3(s))).mul(d$3(_.max_percent_numerator).sub(d$3(_.min_percent_numerator))).div(d$3(_.max_lock_day).sub(d$3(_.min_lock_day))),tt=d$3(k).mul(d$3(_.max_percent_numerator)).sub(et).div(d$3(I$1)).div(k);return{amount_out:d$3(tt).mul(d$3(a)).round().toString(),percent:tt.toString()}}reverseRedeemNum(a,s){if(BigInt(a)===BigInt(0))return{amount_out:"0",percent:"0"};let et=d$3(k).mul(d$3(_.max_lock_day).sub(d$3(s))).mul(d$3(_.max_percent_numerator).sub(d$3(_.min_percent_numerator))).div(d$3(_.max_lock_day).sub(d$3(_.min_lock_day))),tt=d$3(k).mul(d$3(_.max_percent_numerator)).sub(et).div(d$3(I$1)).div(k);return{amount_out:d$3(a).div(tt).toFixed(0,Decimal$1.ROUND_UP),percent:tt.toString()}}async getXCetusAmount(a){let{lock_handle_id:s}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),et=`${a}_getXCetusAmount`,tt=this.getCache(et);if(tt!==void 0)return tt;try{let at=await this.sdk.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:a}}),ct=getObjectFields(at);if(ct){let{xcetus_amount:ut}=ct.value.fields.value.fields;return this.updateCache(et,ut,cacheTime24h),ut}}catch{}return"0"}async getVeNftAmount(a,s){try{let et=await this.sdk.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}}),tt=getObjectFields(et);if(tt){let{lock_amount:at,xcetus_amount:ct}=tt.value.fields.value.fields;return{lock_amount:at,xcetus_amount:ct}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(a,s=!1){let et=(await this.getDividendManager()).dividends.id,tt=`${et}_${a}_getPhaseDividendInfo`,at=this._sdk.getCache(tt,s);if(at)return at;try{let ct=await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"u64",value:a}}),ut=getObjectFields(ct),bt=ut.value.fields.value.fields,wt=bt.redeemed_num.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),Et=bt.bonus_types.map(Lt=>Lt.fields.name),Ft=bt.bonus.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),jt={id:getObjectId(ct),phase:ut.name,settled_num:bt.settled_num,register_time:bt.register_time,redeemed_num:wt,is_settled:bt.is_settled,bonus_types:Et,bonus:Ft,phase_end_time:""};return this.updateCache(tt,jt),jt}catch{}}updateCache(a,s,et=cacheTime5min){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a];if(!s&&(et!=null&&et.isValid()))return et.value;delete this._cache[a]}},S$1=class extends SuiClient{async queryEventsByPage(s,et="all"){let tt=[],at=!0,ct=et==="all",ut=ct?null:et.cursor;do{let bt=await this.queryEvents({query:s,cursor:ut,limit:ct?null:et.limit});bt.data?(tt=[...tt,...bt.data],at=bt.hasNextPage,ut=bt.nextCursor):at=!1}while(ct&&at);return{data:tt,nextCursor:ut,hasNextPage:at}}async getOwnedObjectsByPage(s,et,tt="all"){let at=[],ct=!0,ut=tt==="all",bt=ut?null:tt.cursor;do{let wt=await this.getOwnedObjects({owner:s,...et,cursor:bt,limit:ut?null:tt.limit});wt.data?(at=[...at,...wt.data],ct=wt.hasNextPage,bt=wt.nextCursor):ct=!1}while(ut&&ct);return{data:at,nextCursor:bt,hasNextPage:ct}}async getDynamicFieldsByPage(s,et="all"){let tt=[],at=!0,ct=et==="all",ut=ct?null:et.cursor;do{let bt=await this.getDynamicFields({parentId:s,cursor:ut,limit:ct?null:et.limit});bt.data?(tt=[...tt,...bt.data],at=bt.hasNextPage,ut=bt.nextCursor):at=!1}while(ct&&at);return{data:tt,nextCursor:ut,hasNextPage:at}}async batchGetObjects(s,et,tt=50){let at=[];try{for(let ct=0;ct<Math.ceil(s.length/tt);ct++){let ut=await this.multiGetObjects({ids:s.slice(ct*tt,tt*(ct+1)),options:et});at=[...at,...ut]}}catch(ct){console.log(ct)}return at}async calculationTxGas(s){let{sender:et}=s.blockData;if(et===void 0)throw Error("sdk sender is empty");let tt=await this.devInspectTransactionBlock({transactionBlock:s,sender:et}),{gasUsed:at}=tt.effects;return Number(at.computationCost)+Number(at.storageCost)-Number(at.storageRebate)}async sendTransaction(s,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:s,options:{showEffects:!0,showEvents:!0}})}catch(tt){console.log("error: ",tt)}}async sendSimulationTransaction(s,et,tt=!0){try{if(tt)return await this.devInspectTransactionBlock({transactionBlock:s,sender:et})}catch(at){console.log("devInspectTransactionBlock error",at)}}},j=class{constructor(a){dn(this,"_cache",{});dn(this,"_rpcModule");dn(this,"_xcetusModule");dn(this,"_sdkOptions");dn(this,"_senderAddress","");this._sdkOptions=a,this._rpcModule=new S$1({url:a.fullRpcUrl}),this._xcetusModule=new w(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get XCetusModule(){return this._xcetusModule}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(a,s,et=!0){let tt=[],at=null,ct=`${this.sdkOptions.fullRpcUrl}_${a}_${s}_getOwnerCoinAssets`,ut=this.getCache(ct,et);if(ut)return ut;for(;;){let bt=await(s?this.fullClient.getCoins({owner:a,coinType:s,cursor:at}):this.fullClient.getAllCoins({owner:a,cursor:at}));if(bt.data.forEach(wt=>{BigInt(wt.balance)>0&&tt.push({coinAddress:extractStructTagFromType$1(wt.coinType).source_address,coinObjectId:wt.coinObjectId,balance:BigInt(wt.balance)})}),at=bt.nextCursor,!bt.hasNextPage)break}return this.updateCache(ct,tt,30*1e3),tt}async getOwnerCoinBalances(a,s){let et=[];return s?et=[await this.fullClient.getBalance({owner:a,coinType:s})]:et=[...await this.fullClient.getAllBalances({owner:a})],et}updateCache(a,s,et=cacheTime24h){let tt=this._cache[a];tt?(tt.overdueTime=getFutureTime(et),tt.value=s):tt=new CachedContent(s,getFutureTime(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},xt$1=j,re;(function(a){a[a.EQUAL=0]="EQUAL",a[a.GREATER=1]="GREATER",a[a.LESS=-1]="LESS"})(re||(re={}));var Gt=function(){function a(s){this.compare=s||a.defaultCompareFunction}return a.defaultCompareFunction=function(s,et){return s===et?re.EQUAL:s<et?re.LESS:re.GREATER},a.prototype.equal=function(s,et){return this.compare(s,et)===re.EQUAL},a.prototype.lessThan=function(s,et){return this.compare(s,et)===re.LESS},a.prototype.greaterThan=function(s,et){return this.compare(s,et)===re.GREATER},a.prototype.lessThanOrEqual=function(s,et){return this.lessThan(s,et)||this.equal(s,et)},a.prototype.greaterThanOrEqual=function(s,et){return this.greaterThan(s,et)||this.equal(s,et)},a.prototype.reverse=function(){var s=this.compare;this.compare=function(et,tt){return s(tt,et)}},a}(),ot=Gt,it=function(){function a(s){this.value=s,this.next=null}return a}(),rt=function(){function a(s){this.value=s,this.next=null,this.prev=null}return a}(),Le=function(a,s){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var at in tt)tt.hasOwnProperty(at)&&(et[at]=tt[at])},Le(a,s)};function fe(a,s){Le(a,s);function et(){this.constructor=a}a.prototype=s===null?Object.create(s):(et.prototype=s.prototype,new et)}function he(a,s){var et={label:0,sent:function(){if(ct[0]&1)throw ct[1];return ct[1]},trys:[],ops:[]},tt,at,ct,ut;return ut={next:bt(0),throw:bt(1),return:bt(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function bt(Et){return function(Ft){return wt([Et,Ft])}}function wt(Et){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,at&&(ct=Et[0]&2?at.return:Et[0]?at.throw||((ct=at.return)&&ct.call(at),0):at.next)&&!(ct=ct.call(at,Et[1])).done)return ct;switch(at=0,ct&&(Et=[Et[0]&2,ct.value]),Et[0]){case 0:case 1:ct=Et;break;case 4:return et.label++,{value:Et[1],done:!1};case 5:et.label++,at=Et[1],Et=[0];continue;case 7:Et=et.ops.pop(),et.trys.pop();continue;default:if(ct=et.trys,!(ct=ct.length>0&&ct[ct.length-1])&&(Et[0]===6||Et[0]===2)){et=0;continue}if(Et[0]===3&&(!ct||Et[1]>ct[0]&&Et[1]<ct[3])){et.label=Et[1];break}if(Et[0]===6&&et.label<ct[1]){et.label=ct[1],ct=Et;break}if(ct&&et.label<ct[2]){et.label=ct[2],et.ops.push(Et);break}ct[2]&&et.ops.pop(),et.trys.pop();continue}Et=s.call(a,et)}catch(Ft){Et=[6,Ft],at=0}finally{tt=ct=0}if(Et[0]&5)throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}}function Kt(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var tt=et.call(a),at,ct=[],ut;try{for(;(s===void 0||s-- >0)&&!(at=tt.next()).done;)ct.push(at.value)}catch(bt){ut={error:bt}}finally{try{at&&!at.done&&(et=tt.return)&&et.call(tt)}finally{if(ut)throw ut.error}}return ct}function H(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(Kt(arguments[s]));return a}var Xt="obfuse error occur";function ke(a,s){if(!a)throw new Error("[linked-list] "+(s||Xt))}var Wt=-1,st=function(){function a(){for(var s=this,et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];this._head=null,this._tail=null,this._length=0,this.compare=new ot,et.length>0&&et.forEach(function(at){s.append(at)})}return Object.defineProperty(a.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"loopLength",{get:function(){var s=!1,et=1;if(!this._head)return 0;for(var tt=this._head,at=this._head;at.next&&at.next.next;)if(at=at.next.next,tt=tt.next,tt===at){s=!0;break}if(s){for(at=at.next;tt!==at;)et++,at=at.next;return et}else return 0},enumerable:!0,configurable:!0}),a.prototype.getNode=function(s){var et=this._length;ke(et>0&&s>=0&&s<et,"[linked-list] index "+s+" out of scope of list, which length is "+et);for(var tt=this._head,at=0;at<s;)tt=tt.next,at++;return tt},a.prototype.get=function(s){var et=this.getNode(s);return et?et.value:null},a.prototype.find=function(s){var et=s.value,tt=s.callback;if(!this._head)return null;for(var at=this._head;at;){if(tt&&tt(at.value)||et!==void 0&&this.compare.equal(at.value,et))return at;at=at.next}return null},a.prototype.indexOf=function(s){if(!this._head)return Wt;for(var et=this._head,tt=-1;et.next;){if(tt++,this.compare.equal(et.value,s))return tt;et=et.next}return et===this._tail&&this.compare.equal(et.value,s)&&(tt+=1),tt},a.prototype.first=function(s){ke(s>=0,"[linked-list] param 'num' ("+s+") should not less than 0");for(var et=this.iterator(),tt=[],at=Math.min(s,this.length),ct=0;ct<at;ct++){var ut=et.next();tt.push(ut.value)}return tt},a.prototype.toArray=function(){return H(this)},a.prototype.isEmpty=function(){return this._head===null},a.prototype.iterator=function(){var s;return he(this,function(et){switch(et.label){case 0:s=this._head,et.label=1;case 1:return s?[4,s.value]:[3,3];case 2:return et.sent(),s=s.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a}(),le$1=function(a){fe(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return a.apply(this,H(et))||this}return s.prototype.append=function(et){var tt=new it(et);return this._tail?(this._tail.next=tt,this._tail=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.prepend=function(et){var tt=new it(et);return this._head?(tt.next=this._head,this._head=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.remove=function(et){var tt=this._head;if(tt){if(this.compare.equal(tt.value,et))return tt.next?(this._head=tt.next,tt.next=null):this._head=this._tail=null,this._length--,et;for(var at=tt;;){if(this.compare.equal(tt.value,et))return tt.next?at.next=tt.next:(this._tail=at,this._tail.next=null),tt.next=null,this._length--,et;if(tt.next)at=tt,tt=tt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et){if(!this._head.next)this._head=null,this._tail=null;else{for(var tt=this._head;tt.next!==et;)tt=tt.next;tt.next=null,this._tail=tt}return this._length--,et.value}},s.prototype.reverse=function(){if(this._head){var et=this._head,tt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=tt,tt=et,et=at;this._head=tt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s}(st),Jt=function(a){fe(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return he(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return he(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var tt=[],at=1;at<arguments.length;at++)tt[at-1]=arguments[at];this.breakCircle();var ct=a.prototype[et].apply(this,tt);return this.cyclization(),ct},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){ke(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var tt=this.circleIterator(),at=[],ct=0;ct<et;ct++){var ut=tt.next();at.push(ut.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(le$1);(function(a){fe(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},s.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s})(Jt);var zt=function(a){fe(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return a.apply(this,H(et))||this}return s.prototype.append=function(et){var tt=new rt(et);return this._tail?(this._tail.next=tt,tt.prev=this._tail,this._tail=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.prepend=function(et){var tt=new rt(et);return this._head?(tt.next=this._head,this._head.prev=tt,this._head=tt):this._head=this._tail=tt,this._length++,!0},s.prototype.remove=function(et){var tt=this._head;if(tt){if(this.compare.equal(tt.value,et))return tt.next?(this._head=tt.next,this._head.prev=null,tt.next=tt.prev=null):this._head=this._tail=null,this._length--,et;for(;;){if(this.compare.equal(tt.value,et))return tt.next?(tt.prev.next=tt.next,tt.next.prev=tt.prev,tt.next=tt.prev=null):(tt.prev.next=null,this._tail=tt.prev,tt.next=tt.prev=null),this._length--,tt.value;if(tt.next)tt=tt.next;else return}}},s.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(et.next.prev=null,this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.removeTail=function(){var et=this._tail;if(et)return this._head.next?(et.prev.next=null,this._tail=et.prev,et.next=et.prev=null):(this._head=null,this._tail=null),this._length--,et.value},s.prototype.reverse=function(){if(this._head){var et=this._head,tt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=tt,et.prev=at,tt=et,et=at;this._head=tt}},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s}(st),Ht=function(a){fe(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.iterator=function(){var et;return he(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},s.prototype.circleIterator=function(){var et;return he(this,function(tt){switch(tt.label){case 0:et=this._head,tt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return tt.sent(),et=et.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s.prototype.mapToNormalListFn=function(et){for(var tt=[],at=1;at<arguments.length;at++)tt[at-1]=arguments[at];this.breakCircle();var ct=a.prototype[et].apply(this,tt);return this.cyclization(),ct},s.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},s.prototype.append=function(et){return this.mapToNormalListFn("append",et)},s.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},s.prototype.find=function(et){return this.mapToNormalListFn("find",et)},s.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},s.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},s.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},s.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},s.prototype.first=function(et){ke(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var tt=this.circleIterator(),at=[],ct=0;ct<et;ct++){var ut=tt.next();at.push(ut.value)}return at},s.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},s.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},s}(zt);(function(a){fe(s,a);function s(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var at=a.apply(this,H(et))||this;return at.cyclization(),at}return s.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},s.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},s.prototype.clone=function(){var et=this.toArray();return new(s.bind.apply(s,H([void 0],et)))},s})(Ht);function Zt(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var tt=et.call(a),at,ct=[],ut;try{for(;(s===void 0||s-- >0)&&!(at=tt.next()).done;)ct.push(at.value)}catch(bt){ut={error:bt}}finally{try{at&&!at.done&&(et=tt.return)&&et.call(tt)}finally{if(ut)throw ut.error}}return ct}function Qt(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(Zt(arguments[s]));return a}(function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.queue=new(le$1.bind.apply(le$1,Qt([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.queue.isEmpty()},a.prototype.enqueue=function(s){return this.queue.append(s)},a.prototype.dequeue=function(){var s=this.queue.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.queue.toArray()},a})();function en(a,s){var et=typeof Symbol=="function"&&a[Symbol.iterator];if(!et)return a;var tt=et.call(a),at,ct=[],ut;try{for(;(s===void 0||s-- >0)&&!(at=tt.next()).done;)ct.push(at.value)}catch(bt){ut={error:bt}}finally{try{at&&!at.done&&(et=tt.return)&&et.call(tt)}finally{if(ut)throw ut.error}}return ct}function tn(){for(var a=[],s=0;s<arguments.length;s++)a=a.concat(en(arguments[s]));return a}(function(){function a(){for(var s=[],et=0;et<arguments.length;et++)s[et]=arguments[et];this.stack=new(le$1.bind.apply(le$1,tn([void 0],s)))}return Object.defineProperty(a.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return this.stack.isEmpty()},a.prototype.push=function(s){return this.stack.append(s)},a.prototype.pop=function(){var s=this.stack.removeTail();return typeof s<"u"?s:void 0},a.prototype.popBottom=function(){var s=this.stack.removeHead();return typeof s<"u"?s:void 0},a.prototype.toArray=function(){return this.stack.toArray()},a})();var cn=Object.defineProperty,un=(a,s,et)=>s in a?cn(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,ln=(a,s,et)=>(un(a,s+"",et),et),yt=5*60*1e3,ee=24*60*60*1e3;function oe(a){return Date.parse(new Date().toString())+a}var _e$1=class{constructor(s,et=0){dn(this,"overdueTime");dn(this,"value");this.overdueTime=et,this.value=s}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var V=Decimal$1,R$1=class extends Error{constructor(et,tt){super(et);dn(this,"message");dn(this,"errorCode");this.message=et,this.errorCode=tt}static isClmmpoolsErrorCode(et,tt){return et instanceof R$1&&et.errorCode===tt}},F=new BN(0),ge$1=new BN(1),Be=new BN(2);Be.pow(new BN(128));var Ke=Be.pow(new BN(64)).sub(ge$1),fn=Be.pow(new BN(128)).sub(ge$1),Y=class{static toX64_BN(a){return a.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(a){return a.mul(V.pow(2,64))}static toX64(a){return new BN(a.mul(V.pow(2,64)).floor().toFixed())}static fromX64(a){return new V(a.toString()).mul(V.pow(2,-64))}static fromX64_Decimal(a){return a.mul(V.pow(2,-64))}static fromX64_BN(a){return a.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(a){let s=a.shrn(64);return a.mod(Ke).gt(F)&&(s=s.add(ge$1)),s}static divRoundUp(a,s){return a.mod(s).eq(F)?a.div(s):a.div(s).add(new BN(1))}static subUnderflowU128(a,s){return a.lt(s)?a.sub(s).add(fn):a.sub(s)}static checkUnsignedSub(a,s){let et=a.sub(s);if(et.isNeg())throw new R$1("Unsigned integer sub overflow","UnsignedIntegerOverflow");return et}static checkMul(a,s,et){let tt=a.mul(s);if(this.isOverflow(tt,et))throw new R$1("Multiplication overflow","MultiplicationOverflow");return tt}static checkMulDivFloor(a,s,et,tt){if(et.eq(F))throw new R$1("Devide by zero","DivideByZero");let at=a.mul(s).div(et);if(this.isOverflow(at,tt))throw new R$1("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivCeil(a,s,et,tt){if(et.eq(F))throw new R$1("Devide by zero","DivideByZero");let at=a.mul(s).add(et.sub(ge$1)).div(et);if(this.isOverflow(at,tt))throw new R$1("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivRound(a,s,et,tt){if(et.eq(F))throw new R$1("Devide by zero","DivideByZero");let at=a.mul(s.add(et.shrn(1))).div(et);if(this.isOverflow(at,tt))throw new R$1("Multiplication div overflow","MulDivOverflow");return at}static checkMulShiftRight(a,s,et,tt){let at=a.mul(s).div(new BN(2).pow(new BN(et)));if(this.isOverflow(at,tt))throw new R$1("Multiplication shift right overflow","MulShiftRightOverflow");return at}static checkMulShiftRight64RoundUpIf(a,s,et,tt){let at=a.mul(s),ct=tt&&at.and(Ke).gt(F)?at.shrn(64).add(ge$1):at.shrn(64);if(this.isOverflow(ct,et))throw new R$1("Multiplication shift right overflow","MulShiftRightOverflow");return ct}static checkMulShiftLeft(a,s,et,tt){let at=a.mul(s).shln(et);if(this.isOverflow(at,tt))throw new R$1("Multiplication shift left overflow","MulShiftLeftOverflow");return at}static checkDivRoundUpIf(a,s,et){if(s.eq(F))throw new R$1("Devide by zero","DivideByZero");return et?this.divRoundUp(a,s):a.div(s)}static isOverflow(a,s){return a.gte(Be.pow(new BN(s)))}static sign(a){return a.testn(127)?1:0}static is_neg(a){return this.sign(a)===1}static abs_u128(a){return a.gt(F)?a:this.u128_neg(a.subn(1))}static u128_neg(a){return a.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(a){return this.is_neg(a)?a.abs():this.neg_from(a)}static abs(a){return this.sign(a)===0?a:this.u128_neg(a.sub(new BN(1)))}static neg_from(a){return a.eq(F)?a:this.u128_neg(a).add(new BN(1)).or(new BN(1).shln(127))}},At="79226673515401279992447579055",vt="4295048016",lt=new BN(1e6),G$1="0x0000000000000000000000000000000000000000000000000000000000000006",dt="pool_script_v2",Pe$1="router",$e="router_with_partner",ft="utils",Ve$1="custodian_v2",mn="clob_v2",_n="endpoints_v2";function q$1(a){if(a.config===void 0)throw new R$1(`package: ${a.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return a.config}var hn=14,gn="59543866431248",bn="184467440737095516",wn="15793534762490258745";function yn(a,s,et){let tt=a.toTwos(et).shln(s);return tt.imaskn(et+1),tt.fromTwos(et)}function S(a,s,et){let tt=a.toTwos(et).shrn(s);return tt.imaskn(et-s+1),tt.fromTwos(et-s)}function An(a){let s;return a&1?s=new BN("79232123823359799118286999567"):s=new BN("79228162514264337593543950336"),a&2&&(s=S(s.mul(new BN("79236085330515764027303304731")),96,256)),a&4&&(s=S(s.mul(new BN("79244008939048815603706035061")),96,256)),a&8&&(s=S(s.mul(new BN("79259858533276714757314932305")),96,256)),a&16&&(s=S(s.mul(new BN("79291567232598584799939703904")),96,256)),a&32&&(s=S(s.mul(new BN("79355022692464371645785046466")),96,256)),a&64&&(s=S(s.mul(new BN("79482085999252804386437311141")),96,256)),a&128&&(s=S(s.mul(new BN("79736823300114093921829183326")),96,256)),a&256&&(s=S(s.mul(new BN("80248749790819932309965073892")),96,256)),a&512&&(s=S(s.mul(new BN("81282483887344747381513967011")),96,256)),a&1024&&(s=S(s.mul(new BN("83390072131320151908154831281")),96,256)),a&2048&&(s=S(s.mul(new BN("87770609709833776024991924138")),96,256)),a&4096&&(s=S(s.mul(new BN("97234110755111693312479820773")),96,256)),a&8192&&(s=S(s.mul(new BN("119332217159966728226237229890")),96,256)),a&16384&&(s=S(s.mul(new BN("179736315981702064433883588727")),96,256)),a&32768&&(s=S(s.mul(new BN("407748233172238350107850275304")),96,256)),a&65536&&(s=S(s.mul(new BN("2098478828474011932436660412517")),96,256)),a&131072&&(s=S(s.mul(new BN("55581415166113811149459800483533")),96,256)),a&262144&&(s=S(s.mul(new BN("38992368544603139932233054999993551")),96,256)),S(s,32,256)}function vn(a){let s=Math.abs(a),et;return s&1?et=new BN("18445821805675392311"):et=new BN("18446744073709551616"),s&2&&(et=S(et.mul(new BN("18444899583751176498")),64,256)),s&4&&(et=S(et.mul(new BN("18443055278223354162")),64,256)),s&8&&(et=S(et.mul(new BN("18439367220385604838")),64,256)),s&16&&(et=S(et.mul(new BN("18431993317065449817")),64,256)),s&32&&(et=S(et.mul(new BN("18417254355718160513")),64,256)),s&64&&(et=S(et.mul(new BN("18387811781193591352")),64,256)),s&128&&(et=S(et.mul(new BN("18329067761203520168")),64,256)),s&256&&(et=S(et.mul(new BN("18212142134806087854")),64,256)),s&512&&(et=S(et.mul(new BN("17980523815641551639")),64,256)),s&1024&&(et=S(et.mul(new BN("17526086738831147013")),64,256)),s&2048&&(et=S(et.mul(new BN("16651378430235024244")),64,256)),s&4096&&(et=S(et.mul(new BN("15030750278693429944")),64,256)),s&8192&&(et=S(et.mul(new BN("12247334978882834399")),64,256)),s&16384&&(et=S(et.mul(new BN("8131365268884726200")),64,256)),s&32768&&(et=S(et.mul(new BN("3584323654723342297")),64,256)),s&65536&&(et=S(et.mul(new BN("696457651847595233")),64,256)),s&131072&&(et=S(et.mul(new BN("26294789957452057")),64,256)),s&262144&&(et=S(et.mul(new BN("37481735321082")),64,256)),et}var x=class{static priceToSqrtPriceX64(a,s,et){return Y.toX64(a.mul(V.pow(10,et-s)).sqrt())}static sqrtPriceX64ToPrice(a,s,et){return Y.fromX64(a).pow(2).mul(V.pow(10,s-et))}static tickIndexToSqrtPriceX64(a){return a>0?new BN(An(a)):new BN(vn(a))}static sqrtPriceX64ToTickIndex(a){if(a.gt(new BN(At))||a.lt(new BN(vt)))throw new R$1("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");let s=a.bitLength()-1,et=new BN(s-64),tt=yn(et,32,128),at=new BN("8000000000000000","hex"),ct=0,ut=new BN(0),bt=s>=64?a.shrn(s-63):a.shln(63-s);for(;at.gt(new BN(0))&&ct<hn;){bt=bt.mul(bt);let Lt=bt.shrn(127);bt=bt.shrn(63+Lt.toNumber()),ut=ut.add(at.mul(Lt)),at=at.shrn(1),ct+=1}let wt=ut.shrn(32),Et=tt.add(wt).mul(new BN(gn)),Ft=S(Et.sub(new BN(bn)),64,128).toNumber(),jt=S(Et.add(new BN(wn)),64,128).toNumber();return Ft===jt?Ft:x.tickIndexToSqrtPriceX64(jt).lte(a)?jt:Ft}static tickIndexToPrice(a,s,et){return x.sqrtPriceX64ToPrice(x.tickIndexToSqrtPriceX64(a),s,et)}static priceToTickIndex(a,s,et){return x.sqrtPriceX64ToTickIndex(x.priceToSqrtPriceX64(a,s,et))}static priceToInitializableTickIndex(a,s,et,tt){return x.getInitializableTickIndex(x.priceToTickIndex(a,s,et),tt)}static getInitializableTickIndex(a,s){return a-a%s}static getNextInitializableTickIndex(a,s){return x.getInitializableTickIndex(a,s)+s}static getPrevInitializableTickIndex(a,s){return x.getInitializableTickIndex(a,s)-s}};new BN(365);new BN(24);new BN(3600);new BN(.5);var ne=class{static getDefaultSqrtPriceLimit(a){return new BN(a?vt:At)}static getDefaultOtherAmountThreshold(a){return a?F:Ke}};function Ie(a,s,et){let tt=BN.min(a,s),at=BN.max(a,s),ct=Y.fromX64_BN(et.mul(at).mul(tt)),ut=at.sub(tt);return!ct.isZero()&&!ut.isZero()?ct.div(ut):new BN(0)}function xe(a,s,et){let tt=BN.min(a,s),at=BN.max(a,s).sub(tt);return at.isZero()?new BN(0):et.shln(64).div(at)}var M$1=class{static updateFeeRate(s,et,tt,at,ct){let ut=Y.checkMulDivCeil(et,new BN(at),lt,64),bt=tt===0?F:Y.checkMulDivFloor(et,new BN(tt),lt,64),wt=et.mul(ut).mul(bt);if(ct?s.feeProtocolCoinA=s.feeProtocolCoinA.add(ut):s.feeProtocolCoinB=s.feeProtocolCoinB.add(ut),wt.eq(F)||s.liquidity.eq(F))return{refFee:bt,clmm:s};let Et=wt.shln(64).div(s.liquidity);return ct?s.feeGrowthGlobalA=s.feeGrowthGlobalA.add(Et):s.feeGrowthGlobalB=s.feeGrowthGlobalB.add(Et),{refFee:bt,clmm:s}}static getCoinAmountFromLiquidity(s,et,tt,at,ct){let ut=new V(s.toString()),bt=new V(et.toString()),wt=new V(tt.toString()),Et=new V(at.toString()),Ft,jt;return et.lt(tt)?(Ft=Y.toX64_Decimal(ut).mul(Et.sub(wt)).div(wt.mul(Et)),jt=new V(0)):et.lt(at)?(Ft=Y.toX64_Decimal(ut).mul(Et.sub(bt)).div(bt.mul(Et)),jt=Y.fromX64_Decimal(ut.mul(bt.sub(wt)))):(Ft=new V(0),jt=Y.fromX64_Decimal(ut.mul(Et.sub(wt)))),ct?{coinA:new BN(Ft.ceil().toString()),coinB:new BN(jt.ceil().toString())}:{coinA:new BN(Ft.floor().toString()),coinB:new BN(jt.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(s,et,tt,at,ct,ut,bt){let wt=x.sqrtPriceX64ToTickIndex(bt),Et=x.tickIndexToSqrtPriceX64(s),Ft=x.tickIndexToSqrtPriceX64(et),jt;if(wt<s){if(!at)throw new R$1("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");jt=Ie(Et,Ft,tt)}else if(wt>et){if(at)throw new R$1("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");jt=xe(Ft,Et,tt)}else at?jt=Ie(bt,Ft,tt):jt=xe(bt,Et,tt);let Lt=M$1.getCoinAmountFromLiquidity(jt,bt,Et,Ft,ct),Ut=ct?y(Lt.coinA.toString()).mul(1+ut).toString():y(Lt.coinA.toString()).mul(1-ut).toString(),Vt=ct?y(Lt.coinB.toString()).mul(1+ut).toString():y(Lt.coinB.toString()).mul(1-ut).toString();return{coinAmountA:Lt.coinA,coinAmountB:Lt.coinB,tokenMaxA:ct?new BN(V.ceil(Ut).toString()):new BN(V.floor(Ut).toString()),tokenMaxB:ct?new BN(V.ceil(Vt).toString()):new BN(V.floor(Vt).toString()),liquidityAmount:jt,fix_amount_a:at}}static estimateLiquidityFromcoinAmounts(s,et,tt,at){if(et>tt)throw new R$1("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");let ct=x.sqrtPriceX64ToTickIndex(s),ut=x.tickIndexToSqrtPriceX64(et),bt=x.tickIndexToSqrtPriceX64(tt);if(ct<et)return Ie(ut,bt,at.coinA);if(ct>=tt)return xe(bt,ut,at.coinB);let wt=Ie(s,bt,at.coinA),Et=xe(s,ut,at.coinB);return BN.min(wt,Et)}static estCoinAmountsFromTotalAmount(s,et,tt,at,ct,ut){let{ratioA:bt,ratioB:wt}=M$1.calculateDepositRatioFixTokenA(s,et,tt),Et=y(at).mul(bt).div(ct),Ft=y(at).mul(wt).div(ut);return{amountA:Et,amountB:Ft}}static calculateDepositRatioFixTokenA(s,et,tt){let at=new BN(1e8),{coinAmountB:ct}=M$1.estLiquidityAndcoinAmountFromOneAmounts(s,et,at,!0,!0,0,tt),ut=x.sqrtPriceX64ToPrice(tt,0,0),bt=y(at.toString()).mul(ut),wt=bt.add(ct.toString()),Et=bt.div(wt),Ft=y(ct.toString()).div(wt);return{ratioA:Et,ratioB:Ft}}};function pt(a,...s){let et=Array.isArray(s[s.length-1])?s.pop():[],tt=[a,...s].filter(Boolean).join("::");return et&&et.length&&(tt+=`<${et.join(", ")}>`),tt}function P(a){var s,et;try{let tt=a.replace(/\s/g,""),at=(et=(s=tt.match(/(<.+>)$/))==null?void 0:s[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){tt=tt.slice(0,tt.indexOf("<"));let bt={...P(tt),type_arguments:at.map(wt=>P(wt).source_address)};return bt.type_arguments=bt.type_arguments.map(wt=>I.isSuiCoin(wt)?wt:P(wt).source_address),bt.source_address=pt(bt.full_address,bt.type_arguments),bt}let ct=tt.split("::"),ut={full_address:tt,address:tt===we||tt===Pn?"0x2":normalizeSuiObjectId$1(ct[0]),module:ct[1],name:ct[2],type_arguments:[],source_address:""};return ut.full_address=`${ut.address}::${ut.module}::${ut.name}`,ut.source_address=pt(ut.full_address,ut.type_arguments),ut}catch{return{full_address:a,address:"",module:"",name:"",type_arguments:[],source_address:a}}}function be(a){return P(a).source_address}function Tn(a){return a.toLowerCase().startsWith("0x")?normalizeSuiObjectId$1(a):a}function Xe(a){for(let s in a){let et=typeof a[s];if(et==="object")Xe(a[s]);else if(et==="string"){let tt=a[s];tt&&!tt.includes("::")&&(a[s]=Tn(tt))}}}var kn="0x2::coin::Coin",Sn=/^0x2::coin::Coin<(.+)>$/,we="0x2::sui::SUI",Pn="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",I=class{static getCoinTypeArg(a){let s=a.type.match(Sn);return s?s[1]:null}static isSUI(a){let s=I.getCoinTypeArg(a);return s?I.getCoinSymbol(s)==="SUI":!1}static getCoinSymbol(a){return a.substring(a.lastIndexOf(":")+1)}static getBalance(a){return BigInt(a.fields.balance)}static totalBalance(a,s){let et=BigInt(0);return a.forEach(tt=>{s===tt.coinAddress&&(et+=BigInt(tt.balance))}),et}static getID(a){return a.fields.id.id}static getCoinTypeFromArg(a){return`${kn}<${a}>`}static getFaucetCoins(a){let{events:s}=a,et=[];return s==null||s.forEach(tt=>{let{type:at}=tt;if(P(at).name==="InitEvent"){let ct=tt.parsedJson;et.push({transactionModule:tt.transactionModule,suplyID:ct.suplyID,decimals:ct.decimals})}}),et}static getCoinAssets(a,s){let et=[];return s.forEach(tt=>{be(tt.coinAddress)===be(a)&&et.push(tt)}),et}static isSuiCoin(a){return P(a).full_address===we}static selectCoinObjectIdGreaterThanOrEqual(a,s,et=[]){let tt=I.selectCoinAssetGreaterThanOrEqual(a,s,et),at=tt.selectedCoins.map(bt=>bt.coinObjectId),ct=tt.remainingCoins,ut=tt.selectedCoins.map(bt=>bt.balance.toString());return{objectArray:at,remainCoins:ct,amountArray:ut}}static selectCoinAssetGreaterThanOrEqual(a,s,et=[]){let tt=I.sortByBalance(a.filter(wt=>!et.includes(wt.coinObjectId))),at=I.calculateTotalBalance(tt);if(at<s)return{selectedCoins:[],remainingCoins:tt};if(at===s)return{selectedCoins:tt,remainingCoins:[]};let ct=BigInt(0),ut=[],bt=[...tt];for(;ct<at;){let wt=s-ct,Et=bt.findIndex(jt=>jt.balance>=wt);if(Et!==-1){ut.push(bt[Et]),bt.splice(Et,1);break}let Ft=bt.pop();Ft.balance>0&&(ut.push(Ft),ct+=Ft.balance)}return{selectedCoins:I.sortByBalance(ut),remainingCoins:I.sortByBalance(bt)}}static sortByBalance(a){return a.sort((s,et)=>s.balance<et.balance?-1:s.balance>et.balance?1:0)}static sortByBalanceDes(a){return a.sort((s,et)=>s.balance>et.balance?-1:s.balance<et.balance?0:1)}static calculateTotalBalance(a){return a.reduce((s,et)=>s+et.balance,BigInt(0))}};function In(a,{numerator:s,denominator:et},tt){return tt?a.mul(et.add(s)).div(et):a.mul(et).div(et.add(s))}function y(a){return Decimal$1.isDecimal(a)?a:new Decimal$1(a===void 0?0:a)}function Tt(a){return a.data}function xn(a){if(a.error&&"object_id"in a.error&&"version"in a.error&&"digest"in a.error){let{error:s}=a;return{objectId:s.object_id,version:s.version,digest:s.digest}}}function On(a){if(a.error&&"object_id"in a.error&&!("version"in a.error)&&!("digest"in a.error))return a.error.object_id}function Bn(a){if("reference"in a)return a.reference;let s=Tt(a);return s?{objectId:s.objectId,version:s.version,digest:s.digest}:xn(a)}function _t(a){var s;return"objectId"in a?a.objectId:((s=Bn(a))==null?void 0:s.objectId)??On(a)}function Rn(a){return a.data!==void 0}function qn(a){return a.content!==void 0}function kt(a){let s="data"in a?Tt(a):a;if(!(!s||!qn(s)||s.content.dataType!=="moveObject"))return s.content}function St(a){var s;return(s=kt(a))==null?void 0:s.type}function Pt(a){var et;let s=Rn(a)?a.data:a;return!(s!=null&&s.type)&&"data"in a?((et=s==null?void 0:s.content)==null?void 0:et.dataType)==="package"?"package":St(a):s==null?void 0:s.type}function se$1(a){var et;let s=(et=kt(a))==null?void 0:et.fields;if(s)return"fields"in s?s.fields:s}function ht(a,s=32){return BigInt.asUintN(s,BigInt(a)).toString()}function ie(a,s=32){return Number(BigInt.asIntN(s,BigInt(a)))}function jn(a,s,et){let tt=P(a).name,at=P(s).name;return`${tt}-${at}[${et}]`}function We(a){let s=St(a),et=P(s),tt=se$1(a);if(tt==null)throw new R$1(`Pool id ${_t(a)} not exists.`,"InvalidPoolObject");let at=[];tt.rewarder_manager.fields.rewarders.forEach(ut=>{let{emissions_per_second:bt}=ut.fields,wt=Y.fromX64(new BN(bt)),Et=Math.floor(wt.toNumber()*60*60*24);at.push({emissions_per_second:bt,coinAddress:P(ut.fields.reward_coin.fields.name).source_address,growth_global:ut.fields.growth_global,emissionsEveryDay:Et})});let ct={poolAddress:_t(a),poolType:s,coinTypeA:et.type_arguments[0],coinTypeB:et.type_arguments[1],coinAmountA:tt.coin_a,coinAmountB:tt.coin_b,current_sqrt_price:tt.current_sqrt_price,current_tick_index:ie(BigInt(tt.current_tick_index.fields.bits)),fee_growth_global_a:tt.fee_growth_global_a,fee_growth_global_b:tt.fee_growth_global_b,fee_protocol_coin_a:tt.fee_protocol_coin_a,fee_protocol_coin_b:tt.fee_protocol_coin_b,fee_rate:tt.fee_rate,is_pause:tt.is_pause,liquidity:tt.liquidity,position_manager:{positions_handle:tt.position_manager.fields.positions.fields.id.id,size:tt.position_manager.fields.positions.fields.size},rewarder_infos:at,rewarder_last_updated_time:tt.rewarder_manager.fields.last_updated_time,tickSpacing:tt.tick_spacing,ticks_handle:tt.tick_manager.fields.ticks.fields.id.id,uri:tt.url,index:Number(tt.index),name:""};return ct.name=jn(ct.coinTypeA,ct.coinTypeB,ct.tickSpacing),ct}function Fn(a){let s=I.isSuiCoin(a.coinTypeA),et=I.isSuiCoin(a.coinTypeB);return{isAdjustCoinA:s,isAdjustCoinB:et}}function En(a,s){return Decimal$1.ceil(y(a).div(1+s)).toString()}var v=class{static createCollectRewarderAndFeeParams(a,s,et,tt,at,ct){at===void 0&&(at=[...tt]),ct===void 0&&(ct=[...tt]);let ut=be(et.coinTypeA),bt=be(et.coinTypeB);if(et.collect_fee){let Et=v.buildCoinForAmount(s,at,BigInt(0),ut,!1);at=Et.remainCoins;let Ft=v.buildCoinForAmount(s,ct,BigInt(0),bt,!1);ct=Ft.remainCoins,s=a.Position.createCollectFeePaylod({pool_id:et.pool_id,pos_id:et.pos_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},s,Et.targetCoin,Ft.targetCoin)}let wt=[];return et.rewarder_coin_types.forEach(Et=>{switch(be(Et)){case ut:wt.push(v.buildCoinForAmount(s,at,BigInt(0),Et,!1).targetCoin);break;case bt:wt.push(v.buildCoinForAmount(s,ct,BigInt(0),Et,!1).targetCoin);break;default:wt.push(v.buildCoinForAmount(s,tt,BigInt(0),Et,!1).targetCoin);break}}),s=a.Rewarder.createCollectRewarderPaylod(et,s,wt),s}static async adjustTransactionForGas(a,s,et,tt){tt.setSender(a.senderAddress);let at=I.selectCoinAssetGreaterThanOrEqual(s,et).selectedCoins;if(at.length===0)throw new R$1("Insufficient balance","InsufficientBalance");let ct=I.calculateTotalBalance(s);if(ct-et>1e9)return{fixAmount:et};let ut=await a.fullClient.calculationTxGas(tt);if(I.selectCoinAssetGreaterThanOrEqual(s,BigInt(ut),at.map(bt=>bt.coinObjectId)).selectedCoins.length===0){let bt=BigInt(ut)+BigInt(500);if(ct-et<bt){if(et-=bt,et<0)throw new R$1("gas Insufficient balance","InsufficientBalance");let wt=new Transaction;return{fixAmount:et,newTx:wt}}}return{fixAmount:et}}static async buildAddLiquidityFixTokenForGas(a,s,et,tt,at,ct,ut){at=await v.buildAddLiquidityFixToken(a,s,et,at,ct,ut);let{isAdjustCoinA:bt}=Fn(et),wt=bt?et.amount_a:et.amount_b,Et=await v.adjustTransactionForGas(a,I.getCoinAssets(bt?et.coinTypeA:et.coinTypeB,s),BigInt(wt),at),{fixAmount:Ft}=Et,{newTx:jt}=Et;if(jt!=null){let Lt,Ut;if(bt)et.amount_a=Number(Ft),Lt=v.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeA,s,!1,!0),Ut=v.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0);else return et.amount_b=Number(Ft),Lt=v.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),Ut=v.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeB,s,!1,!0),et=v.fixAddLiquidityFixTokenParams(et,tt.slippage,tt.curSqrtPrice),at=await v.buildAddLiquidityFixTokenArgs(jt,a,s,et,Lt,Ut),at}return at}static async buildAddLiquidityFixToken(a,s,et,tt,at,ct){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");tt=tt||new Transaction;let ut,bt;return at==null||ct==null?(ut=v.buildAddLiquidityFixTokenCoinInput(tt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,s,!1,!0),bt=v.buildAddLiquidityFixTokenCoinInput(tt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,s,!1,!0)):(ut={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},bt={targetCoin:ct,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),tt=v.buildAddLiquidityFixTokenArgs(tt,a,s,et,ut,bt),tt}static buildAddLiquidityFixTokenCoinInput(a,s,et,tt,at,ct,ut=!0,bt=!0){return s?v.buildCoinForAmountInterval(a,ct,{amountSecond:BigInt(En(et,tt)),amountFirst:BigInt(et)},at,ut,bt):v.buildCoinForAmount(a,ct,BigInt(et),at,ut,bt)}static fixAddLiquidityFixTokenParams(a,s,et){let tt=a.fix_amount_a?a.amount_a:a.amount_b,at=M$1.estLiquidityAndcoinAmountFromOneAmounts(Number(a.tick_lower),Number(a.tick_upper),new BN(tt),a.fix_amount_a,!0,s,et);return a.amount_a=a.fix_amount_a?a.amount_a:at.tokenMaxA.toNumber(),a.amount_b=a.fix_amount_a?at.tokenMaxB.toNumber():a.amount_b,a}static buildAddLiquidityFixTokenArgs(a,s,et,tt,at,ct){let ut=[tt.coinTypeA,tt.coinTypeB],bt=tt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:wt,integrate:Et}=s.sdkOptions;tt.is_open||(a=v.createCollectRewarderAndFeeParams(s,a,tt,et,at.remainCoins,ct.remainCoins));let Ft=q$1(wt),jt=tt.is_open?[a.object(Ft.global_config_id),a.object(tt.pool_id),a.pure.u32(Number(ht(BigInt(tt.tick_lower)).toString())),a.pure.u32(Number(ht(BigInt(tt.tick_upper)).toString())),at.targetCoin,ct.targetCoin,a.pure.u64(tt.amount_a),a.pure.u64(tt.amount_b),a.pure.bool(tt.fix_amount_a),a.object(G$1)]:[a.object(Ft.global_config_id),a.object(tt.pool_id),a.object(tt.pos_id),at.targetCoin,ct.targetCoin,a.pure.u64(tt.amount_a),a.pure.u64(tt.amount_b),a.pure.bool(tt.fix_amount_a),a.object(G$1)];return a.moveCall({target:`${Et.published_at}::${dt}::${bt}`,typeArguments:ut,arguments:jt}),a}static async buildSwapTransactionForGas(a,s,et,tt){let at=v.buildSwapTransaction(a,s,et);at.setSender(a.senderAddress);let ct=await v.adjustTransactionForGas(a,I.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:ut,newTx:bt}=ct;if(bt!==void 0){bt.setSender(a.senderAddress),s.by_amount_in?s.amount=ut.toString():s.amount_limit=ut.toString(),s=await v.fixSwapParams(a,s,tt);let wt=v.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA),Et=v.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB);at=v.buildSwapTransactionArgs(bt,s,a.sdkOptions,wt,Et)}return at}static buildSwapTransaction(a,s,et){let tt=new Transaction;tt.setSender(a.senderAddress);let at=v.buildCoinForAmount(tt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1),ct=v.buildCoinForAmount(tt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1);return tt=v.buildSwapTransactionArgs(tt,s,a.sdkOptions,at,ct),tt}static buildSwapTransactionArgs(a,s,et,tt,at){let{clmm_pool:ct,integrate:ut}=et,bt=ne.getDefaultSqrtPriceLimit(s.a2b),wt=[s.coinTypeA,s.coinTypeB],{global_config_id:Et}=q$1(ct);if(Et===void 0)throw Error("clmm.config.global_config_id is undefined");let Ft=s.swap_partner!==void 0,jt=Ft?s.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":s.a2b?"swap_a2b":"swap_b2a",Lt=Ft?[a.object(Et),a.object(s.pool_id),a.object(s.swap_partner),tt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128(bt.toString()),a.object(G$1)]:[a.object(Et),a.object(s.pool_id),tt.targetCoin,at.targetCoin,a.pure.bool(s.by_amount_in),a.pure.u64(s.amount),a.pure.u64(s.amount_limit),a.pure.u128(bt.toString()),a.object(G$1)];return a.moveCall({target:`${ut.published_at}::${dt}::${jt}`,typeArguments:wt,arguments:Lt}),a}static async buildSwapTransactionWithoutTransferCoinsForGas(a,s,et,tt){let{tx:at,coinABs:ct}=v.buildSwapTransactionWithoutTransferCoins(a,s,et);at.setSender(a.senderAddress);let ut=await v.adjustTransactionForGas(a,I.getCoinAssets(s.a2b?s.coinTypeA:s.coinTypeB,et),BigInt(s.by_amount_in?s.amount:s.amount_limit),at),{fixAmount:bt,newTx:wt}=ut;if(wt!==void 0){wt.setSender(a.senderAddress),s.by_amount_in?s.amount=bt.toString():s.amount_limit=bt.toString(),s=await v.fixSwapParams(a,s,tt);let Et=v.buildCoinForAmount(at,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),Ft=v.buildCoinForAmount(at,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),jt=v.buildSwapTransactionWithoutTransferCoinArgs(a,wt,s,a.sdkOptions,Et,Ft);at=jt.tx,ct=jt.txRes}return{tx:at,coinABs:ct}}static buildSwapTransactionWithoutTransferCoins(a,s,et){let tt=new Transaction;tt.setSender(a.senderAddress);let at=v.buildCoinForAmount(tt,et,s.a2b?BigInt(s.by_amount_in?s.amount:s.amount_limit):BigInt(0),s.coinTypeA,!1,!0),ct=v.buildCoinForAmount(tt,et,s.a2b?BigInt(0):BigInt(s.by_amount_in?s.amount:s.amount_limit),s.coinTypeB,!1,!0),ut=v.buildSwapTransactionWithoutTransferCoinArgs(a,tt,s,a.sdkOptions,at,ct);return{tx:ut.tx,coinABs:ut.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(a,s,et,tt,at,ct){let{clmm_pool:ut,integrate:bt}=tt,wt=ne.getDefaultSqrtPriceLimit(et.a2b),{global_config_id:Et}=q$1(ut);if(Et===void 0)throw Error("clmm.config.global_config_id is undefined");let Ft=et.swap_partner!==void 0,jt=Ft?"swap_with_partner":"swap",Lt=Ft?$e:Pe$1,Ut=Ft?[s.object(Et),s.object(et.pool_id),s.object(et.swap_partner),at.targetCoin,ct.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(wt.toString()),s.pure.bool(!1),s.object(G$1)]:[s.object(Et),s.object(et.pool_id),at.targetCoin,ct.targetCoin,s.pure.bool(et.a2b),s.pure.bool(et.by_amount_in),s.pure.u64(et.amount),s.pure.u128(wt.toString()),s.pure.bool(!1),s.object(G$1)],Vt=[et.coinTypeA,et.coinTypeB],Yt=s.moveCall({target:`${bt.published_at}::${Lt}::${jt}`,typeArguments:Vt,arguments:Ut});if(et.by_amount_in){let er=et.a2b?et.coinTypeB:et.coinTypeA,tr=et.a2b?Yt[1]:Yt[0],nr=Number(et.amount_limit);this.checkCoinThreshold(a,et.by_amount_in,s,tr,nr,er)}return{tx:s,txRes:Yt}}static async fixSwapParams(a,s,et){let{currentPool:tt}=et;try{let at=await a.Swap.preswap({decimalsA:et.decimalsA,decimalsB:et.decimalsB,a2b:s.a2b,byAmountIn:s.by_amount_in,amount:s.amount,pool:tt,currentSqrtPrice:tt.current_sqrt_price,coinTypeA:tt.coinTypeA,coinTypeB:tt.coinTypeB}),ct=et.byAmountIn?at.estimatedAmountOut:at.estimatedAmountIn,ut=In(ct,et.slippage,!et.byAmountIn);s.amount_limit=ut.toString()}catch(at){console.log("fixSwapParams",at)}return s}static async syncBuildCoinInputForAmount(a,s,et,tt,at=!0,ct=!0){if(a.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let ut=await a.getOwnerCoinAssets(a.senderAddress,tt);return v.buildCoinForAmount(s,ut,et,tt,at,ct).targetCoin}static buildCoinForAmount(a,s,et,tt,at=!0,ct=!0){let ut=I.getCoinAssets(tt,s);if(et===BigInt(0))return v.buildZeroValueCoin(s,a,tt,at);let bt=I.calculateTotalBalance(ut);if(bt<et)throw new R$1(`The amount(${bt}) is Insufficient balance for ${tt} , expect ${et} `,"InsufficientBalance");return v.buildCoin(a,s,ut,et,tt,at,ct)}static buildVectorCoin(a,s,et,tt,at,ct=!0){if(I.isSuiCoin(at)){let jt=a.splitCoins(a.gas,[a.pure.u64(tt)]);return{targetCoin:a.makeMoveVec({elements:[jt]}),remainCoins:s,tragetCoinAmount:tt.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}let{targetCoin:ut,originalSplitedCoin:bt,tragetCoinAmount:wt,selectedCoinsResult:Et,coinObjectIds:Ft}=this.buildSpitTargeCoin(a,tt,et,ct);return ct?{targetCoin:a.makeMoveVec({elements:[ut]}),remainCoins:Et.remainCoins,originalSplitedCoin:bt,tragetCoinAmount:wt,isMintZeroCoin:!1}:{targetCoin:a.makeMoveVec({elements:Ft.map(jt=>a.object(jt))}),remainCoins:Et.remainCoins,tragetCoinAmount:Et.amountArray.reduce((jt,Lt)=>Number(jt)+Number(Lt),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(a,s,et,tt,at=!0){if(I.isSuiCoin(tt)){if(et===0n&&s.length>1){let Ft=I.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.object(Ft.objectArray[0]),remainCoins:Ft.remainCoins,tragetCoinAmount:Ft.amountArray[0],isMintZeroCoin:!1}}let Et=I.selectCoinObjectIdGreaterThanOrEqual(s,et);return{targetCoin:a.splitCoins(a.gas,[a.pure.u64(et)]),remainCoins:Et.remainCoins,tragetCoinAmount:et.toString(),isMintZeroCoin:!1,originalSplitedCoin:a.gas}}let{targetCoin:ct,originalSplitedCoin:ut,tragetCoinAmount:bt,selectedCoinsResult:wt}=this.buildSpitTargeCoin(a,et,s,at);return{targetCoin:ct,remainCoins:wt.remainCoins,originalSplitedCoin:ut,tragetCoinAmount:bt,isMintZeroCoin:!1}}static buildSpitTargeCoin(a,s,et,tt){let at=I.selectCoinObjectIdGreaterThanOrEqual(et,s),ct=at.amountArray.reduce((Ut,Vt)=>Number(Ut)+Number(Vt),0).toString(),ut=at.objectArray,[bt,...wt]=ut,Et=a.object(bt),Ft=Et,jt=at.amountArray.reduce((Ut,Vt)=>Number(Ut)+Number(Vt),0).toString(),Lt;return wt.length>0&&a.mergeCoins(Et,wt.map(Ut=>a.object(Ut))),tt&&Number(ct)>Number(s)&&(Ft=a.splitCoins(Et,[a.pure.u64(s)]),Lt=Et),{originalSplitedCoin:Lt,targetCoin:Ft,tragetCoinAmount:jt,selectedCoinsResult:at,coinObjectIds:ut}}static buildCoin(a,s,et,tt,at,ct=!0,ut=!0){return ct?this.buildVectorCoin(a,s,et,tt,at,ut):this.buildOneCoin(a,et,tt,at,ut)}static buildZeroValueCoin(a,s,et,tt=!0){let at=v.callMintZeroValueCoin(s,et),ct;return tt?ct=s.makeMoveVec({elements:[at]}):ct=at,{targetCoin:ct,remainCoins:a,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(a,s,et,tt,at=!0,ct=!0){let ut=I.getCoinAssets(tt,s);if(et.amountFirst===BigInt(0))return ut.length>0?v.buildCoin(a,[...s],[...ut],et.amountFirst,tt,at,ct):v.buildZeroValueCoin(s,a,tt,at);let bt=I.calculateTotalBalance(ut);if(bt>=et.amountFirst)return v.buildCoin(a,[...s],[...ut],et.amountFirst,tt,at,ct);if(bt<et.amountSecond)throw new R$1(`The amount(${bt}) is Insufficient balance for ${tt} , expect ${et.amountSecond} `,"InsufficientBalance");return v.buildCoin(a,[...s],[...ut],et.amountSecond,tt,at,ct)}static async buildRouterSwapTransaction(a,s,et,tt,at){let ct=new Transaction;return s.paths.length>1&&(s.partner=""),ct=await this.buildRouterBasePathTx(a,s,et,tt,ct,at),ct}static async buildRouterBasePathTx(a,s,et,tt,at,ct){let ut=s.paths.filter(ir=>ir&&ir.poolAddress),bt=Number(ut.reduce((ir,lr)=>ir.add(lr.amountIn),F).toString()),wt=Number(ut.reduce((ir,lr)=>ir.add(lr.amountOut),F).toString()),Et=Math.round(et?Number(wt.toString())*(1-s.priceSlippagePoint):Number(bt.toString())*(1+s.priceSlippagePoint)),Ft=s.paths[0].coinType[0],jt=s.paths[0].coinType[s.paths[0].coinType.length-1],Lt=v.buildCoinForAmount(at,tt,BigInt(et?bt:Et),Ft,!1,!0),Ut=Lt.originalSplitedCoin!==void 0,Vt=v.buildCoinForAmount(at,tt,0n,jt,!1),Yt=await this.buildRouterBasePathReturnCoins(a,s,et,Lt,Vt,at),er=[],{toCoin:tr,fromCoin:nr}=Yt;if(at=Yt.tx,Vt.isMintZeroCoin?er.push({coinType:jt,coin:tr}):Vt.originalSplitedCoin!==void 0?at.mergeCoins(Vt.originalSplitedCoin,[tr]):at.mergeCoins(Vt.targetCoin,[tr]),Ut){let ir=Lt==null?void 0:Lt.originalSplitedCoin;at.mergeCoins(ir,[nr])}else er.push({coinType:Ft,coin:nr});for(let ir=0;ir<er.length;ir++)this.buildTransferCoin(a,at,er[ir].coin,er[ir].coinType,ct);return at}static async buildRouterBasePathReturnCoins(a,s,et,tt,at,ct){let{clmm_pool:ut,integrate:bt}=a.sdkOptions,wt=q$1(ut).global_config_id,Et=s.paths.filter(ir=>ir&&ir.poolAddress),Ft=Number(Et.reduce((ir,lr)=>ir.add(lr.amountIn),F).toString()),jt=Number(Et.reduce((ir,lr)=>ir.add(lr.amountOut),F).toString()),Lt=Math.round(et?Number(jt.toString())*(1-s.priceSlippagePoint):Number(Ft.toString())*(1+s.priceSlippagePoint)),Ut=s.paths[0].coinType[0],Vt=s.paths[0].coinType[s.paths[0].coinType.length-1],Yt=tt.targetCoin,er;at.isMintZeroCoin||at.originalSplitedCoin!==void 0?er=at.targetCoin:er=v.callMintZeroValueCoin(ct,Vt);let tr=s.partner==="",nr=tr?Pe$1:$e;for(let ir of Et)if(ir.poolAddress.length===1){let lr=ir.a2b[0],pr={amount:Number(ir.amountIn.toString()),poolCoinA:ir.a2b[0]?Ut:Vt,poolCoinB:ir.a2b[0]?Vt:Ut},yr=tr?"swap":"swap_with_partner",br=lr?Yt:er,xr=lr?er:Yt,Er=et?ir.amountIn.toString():ir.amountOut.toString(),$r=ne.getDefaultSqrtPriceLimit(lr).toString(),Sr=tr?[ct.object(wt),ct.object(ir.poolAddress[0]),br,xr,ct.pure.bool(lr),ct.pure.bool(et),ct.pure.u64(Er),ct.pure.u128($r),ct.pure.bool(!1),ct.object(G$1)]:[ct.object(wt),ct.object(ir.poolAddress[0]),ct.object(s.partner),br,xr,ct.pure.bool(lr),ct.pure.bool(et),ct.pure.u64(Er),ct.pure.u128($r),ct.pure.bool(!1),ct.object(G$1)],fr=[pr.poolCoinA,pr.poolCoinB],vr=ct.moveCall({target:`${a.sdkOptions.integrate.published_at}::${nr}::${yr}`,typeArguments:fr,arguments:Sr});Yt=lr?vr[0]:vr[1],er=lr?vr[1]:vr[0]}else{let lr=et?ir.amountIn:ir.rawAmountLimit[0],pr=et?0:ir.amountOut,yr="";ir.a2b[0]?ir.a2b[1]?yr="swap_ab_bc":yr="swap_ab_cb":ir.a2b[1]?yr="swap_ba_bc":yr="swap_ba_cb",tr||(yr=`${yr}_with_partner`);let br=ne.getDefaultSqrtPriceLimit(ir.a2b[0]),xr=ne.getDefaultSqrtPriceLimit(ir.a2b[1]),Er=tr?[ct.object(wt),ct.object(ir.poolAddress[0]),ct.object(ir.poolAddress[1]),Yt,er,ct.pure.bool(et),ct.pure.u64(lr.toString()),ct.pure.u64(pr.toString()),ct.pure.u128(br.toString()),ct.pure.u128(xr.toString()),ct.object(G$1)]:[ct.object(wt),ct.object(ir.poolAddress[0]),ct.object(ir.poolAddress[1]),ct.object(s.partner),Yt,er,ct.pure.bool(et),ct.pure.u64(lr.toString()),ct.pure.u64(pr.toString()),ct.pure.u128(br.toString()),ct.pure.u128(xr.toString()),ct.object(G$1)],$r=[ir.coinType[0],ir.coinType[1],ir.coinType[2]],Sr=ct.moveCall({target:`${bt.published_at}::${nr}::${yr}`,typeArguments:$r,arguments:Er});Yt=Sr[0],er=Sr[1]}return this.checkCoinThreshold(a,et,ct,er,Lt,Vt),{fromCoin:Yt,toCoin:er,tx:ct}}static async buildAggregatorSwapReturnCoins(a,s,et,tt,at,ct,ut,bt){if(bt==null){if(a.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");bt=a.senderAddress}s.splitPaths.length>1&&(at="");let wt,Et,Ft=s.splitPaths.some(jt=>jt.basePaths.some(Lt=>Lt.label==="Deepbook"));if((!s.byAmountIn||s.splitPaths.length===1)&&!Ft){let jt=[];for(let Vt of s.splitPaths){let Yt=[],er=[],tr=[],nr=[];for(let lr=0;lr<Vt.basePaths.length;lr+=1){let pr=Vt.basePaths[lr];Yt.push(pr.direction),er.push(pr.poolAddress),tr.push(new BN(pr.inputAmount.toString())),lr===0?nr.push(pr.fromCoin,pr.toCoin):nr.push(pr.toCoin)}let ir={amountIn:new BN(Vt.inputAmount.toString()),amountOut:new BN(Vt.outputAmount.toString()),poolAddress:er,a2b:Yt,rawAmountLimit:tr,isExceed:!1,coinType:nr};jt.push(ir)}let Lt={paths:jt,partner:at,priceSlippagePoint:ct},Ut=await this.buildRouterBasePathReturnCoins(a,Lt,s.byAmountIn,et,tt,ut);wt=Ut.fromCoin,Et=Ut.toCoin,ut=Ut.tx}else{let jt=Math.round(s.outputAmount*(1-ct));wt=et.targetCoin,tt.isMintZeroCoin||tt.originalSplitedCoin!==void 0?Et=tt.targetCoin:Et=v.callMintZeroValueCoin(ut,s.toCoin);let Lt=!1,Ut;if(Ft){let[Vt,Yt]=gt.createAccountCap(bt,a.sdkOptions,ut);ut=Yt,Ut=Vt,Lt=!0}for(let Vt=0;Vt<s.splitPaths.length;Vt+=1){let Yt=s.splitPaths[Vt],er;for(let tr=0;tr<Yt.basePaths.length;tr+=1){let nr=Yt.basePaths[tr];if(nr.label==="Deepbook")if(tr===0)if(Yt.basePaths.length===1){let ir=this.buildDeepbookBasePathTx(a,nr,ut,Ut,wt,Et,!1);wt=ir.from,Et=ir.to}else{er=v.callMintZeroValueCoin(ut,nr.toCoin);let ir=this.buildDeepbookBasePathTx(a,nr,ut,Ut,wt,er,!1);wt=ir.from,er=ir.to}else{let ir=this.buildDeepbookBasePathTx(a,nr,ut,Ut,er,Et,!0);er=ir.from,Et=ir.to}if(nr.label==="Cetus")if(tr===0)if(Yt.basePaths.length===1){let ir=this.buildClmmBasePathTx(a,nr,ut,s.byAmountIn,wt,Et,!1,at);wt=ir.from,Et=ir.to}else{er=v.callMintZeroValueCoin(ut,nr.toCoin);let ir=this.buildClmmBasePathTx(a,nr,ut,s.byAmountIn,wt,er,!1,at);wt=ir.from,er=ir.to}else{let ir=this.buildClmmBasePathTx(a,nr,ut,s.byAmountIn,er,Et,!0,at);er=ir.from,Et=ir.to,ut.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ft}::send_coin`,typeArguments:[nr.fromCoin],arguments:[er,ut.pure.address(bt)]})}}}this.checkCoinThreshold(a,s.byAmountIn,ut,Et,jt,s.toCoin),Lt&&(ut=gt.deleteAccountCapByObject(Ut,a.sdkOptions,ut))}return{fromCoin:wt,toCoin:Et,tx:ut}}static async buildAggregatorSwapTransaction(a,s,et,tt,at,ct){let ut=new Transaction,bt=s.byAmountIn?Math.round(s.outputAmount*(1-at)):Math.round(s.inputAmount*(1+at)),wt=v.buildCoinForAmount(ut,et,s.byAmountIn?BigInt(s.inputAmount):BigInt(bt),s.fromCoin,!1,!0),Et=wt.originalSplitedCoin!=null,Ft=v.buildCoinForAmount(ut,et,0n,s.toCoin,!1),jt=await this.buildAggregatorSwapReturnCoins(a,s,wt,Ft,tt,at,ut,ct),{fromCoin:Lt,toCoin:Ut}=jt;ut=jt.tx;let Vt=[];if(Ft.isMintZeroCoin?Vt.push({coinType:s.toCoin,coin:Ut}):Ft.originalSplitedCoin!=null?ut.mergeCoins(Ft.originalSplitedCoin,[Ut]):ut.mergeCoins(Ft.targetCoin,[Ut]),Et){let Yt=wt.originalSplitedCoin;ut.mergeCoins(Yt,[Lt])}else Vt.push({coinType:s.fromCoin,coin:Lt});for(let Yt=0;Yt<Vt.length;Yt++)this.buildTransferCoin(a,ut,Vt[Yt].coin,Vt[Yt].coinType,ct);return ut}static checkCoinThreshold(a,s,et,tt,at,ct){s&&et.moveCall({target:`${a.sdkOptions.integrate.published_at}::${Pe$1}::check_coin_threshold`,typeArguments:[ct],arguments:[tt,et.pure.u64(at)]})}static buildDeepbookBasePathTx(a,s,et,tt,at,ct,ut){let bt=s.direction?at:ct,wt=s.direction?ct:at,Et=[et.object(s.poolAddress),tt,et.pure.u64(s.inputAmount),et.pure.u64(0),et.pure.bool(s.direction),bt,wt,et.pure.bool(ut),et.object(G$1)],Ft=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],jt=et.moveCall({target:`${a.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Ft,arguments:Et});return at=s.direction?jt[0]:jt[1],ct=s.direction?jt[1]:jt[0],{from:at,to:ct,tx:et}}static buildClmmBasePathTx(a,s,et,tt,at,ct,ut,bt){let{clmm_pool:wt,integrate:Et}=a.sdkOptions,Ft=q$1(wt).global_config_id,jt=s.direction?at:ct,Lt=s.direction?ct:at,Ut=bt==="",Vt=Ut?Pe$1:$e,Yt=Ut?"swap":"swap_with_partner",er=tt?s.inputAmount.toString():s.outputAmount.toString(),tr=ne.getDefaultSqrtPriceLimit(s.direction),nr=Ut?[et.object(Ft),et.object(s.poolAddress),jt,Lt,et.pure.bool(s.direction),et.pure.bool(tt),et.pure.u64(er),et.pure.u128(tr.toString()),et.pure.bool(ut),et.object(G$1)]:[et.object(Ft),et.object(s.poolAddress),et.object(bt),jt,Lt,et.pure.bool(s.direction),et.pure.bool(tt),et.pure.u64(er),et.pure.u128(tr.toString()),et.pure.bool(ut),et.object(G$1)],ir=s.direction?[s.fromCoin,s.toCoin]:[s.toCoin,s.fromCoin],lr=et.moveCall({target:`${Et.published_at}::${Vt}::${Yt}`,typeArguments:ir,arguments:nr});return jt=lr[0],Lt=lr[1],at=s.direction?jt:Lt,ct=s.direction?Lt:jt,{from:at,to:ct,tx:et}}static buildCoinTypePair(a,s){let et=[];if(a.length===2){let tt=[];tt.push(a[0],a[1]),et.push(tt)}else{let tt=[];tt.push(a[0],a[a.length-1]),et.push(tt);for(let at=1;at<a.length-1;at+=1){if(s[at-1]===0)continue;let ct=[];ct.push(a[0],a[at],a[a.length-1]),et.push(ct)}}return et}static buildTransferCoinToSender(a,s,et,tt){s.moveCall({target:`${a.sdkOptions.integrate.published_at}::${ft}::transfer_coin_to_sender`,typeArguments:[tt],arguments:[et]})}static buildTransferCoin(a,s,et,tt,at){at!=null?s.transferObjects([et],s.pure.address(at)):v.buildTransferCoinToSender(a,s,et,tt)}},z$1=v;ln(z$1,"callMintZeroValueCoin",(a,s)=>a.moveCall({target:"0x2::coin::zero",typeArguments:[s]}));var me=new BN(1e9),gt=class{static createAccountCap(a,s,et,tt=!1){if(a.length===0)throw Error("this config sdk senderAddress is empty");let{deepbook:at}=s,[ct]=et.moveCall({target:`${at.published_at}::${mn}::create_account`,typeArguments:[],arguments:[]});return tt&&et.transferObjects([ct],et.pure.address(a)),[ct,et]}static deleteAccountCap(a,s,et){let{deepbook:tt}=s,at=[et.object(a)];return et.moveCall({target:`${tt.published_at}::${Ve$1}::delete_account_cap`,typeArguments:[],arguments:at}),et}static deleteAccountCapByObject(a,s,et){let{deepbook:tt}=s,at=[a];return et.moveCall({target:`${tt.published_at}::${Ve$1}::delete_account_cap`,typeArguments:[],arguments:at}),et}static async getAccountCap(a,s=!0){let et=await a.fullClient.getOwnedObjectsByPage(a.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:s,showOwner:!0},filter:{MoveModule:{package:a.sdkOptions.deepbook.package_id,module:Ve$1}}});return et.data.length===0?"":et.data[0].data.objectId}static async getPools(a){let s=a.sdkOptions.deepbook.package_id,et=[];try{(await a.fullClient.queryEventsByPage({MoveEventType:`${s}::clob_v2::PoolCreated`})).data.forEach(tt=>{let at=tt.parsedJson;at&&et.push({poolID:at.pool_id,tickSize:Number(at.tick_size),lotSize:Number(at.lot_size),takerFeeRate:Number(at.taker_fee_rate),makerRebateRate:Number(at.maker_rebate_rate),baseAsset:at.base_asset.name,quoteAsset:at.quote_asset.name})})}catch(tt){console.log("getPoolImmutables",tt)}return et}static async getPoolAsks(a,s,et,tt){var jt;let{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:ct}=a.sdkOptions,ut=new Transaction,bt=[],wt=[et,tt],Et=[ut.object(s),ut.pure.u64("0"),ut.pure.u64("999999999999"),ut.object(G$1)];ut.moveCall({target:`${ct.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:Et,typeArguments:wt});let Ft=(jt=(await a.fullClient.devInspectTransactionBlock({transactionBlock:ut,sender:at.address})).events)==null?void 0:jt.filter(Lt=>P(Lt.type).name==="BookStatus");if(Ft.length===0)return bt;for(let Lt=0;Lt<Ft[0].parsedJson.depths.length;Lt++){let Ut=Ft[0].parsedJson.price[Lt],Vt=Ft[0].parsedJson.depths[Lt],Yt={price:parseInt(Ut,10),quantity:parseInt(Vt,10)};bt.push(Yt)}return bt}static async getPoolBids(a,s,et,tt){var jt;let{simulationAccount:at}=a.sdkOptions,{deepbook_endpoint_v2:ct}=a.sdkOptions,ut=new Transaction,bt=[],wt=[et,tt],Et=[ut.object(s),ut.pure.u64("0"),ut.pure.u64("999999999999"),ut.object(G$1)];ut.moveCall({target:`${ct.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:Et,typeArguments:wt});let Ft=(jt=(await a.fullClient.devInspectTransactionBlock({transactionBlock:ut,sender:at.address})).events)==null?void 0:jt.filter(Lt=>P(Lt.type).name==="BookStatus");if(Ft.length===0)return bt;for(let Lt=0;Lt<Ft[0].parsedJson.depths.length;Lt++){let Ut=Ft[0].parsedJson.price[Lt],Vt=Ft[0].parsedJson.depths[Lt],Yt={price:parseInt(Ut,10),quantity:parseInt(Vt,10)};bt.push(Yt)}return bt}static async preSwap(a,s,et,tt){let at=!1,ct=F,ut=new BN(tt),bt=F,wt=new BN(tt);if(et){let Et=await this.getPoolBids(a,s.poolID,s.baseAsset,s.quoteAsset);Et===null&&(at=!0),Et=Et.sort((Ft,jt)=>jt.price-Ft.price);for(let Ft=0;Ft<Et.length;Ft+=1){let jt=new BN(Et[Ft].quantity),Lt=new BN(Et[Ft].price),Ut=jt.mul(new BN(Lt)).mul(new BN(s.takerFeeRate)).div(me).div(me);if(ut.gt(jt))ut=ut.sub(jt),ct=ct.add(jt.mul(Lt).div(me).sub(Ut)),bt=bt.add(Ut);else{let Vt=ut.mul(new BN(Et[Ft].price)).div(me),Yt=Vt.mul(new BN(s.takerFeeRate)).div(me);ct=ct.add(Vt.sub(Yt)),ut=ut.sub(ut),bt=bt.add(Yt)}if(ut.eq(F))break}}else{let Et=await this.getPoolAsks(a,s.poolID,s.baseAsset,s.quoteAsset);Et===null&&(at=!0);for(let Ft=0;Ft<Et.length;Ft+=1){let jt=new BN(Et[Ft].price).mul(new BN(Et[Ft].quantity)).div(new BN(1e9)),Lt=jt.mul(new BN(s.takerFeeRate)).div(me),Ut=jt.add(Lt);if(ut.gt(jt))ct=ct.add(new BN(Et[Ft].quantity)),ut=ut.sub(Ut),bt=bt.add(Lt);else{let Vt=new BN(Et[Ft].quantity).div(new BN(s.lotSize)),Yt=Ut.div(Vt),er=ut.div(Yt);ct=ct.add(er.muln(s.lotSize)),ut=ut.sub(er.mul(Yt)),bt=bt.add(er.div(Vt).mul(Lt))}if(ut.eq(F))break}}return{poolAddress:s.poolID,estimatedAmountIn:wt.sub(ut).toNumber(),estimatedAmountOut:ct.toNumber(),estimatedFeeAmount:bt,isExceed:at,amount:Number(tt),aToB:et,byAmountIn:!0}}static async simulateSwap(a,s,et,tt,at,ct){var nr,ir,lr;let{deepbook_endpoint_v2:ut}=a.sdkOptions,bt=new Transaction,wt=await this.getAccountCap(a),Et;if(wt===""){let pr=this.createAccountCap(a.senderAddress,a.sdkOptions,bt),yr=pr[0];bt=pr[1],Et=yr}else Et=bt.object(wt);let Ft=await a.getOwnerCoinAssets(a.senderAddress),jt=(nr=z$1.buildCoinForAmount(bt,Ft,BigInt(ct),et,!1))==null?void 0:nr.targetCoin,Lt=(ir=z$1.buildCoinForAmount(bt,Ft,BigInt(ct),tt,!1))==null?void 0:ir.targetCoin,Ut=[et,tt],Vt=[bt.object(s),Et,bt.pure.u64(ct),bt.pure.u64(0),bt.pure.bool(at),jt,Lt,bt.object(G$1)];bt.moveCall({target:`${ut.published_at}::${_n}::swap`,arguments:Vt,typeArguments:Ut});let{simulationAccount:Yt}=a.sdkOptions,er=(lr=(await a.fullClient.devInspectTransactionBlock({transactionBlock:bt,sender:Yt.address})).events)==null?void 0:lr.filter(pr=>P(pr.type).name==="DeepbookSwapEvent");if(er.length===0)return null;let tr=er[0].parsedJson;return{poolAddress:tr.pool,estimatedAmountIn:tr.amount_in,estimatedAmountOut:tr.amount_out,aToB:tr.atob}}};getFullnodeUrl("mainnet");getFullnodeUrl("testnet");var It="router",xt="vaults",Ot=1e4,Bt=(a=>(a.STATUS_RUNNING="STATUS_RUNNING",a.STATUS_REBALANCING="STATUS_REBALANCING",a))(Bt||{}),Mn=(a=>(a.Haedal="Haedal",a.Volo="Volo",a.Aftermath="aftermath",a))(Mn||{}),Rt=(a=>(a.Cetus="Cetus",a.Haedal="Haedal",a.Volo="Volo",a.Aftermath="aftermath",a))(Rt||{}),qt=(a=>(a.Both="both",a.OneSide="oneSide",a))(qt||{}),Z=class extends Error{constructor(s,et){super(s);dn(this,"message");dn(this,"errorCode");this.message=s,this.errorCode=et}static isClmmpoolsErrorCode(s,et){return s instanceof Z&&s.errorCode===et}},ye$1="0x0000000000000000000000000000000000000000000000000000000000000006",Je="router";function $(a){if(a.config===void 0)throw new Z(`package: ${a.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return a.config}var B=class{static generateNextTickRange(a,s,et){let tt=a-s/2,at=a+s/2;return{new_tick_lower:B.getValidTickIndex(tt,et),new_tick_upper:B.getValidTickIndex(at,et)}}static calculateDepositRatio(a,s,et){let tt=x.sqrtPriceX64ToTickIndex(et);if(tt<a)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if(tt>s)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let at=new BN(1e8),{coinAmountB:ct}=M$1.estLiquidityAndcoinAmountFromOneAmounts(a,s,at,!0,!0,0,et),ut=x.sqrtPriceX64ToPrice(et,0,0),bt=y(at.toString()).mul(ut),wt=bt.add(ct.toString()),Et=bt.div(wt),Ft=y(ct.toString()).div(wt);return{ratioA:Et,ratioB:Ft}}static getValidTickIndex(a,s){if(a%s===0)return a;let et;if(a>0?et=a-a%s+s:a<0?et=a+Math.abs(a)%s-s:et=a,et%s!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(et)<Math.abs(a))throw new Error("Assertion failed: res.abs() >= tickIndex");return et}static get_lp_amount_by_liquidity(a,s){return a.total_supply==="0"?"0":y(a.total_supply).mul(s).div(a.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(a,s){return a.total_supply==="0"?"0":y(s).mul(a.liquidity).div(a.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(a,s){return y(s).mul(a.protocol_fee_rate).div(Ot).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(a){let s=a.clmm_postion.fields;return{id:a.id.id,url:s.url,pool_id:a.pool_id,coinTypeA:P(s.coin_type_a.fields.name).full_address,coinTypeB:P(s.coin_type_b.fields.name).full_address,description:s.description,name:s.name,liquidity:s.liquidity,clmm_position_id:s.id.id,clmm_pool_id:s.pool,tick_lower_index:ie(BigInt(s.tick_lower_index.fields.bits)),tick_upper_index:ie(BigInt(s.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(a){let s=se$1(a),et=Pt(a),{positions:tt}=s;if(s&&tt.length>0){let at=B.buildFramsPositionNFT(tt[0].fields);return{id:s.id.id,pool_id:s.pool,protocol_fee_rate:s.protocol_fee_rate,is_pause:s.is_pause,harvest_assets:{harvest_assets_handle:s.harvest_assets.fields.id.id,size:Number(s.harvest_assets.fields.size)},lp_token_type:P(et).type_arguments[0],total_supply:s.lp_token_treasury.fields.total_supply.fields.value,liquidity:s.liquidity,max_quota:s.max_quota,status:s.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:s.quota_based_type.fields.name,position:at}}}static async getSuiCoin(a,s,et){let tt=await a.getOwnerCoinAssets(a.getVerifySenderAddress(),we);et=et||new Transaction;let at;if(s>95e10){let[ct,...ut]=tt;ut.length>0&&et.mergeCoins(et.object(ct.coinObjectId),ut.map(bt=>et.object(bt.coinObjectId))),at=et.splitCoins(et.object(ct.coinObjectId),[s])}else at=z$1.buildCoinForAmount(et,tt,BigInt(s),we,!1,!0).targetCoin;return at}},Ae=class{static async getExchangeRateForStake(a,s,et){let{vaults:tt}=a.sdkOptions,{haedal:at}=q$1(tt);if(at===void 0)throw Error("the haedal config is undefined");let{simulationAccount:ct}=a.sdkOptions,{staking_id:ut}=q$1(at);try{let bt=new Transaction;s?await this.requestStake(a,et||1e9,bt):bt.moveCall({target:`${at.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[bt.object(ut)]});let wt=await a.fullClient.devInspectTransactionBlock({transactionBlock:bt,sender:s?a.senderAddress:ct.address});if(s){let Ft=wt.events.find(Ut=>Ut.type.includes("UserStaked")),{sui_amount:jt,st_amount:Lt}=Ft.parsedJson;return y(jt).div(Lt).toString()}let Et=wt.results[0].returnValues[0][0];return y(suiBcs$1.u64().parse(Uint8Array.from(Et))).div(1e6).toString()}catch(bt){console.log("getExchangeRateForHaedal",bt)}return"0"}static async requestStake(a,s,et){var ct,ut;let{vaults:tt}=a.sdkOptions;et=et||new Transaction;let at=await B.getSuiCoin(a,s,et);return et.moveCall({target:`${(ut=(ct=tt.config)==null?void 0:ct.haedal)==null?void 0:ut.published_at}::interface::request_stake`,typeArguments:[],arguments:[et.object(normalizeSuiObjectId$1("0x5")),et.object(tt.config.haedal.config.staking_id),at,et.pure.address(normalizeSuiObjectId$1("0x0"))]}),et}static requestStakeCoin(a,s,et){let{haedal:tt}=a.sdkOptions.vaults.config;return s.moveCall({target:`${tt.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[s.object(normalizeSuiObjectId$1("0x5")),s.object(tt.config.staking_id),et,s.pure.address(normalizeSuiObjectId$1("0x0"))]})}},ve=class{static async getExchangeRateForStake(a,s,et){let{vaults:tt}=a.sdkOptions,{volo:at}=q$1(tt);if(at===void 0)throw Error("the volo config is undefined");let{simulationAccount:ct}=a.sdkOptions,{native_pool:ut,vsui_metadata:bt}=q$1(at);try{let wt=new Transaction;s?await this.requestStake(a,et||1e9,wt):wt.moveCall({target:`${at.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[wt.object(ut),wt.object(bt)]});let Et=await a.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:s?a.senderAddress:ct.address});if(s){let Lt=Et.events.find(Yt=>Yt.type.includes("StakedEvent")),{cert_amount:Ut,sui_amount:Vt}=Lt.parsedJson;return y(Vt).div(Ut).toString()}let Ft=Et.results[0].returnValues[0][0],jt=y(suiBcs$1.u256().parse(Uint8Array.from(Ft))).div("1000000000000000000").toNumber();return y(1).div(jt).toString()}catch(wt){console.log("getExchangeRateForHaedal",wt)}return"0"}static async requestStake(a,s,et){let{vaults:tt}=a.sdkOptions,{volo:at}=q$1(tt);if(at===void 0)throw Error("the volo config is undefined");et=et||new Transaction;let{native_pool:ct,vsui_metadata:ut}=q$1(at),bt=await B.getSuiCoin(a,s,et);return et.moveCall({target:`${at.published_at}::native_pool::stake`,typeArguments:[],arguments:[et.object(ct),et.object(ut),et.object(normalizeSuiObjectId$1("0x5")),bt]}),et}static requestStakeCoin(a,s,et){let{vaults:tt}=a.sdkOptions,{volo:at}=q$1(tt);if(at===void 0)throw Error("the volo config is undefined");s=s||new Transaction;let{native_pool:ct,vsui_metadata:ut}=q$1(at);return s.moveCall({target:`${at.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[s.object(ct),s.object(ut),s.object(normalizeSuiObjectId$1("0x5")),et]})}},Ce=class{static async getExchangeRateForStake(a,s,et){let{vaults:tt}=a.sdkOptions,{aftermath:at}=q$1(tt);if(at===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:ct}=a.sdkOptions,{staked_sui_vault:ut,safe:bt}=q$1(at);try{let wt=new Transaction;s?await this.requestStake(a,et||1e9,wt):wt.moveCall({target:`${at.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[wt.object(ut),wt.object(bt)]});let Et=await a.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:s?a.senderAddress:ct.address});if(s){let jt=Et.events.find(Vt=>Vt.type.includes("StakedEvent")),{afsui_amount:Lt,sui_amount:Ut}=jt.parsedJson;return y(Ut).div(Lt).toString()}let Ft=Et.results[0].returnValues[0][0];return y(suiBcs$1.u128().parse(Uint8Array.from(Ft))).div(1e18).toString()}catch(wt){console.log("getExchangeRateForHaedal",wt)}return"0"}static async requestStake(a,s,et){let{vaults:tt}=a.sdkOptions,{aftermath:at}=q$1(tt);if(at===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:ct,referral_vault:ut,safe:bt,validator_address:wt}=q$1(at),Et=await B.getSuiCoin(a,s,et);return et.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[et.object(ct),et.object(bt),et.object(normalizeSuiObjectId$1("0x5")),et.object(ut),Et,et.pure.address(normalizeSuiObjectId$1(wt))]}),et}static requestStakeCoin(a,s,et){let{vaults:tt}=a.sdkOptions,{aftermath:at}=q$1(tt);if(at===void 0)throw Error("the aftermath config is undefined");s=s||new Transaction;let{staked_sui_vault:ct,referral_vault:ut,safe:bt,validator_address:wt}=q$1(at);return s.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[s.object(ct),s.object(bt),s.object(normalizeSuiObjectId$1("0x5")),s.object(ut),et,s.pure.address(normalizeSuiObjectId$1(wt))]})}},De=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});dn(this,"getOwnerVaultsBalance",async a=>{let{data:s}=await this.getVaultList(),et=[];for(let tt=0;tt<s.length;tt++){let at=s[tt],ct=await this._sdk.fullClient.getBalance({owner:a,coinType:at.lp_token_type}),ut=await this._sdk.Pool.getPool(at.pool_id,!0),bt=B.get_share_liquidity_by_amount(at,ct.totalBalance),{tick_lower_index:wt,tick_upper_index:Et,coinTypeA:Ft,coinTypeB:jt}=at.position,Lt=x.tickIndexToSqrtPriceX64(wt),Ut=x.tickIndexToSqrtPriceX64(Et),Vt=M$1.getCoinAmountFromLiquidity(new bnExports.BN(bt),new bnExports.BN(ut.current_sqrt_price),Lt,Ut,!0);et.push({vault_id:s[tt].id,clmm_pool_id:at.pool_id,owner:a,lp_token_type:at.lp_token_type,lp_token_balance:ct.totalBalance,liquidity:bt,tick_lower_index:wt,tick_upper_index:Et,amount_a:Vt.coinA.toString(),amount_b:Vt.coinB.toString(),coin_type_a:Ft,coin_type_b:jt})}return et});this._sdk=a}get sdk(){return this._sdk}async calculateDepositAmount(a,s=!1,et=!1){return a.side==="both"?await this.calculateAmountFromBoth(a,!0):await this.calculateDepositAmountFromOneSide(a,s,et)}async calculateWithdrawAmount(a){if(a.side==="both"){if(a.is_ft_input)return{...await this.estLiquidityAmountFromFtAmount({...a,input_ft_amount:a.input_amount}),request_id:a.input_amount,burn_ft_amount:a.input_amount,side:a.side};let tt=await this.calculateAmountFromBoth(a,!1);return{...tt,request_id:a.input_amount,burn_ft_amount:tt.ft_amount,side:a.side}}let{vault:s}=await this.getVaultAndPool(a.vault_id),et=B.get_share_liquidity_by_amount(s,a.max_ft_amount);return await this.calculateWithdrawAmountFromOneSide({fix_amount_a:a.fix_amount_a,vault_id:a.vault_id,receive_amount:a.is_ft_input?"0":a.input_amount,slippage:a.slippage,maxLiquidity:et,removeLiquidity:a.is_ft_input?B.get_share_liquidity_by_amount(s,a.input_amount):void 0},!0)}async calculateWithdrawAmountFromOneSide(a,s,et){try{let{vault_id:tt,removeLiquidity:at,maxLiquidity:ct}=a,{vault:ut,pool:bt}=await this.getVaultAndPool(tt),{position:wt}=ut,Et=wt.tick_lower_index,Ft=wt.tick_upper_index,jt=at===ct,Lt=B.calculateDepositRatio(Et,Ft,new bnExports.BN(bt.current_sqrt_price)),Ut=a.fix_amount_a?Lt.ratioA:Lt.ratioB,Vt=y(a.receive_amount).mul(Ut),Yt,er;if(at){let Sr=x.tickIndexToSqrtPriceX64(Et),fr=x.tickIndexToSqrtPriceX64(Ft),vr=M$1.getCoinAmountFromLiquidity(new bnExports.BN(at),new bnExports.BN(bt.current_sqrt_price),Sr,fr,!1);er=at,Yt=a.fix_amount_a?vr.coinB.toString():vr.coinA.toString(),Vt=a.fix_amount_a?y(vr.coinA.toString()):y(vr.coinB.toString())}else{let Sr=M$1.estLiquidityAndcoinAmountFromOneAmounts(Et,Ft,new bnExports.BN(Vt.toFixed(0)),a.fix_amount_a,!1,a.slippage,new bnExports.BN(bt.current_sqrt_price));er=Sr.liquidityAmount.toString(),Yt=a.fix_amount_a?Sr.coinAmountB.toString():Sr.coinAmountA.toString()}let tr=!a.fix_amount_a,nr=await this.findRouters(bt.poolAddress,bt.current_sqrt_price.toString(),a.fix_amount_a?bt.coinTypeB:bt.coinTypeA,a.fix_amount_a?bt.coinTypeA:bt.coinTypeB,y(Yt),!0,[bt.poolAddress],{poolID:bt.poolAddress,ticklower:Et,tickUpper:Ft,deltaLiquidity:Number(er)}),ir=Vt.add(nr.amount_out),lr=y(a.receive_amount),pr=lr.sub(ir);if(!jt&&(!a.removeLiquidity||a.removeLiquidity&&et)&&pr.abs().greaterThan(lr.mul(.01))){let Sr=ir.lessThan(lr),fr,vr;et?Sr?(fr=y(er),vr=et.right):(fr=et.left,vr=y(er)):(fr=y(Sr?er:0),vr=y(Sr?a.maxLiquidity:er));let or=y(fr).add(vr).div(2).toFixed(0);if(!et||et&&et.count<15&&fr<vr)return await this.calculateWithdrawAmountFromOneSide({...a,removeLiquidity:or},s,{left:fr,right:vr,count:et?et.count+1:0})}let yr=nr.amount_in&&nr.fee_amount?new bnExports.BN(nr.amount_in).add(new bnExports.BN(nr.fee_amount)).toString():nr.amount_in,br=nr.amount_out,{is_exceed:xr}=nr,Er=B.get_lp_amount_by_liquidity(ut,er.toString());return{side:"oneSide",...await this.estLiquidityAmountFromFtAmount({vault_id:tt,input_ft_amount:Er,slippage:a.slippage}),burn_ft_amount:Er,request_id:a.receive_amount,swap_result:{swap_in_amount:yr,swap_out_amount:br,a2b:tr,is_exceed:xr,sui_stake_protocol:"Cetus",route_obj:nr.route_obj}}}catch(tt){if(s&&(String(tt)==="Error: route unavailable"||String(tt)==="Error: router timeout"))return await this.calculateWithdrawAmountFromOneSide(a,!1);throw tt}}async calculateDepositAmountFromOneSide(a,s,et=!1,tt=!0,at=5,ct=.02){try{let{vault_id:ut,input_amount:bt,fix_amount_a:wt,slippage:Et}=a,{vault:Ft,pool:jt}=await this.getVaultAndPool(ut),{position:Lt}=Ft,Ut=Lt.tick_lower_index,Vt=Lt.tick_upper_index,Yt=x.sqrtPriceX64ToTickIndex(new bnExports.BN(jt.current_sqrt_price)),{ratioA:er,ratioB:tr}=B.calculateDepositRatio(Ut,Vt,new bnExports.BN(jt.current_sqrt_price)),nr=y(bt).mul(wt?er:tr),ir=y(bt).sub(nr),lr=wt;if(ir.toFixed(0)==="0")return await this.calculateAmountFromBoth(a,!0);let pr,yr,br,xr,Er,$r=this.findSuiStakeProtocol(Lt.coinTypeA,Lt.coinTypeB,wt);if($r!=="Cetus")pr=await this.calculateStakeDepositFixSui({inputSuiAmount:y(a.input_amount),swapSuiAmount:ir,lowerTick:Ut,upperTick:Vt,curSqrtPrice:jt.current_sqrt_price.toString(),remainRate:.01,fixCoinA:a.fix_amount_a,rebalanceCount:0,shouldRequestStake:s,leftSuiAmount:lr?new Decimal$1(ir.toFixed(0)):new Decimal$1(0),rightSuiAmount:lr?new Decimal$1(a.input_amount):new Decimal$1(ir.toFixed(0)),stakeProtocol:$r}),yr=jt.current_sqrt_price.toString(),br=pr.fixAmountA,xr=pr.swapInAmount,Er=pr.swapOutAmount;else{pr=await this.findRouters(jt.poolAddress,jt.current_sqrt_price.toString(),lr?jt.coinTypeA:jt.coinTypeB,lr?jt.coinTypeB:jt.coinTypeA,ir,!0,[jt.poolAddress]);let ar=this.paresSwapData(pr,a.input_amount,a.fix_amount_a,lr,Ut,Vt,er,tr),sr=y(a.input_amount).mul(ct);if(y(a.input_amount).sub(ar.preAmountTotal).gt(sr)){let dr={clmm_pool:jt.poolAddress,curSqrtPrice:jt.current_sqrt_price.toString(),a2b:lr,amount_a:y(lr?bt:0),amount_b:y(lr?0:a.input_amount),amount_left:y(lr?ir.toFixed(0):0),amount_right:y(lr?bt:ir.toFixed(0)),lowerTick:Ut,upperTick:Vt,tick_spacing:2,coinTypeA:Lt.coinTypeA,coinTypeB:Lt.coinTypeB,remainRate:.02,priceSplitPoint:Et,useRoute:tt,maxLoopLimit:at};pr=et&&Yt<=Vt?await this.calculateRebalance(dr):await this.findRouters(jt.poolAddress,jt.current_sqrt_price.toString(),lr?jt.coinTypeA:jt.coinTypeB,lr?jt.coinTypeB:jt.coinTypeA,ir,!0,[jt.poolAddress])}yr=pr.after_sqrt_price,ar=this.paresSwapData(pr,a.input_amount,a.fix_amount_a,lr,Ut,Vt,er,tr),br=ar.fixAmountA,xr=ar.swapInAmount,Er=ar.swapOutAmount,yr=ar.afterSqrtPrice}let Sr=br===wt?y(bt).sub(xr).toFixed(0):Er,fr=M$1.estLiquidityAndcoinAmountFromOneAmounts(Ut,Vt,new bnExports.BN(Sr),br,!0,Et,new bnExports.BN(yr)),vr=fr.coinAmountA.toString(),or=fr.coinAmountB.toString(),rr=B.get_lp_amount_by_liquidity(Ft,fr.liquidityAmount.toString());return{request_id:a.input_amount,side:"oneSide",amount_a:vr,amount_b:or,amount_limit_a:fr.tokenMaxA.toString(),amount_limit_b:fr.tokenMaxB.toString(),ft_amount:rr,fix_amount_a:br,swap_result:{swap_in_amount:xr,swap_out_amount:Er,a2b:wt,sui_stake_protocol:$r,route_obj:pr.route_obj,is_exceed:pr.is_exceed,afterSqrtPrice:yr}}}catch(ut){if(tt&&(String(ut)==="Error: route unavailable"||String(ut)==="Error: router timeout"))return await this.calculateDepositAmountFromOneSide(a,s,!1);throw ut}}paresSwapData(a,s,et,tt,at,ct,ut,bt){let wt=a.after_sqrt_price,Et=x.sqrtPriceX64ToTickIndex(new bnExports.BN(wt)),{ratioA:Ft,ratioB:jt}=B.calculateDepositRatio(at,ct,new bnExports.BN(wt)),Lt=jt.div(Ft).sub(bt.div(ut)).greaterThan("0"),Ut=a.amount_in&&a.fee_amount?new bnExports.BN(a.amount_in).add(new bnExports.BN(a.fee_amount)).toString():a.amount_in,Vt=a.amount_out,Yt=Lt===tt?new bnExports.BN(y(s).sub(Ut).toString()):new bnExports.BN(Vt),er=y(s);if(Et<at)Lt=!0;else if(Et>ct)Lt=!1;else{let tr=M$1.estLiquidityAndcoinAmountFromOneAmounts(at,ct,Yt,Lt,!0,0,new bnExports.BN(wt)),nr=tr.coinAmountA,ir=tr.coinAmountB;er=y(et?nr.toString():ir.toString()).add(Ut),er.greaterThanOrEqualTo(s)&&(Lt=!Lt)}return{preAmountTotal:er,fixAmountA:Lt,swapInAmount:Ut,swapOutAmount:Vt,afterSqrtPrice:wt}}async calculateStakeDepositFixSui(a){let s=a.inputSuiAmount.mul(a.remainRate),et=a.inputSuiAmount.sub(a.swapSuiAmount),tt;a.shouldRequestStake?tt=await this.getExchangeRateForStake(a.stakeProtocol,a.shouldRequestStake,Number(a.swapSuiAmount.toFixed(0))):tt=a.exchangeRate?a.exchangeRate:await this.getExchangeRateForStake(a.stakeProtocol,a.shouldRequestStake,Number(a.swapSuiAmount.toFixed(0)));let at=a.swapSuiAmount.div(tt).toFixed(0,Decimal$1.ROUND_DOWN),ct=M$1.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,new bnExports.BN(at.toString()),!a.fixCoinA,!0,0,new bnExports.BN(a.curSqrtPrice)),ut=a.fixCoinA?ct.coinAmountA.toString():ct.coinAmountB.toString(),bt=y(et).sub(ut);return bt.greaterThanOrEqualTo(0)&&bt.lessThanOrEqualTo(s)||a.rebalanceCount>12||a.leftSuiAmount.greaterThanOrEqualTo(a.rightSuiAmount)?{swapInAmount:a.swapSuiAmount.toFixed(0),swapOutAmount:at,afterSqrtPrice:a.curSqrtPrice,fixAmountA:!a.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:a.stakeProtocol}:bt.lessThan(0)?await this.calculateStakeDepositFixSui({...a,rightSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.leftSuiAmount).div(2),exchangeRate:tt,rebalanceCount:a.rebalanceCount+1}):bt.greaterThan(s)?await this.calculateStakeDepositFixSui({...a,leftSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.rightSuiAmount).div(2),exchangeRate:tt,rebalanceCount:a.rebalanceCount+1}):null}async getExchangeRateForStake(a,s,et){return a==="Haedal"?await Ae.getExchangeRateForStake(this._sdk,s,et):a==="Volo"?await ve.getExchangeRateForStake(this._sdk,s,et):a==="aftermath"?await Ce.getExchangeRateForStake(this._sdk,s,et):"0"}async findRouters(a,s,et,tt,at,ct,ut,bt,wt=!1){var Ut,Vt;let{aggregator:Et}=this._sdk.sdkOptions,Ft=`${Et.walletAddress}_getAggregatorClient`,jt=this.getCache(Ft,wt),Lt;if(jt!==void 0)Lt=jt;else{let Yt=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});Lt=new AggregatorClient22({endpoint:Et.endPoint,signer:Et.walletAddress,client:Yt,env:Et.env,pythUrls:Et.pythUrls})}try{let Yt={from:et,target:tt,amount:new bnExports.BN(at.toFixed(0).toString()),byAmountIn:ct,depth:3,providers:Et.providers};bt&&bt.poolID&&(Yt.liquidityChanges=[bt]);let er=await Lt.findRouters(Yt);if(((Ut=er==null?void 0:er.error)==null?void 0:Ut.code)===10001)return{...er,is_exceed:er.insufficientLiquidity};if(er!=null&&er.insufficientLiquidity)return{...er,is_exceed:er.insufficientLiquidity};if(!(er!=null&&er.routes)||((Vt=er==null?void 0:er.routes)==null?void 0:Vt.length)===0)throw Error("Aggregator no router");let tr=s;return er.routes.forEach(nr=>{let ir=nr.path.find(lr=>lr.id.toLowerCase()===a.toLowerCase());ir&&ir.extendedDetails&&ir.extendedDetails.afterSqrtPrice&&(tr=String(ir.extendedDetails.afterSqrtPrice))}),{amount_in:er.amountIn.toString(),amount_out:er.amountOut.toString(),is_exceed:er.insufficientLiquidity,after_sqrt_price:tr,route_obj:er,byAmountIn:!0,liquidity:bt==null?void 0:bt.deltaLiquidity,originRes:er}}catch{try{if(ut){let Yt=await Lt.swapInPools({from:et,target:tt,amount:new bnExports.BN(at.toFixed(0).toString()),byAmountIn:ct,pools:ut});if(Yt){let er=s;return Yt.routeData.routes.forEach(tr=>{let nr=tr.path.find(ir=>ir.id.toLowerCase()===a.toLowerCase());nr&&(er=String(nr.extendedDetails.afterSqrtPrice))}),{amount_in:Yt.routeData.amountIn.toString(),amount_out:Yt.routeData.amountOut.toString(),is_exceed:Yt.isExceed,after_sqrt_price:er,route_obj:Yt.routeData,byAmountIn:!0,liquidity:bt==null?void 0:bt.deltaLiquidity,originRes:Yt}}return null}return null}catch{return null}}}async calculateRebalance(a){let{clmm_pool:s,a2b:et,curSqrtPrice:tt,amount_a:at,amount_b:ct,lowerTick:ut,upperTick:bt,amount_left:wt,amount_right:Et,coinTypeA:Ft,coinTypeB:jt,useRoute:Lt,priceSplitPoint:Ut,remainRate:Vt,maxLoopLimit:Yt=5}=a,er=async(tr,nr,ir)=>{let lr=tr.plus(nr).div(2),pr=await this.findRouters(s,tt,Ft,jt,lr,et,[s]);if(pr.amount_out==="0")return pr;if(pr.after_sqrt_price||(pr.after_sqrt_price=a.curSqrtPrice),pr.is_exceed)return nr=lr,er(tr,nr,ir+1);let yr=et?at.sub(pr.amount_in):at.add(pr.amount_out),br=et?ct.add(pr.amount_out):ct.sub(pr.amount_in),xr=M$1.estLiquidityAndcoinAmountFromOneAmounts(ut,bt,new bnExports.BN(yr.toString()),!0,!0,1,new bnExports.BN(pr.after_sqrt_price)),Er=new Decimal$1(xr.coinAmountA.toString()),$r=new Decimal$1(xr.coinAmountB.toString());if(Er.toString()!==yr.toString())throw new Error("usedA does not match afterA");if(br.lessThan($r))et?tr=lr:nr=lr;else{et?nr=lr:tr=lr;let Sr=br.sub($r);if(br.mul(Vt).sub(Sr).greaterThanOrEqualTo(0)||ir>=Yt)return{...pr,remainingB:Sr}}return tr.greaterThan(nr)||nr.sub(tr).lessThan(10)?pr:er(tr,nr,ir+1)};return wt.greaterThanOrEqualTo(Et)?er(new Decimal$1(0),wt,0):er(wt,Et,0)}async calculateAmountFromBoth(a,s){let{vault_id:et,input_amount:tt,fix_amount_a:at,slippage:ct}=a,{vault:ut,pool:bt}=await this.getVaultAndPool(et),{position:wt}=ut,Et=wt.tick_lower_index,Ft=wt.tick_upper_index,jt=M$1.estLiquidityAndcoinAmountFromOneAmounts(Et,Ft,new bnExports.BN(tt),at,s,ct,new bnExports.BN(bt.current_sqrt_price)),Lt=B.get_lp_amount_by_liquidity(ut,jt.liquidityAmount.toString());return{request_id:a.input_amount,amount_a:jt.coinAmountA.toString(),amount_b:jt.coinAmountB.toString(),amount_limit_a:jt.tokenMaxA.toString(),amount_limit_b:jt.tokenMaxB.toString(),ft_amount:Lt,fix_amount_a:at,side:"both"}}async estLiquidityAmountFromFtAmount(a){let{vault_id:s,input_ft_amount:et,slippage:tt}=a,{vault:at,pool:ct}=await this.getVaultAndPool(s),{position:ut}=at,bt=ut.tick_lower_index,wt=ut.tick_upper_index,Et=x.tickIndexToSqrtPriceX64(bt),Ft=x.tickIndexToSqrtPriceX64(wt),jt=new bnExports.BN(et),Lt=B.get_share_liquidity_by_amount(at,jt.toString()),Ut=new bnExports.BN(ct.current_sqrt_price),Vt=M$1.getCoinAmountFromLiquidity(new bnExports.BN(Lt),Ut,Et,Ft,!1),Yt=y(Vt.coinA.toString()).mul(y(1-tt)),er=y(Vt.coinB.toString()).mul(y(1-tt));return{amount_a:Vt.coinA.toString(),amount_b:Vt.coinB.toString(),amount_limit_a:Yt.toFixed(0),amount_limit_b:er.toFixed(0)}}async deposit(a){let{vault_id:s}=a,{vault:et,pool:tt}=await this.getVaultAndPool(s,!0),at=await this.calculateDepositAmount(a,!0,!0),ct=new Transaction,ut,bt;if(a.side==="oneSide"&&at.swap_result){let Ft=await this.handleDepositSwap({...at,coinTypeA:tt.coinTypeA,coinTypeB:tt.coinTypeB,slippage:a.slippage,clmm_pool:tt.poolAddress},ct);ut=Ft.primaryCoinAInputs,bt=Ft.primaryCoinBInputs}let{amount_a:wt,amount_b:Et}=at;return a.side==="oneSide"&&a.fix_amount_a&&(wt=y(at.amount_a).mul(y(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString(),Et=y(at.amount_b).mul(y(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString()),await this.depositInternal({coinTypeA:tt.coinTypeA,coinTypeB:tt.coinTypeB,lp_token_type:et.lp_token_type,farming_pool:et.position.pool_id,clmm_pool:tt.poolAddress,primaryCoinAInputs:ut,primaryCoinBInputs:bt,vault_id:s,slippage:a.slippage,amount_a:at.fix_amount_a?wt:at.amount_limit_a,amount_b:at.fix_amount_a?at.amount_limit_b:Et,fix_amount_a:at.fix_amount_a},ct),ct}async handleDepositSwap(a,s){let et=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress),{clmm_pool:tt,integrate:at}=this._sdk.sdkOptions,{swap_in_amount:ct,a2b:ut,sui_stake_protocol:bt,route_obj:wt}=a.swap_result,Et=ut?a.coinTypeA:a.coinTypeB,Ft=z$1.buildCoinForAmount(s,et,BigInt(ct),Et,!1,!0),jt=BigInt(Ft.tragetCoinAmount)-BigInt(ct),Lt=[];if(bt!=="Cetus"){let tr=this.requestStakeCoin(bt,s,Ft.targetCoin),nr=z$1.buildCoinForAmount(s,Ft.remainCoins,BigInt(0),Et,!1).targetCoin;Lt=ut?[nr,tr]:[tr,nr]}else if(wt){let tr={routers:wt,inputCoin:Ft.targetCoin,slippage:a.slippage,txb:s,partner:a.partner},{aggregator:nr}=this._sdk.sdkOptions,ir=`${nr.walletAddress}_getAggregatorClient`,lr=this.getCache(ir,!1),pr;if(lr!==void 0)pr=lr;else{let br=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});pr=new AggregatorClient22({endpoint:nr.endPoint,signer:nr.walletAddress,client:br,env:nr.env,pythUrls:nr.pythUrls})}let yr=await pr.fixableRouterSwap(tr);Lt=ut?[Ft.originalSplitedCoin,yr]:[yr,Ft.originalSplitedCoin]}else{let tr=z$1.buildCoinForAmount(s,et,0n,ut?a.coinTypeB:a.coinTypeA,!1),nr=ne.getDefaultSqrtPriceLimit(ut).toString();Lt=s.moveCall({target:`${at.published_at}::${Je}::swap`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[s.object($(tt).global_config_id),s.object(a.clmm_pool),ut?Ft.targetCoin:tr.targetCoin,ut?tr.targetCoin:Ft.targetCoin,s.pure.bool(ut),s.pure.bool(!0),s.pure.u64(ct),s.pure.u128(nr),s.pure.bool(!1),s.object(ye$1)]})}let Ut,Vt,Yt=Lt[0],er=Lt[1];if(ut){let tr=BigInt(a.amount_a)-jt;I.isSuiCoin(Et)?(wt||s.transferObjects([Yt],s.pure.address(this._sdk.getVerifySenderAddress())),Ut=s.splitCoins(s.gas,[s.pure.u64(a.amount_a)])):tr>0n?Ut=this.buildCoinInput(s,Ft.remainCoins,Et,tr,Yt).coinInput:Ut=Yt,Vt=er}else{Ut=Yt;let tr=BigInt(a.amount_b)-jt;I.isSuiCoin(Et)?(wt||s.transferObjects([er],s.pure.address(this._sdk.getVerifySenderAddress())),Vt=s.splitCoins(s.gas,[s.pure.u64(a.amount_b)])):tr>0n?Vt=this.buildCoinInput(s,Ft.remainCoins,Et,tr,er).coinInput:Vt=er}return{primaryCoinAInputs:Ut,primaryCoinBInputs:Vt}}requestStakeCoin(a,s,et){if(a==="Haedal")return Ae.requestStakeCoin(this._sdk,s,et);if(a==="Volo")return ve.requestStakeCoin(this._sdk,s,et);if(a==="aftermath")return Ce.requestStakeCoin(this._sdk,s,et)}async depositInternal(a,s){var Ft,jt;let{vaults:et,frams:tt,clmm_pool:at}=this._sdk.sdkOptions,ct=$(et),ut=$(tt),bt=$(at),{primaryCoinAInputs:wt,primaryCoinBInputs:Et}=a;if(wt===void 0||Et===void 0){let Lt=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress);wt=(Ft=z$1.buildAddLiquidityFixTokenCoinInput(s,!a.fix_amount_a,a.amount_a,a.slippage,a.coinTypeA,Lt,!1))==null?void 0:Ft.targetCoin,Et=(jt=z$1.buildAddLiquidityFixTokenCoinInput(s,a.fix_amount_a,a.amount_b,a.slippage,a.coinTypeB,Lt,!1))==null?void 0:jt.targetCoin}s.moveCall({target:`${et.published_at}::${It}::deposit`,typeArguments:[a.coinTypeA,a.coinTypeB,a.lp_token_type],arguments:[s.object(ct.vaults_manager_id),s.object(a.vault_id),s.object(ut.rewarder_manager_id),s.object(ut.global_config_id),s.object(a.farming_pool),s.object(bt.global_config_id),s.object(a.clmm_pool),wt,Et,s.pure.u64(a.amount_a),s.pure.u64(a.amount_b),s.pure.bool(a.fix_amount_a),s.object(ye$1)]})}async withdraw(a){let s="is_ft_input"in a,{vault:et,pool:tt}=await this.getVaultAndPool(a.vault_id,!0),at=new Transaction,ct,ut,bt,wt;if(s)wt=await this._sdk.Vaults.calculateWithdrawAmount({...a,side:"oneSide"}),ut=wt.amount_limit_a,bt=wt.amount_limit_b,ct=a.is_ft_input?a.input_amount:wt.burn_ft_amount;else{let{vault_id:jt,ft_amount:Lt,slippage:Ut}=a;ct=Lt;let Vt=await this.estLiquidityAmountFromFtAmount({vault_id:jt,input_ft_amount:Lt,slippage:Ut});ut=Vt.amount_limit_a,bt=Vt.amount_limit_b}let{reciveCoinA:Et,reciveCoinB:Ft}=await this.withdrawInternal({coinTypeA:tt.coinTypeA,coinTypeB:tt.coinTypeB,lp_token_type:et.lp_token_type,farming_pool:et.position.pool_id,clmm_pool:tt.poolAddress,min_amount_a:ut,min_amount_b:bt,vault_id:a.vault_id,ft_amount:ct},at);if(s&&wt){let{a2b:jt,swap_in_amount:Lt,route_obj:Ut}=wt.swap_result;if(Ut){let Vt={targetCoin:jt?Et:Ft},Yt={routers:Ut,inputCoin:Vt.targetCoin,slippage:a.slippage,txb:at,partner:a.partner},{aggregator:er}=this._sdk.sdkOptions,tr=`${er.walletAddress}_getAggregatorClient`,nr=this.getCache(tr,!1),ir;if(nr!==void 0)ir=nr;else{let yr=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});ir=new AggregatorClient22({endpoint:er.endPoint,signer:er.walletAddress,client:yr,env:er.env,pythUrls:er.pythUrls})}let lr=await ir.fixableRouterSwap(Yt),pr=jt?[Vt.targetCoin,lr]:[lr,Vt.targetCoin];jt?at.mergeCoins(pr[1],[Ft]):at.mergeCoins(pr[0],[Et]),at.transferObjects([lr],at.pure.address(this._sdk.getVerifySenderAddress()))}else{let{clmm_pool:Vt,integrate:Yt}=this._sdk.sdkOptions,er=ne.getDefaultSqrtPriceLimit(jt).toString(),tr=at.moveCall({target:`${Yt.published_at}::${Je}::swap`,typeArguments:[tt.coinTypeA,tt.coinTypeB],arguments:[at.object($(Vt).global_config_id),at.object(tt.poolAddress),Et,Ft,at.pure.bool(jt),at.pure.bool(!0),at.pure.u64(Lt),at.pure.u128(er),at.pure.bool(!0),at.object(ye$1)]});at.transferObjects([tr[0],tr[1]],at.pure.address(this._sdk.senderAddress))}}else at.transferObjects([Et,Ft],at.pure.address(this._sdk.senderAddress));return at}async withdrawInternal(a,s){let{vaults:et,frams:tt,clmm_pool:at}=this._sdk.sdkOptions,ct=$(et),ut=$(tt),bt=$(at),{primaryCoinInputs:wt}=a;if(wt===void 0){let jt=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,a.lp_token_type);wt=z$1.buildCoinForAmount(s,jt,BigInt(a.ft_amount),a.lp_token_type,!1,!0).targetCoin}let Et=[a.coinTypeA,a.coinTypeB,a.lp_token_type],Ft=s.moveCall({target:`${et.published_at}::${xt}::remove`,typeArguments:Et,arguments:[s.object(ct.vaults_manager_id),s.object(a.vault_id),s.object(ut.rewarder_manager_id),s.object(ut.global_config_id),s.object(a.farming_pool),s.object(bt.global_config_id),s.object(a.clmm_pool),wt,s.pure.u64(a.ft_amount),s.pure.u64(a.min_amount_a),s.pure.u64(a.min_amount_b),s.object(ye$1)]});return s.transferObjects([wt],s.pure.address(this._sdk.senderAddress)),{reciveCoinA:Ft[0],reciveCoinB:Ft[1]}}async getVaultAndPool(a,s=!1){let et=await this.sdk.Vaults.getVault(a);if(et===void 0)throw new Error("please check config and vault id");let tt=await this._sdk.Pool.getPool(et.pool_id,s);return{vault:et,pool:tt}}async getVaultList(a="all"){let{vaults_pool_handle:s}=$(this._sdk.sdkOptions.vaults),et=await this._sdk.fullClient.getDynamicFields({parentId:s}),tt=et.data.map(ut=>ut.name.value),at=await this._sdk.fullClient.batchGetObjects(tt,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),ct=[];return at.forEach(ut=>{let bt=B.buildPool(ut);bt&&(bt.stake_protocol=this.findStakeProtocol(bt.position.coinTypeA,bt.position.coinTypeB),this.savePoolToCache(bt),ct.push(bt))}),et.data=ct,et}findStakeProtocol(a,s){let{haedal:et,volo:tt,aftermath:at}=$(this._sdk.sdkOptions.vaults),ct=P(a).full_address,ut=P(s).full_address;if(I.isSuiCoin(ct)||I.isSuiCoin(ut)){if(et){let bt=P($(et).coin_type).full_address;if(ct===bt||ut===bt)return"Haedal"}if(tt){let bt=P($(tt).coin_type).full_address;if(ct===bt||ut===bt)return"Volo"}if(at){let bt=P($(at).coin_type).full_address;if(ct===bt||ut===bt)return"aftermath"}}}async getVault(a,s=!1){let et=this.readPoolFromCache(a,s);if(et)return et;try{let tt=await this._sdk.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),at=B.buildPool(tt);if(at)return this.savePoolToCache(at),at}catch(tt){console.log(tt)}}savePoolToCache(a){let s=`${a.id}_mirrorPool`;this.updateCache(s,a,ee)}readPoolFromCache(a,s=!1){let et=`${a}_mirrorPool`;return this.getCache(et,s)}findSuiStakeProtocol(a,s,et){let{haedal:tt,volo:at,aftermath:ct}=$(this._sdk.sdkOptions.vaults),ut=P(a).full_address,bt=P(s).full_address;if(I.isSuiCoin(ut)&&et||I.isSuiCoin(bt)&&!et){if(tt){let wt=P($(tt).coin_type).full_address;if(ut===wt||bt===wt)return"Haedal"}if(at){let wt=P($(at).coin_type).full_address;if(ut===wt||bt===wt)return"Volo"}if(ct){let wt=P($(ct).coin_type).full_address;if(ut===wt||bt===wt)return"aftermath"}}return"Cetus"}buildCoinInput(a,s,et,tt,at){let{selectedCoins:ct,remainingCoins:ut}=I.selectCoinAssetGreaterThanOrEqual(s,BigInt(tt)),bt=I.calculateTotalBalance(ct);if(bt<BigInt(tt))throw new Error(`The amount(${bt}) is Insufficient balance for ${et} , expect ${tt} `);let wt=bt-BigInt(tt),Et;if(I.isSuiCoin(et))Et=a.splitCoins(a.gas,[a.pure.u64(tt)]);else{let[Ft,...jt]=ct.map(Lt=>Lt.coinObjectId);Et=a.object(Ft),jt.length>0?at?a.mergeCoins(Et,[...jt.map(Lt=>a.object(Lt)),at]):a.mergeCoins(Et,[...jt.map(Lt=>a.object(Lt))]):at&&a.mergeCoins(Et,[at])}return{selectedUnusedAmount:wt,coinInput:Et,remainingCoins:ut}}async getVaultsConfigs(a=!1){let{package_id:s}=this._sdk.sdkOptions.vaults,et=`${s}_getMirrorPoolConfigs`,tt=this.getCache(et,a);if(tt!==void 0)return tt;let at=(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::vaults::InitEvent`})).data,ct={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(at.length>0){for(let ut of at){let bt=ut.parsedJson;ct.admin_cap_id=bt.admin_cap_id,ct.vaults_manager_id=bt.manager_id;let wt=await this._sdk.fullClient.getObject({id:ct.vaults_manager_id,options:{showContent:!0}}),Et=se$1(wt);ct.vaults_pool_handle=Et.vault_to_pool_maps.fields.id.id;break}this.updateCache(et,ct,ee)}return ct}updateCache(a,s,et=ee){let tt=this._cache[a];tt?(tt.overdueTime=oe(et),tt.value=s):tt=new _e$1(s,oe(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a];if(!s&&(et!=null&&et.isValid()))return et.value;delete this._cache[a]}},Fe=class{constructor(a){dn(this,"_sdk");dn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPoolImmutables(a=[],s=0,et=100,tt=!1){let{package_id:at}=this._sdk.sdkOptions.clmm_pool,ct=`${at}_getInitPoolEvent`,ut=this.getCache(ct,tt),bt=[],wt=[];if(ut!==void 0&&bt.push(...ut),bt.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${at}::factory::CreatePoolEvent`})).data.forEach(Ft=>{let jt=Ft.parsedJson;jt&&bt.push({poolAddress:jt.pool_id,tickSpacing:jt.tick_spacing,coinTypeA:P(jt.coin_type_a).full_address,coinTypeB:P(jt.coin_type_b).full_address})}),this.updateCache(ct,bt,ee)}catch(Ft){console.log("getPoolImmutables",Ft)}let Et=a.length>0;for(let Ft=0;Ft<bt.length;Ft+=1){let jt=bt[Ft];Et&&!a.includes(jt.poolAddress)||!Et&&(Ft<s||Ft>=s+et)||wt.push(jt)}return wt}async getPools(a=[],s=0,et=100){var ut,bt,wt;let tt=[],at=[];a.length>0?at=[...a]:(await this.getPoolImmutables([],s,et,!1)).forEach(Et=>at.push(Et.poolAddress));let ct=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(let Et of ct){if(Et.error!=null||((bt=(ut=Et.data)==null?void 0:ut.content)==null?void 0:bt.dataType)!=="moveObject")throw new Z(`getPools error code: ${((wt=Et.error)==null?void 0:wt.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");let Ft=We(Et);tt.push(Ft);let jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,ee)}return tt}async getPool(a,s=!0){var ut,bt,wt;let et=`${a}_getPoolObject`,tt=this.getCache(et,s);if(tt!==void 0)return tt;let at=await this._sdk.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if(at.error!=null||((bt=(ut=at.data)==null?void 0:ut.content)==null?void 0:bt.dataType)!=="moveObject")throw new Z(`getPool error code: ${((wt=at.error)==null?void 0:wt.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");let ct=We(at);return this.updateCache(et,ct),ct}async getSuiTransactionResponse(a,s=!1){let et=`${a}_getSuiTransactionResponse`,tt=this.getCache(et,s);if(tt!==void 0)return tt;let at;try{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{at=await this._sdk.fullClient.getTransactionBlock({digest:a,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(et,at,ee),at}updateCache(a,s,et=yt){let tt=this._cache[a];tt?(tt.overdueTime=oe(et),tt.value=s):tt=new _e$1(s,oe(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}},Ee=class extends SuiClient{async queryEventsByPage(a,s="all"){let et=[],tt=!0,at=s==="all",ct=at?null:s.cursor;do{let ut=await this.queryEvents({query:a,cursor:ct,limit:at?null:s.limit});ut.data?(et=[...et,...ut.data],tt=ut.hasNextPage,ct=ut.nextCursor):tt=!1}while(at&&tt);return{data:et,nextCursor:ct,hasNextPage:tt}}async getOwnedObjectsByPage(a,s,et="all"){let tt=[],at=!0,ct=et==="all",ut=ct?null:et.cursor;do{let bt=await this.getOwnedObjects({owner:a,...s,cursor:ut,limit:ct?null:et.limit});bt.data?(tt=[...tt,...bt.data],at=bt.hasNextPage,ut=bt.nextCursor):at=!1}while(ct&&at);return{data:tt,nextCursor:ut,hasNextPage:at}}async getDynamicFieldsByPage(a,s="all"){let et=[],tt=!0,at=s==="all",ct=at?null:s.cursor;do{let ut=await this.getDynamicFields({parentId:a,cursor:ct,limit:at?null:s.limit});ut.data?(et=[...et,...ut.data],tt=ut.hasNextPage,ct=ut.nextCursor):tt=!1}while(at&&tt);return{data:et,nextCursor:ct,hasNextPage:tt}}async batchGetObjects(a,s,et=50){let tt=[];try{for(let at=0;at<Math.ceil(a.length/et);at++){let ct=await this.multiGetObjects({ids:a.slice(at*et,et*(at+1)),options:s});tt=[...tt,...ct]}}catch(at){console.log(at)}return tt}async calculationTxGas(a){let{sender:s}=a.blockData;if(s===void 0)throw Error("sdk sender is empty");let et=await this.devInspectTransactionBlock({transactionBlock:a,sender:s}),{gasUsed:tt}=et.effects;return Number(tt.computationCost)+Number(tt.storageCost)-Number(tt.storageRebate)}async sendTransaction(a,s){try{return await this.signAndExecuteTransaction({transaction:s,signer:a,options:{showEffects:!0,showEvents:!0}})}catch(et){console.log("error: ",et)}}async sendSimulationTransaction(a,s,et=!0){try{if(et)return await this.devInspectTransactionBlock({transactionBlock:a,sender:s})}catch(tt){console.log("devInspectTransactionBlock error",tt)}}},ae=class{constructor(a){dn(this,"_cache",{});dn(this,"_rpcModule");dn(this,"_vaults");dn(this,"_sdkOptions");dn(this,"_senderAddress","");dn(this,"_pool");this._sdkOptions=a,this._rpcModule=new Ee({url:a.fullRpcUrl}),this._vaults=new De(this),this._pool=new Fe(this),Xe(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Vaults(){return this._vaults}get Pool(){return this._pool}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(a,s,et=!0){let tt=[],at=null,ct=`${this.sdkOptions.fullRpcUrl}_${a}_${s}_getOwnerCoinAssets`,ut=this.getCache(ct,et);if(ut)return ut;for(;;){let bt=await(s?this.fullClient.getCoins({owner:a,coinType:s,cursor:at}):this.fullClient.getAllCoins({owner:a,cursor:at}));if(bt.data.forEach(wt=>{BigInt(wt.balance)>0&&tt.push({coinAddress:P(wt.coinType).source_address,coinObjectId:wt.coinObjectId,balance:BigInt(wt.balance)})}),at=bt.nextCursor,!bt.hasNextPage)break}return this.updateCache(ct,tt,30*1e3),tt}async getOwnerCoinBalances(a,s){let et=[];return s?et=[await this.fullClient.getBalance({owner:a,coinType:s})]:et=[...await this.fullClient.getAllBalances({owner:a})],et}updateCache(a,s,et=ee){let tt=this._cache[a];tt?(tt.overdueTime=oe(et),tt.value=s):tt=new _e$1(s,oe(et)),this._cache[a]=tt}getCache(a,s=!1){let et=this._cache[a],tt=et==null?void 0:et.isValid();if(!s&&tt)return et.value;tt||delete this._cache[a]}};getFullnodeUrl("mainnet"),Env.Mainnet;getFullnodeUrl("testnet"),Env.Mainnet;/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

ss-linked-list/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-queue/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-stack/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/var R=10n;function z(a){let{fields:s,type:et}=a,{liquidity_range:tt,pool_id:at,wrapped_position:ct}=s.clmm_vault.fields,ut=ct.fields,bt={clmm_pool_id:at,liquidity_range:{lower_offset:tt.fields.lower_offset,rebalance_threshold:tt.fields.rebalance_threshold,upper_offset:tt.fields.upper_offset},wrapped_position:{coin_type_a:fixCoinType(ut.coin_type_a.fields.name,!1),coin_type_b:fixCoinType(ut.coin_type_b.fields.name,!1),description:ut.description,id:ut.id.id,index:ut.index,liquidity:ut.liquidity,name:ut.name,pool:ut.pool,tick_lower_index:asIntN(BigInt(ut.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(ut.tick_upper_index.fields.bits)),url:ut.url}},{balances:wt}=s.buffer_assets.fields,Et=wt.fields.contents.map(Ft=>{let{key:jt,value:Lt}=Ft.fields;return{coin_type:fixCoinType(jt.fields.name,!1),value:Lt}});return{id:s.id.id,is_pause:s.is_pause,clmm_vault:bt,lp_token_treasury:s.lp_token_treasury.fields.total_supply.fields.value,protocol_fees_handle:s.protocol_fees.fields.id.id,hard_cap:s.hard_cap,quote_type:extractStructTagFromType$1(s.quote_type.fields.name).full_address,lp_token_type:extractStructTagFromType$1(et).type_arguments[0],balances:Et,protocol_fee_rate:s.protocol_fee_rate}}function se(a,s){let et=d$3(a).div(s).toString(),tt=d$3(s).div(a).toString();return{quote_per_base:et,base_per_quote:tt}}function Oe(a,s,et,tt){let at=10n**(R+tt-et),ct=10n**(R+et-tt),ut=MathUtil.checkMulDivFloor(new BN(a.toString()),new BN(at.toString()),new BN(s.toString()),64),bt=MathUtil.checkMulDivFloor(new BN(s.toString()),new BN(ct.toString()),new BN(a.toString()),64);return{primitive_base_price:BigInt(ut.toString()),primitive_quote_price:BigInt(bt.toString())}}function J(a,s){let et=s?a[s].price:{coin_decimals:6,oracle_price:1000000000000000000000000n},tt=new BN("0");for(let[at,{price:ct,value:ut}]of Object.entries(a)){let{primitive_quote_price:bt}=Oe(BigInt(et.oracle_price),BigInt(ct.oracle_price),BigInt(et.coin_decimals),BigInt(ct.coin_decimals)),wt=MathUtil.checkMulDivFloor(new BN(bt.toString()),new BN(ut),new BN((BigInt(10)**R).toString()),64);tt=tt.add(wt)}return tt.toString()}async function ce(a,s,et,tt,at=!1){let{clmm_vault:ct,quote_type:ut}=s,{wrapped_position:bt}=ct,{tick_lower_index:wt,tick_upper_index:Et,liquidity:Ft}=bt,{current_sqrt_price:jt,coinTypeA:Lt,coinTypeB:Ut}=et,Vt=[...tt],Yt=ut&&fixCoinType(s.quote_type,!1),er=TickMath.tickIndexToSqrtPriceX64(wt),tr=TickMath.tickIndexToSqrtPriceX64(Et),{coinA:nr,coinB:ir}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Ft),new BN(jt),new BN(er),new BN(tr),!1);Vt.push({coin_type:Lt,value:nr.toString()}),Vt.push({coin_type:Ut,value:ir.toString()});let lr={};Vt.forEach(xr=>{let Er=fixCoinType(xr.coin_type,!1),$r=d$3(xr.value),Sr=lr[Er]||0;lr[Er]=$r.add(Sr).toString()});let pr=Object.entries(lr).filter(([xr,Er])=>d$3(Er).gt(0)).map(([xr])=>xr);if(Yt&&!pr.includes(Yt)&&pr.push(Yt),pr.length===0)return"0";let yr=await a.sdk.PythPrice.getLatestPrice(pr,at),br={};return pr.forEach(xr=>{let Er=yr[xr];if(Er)br[xr]={price:Er,value:lr[xr]||"0"};else throw Error(`find ${xr} price fail `)}),J(br,Yt).toString()}function de(a,s,et){return d$3(a).eq(0)?s:d$3(a).mul(s).div(et).toFixed(0,Decimal$1.ROUND_HALF_UP)}function q(a,s,et){return d$3(a).eq(0)?"0":d$3(s).mul(et).div(a).toFixed(0,Decimal$1.ROUND_HALF_UP)}function K(a,s){let{balances:et,lp_token_treasury:tt}=s,at={};return et.forEach(ct=>{let ut=q(tt,a,ct.value),bt={coin_type:ct.coin_type,value:ut};at[bt.coin_type]=bt}),at}function le(a,s,et,tt){var nr,ir;let{tick_lower_index:at,tick_upper_index:ct,coin_type_a:ut,coin_type_b:bt,liquidity:wt}=et.clmm_vault.wrapped_position,Et=q(et.lp_token_treasury,s,wt),Ft=TickMath.tickIndexToSqrtPriceX64(at),jt=TickMath.tickIndexToSqrtPriceX64(ct),Lt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Et),new BN(tt.current_sqrt_price),Ft,jt,!0),Ut=Lt.coinA.toString(),Vt=Lt.coinB.toString(),Yt=K(s,et);console.log("🚀 ~ buildVaultsBalance:",{share_buffer_assets:Yt,liquidity_amount_a:Ut,liquidity_amount_b:Vt,token_amount:s,pool:et});let er=d$3(Ut).add(((nr=Yt[ut])==null?void 0:nr.value)||"0").toFixed(0),tr=d$3(Vt).add(((ir=Yt[bt])==null?void 0:ir.value)||"0").toFixed(0);return{vault_id:et.id,clmm_pool_id:tt.poolAddress,owner:a,lp_token_type:et.lp_token_type,lp_token_balance:s,liquidity:Et,tick_lower_index:at,tick_upper_index:ct,amount_a:er,amount_b:tr,coin_type_a:ut,coin_type_b:bt}}function G(a,s,et){let tt=[];return s.forEach(at=>{d$3(at.value).gt(0)&&tt.push(at)}),et.forEach(at=>{d$3(at.value).gt(0)&&tt.push(at)}),a.balances.forEach(at=>{d$3(at.value).gt(0)&&tt.push(at)}),tt}function ue(a,s,et){let{coin_type_a:tt,coin_type_b:at}=a.clmm_vault.wrapped_position,ct=G(a,s,et),ut=new Set;return ct.forEach(bt=>ut.add(bt.coin_type)),ut.add(tt),ut.add(at),Array.from(ut)}function pe(a,s){if(!R)throw new Error("oraclePriceMultiplierDecimal is required");if(a===0n)throw new Error("Invalid oracle price");if(s<0n){let et=10n**(R- -s);return a*et}return a/10n**(s+R)}function _e(a){return`0x${Buffer$1.from(a).toString("hex")}`}var W=class{constructor(a){dn(this,"_sdk");this._sdk=a}get sdk(){return this._sdk}async getProtocolFeeRate(){let a="getProtocolFeeRate",s=this._sdk.getCache(a);if(s)return s;let{configs:et}=this._sdk.sdkOptions.vaults,tt=(await this._sdk.FullClient.getObject({id:et.global_config_id,options:{showContent:!0}})).data.content.fields.protocol_fee_rate;return this._sdk.updateCache(a,tt),tt}async getOwnerVaultsBalance(a,s){let{pool:et,clmmPool:tt}=await this.getVaultAndPool(s,!0),at=(await this._sdk.FullClient.getBalance({owner:a,coinType:et.lp_token_type})).totalBalance;return le(a,at,et,tt)}async getOwnerVaultsBalanceList(a){let{data:s}=await this.getPoolList(),et=[];for(let tt=0;tt<s.length;tt++){let at=await this.getOwnerVaultsBalance(a,s[tt].id);et.push(at)}return et}async getVaultsPositionRewarderAndFee(a){try{let{package_id:s}=this._sdk.sdkOptions.vaults,{pool:et,clmmPool:tt}=await this.getVaultAndPool(a,!1),at=`getVaultsPositionRewarderAndFee_${a}`,ct=this._sdk.getCache(at);if(ct)return ct;let{lp_token_type:ut}=et,{rewarder_infos:bt,poolAddress:wt,coinTypeA:Et,coinTypeB:Ft}=tt,jt=new Transaction;this.buildCollectRewardPayload({reward_coin_types:[...bt.map(tr=>tr.coinAddress)],lp_token_type:ut,pool_id:a,clmm_pool_id:wt,coin_type_a:Et,coin_type_b:Ft},jt),this.buildCollectFeePayload({lp_token_type:ut,pool_id:a,clmm_pool_id:wt,coin_type_a:Et,coin_type_b:Ft},jt);let Lt=await this._sdk.FullClient.sendSimulationTransaction(jt,normalizeSuiAddress$1("0x0")),Ut=`${s}::pool::FeeClaimedEvent`,Vt=`${s}::pool::RewardClaimedEvent`,Yt=[],er=[];return Lt==null||Lt.events.forEach(tr=>{let{parsedJson:nr,type:ir}=tr;ir===Ut&&(Yt.push({coin_type:fixCoinType(Et,!1),value:nr.amount_a}),Yt.push({coin_type:fixCoinType(Ft,!1),value:nr.amount_b})),ir===Vt&&er.push({coin_type:fixCoinType(nr.reward_type.name,!1),value:nr.amount})}),this._sdk.updateCache(at,{feeList:Yt,rewarderList:er},10*1e3),{feeList:Yt,rewarderList:er}}catch(s){console.log("🚀 ~ VaultsModule ~ getVaultsPositionRewarderAndFee ~ error:",s)}return{feeList:[],rewarderList:[]}}async getPoolList(a="all"){let s={data:[],hasNextPage:!1},{vaults:et}=this._sdk.sdkOptions,{FullClient:tt}=this._sdk,at=await tt.getDynamicFieldsByPage(et.configs.pools_handle,a),ct=at.data.map(ut=>ut.name.value);return ct.length>0&&((await tt.batchGetObjects(ct,{showContent:!0})).forEach(ut=>{let bt=z(ut.data.content);this._sdk.updateCache(`getPool_${bt.id}`,bt),s.data.push(bt)}),s.nextCursor=at.nextCursor,s.hasNextPage=at.hasNextPage),s}async getPool(a,s=!0){let et=`getPool_${a}`,tt=this._sdk.getCache(et,s);if(tt)return tt;let at=await this._sdk.FullClient.getObject({id:a,options:{showContent:!0}}),ct=z(at.data.content);return this._sdk.updateCache(et,ct),ct}buildCollectRewardPayload(a,s){let{coin_type_a:et,coin_type_b:tt,pool_id:at,clmm_pool_id:ct,lp_token_type:ut,reward_coin_types:bt}=a,{published_at:wt,configs:Et,clmm_configs:Ft}=this._sdk.sdkOptions.vaults;return s=s||new Transaction,bt.forEach(jt=>{s.moveCall({target:`${wt}::pool::collect_reward`,typeArguments:[et,tt,ut,jt],arguments:[s.object(at),s.object(Et.global_config_id),s.object(Ft.global_config_id),s.object(ct),s.object(Ft.global_vault_id),s.object(CLOCK_ADDRESS$1)]})}),s}buildCollectFeePayload(a,s){let{coin_type_a:et,coin_type_b:tt,pool_id:at,clmm_pool_id:ct,lp_token_type:ut}=a,{published_at:bt,configs:wt,clmm_configs:Et}=this._sdk.sdkOptions.vaults;return s=s||new Transaction,s.moveCall({target:`${bt}::pool::collect_fee`,typeArguments:[et,tt,ut],arguments:[s.object(at),s.object(wt.global_config_id),s.object(Et.global_config_id),s.object(ct)]}),s}async buildDepositPayload(a,s){let{pool_id:et,amount_a:tt,amount_b:at}=a,{pool:ct,clmmPool:ut}=await this.getVaultAndPool(et,!0),{rewarderList:bt,feeList:wt}=await this.getVaultsPositionRewarderAndFee(et),Et=ue(ct,bt,wt),{lp_token_type:Ft}=ct,{rewarder_infos:jt,poolAddress:Lt,coinTypeA:Ut,coinTypeB:Vt}=ut,Yt=bt.length>0?bt.filter(br=>d$3(br.value.toString()).gt(0)).map(br=>fixCoinType(br.coin_type,!1)):jt.map(br=>fixCoinType(br.coinAddress,!1)),{published_at:er,configs:tr,clmm_configs:nr}=this._sdk.sdkOptions.vaults;s=s||new Transaction,s=this.buildCollectRewardPayload({reward_coin_types:Yt,lp_token_type:Ft,pool_id:et,clmm_pool_id:Lt,coin_type_a:Ut,coin_type_b:Vt},s),s=this.buildCollectFeePayload({lp_token_type:Ft,pool_id:et,clmm_pool_id:Lt,coin_type_a:Ut,coin_type_b:Vt},s),s=await this._sdk.PythPrice.buildUpdatePythPricePayload(Et,s),s.moveCall({target:`${er}::pool::calculate_aum`,typeArguments:[Ut,Vt,Ft],arguments:[s.object(et),s.object(tr.global_config_id),s.object(tr.pyth_oracle_id),s.object(nr.global_config_id),s.object(Lt),s.object(CLOCK_ADDRESS$1)]});let ir=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Ut),lr=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Vt),pr=TransactionUtil.buildCoinForAmount(s,ir,BigInt(tt),Ut,!1,!0),yr=TransactionUtil.buildCoinForAmount(s,lr,BigInt(at),Vt,!1,!0);return s.moveCall({target:`${er}::pool::deposit`,typeArguments:[Ut,Vt,Ft],arguments:[s.object(et),s.object(tr.global_config_id),s.object(tr.pyth_oracle_id),s.object(nr.global_config_id),s.object(Lt),pr.targetCoin,yr.targetCoin,s.object(CLOCK_ADDRESS$1)]}),s}async buildWithdrawPayload(a,s){let{pool_id:et,burn_lp_amount:tt,mode:at,slippage:ct,partner:ut}=a,{pool:bt,clmmPool:wt}=await this.getVaultAndPool(et,!0),{rewarderList:Et}=await this.getVaultsPositionRewarderAndFee(et),{published_at:Ft,configs:jt,clmm_configs:Lt}=this._sdk.sdkOptions.vaults;s=s||new Transaction;let{lp_token_type:Ut,clmm_vault:Vt,lp_token_treasury:Yt}=bt,{rewarder_infos:er,poolAddress:tr,coinTypeA:nr,coinTypeB:ir,liquidity:lr}=wt,pr=Et.length>0?Et.filter(fr=>d$3(fr.value.toString()).gt(0)).map(fr=>fixCoinType(fr.coin_type,!1)):er.map(fr=>fixCoinType(fr.coinAddress,!1));s=this.buildCollectRewardPayload({reward_coin_types:pr,lp_token_type:Ut,pool_id:et,clmm_pool_id:tr,coin_type_a:nr,coin_type_b:ir},s),s=this.buildCollectFeePayload({lp_token_type:Ut,pool_id:et,clmm_pool_id:tr,coin_type_a:nr,coin_type_b:ir},s);let yr=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Ut),br=TransactionUtil.buildCoinForAmount(s,yr,BigInt(tt),Ut,!1,!0),[xr,Er,$r]=s.moveCall({target:`${Ft}::pool::withdraw`,typeArguments:[nr,ir,Ut],arguments:[s.object(et),s.object(jt.global_config_id),s.object(Lt.global_config_id),s.object(tr),br.targetCoin,s.object(CLOCK_ADDRESS$1)]}),Sr=this.buildWithdrawBufferReward({reward_coin_types:pr.filter(fr=>![fixCoinType(nr,!1),fixCoinType(ir,!1)].includes(fr)),pool_id:et,withdraw_cert:$r,lp_token_type:Ut},s);if(s.moveCall({target:`${Ft}::pool::destory_withdraw_cert`,typeArguments:[Ut],arguments:[s.object(et),s.object(jt.global_config_id),$r]}),at!=="FixedOneSide"){if(ct===void 0)throw Error("the slippage is undefined");let fr=at==="OnlyCoinA",vr=fr?Er:xr,or=q(Yt,tt,lr.toString());await this.handleWithSwap(s,vr,nr,ir,tt,et,fr,ct,ut,[{poolID:tr,ticklower:Vt.wrapped_position.tick_lower_index,tickUpper:Vt.wrapped_position.tick_upper_index,deltaLiquidity:Number(or)}]),s.transferObjects([fr?xr:Er,...Sr],this._sdk.senderAddress)}else s.transferObjects([xr,Er,...Sr],this._sdk.senderAddress);return s}async handleWithSwap(a,s,et,tt,at,ct,ut,bt,wt,Et){let{receive_amount_a:Ft,receive_amount_b:jt}=await this.preCalculateWithdrawAmount({pool_id:ct,mode:"FixedOneSide",burn_lp_amount:at}),Lt=ut?tt:et,Ut=ut?et:tt,Vt=ut?jt:Ft,Yt={from:Lt,target:Ut,amount:new BN(Vt),byAmountIn:!0,depth:3,splitAlgorithm:void 0,splitFactor:void 0,splitCount:void 0,providers:this._sdk.sdkOptions.providers,liquidityChanges:Et},er=await this._sdk.AggregatorClient.findRouters(Yt);if(!er)throw Error("not find Router");if(er.error!==void 0)throw Error(`find Router error : ${er.error}`);let tr={routers:er,inputCoin:s,slippage:bt,txb:a,partner:wt},nr=await this._sdk.AggregatorClient.fixableRouterSwap(tr);a.transferObjects([nr],a.pure.address(this._sdk.getVerifySenderAddress()))}buildWithdrawBufferReward({reward_coin_types:a,pool_id:s,withdraw_cert:et,lp_token_type:tt},at){let{published_at:ct,configs:ut}=this._sdk.sdkOptions.vaults;return a.map(bt=>at.moveCall({target:`${ct}::pool::withdraw_buffer_reward`,typeArguments:[tt,bt],arguments:[at.object(s),at.object(ut.global_config_id),et]}))}async preCalculateDepositAmount(a,s){let{mode:et,pool_id:tt,uuid:at}=a,ct="0",ut="0",{pool:bt,clmmPool:wt}=await this.getVaultAndPool(tt,!1);switch(et){case"FixedOneSide":{let{fixed_amount:Et,fixed_coin_a:Ft}=a,{other_amount:jt}=this.calculateDepositOtherSide(bt,wt,Et,Ft,s,at);Ft?(ct=Et,ut=jt):(ut=Et,ct=jt);break}case"FlexibleBoth":{let{coin_amount_a:Et,coin_amount_b:Ft}=a;ct=Et,ut=Ft,this.calculateDepositLpAmountBoth(bt,wt,Et,Ft).then(jt=>{s.onSuccess(jt,at)}).catch(jt=>{s.onError(jt,at)});break}case"OnlyCoinA":{ct=a.coin_amount_a,this.calculateDepositLpAmountBoth(bt,wt,ct,"0").then(Et=>{s.onSuccess(Et,at)}).catch(Et=>{s.onError(Et,at)});break}case"OnlyCoinB":{ut=a.coin_amount_b,this.calculateDepositLpAmountBoth(bt,wt,"0",ut).then(Et=>{s.onSuccess(Et,at)}).catch(Et=>{s.onError(Et,at)});break}default:throw new Error(`Unsupported deposit mode: ${et}`)}return{deposit_amount_a:ct,deposit_amount_b:ut,mode:et}}async getVaultAndPool(a,s=!1){let et=await this.getPool(a,s);if(et===void 0)throw new Error("get vaults pool failed");let tt=await this._sdk.CetusClmmSDK.Pool.getPool(et.clmm_vault.clmm_pool_id,s);if(tt===void 0)throw new Error("get vaults clmmPool failed");return{clmmPool:tt,pool:et}}calculateDepositOtherSide(a,s,et,tt,at,ct){let{clmm_vault:ut}=a,{current_sqrt_price:bt}=s,wt=ut.wrapped_position.tick_lower_index,Et=ut.wrapped_position.tick_upper_index,Ft=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(wt,Et,new BN(et),tt,!0,1,new BN(bt)),{coinAmountA:jt,coinAmountB:Lt}=Ft;return this.calculateDepositLpAmountBoth(a,s,jt.toString(),Lt.toString()).then(Ut=>{at.onSuccess(Ut,ct)}).catch(Ut=>{at.onError(Ut,ct)}),{other_amount:tt?Lt.toString():jt.toString()}}async calculateDepositLpAmountBoth(a,s,et,tt){let{lp_token_treasury:at,hard_cap:ct}=a,ut=fixCoinType(s.coinTypeA,!1),bt=fixCoinType(s.coinTypeB,!1),{rewarderList:wt,feeList:Et}=await this.getVaultsPositionRewarderAndFee(a.id),Ft=G(a,Et,wt),jt=await ce(this,a,s,Ft,!0),Lt=await this._sdk.PythPrice.getLatestPrice([ut,bt],!0),Ut=Lt[ut],Vt=Lt[bt];if(console.log("🚀 ~ VaultsModule ~ calculateDepositLpAmountBoth ~ price:",{price_a:Ut,price_b:Vt}),!Ut)throw Error(`not find ${ut} price`);if(!Vt)throw Error(`not find ${bt} price`);let Yt={};Yt[ut]={price:Ut,value:et.toString()},Yt[bt]={price:Vt,value:tt.toString()};let er=J(Yt,a.quote_type),tr=de(at,er,jt);return console.log("🚀 ~ VaultsModule ~ calculateDepositLpAmountBoth :",{lp_token_treasury:at,userTvl:er,aum:jt,lp_amount:tr}),tr}async preCalculateWithdrawAmount(a){let{mode:s,pool_id:et}=a,tt="0",at="0",ct="0",ut="0",bt,{pool:wt,clmmPool:Et}=await this.getVaultAndPool(et,!1);switch(s){case"FixedOneSide":let Ft=await this.calculateWithdrawOtherSide(wt,Et,a.burn_lp_amount);ct=Ft.burn_lp_amount,tt=Ft.receive_amount_a,at=Ft.receive_amount_b,ut=Ft.remove_liquidity;break;case"OnlyCoinA":{let jt=await this.calculateWithdrawOnlyCoin(wt,Et,a.burn_lp_amount,!0);ct=jt.burn_lp_amount,tt=jt.receive_amount_a,at=jt.receive_amount_b,ut=jt.remove_liquidity,bt=jt.swap;break}case"OnlyCoinB":{let jt=await this.calculateWithdrawOnlyCoin(wt,Et,a.burn_lp_amount,!1);ct=jt.burn_lp_amount,tt=jt.receive_amount_a,at=jt.receive_amount_b,ut=jt.remove_liquidity,bt=jt.swap;break}default:throw new Error(`Unsupported withdraw mode: ${s}`)}return{remove_liquidity:ut,burn_lp_amount:ct,receive_amount_a:tt,receive_amount_b:at,mode:s,swap:bt}}async calculateWithdrawOtherSide(a,s,et){var ir,lr;let{clmm_vault:tt,lp_token_treasury:at}=a,{current_sqrt_price:ct}=s,{coin_type_a:ut,coin_type_b:bt}=a.clmm_vault.wrapped_position,wt=tt.wrapped_position.tick_lower_index,Et=tt.wrapped_position.tick_upper_index,Ft=tt.wrapped_position.liquidity,jt=TickMath.tickIndexToSqrtPriceX64(wt),Lt=TickMath.tickIndexToSqrtPriceX64(Et),Ut=q(at,et,Ft),{coinA:Vt,coinB:Yt}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Ut),new BN(ct),jt,Lt,!1),er=K(et,a),tr=d$3(Vt.toString()).add(((ir=er[ut])==null?void 0:ir.value)||"0").toFixed(0),nr=d$3(Yt.toString()).add(((lr=er[bt])==null?void 0:lr.value)||"0").toFixed(0);return{receive_amount_a:tr,receive_amount_b:nr,burn_lp_amount:et,mode:"FixedOneSide",remove_liquidity:Ut}}async calculateWithdrawOnlyCoin(a,s,et,tt){let{totalReceiveAmount:at,swapAmountIn:ct,swapAmountOut:ut,removeLiquidity:bt}=await this.calculateWithdrawOnlyCoinByLpAmount(a,s,tt,et);return{receive_amount_a:tt?at:"0",receive_amount_b:tt?"0":at,burn_lp_amount:et,remove_liquidity:bt,swap:{swap_amount_in:ct,swap_amount_out:ut},mode:"FixedOneSide"}}async calculateWithdrawOnlyCoinByLpAmount(a,s,et,tt){var or,rr;let{clmm_vault:at,lp_token_treasury:ct}=a,{current_sqrt_price:ut}=s,{coin_type_a:bt,coin_type_b:wt}=at.wrapped_position,Et=at.wrapped_position.tick_lower_index,Ft=at.wrapped_position.tick_upper_index,jt=at.wrapped_position.liquidity,Lt=TickMath.tickIndexToSqrtPriceX64(Et),Ut=TickMath.tickIndexToSqrtPriceX64(Ft),Vt=q(ct,tt,jt),{coinA:Yt,coinB:er}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Vt),new BN(ut),Lt,Ut,!1),tr=await this._sdk.PythPrice.getLatestPrice([bt,wt],!0),nr=tr[bt],ir=tr[wt];if(!nr)throw Error(`not find ${bt} price`);if(!ir)throw Error(`not find ${wt} price`);let lr=et?ir:nr,pr=et?nr:ir,{quote_per_base:yr}=se(lr.price,pr.price),br=K(tt,a),xr=d$3(Yt.toString()).add(((or=br[bt])==null?void 0:or.value)||"0").toFixed(0),Er=d$3(er.toString()).add(((rr=br[wt])==null?void 0:rr.value)||"0").toFixed(0),$r=et?xr:Er,Sr=et?Er:xr,fr=toDecimalsAmount(d$3(fromDecimalsAmount(Sr,et?ir.coin_decimals:nr.coin_decimals)).mul(yr).toString(),et?nr.coin_decimals:ir.coin_decimals).toString(),vr=d$3($r).add(fr).toFixed(0);return{burn_lp_amount:tt,removeLiquidity:Vt,is_coin_a:et,originAmount:$r,swapAmountIn:Sr,swapAmountOut:d$3(fr).toFixed(0,Decimal$1.ROUND_DOWN),totalReceiveAmount:vr}}async getPackageConfigs(){let a={registry_id:"1",pools_handle:"",pyth_oracle_id:"1",oracle_infos_handle:"",prices_handle:"1",global_config_id:"1"},{package_id:s}=this._sdk.sdkOptions.vaults,et=await this._sdk.FullClient.getObject({id:s,options:{showPreviousTransaction:!0}}),tt=getObjectPreviousTransactionDigest(et);(await this._sdk.FullClient.queryEventsByPage({Transaction:tt})).data.forEach(wt=>{let Et=wt.parsedJson;if(wt.type)switch(extractStructTagFromType(wt.type).full_address){case`${s}::pool::InitEvent`:a.registry_id=Et.registry_id;break;case`${s}::pyth_oracle::InitEvent`:a.pyth_oracle_id=Et.pyth_oracle_id;break;case`${s}::config::InitConfigEvent`:a.global_config_id=Et.global_config;break}});let at=await this._sdk.FullClient.getObject({id:a.registry_id,options:{showContent:!0}}),ct=getObjectFields(at);a.pools_handle=ct.pools.fields.id.id;let ut=await this._sdk.FullClient.getObject({id:a.pyth_oracle_id,options:{showContent:!0}}),bt=getObjectFields(ut);return a.oracle_infos_handle=bt.oracle_infos.fields.id.id,a.prices_handle=bt.prices.fields.id.id,this._sdk.sdkOptions.vaults.configs=a,this._sdk.sdkOptions}},ge={"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC":{coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",price_feed_id:"0xeaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a",coin_decimals:6},"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":{coin_type:"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",price_feed_id:"0x23d7315113f5b1d3ba7a83604c44b94d79f4fd69af77f804fc7f920a6dc65744",coin_decimals:9},"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS":{coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",price_feed_id:"0xe5b274b2611143df055d6e7cd8d93fe1961716bcd4dca1cad87a83bc1e78c1ef",coin_decimals:9},"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":{coin_type:"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP",price_feed_id:"0x29bdd5248234e33bd93d3b81100b5fa32eaa5997843847e2c2cb16d7c6d9f7ff",coin_decimals:6},"0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX":{coin_type:"0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX",price_feed_id:"0x88250f854c019ef4f88a5c073d52a18bb1c6ac437033f5932cd017d24917ab46",coin_decimals:9},"0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN":{coin_type:"0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN",price_feed_id:"0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43",coin_decimals:9},"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI":{coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI",price_feed_id:"0x6120ffcf96395c70aa77e72dcb900bf9d40dccab228efca59a17b90ce423d5e8",coin_decimals:9},"0xd0e89b2af5e4910726fbcd8b8dd37bb79b29e5f83f7491bca830e94f7f226d29::eth::ETH":{coin_type:"0xd0e89b2af5e4910726fbcd8b8dd37bb79b29e5f83f7491bca830e94f7f226d29::eth::ETH",price_feed_id:"0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace",coin_decimals:8}},ye={},Ve=(a=>(a.mainnet="mainnet",a.testnet="testnet",a))(Ve||{}),Pe=["CETUS","DEEPBOOK","KRIYA","KRIYAV3","FLOWX","FLOWXV3","AFTERMATH","HAEDAL","VOLO","AFSUI"],Re=16*1024,N=class{constructor(a){dn(this,"_sdk");dn(this,"connection");dn(this,"suiPythClient");let{pyth_configs:s}=a.sdkOptions.vaults,{pyth_state_id:et,wormhole_state_id:tt}=s;this._sdk=a;let{primary:at}=a.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(at.length===0)throw new Error("primary url is empty");this.connection=new lib$3.SuiPriceServiceConnection(at),this.suiPythClient=new lib$3.SuiPythClient(this._sdk.FullClient,et,tt)}get sdk(){return this._sdk}async getFeedInfoList(a){let s=a.map(et=>this.getFeedInfo(et,!1));return await Promise.all(s)}priceCheck(a,s=60){let et=Math.floor(Date.now()/1e3);if(!(Math.abs(et-a.last_update_time)>s))return a}async getLatestPrice(a,s=!1){var ct;let et={},tt=[];if(s?a.forEach(ut=>{let bt=this._sdk.getCache(`getLatestPrice_${ut}`);bt&&this.priceCheck(bt,60)?et[ut]=bt:tt.push(ut)}):tt=[...a],tt.length===0)return et;let at=await this.getFeedInfoList(tt);return(ct=await this.getLatestPriceFeeds(at.map(ut=>ut.price_feed_id)))==null||ct.forEach((ut,bt)=>{let wt=ut.getPriceUnchecked();if(wt){let{price:Et,expo:Ft}=wt,jt=d$3(Et).mul(d$3(10).pow(d$3(Ft))).toString(),Lt=at[bt],Ut={coin_type:Lt.coin_type,price:jt,coin_decimals:Lt.coin_decimals,oracle_price:0n,last_update_time:wt.publishTime};Ut.oracle_price=pe(BigInt(Et),BigInt(Ft)),et[tt[bt]]=Ut,this._sdk.updateCache(`getLatestPrice_${Ut.coin_type}`,Ut)}}),et}async getPriceFeedsUpdateData(a){try{return await this.connection.getPriceFeedsUpdateData(a)}catch{let{secondary:s}=this._sdk.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(s)return this.connection=new lib$3.SuiPriceServiceConnection(s),await this.connection.getPriceFeedsUpdateData(a)}}async getLatestPriceFeeds(a){try{return await this.connection.getLatestPriceFeeds(a)}catch{let{secondary:s}=this._sdk.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(s)return this.connection=new lib$3.SuiPriceServiceConnection(s),await this.connection.getLatestPriceFeeds(a)}}async buildUpdatePythPricePayload(a,s){let{pyth_configs:et,published_at:tt,configs:at}=this._sdk.sdkOptions.vaults,{pyth_state_id:ct,pyth_published_at:ut,pyth_package_id:bt}=et,{global_config_id:wt,pyth_oracle_id:Et}=at,Ft=(await this.getFeedInfoList(a)).map(er=>er.price_feed_id);if(a.length!==Ft.length)throw Error("find feed id fail");let jt=await this.getPriceFeedsUpdateData(Ft);if(!jt)throw new Error("get price update data fail");if(jt.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");let Lt=this.suiPythClient.extractVaaBytesFromAccumulatorMessage(jt[0]),Ut=await this.suiPythClient.verifyVaas([Lt],s),[Vt]=s.moveCall({target:`${ut}::pyth::create_authenticated_price_infos_using_accumulator`,typeArguments:[],arguments:[s.object(ct),s.pure(suiBcs$1.vector(suiBcs$1.U8).serialize(Array.from(jt[0]),{maxSize:Re}).toBytes()),Ut[0],s.object(CLOCK_ADDRESS$1)]}),Yt=0;for(let er of Ft){let tr=await this.suiPythClient.getPriceFeedObjectId(er);if(!tr)throw new Error(`Price feed ${er} not found, please create it first`);[Vt]=s.moveCall({target:`${tt}::pyth_oracle::update_price`,typeArguments:[a[Yt]],arguments:[s.object(Et),s.object(wt),s.object(ct),Vt,s.object(tr),s.object(CLOCK_ADDRESS$1)]}),Yt+=1}return s.moveCall({target:`${ut}::hot_potato_vector::destroy`,arguments:[Vt],typeArguments:[`${bt}::price_info::PriceInfo`]}),s}getFeedInfoByJson(a){let{env:s}=this._sdk.sdkOptions,et=fixCoinType(a,!1);return s==="mainnet"?ge[et]:ye[et]}async getFeedInfo(a,s){let et=`getFeedInfo_${a}`,tt=this._sdk.getCache(et,s);if(tt)return tt;let at=this.getFeedInfoByJson(a);if(at)return at;let{configs:ct}=this._sdk.sdkOptions.vaults,ut=await this._sdk.FullClient.getDynamicFieldObject({parentId:ct.oracle_infos_handle,name:{type:"0x1::type_name::TypeName",value:fixCoinType(a,!0)}}),{fields:bt}=ut.data.content.fields.value,wt={coin_type:a,price_feed_id:_e(bt.price_feed_id),coin_decimals:bt.coin_decimals};return console.log("🚀 ~ PythPriceModule ~ getFeedInfo ~ info:",wt),this._sdk.updateCache(et,wt),wt}},T=class{constructor(a){dn(this,"_cache",{});dn(this,"_sdkOptions");dn(this,"_senderAddress","");dn(this,"_vaults");dn(this,"_pythPrice");dn(this,"_aggregatorClient");dn(this,"_cetusClmmSDK");(!a.providers||a.providers.length===0)&&(a.providers=Pe),this._sdkOptions=a,this._cetusClmmSDK=a.env==="testnet"?initTestnetSDK(a.fullRpcUrl):initMainnetSDK(a.fullRpcUrl),this._vaults=new W(this),this._pythPrice=new N(this);let{primary:s,secondary:et}=a.vaults.pyth_configs.hermes_service_urls,tt=[s,et].filter(Boolean);this._aggregatorClient=new AggregatorClient22({endpoint:a.aggregatorUrl,signer:normalizeSuiAddress$1("0x0"),client:new SuiClient({url:a.fullRpcUrl}),env:a.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:tt}),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a,this.CetusClmmSDK.senderAddress=a}get sdkOptions(){return this._sdkOptions}get Vaults(){return this._vaults}get PythPrice(){return this._pythPrice}get FullClient(){return this._cetusClmmSDK.fullClient}get AggregatorClient(){return this._aggregatorClient}get CetusClmmSDK(){return this._cetusClmmSDK}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this sdk senderAddress is illegal");return this.senderAddress}async getOwnerCoinAssets(a,s,et=!0){return await this._cetusClmmSDK.getOwnerCoinAssets(a,s,et)}async getOwnerCoinBalances(a,s){return await this._cetusClmmSDK.getOwnerCoinBalances(a,s)}updateCache(a,s,et=cacheTime24h){this.CetusClmmSDK.updateCache(a,s,et)}getCache(a,s=!1){return this.CetusClmmSDK.getCache(a,s)}},si=T;const store=(a,s)=>({peripherySdk:new ve$1(envConfigs$1.periphery_sdk_options,new src_default(envConfigs$1.clmm_sdk_options)),setPeripherySdk:et=>{a(()=>({peripherySdk:et}))},burnSdk:new _$1(envConfigs$1.burn_sdk_options),setBurnSdk:et=>{a(()=>({burnSdk:et}))},vaultsSdk:new ae(envConfigs$1.vaults_sdk_options),setVaultsSDK:et=>{a(()=>({vaultsSdk:et}))},xCetusSdk:new xt$1(envConfigs$1.xcetus_sdk_options),setXCetusSdk:et=>{a(()=>({xCetusSdk:et}))},volatileVaultsSdk:new si(envConfigs$1.volatile_vaults_sdk_options),setVolatileVaultsSdk:et=>{a(()=>({volatileVaultsSdk:et}))}}),usePeripherySDKStore=create$3(store);function useInterval({interval:a,callback:s}){const et=reactExports.useRef(),tt=reactExports.useRef(null);reactExports.useEffect(()=>{et.current=s},[s]);const at=reactExports.useCallback(()=>{tt.current&&clearInterval(tt.current),a>0&&(tt.current=setInterval(()=>{et.current&&et.current(Date.now())},a))},[a]),ct=reactExports.useCallback(()=>{tt.current&&(clearInterval(tt.current),tt.current=null)},[]);return reactExports.useEffect(()=>(at(),()=>ct()),[]),{startTimer:at,stopTimer:ct}}function useSigner(){const{clmmSdk:a}=useClmmSDKStore(),{currentAccount:s}=useAccountStore(),{mutateAsync:et}=useSignTransaction(),{mutate:tt}=useSignPersonalMessage(),{mutate:at}=useSignAndExecuteTransaction({execute:async({bytes:Ft,signature:jt})=>await ut(Ft,jt)}),ct=reactExports.useMemo(()=>envConfigs$1.env==="mainnet"?"sui:mainnet":"sui:testnet",[s]),ut=async(Ft,jt,Lt=!1)=>{var Vt,Yt;if(Lt){const er=await a.fullClient.devInspectTransactionBlock({transactionBlock:Transaction.from(fromBase64(Ft)),sender:s.address});if(console.log("devInspectTransactionBlock:",er),!er||((Vt=er.effects)==null?void 0:Vt.status.status)==="failure")throw Error((Yt=er.effects)==null?void 0:Yt.status.error)}return await a.fullClient.executeTransactionBlock({transactionBlock:Ft,signature:jt,options:{showEvents:!0,showRawEffects:!0,showEffects:!0,showBalanceChanges:!0,showObjectChanges:!0,showInput:!0}})};return{signAndExecuteTransactionBlock:async(Ft,jt=!1)=>{var Ut,Vt;let Lt;if(typeof Ft=="string"?Lt=Transaction.from(Ft):Lt=Ft,console.log("chain: ",{chain:ct,transactionBlock:Ft}),jt){const Yt=await a.fullClient.devInspectTransactionBlock({transactionBlock:Ft,sender:s.address});if(console.log("devInspectTransactionBlock:",Yt),!Yt||((Ut=Yt.effects)==null?void 0:Ut.status.status)==="failure")throw Error((Vt=Yt.effects)==null?void 0:Vt.status.error)}return Lt.setGasBudget(1e8),console.log("🚀 ~ file: useSigner.ts:71 ~ signTransactionBlock ~ transactionBlock:",Ft),new Promise((Yt,er)=>{at({transaction:Lt,chain:ct},{onSuccess:tr=>{console.log(" signAndExecuteTransactionBlock  executed transaction",tr),Yt(tr)},onError:tr=>{console.error("signAndExecuteTransactionBlock transaction failed",tr),er(tr)}})})},signTransactionBlock:async Ft=>(console.log("🚀🚀🚀 ~ file: useSigner.ts:74 ~ signTransactionBlock ~ transactionBlock:",Ft instanceof Uint8Array,Ft),Ft instanceof Uint8Array&&(Ft=Transaction.from(Ft)),typeof Ft=="string"&&(Ft=Transaction.from(fromBase64(Ft))),console.log("🚀 ~ file: useSigner.ts:105 ~ signTransactionBlock ~ transactionBlock:",{transactionBlock:Ft,chain:ct}),new Promise((jt,Lt)=>{et({transaction:Ft,chain:ct},{onSuccess:Ut=>{console.log("signTransactionBlock result",Ut),jt(Ut)},onError:Ut=>{console.error("signTransactionBlock failed",Ut),Lt(Ut)},onSettled:(Ut,Vt,Yt,er)=>{}})})),executeTransactionBlock:ut,signUserMessage:async Ft=>(console.log("🚀🚀🚀 ~ useSigner.ts:167 ~ signUserMessage ~ message:",Ft),console.log("🚀🚀🚀 ~ useSigner.ts:167 ~ returnnewPromise ~ currentAccount:",s),new Promise((jt,Lt)=>{tt({message:Ft},{onSuccess:Ut=>{console.log("signUserMessage result",Ut),jt(Ut)},onError:Ut=>{console.error("signUserMessage failed",Ut),Lt(Ut)},onSettled:(Ut,Vt,Yt,er)=>{}})}))}}const isMenuActive=(a,s)=>s.startsWith(a.path)||!!a.children&&a.children.some(et=>isMenuActive(et,s)),getCroppedImg=(a,s,et,tt="image/jpeg")=>new Promise((at,ct)=>{const ut=new Image;ut.src=a,ut.crossOrigin="anonymous",ut.onload=()=>{const bt=document.createElement("canvas"),wt=bt.getContext("2d");bt.width=s.width,bt.height=s.height,wt.drawImage(ut,s.x,s.y,s.width,s.height,0,0,s.width,s.height),bt.toDataURL(tt),bt.toBlob(Et=>{if(Et){const Ft=new File([Et],et,{type:tt});at(Ft)}},tt)},ut.onerror=bt=>{ct(bt)}}),calcNumber=a=>typeof a=="string"&&a.includes("px")?parseInt(a.replace("px","")):a.toString(),replaceFilename=(a,s)=>{const et=new Blob([a],{type:a.type});return new File([et],s,{type:a.type,lastModified:a.lastModified})},ExcludeCNCharRegex=/^[^\u4e00-\u9fa5]+$/,ExcludeSpecialCharRegex=/^[a-zA-Z0-9\s]+$/,SymbolExcludeSpecialCharRegex=/^[a-zA-Z0-9_]+$/,SymbolLimitRegex=/^[A-Z][A-Za-z_0-9]*$/,BlankSpaceRegex=/\s/,WebSiteUrlRegex=/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/,XUrlRegex=/^(https?:\/\/)?(www\.)?x\.com\/([a-zA-Z0-9_\/\-]*)$/,DiscordRegex=/^(https?:\/\/)?(www\.)?discord\.com(\/[a-zA-Z0-9_\/\-]*)?$/,TelegramRegex=/^(https?:\/\/)?(www\.)?(t\.me|telegram\.org)(\/[a-zA-Z0-9_\-]*)?$/;function SelectTab(a){const{type:s,tabList:et,currentTab:tt,isActive:at,handleChangeTab:ct,wrapStyle:ut={h:"60px",p:"8px"},itemStyle:bt={fontSize:"14px"},...wt}=a,{isApp:Et}=useWindowWidth(),Ft=jt=>at?at(tt,jt):tt===(jt.key||jt.label);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s==="outlineTab"&&jsxRuntimeExports.jsx(Flex,{bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",...ut,children:et==null?void 0:et.map(jt=>{const Lt=Ft(jt);return jsxRuntimeExports.jsxs(Flex,{borderRadius:"4px",align:"center",justify:"center",cursor:"pointer",bg:Lt?"card_bg":"none",onClick:()=>ct(jt),...bt,children:[jt.imgInfo&&(jt!=null&&jt.isToken?jsxRuntimeExports.jsx(SingleCoinImage,{...jt.imgInfo,imageUrl:jt.imgInfo.src}):jsxRuntimeExports.jsx(Image$1,{...jt.imgInfo,src:jt.imgInfo.src})),jt.beforeIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Lt})}):jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Lt})),jsxRuntimeExports.jsx(Text,{fontSize:bt.fontSize,whiteSpace:"nowrap",color:Lt?"primary":"primary_gray",_hover:{color:Et?"none":"primary"},children:jt!=null&&jt.isToken?textEllipses(jt.label,10):jt.label}),(jt==null?void 0:jt.num)!==""&&((jt==null?void 0:jt.num)||Number(jt==null?void 0:jt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:jt==null?void 0:jt.num}),jt.afterIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Lt})}):jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Lt}))]},(jt==null?void 0:jt.key)||jt.label)})}),s==="borderTab"&&jsxRuntimeExports.jsx(Flex,{borderRadius:"12px",bg:"bg_secondary",border:"1px solid",borderColor:"border",...ut,children:et==null?void 0:et.map(jt=>jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"center",cursor:"pointer",onClick:()=>ct(jt),...bt,...wt,children:[jt.imgInfo&&jsxRuntimeExports.jsx(Image$1,{...jt.imgInfo,src:jt.imgInfo.src,mr:"8px"}),jt.beforeIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ft(jt)})}):jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ft(jt)})),jsxRuntimeExports.jsx(Text,{color:(at?at(tt,jt):tt==(jt.key||jt.label))?"primary":"primary_gray",fontSize:bt.fontSize,h:bt.fontSize,lineHeight:bt.fontSize,position:"relative",sx:Object.assign({_hover:{color:"primary"},_before:(at?at(tt,jt):tt==(jt.key||jt.label))?{content:"''",width:"20px",height:"2px",background:"primary",position:"absolute",left:"calc(50% - 10px)",bottom:-d$2(calcNumber(ut.h)).minus(calcNumber(bt.fontSize||"14px")).div(2).toString()+"px"}:{}},(bt==null?void 0:bt.sx)||{}),children:jt.label}),(jt==null?void 0:jt.num)!==""&&((jt==null?void 0:jt.num)||Number(jt==null?void 0:jt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:jt==null?void 0:jt.num}),jt.afterIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ft(jt)})}):jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ft(jt)})),(jt==null?void 0:jt.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-30px",top:"10px",h:"12px"})]},(jt==null?void 0:jt.key)||jt.label))})]})}const TooltipCon=({children:a,tooltip:s})=>jsxRuntimeExports.jsx(CetusTooltip,{placement:"bottom-end",tooltip:jsxRuntimeExports.jsx(Text,{fontSize:"12px",lineHeight:"20px",children:s}),children:jsxRuntimeExports.jsx(Center,{children:a})});function SearchInput({inputValue:a,changeInputValue:s,isFrom:et="",inputFontSize:tt="sm",isWidget:at=!1}){const ct=reactExports.useRef(null),{isApp:ut}=useWindowWidth();return reactExports.useEffect(()=>{ut||ct.current.focus()},[ut]),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{_hover:{bg:at?"swap_bg_secondary":"bg_secondary"},bg:at?"swap_bg_secondary":"bg_secondary",ref:ct,borderRadius:"8px",h:"36px",border:"none",variant:"outline",value:a,onChange:bt=>{s(bt.target.value)},fontWeight:"500",textAlign:"left",fontSize:tt,placeholder:"Search by token or address",pr:et=="pools"?"22px":{base:"28px",md:"28px",lg:"28px"},pl:et=="pools"?"8px":{md:"12px",lg:"16px"}}),jsxRuntimeExports.jsx(InputRightElement,{children:a?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",position:"absolute",top:"8px",right:et=="pools"?"4px":"8px",onClick:bt=>{bt.stopPropagation(),s("")}}):null})]})}var _populated=!1,_ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile;function _populate(){if(!_populated){_populated=!0;var a=navigator.userAgent,s=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),et=/(Mac OS X)|(Windows)|(Linux)/.exec(a);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(a),_ipad=/\b(iP[ao]d)/.exec(a),_android=/Android/i.exec(a),_native=/FBAN\/\w+;/i.exec(a),_mobile=/Mobile/i.exec(a),_win64=!!/Win64/.exec(a),s){_ie=s[1]?parseFloat(s[1]):s[5]?parseFloat(s[5]):NaN,_ie&&document&&document.documentMode&&(_ie=document.documentMode);var tt=/(?:Trident\/(\d+.\d+))/.exec(a);_ie_real_version=tt?parseFloat(tt[1])+4:_ie,_firefox=s[2]?parseFloat(s[2]):NaN,_opera=s[3]?parseFloat(s[3]):NaN,_webkit=s[4]?parseFloat(s[4]):NaN,_webkit?(s=/(?:Chrome\/(\d+\.\d+))/.exec(a),_chrome=s&&s[1]?parseFloat(s[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if(et){if(et[1]){var at=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);_osx=at?parseFloat(at[1].replace("_",".")):!0}else _osx=!1;_windows=!!et[2],_linux=!!et[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED$1={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED$1.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED$1.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}},UserAgent_DEPRECATED_1=UserAgent_DEPRECATED$1,canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),ExecutionEnvironment$1={canUseDOM},ExecutionEnvironment_1=ExecutionEnvironment$1,ExecutionEnvironment=ExecutionEnvironment_1,useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function isEventSupported$1(a,s){if(!ExecutionEnvironment.canUseDOM||s&&!("addEventListener"in document))return!1;var et="on"+a,tt=et in document;if(!tt){var at=document.createElement("div");at.setAttribute(et,"return;"),tt=typeof at[et]=="function"}return!tt&&useHasFeature&&a==="wheel"&&(tt=document.implementation.hasFeature("Events.wheel","3.0")),tt}var isEventSupported_1=isEventSupported$1,UserAgent_DEPRECATED=UserAgent_DEPRECATED_1,isEventSupported=isEventSupported_1,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel$2(a){var s=0,et=0,tt=0,at=0;return"detail"in a&&(et=a.detail),"wheelDelta"in a&&(et=-a.wheelDelta/120),"wheelDeltaY"in a&&(et=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(s=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(s=et,et=0),tt=s*PIXEL_STEP,at=et*PIXEL_STEP,"deltaY"in a&&(at=a.deltaY),"deltaX"in a&&(tt=a.deltaX),(tt||at)&&a.deltaMode&&(a.deltaMode==1?(tt*=LINE_HEIGHT,at*=LINE_HEIGHT):(tt*=PAGE_HEIGHT,at*=PAGE_HEIGHT)),tt&&!s&&(s=tt<1?-1:1),at&&!et&&(et=at<1?-1:1),{spinX:s,spinY:et,pixelX:tt,pixelY:at}}normalizeWheel$2.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"};var normalizeWheel_1=normalizeWheel$2,normalizeWheel=normalizeWheel_1;const normalizeWheel$1=getDefaultExportFromCjs$2(normalizeWheel);function getCropSize(a,s,et,tt,at,ct){ct===void 0&&(ct=0);var ut=rotateSize(a,s,ct),bt=ut.width,wt=ut.height,Et=Math.min(bt,et),Ft=Math.min(wt,tt);return Et>Ft*at?{width:Ft*at,height:Ft}:{width:Et,height:Et/at}}function getMediaZoom(a){return a.width>a.height?a.width/a.naturalWidth:a.height/a.naturalHeight}function restrictPosition(a,s,et,tt,at){at===void 0&&(at=0);var ct=rotateSize(s.width,s.height,at),ut=ct.width,bt=ct.height;return{x:restrictPositionCoord(a.x,ut,et.width,tt),y:restrictPositionCoord(a.y,bt,et.height,tt)}}function restrictPositionCoord(a,s,et,tt){var at=s*tt/2-et/2;return clamp(a,-at,at)}function getDistanceBetweenPoints(a,s){return Math.sqrt(Math.pow(a.y-s.y,2)+Math.pow(a.x-s.x,2))}function getRotationBetweenPoints(a,s){return Math.atan2(s.y-a.y,s.x-a.x)*180/Math.PI}function computeCroppedArea(a,s,et,tt,at,ct,ut){ct===void 0&&(ct=0),ut===void 0&&(ut=!0);var bt=ut?limitArea:noOp,wt=rotateSize(s.width,s.height,ct),Et=rotateSize(s.naturalWidth,s.naturalHeight,ct),Ft={x:bt(100,((wt.width-et.width/at)/2-a.x/at)/wt.width*100),y:bt(100,((wt.height-et.height/at)/2-a.y/at)/wt.height*100),width:bt(100,et.width/wt.width*100/at),height:bt(100,et.height/wt.height*100/at)},jt=Math.round(bt(Et.width,Ft.width*Et.width/100)),Lt=Math.round(bt(Et.height,Ft.height*Et.height/100)),Ut=Et.width>=Et.height*tt,Vt=Ut?{width:Math.round(Lt*tt),height:Lt}:{width:jt,height:Math.round(jt/tt)},Yt=__assign$1(__assign$1({},Vt),{x:Math.round(bt(Et.width-Vt.width,Ft.x*Et.width/100)),y:Math.round(bt(Et.height-Vt.height,Ft.y*Et.height/100))});return{croppedAreaPercentages:Ft,croppedAreaPixels:Yt}}function limitArea(a,s){return Math.min(a,Math.max(0,s))}function noOp(a,s){return s}function getInitialCropFromCroppedAreaPercentages(a,s,et,tt,at,ct){var ut=rotateSize(s.width,s.height,et),bt=clamp(tt.width/ut.width*(100/a.width),at,ct),wt={x:bt*ut.width/2-tt.width/2-ut.width*bt*(a.x/100),y:bt*ut.height/2-tt.height/2-ut.height*bt*(a.y/100)};return{crop:wt,zoom:bt}}function getZoomFromCroppedAreaPixels(a,s,et){var tt=getMediaZoom(s);return et.height>et.width?et.height/(a.height*tt):et.width/(a.width*tt)}function getInitialCropFromCroppedAreaPixels(a,s,et,tt,at,ct){et===void 0&&(et=0);var ut=rotateSize(s.naturalWidth,s.naturalHeight,et),bt=clamp(getZoomFromCroppedAreaPixels(a,s,tt),at,ct),wt=tt.height>tt.width?tt.height/a.height:tt.width/a.width,Et={x:((ut.width-a.width)/2-a.x)*wt,y:((ut.height-a.height)/2-a.y)*wt};return{crop:Et,zoom:bt}}function getCenter(a,s){return{x:(s.x+a.x)/2,y:(s.y+a.y)/2}}function getRadianAngle(a){return a*Math.PI/180}function rotateSize(a,s,et){var tt=getRadianAngle(et);return{width:Math.abs(Math.cos(tt)*a)+Math.abs(Math.sin(tt)*s),height:Math.abs(Math.sin(tt)*a)+Math.abs(Math.cos(tt)*s)}}function clamp(a,s,et){return Math.min(Math.max(a,s),et)}function classNames(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return a.filter(function(et){return typeof et=="string"&&et.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=function(a){__extends$1(s,a);function s(){var et=a!==null&&a.apply(this,arguments)||this;return et.cropperRef=reactExports.createRef(),et.imageRef=reactExports.createRef(),et.videoRef=reactExports.createRef(),et.containerPosition={x:0,y:0},et.containerRef=null,et.styleRef=null,et.containerRect=null,et.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},et.dragStartPosition={x:0,y:0},et.dragStartCrop={x:0,y:0},et.gestureZoomStart=0,et.gestureRotationStart=0,et.isTouching=!1,et.lastPinchDistance=0,et.lastPinchRotation=0,et.rafDragTimeout=null,et.rafPinchTimeout=null,et.wheelTimer=null,et.currentDoc=typeof document<"u"?document:null,et.currentWindow=typeof window<"u"?window:null,et.resizeObserver=null,et.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},et.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!et.containerRef)){var tt=!0;et.resizeObserver=new window.ResizeObserver(function(at){if(tt){tt=!1;return}et.computeSizes()}),et.resizeObserver.observe(et.containerRef)}},et.preventZoomSafari=function(tt){return tt.preventDefault()},et.cleanEvents=function(){et.currentDoc&&(et.currentDoc.removeEventListener("mousemove",et.onMouseMove),et.currentDoc.removeEventListener("mouseup",et.onDragStopped),et.currentDoc.removeEventListener("touchmove",et.onTouchMove),et.currentDoc.removeEventListener("touchend",et.onDragStopped),et.currentDoc.removeEventListener("gesturemove",et.onGestureMove),et.currentDoc.removeEventListener("gestureend",et.onGestureEnd),et.currentDoc.removeEventListener("scroll",et.onScroll))},et.clearScrollEvent=function(){et.containerRef&&et.containerRef.removeEventListener("wheel",et.onWheel),et.wheelTimer&&clearTimeout(et.wheelTimer)},et.onMediaLoad=function(){var tt=et.computeSizes();tt&&(et.emitCropData(),et.setInitialCrop(tt)),et.props.onMediaLoaded&&et.props.onMediaLoaded(et.mediaSize)},et.setInitialCrop=function(tt){if(et.props.initialCroppedAreaPercentages){var at=getInitialCropFromCroppedAreaPercentages(et.props.initialCroppedAreaPercentages,et.mediaSize,et.props.rotation,tt,et.props.minZoom,et.props.maxZoom),ct=at.crop,ut=at.zoom;et.props.onCropChange(ct),et.props.onZoomChange&&et.props.onZoomChange(ut)}else if(et.props.initialCroppedAreaPixels){var bt=getInitialCropFromCroppedAreaPixels(et.props.initialCroppedAreaPixels,et.mediaSize,et.props.rotation,tt,et.props.minZoom,et.props.maxZoom),ct=bt.crop,ut=bt.zoom;et.props.onCropChange(ct),et.props.onZoomChange&&et.props.onZoomChange(ut)}},et.computeSizes=function(){var tt,at,ct,ut,bt,wt,Et=et.imageRef.current||et.videoRef.current;if(Et&&et.containerRef){et.containerRect=et.containerRef.getBoundingClientRect(),et.saveContainerPosition();var Ft=et.containerRect.width/et.containerRect.height,jt=((tt=et.imageRef.current)===null||tt===void 0?void 0:tt.naturalWidth)||((at=et.videoRef.current)===null||at===void 0?void 0:at.videoWidth)||0,Lt=((ct=et.imageRef.current)===null||ct===void 0?void 0:ct.naturalHeight)||((ut=et.videoRef.current)===null||ut===void 0?void 0:ut.videoHeight)||0,Ut=Et.offsetWidth<jt||Et.offsetHeight<Lt,Vt=jt/Lt,Yt=void 0;if(Ut)switch(et.state.mediaObjectFit){default:case"contain":Yt=Ft>Vt?{width:et.containerRect.height*Vt,height:et.containerRect.height}:{width:et.containerRect.width,height:et.containerRect.width/Vt};break;case"horizontal-cover":Yt={width:et.containerRect.width,height:et.containerRect.width/Vt};break;case"vertical-cover":Yt={width:et.containerRect.height*Vt,height:et.containerRect.height};break}else Yt={width:Et.offsetWidth,height:Et.offsetHeight};et.mediaSize=__assign$1(__assign$1({},Yt),{naturalWidth:jt,naturalHeight:Lt}),et.props.setMediaSize&&et.props.setMediaSize(et.mediaSize);var er=et.props.cropSize?et.props.cropSize:getCropSize(et.mediaSize.width,et.mediaSize.height,et.containerRect.width,et.containerRect.height,et.props.aspect,et.props.rotation);return(((bt=et.state.cropSize)===null||bt===void 0?void 0:bt.height)!==er.height||((wt=et.state.cropSize)===null||wt===void 0?void 0:wt.width)!==er.width)&&et.props.onCropSizeChange&&et.props.onCropSizeChange(er),et.setState({cropSize:er},et.recomputeCropPosition),et.props.setCropSize&&et.props.setCropSize(er),er}},et.saveContainerPosition=function(){if(et.containerRef){var tt=et.containerRef.getBoundingClientRect();et.containerPosition={x:tt.left,y:tt.top}}},et.onMouseDown=function(tt){et.currentDoc&&(tt.preventDefault(),et.currentDoc.addEventListener("mousemove",et.onMouseMove),et.currentDoc.addEventListener("mouseup",et.onDragStopped),et.saveContainerPosition(),et.onDragStart(s.getMousePoint(tt)))},et.onMouseMove=function(tt){return et.onDrag(s.getMousePoint(tt))},et.onScroll=function(tt){et.currentDoc&&(tt.preventDefault(),et.saveContainerPosition())},et.onTouchStart=function(tt){et.currentDoc&&(et.isTouching=!0,!(et.props.onTouchRequest&&!et.props.onTouchRequest(tt))&&(et.currentDoc.addEventListener("touchmove",et.onTouchMove,{passive:!1}),et.currentDoc.addEventListener("touchend",et.onDragStopped),et.saveContainerPosition(),tt.touches.length===2?et.onPinchStart(tt):tt.touches.length===1&&et.onDragStart(s.getTouchPoint(tt.touches[0]))))},et.onTouchMove=function(tt){tt.preventDefault(),tt.touches.length===2?et.onPinchMove(tt):tt.touches.length===1&&et.onDrag(s.getTouchPoint(tt.touches[0]))},et.onGestureStart=function(tt){et.currentDoc&&(tt.preventDefault(),et.currentDoc.addEventListener("gesturechange",et.onGestureMove),et.currentDoc.addEventListener("gestureend",et.onGestureEnd),et.gestureZoomStart=et.props.zoom,et.gestureRotationStart=et.props.rotation)},et.onGestureMove=function(tt){if(tt.preventDefault(),!et.isTouching){var at=s.getMousePoint(tt),ct=et.gestureZoomStart-1+tt.scale;if(et.setNewZoom(ct,at,{shouldUpdatePosition:!0}),et.props.onRotationChange){var ut=et.gestureRotationStart+tt.rotation;et.props.onRotationChange(ut)}}},et.onGestureEnd=function(tt){et.cleanEvents()},et.onDragStart=function(tt){var at,ct,ut=tt.x,bt=tt.y;et.dragStartPosition={x:ut,y:bt},et.dragStartCrop=__assign$1({},et.props.crop),(ct=(at=et.props).onInteractionStart)===null||ct===void 0||ct.call(at)},et.onDrag=function(tt){var at=tt.x,ct=tt.y;et.currentWindow&&(et.rafDragTimeout&&et.currentWindow.cancelAnimationFrame(et.rafDragTimeout),et.rafDragTimeout=et.currentWindow.requestAnimationFrame(function(){if(et.state.cropSize&&!(at===void 0||ct===void 0)){var ut=at-et.dragStartPosition.x,bt=ct-et.dragStartPosition.y,wt={x:et.dragStartCrop.x+ut,y:et.dragStartCrop.y+bt},Et=et.props.restrictPosition?restrictPosition(wt,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):wt;et.props.onCropChange(Et)}}))},et.onDragStopped=function(){var tt,at;et.isTouching=!1,et.cleanEvents(),et.emitCropData(),(at=(tt=et.props).onInteractionEnd)===null||at===void 0||at.call(tt)},et.onWheel=function(tt){if(et.currentWindow&&!(et.props.onWheelRequest&&!et.props.onWheelRequest(tt))){tt.preventDefault();var at=s.getMousePoint(tt),ct=normalizeWheel$1(tt).pixelY,ut=et.props.zoom-ct*et.props.zoomSpeed/200;et.setNewZoom(ut,at,{shouldUpdatePosition:!0}),et.state.hasWheelJustStarted||et.setState({hasWheelJustStarted:!0},function(){var bt,wt;return(wt=(bt=et.props).onInteractionStart)===null||wt===void 0?void 0:wt.call(bt)}),et.wheelTimer&&clearTimeout(et.wheelTimer),et.wheelTimer=et.currentWindow.setTimeout(function(){return et.setState({hasWheelJustStarted:!1},function(){var bt,wt;return(wt=(bt=et.props).onInteractionEnd)===null||wt===void 0?void 0:wt.call(bt)})},250)}},et.getPointOnContainer=function(tt,at){var ct=tt.x,ut=tt.y;if(!et.containerRect)throw new Error("The Cropper is not mounted");return{x:et.containerRect.width/2-(ct-at.x),y:et.containerRect.height/2-(ut-at.y)}},et.getPointOnMedia=function(tt){var at=tt.x,ct=tt.y,ut=et.props,bt=ut.crop,wt=ut.zoom;return{x:(at+bt.x)/wt,y:(ct+bt.y)/wt}},et.setNewZoom=function(tt,at,ct){var ut=ct===void 0?{}:ct,bt=ut.shouldUpdatePosition,wt=bt===void 0?!0:bt;if(!(!et.state.cropSize||!et.props.onZoomChange)){var Et=clamp(tt,et.props.minZoom,et.props.maxZoom);if(wt){var Ft=et.getPointOnContainer(at,et.containerPosition),jt=et.getPointOnMedia(Ft),Lt={x:jt.x*Et-Ft.x,y:jt.y*Et-Ft.y},Ut=et.props.restrictPosition?restrictPosition(Lt,et.mediaSize,et.state.cropSize,Et,et.props.rotation):Lt;et.props.onCropChange(Ut)}et.props.onZoomChange(Et)}},et.getCropData=function(){if(!et.state.cropSize)return null;var tt=et.props.restrictPosition?restrictPosition(et.props.crop,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):et.props.crop;return computeCroppedArea(tt,et.mediaSize,et.state.cropSize,et.getAspect(),et.props.zoom,et.props.rotation,et.props.restrictPosition)},et.emitCropData=function(){var tt=et.getCropData();if(tt){var at=tt.croppedAreaPercentages,ct=tt.croppedAreaPixels;et.props.onCropComplete&&et.props.onCropComplete(at,ct),et.props.onCropAreaChange&&et.props.onCropAreaChange(at,ct)}},et.emitCropAreaChange=function(){var tt=et.getCropData();if(tt){var at=tt.croppedAreaPercentages,ct=tt.croppedAreaPixels;et.props.onCropAreaChange&&et.props.onCropAreaChange(at,ct)}},et.recomputeCropPosition=function(){if(et.state.cropSize){var tt=et.props.restrictPosition?restrictPosition(et.props.crop,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):et.props.crop;et.props.onCropChange(tt),et.emitCropData()}},et.onKeyDown=function(tt){var at,ct,ut=et.props,bt=ut.crop,wt=ut.onCropChange,Et=ut.keyboardStep,Ft=ut.zoom,jt=ut.rotation,Lt=Et;if(et.state.cropSize){tt.shiftKey&&(Lt*=.2);var Ut=__assign$1({},bt);switch(tt.key){case"ArrowUp":Ut.y-=Lt,tt.preventDefault();break;case"ArrowDown":Ut.y+=Lt,tt.preventDefault();break;case"ArrowLeft":Ut.x-=Lt,tt.preventDefault();break;case"ArrowRight":Ut.x+=Lt,tt.preventDefault();break;default:return}et.props.restrictPosition&&(Ut=restrictPosition(Ut,et.mediaSize,et.state.cropSize,Ft,jt)),tt.repeat||(ct=(at=et.props).onInteractionStart)===null||ct===void 0||ct.call(at),wt(Ut)}},et.onKeyUp=function(tt){var at,ct;switch(tt.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":tt.preventDefault();break;default:return}et.emitCropData(),(ct=(at=et.props).onInteractionEnd)===null||ct===void 0||ct.call(at)},et}return s.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},s.prototype.componentWillUnmount=function(){var et,tt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(et=this.resizeObserver)===null||et===void 0||et.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((tt=this.styleRef.parentNode)===null||tt===void 0||tt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},s.prototype.componentDidUpdate=function(et){var tt,at,ct,ut,bt,wt,Et,Ft,jt;et.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):et.aspect!==this.props.aspect?this.computeSizes():et.objectFit!==this.props.objectFit?this.computeSizes():et.zoom!==this.props.zoom?this.recomputeCropPosition():((tt=et.cropSize)===null||tt===void 0?void 0:tt.height)!==((at=this.props.cropSize)===null||at===void 0?void 0:at.height)||((ct=et.cropSize)===null||ct===void 0?void 0:ct.width)!==((ut=this.props.cropSize)===null||ut===void 0?void 0:ut.width)?this.computeSizes():(((bt=et.crop)===null||bt===void 0?void 0:bt.x)!==((wt=this.props.crop)===null||wt===void 0?void 0:wt.x)||((Et=et.crop)===null||Et===void 0?void 0:Et.y)!==((Ft=this.props.crop)===null||Ft===void 0?void 0:Ft.y))&&this.emitCropAreaChange(),et.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),et.video!==this.props.video&&((jt=this.videoRef.current)===null||jt===void 0||jt.load());var Lt=this.getObjectFit();Lt!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:Lt},this.computeSizes)},s.prototype.getAspect=function(){var et=this.props,tt=et.cropSize,at=et.aspect;return tt?tt.width/tt.height:at},s.prototype.getObjectFit=function(){var et,tt,at,ct;if(this.props.objectFit==="cover"){var ut=this.imageRef.current||this.videoRef.current;if(ut&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var bt=this.containerRect.width/this.containerRect.height,wt=((et=this.imageRef.current)===null||et===void 0?void 0:et.naturalWidth)||((tt=this.videoRef.current)===null||tt===void 0?void 0:tt.videoWidth)||0,Et=((at=this.imageRef.current)===null||at===void 0?void 0:at.naturalHeight)||((ct=this.videoRef.current)===null||ct===void 0?void 0:ct.videoHeight)||0,Ft=wt/Et;return Ft<bt?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},s.prototype.onPinchStart=function(et){var tt=s.getTouchPoint(et.touches[0]),at=s.getTouchPoint(et.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(tt,at),this.lastPinchRotation=getRotationBetweenPoints(tt,at),this.onDragStart(getCenter(tt,at))},s.prototype.onPinchMove=function(et){var tt=this;if(!(!this.currentDoc||!this.currentWindow)){var at=s.getTouchPoint(et.touches[0]),ct=s.getTouchPoint(et.touches[1]),ut=getCenter(at,ct);this.onDrag(ut),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var bt=getDistanceBetweenPoints(at,ct),wt=tt.props.zoom*(bt/tt.lastPinchDistance);tt.setNewZoom(wt,ut,{shouldUpdatePosition:!1}),tt.lastPinchDistance=bt;var Et=getRotationBetweenPoints(at,ct),Ft=tt.props.rotation+(Et-tt.lastPinchRotation);tt.props.onRotationChange&&tt.props.onRotationChange(Ft),tt.lastPinchRotation=Et})}},s.prototype.render=function(){var et=this,tt,at=this.props,ct=at.image,ut=at.video,bt=at.mediaProps,wt=at.cropperProps,Et=at.transform,Ft=at.crop,jt=Ft.x,Lt=Ft.y,Ut=at.rotation,Vt=at.zoom,Yt=at.cropShape,er=at.showGrid,tr=at.style,nr=tr.containerStyle,ir=tr.cropAreaStyle,lr=tr.mediaStyle,pr=at.classes,yr=pr.containerClassName,br=pr.cropAreaClassName,xr=pr.mediaClassName,Er=(tt=this.state.mediaObjectFit)!==null&&tt!==void 0?tt:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Sr){return et.containerRef=Sr},"data-testid":"container",style:nr,className:classNames("reactEasyCrop_Container",yr)},ct?reactExports.createElement("img",__assign$1({alt:"",className:classNames("reactEasyCrop_Image",Er==="contain"&&"reactEasyCrop_Contain",Er==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Er==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",xr)},bt,{src:ct,ref:this.imageRef,style:__assign$1(__assign$1({},lr),{transform:Et||"translate(".concat(jt,"px, ").concat(Lt,"px) rotate(").concat(Ut,"deg) scale(").concat(Vt,")")}),onLoad:this.onMediaLoad})):ut&&reactExports.createElement("video",__assign$1({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",Er==="contain"&&"reactEasyCrop_Contain",Er==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Er==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",xr)},bt,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign$1(__assign$1({},lr),{transform:Et||"translate(".concat(jt,"px, ").concat(Lt,"px) rotate(").concat(Ut,"deg) scale(").concat(Vt,")")}),controls:!1}),(Array.isArray(ut)?ut:[{src:ut}]).map(function($r){return reactExports.createElement("source",__assign$1({key:$r.src},$r))})),this.state.cropSize&&reactExports.createElement("div",__assign$1({ref:this.cropperRef,style:__assign$1(__assign$1({},ir),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",Yt==="round"&&"reactEasyCrop_CropAreaRound",er&&"reactEasyCrop_CropAreaGrid",br)},wt)))},s.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},s.getMousePoint=function(et){return{x:Number(et.clientX),y:Number(et.clientY)}},s.getTouchPoint=function(et){return{x:Number(et.clientX),y:Number(et.clientY)}},s}(reactExports.Component);function CropImage({src:a,dataUrl:s,file:et,open:tt,onClose:at,onCancel:ct,onOk:ut}){const[bt,wt]=reactExports.useState({x:0,y:0}),[Et,Ft]=reactExports.useState(1),[jt,Lt]=reactExports.useState(!1),[Ut,Vt]=reactExports.useState(null),Yt=async(tr,nr)=>{Vt({croppedArea:tr,croppedAreaPixels:nr})},er=async()=>{Lt(!0);try{const tr=await getCroppedImg(s,Ut.croppedAreaPixels,et.name,et.type);await ut(tr)}catch(tr){console.error(tr)}finally{Lt(!1)}};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:tt,onClose:at,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",color:"text_caption",fontSize:"16px",children:"Edit file"}),jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",children:"Crop and zoom on your image."})]})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Box,{position:"relative",h:"280px",w:"100%",mb:"12px",children:jsxRuntimeExports.jsx(Cropper,{image:a,crop:bt,zoom:Et,aspect:1,showGrid:!1,onCropChange:wt,onCropComplete:Yt,onZoomChange:Ft,style:{cropAreaStyle:{border:"2px solid #76C8FF"}}})}),jsxRuntimeExports.jsxs(HStack,{p:"0px 60px",gap:"24px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomin",fontSize:"20px",svgFill:Et-.2<.1?"primary_disabled":"text_paragraph",svgHover:Et-.2<.1?"primary_disabled":"text_caption",onClick:()=>{Et-.2>=0&&Ft(Et-.2)}}),jsxRuntimeExports.jsxs(Slider,{"aria-label":"slider-ex-1",min:.1,max:3,step:.2,value:Et,onChange:tr=>Ft(tr),children:[jsxRuntimeExports.jsx(SliderTrack,{h:"4px",bg:"crop_slider_tracker",children:jsxRuntimeExports.jsx(SliderFilledTrack,{})}),jsxRuntimeExports.jsx(SliderThumb,{boxSize:"4"})]}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:"20px",svgFill:Et+.2>3?"primary_disabled":"text_paragraph",svgHover:Et+.2>3?"primary_disabled":"text_caption",onClick:()=>{Et+.2<=3&&Ft(Et+.2)}})]})]}),jsxRuntimeExports.jsxs(ModalFooter,{justifyContent:"space-between",gap:"16px",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:ct||at,flex:"1",fontSize:"14px",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{flex:"1",fontSize:"14px",onClick:er,isLoading:jt,children:"Save"})]})]})]})}function ImageViewer({src:a,open:s,onClose:et}){const[tt,at]=reactExports.useState(1);return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:et,colorScheme:"blackAlpha",size:"full",isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:"transparent",backdropFilter:"blur(6px)",backgroundColor:"rgba(0, 0, 0, 0.1)",children:[jsxRuntimeExports.jsx(ModalCloseButton,{size:"lg"}),jsxRuntimeExports.jsxs(ModalBody,{display:"flex",justifyContent:"center",alignItems:"center",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(Image$1,{src:a,transform:`scale(${tt})`,w:"100%"})}),jsxRuntimeExports.jsxs(HStack,{position:"absolute",bottom:"100px",left:"calc(50% - 44px)",w:"88px",justify:"space-between",children:[jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomin",cursor:"pointer",onClick:()=>at(tt-.2)}),jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomout",cursor:"pointer",onClick:()=>at(tt+.2)})]})]})]})]})}const TokenPlaceholder="/images/token_placeholder.png",btnStyle={w:{base:"32px",lg:"28px"},h:{base:"32px",lg:"28px"},bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"3px",display:{base:"block",lg:"none"},cursor:"pointer"};function PreView({src:a,editable:s,onEdit:et,onDelete:tt,file:at}){const[ct,ut]=reactExports.useState(!1),[bt,wt]=reactExports.useState(!1),Et=async Ft=>{et&&await et({origin:at,cropped:Ft}),ut(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{display:{base:"flex",lg:"block"},position:{base:"static",lg:"relative"},_hover:{div:{display:"flex"}},children:[jsxRuntimeExports.jsx(Image$1,{src:a,fallbackSrc:TokenPlaceholder,alt:"preview",objectFit:"cover",w:{base:"200px",lg:"160px"},h:{base:"200px",lg:"160px"},borderRadius:"12px"}),jsxRuntimeExports.jsxs(Stack$1,{flexDir:{base:"column",lg:"row"},position:{base:"static",lg:"absolute"},justify:{base:"space-between",lg:"center"},ml:{base:"20px",lg:"0"},w:"100%",gap:"12px",bottom:"8px",children:[s&&jsxRuntimeExports.jsx(Tooltip,{label:"Edit file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),ut(!ct)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Preview file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),wt(!bt)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Remove file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),tt(at)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_del",fontSize:{base:"24px",lg:"20px"}})})})]})]}),bt&&jsxRuntimeExports.jsx(ImageViewer,{src:a,open:bt,onClose:()=>wt(!1)}),ct&&jsxRuntimeExports.jsx(CropImage,{src:a,dataUrl:at.dataUrl,file:at,open:ct,onClose:()=>ut(!1),onOk:Et})]})}const CollectListBox=reactExports.lazy(()=>__vitePreload(()=>import("./CollectListBox-C144QZ5e.js"),__vite__mapDeps([0,1,2,3]))),TokenList=reactExports.lazy(()=>__vitePreload(()=>import("./TokenList-CdKJg0Iz.js"),__vite__mapDeps([4,5,6,1,2,3,7,8,9,10,11])));function TokenSelectCard(a){const{isWidget:s=!1,isOpen:et,onClose:tt,onSelectToken:at,haveImport:ct,lastSelectedToken:ut,isDisableSelectTokenItem:bt=!1,isDcaSelect:wt,whiteTokenList:Et,isShowCollectListBox:Ft=!0,isShowHotList:jt=!0,isShowTokenListTab:Lt=!0,isShowLabelTab:Ut=!0,tokenListMaxHeight:Vt,noDataHaveImg:Yt=!0,noClickImportItem:er=!1,bg:tr,onGoplusTokenClick:nr}=a,{filterTokenListFun:ir,filterTokenWithLabel:lr,getImportTokenList:pr,delImportTokenList:yr,updateImportTokenList:br,sortWithTokenList:xr}=useTokenSelect(),{setFilterTokenLoading:Er,setShowImportBtn:$r,importTokenList:Sr,filterTokenLoading:fr,filterTokenList:vr,trustedTokenList:or,setTokenModalOpacity:rr,userCollectList:ar}=useTokenSelectStore(),[sr,dr]=reactExports.useState(""),gr=Kr=>{const an=Kr.replace(/[^[a-zA-Z0-9\s]+$/g,"");dr(an),an&&(Er(!0),ur(an))},ur=useDebounceFunction(Kr=>{console.log("🚀🚀🚀 ~ TokenSelectCard.tsx:86 ~ debouncedFilter ~ useDebounceFunction:"),Et&&Et.length>0?ir(Kr,Et,[],!1,!1):ir(Kr,or,Sr,ct)},500),_r=Kr=>{console.log(bt,ut,Kr.coin_type,"selectToken"),bt?ut!==Kr.coin_type&&(at(Kr),tt()):(at(Kr),tt())},hr=[{label:"Watchlist",value:"Watchlist"},{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],cr=[{label:"All",value:"All"},{label:"Wormhole",value:"Wormhole"}],[wr,Br]=reactExports.useState("Default"),[Or,Rr]=reactExports.useState("All"),{getCollectList:Pr,getDefaultTokenList:Ur,getTabByAddress:kr,getUserCollectList:Ar}=useTokenSelect(),{tokenMap:Cr}=useTokenStore(),[Fr,Lr]=reactExports.useState(!1);reactExports.useEffect(()=>{Lr(!0)},[]),reactExports.useEffect(()=>{Fr&&Cr&&Cr.size>0&&Ur(),Fr&&(pr(),Ar())},[Cr,Fr]),reactExports.useEffect(()=>{or.length>0&&Pr()},[or]);const[Hr,Gr]=reactExports.useState(!1),Nr=!Hr&&(or==null?void 0:or.length)>0&&(Sr==null?void 0:Sr.length)>0;reactExports.useEffect(()=>{Nr&&(br(),Gr(!0))},[Nr]),reactExports.useEffect(()=>{rr(1),et||(console.log("🚀🚀🚀 ~ file: index.tsx:164 ~ useEffect ~ tab22222"),Br("Default"),Rr("All"),dr(""),$r(!1))},[et]);const{coinPriceObj:Vr}=useTokenPriceStore(),{currentAccount:jr}=useAccountStore(),Wr=reactExports.useMemo(()=>fr?[]:sr?vr:Et&&Et.length>0?xr(Or!=="All"?vr:Et,ut):wr=="Default"?xr(Or!=="All"?vr:or,ut):wr=="Imported"?xr(Sr,ut):xr(ar,ut),[sr,vr,fr,Or,wr,Sr,Et,or,Vr,jr==null?void 0:jr.address,ar]);return reactExports.useEffect(()=>{console.log("🚀🚀🚀 ~ TokenSelectCard ~ tokenList:",Wr)},[Wr]),reactExports.useEffect(()=>{if(ut&&or&&or.length>0){const Kr=kr(ut,or,Sr);console.log("🚀🚀🚀 ~ file: index.tsx:164 ~ useEffect ~ tab:",Kr),Br(Kr)}},[ut,or,Sr]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{p:"0px 16px",children:[jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(SearchInput,{isWidget:s,inputValue:sr,changeInputValue:Kr=>gr(Kr)})}),jt?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",width:{base:"100%",lg:"428px"},flexWrap:"wrap",justifyContent:"space-between",children:[...Array(12)].map((Kr,an)=>jsxRuntimeExports.jsx(Skeleton,{width:"94px",height:"16px",margin:"0 8px 8px 0"},an))}),children:jsxRuntimeExports.jsx(CollectListBox,{whiteTokenList:Et,onSelectToken:Kr=>_r(Kr)})}):null,!sr&&Lt?jsxRuntimeExports.jsx(SelectTab,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"395px"},h:"34px",bg:"none",border:"none",marginTop:jt?"":"12px"},itemStyle:{marginRight:"40px",fontSize:"14px"},tabList:hr,currentTab:wr,handleChangeTab:Kr=>{Br(Kr.value),Er(!0),setTimeout(()=>{Er(!1)},300)}}):null,!sr&&wr=="Default"&&Ut?jsxRuntimeExports.jsx(SelectTab,{type:"outlineTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:s?"swap_bg_secondary":"bg_secondary",padding:"4px",marginTop:"12px"},itemStyle:{w:`${100/cr.length}%`,fontSize:"14px",borderRadius:"8px"},tabList:cr,currentTab:Or,handleChangeTab:Kr=>{Rr(Kr.value),lr(Kr.value,wt?Et:or)}}):null,wr=="Imported"&&Sr&&Sr.length>0&&!sr?jsxRuntimeExports.jsxs(Flex,{p:"16px 0 0",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Text,{children:[Sr&&Sr.length," Custom Tokens"]}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",_hover:{color:"text_caption"},onClick:()=>{yr(Sr)},children:"Clear All"})]}):null]}),jsxRuntimeExports.jsx(Box,{p:"0px",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",flexDirection:"column",children:[...Array(5)].map((Kr,an)=>jsxRuntimeExports.jsxs(HStack,{gap:"0",height:"64px",padding:"0 16px",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",ml:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"100px"}),jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"150px"})]})]},an))}),children:jsxRuntimeExports.jsx(TokenList,{onGoplusTokenClick:nr,tokenList:Wr,keyword:sr,currentLabel:Or,currentTab:wr,lastSelectedToken:ut,isDisableSelectTokenItem:bt,isShowCollectListBox:Ft,isShowTokenListTab:Lt,tokenListMaxHeight:Vt,noDataHaveImg:Yt,noClickImportItem:er,bg:tr,onSelectToken:Kr=>_r(Kr),onClose:tt})})})]})}function TokenSelectModal(a){const{isApp:s}=useWindowWidth(),{isOpen:et,onClose:tt}=a,{tokenModalOpacity:at}=useTokenSelectStore(),[ct,ut]=reactExports.useState("400px"),bt=()=>{const Et=window.innerHeight-380;console.log("🚀🚀🚀 ~ index.tsx:36 ~ calculateMaxHeight ~ remainingHeight:",Et),ut(`${Et}px`)};return reactExports.useEffect(()=>(bt(),window.addEventListener("resize",bt),()=>{window.removeEventListener("resize",bt)}),[]),jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:et,onClose:tt,isCentered:!0,motionPreset:"none",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:s?"80%":"462px",opacity:at,transition:"opacity 0.3s",children:[jsxRuntimeExports.jsx(ModalHeader,{p:"18px 16px",children:jsxRuntimeExports.jsx(Heading,{fontWeight:"500",fontSize:"16px",children:"Select a token"})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"0",textAlign:"center",overflow:"hidden",children:jsxRuntimeExports.jsx(TokenSelectCard,{...a,tokenListMaxHeight:ct})})]})]})}const index=reactExports.memo(TokenSelectModal),index$1=Object.freeze(Object.defineProperty({__proto__:null,default:index},Symbol.toStringTag,{value:"Module"})),CoinSelect=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>CoinSelect$3),void 0)),TradeInput=reactExports.forwardRef(function a({title:s,value:et,amountValue:tt,onFocusChange:at,onChange:ct,placeholder:ut="0.0",balance:bt,selectable:wt,onTokenChange:Et,token:Ft,half:jt=!0,max:Lt=!0,loading:Ut,inputAllowed:Vt=!0,hideSelf:Yt=!1,needRemainBalance:er=!0,balanceLabel:tr,wrapStyle:nr={},calculateAvailableLoading:ir=!1,currentCoinKey:lr,whiteTokenList:pr,isWidget:yr=!1,isDcaTo:br=!1,inputTabOptions:xr,openSelectTokenModal:Er},$r){const{type:Sr="borderTab",tabList:fr=[],currentTab:vr="",handleChangeTab:or=()=>{},wrapStyle:rr={h:"60px",p:"8px"},itemStyle:ar={fontSize:"14px"}}=xr||{},sr=reactExports.useRef(null),[dr,gr]=reactExports.useState(!1),{currentAccount:ur}=useAccountStore(),_r=()=>{const cr=d$2(bt||0).div(2);et&&cr.eq(et)||ct==null||ct(formatNumberWithDown(cr.toString(),Ft==null?void 0:Ft.decimals,!0,!0).toString(),!1,!0)},hr=()=>{const cr=d$2(bt||0),wr=CoinAssist.isSuiCoin((Ft==null?void 0:Ft.coin_type)||""),Br=wr&&er?.05:0;let Or=cr;wr&&d$2(cr).gt(Br)&&(Or=Or.sub(Br)),!(et&&d$2(Or).eq(et))&&d$2(Or).gte(0)&&(ct==null||ct(Or.toString()||"0",!0,!1))};return reactExports.useImperativeHandle($r,()=>({focused:dr}),[dr]),Yt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsxs(Box,{ref:sr,w:"100%",onFocus:()=>{gr(!0)},onBlur:()=>{gr(!1)},borderRadius:"16px",p:{base:"16px 8px",lg:"16px"},h:"122px",border:"1px solid",backgroundColor:Vt?"bg_secondary":"card_bg",...nr,borderColor:dr?"token_active_border":nr!=null&&nr.borderColor?nr==null?void 0:nr.borderColor:"border",boxShadow:dr?"0px 0px 6px 0px #0067AD":"",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",justify:"space-between",children:[s&&jsxRuntimeExports.jsx(Text,{color:"text_paragraph",fontSize:"13px",fontWeight:"500",h:"16px",mb:br?"0px":"4px",textAlign:"left",children:s}),jsxRuntimeExports.jsx(HStack,{mt:"-16px",mr:{base:"0",lg:"-8px"},children:xr&&fr&&(fr==null?void 0:fr.length)>0&&jsxRuntimeExports.jsx(SelectTab,{type:Sr,tabList:fr,currentTab:vr,handleChangeTab:cr=>or(cr),wrapStyle:rr,itemStyle:ar})})]}),jsxRuntimeExports.jsxs(VStack,{gap:br?"0px":"8px",flexDirection:br?"column-reverse":"column",children:[jsxRuntimeExports.jsxs(InputGroup,{h:"38px",fontFamily:"Inter",justifyContent:br?"center":"space-between",gap:"12px",children:[!br&&jsxRuntimeExports.jsx(Skeleton,{isLoaded:!Ut,height:"38px",width:"calc(100% - 8px)",borderRadius:"8px",children:jsxRuntimeExports.jsx(NumericFormatInput,{value:convertScientificToDecimal(et,9),onChange:cr=>{ct==null||ct(cr,d$2(cr).eq(bt||"0"))},decimals:Ft==null?void 0:Ft.decimals,placeholder:ut,inputAllowed:Vt,onFocus:()=>{at&&at(!0)},onBlur:()=>{at&&at(!1)},style:{width:"calc(100% - 8px)",background:"none",whiteSpace:"nowrap",opacity:1,outline:"none",color:"var(--chakra-colors-text_caption)",fontSize:yr?"24px":"28px",height:"38px",lineHeight:"38px",touchAction:"manipulation",transition:"all 0.3s",fontWeight:"500"}})}),jsxRuntimeExports.jsx(InputRightAddon,{w:br?"100%":"unset",children:wt?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Skeleton,{h:"20px",w:"100px",borderRadius:"8px"}),children:jsxRuntimeExports.jsx(CoinSelect,{openSelectTokenModal:Er,selectModalCallback:cr=>{gr(!!cr)},currentCoinKey:lr,whiteTokenList:pr,value:Ft,onSelect:Et})}):jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:Ft==null?void 0:Ft.logo_url,w:"28px",h:"28px",coinType:Ft==null?void 0:Ft.coin_type},(Ft==null?void 0:Ft.symbol)+"Icon"),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",children:textEllipses((Ft==null?void 0:Ft.symbol)||"",10)})]})})]}),jsxRuntimeExports.jsxs(HStack,{justify:"space-between",w:"100%",mt:br&&ur?"-20px":0,children:[jsxRuntimeExports.jsx(Text,{width:"50%",flex:"0",fontWeight:"500",children:tt&&+tt?`${formatCurrencyWithKMB(tt,2)}`:null}),!!ur&&jsxRuntimeExports.jsxs(HStack,{justify:"flex-end",gap:"8px",children:[jsxRuntimeExports.jsx(Skeleton,{isLoaded:!ir,children:jsxRuntimeExports.jsxs(HStack,{gap:"4px",children:[tr?jsxRuntimeExports.jsx(Text,{children:tr}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_wallet",svgHover:"text_paragraph",cursor:"default"}),jsxRuntimeExports.jsx(Text,{children:!bt||bt==="0"?"0.0":formatNumberWithDown(bt)})]})}),jt&&jsxRuntimeExports.jsx(Button,{onClick:_r,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:yr?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"HALF"}),Lt&&jsxRuntimeExports.jsx(Button,{onClick:hr,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:yr?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"MAX"})]})]})]})]})}),Upload=reactExports.forwardRef(function a({w:s="160px",h:et="160px",loading:tt,borderRadius:at="12px",children:ct,accept:ut="image/png, image/jpeg",multiple:bt=!1,fileSize:wt,field:Et,form:Ft,onChange:jt,onSuccess:Lt,onError:Ut,onDelete:Vt,...Yt},er){const tr=reactExports.useRef(null),{uploadLoading:nr,doUploadFile:ir}=useFileUpload(),lr=async Sr=>{if(Sr)return await ir(Sr)},[pr,yr]=reactExports.useState([]),br=async Sr=>{var fr;try{if((fr=Sr.target.files)!=null&&fr.length){const vr=Sr.target.files[0],or=vr.name.slice(vr.name.lastIndexOf(".")+1),rr=`cetus_pump_${dayjs().unix()}.${or}`,ar=replaceFilename(vr,rr);if(wt){const gr=wt.split("MB")[0];if(ar.size>Number(gr)*1024*1024)throw new Error("file size is over limit")}const sr=await lr(ar);if(sr!=null&&sr.error)throw new Error(sr==null?void 0:sr.error);sr!=null&&sr.url&&(Lt==null||Lt());const dr=new FileReader;dr.readAsDataURL(ar),dr.onload=gr=>{var ur,_r;if(gr.type==="load")if(bt){const hr=[...pr,{name:rr,type:ar.type,size:ar.size,lastModified:ar.lastModified,dataUrl:(ur=gr.target)==null?void 0:ur.result,fileUrl:sr==null?void 0:sr.url,sig:sr==null?void 0:sr.sig}];yr(hr)}else{const hr=[{name:rr,type:ar.type,size:ar.size,lastModified:ar.lastModified,dataUrl:(_r=gr.target)==null?void 0:_r.result,fileUrl:sr==null?void 0:sr.url,sig:sr==null?void 0:sr.sig}];yr(hr)}}}}catch(vr){console.log(vr.message,"(error as unknown as Error).message"),Ut==null||Ut(vr.message)}finally{Ft==null||Ft.setFieldTouched(Et.name,!0)}};useDeepCompareEffect(()=>{var Sr;pr&&(jt==null||jt(pr),Et.name&&((Sr=Ft==null?void 0:Ft.setFieldValue)==null||Sr.call(Ft,Et.name,pr)))},[pr]);const xr=async Sr=>{const fr=await lr(Sr.cropped),vr=new FileReader;vr.readAsDataURL(Sr.cropped),vr.onload=or=>{var rr;if(or.type==="load")if(bt){const ar=pr.map(sr=>{var dr;return sr.name===Sr.cropped.name?{...sr,size:Sr.cropped.size,lastModified:Sr.cropped.lastModified,dataUrl:(dr=or.target)==null?void 0:dr.result,fileUrl:fr==null?void 0:fr.url,sig:fr==null?void 0:fr.sig}:sr});yr(ar)}else{const ar=[{name:Sr.cropped.name,type:Sr.cropped.type,size:Sr.cropped.size,lastModified:Sr.cropped.lastModified,dataUrl:(rr=or.target)==null?void 0:rr.result,fileUrl:fr==null?void 0:fr.url,sig:fr==null?void 0:fr.sig}];yr(ar)}}},Er=Sr=>{Vt==null||Vt(),yr(pr.filter(fr=>fr.name!==Sr.name)),tr.current&&(tr.current.value="")},$r=()=>{yr([]),tr.current&&(tr.current.value="")};return reactExports.useImperativeHandle(er,()=>({handleClear:$r}),[tr.current]),jsxRuntimeExports.jsxs(Box,{w:s,h:et,borderRadius:at,onClick:()=>{var Sr;return(Sr=tr.current)==null?void 0:Sr.click()},...Yt,cursor:"pointer",children:[tt||nr?jsxRuntimeExports.jsx(Spinner,{}):pr.length?pr==null?void 0:pr.map((Sr,fr)=>Sr.type.startsWith("image")?jsxRuntimeExports.jsx(PreView,{editable:!0,src:Sr.fileUrl,file:Sr,onEdit:xr,onDelete:Er},Sr.sig||fr):jsxRuntimeExports.jsx(Box,{as:"a",target:"_blank",download:Sr.fileUrl,children:Sr.name},Sr.sig||fr)):ct,jsxRuntimeExports.jsx(Input,{ref:tr,id:"file",name:"file",type:"file",display:"none",accept:ut,multiple:bt,onChange:br})]})});function ToastDescription(a){const{status:s="confirmation",tx:et,info:tt}=a,{getExplorerUrl:at}=useExplorer(),ct=tt==null?void 0:tt.toastDescriptionContent;return s==="submitted"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ct&&(typeof ct=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:ct()}):jsxRuntimeExports.jsx(DescriptionText,{text:ct})),!ct&&et&&jsxRuntimeExports.jsxs(Box,{as:"div",children:[jsxRuntimeExports.jsx(DescriptionText,{text:"Confirmation is in progress. Check your transaction on",as:"span"}),"  ",jsxRuntimeExports.jsx(Link,{href:at(et,"tx"),target:"_blank",color:"primary_green",fontSize:"sm",textDecoration:"none",children:"here"})]})]}):s==="rejected"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ct&&(typeof ct=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:ct()}):jsxRuntimeExports.jsx(DescriptionText,{text:ct})),!ct&&jsxRuntimeExports.jsx(DescriptionText,{text:"Something went wrong"})]}):s==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ct&&(typeof ct=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:ct()}):jsxRuntimeExports.jsx(DescriptionText,{text:ct}))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function DescriptionText(a){const{text:s,children:et,...tt}=a;return et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et}):jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",...tt,children:jsxRuntimeExports.jsx(Comma,{value:s||""})})}function ToastTitle(a){const{status:s="confirmation",info:et}=a;return s==="submitted"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[jsxRuntimeExports.jsx(Spinner$1,{w:"20px",h:"20px"}),jsxRuntimeExports.jsx(TitleText,{text:"Transaction in progress"})]})}):s==="rejected"?jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",gap:"0px",align:"flex-start",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),"(",jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(TitleText,{text:(et==null?void 0:et.toastTitleText)||"Transaction failed",color:"primary_red"})}),")"]}):s==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[et!=null&&et.iconUrl?jsxRuntimeExports.jsx(Image$1,{src:et.iconUrl,h:"20px",alt:"icon",borderRadius:"4px"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check",svgFill:"primary"}),jsxRuntimeExports.jsx(TitleText,{text:(et==null?void 0:et.toastTitleText)||"Transaction Successful"})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function TitleText(a){const{text:s,color:et="text_caption"}=a;return jsxRuntimeExports.jsx(Heading,{fontSize:"14px",lineHeight:"20px",fontWeight:"400",color:et,whiteSpace:{base:"pre-wrap",lg:"wrap"},children:s})}function Toast(a){const{status:s="confirmation",link:et,tx:tt,getShowInfo:at,actionType:ct,executeTime:ut,linkLabel:bt="View transaction",onClose:wt}=a,{getExplorerUrl:Et}=useExplorer(),Ft=reactExports.useMemo(()=>{if(at)return at(s)},[s]);return jsxRuntimeExports.jsxs(HStack,{w:{base:"calc(100vw - 16px)",lg:"fit-content"},minW:{base:"calc(100vw - 16px)",lg:"360px"},maxW:{base:"calc(100vw - 16px)",lg:"420px"},bg:"background",border:"1px",borderColor:"border",borderRadius:"12px",p:"16px",gap:"16px",justify:"space-between",alignItems:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{alignItems:"start",children:[jsxRuntimeExports.jsx(ToastTitle,{info:Ft,status:s}),((Ft==null?void 0:Ft.toastDescriptionContent)||tt)&&jsxRuntimeExports.jsx(ToastDescription,{info:Ft,status:s,tx:tt}),s!=="submitted"&&et&&jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),s!=="submitted"&&!et&&tt&&jsxRuntimeExports.jsxs(HStack,{children:[ct==="swap"&&ut&&ut>0?jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:`Txn finalized in ${d$3(ut).div(1e3).toString()}s! View Transaction`}):jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),defaultExplorers.map(jt=>jsxRuntimeExports.jsx(Image$1,{onClick:Lt=>{window.open(Et(tt,"tx",jt),"_blank")},cursor:"pointer",src:jt.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"},jt.name))]})]}),jsxRuntimeExports.jsx(Center,{onClick:wt,children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}function useGetNotifiTargetGroups(){const{notifiClient:a}=useNotifiStore(),{setDefaultTargetGroup:s,setEmailTarget:et,setTelegramTarget:tt,setSmsTarget:at,setNotifiLoginLoading:ct}=useNotifiStore(),ut=Et=>{Et.emailTargets&&Et.emailTargets.length>0&&et(Et.emailTargets.slice(-1)[0]),Et.telegramTargets&&(Et==null?void 0:Et.telegramTargets.length)>0&&tt(Et.telegramTargets.slice(-1)[0]),Et.smsTargets&&(Et==null?void 0:Et.smsTargets.length)>0&&at(Et.smsTargets.slice(-1)[0])};return{getNotifiTargetGroups:async Et=>{try{const Ft=Et?await Et.getTargetGroups():await a.getTargetGroups();if(console.log("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:8 ~ getNotifiTargetGroups ~ targetGroup:",Ft),(Ft==null?void 0:Ft.length)>0){const jt=Ft[0];console.log("🚀🚀🚀 ~ First target group:",jt),ut(jt)}return s(Ft),Ft}catch(Ft){return console.error("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:20 ~ getNotifiTargetGroups ~ error:",Ft),{}}},ensureTargetGroup:async Et=>{try{ct(!0);const Ft={...Et},jt=await a.ensureTargetGroup({name:"Default",...Ft});jt!=null&&jt.id&&ut(jt),s([jt]),ct(!1)}catch(Ft){ct(!1),console.error("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:45 ~ ensureTargetGroup ~ error:",Ft)}}}}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(a){return typeof a=="string"&&REGEX.test(a)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=(byteToHex[a[s+0]]+byteToHex[a[s+1]]+byteToHex[a[s+2]]+byteToHex[a[s+3]]+"-"+byteToHex[a[s+4]]+byteToHex[a[s+5]]+"-"+byteToHex[a[s+6]]+byteToHex[a[s+7]]+"-"+byteToHex[a[s+8]]+byteToHex[a[s+9]]+"-"+byteToHex[a[s+10]]+byteToHex[a[s+11]]+byteToHex[a[s+12]]+byteToHex[a[s+13]]+byteToHex[a[s+14]]+byteToHex[a[s+15]]).toLowerCase();if(!validate(et))throw TypeError("Stringified UUID is invalid");return et}function v4(a,s,et){a=a||{};var tt=a.random||(a.rng||rng)();return tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,stringify(tt)}const defaultJsonSerializer=JSON,uppercase=a=>a.toUpperCase(),HeadersInstanceToPlainObject=a=>{const s={};return a.forEach((et,tt)=>{s[tt]=et}),s},parseRequestArgs=(a,s,et)=>a.document?a:{document:a,variables:s,requestHeaders:et,signal:void 0},parseRawRequestArgs=(a,s,et)=>a.query?a:{query:a,variables:s,requestHeaders:et,signal:void 0},parseBatchRequestArgs=(a,s)=>a.documents?a:{documents:a,requestHeaders:s,signal:void 0},extractOperationName=a=>{var tt,at;let s;const et=a.definitions.filter(ct=>ct.kind==="OperationDefinition");return et.length===1&&(s=(at=(tt=et[0])==null?void 0:tt.name)==null?void 0:at.value),s},resolveRequestDocument=a=>{if(typeof a=="string"){let et;try{const tt=parse$1(a);et=extractOperationName(tt)}catch{}return{query:a,operationName:et}}const s=extractOperationName(a);return{query:print(a),operationName:s}};class ClientError extends Error{constructor(s,et){const tt=`${ClientError.extractMessage(s)}: ${JSON.stringify({response:s,request:et})}`;super(tt),Object.setPrototypeOf(this,ClientError.prototype),this.response=s,this.request=et,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ClientError)}static extractMessage(s){var et,tt;return((tt=(et=s.errors)==null?void 0:et[0])==null?void 0:tt.message)??`GraphQL Error (Code: ${s.status})`}}var browserPonyfill={exports:{}};(function(a,s){var et=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1,tt=function(){function ct(){this.fetch=!1,this.DOMException=et.DOMException}return ct.prototype=et,new ct}();(function(ct){(function(ut){var bt=typeof ct<"u"&&ct||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1||{},wt={searchParams:"URLSearchParams"in bt,iterable:"Symbol"in bt&&"iterator"in Symbol,blob:"FileReader"in bt&&"Blob"in bt&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in bt,arrayBuffer:"ArrayBuffer"in bt};function Et(rr){return rr&&DataView.prototype.isPrototypeOf(rr)}if(wt.arrayBuffer)var Ft=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],jt=ArrayBuffer.isView||function(rr){return rr&&Ft.indexOf(Object.prototype.toString.call(rr))>-1};function Lt(rr){if(typeof rr!="string"&&(rr=String(rr)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(rr)||rr==="")throw new TypeError('Invalid character in header field name: "'+rr+'"');return rr.toLowerCase()}function Ut(rr){return typeof rr!="string"&&(rr=String(rr)),rr}function Vt(rr){var ar={next:function(){var sr=rr.shift();return{done:sr===void 0,value:sr}}};return wt.iterable&&(ar[Symbol.iterator]=function(){return ar}),ar}function Yt(rr){this.map={},rr instanceof Yt?rr.forEach(function(ar,sr){this.append(sr,ar)},this):Array.isArray(rr)?rr.forEach(function(ar){if(ar.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ar.length);this.append(ar[0],ar[1])},this):rr&&Object.getOwnPropertyNames(rr).forEach(function(ar){this.append(ar,rr[ar])},this)}Yt.prototype.append=function(rr,ar){rr=Lt(rr),ar=Ut(ar);var sr=this.map[rr];this.map[rr]=sr?sr+", "+ar:ar},Yt.prototype.delete=function(rr){delete this.map[Lt(rr)]},Yt.prototype.get=function(rr){return rr=Lt(rr),this.has(rr)?this.map[rr]:null},Yt.prototype.has=function(rr){return this.map.hasOwnProperty(Lt(rr))},Yt.prototype.set=function(rr,ar){this.map[Lt(rr)]=Ut(ar)},Yt.prototype.forEach=function(rr,ar){for(var sr in this.map)this.map.hasOwnProperty(sr)&&rr.call(ar,this.map[sr],sr,this)},Yt.prototype.keys=function(){var rr=[];return this.forEach(function(ar,sr){rr.push(sr)}),Vt(rr)},Yt.prototype.values=function(){var rr=[];return this.forEach(function(ar){rr.push(ar)}),Vt(rr)},Yt.prototype.entries=function(){var rr=[];return this.forEach(function(ar,sr){rr.push([sr,ar])}),Vt(rr)},wt.iterable&&(Yt.prototype[Symbol.iterator]=Yt.prototype.entries);function er(rr){if(!rr._noBody){if(rr.bodyUsed)return Promise.reject(new TypeError("Already read"));rr.bodyUsed=!0}}function tr(rr){return new Promise(function(ar,sr){rr.onload=function(){ar(rr.result)},rr.onerror=function(){sr(rr.error)}})}function nr(rr){var ar=new FileReader,sr=tr(ar);return ar.readAsArrayBuffer(rr),sr}function ir(rr){var ar=new FileReader,sr=tr(ar),dr=/charset=([A-Za-z0-9_-]+)/.exec(rr.type),gr=dr?dr[1]:"utf-8";return ar.readAsText(rr,gr),sr}function lr(rr){for(var ar=new Uint8Array(rr),sr=new Array(ar.length),dr=0;dr<ar.length;dr++)sr[dr]=String.fromCharCode(ar[dr]);return sr.join("")}function pr(rr){if(rr.slice)return rr.slice(0);var ar=new Uint8Array(rr.byteLength);return ar.set(new Uint8Array(rr)),ar.buffer}function yr(){return this.bodyUsed=!1,this._initBody=function(rr){this.bodyUsed=this.bodyUsed,this._bodyInit=rr,rr?typeof rr=="string"?this._bodyText=rr:wt.blob&&Blob.prototype.isPrototypeOf(rr)?this._bodyBlob=rr:wt.formData&&FormData.prototype.isPrototypeOf(rr)?this._bodyFormData=rr:wt.searchParams&&URLSearchParams.prototype.isPrototypeOf(rr)?this._bodyText=rr.toString():wt.arrayBuffer&&wt.blob&&Et(rr)?(this._bodyArrayBuffer=pr(rr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):wt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(rr)||jt(rr))?this._bodyArrayBuffer=pr(rr):this._bodyText=rr=Object.prototype.toString.call(rr):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof rr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):wt.searchParams&&URLSearchParams.prototype.isPrototypeOf(rr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},wt.blob&&(this.blob=function(){var rr=er(this);if(rr)return rr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var rr=er(this);return rr||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(wt.blob)return this.blob().then(nr);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var rr=er(this);if(rr)return rr;if(this._bodyBlob)return ir(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(lr(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},wt.formData&&(this.formData=function(){return this.text().then($r)}),this.json=function(){return this.text().then(JSON.parse)},this}var br=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function xr(rr){var ar=rr.toUpperCase();return br.indexOf(ar)>-1?ar:rr}function Er(rr,ar){if(!(this instanceof Er))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ar=ar||{};var sr=ar.body;if(rr instanceof Er){if(rr.bodyUsed)throw new TypeError("Already read");this.url=rr.url,this.credentials=rr.credentials,ar.headers||(this.headers=new Yt(rr.headers)),this.method=rr.method,this.mode=rr.mode,this.signal=rr.signal,!sr&&rr._bodyInit!=null&&(sr=rr._bodyInit,rr.bodyUsed=!0)}else this.url=String(rr);if(this.credentials=ar.credentials||this.credentials||"same-origin",(ar.headers||!this.headers)&&(this.headers=new Yt(ar.headers)),this.method=xr(ar.method||this.method||"GET"),this.mode=ar.mode||this.mode||null,this.signal=ar.signal||this.signal||function(){if("AbortController"in bt){var ur=new AbortController;return ur.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&sr)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(sr),(this.method==="GET"||this.method==="HEAD")&&(ar.cache==="no-store"||ar.cache==="no-cache")){var dr=/([?&])_=[^&]*/;if(dr.test(this.url))this.url=this.url.replace(dr,"$1_="+new Date().getTime());else{var gr=/\?/;this.url+=(gr.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Er.prototype.clone=function(){return new Er(this,{body:this._bodyInit})};function $r(rr){var ar=new FormData;return rr.trim().split("&").forEach(function(sr){if(sr){var dr=sr.split("="),gr=dr.shift().replace(/\+/g," "),ur=dr.join("=").replace(/\+/g," ");ar.append(decodeURIComponent(gr),decodeURIComponent(ur))}}),ar}function Sr(rr){var ar=new Yt,sr=rr.replace(/\r?\n[\t ]+/g," ");return sr.split("\r").map(function(dr){return dr.indexOf(`
`)===0?dr.substr(1,dr.length):dr}).forEach(function(dr){var gr=dr.split(":"),ur=gr.shift().trim();if(ur){var _r=gr.join(":").trim();try{ar.append(ur,_r)}catch(hr){console.warn("Response "+hr.message)}}}),ar}yr.call(Er.prototype);function fr(rr,ar){if(!(this instanceof fr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ar||(ar={}),this.type="default",this.status=ar.status===void 0?200:ar.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=ar.statusText===void 0?"":""+ar.statusText,this.headers=new Yt(ar.headers),this.url=ar.url||"",this._initBody(rr)}yr.call(fr.prototype),fr.prototype.clone=function(){return new fr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Yt(this.headers),url:this.url})},fr.error=function(){var rr=new fr(null,{status:200,statusText:""});return rr.ok=!1,rr.status=0,rr.type="error",rr};var vr=[301,302,303,307,308];fr.redirect=function(rr,ar){if(vr.indexOf(ar)===-1)throw new RangeError("Invalid status code");return new fr(null,{status:ar,headers:{location:rr}})},ut.DOMException=bt.DOMException;try{new ut.DOMException}catch{ut.DOMException=function(ar,sr){this.message=ar,this.name=sr;var dr=Error(ar);this.stack=dr.stack},ut.DOMException.prototype=Object.create(Error.prototype),ut.DOMException.prototype.constructor=ut.DOMException}function or(rr,ar){return new Promise(function(sr,dr){var gr=new Er(rr,ar);if(gr.signal&&gr.signal.aborted)return dr(new ut.DOMException("Aborted","AbortError"));var ur=new XMLHttpRequest;function _r(){ur.abort()}ur.onload=function(){var wr={statusText:ur.statusText,headers:Sr(ur.getAllResponseHeaders()||"")};gr.url.indexOf("file://")===0&&(ur.status<200||ur.status>599)?wr.status=200:wr.status=ur.status,wr.url="responseURL"in ur?ur.responseURL:wr.headers.get("X-Request-URL");var Br="response"in ur?ur.response:ur.responseText;setTimeout(function(){sr(new fr(Br,wr))},0)},ur.onerror=function(){setTimeout(function(){dr(new TypeError("Network request failed"))},0)},ur.ontimeout=function(){setTimeout(function(){dr(new TypeError("Network request timed out"))},0)},ur.onabort=function(){setTimeout(function(){dr(new ut.DOMException("Aborted","AbortError"))},0)};function hr(wr){try{return wr===""&&bt.location.href?bt.location.href:wr}catch{return wr}}if(ur.open(gr.method,hr(gr.url),!0),gr.credentials==="include"?ur.withCredentials=!0:gr.credentials==="omit"&&(ur.withCredentials=!1),"responseType"in ur&&(wt.blob?ur.responseType="blob":wt.arrayBuffer&&(ur.responseType="arraybuffer")),ar&&typeof ar.headers=="object"&&!(ar.headers instanceof Yt||bt.Headers&&ar.headers instanceof bt.Headers)){var cr=[];Object.getOwnPropertyNames(ar.headers).forEach(function(wr){cr.push(Lt(wr)),ur.setRequestHeader(wr,Ut(ar.headers[wr]))}),gr.headers.forEach(function(wr,Br){cr.indexOf(Br)===-1&&ur.setRequestHeader(Br,wr)})}else gr.headers.forEach(function(wr,Br){ur.setRequestHeader(Br,wr)});gr.signal&&(gr.signal.addEventListener("abort",_r),ur.onreadystatechange=function(){ur.readyState===4&&gr.signal.removeEventListener("abort",_r)}),ur.send(typeof gr._bodyInit>"u"?null:gr._bodyInit)})}return or.polyfill=!0,bt.fetch||(bt.fetch=or,bt.Headers=Yt,bt.Request=Er,bt.Response=fr),ut.Headers=Yt,ut.Request=Er,ut.Response=fr,ut.fetch=or,Object.defineProperty(ut,"__esModule",{value:!0}),ut})({})})(tt),tt.fetch.ponyfill=!0,delete tt.fetch.polyfill;var at=et.fetch?et:tt;s=at.fetch,s.default=at.fetch,s.fetch=at.fetch,s.Headers=at.Headers,s.Request=at.Request,s.Response=at.Response,a.exports=s})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const crossFetch=getDefaultExportFromCjs$2(browserPonyfillExports),CrossFetch=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]),resolveHeaders=a=>{let s={};return a&&(typeof Headers<"u"&&a instanceof Headers||CrossFetch&&browserPonyfillExports.Headers&&a instanceof browserPonyfillExports.Headers?s=HeadersInstanceToPlainObject(a):Array.isArray(a)?a.forEach(([et,tt])=>{et&&tt!==void 0&&(s[et]=tt)}):s=a),s},cleanQuery=a=>a.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),buildRequestConfig=a=>{if(!Array.isArray(a.query)){const tt=a,at=[`query=${encodeURIComponent(cleanQuery(tt.query))}`];return a.variables&&at.push(`variables=${encodeURIComponent(tt.jsonSerializer.stringify(tt.variables))}`),tt.operationName&&at.push(`operationName=${encodeURIComponent(tt.operationName)}`),at.join("&")}if(typeof a.variables<"u"&&!Array.isArray(a.variables))throw new Error("Cannot create query with given variable type, array expected");const s=a,et=a.query.reduce((tt,at,ct)=>(tt.push({query:cleanQuery(at),variables:s.variables?s.jsonSerializer.stringify(s.variables[ct]):void 0}),tt),[]);return`query=${encodeURIComponent(s.jsonSerializer.stringify(et))}`},createHttpMethodFetcher=a=>async s=>{const{url:et,query:tt,variables:at,operationName:ct,fetch:ut,fetchOptions:bt,middleware:wt}=s,Et={...s.headers};let Ft="",jt;a==="POST"?(jt=createRequestBody(tt,at,ct,bt.jsonSerializer),typeof jt=="string"&&(Et["Content-Type"]="application/json")):Ft=buildRequestConfig({query:tt,variables:at,operationName:ct,jsonSerializer:bt.jsonSerializer??defaultJsonSerializer});const Lt={method:a,headers:Et,body:jt,...bt};let Ut=et,Vt=Lt;if(wt){const Yt=await Promise.resolve(wt({...Lt,url:et,operationName:ct,variables:at})),{url:er,...tr}=Yt;Ut=er,Vt=tr}return Ft&&(Ut=`${Ut}?${Ft}`),await ut(Ut,Vt)};class GraphQLClient{constructor(s,et={}){this.url=s,this.requestConfig=et,this.rawRequest=async(...tt)=>{const[at,ct,ut]=tt,bt=parseRawRequestArgs(at,ct,ut),{headers:wt,fetch:Et=crossFetch,method:Ft="POST",requestMiddleware:jt,responseMiddleware:Lt,...Ut}=this.requestConfig,{url:Vt}=this;bt.signal!==void 0&&(Ut.signal=bt.signal);const{operationName:Yt}=resolveRequestDocument(bt.query);return makeRequest({url:Vt,query:bt.query,variables:bt.variables,headers:{...resolveHeaders(callOrIdentity(wt)),...resolveHeaders(bt.requestHeaders)},operationName:Yt,fetch:Et,method:Ft,fetchOptions:Ut,middleware:jt}).then(er=>(Lt&&Lt(er),er)).catch(er=>{throw Lt&&Lt(er),er})}}async request(s,...et){const[tt,at]=et,ct=parseRequestArgs(s,tt,at),{headers:ut,fetch:bt=crossFetch,method:wt="POST",requestMiddleware:Et,responseMiddleware:Ft,...jt}=this.requestConfig,{url:Lt}=this;ct.signal!==void 0&&(jt.signal=ct.signal);const{query:Ut,operationName:Vt}=resolveRequestDocument(ct.document);return makeRequest({url:Lt,query:Ut,variables:ct.variables,headers:{...resolveHeaders(callOrIdentity(ut)),...resolveHeaders(ct.requestHeaders)},operationName:Vt,fetch:bt,method:wt,fetchOptions:jt,middleware:Et}).then(Yt=>(Ft&&Ft(Yt),Yt.data)).catch(Yt=>{throw Ft&&Ft(Yt),Yt})}batchRequests(s,et){const tt=parseBatchRequestArgs(s,et),{headers:at,...ct}=this.requestConfig;tt.signal!==void 0&&(ct.signal=tt.signal);const ut=tt.documents.map(({document:wt})=>resolveRequestDocument(wt).query),bt=tt.documents.map(({variables:wt})=>wt);return makeRequest({url:this.url,query:ut,variables:bt,headers:{...resolveHeaders(callOrIdentity(at)),...resolveHeaders(tt.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??crossFetch,method:this.requestConfig.method||"POST",fetchOptions:ct,middleware:this.requestConfig.requestMiddleware}).then(wt=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(wt),wt.data)).catch(wt=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(wt),wt})}setHeaders(s){return this.requestConfig.headers=s,this}setHeader(s,et){const{headers:tt}=this.requestConfig;return tt?tt[s]=et:this.requestConfig.headers={[s]:et},this}setEndpoint(s){return this.url=s,this}}const makeRequest=async a=>{const{query:s,variables:et,fetchOptions:tt}=a,at=createHttpMethodFetcher(uppercase(a.method??"post")),ct=Array.isArray(a.query),ut=await at(a),bt=await getResult(ut,tt.jsonSerializer??defaultJsonSerializer),wt=Array.isArray(bt)?!bt.some(({data:Ft})=>!Ft):!!bt.data,Et=Array.isArray(bt)||!bt.errors||Array.isArray(bt.errors)&&!bt.errors.length||tt.errorPolicy==="all"||tt.errorPolicy==="ignore";if(ut.ok&&Et&&wt){const{errors:Ft,...jt}=(Array.isArray(bt),bt),Lt=tt.errorPolicy==="ignore"?jt:bt;return{...ct?{data:Lt}:Lt,headers:ut.headers,status:ut.status}}else{const Ft=typeof bt=="string"?{error:bt}:bt;throw new ClientError({...Ft,status:ut.status,headers:ut.headers},{query:s,variables:et})}},createRequestBody=(a,s,et,tt)=>{const at=tt??defaultJsonSerializer;if(!Array.isArray(a))return at.stringify({query:a,variables:s,operationName:et});if(typeof s<"u"&&!Array.isArray(s))throw new Error("Cannot create request body with given variable type, array expected");const ct=a.reduce((ut,bt,wt)=>(ut.push({query:bt,variables:s?s[wt]:void 0}),ut),[]);return at.stringify(ct)},getResult=async(a,s)=>{let et;return a.headers.forEach((tt,at)=>{at.toLowerCase()==="content-type"&&(et=tt)}),et&&(et.toLowerCase().startsWith("application/json")||et.toLowerCase().startsWith("application/graphql+json")||et.toLowerCase().startsWith("application/graphql-response+json"))?s.parse(await a.text()):a.text()},callOrIdentity=a=>typeof a=="function"?a():a,gql=(a,...s)=>a.reduce((et,tt,at)=>`${et}${tt}${at in s?String(s[at]):""}`,"");function extendedTypeof(a){return a===null?"null":Array.isArray(a)?"array":typeof a}function isObject(a){return extendedTypeof(a)==="object"}function areGraphQLErrors(a){return Array.isArray(a)&&a.length>0&&a.every(s=>"message"in s)}function limitCloseReason(a,s){return a.length<124?a:s}const GRAPHQL_TRANSPORT_WS_PROTOCOL="graphql-transport-ws";var CloseCode;(function(a){a[a.InternalServerError=4500]="InternalServerError",a[a.InternalClientError=4005]="InternalClientError",a[a.BadRequest=4400]="BadRequest",a[a.BadResponse=4004]="BadResponse",a[a.Unauthorized=4401]="Unauthorized",a[a.Forbidden=4403]="Forbidden",a[a.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",a[a.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",a[a.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",a[a.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",a[a.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(CloseCode||(CloseCode={}));var MessageType;(function(a){a.ConnectionInit="connection_init",a.ConnectionAck="connection_ack",a.Ping="ping",a.Pong="pong",a.Subscribe="subscribe",a.Next="next",a.Error="error",a.Complete="complete"})(MessageType||(MessageType={}));function validateMessage(a){if(!isObject(a))throw new Error(`Message is expected to be an object, but got ${extendedTypeof(a)}`);if(!a.type)throw new Error("Message is missing the 'type' property");if(typeof a.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${extendedTypeof(a.type)}`);switch(a.type){case MessageType.ConnectionInit:case MessageType.ConnectionAck:case MessageType.Ping:case MessageType.Pong:{if(a.payload!=null&&!isObject(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${a.payload}"`);break}case MessageType.Subscribe:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);if(!isObject(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(a.payload)}`);if(typeof a.payload.query!="string")throw new Error(`"${a.type}" message payload expects the 'query' property to be a string, but got ${extendedTypeof(a.payload.query)}`);if(a.payload.variables!=null&&!isObject(a.payload.variables))throw new Error(`"${a.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${extendedTypeof(a.payload.variables)}`);if(a.payload.operationName!=null&&extendedTypeof(a.payload.operationName)!=="string")throw new Error(`"${a.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${extendedTypeof(a.payload.operationName)}`);if(a.payload.extensions!=null&&!isObject(a.payload.extensions))throw new Error(`"${a.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${extendedTypeof(a.payload.extensions)}`);break}case MessageType.Next:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);if(!isObject(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(a.payload)}`);break}case MessageType.Error:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);if(!areGraphQLErrors(a.payload))throw new Error(`"${a.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(a.payload)}`);break}case MessageType.Complete:{if(typeof a.id!="string")throw new Error(`"${a.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(a.id)}`);if(!a.id)throw new Error(`"${a.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${a.type}"`)}return a}function parseMessage(a,s){return validateMessage(typeof a=="string"?JSON.parse(a,s):a)}function stringifyMessage(a,s){return validateMessage(a),JSON.stringify(a,s)}var __await=function(a){return this instanceof __await?(this.v=a,this):new __await(a)},__asyncGenerator=function(a,s,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=et.apply(a,s||[]),at,ct=[];return at=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),bt("next"),bt("throw"),bt("return",ut),at[Symbol.asyncIterator]=function(){return this},at;function ut(Ut){return function(Vt){return Promise.resolve(Vt).then(Ut,jt)}}function bt(Ut,Vt){tt[Ut]&&(at[Ut]=function(Yt){return new Promise(function(er,tr){ct.push([Ut,Yt,er,tr])>1||wt(Ut,Yt)})},Vt&&(at[Ut]=Vt(at[Ut])))}function wt(Ut,Vt){try{Et(tt[Ut](Vt))}catch(Yt){Lt(ct[0][3],Yt)}}function Et(Ut){Ut.value instanceof __await?Promise.resolve(Ut.value.v).then(Ft,jt):Lt(ct[0][2],Ut)}function Ft(Ut){wt("next",Ut)}function jt(Ut){wt("throw",Ut)}function Lt(Ut,Vt){Ut(Vt),ct.shift(),ct.length&&wt(ct[0][0],ct[0][1])}};function createClient(a){const{url:s,connectionParams:et,lazy:tt=!0,onNonLazyError:at=console.error,lazyCloseTimeout:ct=0,keepAlive:ut=0,disablePong:bt,connectionAckWaitTimeout:wt=0,retryAttempts:Et=5,retryWait:Ft=async function(ar){let sr=1e3;for(let dr=0;dr<ar;dr++)sr*=2;await new Promise(dr=>setTimeout(dr,sr+Math.floor(Math.random()*2700+300)))},shouldRetry:jt=isLikeCloseEvent,isFatalConnectionProblem:Lt,on:Ut,webSocketImpl:Vt,generateID:Yt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,ar=>{const sr=Math.random()*16|0;return(ar=="x"?sr:sr&3|8).toString(16)})},jsonMessageReplacer:er,jsonMessageReviver:tr}=a;let nr;if(Vt){if(!isWebSocket(Vt))throw new Error("Invalid WebSocket implementation provided");nr=Vt}else typeof WebSocket<"u"?nr=WebSocket:typeof global$1<"u"?nr=global$1.WebSocket||global$1.MozWebSocket:typeof window<"u"&&(nr=window.WebSocket||window.MozWebSocket);if(!nr)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const ir=nr,lr=(()=>{const rr=(()=>{const sr={};return{on(dr,gr){return sr[dr]=gr,()=>{delete sr[dr]}},emit(dr){var gr;"id"in dr&&((gr=sr[dr.id])===null||gr===void 0||gr.call(sr,dr))}}})(),ar={connecting:Ut!=null&&Ut.connecting?[Ut.connecting]:[],opened:Ut!=null&&Ut.opened?[Ut.opened]:[],connected:Ut!=null&&Ut.connected?[Ut.connected]:[],ping:Ut!=null&&Ut.ping?[Ut.ping]:[],pong:Ut!=null&&Ut.pong?[Ut.pong]:[],message:Ut!=null&&Ut.message?[rr.emit,Ut.message]:[rr.emit],closed:Ut!=null&&Ut.closed?[Ut.closed]:[],error:Ut!=null&&Ut.error?[Ut.error]:[]};return{onMessage:rr.on,on(sr,dr){const gr=ar[sr];return gr.push(dr),()=>{gr.splice(gr.indexOf(dr),1)}},emit(sr,...dr){for(const gr of[...ar[sr]])gr(...dr)}}})();function pr(rr){const ar=[lr.on("error",sr=>{ar.forEach(dr=>dr()),rr(sr)}),lr.on("closed",sr=>{ar.forEach(dr=>dr()),rr(sr)})]}let yr,br=0,xr,Er=!1,$r=0,Sr=!1;async function fr(){clearTimeout(xr);const[rr,ar]=await(yr??(yr=new Promise((gr,ur)=>(async()=>{if(Er){if(await Ft($r),!br)return yr=void 0,ur({code:1e3,reason:"All Subscriptions Gone"});$r++}lr.emit("connecting",Er);const _r=new ir(typeof s=="function"?await s():s,GRAPHQL_TRANSPORT_WS_PROTOCOL);let hr,cr;function wr(){isFinite(ut)&&ut>0&&(clearTimeout(cr),cr=setTimeout(()=>{_r.readyState===ir.OPEN&&(_r.send(stringifyMessage({type:MessageType.Ping})),lr.emit("ping",!1,void 0))},ut))}pr(Or=>{yr=void 0,clearTimeout(hr),clearTimeout(cr),ur(Or),Or instanceof TerminatedCloseEvent&&(_r.close(4499,"Terminated"),_r.onerror=null,_r.onclose=null)}),_r.onerror=Or=>lr.emit("error",Or),_r.onclose=Or=>lr.emit("closed",Or),_r.onopen=async()=>{try{lr.emit("opened",_r);const Or=typeof et=="function"?await et():et;if(_r.readyState!==ir.OPEN)return;_r.send(stringifyMessage(Or?{type:MessageType.ConnectionInit,payload:Or}:{type:MessageType.ConnectionInit},er)),isFinite(wt)&&wt>0&&(hr=setTimeout(()=>{_r.close(CloseCode.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},wt)),wr()}catch(Or){lr.emit("error",Or),_r.close(CloseCode.InternalClientError,limitCloseReason(Or instanceof Error?Or.message:new Error(Or).message,"Internal client error"))}};let Br=!1;_r.onmessage=({data:Or})=>{try{const Rr=parseMessage(Or,tr);if(lr.emit("message",Rr),Rr.type==="ping"||Rr.type==="pong"){lr.emit(Rr.type,!0,Rr.payload),Rr.type==="pong"?wr():bt||(_r.send(stringifyMessage(Rr.payload?{type:MessageType.Pong,payload:Rr.payload}:{type:MessageType.Pong})),lr.emit("pong",!1,Rr.payload));return}if(Br)return;if(Rr.type!==MessageType.ConnectionAck)throw new Error(`First message cannot be of type ${Rr.type}`);clearTimeout(hr),Br=!0,lr.emit("connected",_r,Rr.payload,Er),Er=!1,$r=0,gr([_r,new Promise((Pr,Ur)=>pr(Ur))])}catch(Rr){_r.onmessage=null,lr.emit("error",Rr),_r.close(CloseCode.BadResponse,limitCloseReason(Rr instanceof Error?Rr.message:new Error(Rr).message,"Bad response"))}}})())));rr.readyState===ir.CLOSING&&await ar;let sr=()=>{};const dr=new Promise(gr=>sr=gr);return[rr,sr,Promise.race([dr.then(()=>{if(!br){const gr=()=>rr.close(1e3,"Normal Closure");isFinite(ct)&&ct>0?xr=setTimeout(()=>{rr.readyState===ir.OPEN&&gr()},ct):gr()}}),ar])]}function vr(rr){if(isLikeCloseEvent(rr)&&(isFatalInternalCloseCode(rr.code)||[CloseCode.InternalServerError,CloseCode.InternalClientError,CloseCode.BadRequest,CloseCode.BadResponse,CloseCode.Unauthorized,CloseCode.SubprotocolNotAcceptable,CloseCode.SubscriberAlreadyExists,CloseCode.TooManyInitialisationRequests].includes(rr.code)))throw rr;if(Sr)return!1;if(isLikeCloseEvent(rr)&&rr.code===1e3)return br>0;if(!Et||$r>=Et||!jt(rr)||Lt!=null&&Lt(rr))throw rr;return Er=!0}tt||(async()=>{for(br++;;)try{const[,,rr]=await fr();await rr}catch(rr){try{if(!vr(rr))return}catch(ar){return at==null?void 0:at(ar)}}})();function or(rr,ar){const sr=Yt(rr);let dr=!1,gr=!1,ur=()=>{br--,dr=!0};return(async()=>{for(br++;;)try{const[_r,hr,cr]=await fr();if(dr)return hr();const wr=lr.onMessage(sr,Br=>{switch(Br.type){case MessageType.Next:{ar.next(Br.payload);return}case MessageType.Error:{gr=!0,dr=!0,ar.error(Br.payload),ur();return}case MessageType.Complete:{dr=!0,ur();return}}});_r.send(stringifyMessage({id:sr,type:MessageType.Subscribe,payload:rr},er)),ur=()=>{!dr&&_r.readyState===ir.OPEN&&_r.send(stringifyMessage({id:sr,type:MessageType.Complete},er)),br--,dr=!0,hr()},await cr.finally(wr);return}catch(_r){if(!vr(_r))return}})().then(()=>{gr||ar.complete()}).catch(_r=>{ar.error(_r)}),()=>{dr||ur()}}return{on:lr.on,subscribe:or,iterate(rr){const ar=[],sr={done:!1,error:null,resolve:()=>{}},dr=or(rr,{next(ur){ar.push(ur),sr.resolve()},error(ur){sr.done=!0,sr.error=ur,sr.resolve()},complete(){sr.done=!0,sr.resolve()}}),gr=function(){return __asyncGenerator(this,arguments,function*(){for(;;){for(ar.length||(yield __await(new Promise(hr=>sr.resolve=hr)));ar.length;)yield yield __await(ar.shift());if(sr.error)throw sr.error;if(sr.done)return yield __await(void 0)}})}();return gr.throw=async ur=>(sr.done||(sr.done=!0,sr.error=ur,sr.resolve()),{done:!0,value:void 0}),gr.return=async()=>(dr(),{done:!0,value:void 0}),gr},async dispose(){if(Sr=!0,yr){const[rr]=await yr;rr.close(1e3,"Normal Closure")}},terminate(){yr&&lr.emit("closed",new TerminatedCloseEvent)}}}class TerminatedCloseEvent extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function isLikeCloseEvent(a){return isObject(a)&&"code"in a&&"reason"in a}function isFatalInternalCloseCode(a){return[1e3,1001,1006,1005,1012,1013,1014].includes(a)?!1:a>=1e3&&a<=1999}function isWebSocket(a){return typeof a=="function"&&"constructor"in a&&"CLOSED"in a&&"CLOSING"in a&&"CONNECTING"in a&&"OPEN"in a}var RelayConcreteNode$3={ACTOR_CHANGE:"ActorChange",CATCH_FIELD:"CatchField",CONDITION:"Condition",CLIENT_COMPONENT:"ClientComponent",CLIENT_EDGE_TO_SERVER_OBJECT:"ClientEdgeToServerObject",CLIENT_EDGE_TO_CLIENT_OBJECT:"ClientEdgeToClientObject",CLIENT_EXTENSION:"ClientExtension",DEFER:"Defer",CONNECTION:"Connection",FRAGMENT:"Fragment",FRAGMENT_SPREAD:"FragmentSpread",INLINE_DATA_FRAGMENT_SPREAD:"InlineDataFragmentSpread",INLINE_DATA_FRAGMENT:"InlineDataFragment",INLINE_FRAGMENT:"InlineFragment",LINKED_FIELD:"LinkedField",LINKED_HANDLE:"LinkedHandle",LITERAL:"Literal",LIST_VALUE:"ListValue",LOCAL_ARGUMENT:"LocalArgument",MODULE_IMPORT:"ModuleImport",ALIASED_FRAGMENT_SPREAD:"AliasedFragmentSpread",ALIASED_INLINE_FRAGMENT_SPREAD:"AliasedInlineFragmentSpread",RELAY_RESOLVER:"RelayResolver",RELAY_LIVE_RESOLVER:"RelayLiveResolver",REQUIRED_FIELD:"RequiredField",OBJECT_VALUE:"ObjectValue",OPERATION:"Operation",REQUEST:"Request",ROOT_ARGUMENT:"RootArgument",SCALAR_FIELD:"ScalarField",SCALAR_HANDLE:"ScalarHandle",SPLIT_OPERATION:"SplitOperation",STREAM:"Stream",TYPE_DISCRIMINATOR:"TypeDiscriminator",UPDATABLE_QUERY:"UpdatableQuery",VARIABLE:"Variable"},RelayConcreteNode_1=RelayConcreteNode$3,invariant$M=function(a,s,et,tt,at,ct,ut,bt){if(!a){var wt;if(s===void 0)wt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Et=[et,tt,at,ct,ut,bt],Ft=0;wt=new Error(s.replace(/%s/g,function(){return Et[Ft++]})),wt.name="Invariant Violation"}throw wt.framesToPop=1,wt}},browser$1=invariant$M;function makeEmptyFunction(a){return function(){return a}}var emptyFunction$2=function a(){};emptyFunction$2.thatReturns=makeEmptyFunction;emptyFunction$2.thatReturnsFalse=makeEmptyFunction(!1);emptyFunction$2.thatReturnsTrue=makeEmptyFunction(!0);emptyFunction$2.thatReturnsNull=makeEmptyFunction(null);emptyFunction$2.thatReturnsThis=function(){return this};emptyFunction$2.thatReturnsArgument=function(a){return a};var emptyFunction_1=emptyFunction$2,emptyFunction$1=emptyFunction_1,warning$3=emptyFunction$1,warning_1=warning$3,RelayConcreteNode$2=RelayConcreteNode_1,invariant$L=browser$1;function graphql(a){invariant$L(!1)}function getNode(a){var s=a;return typeof s=="function"?s=s():s.default&&(s=s.default),s}function isFragment(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.FRAGMENT}function isRequest(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.REQUEST}function isUpdatableQuery(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.UPDATABLE_QUERY}function isInlineDataFragment(a){var s=getNode(a);return typeof s=="object"&&s!==null&&s.kind===RelayConcreteNode$2.INLINE_DATA_FRAGMENT}function getFragment$3(a){var s=getNode(a);return isFragment(s)||invariant$L(!1),s}function getPaginationFragment(a){var s,et=getFragment$3(a),tt=(s=et.metadata)===null||s===void 0?void 0:s.refetch,at=tt==null?void 0:tt.connection;return tt===null||typeof tt!="object"||at===null||typeof at!="object"?null:et}function getRefetchableFragment(a){var s,et=getFragment$3(a),tt=(s=et.metadata)===null||s===void 0?void 0:s.refetch;return tt===null||typeof tt!="object"?null:et}function getRequest$5(a){var s=getNode(a);return isRequest(s)||invariant$L(!1),s}function getUpdatableQuery$1(a){var s=getNode(a);return isUpdatableQuery(s)||invariant$L(!1),s}function getInlineDataFragment$1(a){var s=getNode(a);return isInlineDataFragment(s)||invariant$L(!1),s}var GraphQLTag$1={getFragment:getFragment$3,getNode,getPaginationFragment,getRefetchableFragment,getRequest:getRequest$5,getUpdatableQuery:getUpdatableQuery$1,getInlineDataFragment:getInlineDataFragment$1,graphql,isFragment,isRequest,isInlineDataFragment},createForOfIteratorHelper={exports:{}},unsupportedIterableToArray={exports:{}},arrayLikeToArray={exports:{}};(function(a){function s(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var at=0,ct=Array(tt);at<tt;at++)ct[at]=et[at];return ct}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(arrayLikeToArray);var arrayLikeToArrayExports=arrayLikeToArray.exports;(function(a){var s=arrayLikeToArrayExports;function et(tt,at){if(tt){if(typeof tt=="string")return s(tt,at);var ct={}.toString.call(tt).slice(8,-1);return ct==="Object"&&tt.constructor&&(ct=tt.constructor.name),ct==="Map"||ct==="Set"?Array.from(tt):ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ct)?s(tt,at):void 0}}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports})(unsupportedIterableToArray);var unsupportedIterableToArrayExports=unsupportedIterableToArray.exports;(function(a){var s=unsupportedIterableToArrayExports;function et(tt,at){var ct=typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(!ct){if(Array.isArray(tt)||(ct=s(tt))||at&&tt&&typeof tt.length=="number"){ct&&(tt=ct);var ut=0,bt=function(){};return{s:bt,n:function(){return ut>=tt.length?{done:!0}:{done:!1,value:tt[ut++]}},e:function(Lt){throw Lt},f:bt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wt,Et=!0,Ft=!1;return{s:function(){ct=ct.call(tt)},n:function(){var Lt=ct.next();return Et=Lt.done,Lt},e:function(Lt){Ft=!0,wt=Lt},f:function(){try{Et||ct.return==null||ct.return()}finally{if(Ft)throw wt}}}}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports})(createForOfIteratorHelper);var createForOfIteratorHelperExports=createForOfIteratorHelper.exports,_interopRequireDefault$s=interopRequireDefaultExports.default,_createForOfIteratorHelper2$f=_interopRequireDefault$s(createForOfIteratorHelperExports),invariant$K=browser$1;function handleFieldErrors(a,s){var et=(0,_createForOfIteratorHelper2$f.default)(s),tt;try{for(et.s();!(tt=et.n()).done;){var at=tt.value;a.relayFieldLogger(at)}}catch(wt){et.e(wt)}finally{et.f()}var ct=(0,_createForOfIteratorHelper2$f.default)(s),ut;try{for(ct.s();!(ut=ct.n()).done;){var bt=ut.value;if(eventShouldThrow$1(bt))switch(bt.kind){case"relay_resolver.error":throw new Error("Relay: Resolver error at path '".concat(bt.fieldPath,"' in '").concat(bt.owner,"'."));case"relay_field_payload.error":throw new Error("Relay: Unexpected response payload - check server logs for details.");case"missing_expected_data.throw":throw new Error("Relay: Missing expected data at path '".concat(bt.fieldPath,"' in '").concat(bt.owner,"'."));case"missing_required_field.throw":throw new Error("Relay: Missing @required value at path '".concat(bt.fieldPath,"' in '").concat(bt.owner,"'."));case"missing_required_field.log":case"missing_expected_data.log":break;default:bt.kind,invariant$K(!1)}}}catch(wt){ct.e(wt)}finally{ct.f()}}function eventShouldThrow$1(a){switch(a.kind){case"relay_resolver.error":case"relay_field_payload.error":return a.shouldThrow&&!a.handled;case"missing_expected_data.throw":case"missing_required_field.throw":return!a.handled;case"missing_required_field.log":case"missing_expected_data.log":return!1;default:throw a.kind,new Error("Relay: Unexpected event kind")}}function handlePotentialSnapshotErrors$4(a,s){s!=null&&handleFieldErrors(a,s)}var handlePotentialSnapshotErrors_1={handlePotentialSnapshotErrors:handlePotentialSnapshotErrors$4,eventShouldThrow:eventShouldThrow$1},objectSpread2={exports:{}};(function(a){var s=requireDefineProperty();function et(at,ct){var ut=Object.keys(at);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(at);ct&&(bt=bt.filter(function(wt){return Object.getOwnPropertyDescriptor(at,wt).enumerable})),ut.push.apply(ut,bt)}return ut}function tt(at){for(var ct=1;ct<arguments.length;ct++){var ut=arguments[ct]!=null?arguments[ct]:{};ct%2?et(Object(ut),!0).forEach(function(bt){s(at,bt,ut[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(ut)):et(Object(ut)).forEach(function(bt){Object.defineProperty(at,bt,Object.getOwnPropertyDescriptor(ut,bt))})}return at}a.exports=tt,a.exports.__esModule=!0,a.exports.default=a.exports})(objectSpread2);var objectSpread2Exports=objectSpread2.exports,toConsumableArray={exports:{}},arrayWithoutHoles={exports:{}};(function(a){var s=arrayLikeToArrayExports;function et(tt){if(Array.isArray(tt))return s(tt)}a.exports=et,a.exports.__esModule=!0,a.exports.default=a.exports})(arrayWithoutHoles);var arrayWithoutHolesExports=arrayWithoutHoles.exports,iterableToArray={exports:{}};(function(a){function s(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(iterableToArray);var iterableToArrayExports=iterableToArray.exports,nonIterableSpread={exports:{}};(function(a){function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(nonIterableSpread);var nonIterableSpreadExports=nonIterableSpread.exports;(function(a){var s=arrayWithoutHolesExports,et=iterableToArrayExports,tt=unsupportedIterableToArrayExports,at=nonIterableSpreadExports;function ct(ut){return s(ut)||et(ut)||tt(ut)||at()}a.exports=ct,a.exports.__esModule=!0,a.exports.default=a.exports})(toConsumableArray);var toConsumableArrayExports=toConsumableArray.exports,RelayDefaultHandleKey$1={DEFAULT_HANDLE_KEY:""},_require$O=RelayDefaultHandleKey$1,DEFAULT_HANDLE_KEY=_require$O.DEFAULT_HANDLE_KEY,invariant$J=browser$1;function getRelayHandleKey$3(a,s,et){return s&&s!==DEFAULT_HANDLE_KEY?"__".concat(s,"_").concat(a):(et==null&&invariant$J(!1),"__".concat(et,"_").concat(a))}var getRelayHandleKey_1=getRelayHandleKey$3;function stableCopy$6(a){if(!a||typeof a!="object")return a;if(Array.isArray(a))return a.map(stableCopy$6);for(var s=Object.keys(a).sort(),et={},tt=0;tt<s.length;tt++)et[s[tt]]=stableCopy$6(a[s[tt]]);return et}function hasCycle$2(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(!a||typeof a!="object")return!1;if(s.has(a))return!0;var et=new Set(s);et.add(a);var tt=Array.isArray(a)?a:Object.values(a);return tt.some(function(at){return hasCycle$2(at,et)})}var stableCopy_1={stableCopy:stableCopy$6,hasCycle:hasCycle$2},_interopRequireDefault$r=interopRequireDefaultExports.default,_toConsumableArray2$5=_interopRequireDefault$r(toConsumableArrayExports),getRelayHandleKey$2=getRelayHandleKey_1,RelayConcreteNode$1=RelayConcreteNode_1,_require$N=stableCopy_1,stableCopy$5=_require$N.stableCopy,invariant$I=browser$1,VARIABLE=RelayConcreteNode$1.VARIABLE,LITERAL=RelayConcreteNode$1.LITERAL,OBJECT_VALUE=RelayConcreteNode$1.OBJECT_VALUE,LIST_VALUE=RelayConcreteNode$1.LIST_VALUE,ERRORS_KEY$1="__errors",MODULE_COMPONENT_KEY_PREFIX="__module_component_",MODULE_OPERATION_KEY_PREFIX="__module_operation_";function getArgumentValue(a,s){if(a.kind===VARIABLE)return getStableVariableValue(a.variableName,s);if(a.kind===LITERAL)return a.value;if(a.kind===OBJECT_VALUE){var et={};return a.fields.forEach(function(at){et[at.name]=getArgumentValue(at,s)}),et}else if(a.kind===LIST_VALUE){var tt=[];return a.items.forEach(function(at){at!=null&&tt.push(getArgumentValue(at,s))}),tt}}function getArgumentValues$5(a,s,et){var tt={};return et&&(tt[RelayStoreUtils$4.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]=!0),a&&a.forEach(function(at){tt[at.name]=getArgumentValue(at,s)}),tt}function getHandleStorageKey$3(a,s){var et=a.dynamicKey,tt=a.handle,at=a.key,ct=a.name,ut=a.args,bt=a.filters,wt=getRelayHandleKey$2(tt,at,ct),Et=null;return ut&&bt&&ut.length!==0&&bt.length!==0&&(Et=ut.filter(function(Ft){return bt.indexOf(Ft.name)>-1})),et&&(Et=Et!=null?[et].concat((0,_toConsumableArray2$5.default)(Et)):[et]),Et===null?wt:formatStorageKey(wt,getArgumentValues$5(Et,s))}function getStorageKey$7(a,s){if(a.storageKey)return a.storageKey;var et=getArguments(a),tt=a.name;return et&&et.length!==0?formatStorageKey(tt,getArgumentValues$5(et,s)):tt}function getArguments(a){if(a.kind==="RelayResolver"||a.kind==="RelayLiveResolver"){var s;if(a.args==null){var et;return(et=a.fragment)===null||et===void 0?void 0:et.args}return((s=a.fragment)===null||s===void 0?void 0:s.args)==null?a.args:a.args.concat(a.fragment.args)}var tt=typeof a.args>"u"?void 0:a.args;return tt}function getStableStorageKey$2(a,s){return formatStorageKey(a,stableCopy$5(s))}function formatStorageKey(a,s){if(!s)return a;var et=[];for(var tt in s)if(s.hasOwnProperty(tt)){var at=s[tt];if(at!=null){var ct;et.push(tt+":"+((ct=JSON.stringify(at))!==null&&ct!==void 0?ct:"undefined"))}}return et.length===0?a:a+"(".concat(et.join(","),")")}function getStableVariableValue(a,s){return s.hasOwnProperty(a)||invariant$I(!1),stableCopy$5(s[a])}function getModuleComponentKey$3(a){return"".concat(MODULE_COMPONENT_KEY_PREFIX).concat(a)}function getModuleOperationKey$4(a){return"".concat(MODULE_OPERATION_KEY_PREFIX).concat(a)}var RelayStoreUtils$4={ACTOR_IDENTIFIER_KEY:"__actorIdentifier",CLIENT_EDGE_TRAVERSAL_PATH:"__clientEdgeTraversalPath",FRAGMENTS_KEY:"__fragments",FRAGMENT_OWNER_KEY:"__fragmentOwner",FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT:"$isWithinUnmatchedTypeRefinement",FRAGMENT_PROP_NAME_KEY:"__fragmentPropName",MODULE_COMPONENT_KEY:"__module_component",ERRORS_KEY:ERRORS_KEY$1,ID_KEY:"__id",REF_KEY:"__ref",REFS_KEY:"__refs",ROOT_ID:"client:root",ROOT_TYPE:"__Root",TYPENAME_KEY:"__typename",INVALIDATED_AT_KEY:"__invalidated_at",RELAY_RESOLVER_VALUE_KEY:"__resolverValue",RELAY_RESOLVER_INVALIDATION_KEY:"__resolverValueMayBeInvalid",RELAY_RESOLVER_SNAPSHOT_KEY:"__resolverSnapshot",RELAY_RESOLVER_ERROR_KEY:"__resolverError",RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS:"__resolverOutputTypeRecordIDs",getArgumentValues:getArgumentValues$5,getHandleStorageKey:getHandleStorageKey$3,getStorageKey:getStorageKey$7,getStableStorageKey:getStableStorageKey$2,getModuleComponentKey:getModuleComponentKey$3,getModuleOperationKey:getModuleOperationKey$4},RelayStoreUtils_1=RelayStoreUtils$4,_interopRequireDefault$q=interopRequireDefaultExports.default,_objectSpread2$a=_interopRequireDefault$q(objectSpread2Exports),_require$M=RelayStoreUtils_1,getArgumentValues$4=_require$M.getArgumentValues,invariant$H=browser$1;function getFragmentVariables$1(a,s,et){if(a.argumentDefinitions==null)return et;var tt;return a.argumentDefinitions.forEach(function(at){if(!et.hasOwnProperty(at.name))switch(tt=tt||(0,_objectSpread2$a.default)({},et),at.kind){case"LocalArgument":tt[at.name]=at.defaultValue;break;case"RootArgument":if(!s.hasOwnProperty(at.name)){tt[at.name]=void 0;break}tt[at.name]=s[at.name];break;default:invariant$H(!1)}}),tt||et}function getOperationVariables$1(a,s,et){var tt={};return a.argumentDefinitions.forEach(function(at){var ct=at.defaultValue;et[at.name]!=null&&(ct=et[at.name]),tt[at.name]=ct}),s!=null&&Object.keys(s).forEach(function(at){tt[at]=s[at].get()}),tt}function getLocalVariables$4(a,s,et){if(s==null)return a;var tt=(0,_objectSpread2$a.default)({},a),at=et?getArgumentValues$4(et,a):{};return s.forEach(function(ct){var ut,bt=(ut=at[ct.name])!==null&&ut!==void 0?ut:ct.defaultValue;tt[ct.name]=bt}),tt}var RelayConcreteVariables$2={getLocalVariables:getLocalVariables$4,getFragmentVariables:getFragmentVariables$1,getOperationVariables:getOperationVariables$1},aStackPool=[],bStackPool=[];/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function areEqual$5(a,s){var et=aStackPool.length?aStackPool.pop():[],tt=bStackPool.length?bStackPool.pop():[],at=eq(a,s,et,tt);return et.length=0,tt.length=0,aStackPool.push(et),bStackPool.push(tt),at}function eq(a,s,et,tt){if(a===s)return a!==0||1/a==1/s;if(a==null||s==null||typeof a!="object"||typeof s!="object")return!1;var at=Object.prototype.toString,ct=at.call(a);if(ct!=at.call(s))return!1;switch(ct){case"[object String]":return a==String(s);case"[object Number]":return isNaN(a)||isNaN(s)?!1:a==Number(s);case"[object Date]":case"[object Boolean]":return+a==+s;case"[object RegExp]":return a.source==s.source&&a.global==s.global&&a.multiline==s.multiline&&a.ignoreCase==s.ignoreCase}for(var ut=et.length;ut--;)if(et[ut]==a)return tt[ut]==s;et.push(a),tt.push(s);var bt=0;if(ct==="[object Array]"){if(bt=a.length,bt!==s.length)return!1;for(;bt--;)if(!eq(a[bt],s[bt],et,tt))return!1}else{if(a.constructor!==s.constructor)return!1;if(a.hasOwnProperty("valueOf")&&s.hasOwnProperty("valueOf"))return a.valueOf()==s.valueOf();var wt=Object.keys(a);if(wt.length!=Object.keys(s).length)return!1;for(var Et=0;Et<wt.length;Et++)if(!eq(a[wt[Et]],s[wt[Et]],et,tt))return!1}return et.pop(),tt.pop(),!0}var areEqual_1=areEqual$5,_require$L=RelayConcreteVariables$2,getFragmentVariables=_require$L.getFragmentVariables,_require2$v=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH$1=_require2$v.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY$1=_require2$v.FRAGMENT_OWNER_KEY,FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT=_require2$v.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT,FRAGMENTS_KEY$2=_require2$v.FRAGMENTS_KEY,ID_KEY$3=_require2$v.ID_KEY,areEqual$4=areEqual_1,invariant$G=browser$1;function getSingularSelector(a,s){typeof s=="object"&&s!==null&&!Array.isArray(s)||invariant$G(!1);var et=s[ID_KEY$3],tt=s[FRAGMENTS_KEY$2],at=s[FRAGMENT_OWNER_KEY$1],ct=s[CLIENT_EDGE_TRAVERSAL_PATH$1];if(typeof et=="string"&&typeof tt=="object"&&tt!==null&&typeof tt[a.name]=="object"&&tt[a.name]!==null&&typeof at=="object"&&at!==null&&(ct==null||Array.isArray(ct))){var ut=at,bt=ct,wt=tt[a.name],Et=getFragmentVariables(a,ut.variables,wt),Ft=wt[FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]===!0;return createReaderSelector$4(a,et,Et,ut,Ft,bt)}return null}function getPluralSelector(a,s){var et=null;return s.forEach(function(tt,at){var ct=tt!=null?getSingularSelector(a,tt):null;ct!=null&&(et=et||[],et.push(ct))}),et==null?null:{kind:"PluralReaderSelector",selectors:et}}function getSelector$3(a,s){return s==null?s:a.metadata&&a.metadata.plural===!0?(Array.isArray(s)||invariant$G(!1),getPluralSelector(a,s)):(Array.isArray(s)&&invariant$G(!1),getSingularSelector(a,s))}function getSelectorsFromObject$1(a,s){var et={};for(var tt in a)if(a.hasOwnProperty(tt)){var at=a[tt],ct=s[tt];et[tt]=getSelector$3(at,ct)}return et}function getDataIDsFromObject(a,s){var et={};for(var tt in a)if(a.hasOwnProperty(tt)){var at=a[tt],ct=s[tt];et[tt]=getDataIDsFromFragment$1(at,ct)}return et}function getDataIDsFromFragment$1(a,s){return s==null?s:a.metadata&&a.metadata.plural===!0?(Array.isArray(s)||invariant$G(!1),getDataIDs(a,s)):(Array.isArray(s)&&invariant$G(!1),getDataID$1(a,s))}function getDataIDs(a,s){var et=null;return s.forEach(function(tt){var at=tt!=null?getDataID$1(a,tt):null;at!=null&&(et=et||[],et.push(at))}),et}function getDataID$1(a,s){typeof s=="object"&&s!==null&&!Array.isArray(s)||invariant$G(!1);var et=s[ID_KEY$3];return typeof et=="string"?et:null}function getVariablesFromObject(a,s){var et={};for(var tt in a)if(a.hasOwnProperty(tt)){var at=a[tt],ct=s[tt],ut=getVariablesFromFragment$2(at,ct);Object.assign(et,ut)}return et}function getVariablesFromFragment$2(a,s){var et;return s==null?{}:((et=a.metadata)===null||et===void 0?void 0:et.plural)===!0?(Array.isArray(s)||invariant$G(!1),getVariablesFromPluralFragment(a,s)):(Array.isArray(s)&&invariant$G(!1),getVariablesFromSingularFragment(a,s)||{})}function getVariablesFromSingularFragment(a,s){var et=getSingularSelector(a,s);return et?et.variables:null}function getVariablesFromPluralFragment(a,s){var et={};return s.forEach(function(tt,at){if(tt!=null){var ct=getVariablesFromSingularFragment(a,tt);ct!=null&&Object.assign(et,ct)}}),et}function areEqualSingularSelectors(a,s){return a.dataID===s.dataID&&a.node===s.node&&areEqual$4(a.variables,s.variables)&&areEqualOwners(a.owner,s.owner)&&a.isWithinUnmatchedTypeRefinement===s.isWithinUnmatchedTypeRefinement&&areEqualClientEdgeTraversalPaths(a.clientEdgeTraversalPath,s.clientEdgeTraversalPath)}function areEqualOwners(a,s){return a===s?!0:a.identifier===s.identifier&&areEqual$4(a.cacheConfig,s.cacheConfig)}function areEqualClientEdgeTraversalPaths(a,s){if(a===s)return!0;if(a==null||s==null||a.length!==s.length)return!1;for(var et=a.length;et--;){var tt=a[et],at=s[et];if(tt!==at&&(tt==null||at==null||tt.clientEdgeDestinationID!==at.clientEdgeDestinationID||tt.readerClientEdge!==at.readerClientEdge))return!1}return!0}function areEqualSelectors$1(a,s){return a===s?!0:a==null?s==null:s==null?a==null:a.kind==="SingularReaderSelector"&&s.kind==="SingularReaderSelector"?areEqualSingularSelectors(a,s):a.kind==="PluralReaderSelector"&&s.kind==="PluralReaderSelector"?a.selectors.length===s.selectors.length&&a.selectors.every(function(et,tt){return areEqualSingularSelectors(et,s.selectors[tt])}):!1}function createReaderSelector$4(a,s,et,tt){var at=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,ct=arguments.length>5?arguments[5]:void 0;return{kind:"SingularReaderSelector",dataID:s,isWithinUnmatchedTypeRefinement:at,clientEdgeTraversalPath:ct??null,node:a,variables:et,owner:tt}}function createNormalizationSelector$4(a,s,et){return{dataID:s,node:a,variables:et}}var RelayModernSelector$1={areEqualSelectors:areEqualSelectors$1,createReaderSelector:createReaderSelector$4,createNormalizationSelector:createNormalizationSelector$4,getDataIDsFromFragment:getDataIDsFromFragment$1,getDataIDsFromObject,getSingularSelector,getPluralSelector,getSelector:getSelector$3,getSelectorsFromObject:getSelectorsFromObject$1,getVariablesFromSingularFragment,getVariablesFromPluralFragment,getVariablesFromFragment:getVariablesFromFragment$2,getVariablesFromObject},_require$K=GraphQLTag$1,getFragment$2=_require$K.getFragment,_require2$u=handlePotentialSnapshotErrors_1,eventShouldThrow=_require2$u.eventShouldThrow,_require3$i=RelayModernSelector$1,getSelector$2=_require3$i.getSelector,invariant$F=browser$1,contextStack=[];function withResolverContext$1(a,s){contextStack.push(a);try{return s()}finally{contextStack.pop()}}function readFragment(a,s){if(!contextStack.length)throw new Error("readFragment should be called only from within a Relay Resolver function.");var et=contextStack[contextStack.length-1],tt=getFragment$2(a),at=getSelector$2(tt,s);at==null&&invariant$F(!1),at.kind!=="SingularReaderSelector"&&invariant$F(!1);var ct=et.getDataForResolverFragment(at,s),ut=ct.data,bt=ct.isMissingData,wt=ct.errorResponseFields;if(bt||wt!=null&&wt.some(eventShouldThrow))throw RESOLVER_FRAGMENT_ERRORED_SENTINEL$1;return ut}var RESOLVER_FRAGMENT_ERRORED_SENTINEL$1={},ResolverFragments$1={readFragment,withResolverContext:withResolverContext$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL:RESOLVER_FRAGMENT_ERRORED_SENTINEL$1},_require$J=ResolverFragments$1;_require$J.readFragment;function isPromise$2(a){return a!=null&&typeof a=="object"&&typeof a.then=="function"}var isPromise_1=isPromise$2,isPromise$1=isPromise_1,hostReportError=swallowError,RelayObservable$6=function(){a.create=function(tt){return new a(tt)};function a(et){this._source=et}a.onUnhandledError=function(tt){hostReportError=tt},a.from=function(tt){return isObservable(tt)?fromObservable(tt):isPromise$1(tt)?fromPromise(tt):fromValue(tt)};var s=a.prototype;return s.catch=function(tt){var at=this;return a.create(function(ct){var ut;return at.subscribe({start:function(wt){ut=wt},next:ct.next,complete:ct.complete,error:function(wt){try{tt(wt).subscribe({start:function(Ft){ut=Ft},next:ct.next,complete:ct.complete,error:ct.error})}catch(Et){ct.error(Et,!0)}}}),function(){return ut.unsubscribe()}})},s.concat=function(tt){var at=this;return a.create(function(ct){var ut;return at.subscribe({start:function(wt){ut=wt},next:ct.next,error:ct.error,complete:function(){ut=tt.subscribe(ct)}}),function(){ut&&ut.unsubscribe()}})},s.do=function(tt){var at=this;return a.create(function(ct){var ut=function(wt){return function(){try{tt[wt]&&tt[wt].apply(tt,arguments)}catch(Et){hostReportError(Et,!0)}ct[wt]&&ct[wt].apply(ct,arguments)}};return at.subscribe({start:ut("start"),next:ut("next"),error:ut("error"),complete:ut("complete"),unsubscribe:ut("unsubscribe")})})},s.finally=function(tt){var at=this;return a.create(function(ct){var ut=at.subscribe(ct);return function(){ut.unsubscribe(),tt()}})},s.ifEmpty=function(tt){var at=this;return a.create(function(ct){var ut=!1,bt;return bt=at.subscribe({next:function(Et){ut=!0,ct.next(Et)},error:ct.error,complete:function(){ut?ct.complete():bt=tt.subscribe(ct)}}),function(){bt&&bt.unsubscribe()}})},s.subscribe=function(tt){return _subscribe(this._source,tt)},s.map=function(tt){var at=this;return a.create(function(ct){var ut=at.subscribe({complete:ct.complete,error:ct.error,next:function(wt){try{var Et=tt(wt);ct.next(Et)}catch(Ft){ct.error(Ft,!0)}}});return function(){ut.unsubscribe()}})},s.mergeMap=function(tt){var at=this;return a.create(function(ct){var ut=[];function bt(Et){this._sub=Et,ut.push(Et)}function wt(){ut.splice(ut.indexOf(this._sub),1),ut.length===0&&ct.complete()}return at.subscribe({start:bt,next:function(Ft){try{ct.closed||a.from(tt(Ft)).subscribe({start:bt,next:ct.next,error:ct.error,complete:wt})}catch(jt){ct.error(jt,!0)}},error:ct.error,complete:wt}),function(){ut.forEach(function(Et){return Et.unsubscribe()}),ut.length=0}})},s.poll=function(tt){var at=this;return a.create(function(ct){var ut,bt,wt=function Et(){ut=at.subscribe({next:ct.next,error:ct.error,complete:function(){bt=setTimeout(Et,tt)}})};return wt(),function(){clearTimeout(bt),ut.unsubscribe()}})},s.toPromise=function(){var tt=this;return new Promise(function(at,ct){var ut=!1;tt.subscribe({next:function(wt){ut||(ut=!0,at(wt))},error:ct,complete:at})})},a}();function isObservable(a){return typeof a=="object"&&a!==null&&typeof a.subscribe=="function"}function fromObservable(a){return a instanceof RelayObservable$6?a:RelayObservable$6.create(function(s){return a.subscribe(s)})}function fromPromise(a){return RelayObservable$6.create(function(s){a.then(function(et){s.next(et),s.complete()},s.error)})}function fromValue(a){return RelayObservable$6.create(function(s){s.next(a),s.complete()})}function _subscribe(a,s){var et=!1,tt,at=function(Et){return Object.defineProperty(Et,"closed",{get:function(){return et}})};function ct(){if(tt){if(tt.unsubscribe)tt.unsubscribe();else try{tt()}catch(wt){hostReportError(wt,!0)}tt=void 0}}var ut=at({unsubscribe:function(){if(!et){et=!0;try{s.unsubscribe&&s.unsubscribe(ut)}catch(Et){hostReportError(Et,!0)}finally{ct()}}}});try{s.start&&s.start(ut)}catch(wt){hostReportError(wt,!0)}if(et)return ut;var bt=at({next:function(Et){if(!et&&s.next)try{s.next(Et)}catch(Ft){hostReportError(Ft,!0)}},error:function(Et,Ft){if(et||!s.error)et=!0,hostReportError(Et,Ft||!1),ct();else{et=!0;try{s.error(Et)}catch(jt){hostReportError(jt,!0)}finally{ct()}}},complete:function(){if(!et){et=!0;try{s.complete&&s.complete()}catch(Et){hostReportError(Et,!0)}finally{ct()}}}});try{tt=a(bt)}catch(wt){bt.error(wt,!0)}return et&&ct(),ut}function swallowError(a,s){}var RelayObservable_1=RelayObservable$6,_interopRequireDefault$p=interopRequireDefaultExports.default,_createForOfIteratorHelper2$e=_interopRequireDefault$p(createForOfIteratorHelperExports),_defineProperty2$5=_interopRequireDefault$p(requireDefineProperty()),RelayObservable$5=RelayObservable_1,invariant$E=browser$1,RelayReplaySubject$2=function(){function a(){var et=this;(0,_defineProperty2$5.default)(this,"_complete",!1),(0,_defineProperty2$5.default)(this,"_events",[]),(0,_defineProperty2$5.default)(this,"_sinks",new Set),(0,_defineProperty2$5.default)(this,"_subscription",[]),this._observable=RelayObservable$5.create(function(tt){et._sinks.add(tt);for(var at=et._events,ct=0;ct<at.length&&!tt.closed;ct++){var ut=at[ct];switch(ut.kind){case"complete":tt.complete();break;case"error":tt.error(ut.error);break;case"next":tt.next(ut.data);break;default:ut.kind,invariant$E(!1)}}return function(){et._sinks.delete(tt)}})}var s=a.prototype;return s.complete=function(){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"complete"}),this._sinks.forEach(function(tt){return tt.complete()}))},s.error=function(tt){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"error",error:tt}),this._sinks.forEach(function(at){return at.error(tt)}))},s.next=function(tt){this._complete!==!0&&(this._events.push({kind:"next",data:tt}),this._sinks.forEach(function(at){return at.next(tt)}))},s.subscribe=function(tt){var at=this._observable.subscribe(tt);return this._subscription.push(at),at},s.unsubscribe=function(){var tt=(0,_createForOfIteratorHelper2$e.default)(this._subscription),at;try{for(tt.s();!(at=tt.n()).done;){var ct=at.value;ct.unsubscribe()}}catch(ut){tt.e(ut)}finally{tt.f()}this._subscription=[]},s.getObserverCount=function(){return this._sinks.size},a}(),RelayReplaySubject_1=RelayReplaySubject$2,Observable$1=RelayObservable_1,RelayReplaySubject$1=RelayReplaySubject_1,invariant$D=browser$1,WEAKMAP_SUPPORTED$1=typeof WeakMap=="function",requestCachesByEnvironment=WEAKMAP_SUPPORTED$1?new WeakMap:new Map;function fetchQuery$2(a,s){return fetchQueryDeduped(a,s.request.identifier,function(){return a.execute({operation:s})})}function fetchQueryDeduped(a,s,et){return Observable$1.create(function(tt){var at=getRequestCache(a),ct=at.get(s);return ct||et().finally(function(){return at.delete(s)}).subscribe({start:function(bt){ct={identifier:s,subject:new RelayReplaySubject$1,subjectForInFlightStatus:new RelayReplaySubject$1,subscription:bt,promise:null},at.set(s,ct)},next:function(bt){var wt=getCachedRequest(at,s);wt.subject.next(bt),wt.subjectForInFlightStatus.next(bt)},error:function(bt){var wt=getCachedRequest(at,s);wt.subject.error(bt),wt.subjectForInFlightStatus.error(bt)},complete:function(){var bt=getCachedRequest(at,s);bt.subject.complete(),bt.subjectForInFlightStatus.complete()},unsubscribe:function(bt){var wt=getCachedRequest(at,s);wt.subject.unsubscribe(),wt.subjectForInFlightStatus.unsubscribe()}}),ct==null&&invariant$D(!1),getObservableForCachedRequest(at,ct).subscribe(tt)})}function getObservableForCachedRequest(a,s){return Observable$1.create(function(et){var tt=s.subject.subscribe(et);return function(){tt.unsubscribe();var at=a.get(s.identifier);if(at){var ct=at.subscription;ct!=null&&at.subject.getObserverCount()===0&&(ct.unsubscribe(),a.delete(s.identifier))}}})}function getActiveStatusObservableForCachedRequest(a,s,et){return Observable$1.create(function(tt){var at=et.subjectForInFlightStatus.subscribe({error:tt.error,next:function(ut){if(!a.isRequestActive(et.identifier)){tt.complete();return}tt.next()},complete:tt.complete,unsubscribe:tt.complete});return function(){at.unsubscribe()}})}function getPromiseForActiveRequest$1(a,s){var et=getRequestCache(a),tt=et.get(s.identifier);if(!tt||!a.isRequestActive(tt.identifier))return null;var at=new Promise(function(ct,ut){var bt=!1;getActiveStatusObservableForCachedRequest(a,et,tt).subscribe({complete:ct,error:ut,next:function(Et){bt&&ct(Et)}}),bt=!0});return at}function getObservableForActiveRequest(a,s){var et=getRequestCache(a),tt=et.get(s.identifier);return!tt||!a.isRequestActive(tt.identifier)?null:getActiveStatusObservableForCachedRequest(a,et,tt)}function getRequestCache(a){var s=requestCachesByEnvironment.get(a);if(s!=null)return s;var et=new Map;return requestCachesByEnvironment.set(a,et),et}function getCachedRequest(a,s){var et=a.get(s);return et==null&&invariant$D(!1),et}var fetchQueryInternal$2={fetchQuery:fetchQuery$2,fetchQueryDeduped,getPromiseForActiveRequest:getPromiseForActiveRequest$1,getObservableForActiveRequest},_require$I=fetchQueryInternal$2,getPromiseForActiveRequest=_require$I.getPromiseForActiveRequest;function getPendingOperationsForFragment$3(a,s,et){var tt,at,ct=[],ut=getPromiseForActiveRequest(a,et);if(ut!=null)ct=[et];else{var bt,wt,Et=a.getOperationTracker(),Ft=Et.getPendingOperationsAffectingOwner(et);ct=(bt=Ft==null?void 0:Ft.pendingOperations)!==null&&bt!==void 0?bt:[],ut=(wt=Ft==null?void 0:Ft.promise)!==null&&wt!==void 0?wt:null}if(!ut)return null;var jt=(tt=(at=ct)===null||at===void 0?void 0:at.map(function(Vt){return Vt.node.params.name}).join(","))!==null&&tt!==void 0?tt:null;(jt==null||jt.length===0)&&(jt="Unknown pending operation");var Lt=s.name,Ut=jt===Lt?"Relay(".concat(jt,")"):"Relay(".concat(jt,":").concat(Lt,")");return ut.displayName=Ut,a.__log({name:"pendingoperation.found",fragment:s,fragmentOwner:et,pendingOperations:ct}),{promise:ut,pendingOperations:ct}}var getPendingOperationsForFragment_1=getPendingOperationsForFragment$3;requireAsyncToGenerator().default;var Observable=RelayObservable_1,_require$H=GraphQLTag$1,getFragment$1=_require$H.getFragment,getPendingOperationsForFragment$2=getPendingOperationsForFragment_1,_require2$t=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$3=_require2$t.handlePotentialSnapshotErrors,_require3$h=RelayModernSelector$1,getSelector$1=_require3$h.getSelector,invariant$C=browser$1;function observeFragment$1(a,s,et){var tt,at=getFragment$1(s),ct=getSelector$1(at,et);switch(((tt=at.metadata)===null||tt===void 0?void 0:tt.hasClientEdges)!=null&&invariant$C(!1),ct==null&&invariant$C(!1),ct.kind){case"SingularReaderSelector":return observeSelector(a,s,ct);case"PluralReaderSelector":invariant$C(!1)}invariant$C(!1)}function observeSelector(a,s,et){var tt=a.lookup(et);return Observable.create(function(at){at.next(snapshotToFragmentState(a,s,et.owner,tt));var ct=a.subscribe(tt,function(ut){at.next(snapshotToFragmentState(a,s,et.owner,ut))});return function(){return ct.dispose()}})}function snapshotToFragmentState(a,s,et,tt){var at=tt.missingLiveResolverFields!=null&&tt.missingLiveResolverFields.length>0,ct=tt.missingClientEdges!=null&&tt.missingClientEdges.length>0;if(at||ct)return{state:"loading"};if(tt.isMissingData){var ut=getPendingOperationsForFragment$2(a,s,et);if(ut!=null)return{state:"loading"}}try{handlePotentialSnapshotErrors$3(a,tt.errorResponseFields)}catch(bt){return{error:bt,state:"error"}}return tt.data==null&&invariant$C(!1),{state:"ok",value:tt.data}}var observeFragmentExperimental={observeFragment:observeFragment$1},_asyncToGenerator=requireAsyncToGenerator().default,_require$G=observeFragmentExperimental,observeFragment=_require$G.observeFragment;function waitForFragmentData(a,s,et){return _waitForFragmentData.apply(this,arguments)}function _waitForFragmentData(){return _waitForFragmentData=_asyncToGenerator(function*(a,s,et){var tt;try{var at,ct=yield new Promise(function(bt,wt){tt=observeFragment(a,s,et).subscribe({next:function(Ft){Ft.state==="ok"?bt(Ft.value):Ft.state==="error"&&wt(Ft.error)}})});return(at=tt)===null||at===void 0||at.unsubscribe(),ct}catch(bt){var ut;throw(ut=tt)===null||ut===void 0||ut.unsubscribe(),bt}}),_waitForFragmentData.apply(this,arguments)}var waitForFragmentExperimental={waitForFragmentData},_require$F=observeFragmentExperimental;_require$F.observeFragment;var _require2$s=waitForFragmentExperimental;_require2$s.waitForFragmentData;function isValueResult$1(a){return a.ok===!0}function isErrorResult$1(a){return a.ok===!1}var experimental={isValueResult:isValueResult$1,isErrorResult:isErrorResult$1},RelayFeatureFlags$9={ENABLE_VARIABLE_CONNECTION_KEY:!1,ENABLE_RELAY_RESOLVERS:!1,ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION:!1,ENABLE_FRIENDLY_QUERY_NAME_GQL_URL:!1,ENABLE_DO_NOT_WRAP_LIVE_QUERY:!1,ENABLE_NOTIFY_SUBSCRIPTION:!1,BATCH_ASYNC_MODULE_UPDATES_FN:null,ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT:!1,MAX_DATA_ID_LENGTH:null,STRING_INTERN_LEVEL:0,LOG_MISSING_RECORDS_IN_PROD:!1,ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS:!1,ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION:!1,ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES:!1,ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE:!1,PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION:!1,MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD:!1,ENABLE_CYLE_DETECTION_IN_VARIABLES:!1,ENABLE_ACTIVITY_COMPATIBILITY:!1,ENABLE_READ_TIME_RESOLVER_STORAGE_KEY_PREFIX:!0},RelayFeatureFlags_1=RelayFeatureFlags$9,internTable=new Map,nextIndex=1,digits=initDigitTable(),INTERN_PREFIX="	",ESCAPE_PREFIX="\v";function initDigitTable(){for(var a=new Set,s=0;s<10;++s)a.add(s.toString());return a}function escape$1(a){return a[0]===INTERN_PREFIX&&digits.has(a[1])||a[0]===ESCAPE_PREFIX?ESCAPE_PREFIX+a:a}function intern$2(a,s){if(s==null||a.length<s)return escape$1(a);var et=internTable.get(a);return et!=null||(et=INTERN_PREFIX+nextIndex++,internTable.set(a,et)),et}var StringInterner={intern:intern$2},RelayFeatureFlags$8=RelayFeatureFlags_1,_require$E=StringInterner,intern$1=_require$E.intern,PREFIX$1="client:";function generateClientID$7(a,s,et){var tt=RelayFeatureFlags$8.STRING_INTERN_LEVEL<=0?a:intern$1(a,RelayFeatureFlags$8.MAX_DATA_ID_LENGTH),at=tt+":"+s;return et!=null&&(at+=":"+et),at.indexOf(PREFIX$1)!==0&&(at=PREFIX$1+at),at}function isClientID$2(a){return a.indexOf(PREFIX$1)===0}var localID=0;function generateUniqueClientID$3(){return"".concat(PREFIX$1,"local:").concat(localID++)}function generateClientObjectClientID$2(a,s,et){var tt="".concat(PREFIX$1).concat(a,":").concat(s);return et!=null&&(tt+=":"+et),tt}var ClientID={generateClientID:generateClientID$7,generateClientObjectClientID:generateClientObjectClientID$2,generateUniqueClientID:generateUniqueClientID$3,isClientID:isClientID$2},CONNECTION_CALLS={after:!0,before:!0,find:!0,first:!0,last:!0,surrounds:!0},config={CURSOR:"cursor",EDGES:"edges",END_CURSOR:"endCursor",HAS_NEXT_PAGE:"hasNextPage",HAS_PREV_PAGE:"hasPreviousPage",NODE:"node",PAGE_INFO_TYPE:"PageInfo",PAGE_INFO:"pageInfo",START_CURSOR:"startCursor"},ConnectionInterface$3={inject:function a(s){config=s},get:function a(){return config},isConnectionCall:function a(s){return CONNECTION_CALLS.hasOwnProperty(s.name)}},ConnectionInterface_1=ConnectionInterface$3,_require$D=ClientID,generateClientID$6=_require$D.generateClientID,_require2$r=RelayStoreUtils_1,getStableStorageKey$1=_require2$r.getStableStorageKey,getRelayHandleKey$1=getRelayHandleKey_1,ConnectionInterface$2=ConnectionInterface_1,invariant$B=browser$1,CONNECTION="connection",NEXT_EDGE_INDEX="__connection_next_edge_index";function update$1(a,s){var et=a.get(s.dataID);if(et){var tt=ConnectionInterface$2.get(),at=tt.EDGES,ct=tt.END_CURSOR,ut=tt.HAS_NEXT_PAGE,bt=tt.HAS_PREV_PAGE,wt=tt.PAGE_INFO,Et=tt.PAGE_INFO_TYPE,Ft=tt.START_CURSOR,jt=et.getLinkedRecord(s.fieldKey),Lt=jt&&jt.getLinkedRecord(wt);if(!jt){et.setValue(null,s.handleKey,void 0,et.getErrors(s.fieldKey));return}var Ut=generateClientID$6(et.getDataID(),s.handleKey),Vt=et.getLinkedRecord(s.handleKey),Yt=Vt??a.get(Ut),er=Yt&&Yt.getLinkedRecord(wt);if(Yt){Vt==null&&et.setLinkedRecord(Yt,s.handleKey);var ir=Yt,lr=jt.getLinkedRecords(at);lr&&(lr=lr.map(function(dr){return buildConnectionEdge(a,ir,dr)}));var pr=ir.getLinkedRecords(at),yr=ir.getLinkedRecord(wt);ir.copyFieldsFrom(jt),pr&&ir.setLinkedRecords(pr,at),yr&&ir.setLinkedRecord(yr,wt);var br=[],xr=s.args;if(pr&&lr)if(xr.after!=null){var Er,$r=(Er=er)===null||Er===void 0?void 0:Er.getValue(ct),Sr=Lt==null?void 0:Lt.getValue(ct),fr=er&&xr.after===$r,vr=er&&$r===Sr;if(fr||vr){var or=new Set;mergeEdges(pr,br,or),mergeEdges(lr,br,or)}else return}else if(xr.before!=null)if(er&&xr.before===er.getValue(Ft)){var rr=new Set;mergeEdges(lr,br,rr),mergeEdges(pr,br,rr)}else return;else br=lr;else lr?br=lr:br=pr;if(br!=null&&br!==pr&&ir.setLinkedRecords(br,at),er&&Lt){if(xr.after==null&&xr.before==null)er.copyFieldsFrom(Lt);else if(xr.before!=null||xr.after==null&&xr.last){er.setValue(!!Lt.getValue(bt),bt);var ar=Lt.getValue(Ft);typeof ar=="string"&&er.setValue(ar,Ft)}else if(xr.after!=null||xr.before==null&&xr.first){er.setValue(!!Lt.getValue(ut),ut);var sr=Lt.getValue(ct);typeof sr=="string"&&er.setValue(sr,ct)}}}else{var tr=a.create(Ut,jt.getType());tr.setValue(0,NEXT_EDGE_INDEX),tr.copyFieldsFrom(jt);var nr=jt.getLinkedRecords(at);nr&&(nr=nr.map(function(dr){return buildConnectionEdge(a,tr,dr)}),tr.setLinkedRecords(nr,at)),et.setLinkedRecord(tr,s.handleKey),er=a.create(generateClientID$6(tr.getDataID(),wt),Et),er.setValue(!1,ut),er.setValue(!1,bt),er.setValue(null,ct),er.setValue(null,Ft),Lt&&er.copyFieldsFrom(Lt),tr.setLinkedRecord(er,wt)}}}function getConnection(a,s,et){var tt=getRelayHandleKey$1(CONNECTION,s,null);return a.getLinkedRecord(tt,et)}function getConnectionID(a,s,et){var tt=getRelayHandleKey$1(CONNECTION,s,null),at=getStableStorageKey$1(tt,et);return generateClientID$6(a,at)}function insertEdgeAfter(a,s,et){var tt=ConnectionInterface$2.get(),at=tt.CURSOR,ct=tt.EDGES,ut=a.getLinkedRecords(ct);if(!ut){a.setLinkedRecords([s],ct);return}var bt;if(et==null)bt=ut.concat(s);else{bt=[];for(var wt=!1,Et=0;Et<ut.length;Et++){var Ft=ut[Et];if(bt.push(Ft),Ft!=null){var jt=Ft.getValue(at);et===jt&&(bt.push(s),wt=!0)}}wt||bt.push(s)}a.setLinkedRecords(bt,ct)}function createEdge(a,s,et,tt){var at=ConnectionInterface$2.get(),ct=at.NODE,ut=generateClientID$6(s.getDataID(),et.getDataID()),bt=a.get(ut);return bt||(bt=a.create(ut,tt)),bt.setLinkedRecord(et,ct),bt.getValue("cursor")==null&&bt.setValue(null,"cursor"),bt}function insertEdgeBefore(a,s,et){var tt=ConnectionInterface$2.get(),at=tt.CURSOR,ct=tt.EDGES,ut=a.getLinkedRecords(ct);if(!ut){a.setLinkedRecords([s],ct);return}var bt;if(et==null)bt=[s].concat(ut);else{bt=[];for(var wt=!1,Et=0;Et<ut.length;Et++){var Ft=ut[Et];if(Ft!=null){var jt=Ft.getValue(at);et===jt&&(bt.push(s),wt=!0)}bt.push(Ft)}wt||bt.unshift(s)}a.setLinkedRecords(bt,ct)}function deleteNode$1(a,s){var et=ConnectionInterface$2.get(),tt=et.EDGES,at=et.NODE,ct=a.getLinkedRecords(tt);if(ct){for(var ut,bt=0;bt<ct.length;bt++){var wt=ct[bt],Et=wt&&wt.getLinkedRecord(at);Et!=null&&Et.getDataID()===s?ut===void 0&&(ut=ct.slice(0,bt)):ut!==void 0&&ut.push(wt)}ut!==void 0&&a.setLinkedRecords(ut,tt)}}function buildConnectionEdge(a,s,et){if(et==null)return et;var tt=ConnectionInterface$2.get(),at=tt.EDGES,ct=s.getValue(NEXT_EDGE_INDEX);typeof ct!="number"&&invariant$B(!1);var ut=generateClientID$6(s.getDataID(),at,ct),bt=a.create(ut,et.getType());return bt.copyFieldsFrom(et),bt.getValue("cursor")==null&&bt.setValue(null,"cursor"),s.setValue(ct+1,NEXT_EDGE_INDEX),bt}function mergeEdges(a,s,et){for(var tt=ConnectionInterface$2.get(),at=tt.NODE,ct=0;ct<a.length;ct++){var ut=a[ct];if(ut){var bt=ut.getLinkedRecord(at),wt=bt&&bt.getDataID();if(wt){if(et.has(wt))continue;et.add(wt)}s.push(ut)}}}var ConnectionHandler$4={buildConnectionEdge,createEdge,deleteNode:deleteNode$1,getConnection,getConnectionID,insertEdgeAfter,insertEdgeBefore,update:update$1},_interopRequireDefault$o=interopRequireDefaultExports.default,_createForOfIteratorHelper2$d=_interopRequireDefault$o(createForOfIteratorHelperExports),ConnectionHandler$3=ConnectionHandler$4,ConnectionInterface$1=ConnectionInterface_1,invariant$A=browser$1,warning$2=warning_1,DeleteRecordHandler={update:function a(s,et){var tt=s.get(et.dataID);if(tt!=null){var at=tt.getValue(et.fieldKey);typeof at=="string"?s.delete(at):Array.isArray(at)&&at.forEach(function(ct){typeof ct=="string"&&s.delete(ct)})}}},DeleteEdgeHandler={update:function a(s,et){var tt=s.get(et.dataID);if(tt!=null){var at=et.handleArgs.connections;at==null&&invariant$A(!1);var ct=tt.getValue(et.fieldKey),ut=Array.isArray(ct)?ct:[ct];ut.forEach(function(bt){if(typeof bt=="string"){var wt=(0,_createForOfIteratorHelper2$d.default)(at),Et;try{for(wt.s();!(Et=wt.n()).done;){var Ft=Et.value,jt=s.get(Ft);jt!=null&&ConnectionHandler$3.deleteNode(jt,bt)}}catch(Lt){wt.e(Lt)}finally{wt.f()}}})}}},AppendEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeBefore)},AppendNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeBefore)};function edgeUpdater(a){return function(s,et){var tt,at=s.get(et.dataID);if(at!=null){var ct=et.handleArgs.connections;ct==null&&invariant$A(!1);var ut,bt;try{ut=at.getLinkedRecord(et.fieldKey)}catch{}if(!ut)try{bt=at.getLinkedRecords(et.fieldKey)}catch{}if(!(ut==null&&bt==null)){var wt=ConnectionInterface$1.get(),Et=wt.NODE,Ft=wt.EDGES,jt=(tt=bt)!==null&&tt!==void 0?tt:[ut],Lt=(0,_createForOfIteratorHelper2$d.default)(jt),Ut;try{var Vt=function(){var nr=Ut.value;if(nr==null)return"continue";var ir=nr.getLinkedRecord("node");if(!ir)return"continue";var lr=ir.getDataID(),pr=(0,_createForOfIteratorHelper2$d.default)(ct),yr;try{for(pr.s();!(yr=pr.n()).done;){var br=yr.value,xr=s.get(br);if(xr!=null){var Er=(Yt=xr.getLinkedRecords(Ft))===null||Yt===void 0?void 0:Yt.some(function(Sr){var fr;return(Sr==null||(fr=Sr.getLinkedRecord(Et))===null||fr===void 0?void 0:fr.getDataID())===lr});if(!Er){var $r=ConnectionHandler$3.buildConnectionEdge(s,xr,nr);$r==null&&invariant$A(!1),a(xr,$r)}}}}catch(Sr){pr.e(Sr)}finally{pr.f()}};for(Lt.s();!(Ut=Lt.n()).done;)var Yt,er=Vt()}catch(tr){Lt.e(tr)}finally{Lt.f()}}}}}function nodeUpdater(a){return function(s,et){var tt,at=s.get(et.dataID);if(at!=null){var ct=et.handleArgs,ut=ct.connections,bt=ct.edgeTypeName;ut==null&&invariant$A(!1),bt==null&&invariant$A(!1);var wt,Et;try{wt=at.getLinkedRecord(et.fieldKey)}catch{}if(!wt)try{Et=at.getLinkedRecords(et.fieldKey)}catch{}if(!(wt==null&&Et==null)){var Ft=ConnectionInterface$1.get(),jt=Ft.NODE,Lt=Ft.EDGES,Ut=(tt=Et)!==null&&tt!==void 0?tt:[wt],Vt=(0,_createForOfIteratorHelper2$d.default)(Ut),Yt;try{var er=function(){var lr=Yt.value;if(lr==null)return"continue";var pr=lr.getDataID(),yr=(0,_createForOfIteratorHelper2$d.default)(ut),br;try{for(yr.s();!(br=yr.n()).done;){var xr=br.value,Er=s.get(xr);if(Er!=null){var $r=(tr=Er.getLinkedRecords(Lt))===null||tr===void 0?void 0:tr.some(function(fr){var vr;return(fr==null||(vr=fr.getLinkedRecord(jt))===null||vr===void 0?void 0:vr.getDataID())===pr});if(!$r){var Sr=ConnectionHandler$3.createEdge(s,Er,lr,bt);Sr==null&&invariant$A(!1),a(Er,Sr)}}}}catch(fr){yr.e(fr)}finally{yr.f()}};for(Vt.s();!(Yt=Vt.n()).done;)var tr,nr=er()}catch(ir){Vt.e(ir)}finally{Vt.f()}}}}}var MutationHandlers$2={AppendEdgeHandler,DeleteRecordHandler,PrependEdgeHandler,AppendNodeHandler,PrependNodeHandler,DeleteEdgeHandler},ConnectionHandler$2=ConnectionHandler$4,MutationHandlers$1=MutationHandlers$2,invariant$z=browser$1;function RelayDefaultHandlerProvider$2(a){switch(a){case"connection":return ConnectionHandler$2;case"deleteRecord":return MutationHandlers$1.DeleteRecordHandler;case"deleteEdge":return MutationHandlers$1.DeleteEdgeHandler;case"appendEdge":return MutationHandlers$1.AppendEdgeHandler;case"prependEdge":return MutationHandlers$1.PrependEdgeHandler;case"appendNode":return MutationHandlers$1.AppendNodeHandler;case"prependNode":return MutationHandlers$1.PrependNodeHandler}invariant$z(!1)}var RelayDefaultHandlerProvider_1=RelayDefaultHandlerProvider$2;function isRelayModernEnvironment$3(a){return!!(a&&a["@@RelayModernEnvironment"])}var isRelayModernEnvironment_1=isRelayModernEnvironment$3;function deepFreeze$2(a){return shouldBeFrozen(a)&&(Object.freeze(a),Object.getOwnPropertyNames(a).forEach(function(s){var et=a[s];et&&typeof et=="object"&&!Object.isFrozen(et)&&deepFreeze$2(et)})),a}function shouldBeFrozen(a){return a!=null&&(Array.isArray(a)||typeof a=="object"&&a.constructor===Object)}var deepFreeze_1=deepFreeze$2,_require$C=stableCopy_1,stableCopy$4=_require$C.stableCopy,invariant$y=browser$1;function getRequestIdentifier$2(a,s){var et=a.cacheID!=null?a.cacheID:a.id;return et==null&&invariant$y(!1),et+JSON.stringify(stableCopy$4(s))}var getRequestIdentifier_1=getRequestIdentifier$2,getRequestIdentifier$1=getRequestIdentifier_1,RelayFeatureFlags$7=RelayFeatureFlags_1,_require$B=stableCopy_1,hasCycle$1=_require$B.hasCycle,_require2$q=RelayConcreteVariables$2,getOperationVariables=_require2$q.getOperationVariables,_require3$g=RelayModernSelector$1,createNormalizationSelector$3=_require3$g.createNormalizationSelector,createReaderSelector$3=_require3$g.createReaderSelector,_require4$8=RelayStoreUtils_1,ROOT_ID$5=_require4$8.ROOT_ID,invariant$x=browser$1;function createOperationDescriptor$5(a,s,et){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ROOT_ID$5,at=a.operation,ct=getOperationVariables(at,a.params.providedVariables,s);RelayFeatureFlags$7.ENABLE_CYLE_DETECTION_IN_VARIABLES&&hasCycle$1(ct)&&invariant$x(!1);var ut=createRequestDescriptor$1(a,ct,et),bt={fragment:createReaderSelector$3(a.fragment,tt,ct,ut),request:ut,root:createNormalizationSelector$3(at,tt,ct)};return bt}function createRequestDescriptor$1(a,s,et){var tt={identifier:getRequestIdentifier$1(a.params,s),node:a,variables:s,cacheConfig:et};return tt}var RelayModernOperationDescriptor$1={createOperationDescriptor:createOperationDescriptor$5,createRequestDescriptor:createRequestDescriptor$1},_interopRequireDefault$n=interopRequireDefaultExports.default,_createForOfIteratorHelper2$c=_interopRequireDefault$n(createForOfIteratorHelperExports),ConnectionHandler$1=ConnectionHandler$4,warning$1=warning_1,MutationTypes=Object.freeze({RANGE_ADD:"RANGE_ADD",RANGE_DELETE:"RANGE_DELETE",NODE_DELETE:"NODE_DELETE"}),RangeOperations=Object.freeze({APPEND:"append",PREPEND:"prepend"});function convert(a,s,et,tt){var at=et?[et]:[],ct=tt?[tt]:[];return a.forEach(function(ut){switch(ut.type){case"NODE_DELETE":var bt=nodeDelete(ut,s);bt&&(at.push(bt),ct.push(bt));break;case"RANGE_ADD":var wt=rangeAdd(ut,s);wt&&(at.push(wt),ct.push(wt));break;case"RANGE_DELETE":var Et=rangeDelete(ut,s);Et&&(at.push(Et),ct.push(Et));break}}),{optimisticUpdater:function(bt,wt){at.forEach(function(Et){Et(bt,wt)})},updater:function(bt,wt){ct.forEach(function(Et){Et(bt,wt)})}}}function nodeDelete(a,s){var et=a.deletedIDFieldName,tt=getRootField(s);return tt?function(at,ct){var ut=at.getRootField(tt);if(ut){var bt=ut.getValue(et),wt=Array.isArray(bt)?bt:[bt];wt.forEach(function(Et){Et&&typeof Et=="string"&&at.delete(Et)})}}:null}function rangeAdd(a,s){var et=a.parentID,tt=a.connectionInfo,at=a.edgeName;if(!et)return null;var ct=getRootField(s);return!tt||!ct?null:function(ut,bt){var wt=ut.get(et);if(wt){var Et=ut.getRootField(ct);if(Et){var Ft=Et.getLinkedRecord(at),jt=(0,_createForOfIteratorHelper2$c.default)(tt),Lt;try{for(jt.s();!(Lt=jt.n()).done;){var Ut=Lt.value;if(Ft){var Vt=ConnectionHandler$1.getConnection(wt,Ut.key,Ut.filters);if(Vt){var Yt=ConnectionHandler$1.buildConnectionEdge(ut,Vt,Ft);if(Yt)switch(Ut.rangeBehavior){case"append":ConnectionHandler$1.insertEdgeAfter(Vt,Yt);break;case"prepend":ConnectionHandler$1.insertEdgeBefore(Vt,Yt);break;default:break}}}}}catch(er){jt.e(er)}finally{jt.f()}}}}}function rangeDelete(a,s){var et=a.parentID,tt=a.connectionKeys,at=a.pathToConnection,ct=a.deletedIDFieldName;if(!et)return null;var ut=getRootField(s);return ut?function(bt,wt){if(wt){var Et=[],Ft=wt[ut];if(Ft&&Array.isArray(ct)){var jt=(0,_createForOfIteratorHelper2$c.default)(ct),Lt;try{for(jt.s();!(Lt=jt.n()).done;){var Ut=Lt.value;Ft&&typeof Ft=="object"&&(Ft=Ft[Ut])}}catch(Vt){jt.e(Vt)}finally{jt.f()}Array.isArray(Ft)?Ft.forEach(function(Vt){Vt&&Vt.id&&typeof Vt=="object"&&typeof Vt.id=="string"&&Et.push(Vt.id)}):Ft&&Ft.id&&typeof Ft.id=="string"&&Et.push(Ft.id)}else Ft&&typeof ct=="string"&&typeof Ft=="object"&&(Ft=Ft[ct],typeof Ft=="string"?Et.push(Ft):Array.isArray(Ft)&&Ft.forEach(function(Vt){typeof Vt=="string"&&Et.push(Vt)}));deleteNode(et,tt,at,bt,Et)}}:null}function deleteNode(a,s,et,tt,at){var ct=tt.get(a);if(ct&&!(et.length<2)){for(var ut=ct,bt=1;bt<et.length-1;bt++)ut&&(ut=ut.getLinkedRecord(et[bt]));if(!(!s||!ut)){var wt=(0,_createForOfIteratorHelper2$c.default)(s),Et;try{var Ft=function(){var Lt=Et.value,Ut=ConnectionHandler$1.getConnection(ut,Lt.key,Lt.filters);Ut&&at.forEach(function(Vt){ConnectionHandler$1.deleteNode(Ut,Vt)})};for(wt.s();!(Et=wt.n()).done;)Ft()}catch(jt){wt.e(jt)}finally{wt.f()}}}}function getRootField(a){return a.fragment.selections&&a.fragment.selections.length>0&&a.fragment.selections[0].kind==="LinkedField"?a.fragment.selections[0].name:null}var RelayDeclarativeMutationConfig$4={MutationTypes,RangeOperations,convert},_require$A=GraphQLTag$1,getRequest$4=_require$A.getRequest,isRelayModernEnvironment$2=isRelayModernEnvironment_1,_require2$p=RelayModernOperationDescriptor$1,createOperationDescriptor$4=_require2$p.createOperationDescriptor,RelayDeclarativeMutationConfig$3=RelayDeclarativeMutationConfig$4,invariant$w=browser$1;function applyOptimisticMutation$1(a,s){isRelayModernEnvironment$2(a)||invariant$w(!1);var et=getRequest$4(s.mutation);if(et.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");var tt=s.optimisticUpdater,at=s.configs,ct=s.optimisticResponse,ut=s.variables,bt=createOperationDescriptor$4(et,ut);if(at){var wt=RelayDeclarativeMutationConfig$3.convert(at,et,tt);tt=wt.optimisticUpdater}return a.applyMutation({operation:bt,response:ct,updater:tt})}var applyOptimisticMutation_1=applyOptimisticMutation$1;function commitLocalUpdate$1(a,s){a.commitUpdate(s)}var commitLocalUpdate_1=commitLocalUpdate$1,_interopRequireDefault$m=interopRequireDefaultExports.default;_interopRequireDefault$m(objectSpread2Exports);var _interopRequireDefault$l=interopRequireDefaultExports.default,_toConsumableArray2$4=_interopRequireDefault$l(toConsumableArrayExports),_require$z=GraphQLTag$1,getRequest$3=_require$z.getRequest,_require2$o=ClientID,generateUniqueClientID$2=_require2$o.generateUniqueClientID,isRelayModernEnvironment$1=isRelayModernEnvironment_1,_require3$f=RelayModernOperationDescriptor$1,createOperationDescriptor$3=_require3$f.createOperationDescriptor,RelayDeclarativeMutationConfig$2=RelayDeclarativeMutationConfig$4,invariant$v=browser$1;function commitMutation$1(a,s){isRelayModernEnvironment$1(a)||invariant$v(!1);var et=getRequest$3(s.mutation);if(et.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");if(et.kind!=="Request")throw new Error("commitMutation: Expected mutation to be of type request");var tt=s.optimisticResponse,at=s.optimisticUpdater,ct=s.updater,ut=s.configs,bt=s.cacheConfig,wt=s.onError,Et=s.onUnsubscribe,Ft=s.variables,jt=s.uploadables,Lt=createOperationDescriptor$3(et,Ft,bt,generateUniqueClientID$2());if(typeof tt=="function"&&(tt=tt()),ut){var Ut=RelayDeclarativeMutationConfig$2.convert(ut,et,at,ct);at=Ut.optimisticUpdater,ct=Ut.updater}var Vt=[],Yt=a.executeMutation({operation:Lt,optimisticResponse:tt,optimisticUpdater:at,updater:ct,uploadables:jt}).subscribe({next:function(tr){var nr;Array.isArray(tr)?tr.forEach(function(ir){ir.errors&&Vt.push.apply(Vt,(0,_toConsumableArray2$4.default)(ir.errors))}):tr.errors&&Vt.push.apply(Vt,(0,_toConsumableArray2$4.default)(tr.errors)),(nr=s.onNext)===null||nr===void 0||nr.call(s)},complete:function(){var tr=s.onCompleted;if(tr){var nr=a.lookup(Lt.fragment);tr(nr.data,Vt.length!==0?Vt:null)}},error:wt,unsubscribe:Et});return{dispose:Yt.unsubscribe}}var commitMutation_1=commitMutation$1,WEAKMAP_SUPPORTED=typeof WeakMap=="function",debugCache=WEAKMAP_SUPPORTED?new WeakMap:new Map;function withProvidedVariables$2(a,s){if(s!=null){var et={};return Object.assign(et,a),Object.keys(s).forEach(function(tt){var at=s[tt].get,ct=at();if(!debugCache.has(at))debugCache.set(at,ct),et[tt]=ct;else{var ut=debugCache.get(at);et[tt]=ut}}),et}else return a}withProvidedVariables$2.tests_only_resetDebugCache=void 0;var withProvidedVariables_1=withProvidedVariables$2,RelayObservable$4=RelayObservable_1;function convertFetch$1(a){return function(et,tt,at,ct,ut){var bt=a(et,tt,at,ct,ut);return bt instanceof Error?RelayObservable$4.create(function(wt){return wt.error(bt)}):RelayObservable$4.from(bt)}}var ConvertToExecuteFunction={convertFetch:convertFetch$1},withProvidedVariables$1=withProvidedVariables_1,_require$y=ConvertToExecuteFunction,convertFetch=_require$y.convertFetch,invariant$u=browser$1;function create$2(a,s){var et=convertFetch(a);function tt(at,ct,ut,bt,wt){var Et=withProvidedVariables$1(ct,at.providedVariables);if(at.operationKind==="subscription")return s||invariant$u(!1),bt&&invariant$u(!1),s(at,Et,ut);var Ft=ut.poll;return Ft!=null?(bt&&invariant$u(!1),et(at,Et,{force:!0}).poll(Ft)):et(at,Et,ut,bt,wt)}return{execute:tt}}var RelayNetwork$1={create:create$2},_interopRequireDefault$k=interopRequireDefaultExports.default,_objectSpread2$9=_interopRequireDefault$k(objectSpread2Exports),_require$x=stableCopy_1,stableCopy$3=_require$x.stableCopy,invariant$t=browser$1,RelayQueryResponseCache$1=function(){function a(et){var tt=et.size,at=et.ttl;tt>0||invariant$t(!1),at>0||invariant$t(!1),this._responses=new Map,this._size=tt,this._ttl=at}var s=a.prototype;return s.clear=function(){this._responses.clear()},s.get=function(tt,at){var ct=this,ut=getCacheKey(tt,at);this._responses.forEach(function(wt,Et){isCurrent(wt.fetchTime,ct._ttl)||ct._responses.delete(Et)});var bt=this._responses.get(ut);return bt==null?null:Array.isArray(bt.payload)?bt.payload.map(function(wt){return(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},wt),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},wt.extensions),{},{cacheTimestamp:bt.fetchTime})})}):(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},bt.payload),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},bt.payload.extensions),{},{cacheTimestamp:bt.fetchTime})})},s.set=function(tt,at,ct){var ut=Date.now(),bt=getCacheKey(tt,at);if(this._responses.delete(bt),this._responses.set(bt,{fetchTime:ut,payload:ct}),this._responses.size>this._size){var wt=this._responses.keys().next();wt.done||this._responses.delete(wt.value)}},a}();function getCacheKey(a,s){return JSON.stringify(stableCopy$3({queryID:a,variables:s}))}function isCurrent(a,s){return a+s>=Date.now()}var RelayQueryResponseCache_1=RelayQueryResponseCache$1,_interopRequireDefault$j=interopRequireDefaultExports.default,_objectSpread2$8=_interopRequireDefault$j(objectSpread2Exports),RelayObservable$3=RelayObservable_1,_require$w=RelayModernOperationDescriptor$1,createOperationDescriptor$2=_require$w.createOperationDescriptor,_require2$n=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$2=_require2$n.handlePotentialSnapshotErrors,fetchQueryInternal$1=fetchQueryInternal$2,_require3$e=GraphQLTag$1,getRequest$2=_require3$e.getRequest,invariant$s=browser$1;function fetchQuery$1(a,s,et,tt){var at,ct=getRequest$2(s);ct.params.operationKind!=="query"&&invariant$s(!1);var ut=(0,_objectSpread2$8.default)({force:!0},tt==null?void 0:tt.networkCacheConfig),bt=createOperationDescriptor$2(ct,et,ut),wt=(at=tt==null?void 0:tt.fetchPolicy)!==null&&at!==void 0?at:"network-only";function Et(Ft){return handlePotentialSnapshotErrors$2(a,Ft.errorResponseFields),Ft.data}switch(wt){case"network-only":return getNetworkObservable(a,bt).map(Et);case"store-or-network":return a.check(bt).status==="available"?RelayObservable$3.from(a.lookup(bt.fragment)).map(Et):getNetworkObservable(a,bt).map(Et);default:throw new Error("fetchQuery: Invalid fetchPolicy "+wt)}}function getNetworkObservable(a,s){return fetchQueryInternal$1.fetchQuery(a,s).map(function(){return a.lookup(s.fragment)})}var fetchQuery_1=fetchQuery$1,_require$v=RelayModernOperationDescriptor$1,createOperationDescriptor$1=_require$v.createOperationDescriptor,_require2$m=GraphQLTag$1,getRequest$1=_require2$m.getRequest;function fetchQuery_DEPRECATED$1(a,s,et,tt){var at=getRequest$1(s);if(at.params.operationKind!=="query")throw new Error("fetchQuery: Expected query operation");var ct=createOperationDescriptor$1(at,et,tt);return a.execute({operation:ct}).map(function(){return a.lookup(ct.fragment).data}).toPromise()}var fetchQuery_DEPRECATED_1=fetchQuery_DEPRECATED$1,PreloadableQueryRegistry$1=function(){function a(){this._preloadableQueries=new Map,this._callbacks=new Map}var s=a.prototype;return s.set=function(tt,at){this._preloadableQueries.set(tt,at);var ct=this._callbacks.get(tt);ct!=null&&ct.forEach(function(ut){try{ut(at)}catch(bt){setTimeout(function(){throw bt},0)}})},s.get=function(tt){return this._preloadableQueries.get(tt)},s.onLoad=function(tt,at){var ct,ut=(ct=this._callbacks.get(tt))!==null&&ct!==void 0?ct:new Set;ut.add(at);var bt=function(){ut.delete(at)};return this._callbacks.set(tt,ut),{dispose:bt}},s.clear=function(){this._preloadableQueries.clear()},a}(),preloadableQueryRegistry=new PreloadableQueryRegistry$1,PreloadableQueryRegistry_1=preloadableQueryRegistry;function isScalarAndEqual$2(a,s){return a===s&&(a===null||typeof a!="object")}var isScalarAndEqual_1=isScalarAndEqual$2;function recycleNodesInto$4(a,s){return recycleNodesIntoImpl(a,s,!0)}function recycleNodesIntoImpl(a,s,et){if(a===s||typeof a!="object"||!a||a.constructor!==Object&&!Array.isArray(a)||typeof s!="object"||!s||s.constructor!==Object&&!Array.isArray(s))return s;var tt=!1,at=Array.isArray(a)?a:null,ct=Array.isArray(s)?s:null;if(at&&ct){var ut=et&&!Object.isFrozen(ct);tt=ct.reduce(function(Lt,Ut,Vt){var Yt=at[Vt],er=recycleNodesIntoImpl(Yt,Ut,ut);return er!==ct[Vt]&&ut&&(ct[Vt]=er),Lt&&er===at[Vt]},!0)&&at.length===ct.length}else if(!at&&!ct){var bt=a,wt=s,Et=Object.keys(bt),Ft=Object.keys(wt),jt=et&&!Object.isFrozen(wt);tt=Ft.reduce(function(Lt,Ut){var Vt=bt[Ut],Yt=recycleNodesIntoImpl(Vt,wt[Ut],jt);return Yt!==wt[Ut]&&jt&&(wt[Ut]=Yt),Lt&&Yt===bt[Ut]},!0)&&Et.length===Ft.length}return tt?a:s}var recycleNodesInto_1=recycleNodesInto$4,_interopRequireDefault$i=interopRequireDefaultExports.default,_objectSpread2$7=_interopRequireDefault$i(objectSpread2Exports),_defineProperty2$4=_interopRequireDefault$i(requireDefineProperty()),getPendingOperationsForFragment$1=getPendingOperationsForFragment_1,_require$u=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$1=_require$u.handlePotentialSnapshotErrors,isScalarAndEqual$1=isScalarAndEqual_1,recycleNodesInto$3=recycleNodesInto_1,RelayFeatureFlags$6=RelayFeatureFlags_1,_require2$l=RelayModernOperationDescriptor$1,createRequestDescriptor=_require2$l.createRequestDescriptor,_require3$d=RelayModernSelector$1,areEqualSelectors=_require3$d.areEqualSelectors,createReaderSelector$2=_require3$d.createReaderSelector,getSelectorsFromObject=_require3$d.getSelectorsFromObject,areEqual$3=areEqual_1,invariant$r=browser$1,RelayModernFragmentSpecResolver$1=function(){function a(et,tt,at,ct,ut){var bt=this;(0,_defineProperty2$4.default)(this,"_onChange",function(){bt._stale=!0,typeof bt._callback=="function"&&bt._callback()}),this._callback=ct,this._context=et,this._data={},this._fragments=tt,this._props={},this._resolvers={},this._stale=!1,this._rootIsQueryRenderer=ut,this.setProps(at)}var s=a.prototype;return s.dispose=function(){for(var tt in this._resolvers)this._resolvers.hasOwnProperty(tt)&&disposeCallback(this._resolvers[tt])},s.resolve=function(){if(this._stale){var tt=this._data,at;for(var ct in this._resolvers)if(this._resolvers.hasOwnProperty(ct)){var ut=this._resolvers[ct],bt=tt[ct];if(ut){var wt=ut.resolve();(at||wt!==bt)&&(at=at||(0,_objectSpread2$7.default)({},tt),at[ct]=wt)}else{var Et=this._props[ct],Ft=Et!==void 0?Et:null;(at||!isScalarAndEqual$1(Ft,bt))&&(at=at||(0,_objectSpread2$7.default)({},tt),at[ct]=Ft)}}this._data=at||tt,this._stale=!1}return this._data},s.setCallback=function(tt,at){this._callback=at,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.setProps(tt)},s.setProps=function(tt){this._props={};var at=getSelectorsFromObject(this._fragments,tt);for(var ct in at)if(at.hasOwnProperty(ct)){var ut=at[ct],bt=this._resolvers[ct];ut==null?(bt!=null&&bt.dispose(),bt=null):ut.kind==="PluralReaderSelector"?bt==null?bt=new SelectorListResolver(this._context.environment,this._rootIsQueryRenderer,ut,this._callback!=null,this._onChange):(bt instanceof SelectorListResolver||invariant$r(!1),bt.setSelector(ut)):bt==null?bt=new SelectorResolver(this._context.environment,this._rootIsQueryRenderer,ut,this._callback!=null,this._onChange):(bt instanceof SelectorResolver||invariant$r(!1),bt.setSelector(ut)),this._props[ct]=tt[ct],this._resolvers[ct]=bt}this._stale=!0},s.setVariables=function(tt,at){for(var ct in this._resolvers)if(this._resolvers.hasOwnProperty(ct)){var ut=this._resolvers[ct];ut&&ut.setVariables(tt,at)}this._stale=!0},a}(),SelectorResolver=function(){function a(et,tt,at,ct,ut){var bt=this;(0,_defineProperty2$4.default)(this,"_onChange",function(Et){bt._data=Et.data,bt._isMissingData=Et.isMissingData,bt._errorResponseFields=Et.errorResponseFields,bt._callback()});var wt=et.lookup(at);this._callback=ut,this._data=wt.data,this._isMissingData=wt.isMissingData,this._errorResponseFields=wt.errorResponseFields,this._environment=et,this._rootIsQueryRenderer=tt,this._selector=at,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?ct&&(this._subscription=et.subscribe(wt,this._onChange)):this._subscription=et.subscribe(wt,this._onChange)}var s=a.prototype;return s.dispose=function(){this._subscription&&(this._subscription.dispose(),this._subscription=null)},s.resolve=function(){if(this._isMissingData===!0){var tt=getPendingOperationsForFragment$1(this._environment,this._selector.node,this._selector.owner),at=tt==null?void 0:tt.promise;if(at!=null&&!this._rootIsQueryRenderer){var ct,ut=(ct=tt==null?void 0:tt.pendingOperations)!==null&&ct!==void 0?ct:[];throw this._environment.__log({name:"suspense.fragment",data:this._data,fragment:this._selector.node,isRelayHooks:!1,isMissingData:this._isMissingData,isPromiseCached:!1,pendingOperations:ut}),at}}return handlePotentialSnapshotErrors$1(this._environment,this._errorResponseFields),this._data},s.setSelector=function(tt){if(!(this._subscription!=null&&areEqualSelectors(tt,this._selector))){this.dispose();var at=this._environment.lookup(tt);this._data=recycleNodesInto$3(this._data,at.data),this._isMissingData=at.isMissingData,this._errorResponseFields=at.errorResponseFields,this._selector=tt,this._subscription=this._environment.subscribe(at,this._onChange)}},s.setVariables=function(tt,at){if(!areEqual$3(tt,this._selector.variables)){var ct=createRequestDescriptor(at,tt),ut=createReaderSelector$2(this._selector.node,this._selector.dataID,tt,ct);this.setSelector(ut)}},a}(),SelectorListResolver=function(){function a(et,tt,at,ct,ut){var bt=this;(0,_defineProperty2$4.default)(this,"_onChange",function(wt){bt._stale=!0,bt._callback()}),this._callback=ut,this._data=[],this._environment=et,this._resolvers=[],this._stale=!0,this._rootIsQueryRenderer=tt,this._subscribeOnConstruction=ct,this.setSelector(at)}var s=a.prototype;return s.dispose=function(){this._resolvers.forEach(disposeCallback)},s.resolve=function(){if(this._stale){for(var tt=this._data,at,ct=0;ct<this._resolvers.length;ct++){var ut=tt[ct],bt=this._resolvers[ct].resolve();(at||bt!==ut)&&(at=at||tt.slice(0,ct),at.push(bt))}!at&&this._resolvers.length!==tt.length&&(at=tt.slice(0,this._resolvers.length)),this._data=at||tt,this._stale=!1}return this._data},s.setSelector=function(tt){for(var at=tt.selectors;this._resolvers.length>at.length;){var ct=this._resolvers.pop();ct.dispose()}for(var ut=0;ut<at.length;ut++)ut<this._resolvers.length?this._resolvers[ut].setSelector(at[ut]):this._resolvers[ut]=new SelectorResolver(this._environment,this._rootIsQueryRenderer,at[ut],this._subscribeOnConstruction,this._onChange);this._stale=!0},s.setVariables=function(tt,at){this._resolvers.forEach(function(ct){return ct.setVariables(tt,at)}),this._stale=!0},a}();function disposeCallback(a){a&&a.dispose()}var RelayModernFragmentSpecResolver_1=RelayModernFragmentSpecResolver$1,RelayModernFragmentSpecResolver=RelayModernFragmentSpecResolver_1;function createFragmentSpecResolver$1(a,s,et,tt,at,ct){return new RelayModernFragmentSpecResolver(a,et,tt,ct,at)}var createFragmentSpecResolver_1=createFragmentSpecResolver$1,invariant$q=browser$1,relayContext,firstReact;function createRelayContext$1(a){return relayContext||(relayContext=a.createContext(null),firstReact=a),a!==firstReact&&invariant$q(!1),relayContext}var createRelayContext_1=createRelayContext$1,LIVE_RESOLVER_SUSPENSE_SENTINEL=Object.freeze({__LIVE_RESOLVER_SUSPENSE_SENTINEL:!0});function suspenseSentinel$1(){return LIVE_RESOLVER_SUSPENSE_SENTINEL}function isSuspenseSentinel$4(a){return a===LIVE_RESOLVER_SUSPENSE_SENTINEL}var LiveResolverSuspenseSentinel={isSuspenseSentinel:isSuspenseSentinel$4,suspenseSentinel:suspenseSentinel$1},objectWithoutPropertiesLoose={exports:{}};(function(a){function s(et,tt){if(et==null)return{};var at={};for(var ct in et)if({}.hasOwnProperty.call(et,ct)){if(tt.indexOf(ct)!==-1)continue;at[ct]=et[ct]}return at}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(objectWithoutPropertiesLoose);var objectWithoutPropertiesLooseExports=objectWithoutPropertiesLoose.exports,_interopRequireDefault$h=interopRequireDefaultExports.default,_defineProperty2$3=_interopRequireDefault$h(requireDefineProperty()),_objectWithoutPropertiesLoose2$2=_interopRequireDefault$h(objectWithoutPropertiesLooseExports),_toPropertyKey2=_interopRequireDefault$h(requireToPropertyKey()),_objectSpread2$6=_interopRequireDefault$h(objectSpread2Exports),deepFreeze$1=deepFreeze_1,_require$t=ClientID,generateClientObjectClientID$1=_require$t.generateClientObjectClientID;_require$t.isClientID;var _require2$k=LiveResolverSuspenseSentinel,isSuspenseSentinel$3=_require2$k.isSuspenseSentinel,_require3$c=RelayStoreUtils_1,ACTOR_IDENTIFIER_KEY=_require3$c.ACTOR_IDENTIFIER_KEY,ERRORS_KEY=_require3$c.ERRORS_KEY,ID_KEY$2=_require3$c.ID_KEY,INVALIDATED_AT_KEY=_require3$c.INVALIDATED_AT_KEY,REF_KEY=_require3$c.REF_KEY,REFS_KEY=_require3$c.REFS_KEY,RELAY_RESOLVER_VALUE_KEY$1=_require3$c.RELAY_RESOLVER_VALUE_KEY;_require3$c.ROOT_ID;var TYPENAME_KEY$2=_require3$c.TYPENAME_KEY,areEqual$2=areEqual_1,invariant$p=browser$1;function clone(a){return(0,_objectSpread2$6.default)({},a)}function copyFields(a,s){for(var et in a)a.hasOwnProperty(et)&&et!==ID_KEY$2&&et!==TYPENAME_KEY$2&&(s[et]=a[et])}function create$1(a,s){var et={};return et[ID_KEY$2]=a,et[TYPENAME_KEY$2]=s,et}function fromObject(a){return a}function getDataID(a){return a[ID_KEY$2]}function getFields(a){return ERRORS_KEY in a?Object.keys(a).filter(function(s){return s!==ERRORS_KEY}):Object.keys(a)}function getType(a){return a[TYPENAME_KEY$2]}function getErrors(a,s){var et;return(et=a[ERRORS_KEY])===null||et===void 0?void 0:et[s]}function getValue(a,s){var et=a[s];return et&&typeof et=="object"&&(!et.hasOwnProperty(REF_KEY)&&!et.hasOwnProperty(REFS_KEY)||invariant$p(!1)),et}function hasValue(a,s){return s in a}function getLinkedRecordID(a,s){var et=a[s];if(et==null)return et;var tt=et;return typeof tt=="object"&&tt&&typeof tt[REF_KEY]=="string"||invariant$p(!1),tt[REF_KEY]}function hasLinkedRecordID(a,s){var et=a[s];if(et==null)return!1;var tt=et;return typeof tt=="object"&&tt&&typeof tt[REF_KEY]=="string"}function getLinkedRecordIDs(a,s){var et=a[s];return et==null?et:(typeof et=="object"&&Array.isArray(et[REFS_KEY])||invariant$p(!1),et[REFS_KEY])}function hasLinkedRecordIDs(a,s){var et=a[s];return et==null?!1:typeof et=="object"&&Array.isArray(et[REFS_KEY])&&et[REFS_KEY].every(function(tt){return typeof tt=="string"})}function getInvalidationEpoch(a){if(a==null)return null;var s=a[INVALIDATED_AT_KEY];return typeof s!="number"?null:s}function update(a,s){var et,tt=a[ERRORS_KEY],at=s[ERRORS_KEY],ct=null;if(tt==null&&at==null){var ut;for(var bt in s)(ct||!areEqual$2(a[bt],s[bt]))&&(ct=ct!==null?ct:(0,_objectSpread2$6.default)({},a),ct[bt]=s[bt]);return(ut=ct)!==null&&ut!==void 0?ut:a}for(var wt in s)if(wt!==ERRORS_KEY){var Et=s[wt],Ft=at==null?void 0:at[wt];if(ct==null){var jt=a[wt],Lt=tt==null?void 0:tt[wt];if(areEqual$2(jt,Et)&&areEqual$2(Lt,Ft))continue;ct=(0,_objectSpread2$6.default)({},a),tt!=null&&(ct[ERRORS_KEY]=(0,_objectSpread2$6.default)({},tt))}setValue(ct,wt,Et),setErrors(ct,wt,Ft)}return(et=ct)!==null&&et!==void 0?et:a}function merge(a,s){if(ERRORS_KEY in a||ERRORS_KEY in s){var et=a[ERRORS_KEY],tt=(0,_objectWithoutPropertiesLoose2$2.default)(a,[ERRORS_KEY].map(_toPropertyKey2.default)),at=s[ERRORS_KEY],ct=(0,_objectWithoutPropertiesLoose2$2.default)(s,[ERRORS_KEY].map(_toPropertyKey2.default)),ut=(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},tt),ct);if(et==null&&at==null)return ut;var bt={};for(var wt in et)ct.hasOwnProperty(wt)||(bt[wt]=et[wt]);for(var Et in at)bt[Et]=at[Et];for(var Ft in bt){ut[ERRORS_KEY]=bt;break}return ut}else return(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},a),s)}function freeze(a){deepFreeze$1(a)}function setErrors(a,s,et){var tt=a[ERRORS_KEY];if(et!=null&&et.length>0)tt==null?a[ERRORS_KEY]=(0,_defineProperty2$3.default)({},s,et):tt[s]=et;else if(tt!=null&&delete tt[s]){for(var at in tt)if(tt.hasOwnProperty(at))return;delete a[ERRORS_KEY]}}function setValue(a,s,et){a[s]=et}function setLinkedRecordID(a,s,et){var tt={};tt[REF_KEY]=et,a[s]=tt}function setLinkedRecordIDs(a,s,et){var tt={};tt[REFS_KEY]=et,a[s]=tt}function setActorLinkedRecordID(a,s,et,tt){var at={};at[REF_KEY]=tt,at[ACTOR_IDENTIFIER_KEY]=et,a[s]=at}function getActorLinkedRecordID(a,s){var et=a[s];return et==null?et:(typeof et=="object"&&typeof et[REF_KEY]=="string"&&et[ACTOR_IDENTIFIER_KEY]!=null||invariant$p(!1),[et[ACTOR_IDENTIFIER_KEY],et[REF_KEY]])}function getResolverLinkedRecordID(a,s){var et=getValue(a,RELAY_RESOLVER_VALUE_KEY$1);return et==null||isSuspenseSentinel$3(et)?null:(typeof et=="object"&&(et=et.id),typeof et!="string"&&invariant$p(!1),generateClientObjectClientID$1(s,et))}function getResolverLinkedRecordIDs(a,s){var et=getValue(a,RELAY_RESOLVER_VALUE_KEY$1);return et==null||isSuspenseSentinel$3(et)?null:(Array.isArray(et)||invariant$p(!1),et.map(function(tt){return tt==null?null:(typeof tt=="object"&&(tt=tt.id),typeof tt!="string"&&invariant$p(!1),generateClientObjectClientID$1(s,tt))}))}function toJSON(a){return a}var RelayModernRecord$d={clone,copyFields,create:create$1,freeze,fromObject,getDataID,getErrors,getFields,getInvalidationEpoch,getLinkedRecordID,getLinkedRecordIDs,getType,getValue,hasValue,hasLinkedRecordID,hasLinkedRecordIDs,merge,setErrors,setValue,setLinkedRecordID,setLinkedRecordIDs,update,getActorLinkedRecordID,setActorLinkedRecordID,getResolverLinkedRecordID,getResolverLinkedRecordIDs,toJSON},RelayRecordState$1={EXISTENT:"EXISTENT",NONEXISTENT:"NONEXISTENT",UNKNOWN:"UNKNOWN"},RelayRecordState_1=RelayRecordState$1,_interopRequireDefault$g=interopRequireDefaultExports.default,_createForOfIteratorHelper2$b=_interopRequireDefault$g(createForOfIteratorHelperExports),RelayModernRecord$c=RelayModernRecord$d,RelayRecordState=RelayRecordState_1,EXISTENT$3=RelayRecordState.EXISTENT,NONEXISTENT$1=RelayRecordState.NONEXISTENT,UNKNOWN$1=RelayRecordState.UNKNOWN,RelayRecordSource$6=function(){function a(et){var tt=this;this._records=new Map,et!=null&&Object.keys(et).forEach(function(at){var ct=et[at],ut=RelayModernRecord$c.fromObject(ct);tt._records.set(at,ut)})}a.create=function(tt){return new a(tt)};var s=a.prototype;return s.clear=function(){this._records=new Map},s.delete=function(tt){this._records.set(tt,null)},s.get=function(tt){return this._records.get(tt)},s.getRecordIDs=function(){return Array.from(this._records.keys())},s.getStatus=function(tt){return this._records.has(tt)?this._records.get(tt)==null?NONEXISTENT$1:EXISTENT$3:UNKNOWN$1},s.has=function(tt){return this._records.has(tt)},s.remove=function(tt){this._records.delete(tt)},s.set=function(tt,at){this._records.set(tt,at)},s.size=function(){return this._records.size},s.toJSON=function(){var tt={},at=(0,_createForOfIteratorHelper2$b.default)(this._records),ct;try{for(at.s();!(ct=at.n()).done;){var ut=ct.value,bt=ut[0],wt=ut[1];tt[bt]=RelayModernRecord$c.toJSON(wt)}}catch(Et){at.e(Et)}finally{at.f()}return tt},a}(),RelayRecordSource_1=RelayRecordSource$6,invariant$o=browser$1,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2="INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE";function assertInternalActorIdentifier$2(a){a!==INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2&&invariant$o(!1)}var ActorIdentifier={assertInternalActorIdentifier:assertInternalActorIdentifier$2,getActorIdentifier:function a(s){return s},INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2},ACTOR_IDENTIFIER_FIELD_NAME="actor_key",_require$s=ActorIdentifier,getActorIdentifier=_require$s.getActorIdentifier;function getActorIdentifierFromPayload$1(a){if(a!=null&&typeof a=="object"&&typeof a[ACTOR_IDENTIFIER_FIELD_NAME]=="string")return getActorIdentifier(a[ACTOR_IDENTIFIER_FIELD_NAME])}var ActorUtils={ACTOR_IDENTIFIER_FIELD_NAME,getActorIdentifierFromPayload:getActorIdentifierFromPayload$1},_interopRequireDefault$f=interopRequireDefaultExports.default,_objectSpread2$5=_interopRequireDefault$f(objectSpread2Exports),_objectWithoutPropertiesLoose2$1=_interopRequireDefault$f(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$a=_interopRequireDefault$f(createForOfIteratorHelperExports),_toConsumableArray2$3=_interopRequireDefault$f(toConsumableArrayExports),_excluded$1=["path","locations"],SELF=Symbol("$SELF");function buildErrorTrie$1(a){if(a==null)return null;var s=new Map,et=(0,_createForOfIteratorHelper2$a.default)(a),tt;try{for(et.s();!(tt=et.n()).done;){var at=tt.value,ct=at.path,ut=at.locations,bt=(0,_objectWithoutPropertiesLoose2$1.default)(at,_excluded$1);if(ct!=null){var wt=ct.length;if(wt!==0){for(var Et=wt-1,Ft=s,jt=0;jt<Et;jt++){var Lt=ct[jt],Ut=Ft.get(Lt);if(Ut instanceof Map){Ft=Ut;continue}var Vt=new Map;Array.isArray(Ut)&&Vt.set(SELF,Ut),Ft.set(Lt,Vt),Ft=Vt}var Yt=ct[Et],er=Ft.get(Yt);er instanceof Map&&(Ft=er,er=Ft.get(Yt),Yt=SELF),Array.isArray(er)?er.push(bt):Ft.set(Yt,[bt])}}}}catch(tr){et.e(tr)}finally{et.f()}return s}function getErrorsByKey$1(a,s){var et=a.get(s);if(et==null)return null;if(Array.isArray(et))return et;var tt=[];return recursivelyCopyErrorsIntoArray(et,tt),tt}function recursivelyCopyErrorsIntoArray(a,s){var et=(0,_createForOfIteratorHelper2$a.default)(a),tt;try{for(et.s();!(tt=et.n()).done;){var at=tt.value,ct=at[0],ut=at[1],bt=s.length;if(Array.isArray(ut)?s.push.apply(s,(0,_toConsumableArray2$3.default)(ut)):recursivelyCopyErrorsIntoArray(ut,s),ct!==SELF)for(var wt=s.length,Et=bt;Et<wt;Et++){var Ft=s[Et];Ft.path==null?s[Et]=(0,_objectSpread2$5.default)((0,_objectSpread2$5.default)({},Ft),{},{path:[ct]}):Ft.path.unshift(ct)}}}catch(jt){et.e(jt)}finally{et.f()}}function getNestedErrorTrieByKey$1(a,s){var et=a.get(s);return et instanceof Map?et:null}var RelayErrorTrie={buildErrorTrie:buildErrorTrie$1,getNestedErrorTrieByKey:getNestedErrorTrieByKey$1,getErrorsByKey:getErrorsByKey$1},PREFIX="client:__type:",TYPE_SCHEMA_TYPE$2="__TypeSchema";function generateTypeID$4(a){return PREFIX+a}var TypeID={generateTypeID:generateTypeID$4,TYPE_SCHEMA_TYPE:TYPE_SCHEMA_TYPE$2},_interopRequireDefault$e=interopRequireDefaultExports.default,_createForOfIteratorHelper2$9=_interopRequireDefault$e(createForOfIteratorHelperExports),_toConsumableArray2$2=_interopRequireDefault$e(toConsumableArrayExports),_require$r=ActorUtils;_require$r.ACTOR_IDENTIFIER_FIELD_NAME;var getActorIdentifierFromPayload=_require$r.getActorIdentifierFromPayload,RelayFeatureFlags$5=RelayFeatureFlags_1,_require2$j=ClientID,generateClientID$5=_require2$j.generateClientID;_require2$j.isClientID;var _require3$b=RelayConcreteVariables$2,getLocalVariables$3=_require3$b.getLocalVariables,_require4$7=RelayErrorTrie,buildErrorTrie=_require4$7.buildErrorTrie,getErrorsByKey=_require4$7.getErrorsByKey,getNestedErrorTrieByKey=_require4$7.getNestedErrorTrieByKey,RelayModernRecord$b=RelayModernRecord$d,_require5$4=RelayModernSelector$1,createNormalizationSelector$2=_require5$4.createNormalizationSelector,_require6$1=RelayStoreUtils_1;_require6$1.ROOT_ID;var TYPENAME_KEY$1=_require6$1.TYPENAME_KEY,getArgumentValues$3=_require6$1.getArgumentValues,getHandleStorageKey$2=_require6$1.getHandleStorageKey,getModuleComponentKey$2=_require6$1.getModuleComponentKey,getModuleOperationKey$3=_require6$1.getModuleOperationKey,getStorageKey$6=_require6$1.getStorageKey,_require7=TypeID,TYPE_SCHEMA_TYPE$1=_require7.TYPE_SCHEMA_TYPE,generateTypeID$3=_require7.generateTypeID,invariant$n=browser$1;function normalize$2(a,s,et,tt,at){var ct=s.dataID,ut=s.node,bt=s.variables,wt=new RelayResponseNormalizer(a,bt,tt);return wt.normalizeResponse(ut,ct,et,at)}var RelayResponseNormalizer=function(){function a(et,tt,at){this._actorIdentifier=at.actorIdentifier,this._getDataId=at.getDataID,this._handleFieldPayloads=[],this._treatMissingFieldsAsNull=at.treatMissingFieldsAsNull,this._incrementalPlaceholders=[],this._isClientExtension=!1,this._isUnmatchedAbstractType=!1,this._followupPayloads=[],this._path=at.path?(0,_toConsumableArray2$2.default)(at.path):[],this._recordSource=et,this._variables=tt,this._shouldProcessClientComponents=at.shouldProcessClientComponents}var s=a.prototype;return s.normalizeResponse=function(tt,at,ct,ut){var bt=this._recordSource.get(at);return bt||invariant$n(!1),this._assignClientAbstractTypes(tt),this._errorTrie=buildErrorTrie(ut),this._traverseSelections(tt,bt,ct),{errors:ut,fieldPayloads:this._handleFieldPayloads,incrementalPlaceholders:this._incrementalPlaceholders,followupPayloads:this._followupPayloads,source:this._recordSource,isFinal:!1}},s._assignClientAbstractTypes=function(tt){var at=tt.clientAbstractTypes;if(at!=null)for(var ct=0,ut=Object.keys(at);ct<ut.length;ct++){var bt=ut[ct],wt=(0,_createForOfIteratorHelper2$9.default)(at[bt]),Et;try{for(wt.s();!(Et=wt.n()).done;){var Ft=Et.value,jt=generateTypeID$3(Ft),Lt=this._recordSource.get(jt);Lt==null&&(Lt=RelayModernRecord$b.create(jt,TYPE_SCHEMA_TYPE$1),this._recordSource.set(jt,Lt)),RelayModernRecord$b.setValue(Lt,bt,!0)}}catch(Ut){wt.e(Ut)}finally{wt.f()}}},s._getVariableValue=function(tt){return this._variables.hasOwnProperty(tt)||invariant$n(!1),this._variables[tt]},s._getRecordType=function(tt){var at=tt[TYPENAME_KEY$1];return at==null&&invariant$n(!1),at},s._traverseSelections=function(tt,at,ct){for(var ut=0;ut<tt.selections.length;ut++){var bt=tt.selections[ut];switch(bt.kind){case"ScalarField":case"LinkedField":this._normalizeField(bt,at,ct);break;case"Condition":var wt=!!this._getVariableValue(bt.condition);wt===bt.passingValue&&this._traverseSelections(bt,at,ct);break;case"FragmentSpread":{var Et=this._variables;this._variables=getLocalVariables$3(this._variables,bt.fragment.argumentDefinitions,bt.args),this._traverseSelections(bt.fragment,at,ct),this._variables=Et;break}case"InlineFragment":{var Ft=bt.abstractKey;if(Ft==null){var jt=RelayModernRecord$b.getType(at);jt===bt.type&&this._traverseSelections(bt,at,ct)}else{var Lt=ct.hasOwnProperty(Ft),Ut=RelayModernRecord$b.getType(at),Vt=generateTypeID$3(Ut),Yt=this._recordSource.get(Vt);Yt==null&&(Yt=RelayModernRecord$b.create(Vt,TYPE_SCHEMA_TYPE$1),this._recordSource.set(Vt,Yt)),RelayModernRecord$b.setValue(Yt,Ft,Lt),Lt&&this._traverseSelections(bt,at,ct)}break}case"TypeDiscriminator":{var er=bt.abstractKey,tr=ct.hasOwnProperty(er),nr=RelayModernRecord$b.getType(at),ir=generateTypeID$3(nr),lr=this._recordSource.get(ir);lr==null&&(lr=RelayModernRecord$b.create(ir,TYPE_SCHEMA_TYPE$1),this._recordSource.set(ir,lr)),RelayModernRecord$b.setValue(lr,er,tr);break}case"LinkedHandle":case"ScalarHandle":var pr=bt.args?getArgumentValues$3(bt.args,this._variables):{},yr=getStorageKey$6(bt,this._variables),br=getHandleStorageKey$2(bt,this._variables);this._handleFieldPayloads.push({args:pr,dataID:RelayModernRecord$b.getDataID(at),fieldKey:yr,handle:bt.handle,handleKey:br,handleArgs:bt.handleArgs?getArgumentValues$3(bt.handleArgs,this._variables):{}});break;case"ModuleImport":this._normalizeModuleImport(bt,at,ct);break;case"Defer":this._normalizeDefer(bt,at,ct);break;case"Stream":this._normalizeStream(bt,at,ct);break;case"ClientExtension":var xr=this._isClientExtension;this._isClientExtension=!0,this._traverseSelections(bt,at,ct),this._isClientExtension=xr;break;case"ClientComponent":if(this._shouldProcessClientComponents===!1)break;this._traverseSelections(bt.fragment,at,ct);break;case"ActorChange":this._normalizeActorChange(bt,at,ct);break;case"RelayResolver":this._normalizeResolver(bt,at,ct);break;case"RelayLiveResolver":this._normalizeResolver(bt,at,ct);break;case"ClientEdgeToClientObject":this._normalizeResolver(bt.backingField,at,ct);break;default:invariant$n(!1)}}},s._normalizeResolver=function(tt,at,ct){tt.fragment!=null&&this._traverseSelections(tt.fragment,at,ct)},s._normalizeDefer=function(tt,at,ct){var ut=tt.if===null||this._getVariableValue(tt.if);ut===!1?this._traverseSelections(tt,at,ct):this._incrementalPlaceholders.push({kind:"defer",data:ct,label:tt.label,path:(0,_toConsumableArray2$2.default)(this._path),selector:createNormalizationSelector$2(tt,RelayModernRecord$b.getDataID(at),this._variables),typeName:RelayModernRecord$b.getType(at),actorIdentifier:this._actorIdentifier})},s._normalizeStream=function(tt,at,ct){this._traverseSelections(tt,at,ct);var ut=tt.if===null||this._getVariableValue(tt.if);ut===!0&&this._incrementalPlaceholders.push({kind:"stream",label:tt.label,path:(0,_toConsumableArray2$2.default)(this._path),parentID:RelayModernRecord$b.getDataID(at),node:tt,variables:this._variables,actorIdentifier:this._actorIdentifier})},s._normalizeModuleImport=function(tt,at,ct){typeof ct=="object"&&ct||invariant$n(!1);var ut=RelayModernRecord$b.getType(at),bt=getModuleComponentKey$2(tt.documentName),wt=tt.componentModuleProvider||ct[bt];RelayModernRecord$b.setValue(at,bt,wt??null);var Et=getModuleOperationKey$3(tt.documentName),Ft=tt.operationModuleProvider||ct[Et];RelayModernRecord$b.setValue(at,Et,Ft??null),Ft!=null&&this._followupPayloads.push({kind:"ModuleImportPayload",args:tt.args,data:ct,dataID:RelayModernRecord$b.getDataID(at),operationReference:Ft,path:(0,_toConsumableArray2$2.default)(this._path),typeName:ut,variables:this._variables,actorIdentifier:this._actorIdentifier})},s._normalizeField=function(tt,at,ct){typeof ct=="object"&&ct||invariant$n(!1);var ut=tt.alias||tt.name,bt=getStorageKey$6(tt,this._variables),wt=ct[ut];if(wt==null||RelayFeatureFlags$5.ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS&&Array.isArray(wt)&&wt.length===0){if(wt===void 0){var Et=this._isClientExtension||this._isUnmatchedAbstractType;if(Et)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue(at,bt,null);var Ft=this._errorTrie;if(Ft!=null){var jt=getErrorsByKey(Ft,ut);jt!=null&&RelayModernRecord$b.setErrors(at,bt,jt)}return}if(tt.kind==="ScalarField")RelayModernRecord$b.setValue(at,bt,wt);else if(tt.kind==="LinkedField"){this._path.push(ut);var Lt=this._errorTrie;this._errorTrie=Lt==null?null:getNestedErrorTrieByKey(Lt,ut),tt.plural?this._normalizePluralLink(tt,at,bt,wt):this._normalizeLink(tt,at,bt,wt),this._errorTrie=Lt,this._path.pop()}else invariant$n(!1)},s._normalizeActorChange=function(tt,at,ct){var ut,bt=tt.linkedField;typeof ct=="object"&&ct||invariant$n(!1);var wt=bt.alias||bt.name,Et=getStorageKey$6(bt,this._variables),Ft=ct[wt];if(Ft==null){if(Ft===void 0){var jt=this._isClientExtension||this._isUnmatchedAbstractType;if(jt)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue(at,Et,null);return}var Lt=getActorIdentifierFromPayload(Ft);if(Lt==null){RelayModernRecord$b.setValue(at,Et,null);return}var Ut=(ut=bt.concreteType)!==null&&ut!==void 0?ut:this._getRecordType(Ft),Vt=this._getDataId(Ft,Ut)||RelayModernRecord$b.getLinkedRecordID(at,Et)||generateClientID$5(RelayModernRecord$b.getDataID(at),Et);typeof Vt!="string"&&invariant$n(!1),RelayModernRecord$b.setActorLinkedRecordID(at,Et,Lt,Vt),this._followupPayloads.push({kind:"ActorPayload",data:Ft,dataID:Vt,path:[].concat((0,_toConsumableArray2$2.default)(this._path),[wt]),typeName:Ut,variables:this._variables,node:bt,actorIdentifier:Lt})},s._normalizeLink=function(tt,at,ct,ut){var bt;typeof ut=="object"&&ut||invariant$n(!1);var wt=this._getDataId(ut,(bt=tt.concreteType)!==null&&bt!==void 0?bt:this._getRecordType(ut))||RelayModernRecord$b.getLinkedRecordID(at,ct)||generateClientID$5(RelayModernRecord$b.getDataID(at),ct);typeof wt!="string"&&invariant$n(!1),RelayModernRecord$b.setLinkedRecordID(at,ct,wt);var Et=this._recordSource.get(wt);if(!Et){var Ft=tt.concreteType||this._getRecordType(ut);Et=RelayModernRecord$b.create(wt,Ft),this._recordSource.set(wt,Et)}this._traverseSelections(tt,Et,ut)},s._normalizePluralLink=function(tt,at,ct,ut){var bt=this;Array.isArray(ut)||invariant$n(!1);var wt=RelayModernRecord$b.getLinkedRecordIDs(at,ct),Et=[];ut.forEach(function(Ft,jt){var Lt;if(Ft==null){Et.push(Ft);return}bt._path.push(String(jt));var Ut=bt._errorTrie;bt._errorTrie=Ut==null?null:getNestedErrorTrieByKey(Ut,jt),typeof Ft!="object"&&invariant$n(!1);var Vt=bt._getDataId(Ft,(Lt=tt.concreteType)!==null&&Lt!==void 0?Lt:bt._getRecordType(Ft))||wt&&wt[jt]||generateClientID$5(RelayModernRecord$b.getDataID(at),ct,jt);typeof Vt!="string"&&invariant$n(!1),Et.push(Vt);var Yt=bt._recordSource.get(Vt);if(!Yt){var er=tt.concreteType||bt._getRecordType(Ft);Yt=RelayModernRecord$b.create(Vt,er),bt._recordSource.set(Vt,Yt)}bt._traverseSelections(tt,Yt,Ft),bt._errorTrie=Ut,bt._path.pop()}),RelayModernRecord$b.setLinkedRecordIDs(at,ct,Et)},s._validateRecordType=function(tt,at,ct){var ut;(ut=at.concreteType)!==null&&ut!==void 0||this._getRecordType(ct),RelayModernRecord$b.getDataID(tt)},s._validateConflictingFieldsWithIdenticalId=function(tt,at,ct){},s._validateConflictingLinkedFieldsWithIdenticalId=function(tt,at,ct){},a}(),RelayResponseNormalizer_1={normalize:normalize$2},_interopRequireDefault$d=interopRequireDefaultExports.default,_objectSpread2$4=_interopRequireDefault$d(objectSpread2Exports),_RelayModernRecord=_interopRequireDefault$d(RelayModernRecord$d),_RelayRecordSource=_interopRequireDefault$d(RelayRecordSource_1),_RelayResponseNormalizer=_interopRequireDefault$d(RelayResponseNormalizer_1);function normalizeResponse$2(a,s,et,tt){var at,ct=a.data,ut=a.errors,bt=_RelayRecordSource.default.create(),wt=_RelayModernRecord.default.create(s.dataID,et);bt.set(s.dataID,wt);var Et=_RelayResponseNormalizer.default.normalize(bt,s,ct,tt,ut);return(0,_objectSpread2$4.default)((0,_objectSpread2$4.default)({},Et),{},{isFinal:((at=a.extensions)===null||at===void 0?void 0:at.is_final)===!0})}var normalizeResponse_1=normalizeResponse$2,_require$q=GraphQLTag$1,getInlineDataFragment=_require$q.getInlineDataFragment,_require2$i=RelayStoreUtils_1,FRAGMENTS_KEY$1=_require2$i.FRAGMENTS_KEY,invariant$m=browser$1;function readInlineData$1(a,s){var et,tt=getInlineDataFragment(a);if(s==null)return s;typeof s!="object"&&invariant$m(!1);var at=(et=s[FRAGMENTS_KEY$1])===null||et===void 0?void 0:et[tt.name];return at==null&&invariant$m(!1),at}var readInlineData_1=readInlineData$1,id=1e5;function generateID$2(){return id++}var generateID_1=generateID$2,generateID$1=generateID_1;function wrapNetworkWithLogObserver$1(a,s){return{execute:function(tt,at,ct,ut){var bt=generateID$1(),wt={start:function(jt){a.__log({name:"network.start",networkRequestId:bt,params:tt,variables:at,cacheConfig:ct})},next:function(jt){a.__log({name:"network.next",networkRequestId:bt,response:jt})},error:function(jt){a.__log({name:"network.error",networkRequestId:bt,error:jt})},complete:function(){a.__log({name:"network.complete",networkRequestId:bt})},unsubscribe:function(){a.__log({name:"network.unsubscribe",networkRequestId:bt})}},Et=function(jt){a.__log({name:"network.info",networkRequestId:bt,info:jt})};return s.execute(tt,at,ct,ut,Et).do(wt)}}}var wrapNetworkWithLogObserver_1=wrapNetworkWithLogObserver$1,_interopRequireDefault$c=interopRequireDefaultExports.default,_createForOfIteratorHelper2$8=_interopRequireDefault$c(createForOfIteratorHelperExports),invariant$l=browser$1,RelayOperationTracker$2=function(){function a(){this._ownersToPendingOperations=new Map,this._pendingOperationsToOwners=new Map,this._ownersToPendingPromise=new Map}var s=a.prototype;return s.update=function(tt,at){if(at.size!==0){var ct=tt.identifier,ut=new Set,bt=(0,_createForOfIteratorHelper2$8.default)(at),wt;try{for(bt.s();!(wt=bt.n()).done;){var Et=wt.value,Ft=Et.identifier,jt=this._ownersToPendingOperations.get(Ft);jt!=null?jt.has(ct)||(jt.set(ct,tt),ut.add(Ft)):(this._ownersToPendingOperations.set(Ft,new Map([[ct,tt]])),ut.add(Ft))}}catch(er){bt.e(er)}finally{bt.f()}if(ut.size!==0){var Lt=this._pendingOperationsToOwners.get(ct)||new Set,Ut=(0,_createForOfIteratorHelper2$8.default)(ut),Vt;try{for(Ut.s();!(Vt=Ut.n()).done;){var Yt=Vt.value;this._resolveOwnerResolvers(Yt),Lt.add(Yt)}}catch(er){Ut.e(er)}finally{Ut.f()}this._pendingOperationsToOwners.set(ct,Lt)}}},s.complete=function(tt){var at=tt.identifier,ct=this._pendingOperationsToOwners.get(at);if(ct!=null){var ut=new Set,bt=new Set,wt=(0,_createForOfIteratorHelper2$8.default)(ct),Et;try{for(wt.s();!(Et=wt.n()).done;){var Ft=Et.value,jt=this._ownersToPendingOperations.get(Ft);jt&&(jt.delete(at),jt.size>0?bt.add(Ft):ut.add(Ft))}}catch(nr){wt.e(nr)}finally{wt.f()}var Lt=(0,_createForOfIteratorHelper2$8.default)(ut),Ut;try{for(Lt.s();!(Ut=Lt.n()).done;){var Vt=Ut.value;this._resolveOwnerResolvers(Vt),this._ownersToPendingOperations.delete(Vt)}}catch(nr){Lt.e(nr)}finally{Lt.f()}var Yt=(0,_createForOfIteratorHelper2$8.default)(bt),er;try{for(Yt.s();!(er=Yt.n()).done;){var tr=er.value;this._resolveOwnerResolvers(tr)}}catch(nr){Yt.e(nr)}finally{Yt.f()}this._pendingOperationsToOwners.delete(at)}},s._resolveOwnerResolvers=function(tt){var at=this._ownersToPendingPromise.get(tt);at!=null&&at.resolve(),this._ownersToPendingPromise.delete(tt)},s.getPendingOperationsAffectingOwner=function(tt){var at=tt.identifier,ct=this._ownersToPendingOperations.get(at);if(ct==null||ct.size===0)return null;var ut=this._ownersToPendingPromise.get(at);if(ut!=null)return{promise:ut.promise,pendingOperations:ut.pendingOperations};var bt,wt=new Promise(function(Ft){bt=Ft});bt==null&&invariant$l(!1);var Et=Array.from(ct.values());return this._ownersToPendingPromise.set(at,{promise:wt,resolve:bt,pendingOperations:Et}),{promise:wt,pendingOperations:Et}},a}(),RelayOperationTracker_1=RelayOperationTracker$2;function registerEnvironmentWithDevTools$1(a){var s=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,et=s&&s.__RELAY_DEVTOOLS_HOOK__;et&&et.registerEnvironment(a)}var registerEnvironmentWithDevTools_1=registerEnvironmentWithDevTools$1,_require$p=ClientID,generateClientID$4=_require$p.generateClientID,_require2$h=RelayStoreUtils_1,ROOT_ID$4=_require2$h.ROOT_ID,VIEWER_ID$2=generateClientID$4(ROOT_ID$4,"viewer"),VIEWER_TYPE$1="Viewer",ViewerPattern$1={VIEWER_ID:VIEWER_ID$2,VIEWER_TYPE:VIEWER_TYPE$1},_require$o=ViewerPattern$1,VIEWER_ID$1=_require$o.VIEWER_ID,VIEWER_TYPE=_require$o.VIEWER_TYPE;function defaultGetDataID$2(a,s){return s===VIEWER_TYPE&&a.id==null?VIEWER_ID$1:a.id}var defaultGetDataID_1=defaultGetDataID$2,defaultRelayFieldLogger$1=function a(s){},defaultRelayFieldLogger_1=defaultRelayFieldLogger$1,_require$n=RelayConcreteNode_1,REQUEST=_require$n.REQUEST,SPLIT_OPERATION=_require$n.SPLIT_OPERATION;function getOperation$3(a){switch(a.kind){case REQUEST:return a.operation;case SPLIT_OPERATION:default:return a}}var getOperation_1=getOperation$3;function createError(a,s,et){for(var tt=arguments.length,at=new Array(tt>3?tt-3:0),ct=3;ct<tt;ct++)at[ct-3]=arguments[ct];var ut=0,bt=et.replace(/%s/g,function(){return String(at[ut++])}),wt=new Error(bt),Et=Object.assign(wt,{name:s,messageFormat:et,messageParams:at,type:a,taalOpcodes:[2,2]});if(Et.stack===void 0)try{throw Et}catch{}return Et}var RelayError$2={create:function a(s,et){for(var tt=arguments.length,at=new Array(tt>2?tt-2:0),ct=2;ct<tt;ct++)at[ct-2]=arguments[ct];return createError.apply(void 0,["error",s,et].concat(at))},createWarning:function a(s,et){for(var tt=arguments.length,at=new Array(tt>2?tt-2:0),ct=2;ct<tt;ct++)at[ct-2]=arguments[ct];return createError.apply(void 0,["warn",s,et].concat(at))}},_window,_window$performance,isPerformanceNowAvailable=typeof window<"u"&&typeof((_window=window)===null||_window===void 0||(_window$performance=_window.performance)===null||_window$performance===void 0?void 0:_window$performance.now)=="function";function currentTimestamp(){return isPerformanceNowAvailable?window.performance.now():Date.now()}function withStartAndDuration$1(a){var s=currentTimestamp(),et=a();return[s,currentTimestamp()-s,et]}var withStartAndDuration_1=withStartAndDuration$1,_interopRequireDefault$b=interopRequireDefaultExports.default,_createForOfIteratorHelper2$7=_interopRequireDefault$b(createForOfIteratorHelperExports),_toConsumableArray2$1=_interopRequireDefault$b(toConsumableArrayExports),RelayObservable$2=RelayObservable_1,generateID=generateID_1,getOperation$2=getOperation_1,RelayError$1=RelayError$2,RelayFeatureFlags$4=RelayFeatureFlags_1,_require$m=stableCopy_1,stableCopy$2=_require$m.stableCopy,withStartAndDuration=withStartAndDuration_1,_require2$g=ClientID,generateClientID$3=_require2$g.generateClientID,generateUniqueClientID$1=_require2$g.generateUniqueClientID,_require3$a=RelayConcreteVariables$2,getLocalVariables$2=_require3$a.getLocalVariables,RelayModernRecord$a=RelayModernRecord$d,_require4$6=RelayModernSelector$1,createNormalizationSelector$1=_require4$6.createNormalizationSelector,createReaderSelector$1=_require4$6.createReaderSelector,RelayRecordSource$5=RelayRecordSource_1,_require5$3=RelayStoreUtils_1,ROOT_TYPE$3=_require5$3.ROOT_TYPE,TYPENAME_KEY=_require5$3.TYPENAME_KEY,getStorageKey$5=_require5$3.getStorageKey,invariant$k=browser$1,warning=warning_1;function execute(a){return new Executor(a)}var Executor=function(){function a(et){var tt=this,at=et.actorIdentifier,ct=et.getDataID,ut=et.getPublishQueue,bt=et.getStore,wt=et.isClientPayload,Et=et.operation,Ft=et.operationExecutions,jt=et.operationLoader,Lt=et.operationTracker,Ut=et.optimisticConfig,Vt=et.scheduler,Yt=et.shouldProcessClientComponents,er=et.sink,tr=et.source,nr=et.treatMissingFieldsAsNull,ir=et.updater,lr=et.log,pr=et.normalizeResponse;this._actorIdentifier=at,this._getDataID=ct,this._treatMissingFieldsAsNull=nr,this._incrementalPayloadsPending=!1,this._incrementalResults=new Map,this._log=lr,this._executeId=generateID(),this._nextSubscriptionId=0,this._operation=Et,this._operationExecutions=Ft,this._operationLoader=jt,this._operationTracker=Lt,this._operationUpdateEpochs=new Map,this._optimisticUpdates=null,this._pendingModulePayloadsCount=0,this._getPublishQueue=ut,this._scheduler=Vt,this._sink=er,this._source=new Map,this._state="started",this._getStore=bt,this._subscriptions=new Map,this._updater=ir,this._isClientPayload=wt===!0,this._isSubscriptionOperation=this._operation.request.node.params.operationKind==="subscription",this._shouldProcessClientComponents=Yt,this._retainDisposables=new Map,this._seenActors=new Set,this._completeFns=[],this._normalizeResponse=pr;var yr=this._nextSubscriptionId++;RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&Ut!=null&&this._processOptimisticResponse(Ut.response!=null?{data:Ut.response}:null,Ut.updater,!1),tr.subscribe({complete:function(){return tt._complete(yr)},error:function(xr){return tt._error(xr)},next:function(xr){try{tt._next(yr,xr)}catch(Er){er.error(Er)}},start:function(xr){var Er;tt._start(yr,xr),tt._log({name:"execute.start",executeId:tt._executeId,params:tt._operation.request.node.params,variables:tt._operation.request.variables,cacheConfig:(Er=tt._operation.request.cacheConfig)!==null&&Er!==void 0?Er:{}})}}),!RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&Ut!=null&&this._processOptimisticResponse(Ut.response!=null?{data:Ut.response}:null,Ut.updater,!1)}var s=a.prototype;return s.cancel=function(){var tt=this;if(this._state!=="completed"){this._state="completed",this._operationExecutions.delete(this._operation.request.identifier),this._subscriptions.size!==0&&(this._subscriptions.forEach(function(ct){return ct.unsubscribe()}),this._subscriptions.clear());var at=this._optimisticUpdates;at!==null&&(this._optimisticUpdates=null,at.forEach(function(ct){return tt._getPublishQueueAndSaveActor().revertUpdate(ct)}),this._runPublishQueue()),this._incrementalResults.clear(),this._asyncStoreUpdateDisposable!=null&&(this._asyncStoreUpdateDisposable.dispose(),this._asyncStoreUpdateDisposable=null),this._completeFns=[],this._completeOperationTracker(),this._disposeRetainedData()}},s._updateActiveState=function(){var tt;switch(this._state){case"started":{tt="active";break}case"loading_incremental":{tt="active";break}case"completed":{tt="inactive";break}case"loading_final":{tt=this._pendingModulePayloadsCount>0?"active":"inactive";break}default:this._state,invariant$k(!1)}this._operationExecutions.set(this._operation.request.identifier,tt)},s._schedule=function(tt,at){var ct=this,ut=this._scheduler;if(ut!=null){var bt=this._nextSubscriptionId++;RelayObservable$2.create(function(wt){var Et=ut.schedule(function(){try{tt(),wt.complete()}catch(Ft){wt.error(Ft)}},at);return function(){return ut.cancel(Et)}}).subscribe({complete:function(){return ct._complete(bt)},error:function(Et){return ct._error(Et)},start:function(Et){return ct._start(bt,Et)}})}else tt()},s._complete=function(tt){this._subscriptions.delete(tt),this._subscriptions.size===0&&(this.cancel(),this._sink.complete(),this._log({name:"execute.complete",executeId:this._executeId}))},s._error=function(tt){this.cancel(),this._sink.error(tt),this._log({name:"execute.error",executeId:this._executeId,error:tt})},s._start=function(tt,at){this._subscriptions.set(tt,at),this._updateActiveState()},s._next=function(tt,at){var ct=this,ut=this._state==="loading_incremental"?"low":"default";this._schedule(function(){ct._log({name:"execute.next.start",executeId:ct._executeId,response:at,operation:ct._operation}),ct._handleNext(at),ct._maybeCompleteSubscriptionOperationTracking(),ct._log({name:"execute.next.end",executeId:ct._executeId,response:at,operation:ct._operation})},ut)},s._handleErrorResponse=function(tt){var at=this,ct=[];return tt.forEach(function(ut){if(!(ut.data===null&&ut.extensions!=null&&!ut.hasOwnProperty("errors")))if(ut.data==null){var bt=ut.hasOwnProperty("errors")&&ut.errors!=null?ut.errors:null,wt=bt?bt.map(function(jt){var Lt=jt.message;return Lt}).join(`
`):"(No errors)",Et=RelayError$1.create("RelayNetwork","No data returned for operation `"+at._operation.request.node.params.name+"`, got error(s):\n"+wt+"\n\nSee the error `source` property for more information.");throw Et.source={errors:bt,operation:at._operation.request.node,variables:at._operation.request.variables},Et.stack,Et}else{var Ft=ut;ct.push(Ft)}}),ct},s._handleOptimisticResponses=function(tt){var at;if(tt.length>1)return tt.some(function(bt){var wt;return((wt=bt.extensions)===null||wt===void 0?void 0:wt.isOptimistic)===!0})&&invariant$k(!1),!1;var ct=tt[0],ut=((at=ct.extensions)===null||at===void 0?void 0:at.isOptimistic)===!0;return ut&&this._state!=="started"&&invariant$k(!1),ut?(this._processOptimisticResponse(ct,null,this._treatMissingFieldsAsNull),this._sink.next(ct),!0):!1},s._handleNext=function(tt){if(this._state!=="completed"){this._seenActors.clear();var at=Array.isArray(tt)?tt:[tt],ct=this._handleErrorResponse(at);if(ct.length===0){var ut=at.some(function(er){var tr;return((tr=er.extensions)===null||tr===void 0?void 0:tr.is_final)===!0});ut&&(this._state="loading_final",this._updateActiveState(),this._incrementalPayloadsPending=!1),this._sink.next(tt);return}var bt=this._handleOptimisticResponses(ct);if(!bt){var wt=partitionGraphQLResponses(ct),Et=wt[0],Ft=wt[1],jt=Et.length>0;if(jt){if(this._isSubscriptionOperation){var Lt=generateUniqueClientID$1();this._operation={request:this._operation.request,fragment:createReaderSelector$1(this._operation.fragment.node,Lt,this._operation.fragment.variables,this._operation.fragment.owner),root:createNormalizationSelector$1(this._operation.root.node,Lt,this._operation.root.variables)}}var Ut=this._processResponses(Et);this._processPayloadFollowups(Ut)}if(Ft.length>0){var Vt=this._processIncrementalResponses(Ft);this._processPayloadFollowups(Vt)}this._isSubscriptionOperation&&(ct[0].extensions==null?ct[0].extensions={__relay_subscription_root_id:this._operation.fragment.dataID}:ct[0].extensions.__relay_subscription_root_id=this._operation.fragment.dataID);var Yt=this._runPublishQueue(jt?this._operation:void 0);jt&&this._incrementalPayloadsPending&&this._retainData(),this._updateOperationTracker(Yt),this._sink.next(tt)}}},s._processOptimisticResponse=function(tt,at,ct){var ut=this;if(this._optimisticUpdates!==null&&invariant$k(!1),!(tt==null&&at==null)){var bt=[];if(tt){var wt=this._normalizeResponse(tt,this._operation.root,ROOT_TYPE$3,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[],shouldProcessClientComponents:this._shouldProcessClientComponents,treatMissingFieldsAsNull:ct});validateOptimisticResponsePayload(wt),bt.push({operation:this._operation,payload:wt,updater:at}),this._processOptimisticFollowups(wt,bt)}else at&&bt.push({operation:this._operation,payload:{errors:null,fieldPayloads:null,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1},updater:at});this._optimisticUpdates=bt,bt.forEach(function(Ft){return ut._getPublishQueueAndSaveActor().applyUpdate(Ft)});var Et=this._runPublishQueue();RelayFeatureFlags$4.ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES&&this._updateOperationTracker(Et)}},s._processOptimisticFollowups=function(tt,at){if(tt.followupPayloads&&tt.followupPayloads.length){var ct=tt.followupPayloads,ut=(0,_createForOfIteratorHelper2$7.default)(ct),bt;try{for(ut.s();!(bt=ut.n()).done;){var wt=bt.value;switch(wt.kind){case"ModuleImportPayload":var Et=this._expectOperationLoader(),Ft=Et.get(wt.operationReference);if(Ft==null)this._processAsyncOptimisticModuleImport(wt);else{var jt=this._processOptimisticModuleImport(Ft,wt);at.push.apply(at,(0,_toConsumableArray2$1.default)(jt))}break;case"ActorPayload":break;default:invariant$k(!1)}}}catch(Lt){ut.e(Lt)}finally{ut.f()}}},s._normalizeFollowupPayload=function(tt,at){var ct;at.kind==="SplitOperation"&&tt.kind==="ModuleImportPayload"?ct=getLocalVariables$2(tt.variables,at.argumentDefinitions,tt.args):ct=tt.variables;var ut=createNormalizationSelector$1(at,tt.dataID,ct);return this._normalizeResponse({data:tt.data},ut,tt.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:tt.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents})},s._processOptimisticModuleImport=function(tt,at){var ct=getOperation$2(tt),ut=[],bt=this._normalizeFollowupPayload(at,ct);return validateOptimisticResponsePayload(bt),ut.push({operation:this._operation,payload:bt,updater:null}),this._processOptimisticFollowups(bt,ut),ut},s._processAsyncOptimisticModuleImport=function(tt){var at=this;this._expectOperationLoader().load(tt.operationReference).then(function(ct){if(!(ct==null||at._state!=="started")){var ut=at._processOptimisticModuleImport(ct,tt);if(ut.forEach(function(wt){return at._getPublishQueueAndSaveActor().applyUpdate(wt)}),at._optimisticUpdates!=null){var bt;(bt=at._optimisticUpdates).push.apply(bt,(0,_toConsumableArray2$1.default)(ut)),at._runPublishQueue()}}})},s._processResponses=function(tt){var at=this;return this._log({name:"execute.normalize.start",operation:this._operation}),this._optimisticUpdates!==null&&(this._optimisticUpdates.forEach(function(ct){at._getPublishQueueAndSaveActor().revertUpdate(ct)}),this._optimisticUpdates=null),this._incrementalPayloadsPending=!1,this._incrementalResults.clear(),this._source.clear(),tt.map(function(ct){var ut=at._normalizeResponse(ct,at._operation.root,ROOT_TYPE$3,{actorIdentifier:at._actorIdentifier,getDataID:at._getDataID,path:[],treatMissingFieldsAsNull:at._treatMissingFieldsAsNull,shouldProcessClientComponents:at._shouldProcessClientComponents});return at._getPublishQueueAndSaveActor().commitPayload(at._operation,ut,at._updater),at._log({name:"execute.normalize.end",operation:at._operation}),ut})},s._processPayloadFollowups=function(tt){var at=this;this._state!=="completed"&&tt.forEach(function(ct){var ut=ct.incrementalPlaceholders,bt=ct.followupPayloads,wt=ct.isFinal;if(at._state=wt?"loading_final":"loading_incremental",at._updateActiveState(),wt&&(at._incrementalPayloadsPending=!1),bt&&bt.length!==0&&bt.forEach(function(Ft){var jt,Lt=at._actorIdentifier;at._actorIdentifier=(jt=Ft.actorIdentifier)!==null&&jt!==void 0?jt:at._actorIdentifier,at._processFollowupPayload(Ft),at._actorIdentifier=Lt}),ut&&ut.length!==0&&(at._incrementalPayloadsPending=at._state!=="loading_final",ut.forEach(function(Ft){var jt,Lt=at._actorIdentifier;at._actorIdentifier=(jt=Ft.actorIdentifier)!==null&&jt!==void 0?jt:at._actorIdentifier,at._processIncrementalPlaceholder(ct,Ft),at._actorIdentifier=Lt}),at._isClientPayload||at._state==="loading_final")){var Et=[];ut.forEach(function(Ft){Ft.kind==="defer"&&Et.push(at._processDeferResponse(Ft.label,Ft.path,Ft,{data:Ft.data}))}),Et.length>0&&at._processPayloadFollowups(Et)}})},s._maybeCompleteSubscriptionOperationTracking=function(){this._isSubscriptionOperation&&this._pendingModulePayloadsCount===0&&this._incrementalPayloadsPending===!1&&this._completeOperationTracker()},s._processFollowupPayload=function(tt){var at=this;switch(tt.kind){case"ModuleImportPayload":var ct=this._expectOperationLoader(),ut=ct.get(tt.operationReference);if(ut!=null)this._processFollowupPayloadWithNormalizationNode(tt,getOperation$2(ut));else{var bt=this._nextSubscriptionId++;this._pendingModulePayloadsCount++;var wt=function(){at._pendingModulePayloadsCount--,at._maybeCompleteSubscriptionOperationTracking()},Et=RelayObservable$2.from(new Promise(function(Ft,jt){ct.load(tt.operationReference).then(Ft,jt)}));RelayObservable$2.create(function(Ft){var jt,Lt=Et.subscribe({next:function(Vt){if(Vt!=null){var Yt=function(){try{var nr=getOperation$2(Vt),ir=RelayFeatureFlags$4.BATCH_ASYNC_MODULE_UPDATES_FN,lr=ir!=null&&at._pendingModulePayloadsCount>1,pr=withStartAndDuration(function(){if(at._handleFollowupPayload(tt,nr),lr)at._scheduleAsyncStoreUpdate(ir,Ft.complete);else{var xr=at._runPublishQueue();at._updateOperationTracker(xr)}}),yr=pr[0],br=pr[1];at._log({name:"execute.async.module",executeId:at._executeId,operationName:nr.name,duration:br}),lr||Ft.complete()}catch(xr){Ft.error(xr)}},er=at._scheduler;er==null?Yt():jt=er.schedule(Yt)}else Ft.complete()},error:Ft.error});return function(){Lt.unsubscribe(),at._scheduler!=null&&jt!=null&&at._scheduler.cancel(jt)}}).subscribe({complete:function(){at._complete(bt),wt()},error:function(jt){at._error(jt),wt()},start:function(jt){return at._start(bt,jt)}})}break;case"ActorPayload":this._processFollowupPayloadWithNormalizationNode(tt,tt.node);break;default:invariant$k(!1)}},s._processFollowupPayloadWithNormalizationNode=function(tt,at){this._handleFollowupPayload(tt,at),this._maybeCompleteSubscriptionOperationTracking()},s._handleFollowupPayload=function(tt,at){var ct=this._normalizeFollowupPayload(tt,at);this._getPublishQueueAndSaveActor().commitPayload(this._operation,ct),this._processPayloadFollowups([ct])},s._processIncrementalPlaceholder=function(tt,at){var ct,ut=at.label,bt=at.path,wt=bt.map(String).join("."),Et=this._incrementalResults.get(ut);Et==null&&(Et=new Map,this._incrementalResults.set(ut,Et));var Ft=Et.get(wt),jt=Ft!=null&&Ft.kind==="response"?Ft.responses:null;Et.set(wt,{kind:"placeholder",placeholder:at});var Lt;at.kind==="stream"?Lt=at.parentID:at.kind==="defer"?Lt=at.selector.dataID:invariant$k(!1);var Ut=tt.source.get(Lt),Vt=((ct=tt.fieldPayloads)!==null&&ct!==void 0?ct:[]).filter(function(pr){var yr=generateClientID$3(pr.dataID,pr.fieldKey);return pr.dataID===Lt||yr===Lt});Ut==null&&invariant$k(!1);var Yt,er,tr=this._source.get(Lt);if(tr!=null){Yt=RelayModernRecord$a.update(tr.record,Ut);var nr=new Map,ir=function(yr){var br=stableStringify(yr);nr.set(br,yr)};tr.fieldPayloads.forEach(ir),Vt.forEach(ir),er=Array.from(nr.values())}else Yt=Ut,er=Vt;if(this._source.set(Lt,{record:Yt,fieldPayloads:er}),jt!=null){var lr=this._processIncrementalResponses(jt);this._processPayloadFollowups(lr)}},s._processIncrementalResponses=function(tt){var at=this,ct=[];return tt.forEach(function(ut){var bt=ut.label,wt=ut.path,Et=ut.response,Ft=at._incrementalResults.get(bt);if(Ft==null&&(Ft=new Map,at._incrementalResults.set(bt,Ft)),bt.indexOf("$defer$")!==-1){var jt=wt.map(String).join("."),Lt=Ft.get(jt);if(Lt==null){Lt={kind:"response",responses:[ut]},Ft.set(jt,Lt);return}else if(Lt.kind==="response"){Lt.responses.push(ut);return}var Ut=Lt.placeholder;Ut.kind!=="defer"&&invariant$k(!1),ct.push(at._processDeferResponse(bt,wt,Ut,Et))}else{var Vt=wt.slice(0,-2).map(String).join("."),Yt=Ft.get(Vt);if(Yt==null){Yt={kind:"response",responses:[ut]},Ft.set(Vt,Yt);return}else if(Yt.kind==="response"){Yt.responses.push(ut);return}var er=Yt.placeholder;er.kind!=="stream"&&invariant$k(!1),ct.push(at._processStreamResponse(bt,wt,er,Et))}}),ct},s._processDeferResponse=function(tt,at,ct,ut){var bt,wt=ct.selector.dataID,Et=this._actorIdentifier;this._actorIdentifier=(bt=ct.actorIdentifier)!==null&&bt!==void 0?bt:this._actorIdentifier;var Ft=this._normalizeResponse(ut,ct.selector,ct.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:ct.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});this._getPublishQueueAndSaveActor().commitPayload(this._operation,Ft);var jt=this._source.get(wt);jt==null&&invariant$k(!1);var Lt=jt.fieldPayloads;if(Lt.length!==0){var Ut,Vt={errors:null,fieldPayloads:Lt,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:((Ut=ut.extensions)===null||Ut===void 0?void 0:Ut.is_final)===!0};this._getPublishQueueAndSaveActor().commitPayload(this._operation,Vt)}return this._actorIdentifier=Et,Ft},s._processStreamResponse=function(tt,at,ct,ut){var bt=ct.parentID,wt=ct.node,Et=ct.variables,Ft=ct.actorIdentifier,jt=this._actorIdentifier;this._actorIdentifier=Ft??this._actorIdentifier;var Lt=wt.selections[0];Lt!=null&&Lt.kind==="LinkedField"&&Lt.plural===!0||invariant$k(!1);var Ut=this._normalizeStreamItem(ut,bt,Lt,Et,at,ct.path),Vt=Ut.fieldPayloads,Yt=Ut.itemID,er=Ut.itemIndex,tr=Ut.prevIDs,nr=Ut.relayPayload,ir=Ut.storageKey;if(this._getPublishQueueAndSaveActor().commitPayload(this._operation,nr,function(pr){var yr=pr.get(bt);if(yr!=null){var br=yr.getLinkedRecords(ir);if(br!=null&&!(br.length!==tr.length||br.some(function(Er,$r){return tr[$r]!==(Er&&Er.getDataID())}))){var xr=(0,_toConsumableArray2$1.default)(br);xr[er]=pr.get(Yt),yr.setLinkedRecords(xr,ir)}}}),Vt.length!==0){var lr={errors:null,fieldPayloads:Vt,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1};this._getPublishQueueAndSaveActor().commitPayload(this._operation,lr)}return this._actorIdentifier=jt,nr},s._normalizeStreamItem=function(tt,at,ct,ut,bt,wt){var Et,Ft,jt,Lt,Ut=tt.data;typeof Ut!="object"&&invariant$k(!1);var Vt=(Et=ct.alias)!==null&&Et!==void 0?Et:ct.name,Yt=getStorageKey$5(ct,ut),er=this._source.get(at);er==null&&invariant$k(!1);var tr=er.record,nr=er.fieldPayloads,ir=RelayModernRecord$a.getLinkedRecordIDs(tr,Yt);ir==null&&invariant$k(!1);var lr=bt[bt.length-1],pr=parseInt(lr,10);pr===lr&&pr>=0||invariant$k(!1);var yr=(Ft=ct.concreteType)!==null&&Ft!==void 0?Ft:Ut[TYPENAME_KEY];typeof yr!="string"&&invariant$k(!1);var br=(jt=(Lt=this._getDataID(Ut,yr))!==null&&Lt!==void 0?Lt:ir==null?void 0:ir[pr])!==null&&jt!==void 0?jt:generateClientID$3(at,Yt,pr);typeof br!="string"&&invariant$k(!1);var xr=createNormalizationSelector$1(ct,br,ut),Er=RelayModernRecord$a.clone(tr),$r=(0,_toConsumableArray2$1.default)(ir);$r[pr]=br,RelayModernRecord$a.setLinkedRecordIDs(Er,Yt,$r),this._source.set(at,{record:Er,fieldPayloads:nr});var Sr=this._normalizeResponse(tt,xr,yr,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[].concat((0,_toConsumableArray2$1.default)(wt),[Vt,String(pr)]),treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});return{fieldPayloads:nr,itemID:br,itemIndex:pr,prevIDs:ir,relayPayload:Sr,storageKey:Yt}},s._scheduleAsyncStoreUpdate=function(tt,at){var ct=this;this._completeFns.push(at),this._asyncStoreUpdateDisposable==null&&(this._asyncStoreUpdateDisposable=tt(function(){ct._asyncStoreUpdateDisposable=null;var ut=ct._runPublishQueue();ct._updateOperationTracker(ut);var bt=(0,_createForOfIteratorHelper2$7.default)(ct._completeFns),wt;try{for(bt.s();!(wt=bt.n()).done;){var Et=wt.value;Et()}}catch(Ft){bt.e(Ft)}finally{bt.f()}ct._completeFns=[]}))},s._updateOperationTracker=function(tt){tt!=null&&tt.length>0&&this._operationTracker.update(this._operation.request,new Set(tt))},s._completeOperationTracker=function(){this._operationTracker.complete(this._operation.request)},s._getPublishQueueAndSaveActor=function(){return this._seenActors.add(this._actorIdentifier),this._getPublishQueue(this._actorIdentifier)},s._getActorsToVisit=function(){return this._seenActors.size===0?new Set([this._actorIdentifier]):this._seenActors},s._runPublishQueue=function(tt){var at=new Set,ct=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),ut;try{for(ct.s();!(ut=ct.n()).done;){var bt=ut.value,wt=this._getPublishQueue(bt).run(tt);wt.forEach(function(Et){return at.add(Et)})}}catch(Et){ct.e(Et)}finally{ct.f()}return Array.from(at)},s._retainData=function(){var tt=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),at;try{for(tt.s();!(at=tt.n()).done;){var ct=at.value;this._retainDisposables.has(ct)||this._retainDisposables.set(ct,this._getStore(ct).retain(this._operation))}}catch(ut){tt.e(ut)}finally{tt.f()}},s._disposeRetainedData=function(){var tt=(0,_createForOfIteratorHelper2$7.default)(this._retainDisposables.values()),at;try{for(tt.s();!(at=tt.n()).done;){var ct=at.value;ct.dispose()}}catch(ut){tt.e(ut)}finally{tt.f()}this._retainDisposables.clear()},s._expectOperationLoader=function(){var tt=this._operationLoader;return tt||invariant$k(!1),tt},a}();function partitionGraphQLResponses(a){var s=[],et=[];return a.forEach(function(tt){if(tt.path!=null||tt.label!=null){var at=tt.label,ct=tt.path;(at==null||ct==null)&&invariant$k(!1),et.push({label:at,path:ct,response:tt})}else s.push(tt)}),[s,et]}function stableStringify(a){var s;return(s=JSON.stringify(stableCopy$2(a)))!==null&&s!==void 0?s:""}function validateOptimisticResponsePayload(a){var s=a.incrementalPlaceholders;s!=null&&s.length!==0&&invariant$k(!1)}var OperationExecutor$1={execute},RelayModernRecord$9=RelayModernRecord$d,_require$l=RelayRecordState_1,EXISTENT$2=_require$l.EXISTENT,invariant$j=browser$1,RelayRecordSourceMutator$2=function(){function a(et,tt){this.__sources=[tt,et],this._base=et,this._sink=tt}var s=a.prototype;return s.unstable_getRawRecordWithChanges=function(tt){var at=this._base.get(tt),ct=this._sink.get(tt);if(ct===void 0){if(at==null)return at;var ut=RelayModernRecord$9.clone(at);return ut}else{if(ct===null)return null;if(at!=null){var bt=RelayModernRecord$9.update(at,ct);return bt}else{var wt=RelayModernRecord$9.clone(ct);return wt}}},s._getSinkRecord=function(tt){var at=this._sink.get(tt);if(!at){var ct=this._base.get(tt);ct||invariant$j(!1),at=RelayModernRecord$9.create(tt,RelayModernRecord$9.getType(ct)),this._sink.set(tt,at)}return at},s.copyFields=function(tt,at){var ct=this._sink.get(tt),ut=this._base.get(tt);ct||ut||invariant$j(!1);var bt=this._getSinkRecord(at);ut&&RelayModernRecord$9.copyFields(ut,bt),ct&&RelayModernRecord$9.copyFields(ct,bt)},s.copyFieldsFromRecord=function(tt,at){var ct=this._getSinkRecord(at);RelayModernRecord$9.copyFields(tt,ct)},s.create=function(tt,at){this._base.getStatus(tt)!==EXISTENT$2&&this._sink.getStatus(tt)!==EXISTENT$2||invariant$j(!1);var ct=RelayModernRecord$9.create(tt,at);this._sink.set(tt,ct)},s.delete=function(tt){this._sink.delete(tt)},s.getStatus=function(tt){return this._sink.has(tt)?this._sink.getStatus(tt):this._base.getStatus(tt)},s.getType=function(tt){for(var at=0;at<this.__sources.length;at++){var ct=this.__sources[at].get(tt);if(ct)return RelayModernRecord$9.getType(ct);if(ct===null)return null}},s.getValue=function(tt,at){for(var ct=0;ct<this.__sources.length;ct++){var ut=this.__sources[ct].get(tt);if(ut){var bt=RelayModernRecord$9.getValue(ut,at);if(bt!==void 0)return bt}else if(ut===null)return null}},s.setValue=function(tt,at,ct){var ut=this._getSinkRecord(tt);RelayModernRecord$9.setValue(ut,at,ct)},s.getErrors=function(tt,at){for(var ct=0;ct<this.__sources.length;ct++){var ut=this.__sources[ct].get(tt);if(ut){var bt=RelayModernRecord$9.getErrors(ut,at);if(bt!==void 0)return bt}else if(ut===null)return null}},s.setErrors=function(tt,at,ct){var ut=this._getSinkRecord(tt);RelayModernRecord$9.setErrors(ut,at,ct)},s.getLinkedRecordID=function(tt,at){for(var ct=0;ct<this.__sources.length;ct++){var ut=this.__sources[ct].get(tt);if(ut){var bt=RelayModernRecord$9.getLinkedRecordID(ut,at);if(bt!==void 0)return bt}else if(ut===null)return null}},s.setLinkedRecordID=function(tt,at,ct){var ut=this._getSinkRecord(tt);RelayModernRecord$9.setLinkedRecordID(ut,at,ct)},s.getLinkedRecordIDs=function(tt,at){for(var ct=0;ct<this.__sources.length;ct++){var ut=this.__sources[ct].get(tt);if(ut){var bt=RelayModernRecord$9.getLinkedRecordIDs(ut,at);if(bt!==void 0)return bt}else if(ut===null)return null}},s.setLinkedRecordIDs=function(tt,at,ct){var ut=this._getSinkRecord(tt);RelayModernRecord$9.setLinkedRecordIDs(ut,at,ct)},a}(),RelayRecordSourceMutator_1=RelayRecordSourceMutator$2,_interopRequireDefault$a=interopRequireDefaultExports.default,_createForOfIteratorHelper2$6=_interopRequireDefault$a(createForOfIteratorHelperExports),_require$k=RelayStoreUtils_1,getArgumentValues$2=_require$k.getArgumentValues,nonUpdatableKeys=["id","__id","__typename","js"];function createUpdatableProxy$2(a,s,et,tt,at){var ct={};return updateProxyFromSelections(ct,a,s,et,tt,at),ct}function updateProxyFromSelections(a,s,et,tt,at,ct){var ut,bt=(0,_createForOfIteratorHelper2$6.default)(tt),wt;try{var Et=function(){var Ut=wt.value;switch(Ut.kind){case"LinkedField":Ut.plural?Object.defineProperty(a,(Ft=Ut.alias)!==null&&Ft!==void 0?Ft:Ut.name,{get:createGetterForPluralLinkedField(Ut,et,s,at,ct),set:createSetterForPluralLinkedField(Ut,et,s,at)}):Object.defineProperty(a,(jt=Ut.alias)!==null&&jt!==void 0?jt:Ut.name,{get:createGetterForSingularLinkedField(Ut,et,s,at,ct),set:createSetterForSingularLinkedField(Ut,et,s,at)});break;case"ScalarField":var Vt=(ut=Ut.alias)!==null&&ut!==void 0?ut:Ut.name;Object.defineProperty(a,Vt,{get:function(){var er,tr=getArgumentValues$2((er=Ut.args)!==null&&er!==void 0?er:[],et),nr=s.getValue(Ut.name,tr);return nr==null&&(nr=getScalarUsingMissingFieldHandlers(Ut,tr,s,at,ct)),nr},set:nonUpdatableKeys.includes(Ut.name)?void 0:function(Yt){var er,tr=getArgumentValues$2((er=Ut.args)!==null&&er!==void 0?er:[],et);s.setValue__UNSAFE(Yt,Ut.name,tr)}});break;case"InlineFragment":s.getType()===Ut.type&&updateProxyFromSelections(a,s,et,Ut.selections,at,ct);break;case"ClientExtension":updateProxyFromSelections(a,s,et,Ut.selections,at,ct);break;case"FragmentSpread":break;case"Condition":case"ActorChange":case"InlineDataFragmentSpread":case"AliasedInlineFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"Defer":case"ModuleImport":case"RelayLiveResolver":case"RequiredField":case"CatchField":case"Stream":case"RelayResolver":throw new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.");default:throw Ut.kind,new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.")}};for(bt.s();!(wt=bt.n()).done;){var Ft,jt;Et()}}catch(Lt){bt.e(Lt)}finally{bt.f()}}function createSetterForPluralLinkedField(a,s,et,tt){return function(ct){var ut,bt=getArgumentValues$2((ut=a.args)!==null&&ut!==void 0?ut:[],s);if(ct==null)throw new Error("Do not assign null to plural linked fields; assign an empty array instead.");var wt=ct.map(function(Et){if(Et==null)throw new Error("When assigning an array of items, none of the items should be null or undefined.");var Ft=Et.__id;if(Ft==null)throw new Error("The __id field must be present on each item passed to the setter. This indicates a bug in Relay.");var jt=tt.get(Ft);if(jt==null)throw new Error("Did not find item with data id ".concat(Ft," in the store."));return jt});et.setLinkedRecords(wt,a.name,bt)}}function createSetterForSingularLinkedField(a,s,et,tt){return function(ct){var ut,bt=getArgumentValues$2((ut=a.args)!==null&&ut!==void 0?ut:[],s);if(ct==null)et.setValue(ct,a.name,bt);else{var wt=ct.__id;if(wt==null)throw new Error("The __id field must be present on the argument. This indicates a bug in Relay.");var Et=tt.get(wt);if(Et==null)throw new Error("Did not find item with data id ".concat(wt," in the store."));et.setLinkedRecord(Et,a.name,bt)}}}function createGetterForPluralLinkedField(a,s,et,tt,at){return function(){var ct,ut=getArgumentValues$2((ct=a.args)!==null&&ct!==void 0?ct:[],s),bt=et.getLinkedRecords(a.name,ut);return bt===void 0&&(bt=getPluralLinkedRecordUsingMissingFieldHandlers(a,ut,et,tt,at)),bt!=null?bt.map(function(wt){if(wt!=null){var Et={};return updateProxyFromSelections(Et,wt,s,a.selections,tt,at),Et}else return wt}):bt}}function createGetterForSingularLinkedField(a,s,et,tt,at){return function(){var ct,ut=getArgumentValues$2((ct=a.args)!==null&&ct!==void 0?ct:[],s),bt=et.getLinkedRecord(a.name,ut);if(bt===void 0&&(bt=getLinkedRecordUsingMissingFieldHandlers(a,ut,et,tt,at)),bt!=null){var wt={};return updateProxyFromSelections(wt,bt,s,a.selections,tt,at),wt}else return bt}}function getLinkedRecordUsingMissingFieldHandlers(a,s,et,tt,at){var ct=(0,_createForOfIteratorHelper2$6.default)(at),ut;try{for(ct.s();!(ut=ct.n()).done;){var bt=ut.value;if(bt.kind==="linked"){var wt=bt.handle(a,et,s,tt);if(wt!=null)return tt.get(wt)}}}catch(Et){ct.e(Et)}finally{ct.f()}}function getPluralLinkedRecordUsingMissingFieldHandlers(a,s,et,tt,at){var ct=(0,_createForOfIteratorHelper2$6.default)(at),ut;try{for(ct.s();!(ut=ct.n()).done;){var bt=ut.value;if(bt.kind==="pluralLinked"){var wt=bt.handle(a,et,s,tt);if(wt!=null)return wt.map(function(Et){if(Et!=null)return tt.get(Et)})}}}catch(Et){ct.e(Et)}finally{ct.f()}}function getScalarUsingMissingFieldHandlers(a,s,et,tt,at){var ct=(0,_createForOfIteratorHelper2$6.default)(at),ut;try{for(ct.s();!(ut=ct.n()).done;){var bt=ut.value;if(bt.kind==="scalar"){var wt=bt.handle(a,et,s,tt);if(wt!==void 0)return wt}}}catch(Et){ct.e(Et)}finally{ct.f()}}var createUpdatableProxy_1={createUpdatableProxy:createUpdatableProxy$2},_require$j=GraphQLTag$1,getFragment=_require$j.getFragment,_require2$f=RelayModernSelector$1,getVariablesFromFragment$1=_require2$f.getVariablesFromFragment,_require3$9=RelayStoreUtils_1,ID_KEY$1=_require3$9.ID_KEY,_require4$5=createUpdatableProxy_1,createUpdatableProxy$1=_require4$5.createUpdatableProxy,invariant$i=browser$1;function readUpdatableFragment(a,s,et,tt){var at=getFragment(a),ct=getVariablesFromFragment$1(at,s),ut=s[ID_KEY$1],bt=et.get(ut);return bt==null&&invariant$i(!1),{updatableData:createUpdatableProxy$1(bt,ct,at.selections,et,tt)}}var readUpdatableFragment_1={readUpdatableFragment},_require$i=GraphQLTag$1,getUpdatableQuery=_require$i.getUpdatableQuery,_require2$e=createUpdatableProxy_1,createUpdatableProxy=_require2$e.createUpdatableProxy;function readUpdatableQuery(a,s,et,tt){var at=getUpdatableQuery(a);return{updatableData:createUpdatableProxy(et.getRoot(),s,at.fragment.selections,et,tt)}}var readUpdatableQuery_1={readUpdatableQuery},_require$h=ClientID,generateClientID$2=_require$h.generateClientID,_require2$d=RelayStoreUtils_1,getStableStorageKey=_require2$d.getStableStorageKey,invariant$h=browser$1,RelayRecordProxy$1=function(){function a(et,tt,at){this._dataID=at,this._mutator=tt,this._source=et}var s=a.prototype;return s.copyFieldsFrom=function(tt){this._mutator.copyFields(tt.getDataID(),this._dataID)},s.getDataID=function(){return this._dataID},s.getType=function(){var tt=this._mutator.getType(this._dataID);return tt==null&&invariant$h(!1),tt},s.getValue=function(tt,at){var ct=getStableStorageKey(tt,at);return this._mutator.getValue(this._dataID,ct)},s.setValue=function(tt,at,ct,ut){return isValidLeafValue(tt)||invariant$h(!1),this.setValue__UNSAFE(tt,at,ct,ut)},s.getErrors=function(tt,at){var ct=getStableStorageKey(tt,at);return this._mutator.getErrors(this._dataID,ct)},s.setValue__UNSAFE=function(tt,at,ct,ut){var bt=getStableStorageKey(at,ct);return this._mutator.setValue(this._dataID,bt,tt),ut!=null&&(ut.length===0?this._mutator.setErrors(this._dataID,bt):this._mutator.setErrors(this._dataID,bt,ut)),this},s.getLinkedRecord=function(tt,at){var ct=getStableStorageKey(tt,at),ut=this._mutator.getLinkedRecordID(this._dataID,ct);return ut!=null?this._source.get(ut):ut},s.setLinkedRecord=function(tt,at,ct){tt instanceof a||invariant$h(!1);var ut=getStableStorageKey(at,ct),bt=tt.getDataID();return this._mutator.setLinkedRecordID(this._dataID,ut,bt),this},s.getOrCreateLinkedRecord=function(tt,at,ct){var ut=this.getLinkedRecord(tt,ct);if(!ut){var bt,wt=getStableStorageKey(tt,ct),Et=generateClientID$2(this.getDataID(),wt);ut=(bt=this._source.get(Et))!==null&&bt!==void 0?bt:this._source.create(Et,at),this.setLinkedRecord(ut,tt,ct)}return ut},s.getLinkedRecords=function(tt,at){var ct=this,ut=getStableStorageKey(tt,at),bt=this._mutator.getLinkedRecordIDs(this._dataID,ut);return bt==null?bt:bt.map(function(wt){return wt!=null?ct._source.get(wt):wt})},s.setLinkedRecords=function(tt,at,ct){Array.isArray(tt)||invariant$h(!1);var ut=getStableStorageKey(at,ct),bt=tt.map(function(wt){return wt&&wt.getDataID()});return this._mutator.setLinkedRecordIDs(this._dataID,ut,bt),this},s.invalidateRecord=function(){this._source.markIDForInvalidation(this._dataID)},a}();function isValidLeafValue(a){return a==null||typeof a!="object"||Array.isArray(a)&&a.every(isValidLeafValue)}var RelayRecordProxy_1=RelayRecordProxy$1,RelayModernRecord$8=RelayModernRecord$d,_require$g=RelayRecordState_1,EXISTENT$1=_require$g.EXISTENT,NONEXISTENT=_require$g.NONEXISTENT,_require2$c=RelayStoreUtils_1,ROOT_ID$3=_require2$c.ROOT_ID,ROOT_TYPE$2=_require2$c.ROOT_TYPE,_require3$8=readUpdatableFragment_1,_readUpdatableFragment$1=_require3$8.readUpdatableFragment,_require4$4=readUpdatableQuery_1,_readUpdatableQuery$1=_require4$4.readUpdatableQuery,RelayRecordProxy=RelayRecordProxy_1,invariant$g=browser$1,RelayRecordSourceProxy$2=function(){function a(et,tt,at,ct){this.__mutator=et,this._handlerProvider=at||null,this._proxies={},this._getDataID=tt,this._invalidatedStore=!1,this._idsMarkedForInvalidation=new Set,this._missingFieldHandlers=ct}var s=a.prototype;return s.publishSource=function(tt,at){var ct=this,ut=tt.getRecordIDs();ut.forEach(function(bt){var wt=tt.getStatus(bt);if(wt===EXISTENT$1){var Et=tt.get(bt);Et&&(ct.__mutator.getStatus(bt)!==EXISTENT$1&&ct.create(bt,RelayModernRecord$8.getType(Et)),ct.__mutator.copyFieldsFromRecord(Et,bt))}else wt===NONEXISTENT&&ct.delete(bt)}),at&&at.length&&at.forEach(function(bt){var wt=ct._handlerProvider&&ct._handlerProvider(bt.handle);wt||invariant$g(!1),wt.update(ct,bt)})},s.create=function(tt,at){this.__mutator.create(tt,at),delete this._proxies[tt];var ct=this.get(tt);return ct||invariant$g(!1),ct},s.delete=function(tt){tt===ROOT_ID$3&&invariant$g(!1),delete this._proxies[tt],this.__mutator.delete(tt)},s.get=function(tt){if(!this._proxies.hasOwnProperty(tt)){var at=this.__mutator.getStatus(tt);at===EXISTENT$1?this._proxies[tt]=new RelayRecordProxy(this,this.__mutator,tt):this._proxies[tt]=at===NONEXISTENT?null:void 0}return this._proxies[tt]},s.getRoot=function(){var tt=this.get(ROOT_ID$3);return tt||(tt=this.create(ROOT_ID$3,ROOT_TYPE$2)),tt&&tt.getType()===ROOT_TYPE$2||invariant$g(!1),tt},s.invalidateStore=function(){this._invalidatedStore=!0},s.isStoreMarkedForInvalidation=function(){return this._invalidatedStore},s.markIDForInvalidation=function(tt){this._idsMarkedForInvalidation.add(tt)},s.getIDsMarkedForInvalidation=function(){return this._idsMarkedForInvalidation},s.readUpdatableQuery=function(tt,at){return _readUpdatableQuery$1(tt,at,this,this._missingFieldHandlers)},s.readUpdatableFragment=function(tt,at){return _readUpdatableFragment$1(tt,at,this,this._missingFieldHandlers)},a}(),RelayRecordSourceProxy_1=RelayRecordSourceProxy$2,_require$f=RelayStoreUtils_1,ROOT_TYPE$1=_require$f.ROOT_TYPE,getStorageKey$4=_require$f.getStorageKey,_require2$b=readUpdatableFragment_1,_readUpdatableFragment=_require2$b.readUpdatableFragment,_require3$7=readUpdatableQuery_1,_readUpdatableQuery=_require3$7.readUpdatableQuery,invariant$f=browser$1,RelayRecordSourceSelectorProxy$1=function(){function a(et,tt,at,ct){this.__mutator=et,this.__recordSource=tt,this._readSelector=at,this._missingFieldHandlers=ct}var s=a.prototype;return s.create=function(tt,at){return this.__recordSource.create(tt,at)},s.delete=function(tt){this.__recordSource.delete(tt)},s.get=function(tt){return this.__recordSource.get(tt)},s.getRoot=function(){return this.__recordSource.getRoot()},s.getOperationRoot=function(){var tt=this.__recordSource.get(this._readSelector.dataID);return tt||(tt=this.__recordSource.create(this._readSelector.dataID,ROOT_TYPE$1)),tt},s._getRootField=function(tt,at,ct){var ut=tt.node.selections.find(function(bt){return bt.kind==="LinkedField"&&bt.name===at||bt.kind==="RequiredField"&&bt.field.name===at});return ut&&ut.kind==="RequiredField"&&(ut=ut.field),ut&&ut.kind==="LinkedField"||invariant$f(!1),ut.plural!==ct&&invariant$f(!1),ut},s.getRootField=function(tt){var at=this._getRootField(this._readSelector,tt,!1),ct=getStorageKey$4(at,this._readSelector.variables);return this.getOperationRoot().getLinkedRecord(ct)},s.getPluralRootField=function(tt){var at=this._getRootField(this._readSelector,tt,!0),ct=getStorageKey$4(at,this._readSelector.variables);return this.getOperationRoot().getLinkedRecords(ct)},s.invalidateStore=function(){this.__recordSource.invalidateStore()},s.readUpdatableQuery=function(tt,at){return _readUpdatableQuery(tt,at,this,this._missingFieldHandlers)},s.readUpdatableFragment=function(tt,at){return _readUpdatableFragment(tt,at,this,this._missingFieldHandlers)},a}(),RelayRecordSourceSelectorProxy_1=RelayRecordSourceSelectorProxy$1,_require$e=RelayConcreteNode_1,RELAY_LIVE_RESOLVER$1=_require$e.RELAY_LIVE_RESOLVER,invariant$e=browser$1,NoopResolverCache$1=function(){function a(){}var s=a.prototype;return s.readFromCacheOrEvaluate=function(tt,at,ct,ut,bt){at.kind===RELAY_LIVE_RESOLVER$1&&invariant$e(!1);var wt=ut(),Et=wt.resolverResult,Ft=wt.snapshot,jt=wt.error;return[Et,void 0,jt,Ft,void 0,void 0]},s.invalidateDataIDs=function(tt){},s.ensureClientRecord=function(tt,at){invariant$e(!1)},s.notifyUpdatedSubscribers=function(tt){},a}(),ResolverCache={NoopResolverCache:NoopResolverCache$1},_interopRequireDefault$9=interopRequireDefaultExports.default,_objectSpread2$3=_interopRequireDefault$9(objectSpread2Exports),_defineProperty2$2=_interopRequireDefault$9(requireDefineProperty()),_objectWithoutPropertiesLoose2=_interopRequireDefault$9(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$5=_interopRequireDefault$9(createForOfIteratorHelperExports),_toConsumableArray2=_interopRequireDefault$9(toConsumableArrayExports),_excluded=["message"],_require$d=LiveResolverSuspenseSentinel,isSuspenseSentinel$2=_require$d.isSuspenseSentinel,RelayConcreteVariables$1=RelayConcreteVariables$2,RelayModernRecord$7=RelayModernRecord$d,_require2$a=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH=_require2$a.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY=_require2$a.FRAGMENT_OWNER_KEY,FRAGMENT_PROP_NAME_KEY=_require2$a.FRAGMENT_PROP_NAME_KEY,FRAGMENTS_KEY=_require2$a.FRAGMENTS_KEY,ID_KEY=_require2$a.ID_KEY,MODULE_COMPONENT_KEY=_require2$a.MODULE_COMPONENT_KEY,ROOT_ID$2=_require2$a.ROOT_ID,getArgumentValues$1=_require2$a.getArgumentValues,getModuleComponentKey$1=_require2$a.getModuleComponentKey,getStorageKey$3=_require2$a.getStorageKey,_require3$6=ResolverCache,NoopResolverCache=_require3$6.NoopResolverCache,_require4$3=ResolverFragments$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL=_require4$3.RESOLVER_FRAGMENT_ERRORED_SENTINEL,withResolverContext=_require4$3.withResolverContext,_require5$2=TypeID,generateTypeID$2=_require5$2.generateTypeID,invariant$d=browser$1;function read(a,s,et,tt){var at=new RelayReader$3(a,s,et??new NoopResolverCache,tt);return at.read()}var RelayReader$3=function(){function a(et,tt,at,ct){var ut,bt;this._clientEdgeTraversalPath=(ut=tt.clientEdgeTraversalPath)!==null&&ut!==void 0&&ut.length?(0,_toConsumableArray2.default)(tt.clientEdgeTraversalPath):[],this._missingClientEdges=[],this._missingLiveResolverFields=[],this._isMissingData=!1,this._isWithinUnmatchedTypeRefinement=!1,this._errorResponseFields=null,this._owner=tt.owner,this._useExecTimeResolvers=(bt=this._owner.node.operation.use_exec_time_resolvers)!==null&&bt!==void 0?bt:!1,this._recordSource=et,this._seenRecords=new Set,this._selector=tt,this._variables=tt.variables,this._resolverCache=at,this._fragmentName=tt.node.name,this._updatedDataIDs=new Set,this._resolverContext=ct}var s=a.prototype;return s.read=function(){var tt,at=this._selector,ct=at.node,ut=at.dataID,bt=at.isWithinUnmatchedTypeRefinement,wt=ct.abstractKey,Et=this._recordSource.get(ut),Ft=!bt;if(Ft&&wt==null&&Et!=null&&(this._recordMatchesTypeCondition(Et,ct.type)||(Ft=!1)),Ft&&wt!=null&&Et!=null){var jt=this._implementsInterface(Et,wt);jt===!1&&(Ft=!1)}this._isWithinUnmatchedTypeRefinement=!Ft;var Lt=this._traverse(ct,ut,null),Ut=(tt=this._selector.node.metadata)===null||tt===void 0?void 0:tt.catchTo;return Ut!=null&&(Lt=this._catchErrors(Lt,Ut,null)),this._updatedDataIDs.size>0&&(this._resolverCache.notifyUpdatedSubscribers(this._updatedDataIDs),this._updatedDataIDs.clear()),{data:Lt,isMissingData:this._isMissingData&&Ft,missingClientEdges:this._missingClientEdges.length?this._missingClientEdges:null,missingLiveResolverFields:this._missingLiveResolverFields,seenRecords:this._seenRecords,selector:this._selector,errorResponseFields:this._errorResponseFields}},s._maybeAddErrorResponseFields=function(tt,at){var ct=RelayModernRecord$7.getErrors(tt,at);if(ct!=null){var ut=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var bt=(0,_createForOfIteratorHelper2$5.default)(ct),wt;try{for(bt.s();!(wt=bt.n()).done;){var Et,Ft,jt,Lt=wt.value;this._errorResponseFields.push({kind:"relay_field_payload.error",owner:ut,fieldPath:((Et=Lt.path)!==null&&Et!==void 0?Et:[]).join("."),error:Lt,shouldThrow:(Ft=(jt=this._selector.node.metadata)===null||jt===void 0?void 0:jt.throwOnFieldError)!==null&&Ft!==void 0?Ft:!1,handled:!1})}}catch(Ut){bt.e(Ut)}finally{bt.f()}}},s._markDataAsMissing=function(tt){var at,ct;if(!this._isWithinUnmatchedTypeRefinement){this._errorResponseFields==null&&(this._errorResponseFields=[]);var ut=this._fragmentName;if(this._errorResponseFields.push((at=(ct=this._selector.node.metadata)===null||ct===void 0?void 0:ct.throwOnFieldError)!==null&&at!==void 0&&at?{kind:"missing_expected_data.throw",owner:ut,fieldPath:tt,handled:!1}:{kind:"missing_expected_data.log",owner:ut,fieldPath:tt}),this._isMissingData=!0,this._clientEdgeTraversalPath.length){var bt=this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1];bt!==null&&this._missingClientEdges.push({request:bt.readerClientEdge.operation,clientEdgeDestinationID:bt.clientEdgeDestinationID})}}},s._traverse=function(tt,at,ct){var ut=this._recordSource.get(at);if(this._seenRecords.add(at),ut==null)return ut===void 0&&this._markDataAsMissing("<record>"),ut;var bt=ct||{},wt=this._traverseSelections(tt.selections,ut,bt);return wt?bt:null},s._getVariableValue=function(tt){return this._variables.hasOwnProperty(tt)||invariant$d(!1),this._variables[tt]},s._maybeReportUnexpectedNull=function(tt){if(tt.action!=="NONE"){var at=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var ct;if(tt.field.linkedField!=null){var ut;ct=(ut=tt.field.linkedField.alias)!==null&&ut!==void 0?ut:tt.field.linkedField.name}else{var bt;ct=(bt=tt.field.alias)!==null&&bt!==void 0?bt:tt.field.name}switch(tt.action){case"THROW":this._errorResponseFields.push({kind:"missing_required_field.throw",fieldPath:ct,owner:at,handled:!1});return;case"LOG":this._errorResponseFields.push({kind:"missing_required_field.log",fieldPath:ct,owner:at});return;default:tt.action}}},s._handleRequiredFieldValue=function(tt,at){return at==null?(this._maybeReportUnexpectedNull(tt),!1):!0},s._catchErrors=function(tt,at,ct){var ut=tt;switch(at){case"RESULT":ut=this._asResult(tt);break;case"NULL":this._errorResponseFields!=null&&this._errorResponseFields.length>0&&(ut=null);break}var bt=this._errorResponseFields;if(this._errorResponseFields=ct,bt!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);for(var wt=0;wt<bt.length;wt++)this._errorResponseFields.push(markFieldErrorHasHandled(bt[wt]))}return ut},s._asResult=function(tt){if(this._errorResponseFields==null||this._errorResponseFields.length===0)return{ok:!0,value:tt};var at=this._errorResponseFields.map(function(ct){switch(ct.kind){case"relay_field_payload.error":var ut=ct.error;ut.message;var bt=(0,_objectWithoutPropertiesLoose2.default)(ut,_excluded);return bt;case"missing_expected_data.throw":case"missing_expected_data.log":return{path:ct.fieldPath.split(".")};case"relay_resolver.error":return{message:"Relay: Error in resolver for field at ".concat(ct.fieldPath," in ").concat(ct.owner)};case"missing_required_field.throw":return{message:"Relay: Missing @required value at path '".concat(ct.fieldPath,"' in '").concat(ct.owner,"'.")};case"missing_required_field.log":return null;default:ct.kind,invariant$d(!1)}}).filter(Boolean);return{ok:!1,errors:at}},s._traverseSelections=function(tt,at,ct){for(var ut=0;ut<tt.length;ut++){var bt=tt[ut];switch(bt.kind){case"RequiredField":var wt=this._readClientSideDirectiveField(bt,at,ct);if(!this._handleRequiredFieldValue(bt,wt))return!1;break;case"CatchField":{var Et,Ft,jt,Lt=this._errorResponseFields;this._errorResponseFields=null;var Ut=this._readClientSideDirectiveField(bt,at,ct),Vt=(Et=(Ft=bt.field)===null||Ft===void 0?void 0:Ft.backingField)!==null&&Et!==void 0?Et:bt.field,Yt=(jt=Vt==null?void 0:Vt.alias)!==null&&jt!==void 0?jt:Vt==null?void 0:Vt.name;Yt==null&&invariant$d(!1),ct[Yt]=this._catchErrors(Ut,bt.to,Lt);break}case"ScalarField":this._readScalar(bt,at,ct);break;case"LinkedField":bt.plural?this._readPluralLink(bt,at,ct):this._readLink(bt,at,ct);break;case"Condition":var er=!!this._getVariableValue(bt.condition);if(er===bt.passingValue){var tr=this._traverseSelections(bt.selections,at,ct);if(!tr)return!1}break;case"InlineFragment":{var nr=this._readInlineFragment(bt,at,ct,!1);if(nr===!1)return!1;break}case"RelayLiveResolver":case"RelayResolver":{this._useExecTimeResolvers?this._readScalar(bt,at,ct):this._readResolverField(bt,at,ct);break}case"FragmentSpread":this._createFragmentPointer(bt,at,ct);break;case"AliasedInlineFragmentSpread":{this._readAliasedInlineFragment(bt,at,ct);break}case"ModuleImport":this._readModuleImport(bt,at,ct);break;case"InlineDataFragmentSpread":this._createInlineDataOrResolverFragmentPointer(bt,at,ct);break;case"Defer":case"ClientExtension":{var ir=this._isMissingData,lr=this._missingClientEdges.length;this._clientEdgeTraversalPath.push(null);var pr=this._traverseSelections(bt.selections,at,ct);if(this._isMissingData=ir||this._missingClientEdges.length>lr||this._missingLiveResolverFields.length>0,this._clientEdgeTraversalPath.pop(),!pr)return!1;break}case"Stream":{var yr=this._traverseSelections(bt.selections,at,ct);if(!yr)return!1;break}case"ActorChange":this._readActorChange(bt,at,ct);break;case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":if(this._useExecTimeResolvers&&(bt.backingField.kind==="RelayResolver"||bt.backingField.kind==="RelayLiveResolver")){var br=bt.linkedField;br.plural?this._readPluralLink(br,at,ct):this._readLink(br,at,ct)}else this._readClientEdge(bt,at,ct);break;default:invariant$d(!1)}}return!0},s._readClientSideDirectiveField=function(tt,at,ct){switch(tt.field.kind){case"ScalarField":return this._readScalar(tt.field,at,ct);case"LinkedField":return tt.field.plural?this._readPluralLink(tt.field,at,ct):this._readLink(tt.field,at,ct);case"RelayResolver":return this._readResolverField(tt.field,at,ct);case"RelayLiveResolver":return this._readResolverField(tt.field,at,ct);case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":return this._readClientEdge(tt.field,at,ct);case"AliasedInlineFragmentSpread":return this._readAliasedInlineFragment(tt.field,at,ct);default:tt.field.kind,invariant$d(!1)}},s._readResolverField=function(tt,at,ct){var ut,bt=RelayModernRecord$7.getDataID(at),wt=this._errorResponseFields;this._errorResponseFields=null;var Et=this._readResolverFieldImpl(tt,bt),Ft=(ut=tt.alias)!==null&&ut!==void 0?ut:tt.name;return this._prependPreviousErrors(wt,Ft),ct[Ft]=Et,Et},s._readResolverFieldImpl=function(tt,at){var ct=this,ut=tt.fragment,bt,wt=function(nr){return bt!=null?{data:bt.data,isMissingData:bt.isMissingData,errorResponseFields:bt.errorResponseFields}:(bt=read(ct._recordSource,nr,ct._resolverCache),{data:bt.data,isMissingData:bt.isMissingData,errorResponseFields:bt.errorResponseFields})},Et=function(){if(ut!=null){var nr={__id:at,__fragmentOwner:ct._owner,__fragments:(0,_defineProperty2$2.default)({},ut.name,ut.args?getArgumentValues$1(ut.args,ct._variables):{})},ir={getDataForResolverFragment:wt};return withResolverContext(ir,function(){var br=getResolverValue(tt,ct._variables,nr,ct._resolverContext),xr=br[0],Er=br[1];return{resolverResult:xr,snapshot:bt,error:Er}})}else{var lr=getResolverValue(tt,ct._variables,null,ct._resolverContext),pr=lr[0],yr=lr[1];return{resolverResult:pr,snapshot:void 0,error:yr}}},Ft=this._resolverCache.readFromCacheOrEvaluate(at,tt,this._variables,Et,wt),jt=Ft[0],Lt=Ft[1],Ut=Ft[2],Vt=Ft[3],Yt=Ft[4],er=Ft[5];return this._propagateResolverMetadata(tt.path,Vt,Ut,Lt,Yt,er),jt},s._propagateResolverMetadata=function(tt,at,ct,ut,bt,wt){if(at!=null){if(at.missingClientEdges!=null){var Et=(0,_createForOfIteratorHelper2$5.default)(at.missingClientEdges),Ft;try{for(Et.s();!(Ft=Et.n()).done;){var jt=Ft.value;this._missingClientEdges.push(jt)}}catch(Er){Et.e(Er)}finally{Et.f()}}if(at.missingLiveResolverFields!=null){this._isMissingData=this._isMissingData||at.missingLiveResolverFields.length>0;var Lt=(0,_createForOfIteratorHelper2$5.default)(at.missingLiveResolverFields),Ut;try{for(Lt.s();!(Ut=Lt.n()).done;){var Vt=Ut.value;this._missingLiveResolverFields.push(Vt)}}catch(Er){Lt.e(Er)}finally{Lt.f()}}if(at.errorResponseFields!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);var Yt=(0,_createForOfIteratorHelper2$5.default)(at.errorResponseFields),er;try{for(Yt.s();!(er=Yt.n()).done;){var tr,nr=er.value;((tr=this._selector.node.metadata)===null||tr===void 0?void 0:tr.throwOnFieldError)===!0?this._errorResponseFields.push(nr):this._errorResponseFields.push(markFieldErrorHasHandled(nr))}}catch(Er){Yt.e(Er)}finally{Yt.f()}}this._isMissingData=this._isMissingData||at.isMissingData}if(ct){var ir,lr,pr={kind:"relay_resolver.error",fieldPath:tt,owner:this._fragmentName,error:ct,shouldThrow:(ir=(lr=this._selector.node.metadata)===null||lr===void 0?void 0:lr.throwOnFieldError)!==null&&ir!==void 0?ir:!1,handled:!1};this._errorResponseFields==null?this._errorResponseFields=[pr]:this._errorResponseFields.push(pr)}if(ut!=null&&this._seenRecords.add(ut),bt!=null&&(this._isMissingData=!0,this._missingLiveResolverFields.push(bt)),wt!=null){var yr=(0,_createForOfIteratorHelper2$5.default)(wt),br;try{for(yr.s();!(br=yr.n()).done;){var xr=br.value;this._updatedDataIDs.add(xr)}}catch(Er){yr.e(Er)}finally{yr.f()}}},s._readClientEdge=function(tt,at,ct){var ut=this,bt,wt=tt.backingField;wt.kind==="ClientExtension"&&invariant$d(!1);var Et=(bt=wt.alias)!==null&&bt!==void 0?bt:wt.name,Ft={};this._traverseSelections([wt],at,Ft);var jt=Ft[Et];if(jt==null||isSuspenseSentinel$2(jt))return ct[Et]=jt,jt;if(tt.linkedField.plural){Array.isArray(jt)||invariant$d(!1);var Lt;tt.kind!=="ClientEdgeToClientObject"&&invariant$d(!1),tt.backingField.normalizationInfo==null?Lt=jt.map(function(Er){var $r,Sr=($r=tt.concreteType)!==null&&$r!==void 0?$r:Er.__typename;typeof Sr!="string"&&invariant$d(!1);var fr=extractIdFromResponse(Er,wt.path,ut._owner.identifier),vr=ut._resolverCache.ensureClientRecord(fr,Sr),or=tt.modelResolvers;if(or!=null){var rr=or[Sr];rr===void 0&&invariant$d(!1);var ar=ut._readResolverFieldImpl(rr,vr);return ar!=null?vr:null}return vr}):Lt=jt.map(function(Er){return extractIdFromResponse(Er,wt.path,ut._owner.identifier)}),this._clientEdgeTraversalPath.push(null);var Ut=this._readLinkedIds(tt.linkedField,Lt,at,ct);return this._clientEdgeTraversalPath.pop(),ct[Et]=Ut,Ut}else{var Vt,Yt=extractIdFromResponse(jt,wt.path,this._owner.identifier),er,tr=(Vt=tt.concreteType)!==null&&Vt!==void 0?Vt:jt.__typename,nr;tt.kind==="ClientEdgeToClientObject"?tt.backingField.normalizationInfo==null?(typeof tr!="string"&&invariant$d(!1),er=this._resolverCache.ensureClientRecord(Yt,tr),nr=null):(er=Yt,nr=null):(er=Yt,nr={readerClientEdge:tt,clientEdgeDestinationID:Yt});var ir=tt.modelResolvers;if(ir!=null){typeof tr!="string"&&invariant$d(!1);var lr=ir[tr];lr===void 0&&invariant$d(!1);var pr=this._readResolverFieldImpl(lr,er);if(pr==null)return ct[Et]=null,null}this._clientEdgeTraversalPath.push(nr);var yr=ct[Et];yr==null||typeof yr=="object"||invariant$d(!1);var br=this._errorResponseFields;this._errorResponseFields=null;var xr=this._traverse(tt.linkedField,er,yr);return this._prependPreviousErrors(br,Et),this._clientEdgeTraversalPath.pop(),ct[Et]=xr,xr}},s._readScalar=function(tt,at,ct){var ut,bt=(ut=tt.alias)!==null&&ut!==void 0?ut:tt.name,wt=getStorageKey$3(tt,this._variables),Et=RelayModernRecord$7.getValue(at,wt);return Et===null?this._maybeAddErrorResponseFields(at,wt):Et===void 0&&this._markDataAsMissing(bt),ct[bt]=Et,Et},s._readLink=function(tt,at,ct){var ut,bt=(ut=tt.alias)!==null&&ut!==void 0?ut:tt.name,wt=getStorageKey$3(tt,this._variables),Et=RelayModernRecord$7.getLinkedRecordID(at,wt);if(Et==null)return ct[bt]=Et,Et===null?this._maybeAddErrorResponseFields(at,wt):Et===void 0&&this._markDataAsMissing(bt),Et;var Ft=ct[bt];Ft==null||typeof Ft=="object"||invariant$d(!1);var jt=this._errorResponseFields;this._errorResponseFields=null;var Lt=this._traverse(tt,Et,Ft);return this._prependPreviousErrors(jt,bt),ct[bt]=Lt,Lt},s._prependPreviousErrors=function(tt,at){if(this._errorResponseFields!=null){for(var ct=0;ct<this._errorResponseFields.length;ct++){var ut=this._errorResponseFields[ct];ut.owner===this._fragmentName&&(ut.kind==="missing_expected_data.throw"||ut.kind==="missing_expected_data.log"||ut.kind==="missing_required_field.throw"||ut.kind==="missing_required_field.log")&&(ut.fieldPath="".concat(at,".").concat(ut.fieldPath))}if(tt!=null){for(var bt=this._errorResponseFields.length-1;bt>=0;bt--)tt.push(this._errorResponseFields[bt]);this._errorResponseFields=tt}}else this._errorResponseFields=tt},s._readActorChange=function(tt,at,ct){var ut,bt=(ut=tt.alias)!==null&&ut!==void 0?ut:tt.name,wt=getStorageKey$3(tt,this._variables),Et=RelayModernRecord$7.getActorLinkedRecordID(at,wt);if(Et==null)return ct[bt]=Et,Et===void 0?this._markDataAsMissing(bt):Et===null&&this._maybeAddErrorResponseFields(at,wt),ct[bt];var Ft=Et[0],jt=Et[1],Lt={};return this._createFragmentPointer(tt.fragmentSpread,RelayModernRecord$7.fromObject({__id:jt}),Lt),ct[bt]={__fragmentRef:Lt,__viewer:Ft},ct[bt]},s._readPluralLink=function(tt,at,ct){var ut=getStorageKey$3(tt,this._variables),bt=RelayModernRecord$7.getLinkedRecordIDs(at,ut);return bt===null&&this._maybeAddErrorResponseFields(at,ut),this._readLinkedIds(tt,bt,at,ct)},s._readLinkedIds=function(tt,at,ct,ut){var bt=this,wt,Et=(wt=tt.alias)!==null&&wt!==void 0?wt:tt.name;if(at==null)return ut[Et]=at,at===void 0&&this._markDataAsMissing(Et),at;var Ft=ut[Et];Ft==null||Array.isArray(Ft)||invariant$d(!1);var jt=this._errorResponseFields;this._errorResponseFields=null;var Lt=Ft||[];return at.forEach(function(Ut,Vt){if(Ut==null){Ut===void 0&&bt._markDataAsMissing(String(Vt)),Lt[Vt]=Ut;return}var Yt=Lt[Vt];Yt==null||typeof Yt=="object"||invariant$d(!1);var er=bt._errorResponseFields;bt._errorResponseFields=null,Lt[Vt]=bt._traverse(tt,Ut,Yt),bt._prependPreviousErrors(er,Vt)}),this._prependPreviousErrors(jt,Et),ut[Et]=Lt,Lt},s._readModuleImport=function(tt,at,ct){var ut,bt=getModuleComponentKey$1(tt.documentName),wt=(ut=tt.componentModuleProvider)!==null&&ut!==void 0?ut:RelayModernRecord$7.getValue(at,bt);if(wt==null){wt===void 0&&this._markDataAsMissing("<module-import>");return}this._createFragmentPointer({kind:"FragmentSpread",name:tt.fragmentName,args:tt.args},at,ct),ct[FRAGMENT_PROP_NAME_KEY]=tt.fragmentPropName,ct[MODULE_COMPONENT_KEY]=wt},s._readAliasedInlineFragment=function(tt,at,ct){var ut=this._errorResponseFields;this._errorResponseFields=null;var bt=this._readInlineFragment(tt.fragment,at,{},!0);this._prependPreviousErrors(ut,tt.name),bt===!1&&(bt=null),ct[tt.name]=bt},s._readInlineFragment=function(tt,at,ct,ut){if(tt.type==null){var bt=this._traverseSelections(tt.selections,at,ct);return bt===!1?!1:ct}var wt=tt.abstractKey;if(wt==null)if(this._recordMatchesTypeCondition(at,tt.type)){var bt=this._traverseSelections(tt.selections,at,ct);if(!bt)return!1}else return null;else{var Et=this._implementsInterface(at,wt);if(Et===!1&&ut)return null;var Ft=this._isMissingData,jt=this._isWithinUnmatchedTypeRefinement;this._isWithinUnmatchedTypeRefinement=jt||Et===!1;var Lt=this._traverseSelections(tt.selections,at,ct);if(this._isWithinUnmatchedTypeRefinement=jt,Et===!1)return this._isMissingData=Ft,null;if(Et==null)return;if(Lt===!1)return!1}return ct},s._recordMatchesTypeCondition=function(tt,at){var ct=RelayModernRecord$7.getType(tt);return ct!=null&&ct===at||RelayModernRecord$7.getDataID(tt)===ROOT_ID$2},s._createFragmentPointer=function(tt,at,ct){var ut=ct[FRAGMENTS_KEY];ut==null&&(ut=ct[FRAGMENTS_KEY]={}),typeof ut=="object"&&ut!=null||invariant$d(!1),ct[ID_KEY]==null&&(ct[ID_KEY]=RelayModernRecord$7.getDataID(at)),ut[tt.name]=getArgumentValues$1(tt.args,this._variables,this._isWithinUnmatchedTypeRefinement),ct[FRAGMENT_OWNER_KEY]=this._owner,this._clientEdgeTraversalPath.length>0&&this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1]!==null&&(ct[CLIENT_EDGE_TRAVERSAL_PATH]=(0,_toConsumableArray2.default)(this._clientEdgeTraversalPath))},s._createInlineDataOrResolverFragmentPointer=function(tt,at,ct){var ut=ct[FRAGMENTS_KEY];ut==null&&(ut=ct[FRAGMENTS_KEY]={}),typeof ut=="object"&&ut!=null||invariant$d(!1),ct[ID_KEY]==null&&(ct[ID_KEY]=RelayModernRecord$7.getDataID(at));var bt={},wt=this._fragmentName;this._fragmentName=tt.name;var Et=this._variables,Ft=tt.args?getArgumentValues$1(tt.args,this._variables):{};this._variables=RelayConcreteVariables$1.getFragmentVariables(tt,this._owner.variables,Ft),this._traverseSelections(tt.selections,at,bt),this._variables=Et,this._fragmentName=wt,ut[tt.name]=bt},s._implementsInterface=function(tt,at){var ct=RelayModernRecord$7.getType(tt),ut=this._recordSource.get(generateTypeID$2(ct)),bt=ut!=null?RelayModernRecord$7.getValue(ut,at):null;return bt==null&&this._markDataAsMissing("<abstract-type-hint>"),bt},a}();function markFieldErrorHasHandled(a){switch(a.kind){case"missing_expected_data.throw":case"missing_required_field.throw":case"relay_field_payload.error":case"relay_resolver.error":return(0,_objectSpread2$3.default)((0,_objectSpread2$3.default)({},a),{},{handled:!0});case"missing_expected_data.log":case"missing_required_field.log":return a;default:a.kind,invariant$d(!1)}}function getResolverValue(a,s,et,tt){var at=typeof a.resolverModule=="function"?a.resolverModule:a.resolverModule.default,ct=null,ut=null;try{var bt=[];a.fragment!=null&&bt.push(et);var wt=a.args?getArgumentValues$1(a.args,s):void 0;bt.push(wt),bt.push(tt),ct=at.apply(null,bt)}catch(Et){ct=null,Et!==RESOLVER_FRAGMENT_ERRORED_SENTINEL&&(ut=Et)}return[ct,ut]}function extractIdFromResponse(a,s,et){if(typeof a=="string")return a;if(typeof a=="object"&&a!=null&&typeof a.id=="string")return a.id;invariant$d(!1)}var RelayReader_1={read},_global$ErrorUtils$ap,_global$ErrorUtils,RelayRecordSourceMutator$1=RelayRecordSourceMutator_1,RelayRecordSourceProxy$1=RelayRecordSourceProxy_1,RelayRecordSourceSelectorProxy=RelayRecordSourceSelectorProxy_1,RelayReader$2=RelayReader_1,RelayRecordSource$4=RelayRecordSource_1,invariant$c=browser$1,_global=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,applyWithGuard=(_global$ErrorUtils$ap=_global==null||(_global$ErrorUtils=_global.ErrorUtils)===null||_global$ErrorUtils===void 0?void 0:_global$ErrorUtils.applyWithGuard)!==null&&_global$ErrorUtils$ap!==void 0?_global$ErrorUtils$ap:function(a,s,et,tt,at){return a.apply(s,et)},RelayPublishQueue$1=function(){function a(et,tt,at,ct){this._hasStoreSnapshot=!1,this._handlerProvider=tt||null,this._pendingBackupRebase=!1,this._pendingData=new Set,this._pendingOptimisticUpdates=new Set,this._store=et,this._appliedOptimisticUpdates=new Set,this._gcHold=null,this._getDataID=at,this._missingFieldHandlers=ct}var s=a.prototype;return s.applyUpdate=function(tt){!this._appliedOptimisticUpdates.has(tt)&&!this._pendingOptimisticUpdates.has(tt)||invariant$c(!1),this._pendingOptimisticUpdates.add(tt)},s.revertUpdate=function(tt){this._pendingOptimisticUpdates.has(tt)?this._pendingOptimisticUpdates.delete(tt):this._appliedOptimisticUpdates.has(tt)&&(this._pendingBackupRebase=!0,this._appliedOptimisticUpdates.delete(tt))},s.revertAll=function(){this._pendingBackupRebase=!0,this._pendingOptimisticUpdates.clear(),this._appliedOptimisticUpdates.clear()},s.commitPayload=function(tt,at,ct){this._pendingBackupRebase=!0,this._pendingData.add({kind:"payload",operation:tt,payload:at,updater:ct})},s.commitUpdate=function(tt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"updater",updater:tt})},s.commitSource=function(tt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"source",source:tt})},s.run=function(tt){var at=this._appliedOptimisticUpdates===0&&!!this._gcHold,ct=!this._pendingBackupRebase&&this._pendingOptimisticUpdates.size===0&&!at;if(ct)return[];this._pendingBackupRebase&&this._hasStoreSnapshot&&(this._store.restore(),this._hasStoreSnapshot=!1);var ut=this._commitData();return(this._pendingOptimisticUpdates.size||this._pendingBackupRebase&&this._appliedOptimisticUpdates.size)&&(this._hasStoreSnapshot||(this._store.snapshot(),this._hasStoreSnapshot=!0),this._applyUpdates()),this._pendingBackupRebase=!1,this._appliedOptimisticUpdates.size>0?this._gcHold||(this._gcHold=this._store.holdGC()):this._gcHold&&(this._gcHold.dispose(),this._gcHold=null),this._store.notify(tt,ut)},s._publishSourceFromPayload=function(tt){var at=this,ct=tt.payload,ut=tt.operation,bt=tt.updater,wt=ct.source,Et=ct.fieldPayloads,Ft=new RelayRecordSourceMutator$1(this._store.getSource(),wt),jt=new RelayRecordSourceProxy$1(Ft,this._getDataID,this._handlerProvider,this._missingFieldHandlers);if(Et&&Et.length&&Et.forEach(function(er){var tr=at._handlerProvider&&at._handlerProvider(er.handle);tr||invariant$c(!1),tr.update(jt,er)}),bt){var Lt=ut.fragment;Lt==null&&invariant$c(!1);var Ut=new RelayRecordSourceSelectorProxy(Ft,jt,Lt,this._missingFieldHandlers),Vt=lookupSelector(wt,Lt);bt(Ut,Vt)}var Yt=jt.getIDsMarkedForInvalidation();return this._store.publish(wt,Yt),jt.isStoreMarkedForInvalidation()},s._commitData=function(){var tt=this;if(!this._pendingData.size)return!1;var at=!1;return this._pendingData.forEach(function(ct){if(ct.kind==="payload"){var ut=tt._publishSourceFromPayload(ct);at=at||ut}else if(ct.kind==="source"){var bt=ct.source;tt._store.publish(bt)}else{var wt=ct.updater,Et=RelayRecordSource$4.create(),Ft=new RelayRecordSourceMutator$1(tt._store.getSource(),Et),jt=new RelayRecordSourceProxy$1(Ft,tt._getDataID,tt._handlerProvider,tt._missingFieldHandlers);applyWithGuard(wt,null,[jt],null,"RelayPublishQueue:commitData"),at=at||jt.isStoreMarkedForInvalidation();var Lt=jt.getIDsMarkedForInvalidation();tt._store.publish(Et,Lt)}}),this._pendingData.clear(),at},s._applyUpdates=function(){var tt=this,at=RelayRecordSource$4.create(),ct=new RelayRecordSourceMutator$1(this._store.getSource(),at),ut=new RelayRecordSourceProxy$1(ct,this._getDataID,this._handlerProvider,this._missingFieldHandlers),bt=function(Et){if(Et.storeUpdater){var Ft=Et.storeUpdater;applyWithGuard(Ft,null,[ut],null,"RelayPublishQueue:applyUpdates")}else{var jt=Et.operation,Lt=Et.payload,Ut=Et.updater,Vt=Lt.source,Yt=Lt.fieldPayloads;if(Vt&&ut.publishSource(Vt,Yt),Ut){var er;Vt&&(er=lookupSelector(Vt,jt.fragment));var tr=new RelayRecordSourceSelectorProxy(ct,ut,jt.fragment,tt._missingFieldHandlers);applyWithGuard(Ut,null,[tr,er],null,"RelayPublishQueue:applyUpdates")}}};this._pendingBackupRebase&&this._appliedOptimisticUpdates.size&&this._appliedOptimisticUpdates.forEach(bt),this._pendingOptimisticUpdates.size&&(this._pendingOptimisticUpdates.forEach(function(wt){bt(wt),tt._appliedOptimisticUpdates.add(wt)}),this._pendingOptimisticUpdates.clear()),this._store.publish(at)},a}();function lookupSelector(a,s){var et=RelayReader$2.read(a,s).data;return et}var RelayPublishQueue_1=RelayPublishQueue$1,_interopRequireDefault$8=interopRequireDefaultExports.default,_objectSpread2$2=_interopRequireDefault$8(objectSpread2Exports),RelayDefaultHandlerProvider$1=RelayDefaultHandlerProvider_1,_require$c=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1=_require$c.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier$1=_require$c.assertInternalActorIdentifier,RelayObservable$1=RelayObservable_1,wrapNetworkWithLogObserver=wrapNetworkWithLogObserver_1,RelayOperationTracker$1=RelayOperationTracker_1,registerEnvironmentWithDevTools=registerEnvironmentWithDevTools_1,defaultGetDataID$1=defaultGetDataID_1,defaultRelayFieldLogger=defaultRelayFieldLogger_1,normalizeResponse$1=normalizeResponse_1,OperationExecutor=OperationExecutor$1,RelayPublishQueue=RelayPublishQueue_1,RelayRecordSource$3=RelayRecordSource_1,RelayModernEnvironment$1=function(){function a(et){var tt=this,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut;this.configName=et.configName,this._treatMissingFieldsAsNull=et.treatMissingFieldsAsNull===!0;var Vt=et.operationLoader;this.__log=(at=et.log)!==null&&at!==void 0?at:emptyFunction,this.relayFieldLogger=(ct=et.relayFieldLogger)!==null&&ct!==void 0?ct:defaultRelayFieldLogger,this._defaultRenderPolicy=(ut=et.UNSTABLE_defaultRenderPolicy)!==null&&ut!==void 0?ut:"partial",this._operationLoader=Vt,this._operationExecutions=new Map,this._network=wrapNetworkWithLogObserver(this,et.network),this._getDataID=(bt=et.getDataID)!==null&&bt!==void 0?bt:defaultGetDataID$1,this._missingFieldHandlers=(wt=et.missingFieldHandlers)!==null&&wt!==void 0?wt:[],this._publishQueue=new RelayPublishQueue(et.store,(Et=et.handlerProvider)!==null&&Et!==void 0?Et:RelayDefaultHandlerProvider$1,this._getDataID,this._missingFieldHandlers),this._scheduler=(Ft=et.scheduler)!==null&&Ft!==void 0?Ft:null,this._store=et.store,this.options=et.options,this._isServer=(jt=et.isServer)!==null&&jt!==void 0?jt:!1,this._normalizeResponse=(Lt=et.normalizeResponse)!==null&&Lt!==void 0?Lt:normalizeResponse$1,this.__setNet=function(Yt){return tt._network=wrapNetworkWithLogObserver(tt,Yt)},this._operationTracker=(Ut=et.operationTracker)!==null&&Ut!==void 0?Ut:new RelayOperationTracker$1,this._shouldProcessClientComponents=et.shouldProcessClientComponents,registerEnvironmentWithDevTools(this)}var s=a.prototype;return s.getStore=function(){return this._store},s.getNetwork=function(){return this._network},s.getOperationTracker=function(){return this._operationTracker},s.getScheduler=function(){return this._scheduler},s.isRequestActive=function(tt){var at=this._operationExecutions.get(tt);return at==="active"},s.UNSTABLE_getDefaultRenderPolicy=function(){return this._defaultRenderPolicy},s.applyUpdate=function(tt){var at=this,ct=function(){at._scheduleUpdates(function(){at._publishQueue.revertUpdate(tt),at._publishQueue.run()})};return this._scheduleUpdates(function(){at._publishQueue.applyUpdate(tt),at._publishQueue.run()}),{dispose:ct}},s.revertUpdate=function(tt){var at=this;this._scheduleUpdates(function(){at._publishQueue.revertUpdate(tt),at._publishQueue.run()})},s.replaceUpdate=function(tt,at){var ct=this;this._scheduleUpdates(function(){ct._publishQueue.revertUpdate(tt),ct._publishQueue.applyUpdate(at),ct._publishQueue.run()})},s.applyMutation=function(tt){var at=this._execute({createSource:function(){return RelayObservable$1.create(function(ut){})},isClientPayload:!1,operation:tt.operation,optimisticConfig:tt,updater:null}).subscribe({});return{dispose:function(){return at.unsubscribe()}}},s.check=function(tt){return this._missingFieldHandlers.length===0&&!operationHasClientAbstractTypes(tt)?this._store.check(tt):this._checkSelectorAndHandleMissingFields(tt,this._missingFieldHandlers)},s.commitPayload=function(tt,at){this._execute({createSource:function(){return RelayObservable$1.from({data:at})},isClientPayload:!0,operation:tt,optimisticConfig:null,updater:null}).subscribe({})},s.commitUpdate=function(tt){var at=this;this._scheduleUpdates(function(){at._publishQueue.commitUpdate(tt),at._publishQueue.run()})},s.lookup=function(tt){return this._store.lookup(tt)},s.subscribe=function(tt,at){return this._store.subscribe(tt,at)},s.retain=function(tt){return this._store.retain(tt)},s.isServer=function(){return this._isServer},s._checkSelectorAndHandleMissingFields=function(tt,at){var ct=this,ut=RelayRecordSource$3.create(),bt=this._store.getSource(),wt=this._store.check(tt,{handlers:at,defaultActorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getSourceForActor:function(Ft){return assertInternalActorIdentifier$1(Ft),bt},getTargetForActor:function(Ft){return assertInternalActorIdentifier$1(Ft),ut}});return ut.size()>0&&this._scheduleUpdates(function(){ct._publishQueue.commitSource(ut),ct._publishQueue.run()}),wt},s._scheduleUpdates=function(tt){var at=this._scheduler;at!=null?at.schedule(tt):tt()},s.execute=function(tt){var at=this,ct=tt.operation;return this._execute({createSource:function(){return at.getNetwork().execute(ct.request.node.params,ct.request.variables,ct.request.cacheConfig||{},null)},isClientPayload:!1,operation:ct,optimisticConfig:null,updater:null})},s.executeSubscription=function(tt){var at=this,ct=tt.operation,ut=tt.updater;return this._execute({createSource:function(){return at.getNetwork().execute(ct.request.node.params,ct.request.variables,ct.request.cacheConfig||{},null)},isClientPayload:!1,operation:ct,optimisticConfig:null,updater:ut})},s.executeMutation=function(tt){var at=this,ct=tt.operation,ut=tt.optimisticResponse,bt=tt.optimisticUpdater,wt=tt.updater,Et=tt.uploadables,Ft;return(ut||bt)&&(Ft={operation:ct,response:ut,updater:bt}),this._execute({createSource:function(){return at.getNetwork().execute(ct.request.node.params,ct.request.variables,(0,_objectSpread2$2.default)((0,_objectSpread2$2.default)({},ct.request.cacheConfig),{},{force:!0}),Et)},isClientPayload:!1,operation:ct,optimisticConfig:Ft,updater:wt})},s.executeWithSource=function(tt){var at=tt.operation,ct=tt.source;return this._execute({createSource:function(){return ct},isClientPayload:!1,operation:at,optimisticConfig:null,updater:null})},s.toJSON=function(){var tt;return"RelayModernEnvironment(".concat((tt=this.configName)!==null&&tt!==void 0?tt:"",")")},s._execute=function(tt){var at=this,ct=tt.createSource,ut=tt.isClientPayload,bt=tt.operation,wt=tt.optimisticConfig,Et=tt.updater,Ft=this._publishQueue,jt=this._store;return RelayObservable$1.create(function(Lt){var Ut=OperationExecutor.execute({actorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getDataID:at._getDataID,isClientPayload:ut,log:at.__log,operation:bt,operationExecutions:at._operationExecutions,operationLoader:at._operationLoader,operationTracker:at._operationTracker,optimisticConfig:wt,getPublishQueue:function(Yt){return assertInternalActorIdentifier$1(Yt),Ft},scheduler:at._scheduler,shouldProcessClientComponents:at._shouldProcessClientComponents,sink:Lt,source:ct(),getStore:function(Yt){return assertInternalActorIdentifier$1(Yt),jt},treatMissingFieldsAsNull:at._treatMissingFieldsAsNull,updater:Et,normalizeResponse:at._normalizeResponse});return function(){return Ut.cancel()}})},a}();function operationHasClientAbstractTypes(a){return a.root.node.kind==="Operation"&&a.root.node.clientAbstractTypes!=null}RelayModernEnvironment$1.prototype["@@RelayModernEnvironment"]=!0;function emptyFunction(){}var RelayModernEnvironment_1=RelayModernEnvironment$1,resolvedPromise=Promise.resolve();function resolveImmediate$1(a){resolvedPromise.then(a).catch(throwNext)}function throwNext(a){setTimeout(function(){throw a},0)}var resolveImmediate_1=resolveImmediate$1,_require$b=RelayConcreteNode_1,LINKED_FIELD=_require$b.LINKED_FIELD,_require2$9=RelayStoreUtils_1,getHandleStorageKey$1=_require2$9.getHandleStorageKey,areEqual$1=areEqual_1,invariant$b=browser$1;function cloneRelayHandleSourceField$2(a,s,et){var tt=s.find(function(ct){return ct.kind===LINKED_FIELD&&ct.name===a.name&&ct.alias===a.alias&&areEqual$1(ct.args,a.args)});tt&&tt.kind===LINKED_FIELD||invariant$b(!1);var at=getHandleStorageKey$1(a,et);return{kind:"LinkedField",alias:tt.alias,name:at,storageKey:at,args:null,concreteType:tt.concreteType,plural:tt.plural,selections:tt.selections}}var cloneRelayHandleSourceField_1=cloneRelayHandleSourceField$2,_require$a=RelayConcreteNode_1,SCALAR_FIELD=_require$a.SCALAR_FIELD,_require2$8=RelayStoreUtils_1,getHandleStorageKey=_require2$8.getHandleStorageKey,areEqual=areEqual_1,invariant$a=browser$1;function cloneRelayScalarHandleSourceField$1(a,s,et){var tt=s.find(function(ct){return ct.kind===SCALAR_FIELD&&ct.name===a.name&&ct.alias===a.alias&&areEqual(ct.args,a.args)});tt&&tt.kind===SCALAR_FIELD||invariant$a(!1);var at=getHandleStorageKey(a,et);return{kind:"ScalarField",alias:tt.alias,name:at,storageKey:at,args:null}}var cloneRelayScalarHandleSourceField_1=cloneRelayScalarHandleSourceField$1,_interopRequireDefault$7=interopRequireDefaultExports.default,_createForOfIteratorHelper2$4=_interopRequireDefault$7(createForOfIteratorHelperExports),RelayRecordSourceMutator=RelayRecordSourceMutator_1,RelayRecordSourceProxy=RelayRecordSourceProxy_1,getOperation$1=getOperation_1,_require$9=ClientID,isClientID$1=_require$9.isClientID,cloneRelayHandleSourceField$1=cloneRelayHandleSourceField_1,cloneRelayScalarHandleSourceField=cloneRelayScalarHandleSourceField_1,_require2$7=RelayConcreteVariables$2,getLocalVariables$1=_require2$7.getLocalVariables,RelayModernRecord$6=RelayModernRecord$d,_require3$5=RelayRecordState_1,EXISTENT=_require3$5.EXISTENT,UNKNOWN=_require3$5.UNKNOWN,RelayStoreUtils$3=RelayStoreUtils_1,_require4$2=TypeID,TYPE_SCHEMA_TYPE=_require4$2.TYPE_SCHEMA_TYPE,generateTypeID$1=_require4$2.generateTypeID,invariant$9=browser$1,getModuleOperationKey$2=RelayStoreUtils$3.getModuleOperationKey,getStorageKey$2=RelayStoreUtils$3.getStorageKey,getArgumentValues=RelayStoreUtils$3.getArgumentValues;function check(a,s,et,tt,at,ct,ut,bt,wt){wt!=null&&wt({name:"store.datachecker.start",selector:tt});var Et=tt.dataID,Ft=tt.node,jt=tt.variables,Lt=new DataChecker$1(a,s,et,jt,at,ct,ut,bt),Ut=Lt.check(Ft,Et);return wt!=null&&wt({name:"store.datachecker.end",selector:tt}),Ut}var DataChecker$1=function(){function a(et,tt,at,ct,ut,bt,wt,Et){this._getSourceForActor=et,this._getTargetForActor=tt,this._getDataID=wt,this._source=et(at),this._mutatorRecordSourceProxyCache=new Map;var Ft=this._getMutatorAndRecordProxyForActor(at),jt=Ft[0],Lt=Ft[1];this._mostRecentlyInvalidatedAt=null,this._handlers=ut,this._mutator=jt,this._operationLoader=bt??null,this._recordSourceProxy=Lt,this._recordWasMissing=!1,this._variables=ct,this._shouldProcessClientComponents=Et}var s=a.prototype;return s._getMutatorAndRecordProxyForActor=function(tt){var at=this._mutatorRecordSourceProxyCache.get(tt);if(at==null){var ct=this._getTargetForActor(tt),ut=new RelayRecordSourceMutator(this._getSourceForActor(tt),ct),bt=new RelayRecordSourceProxy(ut,this._getDataID,void 0,this._handlers);at=[ut,bt],this._mutatorRecordSourceProxyCache.set(tt,at)}return at},s.check=function(tt,at){return this._assignClientAbstractTypes(tt),this._traverse(tt,at),this._recordWasMissing===!0?{status:"missing",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}:{status:"available",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}},s._getVariableValue=function(tt){return this._variables.hasOwnProperty(tt)||invariant$9(!1),this._variables[tt]},s._handleMissing=function(){this._recordWasMissing=!0},s._handleMissingScalarField=function(tt,at){if(!(tt.name==="id"&&tt.alias==null&&isClientID$1(at))){var ct=tt.args!=null?getArgumentValues(tt.args,this._variables):{},ut=(0,_createForOfIteratorHelper2$4.default)(this._handlers),bt;try{for(ut.s();!(bt=ut.n()).done;){var wt=bt.value;if(wt.kind==="scalar"){var Et=wt.handle(tt,this._recordSourceProxy.get(at),ct,this._recordSourceProxy);if(Et!==void 0)return Et}}}catch(Ft){ut.e(Ft)}finally{ut.f()}this._handleMissing()}},s._handleMissingLinkField=function(tt,at){var ct=tt.args!=null?getArgumentValues(tt.args,this._variables):{},ut=(0,_createForOfIteratorHelper2$4.default)(this._handlers),bt;try{for(ut.s();!(bt=ut.n()).done;){var wt=bt.value;if(wt.kind==="linked"){var Et=wt.handle(tt,this._recordSourceProxy.get(at),ct,this._recordSourceProxy);if(Et!==void 0&&(Et===null||this._mutator.getStatus(Et)===EXISTENT))return Et}}}catch(Ft){ut.e(Ft)}finally{ut.f()}this._handleMissing()},s._handleMissingPluralLinkField=function(tt,at){var ct=this,ut=tt.args!=null?getArgumentValues(tt.args,this._variables):{},bt=(0,_createForOfIteratorHelper2$4.default)(this._handlers),wt;try{for(bt.s();!(wt=bt.n()).done;){var Et=wt.value;if(Et.kind==="pluralLinked"){var Ft=Et.handle(tt,this._recordSourceProxy.get(at),ut,this._recordSourceProxy);if(Ft!=null){var jt=Ft.every(function(Lt){return Lt!=null&&ct._mutator.getStatus(Lt)===EXISTENT});if(jt)return Ft}else if(Ft===null)return null}}}catch(Lt){bt.e(Lt)}finally{bt.f()}this._handleMissing()},s._traverse=function(tt,at){var ct=this._mutator.getStatus(at);if(ct===UNKNOWN&&this._handleMissing(),ct===EXISTENT){var ut=this._source.get(at),bt=RelayModernRecord$6.getInvalidationEpoch(ut);bt!=null&&(this._mostRecentlyInvalidatedAt=this._mostRecentlyInvalidatedAt!=null?Math.max(this._mostRecentlyInvalidatedAt,bt):bt),this._traverseSelections(tt.selections,at)}},s._traverseSelections=function(tt,at){var ct=this;tt.forEach(function(ut){switch(ut.kind){case"ScalarField":ct._checkScalar(ut,at);break;case"LinkedField":ut.plural?ct._checkPluralLink(ut,at):ct._checkLink(ut,at);break;case"ActorChange":ct._checkActorChange(ut.linkedField,at);break;case"Condition":var bt=!!ct._getVariableValue(ut.condition);bt===ut.passingValue&&ct._traverseSelections(ut.selections,at);break;case"InlineFragment":{var wt=ut.abstractKey;if(wt==null){var Et=ct._mutator.getType(at);Et===ut.type&&ct._traverseSelections(ut.selections,at)}else{var Ft=ct._mutator.getType(at);Ft==null&&invariant$9(!1);var jt=generateTypeID$1(Ft),Lt=ct._mutator.getValue(jt,wt);Lt===!0?ct._traverseSelections(ut.selections,at):Lt==null&&ct._handleMissing()}break}case"LinkedHandle":{var Ut=cloneRelayHandleSourceField$1(ut,tt,ct._variables);Ut.plural?ct._checkPluralLink(Ut,at):ct._checkLink(Ut,at);break}case"ScalarHandle":{var Vt=cloneRelayScalarHandleSourceField(ut,tt,ct._variables);ct._checkScalar(Vt,at);break}case"ModuleImport":ct._checkModuleImport(ut,at);break;case"Defer":case"Stream":ct._traverseSelections(ut.selections,at);break;case"FragmentSpread":var Yt=ct._variables;ct._variables=getLocalVariables$1(ct._variables,ut.fragment.argumentDefinitions,ut.args),ct._traverseSelections(ut.fragment.selections,at),ct._variables=Yt;break;case"ClientExtension":var er=ct._recordWasMissing;ct._traverseSelections(ut.selections,at),ct._recordWasMissing=er;break;case"TypeDiscriminator":var tr=ut.abstractKey,nr=ct._mutator.getType(at);nr==null&&invariant$9(!1);var ir=generateTypeID$1(nr),lr=ct._mutator.getValue(ir,tr);lr==null&&ct._handleMissing();break;case"ClientComponent":if(ct._shouldProcessClientComponents===!1)break;ct._traverseSelections(ut.fragment.selections,at);break;case"RelayResolver":ct._checkResolver(ut,at);break;case"RelayLiveResolver":ct._checkResolver(ut,at);break;case"ClientEdgeToClientObject":ct._checkResolver(ut.backingField,at);break;default:invariant$9(!1)}})},s._checkResolver=function(tt,at){tt.fragment&&this._traverseSelections([tt.fragment],at)},s._checkModuleImport=function(tt,at){var ct=this._operationLoader;ct===null&&invariant$9(!1);var ut=getModuleOperationKey$2(tt.documentName),bt=this._mutator.getValue(at,ut);if(bt==null){bt===void 0&&this._handleMissing();return}var wt=ct.get(bt);if(wt!=null){var Et=getOperation$1(wt),Ft=this._variables;this._variables=getLocalVariables$1(this._variables,Et.argumentDefinitions,tt.args),this._traverse(Et,at),this._variables=Ft}else this._handleMissing()},s._checkScalar=function(tt,at){var ct=getStorageKey$2(tt,this._variables),ut=this._mutator.getValue(at,ct);ut===void 0&&(ut=this._handleMissingScalarField(tt,at),ut!==void 0&&this._mutator.setValue(at,ct,ut))},s._checkLink=function(tt,at){var ct=getStorageKey$2(tt,this._variables),ut=this._mutator.getLinkedRecordID(at,ct);ut===void 0&&(ut=this._handleMissingLinkField(tt,at),ut!=null?this._mutator.setLinkedRecordID(at,ct,ut):ut===null&&this._mutator.setValue(at,ct,null)),ut!=null&&this._traverse(tt,ut)},s._checkPluralLink=function(tt,at){var ct=this,ut=getStorageKey$2(tt,this._variables),bt=this._mutator.getLinkedRecordIDs(at,ut);bt===void 0&&(bt=this._handleMissingPluralLinkField(tt,at),bt!=null?this._mutator.setLinkedRecordIDs(at,ut,bt):bt===null&&this._mutator.setValue(at,ut,null)),bt&&bt.forEach(function(wt){wt!=null&&ct._traverse(tt,wt)})},s._checkActorChange=function(tt,at){var ct=getStorageKey$2(tt,this._variables),ut=this._source.get(at),bt=ut!=null?RelayModernRecord$6.getActorLinkedRecordID(ut,ct):ut;if(bt==null)bt===void 0&&this._handleMissing();else{var wt=bt[0],Et=bt[1],Ft=this._source,jt=this._mutator,Lt=this._recordSourceProxy,Ut=this._getMutatorAndRecordProxyForActor(wt),Vt=Ut[0],Yt=Ut[1];this._source=this._getSourceForActor(wt),this._mutator=Vt,this._recordSourceProxy=Yt,this._assignClientAbstractTypes(tt),this._traverse(tt,Et),this._source=Ft,this._mutator=jt,this._recordSourceProxy=Lt}},s._assignClientAbstractTypes=function(tt){var at=tt.clientAbstractTypes;if(at!=null)for(var ct=0,ut=Object.keys(at);ct<ut.length;ct++){var bt=ut[ct],wt=(0,_createForOfIteratorHelper2$4.default)(at[bt]),Et;try{for(wt.s();!(Et=wt.n()).done;){var Ft=Et.value,jt=generateTypeID$1(Ft);this._source.get(jt)==null&&this._mutator.create(jt,TYPE_SCHEMA_TYPE),this._mutator.getValue(jt,bt)==null&&this._mutator.setValue(jt,bt,!0)}}catch(Lt){wt.e(Lt)}finally{wt.f()}}},a}(),DataChecker_1={check},shallowFreeze$1=function a(s){typeof s=="object"&&s!=null&&(Array.isArray(s)||s.constructor===Object)&&Object.freeze(s)},RelayModernRecord$5=RelayModernRecord$d,_require$8=RelayStoreUtils_1,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1=_require$8.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,invariant$8=browser$1;function getOutputTypeRecordIDs$2(a){var s=RelayModernRecord$5.getValue(a,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1);return s==null?null:(s instanceof Set||invariant$8(!1),s)}var getOutputTypeRecordIDs_1=getOutputTypeRecordIDs$2;function isLiveStateValue$1(a){return a!=null&&typeof a=="object"&&typeof a.read=="function"&&typeof a.subscribe=="function"}var isLiveStateValue_1=isLiveStateValue$1,_interopRequireDefault$6=interopRequireDefaultExports.default,_createForOfIteratorHelper2$3=_interopRequireDefault$6(createForOfIteratorHelperExports),recycleNodesInto$2=recycleNodesInto_1,_require$7=RelayConcreteNode_1,RELAY_LIVE_RESOLVER=_require$7.RELAY_LIVE_RESOLVER,RelayFeatureFlags$3=RelayFeatureFlags_1,shallowFreeze=shallowFreeze$1,_require2$6=ClientID,generateClientID$1=_require2$6.generateClientID,generateClientObjectClientID=_require2$6.generateClientObjectClientID,RelayModernRecord$4=RelayModernRecord$d,_require3$4=RelayModernSelector$1,createNormalizationSelector=_require3$4.createNormalizationSelector,RelayRecordSource$2=RelayRecordSource_1,_require4$1=RelayResponseNormalizer_1,normalize$1=_require4$1.normalize,_require5$1=RelayStoreUtils_1,RELAY_RESOLVER_ERROR_KEY=_require5$1.RELAY_RESOLVER_ERROR_KEY,RELAY_RESOLVER_INVALIDATION_KEY=_require5$1.RELAY_RESOLVER_INVALIDATION_KEY,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS=_require5$1.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,RELAY_RESOLVER_SNAPSHOT_KEY=_require5$1.RELAY_RESOLVER_SNAPSHOT_KEY,RELAY_RESOLVER_VALUE_KEY=_require5$1.RELAY_RESOLVER_VALUE_KEY,getStorageKey$1=_require5$1.getStorageKey,getOutputTypeRecordIDs$1=getOutputTypeRecordIDs_1,isLiveStateValue=isLiveStateValue_1,_require6=LiveResolverSuspenseSentinel,isSuspenseSentinel$1=_require6.isSuspenseSentinel,invariant$7=browser$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1="__resolverLiveStateSubscription",RELAY_RESOLVER_LIVE_STATE_VALUE="__resolverLiveStateValue",RELAY_RESOLVER_LIVE_STATE_DIRTY="__resolverLiveStateDirty",RELAY_RESOLVER_RECORD_TYPENAME="__RELAY_RESOLVER__",MODEL_PROPERTY_NAME="__relay_model_instance";function addDependencyEdge(a,s,et){var tt=a.get(s);tt||(tt=new Set,a.set(s,tt)),tt.add(et)}var LiveResolverCache$1=function(){function a(et,tt){this._resolverIDToRecordIDs=new Map,this._recordIDToResolverIDs=new Map,this._getRecordSource=et,this._store=tt,this._handlingBatch=!1,this._liveResolverBatchRecordSource=null}var s=a.prototype;return s.readFromCacheOrEvaluate=function(tt,at,ct,ut,bt){var wt=this._getRecordSource(),Et=expectRecord(wt,tt),Ft=getStorageKey$1(at,ct),jt=RelayModernRecord$4.getLinkedRecordID(Et,Ft),Lt=jt==null?null:wt.get(jt),Ut;if(Lt==null||this._isInvalid(Lt,bt)){var Vt;Lt!=null&&maybeUnsubscribeFromLiveState(Lt),jt=(Vt=jt)!==null&&Vt!==void 0?Vt:generateClientID$1(tt,Ft),Lt=RelayModernRecord$4.create(jt,RELAY_RESOLVER_RECORD_TYPENAME);var Yt=ut();if(RelayModernRecord$4.setValue(Lt,RELAY_RESOLVER_SNAPSHOT_KEY,Yt.snapshot),RelayModernRecord$4.setValue(Lt,RELAY_RESOLVER_ERROR_KEY,Yt.error),at.kind===RELAY_LIVE_RESOLVER){if(Yt.resolverResult!=null){Yt.error!=null&&invariant$7(!1);var er=Yt.resolverResult;Ut=this._setLiveStateValue(Lt,jt,er,at,ct)}}else Ut=this._setResolverValue(Lt,Yt.resolverResult,at,ct);wt.set(jt,Lt);var tr=expectRecord(wt,tt),nr=RelayModernRecord$4.clone(tr);if(RelayModernRecord$4.setLinkedRecordID(nr,Ft,jt),wt.set(tt,nr),at.fragment!=null){var ir,lr=getStorageKey$1(at.fragment,ct),pr=generateClientID$1(tt,lr);addDependencyEdge(this._resolverIDToRecordIDs,pr,jt),addDependencyEdge(this._recordIDToResolverIDs,tt,pr);var yr=(ir=Yt.snapshot)===null||ir===void 0?void 0:ir.seenRecords;if(yr!=null){var br=(0,_createForOfIteratorHelper2$3.default)(yr),xr;try{for(br.s();!(xr=br.n()).done;){var Er=xr.value;addDependencyEdge(this._recordIDToResolverIDs,Er,pr)}}catch(sr){br.e(sr)}finally{br.f()}}}}else if(at.kind===RELAY_LIVE_RESOLVER&&RelayModernRecord$4.getValue(Lt,RELAY_RESOLVER_LIVE_STATE_DIRTY)){var $r;jt=($r=jt)!==null&&$r!==void 0?$r:generateClientID$1(tt,Ft),Lt=RelayModernRecord$4.clone(Lt);var Sr=RelayModernRecord$4.getValue(Lt,RELAY_RESOLVER_LIVE_STATE_VALUE);isLiveStateValue(Sr)||invariant$7(!1),Ut=this._setLiveResolverValue(Lt,Sr,at,ct),RelayModernRecord$4.setValue(Lt,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),wt.set(jt,Lt)}var fr=this._getResolverValue(Lt),vr=RelayModernRecord$4.getValue(Lt,RELAY_RESOLVER_SNAPSHOT_KEY),or=RelayModernRecord$4.getValue(Lt,RELAY_RESOLVER_ERROR_KEY),rr=null;if(isSuspenseSentinel$1(fr)){var ar;rr=(ar=jt)!==null&&ar!==void 0?ar:generateClientID$1(tt,Ft)}return[fr,jt,or,vr,rr,Ut]},s.getLiveResolverPromise=function(tt){var at=this._getRecordSource(),ct=at.get(tt);ct==null&&invariant$7(!1);var ut=RelayModernRecord$4.getValue(ct,RELAY_RESOLVER_LIVE_STATE_VALUE);return new Promise(function(bt){var wt=ut.subscribe(function(){wt(),bt()})})},s._setLiveStateValue=function(tt,at,ct,ut,bt){var wt=this._makeLiveStateHandler(at),Et=ct.subscribe(wt);RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_LIVE_STATE_VALUE,ct);var Ft=this._setLiveResolverValue(tt,ct,ut,bt);return RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1,Et),Ft},s._makeLiveStateHandler=function(tt){var at=this;return function(){var ct=at._getRecordSource(),ut=ct.get(tt);if(ut&&RelayModernRecord$4.hasValue(ut,RELAY_RESOLVER_LIVE_STATE_VALUE)){var bt=RelayModernRecord$4.clone(ut);RelayModernRecord$4.setValue(bt,RELAY_RESOLVER_LIVE_STATE_DIRTY,!0),at._setLiveResolverUpdate(tt,bt)}}},s._setLiveResolverUpdate=function(tt,at){if(this._handlingBatch)this._liveResolverBatchRecordSource==null&&(this._liveResolverBatchRecordSource=RelayRecordSource$2.create()),this._liveResolverBatchRecordSource.set(tt,at);else{var ct=RelayRecordSource$2.create();ct.set(tt,at),this._store.publish(ct),this._store.notify()}},s.batchLiveStateUpdates=function(tt){this._handlingBatch&&invariant$7(!1),this._handlingBatch=!0;try{tt()}finally{this._liveResolverBatchRecordSource!=null&&(this._store.publish(this._liveResolverBatchRecordSource),this._store.notify()),this._liveResolverBatchRecordSource=null,this._handlingBatch=!1}},s._setLiveResolverValue=function(tt,at,ct,ut){var bt=null,wt=null;try{bt=at.read()}catch(Et){wt=Et}return RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_ERROR_KEY,wt),this._setResolverValue(tt,bt,ct,ut)},s._setResolverValue=function(tt,at,ct,ut){var bt=ct.normalizationInfo,wt=null;if(at!=null&&bt!=null&&!isSuspenseSentinel$1(at)){var Et,Ft=getOutputTypeRecordIDs$1(tt),jt=new Set,Lt=this._getRecordSource();if(bt.plural){Array.isArray(at)||invariant$7(!1),Et=[];for(var Ut=RelayRecordSource$2.create(),Vt=0;Vt<at.length;Vt++){var Yt=at[Vt];if(Yt!=null){typeof Yt!="object"&&invariant$7(!1);var er=getConcreteTypename(bt,Yt),tr=generateClientObjectClientID(er,RelayModernRecord$4.getDataID(tt),Vt),nr=this._normalizeOutputTypeValue(tr,Yt,ut,bt,[ct.path,String(Vt)],er),ir=(0,_createForOfIteratorHelper2$3.default)(nr.getRecordIDs()),lr;try{for(ir.s();!(lr=ir.n()).done;){var pr=lr.value;Ut.set(pr,expectRecord(nr,pr)),jt.add(pr)}}catch(fr){ir.e(fr)}finally{ir.f()}Et.push(tr)}}wt=updateCurrentSource(Lt,Ut,Ft)}else{typeof at!="object"&&invariant$7(!1);var yr=getConcreteTypename(bt,at),br=generateClientObjectClientID(yr,RelayModernRecord$4.getDataID(tt)),xr=this._normalizeOutputTypeValue(br,at,ut,bt,[ct.path],yr),Er=(0,_createForOfIteratorHelper2$3.default)(xr.getRecordIDs()),$r;try{for(Er.s();!($r=Er.n()).done;){var Sr=$r.value;jt.add(Sr)}}catch(fr){Er.e(fr)}finally{Er.f()}Et=br,wt=updateCurrentSource(Lt,xr,Ft)}RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,jt),shallowFreeze(Et),RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_VALUE_KEY,Et)}else shallowFreeze(at),RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_VALUE_KEY,at);return wt},s.notifyUpdatedSubscribers=function(tt){this._store.__notifyUpdatedSubscribers(tt)},s._getResolverValue=function(tt){return RelayModernRecord$4.getValue(tt,RELAY_RESOLVER_VALUE_KEY)},s.invalidateDataIDs=function(tt){for(var at=this._getRecordSource(),ct=new Set,ut=Array.from(tt);ut.length;){var bt=ut.pop();ct.add(bt),tt.add(bt);var wt=this._recordIDToResolverIDs.get(bt);if(wt!=null){var Et=(0,_createForOfIteratorHelper2$3.default)(wt),Ft;try{for(Et.s();!(Ft=Et.n()).done;){var jt=Ft.value;if(!ct.has(jt)){ct.add(jt);var Lt=this._resolverIDToRecordIDs.get(jt);if(Lt==null)continue;var Ut=(0,_createForOfIteratorHelper2$3.default)(Lt),Vt;try{for(Ut.s();!(Vt=Ut.n()).done;){var Yt=Vt.value;markInvalidatedResolverRecord(Yt,at),ct.has(Yt)||(ct.add(Yt),ut.push(Yt))}}catch(er){Ut.e(er)}finally{Ut.f()}}}}catch(er){Et.e(er)}finally{Et.f()}}}},s._isInvalid=function(tt,at){if(!RelayModernRecord$4.getValue(tt,RELAY_RESOLVER_INVALIDATION_KEY))return!1;var ct=RelayModernRecord$4.getValue(tt,RELAY_RESOLVER_SNAPSHOT_KEY),ut=ct==null?void 0:ct.data,bt=ct==null?void 0:ct.selector;if(ut==null||bt==null)return!0;var wt=at(bt),Et=wt.data,Ft=recycleNodesInto$2(ut,Et);if(Ft!==ut)return!0;if(RelayFeatureFlags$3.MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD){var jt=RelayModernRecord$4.clone(tt);RelayModernRecord$4.setValue(jt,RELAY_RESOLVER_INVALIDATION_KEY,!1);var Lt=this._getRecordSource();Lt.set(RelayModernRecord$4.getDataID(tt),jt)}return!1},s._normalizeOutputTypeValue=function(tt,at,ct,ut,bt,wt){var Et=RelayRecordSource$2.create();switch(ut.kind){case"OutputType":{var Ft=RelayModernRecord$4.create(tt,wt);Et.set(tt,Ft);var jt=createNormalizationSelector(ut.normalizationNode,tt,ct),Lt=this._store.__getNormalizationOptions(bt);return normalize$1(Et,jt,at,Lt).source}case"WeakModel":{var Ut=RelayModernRecord$4.create(tt,wt);return RelayModernRecord$4.setValue(Ut,MODEL_PROPERTY_NAME,at),Et.set(tt,Ut),Et}default:ut.kind,invariant$7(!1)}},s.ensureClientRecord=function(tt,at){var ct=generateClientObjectClientID(at,tt),ut=this._getRecordSource();if(!ut.has(ct)){var bt=RelayModernRecord$4.create(ct,at);RelayModernRecord$4.setValue(bt,"id",tt),ut.set(ct,bt)}return ct},s.unsubscribeFromLiveResolverRecords=function(tt){return unsubscribeFromLiveResolverRecordsImpl(this._getRecordSource(),tt)},s.invalidateResolverRecords=function(tt){if(tt.size!==0){var at=(0,_createForOfIteratorHelper2$3.default)(tt),ct;try{for(at.s();!(ct=at.n()).done;){var ut=ct.value,bt=this._getRecordSource().get(ut);bt!=null&&isResolverRecord(bt)&&this._getRecordSource().delete(ut)}}catch(wt){at.e(wt)}finally{at.f()}}},a}();function updateCurrentSource(a,s,et){var tt=new Set;if(et!=null){var at=(0,_createForOfIteratorHelper2$3.default)(et),ct;try{for(at.s();!(ct=at.n()).done;){var ut=ct.value;s.has(ut)||(tt.add(ut),a.remove(ut))}}catch(Ut){at.e(Ut)}finally{at.f()}}var bt=(0,_createForOfIteratorHelper2$3.default)(s.getRecordIDs()),wt;try{for(bt.s();!(wt=bt.n()).done;){var Et=wt.value,Ft=expectRecord(s,Et);if(a.has(Et)){var jt=expectRecord(a,Et),Lt=RelayModernRecord$4.update(jt,Ft);Lt!==jt&&(tt.add(Et),a.set(Et,Lt),markInvalidatedLinkedResolverRecords(jt,a))}else a.set(Et,Ft)}}catch(Ut){bt.e(Ut)}finally{bt.f()}return tt}function getAllLinkedRecordIds(a){var s=new Set;return RelayModernRecord$4.getFields(a).forEach(function(et){if(RelayModernRecord$4.hasLinkedRecordID(a,et)){var tt=RelayModernRecord$4.getLinkedRecordID(a,et);tt!=null&&s.add(tt)}else if(RelayModernRecord$4.hasLinkedRecordIDs(a,et)){var at;(at=RelayModernRecord$4.getLinkedRecordIDs(a,et))===null||at===void 0||at.forEach(function(ct){ct!=null&&s.add(ct)})}}),s}function markInvalidatedResolverRecord(a,s){var et=s.get(a);if(et){var tt=RelayModernRecord$4.clone(et);RelayModernRecord$4.setValue(tt,RELAY_RESOLVER_INVALIDATION_KEY,!0),s.set(a,tt)}}function markInvalidatedLinkedResolverRecords(a,s){var et=getAllLinkedRecordIds(a),tt=(0,_createForOfIteratorHelper2$3.default)(et),at;try{for(tt.s();!(at=tt.n()).done;){var ct=at.value,ut=s.get(ct);ut!=null&&isResolverRecord(ut)&&markInvalidatedResolverRecord(ct,s)}}catch(bt){tt.e(bt)}finally{tt.f()}}function unsubscribeFromLiveResolverRecordsImpl(a,s){if(s.size!==0){var et=(0,_createForOfIteratorHelper2$3.default)(s),tt;try{for(et.s();!(tt=et.n()).done;){var at=tt.value,ct=a.get(at);ct!=null&&isResolverRecord(ct)&&maybeUnsubscribeFromLiveState(ct)}}catch(ut){et.e(ut)}finally{et.f()}}}function isResolverRecord(a){return RelayModernRecord$4.getType(a)===RELAY_RESOLVER_RECORD_TYPENAME}function maybeUnsubscribeFromLiveState(a){var s=RelayModernRecord$4.getValue(a,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1);s!=null&&s()}function expectRecord(a,s){var et=a.get(s);return et==null&&invariant$7(!1),et}function getUpdatedDataIDs$1(a){return a}function getConcreteTypename(a,s){var et,tt=(et=a.concreteType)!==null&&et!==void 0?et:s.__typename;return tt==null&&invariant$7(!1),tt}var LiveResolverCache_1={LiveResolverCache:LiveResolverCache$1,getUpdatedDataIDs:getUpdatedDataIDs$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY:RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1},_interopRequireDefault$5=interopRequireDefaultExports.default,_objectSpread2$1=_interopRequireDefault$5(objectSpread2Exports),RelayModernRecord$3=RelayModernRecord$d,RelayRecordSource$1=RelayRecordSource_1,invariant$6=browser$1,UNPUBLISH_RECORD_SENTINEL=RelayModernRecord$3.fromObject(Object.freeze({__UNPUBLISH_RECORD_SENTINEL:!0})),RelayOptimisticRecordSource$1=function(){function a(et){this._base=et,this._sink=RelayRecordSource$1.create()}var s=a.prototype;return s.has=function(tt){if(this._sink.has(tt)){var at=this._sink.get(tt);return at!==UNPUBLISH_RECORD_SENTINEL}else return this._base.has(tt)},s.get=function(tt){if(this._sink.has(tt)){var at=this._sink.get(tt);return at===UNPUBLISH_RECORD_SENTINEL?void 0:at}else return this._base.get(tt)},s.getStatus=function(tt){var at=this.get(tt);return at===void 0?"UNKNOWN":at===null?"NONEXISTENT":"EXISTENT"},s.clear=function(){this._base=RelayRecordSource$1.create(),this._sink.clear()},s.delete=function(tt){this._sink.delete(tt)},s.remove=function(tt){this._sink.set(tt,UNPUBLISH_RECORD_SENTINEL)},s.set=function(tt,at){this._sink.set(tt,at)},s.getRecordIDs=function(){return Object.keys(this.toJSON())},s.size=function(){return Object.keys(this.toJSON()).length},s.toJSON=function(){var tt=this,at=(0,_objectSpread2$1.default)({},this._base.toJSON());return this._sink.getRecordIDs().forEach(function(ct){var ut=tt.get(ct);ut===void 0?delete at[ct]:at[ct]=RelayModernRecord$3.toJSON(ut)}),at},s.getOptimisticRecordIDs=function(){return new Set(this._sink.getRecordIDs())},a}();function create(a){return new RelayOptimisticRecordSource$1(a)}function getOptimisticRecordIDs(a){return a instanceof RelayOptimisticRecordSource$1||invariant$6(!1),a.getOptimisticRecordIDs()}var RelayOptimisticRecordSource_1={create,getOptimisticRecordIDs},_interopRequireDefault$4=interopRequireDefaultExports.default,_createForOfIteratorHelper2$2=_interopRequireDefault$4(createForOfIteratorHelperExports),getOperation=getOperation_1,cloneRelayHandleSourceField=cloneRelayHandleSourceField_1,getOutputTypeRecordIDs=getOutputTypeRecordIDs_1,_require$6=RelayConcreteVariables$2,getLocalVariables=_require$6.getLocalVariables,RelayModernRecord$2=RelayModernRecord$d,RelayStoreUtils$2=RelayStoreUtils_1,_require2$5=TypeID,generateTypeID=_require2$5.generateTypeID,invariant$5=browser$1,getStorageKey=RelayStoreUtils$2.getStorageKey,getModuleOperationKey$1=RelayStoreUtils$2.getModuleOperationKey;function mark(a,s,et,tt,at){var ct=s.dataID,ut=s.node,bt=s.variables,wt=new RelayReferenceMarker$1(a,bt,et,tt,at);wt.mark(ut,ct)}var RelayReferenceMarker$1=function(){function a(et,tt,at,ct,ut){this._operationLoader=ct??null,this._operationName=null,this._recordSource=et,this._references=at,this._variables=tt,this._shouldProcessClientComponents=ut}var s=a.prototype;return s.mark=function(tt,at){(tt.kind==="Operation"||tt.kind==="SplitOperation")&&(this._operationName=tt.name),this._traverse(tt,at)},s._traverse=function(tt,at){this._references.add(at);var ct=this._recordSource.get(at);ct!=null&&this._traverseSelections(tt.selections,ct)},s._getVariableValue=function(tt){return this._variables.hasOwnProperty(tt)||invariant$5(!1),this._variables[tt]},s._traverseSelections=function(tt,at){var ct=this;tt.forEach(function(ut){switch(ut.kind){case"ActorChange":ct._traverseLink(ut.linkedField,at);break;case"LinkedField":ut.plural?ct._traversePluralLink(ut,at):ct._traverseLink(ut,at);break;case"Condition":var bt=!!ct._getVariableValue(ut.condition);bt===ut.passingValue&&ct._traverseSelections(ut.selections,at);break;case"InlineFragment":if(ut.abstractKey==null){var wt=RelayModernRecord$2.getType(at);(wt!=null&&wt===ut.type||wt===RelayStoreUtils$2.ROOT_TYPE)&&ct._traverseSelections(ut.selections,at)}else{var Et=RelayModernRecord$2.getType(at),Ft=generateTypeID(Et);ct._references.add(Ft),ct._traverseSelections(ut.selections,at)}break;case"FragmentSpread":var jt=ct._variables;ct._variables=getLocalVariables(ct._variables,ut.fragment.argumentDefinitions,ut.args),ct._traverseSelections(ut.fragment.selections,at),ct._variables=jt;break;case"LinkedHandle":var Lt=cloneRelayHandleSourceField(ut,tt,ct._variables);Lt.plural?ct._traversePluralLink(Lt,at):ct._traverseLink(Lt,at);break;case"Defer":case"Stream":ct._traverseSelections(ut.selections,at);break;case"ScalarField":case"ScalarHandle":break;case"TypeDiscriminator":{var Ut=RelayModernRecord$2.getType(at),Vt=generateTypeID(Ut);ct._references.add(Vt);break}case"ModuleImport":ct._traverseModuleImport(ut,at);break;case"ClientExtension":ct._traverseSelections(ut.selections,at);break;case"ClientComponent":if(ct._shouldProcessClientComponents===!1)break;ct._traverseSelections(ut.fragment.selections,at);break;case"RelayResolver":ct._traverseResolverField(ut,at);break;case"RelayLiveResolver":ct._traverseResolverField(ut,at);break;case"ClientEdgeToClientObject":ct._traverseClientEdgeToClientObject(ut,at);break;default:invariant$5(!1)}})},s._traverseClientEdgeToClientObject=function(tt,at){var ct=this._traverseResolverField(tt.backingField,at);if(ct!=null){var ut=this._recordSource.get(ct);if(ut!=null)if(tt.backingField.isOutputType){var bt=getOutputTypeRecordIDs(ut);if(bt!=null){var wt=(0,_createForOfIteratorHelper2$2.default)(bt),Et;try{for(wt.s();!(Et=wt.n()).done;){var Ft=Et.value;this._references.add(Ft)}}catch(nr){wt.e(nr)}finally{wt.f()}}}else{var jt=tt.linkedField,Lt=jt.concreteType;if(Lt==null)return;if(jt.plural){var Ut=RelayModernRecord$2.getResolverLinkedRecordIDs(ut,Lt);if(Ut!=null){var Vt=(0,_createForOfIteratorHelper2$2.default)(Ut),Yt;try{for(Vt.s();!(Yt=Vt.n()).done;){var er=Yt.value;er!=null&&this._traverse(jt,er)}}catch(nr){Vt.e(nr)}finally{Vt.f()}}}else{var tr=RelayModernRecord$2.getResolverLinkedRecordID(ut,Lt);tr!=null&&this._traverse(jt,tr)}}}},s._traverseResolverField=function(tt,at){var ct=getStorageKey(tt,this._variables),ut=RelayModernRecord$2.getLinkedRecordID(at,ct);ut!=null&&this._references.add(ut);var bt=tt.fragment;return bt!=null&&this._traverseSelections([bt],at),ut},s._traverseModuleImport=function(tt,at){var ct=this._operationLoader;ct===null&&invariant$5(!1);var ut=getModuleOperationKey$1(tt.documentName),bt=RelayModernRecord$2.getValue(at,ut);if(bt!=null){var wt=ct.get(bt);if(wt!=null){var Et=getOperation(wt),Ft=this._variables;this._variables=getLocalVariables(this._variables,Et.argumentDefinitions,tt.args),this._traverseSelections(Et.selections,at),this._variables=Ft}}},s._traverseLink=function(tt,at){var ct=getStorageKey(tt,this._variables),ut=RelayModernRecord$2.getLinkedRecordID(at,ct);ut!=null&&this._traverse(tt,ut)},s._traversePluralLink=function(tt,at){var ct=this,ut=getStorageKey(tt,this._variables),bt=RelayModernRecord$2.getLinkedRecordIDs(at,ut);bt!=null&&bt.forEach(function(wt){wt!=null&&ct._traverse(tt,wt)})},a}(),RelayReferenceMarker_1={mark},ITERATOR_KEY$1=Symbol.iterator;function hasOverlappingIDs$1(a,s){for(var et=a[ITERATOR_KEY$1](),tt=et.next();!tt.done;){var at=tt.value;if(s.has(at))return!0;tt=et.next()}return!1}var hasOverlappingIDs_1=hasOverlappingIDs$1,_require$5=RelayStoreUtils_1,ROOT_ID$1=_require$5.ROOT_ID,_require2$4=ViewerPattern$1,VIEWER_ID=_require2$4.VIEWER_ID,ITERATOR_KEY=Symbol.iterator;function hasSignificantOverlappingIDs$1(a,s){for(var et=a[ITERATOR_KEY](),tt=et.next();!tt.done;){var at=tt.value;if(s.has(at)&&at!==ROOT_ID$1&&at!==VIEWER_ID)return!0;tt=et.next()}return!1}var hasSignificantOverlappingIDs_1=hasSignificantOverlappingIDs$1,recycleNodesInto$1=recycleNodesInto_1,RelayFeatureFlags$2=RelayFeatureFlags_1,hasOverlappingIDs=hasOverlappingIDs_1,hasSignificantOverlappingIDs=hasSignificantOverlappingIDs_1,RelayReader$1=RelayReader_1,RelayStoreSubscriptions$1=function(){function a(et,tt,at){this._subscriptions=new Set,this.__log=et,this._resolverCache=tt,this._resolverContext=at}var s=a.prototype;return s.subscribe=function(tt,at){var ct=this,ut={backup:null,callback:at,snapshot:tt,stale:!1},bt=function(){ct._subscriptions.delete(ut)};return this._subscriptions.add(ut),{dispose:bt}},s.snapshotSubscriptions=function(tt){var at=this;this._subscriptions.forEach(function(ct){if(!ct.stale){ct.backup=ct.snapshot;return}var ut=ct.snapshot,bt=RelayReader$1.read(tt,ut.selector,at._resolverCache,at._resolverContext),wt=recycleNodesInto$1(ut.data,bt.data);bt.data=wt,ct.backup=bt})},s.restoreSubscriptions=function(){this._subscriptions.forEach(function(tt){var at=tt.backup;tt.backup=null,at?(at.data!==tt.snapshot.data&&(tt.stale=!0),tt.snapshot={data:tt.snapshot.data,isMissingData:at.isMissingData,missingClientEdges:at.missingClientEdges,missingLiveResolverFields:at.missingLiveResolverFields,seenRecords:at.seenRecords,selector:at.selector,errorResponseFields:at.errorResponseFields}):tt.stale=!0})},s.updateSubscriptions=function(tt,at,ct,ut){var bt=this,wt=at.size!==0;this._subscriptions.forEach(function(Et){var Ft=bt._updateSubscription(tt,Et,at,wt,ut);Ft!=null&&ct.push(Ft)})},s._updateSubscription=function(tt,at,ct,ut,bt){var wt=at.backup,Et=at.callback,Ft=at.snapshot,jt=at.stale,Lt=ut&&hasOverlappingIDs(Ft.seenRecords,ct);if(!(!jt&&!Lt)){var Ut=Lt||!wt?RelayReader$1.read(tt,Ft.selector,this._resolverCache,this._resolverContext):wt,Vt=recycleNodesInto$1(Ft.data,Ut.data);if(Ut={data:Vt,isMissingData:Ut.isMissingData,missingClientEdges:Ut.missingClientEdges,missingLiveResolverFields:Ut.missingLiveResolverFields,seenRecords:Ut.seenRecords,selector:Ut.selector,errorResponseFields:Ut.errorResponseFields},at.snapshot=Ut,at.stale=!1,Ut.data!==Ft.data)return this.__log&&RelayFeatureFlags$2.ENABLE_NOTIFY_SUBSCRIPTION&&this.__log({name:"store.notify.subscription",sourceOperation:bt,snapshot:Ft,nextSnapshot:Ut}),Et(Ut),Ft.selector.owner;if(RelayFeatureFlags$2.ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION&&(jt||hasSignificantOverlappingIDs(Ft.seenRecords,ct)))return Ft.selector.owner}},s.size=function(){return this._subscriptions.size},a}(),RelayStoreSubscriptions_1=RelayStoreSubscriptions$1,_interopRequireDefault$3=interopRequireDefaultExports.default,_createForOfIteratorHelper2$1=_interopRequireDefault$3(createForOfIteratorHelperExports),_defineProperty2$1=_interopRequireDefault$3(requireDefineProperty()),_require$4=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE=_require$4.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier=_require$4.assertInternalActorIdentifier,resolveImmediate=resolveImmediate_1,DataChecker=DataChecker_1,defaultGetDataID=defaultGetDataID_1,_require2$3=LiveResolverCache_1,LiveResolverCache=_require2$3.LiveResolverCache,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY=_require2$3.RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY,getUpdatedDataIDs=_require2$3.getUpdatedDataIDs,RelayModernRecord$1=RelayModernRecord$d,RelayOptimisticRecordSource=RelayOptimisticRecordSource_1,RelayReader=RelayReader_1,RelayReferenceMarker=RelayReferenceMarker_1,RelayStoreSubscriptions=RelayStoreSubscriptions_1,RelayStoreUtils$1=RelayStoreUtils_1,_require3$3=RelayStoreUtils_1,ROOT_ID=_require3$3.ROOT_ID,ROOT_TYPE=_require3$3.ROOT_TYPE,invariant$4=browser$1,DEFAULT_RELEASE_BUFFER_SIZE=10,RelayModernStore$1=function(){function a(et,tt){var at=this,ct,ut,bt,wt,Et,Ft,jt;(0,_defineProperty2$1.default)(this,"_gcStep",function(){at._gcRun&&(at._gcRun.next().done?at._gcRun=null:at._gcScheduler(at._gcStep))}),this._currentWriteEpoch=0,this._gcHoldCounter=0,this._gcReleaseBufferSize=(ct=tt==null?void 0:tt.gcReleaseBufferSize)!==null&&ct!==void 0?ct:DEFAULT_RELEASE_BUFFER_SIZE,this._gcRun=null,this._gcScheduler=(ut=tt==null?void 0:tt.gcScheduler)!==null&&ut!==void 0?ut:resolveImmediate,this._getDataID=(bt=tt==null?void 0:tt.getDataID)!==null&&bt!==void 0?bt:defaultGetDataID,this._globalInvalidationEpoch=null,this._invalidationSubscriptions=new Set,this._invalidatedRecordIDs=new Set,this.__log=(wt=tt==null?void 0:tt.log)!==null&&wt!==void 0?wt:null,this._queryCacheExpirationTime=tt==null?void 0:tt.queryCacheExpirationTime,this._operationLoader=(Et=tt==null?void 0:tt.operationLoader)!==null&&Et!==void 0?Et:null,this._optimisticSource=null,this._recordSource=et,this._releaseBuffer=[],this._roots=new Map,this._shouldScheduleGC=!1,this._resolverCache=new LiveResolverCache(function(){return at._getMutableRecordSource()},this),this._storeSubscriptions=new RelayStoreSubscriptions(tt==null?void 0:tt.log,this._resolverCache),this._updatedRecordIDs=new Set,this._shouldProcessClientComponents=(Ft=tt==null?void 0:tt.shouldProcessClientComponents)!==null&&Ft!==void 0?Ft:!1,this._resolverContext=tt==null?void 0:tt.resolverContext,this._treatMissingFieldsAsNull=(jt=tt==null?void 0:tt.treatMissingFieldsAsNull)!==null&&jt!==void 0?jt:!1,this._actorIdentifier=tt==null?void 0:tt.actorIdentifier,initializeRecordSource(this._recordSource)}var s=a.prototype;return s.getSource=function(){var tt;return(tt=this._optimisticSource)!==null&&tt!==void 0?tt:this._recordSource},s.getOperationLoader=function(){return this._operationLoader},s._getMutableRecordSource=function(){var tt;return(tt=this._optimisticSource)!==null&&tt!==void 0?tt:this._recordSource},s.getLiveResolverPromise=function(tt){return this._resolverCache.getLiveResolverPromise(tt)},s.batchLiveStateUpdates=function(tt){this.__log!=null&&this.__log({name:"liveresolver.batch.start"});try{this._resolverCache.batchLiveStateUpdates(tt)}finally{this.__log!=null&&this.__log({name:"liveresolver.batch.end"})}},s.check=function(tt,at){var ct,ut,bt,wt,Et=tt.root,Ft=this._getMutableRecordSource(),jt=this._globalInvalidationEpoch,Lt=this._roots.get(tt.request.identifier),Ut=Lt!=null?Lt.epoch:null;if(jt!=null&&(Ut==null||Ut<=jt))return{status:"stale"};var Vt=(ct=at==null?void 0:at.handlers)!==null&&ct!==void 0?ct:[],Yt=(ut=at==null?void 0:at.getSourceForActor)!==null&&ut!==void 0?ut:function(nr){return assertInternalActorIdentifier(nr),Ft},er=(bt=at==null?void 0:at.getTargetForActor)!==null&&bt!==void 0?bt:function(nr){return assertInternalActorIdentifier(nr),Ft},tr=DataChecker.check(Yt,er,(wt=at==null?void 0:at.defaultActorIdentifier)!==null&&wt!==void 0?wt:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,Et,Vt,this._operationLoader,this._getDataID,this._shouldProcessClientComponents,this.__log);return getAvailabilityStatus(tr,Ut,Lt==null?void 0:Lt.fetchTime,this._queryCacheExpirationTime)},s.retain=function(tt){var at=this,ct=tt.request.identifier,ut=!1,bt=function(){if(!ut){ut=!0;var Ft=at._roots.get(ct);if(Ft!=null&&(Ft.refCount--,Ft.refCount===0)){var jt=at._queryCacheExpirationTime,Lt=Ft.fetchTime!=null&&jt!=null&&Ft.fetchTime<=Date.now()-jt;if(Lt)at._roots.delete(ct),at.scheduleGC();else if(at._releaseBuffer.push(ct),at._releaseBuffer.length>at._gcReleaseBufferSize){var Ut=at._releaseBuffer.shift();at._roots.delete(Ut),at.scheduleGC()}}}},wt=this._roots.get(ct);return wt!=null?(wt.refCount===0&&(this._releaseBuffer=this._releaseBuffer.filter(function(Et){return Et!==ct})),wt.refCount+=1):this._roots.set(ct,{operation:tt,refCount:1,epoch:null,fetchTime:null}),{dispose:bt}},s.lookup=function(tt){var at=this.__log;at!=null&&at({name:"store.lookup.start",selector:tt});var ct=this.getSource(),ut=RelayReader.read(ct,tt,this._resolverCache,this._resolverContext);return at!=null&&at({name:"store.lookup.end",selector:tt}),ut},s.notify=function(tt,at){var ct=this,ut=this.__log;ut!=null&&ut({name:"store.notify.start",sourceOperation:tt}),this._currentWriteEpoch++,at===!0&&(this._globalInvalidationEpoch=this._currentWriteEpoch),this._resolverCache.invalidateDataIDs(this._updatedRecordIDs);var bt=this.getSource(),wt=[];if(this._storeSubscriptions.updateSubscriptions(bt,this._updatedRecordIDs,wt,tt),this._invalidationSubscriptions.forEach(function(Lt){ct._updateInvalidationSubscription(Lt,at===!0)}),tt!=null){var Et=tt.request.identifier,Ft=this._roots.get(Et);if(Ft!=null)Ft.epoch=this._currentWriteEpoch,Ft.fetchTime=Date.now();else if(tt.request.node.params.operationKind==="query"&&this._gcReleaseBufferSize>0&&this._releaseBuffer.length<this._gcReleaseBufferSize){var jt={operation:tt,refCount:0,epoch:this._currentWriteEpoch,fetchTime:Date.now()};this._releaseBuffer.push(Et),this._roots.set(Et,jt)}}return ut!=null&&ut({name:"store.notify.complete",sourceOperation:tt,updatedRecordIDs:this._updatedRecordIDs,invalidatedRecordIDs:this._invalidatedRecordIDs,subscriptionsSize:this._storeSubscriptions.size(),updatedOwners:wt}),this._updatedRecordIDs.clear(),this._invalidatedRecordIDs.clear(),wt},s.publish=function(tt,at){var ct=this._getMutableRecordSource();updateTargetFromSource(ct,tt,this._currentWriteEpoch+1,at,this._updatedRecordIDs,this._invalidatedRecordIDs);var ut=this.__log;ut!=null&&ut({name:"store.publish",source:tt,optimistic:ct===this._optimisticSource})},s.subscribe=function(tt,at){return this._storeSubscriptions.subscribe(tt,at)},s.holdGC=function(){var tt=this;this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._gcHoldCounter++;var at=function(){tt._gcHoldCounter>0&&(tt._gcHoldCounter--,tt._gcHoldCounter===0&&tt._shouldScheduleGC&&(tt.scheduleGC(),tt._shouldScheduleGC=!1))};return{dispose:at}},s.toJSON=function(){return"RelayModernStore()"},s.getEpoch=function(){return this._currentWriteEpoch},s.__getUpdatedRecordIDs=function(){return this._updatedRecordIDs},s.lookupInvalidationState=function(tt){var at=this,ct=new Map;return tt.forEach(function(ut){var bt,wt=at.getSource().get(ut);ct.set(ut,(bt=RelayModernRecord$1.getInvalidationEpoch(wt))!==null&&bt!==void 0?bt:null)}),ct.set("global",this._globalInvalidationEpoch),{dataIDs:tt,invalidations:ct}},s.checkInvalidationState=function(tt){var at=this.lookupInvalidationState(tt.dataIDs),ct=at.invalidations,ut=tt.invalidations;if(ct.get("global")!==ut.get("global"))return!0;var bt=(0,_createForOfIteratorHelper2$1.default)(tt.dataIDs),wt;try{for(bt.s();!(wt=bt.n()).done;){var Et=wt.value;if(ct.get(Et)!==ut.get(Et))return!0}}catch(Ft){bt.e(Ft)}finally{bt.f()}return!1},s.subscribeToInvalidationState=function(tt,at){var ct=this,ut={callback:at,invalidationState:tt},bt=function(){ct._invalidationSubscriptions.delete(ut)};return this._invalidationSubscriptions.add(ut),{dispose:bt}},s._updateInvalidationSubscription=function(tt,at){var ct=this,ut=tt.callback,bt=tt.invalidationState,wt=bt.dataIDs,Et=at||wt.some(function(Ft){return ct._invalidatedRecordIDs.has(Ft)});Et&&ut()},s.snapshot=function(){this._optimisticSource!=null&&invariant$4(!1);var tt=this.__log;tt!=null&&tt({name:"store.snapshot"}),this._storeSubscriptions.snapshotSubscriptions(this.getSource()),this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._optimisticSource=RelayOptimisticRecordSource.create(this.getSource())},s.restore=function(){var tt=this._optimisticSource;tt||invariant$4(!1);var at=this.__log;at!=null&&at({name:"store.restore"});var ct=RelayOptimisticRecordSource.getOptimisticRecordIDs(tt);this._resolverCache.unsubscribeFromLiveResolverRecords(ct),this._optimisticSource=null,this._shouldScheduleGC&&this.scheduleGC(),this._storeSubscriptions.restoreSubscriptions(),this._resolverCache.invalidateResolverRecords(ct)},s.scheduleGC=function(){if(this._gcHoldCounter>0){this._shouldScheduleGC=!0;return}this._gcRun||(this._gcRun=this._collect(),this._gcScheduler(this._gcStep))},s.__gc=function(){if(this._optimisticSource==null)for(var tt=this._collect();!tt.next().done;);},s._collect=function*(){var tt=this.__log;e:for(;;){tt!=null&&tt({name:"store.gc.start"});var at=this._currentWriteEpoch,ct=new Set,ut=(0,_createForOfIteratorHelper2$1.default)(this._roots.values()),bt;try{for(ut.s();!(bt=ut.n()).done;){var wt=bt.value.operation,Et=wt.root;if(RelayReferenceMarker.mark(this._recordSource,Et,ct,this._operationLoader,this._shouldProcessClientComponents),yield,at!==this._currentWriteEpoch){tt!=null&&tt({name:"store.gc.interrupted"});continue e}}}catch(Yt){ut.e(Yt)}finally{ut.f()}if(ct.size===0)this._recordSource.clear();else for(var Ft=this._recordSource.getRecordIDs(),jt=0;jt<Ft.length;jt++){var Lt=Ft[jt];if(!ct.has(Lt)){var Ut=this._recordSource.get(Lt);if(Ut!=null){var Vt=RelayModernRecord$1.getValue(Ut,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY);Vt!=null&&Vt()}this._recordSource.remove(Lt)}}tt!=null&&tt({name:"store.gc.end",references:ct});return}},s.__getNormalizationOptions=function(tt){return{path:tt,getDataID:this._getDataID,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents,actorIdentifier:this._actorIdentifier}},s.__notifyUpdatedSubscribers=function(tt){var at=getUpdatedDataIDs(tt),ct=this._updatedRecordIDs;this._updatedRecordIDs=at,this.notify(),this._updatedRecordIDs=ct},a}();function initializeRecordSource(a){if(!a.has(ROOT_ID)){var s=RelayModernRecord$1.create(ROOT_ID,ROOT_TYPE);a.set(ROOT_ID,s)}}function updateTargetFromSource(a,s,et,tt,at,ct){tt&&tt.forEach(function(Lt){var Ut=a.get(Lt),Vt=s.get(Lt);if(Vt!==null){var Yt;Ut!=null?Yt=RelayModernRecord$1.clone(Ut):Yt=Vt!=null?RelayModernRecord$1.clone(Vt):null,Yt&&(RelayModernRecord$1.setValue(Yt,RelayStoreUtils$1.INVALIDATED_AT_KEY,et),ct.add(Lt),a.set(Lt,Yt))}});for(var ut=s.getRecordIDs(),bt=0;bt<ut.length;bt++){var wt=ut[bt],Et=s.get(wt),Ft=a.get(wt);if(Et&&Ft){var jt=RelayModernRecord$1.update(Ft,Et);jt!==Ft&&(at.add(wt),a.set(wt,jt))}else Et===null?(a.delete(wt),Ft!==null&&at.add(wt)):Et&&(a.set(wt,Et),at.add(wt))}}function getAvailabilityStatus(a,s,et,tt){var at=a.mostRecentlyInvalidatedAt,ct=a.status;if(typeof at=="number"&&(s==null||at>s))return{status:"stale"};if(ct==="missing")return{status:"missing"};if(et!=null&&tt!=null){var ut=et<=Date.now()-tt;if(ut)return{status:"stale"}}return{status:"available",fetchTime:et??null}}var RelayModernStore_1=RelayModernStore$1,RelayDeclarativeMutationConfig$1=RelayDeclarativeMutationConfig$4,_require$3=GraphQLTag$1,getRequest=_require$3.getRequest,_require2$2=RelayModernOperationDescriptor$1,createOperationDescriptor=_require2$2.createOperationDescriptor,_require3$2=RelayModernSelector$1,createReaderSelector=_require3$2.createReaderSelector;function requestSubscription$1(a,s){var et=getRequest(s.subscription);if(et.params.operationKind!=="subscription")throw new Error("requestSubscription: Must use Subscription operation");var tt=s.configs,at=s.onCompleted,ct=s.onError,ut=s.onNext,bt=s.variables,wt=s.cacheConfig,Et=createOperationDescriptor(et,bt,wt),Ft=tt?RelayDeclarativeMutationConfig$1.convert(tt,et,null,s.updater):s,jt=Ft.updater,Lt=a.executeSubscription({operation:Et,updater:jt}).subscribe({next:function(Vt){if(ut!=null){var Yt=Et.fragment,er;if(Array.isArray(Vt)){var tr,nr;er=(tr=Vt[0])===null||tr===void 0||(nr=tr.extensions)===null||nr===void 0?void 0:nr.__relay_subscription_root_id}else{var ir;er=(ir=Vt.extensions)===null||ir===void 0?void 0:ir.__relay_subscription_root_id}typeof er=="string"&&(Yt=createReaderSelector(Yt.node,er,Yt.variables,Yt.owner));var lr=a.lookup(Yt).data;ut(lr)}},error:ct,complete:at});return{dispose:Lt.unsubscribe}}var requestSubscription_1=requestSubscription$1,_interopRequireDefault$2=interopRequireDefaultExports.default,_objectSpread2=_interopRequireDefault$2(objectSpread2Exports),_require$2=RelayStoreUtils_1,getModuleComponentKey=_require$2.getModuleComponentKey,getModuleOperationKey=_require$2.getModuleOperationKey;function createPayloadFor3DField$1(a,s,et,tt){var at=(0,_objectSpread2.default)({},tt);return at[getModuleComponentKey(a)]=et,at[getModuleOperationKey(a)]=s,at}var createPayloadFor3DField_1=createPayloadFor3DField$1,hasOwnProperty=Object.prototype.hasOwnProperty;function isEmptyObject$1(a){for(var s in a)if(hasOwnProperty.call(a,s))return!1;return!0}var isEmptyObject_1=isEmptyObject$1,_require$1=RelayModernSelector$1,getDataIDsFromFragment=_require$1.getDataIDsFromFragment,getSelector=_require$1.getSelector,getVariablesFromFragment=_require$1.getVariablesFromFragment,isEmptyObject=isEmptyObject_1,RelayFeatureFlags$1=RelayFeatureFlags_1,_require2$1=stableCopy_1,stableCopy$1=_require2$1.stableCopy,_require3$1=StringInterner,intern=_require3$1.intern;function getFragmentIdentifier$1(a,s){var et=getSelector(a,s),tt=et==null?"null":et.kind==="SingularReaderSelector"?et.owner.identifier:"["+et.selectors.map(function(Et){return Et.owner.identifier}).join(",")+"]",at=getVariablesFromFragment(a,s),ct=getDataIDsFromFragment(a,s);if(RelayFeatureFlags$1.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION){var ut=typeof ct>"u"?"missing":ct==null?"null":Array.isArray(ct)?"["+ct.join(",")+"]":ct;return ut=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?ut:intern(ut,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),tt+"/"+a.name+"/"+(at==null||isEmptyObject(at)?"{}":JSON.stringify(stableCopy$1(at)))+"/"+ut}else{var bt,wt=(bt=JSON.stringify(ct))!==null&&bt!==void 0?bt:"missing";return wt=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?wt:intern(wt,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),tt+"/"+a.name+"/"+JSON.stringify(stableCopy$1(at))+"/"+wt}}var getFragmentIdentifier_1=getFragmentIdentifier$1,invariant$3=browser$1;function getRefetchMetadata$2(a,s){var et,tt;((et=a.metadata)===null||et===void 0?void 0:et.plural)===!0&&invariant$3(!1);var at=(tt=a.metadata)===null||tt===void 0?void 0:tt.refetch;at==null&&invariant$3(!1);var ct=at.operation.default?at.operation.default:at.operation,ut=at.fragmentPathInResult;typeof ct=="string"&&invariant$3(!1);var bt=at.identifierInfo;return bt!=null&&(bt.identifierField==null||typeof bt.identifierField=="string"||invariant$3(!1),bt.identifierQueryVariableName==null||typeof bt.identifierQueryVariableName=="string"||invariant$3(!1)),{fragmentRefPathInResponse:ut,identifierInfo:bt,refetchableRequest:ct,refetchMetadata:at}}var getRefetchMetadata_1=getRefetchMetadata$2,getRefetchMetadata$1=getRefetchMetadata_1,invariant$2=browser$1;function getPaginationMetadata$1(a,s){var et,tt,at=getRefetchMetadata$1(a),ct=at.refetchableRequest,ut=at.refetchMetadata,bt=ut.connection;bt==null&&invariant$2(!1);var wt=bt.path,Et=((et=(tt=a.metadata)===null||tt===void 0?void 0:tt.connection)!==null&&et!==void 0?et:[])[0];Et==null&&invariant$2(!1);var Ft=ut.identifierInfo;return(Ft==null?void 0:Ft.identifierField)==null||typeof Ft.identifierField=="string"||invariant$2(!1),{connectionPathInFragmentData:wt,identifierField:Ft==null?void 0:Ft.identifierField,paginationRequest:ct,paginationMetadata:bt,stream:Et.stream===!0}}var getPaginationMetadata_1=getPaginationMetadata$1,_interopRequireDefault$1=interopRequireDefaultExports.default,_defineProperty2=_interopRequireDefault$1(requireDefineProperty()),_objectSpread4=_interopRequireDefault$1(objectSpread2Exports),invariant$1=browser$1;function getPaginationVariables$1(a,s,et,tt,at,ct){var ut,bt=ct.backward,wt=ct.forward;if(a==="backward"){var Et;bt!=null&&bt.count!=null&&bt.cursor!=null||invariant$1(!1);var Ft=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},tt),at),{},(Et={},(0,_defineProperty2.default)(Et,bt.cursor,et),(0,_defineProperty2.default)(Et,bt.count,s),Et));return wt&&wt.cursor&&(Ft[wt.cursor]=null),wt&&wt.count&&(Ft[wt.count]=null),Ft}wt!=null&&wt.count!=null&&wt.cursor!=null||invariant$1(!1);var jt=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},tt),at),{},(ut={},(0,_defineProperty2.default)(ut,wt.cursor,et),(0,_defineProperty2.default)(ut,wt.count,s),ut));return bt&&bt.cursor&&(jt[bt.cursor]=null),bt&&bt.count&&(jt[bt.count]=null),jt}var getPaginationVariables_1=getPaginationVariables$1,_interopRequireDefault=interopRequireDefaultExports.default,_createForOfIteratorHelper2=_interopRequireDefault(createForOfIteratorHelperExports),invariant=browser$1;function getValueAtPath$1(a,s){var et=a,tt=(0,_createForOfIteratorHelper2.default)(s),at;try{for(tt.s();!(at=tt.n()).done;){var ct=at.value;if(et==null)return null;typeof ct=="number"?(Array.isArray(et)||invariant(!1),et=et[ct]):(typeof et=="object"&&!Array.isArray(et)||invariant(!1),et=et[ct])}}catch(ut){tt.e(ut)}finally{tt.f()}return et}var getValueAtPath_1=getValueAtPath$1,profileHandlersByName={},defaultProfiler={stop:function a(){}},RelayProfiler$1={profile:function a(s,et){var tt=profileHandlersByName[s];if(tt&&tt.length>0){for(var at=[],ct=tt.length-1;ct>=0;ct--){var ut=tt[ct](s,et);at.unshift(ut)}return{stop:function(wt){at.forEach(function(Et){return Et(wt)})}}}return defaultProfiler},attachProfileHandler:function a(s,et){profileHandlersByName.hasOwnProperty(s)||(profileHandlersByName[s]=[]),profileHandlersByName[s].push(et)},detachProfileHandler:function a(s,et){profileHandlersByName.hasOwnProperty(s)&&removeFromArray(profileHandlersByName[s],et)}};function removeFromArray(a,s){var et=a.indexOf(s);et!==-1&&a.splice(et,1)}var RelayProfiler_1=RelayProfiler$1,_require=experimental,isErrorResult=_require.isErrorResult,isValueResult=_require.isValueResult,ConnectionHandler=ConnectionHandler$4,ConnectionInterface=ConnectionInterface_1,MutationHandlers=MutationHandlers$2,RelayDefaultHandlerProvider=RelayDefaultHandlerProvider_1,applyOptimisticMutation=applyOptimisticMutation_1,commitLocalUpdate=commitLocalUpdate_1,commitMutation=commitMutation_1,RelayDeclarativeMutationConfig=RelayDeclarativeMutationConfig$4,RelayNetwork=RelayNetwork$1,RelayObservable=RelayObservable_1,RelayQueryResponseCache=RelayQueryResponseCache_1,fetchQuery=fetchQuery_1,fetchQuery_DEPRECATED=fetchQuery_DEPRECATED_1,fetchQueryInternal=fetchQueryInternal$2,GraphQLTag=GraphQLTag$1,PreloadableQueryRegistry=PreloadableQueryRegistry_1,_require2=ClientID,generateClientID=_require2.generateClientID,generateUniqueClientID=_require2.generateUniqueClientID,isClientID=_require2.isClientID,createFragmentSpecResolver=createFragmentSpecResolver_1,createRelayContext=createRelayContext_1,isRelayModernEnvironment=isRelayModernEnvironment_1,_require3=LiveResolverSuspenseSentinel,isSuspenseSentinel=_require3.isSuspenseSentinel,suspenseSentinel=_require3.suspenseSentinel,normalizeResponse=normalizeResponse_1,readInlineData=readInlineData_1,RelayConcreteVariables=RelayConcreteVariables$2,RelayModernEnvironment=RelayModernEnvironment_1,RelayModernOperationDescriptor=RelayModernOperationDescriptor$1,RelayModernRecord=RelayModernRecord$d,RelayModernSelector=RelayModernSelector$1,RelayModernStore=RelayModernStore_1,RelayOperationTracker=RelayOperationTracker_1,RelayRecordSource=RelayRecordSource_1,RelayStoreUtils=RelayStoreUtils_1,ResolverFragments=ResolverFragments$1,ViewerPattern=ViewerPattern$1,requestSubscription=requestSubscription_1,createPayloadFor3DField=createPayloadFor3DField_1,deepFreeze=deepFreeze_1,getFragmentIdentifier=getFragmentIdentifier_1,getPaginationMetadata=getPaginationMetadata_1,getPaginationVariables=getPaginationVariables_1,getPendingOperationsForFragment=getPendingOperationsForFragment_1,getRefetchMetadata=getRefetchMetadata_1,getRelayHandleKey=getRelayHandleKey_1,getRequestIdentifier=getRequestIdentifier_1,getValueAtPath=getValueAtPath_1,_require4=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors=_require4.handlePotentialSnapshotErrors,isPromise=isPromise_1,isScalarAndEqual=isScalarAndEqual_1,recycleNodesInto=recycleNodesInto_1,RelayConcreteNode=RelayConcreteNode_1,RelayDefaultHandleKey=RelayDefaultHandleKey$1,RelayError=RelayError$2,RelayFeatureFlags=RelayFeatureFlags_1,RelayProfiler=RelayProfiler_1,RelayReplaySubject=RelayReplaySubject_1,_require5=stableCopy_1,hasCycle=_require5.hasCycle,stableCopy=_require5.stableCopy,withProvidedVariables=withProvidedVariables_1,lib={Environment:RelayModernEnvironment,Network:RelayNetwork,Observable:RelayObservable,QueryResponseCache:RelayQueryResponseCache,RecordSource:RelayRecordSource,Record:RelayModernRecord,ReplaySubject:RelayReplaySubject,Store:RelayModernStore,areEqualSelectors:RelayModernSelector.areEqualSelectors,createFragmentSpecResolver,createNormalizationSelector:RelayModernSelector.createNormalizationSelector,createOperationDescriptor:RelayModernOperationDescriptor.createOperationDescriptor,createReaderSelector:RelayModernSelector.createReaderSelector,createRequestDescriptor:RelayModernOperationDescriptor.createRequestDescriptor,getArgumentValues:RelayStoreUtils.getArgumentValues,getDataIDsFromFragment:RelayModernSelector.getDataIDsFromFragment,getDataIDsFromObject:RelayModernSelector.getDataIDsFromObject,getNode:GraphQLTag.getNode,getFragment:GraphQLTag.getFragment,getInlineDataFragment:GraphQLTag.getInlineDataFragment,getModuleComponentKey:RelayStoreUtils.getModuleComponentKey,getModuleOperationKey:RelayStoreUtils.getModuleOperationKey,getPaginationFragment:GraphQLTag.getPaginationFragment,getPluralSelector:RelayModernSelector.getPluralSelector,getRefetchableFragment:GraphQLTag.getRefetchableFragment,getRequest:GraphQLTag.getRequest,getRequestIdentifier,getSelector:RelayModernSelector.getSelector,getSelectorsFromObject:RelayModernSelector.getSelectorsFromObject,getSingularSelector:RelayModernSelector.getSingularSelector,getStorageKey:RelayStoreUtils.getStorageKey,getVariablesFromFragment:RelayModernSelector.getVariablesFromFragment,getVariablesFromObject:RelayModernSelector.getVariablesFromObject,getVariablesFromPluralFragment:RelayModernSelector.getVariablesFromPluralFragment,getVariablesFromSingularFragment:RelayModernSelector.getVariablesFromSingularFragment,handlePotentialSnapshotErrors,graphql:GraphQLTag.graphql,isErrorResult,isValueResult,isFragment:GraphQLTag.isFragment,isInlineDataFragment:GraphQLTag.isInlineDataFragment,isSuspenseSentinel,suspenseSentinel,isRequest:GraphQLTag.isRequest,readInlineData,MutationTypes:RelayDeclarativeMutationConfig.MutationTypes,RangeOperations:RelayDeclarativeMutationConfig.RangeOperations,DefaultHandlerProvider:RelayDefaultHandlerProvider,ConnectionHandler,MutationHandlers,VIEWER_ID:ViewerPattern.VIEWER_ID,VIEWER_TYPE:ViewerPattern.VIEWER_TYPE,applyOptimisticMutation,commitLocalUpdate,commitMutation,fetchQuery,fetchQuery_DEPRECATED,isRelayModernEnvironment,requestSubscription,ConnectionInterface,PreloadableQueryRegistry,RelayProfiler,createPayloadFor3DField,RelayConcreteNode,RelayError,RelayFeatureFlags,DEFAULT_HANDLE_KEY:RelayDefaultHandleKey.DEFAULT_HANDLE_KEY,FRAGMENTS_KEY:RelayStoreUtils.FRAGMENTS_KEY,FRAGMENT_OWNER_KEY:RelayStoreUtils.FRAGMENT_OWNER_KEY,ID_KEY:RelayStoreUtils.ID_KEY,REF_KEY:RelayStoreUtils.REF_KEY,REFS_KEY:RelayStoreUtils.REFS_KEY,ROOT_ID:RelayStoreUtils.ROOT_ID,ROOT_TYPE:RelayStoreUtils.ROOT_TYPE,TYPENAME_KEY:RelayStoreUtils.TYPENAME_KEY,deepFreeze,generateClientID,generateUniqueClientID,getRelayHandleKey,isClientID,isPromise,isScalarAndEqual,recycleNodesInto,stableCopy,hasCycle,getFragmentIdentifier,getRefetchMetadata,getPaginationMetadata,getPaginationVariables,getPendingOperationsForFragment,getValueAtPath,__internal:{ResolverFragments,OperationTracker:RelayOperationTracker,createRelayContext,getOperationVariables:RelayConcreteVariables.getOperationVariables,getLocalVariables:RelayConcreteVariables.getLocalVariables,fetchQuery:fetchQueryInternal.fetchQuery,fetchQueryDeduped:fetchQueryInternal.fetchQueryDeduped,getPromiseForActiveRequest:fetchQueryInternal.getPromiseForActiveRequest,getObservableForActiveRequest:fetchQueryInternal.getObservableForActiveRequest,normalizeResponse,withProvidedVariables}},relayRuntime=lib,__defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(a,s,et)=>s in a?__defProp$1(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__spreadValues$1=(a,s)=>{for(var et in s||(s={}))__hasOwnProp$1.call(s,et)&&__defNormalProp$1(a,et,s[et]);if(__getOwnPropSymbols$1)for(var et of __getOwnPropSymbols$1(s))__propIsEnum$1.call(s,et)&&__defNormalProp$1(a,et,s[et]);return a},version="6.0.0",stateChangedSubscriptionQuery=`
  subscription stateChanged {
    stateChanged {
      ... on TargetStateChangedEvent {
        __typename
        targetId
        targetType
        timestamp
      }
      ... on NotificationHistoryStateChangedEvent {
        __typename
        timestamp
      }
    }
  }
`;gql`
  ${stateChangedSubscriptionQuery}
`;var ActiveAlertFragment=gql`
  fragment ActiveAlertFragment on ActiveAlert {
    __typename
    id
    filterOptionsJson
    fusionEventId
    subscriptionValue
    user {
      __typename
      id
      connectedWallets {
        address
        walletBlockchain
      }
    }
  }
`,tenantActiveAlertChangedSubscriptionQuery=`
  subscription tenantActiveAlertChanged {
    tenantActiveAlertChanged {
      __typename
      ... on ActiveAlertCreatedEvent {
        __typename
        activeAlert {
          ...ActiveAlertFragment
        }
      }
      ... on ActiveAlertDeletedEvent {
        alertId
        timestamp
        userId
      }
    }
  }
  ${ActiveAlertFragment}
`;gql`
  ${tenantActiveAlertChangedSubscriptionQuery}
`;var __assign=function(){return __assign=Object.assign||function(s){for(var et,tt=1,at=arguments.length;tt<at;tt++){et=arguments[tt];for(var ct in et)Object.prototype.hasOwnProperty.call(et,ct)&&(s[ct]=et[ct])}return s},__assign.apply(this,arguments)},docCache=new Map,fragmentSourceMap=new Map,printFragmentWarnings=!0,experimentalFragmentVariables=!1;function normalize(a){return a.replace(/[\s,]+/g," ").trim()}function cacheKeyFromLoc(a){return normalize(a.source.body.substring(a.start,a.end))}function processFragments(a){var s=new Set,et=[];return a.definitions.forEach(function(tt){if(tt.kind==="FragmentDefinition"){var at=tt.name.value,ct=cacheKeyFromLoc(tt.loc),ut=fragmentSourceMap.get(at);ut&&!ut.has(ct)?printFragmentWarnings&&console.warn("Warning: fragment with name "+at+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):ut||fragmentSourceMap.set(at,ut=new Set),ut.add(ct),s.has(ct)||(s.add(ct),et.push(tt))}else et.push(tt)}),__assign(__assign({},a),{definitions:et})}function stripLoc(a){var s=new Set(a.definitions);s.forEach(function(tt){tt.loc&&delete tt.loc,Object.keys(tt).forEach(function(at){var ct=tt[at];ct&&typeof ct=="object"&&s.add(ct)})});var et=a.loc;return et&&(delete et.startToken,delete et.endToken),a}function parseDocument(a){var s=normalize(a);if(!docCache.has(s)){var et=parse$1(a,{experimentalFragmentVariables,allowLegacyFragmentVariables:experimentalFragmentVariables});if(!et||et.kind!=="Document")throw new Error("Not a valid GraphQL document.");docCache.set(s,stripLoc(processFragments(et)))}return docCache.get(s)}function gql4(a){for(var s=[],et=1;et<arguments.length;et++)s[et-1]=arguments[et];typeof a=="string"&&(a=[a]);var tt=a[0];return s.forEach(function(at,ct){at&&at.kind==="Document"?tt+=at.loc.source.body:tt+=at,tt+=a[ct+1]}),parseDocument(tt)}function resetCaches(){docCache.clear(),fragmentSourceMap.clear()}function disableFragmentWarnings(){printFragmentWarnings=!1}function enableExperimentalFragmentVariables(){experimentalFragmentVariables=!0}function disableExperimentalFragmentVariables(){experimentalFragmentVariables=!1}var extras={gql:gql4,resetCaches,disableFragmentWarnings,enableExperimentalFragmentVariables,disableExperimentalFragmentVariables};(function(a){a.gql=extras.gql,a.resetCaches=extras.resetCaches,a.disableFragmentWarnings=extras.disableFragmentWarnings,a.enableExperimentalFragmentVariables=extras.enableExperimentalFragmentVariables,a.disableExperimentalFragmentVariables=extras.disableExperimentalFragmentVariables})(gql4||(gql4={}));gql4.default=gql4;var lib_default=gql4,ActiveAlertFragmentFragmentDoc=lib_default`
    fragment ActiveAlertFragment on ActiveAlert {
  __typename
  id
  filterOptionsJson
  fusionEventId
  subscriptionValue
  user {
    __typename
    id
    connectedWallets {
      address
      walletBlockchain
    }
  }
}
    `,FilterFragmentFragmentDoc=lib_default`
    fragment FilterFragment on Filter {
  id
  name
  filterType
}
    `,SourceFragmentFragmentDoc=lib_default`
    fragment SourceFragment on Source {
  id
  name
  type
  blockchainAddress
  fusionEventTypeId
  applicableFilters {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,SourceGroupFragmentFragmentDoc=lib_default`
    fragment SourceGroupFragment on SourceGroup {
  id
  name
  sources {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,EmailTargetFragmentFragmentDoc=lib_default`
    fragment EmailTargetFragment on EmailTarget {
  emailAddress
  id
  isConfirmed
  name
}
    `,SmsTargetFragmentFragmentDoc=lib_default`
    fragment SmsTargetFragment on SmsTarget {
  id
  isConfirmed
  name
  phoneNumber
}
    `,TelegramTargetFragmentFragmentDoc=lib_default`
    fragment TelegramTargetFragment on TelegramTarget {
  id
  isConfirmed
  name
  telegramId
  confirmationUrl
}
    `,DiscordTargetFragmentFragmentDoc=lib_default`
    fragment DiscordTargetFragment on DiscordTarget {
  id
  discordAccountId
  discriminator
  isConfirmed
  username
  name
  userStatus
  verificationLink
  discordServerInviteLink
}
    `,SlackChannelTargetFragmentFragmentDoc=lib_default`
    fragment SlackChannelTargetFragment on SlackChannelTarget {
  id
  name
  slackChannelName
  slackWorkspaceName
  verificationLink
  webhookVerificationLink
  verificationStatus
}
    `,Web3TargetFragmentFragmentDoc=lib_default`
    fragment Web3TargetFragment on Web3Target {
  id
  name
  accountId
  walletBlockchain
  targetProtocol
  isConfirmed
  senderAddress
}
    `,TargetGroupFragmentFragmentDoc=lib_default`
    fragment TargetGroupFragment on TargetGroup {
  id
  name
  emailTargets {
    ...EmailTargetFragment
  }
  smsTargets {
    ...SmsTargetFragment
  }
  telegramTargets {
    ...TelegramTargetFragment
  }
  discordTargets {
    ...DiscordTargetFragment
  }
  slackChannelTargets {
    ...SlackChannelTargetFragment
  }
  web3Targets {
    ...Web3TargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${SlackChannelTargetFragmentFragmentDoc}
${Web3TargetFragmentFragmentDoc}`,AlertFragmentFragmentDoc=lib_default`
    fragment AlertFragment on Alert {
  id
  groupName
  name
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,ConnectedWalletFragmentFragmentDoc=lib_default`
    fragment ConnectedWalletFragment on ConnectedWallet {
  address
  walletBlockchain
}
    `,ArgumentErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentErrorFragment on ArgumentError {
  __typename
  message
  paramName
}
    `,ArgumentNullErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentNullErrorFragment on ArgumentNullError {
  __typename
  message
  paramName
}
    `,ArgumentOutOfRangeErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentOutOfRangeErrorFragment on ArgumentOutOfRangeError {
  __typename
  message
  paramName
}
    `,TargetDoesNotExistErrorFragmentFragmentDoc=lib_default`
    fragment TargetDoesNotExistErrorFragment on TargetDoesNotExistError {
  __typename
  message
}
    `,UnexpectedErrorFragmentFragmentDoc=lib_default`
    fragment UnexpectedErrorFragment on UnexpectedError {
  __typename
  message
}
    `,TargetLimitExceededErrorFragmentFragmentDoc=lib_default`
    fragment TargetLimitExceededErrorFragment on TargetLimitExceededError {
  __typename
  message
}
    `,TargetAssignedToExistingTargetGroupErrorFragmentFragmentDoc=lib_default`
    fragment TargetAssignedToExistingTargetGroupErrorFragment on TargetAssignedToExistingTargetGroupError {
  __typename
  message
}
    `,FusionNotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment FusionNotificationHistoryEntryFragment on FusionNotificationHistoryEntry {
  __typename
  id
  createdDate
  read
  fusionEventVariables
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
      customIconUrl
    }
  }
}
    `,NotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment NotificationHistoryEntryFragment on NotificationHistoryEntry {
  __typename
  id
  createdDate
  eventId
  read
  sourceAddress
  category
  transactionSignature
  targets {
    type
    name
  }
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
    }
  }
}
    `,PageInfoFragmentFragmentDoc=lib_default`
    fragment PageInfoFragment on PageInfo {
  hasNextPage
  endCursor
}
    `,CreateSlackChannelTargetResponseFragmentFragmentDoc=lib_default`
    fragment CreateSlackChannelTargetResponseFragment on CreateSlackChannelTargetResponse {
  slackChannelTarget {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,GetSlackChannelTargetsResponseFragmentFragmentDoc=lib_default`
    fragment GetSlackChannelTargetsResponseFragment on SlackChannelTargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,TenantConfigFragmentFragmentDoc=lib_default`
    fragment TenantConfigFragment on TenantConfig {
  id
  type
  dataJson
  fusionEvents {
    id
    metadata
    name
  }
}
    `,TenantUserAlertFragmentFragmentDoc=lib_default`
    fragment TenantUserAlertFragment on TenantUserAlert {
  id
  name
  groupName
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    hasVerifiedFcm
    hasVerifiedSms
    hasVerifiedWeb3
    hasVerifiedEmails
    hasVerifiedDiscord
    hasVerifiedTelegram
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}`,TenantConnectedWalletFragmentFragmentDoc=lib_default`
    fragment TenantConnectedWalletFragment on TenantConnectedWallet {
  address
  walletBlockchain
}
    `,TenantUserFragmentFragmentDoc=lib_default`
    fragment TenantUserFragment on TenantUser {
  id
  alerts {
    ...TenantUserAlertFragment
  }
  connectedWallets {
    ...TenantConnectedWalletFragment
  }
}
    ${TenantUserAlertFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}`,AuthorizationFragmentFragmentDoc=lib_default`
    fragment AuthorizationFragment on Authorization {
  token
  expiry
}
    `,UserFragmentFragmentDoc=lib_default`
    fragment UserFragment on User {
  email
  emailConfirmed
  authorization {
    ...AuthorizationFragment
  }
  roles
}
    ${AuthorizationFragmentFragmentDoc}`,UserTopicFragmentFragmentDoc=lib_default`
    fragment UserTopicFragment on UserTopic {
  name
  topicName
  targetCollections
  targetTemplate
}
    `,GetWeb3TargetResponseFragmentFragmentDoc=lib_default`
    fragment GetWeb3TargetResponseFragment on Web3TargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetResponseFragment on VerifyXmtpTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyCbwTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyCbwTargetResponseFragment on VerifyCbwTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetViaXip42ResponseFragment on VerifyXmtpTargetViaXip42Response {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,WebPushTargetFragmentFragmentDoc=lib_default`
    fragment WebPushTargetFragment on WebPushTarget {
  id
  createdDate
  name
}
    `,AddSourceToSourceGroupDocument=lib_default`
    mutation addSourceToSourceGroup($input: AddSourceToSourceGroupInput!) {
  addSourceToSourceGroup(addSourceToSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,BeginLogInByTransactionDocument=lib_default`
    mutation beginLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!) {
  beginLogInByTransaction(
    beginLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress}
  ) {
    nonce
  }
}
    `,BeginLogInWithWeb3Document=lib_default`
    mutation beginLogInWithWeb3($authAddress: String!, $blockchainType: WalletBlockchain!, $dappAddress: String!, $authType: Web3AuthType!, $walletPubkey: String) {
  beginLogInWithWeb3(
    beginLogInWithWeb3Input: {authAddress: $authAddress, blockchainType: $blockchainType, dappAddress: $dappAddress, authType: $authType, walletPubkey: $walletPubkey}
  ) {
    beginLogInWithWeb3Response {
      nonce
    }
  }
}
    `,BroadcastMessageDocument=lib_default`
    mutation broadcastMessage($idempotencyKey: String, $topicName: String!, $targetTemplates: [KeyValuePairOfTargetTypeAndStringInput!], $variables: [KeyValuePairOfStringAndStringInput!], $timestamp: Long!, $walletBlockchain: WalletBlockchain!, $signature: String!) {
  broadcastMessage(
    broadcastMessageInput: {idempotencyKey: $idempotencyKey, sourceAddress: $topicName, targetTemplates: $targetTemplates, variables: $variables, timestamp: $timestamp, walletBlockchain: $walletBlockchain}
    signature: $signature
  ) {
    id
  }
}
    `,CompleteLogInByTransactionDocument=lib_default`
    mutation completeLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!, $randomUuid: String!, $transactionSignature: String!) {
  completeLogInByTransaction(
    completeLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress, randomUuid: $randomUuid, transactionSignature: $transactionSignature}
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,CompleteLogInWithWeb3Document=lib_default`
    mutation completeLogInWithWeb3($nonce: String!, $signature: String!, $signedMessage: String!, $signingAddress: String!, $signingPubkey: String!) {
  completeLogInWithWeb3(
    completeLogInWithWeb3Input: {nonce: $nonce, signature: $signature, signedMessage: $signedMessage, signingAddress: $signingAddress, signingPubkey: $signingPubkey}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,ConnectWalletDocument=lib_default`
    mutation connectWallet($walletPublicKey: String!, $timestamp: Long!, $signature: String!, $walletBlockchain: WalletBlockchain!, $accountId: String, $connectWalletConflictResolutionTechnique: ConnectWalletConflictResolutionTechnique) {
  connectWallet(
    connectWalletInput: {walletPublicKey: $walletPublicKey, timestamp: $timestamp, walletBlockchain: $walletBlockchain, accountId: $accountId, connectWalletConflictResolutionTechnique: $connectWalletConflictResolutionTechnique}
    signature: $signature
  ) {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,CreateAlertDocument=lib_default`
    mutation createAlert($name: String!, $sourceGroupId: String!, $filterId: String!, $targetGroupId: String!, $filterOptions: String!, $groupName: String!) {
  createAlert(
    alertInput: {name: $name, sourceGroupId: $sourceGroupId, filterId: $filterId, targetGroupId: $targetGroupId, filterOptions: $filterOptions, groupName: $groupName}
  ) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDirectPushAlertDocument=lib_default`
    mutation createDirectPushAlert($input: CreateDirectPushAlertInput!) {
  createDirectPushAlert(createDirectPushAlertInput: $input) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDiscordTargetDocument=lib_default`
    mutation createDiscordTarget($name: String!, $value: String!) {
  createDiscordTarget(createTargetInput: {name: $name, value: $value}) {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,CreateEmailTargetDocument=lib_default`
    mutation createEmailTarget($name: String!, $value: String!) {
  createEmailTarget(createTargetInput: {name: $name, value: $value}) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,CreateFusionAlertsDocument=lib_default`
    mutation createFusionAlerts($input: CreateFusionAlertsInput!) {
  createFusionAlerts(input: $input) {
    alerts {
      groupName
      id
      name
      filterOptions
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${ArgumentErrorFragmentFragmentDoc}
${ArgumentNullErrorFragmentFragmentDoc}
${ArgumentOutOfRangeErrorFragmentFragmentDoc}`,CreateSlackChannelTargetDocument=lib_default`
    mutation createSlackChannelTarget($name: String!, $value: String!) {
  createSlackChannelTarget(input: {name: $name, value: $value}) {
    ...CreateSlackChannelTargetResponseFragment
  }
}
    ${CreateSlackChannelTargetResponseFragmentFragmentDoc}`,CreateSmsTargetDocument=lib_default`
    mutation createSmsTarget($name: String!, $value: String!) {
  createSmsTarget(createTargetInput: {name: $name, value: $value}) {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,CreateSourceDocument=lib_default`
    mutation createSource($name: String, $blockchainAddress: String!, $type: SourceType!, $fusionEventTypeId: String) {
  createSource(
    createSourceInput: {name: $name, blockchainAddress: $blockchainAddress, type: $type, fusionEventTypeId: $fusionEventTypeId}
  ) {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,CreateSourceGroupDocument=lib_default`
    mutation createSourceGroup($name: String!, $sourceIds: [String!]!) {
  createSourceGroup(sourceGroupInput: {name: $name, sourceIds: $sourceIds}) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,CreateTargetGroupDocument=lib_default`
    mutation createTargetGroup($name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  createTargetGroup(
    targetGroupInput: {name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,CreateTelegramTargetDocument=lib_default`
    mutation createTelegramTarget($name: String!, $value: String!) {
  createTelegramTarget(createTargetInput: {name: $name, value: $value}) {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,CreateTenantUserDocument=lib_default`
    mutation createTenantUser($input: CreateTenantUserInput!) {
  createTenantUser(createTenantUserInput: $input) {
    ...TenantUserFragment
  }
}
    ${TenantUserFragmentFragmentDoc}`,CreateWeb3TargetDocument=lib_default`
    mutation createWeb3Target($name: String!, $accountId: String!, $walletBlockchain: WalletBlockchain!, $web3TargetProtocol: Web3TargetProtocol!) {
  createWeb3Target(
    createWeb3TargetInput: {name: $name, accountId: $accountId, walletBlockchain: $walletBlockchain, protocol: $web3TargetProtocol}
  ) {
    ...Web3TargetFragment
  }
}
    ${Web3TargetFragmentFragmentDoc}`,CreateWebPushTargetDocument=lib_default`
    mutation createWebPushTarget($vapidPublicKey: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  createWebPushTarget(
    input: {vapidPublicKey: $vapidPublicKey, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetLimitExceededErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}
${TargetLimitExceededErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,DeleteAlertDocument=lib_default`
    mutation deleteAlert($id: String!) {
  deleteAlert(alertId: $id) {
    id
  }
}
    `,DeleteAlertsDocument=lib_default`
    mutation deleteAlerts($input: DeleteAlertsInput!) {
  deleteAlerts(input: $input) {
    deleteAlertsResponse {
      alertsIds
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${ArgumentErrorFragmentFragmentDoc}
${ArgumentNullErrorFragmentFragmentDoc}
${ArgumentOutOfRangeErrorFragmentFragmentDoc}`,DeleteDirectPushAlertDocument=lib_default`
    mutation deleteDirectPushAlert($input: DeleteDirectPushAlertInput!) {
  deleteDirectPushAlert(deleteDirectPushAlertInput: $input) {
    id
  }
}
    `,DeleteDiscordTargetDocument=lib_default`
    mutation deleteDiscordTarget($id: String!) {
  deleteDiscordTarget(deleteTargetInput: {id: $id}) {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,DeleteEmailTargetDocument=lib_default`
    mutation deleteEmailTarget($id: String!) {
  deleteEmailTarget(deleteTargetInput: {id: $id}) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,DeleteSlackChannelTargetDocument=lib_default`
    mutation deleteSlackChannelTarget($id: String!) {
  deleteSlackChannelTarget(input: {id: $id}) {
    slackChannelTarget {
      ...SlackChannelTargetFragment
    }
    errors {
      ...TargetAssignedToExistingTargetGroupErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${SlackChannelTargetFragmentFragmentDoc}
${TargetAssignedToExistingTargetGroupErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,DeleteSmsTargetDocument=lib_default`
    mutation deleteSmsTarget($id: String!) {
  deleteSmsTarget(deleteTargetInput: {id: $id}) {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,DeleteSourceGroupDocument=lib_default`
    mutation deleteSourceGroup($id: String!) {
  deleteSourceGroup(sourceGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteTargetGroupDocument=lib_default`
    mutation deleteTargetGroup($id: String!) {
  deleteTargetGroup(targetGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteTelegramTargetDocument=lib_default`
    mutation deleteTelegramTarget($id: String!) {
  deleteTelegramTarget(deleteTargetInput: {id: $id}) {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,DeleteUserAlertDocument=lib_default`
    mutation deleteUserAlert($alertId: String!) {
  deleteUserAlert(alertId: $alertId) {
    id
  }
}
    `,DeleteWeb3TargetDocument=lib_default`
    mutation deleteWeb3Target($id: String!) {
  deleteWeb3Target(deleteTargetInput: {id: $id}) {
    ...Web3TargetFragment
  }
}
    ${Web3TargetFragmentFragmentDoc}`,DeleteWebPushTargetDocument=lib_default`
    mutation deleteWebPushTarget($id: String!) {
  deleteWebPushTarget(input: {id: $id}) {
    success
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${TargetDoesNotExistErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,LogInByOidcDocument=lib_default`
    mutation logInByOidc($dappId: String!, $oidcProvider: OidcProvider!, $idToken: String!) {
  logInByOidc(
    input: {dappId: $dappId, oidcProvider: $oidcProvider, idToken: $idToken}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromDappDocument=lib_default`
    mutation logInFromDapp($walletBlockchain: WalletBlockchain!, $walletPublicKey: String!, $dappAddress: String!, $timestamp: Long!, $signature: String!, $accountId: String) {
  logInFromDapp(
    dappLogInInput: {walletBlockchain: $walletBlockchain, walletPublicKey: $walletPublicKey, dappAddress: $dappAddress, timestamp: $timestamp, accountId: $accountId}
    signature: $signature
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromServiceDocument=lib_default`
    mutation logInFromService($input: ServiceLogInInput!) {
  logInFromService(serviceLogInInput: $input) {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,MarkFusionNotificationHistoryAsReadDocument=lib_default`
    mutation markFusionNotificationHistoryAsRead($ids: [String!]!, $beforeId: String, $readState: NotificationHistoryReadState) {
  markFusionNotificationHistoryAsRead(
    input: {ids: $ids, beforeId: $beforeId, readState: $readState}
  )
}
    `,PublishFusionMessageDocument=lib_default`
    mutation publishFusionMessage($eventTypeId: String!, $variablesJson: String!, $specificWallets: [KeyValuePairOfStringAndWalletBlockchainInput!]) {
  publishFusionMessage(
    publishFusionMessageInput: {eventTypeId: $eventTypeId, variablesJson: $variablesJson, specificWallets: $specificWallets}
  ) {
    eventUuid
  }
}
    `,RefreshAuthorizationDocument=lib_default`
    mutation refreshAuthorization {
  refreshAuthorization {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,RemoveSourceFromSourceGroupDocument=lib_default`
    mutation removeSourceFromSourceGroup($input: RemoveSourceFromSourceGroupInput!) {
  removeSourceFromSourceGroup(removeSourceFromSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,SendEmailTargetVerificationRequestDocument=lib_default`
    mutation sendEmailTargetVerificationRequest($targetId: String!) {
  sendEmailTargetVerificationRequest(
    sendTargetConfirmationRequestInput: {targetId: $targetId}
  ) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,SendMessageDocument=lib_default`
    mutation sendMessage($input: SendMessageInput!) {
  sendMessage(sendMessageInput: $input)
}
    `,UpdateSourceGroupDocument=lib_default`
    mutation updateSourceGroup($id: String!, $name: String!, $sourceIds: [String!]!) {
  updateSourceGroup: createSourceGroup(
    sourceGroupInput: {id: $id, name: $name, sourceIds: $sourceIds}
  ) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,UpdateTargetGroupDocument=lib_default`
    mutation updateTargetGroup($id: String!, $name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  updateTargetGroup: createTargetGroup(
    targetGroupInput: {id: $id, name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,UpdateUserSettingsDocument=lib_default`
    mutation updateUserSettings($input: UserSettingsInput!) {
  updateUserSettings(userSettings: $input) {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,UpdateWebPushTargetDocument=lib_default`
    mutation updateWebPushTarget($id: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  updateWebPushTarget(
    input: {id: $id, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}
${TargetDoesNotExistErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,VerifyCbwTargetDocument=lib_default`
    mutation verifyCbwTarget($input: VerifyCbwTargetInput!) {
  verifyCbwTarget(input: $input) {
    ...VerifyCbwTargetResponseFragment
  }
}
    ${VerifyCbwTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetDocument=lib_default`
    mutation verifyXmtpTarget($input: VerifyXmtpTargetInput!) {
  verifyXmtpTarget(input: $input) {
    ...VerifyXmtpTargetResponseFragment
  }
}
    ${VerifyXmtpTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetViaXip42Document=lib_default`
    mutation verifyXmtpTargetViaXip42($input: VerifyXmtpTargetViaXip42Input!) {
  verifyXmtpTargetViaXip42(input: $input) {
    ...VerifyXmtpTargetViaXip42ResponseFragment
  }
}
    ${VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc}`,FetchDataDocument=lib_default`
    query fetchData {
  alert {
    ...AlertFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  source {
    ...SourceFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
  emailTarget {
    ...EmailTargetFragment
  }
  smsTarget {
    ...SmsTargetFragment
  }
  telegramTarget {
    ...TelegramTargetFragment
  }
  discordTarget {
    ...DiscordTargetFragment
  }
  filter {
    ...FilterFragment
  }
}
    ${AlertFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${SourceFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}
${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${FilterFragmentFragmentDoc}`,FetchFusionDataDocument=lib_default`
    query fetchFusionData {
  alert {
    ...AlertFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${AlertFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,FindTenantConfigDocument=lib_default`
    query findTenantConfig($input: FindTenantConfigInput!) {
  findTenantConfig(findTenantConfigInput: $input) {
    ...TenantConfigFragment
  }
}
    ${TenantConfigFragmentFragmentDoc}`,GetActiveAlertsDocument=lib_default`
    query getActiveAlerts($first: Int, $after: String, $fusionEventId: String!) {
  activeAlerts(
    after: $after
    first: $first
    activeAlertsInput: {fusionEventId: $fusionEventId}
  ) {
    nodes {
      ...ActiveAlertFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${ActiveAlertFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetAlertsDocument=lib_default`
    query getAlerts {
  alert {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,GetConfigurationForDappDocument=lib_default`
    query getConfigurationForDapp($dappAddress: String!) {
  configurationForDapp(getConfigurationForDappInput: {dappAddress: $dappAddress}) {
    supportedSmsCountryCodes
    supportedTargetTypes
  }
}
    `,GetConnectedWalletsDocument=lib_default`
    query getConnectedWallets {
  connectedWallet {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,GetDiscordTargetsDocument=lib_default`
    query getDiscordTargets {
  discordTarget {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,GetEmailTargetsDocument=lib_default`
    query getEmailTargets {
  emailTarget {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,GetFiltersDocument=lib_default`
    query getFilters {
  filter {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,GetFusionNotificationHistoryDocument=lib_default`
    query getFusionNotificationHistory($after: String, $first: Int, $includeHidden: Boolean, $includeRead: Boolean) {
  fusionNotificationHistory(
    after: $after
    first: $first
    includeHidden: $includeHidden
    includeRead: $includeRead
  ) {
    nodes {
      ...FusionNotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${FusionNotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetNotificationHistoryDocument=lib_default`
    query getNotificationHistory($after: String, $first: Int) {
  notificationHistory(after: $after, first: $first) {
    nodes {
      ...NotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${NotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetSlackChannelTargetsDocument=lib_default`
    query getSlackChannelTargets($after: String, $first: Int, $ids: [String!]) {
  slackChannelTargets(input: {after: $after, first: $first, ids: $ids}) {
    ...GetSlackChannelTargetsResponseFragment
  }
}
    ${GetSlackChannelTargetsResponseFragmentFragmentDoc}`,GetSmsTargetsDocument=lib_default`
    query getSmsTargets {
  smsTarget {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,GetSourceConnectionDocument=lib_default`
    query getSourceConnection($input: GetSourcesInput, $first: Int, $after: String) {
  sources(getSourcesInput: $input, first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...SourceFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${SourceFragmentFragmentDoc}`,GetSourceGroupsDocument=lib_default`
    query getSourceGroups {
  sourceGroup {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,GetSourcesDocument=lib_default`
    query getSources {
  source {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,GetTargetGroupsDocument=lib_default`
    query getTargetGroups {
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,GetTelegramTargetsDocument=lib_default`
    query getTelegramTargets {
  telegramTarget {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,GetTenantConnectedWalletDocument=lib_default`
    query getTenantConnectedWallet($input: GetTenantConnectedWalletInput, $first: Int, $after: String) {
  tenantConnectedWallet(
    getTenantConnectedWalletInput: $input
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantConnectedWalletFragment
      user {
        ...TenantUserFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTenantUserDocument=lib_default`
    query getTenantUser($first: Int, $after: String) {
  tenantUser(first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantUserFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTopicsDocument=lib_default`
    query getTopics {
  topics {
    nodes {
      ...UserTopicFragment
    }
  }
}
    ${UserTopicFragmentFragmentDoc}`,GetUnreadNotificationHistoryCountDocument=lib_default`
    query getUnreadNotificationHistoryCount($cardId: String) {
  unreadNotificationHistoryCount(input: {cardId: $cardId}) {
    count
  }
}
    `,GetUserSettingsDocument=lib_default`
    query getUserSettings {
  userSettings {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,GetWeb3TargetsDocument=lib_default`
    query getWeb3Targets {
  web3Targets {
    ...GetWeb3TargetResponseFragment
  }
}
    ${GetWeb3TargetResponseFragmentFragmentDoc}`,GetWebPushTargetsDocument=lib_default`
    query getWebPushTargets($ids: [String!], $first: Int, $after: String) {
  webPushTargets(
    input: {ids: $ids, first: $first, after: $after}
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...WebPushTargetFragment
    }
    edges {
      cursor
      node {
        ...WebPushTargetFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${WebPushTargetFragmentFragmentDoc}`,defaultWrapper=(a,s,et,tt)=>a();function getSdk(a,s=defaultWrapper){return{addSourceToSourceGroup(et,tt){return s(at=>a.request(AddSourceToSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"addSourceToSourceGroup","mutation",et)},beginLogInByTransaction(et,tt){return s(at=>a.request(BeginLogInByTransactionDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"beginLogInByTransaction","mutation",et)},beginLogInWithWeb3(et,tt){return s(at=>a.request(BeginLogInWithWeb3Document,et,__spreadValues$1(__spreadValues$1({},tt),at)),"beginLogInWithWeb3","mutation",et)},broadcastMessage(et,tt){return s(at=>a.request(BroadcastMessageDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"broadcastMessage","mutation",et)},completeLogInByTransaction(et,tt){return s(at=>a.request(CompleteLogInByTransactionDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"completeLogInByTransaction","mutation",et)},completeLogInWithWeb3(et,tt){return s(at=>a.request(CompleteLogInWithWeb3Document,et,__spreadValues$1(__spreadValues$1({},tt),at)),"completeLogInWithWeb3","mutation",et)},connectWallet(et,tt){return s(at=>a.request(ConnectWalletDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"connectWallet","mutation",et)},createAlert(et,tt){return s(at=>a.request(CreateAlertDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createAlert","mutation",et)},createDirectPushAlert(et,tt){return s(at=>a.request(CreateDirectPushAlertDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createDirectPushAlert","mutation",et)},createDiscordTarget(et,tt){return s(at=>a.request(CreateDiscordTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createDiscordTarget","mutation",et)},createEmailTarget(et,tt){return s(at=>a.request(CreateEmailTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createEmailTarget","mutation",et)},createFusionAlerts(et,tt){return s(at=>a.request(CreateFusionAlertsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createFusionAlerts","mutation",et)},createSlackChannelTarget(et,tt){return s(at=>a.request(CreateSlackChannelTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createSlackChannelTarget","mutation",et)},createSmsTarget(et,tt){return s(at=>a.request(CreateSmsTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createSmsTarget","mutation",et)},createSource(et,tt){return s(at=>a.request(CreateSourceDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createSource","mutation",et)},createSourceGroup(et,tt){return s(at=>a.request(CreateSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createSourceGroup","mutation",et)},createTargetGroup(et,tt){return s(at=>a.request(CreateTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createTargetGroup","mutation",et)},createTelegramTarget(et,tt){return s(at=>a.request(CreateTelegramTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createTelegramTarget","mutation",et)},createTenantUser(et,tt){return s(at=>a.request(CreateTenantUserDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createTenantUser","mutation",et)},createWeb3Target(et,tt){return s(at=>a.request(CreateWeb3TargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createWeb3Target","mutation",et)},createWebPushTarget(et,tt){return s(at=>a.request(CreateWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"createWebPushTarget","mutation",et)},deleteAlert(et,tt){return s(at=>a.request(DeleteAlertDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteAlert","mutation",et)},deleteAlerts(et,tt){return s(at=>a.request(DeleteAlertsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteAlerts","mutation",et)},deleteDirectPushAlert(et,tt){return s(at=>a.request(DeleteDirectPushAlertDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteDirectPushAlert","mutation",et)},deleteDiscordTarget(et,tt){return s(at=>a.request(DeleteDiscordTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteDiscordTarget","mutation",et)},deleteEmailTarget(et,tt){return s(at=>a.request(DeleteEmailTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteEmailTarget","mutation",et)},deleteSlackChannelTarget(et,tt){return s(at=>a.request(DeleteSlackChannelTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteSlackChannelTarget","mutation",et)},deleteSmsTarget(et,tt){return s(at=>a.request(DeleteSmsTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteSmsTarget","mutation",et)},deleteSourceGroup(et,tt){return s(at=>a.request(DeleteSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteSourceGroup","mutation",et)},deleteTargetGroup(et,tt){return s(at=>a.request(DeleteTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteTargetGroup","mutation",et)},deleteTelegramTarget(et,tt){return s(at=>a.request(DeleteTelegramTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteTelegramTarget","mutation",et)},deleteUserAlert(et,tt){return s(at=>a.request(DeleteUserAlertDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteUserAlert","mutation",et)},deleteWeb3Target(et,tt){return s(at=>a.request(DeleteWeb3TargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteWeb3Target","mutation",et)},deleteWebPushTarget(et,tt){return s(at=>a.request(DeleteWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"deleteWebPushTarget","mutation",et)},logInByOidc(et,tt){return s(at=>a.request(LogInByOidcDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"logInByOidc","mutation",et)},logInFromDapp(et,tt){return s(at=>a.request(LogInFromDappDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"logInFromDapp","mutation",et)},logInFromService(et,tt){return s(at=>a.request(LogInFromServiceDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"logInFromService","mutation",et)},markFusionNotificationHistoryAsRead(et,tt){return s(at=>a.request(MarkFusionNotificationHistoryAsReadDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"markFusionNotificationHistoryAsRead","mutation",et)},publishFusionMessage(et,tt){return s(at=>a.request(PublishFusionMessageDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"publishFusionMessage","mutation",et)},refreshAuthorization(et,tt){return s(at=>a.request(RefreshAuthorizationDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"refreshAuthorization","mutation",et)},removeSourceFromSourceGroup(et,tt){return s(at=>a.request(RemoveSourceFromSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"removeSourceFromSourceGroup","mutation",et)},sendEmailTargetVerificationRequest(et,tt){return s(at=>a.request(SendEmailTargetVerificationRequestDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"sendEmailTargetVerificationRequest","mutation",et)},sendMessage(et,tt){return s(at=>a.request(SendMessageDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"sendMessage","mutation",et)},updateSourceGroup(et,tt){return s(at=>a.request(UpdateSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"updateSourceGroup","mutation",et)},updateTargetGroup(et,tt){return s(at=>a.request(UpdateTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"updateTargetGroup","mutation",et)},updateUserSettings(et,tt){return s(at=>a.request(UpdateUserSettingsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"updateUserSettings","mutation",et)},updateWebPushTarget(et,tt){return s(at=>a.request(UpdateWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"updateWebPushTarget","mutation",et)},verifyCbwTarget(et,tt){return s(at=>a.request(VerifyCbwTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"verifyCbwTarget","mutation",et)},verifyXmtpTarget(et,tt){return s(at=>a.request(VerifyXmtpTargetDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"verifyXmtpTarget","mutation",et)},verifyXmtpTargetViaXip42(et,tt){return s(at=>a.request(VerifyXmtpTargetViaXip42Document,et,__spreadValues$1(__spreadValues$1({},tt),at)),"verifyXmtpTargetViaXip42","mutation",et)},fetchData(et,tt){return s(at=>a.request(FetchDataDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"fetchData","query",et)},fetchFusionData(et,tt){return s(at=>a.request(FetchFusionDataDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"fetchFusionData","query",et)},findTenantConfig(et,tt){return s(at=>a.request(FindTenantConfigDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"findTenantConfig","query",et)},getActiveAlerts(et,tt){return s(at=>a.request(GetActiveAlertsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getActiveAlerts","query",et)},getAlerts(et,tt){return s(at=>a.request(GetAlertsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getAlerts","query",et)},getConfigurationForDapp(et,tt){return s(at=>a.request(GetConfigurationForDappDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getConfigurationForDapp","query",et)},getConnectedWallets(et,tt){return s(at=>a.request(GetConnectedWalletsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getConnectedWallets","query",et)},getDiscordTargets(et,tt){return s(at=>a.request(GetDiscordTargetsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getDiscordTargets","query",et)},getEmailTargets(et,tt){return s(at=>a.request(GetEmailTargetsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getEmailTargets","query",et)},getFilters(et,tt){return s(at=>a.request(GetFiltersDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getFilters","query",et)},getFusionNotificationHistory(et,tt){return s(at=>a.request(GetFusionNotificationHistoryDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getFusionNotificationHistory","query",et)},getNotificationHistory(et,tt){return s(at=>a.request(GetNotificationHistoryDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getNotificationHistory","query",et)},getSlackChannelTargets(et,tt){return s(at=>a.request(GetSlackChannelTargetsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getSlackChannelTargets","query",et)},getSmsTargets(et,tt){return s(at=>a.request(GetSmsTargetsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getSmsTargets","query",et)},getSourceConnection(et,tt){return s(at=>a.request(GetSourceConnectionDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getSourceConnection","query",et)},getSourceGroups(et,tt){return s(at=>a.request(GetSourceGroupsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getSourceGroups","query",et)},getSources(et,tt){return s(at=>a.request(GetSourcesDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getSources","query",et)},getTargetGroups(et,tt){return s(at=>a.request(GetTargetGroupsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getTargetGroups","query",et)},getTelegramTargets(et,tt){return s(at=>a.request(GetTelegramTargetsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getTelegramTargets","query",et)},getTenantConnectedWallet(et,tt){return s(at=>a.request(GetTenantConnectedWalletDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getTenantConnectedWallet","query",et)},getTenantUser(et,tt){return s(at=>a.request(GetTenantUserDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getTenantUser","query",et)},getTopics(et,tt){return s(at=>a.request(GetTopicsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getTopics","query",et)},getUnreadNotificationHistoryCount(et,tt){return s(at=>a.request(GetUnreadNotificationHistoryCountDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getUnreadNotificationHistoryCount","query",et)},getUserSettings(et,tt){return s(at=>a.request(GetUserSettingsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getUserSettings","query",et)},getWeb3Targets(et,tt){return s(at=>a.request(GetWeb3TargetsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getWeb3Targets","query",et)},getWebPushTargets(et,tt){return s(at=>a.request(GetWebPushTargetsDocument,et,__spreadValues$1(__spreadValues$1({},tt),at)),"getWebPushTargets","query",et)}}}var NotifiService=class{constructor(a,s){this._notifiSubService=s,this._typedClient=getSdk(a)}setJwt(a){this._jwt=a,this._notifiSubService.setJwt(a)}async logOut(){this._jwt=void 0,this._notifiSubService.setJwt(void 0)}async addSourceToSourceGroup(a){const s=this._requestHeaders();return this._typedClient.addSourceToSourceGroup(a,s)}async beginLogInByTransaction(a){const s=this._requestHeaders();return this._typedClient.beginLogInByTransaction(a,s)}async broadcastMessage(a){const s=this._requestHeaders();return this._typedClient.broadcastMessage(a,s)}async completeLogInByTransaction(a){var s,et;const tt=this._requestHeaders(),at=await this._typedClient.completeLogInByTransaction(a,tt),ct=(et=(s=at.completeLogInByTransaction)==null?void 0:s.authorization)==null?void 0:et.token;return ct!==void 0&&this._onAuthComplete(ct),at}async connectWallet(a){const s=this._requestHeaders();return await this._typedClient.connectWallet(a,s)}async createAlert(a){const s=this._requestHeaders();return this._typedClient.createAlert(a,s)}async createFusionAlerts(a){const s=this._requestHeaders();return this._typedClient.createFusionAlerts(a,s)}async createDirectPushAlert(a){const s=this._requestHeaders();return this._typedClient.createDirectPushAlert(a,s)}async createEmailTarget(a){const s=this._requestHeaders();return this._typedClient.createEmailTarget(a,s)}async deleteEmailTarget(a){const s=this._requestHeaders();return this._typedClient.deleteEmailTarget(a,s)}async createDiscordTarget(a){const s=this._requestHeaders();return this._typedClient.createDiscordTarget(a,s)}async deleteDiscordTarget(a){const s=this._requestHeaders();return this._typedClient.deleteDiscordTarget(a,s)}async createSlackChannelTarget(a){const s=this._requestHeaders();return this._typedClient.createSlackChannelTarget(a,s)}async deleteSlackChannelTarget(a){const s=this._requestHeaders();return this._typedClient.deleteSlackChannelTarget(a,s)}async createWeb3Target(a){const s=this._requestHeaders();return this._typedClient.createWeb3Target(a,s)}async deleteWeb3Target(a){const s=this._requestHeaders();return this._typedClient.deleteWeb3Target(a,s)}async createSmsTarget(a){const s=this._requestHeaders();return this._typedClient.createSmsTarget(a,s)}async deleteSmsTarget(a){const s=this._requestHeaders();return this._typedClient.deleteSmsTarget(a,s)}async createSource(a){const s=this._requestHeaders();return this._typedClient.createSource(a,s)}async createSourceGroup(a){const s=this._requestHeaders();return this._typedClient.createSourceGroup(a,s)}async createTargetGroup(a){const s=this._requestHeaders();return this._typedClient.createTargetGroup(a,s)}async deleteTelegramTarget(a){const s=this._requestHeaders();return this._typedClient.deleteTelegramTarget(a,s)}async createTenantUser(a){const s=this._requestHeaders();return this._typedClient.createTenantUser(a,s)}async createTelegramTarget(a){const s=this._requestHeaders();return this._typedClient.createTelegramTarget(a,s)}async deleteAlert(a){const s=this._requestHeaders();return this._typedClient.deleteAlert(a,s)}async deleteAlerts(a){const s=this._requestHeaders();return this._typedClient.deleteAlerts(a,s)}async DeleteDirectPushAlert(a){const s=this._requestHeaders();return this._typedClient.deleteDirectPushAlert(a,s)}async deleteUserAlert(a){const s=this._requestHeaders();return this._typedClient.deleteUserAlert(a,s)}async deleteSourceGroup(a){const s=this._requestHeaders();return this._typedClient.deleteSourceGroup(a,s)}async deleteTargetGroup(a){const s=this._requestHeaders();return this._typedClient.deleteTargetGroup(a,s)}async fetchData(a){const s=this._requestHeaders();return this._typedClient.fetchData(a,s)}async fetchFusionData(a){const s=this._requestHeaders();return this._typedClient.fetchFusionData(a,s)}async findTenantConfig(a){const s=this._requestHeaders();return this._typedClient.findTenantConfig(a,s)}async getAlerts(a){const s=this._requestHeaders();return this._typedClient.getAlerts(a,s)}async getActiveAlerts(a){const s=this._requestHeaders();return this._typedClient.getActiveAlerts(a,s)}async getConfigurationForDapp(a){const s=this._requestHeaders();return this._typedClient.getConfigurationForDapp(a,s)}async getConnectedWallets(a){const s=this._requestHeaders();return this._typedClient.getConnectedWallets(a,s)}async getEmailTargets(a){const s=this._requestHeaders();return this._typedClient.getEmailTargets(a,s)}async getDiscordTargets(a){const s=this._requestHeaders();return this._typedClient.getDiscordTargets(a,s)}async getSlackChannelTargets(a){const s=this._requestHeaders();return this._typedClient.getSlackChannelTargets(a,s)}async getWeb3Targets(a){const s=this._requestHeaders();return this._typedClient.getWeb3Targets(a,s)}async getFilters(a){const s=this._requestHeaders();return this._typedClient.getFilters(a,s)}async getFusionNotificationHistory(a){const s=this._requestHeaders();return this._typedClient.getFusionNotificationHistory(a,s)}async getNotificationHistory(a){const s=this._requestHeaders();return this._typedClient.getNotificationHistory(a,s)}async getSmsTargets(a){const s=this._requestHeaders();return this._typedClient.getSmsTargets(a,s)}async getSourceConnection(a){const s=this._requestHeaders();return this._typedClient.getSourceConnection(a,s)}async getSourceGroups(a){const s=this._requestHeaders();return this._typedClient.getSourceGroups(a,s)}async getSources(a){const s=this._requestHeaders();return this._typedClient.getSources(a,s)}async getTargetGroups(a){const s=this._requestHeaders();return this._typedClient.getTargetGroups(a,s)}async getTelegramTargets(a){const s=this._requestHeaders();return this._typedClient.getTelegramTargets(a,s)}async getTenantConnectedWallets(a){const s=this._requestHeaders();return this._typedClient.getTenantConnectedWallet(a,s)}async getTenantUser(a){const s=this._requestHeaders();return this._typedClient.getTenantUser(a,s)}async getTopics(a){const s=this._requestHeaders();return this._typedClient.getTopics(a,s)}async getUnreadNotificationHistoryCount(a){const s=this._requestHeaders();return this._typedClient.getUnreadNotificationHistoryCount(a,s)}subscribeNotificationHistoryStateChanged(a,s,et){return this._notifiSubService.subscribe(this._jwt,stateChangedSubscriptionQuery,a,s,et)}async wsDispose(){this._notifiSubService.disposeClient()}addEventListener(a,s,et,tt){return this._notifiSubService.addEventListener(a,s,et,tt)}removeEventListener(a,s){return this._notifiSubService.removeEventListener(a,s)}async getUserSettings(a){const s=this._requestHeaders();return this._typedClient.getUserSettings(a,s)}async logInFromDapp(a){var s,et;const tt=this._requestHeaders(),at=await this._typedClient.logInFromDapp(a,tt),ct=(et=(s=at.logInFromDapp)==null?void 0:s.authorization)==null?void 0:et.token;return ct!==void 0&&this._onAuthComplete(ct),at}async logInFromService(a){var s;const et=this._requestHeaders(),tt=await this._typedClient.logInFromService(a,et),at=(s=tt.logInFromService)==null?void 0:s.token;return at!==void 0&&this._onAuthComplete(at),tt}async logInByOidc(a){var s,et,tt;const at=this._requestHeaders(),ct=await this._typedClient.logInByOidc(a,at),ut=(tt=(et=(s=ct.logInByOidc)==null?void 0:s.user)==null?void 0:et.authorization)==null?void 0:tt.token;return ut!==void 0&&this._onAuthComplete(ut),ct}async markFusionNotificationHistoryAsRead(a){const s=this._requestHeaders();return this._typedClient.markFusionNotificationHistoryAsRead(a,s)}async updateUserSettings(a){const s=this._requestHeaders();return this._typedClient.updateUserSettings(a,s)}async refreshAuthorization(a){var s;const et=this._requestHeaders(),tt=await this._typedClient.refreshAuthorization(a,et),at=(s=tt.refreshAuthorization)==null?void 0:s.token;return at!==void 0&&this._onAuthComplete(at),tt}async removeSourceFromSourceGroup(a){const s=this._requestHeaders();return this._typedClient.removeSourceFromSourceGroup(a,s)}async sendEmailTargetVerificationRequest(a){const s=this._requestHeaders();return this._typedClient.sendEmailTargetVerificationRequest(a,s)}async sendMessage(a){const s=this._requestHeaders();return this._typedClient.sendMessage(a,s)}async updateSourceGroup(a){const s=this._requestHeaders();return this._typedClient.updateSourceGroup(a,s)}async updateTargetGroup(a){const s=this._requestHeaders();return this._typedClient.updateTargetGroup(a,s)}async beginLogInWithWeb3(a){const s=this._requestHeaders();return this._typedClient.beginLogInWithWeb3(a,s)}async completeLogInWithWeb3(a){var s,et,tt;const at=this._requestHeaders(),ct=await this._typedClient.completeLogInWithWeb3(a,at),ut=(tt=(et=(s=ct==null?void 0:ct.completeLogInWithWeb3)==null?void 0:s.user)==null?void 0:et.authorization)==null?void 0:tt.token;return ut!==void 0&&this._onAuthComplete(ut),ct}async verifyCbwTarget(a){const s=this._requestHeaders();return this._typedClient.verifyCbwTarget(a,s)}async verifyXmtpTarget(a){const s=this._requestHeaders();return this._typedClient.verifyXmtpTarget(a,s)}async verifyXmtpTargetViaXip42(a){const s=this._requestHeaders();return this._typedClient.verifyXmtpTargetViaXip42(a,s)}async createWebPushTarget(a){const s=this._requestHeaders();return this._typedClient.createWebPushTarget(a,s)}async updateWebPushTarget(a){const s=this._requestHeaders();return this._typedClient.updateWebPushTarget(a,s)}async deleteWebPushTarget(a){const s=this._requestHeaders();return this._typedClient.deleteWebPushTarget(a,s)}async getWebPushTargets(a){const s=this._requestHeaders();return this._typedClient.getWebPushTargets(a,s)}_onAuthComplete(a){this._jwt=a,this._notifiSubService.setJwt(a)}_requestHeaders(){const s={"X-Request-Id":v4(),"X-Notifi-Client-Version":version};return this._jwt!==void 0&&(s.Authorization=`Bearer ${this._jwt}`),s}},NotifiEventEmitter=class{constructor(){this.listeners={}}on(a,s,et){this.listeners[a]||(this.listeners[a]={}),this.listeners[a][et]=s}off(a,s){var et;(et=this.listeners[a])!=null&&et[s]&&(this.listeners[a][s].subscription.unsubscribe(),delete this.listeners[a][s])}emit(a,s,...et){var tt,at;(tt=this.listeners[a])!=null&&tt[s]&&(at=this.listeners[a])!=null&&at[s]&&this.listeners[a][s].callback(...et)}},NotifiSubscriptionService=class{constructor(a,s){this.wsurl=a,this.webSocketImpl=s,this.eventEmitter=new NotifiEventEmitter,this.setJwt=et=>{this._jwt=et},this.addEventListener=(et,tt,at,ct)=>{const ut=Math.random().toString(36).slice(2,11),bt={subscriptionQuery:"",id:ut,onError:at,onComplete:ct};switch(et){case"stateChanged":bt.subscriptionQuery=stateChangedSubscriptionQuery;break;case"tenantActiveAlertChanged":bt.subscriptionQuery=tenantActiveAlertChangedSubscriptionQuery;break;default:throw new Error("Unknown event")}const wt=this._subscribe(bt);if(!wt)throw new Error("NotifiSubscriptionService.addEventListener: Subscription failed");return this.eventEmitter.on(et,{callback:tt,subscription:wt},ut),ut},this.removeEventListener=(et,tt)=>this.eventEmitter.off(et,tt),this._subscribe=({subscriptionQuery:et,id:tt,onError:at,onComplete:ct})=>(this._wsClient||this._initializeClient(),!this._wsClient||!this._jwt?null:this._toObservable(this._wsClient,{query:et,extensions:{type:"start"}}).subscribe({next:wt=>{switch(et){case stateChangedSubscriptionQuery:const Et=getSubscriptionData("stateChanged",wt);if(!Et)throw new Error("Invalid stateChanged event data");this.eventEmitter.emit("stateChanged",tt,Et);break;case tenantActiveAlertChangedSubscriptionQuery:const Ft=getSubscriptionData("tenantActiveAlertChanged",wt);if(!Ft)throw new Error("Invalid tenantActiveAlertChanged event data");this.eventEmitter.emit("tenantActiveAlertChanged",tt,Ft);break;default:console.warn("Unknown subscription query:",et)}},error:at,complete:ct})),this._initializeClient=()=>{if(!this._jwt)throw new Error("NotifiSubscriptionService._initializeClient: Missing JWT");this._wsClient=createClient({url:this.wsurl,connectionParams:{Authorization:`Bearer ${this._jwt}`},webSocketImpl:this.webSocketImpl})},this.disposeClient=()=>{this._wsClient&&(this._jwt=void 0,this._wsClient.terminate(),this._wsClient.dispose())},this.subscribe=(et,tt,at,ct,ut)=>(this._jwt=et,this._wsClient||this._initializeClient(),this._wsClient?this._toObservable(this._wsClient,{query:tt,extensions:{type:"start"}}).subscribe({next:Et=>{at&&at(Et)},error:Et=>{ct&&Et instanceof Error&&ct(Et)},complete:()=>{ut&&ut()}}):null)}_toObservable(a,s){return relayRuntime.Observable.create(et=>a.subscribe(s,{next:tt=>et.next(tt),error:tt=>{tt instanceof Error&&et.error(tt)},complete:()=>et.complete()}))}},getSubscriptionData=(a,s)=>{if(typeof s!="object"||s===null||!("data"in s))return null;const{data:et}=s;return typeof et=="object"&&et!==null&&a in et?et[a]:null},browser=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const WebSocket$1=getDefaultExportFromCjs$2(browser);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(a,s,et)=>s in a?__defProp(a,s,{enumerable:!0,configurable:!0,writable:!0,value:et}):a[s]=et,__spreadValues=(a,s)=>{for(var et in s||(s={}))__hasOwnProp.call(s,et)&&__defNormalProp(a,et,s[et]);if(__getOwnPropSymbols)for(var et of __getOwnPropSymbols(s))__propIsEnum.call(s,et)&&__defNormalProp(a,et,s[et]);return a},__spreadProps=(a,s)=>__defProps(a,__getOwnPropDescs(s)),COSMOS_BLOCKCHAINS=["COSMOS","OSMOSIS","NEUTRON","ELYS","ARCHWAY","AXELAR","AGORIC","ORAI","KAVA","CELESTIA","NIBIRU","DYMENSION","PERSISTENCE","DYDX","XION"],EVM_BLOCKCHAINS=["ETHEREUM","POLYGON","ARBITRUM","AVALANCHE","BINANCE","BOB","MONAD","BASE","BLAST","CELO","MANTLE","SCROLL","LINEA","MANTA","BERACHAIN","OPTIMISM","THE_ROOT_NETWORK","SEI","SONIC","SWELLCHAIN","ROME","ZKSYNC"],APTOS_BLOCKCHAINS=["APTOS","MOVEMENT"],SOLANA_BLOCKCHAINS=["SOLANA"],BTC_BLOCKCHAINS=["BITCOIN","ARCH"],UNMAINTAINED_BLOCKCHAINS=["ACALA","EVMOS","ABSTRACT"];function isUnmaintainedBlockchain(a){return UNMAINTAINED_BLOCKCHAINS.includes(a)}function isUsingUnmaintainedBlockchain(a){return isUnmaintainedBlockchain(a.walletBlockchain)}function isCosmosBlockchain(a){return COSMOS_BLOCKCHAINS.includes(a)}function isUsingCosmosBlockchain(a){return isCosmosBlockchain(a.walletBlockchain)}function isEvmBlockchain(a){return EVM_BLOCKCHAINS.includes(a)}function isUsingEvmBlockchain(a){return isEvmBlockchain(a.walletBlockchain)}function isAptosBlockchain(a){return APTOS_BLOCKCHAINS.includes(a)}function isUsingAptosBlockchain(a){return isAptosBlockchain(a.walletBlockchain)}function isBtcBlockchain(a){return BTC_BLOCKCHAINS.includes(a)}function isUsingBtcBlockchain(a){return isBtcBlockchain(a.walletBlockchain)}function isSolanaBlockchain(a){return SOLANA_BLOCKCHAINS.includes(a)}function isUsingSolanaBlockchain(a){return isSolanaBlockchain(a.walletBlockchain)}var checkIsConfigWithPublicKeyAndAddress=a=>"accountAddress"in a,checkIsConfigWithPublicKey=a=>"walletPublicKey"in a,checkIsConfigWithDelegate=a=>"delegatedAddress"in a,checkIsConfigWithOidc=a=>a.walletBlockchain==="OFF_CHAIN",envUrl=(a,s)=>{a||(a="Production");let et="";switch(a){case"Development":et="://api.dev.notifi.network/gql";break;case"Local":et="://localhost:5001/gql";break;case"Production":et="://api.notifi.network/gql";break;case"Staging":et="://api.stg.notifi.network/gql"}return`${s==="websocket"?"wss":a==="Local"?"http":"https"}${et}`},notNullOrEmpty=a=>a!=null,packFilterOptions=a=>a===null?"{}":JSON.stringify(a),createRefResolver=a=>(s,et,tt)=>{if(et.type==="value")return et.value;{if(et.ref===null)throw new Error(`Invalid configuration: Ref ${s} is null`);const at=tt[et.ref];if(a(at))return at;throw new Error(`Invalid value provided for ${s}: ${at}`)}},resolveStringRef=createRefResolver(a=>typeof a=="string"),resolveNumberRef=createRefResolver(a=>typeof a=="number"&&!Number.isNaN(a)),resolveStringArrayRef=createRefResolver(a=>Array.isArray(a)&&a.every(s=>typeof s=="string")),resolveCheckRatioArrayRef=createRefResolver(a=>Array.isArray(a)&&a.every(s=>typeof s=="object"&&typeof s.type=="string"&&typeof s.ratio=="number"&&!Number.isNaN(s.ratio))),areIdsEqual=(a,s)=>{const et=new Set(a);return s.length===et.size&&s.every(tt=>tt!==void 0&&tt.id!==void 0&&et.has(tt.id))},ensureDirectPushSource=async(a,s,et)=>{const at=(await a.getSources({})).source,ct=at==null?void 0:at.find(ut=>ut!==void 0&&ut.type==="DIRECT_PUSH");if(ct===void 0)throw new Error("Failed to identify direct push source");return ct},ensureFusionSource=async(a,s,et)=>{const tt=resolveStringRef(s.name,s.sourceAddress,et),at=resolveStringRef(s.name,s.fusionEventId,et),ut=(await a.getSources({})).source,bt=ut==null?void 0:ut.find(Ft=>Ft!==void 0&&Ft.type==="FUSION_SOURCE"&&Ft.blockchainAddress===tt&&Ft.fusionEventTypeId===at);if(bt!==void 0)return bt;const Et=(await a.createSource({type:"FUSION_SOURCE",blockchainAddress:tt,fusionEventTypeId:at})).createSource;if(Et===void 0)throw new Error("Failed to create source");return Et},ensureBroadcastSource=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const ct=resolveStringRef(s.name,s.broadcastId,et),ut=at.find(Et=>(Et==null?void 0:Et.type)==="BROADCAST"&&Et.blockchainAddress===ct);if(ut!==void 0)return ut;const wt=(await a.createSource({type:"BROADCAST",blockchainAddress:ct})).createSource;if(wt===void 0)throw new Error("Failed to create source");return wt},ensureTradingPairSource=async(a,s,et)=>{const at=(await a.getSources({})).source,ct=at==null?void 0:at.find(ut=>(ut==null?void 0:ut.type)==="DIRECT_PUSH");if(ct===void 0)throw new Error("Failed to identify trading pair source (=directPush)");return ct},ensurePriceChangeSources=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const ct=[],ut=new Set(s.tokenIds);if(at.forEach(bt=>{(bt==null?void 0:bt.type)==="COIN_PRICE_CHANGES"&&(ut.delete(bt.blockchainAddress),ct.push(bt))}),ut.size>0){let bt=Promise.resolve();ut.forEach(wt=>{bt=bt.then(async()=>{const Ft=(await a.createSource({type:"COIN_PRICE_CHANGES",blockchainAddress:wt})).createSource;Ft!==void 0&&ct.push(Ft)})}),await bt}return ct},ensureWalletBalanceSources=async(a,s,et)=>{const at=(await a.getConnectedWallets({})).connectedWallet;if(!at)throw new Error("Failed to fetch connected wallets");const ct=at.map(Ft=>{var jt;const Lt=(Vt=>{switch(Vt){case"ACALA":return"ACALA_WALLET";case"APTOS":return"APTOS_WALLET";case"MOVEMENT":return"MOVEMENT_WALLET";case"ARBITRUM":return"ARBITRUM_WALLET";case"AVALANCHE":return"AVALANCHE_WALLET";case"BINANCE":return"BINANCE_WALLET";case"ETHEREUM":return"ETHEREUM_WALLET";case"THE_ROOT_NETWORK":return"THE_ROOT_NETWORK";case"BASE":return"ETHEREUM_WALLET";case"BLAST":return"BLAST_WALLET";case"CELO":return"CELO_WALLET";case"MANTLE":return"MANTLE_WALLET";case"LINEA":return"LINEA_WALLET";case"MONAD":return"MONAD_WALLET";case"MANTA":return"MANTA_WALLET";case"SCROLL":return"SCROLL_WALLET";case"POLYGON":return"POLYGON_WALLET";case"SOLANA":return"SOLANA_WALLET";case"OPTIMISM":return"OPTIMISM_WALLET";case"SUI":return"SUI_WALLET";case"ZKSYNC":return"ZKSYNC_WALLET";case"ARCHWAY":return"ARCHWAY_WALLET";case"ELYS":return"ELYS_WALLET";case"AXELAR":return"AXELAR_WALLET";case"NEUTRON":return"NEUTRON_WALLET";case"BERACHAIN":return"BERACHAIN_WALLET";case"XION":return"XION_WALLET";case"AGORIC":return"AGORIC_WALLET";case"ORAI":return"ORAI_WALLET";case"KAVA":return"KAVA_WALLET";case"CELESTIA":return"CELESTIA_WALLET";case"COSMOS":return"COSMOS_WALLET";case"DYMENSION":return"DYMENSION_WALLET";case"PERSISTENCE":return"PERSISTENCE_WALLET";case"DYDX":return"DYDX_WALLET";default:throw new Error("Unsupported walletType")}})(Ft==null?void 0:Ft.walletBlockchain),Ut=(jt=Ft==null?void 0:Ft.address)!=null?jt:"";return{name:`${Lt} ${Ut}`,blockchainAddress:Ut,type:Lt}}),bt=(await a.getSources({})).source;if(bt===void 0)throw new Error("Failed to fetch sources");const wt=ct.map(async Ft=>{const jt=bt.find(Ut=>(Ut==null?void 0:Ut.name)===Ft.name);if(jt)return jt;const{createSource:Lt}=await a.createSource(Ft);if(!Lt)throw new Error(`Failed to create ${Ft.type} source`);return Lt});return await Promise.all(wt)},normalizeSourceAddress=(a,s)=>{switch(a){case"ETHEREUM_WALLET":case"POLYGON_WALLET":case"ARBITRUM_WALLET":case"BINANCE_WALLET":case"OPTIMISM_WALLET":case"AVALANCHE_WALLET":case"ZKSYNC_WALLET":case"BENQI":case"DELTA_PRIME":case"DELTA_PRIME_LENDING_RATES":case"MOVEMENT_WALLET":case"APTOS_WALLET":return normalizeHexString(s);default:return s}},normalizeHexString=a=>{let s=a;return a!==""&&(s=a.toLowerCase(),s.startsWith("0x")||(s="0x"+s)),s},ensureCustomSources=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const ct=resolveStringRef(s.name,s.sourceAddress,et),ut=normalizeSourceAddress(s.sourceType,ct),bt=at.find(Ft=>(Ft==null?void 0:Ft.type)===s.sourceType&&Ft.blockchainAddress===ut);if(bt!==void 0)return bt;const Et=(await a.createSource({type:s.sourceType,blockchainAddress:ut})).createSource;if(Et===void 0)throw new Error("Failed to create source");return Et},ensureXMTPSources=async(a,s,et)=>{const at=(await a.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const bt=resolveStringArrayRef(s.name,s.XMTPTopics,et).map(Et=>({name:Et,blockchainAddress:Et,type:"XMTP"})).map(async Et=>{const Ft=at.find(Lt=>(Lt==null?void 0:Lt.type)==="XMTP"&&Lt.name===Et.name);if(Ft)return Ft;const{createSource:jt}=await a.createSource(Et);if(!jt)throw new Error("Failed to create XMTP source");return jt});return await Promise.all(bt)},ensureHealthCheckSources=async(a,s,et)=>{const at=(await a.getSources({})).source,ct=at==null?void 0:at.find(ut=>(ut==null?void 0:ut.type)==="DIRECT_PUSH");if(ct===void 0)throw new Error("Failed to identify Health Check source (=directPush)");return ct},ensureSources=async(a,s,et)=>{switch(s.type){case"directPush":return[await ensureDirectPushSource(a)];case"broadcast":return[await ensureBroadcastSource(a,s,et)];case"tradingPair":return[await ensureTradingPairSource(a)];case"priceChange":return await ensurePriceChangeSources(a,s);case"walletBalance":return await ensureWalletBalanceSources(a);case"custom":return[await ensureCustomSources(a,s,et)];case"XMTP":return await ensureXMTPSources(a,s,et);case"healthCheck":return[await ensureHealthCheckSources(a)];case"fusionToggle":case"fusion":return[await ensureFusionSource(a,s,et)];case"label":throw new Error("Unsupported event type");default:throw new Error("Unsupported event type")}},ensureSourceGroup=async(a,s,et)=>{var tt,at;const ut=(tt=(await a.getSourceGroups({})).sourceGroup)==null?void 0:tt.find(Et=>Et!==void 0&&Et.name===s);if(ut===void 0){const Ft=(await a.createSourceGroup({name:s,sourceIds:et})).createSourceGroup;if(Ft===void 0)throw new Error("Failed to create source group");return Ft}if(areIdsEqual(et,(at=ut.sources)!=null?at:[]))return ut;const wt=(await a.updateSourceGroup({id:ut.id,name:s,sourceIds:et})).updateSourceGroup;if(wt===void 0)throw new Error("Failed to update source group");return wt},getDirectPushFilter=(a,s,et)=>{var tt;const at=(tt=a.applicableFilters)==null?void 0:tt.find(bt=>(bt==null?void 0:bt.filterType)==="DIRECT_TENANT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter");const ut={directMessageType:resolveStringRef(s.name,s.directPushId,et)};return{filter:at,filterOptions:ut}},getBroadcastFilter=(a,s,et)=>{var tt;const at=(tt=a.applicableFilters)==null?void 0:tt.find(ct=>(ct==null?void 0:ct.filterType)==="BROADCAST_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter");return{filter:at,filterOptions:{}}},tradingPairInputsValidator=a=>!(typeof a.direction!="string"||typeof a.price!="number"||typeof a.pair!="string"),getTradingPairFilter=(a,s,et)=>{var tt;const at=(tt=a.applicableFilters)==null?void 0:tt.find(wt=>(wt==null?void 0:wt.filterType)==="DIRECT_TENANT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve TradingPair filter (=directMessage)");const ct=resolveStringArrayRef(s.name,s.tradingPairs,et);if(ct.length===0)throw new Error("No trading pairs found");const ut=tradingPairInputsValidator(et)?et.pair:ct[0],bt=tradingPairInputsValidator(et)?et.price.toFixed(8):"1.00000000";return{filter:at,filterOptions:{tradingPair:ut,values:{and:[{key:"spotPrice",op:et.direction==="above"?"gt":"lt",value:bt}]}}}},getPriceChangeFilter=(a,s,et)=>{const tt=a.flatMap(at=>{var ct;return(ct=at.applicableFilters)!=null?ct:[]}).find(at=>(at==null?void 0:at.filterType)==="COIN_PRICE_CHANGE_EVENTS");if(tt===void 0)throw new Error("Failed to retrieve filter");return{filter:tt,filterOptions:{}}},getWalletBalanceSourceFilter=(a,s,et)=>{var tt;const at=(tt=a.applicableFilters)==null?void 0:tt.find(ct=>(ct==null?void 0:ct.filterType)==="BALANCE");if(at===void 0)throw new Error("Failed to retrieve filter: wallet balance");return{filter:at,filterOptions:{}}},getFusionSourceFilter=(a,s,et)=>{var tt,at;const ct=(tt=a.applicableFilters)==null?void 0:tt.find(bt=>(bt==null?void 0:bt.filterType)==="FUSION_SOURCE");if(ct===void 0)throw new Error("Failed to retrieve fusion source filter");let ut={};if(s.selectedUIType==="TOGGLE"||s.selectedUIType==="MULTI_THRESHOLD")s.alertFrequency!==void 0&&(ut={alertFrequency:s.alertFrequency});else if(s.selectedUIType==="HEALTH_CHECK"){const bt=`${s.name}__healthRatio`;et[bt]||(et[`${s.name}__healthRatio`]=s.checkRatios[1].ratio);const wt=resolveNumberRef(bt,{type:"ref",ref:bt},et),Et=`${s.name}__healthThresholdDirection`;et[Et]||(et[Et]=s.checkRatios[0].type==="above"?"above":"below");const Ft=(at=resolveStringRef(Et,{type:"ref",ref:Et},et))!=null?at:s.checkRatios[0].ratio;if(!wt||!Ft)throw new Error("Failed to retrieve health ratio or direction");ut={alertFrequency:s.alertFrequency,threshold:s.numberType==="percentage"?wt/100:wt,thresholdDirection:Ft==="above"?"above":"below"}}return{filter:ct,filterOptions:ut}},getCustomFilterOptions=(a,s)=>{var et,tt;switch(a.selectedUIType){case"TOGGLE":return a.filterOptions;case"HEALTH_CHECK":{const at=`${a.name}__healthRatio`,ct=(et=resolveNumberRef(at,{type:"ref",ref:at},s))!=null?et:a.checkRatios[0].ratio,ut=`${a.name}__healthThresholdDirection`,bt=(tt=resolveStringRef(ut,{type:"ref",ref:ut},s))!=null?tt:a.checkRatios[0].ratio;if(!ct||!bt)throw new Error("Failed to retrieve health ratio or direction");return{alertFrequency:a.alertFrequency,threshold:a.numberType==="percentage"?ct/100:ct,thresholdDirection:bt==="above"?"above":"below"}}}},getCustomFilter=(a,s,et)=>{var tt;const at=(tt=a.applicableFilters)==null?void 0:tt.find(ct=>(ct==null?void 0:ct.filterType)===s.filterType);if(at===void 0)throw new Error("Failed to retrieve filter");return{filter:at,filterOptions:getCustomFilterOptions(s,et)}},getXMTPFilter=(a,s,et)=>{var tt;const at=(tt=a.applicableFilters)==null?void 0:tt.find(ct=>(ct==null?void 0:ct.filterType)==="WEB3_CHAT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter: XMTP");return{filter:at,filterOptions:{}}},checkInputsIsWithIndex=a=>"index"in a,getHealthCheckFilter=(a,s,et)=>{var tt;const at=(tt=a.applicableFilters)==null?void 0:tt.find(Et=>(Et==null?void 0:Et.filterType)==="VALUE_THRESHOLD");if(at===void 0)throw new Error("Failed to retrieve filter: healthCheck");const ct=resolveCheckRatioArrayRef(s.name,s.checkRatios,et);let ut=ct[0].ratio,bt=ct[0].type;const wt=Et=>"customPercentage"in Et&&"thresholdDirection"in Et;return checkInputsIsWithIndex(et)?(ut=ct[et.index].ratio,bt=ct[et.index].type):wt(et)&&(ut=et.customPercentage,bt=et.thresholdDirection),{filter:at,filterOptions:{alertFrequency:s.alertFrequency,threshold:ut,thresholdDirection:bt}}},ensureSourceAndFilters=async(a,s,et)=>{const tt=await ensureSources(a,s,et),at=await ensureSourceGroup(a,s.name,tt.map(ct=>ct.id));switch(s.type){case"directPush":{const{filter:ct,filterOptions:ut}=getDirectPushFilter(tt[0],s,et);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"broadcast":{const{filter:ct,filterOptions:ut}=getBroadcastFilter(tt[0]);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"tradingPair":{if(!tradingPairInputsValidator(et))throw new Error("Invalid tradingPair inputs");const{filter:ct,filterOptions:ut}=getTradingPairFilter(tt[0],s,et);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"priceChange":{const{filter:ct,filterOptions:ut}=getPriceChangeFilter(tt);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"custom":{const{filter:ct,filterOptions:ut}=getCustomFilter(tt[0],s,et);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"XMTP":{const{filter:ct,filterOptions:ut}=getXMTPFilter(tt[0]);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"healthCheck":{const{filter:ct,filterOptions:ut}=getHealthCheckFilter(tt[0],s,et);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"label":throw new Error("Unsupported event type");case"walletBalance":{const{filter:ct,filterOptions:ut}=getWalletBalanceSourceFilter(tt[0]);return{sourceGroup:at,filter:ct,filterOptions:ut}}case"fusionToggle":case"fusion":{const{filter:ct,filterOptions:ut}=getFusionSourceFilter(tt[0],s,et);return{sourceGroup:at,filter:ct,filterOptions:ut}}default:throw new Error("Unsupported event type")}},ensureTarget=(a,s,et,tt)=>async(at,ct)=>{if(ct===void 0)return;const ut=await s(at),bt=tt!==void 0?tt(ct):ct,wt=ut==null?void 0:ut.find(Ft=>et(Ft)===bt);return wt!==void 0?wt.id:(await a(at,bt)).id},ensureEmail=ensureTarget(async(a,s)=>{const tt=(await a.createEmailTarget({name:s.toLowerCase(),value:s.toLowerCase()})).createEmailTarget;if(tt===void 0)throw new Error("Failed to create email target");return tt},async a=>(await a.getEmailTargets({})).emailTarget,a=>{var s;return(s=a==null?void 0:a.emailAddress)==null?void 0:s.toLowerCase()},a=>a.toLowerCase()),ensureSms=ensureTarget(async(a,s)=>{const tt=(await a.createSmsTarget({name:s,value:s})).createSmsTarget;if(tt===void 0)throw new Error("Failed to create sms target");return tt},async a=>(await a.getSmsTargets({})).smsTarget,a=>a==null?void 0:a.phoneNumber),renewTelegram=ensureTarget(async(a,s)=>{const tt=(await a.createTelegramTarget({name:s,value:s})).createTelegramTarget;if(tt===void 0)throw new Error("Failed to create telegramTarget");return tt},async a=>(await a.getTelegramTargets({})).telegramTarget,a=>a==null?void 0:a.name,()=>"Default"),ensureDiscord=ensureTarget(async(a,s)=>{const tt=(await a.createDiscordTarget({name:s,value:s})).createDiscordTarget;if(tt===void 0)throw new Error("Failed to create discordTarget");return tt},async a=>(await a.getDiscordTargets({})).discordTarget,a=>a==null?void 0:a.name,()=>"Default"),ensureSlack=ensureTarget(async(a,s)=>{const tt=(await a.createSlackChannelTarget({name:s,value:s})).createSlackChannelTarget.slackChannelTarget;if(tt===void 0)throw new Error("Failed to create slackTarget");return tt},async a=>{var s;return(s=(await a.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:s.nodes},a=>a==null?void 0:a.name,()=>"Default"),ensureWeb3=ensureTarget(async(a,s)=>{const tt=(await a.createWeb3Target({name:s,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target;if(tt===void 0||tt.id===void 0)throw new Error("Failed to create web3Target");return tt},async a=>{var s;return(s=(await a.getWeb3Targets({})).web3Targets)==null?void 0:s.nodes},a=>a==null?void 0:a.name,()=>"Default"),ensureTelegram=ensureTarget(async(a,s)=>{const tt=(await a.createTelegramTarget({name:s.toLowerCase(),value:s.toLowerCase()})).createTelegramTarget;if(tt===void 0)throw new Error("Failed to create telegramTarget");return tt},async a=>(await a.getTelegramTargets({})).telegramTarget,a=>{var s;return(s=a==null?void 0:a.telegramId)==null?void 0:s.toLowerCase()},a=>a.toLowerCase()),getEnvPrefix=a=>{switch(a){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createInMemoryStorageDriver=a=>{let s=`${getEnvPrefix(a.env||"Production")}:${a.tenantId}:${a.walletBlockchain}`;checkIsConfigWithOidc(a)?s+=`:${a.userAccount}`:checkIsConfigWithPublicKeyAndAddress(a)?s+=`:${a.accountAddress}:${a.authenticationKey}`:checkIsConfigWithDelegate(a)?s+=`:${a.delegatorAddress}`:s+=`:${a.walletPublicKey}`;const et={};return{get:at=>{const ct=`${s}:${at}`;let ut=null;if(ct in et){const bt=et[ct];ut=JSON.parse(bt)}return Promise.resolve(ut)},set:(at,ct)=>{const ut=`${s}:${at}`;return ct===null?delete et[ut]:et[ut]=JSON.stringify(ct),Promise.resolve()},has:at=>{const ct=`${s}:${at}`;return Promise.resolve(ct in et)}}},KEY_AUTHORIZATION="authorization",KEY_ROLES="roles",NotifiFrontendStorage=class{constructor(a){this._driver=a}getAuthorization(){return this._driver.get(KEY_AUTHORIZATION)}setAuthorization(a){return this._driver.set(KEY_AUTHORIZATION,a)}hasAuthorization(){return this._driver.has(KEY_AUTHORIZATION)}getRoles(){return this._driver.get(KEY_ROLES)}setRoles(a){return this._driver.set(KEY_ROLES,a)}hasRoles(){return this._driver.has(KEY_ROLES)}};localforage.config({name:"notifi"});var getEnvPrefix2=a=>{switch(a||(a="Production"),a){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createLocalForageStorageDriver=a=>{let s=`${getEnvPrefix2(a.env)}:${a.tenantId}:${a.walletBlockchain}`;return checkIsConfigWithOidc(a)?s+=`:${a.userAccount}`:checkIsConfigWithPublicKeyAndAddress(a)?s+=`:${a.accountAddress}:${a.authenticationKey}`:checkIsConfigWithDelegate(a)?s+=`:${a.delegatorAddress}`:s+=`:${a.walletPublicKey}`,{get:async tt=>await localforage.getItem(`${s}:${tt}`),set:async(tt,at)=>{await localforage.setItem(`${s}:${tt}`,at)},has:async tt=>(await localforage.keys()).indexOf(`${s}:${tt}`)>=0}},alterTarget=async a=>{var s,et,tt,at,ct,ut;const bt=a.service;if(a.type==="create")switch(a.target){case"email":return(s=(await bt.createEmailTarget({name:a.value,value:a.value})).createEmailTarget)==null?void 0:s.id;case"phoneNumber":return(et=(await bt.createSmsTarget({name:a.value,value:a.value})).createSmsTarget)==null?void 0:et.id;case"telegram":return(tt=(await bt.createTelegramTarget({name:a.value,value:a.value})).createTelegramTarget)==null?void 0:tt.id;case"discord":return(at=(await bt.createDiscordTarget({name:a.value,value:a.value})).createDiscordTarget)==null?void 0:at.id;case"slack":return(ct=(await bt.createSlackChannelTarget({name:a.value,value:a.value})).createSlackChannelTarget.slackChannelTarget)==null?void 0:ct.id;case"wallet":return(ut=(await bt.createWeb3Target({name:a.value,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target)==null?void 0:ut.id}if(a.type==="delete")switch(a.target){case"email":await bt.deleteEmailTarget({id:a.id});return;case"phoneNumber":await bt.deleteSmsTarget({id:a.id});return;case"telegram":await bt.deleteTelegramTarget({id:a.id});return;case"discord":await bt.deleteDiscordTarget({id:a.id});return;case"slack":await bt.deleteSlackChannelTarget({id:a.id});return;case"wallet":await bt.deleteWeb3Target({id:a.id});return}},alterTargetGroupImpl=async(a,s)=>{var et,tt,at,ct,ut,bt,wt,Et,Ft,jt,Lt,Ut,Vt;const Yt=(await s.getTargetGroups({})).targetGroup,er=Yt==null?void 0:Yt.find($r=>($r==null?void 0:$r.name)===a.name);if(!er)throw new Error("Target group not found");const tr={type:"remove"},[nr,ir,lr,pr,yr,br]=await Promise.all([updateTargets("email",(et=a.email)!=null?et:tr,s),updateTargets("phoneNumber",(tt=a.phoneNumber)!=null?tt:tr,s),updateTargets("telegram",(at=a.telegram)!=null?at:tr,s),updateTargets("discord",(ct=a.discord)!=null?ct:tr,s),updateTargets("slack",(ut=a.slack)!=null?ut:tr,s),updateTargets("wallet",(bt=a.wallet)!=null?bt:tr,s)]);if(areIdsEqual(nr,(wt=er.emailTargets)!=null?wt:[])&&areIdsEqual(ir,(Et=er.smsTargets)!=null?Et:[])&&areIdsEqual(lr,(Ft=er.telegramTargets)!=null?Ft:[])&&areIdsEqual(pr,(jt=er.discordTargets)!=null?jt:[])&&areIdsEqual(yr,(Lt=er.slackChannelTargets)!=null?Lt:[])&&areIdsEqual(br,(Ut=er.web3Targets)!=null?Ut:[]))return er;const Er=(await s.updateTargetGroup({id:er.id,name:(Vt=er.name)!=null?Vt:er.id,emailTargetIds:nr,smsTargetIds:ir,telegramTargetIds:lr,discordTargetIds:pr,slackChannelTargetIds:yr,web3TargetIds:br})).updateTargetGroup;if(Er===void 0)throw new Error("Failed to update target group");return Er},updateTargets=async(a,s,et)=>{var tt,at;if(s.type==="remove")return[];let ct;switch(a){case"email":ct=(await et.getEmailTargets({})).emailTarget;break;case"phoneNumber":ct=(await et.getSmsTargets({})).smsTarget;break;case"telegram":ct=(await et.getTelegramTargets({})).telegramTarget;break;case"discord":ct=(await et.getDiscordTargets({})).discordTarget;break;case"slack":ct=(tt=(await et.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:tt.nodes;break;case"wallet":ct=(at=(await et.getWeb3Targets({})).web3Targets)==null?void 0:at.nodes;break}if(s.type==="delete"&&(ct!=null&&ct.find(ut=>(ut==null?void 0:ut.id)===s.id)))return await alterTarget({type:s.type,id:s.id,target:a,service:et}),[];if(s.type==="ensure"){const ut=ct==null?void 0:ct.find(wt=>(wt==null?void 0:wt.name)===s.name);if(ut)return[ut.id];const bt=await alterTarget({type:"create",value:s.name,target:a,service:et});if(!bt)throw new Error("Failed to create target");return[bt]}return[]},SIGNING_MESSAGE_WITHOUT_NONCE=`Sign in with Notifi 

    No password needed or gas is needed. 

    Clicking “Approve” only means you have proved this wallet is owned by you! 

    This request will not trigger any transaction or cost any gas fees. 

    Use of our website and service is subject to our terms of service and privacy policy.`,SIGNING_MESSAGE=`${SIGNING_MESSAGE_WITHOUT_NONCE} 
 
 'Nonce:' `,CHAINS_WITH_LOGIN_WEB3=[...APTOS_BLOCKCHAINS,...COSMOS_BLOCKCHAINS,...SOLANA_BLOCKCHAINS];function isLoginWeb3Params(a){return CHAINS_WITH_LOGIN_WEB3.includes(a.walletBlockchain)}var NotifiFrontendClient=class{constructor(a,s,et){this._configuration=a,this._service=s,this._storage=et,this._clientRandomUuid=null,this._userState=null}get userState(){return this._userState}async initialize(){const[a,s]=await Promise.all([this._storage.getAuthorization(),this._storage.getRoles()]);let et=a;if(et===null){this._service.setJwt(void 0);const bt={status:"loggedOut"};return this._userState=bt,bt}const tt=new Date(et.expiry),at=new Date;if(tt<=at){this._service.setJwt(void 0);const bt={status:"expired",authorization:et};return this._userState=bt,bt}const ct=new Date;if(ct.setDate(at.getDate()+7),tt<ct)try{const wt=(await this._service.refreshAuthorization({})).refreshAuthorization;wt!==void 0&&(this._storage.setAuthorization(wt),et=wt)}catch(bt){return console.error("Failed to refresh Notifi token:",bt),await this.logOut()}this._service.setJwt(et.token);const ut={status:"authenticated",authorization:et,roles:s??[]};return this._userState=ut,ut}async logOut(){await Promise.all([this._storage.setAuthorization(null),this._storage.setRoles(null),this._service.logOut()]),this._service.setJwt(void 0);const a={status:"loggedOut"};return this._userState=a,a}async prepareLoginWithWeb3(a){if(isCosmosBlockchain(a.walletBlockchain)){const s=a.signMessage;if(checkIsConfigWithDelegate(this._configuration)){const{delegatedAddress:et,delegatedPublicKey:tt,delegatorAddress:at}=this._configuration,{nonce:ct}=await this._beginLogInWithWeb3({authAddress:at,authType:"COSMOS_AUTHZ_GRANT"}),ut=`${SIGNING_MESSAGE}${ct}`;return{signMessageParams:{walletBlockchain:a.walletBlockchain,message:ut,signMessage:s},signingAddress:et,signingPubkey:tt,nonce:ct}}else if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{authenticationKey:et,accountAddress:tt}=this._configuration,{nonce:at}=await this._beginLogInWithWeb3({authAddress:tt,authType:"COSMOS_ADR36"}),ct=`${SIGNING_MESSAGE}${at}`;return{signMessageParams:{walletBlockchain:a.walletBlockchain,message:ct,signMessage:s},signingAddress:tt,signingPubkey:et,nonce:at}}}else if(isAptosBlockchain(a.walletBlockchain)){const s=a.signMessage;if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{nonce:et}=await this._beginLogInWithWeb3({authAddress:this._configuration.accountAddress,authType:"APTOS_SIGNED_MESSAGE",walletPubkey:this._configuration.authenticationKey});return{signMessageParams:{walletBlockchain:a.walletBlockchain,nonce:et,signMessage:s},signingAddress:this._configuration.accountAddress,signingPubkey:this._configuration.authenticationKey,nonce:et}}}else if(isSolanaBlockchain(a.walletBlockchain)){if(a.walletBlockchain!=="SOLANA")throw new Error("loginViaSolanaHardwareWallet: Only SOLANA is supported");if(checkIsConfigWithPublicKey(this._configuration)){const{nonce:s}=await this._beginLogInWithWeb3({walletPubkey:this._configuration.walletPublicKey,authType:"SOLANA_SIGN_MESSAGE",authAddress:this._configuration.walletPublicKey});return{signMessageParams:{walletBlockchain:a.walletBlockchain,nonce:s,signMessage:a.signMessage},signingAddress:this._configuration.walletPublicKey,signingPubkey:this._configuration.walletPublicKey,nonce:s}}}throw new Error(`Invalid loginWeb3Params: ${JSON.stringify(a)}`)}async logInWithWeb3(a){if(!CHAINS_WITH_LOGIN_WEB3.includes(a.walletBlockchain)||a.walletBlockchain!==a.walletBlockchain)throw new Error(`Wallet blockchain must be one of ${CHAINS_WITH_LOGIN_WEB3.join(", ")} for loginWithWeb3`);const{nonce:s,signingAddress:et,signingPubkey:tt,signMessageParams:at}=await this.prepareLoginWithWeb3(a),ct=await this._authenticate({signMessageParams:at,timestamp:Math.round(Date.now()/1e3)});if(!("signature"in ct)||!ct.signature)throw new Error("Web3loginAuth - Signature required. Please sign the transaction to confirm your notifications.");const{completeLogInWithWeb3:ut}=await this.completeLogInWithWeb3({nonce:s,signature:ct.signature,signedMessage:ct.signedMessage,signingAddress:et,signingPubkey:tt});return ut.user}async logIn(a){const s=Math.round(Date.now()/1e3),{tenantId:et,walletBlockchain:tt}=this._configuration;let at;if(isLoginWeb3Params(a))at=await this.logInWithWeb3(a);else if(tt==="OFF_CHAIN"){const ct=await this._authenticate({signMessageParams:a,timestamp:s});if(!("oidcProvider"in ct))throw new Error("logIn - Invalid signature - expected OidcCredentials");const{oidcProvider:ut,jwt:bt}=ct;at=(await this._service.logInByOidc({dappId:et,oidcProvider:ut,idToken:bt})).logInByOidc.user}else{const ct=await this._authenticate({signMessageParams:a,timestamp:s});if(!("signature"in ct)||typeof ct.signature!="string")throw new Error("logIn - Invalid signature - expected string signature and signedMessage");switch(tt){case"BLAST":case"BERACHAIN":case"CELO":case"MANTLE":case"LINEA":case"SCROLL":case"MANTA":case"MONAD":case"BASE":case"THE_ROOT_NETWORK":case"ETHEREUM":case"POLYGON":case"ARBITRUM":case"AVALANCHE":case"BINANCE":case"OPTIMISM":case"ZKSYNC":case"SOLANA":case"ROME":case"SWELLCHAIN":case"BOB":case"SEI":case"SONIC":{at=(await this._service.logInFromDapp({walletBlockchain:tt,walletPublicKey:this._configuration.walletPublicKey,dappAddress:et,timestamp:s,signature:ct.signature})).logInFromDapp;break}case"SUI":case"NEAR":case"ARCH":case"INJECTIVE":case"BITCOIN":{at=(await this._service.logInFromDapp({walletBlockchain:tt,walletPublicKey:this._configuration.authenticationKey,accountId:this._configuration.accountAddress,dappAddress:et,timestamp:s,signature:ct.signature})).logInFromDapp;break}default:throw new Error(`Unsupported wallet blockchain: ${tt}`)}}return at===void 0?Promise.reject("Failed to login"):(await this._handleLogInResult(at),at)}async _authenticate({signMessageParams:a,timestamp:s}){if(this._configuration.walletBlockchain!==a.walletBlockchain)throw new Error("Sign message params and configuration must have the same blockchain");if(isUsingUnmaintainedBlockchain(a))throw new Error(`Unsupported blockchain: ${a.walletBlockchain}. Please contact us if you beleive this is an error or if you need support for a new blockchain.`);if(isUsingCosmosBlockchain(a)){const{signatureBase64:et,signedMessage:tt}=await a.signMessage(a.message);return{signature:et,signedMessage:tt}}else if(isUsingAptosBlockchain(a)){const{signatureHex:et,signedMessage:tt}=await a.signMessage(SIGNING_MESSAGE_WITHOUT_NONCE,a.nonce);return{signature:et,signedMessage:tt}}else if(isUsingEvmBlockchain(a)){const{walletPublicKey:et,tenantId:tt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${tt}${s.toString()}`,ct=new TextEncoder().encode(at),ut=await a.signMessage(ct);return{signature:normalizeHexString(Buffer$1.from(ut).toString("hex")),signedMessage:at}}else if(isUsingBtcBlockchain(a)||a.walletBlockchain==="INJECTIVE"){const{authenticationKey:et,tenantId:tt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${tt}${s.toString()}`,ct=new TextEncoder().encode(at),ut=await a.signMessage(ct);return{signature:Buffer$1.from(ut).toString("base64"),signedMessage:at}}else if(isUsingSolanaBlockchain(a)){const{walletPublicKey:et,tenantId:tt}=this._configuration,at=`${SIGNING_MESSAGE}${a.nonce}`,ct=new TextEncoder().encode(at),ut=await a.signMessage(ct);if(!ut)throw Error("._authenticate - Signature not completed");return{signature:Buffer$1.from(ut).toString("base64"),signedMessage:at}}switch(a.walletBlockchain){case"SUI":{const{accountAddress:et,tenantId:tt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${tt}${s.toString()}`,ct=new TextEncoder().encode(at);return{signature:(await a.signMessage(ct)).toString(),signedMessage:at}}case"NEAR":{const{authenticationKey:et,accountAddress:tt,tenantId:at}=this._configuration,ct=`${"ed25519:"+et}${at}${tt}${s.toString()}`,ut=new TextEncoder().encode(ct),bt=await window.crypto.subtle.digest("SHA-256",ut),wt=new Uint8Array(bt),Et=await a.signMessage(wt);return{signature:Buffer$1.from(Et).toString("base64"),signedMessage:ct}}case"OFF_CHAIN":{const et=await a.signIn();if(!et)throw new Error("._authenticate: OIDC login failed");return et}}}async _handleLogInResult(a){const s=a==null?void 0:a.authorization,et=s!==void 0?this._storage.setAuthorization(s):Promise.resolve(),tt=a==null?void 0:a.roles,at=tt!==void 0?this._storage.setRoles(tt.filter(notNullOrEmpty)):Promise.resolve();if(s&&tt){const ct={status:"authenticated",authorization:s,roles:tt.filter(ut=>!!ut)};this._userState=ct}await Promise.all([et,at])}async fetchFusionData(){return this._service.fetchFusionData({})}async beginLoginViaTransaction({walletBlockchain:a,walletAddress:s}){const{tenantId:et}=this._configuration,at=(await this._service.beginLogInByTransaction({walletAddress:s,walletBlockchain:a,dappAddress:et})).beginLogInByTransaction.nonce;if(at===null)throw new Error("Failed to begin login process");const ct=crypto.randomUUID();this._clientRandomUuid=ct;const bt=new TextEncoder().encode(at+ct),wt=await crypto.subtle.digest("SHA-256",bt),Et=Array.from(new Uint8Array(wt));let Ft="0x";return(a==="SOLANA"||a==="OSMOSIS")&&(Ft="Notifi Auth: 0x"),{nonce:Ft+Et.map(Lt=>Lt.toString(16).padStart(2,"0")).join("")}}async completeLoginViaTransaction({walletBlockchain:a,walletAddress:s,transactionSignature:et}){const{tenantId:tt}=this._configuration,at=this._clientRandomUuid;if(this._clientRandomUuid=null,at===null)throw new Error("BeginLoginViaTransaction is required to be called first");const ct=await this._service.completeLogInByTransaction({walletAddress:s,walletBlockchain:a,dappAddress:tt,randomUuid:at,transactionSignature:et});return await this._handleLogInResult(ct.completeLogInByTransaction),ct}async _beginLogInWithWeb3({authType:a,authAddress:s,walletPubkey:et}){const{tenantId:tt}=this._configuration,at=await this._service.beginLogInWithWeb3({dappAddress:tt,authAddress:s,blockchainType:this._configuration.walletBlockchain,authType:a,walletPubkey:et});if(!at.beginLogInWithWeb3.beginLogInWithWeb3Response)throw new Error("Failed to begin login process");return at.beginLogInWithWeb3.beginLogInWithWeb3Response}async completeLogInWithWeb3(a){const s=await this._service.completeLogInWithWeb3(__spreadValues({signingPubkey:""},a));return await this._handleLogInResult(s.completeLogInWithWeb3.user),s}async getTargetGroups(){var a,s;return(s=(a=(await this._service.getTargetGroups({})).targetGroup)==null?void 0:a.filter(notNullOrEmpty))!=null?s:[]}async getAlerts(){var a,s;return(s=(a=(await this._service.getAlerts({})).alert)==null?void 0:a.filter(notNullOrEmpty))!=null?s:[]}async ensureFusionAlerts(a){const s=new Set(a.alerts.map(bt=>bt.name)),et=await this._service.getAlerts({}),ct=[...new Set(et.alert)].filter(bt=>s.has(bt==null?void 0:bt.name)).map(bt=>bt==null?void 0:bt.id).filter(bt=>!!bt);for(const bt of ct)await this.deleteAlert({id:bt});return(await this._service.createFusionAlerts({input:a})).createFusionAlerts}async deleteAlerts({ids:a}){const et=(await this._service.deleteAlerts({input:{alertIds:a}})).deleteAlerts;if(et===void 0)throw new Error("Failed to delete alerts");return et}async updateWallets(){const a={name:"User Wallets",type:"walletBalance"};return await ensureSourceAndFilters(this._service,a,{})}async getUnreadNotificationHistoryCount(a){const et=(await this._service.getUnreadNotificationHistoryCount({cardId:a})).unreadNotificationHistoryCount;if(!et)throw new Error("Failed to fetch unread notification history count");return et}addEventListener(a,s,et,tt){return this._service.addEventListener(a,s,et,tt)}removeEventListener(a,s){return this._service.removeEventListener(a,s)}async getUserSettings(){const s=(await this._service.getUserSettings({})).userSettings;if(!s)throw new Error("Failed to fetch user settings");return s}async getFusionNotificationHistory(a){var s,et;const tt=await this._service.getFusionNotificationHistory(a),at=(s=tt.fusionNotificationHistory)==null?void 0:s.nodes,ct=(et=tt.fusionNotificationHistory)==null?void 0:et.pageInfo;if(at===void 0||ct===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:ct,nodes:at}}async fetchTenantConfig(a){const et=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},a),{tenant:this._configuration.tenantId})})).findTenantConfig;if(et===void 0||!et.dataJson||!et.fusionEvents)throw new Error("Failed to find tenant config");const tt=et.dataJson;if(tt===void 0)throw new Error("Invalid config data");const at=JSON.parse(tt),ct=et.fusionEvents;if(!at||at.version!=="v1"||!ct)throw new Error("Unsupported config format");const ut=new Map(ct.map(wt=>{var Et;return[(Et=wt==null?void 0:wt.name)!=null?Et:"",wt??{}]}));ut.delete("");const bt=at.eventTypes.map(wt=>{if(wt.type==="fusion"){const Et=ut.get(wt.name);return{uiConfig:wt,fusionEventDescriptor:Et}}}).filter(wt=>!!wt);return{cardConfig:at,fusionEventTopics:bt}}async copyAuthorization(a){var s;const et=await this._storage.getAuthorization(),tt=await this._storage.getRoles(),at=((s=a.storageOption)==null?void 0:s.driverType)==="InMemory"?createInMemoryStorageDriver(a):createLocalForageStorageDriver(a),ct=new NotifiFrontendStorage(at);await Promise.all([ct.setAuthorization(et),ct.setRoles(tt)])}async sendEmailTargetVerification({targetId:a}){var s;const tt=(s=(await this._service.sendEmailTargetVerificationRequest({targetId:a})).sendEmailTargetVerificationRequest)==null?void 0:s.id;if(tt===void 0)throw new Error("Unknown error requesting verification");return tt}async createDiscordTarget(a){return(await this._service.createDiscordTarget({name:a,value:a})).createDiscordTarget}async markFusionNotificationHistoryAsRead(a){return await this._service.markFusionNotificationHistoryAsRead(a)}async updateUserSettings(a){return await this._service.updateUserSettings(a)}async verifyXmtpTarget(a){return await this._service.verifyXmtpTarget(a)}async verifyCbwTarget(a){return await this._service.verifyCbwTarget(a)}async verifyXmtpTargetViaXip42(a){return await this._service.verifyXmtpTargetViaXip42(a)}async createWebPushTarget(a){return await this._service.createWebPushTarget(a)}async updateWebPushTarget(a){return await this._service.updateWebPushTarget(a)}async deleteWebPushTarget(a){return await this._service.deleteWebPushTarget(a)}async getWebPushTargets(a){const et=(await this._service.getWebPushTargets(a)).webPushTargets;if(!et)throw new Error("Failed to fetch webpush targets");return et}async alterTargetGroup(a){return await alterTargetGroupImpl(a,this._service)}async getSourceGroups(){var a,s;return(s=(a=(await this._service.getSourceGroups({})).sourceGroup)==null?void 0:a.filter(notNullOrEmpty))!=null?s:[]}async wsDispose(){this._service.wsDispose()}async getNotificationHistory(a){var s,et;const tt=await this._service.getNotificationHistory(a),at=(s=tt.notificationHistory)==null?void 0:s.nodes,ct=(et=tt.notificationHistory)==null?void 0:et.pageInfo;if(at===void 0||ct===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:ct,nodes:at}}subscribeNotificationHistoryStateChanged(a,s,et){return this._service.subscribeNotificationHistoryStateChanged(a,s,et)}async ensureAlert({eventType:a,inputs:s,targetGroupName:et="Default"}){var tt,at;const[ct,ut,bt]=await Promise.all([this._service.getAlerts({}),this._service.getTargetGroups({}),ensureSourceAndFilters(this._service,a,s)]),wt=(tt=ut.targetGroup)==null?void 0:tt.find(er=>(er==null?void 0:er.name)===et);if(wt===void 0)throw new Error("Target group does not exist");const{sourceGroup:Et,filter:Ft,filterOptions:jt}=bt,Lt=packFilterOptions(jt),Ut=(at=ct.alert)==null?void 0:at.find(er=>er!==void 0&&er.name===a.name);if(Ut!==void 0){if(Ut.sourceGroup.id===Et.id&&Ut.targetGroup.id===wt.id&&Ut.filter.id===Ft.id&&Ut.filterOptions===Lt)return Ut;await this.deleteAlert({id:Ut.id})}const Yt=(await this._service.createAlert({name:a.name,sourceGroupId:Et.id,filterId:Ft.id,targetGroupId:wt.id,filterOptions:Lt,groupName:"managed"})).createAlert;if(Yt===void 0)throw new Error("Failed to create alert");return Yt}async fetchData(){return this._service.fetchData({})}async fetchSubscriptionCard(a){const et=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},a),{tenant:this._configuration.tenantId})})).findTenantConfig;if(et===void 0)throw new Error("Failed to find tenant config");const tt=et.dataJson;if(tt===void 0)throw new Error("Invalid config data");const at=JSON.parse(tt);let ct;switch(at.version){case"v1":{ct=at;break}default:throw new Error("Unsupported config version")}if(ct===void 0)throw new Error("Unsupported config format");return ct}async ensureTargetGroup({name:a,emailAddress:s,phoneNumber:et,telegramId:tt,discordId:at,slackId:ct,walletId:ut}){var bt;const[wt,Et,Ft,jt,Lt,Ut,Vt]=await Promise.all([this._service.getTargetGroups({}),ensureEmail(this._service,s),ensureSms(this._service,et),ensureTelegram(this._service,tt),ensureDiscord(this._service,at),ensureSlack(this._service,ct),ensureWeb3(this._service,ut)]),Yt=Et===void 0?[]:[Et],er=Ft===void 0?[]:[Ft],tr=jt===void 0?[]:[jt],nr=Lt===void 0?[]:[Lt],ir=Ut===void 0?[]:[Ut],lr=Vt===void 0?[]:[Vt],pr=(bt=wt.targetGroup)==null?void 0:bt.find(br=>(br==null?void 0:br.name)===a);if(pr!==void 0)return this._updateTargetGroup({existing:pr,emailTargetIds:Yt,smsTargetIds:er,telegramTargetIds:tr,discordTargetIds:nr,slackChannelTargetIds:ir,web3TargetIds:lr});const yr=await this._service.createTargetGroup({name:a,emailTargetIds:Yt,smsTargetIds:er,telegramTargetIds:tr,discordTargetIds:nr,slackChannelTargetIds:ir,web3TargetIds:lr});if(yr.createTargetGroup===void 0)throw new Error("Failed to create target group");return yr.createTargetGroup}async renewTargetGroup({name:a,emailAddress:s,phoneNumber:et,telegramId:tt,discordId:at,slackId:ct,walletId:ut}){var bt;const[wt,Et,Ft,jt,Lt,Ut,Vt]=await Promise.all([this._service.getTargetGroups({}),ensureEmail(this._service,s),ensureSms(this._service,et),renewTelegram(this._service,tt),ensureDiscord(this._service,at),ensureSlack(this._service,ct),ensureWeb3(this._service,ut)]),Yt=Et===void 0?[]:[Et],er=Ft===void 0?[]:[Ft],tr=jt===void 0?[]:[jt],nr=Lt===void 0?[]:[Lt],ir=Ut===void 0?[]:[Ut],lr=Vt===void 0?[]:[Vt],pr=(bt=wt.targetGroup)==null?void 0:bt.find(br=>(br==null?void 0:br.name)===a);if(pr!==void 0)return this._updateTargetGroup({existing:pr,emailTargetIds:Yt,smsTargetIds:er,telegramTargetIds:tr,discordTargetIds:nr,slackChannelTargetIds:ir,web3TargetIds:lr});const yr=await this._service.createTargetGroup({name:a,emailTargetIds:Yt,smsTargetIds:er,telegramTargetIds:tr,discordTargetIds:nr,slackChannelTargetIds:ir,web3TargetIds:lr});if(yr.createTargetGroup===void 0)throw new Error("Failed to create target group");return yr.createTargetGroup}async _updateTargetGroup({existing:a,emailTargetIds:s,smsTargetIds:et,telegramTargetIds:tt,discordTargetIds:at,slackChannelTargetIds:ct,web3TargetIds:ut}){var bt,wt,Et,Ft,jt,Lt,Ut;if(areIdsEqual(s,(bt=a.emailTargets)!=null?bt:[])&&areIdsEqual(et,(wt=a.smsTargets)!=null?wt:[])&&areIdsEqual(tt,(Et=a.telegramTargets)!=null?Et:[])&&areIdsEqual(at,(Ft=a.discordTargets)!=null?Ft:[])&&areIdsEqual(ct,(jt=a.slackChannelTargets)!=null?jt:[])&&areIdsEqual(ut,(Lt=a.web3Targets)!=null?Lt:[]))return a;const Yt=(await this._service.updateTargetGroup({id:a.id,name:(Ut=a.name)!=null?Ut:a.id,emailTargetIds:s,smsTargetIds:et,telegramTargetIds:tt,discordTargetIds:at,slackChannelTargetIds:ct,web3TargetIds:ut})).updateTargetGroup;if(Yt===void 0)throw new Error("Failed to update target group");return Yt}async deleteAlert({id:a}){var s;if(((s=(await this._service.deleteAlert({id:a})).deleteAlert)==null?void 0:s.id)===void 0)throw new Error("Failed to delete alert")}},newNotifiStorage=a=>{var s;const et=((s=a.storageOption)==null?void 0:s.driverType)==="InMemory"?createInMemoryStorageDriver(a):createLocalForageStorageDriver(a);return new NotifiFrontendStorage(et)},newNotifiService=(a,s)=>{const et=envUrl(a.env,"http"),tt=envUrl(a.env,"websocket"),at=new GraphQLClient(et,s),ct=new NotifiSubscriptionService(tt,typeof window<"u"?void 0:WebSocket$1);return new NotifiService(at,ct)},instantiateFrontendClient=(a,s,et,tt,at)=>{let ct=null;if("accountAddress"in s?ct={tenantId:a,env:et,walletBlockchain:s.walletBlockchain,authenticationKey:s.walletPublicKey,accountAddress:s.accountAddress,storageOption:tt}:"signingPubkey"in s?ct={tenantId:a,env:et,walletBlockchain:s.walletBlockchain,delegatedAddress:s.signingAddress,delegatedPublicKey:s.walletPublicKey,delegatorAddress:s.signingPubkey,storageOption:tt}:"userAccount"in s?ct={tenantId:a,env:et,userAccount:s.userAccount,storageOption:tt,walletBlockchain:s.walletBlockchain}:ct={tenantId:a,env:et,walletBlockchain:s.walletBlockchain,walletPublicKey:isEvmBlockchain(s.walletBlockchain)?s.walletPublicKey.toLowerCase():s.walletPublicKey,storageOption:tt},!ct)throw new Error("ERROR - instantiateFrontendClient: Invalid UserParams");const ut=newNotifiService(ct,at),bt=newNotifiStorage(ct);return new NotifiFrontendClient(ct,ut,bt)};function useNotifiAlert(){const{notifiClient:a}=useNotifiStore(),{defaultTargetGroup:s,setNotifiAlerts:et,setNotifiSourceGroups:tt,setNotifiSources:at,setIsChecked:ct,setNotifiSubscriptionLoading:ut}=useNotifiStore(),{showCommonToast:bt}=useGlobalToast(),{getNotifiTargetGroups:wt}=useGetNotifiTargetGroups(),Et=async()=>{let Yt=s.filter(er=>er.name==="Default");return Yt.length||(Yt=(await wt()).filter(er=>er.name==="Default")),Yt[0]},Ft=Yt=>{const er=[],tr=[],nr=[];return Yt.forEach(lr=>{(lr.sourceGroup.name.includes("position")||lr.name.includes("Position Range Alerts"))&&lr.name!=="Fusion Source Filter"&&lr.name!=="defaultAlert"&&(er.push(lr.sourceGroup),tr.push(...lr.sourceGroup.sources.map(pr=>({...pr,alertID:lr.id})))),nr.push(...lr.sourceGroup.sources.map(pr=>({...pr,alertName:lr.name})))}),nr.some(lr=>lr.alertName==="defaultAlert")||Vt(),{sourceGroup:er,sources:tr}},jt=async Yt=>{try{const er=Yt?await Yt.getAlerts():await a.getAlerts();console.log("🚀 ~ getNotifiAlerts ~ alerts:",er);const{sourceGroup:tr,sources:nr}=Ft(er);et(er),tt(tr),at(nr),ut(!1)}catch(er){console.error("🚀 ~ getNotifiAlerts ~ error:",er)}},Lt=async Yt=>{console.log("🚀 ~ deleteNotifiAlerts ~ id:",Yt);try{await a.deleteAlert({id:Yt}),bt("Unsubscribed","success","You'll no longer receive alerts when the price goes out of range."),jt(),ut(!1)}catch(er){console.error("🚀 ~ deleteNotifiAlerts ~ error:",er),bt("There was an error unsubscribe alert","rejected",String(er)),ut(!1)}},Ut=async(Yt,er)=>{try{const tr=await Et(),nr={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:Yt&&er?`Position Range Alerts${new Date().getTime()}`:"defaultAlert",targetGroupId:tr.id,subscriptionValue:Yt&&er?JSON.stringify({pool_address:Yt,position_index:String(er)}):"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]},ir=await a.ensureFusionAlerts(nr);console.log("🚀 ~ createNotifiAlert ~ alerts:",ir),bt("Subscribed to Alerts!","success","Verify your notification channels to receive alerts when the price goes out of range. To edit your alert settings, click the bell icon in the top nav."),jt()}catch(tr){console.error("🚀 ~ createNotifiAlert ~ error:",tr),bt("There was an error subscribe alert","rejected",String(tr)),ct(!1),ut(!1)}},Vt=async()=>{try{const er={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:"defaultAlert",targetGroupId:(await Et()).id,subscriptionValue:"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]};await a.ensureFusionAlerts(er),jt()}catch(Yt){console.error("🚀 ~ initDefaultAlert ~ error:",Yt)}};return{getNotifiAlerts:jt,createNotifiAlert:Ut,deleteNotifiAlerts:Lt}}function useIntNotifi(){const a="cetus",s="Production",et="SUI",{setNotifiClient:tt,notifiClient:at,setNotifiStatus:ct,setNotifiAccountAddress:ut,setDefaultTargetGroup:bt,setNotifiSourceGroups:wt,setNotifiSources:Et,setNotifiLoginLoading:Ft,setTelegramTarget:jt,setEmailTarget:Lt,setSmsTarget:Ut}=useNotifiStore(),{signUserMessage:Vt}=useSigner(),{currentAccount:Yt}=useAccountStore(),{ensureTargetGroup:er,getNotifiTargetGroups:tr}=useGetNotifiTargetGroups(),{getNotifiAlerts:nr}=useNotifiAlert(),ir=async yr=>{const br=instantiateFrontendClient(a,{walletBlockchain:et,walletPublicKey:yr,accountAddress:yr},s),xr=await br.initialize();tt(br),ct(xr.status),(xr==null?void 0:xr.status)==="authenticated"?(tr(br),nr(br),ut(yr)):pr()},lr=async yr=>{try{Ft(!0),console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ notifiLogin ~ notifiClient:",at);const br=await at.logIn({walletBlockchain:et,signMessage:async Er=>{console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ signMessage: ~ message:",Er);try{return(await Vt(Er)).signature}catch($r){console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ signMessage: ~ error:",$r)}}});console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ notifiLogin ~ notifiClient:",at);const{status:xr}=at.userState;ct(xr),xr==="authenticated"&&(Yt!=null&&Yt.address)&&(nr(),tr(),ut(Yt.address)),console.log("🚀🚀🚀 ~ useInitNotifi.ts:75 ~ notifiLogin ~ loginResult:",br),br&&(await er(yr),Ft(!1))}catch(br){console.log("🚀🚀🚀 ~ useInitNotifi.ts:91 ~ notifiLogin ~ error:",br),Ft(!1)}},pr=()=>{bt([]),wt([]),Et([]),Lt({}),jt({}),Ut({})};return{initNotifi:ir,notifiLogin:lr}}const notifi_tab_bg="/images/notifi_tab_bg.png",notifi_tab_bg_h5="/images/notifi_tab_bg_h5.png",codeList=["+1","+32","+33","+34","+351","+354","+358","+36","+41","+43","+44","+45","+46","+47","+48","+49","+60","+61","+63","+65","+82","+852","+886"],FormItem=({label:a,children:s})=>jsxRuntimeExports.jsxs(InputGroup,{h:"42px",borderRadius:"8px",p:"10px 12px",bg:"#141414",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(InputLeftAddon,{fontSize:"14px",h:"20px",lineHeight:"20px",w:"106px",children:a}),jsxRuntimeExports.jsx(Box,{borderColor:"border",pr:"16px",children:jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical"})}),s]});function Notifications(){const[a,s]=reactExports.useState(""),[et,tt]=reactExports.useState(""),[at,ct]=reactExports.useState(""),[ut,bt]=reactExports.useState(""),[wt,Et]=reactExports.useState(""),[Ft,jt]=reactExports.useState(""),[Lt,Ut]=reactExports.useState(""),[Vt,Yt]=reactExports.useState(""),{isShowNotifi:er,setIsShowNotifi:tr,notifiLoginLoading:nr,notifiStatus:ir,emailTarget:lr,telegramTarget:pr,smsTarget:yr}=useNotifiStore(),[br,xr]=reactExports.useState(""),[Er,$r]=reactExports.useState(""),[Sr,fr]=reactExports.useState(!0),[vr,or]=reactExports.useState(!1),{currentAccount:rr,onWalletModal:ar}=useAccountStore(),[sr,dr]=reactExports.useState(!1),{notifiLogin:gr}=useIntNotifi(),{ensureTargetGroup:ur}=useGetNotifiTargetGroups(),[_r,hr]=reactExports.useState(!0),[cr,wr]=reactExports.useState(!1),Br=Wr=>{if(Wr){const Kr=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;console.log("🚀🚀🚀 ~ Notifications.tsx:99 ~ verifyEmail ~ verifyEmail:"),hr(Kr.test(a))}},Or=()=>{const Wr={};at&&ut&&(Wr.phoneNumber=at+" "+ut),a&&(Wr.emailAddress=a),et&&(Wr.telegramId=et),ir=="authenticated"?ur(Wr):gr(Wr)};reactExports.useEffect(()=>{if(!lr){xr(""),or(!1),s(""),Et("");return}const Wr=(lr==null?void 0:lr.emailAddress)||"",Kr=(lr==null?void 0:lr.isConfirmed)||!1,an=(lr==null?void 0:lr.id)||"";xr(an),or(Kr),s(Wr),Et(Wr)},[lr]),reactExports.useEffect(()=>{if(!pr){fr(!1),$r(""),tt(""),jt("");return}const Wr=(pr==null?void 0:pr.telegramId)||"",Kr=(pr==null?void 0:pr.isConfirmed)||!1,an=pr.confirmationUrl||"";fr(Kr),$r(an),tt(Wr),jt(Wr)},[pr]),reactExports.useEffect(()=>{yr||(ct("+1"),bt(""),Ut("+1"),Yt(""));const Wr=(yr==null?void 0:yr.name)||"",Kr=Wr.split(" ")[0]||"+1",an=Wr.split(" ")[1]||"";ct(Kr),bt(an),Ut(Kr),Yt(an)},[yr]);const Rr=reactExports.useMemo(()=>!ut&&!a&&!et||at==Lt&&ut==Vt&&a==wt&&et==Ft?!0:!_r,[a,wt,at,Lt,ut,Vt,et,Ft]),{notifiClient:Pr}=useNotifiStore(),[Ur,kr]=reactExports.useState(60),[Ar,Cr]=reactExports.useState(60),Fr=async()=>{Pr.sendEmailTargetVerification({targetId:br}),wr(!0)},Lr=()=>{Gr(!0),window.open(Er,"_blank")},[Hr,Gr]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!cr||Ur===0){wr(!1);return}const Wr=setInterval(()=>{kr(Kr=>Kr-1)},1e3);return()=>clearInterval(Wr)},[cr,Ur]),reactExports.useEffect(()=>{if(!Hr||Ar===0){Gr(!1);return}const Wr=setInterval(()=>{Cr(Kr=>Kr-1)},1e3);return()=>clearInterval(Wr)},[Hr,Ar]);const[Nr,Vr]=reactExports.useState("notifi"),{isApp:jr}=useWindowWidth();return reactExports.useEffect(()=>{er&&Vr("notifi")},[er]),jsxRuntimeExports.jsxs(Popover,{isLazy:!0,isOpen:er,placement:"bottom-end",offset:[44,10],onClose:sr?()=>{console.log("isMenuOpen")}:()=>{tr(!1)},children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},onClick:()=>rr!=null&&rr.address?tr(!er):ar(!0),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_notification",variant:"gray"})})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(PopoverContent,{p:"0px",border:"1px solid",borderRadius:"12px",borderColor:"border",minW:{base:"352px",lg:"460px"},children:jsxRuntimeExports.jsxs(HStack,{flexDirection:{base:"column",lg:"row"},gap:"0",bg:"bg_seven",borderRadius:"12px",align:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{pt:{base:"8px",lg:"28px"},pl:{base:"12px",lg:"0"},gap:"0",flexDirection:{base:"row",lg:"column"},children:[jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:Nr=="notifi"?jr?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:Nr=="notifi"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Vr("notifi"),children:jsxRuntimeExports.jsx(Image$1,{src:Nr=="notifi"?"/images/notifi@2x.png":"/images/logo_not_nor@2x.png",h:"20px",w:"60px",minW:"60px"})}),jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:Nr=="pawtato"?jr?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:Nr=="pawtato"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Vr("pawtato"),children:jsxRuntimeExports.jsx(Image$1,{src:Nr=="pawtato"?"/images/logo_paw_sel@2x.png":"/images/logo_paw_nor@2x.png",h:"11px",w:"66px",minW:"66px"})})]}),Nr=="notifi"&&jsxRuntimeExports.jsxs(VStack,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",children:[jsxRuntimeExports.jsx(PopoverBody,{p:"0",borderRadius:"12px",children:jsxRuntimeExports.jsxs(VStack,{gap:"12px",children:[jsxRuntimeExports.jsx(Text,{fontWeight:"500",color:"text_caption",textAlign:"left",w:"100%",mb:"4px",children:"Notifications Setting"}),jsxRuntimeExports.jsx(FormItem,{label:"Email address",children:jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"Email address",fontSize:"14px",h:"20px",lineHeight:"20px",value:a,onFocus:()=>hr(!0),onBlur:Wr=>Br(Wr.target.value),onChange:Wr=>s(Wr.target.value)})}),!_r&&jsxRuntimeExports.jsx(Text,{w:"100%",color:"primary_red",lineHeight:"20px",textAlign:"left",children:"Please enter a valid email address"}),ir=="authenticated"&&wt&&(cr||!cr&&!vr)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[cr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification email sent! (",Ur,"s)"]}),!vr&&!cr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for email verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Fr(),children:"Retry"})]})]}),jsxRuntimeExports.jsxs(FormItem,{label:"Phone number",children:[jsxRuntimeExports.jsx(Menu,{isLazy:!0,onClose:()=>dr(!1),children:({isOpen:Wr})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MenuButton,{isActive:Wr,as:Button,rightIcon:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px"}),variant:"unstyled",h:"100%",fontSize:"14px",lineHeight:"20px",color:"text_caption",onClick:()=>dr(!sr),children:at}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(MenuList,{h:"220px",overflow:"auto",zIndex:"99999",children:codeList.map(Kr=>jsxRuntimeExports.jsx(MenuItem,{onClick:an=>{ct(Kr)},children:Kr},Kr))})})]})}),jsxRuntimeExports.jsx(Input,{type:"tel",placeholder:"Phone number",pl:"16px",fontSize:"14px",h:"20px",lineHeight:"20px",value:ut,onChange:Wr=>bt(Wr.target.value)})]}),jsxRuntimeExports.jsx(FormItem,{label:"Telegram ID",children:jsxRuntimeExports.jsx(Input,{placeholder:"Telegram ID",fontSize:"14px",h:"20px",lineHeight:"20px",value:et,onChange:Wr=>tt(Wr.target.value)})}),ir=="authenticated"&&Ft&&(Hr||!Hr&&!Sr)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[Hr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification telegram sent! (",Ar,"s)"]}),!Sr&&!Hr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for telegram verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Lr(),children:"Retry"})]})]})]})}),jsxRuntimeExports.jsx(PopoverFooter,{border:"none",p:"0",mt:"16px",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",gap:"12px",children:[jsxRuntimeExports.jsx(Button,{w:"100%",h:"42px",borderRadius:"8px",fontWeight:"500",fontSize:"14px",onClick:Or,isLoading:nr,disabled:Rr||nr||!_r,children:ir=="authenticated"?"Update":"Subscribe"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Text,{fontSize:"12px",color:"text_paragraph",lineHeight:"20px",children:["Notifications are provided by Notifi. By subscribing, you agree that info you provide to Notifi will be governed by its"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/privacy","_blank")},children:"Privacy Policy"})," ","and"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/term","_blank")},children:"Terms of Use."})]}),jsxRuntimeExports.jsxs(HStack,{justify:"center",mt:"16px",children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_paragraph",children:"Powered by"}),jsxRuntimeExports.jsx(Image$1,{src:"/images/notifi@2x.png",h:"20px"})]})]})]})})]}),Nr=="pawtato"&&jsxRuntimeExports.jsx(PopoverBody,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",h:"314px",children:jsxRuntimeExports.jsxs(VStack,{h:"100%",gap:"28px",justify:"center",align:"center",children:[jsxRuntimeExports.jsxs(Text,{color:"text_caption",lineHeight:"20px",textAlign:"center",children:["Visit Pawtato to manage notification settings for LP Range Alert"," "]}),jsxRuntimeExports.jsx(Button,{w:"100%",h:"40px",fontWeight:"500",fontSize:"14px",onClick:()=>window.open("https://pawtato.app/board"),children:"Subscribe"})]})})]})})})]})}function SwapWidgetDisplay(a){const{h:s,icon:et,borderRadius:tt="12px",color:at="text_caption"}=a,{isSwapWidgetDisplay:ct,setIsSwapWidgetDisplay:ut}=useWebConfigStore();return jsxRuntimeExports.jsxs(HStack,{w:"100%",pl:"16px",pr:"16px",h:s,border:"1px solid",borderColor:"border",bg:"menu_item_bg",justifyContent:"center",gap:"24px",borderRadius:tt,children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",gap:"8px",children:[jsxRuntimeExports.jsx(Image$1,{draggable:"false",src:et,fallbackSrc:"/images/placeholder-token@2x.png",w:"24px",h:"24px",pointerEvents:"none"}),jsxRuntimeExports.jsx(Text,{color:at,fontSize:"14px",children:"Display swap widget"})]}),jsxRuntimeExports.jsx(Switch,{isChecked:ct,onChange:()=>ut(!ct)})]})}const ListItem=({label:a,value:s,onClick:et,isActive:tt})=>jsxRuntimeExports.jsx(Box,{w:"100%",onClick:et,cursor:"pointer",h:"48px",lineHeight:"48px",p:"0px 16px",borderRadius:"12px",border:"1px solid",borderColor:tt?"primary_hover":"transparent",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",children:a})}),ExplorerContent=({closeModal:a,isH5:s})=>{const{explorerList:et,currentExplorer:tt,switchExplorer:at}=useRpcConfigStore(),ct=reactExports.useMemo(()=>(console.log("🚀 ~ list ~ explorerList:",et),et),[et]),{successTsToast:ut}=useGlobalToast(),bt=wt=>{at(wt),a(),ut({linkLabel:"",getShowInfo:Ft=>({toastTitleText:"Explorer update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["Explorer is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:wt.name})]})})})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s?jsxRuntimeExports.jsx(VStack,{gap:"16px",mb:"16px",children:ct.map(wt=>jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(CheckBox,{checked:wt.link===tt.link,onClick:()=>bt(wt)}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"16px",lg:"14px"},children:wt.name})]},wt.link))}):jsxRuntimeExports.jsx(VStack,{w:"100%",children:ct.map(wt=>jsxRuntimeExports.jsx(ListItem,{label:wt.name,value:wt.link,isActive:wt.link===tt.link,onClick:()=>bt(wt)},wt.link))})})},H5SettingItem=({icon:a,value:s,label:et,onClick:tt})=>jsxRuntimeExports.jsxs(HStack,{w:"100%",p:"14px 16px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",justify:"space-between",align:"center",bg:"menu_item_bg",onClick:tt,children:[jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:a,fontSize:"20px"}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",children:et})]}),jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",children:s}),jsxRuntimeExports.jsx(Icon,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),H5Preferred=()=>{const{currentExplorer:a}=useRpcConfigStore(),[s,et]=reactExports.useState(!1),tt=()=>{et(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:a==null?void 0:a.name,onClick:()=>et(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:s,title:"Preferred Explorer",onClose:()=>et(!1),footer:null,children:jsxRuntimeExports.jsx(ExplorerContent,{closeModal:tt,isH5:!0})})]})};function useRpcWorker(){let a=null;const{setRpcSpeed:s}=useRpcConfigStore();useInterval({interval:5*1e3,callback:()=>{et()}});const et=()=>{a===null&&(a=new Worker("/worker/rpc.worker.js")),a.postMessage({rpcList:defaultNodes.filter(tt=>tt.link.length>0).map(tt=>tt.link)}),a.onmessage=tt=>{tt.data.error?(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data.error:",tt.data.error),s({})):(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data:",tt.data),tt.data?s(tt.data):s({}))}};reactExports.useEffect(()=>(et(),()=>{a&&a.terminate()}),[])}const RPCContent=({closeModal:a})=>{useRpcWorker();const{rpcSpeed:s}=useRpcConfigStore(),et=Vt=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(Vt),{nodes:tt,currentNode:at,switchNode:ct}=useRpcConfigStore(),[ut,bt]=reactExports.useState((at==null?void 0:at.name)=="Custom"),[wt,Et]=reactExports.useState((at==null?void 0:at.name)=="Custom"?at==null?void 0:at.link:""),Ft=reactExports.useMemo(()=>tt,[tt]),{successTsToast:jt}=useGlobalToast(),Lt=Vt=>{console.log("🚀 ~ handleChangeNode ~ item:",Vt),Vt.name!=="Custom"&&(Et(""),bt(!1)),ct(Vt),a(),jt({linkLabel:"",getShowInfo:er=>({toastTitleText:"RPC update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["RPC is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:Vt.name!=="Custom"?Vt.name:Vt.link})]})})})},Ut=reactExports.useCallback(Vt=>Vt===0?"text_paragraph":Vt<100?"primary_green":Vt>200?"primary_red":"primary_yellow",[]);return jsxRuntimeExports.jsxs(Box,{w:"100%",mt:"-16px",children:[Ft.map(Vt=>{const Yt=Number(s[Vt==null?void 0:Vt.link]||0);return jsxRuntimeExports.jsx(VStack,{mt:"16px",align:"flex-start",children:(Vt==null?void 0:Vt.name)!=="Custom"&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",onClick:()=>Lt(Vt),_hover:{p:{color:"primary"}},children:[jsxRuntimeExports.jsx(CheckBox,{checked:at.name===(Vt==null?void 0:Vt.name),onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:at.name===(Vt==null?void 0:Vt.name)?"primary":"text_paragraph",children:Vt==null?void 0:Vt.name})]}),jsxRuntimeExports.jsxs(HStack,{gap:"5px",children:[Yt>0&&jsxRuntimeExports.jsx(Box,{w:"6px",h:"6px",bg:Ut(Yt),borderRadius:"50%"}),jsxRuntimeExports.jsxs(Text,{fontSize:"12px",fontWeight:"500",color:Ut(Yt),children:[s[Vt.link],isAvailableObject(s)?"ms":""]})]})]})},Vt==null?void 0:Vt.link)}),jsxRuntimeExports.jsxs(HStack,{w:"100%",mt:"16px",_hover:{p:{color:"primary"}},onClick:()=>bt(!ut),children:[jsxRuntimeExports.jsx(CheckBox,{checked:at.name==="Custom",onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:at.name==="Custom"?"primary":"text_paragraph",children:"Custom RPC URL"})]}),(at.name==="Custom"||ut)&&jsxRuntimeExports.jsxs(InputGroup,{mt:"16px",h:"40px",borderRadius:"12px",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(Input,{p:"13px 16px",fontSize:{base:"16px",lg:"14px"},placeholder:"Custom RPC URL",value:wt,onChange:Vt=>Et(Vt.target.value)}),jsxRuntimeExports.jsx(InputRightAddon,{pr:"4px",children:jsxRuntimeExports.jsx(Button,{disabled:et(wt),fontSize:"14px",fontWeight:"500",h:"32px",w:"78px",borderRadius:"8px",onClick:()=>{Lt({name:"Custom",link:wt})},children:"Save"})})]})]})},H5RPCNode=()=>{const{currentNode:a}=useRpcConfigStore(),[s,et]=reactExports.useState(!1),tt=()=>{et(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_rpc",label:"RPC Node",value:a.name,onClick:()=>et(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:s,title:"RPC Node",onClose:()=>et(!1),footer:null,children:jsxRuntimeExports.jsx(Box,{mb:"12px",children:jsxRuntimeExports.jsx(RPCContent,{closeModal:tt})})})]})},H5Settings=({language:a,preferred:s,rpcNode:et,swapWidgetDisplay:tt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SwapWidgetDisplay,{icon:tt.icon,h:"48px",borderRadius:"8px",color:"text_paragraph"}),jsxRuntimeExports.jsx(H5RPCNode,{}),jsxRuntimeExports.jsx(H5Preferred,{value:s.value,options:s.options,onValueChange:at=>s.onValueChange(at)})]}),ConnectButton=reactExports.lazy(()=>__vitePreload(()=>import("./ConnectButton-CxcmEtyQ.js").then(a=>a.a),__vite__mapDeps([12,8,3,6]))),H5Header=({menus:a,logo:s,setting:et,notifications:tt,chain:at,jump:ct,isCetusPump:ut,children:bt})=>{const[wt,Et]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Flex,{w:"100%",justifyContent:"space-between",align:"center",p:"0px 8px 0px 12px",h:"48px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[jsxRuntimeExports.jsx(Image$1,{src:"/images/img-logo@2x.png",h:"32px",alt:"logo",onClick:()=>ct("/")}),jsxRuntimeExports.jsxs(Flex,{align:"center",gap:"8px",children:[at&&jsxRuntimeExports.jsx(SwitchChain,{...at}),ut&&jsxRuntimeExports.jsx(BackButton,{w:"114px",h:"36px",text:"Back to DEX",onClick:()=>ct("/")}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{}),children:jsxRuntimeExports.jsx(ConnectButton,{isCetusPump:ut})}),tt&&jsxRuntimeExports.jsx(Notifications,{}),jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg"},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_menu",onClick:()=>Et(!wt)})})]})]}),jsxRuntimeExports.jsx(H5Menu,{menus:a,setting:et,title:jsxRuntimeExports.jsx(Image$1,{src:s.image,h:"32px",alt:"logo",onClick:()=>ct(s.url)}),isOpen:wt,onClose:()=>Et(!1),jump:ct,isCetusPump:ut,children:bt})]})},H5Menu=({menus:a,setting:s,title:et,isOpen:tt,onClose:at,jump:ct,isCetusPump:ut,children:bt})=>{var Ut;const{pathname:wt}=useLocation(),Et=a==null?void 0:a.find(Vt=>!!(Vt!=null&&Vt.socials)),[Ft,jt]=reactExports.useState([]),Lt=Vt=>{Ft.includes(Vt)?jt([]):jt([Vt])};return jsxRuntimeExports.jsx(Drawer,{title:et,isOpen:tt,onClose:at,placement:"left",size:"full",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",h:"100%",justify:"space-between",children:[jsxRuntimeExports.jsx(VStack,{gap:"36px",w:"100%",align:"flex-start",mt:"32px",children:a.map(Vt=>{var Yt;if(Vt.children){const er=isMenuActive(Vt,wt);return jsxRuntimeExports.jsxs(Box,{w:"100%",children:[jsxRuntimeExports.jsxs(HStack,{onClick:()=>Lt(Vt.title),sx:{p:{color:er?"text_caption":"text_paragraph"},svg:{fill:er?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsx(Text,{fontSize:"16px",children:Vt.title}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:Ft.includes(Vt.title)?"rotate(180deg)":"rotate(0deg)"})]}),Ft.includes(Vt.title)&&jsxRuntimeExports.jsx(VStack,{mt:"12px",bg:"bg_secondary",gap:"24px",p:"20px 16px",w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",borderRadius:"8px",children:(Yt=Vt.children)==null?void 0:Yt.map(tr=>{const nr=isMenuActive(tr,wt);return jsxRuntimeExports.jsx(Item,{item:{...tr,onClick:(tr==null?void 0:tr.type)==="onClick"?()=>{var ir;(ir=tr==null?void 0:tr.onClick)==null||ir.call(tr),at()}:void 0},jump:ir=>{ct==null||ct(ir),at()},isActive:nr},tr.title)})})]},Vt.title)}return jsxRuntimeExports.jsx(NavLink,{type:Vt==null?void 0:Vt.type,onClick:()=>{(Vt==null?void 0:Vt.type)==="onClick"&&(ct==null||ct(Vt.path),at())},link:Vt.path,isActive:isMenuActive(Vt,wt),children:jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:Vt.title})},Vt.title)})}),jsxRuntimeExports.jsxs(VStack,{w:"100%",children:[jsxRuntimeExports.jsx(H5Settings,{...s,isCetusPump:ut}),jsxRuntimeExports.jsx(HStack,{w:"100%",children:Et&&(Et==null?void 0:Et.socials)&&((Ut=Et==null?void 0:Et.socials)==null?void 0:Ut.map(Vt=>jsxRuntimeExports.jsx(Flex,{flex:"1",onClick:()=>window.open(Vt.path),padding:"14px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"center",align:"center",_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:Vt.icon?jsxRuntimeExports.jsx(Box,{children:typeof Vt.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:Vt.icon,variant:"gray"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:Vt.icon.xlinkHref,variant:"gray"})}):null},Vt.title)))}),bt]})]})})},Item=({item:a,jump:s,isActive:et})=>{var ct;const[tt,at]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",h:"20px",lineHeight:"20px",onClick:()=>{var ut;return a!=null&&a.children&&((ut=a==null?void 0:a.children)==null?void 0:ut.length)>1?at(!tt):(a==null?void 0:a.type)==="onClick"?a==null?void 0:a.onClick():(a==null?void 0:a.type)==="_blank"?window.open(a.path,"_blank"):s(a.path)},sx:{p:{color:et?"text_caption":"text_paragraph"},svg:{fill:et?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:a==null?void 0:a.icon,variant:"gray"}),jsxRuntimeExports.jsxs(Box,{position:"relative",children:[jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:a.title}),(a==null?void 0:a.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),a.children&&a.children.length>0&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:tt?"rotate(180deg)":"rotate(0deg)"})]},a.title),tt&&a.children&&a.children.length>0&&((ct=a.children)==null?void 0:ct.map(ut=>jsxRuntimeExports.jsx(Item,{item:ut,jump:s,isActive:!1},ut.title)))]})};var c=class{constructor(){dn(this,"_listeners",{})}on(a,s,et=0){this._listeners[a]||(this._listeners[a]=[]),s._priority=et,this._listeners[a].indexOf(s)===-1&&(this._listeners[a].push(s),this._listeners[a].length>1&&this._listeners[a].sort(this.listenerSorter))}listenerSorter(a,s){return a._priority-s._priority}off(a,s){if(this._listeners[a]===void 0)return;if(s===void 0){delete this._listeners[a];return}let et=this._listeners[a].indexOf(s);-1<et&&this._listeners[a].splice(et,1)}trigger(a,s={}){if(typeof a=="string"&&(a={type:a,data:typeof s=="object"&&s!==null?s:{}}),typeof this._listeners[a.type]<"u")for(let et=this._listeners[a.type].length-1;et>=0;et--)this._listeners[a.type][et](a)}destroy(){this._listeners={}}},r=class extends c{constructor(s=Math.random()*100|0){super();dn(this,"id");dn(this,"connected");dn(this,"connecting");dn(this,"isChild");dn(this,"debug");dn(this,"supported");dn(this,"origin");dn(this,"_sendLater");dn(this,"iframe");this.id=`BELLHOP:${s}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(s){if(this.target===s.source){if(this.logDebugMessage(!0,s),s.data!=="connected"){let et=s.data;if(typeof et=="string")try{et=JSON.parse(et)}catch(tt){console.warn("Bellhop error: ",tt)}this.connected&&typeof et=="object"&&et.type&&this.trigger(et);return}this.onConnectionReceived(s.data)}}onConnectionReceived(s){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(s,this.origin)}for(let et=0;et<this._sendLater.length;et++){let{type:tt,data:at}=this._sendLater[et];this.send(tt,at)}this._sendLater.length=0,this.trigger("connected")}connect(s,et="*"){var tt;this.connecting||(this.disconnect(),this.connecting=!0,s instanceof HTMLIFrameElement&&(this.iframe=s),this.isChild=s===void 0,this.supported=!0,this.isChild&&(this.supported=window!=s),this.origin=et,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):(tt=this.target)==null||tt.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(s,et={}){var at;if(typeof s!="string")throw"The event type must be a string";let tt={type:s,data:et};this.logDebugMessage(!1,tt),this.connecting?this._sendLater.push(tt):(at=this.target)==null||at.postMessage(JSON.stringify(tt,(ct,ut)=>typeof ut=="bigint"?ut.toString():ut),this.origin)}fetch(s,et,tt={},at=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let ct=ut=>{at&&this.off(ut.type,ct),et(ut)};this.on(s,ct),this.send(s,tt)}respond(s,et={},tt=!1){let at=this,ct=async function(ut){tt&&at.off(ut,ct),typeof et=="function"?at.send(ut.type,await et()):at.send(ut.type,et)};this.on(s,ct)}logDebugMessage(s=!1,et){this.debug&&typeof this.debug=="function"?console.log({isChild:this.isChild,received:s,message:et}):this.debug&&console.log(`Bellhop Instance (${this.isChild?"Child":"Parent"}) ${s?"Received":"Sent"}`,et)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){var s;return this.isChild?window.parent:(s=this.iframe)==null?void 0:s.contentWindow}},M=class{constructor(a,s,et){dn(this,"accounts",[]);dn(this,"currentAccount");dn(this,"bellhop",new r);dn(this,"walletMessageListener");dn(this,"onAccountChangeListner");dn(this,"version","1.0.0");dn(this,"name","MSafe Wallet");dn(this,"icon","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ3IiBoZWlnaHQ9IjE3MCIgdmlld0JveD0iMCAwIDI0NyAxNzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAyLjU5MyAyMy4wMTNDMTA3LjQ5OSAyNi4wNTU4IDExMC43OTQgMzAuODc4NSAxNDAuOTEyIDc5LjEwMzlDMTcyLjQxOSAxMjkuNTUyIDE3My44NjQgMTMyLjExNCAxNzMuODY0IDEzNy41MzZDMTczLjg2NCAxNDIuNDUxIDE3My4zNCAxNDMuNzI1IDE2OS45MTcgMTQ3LjExMkMxNjYuNDc2IDE1MC41MTggMTY1LjIyMiAxNTEuMDE5IDE2MC4xMzggMTUxLjAxOUMxNTUuNTg0IDE1MS4wMTkgMTUzLjUzNiAxNTAuMzc4IDE1MC43OTcgMTQ4LjA5N0MxNDguODY4IDE0Ni40OTEgMTM5Ljg2MiAxMzMuMTc1IDEzMC43ODUgMTE4LjUwOEMxMDMuNzE5IDc0Ljc3NDEgOTAuMDYxIDUzLjE2NzYgODkuNzI2NyA1My41NTQ5Qzg2LjY2ODUgNTcuMTAzMyA3OC42NjEgNzIuMzY1NiA3OC42NjEgNzQuNjQ0M0M3OC42NjEgNzYuNTM4IDg0LjQ0NjMgODcuMzAwNCA5My43MjA1IDEwMi42NThDMTAyLjAwMyAxMTYuMzc0IDEwOS41OTQgMTI5LjUyNCAxMTAuNTg5IDEzMS44ODFDMTE0LjQ2NCAxNDEuMDYyIDEwNy43NTQgMTUxLjAxOSA5Ny42ODc3IDE1MS4wMTlDOTQuODQwOSAxNTEuMDE5IDkxLjIxNTEgMTUwLjE3OCA4OS42MzAzIDE0OS4xNTFDODguMDQ1NSAxNDguMTIyIDgwLjk3OTUgMTM3Ljc4IDczLjkyODcgMTI2LjE2OUM2Ni44Nzc4IDExNC41NTYgNjAuNjc0NSAxMDUuMDU1IDYwLjE0MjggMTA1LjA1NUM1OS42MTEgMTA1LjA1NSA1My42OTMzIDExNC4yMzQgNDYuOTkzMSAxMjUuNDUyQzQwLjI5MjkgMTM2LjY2OSAzMy43MjYyIDE0Ni44MTUgMzIuNDAxNSAxNDcuOTk1QzMxLjA3NjcgMTQ5LjE3NiAyNy43MDYzIDE1MC4zOTYgMjQuOTEyOSAxNTAuNzA5QzE1LjgzODQgMTUxLjcyMSA5IDE0NS44NzggOSAxMzcuMTFDOSAxMzIuODQyIDkuMDQ4NzYgMTMyLjc1MiA0My41MzU2IDc0LjAyOTVDNTcuODI1NCA0OS42OTczIDcxLjIyMTIgMjguMDc5MyA3My4zMDQxIDI1Ljk4OTFDODEuMDc3MSAxOC4xODc5IDkyLjg4IDE2Ljk4OTQgMTAyLjU5MyAyMy4wMTNaTTE2Ni45MDEgMjMuMDIzM0MxNzAuMzA4IDI2LjQ4MjEgMjMzLjQ5OSAxMjcuMTE2IDIzNS40NDcgMTMyLjE4NUMyMzguMjU4IDEzOS41MDQgMjM1LjI3NyAxNDYuMzEyIDIyNy42NjUgMTQ5Ljk2QzIyMy41NDcgMTUxLjkzMyAyMjIuMDczIDE1Mi4xMSAyMTguMjQ1IDE1MS4wODlDMjE1Ljc0OSAxNTAuNDI0IDIxMi44NjYgMTQ4Ljk2IDIxMS44MzggMTQ3LjgzNUMyMTAuODA5IDE0Ni43MSAxOTQuNzk2IDEyMS41IDE3Ni4yNTMgOTEuODExOEMxNDAuMDU0IDMzLjg1NyAxNDAuMDQ0IDMzLjgzNTIgMTQ0LjI3NCAyNS43Mzk4QzE0OC4yNjMgMTguMTAxNyAxNjAuNTk0IDE2LjYyMjggMTY2LjkwMSAyMy4wMjMzWiIgZmlsbD0iIzQ4QjVBNyIvPgo8L3N2Zz4K");dn(this,"chains",[SUI_MAINNET_CHAIN,SUI_TESTNET_CHAIN]);dn(this,"features",{"standard:connect":{version:"1.0.0",connect:async()=>{this.bellhop.send("connect");let a=await this.fetch("account");return this.accounts=a,a.length>0&&(this.currentAccount=a[0]),{accounts:a}}},"standard:events":{version:"1.0.0",on:a=>()=>{}},"sui:signMessage":{version:"1.0.0",signMessage:async()=>{throw new Error("No impl")}},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:async()=>{throw new Error("No impl")}},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:async a=>this.proposeIntention(a)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:async a=>this.proposeIntention(a)}});this.appName=a,this.clientUrl=s,this.network=et,this.bellhop.connect(),this.bellhop.on("walletMessage",async tt=>{this.walletMessageListener&&this.walletMessageListener.onMessage(tt.data)}),this.bellhop.on("accountChange",async tt=>{this.currentAccount=tt.data,this.onAccountChangeListner&&this.onAccountChangeListner.onAccountChange(this.currentAccount)})}setWalletMessageListener(a){this.walletMessageListener=a}setOnAccountChangeListener(a){this.onAccountChangeListner=a}static inMSafeWallet(){return typeof window<"u"&&typeof document<"u"&&typeof parent<"u"&&typeof parent.window<"u"&&parent.window!==window}async proposeIntention(a){if(!this.currentAccount)throw new Error("Wallet not connected");let s=a.transactionBlock.serialize();this.bellhop.send("proposeIntention",{application:this.appName,...a,transactionBlockSerialize:s,clientUrl:this.clientUrl,network:this.network,account:this.currentAccount,isTransaction:!0});let et;return this.bellhop.on("cancel",async()=>{et&&et("User canceled")}),new Promise((tt,at)=>{et=at})}async fetch(a){return new Promise(s=>{this.bellhop.fetch(a,et=>{s(et.data)})})}};function ConnectWalletModal(a){const{isOpen:s,onClose:et}=a,tt=useWallets(),{isApp:at}=useWindowWidth(),{mutate:ct}=useConnectWallet(),{customToast:ut,successTsToast:bt}=useGlobalToast(),wt=Ft=>{ut(jsxRuntimeExports.jsxs(VStack,{gap:"8px",alignItems:"start",children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),jsxRuntimeExports.jsx(Heading,{fontSize:"14px",fontWeight:"400",whiteSpace:"nowrap",color:"primary_red",children:"Wallet Not Ready Error"})]}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"Please install"}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:"14px",color:"primary",wordBreak:"break-all",onClick:()=>{window.open(Ft.url,"_blank")},children:Ft.name}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"extension first"})]})]}))},Et=Ft=>{console.log("🚀 ~ file: ConnectWalletModal.tsx:30 ~ ConnectWalletModal ~ supportWalletList:",{supportWalletList:tt,wallet:Ft});const jt=(M==null?void 0:M.inMSafeWallet())&&(Ft==null?void 0:Ft.name)==="MSafe",Lt=tt.find(Vt=>Vt.name===Ft.walletName);if(!jt&&!Lt){wt(Ft);return}const Ut=jt?{wallet:new M("cetus",getFullnodeUrl("mainnet"),"sui:mainnet"),silent:!0}:{wallet:Lt};ct(Ut,{onSuccess:Vt=>{bt({getShowInfo:Yt=>({iconUrl:Ft.icon.startsWith("http")?Ft.icon:`/images/wallet/${Ft.icon}.png`,toastTitleText:"Wallet Connected"})}),et(),console.log("🚀 ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onSuccess:",Ft.name,Vt)},onError:Vt=>{console.log("🚀 ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onError:",Vt),String(Vt).includes("MetaMask not detected")&&wt(Ft)}})};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:et,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:at?"300px":"552px",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Connect a Wallet"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"16px",textAlign:"center",children:jsxRuntimeExports.jsx(VStack,{children:jsxRuntimeExports.jsx(Grid,{templateColumns:at?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:13,w:"100%",children:suiWalletList.map(Ft=>jsxRuntimeExports.jsx(GridItem,{colSpan:1,children:jsxRuntimeExports.jsxs(HStack,{p:"0 12px",h:"60px",bg:"bg_six",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{p:{color:"primary"}},onClick:()=>{Et(Ft)},children:[jsxRuntimeExports.jsx(Image$1,{src:Ft.icon.startsWith("http")?Ft.icon:`/images/wallet/${Ft.icon}.png`,alt:"SVG Image",boxSize:{base:"28px",lg:"36px"},objectFit:"cover",borderRadius:"8px",loading:"lazy"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"4px",children:[Ft.name=="SuiMetaMaskSnap"?jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"0px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",textAlign:"left",children:"Sui"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"MetaMask"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"Snap"})]}):jsxRuntimeExports.jsx(Text,{lineHeight:"16px",textAlign:"left",color:"text_caption",whiteSpace:"normal",wordBreak:"break-word",overflowWrap:"break-word",children:Ft.name}),Ft.name=="Binance"&&jsxRuntimeExports.jsx(Text,{fontWeight:"500",fontSize:"10px",p:"2px 6px",textAlign:"center",borderRadius:"4px",bg:"primary_opacity.10",color:"primary",children:"Mobile"})]})]})},Ft.name))})})})]})]})}const ConnectWalletModal$1=reactExports.memo(ConnectWalletModal),CetusLayout=reactExports.lazy(()=>__vitePreload(()=>import("./CetusLayout-C6ZL40gr.js").then(a=>a.C),__vite__mapDeps([13,14,15,16,12,8,3,6,17,18,19,2,20,21,22,23,24,25,26,7,27,28,29,30,1,10,31,32,33,34,35,36,9])));function Layout(){const{getTokens:a}=useGetTokens(),{currentAccount:s,addressChangeVersion:et}=useAccountStore(),{clearData:tt}=useXCetusStore();return reactExports.useEffect(()=>{(s===void 0||et>0)&&tt()},[s,et]),reactExports.useEffect(()=>{a()},[]),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(CetusLayout,{})})})}const Stats=reactExports.lazy(()=>__vitePreload(()=>import("./Stats-By2k9QOg.js"),__vite__mapDeps([37,38,39,40,41,42,22,43,33,44,45,15,46,47,18,6,48,49,50,51,1,2,3,52,53,34]))),Swap=reactExports.lazy(()=>__vitePreload(()=>import("./Swap-4IgNTLak.js"),__vite__mapDeps([54,55,20,56]))),Dca=reactExports.lazy(()=>__vitePreload(()=>import("./Dca-DH1SzyGz.js"),__vite__mapDeps([57,58,20,59,55,26,41,6,34,60,22,10,8,61,62,63,2,25,19,21,7,64,29,36,32,33,65,1,3,66,67,68]))),Pools=reactExports.lazy(()=>__vitePreload(()=>import("./Pools-DyaRF_K2.js"),__vite__mapDeps([69,70,22,21,34,71,72,5,1,2,3,36,38,39,40,41,42,43,33,44,45,15,46,47,18,6,48,49,11,50,51,52,73,74,23,7,8,26,20,75,27,19,10,35,76,77,78,79,80,81,60,82,83,84,67,68,85]))),Liquidity=reactExports.lazy(()=>__vitePreload(()=>import("./Liquidity-BGHP7Y2q.js"),__vite__mapDeps([86,50,22,39,73,74,23,70,21,2,7,8,26,20,75,27,19,10,52,35,36,34,76,77,78,79,1,3,80,81,60,14,15,16,40,41,42,43,33,44,45,46,47,18,6,53,82,61,62,67,68,87,88,89,31,90,83,84,91,92,72,5,93,63,94,95,66,28,32,17,29,65]))),PositionDetail=reactExports.lazy(()=>__vitePreload(()=>import("./PositionDetail-T3l3QCLQ.js"),__vite__mapDeps([96,50,51,1,2,3,52,35,20,27,36,7,8,87,21,22,39,47,88,68,89,10,77,26,85,82,75,78,70,79,80,81,60,61,62,94,93,63,32,33,97,98,90,83,84,23,34,67]))),Farms=reactExports.lazy(()=>__vitePreload(()=>import("./Farms-DZQem5fq.js"),__vite__mapDeps([99,98,26,8,75,78,2,70,22,21,1,3,80,81,60,6,50,100,51,52,42,34,48,67,68]))),CreatePool=reactExports.lazy(()=>__vitePreload(()=>import("./CreatePool-D2YlNZk3.js"),__vite__mapDeps([101,91,2,27,92,14,15,16,72,5,1,3,36,81,21,22,10,31,95,66,89,7,8,32,33,94,102,93,26,20,78,70,79,75,63,88,68,34]))),Limit=reactExports.lazy(()=>__vitePreload(()=>import("./Limit-j1yZLavF.js"),__vite__mapDeps([103,41,6,60,26,8,2,1,3,100,78,70,22,21,50,98,75,80,81,51,52,42,25,19,20,7,63,32,33,65,58,59,55,104,24,27,28,29,30,10,31,56,35,36,16,15,45,66,67,68,34]))),SelectForLiquidity=reactExports.lazy(()=>__vitePreload(()=>import("./SelectForLiquidity-D70zirkH.js"),__vite__mapDeps([105,91,2,27,92,14,15,16,72,5,1,3,36,102,93,26,20,78,70,22,21,79,75,8,7,63,88]))),Vaults=reactExports.lazy(()=>__vitePreload(()=>import("./Vaults-DXtd4iU_.js"),__vite__mapDeps([106,6,74,23,22,70,21,2,7,8,26,20,75,27,19,10,52,77,51,1,3,42,71,72,5,36,34,48]))),XCetus=reactExports.lazy(()=>__vitePreload(()=>import("./XCetus-CRAbxQX3.js"),__vite__mapDeps([107,26,75,8,7,84,2,32,33,30,10,77,67,68]))),VaultsDetailPage=reactExports.lazy(()=>__vitePreload(()=>import("./VaultsDetailPage-Cs2BsjJ9.js"),__vite__mapDeps([108,35,20,27,36,7,8,74,23,22,70,21,2,26,75,19,10,6,34,77,1,3,76,64,43,33,44,45,15,46,47,18,109,53,31,110,32,61,62,52,97,94,78,79,93,63,50,98,80,81,60,90,83,84]))),Notfound=reactExports.lazy(()=>__vitePreload(()=>import("./404-DoXgv650.js"),[])),ErrorPage=reactExports.lazy(()=>__vitePreload(()=>import("./Error-Dt4vYRZb.js"),[])),TestCoin=reactExports.lazy(()=>__vitePreload(()=>import("./TestCoin-CZZ-1MK_.js"),[])),TestNotifi=reactExports.lazy(()=>__vitePreload(()=>import("./TestNotifi-DBSZzeD6.js"),__vite__mapDeps([111,83,84,2,79,78,70,22,21]))),RedirectToPools=()=>jsxRuntimeExports.jsx(Navigate,{to:"/pools",replace:!0}),router=[{path:"/",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(GeneralLoading,{}),children:jsxRuntimeExports.jsx(Layout,{})}),children:[{path:"swap",element:jsxRuntimeExports.jsx(Swap,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Swap,{})}]},{path:"limit",element:jsxRuntimeExports.jsx(Limit,{}),children:[{path:":pay/:target",element:jsxRuntimeExports.jsx(Limit,{})}]},{path:"dca",element:jsxRuntimeExports.jsx(Dca,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Dca,{})}]},{path:"pools/*",element:jsxRuntimeExports.jsx(Pools,{})},{path:"pool/list",element:jsxRuntimeExports.jsx(RedirectToPools,{})},{path:"position-detail",element:jsxRuntimeExports.jsx(PositionDetail,{}),children:[{path:":position_nft_id",element:jsxRuntimeExports.jsx(PositionDetail,{})}]},{path:"select-pool",element:jsxRuntimeExports.jsx(SelectForLiquidity,{})},{path:"liquidity/*",element:jsxRuntimeExports.jsx(Liquidity,{})},{path:"create-pool",element:jsxRuntimeExports.jsx(CreatePool,{}),children:[{path:":base/:quote/:fee",element:jsxRuntimeExports.jsx(CreatePool,{})},{path:":base/:quote/",element:jsxRuntimeExports.jsx(CreatePool,{})}]},{path:"farms",element:jsxRuntimeExports.jsx(Farms,{})},{path:"vaults",element:jsxRuntimeExports.jsx(Vaults,{})},{path:"vaults-detail",element:jsxRuntimeExports.jsx(VaultsDetailPage,{}),children:[{path:":vaultId/:category",element:jsxRuntimeExports.jsx(VaultsDetailPage,{})}]},{path:"xCetus",element:jsxRuntimeExports.jsx(XCetus,{})},{path:"buy-crypto",element:jsxRuntimeExports.jsx("div",{children:"buy-crypto"})},{path:"stats",element:jsxRuntimeExports.jsx(Stats,{})},{path:"error",element:jsxRuntimeExports.jsx(ErrorPage,{})},{path:"test-notifi",element:jsxRuntimeExports.jsx(TestNotifi,{})},{path:"test-coin",element:jsxRuntimeExports.jsx(TestCoin,{})},{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/swap"})}]},{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/404"})},{path:"/404",element:jsxRuntimeExports.jsx(Notfound,{})}],router$1=createBrowserRouter(router),{networkConfig}=createNetworkConfig({mainnet:{url:getFullnodeUrl("mainnet")}}),queryClient=new QueryClient;function App(){return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(SuiClientProvider,{networks:networkConfig,defaultNetwork:"mainnet",children:jsxRuntimeExports.jsx(WalletProvider,{autoConnect:!0,stashedWallet:{name:"Cetus"},children:jsxRuntimeExports.jsx(RouterProvider,{router:router$1})})})})}client$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(App,{})}));export{CoinPairImage as $,dataAttr as A,Box as B,Center as C,ariaAttr as D,mergeRefs as E,callAllHandlers as F,orient$1 as G,HStack as H,Icon as I,forwardRef as J,useMultiStyleConfig as K,omitThemingProps as L,useTheme as M,createContext as N,chakra as O,cx as P,usePeripherySDKStore as Q,create$3 as R,Skeleton as S,Text as T,Block as U,VStack as V,bnToAmount as W,formatNumber as X,timeFormatUTC as Y,Button as Z,__vitePreload as _,useNavigate as a,fetchGet as a$,useAccountStore as a0,SkeletonCircle as a1,useTokenPriceStore as a2,useTokenPrice as a3,d as a4,Decimal$1 as a5,useDebounceFunction as a6,toDecimalsAmount as a7,envConfigs$1 as a8,formatNumberWithDown as a9,fromDecimalsAmountFix as aA,Flex as aB,formatCurrency$1 as aC,Tooltip as aD,ee$1 as aE,useNotifiStore as aF,fixCoinType as aG,isSymbol as aH,isObject$1 as aI,root as aJ,useClmmSDKStore as aK,textEllipses as aL,removeComma as aM,Grid as aN,Divider$1 as aO,formatCurrencyWithKMB as aP,useDeepCompareEffect as aQ,d$3 as aR,amountToBN as aS,TickUtil as aT,isAvailableObject as aU,getBalanceChanges as aV,parsePositionIdFromEvent as aW,ModalFooter as aX,getNearestTickByTick as aY,formatTickPrice as aZ,extractStructTagFromType$1 as a_,useTokenSelectStore as aa,addComma as ab,Modal$1 as ac,ModalOverlay as ad,ModalContent as ae,ModalHeader as af,Heading as ag,ModalCloseButton as ah,ModalBody as ai,Input as aj,NumericFormatInput as ak,useGlobalToast as al,Image$1 as am,useInterval as an,CheckBox as ao,Switch as ap,CetusTooltip as aq,cancelBubble as ar,useGetTokenSource as as,IconTipsTriangle as at,Popover as au,PopoverTrigger as av,Portal as aw,PopoverContent as ax,PopoverBody as ay,fixRounding as az,useWindowWidth as b,Le$1 as b$,useWebConfigStore as b0,useDisclosure as b1,BackButton as b2,useLocation as b3,H5MapTableItem as b4,transColumns2H5 as b5,timeFormat as b6,identity as b7,React$2 as b8,TickMath as b9,SliderFilledTrack as bA,SliderThumb as bB,W$1 as bC,useRpcConfigStore as bD,Comma as bE,clsx as bF,formatTimestamp as bG,castPath as bH,toKey as bI,isIndex as bJ,baseGet as bK,arrayMap as bL,formatNumberWithKMB as bM,persist as bN,VAULT_FILTER as bO,le as bP,B as bQ,CoinAssist as bR,qt as bS,ChakraProvider as bT,theme as bU,useSigner as bV,Transaction as bW,coinWithBalance as bX,TransactionUtil as bY,useNotifiAlert as bZ,buildPosition as b_,useParams as ba,getTickDataFromUrlData as bb,process$1 as bc,useColorMode as bd,BN as be,ClmmPoolUtil as bf,bnExports as bg,convertScientificToDecimal as bh,InputGroup as bi,InputRightAddon as bj,isSortedSymbols as bk,normalizeSuiAddress$1 as bl,formatPercentage as bm,Ei as bn,fromDecimalsAmount as bo,Pe$2 as bp,Menu as bq,MenuButton as br,MenuList as bs,MenuItem as bt,baseIteratee as bu,fixDown as bv,formatNumberWithThreshold as bw,useXCetusStore as bx,Slider as by,SliderTrack as bz,SingleCoinImage as c,sleepTime as c$,g as c0,LocalStorageService as c1,POOL_FAVORITE_LIST as c2,IS_INCENTIVIZED_ONLY as c3,IS_ALL_POOLS as c4,IS_WATCH_LIST as c5,usePopoverContext as c6,usePopoverStyles as c7,CloseButton as c8,defaultNodes as c9,getWallets as cA,ReadonlyWalletAccount as cB,useCryptoStore as cC,useIntNotifi as cD,Outlet as cE,GeneralLoading as cF,global$1 as cG,__spreadArray as cH,__read$3 as cI,useSwitchAccount as cJ,addressAbridge as cK,formatDateTime as cL,useCurrentWallet as cM,useCurrentAccount as cN,useDisconnectWallet as cO,suiWalletList as cP,useTokenSelect as cQ,useStyleConfig as cR,useFormControlContext as cS,useFormControlStyles as cT,__assign$1 as cU,__awaiter as cV,__generator$1 as cW,__rest$1 as cX,baseIsEqual as cY,GridItem as cZ,FormControl as c_,src_default as ca,AggregatorClient22 as cb,Env as cc,SuiClient as cd,F_ as ce,_$1 as cf,ae as cg,j as ch,si as ci,Link$1 as cj,ExplorerContent as ck,RPCContent as cl,SwapWidgetDisplay as cm,isMenuActive as cn,NavLink as co,Notifications as cp,H5Header as cq,getAugmentedNamespace as cr,reactDomExports as cs,getDefaultExportFromCjs$2 as ct,defaultExplorers as cu,TokenSelectCard as cv,useTransactionStore as cw,useConnectWallet as cx,M as cy,getFullnodeUrl as cz,d$2 as d,BlankSpaceRegex as d$,dealWithFastRouterSwapParamsForMsafe as d0,InputRightElement as d1,getNative as d2,eq$1 as d3,isPrototype as d4,arrayLikeKeys as d5,isArrayLike as d6,overArg as d7,stubArray as d8,arrayPush as d9,getAllKeys as dA,TradeInput as dB,defineStyle$1 as dC,keyframes$1 as dD,dayjs as dE,crypto$1 as dF,generateOnRampURL as dG,Toast as dH,CoinSelect$2 as dI,CustomToast as dJ,Notfound$1 as dK,ErrorBoundary as dL,PreView as dM,TokenAvatar as dN,index as dO,Upload as dP,ToastTitle as dQ,TitleText as dR,ConnectWalletModal$1 as dS,useFileUpload as dT,getCroppedImg as dU,calcNumber as dV,replaceFilename as dW,ExcludeCNCharRegex as dX,ExcludeSpecialCharRegex as dY,SymbolExcludeSpecialCharRegex as dZ,SymbolLimitRegex as d_,getSymbols as da,baseGetAllKeys as db,Buffer$1 as dc,commonjsGlobal$1 as dd,axios_1$1 as de,base64ToUint8Array as df,TransactionDataBuilder as dg,parseOwnerBalanceChanges as dh,normalizeCoinType$1 as di,removePercentSign as dj,useTokenBalanceStore as dk,useTokenStore as dl,coinMetadataToCoinInfo as dm,Symbol$1 as dn,isArray as dp,isArguments as dq,isObjectLike as dr,baseGetTag as ds,keys as dt,Uint8Array$1 as du,getTag as dv,baseUnary as dw,nodeUtil as dx,isBuffer as dy,Stack as dz,useExplorer as e,WebSiteUrlRegex as e0,XUrlRegex as e1,DiscordRegex as e2,TelegramRegex as e3,SearchInput as e4,formatPrice as f,getTimeDifferenceString as g,TextWrap as h,SelectTab as i,jsxRuntimeExports as j,Spinner$1 as k,Stack$1 as l,useCallbackRef as m,getIsReversed as n,useControllableState as o,clampValue as p,percentToValue as q,reactExports as r,symbolDataDisplayProcessing as s,roundValueToStep as t,useFetch as u,valueToPercent as v,getStyles as w,getIds as x,useUpdateEffect as y,usePanEvent as z};
