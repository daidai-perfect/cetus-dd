import{d as g,j as e,dE as y,f as u,r as a,V as m,H as x,T as d,e as b,a3 as _,c as w,B as S}from"./index-BAaNMf6I.js";import{A as R}from"./SingleTokenInfo-Bn1NHE3L.js";import{M as T}from"./SwapConfirmBlock-DXbL7ZHI.js";import{T as L}from"./TooltipIcon-3wZe9t1i.js";import{R as P}from"./Ratio-bVuo_IgV.js";import{R as v,Y as E}from"./YAxis-BpZtm4Pp.js";import{a as H,L as W}from"./LineChart-Dc-Tedz1.js";import{T as z}from"./generateCategoricalChart-P2qDq1gV.js";import"./useToken-DV8FZdgD.js";import"./CopyButton-DQJDRFeH.js";import"./aggregator-Bc6-3ljj.js";import"./useFindBestRouting-BELhLLHv.js";import"./global-Maqxa3B8.js";import"./useGetPoolList-Ch-cSiNu.js";import"./api-data-utils-BMdVRd3m.js";import"./useTransaction-Crsb5_N8.js";import"./useAccountBalance-Bsb5Bywf.js";import"./useTokenBalance-C-dsSwSH.js";import"./index-BTXIk96e.js";import"./usePriceImpact-BYQ4UTLk.js";import"./CurrentPrice-D099pCF6.js";import"./HighlightText-D-L3N57a.js";import"./HTextLabelBox-ByJi-I0M.js";import"./TradeConfirmAmountInfo-B757loci.js";import"./TradeInputGroup-CcjGo1i9.js";import"./_getAllKeysIn-BwzxuvtS.js";import"./throttle-BZ1RkcBX.js";import"./debounce-SA45KNB-.js";import"./linear-DYpwdEgO.js";import"./index-6ruRFy48.js";const A=({active:t,payload:p,label:l})=>{var i,s;return t&&p&&p.length?e.jsxs("div",{style:{backgroundColor:"#121212",border:"1px solid border_secondary",padding:"12px",borderRadius:"8px",position:"relative",left:"0px",top:"-30px",fontSize:"12px"},children:[e.jsx("p",{style:{color:"#909CA4"},children:y.unix((s=(i=p[0])==null?void 0:i.payload)==null?void 0:s.timestamp).format("MM/DD HH:mm")}),e.jsxs("p",{style:{color:"#fff",marginTop:"8px"},children:["$",u(p[0].value)]})]}):null};function B({data:t=[]}){const p=g(Math.min(...t.map(i=>i.price))).mul(.99999).toNumber(),l=g(Math.max(...t.map(i=>i.price))).mul(1.00001).toNumber();return e.jsx(v,{width:"100%",height:"100%",children:e.jsxs(H,{width:180,height:48,data:t,margin:{top:5,right:20,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"priceLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(117, 200, 255, 1)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(104, 255, 216, 1)"})]})}),e.jsx(E,{hide:!0,domain:[p,l]}),e.jsx(z,{cursor:!1,content:e.jsx(A,{})}),e.jsx(W,{type:"linear",dot:!1,dataKey:"price",stroke:"url(#priceLine)",strokeWidth:2})]})})}function oe({fromCoin:t,toCoin:p}){return a.useMemo(()=>[t,p].filter(Boolean).filter(i=>i==null?void 0:i.is_trusted),[t,p]).length?e.jsxs(m,{w:"100%",align:"flex-start",gap:"8px",children:[e.jsxs(x,{justify:"flex-start",h:"52px",align:"center",gap:"4px",children:[e.jsx(d,{fontSize:"14px",fontWeight:"500",color:"text_caption",h:"20px",lineHeight:"20px",children:"Price Reference"}),e.jsx(L,{type:"priceReference"})]}),e.jsxs(m,{w:"100%",gap:"28px",children:[(t==null?void 0:t.is_trusted)&&e.jsx(j,{coin:t}),(p==null?void 0:p.is_trusted)&&e.jsx(j,{coin:p})]})]}):null}const j=({coin:t})=>{const{getExplorerUrl:p}=b(),{getPriceKline:l,getTokenPrice:i}=_(),[s,h]=a.useState({price:[],daily_rate:""});a.useEffect(()=>{h({price:[],daily_rate:""})},[t]);const r=i(t==null?void 0:t.coin_type),c=async(n,f)=>{try{const o=await l(n,f);h(o)}catch(o){console.log(o,"error")}};return a.useEffect(()=>{r!=null&&r.base_symbol&&c(r==null?void 0:r.base_symbol,r==null?void 0:r.market)},[r==null?void 0:r.base_symbol,r==null?void 0:r.market]),!s||s.price.length===0?e.jsx(e.Fragment,{}):e.jsxs(m,{w:"100%",gap:"12px",children:[e.jsxs(x,{w:"100%",justify:"space-between",align:"flex-start",h:"32px",children:[e.jsxs(x,{children:[e.jsx(w,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px"}),e.jsxs(m,{align:"flex-start",gap:"4px",children:[e.jsx(d,{fontSize:"14px",h:"16px",lineHeight:"16px",fontWeight:"600",color:"text_caption",children:t==null?void 0:t.symbol}),e.jsx(d,{fontSize:"12px",h:"12px",lineHeight:"12px",fontWeight:"500",children:t==null?void 0:t.name})]})]}),e.jsxs(x,{children:[(r==null?void 0:r.market)&&e.jsx(T,{market:r==null?void 0:r.market}),e.jsxs(d,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:["$",(r==null?void 0:r.price)!==void 0?u(r==null?void 0:r.price):"--"]}),(s==null?void 0:s.daily_rate)&&(r==null?void 0:r.price)!==void 0&&e.jsx(P,{value:s==null?void 0:s.daily_rate})]})]}),e.jsxs(x,{w:"100%",justify:"space-between",align:"flex-end",gap:"0",children:[e.jsx(R,{address:t==null?void 0:t.coin_type,onClickLink:()=>window.open(p(t==null?void 0:t.coin_type,"coin")),wrapStyle:{border:"1px solid",borderColor:"border",h:"24px",borderRadius:"8px",p:"0 8px",bg:"bg_secondary"},fontWeight:"500"}),e.jsx(S,{flex:"0 0 210px",h:"24px",mr:"-13px",children:(r==null?void 0:r.price)!==void 0&&(s==null?void 0:s.price.length)>0&&e.jsx(B,{data:s==null?void 0:s.price})})]})]})};export{oe as default};
