import{a as f,j as e,F as M,T as g,o as J,f as I,W as K,Y as Z,Z as Q,H as X,$ as L,a0 as k,C as H,q as ee}from"./vendor-BowHGuwE.js";import{A as O,I as z,s as G,n as oe,L as se,a as U,d as ne,J as F,K as te,bx as ie,by as le,r as ae,a2 as re,v as ce}from"./index-gsbUcTxN.js";import{L as pe}from"./Loading-9Flk9u0a.js";import{N as xe}from"./NoData-DwPvHKvw.js";import{S as V}from"./SingleTokenInfo-Cp98kdQx.js";import{u as de}from"./useTokenBalance-CLfwnDJg.js";import{B as ue}from"./BackButton-IMeDcuAt.js";import{T as he}from"./TokenGoplusCard-Bqjbc75c.js";import{u as fe}from"./index-BxwScL2w.js";import"./useToken-D86igCts.js";import"./CopyButton-Cwc4Cc5l.js";import"./useAccountBalance-Cj6v5Cs9.js";import"./HTextLabelBox--v2fB3xw.js";const me=({keyword:o,currentTab:n,isHaveImg:t})=>{const{filterTokenLoading:p}=O(),x=f.useMemo(()=>{if(o)return"No tokens found";if(!o&&n==="Imported")return"No Imported Tokens";if(!o&&n==="Watchlist")return"No date avalaible"},[o,n]),d=f.useMemo(()=>o?e.jsxs(M,{alignItems:"center",children:[e.jsx(g,{height:"20px",lineHeight:"20px",children:"Or you can enter Coin Type"}),e.jsx(J,{label:"The unique id of coin",placement:"bottom",children:e.jsx("button",{children:e.jsx(z,{marginLeft:"4px",xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}):null,[o]);return p?null:e.jsx(xe,{type:"nodata",text:x,children:d,background:"none",noBorder:!0,noImg:!t})};function ge(o){const{balanceInfo:n}=de(o.tokenInfo);return e.jsx(I,{fontSize:"14px",children:G(n==null?void 0:n.balanceFormat,"",o.tokenInfo.decimals)})}function je({tokenInfo:o,onClose:n,onBack:t,isOpen:p}){return e.jsx(K,{autoFocus:!1,returnFocusOnClose:!1,isOpen:p,onClose:n,isCentered:!0,children:e.jsxs(Z,{overflow:"hidden",children:[e.jsx(Q,{children:e.jsxs(X,{gap:"12px",children:[e.jsx(ue,{onClick:t}),e.jsx(V,{portal:!1,token:o,imgBoxStyle:{w:"28px",h:"28px"}})]})}),e.jsx(L,{onClick:()=>n()}),e.jsx(k,{p:"0",children:e.jsx(he,{tokenInfo:o})})]})})}const q=({token:o,onSelectToken:n,isDisableSelectTokenItem:t,lastSelectedToken:p,currentTab:x,delImportTokenList:d,addUserCollectToken:j,delUserCollectToken:s,userCollectObj:S,isShowCollectListBox:T,isShowTokenListTab:b,onGoplusTokenClick:m,onClose:v,isNotAllowClick:y=!1,isHideDelIcon:w=!1})=>{const{isShowImportBtn:i,setTokenModalOpacity:u}=O(),{currentAccount:c}=oe(),{getTokenSource:N}=se(),[D,l]=f.useState(!1);f.useEffect(()=>{if(o){const a=N([o]);a&&a.length>0&&l(!0)}},[o]);const[W,C]=f.useState(!1),{isApp:h}=U();return e.jsxs(M,{minH:"64px",justifyContent:"space-between",alignItems:"center",cursor:o.coin_type==p&&t||y?"not-allowed":"pointer",userSelect:"none",p:"0 16px",marginTop:"8px",_hover:{bg:"primary_opacity.10",borderRadius:"14px"},opacity:o.coin_type==p&&t?"0.5":"1",onClick:()=>{y||n(o)},children:[e.jsx(V,{symbolFontWeight:"600",token:o,haveAddress:!0,imgBoxStyle:{w:"32px",h:"32px"},symbolFontSize:"14px",symbolEllipsesDecimals:20,nameEllipsesDecimals:28,warningIcon:{isNeedShow:x!=="Imported"&&D}}),e.jsxs(M,{alignItems:"center",children:[(c==null?void 0:c.address)&&e.jsxs(I,{textAlign:"right",mr:"4px",children:[e.jsx(ge,{tokenInfo:o}),(o==null?void 0:o.balanceUSD)!==void 0&&ne(o==null?void 0:o.balanceUSD).gt(0)&&e.jsx(g,{mt:"6px",fontSize:"12px",children:G(o==null?void 0:o.balanceUSD)})]}),!w&&!((o==null?void 0:o.is_verified)===void 0?o!=null&&o.is_trusted:o!=null&&o.is_verified)?e.jsx(F,{showTooltip:!h,placement:"top",tooltip:e.jsx(g,{fontSize:"12px",children:"Remove"}),children:e.jsx(H,{children:e.jsx(z,{marginLeft:"2px",xlinkHref:"#icon-icon_del",svgHover:"primary",onClick:a=>{a.stopPropagation(),d([o])}})})}):null,S[o.coin_type]&&T?e.jsx(F,{showTooltip:!h,placement:"top",tooltip:e.jsx(g,{fontSize:"12px",children:"Remove to Watchlist"}),children:e.jsx(H,{children:e.jsx(z,{marginLeft:"4px",xlinkHref:"#icon-icon_star_sel",svgFill:"primary",svgHover:"primary",onClick:a=>{a.stopPropagation(),s(o)}})})}):!i&&T?e.jsx(F,{showTooltip:!h,placement:"top",tooltip:e.jsx(g,{fontSize:"12px",children:"Add to Watchlist"}),children:e.jsx(H,{children:e.jsx(z,{marginLeft:"4px",xlinkHref:"#icon-icon_star",variant:"primary",onClick:a=>{a.stopPropagation(),j(o)}})})}):null,e.jsx(F,{placement:"top",tooltip:e.jsx(g,{fontSize:"12px",color:"text_caption",children:"Coin Info"}),children:e.jsx(H,{as:"button",ml:"4px",onClick:a=>{te(a),m?m(o):(a.target.blur(),C(!0),u(0))},children:e.jsx(z,{xlinkHref:"#icon-icon_tips"})})})]}),W&&e.jsx(je,{tokenInfo:o,isOpen:W,onBack:()=>{C(!1),u(1)},onClose:v})]})},Se=({list:o,onSelectToken:n,isDisableSelectTokenItem:t,lastSelectedToken:p,currentTab:x,delImportTokenList:d,addUserCollectToken:j,delUserCollectToken:s,userCollectObj:S,width:T,height:b,isShowCollectListBox:m,isShowTokenListTab:v,onClose:y,onGoplusTokenClick:w})=>{const i=f.useRef(null),u=fe({count:o.length,getScrollElement:()=>i.current,estimateSize:()=>64,overscan:10});return e.jsx("div",{ref:i,style:{height:b||"400px",overflowY:"auto"},children:e.jsx("div",{style:{height:`${u.getTotalSize()}px`,position:"relative"},children:u.getVirtualItems().map(c=>e.jsx("div",{style:{position:"absolute",top:c.start,left:0,width:"100%",height:c.size},children:e.jsx(q,{onGoplusTokenClick:w,onClose:y,token:o[c.index],onSelectToken:n,isDisableSelectTokenItem:t,lastSelectedToken:p,currentTab:x,delImportTokenList:d,addUserCollectToken:j,delUserCollectToken:s,isShowCollectListBox:m,isShowTokenListTab:v,userCollectObj:S})},o[c.index].coin_type))})})};function Fe(o){const{onSelectToken:n,keyword:t,currentLabel:p,currentTab:x,lastSelectedToken:d,isDisableSelectTokenItem:j,tokenList:s,isShowCollectListBox:S,isShowTokenListTab:T,onGoplusTokenClick:b,onClose:m,noDataHaveImg:v=!0,noClickImportItem:y=!1,bg:w,tokenListMaxHeight:i}=o,{delUserCollectToken:u,addUserCollectToken:c,addImportTokenList:N,delImportTokenList:D}=ie(),{filterTokenList:l,filterTokenLoading:W,userCollectObj:C,isShowImportBtn:h}=O(),{isApp:a}=U(),R=(s==null?void 0:s.length)*72>Number(i==null?void 0:i.replace("px","")),Y=(s==null?void 0:s.length)>6,_=f.useMemo(()=>t&&i?Number(i==null?void 0:i.replace("px",""))+80+"px":i,[i,t]),{tokenBalanceObj:A}=le(),{fetchTokenPrices:$}=ae();return f.useEffect(()=>{if(console.log("tokenBalanceObj",A),re(A)){const B=(s==null?void 0:s.filter(r=>{var P;return(r==null?void 0:r.coin_type)&&A[(P=ce(r==null?void 0:r.coin_type))==null?void 0:P.full_address]}))||[],E=B.map(r=>r==null?void 0:r.coin_type);console.log("ðŸš€ ~ useEffect ~ uniqueTokens:",B,E),$(E)}},[s==null?void 0:s.length]),e.jsxs(I,{maxHeight:_||"400px",pl:Y?"4px":"0px",overflow:"auto",children:[h&&t&&(l==null?void 0:l.length)>0&&e.jsx(M,{padding:"0 16px 12px",marginTop:"10px",children:e.jsx(I,{p:"16px",bg:"primary_yellow_opacity.10",borderRadius:"12px",children:e.jsx(g,{color:"primary_yellow",align:"left",fontSize:"12px",lineHeight:"20px",children:"The token is not on the Frequently Traded List. Please note that anyone can create a token on Sui blockchain with any name, including creating fake versions of existing tokens or tokens that claim to represent projects that do not have a token. Always conduct your own research before trading."})})}),W?e.jsx(I,{height:"400px",position:"relative",borderRadius:"16px",overflow:"hidden",children:e.jsx(pe,{positionStyle:"absolute",bg:w})}):(s==null?void 0:s.length)>0?R?e.jsx(Se,{onGoplusTokenClick:b,list:s,onSelectToken:n,isDisableSelectTokenItem:j,lastSelectedToken:d,currentTab:x,isShowCollectListBox:S,isShowTokenListTab:T,delImportTokenList:D,addUserCollectToken:c,delUserCollectToken:u,userCollectObj:C,width:a?360:482,height:_,onClose:m}):e.jsx(I,{maxHeight:_||"400px",overflow:"auto",children:s==null?void 0:s.map((B,E)=>e.jsx(q,{onGoplusTokenClick:b,token:B,onSelectToken:r=>{n(r)},isNotAllowClick:!!(y&&h&&t&&(l==null?void 0:l.length)>0),isShowCollectListBox:S,isShowTokenListTab:T,isDisableSelectTokenItem:j,isHideDelIcon:!!(h&&t&&(l==null?void 0:l.length)>0),lastSelectedToken:d,currentTab:x,delImportTokenList:D,addUserCollectToken:c,delUserCollectToken:u,userCollectObj:C,onClose:m},B.coin_type))}):e.jsx(me,{currentTab:x,keyword:t,isHaveImg:v}),h&&t&&e.jsx(H,{p:"16px 0",children:e.jsx(ee,{w:"120px",h:"36px",fontSize:"14px",onClick:()=>{N([l[0]]),n(l[0])},children:"Import"})})]})}export{Fe as default};
//# sourceMappingURL=TokenList-CoFN0pHW.js.map
