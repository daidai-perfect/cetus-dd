{"version":3,"file":"RangeValue-D7b-YFqE.js","sources":["../../src/hooks/common/useTokenRank.ts","../../src/components/position/RangeValue.tsx"],"sourcesContent":["import { Token } from '@cetus/types'\n\nexport default function useTokenRank() {\n  const getTokenRank = (sellCoin: Token, buyCoin: Token) => {\n    console.log(sellCoin, buyCoin, 'useTokenRank')\n    const sellRank = Number(sellCoin?.extensions?.rank) || Number(sellCoin?.rank) || 0\n    const buyRank = Number(buyCoin?.extensions?.rank) || Number(buyCoin?.rank) || 0\n    if (sellRank > buyRank) {\n      return false\n    } else if (sellRank < buyRank) {\n      return true\n    } else {\n      return false\n    }\n  }\n  return {\n    getTokenRank\n  }\n}\n","import useTokenRank from '@/hooks/common/useTokenRank'\nimport { Token } from '@cetus/types'\nimport { Icon } from '@cetus/ui-kit'\nimport { cancelBubble, textEllipses } from '@cetus/utils'\nimport { HStack, Skeleton, Text } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\n\nfunction RangeValue({\n  priceInfo,\n  displayTokenA,\n  displayTokenB,\n  fontSize = '12px',\n  fontWeight = '400',\n  color = 'primary_gray',\n  isRank = false,\n  justify = 'flex-start',\n  symbolEllipsesDecimals = 10 //symbol超出多少位数后是否展示...\n}: {\n  priceInfo: { minPrice: string; maxPrice: string; minPriceResever: string; maxPriceResever: string }\n  displayTokenA: Token\n  displayTokenB: Token\n  fontSize?: string\n  fontWeight?: string\n  color?: string\n  isRank?: boolean\n  justify?: string\n  symbolEllipsesDecimals?: number\n}) {\n  const [isDirect, setIsDirect] = useState(true)\n\n  const { getTokenRank } = useTokenRank()\n  useEffect(() => {\n    if (isRank) {\n      const direct = getTokenRank(displayTokenA, displayTokenB)\n      console.log('🚀 ~ useEffect ~ direct:', direct)\n      setIsDirect(direct)\n    }\n  }, [isRank, displayTokenA?.coin_type, displayTokenB?.coin_type])\n\n  return (\n    <HStack mt=\"3px\">\n      <Skeleton isLoaded={!!priceInfo?.minPrice && !!displayTokenA && !!displayTokenB}>\n        <HStack>\n          <HStack flexWrap=\"wrap\" gap=\"4px\" justify={justify}>\n            <Text lineHeight=\"1\" fontSize={fontSize} fontWeight={fontWeight} color=\"text_caption\" whiteSpace=\"nowrap\">\n              {isDirect ? `${priceInfo?.minPrice} - ${priceInfo?.maxPrice}` : `${priceInfo?.minPriceResever} - ${priceInfo?.maxPriceResever}`}\n            </Text>\n\n            <HStack gap=\"0\">\n              <Text fontSize={fontSize} fontWeight={fontWeight} color={color}>\n                {textEllipses(isDirect ? displayTokenB?.symbol : displayTokenA?.symbol, symbolEllipsesDecimals)}\n              </Text>\n              <Text fontSize={fontSize} fontWeight={fontWeight} color={color}>\n                &nbsp;per&nbsp;\n              </Text>\n              <Text fontSize={fontSize} fontWeight={fontWeight} color={color}>\n                {textEllipses(isDirect ? displayTokenA?.symbol : displayTokenB?.symbol, symbolEllipsesDecimals)}\n              </Text>\n            </HStack>\n          </HStack>\n\n          <Icon\n            xlinkHref=\"#icon-icon_swap1\"\n            w=\"16px\"\n            h=\"16px\"\n            onClick={(e: any) => {\n              cancelBubble(e)\n              setIsDirect(!isDirect)\n            }}\n          />\n        </HStack>\n      </Skeleton>\n    </HStack>\n  )\n}\n\nexport default RangeValue\n"],"names":["useTokenRank","sellCoin","buyCoin","sellRank","_a","buyRank","_b","RangeValue","priceInfo","displayTokenA","displayTokenB","fontSize","fontWeight","color","isRank","justify","symbolEllipsesDecimals","isDirect","setIsDirect","useState","getTokenRank","useEffect","direct","HStack","jsx","Skeleton","jsxs","Text","textEllipses","Icon","e","cancelBubble"],"mappings":"2HAEA,SAAwBA,GAAe,CAa9B,MAAA,CACL,aAbmB,CAACC,EAAiBC,IAAmB,SAChD,QAAA,IAAID,EAAUC,EAAS,cAAc,EACvC,MAAAC,EAAW,QAAOC,EAAAH,GAAA,YAAAA,EAAU,aAAV,YAAAG,EAAsB,IAAI,GAAK,OAAOH,GAAA,YAAAA,EAAU,IAAI,GAAK,EAC3EI,EAAU,QAAOC,EAAAJ,GAAA,YAAAA,EAAS,aAAT,YAAAI,EAAqB,IAAI,GAAK,OAAOJ,GAAA,YAAAA,EAAS,IAAI,GAAK,EAC9E,OAAIC,EAAWE,EACN,GACEF,EAAWE,CAKxB,CAGA,CACF,CCXA,SAASE,EAAW,CAClB,UAAAC,EACA,cAAAC,EACA,cAAAC,EACA,SAAAC,EAAW,OACX,WAAAC,EAAa,MACb,MAAAC,EAAQ,eACR,OAAAC,EAAS,GACT,QAAAC,EAAU,aACV,uBAAAC,EAAyB,EAC3B,EAUG,CACD,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAI,EAEvC,CAAE,aAAAC,CAAa,EAAIpB,EAAa,EACtCqB,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIP,EAAQ,CACJ,MAAAQ,EAASF,EAAaX,EAAeC,CAAa,EAChD,QAAA,IAAI,2BAA4BY,CAAM,EAC9CJ,EAAYI,CAAM,CAAA,CACpB,EACC,CAACR,EAAQL,GAAA,YAAAA,EAAe,UAAWC,GAAA,YAAAA,EAAe,SAAS,CAAC,QAG5Da,EAAO,CAAA,GAAG,MACT,SAACC,EAAA,IAAAC,EAAA,CAAS,SAAU,CAAC,EAACjB,GAAA,MAAAA,EAAW,WAAY,CAAC,CAACC,GAAiB,CAAC,CAACC,EAChE,gBAACa,EACC,CAAA,SAAA,CAAAG,OAACH,EAAO,CAAA,SAAS,OAAO,IAAI,MAAM,QAAAR,EAChC,SAAA,CAACS,EAAAA,IAAAG,EAAA,CAAK,WAAW,IAAI,SAAAhB,EAAoB,WAAAC,EAAwB,MAAM,eAAe,WAAW,SAC9F,SAAWK,EAAA,GAAGT,GAAA,YAAAA,EAAW,QAAQ,MAAMA,GAAA,YAAAA,EAAW,QAAQ,GAAK,GAAGA,GAAA,YAAAA,EAAW,eAAe,MAAMA,GAAA,YAAAA,EAAW,eAAe,EAC/H,CAAA,EAEAkB,EAAAA,KAACH,EAAO,CAAA,IAAI,IACV,SAAA,CAACC,EAAA,IAAAG,EAAA,CAAK,SAAAhB,EAAoB,WAAAC,EAAwB,MAAAC,EAC/C,SAAAe,EAAaX,EAAWP,GAAA,YAAAA,EAAe,OAASD,GAAA,YAAAA,EAAe,OAAQO,CAAsB,CAChG,CAAA,EACCQ,EAAA,IAAAG,EAAA,CAAK,SAAAhB,EAAoB,WAAAC,EAAwB,MAAAC,EAAc,SAEhE,QAAA,EACCW,EAAAA,IAAAG,EAAA,CAAK,SAAAhB,EAAoB,WAAAC,EAAwB,MAAAC,EAC/C,SAAAe,EAAaX,EAAWR,GAAA,YAAAA,EAAe,OAASC,GAAA,YAAAA,EAAe,OAAQM,CAAsB,CAChG,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAEAQ,EAAA,IAACK,EAAA,CACC,UAAU,mBACV,EAAE,OACF,EAAE,OACF,QAAUC,GAAW,CACnBC,EAAaD,CAAC,EACdZ,EAAY,CAACD,CAAQ,CAAA,CACvB,CAAA,CACF,CACF,CAAA,CACF,CAAA,EACF,CAEJ"}