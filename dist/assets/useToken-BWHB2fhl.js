import{bI as d,M as m,a0 as g,aH as I,bJ as C}from"./index-DZworFuu.js";import{a as u}from"./vendor-_1sPVx0S.js";function v(e){const{tokenMap:o,setToken:k,requestTokenList:f,addRequestTokenList:c}=d(),{clmmSdk:l}=m();u.useEffect(()=>{e&&(s(e)||i(e))},[e]);const i=async t=>{try{const n=s(t);if(n)return n;if(f.includes(t))return;c(t);const r=await l.fullClient.getCoinMetadata({coinType:t});if(r){I.isSuiCoin(t)&&(r.iconUrl="https://archive.cetus.zone/assets/image/sui/sui.png");const a=C(r,t);return k(a),console.log("ðŸš€ ~ file: useToken.ts:38 ~ fetchTokenInfo ~ token:",a,f),a}}catch(n){console.log("ðŸš€ ~ file: useToken.ts:44 ~ fetchTokenInfo ~ error:",n)}},s=u.useCallback(t=>{if(t)return o.get(g(t).full_address)||o.get(t)},[o]);return{tokenInfo:u.useMemo(()=>s(e),[e,o]),getTokenInfo:s,fetchTokenInfo:i}}export{v as u};
//# sourceMappingURL=useToken-BWHB2fhl.js.map
