{"version":3,"file":"CoinPairInfo-DFaG-fqM.js","sources":["../../src/components/common/CoinPairInfo.tsx"],"sourcesContent":["import { AddressCopyLink, Block, CetusTooltip } from '@cetus/design'\nimport useExplorer from '@cetus/hooks/src/useExplorer'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { CoinPairImage, Icon, SingleCoinImage } from '@cetus/ui-kit'\nimport { cancelBubble, textEllipses } from '@cetus/utils'\nimport { extractStructTagFromType } from '@cetusprotocol/common-sdk'\nimport { Box, Center, HStack, PopoverProps, Text, VStack } from '@chakra-ui/react'\nimport { useNavigate } from 'react-router-dom'\nimport PoweredByHaedal from '../vaults-v2/common/PoweredByHaedal'\n\ninterface CoinPairInfoProps extends PoolShowInfoProps {\n  placement?: PopoverProps['placement']\n}\n\nconst CoinPairInfo = ({\n  poolInfo,\n  haveName = false,\n  placement = 'top-start',\n  symbolEllipsesDecimals = 0,\n  nameEllipsesDecimals = 0,\n  symbolFontWeight = '500',\n  ...rest\n}: CoinPairInfoProps) => {\n  const { isApp } = useWindowWidth()\n  return (\n    <HStack\n      p=\"12px 0\"\n      onClick={e => {\n        isApp ? cancelBubble(e) : ''\n      }}\n    >\n      <CetusTooltip placement={placement} tooltip={<TooltipInfo poolInfo={poolInfo} />}>\n        <Center>\n          <PoolShowInfo\n            symbolFontWeight={symbolFontWeight}\n            poolInfo={poolInfo}\n            symbolEllipsesDecimals={symbolEllipsesDecimals}\n            haveName={haveName}\n            nameEllipsesDecimals={nameEllipsesDecimals}\n            {...rest}\n          />\n        </Center>\n      </CetusTooltip>\n    </HStack>\n  )\n}\nexport default CoinPairInfo\n\ninterface PoolShowInfoProps {\n  poolInfo: any\n  haveName?: boolean\n  fontSize?: string\n  symbolFontSize?: string\n  symbolFontWeight?: string\n  symbolEllipsesDecimals?: number\n  nameEllipsesDecimals?: number\n  isShowPowered?: boolean\n  haveFarming?: boolean\n}\n\nexport const PoolShowInfo = ({\n  poolInfo,\n  haveName = false,\n  fontSize = '12px',\n  symbolFontSize = '14px',\n  symbolFontWeight = '500',\n  // name和symbol超出多少位数后展示...\n  symbolEllipsesDecimals = 0,\n  nameEllipsesDecimals = 0,\n  isShowPowered = false,\n  haveFarming = false\n}: PoolShowInfoProps) => {\n  const navigate = useNavigate()\n  return (\n    <HStack cursor=\"pointer\">\n      <CoinPairImage\n        coinACoinType={poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address}\n        coinBCoinType={poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address}\n        coinAIconUrl={poolInfo?.displayTokenA?.logo_url}\n        coinBIconUrl={poolInfo?.displayTokenB?.logo_url}\n      />\n      <VStack align=\"flex-start\" gap=\"4px\">\n        <HStack>\n          <HStack gap=\"0\">\n            <Text color=\"text_caption\" fontSize={symbolFontSize} fontWeight={symbolFontWeight}>\n              {textEllipses(poolInfo?.displayTokenA?.symbol, symbolEllipsesDecimals)}\n            </Text>\n            <Text color=\"text_caption\">&nbsp;-&nbsp;</Text>\n            <Text color=\"text_caption\" fontSize={symbolFontSize} fontWeight={symbolFontWeight}>\n              {textEllipses(poolInfo?.displayTokenB?.symbol, symbolEllipsesDecimals)}\n            </Text>\n          </HStack>\n          <Block w=\"unset\" p=\"2px 8px\" borderRadius=\"12px\">\n            <Text fontSize={fontSize} color=\"text_highlight\" lineHeight=\"1\">\n              {poolInfo?.feeDisplay || '--'}\n            </Text>\n          </Block>\n          {haveFarming && (\n            <HStack\n              bg=\"primary_yellow_opacity.10\"\n              h=\"16px\"\n              w={{ base: '100%', lg: '56px' }}\n              justify=\"center\"\n              align=\"center\"\n              borderRadius=\"8px\"\n              onClick={(e: any) => {\n                cancelBubble(e)\n                navigate('/farms')\n              }}\n              border=\"1px solid\"\n              borderColor=\"transparent\"\n              cursor=\"pointer\"\n              sx={{\n                _hover: {\n                  border: '1px solid',\n                  borderColor: 'primary_yellow'\n                }\n              }}\n              gap=\"0\"\n            >\n              <Text fontSize=\"12px\" color=\"primary_yellow\">\n                Farm\n              </Text>\n              <Icon\n                xlinkHref=\"#icon-icon_ascending\"\n                transform=\"rotate(90deg)\"\n                w=\"16px\"\n                h=\"16px\"\n                mr=\"-4px\"\n                svgFill=\"primary_yellow\"\n                svgHover=\"primary_yellow\"\n              />\n            </HStack>\n          )}\n        </HStack>\n        {poolInfo?.category == 'haedal' && isShowPowered && <PoweredByHaedal category=\"haedal\" />}\n        {haveName && (\n          <HStack gap=\"0\">\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              {textEllipses(poolInfo?.displayTokenA?.name, nameEllipsesDecimals)}\n            </Text>\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              &nbsp;-&nbsp;\n            </Text>\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              {textEllipses(poolInfo?.displayTokenB?.name, nameEllipsesDecimals)}\n            </Text>\n          </HStack>\n        )}\n      </VStack>\n    </HStack>\n  )\n}\n\nconst TooltipInfo = ({ poolInfo }: { poolInfo: any }) => {\n  const { getExplorerUrl } = useExplorer()\n  const { isApp } = useWindowWidth()\n  return (\n    <VStack align=\"flex-start\">\n      <HStack w=\"100%\" justify=\"space-between\">\n        <HStack>\n          {/* <Image src={pool_img} w=\"20px\" h=\"20px\" /> */}\n          <Text fontSize=\"12px\" color=\"text_caption\">\n            Pool\n          </Text>\n        </HStack>\n        <AddressCopyLink\n          address={poolInfo?.poolAddress}\n          color=\"text_caption\"\n          showLink={isApp ? true : false}\n          onClickLink={() => {\n            window.open(getExplorerUrl(poolInfo?.poolAddress, 'poolAddress'), '_blank')\n          }}\n        />\n      </HStack>\n      <Box h=\"1px\" w=\" 100%\" bg=\"border\" />\n      <HStack w=\"100%\" justify=\"space-between\">\n        <HStack>\n          <SingleCoinImage\n            imageUrl={poolInfo?.displayTokenA?.logo_url}\n            w=\"20px\"\n            h=\"20px\"\n            coinType={poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address}\n            showTagWidth=\"10px\"\n            showTagHeight=\"10px\"\n          />\n\n          <Text fontSize=\"12px\" color=\"text_caption\">\n            {poolInfo?.displayTokenA.symbol}\n          </Text>\n        </HStack>\n        <AddressCopyLink\n          address={extractStructTagFromType(poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address).full_address}\n          showLink={isApp ? true : false}\n          onClickLink={() => {\n            window.open(getExplorerUrl(poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address, 'coin'))\n          }}\n        />\n      </HStack>\n      <HStack w=\"100%\" justify=\"space-between\">\n        <HStack>\n          <SingleCoinImage\n            imageUrl={poolInfo?.displayTokenB?.logo_url}\n            w=\"20px\"\n            h=\"20px\"\n            coinType={poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address}\n            showTagWidth=\"10px\"\n            showTagHeight=\"10px\"\n          />\n          <Text fontSize=\"12px\" color=\"text_caption\">\n            {poolInfo?.displayTokenB.symbol}\n          </Text>\n        </HStack>\n        <AddressCopyLink\n          address={extractStructTagFromType(poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address).full_address}\n          showLink={isApp ? true : false}\n          onClickLink={() => {\n            window.open(getExplorerUrl(poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address, 'coin'))\n          }}\n        />\n      </HStack>\n    </VStack>\n  )\n}\n"],"names":["CoinPairInfo","poolInfo","haveName","placement","symbolEllipsesDecimals","nameEllipsesDecimals","symbolFontWeight","rest","isApp","useWindowWidth","jsx","HStack","e","cancelBubble","CetusTooltip","TooltipInfo","Center","PoolShowInfo","fontSize","symbolFontSize","isShowPowered","haveFarming","navigate","useNavigate","jsxs","CoinPairImage","_a","_b","_c","_d","_e","_f","VStack","Text","textEllipses","_g","_h","Block","Icon","PoweredByHaedal","_i","_j","getExplorerUrl","useExplorer","AddressCopyLink","Box","SingleCoinImage","extractStructTagFromType"],"mappings":"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"}