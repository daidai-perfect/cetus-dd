import{d as g,j as e,dD as y,f as u,r as a,V as m,H as x,T as d,e as b,a3 as _,c as w,B as S}from"./index-BMYxc9Od.js";import{A as R}from"./SingleTokenInfo-YXdPNl3G.js";import{M as T}from"./SwapConfirmBlock-mOjB8Ilb.js";import{T as L}from"./TooltipIcon-ByUA4JrQ.js";import{R as P}from"./Ratio-BCgRxM2o.js";import{R as v,Y as H}from"./YAxis-CElZgsg8.js";import{a as E,L as W}from"./LineChart-hxwX9394.js";import{T as z}from"./generateCategoricalChart-B6wlJUW7.js";import"./useToken-Bvs0Ung1.js";import"./AddressUnderline-Bhd4IXQA.js";import"./aggregator-C9fZ1bsJ.js";import"./useFindBestRouting-C22H3oMB.js";import"./global-VD-aBjBV.js";import"./useGetPoolList-DKPSLTZh.js";import"./api-data-utils-Ddy-a3WS.js";import"./useAccountBalance-7Ju_sYta.js";import"./useTokenBalance-Cj_lT5nh.js";import"./useTransaction-CfK3pLEn.js";import"./index-CJXWYa_3.js";import"./usePriceImpact-DQL2ZYNg.js";import"./CurrentPrice-CwZzYz2q.js";import"./HighlightText-Dq2RFgZH.js";import"./HTextLabelBox-DAS3uNTR.js";import"./TradeConfirmAmountInfo-BUjZ8T7K.js";import"./TradeInputGroup-DZEf1SXK.js";import"./_getAllKeysIn-DYEwfs_x.js";import"./throttle-C4s_nYWa.js";import"./debounce-0HI4Y71Y.js";import"./linear-DYpwdEgO.js";import"./index-BhzVy6K4.js";const A=({active:t,payload:p,label:l})=>{var i,s;return t&&p&&p.length?e.jsxs("div",{style:{backgroundColor:"#121212",border:"1px solid border_secondary",padding:"12px",borderRadius:"8px",position:"relative",left:"0px",top:"-30px",fontSize:"12px"},children:[e.jsx("p",{style:{color:"#909CA4"},children:y.unix((s=(i=p[0])==null?void 0:i.payload)==null?void 0:s.timestamp).format("MM/DD HH:mm")}),e.jsxs("p",{style:{color:"#fff",marginTop:"8px"},children:["$",u(p[0].value)]})]}):null};function B({data:t=[]}){const p=g(Math.min(...t.map(i=>i.price))).mul(.99999).toNumber(),l=g(Math.max(...t.map(i=>i.price))).mul(1.00001).toNumber();return e.jsx(v,{width:"100%",height:"100%",children:e.jsxs(E,{width:180,height:48,data:t,margin:{top:5,right:20,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"priceLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(117, 200, 255, 1)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(104, 255, 216, 1)"})]})}),e.jsx(H,{hide:!0,domain:[p,l]}),e.jsx(z,{cursor:!1,content:e.jsx(A,{})}),e.jsx(W,{type:"linear",dot:!1,dataKey:"price",stroke:"url(#priceLine)",strokeWidth:2})]})})}function oe({fromCoin:t,toCoin:p}){return a.useMemo(()=>[t,p].filter(Boolean).filter(i=>i==null?void 0:i.is_trusted),[t,p]).length?e.jsxs(m,{w:"100%",align:"flex-start",gap:"8px",children:[e.jsxs(x,{justify:"flex-start",h:"52px",align:"center",gap:"4px",children:[e.jsx(d,{fontSize:"14px",fontWeight:"500",color:"text_caption",h:"20px",lineHeight:"20px",children:"Price Reference"}),e.jsx(L,{type:"priceReference"})]}),e.jsxs(m,{w:"100%",gap:"28px",children:[(t==null?void 0:t.is_trusted)&&e.jsx(j,{coin:t}),(p==null?void 0:p.is_trusted)&&e.jsx(j,{coin:p})]})]}):null}const j=({coin:t})=>{const{getExplorerUrl:p}=b(),{getPriceKline:l,getTokenPrice:i}=_(),[s,h]=a.useState({price:[],daily_rate:""});a.useEffect(()=>{h({price:[],daily_rate:""})},[t]);const r=i(t==null?void 0:t.coin_type),c=async(n,f)=>{try{const o=await l(n,f);h(o)}catch(o){console.log(o,"error")}};return a.useEffect(()=>{r!=null&&r.base_symbol&&c(r==null?void 0:r.base_symbol,r==null?void 0:r.market)},[r==null?void 0:r.base_symbol,r==null?void 0:r.market]),!s||s.price.length===0?e.jsx(e.Fragment,{}):e.jsxs(m,{w:"100%",gap:"12px",children:[e.jsxs(x,{w:"100%",justify:"space-between",align:"flex-start",h:"32px",children:[e.jsxs(x,{children:[e.jsx(w,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px"}),e.jsxs(m,{align:"flex-start",gap:"4px",children:[e.jsx(d,{fontSize:"14px",h:"16px",lineHeight:"16px",fontWeight:"600",color:"text_caption",children:t==null?void 0:t.symbol}),e.jsx(d,{fontSize:"12px",h:"12px",lineHeight:"12px",fontWeight:"500",children:t==null?void 0:t.name})]})]}),e.jsxs(x,{children:[(r==null?void 0:r.market)&&e.jsx(T,{market:r==null?void 0:r.market}),e.jsxs(d,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:["$",(r==null?void 0:r.price)!==void 0?u(r==null?void 0:r.price):"--"]}),(s==null?void 0:s.daily_rate)&&(r==null?void 0:r.price)!==void 0&&e.jsx(P,{value:s==null?void 0:s.daily_rate})]})]}),e.jsxs(x,{w:"100%",justify:"space-between",align:"flex-end",gap:"0",children:[e.jsx(R,{address:t==null?void 0:t.coin_type,onClickLink:()=>window.open(p(t==null?void 0:t.coin_type,"coin")),wrapStyle:{border:"1px solid",borderColor:"border",h:"24px",borderRadius:"8px",p:"0 8px",bg:"bg_secondary"},fontWeight:"500"}),e.jsx(S,{flex:"0 0 210px",h:"24px",mr:"-13px",children:(r==null?void 0:r.price)!==void 0&&(s==null?void 0:s.price.length)>0&&e.jsx(B,{data:s==null?void 0:s.price})})]})]})};export{oe as default};
