{"version":3,"file":"LimitPriceChart-BB5zS9e1.js","sources":["../../src/components/limit/LimitPriceChart.tsx"],"sourcesContent":["import { Block, LoadingChart } from '@cetus/design'\nimport { Token } from '@cetus/types'\nimport { Icon } from '@cetus/ui-kit'\nimport CoinPairImage from '@cetus/ui-kit/src/components/CoinPairImage'\nimport { extractStructTagFromType } from '@cetusprotocol/common-sdk'\nimport { Center, HStack, Skeleton, SkeletonCircle, Text, VStack } from '@chakra-ui/react'\nimport { useMemo, useState } from 'react'\n\ntype LimitPriceChartProps = {\n  baseToken?: Token\n  quoteToken?: Token\n}\n\nexport function LimitPriceChart(props: LimitPriceChartProps) {\n  const [isLoading, setIsLoading] = useState(true)\n  const { baseToken, quoteToken } = props\n  const [isSwapSort, setIsSwapSort] = useState<boolean>(false)\n\n  const tokenA = useMemo(() => {\n    return isSwapSort ? baseToken : quoteToken\n  }, [isSwapSort, baseToken?.coin_type, quoteToken?.coin_type])\n\n  const tokenB = useMemo(() => {\n    return isSwapSort ? quoteToken : baseToken\n  }, [isSwapSort, baseToken?.coin_type, quoteToken?.coin_type])\n\n  return (\n    <VStack w=\"100%\" position=\"relative\" alignItems=\"start\" gap={{ base: '4px', lg: '16px' }}>\n      {isLoading ? (\n        <HStack h=\"52px\" lineHeight=\"52px\" gap=\"8px\">\n          <SkeletonCircle />\n          <SkeletonCircle />\n          <Skeleton />\n        </HStack>\n      ) : (\n        <HStack h=\"52px\" lineHeight=\"52px\" gap=\"8px\">\n          <CoinPairImage\n            coinACoinType={tokenA?.coin_type}\n            coinBCoinType={tokenB?.coin_type}\n            coinAIconUrl={tokenA?.logo_url}\n            coinBIconUrl={tokenB?.logo_url}\n            ml=\"-4px\"\n          />\n          <Text textColor=\"text_caption\" fontSize=\"16px\">\n            {tokenA?.symbol} / {tokenB?.symbol}\n          </Text>\n\n          <Icon\n            xlinkHref=\"#icon-icon_swap1\"\n            onClick={() => {\n              setIsSwapSort(!isSwapSort)\n            }}\n          />\n        </HStack>\n      )}\n      <Block p=\"0\" overflow=\"hidden\" borderRadius=\"16px\">\n        {isLoading && (\n          <Center height=\"422px\">\n            {/* <ChartLoading /> */}\n            <LoadingChart />\n          </Center>\n        )}\n        <iframe\n          id=\"geckoterminal-embed\"\n          className=\"frame\"\n          style={{ display: isLoading ? 'none' : 'block' }}\n          height=\"422px\"\n          width=\"100%\"\n          title=\"GeckoTerminal Embed\"\n          frameBorder=\"0\"\n          allow=\"clipboard-write\"\n          allowFullScreen\n          src={`https://birdeye.so/tv-widget/${extractStructTagFromType(tokenA?.coin_type).full_address}/${extractStructTagFromType(tokenB?.coin_type).full_address}?chain=sui&viewMode=base%2Fquote&chartInterval=15&chartType=CANDLE&chartTimezone=Atlantic%2FReykjavik&chartLeftToolbar=show&theme=dark&cssCustomProperties=--tv-color-platform-background%3A%230F0F0F&cssCustomProperties=--tv-color-pane-background%3A%230F0F0F&chartOverrides=paneProperties.backgroundType%3Asolid&chartOverrides=paneProperties.backgroundGradientStartColor%3A%230F0F0F&chartOverrides=paneProperties.backgroundGradientEndColor%3A%230F0F0F&chartOverrides=paneProperties.background%3A%230F0F0F`}\n          onLoad={() => {\n            setIsLoading(false)\n          }}\n        />\n      </Block>\n    </VStack>\n  )\n}\n"],"names":["LimitPriceChart","props","isLoading","setIsLoading","useState","baseToken","quoteToken","isSwapSort","setIsSwapSort","tokenA","useMemo","tokenB","jsxs","VStack","HStack","jsx","SkeletonCircle","Skeleton","CoinPairImage","Text","Icon","Block","Center","LoadingChart","extractStructTagFromType"],"mappings":"sMAaO,SAASA,EAAgBC,EAA6B,CAC3D,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAI,EACzC,CAAE,UAAAC,EAAW,WAAAC,CAAA,EAAeL,EAC5B,CAACM,EAAYC,CAAa,EAAIJ,EAAAA,SAAkB,EAAK,EAErDK,EAASC,EAAAA,QAAQ,IACdH,EAAaF,EAAYC,EAC/B,CAACC,EAAYF,GAAA,YAAAA,EAAW,UAAWC,GAAA,YAAAA,EAAY,SAAS,CAAC,EAEtDK,EAASD,EAAAA,QAAQ,IACdH,EAAaD,EAAaD,EAChC,CAACE,EAAYF,GAAA,YAAAA,EAAW,UAAWC,GAAA,YAAAA,EAAY,SAAS,CAAC,EAE5D,OACGM,EAAAA,KAAAC,EAAA,CAAO,EAAE,OAAO,SAAS,WAAW,WAAW,QAAQ,IAAK,CAAE,KAAM,MAAO,GAAI,MAC7E,EAAA,SAAA,CAAAX,SACEY,EAAO,CAAA,EAAE,OAAO,WAAW,OAAO,IAAI,MACrC,SAAA,CAAAC,EAAA,IAACC,EAAe,EAAA,QACfA,EAAe,EAAA,QACfC,EAAS,CAAA,CAAA,CACZ,CAAA,CAAA,SAECH,EAAO,CAAA,EAAE,OAAO,WAAW,OAAO,IAAI,MACrC,SAAA,CAAAC,EAAA,IAACG,EAAA,CACC,cAAeT,GAAA,YAAAA,EAAQ,UACvB,cAAeE,GAAA,YAAAA,EAAQ,UACvB,aAAcF,GAAA,YAAAA,EAAQ,SACtB,aAAcE,GAAA,YAAAA,EAAQ,SACtB,GAAG,MAAA,CACL,EACCC,EAAA,KAAAO,EAAA,CAAK,UAAU,eAAe,SAAS,OACrC,SAAA,CAAQV,GAAA,YAAAA,EAAA,OAAO,MAAIE,GAAA,YAAAA,EAAQ,MAAA,EAC9B,EAEAI,EAAA,IAACK,EAAA,CACC,UAAU,mBACV,QAAS,IAAM,CACbZ,EAAc,CAACD,CAAU,CAAA,CAC3B,CAAA,CACF,EACF,SAEDc,EAAM,CAAA,EAAE,IAAI,SAAS,SAAS,aAAa,OACzC,SAAA,CAAAnB,SACEoB,EAAO,CAAA,OAAO,QAEb,SAAAP,MAACQ,GAAa,CAAA,EAChB,EAEFR,EAAA,IAAC,SAAA,CACC,GAAG,sBACH,UAAU,QACV,MAAO,CAAE,QAASb,EAAY,OAAS,OAAQ,EAC/C,OAAO,QACP,MAAM,OACN,MAAM,sBACN,YAAY,IACZ,MAAM,kBACN,gBAAe,GACf,IAAK,gCAAgCsB,EAAyBf,GAAA,YAAAA,EAAQ,SAAS,EAAE,YAAY,IAAIe,EAAyBb,GAAA,YAAAA,EAAQ,SAAS,EAAE,YAAY,yfACzJ,OAAQ,IAAM,CACZR,EAAa,EAAK,CAAA,CACpB,CAAA,CACF,CACF,CAAA,CAAA,EACF,CAEJ"}