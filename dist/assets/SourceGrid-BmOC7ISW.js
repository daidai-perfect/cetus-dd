import{j as o,b1 as E,r as j,d as H,cZ as w,H as u,c as C,T as c,bq as T,br as z,C as F,I as Q,ar as f,bs as G,V as v,ao as L,am as O,B as J,aN as U}from"./index-BMYxc9Od.js";import{N as k,A as W}from"./Swap-WezLfOcL.js";import{b as X}from"./useFindBestRouting-C22H3oMB.js";import"./aggregator-C9fZ1bsJ.js";import"./SwapConfirmBlock-mOjB8Ilb.js";import"./global-VD-aBjBV.js";import"./useAccountBalance-7Ju_sYta.js";import"./useToken-Bvs0Ung1.js";import"./useTokenBalance-Cj_lT5nh.js";import"./useTransaction-CfK3pLEn.js";import"./index-CJXWYa_3.js";import"./usePriceImpact-DQL2ZYNg.js";import"./CurrentPrice-CwZzYz2q.js";import"./HighlightText-Dq2RFgZH.js";import"./SingleTokenInfo-YXdPNl3G.js";import"./AddressUnderline-Bhd4IXQA.js";import"./HTextLabelBox-DAS3uNTR.js";import"./TradeConfirmAmountInfo-BUjZ8T7K.js";import"./TradeInputGroup-DZEf1SXK.js";import"./_getAllKeysIn-DYEwfs_x.js";import"./swap-DRe1r7cd.js";import"./IconBg-Ci7ISIQC.js";import"./WarningTokenTipModal-DQAOf22M.js";import"./Slippage-BHfkGKpx.js";import"./TooltipIcon-ByUA4JrQ.js";import"./api-data-utils-Ddy-a3WS.js";import"./index-BQ1_LQOt.js";import"./debounce-0HI4Y71Y.js";import"./throttle-C4s_nYWa.js";import"./useGetPoolList-DKPSLTZh.js";const m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAkZJREFUWEftkz1oU1Ecxc9JYsEOQqtFWsTFRbAq1JD3cNFRoQ4FQXTVRRwUlHxRsWJJ8h4KOogIuiqC6GBBR10kL8SCHwWXLiIpfrXgoKDJO/JChA5p7ssHZMmdLvzvPed3z/9/iT4v9tkfA4BBAh0nkH2v7fqN3cEQczM+5vbySycD3TZAqqydquIOiKNQY4gJQXjOGM46cX5qB6QtgHRJRyQ8krClmQmJnyROFBJ8ERYiNEBmUWP+XyxJGKvHTjyjsBDsRUxLONYw/RodwmR+it/CQIQGSHm6J+F0IBqJ4FIhwRvrDdIlXfR9XG/A3XcsnuktQFGrAkYALLo2DzQTTxb1BsAUgTXH5mjPANLvNOL/wmr9dcAtx+aFZuKpom4KOF9PaRijhX1cM0GEakG2rPFqFZW6MHG1YHGumXDa05wvXAlqsRgmcnGu9AQg42lrTfjeEMu6NvMbtCADIBfUosS2vMUfPQEIRJJF3QZxcCiK4/NxLjcTni1r158aHkN47do8ZzJvtNR8LFnUDhAugcMSxlvdILEi4CWEpGvzs0ndOAN1c+AtgFBTvc4wGNr9JggzgKcHEE6aXtK0Tjx0LZ5qmZhJOOWpYop9I42gHY7Fia4AkkXJBNmq7tpsmbK5Bf0GSHmqSYh0kgIJ37EY7aoFKU8fJOzpEGDJsTjZHUBJs/JxrSOACC47Cc53BXC3rE3LNTyBMN0WBLEwnMDMHFntCuD/5bSnGQmHQLT8VhAqJF4VLD4NA2z8BWFEujkzABgk8A/y6sYhQWslfQAAAABJRU5ErkJggg==",q=5,D=2e3,K=r=>{var x;const{item:s}=r;return s!=null&&s.subItems?o.jsx(Y,{...r}):(s==null?void 0:s.id)===((x=X)==null?void 0:x.CETUS)?o.jsx(Z,{...r}):o.jsx(P,{...r})},Y=({item:r,checkedMap:s,onSelect:x})=>{var h,_,I,R,S,y;const a=n=>!!(s!=null&&s[n]),t=(h=r==null?void 0:r.subItems)==null?void 0:h.every(n=>a(n==null?void 0:n.id)),g=n=>{var i,d,B;(i=r==null?void 0:r.subItems)!=null&&i.every(p=>a(p==null?void 0:p.id))?(d=r==null?void 0:r.subItems)==null||d.forEach(p=>x(p==null?void 0:p.id,!1)):(B=r==null?void 0:r.subItems)==null||B.forEach(p=>x(p==null?void 0:p.id,!0))},{isOpen:b,onClose:A,onToggle:l}=E(),N=j.useMemo(()=>{var n;return(n=r==null?void 0:r.subItems)==null?void 0:n.reduce((i,d)=>H(i).plus(a(d==null?void 0:d.id)?1:0).toNumber(),0)},[JSON.stringify(r==null?void 0:r.subItems),s]),e=j.useRef(null);return console.log((_=e==null?void 0:e.current)==null?void 0:_.clientWidth,(I=e==null?void 0:e.current)==null?void 0:I.offsetWidth,"offsetWidth"),o.jsx(w,{children:o.jsxs(u,{ref:e,justifyContent:"space-between",alignItems:"center",w:"100%",gap:"8px",bg:t?"checked_bg":"bg_primary",boxShadow:t?"aggregator_shadow":"unset",border:"1px solid",borderColor:t?"position_status_bg":"border",borderRadius:"8px",p:"0 0 0 12px",cursor:"pointer",onClick:g,sx:{_hover:{".source_name":{color:"primary"}}},children:[o.jsxs(u,{gap:"8px",children:[o.jsx(C,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(c,{className:"source_name",color:t?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]}),o.jsxs(T,{gutter:4,placement:"bottom-end",isLazy:!0,isOpen:b,onOpen:()=>{},onClose:A,children:[o.jsx(z,{margin:"-1px",bg:t?"checked_bg":"bg_primary",boxShadow:t?"aggregator_shadow":"unset",border:"1px solid",borderColor:t?"position_status_bg":"border",flex:"0 0 58px",h:"50px",borderRadius:"8px",className:"arrow_box",onClick:n=>{f(n),l()},_hover:{svg:{fill:"primary"}},children:o.jsxs(F,{gap:"4px",children:[o.jsx(c,{fontSize:"10px",color:"primary",children:N}),o.jsxs(c,{fontSize:"10px",children:["/ ",((R=r==null?void 0:r.subItems)==null?void 0:R.length)||0]}),o.jsx(Q,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray",transition:"transform 0.5s",transform:b?"rotate(180deg)":"rotate(0deg)"})]})}),o.jsx(G,{minW:"unset",w:(S=e==null?void 0:e.current)==null?void 0:S.offsetWidth,borderRadius:"8px",p:"12px 8px 12px 12px",bg:"checked_bg",boxShadow:"aggregator_shadow",borderColor:"position_status_bg",onClick:n=>{f(n)},children:o.jsx(v,{w:"100%",gap:"20px",children:(y=r==null?void 0:r.subItems)==null?void 0:y.map(n=>o.jsxs(u,{justifyContent:"space-between",w:"100%",h:"20px",cursor:"pointer",onClick:i=>{f(i),x(n==null?void 0:n.id,!a(n==null?void 0:n.id))},children:[o.jsx(c,{color:"text_caption",fontSize:"12px",children:n==null?void 0:n.name}),o.jsx(L,{checked:a(n==null?void 0:n.id),onClick:()=>{}})]},n.name))})})]})]})})},Z=({item:r,checkedMap:s,onSelect:x})=>{const a=j.useRef(0),t=j.useRef(null),g=!!(s!=null&&s[r==null?void 0:r.id]),b=()=>{t.current&&(clearTimeout(t.current),a.current=0)},A=()=>{a.current=a.current+1,a.current===1&&(t.current=setTimeout(b,D)),a.current===q&&(x(r==null?void 0:r.id,!(s!=null&&s[r==null?void 0:r.id])),b())};return o.jsx(w,{children:o.jsxs(u,{justifyContent:"space-between",alignItems:"center",w:"100%",onClick:A,cursor:"not-allowed",bg:g?"checked_bg":"bg_primary",boxShadow:g?"aggregator_shadow":"unset",border:"1px solid",borderColor:g?"position_status_bg":"border",borderRadius:"8px",p:"12px",_hover:{p:{color:"primary"}},children:[o.jsxs(u,{gap:"8px",children:[o.jsx(C,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(c,{color:g?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]}),g&&o.jsx(O,{src:m,w:"16px",h:"16px"})]})})},P=({item:r,checkedMap:s,onSelect:x})=>{const a=!!(s!=null&&s[r==null?void 0:r.id]);return o.jsx(w,{children:o.jsxs(u,{w:"100%",gap:"8px",cursor:"pointer",p:"12px",onClick:()=>x(r==null?void 0:r.id,!(s!=null&&s[r==null?void 0:r.id])),border:"1px solid",borderRadius:"8px",borderColor:a?"position_status_bg":"border",bg:a?"checked_bg":"bg_primary",boxShadow:a?"aggregator_shadow":"unset",_hover:{p:{color:"primary"}},children:[o.jsx(C,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(c,{color:a?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]})})},Br=({title:r,isAllChecked:s,onAllSelect:x,onItemSelect:a,list:t=[],checkedMap:g={},checkedNum:b,totalNum:A})=>o.jsxs(v,{w:"100%",justify:"flex-start",gap:"12px",maxH:{base:"max(200px, min(calc(50vh - 120px), 238px))",lg:"238px"},children:[o.jsxs(u,{justifyContent:"space-between",alignItems:"center",w:"100%",h:"16px",children:[o.jsx(c,{fontSize:"14px",h:"16px",margin:"0px",lineHeight:"16px",color:"text_caption",fontWeight:"500",children:r}),o.jsxs(u,{children:[o.jsx(k,{num:b,total:A}),o.jsx(W,{id:r,onChange:x,isChecked:s})]})]}),o.jsxs(J,{w:"100%",children:[o.jsx(U,{templateColumns:{base:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:"8px",maxH:{base:"max(140px, min(200px, calc(50vh - 200px)))",lg:"200px"},overflowY:"scroll",pb:"8px",children:t==null?void 0:t.map(l=>o.jsx(K,{item:l,checkedMap:g,onSelect:a},l==null?void 0:l.name))}),o.jsx(J,{w:"100%",pos:"relative",h:"1px",_after:{content:'""',position:"absolute",left:0,bottom:0,width:"100%",height:"8px",background:"aggregator_box_shadow"}})]})]});export{Br as default};
