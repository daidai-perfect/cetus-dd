import{a3 as b,r as p,aR as s,X as m,a5 as l}from"./index-BAaNMf6I.js";import{e as x}from"./useFindBestRouting-BELhLLHv.js";function N(o,d,h,g,f=!1){const{getTokenPrice:_}=b(),i=_(o==null?void 0:o.coin_type,f?1e3*60:void 0),r=_(d==null?void 0:d.coin_type,f?1e3*60:void 0),c=x(h,g),a=p.useMemo(()=>{if(r&&i)return s(i.price).div(r.price).toString()},[i==null?void 0:i.price,r==null?void 0:r.price]),e=p.useMemo(()=>{if(a&&+c)return s(c).sub(a).div(a).mul(100).toFixed(10)},[a,c]),y=p.useMemo(()=>{if(a&&+c)return s(c).sub(a).div(a).mul(100).toFixed(10)},[a,c]),I=p.useMemo(()=>{const t=[];return i&&t.push(i.market),r&&!t.includes(r.market)&&t.push(r.market),t},[i==null?void 0:i.market,r==null?void 0:r.market]),v=p.useMemo(()=>e&&s(e).lt(0)?s(e).abs().gt(5):!1,[e]),M=p.useMemo(()=>e&&s(e).lt(0)?s(e).abs().gt(10):!1,[e]),U=p.useMemo(()=>{let t,u="primary_yellow";if(e)if(s(e).gt(0))u="primary_green",s(e).lt(.1)?t="< 0.1% cheaper than":t=`${m(e,2,!0,l.ROUND_UP)}% cheaper than`;else if(s(e).eq(0))t="0%",u="primary_green";else{const n=s(e).abs();n.lte(5)?(u="primary_green",t=`Within ${m(n.toString(),2,!0,l.ROUND_UP)}%`):n.lte(10)?(u="primary_yellow",t=`${m(n.toString(),2,!0,l.ROUND_UP)}% more than`):n.lte(100)?(u="primary_red",t=`${m(n.toString(),2,!0,l.ROUND_UP)}% more than`):(u="primary_red",t="> 100% more than")}return{priceImpactText:t,textColor:u}},[e]);return{swapPrice:c,marketPrice:a,priceImpact:e,sources:I,showPriceImpactTips:v,showPriceImpactWarn:M,priceImpactTextInfo:U,priceImpactBasedOnMarket:y}}export{N as u};
