{"version":3,"file":"PositionCurrentPrice-Db3c8a9-.js","sources":["../../src/hooks/position/useCalculatePendingYield.ts","../../src/hooks/position/usePosClaimFeeAndReward.ts","../../src/components/position/PositionCurrentPrice.tsx"],"sourcesContent":["import { PosBaseInfo } from '@/types'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport { d } from '@cetus/utils'\nimport { fixCoinType } from '@cetusprotocol/common-sdk'\n// Ê†πÊçÆ‰ªì‰ΩçÂàóË°®ËøîÂõûfeeÂíåminingÂ•ñÂä±ÁöÑtokenÊï∞ÁªÑ\nexport default function useCalculatePendingYield() {\n  const { getTokenAmountValue } = useTokenPrice()\n\n  const calculatePendingYield = (\n    list: PosBaseInfo[],\n    posFeeData: Record<string, any>,\n    posRewardsData: Record<string, any>,\n    posFarmsData?: Record<string, any>\n  ) => {\n    if (!list?.length) {\n      return {\n        total: '0',\n        rewardAndFeeList: []\n      }\n    }\n\n    let total = '0'\n    const rewardAndFeeList: any[] = []\n\n    list.forEach(position => {\n      const currentFeesData = posFeeData[position?.posId]\n      const currentPosRewardsData = posRewardsData[position?.posId] || []\n      const currentPosFarmsData = posFarmsData ? posFarmsData[position?.id] : []\n      const rewardsArr = currentPosRewardsData.concat(currentPosFarmsData)\n      // Process fees\n      if (currentFeesData) {\n        const feeTokenA = processToken(position?.displayTokenA, currentFeesData?.displayFeeOwedA)\n        const feeTokenB = processToken(position?.displayTokenB, currentFeesData?.displayFeeOwedB)\n\n        if (feeTokenA) rewardAndFeeList.push(feeTokenA)\n        if (feeTokenB) rewardAndFeeList.push(feeTokenB)\n\n        total = updateTotal(total, feeTokenA?.amountUSD, feeTokenB?.amountUSD)\n      }\n\n      // Process rewards\n      rewardsArr.forEach((reward: any) => {\n        if (Number(reward?.display_amount_owed) > 0) {\n          const rewardToken = processToken(reward?.token, reward?.display_amount_owed, reward?.token?.coin_type)\n\n          if (rewardToken) {\n            rewardAndFeeList.push(rewardToken)\n            total = updateTotal(total, rewardToken?.amountUSD)\n          }\n        }\n      })\n    })\n\n    const aggregatedList = aggregateRewardsAndFees(rewardAndFeeList)\n    console.log('üöÄ ~ calculatePendingYield ~  total,:', aggregatedList, total, aggregatedList.length == 1 && (total == '--' || Number(total) == 0))\n    return {\n      total: aggregatedList?.length > 0 && Number(total) == 0 ? '--' : total,\n      rewardAndFeeList: aggregatedList\n    }\n  }\n\n  // Helper to process individual tokens\n  const processToken = (token: any, amount: any, coinAddress?: string) => {\n    if (!token || !amount) return null\n\n    const coinType = coinAddress || token.coin_type\n\n    if (!coinType) {\n      return null\n    }\n\n    const amountUSD = getTokenAmountValue(coinType, amount)\n\n    return {\n      coin_address: fixCoinType(coinType, false),\n      amount,\n      amountUSD: d(amount).gt(0) && d(amountUSD).lte(0) ? '--' : amountUSD,\n      token\n    }\n  }\n\n  // Helper to update total\n  const updateTotal = (currentTotal: string, ...amounts: (string | undefined)[]) => {\n    // if (currentTotal === '--') return '--' // Â¶ÇÊûúÂΩìÂâç total Êó†ÊïàÔºåÁõ¥Êé•ËøîÂõû '--'\n\n    let updatedTotal: any = d(currentTotal) // ÂΩìÂâçÊúâÊïàÁöÑ total\n    amounts.forEach(amount => {\n      if (amount && amount !== '--' && updatedTotal !== '--') {\n        updatedTotal = updatedTotal.plus(amount)\n      } else {\n        // updatedTotal = '--'\n      }\n    })\n\n    return updatedTotal.toString()\n  }\n\n  // Aggregate and sort rewards and fees\n  const aggregateRewardsAndFees = (list: any[]) => {\n    const claimObj: Record<string, any> = {}\n\n    list.forEach(item => {\n      const { coin_address, amount, amountUSD } = item\n      // console.log('üöÄ ~ aggregateRewardsAndFees ~ claimObj:', amount, amountUSD, item, claimObj)\n\n      if (!claimObj[coin_address]) {\n        claimObj[coin_address] = { ...item, amount: '0', amountUSD: '0' }\n      }\n\n      if (amountUSD == '--') {\n        claimObj[coin_address].amountUSD = '--'\n      } else {\n        claimObj[coin_address].amountUSD =\n          claimObj[coin_address].amountUSD == '--'\n            ? '--'\n            : d(claimObj[coin_address]?.amountUSD)\n                .plus(amountUSD || 0)\n                .toString()\n      }\n\n      claimObj[coin_address].amount = d(claimObj[coin_address]?.amount)\n        .plus(amount || 0)\n        .toString()\n    })\n\n    return Object.values(claimObj)\n      .filter((item: any) => Number(item.amount) > 0)\n      .sort((a: any, b: any) =>\n        d(b.amountUSD == '--' ? 0 : b.amountUSD)\n          .minus(a.amountUSD == '--' ? 0 : a.amountUSD)\n          .toNumber()\n      )\n  }\n\n  return {\n    calculatePendingYield\n  }\n}\n","import useBurn from '@/hooks/burn/useBurn'\nimport { MsafeTransactionSubType, PosBaseInfo, PosReward } from '@/types'\nimport { deleteOx } from '@/utils/contract-helper'\nimport { useSdk } from '@cetus/sdk-factory'\nimport { CollectRewardParams } from '@cetusprotocol/burn-sdk'\nimport { HarvestFeeAndClmmRewarderParams, HarvestParams } from '@cetusprotocol/farms-sdk'\nimport { CollectRewarderParams } from '@cetusprotocol/sui-clmm-sdk'\n\nexport default function usePosClaimFeeAndReward() {\n  const clmmSdk = useSdk('clmm')\n  const farmsSdk = useSdk('farms')\n  const burnSdk = useSdk('burn')\n  const { getBurnClaimTxPayload } = useBurn()\n\n  /**\n   * Êî∂Ââ≤‰ªì‰ΩçÁöÑfeeÂíårewardÔºåÊîØÊåÅclmm, farms, burn\n   * @param params\n   * @returns\n   */\n  const getPosClaimFeeAndRewardTxPayload = async (params: {\n    posType: 'clmm' | 'farms' | 'burn'\n    id: string\n    clmmPool: string\n    coinTypeA: string\n    coinTypeB: string\n    rewarderCoinTypes?: any\n    account?: string\n  }) => {\n    const { posType, id, clmmPool, coinTypeA, coinTypeB, rewarderCoinTypes, account } = params\n    let tx, msafeParams\n    if (posType === 'clmm') {\n      const parameter = {\n        pool_id: clmmPool,\n        pos_id: id,\n        rewarder_coin_types: rewarderCoinTypes,\n        coin_type_a: coinTypeA,\n        coin_type_b: coinTypeB,\n        collect_fee: true\n      }\n\n      tx = await clmmSdk!.Rewarder.collectRewarderPayload(parameter)\n\n      msafeParams = {\n        action: MsafeTransactionSubType.ClaimFeeAndMining,\n        txbParams: parameter\n      }\n    } else if (posType === 'farms') {\n      const parameter = {\n        coin_type_a: coinTypeA,\n        coin_type_b: coinTypeB,\n        clmm_pool_id: clmmPool,\n        position_nft_id: id,\n        clmm_rewarder_types: rewarderCoinTypes,\n        collect_fee: true\n      }\n\n      tx = await farmsSdk!.Farms.claimFeeAndClmmReward(parameter)\n\n      msafeParams = {\n        action: 'FarmingClaimFeeAndReward',\n        txbParams: parameter\n      }\n    } else if (posType === 'burn') {\n      const parameter = {\n        poolAddress: clmmPool,\n        posId: id,\n        coinTypeA,\n        coinTypeB,\n        account: account as string,\n        rewarderCoinTypes\n      }\n\n      tx = getBurnClaimTxPayload(parameter)\n    }\n\n    return {\n      tx,\n      msafeParams\n    }\n  }\n\n  /**\n   * ÊâπÈáèÊî∂Ââ≤FeeÂíåRewards\n   * @param posBaseList\n   * @param posRewardsData\n   * @param account\n   * @returns\n   */\n  const getBatchHarvestFeeAndRewardsTxPayload = async (posBaseList: PosBaseInfo[], posRewardsData: Record<string, PosReward[]>, account: string) => {\n    console.log('üöÄ ~ getBatchHarvestFeeAndRewardsTxPayload ~ posBaseList:', posBaseList, posRewardsData, account)\n    const clmmHarvestParams: CollectRewarderParams[] = []\n    const framsHavestParams: HarvestFeeAndClmmRewarderParams[] = []\n    const burnHavestParams: CollectRewardParams[] = []\n    const farmsParams: HarvestParams[] = []\n\n    posBaseList.forEach(position => {\n      const rewarderCoinTypes = posRewardsData[position.posId]?.map((item: PosReward) => item.coin_address) || []\n      console.log('üöÄ ~ getBatchHarvestFeeAndRewardsTxPayload ~ rewarderCoinTypes:', rewarderCoinTypes)\n\n      if (position.posType == 'clmm') {\n        clmmHarvestParams.push({\n          pool_id: position.clmmPool,\n          pos_id: position.id,\n          collect_fee: true,\n          rewarder_coin_types: rewarderCoinTypes,\n          coin_type_a: deleteOx(position.coinTypeA),\n          coin_type_b: deleteOx(position.coinTypeB)\n        })\n      } else if (position.posType == 'farms') {\n        framsHavestParams.push({\n          pool_id: position.farmsPool || '',\n          position_nft_id: position.id,\n          clmm_pool_id: position.clmmPool,\n          collect_fee: true,\n          collect_farms_rewarder: false,\n          clmm_rewarder_types: rewarderCoinTypes,\n          coin_type_a: position.coinTypeA,\n          coin_type_b: position.coinTypeB\n        })\n        farmsParams.push({\n          pool_id: position.farmsPool || '',\n          position_nft_id: position.id\n        })\n      } else {\n        burnHavestParams.push({\n          pos_id: position?.id || '',\n          pool_id: position.clmmPool,\n          coin_type_a: position.coinTypeA,\n          coin_type_b: position.coinTypeB,\n          rewarder_coin_types: rewarderCoinTypes,\n          account\n        })\n      }\n    })\n\n    const batchHarvestAndClmmFeeTx = await farmsSdk!.Farms.batchHarvestAndClmmFeePayload(framsHavestParams, clmmHarvestParams)\n\n    const burnRewardList = []\n    for (let i = 0; i < burnHavestParams.length; i++) {\n      const item = burnHavestParams[i]\n      if (item?.rewarder_coin_types.length > 0) {\n        burnRewardList.push(item)\n      }\n    }\n    const txb = burnSdk!.Burn.createCollectFeesPayload(burnHavestParams, batchHarvestAndClmmFeeTx)\n\n    const tx = burnSdk!.Burn.crateCollectRewardsPayload(burnRewardList, txb)\n\n    const txf = await farmsSdk!.Farms.batchHarvestPayload(farmsParams, tx)\n\n    return { txb, tx, txf }\n  }\n\n  return {\n    getPosClaimFeeAndRewardTxPayload,\n    getBatchHarvestFeeAndRewardsTxPayload\n  }\n}\n","import usePositionStore from '@/store/position'\nimport { Token } from '@cetus/types'\nimport { Icon } from '@cetus/ui-kit'\nimport { cancelBubble, textEllipses } from '@cetus/utils'\nimport { HStack, Skeleton, Text } from '@chakra-ui/react'\nimport { useState } from 'react'\n\nfunction PositionCurrentPrice({\n  posId,\n  displayTokenA,\n  displayTokenB,\n  symbolEllipsesDecimals = 10 //symbolË∂ÖÂá∫‰ΩçÊï∞ÂêéÊòØÂê¶Â±ïÁ§∫...\n}: {\n  posId: string\n  displayTokenA: Token\n  displayTokenB: Token\n  symbolEllipsesDecimals?: number\n}) {\n  const [isDirect, setIsDirect] = useState(true)\n  const { posPoolsRelatedData } = usePositionStore()\n  const currentPosPoolsRelatedData = posPoolsRelatedData[posId]\n\n  return (\n    <HStack>\n      <Skeleton isLoaded={!!currentPosPoolsRelatedData?.currentPrice}>\n        <Text color=\"text_caption\">{isDirect ? currentPosPoolsRelatedData?.currentPrice : currentPosPoolsRelatedData?.currentPriceReverse}</Text>\n      </Skeleton>\n      <HStack gap=\"0\">\n        <Text color=\"primary_gray\">{textEllipses(isDirect ? displayTokenB?.symbol : displayTokenA?.symbol, symbolEllipsesDecimals)}</Text>\n        <Text color=\"primary_gray\">&nbsp;per&nbsp;</Text>\n        <Text color=\"primary_gray\">{textEllipses(isDirect ? displayTokenA?.symbol : displayTokenB?.symbol, symbolEllipsesDecimals)}</Text>\n      </HStack>\n      <Icon\n        xlinkHref=\"#icon-icon_swap1\"\n        w=\"16px\"\n        h=\"16px\"\n        onClick={(e: any) => {\n          cancelBubble(e)\n          setIsDirect(!isDirect)\n        }}\n      />\n    </HStack>\n  )\n}\n\nexport default PositionCurrentPrice\n"],"names":["useCalculatePendingYield","getTokenAmountValue","useTokenPrice","calculatePendingYield","list","posFeeData","posRewardsData","posFarmsData","total","rewardAndFeeList","position","currentFeesData","currentPosRewardsData","currentPosFarmsData","rewardsArr","feeTokenA","processToken","feeTokenB","updateTotal","reward","rewardToken","_a","aggregatedList","aggregateRewardsAndFees","token","amount","coinAddress","coinType","amountUSD","fixCoinType","d","currentTotal","amounts","updatedTotal","claimObj","item","coin_address","_b","a","b","usePosClaimFeeAndReward","clmmSdk","useSdk","farmsSdk","burnSdk","getBurnClaimTxPayload","useBurn","params","posType","id","clmmPool","coinTypeA","coinTypeB","rewarderCoinTypes","account","tx","msafeParams","parameter","MsafeTransactionSubType","posBaseList","clmmHarvestParams","framsHavestParams","burnHavestParams","farmsParams","deleteOx","batchHarvestAndClmmFeeTx","burnRewardList","i","txb","txf","PositionCurrentPrice","posId","displayTokenA","displayTokenB","symbolEllipsesDecimals","isDirect","setIsDirect","useState","posPoolsRelatedData","usePositionStore","currentPosPoolsRelatedData","HStack","jsx","Skeleton","Text","jsxs","textEllipses","Icon","e","cancelBubble"],"mappings":"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"}