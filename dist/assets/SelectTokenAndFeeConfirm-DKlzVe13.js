import{u as H}from"./useToken-DX7Pn68W.js";import{an as M,ao as D,w as W,z,c as Q,X as I,I as F}from"./index-kyUQkV0u.js";import{a as g,D as O,j as t,P as v,h as L,f as R,H as _,S as G,u as N,V as f,T as x,m as V,n as X,ab as $,a8 as A,a7 as U,ad as Y,v as B,X as Z,Y as J,Z as K,a0 as k,a1 as q,a6 as T}from"./vendor-DXHkIl66.js";import{i as P}from"./index-BT2bG9uf.js";import{E as tt}from"./ErrorTips-DYD1mHN6.js";import{a as st}from"./FeeTierSelect-Dbed0XiU.js";import{P as ot}from"./index-uDW4ys5e.js";function nt(o,s){return o>s}function it(o,s,p){for(var a=-1,n=o.length;++a<n;){var i=o[a],e=s(i);if(e!=null&&(d===void 0?e===e&&!M(e):p(e,d)))var d=e,c=i}return c}function et(o,s){return o&&o.length?it(o,D(s),nt):void 0}function ht(){const[o,s]=g.useState([]),{getTokenListInfo:p}=H();g.useEffect(()=>{a()},[]);const a=async()=>{var c,j;const i=(j=(c=W)==null?void 0:c.create_pool_quote_coin_list)==null?void 0:j.map(r=>r),e=await p(i),d=W.create_pool_quote_coin_list.map(r=>e==null?void 0:e.get(r));s(d.filter(r=>!!r))};return{isWhiteQuoteToken:g.useCallback(i=>i?o.find(e=>z(e.coin_type)===z(i))!==void 0:!1,[o]),quoteWhiteTokenList:o}}function ft({baseToken:o,quoteToken:s,onBaseTokenChange:p,onQuoteTokenChange:a,feeTier:n,feeTierList:i,onFeeTierChange:e,title:d,description:c,onContinue:j,quoteWhiteTokenList:r,fromSource:S,wrapStyle:b={}}){var C;$(),g.useEffect(()=>{if(S==="addLiquidity"&&(i==null?void 0:i.length)>0){const l=et(i,w=>Number((w==null?void 0:w.tvl)||"0"));l&&e(l)}},[S,i]);const y=l=>{(l==null?void 0:l.coin_type)===(s==null?void 0:s.coin_type)&&a(void 0),p(l)},h=l=>{(l==null?void 0:l.coin_type)===(o==null?void 0:o.coin_type)&&p(void 0),a(l)},u=g.useMemo(()=>o&&s&&!P(o,r)&&!P(s,r),[o==null?void 0:o.coin_type,s==null?void 0:s.coin_type]);console.log("ðŸš€ðŸš€ðŸš€ ~ file: SelectPool.tsx:104 ~ quoteWhiteTokenList:",o,s,u,r);const m=g.useRef(null);return t.jsxs(f,{w:"100%",gap:{base:"16px",lg:"28px"},bg:"bg_fifth",borderRadius:"12px",p:{base:"16px 8px",lg:"24px"},...b,children:[t.jsxs(f,{gap:"8px",w:"100%",align:"flex-start",children:[t.jsx(A,{fontSize:"16px",fontWeight:"500",children:d}),t.jsx(x,{fontSize:"12px",fontWeight:"500",children:c})]}),t.jsxs(f,{w:"100%",gap:{base:"16px",lg:"32px"},children:[t.jsxs(U,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"12px",justify:"space-between",children:[t.jsx(E,{title:"Base token",value:o,isWhiteSelect:!1,whiteTokenList:void 0,onChange:y}),t.jsx(E,{title:"Quote token",value:s,isWhiteSelect:!0,whiteTokenList:r,onChange:h})]}),t.jsxs(f,{w:"100%",align:"flex-start",gap:"16px",children:[t.jsxs(f,{w:"100%",align:"flex-start",gap:"8px",children:[t.jsx(x,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Fee tier"}),t.jsx(x,{fontSize:"12px",fontWeight:"500",children:`The ${typeof n=="object"&&(n==null?void 0:n.feeDisplay)||"%"} you will earn in fees.`})]}),t.jsx(st,{value:n,onChange:l=>e(l),feeTierList:i,placement:"bottom",wrapStyle:{w:((C=m==null?void 0:m.current)==null?void 0:C.clientWidth)||"463px"},children:({isOpen:l,onClick:w})=>t.jsx(Y,{w:"100%",borderRadius:"12px",h:"48px",border:"1px solid",borderColor:"border",cursor:"pointer",onClick:w,bg:"bg_secondary",ref:m,children:t.jsxs(_,{w:"100%",justifyContent:"space-between",p:"9px 16px",children:[n?t.jsx(x,{color:"text_caption",fontSize:"16px",fontWeight:"500",children:`${typeof n=="object"&&(n==null?void 0:n.feeDisplay)}`}):t.jsx(x,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:"Select fee tier"}),t.jsxs(_,{children:[t.jsx(x,{fontSize:"12px",children:typeof n=="object"&&(n==null?void 0:n.title)}),t.jsx(F,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:l?"rotate(180deg)":"rotate(0deg)"})]})]})})}),u&&t.jsx(tt,{isShowIcon:!1,p:"6px 16px",w:"100%",borderRadius:"8px",tipsLineHeight:"16px",tipsFontSize:"12px",tips:"To create a pool, one of the assets needs to be selected as the default token."})]}),t.jsx(B,{w:"100%",borderRadius:"12px",h:"48px",disabled:!o||!s||!n||(n==null?void 0:n.disabled)||u,onClick:()=>j({baseToken:o,quoteToken:s,feeTier:n}),children:"Continue"})]})]})}const E=({title:o,value:s,onChange:p,whiteTokenList:a,isWhiteSelect:n,disabled:i=!1,wrapStyle:e={},symbolStyle:d={},tokenSize:c="28px",tokenStyle:j={},loading:r=!1})=>{var u;const{isOpen:S,onOpen:b,onClose:y}=O(),h=g.useRef(null);return t.jsx(t.Fragment,{children:t.jsxs(v,{modifiers:[{name:"flip",enabled:!1},{name:"shift",enabled:!1}],initialFocusRef:h,isLazy:!0,isOpen:S,trigger:"click",onClose:y,onOpen:b,placement:"bottom-start",children:[t.jsx(L,{children:t.jsx(R,{w:"100%",as:"button",ref:h,disabled:i,children:r?t.jsxs(_,{children:[t.jsx(G,{w:c,h:c}),t.jsx(N,{h:d.fontSize||"16px"})]}):t.jsxs(f,{flex:"1",gap:"8px",align:"flex-start",children:[o&&t.jsx(x,{fontSize:"12px",fontWeight:"500",children:o}),t.jsxs(_,{h:"48px",w:"100%",justify:"space-between",p:"9px 16px",cursor:"pointer",onClick:b,borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"bg_secondary",_hover:{svg:{fill:"text_caption"}},...e,children:[s?t.jsxs(_,{children:[t.jsx(Q,{imageUrl:s==null?void 0:s.logo_url,w:c,h:c,coinType:s==null?void 0:s.coin_type,...j}),t.jsx(x,{color:"text_caption",fontSize:"16px",fontWeight:"600",whiteSpace:"nowrap",...d,children:I(s==null?void 0:s.symbol)})]}):t.jsx(x,{color:"text_caption",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Select token"}),t.jsx(F,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:S?"rotate(180deg)":"rotate(0deg)"})]})]})})}),t.jsx(V,{w:((u=h==null?void 0:h.current)==null?void 0:u.clientWidth)||"224px",minW:"224px",children:t.jsx(X,{p:"0",children:t.jsx(ot,{selectTokenList:s?[s]:[],onClickToken:m=>{p(m),y()},whiteTokenList:a,hideCheckbox:!0})})})]})})};function gt({title:o,subTitle:s,btnText:p,isOpen:a,onClose:n,onConfirm:i}){return t.jsxs(Z,{autoFocus:!1,returnFocusOnClose:!1,isOpen:a,onClose:n,isCentered:!0,children:[t.jsx(J,{}),t.jsxs(K,{children:[t.jsx(k,{}),t.jsx(q,{p:"20px 16px",children:t.jsxs(f,{children:[t.jsx(R,{w:"200px",h:"200px",bg:"url('/images/img_create_pool.png')"}),t.jsx(x,{h:"20px",lineHeight:"20px",fontSize:"14px",color:"text_caption",fontWeight:"500",children:o}),s&&t.jsx(x,{fontSize:"14px",children:s})]})}),t.jsx(T,{p:"0 16px 16px",children:t.jsx(B,{w:"100%",h:"40px",borderRadius:"12px",colorScheme:"blue",fontSize:"16px",fontWeight:"500",onClick:()=>{n(),i()},children:p})})]})]})}export{E as S,gt as a,ft as b,et as m,ht as u};
//# sourceMappingURL=SelectTokenAndFeeConfirm-DKlzVe13.js.map
