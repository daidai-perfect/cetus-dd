{"version":3,"file":"VaultsAprBlock-C9l-wSMY.js","sources":["../../src/store/vaults/useVaultsList.ts","../../src/utils/vaults.ts","../../src/constant/vaults.ts","../../src/hooks/vaults/useGetVaultList.ts","../../src/hooks/vaults/useGetApiVaultInfo.ts","../../src/store/unstable-vaults/useVaultsList.ts","../../src/hooks/unstable-vault/useVaultsHelper.ts","../../src/hooks/unstable-vault/useGetContractVaultInfo.ts","../../src/hooks/vaults/useVaultsHelper.ts","../../src/hooks/vaults/useGetContractVaultInfo.ts","../../src/hooks/unstable-vault/useVaultsAdd.ts","../../src/hooks/vaults/useVaultsAdd.ts","../../src/hooks/unstable-vault/useVaultsButtonStatus.ts","../../src/hooks/vaults/useVaultsButtonStatus.ts","../../src/hooks/unstable-vault/useVaultsRemove.ts","../../src/hooks/vaults/useVaultsRemove.ts","../../src/hooks/vault-interface/index.ts","../../src/components/vaults/list/common/VaultsAprBlock.tsx"],"sourcesContent":["import { VaultBaseInfo, VaultStatItem } from '@/types'\nimport { Pool } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { Vault } from '@cetusprotocol/vaults-sdk'\nimport { StateCreator, create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\ninterface VaultsState {\n  vaultStatsLoading: boolean\n  setVaultStatsLoading: (isLoading: boolean) => void\n  vaultStatsObj: Record<string, VaultStatItem>\n  setVaultStatsObj: (data: Record<string, VaultStatItem>) => void\n\n  vaultBaseListLoading: boolean\n  setVaultBaseListLoading: (isLoading: boolean) => void\n  vaultBaseList: VaultBaseInfo[]\n  setVaultBaseList: (list: VaultBaseInfo[]) => void\n\n  contractVaultObjLoading: boolean\n  setContractVaultObjLoading: (isLoading: boolean) => void\n  contractVaultObj: Record<string, Vault>\n  setContractVaultObj: (vault: Vault) => void\n\n  contractClmmPoolObjLoading: boolean\n  setContractClmmPoolObjLoading: (isLoading: boolean) => void\n  contractClmmPoolObj: Record<string, Pool>\n  setContractClmmPoolObj: (pool: Pool) => void\n\n  holdTotalValue: Record<string, string>\n  setHoldTotalValue: (vaultId: string, value: string) => void\n\n  detailRefreshCount: number\n  setDetailRefreshCount: (count: number) => void\n\n  lpTokenInfo: any\n  setLpTokenInfo: (data: any) => void\n}\n\nconst store: StateCreator<VaultsState> = (set, get) => ({\n  detailRefreshCount: 0,\n  contractClmmPoolObjLoading: false,\n  contractVaultObjLoading: false,\n  vaultBaseListLoading: false,\n  vaultStatsLoading: false,\n  holdVaultsObj: {},\n  holdTotalValue: {},\n  vaultStatsObj: {},\n  contractClmmPoolObj: {},\n  contractVaultObj: {},\n  isYourHoldings: false,\n  setVaultStatsObj: (data: Record<string, VaultStatItem>) => {\n    set(() => ({\n      vaultStatsObj: data\n    }))\n  },\n  vaultBaseList: [],\n  setVaultBaseList: (list: VaultBaseInfo[]) => {\n    set(() => ({\n      vaultBaseList: list\n    }))\n  },\n  setVaultBaseListLoading: (isLoading: boolean) => {\n    set(() => ({\n      vaultBaseListLoading: isLoading\n    }))\n  },\n  setVaultStatsLoading: (isLoading: boolean) => {\n    set(() => ({\n      vaultStatsLoading: isLoading\n    }))\n  },\n  setContractVaultObj: (vault: Vault) => {\n    const contractVaultObj = get().contractVaultObj\n    contractVaultObj[vault.id] = vault\n    set(() => ({\n      contractVaultObj: { ...contractVaultObj }\n    }))\n  },\n  setContractVaultObjLoading: (isLoading: boolean) => {\n    set(() => ({\n      contractVaultObjLoading: isLoading\n    }))\n  },\n  setContractClmmPoolObjLoading: (isLoading: boolean) => {\n    set(() => ({\n      contractClmmPoolObjLoading: isLoading\n    }))\n  },\n  setContractClmmPoolObj: (pool: Pool) => {\n    const contractClmmPoolObj = get().contractClmmPoolObj\n    contractClmmPoolObj[pool.poolAddress] = pool\n    set(() => ({\n      contractClmmPoolObj: { ...contractClmmPoolObj }\n    }))\n  },\n  setHoldTotalValue: (vaultId: string, value: string) => {\n    const holdTotalValue = get().holdTotalValue\n    holdTotalValue[vaultId] = value\n    set(() => ({\n      holdTotalValue: { ...holdTotalValue }\n    }))\n  },\n  setDetailRefreshCount: (count: number) => {\n    set(() => ({\n      detailRefreshCount: count\n    }))\n  },\n  lpTokenInfo: {} as any,\n  setLpTokenInfo: (data: any) => {\n    set(() => ({\n      lpTokenInfo: {\n        ...get().lpTokenInfo,\n        ...data\n      }\n    }))\n  }\n})\n\nconst useVaultsListStore = create(\n  persist(store, {\n    name: 'useVaultsStore2',\n    partialize: state => {\n      const { vaultBaseList, vaultStatsObj, contractVaultObj, contractClmmPoolObj, lpTokenInfo } = state\n      return { vaultBaseList, vaultStatsObj, contractVaultObj, contractClmmPoolObj, lpTokenInfo }\n    }\n  })\n)\nexport default useVaultsListStore\n","import { VaultApiInfo, VaultBaseInfo, VaultStatItem } from '@/types/vaults'\n\nexport function formatVaultApiInfo(baseInfo: VaultBaseInfo, statsItem?: VaultStatItem): VaultApiInfo {\n  return {\n    ...baseInfo,\n    vaultsTvl: statsItem?.vaultsTvl || '--',\n    vaultsTvlDisplay: statsItem?.vaultsTvlDisplay || '--',\n    vaultsApy: statsItem?.vaultsApy || '--',\n    vaultsApyDisplay: statsItem?.vaultsApyDisplay || '--',\n    vaultsTotalApy: statsItem?.vaultsTotalApy || '--',\n    vaultsTotalApyDisplay: statsItem?.vaultsTotalApyDisplay || '--',\n    vaultsLstApy: statsItem?.vaultsLstApy || '--',\n    vaultsLstApyDisplay: statsItem?.vaultsLstApyDisplay || '--',\n    vaultsApr: statsItem?.vaultsApr || '--',\n    vaultsAprDisplay: statsItem?.vaultsAprDisplay || '--',\n    vaultsId: statsItem?.vaultsId || '',\n    clmmPoolAddress: statsItem?.clmmPoolAddress || '',\n    amountPerLpA: statsItem?.amountPerLpA || '0',\n    amountPerLpB: statsItem?.amountPerLpB || '0',\n    category: statsItem?.category || '',\n    hardCapUSD: statsItem?.hardCapUSD || '--',\n    depositRatioDisplay: statsItem?.depositRatioDisplay || '--',\n    depositRatio: statsItem?.depositRatio || 0,\n    lpTokentype: statsItem?.lpTokentype || ''\n  }\n}\n","import { Token } from '@cetus/types'\n\nexport const vaultsMaps: Record<string, { vaults_id: string; clmm_pool: string; isUnstableVault?: boolean; lpToken: Token }> = {\n  '0xa528b26eae41bcfca488a9feaa3dca614b2a1d9b9b5c78c256918ced051d4c50': {\n    vaults_id: '0xff4cc0af0ad9d50d4a3264dfaafd534437d8b66c8ebe9f92b4c39d898d6870a3',\n    clmm_pool: '0xa528b26eae41bcfca488a9feaa3dca614b2a1d9b9b5c78c256918ced051d4c50',\n    lpToken: {\n      coin_type: '0x0c8a5fcbe32b9fc88fe1d758d33dd32586143998f68656f43f3a6ced95ea4dc3::lp_token::LP_TOKEN',\n      decimals: 9,\n      description: '',\n      logo_url: 'https://j5w37hib4ojxo6bymogsbg5r5qkkdhuvfprizrw4kxakm3jxz24q.arweave.net/T22_nQHjk3d4OGONIJux7BShnpUr4ozG3FXApm03zrk',\n      name: '',\n      symbol: ''\n    }\n  },\n  '0x6c545e78638c8c1db7a48b282bb8ca79da107993fcb185f75cedc1f5adb2f535': {\n    vaults_id: '0x5732b81e659bd2db47a5b55755743dde15be99490a39717abc80d62ec812bcb6',\n    clmm_pool: '0x6c545e78638c8c1db7a48b282bb8ca79da107993fcb185f75cedc1f5adb2f535',\n    lpToken: {\n      coin_type: '0xb490d6fa9ead588a9d72da07a02914da42f6b5b1339b8118a90011a42b67a44f::lp_token::LP_TOKEN',\n      decimals: 9,\n      logo_url: 'https://tke7enjn3akurmshmxw2yr2yo4ru6joi6sxpnbsyk452k36vfdoa.arweave.net/monyNS3YFUiyR2XtrEdYdyNPJcj0rvaGWFc7pW_VKNw',\n      description: '',\n      name: '',\n      symbol: ''\n    }\n  },\n  '0x871d8a227114f375170f149f7e9d45be822dd003eba225e83c05ac80828596bc': {\n    vaults_id: '0xde97452e63505df696440f86f0b805263d8659b77b8c316739106009d514c270',\n    clmm_pool: '0x871d8a227114f375170f149f7e9d45be822dd003eba225e83c05ac80828596bc',\n    lpToken: {\n      coin_type: '0x828b452d2aa239d48e4120c24f4a59f451b8cd8ac76706129f4ac3bd78ac8809::lp_token::LP_TOKEN',\n      decimals: 9,\n      logo_url: 'https://dzuxtnuvuq7xqcurpbk4udj74zm2h5c52ftpaxsmgvxdt3fxtgva.arweave.net/Hml5tpWkP3gKkXhVyg0_5lmj9F3RZvBeTDVuOey3mao',\n      description: '',\n      name: '',\n      symbol: ''\n    }\n  }\n}\n\nexport const staticVaultsList: any = [\n  {\n    poolAddress: '0x871d8a227114f375170f149f7e9d45be822dd003eba225e83c05ac80828596bc',\n    name: 'haSUI - SUI',\n    isReverse: false,\n    tokenA: {\n      name: 'Haedal staked SUI',\n      symbol: 'haSUI',\n      decimals: 9,\n      address: '0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI',\n      balance: '9808420.561870547',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/hasui.png',\n      coingecko_id: 'haedal-staked-sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI'\n    },\n    tokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '4906526.459378922',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    displayTokenA: {\n      name: 'Haedal staked SUI',\n      symbol: 'haSUI',\n      decimals: 9,\n      address: '0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI',\n      balance: '9808420.561870547',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/hasui.png',\n      coingecko_id: 'haedal-staked-sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI'\n    },\n    displayTokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '4906526.459378922',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    haveMining: false,\n    miningRewardList: [],\n    miningAprList: [],\n    haveFarming: true,\n    farmsRewarderList: [{ coinType: '0x2::sui::SUI', emissionsEveryDay: '1660' }],\n    farmsApr: '0.0518854671450343098098316019470933000166085972573126523381066642',\n    farmingAprDisplay: '5.18%',\n    feeApr: '0.0024026852043393462354559911502367355412380011356114481601412655',\n    feeAprDisplay: '0.24%',\n    miningAprTotal: '0',\n    feeAndMiningAprDisplay: '0.24%',\n    totalAprDisplay: '5.42%',\n    fee: '0.0001',\n    feeRate: '1',\n    feeDisplay: '0.01%',\n    tvlDisplay: '$34,493,018.28',\n    tvl: '34493018.281195',\n    volume24Display: '$2,280,261.01',\n    fees24Display: '$228.02',\n    isVaults: true,\n    farmsStatedTvl: '26486362.741908405324614107895615170922538233',\n    farmsStatedTvlDisplay: '$26,486,362.74',\n    feeAndFarmsApr: '0.0542881523493736560452875930973300355578465983929241004982479297',\n    feeAndFarmsAprDisplay: '5.42%',\n    farmsEffectiveTickLower: 458,\n    farmsEffectiveTickUpper: 630,\n    displayFarmsEffectMinPrice: '1.04686261985650299343324213325963175512302823358939922365776382',\n    displayFarmsEffectMaxPrice: '1.065023484625683903423611073362171479042941553679249804326112882',\n    farmsPoolAddress: '0x9f5fd63b2a2fd8f698ff6b7b9720dbb2aa14bedb9fc4fd6411f20e5b531a4b89',\n    tickSpacing: '2',\n    index: 171,\n    object: {\n      coin_a: 9808458908401888,\n      coin_b: 4906587775647608,\n      tick_spacing: 2,\n      fee_rate: 100,\n      liquidity: '4518573584291114825',\n      current_sqrt_price: '18904297306631983245',\n      rewarder_manager: {\n        fields: {\n          rewarders: [\n            {\n              fields: {\n                reward_coin: { fields: { name: '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI' } },\n                emissions_per_second: '0',\n                growth_global: '1257881454428453'\n              }\n            }\n          ],\n          points_released: '891294616929869525730459648000000',\n          points_growth_global: '21523796564358466',\n          last_updated_time: 1742298390\n        }\n      },\n      is_pause: false,\n      index: 171\n    },\n    isUnstableVault: false,\n    vaultId: '0xde97452e63505df696440f86f0b805263d8659b77b8c316739106009d514c270',\n    vaultsRewards: [\n      'bde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI',\n      '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI'\n    ],\n    category: 'cetus',\n    vaultsTvl: '--',\n    vaultsTvlDisplay: '--',\n    vaultsApy: '--',\n    vaultsApyDisplay: '--',\n    vaultsTotalApy: '--',\n    vaultsTotalApyDisplay: '--',\n    vaultsLstApy: '--',\n    vaultsLstApyDisplay: '--',\n    vaultsApr: '--',\n    vaultsAprDisplay: '--',\n    vaultsId: '0xde97452e63505df696440f86f0b805263d8659b77b8c316739106009d514c270',\n    clmmPoolAddress: '0x871d8a227114f375170f149f7e9d45be822dd003eba225e83c05ac80828596bc',\n    amountPerLpA: '0',\n    amountPerLpB: '0',\n    hardCapUSD: '0',\n    depositRatioDisplay: '--',\n    depositRatio: null\n  },\n  {\n    poolAddress: '0xa528b26eae41bcfca488a9feaa3dca614b2a1d9b9b5c78c256918ced051d4c50',\n    name: 'afSUI - SUI',\n    isReverse: false,\n    tokenA: {\n      name: 'Aftermath Staked SUI',\n      symbol: 'afSUI',\n      decimals: 9,\n      address: '0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI',\n      balance: '658417.270250603',\n      logo_url: 'https://aftermath.finance/coins/afsui.svg',\n      coingecko_id: '',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI'\n    },\n    tokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '728051.794256833',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    displayTokenA: {\n      name: 'Aftermath Staked SUI',\n      symbol: 'afSUI',\n      decimals: 9,\n      address: '0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI',\n      balance: '658417.270250603',\n      logo_url: 'https://aftermath.finance/coins/afsui.svg',\n      coingecko_id: '',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI'\n    },\n    displayTokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '728051.794256833',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    haveMining: false,\n    miningRewardList: [],\n    miningAprList: [],\n    haveFarming: true,\n    farmsRewarderList: [{ coinType: '0x2::sui::SUI', emissionsEveryDay: '179' }],\n    farmsApr: '0.0464023636393077740203769764174118048604573922372862799918758555',\n    farmingAprDisplay: '4.64%',\n    feeApr: '0.0033899366954780440962433422983686951853302867916998498680873725',\n    feeAprDisplay: '0.33%',\n    miningAprTotal: '0',\n    feeAndMiningAprDisplay: '0.33%',\n    totalAprDisplay: '4.97%',\n    fee: '0.0001',\n    feeRate: '1',\n    feeDisplay: '0.01%',\n    tvlDisplay: '$3,208,847.14',\n    tvl: '3208847.148567',\n    volume24Display: '$299,303.7',\n    fees24Display: '$29.93',\n    isVaults: true,\n    farmsStatedTvl: '3193543.9222334375613019913559132207271233416',\n    farmsStatedTvlDisplay: '$3,193,543.92',\n    feeAndFarmsApr: '0.049792300334785818116620318715780500045787679028986129859963228',\n    feeAndFarmsAprDisplay: '4.97%',\n    farmsEffectiveTickLower: 246,\n    farmsEffectiveTickUpper: 630,\n    displayFarmsEffectMinPrice: '1.024903815942060126071216020214630750602010709809178108739814341',\n    displayFarmsEffectMaxPrice: '1.065023484625683903423611073362171479042941553679249804326112882',\n    farmsPoolAddress: '0xa67a2c2ea1bfad784e44eaf079fbf4523f549dcbe2e1c838989aef9383e372da',\n    tickSpacing: '2',\n    index: 177,\n    object: {\n      coin_a: 658460129348399,\n      coin_b: 728098232825595,\n      tick_spacing: 2,\n      fee_rate: 100,\n      liquidity: '118870647915638752',\n      current_sqrt_price: '18838643734050246682',\n      rewarder_manager: {\n        fields: {\n          rewarders: [\n            {\n              fields: {\n                reward_coin: { fields: { name: '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI' } },\n                emissions_per_second: '0',\n                growth_global: '116212414799563023'\n              }\n            }\n          ],\n          points_released: '807216091435844318162583552000000',\n          points_growth_global: '16349896683785349254',\n          last_updated_time: 1742298232\n        }\n      },\n      is_pause: false,\n      index: 177\n    },\n    isUnstableVault: false,\n    vaultId: '0xff4cc0af0ad9d50d4a3264dfaafd534437d8b66c8ebe9f92b4c39d898d6870a3',\n    vaultsRewards: [\n      'f325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI',\n      '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI'\n    ],\n    category: 'cetus',\n    vaultsTvl: '--',\n    vaultsTvlDisplay: '--',\n    vaultsApy: '--',\n    vaultsApyDisplay: '--',\n    vaultsTotalApy: '--',\n    vaultsTotalApyDisplay: '--',\n    vaultsLstApy: '--',\n    vaultsLstApyDisplay: '--',\n    vaultsApr: '--',\n    vaultsAprDisplay: '--',\n    vaultsId: '0xff4cc0af0ad9d50d4a3264dfaafd534437d8b66c8ebe9f92b4c39d898d6870a3',\n    clmmPoolAddress: '0xa528b26eae41bcfca488a9feaa3dca614b2a1d9b9b5c78c256918ced051d4c50',\n    amountPerLpA: '0',\n    amountPerLpB: '0',\n    hardCapUSD: '0',\n    depositRatioDisplay: '--',\n    depositRatio: null\n  },\n  {\n    poolAddress: '0x6c545e78638c8c1db7a48b282bb8ca79da107993fcb185f75cedc1f5adb2f535',\n    name: 'vSUI - SUI',\n    isReverse: false,\n    tokenA: {\n      name: 'Volo Staked SUI',\n      symbol: 'vSUI',\n      decimals: 9,\n      address: '0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT',\n      balance: '486628.267188103',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/vsui.png',\n      coingecko_id: 'volo-staked-sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT'\n    },\n    tokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '600110.710175814',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    displayTokenA: {\n      name: 'Volo Staked SUI',\n      symbol: 'vSUI',\n      decimals: 9,\n      address: '0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT',\n      balance: '486628.267188103',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/vsui.png',\n      coingecko_id: 'volo-staked-sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT'\n    },\n    displayTokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '600110.710175814',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    haveMining: false,\n    miningRewardList: [],\n    miningAprList: [],\n    haveFarming: true,\n    farmsRewarderList: [{ coinType: '0x2::sui::SUI', emissionsEveryDay: '185' }],\n    farmsApr: '0.0620621744498103516020273711367605077176330280935694176694522726',\n    farmingAprDisplay: '6.2%',\n    feeApr: '0.002839603128562170485549675399055637257215998153216582864163728',\n    feeAprDisplay: '0.28%',\n    miningAprTotal: '0',\n    feeAndMiningAprDisplay: '0.28%',\n    totalAprDisplay: '6.49%',\n    fee: '0.0001',\n    feeRate: '1',\n    feeDisplay: '0.01%',\n    tvlDisplay: '$2,510,926.42',\n    tvl: '2510926.429555',\n    volume24Display: '$196,180.07',\n    fees24Display: '$19.61',\n    isVaults: true,\n    farmsStatedTvl: '2467770.1483943725745405060221935259780125246',\n    farmsStatedTvlDisplay: '$2,467,770.14',\n    feeAndFarmsApr: '0.0649017775783725220875770465358161449748490262467860005336160006',\n    feeAndFarmsAprDisplay: '6.49%',\n    farmsEffectiveTickLower: 198,\n    farmsEffectiveTickUpper: 630,\n    displayFarmsEffectMinPrice: '1.019996310431884656665875778090597179747899267937297195270940555',\n    displayFarmsEffectMaxPrice: '1.065023484625683903423611073362171479042941553679249804326112882',\n    farmsPoolAddress: '0xf47709fd3cfb41252cda363f32dc29f34a6eaaf3729927753e75d73abc5f5181',\n    tickSpacing: '2',\n    index: 175,\n    object: {\n      coin_a: 486658132530526,\n      coin_b: 600167780501069,\n      tick_spacing: 2,\n      fee_rate: 100,\n      liquidity: '2321413517446008068',\n      current_sqrt_price: '18827542383370490467',\n      rewarder_manager: {\n        fields: {\n          rewarders: [\n            {\n              fields: {\n                reward_coin: { fields: { name: '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI' } },\n                emissions_per_second: '0',\n                growth_global: '1622087936923460'\n              }\n            }\n          ],\n          points_released: '798552762549067364341645312000000',\n          points_growth_global: '31233269161567778',\n          last_updated_time: 1742298387\n        }\n      },\n      is_pause: false,\n      index: 175\n    },\n    isUnstableVault: false,\n    vaultId: '0x5732b81e659bd2db47a5b55755743dde15be99490a39717abc80d62ec812bcb6',\n    vaultsRewards: [\n      '549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT',\n      '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI'\n    ],\n    category: 'cetus',\n    vaultsTvl: '--',\n    vaultsTvlDisplay: '--',\n    vaultsApy: '--',\n    vaultsApyDisplay: '--',\n    vaultsTotalApy: '--',\n    vaultsTotalApyDisplay: '--',\n    vaultsLstApy: '--',\n    vaultsLstApyDisplay: '--',\n    vaultsApr: '--',\n    vaultsAprDisplay: '--',\n    vaultsId: '0x5732b81e659bd2db47a5b55755743dde15be99490a39717abc80d62ec812bcb6',\n    clmmPoolAddress: '0x6c545e78638c8c1db7a48b282bb8ca79da107993fcb185f75cedc1f5adb2f535',\n    amountPerLpA: '0',\n    amountPerLpB: '0',\n    hardCapUSD: '0',\n    depositRatioDisplay: '--',\n    depositRatio: null\n  },\n  {\n    poolAddress: '0xb8d7d9e66a60c239e7a60110efcf8de6c705580ed924d0dde141f4a0e2c90105',\n    name: 'SUI - USDC',\n    isReverse: true,\n    tokenA: {\n      name: 'Native USDC',\n      symbol: 'USDC',\n      decimals: 6,\n      address: '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC',\n      balance: '6994556.776019',\n      logo_url: 'https://gateway.irys.xyz/EGpc2cG886CrWwLMneF2RyVpZ7D33a6znz6XE8n8nU7h',\n      coingecko_id: 'usd-coin',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC'\n    },\n    tokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '6470393.713602128',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    displayTokenA: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '6470393.713602128',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    displayTokenB: {\n      name: 'Native USDC',\n      symbol: 'USDC',\n      decimals: 6,\n      address: '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC',\n      balance: '6994556.776019',\n      logo_url: 'https://gateway.irys.xyz/EGpc2cG886CrWwLMneF2RyVpZ7D33a6znz6XE8n8nU7h',\n      coingecko_id: 'usd-coin',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC'\n    },\n    haveMining: true,\n    miningRewardList: [\n      { coinType: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS', emissionsEveryDay: '30000000000000' },\n      { coinType: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI', emissionsEveryDay: '2936000000000' }\n    ],\n    miningAprList: [\n      {\n        coinType: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS',\n        apr: '0.0502302597554847335728918598923420349382548448020840644503019149',\n        aprDisplay: '5.02%'\n      },\n      {\n        coinType: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n        apr: '0.1121697952437793563166939156096767251552891223880879922231831828',\n        aprDisplay: '11.21%'\n      }\n    ],\n    haveFarming: false,\n    farmsRewarderList: [],\n    farmsApr: '0',\n    farmingAprDisplay: '',\n    feeApr: '1.039543323716705126378191733239089190848621545971870975717999998',\n    feeAprDisplay: '103.95%',\n    miningAprTotal: '0.1624000549992640898895857755020187600935439671901720566734850977',\n    feeAndMiningAprDisplay: '120.19%',\n    totalAprDisplay: '120.19%',\n    fee: '0.0025',\n    feeRate: '25',\n    feeDisplay: '0.25%',\n    tvlDisplay: '$21,669,273.38',\n    tvl: '21669273.389889',\n    volume24Display: '$25,196,763.83',\n    fees24Display: '$62,991.9',\n    isVaults: false,\n    farmsStatedTvl: '',\n    farmsStatedTvlDisplay: '',\n    feeAndFarmsApr: '1.201943378715969216267777508741107950942165513162043032391485095',\n    feeAndFarmsAprDisplay: '103.95%',\n    farmsEffectiveTickLower: 0,\n    farmsEffectiveTickUpper: 0,\n    displayFarmsEffectMinPrice: '',\n    displayFarmsEffectMaxPrice: '',\n    farmsPoolAddress: '',\n    tickSpacing: '60',\n    index: 3137,\n    object: {\n      coin_a: 7019812001233,\n      coin_b: 6481948428081738,\n      tick_spacing: 60,\n      fee_rate: 2500,\n      liquidity: '7919792326420544',\n      current_sqrt_price: '387301868084602258960',\n      rewarder_manager: {\n        fields: {\n          rewarders: [\n            {\n              fields: {\n                reward_coin: { fields: { name: '06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS' } },\n                emissions_per_second: '6405119470038038755555555556',\n                growth_global: '26676127812826120527'\n              }\n            },\n            {\n              fields: {\n                reward_coin: { fields: { name: '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI' } },\n                emissions_per_second: '626847692134389392877037038',\n                growth_global: '5045177556068499952'\n              }\n            }\n          ],\n          points_released: '256416604813358187415601152000000',\n          points_growth_global: '270015129121818228',\n          last_updated_time: 1742298325\n        }\n      },\n      is_pause: false,\n      index: 3137\n    },\n    isUnstableVault: true,\n    vaultId: '0x41a4ab1e82f90f5965bbcd828b8ffa13bab7560bd2e352ab067e343db552f527',\n    vaultsRewards: [\n      '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      'dba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC',\n      '06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS'\n    ],\n    category: 'haedal',\n    vaultsTvl: '--',\n    vaultsTvlDisplay: '--',\n    vaultsApy: '--',\n    vaultsApyDisplay: '--',\n    vaultsTotalApy: '--',\n    vaultsTotalApyDisplay: '--',\n    vaultsLstApy: '--',\n    vaultsLstApyDisplay: '--',\n    vaultsApr: '--',\n    vaultsAprDisplay: '--',\n    vaultsId: '0x41a4ab1e82f90f5965bbcd828b8ffa13bab7560bd2e352ab067e343db552f527',\n    clmmPoolAddress: '0xb8d7d9e66a60c239e7a60110efcf8de6c705580ed924d0dde141f4a0e2c90105',\n    amountPerLpA: '0',\n    amountPerLpB: '0',\n    hardCapUSD: '0',\n    depositRatioDisplay: '--',\n    depositRatio: null\n  },\n  {\n    poolAddress: '0xe01243f37f712ef87e556afb9b1d03d0fae13f96d324ec912daffc339dfdcbd2',\n    name: 'DEEP - SUI',\n    isReverse: false,\n    tokenA: {\n      name: 'DeepBook Token',\n      symbol: 'DEEP',\n      decimals: 6,\n      address: '0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP',\n      balance: '38148087.736923',\n      logo_url: 'https://gateway.irys.xyz/5LqWyWG5EU9wPknvW5rY6qSQPtnNAfP27X1PnAiesyFG',\n      coingecko_id: 'deep',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP'\n    },\n    tokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '768472.179325603',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    displayTokenA: {\n      name: 'DeepBook Token',\n      symbol: 'DEEP',\n      decimals: 6,\n      address: '0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP',\n      balance: '38148087.736923',\n      logo_url: 'https://gateway.irys.xyz/5LqWyWG5EU9wPknvW5rY6qSQPtnNAfP27X1PnAiesyFG',\n      coingecko_id: 'deep',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP'\n    },\n    displayTokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '768472.179325603',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    haveMining: true,\n    miningRewardList: [\n      { coinType: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI', emissionsEveryDay: '1165000000000' },\n      { coinType: '0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP', emissionsEveryDay: '127192000000' }\n    ],\n    miningAprList: [\n      {\n        coinType: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n        apr: '0.1993884036768800515130263443019041050862350874457143530980956206',\n        aprDisplay: '19.93%'\n      },\n      {\n        coinType: '0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP',\n        apr: '0.7784493692315403527120642020519074423562040785734131037470931738',\n        aprDisplay: '77.84%'\n      }\n    ],\n    haveFarming: false,\n    farmsRewarderList: [],\n    farmsApr: '0',\n    farmingAprDisplay: '',\n    feeApr: '0.8393072486102057420293966869313929233028266682099922267918123755',\n    feeAprDisplay: '83.93%',\n    miningAprTotal: '0.9778377729084204042250905463538115474424391660191274568451887944',\n    feeAndMiningAprDisplay: '181.71%',\n    totalAprDisplay: '181.71%',\n    fee: '0.0025',\n    feeRate: '25',\n    feeDisplay: '0.25%',\n    tvlDisplay: '$4,837,157.78',\n    tvl: '4837157.781696',\n    volume24Display: '$4,467,927.46',\n    fees24Display: '$11,169.81',\n    isVaults: false,\n    farmsStatedTvl: '',\n    farmsStatedTvlDisplay: '',\n    feeAndFarmsApr: '1.817145021518626146254487233285204470745265834229119683637001169',\n    feeAndFarmsAprDisplay: '83.93%',\n    farmsEffectiveTickLower: 0,\n    farmsEffectiveTickUpper: 0,\n    displayFarmsEffectMinPrice: '',\n    displayFarmsEffectMaxPrice: '',\n    farmsPoolAddress: '',\n    tickSpacing: '60',\n    index: 5056,\n    object: {\n      coin_a: 38251906126071,\n      coin_b: 772407575970606,\n      tick_spacing: 60,\n      fee_rate: 2500,\n      liquidity: '8295811276552121',\n      current_sqrt_price: '110310797447865996218',\n      rewarder_manager: {\n        fields: {\n          rewarders: [\n            {\n              fields: {\n                reward_coin: { fields: { name: '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI' } },\n                emissions_per_second: '248732139419810505007407408',\n                growth_global: '1792995150775002027'\n              }\n            },\n            {\n              fields: {\n                reward_coin: { fields: { name: 'deeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP' } },\n                emissions_per_second: '27155998521102607513220741',\n                growth_global: '449363617848666723'\n              }\n            }\n          ],\n          points_released: '247161190782047378116444160000000',\n          points_growth_global: '95762577535111090',\n          last_updated_time: 1742298343\n        }\n      },\n      is_pause: false,\n      index: 5056\n    },\n    isUnstableVault: true,\n    vaultId: '0xed754b6a3a6c7549c3d734cb7b464bccf9c805814b9e47b0cb99f43b4efcb4a6',\n    vaultsRewards: [\n      'deeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP',\n      '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI'\n    ],\n    category: 'haedal',\n    vaultsTvl: '--',\n    vaultsTvlDisplay: '--',\n    vaultsApy: '--',\n    vaultsApyDisplay: '--',\n    vaultsTotalApy: '--',\n    vaultsTotalApyDisplay: '--',\n    vaultsLstApy: '-',\n    vaultsLstApyDisplay: '--',\n    vaultsApr: '--',\n    vaultsAprDisplay: '--',\n    vaultsId: '0xed754b6a3a6c7549c3d734cb7b464bccf9c805814b9e47b0cb99f43b4efcb4a6',\n    clmmPoolAddress: '0xe01243f37f712ef87e556afb9b1d03d0fae13f96d324ec912daffc339dfdcbd2',\n    amountPerLpA: '0',\n    amountPerLpB: '0',\n    hardCapUSD: '0',\n    depositRatioDisplay: '--',\n    depositRatio: null\n  },\n  {\n    poolAddress: '0x2e041f3fd93646dcc877f783c1f2b7fa62d30271bdef1f21ef002cebf857bded',\n    name: 'CETUS - SUI',\n    isReverse: false,\n    tokenA: {\n      name: 'CETUS Token',\n      symbol: 'CETUS',\n      decimals: 9,\n      address: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS',\n      balance: '18358179.80898744',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/cetus.png',\n      coingecko_id: 'cetus-protocol',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS'\n    },\n    tokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '690115.203159796',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    displayTokenA: {\n      name: 'CETUS Token',\n      symbol: 'CETUS',\n      decimals: 9,\n      address: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS',\n      balance: '18358179.80898744',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/cetus.png',\n      coingecko_id: 'cetus-protocol',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS'\n    },\n    displayTokenB: {\n      name: 'SUI Token',\n      symbol: 'SUI',\n      decimals: 9,\n      address: '0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI',\n      balance: '690115.203159796',\n      logo_url: 'https://archive.cetus.zone/assets/image/sui/sui.png',\n      coingecko_id: 'sui',\n      project_url: '',\n      labels: [],\n      is_trusted: true,\n      coin_type: '0x2::sui::SUI'\n    },\n    haveMining: true,\n    miningRewardList: [\n      { coinType: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS', emissionsEveryDay: '30000000000000' }\n    ],\n    miningAprList: [\n      {\n        coinType: '0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS',\n        apr: '0.3210654055390594303577545548609292263307138720994575650218205418',\n        aprDisplay: '32.1%'\n      }\n    ],\n    haveFarming: false,\n    farmsRewarderList: [],\n    farmsApr: '0',\n    farmingAprDisplay: '',\n    feeApr: '0.590449737261882520842413517032433640716917602858166433470039506',\n    feeAprDisplay: '59.04%',\n    miningAprTotal: '0.3210654055390594303577545548609292263307138720994575650218205418',\n    feeAndMiningAprDisplay: '91.15%',\n    totalAprDisplay: '91.15%',\n    fee: '0.0025',\n    feeRate: '25',\n    feeDisplay: '0.25%',\n    tvlDisplay: '$3,390,129.27',\n    tvl: '3390129.276803',\n    volume24Display: '$2,082,915.62',\n    fees24Display: '$5,207.28',\n    isVaults: false,\n    farmsStatedTvl: '',\n    farmsStatedTvlDisplay: '',\n    feeAndFarmsApr: '0.9115151428009419512001680718933628670476314749576239984918600478',\n    feeAndFarmsAprDisplay: '59.04%',\n    farmsEffectiveTickLower: 0,\n    farmsEffectiveTickUpper: 0,\n    displayFarmsEffectMinPrice: '',\n    displayFarmsEffectMaxPrice: '',\n    farmsPoolAddress: '',\n    tickSpacing: '60',\n    index: 17,\n    object: {\n      coin_a: 18373571333894680,\n      coin_b: 690940315126143,\n      tick_spacing: 60,\n      fee_rate: 2500,\n      liquidity: '263293665799460652',\n      current_sqrt_price: '3861763937780779107',\n      rewarder_manager: {\n        fields: {\n          rewarders: [\n            {\n              fields: {\n                reward_coin: { fields: { name: '06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS' } },\n                emissions_per_second: '6405119470038038755555555556',\n                growth_global: '15090167137337694524'\n              }\n            },\n            {\n              fields: {\n                reward_coin: { fields: { name: '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI' } },\n                emissions_per_second: '0',\n                growth_global: '111871157481137955'\n              }\n            }\n          ],\n          points_released: '1080698092786440464840523776000000',\n          points_growth_global: '59477561914930359',\n          last_updated_time: 1742298373\n        }\n      },\n      is_pause: false,\n      index: 17\n    },\n    isUnstableVault: true,\n    vaultId: '0xbbd2d4850e4f238d39c3aa24957d2dfbb5787fa43d6c7de306bf15abe27f29f2',\n    vaultsRewards: [\n      '06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS',\n      '0000000000000000000000000000000000000000000000000000000000000002::sui::SUI'\n    ],\n    category: 'haedal',\n    vaultsTvl: '--',\n    vaultsTvlDisplay: '--',\n    vaultsApy: '--',\n    vaultsApyDisplay: '--',\n    vaultsTotalApy: '--',\n    vaultsTotalApyDisplay: '--',\n    vaultsLstApy: '--',\n    vaultsLstApyDisplay: '--',\n    vaultsApr: '--',\n    vaultsAprDisplay: '--',\n    vaultsId: '0xbbd2d4850e4f238d39c3aa24957d2dfbb5787fa43d6c7de306bf15abe27f29f2',\n    clmmPoolAddress: '0x2e041f3fd93646dcc877f783c1f2b7fa62d30271bdef1f21ef002cebf857bded',\n    amountPerLpA: '0',\n    amountPerLpB: '0',\n    hardCapUSD: '0',\n    depositRatioDisplay: '--',\n    depositRatio: null\n  }\n]\n","import useVaultsStore from '@/store/vaults/useVaultsList'\nimport { QueryVaultListOptions, VaultApiInfo, VaultBaseInfo, VaultStatItem } from '@/types'\nimport { aprProcessing } from '@/utils/api-data-utils'\nimport { formatVaultApiInfo } from '@/utils/vaults'\nimport { useFetch } from '@cetus/hooks'\nimport { VAULT_FILTER } from '@cetus/types'\nimport { formatNumber, symbolDataDisplayProcessing } from '@cetus/utils'\nimport { d, fixCoinType } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { staticVaultsList } from '../../../src/constant/vaults'\nimport useFavoritePool from '../pool/useFavoritePool'\n\nexport default function useGetVaultList() {\n  const { fetchByApi } = useFetch()\n  const { getFavoritePoolList } = useFavoritePool()\n  const { setVaultStatsObj, setVaultBaseList, vaultBaseList, vaultStatsObj, setVaultStatsLoading, setVaultBaseListLoading } = useVaultsStore()\n\n  // 获取vaults基础信息列表\n  const getVaultBaseList = async (showLoading: boolean = true, pools: string[], statsObj: any): Promise<VaultBaseInfo[]> => {\n    try {\n      if (showLoading) {\n        setVaultBaseListLoading(true)\n      }\n\n      const res = await getFavoritePoolList({\n        is_vaults: false,\n        display_all_pools: false,\n        has_mining: true,\n        has_farming: true,\n        no_incentives: true,\n        order_by: '-vol',\n        limit: 100,\n        offset: 0,\n        pools\n      })\n      console.log('🚀🚀🚀 ~ useGetVaultList.ts:35 ~ getVaultBaseList ~ res:', res)\n\n      const list: VaultBaseInfo[] = res?.list.map((item: any) => {\n        const coinAB = [fixCoinType(item?.tokenA?.coin_type), fixCoinType(item?.tokenB?.coin_type)]\n        const disPlayCoinAB = item.isReverse ? coinAB.reverse() : coinAB\n        const farmingRewards = item?.miningRewardList?.map((fItem: any) => fixCoinType(fItem?.coinType))\n        const miningRewards = item?.miningRewardList?.map((mItem: any) => fixCoinType(mItem?.coinType))\n        const vaultsRewards = Array.from(new Set([...disPlayCoinAB, ...farmingRewards, ...miningRewards]))\n        return {\n          ...item,\n          vaultsRewards, // vaults奖励，因为farming和mining奖励拿不到详细信息，为保持统一只有coinType\n          category: statsObj[item.poolAddress]?.category // vault 来源 haedal cetus\n        }\n      })\n\n      console.log('🚀 ~ file: useGetVaultList.ts:42 ~ getVaultBaseList ~ list:', list)\n\n      if (list.length > 0) {\n        setVaultBaseList(list)\n      }\n\n      return list\n    } catch (error) {\n      console.log('getVaultBaseList Error:', error)\n    } finally {\n      setVaultBaseListLoading(false)\n    }\n    return []\n  }\n\n  // 获取vaults统计信息(目前不支持单条查询, 详情可直接调用，然后在store的vaultsStatsObj中用key查询展示)\n  const getVaultsStats = async () => {\n    try {\n      setVaultStatsLoading(true)\n      const res = await fetchByApi('/v3/sui/vaults/pools', 'GET')\n      const vaultsStatsObj: Record<string, VaultStatItem> = {}\n      if (res?.list) {\n        res?.list?.forEach((item: any) => {\n          if (item.display || !VAULT_FILTER) {\n            const clmmPoolAddress = item?.clmm_pool\n            const vaultsId = item?.id\n            // const vaultsTotalApy = d(item?.apy).div(100).toString()\n            const vaultsTotalApy = item.category == 'cetus' ? d(item?.apy).add(d(item.lst_apy)).toString() : d(item.apr).add(d(item.apy)).toString()\n            const vaultsTotalApyDisplay = aprProcessing(vaultsTotalApy, true, true)\n\n            const vaultsApy = item?.apy\n            const vaultsApyDisplay = aprProcessing(vaultsApy, true)\n\n            const vaultsLstApy = item?.lst_apy\n            const vaultsLstApyDisplay = aprProcessing(vaultsLstApy, true)\n\n            const vaultsTvl = item?.tvl\n            const vaultsTvlDisplay = symbolDataDisplayProcessing(vaultsTvl, '$')\n\n            const vaultsApr = item?.apr\n            const vaultsAprDisplay = aprProcessing(vaultsApr, true)\n\n            const hardCapUSD = item?.hard_cap_usd\n            // d(vaultsTvl).div(d(hardCapUSD)).mul(100).gt(100) ? '100' :\n            const depositRatio = d(vaultsTvl).div(d(hardCapUSD)).mul(100)\n            const depositRatioDisplay = formatNumber(depositRatio, 2)\n            //  `${d(depositRatio).gt(100) ? '100' : formatNumber(depositRatio, 2)}%`\n\n            vaultsStatsObj[clmmPoolAddress] = {\n              vaultsApy,\n              vaultsApyDisplay,\n              vaultsTotalApy,\n              vaultsTotalApyDisplay,\n              vaultsLstApy,\n              vaultsLstApyDisplay,\n              vaultsApr,\n              vaultsAprDisplay,\n              clmmPoolAddress,\n              vaultsId,\n              vaultsTvl,\n              vaultsTvlDisplay,\n              amountPerLpA: item?.reward_per_lp?.amount_a_per_lp,\n              amountPerLpB: item?.reward_per_lp?.amount_b_per_lp,\n              category: item.category,\n              hardCapUSD,\n              depositRatio,\n              depositRatioDisplay,\n              lpTokentype: item?.lp_type\n            }\n          }\n        })\n        console.log('🚀🚀🚀 ~ useGetVaultList.ts:228 ~ getVaultsStats ~ vaultsStatsObj:', vaultsStatsObj)\n        setVaultStatsObj(vaultsStatsObj)\n\n        return {\n          vaultsStatsObj,\n          vaultsList: res?.list.filter((ele: any) => {\n            return ele.display || !VAULT_FILTER\n          })\n        }\n      }\n    } catch (error) {\n      console.log('🚀🚀🚀 ~ useGetVaultList.ts:129 ~ getVaultsStats ~ error:', error)\n      return vaultStatsObj\n    } finally {\n      setVaultStatsLoading(false)\n    }\n\n    return {}\n  }\n\n  // 获取vaults列表\n  const getVaultList = async (options: QueryVaultListOptions): Promise<VaultApiInfo[]> => {\n    try {\n      const { vaultsStatsObj: statsObj, vaultsList } = await getVaultsStats()\n      const vaultsPoolList = vaultsList.map((vault: VaultStatItem) => vault.clmm_pool)\n      console.log('🚀🚀🚀 ~ useGetVaultList.ts:139 ~ getVaultList ~ statsObj:', statsObj)\n      // const baseList = vaultBaseList.length > 0 ? vaultBaseList : await getVaultBaseList(true, vaultsPoolList, statsObj)\n      const baseList = await getVaultBaseList(true, vaultsPoolList, statsObj)\n      console.log('🚀 ~ getVaultList ~ baseList:', baseList)\n\n      return sortVaultApiInfoList(options, baseList, statsObj)\n    } catch (error) {\n      console.error('getVaultList Error:', error)\n      return getVaultListFromCache(options)\n    }\n  }\n\n  const getVaultListFromCache = (options: QueryVaultListOptions): VaultApiInfo[] => {\n    try {\n      const baseList = vaultBaseList\n      const statsObj = vaultStatsObj\n      if (baseList && baseList.length > 0) {\n        return sortVaultApiInfoList(options, baseList, statsObj)\n      } else {\n        throw Error('Cache is null')\n      }\n    } catch (error) {\n      console.error('getVaultListFromCache Error:', error)\n      return staticVaultsList\n    }\n  }\n\n  const sortVaultApiInfoList = (options: QueryVaultListOptions, baseList: any[], statsObj: any) => {\n    const { sortRule, sortType } = options\n    const list = baseList?.map((item: any) => {\n      const statsItem = statsObj?.[item.poolAddress]\n      return formatVaultApiInfo(item, statsItem)\n    })\n\n    const result = list?.sort((a: any, b: any) => {\n      if (sortType === 'apr') {\n        return sortRule === 'desc'\n          ? b.vaultsTotalApy?.replace('%', '') - a.vaultsTotalApy?.replace('%', '')\n          : a.vaultsTotalApy?.replace('%', '') - b.vaultsTotalApy?.replace('%', '')\n      }\n\n      return sortRule === 'desc' ? b.vaultsTvl - a.vaultsTvl : a.vaultsTvl - b.vaultsTvl\n    })\n    console.log('🚀🚀🚀 ~ useGetVaultList.ts:187 ~ sortVaultApiInfoList ~ result:', JSON.stringify(result))\n    return result\n  }\n\n  return {\n    getVaultBaseList,\n    getVaultsStats,\n    getVaultListFromCache,\n    getVaultList\n  }\n}\n","import useSwapWidgetStore from '@/store/swap-widget/swapWidget'\nimport { VaultApiInfo } from '@/types/vaults'\nimport envConfigs from '@cetus/types/src/config/envConfigs'\nimport { useEffect, useState } from 'react'\nimport useGetVaultList from './useGetVaultList'\n\nexport default function useGetApiStableVaultInfo(vaultsId?: string) {\n  const { getVaultList, getVaultListFromCache } = useGetVaultList()\n\n  const [apiVaultInfo, setApiVaultInfo] = useState<VaultApiInfo | undefined>(undefined)\n  const [vaultInfoLoading, setVaultInfoLoading] = useState<boolean>(false)\n  const { setFromCoin, setToCoin } = useSwapWidgetStore()\n\n  // 获取单个vault api信息，报错基础信息和统计信息\n  const getApiVaultInfo = async (vaultsId: string, refresh: boolean) => {\n    if (apiVaultInfo === undefined || refresh) {\n      setVaultInfoLoading(true)\n    }\n\n    const res = await getVaultList({\n      sortRule: 'desc',\n      sortType: 'apr'\n    })\n\n    const vaultApiInfo = res?.filter((item: any) => item.vaultsId === vaultsId)?.[0] || null\n\n    setVaultInfoLoading(true)\n\n    if (vaultApiInfo) {\n      setApiVaultInfo(vaultApiInfo)\n    }\n    return vaultApiInfo\n  }\n\n  const getApiVaultInfoFromCache = (vaultsId: string) => {\n    const res = getVaultListFromCache({\n      sortRule: 'desc',\n      sortType: 'apr'\n    })\n    const vaultApiInfo = res?.filter((item: any) => item.vaultsId === vaultsId)?.[0] || null\n    return vaultApiInfo\n  }\n\n  useEffect(() => {\n    if (vaultsId) {\n      // 优先读取缓存\n      const info = getApiVaultInfoFromCache(vaultsId)\n      if (info) {\n        setApiVaultInfo(info)\n      }\n      // 异步加载\n      getApiVaultInfo(vaultsId, false)\n    }\n  }, [vaultsId])\n\n  useEffect(() => {\n    if (apiVaultInfo) {\n      setFromCoin(apiVaultInfo?.displayTokenA)\n      setToCoin(apiVaultInfo?.displayTokenB)\n    }\n    return () => {\n      setFromCoin(envConfigs.clmm_swap.from_coin)\n      setToCoin(envConfigs.clmm_swap.to_coin)\n    }\n  }, [apiVaultInfo?.vaultsId])\n\n  return {\n    vaultInfoLoading,\n    apiVaultInfo,\n    getApiVaultInfo\n  }\n}\n","import { VaultBaseInfo, VaultStatItem } from '@/types'\nimport { Pool as ClmmPool } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { Pool as VaultPool } from 'volatile-vault-sdk'\nimport { StateCreator, create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\ninterface VaultsState {\n  vaultStatsLoading: boolean\n  setVaultStatsLoading: (isLoading: boolean) => void\n  vaultStatsObj: Record<string, VaultStatItem>\n  setVaultStatsObj: (data: Record<string, VaultStatItem>) => void\n\n  vaultBaseListLoading: boolean\n  setVaultBaseListLoading: (isLoading: boolean) => void\n  vaultBaseList: VaultBaseInfo[]\n  setVaultBaseList: (list: VaultBaseInfo[]) => void\n\n  contractVaultObjLoading: boolean\n  setContractVaultObjLoading: (isLoading: boolean) => void\n  contractVaultObj: Record<string, VaultPool>\n  setContractVaultObj: (vault: VaultPool) => void\n\n  contractClmmPoolObjLoading: boolean\n  setContractClmmPoolObjLoading: (isLoading: boolean) => void\n  contractClmmPoolObj: Record<string, ClmmPool>\n  setContractClmmPoolObj: (pool: ClmmPool) => void\n\n  holdTotalValue: Record<string, string>\n  setHoldTotalValue: (vaultId: string, value: string) => void\n\n  detailRefreshCount: number\n  setDetailRefreshCount: (count: number) => void\n\n  lpTokenInfo: any\n  setLpTokenInfo: (data: any) => void\n}\n\nconst store: StateCreator<VaultsState> = (set, get) => ({\n  detailRefreshCount: 0,\n  contractClmmPoolObjLoading: false,\n  contractVaultObjLoading: false,\n  vaultBaseListLoading: false,\n  vaultStatsLoading: false,\n  holdVaultsObj: {},\n  holdTotalValue: {},\n  vaultStatsObj: {},\n  contractClmmPoolObj: {},\n  contractVaultObj: {},\n  setVaultStatsObj: (data: Record<string, VaultStatItem>) => {\n    set(() => ({\n      vaultStatsObj: data\n    }))\n  },\n  vaultBaseList: [],\n  setVaultBaseList: (list: VaultBaseInfo[]) => {\n    set(() => ({\n      vaultBaseList: list\n    }))\n  },\n  setVaultBaseListLoading: (isLoading: boolean) => {\n    set(() => ({\n      vaultBaseListLoading: isLoading\n    }))\n  },\n  setVaultStatsLoading: (isLoading: boolean) => {\n    set(() => ({\n      vaultStatsLoading: isLoading\n    }))\n  },\n  setContractVaultObj: (vault: VaultPool) => {\n    const contractVaultObj = get().contractVaultObj\n    contractVaultObj[vault.id] = vault\n    set(() => ({\n      contractVaultObj: { ...contractVaultObj }\n    }))\n  },\n  setContractVaultObjLoading: (isLoading: boolean) => {\n    set(() => ({\n      contractVaultObjLoading: isLoading\n    }))\n  },\n  setContractClmmPoolObjLoading: (isLoading: boolean) => {\n    set(() => ({\n      contractClmmPoolObjLoading: isLoading\n    }))\n  },\n  setContractClmmPoolObj: (pool: ClmmPool) => {\n    const contractClmmPoolObj = get().contractClmmPoolObj\n    contractClmmPoolObj[pool.poolAddress] = pool\n    set(() => ({\n      contractClmmPoolObj: { ...contractClmmPoolObj }\n    }))\n  },\n  setHoldTotalValue: (vaultId: string, value: string) => {\n    const holdTotalValue = get().holdTotalValue\n    holdTotalValue[vaultId] = value\n    set(() => ({\n      holdTotalValue: { ...holdTotalValue }\n    }))\n  },\n  setDetailRefreshCount: (count: number) => {\n    set(() => ({\n      detailRefreshCount: count\n    }))\n  },\n  lpTokenInfo: {} as any,\n  setLpTokenInfo: (data: any) => {\n    const lpTokenInfo = get().lpTokenInfo\n    set(() => ({\n      lpTokenInfo: {\n        ...lpTokenInfo,\n        [data.coin_type]: data\n      }\n    }))\n  }\n})\n\nconst useUnstableVaultsListStore = create(\n  persist(store, {\n    name: 'useUnstableVaultsListStore',\n    partialize: state => {\n      const { vaultBaseList, vaultStatsObj, contractVaultObj, contractClmmPoolObj } = state\n      return { vaultBaseList, vaultStatsObj, contractVaultObj, contractClmmPoolObj }\n    }\n  })\n)\nexport default useUnstableVaultsListStore\n","import useUnstableVaultsListStore from '@/store/unstable-vaults/useVaultsList'\nimport { VaultApiInfo } from '@/types/vaults'\nimport { d, Decimal, formatNumberWithDown, formatNumberWithThreshold } from '@cetus/utils'\nimport { useMemo } from 'react'\n\n/**\n * 计算变更 lp 的 持仓占比\n * @param changeLp\n * @param totalLp\n * @returns\n */\nexport function useCalculateChangeLpRate(changeLp?: string, totalLp?: string) {\n  const lpRate = useMemo(() => {\n    if (changeLp && totalLp) {\n      if (d(totalLp).eq(0)) {\n        return '100%'\n      }\n\n      return `${formatNumberWithThreshold(d(changeLp).div(d(changeLp).add(totalLp)).mul(100).toString(), 2, 6)}%`\n    }\n    return '0%'\n  }, [changeLp, totalLp])\n\n  return { lpRate }\n}\n\n/**\n * 计算滑点数量\n * @param slippage\n * @param amount\n * @param isUp\n * @returns\n */\nexport function useCalculateSlippageAmount(slippage: number, amount?: string, isUp: boolean = false) {\n  const amountLimit = useMemo(() => {\n    if (amount) {\n      return d(amount)\n        .mul(isUp ? 1 + slippage : 1 - slippage)\n        .toString()\n    }\n    return undefined\n  }, [amount, slippage, isUp])\n\n  return { amountLimit }\n}\n\nexport function useContractVault(vaultsId?: string) {\n  const { contractVaultObj } = useUnstableVaultsListStore()\n\n  // 合约vaults 信息\n  const contractVault = useMemo(() => {\n    if (vaultsId) {\n      return contractVaultObj[vaultsId]\n    }\n    return undefined\n  }, [contractVaultObj, vaultsId])\n\n  return { contractVault }\n}\n\nexport function useContractClmmInfo(poolAddress?: string) {\n  const { contractClmmPoolObj } = useUnstableVaultsListStore()\n\n  const contractClmmInfo = useMemo(() => {\n    if (poolAddress) {\n      return contractClmmPoolObj[poolAddress]\n    }\n    return undefined\n  }, [contractClmmPoolObj, poolAddress])\n\n  return { contractClmmInfo }\n}\n\nexport function useGetSuiStakeProtocol(coinType?: string) {\n  const stakeProtocolName = useMemo(() => {\n    if (coinType) {\n      if (coinType.includes('HASUI')) {\n        return 'Haedal'\n      }\n\n      if (coinType.includes('AFSUI')) {\n        return 'Aftermath'\n      }\n      if (coinType.includes('CERT')) {\n        return 'Volo'\n      }\n    }\n    return undefined\n  }, [coinType])\n\n  return { stakeProtocolName }\n}\n\nexport function useGetRewardPeDay(balanceFormat?: string, apiInfo?: VaultApiInfo) {\n  const rewardPerA = useMemo(() => {\n    if (apiInfo && balanceFormat) {\n      return `${formatNumberWithDown(d(apiInfo.amountPerLpA).mul(balanceFormat).toFixed(18, Decimal.ROUND_DOWN), apiInfo.displayTokenA.decimals)}  ${apiInfo?.displayTokenA.symbol}`\n    }\n    return undefined\n  }, [apiInfo?.amountPerLpA, balanceFormat])\n\n  const rewardPerB = useMemo(() => {\n    if (apiInfo && balanceFormat) {\n      return `${formatNumberWithDown(d(apiInfo.amountPerLpB).mul(balanceFormat).toFixed(18, Decimal.ROUND_DOWN), apiInfo.displayTokenB.decimals)}  ${apiInfo?.displayTokenB.symbol}`\n    }\n    return undefined\n  }, [apiInfo?.amountPerLpB, balanceFormat])\n\n  return { rewardPerA, rewardPerB }\n}\n","import useUnstableVaultsListStore from '@/store/unstable-vaults/useVaultsList'\nimport { ContractVaultInfo } from '@/types/vaults'\nimport { calcCoinProportion } from '@/utils/pool'\nimport { useGetToken } from '@cetus/hooks/src/useToken'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport { useAccountStore } from '@cetus/stores'\nimport usePeripherySDKStore from '@cetus/stores/src/usePeripherySDKStore'\nimport { BalanceInfo, Token } from '@cetus/types'\nimport { Decimal, formatNumber, fromDecimalsAmountFix } from '@cetus/utils'\nimport { d, fromDecimalsAmount, TickMath } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport BN from 'bn.js'\nimport { useEffect, useMemo, useState } from 'react'\nimport { buildVaultsBalance, VaultsBalance } from 'volatile-vault-sdk'\nimport { useContractClmmInfo, useContractVault } from './useVaultsHelper'\n\n/**\n * 通过合约数据，计算vaults相关属性\n * @param vaultsId\n * @param poolAddress\n * @param tokenA\n * @param tokenB\n * @param isReverse\n * @returns\n */\nexport default function useGetContractUnstableVaultInfo(\n  vaultsId?: string,\n  poolAddress?: string,\n  tokenA?: Token,\n  tokenB?: Token,\n  isReverse: boolean = false\n) {\n  const { volatileVaultsSdk } = usePeripherySDKStore()\n  const { getTokenAmountValue } = useTokenPrice()\n  const { currentAccount } = useAccountStore()\n  const { getTokenInfo } = useGetToken()\n\n  const {\n    setContractVaultObjLoading,\n    setContractVaultObj,\n    setContractClmmPoolObj,\n    setContractClmmPoolObjLoading,\n    setHoldTotalValue,\n    holdTotalValue,\n    setLpTokenInfo\n  } = useUnstableVaultsListStore()\n\n  // **获取 Vault 信息**\n  const fetchVaultInfoFromContract = async (vaultsId: string, forceRefresh = false) => {\n    setContractVaultObjLoading(true)\n    try {\n      const info = await volatileVaultsSdk.Vaults.getPool(vaultsId, forceRefresh)\n      if (info) setContractVaultObj(info)\n    } catch (error) {\n      console.error('fetchVaultInfoFromContract error:', error)\n    } finally {\n      setContractVaultObjLoading(false)\n    }\n  }\n\n  // **获取 CLMM 池子信息**\n  const fetchClmmPoolFromContract = async (clmmPoolId: string, forceRefresh = false) => {\n    setContractClmmPoolObjLoading(true)\n    try {\n      const info = await volatileVaultsSdk.CetusClmmSDK.Pool.getPool(clmmPoolId, forceRefresh)\n      if (info) setContractClmmPoolObj(info)\n    } catch (error) {\n      console.error('fetchClmmPoolFromContract error:', error)\n    } finally {\n      setContractClmmPoolObjLoading(false)\n    }\n  }\n\n  // 合约vaults 信息\n  const { contractVault } = useContractVault(vaultsId)\n\n  // lp token信息\n  const { tokenInfo: lpTokenInfo } = useGetToken(contractVault?.lp_token_type)\n\n  // lp token 余额\n  const [balanceInfo, setBalanceInfo] = useState<BalanceInfo>()\n  const [isBalanceLoading, setBalanceLoading] = useState(false)\n  const [accountBalanceInfo, setAccountBalanceInfo] = useState<VaultsBalance>()\n  // **获取 LP 余额**\n  const fetchVaultBalance = async (walletAddress: string, vaultsId: string, decimals: string) => {\n    setBalanceLoading(true)\n    try {\n      const res = await volatileVaultsSdk.Vaults.getOwnerVaultsBalance(walletAddress, vaultsId)\n      if (res) {\n        const balanceFormat = fromDecimalsAmountFix(res.lp_token_balance, decimals).toString()\n        setBalanceInfo({\n          balance: res.lp_token_balance,\n          balanceFormat,\n          balanceDisplay: formatNumber(balanceFormat, undefined, undefined, Decimal.ROUND_DOWN).toString()\n        })\n        console.log('🚀🚀🚀 ~ useGetContractVaultInfo.ts:98 ~ fetchVaultBalance ~ res:', res)\n        setAccountBalanceInfo(res)\n      }\n    } catch (error) {\n      console.error('fetchVaultBalance error:', error)\n    } finally {\n      setBalanceLoading(false)\n    }\n  }\n\n  //持仓百分比\n  const sharePoolRate = useMemo(() => {\n    if (contractVault && balanceInfo && d(balanceInfo.balance).gt(0)) {\n      return d(balanceInfo.balance).div(contractVault.lp_token_treasury).mul(100).toString()\n    }\n\n    return '0'\n  }, [contractVault, balanceInfo])\n\n  // ClmmPool 信息\n  const { contractClmmInfo } = useContractClmmInfo(poolAddress)\n\n  // **计算持有的 Token A/B 数量**\n  const getHoldCoinAmounts = (accountBalanceInfo?: VaultsBalance) => {\n    console.log('🚀🚀🚀 ~ useGetContractVaultInfo.ts:119 ~ getHoldCoinAmounts ~ accountBalanceInfo:', accountBalanceInfo)\n    if (accountBalanceInfo && tokenA && tokenB && isReverse !== undefined) {\n      const coinAmountA = fromDecimalsAmount(accountBalanceInfo.amount_a.toString(), tokenA.decimals).toString()\n      const coinAmountB = fromDecimalsAmount(accountBalanceInfo.amount_b.toString(), tokenB.decimals).toString()\n      const displayCoinA = isReverse ? coinAmountB : coinAmountA\n      const displayCoinB = isReverse ? coinAmountA : coinAmountB\n      console.log('🚀🚀🚀 ~ useGetContractVaultInfo.ts:131 ~ getHoldCoinAmounts ~ coinAmountA', coinAmountA, coinAmountB, displayCoinA, displayCoinB)\n      return {\n        coinAmountA,\n        coinAmountB,\n        displayCoinA,\n        displayCoinB\n      }\n    }\n    return { coinAmountA: '0', coinAmountB: '0', displayCoinA: '0', displayCoinB: '0' }\n  }\n\n  const [holdCoinAmounts, setHoldCoinAmounts] = useState<{ coinAmountA: string; coinAmountB: string; displayCoinA: string; displayCoinB: string }>()\n  useEffect(() => {\n    if (accountBalanceInfo) {\n      setHoldCoinAmounts(getHoldCoinAmounts(accountBalanceInfo))\n    }\n  }, [accountBalanceInfo?.amount_a, accountBalanceInfo?.amount_b, tokenA?.decimals, tokenB?.decimals, isReverse])\n\n  // const holdCoinAmounts = useMemo(() => {\n  //   if (accountBalanceInfo) {\n  //     console.log(\n  //       '🚀🚀🚀 ~ useGetContractVaultInfo.ts:139 ~ holdCoinAmounts ~ getHoldCoinAmounts(accountBalanceInfo):',\n  //       getHoldCoinAmounts(accountBalanceInfo)\n  //     )\n  //     return getHoldCoinAmounts(accountBalanceInfo)\n  //   }\n  // }, [accountBalanceInfo?.amount_a, accountBalanceInfo?.amount_b, tokenA?.decimals, tokenB?.decimals, isReverse])\n\n  // **计算 CLMM 池子持有的 Token A/B**\n  const vaultCoinAmounts = useMemo(() => {\n    if (contractVault && contractClmmInfo && tokenA && tokenB) {\n      const result = buildVaultsBalance('', contractVault.lp_token_treasury, contractVault, contractClmmInfo)\n      return getHoldCoinAmounts(result)\n    }\n    return undefined\n  }, [contractVault, contractClmmInfo, tokenA, tokenB, isReverse])\n\n  // 当前价格\n  const currPrice = useMemo(() => {\n    if (contractClmmInfo && tokenA && tokenB) {\n      return TickMath.sqrtPriceX64ToPrice(new BN(contractClmmInfo.current_sqrt_price), tokenA.decimals, tokenB.decimals).toString()\n    }\n    return undefined\n  }, [contractClmmInfo?.current_sqrt_price, tokenA?.decimals])\n\n  //最小价格\n  const minPrice = useMemo(() => {\n    if (contractVault && tokenA && tokenB) {\n      return TickMath.tickIndexToPrice(contractVault.clmm_vault.wrapped_position.tick_lower_index, tokenA.decimals, tokenB.decimals).toString()\n    }\n    return undefined\n  }, [contractVault?.clmm_vault?.wrapped_position.tick_lower_index, tokenA?.decimals])\n\n  //最大价格\n  const maxPrice = useMemo(() => {\n    if (contractVault && tokenA && tokenB) {\n      return TickMath.tickIndexToPrice(contractVault.clmm_vault.wrapped_position.tick_upper_index, tokenA.decimals, tokenB.decimals).toString()\n    }\n    return undefined\n  }, [contractVault?.clmm_vault.wrapped_position.tick_upper_index, tokenA?.decimals])\n\n  // 用户持有的coin A B 价值\n  const holdCoinAValue = getTokenAmountValue(tokenA?.coin_type, holdCoinAmounts?.coinAmountA)\n  const holdCoinBValue = getTokenAmountValue(tokenB?.coin_type, holdCoinAmounts?.coinAmountB)\n\n  // 池子持有的coin A B 价值\n  const vaultsCoinAValue = getTokenAmountValue(tokenA?.coin_type, vaultCoinAmounts?.coinAmountA)\n  const vaultsCoinBValue = getTokenAmountValue(tokenB?.coin_type, vaultCoinAmounts?.coinAmountB)\n\n  // 池子Token占比\n  const vaultsCoinPercent = useMemo(() => {\n    if (currPrice && vaultCoinAmounts) {\n      return calcCoinProportion(vaultCoinAmounts.coinAmountA, vaultCoinAmounts.coinAmountB, currPrice, false)\n    }\n\n    return undefined\n  }, [currPrice, vaultCoinAmounts])\n\n  // 池子tvl\n  const vaultTvl = useMemo(() => {\n    return d(vaultsCoinAValue).add(vaultsCoinBValue).toString()\n  }, [vaultsCoinAValue, vaultsCoinBValue])\n\n  useEffect(() => {\n    if (vaultsId && holdCoinAValue && holdCoinBValue) {\n      setHoldTotalValue(vaultsId, d(holdCoinAValue).add(holdCoinBValue).toString())\n    }\n  }, [holdCoinAValue, holdCoinBValue, vaultsId])\n\n  const totalValue = useMemo(() => {\n    if (vaultsId) {\n      return holdTotalValue[vaultsId]\n    }\n    return undefined\n  }, [holdTotalValue, vaultsId])\n\n  const hardCapUSD = useMemo(() => {\n    if (contractVault && contractVault.hard_cap && d(contractVault?.hard_cap).gt(0) && tokenA && tokenB) {\n      let quoteCoin\n      if (contractVault.quote_type) {\n        quoteCoin = contractVault.quote_type == tokenA?.address ? tokenA! : tokenB!\n      } else {\n        quoteCoin = getTokenInfo('0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC')!\n      }\n      const maxAum = fromDecimalsAmount(contractVault.hard_cap, quoteCoin.decimals).toString()\n      // usdc不使用汇率直接为1u\n      // if (quoteCoin?.coin_type == '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC') {\n      //   maxAumUSD = maxAum\n      //   return maxAumUSD\n      // }\n      const maxAumUSD = getTokenAmountValue(quoteCoin?.coin_type, maxAum)\n      return maxAumUSD\n    }\n    return ''\n  }, [contractVault?.hard_cap, tokenA, tokenB])\n\n  // useEffect(() => {\n  //   if (lpTokenInfo && lpTokenInfo.coin_type) {\n  //     setLpTokenInfo(lpTokenInfo)\n  //   }\n  // }, [lpTokenInfo])\n\n  // 当前tvl是否大于硬顶\n  const gtAumLimit = useMemo(() => {\n    if (vaultsCoinAValue && vaultsCoinBValue && contractVault?.hard_cap && d(contractVault?.hard_cap).gt(0) && tokenA && tokenB) {\n      const quoteCoin = contractVault.quote_type == tokenA?.address ? tokenA : tokenB\n      const maxAum = fromDecimalsAmount(contractVault.hard_cap, quoteCoin.decimals).toString()\n      const maxAumUSD = getTokenAmountValue(quoteCoin?.coin_type, maxAum)\n      if (d(vaultsCoinAValue).add(vaultsCoinBValue).gt(maxAumUSD)) {\n        return true\n      }\n    }\n    return false\n  }, [vaultsCoinAValue, vaultsCoinBValue, contractVault?.hard_cap, tokenA, tokenB])\n\n  useEffect(() => {\n    if (!currentAccount?.address) {\n      setBalanceInfo(undefined)\n      setAccountBalanceInfo(undefined)\n    }\n  }, [currentAccount])\n\n  const depositRatio = useMemo(() => {\n    if (hardCapUSD && vaultTvl) {\n      return d(vaultTvl).div(hardCapUSD).mul(100).toString()\n    }\n  }, [hardCapUSD, vaultTvl])\n\n  const performanceFee = useMemo(() => {\n    if (contractVault && d(contractVault.protocol_fee_rate).gt(0)) {\n      return d(contractVault.protocol_fee_rate).div(10000).mul(100).toString()\n    }\n    return '0'\n  }, [contractVault])\n\n  return {\n    fetchVaultInfoFromContract,\n    contractVault,\n    lpTokenInfo,\n    balanceInfo,\n    sharePoolRate,\n    fetchClmmPoolFromContract,\n    holdCoinAmounts,\n    totalValue,\n    maxPrice,\n    currPrice,\n    minPrice,\n    vaultCoinAmounts,\n    vaultsCoinAValue,\n    vaultsCoinBValue,\n    vaultsCoinPercent,\n    holdCoinAValue,\n    holdCoinBValue,\n    fetchVaultBalance,\n    isBalanceLoading,\n    vaultTvl,\n    hardCapUSD,\n    gtAumLimit,\n    depositRatio,\n    performanceFee\n  } as ContractVaultInfo\n}\n","import useVaultsListStore from '@/store/vaults/useVaultsList'\nimport { VaultApiInfo } from '@/types/vaults'\nimport { d, Decimal, formatNumberWithDown, formatNumberWithThreshold } from '@cetus/utils'\nimport { useMemo } from 'react'\n\n/**\n * 计算变更 lp 的 持仓占比\n * @param changeLp\n * @param totalLp\n * @returns\n */\nexport function useCalculateChangeLpRate(changeLp?: string, totalLp?: string) {\n  const lpRate = useMemo(() => {\n    if (changeLp && totalLp) {\n      if (d(totalLp).eq(0)) {\n        return '100%'\n      }\n\n      return `${formatNumberWithThreshold(d(changeLp).div(d(changeLp).add(totalLp)).mul(100).toString(), 2, 6)}%`\n    }\n    return '0%'\n  }, [changeLp, totalLp])\n\n  return { lpRate }\n}\n\n/**\n * 计算滑点数量\n * @param slippage\n * @param amount\n * @param isUp\n * @returns\n */\nexport function useCalculateSlippageAmount(slippage: number, amount?: string, isUp: boolean = false) {\n  const amountLimit = useMemo(() => {\n    if (amount) {\n      return d(amount)\n        .mul(isUp ? 1 + slippage : 1 - slippage)\n        .toString()\n    }\n    return undefined\n  }, [amount, slippage, isUp])\n\n  return { amountLimit }\n}\n\nexport function useContractVault(vaultsId?: string) {\n  const { contractVaultObj } = useVaultsListStore()\n\n  // 合约vaults 信息\n  const contractVault = useMemo(() => {\n    if (vaultsId) {\n      return contractVaultObj[vaultsId]\n    }\n    return undefined\n  }, [contractVaultObj, vaultsId])\n\n  return { contractVault }\n}\n\nexport function useContractClmmInfo(poolAddress?: string) {\n  const { contractClmmPoolObj } = useVaultsListStore()\n\n  const contractClmmInfo = useMemo(() => {\n    if (poolAddress) {\n      return contractClmmPoolObj[poolAddress]\n    }\n    return undefined\n  }, [contractClmmPoolObj, poolAddress])\n\n  return { contractClmmInfo }\n}\n\nexport function useGetSuiStakeProtocol(coinType?: string) {\n  const stakeProtocolName = useMemo(() => {\n    if (coinType) {\n      if (coinType.includes('HASUI')) {\n        return 'Haedal'\n      }\n\n      if (coinType.includes('AFSUI')) {\n        return 'Aftermath'\n      }\n      if (coinType.includes('CERT')) {\n        return 'Volo'\n      }\n    }\n    return undefined\n  }, [coinType])\n\n  return { stakeProtocolName }\n}\n\nexport function useGetRewardPeDay(balanceFormat?: string, apiInfo?: VaultApiInfo) {\n  const rewardPerA = useMemo(() => {\n    if (apiInfo && balanceFormat) {\n      return `${formatNumberWithDown(d(apiInfo.amountPerLpA).mul(balanceFormat).toFixed(18, Decimal.ROUND_DOWN), apiInfo.displayTokenA.decimals)}  ${apiInfo?.displayTokenA.symbol}`\n    }\n    return undefined\n  }, [apiInfo?.amountPerLpA, balanceFormat])\n\n  const rewardPerB = useMemo(() => {\n    if (apiInfo && balanceFormat) {\n      return `${formatNumberWithDown(d(apiInfo.amountPerLpB).mul(balanceFormat).toFixed(18, Decimal.ROUND_DOWN), apiInfo.displayTokenB.decimals)}  ${apiInfo?.displayTokenB.symbol}`\n    }\n    return undefined\n  }, [apiInfo?.amountPerLpB, balanceFormat])\n\n  return { rewardPerA, rewardPerB }\n}\n","import useVaultsListStore from '@/store/vaults/useVaultsList'\nimport { ContractVaultInfo } from '@/types/vaults'\nimport { calcCoinProportion } from '@/utils/pool'\nimport { useGetToken } from '@cetus/hooks/src/useToken'\nimport { useGetTokenBalance } from '@cetus/hooks/src/useTokenBalance'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport usePeripherySDKStore from '@cetus/stores/src/usePeripherySDKStore'\nimport { Token } from '@cetus/types'\nimport { fromDecimalsAmountFix, symbolDataDisplayProcessing } from '@cetus/utils'\nimport { ClmmPoolUtil, TickMath, d } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { VaultsUtils } from '@cetusprotocol/vaults-sdk'\nimport BN from 'bn.js'\nimport { useEffect, useMemo } from 'react'\nimport { useContractClmmInfo, useContractVault } from './useVaultsHelper'\n\n/**\n * 通过合约数据，计算vaults相关属性\n * @param vaultsId\n * @param poolAddress\n * @param tokenA\n * @param tokenB\n * @param isReverse\n * @returns\n */\nexport default function useGetContractStableVaultInfo(\n  vaultsId?: string,\n  poolAddress?: string,\n  tokenA?: Token,\n  tokenB?: Token,\n  isReverse: boolean = false\n) {\n  const { vaultsSdk } = usePeripherySDKStore()\n  const { getTokenAmountValue } = useTokenPrice()\n\n  const {\n    setContractVaultObjLoading,\n    setContractVaultObj,\n    setContractClmmPoolObj,\n    setContractClmmPoolObjLoading,\n    setHoldTotalValue,\n    holdTotalValue,\n    setLpTokenInfo\n  } = useVaultsListStore()\n\n  // 从合约获取Vault 信息\n  const fetchVaultInfoFromContract = async (vaults_id: string, forceRefresh = false) => {\n    setContractVaultObjLoading(true)\n    const info = await vaultsSdk.Vaults.getVault(vaults_id, forceRefresh)\n\n    console.log('🚀 ~ file: useGetVaultInfo.ts:13 ~ fetchVaultInfoFromContract ~ info:', info)\n\n    if (info) {\n      setContractVaultObj(info)\n    }\n    setContractVaultObjLoading(false)\n  }\n\n  // 从合约获取clmm 池子信息\n  const fetchClmmPoolFromContract = async (clmm_pool_id: string, forceRefresh = false) => {\n    setContractClmmPoolObjLoading(true)\n    const info = await vaultsSdk.Pool.getPool(clmm_pool_id, forceRefresh)\n\n    console.log('🚀 ~ file: useGetVaultInfo.ts:33 ~ fetchClmmPoolFromContract ~ info:', info)\n\n    if (info) {\n      setContractClmmPoolObj(info)\n    }\n    setContractClmmPoolObjLoading(false)\n  }\n\n  // 合约vaults 信息\n  const { contractVault } = useContractVault(vaultsId)\n  console.log('🚀🚀🚀 ~ useGetContractVaultInfo.ts:71 ~ contractVault:', contractVault)\n\n  // lp token信息\n  const { tokenInfo: lpTokenInfo } = useGetToken(contractVault?.lp_token_type)\n\n  // lp token 余额\n  const { balanceInfo } = useGetTokenBalance(lpTokenInfo)\n\n  //持仓百分比\n  const sharePoolRate = useMemo(() => {\n    if (contractVault && balanceInfo) {\n      return d(balanceInfo.balance).div(contractVault.total_supply).mul(100).toString()\n    }\n\n    return '0'\n  }, [contractVault, balanceInfo])\n\n  // ClmmPool 信息\n  const { contractClmmInfo } = useContractClmmInfo(poolAddress)\n\n  // 根据流动性计算Token A B 数量\n  const calculateCoinAmounts = (liquidity: string) => {\n    if (contractVault && contractClmmInfo && tokenA && tokenB && isReverse !== undefined) {\n      const curSqrtPrice = new BN(contractClmmInfo.current_sqrt_price)\n      const lowerSqrtPrice = TickMath.tickIndexToSqrtPriceX64(contractVault.position.tick_lower_index)\n      const upperSqrtPrice = TickMath.tickIndexToSqrtPriceX64(contractVault.position.tick_upper_index)\n      const coinAmounts = ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(liquidity), curSqrtPrice, lowerSqrtPrice, upperSqrtPrice, false)\n\n      const coinAmountA = fromDecimalsAmountFix(coinAmounts.coinA.toString(), tokenA.decimals).toString()\n      const coinAmountB = fromDecimalsAmountFix(coinAmounts.coinB.toString(), tokenB.decimals).toString()\n\n      const displayCoinA = isReverse ? coinAmountB : coinAmountA\n      const displayCoinB = isReverse ? coinAmountA : coinAmountB\n\n      return {\n        coinAmountA,\n        coinAmountB,\n        displayCoinA,\n        displayCoinB\n      }\n    }\n    return undefined\n  }\n\n  // 用户持有的coin A B 数量\n  const holdCoinAmounts = useMemo(() => {\n    if (contractVault && balanceInfo && contractClmmInfo) {\n      const liquidity = VaultsUtils.get_share_liquidity_by_amount(contractVault, balanceInfo.balance)\n      const info = calculateCoinAmounts(liquidity)\n      if (info) {\n        return info\n      }\n    }\n    return {\n      coinAmountA: '0',\n      coinAmountB: '0',\n      displayCoinA: '0',\n      displayCoinB: '0'\n    }\n  }, [balanceInfo?.balance, contractClmmInfo?.current_sqrt_price])\n\n  // 池子持有的coin A B 数量\n  const vaultCoinAmounts = useMemo(() => {\n    if (contractVault && contractClmmInfo) {\n      const info = calculateCoinAmounts(contractVault.liquidity)\n      if (info) {\n        return info\n      }\n    }\n    return undefined\n  }, [contractVault?.liquidity, contractClmmInfo?.current_sqrt_price])\n\n  // 当前价格\n  const currPrice = useMemo(() => {\n    if (contractClmmInfo && tokenA && tokenB) {\n      return TickMath.sqrtPriceX64ToPrice(new BN(contractClmmInfo.current_sqrt_price), tokenA.decimals, tokenB.decimals).toString()\n    }\n    return undefined\n  }, [contractClmmInfo?.current_sqrt_price, tokenA?.decimals])\n\n  //最小价格\n  const minPrice = useMemo(() => {\n    if (contractVault && tokenA && tokenB) {\n      console.log(\n        '🚀🚀🚀 ~ useGetContractVaultInfo.ts:156 ~ minPrice ~ TickMath.tickIndexToPrice(contractVault.position.tick_lower_index, tokenA.decimals, tokenB.decimals).toString():',\n        TickMath.tickIndexToPrice(contractVault.position.tick_lower_index, tokenA.decimals, tokenB.decimals).toString()\n      )\n      return TickMath.tickIndexToPrice(contractVault.position.tick_lower_index, tokenA.decimals, tokenB.decimals).toString()\n    }\n    return undefined\n  }, [contractVault?.position.tick_lower_index, tokenA?.decimals])\n\n  //最大价格\n  const maxPrice = useMemo(() => {\n    if (contractVault && tokenA && tokenB) {\n      return TickMath.tickIndexToPrice(contractVault.position.tick_upper_index, tokenA.decimals, tokenB.decimals).toString()\n    }\n    return undefined\n  }, [contractVault?.position.tick_upper_index, tokenA?.decimals])\n\n  // 用户持有的coin A B 价值\n  const holdCoinAValue = getTokenAmountValue(tokenA?.coin_type, holdCoinAmounts.coinAmountA)\n  const holdCoinBValue = getTokenAmountValue(tokenB?.coin_type, holdCoinAmounts.coinAmountB)\n\n  // 池子持有的coin A B 价值\n  const vaultsCoinAValue = getTokenAmountValue(tokenA?.coin_type, vaultCoinAmounts?.coinAmountA)\n  const vaultsCoinBValue = getTokenAmountValue(tokenB?.coin_type, vaultCoinAmounts?.coinAmountB)\n\n  // 池子Token占比\n  const vaultsCoinPercent = useMemo(() => {\n    if (currPrice && vaultCoinAmounts) {\n      return calcCoinProportion(vaultCoinAmounts.coinAmountA, vaultCoinAmounts.coinAmountB, currPrice, false)\n    }\n\n    return undefined\n  }, [currPrice, vaultCoinAmounts])\n\n  // 池子tvl\n  const vaultTvl = useMemo(() => {\n    return symbolDataDisplayProcessing(d(vaultsCoinAValue).add(vaultsCoinBValue).toString(), '$')\n  }, [vaultsCoinAValue, vaultsCoinBValue])\n  console.log('🚀🚀🚀 ~ useGetContractVaultInfo.ts:263 ~ vaultTvl ~ vaultTvl:', vaultTvl)\n\n  useEffect(() => {\n    if (vaultsId) {\n      setHoldTotalValue(vaultsId, d(holdCoinAValue).add(holdCoinBValue).toString())\n    }\n  }, [holdCoinAValue, holdCoinBValue, vaultsId])\n\n  const totalValue = useMemo(() => {\n    if (vaultsId) {\n      return holdTotalValue[vaultsId]\n    }\n    return undefined\n  }, [holdTotalValue, vaultsId])\n\n  // useEffect(() => {\n  //   if (lpTokenInfo && lpTokenInfo.coin_type) {\n  //     setLpTokenInfo(lpTokenInfo)\n  //   }\n  // }, [lpTokenInfo])\n\n  return {\n    fetchVaultInfoFromContract,\n    contractVault,\n    lpTokenInfo,\n    balanceInfo,\n    sharePoolRate,\n    fetchClmmPoolFromContract,\n    holdCoinAmounts,\n    totalValue,\n    maxPrice,\n    currPrice,\n    minPrice,\n    vaultCoinAmounts,\n    vaultsCoinAValue,\n    vaultsCoinBValue,\n    vaultsCoinPercent,\n    holdCoinAValue,\n    holdCoinBValue,\n    calculateCoinAmounts,\n    vaultTvl\n  } as ContractVaultInfo\n}\n","import useTransaction from '@/hooks/common/useTransaction'\nimport useGlobalStore from '@/store/common/global'\nimport useUnstableVaultsListStore from '@/store/unstable-vaults/useVaultsList'\nimport { MsafeTransactionSubType } from '@/types'\nimport { AssetActionType } from '@/types/vaults'\nimport { formatDescription } from '@/utils'\nimport { useDebounceFunction } from '@cetus/hooks'\nimport { useGetTokenBalance } from '@cetus/hooks/src/useTokenBalance'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport usePeripherySDKStore from '@cetus/stores/src/usePeripherySDKStore'\nimport { BalanceChanges, CommonTypeInfo, ToastType, Token, TransactionStatusType } from '@cetus/types'\nimport { convertScientificToDecimal, d, formatNumber, fromDecimalsAmountFix } from '@cetus/utils'\nimport { CoinAssist, fromDecimalsAmount, toDecimalsAmount } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { CalculateAmountResult } from '@cetusprotocol/vaults-sdk'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { v4 } from 'uuid'\nimport { DepositCalculationOptions } from 'volatile-vault-sdk'\nimport { useGetSuiStakeProtocol } from './useVaultsHelper'\n\nexport default function useUnstableVaultsAdd(\n  assetAction: AssetActionType,\n  autoRefresh: () => void,\n  vaultsId?: string,\n  tokenA?: Token,\n  tokenB?: Token,\n  isReverse?: boolean,\n  isCheckedZAP?: boolean,\n  hardCapUSD?: string,\n  vaultTvl?: string\n) {\n  const { vaultsSlippage, mevProtect, maxCapForGas, transactionMode, customGasPrice } = useGlobalStore()\n\n  const { fetchTokenPrices, getTokenAmountValue } = useTokenPrice()\n  const { setDetailRefreshCount } = useUnstableVaultsListStore()\n  const { volatileVaultsSdk } = usePeripherySDKStore()\n\n  const [amountInputA, setAmountInputA] = useState<string>('')\n  const [amountInputB, setAmountInputB] = useState<string>('')\n  const [fixAmountA, setFixAmountA] = useState<boolean>(true)\n  const [uuid, setUuid] = useState<string>('')\n\n  const uuidRef = useRef<string>('')\n  const fixAmountARef = useRef<boolean>(true)\n  const amountInputARef = useRef<string>('')\n  const amountInputBRef = useRef<string>('')\n\n  useEffect(() => {\n    uuidRef.current = uuid\n  }, [uuid])\n\n  useEffect(() => {\n    fixAmountARef.current = fixAmountA\n  }, [fixAmountA])\n\n  useEffect(() => {\n    amountInputARef.current = isReverse ? amountInputA : amountInputA\n  }, [amountInputA, isReverse, amountInputB])\n\n  useEffect(() => {\n    amountInputBRef.current = isReverse ? amountInputB : amountInputB\n  }, [amountInputB, isReverse, amountInputA])\n\n  useEffect(() => {\n    resetInputAmount()\n  }, [isCheckedZAP])\n\n  //获取价格\n  useEffect(() => {\n    const coinTypeList: string[] = []\n    if (tokenA && tokenB) {\n      coinTypeList.push(tokenA.coin_type)\n      coinTypeList.push(tokenB.coin_type)\n    }\n    if (coinTypeList.length > 0) {\n      fetchTokenPrices(coinTypeList)\n    }\n  }, [tokenA?.coin_type, tokenB?.coin_type])\n\n  // 余额 因为页面上传入时按照合约方向传入 所以这里需要反过来\n  const { balanceInfo: balanceInfoA } = useGetTokenBalance(isReverse ? tokenB : tokenA)\n  const { balanceInfo: balanceInfoB } = useGetTokenBalance(isReverse ? tokenA : tokenB)\n\n  // 价值 因为页面上传入时按照合约方向传入 所以这里需要反过来\n  const amountValueA = getTokenAmountValue(isReverse ? tokenB?.coin_type : tokenA?.coin_type, amountInputA)\n  const amountValueB = getTokenAmountValue(isReverse ? tokenA?.coin_type : tokenB?.coin_type, amountInputB)\n  // 总价值\n  const inputTotalValue = useMemo(() => {\n    return d(amountValueA || '0')\n      .add(amountValueB || '0')\n      .toString()\n  }, [amountValueA, amountValueB])\n\n  const zapNumError = useMemo(() => {\n    if (isCheckedZAP) return d(inputTotalValue).gt(d(10000))\n  }, [inputTotalValue, isCheckedZAP])\n\n  const overHardtop = useMemo(() => {\n    if (hardCapUSD && inputTotalValue && d(hardCapUSD).gt(0)) {\n      if (d(inputTotalValue).add(d(vaultTvl)).gt(hardCapUSD)) {\n        return true\n      }\n    }\n    return false\n  }, [hardCapUSD, inputTotalValue, vaultTvl])\n\n  // 预计算结果\n  const [preCalculateLoading, setPreCalculateLoading] = useState<boolean>(false)\n  const [calculateLpLoading, setCalculateLpLoading] = useState<boolean>(false)\n  const [calculateResult, setCalculateResult] = useState<CalculateAmountResult | undefined>(undefined)\n  // 是否超过硬顶\n  // const [overHardtop, setOverHardtop] = useState(false)\n  // 预计算\n  const preCalculate = async (amount: string, fix_amount_a: boolean, uuid: string, isReverse = false, other_amount: string) => {\n    console.log('🚀🚀🚀 ~ useVaultsAdd.ts:102 ~ preCalculate ~ uuid:', uuid)\n    console.log('🚀🚀🚀 ~ useVaultsAdd.ts:102 ~ preCalculate ~ amount:', amount, other_amount)\n    if (tokenA && tokenB && vaultsId) {\n      try {\n        // setOverHardtop(false)\n        // setPreCalculateLoading(true)\n        setCalculateLpLoading(true)\n        setDetailRefreshCount(0)\n        const fixToken = fix_amount_a ? tokenA : tokenB\n        const fixOtherToken = fix_amount_a ? tokenB : tokenA\n        const inputAmount = toDecimalsAmount(amount, fixToken.decimals).toFixed(0)\n        const otherAmount = toDecimalsAmount(other_amount || 0, fixOtherToken.decimals).toFixed(0)\n        // 开启zap模式\n        let mode\n        if (isCheckedZAP) {\n          console.log('🚀🚀🚀 ~ useVaultsAdd.ts:107 ~ preCalculate ~ assetAction:', assetAction)\n          mode = assetAction == 'both' ? 'FlexibleBoth' : assetAction == tokenA?.coin_type ? 'OnlyCoinA' : 'OnlyCoinB'\n        } else {\n          mode = 'FixedOneSide'\n        }\n        let params: DepositCalculationOptions = {\n          uuid,\n          mode: 'FixedOneSide',\n          fixed_amount: '0',\n          fixed_coin_a: true,\n          pool_id: vaultsId\n        }\n\n        if (isCheckedZAP) {\n          if (mode === 'OnlyCoinB') {\n            params = {\n              uuid,\n              mode: 'OnlyCoinB',\n              pool_id: vaultsId,\n              coin_amount_b: inputAmount\n            }\n          }\n          if (mode === 'OnlyCoinA') {\n            params = {\n              uuid,\n              mode: 'OnlyCoinA',\n              pool_id: vaultsId,\n              coin_amount_a: inputAmount\n            }\n          }\n          if (mode == 'FlexibleBoth') {\n            params = {\n              uuid,\n              mode: 'FlexibleBoth',\n              pool_id: vaultsId,\n              coin_amount_a: fix_amount_a ? inputAmount : otherAmount,\n              coin_amount_b: fix_amount_a ? otherAmount : inputAmount\n            }\n          }\n        } else {\n          params = {\n            uuid,\n            mode: 'FixedOneSide',\n            fixed_amount: inputAmount,\n            fixed_coin_a: fix_amount_a,\n            pool_id: vaultsId\n          }\n        }\n\n        const res = await volatileVaultsSdk.Vaults.preCalculateDepositAmount(params, {\n          onSuccess: (receive_lp_amount, uuid) => {\n            console.log('🚀🚀🚀 ~ useVaultsAdd.ts:171 ~ onSuccess ~ receive_lp_amount, uuid:', receive_lp_amount)\n            if (uuid == params.uuid) {\n              setCalculateResult({\n                amount_a: isReverse ? res.deposit_amount_b : res.deposit_amount_a,\n                amount_b: isReverse ? res.deposit_amount_a : res.deposit_amount_b,\n                ft_amount: receive_lp_amount\n              })\n              setCalculateLpLoading(false)\n            }\n          },\n          onError: (error, uuid) => {\n            console.log('🚀 ~ preCalculate ~ error:', error)\n          }\n        })\n        console.log('🚀 ~ preCalculate ~ res:', {\n          ...res,\n          uuid,\n          assetAction,\n          '+amountInputARef.current': +amountInputARef.current\n        })\n        // 预计算之后sdk按照合约方向返回 这里处理方向\n        const wrapRes = {\n          amount_a: isReverse ? res.deposit_amount_b : res.deposit_amount_a,\n          amount_b: isReverse ? res.deposit_amount_a : res.deposit_amount_b,\n          ft_amount: res.receive_lp_amount\n        }\n        console.log('🚀🚀🚀 ~ useVaultsAdd.ts:204 ~ preCalculate ~ wrapRes:', wrapRes)\n        if (wrapRes.ft_amount == '0') {\n          // setPreCalculateLoading(false)\n          setCalculateResult(undefined)\n          return\n        }\n\n        if (uuidRef.current !== uuid) return // 直接返回，减少嵌套层级\n\n        console.log('🚀🚀🚀 ~ useVaultsAdd.ts:162 ~ preCalculate ~ assetAction:', assetAction)\n\n        if (isCheckedZAP) {\n          setCalculateResult(wrapRes)\n          return\n        }\n\n        // 处理非 ZAP 模式\n        if (assetAction === 'both') {\n          // fix_amount_a 方向转换（合约方向 -> 页面方向）\n          const fix_amount_a_page = isReverse ? !fix_amount_a : fix_amount_a\n          console.log('🚀🚀🚀 ~ useVaultsAdd.ts:164 ~ preCalculate ~ fix_amount_a_page:', fix_amount_a_page)\n          console.log('🚀🚀🚀 ~ useVaultsAdd.ts:168 ~ preCalculate ~ +amountInputARef.current:', +amountInputARef.current)\n\n          if (fix_amount_a_page) {\n            if (+amountInputARef.current) {\n              console.log('🚀🚀🚀 ~ useVaultsAdd.ts:173 ~ preCalculate ~ setAmountInputB:', setAmountInputB)\n              setAmountInputB(fromDecimalsAmountFix(wrapRes.amount_b.toString(), isReverse ? tokenA?.decimals : tokenB?.decimals).toString())\n            } else {\n              setAmountInputB('')\n            }\n          } else {\n            if (+amountInputBRef.current) {\n              setAmountInputA(fromDecimalsAmountFix(wrapRes.amount_a.toString(), isReverse ? tokenB?.decimals : tokenA?.decimals).toString())\n            } else {\n              setAmountInputA('')\n            }\n          }\n        }\n\n        // 单边资产计算\n        if (assetAction !== 'both' || !isCheckedZAP) {\n          setCalculateResult(wrapRes)\n        }\n      } catch (error) {\n        console.log('🚀🚀🚀 ~ useVaultsAdd.ts:202 ~ preCalculate ~ error:', error)\n        // 超过硬顶\n        if (String(error).indexOf('has reached hardCap') > -1) {\n          // setOverHardtop(true)\n          // setPreCalculateLoading(false)\n        }\n        console.log('🚀 ~ preCalculate ~ error:', error)\n        setCalculateResult(undefined)\n      } finally {\n        // setPreCalculateLoading(false)\n      }\n    }\n  }\n  const debouncedPreCalculate = useDebounceFunction(preCalculate, 500)\n\n  // 输入数量监听 // other_amount 开启zap 可以自由输入A、B数量\n  const handleAmountInputChange = (amount: string, fix_amount_a: boolean, resetTargetInput: boolean = true, other_amount: string) => {\n    console.log('🚀🚀🚀 ~ useVaultsAdd.ts:210 ~ handleAmountInputChange ~ amount:', amount, other_amount)\n    setFixAmountA(fix_amount_a)\n    if (!amount && !other_amount) {\n      setCalculateResult(undefined)\n      // setPreCalculateLoading(false)\n      setAmountInputA('')\n      setAmountInputB('')\n      return\n    }\n    if (isReverse ? !fix_amount_a : fix_amount_a) {\n      setAmountInputA(amount)\n      if (resetTargetInput && !isCheckedZAP) {\n        setAmountInputB('')\n      }\n    } else {\n      setAmountInputB(amount)\n      if (resetTargetInput && !isCheckedZAP) {\n        setAmountInputA('')\n      }\n    }\n\n    if (+amount) {\n      if (isCheckedZAP && assetAction == 'both' && (!amount || !other_amount)) {\n        setCalculateResult(undefined)\n        // setPreCalculateLoading(false)\n        return\n      }\n      const uuid = v4()\n      console.log('🚀🚀🚀 ~ useVaultsAdd.ts:300 ~ handleAmountInputChange ~ amount:', amount)\n      console.log('🚀🚀🚀 ~ useVaultsAdd.ts:300 ~ handleAmountInputChange ~ other_amount:', other_amount)\n      console.log('🚀🚀🚀 ~ useVaultsAdd.ts:255 ~ handleAmountInputChange ~ uuid:', uuid)\n      setUuid(uuid)\n      if (assetAction === 'both') {\n        // setPreCalculateLoading(true)\n      }\n      debouncedPreCalculate(amount, fix_amount_a, uuid, isReverse, other_amount)\n    } else {\n      if (!isCheckedZAP) {\n        resetInputAmount()\n      } else if (assetAction == 'both') {\n        setCalculateResult(undefined)\n      } else {\n        if (assetAction == tokenA?.coin_type || assetAction == tokenB?.coin_type) {\n          resetInputAmount()\n        }\n      }\n    }\n  }\n\n  // 重新计算 仍需考虑方向\n  const reCalculateResult = () => {\n    const amount = fixAmountARef.current\n      ? isReverse\n        ? amountInputBRef.current\n        : amountInputARef.current\n      : isReverse\n        ? amountInputARef.current\n        : amountInputBRef.current\n    const other_amount = fixAmountARef.current\n      ? !isReverse\n        ? amountInputBRef.current\n        : amountInputARef.current\n      : !isReverse\n        ? amountInputARef.current\n        : amountInputBRef.current\n    if (isCheckedZAP && assetAction == 'both' && (!amount || !other_amount)) {\n      return\n    }\n    if (+amount) {\n      const uuid = v4()\n      setUuid(uuid)\n      debouncedPreCalculate(amount, fixAmountARef.current, uuid, isReverse, other_amount)\n    }\n\n    console.log('🚀🚀🚀 ~ useVaultsAdd.ts:329 ~ reCalculateResult ~ other_amount:', other_amount)\n    console.log('🚀🚀🚀 ~ useVaultsAdd.ts:329 ~ reCalculateResult ~ amount:', amount)\n  }\n\n  // 切换资产类型，清空输入框\n  useEffect(() => {\n    resetInputAmount()\n  }, [assetAction])\n\n  const [submitLoading, setSubmitLoading] = useState<boolean>(false)\n  const { signAndExecuteTransaction, transactionConfirmation, transactionRejected } = useTransaction()\n  // 提交交易\n  const doAddAction = async () => {\n    if (vaultsId) {\n      setSubmitLoading(true)\n      // 处理页面上的值 保证按照合约A,B传入\n      const depositParams = {\n        pool_id: vaultsId,\n        amount_a: String(\n          isReverse ? toDecimalsAmount(amountInputB || 0, String(tokenA?.decimals)) : toDecimalsAmount(amountInputA || 0, String(tokenA?.decimals))\n        ),\n        amount_b: String(\n          isReverse ? toDecimalsAmount(amountInputA || 0, String(tokenB?.decimals)) : toDecimalsAmount(amountInputB || 0, String(tokenB?.decimals))\n        )\n      }\n      console.log('🚀🚀🚀 ~ useVaultsAdd.ts:261 ~ doAddAction ~ depositParams:', depositParams)\n      // 构建 交易提示\n      const toastInfo: ToastType = {\n        getShowInfo: (status: TransactionStatusType, balanceChanges?: Record<string, BalanceChanges>, res?: any) => {\n          console.log('🚀🚀🚀 ~ useVaultsAdd.ts:306 ~ doAddAction ~ res:', res)\n          // 提示语也需要处理方向\n          const description =\n            'Deposit ' +\n            [\n              formatDescription(isReverse ? amountInputA : amountInputA, isReverse ? tokenB?.symbol : tokenA?.symbol),\n              formatDescription(isReverse ? amountInputB : amountInputB, isReverse ? tokenA?.symbol : tokenB?.symbol)\n            ]\n              .filter(Boolean)\n              .join(' and ')\n\n          const info: CommonTypeInfo = {\n            modalDescriptionText: description,\n            toastTitleText: description\n          }\n\n          if (status === 'success') {\n            let amountA = amountInputA\n            let amountB = amountInputB\n\n            if (res) {\n              res.events.forEach(event => {\n                console.log('🚀🚀🚀 ~ useVaultsAdd.ts:367 ~ doAddAction ~ event:', event)\n                if (event.type.indexOf('::pool::DepositEvent') > -1 && tokenA && tokenB) {\n                  amountA = String(fromDecimalsAmount(event.parsedJson.amount_a, tokenA.decimals))\n                  console.log('🚀🚀🚀 ~ useVaultsAdd.ts:361 ~ doAddAction ~ amountA:', amountA)\n                  amountB = String(fromDecimalsAmount(event.parsedJson.amount_b, tokenB.decimals))\n                  console.log('🚀🚀🚀 ~ useVaultsAdd.ts:363 ~ doAddAction ~ amountB:', amountB)\n                }\n              })\n            }\n\n            // if (balanceChanges) {\n            //   amountA = d(amountInputA).gt(0) ? getBalanceChanges(balanceChanges, tokenA) || amountInputA : ''\n            //   amountB = d(amountInputB).gt(0) ? getBalanceChanges(balanceChanges, tokenB) || amountInputB : ''\n            // }\n            const description =\n              'Deposit ' +\n              [\n                formatDescription(isReverse ? amountB : amountA, isReverse ? tokenB?.symbol : tokenA?.symbol),\n                formatDescription(isReverse ? amountA : amountB, isReverse ? tokenA?.symbol : tokenB?.symbol)\n              ]\n                .filter(Boolean)\n                .join(' and ')\n\n            info.toastDescriptionContent = description\n            info.modalDescriptionText = description\n            info.toastTitleText = 'Deposit successful'\n          }\n\n          return info\n        }\n      }\n      transactionConfirmation(toastInfo)\n\n      try {\n        const txb = await volatileVaultsSdk.Vaults.buildDepositPayload(depositParams)\n        const res = await signAndExecuteTransaction(txb, toastInfo, {\n          useMev: mevProtect,\n          txAction: 'signTransactionBlock',\n          useFastMode: transactionMode === 'Fast Mode',\n          maxCapForGas,\n          customGasPrice,\n          msafeParams: {\n            action: MsafeTransactionSubType.AddVaultsPosition,\n            txbParams: depositParams\n          }\n        })\n\n        if (res) {\n          resetInputAmount()\n          autoRefresh()\n        } else {\n          reCalculateResult()\n        }\n      } catch (error) {\n        transactionRejected(toastInfo)\n      }\n    }\n  }\n\n  // 清空输入框\n  const resetInputAmount = () => {\n    setAmountInputA('')\n    setAmountInputB('')\n    // setPreCalculateLoading(false)\n    setCalculateResult(undefined)\n    setUuid('')\n    // setOverHardtop(false)\n  }\n  const { stakeProtocolName } = useGetSuiStakeProtocol(!fixAmountARef.current ? tokenA?.coin_type : tokenB?.coin_type)\n  // 单边提示文案\n  const showOnlySideTips = useMemo(() => {\n    if (assetAction !== 'both' && tokenA && tokenB) {\n      const amount = fixAmountARef.current ? amountInputA : amountInputB\n      const fixToken = fixAmountARef.current ? tokenA : tokenB\n      const targetToken = fixAmountARef.current ? tokenB : tokenA\n\n      console.log('🚀🚀🚀 ~ useVaultsAdd.ts:381 ~ showOnlySideTips ~ calculateResult:', calculateResult)\n      if (calculateResult && calculateResult.swap_result) {\n        const swapInAmount = fromDecimalsAmountFix(calculateResult.swap_result.swap_in_amount, fixToken.decimals)\n        const swapOutAmount = fromDecimalsAmountFix(\n          d(calculateResult.swap_result.swap_out_amount)\n            .mul(1 - Number(vaultsSlippage))\n            .toString(),\n          targetToken.decimals\n        )\n\n        if (CoinAssist.isSuiCoin(fixToken.coin_type)) {\n          return `By depositing ${convertScientificToDecimal(formatNumber(amount, 9).toString(), 9)} SUI, ${convertScientificToDecimal(formatNumber(swapInAmount, 9).toString(), 9)} SUI will be converted to ${targetToken?.symbol} via ${stakeProtocolName} liquid staking and added to the pool together.`\n        }\n        return `By depositing ${convertScientificToDecimal(formatNumber(amount, 9).toString(), 9)} ${fixToken?.symbol}, ${convertScientificToDecimal(formatNumber(swapInAmount, 9).toString(), 9)} ${fixToken?.symbol} will be traded for ${convertScientificToDecimal(formatNumber(swapOutAmount, 9).toString(), 9)} ${targetToken?.symbol} and then added to the pool together.`\n      }\n    }\n\n    return undefined\n  }, [assetAction, calculateResult, amountInputA, amountInputB])\n\n  const inputTotalValueError = useMemo(() => {\n    console.log('🚀🚀🚀 ~ VaultsRemove.tsx:178 ~ inputTotalValueError ~ inputTotalValue:', inputTotalValue, isCheckedZAP)\n    if (inputTotalValue && isCheckedZAP) {\n      return d(inputTotalValue).gt(0) && d(inputTotalValue).lt(0.0001)\n    }\n    return false\n  }, [isCheckedZAP, inputTotalValue])\n\n  return {\n    handleAmountInputChange,\n    fixAmountA,\n    amountInputA,\n    amountInputB,\n    balanceInfoA,\n    balanceInfoB,\n    amountValueA,\n    amountValueB,\n    preCalculateLoading,\n    inputTotalValue,\n    calculateResult,\n    showOnlySideTips,\n    doAddAction,\n    reCalculateResult,\n    overHardtop,\n    zapNumError,\n    calculateLpLoading,\n    inputTotalValueError\n  }\n}\n","import useTransaction from '@/hooks/common/useTransaction'\nimport useGlobalStore from '@/store/common/global'\nimport useVaultsListStore from '@/store/vaults/useVaultsList'\nimport { MsafeTransactionSubType } from '@/types'\nimport { AssetActionType } from '@/types/vaults'\nimport { formatDescription } from '@/utils'\nimport { useDebounceFunction } from '@cetus/hooks'\nimport { useGetTokenBalance } from '@cetus/hooks/src/useTokenBalance'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport usePeripherySDKStore from '@cetus/stores/src/usePeripherySDKStore'\nimport { BalanceChanges, CommonTypeInfo, ToastType, Token, TransactionStatusType } from '@cetus/types'\nimport { convertScientificToDecimal, d, formatNumber, fromDecimalsAmountFix, getBalanceChanges } from '@cetus/utils'\nimport { CoinAssist, toDecimalsAmount } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { CalculateAmountParams, CalculateAmountResult, DepositParams, InputType } from '@cetusprotocol/vaults-sdk'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { v4 } from 'uuid'\nimport { useGetSuiStakeProtocol } from './useVaultsHelper'\n\nexport default function useStableVaultsAdd(assetAction: AssetActionType, autoRefresh: () => void, vaultsId?: string, tokenA?: Token, tokenB?: Token) {\n  const { fetchTokenPrices, getTokenAmountValue } = useTokenPrice()\n  const { setDetailRefreshCount } = useVaultsListStore()\n  const { vaultsSdk } = usePeripherySDKStore()\n  const { vaultsSlippage, mevProtect, maxCapForGas, transactionMode, customGasPrice } = useGlobalStore()\n\n  const [amountInputA, setAmountInputA] = useState<string>('')\n  const [amountInputB, setAmountInputB] = useState<string>('')\n  const [fixAmountA, setFixAmountA] = useState<boolean>(true)\n  const [uuid, setUuid] = useState<string>('')\n\n  const uuidRef = useRef<string>('')\n  const fixAmountARef = useRef<boolean>(true)\n  const amountInputARef = useRef<string>('')\n  const amountInputBRef = useRef<string>('')\n\n  useEffect(() => {\n    uuidRef.current = uuid\n  }, [uuid])\n\n  useEffect(() => {\n    fixAmountARef.current = fixAmountA\n  }, [fixAmountA])\n\n  useEffect(() => {\n    amountInputARef.current = amountInputA\n  }, [amountInputA])\n\n  useEffect(() => {\n    amountInputBRef.current = amountInputB\n  }, [amountInputB])\n\n  //获取价格\n  useEffect(() => {\n    const coinTypeList: string[] = []\n    if (tokenA && tokenB) {\n      coinTypeList.push(tokenA.coin_type)\n      coinTypeList.push(tokenB.coin_type)\n    }\n    if (coinTypeList.length > 0) {\n      fetchTokenPrices(coinTypeList)\n    }\n  }, [tokenA?.coin_type, tokenB?.coin_type])\n\n  // 余额\n  const { balanceInfo: balanceInfoA } = useGetTokenBalance(tokenA)\n  const { balanceInfo: balanceInfoB } = useGetTokenBalance(tokenB)\n\n  // 价值\n  const amountValueA = getTokenAmountValue(tokenA?.coin_type, amountInputA)\n  const amountValueB = getTokenAmountValue(tokenB?.coin_type, amountInputB)\n  // 总价值\n  const inputTotalValue = useMemo(() => {\n    return d(amountValueA || '0')\n      .add(amountValueB || '0')\n      .toString()\n  }, [amountValueA, amountValueB])\n\n  // 预计算结果\n  const [preCalculateLoading, setPreCalculateLoading] = useState<boolean>(false)\n  const [calculateResult, setCalculateResult] = useState<CalculateAmountResult | undefined>(undefined)\n\n  // 预计算\n  const preCalculate = async (amount: string, fix_amount_a: boolean, uuid: string) => {\n    if (tokenA && tokenB && vaultsId) {\n      try {\n        setPreCalculateLoading(true)\n        setDetailRefreshCount(0)\n        const fixToken = fix_amount_a ? tokenA : tokenB\n        const inputAmount = toDecimalsAmount(amount, fixToken.decimals).toFixed(0)\n        const params: CalculateAmountParams = {\n          vault_id: vaultsId,\n          fix_amount_a,\n          input_amount: inputAmount,\n          slippage: Number(vaultsSlippage),\n          request_id: uuid,\n          side: assetAction === 'both' ? InputType.Both : InputType.OneSide\n        }\n        console.log('🚀 ~ preCalculate ~ params:', params, uuid)\n        const res = await vaultsSdk.Vaults.calculateDepositAmount(params, false, true)\n        console.log('🚀 ~ preCalculate ~ res:', {\n          ...res,\n          uuid,\n          assetAction,\n          '+amountInputARef.current': +amountInputARef.current\n        })\n\n        if (uuidRef.current === uuid) {\n          // 双边\n          if (assetAction === 'both') {\n            if (fix_amount_a) {\n              if (+amountInputARef.current) {\n                setAmountInputB(fromDecimalsAmountFix(res.amount_b.toString(), tokenB.decimals).toString())\n                setCalculateResult(res)\n              } else {\n                setAmountInputB('')\n              }\n            } else {\n              if (+amountInputBRef.current) {\n                setAmountInputA(fromDecimalsAmountFix(res.amount_a.toString(), tokenA.decimals).toString())\n                setCalculateResult(res)\n              } else {\n                setAmountInputA('')\n              }\n            }\n          }\n          // 单边\n          if (assetAction !== 'both') {\n            setCalculateResult(res)\n          }\n        }\n      } catch (error) {\n        console.log('🚀 ~ preCalculate ~ error:', error)\n        setCalculateResult(undefined)\n      } finally {\n        setPreCalculateLoading(false)\n      }\n    }\n  }\n  const debouncedPreCalculate = useDebounceFunction(preCalculate, 500)\n\n  // 输入数量监听\n  const handleAmountInputChange = (amount: string, fix_amount_a: boolean, resetTargetInput: boolean = true) => {\n    setFixAmountA(fix_amount_a)\n    if (fix_amount_a) {\n      setAmountInputA(amount)\n      if (resetTargetInput) {\n        setAmountInputB('')\n      }\n    } else {\n      setAmountInputB(amount)\n      if (resetTargetInput) {\n        setAmountInputA('')\n      }\n    }\n\n    if (+amount) {\n      const isSuiCoin = CoinAssist.isSuiCoin(assetAction)\n      //  如果是单边 sui。 则需要最低10个\n      if (isSuiCoin && d(amount).lt(3)) {\n        setUuid('')\n        setCalculateResult(undefined)\n        setPreCalculateLoading(false)\n        return\n      }\n      if (!isSuiCoin) {\n        //  价值不能超过$10000\n        const amountValue = getTokenAmountValue(assetAction, amount)\n        if (d(amountValue).gt(10000)) {\n          setUuid('')\n          setCalculateResult(undefined)\n          setPreCalculateLoading(false)\n          return\n        }\n      }\n\n      const uuid = v4()\n      setUuid(uuid)\n      if (assetAction === 'both') {\n        setPreCalculateLoading(true)\n      }\n      debouncedPreCalculate(amount, fix_amount_a, uuid)\n    } else {\n      resetInputAmount()\n    }\n  }\n\n  // 重新计算\n  const reCalculateResult = () => {\n    const amount = fixAmountARef.current ? amountInputARef.current : amountInputBRef.current\n    if (+amount) {\n      const uuid = v4()\n      setUuid(uuid)\n      debouncedPreCalculate(amount, fixAmountARef.current, uuid)\n    }\n  }\n\n  // 切换资产类型，清空输入框\n  useEffect(() => {\n    resetInputAmount()\n  }, [assetAction])\n\n  const [submitLoading, setSubmitLoading] = useState<boolean>(false)\n  const { signAndExecuteTransaction, transactionConfirmation, transactionRejected } = useTransaction()\n  // 提交交易\n  const doAddAction = async () => {\n    if (vaultsId) {\n      setSubmitLoading(true)\n      const input_amount = toDecimalsAmount(fixAmountA ? amountInputA : amountInputB, 9)\n      const params: DepositParams = {\n        vault_id: vaultsId,\n        side: assetAction === 'both' ? InputType.Both : InputType.OneSide,\n        fix_amount_a: fixAmountA,\n        input_amount: input_amount.toString(),\n        slippage: Number(vaultsSlippage)\n      }\n      console.log('🚀 ~ doAddAction ~ params:', params)\n\n      // 构建 交易提示\n      const toastInfo: ToastType = {\n        getShowInfo: (status: TransactionStatusType, balanceChanges?: Record<string, BalanceChanges>) => {\n          const description =\n            'Deposit ' +\n            [formatDescription(amountInputA, tokenA?.symbol), formatDescription(amountInputB, tokenB?.symbol)].filter(Boolean).join(' and ')\n\n          const info: CommonTypeInfo = {\n            modalDescriptionText: description,\n            toastTitleText: description\n          }\n\n          if (status === 'success') {\n            let amountA = amountInputA\n            let amountB = amountInputB\n\n            if (balanceChanges) {\n              amountA = d(amountInputA).gt(0) ? getBalanceChanges(balanceChanges, tokenA) || amountInputA : ''\n              amountB = d(amountInputB).gt(0) ? getBalanceChanges(balanceChanges, tokenB) || amountInputB : ''\n            }\n            const description =\n              'Deposit ' + [formatDescription(amountA, tokenA?.symbol), formatDescription(amountB, tokenB?.symbol)].filter(Boolean).join(' and ')\n\n            info.toastDescriptionContent = description\n            info.modalDescriptionText = description\n            info.toastTitleText = 'Deposit successful'\n          }\n\n          return info\n        }\n      }\n\n      try {\n        const txb = async () => {\n          return await vaultsSdk.Vaults.deposit(params)\n        }\n\n        const res = await signAndExecuteTransaction(txb, toastInfo, {\n          useMev: mevProtect,\n          txAction: 'signTransactionBlock',\n          useFastMode: transactionMode === 'Fast Mode',\n          maxCapForGas,\n          customGasPrice,\n          msafeParams: {\n            action: MsafeTransactionSubType.AddVaultsPosition,\n            txbParams: params\n          }\n        })\n\n        if (res) {\n          resetInputAmount()\n          autoRefresh()\n        } else {\n          reCalculateResult()\n        }\n      } catch (error) {\n        console.log('🚀 ~ doAddAction ~ error:', error)\n        transactionRejected(toastInfo)\n      }\n    }\n  }\n\n  // 清空输入框\n  const resetInputAmount = () => {\n    setAmountInputA('')\n    setAmountInputB('')\n    setPreCalculateLoading(false)\n    setCalculateResult(undefined)\n    setUuid('')\n  }\n  const { stakeProtocolName } = useGetSuiStakeProtocol(!fixAmountARef.current ? tokenA?.coin_type : tokenB?.coin_type)\n  // 单边提示文案\n  const showOnlySideTips = useMemo(() => {\n    console.log('🚀🚀🚀 ~ useVaultsAdd.ts:291 ~ showOnlySideTips ~ assetAction:', assetAction)\n    if (assetAction !== 'both' && tokenA && tokenB) {\n      const amount = fixAmountARef.current ? amountInputA : amountInputB\n      const fixToken = fixAmountARef.current ? tokenA : tokenB\n      const targetToken = fixAmountARef.current ? tokenB : tokenA\n\n      console.log('🚀🚀🚀 ~ useVaultsAdd.ts:290 ~ showOnlySideTips ~ calculateResult:', calculateResult)\n      if (calculateResult && calculateResult.swap_result) {\n        const swapInAmount = fromDecimalsAmountFix(calculateResult.swap_result.swap_in_amount, fixToken.decimals)\n        const swapOutAmount = fromDecimalsAmountFix(\n          d(calculateResult.swap_result.swap_out_amount)\n            .mul(1 - Number(vaultsSlippage))\n            .toString(),\n          targetToken.decimals\n        )\n\n        if (CoinAssist.isSuiCoin(fixToken.coin_type)) {\n          return `By depositing ${convertScientificToDecimal(formatNumber(amount, 9).toString(), 9)} SUI, ${convertScientificToDecimal(formatNumber(swapInAmount, 9).toString(), 9)} SUI will be converted to ${targetToken?.symbol} via ${stakeProtocolName} liquid staking and added to the pool together.`\n        }\n        return `By depositing ${convertScientificToDecimal(formatNumber(amount, 9).toString(), 9)} ${fixToken?.symbol}, ${convertScientificToDecimal(formatNumber(swapInAmount, 9).toString(), 9)} ${fixToken?.symbol} will be traded for ${convertScientificToDecimal(formatNumber(swapOutAmount, 9).toString(), 9)} ${targetToken?.symbol} and then added to the pool together.`\n      } else {\n        if (!CoinAssist.isSuiCoin(assetAction)) {\n          const amountValue = getTokenAmountValue(assetAction, amount)\n          console.log('🚀🚀🚀 ~ useVaultsAdd.ts:313 ~ showOnlySideTips ~ amountValue:', amountValue)\n          if (d(amountValue).gt(10000)) {\n            return \"Single-asset deposit can't be higher than $10,000 at a time.\"\n          }\n        }\n      }\n    }\n\n    return undefined\n  }, [assetAction, calculateResult, amountInputA, amountInputB])\n\n  return {\n    handleAmountInputChange,\n    fixAmountA,\n    amountInputA,\n    amountInputB,\n    balanceInfoA,\n    balanceInfoB,\n    amountValueA,\n    amountValueB,\n    preCalculateLoading,\n    inputTotalValue,\n    calculateResult,\n    showOnlySideTips,\n    doAddAction,\n    reCalculateResult\n  }\n}\n","import { AssetActionType } from '@/types/vaults'\nimport { useAccountStore } from '@cetus/stores'\nimport { Token } from '@cetus/types'\nimport { d } from '@cetus/utils'\nimport { CoinAssist } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { useMemo } from 'react'\n\nexport default function useUnstableAddButtonStatus(\n  isCheckedZAP: boolean,\n  assetAction: AssetActionType,\n  isAdd: boolean,\n  amountInputA: string,\n  amountInputB: string,\n  fixAmountA: boolean,\n  balanceA?: string,\n  balanceB?: string,\n  tokenA?: Token,\n  tokenB?: Token,\n  isUnstableVault?: boolean,\n  zapNumError?: string,\n  calculateResult?: any,\n  overHardtop?: boolean,\n  inputTotalValueError?: boolean\n) {\n  const { currentAccount } = useAccountStore()\n\n  // 按钮状态\n  const submitBtnInfo = useMemo(() => {\n    const btnInfo: {\n      text?: string\n      disabled: boolean\n    } = {\n      text: undefined,\n      disabled: false\n    }\n\n    // 判断钱包\n    if (!currentAccount?.address) {\n      btnInfo.text = 'Connect Wallet'\n      btnInfo.disabled = false\n      return btnInfo\n    }\n\n    if (!tokenA || !tokenB) {\n      btnInfo.disabled = true\n      return btnInfo\n    }\n\n    // 判断输入\n    // 双边\n    if (assetAction === 'both') {\n      if (!+amountInputA && !+amountInputB) {\n        btnInfo.text = 'Enter an amount'\n        btnInfo.disabled = true\n        return btnInfo\n      }\n      if (isCheckedZAP && (!+amountInputA || !+amountInputB)) {\n        btnInfo.text = 'Enter an amount'\n        btnInfo.disabled = true\n        return btnInfo\n      }\n    }\n    // 单边输入\n    if (assetAction !== 'both') {\n      if (!(+amountInputA || +amountInputB)) {\n        btnInfo.text = 'Enter an amount'\n        btnInfo.disabled = true\n        return btnInfo\n      }\n      // 单边添加流动性。 最少10 sui\n      if (isAdd && !isUnstableVault) {\n        const isSUI = CoinAssist.isSuiCoin(assetAction)\n        if (\n          (isSUI && assetAction === tokenA?.coin_type && d(amountInputA).lt(3)) ||\n          (isSUI && assetAction === tokenB?.coin_type && d(amountInputB).lt(3))\n        ) {\n          btnInfo.text = 'Minimum deposit 3 SUI'\n          btnInfo.disabled = true\n          return btnInfo\n        }\n      }\n    }\n\n    //ZAP模式添加 超过$10000\n    if (isAdd && zapNumError && !overHardtop) {\n      btnInfo.text = 'Enter an amount'\n      btnInfo.disabled = true\n      return btnInfo\n    }\n\n    if (!isAdd && overHardtop) {\n      btnInfo.text = 'Enter an amount'\n      btnInfo.disabled = true\n      return btnInfo\n    }\n\n    if (isAdd && isCheckedZAP && inputTotalValueError) {\n      btnInfo.text = 'Enter an amount'\n      btnInfo.disabled = true\n      return btnInfo\n    }\n\n    // 判断余额\n    // 双边\n    if (assetAction === 'both') {\n      if (d(amountInputA).gt(balanceA || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenA?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n      if (d(amountInputB).gt(balanceB || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenB?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n    }\n    // 单边\n    if (assetAction !== 'both') {\n      if (fixAmountA && d(amountInputA).gt(balanceA || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenA?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n      if (!fixAmountA && d(amountInputB).gt(balanceB || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenB?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n    }\n\n    if ((calculateResult && calculateResult.ft_amount == '0') || (calculateResult && calculateResult.burn_ft_amount == '0') || !calculateResult) {\n      btnInfo.disabled = true\n      btnInfo.text = 'Enter an amount'\n      return btnInfo\n    }\n\n    return btnInfo\n  }, [currentAccount?.address, assetAction, amountInputA, amountInputB, balanceA, balanceB, calculateResult, isAdd, zapNumError])\n\n  return {\n    btnText: submitBtnInfo.text,\n    btnDisabled: submitBtnInfo.disabled\n  }\n}\n","import { AssetActionType } from '@/types/vaults'\nimport { useAccountStore } from '@cetus/stores'\nimport { Token } from '@cetus/types'\nimport { d } from '@cetus/utils'\nimport { CoinAssist } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { useMemo } from 'react'\n\nexport default function useStableAddButtonStatus(\n  isCheckedZAP: boolean,\n  assetAction: AssetActionType,\n  isAdd: boolean,\n  amountInputA: string,\n  amountInputB: string,\n  fixAmountA: boolean,\n  balanceA?: string,\n  balanceB?: string,\n  tokenA?: Token,\n  tokenB?: Token\n) {\n  const { currentAccount } = useAccountStore()\n\n  // 按钮状态\n  const submitBtnInfo = useMemo(() => {\n    const btnInfo: {\n      text?: string\n      disabled: boolean\n    } = {\n      text: undefined,\n      disabled: false\n    }\n\n    // 判断钱包\n    if (!currentAccount?.address) {\n      btnInfo.text = 'Connect Wallet'\n      btnInfo.disabled = false\n      return btnInfo\n    }\n\n    if (!tokenA || !tokenB) {\n      btnInfo.disabled = true\n      return btnInfo\n    }\n\n    // 判断输入\n    // 双边\n    if (assetAction === 'both') {\n      if (!+amountInputA && !+amountInputB) {\n        btnInfo.text = 'Enter an amount'\n        btnInfo.disabled = true\n        return btnInfo\n      }\n    }\n    // 单边输入\n    if (assetAction !== 'both') {\n      if (!(+amountInputA || +amountInputB)) {\n        btnInfo.text = 'Enter an amount'\n        btnInfo.disabled = true\n        return btnInfo\n      }\n      // 单边添加流动性。 最少10 sui\n      if (isAdd) {\n        const isSUI = CoinAssist.isSuiCoin(assetAction)\n        if (\n          (isSUI && assetAction === tokenA?.coin_type && d(amountInputA).lt(3)) ||\n          (isSUI && assetAction === tokenB?.coin_type && d(amountInputB).lt(3))\n        ) {\n          btnInfo.text = 'Minimum deposit 3 SUI'\n          btnInfo.disabled = true\n          return btnInfo\n        }\n      }\n    }\n\n    // 判断余额\n    // 双边\n    if (assetAction === 'both') {\n      if (d(amountInputA).gt(balanceA || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenA?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n      if (d(amountInputB).gt(balanceB || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenB?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n    }\n    // 单边\n    if (assetAction !== 'both') {\n      if (fixAmountA && d(amountInputA).gt(balanceA || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenA?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n      if (!fixAmountA && d(amountInputB).gt(balanceB || '0')) {\n        btnInfo.disabled = true\n        btnInfo.text = isAdd ? `Insufficient ${tokenB?.symbol} Balance` : 'Invalid Amount'\n        return btnInfo\n      }\n    }\n\n    if (isCheckedZAP && assetAction !== 'both') {\n      btnInfo.text = isAdd ? `Zap In` : 'Zap Out'\n      return btnInfo\n    }\n\n    console.log('🚀🚀🚀 ~ submitBtnInfo ~ btnInfo:', btnInfo)\n    return btnInfo\n  }, [currentAccount?.address, assetAction, amountInputA, amountInputB, balanceA, balanceB])\n\n  return {\n    btnText: submitBtnInfo.text,\n    btnDisabled: submitBtnInfo.disabled\n  }\n}\n","import useTransaction from '@/hooks/common/useTransaction'\nimport useGlobalStore from '@/store/common/global'\nimport useUnstableVaultsListStore from '@/store/unstable-vaults/useVaultsList'\nimport { MsafeTransactionSubType } from '@/types'\nimport { AssetActionType, VaultCoinAmounts } from '@/types/vaults'\nimport { formatDescription } from '@/utils'\nimport { useDebounceFunction } from '@cetus/hooks'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport { useAccountStore } from '@cetus/stores'\nimport usePeripherySDKStore from '@cetus/stores/src/usePeripherySDKStore'\nimport { BalanceChanges, CommonTypeInfo, ToastType, Token, TransactionStatusType } from '@cetus/types'\nimport { d, formatNumber, formatNumberWithDown, fromDecimalsAmountFix, getBalanceChanges } from '@cetus/utils'\nimport { toDecimalsAmount } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { CalculateRemoveAmountResult } from '@cetusprotocol/vaults-sdk'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { v4 } from 'uuid'\nimport { WithdrawCalculationOptions, WithdrawOptions } from 'volatile-vault-sdk'\n\nexport default function useVaultsRemove(\n  assetAction: AssetActionType,\n  autoRefresh: () => void,\n  holdCoinAmounts: VaultCoinAmounts,\n  totalLpAmount?: string,\n  holdLpAmount?: string,\n  vaultsId?: string,\n  tokenA?: Token,\n  tokenB?: Token,\n  isReverse?: boolean,\n  fromTokenLock?: boolean,\n  toTokenLock?: boolean,\n  isCheckedZAP?: boolean,\n  contractClmmPoolInfo?: any\n) {\n  const { vaultsSlippage, mevProtect, maxCapForGas, transactionMode, customGasPrice } = useGlobalStore()\n  const { currentAccount } = useAccountStore()\n  const { setDetailRefreshCount } = useUnstableVaultsListStore()\n  const { fetchTokenPrices, getTokenAmountValue } = useTokenPrice()\n  const { volatileVaultsSdk } = usePeripherySDKStore()\n\n  const [amountInputA, setAmountInputA] = useState<string>('')\n  const [amountInputB, setAmountInputB] = useState<string>('')\n  const [fixAmountA, setFixAmountA] = useState<boolean>(true)\n  const [uuid, setUuid] = useState<string>('')\n  const [isPercentInput, setIsPercentInput] = useState<boolean>(false)\n  const [removePercent, setRemovePercent] = useState<number>(0)\n\n  const uuidRef = useRef<string>(uuid)\n  const fixAmountARef = useRef<boolean>(fixAmountA)\n  const amountInputARef = useRef<string>(amountInputA)\n  const amountInputBRef = useRef<string>(amountInputB)\n  const isPercentInputRef = useRef<boolean>(isPercentInput)\n  const removePercentRef = useRef<number>(removePercent)\n\n  useEffect(() => {\n    removePercentRef.current = removePercent\n  }, [removePercent])\n\n  useEffect(() => {\n    isPercentInputRef.current = isPercentInput\n  }, [isPercentInput])\n\n  useEffect(() => {\n    uuidRef.current = uuid\n  }, [uuid])\n\n  useEffect(() => {\n    fixAmountARef.current = fixAmountA\n  }, [fixAmountA])\n\n  useEffect(() => {\n    amountInputARef.current = isReverse ? amountInputA : amountInputA\n  }, [amountInputA, isReverse, amountInputB])\n\n  useEffect(() => {\n    amountInputBRef.current = isReverse ? amountInputB : amountInputB\n  }, [amountInputB, isReverse, amountInputA])\n\n  //获取价格\n  useEffect(() => {\n    const coinTypeList: string[] = []\n    if (tokenA && tokenB) {\n      coinTypeList.push(tokenA.coin_type)\n      coinTypeList.push(tokenB.coin_type)\n    }\n    if (coinTypeList.length > 0) {\n      fetchTokenPrices(coinTypeList)\n    }\n  }, [tokenA?.coin_type, tokenB?.coin_type])\n\n  // 可用数量\n  const [availableAmountA, setAvailableAmountA] = useState<string>('0')\n  const [availableAmountB, setAvailableAmountB] = useState<string>('0')\n  const [calculateAvailableLoading, setCalculateAvailableLoading] = useState<boolean>(false)\n\n  useEffect(() => {\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:103 ~ holdCoinAmounts:', holdCoinAmounts)\n    if (holdCoinAmounts && holdCoinAmounts?.coinAmountA && holdCoinAmounts?.coinAmountB) {\n      calculateAvailableAmount()\n    }\n  }, [holdCoinAmounts?.coinAmountA, holdCoinAmounts?.coinAmountB])\n\n  // 资产变更，计算 A B可用数量\n  useEffect(() => {\n    reCalculateResult()\n  }, [contractClmmPoolInfo?.current_sqrt_price])\n\n  // 计算可用资产\n  const calculateAvailableAmount = async () => {\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:103 ~ calculateAvailableAmount ~ calculateAvailableAmount:')\n    const { coinAmountA, coinAmountB } = holdCoinAmounts\n    setCalculateAvailableLoading(false)\n    if (assetAction === 'both' || fromTokenLock || toTokenLock) {\n      setAvailableAmountA(isReverse ? coinAmountB : coinAmountA)\n      setAvailableAmountB(isReverse ? coinAmountA : coinAmountB)\n      return\n    }\n\n    // 利用findRouter 转化为 单一资产\n    const isOnlyReceiveCoinA = assetAction === tokenA?.coin_type\n    const fromAmount = isOnlyReceiveCoinA ? coinAmountB : coinAmountA\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:121 ~ calculateAvailableAmount ~ fromAmount:', fromAmount)\n    const targetAmount = isOnlyReceiveCoinA ? coinAmountA : coinAmountB\n    const fromToken = isOnlyReceiveCoinA ? tokenB! : tokenA!\n    const toToken = isOnlyReceiveCoinA ? tokenA! : tokenB!\n    if (d(fromAmount).gt(0)) {\n      setCalculateAvailableLoading(true)\n      // setAvailableAmountA('0')\n      // setAvailableAmountB('0')\n      const uuid = v4()\n      setUuid(uuid)\n      // mode为合约方向\n      const mode = assetAction == tokenA?.coin_type ? 'OnlyCoinA' : 'OnlyCoinB'\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:127 ~ calculateAvailableAmount ~ tokenA?.coin_type :', tokenA?.coin_type)\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:127 ~ calculateAvailableAmount ~ assetAction:', assetAction)\n      const params: any = {\n        pool_id: vaultsId,\n        mode,\n        burn_lp_amount: holdLpAmount,\n        available_lp_amount: holdLpAmount\n      }\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:131 ~ calculateAvailableAmount ~ params:', params)\n      try {\n        const res = await volatileVaultsSdk.Vaults.preCalculateWithdrawAmount(params)\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:138 ~ calculateAvailableAmount ~ res:', res)\n        // mode 为合约方向\n        if (mode == 'OnlyCoinA') {\n          if (tokenA?.decimals === undefined) throw new Error('tokenA.decimals is undefined')\n          const amount = fromDecimalsAmountFix(res.receive_amount_a, tokenA?.decimals)\n          if (isReverse) {\n            setAvailableAmountB(amount)\n          } else {\n            setAvailableAmountA(amount)\n          }\n        } else {\n          if (tokenB?.decimals === undefined) throw new Error('tokenB.decimals is undefined')\n          const amount = fromDecimalsAmountFix(res.receive_amount_b, tokenB?.decimals)\n          console.log('🚀🚀🚀 ~ useVaultsRemove.ts:148 ~ calculateAvailableAmount ~ amount:', amount)\n          if (isReverse) {\n            setAvailableAmountA(amount)\n          } else {\n            setAvailableAmountB(amount)\n          }\n        }\n        setCalculateAvailableLoading(false)\n      } catch (error) {\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:145 ~ calculateAvailableAmount ~ error:', error)\n      }\n    } else {\n      if (isOnlyReceiveCoinA) {\n        setAvailableAmountA(targetAmount)\n      } else {\n        setAvailableAmountB(targetAmount)\n      }\n    }\n  }\n\n  // 价值\n  const amountValueA = getTokenAmountValue(isReverse ? tokenB?.coin_type : tokenA?.coin_type, amountInputA)\n  const amountValueB = getTokenAmountValue(isReverse ? tokenA?.coin_type : tokenB?.coin_type, amountInputB)\n  // 总价值ß\n  const inputTotalValue = useMemo(() => {\n    return d(amountValueA || '0')\n      .add(amountValueB || '0')\n      .toString()\n  }, [amountValueA, amountValueB])\n  console.log('🚀🚀🚀 ~ useVaultsRemove.ts:170 ~ inputTotalValue ~ amountValueB:', amountValueB)\n  console.log('🚀🚀🚀 ~ useVaultsRemove.ts:170 ~ inputTotalValue ~ amountValueA:', amountValueA)\n\n  // 预计算结果\n  const [preCalculateLoading, setPreCalculateLoading] = useState<boolean>(false)\n  const [calculateResult, setCalculateResult] = useState<CalculateRemoveAmountResult | undefined>(undefined)\n\n  /**\n   * 预计算\n   * @param amount\n   * @param isPercentInput\n   * @param fix_amount_a\n   * @param uuid\n   */\n  const preCalculate = async (\n    amount: string,\n    is_ft_input: boolean,\n    fix_amount_a: boolean,\n    uuid: string,\n    removePercent?: number,\n    isSlider?: boolean\n  ) => {\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:210 ~ removePercent:', removePercent)\n    // fix_amount_a为合约方向\n    if (d(removePercent).gt(100)) {\n      setUuid('')\n      setCalculateResult(undefined)\n      setPreCalculateLoading(false)\n      return\n    }\n    if (tokenA && tokenB && vaultsId && holdLpAmount) {\n      // 非百分比输入，要判断余额是否足够\n      if (!removePercent) {\n        if (fix_amount_a) {\n          if (d(amount).gt(isReverse ? availableAmountB : availableAmountA)) {\n            setUuid('')\n            setCalculateResult(undefined)\n            setPreCalculateLoading(false)\n            return\n          }\n        } else {\n          if (d(amount).gt(isReverse ? availableAmountA : availableAmountB)) {\n            setUuid('')\n            setCalculateResult(undefined)\n            setPreCalculateLoading(false)\n            return\n          }\n        }\n      }\n\n      setDetailRefreshCount(0)\n      if (+amountInputARef.current || +amountInputBRef.current || removePercent) {\n        setPreCalculateLoading(true)\n      }\n      const fixToken = fix_amount_a ? tokenA : tokenB\n      const inputAmount = is_ft_input ? formatNumberWithDown(amount, 0, true) : toDecimalsAmount(amount, fixToken.decimals).toFixed(0)\n\n      let params: WithdrawCalculationOptions\n\n      if (assetAction == 'both') {\n        params = {\n          pool_id: vaultsId,\n          mode: 'FixedOneSide',\n          burn_lp_amount: String(inputAmount)\n        }\n      } else {\n        const mode = assetAction == tokenA?.coin_type ? 'OnlyCoinA' : 'OnlyCoinB'\n        params = {\n          pool_id: vaultsId,\n          mode,\n          burn_lp_amount: String(inputAmount)\n        }\n      }\n\n      console.log('🚀 ~ preCalculate ~ params:', params, uuid, removePercent)\n      try {\n        const res = await volatileVaultsSdk.Vaults.preCalculateWithdrawAmount(params)\n        console.log('🚀 ~ preCalculate ~ res:', {\n          ...res,\n          uuid,\n          assetAction\n        })\n\n        const wrapRes: any = {\n          amount_a: isReverse ? res.receive_amount_b : res.receive_amount_a,\n          amount_b: isReverse ? res.receive_amount_a : res.receive_amount_b,\n          burn_ft_amount: res.burn_lp_amount,\n          swap: res.swap\n        }\n\n        if (wrapRes.burn_ft_amount == '0') {\n          setPreCalculateLoading(false)\n          setCalculateResult(undefined)\n          return\n        }\n\n        // if (uuidRef.current === uuid) {\n        const amountA = fromDecimalsAmountFix(wrapRes.amount_a.toString(), isReverse ? tokenB.decimals : tokenA.decimals).toString()\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:271 ~ preCalculate ~ tokenA:', tokenA)\n        const amountB = fromDecimalsAmountFix(wrapRes.amount_b.toString(), isReverse ? tokenA.decimals : tokenB.decimals).toString()\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:256 ~ preCalculate ~ amountA:', amountA, tokenA.decimals, amountB, tokenB?.decimals)\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:258 ~ preCalculate ~ amountB:', amountB)\n        // 双边\n        if (assetAction === 'both') {\n          if (is_ft_input && !isSlider) {\n            console.log('🚀🚀🚀 ~ useVaultsRemove.ts:284 ~ preCalculate ~ is_ft_input:', is_ft_input)\n            const fix_amount_a_page = isReverse ? !fix_amount_a : fix_amount_a\n            if (fix_amount_a_page) {\n              console.log('🚀🚀🚀 ~ useVaultsRemove.ts:289 ~ preCalculate ~ +amountInputARef.current:', +amountInputARef.current)\n              if (+amountInputARef.current) {\n                console.log('🚀🚀🚀 ~ useVaultsRemove.ts:293 ~ preCalculate ~ setAmountInputB:')\n                setAmountInputB(fromDecimalsAmountFix(wrapRes.amount_b.toString(), isReverse ? tokenA?.decimals : tokenB?.decimals).toString())\n                setCalculateResult(wrapRes)\n              } else {\n                setAmountInputB('')\n              }\n            } else {\n              if (+amountInputBRef.current) {\n                setAmountInputA(fromDecimalsAmountFix(wrapRes.amount_a.toString(), isReverse ? tokenB?.decimals : tokenA?.decimals).toString())\n                setCalculateResult(wrapRes)\n              } else {\n                setAmountInputA('')\n              }\n            }\n            if (removePercent === 100) {\n              // 由于价差原因，当移除100% 时， 需要修改最大可用\n              // setAvailableAmountA(amountA)\n              // setAvailableAmountB(amountB)\n            }\n          } else {\n            setCalculateResult(wrapRes)\n          }\n          // }\n        }\n        // 单边\n        if (assetAction !== 'both') {\n          console.log('🚀🚀🚀 ~ useVaultsRemove.ts:336 ~ preCalculate ~ removePercent:', removePercent)\n          if (removePercent) {\n            const amountA = fromDecimalsAmountFix(\n              d(wrapRes.amount_a)\n                .add(wrapRes.amount_b || '0')\n                .toString(),\n              isReverse ? tokenB.decimals : tokenA.decimals\n            ).toString()\n            console.log('🚀🚀🚀 ~ useVaultsRemove.ts:344 ~ preCalculate ~ amountA:', amountA)\n            if (isReverse ? !fix_amount_a : fix_amount_a) {\n              // setAmountInputA(amountA)\n              // setAmountInputB('')\n              if (removePercent === 100) {\n                wrapRes.burn_ft_amount = holdLpAmount\n                // setAvailableAmountA(amountA)\n              }\n            } else {\n              const amountB = fromDecimalsAmountFix(\n                d(wrapRes.amount_a)\n                  .add(wrapRes.amount_b || '0')\n                  .toString(),\n                isReverse ? tokenA.decimals : tokenB.decimals\n              ).toString()\n              // setAmountInputA('')\n              // setAmountInputB(amountB)\n              if (removePercent === 100) {\n                wrapRes.burn_ft_amount = holdLpAmount\n                // setAvailableAmountB(amountB)\n              }\n            }\n          }\n          setCalculateResult(wrapRes)\n        }\n      } catch (error) {\n        console.log('🚀 ~ preCalculate ~ error:', error)\n        setCalculateResult(undefined)\n      } finally {\n        setPreCalculateLoading(false)\n      }\n    }\n  }\n  const debouncedPreCalculate = useDebounceFunction(preCalculate, 500)\n\n  // 输入数量监听\n  const handleAmountInputChange = (\n    amount: string,\n    fix_amount_a: boolean,\n    removeMax: boolean = false,\n    isHalfClickMax: boolean = false,\n    resetTargetInput: boolean = true\n  ) => {\n    // 移除全部，走LP 移除\n    if (removeMax) {\n      handlePercentInputChange(100)\n      return\n    }\n\n    if (isHalfClickMax) {\n      handlePercentInputChange(50)\n      return\n    }\n\n    setFixAmountA(fix_amount_a)\n    setIsPercentInput(false)\n\n    if (isReverse ? !fix_amount_a : fix_amount_a) {\n      setAmountInputA(amount)\n      if (resetTargetInput) {\n        setAmountInputB('')\n      } else {\n        reCalculateResult()\n      }\n    } else {\n      setAmountInputB(amount)\n      if (resetTargetInput) {\n        setAmountInputA('')\n      } else {\n        reCalculateResult()\n      }\n    }\n    let removeAmount, removeRatio\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:462 ~ availableAmountA:', availableAmountA)\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:466 ~ availableAmountB:', availableAmountB)\n    if (isReverse ? !fix_amount_a : fix_amount_a) {\n      removeRatio = d(amount).div(availableAmountA)\n      removeAmount = formatNumberWithDown(d(holdLpAmount).mul(removeRatio).toString(), 0, true)\n    } else {\n      removeRatio = d(amount).div(availableAmountB)\n      removeAmount = formatNumberWithDown(d(holdLpAmount).mul(removeRatio).toString(), 0, true)\n    }\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:466 ~ removeLpAmount:', removeAmount)\n\n    if (+removeAmount) {\n      const uuid = v4()\n      setUuid(uuid)\n\n      debouncedPreCalculate(String(removeAmount), true, fix_amount_a, uuid, removeRatio.mul(100).toNumber(), removeRatio.gte(100))\n    } else {\n      resetInputAmount()\n    }\n  }\n\n  // 百分比输入监听\n  const handlePercentInputChange = (percent: number) => {\n    setIsPercentInput(true)\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:474 ~ handlePercentInputChange ~ percent:', percent)\n    setRemovePercent(percent)\n\n    if (holdLpAmount && +holdLpAmount) {\n      if (percent === 0) {\n        resetInputAmount()\n      } else {\n        // fix_amount_a为合约方向\n        const fix_amount_a = assetAction === tokenA?.coin_type\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:415 ~ handlePercentInputChange ~ fix_amount_a:', fix_amount_a)\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:515 ~ handlePercentInputChange ~ availableAmountB:', availableAmountB)\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:515 ~ handlePercentInputChange ~ availableAmountA:', availableAmountA)\n        setFixAmountA(fix_amount_a)\n        if (assetAction == 'both') {\n          setAmountInputA(d(availableAmountA).mul(d(percent).div(100)).toString())\n          setAmountInputB(d(availableAmountB).mul(d(percent).div(100)).toString())\n        } else if (assetAction === tokenA?.coin_type) {\n          isReverse\n            ? setAmountInputB(d(availableAmountB).mul(d(percent).div(100)).toString())\n            : setAmountInputA(d(availableAmountA).mul(d(percent).div(100)).toString())\n        } else {\n          isReverse\n            ? setAmountInputA(d(availableAmountA).mul(d(percent).div(100)).toString())\n            : setAmountInputB(d(availableAmountB).mul(d(percent).div(100)).toString())\n        }\n\n        // 双边和100% 按照LP 移除\n        if (percent === 100 || assetAction === 'both') {\n          const uuid = v4()\n          setUuid(uuid)\n          const removeLpAmount = percent === 100 ? holdLpAmount : d(holdLpAmount).mul(percent).div(100).toFixed(0)\n          console.log('🚀🚀🚀 ~ useVaultsRemove.ts:521 ~ handlePercentInputChange ~ removeLpAmount:', removeLpAmount)\n          debouncedPreCalculate(removeLpAmount, true, fix_amount_a, uuid, percent, true)\n        } else {\n          setFixAmountA(fix_amount_a)\n          // 单边  按照最大金额的百分比移除\n\n          console.log('🚀🚀🚀 ~ useVaultsRemove.ts:466 ~ handlePercentInputChange ~ assetAction:', assetAction)\n          console.log('🚀🚀🚀 ~ useVaultsRemove.ts:467 ~ handlePercentInputChange ~ tokenA?.coin_type:', tokenA?.coin_type)\n          const getAmount = d(holdLpAmount).mul(percent).div(100).toFixed()\n          console.log('🚀🚀🚀 ~ useVaultsRemove.ts:455 ~ handlePercentInputChange ~ getAmount:', getAmount)\n          debouncedPreCalculate(getAmount, true, fix_amount_a, uuid, percent, true)\n        }\n      }\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:520 ~ handlePercentInputChange ~ availableAmountA:', availableAmountA)\n    }\n  }\n\n  // 重新计算\n  const reCalculateResult = () => {\n    console.log('🚀 ~ reCalculateResult ~ isPercentInput:', { isPercentInput, removePercent })\n    if (isPercentInput) {\n      handlePercentInputChange(removePercent)\n    } else {\n      const amount = fixAmountARef.current\n        ? isReverse\n          ? amountInputBRef.current\n          : amountInputARef.current\n        : isReverse\n          ? amountInputARef.current\n          : amountInputBRef.current\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:510 ~ reCalculateResult ~ amount:', amount)\n      handleAmountInputChange(amount, fixAmountARef.current)\n    }\n  }\n\n  // 不是百分比输入，则需要计算百分比进度\n  useEffect(() => {\n    if (!isPercentInput) {\n      if (calculateResult && holdLpAmount && +holdLpAmount) {\n        let percent = Number(d(calculateResult.burn_ft_amount).div(holdLpAmount).mul(100))\n        if (percent > 100) {\n          percent = 100\n        }\n        console.log('🚀🚀🚀 ~ useVaultsRemove.ts:502 ~ useEffect ~ percent:', percent)\n        setRemovePercent(percent)\n      } else {\n        setRemovePercent(0)\n      }\n    }\n  }, [calculateResult?.burn_ft_amount, isPercentInput])\n\n  const [submitLoading, setSubmitLoading] = useState<boolean>(false)\n  const { signAndExecuteTransaction, transactionConfirmation, transactionRejected } = useTransaction()\n  // 提交交易\n  const doRemoveAction = async () => {\n    if (vaultsId && calculateResult && holdLpAmount) {\n      setSubmitLoading(true)\n\n      let param: WithdrawOptions\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:567 ~ doRemoveAction ~ calculateResult:', calculateResult)\n      if (assetAction === 'both') {\n        param = {\n          pool_id: vaultsId,\n          burn_lp_amount: calculateResult.burn_ft_amount,\n          mode: 'FixedOneSide',\n          slippage: Number(vaultsSlippage)\n        }\n      } else {\n        const fix_amount_a = assetAction === tokenA?.coin_type\n        if (removePercent === 100) {\n          param = {\n            pool_id: vaultsId,\n            burn_lp_amount: holdLpAmount,\n            mode: assetAction == tokenA?.coin_type ? 'OnlyCoinA' : 'OnlyCoinB',\n            slippage: Number(vaultsSlippage)\n          }\n        } else {\n          param = {\n            pool_id: vaultsId,\n            burn_lp_amount: calculateResult.burn_ft_amount,\n            mode: assetAction == tokenA?.coin_type ? 'OnlyCoinA' : 'OnlyCoinB',\n            slippage: Number(vaultsSlippage)\n          }\n        }\n      }\n\n      console.log('🚀 ~ doRemoveAction ~ params:', JSON.stringify(param))\n\n      // 构建 交易提示\n      const toastInfo: ToastType = {\n        getShowInfo: (status: TransactionStatusType, balanceChanges?: Record<string, BalanceChanges>) => {\n          const description =\n            'Withdraw ' +\n            [\n              formatDescription(isReverse ? amountInputA : amountInputA, isReverse ? tokenB?.symbol : tokenA?.symbol),\n              formatDescription(isReverse ? amountInputB : amountInputB, isReverse ? tokenA?.symbol : tokenB?.symbol)\n            ]\n              .filter(Boolean)\n              .join(' and ')\n\n          const info: CommonTypeInfo = {\n            modalDescriptionText: description,\n            toastDescriptionContent: description\n          }\n\n          if (status === 'success') {\n            let amountA = amountInputA\n            let amountB = amountInputB\n\n            // if (res) {\n            //   res.events.forEach(event => {\n            //     console.log('🚀🚀🚀 ~ useVaultsAdd.ts:367 ~ doAddAction ~ event:', event)\n            //     if (event.type.indexOf('::pool::WithdrawEvent') > -1 && tokenA && tokenB) {\n            //       amountA = String(fromDecimalsAmount(event.parsedJson.amount_a, tokenA.decimals))\n            //       console.log('🚀🚀🚀 ~ useVaultsAdd.ts:361 ~ doAddAction ~ amountA:', amountA)\n            //       amountB = String(fromDecimalsAmount(event.parsedJson.amount_b, tokenB.decimals))\n            //       console.log('🚀🚀🚀 ~ useVaultsAdd.ts:363 ~ doAddAction ~ amountB:', amountB)\n            //     }\n            //   })\n            // }\n\n            console.log('🚀🚀🚀 ~ useVaultsRemove.ts:582 ~ doRemoveAction ~ balanceChanges:', balanceChanges)\n            if (balanceChanges) {\n              amountA = d(amountInputA).gt(0) ? getBalanceChanges(balanceChanges, isReverse ? tokenB : tokenA) || amountInputA : ''\n              amountB = d(amountInputB).gt(0) ? getBalanceChanges(balanceChanges, isReverse ? tokenA : tokenB) || amountInputB : ''\n            }\n            console.log('🚀🚀🚀 ~ useVaultsRemove.ts:584 ~ doRemoveAction ~ amount:', amountA, amountB)\n\n            const descriptionList = [\n              formatDescription(isReverse ? amountB : amountA, isReverse ? tokenB?.symbol : tokenA?.symbol),\n              formatDescription(isReverse ? amountA : amountB, isReverse ? tokenA?.symbol : tokenB?.symbol)\n            ].filter(Boolean)\n\n            const description =\n              (descriptionList && descriptionList.length > 1 ? 'Removed ' : 'Withdraw ') +\n              [\n                formatDescription(isReverse ? amountA : amountA, isReverse ? tokenB?.symbol : tokenA?.symbol),\n                formatDescription(isReverse ? amountB : amountB, isReverse ? tokenA?.symbol : tokenB?.symbol)\n              ]\n                .filter(Boolean)\n                .join(' and ')\n\n            info.toastDescriptionContent = description\n            info.modalDescriptionText = description\n          }\n\n          return info\n        }\n      }\n      transactionConfirmation(toastInfo)\n\n      try {\n        const txb = await volatileVaultsSdk.Vaults.buildWithdrawPayload(param)\n        const res = await signAndExecuteTransaction(txb, toastInfo, {\n          useMev: mevProtect,\n          txAction: 'signTransactionBlock',\n          useFastMode: transactionMode === 'Fast Mode',\n          maxCapForGas,\n          customGasPrice,\n          msafeParams: {\n            action: MsafeTransactionSubType.AddVaultsPosition,\n            txbParams: param\n          }\n        })\n\n        if (res) {\n          resetInputAmount()\n          autoRefresh()\n        } else {\n          reCalculateResult()\n        }\n        setSubmitLoading(false)\n      } catch (error) {\n        console.log('🚀 ~ doAddAction ~ error:', error)\n        setSubmitLoading(false)\n        transactionRejected(toastInfo)\n      }\n    }\n  }\n\n  // 清空输入框\n  const resetInputAmount = () => {\n    setAmountInputA('')\n    setAmountInputB('')\n    amountInputARef.current = ''\n    amountInputBRef.current = ''\n    setRemovePercent(0)\n    setPreCalculateLoading(false)\n    setCalculateResult(undefined)\n    setUuid('')\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:697 ~ resetInputAmount ~ resetInputAmount:')\n  }\n\n  // 单边提示文案\n  const showOnlySideTips = useMemo(() => {\n    console.log('🚀🚀🚀 ~ useVaultsRemove.ts:622 ~ showOnlySideTips ~ calculateResult:', calculateResult)\n    if (calculateResult && calculateResult?.swap && assetAction !== 'both' && tokenA && tokenB) {\n      const amount = fixAmountA ? (!isReverse ? amountInputA : amountInputB) : !isReverse ? amountInputB : amountInputA\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:653 ~ showOnlySideTips ~ amount:', amount)\n\n      const fixToken = fixAmountARef.current ? tokenA : tokenB\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:651 ~ showOnlySideTips ~ fixToken:', fixToken)\n      const targetToken = fixAmountARef.current ? tokenB : tokenA\n      console.log('🚀🚀🚀 ~ useVaultsRemove.ts:652 ~ showOnlySideTips ~ targetToken:', targetToken)\n\n      const swapInAmount = fromDecimalsAmountFix(calculateResult?.swap?.swap_amount_in, targetToken.decimals)\n\n      const swapOutAmount = formatNumber(\n        fromDecimalsAmountFix(\n          d(calculateResult.swap.swap_amount_out)\n            .mul(1 - Number(vaultsSlippage))\n            .toString(),\n          fixToken.decimals\n        ),\n        fixToken.decimals\n      )\n\n      console.log('vaultsSlippage: ', {\n        vaultsSlippage,\n        calculateResult,\n        swapOutAmount\n      })\n\n      console.log(\n        '🚀🚀🚀 ~ useVaultsRemove.ts:644 ~ showOnlySideTips ~ ',\n        `To withdraw ${amount} ${fixToken?.symbol}, ${swapInAmount} ${targetToken?.symbol} in the pool will be traded for ${swapOutAmount} ${fixToken?.symbol}`\n      )\n      return `To withdraw ${formatNumber(amount)} ${fixToken?.symbol}, ${formatNumber(swapInAmount)} ${targetToken?.symbol} in the pool will be traded for ${swapOutAmount} ${fixToken?.symbol}`\n    }\n    return undefined\n  }, [assetAction, calculateResult, amountInputA, amountInputB])\n\n  // useEffect(() => {\n  //   resetInputAmount()\n  // }, [isCheckedZAP, assetAction, currentAccount?.address])\n\n  // 切换资产类型计算单边token数量\n  // useEffect(() => {\n  //   calculateAvailableAmount()\n  // }, [assetAction])\n\n  useEffect(() => {\n    reCalculateResult()\n  }, [availableAmountA, availableAmountB])\n\n  useEffect(() => {\n    resetInputAmount()\n    setTimeout(() => {\n      calculateAvailableAmount()\n    }, 200)\n  }, [isCheckedZAP, assetAction, currentAccount?.address])\n\n  return {\n    handleAmountInputChange,\n    fixAmountA,\n    amountInputA,\n    amountInputB,\n    availableAmountA,\n    availableAmountB,\n    amountValueA,\n    amountValueB,\n    preCalculateLoading,\n    inputTotalValue,\n    calculateResult,\n    showOnlySideTips,\n    doRemoveAction,\n    handlePercentInputChange,\n    isPercentInput,\n    removePercent,\n    reCalculateResult,\n    calculateAvailableLoading,\n    submitLoading\n  }\n}\n","import useTransaction from '@/hooks/common/useTransaction'\nimport useGlobalStore from '@/store/common/global'\nimport useVaultsListStore from '@/store/vaults/useVaultsList'\nimport { MsafeTransactionSubType } from '@/types'\nimport { AssetActionType, VaultCoinAmounts } from '@/types/vaults'\nimport { formatDescription } from '@/utils'\nimport { useDebounceFunction } from '@cetus/hooks'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport usePeripherySDKStore from '@cetus/stores/src/usePeripherySDKStore'\nimport { BalanceChanges, CommonTypeInfo, ToastType, Token, TransactionStatusType } from '@cetus/types'\nimport { d, formatNumber, fromDecimalsAmountFix, getBalanceChanges } from '@cetus/utils'\nimport { toDecimalsAmount } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport {\n  CalculateRemoveAmountParams,\n  CalculateRemoveAmountResult,\n  InputType,\n  WithdrawBothParams,\n  WithdrawOneSideParams\n} from '@cetusprotocol/vaults-sdk'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { v4 } from 'uuid'\nimport { useFindBestRouting } from '../swap/useFindBestRouting'\n\nexport default function useStableVaultsRemove(\n  assetAction: AssetActionType,\n  autoRefresh: () => void,\n  holdCoinAmounts: VaultCoinAmounts,\n  totalLpAmount?: string,\n  holdLpAmount?: string,\n  vaultsId?: string,\n  tokenA?: Token,\n  tokenB?: Token\n) {\n  const { setDetailRefreshCount } = useVaultsListStore()\n  const { fetchTokenPrices, getTokenAmountValue } = useTokenPrice()\n  const { vaultsSdk } = usePeripherySDKStore()\n  const { vaultsSlippage, mevProtect, maxCapForGas, transactionMode, customGasPrice } = useGlobalStore()\n  const { findBestRouters } = useFindBestRouting()\n\n  const [amountInputA, setAmountInputA] = useState<string>('')\n  const [amountInputB, setAmountInputB] = useState<string>('')\n  const [fixAmountA, setFixAmountA] = useState<boolean>(true)\n  const [uuid, setUuid] = useState<string>('')\n  const [isPercentInput, setIsPercentInput] = useState<boolean>(false)\n  const [removePercent, setRemovePercent] = useState<number>(0)\n\n  const uuidRef = useRef<string>(uuid)\n  const fixAmountARef = useRef<boolean>(fixAmountA)\n  const amountInputARef = useRef<string>(amountInputA)\n  const amountInputBRef = useRef<string>(amountInputB)\n  const isPercentInputRef = useRef<boolean>(isPercentInput)\n  const removePercentRef = useRef<number>(removePercent)\n\n  useEffect(() => {\n    removePercentRef.current = removePercent\n  }, [removePercent])\n\n  useEffect(() => {\n    isPercentInputRef.current = isPercentInput\n  }, [isPercentInput])\n\n  useEffect(() => {\n    uuidRef.current = uuid\n  }, [uuid])\n\n  useEffect(() => {\n    fixAmountARef.current = fixAmountA\n  }, [fixAmountA])\n\n  useEffect(() => {\n    amountInputARef.current = amountInputA\n  }, [amountInputA])\n\n  useEffect(() => {\n    amountInputBRef.current = amountInputB\n  }, [amountInputB])\n\n  //获取价格\n  useEffect(() => {\n    const coinTypeList: string[] = []\n    if (tokenA && tokenB) {\n      coinTypeList.push(tokenA.coin_type)\n      coinTypeList.push(tokenB.coin_type)\n    }\n    if (coinTypeList.length > 0) {\n      fetchTokenPrices(coinTypeList)\n    }\n  }, [tokenA?.coin_type, tokenB?.coin_type])\n\n  // 可用数量\n  const [availableAmountA, setAvailableAmountA] = useState<string>('0')\n  const [availableAmountB, setAvailableAmountB] = useState<string>('0')\n  const [calculateAvailableLoading, setCalculateAvailableLoading] = useState<boolean>(false)\n\n  // 切换资产类型，清空输入框\n  useEffect(() => {\n    resetInputAmount()\n    calculateAvailableAmount()\n  }, [assetAction])\n\n  // 资产变更，计算 A B可用数量\n  useEffect(() => {\n    calculateAvailableAmount()\n  }, [holdCoinAmounts.coinAmountA])\n\n  // 计算可用资产\n  const calculateAvailableAmount = () => {\n    const { coinAmountA, coinAmountB } = holdCoinAmounts\n    console.log('🚀 ~ useEffect ~ holdCoinAmounts:', holdCoinAmounts)\n    setCalculateAvailableLoading(false)\n    if (assetAction === 'both') {\n      setAvailableAmountA(coinAmountA)\n      setAvailableAmountB(coinAmountB)\n      return\n    }\n\n    // 利用findRouter 转化为 单一资产\n    const isOnlyReceiveCoinA = assetAction === tokenA?.coin_type\n    const fromAmount = isOnlyReceiveCoinA ? coinAmountB : coinAmountA\n    let targetAmount = isOnlyReceiveCoinA ? coinAmountA : coinAmountB\n    const fromToken = isOnlyReceiveCoinA ? tokenB! : tokenA!\n    const toToken = isOnlyReceiveCoinA ? tokenA! : tokenB!\n    if (d(fromAmount).gt(0)) {\n      setCalculateAvailableLoading(true)\n      setAvailableAmountA('0')\n      setAvailableAmountB('0')\n      findBestRouters({\n        fromToken,\n        toToken,\n        amount: toDecimalsAmount(fromAmount, fromToken.decimals).toString(),\n        providersKeys: vaultsSdk.sdkOptions.aggregator.providers!,\n        by_amount_in: true,\n        uuid\n      })\n        .then(result => {\n          console.log('🚀 ~ calculateAvailableAmount ~ uuid:', {\n            result\n          })\n          if (result.toAmountUi) {\n            targetAmount = d(targetAmount).add(result.toAmountUi).toString()\n          }\n          if (isOnlyReceiveCoinA) {\n            setAvailableAmountA(targetAmount)\n          } else {\n            setAvailableAmountB(targetAmount)\n          }\n        })\n        .finally(() => {\n          setCalculateAvailableLoading(false)\n        })\n    } else {\n      if (isOnlyReceiveCoinA) {\n        setAvailableAmountA(targetAmount)\n      } else {\n        setAvailableAmountB(targetAmount)\n      }\n    }\n  }\n\n  // 价值\n  const amountValueA = getTokenAmountValue(tokenA?.coin_type, amountInputA)\n  const amountValueB = getTokenAmountValue(tokenB?.coin_type, amountInputB)\n  // 总价值ß\n  const inputTotalValue = useMemo(() => {\n    return d(amountValueA || '0')\n      .add(amountValueB || '0')\n      .toString()\n  }, [amountValueA, amountValueB])\n\n  // 预计算结果\n  const [preCalculateLoading, setPreCalculateLoading] = useState<boolean>(false)\n  const [calculateResult, setCalculateResult] = useState<CalculateRemoveAmountResult | undefined>(undefined)\n\n  /**\n   * 预计算\n   * @param amount\n   * @param isPercentInput\n   * @param fix_amount_a\n   * @param uuid\n   */\n  const preCalculate = async (amount: string, is_ft_input: boolean, fix_amount_a: boolean, uuid: string, removePercent?: number) => {\n    if (tokenA && tokenB && vaultsId && holdLpAmount) {\n      // 非百分比输入，要判断余额是否足够\n      if (!removePercent) {\n        if (fix_amount_a) {\n          if (d(amount).gt(availableAmountA)) {\n            setUuid('')\n            setCalculateResult(undefined)\n            setPreCalculateLoading(false)\n            return\n          }\n        } else {\n          if (d(amount).gt(availableAmountB)) {\n            setUuid('')\n            setCalculateResult(undefined)\n            setPreCalculateLoading(false)\n            return\n          }\n        }\n      }\n\n      setDetailRefreshCount(0)\n      if (+amountInputARef.current || +amountInputBRef.current || removePercent) {\n        setPreCalculateLoading(true)\n      }\n      const fixToken = fix_amount_a ? tokenA : tokenB\n      const inputAmount = is_ft_input ? amount : toDecimalsAmount(amount, fixToken.decimals).toFixed(0)\n      const params: CalculateRemoveAmountParams = {\n        vault_id: vaultsId,\n        fix_amount_a,\n        input_amount: inputAmount,\n        slippage: Number(vaultsSlippage),\n        request_id: uuid,\n        side: assetAction === 'both' ? InputType.Both : InputType.OneSide,\n        is_ft_input,\n        max_ft_amount: holdLpAmount\n      }\n      console.log('🚀 ~ preCalculate ~ params:', params, uuid, removePercent)\n      try {\n        const res = await vaultsSdk.Vaults.calculateWithdrawAmount(params)\n        console.log('🚀 ~ preCalculate ~ res:', {\n          ...res,\n          uuid,\n          assetAction\n        })\n\n        if (uuidRef.current === uuid) {\n          const amountA = fromDecimalsAmountFix(res.amount_a.toString(), tokenA.decimals).toString()\n          const amountB = fromDecimalsAmountFix(res.amount_b.toString(), tokenB.decimals).toString()\n          // 双边\n          if (assetAction === 'both') {\n            if (is_ft_input) {\n              setAmountInputB(amountB)\n              setAmountInputA(amountA)\n              if (removePercent === 100) {\n                // 由于价差原因，当移除100% 时， 需要修改最大可用\n                setAvailableAmountA(amountA)\n                setAvailableAmountB(amountB)\n              }\n              setCalculateResult(res)\n            } else {\n              if (fix_amount_a) {\n                if (+amountInputARef.current) {\n                  setAmountInputB(amountB)\n                  setCalculateResult(res)\n                } else {\n                  setAmountInputB('')\n                }\n              } else {\n                if (+amountInputBRef.current) {\n                  setAmountInputA(amountA)\n                  setCalculateResult(res)\n                } else {\n                  setAmountInputA('')\n                }\n              }\n            }\n          }\n          // 单边\n          if (assetAction !== 'both') {\n            if (removePercent) {\n              const amountA = fromDecimalsAmountFix(\n                d(res.amount_a)\n                  .add(res.swap_result?.swap_out_amount || '0')\n                  .toString(),\n                tokenA.decimals\n              ).toString()\n              if (fix_amount_a) {\n                setAmountInputA(amountA)\n                setAmountInputB('')\n                if (removePercent === 100) {\n                  res.burn_ft_amount = holdLpAmount\n                  setAvailableAmountA(amountA)\n                }\n              } else {\n                const amountB = fromDecimalsAmountFix(\n                  d(res.amount_b)\n                    .add(res.swap_result?.swap_out_amount || '0')\n                    .toString(),\n                  tokenB.decimals\n                ).toString()\n                setAmountInputA('')\n                setAmountInputB(amountB)\n                if (removePercent === 100) {\n                  res.burn_ft_amount = holdLpAmount\n                  setAvailableAmountB(amountB)\n                }\n              }\n            }\n            setCalculateResult(res)\n          }\n        }\n      } catch (error) {\n        console.log('🚀 ~ preCalculate ~ error:', error)\n        setCalculateResult(undefined)\n      } finally {\n        setPreCalculateLoading(false)\n      }\n    }\n  }\n  const debouncedPreCalculate = useDebounceFunction(preCalculate, 500)\n\n  // 输入数量监听\n  const handleAmountInputChange = (\n    amount: string,\n    fix_amount_a: boolean,\n    removeMax: boolean = false,\n    isHalfClickMax: boolean = false,\n    resetTargetInput: boolean = true\n  ) => {\n    // 移除全部，走LP 移除\n    if (removeMax) {\n      handlePercentInputChange(100)\n      return\n    }\n\n    if (isHalfClickMax) {\n      handlePercentInputChange(50)\n      return\n    }\n\n    setFixAmountA(fix_amount_a)\n    setIsPercentInput(false)\n\n    if (fix_amount_a) {\n      setAmountInputA(amount)\n      if (resetTargetInput) {\n        setAmountInputB('')\n      }\n    } else {\n      setAmountInputB(amount)\n      if (resetTargetInput) {\n        setAmountInputA('')\n      }\n    }\n\n    if (+amount) {\n      const uuid = v4()\n      setUuid(uuid)\n      debouncedPreCalculate(amount, false, fix_amount_a, uuid)\n    } else {\n      resetInputAmount()\n    }\n  }\n\n  // 百分比输入监听\n  const handlePercentInputChange = (percent: number) => {\n    setIsPercentInput(true)\n    setRemovePercent(percent)\n    if (holdLpAmount && +holdLpAmount) {\n      if (percent === 0) {\n        resetInputAmount()\n      } else {\n        const fix_amount_a = assetAction === tokenA?.coin_type\n        setFixAmountA(fix_amount_a)\n        // 双边和100% 按照LP 移除\n        if (percent === 100 || assetAction === 'both') {\n          const uuid = v4()\n          setUuid(uuid)\n          const removeLpAmount = percent === 100 ? holdLpAmount : d(holdLpAmount).mul(percent).div(100).toFixed(0)\n          debouncedPreCalculate(removeLpAmount, true, fix_amount_a, uuid, percent)\n        } else {\n          setFixAmountA(fix_amount_a)\n          // 单边  按照最大金额的百分比移除\n          const getAmount = d(assetAction === tokenA?.coin_type ? availableAmountA : availableAmountB)\n            .mul(percent)\n            .div(100)\n            .toFixed()\n          debouncedPreCalculate(getAmount, false, fix_amount_a, uuid, percent)\n        }\n      }\n    }\n  }\n\n  // 重新计算\n  const reCalculateResult = () => {\n    console.log('🚀 ~ reCalculateResult ~ isPercentInput:', { isPercentInput, removePercent })\n    if (isPercentInput) {\n      handlePercentInputChange(removePercent)\n    } else {\n      const amount = fixAmountARef.current ? amountInputARef.current : amountInputBRef.current\n      handleAmountInputChange(amount, fixAmountARef.current)\n    }\n  }\n\n  // 不是百分比输入，则需要计算百分比进度\n  useEffect(() => {\n    if (!isPercentInput) {\n      if (calculateResult && holdLpAmount && +holdLpAmount) {\n        let percent = Number(d(calculateResult.burn_ft_amount).div(holdLpAmount).mul(100))\n        if (percent > 100) {\n          percent = 100\n        }\n        setRemovePercent(percent)\n      } else {\n        setRemovePercent(0)\n      }\n    }\n  }, [calculateResult?.burn_ft_amount])\n\n  const [submitLoading, setSubmitLoading] = useState<boolean>(false)\n  const { signAndExecuteTransaction, transactionConfirmation, transactionRejected } = useTransaction()\n  // 提交交易\n  const doRemoveAction = async () => {\n    if (vaultsId && calculateResult && holdLpAmount) {\n      setSubmitLoading(true)\n\n      let param: WithdrawBothParams | WithdrawOneSideParams\n\n      if (assetAction === 'both') {\n        param = {\n          vault_id: vaultsId,\n          ft_amount: calculateResult?.burn_ft_amount,\n          slippage: Number(vaultsSlippage)\n        }\n      } else {\n        const fix_amount_a = assetAction === tokenA?.coin_type\n        if (removePercent === 100) {\n          param = {\n            vault_id: vaultsId,\n            is_ft_input: true,\n            input_amount: holdLpAmount,\n            slippage: Number(vaultsSlippage),\n            max_ft_amount: holdLpAmount,\n            fix_amount_a\n          }\n        } else {\n          const input_amount = toDecimalsAmount(fixAmountA ? amountInputA : amountInputB, 9)\n          param = {\n            vault_id: vaultsId,\n            is_ft_input: false,\n            input_amount: input_amount.toString(),\n            slippage: Number(vaultsSlippage),\n            max_ft_amount: holdLpAmount,\n            fix_amount_a\n          }\n        }\n      }\n\n      console.log('🚀 ~ doRemoveAction ~ params:', param)\n\n      // 构建 交易提示\n      const toastInfo: ToastType = {\n        getShowInfo: (status: TransactionStatusType, balanceChanges?: Record<string, BalanceChanges>) => {\n          const description =\n            'Withdraw ' +\n            [formatDescription(amountInputA, tokenA?.symbol), formatDescription(amountInputB, tokenB?.symbol)].filter(Boolean).join(' and ')\n\n          const info: CommonTypeInfo = {\n            modalDescriptionText: description,\n            toastDescriptionContent: description\n          }\n\n          if (status === 'success') {\n            let amountA = amountInputA\n            let amountB = amountInputB\n\n            if (balanceChanges) {\n              amountA = d(amountInputA).gt(0) ? getBalanceChanges(balanceChanges, tokenA) || amountInputA : ''\n              amountB = d(amountInputB).gt(0) ? getBalanceChanges(balanceChanges, tokenB) || amountInputB : ''\n            }\n\n            const description =\n              'Removed ' + [formatDescription(amountA, tokenA?.symbol), formatDescription(amountB, tokenB?.symbol)].filter(Boolean).join(' and ')\n\n            info.toastDescriptionContent = description\n            info.modalDescriptionText = description\n          }\n\n          return info\n        }\n      }\n      transactionConfirmation(toastInfo)\n\n      try {\n        const txb = await vaultsSdk.Vaults.withdraw(param)\n        const res = await signAndExecuteTransaction(txb, toastInfo, {\n          useMev: mevProtect,\n          txAction: 'signTransactionBlock',\n          useFastMode: transactionMode === 'Fast Mode',\n          maxCapForGas,\n          customGasPrice,\n          msafeParams: {\n            action: MsafeTransactionSubType.RemoveVaultsPosition,\n            txbParams: param\n          }\n        })\n\n        if (res) {\n          resetInputAmount()\n        } else {\n          reCalculateResult()\n        }\n        autoRefresh()\n      } catch (error) {\n        console.log('🚀 ~ doAddAction ~ error:', error)\n        transactionRejected(toastInfo)\n      }\n    }\n  }\n\n  // 清空输入框\n  const resetInputAmount = () => {\n    setAmountInputA('')\n    setAmountInputB('')\n    setRemovePercent(0)\n    setPreCalculateLoading(false)\n    setCalculateResult(undefined)\n    setUuid('')\n  }\n\n  // 单边提示文案\n  const showOnlySideTips = useMemo(() => {\n    if (calculateResult && calculateResult.swap_result && assetAction !== 'both' && tokenA && tokenB) {\n      const amount = fixAmountA ? amountInputA : amountInputB\n\n      const fixToken = fixAmountARef.current ? tokenA : tokenB\n      const targetToken = fixAmountARef.current ? tokenB : tokenA\n\n      const swapInAmount = fromDecimalsAmountFix(calculateResult.swap_result.swap_in_amount, fixToken.decimals)\n\n      const swapOutAmount = fromDecimalsAmountFix(\n        d(calculateResult.swap_result.swap_out_amount)\n          .mul(1 - Number(vaultsSlippage))\n          .toString(),\n        targetToken.decimals\n      )\n\n      console.log('vaultsSlippage: ', {\n        vaultsSlippage,\n        calculateResult,\n        swapOutAmount\n      })\n\n      return `To withdraw ${formatNumber(amount)} ${fixToken?.symbol}, ${formatNumber(swapInAmount)} ${targetToken?.symbol} in the pool will be traded for ${swapOutAmount} ${fixToken?.symbol}`\n    }\n    return undefined\n  }, [assetAction, calculateResult, amountInputA, amountInputB])\n\n  return {\n    handleAmountInputChange,\n    fixAmountA,\n    amountInputA,\n    amountInputB,\n    availableAmountA,\n    availableAmountB,\n    amountValueA,\n    amountValueB,\n    preCalculateLoading,\n    inputTotalValue,\n    calculateResult,\n    showOnlySideTips,\n    doRemoveAction,\n    handlePercentInputChange,\n    isPercentInput,\n    removePercent,\n    reCalculateResult,\n    calculateAvailableAmount,\n    calculateAvailableLoading\n  }\n}\n","// api信息\n// import useGetApiUnstableVaultInfo from '../unstable-vault/useGetApiVaultInfo'\nimport useGetApiVaultInfo from '../vaults/useGetApiVaultInfo'\n// 合约信息\nimport useGetContractUnstableVaultInfo from '../unstable-vault/useGetContractVaultInfo'\nimport useGetContractStableVaultInfo from '../vaults/useGetContractVaultInfo'\n// 列表 列表共用一个\n// import useGetUnstableVaultList from '../unstable-vault/useGetVaultList'\n// import useGetStableVaultList from '../vaults/useGetVaultList'\n// 添加\nimport useUnstableVaultsAdd from '../unstable-vault/useVaultsAdd'\nimport useStableVaultsAdd from '../vaults/useVaultsAdd'\n// 按钮状态\nimport useUnstableAddButtonStatus from '../unstable-vault/useVaultsButtonStatus'\nimport useStableAddButtonStatus from '../vaults/useVaultsButtonStatus'\n// 移除\nimport useUnstableVaultsRemove from '../unstable-vault/useVaultsRemove'\nimport useStableVaultsRemove from '../vaults/useVaultsRemove'\n// 获取vault api信息\n// const useGetApiVaultInfo = (isUnstable: boolean) => {\n//   return isUnstable ? useGetApiUnstableVaultInfo : useGetApiStableVaultInfo\n// }\n// 获取vault 合约信息\nconst useGetContractVaultInfo = (isUnstable: boolean) => {\n  return isUnstable ? useGetContractUnstableVaultInfo : useGetContractStableVaultInfo\n}\n// 获取vault列表\n// const useGetVaultList = (isUnstable: boolean) => {\n//   return isUnstable ? useGetUnstableVaultList : useGetStableVaultList\n// }\n// vault添加\nconst useVaultsAdd = (isUnstable: boolean) => {\n  return isUnstable ? useUnstableVaultsAdd : useStableVaultsAdd\n}\n// vault按钮状态\nconst useAddButtonStatus = (isUnstable: boolean) => {\n  return isUnstable ? useUnstableAddButtonStatus : useStableAddButtonStatus\n}\n// 移除\nconst useVaultsRemove = (isUnstable: boolean) => {\n  return isUnstable ? useUnstableVaultsRemove : useStableVaultsRemove\n}\n\nconst vaultInterface = {\n  useGetApiVaultInfo,\n  useGetContractVaultInfo,\n  useVaultsAdd,\n  useAddButtonStatus,\n  useVaultsRemove\n}\n\nexport default vaultInterface\n","import { CetusTooltip } from '@cetus/design'\nimport { useGetToken } from '@cetus/hooks/src/useToken'\nimport { HTextLabelBox, SingleCoinImage } from '@cetus/ui-kit'\nimport { Center, HStack, Text, VStack } from '@chakra-ui/react'\n\ninterface VaultsAprBlockProps {\n  vaultsLstApyDisplay: string\n  vaultsApyDisplay: string\n  vaultsTotalApyDisplay: string\n  vaultsAprDisplay: string\n  category?: string\n}\n\nfunction VaultsAprBlock({ vaultsLstApyDisplay, vaultsApyDisplay, vaultsTotalApyDisplay, category, vaultsAprDisplay }: VaultsAprBlockProps) {\n  return (\n    <CetusTooltip\n      tooltip={\n        <VaultsAprTooltipContent\n          vaultsApyDisplay={vaultsApyDisplay}\n          vaultsLstApyDisplay={vaultsLstApyDisplay}\n          vaultsTotalApyDisplay={vaultsTotalApyDisplay}\n          vaultsAprDisplay={vaultsAprDisplay}\n          category={category}\n        />\n      }\n    >\n      <Text textColor=\"text_caption\" textAlign=\"right\" fontWeight=\"500\" textDecoration=\"underline dotted\" color=\"primary\">\n        {category == 'cetus' ? vaultsTotalApyDisplay : vaultsApyDisplay}\n      </Text>\n    </CetusTooltip>\n  )\n}\n\nexport const VaultsAprTooltipContent = ({\n  vaultsLstApyDisplay,\n  vaultsApyDisplay,\n  vaultsTotalApyDisplay,\n  category,\n  vaultsAprDisplay\n}: VaultsAprBlockProps) => {\n  return (\n    <VStack gap=\"12px\" w=\"100%\" pt=\"8px\" pb=\"8px\">\n      {category == 'cetus' ? (\n        <VStack>\n          <HTextLabelBox\n            label=\"Total APY\"\n            labelStyle={{\n              fontSize: '14px'\n            }}\n            valueStyle={{\n              fontSize: '14px'\n            }}\n            wrapStyle={{\n              gap: '16px'\n            }}\n            value={vaultsTotalApyDisplay}\n          />\n          <HStack h=\"1px\" w=\"100%\" backgroundColor=\"border\" />\n          <HTextLabelBox\n            label=\"Fees and Rewards\"\n            labelStyle={{\n              fontSize: '12px'\n            }}\n            valueStyle={{\n              fontSize: '12px'\n            }}\n            wrapStyle={{\n              gap: '16px'\n            }}\n            value={vaultsApyDisplay}\n          />\n          <HTextLabelBox\n            label=\"LST\"\n            labelStyle={{\n              fontSize: '12px'\n            }}\n            wrapStyle={{\n              gap: '16px'\n            }}\n            value={vaultsLstApyDisplay}\n            valueStyle={{\n              fontSize: '12px'\n            }}\n          />\n        </VStack>\n      ) : (\n        <VStack>\n          <HTextLabelBox\n            label=\"Cetus LP APR\"\n            labelStyle={{\n              fontSize: '14px'\n            }}\n            valueStyle={{\n              fontSize: '14px'\n            }}\n            wrapStyle={{\n              gap: '16px'\n            }}\n            value={vaultsAprDisplay}\n          />\n          <HStack h=\"1px\" w=\"100%\" backgroundColor=\"border\" />\n          <HTextLabelBox\n            label=\"Vault APY\"\n            labelStyle={{\n              fontSize: '14px'\n            }}\n            valueStyle={{\n              fontSize: '14px'\n            }}\n            wrapStyle={{\n              gap: '16px'\n            }}\n            value={vaultsApyDisplay}\n          />\n          <HTextLabelBox\n            label=\"(Compounding Cetus LP APR Multiple Times a Day)\"\n            labelStyle={{\n              fontSize: '12px',\n              lineHeight: '16px',\n              maxW: '200px'\n            }}\n            wrapStyle={{\n              gap: '16px'\n            }}\n            value=\"\"\n            valueStyle={{\n              fontSize: '12px'\n            }}\n          />\n        </VStack>\n      )}\n    </VStack>\n  )\n}\n\nexport function CoinImage({ coinType }: { coinType: string }) {\n  const { tokenInfo } = useGetToken(coinType)\n  return (\n    <Center>\n      <SingleCoinImage imageUrl={tokenInfo?.logo_url} w=\"20px\" h=\"20px\" />\n    </Center>\n  )\n}\n\nexport default VaultsAprBlock\n"],"names":["store","set","get","data","list","isLoading","vault","contractVaultObj","pool","contractClmmPoolObj","vaultId","value","holdTotalValue","count","useVaultsListStore","create","persist","state","vaultBaseList","vaultStatsObj","lpTokenInfo","formatVaultApiInfo","baseInfo","statsItem","vaultsMaps","staticVaultsList","useGetVaultList","fetchByApi","useFetch","getFavoritePoolList","useFavoritePool","setVaultStatsObj","setVaultBaseList","setVaultStatsLoading","setVaultBaseListLoading","useVaultsStore","getVaultBaseList","showLoading","pools","statsObj","res","item","coinAB","fixCoinType","_a","_b","disPlayCoinAB","farmingRewards","_c","fItem","miningRewards","_d","mItem","vaultsRewards","_e","error","getVaultsStats","vaultsStatsObj","VAULT_FILTER","clmmPoolAddress","vaultsId","vaultsTotalApy","d","vaultsTotalApyDisplay","aprProcessing","vaultsApy","vaultsApyDisplay","vaultsLstApy","vaultsLstApyDisplay","vaultsTvl","vaultsTvlDisplay","symbolDataDisplayProcessing","vaultsApr","vaultsAprDisplay","hardCapUSD","depositRatio","depositRatioDisplay","formatNumber","ele","getVaultList","options","vaultsList","vaultsPoolList","baseList","sortVaultApiInfoList","getVaultListFromCache","sortRule","sortType","result","a","b","useGetApiStableVaultInfo","apiVaultInfo","setApiVaultInfo","useState","vaultInfoLoading","setVaultInfoLoading","setFromCoin","setToCoin","useSwapWidgetStore","getApiVaultInfo","refresh","vaultApiInfo","getApiVaultInfoFromCache","useEffect","info","envConfigs","useUnstableVaultsListStore","useContractVault","useMemo","useContractClmmInfo","poolAddress","useGetSuiStakeProtocol","coinType","useGetContractUnstableVaultInfo","tokenA","tokenB","isReverse","volatileVaultsSdk","usePeripherySDKStore","getTokenAmountValue","useTokenPrice","currentAccount","useAccountStore","getTokenInfo","useGetToken","setContractVaultObjLoading","setContractVaultObj","setContractClmmPoolObj","setContractClmmPoolObjLoading","setHoldTotalValue","setLpTokenInfo","fetchVaultInfoFromContract","forceRefresh","fetchClmmPoolFromContract","clmmPoolId","contractVault","balanceInfo","setBalanceInfo","isBalanceLoading","setBalanceLoading","accountBalanceInfo","setAccountBalanceInfo","fetchVaultBalance","walletAddress","decimals","balanceFormat","fromDecimalsAmountFix","Decimal","sharePoolRate","contractClmmInfo","getHoldCoinAmounts","coinAmountA","fromDecimalsAmount","coinAmountB","displayCoinA","displayCoinB","holdCoinAmounts","setHoldCoinAmounts","vaultCoinAmounts","buildVaultsBalance","currPrice","TickMath","BN","minPrice","maxPrice","holdCoinAValue","holdCoinBValue","vaultsCoinAValue","vaultsCoinBValue","vaultsCoinPercent","calcCoinProportion","vaultTvl","totalValue","quoteCoin","maxAum","gtAumLimit","maxAumUSD","performanceFee","useCalculateChangeLpRate","changeLp","totalLp","formatNumberWithThreshold","useCalculateSlippageAmount","slippage","amount","isUp","useGetRewardPeDay","apiInfo","rewardPerA","formatNumberWithDown","rewardPerB","useGetContractStableVaultInfo","vaultsSdk","vaults_id","clmm_pool_id","useGetTokenBalance","calculateCoinAmounts","liquidity","curSqrtPrice","lowerSqrtPrice","upperSqrtPrice","coinAmounts","ClmmPoolUtil","VaultsUtils","useUnstableVaultsAdd","assetAction","autoRefresh","isCheckedZAP","vaultsSlippage","mevProtect","maxCapForGas","transactionMode","customGasPrice","useGlobalStore","fetchTokenPrices","setDetailRefreshCount","amountInputA","setAmountInputA","amountInputB","setAmountInputB","fixAmountA","setFixAmountA","uuid","setUuid","uuidRef","useRef","fixAmountARef","amountInputARef","amountInputBRef","resetInputAmount","coinTypeList","balanceInfoA","balanceInfoB","amountValueA","amountValueB","inputTotalValue","zapNumError","overHardtop","preCalculateLoading","setPreCalculateLoading","calculateLpLoading","setCalculateLpLoading","calculateResult","setCalculateResult","debouncedPreCalculate","useDebounceFunction","fix_amount_a","other_amount","fixToken","fixOtherToken","inputAmount","toDecimalsAmount","otherAmount","mode","params","receive_lp_amount","wrapRes","fix_amount_a_page","handleAmountInputChange","resetTargetInput","v4","reCalculateResult","submitLoading","setSubmitLoading","signAndExecuteTransaction","transactionConfirmation","transactionRejected","useTransaction","doAddAction","depositParams","toastInfo","status","balanceChanges","description","formatDescription","amountA","amountB","event","txb","MsafeTransactionSubType","stakeProtocolName","showOnlySideTips","targetToken","swapInAmount","swapOutAmount","CoinAssist","convertScientificToDecimal","inputTotalValueError","useStableVaultsAdd","InputType","isSuiCoin","amountValue","input_amount","getBalanceChanges","useUnstableAddButtonStatus","isAdd","balanceA","balanceB","isUnstableVault","submitBtnInfo","btnInfo","isSUI","useStableAddButtonStatus","useVaultsRemove","totalLpAmount","holdLpAmount","fromTokenLock","toTokenLock","contractClmmPoolInfo","isPercentInput","setIsPercentInput","removePercent","setRemovePercent","isPercentInputRef","removePercentRef","availableAmountA","setAvailableAmountA","availableAmountB","setAvailableAmountB","calculateAvailableLoading","setCalculateAvailableLoading","calculateAvailableAmount","isOnlyReceiveCoinA","fromAmount","targetAmount","is_ft_input","isSlider","removeMax","isHalfClickMax","handlePercentInputChange","removeAmount","removeRatio","percent","removeLpAmount","getAmount","doRemoveAction","param","descriptionList","useStableVaultsRemove","findBestRouters","useFindBestRouting","fromToken","toToken","useGetContractVaultInfo","isUnstable","useVaultsAdd","useAddButtonStatus","useUnstableVaultsRemove","vaultInterface","useGetApiVaultInfo","VaultsAprBlock","category","jsx","CetusTooltip","VaultsAprTooltipContent","Text","VStack","HTextLabelBox","HStack","CoinImage","tokenInfo","Center","SingleCoinImage"],"mappings":"q9BAqCA,MAAMA,GAAmC,CAACC,EAAKC,KAAS,CACtD,mBAAoB,EACpB,2BAA4B,GAC5B,wBAAyB,GACzB,qBAAsB,GACtB,kBAAmB,GACnB,cAAe,CAAC,EAChB,eAAgB,CAAC,EACjB,cAAe,CAAC,EAChB,oBAAqB,CAAC,EACtB,iBAAkB,CAAC,EACnB,eAAgB,GAChB,iBAAmBC,GAAwC,CACzDF,EAAI,KAAO,CACT,cAAeE,CAAA,EACf,CACJ,EACA,cAAe,CAAC,EAChB,iBAAmBC,GAA0B,CAC3CH,EAAI,KAAO,CACT,cAAeG,CAAA,EACf,CACJ,EACA,wBAA0BC,GAAuB,CAC/CJ,EAAI,KAAO,CACT,qBAAsBI,CAAA,EACtB,CACJ,EACA,qBAAuBA,GAAuB,CAC5CJ,EAAI,KAAO,CACT,kBAAmBI,CAAA,EACnB,CACJ,EACA,oBAAsBC,GAAiB,CAC/B,MAAAC,EAAmBL,IAAM,iBACdK,EAAAD,EAAM,EAAE,EAAIA,EAC7BL,EAAI,KAAO,CACT,iBAAkB,CAAE,GAAGM,CAAiB,CAAA,EACxC,CACJ,EACA,2BAA6BF,GAAuB,CAClDJ,EAAI,KAAO,CACT,wBAAyBI,CAAA,EACzB,CACJ,EACA,8BAAgCA,GAAuB,CACrDJ,EAAI,KAAO,CACT,2BAA4BI,CAAA,EAC5B,CACJ,EACA,uBAAyBG,GAAe,CAChC,MAAAC,EAAsBP,IAAM,oBACdO,EAAAD,EAAK,WAAW,EAAIA,EACxCP,EAAI,KAAO,CACT,oBAAqB,CAAE,GAAGQ,CAAoB,CAAA,EAC9C,CACJ,EACA,kBAAmB,CAACC,EAAiBC,IAAkB,CAC/C,MAAAC,EAAiBV,IAAM,eAC7BU,EAAeF,CAAO,EAAIC,EAC1BV,EAAI,KAAO,CACT,eAAgB,CAAE,GAAGW,CAAe,CAAA,EACpC,CACJ,EACA,sBAAwBC,GAAkB,CACxCZ,EAAI,KAAO,CACT,mBAAoBY,CAAA,EACpB,CACJ,EACA,YAAa,CAAC,EACd,eAAiBV,GAAc,CAC7BF,EAAI,KAAO,CACT,YAAa,CACX,GAAGC,EAAM,EAAA,YACT,GAAGC,CAAA,CACL,EACA,CAAA,CAEN,GAEMW,GAAqBC,GACzBC,GAAQhB,GAAO,CACb,KAAM,kBACN,WAAqBiB,GAAA,CACnB,KAAM,CAAE,cAAAC,EAAe,cAAAC,EAAe,iBAAAZ,EAAkB,oBAAAE,EAAqB,YAAAW,GAAgBH,EAC7F,MAAO,CAAE,cAAAC,EAAe,cAAAC,EAAe,iBAAAZ,EAAkB,oBAAAE,EAAqB,YAAAW,CAAY,CAAA,CAE7F,CAAA,CACH,EC3HgB,SAAAC,GAAmBC,EAAyBC,EAAyC,CAC5F,MAAA,CACL,GAAGD,EACH,WAAWC,GAAA,YAAAA,EAAW,YAAa,KACnC,kBAAkBA,GAAA,YAAAA,EAAW,mBAAoB,KACjD,WAAWA,GAAA,YAAAA,EAAW,YAAa,KACnC,kBAAkBA,GAAA,YAAAA,EAAW,mBAAoB,KACjD,gBAAgBA,GAAA,YAAAA,EAAW,iBAAkB,KAC7C,uBAAuBA,GAAA,YAAAA,EAAW,wBAAyB,KAC3D,cAAcA,GAAA,YAAAA,EAAW,eAAgB,KACzC,qBAAqBA,GAAA,YAAAA,EAAW,sBAAuB,KACvD,WAAWA,GAAA,YAAAA,EAAW,YAAa,KACnC,kBAAkBA,GAAA,YAAAA,EAAW,mBAAoB,KACjD,UAAUA,GAAA,YAAAA,EAAW,WAAY,GACjC,iBAAiBA,GAAA,YAAAA,EAAW,kBAAmB,GAC/C,cAAcA,GAAA,YAAAA,EAAW,eAAgB,IACzC,cAAcA,GAAA,YAAAA,EAAW,eAAgB,IACzC,UAAUA,GAAA,YAAAA,EAAW,WAAY,GACjC,YAAYA,GAAA,YAAAA,EAAW,aAAc,KACrC,qBAAqBA,GAAA,YAAAA,EAAW,sBAAuB,KACvD,cAAcA,GAAA,YAAAA,EAAW,eAAgB,EACzC,aAAaA,GAAA,YAAAA,EAAW,cAAe,EACzC,CACF,CCvBO,MAAMC,GAAkH,CAC7H,qEAAsE,CACpE,UAAW,qEACX,UAAW,qEACX,QAAS,CACP,UAAW,yFACX,SAAU,EACV,YAAa,GACb,SAAU,uHACV,KAAM,GACN,OAAQ,EAAA,CAEZ,EACA,qEAAsE,CACpE,UAAW,qEACX,UAAW,qEACX,QAAS,CACP,UAAW,yFACX,SAAU,EACV,SAAU,uHACV,YAAa,GACb,KAAM,GACN,OAAQ,EAAA,CAEZ,EACA,qEAAsE,CACpE,UAAW,qEACX,UAAW,qEACX,QAAS,CACP,UAAW,yFACX,SAAU,EACV,SAAU,uHACV,YAAa,GACb,KAAM,GACN,OAAQ,EAAA,CACV,CAEJ,EAEaC,GAAwB,CACnC,CACE,YAAa,qEACb,KAAM,cACN,UAAW,GACX,OAAQ,CACN,KAAM,oBACN,OAAQ,QACR,SAAU,EACV,QAAS,mFACT,QAAS,oBACT,SAAU,wDACV,aAAc,oBACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,kFACb,EACA,OAAQ,CACN,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,oBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,cAAe,CACb,KAAM,oBACN,OAAQ,QACR,SAAU,EACV,QAAS,mFACT,QAAS,oBACT,SAAU,wDACV,aAAc,oBACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,kFACb,EACA,cAAe,CACb,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,oBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,WAAY,GACZ,iBAAkB,CAAC,EACnB,cAAe,CAAC,EAChB,YAAa,GACb,kBAAmB,CAAC,CAAE,SAAU,gBAAiB,kBAAmB,OAAQ,EAC5E,SAAU,qEACV,kBAAmB,QACnB,OAAQ,qEACR,cAAe,QACf,eAAgB,IAChB,uBAAwB,QACxB,gBAAiB,QACjB,IAAK,SACL,QAAS,IACT,WAAY,QACZ,WAAY,iBACZ,IAAK,kBACL,gBAAiB,gBACjB,cAAe,UACf,SAAU,GACV,eAAgB,gDAChB,sBAAuB,iBACvB,eAAgB,qEAChB,sBAAuB,QACvB,wBAAyB,IACzB,wBAAyB,IACzB,2BAA4B,mEAC5B,2BAA4B,oEAC5B,iBAAkB,qEAClB,YAAa,IACb,MAAO,IACP,OAAQ,CACN,OAAQ,iBACR,OAAQ,iBACR,aAAc,EACd,SAAU,IACV,UAAW,sBACX,mBAAoB,uBACpB,iBAAkB,CAChB,OAAQ,CACN,UAAW,CACT,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,6EAA+E,EAC9G,qBAAsB,IACtB,cAAe,kBAAA,CACjB,CAEJ,EACA,gBAAiB,oCACjB,qBAAsB,oBACtB,kBAAmB,UAAA,CAEvB,EACA,SAAU,GACV,MAAO,GACT,EACA,gBAAiB,GACjB,QAAS,qEACT,cAAe,CACb,iFACA,4EACF,EACA,SAAU,QACV,UAAW,KACX,iBAAkB,KAClB,UAAW,KACX,iBAAkB,KAClB,eAAgB,KAChB,sBAAuB,KACvB,aAAc,KACd,oBAAqB,KACrB,UAAW,KACX,iBAAkB,KAClB,SAAU,qEACV,gBAAiB,qEACjB,aAAc,IACd,aAAc,IACd,WAAY,IACZ,oBAAqB,KACrB,aAAc,IAChB,EACA,CACE,YAAa,qEACb,KAAM,cACN,UAAW,GACX,OAAQ,CACN,KAAM,uBACN,OAAQ,QACR,SAAU,EACV,QAAS,mFACT,QAAS,mBACT,SAAU,4CACV,aAAc,GACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,kFACb,EACA,OAAQ,CACN,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,cAAe,CACb,KAAM,uBACN,OAAQ,QACR,SAAU,EACV,QAAS,mFACT,QAAS,mBACT,SAAU,4CACV,aAAc,GACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,kFACb,EACA,cAAe,CACb,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,WAAY,GACZ,iBAAkB,CAAC,EACnB,cAAe,CAAC,EAChB,YAAa,GACb,kBAAmB,CAAC,CAAE,SAAU,gBAAiB,kBAAmB,MAAO,EAC3E,SAAU,qEACV,kBAAmB,QACnB,OAAQ,qEACR,cAAe,QACf,eAAgB,IAChB,uBAAwB,QACxB,gBAAiB,QACjB,IAAK,SACL,QAAS,IACT,WAAY,QACZ,WAAY,gBACZ,IAAK,iBACL,gBAAiB,aACjB,cAAe,SACf,SAAU,GACV,eAAgB,gDAChB,sBAAuB,gBACvB,eAAgB,oEAChB,sBAAuB,QACvB,wBAAyB,IACzB,wBAAyB,IACzB,2BAA4B,oEAC5B,2BAA4B,oEAC5B,iBAAkB,qEAClB,YAAa,IACb,MAAO,IACP,OAAQ,CACN,OAAQ,gBACR,OAAQ,gBACR,aAAc,EACd,SAAU,IACV,UAAW,qBACX,mBAAoB,uBACpB,iBAAkB,CAChB,OAAQ,CACN,UAAW,CACT,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,6EAA+E,EAC9G,qBAAsB,IACtB,cAAe,oBAAA,CACjB,CAEJ,EACA,gBAAiB,oCACjB,qBAAsB,uBACtB,kBAAmB,UAAA,CAEvB,EACA,SAAU,GACV,MAAO,GACT,EACA,gBAAiB,GACjB,QAAS,qEACT,cAAe,CACb,iFACA,4EACF,EACA,SAAU,QACV,UAAW,KACX,iBAAkB,KAClB,UAAW,KACX,iBAAkB,KAClB,eAAgB,KAChB,sBAAuB,KACvB,aAAc,KACd,oBAAqB,KACrB,UAAW,KACX,iBAAkB,KAClB,SAAU,qEACV,gBAAiB,qEACjB,aAAc,IACd,aAAc,IACd,WAAY,IACZ,oBAAqB,KACrB,aAAc,IAChB,EACA,CACE,YAAa,qEACb,KAAM,aACN,UAAW,GACX,OAAQ,CACN,KAAM,kBACN,OAAQ,OACR,SAAU,EACV,QAAS,iFACT,QAAS,mBACT,SAAU,uDACV,aAAc,kBACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,gFACb,EACA,OAAQ,CACN,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,cAAe,CACb,KAAM,kBACN,OAAQ,OACR,SAAU,EACV,QAAS,iFACT,QAAS,mBACT,SAAU,uDACV,aAAc,kBACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,gFACb,EACA,cAAe,CACb,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,WAAY,GACZ,iBAAkB,CAAC,EACnB,cAAe,CAAC,EAChB,YAAa,GACb,kBAAmB,CAAC,CAAE,SAAU,gBAAiB,kBAAmB,MAAO,EAC3E,SAAU,qEACV,kBAAmB,OACnB,OAAQ,oEACR,cAAe,QACf,eAAgB,IAChB,uBAAwB,QACxB,gBAAiB,QACjB,IAAK,SACL,QAAS,IACT,WAAY,QACZ,WAAY,gBACZ,IAAK,iBACL,gBAAiB,cACjB,cAAe,SACf,SAAU,GACV,eAAgB,gDAChB,sBAAuB,gBACvB,eAAgB,qEAChB,sBAAuB,QACvB,wBAAyB,IACzB,wBAAyB,IACzB,2BAA4B,oEAC5B,2BAA4B,oEAC5B,iBAAkB,qEAClB,YAAa,IACb,MAAO,IACP,OAAQ,CACN,OAAQ,gBACR,OAAQ,gBACR,aAAc,EACd,SAAU,IACV,UAAW,sBACX,mBAAoB,uBACpB,iBAAkB,CAChB,OAAQ,CACN,UAAW,CACT,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,6EAA+E,EAC9G,qBAAsB,IACtB,cAAe,kBAAA,CACjB,CAEJ,EACA,gBAAiB,oCACjB,qBAAsB,oBACtB,kBAAmB,UAAA,CAEvB,EACA,SAAU,GACV,MAAO,GACT,EACA,gBAAiB,GACjB,QAAS,qEACT,cAAe,CACb,+EACA,4EACF,EACA,SAAU,QACV,UAAW,KACX,iBAAkB,KAClB,UAAW,KACX,iBAAkB,KAClB,eAAgB,KAChB,sBAAuB,KACvB,aAAc,KACd,oBAAqB,KACrB,UAAW,KACX,iBAAkB,KAClB,SAAU,qEACV,gBAAiB,qEACjB,aAAc,IACd,aAAc,IACd,WAAY,IACZ,oBAAqB,KACrB,aAAc,IAChB,EACA,CACE,YAAa,qEACb,KAAM,aACN,UAAW,GACX,OAAQ,CACN,KAAM,cACN,OAAQ,OACR,SAAU,EACV,QAAS,iFACT,QAAS,iBACT,SAAU,wEACV,aAAc,WACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,gFACb,EACA,OAAQ,CACN,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,oBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,cAAe,CACb,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,oBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,cAAe,CACb,KAAM,cACN,OAAQ,OACR,SAAU,EACV,QAAS,iFACT,QAAS,iBACT,SAAU,wEACV,aAAc,WACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,gFACb,EACA,WAAY,GACZ,iBAAkB,CAChB,CAAE,SAAU,mFAAoF,kBAAmB,gBAAiB,EACpI,CAAE,SAAU,+EAAgF,kBAAmB,eAAgB,CACjI,EACA,cAAe,CACb,CACE,SAAU,mFACV,IAAK,qEACL,WAAY,OACd,EACA,CACE,SAAU,+EACV,IAAK,qEACL,WAAY,QAAA,CAEhB,EACA,YAAa,GACb,kBAAmB,CAAC,EACpB,SAAU,IACV,kBAAmB,GACnB,OAAQ,oEACR,cAAe,UACf,eAAgB,qEAChB,uBAAwB,UACxB,gBAAiB,UACjB,IAAK,SACL,QAAS,KACT,WAAY,QACZ,WAAY,iBACZ,IAAK,kBACL,gBAAiB,iBACjB,cAAe,YACf,SAAU,GACV,eAAgB,GAChB,sBAAuB,GACvB,eAAgB,oEAChB,sBAAuB,UACvB,wBAAyB,EACzB,wBAAyB,EACzB,2BAA4B,GAC5B,2BAA4B,GAC5B,iBAAkB,GAClB,YAAa,KACb,MAAO,KACP,OAAQ,CACN,OAAQ,cACR,OAAQ,iBACR,aAAc,GACd,SAAU,KACV,UAAW,mBACX,mBAAoB,wBACpB,iBAAkB,CAChB,OAAQ,CACN,UAAW,CACT,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,iFAAmF,EAClH,qBAAsB,+BACtB,cAAe,sBAAA,CAEnB,EACA,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,6EAA+E,EAC9G,qBAAsB,8BACtB,cAAe,qBAAA,CACjB,CAEJ,EACA,gBAAiB,oCACjB,qBAAsB,qBACtB,kBAAmB,UAAA,CAEvB,EACA,SAAU,GACV,MAAO,IACT,EACA,gBAAiB,GACjB,QAAS,qEACT,cAAe,CACb,6EACA,+EACA,gFACF,EACA,SAAU,SACV,UAAW,KACX,iBAAkB,KAClB,UAAW,KACX,iBAAkB,KAClB,eAAgB,KAChB,sBAAuB,KACvB,aAAc,KACd,oBAAqB,KACrB,UAAW,KACX,iBAAkB,KAClB,SAAU,qEACV,gBAAiB,qEACjB,aAAc,IACd,aAAc,IACd,WAAY,IACZ,oBAAqB,KACrB,aAAc,IAChB,EACA,CACE,YAAa,qEACb,KAAM,aACN,UAAW,GACX,OAAQ,CACN,KAAM,iBACN,OAAQ,OACR,SAAU,EACV,QAAS,iFACT,QAAS,kBACT,SAAU,wEACV,aAAc,OACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,gFACb,EACA,OAAQ,CACN,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,cAAe,CACb,KAAM,iBACN,OAAQ,OACR,SAAU,EACV,QAAS,iFACT,QAAS,kBACT,SAAU,wEACV,aAAc,OACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,gFACb,EACA,cAAe,CACb,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,WAAY,GACZ,iBAAkB,CAChB,CAAE,SAAU,+EAAgF,kBAAmB,eAAgB,EAC/H,CAAE,SAAU,iFAAkF,kBAAmB,cAAe,CAClI,EACA,cAAe,CACb,CACE,SAAU,+EACV,IAAK,qEACL,WAAY,QACd,EACA,CACE,SAAU,iFACV,IAAK,qEACL,WAAY,QAAA,CAEhB,EACA,YAAa,GACb,kBAAmB,CAAC,EACpB,SAAU,IACV,kBAAmB,GACnB,OAAQ,qEACR,cAAe,SACf,eAAgB,qEAChB,uBAAwB,UACxB,gBAAiB,UACjB,IAAK,SACL,QAAS,KACT,WAAY,QACZ,WAAY,gBACZ,IAAK,iBACL,gBAAiB,gBACjB,cAAe,aACf,SAAU,GACV,eAAgB,GAChB,sBAAuB,GACvB,eAAgB,oEAChB,sBAAuB,SACvB,wBAAyB,EACzB,wBAAyB,EACzB,2BAA4B,GAC5B,2BAA4B,GAC5B,iBAAkB,GAClB,YAAa,KACb,MAAO,KACP,OAAQ,CACN,OAAQ,eACR,OAAQ,gBACR,aAAc,GACd,SAAU,KACV,UAAW,mBACX,mBAAoB,wBACpB,iBAAkB,CAChB,OAAQ,CACN,UAAW,CACT,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,6EAA+E,EAC9G,qBAAsB,8BACtB,cAAe,qBAAA,CAEnB,EACA,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,+EAAiF,EAChH,qBAAsB,6BACtB,cAAe,oBAAA,CACjB,CAEJ,EACA,gBAAiB,oCACjB,qBAAsB,oBACtB,kBAAmB,UAAA,CAEvB,EACA,SAAU,GACV,MAAO,IACT,EACA,gBAAiB,GACjB,QAAS,qEACT,cAAe,CACb,+EACA,4EACF,EACA,SAAU,SACV,UAAW,KACX,iBAAkB,KAClB,UAAW,KACX,iBAAkB,KAClB,eAAgB,KAChB,sBAAuB,KACvB,aAAc,IACd,oBAAqB,KACrB,UAAW,KACX,iBAAkB,KAClB,SAAU,qEACV,gBAAiB,qEACjB,aAAc,IACd,aAAc,IACd,WAAY,IACZ,oBAAqB,KACrB,aAAc,IAChB,EACA,CACE,YAAa,qEACb,KAAM,cACN,UAAW,GACX,OAAQ,CACN,KAAM,cACN,OAAQ,QACR,SAAU,EACV,QAAS,mFACT,QAAS,oBACT,SAAU,wDACV,aAAc,iBACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,kFACb,EACA,OAAQ,CACN,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,cAAe,CACb,KAAM,cACN,OAAQ,QACR,SAAU,EACV,QAAS,mFACT,QAAS,oBACT,SAAU,wDACV,aAAc,iBACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,kFACb,EACA,cAAe,CACb,KAAM,YACN,OAAQ,MACR,SAAU,EACV,QAAS,+EACT,QAAS,mBACT,SAAU,sDACV,aAAc,MACd,YAAa,GACb,OAAQ,CAAC,EACT,WAAY,GACZ,UAAW,eACb,EACA,WAAY,GACZ,iBAAkB,CAChB,CAAE,SAAU,mFAAoF,kBAAmB,gBAAiB,CACtI,EACA,cAAe,CACb,CACE,SAAU,mFACV,IAAK,qEACL,WAAY,OAAA,CAEhB,EACA,YAAa,GACb,kBAAmB,CAAC,EACpB,SAAU,IACV,kBAAmB,GACnB,OAAQ,oEACR,cAAe,SACf,eAAgB,qEAChB,uBAAwB,SACxB,gBAAiB,SACjB,IAAK,SACL,QAAS,KACT,WAAY,QACZ,WAAY,gBACZ,IAAK,iBACL,gBAAiB,gBACjB,cAAe,YACf,SAAU,GACV,eAAgB,GAChB,sBAAuB,GACvB,eAAgB,qEAChB,sBAAuB,SACvB,wBAAyB,EACzB,wBAAyB,EACzB,2BAA4B,GAC5B,2BAA4B,GAC5B,iBAAkB,GAClB,YAAa,KACb,MAAO,GACP,OAAQ,CACN,OAAQ,iBACR,OAAQ,gBACR,aAAc,GACd,SAAU,KACV,UAAW,qBACX,mBAAoB,sBACpB,iBAAkB,CAChB,OAAQ,CACN,UAAW,CACT,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,iFAAmF,EAClH,qBAAsB,+BACtB,cAAe,sBAAA,CAEnB,EACA,CACE,OAAQ,CACN,YAAa,CAAE,OAAQ,CAAE,KAAM,6EAA+E,EAC9G,qBAAsB,IACtB,cAAe,oBAAA,CACjB,CAEJ,EACA,gBAAiB,qCACjB,qBAAsB,oBACtB,kBAAmB,UAAA,CAEvB,EACA,SAAU,GACV,MAAO,EACT,EACA,gBAAiB,GACjB,QAAS,qEACT,cAAe,CACb,iFACA,4EACF,EACA,SAAU,SACV,UAAW,KACX,iBAAkB,KAClB,UAAW,KACX,iBAAkB,KAClB,eAAgB,KAChB,sBAAuB,KACvB,aAAc,KACd,oBAAqB,KACrB,UAAW,KACX,iBAAkB,KAClB,SAAU,qEACV,gBAAiB,qEACjB,aAAc,IACd,aAAc,IACd,WAAY,IACZ,oBAAqB,KACrB,aAAc,IAAA,CAElB,ECr5BA,SAAwBC,IAAkB,CAClC,KAAA,CAAE,WAAAC,CAAW,EAAIC,GAAS,EAC1B,CAAE,oBAAAC,CAAoB,EAAIC,GAAgB,EAC1C,CAAE,iBAAAC,EAAkB,iBAAAC,EAAkB,cAAAd,EAAe,cAAAC,EAAe,qBAAAc,EAAsB,wBAAAC,GAA4BC,GAAe,EAGrIC,EAAmB,MAAOC,EAAuB,GAAMC,EAAiBC,IAA4C,CACpH,GAAA,CACEF,GACFH,EAAwB,EAAI,EAGxB,MAAAM,EAAM,MAAMX,EAAoB,CACpC,UAAW,GACX,kBAAmB,GACnB,WAAY,GACZ,YAAa,GACb,cAAe,GACf,SAAU,OACV,MAAO,IACP,OAAQ,EACR,MAAAS,CAAA,CACD,EACO,QAAA,IAAI,2DAA4DE,CAAG,EAE3E,MAAMpC,EAAwBoC,GAAA,YAAAA,EAAK,KAAK,IAAKC,GAAc,eACnD,MAAAC,EAAS,CAACC,IAAYC,EAAAH,GAAA,YAAAA,EAAM,SAAN,YAAAG,EAAc,SAAS,EAAGD,IAAYE,EAAAJ,GAAA,YAAAA,EAAM,SAAN,YAAAI,EAAc,SAAS,CAAC,EACpFC,EAAgBL,EAAK,UAAYC,EAAO,QAAY,EAAAA,EACpDK,GAAiBC,EAAAP,GAAA,YAAAA,EAAM,mBAAN,YAAAO,EAAwB,IAAKC,GAAeN,GAAYM,GAAA,YAAAA,EAAO,QAAQ,GACxFC,GAAgBC,EAAAV,GAAA,YAAAA,EAAM,mBAAN,YAAAU,EAAwB,IAAKC,GAAeT,GAAYS,GAAA,YAAAA,EAAO,QAAQ,GACvFC,EAAgB,MAAM,KAAK,IAAI,IAAI,CAAC,GAAGP,EAAe,GAAGC,EAAgB,GAAGG,CAAa,CAAC,CAAC,EAC1F,MAAA,CACL,GAAGT,EACH,cAAAY,EACA,UAAUC,EAAAf,EAASE,EAAK,WAAW,IAAzB,YAAAa,EAA4B,QACxC,CAAA,GAGM,eAAA,IAAI,8DAA+DlD,CAAI,EAE3EA,EAAK,OAAS,GAChB4B,EAAiB5B,CAAI,EAGhBA,QACAmD,EAAO,CACN,QAAA,IAAI,0BAA2BA,CAAK,CAAA,QAC5C,CACArB,EAAwB,EAAK,CAAA,CAE/B,MAAO,CAAC,CACV,EAGMsB,EAAiB,SAAY,OAC7B,GAAA,CACFvB,EAAqB,EAAI,EACzB,MAAMO,EAAM,MAAMb,EAAW,uBAAwB,KAAK,EACpD8B,EAAgD,CAAC,EACvD,GAAIjB,GAAA,MAAAA,EAAK,KACF,OAAAI,EAAAJ,GAAA,YAAAA,EAAA,OAAA,MAAAI,EAAM,QAASH,GAAc,SAC5B,GAAAA,EAAK,SAAW,CAACiB,GAAc,CACjC,MAAMC,EAAkBlB,GAAA,YAAAA,EAAM,UACxBmB,EAAWnB,GAAA,YAAAA,EAAM,GAEjBoB,EAAiBpB,EAAK,UAAY,QAAUqB,GAAErB,GAAA,YAAAA,EAAM,GAAG,EAAE,IAAIqB,GAAErB,EAAK,OAAO,CAAC,EAAE,SAAS,EAAIqB,GAAErB,EAAK,GAAG,EAAE,IAAIqB,GAAErB,EAAK,GAAG,CAAC,EAAE,SAAS,EACjIsB,EAAwBC,GAAcH,EAAgB,GAAM,EAAI,EAEhEI,EAAYxB,GAAA,YAAAA,EAAM,IAClByB,EAAmBF,GAAcC,EAAW,EAAI,EAEhDE,EAAe1B,GAAA,YAAAA,EAAM,QACrB2B,EAAsBJ,GAAcG,EAAc,EAAI,EAEtDE,EAAY5B,GAAA,YAAAA,EAAM,IAClB6B,EAAmBC,GAA4BF,EAAW,GAAG,EAE7DG,EAAY/B,GAAA,YAAAA,EAAM,IAClBgC,GAAmBT,GAAcQ,EAAW,EAAI,EAEhDE,GAAajC,GAAA,YAAAA,EAAM,aAEnBkC,EAAeb,GAAEO,CAAS,EAAE,IAAIP,GAAEY,EAAU,CAAC,EAAE,IAAI,GAAG,EACtDE,EAAsBC,GAAaF,EAAc,CAAC,EAGxDlB,EAAeE,CAAe,EAAI,CAChC,UAAAM,EACA,iBAAAC,EACA,eAAAL,EACA,sBAAAE,EACA,aAAAI,EACA,oBAAAC,EACA,UAAAI,EACA,iBAAAC,GACA,gBAAAd,EACA,SAAAC,EACA,UAAAS,EACA,iBAAAC,EACA,cAAc1B,EAAAH,GAAA,YAAAA,EAAM,gBAAN,YAAAG,EAAqB,gBACnC,cAAcC,EAAAJ,GAAA,YAAAA,EAAM,gBAAN,YAAAI,EAAqB,gBACnC,SAAUJ,EAAK,SACf,WAAAiC,GACA,aAAAC,EACA,oBAAAC,EACA,YAAanC,GAAA,YAAAA,EAAM,OACrB,CAAA,CACF,GAEM,QAAA,IAAI,qEAAsEgB,CAAc,EAChG1B,EAAiB0B,CAAc,EAExB,CACL,eAAAA,EACA,WAAYjB,GAAA,YAAAA,EAAK,KAAK,OAAQsC,GACrBA,EAAI,SAAW,CAACpB,GAE3B,QAEKH,EAAO,CACN,eAAA,IAAI,4DAA6DA,CAAK,EACvEpC,CAAA,QACP,CACAc,EAAqB,EAAK,CAAA,CAG5B,MAAO,CAAC,CACV,EAGM8C,GAAe,MAAOC,GAA4D,CAClF,GAAA,CACF,KAAM,CAAE,eAAgBzC,EAAU,WAAA0C,CAAW,EAAI,MAAMzB,EAAe,EAChE0B,EAAiBD,EAAW,IAAK3E,GAAyBA,EAAM,SAAS,EACvE,QAAA,IAAI,6DAA8DiC,CAAQ,EAElF,MAAM4C,EAAW,MAAM/C,EAAiB,GAAM8C,EAAgB3C,CAAQ,EAC9D,eAAA,IAAI,gCAAiC4C,CAAQ,EAE9CC,EAAqBJ,EAASG,EAAU5C,CAAQ,QAChDgB,EAAO,CACN,eAAA,MAAM,sBAAuBA,CAAK,EACnC8B,EAAsBL,CAAO,CAAA,CAExC,EAEMK,EAAyBL,GAAmD,CAC5E,GAAA,CACF,MAAMG,EAAWjE,EACXqB,EAAWpB,EACb,GAAAgE,GAAYA,EAAS,OAAS,EACzB,OAAAC,EAAqBJ,EAASG,EAAU5C,CAAQ,EAEvD,MAAM,MAAM,eAAe,QAEtBgB,EAAO,CACN,eAAA,MAAM,+BAAgCA,CAAK,EAC5C9B,EAAA,CAEX,EAEM2D,EAAuB,CAACJ,EAAgCG,EAAiB5C,IAAkB,CACzF,KAAA,CAAE,SAAA+C,EAAU,SAAAC,CAAA,EAAaP,EACzB5E,EAAO+E,GAAA,YAAAA,EAAU,IAAK1C,GAAc,CAClC,MAAAlB,EAAYgB,GAAA,YAAAA,EAAWE,EAAK,aAC3B,OAAApB,GAAmBoB,EAAMlB,CAAS,CAAA,GAGrCiE,EAASpF,GAAA,YAAAA,EAAM,KAAK,CAACqF,EAAQC,IAAW,aAC5C,OAAIH,IAAa,MACRD,IAAa,SAChB1C,EAAA8C,EAAE,iBAAF,YAAA9C,EAAkB,QAAQ,IAAK,OAAMC,EAAA4C,EAAE,iBAAF,YAAA5C,EAAkB,QAAQ,IAAK,OACpEG,EAAAyC,EAAE,iBAAF,YAAAzC,EAAkB,QAAQ,IAAK,OAAMG,EAAAuC,EAAE,iBAAF,YAAAvC,EAAkB,QAAQ,IAAK,KAGnEmC,IAAa,OAASI,EAAE,UAAYD,EAAE,UAAYA,EAAE,UAAYC,EAAE,SAAA,GAE3E,eAAQ,IAAI,mEAAoE,KAAK,UAAUF,CAAM,CAAC,EAC/FA,CACT,EAEO,MAAA,CACL,iBAAApD,EACA,eAAAoB,EACA,sBAAA6B,EACA,aAAAN,EACF,CACF,CChMA,SAAwBY,GAAyB/B,EAAmB,CAClE,KAAM,CAAE,aAAAmB,EAAc,sBAAAM,CAAsB,EAAI3D,GAAgB,EAE1D,CAACkE,EAAcC,CAAe,EAAIC,EAAAA,SAAmC,MAAS,EAC9E,CAACC,EAAkBC,CAAmB,EAAIF,EAAAA,SAAkB,EAAK,EACjE,CAAE,YAAAG,EAAa,UAAAC,CAAU,EAAIC,GAAmB,EAGhDC,EAAkB,MAAOxC,EAAkByC,IAAqB,QAChET,IAAiB,QAAaS,IAChCL,EAAoB,EAAI,EAGpB,MAAAxD,EAAM,MAAMuC,EAAa,CAC7B,SAAU,OACV,SAAU,KAAA,CACX,EAEKuB,IAAe1D,EAAAJ,GAAA,YAAAA,EAAK,OAAQC,GAAcA,EAAK,WAAamB,KAA7C,YAAAhB,EAAyD,KAAM,KAEpF,OAAAoD,EAAoB,EAAI,EAEpBM,GACFT,EAAgBS,CAAY,EAEvBA,CACT,EAEMC,GAA4B3C,GAAqB,OACrD,MAAMpB,EAAM6C,EAAsB,CAChC,SAAU,OACV,SAAU,KAAA,CACX,EAEM,QADczC,EAAAJ,GAAA,YAAAA,EAAK,OAAQC,GAAcA,EAAK,WAAamB,KAA7C,YAAAhB,EAAyD,KAAM,IAEtF,EAEA4D,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI5C,EAAU,CAEN,MAAA6C,EAAOF,GAAyB3C,CAAQ,EAC1C6C,GACFZ,EAAgBY,CAAI,EAGtBL,EAAgBxC,EAAU,EAAK,CAAA,CACjC,EACC,CAACA,CAAQ,CAAC,EAEb4C,EAAAA,UAAU,KACJZ,IACFK,EAAYL,GAAA,YAAAA,EAAc,aAAa,EACvCM,EAAUN,GAAA,YAAAA,EAAc,aAAa,GAEhC,IAAM,CACCK,EAAAS,GAAW,UAAU,SAAS,EAChCR,EAAAQ,GAAW,UAAU,OAAO,CACxC,GACC,CAACd,GAAA,YAAAA,EAAc,QAAQ,CAAC,EAEpB,CACL,iBAAAG,EACA,aAAAH,EACA,gBAAAQ,CACF,CACF,CClCA,MAAMpG,GAAmC,CAACC,EAAKC,KAAS,CACtD,mBAAoB,EACpB,2BAA4B,GAC5B,wBAAyB,GACzB,qBAAsB,GACtB,kBAAmB,GACnB,cAAe,CAAC,EAChB,eAAgB,CAAC,EACjB,cAAe,CAAC,EAChB,oBAAqB,CAAC,EACtB,iBAAkB,CAAC,EACnB,iBAAmBC,GAAwC,CACzDF,EAAI,KAAO,CACT,cAAeE,CAAA,EACf,CACJ,EACA,cAAe,CAAC,EAChB,iBAAmBC,GAA0B,CAC3CH,EAAI,KAAO,CACT,cAAeG,CAAA,EACf,CACJ,EACA,wBAA0BC,GAAuB,CAC/CJ,EAAI,KAAO,CACT,qBAAsBI,CAAA,EACtB,CACJ,EACA,qBAAuBA,GAAuB,CAC5CJ,EAAI,KAAO,CACT,kBAAmBI,CAAA,EACnB,CACJ,EACA,oBAAsBC,GAAqB,CACnC,MAAAC,EAAmBL,IAAM,iBACdK,EAAAD,EAAM,EAAE,EAAIA,EAC7BL,EAAI,KAAO,CACT,iBAAkB,CAAE,GAAGM,CAAiB,CAAA,EACxC,CACJ,EACA,2BAA6BF,GAAuB,CAClDJ,EAAI,KAAO,CACT,wBAAyBI,CAAA,EACzB,CACJ,EACA,8BAAgCA,GAAuB,CACrDJ,EAAI,KAAO,CACT,2BAA4BI,CAAA,EAC5B,CACJ,EACA,uBAAyBG,GAAmB,CACpC,MAAAC,EAAsBP,IAAM,oBACdO,EAAAD,EAAK,WAAW,EAAIA,EACxCP,EAAI,KAAO,CACT,oBAAqB,CAAE,GAAGQ,CAAoB,CAAA,EAC9C,CACJ,EACA,kBAAmB,CAACC,EAAiBC,IAAkB,CAC/C,MAAAC,EAAiBV,IAAM,eAC7BU,EAAeF,CAAO,EAAIC,EAC1BV,EAAI,KAAO,CACT,eAAgB,CAAE,GAAGW,CAAe,CAAA,EACpC,CACJ,EACA,sBAAwBC,GAAkB,CACxCZ,EAAI,KAAO,CACT,mBAAoBY,CAAA,EACpB,CACJ,EACA,YAAa,CAAC,EACd,eAAiBV,GAAc,CACvB,MAAAiB,EAAclB,IAAM,YAC1BD,EAAI,KAAO,CACT,YAAa,CACX,GAAGmB,EACH,CAACjB,EAAK,SAAS,EAAGA,CAAA,CACpB,EACA,CAAA,CAEN,GAEMwG,GAA6B5F,GACjCC,GAAQhB,GAAO,CACb,KAAM,6BACN,WAAqBiB,GAAA,CACnB,KAAM,CAAE,cAAAC,EAAe,cAAAC,EAAe,iBAAAZ,EAAkB,oBAAAE,CAAwB,EAAAQ,EAChF,MAAO,CAAE,cAAAC,EAAe,cAAAC,EAAe,iBAAAZ,EAAkB,oBAAAE,CAAoB,CAAA,CAEhF,CAAA,CACH,EC/EO,SAASmG,GAAiBhD,EAAmB,CAC5C,KAAA,CAAE,iBAAArD,CAAiB,EAAIoG,GAA2B,EAUxD,MAAO,CAAE,cAPaE,EAAAA,QAAQ,IAAM,CAClC,GAAIjD,EACF,OAAOrD,EAAiBqD,CAAQ,CAE3B,EACN,CAACrD,EAAkBqD,CAAQ,CAAC,CAER,CACzB,CAEO,SAASkD,GAAoBC,EAAsB,CAClD,KAAA,CAAE,oBAAAtG,CAAoB,EAAIkG,GAA2B,EAS3D,MAAO,CAAE,iBAPgBE,EAAAA,QAAQ,IAAM,CACrC,GAAIE,EACF,OAAOtG,EAAoBsG,CAAW,CAEjC,EACN,CAACtG,EAAqBsG,CAAW,CAAC,CAEX,CAC5B,CAEO,SAASC,GAAuBC,EAAmB,CAiBxD,MAAO,CAAE,kBAhBiBJ,EAAAA,QAAQ,IAAM,CACtC,GAAII,EAAU,CACR,GAAAA,EAAS,SAAS,OAAO,EACpB,MAAA,SAGL,GAAAA,EAAS,SAAS,OAAO,EACpB,MAAA,YAEL,GAAAA,EAAS,SAAS,MAAM,EACnB,MAAA,MACT,CAEK,EACN,CAACA,CAAQ,CAAC,CAEc,CAC7B,CCnEA,SAAwBC,GACtBtD,EACAmD,EACAI,EACAC,EACAC,EAAqB,GACrB,OACM,KAAA,CAAE,kBAAAC,CAAkB,EAAIC,GAAqB,EAC7C,CAAE,oBAAAC,CAAoB,EAAIC,GAAc,EACxC,CAAE,eAAAC,CAAe,EAAIC,GAAgB,EACrC,CAAE,aAAAC,CAAa,EAAIC,GAAY,EAE/B,CACJ,2BAAAC,EACA,oBAAAC,GACA,uBAAAC,EACA,8BAAAC,EACA,kBAAAC,EACA,eAAAtH,EACA,eAAAuH,GACExB,GAA2B,EAGzByB,EAA6B,MAAOxE,EAAkByE,EAAe,KAAU,CACnFP,EAA2B,EAAI,EAC3B,GAAA,CACF,MAAMrB,EAAO,MAAMa,EAAkB,OAAO,QAAQ1D,EAAUyE,CAAY,EACtE5B,MAA0BA,CAAI,QAC3BlD,EAAO,CACN,QAAA,MAAM,oCAAqCA,CAAK,CAAA,QACxD,CACAuE,EAA2B,EAAK,CAAA,CAEpC,EAGMQ,EAA4B,MAAOC,EAAoBF,EAAe,KAAU,CACpFJ,EAA8B,EAAI,EAC9B,GAAA,CACF,MAAMxB,EAAO,MAAMa,EAAkB,aAAa,KAAK,QAAQiB,EAAYF,CAAY,EACnF5B,KAA6BA,CAAI,QAC9BlD,EAAO,CACN,QAAA,MAAM,mCAAoCA,CAAK,CAAA,QACvD,CACA0E,EAA8B,EAAK,CAAA,CAEvC,EAGM,CAAE,cAAAO,CAAA,EAAkB5B,GAAiBhD,CAAQ,EAG7C,CAAE,UAAWxC,CAAA,EAAgByG,GAAYW,GAAA,YAAAA,EAAe,aAAa,EAGrE,CAACC,EAAaC,CAAc,EAAI5C,WAAsB,EACtD,CAAC6C,EAAkBC,CAAiB,EAAI9C,EAAAA,SAAS,EAAK,EACtD,CAAC+C,EAAoBC,CAAqB,EAAIhD,WAAwB,EAEtEiD,EAAoB,MAAOC,EAAuBpF,EAAkBqF,IAAqB,CAC7FL,EAAkB,EAAI,EAClB,GAAA,CACF,MAAMpG,EAAM,MAAM8E,EAAkB,OAAO,sBAAsB0B,EAAepF,CAAQ,EACxF,GAAIpB,EAAK,CACP,MAAM0G,GAAgBC,GAAsB3G,EAAI,iBAAkByG,CAAQ,EAAE,SAAS,EACtEP,EAAA,CACb,QAASlG,EAAI,iBACb,cAAA0G,GACA,eAAgBrE,GAAaqE,GAAe,OAAW,OAAWE,GAAQ,UAAU,EAAE,SAAS,CAAA,CAChG,EACO,QAAA,IAAI,oEAAqE5G,CAAG,EACpFsG,EAAsBtG,CAAG,CAAA,QAEpBe,EAAO,CACN,QAAA,MAAM,2BAA4BA,CAAK,CAAA,QAC/C,CACAqF,EAAkB,EAAK,CAAA,CAE3B,EAGMS,EAAgBxC,EAAAA,QAAQ,IACxB2B,GAAiBC,GAAe3E,GAAE2E,EAAY,OAAO,EAAE,GAAG,CAAC,EACtD3E,GAAE2E,EAAY,OAAO,EAAE,IAAID,EAAc,iBAAiB,EAAE,IAAI,GAAG,EAAE,SAAS,EAGhF,IACN,CAACA,EAAeC,CAAW,CAAC,EAGzB,CAAE,iBAAAa,CAAA,EAAqBxC,GAAoBC,CAAW,EAGtDwC,EAAsBV,GAAuC,CAEjE,GADQ,QAAA,IAAI,qFAAsFA,CAAkB,EAChHA,GAAsB1B,GAAUC,GAAUC,IAAc,OAAW,CAC/D,MAAAmC,EAAcC,GAAmBZ,EAAmB,SAAS,WAAY1B,EAAO,QAAQ,EAAE,SAAS,EACnGuC,EAAcD,GAAmBZ,EAAmB,SAAS,WAAYzB,EAAO,QAAQ,EAAE,SAAS,EACnGuC,EAAetC,EAAYqC,EAAcF,EACzCI,GAAevC,EAAYmC,EAAcE,EAC/C,eAAQ,IAAI,6EAA8EF,EAAaE,EAAaC,EAAcC,EAAY,EACvI,CACL,YAAAJ,EACA,YAAAE,EACA,aAAAC,EACA,aAAAC,EACF,CAAA,CAEK,MAAA,CAAE,YAAa,IAAK,YAAa,IAAK,aAAc,IAAK,aAAc,GAAI,CACpF,EAEM,CAACC,GAAiBC,EAAkB,EAAIhE,WAAmG,EACjJU,EAAAA,UAAU,IAAM,CACVqC,GACiBiB,GAAAP,EAAmBV,CAAkB,CAAC,CAE7D,EAAG,CAACA,GAAA,YAAAA,EAAoB,SAAUA,GAAA,YAAAA,EAAoB,SAAU1B,GAAA,YAAAA,EAAQ,SAAUC,GAAA,YAAAA,EAAQ,SAAUC,CAAS,CAAC,EAaxG,MAAA0C,EAAmBlD,EAAAA,QAAQ,IAAM,CACjC,GAAA2B,GAAiBc,GAAoBnC,GAAUC,EAAQ,CACzD,MAAM5B,EAASwE,GAAmB,GAAIxB,EAAc,kBAAmBA,EAAec,CAAgB,EACtG,OAAOC,EAAmB/D,CAAM,CAAA,CAE3B,EACN,CAACgD,EAAec,EAAkBnC,EAAQC,EAAQC,CAAS,CAAC,EAGzD4C,EAAYpD,EAAAA,QAAQ,IAAM,CAC1B,GAAAyC,GAAoBnC,GAAUC,EAChC,OAAO8C,GAAS,oBAAoB,IAAIC,GAAGb,EAAiB,kBAAkB,EAAGnC,EAAO,SAAUC,EAAO,QAAQ,EAAE,SAAS,GAG7H,CAACkC,GAAA,YAAAA,EAAkB,mBAAoBnC,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAGrDiD,EAAWvD,EAAAA,QAAQ,IAAM,CACzB,GAAA2B,GAAiBrB,GAAUC,EACtB,OAAA8C,GAAS,iBAAiB1B,EAAc,WAAW,iBAAiB,iBAAkBrB,EAAO,SAAUC,EAAO,QAAQ,EAAE,SAAS,CAEnI,EACN,EAACxE,EAAA4F,GAAA,YAAAA,EAAe,aAAf,YAAA5F,EAA2B,iBAAiB,iBAAkBuE,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAG7EkD,GAAWxD,EAAAA,QAAQ,IAAM,CACzB,GAAA2B,GAAiBrB,GAAUC,EACtB,OAAA8C,GAAS,iBAAiB1B,EAAc,WAAW,iBAAiB,iBAAkBrB,EAAO,SAAUC,EAAO,QAAQ,EAAE,SAAS,CAEnI,EACN,CAACoB,GAAA,YAAAA,EAAe,WAAW,iBAAiB,iBAAkBrB,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAG5EmD,GAAiB9C,EAAoBL,GAAA,YAAAA,EAAQ,UAAW0C,IAAA,YAAAA,GAAiB,WAAW,EACpFU,GAAiB/C,EAAoBJ,GAAA,YAAAA,EAAQ,UAAWyC,IAAA,YAAAA,GAAiB,WAAW,EAGpFW,GAAmBhD,EAAoBL,GAAA,YAAAA,EAAQ,UAAW4C,GAAA,YAAAA,EAAkB,WAAW,EACvFU,GAAmBjD,EAAoBJ,GAAA,YAAAA,EAAQ,UAAW2C,GAAA,YAAAA,EAAkB,WAAW,EAGvFW,GAAoB7D,EAAAA,QAAQ,IAAM,CACtC,GAAIoD,GAAaF,EACf,OAAOY,GAAmBZ,EAAiB,YAAaA,EAAiB,YAAaE,EAAW,EAAK,CAGjG,EACN,CAACA,EAAWF,CAAgB,CAAC,EAG1Ba,EAAW/D,EAAAA,QAAQ,IAChB/C,GAAE0G,EAAgB,EAAE,IAAIC,EAAgB,EAAE,SAAS,EACzD,CAACD,GAAkBC,EAAgB,CAAC,EAEvCjE,EAAAA,UAAU,IAAM,CACV5C,GAAY0G,IAAkBC,IACdrC,EAAAtE,EAAUE,GAAEwG,EAAc,EAAE,IAAIC,EAAc,EAAE,UAAU,CAE7E,EAAA,CAACD,GAAgBC,GAAgB3G,CAAQ,CAAC,EAEvC,MAAAiH,GAAahE,EAAAA,QAAQ,IAAM,CAC/B,GAAIjD,EACF,OAAOhD,EAAegD,CAAQ,CAEzB,EACN,CAAChD,EAAgBgD,CAAQ,CAAC,EAEvBc,GAAamC,EAAAA,QAAQ,IAAM,CAC3B,GAAA2B,GAAiBA,EAAc,UAAY1E,GAAE0E,GAAA,YAAAA,EAAe,QAAQ,EAAE,GAAG,CAAC,GAAKrB,GAAUC,EAAQ,CAC/F,IAAA0D,EACAtC,EAAc,WAChBsC,EAAYtC,EAAc,aAAcrB,GAAA,YAAAA,EAAQ,SAAUA,EAAUC,EAEpE0D,EAAYlD,EAAa,gFAAgF,EAE3G,MAAMmD,EAAStB,GAAmBjB,EAAc,SAAUsC,EAAU,QAAQ,EAAE,SAAS,EAOhF,OADWtD,EAAoBsD,GAAA,YAAAA,EAAW,UAAWC,CAAM,CAC3D,CAEF,MAAA,IACN,CAACvC,GAAA,YAAAA,EAAe,SAAUrB,EAAQC,CAAM,CAAC,EAStC4D,GAAanE,EAAAA,QAAQ,IAAM,CAC/B,GAAI2D,IAAoBC,KAAoBjC,GAAA,MAAAA,EAAe,WAAY1E,GAAE0E,GAAA,YAAAA,EAAe,QAAQ,EAAE,GAAG,CAAC,GAAKrB,GAAUC,EAAQ,CAC3H,MAAM0D,EAAYtC,EAAc,aAAcrB,GAAA,YAAAA,EAAQ,SAAUA,EAASC,EACnE2D,EAAStB,GAAmBjB,EAAc,SAAUsC,EAAU,QAAQ,EAAE,SAAS,EACjFG,EAAYzD,EAAoBsD,GAAA,YAAAA,EAAW,UAAWC,CAAM,EAC9D,GAAAjH,GAAE0G,EAAgB,EAAE,IAAIC,EAAgB,EAAE,GAAGQ,CAAS,EACjD,MAAA,EACT,CAEK,MAAA,EAAA,EACN,CAACT,GAAkBC,GAAkBjC,GAAA,YAAAA,EAAe,SAAUrB,EAAQC,CAAM,CAAC,EAEhFZ,EAAAA,UAAU,IAAM,CACTkB,GAAA,MAAAA,EAAgB,UACnBgB,EAAe,MAAS,EACxBI,EAAsB,MAAS,EACjC,EACC,CAACpB,CAAc,CAAC,EAEb,MAAA/C,GAAekC,EAAAA,QAAQ,IAAM,CACjC,GAAInC,IAAckG,EACT,OAAA9G,GAAE8G,CAAQ,EAAE,IAAIlG,EAAU,EAAE,IAAI,GAAG,EAAE,SAAS,CACvD,EACC,CAACA,GAAYkG,CAAQ,CAAC,EAEnBM,GAAiBrE,EAAAA,QAAQ,IACzB2B,GAAiB1E,GAAE0E,EAAc,iBAAiB,EAAE,GAAG,CAAC,EACnD1E,GAAE0E,EAAc,iBAAiB,EAAE,IAAI,GAAK,EAAE,IAAI,GAAG,EAAE,SAAS,EAElE,IACN,CAACA,CAAa,CAAC,EAEX,MAAA,CACL,2BAAAJ,EACA,cAAAI,EACA,YAAApH,EACA,YAAAqH,EACA,cAAAY,EACA,0BAAAf,EACA,gBAAAuB,GACA,WAAAgB,GACA,SAAAR,GACA,UAAAJ,EACA,SAAAG,EACA,iBAAAL,EACA,iBAAAS,GACA,iBAAAC,GACA,kBAAAC,GACA,eAAAJ,GACA,eAAAC,GACA,kBAAAxB,EACA,iBAAAJ,EACA,SAAAiC,EACA,WAAAlG,GACA,WAAAsG,GACA,aAAArG,GACA,eAAAuG,EACF,CACF,CCtSgB,SAAAC,GAAyBC,EAAmBC,EAAkB,CAY5E,MAAO,CAAE,OAXMxE,EAAAA,QAAQ,IACjBuE,GAAYC,EACVvH,EAAEuH,CAAO,EAAE,GAAG,CAAC,EACV,OAGF,GAAGC,GAA0BxH,EAAEsH,CAAQ,EAAE,IAAItH,EAAEsH,CAAQ,EAAE,IAAIC,CAAO,CAAC,EAAE,IAAI,GAAG,EAAE,WAAY,EAAG,CAAC,CAAC,IAEnG,KACN,CAACD,EAAUC,CAAO,CAAC,CAEN,CAClB,CASO,SAASE,GAA2BC,EAAkBC,EAAiBC,EAAgB,GAAO,CAUnG,MAAO,CAAE,YATW7E,EAAAA,QAAQ,IAAM,CAChC,GAAI4E,EACK,OAAA3H,EAAE2H,CAAM,EACZ,IAAIC,EAAO,EAAIF,EAAW,EAAIA,CAAQ,EACtC,SAAS,CAGb,EAAA,CAACC,EAAQD,EAAUE,CAAI,CAAC,CAEN,CACvB,CAEO,SAAS9E,GAAiBhD,EAAmB,CAC5C,KAAA,CAAE,iBAAArD,CAAiB,EAAIO,GAAmB,EAUhD,MAAO,CAAE,cAPa+F,EAAAA,QAAQ,IAAM,CAClC,GAAIjD,EACF,OAAOrD,EAAiBqD,CAAQ,CAE3B,EACN,CAACrD,EAAkBqD,CAAQ,CAAC,CAER,CACzB,CAEO,SAASkD,GAAoBC,EAAsB,CAClD,KAAA,CAAE,oBAAAtG,CAAoB,EAAIK,GAAmB,EASnD,MAAO,CAAE,iBAPgB+F,EAAAA,QAAQ,IAAM,CACrC,GAAIE,EACF,OAAOtG,EAAoBsG,CAAW,CAEjC,EACN,CAACtG,EAAqBsG,CAAW,CAAC,CAEX,CAC5B,CAEO,SAASC,GAAuBC,EAAmB,CAiBxD,MAAO,CAAE,kBAhBiBJ,EAAAA,QAAQ,IAAM,CACtC,GAAII,EAAU,CACR,GAAAA,EAAS,SAAS,OAAO,EACpB,MAAA,SAGL,GAAAA,EAAS,SAAS,OAAO,EACpB,MAAA,YAEL,GAAAA,EAAS,SAAS,MAAM,EACnB,MAAA,MACT,CAEK,EACN,CAACA,CAAQ,CAAC,CAEc,CAC7B,CAEgB,SAAA0E,GAAkBzC,EAAwB0C,EAAwB,CAC1E,MAAAC,EAAahF,EAAAA,QAAQ,IAAM,CAC/B,GAAI+E,GAAW1C,EACN,MAAA,GAAG4C,GAAqBhI,EAAE8H,EAAQ,YAAY,EAAE,IAAI1C,CAAa,EAAE,QAAQ,GAAIE,GAAQ,UAAU,EAAGwC,EAAQ,cAAc,QAAQ,CAAC,KAAKA,GAAA,YAAAA,EAAS,cAAc,MAAM,EAG7K,EAAA,CAACA,GAAA,YAAAA,EAAS,aAAc1C,CAAa,CAAC,EAEnC6C,EAAalF,EAAAA,QAAQ,IAAM,CAC/B,GAAI+E,GAAW1C,EACN,MAAA,GAAG4C,GAAqBhI,EAAE8H,EAAQ,YAAY,EAAE,IAAI1C,CAAa,EAAE,QAAQ,GAAIE,GAAQ,UAAU,EAAGwC,EAAQ,cAAc,QAAQ,CAAC,KAAKA,GAAA,YAAAA,EAAS,cAAc,MAAM,EAG7K,EAAA,CAACA,GAAA,YAAAA,EAAS,aAAc1C,CAAa,CAAC,EAElC,MAAA,CAAE,WAAA2C,EAAY,WAAAE,CAAW,CAClC,CCrFA,SAAwBC,GACtBpI,EACAmD,EACAI,EACAC,EACAC,EAAqB,GACrB,CACM,KAAA,CAAE,UAAA4E,CAAU,EAAI1E,GAAqB,EACrC,CAAE,oBAAAC,CAAoB,EAAIC,GAAc,EAExC,CACJ,2BAAAK,EACA,oBAAAC,EACA,uBAAAC,EACA,8BAAAC,GACA,kBAAAC,EACA,eAAAtH,EACA,eAAAuH,GACErH,GAAmB,EAGjBsH,EAA6B,MAAO8D,EAAmB7D,GAAe,KAAU,CACpFP,EAA2B,EAAI,EAC/B,MAAMrB,GAAO,MAAMwF,EAAU,OAAO,SAASC,EAAW7D,EAAY,EAE5D,QAAA,IAAI,wEAAyE5B,EAAI,EAErFA,IACFsB,EAAoBtB,EAAI,EAE1BqB,EAA2B,EAAK,CAClC,EAGMQ,EAA4B,MAAO6D,EAAsB9D,GAAe,KAAU,CACtFJ,GAA8B,EAAI,EAClC,MAAMxB,GAAO,MAAMwF,EAAU,KAAK,QAAQE,EAAc9D,EAAY,EAE5D,QAAA,IAAI,uEAAwE5B,EAAI,EAEpFA,IACFuB,EAAuBvB,EAAI,EAE7BwB,GAA8B,EAAK,CACrC,EAGM,CAAE,cAAAO,CAAA,EAAkB5B,GAAiBhD,CAAQ,EAC3C,QAAA,IAAI,0DAA2D4E,CAAa,EAGpF,KAAM,CAAE,UAAWpH,CAAA,EAAgByG,GAAYW,GAAA,YAAAA,EAAe,aAAa,EAGrE,CAAE,YAAAC,CAAA,EAAgB2D,GAAmBhL,CAAW,EAGhDiI,EAAgBxC,EAAAA,QAAQ,IACxB2B,GAAiBC,EACZ3E,GAAE2E,EAAY,OAAO,EAAE,IAAID,EAAc,YAAY,EAAE,IAAI,GAAG,EAAE,SAAS,EAG3E,IACN,CAACA,EAAeC,CAAW,CAAC,EAGzB,CAAE,iBAAAa,CAAA,EAAqBxC,GAAoBC,CAAW,EAGtDsF,EAAwBC,GAAsB,CAClD,GAAI9D,GAAiBc,GAAoBnC,GAAUC,GAAUC,IAAc,OAAW,CACpF,MAAMkF,GAAe,IAAIpC,GAAGb,EAAiB,kBAAkB,EACzDkD,GAAiBtC,GAAS,wBAAwB1B,EAAc,SAAS,gBAAgB,EACzFiE,GAAiBvC,GAAS,wBAAwB1B,EAAc,SAAS,gBAAgB,EACzFkE,GAAcC,GAAa,2BAA2B,IAAIxC,GAAGmC,CAAS,EAAGC,GAAcC,GAAgBC,GAAgB,EAAK,EAE5HjD,GAAcL,GAAsBuD,GAAY,MAAM,WAAYvF,EAAO,QAAQ,EAAE,SAAS,EAC5FuC,GAAcP,GAAsBuD,GAAY,MAAM,WAAYtF,EAAO,QAAQ,EAAE,SAAS,EAK3F,MAAA,CACL,YAAAoC,GACA,YAAAE,GACA,aANmBrC,EAAYqC,GAAcF,GAO7C,aANmBnC,EAAYmC,GAAcE,EAO/C,CAAA,CAGJ,EAGMG,EAAkBhD,EAAAA,QAAQ,IAAM,CAChC,GAAA2B,GAAiBC,GAAea,EAAkB,CACpD,MAAMgD,EAAYM,GAAY,8BAA8BpE,EAAeC,EAAY,OAAO,EACxFhC,GAAO4F,EAAqBC,CAAS,EAC3C,GAAI7F,GACK,OAAAA,EACT,CAEK,MAAA,CACL,YAAa,IACb,YAAa,IACb,aAAc,IACd,aAAc,GAChB,GACC,CAACgC,GAAA,YAAAA,EAAa,QAASa,GAAA,YAAAA,EAAkB,kBAAkB,CAAC,EAGzDS,EAAmBlD,EAAAA,QAAQ,IAAM,CACrC,GAAI2B,GAAiBc,EAAkB,CAC/B,MAAA7C,EAAO4F,EAAqB7D,EAAc,SAAS,EACzD,GAAI/B,EACK,OAAAA,CACT,GAGD,CAAC+B,GAAA,YAAAA,EAAe,UAAWc,GAAA,YAAAA,EAAkB,kBAAkB,CAAC,EAG7DW,EAAYpD,EAAAA,QAAQ,IAAM,CAC1B,GAAAyC,GAAoBnC,GAAUC,EAChC,OAAO8C,GAAS,oBAAoB,IAAIC,GAAGb,EAAiB,kBAAkB,EAAGnC,EAAO,SAAUC,EAAO,QAAQ,EAAE,SAAS,GAG7H,CAACkC,GAAA,YAAAA,EAAkB,mBAAoBnC,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAGrDiD,EAAWvD,EAAAA,QAAQ,IAAM,CACzB,GAAA2B,GAAiBrB,GAAUC,EACrB,eAAA,IACN,wKACA8C,GAAS,iBAAiB1B,EAAc,SAAS,iBAAkBrB,EAAO,SAAUC,EAAO,QAAQ,EAAE,SAAS,CAChH,EACO8C,GAAS,iBAAiB1B,EAAc,SAAS,iBAAkBrB,EAAO,SAAUC,EAAO,QAAQ,EAAE,SAAS,CAEhH,EACN,CAACoB,GAAA,YAAAA,EAAe,SAAS,iBAAkBrB,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAGzDkD,EAAWxD,EAAAA,QAAQ,IAAM,CACzB,GAAA2B,GAAiBrB,GAAUC,EACtB,OAAA8C,GAAS,iBAAiB1B,EAAc,SAAS,iBAAkBrB,EAAO,SAAUC,EAAO,QAAQ,EAAE,SAAS,CAEhH,EACN,CAACoB,GAAA,YAAAA,EAAe,SAAS,iBAAkBrB,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAGzDmD,EAAiB9C,EAAoBL,GAAA,YAAAA,EAAQ,UAAW0C,EAAgB,WAAW,EACnFU,EAAiB/C,EAAoBJ,GAAA,YAAAA,EAAQ,UAAWyC,EAAgB,WAAW,EAGnFW,EAAmBhD,EAAoBL,GAAA,YAAAA,EAAQ,UAAW4C,GAAA,YAAAA,EAAkB,WAAW,EACvFU,GAAmBjD,EAAoBJ,GAAA,YAAAA,EAAQ,UAAW2C,GAAA,YAAAA,EAAkB,WAAW,EAGvFW,GAAoB7D,EAAAA,QAAQ,IAAM,CACtC,GAAIoD,GAAaF,EACf,OAAOY,GAAmBZ,EAAiB,YAAaA,EAAiB,YAAaE,EAAW,EAAK,CAGjG,EACN,CAACA,EAAWF,CAAgB,CAAC,EAG1Ba,EAAW/D,EAAAA,QAAQ,IAChBtC,GAA4BT,GAAE0G,CAAgB,EAAE,IAAIC,EAAgB,EAAE,SAAS,EAAG,GAAG,EAC3F,CAACD,EAAkBC,EAAgB,CAAC,EAC/B,QAAA,IAAI,iEAAkEG,CAAQ,EAEtFpE,EAAAA,UAAU,IAAM,CACV5C,GACgBsE,EAAAtE,EAAUE,GAAEwG,CAAc,EAAE,IAAIC,CAAc,EAAE,UAAU,CAE7E,EAAA,CAACD,EAAgBC,EAAgB3G,CAAQ,CAAC,EAEvC,MAAAiH,EAAahE,EAAAA,QAAQ,IAAM,CAC/B,GAAIjD,EACF,OAAOhD,EAAegD,CAAQ,CAEzB,EACN,CAAChD,EAAgBgD,CAAQ,CAAC,EAQtB,MAAA,CACL,2BAAAwE,EACA,cAAAI,EACA,YAAApH,EACA,YAAAqH,EACA,cAAAY,EACA,0BAAAf,EACA,gBAAAuB,EACA,WAAAgB,EACA,SAAAR,EACA,UAAAJ,EACA,SAAAG,EACA,iBAAAL,EACA,iBAAAS,EACA,iBAAAC,GACA,kBAAAC,GACA,eAAAJ,EACA,eAAAC,EACA,qBAAA8B,EACA,SAAAzB,CACF,CACF,CCxNwB,SAAAiC,GACtBC,EACAC,EACAnJ,EACAuD,EACAC,EACAC,EACA2F,EACAtI,EACAkG,EACA,CACA,KAAM,CAAE,eAAAqC,EAAgB,WAAAC,GAAY,aAAAC,EAAc,gBAAAC,EAAiB,eAAAC,GAAmBC,GAAe,EAE/F,CAAE,iBAAAC,EAAkB,oBAAA/F,CAAoB,EAAIC,GAAc,EAC1D,CAAE,sBAAA+F,CAAsB,EAAI7G,GAA2B,EACvD,CAAE,kBAAAW,CAAkB,EAAIC,GAAqB,EAE7C,CAACkG,EAAcC,CAAe,EAAI5H,EAAAA,SAAiB,EAAE,EACrD,CAAC6H,EAAcC,CAAe,EAAI9H,EAAAA,SAAiB,EAAE,EACrD,CAAC+H,EAAYC,CAAa,EAAIhI,EAAAA,SAAkB,EAAI,EACpD,CAACiI,EAAMC,CAAO,EAAIlI,EAAAA,SAAiB,EAAE,EAErCmI,EAAUC,SAAe,EAAE,EAC3BC,EAAgBD,SAAgB,EAAI,EACpCE,EAAkBF,SAAe,EAAE,EACnCG,EAAkBH,SAAe,EAAE,EAEzC1H,EAAAA,UAAU,IAAM,CACdyH,EAAQ,QAAUF,CAAA,EACjB,CAACA,CAAI,CAAC,EAETvH,EAAAA,UAAU,IAAM,CACd2H,EAAc,QAAUN,CAAA,EACvB,CAACA,CAAU,CAAC,EAEfrH,EAAAA,UAAU,IAAM,CACE4H,EAAA,QAAsBX,CACrC,EAAA,CAACA,EAAcpG,EAAWsG,CAAY,CAAC,EAE1CnH,EAAAA,UAAU,IAAM,CACE6H,EAAA,QAAsBV,CACrC,EAAA,CAACA,EAActG,EAAWoG,CAAY,CAAC,EAE1CjH,EAAAA,UAAU,IAAM,CACG8H,EAAA,CAAA,EAChB,CAACtB,CAAY,CAAC,EAGjBxG,EAAAA,UAAU,IAAM,CACd,MAAM+H,EAAyB,CAAC,EAC5BpH,GAAUC,IACCmH,EAAA,KAAKpH,EAAO,SAAS,EACrBoH,EAAA,KAAKnH,EAAO,SAAS,GAEhCmH,EAAa,OAAS,GACxBhB,EAAiBgB,CAAY,GAE9B,CAACpH,GAAA,YAAAA,EAAQ,UAAWC,GAAA,YAAAA,EAAQ,SAAS,CAAC,EAGzC,KAAM,CAAE,YAAaoH,IAAiBpC,GAAmB/E,EAAYD,EAASD,CAAM,EAC9E,CAAE,YAAasH,IAAiBrC,GAAmB/E,EAAYF,EAASC,CAAM,EAG9EsH,EAAelH,EAAoBH,EAAYD,GAAA,YAAAA,EAAQ,UAAYD,GAAA,YAAAA,EAAQ,UAAWsG,CAAY,EAClGkB,EAAenH,EAAoBH,EAAYF,GAAA,YAAAA,EAAQ,UAAYC,GAAA,YAAAA,EAAQ,UAAWuG,CAAY,EAElGiB,EAAkB/H,EAAAA,QAAQ,IACvB/C,EAAE4K,GAAgB,GAAG,EACzB,IAAIC,GAAgB,GAAG,EACvB,SAAS,EACX,CAACD,EAAcC,CAAY,CAAC,EAEzBE,GAAchI,EAAAA,QAAQ,IAAM,CAC5B,GAAAmG,SAAqBlJ,EAAE8K,CAAe,EAAE,GAAG9K,EAAE,GAAK,CAAC,CAAA,EACtD,CAAC8K,EAAiB5B,CAAY,CAAC,EAE5B8B,GAAcjI,EAAAA,QAAQ,IACtB,GAAAnC,GAAckK,GAAmB9K,EAAEY,CAAU,EAAE,GAAG,CAAC,GACjDZ,EAAE8K,CAAe,EAAE,IAAI9K,EAAE8G,CAAQ,CAAC,EAAE,GAAGlG,CAAU,GAKtD,CAACA,EAAYkK,EAAiBhE,CAAQ,CAAC,EAGpC,CAACmE,GAAqBC,EAAsB,EAAIlJ,EAAAA,SAAkB,EAAK,EACvE,CAACmJ,GAAoBC,EAAqB,EAAIpJ,EAAAA,SAAkB,EAAK,EACrE,CAACqJ,EAAiBC,EAAkB,EAAItJ,EAAAA,SAA4C,MAAS,EA0J7FuJ,GAAwBC,GAtJT,MAAO7D,EAAgB8D,EAAuBxB,EAAc1G,GAAY,GAAOmI,KAAyB,CAGvH,GAFI,QAAA,IAAI,sDAAuDzB,CAAI,EAC/D,QAAA,IAAI,wDAAyDtC,EAAQ+D,EAAY,EACrFrI,GAAUC,GAAUxD,EAClB,GAAA,CAGFsL,GAAsB,EAAI,EAC1B1B,EAAsB,CAAC,EACjB,MAAAiC,GAAWF,EAAepI,EAASC,EACnCsI,EAAgBH,EAAenI,EAASD,EACxCwI,EAAcC,GAAiBnE,EAAQgE,GAAS,QAAQ,EAAE,QAAQ,CAAC,EACnEI,EAAcD,GAAiBJ,IAAgB,EAAGE,EAAc,QAAQ,EAAE,QAAQ,CAAC,EAErF,IAAAI,EACA9C,GACM,QAAA,IAAI,6DAA8DF,CAAW,EACrFgD,EAAOhD,GAAe,OAAS,eAAiBA,IAAe3F,GAAA,YAAAA,EAAQ,WAAY,YAAc,aAE1F2I,EAAA,eAET,IAAIC,EAAoC,CACtC,KAAAhC,EACA,KAAM,eACN,aAAc,IACd,aAAc,GACd,QAASnK,CACX,EAEIoJ,GACE8C,IAAS,cACFC,EAAA,CACP,KAAAhC,EACA,KAAM,YACN,QAASnK,EACT,cAAe+L,CACjB,GAEEG,IAAS,cACFC,EAAA,CACP,KAAAhC,EACA,KAAM,YACN,QAASnK,EACT,cAAe+L,CACjB,GAEEG,GAAQ,iBACDC,EAAA,CACP,KAAAhC,EACA,KAAM,eACN,QAASnK,EACT,cAAe2L,EAAeI,EAAcE,EAC5C,cAAeN,EAAeM,EAAcF,CAC9C,IAGOI,EAAA,CACP,KAAAhC,EACA,KAAM,eACN,aAAc4B,EACd,aAAcJ,EACd,QAAS3L,CACX,EAGF,MAAMpB,EAAM,MAAM8E,EAAkB,OAAO,0BAA0ByI,EAAQ,CAC3E,UAAW,CAACC,EAAmBjC,IAAS,CAC9B,QAAA,IAAI,sEAAuEiC,CAAiB,EAChGjC,GAAQgC,EAAO,OACEX,GAAA,CACjB,SAAU/H,GAAY7E,EAAI,iBAAmBA,EAAI,iBACjD,SAAU6E,GAAY7E,EAAI,iBAAmBA,EAAI,iBACjD,UAAWwN,CAAA,CACZ,EACDd,GAAsB,EAAK,EAE/B,EACA,QAAS,CAAC3L,EAAOwK,IAAS,CAChB,QAAA,IAAI,6BAA8BxK,CAAK,CAAA,CACjD,CACD,EACD,QAAQ,IAAI,2BAA4B,CACtC,GAAGf,EACH,KAAAuL,EACA,YAAAjB,EACA,2BAA4B,CAACsB,EAAgB,OAAA,CAC9C,EAED,MAAM6B,EAAU,CACd,SAAU5I,GAAY7E,EAAI,iBAAmBA,EAAI,iBACjD,SAAU6E,GAAY7E,EAAI,iBAAmBA,EAAI,iBACjD,UAAWA,EAAI,iBACjB,EAEI,GADI,QAAA,IAAI,yDAA0DyN,CAAO,EACzEA,EAAQ,WAAa,IAAK,CAE5Bb,GAAmB,MAAS,EAC5B,MAAA,CAGE,GAAAnB,EAAQ,UAAYF,EAAM,OAI9B,GAFQ,QAAA,IAAI,6DAA8DjB,CAAW,EAEjFE,EAAc,CAChBoC,GAAmBa,CAAO,EAC1B,MAAA,CAIF,GAAInD,IAAgB,OAAQ,CAEpB,MAAAoD,EAAoB7I,GAAY,CAACkI,EAAeA,EAC9C,QAAA,IAAI,mEAAoEW,CAAiB,EACjG,QAAQ,IAAI,0EAA2E,CAAC9B,EAAgB,OAAO,EAE3G8B,EACE,CAAC9B,EAAgB,SACX,QAAA,IAAI,iEAAkER,CAAe,EAC7FA,EAAgBzE,GAAsB8G,EAAQ,SAAS,SAAA,EAAY5I,GAAYF,GAAA,YAAAA,EAAQ,SAAWC,GAAA,YAAAA,EAAQ,QAAQ,EAAE,SAAA,CAAU,GAE9HwG,EAAgB,EAAE,EAGhB,CAACS,EAAgB,QACnBX,EAAgBvE,GAAsB8G,EAAQ,SAAS,SAAA,EAAY5I,GAAYD,GAAA,YAAAA,EAAQ,SAAWD,GAAA,YAAAA,EAAQ,QAAQ,EAAE,SAAA,CAAU,EAE9HuG,EAAgB,EAAE,CAEtB,EAIEZ,IAAgB,QAAU,CAACE,IAC7BoC,GAAmBa,CAAO,QAErB1M,GAAO,CACN,QAAA,IAAI,uDAAwDA,EAAK,EAErE,OAAOA,EAAK,EAAE,QAAQ,qBAAqB,EAAI,GAI3C,QAAA,IAAI,6BAA8BA,EAAK,EAC/C6L,GAAmB,MAAS,CAAA,QAC5B,CAAA,CAIN,EACgE,GAAG,EAG7De,GAA0B,CAAC1E,EAAgB8D,EAAuBa,EAA4B,GAAMZ,KAAyB,CAG7H,GAFI,QAAA,IAAI,mEAAoE/D,EAAQ+D,EAAY,EACpG1B,EAAcyB,CAAY,EACtB,CAAC9D,GAAU,CAAC+D,GAAc,CAC5BJ,GAAmB,MAAS,EAE5B1B,EAAgB,EAAE,EAClBE,EAAgB,EAAE,EAClB,MAAA,CAcF,IAZIvG,EAAY,CAACkI,EAAeA,IAC9B7B,EAAgBjC,CAAM,EAClB2E,GAAoB,CAACpD,GACvBY,EAAgB,EAAE,IAGpBA,EAAgBnC,CAAM,EAClB2E,GAAoB,CAACpD,GACvBU,EAAgB,EAAE,GAIlB,CAACjC,EAAQ,CACX,GAAIuB,GAAgBF,GAAe,SAAW,CAACrB,GAAU,CAAC+D,IAAe,CACvEJ,GAAmB,MAAS,EAE5B,MAAA,CAEF,MAAMrB,GAAOsC,GAAG,EACR,QAAA,IAAI,mEAAoE5E,CAAM,EAC9E,QAAA,IAAI,yEAA0E+D,EAAY,EAC1F,QAAA,IAAI,iEAAkEzB,EAAI,EAClFC,EAAQD,EAAI,EAIZsB,GAAsB5D,EAAQ8D,EAAcxB,GAAM1G,EAAWmI,EAAY,CAAA,MAEpExC,EAEMF,GAAe,OACxBsC,GAAmB,MAAS,GAExBtC,IAAe3F,GAAA,YAAAA,EAAQ,YAAa2F,IAAe1F,GAAA,YAAAA,EAAQ,aAC5CkH,EAAA,EALFA,EAAA,CASvB,EAGMgC,GAAoB,IAAM,CACxB,MAAA7E,EAAS0C,EAAc,QACzB9G,EACEgH,EAAgB,QAChBD,EAAgB,QAClB/G,EACE+G,EAAgB,QAChBC,EAAgB,QAChBmB,EAAerB,EAAc,QAC9B9G,EAEC+G,EAAgB,QADhBC,EAAgB,QAEjBhH,EAECgH,EAAgB,QADhBD,EAAgB,QAEtB,GAAI,EAAApB,GAAgBF,GAAe,SAAW,CAACrB,GAAU,CAAC+D,IAG1D,IAAI,CAAC/D,EAAQ,CACX,MAAMsC,EAAOsC,GAAG,EAChBrC,EAAQD,CAAI,EACZsB,GAAsB5D,EAAQ0C,EAAc,QAASJ,EAAM1G,EAAWmI,CAAY,CAAA,CAG5E,QAAA,IAAI,mEAAoEA,CAAY,EACpF,QAAA,IAAI,6DAA8D/D,CAAM,EAClF,EAGAjF,EAAAA,UAAU,IAAM,CACG8H,EAAA,CAAA,EAChB,CAACxB,CAAW,CAAC,EAEhB,KAAM,CAACyD,EAAeC,CAAgB,EAAI1K,EAAAA,SAAkB,EAAK,EAC3D,CAAE,0BAAA2K,EAA2B,wBAAAC,EAAyB,oBAAAC,CAAA,EAAwBC,GAAe,EAE7FC,GAAc,SAAY,CAC9B,GAAIjN,EAAU,CACZ4M,EAAiB,EAAI,EAErB,MAAMM,EAAgB,CACpB,QAASlN,EACT,SAAU,OACRyD,EAAYuI,GAAiBjC,GAAgB,EAAG,OAAOxG,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAAIyI,GAAiBnC,GAAgB,EAAG,OAAOtG,GAAA,YAAAA,EAAQ,QAAQ,CAAC,CAC1I,EACA,SAAU,OACRE,EAAYuI,GAAiBnC,GAAgB,EAAG,OAAOrG,GAAA,YAAAA,EAAQ,QAAQ,CAAC,EAAIwI,GAAiBjC,GAAgB,EAAG,OAAOvG,GAAA,YAAAA,EAAQ,QAAQ,CAAC,CAAA,CAE5I,EACQ,QAAA,IAAI,8DAA+D0J,CAAa,EAExF,MAAMC,EAAuB,CAC3B,YAAa,CAACC,EAA+BC,GAAiDzO,KAAc,CAClG,QAAA,IAAI,oDAAqDA,EAAG,EAEpE,MAAM0O,GACJ,WACA,CACEC,GAA8B1D,EAA6BpG,EAAYD,GAAA,YAAAA,EAAQ,OAASD,GAAA,YAAAA,EAAQ,MAAM,EACtGgK,GAA8BxD,EAA6BtG,EAAYF,GAAA,YAAAA,EAAQ,OAASC,GAAA,YAAAA,EAAQ,MAAM,CAErG,EAAA,OAAO,OAAO,EACd,KAAK,OAAO,EAEXX,EAAuB,CAC3B,qBAAsByK,GACtB,eAAgBA,EAClB,EAEA,GAAIF,IAAW,UAAW,CACxB,IAAII,EAAU3D,EACV4D,EAAU1D,EAEVnL,IACEA,GAAA,OAAO,QAAiB8O,GAAA,CAClB,QAAA,IAAI,sDAAuDA,CAAK,EACpEA,EAAM,KAAK,QAAQ,sBAAsB,EAAI,IAAMnK,GAAUC,IAC/DgK,EAAU,OAAO3H,GAAmB6H,EAAM,WAAW,SAAUnK,EAAO,QAAQ,CAAC,EACvE,QAAA,IAAI,wDAAyDiK,CAAO,EAC5EC,EAAU,OAAO5H,GAAmB6H,EAAM,WAAW,SAAUlK,EAAO,QAAQ,CAAC,EACvE,QAAA,IAAI,wDAAyDiK,CAAO,EAC9E,CACD,EAOH,MAAMH,EACJ,WACA,CACEC,GAAkB9J,EAAYgK,EAAUD,EAAS/J,EAAYD,GAAA,YAAAA,EAAQ,OAASD,GAAA,YAAAA,EAAQ,MAAM,EAC5FgK,GAAkB9J,EAAY+J,EAAUC,EAAShK,EAAYF,GAAA,YAAAA,EAAQ,OAASC,GAAA,YAAAA,EAAQ,MAAM,CAE3F,EAAA,OAAO,OAAO,EACd,KAAK,OAAO,EAEjBX,EAAK,wBAA0ByK,EAC/BzK,EAAK,qBAAuByK,EAC5BzK,EAAK,eAAiB,oBAAA,CAGjB,OAAAA,CAAA,CAEX,EACAiK,EAAwBK,CAAS,EAE7B,GAAA,CACF,MAAMQ,EAAM,MAAMjK,EAAkB,OAAO,oBAAoBwJ,CAAa,EAChE,MAAML,EAA0Bc,EAAKR,EAAW,CAC1D,OAAQ7D,GACR,SAAU,uBACV,YAAaE,IAAoB,YACjC,aAAAD,EACA,eAAAE,EACA,YAAa,CACX,OAAQmE,GAAwB,kBAChC,UAAWV,CAAA,CACb,CACD,GAGkBxC,EAAA,EACLvB,EAAA,GAEMuD,GAAA,OAEN,CACdK,EAAoBI,CAAS,CAAA,CAC/B,CAEJ,EAGMzC,EAAmB,IAAM,CAC7BZ,EAAgB,EAAE,EAClBE,EAAgB,EAAE,EAElBwB,GAAmB,MAAS,EAC5BpB,EAAQ,EAAE,CAEZ,EACM,CAAE,kBAAAyD,IAAsBzK,GAAwBmH,EAAc,QAA8B/G,GAAA,YAAAA,EAAQ,UAA5BD,GAAA,YAAAA,EAAQ,SAA6B,EAE7GuK,GAAmB7K,EAAAA,QAAQ,IAAM,CACjC,GAAAiG,IAAgB,QAAU3F,GAAUC,EAAQ,CACxC,MAAAqE,EAAS0C,EAAc,QAAUV,EAAeE,EAChD8B,EAAWtB,EAAc,QAAUhH,EAASC,EAC5CuK,EAAcxD,EAAc,QAAU/G,EAASD,EAGjD,GADI,QAAA,IAAI,qEAAsEgI,CAAe,EAC7FA,GAAmBA,EAAgB,YAAa,CAClD,MAAMyC,GAAezI,GAAsBgG,EAAgB,YAAY,eAAgBM,EAAS,QAAQ,EAClGoC,GAAgB1I,GACpBrF,EAAEqL,EAAgB,YAAY,eAAe,EAC1C,IAAI,EAAI,OAAOlC,CAAc,CAAC,EAC9B,SAAS,EACZ0E,EAAY,QACd,EAEA,OAAIG,GAAW,UAAUrC,EAAS,SAAS,EAClC,iBAAiBsC,GAA2BlN,GAAa4G,EAAQ,CAAC,EAAE,SAAS,EAAG,CAAC,CAAC,SAASsG,GAA2BlN,GAAa+M,GAAc,CAAC,EAAE,SAAA,EAAY,CAAC,CAAC,6BAA6BD,GAAA,YAAAA,EAAa,MAAM,QAAQF,EAAiB,kDAE7O,iBAAiBM,GAA2BlN,GAAa4G,EAAQ,CAAC,EAAE,WAAY,CAAC,CAAC,IAAIgE,GAAA,YAAAA,EAAU,MAAM,KAAKsC,GAA2BlN,GAAa+M,GAAc,CAAC,EAAE,SAAS,EAAG,CAAC,CAAC,IAAInC,GAAA,YAAAA,EAAU,MAAM,uBAAuBsC,GAA2BlN,GAAagN,GAAe,CAAC,EAAE,SAAS,EAAG,CAAC,CAAC,IAAIF,GAAA,YAAAA,EAAa,MAAM,uCAAA,CACrU,GAID,CAAC7E,EAAaqC,EAAiB1B,EAAcE,CAAY,CAAC,EAEvDqE,GAAuBnL,EAAAA,QAAQ,KAC3B,QAAA,IAAI,0EAA2E+H,EAAiB5B,CAAY,EAChH4B,GAAmB5B,EACdlJ,EAAE8K,CAAe,EAAE,GAAG,CAAC,GAAK9K,EAAE8K,CAAe,EAAE,GAAG,IAAM,EAE1D,IACN,CAAC5B,EAAc4B,CAAe,CAAC,EAE3B,MAAA,CACL,wBAAAuB,GACA,WAAAtC,EACA,aAAAJ,EACA,aAAAE,EACA,aAAAa,GACA,aAAAC,GACA,aAAAC,EACA,aAAAC,EACA,oBAAAI,GACA,gBAAAH,EACA,gBAAAO,EACA,iBAAAuC,GACA,YAAAb,GACA,kBAAAP,GACA,YAAAxB,GACA,YAAAD,GACA,mBAAAI,GACA,qBAAA+C,EACF,CACF,CCjfA,SAAwBC,GAAmBnF,EAA8BC,EAAyBnJ,EAAmBuD,EAAgBC,EAAgB,CACnJ,KAAM,CAAE,iBAAAmG,EAAkB,oBAAA/F,CAAoB,EAAIC,GAAc,EAC1D,CAAE,sBAAA+F,CAAsB,EAAI1M,GAAmB,EAC/C,CAAE,UAAAmL,CAAU,EAAI1E,GAAqB,EACrC,CAAE,eAAA0F,EAAgB,WAAAC,GAAY,aAAAC,EAAc,gBAAAC,EAAiB,eAAAC,GAAmBC,GAAe,EAE/F,CAACG,EAAcC,CAAe,EAAI5H,EAAAA,SAAiB,EAAE,EACrD,CAAC6H,EAAcC,CAAe,EAAI9H,EAAAA,SAAiB,EAAE,EACrD,CAAC+H,EAAYC,CAAa,EAAIhI,EAAAA,SAAkB,EAAI,EACpD,CAACiI,EAAMC,CAAO,EAAIlI,EAAAA,SAAiB,EAAE,EAErCmI,EAAUC,SAAe,EAAE,EAC3BC,EAAgBD,SAAgB,EAAI,EACpCE,EAAkBF,SAAe,EAAE,EACnCG,EAAkBH,SAAe,EAAE,EAEzC1H,EAAAA,UAAU,IAAM,CACdyH,EAAQ,QAAUF,CAAA,EACjB,CAACA,CAAI,CAAC,EAETvH,EAAAA,UAAU,IAAM,CACd2H,EAAc,QAAUN,CAAA,EACvB,CAACA,CAAU,CAAC,EAEfrH,EAAAA,UAAU,IAAM,CACd4H,EAAgB,QAAUX,CAAA,EACzB,CAACA,CAAY,CAAC,EAEjBjH,EAAAA,UAAU,IAAM,CACd6H,EAAgB,QAAUV,CAAA,EACzB,CAACA,CAAY,CAAC,EAGjBnH,EAAAA,UAAU,IAAM,CACd,MAAM+H,EAAyB,CAAC,EAC5BpH,GAAUC,IACCmH,EAAA,KAAKpH,EAAO,SAAS,EACrBoH,EAAA,KAAKnH,EAAO,SAAS,GAEhCmH,EAAa,OAAS,GACxBhB,EAAiBgB,CAAY,GAE9B,CAACpH,GAAA,YAAAA,EAAQ,UAAWC,GAAA,YAAAA,EAAQ,SAAS,CAAC,EAGzC,KAAM,CAAE,YAAaoH,GAAiBpC,GAAmBjF,CAAM,EACzD,CAAE,YAAasH,GAAiBrC,GAAmBhF,CAAM,EAGzDsH,EAAelH,EAAoBL,GAAA,YAAAA,EAAQ,UAAWsG,CAAY,EAClEkB,EAAenH,EAAoBJ,GAAA,YAAAA,EAAQ,UAAWuG,CAAY,EAElEiB,GAAkB/H,EAAAA,QAAQ,IACvB/C,EAAE4K,GAAgB,GAAG,EACzB,IAAIC,GAAgB,GAAG,EACvB,SAAS,EACX,CAACD,EAAcC,CAAY,CAAC,EAGzB,CAACI,GAAqBC,CAAsB,EAAIlJ,EAAAA,SAAkB,EAAK,EACvE,CAACqJ,EAAiBC,CAAkB,EAAItJ,EAAAA,SAA4C,MAAS,EA2D7FuJ,GAAwBC,GAxDT,MAAO7D,EAAgB8D,EAAuBxB,IAAiB,CAC9E,GAAA5G,GAAUC,GAAUxD,EAClB,GAAA,CACFoL,EAAuB,EAAI,EAC3BxB,EAAsB,CAAC,EAEvB,MAAMmC,EAAcC,GAAiBnE,GADpB8D,EAAepI,EAASC,GACa,QAAQ,EAAE,QAAQ,CAAC,EACnE2I,GAAgC,CACpC,SAAUnM,EACV,aAAA2L,EACA,aAAcI,EACd,SAAU,OAAO1C,CAAc,EAC/B,WAAYc,EACZ,KAAMjB,IAAgB,OAASoF,GAAU,KAAOA,GAAU,OAC5D,EACQ,QAAA,IAAI,8BAA+BnC,GAAQhC,CAAI,EACvD,MAAMvL,EAAM,MAAMyJ,EAAU,OAAO,uBAAuB8D,GAAQ,GAAO,EAAI,EAC7E,QAAQ,IAAI,2BAA4B,CACtC,GAAGvN,EACH,KAAAuL,EACA,YAAAjB,EACA,2BAA4B,CAACsB,EAAgB,OAAA,CAC9C,EAEGH,EAAQ,UAAYF,IAElBjB,IAAgB,SACdyC,EACE,CAACnB,EAAgB,SACHR,EAAAzE,GAAsB3G,EAAI,SAAS,WAAY4E,EAAO,QAAQ,EAAE,UAAU,EAC1FgI,EAAmB5M,CAAG,GAEtBoL,EAAgB,EAAE,EAGhB,CAACS,EAAgB,SACHX,EAAAvE,GAAsB3G,EAAI,SAAS,WAAY2E,EAAO,QAAQ,EAAE,UAAU,EAC1FiI,EAAmB5M,CAAG,GAEtBkL,EAAgB,EAAE,GAKpBZ,IAAgB,QAClBsC,EAAmB5M,CAAG,SAGnBe,EAAO,CACN,QAAA,IAAI,6BAA8BA,CAAK,EAC/C6L,EAAmB,MAAS,CAAA,QAC5B,CACAJ,EAAuB,EAAK,CAAA,CAGlC,EACgE,GAAG,EAG7DmB,GAA0B,CAAC1E,EAAgB8D,EAAuBa,EAA4B,KAAS,CAc3G,GAbAtC,EAAcyB,CAAY,EACtBA,GACF7B,EAAgBjC,CAAM,EAClB2E,GACFxC,EAAgB,EAAE,IAGpBA,EAAgBnC,CAAM,EAClB2E,GACF1C,EAAgB,EAAE,GAIlB,CAACjC,EAAQ,CACL,MAAA0G,EAAYL,GAAW,UAAUhF,CAAW,EAElD,GAAIqF,GAAarO,EAAE2H,CAAM,EAAE,GAAG,CAAC,EAAG,CAChCuC,EAAQ,EAAE,EACVoB,EAAmB,MAAS,EAC5BJ,EAAuB,EAAK,EAC5B,MAAA,CAEF,GAAI,CAACmD,EAAW,CAER,MAAAC,GAAc5K,EAAoBsF,EAAarB,CAAM,EAC3D,GAAI3H,EAAEsO,EAAW,EAAE,GAAG,GAAK,EAAG,CAC5BpE,EAAQ,EAAE,EACVoB,EAAmB,MAAS,EAC5BJ,EAAuB,EAAK,EAC5B,MAAA,CACF,CAGF,MAAMjB,EAAOsC,GAAG,EAChBrC,EAAQD,CAAI,EACRjB,IAAgB,QAClBkC,EAAuB,EAAI,EAEPK,GAAA5D,EAAQ8D,EAAcxB,CAAI,CAAA,MAE/BO,GAAA,CAErB,EAGMgC,GAAoB,IAAM,CAC9B,MAAM7E,EAAS0C,EAAc,QAAUC,EAAgB,QAAUC,EAAgB,QACjF,GAAI,CAAC5C,EAAQ,CACX,MAAMsC,EAAOsC,GAAG,EAChBrC,EAAQD,CAAI,EACUsB,GAAA5D,EAAQ0C,EAAc,QAASJ,CAAI,CAAA,CAE7D,EAGAvH,EAAAA,UAAU,IAAM,CACG8H,GAAA,CAAA,EAChB,CAACxB,CAAW,CAAC,EAEhB,KAAM,CAACyD,GAAeC,EAAgB,EAAI1K,EAAAA,SAAkB,EAAK,EAC3D,CAAE,0BAAA2K,EAAoD,oBAAAE,IAAwBC,GAAe,EAE7FC,GAAc,SAAY,CAC9B,GAAIjN,EAAU,CACZ4M,GAAiB,EAAI,EACrB,MAAM6B,EAAezC,GAAiB/B,EAAaJ,EAAeE,EAAc,CAAC,EAC3EoC,EAAwB,CAC5B,SAAUnM,EACV,KAAMkJ,IAAgB,OAASoF,GAAU,KAAOA,GAAU,QAC1D,aAAcrE,EACd,aAAcwE,EAAa,SAAS,EACpC,SAAU,OAAOpF,CAAc,CACjC,EACQ,QAAA,IAAI,6BAA8B8C,CAAM,EAGhD,MAAMgB,EAAuB,CAC3B,YAAa,CAACC,EAA+BC,IAAoD,CAC/F,MAAMC,GACJ,WACA,CAACC,GAAkB1D,EAActG,GAAA,YAAAA,EAAQ,MAAM,EAAGgK,GAAkBxD,EAAcvG,GAAA,YAAAA,EAAQ,MAAM,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,OAAO,EAE3HX,EAAuB,CAC3B,qBAAsByK,GACtB,eAAgBA,EAClB,EAEA,GAAIF,IAAW,UAAW,CACxB,IAAII,GAAU3D,EACV4D,GAAU1D,EAEVsD,IACQG,GAAAtN,EAAE2J,CAAY,EAAE,GAAG,CAAC,EAAI6E,GAAkBrB,EAAgB9J,CAAM,GAAKsG,EAAe,GACpF4D,GAAAvN,EAAE6J,CAAY,EAAE,GAAG,CAAC,EAAI2E,GAAkBrB,EAAgB7J,CAAM,GAAKuG,EAAe,IAEhG,MAAMuD,GACJ,WAAa,CAACC,GAAkBC,GAASjK,GAAA,YAAAA,EAAQ,MAAM,EAAGgK,GAAkBE,GAASjK,GAAA,YAAAA,EAAQ,MAAM,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,OAAO,EAEpIX,EAAK,wBAA0ByK,GAC/BzK,EAAK,qBAAuByK,GAC5BzK,EAAK,eAAiB,oBAAA,CAGjB,OAAAA,CAAA,CAEX,EAEI,GAAA,CAKU,MAAMgK,EAJN,SACH,MAAMxE,EAAU,OAAO,QAAQ8D,CAAM,EAGGgB,EAAW,CAC1D,OAAQ7D,GACR,SAAU,uBACV,YAAaE,IAAoB,YACjC,aAAAD,EACA,eAAAE,EACA,YAAa,CACX,OAAQmE,GAAwB,kBAChC,UAAWzB,CAAA,CACb,CACD,GAGkBzB,GAAA,EACLvB,EAAA,GAEMuD,GAAA,QAEb/M,EAAO,CACN,QAAA,IAAI,4BAA6BA,CAAK,EAC9CoN,GAAoBI,CAAS,CAAA,CAC/B,CAEJ,EAGMzC,GAAmB,IAAM,CAC7BZ,EAAgB,EAAE,EAClBE,EAAgB,EAAE,EAClBoB,EAAuB,EAAK,EAC5BI,EAAmB,MAAS,EAC5BpB,EAAQ,EAAE,CACZ,EACM,CAAE,kBAAAyD,IAAsBzK,GAAwBmH,EAAc,QAA8B/G,GAAA,YAAAA,EAAQ,UAA5BD,GAAA,YAAAA,EAAQ,SAA6B,EAE7GuK,GAAmB7K,EAAAA,QAAQ,IAAM,CAEjC,GADI,QAAA,IAAI,iEAAkEiG,CAAW,EACrFA,IAAgB,QAAU3F,GAAUC,EAAQ,CACxC,MAAAqE,EAAS0C,EAAc,QAAUV,EAAeE,EAChD8B,EAAWtB,EAAc,QAAUhH,EAASC,EAC5CuK,EAAcxD,EAAc,QAAU/G,EAASD,EAGjD,GADI,QAAA,IAAI,qEAAsEgI,CAAe,EAC7FA,GAAmBA,EAAgB,YAAa,CAClD,MAAMyC,EAAezI,GAAsBgG,EAAgB,YAAY,eAAgBM,EAAS,QAAQ,EAClGoC,EAAgB1I,GACpBrF,EAAEqL,EAAgB,YAAY,eAAe,EAC1C,IAAI,EAAI,OAAOlC,CAAc,CAAC,EAC9B,SAAS,EACZ0E,EAAY,QACd,EAEA,OAAIG,GAAW,UAAUrC,EAAS,SAAS,EAClC,iBAAiBsC,GAA2BlN,GAAa4G,EAAQ,CAAC,EAAE,SAAS,EAAG,CAAC,CAAC,SAASsG,GAA2BlN,GAAa+M,EAAc,CAAC,EAAE,SAAA,EAAY,CAAC,CAAC,6BAA6BD,GAAA,YAAAA,EAAa,MAAM,QAAQF,EAAiB,kDAE7O,iBAAiBM,GAA2BlN,GAAa4G,EAAQ,CAAC,EAAE,WAAY,CAAC,CAAC,IAAIgE,GAAA,YAAAA,EAAU,MAAM,KAAKsC,GAA2BlN,GAAa+M,EAAc,CAAC,EAAE,SAAS,EAAG,CAAC,CAAC,IAAInC,GAAA,YAAAA,EAAU,MAAM,uBAAuBsC,GAA2BlN,GAAagN,EAAe,CAAC,EAAE,SAAS,EAAG,CAAC,CAAC,IAAIF,GAAA,YAAAA,EAAa,MAAM,uCAAA,SAE/T,CAACG,GAAW,UAAUhF,CAAW,EAAG,CAChC,MAAAsF,EAAc5K,EAAoBsF,EAAarB,CAAM,EAE3D,GADQ,QAAA,IAAI,iEAAkE2G,CAAW,EACrFtO,EAAEsO,CAAW,EAAE,GAAG,GAAK,EAClB,MAAA,8DACT,CAEJ,GAID,CAACtF,EAAaqC,EAAiB1B,EAAcE,CAAY,CAAC,EAEtD,MAAA,CACL,wBAAAwC,GACA,WAAAtC,EACA,aAAAJ,EACA,aAAAE,EACA,aAAAa,EACA,aAAAC,EACA,aAAAC,EACA,aAAAC,EACA,oBAAAI,GACA,gBAAAH,GACA,gBAAAO,EACA,iBAAAuC,GACA,YAAAb,GACA,kBAAAP,EACF,CACF,CC5UA,SAAwBiC,GACtBvF,EACAF,EACA0F,EACA/E,EACAE,EACAE,EACA4E,EACAC,EACAvL,EACAC,EACAuL,GACA9D,EACAM,EACAL,EACAkD,EACA,CACM,KAAA,CAAE,eAAAtK,CAAe,EAAIC,GAAgB,EAGrCiL,EAAgB/L,EAAAA,QAAQ,IAAM,CAClC,MAAMgM,EAGF,CACF,KAAM,OACN,SAAU,EACZ,EAGI,GAAA,EAACnL,GAAA,MAAAA,EAAgB,SACnB,OAAAmL,EAAQ,KAAO,iBACfA,EAAQ,SAAW,GACZA,EAGL,GAAA,CAAC1L,GAAU,CAACC,EACd,OAAAyL,EAAQ,SAAW,GACZA,EAKT,GAAI/F,IAAgB,SACd,CAAC,CAACW,GAAgB,CAAC,CAACE,GAKpBX,IAAiB,CAAC,CAACS,GAAgB,CAAC,CAACE,IACvC,OAAAkF,EAAQ,KAAO,kBACfA,EAAQ,SAAW,GACZA,EAIX,GAAI/F,IAAgB,OAAQ,CAC1B,GAAI,EAAE,CAACW,GAAgB,CAACE,GACtB,OAAAkF,EAAQ,KAAO,kBACfA,EAAQ,SAAW,GACZA,EAGL,GAAAL,GAAS,CAACG,GAAiB,CACvB,MAAAG,EAAQhB,GAAW,UAAUhF,CAAW,EAC9C,GACGgG,GAAShG,KAAgB3F,GAAA,YAAAA,EAAQ,YAAarD,EAAE2J,CAAY,EAAE,GAAG,CAAC,GAClEqF,GAAShG,KAAgB1F,GAAA,YAAAA,EAAQ,YAAatD,EAAE6J,CAAY,EAAE,GAAG,CAAC,EAEnE,OAAAkF,EAAQ,KAAO,wBACfA,EAAQ,SAAW,GACZA,CACT,CACF,CAgBE,GAZAL,GAAS3D,GAAe,CAACC,GAMzB,CAAC0D,GAAS1D,GAMV0D,GAASxF,GAAgBgF,EAC3B,OAAAa,EAAQ,KAAO,kBACfA,EAAQ,SAAW,GACZA,EAKT,GAAI/F,IAAgB,OAAQ,CAC1B,GAAIhJ,EAAE2J,CAAY,EAAE,GAAGgF,GAAY,GAAG,EACpC,OAAAI,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBrL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3D0L,EAET,GAAI/O,EAAE6J,CAAY,EAAE,GAAG+E,GAAY,GAAG,EACpC,OAAAG,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBpL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3DyL,CACT,CAGF,GAAI/F,IAAgB,OAAQ,CAC1B,GAAIe,GAAc/J,EAAE2J,CAAY,EAAE,GAAGgF,GAAY,GAAG,EAClD,OAAAI,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBrL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3D0L,EAEL,GAAA,CAAChF,GAAc/J,EAAE6J,CAAY,EAAE,GAAG+E,GAAY,GAAG,EACnD,OAAAG,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBpL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3DyL,CACT,CAGG,OAAA1D,GAAmBA,EAAgB,WAAa,KAASA,GAAmBA,EAAgB,gBAAkB,KAAQ,CAACA,KAC1H0D,EAAQ,SAAW,GACnBA,EAAQ,KAAO,mBACRA,CAIR,EAAA,CAACnL,GAAA,YAAAA,EAAgB,QAASoF,EAAaW,EAAcE,EAAc8E,EAAUC,EAAUvD,EAAiBqD,EAAO3D,CAAW,CAAC,EAEvH,MAAA,CACL,QAAS+D,EAAc,KACvB,YAAaA,EAAc,QAC7B,CACF,CCxIwB,SAAAG,GACtB/F,EACAF,EACA0F,EACA/E,EACAE,EACAE,EACA4E,EACAC,EACAvL,EACAC,EACA,CACM,KAAA,CAAE,eAAAM,EAAe,EAAIC,GAAgB,EAGrCiL,EAAgB/L,EAAAA,QAAQ,IAAM,CAClC,MAAMgM,EAGF,CACF,KAAM,OACN,SAAU,EACZ,EAGI,GAAA,EAACnL,IAAA,MAAAA,GAAgB,SACnB,OAAAmL,EAAQ,KAAO,iBACfA,EAAQ,SAAW,GACZA,EAGL,GAAA,CAAC1L,GAAU,CAACC,EACd,OAAAyL,EAAQ,SAAW,GACZA,EAKT,GAAI/F,IAAgB,QACd,CAAC,CAACW,GAAgB,CAAC,CAACE,EACtB,OAAAkF,EAAQ,KAAO,kBACfA,EAAQ,SAAW,GACZA,EAIX,GAAI/F,IAAgB,OAAQ,CAC1B,GAAI,EAAE,CAACW,GAAgB,CAACE,GACtB,OAAAkF,EAAQ,KAAO,kBACfA,EAAQ,SAAW,GACZA,EAGT,GAAIL,EAAO,CACH,MAAAM,EAAQhB,GAAW,UAAUhF,CAAW,EAC9C,GACGgG,GAAShG,KAAgB3F,GAAA,YAAAA,EAAQ,YAAarD,EAAE2J,CAAY,EAAE,GAAG,CAAC,GAClEqF,GAAShG,KAAgB1F,GAAA,YAAAA,EAAQ,YAAatD,EAAE6J,CAAY,EAAE,GAAG,CAAC,EAEnE,OAAAkF,EAAQ,KAAO,wBACfA,EAAQ,SAAW,GACZA,CACT,CACF,CAKF,GAAI/F,IAAgB,OAAQ,CAC1B,GAAIhJ,EAAE2J,CAAY,EAAE,GAAGgF,GAAY,GAAG,EACpC,OAAAI,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBrL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3D0L,EAET,GAAI/O,EAAE6J,CAAY,EAAE,GAAG+E,GAAY,GAAG,EACpC,OAAAG,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBpL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3DyL,CACT,CAGF,GAAI/F,IAAgB,OAAQ,CAC1B,GAAIe,GAAc/J,EAAE2J,CAAY,EAAE,GAAGgF,GAAY,GAAG,EAClD,OAAAI,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBrL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3D0L,EAEL,GAAA,CAAChF,GAAc/J,EAAE6J,CAAY,EAAE,GAAG+E,GAAY,GAAG,EACnD,OAAAG,EAAQ,SAAW,GACnBA,EAAQ,KAAOL,EAAQ,gBAAgBpL,GAAA,YAAAA,EAAQ,MAAM,WAAa,iBAC3DyL,CACT,CAGE,OAAA7F,GAAgBF,IAAgB,QAC1B+F,EAAA,KAAOL,EAAQ,SAAW,UAC3BK,IAGD,QAAA,IAAI,oCAAqCA,CAAO,EACjDA,EAAA,EACN,CAACnL,IAAA,YAAAA,GAAgB,QAASoF,EAAaW,EAAcE,EAAc8E,EAAUC,CAAQ,CAAC,EAElF,MAAA,CACL,QAASE,EAAc,KACvB,YAAaA,EAAc,QAC7B,CACF,CChGA,SAAwBI,GACtBlG,EACAC,EACAlD,EACAoJ,EACAC,EACAtP,EACAuD,EACAC,EACAC,EACA8L,EACAC,GACApG,EACAqG,EACA,CACA,KAAM,CAAE,eAAApG,EAAgB,WAAAC,EAAY,aAAAC,EAAc,gBAAAC,EAAiB,eAAAC,GAAmBC,GAAe,EAC/F,CAAE,eAAA5F,CAAe,EAAIC,GAAgB,EACrC,CAAE,sBAAA6F,CAAsB,EAAI7G,GAA2B,EACvD,CAAE,iBAAA4G,EAAkB,oBAAA/F,CAAoB,EAAIC,GAAc,EAC1D,CAAE,kBAAAH,CAAkB,EAAIC,GAAqB,EAE7C,CAACkG,EAAcC,CAAe,EAAI5H,EAAAA,SAAiB,EAAE,EACrD,CAAC6H,EAAcC,CAAe,EAAI9H,EAAAA,SAAiB,EAAE,EACrD,CAAC+H,EAAYC,CAAa,EAAIhI,EAAAA,SAAkB,EAAI,EACpD,CAACiI,EAAMC,EAAO,EAAIlI,EAAAA,SAAiB,EAAE,EACrC,CAACwN,GAAgBC,CAAiB,EAAIzN,EAAAA,SAAkB,EAAK,EAC7D,CAAC0N,EAAeC,CAAgB,EAAI3N,EAAAA,SAAiB,CAAC,EAEtDmI,GAAUC,SAAeH,CAAI,EAC7BI,GAAgBD,SAAgBL,CAAU,EAC1CO,GAAkBF,SAAeT,CAAY,EAC7CY,GAAkBH,SAAeP,CAAY,EAC7C+F,GAAoBxF,SAAgBoF,EAAc,EAClDK,GAAmBzF,SAAesF,CAAa,EAErDhN,EAAAA,UAAU,IAAM,CACdmN,GAAiB,QAAUH,CAAA,EAC1B,CAACA,CAAa,CAAC,EAElBhN,EAAAA,UAAU,IAAM,CACdkN,GAAkB,QAAUJ,EAAA,EAC3B,CAACA,EAAc,CAAC,EAEnB9M,EAAAA,UAAU,IAAM,CACdyH,GAAQ,QAAUF,CAAA,EACjB,CAACA,CAAI,CAAC,EAETvH,EAAAA,UAAU,IAAM,CACd2H,GAAc,QAAUN,CAAA,EACvB,CAACA,CAAU,CAAC,EAEfrH,EAAAA,UAAU,IAAM,CACE4H,GAAA,QAAsBX,CACrC,EAAA,CAACA,EAAcpG,EAAWsG,CAAY,CAAC,EAE1CnH,EAAAA,UAAU,IAAM,CACE6H,GAAA,QAAsBV,CACrC,EAAA,CAACA,EAActG,EAAWoG,CAAY,CAAC,EAG1CjH,EAAAA,UAAU,IAAM,CACd,MAAM+H,EAAyB,CAAC,EAC5BpH,GAAUC,IACCmH,EAAA,KAAKpH,EAAO,SAAS,EACrBoH,EAAA,KAAKnH,EAAO,SAAS,GAEhCmH,EAAa,OAAS,GACxBhB,EAAiBgB,CAAY,GAE9B,CAACpH,GAAA,YAAAA,EAAQ,UAAWC,GAAA,YAAAA,EAAQ,SAAS,CAAC,EAGzC,KAAM,CAACwM,EAAkBC,EAAmB,EAAI/N,EAAAA,SAAiB,GAAG,EAC9D,CAACgO,GAAkBC,EAAmB,EAAIjO,EAAAA,SAAiB,GAAG,EAC9D,CAACkO,GAA2BC,EAA4B,EAAInO,EAAAA,SAAkB,EAAK,EAEzFU,EAAAA,UAAU,IAAM,CACN,QAAA,IAAI,qDAAsDqD,CAAe,EAC7EA,IAAmBA,GAAA,MAAAA,EAAiB,eAAeA,GAAA,MAAAA,EAAiB,cAC7CqK,EAAA,GAE1B,CAACrK,GAAA,YAAAA,EAAiB,YAAaA,GAAA,YAAAA,EAAiB,WAAW,CAAC,EAG/DrD,EAAAA,UAAU,IAAM,CACI8J,EAAA,CAAA,EACjB,CAAC+C,GAAA,YAAAA,EAAsB,kBAAkB,CAAC,EAG7C,MAAMa,EAA2B,SAAY,CAC3C,QAAQ,IAAI,wFAAwF,EAC9F,KAAA,CAAE,YAAA1K,EAAa,YAAAE,CAAA,EAAgBG,EAEjC,GADJoK,GAA6B,EAAK,EAC9BnH,IAAgB,QAAUqG,GAAiBC,GAAa,CACtCS,GAAAxM,EAAYqC,EAAcF,CAAW,EACrCuK,GAAA1M,EAAYmC,EAAcE,CAAW,EACzD,MAAA,CAII,MAAAyK,EAAqBrH,KAAgB3F,GAAA,YAAAA,EAAQ,WAC7CiN,EAAaD,EAAqBzK,EAAcF,EAC9C,QAAA,IAAI,2EAA4E4K,CAAU,EAC5F,MAAAC,GAAeF,EAAqB3K,EAAcE,EAGxD,GAAI5F,EAAEsQ,CAAU,EAAE,GAAG,CAAC,EAAG,CACvBH,GAA6B,EAAI,EAGjC,MAAMlG,EAAOsC,GAAG,EAChBrC,GAAQD,CAAI,EAEZ,MAAM+B,GAAOhD,IAAe3F,GAAA,YAAAA,EAAQ,WAAY,YAAc,YACtD,QAAA,IAAI,mFAAoFA,GAAA,YAAAA,EAAQ,SAAS,EACzG,QAAA,IAAI,4EAA6E2F,CAAW,EACpG,MAAMiD,GAAc,CAClB,QAASnM,EACT,KAAAkM,GACA,eAAgBoD,EAChB,oBAAqBA,CACvB,EACQ,QAAA,IAAI,uEAAwEnD,EAAM,EACtF,GAAA,CACF,MAAMvN,GAAM,MAAM8E,EAAkB,OAAO,2BAA2ByI,EAAM,EAG5E,GAFQ,QAAA,IAAI,oEAAqEvN,EAAG,EAEhFsN,IAAQ,YAAa,CACvB,IAAI3I,GAAA,YAAAA,EAAQ,YAAa,OAAiB,MAAA,IAAI,MAAM,8BAA8B,EAClF,MAAMsE,GAAStC,GAAsB3G,GAAI,iBAAkB2E,GAAA,YAAAA,EAAQ,QAAQ,EACvEE,EACF0M,GAAoBtI,EAAM,EAE1BoI,GAAoBpI,EAAM,CAC5B,KACK,CACL,IAAIrE,GAAA,YAAAA,EAAQ,YAAa,OAAiB,MAAA,IAAI,MAAM,8BAA8B,EAClF,MAAMqE,GAAStC,GAAsB3G,GAAI,iBAAkB4E,GAAA,YAAAA,EAAQ,QAAQ,EACnE,QAAA,IAAI,uEAAwEqE,EAAM,EACtFpE,EACFwM,GAAoBpI,EAAM,EAE1BsI,GAAoBtI,EAAM,CAC5B,CAEFwI,GAA6B,EAAK,QAC3B1Q,GAAO,CACN,QAAA,IAAI,sEAAuEA,EAAK,CAAA,CAC1F,MAEI4Q,EACFN,GAAoBQ,EAAY,EAEhCN,GAAoBM,EAAY,CAGtC,EAGM3F,EAAelH,EAAoBH,EAAYD,GAAA,YAAAA,EAAQ,UAAYD,GAAA,YAAAA,EAAQ,UAAWsG,CAAY,EAClGkB,EAAenH,EAAoBH,EAAYF,GAAA,YAAAA,EAAQ,UAAYC,GAAA,YAAAA,EAAQ,UAAWuG,CAAY,EAElGiB,EAAkB/H,EAAAA,QAAQ,IACvB/C,EAAE4K,GAAgB,GAAG,EACzB,IAAIC,GAAgB,GAAG,EACvB,SAAS,EACX,CAACD,EAAcC,CAAY,CAAC,EACvB,QAAA,IAAI,oEAAqEA,CAAY,EACrF,QAAA,IAAI,oEAAqED,CAAY,EAG7F,KAAM,CAACK,EAAqBC,EAAsB,EAAIlJ,EAAAA,SAAkB,EAAK,EACvE,CAACqJ,EAAiBC,EAAkB,EAAItJ,EAAAA,SAAkD,MAAS,EA4KnGuJ,GAAwBC,GAnKT,MACnB7D,EACA6I,EACA/E,EACAxB,EACAyF,GACAe,IACG,CAGH,GAFQ,QAAA,IAAI,mDAAoDf,EAAa,EAEzE1P,EAAE0P,EAAa,EAAE,GAAG,GAAG,EAAG,CAC5BxF,GAAQ,EAAE,EACVoB,GAAmB,MAAS,EAC5BJ,GAAuB,EAAK,EAC5B,MAAA,CAEE,GAAA7H,GAAUC,GAAUxD,GAAYsP,EAAc,CAEhD,GAAI,CAACM,IACH,GAAIjE,GACF,GAAIzL,EAAE2H,CAAM,EAAE,GAAGpE,EAAYyM,GAAmBF,CAAgB,EAAG,CACjE5F,GAAQ,EAAE,EACVoB,GAAmB,MAAS,EAC5BJ,GAAuB,EAAK,EAC5B,MAAA,UAGElL,EAAE2H,CAAM,EAAE,GAAGpE,EAAYuM,EAAmBE,EAAgB,EAAG,CACjE9F,GAAQ,EAAE,EACVoB,GAAmB,MAAS,EAC5BJ,GAAuB,EAAK,EAC5B,MAAA,EAKNxB,EAAsB,CAAC,GACnB,CAACY,GAAgB,SAAW,CAACC,GAAgB,SAAWmF,KAC1DxE,GAAuB,EAAI,EAG7B,MAAMW,GAAc2E,EAAcxI,GAAqBL,EAAQ,EAAG,EAAI,EAAImE,GAAiBnE,GAD1E8D,EAAepI,EAASC,GACmE,QAAQ,EAAE,QAAQ,CAAC,EAE3H,IAAA2I,GAEJ,GAAIjD,GAAe,OACRiD,GAAA,CACP,QAASnM,EACT,KAAM,eACN,eAAgB,OAAO+L,EAAW,CACpC,MACK,CACL,MAAMG,GAAOhD,IAAe3F,GAAA,YAAAA,EAAQ,WAAY,YAAc,YACrD4I,GAAA,CACP,QAASnM,EACT,KAAAkM,GACA,eAAgB,OAAOH,EAAW,CACpC,CAAA,CAGF,QAAQ,IAAI,8BAA+BI,GAAQhC,EAAMyF,EAAa,EAClE,GAAA,CACF,MAAMhR,GAAM,MAAM8E,EAAkB,OAAO,2BAA2ByI,EAAM,EAC5E,QAAQ,IAAI,2BAA4B,CACtC,GAAGvN,GACH,KAAAuL,EACA,YAAAjB,CAAA,CACD,EAED,MAAMmD,GAAe,CACnB,SAAU5I,EAAY7E,GAAI,iBAAmBA,GAAI,iBACjD,SAAU6E,EAAY7E,GAAI,iBAAmBA,GAAI,iBACjD,eAAgBA,GAAI,eACpB,KAAMA,GAAI,IACZ,EAEI,GAAAyN,GAAQ,gBAAkB,IAAK,CACjCjB,GAAuB,EAAK,EAC5BI,GAAmB,MAAS,EAC5B,MAAA,CAIF,MAAMgC,GAAUjI,GAAsB8G,GAAQ,SAAS,SAAS,EAAG5I,EAAYD,EAAO,SAAWD,EAAO,QAAQ,EAAE,SAAS,EACnH,QAAA,IAAI,2DAA4DA,CAAM,EAC9E,MAAMkK,GAAUlI,GAAsB8G,GAAQ,SAAS,SAAS,EAAG5I,EAAYF,EAAO,SAAWC,EAAO,QAAQ,EAAE,SAAS,EAoC3H,GAnCA,QAAQ,IAAI,4DAA6DgK,GAASjK,EAAO,SAAUkK,GAASjK,GAAA,YAAAA,EAAQ,QAAQ,EACpH,QAAA,IAAI,4DAA6DiK,EAAO,EAE5EvE,IAAgB,SACdwH,GAAe,CAACC,GACV,QAAA,IAAI,gEAAiED,CAAW,GAC9DjN,EAAY,CAACkI,EAAeA,IAEpD,QAAQ,IAAI,6EAA8E,CAACnB,GAAgB,OAAO,EAC9G,CAACA,GAAgB,SACnB,QAAQ,IAAI,mEAAmE,EAC/ER,EAAgBzE,GAAsB8G,GAAQ,SAAS,SAAA,EAAY5I,EAAYF,GAAA,YAAAA,EAAQ,SAAWC,GAAA,YAAAA,EAAQ,QAAQ,EAAE,SAAA,CAAU,EAC9HgI,GAAmBa,EAAO,GAE1BrC,EAAgB,EAAE,GAGhB,CAACS,GAAgB,SACnBX,EAAgBvE,GAAsB8G,GAAQ,SAAS,SAAA,EAAY5I,EAAYD,GAAA,YAAAA,EAAQ,SAAWD,GAAA,YAAAA,EAAQ,QAAQ,EAAE,SAAA,CAAU,EAC9HiI,GAAmBa,EAAO,GAE1BvC,EAAgB,EAAE,GAStB0B,GAAmBa,EAAO,GAK1BnD,IAAgB,OAAQ,CAE1B,GADQ,QAAA,IAAI,kEAAmE0G,EAAa,EACxFA,GAAe,CACjB,MAAMpC,GAAUjI,GACdrF,EAAEmM,GAAQ,QAAQ,EACf,IAAIA,GAAQ,UAAY,GAAG,EAC3B,SAAS,EACZ5I,EAAYD,EAAO,SAAWD,EAAO,UACrC,SAAS,EAEP,GADI,QAAA,IAAI,4DAA6DiK,EAAO,EAC5E/J,EAAY,CAACkI,EAAeA,EAG1BiE,KAAkB,MACpBvD,GAAQ,eAAiBiD,OAGtB,CACL,MAAM7B,GAAUlI,GACdrF,EAAEmM,GAAQ,QAAQ,EACf,IAAIA,GAAQ,UAAY,GAAG,EAC3B,SAAS,EACZ5I,EAAYF,EAAO,SAAWC,EAAO,UACrC,SAAS,EAGPoM,KAAkB,MACpBvD,GAAQ,eAAiBiD,EAE3B,CACF,CAEF9D,GAAmBa,EAAO,CAAA,QAErB1M,GAAO,CACN,QAAA,IAAI,6BAA8BA,EAAK,EAC/C6L,GAAmB,MAAS,CAAA,QAC5B,CACAJ,GAAuB,EAAK,CAAA,CAC9B,CAEJ,EACgE,GAAG,EAG7DmB,EAA0B,CAC9B1E,EACA8D,EACAiF,EAAqB,GACrBC,EAA0B,GAC1BrE,GAA4B,KACzB,CAEH,GAAIoE,EAAW,CACbE,EAAyB,GAAG,EAC5B,MAAA,CAGF,GAAID,EAAgB,CAClBC,EAAyB,EAAE,EAC3B,MAAA,CAGF5G,EAAcyB,CAAY,EAC1BgE,EAAkB,EAAK,GAEnBlM,EAAY,CAACkI,EAAeA,IAC9B7B,EAAgBjC,CAAM,EAClB2E,GACFxC,EAAgB,EAAE,EAEA0C,EAAA,IAGpB1C,EAAgBnC,CAAM,EAClB2E,GACF1C,EAAgB,EAAE,EAEA4C,EAAA,GAGtB,IAAIqE,EAAcC,GAYlB,GAXQ,QAAA,IAAI,sDAAuDhB,CAAgB,EAC3E,QAAA,IAAI,sDAAuDE,EAAgB,GAC/EzM,EAAY,CAACkI,EAAeA,IAC9BqF,GAAc9Q,EAAE2H,CAAM,EAAE,IAAImI,CAAgB,EAC7Be,EAAA7I,GAAqBhI,EAAEoP,CAAY,EAAE,IAAI0B,EAAW,EAAE,SAAA,EAAY,EAAG,EAAI,IAExFA,GAAc9Q,EAAE2H,CAAM,EAAE,IAAIqI,EAAgB,EAC7Ba,EAAA7I,GAAqBhI,EAAEoP,CAAY,EAAE,IAAI0B,EAAW,EAAE,SAAA,EAAY,EAAG,EAAI,GAElF,QAAA,IAAI,oDAAqDD,CAAY,EAEzE,CAACA,EAAc,CACjB,MAAM5G,GAAOsC,GAAG,EAChBrC,GAAQD,EAAI,EAEZsB,GAAsB,OAAOsF,CAAY,EAAG,GAAMpF,EAAcxB,GAAM6G,GAAY,IAAI,GAAG,EAAE,SAAS,EAAGA,GAAY,IAAI,GAAG,CAAC,CAAA,MAE1GtG,EAAA,CAErB,EAGMoG,EAA4BG,GAAoB,CAKhD,GAJJtB,EAAkB,EAAI,EACd,QAAA,IAAI,wEAAyEsB,CAAO,EAC5FpB,EAAiBoB,CAAO,EAEpB3B,GAAgB,CAACA,EAAc,CACjC,GAAI2B,IAAY,EACGvG,EAAA,MACZ,CAEC,MAAAiB,EAAezC,KAAgB3F,GAAA,YAAAA,EAAQ,WAmBzC,GAlBI,QAAA,IAAI,6EAA8EoI,CAAY,EAC9F,QAAA,IAAI,iFAAkFuE,EAAgB,EACtG,QAAA,IAAI,iFAAkFF,CAAgB,EAC9G9F,EAAcyB,CAAY,EACtBzC,GAAe,QACjBY,EAAgB5J,EAAE8P,CAAgB,EAAE,IAAI9P,EAAE+Q,CAAO,EAAE,IAAI,GAAG,CAAC,EAAE,SAAA,CAAU,EACvEjH,EAAgB9J,EAAEgQ,EAAgB,EAAE,IAAIhQ,EAAE+Q,CAAO,EAAE,IAAI,GAAG,CAAC,EAAE,SAAA,CAAU,GAC9D/H,KAAgB3F,GAAA,YAAAA,EAAQ,WACjCE,EACIuG,EAAgB9J,EAAEgQ,EAAgB,EAAE,IAAIhQ,EAAE+Q,CAAO,EAAE,IAAI,GAAG,CAAC,EAAE,SAAS,CAAC,EACvEnH,EAAgB5J,EAAE8P,CAAgB,EAAE,IAAI9P,EAAE+Q,CAAO,EAAE,IAAI,GAAG,CAAC,EAAE,SAAA,CAAU,EAE3ExN,EACIqG,EAAgB5J,EAAE8P,CAAgB,EAAE,IAAI9P,EAAE+Q,CAAO,EAAE,IAAI,GAAG,CAAC,EAAE,SAAS,CAAC,EACvEjH,EAAgB9J,EAAEgQ,EAAgB,EAAE,IAAIhQ,EAAE+Q,CAAO,EAAE,IAAI,GAAG,CAAC,EAAE,SAAA,CAAU,EAIzEA,IAAY,KAAO/H,IAAgB,OAAQ,CAC7C,MAAMiB,EAAOsC,GAAG,EAChBrC,GAAQD,CAAI,EACZ,MAAM+G,EAAiBD,IAAY,IAAM3B,EAAepP,EAAEoP,CAAY,EAAE,IAAI2B,CAAO,EAAE,IAAI,GAAG,EAAE,QAAQ,CAAC,EAC/F,QAAA,IAAI,+EAAgFC,CAAc,EAC1GzF,GAAsByF,EAAgB,GAAMvF,EAAcxB,EAAM8G,EAAS,EAAI,CAAA,KACxE,CACL/G,EAAcyB,CAAY,EAGlB,QAAA,IAAI,4EAA6EzC,CAAW,EAC5F,QAAA,IAAI,kFAAmF3F,GAAA,YAAAA,EAAQ,SAAS,EAC1G,MAAA4N,EAAYjR,EAAEoP,CAAY,EAAE,IAAI2B,CAAO,EAAE,IAAI,GAAG,EAAE,QAAQ,EACxD,QAAA,IAAI,0EAA2EE,CAAS,EAChG1F,GAAsB0F,EAAW,GAAMxF,EAAcxB,EAAM8G,EAAS,EAAI,CAAA,CAC1E,CAEM,QAAA,IAAI,iFAAkFjB,CAAgB,CAAA,CAElH,EAGMtD,EAAoB,IAAM,CAE9B,GADA,QAAQ,IAAI,2CAA4C,CAAE,eAAAgD,GAAgB,cAAAE,EAAe,EACrFF,GACFoB,EAAyBlB,CAAa,MACjC,CACC,MAAA/H,EAAS0C,GAAc,QACzB9G,EACEgH,GAAgB,QAChBD,GAAgB,QAClB/G,EACE+G,GAAgB,QAChBC,GAAgB,QACd,QAAA,IAAI,gEAAiE5C,CAAM,EAC3D0E,EAAA1E,EAAQ0C,GAAc,OAAO,CAAA,CAEzD,EAGA3H,EAAAA,UAAU,IAAM,CACd,GAAI,CAAC8M,GACC,GAAAnE,GAAmB+D,GAAgB,CAACA,EAAc,CAChD,IAAA2B,EAAU,OAAO/Q,EAAEqL,EAAgB,cAAc,EAAE,IAAI+D,CAAY,EAAE,IAAI,GAAG,CAAC,EAC7E2B,EAAU,MACFA,EAAA,KAEJ,QAAA,IAAI,yDAA0DA,CAAO,EAC7EpB,EAAiBoB,CAAO,CAAA,MAExBpB,EAAiB,CAAC,CAGrB,EAAA,CAACtE,GAAA,YAAAA,EAAiB,eAAgBmE,EAAc,CAAC,EAEpD,KAAM,CAAC/C,GAAeC,EAAgB,EAAI1K,EAAAA,SAAkB,EAAK,EAC3D,CAAE,0BAAA2K,GAA2B,wBAAAC,EAAyB,oBAAAC,CAAA,EAAwBC,GAAe,EAE7FoE,EAAiB,SAAY,CAC7B,GAAApR,GAAYuL,GAAmB+D,EAAc,CAC/C1C,GAAiB,EAAI,EAEjB,IAAAyE,EACI,QAAA,IAAI,sEAAuE9F,CAAe,EAC9FrC,IAAgB,OACVmI,EAAA,CACN,QAASrR,EACT,eAAgBuL,EAAgB,eAChC,KAAM,eACN,SAAU,OAAOlC,CAAc,CACjC,GAEqC9F,GAAA,MAAAA,EAAQ,UACzCqM,IAAkB,IACZyB,EAAA,CACN,QAASrR,EACT,eAAgBsP,EAChB,KAAMpG,IAAe3F,GAAA,YAAAA,EAAQ,WAAY,YAAc,YACvD,SAAU,OAAO8F,CAAc,CACjC,EAEQgI,EAAA,CACN,QAASrR,EACT,eAAgBuL,EAAgB,eAChC,KAAMrC,IAAe3F,GAAA,YAAAA,EAAQ,WAAY,YAAc,YACvD,SAAU,OAAO8F,CAAc,CACjC,GAIJ,QAAQ,IAAI,gCAAiC,KAAK,UAAUgI,CAAK,CAAC,EAGlE,MAAMlE,EAAuB,CAC3B,YAAa,CAACC,EAA+BC,IAAoD,CAC/F,MAAMC,GACJ,YACA,CACEC,GAA8B1D,EAA6BpG,EAAYD,GAAA,YAAAA,EAAQ,OAASD,GAAA,YAAAA,EAAQ,MAAM,EACtGgK,GAA8BxD,EAA6BtG,EAAYF,GAAA,YAAAA,EAAQ,OAASC,GAAA,YAAAA,EAAQ,MAAM,CAErG,EAAA,OAAO,OAAO,EACd,KAAK,OAAO,EAEXX,EAAuB,CAC3B,qBAAsByK,GACtB,wBAAyBA,EAC3B,EAEA,GAAIF,IAAW,UAAW,CACxB,IAAII,GAAU3D,EACV4D,GAAU1D,EAcN,QAAA,IAAI,qEAAsEsD,CAAc,EAC5FA,IACFG,GAAUtN,EAAE2J,CAAY,EAAE,GAAG,CAAC,EAAI6E,GAAkBrB,EAAgB5J,EAAYD,EAASD,CAAM,GAAKsG,EAAe,GACnH4D,GAAUvN,EAAE6J,CAAY,EAAE,GAAG,CAAC,EAAI2E,GAAkBrB,EAAgB5J,EAAYF,EAASC,CAAM,GAAKuG,EAAe,IAE7G,QAAA,IAAI,6DAA8DyD,GAASC,EAAO,EAE1F,MAAM6D,GAAkB,CACtB/D,GAAkB9J,EAAYgK,GAAUD,GAAS/J,EAAYD,GAAA,YAAAA,EAAQ,OAASD,GAAA,YAAAA,EAAQ,MAAM,EAC5FgK,GAAkB9J,EAAY+J,GAAUC,GAAShK,EAAYF,GAAA,YAAAA,EAAQ,OAASC,GAAA,YAAAA,EAAQ,MAAM,CAAA,EAC5F,OAAO,OAAO,EAEV8J,IACHgE,IAAmBA,GAAgB,OAAS,EAAI,WAAa,aAC9D,CACE/D,GAA8BC,GAAmB/J,EAAYD,GAAA,YAAAA,EAAQ,OAASD,GAAA,YAAAA,EAAQ,MAAM,EAC5FgK,GAA8BE,GAAmBhK,EAAYF,GAAA,YAAAA,EAAQ,OAASC,GAAA,YAAAA,EAAQ,MAAM,CAE3F,EAAA,OAAO,OAAO,EACd,KAAK,OAAO,EAEjBX,EAAK,wBAA0ByK,GAC/BzK,EAAK,qBAAuByK,EAAA,CAGvB,OAAAzK,CAAA,CAEX,EACAiK,EAAwBK,CAAS,EAE7B,GAAA,CACF,MAAMQ,EAAM,MAAMjK,EAAkB,OAAO,qBAAqB2N,CAAK,EACzD,MAAMxE,GAA0Bc,EAAKR,EAAW,CAC1D,OAAQ7D,EACR,SAAU,uBACV,YAAaE,IAAoB,YACjC,aAAAD,EACA,eAAAE,EACA,YAAa,CACX,OAAQmE,GAAwB,kBAChC,UAAWyD,CAAA,CACb,CACD,GAGkB3G,EAAA,EACLvB,EAAA,GAEMuD,EAAA,EAEpBE,GAAiB,EAAK,QACfjN,EAAO,CACN,QAAA,IAAI,4BAA6BA,CAAK,EAC9CiN,GAAiB,EAAK,EACtBG,EAAoBI,CAAS,CAAA,CAC/B,CAEJ,EAGMzC,EAAmB,IAAM,CAC7BZ,EAAgB,EAAE,EAClBE,EAAgB,EAAE,EAClBQ,GAAgB,QAAU,GAC1BC,GAAgB,QAAU,GAC1BoF,EAAiB,CAAC,EAClBzE,GAAuB,EAAK,EAC5BI,GAAmB,MAAS,EAC5BpB,GAAQ,EAAE,EACV,QAAQ,IAAI,wEAAwE,CACtF,EAGM0D,EAAmB7K,EAAAA,QAAQ,IAAM,OAErC,GADQ,QAAA,IAAI,wEAAyEsI,CAAe,EAChGA,IAAmBA,GAAA,MAAAA,EAAiB,OAAQrC,IAAgB,QAAU3F,GAAUC,EAAQ,CACpF,MAAAqE,EAASoC,EAAexG,EAA2BsG,EAAfF,EAAgCpG,EAA2BoG,EAAfE,EAC9E,QAAA,IAAI,+DAAgElC,CAAM,EAE5E,MAAAgE,EAAWtB,GAAc,QAAUhH,EAASC,EAC1C,QAAA,IAAI,iEAAkEqI,CAAQ,EAChF,MAAAkC,EAAcxD,GAAc,QAAU/G,EAASD,EAC7C,QAAA,IAAI,oEAAqEwK,CAAW,EAE5F,MAAMC,GAAezI,IAAsBvG,EAAAuM,GAAA,YAAAA,EAAiB,OAAjB,YAAAvM,EAAuB,eAAgB+O,EAAY,QAAQ,EAEhGE,EAAgBhN,GACpBsE,GACErF,EAAEqL,EAAgB,KAAK,eAAe,EACnC,IAAI,EAAI,OAAOlC,CAAc,CAAC,EAC9B,SAAS,EACZwC,EAAS,QACX,EACAA,EAAS,QACX,EAEA,eAAQ,IAAI,mBAAoB,CAC9B,eAAAxC,EACA,gBAAAkC,EACA,cAAA0C,CAAA,CACD,EAEO,QAAA,IACN,wDACA,eAAepG,CAAM,IAAIgE,GAAA,YAAAA,EAAU,MAAM,KAAKmC,EAAY,IAAID,GAAA,YAAAA,EAAa,MAAM,mCAAmCE,CAAa,IAAIpC,GAAA,YAAAA,EAAU,MAAM,EACvJ,EACO,eAAe5K,GAAa4G,CAAM,CAAC,IAAIgE,GAAA,YAAAA,EAAU,MAAM,KAAK5K,GAAa+M,EAAY,CAAC,IAAID,GAAA,YAAAA,EAAa,MAAM,mCAAmCE,CAAa,IAAIpC,GAAA,YAAAA,EAAU,MAAM,EAAA,GAGzL,CAAC3C,EAAaqC,EAAiB1B,EAAcE,CAAY,CAAC,EAW7DnH,OAAAA,EAAAA,UAAU,IAAM,CACI8J,EAAA,CAAA,EACjB,CAACsD,EAAkBE,EAAgB,CAAC,EAEvCtN,EAAAA,UAAU,IAAM,CACG8H,EAAA,EACjB,WAAW,IAAM,CACU4F,EAAA,GACxB,GAAG,GACL,CAAClH,EAAcF,EAAapF,GAAA,YAAAA,EAAgB,OAAO,CAAC,EAEhD,CACL,wBAAAyI,EACA,WAAAtC,EACA,aAAAJ,EACA,aAAAE,EACA,iBAAAiG,EACA,iBAAAE,GACA,aAAApF,EACA,aAAAC,EACA,oBAAAI,EACA,gBAAAH,EACA,gBAAAO,EACA,iBAAAuC,EACA,eAAAsD,EACA,yBAAAN,EACA,eAAApB,GACA,cAAAE,EACA,kBAAAlD,EACA,0BAAA0D,GACA,cAAAzD,EACF,CACF,CCnsBwB,SAAA4E,GACtBrI,EACAC,EACAlD,EACAoJ,EACAC,EACAtP,EACAuD,EACAC,EACA,CACM,KAAA,CAAE,sBAAAoG,CAAsB,EAAI1M,GAAmB,EAC/C,CAAE,iBAAAyM,EAAkB,oBAAA/F,EAAoB,EAAIC,GAAc,EAC1D,CAAE,UAAAwE,CAAU,EAAI1E,GAAqB,EACrC,CAAE,eAAA0F,EAAgB,WAAAC,EAAY,aAAAC,EAAc,gBAAAC,EAAiB,eAAAC,GAAmBC,GAAe,EAC/F,CAAE,gBAAA8H,CAAgB,EAAIC,GAAmB,EAEzC,CAAC5H,EAAcC,CAAe,EAAI5H,EAAAA,SAAiB,EAAE,EACrD,CAAC6H,EAAcC,CAAe,EAAI9H,EAAAA,SAAiB,EAAE,EACrD,CAAC+H,EAAYC,CAAa,EAAIhI,EAAAA,SAAkB,EAAI,EACpD,CAACiI,EAAMC,CAAO,EAAIlI,EAAAA,SAAiB,EAAE,EACrC,CAACwN,EAAgBC,CAAiB,EAAIzN,EAAAA,SAAkB,EAAK,EAC7D,CAAC0N,EAAeC,CAAgB,EAAI3N,EAAAA,SAAiB,CAAC,EAEtDmI,GAAUC,SAAeH,CAAI,EAC7BI,GAAgBD,SAAgBL,CAAU,EAC1CO,EAAkBF,SAAeT,CAAY,EAC7CY,EAAkBH,SAAeP,CAAY,EAC7C+F,EAAoBxF,SAAgBoF,CAAc,EAClDK,GAAmBzF,SAAesF,CAAa,EAErDhN,EAAAA,UAAU,IAAM,CACdmN,GAAiB,QAAUH,CAAA,EAC1B,CAACA,CAAa,CAAC,EAElBhN,EAAAA,UAAU,IAAM,CACdkN,EAAkB,QAAUJ,CAAA,EAC3B,CAACA,CAAc,CAAC,EAEnB9M,EAAAA,UAAU,IAAM,CACdyH,GAAQ,QAAUF,CAAA,EACjB,CAACA,CAAI,CAAC,EAETvH,EAAAA,UAAU,IAAM,CACd2H,GAAc,QAAUN,CAAA,EACvB,CAACA,CAAU,CAAC,EAEfrH,EAAAA,UAAU,IAAM,CACd4H,EAAgB,QAAUX,CAAA,EACzB,CAACA,CAAY,CAAC,EAEjBjH,EAAAA,UAAU,IAAM,CACd6H,EAAgB,QAAUV,CAAA,EACzB,CAACA,CAAY,CAAC,EAGjBnH,EAAAA,UAAU,IAAM,CACd,MAAM+H,EAAyB,CAAC,EAC5BpH,GAAUC,IACCmH,EAAA,KAAKpH,EAAO,SAAS,EACrBoH,EAAA,KAAKnH,EAAO,SAAS,GAEhCmH,EAAa,OAAS,GACxBhB,EAAiBgB,CAAY,GAE9B,CAACpH,GAAA,YAAAA,EAAQ,UAAWC,GAAA,YAAAA,EAAQ,SAAS,CAAC,EAGzC,KAAM,CAACwM,GAAkBC,EAAmB,EAAI/N,EAAAA,SAAiB,GAAG,EAC9D,CAACgO,GAAkBC,EAAmB,EAAIjO,EAAAA,SAAiB,GAAG,EAC9D,CAACkO,GAA2BC,CAA4B,EAAInO,EAAAA,SAAkB,EAAK,EAGzFU,EAAAA,UAAU,IAAM,CACG8H,GAAA,EACQ4F,GAAA,CAAA,EACxB,CAACpH,CAAW,CAAC,EAGhBtG,EAAAA,UAAU,IAAM,CACW0N,GAAA,CAAA,EACxB,CAACrK,EAAgB,WAAW,CAAC,EAGhC,MAAMqK,GAA2B,IAAM,CAC/B,KAAA,CAAE,YAAA1K,EAAa,YAAAE,CAAA,EAAgBG,EAGrC,GAFQ,QAAA,IAAI,oCAAqCA,CAAe,EAChEoK,EAA6B,EAAK,EAC9BnH,IAAgB,OAAQ,CAC1B+G,GAAoBrK,CAAW,EAC/BuK,GAAoBrK,CAAW,EAC/B,MAAA,CAII,MAAAyK,EAAqBrH,KAAgB3F,GAAA,YAAAA,EAAQ,WAC7CiN,EAAaD,EAAqBzK,EAAcF,EAClD,IAAA6K,EAAeF,EAAqB3K,EAAcE,EAChD,MAAA4L,EAAYnB,EAAqB/M,EAAUD,EAC3CoO,EAAUpB,EAAqBhN,EAAUC,EAC3CtD,EAAEsQ,CAAU,EAAE,GAAG,CAAC,GACpBH,EAA6B,EAAI,EACjCJ,GAAoB,GAAG,EACvBE,GAAoB,GAAG,EACPqB,EAAA,CACd,UAAAE,EACA,QAAAC,EACA,OAAQ3F,GAAiBwE,EAAYkB,EAAU,QAAQ,EAAE,SAAS,EAClE,cAAerJ,EAAU,WAAW,WAAW,UAC/C,aAAc,GACd,KAAA8B,CAAA,CACD,EACE,KAAevI,GAAA,CACd,QAAQ,IAAI,wCAAyC,CACnD,OAAAA,CAAA,CACD,EACGA,EAAO,aACT6O,EAAevQ,EAAEuQ,CAAY,EAAE,IAAI7O,EAAO,UAAU,EAAE,SAAS,GAE7D2O,EACFN,GAAoBQ,CAAY,EAEhCN,GAAoBM,CAAY,CAClC,CACD,EACA,QAAQ,IAAM,CACbJ,EAA6B,EAAK,CAAA,CACnC,GAECE,EACFN,GAAoBQ,CAAY,EAEhCN,GAAoBM,CAAY,CAGtC,EAGM3F,GAAelH,GAAoBL,GAAA,YAAAA,EAAQ,UAAWsG,CAAY,EAClEkB,GAAenH,GAAoBJ,GAAA,YAAAA,EAAQ,UAAWuG,CAAY,EAElEiB,GAAkB/H,EAAAA,QAAQ,IACvB/C,EAAE4K,IAAgB,GAAG,EACzB,IAAIC,IAAgB,GAAG,EACvB,SAAS,EACX,CAACD,GAAcC,EAAY,CAAC,EAGzB,CAACI,GAAqBC,CAAsB,EAAIlJ,EAAAA,SAAkB,EAAK,EACvE,CAACqJ,EAAiBC,CAAkB,EAAItJ,EAAAA,SAAkD,MAAS,EAiInGuJ,EAAwBC,GAxHT,MAAO7D,EAAgB6I,EAAsB/E,EAAuBxB,EAAcyF,IAA2B,SAC5H,GAAArM,GAAUC,GAAUxD,GAAYsP,EAAc,CAEhD,GAAI,CAACM,GACH,GAAIjE,GACF,GAAIzL,EAAE2H,CAAM,EAAE,GAAGmI,EAAgB,EAAG,CAClC5F,EAAQ,EAAE,EACVoB,EAAmB,MAAS,EAC5BJ,EAAuB,EAAK,EAC5B,MAAA,UAGElL,EAAE2H,CAAM,EAAE,GAAGqI,EAAgB,EAAG,CAClC9F,EAAQ,EAAE,EACVoB,EAAmB,MAAS,EAC5BJ,EAAuB,EAAK,EAC5B,MAAA,EAKNxB,EAAsB,CAAC,GACnB,CAACY,EAAgB,SAAW,CAACC,EAAgB,SAAWmF,IAC1DxE,EAAuB,EAAI,EAGvB,MAAAW,EAAc2E,EAAc7I,EAASmE,GAAiBnE,GAD3C8D,EAAepI,EAASC,GACoC,QAAQ,EAAE,QAAQ,CAAC,EAC1F2I,GAAsC,CAC1C,SAAUnM,EACV,aAAA2L,EACA,aAAcI,EACd,SAAU,OAAO1C,CAAc,EAC/B,WAAYc,EACZ,KAAMjB,IAAgB,OAASoF,GAAU,KAAOA,GAAU,QAC1D,YAAAoC,EACA,cAAepB,CACjB,EACA,QAAQ,IAAI,8BAA+BnD,GAAQhC,EAAMyF,CAAa,EAClE,GAAA,CACF,MAAMhR,EAAM,MAAMyJ,EAAU,OAAO,wBAAwB8D,EAAM,EAO7D,GANJ,QAAQ,IAAI,2BAA4B,CACtC,GAAGvN,EACH,KAAAuL,EACA,YAAAjB,CAAA,CACD,EAEGmB,GAAQ,UAAYF,EAAM,CACtB,MAAAqD,GAAUjI,GAAsB3G,EAAI,SAAS,WAAY2E,EAAO,QAAQ,EAAE,SAAS,EACnFkK,GAAUlI,GAAsB3G,EAAI,SAAS,WAAY4E,EAAO,QAAQ,EAAE,SAAS,EA+BzF,GA7BI0F,IAAgB,SACdwH,GACF1G,EAAgByD,EAAO,EACvB3D,EAAgB0D,EAAO,EACnBoC,IAAkB,MAEpBK,GAAoBzC,EAAO,EAC3B2C,GAAoB1C,EAAO,GAE7BjC,EAAmB5M,CAAG,GAElB+M,EACE,CAACnB,EAAgB,SACnBR,EAAgByD,EAAO,EACvBjC,EAAmB5M,CAAG,GAEtBoL,EAAgB,EAAE,EAGhB,CAACS,EAAgB,SACnBX,EAAgB0D,EAAO,EACvBhC,EAAmB5M,CAAG,GAEtBkL,EAAgB,EAAE,GAMtBZ,IAAgB,OAAQ,CAC1B,GAAI0G,EAAe,CACjB,MAAMpC,GAAUjI,GACdrF,EAAEtB,EAAI,QAAQ,EACX,MAAII,EAAAJ,EAAI,cAAJ,YAAAI,EAAiB,kBAAmB,GAAG,EAC3C,SAAS,EACZuE,EAAO,UACP,SAAS,EACX,GAAIoI,EACF7B,EAAgB0D,EAAO,EACvBxD,EAAgB,EAAE,EACd4F,IAAkB,MACpBhR,EAAI,eAAiB0Q,EACrBW,GAAoBzC,EAAO,OAExB,CACL,MAAMC,GAAUlI,GACdrF,EAAEtB,EAAI,QAAQ,EACX,MAAIK,EAAAL,EAAI,cAAJ,YAAAK,EAAiB,kBAAmB,GAAG,EAC3C,SAAS,EACZuE,EAAO,UACP,SAAS,EACXsG,EAAgB,EAAE,EAClBE,EAAgByD,EAAO,EACnBmC,IAAkB,MACpBhR,EAAI,eAAiB0Q,EACrBa,GAAoB1C,EAAO,EAC7B,CACF,CAEFjC,EAAmB5M,CAAG,CAAA,CACxB,QAEKe,EAAO,CACN,QAAA,IAAI,6BAA8BA,CAAK,EAC/C6L,EAAmB,MAAS,CAAA,QAC5B,CACAJ,EAAuB,EAAK,CAAA,CAC9B,CAEJ,EACgE,GAAG,EAG7DmB,GAA0B,CAC9B1E,EACA8D,EACAiF,EAAqB,GACrBC,EAA0B,GAC1BrE,EAA4B,KACzB,CAEH,GAAIoE,EAAW,CACbE,EAAyB,GAAG,EAC5B,MAAA,CAGF,GAAID,EAAgB,CAClBC,EAAyB,EAAE,EAC3B,MAAA,CAkBF,GAfA5G,EAAcyB,CAAY,EAC1BgE,EAAkB,EAAK,EAEnBhE,GACF7B,EAAgBjC,CAAM,EAClB2E,GACFxC,EAAgB,EAAE,IAGpBA,EAAgBnC,CAAM,EAClB2E,GACF1C,EAAgB,EAAE,GAIlB,CAACjC,EAAQ,CACX,MAAMsC,EAAOsC,GAAG,EAChBrC,EAAQD,CAAI,EACUsB,EAAA5D,EAAQ,GAAO8D,EAAcxB,CAAI,CAAA,MAEtCO,GAAA,CAErB,EAGMoG,EAA4BG,GAAoB,CAGhD,GAFJtB,EAAkB,EAAI,EACtBE,EAAiBoB,CAAO,EACpB3B,GAAgB,CAACA,EACnB,GAAI2B,IAAY,EACGvG,GAAA,MACZ,CACC,MAAAiB,EAAezC,KAAgB3F,GAAA,YAAAA,EAAQ,WAGzC,GAFJ2G,EAAcyB,CAAY,EAEtBsF,IAAY,KAAO/H,IAAgB,OAAQ,CAC7C,MAAMiB,EAAOsC,GAAG,EAChBrC,EAAQD,CAAI,EACZ,MAAM+G,EAAiBD,IAAY,IAAM3B,EAAepP,EAAEoP,CAAY,EAAE,IAAI2B,CAAO,EAAE,IAAI,GAAG,EAAE,QAAQ,CAAC,EACvGxF,EAAsByF,EAAgB,GAAMvF,EAAcxB,EAAM8G,CAAO,CAAA,KAClE,CACL/G,EAAcyB,CAAY,EAE1B,MAAMwF,EAAYjR,EAAEgJ,KAAgB3F,GAAA,YAAAA,EAAQ,WAAYyM,GAAmBE,EAAgB,EACxF,IAAIe,CAAO,EACX,IAAI,GAAG,EACP,QAAQ,EACXxF,EAAsB0F,EAAW,GAAOxF,EAAcxB,EAAM8G,CAAO,CAAA,CACrE,CAGN,EAGMvE,GAAoB,IAAM,CAE9B,GADA,QAAQ,IAAI,2CAA4C,CAAE,eAAAgD,EAAgB,cAAAE,EAAe,EACrFF,EACFoB,EAAyBlB,CAAa,MACjC,CACL,MAAM/H,EAAS0C,GAAc,QAAUC,EAAgB,QAAUC,EAAgB,QACzD8B,GAAA1E,EAAQ0C,GAAc,OAAO,CAAA,CAEzD,EAGA3H,EAAAA,UAAU,IAAM,CACd,GAAI,CAAC8M,EACC,GAAAnE,GAAmB+D,GAAgB,CAACA,EAAc,CAChD,IAAA2B,EAAU,OAAO/Q,EAAEqL,EAAgB,cAAc,EAAE,IAAI+D,CAAY,EAAE,IAAI,GAAG,CAAC,EAC7E2B,EAAU,MACFA,EAAA,KAEZpB,EAAiBoB,CAAO,CAAA,MAExBpB,EAAiB,CAAC,CAEtB,EACC,CAACtE,GAAA,YAAAA,EAAiB,cAAc,CAAC,EAEpC,KAAM,CAACoB,GAAeC,EAAgB,EAAI1K,EAAAA,SAAkB,EAAK,EAC3D,CAAE,0BAAA2K,EAA2B,wBAAAC,EAAyB,oBAAAC,CAAA,EAAwBC,GAAe,EAE7FoE,GAAiB,SAAY,CAC7B,GAAApR,GAAYuL,GAAmB+D,EAAc,CAC/C1C,GAAiB,EAAI,EAEjB,IAAAyE,EAEJ,GAAInI,IAAgB,OACVmI,EAAA,CACN,SAAUrR,EACV,UAAWuL,GAAA,YAAAA,EAAiB,eAC5B,SAAU,OAAOlC,CAAc,CACjC,MACK,CACC,MAAAsC,EAAezC,KAAgB3F,GAAA,YAAAA,EAAQ,WAC7C,GAAIqM,IAAkB,IACZyB,EAAA,CACN,SAAUrR,EACV,YAAa,GACb,aAAcsP,EACd,SAAU,OAAOjG,CAAc,EAC/B,cAAeiG,EACf,aAAA3D,CACF,MACK,CACL,MAAM8C,EAAezC,GAAiB/B,EAAaJ,EAAeE,EAAc,CAAC,EACzEsH,EAAA,CACN,SAAUrR,EACV,YAAa,GACb,aAAcyO,EAAa,SAAS,EACpC,SAAU,OAAOpF,CAAc,EAC/B,cAAeiG,EACf,aAAA3D,CACF,CAAA,CACF,CAGM,QAAA,IAAI,gCAAiC0F,CAAK,EAGlD,MAAMlE,EAAuB,CAC3B,YAAa,CAACC,EAA+BC,IAAoD,CAC/F,MAAMC,EACJ,YACA,CAACC,GAAkB1D,EAActG,GAAA,YAAAA,EAAQ,MAAM,EAAGgK,GAAkBxD,EAAcvG,GAAA,YAAAA,EAAQ,MAAM,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,OAAO,EAE3HX,EAAuB,CAC3B,qBAAsByK,EACtB,wBAAyBA,CAC3B,EAEA,GAAIF,IAAW,UAAW,CACxB,IAAII,EAAU3D,EACV4D,EAAU1D,EAEVsD,IACQG,EAAAtN,EAAE2J,CAAY,EAAE,GAAG,CAAC,EAAI6E,GAAkBrB,EAAgB9J,CAAM,GAAKsG,EAAe,GACpF4D,EAAAvN,EAAE6J,CAAY,EAAE,GAAG,CAAC,EAAI2E,GAAkBrB,EAAgB7J,CAAM,GAAKuG,EAAe,IAGhG,MAAMuD,EACJ,WAAa,CAACC,GAAkBC,EAASjK,GAAA,YAAAA,EAAQ,MAAM,EAAGgK,GAAkBE,EAASjK,GAAA,YAAAA,EAAQ,MAAM,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,OAAO,EAEpIX,EAAK,wBAA0ByK,EAC/BzK,EAAK,qBAAuByK,CAAA,CAGvB,OAAAzK,CAAA,CAEX,EACAiK,EAAwBK,CAAS,EAE7B,GAAA,CACF,MAAMQ,EAAM,MAAMtF,EAAU,OAAO,SAASgJ,CAAK,EACrC,MAAMxE,EAA0Bc,EAAKR,EAAW,CAC1D,OAAQ7D,EACR,SAAU,uBACV,YAAaE,IAAoB,YACjC,aAAAD,EACA,eAAAE,EACA,YAAa,CACX,OAAQmE,GAAwB,qBAChC,UAAWyD,CAAA,CACb,CACD,EAGkB3G,GAAA,EAECgC,GAAA,EAERvD,EAAA,QACLxJ,EAAO,CACN,QAAA,IAAI,4BAA6BA,CAAK,EAC9CoN,EAAoBI,CAAS,CAAA,CAC/B,CAEJ,EAGMzC,GAAmB,IAAM,CAC7BZ,EAAgB,EAAE,EAClBE,EAAgB,EAAE,EAClB6F,EAAiB,CAAC,EAClBzE,EAAuB,EAAK,EAC5BI,EAAmB,MAAS,EAC5BpB,EAAQ,EAAE,CACZ,EAGM0D,GAAmB7K,EAAAA,QAAQ,IAAM,CACrC,GAAIsI,GAAmBA,EAAgB,aAAerC,IAAgB,QAAU3F,GAAUC,EAAQ,CAC1F,MAAAqE,EAASoC,EAAaJ,EAAeE,EAErC8B,EAAWtB,GAAc,QAAUhH,EAASC,EAC5CuK,EAAcxD,GAAc,QAAU/G,EAASD,EAE/CyK,EAAezI,GAAsBgG,EAAgB,YAAY,eAAgBM,EAAS,QAAQ,EAElGoC,EAAgB1I,GACpBrF,EAAEqL,EAAgB,YAAY,eAAe,EAC1C,IAAI,EAAI,OAAOlC,CAAc,CAAC,EAC9B,SAAS,EACZ0E,EAAY,QACd,EAEA,eAAQ,IAAI,mBAAoB,CAC9B,eAAA1E,EACA,gBAAAkC,EACA,cAAA0C,CAAA,CACD,EAEM,eAAehN,GAAa4G,CAAM,CAAC,IAAIgE,GAAA,YAAAA,EAAU,MAAM,KAAK5K,GAAa+M,CAAY,CAAC,IAAID,GAAA,YAAAA,EAAa,MAAM,mCAAmCE,CAAa,IAAIpC,GAAA,YAAAA,EAAU,MAAM,EAAA,GAGzL,CAAC3C,EAAaqC,EAAiB1B,EAAcE,CAAY,CAAC,EAEtD,MAAA,CACL,wBAAAwC,GACA,WAAAtC,EACA,aAAAJ,EACA,aAAAE,EACA,iBAAAiG,GACA,iBAAAE,GACA,aAAApF,GACA,aAAAC,GACA,oBAAAI,GACA,gBAAAH,GACA,gBAAAO,EACA,iBAAAuC,GACA,eAAAsD,GACA,yBAAAN,EACA,eAAApB,EACA,cAAAE,EACA,kBAAAlD,GACA,yBAAA4D,GACA,0BAAAF,EACF,CACF,CCzhBA,MAAMwB,GAA2BC,GACxBA,EAAavO,GAAkC8E,GAOlD0J,GAAgBD,GACbA,EAAa5I,GAAuBoF,GAGvC0D,GAAsBF,GACnBA,EAAalD,GAA6BQ,GAG7CC,GAAmByC,GAChBA,EAAaG,GAA0BT,GAG1CU,GAAiB,CAAA,mBACrBC,GACA,wBAAAN,GACA,aAAAE,GACA,mBAAAC,GACA,gBAAA3C,EACF,ECpCA,SAAS+C,GAAe,CAAE,oBAAA3R,EAAqB,iBAAAF,EAAkB,sBAAAH,EAAuB,SAAAiS,EAAU,iBAAAvR,GAAyC,CAEvI,OAAAwR,GAAA,IAACC,GAAA,CACC,QACED,GAAA,IAACE,GAAA,CACC,iBAAAjS,EACA,oBAAAE,EACA,sBAAAL,EACA,iBAAAU,EACA,SAAAuR,CAAA,CACF,EAGF,SAACC,GAAAA,IAAAG,GAAA,CAAK,UAAU,eAAe,UAAU,QAAQ,WAAW,MAAM,eAAe,mBAAmB,MAAM,UACvG,SAAYJ,GAAA,QAAUjS,EAAwBG,CACjD,CAAA,CAAA,CACF,CAEJ,CAEO,MAAMiS,GAA0B,CAAC,CACtC,oBAAA/R,EACA,iBAAAF,EACA,sBAAAH,EACA,SAAAiS,EACA,iBAAAvR,CACF,IAEKwR,GAAAA,IAAAI,GAAA,CAAO,IAAI,OAAO,EAAE,OAAO,GAAG,MAAM,GAAG,MACrC,SAAYL,GAAA,gBACVK,GACC,CAAA,SAAA,CAAAJ,GAAA,IAACK,GAAA,CACC,MAAM,YACN,WAAY,CACV,SAAU,MACZ,EACA,WAAY,CACV,SAAU,MACZ,EACA,UAAW,CACT,IAAK,MACP,EACA,MAAOvS,CAAA,CACT,SACCwS,GAAO,CAAA,EAAE,MAAM,EAAE,OAAO,gBAAgB,SAAS,EAClDN,GAAA,IAACK,GAAA,CACC,MAAM,mBACN,WAAY,CACV,SAAU,MACZ,EACA,WAAY,CACV,SAAU,MACZ,EACA,UAAW,CACT,IAAK,MACP,EACA,MAAOpS,CAAA,CACT,EACA+R,GAAA,IAACK,GAAA,CACC,MAAM,MACN,WAAY,CACV,SAAU,MACZ,EACA,UAAW,CACT,IAAK,MACP,EACA,MAAOlS,EACP,WAAY,CACV,SAAU,MAAA,CACZ,CAAA,CAEJ,CAAA,CAAA,UAECiS,GACC,CAAA,SAAA,CAAAJ,GAAA,IAACK,GAAA,CACC,MAAM,eACN,WAAY,CACV,SAAU,MACZ,EACA,WAAY,CACV,SAAU,MACZ,EACA,UAAW,CACT,IAAK,MACP,EACA,MAAO7R,CAAA,CACT,SACC8R,GAAO,CAAA,EAAE,MAAM,EAAE,OAAO,gBAAgB,SAAS,EAClDN,GAAA,IAACK,GAAA,CACC,MAAM,YACN,WAAY,CACV,SAAU,MACZ,EACA,WAAY,CACV,SAAU,MACZ,EACA,UAAW,CACT,IAAK,MACP,EACA,MAAOpS,CAAA,CACT,EACA+R,GAAA,IAACK,GAAA,CACC,MAAM,kDACN,WAAY,CACV,SAAU,OACV,WAAY,OACZ,KAAM,OACR,EACA,UAAW,CACT,IAAK,MACP,EACA,MAAM,GACN,WAAY,CACV,SAAU,MAAA,CACZ,CAAA,CACF,CAAA,CACF,CAEJ,CAAA,EAIY,SAAAE,GAAU,CAAE,SAAAvP,GAAkC,CAC5D,KAAM,CAAE,UAAAwP,CAAA,EAAc5O,GAAYZ,CAAQ,EAExC,OAAAgP,GAAAA,IAACS,GACC,CAAA,SAAAT,GAAA,IAACU,GAAgB,CAAA,SAAUF,GAAA,YAAAA,EAAW,SAAU,EAAE,OAAO,EAAE,MAAO,CAAA,EACpE,CAEJ"}