import{cU as pe,cV as ke,n as U,r as s,cW as V,z as ve,G as d,D as n,F as se,K as we,L as ge,M as Ee,j as E,P as I,Q as Se}from"./index-DoN8ny30.js";var Ce=()=>typeof document<"u",oe=!1,S=null,b=!1,q=!1,W=new Set;function z(e,c){W.forEach(a=>a(e,c))}var Le=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function xe(e){return!(e.metaKey||!Le&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function re(e){b=!0,xe(e)&&(S="keyboard",z("keyboard",e))}function v(e){if(S="pointer",e.type==="mousedown"||e.type==="pointerdown"){b=!0;const c=e.composedPath?e.composedPath()[0]:e.target;let a=!1;try{a=c.matches(":focus-visible")}catch{}if(a)return;z("pointer",e)}}function Pe(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Me(e){Pe(e)&&(b=!0,S="virtual")}function Fe(e){e.target===window||e.target===document||e.target instanceof Element&&e.target.hasAttribute("tabindex")||(!b&&!q&&(S="virtual",z("virtual",e)),b=!1,q=!1)}function De(){b=!1,q=!0}function ie(){return S!=="pointer"}function _e(){if(!Ce()||oe)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...a){b=!0,e.apply(this,a)},document.addEventListener("keydown",re,!0),document.addEventListener("keyup",re,!0),document.addEventListener("click",Me,!0),window.addEventListener("focus",Fe,!0),window.addEventListener("blur",De,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",v,!0),document.addEventListener("pointermove",v,!0),document.addEventListener("pointerup",v,!0)):(document.addEventListener("mousedown",v,!0),document.addEventListener("mousemove",v,!0),document.addEventListener("mouseup",v,!0)),oe=!0}function Ie(e){_e(),e(ie());const c=()=>e(ie());return W.add(c),()=>{W.delete(c)}}const Re={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Be(e={}){const c=pe(e),{isDisabled:a,isReadOnly:o,isRequired:y,isInvalid:i,id:p,onBlur:R,onFocus:B,"aria-describedby":C}=c,{defaultChecked:L,isChecked:x,isFocusable:K,onChange:j,isIndeterminate:l,name:O,value:G,tabIndex:Q=void 0,"aria-label":J,"aria-labelledby":X,"aria-invalid":A,...ce}=e,N=ke(ce,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),P=U(j),Y=U(R),Z=U(B),[M,le]=s.useState(!1),[h,F]=s.useState(!1),[w,$]=s.useState(!1),[g,k]=s.useState(!1);s.useEffect(()=>Ie(le),[]);const f=s.useRef(null),[H,ue]=s.useState(!0),[de,D]=s.useState(!!L),T=x!==void 0,r=T?x:de,ee=s.useCallback(t=>{if(o||a){t.preventDefault();return}T||D(r?t.currentTarget.checked:l?!0:t.currentTarget.checked),P==null||P(t)},[o,a,r,T,l,P]);V(()=>{f.current&&(f.current.indeterminate=!!l)},[l]),ve(()=>{a&&F(!1)},[a,F]),V(()=>{const t=f.current;if(!(t!=null&&t.form))return;const u=()=>{D(!!L)};return t.form.addEventListener("reset",u),()=>{var m;return(m=t.form)==null?void 0:m.removeEventListener("reset",u)}},[]);const te=a&&!K,ae=s.useCallback(t=>{t.key===" "&&k(!0)},[k]),ne=s.useCallback(t=>{t.key===" "&&k(!1)},[k]);V(()=>{if(!f.current)return;f.current.checked!==r&&D(f.current.checked)},[f.current]);const fe=s.useCallback((t={},u=null)=>{const m=_=>{h&&_.preventDefault(),k(!0)};return{...t,ref:u,"data-active":n(g),"data-hover":n(w),"data-checked":n(r),"data-focus":n(h),"data-focus-visible":n(h&&M),"data-indeterminate":n(l),"data-disabled":n(a),"data-invalid":n(i),"data-readonly":n(o),"aria-hidden":!0,onMouseDown:d(t.onMouseDown,m),onMouseUp:d(t.onMouseUp,()=>k(!1)),onMouseEnter:d(t.onMouseEnter,()=>$(!0)),onMouseLeave:d(t.onMouseLeave,()=>$(!1))}},[g,r,a,h,M,w,l,i,o]),me=s.useCallback((t={},u=null)=>({...t,ref:u,"data-active":n(g),"data-hover":n(w),"data-checked":n(r),"data-focus":n(h),"data-focus-visible":n(h&&M),"data-indeterminate":n(l),"data-disabled":n(a),"data-invalid":n(i),"data-readonly":n(o)}),[g,r,a,h,M,w,l,i,o]),he=s.useCallback((t={},u=null)=>({...N,htmlFor:H?p:void 0,...t,ref:se(u,m=>{m&&ue(m.tagName==="LABEL")}),onClick:d(t.onClick,()=>{var m;H||((m=f.current)==null||m.click(),requestAnimationFrame(()=>{var _;(_=f.current)==null||_.focus({preventScroll:!0})}))}),"data-disabled":n(a),"data-checked":n(r),"data-invalid":n(i)}),[N,a,r,i,H,p]),be=s.useCallback((t={},u=null)=>({...t,ref:se(f,u),type:"checkbox",name:O,value:G,id:p,tabIndex:Q,onChange:d(t.onChange,ee),onBlur:d(t.onBlur,Y,()=>F(!1)),onFocus:d(t.onFocus,Z,()=>F(!0)),onKeyDown:d(t.onKeyDown,ae),onKeyUp:d(t.onKeyUp,ne),required:y,checked:r,disabled:te,readOnly:o,"aria-label":J,"aria-labelledby":X,"aria-invalid":A?!!A:i,"aria-describedby":C,"aria-disabled":a,"aria-checked":l?"mixed":r,style:Re}),[O,G,p,Q,ee,Y,Z,ae,ne,y,r,te,o,J,X,A,i,C,a,l]),ye=s.useCallback((t={},u=null)=>({...t,ref:u,onMouseDown:d(t.onMouseDown,Ke),"data-disabled":n(a),"data-checked":n(r),"data-invalid":n(i)}),[r,a,i]);return{state:{isInvalid:i,isFocused:h,isChecked:r,isActive:g,isHovered:w,isIndeterminate:l,isDisabled:a,isReadOnly:o,isRequired:y},getRootProps:he,getCheckboxProps:fe,getIndicatorProps:me,getInputProps:be,getLabelProps:ye,htmlProps:N}}function Ke(e){e.preventDefault(),e.stopPropagation()}const je=we(function(c,a){const o=ge("Switch",c),{spacing:y="0.5rem",children:i,...p}=Ee(c),{getIndicatorProps:R,getInputProps:B,getCheckboxProps:C,getRootProps:L,getLabelProps:x}=Be(p),K=s.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...o.container}),[o.container]),j=s.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...o.track}),[o.track]),l=s.useMemo(()=>({userSelect:"none",marginStart:y,...o.label}),[y,o.label]);return E.jsxs(I.label,{...L(),className:Se("chakra-switch",c.className),__css:K,children:[E.jsx("input",{className:"chakra-switch__input",...B({},a)}),E.jsx(I.span,{...C(),className:"chakra-switch__track",__css:j,children:E.jsx(I.span,{__css:o.thumb,className:"chakra-switch__thumb",...R()})}),i&&E.jsx(I.span,{className:"chakra-switch__label",...x(),__css:l,children:i})]})});je.displayName="Switch";export{je as S};
