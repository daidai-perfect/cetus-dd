import{cV as pe,cW as ke,n as T,r as s,cX as V,x as ve,D as n,E as d,z as se,L as we,M as ge,N as Ee,j as g,P as I,Q as Se}from"./index-c8x0neDx.js";var Ce=()=>typeof document<"u",oe=!1,E=null,h=!1,U=!1,q=new Set;function W(e,c){q.forEach(a=>a(e,c))}var Le=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function xe(e){return!(e.metaKey||!Le&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function re(e){h=!0,xe(e)&&(E="keyboard",W("keyboard",e))}function k(e){if(E="pointer",e.type==="mousedown"||e.type==="pointerdown"){h=!0;const c=e.composedPath?e.composedPath()[0]:e.target;let a=!1;try{a=c.matches(":focus-visible")}catch{}if(a)return;W("pointer",e)}}function Pe(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Me(e){Pe(e)&&(h=!0,E="virtual")}function De(e){e.target===window||e.target===document||e.target instanceof Element&&e.target.hasAttribute("tabindex")||(!h&&!U&&(E="virtual",W("virtual",e)),h=!1,U=!1)}function Fe(){h=!1,U=!0}function ie(){return E!=="pointer"}function _e(){if(!Ce()||oe)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...a){h=!0,e.apply(this,a)},document.addEventListener("keydown",re,!0),document.addEventListener("keyup",re,!0),document.addEventListener("click",Me,!0),window.addEventListener("focus",De,!0),window.addEventListener("blur",Fe,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",k,!0),document.addEventListener("pointermove",k,!0),document.addEventListener("pointerup",k,!0)):(document.addEventListener("mousedown",k,!0),document.addEventListener("mousemove",k,!0),document.addEventListener("mouseup",k,!0)),oe=!0}function Ie(e){_e(),e(ie());const c=()=>e(ie());return q.add(c),()=>{q.delete(c)}}const Re={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Be(e={}){const c=pe(e),{isDisabled:a,isReadOnly:o,isRequired:y,isInvalid:r,id:S,onBlur:R,onFocus:B,"aria-describedby":C}=c,{defaultChecked:L,isChecked:x,isFocusable:K,onChange:N,isIndeterminate:u,name:z,value:O,tabIndex:G=void 0,"aria-label":Q,"aria-labelledby":X,"aria-invalid":j,...ce}=e,A=ke(ce,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),P=T(N),J=T(R),Y=T(B),[M,le]=s.useState(!1),[b,D]=s.useState(!1),[v,Z]=s.useState(!1),[w,p]=s.useState(!1);s.useEffect(()=>Ie(le),[]);const f=s.useRef(null),[$,ue]=s.useState(!0),[de,F]=s.useState(!!L),H=x!==void 0,i=H?x:de,ee=s.useCallback(t=>{if(o||a){t.preventDefault();return}H||F(i?t.currentTarget.checked:u?!0:t.currentTarget.checked),P==null||P(t)},[o,a,i,H,u,P]);V(()=>{f.current&&(f.current.indeterminate=!!u)},[u]),ve(()=>{a&&D(!1)},[a,D]),V(()=>{const t=f.current;if(!(t!=null&&t.form))return;const l=()=>{F(!!L)};return t.form.addEventListener("reset",l),()=>{var m;return(m=t.form)==null?void 0:m.removeEventListener("reset",l)}},[]);const te=a&&!K,ae=s.useCallback(t=>{t.key===" "&&p(!0)},[p]),ne=s.useCallback(t=>{t.key===" "&&p(!1)},[p]);V(()=>{if(!f.current)return;f.current.checked!==i&&F(f.current.checked)},[f.current]);const fe=s.useCallback((t={},l=null)=>{const m=_=>{b&&_.preventDefault(),p(!0)};return{...t,ref:l,"data-active":n(w),"data-hover":n(v),"data-checked":n(i),"data-focus":n(b),"data-focus-visible":n(b&&M),"data-indeterminate":n(u),"data-disabled":n(a),"data-invalid":n(r),"data-readonly":n(o),"aria-hidden":!0,onMouseDown:d(t.onMouseDown,m),onMouseUp:d(t.onMouseUp,()=>p(!1)),onMouseEnter:d(t.onMouseEnter,()=>Z(!0)),onMouseLeave:d(t.onMouseLeave,()=>Z(!1))}},[w,i,a,b,M,v,u,r,o]),me=s.useCallback((t={},l=null)=>({...t,ref:l,"data-active":n(w),"data-hover":n(v),"data-checked":n(i),"data-focus":n(b),"data-focus-visible":n(b&&M),"data-indeterminate":n(u),"data-disabled":n(a),"data-invalid":n(r),"data-readonly":n(o)}),[w,i,a,b,M,v,u,r,o]),be=s.useCallback((t={},l=null)=>({...A,...t,ref:se(l,m=>{m&&ue(m.tagName==="LABEL")}),onClick:d(t.onClick,()=>{var m;$||((m=f.current)==null||m.click(),requestAnimationFrame(()=>{var _;(_=f.current)==null||_.focus({preventScroll:!0})}))}),"data-disabled":n(a),"data-checked":n(i),"data-invalid":n(r)}),[A,a,i,r,$]),he=s.useCallback((t={},l=null)=>({...t,ref:se(f,l),type:"checkbox",name:z,value:O,id:S,tabIndex:G,onChange:d(t.onChange,ee),onBlur:d(t.onBlur,J,()=>D(!1)),onFocus:d(t.onFocus,Y,()=>D(!0)),onKeyDown:d(t.onKeyDown,ae),onKeyUp:d(t.onKeyUp,ne),required:y,checked:i,disabled:te,readOnly:o,"aria-label":Q,"aria-labelledby":X,"aria-invalid":j?!!j:r,"aria-describedby":C,"aria-disabled":a,style:Re}),[z,O,S,ee,J,Y,ae,ne,y,i,te,o,Q,X,j,r,C,a,G]),ye=s.useCallback((t={},l=null)=>({...t,ref:l,onMouseDown:d(t.onMouseDown,Ke),"data-disabled":n(a),"data-checked":n(i),"data-invalid":n(r)}),[i,a,r]);return{state:{isInvalid:r,isFocused:b,isChecked:i,isActive:w,isHovered:v,isIndeterminate:u,isDisabled:a,isReadOnly:o,isRequired:y},getRootProps:be,getCheckboxProps:fe,getIndicatorProps:me,getInputProps:he,getLabelProps:ye,htmlProps:A}}function Ke(e){e.preventDefault(),e.stopPropagation()}const Ne=we(function(c,a){const o=ge("Switch",c),{spacing:y="0.5rem",children:r,...S}=Ee(c),{getIndicatorProps:R,getInputProps:B,getCheckboxProps:C,getRootProps:L,getLabelProps:x}=Be(S),K=s.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...o.container}),[o.container]),N=s.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...o.track}),[o.track]),u=s.useMemo(()=>({userSelect:"none",marginStart:y,...o.label}),[y,o.label]);return g.jsxs(I.label,{...L(),className:Se("chakra-switch",c.className),__css:K,children:[g.jsx("input",{className:"chakra-switch__input",...B({},a)}),g.jsx(I.span,{...C(),className:"chakra-switch__track",__css:N,children:g.jsx(I.span,{__css:o.thumb,className:"chakra-switch__thumb",...R()})}),r&&g.jsx(I.span,{className:"chakra-switch__label",...x(),__css:u,children:r})]})});Ne.displayName="Switch";export{Ne as S};
