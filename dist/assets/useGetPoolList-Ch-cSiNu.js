import{a as U,b as G,q as ue,o as _e}from"./api-data-utils-BMdVRd3m.js";import{aG as ge,d as _,az as Y,aT as Z,a9 as le,a_ as D,s as E,a5 as p,b9 as ee,u as xe,di as ce}from"./index-BAaNMf6I.js";const Ce={100:2,500:10,1e3:20,2500:60,1e4:200,2e4:220},ae=Object.values(Ce),te=["0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_usdc_coin::CELER_USDC_COIN","0xcf72ec52c0f8ddead746252481fb44ff6e8485a39b803825bde6b00d77cdb0bb::coin::COIN","0xe32d3ebafa42e6011b87ef1087bbc6053b499bf6f095807b9013aff5a6ecd7bb::coin::COIN","0xc3f8927de33d3deb52c282a836082a413bc73c6ee0bd4d7ec7e3b6b4c28e9abf::coin::COIN","0x909cba62ce96d54de25bec9502de5ca7b4f28901747bbf96b76c2e63ec5f1cba::coin::COIN","0xb231fcda8bbddb31f2ef02e6161444aec64a514e2c89279584ac9806ce9cf037::coin::COIN","0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_usdt_coin::CELER_USDT_COIN","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_dai_coin::CELER_DAI_COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_wsteth_coin::CELER_WSTETH_COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_frax_coin::CELER_FRAX_COIN","0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK","0x2::sui::SUI","0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI","0x7016aae72cfc67f2fadf55769c0a7dd54291a583b63051a5ed71081cce836ac6::sca::SCA","0x5ca17430c1d046fae9edeaa8fd76c7b4193a00d764a0ecfa9418d733ad27bc1e::scallop_sca::SCALLOP_SCA","0xaf8cd5edc19c4512f4259f0bee101a40d41ebed738ade5874359610ef8eeced5::coin::COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_weth_coin::CELER_WETH_COIN","0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI","0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT","0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_wbtc_coin::CELER_WBTC_COIN","0xb7844e289a8410e50fb3ca48d69eb9cf29e27d223ef90353fe1bd8e27ff8f3f8::coin::COIN","0xb848cce11ef3a8f62eccea6eb5b35a12c4c2b1ee1af7755d02d7bd6218e8226f::coin::COIN","0xdbe380b13a6d0f5cdedd58de8f04625263f113b3f9db32b3e1983f49e2841676::coin::COIN","0x1e8b532cca6569cab9f9b9ebc73f8c13885012ade714729aa3b450e0339ac766::coin::COIN","0x6081300950a4f1e2081580e919c210436a1bed49080502834950d31ee55a2396::coin::COIN","0xa198f3be41cda8c07b3bf3fee02263526e535d682499806979a111e88a5a8d0f::coin::COIN","0x66f87084e49c38f76502d17f87d17f943f183bb94117561eb573e075fdc5ff75::coin::COIN","0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS","0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI","0xe4239cd951f6c53d9c41e25270d80d31f925ad1655e5ba5b543843d4a66975ee::SUIP::SUIP","0x1d58e26e85fbf9ee8596872686da75544342487f95b1773be3c9a49ab1061b19::suia_token::SUIA_TOKEN","0x3a5143bb1196e3bcdfab6203d1683ae29edd26294fc8bfeafe4aaa9d2704df37::coin::COIN","0x202591744d54ee4f4af736ef3b8508f3d46d982c36747d9587032bd549122179::luck::LUCK","0xd2013e206f7983f06132d5b61f7c577638ff63171221f4f600a98863febdfb47::toce::TOCE","0x934692a74595c4f5a0c026130eb2143eea6fc313742f5d7dd9e45fd6ddbb00f1::suime::SUIME","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_fxs_coin::CELER_FXS_COIN","0x6907963ca849faff0957b9a8269a7a07065e3def2eef49cc33b50ab946ea5a9f::coin::COIN","0x361dd589b98e8fcda9a7ee53b85efabef3569d00416640d2faa516e3801d7ffc::TOKEN::TOKEN","0x9a7ca7b6de5b6e9a4dadec42fada7cd84068aebd7adbd1faeb713622c4628ca9::meadow::MEADOW","0x32d5056aaac1be1f9ae44c1d0728792255a05f1475d458287ee463cc26806ca0::mover_usd::MOVER_USD","0x9fe1780ac27ec50c9c441fb31822f5c148f841f09ee455c6a0daf7c634a30a27::aifrens::AIFRENS","0xbff8dc60d3f714f678cd4490ff08cabbea95d308c6de47a150c79cc875e0c7c6::sbox::SBOX","0x9a5502414b5d51d01c8b5641db7436d789fa15a245694b24aa37c25c2a6ce001::scb::SCB","0x4e56b39acd75721999cf833062dfb77b1d51e749b02d90f049a5688e21919a64::prl::PRL","0x76cb819b01abed502bee8a702b4c2d547532c12f25001c9dea795a5e631c26f1::fud::FUD","0xc44d97a4bc4e5a33ca847b72b123172c88a6328196b71414f32c3070233604b2::slp::SLP","0x8f16fb4ed30b4ff29cec3ddf82ed2ecae3836d20dbd31c8ba9e85d1ef6bfc172::sbbg::SBBG","0xb6baa75577e4bbffba70207651824606e51d38ae23aa94fb9fb700e0ecf50064::kimchi::KIMCHI","0x9c6d76eb273e6b5ba2ec8d708b7fa336a5531f6be59f326b5be8d4d8b12348a4::coin::COIN"];function Pe(f,b){const l=te.indexOf(f),e=te.indexOf(b);return l===-1&&e===-1?!0:l!==-1&&e===-1?!1:l===-1&&e!==-1?!0:l>e}const Ie=(f,b,l,e)=>{if(e)return{percentA:"50",percentB:"50"};if(_(f).eq(0)&&_(b).eq(0))return{percentA:"0",percentB:"0"};const x=_(b).plus(_(f).mul(l)),C=_(b).div(x).mul(100),c=_(100).sub(C),g=c.lt(.01)&&c.gt(0)?"<0.01":Y(c.toString(),2),d=C.lt(.01)&&C.gt(0)?"<0.01":Y(C.toString(),2);return{percentA:g,percentB:d}},Ae=f=>{var e;if(!f)return"";const b=f==null?void 0:f.split(",");return(e=b==null?void 0:b.map(x=>ge(x,!1)))==null?void 0:e.join(",")},Se=f=>f==="0"||!f?"âˆž":f==="âˆž"?"0":_(1).div(f).toString(),ve=f=>f==="âˆž"?"âˆž":le(f,6),we=f=>ve(Se(f)),se=(f,b)=>{for(let l=0;l<ae.length;l++){const e=ae[l];if(b==="min"){if(f==Z.getMinIndex(e))return!0}else if(f==Z.getMaxIndex(e))return!0}return!1},De=(f,b)=>{const l=se(f,"min"),e=se(b,"max");return!!(l&&e)};function ye(){const f=e=>{var d,r,n;const x=e==null?void 0:e.has_mining;let C=_(0);const c=[],g=[];if(x){const t=((n=(r=(d=e==null?void 0:e.object)==null?void 0:d.rewarder_manager)==null?void 0:r.fields)==null?void 0:n.rewarders)||[],s=(e==null?void 0:e.rewarder_apr)||[];t==null||t.forEach((i,S)=>{var a,u,L,h,v;const A=_((a=i==null?void 0:i.fields)==null?void 0:a.emissions_per_second).mul(p.pow(2,-64)).toString();if(e!=null&&e[`rewarder_display${S+1}`]&&_(A).gt(0)){const y=U(s[S]);C=C.add(y);const I=(v=D((h=(L=(u=i==null?void 0:i.fields)==null?void 0:u.reward_coin)==null?void 0:L.fields)==null?void 0:h.name))==null?void 0:v.source_address;c.push({coinType:I,emissionsEveryDay:ue(A)}),g.push({coinType:I,apr:y,aprDisplay:U(y,!0)})}})}return{haveMining:x&&c.length>0,miningRewardList:c,miningAprList:g,miningAprTotal:C.toString()}},b=e=>{var a,u,L,h,v,y,I,M,k,O,o,F,w,m;const x=(e==null?void 0:e.is_forward)===!1,C=!!(e!=null&&e.stable_farming&&((a=e==null?void 0:e.stable_farming)!=null&&a.show_rewarder_1||(u=e==null?void 0:e.stable_farming)!=null&&u.show_rewarder_2||(L=e==null?void 0:e.stable_farming)!=null&&L.show_rewarder_3)&&((h=e==null?void 0:e.stable_farming)!=null&&h.stable_rewarder)),c=[];let g="",d="",r="",n="",t=0,s=0,i="",S="",A=_(0);if(C){g=(v=e==null?void 0:e.stable_farming)==null?void 0:v.stable_farming_pool;const T=(y=e==null?void 0:e.stable_farming)==null?void 0:y.stable_rewarder;T==null||T.forEach((P,B)=>{const R=_(P==null?void 0:P.amount_second);if(e!=null&&e.stable_farming[`show_rewarder_${B+1}`]&&R.gt(0)){const j=U(P==null?void 0:P.apr);A=A==null?void 0:A.add(j),c.push({coinType:D(P.coin).source_address,emissionsEveryDay:R.mul(86400).toDP(2,p.ROUND_HALF_UP).toString()})}}),d=(I=e==null?void 0:e.stable_farming)==null?void 0:I.tvl,r=E((M=e==null?void 0:e.stable_farming)==null?void 0:M.tvl,"$"),n=E(_(A).mul(100).toString(),"%",2,!0),t=(k=e==null?void 0:e.stable_farming)==null?void 0:k.effective_tick_lower,s=(O=e==null?void 0:e.stable_farming)==null?void 0:O.effective_tick_upper;const $=ee.tickIndexToPrice(t,(o=e==null?void 0:e.coin_a)==null?void 0:o.decimals,(F=e==null?void 0:e.coin_b)==null?void 0:F.decimals).toString(),N=ee.tickIndexToPrice(s,(w=e==null?void 0:e.coin_a)==null?void 0:w.decimals,(m=e==null?void 0:e.coin_b)==null?void 0:m.decimals).toString();i=x?_(1).div(N).toString():$,S=x?_(1).div($).toString():N}return{haveFarming:C,farmsRewarderList:c,farmsApr:A.toString(),farmingAprDisplay:n,farmsStatedTvl:d,farmsStatedTvlDisplay:r,farmsEffectiveTickLower:t,farmsEffectiveTickUpper:s,displayFarmsEffectMinPrice:i,displayFarmsEffectMaxPrice:S,farmsPoolAddress:g}};return{wrapPoolData:(e,x=!1)=>{var W,H,q,V,X,z,Q;const C=e==null?void 0:e.object,c=(W=e==null?void 0:e.object)==null?void 0:W.index,g=e.address,d=(e==null?void 0:e.is_forward)===!1,r={...e==null?void 0:e.coin_a,coin_type:(q=D((H=e==null?void 0:e.coin_a)==null?void 0:H.address))==null?void 0:q.source_address},n={...e==null?void 0:e.coin_b,coin_type:(X=D((V=e==null?void 0:e.coin_b)==null?void 0:V.address))==null?void 0:X.source_address},t=d?n:r,s=d?r:n,i=`${t==null?void 0:t.symbol} - ${s==null?void 0:s.symbol}`,S=_(e.fee).mul(1e4).toString(),A=_(e.fee).mul(100).toString()+"%",a=e==null?void 0:e.tick_spacing,u=E(e.pure_tvl_in_usd||0),L=E(e.vol_in_usd_24h||0),h=E(e.fee_24_h||0),v=U((z=e==null?void 0:e.apr)==null?void 0:z.fee_apr_24h),y=U((Q=e==null?void 0:e.apr)==null?void 0:Q.fee_apr_24h,!0),{haveMining:I,miningRewardList:M,miningAprList:k,miningAprTotal:O}=f(e),{haveFarming:o,farmsRewarderList:F,farmsApr:w,farmingAprDisplay:m,farmsStatedTvl:T,farmsStatedTvlDisplay:$,farmsEffectiveTickLower:N,farmsEffectiveTickUpper:P,displayFarmsEffectMinPrice:B,displayFarmsEffectMaxPrice:R,farmsPoolAddress:j}=b(e),J=G([v,O]),fe=_(J).gt(1e4)?">1,000,000%":E(_(J).mul(100).toString(),"%"),de=G([J,w]),ne=G([v,w],!0),re=G([J,w],!0),K=e.is_vaults,ie=!K&&e.vaults&&e.vaults.length>0,be=e.vaults&&e.vaults.length>0&&e.vaults[e.vaults.length-1];return x?{poolAddress:g,name:i,isReverse:d,tokenA:r,tokenB:n,displayTokenA:t,displayTokenB:s,haveMining:I,miningRewardList:null,miningAprList:null,haveFarming:o,farmsRewarderList:null,farmsApr:"--",farmingAprDisplay:"--",feeApr:"--",feeAprDisplay:"--",miningAprTotal:"--",feeAndMiningAprDisplay:"--",totalAprDisplay:"--",feeRate:S,fee:e.fee,feeDisplay:A,tvlDisplay:"--",tvl:"--",volume24Display:"--",fees24Display:"--",isVaults:K,isLocalData:x,farmsStatedTvl:"--",farmsStatedTvlDisplay:"--",feeAndFarmsApr:"--",feeAndFarmsAprDisplay:"--",farmsEffectiveTickLower:N,farmsEffectiveTickUpper:P,displayFarmsEffectMinPrice:B,displayFarmsEffectMaxPrice:R,farmsPoolAddress:j,tickSpacing:a,index:c,object:C}:{poolAddress:g,name:i,isReverse:d,tokenA:r,tokenB:n,displayTokenA:t,displayTokenB:s,haveMining:I,miningRewardList:M,miningAprList:k,haveFarming:o,farmsRewarderList:F,farmsApr:w,farmingAprDisplay:m,feeApr:v,feeAprDisplay:y,miningAprTotal:O,feeAndMiningAprDisplay:fe,totalAprDisplay:re,fee:e.fee,feeRate:S,feeDisplay:A,tvlDisplay:u,tvl:e.pure_tvl_in_usd||0,volume24Display:L,fees24Display:h,isVaults:K,farmsStatedTvl:T,farmsStatedTvlDisplay:$,feeAndFarmsApr:de,feeAndFarmsAprDisplay:ne,farmsEffectiveTickLower:N,farmsEffectiveTickUpper:P,displayFarmsEffectMinPrice:B,displayFarmsEffectMaxPrice:R,farmsPoolAddress:j,tickSpacing:a,index:c,object:C,isUnstableVault:ie,vaultId:be}}}}function Ee(){const{fetchByApi:f}=xe(),{wrapPoolData:b}=ye(),l=async c=>{var g;try{const d={...c},r=Ae(c==null?void 0:c.coin_type);r&&(d.coin_type=r);const n=await f(_e,"GET",d);if(n!=null&&n.lp_list){const t=(g=n==null?void 0:n.lp_list)==null?void 0:g.map(s=>b(s));return console.log("ðŸš€ ~ file: useGetPoolList.ts:42 ~ poolList ~ poolList:",t),{list:t,total:n==null?void 0:n.total}}}catch(d){return console.log("ðŸš€ ~ useGetPoolList ~ error:",d),await e(c)}return{list:[],total:0}},e=async c=>{var g,d,r,n;try{const t=await fetch("/data/pools.json",{cache:"no-cache"}).then(s=>s.json());if(console.log(t,"getLocalJsonPoolList"),(g=t==null?void 0:t.data)!=null&&g.lp_list){const s=(d=t==null?void 0:t.data)==null?void 0:d.lp_list;let i=s;if(c!=null&&c.pool&&(i=s==null?void 0:s.filter(a=>{var u;return((u=c==null?void 0:c.pool)==null?void 0:u.toLocaleLowerCase())==(a==null?void 0:a.address.toLocaleLowerCase())})),c!=null&&c.coin_type){const a=(n=(r=c==null?void 0:c.coin_type)==null?void 0:r.split(","))==null?void 0:n.map(u=>D(u).source_address);i=s==null?void 0:s.filter(u=>{var v,y;const L=D((v=u==null?void 0:u.coin_a)==null?void 0:v.address).source_address,h=D((y=u==null?void 0:u.coin_b)==null?void 0:y.address).source_address;return(a==null?void 0:a.length)>1&&a.includes(L)&&a.includes(h)?!0:!!((a==null?void 0:a.length)===1&&(a.includes(L)||a.includes(h)))})}c!=null&&c.is_vaults&&(i=s==null?void 0:s.filter(a=>a==null?void 0:a.is_vaults)),c!=null&&c.has_farming&&!(c!=null&&c.is_vaults)&&!(c!=null&&c.has_mining)&&!(c!=null&&c.no_incentives)&&(i=s==null?void 0:s.filter(a=>a==null?void 0:a.has_farming));const S=JSON.parse(JSON.stringify(i)).splice(0,40);return{list:S==null?void 0:S.map(a=>b(a,!0)),total:(i==null?void 0:i.length)||0}}}catch(t){console.error("getLocalJsonPoolList Error:",t)}return{list:[],total:0}},x=c=>ce(c)==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":ce(c);return{getPoolList:l,getLocalJsonPoolList:e,getLocalJsonPoolAddress:async(c,g)=>{try{const d=x(c),r=x(g),n=await fetch("/data/all-pools.json").then(t=>t.json());if(n){const t=n[`${d.toLocaleLowerCase()}-${r.toLocaleLowerCase()}`]||n[`${r.toLocaleLowerCase()}-${d.toLocaleLowerCase()}`];return console.log("ðŸš€ --------------------------------------------------ðŸš€"),console.log("ðŸš€ ~ getLocalJsonPoolAddress ~ poolList:",t,`${d.toLocaleLowerCase()}-${r.toLocaleLowerCase()}`,`${r.toLocaleLowerCase()}-${d.toLocaleLowerCase()}`),console.log("ðŸš€ --------------------------------------------------ðŸš€"),t}}catch(d){console.error("getLocalJsonPoolAddress Error:",d)}return[]}}}export{Ce as T,we as a,Se as b,Ie as c,Pe as d,De as e,se as f,ve as g,ye as h,Ee as u};
