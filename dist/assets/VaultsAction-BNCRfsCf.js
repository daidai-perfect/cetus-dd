import{a as u,j as e,V as J,W as gt,X as _t,Y as St,Z as Ct,a7 as Yt,$ as wt,a0 as jt,H as fe,T as B,f as vt,q as ke,p as ot,I as qt,a1 as Qt,aB as ft,a2 as Jt,a3 as Kt,a4 as Xt,P as Zt,h as Pt,aq as Tt,m as kt,n as es}from"./vendor-BFGDaAdA.js";import{v as Le,S as ts}from"./usePriceImpact-DJ--uX3c.js";import{Q as yt,aY as ut,k as it,n as ct,j as We,a1 as Rt,G as Ye,af as Ne,t as me,aT as qe,X as ss,B as Re,s as lt,d as ue,aZ as as,Z as R,r as Xe,M as Me,a_ as rt,E as he,a$ as Ze,aI as Vt,aV as os,a as dt,C as ns,aj as ls,i as It,a9 as rs,x as nt,a2 as xt,O as us}from"./index-QNvgVKlA.js";import{a as Ot,d as is,u as Dt,i as cs,c as ds,e as ps,g as ms,h as pt,j as Mt,f as Lt}from"./VaultsAprBlock-D1GuVHob.js";import{R as fs}from"./RefreshButton-Bqj6ePwp.js";import{T as xs}from"./TradeConfirmAmountInfo-CT2s8_lq.js";import{T as bs}from"./TotalAmount-CuHzhAl9.js";import{H as Pe}from"./HTextLabelBox-BtA_IlNt.js";import{u as Te}from"./global-B2mCTGzM.js";import{M as Wt}from"./msafe-oYBkW7LJ.js";import{f as Se}from"./index-DTh9ITUf.js";import{u as $t}from"./useAccountBalance-dpDaMlfe.js";import{u as bt}from"./useTokenBalance-Bb797F7L.js";import{u as zt}from"./useTransaction-D8x8EhDP.js";import{T as Et}from"./TradeInputGroup-CgK4vFNA.js";import{C as ht}from"./CheckBox-BA2PcE7i.js";import{P as hs}from"./RemoveBlock-C66QWwES.js";import{u as gs}from"./useFindBestRouting-YU1qGFi4.js";const _s=(n,a)=>({amountInputA:"",amountInputB:"",setAmountInputA:t=>{n(()=>({amountInputA:t}))},setAmountInputB:t=>{n(()=>({amountInputB:t}))},fromToken:{},toToken:{},setFromToken:t=>n({fromToken:t}),setToToken:t=>n({toToken:t}),calculateResult:{amount_a:"",amount_b:"",ft_amount:""},setCalculateResult:t=>n({calculateResult:t}),clearVaultsActionData:()=>n({amountInputA:"",amountInputB:"",calculateResult:{amount_a:"",amount_b:"",ft_amount:""}})}),$e=yt(_s);function At(){const{setCurrentVaultPosition:n,vaultsPositionObj:a,setCurrentVaultPositionLoading:t,setVaultsPositionObj:c}=Ot(),{vaultClmmPoolContractInfoObj:o,setLstVaultContractInfoObj:i,setHaedalVaultContractInfoObj:_}=is(),{volatileVaultsSdk:s}=ut(),g=it("vaults"),{vaultsList:x}=Dt(),{getVaultPoolList:w}=cs(),{getVaultPosition:W}=ds(),{getVaultsContractInfo:b}=ps(),{getPythLastPrice:y}=ms(),{fetchTokenPrices:O}=ct(),{setFromToken:m,setToToken:V}=$e(),{currentAccount:v}=We(),L=u.useRef(v==null?void 0:v.address);u.useEffect(()=>{L.current=v==null?void 0:v.address},[v==null?void 0:v.address]);const Y=($,H=!1)=>{if(console.log("ğŸš€ğŸš€ğŸš€ ~ useCurrentVaultDetail.ts:61 ~ getCurrentVaultDetail ~ getCurrentVaultDetail:"),console.log("ğŸš€ğŸš€ğŸš€ ~ useCurrentVaultDetail.ts:44 ~ getCurrentVaultDetail ~ vaultsPositionObj:",a,L.current),Rt(a)&&a[$]&&!H){const I=a[$];if(console.log("ğŸš€ğŸš€ğŸš€ ~ useCurrentVaultDetail.ts:46 ~ getCurrentVaultDetail ~ currentVaultPositionData:",I),I.ownerAddress==L.current&&L.current){const{displayTokenA:z,displayTokenB:E}=I;m(z),V(E),n(I),t(!1)}else D($,H)}else D($,H)},ee=async $=>{const I=(await w()).filter(A=>A.vaultId==$)[0],{displayTokenA:z,displayTokenB:E}=I;m(z),V(E),I.category=="haedal"?y([Ye(I.displayTokenA.coin_type,!1),Ye(I.displayTokenB.coin_type,!1)]):O([Ye(I.displayTokenA.coin_type,!1),Ye(I.displayTokenB.coin_type,!1)]);const{lstVaultContractInfoObj:G,haedalVaultContractInfoObj:Ce,allClmmPoolContractInfoObj:we}=await b([I]),ie=we[I.clmmPoolAddress];return{vaultContractInfo:I.category=="cetus"?G[I.vaultId]:Ce[I.vaultId],clmmContractInfo:ie,vault:I}},D=async($,H=!1)=>{console.log("ğŸš€ğŸš€ğŸš€ ~ useCurrentVaultDetail.ts:87 ~ getCurrentVaultByVaultId ~ getCurrentVaultByVaultId:"),L.current&&!H&&t(!0);const{vaultContractInfo:I,clmmContractInfo:z,vault:E}=await ee($);console.log("ğŸš€ğŸš€ğŸš€ ~ useCurrentVaultDetail.ts:92 ~ getCurrentVaultByVaultId ~ vaultContractInfo:",I),console.log("ğŸš€ğŸš€ğŸš€ ~ useCurrentVaultDetail.ts:93 ~ getCurrentVaultByVaultId ~ clmmContractInfo:",z);let G={};z&&I&&L.current?(G=await W(E,z,I),G[E.vaultId].ownerAddress==L.current&&L.current&&(n(G[E.vaultId]),t(!1))):t(!1)};return{getCurrentVaultDetail:Y,getCurrentVaultContractInfo:ee,getCurrentVaultByVaultId:D,updateCurrentVaultById:async $=>{const H=x.filter(E=>E.vaultId==$)[0],I=o[H.clmmPoolAddress],z=H.category=="cetus"?await g.Vaults.getVault(H.vaultId):await s.Vaults.getPool(H.vaultId);if(H.category=="cetus"?i({[H.vaultId]:z}):_({[H.vaultId]:z}),I&&z){const E=await W(H,I,z);console.log("ğŸš€ğŸš€ğŸš€ ~ useCurrentVaultDetail.ts:100 ~ updateCurrentVaultById ~ currentVaultPosition:",E),E[H.vaultId].ownerAddress==L.current&&L.current&&(n(E[H.vaultId]),c(E))}}}}function Nt(n){const{poolName:a,amountLimit:t,lpRate:c,inputTotalValue:o,preCalculateLoading:i,labelColor:_,lpDecimals:s,calculateLpLoading:g}=n;return e.jsxs(J,{w:"100%",gap:"20px",children:[e.jsx(bs,{totalAmount:o,loading:i}),e.jsx(Pe,{label:"Share of Pool",labelStyle:{fontSize:"14px",color:_},value:c,isLoading:g,valueStyle:{fontSize:"14px",h:"14px"}}),e.jsx(Pe,{label:"Est. Received LP",labelStyle:{fontSize:"14px",color:_},value:`${Ne(me(qe(t||"0",s||9)).toString(),9)} ${a}`,valueStyle:{fontSize:"14px",h:"14px"},isLoading:g})]})}function Ss(n){const{isOpen:a,onClose:t,data:c,onSubmitClick:o,calculateLpLoading:i}=n,{feeTier:_,displayTokenA:s,displayTokenB:g,displayAmountA:x,displayAmountB:w,totalAmountValue:W,sharePool:b,lpAmountLimit:y,lpDecimals:O}=c;return e.jsxs(gt,{autoFocus:!1,returnFocusOnClose:!1,isOpen:a,onClose:t,isCentered:!0,children:[e.jsx(_t,{}),e.jsxs(St,{children:[e.jsx(Ct,{children:e.jsx(Yt,{fontWeight:"500",fontSize:"16px",children:"Deposit"})}),e.jsx(wt,{}),e.jsx(jt,{textAlign:"center",p:"0px",children:e.jsxs(J,{w:"100%",gap:"20px",p:"16px",pb:"0px",pos:"relative",children:[e.jsxs(fe,{w:"100%",justifyContent:"space-between",children:[e.jsxs(fe,{children:[e.jsx(ss,{coinAIconUrl:s==null?void 0:s.logo_url,coinBIconUrl:g==null?void 0:g.logo_url,imageStyle:{w:"40px",h:"40px"},imgBoxStyle:{w:"40px",h:"40px"}}),e.jsx(B,{fontSize:"16px",color:"text_caption",children:`${s==null?void 0:s.symbol} - ${g==null?void 0:g.symbol}`})]}),e.jsx(Re,{w:"unset",p:"6px 8px",borderRadius:"12px",ml:"4px",children:e.jsxs(fe,{children:[e.jsx(B,{children:"Fee Tier"}),e.jsx(B,{color:"primary",children:_})]})})]}),e.jsx(xs,{coinA:{amount:x,...s},iconParams:{xlinkHref:"#icon-icon_add",svgFill:"text_caption"},coinB:{amount:w,...g}}),e.jsx(Nt,{amountLimit:y,inputTotalValue:W,preCalculateLoading:!1,calculateLpLoading:i,lpRate:b,lpDecimals:O,poolName:`${s==null?void 0:s.symbol} - ${g==null?void 0:g.symbol}`}),e.jsx(vt,{h:"52px"}),e.jsx(ke,{pos:"absolute",bottom:"0px",mt:"4px",w:"100%",h:"52px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",onClick:()=>{o()},children:"Deposit"})]})})]})]})}function Cs(n){const{getTokenAmountValueByPyth:a,getTokenPriceByPyth:t}=pt();if(n){const{hardCap:c,quoteCoinType:o,displayCoinTypeA:i,displayCoinTypeB:_,displayAmountA:s,displayAmountB:g,quoteCoin:x,baseCoin:w,baseCoinType:W}=n,b=a(o,c);if(!b)return{};const y=lt(b),O=a(i,s),m=a(_,g),V=ue(O).add(ue(m)).toString(),v=ue(V).div(ue(b)).mul(100).toString(),L=lt(v,"%"),Y=t(o),ee=t(W),D=ue(b).sub(ue(V)).gt(0)?ue(b).sub(ue(V)).toString():"0";let K,$;return D!=="0"?(K=ue(D).div(Y||"0").toString(),$=ue(D).div(ee||"0").toString()):(K="0",$="0"),{hardCap:c,hardCapUSD:b,vaultTvl:V,displayHardCapUSD:y,depositRatio:v,displayDepositRatio:L,baseCoin:w,quoteCoin:x,availableCapacityWithQuoteCoin:K,availableCapacityWithBaseCoin:$,availableCapacityUSD:D}}return{}}function ws(n,a){return{lpRate:u.useMemo(()=>n&&a?ue(a).eq(0)?"100%":`${as(ue(n).div(ue(n).add(a)).mul(100).toString(),2,6)}%`:"0%",[n,a])}}function Ht(n,a,t=!1){return{amountLimit:u.useMemo(()=>{if(a)return ue(a).mul(t?1+n:1-n).toString()},[a,n,t])}}function Ft(n){return{stakeProtocolName:u.useMemo(()=>{if(n){if(n.includes("HASUI"))return"Haedal";if(n.includes("AFSUI"))return"Aftermath";if(n.includes("CERT"))return"Volo"}},[n])}}function js(n,a,t,c,o,i,_,s,g,x){const{balanceInfo:w}=bt(t),{balanceInfo:W}=bt(c),{amountInputA:b,amountInputB:y,setAmountInputA:O,setAmountInputB:m,setCalculateResult:V,calculateResult:v}=$e(),{getTokenAmountValueByPyth:L}=pt(),{getTokenAmountValue:Y}=ct(),{volatileVaultsSdk:ee}=ut(),D=it("vaults"),{vaultsSlippage:K}=Te(),{updateCurrentVaultById:$}=At(),{fetchAccountBalance:H}=$t(),[I,z]=u.useState(!1),{currentAccount:E}=We(),{pythPriceMap:G}=Mt(),{mevProtect:Ce,transactionMode:we,maxCapForGas:ie,customGasPrice:xe}=Te(),[A,T]=u.useState(0),te=u.useRef(0);u.useEffect(()=>{te.current=A},[A]);const pe=u.useMemo(()=>a=="cetus"?Y(t==null?void 0:t.coin_type,b):_&&I&&i==(t==null?void 0:t.coin_type)?R(g||"0").mul(A).div(100).toString():L(t==null?void 0:t.coin_type,b),[t==null?void 0:t.coin_type,b,G,a,_,I,A]),k=u.useMemo(()=>a=="cetus"?Y(c==null?void 0:c.coin_type,y):_&&I&&i==(c==null?void 0:c.coin_type)?R(g||"0").mul(A).div(100).toString():L(c==null?void 0:c.coin_type,y),[t==null?void 0:t.coin_type,y,G,a,_,I,A]),C=u.useMemo(()=>o?c:t,[o,t,c]),h=u.useMemo(()=>o?t:c,[o,t,c]),[P,oe]=u.useState(""),X=u.useRef("");u.useEffect(()=>{X.current=P},[P]);const[se,ce]=u.useState(!1),ae=u.useRef(!1);u.useEffect(()=>{ae.current=se},[se]);const[F,je]=u.useState(!1),[ne,ze]=u.useState(!1),[He,q]=u.useState(!1),Z=u.useRef(""),le=u.useRef("");u.useEffect(()=>{Z.current=b},[b]),u.useEffect(()=>{le.current=y},[y]);const U=u.useMemo(()=>_?i=="both"?"FlexibleBoth":i==(C==null?void 0:C.coin_type)?"OnlyCoinA":"OnlyCoinB":"FixedOneSide",[_,i,C]),de=(r,l,d=!1)=>{if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:141 ~ wrapRes ~ res:",r),r)if(a=="haedal"){const p=R(r.deposit_amount_a).div(10**C.decimals).toString(),f=R(r.deposit_amount_b).div(10**h.decimals).toString();console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:150 ~ wrapRes ~ isSlider:",d),d?((i=="both"||i==(t==null?void 0:t.coin_type))&&(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:154 ~ wrapRes ~ setAmountInputA:",O),O(o?f:p)),(i=="both"||i==(c==null?void 0:c.coin_type))&&(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:154 ~ wrapRes ~ setAmountInputA:",m),m(o?p:f))):l?m(o?p:f):O(o?f:p)}else{const p=R(r.amount_a).div(10**C.decimals).toString(),f=R(r.amount_b).div(10**h.decimals).toString();l?m(o?p:f):O(o?f:p)}},be=async(r,l,d,p)=>{try{q(!0);const f=(o?!l:l)?C:h,j=(o?!l:l)?h:C,M=he(r,f.decimals).toFixed(0),N=he(d||0,j.decimals).toFixed(0),Q=o?!l:l;je(Q),a=="haedal"?ge(M,l,N,Q,p):Ve(M,l,Q,p)}catch{}},ge=async(r,l,d,p,f)=>{let j={uuid:f,mode:"FixedOneSide",fixed_amount:"0",fixed_coin_a:p,pool_id:n};_?(U==="OnlyCoinA"&&(j={uuid:f,mode:U,pool_id:n,coin_amount_a:r}),U==="OnlyCoinB"&&(j={uuid:f,mode:U,pool_id:n,coin_amount_b:r}),U=="FlexibleBoth"&&(j={uuid:f,mode:U,pool_id:n,coin_amount_a:p?r:d,coin_amount_b:p?d:r})):j={uuid:f,mode:"FixedOneSide",fixed_amount:r,fixed_coin_a:p,pool_id:n},console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:257 ~ params:",j);const M=await ee.Vaults.preCalculateDepositAmount(j,{onSuccess:N=>{console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:185 ~ uuid:",f,X.current),f==X.current&&(U=="FixedOneSide"||U=="OnlyCoinA"||U=="OnlyCoinB"?Z.current||le.current:Z.current&&le.current)?(V({amount_a:o?M.deposit_amount_b:M.deposit_amount_a,amount_b:o?M.deposit_amount_a:M.deposit_amount_b,ft_amount:N}),q(!1)):(q(!1),V(void 0))},onError:(N,Q)=>{q(!1)}});console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:279 ~ res:",M),X.current===f&&(U=="FixedOneSide"&&(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:179 ~ haedalPreCalculate ~ res:",M),de(M,l)),(U=="FixedOneSide"||U=="OnlyCoinA"||U=="OnlyCoinB"?Z.current||le.current:Z.current&&le.current)&&at(M))},Ve=async(r,l,d,p)=>{if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:214 ~ lstPreCalculate ~ uuid:",p),C&&h&&n)try{q(!0);const f={vault_id:n,fix_amount_a:d,input_amount:r,slippage:Number(K),request_id:p,side:i==="both"?Ze.Both:Ze.OneSide};console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:279 ~ lstPreCalculate ~ params:",f);const j=await D.Vaults.calculateDepositAmount(f,!0,!0);console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:204 ~ lstPreCalculate ~ res:",j),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:221 ~ lstPreCalculate ~ uuidRef.current1:",X.current===p,X.current,"-----",p),X.current===p&&(_||de(j,l),V(j),q(!1))}catch{V(void 0)}finally{q(!1)}},Ee=Xe(be,500),re=async(r,l,d)=>{if(l?O(r):m(r),g=="0"&&a=="haedal")return;if(ce(l),!r&&!d){_e();return}if(i=="both"&&_&&(!+r||!+d)){q(!1),V(void 0),T(0);return}const p=a=="haedal"?L(l?t.coin_type:c.coin_type,r):Y(l?t.coin_type:c.coin_type,r),f=a=="haedal"?L(l?c.coin_type:t.coin_type,d):Y(l?c.coin_type:t.coin_type,d),j=R(p).add(R(f));if(_&&(j.gt(1e4)||j.gt(0)&&j.lt(1e-4))){T(0);return}const M=Le();oe(M),+r?Ee(r,l,d,M):_||_e()},_e=()=>{O(""),m(""),T(0),oe(""),V(void 0),q(!1)},Ie=u.useMemo(()=>(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:386 ~ inputTotalValue ~ amountValueA:",pe),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:387 ~ inputTotalValue ~ amountValueB:",k),R(pe||"0").add(k||"0").toString()),[pe,k]),Fe=u.useMemo(()=>_?R(Ie).gt(R(1e4)):!1,[Ie,_]),Ae=u.useMemo(()=>_?R(Ie).gt(0)&&R(Ie).lt(R(1e-4)):!1,[Ie,_]),{stakeProtocolName:Qe}=Ft(F?h==null?void 0:h.coin_type:C==null?void 0:C.coin_type),Ge=u.useMemo(()=>{if(a!="haedal"&&i!=="both"&&C&&h&&(+b||+y)){const r=F?b:y,l=F?C:h,d=F?h:C;if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:424 ~ showOnlySideTips ~ calculateResult:",v),v&&v.swap_result){const p=Me(v.swap_result.swap_in_amount,l.decimals),f=Me(R(v.swap_result.swap_out_amount).mul(1-Number(K)).toString(),d.decimals);return rt.isSuiCoin(l.coin_type)?`By depositing ${Ne(me(r,9).toString(),9)} SUI, ${Ne(me(p,9).toString(),9)} SUI will be converted to ${d==null?void 0:d.symbol} via ${Qe} liquid staking and added to the pool together.`:`By depositing ${Ne(me(r,9).toString(),9)} ${l==null?void 0:l.symbol}, ${Ne(me(p,9).toString(),9)} ${l==null?void 0:l.symbol} will be traded for ${Ne(me(f,9).toString(),9)} ${d==null?void 0:d.symbol} and then added to the pool together.`}else if(!rt.isSuiCoin(i)){const p=Y(i,r);if(R(p).gt(1e4))return"Single-asset deposit can't be higher than $10,000 at a time."}}},[i,v,b,y,a]),{signAndExecuteTransaction:Ue,transactionConfirmation:et,transactionRejected:tt}=zt(),Je=()=>{if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:474 ~ reCalculateResult ~ reCalculateResult:"),g=="0"&&a=="haedal"){O(""),m(""),T(0),q(!1),V(void 0);return}if(i=="both"&&(!+b||!+y))return;const r=Le();if(oe(r),I)De(te.current,x,s,r);else{const l=ae.current?Z.current:le.current,d=se?le.current:Z.current;+l&&Ee(l,se,d,r)}},De=Xe(async(r,l,d,p)=>{var j;console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:470 ~ preCalculateDepositValue ~ percent:",r),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:431 ~ preCalculateDepositValue ~ coin:",d),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:432 ~ preCalculateDepositValue ~ pythPriceMap:",G);const f=(j=G[Ye(d==null?void 0:d.coin_type,!1)])==null?void 0:j.price;if(C&&h&&n){const M=R(l).mul(r).div(100).mul(f).toString();if(M=="0"){V(void 0),O(""),m(""),T(0),q(!1);return}console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:464 ~ preCalculateDepositValue ~ coin:",d),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:464 ~ preCalculateDepositValue ~ coinPrice:",f),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:464 ~ preCalculateDepositValue ~ percent:",r),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:464 ~ preCalculateDepositValue ~ availableCapacityWithCoin:",l),R(l).mul(r).div(100).toString(),q(!0);const N={mode:U,pool_id:n,amount_usd:M,uuid:p};console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:472 ~ preCalculateDepositValue ~ params:",N);const Q=await ee.Vaults.preCalculateDepositValue(N,{onSuccess:(ve,ye)=>{ye==X.current&&(U=="FixedOneSide"||U=="OnlyCoinA"||U=="OnlyCoinB"?Z.current||le.current:Z.current&&le.current)?(V({amount_a:o?Q.deposit_amount_b:Q.deposit_amount_a,amount_b:o?Q.deposit_amount_a:Q.deposit_amount_b,ft_amount:ve}),q(!1)):(q(!1),V(void 0))},onError:(ve,ye)=>{console.log("ğŸš€ ~ preCalculate ~ error:",ve)}});if(p!==X.current)return;console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:492 ~ preCalculateDepositValue ~ res:",Q),de(Q,!0,!0)}},500),st=(r,l,d,p)=>{if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:536 ~ handlePercentInputChange ~ percent:",r),R(r).lte(0)){console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:538 ~ handlePercentInputChange ~ percent11111:"),V(void 0),O(""),m(""),q(!1);return}De(r,l,d,p)},at=async r=>{if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:503 ~ calculateDepositRatioWithAvailableCapacity ~ wrapRes:",r),C&&h){const l=qe(r.deposit_amount_a,C==null?void 0:C.decimals),d=qe(r.deposit_amount_b,h==null?void 0:h.decimals),p=L(C==null?void 0:C.coin_type,String(l)),f=L(h==null?void 0:h.coin_type,String(d)),j=R(p).add(R(f)).toString(),M=R(j).div(R(g)).mul(100);if(g=="0"){T(0),O(""),m(""),V(void 0),q(!1);return}if(M.gt(100)){const N=Le();oe(N),T(100),De(100,x,s,N)}else if(Z.current||le.current){const N=me(M.toString(),2);T(Number(N))}}},Be=async()=>{if(n){let r;a=="haedal"?r={pool_id:n,amount_a:String(o?he(y||0,String(C==null?void 0:C.decimals)):he(b||0,String(C==null?void 0:C.decimals))),amount_b:String(o?he(b||0,String(h==null?void 0:h.decimals)):he(y||0,String(h==null?void 0:h.decimals)))}:r={vault_id:n,slippage:Number(K),deposit_result:v},console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:261 ~ doAddAction ~ depositParams:",r);const l={getShowInfo:(d,p,f)=>{console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:306 ~ doAddAction ~ res:",f);const j="Deposit "+[Se(b,o?h==null?void 0:h.symbol:C==null?void 0:C.symbol),Se(y,o?C==null?void 0:C.symbol:h==null?void 0:h.symbol)].filter(Boolean).join(" and "),M={modalDescriptionText:j,toastTitleText:j};if(d==="success"){let N=b,Q=y;f&&f.events.forEach(ye=>{ye.type.indexOf("::pool::DepositEvent")>-1&&C&&h&&(N=String(qe(ye.parsedJson.amount_a,C.decimals)),Q=String(qe(ye.parsedJson.amount_b,h.decimals)))});const ve="Deposit "+[Se(o?Q:N,o?h==null?void 0:h.symbol:C==null?void 0:C.symbol),Se(o?N:Q,o?C==null?void 0:C.symbol:h==null?void 0:h.symbol)].filter(Boolean).join(" and ");M.toastDescriptionContent=ve,M.modalDescriptionText=ve,M.toastTitleText="Deposit successful"}return M}};et(l);try{const d=new Vt;d.setSender(E.address),a=="haedal"?await ee.Vaults.buildDepositPayload(r,d):(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:447 ~ doAddAction ~ vaultsSdk:",D,r),await D.Vaults.deposit(r,d)),await Ue(d,l,{useMev:Ce,txAction:"signTransactionBlock",useFastMode:we==="Fast Mode",maxCapForGas:ie,customGasPrice:xe,msafeParams:{action:Wt.AddVaultsPosition,txbParams:r}})?(_e(),setTimeout(()=>{H(),$(n)},2e3)):Je()}catch(d){console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsAdd.ts:418 ~ doAddAction ~ error:",d),tt(l)}}},S=u.useMemo(()=>i==(s==null?void 0:s.coin_type)||i=="both",[i,s]);return u.useEffect(()=>()=>{X.current=""},[]),{balanceInfoA:w,balanceInfoB:W,amountValueA:pe,amountValueB:k,handleAmountInputChange:re,amountInputA:b,amountInputB:y,setAmountInputA:O,setAmountInputB:m,resetInputAmount:_e,preCalculateLoading:ne,isFixedDisplayTokenA:se,zapNumGtError:Fe,zapNumLtError:Ae,calculateLpLoading:He,inputTotalValue:Ie,showOnlySideTips:Ge,doAddAction:Be,reCalculateResult:Je,percentage:A,setPercentage:T,isSlider:I,setIsSlider:z,handlePercentInputChange:st,isQuoteCoin:S,setUuid:oe,uuidRef:X}}function Gt(n,a,t,c,o,i,_,s,g,x,w,W){const{currentAccount:b}=We(),{calculateResult:y}=$e();console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsButtonStatus.ts:23 ~ calculateResult:",y);const O=u.useMemo(()=>{const m={text:void 0,disabled:!1};if(!(b!=null&&b.address))return m.text="Connect Wallet",m.disabled=!1,m;if(!o||!i)return m.disabled=!0,m;if(_==="both"){if(!+n&&!+a||W&&(!+n||!+a))return m.text="Enter an amount",m.disabled=!0,m}else{if(_==(o==null?void 0:o.coin_type)&&!+n||_==(i==null?void 0:i.coin_type)&&!+a)return m.text="Enter an amount",m.disabled=!0,m;if(w=="cetus"&&s){const V=rt.isSuiCoin(_);if(V&&_===(o==null?void 0:o.coin_type)&&R(n).lt(3)||V&&_===(i==null?void 0:i.coin_type)&&R(a).lt(3))return m.text="Minimum deposit 3 SUI",m.disabled=!0,m}}if(_=="both"){if(R(n||"0").gt(t||"0"))return m.disabled=!0,m.text=s?`Insufficient ${o==null?void 0:o.symbol} Balance`:"Invalid Amount",m;if(R(a||"0").gt(c||"0"))return m.disabled=!0,m.text=s?`Insufficient ${i==null?void 0:i.symbol} Balance`:"Invalid Amount",m}if(_!=="both"){if(R(n||"0").gt(t||"0"))return m.disabled=!0,m.text=s?`Insufficient ${o==null?void 0:o.symbol} Balance`:"Invalid Amount",m;if(R(a||"0").gt(c||"0"))return m.disabled=!0,m.text=s?`Insufficient ${i==null?void 0:i.symbol} Balance`:"Invalid Amount",m}return console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsButtonStatus.ts:111 ~ submitBtnInfo ~ zapNumGtError:",g,x),s&&g||s&&x?(m.text="Enter an amount",m.disabled=!0,m):(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsButtonStatus.ts:133 ~ submitBtnInfo ~ calculateResult:",y),(y&&y.ft_amount=="0"||y&&y.burn_ft_amount=="0"||!y)&&(m.disabled=!0,m.text="Enter an amount"),m)},[n,a,t,c,o,i,_,g,x,w,b==null?void 0:b.address,y]);return{btnText:O.text,btnDisabled:O.disabled}}const vs=(n,a)=>({isCheckedAcceptWalletObj:{},setIsCheckedAcceptWalletObj:t=>n(()=>({isCheckedAcceptWalletObj:{...a().isCheckedAcceptWalletObj,...t}})),isCheckedDontRemindWalletObj:{},setIsCheckedDontRemindWalletObj:t=>n(()=>({isCheckedDontRemindWalletObj:{...a().isCheckedDontRemindWalletObj,...t}}))}),Ut=yt(os(vs,{name:"useVaultsRiskStore",partialize:n=>{const{isCheckedAcceptWalletObj:a,isCheckedDontRemindWalletObj:t}=n;return{isCheckedAcceptWalletObj:a,isCheckedDontRemindWalletObj:t}}})),Ke=({children:n})=>e.jsx(B,{lineHeight:"20px",color:"text_caption",fontSize:"12px",position:"relative",pl:"10px",_before:{content:'""',display:"inline-block",w:"4px",h:"4px",borderRadius:"50%",bg:"primary",position:"absolute",left:"0",top:"8px"},children:n});function ys(n){const{isOpen:a,setIsOpen:t,continueFunc:c}=n,[o,i]=u.useState(!1),[_,s]=u.useState(!1),{setIsCheckedAcceptWalletObj:g,setIsCheckedDontRemindWalletObj:x}=Ut(),{currentAccount:w}=We(),W=()=>{const y={[w==null?void 0:w.address]:o};g(y);const O={[w==null?void 0:w.address]:_};x(O),c()},{isApp:b}=dt();return e.jsxs(gt,{isCentered:!0,isOpen:a,onClose:()=>{t(!1)},children:[e.jsx(_t,{}),e.jsxs(St,{width:{base:"100%",lg:"480px"},children:[e.jsx(Ct,{children:e.jsx(B,{fontSize:b?"14px":"16px",fontWeight:"500",color:"caption",lineHeight:b?"20px":"40px",children:"Risk Acknowledgement"})}),e.jsx(wt,{m:b?"":"12px 2px 0 0"}),e.jsxs(jt,{p:"0 16px",children:[e.jsxs(J,{bg:"menu_item_bg",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"16px 12px",gap:b?"12px":"16px",children:[e.jsx(B,{w:"100%",textAlign:"left",fontSize:"12px",children:"Before you provide liquidity via this vault:"}),e.jsxs(J,{gap:b?"12px":"16px",children:[e.jsx(Ke,{children:"You acknowledge that this vault strategy is provided by a third party. Cetus integrates it at the UI level for user convenience but does not operate this product or take responsibility for third-party risks."}),e.jsx(Ke,{children:"You acknowledge that the displayed APR and APY are based on historical data and not a guaranteed return."}),e.jsx(Ke,{children:"You understand that APR and APY figures reflect past trading fees and rewards only, excluding impermanent loss and price volatility."}),e.jsx(Ke,{children:"You recognize the risks associated with automated liquidity strategies, including market fluctuations and third-party operational risks."}),e.jsx(B,{fontSize:"12px",color:"text_paragraph",lineHeight:"20px",children:"Please assess these risks carefully and proceed only if you fully understand and accept them."})]})]}),e.jsxs(J,{bg:"menu_item_bg",borderRadius:"8px",border:"1px solid",borderColor:"border",p:b?"12px 16px":"16px",justifyContent:"flex-start",alignItems:"flex-start",m:"16px 0",userSelect:"none",gap:b?"8px":"12px",children:[e.jsxs(fe,{children:[e.jsx(ht,{checked:o,onClick:()=>i(!o)}),e.jsx(B,{fontWeight:"500",color:"text_caption",children:"I acknowledge and accept all the risks."})]}),e.jsxs(fe,{children:[e.jsx(ht,{checked:_,onClick:()=>s(!_)}),e.jsx(B,{fontSize:"12px",color:"text_paragraph",children:"Don't remind me again."})]})]}),e.jsx(ke,{w:"calc(100% + 32px)",h:"52px",bg:"primary",borderRadius:"12px",fontWeight:"600",ml:"-16px",disabled:!o,onClick:W,children:"Continue"})]})]})]})}function Rs({percentage:n,onChange:a,quoteCoin:t,availableCapacityWithQuoteCoin:c,availableCapacityUSD:o}){const i=u.useMemo(()=>!o,[o]),_={fontSize:"sm",position:"absolute",ml:"-5px",top:"50%",transform:"translateY(-50%)",zIndex:"100",borderRadius:"50%"},s=[0,25,50,75,100];return e.jsx(e.Fragment,{children:i?e.jsxs(J,{width:"100%",maxHeight:"164px",justifyContent:"space-between",children:[e.jsx(ot,{width:"100%"}),e.jsx(ot,{width:"100%"}),e.jsx(ot,{width:"100%"})]}):e.jsxs(J,{width:"100%",alignItems:"start",gap:"14px",children:[e.jsx(B,{color:"text_paragraph",textAlign:"left",children:"Available Capacity"}),e.jsxs(fe,{w:"100%",alignItems:"center",justifyContent:"space-between",mt:"12px",children:[e.jsx(ns,{tooltip:e.jsxs(fe,{children:[e.jsx(qt,{src:t==null?void 0:t.logo_url,w:"20px",h:"20px"},t==null?void 0:t.coin_type),e.jsx(B,{color:"text_caption",children:me(c,2)}),e.jsx(B,{color:"text_caption",children:t==null?void 0:t.symbol})]}),children:e.jsx(fe,{w:"100%",alignItems:"center",justifyContent:"space-between",children:e.jsx(B,{color:"text_caption",height:"14px",textAlign:"left",fontSize:"16px",textDecoration:"underline dotted",children:lt(o,"$")})})}),e.jsxs(Qt,{"aria-label":"slider-ex-6",min:0,max:100,focusThumbOnChange:!1,value:n=="--"?0:Number(n),onChange:g=>a(g),w:"242px",isDisabled:Number(o)<=0,children:[s.filter(g=>g!==Number(n)).map((g,x)=>e.jsx(ft,{..._,value:g,w:"8px",h:"8px",bg:Number(n)>=g?"primary":"#2b2e32",onClick:()=>a(g)},x)),e.jsx(ft,{value:Number(n),textAlign:"center",bg:"#1B2E3B",p:"2px 4px",borderRadius:"4px",fontSize:"12px",color:"primary",mt:"-28px",ml:"-15px",children:ls(n,2)}),e.jsx(Jt,{bg:"#2b2e32",height:"2px",borderRadius:"4px",children:e.jsx(Kt,{height:"2px",bg:"primary",borderRadius:"2px"})}),e.jsx(Xt,{p:"1px",w:"10px",h:"10px",border:"1px solid primary",position:"relative",zIndex:"100",borderRadius:"50%",_before:{content:'""',w:"6px",h:"6px",borderRadius:"50%",bg:[0,25,50,75,100].includes(Number(n))?"primary":"bg_secondary",border:"1px solid #2b2e32"}})]})]}),!i&&o==0?e.jsx(J,{w:"100%",alignItems:"start",children:e.jsx(B,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The vault has reached its current capacity. New deposits are not accepted at this time."})}):null]})})}const Vs={customDeposit:"Through Zap-In, you can deposit your liquidity in single token or with customized token ratio. Tokens will be auto converted to match the required ratio. ",deposit:"Through Zap-In, you can deposit your liquidity in single token. Tokens will be auto converted to match the required ratio.",withdraw:"Through Zap-Out, you can withdraw your liquidity in one token. The liquidity will be auto converted to one token you selected."};function Is(n){const{isCheckedZAP:a,zapText:t,tooltipType:c,zapSwitchChange:o}=n,{isApp:i}=dt();return e.jsx(Re,{padding:"6px 8px",borderRadius:"8px",width:"unset",children:e.jsxs(Zt,{isLazy:!0,trigger:i?"click":"hover",placement:"top",autoFocus:!1,returnFocusOnClose:!1,children:[e.jsx(Pt,{children:e.jsxs(fe,{h:"14px",cursor:"pointer",as:"button",children:[e.jsx(B,{fontSize:"14px",color:a?"primary":"",fontWeight:"500",children:t}),e.jsx(Tt,{isChecked:a,onChange:()=>o(!a)})]})}),e.jsx(kt,{minW:"fit-content",w:"fit-content",children:e.jsx(es,{p:"12px",lineHeight:"20px",fontSize:"12px",maxWidth:"320px",children:Vs[c]})})]})})}const Os="You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",Ds=(n,a)=>`When you deposit in only SUI tokens, a part of your SUI amount will be converted to ${a} via ${n} liquid staking services to match required liquidity compositions of the liquidity pool on Cetus. A certain amount of dust (no loss of funds) will be returned to you if slippage is involved.`,Oe={Deposit:"Deposit"};function Bt(n){const{displayTokenA:a,displayTokenB:t,onSelectAssetTab:c,label:o="Deposit Amounts",isCheckedZAP:i,setIsCheckedZAP:_,assetAction:s,setAssetAction:g,category:x,currentActionTab:w}=n,{stakeProtocolName:W}=Ft(a==null?void 0:a.coin_type),b=u.useMemo(()=>x==="haedal",[x]),y=()=>{if(!a||!t)return[];const v=[{label:`${a.symbol} only`,action:a.coin_type,afterIcon:i&&w===Oe.Deposit&&!b?{xlinkHref:"#icon-icon_tips"}:void 0,tooltip:b?w===Oe.Deposit?`You can add liquidity in this pool with only ${a.symbol}.`:"":Os},{label:`${t.symbol} only`,action:t.coin_type,afterIcon:i&&w===Oe.Deposit&&!b?{xlinkHref:"#icon-icon_tips"}:void 0,tooltip:b?w===Oe.Deposit?`You can add liquidity in this pool with only ${t.symbol}.`:"":Ds(W,a==null?void 0:a.symbol)}];return b&&w===Oe.Deposit&&v.splice(1,0,{label:`${a.symbol}+${t.symbol}`,action:"both",tooltip:"You can add any value you want from both assets."}),v},O=u.useMemo(y,[a,t,i,W,b,w]),m=u.useMemo(()=>{var v,L,Y;if(O.length!==0)return s===(a==null?void 0:a.coin_type)?O[0].label:s===(t==null?void 0:t.coin_type)?b&&w===Oe.Deposit?(v=O[2])==null?void 0:v.label:(L=O[1])==null?void 0:L.label:(Y=O[1])==null?void 0:Y.label},[s,O,b,w,a==null?void 0:a.coin_type,t==null?void 0:t.coin_type]),V=u.useMemo(()=>w===Oe.Deposit?b?"customDeposit":"deposit":"withdraw",[w,b]);return e.jsxs(J,{w:"100%",gap:"16px",children:[e.jsxs(fe,{w:"100%",justifyContent:"space-between",children:[e.jsx(B,{fontWeight:"500",children:o}),e.jsx(Is,{isCheckedZAP:i,zapText:w===Oe.Deposit?"Zap In":"Zap Out",tooltipType:V,zapSwitchChange:v=>{_(!i),g(v?(a==null?void 0:a.coin_type)??"":"both")}})]}),i&&O.length>0&&e.jsx(It,{wrapStyle:{w:"100%",h:"48px",borderRadius:"8px",p:"3px"},itemStyle:{w:"50%",fontSize:"14px",borderRadius:"6px",fontWeight:"500"},type:"outlineTab",currentTab:m,tabList:O,handleChangeTab:v=>{g(v.action),c(v.action)}})]})}function Ms(n){const{currentAccount:a,onWalletModal:t}=We(),[c,o]=u.useState("both"),[i,_]=u.useState(!1),{category:s,isReverse:g,vaultId:x,currentActionTab:w,totalSupply:W,lpTokenInfo:b,feeTier:y,isModal:O,isAutoRefresh:m}=n,{fromToken:V,toToken:v,calculateResult:L}=$e(),{vaultsPoolObj:Y}=Lt(),ee=u.useMemo(()=>Y[x],[Y,x]),D=Cs(ee),{balanceInfoA:K,balanceInfoB:$,amountValueA:H,amountValueB:I,handleAmountInputChange:z,amountInputA:E,amountInputB:G,resetInputAmount:Ce,preCalculateLoading:we,zapNumGtError:ie,zapNumLtError:xe,calculateLpLoading:A,inputTotalValue:T,showOnlySideTips:te,doAddAction:pe,reCalculateResult:k,percentage:C,setPercentage:h,setIsSlider:P,handlePercentInputChange:oe,isQuoteCoin:X,setUuid:se,uuidRef:ce}=js(x,s,V,v,g,c,i,D==null?void 0:D.quoteCoin,D==null?void 0:D.availableCapacityUSD,D==null?void 0:D.availableCapacityWithQuoteCoin);console.log("ğŸš€ğŸš€ğŸš€ ~ vaultsAdd.tsx:74 ~ VaultsAdd ~ calculateLpLoading:",A),u.useEffect(()=>{Ce()},[i,c]);const[ae,F]=u.useState(!1),{isApp:je}=dt(),{btnText:ne,btnDisabled:ze}=Gt(E,G,(K==null?void 0:K.balanceFormat)||"",($==null?void 0:$.balanceFormat)||"",V,v,c,!0,ie,xe,s,i),{vaultsSlippage:He}=Te(),{lpRate:q}=ws(L==null?void 0:L.ft_amount,W),{amountLimit:Z}=Ht(Number(He),L==null?void 0:L.ft_amount,!1),le=()=>({feeTier:y||"",displayTokenA:V,displayTokenB:v,displayAmountA:E,displayAmountB:G,totalAmountValue:T,sharePool:q,lpAmountLimit:Z||"0",lpDecimals:b==null?void 0:b.decimals}),{pythPriceMap:U}=Mt(),de=u.useRef(!1);u.useEffect(()=>{de.current=!0},[]),u.useEffect(()=>{de.current&&k(),de.current=!0},[U]),u.useEffect(()=>{console.log("ğŸš€ğŸš€ğŸš€ ~ VaultsAdd.tsx:151 ~ VaultsAdd ~ isAutoRefresh:",m),de.current&&k()},[m]);const{isCheckedDontRemindWalletObj:be}=Ut(),[ge,Ve]=u.useState(!1),Ee=u.useMemo(()=>!be[a==null?void 0:a.address],[be,a==null?void 0:a.address]);return u.useEffect(()=>()=>{ce.current=""},[]),e.jsxs(J,{gap:O?"8px":"12px",w:"100%",align:"flex-start",children:[e.jsxs(Re,{bg:O?"transparent":"bg_six",borderColor:O?"transparent":"border_secondary",borderRadius:"12px",p:{base:"16px 8px 8px",lg:O?"0":"16px"},w:"100%",children:[e.jsx(Bt,{displayTokenA:V,displayTokenB:v,onSelectAssetTab:re=>{o(re)},setIsCheckedZAP:()=>_(!i),setAssetAction:o,assetAction:c,isCheckedZAP:i,category:s,currentActionTab:w,handleRefreshClick:()=>{console.log("ğŸš€ğŸš€ğŸš€ ~ vaultsAdd.tsx:174 ~ VaultsAdd ~ handleRefreshClick:"),k()}}),e.jsx(J,{mt:O?"8px":"16px",position:"relative",children:e.jsx(Et,{borderRadius:"12px",from:{wrapStyle:{borderRadius:"12px",h:"unset",p:{base:"20px 8px",lg:"20px 16px"}},hideSelf:c!=="both"&&c!==(V==null?void 0:V.coin_type),balance:(K==null?void 0:K.balanceFormat)||"",value:E,amountValue:E&&H,loading:!1,onChange:re=>{s=="haedal"&&P(!1),z(re,!0,G)},selectable:!1,placeholder:"0.0",token:V},to:{wrapStyle:{borderRadius:"12px",h:"unset",p:{base:"20px 8px",lg:"20px 16px"}},hideSelf:c!=="both"&&c!==(v==null?void 0:v.coin_type),balance:($==null?void 0:$.balanceFormat)||"",value:G,amountValue:G&&I,loading:!1,onChange:re=>{s=="haedal"&&P(!1),z(re,!1,E)},selectable:!1,placeholder:"0.0",token:v},iconParams:{xlinkHref:"#icon-icon_add",svgFill:"text_caption",iconCursor:"default"},iconHover:!1})})]}),s=="haedal"&&Rt(U)&&e.jsx(Re,{bg:"bg_six",borderColor:"border_secondary",borderRadius:"12px",p:"16px",children:e.jsx(Rs,{depositRatio:D.depositRatio||"",percentage:C,hardCapUSD:D.hardCapUSD||"",vaultTvl:D.vaultTvl||"",availableCapacityUSD:D.availableCapacityUSD||"",quoteCoin:D.quoteCoin,maxCapNum:D.hardCap||"",availableCapacityWithQuoteCoin:D.availableCapacityWithQuoteCoin||"",onChange:re=>{P(!0),h(re);const _e=Le();se(_e),oe(re,X?D==null?void 0:D.availableCapacityWithQuoteCoin:D==null?void 0:D.availableCapacityWithBaseCoin,X?D.quoteCoin:D.baseCoin,_e)}})},x),e.jsx(Re,{bg:"bg_six",borderColor:"border_secondary",borderRadius:"12px",p:"0px",children:e.jsxs(J,{w:"100%",gap:"20px",children:[e.jsx(ke,{m:"-1px",isLoading:A||ae,w:"100%",borderRadius:"12px",h:"52px",fontSize:je?"14px":"18px",fontWeight:"500",disabled:ze||ae||A,onClick:()=>{a?Ee&&s=="haedal"?Ve(!0):F(!0):t(!0)},children:ne||(i?"Zap In":"Deposit")}),ie&&(E||G)&&e.jsx(J,{w:"100%",pl:"16px",pr:"16px",pb:L||te?"0px":"20px",alignItems:"start",gap:"20px",children:e.jsx(B,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"Single-asset deposit can't be higher than $10,000 at a time."})}),xe&&(E||G)&&e.jsx(J,{w:"100%",pl:"16px",pb:L||te?"0px":"20px",pr:"16px",alignItems:"start",children:e.jsx(B,{color:"primary_red",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_red_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The input is too small. Zap mode is not available."})}),(L||te)&&(E||G)&&e.jsxs(J,{w:"100%",pb:"20px",pl:"16px",pr:"16px",alignItems:"start",gap:"0",children:[c!=="both"&&te&&e.jsx(B,{color:"text_paragraph",fontSize:"12px",lineHeight:"1.8",pb:L?"20px":"0",children:te}),L&&e.jsx(Nt,{amountLimit:Z,inputTotalValue:T,preCalculateLoading:we,calculateLpLoading:A,lpRate:q,lpDecimals:b==null?void 0:b.decimals,poolName:`${V==null?void 0:V.symbol} - ${v==null?void 0:v.symbol}`,labelColor:"primary_gray"})]})]})}),ge&&e.jsx(ys,{isOpen:ge,setIsOpen:Ve,continueFunc:()=>{Ve(!1),F(!0)}}),ae&&e.jsx(Ss,{data:le(),isOpen:ae,calculateLpLoading:A,onClose:()=>{F(!1)},onSubmitClick:()=>{F(!1),pe()}})]})}function Ls(n,a,t,c,o,i,_,s){const{amountInputA:g,amountInputB:x,calculateResult:w,setAmountInputA:W,setAmountInputB:b,setCalculateResult:y}=$e(),{findBestRouters:O}=gs(),{vaultsSlippage:m,mevProtect:V,maxCapForGas:v,transactionMode:L,customGasPrice:Y}=Te(),{getTokenAmountValue:ee}=ct(),{volatileVaultsSdk:D}=ut(),K=it("vaults"),{getTokenAmountValueByPyth:$}=pt(),[H,I]=u.useState(!1),[z,E]=u.useState(!1),{fetchAccountBalance:G}=$t(),{updateCurrentVaultById:Ce}=At(),{providers:we}=rs(),ie=u.useRef(z);u.useEffect(()=>{ie.current=z},[z]);const[xe,A]=u.useState(!1),[T,te]=u.useState(""),pe=u.useRef(T);u.useEffect(()=>{pe.current=T},[T]);const k=u.useRef(g),C=u.useRef(x);u.useEffect(()=>{k.current=g},[g]),u.useEffect(()=>{C.current=x},[x]);const h=u.useMemo(()=>o?c:t,[o,t,c]),P=u.useMemo(()=>o?t:c,[o,t,c]),oe=a=="haedal"?$(t==null?void 0:t.coin_type,g||"0"):ee(t==null?void 0:t.coin_type,g||"0"),X=a=="haedal"?$(c==null?void 0:c.coin_type,x||"0"):ee(c==null?void 0:c.coin_type,x||"0"),[se,ce]=u.useState(o?s==null?void 0:s.amountB:s==null?void 0:s.amountA),[ae,F]=u.useState(o?s==null?void 0:s.amountA:s==null?void 0:s.amountB),[je,ne]=u.useState(!1),ze=async()=>{const{amountA:S,amountB:r}=s;if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:97 ~ calculateAvailableAmount ~ currentVaultPosition:",s),ne(!1),i==="both"){ce(o?r:S),F(o?S:r);return}const l=i===(h==null?void 0:h.coin_type),d=l?r:S,p=l?S:r;a=="haedal"?He(d,p,l):q(d,p,l)},He=async(S,r,l)=>{if(R(S).gt(0)){ne(!0);const d={pool_id:n,mode:Ge,burn_lp_amount:s==null?void 0:s.balance,available_lp_amount:s==null?void 0:s.balance};try{const p=await D.Vaults.preCalculateWithdrawAmount(d);if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:127 ~ haedalCalculateAvailableAmount ~ res:",p),Ge=="OnlyCoinA"){const f=Me(p.receive_amount_a,h==null?void 0:h.decimals);o?F(f):ce(f)}else{const f=Me(p.receive_amount_b,P==null?void 0:P.decimals);o?ce(f):F(f)}ne(!1)}catch(p){console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:145 ~ calculateAvailableAmount ~ error:",p)}}else l?ce(r):F(r);ne(!1)},q=async(S,r,l)=>{if(R(S).gt(0)){ne(!0);const d=l?P:h;O({fromToken:d,toToken:l?h:P,amount:he(S,d.decimals).toString(),providersKeys:we,by_amount_in:!0,uuid:Le()}).then(f=>{f.toAmountUi&&(r=R(r).add(f.toAmountUi).toString()),l?ce(r):F(r)}).finally(()=>{ne(!1)})}else l?ce(r):F(r)},Z=u.useMemo(()=>R(oe||"0").add(X||"0").toString(),[oe,X]),le=u.useMemo(()=>_?R(Z).gt(R(1e4)):!1,[Z,_]),U=u.useMemo(()=>_?R(Z).gt(0)&&R(Z).lt(R(1e-4)):!1,[Z,_]),[de,be]=u.useState(0),ge=()=>{W(""),b(""),be(0),I(!1),y(void 0),te("")},Ve=(S,r,l,d)=>{var p;if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:96 ~ wrapRes ~ res:",S,l,d),S){const f=R(a=="haedal"?S.receive_amount_a:S.amount_a).div(10**h.decimals).toString(),j=R(a=="haedal"?S.receive_amount_b:S.amount_b).div(10**P.decimals).toString(),M=R(((p=S.swap_result)==null?void 0:p.swap_out_amount)||"0").div(10**(r?t.decimals:c.decimals)).toString();if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:239 ~ wrapRes ~ swapOutAmount:",M,f,j),d===100&&i=="both"&&(ce(o?j:f),F(o?f:j)),l)if(i=="both")W(o?j:f),b(o?f:j);else if(i==(t==null?void 0:t.coin_type)){const N=R(se).mul(d).div(100).toString();console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:264 ~ wrapRes ~ amount:",N),W(N)}else{const N=R(ae).mul(d).div(100).toString();b(N)}else{if(i!=="both")return;r?b(o?f:j):W(o?j:f)}}},Ee=async(S,r,l,d,p)=>{if(h&&P&&n){if(!p){if(l){if(R(S).gt(se)){te(""),b(""),be(0),y(void 0),I(!1);return}}else if(R(S).gt(ae)){te(""),W(""),y(void 0),I(!1),be(0);return}}(+k.current||+C.current||p)&&I(!0);const f=(o?!l:l)?h:P,j=he(S,f.decimals).toFixed(0),M=l?he(se,f.decimals).toFixed(0):he(ae,f.decimals).toFixed(0),N=o?!l:l,Q=R(j).div(R(M)),ve=nt(Q.mul(s==null?void 0:s.balance).toString(),0,!0),ye=Number(nt(Q.mul(100).toString(),2));console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:324 ~ preCalculate ~ fixedCoinA:",N),E(N),a==="haedal"?re(ve,l,d,ye,!1):_e(ve,l,N,d,ye,!1)}},re=async(S,r,l,d,p)=>{let f;if(i=="both")f={pool_id:n,mode:"FixedOneSide",burn_lp_amount:String(S)};else{const j=i==(h==null?void 0:h.coin_type)?"OnlyCoinA":"OnlyCoinB";f={pool_id:n,mode:j,burn_lp_amount:String(S)}}try{const j=await D.Vaults.preCalculateWithdrawAmount(f);if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:386 ~ haedalPreCalculate ~ res:",j,l,pe.current),j.burn_lp_amount=="0"){I(!1),y(void 0);return}Ve(j,r,p,d),y({...j,burn_ft_amount:j.burn_lp_amount}),be(d)}catch(j){console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:388 ~ haedalPreCalculate ~ error:",j),y(void 0)}finally{I(!1)}},_e=async(S,r,l,d,p,f)=>{const j={vault_id:n,fix_amount_a:l,input_amount:S,slippage:Number(m),request_id:d,side:i==="both"?Ze.Both:Ze.OneSide,is_ft_input:!0,max_ft_amount:s==null?void 0:s.balance};console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:275 ~ lstPreCalculate ~ params:",j);try{const M=await K.Vaults.calculateWithdrawAmount(j);if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:386 ~ res:",M,p),console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:215 ~ haedalPreCalculate ~ uuidRef.current:",pe.current,d),M.burn_ft_amount=="0"){I(!1),y(void 0);return}Ve(M,r,f,p),y(M),be(p)}catch{y(void 0)}finally{I(!1)}},Ie=Xe(Ee,500),Fe=Xe(a=="cetus"?_e:re,500),Ae=(S,r)=>{if(S==0){ge();return}console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:218 ~ handlePercentInputChange ~ value:",S,a),A(!0),I(!0),be(S);const l=Le();console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:225 ~ handlePercentInputChange ~ uuid:",l),te(l);const d=nt(R(s==null?void 0:s.balance).mul(S/100).toString(),0,!0);console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:459 ~ handlePercentInputChange ~ removeLpAmount:",d,s==null?void 0:s.balance);const p=o?!r:r;E(p),a==="haedal"?Fe(d,r,l,S,!0):Fe(d,r,p,l,S,!0)},Qe=(S,r,l,d)=>{if((d||l)&&i!=="both"&&(r?W(S):b(S)),l){Ae(100,r);return}if(d){Ae(50,r);return}if(A(!1),r?W(S):b(S),+S){const p=Le();te(p),Ie(S,!1,r,p)}else ge()},Ge=u.useMemo(()=>_?i=="both"?"FixedOneSide":i==(h==null?void 0:h.coin_type)?"OnlyCoinA":"OnlyCoinB":"FixedOneSide",[_,i,h]),Ue=()=>{console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:519 ~ reCalculateResult ~ reCalculateResult:");const S=o?!ie.current:ie.current;if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:516 ~ reCalculateResult ~ isDisplayTokenA:",S),xe)Ae(de,S);else{const r=ie.current?o?C.current:k.current:o?k.current:C.current;Qe(r,S)}},{signAndExecuteTransaction:et,transactionConfirmation:tt,transactionRejected:Je}=zt(),[mt,De]=u.useState(!1),st=async()=>{if(n&&w&&(s!=null&&s.balance)){De(!0);let S;if(a=="haedal")S={pool_id:n,burn_lp_amount:de==100?s==null?void 0:s.balance:w.burn_ft_amount,mode:Ge,slippage:Number(m)};else if(i==="both")S={vault_id:n,ft_amount:w==null?void 0:w.burn_ft_amount,slippage:Number(m)};else{const l=i===(h==null?void 0:h.coin_type);if(de===100)S={vault_id:n,is_ft_input:!0,input_amount:s==null?void 0:s.balance,slippage:Number(m),max_ft_amount:s==null?void 0:s.balance,fix_amount_a:l};else{const d=he(z?g:x,9);S={vault_id:n,is_ft_input:!1,input_amount:d.toString(),slippage:Number(m),max_ft_amount:s==null?void 0:s.balance,fix_amount_a:l}}}console.log("ğŸš€ ~ doRemoveAction ~ params:",S);const r={getShowInfo:(l,d)=>{const p="Withdraw "+[Se(g,t.symbol),Se(x,c.symbol)].filter(Boolean).join(" and "),f={modalDescriptionText:p,toastDescriptionContent:p};if(l==="success"){let j=g||"0",M=x||"0";console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:582 ~ doRemoveAction ~ balanceChanges:",d,g,x),d&&(j=R(g||"0").gt(0)?xt(d,t)||g:"",M=R(x||"0").gt(0)?xt(d,c)||x:"");const N=[Se(j,t.symbol),Se(M,c.symbol)].filter(Boolean),Q=(N&&N.length>1?"Removed ":"Withdraw ")+[Se(j,t==null?void 0:t.symbol),Se(M,c==null?void 0:c.symbol)].filter(Boolean).join(" and ");f.toastDescriptionContent=Q,f.modalDescriptionText=Q}return f}};tt(r);try{let l=new Vt;a=="haedal"?l=await D.Vaults.buildWithdrawPayload(S):await K.Vaults.withdraw(S,l),await et(l,r,{useMev:V,txAction:"signTransactionBlock",useFastMode:L==="Fast Mode",maxCapForGas:v,customGasPrice:Y,msafeParams:{action:Wt.AddVaultsPosition,txbParams:S}})?(ge(),setTimeout(()=>{G(),Ce(n)},2e3)):Ue(),De(!1)}catch{De(!1),Je(r)}}},at=u.useMemo(()=>{if(console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:656 ~ showOnlySideTips ~ calculateResult:",w),w&&(w.swap_result||w.swap)&&i!=="both"&&h&&P){let S=a=="cetus"?w.swap_result.swap_in_amount:w.swap.swap_amount_in,r=a=="cetus"?w.swap_result.swap_out_amount:w.swap.swap_amount_out;const l=a=="cetus"?z:o?!z:z,d=l?g:x;console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:709 ~ showOnlySideTips ~ amount:",d);const p=l?t:c;console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:687 ~ showOnlySideTips ~ fixToken:",p);const f=l?c:t,j=Me(S,f.decimals),M=Me(R(r).mul(1-Number(m)).toString(),p.decimals);return`To withdraw ${me(d,p==null?void 0:p.decimals)} ${p==null?void 0:p.symbol}, ${me(j,f==null?void 0:f.decimals)} ${f==null?void 0:f.symbol} in the pool will be traded for ${me(M,p==null?void 0:p.decimals)} ${p==null?void 0:p.symbol}`}},[i,w,g,x,z,a]);u.useEffect(()=>{console.log("ğŸš€ğŸš€ğŸš€ ~ useVaultsRemove.ts:717 ~ availableAmountA:",se),Ue()},[se,ae]);const{currentAccount:Be}=We();return u.useEffect(()=>{ge(),setTimeout(()=>{s!=null&&s.amountA&&(s!=null&&s.amountB)&&ze()},200)},[_,i,Be==null?void 0:Be.address]),u.useEffect(()=>{ze()},[s==null?void 0:s.amountA,s==null?void 0:s.amountB]),{calculateAvailableLoading:je,availableAmountA:se,availableAmountB:ae,amountInputA:g,amountInputB:x,amountValueA:oe,amountValueB:X,zapNumGtError:le,zapNumLtError:U,handleAmountInputChange:Qe,handlePercentInputChange:Ae,debouncedPercentInputChange:Fe,removePercent:de,showOnlySideTips:at,preCalculateLoading:H,doRemoveAction:st,inputTotalValue:Z,calculateResult:w,setIsSlider:A,resetInputAmount:ge,calculateAvailableAmount:ze,submitLoading:mt,isSlider:xe,fixAmountA:z,reCalculateResult:Ue}}function Ws(n){const{currentAccount:a,onWalletModal:t}=We(),{fromToken:c,toToken:o,calculateResult:i}=$e();console.log("ğŸš€ğŸš€ğŸš€ ~ VaultsRemove.tsx:27 ~ VaultsRemove ~ calculateResult:",i);const{currentVaultPosition:_}=Ot(),[s,g]=u.useState("both"),[x,w]=u.useState(!1),{category:W,isReverse:b,vaultId:y,currentActionTab:O,lpTokenInfo:m,isModal:V,isAutoRefresh:v}=n,L=u.useMemo(()=>_,[_]),{amountInputA:Y,amountInputB:ee,amountValueA:D,amountValueB:K,calculateAvailableLoading:$,availableAmountA:H,availableAmountB:I,zapNumGtError:z,zapNumLtError:E,handleAmountInputChange:G,removePercent:Ce,handlePercentInputChange:we,doRemoveAction:ie,showOnlySideTips:xe,preCalculateLoading:A,inputTotalValue:T,setIsSlider:te,resetInputAmount:pe,isSlider:k,fixAmountA:C}=Ls(y,W,c,o,b,s,x,L),{btnText:h,btnDisabled:P}=Gt(Y,ee,H||"",I||"",c,o,s,!1,z,E,W,x);console.log("ğŸš€ğŸš€ğŸš€ ~ VaultsRemove.tsx:72 ~ VaultsRemove ~ btnDisabled:",P,h);const{amountLimit:oe}=Ht(0,i==null?void 0:i.burn_ft_amount,!1),X=u.useMemo(()=>me(Me(oe||"0",m==null?void 0:m.decimals),m==null?void 0:m.decimals),[oe,m]);u.useEffect(()=>{console.log("ğŸš€ğŸš€ğŸš€ ~ VaultsRemove.tsx:80 ~ VaultsRemove ~ sCheckedZAP, assetAction:",x,s),pe()},[x,s]);const se=u.useMemo(()=>A?k?!0:b?C:!C:!1,[A,k]),ce=u.useMemo(()=>A?k?!0:b?!C:C:!1,[A,k]),ae=u.useRef(!1);return u.useEffect(()=>{ae.current=!0},[]),e.jsxs(J,{gap:V?"8px":"12px",w:"100%",align:"flex-start",children:[e.jsxs(Re,{bg:V?"transparent":"bg_six",borderColor:V?"transparent":"border_secondary",borderRadius:"12px",p:{base:"16px 8px 8px",lg:V?"0":"16px"},w:"100%",children:[e.jsx(Bt,{label:"Remove Amounts",displayTokenA:c,displayTokenB:o,onSelectAssetTab:F=>{g(F)},isCheckedZAP:x,setIsCheckedZAP:w,assetAction:s,setAssetAction:g,currentActionTab:O,category:W}),e.jsx(vt,{w:"100%",position:"relative",mt:V?"8px":"16px",children:e.jsx(Et,{borderRadius:"12px",from:{wrapStyle:{borderRadius:"12px",h:"unset",p:{base:"20px 8px",lg:"20px 16px"}},calculateAvailableLoading:$,hideSelf:s!=="both"&&s!==(c==null?void 0:c.coin_type),balance:H||"",value:Y,amountValue:D,loading:se,onChange:(F,je,ne)=>{a!=null&&a.address&&!$&&(te(!1),G(F,!0,je,ne))},needRemainBalance:!1,selectable:!1,placeholder:"0.0",token:c,balanceLabel:"Available"},to:{wrapStyle:{borderRadius:"12px",h:"unset",p:{base:"20px 8px",lg:"20px 16px"}},balanceLabel:"Available",calculateAvailableLoading:$,needRemainBalance:!1,hideSelf:s!=="both"&&s!==(o==null?void 0:o.coin_type),balance:I||"",value:ee,amountValue:K,loading:ce,onChange:(F,je,ne)=>{a!=null&&a.address&&!$&&(te(!1),G(F,!1,je,ne))},selectable:!1,placeholder:"0.0",token:o},iconParams:{xlinkHref:"#icon-icon_add",svgFill:"text_caption",iconCursor:"default"},iconHover:!1})})]}),!V&&e.jsxs(Re,{bg:"bg_six",borderColor:"border_secondary",borderRadius:"12px",p:{base:"16px 8px",lg:"16px"},children:[e.jsx(B,{color:"primary_gray",children:"Amount"}),e.jsx(hs,{percentage:Ce,onChange:F=>{$||(console.log("ğŸš€ğŸš€ğŸš€ ~ VaultsRemove.tsx:213 ~ VaultsRemove ~ assetAction:",s),console.log("ğŸš€ğŸš€ğŸš€ ~ VaultsRemove.tsx:214 ~ VaultsRemove ~ fromToken.address:",c.address),we(Number(F.toString().replace("%","")),s=="both"?!0:s==c.coin_type))}})]}),e.jsx(Re,{bg:"bg_six",borderColor:"border_secondary",borderRadius:"12px",p:"0px",children:e.jsxs(J,{w:"100%",gap:"20px",children:[e.jsx(ke,{m:"-1px",isLoading:A,w:"100%",borderRadius:"12px",h:"52px",fontSize:"18px",fontWeight:"500",disabled:P||A,onClick:()=>{a?ie():t(!0)},children:h||(x?"Zap Out":"Withdraw")}),z&&e.jsx(J,{w:"100%",pl:"16px",pr:"16px",pb:"20px",alignItems:"start",children:e.jsx(B,{color:"primary_red",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_red_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"Single-asset withdraw can't be higher than $10,000 at a time."})}),i&&!z&&(Y||ee)&&e.jsxs(J,{w:"100%",pb:"20px",pl:"16px",pr:"16px",gap:"0px",children:[s!=="both"&&xe&&e.jsx(B,{color:"text_paragraph",width:"100%",fontSize:"12px",lineHeight:"1.8",pb:"20px",children:xe}),e.jsxs(J,{w:"100%",gap:"20px",children:[e.jsx(Pe,{label:"Total Withdraw",labelStyle:{fontSize:"14px"},value:us(T,2),valueStyle:{fontSize:"14px"},skeletonStyle:{valueH:"14px"},isLoading:A}),e.jsx(Pe,{label:"LP Burn Amount",value:`${X} ${`${c==null?void 0:c.symbol} - ${o==null?void 0:o.symbol}`}`,labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},skeletonStyle:{valueH:"14px"},isLoading:A})]})]})]})})]})}const $s=[{label:"Deposit",value:"Deposit"},{label:"Withdraw",value:"Withdraw"}];function ks({vaultId:n,autoRefresh:a,isModal:t,currentTab:c="Deposit"}){const{setAmountInputA:o,setAmountInputB:i}=$e(),{vaultListObj:_,lpTokenInfoObj:s}=Dt(),{vaultsPoolObj:g}=Lt(),x=u.useMemo(()=>_[n],[_,n]),w=u.useMemo(()=>g[n],[g]),[W,b]=u.useState(c),y=u.useMemo(()=>s[x==null?void 0:x.lpTokenType],[s,x==null?void 0:x.lpTokenType]),[O,m]=u.useState(!1),V=()=>{a(),m(v=>!v)};return e.jsxs(J,{w:{base:"100%",lg:"100%"},justifyContent:"start",gap:t?"8px":"12px",children:[e.jsx(Re,{p:"0",borderRadius:"12px",bg:t?"transparent":"bg_six",borderColor:t?"transparent":"border_secondary",children:e.jsxs(fe,{w:"100%",p:{base:"0 8px",lg:t?"0":"0 16px"},children:[e.jsx(It,{type:"borderTab",wrapStyle:{w:"100%",h:t?"54px":"60px",border:"none",bg:t?"transparent":"bg_six",borderColor:"border_secondary"},itemStyle:{fontSize:t?"14px":"16px",mr:"28px"},tabList:$s,currentTab:W,handleChangeTab:v=>{o(""),i(""),b(v==null?void 0:v.value)}}),e.jsxs(fe,{children:[e.jsx(ts,{slippageType:"vaults",compact:!0}),e.jsx(fs,{handleRefresh:()=>V(),isAutoRefresh:!0,refreshInterval:20,innerStyle:{bg:"bg_secondary"},w:"28px",h:"28px",borderRadius:"8px",bg:"bg_secondary"})]})]})}),W==="Deposit"&&e.jsx(Ms,{category:x==null?void 0:x.category,isReverse:x==null?void 0:x.isReverse,vaultId:x==null?void 0:x.vaultId,currentActionTab:"Deposit",totalSupply:w==null?void 0:w.totalSupply,lpTokenInfo:y,feeTier:x==null?void 0:x.feeDisplay,isModal:t,isAutoRefresh:O}),W==="Withdraw"&&e.jsx(Ws,{category:x==null?void 0:x.category,isReverse:x==null?void 0:x.isReverse,vaultId:x==null?void 0:x.vaultId,currentActionTab:"Withdraw",lpTokenInfo:y,isModal:t,isAutoRefresh:O})]})}export{ks as V,At as a,Cs as b,$e as u};
//# sourceMappingURL=VaultsAction-BNCRfsCf.js.map
