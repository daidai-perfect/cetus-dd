import{a as L,b as y,j as e,H as h,C as P,ao as N,T as r,c as C,r as o,a5 as T,aB as w,d as z,V as c,B as _,ap as D,aq as R,S as d,ay as W,at as M,au as U,Y as B,a4 as $,e as E,W as V,$ as H,I as O,a3 as F}from"./index-BXaz1_oP.js";import{C as f}from"./CetusTooltip-CEyBwakd.js";import{c as A,b as q}from"./usePositionList-Q0mVy6Ro.js";import{u as Y}from"./useCurrentPos-DbODgm3y.js";import{A as G}from"./AddressCopyLink-Cb4gIROq.js";import{P as J,L as K}from"./PriceRange-KUuRnqg0.js";import{S as v}from"./SingleTokenInfo-CoJA3Nix.js";const te=({tooltip:s,...i})=>{const g=L(),{isApp:j}=y();return e.jsx(h,{w:"20px",h:"20px",onClick:u=>{C(u),j||g("/farms")},...i,children:e.jsx(f,{placement:"top",tooltip:s||e.jsx(r,{fontSize:"12px",children:"Farm rewards available"}),children:e.jsx(P,{children:e.jsx(N,{w:"100%",h:"100%",minW:"100%",src:"/images/icon_farms.png"})})})})},Q=({positionInfo:s})=>{var m,l;const[i,g]=o.useState(!1),{getTokenAmountValue:j}=T(),{posFeeData:u,posFeeDataLoading:S}=A(),a=u[s==null?void 0:s.posId],t=j((m=s==null?void 0:s.displayTokenA)==null?void 0:m.coin_type,a==null?void 0:a.displayFeeOwedA,"--"),x=j((l=s==null?void 0:s.displayTokenB)==null?void 0:l.coin_type,a==null?void 0:a.displayFeeOwedB,"--"),p=o.useMemo(()=>t!=="--"&&x!=="--"?w(z(t).plus(x).toString(),2):"$--",[t,x]),{isApp:b}=y();return e.jsxs(c,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:"flex-start",flexDirection:{base:"row",lg:"column"},children:[e.jsx(r,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending Fees"}),e.jsx(_,{p:"12px 0",onClick:n=>C(n),onMouseEnter:Number(t)==0&&Number(x)==0?()=>{}:()=>g(!0),onMouseLeave:()=>g(!1),children:e.jsxs(D,{isLazy:!0,trigger:b?"click":"hover",placement:"top-start",children:[e.jsx(R,{children:e.jsx(P,{as:"button",cursor:Number(t)==0&&Number(x)==0?"default":"help",children:e.jsx(d,{isLoaded:!!p,children:e.jsx(r,{color:"text_caption",textDecoration:Number(t)==0&&Number(x)==0?"none":"underline dotted",textUnderlineOffset:"3px",borderColor:"text_caption",children:p})})})}),i&&p!=="--"&&e.jsx(W,{children:e.jsx(M,{zIndex:"2",w:"fit-content",p:"4px ",children:e.jsx(U,{p:"8px",children:e.jsxs(c,{align:"flex-start",minW:"200px",children:[e.jsxs(h,{w:"100%",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(v,{token:s==null?void 0:s.displayTokenA,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(c,{align:"flex-end",gap:"4px",children:[e.jsx(r,{fontSize:"12px",color:"text_caption",children:B(a==null?void 0:a.displayFeeOwedA)}),e.jsx(r,{fontSize:"12px",children:w(t,2)})]})]}),e.jsxs(h,{w:"100%",justify:"space-between",children:[e.jsx(v,{token:s==null?void 0:s.displayTokenB,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(c,{align:"flex-end",gap:"4px",children:[e.jsx(r,{fontSize:"12px",color:"text_caption",children:B(a==null?void 0:a.displayFeeOwedB)}),e.jsx(r,{fontSize:"12px",children:w(x,2)})]})]})]})})})})]})})]})},X=({positionInfo:s})=>{var m;const{getTokenAmountValue:i}=T(),{coinPriceObj:g}=$(),{posRewardsData:j,posRewardsDataLoading:u,posApiPoolData:S}=A(),a=(m=S[s==null?void 0:s.clmmPool])==null?void 0:m.haveMining,t=j[s==null?void 0:s.posId],x=o.useMemo(()=>{const l=t==null?void 0:t.map(n=>{const k=i(n==null?void 0:n.coin_address,n==null?void 0:n.display_amount_owed,"--");return{...n,amountUSD:k}});return l&&l.length>0?l.filter(n=>z(n.display_amount_owed).gt(0)):[]},[s,t,g]),p=o.useMemo(()=>{let l;return(x==null?void 0:x.length)>0?(x.forEach(n=>{const k=n==null?void 0:n.amountUSD;l=k=="--"||l=="--"?"--":z(l).plus(k).toString()}),l=="--"?"$--":w(l,2)):"$0"},[x]),{isApp:b}=y();return e.jsx(e.Fragment,{children:((x==null?void 0:x.length)>0||a)&&e.jsxs(c,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:{base:"flex-start",lg:"flex-end"},flexDirection:{base:"row",lg:"column"},children:[e.jsx(r,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending Rewards"}),e.jsx(_,{p:"12px 0",onClick:l=>C(l),children:e.jsxs(D,{isLazy:!0,trigger:b?"click":"hover",placement:"top-start",children:[e.jsx(R,{children:e.jsxs(P,{as:"button",cursor:p=="$0"?"text":"help",children:[e.jsx(N,{w:"18px",h:"18px",src:"/images/icon_mining.png",mr:"4px"}),e.jsx(d,{isLoaded:!!p&&!u,children:e.jsx(r,{color:"text_caption",textDecoration:p=="$0"?"none":"underline dotted",textUnderlineOffset:"3px",children:p})})]})}),p!=="$0"&&e.jsx(W,{children:e.jsx(M,{zIndex:"2",w:"fit-content",p:"4px",children:e.jsx(U,{borderRadius:"12px",p:"8px",children:e.jsxs(c,{align:"flex-start",children:[e.jsx(r,{fontSize:"12px",color:"text_caption",children:"Mining Rewards"}),x==null?void 0:x.map(l=>e.jsxs(h,{minW:"200px",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(v,{token:l==null?void 0:l.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(c,{align:"flex-end",gap:"4px",children:[e.jsx(r,{fontSize:"12px",color:"text_caption",children:B(l==null?void 0:l.display_amount_owed)}),e.jsxs(r,{fontSize:"12px",children:[" ",w(l==null?void 0:l.amountUSD,2)]})]})]},l==null?void 0:l.coin_address))]})})})})]})})]})})};function re({positionInfo:s}){const{isApp:i}=y(),{getExplorerUrl:g}=E(),{getClmmPosName:j}=q(),u=L(),{setCurrentPosDetailTab:S}=Y(),{posPoolsOriginalData:a}=A(),t=o.useMemo(()=>{var p;if(s!=null&&s.tokenName)return s==null?void 0:s.tokenName;{const b=(p=a==null?void 0:a[s==null?void 0:s.clmmPool])==null?void 0:p.index;return j(Number(s==null?void 0:s.index),b)}},[s==null?void 0:s.tokenName,s==null?void 0:s.index,s==null?void 0:s.clmmPool,a]),x=()=>{console.log("ðŸš€ ~ PoolItem ~ poolInfo:",s),S("increase"),u(`/position-detail/${s==null?void 0:s.id}`)};return e.jsx(V,{w:"100%",p:{base:"16px 8px 12px",lg:"12px"},borderRadius:"16px",onClick:x,children:e.jsxs(h,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsxs(c,{w:{base:"100%",lg:"calc(100% - 100px)"},align:"flex-start",children:[e.jsxs(h,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},children:[e.jsxs(h,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(r,{fontSize:{base:"14px",lg:"12px"},children:"NFT ID"}),e.jsx(d,{isLoaded:!!t,children:e.jsx(r,{fontWeight:"500",fontSize:{base:"14px",lg:"12px"},color:"text_caption",children:t==null?void 0:t.split("|")[1]})})]}),e.jsxs(h,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(r,{fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),e.jsx(G,{fontWeight:"500",color:"text_caption",address:s==null?void 0:s.id,showLink:!1,fontSize:{base:"14px",lg:"12px"},onClickLink:()=>{window.open(g(s==null?void 0:s.id,"nftAddress"),"_blank")}})]})]}),e.jsxs(h,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},gap:{base:"0",lg:"8px"},children:[i&&e.jsx(_,{h:"4px"}),e.jsx(J,{positionInfo:s,symbolEllipsesDecimals:10,labelInfo:{text:"Price Range"}}),i&&e.jsx(_,{h:"4px"}),e.jsxs(c,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:"flex-start",flexDirection:{base:"row",lg:"column"},children:[e.jsx(r,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Liquidity"}),e.jsx(K,{positionInfo:s,fontSize:"14px"})]}),e.jsx(Q,{positionInfo:s}),e.jsx(X,{positionInfo:s})]})]}),e.jsxs(H,{w:{base:"100%",lg:"32px"},h:{base:"40px",lg:"90px"},borderRadius:"8px",variant:"ghost",p:"0 !important",_hover:{svg:{fill:"text_caption"}},children:[i&&e.jsx(r,{children:"Manage"}),e.jsx(O,{xlinkHref:"#icon-icon_list_token",w:"14px",h:"14px"})]})]})})}function ce(){const{isApp:s}=y();return e.jsxs(c,{w:"100%",bg:"card_bg",p:"16px",borderRadius:"16px",gap:"20px",align:"flex-start",children:[e.jsxs(h,{w:"100%",justify:"space-between",children:[e.jsxs(h,{gap:"0",children:[e.jsx(F,{size:"9"}),e.jsx(F,{size:"9"}),e.jsxs(c,{gap:"4px",ml:"4px",align:"flex-start",children:[e.jsx(d,{height:"4",width:"100px"}),e.jsx(d,{height:"4",width:"150px"})]})]}),e.jsx(d,{height:"5",width:"250px"})]}),e.jsx(V,{w:"100%",p:"12px",borderRadius:"16px",children:e.jsxs(c,{w:{base:"100%",lg:"calc(100% - 100px)"},align:"flex-start",children:[e.jsx(d,{height:"4",width:"200px",mt:"8px"}),e.jsxs(h,{w:"100%",justify:"space-between",children:[e.jsxs(c,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(d,{height:"4",width:"100px"}),e.jsx(d,{height:"4",width:"100px"})]}),e.jsxs(c,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(d,{height:"4",width:"100px"}),e.jsx(d,{height:"4",width:"100px"})]}),!s&&e.jsxs(c,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(d,{height:"4",width:"100px"}),e.jsx(d,{height:"4",width:"100px"})]}),!s&&e.jsxs(c,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(d,{height:"4",width:"100px"}),e.jsx(d,{height:"4",width:"100px"})]})]})]})})]})}export{te as F,re as P,ce as a};
