import{n as p,Y as S,bz as w,W as m}from"./index-ptnn7YYs.js";import{a as n}from"./vendor-DsVemle5.js";function T(){const{currentAccount:e}=p(),{clmmSdk:d}=S(),{setTokenBalanceObj:i,clearData:c,setIsLoading:l,isLoading:B,ownerAddress:h}=w(),t=n.useRef(e==null?void 0:e.address);n.useEffect(()=>{t.current=e==null?void 0:e.address},[e==null?void 0:e.address]);const g=async(s=(e==null?void 0:e.address)||"",f=!1)=>{try{if(B&&!f)return;if(s){l(!0);const a=await d.getOwnerCoinBalances(s),r={};a.forEach(o=>{r[m(o.coinType).full_address]=o}),s==t.current&&i(r,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchAccountBalance ~ error:",a),h!==s&&c()}finally{l(!1)}},y=async(s=(e==null?void 0:e.address)||"",f)=>{try{if(s&&f){const a=await d.getOwnerCoinBalances(s,f),r={};a.forEach(o=>{r[m(o.coinType).full_address]=o}),s==t.current&&i(r,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchCoinBalance ~ error:",a)}};return n.useEffect(()=>{e||(c(),l(!1))},[e==null?void 0:e.address]),{fetchAccountBalance:g,fetchCoinBalance:y,isLoading:B}}export{T as u};
//# sourceMappingURL=useAccountBalance-BlkjpDIb.js.map
