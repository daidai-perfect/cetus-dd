import{j as o,D as B,a as j,ai as w,H as g,T as b,ac as E,ad as N,C as H,ae as T,V as J,I as z,f as y,ah as F}from"./vendor-DsVemle5.js";import{N as Q,a as G}from"./AggregatorModal-DvqOUCop.js";import{a as L}from"./useSwapHelper-BOLbfc9y.js";import{d as O,c as _,I as U,K as C}from"./index-DIvDX_Yh.js";import{C as k}from"./CheckBox-D8E1JnSg.js";import"./aggregator-Boz3QPO-.js";import"./index-Bbyfw4ff.js";import"./TooltipIcon-DEf7niQQ.js";import"./FreshProgressV2-ZPylifaE.js";import"./useToken-YYj-bY2H.js";import"./global-CXwwb5OW.js";import"./useGetPoolList-CqBccx4u.js";import"./useWrapPoolData-D5Mp0awk.js";const X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAkZJREFUWEftkz1oU1Ecxc9JYsEOQqtFWsTFRbAq1JD3cNFRoQ4FQXTVRRwUlHxRsWJJ8h4KOogIuiqC6GBBR10kL8SCHwWXLiIpfrXgoKDJO/JChA5p7ssHZMmdLvzvPed3z/9/iT4v9tkfA4BBAh0nkH2v7fqN3cEQczM+5vbySycD3TZAqqydquIOiKNQY4gJQXjOGM46cX5qB6QtgHRJRyQ8krClmQmJnyROFBJ8ERYiNEBmUWP+XyxJGKvHTjyjsBDsRUxLONYw/RodwmR+it/CQIQGSHm6J+F0IBqJ4FIhwRvrDdIlXfR9XG/A3XcsnuktQFGrAkYALLo2DzQTTxb1BsAUgTXH5mjPANLvNOL/wmr9dcAtx+aFZuKpom4KOF9PaRijhX1cM0GEakG2rPFqFZW6MHG1YHGumXDa05wvXAlqsRgmcnGu9AQg42lrTfjeEMu6NvMbtCADIBfUosS2vMUfPQEIRJJF3QZxcCiK4/NxLjcTni1r158aHkN47do8ZzJvtNR8LFnUDhAugcMSxlvdILEi4CWEpGvzs0ndOAN1c+AtgFBTvc4wGNr9JggzgKcHEE6aXtK0Tjx0LZ5qmZhJOOWpYop9I42gHY7Fia4AkkXJBNmq7tpsmbK5Bf0GSHmqSYh0kgIJ37EY7aoFKU8fJOzpEGDJsTjZHUBJs/JxrSOACC47Cc53BXC3rE3LNTyBMN0WBLEwnMDMHFntCuD/5bSnGQmHQLT8VhAqJF4VLD4NA2z8BWFEujkzABgk8A/y6sYhQWslfQAAAABJRU5ErkJggg==",q=5,D=2e3,W=r=>{var e;const{item:s}=r;return s!=null&&s.subItems?o.jsx(K,{...r}):(s==null?void 0:s.id)===((e=L)==null?void 0:e.CETUS)?o.jsx(Y,{...r}):o.jsx(Z,{...r})},K=({item:r,checkedMap:s,onSelect:e})=>{var h,i,I,R;const a=n=>!!(s!=null&&s[n]),x=(h=r==null?void 0:r.subItems)==null?void 0:h.every(n=>a(n==null?void 0:n.id)),t=n=>{var l,f,S;(l=r==null?void 0:r.subItems)!=null&&l.every(p=>a(p==null?void 0:p.id))?(f=r==null?void 0:r.subItems)==null||f.forEach(p=>e(p==null?void 0:p.id,!1)):(S=r==null?void 0:r.subItems)==null||S.forEach(p=>e(p==null?void 0:p.id,!0))},{isOpen:u,onClose:A,onToggle:c}=B(),v=j.useMemo(()=>{var n;return(n=r==null?void 0:r.subItems)==null?void 0:n.reduce((l,f)=>O(l).plus(a(f==null?void 0:f.id)?1:0).toNumber(),0)},[JSON.stringify(r==null?void 0:r.subItems),s]),d=j.useRef(null);return o.jsx(w,{children:o.jsxs(g,{ref:d,justifyContent:"space-between",alignItems:"center",w:"100%",gap:"8px",bg:x?"checked_bg":"bg_primary",boxShadow:x?"aggregator_shadow":"unset",border:"1px solid",borderColor:x?"position_status_bg":"border",borderRadius:"8px",p:"0 0 0 12px",cursor:"pointer",onClick:t,sx:{_hover:{".source_name":{color:"primary"}}},children:[o.jsxs(g,{gap:"8px",children:[o.jsx(_,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(b,{className:"source_name",color:x?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]}),o.jsxs(E,{gutter:4,placement:"bottom-end",isLazy:!0,isOpen:u,onOpen:()=>{},onClose:A,children:[o.jsx(N,{margin:"-1px",bg:x?"checked_bg":"bg_primary",boxShadow:x?"aggregator_shadow":"unset",border:"1px solid",borderColor:x?"position_status_bg":"border",flex:"0 0 58px",h:"50px",borderRadius:"8px",className:"arrow_box",onClick:n=>{C(n),c()},_hover:{svg:{fill:"primary"}},children:o.jsxs(H,{gap:"4px",children:[o.jsx(b,{fontSize:"10px",color:"primary",children:v}),o.jsxs(b,{fontSize:"10px",children:["/ ",((i=r==null?void 0:r.subItems)==null?void 0:i.length)||0]}),o.jsx(U,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray",transition:"transform 0.5s",transform:u?"rotate(180deg)":"rotate(0deg)"})]})}),o.jsx(T,{minW:"unset",w:(I=d==null?void 0:d.current)==null?void 0:I.offsetWidth,borderRadius:"8px",p:"12px 8px 12px 12px",bg:"checked_bg",boxShadow:"aggregator_shadow",borderColor:"position_status_bg",onClick:n=>{C(n)},children:o.jsx(J,{w:"100%",gap:"20px",children:(R=r==null?void 0:r.subItems)==null?void 0:R.map(n=>o.jsxs(g,{justifyContent:"space-between",w:"100%",h:"20px",cursor:"pointer",onClick:l=>{C(l),e(n==null?void 0:n.id,!a(n==null?void 0:n.id))},children:[o.jsx(b,{color:"text_caption",fontSize:"12px",children:n==null?void 0:n.name}),o.jsx(k,{checked:a(n==null?void 0:n.id),onClick:()=>{}})]},n.name))})})]})]})})},Y=({item:r,checkedMap:s,onSelect:e})=>{const a=j.useRef(0),x=j.useRef(null),t=!!(s!=null&&s[r==null?void 0:r.id]),u=()=>{x.current&&(clearTimeout(x.current),a.current=0)},A=()=>{a.current=a.current+1,a.current===1&&(x.current=setTimeout(u,D)),a.current===q&&(e(r==null?void 0:r.id,!(s!=null&&s[r==null?void 0:r.id])),u())};return o.jsx(w,{children:o.jsxs(g,{justifyContent:"space-between",alignItems:"center",w:"100%",onClick:A,cursor:"not-allowed",bg:t?"checked_bg":"bg_primary",boxShadow:t?"aggregator_shadow":"unset",border:"1px solid",borderColor:t?"position_status_bg":"border",borderRadius:"8px",p:"12px",_hover:{p:{color:"primary"}},children:[o.jsxs(g,{gap:"8px",children:[o.jsx(_,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(b,{color:t?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]}),t&&o.jsx(z,{src:X,w:"16px",h:"16px"})]})})},Z=({item:r,checkedMap:s,onSelect:e})=>{const a=!!(s!=null&&s[r==null?void 0:r.id]);return o.jsx(w,{children:o.jsxs(g,{w:"100%",gap:"8px",cursor:"pointer",p:"12px",onClick:()=>e(r==null?void 0:r.id,!(s!=null&&s[r==null?void 0:r.id])),border:"1px solid",borderRadius:"8px",borderColor:a?"position_status_bg":"border",bg:a?"checked_bg":"bg_primary",boxShadow:a?"aggregator_shadow":"unset",_hover:{p:{color:"primary"}},children:[o.jsx(_,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(b,{color:a?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]})})},tr=({title:r,isAllChecked:s,onAllSelect:e,onItemSelect:a,list:x=[],checkedMap:t={},checkedNum:u,totalNum:A})=>o.jsxs(J,{w:"100%",justify:"flex-start",gap:"12px",maxH:{base:"max(200px, min(calc(50vh - 120px), 238px))",lg:"238px"},children:[o.jsxs(g,{justifyContent:"space-between",alignItems:"center",w:"100%",h:"16px",children:[o.jsx(b,{fontSize:"14px",h:"16px",margin:"0px",lineHeight:"16px",color:"text_caption",fontWeight:"500",children:r}),o.jsxs(g,{children:[o.jsx(Q,{num:u,total:A}),o.jsx(G,{id:r,onChange:e,isChecked:s})]})]}),o.jsxs(y,{w:"100%",children:[o.jsx(F,{templateColumns:{base:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:"8px",maxH:{base:"max(140px, min(200px, calc(50vh - 200px)))",lg:"200px"},overflowY:"scroll",pb:"8px",children:x==null?void 0:x.map(c=>o.jsx(W,{item:c,checkedMap:t,onSelect:a},c==null?void 0:c.name))}),o.jsx(y,{w:"100%",pos:"relative",h:"1px",_after:{content:'""',position:"absolute",left:0,bottom:0,width:"100%",height:"8px",background:"aggregator_box_shadow"}})]})]});export{tr as default};
//# sourceMappingURL=SourceGrid-C0kZ-EWF.js.map
