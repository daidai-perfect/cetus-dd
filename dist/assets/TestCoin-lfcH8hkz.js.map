{"version":3,"file":"TestCoin-lfcH8hkz.js","sources":["../../src/pages/TestCoin.tsx"],"sourcesContent":["import { useSigner } from '@cetus/hooks'\nimport useClmmSDKStore from '@cetus/stores/src/useClmmSDKStore'\nimport { toDecimalsAmount, TransactionUtil } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { Button, VStack } from '@chakra-ui/react'\nimport { coinWithBalance, Transaction } from '@mysten/sui/transactions'\n\nexport default function TestCoin() {\n  const { clmmSdk } = useClmmSDKStore()\n  const { signAndExecuteTransactionBlock } = useSigner()\n\n  const handleSpitCoin = async () => {\n    const tx = new Transaction()\n    const amounts = new Array(60).fill(200)\n    const recipients = new Array(60).fill(clmmSdk.senderAddress)\n    const coins = tx.splitCoins(\n      tx.object('0x4ad097ec82f4980091f19efa257642a900e7e1b6ef7e855a40daf768a57e207e'),\n      amounts.map(amount => tx.pure.u64(amount))\n    )\n\n    recipients.forEach((recipient, index) => {\n      tx.transferObjects([coins[index]], tx.pure.address(recipient))\n    })\n    tx.setGasBudget(1000000000)\n    const res = await signAndExecuteTransactionBlock(tx)\n    console.log('ðŸš€ ~ handleSpitCoin ~ res:', res)\n  }\n\n  const handleCoinWithBalance = async () => {\n    const startTime = new Date().getTime()\n    const tx = new Transaction()\n    const coins = [\n      '0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX',\n      '0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI',\n      '0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK',\n      '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC',\n      '0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN'\n    ]\n    coins.forEach(type => {\n      tx.transferObjects(\n        [\n          coinWithBalance({\n            balance:\n              type === '0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX' ? toDecimalsAmount(45.8231388, 9) : 1200,\n            type\n          })\n        ],\n        clmmSdk.senderAddress\n      )\n    })\n    console.log('ðŸš€ ------------------------------------ðŸš€')\n    console.log('ðŸš€ ~ handleCoinWithBalance ~ tx:', tx)\n    console.log('ðŸš€ ------------------------------------ðŸš€')\n    const res = await clmmSdk.fullClient.devInspectTransactionBlock({\n      transactionBlock: tx,\n      sender: clmmSdk.senderAddress\n    })\n\n    const endTime = new Date().getTime()\n    console.log('ðŸš€ ~ signAndExecuteTransactionBlock ~ è€—æ—¶:', endTime - startTime, 'æ¯«ç§’')\n    console.log('devInspectTransactionBlock:', res)\n  }\n\n  const handleCoinForAmount = async () => {\n    const startTime = new Date().getTime()\n    const tx = new Transaction()\n    const allAssets = await clmmSdk.getOwnerCoinAssets(clmmSdk.senderAddress, undefined, true)\n    const coins = [\n      '0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX',\n      '0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI',\n      '0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK',\n      '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC',\n      '0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN'\n    ]\n    coins.forEach(type => {\n      tx.transferObjects(\n        [\n          TransactionUtil.buildCoinForAmount(\n            tx,\n            allAssets,\n            BigInt(\n              type === '0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX' ? toDecimalsAmount(45.8231388, 9) : 1200\n            ),\n            type,\n            false,\n            true\n          ).targetCoin\n        ],\n        clmmSdk.senderAddress\n      )\n    })\n\n    console.log('ðŸš€ ------------------------------------ðŸš€')\n    console.log('ðŸš€ ~ handleCoinWithBalance ~ tx:', tx)\n    console.log('ðŸš€ ------------------------------------ðŸš€')\n\n    const res = await clmmSdk.fullClient.devInspectTransactionBlock({\n      transactionBlock: tx,\n      sender: clmmSdk.senderAddress\n    })\n    const endTime = new Date().getTime()\n    console.log('ðŸš€ ~ signAndExecuteTransactionBlock ~ è€—æ—¶:', endTime - startTime, 'æ¯«ç§’')\n    console.log('devInspectTransactionBlock:', res)\n  }\n\n  return (\n    <VStack>\n      <Button onClick={handleSpitCoin}>spit coin object </Button>\n      <Button onClick={handleCoinWithBalance}>ä½¿ç”¨ coinWithBalance </Button>\n      <Button onClick={handleCoinForAmount}>ä½¿ç”¨ buildCoinForAmount </Button>\n    </VStack>\n  )\n}\n"],"names":["TestCoin","clmmSdk","useClmmSDKStore","signAndExecuteTransactionBlock","useSigner","handleSpitCoin","tx","Transaction","amounts","recipients","coins","amount","recipient","index","res","handleCoinWithBalance","startTime","type","coinWithBalance","toDecimalsAmount","endTime","handleCoinForAmount","allAssets","TransactionUtil","VStack","jsx","Button"],"mappings":"0KAMA,SAAwBA,GAAW,CAC3B,KAAA,CAAE,QAAAC,CAAQ,EAAIC,EAAgB,EAC9B,CAAE,+BAAAC,CAA+B,EAAIC,EAAU,EAE/CC,EAAiB,SAAY,CAC3B,MAAAC,EAAK,IAAIC,EACTC,EAAU,IAAI,MAAM,EAAE,EAAE,KAAK,GAAG,EAChCC,EAAa,IAAI,MAAM,EAAE,EAAE,KAAKR,EAAQ,aAAa,EACrDS,EAAQJ,EAAG,WACfA,EAAG,OAAO,oEAAoE,EAC9EE,EAAQ,IAAIG,GAAUL,EAAG,KAAK,IAAIK,CAAM,CAAC,CAC3C,EAEWF,EAAA,QAAQ,CAACG,EAAWC,IAAU,CACpCP,EAAA,gBAAgB,CAACI,EAAMG,CAAK,CAAC,EAAGP,EAAG,KAAK,QAAQM,CAAS,CAAC,CAAA,CAC9D,EACDN,EAAG,aAAa,GAAU,EACpB,MAAAQ,EAAM,MAAMX,EAA+BG,CAAE,EAC3C,QAAA,IAAI,6BAA8BQ,CAAG,CAC/C,EAEMC,EAAwB,SAAY,CACxC,MAAMC,EAAY,IAAI,KAAK,EAAE,QAAQ,EAC/BV,EAAK,IAAIC,EACD,CACZ,iFACA,mFACA,iFACA,iFACA,gFACF,EACM,QAAgBU,GAAA,CACjBX,EAAA,gBACD,CACEY,EAAgB,CACd,QACED,IAAS,iFAAmFE,EAAiB,WAAY,CAAC,EAAI,KAChI,KAAAF,CACD,CAAA,CACH,EACAhB,EAAQ,aACV,CAAA,CACD,EACD,QAAQ,IAAI,2CAA2C,EAC/C,QAAA,IAAI,mCAAoCK,CAAE,EAClD,QAAQ,IAAI,2CAA2C,EACvD,MAAMQ,EAAM,MAAMb,EAAQ,WAAW,2BAA2B,CAC9D,iBAAkBK,EAClB,OAAQL,EAAQ,aAAA,CACjB,EAEKmB,EAAU,IAAI,KAAK,EAAE,QAAQ,EACnC,QAAQ,IAAI,4CAA6CA,EAAUJ,EAAW,IAAI,EAC1E,QAAA,IAAI,8BAA+BF,CAAG,CAChD,EAEMO,EAAsB,SAAY,CACtC,MAAML,EAAY,IAAI,KAAK,EAAE,QAAQ,EAC/BV,EAAK,IAAIC,EACTe,EAAY,MAAMrB,EAAQ,mBAAmBA,EAAQ,cAAe,OAAW,EAAI,EAC3E,CACZ,iFACA,mFACA,iFACA,iFACA,gFACF,EACM,QAAgBgB,GAAA,CACjBX,EAAA,gBACD,CACEiB,EAAgB,mBACdjB,EACAgB,EACA,OACEL,IAAS,iFAAmFE,EAAiB,WAAY,CAAC,EAAI,IAChI,EACAF,EACA,GACA,EAAA,EACA,UACJ,EACAhB,EAAQ,aACV,CAAA,CACD,EAED,QAAQ,IAAI,2CAA2C,EAC/C,QAAA,IAAI,mCAAoCK,CAAE,EAClD,QAAQ,IAAI,2CAA2C,EAEvD,MAAMQ,EAAM,MAAMb,EAAQ,WAAW,2BAA2B,CAC9D,iBAAkBK,EAClB,OAAQL,EAAQ,aAAA,CACjB,EACKmB,EAAU,IAAI,KAAK,EAAE,QAAQ,EACnC,QAAQ,IAAI,4CAA6CA,EAAUJ,EAAW,IAAI,EAC1E,QAAA,IAAI,8BAA+BF,CAAG,CAChD,EAEA,cACGU,EACC,CAAA,SAAA,CAACC,EAAA,IAAAC,EAAA,CAAO,QAASrB,EAAgB,SAAiB,oBAAA,EACjDoB,EAAA,IAAAC,EAAA,CAAO,QAASX,EAAuB,SAAmB,sBAAA,EAC1DU,EAAA,IAAAC,EAAA,CAAO,QAASL,EAAqB,SAAsB,wBAAA,CAAA,CAAA,EAC9D,CAEJ"}