import{E as Y,a as _,j as e,H as j,V as n,T as a,f as C,P,h as H,C as W,u as i,k as E,m as O,n as f,I as q,ab as Z,v as I,S as G}from"./vendor-C6OgHlW5.js";import{u as ee}from"./global-QtViurKp.js";import{I as R,n as K,O as k,d as T,a as L,G as U,v,m as se,e as xe,B as X}from"./index-BcaB9c-7.js";import{a as D,d as le}from"./usePositionList-CBEmR193.js";import{u as te}from"./detail-Bt4ObaKR.js";import{S as N,A as re}from"./SingleTokenInfo-5fekhlrG.js";import{P as ce,L as Q}from"./PriceRange-MiEdJL9c.js";function be(){const{search:s}=Y(),[d,r]=_.useState({});return _.useLayoutEffect(()=>{const p=new URLSearchParams(s);r(Object.fromEntries(p.entries()))},[s]),d}function M({size:s="s",children:d}){const{isShowProfileAssets:r}=ee();return r?d:s==="l"?e.jsxs(j,{gap:"0",children:[e.jsx(R,{xlinkHref:"#icon-icon_more1",fontSize:"32px",svgFill:"text_caption"}),e.jsx(R,{xlinkHref:"#icon-icon_more1",fontSize:"32px",svgFill:"text_caption"})]}):e.jsx(R,{xlinkHref:"#icon-icon_more1",fontSize:"20px",svgFill:"text_caption"})}const ae=({positionInfo:s,isProfile:d=!1})=>{var w,F;const[r,p]=_.useState(!1),{getTokenAmountValue:b}=K(),{posFeeData:g,posFeeDataLoading:h}=D(),t=g[s==null?void 0:s.posId],x=b((w=s==null?void 0:s.displayTokenA)==null?void 0:w.coin_type,t==null?void 0:t.displayFeeOwedA,"--"),c=b((F=s==null?void 0:s.displayTokenB)==null?void 0:F.coin_type,t==null?void 0:t.displayFeeOwedB,"--"),m=_.useMemo(()=>x!=="--"&&c!=="--"?k(T(x).plus(c).toString(),2):"$--",[x,c]),{isApp:y}=L(),z=Number(x)==0&&Number(c)==0?()=>{}:()=>p(!0),o=()=>p(!1);return e.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:"flex-start",flexDirection:{base:"row",lg:"column"},children:[e.jsx(a,{color:"primary_gray",m:d?"6px 0 0 0":"12px 0 -12px 0",children:"Pending Fees"}),d?e.jsxs(M,{children:[e.jsx(V,{onMouseEnter:z,onMouseLeave:o,positionInfo:s,amountValueA:x,amountValueB:c,amountValue:m,isShowInfo:r,currentPosData:t}),e.jsx(C,{p:"12px 0",onClick:A=>U(A),onMouseEnter:Number(x)==0&&Number(c)==0?()=>{}:()=>p(!0),onMouseLeave:()=>p(!1),children:e.jsxs(P,{isLazy:!0,trigger:y?"click":"hover",placement:"top-start",children:[e.jsx(H,{children:e.jsx(W,{as:"button",cursor:Number(x)==0&&Number(c)==0?"default":"help",children:e.jsx(i,{isLoaded:!!m,children:e.jsx(a,{color:"text_caption",textDecoration:Number(x)==0&&Number(c)==0?"none":"underline dotted",textUnderlineOffset:"3px",borderColor:"text_caption",children:m})})})}),r&&m!=="--"&&e.jsx(E,{children:e.jsx(O,{zIndex:"2",w:"fit-content",p:"4px ",children:e.jsx(f,{p:"8px",children:e.jsxs(n,{align:"flex-start",minW:"200px",children:[e.jsxs(j,{w:"100%",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(N,{token:s==null?void 0:s.displayTokenA,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(n,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:v(t==null?void 0:t.displayFeeOwedA)}),e.jsx(a,{fontSize:"12px",children:k(x,2)})]})]}),e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsx(N,{token:s==null?void 0:s.displayTokenB,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(n,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:v(t==null?void 0:t.displayFeeOwedB)}),e.jsx(a,{fontSize:"12px",children:k(c,2)})]})]})]})})})})]})})]}):e.jsx(V,{onMouseEnter:z,onMouseLeave:o,positionInfo:s,amountValueA:x,amountValueB:c,amountValue:m,isShowInfo:r,currentPosData:t})]})},V=({onMouseEnter:s,onMouseLeave:d,positionInfo:r,amountValueA:p,amountValueB:b,amountValue:g,currentPosData:h,isShowInfo:t})=>{const{isApp:x}=L();return e.jsx(C,{p:"12px 0",onClick:c=>U(c),onMouseEnter:s,onMouseLeave:d,children:e.jsxs(P,{isLazy:!0,trigger:x?"click":"hover",placement:"top-start",children:[e.jsx(H,{children:e.jsx(W,{as:"button",cursor:Number(p)==0&&Number(b)==0?"default":"help",children:e.jsx(i,{isLoaded:!!g,children:e.jsx(a,{color:"text_caption",textDecoration:Number(p)==0&&Number(b)==0?"none":"underline dotted",textUnderlineOffset:"3px",borderColor:"text_caption",children:g})})})}),t&&g!=="--"&&e.jsx(E,{children:e.jsx(O,{zIndex:"2",w:"fit-content",p:"4px ",children:e.jsx(f,{p:"8px",children:e.jsxs(n,{align:"flex-start",minW:"200px",children:[e.jsxs(j,{w:"100%",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(N,{token:r==null?void 0:r.displayTokenA,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(n,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:v(h==null?void 0:h.displayFeeOwedA)}),e.jsx(a,{fontSize:"12px",children:k(p,2)})]})]}),e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsx(N,{token:r==null?void 0:r.displayTokenB,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(n,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:v(h==null?void 0:h.displayFeeOwedB)}),e.jsx(a,{fontSize:"12px",children:k(b,2)})]})]})]})})})})]})})},ne=({positionInfo:s,isProfile:d=!1})=>{var A,$;const{getTokenAmountValue:r}=K(),{coinPriceObj:p}=se(),{posRewardsData:b,posRewardsDataLoading:g,posApiPoolData:h,farmsPosRewardsData:t,farmsPosRewardsDataLoading:x}=D(),c=(A=h[s==null?void 0:s.clmmPool])==null?void 0:A.haveMining,m=($=h[s==null?void 0:s.clmmPool])==null?void 0:$.haveFarming,y=b[s==null?void 0:s.posId],z=t[s==null?void 0:s.id],o=_.useMemo(()=>{const u=y==null?void 0:y.map(l=>{var S;console.log("ðŸš€ ~ list ~ reward:",l);const B=r((S=l==null?void 0:l.token)==null?void 0:S.coin_type,l==null?void 0:l.display_amount_owed,"--");return{...l,amountUSD:B}});return u&&u.length>0?u.filter(l=>T(l.display_amount_owed).gt(0)):[]},[s,y,p]),w=_.useMemo(()=>{const u=z==null?void 0:z.map(l=>{var S;console.log("ðŸš€ ~ list ~ reward:",l);const B=r((S=l==null?void 0:l.token)==null?void 0:S.coin_type,l==null?void 0:l.display_amount_owed,"--");return{...l,amountUSD:B}});return u&&u.length>0?u.filter(l=>T(l.display_amount_owed).gt(0)):[]},[s,z,p]),F=_.useMemo(()=>{let u;const l=o.concat(w);return console.log("ðŸš€ ~ totalUSD ~ arr:",l,o,w),(l==null?void 0:l.length)>0?(l.forEach(B=>{const S=B==null?void 0:B.amountUSD;u=S=="--"||u=="--"?"--":T(u).plus(S).toString()}),u=="--"?"$--":k(u,2)):"$0"},[o,w]);return L(),e.jsx(e.Fragment,{children:((o==null?void 0:o.length)>0||c||(s==null?void 0:s.posType)=="farms")&&e.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:{base:"flex-start",lg:"flex-end"},flexDirection:{base:"row",lg:"column"},children:[e.jsx(a,{color:"primary_gray",m:d?"6px 0 0 0":"12px 0 -12px 0",children:"Pending Rewards"}),d?e.jsx(M,{children:e.jsx(J,{totalUSD:F,haveMining:c,haveFarming:m,posRewardsDataLoading:g,farmsPosRewardsDataLoading:x,rewardsMiningInfo:o,rewardsFarmsInfo:w})}):e.jsx(J,{totalUSD:F,haveMining:c,haveFarming:m,posRewardsDataLoading:g,farmsPosRewardsDataLoading:x,rewardsMiningInfo:o,rewardsFarmsInfo:w})]})})},J=({totalUSD:s,haveFarming:d,haveMining:r,posRewardsDataLoading:p,farmsPosRewardsDataLoading:b,rewardsMiningInfo:g,rewardsFarmsInfo:h})=>{const{isApp:t}=L();return e.jsx(C,{p:"12px 0",onClick:x=>U(x),children:e.jsxs(P,{isLazy:!0,trigger:t?"click":"hover",placement:"top-start",children:[e.jsx(H,{children:e.jsxs(W,{as:"button",cursor:s=="$0"?"text":"help",children:[r&&e.jsx(q,{w:"18px",h:"18px",src:"/images/icon_mining.png",mr:"4px"}),d&&e.jsx(q,{w:"18px",h:"18px",src:"/images/icon_farms.png",mr:"4px"}),e.jsx(i,{isLoaded:!!s&&!p&&!b,children:e.jsx(a,{color:"text_caption",textDecoration:s=="$0"?"none":"underline dotted",textUnderlineOffset:"3px",children:s})})]})}),s!=="$0"&&e.jsx(E,{children:e.jsx(O,{zIndex:"2",w:"fit-content",p:"4px",children:e.jsx(f,{borderRadius:"12px",p:"8px",children:e.jsxs(n,{align:"flex-start",children:[r&&e.jsx(a,{fontSize:"12px",color:"text_caption",children:"Mining Rewards"}),g==null?void 0:g.map(x=>{var c;return e.jsxs(j,{minW:"200px",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(N,{token:x==null?void 0:x.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(n,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:v(x==null?void 0:x.display_amount_owed)}),e.jsxs(a,{fontSize:"12px",children:[" ",k(x==null?void 0:x.amountUSD,2)]})]})]},(c=x==null?void 0:x.token)==null?void 0:c.coin_type)}),d&&e.jsx(a,{fontSize:"12px",color:"text_caption",children:"Farming Rewards"}),h==null?void 0:h.map(x=>{var c;return e.jsxs(j,{minW:"200px",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(N,{token:x==null?void 0:x.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(n,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:v(x==null?void 0:x.display_amount_owed)}),e.jsxs(a,{fontSize:"12px",children:[" ",k(x==null?void 0:x.amountUSD,2)]})]})]},(c=x==null?void 0:x.token)==null?void 0:c.coin_type)})]})})})})]})})};function me({positionInfo:s,isProfile:d=!1}){const{isApp:r}=L(),{getExplorerUrl:p}=xe(),{getClmmPosName:b}=le(),g=Z(),{setCurrentPosDetailTab:h}=te(),{posPoolsOriginalData:t}=D(),x=_.useMemo(()=>{var m;if(s!=null&&s.tokenName)return s==null?void 0:s.tokenName;{const y=(m=t==null?void 0:t[s==null?void 0:s.clmmPool])==null?void 0:m.index;return b(Number(s==null?void 0:s.index),y)}},[s==null?void 0:s.tokenName,s==null?void 0:s.index,s==null?void 0:s.clmmPool,t]),c=()=>{console.log("ðŸš€ ~ PoolItem ~ poolInfo:",s),h("increase"),g(`/position-detail/${s==null?void 0:s.id}`)};return e.jsx(X,{w:"100%",p:{base:"16px 8px 12px",lg:"12px"},borderRadius:"16px",onClick:c,children:e.jsxs(j,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsxs(n,{w:{base:"100%",lg:"calc(100% - 100px)"},align:"flex-start",children:[e.jsxs(j,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},children:[e.jsxs(j,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(a,{fontSize:{base:"14px",lg:"12px"},children:"NFT ID"}),e.jsx(i,{isLoaded:!!x,children:e.jsx(a,{fontWeight:"500",fontSize:{base:"14px",lg:"12px"},color:"text_caption",children:x==null?void 0:x.split("|")[1]})})]}),e.jsxs(j,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(a,{fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),e.jsx(re,{fontWeight:"500",color:"text_caption",address:s==null?void 0:s.id,showLink:!1,fontSize:{base:"14px",lg:"12px"},onClickLink:()=>{window.open(p(s==null?void 0:s.id,"nftAddress"),"_blank")}})]})]}),e.jsxs(j,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},gap:{base:"0",lg:"8px"},children:[r&&e.jsx(C,{h:"4px"}),e.jsx(ce,{positionInfo:s,symbolEllipsesDecimals:10,labelInfo:{text:"Price Range"}}),r&&e.jsx(C,{h:"4px"}),e.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:"flex-start",flexDirection:{base:"row",lg:"column"},children:[e.jsx(a,{color:"primary_gray",m:d?"6px 0 0 0":"12px 0 -12px 0",children:"Liquidity"}),d?e.jsx(M,{children:e.jsx(Q,{positionInfo:s,fontSize:"14px"})}):e.jsx(Q,{positionInfo:s,fontSize:"14px"})]}),e.jsx(ae,{positionInfo:s,isProfile:d}),e.jsx(ne,{positionInfo:s,isProfile:d})]})]}),e.jsxs(I,{w:{base:"100%",lg:"32px"},h:{base:"40px",lg:"90px"},borderRadius:"8px",variant:"ghost",p:"0 !important",_hover:{svg:{fill:"text_caption"}},children:[r&&e.jsx(a,{children:"Manage"}),e.jsx(R,{xlinkHref:"#icon-icon_list_token",w:"14px",h:"14px"})]})]})})}function oe(){const{isApp:s}=L();return e.jsxs(n,{w:"100%",bg:"card_bg",p:"16px",borderRadius:"16px",gap:"20px",align:"flex-start",children:[e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsxs(j,{gap:"0",children:[e.jsx(G,{size:"9"}),e.jsx(G,{size:"9"}),e.jsxs(n,{gap:"4px",ml:"4px",align:"flex-start",children:[e.jsx(i,{height:"4",width:"100px"}),e.jsx(i,{height:"4",width:"150px"})]})]}),e.jsx(i,{height:"5",width:"250px"})]}),e.jsx(X,{w:"100%",p:"12px",borderRadius:"16px",children:e.jsxs(n,{w:{base:"100%",lg:"calc(100% - 100px)"},align:"flex-start",children:[e.jsx(i,{height:"4",width:"200px",mt:"8px"}),e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsxs(n,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(i,{height:"4",width:"100px"}),e.jsx(i,{height:"4",width:"100px"})]}),e.jsxs(n,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(i,{height:"4",width:"100px"}),e.jsx(i,{height:"4",width:"100px"})]}),!s&&e.jsxs(n,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(i,{height:"4",width:"100px"}),e.jsx(i,{height:"4",width:"100px"})]}),!s&&e.jsxs(n,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(i,{height:"4",width:"100px"}),e.jsx(i,{height:"4",width:"100px"})]})]})]})})]})}export{M as H,oe as P,me as a,be as u};
//# sourceMappingURL=PositionListLoading-DBM_CWXK.js.map
