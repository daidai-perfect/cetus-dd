import{j as e,a6 as F,q as G,aa as te,a as g,H as a,V as p,T as l,C as M,f as Q,ap as se,R as le,at as k,au as b,S as Z,p as C,av as Ce,aw as Te,ax as O,ay as _e}from"./vendor-BFGDaAdA.js";import{I as L,k as z,a as U,e as W,f as E,B as N,X as Ae,C as J,j as fe}from"./index-Fe2tZAmL.js";import{N as Y}from"./NoData-DtiZhmrM.js";import{a as re,b as ie,u as X,c as ke,d as Ve,e as De,f as Le}from"./VaultsAprBlock-BT80udWs.js";import{H as D}from"./HTextLabelBox-a2CUIzAy.js";import{A as oe,V as ae}from"./VaultsRewardsBlock-DqlrfeLG.js";import{P as Re}from"./PoweredByHaedal-Bke0Bj0w.js";import{V as I}from"./VTextLabelBox-B9jC2oQL.js";import{V as ne}from"./VaultsHoldings--JJ2iT6i.js";import{C as He}from"./CoinPairInfo-455TKWXX.js";import{S as Be}from"./SearchInputBlock-DTvdeg1V.js";import{C as ee}from"./CheckBox-CTFo1Bg1.js";import{R as Oe}from"./RefreshButton-C3yJXPdF.js";import{S as ze}from"./SortDropBlock-DMVKtgNX.js";import{u as Pe}from"./useAccountBalance-Byib0voT.js";import{u as We}from"./useInterval-BQqGpXj5.js";import"./useGetPoolList-B1Mv5UcY.js";import"./useWrapPoolData-CAoAUewj.js";import"./useTokenBalance-DP5kgkCW.js";import"./useToken-BKskvPZm.js";import"./useFavoritePool-DJy3kpLw.js";import"./useVaultsHoldings-BeKdcW04.js";import"./SingleTokenInfo-B9uwt8O4.js";import"./CopyButton-CAzfUkNT.js";import"./index-DMxSTiyd.js";import"./Loading-yKVeoG31.js";import"./TooltipIcon-CkpQwR2w.js";function xe({isOpen:r,jumpVaultsDetail:s,onExpand:t}){return e.jsxs(F,{w:{base:"100%",lg:"auto"},flexDir:{base:"column",lg:"row"},justifyContent:{base:"center",lg:"end"},align:"center",gap:{base:"8px",lg:"20px"},children:[e.jsx(G,{fontSize:"14px",h:{base:"40px",lg:"32px"},w:{base:"100%",lg:"100px"},variant:"outline",borderRadius:"8px",onClick:s,children:"Deposit"}),e.jsx(G,{variant:"unstyled",_hover:{bg:"button_ghost_hov_bg",svg:{fill:"text_caption"}},w:{base:"100%",lg:"32px"},h:{base:"40px",lg:"72px"},minW:"unset",minH:"unset",bg:"button_ghost_bg",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"8px",border:"1px solid",borderColor:"border",onClick:t||(()=>{}),children:e.jsx(L,{svgW:"16px",xlinkHref:"#icon-icon_arrow",variant:"gray",transition:"transform 0.5s",transform:r?"rotate(180deg)":"rotate(0deg)"})})]})}function ce(r){var m,S,n,w;const{apiInfo:s,logo_url:t}=r,u=te(),{currentAccount:y,onWalletModal:x}=z(),{isApp:o}=U(),{vaultsPositionObj:j}=re();console.log("ðŸš€ðŸš€ðŸš€ ~ VaultsExpendItem.tsx:24 ~ VaultsExpendItem ~ vaultsPositionObj:",j);const i=g.useMemo(()=>j[s==null?void 0:s.vaultId],[JSON.stringify(j),s==null?void 0:s.vaultId]);return y?e.jsxs(F,{flexDir:{base:"column",lg:"row"},bg:"bg_primary",w:"100%",gap:"16px",borderRadius:{base:"8px",lg:"20px"},border:"1px solid",borderColor:"border",p:{base:"8px",lg:"10px 52px 10px 16px"},cursor:"pointer",justifyContent:{base:"center",lg:"space-between"},onClick:()=>{u(`/vaults-detail/${s==null?void 0:s.vaultId}/${s.category}`)},children:[e.jsxs(a,{gap:"15px",children:[e.jsx(W,{imageUrl:t,imgBoxStyle:{w:"60px",h:"60px"}}),e.jsxs(p,{gap:"4px",alignItems:"start",children:[e.jsx(l,{color:"primary_gray",children:"Your LP tokens"}),e.jsx(l,{color:"text_caption",children:`${(i==null?void 0:i.balanceDisplay)||"0"} LP`})]})]}),e.jsx(F,{flexDir:{base:"column",lg:"row"},gap:{base:"16px",lg:"8px"},children:o?e.jsxs(e.Fragment,{children:[e.jsx(D,{label:"Pooled assets",labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},value:e.jsxs(F,{gap:{base:"4px",lg:"12px"},flexDir:{base:"column",lg:"row"},align:{base:"flex-end",lg:"center"},children:[e.jsxs(a,{gap:"4px",children:[e.jsx(W,{imageUrl:s.displayTokenA.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(l,{color:"text_caption",children:E(i==null?void 0:i.displayAmountA)}),e.jsx(l,{color:"text_caption",children:(m=s==null?void 0:s.displayTokenA)==null?void 0:m.symbol})]}),e.jsxs(a,{gap:"4px",children:[e.jsx(W,{imageUrl:s.displayTokenB.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(l,{color:"text_caption",children:E(i==null?void 0:i.displayAmountB)}),e.jsx(l,{color:"text_caption",children:(S=s==null?void 0:s.displayTokenB)==null?void 0:S.symbol})]})]})}),e.jsx(D,{label:"Share of pool",labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},value:i==null?void 0:i.shartOfPoolDisplay}),e.jsxs(G,{variant:"outline",h:"32px",gap:"8px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",children:[e.jsx(l,{color:"primary_gray",children:"Details"}),e.jsx(N,{borderRadius:"4px",p:"0px",bg:"rgb(118,200,255,0.1)",w:"fit-content",children:e.jsx(M,{w:"20px",h:"20px",children:e.jsx(L,{svgW:"16px",xlinkHref:"#icon-icon_arrow",variant:"gray",transition:"transform 0.5s",transform:"rotate(-90deg)"})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{mr:"90px",children:e.jsx(I,{wrapStyle:{gap:"4px",alignItems:"end"},title:"Pooled assets",titleStyle:{color:"primary_gray"},value:e.jsxs(a,{gap:"4px",children:[e.jsx(W,{imageUrl:s.displayTokenA.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(l,{color:"text_caption",children:E(i==null?void 0:i.displayAmountA)}),e.jsx(l,{color:"text_caption",mr:"8px",children:(n=s==null?void 0:s.displayTokenA)==null?void 0:n.symbol}),e.jsx(W,{imageUrl:s.displayTokenB.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(l,{color:"text_caption",children:E(i==null?void 0:i.displayAmountB)}),e.jsx(l,{color:"text_caption",children:(w=s==null?void 0:s.displayTokenB)==null?void 0:w.symbol})]})})}),e.jsx(M,{mr:"110px",children:e.jsx(I,{wrapStyle:{gap:"4px",alignItems:"end"},title:"Share of pool",titleStyle:{color:"primary_gray"},value:i==null?void 0:i.shartOfPoolDisplay})}),e.jsxs(a,{gap:"8px",children:[e.jsx(l,{color:"primary_gray",children:"Details"}),e.jsx(N,{borderRadius:"4px",p:"0px",bg:"rgb(118,200,255,0.1)",children:e.jsx(M,{w:"20px",h:"20px",children:e.jsx(L,{svgW:"16px",xlinkHref:"#icon-icon_arrow",variant:"gray",transition:"transform 0.5s",transform:"rotate(-90deg)"})})})]})]})})]}):e.jsx(Y,{type:"nowallet",onboard:()=>{x(!0)}})}function Ne({openExpend:r,onExpand:s,apiInfo:t,logo_url:u,jumpVaultsDetail:y,isShowPowered:x,isShowAumLimit:o}){var j,i,m,S,n,w;return e.jsxs(p,{w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",p:"8px",borderRadius:"12px",gap:"16px",bg:"bg_fifth",children:[e.jsxs(a,{children:[e.jsx(Ae,{coinAIconUrl:(j=t==null?void 0:t.displayTokenA)==null?void 0:j.logo_url,coinBIconUrl:(i=t==null?void 0:t.displayTokenB)==null?void 0:i.logo_url,coinACoinType:(m=t==null?void 0:t.displayTokenA)==null?void 0:m.coin_type,coinBCoinType:(S=t==null?void 0:t.displayTokenB)==null?void 0:S.coin_type,w:"40px",h:"40px"}),e.jsxs(p,{children:[e.jsxs(a,{children:[e.jsxs(l,{color:"text_caption",fontWeight:"500",children:[(n=t==null?void 0:t.displayTokenA)==null?void 0:n.symbol," - ",(w=t==null?void 0:t.displayTokenB)==null?void 0:w.symbol]}),e.jsx(Q,{h:"20px",lineHeight:"18px",bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",p:"0 12px",children:e.jsx(l,{fontWeight:"500",color:"text_highlight",children:t==null?void 0:t.feeDisplay})})]}),(t==null?void 0:t.category)=="haedal"&&x&&e.jsx(Re,{category:"Haedal"})]})]}),e.jsxs(p,{w:"100%",gap:"16px",mt:"4px",children:[o?e.jsx(D,{label:"TVL",value:e.jsx(p,{alignItems:"flex-end",children:Number(t.hardCapUSD)==0?e.jsx(J,{tooltip:" No capacity limit ",children:e.jsxs(p,{gap:"4px",children:[e.jsx(l,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(l,{h:"12px",lineHeight:"12px",color:"primary",bg:"primary_opacity.10",p:"0px 8px",borderRadius:"12px",children:"âˆž"})]})}):e.jsx(oe,{depositRatio:t.depositRatio,hardCapUSD:t.hardCapUSD,vaultTvl:t.vaultsTvl,textStyle:{textDecoration:"none"},value:e.jsxs(p,{alignItems:"flex-end",children:[e.jsx(l,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(se,{h:"4px",w:"80px",value:Number(t.depositRatio),bg:"primary_opacity.10",sx:{'div[role="progressbar"]':{bg:"primary"}}})]})})}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px",fontWeight:"500"}}):e.jsx(D,{label:"TVL",value:e.jsx(l,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),e.jsx(D,{label:e.jsxs(a,{justify:"flex-end",gap:"2px",children:[e.jsx(l,{children:"APY"}),e.jsx(J,{placement:"auto-start",tooltip:e.jsx(l,{lineHeight:"20px",fontSize:"12px",children:"APY is estimated according to the trading fees and rewards earned over the past 24 hours with daily compounding to be considered."}),children:e.jsx(L,{xlinkHref:"#icon-icon_tips"})})]}),value:e.jsx(ie,{vaultsLstApyDisplay:t.vaultsLstApyDisplay,vaultsApyDisplay:t.vaultsApyDisplay,vaultsTotalApyDisplay:t.vaultsTotalApyDisplay,vaultsAprDisplay:t.vaultsAprDisplay,category:t.category}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px",fontWeight:"500"}}),e.jsx(D,{label:"Rewards",value:e.jsx(ae,{rewardList:t.vaultsRewards}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),e.jsx(D,{label:"Your Holdings",value:e.jsx(ne,{vaultId:t.vaultId,category:t.category}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px",fontWeight:"500"}})]}),e.jsxs(p,{w:"100%",gap:"8px",children:[e.jsx(xe,{isOpen:r,jumpVaultsDetail:()=>{y(t.vaultId)},onExpand:s}),r&&e.jsx(ce,{apiInfo:t,logo_url:u})]})]})}function Ye({openExpend:r,onExpand:s,apiInfo:t,logo_url:u,jumpVaultsDetail:y,isShowPowered:x,isShowAumLimit:o}){return e.jsxs(le.Fragment,{children:[e.jsxs(k,{cursor:"pointer",onClick:s,sx:{td:{pb:"16px"}},children:[e.jsx(b,{children:e.jsx(He,{poolInfo:{...t,poolAddress:t==null?void 0:t.vaultId},isShowPowered:x,symbolFontSize:"15px"})}),o?e.jsx(b,{textAlign:"right",children:Number(t==null?void 0:t.hardCapUSD)==0?e.jsx(J,{tooltip:" No capacity limit ",children:e.jsxs(p,{gap:"4px",children:[e.jsx(l,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(l,{h:"12px",lineHeight:"12px",color:"primary",bg:"primary_opacity.10",p:"0px 8px",borderRadius:"12px",children:"âˆž"})]})}):e.jsx(oe,{depositRatio:t.depositRatio,hardCapUSD:t.hardCapUSD,vaultTvl:t.vaultsTvl,textStyle:{textDecoration:"none"},value:e.jsxs(p,{alignItems:"flex-end",children:[e.jsx(l,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(se,{h:"4px",w:"80px",value:Number(t.depositRatio),bg:"primary_opacity.10",sx:{'div[role="progressbar"]':{bg:"primary"}}})]})})}):e.jsx(b,{textAlign:"right",children:e.jsx(l,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay})}),e.jsx(b,{textAlign:"right",w:"13%",children:e.jsx(ie,{vaultsLstApyDisplay:t.vaultsLstApyDisplay,vaultsApyDisplay:t.vaultsApyDisplay,vaultsTotalApyDisplay:t.vaultsTotalApyDisplay,vaultsAprDisplay:t.vaultsAprDisplay,category:t.category})}),e.jsx(b,{textAlign:"right",w:"13%",children:e.jsx(ae,{rewardList:t.vaultsRewards})}),e.jsx(b,{textAlign:"right",children:e.jsx(ne,{vaultId:t.vaultId,category:t.category})}),e.jsx(b,{textAlign:"right",children:e.jsx(xe,{isOpen:r,jumpVaultsDetail:()=>{y(t.vaultId)}})})]}),!r&&e.jsx(k,{h:"16px"}),e.jsx(k,{cursor:"pointer",position:"relative",top:"-16px",left:"0px",sx:{td:{p:"0 !important",bg:"transparent !important",border:"none !important",_first:{borderRadius:" 16px !important"},_last:{borderRadius:"0 0 16px 0 !important"}},_hover:{bg:"transparent !important",td:{bg:"transparent !important"}}},children:r&&e.jsx(b,{colSpan:6,children:e.jsx(N,{p:"16px",borderTop:"none",borderRadius:" 0 0 16px 16px ",children:e.jsx(ce,{apiInfo:t,logo_url:u})})})})]},t.vaultId)}function de(r){const s=te(),{apiInfo:t,isShowPowered:u}=r,{lpTokenInfoObj:y}=X(),{currentAccount:x}=z(),o=g.useMemo(()=>y[t==null?void 0:t.lpTokenType],[t==null?void 0:t.lpTokenType,JSON.stringify(y)]),[j,i]=g.useState(!1),m=H=>{s(`/vaults-detail/${H}/${t==null?void 0:t.category}`)},S=()=>{i(!j)},{getVaultPosition:n}=ke(),{lstVaultContractInfoObj:w,haedalVaultContractInfoObj:h,vaultClmmPoolContractInfoObj:f}=Ve(),R=g.useMemo(()=>w[t==null?void 0:t.vaultId],[t==null?void 0:t.vaultId,JSON.stringify(w)]),v=g.useMemo(()=>h[t==null?void 0:t.vaultId],[t==null?void 0:t.vaultId,JSON.stringify(h)]),_=g.useMemo(()=>f[t==null?void 0:t.clmmPoolAddress],[t==null?void 0:t.clmmPoolAddress,JSON.stringify(f)]);g.useEffect(()=>{if(x!=null&&x.address){const H=(t==null?void 0:t.category)=="cetus"?R:v;H&&_&&n(t,_,H)}},[x==null?void 0:x.address,t==null?void 0:t.vaultId,t==null?void 0:t.clmmPoolAddress,R,v,_]);const{isApp:c}=U(),V=window.location.host,P=g.useMemo(()=>!V.includes("app.cetus.zone")&&!V.includes("cetus-cmm-pro.netlify.app")&&!V.includes("localhost:5173"),[V]);return c?e.jsx(Ne,{openExpend:j,onExpand:S,apiInfo:t,logo_url:o==null?void 0:o.logo_url,jumpVaultsDetail:m,isShowPowered:u,isShowAumLimit:P}):e.jsx(Ye,{openExpend:j,onExpand:S,apiInfo:t,logo_url:o==null?void 0:o.logo_url,jumpVaultsDetail:m,isShowPowered:u,isShowAumLimit:P})}function Ue({dataList:r,showSkeletonLoading:s,showNoWallet:t,isShowPowered:u}){const{onWalletModal:y}=z();return!t&&!s&&r.length===0?e.jsx(Y,{type:"nodata",text:"No vaults found",border:"none"}):t?e.jsx(Y,{type:"nowallet",onboard:()=>y(!0),border:"none"}):s?e.jsx(Me,{itemList:[1,2,3]}):e.jsx(p,{w:"100%",mt:"20px",children:r==null?void 0:r.map(x=>e.jsx(de,{apiInfo:x,isShowPowered:u},x.clmmPoolAddress))})}function Me({itemList:r}){return e.jsx(p,{w:"100%",mt:"20px",children:r.map(s=>e.jsxs(p,{w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",p:"8px",borderRadius:"12px",gap:"16px",children:[e.jsxs(a,{gap:"0",children:[e.jsx(Z,{size:"9"}),e.jsx(Z,{size:"9"}),e.jsxs(a,{gap:"4px",ml:"4px",align:"flex-start",children:[e.jsx(C,{height:"4",width:"100px"}),e.jsx(C,{height:"4",width:"60px"})]})]}),e.jsx(p,{w:"100%",gap:"16px",mt:"4px",children:[1,2,3,4].map(t=>e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(C,{height:"4",width:"100px"}),e.jsx(C,{height:"4",width:"100px"})]},t))}),e.jsxs(p,{w:"100%",gap:"8px",children:[e.jsx(C,{height:"8",width:"100%"}),e.jsx(C,{height:"8",width:"100%"})]})]},s))})}function Ee({dataList:r,showSkeletonLoading:s,showNoWallet:t,isShowPowered:u}){const{onWalletModal:y}=z();return e.jsxs(Ce,{variant:"simple_list",w:"100%",mt:"20px",children:[e.jsx(Te,{children:e.jsxs(k,{children:[e.jsx(O,{children:"Vaults"}),e.jsx(O,{textAlign:"right",children:"TVL"}),e.jsx(O,{textAlign:"right",children:e.jsxs(a,{justify:"flex-end",gap:"2px",children:[e.jsx(l,{children:"APY"}),e.jsx(J,{tooltip:e.jsx(l,{lineHeight:"20px",fontSize:"12px",children:"APY is estimated according to the trading fees and rewards earned over the past 24 hours with daily compounding to be considered."}),children:e.jsx(L,{xlinkHref:"#icon-icon_tips"})})]})}),e.jsx(O,{textAlign:"right",children:"Earnings"}),e.jsx(O,{textAlign:"right",children:"Your Holdings"}),e.jsx(O,{textAlign:"right",children:"Action"})]})}),e.jsxs(_e,{children:[!t&&!s&&r.length===0&&e.jsx(k,{children:e.jsx(b,{colSpan:6,w:"100%",children:e.jsx(Y,{type:"nodata",text:"No vaults found",border:"none"})})}),t&&e.jsx(k,{children:e.jsx(b,{colSpan:6,w:"100%",style:{borderRadius:"16px"},children:e.jsx(Y,{type:"nowallet",onboard:()=>y(!0),border:"none"})})}),s&&e.jsx(Fe,{itemList:[1,2,3]}),!s&&r.map(x=>e.jsx(de,{apiInfo:x,isShowPowered:u},x.clmmPoolAddress))]})]})}function Fe({itemList:r}){return r.map(s=>e.jsxs(le.Fragment,{children:[e.jsxs(k,{h:"110px",sx:{td:{pb:"16px"}},children:[e.jsx(b,{children:e.jsx(C,{w:"220px"})}),e.jsx(b,{textAlign:"right",children:e.jsx(a,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(a,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(a,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(a,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(a,{justifyContent:"end",children:e.jsx(C,{})})})]}),e.jsx(k,{h:"16px"})]},s))}function Je(){const{vaultsTotalTvlDisplay:r}=X(),{isApp:s}=U();return e.jsx(p,{w:"100%",pos:"absolute",alignItems:"start",bgColor:"#000",backgroundImage:{base:"url('/images/vaults_h5.png')",lg:"url('/images/vaults.png')"},backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backdropFilter:"blur(20px)",h:{base:"260px",lg:"240px"},children:e.jsxs(p,{minW:{base:"100%",lg:"1200px"},p:{base:"20px 16px 0",lg:"40px 20px 0"},margin:"0px auto",gap:"10px",alignItems:"start",h:"100%",children:[e.jsx(a,{w:"100%",justify:"space-between",children:e.jsx(l,{color:"text_caption",fontSize:"28px",fontWeight:"500",children:"Vaults"})}),e.jsxs(l,{fontSize:"16px",whiteSpace:"wrap",lineHeight:"20px",children:["Automate your liquidity to enjoy high yield with ease.Â ",s&&e.jsxs(a,{onClick:()=>{window.open("https://medium.com/@CetusProtocol/cetus-vaults-automate-your-liquidity-to-earn-high-yield-with-ease-ed655e68122e","_blank")},display:{base:"inline-flex",lg:"flex"},_hover:{p:{color:"primary"},svg:{fill:"primary"}},children:[e.jsx(l,{fontSize:"16px",cursor:"pointer",children:"Details"}),e.jsx(L,{xlinkHref:"#icon-icon_link1",svgHover:"primary",svgW:"20px",svgH:"20px"})]})]}),!s&&e.jsxs(a,{onClick:()=>{window.open("https://medium.com/@CetusProtocol/cetus-vaults-automate-your-liquidity-to-earn-high-yield-with-ease-ed655e68122e","_blank")},display:{base:"inline-flex",lg:"flex"},_hover:{p:{color:"primary"},svg:{fill:"primary"}},children:[e.jsx(l,{fontSize:"16px",cursor:"pointer",children:"Details"}),e.jsx(L,{xlinkHref:"#icon-icon_link1",svgHover:"primary",svgW:"20px",svgH:"20px"})]}),e.jsx(l,{color:"text_caption",fontSize:"14px",mt:"20px",children:"Total Value Locked"}),e.jsx(C,{isLoaded:!!r,children:e.jsx(l,{fontWeight:"600",color:"primary",fontSize:"20px",mt:"3px",children:r})})]})})}function qe(r){const{sortByList:s,currTab:t,tabList:u,handleChangeTab:y,currSortType:x,onSortByChange:o,sortRule:j,handleRefresh:i,handleChangeSortRule:m,selectCoinList:S,onClickSelectCoinList:n,onDeleteSelectCoinList:w,isYourHoldings:h,onClickIsYourHoldings:f,whiteTokenList:R,showSkeletonLoading:v}=r,{isApp:_}=U(),{currentAccount:c}=z();return e.jsxs(p,{w:"100%",mt:{base:"20px",lg:"40px"},justify:"space-between",children:[e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(fe,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"415px"},h:"46px",borderRadius:{base:"8px",lg:"12px"}},itemStyle:{w:"50%",fontSize:"16px"},tabList:u,currentTab:t.label,handleChangeTab:y}),!_&&(c==null?void 0:c.address)&&e.jsx(N,{w:{base:"100%",lg:"unset"},borderRadius:"12px",p:"0px 12px",h:"40px",children:e.jsxs(a,{h:"100%",justify:"space-between",children:[e.jsx(ee,{checked:h,onClick:f}),e.jsx(l,{color:h?"text_caption":"text_paragraph",children:"Your Holdings"})]})})]}),e.jsxs(a,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsx(Q,{w:{base:"100%",lg:"292px"},sx:{"> button":{minW:"100% !important"}},children:e.jsx(Be,{selectCoinList:S,onClickSelectCoinList:n,onDeleteSelectCoinList:w,whiteTokenList:R})}),e.jsxs(a,{children:[e.jsx(ze,{sortText:"Sort by",xlinkHref:j=="desc"?"#icon-icon_sort2":"#icon-icon_sort_asc1",iconOnClick:()=>{m(j==="asc"?"desc":"asc")},minW:_?"calc(100vw - 126px)":"120px",currentSort:x,sortByList:s,onSortByChange:o,wrapStyle:{borderRadius:{base:"8px",lg:"12px"}}}),e.jsx(Oe,{handleRefresh:()=>{v||i()},borderRadius:{base:"8px",lg:"12px"}})]})]}),_&&e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(l,{w:"100%",fontSize:"20px",color:"text_caption",children:"Vaults"}),(c==null?void 0:c.address)&&e.jsx(N,{w:{base:"100%",lg:"unset"},borderRadius:"12px",p:"0px 12px",h:"40px",children:e.jsxs(a,{h:"100%",justify:"space-between",children:[e.jsx(ee,{checked:h,onClick:f}),e.jsx(l,{color:h?"text_caption":"text_paragraph",children:"Your Holdings"})]})})]})]})}function vt(){const{vaultPageList:r,vaultListLoading:s,setVaultListLoading:t,vaultsList:u,vaultsTokenList:y}=X(),{fetchAccountBalance:x}=Pe(),{currentAccount:o}=z(),{getCurrentTabNum:j,fetchVaultList:i,filterVaultList:m,sortVaultList:S}=De(),[n,w]=g.useState(!1),[h,f]=g.useState([]),{clearVaultsPositionObj:R}=re(),[v,_]=g.useState({label:"All Vaults",value:"all"}),[c,V]=g.useState({sortRule:"desc",sortType:"tvl"}),P=[{label:"APY",value:"apr"},{label:"TVL",value:"tvl"}],[H,pe]=g.useState(P[1]),ue=g.useMemo(()=>[{label:"All Vaults",value:"all",num:j({sortOptions:c,currentTab:"all",isYourHoldings:n,selectCoinList:h})},{label:"Cetus",value:"cetus",num:j({sortOptions:c,currentTab:"cetus",isYourHoldings:n,selectCoinList:h})},{label:"Haedal",value:"haedal",num:j({sortOptions:c,currentTab:"haedal",isYourHoldings:n,selectCoinList:h})}],[JSON.stringify(u),n,JSON.stringify(h)]);g.useEffect(()=>{i({sortOptions:c,currentTab:v.value,isYourHoldings:n,selectCoinList:h})},[]),g.useEffect(()=>{o!=null&&o.address||(w(!1),R())},[o==null?void 0:o.address]);const[K,A]=g.useState(0);We({interval:6e4,callback:()=>{A(K+1),K>=60&&(A(0),i({sortOptions:c,currentTab:v.value,isYourHoldings:n,selectCoinList:h},!1))}});const he=d=>{A(0),!(v.value===d.value||s)&&(_(d),m({sortOptions:c,currentTab:d.value,isYourHoldings:n,selectCoinList:h}),t(!0),setTimeout(()=>{t(!1)},200))},ge=d=>{A(0);const T={...c,sortType:d.value};pe(d),V(T),S(T,r)},je=d=>{A(0);const T={...c,sortRule:d};V(T),S(T,r)},ye=d=>{A(0),f(T=>{if(T.some($=>($==null?void 0:$.coin_type)===(d==null?void 0:d.coin_type)))return T;const B=[...T,d];return m({sortOptions:c,currentTab:v.value,isYourHoldings:n,selectCoinList:B}),B})},me=d=>{A(0),f(T=>{const q=T.filter(B=>(B==null?void 0:B.coin_type)!==(d==null?void 0:d.coin_type));return m({sortOptions:c,currentTab:v.value,isYourHoldings:n,selectCoinList:q}),q})},be=()=>{A(0),w(!n),m({sortOptions:c,currentTab:v.value,isYourHoldings:!n,selectCoinList:h})},ve=()=>{A(0),t(!0),x(),i({sortOptions:c,currentTab:v.value,isYourHoldings:n,selectCoinList:h})},{getVaultsContractInfo:Se}=Le();g.useEffect(()=>{o!=null&&o.address&&Se(u)},[o==null?void 0:o.address,u.length]);const{isApp:we}=U();return e.jsxs(p,{gap:"0px",w:"100%",children:[e.jsx(Je,{}),e.jsx(Q,{h:{base:"260px",lg:"240px"}}),e.jsx(qe,{sortByList:P,currTab:v,tabList:ue,whiteTokenList:y,selectCoinList:h,onClickSelectCoinList:ye,onDeleteSelectCoinList:me,showSkeletonLoading:s,handleChangeTab:he,currSortType:H,onSortByChange:ge,sortRule:c.sortRule,handleChangeSortRule:je,handleRefresh:ve,isYourHoldings:n,onClickIsYourHoldings:be}),we?e.jsx(Ue,{isShowPowered:v.label!=="Haedal",dataList:r,showSkeletonLoading:s}):e.jsx(Ee,{isShowPowered:v.label!=="Haedal",dataList:r,showSkeletonLoading:s})]})}export{vt as default};
//# sourceMappingURL=VaultsV2-BHznet4K.js.map
