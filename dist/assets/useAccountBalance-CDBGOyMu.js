import{k as p,M as S,bL as w,a0 as m}from"./index-fbeVIhEM.js";import{a as d}from"./vendor-DYqnJE5Q.js";function T(){const{currentAccount:e}=p(),{clmmSdk:i}=S(),{setTokenBalanceObj:n,clearData:c,setIsLoading:l,isLoading:B,ownerAddress:h}=w(),t=d.useRef(e==null?void 0:e.address);d.useEffect(()=>{t.current=e==null?void 0:e.address},[e==null?void 0:e.address]);const g=async(s=(e==null?void 0:e.address)||"",f=!1)=>{try{if(B&&!f)return;if(s){l(!0);const a=await i.getOwnerCoinBalances(s),r={};a.forEach(o=>{r[m(o.coinType).full_address]=o}),s==t.current&&n(r,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchAccountBalance ~ error:",a),h!==s&&c()}finally{l(!1)}},y=async(s=(e==null?void 0:e.address)||"",f)=>{try{if(s&&f){const a=await i.getOwnerCoinBalances(s,f),r={};a.forEach(o=>{r[m(o.coinType).full_address]=o}),s==t.current&&n(r,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchCoinBalance ~ error:",a)}};return d.useEffect(()=>{e||(c(),l(!1))},[e==null?void 0:e.address]),{fetchAccountBalance:g,fetchCoinBalance:y,isLoading:B}}export{T as u};
//# sourceMappingURL=useAccountBalance-CDBGOyMu.js.map
