import{U as Mr,aQ as Rt,bc as ot,aW as $t,d as F,u as Ci,aH as $r,r as q,be as Ii,bf as en,a$ as re,j as T,bg as Mi,b as Ee,a7 as $i,ar as nn,H as zi,V as kn,aI as Zt,B as rn,l as sn,an as Di,T as Bi,aR as Bn,C as Oi,aa as On,bh as qi,aO as je}from"./index-CHLr8WBT.js";import{b as Le,T as Xe}from"./useGetPoolList-CUnDlVFh.js";import{u as bn}from"./index-CKtSmGUk.js";import{i as Nt,c as qn,a as Fn,b as Fi,d as ji,l as on,e as Li,s as Xi,m as Gi,f as Vi}from"./linear-Cl5vGKe1.js";import{a as Yi}from"./liquidity-D5dAnrBr.js";import{u as Hi}from"./usePreviousValue-Bt7rb2_J.js";import{A as jn}from"./ActionButton-Caa7weYh.js";import{H as Wi}from"./HTextLabelBox-BFyStZLe.js";import{V as Ui}from"./VTextLabelBox-DkmtZjgn.js";import{u as Ki}from"./useToken-CUbDlqoG.js";var Ln=180/Math.PI,an={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zr(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Ln,skewX:Math.atan(u)*Ln,scaleX:o,scaleY:l}}var ce;function Zi(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?an:zr(e.a,e.b,e.c,e.d,e.e,e.f)}function Ji(t){return t==null||(ce||(ce=document.createElementNS("http://www.w3.org/2000/svg","g")),ce.setAttribute("transform",t),!(t=ce.transform.baseVal.consolidate()))?an:(t=t.matrix,zr(t.a,t.b,t.c,t.d,t.e,t.f))}function Dr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function s(a,h,f,c,d,_){if(a!==f||h!==c){var v=d.push("translate(",null,e,null,n);_.push({i:v-4,x:Nt(a,f)},{i:v-2,x:Nt(h,c)})}else(f||c)&&d.push("translate("+f+e+c+n)}function o(a,h,f,c){a!==h?(a-h>180?h+=360:h-a>180&&(a+=360),c.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Nt(a,h)})):h&&f.push(i(f)+"rotate("+h+r)}function l(a,h,f,c){a!==h?c.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Nt(a,h)}):h&&f.push(i(f)+"skewX("+h+r)}function u(a,h,f,c,d,_){if(a!==f||h!==c){var v=d.push(i(d)+"scale(",null,",",null,")");_.push({i:v-4,x:Nt(a,f)},{i:v-2,x:Nt(h,c)})}else(f!==1||c!==1)&&d.push(i(d)+"scale("+f+","+c+")")}return function(a,h){var f=[],c=[];return a=t(a),h=t(h),s(a.translateX,a.translateY,h.translateX,h.translateY,f,c),o(a.rotate,h.rotate,f,c),l(a.skewX,h.skewX,f,c),u(a.scaleX,a.scaleY,h.scaleX,h.scaleY,f,c),a=h=null,function(d){for(var _=-1,v=c.length,m;++_<v;)f[(m=c[_]).i]=m.x(d);return f.join("")}}}var Qi=Dr(Zi,"px, ","px)","deg)"),ts=Dr(Ji,", ",")",")"),es=1e-12;function Xn(t){return((t=Math.exp(t))+1/t)/2}function ns(t){return((t=Math.exp(t))-1/t)/2}function rs(t){return((t=Math.exp(2*t))-1)/(t+1)}const is=function t(e,n,r){function i(s,o){var l=s[0],u=s[1],a=s[2],h=o[0],f=o[1],c=o[2],d=h-l,_=f-u,v=d*d+_*_,m,p;if(v<es)p=Math.log(c/a)/e,m=function(P){return[l+P*d,u+P*_,a*Math.exp(e*P*p)]};else{var w=Math.sqrt(v),y=(c*c-a*a+r*v)/(2*a*n*w),k=(c*c-a*a-r*v)/(2*c*n*w),A=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(k*k+1)-k);p=(b-A)/e,m=function(P){var D=P*p,O=Xn(A),B=a/(n*w)*(O*rs(e*D+A)-ns(A));return[l+B*d,u+B*_,a*O/Xn(e*D+A)]}}return m.duration=p*1e3*e/Math.SQRT2,m}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4),ss=(t,e)=>({lowerTickData:{},setLowerTickData:n=>{t(()=>({lowerTickData:n}))},upperTickData:{},setUpperTickData:n=>{t(()=>({upperTickData:n}))},tickDataLoading:!0,setTickDataLoading:n=>{t(()=>({tickDataLoading:n}))}}),Br=Mr(ss);function os(t,e,n){const r=Math.abs(t)%e;return r?t>0?r>e/2||n&&e<=2?t+e-r:t-r:r>e/2?t-e+r:t+r:n?t+e:t}function as(){const{lowerTickData:t,setLowerTickData:e,upperTickData:n,setUpperTickData:r}=Br(),i=(c,d,_)=>{const v=_.tokenA.decimals,m=_.tokenB.decimals;let p;Math.abs(c)==Math.abs(Rt.getMinIndex(Number(_.tickSpacing)))?p=d==="lower"?"0":"âˆž":p=ot.tickIndexToPrice(c,v,m).toString();const w=p==="âˆž"?"âˆž":$t(p,6),y=Le(p),k=y==="âˆž"?"âˆž":$t(y,6),A={id:d,tokenA:_.tokenA,tokenB:_.tokenB,tick:c,price:p,displayPrice:w,reversePrice:y,displayReversePrice:k,tickSpacing:_.tickSpacing,pool:_.poolAddress};d==="lower"?e({...A}):r({...A})},s=(c,d,_)=>{i(c,"lower",_),i(d,"upper",_)},o=(c,d)=>{console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ tickData:",c),console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ action:",d);const _=c==null?void 0:c.tokenA,v=c==null?void 0:c.tokenB,m=c.tick,p=c.tickSpacing;if(!_||!v||!p)return;const w=d==="Add"?F(m).add(p).toNumber():F(m).sub(p).toNumber();if(F(w).gt(Rt.getMaxIndex(Number(c.tickSpacing)))||F(w).lt(Rt.getMinIndex(Number(c.tickSpacing))))return;const y=ot.tickIndexToPrice(w,_.decimals,v.decimals).toString();console.log(y,"ðŸš€ ~ file: usePriceRange.ts:69 ~ handleActionPrice ~ price:");const k=y==="âˆž"?"âˆž":$t(y,6);if(console.log("ðŸš€ ~ file: usePriceRange.ts:71 ~ handleActionPrice ~ displayPrice:",c,k),k===c.displayPrice)o({...c,tick:w},d);else{const A=Le(y),b=A==="âˆž"?"âˆž":$t(A,6),P={...c,tick:w,price:y,displayPrice:k,reversePrice:A,displayReversePrice:b};c.id==="lower"?(console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ lower newData:",P),e({...P})):(console.log("ðŸš€ ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ upper newData:",P),r({...P}))}};return{handleSetTickData:i,handleAddPrice:c=>{o(c,"Add")},handleSubPrice:c=>{o(c,"Sub")},handleSetFullRange:c=>{const d={...t,tick:Rt.getMinIndex(Number(c.tickSpacing)),price:"0",displayPrice:"0",reversePrice:"âˆž",displayReversePrice:"âˆž"};console.log("ðŸš€ ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ lowerData:",d),e(d);const _={...n,tick:Rt.getMaxIndex(Number(c.tickSpacing)),price:"âˆž",displayPrice:"âˆž",reversePrice:"0",displayReversePrice:"0"};console.log("ðŸš€ ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ upperData:",_),r(_)},handleInitTickData:s,setTickDataBasedOnPrice:(c,d,_)=>{const v=c.tokenA,m=c.tokenB;if(!v||!m)return;let p,w="";if(d==="âˆž"||d==="Infinity")p=Rt.getMaxIndex(Number(c.tickSpacing)),w="âˆž";else if(F(d).equals(0))p=Rt.getMinIndex(Number(c.tickSpacing)),w="0";else if(F(d).gt(0)){const P=ot.priceToTickIndex(F(d),v.decimals,m.decimals),D=!(_&&c.id==="lower"||!_&&c.id==="upper");p=os(Number(P),Number(c.tickSpacing),typeof _=="boolean"?D:void 0),w=ot.tickIndexToPrice(Number(p),v.decimals,m.decimals).toString()}const y=w==="âˆž"?"âˆž":$t(w,6);console.log("ðŸš€ ~ setTickDataBasedOnPrice ~ displayPrice:",y);const k=Le(w),A=k==="âˆž"?"âˆž":$t(k,6),b={...c,tick:p,price:w,displayPrice:y,reversePrice:k,displayReversePrice:A};c.id==="lower"?e({...b}):r({...b})},handleResetRange:()=>{e({}),r({})}}}const cs=(t,e)=>({formatPriceData:[],setFormatPriceData:n=>{t(()=>({formatPriceData:n,formatPriceDataIsLoading:!1}))},formatPriceDataIsLoading:!0,setFormatPriceDataIsLoading:n=>{t(()=>({formatPriceDataIsLoading:n}))},ticksPool:{},setTicksPool:n=>{t(()=>({ticksPool:n}))}}),An=Mr(cs);function Ge(t,e,n,r,i,s){var u,a,h;let o={...n},l=[];for(let f=i+(s?1:-1);s?f<r.length:f>=0;s?f++:f--){const c=Number((u=r[f])==null?void 0:u.tick),d=ot.tickIndexToPrice(c,t.decimals,e.decimals),_={liquidityActive:o.liquidityActive,tick:c,liquidityNet:BigInt(((a=r[f])==null?void 0:a.liquidityNet)??""),price0:d.toString()};s?_.liquidityActive=BigInt(F(o.liquidityActive.toString()).add(((h=r[f])==null?void 0:h.liquidityNet)??0).toString()):!s&&!F(o.liquidityNet.toString()).eq("0")&&(_.liquidityActive=BigInt(F(o.liquidityActive.toString()).sub(o.liquidityNet.toString()).toString())),l.push(_),o=_}return s||(l=l.reverse()),l}const us=(t,e)=>(t||t===0)&&e&&Xe[e]?Math.floor(t/Xe[e])*Xe[e]:void 0;function ls(){const{fetchByApi:t}=Ci(),{clmmSdk:e}=$r(),{setFormatPriceData:n,setFormatPriceDataIsLoading:r,setTicksPool:i}=An(),s=async a=>{var d;const{poolAddress:h,tokenA:f,tokenB:c}=a;try{const v=await t("/router_v2/ticks","GET",{address:h,orderBy:"index",limit:1e3});console.log("ðŸš€ ~ getTicks11111 ~ res:",v);const m=(d=v==null?void 0:v.list)==null?void 0:d.sort((w,y)=>w.index-y.index);console.log("ðŸš€ ~ getTicks11111 ~ list:",m);const p=m.map(w=>({tick:w.index,sqrtPrice:w.sqrt_price,liquidityNet:w.liquidity_net,liquidityGross:w.liquidity_gross}));return console.log("ðŸš€ ~ getTicks11111 ~ tickList:",p),{ticks:p,address:v==null?void 0:v.address,ticksPoolInfo:v==null?void 0:v.pool}}catch(_){console.log("ðŸš€ ~ getTicks ~ error:",_);const v=await e.Pool.fetchTicks({pool_id:h,coinTypeA:f.coin_type,coinTypeB:c.coin_type}),m=[];if(v&&(v==null?void 0:v.length)>0){const p=Ii(v);p==null||p.forEach(w=>{m.push({tick:Number(w.index),liquidityNet:F(w.liquidityNet.toString()).toString(),liquidityGross:w.liquidityGross.toString(),id:w.objectId})})}return{ticks:m,address:h}}},o=a=>{var g,N,x,S,E,R,M;const{poolAddress:h,tokenA:f,tokenB:c,tickSpacing:d,currentTickIndex:_,feeRate:v,ticks:m,ticksPool:p}=a;if(console.log("ðŸš€ ~ getProcessedAsPrice ~ ticksPool:",p),console.log("ðŸš€ ~ getProcessedAsPrice ~ feeRate:",v),console.log("ðŸš€ ~ getProcessedAsPrice ~ tickSpacing:",d),!v||!d)return;console.log("ðŸš€ ~ getProcessedAsPrice ~ currentTickIndex:",_),console.log("ðŸš€ ~ getProcessedAsPrice ~ feeRate:",v);const w=(p==null?void 0:p.current_tick_index)||_,y=us(w,v);if(console.log("ðŸš€ ~ getProcessedAsPrice ~ activeTick:",y),y===void 0)return;const k=JSON.parse(JSON.stringify(m)).sort((I,C)=>I-C);console.log("ðŸš€ ~ getProcessedAsPrice ~ newTicks:",k);const A=(p==null?void 0:p.liquidity)||a.liquidity;if(k.length===0)return{activeTick:y,data:[{liquidityActive:BigInt(A??0),tick:y,liquidityNet:0n,price0:ot.tickIndexToPrice(y,f.decimals,c.decimals).toString()}]};if(console.log("ðŸš€ ~ getProcessedAsPrice ~ currTick:",w),console.log("ðŸš€ ~ getProcessedAsPrice ~ newTicks.length === 2:",k.length===2),console.log("ðŸš€ ~ getProcessedAsPrice ~  newTicks[0]?.tick + newTicks[1]?.tick:",((g=k[0])==null?void 0:g.tick)+((N=k[1])==null?void 0:N.tick)),k.length===2&&w>((x=k[0])==null?void 0:x.tick)&&w<k[1].tick)return console.log("ðŸš€ ~ getProcessedAsPrice ~ is full range:"),{activeTick:y,data:[{...k[0],liquidityActive:k[0].liquidityNet,price0:ot.tickIndexToPrice(k[0].tick,f.decimals,c.decimals).toString()},{liquidityActive:BigInt(A??0),tick:y,liquidityNet:0n,price0:ot.tickIndexToPrice(y,f.decimals,c.decimals).toString()},{...k[1],liquidityActive:k[0].liquidityNet,price0:ot.tickIndexToPrice(k[1].tick,f.decimals,c.decimals).toString()}]};const b=m.findIndex(({tick:I})=>I&&I>y)-1,P=m.findIndex(({tick:I})=>I&&I>=y);if(console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ pivot:",b),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ currentIndexPos:",P),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ liquidity:",A),b<0){const I=Ge(f,c,{liquidityActive:BigInt(A??0),tick:y,liquidityNet:0n,price0:ot.tickIndexToPrice(y,f.decimals,c.decimals).toString()},k,-1,!0);return{activeTick:y,data:[...I]}}console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ params:",a),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ activeTick:",y),console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ ticks:",JSON.parse(JSON.stringify(m)));const D=ot.tickIndexToPrice(y,f.decimals,c.decimals),O={liquidityActive:BigInt(A??0),tick:y,liquidityNet:Number((S=m[b])==null?void 0:S.tick)===y?BigInt(((E=m[b])==null?void 0:E.liquidityNet)??0):BigInt(0),price0:D.toString()};console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ activeTickProcessed:",O);const B=Ge(f,c,O,k,b,!0);console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ subsequentTicks:",B);const z=Ge(f,c,O,k,b,!1);console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ previousTicks:",z);const $={liquidityActive:BigInt(A??0),tick:_,liquidityNet:Number((R=m[b])==null?void 0:R.tick)===y?BigInt(((M=m[b])==null?void 0:M.liquidityNet)??0):BigInt(0),price0:ot.tickIndexToPrice(_,f.decimals,c.decimals).toString()},j=Number(_)<Number(y)?z.concat($).concat(O).concat(B):z.concat(O).concat($).concat(B);return console.log("Test Depth Data###ðŸš€ ~ getProcessedAsPrice ~ ticksProcessed:",j),{activeTick:y,data:j}},l=a=>{if(!a||!(a!=null&&a.length))return[];const h=[];for(let f=0;f<a.length;f++){const c=a[f],d={depth:parseFloat(c.liquidityActive.toString()),price:parseFloat(c.price0)};d.depth>=0&&h.push(d)}return h},u=async a=>{const{tokenA:h,tokenB:f}=a;r(!0);try{console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ params:",a);const c=await s(a);console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ ticks:",c);const d=o({...a,ticks:(c==null?void 0:c.ticks)||[],ticksPool:c==null?void 0:c.ticksPoolInfo});console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ priceData:",d);const _=l(d==null?void 0:d.data);console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ formatPriceData:",_);const v=c!=null&&c.ticksPoolInfo?c==null?void 0:c.ticksPoolInfo:{current_sqrt_price:"",current_tick_index:a.currentTickIndex,id:a.poolAddress,liquidity:a.liquidity},m=ot.tickIndexToPrice(v.current_tick_index,h.decimals,f.decimals).toString();v.price=m,v.reversePrice=F(1).div(m).toString(),i({...v}),n(_)}catch(c){console.log("Test Depth Data###ðŸš€ ~ getFormattedData ~ error:",c),i({}),n([])}};return q.useEffect(()=>()=>{r(!0),n([])},[]),{getFormattedData:u}}function fs(t){return t}var hs=3,Gn=1e-6;function ds(t){return"translate("+t+",0)"}function ps(t){return e=>+t(e)}function gs(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ms(){return!this.__axis}function ys(t,e){var n=[],r=null,i=null,s=6,o=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,a=1,h="y",f=ds;function c(d){var _=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):fs),m=Math.max(s,0)+l,p=e.range(),w=+p[0]+u,y=+p[p.length-1]+u,k=(e.bandwidth?gs:ps)(e.copy(),u),A=d.selection?d.selection():d,b=A.selectAll(".domain").data([null]),P=A.selectAll(".tick").data(_,e).order(),D=P.exit(),O=P.enter().append("g").attr("class","tick"),B=P.select("line"),z=P.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(O),B=B.merge(O.append("line").attr("stroke","currentColor").attr(h+"2",a*s)),z=z.merge(O.append("text").attr("fill","currentColor").attr(h,a*m).attr("dy","0.71em")),d!==A&&(b=b.transition(d),P=P.transition(d),B=B.transition(d),z=z.transition(d),D=D.transition(d).attr("opacity",Gn).attr("transform",function($){return isFinite($=k($))?f($+u):this.getAttribute("transform")}),O.attr("opacity",Gn).attr("transform",function($){var j=this.parentNode.__axis;return f((j&&isFinite(j=j($))?j:k($))+u)})),D.remove(),b.attr("d",o?"M"+w+","+a*o+"V"+u+"H"+y+"V"+a*o:"M"+w+","+u+"H"+y),P.attr("opacity",1).attr("transform",function($){return f(k($)+u)}),B.attr(h+"2",a*s),z.attr(h,a*m).text(v),A.filter(ms).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),A.each(function(){this.__axis=k})}return c.scale=function(d){return arguments.length?(e=d,c):e},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),c):n.slice()},c.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),c):r&&r.slice()},c.tickFormat=function(d){return arguments.length?(i=d,c):i},c.tickSize=function(d){return arguments.length?(s=o=+d,c):s},c.tickSizeInner=function(d){return arguments.length?(s=+d,c):s},c.tickSizeOuter=function(d){return arguments.length?(o=+d,c):o},c.tickPadding=function(d){return arguments.length?(l=+d,c):l},c.offset=function(d){return arguments.length?(u=+d,c):u},c}function vs(t){return ys(hs,t)}var ws={value:()=>{}};function Ce(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new he(n)}function he(t){this._=t}function _s(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}he.prototype=Ce.prototype={constructor:he,on:function(t,e){var n=this._,r=_s(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=xs(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Vn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Vn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new he(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function xs(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Vn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ws,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var cn="http://www.w3.org/1999/xhtml";const Yn={svg:"http://www.w3.org/2000/svg",xhtml:cn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ie(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Yn.hasOwnProperty(e)?{space:Yn[e],local:t}:t}function ks(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===cn&&e.documentElement.namespaceURI===cn?e.createElement(t):e.createElementNS(n,t)}}function bs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Or(t){var e=Ie(t);return(e.local?bs:ks)(e)}function As(){}function Sn(t){return t==null?As:function(){return this.querySelector(t)}}function Ss(t){typeof t!="function"&&(t=Sn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,a,h=0;h<o;++h)(u=s[h])&&(a=t.call(u,u.__data__,h,s))&&("__data__"in u&&(a.__data__=u.__data__),l[h]=a);return new lt(r,this._parents)}function Ps(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ts(){return[]}function qr(t){return t==null?Ts:function(){return this.querySelectorAll(t)}}function Rs(t){return function(){return Ps(t.apply(this,arguments))}}function Ns(t){typeof t=="function"?t=Rs(t):t=qr(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,a=0;a<l;++a)(u=o[a])&&(r.push(t.call(u,u.__data__,a,o)),i.push(u));return new lt(r,i)}function Fr(t){return function(){return this.matches(t)}}function jr(t){return function(e){return e.matches(t)}}var Es=Array.prototype.find;function Cs(t){return function(){return Es.call(this.children,t)}}function Is(){return this.firstElementChild}function Ms(t){return this.select(t==null?Is:Cs(typeof t=="function"?t:jr(t)))}var $s=Array.prototype.filter;function zs(){return Array.from(this.children)}function Ds(t){return function(){return $s.call(this.children,t)}}function Bs(t){return this.selectAll(t==null?zs:Ds(typeof t=="function"?t:jr(t)))}function Os(t){typeof t!="function"&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new lt(r,this._parents)}function Lr(t){return new Array(t.length)}function qs(){return new lt(this._enter||this._groups.map(Lr),this._parents)}function xe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xe.prototype={constructor:xe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Fs(t){return function(){return t}}function js(t,e,n,r,i,s){for(var o=0,l,u=e.length,a=s.length;o<a;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new xe(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function Ls(t,e,n,r,i,s,o){var l,u,a=new Map,h=e.length,f=s.length,c=new Array(h),d;for(l=0;l<h;++l)(u=e[l])&&(c[l]=d=o.call(u,u.__data__,l,e)+"",a.has(d)?i[l]=u:a.set(d,u));for(l=0;l<f;++l)d=o.call(t,s[l],l,s)+"",(u=a.get(d))?(r[l]=u,u.__data__=s[l],a.delete(d)):n[l]=new xe(t,s[l]);for(l=0;l<h;++l)(u=e[l])&&a.get(c[l])===u&&(i[l]=u)}function Xs(t){return t.__data__}function Gs(t,e){if(!arguments.length)return Array.from(this,Xs);var n=e?Ls:js,r=this._parents,i=this._groups;typeof t!="function"&&(t=Fs(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),a=0;a<s;++a){var h=r[a],f=i[a],c=f.length,d=Vs(t.call(h,h&&h.__data__,a,r)),_=d.length,v=l[a]=new Array(_),m=o[a]=new Array(_),p=u[a]=new Array(c);n(h,f,v,m,p,d,e);for(var w=0,y=0,k,A;w<_;++w)if(k=v[w]){for(w>=y&&(y=w+1);!(A=m[y])&&++y<_;);k._next=A||null}}return o=new lt(o,r),o._enter=l,o._exit=u,o}function Vs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ys(){return new lt(this._exit||this._groups.map(Lr),this._parents)}function Hs(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Ws(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var a=n[u],h=r[u],f=a.length,c=l[u]=new Array(f),d,_=0;_<f;++_)(d=a[_]||h[_])&&(c[_]=d);for(;u<i;++u)l[u]=n[u];return new lt(l,this._parents)}function Us(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Ks(t){t||(t=Zs);function e(f,c){return f&&c?t(f.__data__,c.__data__):!f-!c}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),a,h=0;h<l;++h)(a=o[h])&&(u[h]=a);u.sort(e)}return new lt(i,this._parents).order()}function Zs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Js(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qs(){return Array.from(this)}function to(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function eo(){let t=0;for(const e of this)++t;return t}function no(){return!this.node()}function ro(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function io(t){return function(){this.removeAttribute(t)}}function so(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oo(t,e){return function(){this.setAttribute(t,e)}}function ao(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function co(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function uo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function lo(t,e){var n=Ie(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?so:io:typeof e=="function"?n.local?uo:co:n.local?ao:oo)(n,e))}function Xr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fo(t){return function(){this.style.removeProperty(t)}}function ho(t,e,n){return function(){this.style.setProperty(t,e,n)}}function po(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function go(t,e,n){return arguments.length>1?this.each((e==null?fo:typeof e=="function"?po:ho)(t,e,n??"")):Ft(this.node(),t)}function Ft(t,e){return t.style.getPropertyValue(e)||Xr(t).getComputedStyle(t,null).getPropertyValue(e)}function mo(t){return function(){delete this[t]}}function yo(t,e){return function(){this[t]=e}}function vo(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function wo(t,e){return arguments.length>1?this.each((e==null?mo:typeof e=="function"?vo:yo)(t,e)):this.node()[t]}function Gr(t){return t.trim().split(/^|\s+/)}function Pn(t){return t.classList||new Vr(t)}function Vr(t){this._node=t,this._names=Gr(t.getAttribute("class")||"")}Vr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yr(t,e){for(var n=Pn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Hr(t,e){for(var n=Pn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function _o(t){return function(){Yr(this,t)}}function xo(t){return function(){Hr(this,t)}}function ko(t,e){return function(){(e.apply(this,arguments)?Yr:Hr)(this,t)}}function bo(t,e){var n=Gr(t+"");if(arguments.length<2){for(var r=Pn(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ko:e?_o:xo)(n,e))}function Ao(){this.textContent=""}function So(t){return function(){this.textContent=t}}function Po(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function To(t){return arguments.length?this.each(t==null?Ao:(typeof t=="function"?Po:So)(t)):this.node().textContent}function Ro(){this.innerHTML=""}function No(t){return function(){this.innerHTML=t}}function Eo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Co(t){return arguments.length?this.each(t==null?Ro:(typeof t=="function"?Eo:No)(t)):this.node().innerHTML}function Io(){this.nextSibling&&this.parentNode.appendChild(this)}function Mo(){return this.each(Io)}function $o(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zo(){return this.each($o)}function Do(t){var e=typeof t=="function"?t:Or(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Bo(){return null}function Oo(t,e){var n=typeof t=="function"?t:Or(t),r=e==null?Bo:typeof e=="function"?e:Sn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qo(){var t=this.parentNode;t&&t.removeChild(this)}function Fo(){return this.each(qo)}function jo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Lo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xo(t){return this.select(t?Lo:jo)}function Go(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Vo(t){return function(e){t.call(this,e,this.__data__)}}function Yo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ho(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Wo(t,e,n){return function(){var r=this.__on,i,s=Vo(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Uo(t,e,n){var r=Yo(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,h;u<a;++u)for(i=0,h=l[u];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(l=e?Wo:Ho,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Wr(t,e,n){var r=Xr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ko(t,e){return function(){return Wr(this,t,e)}}function Zo(t,e){return function(){return Wr(this,t,e.apply(this,arguments))}}function Jo(t,e){return this.each((typeof e=="function"?Zo:Ko)(t,e))}function*Qo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Ur=[null];function lt(t,e){this._groups=t,this._parents=e}function oe(){return new lt([[document.documentElement]],Ur)}function ta(){return this}lt.prototype=oe.prototype={constructor:lt,select:Ss,selectAll:Ns,selectChild:Ms,selectChildren:Bs,filter:Os,data:Gs,enter:qs,exit:Ys,join:Hs,merge:Ws,selection:ta,order:Us,sort:Ks,call:Js,nodes:Qs,node:to,size:eo,empty:no,each:ro,attr:lo,style:go,property:wo,classed:bo,text:To,html:Co,raise:Mo,lower:zo,append:Do,insert:Oo,remove:Fo,clone:Xo,datum:Go,on:Uo,dispatch:Jo,[Symbol.iterator]:Qo};function J(t){return typeof t=="string"?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],Ur)}function ea(t){let e;for(;e=t.sourceEvent;)t=e;return t}function _t(t,e){if(t=ea(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const un={capture:!0,passive:!1};function ln(t){t.preventDefault(),t.stopImmediatePropagation()}function Kr(t){var e=t.document.documentElement,n=J(t).on("dragstart.drag",ln,un);"onselectstart"in e?n.on("selectstart.drag",ln,un):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Zr(t,e){var n=t.document.documentElement,r=J(t).on("dragstart.drag",null);e&&(r.on("click.drag",ln,un),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var jt=0,Jt=0,Ut=0,Jr=1e3,ke,Qt,be=0,Mt=0,Me=0,ie=typeof performance=="object"&&performance.now?performance:Date,Qr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Tn(){return Mt||(Qr(na),Mt=ie.now()+Me)}function na(){Mt=0}function Ae(){this._call=this._time=this._next=null}Ae.prototype=ti.prototype={constructor:Ae,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Tn():+n)+(e==null?0:+e),!this._next&&Qt!==this&&(Qt?Qt._next=this:ke=this,Qt=this),this._call=t,this._time=n,fn()},stop:function(){this._call&&(this._call=null,this._time=1/0,fn())}};function ti(t,e,n){var r=new Ae;return r.restart(t,e,n),r}function ra(){Tn(),++jt;for(var t=ke,e;t;)(e=Mt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jt}function Hn(){Mt=(be=ie.now())+Me,jt=Jt=0;try{ra()}finally{jt=0,sa(),Mt=0}}function ia(){var t=ie.now(),e=t-be;e>Jr&&(Me-=e,be=t)}function sa(){for(var t,e=ke,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ke=n);Qt=t,fn(r)}function fn(t){if(!jt){Jt&&(Jt=clearTimeout(Jt));var e=t-Mt;e>24?(t<1/0&&(Jt=setTimeout(Hn,t-ie.now()-Me)),Ut&&(Ut=clearInterval(Ut))):(Ut||(be=ie.now(),Ut=setInterval(ia,Jr)),jt=1,Qr(Hn))}}function Wn(t,e,n){var r=new Ae;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var oa=Ce("start","end","cancel","interrupt"),aa=[],ei=0,Un=1,hn=2,de=3,Kn=4,dn=5,pe=6;function $e(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;ca(t,n,{name:e,index:r,group:i,on:oa,tween:aa,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ei})}function Rn(t,e){var n=pt(t,e);if(n.state>ei)throw new Error("too late; already scheduled");return n}function mt(t,e){var n=pt(t,e);if(n.state>de)throw new Error("too late; already running");return n}function pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ca(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ti(s,0,n.time);function s(a){n.state=Un,n.timer.restart(o,n.delay,n.time),n.delay<=a&&o(a-n.delay)}function o(a){var h,f,c,d;if(n.state!==Un)return u();for(h in r)if(d=r[h],d.name===n.name){if(d.state===de)return Wn(o);d.state===Kn?(d.state=pe,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[h]):+h<e&&(d.state=pe,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[h])}if(Wn(function(){n.state===de&&(n.state=Kn,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=hn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===hn){for(n.state=de,i=new Array(c=n.tween.length),h=0,f=-1;h<c;++h)(d=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function l(a){for(var h=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=dn,1),f=-1,c=i.length;++f<c;)i[f].call(t,h);n.state===dn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=pe,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function qt(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>hn&&r.state<dn,r.state=pe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function ua(t){return this.each(function(){qt(this,t)})}function la(t,e){var n,r;return function(){var i=mt(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function fa(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=mt(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}s.tween=i}}function ha(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=pt(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?la:fa)(n,t,e))}function Nn(t,e,n){var r=t._id;return t.each(function(){var i=mt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return pt(i,r).value[e]}}function ni(t,e){var n;return(typeof e=="number"?Nt:e instanceof qn?Fn:(n=qn(e))?(e=n,Fn):Fi)(t,e)}function da(t){return function(){this.removeAttribute(t)}}function pa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ga(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function ma(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function ya(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function va(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function wa(t,e){var n=Ie(t),r=n==="transform"?ts:ni;return this.attrTween(t,typeof e=="function"?(n.local?va:ya)(n,r,Nn(this,"attr."+t,e)):e==null?(n.local?pa:da)(n):(n.local?ma:ga)(n,r,e))}function _a(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xa(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ka(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&xa(t,s)),n}return i._value=e,i}function ba(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&_a(t,s)),n}return i._value=e,i}function Aa(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ie(t);return this.tween(n,(r.local?ka:ba)(r,e))}function Sa(t,e){return function(){Rn(this,t).delay=+e.apply(this,arguments)}}function Pa(t,e){return e=+e,function(){Rn(this,t).delay=e}}function Ta(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Sa:Pa)(e,t)):pt(this.node(),e).delay}function Ra(t,e){return function(){mt(this,t).duration=+e.apply(this,arguments)}}function Na(t,e){return e=+e,function(){mt(this,t).duration=e}}function Ea(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ra:Na)(e,t)):pt(this.node(),e).duration}function Ca(t,e){if(typeof e!="function")throw new Error;return function(){mt(this,t).ease=e}}function Ia(t){var e=this._id;return arguments.length?this.each(Ca(e,t)):pt(this.node(),e).ease}function Ma(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,t).ease=n}}function $a(t){if(typeof t!="function")throw new Error;return this.each(Ma(this._id,t))}function za(t){typeof t!="function"&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new bt(r,this._parents,this._name,this._id)}function Da(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],a=n[l],h=u.length,f=o[l]=new Array(h),c,d=0;d<h;++d)(c=u[d]||a[d])&&(f[d]=c);for(;l<r;++l)o[l]=e[l];return new bt(o,this._parents,this._name,this._id)}function Ba(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Oa(t,e,n){var r,i,s=Ba(e)?Rn:mt;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function qa(t,e){var n=this._id;return arguments.length<2?pt(this.node(),n).on.on(t):this.each(Oa(n,t,e))}function Fa(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ja(){return this.on("end.remove",Fa(this._id))}function La(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Sn(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,a=s[o]=new Array(u),h,f,c=0;c<u;++c)(h=l[c])&&(f=t.call(h,h.__data__,c,l))&&("__data__"in h&&(f.__data__=h.__data__),a[c]=f,$e(a[c],e,n,c,a,pt(h,n)));return new bt(s,this._parents,e,n)}function Xa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qr(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],a=u.length,h,f=0;f<a;++f)if(h=u[f]){for(var c=t.call(h,h.__data__,f,u),d,_=pt(h,n),v=0,m=c.length;v<m;++v)(d=c[v])&&$e(d,e,n,v,c,_);s.push(c),o.push(h)}return new bt(s,o,e,n)}var Ga=oe.prototype.constructor;function Va(){return new Ga(this._groups,this._parents)}function Ya(t,e){var n,r,i;return function(){var s=Ft(this,t),o=(this.style.removeProperty(t),Ft(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function ri(t){return function(){this.style.removeProperty(t)}}function Ha(t,e,n){var r,i=n+"",s;return function(){var o=Ft(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Wa(t,e,n){var r,i,s;return function(){var o=Ft(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Ft(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function Ua(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=mt(this,t),a=u.on,h=u.value[s]==null?l||(l=ri(e)):void 0;(a!==n||i!==h)&&(r=(n=a).copy()).on(o,i=h),u.on=r}}function Ka(t,e,n){var r=(t+="")=="transform"?Qi:ni;return e==null?this.styleTween(t,Ya(t,r)).on("end.style."+t,ri(t)):typeof e=="function"?this.styleTween(t,Wa(t,r,Nn(this,"style."+t,e))).each(Ua(this._id,t)):this.styleTween(t,Ha(t,r,e),n).on("end.style."+t,null)}function Za(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ja(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Za(t,o,n)),r}return s._value=e,s}function Qa(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ja(t,e,n??""))}function tc(t){return function(){this.textContent=t}}function ec(t){return function(){var e=t(this);this.textContent=e??""}}function nc(t){return this.tween("text",typeof t=="function"?ec(Nn(this,"text",t)):tc(t==null?"":t+""))}function rc(t){return function(e){this.textContent=t.call(this,e)}}function ic(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&rc(i)),e}return r._value=t,r}function sc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ic(t))}function oc(){for(var t=this._name,e=this._id,n=ii(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,a=0;a<l;++a)if(u=o[a]){var h=pt(u,e);$e(u,t,n,a,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new bt(r,this._parents,t,n)}function ac(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var a=mt(this,r),h=a.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&s()})}var cc=0;function bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ii(){return++cc}var vt=oe.prototype;bt.prototype={constructor:bt,select:La,selectAll:Xa,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:za,merge:Da,selection:Va,transition:oc,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:qa,attr:wa,attrTween:Aa,style:Ka,styleTween:Qa,text:nc,textTween:sc,remove:ja,tween:ha,delay:Ta,duration:Ea,ease:Ia,easeVarying:$a,end:ac,[Symbol.iterator]:vt[Symbol.iterator]};function uc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var lc={time:null,delay:0,duration:250,ease:uc};function fc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function hc(t){var e,n;t instanceof bt?(e=t._id,t=t._name):(e=ii(),(n=lc).time=Tn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,a=0;a<l;++a)(u=o[a])&&$e(u,t,e,a,o,n||fc(u,e));return new bt(r,this._parents,t,e)}oe.prototype.interrupt=ua;oe.prototype.transition=hc;const Ve=t=>()=>t;function dc(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function pc(t){t.stopImmediatePropagation()}function Ye(t){t.preventDefault(),t.stopImmediatePropagation()}var Zn={name:"drag"},He={name:"space"},zt={name:"handle"},Dt={name:"center"};const{abs:Jn,max:it,min:st}=Math;function Qn(t){return[+t[0],+t[1]]}function tr(t){return[Qn(t[0]),Qn(t[1])]}var ge={name:"x",handles:["w","e"].map(Se),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},We={name:"y",handles:["n","s"].map(Se),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},er={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},nr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Se(t){return{type:t}}function yc(t){return!t.ctrlKey&&!t.button}function vc(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function wc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ue(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function _c(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function xc(){return kc(ge)}function kc(t){var e=vc,n=yc,r=wc,i=!0,s=Ce("start","brush","end"),o=6,l;function u(m){var p=m.property("__brush",v).selectAll(".overlay").data([Se("overlay")]);p.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wt.overlay).merge(p).each(function(){var y=Ue(this).extent;J(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),m.selectAll(".selection").data([Se("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=m.selectAll(".handle").data(t.handles,function(y){return y.type});w.exit().remove(),w.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return wt[y.type]}),m.each(a).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",c).filter(r).on("touchstart.brush",c).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(m,p,w){m.tween?m.on("start.brush",function(y){h(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){h(this,arguments).end(y)}).tween("brush",function(){var y=this,k=y.__brush,A=h(y,arguments),b=k.selection,P=t.input(typeof p=="function"?p.apply(this,arguments):p,k.extent),D=ji(b,P);function O(B){k.selection=B===1&&P===null?null:D(B),a.call(y),A.brush()}return b!==null&&P!==null?O:O(1)}):m.each(function(){var y=this,k=arguments,A=y.__brush,b=t.input(typeof p=="function"?p.apply(y,k):p,A.extent),P=h(y,k).beforestart();qt(y),A.selection=b===null?null:b,a.call(y),P.start(w).brush(w).end(w)})},u.clear=function(m,p){u.move(m,null,p)};function a(){var m=J(this),p=Ue(this).selection;p?(m.selectAll(".selection").style("display",null).attr("x",p[0][0]).attr("y",p[0][1]).attr("width",p[1][0]-p[0][0]).attr("height",p[1][1]-p[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?p[1][0]-o/2:p[0][0]-o/2}).attr("y",function(w){return w.type[0]==="s"?p[1][1]-o/2:p[0][1]-o/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?p[1][0]-p[0][0]+o:o}).attr("height",function(w){return w.type==="e"||w.type==="w"?p[1][1]-p[0][1]+o:o})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(m,p,w){var y=m.__brush.emitter;return y&&(!w||!y.clean)?y:new f(m,p,w)}function f(m,p,w){this.that=m,this.args=p,this.state=m.__brush,this.active=0,this.clean=w}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,p){return this.starting?(this.starting=!1,this.emit("start",m,p)):this.emit("brush",m),this},brush:function(m,p){return this.emit("brush",m,p),this},end:function(m,p){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,p)),this},emit:function(m,p,w){var y=J(this.that).datum();s.call(m,this.that,new dc(m,{sourceEvent:p,target:u,selection:t.output(this.state.selection),mode:w,dispatch:s}),y)}};function c(m){if(l&&!m.touches||!n.apply(this,arguments))return;var p=this,w=m.target.__data__.type,y=(i&&m.metaKey?w="overlay":w)==="selection"?Zn:i&&m.altKey?Dt:zt,k=t===We?null:gc[w],A=t===ge?null:mc[w],b=Ue(p),P=b.extent,D=b.selection,O=P[0][0],B,z,$=P[0][1],j,g,N=P[1][0],x,S,E=P[1][1],R,M,I=0,C=0,V,G=k&&A&&i&&m.shiftKey,W,Z,Y=Array.from(m.touches||[m],L=>{const tt=L.identifier;return L=_t(L,p),L.point0=L.slice(),L.identifier=tt,L});qt(p);var K=h(p,arguments,!0).beforestart();if(w==="overlay"){D&&(V=!0);const L=[Y[0],Y[1]||Y[0]];b.selection=D=[[B=t===We?O:st(L[0][0],L[1][0]),j=t===ge?$:st(L[0][1],L[1][1])],[x=t===We?N:it(L[0][0],L[1][0]),R=t===ge?E:it(L[0][1],L[1][1])]],Y.length>1&&Tt(m)}else B=D[0][0],j=D[0][1],x=D[1][0],R=D[1][1];z=B,g=j,S=x,M=R;var nt=J(p).attr("pointer-events","none"),yt=nt.selectAll(".overlay").attr("cursor",wt[w]);if(m.touches)K.moved=ht,K.ended=Dn;else{var Pt=J(m.view).on("mousemove.brush",ht,!0).on("mouseup.brush",Dn,!0);i&&Pt.on("keydown.brush",Ni,!0).on("keyup.brush",Ei,!0),Kr(m.view)}a.call(p),K.start(m,y.name);function ht(L){for(const tt of L.changedTouches||[L])for(const Wt of Y)Wt.identifier===tt.identifier&&(Wt.cur=_t(tt,p));if(G&&!W&&!Z&&Y.length===1){const tt=Y[0];Jn(tt.cur[0]-tt[0])>Jn(tt.cur[1]-tt[1])?Z=!0:W=!0}for(const tt of Y)tt.cur&&(tt[0]=tt.cur[0],tt[1]=tt.cur[1]);V=!0,Ye(L),Tt(L)}function Tt(L){const tt=Y[0],Wt=tt.point0;var At;switch(I=tt[0]-Wt[0],C=tt[1]-Wt[1],y){case He:case Zn:{k&&(I=it(O-B,st(N-x,I)),z=B+I,S=x+I),A&&(C=it($-j,st(E-R,C)),g=j+C,M=R+C);break}case zt:{Y[1]?(k&&(z=it(O,st(N,Y[0][0])),S=it(O,st(N,Y[1][0])),k=1),A&&(g=it($,st(E,Y[0][1])),M=it($,st(E,Y[1][1])),A=1)):(k<0?(I=it(O-B,st(N-B,I)),z=B+I,S=x):k>0&&(I=it(O-x,st(N-x,I)),z=B,S=x+I),A<0?(C=it($-j,st(E-j,C)),g=j+C,M=R):A>0&&(C=it($-R,st(E-R,C)),g=j,M=R+C));break}case Dt:{k&&(z=it(O,st(N,B-I*k)),S=it(O,st(N,x+I*k))),A&&(g=it($,st(E,j-C*A)),M=it($,st(E,R+C*A)));break}}S<z&&(k*=-1,At=B,B=x,x=At,At=z,z=S,S=At,w in er&&yt.attr("cursor",wt[w=er[w]])),M<g&&(A*=-1,At=j,j=R,R=At,At=g,g=M,M=At,w in nr&&yt.attr("cursor",wt[w=nr[w]])),b.selection&&(D=b.selection),W&&(z=D[0][0],S=D[1][0]),Z&&(g=D[0][1],M=D[1][1]),(D[0][0]!==z||D[0][1]!==g||D[1][0]!==S||D[1][1]!==M)&&(b.selection=[[z,g],[S,M]],a.call(p),K.brush(L,y.name))}function Dn(L){if(pc(L),L.touches){if(L.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Zr(L.view,V),Pt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);nt.attr("pointer-events","all"),yt.attr("cursor",wt.overlay),b.selection&&(D=b.selection),_c(D)&&(b.selection=null,a.call(p)),K.end(L,y.name)}function Ni(L){switch(L.keyCode){case 16:{G=k&&A;break}case 18:{y===zt&&(k&&(x=S-I*k,B=z+I*k),A&&(R=M-C*A,j=g+C*A),y=Dt,Tt(L));break}case 32:{(y===zt||y===Dt)&&(k<0?x=S-I:k>0&&(B=z-I),A<0?R=M-C:A>0&&(j=g-C),y=He,yt.attr("cursor",wt.selection),Tt(L));break}default:return}Ye(L)}function Ei(L){switch(L.keyCode){case 16:{G&&(W=Z=G=!1,Tt(L));break}case 18:{y===Dt&&(k<0?x=S:k>0&&(B=z),A<0?R=M:A>0&&(j=g),y=zt,Tt(L));break}case 32:{y===He&&(L.altKey?(k&&(x=S-I*k,B=z+I*k),A&&(R=M-C*A,j=g+C*A),y=Dt):(k<0?x=S:k>0&&(B=z),A<0?R=M:A>0&&(j=g),y=zt),yt.attr("cursor",wt[w]),Tt(L));break}default:return}Ye(L)}}function d(m){h(this,arguments).moved(m)}function _(m){h(this,arguments).ended(m)}function v(){var m=this.__brush||{selection:null};return m.extent=tr(e.apply(this,arguments)),m.dim=t,m}return u.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Ve(tr(m)),u):e},u.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Ve(!!m),u):n},u.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Ve(!!m),u):r},u.handleSize=function(m){return arguments.length?(o=+m,u):o},u.keyModifiers=function(m){return arguments.length?(i=!!m,u):i},u.on=function(){var m=s.on.apply(s,arguments);return m===s?u:m},u}const ue=t=>()=>t;function bc(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function kt(t,e,n){this.k=t,this.x=e,this.y=n}kt.prototype={constructor:kt,scale:function(t){return t===1?this:new kt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new kt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var En=new kt(1,0,0);kt.prototype;function Ke(t){t.stopImmediatePropagation()}function Kt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ac(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Sc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function rr(){return this.__zoom||En}function Pc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Tc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rc(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Nc(){var t=Ac,e=Sc,n=Rc,r=Pc,i=Tc,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=is,a=Ce("start","zoom","end"),h,f,c,d=500,_=150,v=0,m=10;function p(g){g.property("__zoom",rr).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",z).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(g,N,x,S){var E=g.selection?g.selection():g;E.property("__zoom",rr),g!==E?A(g,N,x,S):E.interrupt().each(function(){b(this,arguments).event(S).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},p.scaleBy=function(g,N,x,S){p.scaleTo(g,function(){var E=this.__zoom.k,R=typeof N=="function"?N.apply(this,arguments):N;return E*R},x,S)},p.scaleTo=function(g,N,x,S){p.transform(g,function(){var E=e.apply(this,arguments),R=this.__zoom,M=x==null?k(E):typeof x=="function"?x.apply(this,arguments):x,I=R.invert(M),C=typeof N=="function"?N.apply(this,arguments):N;return n(y(w(R,C),M,I),E,o)},x,S)},p.translateBy=function(g,N,x,S){p.transform(g,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),o)},null,S)},p.translateTo=function(g,N,x,S,E){p.transform(g,function(){var R=e.apply(this,arguments),M=this.__zoom,I=S==null?k(R):typeof S=="function"?S.apply(this,arguments):S;return n(En.translate(I[0],I[1]).scale(M.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof x=="function"?-x.apply(this,arguments):-x),R,o)},S,E)};function w(g,N){return N=Math.max(s[0],Math.min(s[1],N)),N===g.k?g:new kt(N,g.x,g.y)}function y(g,N,x){var S=N[0]-x[0]*g.k,E=N[1]-x[1]*g.k;return S===g.x&&E===g.y?g:new kt(g.k,S,E)}function k(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function A(g,N,x,S){g.on("start.zoom",function(){b(this,arguments).event(S).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(S).end()}).tween("zoom",function(){var E=this,R=arguments,M=b(E,R).event(S),I=e.apply(E,R),C=x==null?k(I):typeof x=="function"?x.apply(E,R):x,V=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),G=E.__zoom,W=typeof N=="function"?N.apply(E,R):N,Z=u(G.invert(C).concat(V/G.k),W.invert(C).concat(V/W.k));return function(Y){if(Y===1)Y=W;else{var K=Z(Y),nt=V/K[2];Y=new kt(nt,C[0]-K[0]*nt,C[1]-K[1]*nt)}M.zoom(null,Y)}})}function b(g,N,x){return!x&&g.__zooming||new P(g,N)}function P(g,N){this.that=g,this.args=N,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,N),this.taps=0}P.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,N){return this.mouse&&g!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var N=J(this.that).datum();a.call(g,this.that,new bc(g,{sourceEvent:this.sourceEvent,target:p,type:g,transform:this.that.__zoom,dispatch:a}),N)}};function D(g,...N){if(!t.apply(this,arguments))return;var x=b(this,N).event(g),S=this.__zoom,E=Math.max(s[0],Math.min(s[1],S.k*Math.pow(2,r.apply(this,arguments)))),R=_t(g);if(x.wheel)(x.mouse[0][0]!==R[0]||x.mouse[0][1]!==R[1])&&(x.mouse[1]=S.invert(x.mouse[0]=R)),clearTimeout(x.wheel);else{if(S.k===E)return;x.mouse=[R,S.invert(R)],qt(this),x.start()}Kt(g),x.wheel=setTimeout(M,_),x.zoom("mouse",n(y(w(S,E),x.mouse[0],x.mouse[1]),x.extent,o));function M(){x.wheel=null,x.end()}}function O(g,...N){if(c||!t.apply(this,arguments))return;var x=g.currentTarget,S=b(this,N,!0).event(g),E=J(g.view).on("mousemove.zoom",C,!0).on("mouseup.zoom",V,!0),R=_t(g,x),M=g.clientX,I=g.clientY;Kr(g.view),Ke(g),S.mouse=[R,this.__zoom.invert(R)],qt(this),S.start();function C(G){if(Kt(G),!S.moved){var W=G.clientX-M,Z=G.clientY-I;S.moved=W*W+Z*Z>v}S.event(G).zoom("mouse",n(y(S.that.__zoom,S.mouse[0]=_t(G,x),S.mouse[1]),S.extent,o))}function V(G){E.on("mousemove.zoom mouseup.zoom",null),Zr(G.view,S.moved),Kt(G),S.event(G).end()}}function B(g,...N){if(t.apply(this,arguments)){var x=this.__zoom,S=_t(g.changedTouches?g.changedTouches[0]:g,this),E=x.invert(S),R=x.k*(g.shiftKey?.5:2),M=n(y(w(x,R),S,E),e.apply(this,N),o);Kt(g),l>0?J(this).transition().duration(l).call(A,M,S,g):J(this).call(p.transform,M,S,g)}}function z(g,...N){if(t.apply(this,arguments)){var x=g.touches,S=x.length,E=b(this,N,g.changedTouches.length===S).event(g),R,M,I,C;for(Ke(g),M=0;M<S;++M)I=x[M],C=_t(I,this),C=[C,this.__zoom.invert(C),I.identifier],E.touch0?!E.touch1&&E.touch0[2]!==C[2]&&(E.touch1=C,E.taps=0):(E.touch0=C,R=!0,E.taps=1+!!h);h&&(h=clearTimeout(h)),R&&(E.taps<2&&(f=C[0],h=setTimeout(function(){h=null},d)),qt(this),E.start())}}function $(g,...N){if(this.__zooming){var x=b(this,N).event(g),S=g.changedTouches,E=S.length,R,M,I,C;for(Kt(g),R=0;R<E;++R)M=S[R],I=_t(M,this),x.touch0&&x.touch0[2]===M.identifier?x.touch0[0]=I:x.touch1&&x.touch1[2]===M.identifier&&(x.touch1[0]=I);if(M=x.that.__zoom,x.touch1){var V=x.touch0[0],G=x.touch0[1],W=x.touch1[0],Z=x.touch1[1],Y=(Y=W[0]-V[0])*Y+(Y=W[1]-V[1])*Y,K=(K=Z[0]-G[0])*K+(K=Z[1]-G[1])*K;M=w(M,Math.sqrt(Y/K)),I=[(V[0]+W[0])/2,(V[1]+W[1])/2],C=[(G[0]+Z[0])/2,(G[1]+Z[1])/2]}else if(x.touch0)I=x.touch0[0],C=x.touch0[1];else return;x.zoom("touch",n(y(M,I,C),x.extent,o))}}function j(g,...N){if(this.__zooming){var x=b(this,N).event(g),S=g.changedTouches,E=S.length,R,M;for(Ke(g),c&&clearTimeout(c),c=setTimeout(function(){c=null},d),R=0;R<E;++R)M=S[R],x.touch0&&x.touch0[2]===M.identifier?delete x.touch0:x.touch1&&x.touch1[2]===M.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(M=_t(M,this),Math.hypot(f[0]-M[0],f[1]-M[1])<m)){var I=J(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return p.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:ue(+g),p):r},p.filter=function(g){return arguments.length?(t=typeof g=="function"?g:ue(!!g),p):t},p.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:ue(!!g),p):i},p.extent=function(g){return arguments.length?(e=typeof g=="function"?g:ue([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),p):e},p.scaleExtent=function(g){return arguments.length?(s[0]=+g[0],s[1]=+g[1],p):[s[0],s[1]]},p.translateExtent=function(g){return arguments.length?(o[0][0]=+g[0][0],o[1][0]=+g[1][0],o[0][1]=+g[0][1],o[1][1]=+g[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(g){return arguments.length?(n=g,p):n},p.duration=function(g){return arguments.length?(l=+g,p):l},p.interpolate=function(g){return arguments.length?(u=g,p):u},p.on=function(){var g=a.on.apply(a,arguments);return g===a?p:g},p.clickDistance=function(g){return arguments.length?(v=(g=+g)*g,p):Math.sqrt(v)},p.tapDistance=function(g){return arguments.length?(m=+g,p):m},p}var pn=(t=>(t.LOWEST="100",t.LOW="500",t.MEDIUM="2500",t.HIGH="10000",t))(pn||{}),rt=(t=>(t.LOWER="LOWER",t.UPPER="UPPER",t))(rt||{});const Ec={100:{initialMin:.99,initialMax:1.01,min:1e-5,max:1.5},500:{initialMin:.8,initialMax:1.25,min:1e-5,max:1.5},2500:{initialMin:.5,initialMax:1.5,min:1e-5,max:20},1e4:{initialMin:.5,initialMax:1.5,min:1e-5,max:20}};var at=function(){return at=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},at.apply(this,arguments)};function Pe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var U="-ms-",ee="-moz-",H="-webkit-",si="comm",ze="rule",Cn="decl",Cc="@import",oi="@keyframes",Ic="@layer",ai=Math.abs,In=String.fromCharCode,gn=Object.assign;function Mc(t,e){return et(t,0)^45?(((e<<2^et(t,0))<<2^et(t,1))<<2^et(t,2))<<2^et(t,3):0}function ci(t){return t.trim()}function xt(t,e){return(t=e.exec(t))?t[0]:t}function X(t,e,n){return t.replace(e,n)}function me(t,e,n){return t.indexOf(e,n)}function et(t,e){return t.charCodeAt(e)|0}function Lt(t,e,n){return t.slice(e,n)}function gt(t){return t.length}function ui(t){return t.length}function te(t,e){return e.push(t),t}function $c(t,e){return t.map(e).join("")}function ir(t,e){return t.filter(function(n){return!xt(n,e)})}var De=1,Xt=1,li=0,ft=0,Q=0,Ht="";function Be(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:De,column:Xt,length:o,return:"",siblings:l}}function St(t,e){return gn(Be("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Bt(t){for(;t.root;)t=St(t.root,{children:[t]});te(t,t.siblings)}function zc(){return Q}function Dc(){return Q=ft>0?et(Ht,--ft):0,Xt--,Q===10&&(Xt=1,De--),Q}function dt(){return Q=ft<li?et(Ht,ft++):0,Xt++,Q===10&&(Xt=1,De++),Q}function Ct(){return et(Ht,ft)}function ye(){return ft}function Oe(t,e){return Lt(Ht,t,e)}function mn(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bc(t){return De=Xt=1,li=gt(Ht=t),ft=0,[]}function Oc(t){return Ht="",t}function Ze(t){return ci(Oe(ft-1,yn(t===91?t+2:t===40?t+1:t)))}function qc(t){for(;(Q=Ct())&&Q<33;)dt();return mn(t)>2||mn(Q)>3?"":" "}function Fc(t,e){for(;--e&&dt()&&!(Q<48||Q>102||Q>57&&Q<65||Q>70&&Q<97););return Oe(t,ye()+(e<6&&Ct()==32&&dt()==32))}function yn(t){for(;dt();)switch(Q){case t:return ft;case 34:case 39:t!==34&&t!==39&&yn(Q);break;case 40:t===41&&yn(t);break;case 92:dt();break}return ft}function jc(t,e){for(;dt()&&t+Q!==57;)if(t+Q===84&&Ct()===47)break;return"/*"+Oe(e,ft-1)+"*"+In(t===47?t:dt())}function Lc(t){for(;!mn(Ct());)dt();return Oe(t,ft)}function Xc(t){return Oc(ve("",null,null,null,[""],t=Bc(t),0,[0],t))}function ve(t,e,n,r,i,s,o,l,u){for(var a=0,h=0,f=o,c=0,d=0,_=0,v=1,m=1,p=1,w=0,y="",k=i,A=s,b=r,P=y;m;)switch(_=w,w=dt()){case 40:if(_!=108&&et(P,f-1)==58){me(P+=X(Ze(w),"&","&\f"),"&\f",ai(a?l[a-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:P+=Ze(w);break;case 9:case 10:case 13:case 32:P+=qc(_);break;case 92:P+=Fc(ye()-1,7);continue;case 47:switch(Ct()){case 42:case 47:te(Gc(jc(dt(),ye()),e,n,u),u);break;default:P+="/"}break;case 123*v:l[a++]=gt(P)*p;case 125*v:case 59:case 0:switch(w){case 0:case 125:m=0;case 59+h:p==-1&&(P=X(P,/\f/g,"")),d>0&&gt(P)-f&&te(d>32?or(P+";",r,n,f-1,u):or(X(P," ","")+";",r,n,f-2,u),u);break;case 59:P+=";";default:if(te(b=sr(P,e,n,a,h,i,l,y,k=[],A=[],f,s),s),w===123)if(h===0)ve(P,e,b,b,k,s,f,l,A);else switch(c===99&&et(P,3)===110?100:c){case 100:case 108:case 109:case 115:ve(t,b,b,r&&te(sr(t,b,b,0,0,i,l,y,i,k=[],f,A),A),i,A,f,l,r?k:A);break;default:ve(P,b,b,b,[""],A,0,l,A)}}a=h=d=0,v=p=1,y=P="",f=o;break;case 58:f=1+gt(P),d=_;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&Dc()==125)continue}switch(P+=In(w),w*v){case 38:p=h>0?1:(P+="\f",-1);break;case 44:l[a++]=(gt(P)-1)*p,p=1;break;case 64:Ct()===45&&(P+=Ze(dt())),c=Ct(),h=f=gt(y=P+=Lc(ye())),w++;break;case 45:_===45&&gt(P)==2&&(v=0)}}return s}function sr(t,e,n,r,i,s,o,l,u,a,h,f){for(var c=i-1,d=i===0?s:[""],_=ui(d),v=0,m=0,p=0;v<r;++v)for(var w=0,y=Lt(t,c+1,c=ai(m=o[v])),k=t;w<_;++w)(k=ci(m>0?d[w]+" "+y:X(y,/&\f/g,d[w])))&&(u[p++]=k);return Be(t,e,n,i===0?ze:l,u,a,h,f)}function Gc(t,e,n,r){return Be(t,e,n,si,In(zc()),Lt(t,2,-2),0,r)}function or(t,e,n,r,i){return Be(t,e,n,Cn,Lt(t,0,r),Lt(t,r+1,-1),r,i)}function fi(t,e,n){switch(Mc(t,e)){case 5103:return H+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return H+t+t;case 4789:return ee+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return H+t+ee+t+U+t+t;case 5936:switch(et(t,e+11)){case 114:return H+t+U+X(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return H+t+U+X(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return H+t+U+X(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return H+t+U+t+t;case 6165:return H+t+U+"flex-"+t+t;case 5187:return H+t+X(t,/(\w+).+(:[^]+)/,H+"box-$1$2"+U+"flex-$1$2")+t;case 5443:return H+t+U+"flex-item-"+X(t,/flex-|-self/g,"")+(xt(t,/flex-|baseline/)?"":U+"grid-row-"+X(t,/flex-|-self/g,""))+t;case 4675:return H+t+U+"flex-line-pack"+X(t,/align-content|flex-|-self/g,"")+t;case 5548:return H+t+U+X(t,"shrink","negative")+t;case 5292:return H+t+U+X(t,"basis","preferred-size")+t;case 6060:return H+"box-"+X(t,"-grow","")+H+t+U+X(t,"grow","positive")+t;case 4554:return H+X(t,/([^-])(transform)/g,"$1"+H+"$2")+t;case 6187:return X(X(X(t,/(zoom-|grab)/,H+"$1"),/(image-set)/,H+"$1"),t,"")+t;case 5495:case 3959:return X(t,/(image-set\([^]*)/,H+"$1$`$1");case 4968:return X(X(t,/(.+:)(flex-)?(.*)/,H+"box-pack:$3"+U+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+H+t+t;case 4200:if(!xt(t,/flex-|baseline/))return U+"grid-column-align"+Lt(t,e)+t;break;case 2592:case 3360:return U+X(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,xt(r.props,/grid-\w+-end/)})?~me(t+(n=n[e].value),"span",0)?t:U+X(t,"-start","")+t+U+"grid-row-span:"+(~me(n,"span",0)?xt(n,/\d+/):+xt(n,/\d+/)-+xt(t,/\d+/))+";":U+X(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return xt(r.props,/grid-\w+-start/)})?t:U+X(X(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return X(t,/(.+)-inline(.+)/,H+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gt(t)-1-e>6)switch(et(t,e+1)){case 109:if(et(t,e+4)!==45)break;case 102:return X(t,/(.+:)(.+)-([^]+)/,"$1"+H+"$2-$3$1"+ee+(et(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~me(t,"stretch",0)?fi(X(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return X(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,u,a){return U+i+":"+s+a+(o?U+i+"-span:"+(l?u:+u-+s)+a:"")+t});case 4949:if(et(t,e+6)===121)return X(t,":",":"+H)+t;break;case 6444:switch(et(t,et(t,14)===45?18:11)){case 120:return X(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+H+(et(t,14)===45?"inline-":"")+"box$3$1"+H+"$2$3$1"+U+"$2box$3")+t;case 100:return X(t,":",":"+U)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return X(t,"scroll-","scroll-snap-")+t}return t}function Te(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Vc(t,e,n,r){switch(t.type){case Ic:if(t.children.length)break;case Cc:case Cn:return t.return=t.return||t.value;case si:return"";case oi:return t.return=t.value+"{"+Te(t.children,r)+"}";case ze:if(!gt(t.value=t.props.join(",")))return""}return gt(n=Te(t.children,r))?t.return=t.value+"{"+n+"}":""}function Yc(t){var e=ui(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function Hc(t){return function(e){e.root||(e=e.return)&&t(e)}}function Wc(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Cn:t.return=fi(t.value,t.length,n);return;case oi:return Te([St(t,{value:X(t.value,"@","@"+H)})],r);case ze:if(t.length)return $c(n=t.props,function(i){switch(xt(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Bt(St(t,{props:[X(i,/:(read-\w+)/,":"+ee+"$1")]})),Bt(St(t,{props:[i]})),gn(t,{props:ir(n,r)});break;case"::placeholder":Bt(St(t,{props:[X(i,/:(plac\w+)/,":"+H+"input-$1")]})),Bt(St(t,{props:[X(i,/:(plac\w+)/,":"+ee+"$1")]})),Bt(St(t,{props:[X(i,/:(plac\w+)/,U+"input-$1")]})),Bt(St(t,{props:[i]})),gn(t,{props:ir(n,r)});break}return""})}}var Uc={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ut={},Gt=typeof en<"u"&&ut!==void 0&&(ut.REACT_APP_SC_ATTR||ut.SC_ATTR)||"data-styled",hi="active",di="data-styled-version",qe="6.1.13",Mn=`/*!sc*/
`,Re=typeof window<"u"&&"HTMLElement"in window,Kc=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof en<"u"&&ut!==void 0&&ut.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ut.REACT_APP_SC_DISABLE_SPEEDY!==""?ut.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ut.REACT_APP_SC_DISABLE_SPEEDY:typeof en<"u"&&ut!==void 0&&ut.SC_DISABLE_SPEEDY!==void 0&&ut.SC_DISABLE_SPEEDY!==""&&ut.SC_DISABLE_SPEEDY!=="false"&&ut.SC_DISABLE_SPEEDY),Fe=Object.freeze([]),Vt=Object.freeze({});function Zc(t,e,n){return n===void 0&&(n=Vt),t.theme!==n.theme&&t.theme||e||n.theme}var pi=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Jc=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Qc=/(^-|-$)/g;function ar(t){return t.replace(Jc,"-").replace(Qc,"")}var tu=/(a)(d)/gi,le=52,cr=function(t){return String.fromCharCode(t+(t>25?39:97))};function vn(t){var e,n="";for(e=Math.abs(t);e>le;e=e/le|0)n=cr(e%le)+n;return(cr(e%le)+n).replace(tu,"$1-$2")}var Je,gi=5381,Ot=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},mi=function(t){return Ot(gi,t)};function eu(t){return vn(mi(t)>>>0)}function nu(t){return t.displayName||t.name||"Component"}function Qe(t){return typeof t=="string"&&!0}var yi=typeof Symbol=="function"&&Symbol.for,vi=yi?Symbol.for("react.memo"):60115,ru=yi?Symbol.for("react.forward_ref"):60112,iu={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},su={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wi={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ou=((Je={})[ru]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Je[vi]=wi,Je);function ur(t){return("type"in(e=t)&&e.type.$$typeof)===vi?wi:"$$typeof"in t?ou[t.$$typeof]:iu;var e}var au=Object.defineProperty,cu=Object.getOwnPropertyNames,lr=Object.getOwnPropertySymbols,uu=Object.getOwnPropertyDescriptor,lu=Object.getPrototypeOf,fr=Object.prototype;function _i(t,e,n){if(typeof e!="string"){if(fr){var r=lu(e);r&&r!==fr&&_i(t,r,n)}var i=cu(e);lr&&(i=i.concat(lr(e)));for(var s=ur(t),o=ur(e),l=0;l<i.length;++l){var u=i[l];if(!(u in su||n&&n[u]||o&&u in o||s&&u in s)){var a=uu(e,u);try{au(t,u,a)}catch{}}}}return t}function Yt(t){return typeof t=="function"}function $n(t){return typeof t=="object"&&"styledComponentId"in t}function Et(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function hr(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function se(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function wn(t,e,n){if(n===void 0&&(n=!1),!n&&!se(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=wn(t[r],e[r]);else if(se(e))for(var r in e)t[r]=wn(t[r],e[r]);return t}function zn(t,e){Object.defineProperty(t,"toString",{value:e})}function ae(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fu=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ae(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Mn);return n},t}(),we=new Map,Ne=new Map,_e=1,fe=function(t){if(we.has(t))return we.get(t);for(;Ne.has(_e);)_e++;var e=_e++;return we.set(t,e),Ne.set(e,t),e},hu=function(t,e){_e=e+1,we.set(t,e),Ne.set(e,t)},du="style[".concat(Gt,"][").concat(di,'="').concat(qe,'"]'),pu=new RegExp("^".concat(Gt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),gu=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},mu=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Mn),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var u=l.match(pu);if(u){var a=0|parseInt(u[1],10),h=u[2];a!==0&&(hu(h,a),gu(t,h,u[3]),t.getTag().insertRules(a,i)),i.length=0}else i.push(l)}}},dr=function(t){for(var e=document.querySelectorAll(du),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Gt)!==hi&&(mu(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function yu(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var xi=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(Gt,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Gt,hi),r.setAttribute(di,qe);var o=yu();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},vu=function(){function t(e){this.element=xi(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ae(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),wu=function(){function t(e){this.element=xi(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),_u=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),pr=Re,xu={isServer:!Re,useCSSOMInjection:!Kc},ki=function(){function t(e,n,r){e===void 0&&(e=Vt),n===void 0&&(n={});var i=this;this.options=at(at({},xu),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Re&&pr&&(pr=!1,dr(this)),zn(this,function(){return function(s){for(var o=s.getTag(),l=o.length,u="",a=function(f){var c=function(p){return Ne.get(p)}(f);if(c===void 0)return"continue";var d=s.names.get(c),_=o.getGroup(f);if(d===void 0||!d.size||_.length===0)return"continue";var v="".concat(Gt,".g").concat(f,'[id="').concat(c,'"]'),m="";d!==void 0&&d.forEach(function(p){p.length>0&&(m+="".concat(p,","))}),u+="".concat(_).concat(v,'{content:"').concat(m,'"}').concat(Mn)},h=0;h<l;h++)a(h);return u}(i)})}return t.registerId=function(e){return fe(e)},t.prototype.rehydrate=function(){!this.server&&Re&&dr(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(at(at({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new _u(i):r?new vu(i):new wu(i)}(this.options),new fu(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(fe(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(fe(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(fe(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),ku=/&/g,bu=/^\s*\/\/.*$/gm;function bi(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=bi(n.children,e)),n})}function Au(t){var e,n,r,i=Vt,s=i.options,o=s===void 0?Vt:s,l=i.plugins,u=l===void 0?Fe:l,a=function(c,d,_){return _.startsWith(n)&&_.endsWith(n)&&_.replaceAll(n,"").length>0?".".concat(e):c},h=u.slice();h.push(function(c){c.type===ze&&c.value.includes("&")&&(c.props[0]=c.props[0].replace(ku,n).replace(r,a))}),o.prefix&&h.push(Wc),h.push(Vc);var f=function(c,d,_,v){d===void 0&&(d=""),_===void 0&&(_=""),v===void 0&&(v="&"),e=v,n=d,r=new RegExp("\\".concat(n,"\\b"),"g");var m=c.replace(bu,""),p=Xc(_||d?"".concat(_," ").concat(d," { ").concat(m," }"):m);o.namespace&&(p=bi(p,o.namespace));var w=[];return Te(p,Yc(h.concat(Hc(function(y){return w.push(y)})))),w};return f.hash=u.length?u.reduce(function(c,d){return d.name||ae(15),Ot(c,d.name)},gi).toString():"",f}var Su=new ki,_n=Au(),Ai=re.createContext({shouldForwardProp:void 0,styleSheet:Su,stylis:_n});Ai.Consumer;re.createContext(void 0);function gr(){return q.useContext(Ai)}var Pu=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=_n);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,zn(this,function(){throw ae(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=_n),this.name+e.hash},t}(),Tu=function(t){return t>="A"&&t<="Z"};function mr(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Tu(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Si=function(t){return t==null||t===!1||t===""},Pi=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!Si(s)&&(Array.isArray(s)&&s.isCss||Yt(s)?r.push("".concat(mr(i),":"),s,";"):se(s)?r.push.apply(r,Pe(Pe(["".concat(i," {")],Pi(s),!1),["}"],!1)):r.push("".concat(mr(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Uc||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function It(t,e,n,r){if(Si(t))return[];if($n(t))return[".".concat(t.styledComponentId)];if(Yt(t)){if(!Yt(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return It(i,e,n,r)}var s;return t instanceof Pu?n?(t.inject(n,r),[t.getName(r)]):[t]:se(t)?Pi(t):Array.isArray(t)?Array.prototype.concat.apply(Fe,t.map(function(o){return It(o,e,n,r)})):[t.toString()]}function Ru(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Yt(n)&&!$n(n))return!1}return!0}var Nu=mi(qe),Eu=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Ru(e),this.componentId=n,this.baseHash=Ot(Nu,n),this.baseStyle=r,ki.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Et(i,this.staticRulesId);else{var s=hr(It(this.rules,e,n,r)),o=vn(Ot(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=Et(i,o),this.staticRulesId=o}else{for(var u=Ot(this.baseHash,r.hash),a="",h=0;h<this.rules.length;h++){var f=this.rules[h];if(typeof f=="string")a+=f;else if(f){var c=hr(It(f,e,n,r));u=Ot(u,c+h),a+=c}}if(a){var d=vn(u>>>0);n.hasNameForId(this.componentId,d)||n.insertRules(this.componentId,d,r(a,".".concat(d),void 0,this.componentId)),i=Et(i,d)}}return i},t}(),Ti=re.createContext(void 0);Ti.Consumer;var tn={};function Cu(t,e,n){var r=$n(t),i=t,s=!Qe(t),o=e.attrs,l=o===void 0?Fe:o,u=e.componentId,a=u===void 0?function(k,A){var b=typeof k!="string"?"sc":ar(k);tn[b]=(tn[b]||0)+1;var P="".concat(b,"-").concat(eu(qe+b+tn[b]));return A?"".concat(A,"-").concat(P):P}(e.displayName,e.parentComponentId):u,h=e.displayName,f=h===void 0?function(k){return Qe(k)?"styled.".concat(k):"Styled(".concat(nu(k),")")}(t):h,c=e.displayName&&e.componentId?"".concat(ar(e.displayName),"-").concat(e.componentId):e.componentId||a,d=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,_=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var m=e.shouldForwardProp;_=function(k,A){return v(k,A)&&m(k,A)}}else _=v}var p=new Eu(n,c,r?i.componentStyle:void 0);function w(k,A){return function(b,P,D){var O=b.attrs,B=b.componentStyle,z=b.defaultProps,$=b.foldedComponentIds,j=b.styledComponentId,g=b.target,N=re.useContext(Ti),x=gr(),S=b.shouldForwardProp||x.shouldForwardProp,E=Zc(P,N,z)||Vt,R=function(W,Z,Y){for(var K,nt=at(at({},Z),{className:void 0,theme:Y}),yt=0;yt<W.length;yt+=1){var Pt=Yt(K=W[yt])?K(nt):K;for(var ht in Pt)nt[ht]=ht==="className"?Et(nt[ht],Pt[ht]):ht==="style"?at(at({},nt[ht]),Pt[ht]):Pt[ht]}return Z.className&&(nt.className=Et(nt.className,Z.className)),nt}(O,P,E),M=R.as||g,I={};for(var C in R)R[C]===void 0||C[0]==="$"||C==="as"||C==="theme"&&R.theme===E||(C==="forwardedAs"?I.as=R.forwardedAs:S&&!S(C,M)||(I[C]=R[C]));var V=function(W,Z){var Y=gr(),K=W.generateAndInjectStyles(Z,Y.styleSheet,Y.stylis);return K}(B,R),G=Et($,j);return V&&(G+=" "+V),R.className&&(G+=" "+R.className),I[Qe(M)&&!pi.has(M)?"class":"className"]=G,I.ref=D,q.createElement(M,I)}(y,k,A)}w.displayName=f;var y=re.forwardRef(w);return y.attrs=d,y.componentStyle=p,y.displayName=f,y.shouldForwardProp=_,y.foldedComponentIds=r?Et(i.foldedComponentIds,i.styledComponentId):"",y.styledComponentId=c,y.target=r?i.target:t,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(A){for(var b=[],P=1;P<arguments.length;P++)b[P-1]=arguments[P];for(var D=0,O=b;D<O.length;D++)wn(A,O[D],!0);return A}({},i.defaultProps,k):k}}),zn(y,function(){return".".concat(y.styledComponentId)}),s&&_i(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function yr(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var vr=function(t){return Object.assign(t,{isCss:!0})};function Iu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yt(t)||se(t))return vr(It(yr(Fe,Pe([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?It(r):vr(It(yr(r,e)))}function xn(t,e,n){if(n===void 0&&(n=Vt),!e)throw ae(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Iu.apply(void 0,Pe([i],s,!1)))};return r.attrs=function(i){return xn(t,e,at(at({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return xn(t,e,at(at({},n),i))},r}var Ri=function(t){return xn(Cu,t)},ct=Ri;pi.forEach(function(t){ct[t]=Ri(t)});const Mu=ct.path`
  opacity: ${({opacity:t})=>t||1}};
  stroke: ${({fill:t,theme:e})=>t??e.colors.failure};
  fill: ${({fill:t,theme:e})=>t??e.colors.failure};
`,$u=({series:t,xScale:e,yScale:n,xValue:r,yValue:i,fill:s,opacity:o})=>{const l=q.useMemo(()=>{var y,k,A,b,P,D,O,B;const u=e.domain(),a=n.domain(),h=Number(((y=t==null?void 0:t[0])==null?void 0:y.price)||0)===Number(((k=t==null?void 0:t[1])==null?void 0:k.price)||0),f=Number(((A=t==null?void 0:t[h?1:0])==null?void 0:A.price)||0)>Number(((b=t==null?void 0:t[h?2:1])==null?void 0:b.price)||0),c=[...t];(c==null?void 0:c.length)>1&&(c[t.length-1]={...c[t.length-1],depth:c[t.length-2].depth});const d=F(u[1]).add(F(u[1]).sub(u[0]).div(100)).toNumber(),_=c.findIndex(({price:z})=>f?Number(z)<=d:Number(z)>=d),v=F(u[1]).sub(u[0]).div(100);f?_>=0&&((P=c[_-1])!=null&&P.depth)&&c.splice(_,0,{...c[_-1],price:F(u[1]).add(v).toNumber()}):_>=0&&((D=c[_])!=null&&D.depth)&&c.splice(_,0,{...c[_],price:d});const m=F(u[0]).add(F(u[1]).sub(u[0]).div(100)).toNumber(),p=c.findIndex(({price:z})=>f?Number(z)<=m:Number(z)>=m);f?p>=0&&((O=c[p])!=null&&O.depth)&&c.splice(p,0,{...c[p],price:m>0?m:0}):(p-1>=0&&((B=c[p-1])!=null&&B.depth)&&c.splice(p,0,{...c[p-1],price:m>0?m:0}),p===_&&c.splice(p+1,0,{...c[p+1],price:m>0?F(m).add(F(m).div(1e6)).toNumber():0}));const w=isNaN(a[1])?on().domain([0,Math.max(...c.map(z=>z.depth))]).range([200,0]):n;return Li().curve(Xi).x(z=>e(r(z))).y1(z=>w(i(z))).y0(w(0))(c.filter(z=>{const $=e(r(z));return w(i(z)),$>=0&&$<=window.innerWidth}))??void 0},[s,t,e,r,n,i]);return q.useMemo(()=>T.jsx(Mu,{fill:s,d:l,opacity:o}),[l])},zu=ct.g`
  line {
    display: none;
  }
  text {
    transform: translateY(5px);
    font-family: 'Inter';
  }
`,Du=({axisGenerator:t,isPosition:e})=>{const{colorMode:n}=Mi(),r=i=>{e?i&&J(i).call(t).call(s=>s.selectAll(".tick").remove()).call(s=>s.select(".domain").attr("d","M0 0 L658 0 Z").attr("stroke","#2A3238")):i&&J(i).call(t).call(s=>s.select(".domain").attr("d","M0 0 L658 0 Z").attr("stroke","#2A3238"))};return T.jsx("g",{ref:r,style:{color:n=="light"?"#000":"#fff",opacity:(n=="light","0.5")}})},Bu=({xScale:t,innerHeight:e,offset:n=0,isPosition:r=!1})=>q.useMemo(()=>T.jsx(zu,{transform:`translate(0, ${e+n})`,children:T.jsx(Du,{axisGenerator:vs(t).ticks(5),isPosition:r})}),[e,n,t]),wr=t=>["M 0 0",`v ${t}`,"m 1 0","V 0","M 0 1","h 10","q 2 0, 2 2","v 22","q 0 2 -2 2","h -10","z"].join(" "),_r=()=>["m 4 8","v 12","M 0 0","m 8 8","v 12","z"].join(" "),xr=({color:t,size:e=10,margin:n=10})=>T.jsx("polygon",{points:`0 0, ${e} ${e}, 0 ${e}`,transform:` translate(${e+n}, ${n}) rotate(45) `,fill:t,stroke:t,strokeWidth:"4",strokeLinejoin:"round"}),ne={colors:{background:"var(--chakra-colors-card_bg)",secondary:"#30D4B7",leftHandle:"#30D4B7",rightHandle:"#6297EA"}},kr=ct.path`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 3;
  stroke: ${({color:t})=>t};
  fill: ${({color:t})=>t};
`,br=ct.path`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 1.5;
  stroke: #fff;
  opacity: ${ne.colors.background};
  fill: ${ne.colors.background};
`,Ar=ct.g`
  opacity: ${({visible:t})=>t?"1":"0"};
  transition: opacity 300ms;
`,Sr=ct.rect`
  fill: #192128;
`,Pr=ct.rect`
  fill: #192128;
`,Tr=ct.rect`
  fill: #192128;
`,Rr=ct.text`
  text-anchor: middle;
  font-size: 13px;
  fill: #fff;
`,Nr=20,Er=2,Cr=(t,e,n)=>{const r=t.map(s=>n(s).toFixed(11)),i=e.map(s=>n(s).toFixed(11));return r.every((s,o)=>s===i[o])},Ou=({id:t,xScale:e,interactive:n,brushLabelValue:r,brushExtent:i,setBrushExtent:s,innerWidth:o,innerHeight:l,westHandleColor:u,eastHandleColor:a,readonly:h,isSorted:f,isFullRange:c})=>{const d=q.useRef(null),_=q.useRef(null),[v,m]=q.useState(i),[p,w]=q.useState(!1),[y,k]=q.useState(!1),A=Hi(i),b=q.useCallback(g=>{const{type:N,mode:x}=g;if(!(g!=null&&g.selection)){m(null);return}const E=g.selection.map(Math.round).map(e.invert);E.join("").includes("NaN")||i.join("").includes("NaN")||(N==="end"&&!Cr(i,E,e)&&s(E,x),m(E))},[e,i,s]);q.useEffect(()=>{m(i)},[i]),q.useEffect(()=>{d.current&&(_.current=xc().extent([[Math.max(0+Er,e(0)),0],[o-Er,l]]).handleSize(30).filter(()=>n).on("brush end",b),_.current(J(d.current)),A&&Cr(i,A,e)&&J(d.current).transition().call(_.current.move,i.map(e)),J(d.current).selectAll(".selection").attr("stroke","none").attr("fill","rgba(118, 200, 255, 0.4)"))},[i,b,t,l,o,n,A,e]),q.useEffect(()=>{!d.current||!_.current||_.current.move(J(d.current),i.map(e))},[i,e]),q.useEffect(()=>{w(!0);const g=setTimeout(()=>w(!1),1500);return()=>clearTimeout(g)},[v]);const P=v&&e(v[0])>Nr,D=v&&e(v[1])>o-Nr,O=v&&(e(v[0])<0||e(v[1])<0),B=v&&(e(v[0])>o||e(v[1])>o),z=v&&e(v[0])>=0&&e(v[0])<=o,$=v&&e(v[1])>=0&&e(v[1])<=o,{isApp:j}=Ee();return q.useMemo(()=>T.jsxs(T.Fragment,{children:[T.jsxs("defs",{children:[T.jsxs("linearGradient",{id:`${t}-gradient-selection`,x1:"0%",y1:"100%",x2:"100%",y2:"100%",children:[T.jsx("stop",{stopColor:u}),T.jsx("stop",{stopColor:a,offset:"1"})]}),T.jsx("clipPath",{id:`${t}-brush-clip`,children:T.jsx("rect",{x:"0",y:"0",width:o,height:l})})]}),T.jsx("g",{ref:d,clipPath:`url(#${t}-brush-clip)`,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1)}),v&&T.jsxs(T.Fragment,{children:[!h&&z?T.jsxs("g",{transform:`translate(${Math.max(0,e(v[0]))}, 0), scale(${P?"-1":"1"}, 1)`,children:[T.jsxs("g",{children:[T.jsx(kr,{color:ne.colors.leftHandle,d:wr(l)}),T.jsx(br,{d:_r()})]}),T.jsxs(Ar,{transform:`translate(${j?"10 35":"50,0"}), scale(${P?"1":"-1"}, 1)`,visible:p||y,children:[T.jsx(Sr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),f?T.jsx(Pr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}):T.jsx(Tr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),T.jsx(Rr,{transform:"scale(-1, 1)",y:"15",dominantBaseline:"middle",children:c?"0":r("w",v[0])})]})]}):null,!h&&$?T.jsxs("g",{transform:`translate(${e(v[1])}, 0), scale(${D?"-1":"1"}, 1)`,children:[T.jsxs("g",{children:[T.jsx(kr,{color:ne.colors.rightHandle,d:wr(l)}),T.jsx(br,{d:_r()})]}),T.jsxs(Ar,{transform:`translate(${j?"10 35":"50,0"}), scale(${D?"-1":"1"}, 1)`,visible:p||y,children:[T.jsx(Sr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),f?T.jsx(Tr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}):T.jsx(Pr,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),T.jsx(Rr,{y:"15",dominantBaseline:"middle",children:c?"âˆž":r("e",v[1])})]})]}):null,O&&T.jsx(xr,{color:u}),B&&T.jsx("g",{transform:`translate(${o}, 0) scale(-1, 1)`,children:T.jsx(xr,{color:a})})]})]}),[r,a,$,D,P,y,t,ne,l,o,v,B,p,O,u,z,e,j])},qu=ct.line`
  opacity: 0.7;
  stroke-width: 1;
  stroke: var(--chakra-colors-text_caption);
  fill: none;
`,Fu=({value:t,xScale:e,innerHeight:n})=>q.useMemo(()=>T.jsx(qu,{x1:e(t),y1:"0",x2:e(t),y2:n,strokeDasharray:"4,3"}),[t,e,n]);ct.line`
  opacity: 1;
  stroke-width: 2;
  stroke: #fff;
  fill: none;
`;const ju=({value:t,xScale:e,innerHeight:n})=>q.useMemo(()=>T.jsxs("g",{children:[T.jsx("circle",{cx:e(Number(t)),cy:"4",fill:"#fff",r:"4"}),T.jsx("line",{x1:e(Number(t)),y1:"0",x2:e(t),y2:n,stroke:"#fff",strokeWidth:2})]}),[t,e,n]);ct.div`
  display: grid;
  grid-template-columns: repeat(${({count:t})=>t.toString()}, 1fr);
  grid-gap: 6px;

  position: absolute;
  top: -18px;
  right: 0;
`;const Lu=ct.rect`
  fill: transparent;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }
`;function Xu({svg:t,xScale:e,setZoom:n,width:r,height:i,resetBrush:s,showResetButton:o,zoomLevels:l,isPosition:u,handleClickRefresh:a,currentRange:h}){const f=q.useRef(),[c,d,_,v]=q.useMemo(()=>[()=>{t&&f.current&&J(t).transition().call(f.current.scaleBy,2)},()=>t&&f.current&&J(t).transition().call(f.current.scaleBy,.5),()=>t&&f.current&&J(t).transition().call(f.current.scaleTo,1),()=>t&&f.current&&J(t).call(f.current.transform,En.translate(0,0).scale(1)).transition().call(f.current.scaleTo,1)],[t]),m=$i(n,300);return Ee(),q.useEffect(()=>{t&&(f.current=Nc().scaleExtent([0,1/0]).extent([[0,0],[r,i]]).on("zoom",({transform:p})=>{m(p)}),J(t).call(f.current))},[i,r,n,t,f,l.max,l.min]),q.useEffect(()=>{_()},[_,l]),q.useEffect(()=>{v()},[h]),T.jsx(nn,{w:"100%",p:"0px",align:"center",sx:{"@media screen and (max-width: 960px)":{flexDirection:"column",w:"100%",alignItems:u?"flex-start":"flex-end"}},children:T.jsxs(zi,{w:"100%",justify:{base:"flex-start",lg:"flex-end"},flex:"1",position:"absolute",right:"0px",top:{base:"-70px",lg:"-30px"},flexDir:{base:"row-reverse",lg:"row"},children:[T.jsx(jn,{type:"Add",onClick:()=>{console.log("start zoom in"),c()}}),T.jsx(jn,{type:"Sub",onClick:d})]})})}const Gu=t=>t.price,Ir=t=>t.depth;function Vu({id:t="liquidityChartRangeInput",data:{series:e,current:n},ticksAtLimit:r,styles:i,dimensions:{width:s,height:o},margins:l,interactive:u=!0,brushDomain:a,brushLabels:h,onBrushDomainChange:f,handleClickRefresh:c,zoomLevels:d,showZoomButtons:_=!0,isPosition:v=!1,hideBrush:m=!1,isReverse:p=!1,isSorted:w=!0,readonly:y=!1,dashedMarkerLine:k=[],currentRange:A="",constantPrice:b}){const P=q.useRef(null),[D,O]=q.useState(null),[B,z]=q.useMemo(()=>[o-l.top-l.bottom,s-l.left-l.right],[s,o,l]),{xScale:$,yScale:j}=q.useMemo(()=>{let S=[b*d.initialMin,b*d.initialMax];if(a&&String(a==null?void 0:a[0])!=="âˆž"&&String(a==null?void 0:a[1])!=="âˆž")if((a==null?void 0:a[0])===(a==null?void 0:a[1]))S=[Number(a==null?void 0:a[0])-(a==null?void 0:a[0])*.01,Number(a==null?void 0:a[0])+(a==null?void 0:a[0])*.01];else{const R=Yi(a);v?F(b).lt(a[0])?S=[F(b).minus(R).toNumber(),F(a[1]).plus(R).toNumber()]:F(b).gt(a[1])?S=[F(a[0]).minus(R).toNumber(),F(b).plus(F(R).mul(1.5)).toNumber()]:S=[F(a[0]).minus(R).toNumber(),F(a[1]).plus(R).toNumber()]:S=[F(a[0]).minus(R).toNumber(),F(a[1]).plus(R).toNumber()]}else Number(b)-b*2>0?S=[Math.max(F(0).add(F(b).div(10)).toNumber(),F(b).minus(F(b).mul(2)).toNumber()),F(b).add(F(b).mul(2)).toNumber()]:S=[0,F(b).mul(2).toNumber()];const E={xScale:on().domain(S).range([0,z]),yScale:on().domain([0,Gi(e,Ir)]).range([B,0])};if(D){const R=D.rescaleX(E.xScale);E.xScale.domain(R.domain())}return E},[b,d.initialMin,d.initialMax,z,e,B,D,a]);q.useEffect(()=>{O(null)},[d,A]),q.useEffect(()=>{a||f($.domain(),void 0)},[a,f,$]);const[g,N]=q.useState(void 0);return q.useEffect(()=>{N(P.current)},[P.current]),T.jsxs(kn,{w:"100%",h:"100%",sx:{"@media screen and (max-width: 1000px)":{display:"block"}},children:[g&&T.jsx(Xu,{svg:g,xScale:$,setZoom:O,width:z,height:o,resetBrush:()=>{f([b*d.initialMin,b*d.initialMax],"reset")},showResetButton:!!(r[rt.LOWER]||r[rt.UPPER]),zoomLevels:d,isPosition:v,currentRange:A,handleClickRefresh:c}),T.jsxs("svg",{width:"100%",height:"245px",style:{overflow:"visible"},children:[T.jsxs("defs",{children:[T.jsxs("linearGradient",{id:"green-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1}),T.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1})]}),T.jsxs("linearGradient",{id:"red-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1}),T.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1})]})]}),T.jsxs("defs",{children:[T.jsx("clipPath",{id:`${t}-chart-clip`,children:T.jsx("rect",{x:"0",y:"0",width:z,height:o})}),a&&T.jsx("mask",{id:`${t}-chart-area-mask`,children:T.jsx("rect",{fill:"red",x:$(a[0]),y:"0",width:$(a[1])-$(a[0]),height:B})})]}),T.jsxs("g",{transform:`translate(${l.left},${l.top})`,children:[T.jsxs("g",{clipPath:`url(#${t}-chart-clip)`,children:[T.jsx($u,{series:e,xScale:$,yScale:j,xValue:Gu,yValue:Ir,opacity:1,fill:"#195780"}),T.jsx(ju,{value:n,xScale:$,innerHeight:B}),k==null?void 0:k.map((x,S)=>T.jsx(Fu,{value:Number(Zt(x)),xScale:$,innerHeight:B},x+S)),T.jsx(Bu,{xScale:$,innerHeight:B,isPosition:v})]}),T.jsx(Lu,{className:"zoom-overlay",width:z,height:o,ref:P}),T.jsx(Ou,{id:t,xScale:$,interactive:u,brushLabelValue:h,brushExtent:a??$.domain(),innerWidth:z,innerHeight:B,setBrushExtent:f,westHandleColor:i.brush.handle.west,eastHandleColor:i.brush.handle.east,readonly:y,isSorted:w,isFullRange:!a})]})]})]})}const Yu="/assets/no_chart_data@2x-DOXoFnuQ.png",Hu=q.forwardRef(function({isFrom:e,isSorted:n,contractPoolInfo:r,currencyA:i,currencyB:s,feeAmount:o,ticksAtLimit:l,price:u,priceLower:a,priceUpper:h,onLeftRangeInput:f,onRightRangeInput:c,onBothRangeInput:d,handleClickRefresh:_,interactive:v,readonly:m,zoomLevel:p,isPosition:w,hideBrush:y,isReverse:k,dashedMarkerLine:A,currentRange:b},P){var M,I;console.log("rangeChart index.tsx  ðŸš€ ~ contractPoolInfo:",r);const{formatPriceData:D,ticksPool:O,formatPriceDataIsLoading:B}=An(),z=q.useMemo(()=>!(D&&!B),[D]),$=q.useMemo(()=>{let C;return n?C=D:C=D==null?void 0:D.map(V=>{var G;return{...V,price:(G=F(1).div(V==null?void 0:V.price))==null?void 0:G.toString()}}),C},[n,D]),j=q.useMemo(()=>n?O==null?void 0:O.price:O==null?void 0:O.reversePrice,[O==null?void 0:O.id,n]),g=q.useCallback((C,V)=>{if(!V)return;const G=Number(C[0]),W=Number(C[1]),Z=(!l[n?rt.LOWER:rt.UPPER]||V==="handle"||V==="reset")&&G>=0,Y=(!l[n?rt.UPPER:rt.LOWER]||V==="reset")&&W>0&&W<1e35;if(Z&&Y){const K=parseFloat(G.toFixed(20)),nt=parseFloat(W.toFixed(20));K>=0&&nt>0&&K<nt&&d({leftTypedValue:F(G).toString(),rightTypedValue:F(W).toString()})}else Z?f(F(G).toString()):Y&&c(F(W).toString())},[n,d,f,c,l]),N=q.useMemo(()=>{const C=n?Zt(a==null?void 0:a.price):Zt(a==null?void 0:a.reversePrice);console.log("ðŸš€ ~ constbrushDomain:[number,number]|undefined=useMemo ~ leftPrice:",C);const V=n?Zt(h==null?void 0:h.price):Zt(h==null?void 0:h.reversePrice);if(console.log("ðŸš€ ~ constbrushDomain:[number,number]|undefined=useMemo ~ rightPrice:",V),V!=="âˆž")return C&&V?[Number(C),Number(V)]:void 0},[n,a==null?void 0:a.displayPrice,h==null?void 0:h.displayPrice,u]),x=q.useCallback((C,V)=>{if(!u)return"";if(C==="w"&&(l[n?rt.LOWER:rt.UPPER]||!N))return"0";if(C==="e"&&(l[n?rt.UPPER:rt.LOWER]||!N))return"âˆž";const G=(V<u?-1:1)*((Math.max(V,u)-Math.min(V,u))/u)*100;return u?`${Vi(Math.abs(G)>1?".2~s":".2~f")(G)}%`:""},[n,u,l,N]),S=!i||!s||$===void 0&&!z,E=q.useRef(null),{isApp:R}=Ee();return T.jsx(kn,{w:"100%",h:"100%",flex:1,gap:"14px",position:"relative",ref:E,children:S||z||!$||!u?T.jsx(rn,{h:"100%",pt:e=="position"?"30px":"150px",children:T.jsx(sn,{})}):$.length===0?T.jsxs(nn,{bg:"bg_secondary",w:"100%",h:"100%",direction:"column",justify:"center",align:"center",borderRadius:"12px",children:[T.jsx(Di,{src:Yu,w:"100px",h:"100px"}),T.jsx(Bi,{mt:"20px",textAlign:"center",children:"There is no liquidity data."})]}):T.jsx(nn,{w:"100%",h:"100%",position:"relative",justify:"center",align:"center",children:(M=E==null?void 0:E.current)!=null&&M.clientWidth?T.jsx(Vu,{data:{series:$,current:u},dimensions:{width:e=="position"?R?300:200:(I=E==null?void 0:E.current)==null?void 0:I.clientWidth,height:e=="position"?85:230},margins:{top:10,right:20,bottom:20,left:10},styles:{area:{selection:"var(--chakra-colors-text_caption)"},brush:{handle:{west:"#30D4B7",east:"#6297EA"}}},interactive:v&&!!($!=null&&$.length),brushLabels:x,brushDomain:N,onBrushDomainChange:g,zoomLevels:p??Ec[o??pn.MEDIUM],ticksAtLimit:l,isPosition:e==="position",hideBrush:y,isReverse:k,isSorted:n,readonly:m,dashedMarkerLine:A,handleClickRefresh:_,currentRange:b,constantPrice:j},`${o??pn.MEDIUM}`):T.jsx(rn,{h:"100%",pt:e=="position"?"30px":"150px",children:T.jsx(sn,{})})})})}),Wu=443636,Uu=-443636,ol=q.forwardRef(function(e,n){const{handleClickRefresh:r,minPriceData:i,maxPriceData:s,direct:o,readonly:l,isFrom:u,dashedMarkerLine:a,currentRange:h}=e,{contractPoolInfo:f,apiPoolInfo:c,currentPriceData:d}=bn(),{lowerTickData:_,upperTickData:v}=Br(),{setTickDataBasedOnPrice:m}=as(),{formatPriceDataIsLoading:p}=An();q.useMemo(()=>f==null?void 0:f.tickSpacing,[f==null?void 0:f.tickSpacing]);const w="100",y=q.useMemo(()=>Number(w)&&(f!=null&&f.tickSpacing)?{[rt.LOWER]:ot.getInitializableTickIndex(Wu,Number(c==null?void 0:c.tickSpacing)),[rt.UPPER]:ot.getInitializableTickIndex(Uu,Number(c==null?void 0:c.tickSpacing))}:{[rt.LOWER]:void 0,[rt.UPPER]:void 0},[w]),k=q.useMemo(()=>({[rt.LOWER]:_.tick===y.LOWER,[rt.UPPER]:(v==null?void 0:v.tick)===y.UPPER}),[y,_,v,w]),A=!0,b=void 0,P=({leftTypedValue:$,rightTypedValue:j})=>{console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ leftTypedValue:",$),console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ rightTypedValue:",j),console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ lowerTickData:",_),console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:75 ~ onBothRangeInput ~ upperTickData:",v),On($,6)!==(o?_==null?void 0:_.displayPrice:v==null?void 0:v.displayReversePrice)&&m(o?_:v,o?$:F(1).div($).toString()),On(j,6)!==(o?v==null?void 0:v.displayPrice:_.displayReversePrice)&&m(o?v:_,o?j:F(1).div(j).toString())},D=$=>{console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:88 ~ onLeftRangeInput ~ typedValue:",$)},O=$=>{console.log("ðŸš€ ~ file: LiquidityRangeChart.tsx:96 ~ onRightRangeInput ~ typedValue:",$)},B=q.useRef(null);q.useImperativeHandle(n,()=>{var $;return{depthChartRefreshData:($=B.current)==null?void 0:$.depthChartRefreshData}});const{getFormattedData:z}=ls();return q.useEffect(()=>{f!=null&&f.poolAddress&&(f==null?void 0:f.poolAddress)===(c==null?void 0:c.poolAddress)&&(console.log("Test Depth Data###LiquidityRangeChart contractPoolInfo: ",f),console.log("Test Depth Data###LiquidityRangeChart apiPoolInfo1: ",c),console.log("Test Depth Data###LiquidityRangeChart contractPoolInfo?.poolAddress: ",f==null?void 0:f.poolAddress),z({poolAddress:f==null?void 0:f.poolAddress,tokenA:c==null?void 0:c.tokenA,tokenB:c==null?void 0:c.tokenB,tickSpacing:f==null?void 0:f.tickSpacing,currentTickIndex:f==null?void 0:f.current_tick_index,liquidity:f==null?void 0:f.liquidity,feeRate:f==null?void 0:f.fee_rate}))},[f==null?void 0:f.poolAddress,c==null?void 0:c.poolAddress]),T.jsxs(kn,{w:"100%",h:"100%",position:"relative",children:[l&&T.jsx(rn,{w:"100%",h:"100%",position:"absolute",left:"0px",top:"0px",bg:"rgba(0,0,0,0)",zIndex:"99999"}),!p&&Bn(i)&&Bn(s)?T.jsx(Hu,{isFrom:u,ref:B,isSorted:o,contractPoolInfo:f,currencyA:c==null?void 0:c.tokenA,currencyB:c==null?void 0:c.tokenB,feeAmount:w,ticksAtLimit:k,price:o?d.currentPrice:d.reverseCurrentPrice,priceLower:i,priceUpper:s,interactive:A,zoomLevel:b,isReverse:c==null?void 0:c.isReverse,readonly:l,dashedMarkerLine:a,onBothRangeInput:P,onLeftRangeInput:D,onRightRangeInput:O,handleClickRefresh:r,currentRange:h}):T.jsx(Oi,{w:"100%",h:"100%",mt:"20px",children:T.jsx(sn,{})})]})});function al({label:t,value:e,loading:n}){const{isApp:r}=Ee();return r?T.jsx(Wi,{label:t,value:e,labelStyle:{fontSize:"12px"},valueStyle:{fontSize:"14px",h:"14px",fontWeight:"500"},isLoading:n,skeletonStyle:{valueW:"60px"}}):T.jsx(Ui,{wrapStyle:{gap:"8px",alignItems:"flex-end"},titleStyle:{fontSize:"12px"},valueStyle:{fontSize:"14px",fontWeight:"500"},title:t,value:e,isLoading:n,skeletonStyle:{valueW:"60px",valueH:"14px"}})}function cl(){const{setCurrentPriceData:t}=bn();return{getCurrentPrice:(n,r)=>{const i=r.tokenA.decimals,s=r.tokenB.decimals,o=ot.sqrtPriceX64ToPrice(new qi(n),i,s).toString(),l=F(1).div(o).toString(),u={currentPrice:o,reverseCurrentPrice:l,currentSqrtPrice:n,pool:r.poolAddress};t(u)}}}function ul(){const{clmmSdk:t}=$r(),{fetchTokenInfo:e}=Ki(),{contractPoolInfo:n,setContractPoolInfo:r,setContractPoolInfoLoading:i,apiPoolInfo:s,setApiPoolInfo:o}=bn(),l=async a=>{i(!0);let h=null;try{if(h=await t.Pool.getPool(a),console.log("ðŸš€ ~ getContractPoolInfo ~ poolInfo:",{poolInfo:h,apiPoolInfo:s}),(s==null?void 0:s.displayTokenA)===void 0){const f=await u(h);f&&o(f)}}catch(f){console.log("getContractPoolInfo ~ error:",f)}finally{i(!1)}return n?h?(r(h),h):n:(r(h||null),h)};async function u(a){const h=await e(a.coinTypeA),f=await e(a.coinTypeB);if(h&&f){const c=`${h==null?void 0:h.symbol} - ${f==null?void 0:f.symbol}`,d=je(a.fee_rate).div(100).toString(),_=je(a.fee_rate).div(1e4).toString(),v=je(d).div(100).toString()+"%";return{poolAddress:a.poolAddress,name:c,isReverse:!1,tokenA:h,tokenB:f,displayTokenA:h,displayTokenB:f,haveMining:!1,miningRewardList:null,miningAprList:null,haveFarming:!1,farmsRewarderList:null,farmsApr:"",farmingAprDisplay:"",feeApr:"",feeAprDisplay:"",miningAprTotal:"",feeAndMiningAprDisplay:"",totalAprDisplay:"",fee:_,feeRate:d,feeDisplay:v,tvlDisplay:"0",volume24Display:"0",fees24Display:"0",isVaults:!1,tickSpacing:a.tickSpacing.toString()}}}return{getContractPoolInfo:l}}export{ol as L,al as S,as as a,ul as b,cl as c,Br as u};
