import{n as C,k,by as p,v as h}from"./index-DW6RD0fN.js";import{a as i}from"./vendor-BowHGuwE.js";function b(){const{currentAccount:e}=C(),t=k("clmm"),{setTokenBalanceObj:d,clearData:c,setIsLoading:o,isLoading:B,ownerAddress:m}=p(),n=i.useRef(e==null?void 0:e.address);i.useEffect(()=>{n.current=e==null?void 0:e.address},[e==null?void 0:e.address]);const y=async(s=(e==null?void 0:e.address)||"",f=!1)=>{try{if(B&&!f)return;if(s){o(!0);const a=await t.FullClient.getOwnerCoinBalances(s),l={};a.forEach(r=>{l[h(r.coinType).full_address]=r}),s==n.current&&d(l,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchAccountBalance ~ error:",a),m!==s&&c()}finally{o(!1)}},g=async(s=(e==null?void 0:e.address)||"",f)=>{try{if(s&&f){const a=await t.FullClient.getOwnerCoinBalances(s,f),l={};return a.forEach(r=>{l[h(r.coinType).full_address]=r}),s==n.current&&d(l,s),l}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchCoinBalance ~ error:",a)}};return i.useEffect(()=>{e||(c(),o(!1))},[e==null?void 0:e.address]),{fetchAccountBalance:y,fetchCoinBalance:g,isLoading:B}}export{b as u};
//# sourceMappingURL=useAccountBalance-DQeDl-Ho.js.map
