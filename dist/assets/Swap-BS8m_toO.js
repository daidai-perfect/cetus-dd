const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SourceGrid-CWbpEJfF.js","assets/index-B-qrdBiq.js","assets/index-CteIxbgC.css","assets/useFindBestRouting-C6aBD_xc.js","assets/useToken-BQk_H0Hd.js","assets/global-DXu_9rR6.js","assets/useGetPoolList-yuWyRDmL.js","assets/api-data-utils-lG4WZPKZ.js","assets/aggregator-BeWZnDuc.js","assets/SwapConfirmBlock-7RM7iCN2.js","assets/useTransaction--2sMtHs8.js","assets/useAccountBalance-B9O9361I.js","assets/useTokenBalance-BjSd1T-L.js","assets/index-CNO93z0h.js","assets/usePriceImpact-Qw_qLsEe.js","assets/CurrentPrice-C7AOkfYj.js","assets/HighlightText-B0697CFE.js","assets/SingleTokenInfo-BbYDSI8t.js","assets/CopyButton-B43sOlQP.js","assets/HTextLabelBox-CMrM5XEP.js","assets/TradeConfirmAmountInfo-_Or_Lo4v.js","assets/TradeInputGroup-S0QrRoj9.js","assets/_getAllKeysIn-orUDLidk.js","assets/swap-4bDfRMdb.js","assets/IconBg-znXnqFSX.js","assets/WarningTokenTipModal-CFrbLOiv.js","assets/Slippage-CVA-grY9.js","assets/TooltipIcon-DpjOiY6Y.js","assets/index-DCuiiUDi.js","assets/debounce-CTZz3DUk.js","assets/throttle-CoFcjjqC.js","assets/FreshProgressV2-Cch4vt-N.js","assets/progress.utils-Iq0Mb2NR.js","assets/PriceReference-BCxCtAQ-.js","assets/Ratio-BDlEcvaC.js","assets/YAxis-C1GSwU4O.js","assets/generateCategoricalChart-3ue0uujn.js","assets/linear-DYpwdEgO.js","assets/index-Ckbke8_3.js","assets/LineChart-p3AHH5Zl.js"])))=>i.map(i=>d[i]);
import{J as Ge,cR as vr,L as gr,j as s,cS as Ze,O as $e,P as Je,cT as mr,r as f,cH as H,cI as z,cU as re,cV as xr,cW as br,cX as Xe,cY as yr,b0 as Ye,aQ as Ce,ac as je,ad as Pe,ae as Re,af as Te,ag as wr,ah as Qe,ai as ke,u as Sr,ap as Ke,H as ne,I as Ae,T as ae,aX as er,Z as ue,V as le,aR as Cr,l as Mr,aO as jr,_ as Fe,aN as Pr,cZ as Rr,S as rr,au as Tr,av as kr,c_ as Ar,ax as Fr,ay as _r,a0 as Or,b as Er,aq as Ir,C as Lr,B as We,X as Dr,a5 as Br}from"./index-B-qrdBiq.js";import{A as Nr,a as Wr}from"./aggregator-BeWZnDuc.js";import{d as Hr,c as zr,u as qr,a as Vr,S as Ur,P as Gr,b as Zr}from"./SwapConfirmBlock-7RM7iCN2.js";import{b as we,a as $r}from"./useFindBestRouting-C6aBD_xc.js";import{u as nr}from"./swap-4bDfRMdb.js";import{H as Jr}from"./HTextLabelBox-CMrM5XEP.js";import{I as Xr}from"./IconBg-znXnqFSX.js";import{u as Yr}from"./useAccountBalance-B9O9361I.js";import{T as Qr}from"./TradeInputGroup-S0QrRoj9.js";import{W as Kr}from"./WarningTokenTipModal-CFrbLOiv.js";import{S as en}from"./Slippage-CVA-grY9.js";import{p as rn}from"./api-data-utils-lG4WZPKZ.js";import{b as Me,a as _e,u as nn}from"./index-DCuiiUDi.js";import{d as tn}from"./debounce-CTZz3DUk.js";import{t as an}from"./throttle-CoFcjjqC.js";import{T as on}from"./TooltipIcon-DpjOiY6Y.js";import{u as sn}from"./global-DXu_9rR6.js";const tr=Ge(function(e,n){const o=vr("FormLabel",e),i=gr(e),{className:l,children:g,requiredIndicator:p=s.jsx(ar,{}),optionalIndicator:m=null,...u}=i,w=Ze(),c=(w==null?void 0:w.getLabelProps(u,n))??{ref:n,...u};return s.jsxs($e.label,{...c,className:Je("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...o},children:[g,w!=null&&w.isRequired?p:m]})});tr.displayName="FormLabel";const ar=Ge(function(e,n){const o=Ze(),i=mr();if(!(o!=null&&o.isRequired))return null;const l=Je("chakra-form__required-indicator",e.className);return s.jsx($e.span,{...o==null?void 0:o.getRequiredIndicatorProps(e,n),__css:i.requiredIndicator,className:l})});ar.displayName="RequiredIndicator";var ln=function(t){return typeof t=="function"},un=function(t){return typeof t=="number"};function se(t){var e=f.useRef(t);e.current=f.useMemo(function(){return t},[t]);var n=f.useRef();return n.current||(n.current=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return e.current.apply(this,o)}),n.current}var or=function(t,e){var n=e.manual,o=e.ready,i=o===void 0?!0:o,l=e.defaultParams,g=l===void 0?[]:l,p=e.refreshDeps,m=p===void 0?[]:p,u=e.refreshDepsAction,w=f.useRef(!1);return w.current=!1,Me(function(){!n&&i&&(w.current=!0,t.run.apply(t,H([],z(g),!1)))},[i]),Me(function(){w.current||n||(w.current=!0,u?u():t.refresh())},H([],z(m),!1)),{onBefore:function(){if(!i)return{stopNow:!0}}}};or.onInit=function(t){var e=t.ready,n=e===void 0?!0:e,o=t.manual;return{loading:!o&&n}};function cn(t,e){if(t===e)return!0;for(var n=0;n<t.length;n++)if(!Object.is(t[n],e[n]))return!1;return!0}function sr(t,e){var n=f.useRef({deps:e,obj:void 0,initialized:!1}).current;return(n.initialized===!1||!cn(n.deps,e))&&(n.deps=e,n.obj=t(),n.initialized=!0),n.obj}var ve=new Map,dn=function(t,e,n){var o=ve.get(t);o!=null&&o.timer&&clearTimeout(o.timer);var i=void 0;e>-1&&(i=setTimeout(function(){ve.delete(t)},e)),ve.set(t,re(re({},n),{timer:i}))},fn=function(t){return ve.get(t)},ge=new Map,hn=function(t){return ge.get(t)},pn=function(t,e){ge.set(t,e),e.then(function(n){return ge.delete(t),n}).catch(function(){ge.delete(t)})},ie={},vn=function(t,e){ie[t]&&ie[t].forEach(function(n){return n(e)})},Se=function(t,e){return ie[t]||(ie[t]=[]),ie[t].push(e),function(){var o=ie[t].indexOf(e);ie[t].splice(o,1)}},gn=function(t,e){var n=e.cacheKey,o=e.cacheTime,i=o===void 0?5*60*1e3:o,l=e.staleTime,g=l===void 0?0:l,p=e.setCache,m=e.getCache,u=f.useRef(),w=f.useRef(),c=function(v,d){p?p(d):dn(v,i,d),vn(v,d.data)},k=function(v,d){return d===void 0&&(d=[]),m?m(d):fn(v)};return sr(function(){if(n){var v=k(n);v&&Object.hasOwnProperty.call(v,"data")&&(t.state.data=v.data,t.state.params=v.params,(g===-1||new Date().getTime()-v.time<=g)&&(t.state.loading=!1)),u.current=Se(n,function(d){t.setState({data:d})})}},[]),_e(function(){var v;(v=u.current)===null||v===void 0||v.call(u)}),n?{onBefore:function(v){var d=k(n,v);return!d||!Object.hasOwnProperty.call(d,"data")?{}:g===-1||new Date().getTime()-d.time<=g?{loading:!1,data:d==null?void 0:d.data,error:void 0,returnNow:!0}:{data:d==null?void 0:d.data,error:void 0}},onRequest:function(v,d){var _=hn(n);return _&&_!==w.current?{servicePromise:_}:(_=v.apply(void 0,H([],z(d),!1)),w.current=_,pn(n,_),{servicePromise:_})},onSuccess:function(v,d){var _;n&&((_=u.current)===null||_===void 0||_.call(u),c(n,{data:v,params:d,time:new Date().getTime()}),u.current=Se(n,function(A){t.setState({data:A})}))},onMutate:function(v){var d;n&&((d=u.current)===null||d===void 0||d.call(u),c(n,{data:v,params:t.state.params,time:new Date().getTime()}),u.current=Se(n,function(_){t.setState({data:_})}))}}:{}},mn=function(t,e){var n=e.debounceWait,o=e.debounceLeading,i=e.debounceTrailing,l=e.debounceMaxWait,g=f.useRef(),p=f.useMemo(function(){var m={};return o!==void 0&&(m.leading=o),i!==void 0&&(m.trailing=i),l!==void 0&&(m.maxWait=l),m},[o,i,l]);return f.useEffect(function(){if(n){var m=t.runAsync.bind(t);return g.current=tn(function(u){u()},n,p),t.runAsync=function(){for(var u=[],w=0;w<arguments.length;w++)u[w]=arguments[w];return new Promise(function(c,k){var v;(v=g.current)===null||v===void 0||v.call(g,function(){m.apply(void 0,H([],z(u),!1)).then(c).catch(k)})})},function(){var u;(u=g.current)===null||u===void 0||u.cancel(),t.runAsync=m}}},[n,p]),n?{onCancel:function(){var m;(m=g.current)===null||m===void 0||m.cancel()}}:{}},xn=function(t,e){var n=e.loadingDelay,o=e.ready,i=f.useRef();if(!n)return{};var l=function(){i.current&&clearTimeout(i.current)};return{onBefore:function(){return l(),o!==!1&&(i.current=setTimeout(function(){t.setState({loading:!0})},n)),{loading:!1}},onFinally:function(){l()},onCancel:function(){l()}}},me=!!(typeof window<"u"&&window.document&&window.document.createElement);function Oe(){return me?document.visibilityState!=="hidden":!0}var de=[];function bn(t){return de.push(t),function(){var n=de.indexOf(t);de.splice(n,1)}}if(me){var yn=function(){if(Oe())for(var t=0;t<de.length;t++){var e=de[t];e()}};window.addEventListener("visibilitychange",yn,!1)}var wn=function(t,e){var n=e.pollingInterval,o=e.pollingWhenHidden,i=o===void 0?!0:o,l=e.pollingErrorRetryCount,g=l===void 0?-1:l,p=f.useRef(),m=f.useRef(),u=f.useRef(0),w=function(){var c;p.current&&clearTimeout(p.current),(c=m.current)===null||c===void 0||c.call(m)};return Me(function(){n||w()},[n]),n?{onBefore:function(){w()},onError:function(){u.current+=1},onSuccess:function(){u.current=0},onFinally:function(){g===-1||g!==-1&&u.current<=g?p.current=setTimeout(function(){!i&&!Oe()?m.current=bn(function(){t.refresh()}):t.refresh()},n):u.current=0},onCancel:function(){w()}}:{}};function Sn(t,e){var n=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n||(n=!0,t.apply(void 0,H([],z(o),!1)),setTimeout(function(){n=!1},e))}}function Cn(){return me&&typeof navigator.onLine<"u"?navigator.onLine:!0}var fe=[];function Mn(t){return fe.push(t),function(){var n=fe.indexOf(t);n>-1&&fe.splice(n,1)}}if(me){var He=function(){if(!(!Oe()||!Cn()))for(var t=0;t<fe.length;t++){var e=fe[t];e()}};window.addEventListener("visibilitychange",He,!1),window.addEventListener("focus",He,!1)}var jn=function(t,e){var n=e.refreshOnWindowFocus,o=e.focusTimespan,i=o===void 0?5e3:o,l=f.useRef(),g=function(){var p;(p=l.current)===null||p===void 0||p.call(l)};return f.useEffect(function(){if(n){var p=Sn(t.refresh.bind(t),i);l.current=Mn(function(){p()})}return function(){g()}},[n,i]),_e(function(){g()}),{}},Pn=function(t,e){var n=e.retryInterval,o=e.retryCount,i=f.useRef(),l=f.useRef(0),g=f.useRef(!1);return o?{onBefore:function(){g.current||(l.current=0),g.current=!1,i.current&&clearTimeout(i.current)},onSuccess:function(){l.current=0},onError:function(){if(l.current+=1,o===-1||l.current<=o){var p=n??Math.min(1e3*Math.pow(2,l.current),3e4);i.current=setTimeout(function(){g.current=!0,t.refresh()},p)}else l.current=0},onCancel:function(){l.current=0,i.current&&clearTimeout(i.current)}}:{}},Rn=function(t,e){var n=e.throttleWait,o=e.throttleLeading,i=e.throttleTrailing,l=f.useRef(),g={};return o!==void 0&&(g.leading=o),i!==void 0&&(g.trailing=i),f.useEffect(function(){if(n){var p=t.runAsync.bind(t);return l.current=an(function(m){m()},n,g),t.runAsync=function(){for(var m=[],u=0;u<arguments.length;u++)m[u]=arguments[u];return new Promise(function(w,c){var k;(k=l.current)===null||k===void 0||k.call(l,function(){p.apply(void 0,H([],z(m),!1)).then(w).catch(c)})})},function(){var m;t.runAsync=p,(m=l.current)===null||m===void 0||m.cancel()}}},[n,o,i]),n?{onCancel:function(){var p;(p=l.current)===null||p===void 0||p.cancel()}}:{}},Tn=function(t){f.useEffect(function(){t==null||t()},[])},kn=function(){var t=z(f.useState({}),2),e=t[1];return f.useCallback(function(){return e({})},[])},An=function(){function t(e,n,o,i){i===void 0&&(i={}),this.serviceRef=e,this.options=n,this.subscribe=o,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=re(re(re({},this.state),{loading:!n.manual}),i)}return t.prototype.setState=function(e){e===void 0&&(e={}),this.state=re(re({},this.state),e),this.subscribe()},t.prototype.runPluginHandler=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.pluginImpls.map(function(l){var g;return(g=l[e])===null||g===void 0?void 0:g.call.apply(g,H([l],z(n),!1))}).filter(Boolean);return Object.assign.apply(Object,H([{}],z(i),!1))},t.prototype.runAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return xr(this,void 0,void 0,function(){var o,i,l,g,p,m,u,w,c,k,v,d,_,A,O,B,W,J,G,M,b;return br(this,function(I){switch(I.label){case 0:if(this.count+=1,o=this.count,i=this.runPluginHandler("onBefore",e),l=i.stopNow,g=l===void 0?!1:l,p=i.returnNow,m=p===void 0?!1:p,u=Xe(i,["stopNow","returnNow"]),g)return[2,new Promise(function(){})];if(this.setState(re({loading:!0,params:e},u)),m)return[2,Promise.resolve(u.data)];(_=(d=this.options).onBefore)===null||_===void 0||_.call(d,e),I.label=1;case 1:return I.trys.push([1,3,,4]),w=this.runPluginHandler("onRequest",this.serviceRef.current,e).servicePromise,w||(w=(v=this.serviceRef).current.apply(v,H([],z(e),!1))),[4,w];case 2:return c=I.sent(),o!==this.count?[2,new Promise(function(){})]:(this.setState({data:c,error:void 0,loading:!1}),(O=(A=this.options).onSuccess)===null||O===void 0||O.call(A,c,e),this.runPluginHandler("onSuccess",c,e),(W=(B=this.options).onFinally)===null||W===void 0||W.call(B,e,c,void 0),o===this.count&&this.runPluginHandler("onFinally",e,c,void 0),[2,c]);case 3:if(k=I.sent(),o!==this.count)return[2,new Promise(function(){})];throw this.setState({error:k,loading:!1}),(G=(J=this.options).onError)===null||G===void 0||G.call(J,k,e),this.runPluginHandler("onError",k,e),(b=(M=this.options).onFinally)===null||b===void 0||b.call(M,e,void 0,k),o===this.count&&this.runPluginHandler("onFinally",e,void 0,k),k;case 4:return[2]}})})},t.prototype.run=function(){for(var e=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this.runAsync.apply(this,H([],z(n),!1)).catch(function(i){e.options.onError||console.error(i)})},t.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},t.prototype.refresh=function(){this.run.apply(this,H([],z(this.state.params||[]),!1))},t.prototype.refreshAsync=function(){return this.runAsync.apply(this,H([],z(this.state.params||[]),!1))},t.prototype.mutate=function(e){var n=ln(e)?e(this.state.data):e;this.runPluginHandler("onMutate",n),this.setState({data:n})},t}();function Fn(t,e,n){e===void 0&&(e={}),n===void 0&&(n=[]);var o=e.manual,i=o===void 0?!1:o,l=e.ready,g=l===void 0?!0:l,p=Xe(e,["manual","ready"]),m=re({manual:i,ready:g},p),u=nn(t),w=kn(),c=sr(function(){var k=n.map(function(v){var d;return(d=v==null?void 0:v.onInit)===null||d===void 0?void 0:d.call(v,m)}).filter(Boolean);return new An(u,m,w,Object.assign.apply(Object,H([{}],z(k),!1)))},[]);return c.options=m,c.pluginImpls=n.map(function(k){return k(c,m)}),Tn(function(){if(!i&&g){var k=c.state.params||e.defaultParams||[];c.run.apply(c,H([],z(k),!1))}}),_e(function(){c.cancel()}),{loading:c.state.loading,data:c.state.data,error:c.state.error,params:c.state.params||[],cancel:se(c.cancel.bind(c)),refresh:se(c.refresh.bind(c)),refreshAsync:se(c.refreshAsync.bind(c)),run:se(c.run.bind(c)),runAsync:se(c.runAsync.bind(c)),mutate:se(c.mutate.bind(c))}}function _n(t,e,n){return Fn(t,e,H(H([],z([]),!1),[mn,xn,wn,jn,Rn,or,gn,Pn],!1))}var On=function(t,e){var n=se(t),o=f.useRef(null),i=f.useCallback(function(){o.current&&clearTimeout(o.current)},[]);return f.useEffect(function(){if(!(!un(e)||e<0))return o.current=setTimeout(n,e),i},[e]),i};function En(t,e){return yr(t,e)}const ze=t=>t.reduce((e,n)=>e+(n!=null&&n.subItems?n.subItems.length:1),0),qe=(t,e)=>t.reduce((n,o)=>o!=null&&o.subItems?n+o.subItems.reduce((i,l)=>i+(e[l.id]?1:0),0):n+(e[o.id]?1:0),0);function Ee(){const{providersSwitchStates:t,setProvidersSwitchStates:e}=Hr(),{providers:n}=Ye(),[o,i]=f.useState({...t}),[l,g]=f.useState([]),[p,m]=f.useState([]);Ce(()=>{i({...t})},[t]),Ce(()=>{const M={},b=[],I=[],Q={};n.forEach(V=>{const N=Nr[V];if(N){const X=t[N.id];X===void 0?Q[N.id]=!0:Q[N.id]=X;const U=u(V);if(U){const K=M[U.groupName]||[];K.push(N),M[U.groupName]=K}else N.type==="dex"?I.push(N):b.push(N)}});for(const[V,N]of Object.entries(M))if(N.length>0){const X=N[0],U={...X,id:X.groupId,name:V,subItems:N.sort((K,te)=>te.sort-K.sort)};X.type==="dex"?I.push(U):b.push(U)}b.sort((V,N)=>N.sort-V.sort),I.sort((V,N)=>N.sort-V.sort),g([...b]),m([...I]),e(Q)},[n]);const u=M=>Wr.find(b=>b.items.includes(M)),w=M=>{if(M){const b={};n.forEach(I=>b[I]=!0),i(b)}else{const b={};n.forEach(I=>b[I]=!1),i({...b,[we.CETUS]:!0})}},c=M=>{M?p.forEach(b=>{b!=null&&b.subItems?b.subItems.forEach(I=>{o[I.id]=!0}):o[b.id]=!0}):p.forEach(b=>{b.id===we.CETUS?o[b.id]=!0:b!=null&&b.subItems?b.subItems.forEach(I=>{o[I.id]=!1}):o[b.id]=!1}),i({...o})},k=M=>{l.forEach(b=>{b!=null&&b.subItems?b.subItems.forEach(I=>{o[I.id]=M}):o[b.id]=M}),i({...o})},v=(M,b)=>{o[M]=b,i({...o})},d=f.useMemo(()=>p.every(M=>M!=null&&M.subItems?M.subItems.every(b=>o[b.id]):o[M.id]),[JSON.stringify(p),JSON.stringify(o)]),_=f.useMemo(()=>l.every(M=>M!=null&&M.subItems?M.subItems.every(b=>o[b.id]):o[M.id]),[JSON.stringify(l),JSON.stringify(o)]),A=f.useMemo(()=>d&&_,[d,_]),O=f.useMemo(()=>(n==null?void 0:n.filter(M=>M!==we.CETUS&&!!o[M]).length)>=1,[o,n]),B=()=>{e({...o})},W=f.useMemo(()=>n==null?void 0:n.length,[n==null?void 0:n.length]),J=f.useMemo(()=>({checked:qe(p,o),total:ze(p)}),[p,o]),G=f.useMemo(()=>({checked:qe(l,o),total:ze(l)}),[l,o]);return{handleSelectAllProviderClick:w,handleSelectAllDexProviderClick:c,handleSelectAllOtherProviderClick:k,handleProviderClick:v,selectAllProviders:A,selectAllDexProviders:d,otherProviderList:l,selectAllOtherProviders:_,dexProviderList:p,currProvidersSwitchStates:o,providersSwitchStates:t,isOpenAggregatorMode:O,handleSaveClick:B,allSourceNum:W,dexSourceNumMap:J,otherSourceNumMap:G}}function In(t){const{isOpen:e,onClose:n,data:o,onSubmitClick:i}=t,{fromCoin:l,toCoin:g,routerData:p}=nr();return s.jsxs(je,{autoFocus:!1,returnFocusOnClose:!1,trapFocus:!1,isOpen:e,onClose:n,isCentered:!0,children:[s.jsx(Pe,{}),s.jsxs(Re,{children:[s.jsx(Te,{children:s.jsx(wr,{fontWeight:"500",fontSize:"16px",children:"Swap"})}),s.jsx(Qe,{}),s.jsx(ke,{textAlign:"center",p:"0px",children:s.jsx(zr,{onSubmitClick:i,onClose:n,data:o,lastRouterData:p,fromCoin:l,toCoin:g,isWidget:!1})})]})]})}function Ln(){const{fetchByApi:t}=Sr(),{setProviders:e}=Ye();return{fetchRouterConfig:async()=>{try{const o=await t(rn,"GET"),{providers:i}=o;i&&i.length>0&&e(i),console.log("ðŸš€ ~ file: useGetRouterConfig.ts:13 ~ fetchRouterConfig ~ res:",o)}catch(o){console.log("ðŸš€ ~ file: useGetRouterConfig.ts:18 ~ fetchRouterConfig ~ error:",o)}}}}var Ie={};(function t(e,n,o,i){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),g=typeof Path2D=="function"&&typeof DOMMatrix=="function",p=function(){if(!e.OffscreenCanvas)return!1;var a=new OffscreenCanvas(1,1),r=a.getContext("2d");r.fillRect(0,0,1,1);var h=a.transferToImageBitmap();try{r.createPattern(h,"no-repeat")}catch{return!1}return!0}();function m(){}function u(a){var r=n.exports.Promise,h=r!==void 0?r:e.Promise;return typeof h=="function"?new h(a):(a(m,m),null)}var w=function(a,r){return{transform:function(h){if(a)return h;if(r.has(h))return r.get(h);var y=new OffscreenCanvas(h.width,h.height),S=y.getContext("2d");return S.drawImage(h,0,0),r.set(h,y),y},clear:function(){r.clear()}}}(p,new Map),c=function(){var a=Math.floor(16.666666666666668),r,h,y={},S=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(r=function(C){var P=Math.random();return y[P]=requestAnimationFrame(function x(j){S===j||S+a-1<j?(S=j,delete y[P],C()):y[P]=requestAnimationFrame(x)}),P},h=function(C){y[C]&&cancelAnimationFrame(y[C])}):(r=function(C){return setTimeout(C,a)},h=function(C){return clearTimeout(C)}),{frame:r,cancel:h}}(),k=function(){var a,r,h={};function y(S){function C(P,x){S.postMessage({options:P||{},callback:x})}S.init=function(x){var j=x.transferControlToOffscreen();S.postMessage({canvas:j},[j])},S.fire=function(x,j,F){if(r)return C(x,null),r;var L=Math.random().toString(36).slice(2);return r=u(function(E){function D(R){R.data.callback===L&&(delete h[L],S.removeEventListener("message",D),r=null,w.clear(),F(),E())}S.addEventListener("message",D),C(x,L),h[L]=D.bind(null,{data:{callback:L}})}),r},S.reset=function(){S.postMessage({reset:!0});for(var x in h)h[x](),delete h[x]}}return function(){if(a)return a;if(!o&&l){var S=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([S])))}catch(C){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",C),null}y(a)}return a}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function d(a,r){return r?r(a):a}function _(a){return a!=null}function A(a,r,h){return d(a&&_(a[r])?a[r]:v[r],h)}function O(a){return a<0?0:Math.floor(a)}function B(a,r){return Math.floor(Math.random()*(r-a))+a}function W(a){return parseInt(a,16)}function J(a){return a.map(G)}function G(a){var r=String(a).replace(/[^0-9a-f]/gi,"");return r.length<6&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),{r:W(r.substring(0,2)),g:W(r.substring(2,4)),b:W(r.substring(4,6))}}function M(a){var r=A(a,"origin",Object);return r.x=A(r,"x",Number),r.y=A(r,"y",Number),r}function b(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function I(a){var r=a.getBoundingClientRect();a.width=r.width,a.height=r.height}function Q(a){var r=document.createElement("canvas");return r.style.position="fixed",r.style.top="0px",r.style.left="0px",r.style.pointerEvents="none",r.style.zIndex=a,r}function V(a,r,h,y,S,C,P,x,j){a.save(),a.translate(r,h),a.rotate(C),a.scale(y,S),a.arc(0,0,1,P,x,j),a.restore()}function N(a){var r=a.angle*(Math.PI/180),h=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-r+(.5*h-Math.random()*h),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function X(a,r){r.x+=Math.cos(r.angle2D)*r.velocity+r.drift,r.y+=Math.sin(r.angle2D)*r.velocity+r.gravity,r.velocity*=r.decay,r.flat?(r.wobble=0,r.wobbleX=r.x+10*r.scalar,r.wobbleY=r.y+10*r.scalar,r.tiltSin=0,r.tiltCos=0,r.random=1):(r.wobble+=r.wobbleSpeed,r.wobbleX=r.x+10*r.scalar*Math.cos(r.wobble),r.wobbleY=r.y+10*r.scalar*Math.sin(r.wobble),r.tiltAngle+=.1,r.tiltSin=Math.sin(r.tiltAngle),r.tiltCos=Math.cos(r.tiltAngle),r.random=Math.random()+2);var h=r.tick++/r.totalTicks,y=r.x+r.random*r.tiltCos,S=r.y+r.random*r.tiltSin,C=r.wobbleX+r.random*r.tiltCos,P=r.wobbleY+r.random*r.tiltSin;if(a.fillStyle="rgba("+r.color.r+", "+r.color.g+", "+r.color.b+", "+(1-h)+")",a.beginPath(),g&&r.shape.type==="path"&&typeof r.shape.path=="string"&&Array.isArray(r.shape.matrix))a.fill(xe(r.shape.path,r.shape.matrix,r.x,r.y,Math.abs(C-y)*.1,Math.abs(P-S)*.1,Math.PI/10*r.wobble));else if(r.shape.type==="bitmap"){var x=Math.PI/10*r.wobble,j=Math.abs(C-y)*.1,F=Math.abs(P-S)*.1,L=r.shape.bitmap.width*r.scalar,E=r.shape.bitmap.height*r.scalar,D=new DOMMatrix([Math.cos(x)*j,Math.sin(x)*j,-Math.sin(x)*F,Math.cos(x)*F,r.x,r.y]);D.multiplySelf(new DOMMatrix(r.shape.matrix));var R=a.createPattern(w.transform(r.shape.bitmap),"no-repeat");R.setTransform(D),a.globalAlpha=1-h,a.fillStyle=R,a.fillRect(r.x-L/2,r.y-E/2,L,E),a.globalAlpha=1}else if(r.shape==="circle")a.ellipse?a.ellipse(r.x,r.y,Math.abs(C-y)*r.ovalScalar,Math.abs(P-S)*r.ovalScalar,Math.PI/10*r.wobble,0,2*Math.PI):V(a,r.x,r.y,Math.abs(C-y)*r.ovalScalar,Math.abs(P-S)*r.ovalScalar,Math.PI/10*r.wobble,0,2*Math.PI);else if(r.shape==="star")for(var T=Math.PI/2*3,q=4*r.scalar,Z=8*r.scalar,$=r.x,ee=r.y,oe=5,Y=Math.PI/oe;oe--;)$=r.x+Math.cos(T)*Z,ee=r.y+Math.sin(T)*Z,a.lineTo($,ee),T+=Y,$=r.x+Math.cos(T)*q,ee=r.y+Math.sin(T)*q,a.lineTo($,ee),T+=Y;else a.moveTo(Math.floor(r.x),Math.floor(r.y)),a.lineTo(Math.floor(r.wobbleX),Math.floor(S)),a.lineTo(Math.floor(C),Math.floor(P)),a.lineTo(Math.floor(y),Math.floor(r.wobbleY));return a.closePath(),a.fill(),r.tick<r.totalTicks}function U(a,r,h,y,S){var C=r.slice(),P=a.getContext("2d"),x,j,F=u(function(L){function E(){x=j=null,P.clearRect(0,0,y.width,y.height),w.clear(),S(),L()}function D(){o&&!(y.width===i.width&&y.height===i.height)&&(y.width=a.width=i.width,y.height=a.height=i.height),!y.width&&!y.height&&(h(a),y.width=a.width,y.height=a.height),P.clearRect(0,0,y.width,y.height),C=C.filter(function(R){return X(P,R)}),C.length?x=c.frame(D):E()}x=c.frame(D),j=E});return{addFettis:function(L){return C=C.concat(L),F},canvas:a,promise:F,reset:function(){x&&c.cancel(x),j&&j()}}}function K(a,r){var h=!a,y=!!A(r||{},"resize"),S=!1,C=A(r,"disableForReducedMotion",Boolean),P=l&&!!A(r||{},"useWorker"),x=P?k():null,j=h?b:I,F=a&&x?!!a.__confetti_initialized:!1,L=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,E;function D(T,q,Z){for(var $=A(T,"particleCount",O),ee=A(T,"angle",Number),oe=A(T,"spread",Number),Y=A(T,"startVelocity",Number),ir=A(T,"decay",Number),lr=A(T,"gravity",Number),ur=A(T,"drift",Number),Le=A(T,"colors",J),cr=A(T,"ticks",Number),De=A(T,"shapes"),dr=A(T,"scalar"),fr=!!A(T,"flat"),Be=M(T),Ne=$,ye=[],hr=a.width*Be.x,pr=a.height*Be.y;Ne--;)ye.push(N({x:hr,y:pr,angle:ee,spread:oe,startVelocity:Y,color:Le[Ne%Le.length],shape:De[B(0,De.length)],ticks:cr,decay:ir,gravity:lr,drift:ur,scalar:dr,flat:fr}));return E?E.addFettis(ye):(E=U(a,ye,j,q,Z),E.promise)}function R(T){var q=C||A(T,"disableForReducedMotion",Boolean),Z=A(T,"zIndex",Number);if(q&&L)return u(function(Y){Y()});h&&E?a=E.canvas:h&&!a&&(a=Q(Z),document.body.appendChild(a)),y&&!F&&j(a);var $={width:a.width,height:a.height};x&&!F&&x.init(a),F=!0,x&&(a.__confetti_initialized=!0);function ee(){if(x){var Y={getBoundingClientRect:function(){if(!h)return a.getBoundingClientRect()}};j(Y),x.postMessage({resize:{width:Y.width,height:Y.height}});return}$.width=$.height=null}function oe(){E=null,y&&(S=!1,e.removeEventListener("resize",ee)),h&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,F=!1)}return y&&!S&&(S=!0,e.addEventListener("resize",ee,!1)),x?x.fire(T,$,oe):D(T,$,oe)}return R.reset=function(){x&&x.reset(),E&&E.reset()},R}var te;function he(){return te||(te=K(null,{useWorker:!0,resize:!0})),te}function xe(a,r,h,y,S,C,P){var x=new Path2D(a),j=new Path2D;j.addPath(x,new DOMMatrix(r));var F=new Path2D;return F.addPath(j,new DOMMatrix([Math.cos(P)*S,Math.sin(P)*S,-Math.sin(P)*C,Math.cos(P)*C,h,y])),F}function pe(a){if(!g)throw new Error("path confetti are not supported in this browser");var r,h;typeof a=="string"?r=a:(r=a.path,h=a.matrix);var y=new Path2D(r),S=document.createElement("canvas"),C=S.getContext("2d");if(!h){for(var P=1e3,x=P,j=P,F=0,L=0,E,D,R=0;R<P;R+=2)for(var T=0;T<P;T+=2)C.isPointInPath(y,R,T,"nonzero")&&(x=Math.min(x,R),j=Math.min(j,T),F=Math.max(F,R),L=Math.max(L,T));E=F-x,D=L-j;var q=10,Z=Math.min(q/E,q/D);h=[Z,0,0,Z,-Math.round(E/2+x)*Z,-Math.round(D/2+j)*Z]}return{type:"path",path:r,matrix:h}}function be(a){var r,h=1,y="#000000",S='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?r=a:(r=a.text,h="scalar"in a?a.scalar:h,S="fontFamily"in a?a.fontFamily:S,y="color"in a?a.color:y);var C=10*h,P=""+C+"px "+S,x=new OffscreenCanvas(C,C),j=x.getContext("2d");j.font=P;var F=j.measureText(r),L=Math.ceil(F.actualBoundingBoxRight+F.actualBoundingBoxLeft),E=Math.ceil(F.actualBoundingBoxAscent+F.actualBoundingBoxDescent),D=2,R=F.actualBoundingBoxLeft+D,T=F.actualBoundingBoxAscent+D;L+=D+D,E+=D+D,x=new OffscreenCanvas(L,E),j=x.getContext("2d"),j.font=P,j.fillStyle=y,j.fillText(r,R,T);var q=1/h;return{type:"bitmap",bitmap:x.transferToImageBitmap(),matrix:[q,0,0,q,-L*q/2,-E*q/2]}}n.exports=function(){return he().apply(this,arguments)},n.exports.reset=function(){he().reset()},n.exports.create=K,n.exports.shapeFromPath=pe,n.exports.shapeFromText=be})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ie,!1);const ce=Ie.exports;Ie.exports.create;function Dn(t){const[e,n]=f.useState(!1),o=On(()=>{n(!0)},300);return f.useEffect(()=>()=>o(),[]),s.jsx(Ke,{sx:{".chakra-switch__track":{p:"0px",transitionDuration:e?"var(--chakra-transition-duration-fast) !important":"0s"},".chakra-switch__thumb":{transitionDuration:e?"var(--chakra-transition-duration-normal) !important":"0s"}},...t})}function Bn({isOpen:t,onOk:e,onClose:n}){return s.jsxs(je,{autoFocus:!1,returnFocusOnClose:!1,isOpen:t,onClose:n,isCentered:!0,children:[s.jsx(Pe,{}),s.jsxs(Re,{children:[s.jsx(Te,{children:"Tips"}),s.jsx(Qe,{}),s.jsx(ke,{children:s.jsxs(ne,{children:[s.jsx(Ae,{xlinkHref:"#icon-icon_tips",svgHover:"text_paragraph",cursor:"default"}),s.jsx(ae,{color:"text_caption",children:"Do you want to save your changes?"})]})}),s.jsxs(er,{gap:"16px",children:[s.jsx(ue,{flex:"1",onClick:e,h:"40px",borderRadius:"8px",children:"Confirm"}),s.jsx(ue,{flex:"1",variant:"outline",h:"40px",borderRadius:"8px",onClick:n,children:"No"})]})]})]})}function Nn({num:t,total:e}){return s.jsxs(ne,{h:"16px",lineHeight:"16px",p:"2px 8px",borderRadius:"8px",bg:"aggregator_switch",gap:"0px",children:[s.jsxs(ae,{as:"div",display:"inline-block",fontSize:"10px",h:"10px",lineHeight:"10px",color:"primary",children:[t,"Â "]}),e!==void 0&&s.jsxs(ae,{as:"div",display:"inline-block",fontSize:"10px",h:"10px",lineHeight:"10px",color:"text_paragraph",children:["/ ",e]})]})}const Ve=f.lazy(()=>Fe(()=>import("./SourceGrid-CWbpEJfF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]))),Wn=({isOpen:t,onClose:e})=>{const[n,o]=f.useState(!1),{handleSelectAllProviderClick:i,handleSelectAllDexProviderClick:l,handleSelectAllOtherProviderClick:g,handleProviderClick:p,selectAllProviders:m,selectAllDexProviders:u,otherProviderList:w,selectAllOtherProviders:c,dexProviderList:k,currProvidersSwitchStates:v,providersSwitchStates:d,handleSaveClick:_,allSourceNum:A,dexSourceNumMap:O,otherSourceNumMap:B}=Ee(),W=()=>{En(d,v)?e():o(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs(je,{autoFocus:!1,returnFocusOnClose:!1,isOpen:t,onClose:W,isCentered:!0,children:[s.jsx(Pe,{}),s.jsxs(Re,{bg:"background",w:{base:"calc(100vw - 16px)",lg:"512px"},maxW:"unset",children:[s.jsx(Te,{children:s.jsxs(ne,{w:"100%",justify:"space-between",children:[s.jsx(ae,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Aggregator Settings"}),s.jsx(Ae,{xlinkHref:"#icon-icon_close",onClick:W})]})}),s.jsx(ke,{children:s.jsxs(le,{w:"100%",gap:"24px",children:[s.jsxs(ne,{w:"100%",justify:"space-between",align:"flex-end",children:[s.jsxs(le,{w:"100%",gap:"8px",align:"flex-start",children:[s.jsxs(ne,{gap:"4px",children:[s.jsx(ae,{fontSize:"16px",color:"text_caption",fontWeight:"500",children:"Liquidity Sources"}),s.jsx(on,{type:"liquiditySources"})]}),s.jsx(ae,{lineHeight:"16px",children:"Disable/Enable Liquidity Sources"})]}),s.jsxs(le,{align:"flex-end",flex:"0 0 108px",children:[s.jsx(ae,{children:"Select all"}),s.jsxs(ne,{justifyContent:"flex-end",h:"16px",gap:"4px",children:[s.jsx(Nn,{num:Cr((O==null?void 0:O.checked)||0).plus((B==null?void 0:B.checked)||0).toNumber(),total:A}),s.jsx(Dn,{id:"select-all",isChecked:!!m,onChange:()=>i(!m)})]})]})]}),s.jsxs(Mr,{flexDir:"column",w:"100%",p:"0",gap:"20px",align:"flex-start",maxH:{base:"calc(100vh - 280px)",lg:"600px"},overflow:"hidden",children:[s.jsx(f.Suspense,{fallback:s.jsx(Ue,{}),children:s.jsx(Ve,{title:"Dex",isAllChecked:u,onAllSelect:()=>l(!u),onItemSelect:p,list:k,checkedMap:v,totalNum:O==null?void 0:O.total,checkedNum:O==null?void 0:O.checked})}),s.jsx(jr,{orientation:"horizontal"}),s.jsx(f.Suspense,{fallback:s.jsx(Ue,{}),children:s.jsx(Ve,{title:"Other",isAllChecked:c,onAllSelect:()=>g(!c),onItemSelect:p,list:w,checkedMap:v,totalNum:B==null?void 0:B.total,checkedNum:B==null?void 0:B.checked})})]})]})}),s.jsxs(er,{gap:"16px",p:"8px 16px 16px",children:[s.jsx(ue,{flex:"1",variant:"outline",p:"0 15px",onClick:e,children:"Cancel"}),s.jsx(ue,{flex:"1",onClick:()=>{_(),e()},children:"Save"})]})]})]}),n&&s.jsx(Bn,{isOpen:n,onClose:()=>{o(!1),e()},onOk:()=>{_(),o(!1),e()}})]})};function Ue(){return s.jsx(Pr,{w:"100%",templateColumns:{base:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},maxH:{base:"unset",lg:"152px"},overflow:"scroll",gap:"8px",children:[1,2,3,4,5,6,7,8,9].map(t=>s.jsx(Rr,{children:s.jsx(rr,{w:"100%",h:"36px"})},t))})}const Hn=f.memo(Wn);function zn(){const[t,e]=f.useState(!1),n=f.useRef(null),o=()=>{e(!1)},{fetchRouterConfig:i}=Ln(),{loading:l}=_n(i),{handleSelectAllProviderClick:g,handleSaveClick:p,currProvidersSwitchStates:m,isOpenAggregatorMode:u}=Ee(),w=()=>{u||c(),g(!u)};Ce(()=>{p()},[m]);const c=()=>{var M;const k=window.innerWidth,v=window.innerHeight,d=(M=n.current)==null?void 0:M.getBoundingClientRect(),_=d==null?void 0:d.left,A=d==null?void 0:d.top,O=2,B=ce.shapeFromText({text:"ðŸŸ¢",scalar:O}),W=ce.shapeFromText({text:"ðŸ”µ",scalar:O}),J=ce.shapeFromText({text:"ðŸ’š",scalar:O}),G=ce.shapeFromText({text:"ðŸ’™",scalar:O});ce({particleCount:40,spread:60,shapes:[B,W,J,G],scalar:O,origin:{x:_/k,y:A*1.2/v}})};return s.jsxs(s.Fragment,{children:[s.jsx(rr,{isLoaded:!l,w:"178px",h:"28px",children:s.jsxs(ne,{border:"1px solid",borderColor:"border",borderRadius:"8px",h:"28px",bg:"bg_secondary",gap:"8px",children:[s.jsxs(Tr,{isLazy:!0,trigger:"hover",autoFocus:!1,returnFocusOnClose:!1,children:[s.jsx(kr,{children:s.jsxs(Ar,{display:"flex",alignItems:"center",pl:"8px",children:[s.jsx(tr,{htmlFor:"aggregator-mode",mb:"0",bg:"plus_mode_color",textFillColor:"transparent",backgroundClip:"text",h:"18px",lineHeight:"18px",fontSize:"12px",fontWeight:"500",fontStyle:"normal",mr:"8px",children:"Aggregator Mode"}),s.jsx(Ke,{ref:n,id:"aggregator-mode",isChecked:u,onChange:w})]})}),s.jsx(Fr,{children:s.jsx(_r,{p:"12px",lineHeight:"20px",fontSize:"12px",children:"The Aggregator Mode will aggregate external liquidity sources"})})]}),s.jsx(ue,{variant:"unstyled",mr:"-1px",minW:"20px",w:"20px",p:"7px 4px",h:"28px",bg:"border",borderRadius:"0 8px 8px 0",onClick:()=>e(!t),children:s.jsx(Ae,{xlinkHref:"#icon-icon_list_token",fontSize:"12px"})})]})}),t&&s.jsx(Hn,{isOpen:t,onClose:o})]})}const qn=f.lazy(()=>Fe(()=>import("./FreshProgressV2-Cch4vt-N.js"),__vite__mapDeps([31,1,2,32,8,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]))),Vn=f.lazy(()=>Fe(()=>import("./PriceReference-BCxCtAQ-.js"),__vite__mapDeps([33,1,2,17,4,18,9,8,3,5,6,7,10,11,12,13,14,15,16,19,20,21,22,27,34,35,30,29,36,37,38,39])));function Un(){const t=nr(),{fromCoin:e,toCoin:n,setFromCoin:o,setToCoin:i,byAmountIn:l,setFromAmount:g,setToAmount:p,setByAmountIn:m,findRouterLoading:u,routerData:w}=t,{handleSelectToken:c,handleAmountChange:k,fromAmount:v,toAmount:d,fromAmountValue:_,toAmountValue:A,fromBalanceInfo:O,toBalanceInfo:B,amountLimit:W,getSwapSecondaryData:J,doSwapAction:G,reCalculateRouteData:M,scamsText:b,refreshMarketPrice:I,isOpenConfirmModel:Q,setIsOpenConfirmModel:V,resetInputAmount:N,onReverseClick:X}=qr(t,!1),{currentAccount:U,onWalletModal:K}=Or(),{fetchAccountBalance:te}=Yr();f.useEffect(()=>{U!=null&&U.address&&te()},[]);const{btnText:he,btnDisabled:xe}=Vr(v,d,O==null?void 0:O.balanceFormat,e,n,w),pe=f.useRef(null),{formatSwapRouter:be}=$r(w),{isOpenAggregatorMode:a}=Ee(),r=()=>{var R;(R=pe.current)==null||R.reset()},h=()=>{console.log("  handleRefresh"),M(),te(),I()};f.useEffect(()=>{r()},[d,v,e==null?void 0:e.coin_type,n==null?void 0:n.coin_type]),f.useEffect(()=>{l||h()},[d,e==null?void 0:e.coin_type,n==null?void 0:n.coin_type]),f.useEffect(()=>{N()},[a]);const y=f.useMemo(()=>{const R=[];return e&&R.push(e),n&&R.push(n),R},[e,n]),[S,C]=f.useState("#icon-a-icon_trade"),P=()=>{C("#icon-icon_swap1")},x=()=>{C("#icon-a-icon_trade")},{isApp:j}=Er(),{isShowTradeChart:F,setIsShowTradeChart:L,isShowTradeOrders:E,setIsShowTradeOrders:D}=sn();return s.jsx(s.Fragment,{children:s.jsxs(le,{gap:{base:"16px",lg:"8px"},w:{base:"100%",lg:"470px"},children:[s.jsxs(ne,{w:"100%",justify:"space-between",children:[s.jsx(zn,{}),s.jsxs(ne,{children:[s.jsx(en,{}),s.jsx(Ir,{showTooltip:!j,placement:"bottom-end",tooltip:s.jsx(ae,{fontSize:"12px",children:F?"Hide reference price":"View reference price"}),children:s.jsx(Lr,{children:s.jsx(Xr,{w:"28px",h:"28px",borderRadius:"8px",variant:"",xlinkHref:"#icon-icon_kline",svgFill:F?"primary":"",svgHover:F?"primary":j?"text_paragraph":"text_caption",onClick:()=>L(!F)})})}),s.jsx(f.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(qn,{callbackInterval:Q?5:10,ref:pe,min:0,max:10,onClick:h})})]})]}),s.jsxs(We,{w:"100%",children:[s.jsx(Qr,{wrapStyle:{gap:{base:"16px",lg:"8px"},mt:{base:"0px",lg:"4px"}},onClick:()=>X(a),from:{title:"You Pay",balance:(O==null?void 0:O.balanceFormat)||"",value:v,amountValue:_,loading:!l&&u,onChange:R=>{k(R,!0)},selectable:!0,placeholder:"0.0",token:e,onFocusChange:R=>{R&&+v&&!l&&k(v,!0)},onTokenChange:R=>{c(R,!0)}},to:{title:"You Receive",balance:(B==null?void 0:B.balanceFormat)||"",value:d,amountValue:A,loading:l&&u,onFocusChange:R=>{R&&+d&&l&&k(d,!1)},onTokenChange:R=>{c(R,!1)},inputAllowed:!a,onChange:R=>{k(R,!1)},selectable:!0,placeholder:"0.0",token:n,half:!1,max:!1},iconParams:{xlinkHref:S,svgFill:"text_caption",transform:S==="#icon-a-icon_trade"?"":"rotate(90deg)",fontSize:S==="#icon-a-icon_trade"?"12px":"16px",onMouseEnter:P,onMouseLeave:x}}),b&&s.jsx(We,{mt:"-32px",p:"48px 16px 16px",borderRadius:"20px",bg:"bg_secondary",border:"1px solid",borderColor:"border",children:s.jsx(Ur,{scamsText:b})})]}),(e||n)&&s.jsx(Kr,{addToken:!0,tokensInfo:y,waringModalCancel:R=>{R.forEach(T=>{(T.coin_type===(e==null?void 0:e.coin_type)||T.coin_type===(n==null?void 0:n.coin_type))&&c(void 0,T.coin_type===(e==null?void 0:e.coin_type))})}}),s.jsxs(le,{p:+v&&+d?"0 8px 12px":"0 8px",w:"100%",gap:"8px",border:"1px solid",borderColor:"border",borderRadius:"20px",bg:"bg_secondary",children:[s.jsx(ue,{w:"calc(100% + 18px)",h:"52px",margin:"-1px",fontSize:"18px",fontWeight:"500",borderRadius:"12px",isDisabled:u||xe,isLoading:u,onClick:()=>{U?V(!0):K(!0)},children:[e,n].filter(Boolean).length<2?"Select a token":he}),!!+v&&!!+d&&s.jsxs(le,{w:"100%",gap:"12px",children:[s.jsx(Gr,{findRouterLoading:u,routerData:w,fromCoin:e,toCoin:n}),s.jsx(Jr,{isLoading:u,label:l?"Minimum Received":"Maximum Sold",value:`${Dr(W,l?n==null?void 0:n.decimals:e==null?void 0:e.decimals,!1,Br.ROUND_DOWN)} ${l?n==null?void 0:n.symbol:e==null?void 0:e.symbol}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"14px"},valueStyle:{fontWeight:500,fontSize:"14px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",minH:"20px"}}),s.jsx(Zr,{formatSwapRouter:be,findRouterLoading:u,fromAmount:v,toAmount:d,fromCoin:e,toCoin:n})]})]}),!F&&s.jsx(f.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(Vn,{fromCoin:e,toCoin:n})}),Q&&s.jsx(In,{data:J(),isOpen:Q,onSubmitClick:G,onClose:()=>{V(!1)}})]})})}const ut=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"}));export{Dn as A,Nn as N,ut as S,un as i,se as u};
