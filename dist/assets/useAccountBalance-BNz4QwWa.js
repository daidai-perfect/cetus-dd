import{a0 as S,aK as p,dj as w,r as n,a_ as h}from"./index-BB14M7zw.js";function E(){const{currentAccount:e}=S(),{clmmSdk:d}=p(),{setTokenBalanceObj:i,clearData:c,setIsLoading:t,isLoading:B,ownerAddress:g}=w(),f=n.useRef(e==null?void 0:e.address);n.useEffect(()=>{f.current=e==null?void 0:e.address},[e==null?void 0:e.address]);const m=async(s=(e==null?void 0:e.address)||"",l=!1)=>{try{if(B&&!l)return;if(s){t(!0);const a=await d.getOwnerCoinBalances(s),r={};a.forEach(o=>{r[h(o.coinType).full_address]=o}),s==f.current&&i(r,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchAccountBalance ~ error:",a),g!==s&&c()}finally{t(!1)}},y=async(s=(e==null?void 0:e.address)||"",l)=>{try{if(s&&l){const a=await d.getOwnerCoinBalances(s,l),r={};a.forEach(o=>{r[h(o.coinType).full_address]=o}),s==f.current&&i(r,s)}}catch(a){console.log("ðŸš€ ~ file: useAccountBalance.ts:18 ~ fetchCoinBalance ~ error:",a)}};return n.useEffect(()=>{e||(c(),t(!1))},[e]),{fetchAccountBalance:m,fetchCoinBalance:y,isLoading:B}}export{E as u};
