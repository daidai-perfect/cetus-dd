import{r as x,b as le,j as e,ap as Ye,aq as Oe,C as de,W as D,H as j,ar as ms,I as ne,T as p,g as me,as as ts,c as re,at as qe,au as De,av as Ie,ao as Le,a as ze,aw as Bs,ac as zs,ax as Rs,$ as L,ay as es,V as b,B as oe,Y as we,az as os,aA as Fs,an as Hs,l as Ws,aB as G,a1 as Re,a5 as Qe,al as xs,a3 as is,S as Be,ae as ps,af as ds,ag as gs,ah as hs,ai as us,aj as js,ak as fs,k as Ns,aC as Es,a4 as ys,d as Q,aD as Ze,m as bs,aE as Vs}from"./index-c8x0neDx.js";import{u as Ge,a as ws,b as Us,c as ie,d as ss}from"./usePositionList-jMKEHL_-.js";import{R as ls}from"./RefreshButton-S2zh08Pz.js";import{P as Ms}from"./index-Z9lcNQQE.js";import{S as $e}from"./switch-81cBGCWx.js";import{u as Ss,a as vs,b as Ys,i as Os,V as qs}from"./useStatistics-C-DJ-W4d.js";import{u as Ds}from"./useGetPoolList-COr9_t00.js";import{H as Ls,T as Qs}from"./VolumeChart-CXR-rgMt.js";import{N as Se}from"./NoData-C7RuiRQ2.js";import{S as Gs}from"./SortDropBlock-uQeObVbC.js";import{T as Ue}from"./TableSortTh-CZWYqieM.js";import{A as Xs}from"./AprTooltip-CSg3mjFm.js";import{C as Ks,P as Cs}from"./CoinPairInfo-DomE04Yu.js";import{F as Zs,P as Js,a as $s}from"./PositionListLoading-DAQ1MlU7.js";import{C as Xe}from"./CetusTooltip-CGhijhrv.js";import{u as Is}from"./useToken-D-6xB-ST.js";import{V as as}from"./VTextLabelBox-dt-U3a_S.js";import{u as ks}from"./useQueryParams-C-cUhNAg.js";import{u as en}from"./useBurn-BFWB3TFT.js";import{u as As}from"./useTransaction-DAoWoqXP.js";import{S as Me}from"./SingleTokenInfo-DeVv6bgN.js";import{L as sn}from"./PriceRange-lF99gfNF.js";import{u as nn}from"./useNotifiSubscription-La67Z7V_.js";import{u as tn}from"./useRpcListener-BS06EUQo.js";import{u as on,a as _s,P as ln}from"./PositionCurrentPrice-D6GxFQKB.js";import{u as an}from"./useAccountBalance-CZOHOa8D.js";import"./api-data-utils-0d_jjn6h.js";import"./Loading-BKdkEwf3.js";import"./TooltipIcon-B5wViqRg.js";import"./index-DI5Q0fYc.js";import"./Pagination-hwq11WUw.js";import"./tr-Dh5PCvTH.js";import"./_getAllKeysIn-C6E0GMPP.js";import"./YAxis-Cx0CTd6K.js";import"./throttle-Ci4i6U0I.js";import"./debounce-Cbctf6FT.js";import"./generateCategoricalChart-BQB8abrb.js";import"./index-DwhjM_Xa.js";import"./AddressCopyLink-CXikOUHz.js";import"./AddressUnderline-D-OGLlr6.js";import"./useCurrentPos-Bg9_OBWV.js";import"./PositionStatus-BMJM4Hh1.js";import"./RangeValue-qMaWWfA-.js";import"./useXCetusHelper-C-BGnfq1.js";import"./usePreviousValue-B4Ws-I5w.js";import"./msafe-oYBkW7LJ.js";function rn({selectCoinList:s,onClickSelectCoinList:t,onDeleteSelectCoinList:c}){const[r,i]=x.useState(!1),{isApp:n}=le(),a=x.useRef(null);return e.jsxs(Ye,{isLazy:!0,placement:"bottom-start",trigger:"click",modifiers:[{name:"flip",enabled:!1},{name:"shift",enabled:!1}],initialFocusRef:a,children:[e.jsx(Oe,{children:e.jsx(de,{ref:a,as:"button",minW:{base:"calc(100% - 48px)",lg:"292px"},children:e.jsx(D,{cursor:s.length>=2?"not-allowed":"pointer",h:"40px",borderRadius:"12px",minW:"100%",w:"unset",p:"0px 4px 0 10px",onClick:()=>i(!0),children:e.jsxs(j,{w:"100%",justify:"space-between",h:"100%",align:"center",children:[e.jsxs(ms,{align:"center",h:"100%",children:[e.jsx(ne,{xlinkHref:"#icon-icon_search",svgHover:"text_paragraph"}),e.jsx(p,{ml:"4px",children:n&&s.length>=2?"":"Filter by token"})]}),e.jsx(j,{children:s==null?void 0:s.map(o=>e.jsxs(j,{gap:"4px",align:"center",bg:"button_ghost_bg",borderRadius:"8px",p:"5px 8px",children:[e.jsx(me,{imageUrl:o==null?void 0:o.logo_url,w:"20px",h:"20px"}),e.jsx(p,{ml:"2px",color:"text_caption",children:n?ts((o==null?void 0:o.symbol)||"",5):ts((o==null?void 0:o.symbol)||"",10)}),e.jsx(ne,{xlinkHref:"#icon-icon_close",onClick:g=>{re(g),c(o),i(!1)}})]},o==null?void 0:o.coin_type))})]})})})}),r&&(s==null?void 0:s.length)<2&&e.jsx(qe,{w:{base:"calc(100vw - 68px)",lg:"292px"},children:e.jsx(De,{p:"0px",children:e.jsx(Ms,{selectTokenList:s,onDeleteToken:c,onClickToken:t})})})]})}function Ts({handleIsWatchList:s=()=>{},handleIsDisplayChecked:t=()=>{},onClickIncentiveTypes:c,handleRefresh:r,selectCoinList:i,onClickSelectCoinList:n,onDeleteSelectCoinList:a,isPools:o=!0,isRefreshed:g}){const{isWatchList:h,isAllPools:w,isIncentivizedOnly:_}=Ge(),{isApp:v,windowWidth:f}=le();return e.jsxs(j,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsxs(j,{w:{base:"100%",lg:o?"unset":"100%"},justify:"space-between",children:[e.jsx(rn,{selectCoinList:i,onClickSelectCoinList:n,onDeleteSelectCoinList:a}),(v||!o)&&e.jsx(ls,{handleRefresh:r,isRefreshed:o?g:void 0})]}),o&&e.jsxs(j,{w:{base:"100%",lg:"unset"},justify:"space-between",gap:"8px",children:[e.jsx(D,{w:{base:f<=350?"48px":"36%",lg:"unset"},borderRadius:"12px",p:{base:"0px 8px",lg:"0 12px"},h:"40px",onClick:s,children:f<=350?e.jsx(j,{h:"38px",justify:"center",align:"center",children:e.jsx(ne,{xlinkHref:"#icon-icon_star",svgFill:h?"primary":"text_paragraph"})}):e.jsxs(j,{h:"100%",justify:"space-between",gap:{base:"6px",lg:"8px"},children:[e.jsx(Ie,{checked:h,onClick:()=>{}}),e.jsx(p,{color:h?"text_caption":"text_paragraph",children:"Watchlist"})]})}),e.jsxs(j,{w:{base:"100%",lg:"unset"},children:[e.jsx(D,{w:{base:"65%",lg:"unset"},borderRadius:"12px",p:v?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(j,{h:"100%",justify:"space-between",gap:v?"4px":"8px",children:[e.jsx(p,{color:_?"text_caption":"text_paragraph",children:v?"Incentivized":"Incentivized Only"}),e.jsx($e,{isChecked:_,onChange:c})]})}),e.jsx(D,{w:{base:"35%",lg:"unset"},borderRadius:"12px",p:v?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(j,{h:"100%",justify:"space-between",children:[e.jsxs(p,{color:w?"text_caption":"text_paragraph",children:[" ",v?"All":"All pools"]}),e.jsx($e,{isChecked:w,onChange:t})]})})]}),!v&&e.jsx(ls,{handleRefresh:r,isRefreshed:g})]})]})}const cn=()=>e.jsx(j,{w:"18px",h:"18px",onClick:s=>{re(s)},children:e.jsx(Xe,{placement:"top",tooltip:e.jsx(p,{fontSize:"12px",children:"Mining rewards available"}),children:e.jsx(de,{children:e.jsx(Le,{w:"100%",h:"100%",minW:"100%",src:"/images/icon_mining.png"})})})}),xn=()=>{const s=ze(),{isApp:t}=le();return e.jsx(j,{w:"20px",h:"20px",onClick:c=>{re(c),t||s("/vaults")},children:e.jsx(Xe,{placement:"top",tooltip:e.jsx(p,{fontSize:"12px",children:"Vault available"}),children:e.jsx(de,{children:e.jsx(Le,{w:"100%",h:"100%",src:"/images/icon_vaults.png"})})})})},pn=({coinTypeA:s,coinTypeB:t})=>{const{getShowCoinTag:c}=Bs(),{trustedTokenList:r,importTokenList:i}=zs(),n=x.useMemo(()=>(s||t)&&(r==null?void 0:r.length)>0?c(s)||c(t):!1,[s,t,r,i]);return e.jsx(e.Fragment,{children:n&&e.jsx(j,{w:"20px",h:"20px",onClick:a=>{re(a)},children:e.jsx(Xe,{placement:"top",tooltip:e.jsx(p,{lineHeight:"20px",fontSize:"12px",w:"240px",children:"This pool contains tokens that are not on the Frequently Traded List. Please check the Coin Type of these coins before interacting with this pool!"}),children:e.jsx(de,{children:e.jsx(Le,{w:"100%",h:"100%",src:Rs})})})})})};function dn({poolInfo:s}){const{isApp:t}=le(),c=ze(),{addFavorites:r,removeFavorites:i}=ws(),{poolFavoriteIds:n}=Ge(),{goLiquidity:a}=Ss(),o=x.useMemo(()=>n==null?void 0:n.includes((s==null?void 0:s.poolAddress)||""),[JSON.stringify(n),s==null?void 0:s.poolAddress]);return e.jsxs(j,{w:{base:"calc(100vw - 8px)",lg:"unset"},pr:{base:"16px",lg:"unset"},justify:t?"space-between":"flex-end",gap:"8px",children:[e.jsx(L,{w:{base:"calc(100% - 32px)",lg:"unset"},p:"8px",h:"32px",fontSize:{base:"14px",lg:"12px"},borderRadius:"8px",fontWeight:"500",onClick:()=>{a(`/liquidity?poolAddress=${s==null?void 0:s.poolAddress}`,s)},children:"Deposit"}),e.jsxs(Ye,{isLazy:!0,trigger:t?"click":"hover",placement:"bottom-end",autoFocus:!1,returnFocusOnClose:!1,children:[e.jsx(Oe,{children:e.jsx(de,{onClick:g=>{re(g)},children:e.jsx(L,{variant:"ghost",w:"32px",h:"32px",p:"0",borderRadius:"8px",sx:{_hover:{svg:{fill:"primary"}}},children:e.jsx(ne,{svgFill:t?"primary":"text_paragraph",xlinkHref:"#icon-icon_more",svgW:"16px",svgH:"16px"})})})}),e.jsx(es,{children:e.jsx(qe,{borderRadius:"12px",w:"fit-content",children:e.jsx(De,{p:"0",fontSize:"12px",w:"fit-content",children:e.jsxs(b,{align:"flex-start",padding:"8px",children:[e.jsx(Je,{text:"Analytics",xlinkHref:"#icon-icon_kline",onClick:()=>{a(`/liquidity?tab=analytics&poolAddress=${s==null?void 0:s.poolAddress}`,s)}}),e.jsx(Je,{text:"Swap",xlinkHref:"#icon-icon_swap1",onClick:()=>{var g,h;c(`/swap/${(g=s==null?void 0:s.displayTokenA)==null?void 0:g.coin_type}/${(h=s==null?void 0:s.displayTokenB)==null?void 0:h.coin_type}`)}}),e.jsx(Je,{text:"Add to Watchlist",xlinkHref:o?"#icon-icon_star_sel":"#icon-icon_star",svgFill:o?"primary":"text_paragraph",onClick:()=>{o?i(s==null?void 0:s.poolAddress):r(s==null?void 0:s.poolAddress)}})]})})})})]})]})}const Je=({text:s,xlinkHref:t,svgFill:c="text_paragraph",onClick:r})=>e.jsxs(j,{w:"100%",cursor:"pointer",bg:"menu_item_bg",borderRadius:"8px",padding:"11px",_hover:{svg:{fill:"primary"},p:{color:"primary"}},onClick:i=>{re(i),r()},children:[e.jsx(ne,{svgFill:c,xlinkHref:t,svgHover:"primary",svgW:s=="Add to Watchlist"?"22px":"20px",svgH:s=="Add to Watchlist"?"22px":"20px",minW:s=="Add to Watchlist"?"22px":"20px",minH:s=="Add to Watchlist"?"22px":"20px",ml:s=="Add to Watchlist"?"-2px":"0px"}),e.jsx(p,{fontSize:"13px",children:s})]});function gn({miningRewardList:s,farmsRewarderList:t}){const{getTokenInfo:c}=Is(),[r,i]=x.useState([]);return x.useEffect(()=>{(async()=>{if((s==null?void 0:s.length)>0||(t==null?void 0:t.length)>0)try{let a=[],o=[];(s==null?void 0:s.length)>0&&(a=await Promise.all(s.map(async g=>{const h=await c(g==null?void 0:g.coinType);return{...g,tokenInfo:h,isMining:!0}}))),(t==null?void 0:t.length)>0&&(o=await Promise.all(t.map(async g=>{const h=await c(g==null?void 0:g.coinType);return{...g,tokenInfo:h,isFarming:!0}}))),console.log("ðŸš€ ~ list:",a.concat(o),a,o),i(a.concat(o))}catch(a){console.error("Error processing list:",a)}})()},[s,t]),e.jsx(j,{w:"100%",justify:"flex-end",children:r.map(n=>{var a,o,g,h,w;return e.jsx(oe,{onClick:_=>_.stopPropagation(),children:e.jsx(Xe,{placement:"top",tooltip:e.jsxs(j,{gap:"4px",children:[e.jsx(oe,{children:e.jsx(me,{imageUrl:(a=n==null?void 0:n.tokenInfo)==null?void 0:a.logo_url,w:"24px",h:"24px"})}),(n==null?void 0:n.isMining)&&e.jsxs(p,{color:"primary",display:"inline-block",children:[we(os(Fs(n==null?void 0:n.emissionsEveryDay,(o=n==null?void 0:n.tokenInfo)==null?void 0:o.decimals),2))," ",(g=n==null?void 0:n.tokenInfo)==null?void 0:g.symbol," per day in Mining"]}),(n==null?void 0:n.isFarming)&&e.jsxs(p,{color:"primary",display:"inline-block",children:[we(os(n==null?void 0:n.emissionsEveryDay,2))," ",(h=n==null?void 0:n.tokenInfo)==null?void 0:h.symbol," per day in Farming"]})]}),children:e.jsx(de,{as:"button",children:e.jsx(me,{imageUrl:(w=n==null?void 0:n.tokenInfo)==null?void 0:w.logo_url,w:"24px",h:"24px"})})})},n==null?void 0:n.coinType)})})}function hn({isRefreshed:s,handleIsRefreshed:t}){const{getStatistics:c}=vs(),{poolRefreshStatus:r,setPoolRefreshStatus:i,setPoolListLength:n,poolFavoriteIds:a,isWatchList:o,setIsWatchList:g,isIncentivizedOnly:h,setIsIncentivizedOnly:w,isAllPools:_,setIsAllPools:v,poolFavoriteIdsChange:f,setPoolFavoriteIdsChange:W}=Ge(),{getPoolList:P}=Ds(),{getFavoritePoolList:ce}=ws(),{goLiquidity:M}=Ss(),[N,Y]=x.useState(h?["mining","farming"]:["mining","farming","noIncentives"]),X=()=>{w(!h),v(!1),Y(l=>l!=null&&l.includes("noIncentives")?["mining","farming"]:["mining","farming","noIncentives"])},K=()=>{v(!_),g(!1),w(!1),Y(["mining","farming","noIncentives"])},Z=()=>{v(!1),g(!o),W(!1)};x.useEffect(()=>{console.log("ðŸš€ ~ useEffect ~ poolFavoriteIds:",f,a),o&&f&&(W(!1),console.log("ðŸš€ ~ useEffect ~ isWatchList:",o),xe({offset:0,isWatchList:o}))},[o,a==null?void 0:a.length,f]);const S=x.useRef(null),F=()=>{console.log("ðŸš€ ~ handleRefresh ~ handleRefresh:"),t(!1),i("pending"),xe({offset:0,isListLoading:!1}),S.current=setTimeout(()=>{console.log("ðŸš€ ~ timer.current=setTimeout ~ poolRefreshStatus:",r),r=="pending"&&i("timeout")},1e4),c()},[B,k]=x.useState([]),u=l=>{console.log("ðŸš€ ~ onClickSelectCoinList ~ tokenInfo:",l),k(U=>[...U,l])},m=l=>{k(U=>U.filter(ee=>(ee==null?void 0:ee.coin_type)!==(l==null?void 0:l.coin_type)))};x.useEffect(()=>{console.log("ðŸš€ ~ PoolsContent ~ selectCoinList:",o,N,B),typeof o=="boolean"&&xe({offset:0})},[o,N,B]);const y=30,[q,H]=x.useState(!0),[O,E]=x.useState(!0),[J,je]=x.useState("desc"),[V,fe]=x.useState({label:"Volume (24H)",value:"vol"}),[te,ve]=x.useState([]),[Fe,He]=x.useState(0),[Ce,We]=x.useState(1),xe=async l=>{var T,R,ae,be;const U=(l==null?void 0:l.isListLoading)??!0,ee=(l==null?void 0:l.isWatchList)??o;console.log("ðŸš€ ~  ~ params:",l,ee);const Ae=B.length==2?`${(T=B[0])==null?void 0:T.coin_type},${(R=B[1])==null?void 0:R.coin_type}`:B.length==1?`${(ae=B[0])==null?void 0:ae.coin_type}`:"",{is_vaults:ge=!1,display_all_pools:pe=ee?!0:_??!0,has_mining:_e=N.includes("mining"),has_farming:Te=N.includes("farming"),no_incentives:Pe=N.includes("noIncentives"),order_by:he=J=="desc"?`-${V==null?void 0:V.value}`:`${V==null?void 0:V.value}`,limit:Ne=y,offset:ue=0,coin_type:Ee=Ae,pool:Ve=""}=l;ue==0&&We(1),Number(ue)>=y?H(!0):E(U);const ye={is_vaults:ge,display_all_pools:pe,has_mining:_e,has_farming:Te,no_incentives:Pe,order_by:he,limit:Ne,offset:ue,coin_type:Ee,pool:Ve};let $;try{ee?(ye.pools=a,$=await ce(ye)):$=await P(ye),console.log("ðŸš€ ~  ~ result:",$),$&&(console.log("ðŸš€ ~ fetchDatafetchPoolsData ~ result:",$),Number(ue)>=y?ve(se=>se.concat($.list)):ve($.list),He($.total),n(($.total||0).toString()),E(!1),H(!1),i("success"))}catch(se){console.log("ðŸš€ ~  ~ error:",se),se!=null&&se.list&&((be=se==null?void 0:se.list)==null?void 0:be.length)>0&&(i("error"),ve(se.list),He(se.total),n(""),E(!1),H(!1))}},{failedTsToast:Ke}=Hs();x.useEffect(()=>{if(console.log("ðŸš€ ~ PoolsContent ~ poolRefreshStatus:",r),r!=="pending"){const l={linkLabel:"",getShowInfo:()=>({toastTitleText:r=="error"?"Request Error":r=="timeout"?"Please check the network status.":""})};(r=="success"||r=="error")&&clearTimeout(S.current),(r=="error"||r=="timeout")&&Ke(l),t(!0)}},[r]);const ke=l=>{if(console.log("ðŸš€ ~ clickSort ~ item:",l),(l==null?void 0:l.value)==(V==null?void 0:V.value)){xe({offset:0,order_by:J=="desc"?`${l==null?void 0:l.value}`:`-${l==null?void 0:l.value}`});const U=J=="desc"?"asc":"desc";je(U)}else xe({offset:0,order_by:`-${l==null?void 0:l.value}`}),je("desc"),fe(l)},d=[{label:"Liquidity",value:"tvl"},{label:"Volume (24H)",value:"vol"},{label:"Fees (24H)",value:"fees"},{label:"APR",value:"totalApr"}],C=d.reduce((l,U)=>(l[U.value]=U,l),{}),A=()=>{const l=Ce*y;xe({offset:l}),We(U=>U+1)},{isApp:z}=le();ze();const I=x.useMemo(()=>{const l=(Ce-1)*y+(te==null?void 0:te.length);return r!=="error"&&Number(Fe)>l},[Fe,Ce,y]);return x.useEffect(()=>(c(),S.current&&(clearTimeout(S.current),S.current=null),()=>{n(""),S.current&&(clearTimeout(S.current),S.current=null)}),[]),e.jsxs(b,{gap:"20px",w:"100%",background:"bg_primary",children:[e.jsx(Ts,{handleIsDisplayChecked:K,handleIsWatchList:Z,onClickIncentiveTypes:X,handleRefresh:F,selectCoinList:B,onClickSelectCoinList:u,onDeleteSelectCoinList:m,isRefreshed:s}),e.jsx(oe,{h:"1px",w:"100%",bg:"border"}),e.jsxs(b,{w:"100%",position:"relative",gap:"20px",children:[!O&&(te==null?void 0:te.length)==0?e.jsx(Se,{type:"nodata",text:"No pools found",children:e.jsx(p,{mt:"4px",textAlign:"center",children:"Try adjusting your search or filter settings."})}):z?e.jsxs(b,{w:"100%",gap:"4px",children:[e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsx(p,{fontSize:"24px",color:"text_caption",children:"Pools"}),e.jsx(Gs,{sortText:"Sort by",minW:"220px",currentSort:V,sortByList:d,onSortByChange:ke})]}),e.jsx(Ls,{rowKey:"poolAddress",dataSource:te,columns:rs(J,V,ke,C,z),loading:O,itemSkeletonLength:7,itemHeight:"30px",rowStyle:(l,U)=>({w:"100%",p:"0px",mt:"0px"}),onRowClick:l=>{M(`/liquidity?poolAddress=${l.poolAddress}`,l)}})]}):e.jsx(Qs,{rowKey:"poolAddress",columns:rs(J,V,ke,C,z),dataSource:te,skeletonLength:10,loading:O,onRowClick:l=>{M(`/liquidity?poolAddress=${l.poolAddress}`,l)},rowStyle:{h:"80px",cursor:"pointer"}}),!O&&I&&e.jsx(L,{w:"120px",h:"32px",fontSize:"12px",borderRadius:"8px",bg:"button_ghost_bg",color:"primary",borderColor:"border",variant:"outline",onClick:A,children:q?e.jsx(Ws,{size:"sm",color:"text_caption"}):"Load More"})]})]})}const rs=(s,t,c,r,i)=>[{title:e.jsx(p,{fontSize:"14px",children:"Pools"}),key:"pool",thConfig:{w:"30%"},showLabel:!1,render:n=>{var a,o;return e.jsxs(j,{children:[e.jsx(Ks,{poolInfo:n,symbolEllipsesDecimals:10}),(n==null?void 0:n.haveFarming)&&e.jsx(Zs,{}),(n==null?void 0:n.haveMining)&&e.jsx(cn,{}),(n==null?void 0:n.isVaults)&&e.jsx(xn,{}),e.jsx(pn,{coinTypeA:(a=n==null?void 0:n.tokenA)==null?void 0:a.coin_type,coinTypeB:(o=n==null?void 0:n.tokenB)==null?void 0:o.coin_type})]})}},{title:e.jsx(Ue,{labelInfo:r.tvl,sortRule:s,sortBy:t,clickSort:n=>c(n)}),key:"tvlDisplay"},{title:e.jsx(Ue,{labelInfo:r.vol,sortRule:s,sortBy:t,clickSort:n=>c(n)}),key:"volume24Display"},{title:e.jsx(Ue,{labelInfo:r.fees,sortRule:s,sortBy:t,clickSort:n=>c(n)}),key:"fees24Display"},{title:e.jsx(p,{textAlign:"right",children:"Rewards"}),key:"rewards",hidden:({miningRewardList:n,farmsRewarderList:a})=>n&&(n==null?void 0:n.length)<=0&&a&&(a==null?void 0:a.length)<=0,render:({miningRewardList:n,farmsRewarderList:a})=>e.jsx(gn,{miningRewardList:n,farmsRewarderList:a})},{title:e.jsx(Ue,{labelInfo:r.totalApr,sortRule:s,sortBy:t,tooltip:{type:"apr24"},clickSort:n=>c(n),justifyContent:"flex-end"}),key:"apr24h",render:n=>e.jsx(Xs,{poolInfo:n,placement:i?"auto-start":"top"})},{title:e.jsx(p,{textAlign:"right",children:"Actions"}),showLabel:!1,key:"actions",render:n=>e.jsx(dn,{poolInfo:n})}],un="data:image/png;base64,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",jn="/assets/pool_bg-DIChGQZi.png",fn=({posInfo:s})=>{var r,i,n,a;const[t,c]=x.useState(!1);return e.jsx(oe,{p:"12px 0",onClick:o=>re(o),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:e.jsxs(Ye,{isLazy:!0,isOpen:t,children:[e.jsx(Oe,{children:e.jsx(de,{as:"button",cursor:Number(s==null?void 0:s.totalRewardUsd)==0?"text":"help",children:e.jsx(p,{color:"primary",fontSize:"14px",textDecoration:Number(s==null?void 0:s.totalRewardUsd)==0?"none":"underline dotted",textUnderlineOffset:"3px",children:G(s==null?void 0:s.totalRewardUsd,2)})})}),t&&Number(s==null?void 0:s.totalRewardUsd)!==0&&e.jsx(es,{children:e.jsx(qe,{zIndex:"2",w:"fit-content",children:e.jsx(De,{children:e.jsxs(b,{align:"flex-start",minW:"300px",children:[((r=s==null?void 0:s.pendingFeesList)==null?void 0:r.length)>0&&e.jsxs(b,{align:"flex-start",minW:"100%",children:[e.jsxs(j,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"12px",p:"16px",children:[e.jsx(p,{fontSize:"12px",children:"Fees"}),e.jsxs(p,{color:"primary",children:[" ",G(s==null?void 0:s.feeOwedUsd,2)]})]}),(i=s==null?void 0:s.pendingFeesList)==null?void 0:i.map(o=>(console.log("ðŸš€ ~ {posInfo?.pendingFeesList?.map ~ item:",o),e.jsxs(j,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(Me,{token:o.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(b,{align:"flex-end",gap:"4px",children:[e.jsx(p,{fontSize:"12px",color:"text_caption",children:we(o==null?void 0:o.amount,6)}),e.jsx(p,{fontSize:"12px",children:G(o==null?void 0:o.amountUSD,2)})]})]},o==null?void 0:o.coin_address)))]}),((n=s==null?void 0:s.pendingRewarderList)==null?void 0:n.length)>0&&e.jsxs(b,{align:"flex-start",minW:"100%",children:[e.jsxs(j,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"6px",p:"16px",children:[e.jsx(p,{fontSize:"12px",children:"Mining rewards"}),e.jsxs(p,{color:"primary",children:[" ",G(s==null?void 0:s.rewarderUsd,2)]})]}),(a=s==null?void 0:s.pendingRewarderList)==null?void 0:a.map(o=>e.jsxs(j,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(Me,{token:o.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(b,{align:"flex-end",gap:"4px",children:[e.jsx(p,{fontSize:"12px",color:"text_caption",children:we(o==null?void 0:o.amount,6)}),e.jsx(p,{fontSize:"12px",children:G(o==null?void 0:o.amountUSD,2)})]})]},o==null?void 0:o.coin_address))]})]})})})})]})})};function ns({posInfo:s,onClickCheckBox:t,checked:c,pageFrom:r,cursor:i="pointer"}){var w;const{getClmmPosName:n}=Us(),{posPoolsOriginalData:a}=ie(),o=x.useMemo(()=>{var _;if(s!=null&&s.tokenName)return s==null?void 0:s.tokenName;{const v=(_=a==null?void 0:a[s==null?void 0:s.clmmPool])==null?void 0:_.index;return n(s==null?void 0:s.index,v)}},[s==null?void 0:s.tokenName,s==null?void 0:s.index,s==null?void 0:s.clmmPool,a]),{posPoolsRelatedData:g}=ie(),h=((w=g[s==null?void 0:s.posId])==null?void 0:w.displayFee)+"%";return e.jsxs(D,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsxs(j,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:[e.jsxs(b,{w:"100%",align:"flex-start",gap:"16px",children:[e.jsx(Cs,{poolInfo:{...s,feeDisplay:h},symbolEllipsesDecimals:10}),e.jsx(p,{fontSize:"12px",color:"primary_gray",children:o})]}),t&&e.jsx(Ie,{cursor:i,checked:c||!1,onClick:()=>t(s)})]}),r=="pendingYieldModal"?e.jsxs(j,{p:"0px 16px",w:"100%",justify:"space-between",gap:"4px",align:"flex-start",children:[e.jsx(p,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending yield"}),e.jsx(fn,{posInfo:s})]}):e.jsxs(j,{justify:"space-between",p:"0 16px",children:[e.jsx(p,{color:"primary_gray",children:"Liquidity"}),e.jsx(sn,{positionInfo:s,color:"primary",fontSize:"14px",haveTooltip:r!="lpBurnNext"})]})]})}function yn({onClose:s,currentLockItem:t}){var Y,X,K,Z,S,F,B,k;const{currentAccount:c}=Re(),{signAndExecuteTransaction:r}=As(),{getBurnTxPayload:i}=en(),{getPositionBaseList:n}=ss(),{posLiquidityData:a}=ie(),[o,g]=x.useState(!1),[h,w]=x.useState(""),[_,v]=x.useState(!1),f=u=>{const y=u.target.value.replace(/[^a-zA-Z0-9\s]+/g,"");w(y),console.log("ðŸš€ ~ inputChange ~ e:",u.target.value,u.target.value.toLowerCase()),u.target.value.toLowerCase()=="lock my liquidity forever"?v(!0):v(!1)},{getTokenAmountValue:W}=Qe(),P=a[t==null?void 0:t.posId],ce=W((Y=t==null?void 0:t.displayTokenA)==null?void 0:Y.coin_type,P==null?void 0:P.displayCoinAmountA,"--"),M=W((X=t==null?void 0:t.displayTokenB)==null?void 0:X.coin_type,P==null?void 0:P.displayCoinAmountB,"--"),N=async()=>{console.log("ðŸš€ ~ currentLockItem:",t),g(!0);try{const u=i(t);console.log("ðŸš€ ~ toBurn ~ tx:",u);const m=await r(u,{getShowInfo:y=>{var H,O;const q={modalDescriptionText:`${(H=t==null?void 0:t.displayTokenA)==null?void 0:H.symbol} - ${(O=t==null?void 0:t.displayTokenB)==null?void 0:O.symbol} Position Locked`,toastTitleText:"LP Locked"};return console.log("ðŸš€ ~ toBurn ~ status:",y),q}});console.log("ðŸš€ ~ toBurn ~ res:",m),m&&(await n(c==null?void 0:c.address),s()),g(!1)}catch(u){g(!1),console.log("ðŸš€ ~ claimYieldAction ~ error:",u)}};return e.jsxs(b,{w:"100%",gap:"12px",children:[e.jsxs(b,{w:"100%",align:"flex-start",gap:"20px",children:[e.jsx(p,{w:"100%",color:"text_caption",fontSize:"16px",textAlign:"center",fontWeight:"500",children:"Lock Liquidity Permanently?"}),e.jsx(p,{color:"text_caption",textAlign:"left",lineHeight:"20px",children:"Are you sure you want to permanently lock/burn liquidity? You will be unable to access or withdraw underlying position assets, only trading fees and mining rewards earned will remain claimable."})]}),e.jsxs(b,{w:"100%",children:[e.jsx(ns,{posInfo:t,pageFrom:"lpBurnNext"}),e.jsx(D,{w:"100%",borderRadius:"0 0 8px 8px",p:"16px 12px 12px",mt:"-20px",borderTop:"none",bg:"bg_primary",children:e.jsx(D,{p:"16px 12px",borderRadius:"12px",children:e.jsxs(b,{gap:"16px",children:[e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsxs(j,{children:[e.jsx(me,{imageUrl:(K=t==null?void 0:t.displayTokenA)==null?void 0:K.logo_url,w:"20px",h:"20px",coinType:(Z=t==null?void 0:t.displayTokenA)==null?void 0:Z.coin_type,showTagHeight:"10px",showTagWidth:"10px"}),e.jsxs(p,{color:"text_caption",children:[P==null?void 0:P.displayCoinAmountA," ",(S=t==null?void 0:t.displayTokenA)==null?void 0:S.symbol]})]}),e.jsx(p,{color:"text_caption",children:G(ce,2)})]}),e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsxs(j,{children:[e.jsx(me,{imageUrl:(F=t==null?void 0:t.displayTokenB)==null?void 0:F.logo_url,w:"20px",h:"20px",coinType:(B=t==null?void 0:t.displayTokenB)==null?void 0:B.coin_type,showTagHeight:"10px",showTagWidth:"10px"}),e.jsxs(p,{color:"text_caption",children:[P==null?void 0:P.displayCoinAmountB," ",(k=t==null?void 0:t.displayTokenB)==null?void 0:k.symbol]})]}),e.jsx(p,{color:"text_caption",children:G(M,2)})]})]})})})]}),e.jsxs(j,{gap:"12px",bg:"primary_yellow_opacity.10",p:"16px 12px",borderRadius:"12px",children:[e.jsx(ne,{xlinkHref:"#icon-icon_priceupdated",variant:"warning"}),e.jsx(p,{color:"primary_yellow",lineHeight:"20px",textAlign:"left",fontSize:"12px",children:"By confirming below, l agree to permanently lock liquidity. l understand access to the underlying assets will be lost forever."})]}),e.jsxs(D,{borderRadius:"12px",p:"16px",bg:"bg_four",children:[e.jsx(p,{color:"primary_gray",textAlign:"center",children:"To confirm, type the following:"}),e.jsx(p,{color:"text_caption",textAlign:"center",fontWeight:"900",mt:"12px",children:"Lock my liquidity forever"}),e.jsx(D,{borderRadius:"16px",w:"100%",h:"56px",p:"0",lineHeight:"52px",mt:"12px",children:e.jsx(xs,{placeholder:"Type confirmation text here",fontWeight:"500",textAlign:"center",fontSize:"14px",p:"0px",value:h,onChange:f})})]}),e.jsxs(b,{w:"100%",gap:"8px",pb:"16px",children:[e.jsx(L,{isLoading:o,w:"100%",mt:"8px",h:"52px",fontWeight:"500",disabled:!_||o,onClick:N,children:"Confirm"}),e.jsx(L,{fontWeight:"500",variant:"outline",w:"100%",p:"20px",onClick:s,cursor:"pointer",h:"52px",children:"Cancel"})]})]})}function bn({onClose:s,onClickLock:t,currentLockItem:c,onClickCheckBox:r}){const{currentAccount:i,onWalletModal:n}=Re(),{fullRangePosBaseList:a,fullRangePosBaseListLoading:o}=ie();return e.jsxs(b,{w:"100%",gap:"20px",children:[e.jsxs(b,{w:"100%",align:"flex-start",gap:"20px",children:[e.jsx(p,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Token teams can permanently lock liquidity. The NFT representing your position is sent to a locked token account. Trading fees and mining rewards earned will still be claimable."}),e.jsx(p,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"To start, select a liquidity position below to lock. Ensure that position value and NFT mint match the position you want to lock!"}),e.jsx(p,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Note: Technically, your NFT is not burned but permanently locked."})]}),e.jsx(b,{w:"100%",gap:"16px",maxH:"320px",overflow:"auto",children:i!=null&&i.address?o?[{},{}].map((g,h)=>e.jsx(Ps,{},h)):(a==null?void 0:a.length)>0?a==null?void 0:a.map(g=>e.jsx(ns,{posInfo:g,checked:(g==null?void 0:g.posId)==(c==null?void 0:c.posId),onClickCheckBox:h=>r(h),pageFrom:"lpBurnPrev"},g==null?void 0:g.posId)):e.jsxs(D,{pb:"30px",borderRadius:"12px",bg:"none",border:"none",pt:"0",children:[e.jsx(Se,{h:"240px",type:"nodata",pb:"0px",text:"No Available Liquidity",bg:"none",noBorder:!0}),e.jsx(p,{color:"primary_gray",children:"Burn/Lock Liquidity only available for Full-range position"})]}):e.jsx(Se,{type:"nowallet",onboard:()=>n(!0),bg:"none",border:"none"})}),e.jsxs(b,{gap:"8px",w:"100%",p:"20px 0",mt:"-20px",children:[e.jsx(L,{disabled:Object.values(c).length<=0,w:"100%",h:"52px",fontWeight:"500",onClick:t,children:"Lock Liquidity"}),e.jsx(L,{w:"100%",p:"20px",variant:"outline",onClick:s,cursor:"pointer",h:"52px",children:"Cancel"})]})]})}const Ps=()=>e.jsxs(D,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsx(j,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:e.jsxs(j,{gap:"0",children:[e.jsx(is,{size:"9"}),e.jsx(is,{size:"9"}),e.jsx(b,{gap:"4px",ml:"4px",align:"flex-start",children:e.jsx(Be,{height:"4",width:"100px"})})]})}),e.jsx(oe,{w:"100%",p:"16px",children:e.jsx(Be,{height:"5",width:"250px"})})]});function wn({isOpen:s,onClose:t}){const[c,r]=x.useState(!1),[i,n]=x.useState({});x.useEffect(()=>{n({}),r(!1)},[s]);const a=g=>{(g==null?void 0:g.posId)==(i==null?void 0:i.posId)?n({}):n(g)},{isApp:o}=le();return e.jsxs(ps,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:t,isCentered:!0,children:[e.jsx(ds,{}),e.jsxs(gs,{minWidth:o?"300px":"482px",children:[e.jsx(hs,{children:e.jsx(us,{fontWeight:"500",fontSize:"16px",children:"Burn/Lock Liquidity"})}),e.jsx(js,{}),e.jsxs(fs,{p:"16px 16px 0",textAlign:"center",children:[!c&&e.jsx(bn,{onClose:t,currentLockItem:i,onClickCheckBox:g=>a(g),onClickLock:()=>r(!0)}),c&&e.jsx(yn,{onClose:t,currentLockItem:i})]})]})]})}function Sn({isRefreshed:s}){const{tab:t}=ks(),c=ze(),[r,i]=x.useState(!1),{statisticsData:n}=Ys(),{poolListLength:a}=Ge(),{showPosListLength:o}=ie(),g=x.useMemo(()=>(console.log("ðŸš€ ~ PoolsTopData ~ poolListLength:",a),[{label:"Pools",value:"pools",num:a,imgInfo:{src:Os,w:"22px",h:"22px"}},{label:"Positions",value:"positions",num:o,imgInfo:{src:un,w:"22px",h:"22px"}}]),[a,o]),{isApp:h}=le(),[w,_]=x.useState(!1);return e.jsxs(b,{w:"100%",children:[e.jsxs(j,{w:"100%",gap:{base:"12px",lg:"32px"},flexDirection:{base:"column",lg:"row"},children:[e.jsxs(b,{w:{base:"100%",lg:"395px"},justify:"space-between",align:"flex-start",gap:{base:"12px",lg:"40px"},children:[e.jsx(p,{fontSize:"24px",fontWeight:"500",color:"text_caption",children:"Liquidity Pools"}),e.jsxs(b,{gap:"68px",p:"32px 40px",align:{base:"center",lg:"flex-start"},borderRadius:"16px",bgImage:jn,bgPosition:"center",w:"100%",h:"240px",backgroundSize:"100% 100%",children:[e.jsx(as,{wrapStyle:{alignItems:h?"center":"flex-start",gap:"12px"},titleStyle:{fontSize:"16px"},valueStyle:{fontSize:"20px",fontWeight:"600"},title:"Total Value Locked",value:(n==null?void 0:n.totalValueLocked)||"",isLoading:!n}),e.jsx(as,{wrapStyle:{alignItems:h?"center":"flex-start",gap:"12px"},titleStyle:{fontSize:"16px"},valueStyle:{fontSize:"20px",fontWeight:"600"},title:"Cumulative Volume",value:(n==null?void 0:n.cumulativeVolume)||"",isLoading:!n})]})]}),e.jsx(oe,{h:"100%",mb:"-4px",w:{base:"100%",lg:"calc(100% - 395px - 32px)"},children:e.jsx(qs,{statisticsData:n,pageFrom:"pools",isRefresh:!s})})]}),e.jsxs(j,{w:"100%",mt:"32px",justify:"space-between",flexDirection:{base:"column-reverse",lg:"row"},children:[e.jsx(Ns,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"395px"},h:"60px"},itemStyle:{w:"50%",fontSize:"16px"},tabList:g,currentTab:t=="positions"?"Positions":"Pools",handleChangeTab:v=>{v.value=="positions"?c("/pools?tab=positions"):c("/pools?tab=pools")}}),e.jsxs(j,{w:{base:"100%",lg:"unset"},children:[t=="positions"?e.jsx(Es,{isOpen:w,label:e.jsx(p,{fontSize:"12px",lineHeight:"20px",children:"Permanently burn/lock liquidity for an existing position. Trading fees and mining rewards earned remain claimable."}),"aria-label":"Yield",placement:"top",children:e.jsx(L,{w:{base:"50%",lg:"168px"},fontWeight:"500",variant:"outline",as:"div",borderRadius:"8px",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),onClick:()=>{_(!1),i(!0)},children:"LP Burn"})}):e.jsx(L,{borderRadius:"8px",w:{base:"50%",lg:"168px"},fontWeight:"500",variant:"outline",onClick:()=>c("/create-pool"),children:"Create a new pool"}),e.jsx(L,{borderRadius:"8px",fontWeight:"500",w:{base:"50%",lg:"168px"},onClick:()=>c("/select-pool"),children:"Add Liquidity"})]})]}),e.jsx(wn,{isOpen:r,onClose:()=>i(!1)})]})}const vn="/assets/tvl_bg-D80TUrdU.png",Cn="/assets/yield_bg-CcCC1tTK.png";function kn({isOpen:s,claimLoading:t,onClose:c,changeClaimLoading:r}){const[i,n]=x.useState(!1),{coinPriceObj:a}=ys(),{getPosRelatedData:o,getPositionBaseList:g}=ss(),{signAndExecuteTransaction:h}=As(),{currentAccount:w}=Re(),{getBatchHarvestFeeAndRewardsTxPayload:_}=on(),{getTokenAmountValue:v}=Qe(),[f,W]=x.useState([]),[P,ce]=x.useState(!0),[M,N]=x.useState(!0),[Y,X]=x.useState(.01),[K,Z]=x.useState([]),[S,F]=x.useState([]),[B,k]=x.useState(""),[u,m]=x.useState(""),[y,q]=x.useState([]),{myPosYieldValue:H,posBaseList:O,posBaseListLoading:E,posFeeDataLoading:J,posRewardsDataLoading:je,posFeeData:V,posRewardsData:fe}=ie(),te=d=>{const C=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,4})?).*$");d.target.value=d.target.value.replace(C,"$1"),X(d.target.value)},ve=()=>{(!Y||Y<.01)&&X(.01)},Fe=E||J||je;x.useEffect(()=>{const d=[];let C="0";const A=[];if((O==null?void 0:O.length)>0&&!E&&!J&&!je){O.forEach((l,U)=>{var Ne,ue,Ee,Ve,ye,$;let ee="0",Ae="0",ge="0",pe="0";const _e=[],Te=[];if(((Ne=Object.values(V))==null?void 0:Ne.length)>0){const T=V[l==null?void 0:l.posId],R=v((ue=l==null?void 0:l.displayTokenA)==null?void 0:ue.coin_type,T==null?void 0:T.displayFeeOwedA,"--"),ae=v((Ee=l==null?void 0:l.displayTokenB)==null?void 0:Ee.coin_type,T==null?void 0:T.displayFeeOwedB,"--");ee=Q(ee).plus((T==null?void 0:T.displayFeeOwedA)||0).plus((T==null?void 0:T.displayFeeOwedB)||0).toString(),R!=="--"&&ae!=="--"&&(ge=Q(R).plus(ae).toString()),Te.push({coin_address:Ze((Ve=l==null?void 0:l.displayTokenA)==null?void 0:Ve.coin_type,!1),amount:T==null?void 0:T.displayFeeOwedA,amountUSD:R,token:l==null?void 0:l.displayTokenA},{coin_address:Ze((ye=l==null?void 0:l.displayTokenB)==null?void 0:ye.coin_type,!1),amount:T==null?void 0:T.displayFeeOwedB,amountUSD:ae,token:l==null?void 0:l.displayTokenB})}if((($=Object.values(fe))==null?void 0:$.length)>0){const T=fe[l==null?void 0:l.posId];(T==null?void 0:T.length)>0&&T.forEach(R=>{var ae;if(console.log("ðŸš€ ~ currentPosRewardsData.forEach ~ reward:",R),Ae=Q(Ae).plus(R.display_amount_owed||0).toString(),Number(R==null?void 0:R.display_amount_owed)>0){const be=v(R==null?void 0:R.token.coin_type,R.display_amount_owed);be!=="--"&&(pe=Q(pe).plus(be).toString()),_e.push({coin_address:Ze((ae=R==null?void 0:R.token)==null?void 0:ae.coin_type,!1),amount:R.display_amount_owed,amountUSD:be,token:R==null?void 0:R.token})}})}const Pe=Q(pe).plus(ge).toString(),he=(Q(ee).gt(0)||Q(Ae).gt(0))&&Number(Pe)==0?"--":Pe;console.log("ðŸš€ ~ posBaseList.forEach ~ totalRewardUsd:",Pe,he),C=Q(C).plus(pe).plus(ge).toString(),Number(he)!==0&&A.push(l),M&&Number(he)>Number(Y)&&d.push({...l,totalRewardUsd:he,pendingRewarderList:_e,pendingFeesList:Te,rewarderUsd:pe,feeOwedUsd:ge}),M||d.push({...l,totalRewardUsd:he,pendingRewarderList:_e,pendingFeesList:Te,rewarderUsd:pe,feeOwedUsd:ge})}),Z(A);const z=d.filter(l=>Number(l.totalRewardUsd)!==0);F(z),console.log("ðŸš€ ~ constshowListposBaseList:any=useMemo ~ selectList:",z,S),M?(z==null?void 0:z.length)!==d.length?k(""):k("all"):(z==null?void 0:z.length)!==A.length?k(""):k("all");const I=d.sort((l,U)=>U.totalRewardUsd-l.totalRewardUsd);W(I),ce(!1)}},[Y,O,M,E,J,je,a]);const{calculatePendingYield:He}=_s();x.useEffect(()=>{if(console.log("ðŸš€ ~ useEffect ~ selectList: ~ clickSelectAll ~ updatedList:",S),(S==null?void 0:S.length)>0){const{total:d,rewardAndFeeList:C}=He(S,V,fe);console.log("ðŸš€ ~ useEffect ~ total:",S,d,C),m(d),q(C)}else m(""),q([])},[S==null?void 0:S.length,V,fe]);const Ce=d=>{if(console.log("ðŸš€ ~ selectItem ~ item:",d),Number(d==null?void 0:d.totalRewardUsd)<=0)return;const C=S,A=(C==null?void 0:C.filter(z=>(z==null?void 0:z.posId)!==(d==null?void 0:d.posId)))||[];C!=null&&C.some(z=>(z==null?void 0:z.posId)===(d==null?void 0:d.posId))||A.push(d),console.log("ðŸš€ ~ selectItem ~ updatedList:",A),F(A),M?(A==null?void 0:A.length)!==(f==null?void 0:f.length)?k(""):k("all"):(A==null?void 0:A.length)!==(K==null?void 0:K.length)?k(""):k("all")};x.useEffect(()=>{X(.01),n(!1),N(!0)},[s]);const We=()=>{if(B=="all")k(""),F([]);else{k("all");const d=S,C=Object.fromEntries(S.map(A=>[A==null?void 0:A.posId,A]));f.forEach(A=>{!C[A==null?void 0:A.posId]&&Number(A.totalRewardUsd)!==0&&d.push(A)}),console.log("ðŸš€ ~ clickSelectAll ~ updatedList:",C,d),F(d)}},{fetchAccountBalance:xe}=an(),Ke=async()=>{r(!0);try{const d=Object.fromEntries(S.map(I=>[I==null?void 0:I.posId,I==null?void 0:I.pendingRewarderList])),{tx:C,txb:A}=await _(S,d,w==null?void 0:w.address);console.log("ðŸš€ ~ toClaimYield ~ tx:",C);const z=await h(A,{getShowInfo:()=>({modalDescriptionText:"Claim Yield",toastTitleText:"Claim"})});console.log("ðŸš€ ~ toClaimYield ~ res:",z),z&&(xe(),await g(w==null?void 0:w.address)),r(!1)}catch(d){r(!1),console.log("ðŸš€ ~ toClaimYield ~ error:",d)}finally{c()}},{isApp:ke}=le();return e.jsxs(ps,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:c,isCentered:!0,children:[e.jsx(ds,{}),e.jsxs(gs,{minWidth:ke?"300px":"446px",children:[e.jsx(hs,{children:e.jsx(us,{fontWeight:"500",fontSize:"16px",children:i?"Claim Yield":"Details"})}),e.jsx(js,{}),e.jsx(fs,{p:"16px 0px 0",textAlign:"center",children:e.jsxs(oe,{children:[e.jsxs(b,{w:"100%",children:[e.jsx(oe,{w:"100%",p:"0 16px",children:e.jsx(b,{justify:"center",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",children:e.jsx(Be,{isLoaded:!Fe,children:e.jsxs(b,{gap:"4px",align:"center",children:[e.jsx(p,{color:"primary_gray",children:i?"Total Claim":"Pending Yield"}),e.jsx(p,{color:"primary",fontSize:"20px",fontWeight:"500",children:G(i?u:H,2)})]})})})}),!i&&e.jsxs(j,{w:"100%",p:"0 16px",justify:"space-between",mt:"12px",children:[e.jsx(p,{color:"text_caption",children:"Position"}),e.jsxs(j,{w:"calc(100% - 50px)",justify:"flex-end",children:[e.jsx($e,{isChecked:M,onChange:()=>N(!M)}),e.jsx(p,{color:"text_caption",fontSize:"12px",children:"Hide yield <"}),e.jsx(D,{borderRadius:"8px",w:"72px",h:"24px",p:"0",lineHeight:"20px",children:e.jsx(xs,{textAlign:"center",fontSize:"12px",p:"0px 12px",value:`$${Y}`,onChange:te,onBlur:ve})})]})]}),e.jsx(b,{w:"100%",p:"0 16px 16px",maxH:"370px",overflow:"auto",pr:(f==null?void 0:f.length)>2?"16px":"20px",mr:"-4px",children:i?y==null?void 0:y.map(d=>(console.log("ðŸš€ ~ :[yieldList]?.map ~ item:",d),e.jsx(D,{w:"100%",p:"16px",borderRadius:"12px",sx:{_first:{mt:"12px"}},children:e.jsxs(j,{w:"100%",justify:"space-between",children:[e.jsx(Me,{token:d==null?void 0:d.token,imgBoxStyle:{w:"32px",h:"32px"},haveName:!1,symbolFontSize:"14px",warningIcon:{iconW:"16px",iconH:"16px"}}),e.jsxs(b,{align:"flex-end",gap:"4px",children:[e.jsx(p,{color:"text_caption",children:we(d==null?void 0:d.amount,6)}),e.jsxs(p,{children:["(",G(d==null?void 0:d.amountUSD,2),")"]})]})]})},d==null?void 0:d.coin_address))):(f==null?void 0:f.length)>0?f==null?void 0:f.map(d=>e.jsx(ns,{posInfo:d,onClickCheckBox:C=>Ce(C),pageFrom:"pendingYieldModal",cursor:Number(d==null?void 0:d.totalRewardUsd)<=0?"not-allowed":"pointer",checked:S.some(C=>(C==null?void 0:C.posId)===(d==null?void 0:d.posId))},d==null?void 0:d.posId)):P?[{},{}].map((d,C)=>e.jsx(Ps,{},C)):e.jsx(Se,{type:"nodata"})}),i?e.jsx(j,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",justify:"center",mt:"-8px",children:e.jsx(D,{cursor:"pointer",w:"168px",h:"36px",lineHeight:"34px",mt:"12px",p:"0",borderRadius:"8px",onClick:()=>n(!1),sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:e.jsxs(j,{justify:"center",gap:"4px",children:[e.jsx(ne,{xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),e.jsx(p,{children:"Back"})]})})}):e.jsx(oe,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",mt:"-8px",children:e.jsxs(j,{justify:"space-between",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",p:"20px 16px",children:[e.jsxs(b,{gap:"4px",align:"flex-start",children:[e.jsx(p,{color:"primary_gray",children:"Amount selected"}),e.jsx(p,{color:"primary",fontSize:"18px",fontWeight:"500",children:G(u,2)})]}),e.jsxs(j,{children:[e.jsx(p,{color:"text_caption",children:"Select All"}),e.jsx(Ie,{checked:B=="all",onClick:We})]})]})})]}),i?e.jsx(L,{isLoading:t,disabled:(y==null?void 0:y.length)==0||t,w:"100%",h:"52px",fontWeight:"500",onClick:Ke,children:"Confirm"}):e.jsx(L,{disabled:Number(u)<=0,w:"100%",h:"52px",fontWeight:"500",onClick:()=>n(!0),children:"Claim Yield"})]})})]})]})}const cs=({yieldList:s})=>{const[t,c]=x.useState(!1),{myPosYieldValue:r}=ie(),{isApp:i}=le();return e.jsx(b,{gap:"4px",p:{base:"0",lg:"12px 0"},align:"flex-start",onClick:i?()=>c(!t):()=>c(!1),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:e.jsxs(Ye,{isLazy:!0,isOpen:t,placement:"bottom-end",children:[e.jsx(Oe,{children:e.jsx(de,{as:"button",children:e.jsx(p,{cursor:Number(r)<=0?"text":"help",fontSize:"20px",color:"primary_green",textDecoration:Number(r)<=0?"none":"underline dotted",textUnderlineOffset:"2px",children:G(r,2)})})}),t&&Number(r)>0&&(s==null?void 0:s.length)>0&&e.jsx(es,{children:e.jsx(qe,{zIndex:"2",w:"fit-content",maxH:"200px",overflow:"auto",p:"4px 0",children:e.jsx(De,{p:"0px",children:e.jsx(b,{w:"100%",align:"flex-start",bg:"bg_secondary",gap:"0px",children:s==null?void 0:s.map(n=>{var a;return console.log("ðŸš€ ~ {yieldList?.map ~ item:",n),e.jsxs(j,{w:"100%",p:"10px 12px",minW:"300px",justify:"space-between",children:[e.jsx(Me,{token:n==null?void 0:n.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(j,{gap:"4px",children:[e.jsx(p,{fontSize:"12px",color:"text_caption",children:we(n==null?void 0:n.amount,6)}),e.jsxs(p,{fontSize:"12px",children:["(",G(n==null?void 0:n.amountUSD,2),")"]})]})]},(a=n==null?void 0:n.token)==null?void 0:a.coin_type)})})})})})]})})};function An(){const{currentAccount:s}=Re(),[t,c]=x.useState(!1),[r,i]=x.useState(!1),[n,a]=x.useState([]),{getTokenAmountValue:o}=Qe(),{coinPriceObj:g}=ys(),{myPosYieldValue:h,setMyPosYieldValue:w,posFeeDataLoading:_,posRewardsDataLoading:v,posBaseList:f,posLiquidityData:W,posBaseListLoading:P,posLiquidityDataLoading:ce,posFeeData:M,posRewardsData:N}=ie(),Y=x.useMemo(()=>{let F=0,B=0;return(f==null?void 0:f.length)>0&&(s!=null&&s.address)?(f.forEach(k=>{var q,H;const u=W[k==null?void 0:k.posId];console.log("ðŸš€ ~ posBaseList.forEach ~ currentPosData:",u);const m=o((q=k==null?void 0:k.displayTokenA)==null?void 0:q.coin_type,u==null?void 0:u.displayCoinAmountA),y=o((H=k==null?void 0:k.displayTokenB)==null?void 0:H.coin_type,u==null?void 0:u.displayCoinAmountB);F=Q(F).plus(m).plus(y).toString(),B=Q(B).plus((u==null?void 0:u.displayCoinAmountA)||0).plus((u==null?void 0:u.displayCoinAmountB)||0).toString()}),Q(F).lte(0)&&Q(B).gt(0)?"$--":G(F,2)):"$0"},[f,W,s,g]),X=s!=null&&s.address?P:!1,{calculatePendingYield:K}=_s();x.useEffect(()=>{if(!(s!=null&&s.address))w(""),a([]);else if(!P&&(f==null?void 0:f.length)<=0&&(w("0"),a([])),(f==null?void 0:f.length)>0&&(s!=null&&s.address)&&!P&&!_&&!v){const{total:F,rewardAndFeeList:B}=K(f,M,N);w(F),a(B)}},[f,P,_,v,s,g]);const Z=s!=null&&s.address?!h:!1,{isApp:S}=le();return e.jsxs(bs,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"20px",children:[e.jsxs(j,{justifyContent:"space-between",w:{base:"100%",lg:"50%"},p:"0 20px",h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:vn,backgroundSize:"100% 100%",children:[e.jsx(p,{fontSize:"16px",color:"primary_gray",children:"Total Liquidity"}),e.jsx(Be,{isLoaded:!X,children:e.jsx(p,{fontSize:"20px",color:"primary",children:Y})})]}),e.jsxs(j,{justifyContent:"space-between",p:"0 20px",w:{base:"100%",lg:"50%"},h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:Cn,backgroundSize:"100% 100%",children:[e.jsx(p,{fontSize:"16px",color:"primary_gray",children:"Pending Yield"}),e.jsx(Be,{isLoaded:!Z,children:S?e.jsxs(j,{gap:"20px",children:[e.jsxs(b,{align:"flex-end",children:[e.jsx(cs,{yieldList:n}),e.jsx(L,{isLoading:t,disabled:Number(h)<=0||t,w:"100px",h:"24px",onClick:()=>i(!0),borderRadius:"8px",fontSize:"12px",fontWeight:"500",children:"Claim All"})]}),Number(h)>0&&e.jsx(ne,{xlinkHref:"#icon-icon_spread",onClick:()=>i(!0)})]}):e.jsxs(j,{onClick:()=>i(!0),children:[e.jsx(cs,{yieldList:n}),Number(h)>0&&e.jsx(ne,{xlinkHref:"#icon-icon_spread"}),e.jsx(L,{isLoading:t,disabled:Number(h)<=0||t,w:"112px",h:"32px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",children:"Claim All"})]})})]}),e.jsx(kn,{isOpen:r,claimLoading:t,onClose:()=>i(!1),changeClaimLoading:F=>c(F)})]})}function _n({poolInfo:s}){var g,h,w,_,v,f;const t=ze(),{posPoolsRelatedData:c,posApiPoolData:r}=ie(),i=(g=r[s==null?void 0:s.clmmPoolAddress])==null?void 0:g.haveFarming,n=(((w=c[(h=s==null?void 0:s.list[0])==null?void 0:h.posId])==null?void 0:w.displayFee)||"--")+"%",[a,o]=x.useState(!0);return e.jsxs(b,{w:"100%",bg:"card_bg",p:"12px",borderRadius:"16px",gap:{base:"12px",lg:"16px"},children:[e.jsxs(bs,{flexDir:{base:"column",lg:"row"},w:"100%",justify:"space-between",gap:{base:"12px",lg:"8px"},onClick:()=>o(!a),children:[e.jsx(Cs,{symbolFontWeight:"500",symbolFontSize:"16px",symbolEllipsesDecimals:10,nameEllipsesDecimals:20,poolInfo:{feeDisplay:n,...s},haveName:!0}),e.jsxs(j,{flexDirection:{base:"column",lg:"row"},gap:{base:"12px",lg:"8px"},children:[e.jsxs(j,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},flexWrap:{base:"wrap",lg:"nowrap"},children:[e.jsx(p,{color:"primary_gray",children:"Current Price"}),e.jsx(ln,{symbolEllipsesDecimals:10,posId:(_=s==null?void 0:s.list[0])==null?void 0:_.posId,displayTokenA:s==null?void 0:s.displayTokenA,displayTokenB:s==null?void 0:s.displayTokenB})]}),i&&e.jsxs(j,{bg:"primary_yellow_opacity.10",h:"32px",w:{base:"100%",lg:"unset"},justify:"center",p:"0px 12px",borderRadius:"8px",onClick:W=>{re(W),t("/farms")},border:"1px solid",borderColor:"transparent",sx:{_hover:{border:"1px solid",borderColor:"primary_yellow"}},children:[e.jsx(Le,{src:"/images/icon_farms.png",w:"20px",h:"20px"}),e.jsx(p,{color:"primary_yellow",mr:"-4px",children:"Farm"}),e.jsx(ne,{xlinkHref:"#icon-icon_list_token",w:"16px",h:"16px",svgFill:"primary_yellow",svgHover:"primary_yellow"})]}),e.jsxs(j,{w:{base:"100%",lg:"unset"},children:[e.jsx(L,{onClick:W=>{re(W),t(`/liquidity?poolAddress=${s==null?void 0:s.clmmPoolAddress}`)},borderRadius:"8px",w:{base:"50%",lg:"148px"},h:"32px",fontSize:"12px",fontWeight:"500",variant:"outline",children:"Create new position"}),e.jsx(D,{cursor:"pointer",w:{base:"50%",lg:"unset"},p:"4px 16px",h:"32px",borderRadius:"8px",bg:"none",_hover:{svg:{fill:"text_caption"}},children:e.jsxs(j,{justify:"center",w:"100%",h:"100%",gap:"4px",children:[e.jsxs(p,{fontSize:"12px",color:"primary",children:[(v=s==null?void 0:s.list)==null?void 0:v.length," ",((f=s==null?void 0:s.list)==null?void 0:f.length)>1?"Positions":"Position"]}),e.jsx(ne,{svgW:"14px",svgH:"14px",w:"14px",h:"14px",xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:a?"rotate(180deg)":"rotate(0deg)"})]})})]})]})]}),a&&e.jsx(b,{w:"100%",maxH:"680px",overflow:"auto",children:s==null?void 0:s.list.map((W,P)=>e.jsx(Js,{positionInfo:W},P))})]})}function Tn({isRefreshed:s,handleIsRefreshed:t}){var k;const{getStatistics:c}=vs(),{fetchTokenPrices:r}=Qe(),{currentAccount:i,onWalletModal:n}=Re(),{getPositionBaseList:a,getPosRelatedData:o}=ss(),{posRewardsData:g,posBaseList:h,setShowPosListLength:w,setMyPosYieldValue:_,posBaseListLoading:v,posBaseListGroupByPool:f}=ie(),[W,P]=x.useState([]),{getNotifiPositionTransfer:ce}=nn(),M=()=>{console.log("ðŸš€ ~ handleRefresh ~ handleRefresh:"),t(!1),_(""),c(),B(),i!=null&&i.address&&Z(i==null?void 0:i.address),setTimeout(()=>{t(!0)},1e3)};tn({onRpcChange:()=>{i!=null&&i.address&&Z(i==null?void 0:i.address)}});const[N,Y]=x.useState([]),X=u=>{console.log("ðŸš€ ~ onClickIncentiveTypes ~ tokenInfo:",u),Y(m=>[...m,u])},K=u=>{console.log("ðŸš€ ~ onClickIncentiveTypes ~ tokenInfo:",u),Y(m=>m.filter(y=>(y==null?void 0:y.coin_type)!==(u==null?void 0:u.coin_type)))};x.useEffect(()=>{_(""),i!=null&&i.address?Z(i==null?void 0:i.address):w("")},[i==null?void 0:i.address]);const Z=async u=>{await a(u)};x.useEffect(()=>{console.log("ðŸš€ ~ useEffect ~ posBaseList:",h),(h==null?void 0:h.length)>0&&o(h)},[h]);const{notifiClient:S,notifiSources:F}=Vs();x.useEffect(()=>{ce(h,S,F)},[h,S,F]),x.useEffect(()=>{var H,O;const u=(H=N[0])==null?void 0:H.coin_type,m=(O=N[1])==null?void 0:O.coin_type,y=Object.values(f).filter(E=>u&&m?E.tokenA.coin_type==u&&E.tokenB.coin_type==m||E.tokenA.coin_type==m&&E.tokenB.coin_type==u:u?E.tokenA.coin_type==u||E.tokenB.coin_type==u:E);console.log("ðŸš€ ~ useEffect ~ filterArr:",Object.values(f),y),P(y);const q=y.reduce((E,J)=>E+(J.list?J.list.length:0),0);i!=null&&i.address&&w(q.toString())},[N,f]);const B=()=>{const u=[];if((h==null?void 0:h.length)>0){h.map(y=>{u.push(y==null?void 0:y.coinTypeA),u.push(y==null?void 0:y.coinTypeB);const q=g[y==null?void 0:y.posId];q==null||q.map(H=>{Q(H==null?void 0:H.display_amount_owed).gt(0)&&u.push(H==null?void 0:H.coin_address)})});const m=Array.from(new Set(u));console.log("ðŸš€ ~ refreshTokenPrice ~ list:",h,u,m),r(m)}};return x.useEffect(()=>{B()},[h==null?void 0:h.length,g]),x.useEffect(()=>(c(),()=>{w("")}),[]),x.useEffect(()=>{v&&w("")},[v]),e.jsxs(b,{gap:"20px",w:"100%",children:[e.jsx(Ts,{isPools:!1,handleRefresh:M,selectCoinList:N,onClickSelectCoinList:X,onDeleteSelectCoinList:K}),e.jsx(oe,{h:"1px",w:"100%",bg:"border"}),e.jsx(An,{}),i!=null&&i.address?v?[{},{},{},{}].map((u,m)=>e.jsx($s,{},m)):((k=Object.values(W))==null?void 0:k.length)>0?Object.values(W).map((u,m)=>e.jsx(_n,{poolInfo:u},m)):e.jsx(Se,{type:"nodata",text:"No liquidity positions"}):e.jsx(Se,{type:"nowallet",onboard:()=>n(!0)})]})}function wt(){const{tab:s}=ks(),[t,c]=x.useState(!0),r=i=>{c(i)};return e.jsxs(b,{gap:"20px",w:"100%",pt:"40px",children:[e.jsx(Sn,{isRefreshed:t}),(s=="pools"||s===void 0)&&e.jsx(hn,{isRefreshed:t,handleIsRefreshed:r}),s=="positions"&&e.jsx(Tn,{isRefreshed:t,handleIsRefreshed:r})]})}export{wt as default};
