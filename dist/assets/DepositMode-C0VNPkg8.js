import{a as D,j as e,f as Q,V as g,T as b,v as X}from"./vendor-DsVemle5.js";import{v as j,j as I,i as tt}from"./VaultsAprBlock-D43jDeN7.js";import{u as et}from"./global-CXwwb5OW.js";import{n as ot,a as rt}from"./index-DIvDX_Yh.js";import{T as at}from"./TradeInputGroup-CW7tw1iX.js";import{V as it}from"./VaultsAddResult-OPT25i1L.js";import"./swapWidget-xhK2LVCn.js";import"./useWrapPoolData-D5Mp0awk.js";import"./useFavoritePool-BJLivj5m.js";import"./useGetPoolList-CqBccx4u.js";import"./useToken-YYj-bY2H.js";import"./useTokenBalance-Dt87YmUP.js";import"./useAccountBalance-CBRzIpkZ.js";import"./useTransaction-CjlygSkT.js";import"./useTrack-DRz2Qk0R.js";import"./useSigner-Brm2Toqu.js";import"./msafe-oYBkW7LJ.js";import"./index-D6pLRAs4.js";import"./v4-C6aID195.js";import"./useFindBestRouting-H-sky85D.js";import"./useSwapHelper-BOLbfc9y.js";import"./HTextLabelBox-C4-LQHuG.js";import"./_getAllKeysIn-BgIYPgua.js";import"./TotalAmount-D_bEbt0s.js";function Et(H){const{isUnstableVault:u,displayTokenA:r,displayTokenB:a,vaultId:f,isReverse:i,assetAction:s,isCheckedZAP:d,currentActionTab:st,autoRefresh:T,apiVaultInfo:t}=H,z=j.useVaultsAdd(u),E=j.useAddButtonStatus(u),L=j.useGetContractVaultInfo(u),{currentAccount:w,isOpenWalletModal:lt,onWalletModal:M}=ot(),{contractVault:l,lpTokenInfo:_,fetchClmmPoolFromContract:P,fetchVaultInfoFromContract:V,gtAumLimit:F,hardCapUSD:W,vaultTvl:G}=L(t==null?void 0:t.vaultsId,t==null?void 0:t.clmmPoolAddress,t==null?void 0:t.tokenA,t==null?void 0:t.tokenB,t==null?void 0:t.isReverse),{amountInputA:C,amountInputB:S,balanceInfoA:p,balanceInfoB:n,amountValueA:N,amountValueB:k,preCalculateLoading:c,fixAmountA:m,inputTotalValue:O,handleAmountInputChange:R,calculateResult:o,showOnlySideTips:x,doAddAction:Z,reCalculateResult:pt,overHardtop:v,zapNumError:A,calculateLpLoading:$,inputTotalValueError:y}=z(s,T,f,i?a:r,i?r:a,i,d,W,G);console.log("ðŸš€ðŸš€ðŸš€ ~ DepositMode.tsx:72 ~ VaultDepositMode ~ inputTotalValueError:",y),console.log("ðŸš€ðŸš€ðŸš€ ~ DepositMode.tsx:71 ~ VaultDepositMode ~ showOnlySideTips:",x);const{btnText:B,btnDisabled:U}=E(d,s,!0,C,S,i?!m:m,p==null?void 0:p.balanceFormat,n==null?void 0:n.balanceFormat,r,a,u,A,o,v,y),{vaultsSlippage:Y}=et();D.useEffect(()=>{t&&P(t.clmmPoolAddress,!0)},[t==null?void 0:t.clmmPoolAddress]),D.useEffect(()=>{f&&V(f)},[f]);const{amountLimit:q}=I(Number(Y),o==null?void 0:o.ft_amount,!1),{lpRate:J}=tt(o==null?void 0:o.ft_amount,u?l==null?void 0:l.lp_token_treasury:l==null?void 0:l.total_supply),{isApp:K}=rt();return e.jsxs(e.Fragment,{children:[e.jsx(Q,{w:"100%",position:"relative",children:e.jsx(at,{onClick:()=>{},from:{wrapStyle:{h:"108px"},balance:(p==null?void 0:p.balanceFormat)||"",value:C,amountValue:N,loading:(i?m:!m)&&c&&!d,hideSelf:s!=="both"&&s!==(r==null?void 0:r.coin_type),onChange:h=>{R(h,!i,!0,S)},selectable:!1,placeholder:"0.0",token:r,onFocusChange:h=>{}},to:{wrapStyle:{h:"108px"},balance:(n==null?void 0:n.balanceFormat)||"",value:S,amountValue:k,loading:(i?!m:m)&&c&&!d,onFocusChange:h=>{},onChange:h=>{R(h,i,!0,C)},selectable:!1,hideSelf:s!=="both"&&s!==(a==null?void 0:a.coin_type),placeholder:"0.0",token:a},iconParams:{xlinkHref:"#icon-icon_add",svgFill:"text_caption",iconCursor:"default"},iconHover:!1})}),F?e.jsx(g,{w:"100%",alignItems:"start",children:e.jsx(b,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The vault has reached its current capacity. New deposits are not accepted at this time."})}):v?e.jsx(g,{w:"100%",alignItems:"start",gap:"20px",children:e.jsx(b,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"Your deposit has gone over the vault capacity. Try reducing your deposit amount."})}):A?e.jsx(g,{w:"100%",pb:o||x?"0px":"20px",alignItems:"start",gap:"20px",children:e.jsx(b,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"Single-asset deposit can't be higher than $10,000 at a time."})}):null,e.jsx(X,{width:"100%",height:"52px",borderRadius:"12px",marginBottom:"8px",fontWeight:"500",fontSize:A?K?"12px":"15px":"16px",isLoading:c,disabled:U||c||F||v,onClick:()=>w!=null&&w.address?Z():M(!0),children:B||(d?"Zap In":"Deposit")}),y&&e.jsx(g,{w:"100%",alignItems:"start",children:e.jsx(b,{color:"primary_red",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_red_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The input is too small. Zap mode is not available."})}),(o||x)&&!y&&e.jsxs(g,{w:"100%",pb:"20px",alignItems:"start",gap:"0",children:[s!=="both"&&x&&e.jsx(b,{color:"text_paragraph",fontSize:"12px",lineHeight:"1.8",pb:o?"20px":"0",children:x}),o&&e.jsx(it,{amountLimit:q,inputTotalValue:O,preCalculateLoading:c,calculateLpLoading:$,lpRate:J,lpDecimals:_==null?void 0:_.decimals,poolName:`${r==null?void 0:r.symbol} - ${a==null?void 0:a.symbol}`,labelColor:"primary_gray"})]})]})}export{Et as default};
//# sourceMappingURL=DepositMode-C0VNPkg8.js.map
