{"version":3,"file":"CoinPairInfo-CQyXMF--.js","sources":["../../src/components/common/CoinPairInfo.tsx"],"sourcesContent":["import { AddressCopyLink, Block, CetusTooltip } from '@cetus/design'\nimport useExplorer from '@cetus/hooks/src/useExplorer'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { CoinPairImage, SingleCoinImage } from '@cetus/ui-kit'\nimport { cancelBubble, textEllipses } from '@cetus/utils'\nimport { extractStructTagFromType } from '@cetusprotocol/common-sdk'\nimport { Box, Center, HStack, PopoverProps, Text, VStack } from '@chakra-ui/react'\nimport PoweredByHaedal from '../vaults-v2/common/PoweredByHaedal'\n\ninterface CoinPairInfoProps extends PoolShowInfoProps {\n  placement?: PopoverProps['placement']\n}\n\nconst CoinPairInfo = ({\n  poolInfo,\n  haveName = false,\n  placement = 'top-start',\n  symbolEllipsesDecimals = 0,\n  nameEllipsesDecimals = 0,\n  symbolFontWeight = '500',\n  ...rest\n}: CoinPairInfoProps) => {\n  const { isApp } = useWindowWidth()\n  return (\n    <HStack\n      p=\"12px 0\"\n      onClick={e => {\n        isApp ? cancelBubble(e) : ''\n      }}\n    >\n      <CetusTooltip placement={placement} tooltip={<TooltipInfo poolInfo={poolInfo} />}>\n        <Center>\n          <PoolShowInfo\n            symbolFontWeight={symbolFontWeight}\n            poolInfo={poolInfo}\n            symbolEllipsesDecimals={symbolEllipsesDecimals}\n            haveName={haveName}\n            nameEllipsesDecimals={nameEllipsesDecimals}\n            {...rest}\n          />\n        </Center>\n      </CetusTooltip>\n    </HStack>\n  )\n}\nexport default CoinPairInfo\n\ninterface PoolShowInfoProps {\n  poolInfo: any\n  haveName?: boolean\n  fontSize?: string\n  symbolFontSize?: string\n  symbolFontWeight?: string\n  symbolEllipsesDecimals?: number\n  nameEllipsesDecimals?: number\n  isShowPowered?: boolean\n}\n\nexport const PoolShowInfo = ({\n  poolInfo,\n  haveName = false,\n  fontSize = '12px',\n  symbolFontSize = '14px',\n  symbolFontWeight = '500',\n  // name和symbol超出多少位数后展示...\n  symbolEllipsesDecimals = 0,\n  nameEllipsesDecimals = 0,\n  isShowPowered = false\n}: PoolShowInfoProps) => {\n  return (\n    <HStack cursor=\"pointer\">\n      <CoinPairImage\n        coinACoinType={poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address}\n        coinBCoinType={poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address}\n        coinAIconUrl={poolInfo?.displayTokenA?.logo_url}\n        coinBIconUrl={poolInfo?.displayTokenB?.logo_url}\n      />\n      <VStack align=\"flex-start\" gap=\"4px\">\n        <HStack>\n          <HStack gap=\"0\">\n            <Text color=\"text_caption\" fontSize={symbolFontSize} fontWeight={symbolFontWeight}>\n              {textEllipses(poolInfo?.displayTokenA?.symbol, symbolEllipsesDecimals)}\n            </Text>\n            <Text color=\"text_caption\">&nbsp;-&nbsp;</Text>\n            <Text color=\"text_caption\" fontSize={symbolFontSize} fontWeight={symbolFontWeight}>\n              {textEllipses(poolInfo?.displayTokenB?.symbol, symbolEllipsesDecimals)}\n            </Text>\n          </HStack>\n          <Block w=\"unset\" p=\"2px 8px\" borderRadius=\"12px\">\n            <Text fontSize={fontSize} color=\"text_highlight\" lineHeight=\"1\">\n              {poolInfo?.feeDisplay || '--'}\n            </Text>\n          </Block>\n        </HStack>\n        {poolInfo?.category == 'haedal' && isShowPowered && <PoweredByHaedal category=\"haedal\" />}\n        {haveName && (\n          <HStack gap=\"0\">\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              {textEllipses(poolInfo?.displayTokenA?.name, nameEllipsesDecimals)}\n            </Text>\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              &nbsp;-&nbsp;\n            </Text>\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              {textEllipses(poolInfo?.displayTokenB?.name, nameEllipsesDecimals)}\n            </Text>\n          </HStack>\n        )}\n      </VStack>\n    </HStack>\n  )\n}\n\nconst TooltipInfo = ({ poolInfo }: { poolInfo: any }) => {\n  const { getExplorerUrl } = useExplorer()\n  const { isApp } = useWindowWidth()\n  return (\n    <VStack align=\"flex-start\">\n      <HStack w=\"100%\" justify=\"space-between\">\n        <HStack>\n          {/* <Image src={pool_img} w=\"20px\" h=\"20px\" /> */}\n          <Text fontSize=\"12px\" color=\"text_caption\">\n            Pool\n          </Text>\n        </HStack>\n        <AddressCopyLink\n          address={poolInfo?.poolAddress}\n          color=\"text_caption\"\n          showLink={isApp ? true : false}\n          onClickLink={() => {\n            window.open(getExplorerUrl(poolInfo?.poolAddress, 'poolAddress'), '_blank')\n          }}\n        />\n      </HStack>\n      <Box h=\"1px\" w=\" 100%\" bg=\"border\" />\n      <HStack w=\"100%\" justify=\"space-between\">\n        <HStack>\n          <SingleCoinImage\n            imageUrl={poolInfo?.displayTokenA?.logo_url}\n            w=\"20px\"\n            h=\"20px\"\n            coinType={poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address}\n            showTagWidth=\"10px\"\n            showTagHeight=\"10px\"\n          />\n\n          <Text fontSize=\"12px\" color=\"text_caption\">\n            {poolInfo?.displayTokenA.symbol}\n          </Text>\n        </HStack>\n        <AddressCopyLink\n          address={extractStructTagFromType(poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address).full_address}\n          showLink={isApp ? true : false}\n          onClickLink={() => {\n            window.open(getExplorerUrl(poolInfo?.displayTokenA?.coin_type || poolInfo?.displayTokenA?.address, 'coin'))\n          }}\n        />\n      </HStack>\n      <HStack w=\"100%\" justify=\"space-between\">\n        <HStack>\n          <SingleCoinImage\n            imageUrl={poolInfo?.displayTokenB?.logo_url}\n            w=\"20px\"\n            h=\"20px\"\n            coinType={poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address}\n            showTagWidth=\"10px\"\n            showTagHeight=\"10px\"\n          />\n          <Text fontSize=\"12px\" color=\"text_caption\">\n            {poolInfo?.displayTokenB.symbol}\n          </Text>\n        </HStack>\n        <AddressCopyLink\n          address={extractStructTagFromType(poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address).full_address}\n          showLink={isApp ? true : false}\n          onClickLink={() => {\n            window.open(getExplorerUrl(poolInfo?.displayTokenB?.coin_type || poolInfo?.displayTokenB?.address, 'coin'))\n          }}\n        />\n      </HStack>\n    </VStack>\n  )\n}\n"],"names":["CoinPairInfo","poolInfo","haveName","placement","symbolEllipsesDecimals","nameEllipsesDecimals","symbolFontWeight","rest","isApp","useWindowWidth","jsx","HStack","e","cancelBubble","CetusTooltip","TooltipInfo","Center","PoolShowInfo","fontSize","symbolFontSize","isShowPowered","jsxs","CoinPairImage","_a","_b","_c","_d","_e","_f","VStack","Text","textEllipses","_g","_h","Block","PoweredByHaedal","_i","_j","getExplorerUrl","useExplorer","AddressCopyLink","Box","SingleCoinImage","extractStructTagFromType"],"mappings":"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"}