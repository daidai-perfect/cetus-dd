import{l as _,b9 as s,ba as T,bb as f,bc as S,bd as m,be as p,u as w,H as C,S as V}from"./index-f9FTB66s.js";import"./vendor-BowHGuwE.js";import{u as k}from"./useGetPoolList-BNbpBKlG.js";import{u as y}from"./useWrapPoolData-CC4DzncA.js";const A=(t,I)=>({poolListLength:"",setPoolListLength:o=>{t(()=>({poolListLength:o}))},poolRefreshStatus:"pending",setPoolRefreshStatus:o=>{t(()=>({poolRefreshStatus:o}))},isWatchList:void 0,setIsWatchList:o=>{t(()=>({isWatchList:o})),s.setItem(p,o)},isAllPools:!1,setIsAllPools:o=>{t(()=>({isAllPools:o})),s.setItem(m,o)},isIncentivizedOnly:!1,setIsIncentivizedOnly:o=>{t(()=>({isIncentivizedOnly:o})),s.setItem(S,o)},poolFavoriteIds:[],setPoolFavoriteId:o=>{const r=[...I().poolFavoriteIds,o];t(()=>({poolFavoriteIds:r})),s.setItem(f,r)},setPoolFavoriteIds:o=>{t(()=>({poolFavoriteIds:o})),s.setItem(f,o)},poolFavoriteIdsChange:!1,setPoolFavoriteIdsChange:o=>{t(()=>({poolFavoriteIdsChange:o}))},selectCoinList:[],setSelectCoinList:o=>{t(()=>({selectCoinList:o})),s.setItem(T,o)}}),l=_(A);s.getItem(f).then(t=>{console.log("ðŸš€ ~ file: store/pool/index.ts.ts ~ savedPoolFavoriteList:",t),(t==null?void 0:t.length)>0&&l.getState().setPoolFavoriteIds(t)});s.getItem(p).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isWatchList:",t),typeof t=="boolean"?l.getState().setIsWatchList(t):l.getState().setIsWatchList(!1)});s.getItem(m).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isAllPools:",t),typeof t=="boolean"&&l.getState().setIsAllPools(t)});s.getItem(S).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isIncentivizedOnly:",t),typeof t=="boolean"&&l.getState().setIsIncentivizedOnly(t)});s.getItem(T).then(t=>{console.log("ðŸš€ ~ VariousTokensTable poolSelectCoinList:",t),t&&t.length>0&&l.getState().setSelectCoinList(t)});function z(){const{fetchByApi:t}=w(),{getLocalJsonPoolList:I,wrapGetPoolParams:o}=k(),{wrapPoolDataV2:r}=y(),{poolFavoriteIds:i,setPoolFavoriteId:F,setPoolFavoriteIds:v,setPoolFavoriteIdsChange:h}=l(),{successTsToast:u,failedTsToast:b}=C();return{addFavorites:a=>{const n={linkLabel:"",getShowInfo:()=>({toastTitleText:i.length>=100?"Watchlist exceeds the maximum limit":"Added to Watchlist"})};i.length>=100?b(n):(F(a),h(!0),u(n))},removeFavorites:a=>{const n=i==null?void 0:i.filter(c=>c!==a);v(n),h(!0),u({linkLabel:"",getShowInfo:()=>({toastTitleText:"Removed from Watchlist"})})},getFavoritePoolList:async a=>{var d,L,P;const{needLocalData:n=!0}=a,g=(a==null?void 0:a.pools)||[],c=o(a);if(g.length>0)try{const e=await t(V,"POST",c);if(console.log("ðŸš€ðŸš€ðŸš€ ~ useFavoritePool.ts:61 ~ getFavoritePoolList ~ res:",e),e!=null&&e.data)return console.log("ðŸš€ ~ getFavoritePoolList ~ res?.data:",e==null?void 0:e.data),{list:(L=(d=e==null?void 0:e.data)==null?void 0:d.list)==null?void 0:L.map(O=>r(O)),total:(P=e==null?void 0:e.data)==null?void 0:P.total}}catch(e){if(console.log("ðŸš€ ~ getFavoritePoolList ~ error:",e),n)return await I(a)}return{list:[],total:0}}}}export{z as a,l as u};
//# sourceMappingURL=useFavoritePool-CT_piD4Z.js.map
